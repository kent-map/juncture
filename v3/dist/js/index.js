var $L=Object.defineProperty;var FL=(F,W,q)=>W in F?$L(F,W,{enumerable:!0,configurable:!0,writable:!0,value:q}):F[W]=q;var Wv=(F,W,q)=>(FL(F,typeof W!="symbol"?W+"":W,q),q),zL=(F,W,q)=>{if(!W.has(F))throw TypeError("Cannot "+q)};var oM=(F,W,q)=>{if(W.has(F))throw TypeError("Cannot add the same private member more than once");W instanceof WeakSet?W.add(F):W.set(F,q)};var LA=(F,W,q)=>(zL(F,W,"access private method"),q);(function(){const W=document.createElement("link").relList;if(W&&W.supports&&W.supports("modulepreload"))return;for(const tt of document.querySelectorAll('link[rel="modulepreload"]'))X(tt);new MutationObserver(tt=>{for(const ot of tt)if(ot.type==="childList")for(const at of ot.addedNodes)at.tagName==="LINK"&&at.rel==="modulepreload"&&X(at)}).observe(document,{childList:!0,subtree:!0});function q(tt){const ot={};return tt.integrity&&(ot.integrity=tt.integrity),tt.referrerPolicy&&(ot.referrerPolicy=tt.referrerPolicy),tt.crossOrigin==="use-credentials"?ot.credentials="include":tt.crossOrigin==="anonymous"?ot.credentials="omit":ot.credentials="same-origin",ot}function X(tt){if(tt.ep)return;tt.ep=!0;const ot=q(tt);fetch(tt.href,ot)}})();const scriptRel="modulepreload",assetsURL=function(F){return"/mdpress/mdpress/dist/"+F},seen={},__vitePreload=function(W,q,X){if(!q||q.length===0)return W();const tt=document.getElementsByTagName("link");return Promise.all(q.map(ot=>{if(ot=assetsURL(ot),ot in seen)return;seen[ot]=!0;const at=ot.endsWith(".css"),ut=at?'[rel="stylesheet"]':"";if(!!X)for(let mo=tt.length-1;mo>=0;mo--){const yo=tt[mo];if(yo.href===ot&&(!at||yo.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${ot}"]${ut}`))return;const uo=document.createElement("link");if(uo.rel=at?"stylesheet":scriptRel,at||(uo.as="script",uo.crossOrigin=""),uo.href=ot,document.head.appendChild(uo),at)return new Promise((mo,yo)=>{uo.addEventListener("load",mo),uo.addEventListener("error",()=>yo(new Error(`Unable to preload CSS for ${ot}`)))})})).then(()=>W()).catch(ot=>{const at=new Event("vite:preloadError",{cancelable:!0});if(at.payload=ot,window.dispatchEvent(at),!at.defaultPrevented)throw ot})};function makeMap(F,W){const q=Object.create(null),X=F.split(",");for(let tt=0;tt<X.length;tt++)q[X[tt]]=!0;return W?tt=>!!q[tt.toLowerCase()]:tt=>!!q[tt]}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=F=>onRE.test(F),isModelListener=F=>F.startsWith("onUpdate:"),extend$3=Object.assign,remove$1=(F,W)=>{const q=F.indexOf(W);q>-1&&F.splice(q,1)},hasOwnProperty$c=Object.prototype.hasOwnProperty,hasOwn=(F,W)=>hasOwnProperty$c.call(F,W),isArray$2=Array.isArray,isMap=F=>toTypeString(F)==="[object Map]",isSet=F=>toTypeString(F)==="[object Set]",isFunction$1=F=>typeof F=="function",isString=F=>typeof F=="string",isSymbol=F=>typeof F=="symbol",isObject$3=F=>F!==null&&typeof F=="object",isPromise=F=>isObject$3(F)&&isFunction$1(F.then)&&isFunction$1(F.catch),objectToString$1=Object.prototype.toString,toTypeString=F=>objectToString$1.call(F),toRawType=F=>toTypeString(F).slice(8,-1),isPlainObject$1=F=>toTypeString(F)==="[object Object]",isIntegerKey=F=>isString(F)&&F!=="NaN"&&F[0]!=="-"&&""+parseInt(F,10)===F,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=F=>{const W=Object.create(null);return q=>W[q]||(W[q]=F(q))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(F=>F.replace(camelizeRE,(W,q)=>q?q.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(F=>F.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(F=>F.charAt(0).toUpperCase()+F.slice(1)),toHandlerKey=cacheStringFunction(F=>F?`on${capitalize(F)}`:""),hasChanged=(F,W)=>!Object.is(F,W),invokeArrayFns=(F,W)=>{for(let q=0;q<F.length;q++)F[q](W)},def=(F,W,q)=>{Object.defineProperty(F,W,{configurable:!0,enumerable:!1,value:q})},looseToNumber=F=>{const W=parseFloat(F);return isNaN(W)?F:W},toNumber=F=>{const W=isString(F)?Number(F):NaN;return isNaN(W)?F:W};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(F){if(isArray$2(F)){const W={};for(let q=0;q<F.length;q++){const X=F[q],tt=isString(X)?parseStringStyle(X):normalizeStyle(X);if(tt)for(const ot in tt)W[ot]=tt[ot]}return W}else{if(isString(F))return F;if(isObject$3(F))return F}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(F){const W={};return F.replace(styleCommentRE,"").split(listDelimiterRE).forEach(q=>{if(q){const X=q.split(propertyDelimiterRE);X.length>1&&(W[X[0].trim()]=X[1].trim())}}),W}function normalizeClass(F){let W="";if(isString(F))W=F;else if(isArray$2(F))for(let q=0;q<F.length;q++){const X=normalizeClass(F[q]);X&&(W+=X+" ")}else if(isObject$3(F))for(const q in F)F[q]&&(W+=q+" ");return W.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(F){return!!F||F===""}const toDisplayString=F=>isString(F)?F:F==null?"":isArray$2(F)||isObject$3(F)&&(F.toString===objectToString$1||!isFunction$1(F.toString))?JSON.stringify(F,replacer,2):String(F),replacer=(F,W)=>W&&W.__v_isRef?replacer(F,W.value):isMap(W)?{[`Map(${W.size})`]:[...W.entries()].reduce((q,[X,tt])=>(q[`${X} =>`]=tt,q),{})}:isSet(W)?{[`Set(${W.size})`]:[...W.values()]}:isObject$3(W)&&!isArray$2(W)&&!isPlainObject$1(W)?String(W):W;let activeEffectScope;class EffectScope{constructor(W=!1){this.detached=W,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!W&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(W){if(this._active){const q=activeEffectScope;try{return activeEffectScope=this,W()}finally{activeEffectScope=q}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(W){if(this._active){let q,X;for(q=0,X=this.effects.length;q<X;q++)this.effects[q].stop();for(q=0,X=this.cleanups.length;q<X;q++)this.cleanups[q]();if(this.scopes)for(q=0,X=this.scopes.length;q<X;q++)this.scopes[q].stop(!0);if(!this.detached&&this.parent&&!W){const tt=this.parent.scopes.pop();tt&&tt!==this&&(this.parent.scopes[this.index]=tt,tt.index=this.index)}this.parent=void 0,this._active=!1}}}function recordEffectScope(F,W=activeEffectScope){W&&W.active&&W.effects.push(F)}function getCurrentScope(){return activeEffectScope}const createDep=F=>{const W=new Set(F);return W.w=0,W.n=0,W},wasTracked=F=>(F.w&trackOpBit)>0,newTracked=F=>(F.n&trackOpBit)>0,initDepMarkers=({deps:F})=>{if(F.length)for(let W=0;W<F.length;W++)F[W].w|=trackOpBit},finalizeDepMarkers=F=>{const{deps:W}=F;if(W.length){let q=0;for(let X=0;X<W.length;X++){const tt=W[X];wasTracked(tt)&&!newTracked(tt)?tt.delete(F):W[q++]=tt,tt.w&=~trackOpBit,tt.n&=~trackOpBit}W.length=q}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(W,q=null,X){this.fn=W,this.scheduler=q,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,X)}run(){if(!this.active)return this.fn();let W=activeEffect,q=shouldTrack;for(;W;){if(W===this)return;W=W.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=q,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(F){const{deps:W}=F;if(W.length){for(let q=0;q<W.length;q++)W[q].delete(F);W.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const F=trackStack.pop();shouldTrack=F===void 0?!0:F}function track(F,W,q){if(shouldTrack&&activeEffect){let X=targetMap.get(F);X||targetMap.set(F,X=new Map);let tt=X.get(q);tt||X.set(q,tt=createDep()),trackEffects(tt)}}function trackEffects(F,W){let q=!1;effectTrackDepth<=maxMarkerBits?newTracked(F)||(F.n|=trackOpBit,q=!wasTracked(F)):q=!F.has(activeEffect),q&&(F.add(activeEffect),activeEffect.deps.push(F))}function trigger(F,W,q,X,tt,ot){const at=targetMap.get(F);if(!at)return;let ut=[];if(W==="clear")ut=[...at.values()];else if(q==="length"&&isArray$2(F)){const wt=Number(X);at.forEach((uo,mo)=>{(mo==="length"||mo>=wt)&&ut.push(uo)})}else switch(q!==void 0&&ut.push(at.get(q)),W){case"add":isArray$2(F)?isIntegerKey(q)&&ut.push(at.get("length")):(ut.push(at.get(ITERATE_KEY)),isMap(F)&&ut.push(at.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$2(F)||(ut.push(at.get(ITERATE_KEY)),isMap(F)&&ut.push(at.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(F)&&ut.push(at.get(ITERATE_KEY));break}if(ut.length===1)ut[0]&&triggerEffects(ut[0]);else{const wt=[];for(const uo of ut)uo&&wt.push(...uo);triggerEffects(createDep(wt))}}function triggerEffects(F,W){const q=isArray$2(F)?F:[...F];for(const X of q)X.computed&&triggerEffect(X);for(const X of q)X.computed||triggerEffect(X)}function triggerEffect(F,W){(F!==activeEffect||F.allowRecurse)&&(F.scheduler?F.scheduler():F.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(F=>F!=="arguments"&&F!=="caller").map(F=>Symbol[F]).filter(isSymbol)),get$1$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const F={};return["includes","indexOf","lastIndexOf"].forEach(W=>{F[W]=function(...q){const X=toRaw(this);for(let ot=0,at=this.length;ot<at;ot++)track(X,"get",ot+"");const tt=X[W](...q);return tt===-1||tt===!1?X[W](...q.map(toRaw)):tt}}),["push","pop","shift","unshift","splice"].forEach(W=>{F[W]=function(...q){pauseTracking();const X=toRaw(this)[W].apply(this,q);return resetTracking(),X}}),F}function hasOwnProperty$b(F){const W=toRaw(this);return track(W,"has",F),W.hasOwnProperty(F)}function createGetter(F=!1,W=!1){return function(X,tt,ot){if(tt==="__v_isReactive")return!F;if(tt==="__v_isReadonly")return F;if(tt==="__v_isShallow")return W;if(tt==="__v_raw"&&ot===(F?W?shallowReadonlyMap:readonlyMap:W?shallowReactiveMap:reactiveMap).get(X))return X;const at=isArray$2(X);if(!F){if(at&&hasOwn(arrayInstrumentations,tt))return Reflect.get(arrayInstrumentations,tt,ot);if(tt==="hasOwnProperty")return hasOwnProperty$b}const ut=Reflect.get(X,tt,ot);return(isSymbol(tt)?builtInSymbols.has(tt):isNonTrackableKeys(tt))||(F||track(X,"get",tt),W)?ut:isRef(ut)?at&&isIntegerKey(tt)?ut:ut.value:isObject$3(ut)?F?readonly(ut):reactive(ut):ut}}const set$1$1=createSetter(),shallowSet=createSetter(!0);function createSetter(F=!1){return function(q,X,tt,ot){let at=q[X];if(isReadonly(at)&&isRef(at)&&!isRef(tt))return!1;if(!F&&(!isShallow(tt)&&!isReadonly(tt)&&(at=toRaw(at),tt=toRaw(tt)),!isArray$2(q)&&isRef(at)&&!isRef(tt)))return at.value=tt,!0;const ut=isArray$2(q)&&isIntegerKey(X)?Number(X)<q.length:hasOwn(q,X),wt=Reflect.set(q,X,tt,ot);return q===toRaw(ot)&&(ut?hasChanged(tt,at)&&trigger(q,"set",X,tt):trigger(q,"add",X,tt)),wt}}function deleteProperty(F,W){const q=hasOwn(F,W);F[W];const X=Reflect.deleteProperty(F,W);return X&&q&&trigger(F,"delete",W,void 0),X}function has$1(F,W){const q=Reflect.has(F,W);return(!isSymbol(W)||!builtInSymbols.has(W))&&track(F,"has",W),q}function ownKeys(F){return track(F,"iterate",isArray$2(F)?"length":ITERATE_KEY),Reflect.ownKeys(F)}const mutableHandlers={get:get$1$1,set:set$1$1,deleteProperty,has:has$1,ownKeys},readonlyHandlers={get:readonlyGet,set(F,W){return!0},deleteProperty(F,W){return!0}},shallowReactiveHandlers=extend$3({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=F=>F,getProto=F=>Reflect.getPrototypeOf(F);function get$3(F,W,q=!1,X=!1){F=F.__v_raw;const tt=toRaw(F),ot=toRaw(W);q||(W!==ot&&track(tt,"get",W),track(tt,"get",ot));const{has:at}=getProto(tt),ut=X?toShallow:q?toReadonly:toReactive;if(at.call(tt,W))return ut(F.get(W));if(at.call(tt,ot))return ut(F.get(ot));F!==tt&&F.get(W)}function has(F,W=!1){const q=this.__v_raw,X=toRaw(q),tt=toRaw(F);return W||(F!==tt&&track(X,"has",F),track(X,"has",tt)),F===tt?q.has(F):q.has(F)||q.has(tt)}function size$2(F,W=!1){return F=F.__v_raw,!W&&track(toRaw(F),"iterate",ITERATE_KEY),Reflect.get(F,"size",F)}function add(F){F=toRaw(F);const W=toRaw(this);return getProto(W).has.call(W,F)||(W.add(F),trigger(W,"add",F,F)),this}function set$4(F,W){W=toRaw(W);const q=toRaw(this),{has:X,get:tt}=getProto(q);let ot=X.call(q,F);ot||(F=toRaw(F),ot=X.call(q,F));const at=tt.call(q,F);return q.set(F,W),ot?hasChanged(W,at)&&trigger(q,"set",F,W):trigger(q,"add",F,W),this}function deleteEntry(F){const W=toRaw(this),{has:q,get:X}=getProto(W);let tt=q.call(W,F);tt||(F=toRaw(F),tt=q.call(W,F)),X&&X.call(W,F);const ot=W.delete(F);return tt&&trigger(W,"delete",F,void 0),ot}function clear$1(){const F=toRaw(this),W=F.size!==0,q=F.clear();return W&&trigger(F,"clear",void 0,void 0),q}function createForEach(F,W){return function(X,tt){const ot=this,at=ot.__v_raw,ut=toRaw(at),wt=W?toShallow:F?toReadonly:toReactive;return!F&&track(ut,"iterate",ITERATE_KEY),at.forEach((uo,mo)=>X.call(tt,wt(uo),wt(mo),ot))}}function createIterableMethod(F,W,q){return function(...X){const tt=this.__v_raw,ot=toRaw(tt),at=isMap(ot),ut=F==="entries"||F===Symbol.iterator&&at,wt=F==="keys"&&at,uo=tt[F](...X),mo=q?toShallow:W?toReadonly:toReactive;return!W&&track(ot,"iterate",wt?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:yo,done:lf}=uo.next();return lf?{value:yo,done:lf}:{value:ut?[mo(yo[0]),mo(yo[1])]:mo(yo),done:lf}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(F){return function(...W){return F==="delete"?!1:this}}function createInstrumentations(){const F={get(ot){return get$3(this,ot)},get size(){return size$2(this)},has,add,set:set$4,delete:deleteEntry,clear:clear$1,forEach:createForEach(!1,!1)},W={get(ot){return get$3(this,ot,!1,!0)},get size(){return size$2(this)},has,add,set:set$4,delete:deleteEntry,clear:clear$1,forEach:createForEach(!1,!0)},q={get(ot){return get$3(this,ot,!0)},get size(){return size$2(this,!0)},has(ot){return has.call(this,ot,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},X={get(ot){return get$3(this,ot,!0,!0)},get size(){return size$2(this,!0)},has(ot){return has.call(this,ot,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(ot=>{F[ot]=createIterableMethod(ot,!1,!1),q[ot]=createIterableMethod(ot,!0,!1),W[ot]=createIterableMethod(ot,!1,!0),X[ot]=createIterableMethod(ot,!0,!0)}),[F,q,W,X]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(F,W){const q=W?F?shallowReadonlyInstrumentations:shallowInstrumentations:F?readonlyInstrumentations:mutableInstrumentations;return(X,tt,ot)=>tt==="__v_isReactive"?!F:tt==="__v_isReadonly"?F:tt==="__v_raw"?X:Reflect.get(hasOwn(q,tt)&&tt in X?q:X,tt,ot)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(F){switch(F){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(F){return F.__v_skip||!Object.isExtensible(F)?0:targetTypeMap(toRawType(F))}function reactive(F){return isReadonly(F)?F:createReactiveObject(F,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(F){return createReactiveObject(F,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(F){return createReactiveObject(F,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(F,W,q,X,tt){if(!isObject$3(F)||F.__v_raw&&!(W&&F.__v_isReactive))return F;const ot=tt.get(F);if(ot)return ot;const at=getTargetType(F);if(at===0)return F;const ut=new Proxy(F,at===2?X:q);return tt.set(F,ut),ut}function isReactive(F){return isReadonly(F)?isReactive(F.__v_raw):!!(F&&F.__v_isReactive)}function isReadonly(F){return!!(F&&F.__v_isReadonly)}function isShallow(F){return!!(F&&F.__v_isShallow)}function isProxy(F){return isReactive(F)||isReadonly(F)}function toRaw(F){const W=F&&F.__v_raw;return W?toRaw(W):F}function markRaw(F){return def(F,"__v_skip",!0),F}const toReactive=F=>isObject$3(F)?reactive(F):F,toReadonly=F=>isObject$3(F)?readonly(F):F;function trackRefValue(F){shouldTrack&&activeEffect&&(F=toRaw(F),trackEffects(F.dep||(F.dep=createDep())))}function triggerRefValue(F,W){F=toRaw(F);const q=F.dep;q&&triggerEffects(q)}function isRef(F){return!!(F&&F.__v_isRef===!0)}function ref(F){return createRef(F,!1)}function createRef(F,W){return isRef(F)?F:new RefImpl(F,W)}class RefImpl{constructor(W,q){this.__v_isShallow=q,this.dep=void 0,this.__v_isRef=!0,this._rawValue=q?W:toRaw(W),this._value=q?W:toReactive(W)}get value(){return trackRefValue(this),this._value}set value(W){const q=this.__v_isShallow||isShallow(W)||isReadonly(W);W=q?W:toRaw(W),hasChanged(W,this._rawValue)&&(this._rawValue=W,this._value=q?W:toReactive(W),triggerRefValue(this))}}function unref(F){return isRef(F)?F.value:F}const shallowUnwrapHandlers={get:(F,W,q)=>unref(Reflect.get(F,W,q)),set:(F,W,q,X)=>{const tt=F[W];return isRef(tt)&&!isRef(q)?(tt.value=q,!0):Reflect.set(F,W,q,X)}};function proxyRefs(F){return isReactive(F)?F:new Proxy(F,shallowUnwrapHandlers)}class ComputedRefImpl{constructor(W,q,X,tt){this._setter=q,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ReactiveEffect(W,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!tt,this.__v_isReadonly=X}get value(){const W=toRaw(this);return trackRefValue(W),(W._dirty||!W._cacheable)&&(W._dirty=!1,W._value=W.effect.run()),W._value}set value(W){this._setter(W)}}function computed$1(F,W,q=!1){let X,tt;const ot=isFunction$1(F);return ot?(X=F,tt=NOOP):(X=F.get,tt=F.set),new ComputedRefImpl(X,tt,ot||!tt,q)}function warn(F,...W){}function callWithErrorHandling(F,W,q,X){let tt;try{tt=X?F(...X):F()}catch(ot){handleError$1(ot,W,q)}return tt}function callWithAsyncErrorHandling(F,W,q,X){if(isFunction$1(F)){const ot=callWithErrorHandling(F,W,q,X);return ot&&isPromise(ot)&&ot.catch(at=>{handleError$1(at,W,q)}),ot}const tt=[];for(let ot=0;ot<F.length;ot++)tt.push(callWithAsyncErrorHandling(F[ot],W,q,X));return tt}function handleError$1(F,W,q,X=!0){const tt=W?W.vnode:null;if(W){let ot=W.parent;const at=W.proxy,ut=q;for(;ot;){const uo=ot.ec;if(uo){for(let mo=0;mo<uo.length;mo++)if(uo[mo](F,at,ut)===!1)return}ot=ot.parent}const wt=W.appContext.config.errorHandler;if(wt){callWithErrorHandling(wt,null,10,[F,at,ut]);return}}logError(F,q,tt,X)}function logError(F,W,q,X=!0){console.error(F)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(F){const W=currentFlushPromise||resolvedPromise;return F?W.then(this?F.bind(this):F):W}function findInsertionIndex(F){let W=flushIndex+1,q=queue.length;for(;W<q;){const X=W+q>>>1;getId(queue[X])<F?W=X+1:q=X}return W}function queueJob(F){(!queue.length||!queue.includes(F,isFlushing&&F.allowRecurse?flushIndex+1:flushIndex))&&(F.id==null?queue.push(F):queue.splice(findInsertionIndex(F.id),0,F),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(F){const W=queue.indexOf(F);W>flushIndex&&queue.splice(W,1)}function queuePostFlushCb(F){isArray$2(F)?pendingPostFlushCbs.push(...F):(!activePostFlushCbs||!activePostFlushCbs.includes(F,F.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(F),queueFlush()}function flushPreFlushCbs(F,W=isFlushing?flushIndex+1:0){for(;W<queue.length;W++){const q=queue[W];q&&q.pre&&(queue.splice(W,1),W--,q())}}function flushPostFlushCbs(F){if(pendingPostFlushCbs.length){const W=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...W);return}for(activePostFlushCbs=W,activePostFlushCbs.sort((q,X)=>getId(q)-getId(X)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=F=>F.id==null?1/0:F.id,comparator=(F,W)=>{const q=getId(F)-getId(W);if(q===0){if(F.pre&&!W.pre)return-1;if(W.pre&&!F.pre)return 1}return q};function flushJobs(F){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const W=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const q=queue[flushIndex];q&&q.active!==!1&&callWithErrorHandling(q,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit(F,W,...q){if(F.isUnmounted)return;const X=F.vnode.props||EMPTY_OBJ;let tt=q;const ot=W.startsWith("update:"),at=ot&&W.slice(7);if(at&&at in X){const mo=`${at==="modelValue"?"model":at}Modifiers`,{number:yo,trim:lf}=X[mo]||EMPTY_OBJ;lf&&(tt=q.map(uf=>isString(uf)?uf.trim():uf)),yo&&(tt=q.map(looseToNumber))}let ut,wt=X[ut=toHandlerKey(W)]||X[ut=toHandlerKey(camelize(W))];!wt&&ot&&(wt=X[ut=toHandlerKey(hyphenate(W))]),wt&&callWithAsyncErrorHandling(wt,F,6,tt);const uo=X[ut+"Once"];if(uo){if(!F.emitted)F.emitted={};else if(F.emitted[ut])return;F.emitted[ut]=!0,callWithAsyncErrorHandling(uo,F,6,tt)}}function normalizeEmitsOptions(F,W,q=!1){const X=W.emitsCache,tt=X.get(F);if(tt!==void 0)return tt;const ot=F.emits;let at={},ut=!1;if(!isFunction$1(F)){const wt=uo=>{const mo=normalizeEmitsOptions(uo,W,!0);mo&&(ut=!0,extend$3(at,mo))};!q&&W.mixins.length&&W.mixins.forEach(wt),F.extends&&wt(F.extends),F.mixins&&F.mixins.forEach(wt)}return!ot&&!ut?(isObject$3(F)&&X.set(F,null),null):(isArray$2(ot)?ot.forEach(wt=>at[wt]=null):extend$3(at,ot),isObject$3(F)&&X.set(F,at),at)}function isEmitListener(F,W){return!F||!isOn(W)?!1:(W=W.slice(2).replace(/Once$/,""),hasOwn(F,W[0].toLowerCase()+W.slice(1))||hasOwn(F,hyphenate(W))||hasOwn(F,W))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(F){const W=currentRenderingInstance;return currentRenderingInstance=F,currentScopeId=F&&F.type.__scopeId||null,W}function pushScopeId(F){currentScopeId=F}function popScopeId(){currentScopeId=null}function withCtx(F,W=currentRenderingInstance,q){if(!W||F._n)return F;const X=(...tt)=>{X._d&&setBlockTracking(-1);const ot=setCurrentRenderingInstance(W);let at;try{at=F(...tt)}finally{setCurrentRenderingInstance(ot),X._d&&setBlockTracking(1)}return at};return X._n=!0,X._c=!0,X._d=!0,X}function markAttrsAccessed(){}function renderComponentRoot(F){const{type:W,vnode:q,proxy:X,withProxy:tt,props:ot,propsOptions:[at],slots:ut,attrs:wt,emit:uo,render:mo,renderCache:yo,data:lf,setupState:uf,ctx:df,inheritAttrs:wf}=F;let wo,ls;const _f=setCurrentRenderingInstance(F);try{if(q.shapeFlag&4){const xo=tt||X;wo=normalizeVNode(mo.call(xo,xo,yo,ot,uf,lf,df)),ls=wt}else{const xo=W;wo=normalizeVNode(xo.length>1?xo(ot,{attrs:wt,slots:ut,emit:uo}):xo(ot,null)),ls=W.props?wt:getFunctionalFallthrough(wt)}}catch(xo){blockStack.length=0,handleError$1(xo,F,1),wo=createVNode(Comment)}let po=wo;if(ls&&wf!==!1){const xo=Object.keys(ls),{shapeFlag:gf}=po;xo.length&&gf&7&&(at&&xo.some(isModelListener)&&(ls=filterModelListeners(ls,at)),po=cloneVNode(po,ls))}return q.dirs&&(po=cloneVNode(po),po.dirs=po.dirs?po.dirs.concat(q.dirs):q.dirs),q.transition&&(po.transition=q.transition),wo=po,setCurrentRenderingInstance(_f),wo}const getFunctionalFallthrough=F=>{let W;for(const q in F)(q==="class"||q==="style"||isOn(q))&&((W||(W={}))[q]=F[q]);return W},filterModelListeners=(F,W)=>{const q={};for(const X in F)(!isModelListener(X)||!(X.slice(9)in W))&&(q[X]=F[X]);return q};function shouldUpdateComponent(F,W,q){const{props:X,children:tt,component:ot}=F,{props:at,children:ut,patchFlag:wt}=W,uo=ot.emitsOptions;if(W.dirs||W.transition)return!0;if(q&&wt>=0){if(wt&1024)return!0;if(wt&16)return X?hasPropsChanged(X,at,uo):!!at;if(wt&8){const mo=W.dynamicProps;for(let yo=0;yo<mo.length;yo++){const lf=mo[yo];if(at[lf]!==X[lf]&&!isEmitListener(uo,lf))return!0}}}else return(tt||ut)&&(!ut||!ut.$stable)?!0:X===at?!1:X?at?hasPropsChanged(X,at,uo):!0:!!at;return!1}function hasPropsChanged(F,W,q){const X=Object.keys(W);if(X.length!==Object.keys(F).length)return!0;for(let tt=0;tt<X.length;tt++){const ot=X[tt];if(W[ot]!==F[ot]&&!isEmitListener(q,ot))return!0}return!1}function updateHOCHostEl({vnode:F,parent:W},q){for(;W&&W.subTree===F;)(F=W.vnode).el=q,W=W.parent}const isSuspense=F=>F.__isSuspense;function queueEffectWithSuspense(F,W){W&&W.pendingBranch?isArray$2(F)?W.effects.push(...F):W.effects.push(F):queuePostFlushCb(F)}const INITIAL_WATCHER_VALUE={};function watch$1(F,W,q){return doWatch(F,W,q)}function doWatch(F,W,{immediate:q,deep:X,flush:tt,onTrack:ot,onTrigger:at}=EMPTY_OBJ){var ut;const wt=getCurrentScope()===((ut=currentInstance)==null?void 0:ut.scope)?currentInstance:null;let uo,mo=!1,yo=!1;if(isRef(F)?(uo=()=>F.value,mo=isShallow(F)):isReactive(F)?(uo=()=>F,X=!0):isArray$2(F)?(yo=!0,mo=F.some(xo=>isReactive(xo)||isShallow(xo)),uo=()=>F.map(xo=>{if(isRef(xo))return xo.value;if(isReactive(xo))return traverse(xo);if(isFunction$1(xo))return callWithErrorHandling(xo,wt,2)})):isFunction$1(F)?W?uo=()=>callWithErrorHandling(F,wt,2):uo=()=>{if(!(wt&&wt.isUnmounted))return lf&&lf(),callWithAsyncErrorHandling(F,wt,3,[uf])}:uo=NOOP,W&&X){const xo=uo;uo=()=>traverse(xo())}let lf,uf=xo=>{lf=_f.onStop=()=>{callWithErrorHandling(xo,wt,4)}},df;if(isInSSRComponentSetup)if(uf=NOOP,W?q&&callWithAsyncErrorHandling(W,wt,3,[uo(),yo?[]:void 0,uf]):uo(),tt==="sync"){const xo=useSSRContext();df=xo.__watcherHandles||(xo.__watcherHandles=[])}else return NOOP;let wf=yo?new Array(F.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const wo=()=>{if(_f.active)if(W){const xo=_f.run();(X||mo||(yo?xo.some((gf,cf)=>hasChanged(gf,wf[cf])):hasChanged(xo,wf)))&&(lf&&lf(),callWithAsyncErrorHandling(W,wt,3,[xo,wf===INITIAL_WATCHER_VALUE?void 0:yo&&wf[0]===INITIAL_WATCHER_VALUE?[]:wf,uf]),wf=xo)}else _f.run()};wo.allowRecurse=!!W;let ls;tt==="sync"?ls=wo:tt==="post"?ls=()=>queuePostRenderEffect(wo,wt&&wt.suspense):(wo.pre=!0,wt&&(wo.id=wt.uid),ls=()=>queueJob(wo));const _f=new ReactiveEffect(uo,ls);W?q?wo():wf=_f.run():tt==="post"?queuePostRenderEffect(_f.run.bind(_f),wt&&wt.suspense):_f.run();const po=()=>{_f.stop(),wt&&wt.scope&&remove$1(wt.scope.effects,_f)};return df&&df.push(po),po}function instanceWatch(F,W,q){const X=this.proxy,tt=isString(F)?F.includes(".")?createPathGetter(X,F):()=>X[F]:F.bind(X,X);let ot;isFunction$1(W)?ot=W:(ot=W.handler,q=W);const at=currentInstance;setCurrentInstance(this);const ut=doWatch(tt,ot.bind(X),q);return at?setCurrentInstance(at):unsetCurrentInstance(),ut}function createPathGetter(F,W){const q=W.split(".");return()=>{let X=F;for(let tt=0;tt<q.length&&X;tt++)X=X[q[tt]];return X}}function traverse(F,W){if(!isObject$3(F)||F.__v_skip||(W=W||new Set,W.has(F)))return F;if(W.add(F),isRef(F))traverse(F.value,W);else if(isArray$2(F))for(let q=0;q<F.length;q++)traverse(F[q],W);else if(isSet(F)||isMap(F))F.forEach(q=>{traverse(q,W)});else if(isPlainObject$1(F))for(const q in F)traverse(F[q],W);return F}function invokeDirectiveHook(F,W,q,X){const tt=F.dirs,ot=W&&W.dirs;for(let at=0;at<tt.length;at++){const ut=tt[at];ot&&(ut.oldValue=ot[at].value);let wt=ut.dir[X];wt&&(pauseTracking(),callWithAsyncErrorHandling(wt,q,8,[F.el,ut,F,W]),resetTracking())}}function defineComponent(F,W){return isFunction$1(F)?(()=>extend$3({name:F.name},W,{setup:F}))():F}const isAsyncWrapper=F=>!!F.type.__asyncLoader,isKeepAlive=F=>F.type.__isKeepAlive;function onActivated(F,W){registerKeepAliveHook(F,"a",W)}function onDeactivated(F,W){registerKeepAliveHook(F,"da",W)}function registerKeepAliveHook(F,W,q=currentInstance){const X=F.__wdc||(F.__wdc=()=>{let tt=q;for(;tt;){if(tt.isDeactivated)return;tt=tt.parent}return F()});if(injectHook(W,X,q),q){let tt=q.parent;for(;tt&&tt.parent;)isKeepAlive(tt.parent.vnode)&&injectToKeepAliveRoot(X,W,q,tt),tt=tt.parent}}function injectToKeepAliveRoot(F,W,q,X){const tt=injectHook(W,F,X,!0);onUnmounted(()=>{remove$1(X[W],tt)},q)}function injectHook(F,W,q=currentInstance,X=!1){if(q){const tt=q[F]||(q[F]=[]),ot=W.__weh||(W.__weh=(...at)=>{if(q.isUnmounted)return;pauseTracking(),setCurrentInstance(q);const ut=callWithAsyncErrorHandling(W,q,F,at);return unsetCurrentInstance(),resetTracking(),ut});return X?tt.unshift(ot):tt.push(ot),ot}}const createHook=F=>(W,q=currentInstance)=>(!isInSSRComponentSetup||F==="sp")&&injectHook(F,(...X)=>W(...X),q),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(F,W=currentInstance){injectHook("ec",F,W)}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function renderList(F,W,q,X){let tt;const ot=q&&q[X];if(isArray$2(F)||isString(F)){tt=new Array(F.length);for(let at=0,ut=F.length;at<ut;at++)tt[at]=W(F[at],at,void 0,ot&&ot[at])}else if(typeof F=="number"){tt=new Array(F);for(let at=0;at<F;at++)tt[at]=W(at+1,at,void 0,ot&&ot[at])}else if(isObject$3(F))if(F[Symbol.iterator])tt=Array.from(F,(at,ut)=>W(at,ut,void 0,ot&&ot[ut]));else{const at=Object.keys(F);tt=new Array(at.length);for(let ut=0,wt=at.length;ut<wt;ut++){const uo=at[ut];tt[ut]=W(F[uo],uo,ut,ot&&ot[ut])}}else tt=[];return q&&(q[X]=tt),tt}function renderSlot(F,W,q={},X,tt){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return W!=="default"&&(q.name=W),createVNode("slot",q,X&&X());let ot=F[W];ot&&ot._c&&(ot._d=!1),openBlock();const at=ot&&ensureValidVNode(ot(q)),ut=createBlock(Fragment,{key:q.key||at&&at.key||`_${W}`},at||(X?X():[]),at&&F._===1?64:-2);return!tt&&ut.scopeId&&(ut.slotScopeIds=[ut.scopeId+"-s"]),ot&&ot._c&&(ot._d=!0),ut}function ensureValidVNode(F){return F.some(W=>isVNode(W)?!(W.type===Comment||W.type===Fragment&&!ensureValidVNode(W.children)):!0)?F:null}const getPublicInstance=F=>F?isStatefulComponent(F)?getExposeProxy(F)||F.proxy:getPublicInstance(F.parent):null,publicPropertiesMap=extend$3(Object.create(null),{$:F=>F,$el:F=>F.vnode.el,$data:F=>F.data,$props:F=>F.props,$attrs:F=>F.attrs,$slots:F=>F.slots,$refs:F=>F.refs,$parent:F=>getPublicInstance(F.parent),$root:F=>getPublicInstance(F.root),$emit:F=>F.emit,$options:F=>resolveMergedOptions(F),$forceUpdate:F=>F.f||(F.f=()=>queueJob(F.update)),$nextTick:F=>F.n||(F.n=nextTick.bind(F.proxy)),$watch:F=>instanceWatch.bind(F)}),hasSetupBinding=(F,W)=>F!==EMPTY_OBJ&&!F.__isScriptSetup&&hasOwn(F,W),PublicInstanceProxyHandlers={get({_:F},W){const{ctx:q,setupState:X,data:tt,props:ot,accessCache:at,type:ut,appContext:wt}=F;let uo;if(W[0]!=="$"){const uf=at[W];if(uf!==void 0)switch(uf){case 1:return X[W];case 2:return tt[W];case 4:return q[W];case 3:return ot[W]}else{if(hasSetupBinding(X,W))return at[W]=1,X[W];if(tt!==EMPTY_OBJ&&hasOwn(tt,W))return at[W]=2,tt[W];if((uo=F.propsOptions[0])&&hasOwn(uo,W))return at[W]=3,ot[W];if(q!==EMPTY_OBJ&&hasOwn(q,W))return at[W]=4,q[W];shouldCacheAccess&&(at[W]=0)}}const mo=publicPropertiesMap[W];let yo,lf;if(mo)return W==="$attrs"&&track(F,"get",W),mo(F);if((yo=ut.__cssModules)&&(yo=yo[W]))return yo;if(q!==EMPTY_OBJ&&hasOwn(q,W))return at[W]=4,q[W];if(lf=wt.config.globalProperties,hasOwn(lf,W))return lf[W]},set({_:F},W,q){const{data:X,setupState:tt,ctx:ot}=F;return hasSetupBinding(tt,W)?(tt[W]=q,!0):X!==EMPTY_OBJ&&hasOwn(X,W)?(X[W]=q,!0):hasOwn(F.props,W)||W[0]==="$"&&W.slice(1)in F?!1:(ot[W]=q,!0)},has({_:{data:F,setupState:W,accessCache:q,ctx:X,appContext:tt,propsOptions:ot}},at){let ut;return!!q[at]||F!==EMPTY_OBJ&&hasOwn(F,at)||hasSetupBinding(W,at)||(ut=ot[0])&&hasOwn(ut,at)||hasOwn(X,at)||hasOwn(publicPropertiesMap,at)||hasOwn(tt.config.globalProperties,at)},defineProperty(F,W,q){return q.get!=null?F._.accessCache[W]=0:hasOwn(q,"value")&&this.set(F,W,q.value,null),Reflect.defineProperty(F,W,q)}};function normalizePropsOrEmits(F){return isArray$2(F)?F.reduce((W,q)=>(W[q]=null,W),{}):F}let shouldCacheAccess=!0;function applyOptions(F){const W=resolveMergedOptions(F),q=F.proxy,X=F.ctx;shouldCacheAccess=!1,W.beforeCreate&&callHook(W.beforeCreate,F,"bc");const{data:tt,computed:ot,methods:at,watch:ut,provide:wt,inject:uo,created:mo,beforeMount:yo,mounted:lf,beforeUpdate:uf,updated:df,activated:wf,deactivated:wo,beforeDestroy:ls,beforeUnmount:_f,destroyed:po,unmounted:xo,render:gf,renderTracked:cf,renderTriggered:yf,errorCaptured:Sf,serverPrefetch:xf,expose:bf,inheritAttrs:Af,components:Pf,directives:Df,filters:zf}=W;if(uo&&resolveInjections(uo,X,null),at)for(const Ff in at){const Xf=at[Ff];isFunction$1(Xf)&&(X[Ff]=Xf.bind(q))}if(tt){const Ff=tt.call(q,q);isObject$3(Ff)&&(F.data=reactive(Ff))}if(shouldCacheAccess=!0,ot)for(const Ff in ot){const Xf=ot[Ff],mp=isFunction$1(Xf)?Xf.bind(q,q):isFunction$1(Xf.get)?Xf.get.bind(q,q):NOOP,fp=!isFunction$1(Xf)&&isFunction$1(Xf.set)?Xf.set.bind(q):NOOP,Mp=computed({get:mp,set:fp});Object.defineProperty(X,Ff,{enumerable:!0,configurable:!0,get:()=>Mp.value,set:Np=>Mp.value=Np})}if(ut)for(const Ff in ut)createWatcher(ut[Ff],X,q,Ff);if(wt){const Ff=isFunction$1(wt)?wt.call(q):wt;Reflect.ownKeys(Ff).forEach(Xf=>{provide(Xf,Ff[Xf])})}mo&&callHook(mo,F,"c");function $f(Ff,Xf){isArray$2(Xf)?Xf.forEach(mp=>Ff(mp.bind(q))):Xf&&Ff(Xf.bind(q))}if($f(onBeforeMount,yo),$f(onMounted,lf),$f(onBeforeUpdate,uf),$f(onUpdated,df),$f(onActivated,wf),$f(onDeactivated,wo),$f(onErrorCaptured,Sf),$f(onRenderTracked,cf),$f(onRenderTriggered,yf),$f(onBeforeUnmount,_f),$f(onUnmounted,xo),$f(onServerPrefetch,xf),isArray$2(bf))if(bf.length){const Ff=F.exposed||(F.exposed={});bf.forEach(Xf=>{Object.defineProperty(Ff,Xf,{get:()=>q[Xf],set:mp=>q[Xf]=mp})})}else F.exposed||(F.exposed={});gf&&F.render===NOOP&&(F.render=gf),Af!=null&&(F.inheritAttrs=Af),Pf&&(F.components=Pf),Df&&(F.directives=Df)}function resolveInjections(F,W,q=NOOP){isArray$2(F)&&(F=normalizeInject(F));for(const X in F){const tt=F[X];let ot;isObject$3(tt)?"default"in tt?ot=inject(tt.from||X,tt.default,!0):ot=inject(tt.from||X):ot=inject(tt),isRef(ot)?Object.defineProperty(W,X,{enumerable:!0,configurable:!0,get:()=>ot.value,set:at=>ot.value=at}):W[X]=ot}}function callHook(F,W,q){callWithAsyncErrorHandling(isArray$2(F)?F.map(X=>X.bind(W.proxy)):F.bind(W.proxy),W,q)}function createWatcher(F,W,q,X){const tt=X.includes(".")?createPathGetter(q,X):()=>q[X];if(isString(F)){const ot=W[F];isFunction$1(ot)&&watch$1(tt,ot)}else if(isFunction$1(F))watch$1(tt,F.bind(q));else if(isObject$3(F))if(isArray$2(F))F.forEach(ot=>createWatcher(ot,W,q,X));else{const ot=isFunction$1(F.handler)?F.handler.bind(q):W[F.handler];isFunction$1(ot)&&watch$1(tt,ot,F)}}function resolveMergedOptions(F){const W=F.type,{mixins:q,extends:X}=W,{mixins:tt,optionsCache:ot,config:{optionMergeStrategies:at}}=F.appContext,ut=ot.get(W);let wt;return ut?wt=ut:!tt.length&&!q&&!X?wt=W:(wt={},tt.length&&tt.forEach(uo=>mergeOptions(wt,uo,at,!0)),mergeOptions(wt,W,at)),isObject$3(W)&&ot.set(W,wt),wt}function mergeOptions(F,W,q,X=!1){const{mixins:tt,extends:ot}=W;ot&&mergeOptions(F,ot,q,!0),tt&&tt.forEach(at=>mergeOptions(F,at,q,!0));for(const at in W)if(!(X&&at==="expose")){const ut=internalOptionMergeStrats[at]||q&&q[at];F[at]=ut?ut(F[at],W[at]):W[at]}return F}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(F,W){return W?F?function(){return extend$3(isFunction$1(F)?F.call(this,this):F,isFunction$1(W)?W.call(this,this):W)}:W:F}function mergeInject(F,W){return mergeObjectOptions(normalizeInject(F),normalizeInject(W))}function normalizeInject(F){if(isArray$2(F)){const W={};for(let q=0;q<F.length;q++)W[F[q]]=F[q];return W}return F}function mergeAsArray(F,W){return F?[...new Set([].concat(F,W))]:W}function mergeObjectOptions(F,W){return F?extend$3(Object.create(null),F,W):W}function mergeEmitsOrPropsOptions(F,W){return F?isArray$2(F)&&isArray$2(W)?[...new Set([...F,...W])]:extend$3(Object.create(null),normalizePropsOrEmits(F),normalizePropsOrEmits(W??{})):W}function mergeWatchOptions(F,W){if(!F)return W;if(!W)return F;const q=extend$3(Object.create(null),F);for(const X in W)q[X]=mergeAsArray(F[X],W[X]);return q}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(F,W){return function(X,tt=null){isFunction$1(X)||(X=extend$3({},X)),tt!=null&&!isObject$3(tt)&&(tt=null);const ot=createAppContext(),at=new Set;let ut=!1;const wt=ot.app={_uid:uid$1++,_component:X,_props:tt,_container:null,_context:ot,_instance:null,version:version$1,get config(){return ot.config},set config(uo){},use(uo,...mo){return at.has(uo)||(uo&&isFunction$1(uo.install)?(at.add(uo),uo.install(wt,...mo)):isFunction$1(uo)&&(at.add(uo),uo(wt,...mo))),wt},mixin(uo){return ot.mixins.includes(uo)||ot.mixins.push(uo),wt},component(uo,mo){return mo?(ot.components[uo]=mo,wt):ot.components[uo]},directive(uo,mo){return mo?(ot.directives[uo]=mo,wt):ot.directives[uo]},mount(uo,mo,yo){if(!ut){const lf=createVNode(X,tt);return lf.appContext=ot,mo&&W?W(lf,uo):F(lf,uo,yo),ut=!0,wt._container=uo,uo.__vue_app__=wt,getExposeProxy(lf.component)||lf.component.proxy}},unmount(){ut&&(F(null,wt._container),delete wt._container.__vue_app__)},provide(uo,mo){return ot.provides[uo]=mo,wt},runWithContext(uo){currentApp=wt;try{return uo()}finally{currentApp=null}}};return wt}}let currentApp=null;function provide(F,W){if(currentInstance){let q=currentInstance.provides;const X=currentInstance.parent&&currentInstance.parent.provides;X===q&&(q=currentInstance.provides=Object.create(X)),q[F]=W}}function inject(F,W,q=!1){const X=currentInstance||currentRenderingInstance;if(X||currentApp){const tt=X?X.parent==null?X.vnode.appContext&&X.vnode.appContext.provides:X.parent.provides:currentApp._context.provides;if(tt&&F in tt)return tt[F];if(arguments.length>1)return q&&isFunction$1(W)?W.call(X&&X.proxy):W}}function initProps(F,W,q,X=!1){const tt={},ot={};def(ot,InternalObjectKey,1),F.propsDefaults=Object.create(null),setFullProps(F,W,tt,ot);for(const at in F.propsOptions[0])at in tt||(tt[at]=void 0);q?F.props=X?tt:shallowReactive(tt):F.type.props?F.props=tt:F.props=ot,F.attrs=ot}function updateProps(F,W,q,X){const{props:tt,attrs:ot,vnode:{patchFlag:at}}=F,ut=toRaw(tt),[wt]=F.propsOptions;let uo=!1;if((X||at>0)&&!(at&16)){if(at&8){const mo=F.vnode.dynamicProps;for(let yo=0;yo<mo.length;yo++){let lf=mo[yo];if(isEmitListener(F.emitsOptions,lf))continue;const uf=W[lf];if(wt)if(hasOwn(ot,lf))uf!==ot[lf]&&(ot[lf]=uf,uo=!0);else{const df=camelize(lf);tt[df]=resolvePropValue(wt,ut,df,uf,F,!1)}else uf!==ot[lf]&&(ot[lf]=uf,uo=!0)}}}else{setFullProps(F,W,tt,ot)&&(uo=!0);let mo;for(const yo in ut)(!W||!hasOwn(W,yo)&&((mo=hyphenate(yo))===yo||!hasOwn(W,mo)))&&(wt?q&&(q[yo]!==void 0||q[mo]!==void 0)&&(tt[yo]=resolvePropValue(wt,ut,yo,void 0,F,!0)):delete tt[yo]);if(ot!==ut)for(const yo in ot)(!W||!hasOwn(W,yo))&&(delete ot[yo],uo=!0)}uo&&trigger(F,"set","$attrs")}function setFullProps(F,W,q,X){const[tt,ot]=F.propsOptions;let at=!1,ut;if(W)for(let wt in W){if(isReservedProp(wt))continue;const uo=W[wt];let mo;tt&&hasOwn(tt,mo=camelize(wt))?!ot||!ot.includes(mo)?q[mo]=uo:(ut||(ut={}))[mo]=uo:isEmitListener(F.emitsOptions,wt)||(!(wt in X)||uo!==X[wt])&&(X[wt]=uo,at=!0)}if(ot){const wt=toRaw(q),uo=ut||EMPTY_OBJ;for(let mo=0;mo<ot.length;mo++){const yo=ot[mo];q[yo]=resolvePropValue(tt,wt,yo,uo[yo],F,!hasOwn(uo,yo))}}return at}function resolvePropValue(F,W,q,X,tt,ot){const at=F[q];if(at!=null){const ut=hasOwn(at,"default");if(ut&&X===void 0){const wt=at.default;if(at.type!==Function&&!at.skipFactory&&isFunction$1(wt)){const{propsDefaults:uo}=tt;q in uo?X=uo[q]:(setCurrentInstance(tt),X=uo[q]=wt.call(null,W),unsetCurrentInstance())}else X=wt}at[0]&&(ot&&!ut?X=!1:at[1]&&(X===""||X===hyphenate(q))&&(X=!0))}return X}function normalizePropsOptions(F,W,q=!1){const X=W.propsCache,tt=X.get(F);if(tt)return tt;const ot=F.props,at={},ut=[];let wt=!1;if(!isFunction$1(F)){const mo=yo=>{wt=!0;const[lf,uf]=normalizePropsOptions(yo,W,!0);extend$3(at,lf),uf&&ut.push(...uf)};!q&&W.mixins.length&&W.mixins.forEach(mo),F.extends&&mo(F.extends),F.mixins&&F.mixins.forEach(mo)}if(!ot&&!wt)return isObject$3(F)&&X.set(F,EMPTY_ARR),EMPTY_ARR;if(isArray$2(ot))for(let mo=0;mo<ot.length;mo++){const yo=camelize(ot[mo]);validatePropName(yo)&&(at[yo]=EMPTY_OBJ)}else if(ot)for(const mo in ot){const yo=camelize(mo);if(validatePropName(yo)){const lf=ot[mo],uf=at[yo]=isArray$2(lf)||isFunction$1(lf)?{type:lf}:extend$3({},lf);if(uf){const df=getTypeIndex(Boolean,uf.type),wf=getTypeIndex(String,uf.type);uf[0]=df>-1,uf[1]=wf<0||df<wf,(df>-1||hasOwn(uf,"default"))&&ut.push(yo)}}}const uo=[at,ut];return isObject$3(F)&&X.set(F,uo),uo}function validatePropName(F){return F[0]!=="$"}function getType(F){const W=F&&F.toString().match(/^\s*(function|class) (\w+)/);return W?W[2]:F===null?"null":""}function isSameType(F,W){return getType(F)===getType(W)}function getTypeIndex(F,W){return isArray$2(W)?W.findIndex(q=>isSameType(q,F)):isFunction$1(W)&&isSameType(W,F)?0:-1}const isInternalKey=F=>F[0]==="_"||F==="$stable",normalizeSlotValue=F=>isArray$2(F)?F.map(normalizeVNode):[normalizeVNode(F)],normalizeSlot=(F,W,q)=>{if(W._n)return W;const X=withCtx((...tt)=>normalizeSlotValue(W(...tt)),q);return X._c=!1,X},normalizeObjectSlots=(F,W,q)=>{const X=F._ctx;for(const tt in F){if(isInternalKey(tt))continue;const ot=F[tt];if(isFunction$1(ot))W[tt]=normalizeSlot(tt,ot,X);else if(ot!=null){const at=normalizeSlotValue(ot);W[tt]=()=>at}}},normalizeVNodeSlots=(F,W)=>{const q=normalizeSlotValue(W);F.slots.default=()=>q},initSlots=(F,W)=>{if(F.vnode.shapeFlag&32){const q=W._;q?(F.slots=toRaw(W),def(W,"_",q)):normalizeObjectSlots(W,F.slots={})}else F.slots={},W&&normalizeVNodeSlots(F,W);def(F.slots,InternalObjectKey,1)},updateSlots=(F,W,q)=>{const{vnode:X,slots:tt}=F;let ot=!0,at=EMPTY_OBJ;if(X.shapeFlag&32){const ut=W._;ut?q&&ut===1?ot=!1:(extend$3(tt,W),!q&&ut===1&&delete tt._):(ot=!W.$stable,normalizeObjectSlots(W,tt)),at=W}else W&&(normalizeVNodeSlots(F,W),at={default:1});if(ot)for(const ut in tt)!isInternalKey(ut)&&!(ut in at)&&delete tt[ut]};function setRef(F,W,q,X,tt=!1){if(isArray$2(F)){F.forEach((lf,uf)=>setRef(lf,W&&(isArray$2(W)?W[uf]:W),q,X,tt));return}if(isAsyncWrapper(X)&&!tt)return;const ot=X.shapeFlag&4?getExposeProxy(X.component)||X.component.proxy:X.el,at=tt?null:ot,{i:ut,r:wt}=F,uo=W&&W.r,mo=ut.refs===EMPTY_OBJ?ut.refs={}:ut.refs,yo=ut.setupState;if(uo!=null&&uo!==wt&&(isString(uo)?(mo[uo]=null,hasOwn(yo,uo)&&(yo[uo]=null)):isRef(uo)&&(uo.value=null)),isFunction$1(wt))callWithErrorHandling(wt,ut,12,[at,mo]);else{const lf=isString(wt),uf=isRef(wt);if(lf||uf){const df=()=>{if(F.f){const wf=lf?hasOwn(yo,wt)?yo[wt]:mo[wt]:wt.value;tt?isArray$2(wf)&&remove$1(wf,ot):isArray$2(wf)?wf.includes(ot)||wf.push(ot):lf?(mo[wt]=[ot],hasOwn(yo,wt)&&(yo[wt]=mo[wt])):(wt.value=[ot],F.k&&(mo[F.k]=wt.value))}else lf?(mo[wt]=at,hasOwn(yo,wt)&&(yo[wt]=at)):uf&&(wt.value=at,F.k&&(mo[F.k]=at))};at?(df.id=-1,queuePostRenderEffect(df,q)):df()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(F){return baseCreateRenderer(F)}function baseCreateRenderer(F,W){const q=getGlobalThis();q.__VUE__=!0;const{insert:X,remove:tt,patchProp:ot,createElement:at,createText:ut,createComment:wt,setText:uo,setElementText:mo,parentNode:yo,nextSibling:lf,setScopeId:uf=NOOP,insertStaticContent:df}=F,wf=(up,Nf,Jf,ip=null,ap=null,Op=null,Gp=!1,bp=null,zp=!!Nf.dynamicChildren)=>{if(up===Nf)return;up&&!isSameVNodeType(up,Nf)&&(ip=$p(up),Np(up,ap,Op,!0),up=null),Nf.patchFlag===-2&&(zp=!1,Nf.dynamicChildren=null);const{type:Rp,ref:Up,shapeFlag:Zp}=Nf;switch(Rp){case Text:wo(up,Nf,Jf,ip);break;case Comment:ls(up,Nf,Jf,ip);break;case Static:up==null&&_f(Nf,Jf,ip,Gp);break;case Fragment:Pf(up,Nf,Jf,ip,ap,Op,Gp,bp,zp);break;default:Zp&1?gf(up,Nf,Jf,ip,ap,Op,Gp,bp,zp):Zp&6?Df(up,Nf,Jf,ip,ap,Op,Gp,bp,zp):(Zp&64||Zp&128)&&Rp.process(up,Nf,Jf,ip,ap,Op,Gp,bp,zp,Dp)}Up!=null&&ap&&setRef(Up,up&&up.ref,Op,Nf||up,!Nf)},wo=(up,Nf,Jf,ip)=>{if(up==null)X(Nf.el=ut(Nf.children),Jf,ip);else{const ap=Nf.el=up.el;Nf.children!==up.children&&uo(ap,Nf.children)}},ls=(up,Nf,Jf,ip)=>{up==null?X(Nf.el=wt(Nf.children||""),Jf,ip):Nf.el=up.el},_f=(up,Nf,Jf,ip)=>{[up.el,up.anchor]=df(up.children,Nf,Jf,ip,up.el,up.anchor)},po=({el:up,anchor:Nf},Jf,ip)=>{let ap;for(;up&&up!==Nf;)ap=lf(up),X(up,Jf,ip),up=ap;X(Nf,Jf,ip)},xo=({el:up,anchor:Nf})=>{let Jf;for(;up&&up!==Nf;)Jf=lf(up),tt(up),up=Jf;tt(Nf)},gf=(up,Nf,Jf,ip,ap,Op,Gp,bp,zp)=>{Gp=Gp||Nf.type==="svg",up==null?cf(Nf,Jf,ip,ap,Op,Gp,bp,zp):xf(up,Nf,ap,Op,Gp,bp,zp)},cf=(up,Nf,Jf,ip,ap,Op,Gp,bp)=>{let zp,Rp;const{type:Up,props:Zp,shapeFlag:og,transition:Ap,dirs:Ip}=up;if(zp=up.el=at(up.type,Op,Zp&&Zp.is,Zp),og&8?mo(zp,up.children):og&16&&Sf(up.children,zp,null,ip,ap,Op&&Up!=="foreignObject",Gp,bp),Ip&&invokeDirectiveHook(up,null,ip,"created"),yf(zp,up,up.scopeId,Gp,ip),Zp){for(const Jp in Zp)Jp!=="value"&&!isReservedProp(Jp)&&ot(zp,Jp,null,Zp[Jp],Op,up.children,ip,ap,Cp);"value"in Zp&&ot(zp,"value",null,Zp.value),(Rp=Zp.onVnodeBeforeMount)&&invokeVNodeHook(Rp,ip,up)}Ip&&invokeDirectiveHook(up,null,ip,"beforeMount");const jp=(!ap||ap&&!ap.pendingBranch)&&Ap&&!Ap.persisted;jp&&Ap.beforeEnter(zp),X(zp,Nf,Jf),((Rp=Zp&&Zp.onVnodeMounted)||jp||Ip)&&queuePostRenderEffect(()=>{Rp&&invokeVNodeHook(Rp,ip,up),jp&&Ap.enter(zp),Ip&&invokeDirectiveHook(up,null,ip,"mounted")},ap)},yf=(up,Nf,Jf,ip,ap)=>{if(Jf&&uf(up,Jf),ip)for(let Op=0;Op<ip.length;Op++)uf(up,ip[Op]);if(ap){let Op=ap.subTree;if(Nf===Op){const Gp=ap.vnode;yf(up,Gp,Gp.scopeId,Gp.slotScopeIds,ap.parent)}}},Sf=(up,Nf,Jf,ip,ap,Op,Gp,bp,zp=0)=>{for(let Rp=zp;Rp<up.length;Rp++){const Up=up[Rp]=bp?cloneIfMounted(up[Rp]):normalizeVNode(up[Rp]);wf(null,Up,Nf,Jf,ip,ap,Op,Gp,bp)}},xf=(up,Nf,Jf,ip,ap,Op,Gp)=>{const bp=Nf.el=up.el;let{patchFlag:zp,dynamicChildren:Rp,dirs:Up}=Nf;zp|=up.patchFlag&16;const Zp=up.props||EMPTY_OBJ,og=Nf.props||EMPTY_OBJ;let Ap;Jf&&toggleRecurse(Jf,!1),(Ap=og.onVnodeBeforeUpdate)&&invokeVNodeHook(Ap,Jf,Nf,up),Up&&invokeDirectiveHook(Nf,up,Jf,"beforeUpdate"),Jf&&toggleRecurse(Jf,!0);const Ip=ap&&Nf.type!=="foreignObject";if(Rp?bf(up.dynamicChildren,Rp,bp,Jf,ip,Ip,Op):Gp||Xf(up,Nf,bp,null,Jf,ip,Ip,Op,!1),zp>0){if(zp&16)Af(bp,Nf,Zp,og,Jf,ip,ap);else if(zp&2&&Zp.class!==og.class&&ot(bp,"class",null,og.class,ap),zp&4&&ot(bp,"style",Zp.style,og.style,ap),zp&8){const jp=Nf.dynamicProps;for(let Jp=0;Jp<jp.length;Jp++){const sg=jp[Jp],mg=Zp[sg],kg=og[sg];(kg!==mg||sg==="value")&&ot(bp,sg,mg,kg,ap,up.children,Jf,ip,Cp)}}zp&1&&up.children!==Nf.children&&mo(bp,Nf.children)}else!Gp&&Rp==null&&Af(bp,Nf,Zp,og,Jf,ip,ap);((Ap=og.onVnodeUpdated)||Up)&&queuePostRenderEffect(()=>{Ap&&invokeVNodeHook(Ap,Jf,Nf,up),Up&&invokeDirectiveHook(Nf,up,Jf,"updated")},ip)},bf=(up,Nf,Jf,ip,ap,Op,Gp)=>{for(let bp=0;bp<Nf.length;bp++){const zp=up[bp],Rp=Nf[bp],Up=zp.el&&(zp.type===Fragment||!isSameVNodeType(zp,Rp)||zp.shapeFlag&70)?yo(zp.el):Jf;wf(zp,Rp,Up,null,ip,ap,Op,Gp,!0)}},Af=(up,Nf,Jf,ip,ap,Op,Gp)=>{if(Jf!==ip){if(Jf!==EMPTY_OBJ)for(const bp in Jf)!isReservedProp(bp)&&!(bp in ip)&&ot(up,bp,Jf[bp],null,Gp,Nf.children,ap,Op,Cp);for(const bp in ip){if(isReservedProp(bp))continue;const zp=ip[bp],Rp=Jf[bp];zp!==Rp&&bp!=="value"&&ot(up,bp,Rp,zp,Gp,Nf.children,ap,Op,Cp)}"value"in ip&&ot(up,"value",Jf.value,ip.value)}},Pf=(up,Nf,Jf,ip,ap,Op,Gp,bp,zp)=>{const Rp=Nf.el=up?up.el:ut(""),Up=Nf.anchor=up?up.anchor:ut("");let{patchFlag:Zp,dynamicChildren:og,slotScopeIds:Ap}=Nf;Ap&&(bp=bp?bp.concat(Ap):Ap),up==null?(X(Rp,Jf,ip),X(Up,Jf,ip),Sf(Nf.children,Jf,Up,ap,Op,Gp,bp,zp)):Zp>0&&Zp&64&&og&&up.dynamicChildren?(bf(up.dynamicChildren,og,Jf,ap,Op,Gp,bp),(Nf.key!=null||ap&&Nf===ap.subTree)&&traverseStaticChildren(up,Nf,!0)):Xf(up,Nf,Jf,Up,ap,Op,Gp,bp,zp)},Df=(up,Nf,Jf,ip,ap,Op,Gp,bp,zp)=>{Nf.slotScopeIds=bp,up==null?Nf.shapeFlag&512?ap.ctx.activate(Nf,Jf,ip,Gp,zp):zf(Nf,Jf,ip,ap,Op,Gp,zp):jf(up,Nf,zp)},zf=(up,Nf,Jf,ip,ap,Op,Gp)=>{const bp=up.component=createComponentInstance(up,ip,ap);if(isKeepAlive(up)&&(bp.ctx.renderer=Dp),setupComponent(bp),bp.asyncDep){if(ap&&ap.registerDep(bp,$f),!up.el){const zp=bp.subTree=createVNode(Comment);ls(null,zp,Nf,Jf)}return}$f(bp,up,Nf,Jf,ap,Op,Gp)},jf=(up,Nf,Jf)=>{const ip=Nf.component=up.component;if(shouldUpdateComponent(up,Nf,Jf))if(ip.asyncDep&&!ip.asyncResolved){Ff(ip,Nf,Jf);return}else ip.next=Nf,invalidateJob(ip.update),ip.update();else Nf.el=up.el,ip.vnode=Nf},$f=(up,Nf,Jf,ip,ap,Op,Gp)=>{const bp=()=>{if(up.isMounted){let{next:Up,bu:Zp,u:og,parent:Ap,vnode:Ip}=up,jp=Up,Jp;toggleRecurse(up,!1),Up?(Up.el=Ip.el,Ff(up,Up,Gp)):Up=Ip,Zp&&invokeArrayFns(Zp),(Jp=Up.props&&Up.props.onVnodeBeforeUpdate)&&invokeVNodeHook(Jp,Ap,Up,Ip),toggleRecurse(up,!0);const sg=renderComponentRoot(up),mg=up.subTree;up.subTree=sg,wf(mg,sg,yo(mg.el),$p(mg),up,ap,Op),Up.el=sg.el,jp===null&&updateHOCHostEl(up,sg.el),og&&queuePostRenderEffect(og,ap),(Jp=Up.props&&Up.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(Jp,Ap,Up,Ip),ap)}else{let Up;const{el:Zp,props:og}=Nf,{bm:Ap,m:Ip,parent:jp}=up,Jp=isAsyncWrapper(Nf);if(toggleRecurse(up,!1),Ap&&invokeArrayFns(Ap),!Jp&&(Up=og&&og.onVnodeBeforeMount)&&invokeVNodeHook(Up,jp,Nf),toggleRecurse(up,!0),Zp&&Sp){const sg=()=>{up.subTree=renderComponentRoot(up),Sp(Zp,up.subTree,up,ap,null)};Jp?Nf.type.__asyncLoader().then(()=>!up.isUnmounted&&sg()):sg()}else{const sg=up.subTree=renderComponentRoot(up);wf(null,sg,Jf,ip,up,ap,Op),Nf.el=sg.el}if(Ip&&queuePostRenderEffect(Ip,ap),!Jp&&(Up=og&&og.onVnodeMounted)){const sg=Nf;queuePostRenderEffect(()=>invokeVNodeHook(Up,jp,sg),ap)}(Nf.shapeFlag&256||jp&&isAsyncWrapper(jp.vnode)&&jp.vnode.shapeFlag&256)&&up.a&&queuePostRenderEffect(up.a,ap),up.isMounted=!0,Nf=Jf=ip=null}},zp=up.effect=new ReactiveEffect(bp,()=>queueJob(Rp),up.scope),Rp=up.update=()=>zp.run();Rp.id=up.uid,toggleRecurse(up,!0),Rp()},Ff=(up,Nf,Jf)=>{Nf.component=up;const ip=up.vnode.props;up.vnode=Nf,up.next=null,updateProps(up,Nf.props,ip,Jf),updateSlots(up,Nf.children,Jf),pauseTracking(),flushPreFlushCbs(),resetTracking()},Xf=(up,Nf,Jf,ip,ap,Op,Gp,bp,zp=!1)=>{const Rp=up&&up.children,Up=up?up.shapeFlag:0,Zp=Nf.children,{patchFlag:og,shapeFlag:Ap}=Nf;if(og>0){if(og&128){fp(Rp,Zp,Jf,ip,ap,Op,Gp,bp,zp);return}else if(og&256){mp(Rp,Zp,Jf,ip,ap,Op,Gp,bp,zp);return}}Ap&8?(Up&16&&Cp(Rp,ap,Op),Zp!==Rp&&mo(Jf,Zp)):Up&16?Ap&16?fp(Rp,Zp,Jf,ip,ap,Op,Gp,bp,zp):Cp(Rp,ap,Op,!0):(Up&8&&mo(Jf,""),Ap&16&&Sf(Zp,Jf,ip,ap,Op,Gp,bp,zp))},mp=(up,Nf,Jf,ip,ap,Op,Gp,bp,zp)=>{up=up||EMPTY_ARR,Nf=Nf||EMPTY_ARR;const Rp=up.length,Up=Nf.length,Zp=Math.min(Rp,Up);let og;for(og=0;og<Zp;og++){const Ap=Nf[og]=zp?cloneIfMounted(Nf[og]):normalizeVNode(Nf[og]);wf(up[og],Ap,Jf,null,ap,Op,Gp,bp,zp)}Rp>Up?Cp(up,ap,Op,!0,!1,Zp):Sf(Nf,Jf,ip,ap,Op,Gp,bp,zp,Zp)},fp=(up,Nf,Jf,ip,ap,Op,Gp,bp,zp)=>{let Rp=0;const Up=Nf.length;let Zp=up.length-1,og=Up-1;for(;Rp<=Zp&&Rp<=og;){const Ap=up[Rp],Ip=Nf[Rp]=zp?cloneIfMounted(Nf[Rp]):normalizeVNode(Nf[Rp]);if(isSameVNodeType(Ap,Ip))wf(Ap,Ip,Jf,null,ap,Op,Gp,bp,zp);else break;Rp++}for(;Rp<=Zp&&Rp<=og;){const Ap=up[Zp],Ip=Nf[og]=zp?cloneIfMounted(Nf[og]):normalizeVNode(Nf[og]);if(isSameVNodeType(Ap,Ip))wf(Ap,Ip,Jf,null,ap,Op,Gp,bp,zp);else break;Zp--,og--}if(Rp>Zp){if(Rp<=og){const Ap=og+1,Ip=Ap<Up?Nf[Ap].el:ip;for(;Rp<=og;)wf(null,Nf[Rp]=zp?cloneIfMounted(Nf[Rp]):normalizeVNode(Nf[Rp]),Jf,Ip,ap,Op,Gp,bp,zp),Rp++}}else if(Rp>og)for(;Rp<=Zp;)Np(up[Rp],ap,Op,!0),Rp++;else{const Ap=Rp,Ip=Rp,jp=new Map;for(Rp=Ip;Rp<=og;Rp++){const dp=Nf[Rp]=zp?cloneIfMounted(Nf[Rp]):normalizeVNode(Nf[Rp]);dp.key!=null&&jp.set(dp.key,Rp)}let Jp,sg=0;const mg=og-Ip+1;let kg=!1,Eg=0;const im=new Array(mg);for(Rp=0;Rp<mg;Rp++)im[Rp]=0;for(Rp=Ap;Rp<=Zp;Rp++){const dp=up[Rp];if(sg>=mg){Np(dp,ap,Op,!0);continue}let cp;if(dp.key!=null)cp=jp.get(dp.key);else for(Jp=Ip;Jp<=og;Jp++)if(im[Jp-Ip]===0&&isSameVNodeType(dp,Nf[Jp])){cp=Jp;break}cp===void 0?Np(dp,ap,Op,!0):(im[cp-Ip]=Rp+1,cp>=Eg?Eg=cp:kg=!0,wf(dp,Nf[cp],Jf,null,ap,Op,Gp,bp,zp),sg++)}const hm=kg?getSequence(im):EMPTY_ARR;for(Jp=hm.length-1,Rp=mg-1;Rp>=0;Rp--){const dp=Ip+Rp,cp=Nf[dp],Vp=dp+1<Up?Nf[dp+1].el:ip;im[Rp]===0?wf(null,cp,Jf,Vp,ap,Op,Gp,bp,zp):kg&&(Jp<0||Rp!==hm[Jp]?Mp(cp,Jf,Vp,2):Jp--)}}},Mp=(up,Nf,Jf,ip,ap=null)=>{const{el:Op,type:Gp,transition:bp,children:zp,shapeFlag:Rp}=up;if(Rp&6){Mp(up.component.subTree,Nf,Jf,ip);return}if(Rp&128){up.suspense.move(Nf,Jf,ip);return}if(Rp&64){Gp.move(up,Nf,Jf,Dp);return}if(Gp===Fragment){X(Op,Nf,Jf);for(let Zp=0;Zp<zp.length;Zp++)Mp(zp[Zp],Nf,Jf,ip);X(up.anchor,Nf,Jf);return}if(Gp===Static){po(up,Nf,Jf);return}if(ip!==2&&Rp&1&&bp)if(ip===0)bp.beforeEnter(Op),X(Op,Nf,Jf),queuePostRenderEffect(()=>bp.enter(Op),ap);else{const{leave:Zp,delayLeave:og,afterLeave:Ap}=bp,Ip=()=>X(Op,Nf,Jf),jp=()=>{Zp(Op,()=>{Ip(),Ap&&Ap()})};og?og(Op,Ip,jp):jp()}else X(Op,Nf,Jf)},Np=(up,Nf,Jf,ip=!1,ap=!1)=>{const{type:Op,props:Gp,ref:bp,children:zp,dynamicChildren:Rp,shapeFlag:Up,patchFlag:Zp,dirs:og}=up;if(bp!=null&&setRef(bp,null,Jf,up,!0),Up&256){Nf.ctx.deactivate(up);return}const Ap=Up&1&&og,Ip=!isAsyncWrapper(up);let jp;if(Ip&&(jp=Gp&&Gp.onVnodeBeforeUnmount)&&invokeVNodeHook(jp,Nf,up),Up&6)Ep(up.component,Jf,ip);else{if(Up&128){up.suspense.unmount(Jf,ip);return}Ap&&invokeDirectiveHook(up,null,Nf,"beforeUnmount"),Up&64?up.type.remove(up,Nf,Jf,ap,Dp,ip):Rp&&(Op!==Fragment||Zp>0&&Zp&64)?Cp(Rp,Nf,Jf,!1,!0):(Op===Fragment&&Zp&384||!ap&&Up&16)&&Cp(zp,Nf,Jf),ip&&Pp(up)}(Ip&&(jp=Gp&&Gp.onVnodeUnmounted)||Ap)&&queuePostRenderEffect(()=>{jp&&invokeVNodeHook(jp,Nf,up),Ap&&invokeDirectiveHook(up,null,Nf,"unmounted")},Jf)},Pp=up=>{const{type:Nf,el:Jf,anchor:ip,transition:ap}=up;if(Nf===Fragment){yp(Jf,ip);return}if(Nf===Static){xo(up);return}const Op=()=>{tt(Jf),ap&&!ap.persisted&&ap.afterLeave&&ap.afterLeave()};if(up.shapeFlag&1&&ap&&!ap.persisted){const{leave:Gp,delayLeave:bp}=ap,zp=()=>Gp(Jf,Op);bp?bp(up.el,Op,zp):zp()}else Op()},yp=(up,Nf)=>{let Jf;for(;up!==Nf;)Jf=lf(up),tt(up),up=Jf;tt(Nf)},Ep=(up,Nf,Jf)=>{const{bum:ip,scope:ap,update:Op,subTree:Gp,um:bp}=up;ip&&invokeArrayFns(ip),ap.stop(),Op&&(Op.active=!1,Np(Gp,up,Nf,Jf)),bp&&queuePostRenderEffect(bp,Nf),queuePostRenderEffect(()=>{up.isUnmounted=!0},Nf),Nf&&Nf.pendingBranch&&!Nf.isUnmounted&&up.asyncDep&&!up.asyncResolved&&up.suspenseId===Nf.pendingId&&(Nf.deps--,Nf.deps===0&&Nf.resolve())},Cp=(up,Nf,Jf,ip=!1,ap=!1,Op=0)=>{for(let Gp=Op;Gp<up.length;Gp++)Np(up[Gp],Nf,Jf,ip,ap)},$p=up=>up.shapeFlag&6?$p(up.component.subTree):up.shapeFlag&128?up.suspense.next():lf(up.anchor||up.el),kp=(up,Nf,Jf)=>{up==null?Nf._vnode&&Np(Nf._vnode,null,null,!0):wf(Nf._vnode||null,up,Nf,null,null,null,Jf),flushPreFlushCbs(),flushPostFlushCbs(),Nf._vnode=up},Dp={p:wf,um:Np,m:Mp,r:Pp,mt:zf,mc:Sf,pc:Xf,pbc:bf,n:$p,o:F};let Fp,Sp;return W&&([Fp,Sp]=W(Dp)),{render:kp,hydrate:Fp,createApp:createAppAPI(kp,Fp)}}function toggleRecurse({effect:F,update:W},q){F.allowRecurse=W.allowRecurse=q}function traverseStaticChildren(F,W,q=!1){const X=F.children,tt=W.children;if(isArray$2(X)&&isArray$2(tt))for(let ot=0;ot<X.length;ot++){const at=X[ot];let ut=tt[ot];ut.shapeFlag&1&&!ut.dynamicChildren&&((ut.patchFlag<=0||ut.patchFlag===32)&&(ut=tt[ot]=cloneIfMounted(tt[ot]),ut.el=at.el),q||traverseStaticChildren(at,ut)),ut.type===Text&&(ut.el=at.el)}}function getSequence(F){const W=F.slice(),q=[0];let X,tt,ot,at,ut;const wt=F.length;for(X=0;X<wt;X++){const uo=F[X];if(uo!==0){if(tt=q[q.length-1],F[tt]<uo){W[X]=tt,q.push(X);continue}for(ot=0,at=q.length-1;ot<at;)ut=ot+at>>1,F[q[ut]]<uo?ot=ut+1:at=ut;uo<F[q[ot]]&&(ot>0&&(W[X]=q[ot-1]),q[ot]=X)}}for(ot=q.length,at=q[ot-1];ot-- >0;)q[ot]=at,at=W[at];return q}const isTeleport=F=>F.__isTeleport,Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(F=!1){blockStack.push(currentBlock=F?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(F){isBlockTreeEnabled+=F}function setupBlock(F){return F.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(F),F}function createElementBlock(F,W,q,X,tt,ot){return setupBlock(createBaseVNode(F,W,q,X,tt,ot,!0))}function createBlock(F,W,q,X,tt){return setupBlock(createVNode(F,W,q,X,tt,!0))}function isVNode(F){return F?F.__v_isVNode===!0:!1}function isSameVNodeType(F,W){return F.type===W.type&&F.key===W.key}const InternalObjectKey="__vInternal",normalizeKey=({key:F})=>F??null,normalizeRef=({ref:F,ref_key:W,ref_for:q})=>(typeof F=="number"&&(F=""+F),F!=null?isString(F)||isRef(F)||isFunction$1(F)?{i:currentRenderingInstance,r:F,k:W,f:!!q}:F:null);function createBaseVNode(F,W=null,q=null,X=0,tt=null,ot=F===Fragment?0:1,at=!1,ut=!1){const wt={__v_isVNode:!0,__v_skip:!0,type:F,props:W,key:W&&normalizeKey(W),ref:W&&normalizeRef(W),scopeId:currentScopeId,slotScopeIds:null,children:q,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:ot,patchFlag:X,dynamicProps:tt,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return ut?(normalizeChildren(wt,q),ot&128&&F.normalize(wt)):q&&(wt.shapeFlag|=isString(q)?8:16),isBlockTreeEnabled>0&&!at&&currentBlock&&(wt.patchFlag>0||ot&6)&&wt.patchFlag!==32&&currentBlock.push(wt),wt}const createVNode=_createVNode;function _createVNode(F,W=null,q=null,X=0,tt=null,ot=!1){if((!F||F===NULL_DYNAMIC_COMPONENT)&&(F=Comment),isVNode(F)){const ut=cloneVNode(F,W,!0);return q&&normalizeChildren(ut,q),isBlockTreeEnabled>0&&!ot&&currentBlock&&(ut.shapeFlag&6?currentBlock[currentBlock.indexOf(F)]=ut:currentBlock.push(ut)),ut.patchFlag|=-2,ut}if(isClassComponent(F)&&(F=F.__vccOpts),W){W=guardReactiveProps(W);let{class:ut,style:wt}=W;ut&&!isString(ut)&&(W.class=normalizeClass(ut)),isObject$3(wt)&&(isProxy(wt)&&!isArray$2(wt)&&(wt=extend$3({},wt)),W.style=normalizeStyle(wt))}const at=isString(F)?1:isSuspense(F)?128:isTeleport(F)?64:isObject$3(F)?4:isFunction$1(F)?2:0;return createBaseVNode(F,W,q,X,tt,at,ot,!0)}function guardReactiveProps(F){return F?isProxy(F)||InternalObjectKey in F?extend$3({},F):F:null}function cloneVNode(F,W,q=!1){const{props:X,ref:tt,patchFlag:ot,children:at}=F,ut=W?mergeProps(X||{},W):X;return{__v_isVNode:!0,__v_skip:!0,type:F.type,props:ut,key:ut&&normalizeKey(ut),ref:W&&W.ref?q&&tt?isArray$2(tt)?tt.concat(normalizeRef(W)):[tt,normalizeRef(W)]:normalizeRef(W):tt,scopeId:F.scopeId,slotScopeIds:F.slotScopeIds,children:at,target:F.target,targetAnchor:F.targetAnchor,staticCount:F.staticCount,shapeFlag:F.shapeFlag,patchFlag:W&&F.type!==Fragment?ot===-1?16:ot|16:ot,dynamicProps:F.dynamicProps,dynamicChildren:F.dynamicChildren,appContext:F.appContext,dirs:F.dirs,transition:F.transition,component:F.component,suspense:F.suspense,ssContent:F.ssContent&&cloneVNode(F.ssContent),ssFallback:F.ssFallback&&cloneVNode(F.ssFallback),el:F.el,anchor:F.anchor,ctx:F.ctx,ce:F.ce}}function createTextVNode(F=" ",W=0){return createVNode(Text,null,F,W)}function createCommentVNode(F="",W=!1){return W?(openBlock(),createBlock(Comment,null,F)):createVNode(Comment,null,F)}function normalizeVNode(F){return F==null||typeof F=="boolean"?createVNode(Comment):isArray$2(F)?createVNode(Fragment,null,F.slice()):typeof F=="object"?cloneIfMounted(F):createVNode(Text,null,String(F))}function cloneIfMounted(F){return F.el===null&&F.patchFlag!==-1||F.memo?F:cloneVNode(F)}function normalizeChildren(F,W){let q=0;const{shapeFlag:X}=F;if(W==null)W=null;else if(isArray$2(W))q=16;else if(typeof W=="object")if(X&65){const tt=W.default;tt&&(tt._c&&(tt._d=!1),normalizeChildren(F,tt()),tt._c&&(tt._d=!0));return}else{q=32;const tt=W._;!tt&&!(InternalObjectKey in W)?W._ctx=currentRenderingInstance:tt===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?W._=1:(W._=2,F.patchFlag|=1024))}else isFunction$1(W)?(W={default:W,_ctx:currentRenderingInstance},q=32):(W=String(W),X&64?(q=16,W=[createTextVNode(W)]):q=8);F.children=W,F.shapeFlag|=q}function mergeProps(...F){const W={};for(let q=0;q<F.length;q++){const X=F[q];for(const tt in X)if(tt==="class")W.class!==X.class&&(W.class=normalizeClass([W.class,X.class]));else if(tt==="style")W.style=normalizeStyle([W.style,X.style]);else if(isOn(tt)){const ot=W[tt],at=X[tt];at&&ot!==at&&!(isArray$2(ot)&&ot.includes(at))&&(W[tt]=ot?[].concat(ot,at):at)}else tt!==""&&(W[tt]=X[tt])}return W}function invokeVNodeHook(F,W,q,X=null){callWithAsyncErrorHandling(F,W,7,[q,X])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(F,W,q){const X=F.type,tt=(W?W.appContext:F.appContext)||emptyAppContext,ot={uid:uid++,vnode:F,type:X,parent:W,appContext:tt,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:W?W.provides:Object.create(tt.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(X,tt),emitsOptions:normalizeEmitsOptions(X,tt),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:X.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:q,suspenseId:q?q.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return ot.ctx={_:ot},ot.root=W?W.root:ot,ot.emit=emit.bind(null,ot),F.ce&&F.ce(ot),ot}let currentInstance=null,internalSetCurrentInstance,globalCurrentInstanceSetters,settersKey="__VUE_INSTANCE_SETTERS__";(globalCurrentInstanceSetters=getGlobalThis()[settersKey])||(globalCurrentInstanceSetters=getGlobalThis()[settersKey]=[]),globalCurrentInstanceSetters.push(F=>currentInstance=F),internalSetCurrentInstance=F=>{globalCurrentInstanceSetters.length>1?globalCurrentInstanceSetters.forEach(W=>W(F)):globalCurrentInstanceSetters[0](F)};const setCurrentInstance=F=>{internalSetCurrentInstance(F),F.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(F){return F.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(F,W=!1){isInSSRComponentSetup=W;const{props:q,children:X}=F.vnode,tt=isStatefulComponent(F);initProps(F,q,tt,W),initSlots(F,X);const ot=tt?setupStatefulComponent(F,W):void 0;return isInSSRComponentSetup=!1,ot}function setupStatefulComponent(F,W){const q=F.type;F.accessCache=Object.create(null),F.proxy=markRaw(new Proxy(F.ctx,PublicInstanceProxyHandlers));const{setup:X}=q;if(X){const tt=F.setupContext=X.length>1?createSetupContext(F):null;setCurrentInstance(F),pauseTracking();const ot=callWithErrorHandling(X,F,0,[F.props,tt]);if(resetTracking(),unsetCurrentInstance(),isPromise(ot)){if(ot.then(unsetCurrentInstance,unsetCurrentInstance),W)return ot.then(at=>{handleSetupResult(F,at,W)}).catch(at=>{handleError$1(at,F,0)});F.asyncDep=ot}else handleSetupResult(F,ot,W)}else finishComponentSetup(F,W)}function handleSetupResult(F,W,q){isFunction$1(W)?F.type.__ssrInlineRender?F.ssrRender=W:F.render=W:isObject$3(W)&&(F.setupState=proxyRefs(W)),finishComponentSetup(F,q)}let compile$1;function finishComponentSetup(F,W,q){const X=F.type;if(!F.render){if(!W&&compile$1&&!X.render){const tt=X.template||resolveMergedOptions(F).template;if(tt){const{isCustomElement:ot,compilerOptions:at}=F.appContext.config,{delimiters:ut,compilerOptions:wt}=X,uo=extend$3(extend$3({isCustomElement:ot,delimiters:ut},at),wt);X.render=compile$1(tt,uo)}}F.render=X.render||NOOP}setCurrentInstance(F),pauseTracking(),applyOptions(F),resetTracking(),unsetCurrentInstance()}function getAttrsProxy(F){return F.attrsProxy||(F.attrsProxy=new Proxy(F.attrs,{get(W,q){return track(F,"get","$attrs"),W[q]}}))}function createSetupContext(F){const W=q=>{F.exposed=q||{}};return{get attrs(){return getAttrsProxy(F)},slots:F.slots,emit:F.emit,expose:W}}function getExposeProxy(F){if(F.exposed)return F.exposeProxy||(F.exposeProxy=new Proxy(proxyRefs(markRaw(F.exposed)),{get(W,q){if(q in W)return W[q];if(q in publicPropertiesMap)return publicPropertiesMap[q](F)},has(W,q){return q in W||q in publicPropertiesMap}}))}function isClassComponent(F){return isFunction$1(F)&&"__vccOpts"in F}const computed=(F,W)=>computed$1(F,W,isInSSRComponentSetup),ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey),version$1="3.3.4",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(F,W,q)=>{W.insertBefore(F,q||null)},remove:F=>{const W=F.parentNode;W&&W.removeChild(F)},createElement:(F,W,q,X)=>{const tt=W?doc.createElementNS(svgNS,F):doc.createElement(F,q?{is:q}:void 0);return F==="select"&&X&&X.multiple!=null&&tt.setAttribute("multiple",X.multiple),tt},createText:F=>doc.createTextNode(F),createComment:F=>doc.createComment(F),setText:(F,W)=>{F.nodeValue=W},setElementText:(F,W)=>{F.textContent=W},parentNode:F=>F.parentNode,nextSibling:F=>F.nextSibling,querySelector:F=>doc.querySelector(F),setScopeId(F,W){F.setAttribute(W,"")},insertStaticContent(F,W,q,X,tt,ot){const at=q?q.previousSibling:W.lastChild;if(tt&&(tt===ot||tt.nextSibling))for(;W.insertBefore(tt.cloneNode(!0),q),!(tt===ot||!(tt=tt.nextSibling)););else{templateContainer.innerHTML=X?`<svg>${F}</svg>`:F;const ut=templateContainer.content;if(X){const wt=ut.firstChild;for(;wt.firstChild;)ut.appendChild(wt.firstChild);ut.removeChild(wt)}W.insertBefore(ut,q)}return[at?at.nextSibling:W.firstChild,q?q.previousSibling:W.lastChild]}};function patchClass(F,W,q){const X=F._vtc;X&&(W=(W?[W,...X]:[...X]).join(" ")),W==null?F.removeAttribute("class"):q?F.setAttribute("class",W):F.className=W}function patchStyle(F,W,q){const X=F.style,tt=isString(q);if(q&&!tt){if(W&&!isString(W))for(const ot in W)q[ot]==null&&setStyle(X,ot,"");for(const ot in q)setStyle(X,ot,q[ot])}else{const ot=X.display;tt?W!==q&&(X.cssText=q):W&&F.removeAttribute("style"),"_vod"in F&&(X.display=ot)}}const importantRE=/\s*!important$/;function setStyle(F,W,q){if(isArray$2(q))q.forEach(X=>setStyle(F,W,X));else if(q==null&&(q=""),W.startsWith("--"))F.setProperty(W,q);else{const X=autoPrefix(F,W);importantRE.test(q)?F.setProperty(hyphenate(X),q.replace(importantRE,""),"important"):F[X]=q}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(F,W){const q=prefixCache[W];if(q)return q;let X=camelize(W);if(X!=="filter"&&X in F)return prefixCache[W]=X;X=capitalize(X);for(let tt=0;tt<prefixes.length;tt++){const ot=prefixes[tt]+X;if(ot in F)return prefixCache[W]=ot}return W}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(F,W,q,X,tt){if(X&&W.startsWith("xlink:"))q==null?F.removeAttributeNS(xlinkNS,W.slice(6,W.length)):F.setAttributeNS(xlinkNS,W,q);else{const ot=isSpecialBooleanAttr(W);q==null||ot&&!includeBooleanAttr(q)?F.removeAttribute(W):F.setAttribute(W,ot?"":q)}}function patchDOMProp(F,W,q,X,tt,ot,at){if(W==="innerHTML"||W==="textContent"){X&&at(X,tt,ot),F[W]=q??"";return}const ut=F.tagName;if(W==="value"&&ut!=="PROGRESS"&&!ut.includes("-")){F._value=q;const uo=ut==="OPTION"?F.getAttribute("value"):F.value,mo=q??"";uo!==mo&&(F.value=mo),q==null&&F.removeAttribute(W);return}let wt=!1;if(q===""||q==null){const uo=typeof F[W];uo==="boolean"?q=includeBooleanAttr(q):q==null&&uo==="string"?(q="",wt=!0):uo==="number"&&(q=0,wt=!0)}try{F[W]=q}catch{}wt&&F.removeAttribute(W)}function addEventListener(F,W,q,X){F.addEventListener(W,q,X)}function removeEventListener(F,W,q,X){F.removeEventListener(W,q,X)}function patchEvent(F,W,q,X,tt=null){const ot=F._vei||(F._vei={}),at=ot[W];if(X&&at)at.value=X;else{const[ut,wt]=parseName(W);if(X){const uo=ot[W]=createInvoker(X,tt);addEventListener(F,ut,uo,wt)}else at&&(removeEventListener(F,ut,at,wt),ot[W]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(F){let W;if(optionsModifierRE.test(F)){W={};let X;for(;X=F.match(optionsModifierRE);)F=F.slice(0,F.length-X[0].length),W[X[0].toLowerCase()]=!0}return[F[2]===":"?F.slice(3):hyphenate(F.slice(2)),W]}let cachedNow=0;const p$3=Promise.resolve(),getNow=()=>cachedNow||(p$3.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(F,W){const q=X=>{if(!X._vts)X._vts=Date.now();else if(X._vts<=q.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(X,q.value),W,5,[X])};return q.value=F,q.attached=getNow(),q}function patchStopImmediatePropagation(F,W){if(isArray$2(W)){const q=F.stopImmediatePropagation;return F.stopImmediatePropagation=()=>{q.call(F),F._stopped=!0},W.map(X=>tt=>!tt._stopped&&X&&X(tt))}else return W}const nativeOnRE=/^on[a-z]/,patchProp=(F,W,q,X,tt=!1,ot,at,ut,wt)=>{W==="class"?patchClass(F,X,tt):W==="style"?patchStyle(F,q,X):isOn(W)?isModelListener(W)||patchEvent(F,W,q,X,at):(W[0]==="."?(W=W.slice(1),!0):W[0]==="^"?(W=W.slice(1),!1):shouldSetAsProp(F,W,X,tt))?patchDOMProp(F,W,X,ot,at,ut,wt):(W==="true-value"?F._trueValue=X:W==="false-value"&&(F._falseValue=X),patchAttr(F,W,X,tt))};function shouldSetAsProp(F,W,q,X){return X?!!(W==="innerHTML"||W==="textContent"||W in F&&nativeOnRE.test(W)&&isFunction$1(q)):W==="spellcheck"||W==="draggable"||W==="translate"||W==="form"||W==="list"&&F.tagName==="INPUT"||W==="type"&&F.tagName==="TEXTAREA"||nativeOnRE.test(W)&&isString(q)?!1:W in F}function defineCustomElement(F,W){const q=defineComponent(F);class X extends VueElement{constructor(ot){super(q,ot,W)}}return X.def=q,X}const BaseClass=typeof HTMLElement<"u"?HTMLElement:class{};class VueElement extends BaseClass{constructor(W,q={},X){super(),this._def=W,this._props=q,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&X?X(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,nextTick(()=>{this._connected||(render$2(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let X=0;X<this.attributes.length;X++)this._setAttr(this.attributes[X].name);new MutationObserver(X=>{for(const tt of X)this._setAttr(tt.attributeName)}).observe(this,{attributes:!0});const W=(X,tt=!1)=>{const{props:ot,styles:at}=X;let ut;if(ot&&!isArray$2(ot))for(const wt in ot){const uo=ot[wt];(uo===Number||uo&&uo.type===Number)&&(wt in this._props&&(this._props[wt]=toNumber(this._props[wt])),(ut||(ut=Object.create(null)))[camelize(wt)]=!0)}this._numberProps=ut,tt&&this._resolveProps(X),this._applyStyles(at),this._update()},q=this._def.__asyncLoader;q?q().then(X=>W(X,!0)):W(this._def)}_resolveProps(W){const{props:q}=W,X=isArray$2(q)?q:Object.keys(q||{});for(const tt of Object.keys(this))tt[0]!=="_"&&X.includes(tt)&&this._setProp(tt,this[tt],!0,!1);for(const tt of X.map(camelize))Object.defineProperty(this,tt,{get(){return this._getProp(tt)},set(ot){this._setProp(tt,ot)}})}_setAttr(W){let q=this.getAttribute(W);const X=camelize(W);this._numberProps&&this._numberProps[X]&&(q=toNumber(q)),this._setProp(X,q,!1)}_getProp(W){return this._props[W]}_setProp(W,q,X=!0,tt=!0){q!==this._props[W]&&(this._props[W]=q,tt&&this._instance&&this._update(),X&&(q===!0?this.setAttribute(hyphenate(W),""):typeof q=="string"||typeof q=="number"?this.setAttribute(hyphenate(W),q+""):q||this.removeAttribute(hyphenate(W))))}_update(){render$2(this._createVNode(),this.shadowRoot)}_createVNode(){const W=createVNode(this._def,extend$3({},this._props));return this._instance||(W.ce=q=>{this._instance=q,q.isCE=!0;const X=(ot,at)=>{this.dispatchEvent(new CustomEvent(ot,{detail:at}))};q.emit=(ot,...at)=>{X(ot,at),hyphenate(ot)!==ot&&X(hyphenate(ot),at)};let tt=this;for(;tt=tt&&(tt.parentNode||tt.host);)if(tt instanceof VueElement){q.parent=tt._instance,q.provides=tt._instance.provides;break}}),W}_applyStyles(W){W&&W.forEach(q=>{const X=document.createElement("style");X.textContent=q,this.shadowRoot.appendChild(X)})}}const rendererOptions=extend$3({patchProp},nodeOps);let renderer$1;function ensureRenderer(){return renderer$1||(renderer$1=createRenderer(rendererOptions))}const render$2=(...F)=>{ensureRenderer().render(...F)};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t$3=globalThis,e$9=t$3.ShadowRoot&&(t$3.ShadyCSS===void 0||t$3.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s$4=Symbol(),o$9=new WeakMap;let n$7=class{constructor(W,q,X){if(this._$cssResult$=!0,X!==s$4)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=W,this.t=q}get styleSheet(){let W=this.o;const q=this.t;if(e$9&&W===void 0){const X=q!==void 0&&q.length===1;X&&(W=o$9.get(q)),W===void 0&&((this.o=W=new CSSStyleSheet).replaceSync(this.cssText),X&&o$9.set(q,W))}return W}toString(){return this.cssText}};const r$7=F=>new n$7(typeof F=="string"?F:F+"",void 0,s$4),i$6=(F,...W)=>{const q=F.length===1?F[0]:W.reduce((X,tt,ot)=>X+(at=>{if(at._$cssResult$===!0)return at.cssText;if(typeof at=="number")return at;throw Error("Value passed to 'css' function must be a 'css' function result: "+at+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(tt)+F[ot+1],F[0]);return new n$7(q,F,s$4)},S$1=(F,W)=>{if(e$9)F.adoptedStyleSheets=W.map(q=>q instanceof CSSStyleSheet?q:q.styleSheet);else for(const q of W){const X=document.createElement("style"),tt=t$3.litNonce;tt!==void 0&&X.setAttribute("nonce",tt),X.textContent=q.cssText,F.appendChild(X)}},c$3=e$9?F=>F:F=>F instanceof CSSStyleSheet?(W=>{let q="";for(const X of W.cssRules)q+=X.cssText;return r$7(q)})(F):F;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:i$5,defineProperty:e$8,getOwnPropertyDescriptor:r$6,getOwnPropertyNames:h$3,getOwnPropertySymbols:o$8,getPrototypeOf:n$6}=Object,a$2=globalThis,c$2=a$2.trustedTypes,l$3=c$2?c$2.emptyScript:"",p$2=a$2.reactiveElementPolyfillSupport,d$1=(F,W)=>F,u$2={toAttribute(F,W){switch(W){case Boolean:F=F?l$3:null;break;case Object:case Array:F=F==null?F:JSON.stringify(F)}return F},fromAttribute(F,W){let q=F;switch(W){case Boolean:q=F!==null;break;case Number:q=F===null?null:Number(F);break;case Object:case Array:try{q=JSON.parse(F)}catch{q=null}}return q}},f$3=(F,W)=>!i$5(F,W),y$1={attribute:!0,type:String,converter:u$2,reflect:!1,hasChanged:f$3};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),a$2.litPropertyMetadata??(a$2.litPropertyMetadata=new WeakMap);let b$1=class extends HTMLElement{static addInitializer(W){this._$Ei(),(this.l??(this.l=[])).push(W)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(W,q=y$1){if(q.state&&(q.attribute=!1),this._$Ei(),this.elementProperties.set(W,q),!q.noAccessor){const X=Symbol(),tt=this.getPropertyDescriptor(W,X,q);tt!==void 0&&e$8(this.prototype,W,tt)}}static getPropertyDescriptor(W,q,X){const{get:tt,set:ot}=r$6(this.prototype,W)??{get(){return this[q]},set(at){this[q]=at}};return{get(){return tt==null?void 0:tt.call(this)},set(at){const ut=tt==null?void 0:tt.call(this);ot.call(this,at),this.requestUpdate(W,ut,X)},configurable:!0,enumerable:!0}}static getPropertyOptions(W){return this.elementProperties.get(W)??y$1}static _$Ei(){if(this.hasOwnProperty(d$1("elementProperties")))return;const W=n$6(this);W.finalize(),W.l!==void 0&&(this.l=[...W.l]),this.elementProperties=new Map(W.elementProperties)}static finalize(){if(this.hasOwnProperty(d$1("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(d$1("properties"))){const q=this.properties,X=[...h$3(q),...o$8(q)];for(const tt of X)this.createProperty(tt,q[tt])}const W=this[Symbol.metadata];if(W!==null){const q=litPropertyMetadata.get(W);if(q!==void 0)for(const[X,tt]of q)this.elementProperties.set(X,tt)}this._$Eh=new Map;for(const[q,X]of this.elementProperties){const tt=this._$Eu(q,X);tt!==void 0&&this._$Eh.set(tt,q)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(W){const q=[];if(Array.isArray(W)){const X=new Set(W.flat(1/0).reverse());for(const tt of X)q.unshift(c$3(tt))}else W!==void 0&&q.push(c$3(W));return q}static _$Eu(W,q){const X=q.attribute;return X===!1?void 0:typeof X=="string"?X:typeof W=="string"?W.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var W;this._$ES=new Promise(q=>this.enableUpdating=q),this._$AL=new Map,this._$E_(),this.requestUpdate(),(W=this.constructor.l)==null||W.forEach(q=>q(this))}addController(W){var q;(this._$EO??(this._$EO=new Set)).add(W),this.renderRoot!==void 0&&this.isConnected&&((q=W.hostConnected)==null||q.call(W))}removeController(W){var q;(q=this._$EO)==null||q.delete(W)}_$E_(){const W=new Map,q=this.constructor.elementProperties;for(const X of q.keys())this.hasOwnProperty(X)&&(W.set(X,this[X]),delete this[X]);W.size>0&&(this._$Ep=W)}createRenderRoot(){const W=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return S$1(W,this.constructor.elementStyles),W}connectedCallback(){var W;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(W=this._$EO)==null||W.forEach(q=>{var X;return(X=q.hostConnected)==null?void 0:X.call(q)})}enableUpdating(W){}disconnectedCallback(){var W;(W=this._$EO)==null||W.forEach(q=>{var X;return(X=q.hostDisconnected)==null?void 0:X.call(q)})}attributeChangedCallback(W,q,X){this._$AK(W,X)}_$EC(W,q){var ot;const X=this.constructor.elementProperties.get(W),tt=this.constructor._$Eu(W,X);if(tt!==void 0&&X.reflect===!0){const at=(((ot=X.converter)==null?void 0:ot.toAttribute)!==void 0?X.converter:u$2).toAttribute(q,X.type);this._$Em=W,at==null?this.removeAttribute(tt):this.setAttribute(tt,at),this._$Em=null}}_$AK(W,q){var ot;const X=this.constructor,tt=X._$Eh.get(W);if(tt!==void 0&&this._$Em!==tt){const at=X.getPropertyOptions(tt),ut=typeof at.converter=="function"?{fromAttribute:at.converter}:((ot=at.converter)==null?void 0:ot.fromAttribute)!==void 0?at.converter:u$2;this._$Em=tt,this[tt]=ut.fromAttribute(q,at.type),this._$Em=null}}requestUpdate(W,q,X){if(W!==void 0){if(X??(X=this.constructor.getPropertyOptions(W)),!(X.hasChanged??f$3)(this[W],q))return;this.P(W,q,X)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(W,q,X){this._$AL.has(W)||this._$AL.set(W,q),X.reflect===!0&&this._$Em!==W&&(this._$Ej??(this._$Ej=new Set)).add(W)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(q){Promise.reject(q)}const W=this.scheduleUpdate();return W!=null&&await W,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var X;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[ot,at]of this._$Ep)this[ot]=at;this._$Ep=void 0}const tt=this.constructor.elementProperties;if(tt.size>0)for(const[ot,at]of tt)at.wrapped!==!0||this._$AL.has(ot)||this[ot]===void 0||this.P(ot,this[ot],at)}let W=!1;const q=this._$AL;try{W=this.shouldUpdate(q),W?(this.willUpdate(q),(X=this._$EO)==null||X.forEach(tt=>{var ot;return(ot=tt.hostUpdate)==null?void 0:ot.call(tt)}),this.update(q)):this._$EU()}catch(tt){throw W=!1,this._$EU(),tt}W&&this._$AE(q)}willUpdate(W){}_$AE(W){var q;(q=this._$EO)==null||q.forEach(X=>{var tt;return(tt=X.hostUpdated)==null?void 0:tt.call(X)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(W)),this.updated(W)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(W){return!0}update(W){this._$Ej&&(this._$Ej=this._$Ej.forEach(q=>this._$EC(q,this[q]))),this._$EU()}updated(W){}firstUpdated(W){}};b$1.elementStyles=[],b$1.shadowRootOptions={mode:"open"},b$1[d$1("elementProperties")]=new Map,b$1[d$1("finalized")]=new Map,p$2==null||p$2({ReactiveElement:b$1}),(a$2.reactiveElementVersions??(a$2.reactiveElementVersions=[])).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t$2=globalThis,i$4=t$2.trustedTypes,s$3=i$4?i$4.createPolicy("lit-html",{createHTML:F=>F}):void 0,e$7="$lit$",h$2=`lit$${(Math.random()+"").slice(9)}$`,o$7="?"+h$2,n$5=`<${o$7}>`,r$5=document,l$2=()=>r$5.createComment(""),c$1=F=>F===null||typeof F!="object"&&typeof F!="function",a$1=Array.isArray,u$1=F=>a$1(F)||typeof(F==null?void 0:F[Symbol.iterator])=="function",d=`[ 	
\f\r]`,f$2=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v=/-->/g,_$1=/>/g,m$3=RegExp(`>|${d}(?:([^\\s"'>=/]+)(${d}*=${d}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),p$1=/'/g,g=/"/g,$$2=/^(?:script|style|textarea|title)$/i,y=F=>(W,...q)=>({_$litType$:F,strings:W,values:q}),x=y(1),w=Symbol.for("lit-noChange"),T=Symbol.for("lit-nothing"),A=new WeakMap,E=r$5.createTreeWalker(r$5,129);function C(F,W){if(!Array.isArray(F)||!F.hasOwnProperty("raw"))throw Error("invalid template strings array");return s$3!==void 0?s$3.createHTML(W):W}const P$1=(F,W)=>{const q=F.length-1,X=[];let tt,ot=W===2?"<svg>":"",at=f$2;for(let ut=0;ut<q;ut++){const wt=F[ut];let uo,mo,yo=-1,lf=0;for(;lf<wt.length&&(at.lastIndex=lf,mo=at.exec(wt),mo!==null);)lf=at.lastIndex,at===f$2?mo[1]==="!--"?at=v:mo[1]!==void 0?at=_$1:mo[2]!==void 0?($$2.test(mo[2])&&(tt=RegExp("</"+mo[2],"g")),at=m$3):mo[3]!==void 0&&(at=m$3):at===m$3?mo[0]===">"?(at=tt??f$2,yo=-1):mo[1]===void 0?yo=-2:(yo=at.lastIndex-mo[2].length,uo=mo[1],at=mo[3]===void 0?m$3:mo[3]==='"'?g:p$1):at===g||at===p$1?at=m$3:at===v||at===_$1?at=f$2:(at=m$3,tt=void 0);const uf=at===m$3&&F[ut+1].startsWith("/>")?" ":"";ot+=at===f$2?wt+n$5:yo>=0?(X.push(uo),wt.slice(0,yo)+e$7+wt.slice(yo)+h$2+uf):wt+h$2+(yo===-2?ut:uf)}return[C(F,ot+(F[q]||"<?>")+(W===2?"</svg>":"")),X]};class V{constructor({strings:W,_$litType$:q},X){let tt;this.parts=[];let ot=0,at=0;const ut=W.length-1,wt=this.parts,[uo,mo]=P$1(W,q);if(this.el=V.createElement(uo,X),E.currentNode=this.el.content,q===2){const yo=this.el.content.firstChild;yo.replaceWith(...yo.childNodes)}for(;(tt=E.nextNode())!==null&&wt.length<ut;){if(tt.nodeType===1){if(tt.hasAttributes())for(const yo of tt.getAttributeNames())if(yo.endsWith(e$7)){const lf=mo[at++],uf=tt.getAttribute(yo).split(h$2),df=/([.?@])?(.*)/.exec(lf);wt.push({type:1,index:ot,name:df[2],strings:uf,ctor:df[1]==="."?k$1:df[1]==="?"?H$1:df[1]==="@"?I:R$1}),tt.removeAttribute(yo)}else yo.startsWith(h$2)&&(wt.push({type:6,index:ot}),tt.removeAttribute(yo));if($$2.test(tt.tagName)){const yo=tt.textContent.split(h$2),lf=yo.length-1;if(lf>0){tt.textContent=i$4?i$4.emptyScript:"";for(let uf=0;uf<lf;uf++)tt.append(yo[uf],l$2()),E.nextNode(),wt.push({type:2,index:++ot});tt.append(yo[lf],l$2())}}}else if(tt.nodeType===8)if(tt.data===o$7)wt.push({type:2,index:ot});else{let yo=-1;for(;(yo=tt.data.indexOf(h$2,yo+1))!==-1;)wt.push({type:7,index:ot}),yo+=h$2.length-1}ot++}}static createElement(W,q){const X=r$5.createElement("template");return X.innerHTML=W,X}}function N$1(F,W,q=F,X){var at,ut;if(W===w)return W;let tt=X!==void 0?(at=q._$Co)==null?void 0:at[X]:q._$Cl;const ot=c$1(W)?void 0:W._$litDirective$;return(tt==null?void 0:tt.constructor)!==ot&&((ut=tt==null?void 0:tt._$AO)==null||ut.call(tt,!1),ot===void 0?tt=void 0:(tt=new ot(F),tt._$AT(F,q,X)),X!==void 0?(q._$Co??(q._$Co=[]))[X]=tt:q._$Cl=tt),tt!==void 0&&(W=N$1(F,tt._$AS(F,W.values),tt,X)),W}class S{constructor(W,q){this._$AV=[],this._$AN=void 0,this._$AD=W,this._$AM=q}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(W){const{el:{content:q},parts:X}=this._$AD,tt=((W==null?void 0:W.creationScope)??r$5).importNode(q,!0);E.currentNode=tt;let ot=E.nextNode(),at=0,ut=0,wt=X[0];for(;wt!==void 0;){if(at===wt.index){let uo;wt.type===2?uo=new M(ot,ot.nextSibling,this,W):wt.type===1?uo=new wt.ctor(ot,wt.name,wt.strings,this,W):wt.type===6&&(uo=new L$3(ot,this,W)),this._$AV.push(uo),wt=X[++ut]}at!==(wt==null?void 0:wt.index)&&(ot=E.nextNode(),at++)}return E.currentNode=r$5,tt}p(W){let q=0;for(const X of this._$AV)X!==void 0&&(X.strings!==void 0?(X._$AI(W,X,q),q+=X.strings.length-2):X._$AI(W[q])),q++}}class M{get _$AU(){var W;return((W=this._$AM)==null?void 0:W._$AU)??this._$Cv}constructor(W,q,X,tt){this.type=2,this._$AH=T,this._$AN=void 0,this._$AA=W,this._$AB=q,this._$AM=X,this.options=tt,this._$Cv=(tt==null?void 0:tt.isConnected)??!0}get parentNode(){let W=this._$AA.parentNode;const q=this._$AM;return q!==void 0&&(W==null?void 0:W.nodeType)===11&&(W=q.parentNode),W}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(W,q=this){W=N$1(this,W,q),c$1(W)?W===T||W==null||W===""?(this._$AH!==T&&this._$AR(),this._$AH=T):W!==this._$AH&&W!==w&&this._(W):W._$litType$!==void 0?this.$(W):W.nodeType!==void 0?this.T(W):u$1(W)?this.k(W):this._(W)}S(W){return this._$AA.parentNode.insertBefore(W,this._$AB)}T(W){this._$AH!==W&&(this._$AR(),this._$AH=this.S(W))}_(W){this._$AH!==T&&c$1(this._$AH)?this._$AA.nextSibling.data=W:this.T(r$5.createTextNode(W)),this._$AH=W}$(W){var ot;const{values:q,_$litType$:X}=W,tt=typeof X=="number"?this._$AC(W):(X.el===void 0&&(X.el=V.createElement(C(X.h,X.h[0]),this.options)),X);if(((ot=this._$AH)==null?void 0:ot._$AD)===tt)this._$AH.p(q);else{const at=new S(tt,this),ut=at.u(this.options);at.p(q),this.T(ut),this._$AH=at}}_$AC(W){let q=A.get(W.strings);return q===void 0&&A.set(W.strings,q=new V(W)),q}k(W){a$1(this._$AH)||(this._$AH=[],this._$AR());const q=this._$AH;let X,tt=0;for(const ot of W)tt===q.length?q.push(X=new M(this.S(l$2()),this.S(l$2()),this,this.options)):X=q[tt],X._$AI(ot),tt++;tt<q.length&&(this._$AR(X&&X._$AB.nextSibling,tt),q.length=tt)}_$AR(W=this._$AA.nextSibling,q){var X;for((X=this._$AP)==null?void 0:X.call(this,!1,!0,q);W&&W!==this._$AB;){const tt=W.nextSibling;W.remove(),W=tt}}setConnected(W){var q;this._$AM===void 0&&(this._$Cv=W,(q=this._$AP)==null||q.call(this,W))}}let R$1=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(W,q,X,tt,ot){this.type=1,this._$AH=T,this._$AN=void 0,this.element=W,this.name=q,this._$AM=tt,this.options=ot,X.length>2||X[0]!==""||X[1]!==""?(this._$AH=Array(X.length-1).fill(new String),this.strings=X):this._$AH=T}_$AI(W,q=this,X,tt){const ot=this.strings;let at=!1;if(ot===void 0)W=N$1(this,W,q,0),at=!c$1(W)||W!==this._$AH&&W!==w,at&&(this._$AH=W);else{const ut=W;let wt,uo;for(W=ot[0],wt=0;wt<ot.length-1;wt++)uo=N$1(this,ut[X+wt],q,wt),uo===w&&(uo=this._$AH[wt]),at||(at=!c$1(uo)||uo!==this._$AH[wt]),uo===T?W=T:W!==T&&(W+=(uo??"")+ot[wt+1]),this._$AH[wt]=uo}at&&!tt&&this.j(W)}j(W){W===T?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,W??"")}},k$1=class extends R$1{constructor(){super(...arguments),this.type=3}j(W){this.element[this.name]=W===T?void 0:W}},H$1=class extends R$1{constructor(){super(...arguments),this.type=4}j(W){this.element.toggleAttribute(this.name,!!W&&W!==T)}};class I extends R$1{constructor(W,q,X,tt,ot){super(W,q,X,tt,ot),this.type=5}_$AI(W,q=this){if((W=N$1(this,W,q,0)??T)===w)return;const X=this._$AH,tt=W===T&&X!==T||W.capture!==X.capture||W.once!==X.once||W.passive!==X.passive,ot=W!==T&&(X===T||tt);tt&&this.element.removeEventListener(this.name,this,X),ot&&this.element.addEventListener(this.name,this,W),this._$AH=W}handleEvent(W){var q;typeof this._$AH=="function"?this._$AH.call(((q=this.options)==null?void 0:q.host)??this.element,W):this._$AH.handleEvent(W)}}let L$3=class{constructor(W,q,X){this.element=W,this.type=6,this._$AN=void 0,this._$AM=q,this.options=X}get _$AU(){return this._$AM._$AU}_$AI(W){N$1(this,W)}};const Z$1=t$2.litHtmlPolyfillSupport;Z$1==null||Z$1(V,M),(t$2.litHtmlVersions??(t$2.litHtmlVersions=[])).push("3.1.2");const j$1=(F,W,q)=>{const X=(q==null?void 0:q.renderBefore)??W;let tt=X._$litPart$;if(tt===void 0){const ot=(q==null?void 0:q.renderBefore)??null;X._$litPart$=tt=new M(W.insertBefore(l$2(),ot),ot,void 0,q??{})}return tt._$AI(F),tt};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let s$2=class extends b$1{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var q;const W=super.createRenderRoot();return(q=this.renderOptions).renderBefore??(q.renderBefore=W.firstChild),W}update(W){const q=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(W),this._$Do=j$1(q,this.renderRoot,this.renderOptions)}connectedCallback(){var W;super.connectedCallback(),(W=this._$Do)==null||W.setConnected(!0)}disconnectedCallback(){var W;super.disconnectedCallback(),(W=this._$Do)==null||W.setConnected(!1)}render(){return w}};var gP;s$2._$litElement$=!0,s$2.finalized=!0,(gP=globalThis.litElementHydrateSupport)==null||gP.call(globalThis,{LitElement:s$2});const r$4=globalThis.litElementPolyfillSupport;r$4==null||r$4({LitElement:s$2});(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.0.4");var component_styles_default=i$6`
  :host {
    box-sizing: border-box;
  }

  :host *,
  :host *::before,
  :host *::after {
    box-sizing: inherit;
  }

  [hidden] {
    display: none !important;
  }
`,badge_styles_default=i$6`
  ${component_styles_default}

  :host {
    display: inline-flex;
  }

  .badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: max(12px, 0.75em);
    font-weight: var(--sl-font-weight-semibold);
    letter-spacing: var(--sl-letter-spacing-normal);
    line-height: 1;
    border-radius: var(--sl-border-radius-small);
    border: solid 1px var(--sl-color-neutral-0);
    white-space: nowrap;
    padding: 0.35em 0.6em;
    user-select: none;
    -webkit-user-select: none;
    cursor: inherit;
  }

  /* Variant modifiers */
  .badge--primary {
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .badge--success {
    background-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .badge--neutral {
    background-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .badge--warning {
    background-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  .badge--danger {
    background-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  /* Pill modifier */
  .badge--pill {
    border-radius: var(--sl-border-radius-pill);
  }

  /* Pulse modifier */
  .badge--pulse {
    animation: pulse 1.5s infinite;
  }

  .badge--pulse.badge--primary {
    --pulse-color: var(--sl-color-primary-600);
  }

  .badge--pulse.badge--success {
    --pulse-color: var(--sl-color-success-600);
  }

  .badge--pulse.badge--neutral {
    --pulse-color: var(--sl-color-neutral-600);
  }

  .badge--pulse.badge--warning {
    --pulse-color: var(--sl-color-warning-600);
  }

  .badge--pulse.badge--danger {
    --pulse-color: var(--sl-color-danger-600);
  }

  @keyframes pulse {
    0% {
      box-shadow: 0 0 0 0 var(--pulse-color);
    }
    70% {
      box-shadow: 0 0 0 0.5rem transparent;
    }
    100% {
      box-shadow: 0 0 0 0 transparent;
    }
  }
`,__defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__knownSymbol=(F,W)=>(W=Symbol[F])?W:Symbol.for("Symbol."+F),__defNormalProp=(F,W,q)=>W in F?__defProp(F,W,{enumerable:!0,configurable:!0,writable:!0,value:q}):F[W]=q,__spreadValues=(F,W)=>{for(var q in W||(W={}))__hasOwnProp.call(W,q)&&__defNormalProp(F,q,W[q]);if(__getOwnPropSymbols)for(var q of __getOwnPropSymbols(W))__propIsEnum.call(W,q)&&__defNormalProp(F,q,W[q]);return F},__spreadProps=(F,W)=>__defProps(F,__getOwnPropDescs(W)),__decorateClass=(F,W,q,X)=>{for(var tt=X>1?void 0:X?__getOwnPropDesc(W,q):W,ot=F.length-1,at;ot>=0;ot--)(at=F[ot])&&(tt=(X?at(W,q,tt):at(tt))||tt);return X&&tt&&__defProp(W,q,tt),tt},__await=function(F,W){this[0]=F,this[1]=W},__yieldStar=F=>{var W=F[__knownSymbol("asyncIterator")],q=!1,X,tt={};return W==null?(W=F[__knownSymbol("iterator")](),X=ot=>tt[ot]=at=>W[ot](at)):(W=W.call(F),X=ot=>tt[ot]=at=>{if(q){if(q=!1,ot==="throw")throw at;return at}return q=!0,{done:!1,value:new __await(new Promise(ut=>{var wt=W[ot](at);if(!(wt instanceof Object))throw TypeError("Object expected");ut(wt)}),1)}}),tt[__knownSymbol("iterator")]=()=>tt,X("next"),"throw"in W?X("throw"):tt.throw=ot=>{throw ot},"return"in W&&X("return"),tt};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const o$6={attribute:!0,type:String,converter:u$2,reflect:!1,hasChanged:f$3},r$3=(F=o$6,W,q)=>{const{kind:X,metadata:tt}=q;let ot=globalThis.litPropertyMetadata.get(tt);if(ot===void 0&&globalThis.litPropertyMetadata.set(tt,ot=new Map),ot.set(q.name,F),X==="accessor"){const{name:at}=q;return{set(ut){const wt=W.get.call(this);W.set.call(this,ut),this.requestUpdate(at,wt,F)},init(ut){return ut!==void 0&&this.P(at,void 0,F),ut}}}if(X==="setter"){const{name:at}=q;return function(ut){const wt=this[at];W.call(this,ut),this.requestUpdate(at,wt,F)}}throw Error("Unsupported decorator location: "+X)};function n$4(F){return(W,q)=>typeof q=="object"?r$3(F,W,q):((X,tt,ot)=>{const at=tt.hasOwnProperty(ot);return tt.constructor.createProperty(ot,at?{...X,wrapped:!0}:X),at?Object.getOwnPropertyDescriptor(tt,ot):void 0})(F,W,q)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function r$2(F){return n$4({...F,state:!0,attribute:!1})}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const e$6=(F,W,q)=>(q.configurable=!0,q.enumerable=!0,Reflect.decorate&&typeof W!="object"&&Object.defineProperty(F,W,q),q);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function e$5(F,W){return(q,X,tt)=>{const ot=at=>{var ut;return((ut=at.renderRoot)==null?void 0:ut.querySelector(F))??null};if(W){const{get:at,set:ut}=typeof X=="object"?q:tt??(()=>{const wt=Symbol();return{get(){return this[wt]},set(uo){this[wt]=uo}}})();return e$6(q,X,{get(){let wt=at.call(this);return wt===void 0&&(wt=ot(this),(wt!==null||this.hasUpdated)&&ut.call(this,wt)),wt}})}return e$6(q,X,{get(){return ot(this)}})}}var ShoelaceElement=class extends s$2{constructor(){super(),Object.entries(this.constructor.dependencies).forEach(([F,W])=>{this.constructor.define(F,W)})}emit(F,W){const q=new CustomEvent(F,__spreadValues({bubbles:!0,cancelable:!1,composed:!0,detail:{}},W));return this.dispatchEvent(q),q}static define(F,W=this,q={}){const X=customElements.get(F);if(!X){customElements.define(F,class extends W{},q);return}let tt=" (unknown version)",ot=tt;"version"in W&&W.version&&(tt=" v"+W.version),"version"in X&&X.version&&(ot=" v"+X.version),!(tt&&ot&&tt===ot)&&console.warn(`Attempted to register <${F}>${tt}, but <${F}>${ot} has already been registered.`)}};ShoelaceElement.version="2.13.1";ShoelaceElement.dependencies={};__decorateClass([n$4()],ShoelaceElement.prototype,"dir",2);__decorateClass([n$4()],ShoelaceElement.prototype,"lang",2);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t$1={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},e$4=F=>(...W)=>({_$litDirective$:F,values:W});let i$3=class{constructor(W){}get _$AU(){return this._$AM._$AU}_$AT(W,q,X){this._$Ct=W,this._$AM=q,this._$Ci=X}_$AS(W,q){return this.update(W,q)}update(W,q){return this.render(...q)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const e$3=e$4(class extends i$3{constructor(F){var W;if(super(F),F.type!==t$1.ATTRIBUTE||F.name!=="class"||((W=F.strings)==null?void 0:W.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(F){return" "+Object.keys(F).filter(W=>F[W]).join(" ")+" "}update(F,[W]){var X,tt;if(this.st===void 0){this.st=new Set,F.strings!==void 0&&(this.nt=new Set(F.strings.join(" ").split(/\s/).filter(ot=>ot!=="")));for(const ot in W)W[ot]&&!((X=this.nt)!=null&&X.has(ot))&&this.st.add(ot);return this.render(W)}const q=F.element.classList;for(const ot of this.st)ot in W||(q.remove(ot),this.st.delete(ot));for(const ot in W){const at=!!W[ot];at===this.st.has(ot)||(tt=this.nt)!=null&&tt.has(ot)||(at?(q.add(ot),this.st.add(ot)):(q.remove(ot),this.st.delete(ot)))}return w}});var SlBadge=class extends ShoelaceElement{constructor(){super(...arguments),this.variant="primary",this.pill=!1,this.pulse=!1}render(){return x`
      <span
        part="base"
        class=${e$3({badge:!0,"badge--primary":this.variant==="primary","badge--success":this.variant==="success","badge--neutral":this.variant==="neutral","badge--warning":this.variant==="warning","badge--danger":this.variant==="danger","badge--pill":this.pill,"badge--pulse":this.pulse})}
        role="status"
      >
        <slot></slot>
      </span>
    `}};SlBadge.styles=badge_styles_default;__decorateClass([n$4({reflect:!0})],SlBadge.prototype,"variant",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlBadge.prototype,"pill",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlBadge.prototype,"pulse",2);SlBadge.define("sl-badge");var spinner_styles_default=i$6`
  ${component_styles_default}

  :host {
    --track-width: 2px;
    --track-color: rgb(128 128 128 / 25%);
    --indicator-color: var(--sl-color-primary-600);
    --speed: 2s;

    display: inline-flex;
    width: 1em;
    height: 1em;
    flex: none;
  }

  .spinner {
    flex: 1 1 auto;
    height: 100%;
    width: 100%;
  }

  .spinner__track,
  .spinner__indicator {
    fill: none;
    stroke-width: var(--track-width);
    r: calc(0.5em - var(--track-width) / 2);
    cx: 0.5em;
    cy: 0.5em;
    transform-origin: 50% 50%;
  }

  .spinner__track {
    stroke: var(--track-color);
    transform-origin: 0% 0%;
  }

  .spinner__indicator {
    stroke: var(--indicator-color);
    stroke-linecap: round;
    stroke-dasharray: 150% 75%;
    animation: spin var(--speed) linear infinite;
  }

  @keyframes spin {
    0% {
      transform: rotate(0deg);
      stroke-dasharray: 0.05em, 3em;
    }

    50% {
      transform: rotate(450deg);
      stroke-dasharray: 1.375em, 1.375em;
    }

    100% {
      transform: rotate(1080deg);
      stroke-dasharray: 0.05em, 3em;
    }
  }
`;const connectedElements=new Set,documentElementObserver=new MutationObserver(update),translations=new Map;let documentDirection=document.documentElement.dir||"ltr",documentLanguage=document.documentElement.lang||navigator.language,fallback;documentElementObserver.observe(document.documentElement,{attributes:!0,attributeFilter:["dir","lang"]});function registerTranslation(...F){F.map(W=>{const q=W.$code.toLowerCase();translations.has(q)?translations.set(q,Object.assign(Object.assign({},translations.get(q)),W)):translations.set(q,W),fallback||(fallback=W)}),update()}function update(){documentDirection=document.documentElement.dir||"ltr",documentLanguage=document.documentElement.lang||navigator.language,[...connectedElements.keys()].map(F=>{typeof F.requestUpdate=="function"&&F.requestUpdate()})}let LocalizeController$1=class{constructor(W){this.host=W,this.host.addController(this)}hostConnected(){connectedElements.add(this.host)}hostDisconnected(){connectedElements.delete(this.host)}dir(){return`${this.host.dir||documentDirection}`.toLowerCase()}lang(){return`${this.host.lang||documentLanguage}`.toLowerCase()}getTranslationData(W){var q,X;const tt=new Intl.Locale(W.replace(/_/g,"-")),ot=tt==null?void 0:tt.language.toLowerCase(),at=(X=(q=tt==null?void 0:tt.region)===null||q===void 0?void 0:q.toLowerCase())!==null&&X!==void 0?X:"",ut=translations.get(`${ot}-${at}`),wt=translations.get(ot);return{locale:tt,language:ot,region:at,primary:ut,secondary:wt}}exists(W,q){var X;const{primary:tt,secondary:ot}=this.getTranslationData((X=q.lang)!==null&&X!==void 0?X:this.lang());return q=Object.assign({includeFallback:!1},q),!!(tt&&tt[W]||ot&&ot[W]||q.includeFallback&&fallback&&fallback[W])}term(W,...q){const{primary:X,secondary:tt}=this.getTranslationData(this.lang());let ot;if(X&&X[W])ot=X[W];else if(tt&&tt[W])ot=tt[W];else if(fallback&&fallback[W])ot=fallback[W];else return console.error(`No translation found for: ${String(W)}`),String(W);return typeof ot=="function"?ot(...q):ot}date(W,q){return W=new Date(W),new Intl.DateTimeFormat(this.lang(),q).format(W)}number(W,q){return W=Number(W),isNaN(W)?"":new Intl.NumberFormat(this.lang(),q).format(W)}relativeTime(W,q,X){return new Intl.RelativeTimeFormat(this.lang(),X).format(W,q)}};var translation={$code:"en",$name:"English",$dir:"ltr",carousel:"Carousel",clearEntry:"Clear entry",close:"Close",copied:"Copied",copy:"Copy",currentValue:"Current value",error:"Error",goToSlide:(F,W)=>`Go to slide ${F} of ${W}`,hidePassword:"Hide password",loading:"Loading",nextSlide:"Next slide",numOptionsSelected:F=>F===0?"No options selected":F===1?"1 option selected":`${F} options selected`,previousSlide:"Previous slide",progress:"Progress",remove:"Remove",resize:"Resize",scrollToEnd:"Scroll to end",scrollToStart:"Scroll to start",selectAColorFromTheScreen:"Select a color from the screen",showPassword:"Show password",slideNum:F=>`Slide ${F}`,toggleColorFormat:"Toggle color format"};registerTranslation(translation);var en_default=translation,LocalizeController=class extends LocalizeController$1{};registerTranslation(en_default);var SlSpinner=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController(this)}render(){return x`
      <svg part="base" class="spinner" role="progressbar" aria-label=${this.localize.term("loading")}>
        <circle class="spinner__track"></circle>
        <circle class="spinner__indicator"></circle>
      </svg>
    `}};SlSpinner.styles=spinner_styles_default;var formCollections=new WeakMap,reportValidityOverloads=new WeakMap,checkValidityOverloads=new WeakMap,userInteractedControls=new WeakSet,interactions=new WeakMap,FormControlController=class{constructor(F,W){this.handleFormData=q=>{const X=this.options.disabled(this.host),tt=this.options.name(this.host),ot=this.options.value(this.host),at=this.host.tagName.toLowerCase()==="sl-button";this.host.isConnected&&!X&&!at&&typeof tt=="string"&&tt.length>0&&typeof ot<"u"&&(Array.isArray(ot)?ot.forEach(ut=>{q.formData.append(tt,ut.toString())}):q.formData.append(tt,ot.toString()))},this.handleFormSubmit=q=>{var X;const tt=this.options.disabled(this.host),ot=this.options.reportValidity;this.form&&!this.form.noValidate&&((X=formCollections.get(this.form))==null||X.forEach(at=>{this.setUserInteracted(at,!0)})),this.form&&!this.form.noValidate&&!tt&&!ot(this.host)&&(q.preventDefault(),q.stopImmediatePropagation())},this.handleFormReset=()=>{this.options.setValue(this.host,this.options.defaultValue(this.host)),this.setUserInteracted(this.host,!1),interactions.set(this.host,[])},this.handleInteraction=q=>{const X=interactions.get(this.host);X.includes(q.type)||X.push(q.type),X.length===this.options.assumeInteractionOn.length&&this.setUserInteracted(this.host,!0)},this.checkFormValidity=()=>{if(this.form&&!this.form.noValidate){const q=this.form.querySelectorAll("*");for(const X of q)if(typeof X.checkValidity=="function"&&!X.checkValidity())return!1}return!0},this.reportFormValidity=()=>{if(this.form&&!this.form.noValidate){const q=this.form.querySelectorAll("*");for(const X of q)if(typeof X.reportValidity=="function"&&!X.reportValidity())return!1}return!0},(this.host=F).addController(this),this.options=__spreadValues({form:q=>{const X=q.form;if(X){const ot=q.getRootNode().getElementById(X);if(ot)return ot}return q.closest("form")},name:q=>q.name,value:q=>q.value,defaultValue:q=>q.defaultValue,disabled:q=>{var X;return(X=q.disabled)!=null?X:!1},reportValidity:q=>typeof q.reportValidity=="function"?q.reportValidity():!0,checkValidity:q=>typeof q.checkValidity=="function"?q.checkValidity():!0,setValue:(q,X)=>q.value=X,assumeInteractionOn:["sl-input"]},W)}hostConnected(){const F=this.options.form(this.host);F&&this.attachForm(F),interactions.set(this.host,[]),this.options.assumeInteractionOn.forEach(W=>{this.host.addEventListener(W,this.handleInteraction)})}hostDisconnected(){this.detachForm(),interactions.delete(this.host),this.options.assumeInteractionOn.forEach(F=>{this.host.removeEventListener(F,this.handleInteraction)})}hostUpdated(){const F=this.options.form(this.host);F||this.detachForm(),F&&this.form!==F&&(this.detachForm(),this.attachForm(F)),this.host.hasUpdated&&this.setValidity(this.host.validity.valid)}attachForm(F){F?(this.form=F,formCollections.has(this.form)?formCollections.get(this.form).add(this.host):formCollections.set(this.form,new Set([this.host])),this.form.addEventListener("formdata",this.handleFormData),this.form.addEventListener("submit",this.handleFormSubmit),this.form.addEventListener("reset",this.handleFormReset),reportValidityOverloads.has(this.form)||(reportValidityOverloads.set(this.form,this.form.reportValidity),this.form.reportValidity=()=>this.reportFormValidity()),checkValidityOverloads.has(this.form)||(checkValidityOverloads.set(this.form,this.form.checkValidity),this.form.checkValidity=()=>this.checkFormValidity())):this.form=void 0}detachForm(){if(!this.form)return;const F=formCollections.get(this.form);F&&(F.delete(this.host),F.size<=0&&(this.form.removeEventListener("formdata",this.handleFormData),this.form.removeEventListener("submit",this.handleFormSubmit),this.form.removeEventListener("reset",this.handleFormReset),reportValidityOverloads.has(this.form)&&(this.form.reportValidity=reportValidityOverloads.get(this.form),reportValidityOverloads.delete(this.form)),checkValidityOverloads.has(this.form)&&(this.form.checkValidity=checkValidityOverloads.get(this.form),checkValidityOverloads.delete(this.form)),this.form=void 0))}setUserInteracted(F,W){W?userInteractedControls.add(F):userInteractedControls.delete(F),F.requestUpdate()}doAction(F,W){if(this.form){const q=document.createElement("button");q.type=F,q.style.position="absolute",q.style.width="0",q.style.height="0",q.style.clipPath="inset(50%)",q.style.overflow="hidden",q.style.whiteSpace="nowrap",W&&(q.name=W.name,q.value=W.value,["formaction","formenctype","formmethod","formnovalidate","formtarget"].forEach(X=>{W.hasAttribute(X)&&q.setAttribute(X,W.getAttribute(X))})),this.form.append(q),q.click(),q.remove()}}getForm(){var F;return(F=this.form)!=null?F:null}reset(F){this.doAction("reset",F)}submit(F){this.doAction("submit",F)}setValidity(F){const W=this.host,q=!!userInteractedControls.has(W),X=!!W.required;W.toggleAttribute("data-required",X),W.toggleAttribute("data-optional",!X),W.toggleAttribute("data-invalid",!F),W.toggleAttribute("data-valid",F),W.toggleAttribute("data-user-invalid",!F&&q),W.toggleAttribute("data-user-valid",F&&q)}updateValidity(){const F=this.host;this.setValidity(F.validity.valid)}emitInvalidEvent(F){const W=new CustomEvent("sl-invalid",{bubbles:!1,composed:!1,cancelable:!0,detail:{}});F||W.preventDefault(),this.host.dispatchEvent(W)||F==null||F.preventDefault()}},validValidityState=Object.freeze({badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valid:!0,valueMissing:!1});Object.freeze(__spreadProps(__spreadValues({},validValidityState),{valid:!1,valueMissing:!0}));Object.freeze(__spreadProps(__spreadValues({},validValidityState),{valid:!1,customError:!0}));var button_styles_default=i$6`
  ${component_styles_default}

  :host {
    display: inline-block;
    position: relative;
    width: auto;
    cursor: pointer;
  }

  .button {
    display: inline-flex;
    align-items: stretch;
    justify-content: center;
    width: 100%;
    border-style: solid;
    border-width: var(--sl-input-border-width);
    font-family: var(--sl-input-font-family);
    font-weight: var(--sl-font-weight-semibold);
    text-decoration: none;
    user-select: none;
    -webkit-user-select: none;
    white-space: nowrap;
    vertical-align: middle;
    padding: 0;
    transition:
      var(--sl-transition-x-fast) background-color,
      var(--sl-transition-x-fast) color,
      var(--sl-transition-x-fast) border,
      var(--sl-transition-x-fast) box-shadow;
    cursor: inherit;
  }

  .button::-moz-focus-inner {
    border: 0;
  }

  .button:focus {
    outline: none;
  }

  .button:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .button--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  /* When disabled, prevent mouse events from bubbling up from children */
  .button--disabled * {
    pointer-events: none;
  }

  .button__prefix,
  .button__suffix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    pointer-events: none;
  }

  .button__label {
    display: inline-block;
  }

  .button__label::slotted(sl-icon) {
    vertical-align: -2px;
  }

  /*
   * Standard buttons
   */

  /* Default */
  .button--standard.button--default {
    background-color: var(--sl-color-neutral-0);
    border-color: var(--sl-color-neutral-300);
    color: var(--sl-color-neutral-700);
  }

  .button--standard.button--default:hover:not(.button--disabled) {
    background-color: var(--sl-color-primary-50);
    border-color: var(--sl-color-primary-300);
    color: var(--sl-color-primary-700);
  }

  .button--standard.button--default:active:not(.button--disabled) {
    background-color: var(--sl-color-primary-100);
    border-color: var(--sl-color-primary-400);
    color: var(--sl-color-primary-700);
  }

  /* Primary */
  .button--standard.button--primary {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--primary:hover:not(.button--disabled) {
    background-color: var(--sl-color-primary-500);
    border-color: var(--sl-color-primary-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--primary:active:not(.button--disabled) {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  /* Success */
  .button--standard.button--success {
    background-color: var(--sl-color-success-600);
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--success:hover:not(.button--disabled) {
    background-color: var(--sl-color-success-500);
    border-color: var(--sl-color-success-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--success:active:not(.button--disabled) {
    background-color: var(--sl-color-success-600);
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  /* Neutral */
  .button--standard.button--neutral {
    background-color: var(--sl-color-neutral-600);
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--neutral:hover:not(.button--disabled) {
    background-color: var(--sl-color-neutral-500);
    border-color: var(--sl-color-neutral-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--neutral:active:not(.button--disabled) {
    background-color: var(--sl-color-neutral-600);
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  /* Warning */
  .button--standard.button--warning {
    background-color: var(--sl-color-warning-600);
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }
  .button--standard.button--warning:hover:not(.button--disabled) {
    background-color: var(--sl-color-warning-500);
    border-color: var(--sl-color-warning-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--warning:active:not(.button--disabled) {
    background-color: var(--sl-color-warning-600);
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  /* Danger */
  .button--standard.button--danger {
    background-color: var(--sl-color-danger-600);
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--danger:hover:not(.button--disabled) {
    background-color: var(--sl-color-danger-500);
    border-color: var(--sl-color-danger-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--danger:active:not(.button--disabled) {
    background-color: var(--sl-color-danger-600);
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  /*
   * Outline buttons
   */

  .button--outline {
    background: none;
    border: solid 1px;
  }

  /* Default */
  .button--outline.button--default {
    border-color: var(--sl-color-neutral-300);
    color: var(--sl-color-neutral-700);
  }

  .button--outline.button--default:hover:not(.button--disabled),
  .button--outline.button--default.button--checked:not(.button--disabled) {
    border-color: var(--sl-color-primary-600);
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--default:active:not(.button--disabled) {
    border-color: var(--sl-color-primary-700);
    background-color: var(--sl-color-primary-700);
    color: var(--sl-color-neutral-0);
  }

  /* Primary */
  .button--outline.button--primary {
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-primary-600);
  }

  .button--outline.button--primary:hover:not(.button--disabled),
  .button--outline.button--primary.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--primary:active:not(.button--disabled) {
    border-color: var(--sl-color-primary-700);
    background-color: var(--sl-color-primary-700);
    color: var(--sl-color-neutral-0);
  }

  /* Success */
  .button--outline.button--success {
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-success-600);
  }

  .button--outline.button--success:hover:not(.button--disabled),
  .button--outline.button--success.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--success:active:not(.button--disabled) {
    border-color: var(--sl-color-success-700);
    background-color: var(--sl-color-success-700);
    color: var(--sl-color-neutral-0);
  }

  /* Neutral */
  .button--outline.button--neutral {
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-600);
  }

  .button--outline.button--neutral:hover:not(.button--disabled),
  .button--outline.button--neutral.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--neutral:active:not(.button--disabled) {
    border-color: var(--sl-color-neutral-700);
    background-color: var(--sl-color-neutral-700);
    color: var(--sl-color-neutral-0);
  }

  /* Warning */
  .button--outline.button--warning {
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-warning-600);
  }

  .button--outline.button--warning:hover:not(.button--disabled),
  .button--outline.button--warning.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--warning:active:not(.button--disabled) {
    border-color: var(--sl-color-warning-700);
    background-color: var(--sl-color-warning-700);
    color: var(--sl-color-neutral-0);
  }

  /* Danger */
  .button--outline.button--danger {
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-danger-600);
  }

  .button--outline.button--danger:hover:not(.button--disabled),
  .button--outline.button--danger.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--danger:active:not(.button--disabled) {
    border-color: var(--sl-color-danger-700);
    background-color: var(--sl-color-danger-700);
    color: var(--sl-color-neutral-0);
  }

  @media (forced-colors: active) {
    .button.button--outline.button--checked:not(.button--disabled) {
      outline: solid 2px transparent;
    }
  }

  /*
   * Text buttons
   */

  .button--text {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-600);
  }

  .button--text:hover:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-500);
  }

  .button--text:focus-visible:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-500);
  }

  .button--text:active:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-700);
  }

  /*
   * Size modifiers
   */

  .button--small {
    height: auto;
    min-height: var(--sl-input-height-small);
    font-size: var(--sl-button-font-size-small);
    line-height: calc(var(--sl-input-height-small) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-small);
  }

  .button--medium {
    height: auto;
    min-height: var(--sl-input-height-medium);
    font-size: var(--sl-button-font-size-medium);
    line-height: calc(var(--sl-input-height-medium) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-medium);
  }

  .button--large {
    height: auto;
    min-height: var(--sl-input-height-large);
    font-size: var(--sl-button-font-size-large);
    line-height: calc(var(--sl-input-height-large) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-large);
  }

  /*
   * Pill modifier
   */

  .button--pill.button--small {
    border-radius: var(--sl-input-height-small);
  }

  .button--pill.button--medium {
    border-radius: var(--sl-input-height-medium);
  }

  .button--pill.button--large {
    border-radius: var(--sl-input-height-large);
  }

  /*
   * Circle modifier
   */

  .button--circle {
    padding-left: 0;
    padding-right: 0;
  }

  .button--circle.button--small {
    width: var(--sl-input-height-small);
    border-radius: 50%;
  }

  .button--circle.button--medium {
    width: var(--sl-input-height-medium);
    border-radius: 50%;
  }

  .button--circle.button--large {
    width: var(--sl-input-height-large);
    border-radius: 50%;
  }

  .button--circle .button__prefix,
  .button--circle .button__suffix,
  .button--circle .button__caret {
    display: none;
  }

  /*
   * Caret modifier
   */

  .button--caret .button__suffix {
    display: none;
  }

  .button--caret .button__caret {
    height: auto;
  }

  /*
   * Loading modifier
   */

  .button--loading {
    position: relative;
    cursor: wait;
  }

  .button--loading .button__prefix,
  .button--loading .button__label,
  .button--loading .button__suffix,
  .button--loading .button__caret {
    visibility: hidden;
  }

  .button--loading sl-spinner {
    --indicator-color: currentColor;
    position: absolute;
    font-size: 1em;
    height: 1em;
    width: 1em;
    top: calc(50% - 0.5em);
    left: calc(50% - 0.5em);
  }

  /*
   * Badges
   */

  .button ::slotted(sl-badge) {
    position: absolute;
    top: 0;
    right: 0;
    translate: 50% -50%;
    pointer-events: none;
  }

  .button--rtl ::slotted(sl-badge) {
    right: auto;
    left: 0;
    translate: -50% -50%;
  }

  /*
   * Button spacing
   */

  .button--has-label.button--small .button__label {
    padding: 0 var(--sl-spacing-small);
  }

  .button--has-label.button--medium .button__label {
    padding: 0 var(--sl-spacing-medium);
  }

  .button--has-label.button--large .button__label {
    padding: 0 var(--sl-spacing-large);
  }

  .button--has-prefix.button--small {
    padding-inline-start: var(--sl-spacing-x-small);
  }

  .button--has-prefix.button--small .button__label {
    padding-inline-start: var(--sl-spacing-x-small);
  }

  .button--has-prefix.button--medium {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--medium .button__label {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--large {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--large .button__label {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-suffix.button--small,
  .button--caret.button--small {
    padding-inline-end: var(--sl-spacing-x-small);
  }

  .button--has-suffix.button--small .button__label,
  .button--caret.button--small .button__label {
    padding-inline-end: var(--sl-spacing-x-small);
  }

  .button--has-suffix.button--medium,
  .button--caret.button--medium {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--medium .button__label,
  .button--caret.button--medium .button__label {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--large,
  .button--caret.button--large {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--large .button__label,
  .button--caret.button--large .button__label {
    padding-inline-end: var(--sl-spacing-small);
  }

  /*
   * Button groups support a variety of button types (e.g. buttons with tooltips, buttons as dropdown triggers, etc.).
   * This means buttons aren't always direct descendants of the button group, thus we can't target them with the
   * ::slotted selector. To work around this, the button group component does some magic to add these special classes to
   * buttons and we style them here instead.
   */

  :host(.sl-button-group__button--first:not(.sl-button-group__button--last)) .button {
    border-start-end-radius: 0;
    border-end-end-radius: 0;
  }

  :host(.sl-button-group__button--inner) .button {
    border-radius: 0;
  }

  :host(.sl-button-group__button--last:not(.sl-button-group__button--first)) .button {
    border-start-start-radius: 0;
    border-end-start-radius: 0;
  }

  /* All except the first */
  :host(.sl-button-group__button:not(.sl-button-group__button--first)) {
    margin-inline-start: calc(-1 * var(--sl-input-border-width));
  }

  /* Add a visual separator between solid buttons */
  :host(
      .sl-button-group__button:not(
          .sl-button-group__button--first,
          .sl-button-group__button--radio,
          [variant='default']
        ):not(:hover)
    )
    .button:after {
    content: '';
    position: absolute;
    top: 0;
    inset-inline-start: 0;
    bottom: 0;
    border-left: solid 1px rgb(128 128 128 / 33%);
    mix-blend-mode: multiply;
  }

  /* Bump hovered, focused, and checked buttons up so their focus ring isn't clipped */
  :host(.sl-button-group__button--hover) {
    z-index: 1;
  }

  /* Focus and checked are always on top */
  :host(.sl-button-group__button--focus),
  :host(.sl-button-group__button[checked]) {
    z-index: 2;
  }
`,HasSlotController=class{constructor(F,...W){this.slotNames=[],this.handleSlotChange=q=>{const X=q.target;(this.slotNames.includes("[default]")&&!X.name||X.name&&this.slotNames.includes(X.name))&&this.host.requestUpdate()},(this.host=F).addController(this),this.slotNames=W}hasDefaultSlot(){return[...this.host.childNodes].some(F=>{if(F.nodeType===F.TEXT_NODE&&F.textContent.trim()!=="")return!0;if(F.nodeType===F.ELEMENT_NODE){const W=F;if(W.tagName.toLowerCase()==="sl-visually-hidden")return!1;if(!W.hasAttribute("slot"))return!0}return!1})}hasNamedSlot(F){return this.host.querySelector(`:scope > [slot="${F}"]`)!==null}test(F){return F==="[default]"?this.hasDefaultSlot():this.hasNamedSlot(F)}hostConnected(){this.host.shadowRoot.addEventListener("slotchange",this.handleSlotChange)}hostDisconnected(){this.host.shadowRoot.removeEventListener("slotchange",this.handleSlotChange)}};function getTextContent(F){if(!F)return"";const W=F.assignedNodes({flatten:!0});let q="";return[...W].forEach(X=>{X.nodeType===Node.TEXT_NODE&&(q+=X.textContent)}),q}var basePath="";function setBasePath(F){basePath=F}function getBasePath(F=""){if(!basePath){const W=[...document.getElementsByTagName("script")],q=W.find(X=>X.hasAttribute("data-shoelace"));if(q)setBasePath(q.getAttribute("data-shoelace"));else{const X=W.find(ot=>/shoelace(\.min)?\.js($|\?)/.test(ot.src)||/shoelace-autoloader(\.min)?\.js($|\?)/.test(ot.src));let tt="";X&&(tt=X.getAttribute("src")),setBasePath(tt.split("/").slice(0,-1).join("/"))}}return basePath.replace(/\/$/,"")+(F?`/${F.replace(/^\//,"")}`:"")}var library={name:"default",resolver:F=>getBasePath(`assets/icons/${F}.svg`)},library_default_default=library,icons={caret:`
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <polyline points="6 9 12 15 18 9"></polyline>
    </svg>
  `,check:`
    <svg part="checked-icon" class="checkbox__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
        <g stroke="currentColor">
          <g transform="translate(3.428571, 3.428571)">
            <path d="M0,5.71428571 L3.42857143,9.14285714"></path>
            <path d="M9.14285714,0 L3.42857143,9.14285714"></path>
          </g>
        </g>
      </g>
    </svg>
  `,"chevron-down":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-down" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,"chevron-left":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-left" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
    </svg>
  `,"chevron-right":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,copy:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-copy" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M4 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V2Zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H6ZM2 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1h1v1a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1v1H2Z"/>
    </svg>
  `,eye:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">
      <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
      <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
    </svg>
  `,"eye-slash":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye-slash" viewBox="0 0 16 16">
      <path d="M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"/>
      <path d="M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z"/>
      <path d="M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12-.708.708z"/>
    </svg>
  `,eyedropper:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eyedropper" viewBox="0 0 16 16">
      <path d="M13.354.646a1.207 1.207 0 0 0-1.708 0L8.5 3.793l-.646-.647a.5.5 0 1 0-.708.708L8.293 5l-7.147 7.146A.5.5 0 0 0 1 12.5v1.793l-.854.853a.5.5 0 1 0 .708.707L1.707 15H3.5a.5.5 0 0 0 .354-.146L11 7.707l1.146 1.147a.5.5 0 0 0 .708-.708l-.647-.646 3.147-3.146a1.207 1.207 0 0 0 0-1.708l-2-2zM2 12.707l7-7L10.293 7l-7 7H2v-1.293z"></path>
    </svg>
  `,"grip-vertical":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-grip-vertical" viewBox="0 0 16 16">
      <path d="M7 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path>
    </svg>
  `,indeterminate:`
    <svg part="indeterminate-icon" class="checkbox__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
        <g stroke="currentColor" stroke-width="2">
          <g transform="translate(2.285714, 6.857143)">
            <path d="M10.2857143,1.14285714 L1.14285714,1.14285714"></path>
          </g>
        </g>
      </g>
    </svg>
  `,"person-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
      <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
    </svg>
  `,"play-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16">
      <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"></path>
    </svg>
  `,"pause-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pause-fill" viewBox="0 0 16 16">
      <path d="M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"></path>
    </svg>
  `,radio:`
    <svg part="checked-icon" class="radio__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g fill="currentColor">
          <circle cx="8" cy="8" r="3.42857143"></circle>
        </g>
      </g>
    </svg>
  `,"star-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
    </svg>
  `,"x-lg":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
      <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/>
    </svg>
  `,"x-circle-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle-fill" viewBox="0 0 16 16">
      <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"></path>
    </svg>
  `},systemLibrary={name:"system",resolver:F=>F in icons?`data:image/svg+xml,${encodeURIComponent(icons[F])}`:""},library_system_default=systemLibrary,registry=[library_default_default,library_system_default],watchedIcons=[];function watchIcon(F){watchedIcons.push(F)}function unwatchIcon(F){watchedIcons=watchedIcons.filter(W=>W!==F)}function getIconLibrary(F){return registry.find(W=>W.name===F)}var icon_styles_default=i$6`
  ${component_styles_default}

  :host {
    display: inline-block;
    width: 1em;
    height: 1em;
    box-sizing: content-box !important;
  }

  svg {
    display: block;
    height: 100%;
    width: 100%;
  }
`;function watch(F,W){const q=__spreadValues({waitUntilFirstUpdate:!1},W);return(X,tt)=>{const{update:ot}=X,at=Array.isArray(F)?F:[F];X.update=function(ut){at.forEach(wt=>{const uo=wt;if(ut.has(uo)){const mo=ut.get(uo),yo=this[uo];mo!==yo&&(!q.waitUntilFirstUpdate||this.hasUpdated)&&this[tt](mo,yo)}}),ot.call(this,ut)}}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const e$2=(F,W)=>W===void 0?(F==null?void 0:F._$litType$)!==void 0:(F==null?void 0:F._$litType$)===W,f$1=F=>F.strings===void 0,u={},m$2=(F,W=u)=>F._$AH=W;var CACHEABLE_ERROR=Symbol(),RETRYABLE_ERROR=Symbol(),parser,iconCache=new Map,SlIcon=class extends ShoelaceElement{constructor(){super(...arguments),this.initialRender=!1,this.svg=null,this.label="",this.library="default"}async resolveIcon(F,W){var q;let X;if(W!=null&&W.spriteSheet)return x`<svg part="svg">
        <use part="use" href="${F}"></use>
      </svg>`;try{if(X=await fetch(F,{mode:"cors"}),!X.ok)return X.status===410?CACHEABLE_ERROR:RETRYABLE_ERROR}catch{return RETRYABLE_ERROR}try{const tt=document.createElement("div");tt.innerHTML=await X.text();const ot=tt.firstElementChild;if(((q=ot==null?void 0:ot.tagName)==null?void 0:q.toLowerCase())!=="svg")return CACHEABLE_ERROR;parser||(parser=new DOMParser);const ut=parser.parseFromString(ot.outerHTML,"text/html").body.querySelector("svg");return ut?(ut.part.add("svg"),document.adoptNode(ut)):CACHEABLE_ERROR}catch{return CACHEABLE_ERROR}}connectedCallback(){super.connectedCallback(),watchIcon(this)}firstUpdated(){this.initialRender=!0,this.setIcon()}disconnectedCallback(){super.disconnectedCallback(),unwatchIcon(this)}getIconSource(){const F=getIconLibrary(this.library);return this.name&&F?{url:F.resolver(this.name),fromLibrary:!0}:{url:this.src,fromLibrary:!1}}handleLabelChange(){typeof this.label=="string"&&this.label.length>0?(this.setAttribute("role","img"),this.setAttribute("aria-label",this.label),this.removeAttribute("aria-hidden")):(this.removeAttribute("role"),this.removeAttribute("aria-label"),this.setAttribute("aria-hidden","true"))}async setIcon(){var F;const{url:W,fromLibrary:q}=this.getIconSource(),X=q?getIconLibrary(this.library):void 0;if(!W){this.svg=null;return}let tt=iconCache.get(W);if(tt||(tt=this.resolveIcon(W,X),iconCache.set(W,tt)),!this.initialRender)return;const ot=await tt;if(ot===RETRYABLE_ERROR&&iconCache.delete(W),W===this.getIconSource().url){if(e$2(ot)){this.svg=ot;return}switch(ot){case RETRYABLE_ERROR:case CACHEABLE_ERROR:this.svg=null,this.emit("sl-error");break;default:this.svg=ot.cloneNode(!0),(F=X==null?void 0:X.mutator)==null||F.call(X,this.svg),this.emit("sl-load")}}}render(){return this.svg}};SlIcon.styles=icon_styles_default;__decorateClass([r$2()],SlIcon.prototype,"svg",2);__decorateClass([n$4({reflect:!0})],SlIcon.prototype,"name",2);__decorateClass([n$4()],SlIcon.prototype,"src",2);__decorateClass([n$4()],SlIcon.prototype,"label",2);__decorateClass([n$4({reflect:!0})],SlIcon.prototype,"library",2);__decorateClass([watch("label")],SlIcon.prototype,"handleLabelChange",1);__decorateClass([watch(["name","src","library"])],SlIcon.prototype,"setIcon",1);/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const e$1=Symbol.for(""),o$5=F=>{if((F==null?void 0:F.r)===e$1)return F==null?void 0:F._$litStatic$},s$1=(F,...W)=>({_$litStatic$:W.reduce((q,X,tt)=>q+(ot=>{if(ot._$litStatic$!==void 0)return ot._$litStatic$;throw Error(`Value passed to 'literal' function must be a 'literal' result: ${ot}. Use 'unsafeStatic' to pass non-literal values, but
            take care to ensure page security.`)})(X)+F[tt+1],F[0]),r:e$1}),a=new Map,l$1=F=>(W,...q)=>{const X=q.length;let tt,ot;const at=[],ut=[];let wt,uo=0,mo=!1;for(;uo<X;){for(wt=W[uo];uo<X&&(ot=q[uo],(tt=o$5(ot))!==void 0);)wt+=tt+W[++uo],mo=!0;uo!==X&&ut.push(ot),at.push(wt),uo++}if(uo===X&&at.push(W[X]),mo){const yo=at.join("$$lit$$");(W=a.get(yo))===void 0&&(at.raw=at,a.set(yo,W=at)),q=ut}return F(W,...q)},n$3=l$1(x);/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const o$4=F=>F??T;var SlButton=class extends ShoelaceElement{constructor(){super(...arguments),this.formControlController=new FormControlController(this,{assumeInteractionOn:["click"]}),this.hasSlotController=new HasSlotController(this,"[default]","prefix","suffix"),this.localize=new LocalizeController(this),this.hasFocus=!1,this.invalid=!1,this.title="",this.variant="default",this.size="medium",this.caret=!1,this.disabled=!1,this.loading=!1,this.outline=!1,this.pill=!1,this.circle=!1,this.type="button",this.name="",this.value="",this.href="",this.rel="noreferrer noopener"}get validity(){return this.isButton()?this.button.validity:validValidityState}get validationMessage(){return this.isButton()?this.button.validationMessage:""}firstUpdated(){this.isButton()&&this.formControlController.updateValidity()}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleClick(){this.type==="submit"&&this.formControlController.submit(this),this.type==="reset"&&this.formControlController.reset(this)}handleInvalid(F){this.formControlController.setValidity(!1),this.formControlController.emitInvalidEvent(F)}isButton(){return!this.href}isLink(){return!!this.href}handleDisabledChange(){this.isButton()&&this.formControlController.setValidity(this.disabled)}click(){this.button.click()}focus(F){this.button.focus(F)}blur(){this.button.blur()}checkValidity(){return this.isButton()?this.button.checkValidity():!0}getForm(){return this.formControlController.getForm()}reportValidity(){return this.isButton()?this.button.reportValidity():!0}setCustomValidity(F){this.isButton()&&(this.button.setCustomValidity(F),this.formControlController.updateValidity())}render(){const F=this.isLink(),W=F?s$1`a`:s$1`button`;return n$3`
      <${W}
        part="base"
        class=${e$3({button:!0,"button--default":this.variant==="default","button--primary":this.variant==="primary","button--success":this.variant==="success","button--neutral":this.variant==="neutral","button--warning":this.variant==="warning","button--danger":this.variant==="danger","button--text":this.variant==="text","button--small":this.size==="small","button--medium":this.size==="medium","button--large":this.size==="large","button--caret":this.caret,"button--circle":this.circle,"button--disabled":this.disabled,"button--focused":this.hasFocus,"button--loading":this.loading,"button--standard":!this.outline,"button--outline":this.outline,"button--pill":this.pill,"button--rtl":this.localize.dir()==="rtl","button--has-label":this.hasSlotController.test("[default]"),"button--has-prefix":this.hasSlotController.test("prefix"),"button--has-suffix":this.hasSlotController.test("suffix")})}
        ?disabled=${o$4(F?void 0:this.disabled)}
        type=${o$4(F?void 0:this.type)}
        title=${this.title}
        name=${o$4(F?void 0:this.name)}
        value=${o$4(F?void 0:this.value)}
        href=${o$4(F?this.href:void 0)}
        target=${o$4(F?this.target:void 0)}
        download=${o$4(F?this.download:void 0)}
        rel=${o$4(F?this.rel:void 0)}
        role=${o$4(F?void 0:"button")}
        aria-disabled=${this.disabled?"true":"false"}
        tabindex=${this.disabled?"-1":"0"}
        @blur=${this.handleBlur}
        @focus=${this.handleFocus}
        @invalid=${this.isButton()?this.handleInvalid:null}
        @click=${this.handleClick}
      >
        <slot name="prefix" part="prefix" class="button__prefix"></slot>
        <slot part="label" class="button__label"></slot>
        <slot name="suffix" part="suffix" class="button__suffix"></slot>
        ${this.caret?n$3` <sl-icon part="caret" class="button__caret" library="system" name="caret"></sl-icon> `:""}
        ${this.loading?n$3`<sl-spinner part="spinner"></sl-spinner>`:""}
      </${W}>
    `}};SlButton.styles=button_styles_default;SlButton.dependencies={"sl-icon":SlIcon,"sl-spinner":SlSpinner};__decorateClass([e$5(".button")],SlButton.prototype,"button",2);__decorateClass([r$2()],SlButton.prototype,"hasFocus",2);__decorateClass([r$2()],SlButton.prototype,"invalid",2);__decorateClass([n$4()],SlButton.prototype,"title",2);__decorateClass([n$4({reflect:!0})],SlButton.prototype,"variant",2);__decorateClass([n$4({reflect:!0})],SlButton.prototype,"size",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlButton.prototype,"caret",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlButton.prototype,"disabled",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlButton.prototype,"loading",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlButton.prototype,"outline",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlButton.prototype,"pill",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlButton.prototype,"circle",2);__decorateClass([n$4()],SlButton.prototype,"type",2);__decorateClass([n$4()],SlButton.prototype,"name",2);__decorateClass([n$4()],SlButton.prototype,"value",2);__decorateClass([n$4()],SlButton.prototype,"href",2);__decorateClass([n$4()],SlButton.prototype,"target",2);__decorateClass([n$4()],SlButton.prototype,"rel",2);__decorateClass([n$4()],SlButton.prototype,"download",2);__decorateClass([n$4()],SlButton.prototype,"form",2);__decorateClass([n$4({attribute:"formaction"})],SlButton.prototype,"formAction",2);__decorateClass([n$4({attribute:"formenctype"})],SlButton.prototype,"formEnctype",2);__decorateClass([n$4({attribute:"formmethod"})],SlButton.prototype,"formMethod",2);__decorateClass([n$4({attribute:"formnovalidate",type:Boolean})],SlButton.prototype,"formNoValidate",2);__decorateClass([n$4({attribute:"formtarget"})],SlButton.prototype,"formTarget",2);__decorateClass([watch("disabled",{waitUntilFirstUpdate:!0})],SlButton.prototype,"handleDisabledChange",1);SlButton.define("sl-button");var computedStyleMap=new WeakMap;function getCachedComputedStyle(F){let W=computedStyleMap.get(F);return W||(W=window.getComputedStyle(F,null),computedStyleMap.set(F,W)),W}function isVisible(F){if(typeof F.checkVisibility=="function")return F.checkVisibility({checkOpacity:!1,checkVisibilityCSS:!0});const W=getCachedComputedStyle(F);return W.visibility!=="hidden"&&W.display!=="none"}function isOverflowingAndTabbable(F){const W=getCachedComputedStyle(F),{overflowY:q,overflowX:X}=W;return q==="scroll"||X==="scroll"?!0:q!=="auto"||X!=="auto"?!1:F.scrollHeight>F.clientHeight&&q==="auto"||F.scrollWidth>F.clientWidth&&X==="auto"}function isTabbable(F){const W=F.tagName.toLowerCase(),q=Number(F.getAttribute("tabindex"));return F.hasAttribute("tabindex")&&(isNaN(q)||q<=-1)||F.hasAttribute("disabled")||F.closest("[inert]")||W==="input"&&F.getAttribute("type")==="radio"&&!F.hasAttribute("checked")||!isVisible(F)?!1:(W==="audio"||W==="video")&&F.hasAttribute("controls")||F.hasAttribute("tabindex")||F.hasAttribute("contenteditable")&&F.getAttribute("contenteditable")!=="false"||["button","input","select","textarea","a","audio","video","summary","iframe"].includes(W)?!0:isOverflowingAndTabbable(F)}function getTabbableBoundary(F){var W,q;const X=getTabbableElements(F),tt=(W=X[0])!=null?W:null,ot=(q=X[X.length-1])!=null?q:null;return{start:tt,end:ot}}function getSlottedChildrenOutsideRootElement(F,W){var q;return((q=F.getRootNode({composed:!0}))==null?void 0:q.host)!==W}function getTabbableElements(F){const W=new WeakMap,q=[];function X(tt){if(tt instanceof Element){if(tt.hasAttribute("inert")||tt.closest("[inert]")||W.has(tt))return;W.set(tt,!0),!q.includes(tt)&&isTabbable(tt)&&q.push(tt),tt instanceof HTMLSlotElement&&getSlottedChildrenOutsideRootElement(tt,F)&&tt.assignedElements({flatten:!0}).forEach(ot=>{X(ot)}),tt.shadowRoot!==null&&tt.shadowRoot.mode==="open"&&X(tt.shadowRoot)}for(const ot of tt.children)X(ot)}return X(F),q.sort((tt,ot)=>{const at=Number(tt.getAttribute("tabindex"))||0;return(Number(ot.getAttribute("tabindex"))||0)-at})}function*activeElements(F=document.activeElement){F!=null&&(yield F,"shadowRoot"in F&&F.shadowRoot&&F.shadowRoot.mode!=="closed"&&(yield*__yieldStar(activeElements(F.shadowRoot.activeElement))))}function getDeepestActiveElement(){return[...activeElements()].pop()}var activeModals=[],Modal$1=class{constructor(W){this.tabDirection="forward",this.handleFocusIn=()=>{this.isActive()&&this.checkFocus()},this.handleKeyDown=q=>{var X;if(q.key!=="Tab"||this.isExternalActivated||!this.isActive())return;const tt=getDeepestActiveElement();if(this.previousFocus=tt,this.previousFocus&&this.possiblyHasTabbableChildren(this.previousFocus))return;q.shiftKey?this.tabDirection="backward":this.tabDirection="forward";const ot=getTabbableElements(this.element);let at=ot.findIndex(wt=>wt===tt);this.previousFocus=this.currentFocus;const ut=this.tabDirection==="forward"?1:-1;for(;;){at+ut>=ot.length?at=0:at+ut<0?at=ot.length-1:at+=ut,this.previousFocus=this.currentFocus;const wt=ot[at];if(this.tabDirection==="backward"&&this.previousFocus&&this.possiblyHasTabbableChildren(this.previousFocus)||wt&&this.possiblyHasTabbableChildren(wt))return;q.preventDefault(),this.currentFocus=wt,(X=this.currentFocus)==null||X.focus({preventScroll:!1});const uo=[...activeElements()];if(uo.includes(this.currentFocus)||!uo.includes(this.previousFocus))break}setTimeout(()=>this.checkFocus())},this.handleKeyUp=()=>{this.tabDirection="forward"},this.element=W,this.elementsWithTabbableControls=["iframe"]}activate(){activeModals.push(this.element),document.addEventListener("focusin",this.handleFocusIn),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}deactivate(){activeModals=activeModals.filter(W=>W!==this.element),this.currentFocus=null,document.removeEventListener("focusin",this.handleFocusIn),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)}isActive(){return activeModals[activeModals.length-1]===this.element}activateExternal(){this.isExternalActivated=!0}deactivateExternal(){this.isExternalActivated=!1}checkFocus(){if(this.isActive()&&!this.isExternalActivated){const W=getTabbableElements(this.element);if(!this.element.matches(":focus-within")){const q=W[0],X=W[W.length-1],tt=this.tabDirection==="forward"?q:X;typeof(tt==null?void 0:tt.focus)=="function"&&(this.currentFocus=tt,tt.focus({preventScroll:!1}))}}}possiblyHasTabbableChildren(W){return this.elementsWithTabbableControls.includes(W.tagName.toLowerCase())||W.hasAttribute("controls")}};function getOffset(F,W){return{top:Math.round(F.getBoundingClientRect().top-W.getBoundingClientRect().top),left:Math.round(F.getBoundingClientRect().left-W.getBoundingClientRect().left)}}var locks=new Set;function getScrollbarWidth(){const F=document.documentElement.clientWidth;return Math.abs(window.innerWidth-F)}function lockBodyScrolling(F){if(locks.add(F),!document.body.classList.contains("sl-scroll-lock")){const W=getScrollbarWidth();document.body.classList.add("sl-scroll-lock"),document.body.style.setProperty("--sl-scroll-lock-size",`${W}px`)}}function unlockBodyScrolling(F){locks.delete(F),locks.size===0&&(document.body.classList.remove("sl-scroll-lock"),document.body.style.removeProperty("--sl-scroll-lock-size"))}function scrollIntoView(F,W,q="vertical",X="smooth"){const tt=getOffset(F,W),ot=tt.top+W.scrollTop,at=tt.left+W.scrollLeft,ut=W.scrollLeft,wt=W.scrollLeft+W.offsetWidth,uo=W.scrollTop,mo=W.scrollTop+W.offsetHeight;(q==="horizontal"||q==="both")&&(at<ut?W.scrollTo({left:at,behavior:X}):at+F.clientWidth>wt&&W.scrollTo({left:at-W.offsetWidth+F.clientWidth,behavior:X})),(q==="vertical"||q==="both")&&(ot<uo?W.scrollTo({top:ot,behavior:X}):ot+F.clientHeight>mo&&W.scrollTo({top:ot-W.offsetHeight+F.clientHeight,behavior:X}))}var dialog_styles_default=i$6`
  ${component_styles_default}

  :host {
    --width: 31rem;
    --header-spacing: var(--sl-spacing-large);
    --body-spacing: var(--sl-spacing-large);
    --footer-spacing: var(--sl-spacing-large);

    display: contents;
  }

  .dialog {
    display: flex;
    align-items: center;
    justify-content: center;
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: var(--sl-z-index-dialog);
  }

  .dialog__panel {
    display: flex;
    flex-direction: column;
    z-index: 2;
    width: var(--width);
    max-width: calc(100% - var(--sl-spacing-2x-large));
    max-height: calc(100% - var(--sl-spacing-2x-large));
    background-color: var(--sl-panel-background-color);
    border-radius: var(--sl-border-radius-medium);
    box-shadow: var(--sl-shadow-x-large);
  }

  .dialog__panel:focus {
    outline: none;
  }

  /* Ensure there's enough vertical padding for phones that don't update vh when chrome appears (e.g. iPhone) */
  @media screen and (max-width: 420px) {
    .dialog__panel {
      max-height: 80vh;
    }
  }

  .dialog--open .dialog__panel {
    display: flex;
    opacity: 1;
  }

  .dialog__header {
    flex: 0 0 auto;
    display: flex;
  }

  .dialog__title {
    flex: 1 1 auto;
    font: inherit;
    font-size: var(--sl-font-size-large);
    line-height: var(--sl-line-height-dense);
    padding: var(--header-spacing);
    margin: 0;
  }

  .dialog__header-actions {
    flex-shrink: 0;
    display: flex;
    flex-wrap: wrap;
    justify-content: end;
    gap: var(--sl-spacing-2x-small);
    padding: 0 var(--header-spacing);
  }

  .dialog__header-actions sl-icon-button,
  .dialog__header-actions ::slotted(sl-icon-button) {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    font-size: var(--sl-font-size-medium);
  }

  .dialog__body {
    flex: 1 1 auto;
    display: block;
    padding: var(--body-spacing);
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }

  .dialog__footer {
    flex: 0 0 auto;
    text-align: right;
    padding: var(--footer-spacing);
  }

  .dialog__footer ::slotted(sl-button:not(:first-of-type)) {
    margin-inline-start: var(--sl-spacing-x-small);
  }

  .dialog:not(.dialog--has-footer) .dialog__footer {
    display: none;
  }

  .dialog__overlay {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-color: var(--sl-overlay-background-color);
  }

  @media (forced-colors: active) {
    .dialog__panel {
      border: solid 1px var(--sl-color-neutral-0);
    }
  }
`,icon_button_styles_default=i$6`
  ${component_styles_default}

  :host {
    display: inline-block;
    color: var(--sl-color-neutral-600);
  }

  .icon-button {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    background: none;
    border: none;
    border-radius: var(--sl-border-radius-medium);
    font-size: inherit;
    color: inherit;
    padding: var(--sl-spacing-x-small);
    cursor: pointer;
    transition: var(--sl-transition-x-fast) color;
    -webkit-appearance: none;
  }

  .icon-button:hover:not(.icon-button--disabled),
  .icon-button:focus-visible:not(.icon-button--disabled) {
    color: var(--sl-color-primary-600);
  }

  .icon-button:active:not(.icon-button--disabled) {
    color: var(--sl-color-primary-700);
  }

  .icon-button:focus {
    outline: none;
  }

  .icon-button--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .icon-button:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .icon-button__icon {
    pointer-events: none;
  }
`,SlIconButton=class extends ShoelaceElement{constructor(){super(...arguments),this.hasFocus=!1,this.label="",this.disabled=!1}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleClick(F){this.disabled&&(F.preventDefault(),F.stopPropagation())}click(){this.button.click()}focus(F){this.button.focus(F)}blur(){this.button.blur()}render(){const F=!!this.href,W=F?s$1`a`:s$1`button`;return n$3`
      <${W}
        part="base"
        class=${e$3({"icon-button":!0,"icon-button--disabled":!F&&this.disabled,"icon-button--focused":this.hasFocus})}
        ?disabled=${o$4(F?void 0:this.disabled)}
        type=${o$4(F?void 0:"button")}
        href=${o$4(F?this.href:void 0)}
        target=${o$4(F?this.target:void 0)}
        download=${o$4(F?this.download:void 0)}
        rel=${o$4(F&&this.target?"noreferrer noopener":void 0)}
        role=${o$4(F?void 0:"button")}
        aria-disabled=${this.disabled?"true":"false"}
        aria-label="${this.label}"
        tabindex=${this.disabled?"-1":"0"}
        @blur=${this.handleBlur}
        @focus=${this.handleFocus}
        @click=${this.handleClick}
      >
        <sl-icon
          class="icon-button__icon"
          name=${o$4(this.name)}
          library=${o$4(this.library)}
          src=${o$4(this.src)}
          aria-hidden="true"
        ></sl-icon>
      </${W}>
    `}};SlIconButton.styles=icon_button_styles_default;SlIconButton.dependencies={"sl-icon":SlIcon};__decorateClass([e$5(".icon-button")],SlIconButton.prototype,"button",2);__decorateClass([r$2()],SlIconButton.prototype,"hasFocus",2);__decorateClass([n$4()],SlIconButton.prototype,"name",2);__decorateClass([n$4()],SlIconButton.prototype,"library",2);__decorateClass([n$4()],SlIconButton.prototype,"src",2);__decorateClass([n$4()],SlIconButton.prototype,"href",2);__decorateClass([n$4()],SlIconButton.prototype,"target",2);__decorateClass([n$4()],SlIconButton.prototype,"download",2);__decorateClass([n$4()],SlIconButton.prototype,"label",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlIconButton.prototype,"disabled",2);var defaultAnimationRegistry=new Map,customAnimationRegistry=new WeakMap;function ensureAnimation(F){return F??{keyframes:[],options:{duration:0}}}function getLogicalAnimation(F,W){return W.toLowerCase()==="rtl"?{keyframes:F.rtlKeyframes||F.keyframes,options:F.options}:F}function setDefaultAnimation(F,W){defaultAnimationRegistry.set(F,ensureAnimation(W))}function getAnimation(F,W,q){const X=customAnimationRegistry.get(F);if(X!=null&&X[W])return getLogicalAnimation(X[W],q.dir);const tt=defaultAnimationRegistry.get(W);return tt?getLogicalAnimation(tt,q.dir):{keyframes:[],options:{duration:0}}}function waitForEvent(F,W){return new Promise(q=>{function X(tt){tt.target===F&&(F.removeEventListener(W,X),q())}F.addEventListener(W,X)})}function animateTo(F,W,q){return new Promise(X=>{if((q==null?void 0:q.duration)===1/0)throw new Error("Promise-based animations must be finite.");const tt=F.animate(W,__spreadProps(__spreadValues({},q),{duration:prefersReducedMotion()?0:q.duration}));tt.addEventListener("cancel",X,{once:!0}),tt.addEventListener("finish",X,{once:!0})})}function parseDuration(F){return F=F.toString().toLowerCase(),F.indexOf("ms")>-1?parseFloat(F):F.indexOf("s")>-1?parseFloat(F)*1e3:parseFloat(F)}function prefersReducedMotion(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches}function stopAnimations(F){return Promise.all(F.getAnimations().map(W=>new Promise(q=>{W.cancel(),requestAnimationFrame(q)})))}function shimKeyframesHeightAuto(F,W){return F.map(q=>__spreadProps(__spreadValues({},q),{height:q.height==="auto"?`${W}px`:q.height}))}var SlDialog=class extends ShoelaceElement{constructor(){super(...arguments),this.hasSlotController=new HasSlotController(this,"footer"),this.localize=new LocalizeController(this),this.modal=new Modal$1(this),this.open=!1,this.label="",this.noHeader=!1,this.handleDocumentKeyDown=F=>{F.key==="Escape"&&this.modal.isActive()&&this.open&&(F.stopPropagation(),this.requestClose("keyboard"))}}firstUpdated(){this.dialog.hidden=!this.open,this.open&&(this.addOpenListeners(),this.modal.activate(),lockBodyScrolling(this))}disconnectedCallback(){var F;super.disconnectedCallback(),this.modal.deactivate(),unlockBodyScrolling(this),(F=this.closeWatcher)==null||F.destroy()}requestClose(F){if(this.emit("sl-request-close",{cancelable:!0,detail:{source:F}}).defaultPrevented){const q=getAnimation(this,"dialog.denyClose",{dir:this.localize.dir()});animateTo(this.panel,q.keyframes,q.options);return}this.hide()}addOpenListeners(){var F;"CloseWatcher"in window?((F=this.closeWatcher)==null||F.destroy(),this.closeWatcher=new CloseWatcher,this.closeWatcher.onclose=()=>this.requestClose("keyboard")):document.addEventListener("keydown",this.handleDocumentKeyDown)}removeOpenListeners(){var F;(F=this.closeWatcher)==null||F.destroy(),document.removeEventListener("keydown",this.handleDocumentKeyDown)}async handleOpenChange(){if(this.open){this.emit("sl-show"),this.addOpenListeners(),this.originalTrigger=document.activeElement,this.modal.activate(),lockBodyScrolling(this);const F=this.querySelector("[autofocus]");F&&F.removeAttribute("autofocus"),await Promise.all([stopAnimations(this.dialog),stopAnimations(this.overlay)]),this.dialog.hidden=!1,requestAnimationFrame(()=>{this.emit("sl-initial-focus",{cancelable:!0}).defaultPrevented||(F?F.focus({preventScroll:!0}):this.panel.focus({preventScroll:!0})),F&&F.setAttribute("autofocus","")});const W=getAnimation(this,"dialog.show",{dir:this.localize.dir()}),q=getAnimation(this,"dialog.overlay.show",{dir:this.localize.dir()});await Promise.all([animateTo(this.panel,W.keyframes,W.options),animateTo(this.overlay,q.keyframes,q.options)]),this.emit("sl-after-show")}else{this.emit("sl-hide"),this.removeOpenListeners(),this.modal.deactivate(),await Promise.all([stopAnimations(this.dialog),stopAnimations(this.overlay)]);const F=getAnimation(this,"dialog.hide",{dir:this.localize.dir()}),W=getAnimation(this,"dialog.overlay.hide",{dir:this.localize.dir()});await Promise.all([animateTo(this.overlay,W.keyframes,W.options).then(()=>{this.overlay.hidden=!0}),animateTo(this.panel,F.keyframes,F.options).then(()=>{this.panel.hidden=!0})]),this.dialog.hidden=!0,this.overlay.hidden=!1,this.panel.hidden=!1,unlockBodyScrolling(this);const q=this.originalTrigger;typeof(q==null?void 0:q.focus)=="function"&&setTimeout(()=>q.focus()),this.emit("sl-after-hide")}}async show(){if(!this.open)return this.open=!0,waitForEvent(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,waitForEvent(this,"sl-after-hide")}render(){return x`
      <div
        part="base"
        class=${e$3({dialog:!0,"dialog--open":this.open,"dialog--has-footer":this.hasSlotController.test("footer")})}
      >
        <div part="overlay" class="dialog__overlay" @click=${()=>this.requestClose("overlay")} tabindex="-1"></div>

        <div
          part="panel"
          class="dialog__panel"
          role="dialog"
          aria-modal="true"
          aria-hidden=${this.open?"false":"true"}
          aria-label=${o$4(this.noHeader?this.label:void 0)}
          aria-labelledby=${o$4(this.noHeader?void 0:"title")}
          tabindex="-1"
        >
          ${this.noHeader?"":x`
                <header part="header" class="dialog__header">
                  <h2 part="title" class="dialog__title" id="title">
                    <slot name="label"> ${this.label.length>0?this.label:String.fromCharCode(65279)} </slot>
                  </h2>
                  <div part="header-actions" class="dialog__header-actions">
                    <slot name="header-actions"></slot>
                    <sl-icon-button
                      part="close-button"
                      exportparts="base:close-button__base"
                      class="dialog__close"
                      name="x-lg"
                      label=${this.localize.term("close")}
                      library="system"
                      @click="${()=>this.requestClose("close-button")}"
                    ></sl-icon-button>
                  </div>
                </header>
              `}
          ${""}
          <div part="body" class="dialog__body" tabindex="-1"><slot></slot></div>

          <footer part="footer" class="dialog__footer">
            <slot name="footer"></slot>
          </footer>
        </div>
      </div>
    `}};SlDialog.styles=dialog_styles_default;SlDialog.dependencies={"sl-icon-button":SlIconButton};__decorateClass([e$5(".dialog")],SlDialog.prototype,"dialog",2);__decorateClass([e$5(".dialog__panel")],SlDialog.prototype,"panel",2);__decorateClass([e$5(".dialog__overlay")],SlDialog.prototype,"overlay",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlDialog.prototype,"open",2);__decorateClass([n$4({reflect:!0})],SlDialog.prototype,"label",2);__decorateClass([n$4({attribute:"no-header",type:Boolean,reflect:!0})],SlDialog.prototype,"noHeader",2);__decorateClass([watch("open",{waitUntilFirstUpdate:!0})],SlDialog.prototype,"handleOpenChange",1);setDefaultAnimation("dialog.show",{keyframes:[{opacity:0,scale:.8},{opacity:1,scale:1}],options:{duration:250,easing:"ease"}});setDefaultAnimation("dialog.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.8}],options:{duration:250,easing:"ease"}});setDefaultAnimation("dialog.denyClose",{keyframes:[{scale:1},{scale:1.02},{scale:1}],options:{duration:250}});setDefaultAnimation("dialog.overlay.show",{keyframes:[{opacity:0},{opacity:1}],options:{duration:250}});setDefaultAnimation("dialog.overlay.hide",{keyframes:[{opacity:1},{opacity:0}],options:{duration:250}});SlDialog.define("sl-dialog");var dropdown_styles_default=i$6`
  ${component_styles_default}

  :host {
    display: inline-block;
  }

  .dropdown::part(popup) {
    z-index: var(--sl-z-index-dropdown);
  }

  .dropdown[data-current-placement^='top']::part(popup) {
    transform-origin: bottom;
  }

  .dropdown[data-current-placement^='bottom']::part(popup) {
    transform-origin: top;
  }

  .dropdown[data-current-placement^='left']::part(popup) {
    transform-origin: right;
  }

  .dropdown[data-current-placement^='right']::part(popup) {
    transform-origin: left;
  }

  .dropdown__trigger {
    display: block;
  }

  .dropdown__panel {
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    box-shadow: var(--sl-shadow-large);
    border-radius: var(--sl-border-radius-medium);
    pointer-events: none;
  }

  .dropdown--open .dropdown__panel {
    display: block;
    pointer-events: all;
  }

  /* When users slot a menu, make sure it conforms to the popup's auto-size */
  ::slotted(sl-menu) {
    max-width: var(--auto-size-available-width) !important;
    max-height: var(--auto-size-available-height) !important;
  }
`,popup_styles_default=i$6`
  ${component_styles_default}

  :host {
    --arrow-color: var(--sl-color-neutral-1000);
    --arrow-size: 6px;

    /*
     * These properties are computed to account for the arrow's dimensions after being rotated 45º. The constant
     * 0.7071 is derived from sin(45), which is the diagonal size of the arrow's container after rotating.
     */
    --arrow-size-diagonal: calc(var(--arrow-size) * 0.7071);
    --arrow-padding-offset: calc(var(--arrow-size-diagonal) - var(--arrow-size));

    display: contents;
  }

  .popup {
    position: absolute;
    isolation: isolate;
    max-width: var(--auto-size-available-width, none);
    max-height: var(--auto-size-available-height, none);
  }

  .popup--fixed {
    position: fixed;
  }

  .popup:not(.popup--active) {
    display: none;
  }

  .popup__arrow {
    position: absolute;
    width: calc(var(--arrow-size-diagonal) * 2);
    height: calc(var(--arrow-size-diagonal) * 2);
    rotate: 45deg;
    background: var(--arrow-color);
    z-index: -1;
  }

  /* Hover bridge */
  .popup-hover-bridge:not(.popup-hover-bridge--visible) {
    display: none;
  }

  .popup-hover-bridge {
    position: fixed;
    z-index: calc(var(--sl-z-index-dropdown) - 1);
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    clip-path: polygon(
      var(--hover-bridge-top-left-x, 0) var(--hover-bridge-top-left-y, 0),
      var(--hover-bridge-top-right-x, 0) var(--hover-bridge-top-right-y, 0),
      var(--hover-bridge-bottom-right-x, 0) var(--hover-bridge-bottom-right-y, 0),
      var(--hover-bridge-bottom-left-x, 0) var(--hover-bridge-bottom-left-y, 0)
    );
  }
`;const min$2=Math.min,max$2=Math.max,round$1=Math.round,floor=Math.floor,createCoords=F=>({x:F,y:F}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp$1(F,W,q){return max$2(F,min$2(W,q))}function evaluate$1(F,W){return typeof F=="function"?F(W):F}function getSide(F){return F.split("-")[0]}function getAlignment(F){return F.split("-")[1]}function getOppositeAxis(F){return F==="x"?"y":"x"}function getAxisLength(F){return F==="y"?"height":"width"}function getSideAxis(F){return["top","bottom"].includes(getSide(F))?"y":"x"}function getAlignmentAxis(F){return getOppositeAxis(getSideAxis(F))}function getAlignmentSides(F,W,q){q===void 0&&(q=!1);const X=getAlignment(F),tt=getAlignmentAxis(F),ot=getAxisLength(tt);let at=tt==="x"?X===(q?"end":"start")?"right":"left":X==="start"?"bottom":"top";return W.reference[ot]>W.floating[ot]&&(at=getOppositePlacement$1(at)),[at,getOppositePlacement$1(at)]}function getExpandedPlacements(F){const W=getOppositePlacement$1(F);return[getOppositeAlignmentPlacement(F),W,getOppositeAlignmentPlacement(W)]}function getOppositeAlignmentPlacement(F){return F.replace(/start|end/g,W=>oppositeAlignmentMap[W])}function getSideList(F,W,q){const X=["left","right"],tt=["right","left"],ot=["top","bottom"],at=["bottom","top"];switch(F){case"top":case"bottom":return q?W?tt:X:W?X:tt;case"left":case"right":return W?ot:at;default:return[]}}function getOppositeAxisPlacements(F,W,q,X){const tt=getAlignment(F);let ot=getSideList(getSide(F),q==="start",X);return tt&&(ot=ot.map(at=>at+"-"+tt),W&&(ot=ot.concat(ot.map(getOppositeAlignmentPlacement)))),ot}function getOppositePlacement$1(F){return F.replace(/left|right|bottom|top/g,W=>oppositeSideMap[W])}function expandPaddingObject(F){return{top:0,right:0,bottom:0,left:0,...F}}function getPaddingObject(F){return typeof F!="number"?expandPaddingObject(F):{top:F,right:F,bottom:F,left:F}}function rectToClientRect$1(F){return{...F,top:F.y,left:F.x,right:F.x+F.width,bottom:F.y+F.height}}function computeCoordsFromPlacement(F,W,q){let{reference:X,floating:tt}=F;const ot=getSideAxis(W),at=getAlignmentAxis(W),ut=getAxisLength(at),wt=getSide(W),uo=ot==="y",mo=X.x+X.width/2-tt.width/2,yo=X.y+X.height/2-tt.height/2,lf=X[ut]/2-tt[ut]/2;let uf;switch(wt){case"top":uf={x:mo,y:X.y-tt.height};break;case"bottom":uf={x:mo,y:X.y+X.height};break;case"right":uf={x:X.x+X.width,y:yo};break;case"left":uf={x:X.x-tt.width,y:yo};break;default:uf={x:X.x,y:X.y}}switch(getAlignment(W)){case"start":uf[at]-=lf*(q&&uo?-1:1);break;case"end":uf[at]+=lf*(q&&uo?-1:1);break}return uf}const computePosition$1=async(F,W,q)=>{const{placement:X="bottom",strategy:tt="absolute",middleware:ot=[],platform:at}=q,ut=ot.filter(Boolean),wt=await(at.isRTL==null?void 0:at.isRTL(W));let uo=await at.getElementRects({reference:F,floating:W,strategy:tt}),{x:mo,y:yo}=computeCoordsFromPlacement(uo,X,wt),lf=X,uf={},df=0;for(let wf=0;wf<ut.length;wf++){const{name:wo,fn:ls}=ut[wf],{x:_f,y:po,data:xo,reset:gf}=await ls({x:mo,y:yo,initialPlacement:X,placement:lf,strategy:tt,middlewareData:uf,rects:uo,platform:at,elements:{reference:F,floating:W}});mo=_f??mo,yo=po??yo,uf={...uf,[wo]:{...uf[wo],...xo}},gf&&df<=50&&(df++,typeof gf=="object"&&(gf.placement&&(lf=gf.placement),gf.rects&&(uo=gf.rects===!0?await at.getElementRects({reference:F,floating:W,strategy:tt}):gf.rects),{x:mo,y:yo}=computeCoordsFromPlacement(uo,lf,wt)),wf=-1)}return{x:mo,y:yo,placement:lf,strategy:tt,middlewareData:uf}};async function detectOverflow$1(F,W){var q;W===void 0&&(W={});const{x:X,y:tt,platform:ot,rects:at,elements:ut,strategy:wt}=F,{boundary:uo="clippingAncestors",rootBoundary:mo="viewport",elementContext:yo="floating",altBoundary:lf=!1,padding:uf=0}=evaluate$1(W,F),df=getPaddingObject(uf),wo=ut[lf?yo==="floating"?"reference":"floating":yo],ls=rectToClientRect$1(await ot.getClippingRect({element:(q=await(ot.isElement==null?void 0:ot.isElement(wo)))==null||q?wo:wo.contextElement||await(ot.getDocumentElement==null?void 0:ot.getDocumentElement(ut.floating)),boundary:uo,rootBoundary:mo,strategy:wt})),_f=yo==="floating"?{...at.floating,x:X,y:tt}:at.reference,po=await(ot.getOffsetParent==null?void 0:ot.getOffsetParent(ut.floating)),xo=await(ot.isElement==null?void 0:ot.isElement(po))?await(ot.getScale==null?void 0:ot.getScale(po))||{x:1,y:1}:{x:1,y:1},gf=rectToClientRect$1(ot.convertOffsetParentRelativeRectToViewportRelativeRect?await ot.convertOffsetParentRelativeRectToViewportRelativeRect({elements:ut,rect:_f,offsetParent:po,strategy:wt}):_f);return{top:(ls.top-gf.top+df.top)/xo.y,bottom:(gf.bottom-ls.bottom+df.bottom)/xo.y,left:(ls.left-gf.left+df.left)/xo.x,right:(gf.right-ls.right+df.right)/xo.x}}const arrow$3=F=>({name:"arrow",options:F,async fn(W){const{x:q,y:X,placement:tt,rects:ot,platform:at,elements:ut,middlewareData:wt}=W,{element:uo,padding:mo=0}=evaluate$1(F,W)||{};if(uo==null)return{};const yo=getPaddingObject(mo),lf={x:q,y:X},uf=getAlignmentAxis(tt),df=getAxisLength(uf),wf=await at.getDimensions(uo),wo=uf==="y",ls=wo?"top":"left",_f=wo?"bottom":"right",po=wo?"clientHeight":"clientWidth",xo=ot.reference[df]+ot.reference[uf]-lf[uf]-ot.floating[df],gf=lf[uf]-ot.reference[uf],cf=await(at.getOffsetParent==null?void 0:at.getOffsetParent(uo));let yf=cf?cf[po]:0;(!yf||!await(at.isElement==null?void 0:at.isElement(cf)))&&(yf=ut.floating[po]||ot.floating[df]);const Sf=xo/2-gf/2,xf=yf/2-wf[df]/2-1,bf=min$2(yo[ls],xf),Af=min$2(yo[_f],xf),Pf=bf,Df=yf-wf[df]-Af,zf=yf/2-wf[df]/2+Sf,jf=clamp$1(Pf,zf,Df),$f=!wt.arrow&&getAlignment(tt)!=null&&zf!==jf&&ot.reference[df]/2-(zf<Pf?bf:Af)-wf[df]/2<0,Ff=$f?zf<Pf?zf-Pf:zf-Df:0;return{[uf]:lf[uf]+Ff,data:{[uf]:jf,centerOffset:zf-jf-Ff,...$f&&{alignmentOffset:Ff}},reset:$f}}}),flip$3=function(F){return F===void 0&&(F={}),{name:"flip",options:F,async fn(W){var q,X;const{placement:tt,middlewareData:ot,rects:at,initialPlacement:ut,platform:wt,elements:uo}=W,{mainAxis:mo=!0,crossAxis:yo=!0,fallbackPlacements:lf,fallbackStrategy:uf="bestFit",fallbackAxisSideDirection:df="none",flipAlignment:wf=!0,...wo}=evaluate$1(F,W);if((q=ot.arrow)!=null&&q.alignmentOffset)return{};const ls=getSide(tt),_f=getSide(ut)===ut,po=await(wt.isRTL==null?void 0:wt.isRTL(uo.floating)),xo=lf||(_f||!wf?[getOppositePlacement$1(ut)]:getExpandedPlacements(ut));!lf&&df!=="none"&&xo.push(...getOppositeAxisPlacements(ut,wf,df,po));const gf=[ut,...xo],cf=await detectOverflow$1(W,wo),yf=[];let Sf=((X=ot.flip)==null?void 0:X.overflows)||[];if(mo&&yf.push(cf[ls]),yo){const Pf=getAlignmentSides(tt,at,po);yf.push(cf[Pf[0]],cf[Pf[1]])}if(Sf=[...Sf,{placement:tt,overflows:yf}],!yf.every(Pf=>Pf<=0)){var xf,bf;const Pf=(((xf=ot.flip)==null?void 0:xf.index)||0)+1,Df=gf[Pf];if(Df)return{data:{index:Pf,overflows:Sf},reset:{placement:Df}};let zf=(bf=Sf.filter(jf=>jf.overflows[0]<=0).sort((jf,$f)=>jf.overflows[1]-$f.overflows[1])[0])==null?void 0:bf.placement;if(!zf)switch(uf){case"bestFit":{var Af;const jf=(Af=Sf.map($f=>[$f.placement,$f.overflows.filter(Ff=>Ff>0).reduce((Ff,Xf)=>Ff+Xf,0)]).sort(($f,Ff)=>$f[1]-Ff[1])[0])==null?void 0:Af[0];jf&&(zf=jf);break}case"initialPlacement":zf=ut;break}if(tt!==zf)return{reset:{placement:zf}}}return{}}}};async function convertValueToCoords(F,W){const{placement:q,platform:X,elements:tt}=F,ot=await(X.isRTL==null?void 0:X.isRTL(tt.floating)),at=getSide(q),ut=getAlignment(q),wt=getSideAxis(q)==="y",uo=["left","top"].includes(at)?-1:1,mo=ot&&wt?-1:1,yo=evaluate$1(W,F);let{mainAxis:lf,crossAxis:uf,alignmentAxis:df}=typeof yo=="number"?{mainAxis:yo,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...yo};return ut&&typeof df=="number"&&(uf=ut==="end"?df*-1:df),wt?{x:uf*mo,y:lf*uo}:{x:lf*uo,y:uf*mo}}const offset$2=function(F){return F===void 0&&(F=0),{name:"offset",options:F,async fn(W){var q,X;const{x:tt,y:ot,placement:at,middlewareData:ut}=W,wt=await convertValueToCoords(W,F);return at===((q=ut.offset)==null?void 0:q.placement)&&(X=ut.arrow)!=null&&X.alignmentOffset?{}:{x:tt+wt.x,y:ot+wt.y,data:{...wt,placement:at}}}}},shift$1=function(F){return F===void 0&&(F={}),{name:"shift",options:F,async fn(W){const{x:q,y:X,placement:tt}=W,{mainAxis:ot=!0,crossAxis:at=!1,limiter:ut={fn:wo=>{let{x:ls,y:_f}=wo;return{x:ls,y:_f}}},...wt}=evaluate$1(F,W),uo={x:q,y:X},mo=await detectOverflow$1(W,wt),yo=getSideAxis(getSide(tt)),lf=getOppositeAxis(yo);let uf=uo[lf],df=uo[yo];if(ot){const wo=lf==="y"?"top":"left",ls=lf==="y"?"bottom":"right",_f=uf+mo[wo],po=uf-mo[ls];uf=clamp$1(_f,uf,po)}if(at){const wo=yo==="y"?"top":"left",ls=yo==="y"?"bottom":"right",_f=df+mo[wo],po=df-mo[ls];df=clamp$1(_f,df,po)}const wf=ut.fn({...W,[lf]:uf,[yo]:df});return{...wf,data:{x:wf.x-q,y:wf.y-X}}}}},size$1=function(F){return F===void 0&&(F={}),{name:"size",options:F,async fn(W){const{placement:q,rects:X,platform:tt,elements:ot}=W,{apply:at=()=>{},...ut}=evaluate$1(F,W),wt=await detectOverflow$1(W,ut),uo=getSide(q),mo=getAlignment(q),yo=getSideAxis(q)==="y",{width:lf,height:uf}=X.floating;let df,wf;uo==="top"||uo==="bottom"?(df=uo,wf=mo===(await(tt.isRTL==null?void 0:tt.isRTL(ot.floating))?"start":"end")?"left":"right"):(wf=uo,df=mo==="end"?"top":"bottom");const wo=uf-wt[df],ls=lf-wt[wf],_f=!W.middlewareData.shift;let po=wo,xo=ls;if(yo){const cf=lf-wt.left-wt.right;xo=mo||_f?min$2(ls,cf):cf}else{const cf=uf-wt.top-wt.bottom;po=mo||_f?min$2(wo,cf):cf}if(_f&&!mo){const cf=max$2(wt.left,0),yf=max$2(wt.right,0),Sf=max$2(wt.top,0),xf=max$2(wt.bottom,0);yo?xo=lf-2*(cf!==0||yf!==0?cf+yf:max$2(wt.left,wt.right)):po=uf-2*(Sf!==0||xf!==0?Sf+xf:max$2(wt.top,wt.bottom))}await at({...W,availableWidth:xo,availableHeight:po});const gf=await tt.getDimensions(ot.floating);return lf!==gf.width||uf!==gf.height?{reset:{rects:!0}}:{}}}};function getNodeName$1(F){return isNode(F)?(F.nodeName||"").toLowerCase():"#document"}function getWindow$1(F){var W;return(F==null||(W=F.ownerDocument)==null?void 0:W.defaultView)||window}function getDocumentElement$1(F){var W;return(W=(isNode(F)?F.ownerDocument:F.document)||window.document)==null?void 0:W.documentElement}function isNode(F){return F instanceof Node||F instanceof getWindow$1(F).Node}function isElement$1(F){return F instanceof Element||F instanceof getWindow$1(F).Element}function isHTMLElement$1(F){return F instanceof HTMLElement||F instanceof getWindow$1(F).HTMLElement}function isShadowRoot$1(F){return typeof ShadowRoot>"u"?!1:F instanceof ShadowRoot||F instanceof getWindow$1(F).ShadowRoot}function isOverflowElement(F){const{overflow:W,overflowX:q,overflowY:X,display:tt}=getComputedStyle$2(F);return/auto|scroll|overlay|hidden|clip/.test(W+X+q)&&!["inline","contents"].includes(tt)}function isTableElement$1(F){return["table","td","th"].includes(getNodeName$1(F))}function isContainingBlock(F){const W=isWebKit(),q=getComputedStyle$2(F);return q.transform!=="none"||q.perspective!=="none"||(q.containerType?q.containerType!=="normal":!1)||!W&&(q.backdropFilter?q.backdropFilter!=="none":!1)||!W&&(q.filter?q.filter!=="none":!1)||["transform","perspective","filter"].some(X=>(q.willChange||"").includes(X))||["paint","layout","strict","content"].some(X=>(q.contain||"").includes(X))}function getContainingBlock$1(F){let W=getParentNode$1(F);for(;isHTMLElement$1(W)&&!isLastTraversableNode(W);){if(isContainingBlock(W))return W;W=getParentNode$1(W)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(F){return["html","body","#document"].includes(getNodeName$1(F))}function getComputedStyle$2(F){return getWindow$1(F).getComputedStyle(F)}function getNodeScroll$1(F){return isElement$1(F)?{scrollLeft:F.scrollLeft,scrollTop:F.scrollTop}:{scrollLeft:F.pageXOffset,scrollTop:F.pageYOffset}}function getParentNode$1(F){if(getNodeName$1(F)==="html")return F;const W=F.assignedSlot||F.parentNode||isShadowRoot$1(F)&&F.host||getDocumentElement$1(F);return isShadowRoot$1(W)?W.host:W}function getNearestOverflowAncestor(F){const W=getParentNode$1(F);return isLastTraversableNode(W)?F.ownerDocument?F.ownerDocument.body:F.body:isHTMLElement$1(W)&&isOverflowElement(W)?W:getNearestOverflowAncestor(W)}function getOverflowAncestors(F,W,q){var X;W===void 0&&(W=[]),q===void 0&&(q=!0);const tt=getNearestOverflowAncestor(F),ot=tt===((X=F.ownerDocument)==null?void 0:X.body),at=getWindow$1(tt);return ot?W.concat(at,at.visualViewport||[],isOverflowElement(tt)?tt:[],at.frameElement&&q?getOverflowAncestors(at.frameElement):[]):W.concat(tt,getOverflowAncestors(tt,[],q))}function getCssDimensions(F){const W=getComputedStyle$2(F);let q=parseFloat(W.width)||0,X=parseFloat(W.height)||0;const tt=isHTMLElement$1(F),ot=tt?F.offsetWidth:q,at=tt?F.offsetHeight:X,ut=round$1(q)!==ot||round$1(X)!==at;return ut&&(q=ot,X=at),{width:q,height:X,$:ut}}function unwrapElement(F){return isElement$1(F)?F:F.contextElement}function getScale(F){const W=unwrapElement(F);if(!isHTMLElement$1(W))return createCoords(1);const q=W.getBoundingClientRect(),{width:X,height:tt,$:ot}=getCssDimensions(W);let at=(ot?round$1(q.width):q.width)/X,ut=(ot?round$1(q.height):q.height)/tt;return(!at||!Number.isFinite(at))&&(at=1),(!ut||!Number.isFinite(ut))&&(ut=1),{x:at,y:ut}}const noOffsets=createCoords(0);function getVisualOffsets(F){const W=getWindow$1(F);return!isWebKit()||!W.visualViewport?noOffsets:{x:W.visualViewport.offsetLeft,y:W.visualViewport.offsetTop}}function shouldAddVisualOffsets(F,W,q){return W===void 0&&(W=!1),!q||W&&q!==getWindow$1(F)?!1:W}function getBoundingClientRect$1(F,W,q,X){W===void 0&&(W=!1),q===void 0&&(q=!1);const tt=F.getBoundingClientRect(),ot=unwrapElement(F);let at=createCoords(1);W&&(X?isElement$1(X)&&(at=getScale(X)):at=getScale(F));const ut=shouldAddVisualOffsets(ot,q,X)?getVisualOffsets(ot):createCoords(0);let wt=(tt.left+ut.x)/at.x,uo=(tt.top+ut.y)/at.y,mo=tt.width/at.x,yo=tt.height/at.y;if(ot){const lf=getWindow$1(ot),uf=X&&isElement$1(X)?getWindow$1(X):X;let df=lf.frameElement;for(;df&&X&&uf!==lf;){const wf=getScale(df),wo=df.getBoundingClientRect(),ls=getComputedStyle$2(df),_f=wo.left+(df.clientLeft+parseFloat(ls.paddingLeft))*wf.x,po=wo.top+(df.clientTop+parseFloat(ls.paddingTop))*wf.y;wt*=wf.x,uo*=wf.y,mo*=wf.x,yo*=wf.y,wt+=_f,uo+=po,df=getWindow$1(df).frameElement}}return rectToClientRect$1({width:mo,height:yo,x:wt,y:uo})}const topLayerSelectors=[":popover-open",":modal"];function topLayer(F){let W=!1,q=0,X=0;function tt(ot){try{W=W||F.matches(ot)}catch{}}if(topLayerSelectors.forEach(ot=>{tt(ot)}),W){const ot=getContainingBlock$1(F);if(ot){const at=ot.getBoundingClientRect();q=at.x,X=at.y}}return[W,q,X]}function convertOffsetParentRelativeRectToViewportRelativeRect(F){let{elements:W,rect:q,offsetParent:X,strategy:tt}=F;const ot=getDocumentElement$1(X),[at]=W?topLayer(W.floating):[!1];if(X===ot||at)return q;let ut={scrollLeft:0,scrollTop:0},wt=createCoords(1);const uo=createCoords(0),mo=isHTMLElement$1(X);if((mo||!mo&&tt!=="fixed")&&((getNodeName$1(X)!=="body"||isOverflowElement(ot))&&(ut=getNodeScroll$1(X)),isHTMLElement$1(X))){const yo=getBoundingClientRect$1(X);wt=getScale(X),uo.x=yo.x+X.clientLeft,uo.y=yo.y+X.clientTop}return{width:q.width*wt.x,height:q.height*wt.y,x:q.x*wt.x-ut.scrollLeft*wt.x+uo.x,y:q.y*wt.y-ut.scrollTop*wt.y+uo.y}}function getClientRects(F){return Array.from(F.getClientRects())}function getWindowScrollBarX$1(F){return getBoundingClientRect$1(getDocumentElement$1(F)).left+getNodeScroll$1(F).scrollLeft}function getDocumentRect$1(F){const W=getDocumentElement$1(F),q=getNodeScroll$1(F),X=F.ownerDocument.body,tt=max$2(W.scrollWidth,W.clientWidth,X.scrollWidth,X.clientWidth),ot=max$2(W.scrollHeight,W.clientHeight,X.scrollHeight,X.clientHeight);let at=-q.scrollLeft+getWindowScrollBarX$1(F);const ut=-q.scrollTop;return getComputedStyle$2(X).direction==="rtl"&&(at+=max$2(W.clientWidth,X.clientWidth)-tt),{width:tt,height:ot,x:at,y:ut}}function getViewportRect$1(F,W){const q=getWindow$1(F),X=getDocumentElement$1(F),tt=q.visualViewport;let ot=X.clientWidth,at=X.clientHeight,ut=0,wt=0;if(tt){ot=tt.width,at=tt.height;const uo=isWebKit();(!uo||uo&&W==="fixed")&&(ut=tt.offsetLeft,wt=tt.offsetTop)}return{width:ot,height:at,x:ut,y:wt}}function getInnerBoundingClientRect$1(F,W){const q=getBoundingClientRect$1(F,!0,W==="fixed"),X=q.top+F.clientTop,tt=q.left+F.clientLeft,ot=isHTMLElement$1(F)?getScale(F):createCoords(1),at=F.clientWidth*ot.x,ut=F.clientHeight*ot.y,wt=tt*ot.x,uo=X*ot.y;return{width:at,height:ut,x:wt,y:uo}}function getClientRectFromClippingAncestor(F,W,q){let X;if(W==="viewport")X=getViewportRect$1(F,q);else if(W==="document")X=getDocumentRect$1(getDocumentElement$1(F));else if(isElement$1(W))X=getInnerBoundingClientRect$1(W,q);else{const tt=getVisualOffsets(F);X={...W,x:W.x-tt.x,y:W.y-tt.y}}return rectToClientRect$1(X)}function hasFixedPositionAncestor(F,W){const q=getParentNode$1(F);return q===W||!isElement$1(q)||isLastTraversableNode(q)?!1:getComputedStyle$2(q).position==="fixed"||hasFixedPositionAncestor(q,W)}function getClippingElementAncestors(F,W){const q=W.get(F);if(q)return q;let X=getOverflowAncestors(F,[],!1).filter(ut=>isElement$1(ut)&&getNodeName$1(ut)!=="body"),tt=null;const ot=getComputedStyle$2(F).position==="fixed";let at=ot?getParentNode$1(F):F;for(;isElement$1(at)&&!isLastTraversableNode(at);){const ut=getComputedStyle$2(at),wt=isContainingBlock(at);!wt&&ut.position==="fixed"&&(tt=null),(ot?!wt&&!tt:!wt&&ut.position==="static"&&!!tt&&["absolute","fixed"].includes(tt.position)||isOverflowElement(at)&&!wt&&hasFixedPositionAncestor(F,at))?X=X.filter(mo=>mo!==at):tt=ut,at=getParentNode$1(at)}return W.set(F,X),X}function getClippingRect$1(F){let{element:W,boundary:q,rootBoundary:X,strategy:tt}=F;const at=[...q==="clippingAncestors"?getClippingElementAncestors(W,this._c):[].concat(q),X],ut=at[0],wt=at.reduce((uo,mo)=>{const yo=getClientRectFromClippingAncestor(W,mo,tt);return uo.top=max$2(yo.top,uo.top),uo.right=min$2(yo.right,uo.right),uo.bottom=min$2(yo.bottom,uo.bottom),uo.left=max$2(yo.left,uo.left),uo},getClientRectFromClippingAncestor(W,ut,tt));return{width:wt.right-wt.left,height:wt.bottom-wt.top,x:wt.left,y:wt.top}}function getDimensions(F){const{width:W,height:q}=getCssDimensions(F);return{width:W,height:q}}function getRectRelativeToOffsetParent(F,W,q,X){const tt=isHTMLElement$1(W),ot=getDocumentElement$1(W),at=q==="fixed",ut=getBoundingClientRect$1(F,!0,at,W);let wt={scrollLeft:0,scrollTop:0};const uo=createCoords(0);if(tt||!tt&&!at)if((getNodeName$1(W)!=="body"||isOverflowElement(ot))&&(wt=getNodeScroll$1(W)),tt){const wf=getBoundingClientRect$1(W,!0,at,W);uo.x=wf.x+W.clientLeft,uo.y=wf.y+W.clientTop}else ot&&(uo.x=getWindowScrollBarX$1(ot));let mo=ut.left+wt.scrollLeft-uo.x,yo=ut.top+wt.scrollTop-uo.y;const[lf,uf,df]=topLayer(X);return lf&&(mo+=uf,yo+=df,tt&&(mo+=W.clientLeft,yo+=W.clientTop)),{x:mo,y:yo,width:ut.width,height:ut.height}}function getTrueOffsetParent$1(F,W){return!isHTMLElement$1(F)||getComputedStyle$2(F).position==="fixed"?null:W?W(F):F.offsetParent}function getOffsetParent$1(F,W){const q=getWindow$1(F);if(!isHTMLElement$1(F))return q;let X=getTrueOffsetParent$1(F,W);for(;X&&isTableElement$1(X)&&getComputedStyle$2(X).position==="static";)X=getTrueOffsetParent$1(X,W);return X&&(getNodeName$1(X)==="html"||getNodeName$1(X)==="body"&&getComputedStyle$2(X).position==="static"&&!isContainingBlock(X))?q:X||getContainingBlock$1(F)||q}const getElementRects=async function(F){const W=this.getOffsetParent||getOffsetParent$1,q=this.getDimensions;return{reference:getRectRelativeToOffsetParent(F.reference,await W(F.floating),F.strategy,F.floating),floating:{x:0,y:0,...await q(F.floating)}}};function isRTL(F){return getComputedStyle$2(F).direction==="rtl"}const platform$1={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement:getDocumentElement$1,getClippingRect:getClippingRect$1,getOffsetParent:getOffsetParent$1,getElementRects,getClientRects,getDimensions,getScale,isElement:isElement$1,isRTL};function observeMove(F,W){let q=null,X;const tt=getDocumentElement$1(F);function ot(){var ut;clearTimeout(X),(ut=q)==null||ut.disconnect(),q=null}function at(ut,wt){ut===void 0&&(ut=!1),wt===void 0&&(wt=1),ot();const{left:uo,top:mo,width:yo,height:lf}=F.getBoundingClientRect();if(ut||W(),!yo||!lf)return;const uf=floor(mo),df=floor(tt.clientWidth-(uo+yo)),wf=floor(tt.clientHeight-(mo+lf)),wo=floor(uo),_f={rootMargin:-uf+"px "+-df+"px "+-wf+"px "+-wo+"px",threshold:max$2(0,min$2(1,wt))||1};let po=!0;function xo(gf){const cf=gf[0].intersectionRatio;if(cf!==wt){if(!po)return at();cf?at(!1,cf):X=setTimeout(()=>{at(!1,1e-7)},100)}po=!1}try{q=new IntersectionObserver(xo,{..._f,root:tt.ownerDocument})}catch{q=new IntersectionObserver(xo,_f)}q.observe(F)}return at(!0),ot}function autoUpdate(F,W,q,X){X===void 0&&(X={});const{ancestorScroll:tt=!0,ancestorResize:ot=!0,elementResize:at=typeof ResizeObserver=="function",layoutShift:ut=typeof IntersectionObserver=="function",animationFrame:wt=!1}=X,uo=unwrapElement(F),mo=tt||ot?[...uo?getOverflowAncestors(uo):[],...getOverflowAncestors(W)]:[];mo.forEach(ls=>{tt&&ls.addEventListener("scroll",q,{passive:!0}),ot&&ls.addEventListener("resize",q)});const yo=uo&&ut?observeMove(uo,q):null;let lf=-1,uf=null;at&&(uf=new ResizeObserver(ls=>{let[_f]=ls;_f&&_f.target===uo&&uf&&(uf.unobserve(W),cancelAnimationFrame(lf),lf=requestAnimationFrame(()=>{var po;(po=uf)==null||po.observe(W)})),q()}),uo&&!wt&&uf.observe(uo),uf.observe(W));let df,wf=wt?getBoundingClientRect$1(F):null;wt&&wo();function wo(){const ls=getBoundingClientRect$1(F);wf&&(ls.x!==wf.x||ls.y!==wf.y||ls.width!==wf.width||ls.height!==wf.height)&&q(),wf=ls,df=requestAnimationFrame(wo)}return q(),()=>{var ls;mo.forEach(_f=>{tt&&_f.removeEventListener("scroll",q),ot&&_f.removeEventListener("resize",q)}),yo==null||yo(),(ls=uf)==null||ls.disconnect(),uf=null,wt&&cancelAnimationFrame(df)}}const shift=shift$1,flip$2=flip$3,size=size$1,arrow$2=arrow$3,computePosition=(F,W,q)=>{const X=new Map,tt={platform:platform$1,...q},ot={...tt.platform,_c:X};return computePosition$1(F,W,{...tt,platform:ot})};function t(F){return r$1(F)}function o$3(F){return F.assignedSlot?F.assignedSlot:F.parentNode instanceof ShadowRoot?F.parentNode.host:F.parentNode}function r$1(F){for(let W=F;W;W=o$3(W))if(W instanceof Element&&getComputedStyle(W).display==="none")return null;for(let W=o$3(F);W;W=o$3(W)){if(!(W instanceof Element))continue;const q=getComputedStyle(W);if(q.display!=="contents"&&(q.position!=="static"||q.filter!=="none"||W.tagName==="BODY"))return W}return null}function isVirtualElement(F){return F!==null&&typeof F=="object"&&"getBoundingClientRect"in F}var SlPopup=class extends ShoelaceElement{constructor(){super(...arguments),this.active=!1,this.placement="top",this.strategy="absolute",this.distance=0,this.skidding=0,this.arrow=!1,this.arrowPlacement="anchor",this.arrowPadding=10,this.flip=!1,this.flipFallbackPlacements="",this.flipFallbackStrategy="best-fit",this.flipPadding=0,this.shift=!1,this.shiftPadding=0,this.autoSizePadding=0,this.hoverBridge=!1,this.updateHoverBridge=()=>{if(this.hoverBridge&&this.anchorEl){const F=this.anchorEl.getBoundingClientRect(),W=this.popup.getBoundingClientRect(),q=this.placement.includes("top")||this.placement.includes("bottom");let X=0,tt=0,ot=0,at=0,ut=0,wt=0,uo=0,mo=0;q?F.top<W.top?(X=F.left,tt=F.bottom,ot=F.right,at=F.bottom,ut=W.left,wt=W.top,uo=W.right,mo=W.top):(X=W.left,tt=W.bottom,ot=W.right,at=W.bottom,ut=F.left,wt=F.top,uo=F.right,mo=F.top):F.left<W.left?(X=F.right,tt=F.top,ot=W.left,at=W.top,ut=F.right,wt=F.bottom,uo=W.left,mo=W.bottom):(X=W.right,tt=W.top,ot=F.left,at=F.top,ut=W.right,wt=W.bottom,uo=F.left,mo=F.bottom),this.style.setProperty("--hover-bridge-top-left-x",`${X}px`),this.style.setProperty("--hover-bridge-top-left-y",`${tt}px`),this.style.setProperty("--hover-bridge-top-right-x",`${ot}px`),this.style.setProperty("--hover-bridge-top-right-y",`${at}px`),this.style.setProperty("--hover-bridge-bottom-left-x",`${ut}px`),this.style.setProperty("--hover-bridge-bottom-left-y",`${wt}px`),this.style.setProperty("--hover-bridge-bottom-right-x",`${uo}px`),this.style.setProperty("--hover-bridge-bottom-right-y",`${mo}px`)}}}async connectedCallback(){super.connectedCallback(),await this.updateComplete,this.start()}disconnectedCallback(){super.disconnectedCallback(),this.stop()}async updated(F){super.updated(F),F.has("active")&&(this.active?this.start():this.stop()),F.has("anchor")&&this.handleAnchorChange(),this.active&&(await this.updateComplete,this.reposition())}async handleAnchorChange(){if(await this.stop(),this.anchor&&typeof this.anchor=="string"){const F=this.getRootNode();this.anchorEl=F.getElementById(this.anchor)}else this.anchor instanceof Element||isVirtualElement(this.anchor)?this.anchorEl=this.anchor:this.anchorEl=this.querySelector('[slot="anchor"]');this.anchorEl instanceof HTMLSlotElement&&(this.anchorEl=this.anchorEl.assignedElements({flatten:!0})[0]),this.anchorEl&&this.start()}start(){this.anchorEl&&(this.cleanup=autoUpdate(this.anchorEl,this.popup,()=>{this.reposition()}))}async stop(){return new Promise(F=>{this.cleanup?(this.cleanup(),this.cleanup=void 0,this.removeAttribute("data-current-placement"),this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height"),requestAnimationFrame(()=>F())):F()})}reposition(){if(!this.active||!this.anchorEl)return;const F=[offset$2({mainAxis:this.distance,crossAxis:this.skidding})];this.sync?F.push(size({apply:({rects:q})=>{const X=this.sync==="width"||this.sync==="both",tt=this.sync==="height"||this.sync==="both";this.popup.style.width=X?`${q.reference.width}px`:"",this.popup.style.height=tt?`${q.reference.height}px`:""}})):(this.popup.style.width="",this.popup.style.height=""),this.flip&&F.push(flip$2({boundary:this.flipBoundary,fallbackPlacements:this.flipFallbackPlacements,fallbackStrategy:this.flipFallbackStrategy==="best-fit"?"bestFit":"initialPlacement",padding:this.flipPadding})),this.shift&&F.push(shift({boundary:this.shiftBoundary,padding:this.shiftPadding})),this.autoSize?F.push(size({boundary:this.autoSizeBoundary,padding:this.autoSizePadding,apply:({availableWidth:q,availableHeight:X})=>{this.autoSize==="vertical"||this.autoSize==="both"?this.style.setProperty("--auto-size-available-height",`${X}px`):this.style.removeProperty("--auto-size-available-height"),this.autoSize==="horizontal"||this.autoSize==="both"?this.style.setProperty("--auto-size-available-width",`${q}px`):this.style.removeProperty("--auto-size-available-width")}})):(this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height")),this.arrow&&F.push(arrow$2({element:this.arrowEl,padding:this.arrowPadding}));const W=this.strategy==="absolute"?q=>platform$1.getOffsetParent(q,t):platform$1.getOffsetParent;computePosition(this.anchorEl,this.popup,{placement:this.placement,middleware:F,strategy:this.strategy,platform:__spreadProps(__spreadValues({},platform$1),{getOffsetParent:W})}).then(({x:q,y:X,middlewareData:tt,placement:ot})=>{const at=getComputedStyle(this).direction==="rtl",ut={top:"bottom",right:"left",bottom:"top",left:"right"}[ot.split("-")[0]];if(this.setAttribute("data-current-placement",ot),Object.assign(this.popup.style,{left:`${q}px`,top:`${X}px`}),this.arrow){const wt=tt.arrow.x,uo=tt.arrow.y;let mo="",yo="",lf="",uf="";if(this.arrowPlacement==="start"){const df=typeof wt=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";mo=typeof uo=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"",yo=at?df:"",uf=at?"":df}else if(this.arrowPlacement==="end"){const df=typeof wt=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";yo=at?"":df,uf=at?df:"",lf=typeof uo=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:""}else this.arrowPlacement==="center"?(uf=typeof wt=="number"?"calc(50% - var(--arrow-size-diagonal))":"",mo=typeof uo=="number"?"calc(50% - var(--arrow-size-diagonal))":""):(uf=typeof wt=="number"?`${wt}px`:"",mo=typeof uo=="number"?`${uo}px`:"");Object.assign(this.arrowEl.style,{top:mo,right:yo,bottom:lf,left:uf,[ut]:"calc(var(--arrow-size-diagonal) * -1)"})}}),requestAnimationFrame(()=>this.updateHoverBridge()),this.emit("sl-reposition")}render(){return x`
      <slot name="anchor" @slotchange=${this.handleAnchorChange}></slot>

      <span
        part="hover-bridge"
        class=${e$3({"popup-hover-bridge":!0,"popup-hover-bridge--visible":this.hoverBridge&&this.active})}
      ></span>

      <div
        part="popup"
        class=${e$3({popup:!0,"popup--active":this.active,"popup--fixed":this.strategy==="fixed","popup--has-arrow":this.arrow})}
      >
        <slot></slot>
        ${this.arrow?x`<div part="arrow" class="popup__arrow" role="presentation"></div>`:""}
      </div>
    `}};SlPopup.styles=popup_styles_default;__decorateClass([e$5(".popup")],SlPopup.prototype,"popup",2);__decorateClass([e$5(".popup__arrow")],SlPopup.prototype,"arrowEl",2);__decorateClass([n$4()],SlPopup.prototype,"anchor",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlPopup.prototype,"active",2);__decorateClass([n$4({reflect:!0})],SlPopup.prototype,"placement",2);__decorateClass([n$4({reflect:!0})],SlPopup.prototype,"strategy",2);__decorateClass([n$4({type:Number})],SlPopup.prototype,"distance",2);__decorateClass([n$4({type:Number})],SlPopup.prototype,"skidding",2);__decorateClass([n$4({type:Boolean})],SlPopup.prototype,"arrow",2);__decorateClass([n$4({attribute:"arrow-placement"})],SlPopup.prototype,"arrowPlacement",2);__decorateClass([n$4({attribute:"arrow-padding",type:Number})],SlPopup.prototype,"arrowPadding",2);__decorateClass([n$4({type:Boolean})],SlPopup.prototype,"flip",2);__decorateClass([n$4({attribute:"flip-fallback-placements",converter:{fromAttribute:F=>F.split(" ").map(W=>W.trim()).filter(W=>W!==""),toAttribute:F=>F.join(" ")}})],SlPopup.prototype,"flipFallbackPlacements",2);__decorateClass([n$4({attribute:"flip-fallback-strategy"})],SlPopup.prototype,"flipFallbackStrategy",2);__decorateClass([n$4({type:Object})],SlPopup.prototype,"flipBoundary",2);__decorateClass([n$4({attribute:"flip-padding",type:Number})],SlPopup.prototype,"flipPadding",2);__decorateClass([n$4({type:Boolean})],SlPopup.prototype,"shift",2);__decorateClass([n$4({type:Object})],SlPopup.prototype,"shiftBoundary",2);__decorateClass([n$4({attribute:"shift-padding",type:Number})],SlPopup.prototype,"shiftPadding",2);__decorateClass([n$4({attribute:"auto-size"})],SlPopup.prototype,"autoSize",2);__decorateClass([n$4()],SlPopup.prototype,"sync",2);__decorateClass([n$4({type:Object})],SlPopup.prototype,"autoSizeBoundary",2);__decorateClass([n$4({attribute:"auto-size-padding",type:Number})],SlPopup.prototype,"autoSizePadding",2);__decorateClass([n$4({attribute:"hover-bridge",type:Boolean})],SlPopup.prototype,"hoverBridge",2);var SlDropdown=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController(this),this.open=!1,this.placement="bottom-start",this.disabled=!1,this.stayOpenOnSelect=!1,this.distance=0,this.skidding=0,this.hoist=!1,this.handleKeyDown=F=>{this.open&&F.key==="Escape"&&(F.stopPropagation(),this.hide(),this.focusOnTrigger())},this.handleDocumentKeyDown=F=>{var W;if(F.key==="Escape"&&this.open&&!this.closeWatcher){F.stopPropagation(),this.focusOnTrigger(),this.hide();return}if(F.key==="Tab"){if(this.open&&((W=document.activeElement)==null?void 0:W.tagName.toLowerCase())==="sl-menu-item"){F.preventDefault(),this.hide(),this.focusOnTrigger();return}setTimeout(()=>{var q,X,tt;const ot=((q=this.containingElement)==null?void 0:q.getRootNode())instanceof ShadowRoot?(tt=(X=document.activeElement)==null?void 0:X.shadowRoot)==null?void 0:tt.activeElement:document.activeElement;(!this.containingElement||(ot==null?void 0:ot.closest(this.containingElement.tagName.toLowerCase()))!==this.containingElement)&&this.hide()})}},this.handleDocumentMouseDown=F=>{const W=F.composedPath();this.containingElement&&!W.includes(this.containingElement)&&this.hide()},this.handlePanelSelect=F=>{const W=F.target;!this.stayOpenOnSelect&&W.tagName.toLowerCase()==="sl-menu"&&(this.hide(),this.focusOnTrigger())}}connectedCallback(){super.connectedCallback(),this.containingElement||(this.containingElement=this)}firstUpdated(){this.panel.hidden=!this.open,this.open&&(this.addOpenListeners(),this.popup.active=!0)}disconnectedCallback(){super.disconnectedCallback(),this.removeOpenListeners(),this.hide()}focusOnTrigger(){const F=this.trigger.assignedElements({flatten:!0})[0];typeof(F==null?void 0:F.focus)=="function"&&F.focus()}getMenu(){return this.panel.assignedElements({flatten:!0}).find(F=>F.tagName.toLowerCase()==="sl-menu")}handleTriggerClick(){this.open?this.hide():(this.show(),this.focusOnTrigger())}async handleTriggerKeyDown(F){if([" ","Enter"].includes(F.key)){F.preventDefault(),this.handleTriggerClick();return}const W=this.getMenu();if(W){const q=W.getAllItems(),X=q[0],tt=q[q.length-1];["ArrowDown","ArrowUp","Home","End"].includes(F.key)&&(F.preventDefault(),this.open||(this.show(),await this.updateComplete),q.length>0&&this.updateComplete.then(()=>{(F.key==="ArrowDown"||F.key==="Home")&&(W.setCurrentItem(X),X.focus()),(F.key==="ArrowUp"||F.key==="End")&&(W.setCurrentItem(tt),tt.focus())}))}}handleTriggerKeyUp(F){F.key===" "&&F.preventDefault()}handleTriggerSlotChange(){this.updateAccessibleTrigger()}updateAccessibleTrigger(){const W=this.trigger.assignedElements({flatten:!0}).find(X=>getTabbableBoundary(X).start);let q;if(W){switch(W.tagName.toLowerCase()){case"sl-button":case"sl-icon-button":q=W.button;break;default:q=W}q.setAttribute("aria-haspopup","true"),q.setAttribute("aria-expanded",this.open?"true":"false")}}async show(){if(!this.open)return this.open=!0,waitForEvent(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,waitForEvent(this,"sl-after-hide")}reposition(){this.popup.reposition()}addOpenListeners(){var F;this.panel.addEventListener("sl-select",this.handlePanelSelect),"CloseWatcher"in window?((F=this.closeWatcher)==null||F.destroy(),this.closeWatcher=new CloseWatcher,this.closeWatcher.onclose=()=>{this.hide(),this.focusOnTrigger()}):this.panel.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keydown",this.handleDocumentKeyDown),document.addEventListener("mousedown",this.handleDocumentMouseDown)}removeOpenListeners(){var F;this.panel&&(this.panel.removeEventListener("sl-select",this.handlePanelSelect),this.panel.removeEventListener("keydown",this.handleKeyDown)),document.removeEventListener("keydown",this.handleDocumentKeyDown),document.removeEventListener("mousedown",this.handleDocumentMouseDown),(F=this.closeWatcher)==null||F.destroy()}async handleOpenChange(){if(this.disabled){this.open=!1;return}if(this.updateAccessibleTrigger(),this.open){this.emit("sl-show"),this.addOpenListeners(),await stopAnimations(this),this.panel.hidden=!1,this.popup.active=!0;const{keyframes:F,options:W}=getAnimation(this,"dropdown.show",{dir:this.localize.dir()});await animateTo(this.popup.popup,F,W),this.emit("sl-after-show")}else{this.emit("sl-hide"),this.removeOpenListeners(),await stopAnimations(this);const{keyframes:F,options:W}=getAnimation(this,"dropdown.hide",{dir:this.localize.dir()});await animateTo(this.popup.popup,F,W),this.panel.hidden=!0,this.popup.active=!1,this.emit("sl-after-hide")}}render(){return x`
      <sl-popup
        part="base"
        id="dropdown"
        placement=${this.placement}
        distance=${this.distance}
        skidding=${this.skidding}
        strategy=${this.hoist?"fixed":"absolute"}
        flip
        shift
        auto-size="vertical"
        auto-size-padding="10"
        class=${e$3({dropdown:!0,"dropdown--open":this.open})}
      >
        <slot
          name="trigger"
          slot="anchor"
          part="trigger"
          class="dropdown__trigger"
          @click=${this.handleTriggerClick}
          @keydown=${this.handleTriggerKeyDown}
          @keyup=${this.handleTriggerKeyUp}
          @slotchange=${this.handleTriggerSlotChange}
        ></slot>

        <div aria-hidden=${this.open?"false":"true"} aria-labelledby="dropdown">
          <slot part="panel" class="dropdown__panel"></slot>
        </div>
      </sl-popup>
    `}};SlDropdown.styles=dropdown_styles_default;SlDropdown.dependencies={"sl-popup":SlPopup};__decorateClass([e$5(".dropdown")],SlDropdown.prototype,"popup",2);__decorateClass([e$5(".dropdown__trigger")],SlDropdown.prototype,"trigger",2);__decorateClass([e$5(".dropdown__panel")],SlDropdown.prototype,"panel",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlDropdown.prototype,"open",2);__decorateClass([n$4({reflect:!0})],SlDropdown.prototype,"placement",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlDropdown.prototype,"disabled",2);__decorateClass([n$4({attribute:"stay-open-on-select",type:Boolean,reflect:!0})],SlDropdown.prototype,"stayOpenOnSelect",2);__decorateClass([n$4({attribute:!1})],SlDropdown.prototype,"containingElement",2);__decorateClass([n$4({type:Number})],SlDropdown.prototype,"distance",2);__decorateClass([n$4({type:Number})],SlDropdown.prototype,"skidding",2);__decorateClass([n$4({type:Boolean})],SlDropdown.prototype,"hoist",2);__decorateClass([watch("open",{waitUntilFirstUpdate:!0})],SlDropdown.prototype,"handleOpenChange",1);setDefaultAnimation("dropdown.show",{keyframes:[{opacity:0,scale:.9},{opacity:1,scale:1}],options:{duration:100,easing:"ease"}});setDefaultAnimation("dropdown.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.9}],options:{duration:100,easing:"ease"}});SlDropdown.define("sl-dropdown");SlIcon.define("sl-icon");SlIconButton.define("sl-icon-button");var image_comparer_styles_default=i$6`
  ${component_styles_default}

  :host {
    --divider-width: 2px;
    --handle-size: 2.5rem;

    display: inline-block;
    position: relative;
  }

  .image-comparer {
    max-width: 100%;
    max-height: 100%;
    overflow: hidden;
  }

  .image-comparer__before,
  .image-comparer__after {
    display: block;
    pointer-events: none;
  }

  .image-comparer__before::slotted(img),
  .image-comparer__after::slotted(img),
  .image-comparer__before::slotted(svg),
  .image-comparer__after::slotted(svg) {
    display: block;
    max-width: 100% !important;
    height: auto;
  }

  .image-comparer__after {
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    width: 100%;
  }

  .image-comparer__divider {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 0;
    width: var(--divider-width);
    height: 100%;
    background-color: var(--sl-color-neutral-0);
    translate: calc(var(--divider-width) / -2);
    cursor: ew-resize;
  }

  .image-comparer__handle {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: calc(50% - (var(--handle-size) / 2));
    width: var(--handle-size);
    height: var(--handle-size);
    background-color: var(--sl-color-neutral-0);
    border-radius: var(--sl-border-radius-circle);
    font-size: calc(var(--handle-size) * 0.5);
    color: var(--sl-color-neutral-700);
    cursor: inherit;
    z-index: 10;
  }

  .image-comparer__handle:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }
`;function drag(F,W){function q(tt){const ot=F.getBoundingClientRect(),at=F.ownerDocument.defaultView,ut=ot.left+at.scrollX,wt=ot.top+at.scrollY,uo=tt.pageX-ut,mo=tt.pageY-wt;W!=null&&W.onMove&&W.onMove(uo,mo)}function X(){document.removeEventListener("pointermove",q),document.removeEventListener("pointerup",X),W!=null&&W.onStop&&W.onStop()}document.addEventListener("pointermove",q,{passive:!0}),document.addEventListener("pointerup",X),(W==null?void 0:W.initialEvent)instanceof PointerEvent&&q(W.initialEvent)}function clamp(F,W,q){const X=tt=>Object.is(tt,-0)?0:tt;return F<W?X(W):F>q?X(q):X(F)}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const n$2="important",i$2=" !"+n$2,o$2=e$4(class extends i$3{constructor(F){var W;if(super(F),F.type!==t$1.ATTRIBUTE||F.name!=="style"||((W=F.strings)==null?void 0:W.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(F){return Object.keys(F).reduce((W,q)=>{const X=F[q];return X==null?W:W+`${q=q.includes("-")?q:q.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${X};`},"")}update(F,[W]){const{style:q}=F.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(W)),this.render(W);for(const X of this.ft)W[X]==null&&(this.ft.delete(X),X.includes("-")?q.removeProperty(X):q[X]=null);for(const X in W){const tt=W[X];if(tt!=null){this.ft.add(X);const ot=typeof tt=="string"&&tt.endsWith(i$2);X.includes("-")||ot?q.setProperty(X,ot?tt.slice(0,-11):tt,ot?n$2:""):q[X]=tt}}return w}});var SlImageComparer=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController(this),this.position=50}handleDrag(F){const{width:W}=this.base.getBoundingClientRect(),q=this.localize.dir()==="rtl";F.preventDefault(),drag(this.base,{onMove:X=>{this.position=parseFloat(clamp(X/W*100,0,100).toFixed(2)),q&&(this.position=100-this.position)},initialEvent:F})}handleKeyDown(F){const W=this.localize.dir()==="ltr",q=this.localize.dir()==="rtl";if(["ArrowLeft","ArrowRight","Home","End"].includes(F.key)){const X=F.shiftKey?10:1;let tt=this.position;F.preventDefault(),(W&&F.key==="ArrowLeft"||q&&F.key==="ArrowRight")&&(tt-=X),(W&&F.key==="ArrowRight"||q&&F.key==="ArrowLeft")&&(tt+=X),F.key==="Home"&&(tt=0),F.key==="End"&&(tt=100),tt=clamp(tt,0,100),this.position=tt}}handlePositionChange(){this.emit("sl-change")}render(){const F=this.localize.dir()==="rtl";return x`
      <div
        part="base"
        id="image-comparer"
        class=${e$3({"image-comparer":!0,"image-comparer--rtl":F})}
        @keydown=${this.handleKeyDown}
      >
        <div class="image-comparer__image">
          <div part="before" class="image-comparer__before">
            <slot name="before"></slot>
          </div>

          <div
            part="after"
            class="image-comparer__after"
            style=${o$2({clipPath:F?`inset(0 0 0 ${100-this.position}%)`:`inset(0 ${100-this.position}% 0 0)`})}
          >
            <slot name="after"></slot>
          </div>
        </div>

        <div
          part="divider"
          class="image-comparer__divider"
          style=${o$2({left:F?`${100-this.position}%`:`${this.position}%`})}
          @mousedown=${this.handleDrag}
          @touchstart=${this.handleDrag}
        >
          <div
            part="handle"
            class="image-comparer__handle"
            role="scrollbar"
            aria-valuenow=${this.position}
            aria-valuemin="0"
            aria-valuemax="100"
            aria-controls="image-comparer"
            tabindex="0"
          >
            <slot name="handle">
              <sl-icon library="system" name="grip-vertical"></sl-icon>
            </slot>
          </div>
        </div>
      </div>
    `}};SlImageComparer.styles=image_comparer_styles_default;SlImageComparer.scopedElement={"sl-icon":SlIcon};__decorateClass([e$5(".image-comparer")],SlImageComparer.prototype,"base",2);__decorateClass([e$5(".image-comparer__handle")],SlImageComparer.prototype,"handle",2);__decorateClass([n$4({type:Number,reflect:!0})],SlImageComparer.prototype,"position",2);__decorateClass([watch("position",{waitUntilFirstUpdate:!0})],SlImageComparer.prototype,"handlePositionChange",1);SlImageComparer.define("sl-image-comparer");var menu_styles_default=i$6`
  ${component_styles_default}

  :host {
    display: block;
    position: relative;
    background: var(--sl-panel-background-color);
    border: solid var(--sl-panel-border-width) var(--sl-panel-border-color);
    border-radius: var(--sl-border-radius-medium);
    padding: var(--sl-spacing-x-small) 0;
    overflow: auto;
    overscroll-behavior: none;
  }

  ::slotted(sl-divider) {
    --spacing: var(--sl-spacing-x-small);
  }
`,SlMenu=class extends ShoelaceElement{connectedCallback(){super.connectedCallback(),this.setAttribute("role","menu")}handleClick(F){const W=["menuitem","menuitemcheckbox"],q=F.composedPath().find(tt=>{var ot;return W.includes(((ot=tt==null?void 0:tt.getAttribute)==null?void 0:ot.call(tt,"role"))||"")});if(!q)return;const X=q;X.type==="checkbox"&&(X.checked=!X.checked),this.emit("sl-select",{detail:{item:X}})}handleKeyDown(F){if(F.key==="Enter"||F.key===" "){const W=this.getCurrentItem();F.preventDefault(),F.stopPropagation(),W==null||W.click()}else if(["ArrowDown","ArrowUp","Home","End"].includes(F.key)){const W=this.getAllItems(),q=this.getCurrentItem();let X=q?W.indexOf(q):0;W.length>0&&(F.preventDefault(),F.stopPropagation(),F.key==="ArrowDown"?X++:F.key==="ArrowUp"?X--:F.key==="Home"?X=0:F.key==="End"&&(X=W.length-1),X<0&&(X=W.length-1),X>W.length-1&&(X=0),this.setCurrentItem(W[X]),W[X].focus())}}handleMouseDown(F){const W=F.target;this.isMenuItem(W)&&this.setCurrentItem(W)}handleSlotChange(){const F=this.getAllItems();F.length>0&&this.setCurrentItem(F[0])}isMenuItem(F){var W;return F.tagName.toLowerCase()==="sl-menu-item"||["menuitem","menuitemcheckbox","menuitemradio"].includes((W=F.getAttribute("role"))!=null?W:"")}getAllItems(){return[...this.defaultSlot.assignedElements({flatten:!0})].filter(F=>!(F.inert||!this.isMenuItem(F)))}getCurrentItem(){return this.getAllItems().find(F=>F.getAttribute("tabindex")==="0")}setCurrentItem(F){this.getAllItems().forEach(q=>{q.setAttribute("tabindex",q===F?"0":"-1")})}render(){return x`
      <slot
        @slotchange=${this.handleSlotChange}
        @click=${this.handleClick}
        @keydown=${this.handleKeyDown}
        @mousedown=${this.handleMouseDown}
      ></slot>
    `}};SlMenu.styles=menu_styles_default;__decorateClass([e$5("slot")],SlMenu.prototype,"defaultSlot",2);SlMenu.define("sl-menu");var menu_item_styles_default=i$6`
  ${component_styles_default}

  :host {
    --submenu-offset: -2px;

    display: block;
  }

  :host([inert]) {
    display: none;
  }

  .menu-item {
    position: relative;
    display: flex;
    align-items: stretch;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    line-height: var(--sl-line-height-normal);
    letter-spacing: var(--sl-letter-spacing-normal);
    color: var(--sl-color-neutral-700);
    padding: var(--sl-spacing-2x-small) var(--sl-spacing-2x-small);
    transition: var(--sl-transition-fast) fill;
    user-select: none;
    -webkit-user-select: none;
    white-space: nowrap;
    cursor: pointer;
  }

  .menu-item.menu-item--disabled {
    outline: none;
    opacity: 0.5;
    cursor: not-allowed;
  }

  .menu-item.menu-item--loading {
    outline: none;
    cursor: wait;
  }

  .menu-item.menu-item--loading *:not(sl-spinner) {
    opacity: 0.5;
  }

  .menu-item--loading sl-spinner {
    --indicator-color: currentColor;
    --track-width: 1px;
    position: absolute;
    font-size: 0.75em;
    top: calc(50% - 0.5em);
    left: 0.65rem;
    opacity: 1;
  }

  .menu-item .menu-item__label {
    flex: 1 1 auto;
    display: inline-block;
    text-overflow: ellipsis;
    overflow: hidden;
  }

  .menu-item .menu-item__prefix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .menu-item .menu-item__prefix::slotted(*) {
    margin-inline-end: var(--sl-spacing-x-small);
  }

  .menu-item .menu-item__suffix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .menu-item .menu-item__suffix::slotted(*) {
    margin-inline-start: var(--sl-spacing-x-small);
  }

  /* Safe triangle */
  .menu-item--submenu-expanded::after {
    content: '';
    position: fixed;
    z-index: calc(var(--sl-z-index-dropdown) - 1);
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    clip-path: polygon(
      var(--safe-triangle-cursor-x, 0) var(--safe-triangle-cursor-y, 0),
      var(--safe-triangle-submenu-start-x, 0) var(--safe-triangle-submenu-start-y, 0),
      var(--safe-triangle-submenu-end-x, 0) var(--safe-triangle-submenu-end-y, 0)
    );
  }

  :host(:focus-visible) {
    outline: none;
  }

  :host(:hover:not([aria-disabled='true'], :focus-visible)) .menu-item,
  .menu-item--submenu-expanded {
    background-color: var(--sl-color-neutral-100);
    color: var(--sl-color-neutral-1000);
  }

  :host(:focus-visible) .menu-item {
    outline: none;
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
    opacity: 1;
  }

  .menu-item .menu-item__check,
  .menu-item .menu-item__chevron {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 1.5em;
    visibility: hidden;
  }

  .menu-item--checked .menu-item__check,
  .menu-item--has-submenu .menu-item__chevron {
    visibility: visible;
  }

  /* Add elevation and z-index to submenus */
  sl-popup::part(popup) {
    box-shadow: var(--sl-shadow-large);
    z-index: var(--sl-z-index-dropdown);
    margin-left: var(--submenu-offset);
  }

  .menu-item--rtl sl-popup::part(popup) {
    margin-left: calc(-1 * var(--submenu-offset));
  }

  @media (forced-colors: active) {
    :host(:hover:not([aria-disabled='true'])) .menu-item,
    :host(:focus-visible) .menu-item {
      outline: dashed 1px SelectedItem;
      outline-offset: -1px;
    }
  }
`;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const s=(F,W)=>{var X;const q=F._$AN;if(q===void 0)return!1;for(const tt of q)(X=tt._$AO)==null||X.call(tt,W,!1),s(tt,W);return!0},o$1=F=>{let W,q;do{if((W=F._$AM)===void 0)break;q=W._$AN,q.delete(F),F=W}while((q==null?void 0:q.size)===0)},r=F=>{for(let W;W=F._$AM;F=W){let q=W._$AN;if(q===void 0)W._$AN=q=new Set;else if(q.has(F))break;q.add(F),c(W)}};function h$1(F){this._$AN!==void 0?(o$1(this),this._$AM=F,r(this)):this._$AM=F}function n$1(F,W=!1,q=0){const X=this._$AH,tt=this._$AN;if(tt!==void 0&&tt.size!==0)if(W)if(Array.isArray(X))for(let ot=q;ot<X.length;ot++)s(X[ot],!1),o$1(X[ot]);else X!=null&&(s(X,!1),o$1(X));else s(this,F)}const c=F=>{F.type==t$1.CHILD&&(F._$AP??(F._$AP=n$1),F._$AQ??(F._$AQ=h$1))};class f extends i$3{constructor(){super(...arguments),this._$AN=void 0}_$AT(W,q,X){super._$AT(W,q,X),r(this),this.isConnected=W._$AU}_$AO(W,q=!0){var X,tt;W!==this.isConnected&&(this.isConnected=W,W?(X=this.reconnected)==null||X.call(this):(tt=this.disconnected)==null||tt.call(this)),q&&(s(this,W),o$1(this))}setValue(W){if(f$1(this._$Ct))this._$Ct._$AI(W,this);else{const q=[...this._$Ct._$AH];q[this._$Ci]=W,this._$Ct._$AI(q,this,0)}}disconnected(){}reconnected(){}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const e=()=>new h;class h{}const o=new WeakMap,n=e$4(class extends f{render(F){return T}update(F,[W]){var X;const q=W!==this.Y;return q&&this.Y!==void 0&&this.rt(void 0),(q||this.lt!==this.ct)&&(this.Y=W,this.ht=(X=F.options)==null?void 0:X.host,this.rt(this.ct=F.element)),T}rt(F){if(typeof this.Y=="function"){const W=this.ht??globalThis;let q=o.get(W);q===void 0&&(q=new WeakMap,o.set(W,q)),q.get(this.Y)!==void 0&&this.Y.call(this.ht,void 0),q.set(this.Y,F),F!==void 0&&this.Y.call(this.ht,F)}else this.Y.value=F}get lt(){var F,W;return typeof this.Y=="function"?(F=o.get(this.ht??globalThis))==null?void 0:F.get(this.Y):(W=this.Y)==null?void 0:W.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});var SubmenuController=class{constructor(F,W,q){this.popupRef=e(),this.enableSubmenuTimer=-1,this.isConnected=!1,this.isPopupConnected=!1,this.skidding=0,this.submenuOpenDelay=100,this.handleMouseMove=X=>{this.host.style.setProperty("--safe-triangle-cursor-x",`${X.clientX}px`),this.host.style.setProperty("--safe-triangle-cursor-y",`${X.clientY}px`)},this.handleMouseOver=()=>{this.hasSlotController.test("submenu")&&this.enableSubmenu()},this.handleKeyDown=X=>{switch(X.key){case"Escape":case"Tab":this.disableSubmenu();break;case"ArrowLeft":X.target!==this.host&&(X.preventDefault(),X.stopPropagation(),this.host.focus(),this.disableSubmenu());break;case"ArrowRight":case"Enter":case" ":this.handleSubmenuEntry(X);break}},this.handleClick=X=>{var tt;X.target===this.host?(X.preventDefault(),X.stopPropagation()):X.target instanceof Element&&(X.target.tagName==="sl-menu-item"||(tt=X.target.role)!=null&&tt.startsWith("menuitem"))&&this.disableSubmenu()},this.handleFocusOut=X=>{X.relatedTarget&&X.relatedTarget instanceof Element&&this.host.contains(X.relatedTarget)||this.disableSubmenu()},this.handlePopupMouseover=X=>{X.stopPropagation()},this.handlePopupReposition=()=>{const X=this.host.renderRoot.querySelector("slot[name='submenu']"),tt=X==null?void 0:X.assignedElements({flatten:!0}).filter(mo=>mo.localName==="sl-menu")[0],ot=this.localize.dir()==="rtl";if(!tt)return;const{left:at,top:ut,width:wt,height:uo}=tt.getBoundingClientRect();this.host.style.setProperty("--safe-triangle-submenu-start-x",`${ot?at+wt:at}px`),this.host.style.setProperty("--safe-triangle-submenu-start-y",`${ut}px`),this.host.style.setProperty("--safe-triangle-submenu-end-x",`${ot?at+wt:at}px`),this.host.style.setProperty("--safe-triangle-submenu-end-y",`${ut+uo}px`)},(this.host=F).addController(this),this.hasSlotController=W,this.localize=q}hostConnected(){this.hasSlotController.test("submenu")&&!this.host.disabled&&this.addListeners()}hostDisconnected(){this.removeListeners()}hostUpdated(){this.hasSlotController.test("submenu")&&!this.host.disabled?(this.addListeners(),this.updateSkidding()):this.removeListeners()}addListeners(){this.isConnected||(this.host.addEventListener("mousemove",this.handleMouseMove),this.host.addEventListener("mouseover",this.handleMouseOver),this.host.addEventListener("keydown",this.handleKeyDown),this.host.addEventListener("click",this.handleClick),this.host.addEventListener("focusout",this.handleFocusOut),this.isConnected=!0),this.isPopupConnected||this.popupRef.value&&(this.popupRef.value.addEventListener("mouseover",this.handlePopupMouseover),this.popupRef.value.addEventListener("sl-reposition",this.handlePopupReposition),this.isPopupConnected=!0)}removeListeners(){this.isConnected&&(this.host.removeEventListener("mousemove",this.handleMouseMove),this.host.removeEventListener("mouseover",this.handleMouseOver),this.host.removeEventListener("keydown",this.handleKeyDown),this.host.removeEventListener("click",this.handleClick),this.host.removeEventListener("focusout",this.handleFocusOut),this.isConnected=!1),this.isPopupConnected&&this.popupRef.value&&(this.popupRef.value.removeEventListener("mouseover",this.handlePopupMouseover),this.popupRef.value.removeEventListener("sl-reposition",this.handlePopupReposition),this.isPopupConnected=!1)}handleSubmenuEntry(F){const W=this.host.renderRoot.querySelector("slot[name='submenu']");if(!W){console.error("Cannot activate a submenu if no corresponding menuitem can be found.",this);return}let q=null;for(const X of W.assignedElements())if(q=X.querySelectorAll("sl-menu-item, [role^='menuitem']"),q.length!==0)break;if(!(!q||q.length===0)){q[0].setAttribute("tabindex","0");for(let X=1;X!==q.length;++X)q[X].setAttribute("tabindex","-1");this.popupRef.value&&(F.preventDefault(),F.stopPropagation(),this.popupRef.value.active?q[0]instanceof HTMLElement&&q[0].focus():(this.enableSubmenu(!1),this.host.updateComplete.then(()=>{q[0]instanceof HTMLElement&&q[0].focus()}),this.host.requestUpdate()))}}setSubmenuState(F){this.popupRef.value&&this.popupRef.value.active!==F&&(this.popupRef.value.active=F,this.host.requestUpdate())}enableSubmenu(F=!0){F?this.enableSubmenuTimer=window.setTimeout(()=>{this.setSubmenuState(!0)},this.submenuOpenDelay):this.setSubmenuState(!0)}disableSubmenu(){clearTimeout(this.enableSubmenuTimer),this.setSubmenuState(!1)}updateSkidding(){var F;if(!((F=this.host.parentElement)!=null&&F.computedStyleMap))return;const W=this.host.parentElement.computedStyleMap(),X=["padding-top","border-top-width","margin-top"].reduce((tt,ot)=>{var at;const ut=(at=W.get(ot))!=null?at:new CSSUnitValue(0,"px"),uo=(ut instanceof CSSUnitValue?ut:new CSSUnitValue(0,"px")).to("px");return tt-uo.value},0);this.skidding=X}isExpanded(){return this.popupRef.value?this.popupRef.value.active:!1}renderSubmenu(){const F=this.localize.dir()==="ltr";return this.isConnected?x`
      <sl-popup
        ${n(this.popupRef)}
        placement=${F?"right-start":"left-start"}
        anchor="anchor"
        flip
        flip-fallback-strategy="best-fit"
        skidding="${this.skidding}"
        strategy="fixed"
      >
        <slot name="submenu"></slot>
      </sl-popup>
    `:x` <slot name="submenu" hidden></slot> `}},SlMenuItem=class extends ShoelaceElement{constructor(){super(...arguments),this.type="normal",this.checked=!1,this.value="",this.loading=!1,this.disabled=!1,this.localize=new LocalizeController(this),this.hasSlotController=new HasSlotController(this,"submenu"),this.submenuController=new SubmenuController(this,this.hasSlotController,this.localize),this.handleHostClick=F=>{this.disabled&&(F.preventDefault(),F.stopImmediatePropagation())},this.handleMouseOver=F=>{this.focus(),F.stopPropagation()}}connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.handleHostClick),this.addEventListener("mouseover",this.handleMouseOver)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("click",this.handleHostClick),this.removeEventListener("mouseover",this.handleMouseOver)}handleDefaultSlotChange(){const F=this.getTextLabel();if(typeof this.cachedTextLabel>"u"){this.cachedTextLabel=F;return}F!==this.cachedTextLabel&&(this.cachedTextLabel=F,this.emit("slotchange",{bubbles:!0,composed:!1,cancelable:!1}))}handleCheckedChange(){if(this.checked&&this.type!=="checkbox"){this.checked=!1,console.error('The checked attribute can only be used on menu items with type="checkbox"',this);return}this.type==="checkbox"?this.setAttribute("aria-checked",this.checked?"true":"false"):this.removeAttribute("aria-checked")}handleDisabledChange(){this.setAttribute("aria-disabled",this.disabled?"true":"false")}handleTypeChange(){this.type==="checkbox"?(this.setAttribute("role","menuitemcheckbox"),this.setAttribute("aria-checked",this.checked?"true":"false")):(this.setAttribute("role","menuitem"),this.removeAttribute("aria-checked"))}getTextLabel(){return getTextContent(this.defaultSlot)}isSubmenu(){return this.hasSlotController.test("submenu")}render(){const F=this.localize.dir()==="rtl",W=this.submenuController.isExpanded();return x`
      <div
        id="anchor"
        part="base"
        class=${e$3({"menu-item":!0,"menu-item--rtl":F,"menu-item--checked":this.checked,"menu-item--disabled":this.disabled,"menu-item--loading":this.loading,"menu-item--has-submenu":this.isSubmenu(),"menu-item--submenu-expanded":W})}
        ?aria-haspopup="${this.isSubmenu()}"
        ?aria-expanded="${!!W}"
      >
        <span part="checked-icon" class="menu-item__check">
          <sl-icon name="check" library="system" aria-hidden="true"></sl-icon>
        </span>

        <slot name="prefix" part="prefix" class="menu-item__prefix"></slot>

        <slot part="label" class="menu-item__label" @slotchange=${this.handleDefaultSlotChange}></slot>

        <slot name="suffix" part="suffix" class="menu-item__suffix"></slot>

        <span part="submenu-icon" class="menu-item__chevron">
          <sl-icon name=${F?"chevron-left":"chevron-right"} library="system" aria-hidden="true"></sl-icon>
        </span>

        ${this.submenuController.renderSubmenu()}
        ${this.loading?x` <sl-spinner part="spinner" exportparts="base:spinner__base"></sl-spinner> `:""}
      </div>
    `}};SlMenuItem.styles=menu_item_styles_default;SlMenuItem.dependencies={"sl-icon":SlIcon,"sl-popup":SlPopup,"sl-spinner":SlSpinner};__decorateClass([e$5("slot:not([name])")],SlMenuItem.prototype,"defaultSlot",2);__decorateClass([e$5(".menu-item")],SlMenuItem.prototype,"menuItem",2);__decorateClass([n$4()],SlMenuItem.prototype,"type",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlMenuItem.prototype,"checked",2);__decorateClass([n$4()],SlMenuItem.prototype,"value",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlMenuItem.prototype,"loading",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlMenuItem.prototype,"disabled",2);__decorateClass([watch("checked")],SlMenuItem.prototype,"handleCheckedChange",1);__decorateClass([watch("disabled")],SlMenuItem.prototype,"handleDisabledChange",1);__decorateClass([watch("type")],SlMenuItem.prototype,"handleTypeChange",1);SlMenuItem.define("sl-menu-item");SlSpinner.define("sl-spinner");var tab_group_styles_default=i$6`
  ${component_styles_default}

  :host {
    --indicator-color: var(--sl-color-primary-600);
    --track-color: var(--sl-color-neutral-200);
    --track-width: 2px;

    display: block;
  }

  .tab-group {
    display: flex;
    border-radius: 0;
  }

  .tab-group__tabs {
    display: flex;
    position: relative;
  }

  .tab-group__indicator {
    position: absolute;
    transition:
      var(--sl-transition-fast) translate ease,
      var(--sl-transition-fast) width ease;
  }

  .tab-group--has-scroll-controls .tab-group__nav-container {
    position: relative;
    padding: 0 var(--sl-spacing-x-large);
  }

  .tab-group__body {
    display: block;
    overflow: auto;
  }

  .tab-group__scroll-button {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 0;
    bottom: 0;
    width: var(--sl-spacing-x-large);
  }

  .tab-group__scroll-button--start {
    left: 0;
  }

  .tab-group__scroll-button--end {
    right: 0;
  }

  .tab-group--rtl .tab-group__scroll-button--start {
    left: auto;
    right: 0;
  }

  .tab-group--rtl .tab-group__scroll-button--end {
    left: 0;
    right: auto;
  }

  /*
   * Top
   */

  .tab-group--top {
    flex-direction: column;
  }

  .tab-group--top .tab-group__nav-container {
    order: 1;
  }

  .tab-group--top .tab-group__nav {
    display: flex;
    overflow-x: auto;

    /* Hide scrollbar in Firefox */
    scrollbar-width: none;
  }

  /* Hide scrollbar in Chrome/Safari */
  .tab-group--top .tab-group__nav::-webkit-scrollbar {
    width: 0;
    height: 0;
  }

  .tab-group--top .tab-group__tabs {
    flex: 1 1 auto;
    position: relative;
    flex-direction: row;
    border-bottom: solid var(--track-width) var(--track-color);
  }

  .tab-group--top .tab-group__indicator {
    bottom: calc(-1 * var(--track-width));
    border-bottom: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--top .tab-group__body {
    order: 2;
  }

  .tab-group--top ::slotted(sl-tab-panel) {
    --padding: var(--sl-spacing-medium) 0;
  }

  /*
   * Bottom
   */

  .tab-group--bottom {
    flex-direction: column;
  }

  .tab-group--bottom .tab-group__nav-container {
    order: 2;
  }

  .tab-group--bottom .tab-group__nav {
    display: flex;
    overflow-x: auto;

    /* Hide scrollbar in Firefox */
    scrollbar-width: none;
  }

  /* Hide scrollbar in Chrome/Safari */
  .tab-group--bottom .tab-group__nav::-webkit-scrollbar {
    width: 0;
    height: 0;
  }

  .tab-group--bottom .tab-group__tabs {
    flex: 1 1 auto;
    position: relative;
    flex-direction: row;
    border-top: solid var(--track-width) var(--track-color);
  }

  .tab-group--bottom .tab-group__indicator {
    top: calc(-1 * var(--track-width));
    border-top: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--bottom .tab-group__body {
    order: 1;
  }

  .tab-group--bottom ::slotted(sl-tab-panel) {
    --padding: var(--sl-spacing-medium) 0;
  }

  /*
   * Start
   */

  .tab-group--start {
    flex-direction: row;
  }

  .tab-group--start .tab-group__nav-container {
    order: 1;
  }

  .tab-group--start .tab-group__tabs {
    flex: 0 0 auto;
    flex-direction: column;
    border-inline-end: solid var(--track-width) var(--track-color);
  }

  .tab-group--start .tab-group__indicator {
    right: calc(-1 * var(--track-width));
    border-right: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--start.tab-group--rtl .tab-group__indicator {
    right: auto;
    left: calc(-1 * var(--track-width));
  }

  .tab-group--start .tab-group__body {
    flex: 1 1 auto;
    order: 2;
  }

  .tab-group--start ::slotted(sl-tab-panel) {
    --padding: 0 var(--sl-spacing-medium);
  }

  /*
   * End
   */

  .tab-group--end {
    flex-direction: row;
  }

  .tab-group--end .tab-group__nav-container {
    order: 2;
  }

  .tab-group--end .tab-group__tabs {
    flex: 0 0 auto;
    flex-direction: column;
    border-left: solid var(--track-width) var(--track-color);
  }

  .tab-group--end .tab-group__indicator {
    left: calc(-1 * var(--track-width));
    border-inline-start: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--end.tab-group--rtl .tab-group__indicator {
    right: calc(-1 * var(--track-width));
    left: auto;
  }

  .tab-group--end .tab-group__body {
    flex: 1 1 auto;
    order: 1;
  }

  .tab-group--end ::slotted(sl-tab-panel) {
    --padding: 0 var(--sl-spacing-medium);
  }
`,SlTabGroup=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController(this),this.tabs=[],this.panels=[],this.hasScrollControls=!1,this.placement="top",this.activation="auto",this.noScrollControls=!1}connectedCallback(){const F=Promise.all([customElements.whenDefined("sl-tab"),customElements.whenDefined("sl-tab-panel")]);super.connectedCallback(),this.resizeObserver=new ResizeObserver(()=>{this.repositionIndicator(),this.updateScrollControls()}),this.mutationObserver=new MutationObserver(W=>{W.some(q=>!["aria-labelledby","aria-controls"].includes(q.attributeName))&&setTimeout(()=>this.setAriaLabels()),W.some(q=>q.attributeName==="disabled")&&this.syncTabsAndPanels()}),this.updateComplete.then(()=>{this.syncTabsAndPanels(),this.mutationObserver.observe(this,{attributes:!0,childList:!0,subtree:!0}),this.resizeObserver.observe(this.nav),F.then(()=>{new IntersectionObserver((q,X)=>{var tt;q[0].intersectionRatio>0&&(this.setAriaLabels(),this.setActiveTab((tt=this.getActiveTab())!=null?tt:this.tabs[0],{emitEvents:!1}),X.unobserve(q[0].target))}).observe(this.tabGroup)})})}disconnectedCallback(){super.disconnectedCallback(),this.mutationObserver.disconnect(),this.resizeObserver.unobserve(this.nav)}getAllTabs(F={includeDisabled:!0}){return[...this.shadowRoot.querySelector('slot[name="nav"]').assignedElements()].filter(q=>F.includeDisabled?q.tagName.toLowerCase()==="sl-tab":q.tagName.toLowerCase()==="sl-tab"&&!q.disabled)}getAllPanels(){return[...this.body.assignedElements()].filter(F=>F.tagName.toLowerCase()==="sl-tab-panel")}getActiveTab(){return this.tabs.find(F=>F.active)}handleClick(F){const q=F.target.closest("sl-tab");(q==null?void 0:q.closest("sl-tab-group"))===this&&q!==null&&this.setActiveTab(q,{scrollBehavior:"smooth"})}handleKeyDown(F){const q=F.target.closest("sl-tab");if((q==null?void 0:q.closest("sl-tab-group"))===this&&(["Enter"," "].includes(F.key)&&q!==null&&(this.setActiveTab(q,{scrollBehavior:"smooth"}),F.preventDefault()),["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(F.key))){const tt=this.tabs.find(at=>at.matches(":focus")),ot=this.localize.dir()==="rtl";if((tt==null?void 0:tt.tagName.toLowerCase())==="sl-tab"){let at=this.tabs.indexOf(tt);F.key==="Home"?at=0:F.key==="End"?at=this.tabs.length-1:["top","bottom"].includes(this.placement)&&F.key===(ot?"ArrowRight":"ArrowLeft")||["start","end"].includes(this.placement)&&F.key==="ArrowUp"?at--:(["top","bottom"].includes(this.placement)&&F.key===(ot?"ArrowLeft":"ArrowRight")||["start","end"].includes(this.placement)&&F.key==="ArrowDown")&&at++,at<0&&(at=this.tabs.length-1),at>this.tabs.length-1&&(at=0),this.tabs[at].focus({preventScroll:!0}),this.activation==="auto"&&this.setActiveTab(this.tabs[at],{scrollBehavior:"smooth"}),["top","bottom"].includes(this.placement)&&scrollIntoView(this.tabs[at],this.nav,"horizontal"),F.preventDefault()}}}handleScrollToStart(){this.nav.scroll({left:this.localize.dir()==="rtl"?this.nav.scrollLeft+this.nav.clientWidth:this.nav.scrollLeft-this.nav.clientWidth,behavior:"smooth"})}handleScrollToEnd(){this.nav.scroll({left:this.localize.dir()==="rtl"?this.nav.scrollLeft-this.nav.clientWidth:this.nav.scrollLeft+this.nav.clientWidth,behavior:"smooth"})}setActiveTab(F,W){if(W=__spreadValues({emitEvents:!0,scrollBehavior:"auto"},W),F!==this.activeTab&&!F.disabled){const q=this.activeTab;this.activeTab=F,this.tabs.forEach(X=>X.active=X===this.activeTab),this.panels.forEach(X=>{var tt;return X.active=X.name===((tt=this.activeTab)==null?void 0:tt.panel)}),this.syncIndicator(),["top","bottom"].includes(this.placement)&&scrollIntoView(this.activeTab,this.nav,"horizontal",W.scrollBehavior),W.emitEvents&&(q&&this.emit("sl-tab-hide",{detail:{name:q.panel}}),this.emit("sl-tab-show",{detail:{name:this.activeTab.panel}}))}}setAriaLabels(){this.tabs.forEach(F=>{const W=this.panels.find(q=>q.name===F.panel);W&&(F.setAttribute("aria-controls",W.getAttribute("id")),W.setAttribute("aria-labelledby",F.getAttribute("id")))})}repositionIndicator(){const F=this.getActiveTab();if(!F)return;const W=F.clientWidth,q=F.clientHeight,X=this.localize.dir()==="rtl",tt=this.getAllTabs(),at=tt.slice(0,tt.indexOf(F)).reduce((ut,wt)=>({left:ut.left+wt.clientWidth,top:ut.top+wt.clientHeight}),{left:0,top:0});switch(this.placement){case"top":case"bottom":this.indicator.style.width=`${W}px`,this.indicator.style.height="auto",this.indicator.style.translate=X?`${-1*at.left}px`:`${at.left}px`;break;case"start":case"end":this.indicator.style.width="auto",this.indicator.style.height=`${q}px`,this.indicator.style.translate=`0 ${at.top}px`;break}}syncTabsAndPanels(){this.tabs=this.getAllTabs({includeDisabled:!1}),this.panels=this.getAllPanels(),this.syncIndicator(),this.updateComplete.then(()=>this.updateScrollControls())}updateScrollControls(){this.noScrollControls?this.hasScrollControls=!1:this.hasScrollControls=["top","bottom"].includes(this.placement)&&this.nav.scrollWidth>this.nav.clientWidth}syncIndicator(){this.getActiveTab()?(this.indicator.style.display="block",this.repositionIndicator()):this.indicator.style.display="none"}show(F){const W=this.tabs.find(q=>q.panel===F);W&&this.setActiveTab(W,{scrollBehavior:"smooth"})}render(){const F=this.localize.dir()==="rtl";return x`
      <div
        part="base"
        class=${e$3({"tab-group":!0,"tab-group--top":this.placement==="top","tab-group--bottom":this.placement==="bottom","tab-group--start":this.placement==="start","tab-group--end":this.placement==="end","tab-group--rtl":this.localize.dir()==="rtl","tab-group--has-scroll-controls":this.hasScrollControls})}
        @click=${this.handleClick}
        @keydown=${this.handleKeyDown}
      >
        <div class="tab-group__nav-container" part="nav">
          ${this.hasScrollControls?x`
                <sl-icon-button
                  part="scroll-button scroll-button--start"
                  exportparts="base:scroll-button__base"
                  class="tab-group__scroll-button tab-group__scroll-button--start"
                  name=${F?"chevron-right":"chevron-left"}
                  library="system"
                  label=${this.localize.term("scrollToStart")}
                  @click=${this.handleScrollToStart}
                ></sl-icon-button>
              `:""}

          <div class="tab-group__nav">
            <div part="tabs" class="tab-group__tabs" role="tablist">
              <div part="active-tab-indicator" class="tab-group__indicator"></div>
              <slot name="nav" @slotchange=${this.syncTabsAndPanels}></slot>
            </div>
          </div>

          ${this.hasScrollControls?x`
                <sl-icon-button
                  part="scroll-button scroll-button--end"
                  exportparts="base:scroll-button__base"
                  class="tab-group__scroll-button tab-group__scroll-button--end"
                  name=${F?"chevron-left":"chevron-right"}
                  library="system"
                  label=${this.localize.term("scrollToEnd")}
                  @click=${this.handleScrollToEnd}
                ></sl-icon-button>
              `:""}
        </div>

        <slot part="body" class="tab-group__body" @slotchange=${this.syncTabsAndPanels}></slot>
      </div>
    `}};SlTabGroup.styles=tab_group_styles_default;SlTabGroup.dependencies={"sl-icon-button":SlIconButton};__decorateClass([e$5(".tab-group")],SlTabGroup.prototype,"tabGroup",2);__decorateClass([e$5(".tab-group__body")],SlTabGroup.prototype,"body",2);__decorateClass([e$5(".tab-group__nav")],SlTabGroup.prototype,"nav",2);__decorateClass([e$5(".tab-group__indicator")],SlTabGroup.prototype,"indicator",2);__decorateClass([r$2()],SlTabGroup.prototype,"hasScrollControls",2);__decorateClass([n$4()],SlTabGroup.prototype,"placement",2);__decorateClass([n$4()],SlTabGroup.prototype,"activation",2);__decorateClass([n$4({attribute:"no-scroll-controls",type:Boolean})],SlTabGroup.prototype,"noScrollControls",2);__decorateClass([watch("noScrollControls",{waitUntilFirstUpdate:!0})],SlTabGroup.prototype,"updateScrollControls",1);__decorateClass([watch("placement",{waitUntilFirstUpdate:!0})],SlTabGroup.prototype,"syncIndicator",1);SlTabGroup.define("sl-tab-group");var tab_panel_styles_default=i$6`
  ${component_styles_default}

  :host {
    --padding: 0;

    display: none;
  }

  :host([active]) {
    display: block;
  }

  .tab-panel {
    display: block;
    padding: var(--padding);
  }
`,id$p=0,SlTabPanel=class extends ShoelaceElement{constructor(){super(...arguments),this.attrId=++id$p,this.componentId=`sl-tab-panel-${this.attrId}`,this.name="",this.active=!1}connectedCallback(){super.connectedCallback(),this.id=this.id.length>0?this.id:this.componentId,this.setAttribute("role","tabpanel")}handleActiveChange(){this.setAttribute("aria-hidden",this.active?"false":"true")}render(){return x`
      <slot
        part="base"
        class=${e$3({"tab-panel":!0,"tab-panel--active":this.active})}
      ></slot>
    `}};SlTabPanel.styles=tab_panel_styles_default;__decorateClass([n$4({reflect:!0})],SlTabPanel.prototype,"name",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlTabPanel.prototype,"active",2);__decorateClass([watch("active")],SlTabPanel.prototype,"handleActiveChange",1);SlTabPanel.define("sl-tab-panel");var tab_styles_default=i$6`
  ${component_styles_default}

  :host {
    display: inline-block;
  }

  .tab {
    display: inline-flex;
    align-items: center;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-small);
    font-weight: var(--sl-font-weight-semibold);
    border-radius: var(--sl-border-radius-medium);
    color: var(--sl-color-neutral-600);
    padding: var(--sl-spacing-medium) var(--sl-spacing-large);
    white-space: nowrap;
    user-select: none;
    -webkit-user-select: none;
    cursor: pointer;
    transition:
      var(--transition-speed) box-shadow,
      var(--transition-speed) color;
  }

  .tab:hover:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab:focus {
    outline: none;
  }

  .tab:focus-visible:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: calc(-1 * var(--sl-focus-ring-width) - var(--sl-focus-ring-offset));
  }

  .tab.tab--active:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab.tab--closable {
    padding-inline-end: var(--sl-spacing-small);
  }

  .tab.tab--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .tab__close-button {
    font-size: var(--sl-font-size-small);
    margin-inline-start: var(--sl-spacing-small);
  }

  .tab__close-button::part(base) {
    padding: var(--sl-spacing-3x-small);
  }

  @media (forced-colors: active) {
    .tab.tab--active:not(.tab--disabled) {
      outline: solid 1px transparent;
      outline-offset: -3px;
    }
  }
`,id$o=0,SlTab=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController(this),this.attrId=++id$o,this.componentId=`sl-tab-${this.attrId}`,this.panel="",this.active=!1,this.closable=!1,this.disabled=!1}connectedCallback(){super.connectedCallback(),this.setAttribute("role","tab")}handleCloseClick(F){F.stopPropagation(),this.emit("sl-close")}handleActiveChange(){this.setAttribute("aria-selected",this.active?"true":"false")}handleDisabledChange(){this.setAttribute("aria-disabled",this.disabled?"true":"false")}focus(F){this.tab.focus(F)}blur(){this.tab.blur()}render(){return this.id=this.id.length>0?this.id:this.componentId,x`
      <div
        part="base"
        class=${e$3({tab:!0,"tab--active":this.active,"tab--closable":this.closable,"tab--disabled":this.disabled})}
        tabindex=${this.disabled?"-1":"0"}
      >
        <slot></slot>
        ${this.closable?x`
              <sl-icon-button
                part="close-button"
                exportparts="base:close-button__base"
                name="x-lg"
                library="system"
                label=${this.localize.term("close")}
                class="tab__close-button"
                @click=${this.handleCloseClick}
                tabindex="-1"
              ></sl-icon-button>
            `:""}
      </div>
    `}};SlTab.styles=tab_styles_default;SlTab.dependencies={"sl-icon-button":SlIconButton};__decorateClass([e$5(".tab")],SlTab.prototype,"tab",2);__decorateClass([n$4({reflect:!0})],SlTab.prototype,"panel",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlTab.prototype,"active",2);__decorateClass([n$4({type:Boolean})],SlTab.prototype,"closable",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlTab.prototype,"disabled",2);__decorateClass([watch("active")],SlTab.prototype,"handleActiveChange",1);__decorateClass([watch("disabled")],SlTab.prototype,"handleDisabledChange",1);SlTab.define("sl-tab");var tooltip_styles_default=i$6`
  ${component_styles_default}

  :host {
    --max-width: 20rem;
    --hide-delay: 0ms;
    --show-delay: 150ms;

    display: contents;
  }

  .tooltip {
    --arrow-size: var(--sl-tooltip-arrow-size);
    --arrow-color: var(--sl-tooltip-background-color);
  }

  .tooltip::part(popup) {
    z-index: var(--sl-z-index-tooltip);
  }

  .tooltip[placement^='top']::part(popup) {
    transform-origin: bottom;
  }

  .tooltip[placement^='bottom']::part(popup) {
    transform-origin: top;
  }

  .tooltip[placement^='left']::part(popup) {
    transform-origin: right;
  }

  .tooltip[placement^='right']::part(popup) {
    transform-origin: left;
  }

  .tooltip__body {
    display: block;
    width: max-content;
    max-width: var(--max-width);
    border-radius: var(--sl-tooltip-border-radius);
    background-color: var(--sl-tooltip-background-color);
    font-family: var(--sl-tooltip-font-family);
    font-size: var(--sl-tooltip-font-size);
    font-weight: var(--sl-tooltip-font-weight);
    line-height: var(--sl-tooltip-line-height);
    color: var(--sl-tooltip-color);
    padding: var(--sl-tooltip-padding);
    pointer-events: none;
    user-select: none;
    -webkit-user-select: none;
  }
`,SlTooltip=class extends ShoelaceElement{constructor(){super(),this.localize=new LocalizeController(this),this.content="",this.placement="top",this.disabled=!1,this.distance=8,this.open=!1,this.skidding=0,this.trigger="hover focus",this.hoist=!1,this.handleBlur=()=>{this.hasTrigger("focus")&&this.hide()},this.handleClick=()=>{this.hasTrigger("click")&&(this.open?this.hide():this.show())},this.handleFocus=()=>{this.hasTrigger("focus")&&this.show()},this.handleDocumentKeyDown=F=>{F.key==="Escape"&&(F.stopPropagation(),this.hide())},this.handleMouseOver=()=>{if(this.hasTrigger("hover")){const F=parseDuration(getComputedStyle(this).getPropertyValue("--show-delay"));clearTimeout(this.hoverTimeout),this.hoverTimeout=window.setTimeout(()=>this.show(),F)}},this.handleMouseOut=()=>{if(this.hasTrigger("hover")){const F=parseDuration(getComputedStyle(this).getPropertyValue("--hide-delay"));clearTimeout(this.hoverTimeout),this.hoverTimeout=window.setTimeout(()=>this.hide(),F)}},this.addEventListener("blur",this.handleBlur,!0),this.addEventListener("focus",this.handleFocus,!0),this.addEventListener("click",this.handleClick),this.addEventListener("mouseover",this.handleMouseOver),this.addEventListener("mouseout",this.handleMouseOut)}disconnectedCallback(){var F;(F=this.closeWatcher)==null||F.destroy(),document.removeEventListener("keydown",this.handleDocumentKeyDown)}firstUpdated(){this.body.hidden=!this.open,this.open&&(this.popup.active=!0,this.popup.reposition())}hasTrigger(F){return this.trigger.split(" ").includes(F)}async handleOpenChange(){var F,W;if(this.open){if(this.disabled)return;this.emit("sl-show"),"CloseWatcher"in window?((F=this.closeWatcher)==null||F.destroy(),this.closeWatcher=new CloseWatcher,this.closeWatcher.onclose=()=>{this.hide()}):document.addEventListener("keydown",this.handleDocumentKeyDown),await stopAnimations(this.body),this.body.hidden=!1,this.popup.active=!0;const{keyframes:q,options:X}=getAnimation(this,"tooltip.show",{dir:this.localize.dir()});await animateTo(this.popup.popup,q,X),this.popup.reposition(),this.emit("sl-after-show")}else{this.emit("sl-hide"),(W=this.closeWatcher)==null||W.destroy(),document.removeEventListener("keydown",this.handleDocumentKeyDown),await stopAnimations(this.body);const{keyframes:q,options:X}=getAnimation(this,"tooltip.hide",{dir:this.localize.dir()});await animateTo(this.popup.popup,q,X),this.popup.active=!1,this.body.hidden=!0,this.emit("sl-after-hide")}}async handleOptionsChange(){this.hasUpdated&&(await this.updateComplete,this.popup.reposition())}handleDisabledChange(){this.disabled&&this.open&&this.hide()}async show(){if(!this.open)return this.open=!0,waitForEvent(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,waitForEvent(this,"sl-after-hide")}render(){return x`
      <sl-popup
        part="base"
        exportparts="
          popup:base__popup,
          arrow:base__arrow
        "
        class=${e$3({tooltip:!0,"tooltip--open":this.open})}
        placement=${this.placement}
        distance=${this.distance}
        skidding=${this.skidding}
        strategy=${this.hoist?"fixed":"absolute"}
        flip
        shift
        arrow
        hover-bridge
      >
        ${""}
        <slot slot="anchor" aria-describedby="tooltip"></slot>

        ${""}
        <div part="body" id="tooltip" class="tooltip__body" role="tooltip" aria-live=${this.open?"polite":"off"}>
          <slot name="content">${this.content}</slot>
        </div>
      </sl-popup>
    `}};SlTooltip.styles=tooltip_styles_default;SlTooltip.dependencies={"sl-popup":SlPopup};__decorateClass([e$5("slot:not([name])")],SlTooltip.prototype,"defaultSlot",2);__decorateClass([e$5(".tooltip__body")],SlTooltip.prototype,"body",2);__decorateClass([e$5("sl-popup")],SlTooltip.prototype,"popup",2);__decorateClass([n$4()],SlTooltip.prototype,"content",2);__decorateClass([n$4()],SlTooltip.prototype,"placement",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlTooltip.prototype,"disabled",2);__decorateClass([n$4({type:Number})],SlTooltip.prototype,"distance",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlTooltip.prototype,"open",2);__decorateClass([n$4({type:Number})],SlTooltip.prototype,"skidding",2);__decorateClass([n$4()],SlTooltip.prototype,"trigger",2);__decorateClass([n$4({type:Boolean})],SlTooltip.prototype,"hoist",2);__decorateClass([watch("open",{waitUntilFirstUpdate:!0})],SlTooltip.prototype,"handleOpenChange",1);__decorateClass([watch(["content","distance","hoist","placement","skidding"])],SlTooltip.prototype,"handleOptionsChange",1);__decorateClass([watch("disabled")],SlTooltip.prototype,"handleDisabledChange",1);setDefaultAnimation("tooltip.show",{keyframes:[{opacity:0,scale:.8},{opacity:1,scale:1}],options:{duration:150,easing:"ease"}});setDefaultAnimation("tooltip.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.8}],options:{duration:150,easing:"ease"}});SlTooltip.define("sl-tooltip");function _getDefaults(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!1,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!1,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let _defaults=_getDefaults();function changeDefaults(F){_defaults=F}const escapeTest=/[&<>"']/,escapeReplace=new RegExp(escapeTest.source,"g"),escapeTestNoEncode=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode=new RegExp(escapeTestNoEncode.source,"g"),escapeReplacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},getEscapeReplacement=F=>escapeReplacements[F];function escape$1(F,W){if(W){if(escapeTest.test(F))return F.replace(escapeReplace,getEscapeReplacement)}else if(escapeTestNoEncode.test(F))return F.replace(escapeReplaceNoEncode,getEscapeReplacement);return F}const unescapeTest=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function unescape$1(F){return F.replace(unescapeTest,(W,q)=>(q=q.toLowerCase(),q==="colon"?":":q.charAt(0)==="#"?q.charAt(1)==="x"?String.fromCharCode(parseInt(q.substring(2),16)):String.fromCharCode(+q.substring(1)):""))}const caret$1=/(^|[^\[])\^/g;function edit(F,W){F=typeof F=="string"?F:F.source,W=W||"";const q={replace:(X,tt)=>(tt=typeof tt=="object"&&"source"in tt?tt.source:tt,tt=tt.replace(caret$1,"$1"),F=F.replace(X,tt),q),getRegex:()=>new RegExp(F,W)};return q}const nonWordAndColonTest=/[^\w:]/g,originIndependentUrl=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function cleanUrl(F,W,q){if(F){let X;try{X=decodeURIComponent(unescape$1(q)).replace(nonWordAndColonTest,"").toLowerCase()}catch{return null}if(X.indexOf("javascript:")===0||X.indexOf("vbscript:")===0||X.indexOf("data:")===0)return null}W&&!originIndependentUrl.test(q)&&(q=resolveUrl(W,q));try{q=encodeURI(q).replace(/%25/g,"%")}catch{return null}return q}const baseUrls={},justDomain=/^[^:]+:\/*[^/]*$/,protocol=/^([^:]+:)[\s\S]*$/,domain=/^([^:]+:\/*[^/]*)[\s\S]*$/;function resolveUrl(F,W){baseUrls[" "+F]||(justDomain.test(F)?baseUrls[" "+F]=F+"/":baseUrls[" "+F]=rtrim(F,"/",!0)),F=baseUrls[" "+F];const q=F.indexOf(":")===-1;return W.substring(0,2)==="//"?q?W:F.replace(protocol,"$1")+W:W.charAt(0)==="/"?q?W:F.replace(domain,"$1")+W:F+W}const noopTest={exec:()=>null};function splitCells(F,W){const q=F.replace(/\|/g,(ot,at,ut)=>{let wt=!1,uo=at;for(;--uo>=0&&ut[uo]==="\\";)wt=!wt;return wt?"|":" |"}),X=q.split(/ \|/);let tt=0;if(X[0].trim()||X.shift(),X.length>0&&!X[X.length-1].trim()&&X.pop(),W)if(X.length>W)X.splice(W);else for(;X.length<W;)X.push("");for(;tt<X.length;tt++)X[tt]=X[tt].trim().replace(/\\\|/g,"|");return X}function rtrim(F,W,q){const X=F.length;if(X===0)return"";let tt=0;for(;tt<X;){const ot=F.charAt(X-tt-1);if(ot===W&&!q)tt++;else if(ot!==W&&q)tt++;else break}return F.slice(0,X-tt)}function findClosingBracket(F,W){if(F.indexOf(W[1])===-1)return-1;let q=0;for(let X=0;X<F.length;X++)if(F[X]==="\\")X++;else if(F[X]===W[0])q++;else if(F[X]===W[1]&&(q--,q<0))return X;return-1}function checkDeprecations(F,W){!F||F.silent||(W&&console.warn("marked(): callback is deprecated since version 5.0.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/using_pro#async"),(F.sanitize||F.sanitizer)&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options"),(F.highlight||F.langPrefix!=="language-")&&console.warn("marked(): highlight and langPrefix parameters are deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-highlight."),F.mangle&&console.warn("marked(): mangle parameter is enabled by default, but is deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install https://www.npmjs.com/package/marked-mangle, or disable by setting `{mangle: false}`."),F.baseUrl&&console.warn("marked(): baseUrl parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-base-url."),F.smartypants&&console.warn("marked(): smartypants parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-smartypants."),F.xhtml&&console.warn("marked(): xhtml parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-xhtml."),(F.headerIds||F.headerPrefix)&&console.warn("marked(): headerIds and headerPrefix parameters enabled by default, but are deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install  https://www.npmjs.com/package/marked-gfm-heading-id, or disable by setting `{headerIds: false}`."))}function outputLink(F,W,q,X){const tt=W.href,ot=W.title?escape$1(W.title):null,at=F[1].replace(/\\([\[\]])/g,"$1");if(F[0].charAt(0)!=="!"){X.state.inLink=!0;const ut={type:"link",raw:q,href:tt,title:ot,text:at,tokens:X.inlineTokens(at)};return X.state.inLink=!1,ut}return{type:"image",raw:q,href:tt,title:ot,text:escape$1(at)}}function indentCodeCompensation(F,W){const q=F.match(/^(\s+)(?:```)/);if(q===null)return W;const X=q[1];return W.split(`
`).map(tt=>{const ot=tt.match(/^\s+/);if(ot===null)return tt;const[at]=ot;return at.length>=X.length?tt.slice(X.length):tt}).join(`
`)}class _Tokenizer{constructor(W){Wv(this,"options");Wv(this,"rules");Wv(this,"lexer");this.options=W||_defaults}space(W){const q=this.rules.block.newline.exec(W);if(q&&q[0].length>0)return{type:"space",raw:q[0]}}code(W){const q=this.rules.block.code.exec(W);if(q){const X=q[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:q[0],codeBlockStyle:"indented",text:this.options.pedantic?X:rtrim(X,`
`)}}}fences(W){const q=this.rules.block.fences.exec(W);if(q){const X=q[0],tt=indentCodeCompensation(X,q[3]||"");return{type:"code",raw:X,lang:q[2]?q[2].trim().replace(this.rules.inline._escapes,"$1"):q[2],text:tt}}}heading(W){const q=this.rules.block.heading.exec(W);if(q){let X=q[2].trim();if(/#$/.test(X)){const tt=rtrim(X,"#");(this.options.pedantic||!tt||/ $/.test(tt))&&(X=tt.trim())}return{type:"heading",raw:q[0],depth:q[1].length,text:X,tokens:this.lexer.inline(X)}}}hr(W){const q=this.rules.block.hr.exec(W);if(q)return{type:"hr",raw:q[0]}}blockquote(W){const q=this.rules.block.blockquote.exec(W);if(q){const X=q[0].replace(/^ *>[ \t]?/gm,""),tt=this.lexer.state.top;this.lexer.state.top=!0;const ot=this.lexer.blockTokens(X);return this.lexer.state.top=tt,{type:"blockquote",raw:q[0],tokens:ot,text:X}}}list(W){let q=this.rules.block.list.exec(W);if(q){let X=q[1].trim();const tt=X.length>1,ot={type:"list",raw:"",ordered:tt,start:tt?+X.slice(0,-1):"",loose:!1,items:[]};X=tt?`\\d{1,9}\\${X.slice(-1)}`:`\\${X}`,this.options.pedantic&&(X=tt?X:"[*+-]");const at=new RegExp(`^( {0,3}${X})((?:[	 ][^\\n]*)?(?:\\n|$))`);let ut="",wt="",uo=!1;for(;W;){let mo=!1;if(!(q=at.exec(W))||this.rules.block.hr.test(W))break;ut=q[0],W=W.substring(ut.length);let yo=q[2].split(`
`,1)[0].replace(/^\t+/,ls=>" ".repeat(3*ls.length)),lf=W.split(`
`,1)[0],uf=0;this.options.pedantic?(uf=2,wt=yo.trimLeft()):(uf=q[2].search(/[^ ]/),uf=uf>4?1:uf,wt=yo.slice(uf),uf+=q[1].length);let df=!1;if(!yo&&/^ *$/.test(lf)&&(ut+=lf+`
`,W=W.substring(lf.length+1),mo=!0),!mo){const ls=new RegExp(`^ {0,${Math.min(3,uf-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),_f=new RegExp(`^ {0,${Math.min(3,uf-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),po=new RegExp(`^ {0,${Math.min(3,uf-1)}}(?:\`\`\`|~~~)`),xo=new RegExp(`^ {0,${Math.min(3,uf-1)}}#`);for(;W;){const gf=W.split(`
`,1)[0];if(lf=gf,this.options.pedantic&&(lf=lf.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),po.test(lf)||xo.test(lf)||ls.test(lf)||_f.test(W))break;if(lf.search(/[^ ]/)>=uf||!lf.trim())wt+=`
`+lf.slice(uf);else{if(df||yo.search(/[^ ]/)>=4||po.test(yo)||xo.test(yo)||_f.test(yo))break;wt+=`
`+lf}!df&&!lf.trim()&&(df=!0),ut+=gf+`
`,W=W.substring(gf.length+1),yo=lf.slice(uf)}}ot.loose||(uo?ot.loose=!0:/\n *\n *$/.test(ut)&&(uo=!0));let wf=null,wo;this.options.gfm&&(wf=/^\[[ xX]\] /.exec(wt),wf&&(wo=wf[0]!=="[ ] ",wt=wt.replace(/^\[[ xX]\] +/,""))),ot.items.push({type:"list_item",raw:ut,task:!!wf,checked:wo,loose:!1,text:wt,tokens:[]}),ot.raw+=ut}ot.items[ot.items.length-1].raw=ut.trimRight(),ot.items[ot.items.length-1].text=wt.trimRight(),ot.raw=ot.raw.trimRight();for(let mo=0;mo<ot.items.length;mo++)if(this.lexer.state.top=!1,ot.items[mo].tokens=this.lexer.blockTokens(ot.items[mo].text,[]),!ot.loose){const yo=ot.items[mo].tokens.filter(uf=>uf.type==="space"),lf=yo.length>0&&yo.some(uf=>/\n.*\n/.test(uf.raw));ot.loose=lf}if(ot.loose)for(let mo=0;mo<ot.items.length;mo++)ot.items[mo].loose=!0;return ot}}html(W){const q=this.rules.block.html.exec(W);if(q){const X={type:"html",block:!0,raw:q[0],pre:!this.options.sanitizer&&(q[1]==="pre"||q[1]==="script"||q[1]==="style"),text:q[0]};if(this.options.sanitize){const tt=this.options.sanitizer?this.options.sanitizer(q[0]):escape$1(q[0]),ot=X;ot.type="paragraph",ot.text=tt,ot.tokens=this.lexer.inline(tt)}return X}}def(W){const q=this.rules.block.def.exec(W);if(q){const X=q[1].toLowerCase().replace(/\s+/g," "),tt=q[2]?q[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",ot=q[3]?q[3].substring(1,q[3].length-1).replace(this.rules.inline._escapes,"$1"):q[3];return{type:"def",tag:X,raw:q[0],href:tt,title:ot}}}table(W){const q=this.rules.block.table.exec(W);if(q){const X={type:"table",raw:q[0],header:splitCells(q[1]).map(tt=>({text:tt,tokens:[]})),align:q[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:q[3]&&q[3].trim()?q[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(X.header.length===X.align.length){let tt=X.align.length,ot,at,ut,wt;for(ot=0;ot<tt;ot++){const uo=X.align[ot];uo&&(/^ *-+: *$/.test(uo)?X.align[ot]="right":/^ *:-+: *$/.test(uo)?X.align[ot]="center":/^ *:-+ *$/.test(uo)?X.align[ot]="left":X.align[ot]=null)}for(tt=X.rows.length,ot=0;ot<tt;ot++)X.rows[ot]=splitCells(X.rows[ot],X.header.length).map(uo=>({text:uo,tokens:[]}));for(tt=X.header.length,at=0;at<tt;at++)X.header[at].tokens=this.lexer.inline(X.header[at].text);for(tt=X.rows.length,at=0;at<tt;at++)for(wt=X.rows[at],ut=0;ut<wt.length;ut++)wt[ut].tokens=this.lexer.inline(wt[ut].text);return X}}}lheading(W){const q=this.rules.block.lheading.exec(W);if(q)return{type:"heading",raw:q[0],depth:q[2].charAt(0)==="="?1:2,text:q[1],tokens:this.lexer.inline(q[1])}}paragraph(W){const q=this.rules.block.paragraph.exec(W);if(q){const X=q[1].charAt(q[1].length-1)===`
`?q[1].slice(0,-1):q[1];return{type:"paragraph",raw:q[0],text:X,tokens:this.lexer.inline(X)}}}text(W){const q=this.rules.block.text.exec(W);if(q)return{type:"text",raw:q[0],text:q[0],tokens:this.lexer.inline(q[0])}}escape(W){const q=this.rules.inline.escape.exec(W);if(q)return{type:"escape",raw:q[0],text:escape$1(q[1])}}tag(W){const q=this.rules.inline.tag.exec(W);if(q)return!this.lexer.state.inLink&&/^<a /i.test(q[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(q[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(q[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(q[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:q[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(q[0]):escape$1(q[0]):q[0]}}link(W){const q=this.rules.inline.link.exec(W);if(q){const X=q[2].trim();if(!this.options.pedantic&&/^</.test(X)){if(!/>$/.test(X))return;const at=rtrim(X.slice(0,-1),"\\");if((X.length-at.length)%2===0)return}else{const at=findClosingBracket(q[2],"()");if(at>-1){const wt=(q[0].indexOf("!")===0?5:4)+q[1].length+at;q[2]=q[2].substring(0,at),q[0]=q[0].substring(0,wt).trim(),q[3]=""}}let tt=q[2],ot="";if(this.options.pedantic){const at=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(tt);at&&(tt=at[1],ot=at[3])}else ot=q[3]?q[3].slice(1,-1):"";return tt=tt.trim(),/^</.test(tt)&&(this.options.pedantic&&!/>$/.test(X)?tt=tt.slice(1):tt=tt.slice(1,-1)),outputLink(q,{href:tt&&tt.replace(this.rules.inline._escapes,"$1"),title:ot&&ot.replace(this.rules.inline._escapes,"$1")},q[0],this.lexer)}}reflink(W,q){let X;if((X=this.rules.inline.reflink.exec(W))||(X=this.rules.inline.nolink.exec(W))){let tt=(X[2]||X[1]).replace(/\s+/g," ");if(tt=q[tt.toLowerCase()],!tt){const ot=X[0].charAt(0);return{type:"text",raw:ot,text:ot}}return outputLink(X,tt,X[0],this.lexer)}}emStrong(W,q,X=""){let tt=this.rules.inline.emStrong.lDelim.exec(W);if(!tt||tt[3]&&X.match(/[\p{L}\p{N}]/u))return;if(!(tt[1]||tt[2]||"")||!X||this.rules.inline.punctuation.exec(X)){const at=[...tt[0]].length-1;let ut,wt,uo=at,mo=0;const yo=tt[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(yo.lastIndex=0,q=q.slice(-1*W.length+at);(tt=yo.exec(q))!=null;){if(ut=tt[1]||tt[2]||tt[3]||tt[4]||tt[5]||tt[6],!ut)continue;if(wt=[...ut].length,tt[3]||tt[4]){uo+=wt;continue}else if((tt[5]||tt[6])&&at%3&&!((at+wt)%3)){mo+=wt;continue}if(uo-=wt,uo>0)continue;wt=Math.min(wt,wt+uo+mo);const lf=[...W].slice(0,at+tt.index+wt+1).join("");if(Math.min(at,wt)%2){const df=lf.slice(1,-1);return{type:"em",raw:lf,text:df,tokens:this.lexer.inlineTokens(df)}}const uf=lf.slice(2,-2);return{type:"strong",raw:lf,text:uf,tokens:this.lexer.inlineTokens(uf)}}}}codespan(W){const q=this.rules.inline.code.exec(W);if(q){let X=q[2].replace(/\n/g," ");const tt=/[^ ]/.test(X),ot=/^ /.test(X)&&/ $/.test(X);return tt&&ot&&(X=X.substring(1,X.length-1)),X=escape$1(X,!0),{type:"codespan",raw:q[0],text:X}}}br(W){const q=this.rules.inline.br.exec(W);if(q)return{type:"br",raw:q[0]}}del(W){const q=this.rules.inline.del.exec(W);if(q)return{type:"del",raw:q[0],text:q[2],tokens:this.lexer.inlineTokens(q[2])}}autolink(W,q){const X=this.rules.inline.autolink.exec(W);if(X){let tt,ot;return X[2]==="@"?(tt=escape$1(this.options.mangle?q(X[1]):X[1]),ot="mailto:"+tt):(tt=escape$1(X[1]),ot=tt),{type:"link",raw:X[0],text:tt,href:ot,tokens:[{type:"text",raw:tt,text:tt}]}}}url(W,q){let X;if(X=this.rules.inline.url.exec(W)){let tt,ot;if(X[2]==="@")tt=escape$1(this.options.mangle?q(X[0]):X[0]),ot="mailto:"+tt;else{let at;do at=X[0],X[0]=this.rules.inline._backpedal.exec(X[0])[0];while(at!==X[0]);tt=escape$1(X[0]),X[1]==="www."?ot="http://"+X[0]:ot=X[0]}return{type:"link",raw:X[0],text:tt,href:ot,tokens:[{type:"text",raw:tt,text:tt}]}}}inlineText(W,q){const X=this.rules.inline.text.exec(W);if(X){let tt;return this.lexer.state.inRawBlock?tt=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(X[0]):escape$1(X[0]):X[0]:tt=escape$1(this.options.smartypants?q(X[0]):X[0]),{type:"text",raw:X[0],text:tt}}}}const block$1={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:noopTest,lheading:/^((?:(?!^bull ).|\n(?!\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};block$1._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;block$1._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;block$1.def=edit(block$1.def).replace("label",block$1._label).replace("title",block$1._title).getRegex();block$1.bullet=/(?:[*+-]|\d{1,9}[.)])/;block$1.listItemStart=edit(/^( *)(bull) */).replace("bull",block$1.bullet).getRegex();block$1.list=edit(block$1.list).replace(/bull/g,block$1.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+block$1.def.source+")").getRegex();block$1._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";block$1._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;block$1.html=edit(block$1.html,"i").replace("comment",block$1._comment).replace("tag",block$1._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();block$1.lheading=edit(block$1.lheading).replace(/bull/g,block$1.bullet).getRegex();block$1.paragraph=edit(block$1._paragraph).replace("hr",block$1.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",block$1._tag).getRegex();block$1.blockquote=edit(block$1.blockquote).replace("paragraph",block$1.paragraph).getRegex();block$1.normal={...block$1};block$1.gfm={...block$1.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};block$1.gfm.table=edit(block$1.gfm.table).replace("hr",block$1.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",block$1._tag).getRegex();block$1.gfm.paragraph=edit(block$1._paragraph).replace("hr",block$1.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",block$1.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",block$1._tag).getRegex();block$1.pedantic={...block$1.normal,html:edit(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",block$1._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:noopTest,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:edit(block$1.normal._paragraph).replace("hr",block$1.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",block$1.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const inline={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:noopTest,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:noopTest,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};inline._punctuation="\\p{P}$+<=>`^|~";inline.punctuation=edit(inline.punctuation,"u").replace(/punctuation/g,inline._punctuation).getRegex();inline.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;inline.anyPunctuation=/\\[punct]/g;inline._escapes=/\\([punct])/g;inline._comment=edit(block$1._comment).replace("(?:-->|$)","-->").getRegex();inline.emStrong.lDelim=edit(inline.emStrong.lDelim,"u").replace(/punct/g,inline._punctuation).getRegex();inline.emStrong.rDelimAst=edit(inline.emStrong.rDelimAst,"gu").replace(/punct/g,inline._punctuation).getRegex();inline.emStrong.rDelimUnd=edit(inline.emStrong.rDelimUnd,"gu").replace(/punct/g,inline._punctuation).getRegex();inline.anyPunctuation=edit(inline.anyPunctuation,"gu").replace(/punct/g,inline._punctuation).getRegex();inline._escapes=edit(inline._escapes,"gu").replace(/punct/g,inline._punctuation).getRegex();inline._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;inline._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;inline.autolink=edit(inline.autolink).replace("scheme",inline._scheme).replace("email",inline._email).getRegex();inline._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;inline.tag=edit(inline.tag).replace("comment",inline._comment).replace("attribute",inline._attribute).getRegex();inline._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;inline._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;inline._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;inline.link=edit(inline.link).replace("label",inline._label).replace("href",inline._href).replace("title",inline._title).getRegex();inline.reflink=edit(inline.reflink).replace("label",inline._label).replace("ref",block$1._label).getRegex();inline.nolink=edit(inline.nolink).replace("ref",block$1._label).getRegex();inline.reflinkSearch=edit(inline.reflinkSearch,"g").replace("reflink",inline.reflink).replace("nolink",inline.nolink).getRegex();inline.normal={...inline};inline.pedantic={...inline.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:edit(/^!?\[(label)\]\((.*?)\)/).replace("label",inline._label).getRegex(),reflink:edit(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",inline._label).getRegex()};inline.gfm={...inline.normal,escape:edit(inline.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};inline.gfm.url=edit(inline.gfm.url,"i").replace("email",inline.gfm._extended_email).getRegex();inline.breaks={...inline.gfm,br:edit(inline.br).replace("{2,}","*").getRegex(),text:edit(inline.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function smartypants(F){return F.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function mangle(F){let W="";for(let q=0;q<F.length;q++){const X=Math.random()>.5?"x"+F.charCodeAt(q).toString(16):F.charCodeAt(q).toString();W+="&#"+X+";"}return W}class _Lexer{constructor(W){Wv(this,"tokens");Wv(this,"options");Wv(this,"state");Wv(this,"tokenizer");Wv(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=W||_defaults,this.options.tokenizer=this.options.tokenizer||new _Tokenizer,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const q={block:block$1.normal,inline:inline.normal};this.options.pedantic?(q.block=block$1.pedantic,q.inline=inline.pedantic):this.options.gfm&&(q.block=block$1.gfm,this.options.breaks?q.inline=inline.breaks:q.inline=inline.gfm),this.tokenizer.rules=q}static get rules(){return{block:block$1,inline}}static lex(W,q){return new _Lexer(q).lex(W)}static lexInline(W,q){return new _Lexer(q).inlineTokens(W)}lex(W){W=W.replace(/\r\n|\r/g,`
`),this.blockTokens(W,this.tokens);let q;for(;q=this.inlineQueue.shift();)this.inlineTokens(q.src,q.tokens);return this.tokens}blockTokens(W,q=[]){this.options.pedantic?W=W.replace(/\t/g,"    ").replace(/^ +$/gm,""):W=W.replace(/^( *)(\t+)/gm,(ut,wt,uo)=>wt+"    ".repeat(uo.length));let X,tt,ot,at;for(;W;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(ut=>(X=ut.call({lexer:this},W,q))?(W=W.substring(X.raw.length),q.push(X),!0):!1))){if(X=this.tokenizer.space(W)){W=W.substring(X.raw.length),X.raw.length===1&&q.length>0?q[q.length-1].raw+=`
`:q.push(X);continue}if(X=this.tokenizer.code(W)){W=W.substring(X.raw.length),tt=q[q.length-1],tt&&(tt.type==="paragraph"||tt.type==="text")?(tt.raw+=`
`+X.raw,tt.text+=`
`+X.text,this.inlineQueue[this.inlineQueue.length-1].src=tt.text):q.push(X);continue}if(X=this.tokenizer.fences(W)){W=W.substring(X.raw.length),q.push(X);continue}if(X=this.tokenizer.heading(W)){W=W.substring(X.raw.length),q.push(X);continue}if(X=this.tokenizer.hr(W)){W=W.substring(X.raw.length),q.push(X);continue}if(X=this.tokenizer.blockquote(W)){W=W.substring(X.raw.length),q.push(X);continue}if(X=this.tokenizer.list(W)){W=W.substring(X.raw.length),q.push(X);continue}if(X=this.tokenizer.html(W)){W=W.substring(X.raw.length),q.push(X);continue}if(X=this.tokenizer.def(W)){W=W.substring(X.raw.length),tt=q[q.length-1],tt&&(tt.type==="paragraph"||tt.type==="text")?(tt.raw+=`
`+X.raw,tt.text+=`
`+X.raw,this.inlineQueue[this.inlineQueue.length-1].src=tt.text):this.tokens.links[X.tag]||(this.tokens.links[X.tag]={href:X.href,title:X.title});continue}if(X=this.tokenizer.table(W)){W=W.substring(X.raw.length),q.push(X);continue}if(X=this.tokenizer.lheading(W)){W=W.substring(X.raw.length),q.push(X);continue}if(ot=W,this.options.extensions&&this.options.extensions.startBlock){let ut=1/0;const wt=W.slice(1);let uo;this.options.extensions.startBlock.forEach(mo=>{uo=mo.call({lexer:this},wt),typeof uo=="number"&&uo>=0&&(ut=Math.min(ut,uo))}),ut<1/0&&ut>=0&&(ot=W.substring(0,ut+1))}if(this.state.top&&(X=this.tokenizer.paragraph(ot))){tt=q[q.length-1],at&&tt.type==="paragraph"?(tt.raw+=`
`+X.raw,tt.text+=`
`+X.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=tt.text):q.push(X),at=ot.length!==W.length,W=W.substring(X.raw.length);continue}if(X=this.tokenizer.text(W)){W=W.substring(X.raw.length),tt=q[q.length-1],tt&&tt.type==="text"?(tt.raw+=`
`+X.raw,tt.text+=`
`+X.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=tt.text):q.push(X);continue}if(W){const ut="Infinite loop on byte: "+W.charCodeAt(0);if(this.options.silent){console.error(ut);break}else throw new Error(ut)}}return this.state.top=!0,q}inline(W,q=[]){return this.inlineQueue.push({src:W,tokens:q}),q}inlineTokens(W,q=[]){let X,tt,ot,at=W,ut,wt,uo;if(this.tokens.links){const mo=Object.keys(this.tokens.links);if(mo.length>0)for(;(ut=this.tokenizer.rules.inline.reflinkSearch.exec(at))!=null;)mo.includes(ut[0].slice(ut[0].lastIndexOf("[")+1,-1))&&(at=at.slice(0,ut.index)+"["+"a".repeat(ut[0].length-2)+"]"+at.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(ut=this.tokenizer.rules.inline.blockSkip.exec(at))!=null;)at=at.slice(0,ut.index)+"["+"a".repeat(ut[0].length-2)+"]"+at.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(ut=this.tokenizer.rules.inline.anyPunctuation.exec(at))!=null;)at=at.slice(0,ut.index)+"++"+at.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;W;)if(wt||(uo=""),wt=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(mo=>(X=mo.call({lexer:this},W,q))?(W=W.substring(X.raw.length),q.push(X),!0):!1))){if(X=this.tokenizer.escape(W)){W=W.substring(X.raw.length),q.push(X);continue}if(X=this.tokenizer.tag(W)){W=W.substring(X.raw.length),tt=q[q.length-1],tt&&X.type==="text"&&tt.type==="text"?(tt.raw+=X.raw,tt.text+=X.text):q.push(X);continue}if(X=this.tokenizer.link(W)){W=W.substring(X.raw.length),q.push(X);continue}if(X=this.tokenizer.reflink(W,this.tokens.links)){W=W.substring(X.raw.length),tt=q[q.length-1],tt&&X.type==="text"&&tt.type==="text"?(tt.raw+=X.raw,tt.text+=X.text):q.push(X);continue}if(X=this.tokenizer.emStrong(W,at,uo)){W=W.substring(X.raw.length),q.push(X);continue}if(X=this.tokenizer.codespan(W)){W=W.substring(X.raw.length),q.push(X);continue}if(X=this.tokenizer.br(W)){W=W.substring(X.raw.length),q.push(X);continue}if(X=this.tokenizer.del(W)){W=W.substring(X.raw.length),q.push(X);continue}if(X=this.tokenizer.autolink(W,mangle)){W=W.substring(X.raw.length),q.push(X);continue}if(!this.state.inLink&&(X=this.tokenizer.url(W,mangle))){W=W.substring(X.raw.length),q.push(X);continue}if(ot=W,this.options.extensions&&this.options.extensions.startInline){let mo=1/0;const yo=W.slice(1);let lf;this.options.extensions.startInline.forEach(uf=>{lf=uf.call({lexer:this},yo),typeof lf=="number"&&lf>=0&&(mo=Math.min(mo,lf))}),mo<1/0&&mo>=0&&(ot=W.substring(0,mo+1))}if(X=this.tokenizer.inlineText(ot,smartypants)){W=W.substring(X.raw.length),X.raw.slice(-1)!=="_"&&(uo=X.raw.slice(-1)),wt=!0,tt=q[q.length-1],tt&&tt.type==="text"?(tt.raw+=X.raw,tt.text+=X.text):q.push(X);continue}if(W){const mo="Infinite loop on byte: "+W.charCodeAt(0);if(this.options.silent){console.error(mo);break}else throw new Error(mo)}}return q}}class _Renderer{constructor(W){Wv(this,"options");this.options=W||_defaults}code(W,q,X){var ot;const tt=(ot=(q||"").match(/^\S*/))==null?void 0:ot[0];if(this.options.highlight){const at=this.options.highlight(W,tt);at!=null&&at!==W&&(X=!0,W=at)}return W=W.replace(/\n$/,"")+`
`,tt?'<pre><code class="'+this.options.langPrefix+escape$1(tt)+'">'+(X?W:escape$1(W,!0))+`</code></pre>
`:"<pre><code>"+(X?W:escape$1(W,!0))+`</code></pre>
`}blockquote(W){return`<blockquote>
${W}</blockquote>
`}html(W,q){return W}heading(W,q,X,tt){if(this.options.headerIds){const ot=this.options.headerPrefix+tt.slug(X);return`<h${q} id="${ot}">${W}</h${q}>
`}return`<h${q}>${W}</h${q}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(W,q,X){const tt=q?"ol":"ul",ot=q&&X!==1?' start="'+X+'"':"";return"<"+tt+ot+`>
`+W+"</"+tt+`>
`}listitem(W,q,X){return`<li>${W}</li>
`}checkbox(W){return"<input "+(W?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(W){return`<p>${W}</p>
`}table(W,q){return q&&(q=`<tbody>${q}</tbody>`),`<table>
<thead>
`+W+`</thead>
`+q+`</table>
`}tablerow(W){return`<tr>
${W}</tr>
`}tablecell(W,q){const X=q.header?"th":"td";return(q.align?`<${X} align="${q.align}">`:`<${X}>`)+W+`</${X}>
`}strong(W){return`<strong>${W}</strong>`}em(W){return`<em>${W}</em>`}codespan(W){return`<code>${W}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(W){return`<del>${W}</del>`}link(W,q,X){const tt=cleanUrl(this.options.sanitize,this.options.baseUrl,W);if(tt===null)return X;W=tt;let ot='<a href="'+W+'"';return q&&(ot+=' title="'+q+'"'),ot+=">"+X+"</a>",ot}image(W,q,X){const tt=cleanUrl(this.options.sanitize,this.options.baseUrl,W);if(tt===null)return X;W=tt;let ot=`<img src="${W}" alt="${X}"`;return q&&(ot+=` title="${q}"`),ot+=this.options.xhtml?"/>":">",ot}text(W){return W}}class _TextRenderer{strong(W){return W}em(W){return W}codespan(W){return W}del(W){return W}html(W){return W}text(W){return W}link(W,q,X){return""+X}image(W,q,X){return""+X}br(){return""}}class _Slugger{constructor(){Wv(this,"seen");this.seen={}}serialize(W){return W.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(W,q){let X=W,tt=0;if(this.seen.hasOwnProperty(X)){tt=this.seen[W];do tt++,X=W+"-"+tt;while(this.seen.hasOwnProperty(X))}return q||(this.seen[W]=tt,this.seen[X]=0),X}slug(W,q={}){const X=this.serialize(W);return this.getNextSafeSlug(X,q.dryrun)}}class _Parser{constructor(W){Wv(this,"options");Wv(this,"renderer");Wv(this,"textRenderer");Wv(this,"slugger");this.options=W||_defaults,this.options.renderer=this.options.renderer||new _Renderer,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new _TextRenderer,this.slugger=new _Slugger}static parse(W,q){return new _Parser(q).parse(W)}static parseInline(W,q){return new _Parser(q).parseInline(W)}parse(W,q=!0){let X="";for(let tt=0;tt<W.length;tt++){const ot=W[tt];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ot.type]){const at=ot,ut=this.options.extensions.renderers[at.type].call({parser:this},at);if(ut!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(at.type)){X+=ut||"";continue}}switch(ot.type){case"space":continue;case"hr":{X+=this.renderer.hr();continue}case"heading":{const at=ot;X+=this.renderer.heading(this.parseInline(at.tokens),at.depth,unescape$1(this.parseInline(at.tokens,this.textRenderer)),this.slugger);continue}case"code":{const at=ot;X+=this.renderer.code(at.text,at.lang,!!at.escaped);continue}case"table":{const at=ot;let ut="",wt="";for(let mo=0;mo<at.header.length;mo++)wt+=this.renderer.tablecell(this.parseInline(at.header[mo].tokens),{header:!0,align:at.align[mo]});ut+=this.renderer.tablerow(wt);let uo="";for(let mo=0;mo<at.rows.length;mo++){const yo=at.rows[mo];wt="";for(let lf=0;lf<yo.length;lf++)wt+=this.renderer.tablecell(this.parseInline(yo[lf].tokens),{header:!1,align:at.align[lf]});uo+=this.renderer.tablerow(wt)}X+=this.renderer.table(ut,uo);continue}case"blockquote":{const at=ot,ut=this.parse(at.tokens);X+=this.renderer.blockquote(ut);continue}case"list":{const at=ot,ut=at.ordered,wt=at.start,uo=at.loose;let mo="";for(let yo=0;yo<at.items.length;yo++){const lf=at.items[yo],uf=lf.checked,df=lf.task;let wf="";if(lf.task){const wo=this.renderer.checkbox(!!uf);uo?lf.tokens.length>0&&lf.tokens[0].type==="paragraph"?(lf.tokens[0].text=wo+" "+lf.tokens[0].text,lf.tokens[0].tokens&&lf.tokens[0].tokens.length>0&&lf.tokens[0].tokens[0].type==="text"&&(lf.tokens[0].tokens[0].text=wo+" "+lf.tokens[0].tokens[0].text)):lf.tokens.unshift({type:"text",text:wo}):wf+=wo}wf+=this.parse(lf.tokens,uo),mo+=this.renderer.listitem(wf,df,!!uf)}X+=this.renderer.list(mo,ut,wt);continue}case"html":{const at=ot;X+=this.renderer.html(at.text,at.block);continue}case"paragraph":{const at=ot;X+=this.renderer.paragraph(this.parseInline(at.tokens));continue}case"text":{let at=ot,ut=at.tokens?this.parseInline(at.tokens):at.text;for(;tt+1<W.length&&W[tt+1].type==="text";)at=W[++tt],ut+=`
`+(at.tokens?this.parseInline(at.tokens):at.text);X+=q?this.renderer.paragraph(ut):ut;continue}default:{const at='Token with "'+ot.type+'" type was not found.';if(this.options.silent)return console.error(at),"";throw new Error(at)}}}return X}parseInline(W,q){q=q||this.renderer;let X="";for(let tt=0;tt<W.length;tt++){const ot=W[tt];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ot.type]){const at=this.options.extensions.renderers[ot.type].call({parser:this},ot);if(at!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(ot.type)){X+=at||"";continue}}switch(ot.type){case"escape":{const at=ot;X+=q.text(at.text);break}case"html":{const at=ot;X+=q.html(at.text);break}case"link":{const at=ot;X+=q.link(at.href,at.title,this.parseInline(at.tokens,q));break}case"image":{const at=ot;X+=q.image(at.href,at.title,at.text);break}case"strong":{const at=ot;X+=q.strong(this.parseInline(at.tokens,q));break}case"em":{const at=ot;X+=q.em(this.parseInline(at.tokens,q));break}case"codespan":{const at=ot;X+=q.codespan(at.text);break}case"br":{X+=q.br();break}case"del":{const at=ot;X+=q.del(this.parseInline(at.tokens,q));break}case"text":{const at=ot;X+=q.text(at.text);break}default:{const at='Token with "'+ot.type+'" type was not found.';if(this.options.silent)return console.error(at),"";throw new Error(at)}}}return X}}class _Hooks{constructor(W){Wv(this,"options");this.options=W||_defaults}preprocess(W){return W}postprocess(W){return W}}Wv(_Hooks,"passThroughHooks",new Set(["preprocess","postprocess"]));var R2,sM,DA,vP;class Marked{constructor(...W){oM(this,R2);oM(this,DA);Wv(this,"defaults",_getDefaults());Wv(this,"options",this.setOptions);Wv(this,"parse",LA(this,R2,sM).call(this,_Lexer.lex,_Parser.parse));Wv(this,"parseInline",LA(this,R2,sM).call(this,_Lexer.lexInline,_Parser.parseInline));Wv(this,"Parser",_Parser);Wv(this,"parser",_Parser.parse);Wv(this,"Renderer",_Renderer);Wv(this,"TextRenderer",_TextRenderer);Wv(this,"Lexer",_Lexer);Wv(this,"lexer",_Lexer.lex);Wv(this,"Tokenizer",_Tokenizer);Wv(this,"Slugger",_Slugger);Wv(this,"Hooks",_Hooks);this.use(...W)}walkTokens(W,q){var tt,ot;let X=[];for(const at of W)switch(X=X.concat(q.call(this,at)),at.type){case"table":{const ut=at;for(const wt of ut.header)X=X.concat(this.walkTokens(wt.tokens,q));for(const wt of ut.rows)for(const uo of wt)X=X.concat(this.walkTokens(uo.tokens,q));break}case"list":{const ut=at;X=X.concat(this.walkTokens(ut.items,q));break}default:{const ut=at;(ot=(tt=this.defaults.extensions)==null?void 0:tt.childTokens)!=null&&ot[ut.type]?this.defaults.extensions.childTokens[ut.type].forEach(wt=>{X=X.concat(this.walkTokens(ut[wt],q))}):ut.tokens&&(X=X.concat(this.walkTokens(ut.tokens,q)))}}return X}use(...W){const q=this.defaults.extensions||{renderers:{},childTokens:{}};return W.forEach(X=>{const tt={...X};if(tt.async=this.defaults.async||tt.async||!1,X.extensions&&(X.extensions.forEach(ot=>{if(!ot.name)throw new Error("extension name required");if("renderer"in ot){const at=q.renderers[ot.name];at?q.renderers[ot.name]=function(...ut){let wt=ot.renderer.apply(this,ut);return wt===!1&&(wt=at.apply(this,ut)),wt}:q.renderers[ot.name]=ot.renderer}if("tokenizer"in ot){if(!ot.level||ot.level!=="block"&&ot.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const at=q[ot.level];at?at.unshift(ot.tokenizer):q[ot.level]=[ot.tokenizer],ot.start&&(ot.level==="block"?q.startBlock?q.startBlock.push(ot.start):q.startBlock=[ot.start]:ot.level==="inline"&&(q.startInline?q.startInline.push(ot.start):q.startInline=[ot.start]))}"childTokens"in ot&&ot.childTokens&&(q.childTokens[ot.name]=ot.childTokens)}),tt.extensions=q),X.renderer){const ot=this.defaults.renderer||new _Renderer(this.defaults);for(const at in X.renderer){const ut=X.renderer[at],wt=at,uo=ot[wt];ot[wt]=(...mo)=>{let yo=ut.apply(ot,mo);return yo===!1&&(yo=uo.apply(ot,mo)),yo||""}}tt.renderer=ot}if(X.tokenizer){const ot=this.defaults.tokenizer||new _Tokenizer(this.defaults);for(const at in X.tokenizer){const ut=X.tokenizer[at],wt=at,uo=ot[wt];ot[wt]=(...mo)=>{let yo=ut.apply(ot,mo);return yo===!1&&(yo=uo.apply(ot,mo)),yo}}tt.tokenizer=ot}if(X.hooks){const ot=this.defaults.hooks||new _Hooks;for(const at in X.hooks){const ut=X.hooks[at],wt=at,uo=ot[wt];_Hooks.passThroughHooks.has(at)?ot[wt]=mo=>{if(this.defaults.async)return Promise.resolve(ut.call(ot,mo)).then(lf=>uo.call(ot,lf));const yo=ut.call(ot,mo);return uo.call(ot,yo)}:ot[wt]=(...mo)=>{let yo=ut.apply(ot,mo);return yo===!1&&(yo=uo.apply(ot,mo)),yo}}tt.hooks=ot}if(X.walkTokens){const ot=this.defaults.walkTokens,at=X.walkTokens;tt.walkTokens=function(ut){let wt=[];return wt.push(at.call(this,ut)),ot&&(wt=wt.concat(ot.call(this,ut))),wt}}this.defaults={...this.defaults,...tt}}),this}setOptions(W){return this.defaults={...this.defaults,...W},this}}R2=new WeakSet,sM=function(W,q){return(X,tt,ot)=>{typeof tt=="function"&&(ot=tt,tt=null);const at={...tt},ut={...this.defaults,...at};this.defaults.async===!0&&at.async===!1&&(ut.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),ut.async=!0);const wt=LA(this,DA,vP).call(this,!!ut.silent,!!ut.async,ot);if(typeof X>"u"||X===null)return wt(new Error("marked(): input parameter is undefined or null"));if(typeof X!="string")return wt(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(X)+", string expected"));if(checkDeprecations(ut,ot),ut.hooks&&(ut.hooks.options=ut),ot){const uo=ot,mo=ut.highlight;let yo;try{ut.hooks&&(X=ut.hooks.preprocess(X)),yo=W(X,ut)}catch(df){return wt(df)}const lf=df=>{let wf;if(!df)try{ut.walkTokens&&this.walkTokens(yo,ut.walkTokens),wf=q(yo,ut),ut.hooks&&(wf=ut.hooks.postprocess(wf))}catch(wo){df=wo}return ut.highlight=mo,df?wt(df):uo(null,wf)};if(!mo||mo.length<3||(delete ut.highlight,!yo.length))return lf();let uf=0;this.walkTokens(yo,df=>{df.type==="code"&&(uf++,setTimeout(()=>{mo(df.text,df.lang,(wf,wo)=>{if(wf)return lf(wf);wo!=null&&wo!==df.text&&(df.text=wo,df.escaped=!0),uf--,uf===0&&lf()})},0))}),uf===0&&lf();return}if(ut.async)return Promise.resolve(ut.hooks?ut.hooks.preprocess(X):X).then(uo=>W(uo,ut)).then(uo=>ut.walkTokens?Promise.all(this.walkTokens(uo,ut.walkTokens)).then(()=>uo):uo).then(uo=>q(uo,ut)).then(uo=>ut.hooks?ut.hooks.postprocess(uo):uo).catch(wt);try{ut.hooks&&(X=ut.hooks.preprocess(X));const uo=W(X,ut);ut.walkTokens&&this.walkTokens(uo,ut.walkTokens);let mo=q(uo,ut);return ut.hooks&&(mo=ut.hooks.postprocess(mo)),mo}catch(uo){return wt(uo)}}},DA=new WeakSet,vP=function(W,q,X){return tt=>{if(tt.message+=`
Please report this to https://github.com/markedjs/marked.`,W){const ot="<p>An error occurred:</p><pre>"+escape$1(tt.message+"",!0)+"</pre>";if(q)return Promise.resolve(ot);if(X){X(null,ot);return}return ot}if(q)return Promise.reject(tt);if(X){X(tt);return}throw tt}};const markedInstance=new Marked;function marked(F,W,q){return markedInstance.parse(F,W,q)}marked.options=marked.setOptions=function(F){return markedInstance.setOptions(F),marked.defaults=markedInstance.defaults,changeDefaults(marked.defaults),marked};marked.getDefaults=_getDefaults;marked.defaults=_defaults;marked.use=function(...F){return markedInstance.use(...F),marked.defaults=markedInstance.defaults,changeDefaults(marked.defaults),marked};marked.walkTokens=function(F,W){return markedInstance.walkTokens(F,W)};marked.parseInline=markedInstance.parseInline;marked.Parser=_Parser;marked.parser=_Parser.parse;marked.Renderer=_Renderer;marked.TextRenderer=_TextRenderer;marked.Lexer=_Lexer;marked.lexer=_Lexer.lex;marked.Tokenizer=_Tokenizer;marked.Slugger=_Slugger;marked.Hooks=_Hooks;marked.parse=marked;marked.options;marked.setOptions;marked.use;marked.walkTokens;marked.parseInline;_Parser.parse;_Lexer.lex;function p(F,W){const q={type:"footnotes",raw:W,rawItems:[],items:[]};return{name:"footnote",level:"block",childTokens:["content"],tokenizer(X){F.hasFootnotes||(this.lexer.tokens.push(q),F.tokens=this.lexer.tokens,F.hasFootnotes=!0,q.rawItems=[],q.items=[]);const tt=/^\[\^([^\]\n]+)\]:(?:[ \t]+|[\n]*?|$)([^\n]*?(?:\n|$)(?:\n*?[ ]{4,}[^\n]*)*)/.exec(X);if(tt){const[ot,at,ut=""]=tt;let wt=ut.split(`
`).reduce((yo,lf)=>yo+`
`+lf.replace(/^(?:[ ]{4}|[\t])/,""),"");const uo=wt.trimEnd().split(`
`).pop();wt+=uo&&/^[ \t]*?[>\-\*][ ]|[`]{3,}$|^[ \t]*?[\|].+[\|]$/.test(uo)?`

`:"";const mo={type:"footnote",raw:ot,label:at,refs:[],content:this.lexer.blockTokens(wt)};return q.rawItems.push(mo),mo}},renderer(){return""}}}function $$1(F,W=!1){let q=0;return{name:"footnoteRef",level:"inline",tokenizer(X){const tt=/^\[\^([^\]\n]+)\]/.exec(X);if(tt){const[ot,at]=tt,ut=this.lexer.tokens[0],wt=ut.rawItems.filter(lf=>lf.label===at);if(!wt.length)return;const uo=wt[0],mo=ut.items.filter(lf=>lf.label===at)[0],yo={type:"footnoteRef",raw:ot,id:"",label:at};return mo?(yo.id=`${q}:${mo.refs.length+1}`,mo.refs.push(yo)):(q++,yo.id=String(q),uo.refs.push(yo),ut.items.push(uo)),yo}},renderer({id:X,label:tt}){q=0;const ot=encodeURIComponent(tt);return`<sup><a id="${F}ref-${ot}" href="#${F+ot}" data-${F}ref aria-describedby="${F}label">${W?`[${X}]`:X}</a></sup>`}}}function m$1(F){return{name:"footnotes",renderer({raw:W,items:q=[]}){if(q.length===0)return"";const X=q.reduce((ot,{label:at,content:ut,refs:wt})=>{const uo=encodeURIComponent(at),mo=this.parser.parse(ut).trimEnd(),yo=mo.endsWith("</p>");let lf=`<li id="${F+uo}">
`;return lf+=yo?mo.replace(/<\/p>$/,""):mo,wt.forEach((uf,df)=>{lf+=` <a href="#${F}ref-${uo}" data-${F}backref aria-label="Back to reference ${at}">${df>0?`↩<sup>${df+1}</sup>`:"↩"}</a>`}),lf+=yo?`</p>
`:`
`,lf+=`</li>
`,ot+lf},"");let tt=`<section class="footnotes" data-footnotes>
`;return tt+=`<h2 id="${F}label" class="sr-only">${W.trimEnd()}</h2>
`,tt+=`<ol>
${X}</ol>
`,tt+=`</section>
`,tt}}}function b(F={}){const{prefixId:W="footnote-",description:q="Footnotes",refMarkers:X}=F,tt={hasFootnotes:!1,tokens:[]};return{extensions:[p(tt,q),$$1(W,X),m$1(W)],walkTokens(ot){ot.type==="footnotes"&&tt.tokens.indexOf(ot)===0&&ot.items.length&&(tt.tokens[0]={type:"space",raw:""},tt.tokens.push(ot)),tt.hasFootnotes&&(tt.hasFootnotes=!1)}}}const _hoisted_1$p=["innerHTML"],_sfc_main$r=defineComponent({__name:"Article.ce",props:{owner:{type:String},repo:{type:String},branch:{type:String,default:"main"},path:{type:String,default:"README.md"}},setup(F){const W=F,q=globalThis.window;function X(Pp,yp){var Ep=Pp[0],Cp=Pp[1],$p=Pp[2],kp=Pp[3];Ep=ot(Ep,Cp,$p,kp,yp[0],7,-680876936),kp=ot(kp,Ep,Cp,$p,yp[1],12,-389564586),$p=ot($p,kp,Ep,Cp,yp[2],17,606105819),Cp=ot(Cp,$p,kp,Ep,yp[3],22,-1044525330),Ep=ot(Ep,Cp,$p,kp,yp[4],7,-176418897),kp=ot(kp,Ep,Cp,$p,yp[5],12,1200080426),$p=ot($p,kp,Ep,Cp,yp[6],17,-1473231341),Cp=ot(Cp,$p,kp,Ep,yp[7],22,-45705983),Ep=ot(Ep,Cp,$p,kp,yp[8],7,1770035416),kp=ot(kp,Ep,Cp,$p,yp[9],12,-1958414417),$p=ot($p,kp,Ep,Cp,yp[10],17,-42063),Cp=ot(Cp,$p,kp,Ep,yp[11],22,-1990404162),Ep=ot(Ep,Cp,$p,kp,yp[12],7,1804603682),kp=ot(kp,Ep,Cp,$p,yp[13],12,-40341101),$p=ot($p,kp,Ep,Cp,yp[14],17,-1502002290),Ep=at(Ep,Cp=ot(Cp,$p,kp,Ep,yp[15],22,1236535329),$p,kp,yp[1],5,-165796510),kp=at(kp,Ep,Cp,$p,yp[6],9,-1069501632),$p=at($p,kp,Ep,Cp,yp[11],14,643717713),Cp=at(Cp,$p,kp,Ep,yp[0],20,-373897302),Ep=at(Ep,Cp,$p,kp,yp[5],5,-701558691),kp=at(kp,Ep,Cp,$p,yp[10],9,38016083),$p=at($p,kp,Ep,Cp,yp[15],14,-660478335),Cp=at(Cp,$p,kp,Ep,yp[4],20,-405537848),Ep=at(Ep,Cp,$p,kp,yp[9],5,568446438),kp=at(kp,Ep,Cp,$p,yp[14],9,-1019803690),$p=at($p,kp,Ep,Cp,yp[3],14,-187363961),Cp=at(Cp,$p,kp,Ep,yp[8],20,1163531501),Ep=at(Ep,Cp,$p,kp,yp[13],5,-1444681467),kp=at(kp,Ep,Cp,$p,yp[2],9,-51403784),$p=at($p,kp,Ep,Cp,yp[7],14,1735328473),Ep=ut(Ep,Cp=at(Cp,$p,kp,Ep,yp[12],20,-1926607734),$p,kp,yp[5],4,-378558),kp=ut(kp,Ep,Cp,$p,yp[8],11,-2022574463),$p=ut($p,kp,Ep,Cp,yp[11],16,1839030562),Cp=ut(Cp,$p,kp,Ep,yp[14],23,-35309556),Ep=ut(Ep,Cp,$p,kp,yp[1],4,-1530992060),kp=ut(kp,Ep,Cp,$p,yp[4],11,1272893353),$p=ut($p,kp,Ep,Cp,yp[7],16,-155497632),Cp=ut(Cp,$p,kp,Ep,yp[10],23,-1094730640),Ep=ut(Ep,Cp,$p,kp,yp[13],4,681279174),kp=ut(kp,Ep,Cp,$p,yp[0],11,-358537222),$p=ut($p,kp,Ep,Cp,yp[3],16,-722521979),Cp=ut(Cp,$p,kp,Ep,yp[6],23,76029189),Ep=ut(Ep,Cp,$p,kp,yp[9],4,-640364487),kp=ut(kp,Ep,Cp,$p,yp[12],11,-421815835),$p=ut($p,kp,Ep,Cp,yp[15],16,530742520),Ep=wt(Ep,Cp=ut(Cp,$p,kp,Ep,yp[2],23,-995338651),$p,kp,yp[0],6,-198630844),kp=wt(kp,Ep,Cp,$p,yp[7],10,1126891415),$p=wt($p,kp,Ep,Cp,yp[14],15,-1416354905),Cp=wt(Cp,$p,kp,Ep,yp[5],21,-57434055),Ep=wt(Ep,Cp,$p,kp,yp[12],6,1700485571),kp=wt(kp,Ep,Cp,$p,yp[3],10,-1894986606),$p=wt($p,kp,Ep,Cp,yp[10],15,-1051523),Cp=wt(Cp,$p,kp,Ep,yp[1],21,-2054922799),Ep=wt(Ep,Cp,$p,kp,yp[8],6,1873313359),kp=wt(kp,Ep,Cp,$p,yp[15],10,-30611744),$p=wt($p,kp,Ep,Cp,yp[6],15,-1560198380),Cp=wt(Cp,$p,kp,Ep,yp[13],21,1309151649),Ep=wt(Ep,Cp,$p,kp,yp[4],6,-145523070),kp=wt(kp,Ep,Cp,$p,yp[11],10,-1120210379),$p=wt($p,kp,Ep,Cp,yp[2],15,718787259),Cp=wt(Cp,$p,kp,Ep,yp[9],21,-343485551),Pp[0]=wf(Ep,Pp[0]),Pp[1]=wf(Cp,Pp[1]),Pp[2]=wf($p,Pp[2]),Pp[3]=wf(kp,Pp[3])}function tt(Pp,yp,Ep,Cp,$p,kp){return yp=wf(wf(yp,Pp),wf(Cp,kp)),wf(yp<<$p|yp>>>32-$p,Ep)}function ot(Pp,yp,Ep,Cp,$p,kp,Dp){return tt(yp&Ep|~yp&Cp,Pp,yp,$p,kp,Dp)}function at(Pp,yp,Ep,Cp,$p,kp,Dp){return tt(yp&Cp|Ep&~Cp,Pp,yp,$p,kp,Dp)}function ut(Pp,yp,Ep,Cp,$p,kp,Dp){return tt(yp^Ep^Cp,Pp,yp,$p,kp,Dp)}function wt(Pp,yp,Ep,Cp,$p,kp,Dp){return tt(Ep^(yp|~Cp),Pp,yp,$p,kp,Dp)}function uo(Pp){var yp,Ep=Pp.length,Cp=[1732584193,-271733879,-1732584194,271733878];for(yp=64;yp<=Pp.length;yp+=64)X(Cp,mo(Pp.substring(yp-64,yp)));Pp=Pp.substring(yp-64);var $p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(yp=0;yp<Pp.length;yp++)$p[yp>>2]|=Pp.charCodeAt(yp)<<(yp%4<<3);if($p[yp>>2]|=128<<(yp%4<<3),yp>55)for(X(Cp,$p),yp=0;yp<16;yp++)$p[yp]=0;return $p[14]=8*Ep,X(Cp,$p),Cp}function mo(Pp){var yp,Ep=[];for(yp=0;yp<64;yp+=4)Ep[yp>>2]=Pp.charCodeAt(yp)+(Pp.charCodeAt(yp+1)<<8)+(Pp.charCodeAt(yp+2)<<16)+(Pp.charCodeAt(yp+3)<<24);return Ep}var yo="0123456789abcdef".split("");function lf(Pp){for(var yp="",Ep=0;Ep<4;Ep++)yp+=yo[Pp>>8*Ep+4&15]+yo[Pp>>8*Ep&15];return yp}function uf(Pp){for(var yp=0;yp<Pp.length;yp++)Pp[yp]=lf(Pp[yp]);return Pp.join("")}function df(Pp){return uf(uo(Pp))}function wf(Pp,yp){return Pp+yp&4294967295}const wo=ref(null),ls=computed(()=>{var Pp,yp;return(yp=(Pp=wo.value)==null?void 0:Pp.getRootNode())==null?void 0:yp.host}),_f=ref(),po=ref(),xo=ref(!1);watch$1(_f,Pp=>{po.value=jf(marked.use(b()).parse(Pp)),nextTick(()=>{wo.value&&mp(wo.value,!0)})}),onMounted(()=>gf());function gf(){ls.value&&(ls.value.textContent?_f.value=ls.value.textContent:fetch(`https://raw.githubusercontent.com/${W.owner}/${W.repo}/${W.branch}/${W.path}`).then(Pp=>Pp.text()).then(Pp=>{_f.value=Pp}).catch(Pp=>{console.error("Error getting markdown from Github:",Pp)}))}function cf(Pp){return Pp.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function yf(Pp){return!isNaN(Pp)}function Sf(Pp){return/\d{1,2}:\d{1,2}/.test(Pp)}function xf(){return"ontouchstart"in document.documentElement&&/mobi/i.test(navigator.userAgent)}function bf(Pp){let yp=[];for(;Pp.parentElement;){let Ep=Array.from(Pp.parentElement.children).filter(Cp=>Cp.tagName===Pp.tagName);yp.push(Ep.indexOf(Pp)+1),Pp=Pp.parentElement}return yp.reverse().join(".")}function Af(Pp){var kp;const yp={"mdp-audio":["autoplay","muted","no-caption","sync"],"mdp-entities":["cards"],"mdp-gallery":["caption"],"mdp-header":["breadcrumbs","pdf-download-enabled"],"mdp-iframe":["allow-full-screen","allow-transparency","full","left","right","sticky"],"mdp-image":["no-caption","zoom-on-scroll"],"mdp-knightlab-timeline":["has-bookmark"],"mdp-menu":["pdf-download-enabled"],"mdp-plant-specimen":["full","left","right","sticky"],"mdp-video":["autoplay","muted","no-caption","sync"]};let Ep=[];Pp=Pp.replace(/”/g,'"').replace(/”/g,'"').replace(/’/g,"'"),(kp=Pp==null?void 0:Pp.match(/[^\s"]+|"([^"]*)"/gmi))==null||kp.filter(Dp=>Dp).forEach(Dp=>{Ep.length>0&&Ep[Ep.length-1].indexOf("=")===Ep[Ep.length-1].length-1?Ep[Ep.length-1]=`${Ep[Ep.length-1]}${Dp}`:Ep.push(Dp)});let Cp={},$p=0;for(;$p<Ep.length;){let Dp=Ep[$p];if(Dp.indexOf("=")>0){let Fp=Dp.indexOf("="),Sp=Dp.slice(0,Fp),up=Dp.slice(Fp+1);up=up[0]==='"'&&up[up.length-1]==='"'?up.slice(1,-1):up,Sp[0]===":"?(Sp=cf(Sp.slice(1)),Cp.style||(Cp.style={}),Cp.style[Sp]=up):Cp.kwargs?Cp.kwargs[Sp]?Cp.kwargs[Sp]+=` ${up}`:Cp.kwargs[Sp]=up:Cp.kwargs={[Sp]:up}}else if(Dp[0]==="."){let Fp="class",Sp=Dp.slice(1);Sp=Sp[0]==='"'&&Sp[Sp.length-1]==='"'?Sp.slice(1,-1):Sp,Cp[Fp]?Cp[Fp]+=` ${Sp}`:Cp[Fp]=Sp}else if(Dp[0]==='"'){let Fp=Dp.slice(1,-1);Cp.args||(Cp.args=[]),Cp.args.push(Fp)}else Dp[0]==="#"?Cp.id=Dp.slice(1):/^Q\d+$/.test(Dp)?(Cp.entities||(Cp.entities=[]),Cp.entities.push(Dp)):/^\w+-[-\w]*\w+$/.test(Dp)&&!Cp.tag||Dp==="script"||Dp==="link"?Cp.tag=Dp:Cp.tag==="script"&&!Cp.src?Cp.src=Dp:Cp.tag==="link"&&!Cp.href?Cp.href=Dp:yp[Cp.tag]&&yp[Cp.tag].includes(Dp)?(Cp.booleans||(Cp.booleans=[]),Cp.booleans.push(Dp)):(Cp.args||(Cp.args=[]),Cp.args.push(Dp));$p++}return Cp}function Pf(Pp){var Cp;let yp=((Cp=Pp.textContent)==null?void 0:Cp.replace(/\s+\|\s+/g,`
`).split(`
`).map($p=>$p.trim()).filter($p=>$p))||[],Ep=Af(yp==null?void 0:yp[0])||{};return yp.length>1&&(Ep.args=Ep.args?[...Ep.args,...yp.slice(1)]:yp.slice(1)),Ep}function Df(Pp,yp){var kp,Dp,Fp,Sp,up,Nf,Jf,ip,ap,Op,Gp;let Ep=((kp=yp.parentElement)==null?void 0:kp.tagName)||"",Cp=(Dp=yp.previousElementSibling)==null?void 0:Dp.tagName,$p=!1;if(Ep==="P"||Ep==="PRE"||Ep==="LI"||Ep==="TD"||/^H\d/.test(Ep)){let bp;if(Cp==="IMG"||Cp==="A"||Cp==="EM"||Cp==="STRONG")bp=yp;else if(Ep==="P"){let Up=Array.from(((Fp=yp.parentElement)==null?void 0:Fp.childNodes)||[]).map(Zp=>{var og;return(og=Zp.nodeValue)==null?void 0:og.trim()}).filter(Zp=>Zp).join("");bp=Up?yp:yp.parentElement,$p=!!Up}else Ep==="PRE"||Ep==="LI"||Ep==="TD"||/^H\d/.test(Ep)?bp=yp:bp=(up=(Sp=yp.parentElement)==null?void 0:Sp.parentElement)==null?void 0:up.parentElement;if(!bp)return;let zp=Ep==="LI"?yp.previousElementSibling?(Nf=yp.parentElement)==null?void 0:Nf.parentElement:yp.parentElement:bp.parentElement,Rp=Ep==="PRE"&&((Jf=Array.from(bp.classList).find(Up=>Up.indexOf("language")===0))==null?void 0:Jf.split("-").pop())||"mdpress";if(Rp==="mermaid"){let Up=document.createElement("mdp-mermaid");Up.textContent=yp.textContent,(ip=bp==null?void 0:bp.parentElement)==null||ip.replaceWith(Up)}else if(Rp==="mdpress"){let Up=Pf(yp);if($p&&(Up.tag||Up.class||Up.style||Up.id)&&(Up.style?Up.style.display="inline-block":Up.style={display:"inline-block"}),Up.tag){let Zp=document.createElement(Up.tag);if(Up.id&&(Zp.id=Up.id),Up.class&&Up.class.split(" ").forEach(og=>Zp.classList.add(og)),Up.style&&Zp.setAttribute("style",Object.entries(Up.style).map(([og,Ap])=>`${og}:${Ap}`).join(";")),Up.entities&&Zp.setAttribute("entities",Up.entities.join(" ")),Up.kwargs)for(const[og,Ap]of Object.entries(Up.kwargs))Zp.setAttribute(og,Ap===!0?"":Ap);if(Up.booleans&&Up.booleans.forEach(og=>Zp.setAttribute(og,"")),Up.args){let og=document.createElement("ul");Zp.appendChild(og);for(const Ap of Up.args){let Ip=document.createElement("li");Ip.innerHTML=Ap,og.appendChild(Ip)}}if(Up.tag==="script")document.body.appendChild(Zp),bp.remove();else if(Up.tag==="link")document.head.appendChild(Zp),bp.remove();else{let og=Up.tag.split("-").slice(1).join("-");if(og==="header"||og==="footer"){let Ap=Pp.querySelector(Up.tag);Ap?(Ap.replaceWith(Zp),bp.remove()):bp.replaceWith(Zp)}else bp.replaceWith(Zp)}}else if(Up.class||Up.style||Up.id||Up.kwargs){let Zp,og=bp.previousElementSibling;if((og==null?void 0:og.tagName)==="MDP-MERMAID"?Zp=og:(og==null?void 0:og.tagName)==="EM"||(og==null?void 0:og.tagName)==="STRONG"?(Zp=document.createElement("span"),Zp.innerHTML=og.innerHTML,og.replaceWith(Zp)):(zp==null?void 0:zp.tagName)==="TD"?(Zp=(Op=(ap=zp==null?void 0:zp.parentElement)==null?void 0:ap.parentElement)==null?void 0:Op.parentElement,(Gp=zp==null?void 0:zp.parentElement)==null||Gp.remove()):(zp==null?void 0:zp.tagName)!=="UL"&&((og==null?void 0:og.tagName)==="A"||(og==null?void 0:og.tagName)==="IMG")?Zp=og:Zp=zp,Up.id&&(Zp.id=Up.id),Up.class&&Up.class.split(" ").forEach(Ap=>Zp.classList.add(Ap)),Up.style&&Zp.setAttribute("style",Object.entries(Up.style).map(([Ap,Ip])=>`${Ap}:${Ip}`).join(";")),Up.entities&&Zp.setAttribute("data-entities",Up.entities.join(" ")),Up.kwargs)for(const[Ap,Ip]of Object.entries(Up.kwargs))Zp.setAttribute(Ap,Ip===!0?"":Ip);bp.remove()}}}}function zf(Pp){let yp=document.createElement("template");return yp.innerHTML=Pp,yp.content}function jf(Pp){var Nf,Jf;let yp=Pp?zf(Pp):document.querySelector("main");console.log("structureContent.input",zf(yp.outerHTML));let Ep=document.createElement("main");Ep.className="page-content markdown-body",Ep.setAttribute("aria-label","Content"),Ep.setAttribute("data-theme","light");let Cp=Ep,$p,kp=0;yp&&Array.from(yp==null?void 0:yp.querySelectorAll("p")).filter(ip=>{var ap,Op;return/^[#*]{1,6}$/.test(((Op=(ap=ip.childNodes.item(0))==null?void 0:ap.nodeValue)==null?void 0:Op.trim())||"")}).forEach(ip=>{var bp,zp;let ap=(bp=ip.childNodes.item(0).nodeValue)==null?void 0:bp.trim(),Op=ip.querySelector("code"),Gp=document.createElement(`h${ap==null?void 0:ap.length}`);if(ip.replaceWith(Gp),Op){let Rp=document.createElement("p");Rp.appendChild(Op),(zp=Gp.parentElement)==null||zp.insertBefore(Rp,Gp.nextSibling)}}),Array.from(yp==null?void 0:yp.querySelectorAll("p")).filter(ip=>{var ap;return/^\.\w+-\w+\S/.test(((ap=ip.childNodes.item(0).nodeValue)==null?void 0:ap.trim())||"")}).forEach(ip=>{let ap=document.createElement("code"),Op=ip.innerHTML.trim().slice(1).replace(/\n\s*-\s+/g,`
`);ap.textContent=Op,ip.textContent="",ip.appendChild(ap)}),Array.from(yp==null?void 0:yp.querySelectorAll("p, li")).filter(ip=>{var ap;return/==.+=={.+}/.test(((ap=ip.textContent)==null?void 0:ap.trim())||"")}).forEach(ip=>{let ap=[],Op=Array.from(ip.innerHTML.matchAll(/==(?<text>[^=]+)=={(?<attrs>[^}]+)}/g));Op.forEach((Gp,bp)=>{var zp;if(bp===0&&ap.push(ip.innerHTML.slice(0,Gp.index)),Gp.groups){let{text:Rp,attrs:Up}=Gp.groups;if(/\s*Q\d+\s*/.test(Up))ap.push(`<a href="${Up}">${Rp}</a>`);else if(Up.indexOf("=")>0){let[Zp,og]=Up.split("=");og[0]!=='"'&&(Up=`${Zp}="${og}"`),ap.push(`<mark ${Up}>${Rp}</mark>`)}ap.push(ip.innerHTML.slice(Gp.index+Gp[0].length,((zp=Op[bp+1])==null?void 0:zp.index)||ip.innerHTML.length))}}),ip.innerHTML=ap.join("")}),Array.from(yp==null?void 0:yp.querySelectorAll("param")).filter(ip=>Array.from(ip.attributes).filter(ap=>ap.name.indexOf("ve-")===0).length===0).forEach(ip=>{let ap=ip.previousElementSibling;ip.classList.forEach(bp=>ap==null?void 0:ap.classList.add(bp));let Op=Array.from(ip.attributes).find(bp=>bp.name==="id"),Gp=Array.from(ip.attributes).find(bp=>bp.name==="style");(Op||Gp)&&(Op&&(ap==null||ap.setAttribute("id",Op.value)),Gp&&(ap==null||ap.setAttribute("style",Gp.value)),ip.remove())}),Array.from((yp==null?void 0:yp.children)||[]).forEach(ip=>{var ap;if(ip.tagName[0]==="H"&&yf(ip.tagName.slice(1))){let Op=ip,Gp=parseInt(Op.tagName.slice(1));Cp&&Array.from(Cp.children).filter(Rp=>!/^H\d/.test(Rp.tagName)).filter(Rp=>!/PARAM/.test(Rp.tagName)).filter(Rp=>!/STYLE/.test(Rp.tagName)).filter(Rp=>!/^MDP-/.test(Rp.tagName)).forEach((Rp,Up)=>{let Zp=`${Cp.getAttribute("data-id")||0}.${Up+1}`;Rp.setAttribute("data-id",Zp),Rp.id=Zp,Rp.classList.add("segment")}),Cp=document.createElement("section"),Cp.classList.add(`section${Gp}`),Array.from(Op.classList).forEach(Rp=>Cp.classList.add(Rp)),Op.className="",Op.id&&(Cp.id=Op.id,Op.removeAttribute("id")),Cp.innerHTML+=Op.outerHTML;let bp=[];for(let Rp=1;Rp<Gp;Rp++)bp=[...bp,...Ep.querySelectorAll(`H${Rp}`)];let zp=Gp===1||bp.length===0?Ep:(ap=bp.pop())==null?void 0:ap.parentElement;zp==null||zp.appendChild(Cp),Cp.setAttribute("data-id",bf(Cp))}else{if(ip.tagName!=="PARAM"){let Op=`${Cp.getAttribute("data-id")||0}.${Cp.children.length}`;ip.setAttribute("data-id",Op),ip.id=Op,ip.classList.add("segment")}ip!==$p&&(Cp.innerHTML+=ip.outerHTML)}}),Array.from(Ep==null?void 0:Ep.querySelectorAll("h1, h2, h3, h4, h5, h6")).filter(ip=>!ip.innerHTML.replace("&nbsp;","").trim()).forEach(ip=>{ip.remove()}),Array.from(Ep==null?void 0:Ep.querySelectorAll("p")).forEach(ip=>{var Gp;let ap=((Gp=ip.textContent)==null?void 0:Gp.split(`
`).map(bp=>bp.trim()))||[],Op=ip.querySelector("code");Op&&(ap=ap.slice(0,-1)),ap.length>1&&Sf(ap[0])&&(ip.setAttribute("data-head",ap[0]),ap.length>2&&ip.setAttribute("data-entities",ap[2]),ap.length>3&&ip.setAttribute("data-related",ap[3]),ip.innerHTML=ap[1],Op&&ip.appendChild(Op))}),Array.from(Ep==null?void 0:Ep.querySelectorAll("p")).filter(ip=>{var ap;return/^{.*}$/.test(((ap=ip.textContent)==null?void 0:ap.trim())||"")}).forEach(ip=>{var Gp;let ap=ip.previousElementSibling;for(;(ap==null?void 0:ap.tagName)!=="P";)ap=ap==null?void 0:ap.previousElementSibling;let Op=Af((Gp=ip.textContent)==null?void 0:Gp.trim().slice(1,-1));if(Op.id&&(ap.id=Op.id),Op.class&&Op.class.split(" ").forEach(bp=>ap.classList.add(bp)),Op.style&&ap.setAttribute("style",Object.entries(Op.style).map(([bp,zp])=>`${bp}:${zp}`).join(";")),Op.entities&&ap.setAttribute("data-entities",Op.entities.join(" ")),Op.kwargs)for(const[bp,zp]of Object.entries(Op.kwargs))ap.setAttribute(bp,zp===!0?"":zp);ip.remove()}),Array.from(Ep==null?void 0:Ep.querySelectorAll("code")).forEach(ip=>Df(Ep,ip)),Ep.querySelectorAll("section").forEach(ip=>{if(ip.classList.contains("cards")&&!ip.classList.contains("wrapper")){ip.classList.remove("cards");let ap=document.createElement("section");ap.className="cards wrapper",Array.from(ip.children).slice(1).forEach(Op=>{var Rp,Up;ap.appendChild(Op),Op.classList.add("card");let Gp=Op.querySelector("h1, h2, h3, h4, h5, h6");Gp&&Gp.remove();let bp=Op.querySelector("p > img");bp&&((Rp=bp.parentElement)==null||Rp.replaceWith(bp));let zp=Op.querySelector("p > a");zp&&((Up=zp.parentElement)==null||Up.replaceWith(zp)),Op.querySelectorAll("p").forEach(Zp=>{++kp;let og=document.createElement("div");og.className="read-more";let Ap=document.createElement("input");Ap.setAttribute("type","checkbox"),Ap.id=`read-more-${kp}`,og.appendChild(Ap);let Ip=document.createElement("p");Ip.innerHTML=Zp.innerHTML,og.appendChild(Ip);let jp=document.createElement("label");jp.setAttribute("for",`read-more-${kp}`),jp.setAttribute("role","button"),jp.innerHTML="More",og.appendChild(jp),Zp.replaceWith(og)})}),ip.appendChild(ap)}if(ip.classList.contains("tabs")){let ap=document.createElement("sl-tab-group");Array.from(ip.classList).forEach(Op=>ap.classList.add(Op)),Array.from(ip.attributes).forEach(Op=>ap.setAttribute(Op.name,Op.value)),Array.from(ip.querySelectorAll(":scope > section")).forEach((Op,Gp)=>{var zp;let bp=document.createElement("sl-tab");bp.setAttribute("slot","nav"),bp.setAttribute("panel",`tab${Gp+1}`),bp.innerHTML=((zp=Op.querySelector("h1, h2, h3, h4, h5, h6"))==null?void 0:zp.innerHTML)||"",ap.appendChild(bp)}),Array.from(ip.querySelectorAll(":scope > section")).forEach((Op,Gp)=>{let bp=document.createElement("sl-tab-panel");bp.setAttribute("name",`tab${Gp+1}`),bp.innerHTML=Op.innerHTML||"",ap.appendChild(bp)}),ip.replaceWith(ap)}if((ip.classList.contains("columns")||ip.classList.contains("mcol"))&&!ip.classList.contains("wrapper")){let ap=document.createElement("section");ap.className="columns wrapper",ip.classList.remove("columns"),ip.classList.remove("mcol"),Array.from(ip.children).filter(Op=>Op.tagName==="SECTION").forEach((Op,Gp)=>{ap.appendChild(Op),Op.classList.add(`col-${Gp+1}`)}),ip.appendChild(ap)}}),Array.from(Ep.querySelectorAll("a")).filter(ip=>ip.href.indexOf("mailto:")<0).forEach(ip=>{var zp,Rp;let ap=new URL(ip.href),Op=ap.pathname.split("/").filter(Up=>Up);if(Op.length===0)return;let Gp=/^Q\d+$/.test(Op[Op.length-1])?Op[Op.length-1]:null,bp=Op.find(Up=>Up[0]==="~");if(Gp||bp){let Up=document.createElement("mdp-entity-infobox");if(Up.innerHTML=ip.innerHTML,Gp)Up.setAttribute("qid",Gp);else{let Zp=(zp=q.config)!=null&&zp.baseurl&&ap.pathname.indexOf((Rp=q.config)==null?void 0:Rp.baseurl)===0?1:0;Up.setAttribute("file",Op.slice(Zp).map(og=>og.replace(/~/,"")).filter(og=>og).join("/"))}ip.replaceWith(Up)}});let Dp=document.createElement("article");Dp.className="";let Fp,Sp=Ep.querySelector("param[ve-config]");if(xo.value=!!Sp,xo.value){Dp.classList.add("j1"),Fp=document.createElement("mdp-header"),Fp.className="sticky",Dp.appendChild(Fp),Array.from((Sp==null?void 0:Sp.attributes)||[]).forEach(bp=>{bp.name==="banner"&&Fp.setAttribute("background",bp.value),bp.name==="title"&&Fp.setAttribute("title",bp.value),(bp.name==="subtitle"||bp.name==="author")&&Fp.setAttribute("subtitle",bp.value)}),Sp&&Sp.remove();let ip=Array.from(Ep.querySelectorAll("a > img")).find(bp=>bp.src.indexOf("ve-button")>-1);ip&&((Jf=(Nf=ip==null?void 0:ip.parentElement)==null?void 0:Nf.parentElement)==null||Jf.remove());let ap=document.createElement("main");ap.className="page-content markdown-body";let Op=document.createElement("div");Op.className="content",Op.innerHTML=Ep.innerHTML;let Gp=document.createElement("div");Gp.className="viewers sticky",ap.appendChild(Op),ap.appendChild(Gp),Dp.appendChild(ap)}else Fp=Ep.querySelector("mdp-header"),Fp&&Dp.appendChild(Fp),Dp.appendChild(Ep);let up=Ep.querySelector("mdp-footer, ve-footer");return up&&(Array.from(up.querySelectorAll("li")).filter(ip=>{var ap;return/^\s*{.*}$/.test(((ap=ip.textContent)==null?void 0:ap.trim())||"")}).forEach(ip=>{var Op;let ap=Af((Op=ip.textContent)==null?void 0:Op.trim().slice(1,-1));ap.id&&(ip.id=ap.id),ap.class&&ap.class.split(" ").forEach(Gp=>ip.classList.add(Gp)),ap.style&&ip.setAttribute("style",Object.entries(ap.style).map(([Gp,bp])=>`${Gp}:${bp}`).join(";")),ip.textContent=""}),Dp.appendChild(up)),Dp.querySelectorAll("section p").forEach(ip=>{let ap=Array.from(ip.querySelectorAll("param[eid]")).map(Gp=>{let bp=Gp.getAttribute("eid"),zp=Gp.getAttribute("aliases");return zp&&(q.customEntityAliases[bp||""]=zp.split("|").map(Rp=>Rp.trim())),bp}),Op=ip.parentElement;for(;Op&&Op.tagName!=="ARTICLE";)ap=[...ap,...Array.from(Op.querySelectorAll(":scope > param[eid]")).map(Gp=>{let bp=Gp.getAttribute("eid"),zp=Gp.getAttribute("aliases");return zp&&(q.customEntityAliases[bp||""]=zp.split("|").map(Rp=>Rp.trim())),bp})],Op=Op.parentElement;ip.setAttribute("data-entities",ap.join(" "))}),Array.from(Dp.querySelectorAll("param")).filter(ip=>!ip.getAttributeNames().find(ap=>ap.indexOf("ve-")===0&&ap!=="ve-entity")).forEach(ip=>ip.remove()),xo.value&&Array.from(Dp.querySelectorAll("[data-id]")).forEach(ip=>{if(ip.tagName==="SECTION")return;let ap=ip.getAttribute("data-id")||"",Op=document.createElement("div");Op.setAttribute("data-id",ap),Op.id=ap,Op.className=ip.className,ip.removeAttribute("id"),ip.removeAttribute("data-id"),ip.className="",Op.appendChild(ip.cloneNode(!0));let Gp=document.createElement("mdp-j1-viewers");Gp.setAttribute("entities",ip.getAttribute("data-entities")||""),Gp.dataset.id=ap,Op.appendChild(Gp);function bp(){let Rp=Fp.getBoundingClientRect().top,Up=Fp.getBoundingClientRect().height,Zp=Rp+Up;Gp.style.top=`${Zp}px`,Gp.style.height=`calc(100dvh - ${Zp+2}px)`}for(;ip.nextSibling;){let Rp=ip.nextSibling;if(Rp.nodeName!=="PARAM")break;Gp.appendChild(Rp)}let zp=ip.parentElement;for(;zp&&zp.tagName!=="ARTICLE";)zp.querySelectorAll(":scope > param").forEach(Rp=>Gp.appendChild(Rp.cloneNode(!0))),zp=zp.parentElement;xf()||(document.addEventListener("scroll",()=>bp()),setTimeout(()=>bp(),0)),ip.replaceWith(Op)}),Dp.innerHTML}function $f(Pp){function yp(Cp){let $p=Cp.getBoundingClientRect();return Cp.tagName==="MDP-HEADER"||Cp.tagName==="MDP-BREADCRUMBS"||$p.top>=0&&$p.top<=q.innerHeight}let Ep=Array.from(Pp.querySelectorAll(".sticky"))||[].filter(Cp=>yp(Cp)).sort((Cp,$p)=>{let kp=Cp.getBoundingClientRect().top,Dp=$p.getBoundingClientRect().top;return kp<Dp?-1:1});if(Ep.length!==1){if(Ep.length>1){Ep[0].style.zIndex=`${Ep.length}`;for(let Cp=1;Cp<Ep.length;Cp++){let $p=Ep[Cp].getBoundingClientRect(),kp=$p.x,Dp=$p.x+$p.width;for(let Fp=Cp-1;Fp>=0;--Fp){let Sp=Ep[Fp],up=Sp.getBoundingClientRect(),Nf=up.x,Jf=up.x+up.width;if(Nf<=Dp&&Jf>=kp){let ip=parseInt(Sp.style.top.replace(/px/,""))||0;Ep[Cp].style&&(Ep[Cp].style.top=`${Math.floor(ip+up.height)}px`);break}}}}}}let Ff,Xf;function mp(Pp,yp=!1){var kp;let Ep=((kp=Array.from(Pp.querySelectorAll("MDP-HEADER")).map(Dp=>(parseInt(Dp.style.top.replace(/px/,""))||0)+Dp.getBoundingClientRect().height))==null?void 0:kp[0])||0;const Cp={},$p=new IntersectionObserver((Dp,Fp)=>{var up,Nf,Jf;for(const ip of Dp){let ap=ip.target,Op=ap.id||((up=ap.parentElement)==null?void 0:up.id)||"",Gp=ip.intersectionRatio;Gp>0?Cp[Op]={para:ap,intersectionRatio:Gp}:delete Cp[Op]}let Sp=Object.values(Cp).sort((ip,ap)=>ap.intersectionRatio-ip.intersectionRatio||ip.para.getBoundingClientRect().top-ap.para.getBoundingClientRect().top);if(yp)Xf=(Nf=Sp[0])==null?void 0:Nf.para;else{let ip=Sp.find(ap=>ap.para.classList.contains("active"));ip&&(Xf=ip.para)}if(Xf!==Ff){if(Ff=Xf,yp){if(Pp.querySelectorAll("p.active").forEach(ap=>ap.classList.remove("active")),Xf==null||Xf.classList.add("active"),Xf.getAttribute("data-entities")&&!Xf.getAttribute("data-entities-tagged")){let ap=((Jf=Xf.getAttribute("data-entities"))==null?void 0:Jf.split(" "))||[];ap.length&&Np(ap).then(Op=>{let Gp=Xf.innerHTML;Object.values(Op).forEach(bp=>{let zp=bp.aliases?[bp.label,...bp.aliases]:[bp.label];for(let Rp=0;Rp<zp.length;Rp++){let Up=zp[Rp],Zp=Gp.match(new RegExp(Up,"i"));if(Zp){let og=Zp.index,Ap=Zp[0];Gp=Gp.slice(0,og)+`<mdp-entity-infobox qid="${bp.id}">${Ap}</mdp-entity-infobox>`+Gp.slice(og+Ap.length),Xf.innerHTML=Gp;break}}})}),Xf.setAttribute("data-entities-tagged","")}let ip=Xf==null?void 0:Xf.nextElementSibling;if(ip){let ap=Pp.querySelector(".viewers");ap&&(ap.innerHTML=ip==null?void 0:ip.outerHTML)}}$f(Pp)}},{root:null,threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],rootMargin:`${Ep?-Ep:0}px 0px 0px 0px`});Pp.querySelectorAll("p").forEach(Dp=>$p.observe(Dp))}function fp(Pp,yp){Pp=(Array.isArray(Pp)?Pp[0]:Pp).replace(/Special:FilePath\//,"File:").split("File:").pop(),Pp=decodeURIComponent(Pp).replace(/ /g,"_");const Ep=df(Pp),Cp=Pp.split(".").pop();let $p=`https://upload.wikimedia.org/wikipedia/commons${yp?"/thumb":""}`;return $p+=`/${Ep.slice(0,1)}/${Ep.slice(0,2)}/${Pp}`,yp&&($p+=`/${yp}px-${Pp}`,Cp==="svg"?$p+=".png":(Cp==="tif"||Cp==="tiff")&&($p+=".jpg")),$p}function Mp(Pp){let yp=[];for(let Ep=0;Ep<Pp.length;Ep+=3)yp.push(Pp.slice(Ep,Ep+3));return`https://data.whosonfirst.org/${yp.join("/")}/${Pp}.geojson`}q.entityData={},q.pendingEntityData=new Set,q.customEntityAliases={};async function Np(Pp,yp="en"){yp=yp||"en";let Ep=new Set(Pp.filter($p=>q.entityData[$p]));new Set(Pp.filter($p=>q.pendingEntityData.has($p)));let Cp=Pp.filter($p=>!Ep.has($p));if(Cp.length>0){Array.from(Cp).forEach(Fp=>q.pendingEntityData.add(Fp));let kp=`
      SELECT ?item ?label ?description ?alias ?image ?logoImage ?coords ?pageBanner ?whosOnFirst ?wikipedia WHERE {
        VALUES (?item) { ${Cp.map(Fp=>`(<http://www.wikidata.org/entity/${Fp}>)`).join(" ")} }
        ?item rdfs:label ?label . 
        FILTER (LANG(?label) = "${yp}" || LANG(?label) = "en")
        OPTIONAL { ?item schema:description ?description . FILTER (LANG(?description) = "${yp}" || LANG(?description) = "en")}
        OPTIONAL { ?item skos:altLabel ?alias . FILTER (LANG(?alias) = "${yp}" || LANG(?alias) = "en")}
        OPTIONAL { ?item wdt:P625 ?coords . }
        OPTIONAL { ?item wdt:P18 ?image . }
        OPTIONAL { ?item wdt:P154 ?logoImage . }
        OPTIONAL { ?item wdt:P948 ?pageBanner . }
        OPTIONAL { ?item wdt:P6766 ?whosOnFirst . }
        OPTIONAL { ?wikipedia schema:about ?item; schema:isPartOf <https://${yp}.wikipedia.org/> . }
    }`,Dp=await fetch("https://query.wikidata.org/sparql",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/sparql-results+json"},body:`query=${encodeURIComponent(kp)}`});if(Dp.ok)return(await Dp.json()).results.bindings.forEach(Sp=>{let up=Sp.item.value.split("/").pop(),Nf=q.entityData[up];Nf?Sp.alias&&Nf.aliases.push(Sp.alias.value):(Nf={id:up,label:Sp.label.value},Sp.description&&(Nf.description=Sp.description.value),Sp.alias&&(Nf.aliases=[Sp.alias.value],q.customEntityAliases[up]&&(Nf.aliases=[...q.customEntityAliases[up],...Nf.aliases])),Sp.coords&&(Nf.coords=Sp.coords.value.slice(6,-1).split(" ").reverse().join(",")),Sp.wikipedia&&(Nf.wikipedia=Sp.wikipedia.value),Sp.pageBanner&&(Nf.pageBanner=Sp.pageBanner.value),Sp.image&&(Nf.image=Sp.image.value,Nf.thumbnail=fp(Sp.image.value,300)),Sp.logoImage&&(Nf.logoImage=Sp.logoImage.value,Nf.thumbnail||(Nf.thumbnail=fp(Sp.logoImage.value,300))),Sp.whosOnFirst&&(Nf.geojson=Mp(Sp.whosOnFirst.value)),q.entityData[up]=Nf)}),Array.from(Cp).forEach(Sp=>q.pendingEntityData.delete(Sp)),Object.fromEntries(Pp.filter(Sp=>q.entityData[Sp]).map(Sp=>[Sp,q.entityData[Sp]]))}return Object.fromEntries(Pp.filter($p=>q.entityData[$p]).map($p=>[$p,q.entityData[$p]]))}return(Pp,yp)=>(openBlock(),createElementBlock("article",{ref_key:"article",ref:wo,innerHTML:po.value,class:normalizeClass({j1:xo.value})},null,10,_hoisted_1$p))}}),_style_0$p=`*{box-sizing:border-box}:host{display:block;width:100%}.markdown-body{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;margin:0;color:#1f2328;background-color:#fff;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Noto Sans,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji";font-size:16px;line-height:1.5;word-wrap:break-word}.markdown-body .octicon{display:inline-block;fill:currentColor;vertical-align:text-bottom}.markdown-body h1:hover .anchor .octicon-link:before,.markdown-body h2:hover .anchor .octicon-link:before,.markdown-body h3:hover .anchor .octicon-link:before,.markdown-body h4:hover .anchor .octicon-link:before,.markdown-body h5:hover .anchor .octicon-link:before,.markdown-body h6:hover .anchor .octicon-link:before{width:16px;height:16px;content:" ";display:inline-block;background-color:currentColor;-webkit-mask-image:url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>");mask-image:url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>")}.markdown-body details,.markdown-body figcaption,.markdown-body figure{display:block}.markdown-body summary{display:list-item}.markdown-body [hidden]{display:none!important}.markdown-body a{background-color:transparent;color:#0969da;text-decoration:none}.markdown-body abbr[title]{border-bottom:none;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}.markdown-body b,.markdown-body strong{font-weight:600}.markdown-body dfn{font-style:italic}.markdown-body h1{margin:.67em 0;font-weight:600;padding-bottom:.3em;font-size:2em;border-bottom:1px solid hsla(210,18%,87%,1)}.markdown-body mark{background-color:#fff8c5;color:#1f2328}.markdown-body small{font-size:90%}.markdown-body sub,.markdown-body sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.markdown-body sub{bottom:-.25em}.markdown-body sup{top:-.5em}.markdown-body img{border-style:none;max-width:100%;box-sizing:content-box;background-color:#fff}.markdown-body code,.markdown-body kbd,.markdown-body pre,.markdown-body samp{font-family:monospace;font-size:1em}.markdown-body figure{margin:1em 40px}.markdown-body hr{box-sizing:content-box;overflow:hidden;background:transparent;border-bottom:1px solid hsla(210,18%,87%,1);height:.25em;padding:0;margin:24px 0;background-color:#d0d7de;border:0}.markdown-body input{font:inherit;margin:0;overflow:visible;font-family:inherit;font-size:inherit;line-height:inherit}.markdown-body [type=button],.markdown-body [type=reset],.markdown-body [type=submit]{-webkit-appearance:button;-moz-appearance:button;appearance:button}.markdown-body [type=checkbox],.markdown-body [type=radio]{box-sizing:border-box;padding:0}.markdown-body [type=number]::-webkit-inner-spin-button,.markdown-body [type=number]::-webkit-outer-spin-button{height:auto}.markdown-body [type=search]::-webkit-search-cancel-button,.markdown-body [type=search]::-webkit-search-decoration{-webkit-appearance:none;-moz-appearance:none;appearance:none}.markdown-body ::-webkit-input-placeholder{color:inherit;opacity:.54}.markdown-body ::-webkit-file-upload-button{-webkit-appearance:button;-moz-appearance:button;appearance:button;font:inherit}.markdown-body a:hover{text-decoration:underline}.markdown-body ::-moz-placeholder{color:#6e7781;opacity:1}.markdown-body ::placeholder{color:#6e7781;opacity:1}.markdown-body hr:before{display:table;content:""}.markdown-body hr:after{display:table;clear:both;content:""}.markdown-body table{border-spacing:0;border-collapse:collapse;display:block;width:-moz-max-content;width:max-content;max-width:100%;overflow:auto}.markdown-body td,.markdown-body th{padding:0}.markdown-body details summary{cursor:pointer}.markdown-body details:not([open])>*:not(summary){display:none!important}.markdown-body a:focus,.markdown-body [role=button]:focus,.markdown-body input[type=radio]:focus,.markdown-body input[type=checkbox]:focus{outline:2px solid #0969da;outline-offset:-2px;box-shadow:none}.markdown-body a:focus:not(:focus-visible),.markdown-body [role=button]:focus:not(:focus-visible),.markdown-body input[type=radio]:focus:not(:focus-visible),.markdown-body input[type=checkbox]:focus:not(:focus-visible){outline:solid 1px transparent}.markdown-body a:focus-visible,.markdown-body [role=button]:focus-visible,.markdown-body input[type=radio]:focus-visible,.markdown-body input[type=checkbox]:focus-visible{outline:2px solid #0969da;outline-offset:-2px;box-shadow:none}.markdown-body a:not([class]):focus,.markdown-body a:not([class]):focus-visible,.markdown-body input[type=radio]:focus,.markdown-body input[type=radio]:focus-visible,.markdown-body input[type=checkbox]:focus,.markdown-body input[type=checkbox]:focus-visible{outline-offset:0}.markdown-body kbd{display:inline-block;padding:3px 5px;font:11px ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;line-height:10px;color:#1f2328;vertical-align:middle;background-color:#f6f8fa;border:solid 1px rgba(175,184,193,.2);border-bottom-color:#afb8c133;border-radius:6px;box-shadow:inset 0 -1px #afb8c133}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}.markdown-body h2{font-weight:600;padding-bottom:.3em;font-size:1.5em;border-bottom:1px solid hsla(210,18%,87%,1)}.markdown-body h3{font-weight:600;font-size:1.25em}.markdown-body h4{font-weight:600;font-size:1em}.markdown-body h5{font-weight:600;font-size:.875em}.markdown-body h6{font-weight:600;font-size:.85em;color:#656d76}.markdown-body p{margin-top:0;margin-bottom:10px}.markdown-body blockquote{margin:0;padding:0 1em;color:#656d76;border-left:.25em solid #d0d7de}.markdown-body ul,.markdown-body ol{margin-top:0;margin-bottom:0;padding-left:2em}.markdown-body ol ol,.markdown-body ul ol{list-style-type:lower-roman}.markdown-body ul ul ol,.markdown-body ul ol ol,.markdown-body ol ul ol,.markdown-body ol ol ol{list-style-type:lower-alpha}.markdown-body dd{margin-left:0}.markdown-body tt,.markdown-body code,.markdown-body samp{font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;font-size:12px}.markdown-body pre{margin-top:0;margin-bottom:0;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;font-size:12px;word-wrap:normal}.markdown-body .octicon{display:inline-block;overflow:visible!important;vertical-align:text-bottom;fill:currentColor}.markdown-body input::-webkit-outer-spin-button,.markdown-body input::-webkit-inner-spin-button{margin:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.markdown-body .mr-2{margin-right:8px!important}.markdown-body:before{display:table;content:""}.markdown-body:after{display:table;clear:both;content:""}.markdown-body>*:first-child{margin-top:0!important}.markdown-body>*:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body .absent{color:#d1242f}.markdown-body .anchor{float:left;padding-right:4px;margin-left:-20px;line-height:1}.markdown-body .anchor:focus{outline:none}.markdown-body p,.markdown-body blockquote,.markdown-body ul,.markdown-body ol,.markdown-body dl,.markdown-body table,.markdown-body pre,.markdown-body details{margin-top:0;margin-bottom:16px}.markdown-body blockquote>:first-child{margin-top:0}.markdown-body blockquote>:last-child{margin-bottom:0}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{color:#1f2328;vertical-align:middle;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{visibility:visible}.markdown-body h1 tt,.markdown-body h1 code,.markdown-body h2 tt,.markdown-body h2 code,.markdown-body h3 tt,.markdown-body h3 code,.markdown-body h4 tt,.markdown-body h4 code,.markdown-body h5 tt,.markdown-body h5 code,.markdown-body h6 tt,.markdown-body h6 code{padding:0 .2em;font-size:inherit}.markdown-body summary h1,.markdown-body summary h2,.markdown-body summary h3,.markdown-body summary h4,.markdown-body summary h5,.markdown-body summary h6{display:inline-block}.markdown-body summary h1 .anchor,.markdown-body summary h2 .anchor,.markdown-body summary h3 .anchor,.markdown-body summary h4 .anchor,.markdown-body summary h5 .anchor,.markdown-body summary h6 .anchor{margin-left:-40px}.markdown-body summary h1,.markdown-body summary h2{padding-bottom:0;border-bottom:0}.markdown-body ul.no-list,.markdown-body ol.no-list{padding:0;list-style-type:none}.markdown-body ol[type="a s"]{list-style-type:lower-alpha}.markdown-body ol[type="A s"]{list-style-type:upper-alpha}.markdown-body ol[type="i s"]{list-style-type:lower-roman}.markdown-body ol[type="I s"]{list-style-type:upper-roman}.markdown-body ol[type="1"]{list-style-type:decimal}.markdown-body div>ol:not([type]){list-style-type:decimal}.markdown-body ul ul,.markdown-body ul ol,.markdown-body ol ol,.markdown-body ol ul{margin-top:0;margin-bottom:0}.markdown-body li>p{margin-top:16px}.markdown-body li+li{margin-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:600}.markdown-body dl dd{padding:0 16px;margin-bottom:16px}.markdown-body table th{font-weight:600}.markdown-body table th,.markdown-body table td{padding:6px 13px;border:1px solid #d0d7de}.markdown-body table td>:last-child{margin-bottom:0}.markdown-body table tr{background-color:#fff;border-top:1px solid hsla(210,18%,87%,1)}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}.markdown-body table img{background-color:transparent}.markdown-body img[align=right]{padding-left:20px}.markdown-body img[align=left]{padding-right:20px}.markdown-body .emoji{max-width:none;vertical-align:text-top;background-color:transparent}.markdown-body span.frame{display:block;overflow:hidden}.markdown-body span.frame>span{display:block;float:left;width:auto;padding:7px;margin:13px 0 0;overflow:hidden;border:1px solid #d0d7de}.markdown-body span.frame span img{display:block;float:left}.markdown-body span.frame span span{display:block;padding:5px 0 0;clear:both;color:#1f2328}.markdown-body span.align-center{display:block;overflow:hidden;clear:both}.markdown-body span.align-center>span{display:block;margin:13px auto 0;overflow:hidden;text-align:center}.markdown-body span.align-center span img{margin:0 auto;text-align:center}.markdown-body span.align-right{display:block;overflow:hidden;clear:both}.markdown-body span.align-right>span{display:block;margin:13px 0 0;overflow:hidden;text-align:right}.markdown-body span.align-right span img{margin:0;text-align:right}.markdown-body span.float-left{display:block;float:left;margin-right:13px;overflow:hidden}.markdown-body span.float-left span{margin:13px 0 0}.markdown-body span.float-right{display:block;float:right;margin-left:13px;overflow:hidden}.markdown-body span.float-right>span{display:block;margin:13px auto 0;overflow:hidden;text-align:right}.markdown-body code,.markdown-body tt{padding:.2em .4em;margin:0;font-size:85%;white-space:break-spaces;background-color:#afb8c133;border-radius:6px}.markdown-body code br,.markdown-body tt br{display:none}.markdown-body del code{text-decoration:inherit}.markdown-body samp{font-size:85%}.markdown-body pre code{font-size:100%}.markdown-body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:transparent;border:0}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;color:#1f2328;background-color:#f6f8fa;border-radius:6px}.markdown-body pre code,.markdown-body pre tt{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}.markdown-body .csv-data td,.markdown-body .csv-data th{padding:5px;overflow:hidden;font-size:12px;line-height:1;text-align:left;white-space:nowrap}.markdown-body .csv-data .blob-num{padding:10px 8px 9px;text-align:right;background:#ffffff;border:0}.markdown-body .csv-data tr{border-top:0}.markdown-body .csv-data th{font-weight:600;background:#f6f8fa;border-top:0}.markdown-body [data-footnote-ref]:before{content:"["}.markdown-body [data-footnote-ref]:after{content:"]"}.markdown-body .footnotes{font-size:12px;color:#656d76;border-top:1px solid #d0d7de}.markdown-body .footnotes ol{padding-left:16px}.markdown-body .footnotes ol ul{display:inline-block;padding-left:16px;margin-top:16px}.markdown-body .footnotes li{position:relative}.markdown-body .footnotes li:target:before{position:absolute;top:-8px;right:-8px;bottom:-8px;left:-24px;pointer-events:none;content:"";border:2px solid #0969da;border-radius:6px}.markdown-body .footnotes li:target{color:#1f2328}.markdown-body .footnotes .data-footnote-backref g-emoji{font-family:monospace}.markdown-body .pl-c{color:#57606a}.markdown-body .pl-c1,.markdown-body .pl-s .pl-v{color:#0550ae}.markdown-body .pl-e,.markdown-body .pl-en{color:#6639ba}.markdown-body .pl-smi,.markdown-body .pl-s .pl-s1{color:#24292f}.markdown-body .pl-ent{color:#116329}.markdown-body .pl-k{color:#cf222e}.markdown-body .pl-s,.markdown-body .pl-pds,.markdown-body .pl-s .pl-pse .pl-s1,.markdown-body .pl-sr,.markdown-body .pl-sr .pl-cce,.markdown-body .pl-sr .pl-sre,.markdown-body .pl-sr .pl-sra{color:#0a3069}.markdown-body .pl-v,.markdown-body .pl-smw{color:#953800}.markdown-body .pl-bu{color:#82071e}.markdown-body .pl-ii{color:#f6f8fa;background-color:#82071e}.markdown-body .pl-c2{color:#f6f8fa;background-color:#cf222e}.markdown-body .pl-sr .pl-cce{font-weight:700;color:#116329}.markdown-body .pl-ml{color:#3b2300}.markdown-body .pl-mh,.markdown-body .pl-mh .pl-en,.markdown-body .pl-ms{font-weight:700;color:#0550ae}.markdown-body .pl-mi{font-style:italic;color:#24292f}.markdown-body .pl-mb{font-weight:700;color:#24292f}.markdown-body .pl-md{color:#82071e;background-color:#ffebe9}.markdown-body .pl-mi1{color:#116329;background-color:#dafbe1}.markdown-body .pl-mc{color:#953800;background-color:#ffd8b5}.markdown-body .pl-mi2{color:#eaeef2;background-color:#0550ae}.markdown-body .pl-mdr{font-weight:700;color:#8250df}.markdown-body .pl-ba{color:#57606a}.markdown-body .pl-sg{color:#8c959f}.markdown-body .pl-corl{text-decoration:underline;color:#0a3069}.markdown-body g-emoji{display:inline-block;min-width:1ch;font-family:"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;font-size:1em;font-style:normal!important;font-weight:400;line-height:1;vertical-align:-.075em}.markdown-body g-emoji img{width:1em;height:1em}.markdown-body .task-list-item{list-style-type:none}.markdown-body .task-list-item label{font-weight:400}.markdown-body .task-list-item.enabled label{cursor:pointer}.markdown-body .task-list-item+.task-list-item{margin-top:4px}.markdown-body .task-list-item .handle{display:none}.markdown-body .task-list-item-checkbox{margin:0 .2em .25em -1.4em;vertical-align:middle}.markdown-body .contains-task-list:dir(rtl) .task-list-item-checkbox{margin:0 -1.6em .25em .2em}.markdown-body .contains-task-list{position:relative}.markdown-body .contains-task-list:hover .task-list-item-convert-container,.markdown-body .contains-task-list:focus-within .task-list-item-convert-container{display:block;width:auto;height:24px;overflow:visible;clip:auto}.markdown-body ::-webkit-calendar-picker-indicator{filter:invert(50%)}.markdown-body .markdown-alert{padding:8px 16px;margin-bottom:16px;color:inherit;border-left:.25em solid #d0d7de}.markdown-body .markdown-alert>:first-child{margin-top:0}.markdown-body .markdown-alert>:last-child{margin-bottom:0}.markdown-body .markdown-alert .markdown-alert-title{display:flex;font-weight:500;align-items:center;line-height:1}.markdown-body .markdown-alert.markdown-alert-note{border-left-color:#0969da}.markdown-body .markdown-alert.markdown-alert-note .markdown-alert-title{color:#0969da}.markdown-body .markdown-alert.markdown-alert-important{border-left-color:#8250df}.markdown-body .markdown-alert.markdown-alert-important .markdown-alert-title{color:#8250df}.markdown-body .markdown-alert.markdown-alert-warning{border-left-color:#9a6700}.markdown-body .markdown-alert.markdown-alert-warning .markdown-alert-title{color:#9a6700}.markdown-body .markdown-alert.markdown-alert-tip{border-left-color:#1f883d}.markdown-body .markdown-alert.markdown-alert-tip .markdown-alert-title{color:#1a7f37}.markdown-body .markdown-alert.markdown-alert-caution{border-left-color:#cf222e}.markdown-body .markdown-alert.markdown-alert-caution .markdown-alert-title{color:#d1242f}*,*:before,*:after{box-sizing:border-box}*{margin:0}@keyframes fadeInAnimation{0%{opacity:0}to{opacity:1}}article{font-family:Roboto,sans-serif;animation:fadeInAnimation ease .3s;animation-iteration-count:1;animation-fill-mode:forwards}.page-content{width:min(1200px,100% - 4rem);margin-inline:auto;background-color:#fff}.page-content>*+*{margin-top:1em}.page-content h1,.page-content h2{border-bottom:none;padding-bottom:0}.page-content li>p{margin:0}@media only screen and (max-width: 768px){.page-content{font-size:1em;width:calc(100% - 2em)}mdp-header{width:100%}}section{position:relative;clear:both;margin-block-start:0;margin-block-end:0;background-color:inherit}.flow-root section{display:flow-root}.flow-root section h1,.flow-root section h2,.flow-root section h3,.flow-root section h4,.flow-root section h5,.flow-root section h6{margin-top:12px;margin-bottom:12px}mdp-footer ul,mdp-header ul,mdp-image ul,mdp-map ul,mdp-menu ul,mdp-navbar ul{display:none}mdp-image,mdp-map{margin-bottom:2em}mdp-image img{max-width:100%;height:auto}mdp-entity-infobox{position:relative;border-bottom:1px solid #ccc}mdp-header{margin-bottom:1em}.columns{display:grid;gap:1em;grid-template-columns:repeat(auto-fit,minmax(275px,1fr))}.sticky{position:sticky;top:0;background-color:inherit;z-index:1}.hide{display:none}mdp-footer.sticky{bottom:0}@media only screen and (min-width: 768px){.left{float:left;padding-right:1em}.right{float:right;padding-left:1em}.left,.right{width:50%;margin-bottom:1em}}p audio{width:250px;height:24px;vertical-align:middle}.showactive .active{background-color:#fff;box-shadow:#00000026 1.95px 1.95px 2.6px}section#references{margin-top:2em}section#references h1{font-size:1.5em}section#references P{font-size:1em;margin-bottom:.7em}a.flyto,mark.flyto,a.play,mark.play,a.qid,mark.qid,a.zoom,mark.zoom,mdp-entity-infobox{cursor:pointer;background:unset;border-bottom:1px solid #ccc;color:#444}a.flyto:hover,mark.flyto:hover,a.play:hover,mark.play:hover,a.qid:hover,mark.qid:hover,a.zoom:hover mark.zoom:hover,mdp-entity-infobox:hover{border-bottom:2px solid #444;background:#eee}a.flyto:after,mark.flyto:after,a.play:after,mark.play:after,a.qid:after,mark.qid:after,a.zoom:after,mark.zoom:after,mdp-entity-infobox:after{font-size:50%;line-height:0;position:relative;vertical-align:baseline;top:-.5em;padding-left:2px;padding-right:4px}a.flyto:after,mark.flyto:after{content:"✈";font-size:120%;top:0}a.play:after,mark.play:after{content:"▶"}a.zoom:after,mark.zoom:after{content:"🔎"}p span.headline{font-weight:500}table[id]{display:none!important}.resume>section:first-of-type{display:grid;gap:1em;grid-template-columns:repeat(auto-fit,minmax(275px,1fr))}.resume>section:first-of-type>section:nth-of-type(2){display:flex;margin-left:auto;gap:1em}.resume>section:first-of-type>section:nth-of-type(2) li{list-style:none;display:flex;align-items:center;gap:.5em}.resume>section:first-of-type>section:nth-of-type(2) li img{height:24px;width:24px}.resume>section:first-of-type>section:nth-of-type(2)>p>img{max-width:120px;height:auto;border-radius:50%;box-shadow:#0000003d 0 3px 8px}@media print{mdp-footer{display:none}.pagebreak{-moz-column-break-before:always;break-before:always}.keep-together{-moz-column-break-inside:avoid;break-inside:avoid}.page-content{font-size:1rem;padding-bottom:4em!important}}.footnote,.footnotes{font-size:.8em;overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}article.j1{height:100%;display:grid;grid-template-columns:1fr;grid-template-rows:auto 1fr auto;grid-template-areas:"header" "main" "footer"}article.j1>*{width:100%}.j1 mdp-header{grid-area:header;position:sticky;top:-300px;z-index:10;margin-bottom:0}.j1 main{grid-area:main;display:grid;grid-template-columns:1fr 0;grid-template-areas:"content viewers";background-color:#f8f8f8!important;font-size:1.3em!important;line-height:1.6!important;padding:.5em}.j1 .content{grid-area:content}.j1 .viewers{grid-area:viewers;display:none}.j1 footer{grid-area:footer}.j1 .segment{display:flex;flex-direction:column;gap:.5em;margin:1em 0}.j1 .segment>mdp-j1-viewers{width:100%;align-self:center}.j1 .segment>p{margin:0;padding:0;border-radius:8px;border:1px solid #f8f8f8}.j1 .sticky{position:sticky;top:0;z-index:2}.j1 .footnote div,.j1 .footnotes div{white-space:unset}.j1 .footnote li>p,.j1 .footnotes li>p{margin:0;background-color:inherit;border-color:inherit;box-shadow:none}.j1 .content>section:first-of-type>h1,.j1 .content>section:first-of-type>h2,.j1 .content>section:first-of-type>h3{margin-top:0}@media (min-width: 800px){.j1 main{grid-template-columns:1fr 1fr;padding:1em}.j1 .content{padding-right:1em;margin-bottom:80dvh}.j1 p.active{background-color:#fff;box-shadow:0 0 3px 1px #00000040;border-color:#9e9e9e}.j1 .segment{margin:0}.j1 .segment>p{padding:.5em}.j1 .segment>mdp-j1-viewers{display:none}.j1 .viewers{grid-area:viewers;display:block;border:1px solid green;height:calc(100dvh - 100px);margin-top:0}}
`,_export_sfc=(F,W)=>{const q=F.__vccOpts||F;for(const[X,tt]of W)q[X]=tt;return q},Article=_export_sfc(_sfc_main$r,[["styles",[_style_0$p]]]);/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function isNothing$1(F){return typeof F>"u"||F===null}function isObject$2(F){return typeof F=="object"&&F!==null}function toArray$1(F){return Array.isArray(F)?F:isNothing$1(F)?[]:[F]}function extend$2(F,W){var q,X,tt,ot;if(W)for(ot=Object.keys(W),q=0,X=ot.length;q<X;q+=1)tt=ot[q],F[tt]=W[tt];return F}function repeat$1(F,W){var q="",X;for(X=0;X<W;X+=1)q+=F;return q}function isNegativeZero$1(F){return F===0&&Number.NEGATIVE_INFINITY===1/F}var isNothing_1$1=isNothing$1,isObject_1$1=isObject$2,toArray_1$1=toArray$1,repeat_1$1=repeat$1,isNegativeZero_1$1=isNegativeZero$1,extend_1$1=extend$2,common$3={isNothing:isNothing_1$1,isObject:isObject_1$1,toArray:toArray_1$1,repeat:repeat_1$1,isNegativeZero:isNegativeZero_1$1,extend:extend_1$1};function formatError$1(F,W){var q="",X=F.reason||"(unknown reason)";return F.mark?(F.mark.name&&(q+='in "'+F.mark.name+'" '),q+="("+(F.mark.line+1)+":"+(F.mark.column+1)+")",!W&&F.mark.snippet&&(q+=`

`+F.mark.snippet),X+" "+q):X}function YAMLException$1$1(F,W){Error.call(this),this.name="YAMLException",this.reason=F,this.mark=W,this.message=formatError$1(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}YAMLException$1$1.prototype=Object.create(Error.prototype);YAMLException$1$1.prototype.constructor=YAMLException$1$1;YAMLException$1$1.prototype.toString=function(W){return this.name+": "+formatError$1(this,W)};var exception$1=YAMLException$1$1;function getLine$1(F,W,q,X,tt){var ot="",at="",ut=Math.floor(tt/2)-1;return X-W>ut&&(ot=" ... ",W=X-ut+ot.length),q-X>ut&&(at=" ...",q=X+ut-at.length),{str:ot+F.slice(W,q).replace(/\t/g,"→")+at,pos:X-W+ot.length}}function padStart$1(F,W){return common$3.repeat(" ",W-F.length)+F}function makeSnippet$1(F,W){if(W=Object.create(W||null),!F.buffer)return null;W.maxLength||(W.maxLength=79),typeof W.indent!="number"&&(W.indent=1),typeof W.linesBefore!="number"&&(W.linesBefore=3),typeof W.linesAfter!="number"&&(W.linesAfter=2);for(var q=/\r?\n|\r|\0/g,X=[0],tt=[],ot,at=-1;ot=q.exec(F.buffer);)tt.push(ot.index),X.push(ot.index+ot[0].length),F.position<=ot.index&&at<0&&(at=X.length-2);at<0&&(at=X.length-1);var ut="",wt,uo,mo=Math.min(F.line+W.linesAfter,tt.length).toString().length,yo=W.maxLength-(W.indent+mo+3);for(wt=1;wt<=W.linesBefore&&!(at-wt<0);wt++)uo=getLine$1(F.buffer,X[at-wt],tt[at-wt],F.position-(X[at]-X[at-wt]),yo),ut=common$3.repeat(" ",W.indent)+padStart$1((F.line-wt+1).toString(),mo)+" | "+uo.str+`
`+ut;for(uo=getLine$1(F.buffer,X[at],tt[at],F.position,yo),ut+=common$3.repeat(" ",W.indent)+padStart$1((F.line+1).toString(),mo)+" | "+uo.str+`
`,ut+=common$3.repeat("-",W.indent+mo+3+uo.pos)+`^
`,wt=1;wt<=W.linesAfter&&!(at+wt>=tt.length);wt++)uo=getLine$1(F.buffer,X[at+wt],tt[at+wt],F.position-(X[at]-X[at+wt]),yo),ut+=common$3.repeat(" ",W.indent)+padStart$1((F.line+wt+1).toString(),mo)+" | "+uo.str+`
`;return ut.replace(/\n$/,"")}var snippet$1=makeSnippet$1,TYPE_CONSTRUCTOR_OPTIONS$1=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],YAML_NODE_KINDS$1=["scalar","sequence","mapping"];function compileStyleAliases$1(F){var W={};return F!==null&&Object.keys(F).forEach(function(q){F[q].forEach(function(X){W[String(X)]=q})}),W}function Type$1$1(F,W){if(W=W||{},Object.keys(W).forEach(function(q){if(TYPE_CONSTRUCTOR_OPTIONS$1.indexOf(q)===-1)throw new exception$1('Unknown option "'+q+'" is met in definition of "'+F+'" YAML type.')}),this.options=W,this.tag=F,this.kind=W.kind||null,this.resolve=W.resolve||function(){return!0},this.construct=W.construct||function(q){return q},this.instanceOf=W.instanceOf||null,this.predicate=W.predicate||null,this.represent=W.represent||null,this.representName=W.representName||null,this.defaultStyle=W.defaultStyle||null,this.multi=W.multi||!1,this.styleAliases=compileStyleAliases$1(W.styleAliases||null),YAML_NODE_KINDS$1.indexOf(this.kind)===-1)throw new exception$1('Unknown kind "'+this.kind+'" is specified for "'+F+'" YAML type.')}var type$1=Type$1$1;function compileList$1(F,W){var q=[];return F[W].forEach(function(X){var tt=q.length;q.forEach(function(ot,at){ot.tag===X.tag&&ot.kind===X.kind&&ot.multi===X.multi&&(tt=at)}),q[tt]=X}),q}function compileMap$1(){var F={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},W,q;function X(tt){tt.multi?(F.multi[tt.kind].push(tt),F.multi.fallback.push(tt)):F[tt.kind][tt.tag]=F.fallback[tt.tag]=tt}for(W=0,q=arguments.length;W<q;W+=1)arguments[W].forEach(X);return F}function Schema$1$1(F){return this.extend(F)}Schema$1$1.prototype.extend=function(W){var q=[],X=[];if(W instanceof type$1)X.push(W);else if(Array.isArray(W))X=X.concat(W);else if(W&&(Array.isArray(W.implicit)||Array.isArray(W.explicit)))W.implicit&&(q=q.concat(W.implicit)),W.explicit&&(X=X.concat(W.explicit));else throw new exception$1("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");q.forEach(function(ot){if(!(ot instanceof type$1))throw new exception$1("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(ot.loadKind&&ot.loadKind!=="scalar")throw new exception$1("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(ot.multi)throw new exception$1("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),X.forEach(function(ot){if(!(ot instanceof type$1))throw new exception$1("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var tt=Object.create(Schema$1$1.prototype);return tt.implicit=(this.implicit||[]).concat(q),tt.explicit=(this.explicit||[]).concat(X),tt.compiledImplicit=compileList$1(tt,"implicit"),tt.compiledExplicit=compileList$1(tt,"explicit"),tt.compiledTypeMap=compileMap$1(tt.compiledImplicit,tt.compiledExplicit),tt};var schema$1=Schema$1$1,str$1=new type$1("tag:yaml.org,2002:str",{kind:"scalar",construct:function(F){return F!==null?F:""}}),seq$1=new type$1("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(F){return F!==null?F:[]}}),map$1=new type$1("tag:yaml.org,2002:map",{kind:"mapping",construct:function(F){return F!==null?F:{}}}),failsafe$1=new schema$1({explicit:[str$1,seq$1,map$1]});function resolveYamlNull$1(F){if(F===null)return!0;var W=F.length;return W===1&&F==="~"||W===4&&(F==="null"||F==="Null"||F==="NULL")}function constructYamlNull$1(){return null}function isNull$1(F){return F===null}var _null$1=new type$1("tag:yaml.org,2002:null",{kind:"scalar",resolve:resolveYamlNull$1,construct:constructYamlNull$1,predicate:isNull$1,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function resolveYamlBoolean$1(F){if(F===null)return!1;var W=F.length;return W===4&&(F==="true"||F==="True"||F==="TRUE")||W===5&&(F==="false"||F==="False"||F==="FALSE")}function constructYamlBoolean$1(F){return F==="true"||F==="True"||F==="TRUE"}function isBoolean$1(F){return Object.prototype.toString.call(F)==="[object Boolean]"}var bool$1=new type$1("tag:yaml.org,2002:bool",{kind:"scalar",resolve:resolveYamlBoolean$1,construct:constructYamlBoolean$1,predicate:isBoolean$1,represent:{lowercase:function(F){return F?"true":"false"},uppercase:function(F){return F?"TRUE":"FALSE"},camelcase:function(F){return F?"True":"False"}},defaultStyle:"lowercase"});function isHexCode$1(F){return 48<=F&&F<=57||65<=F&&F<=70||97<=F&&F<=102}function isOctCode$1(F){return 48<=F&&F<=55}function isDecCode$1(F){return 48<=F&&F<=57}function resolveYamlInteger$1(F){if(F===null)return!1;var W=F.length,q=0,X=!1,tt;if(!W)return!1;if(tt=F[q],(tt==="-"||tt==="+")&&(tt=F[++q]),tt==="0"){if(q+1===W)return!0;if(tt=F[++q],tt==="b"){for(q++;q<W;q++)if(tt=F[q],tt!=="_"){if(tt!=="0"&&tt!=="1")return!1;X=!0}return X&&tt!=="_"}if(tt==="x"){for(q++;q<W;q++)if(tt=F[q],tt!=="_"){if(!isHexCode$1(F.charCodeAt(q)))return!1;X=!0}return X&&tt!=="_"}if(tt==="o"){for(q++;q<W;q++)if(tt=F[q],tt!=="_"){if(!isOctCode$1(F.charCodeAt(q)))return!1;X=!0}return X&&tt!=="_"}}if(tt==="_")return!1;for(;q<W;q++)if(tt=F[q],tt!=="_"){if(!isDecCode$1(F.charCodeAt(q)))return!1;X=!0}return!(!X||tt==="_")}function constructYamlInteger$1(F){var W=F,q=1,X;if(W.indexOf("_")!==-1&&(W=W.replace(/_/g,"")),X=W[0],(X==="-"||X==="+")&&(X==="-"&&(q=-1),W=W.slice(1),X=W[0]),W==="0")return 0;if(X==="0"){if(W[1]==="b")return q*parseInt(W.slice(2),2);if(W[1]==="x")return q*parseInt(W.slice(2),16);if(W[1]==="o")return q*parseInt(W.slice(2),8)}return q*parseInt(W,10)}function isInteger$1(F){return Object.prototype.toString.call(F)==="[object Number]"&&F%1===0&&!common$3.isNegativeZero(F)}var int$1=new type$1("tag:yaml.org,2002:int",{kind:"scalar",resolve:resolveYamlInteger$1,construct:constructYamlInteger$1,predicate:isInteger$1,represent:{binary:function(F){return F>=0?"0b"+F.toString(2):"-0b"+F.toString(2).slice(1)},octal:function(F){return F>=0?"0o"+F.toString(8):"-0o"+F.toString(8).slice(1)},decimal:function(F){return F.toString(10)},hexadecimal:function(F){return F>=0?"0x"+F.toString(16).toUpperCase():"-0x"+F.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),YAML_FLOAT_PATTERN$1=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function resolveYamlFloat$1(F){return!(F===null||!YAML_FLOAT_PATTERN$1.test(F)||F[F.length-1]==="_")}function constructYamlFloat$1(F){var W,q;return W=F.replace(/_/g,"").toLowerCase(),q=W[0]==="-"?-1:1,"+-".indexOf(W[0])>=0&&(W=W.slice(1)),W===".inf"?q===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:W===".nan"?NaN:q*parseFloat(W,10)}var SCIENTIFIC_WITHOUT_DOT$1=/^[-+]?[0-9]+e/;function representYamlFloat$1(F,W){var q;if(isNaN(F))switch(W){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===F)switch(W){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===F)switch(W){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(common$3.isNegativeZero(F))return"-0.0";return q=F.toString(10),SCIENTIFIC_WITHOUT_DOT$1.test(q)?q.replace("e",".e"):q}function isFloat$1(F){return Object.prototype.toString.call(F)==="[object Number]"&&(F%1!==0||common$3.isNegativeZero(F))}var float$1=new type$1("tag:yaml.org,2002:float",{kind:"scalar",resolve:resolveYamlFloat$1,construct:constructYamlFloat$1,predicate:isFloat$1,represent:representYamlFloat$1,defaultStyle:"lowercase"}),json$1=failsafe$1.extend({implicit:[_null$1,bool$1,int$1,float$1]}),core$1=json$1,YAML_DATE_REGEXP$1=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),YAML_TIMESTAMP_REGEXP$1=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function resolveYamlTimestamp$1(F){return F===null?!1:YAML_DATE_REGEXP$1.exec(F)!==null||YAML_TIMESTAMP_REGEXP$1.exec(F)!==null}function constructYamlTimestamp$1(F){var W,q,X,tt,ot,at,ut,wt=0,uo=null,mo,yo,lf;if(W=YAML_DATE_REGEXP$1.exec(F),W===null&&(W=YAML_TIMESTAMP_REGEXP$1.exec(F)),W===null)throw new Error("Date resolve error");if(q=+W[1],X=+W[2]-1,tt=+W[3],!W[4])return new Date(Date.UTC(q,X,tt));if(ot=+W[4],at=+W[5],ut=+W[6],W[7]){for(wt=W[7].slice(0,3);wt.length<3;)wt+="0";wt=+wt}return W[9]&&(mo=+W[10],yo=+(W[11]||0),uo=(mo*60+yo)*6e4,W[9]==="-"&&(uo=-uo)),lf=new Date(Date.UTC(q,X,tt,ot,at,ut,wt)),uo&&lf.setTime(lf.getTime()-uo),lf}function representYamlTimestamp$1(F){return F.toISOString()}var timestamp$1=new type$1("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:resolveYamlTimestamp$1,construct:constructYamlTimestamp$1,instanceOf:Date,represent:representYamlTimestamp$1});function resolveYamlMerge$1(F){return F==="<<"||F===null}var merge$3=new type$1("tag:yaml.org,2002:merge",{kind:"scalar",resolve:resolveYamlMerge$1}),BASE64_MAP$1=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function resolveYamlBinary$1(F){if(F===null)return!1;var W,q,X=0,tt=F.length,ot=BASE64_MAP$1;for(q=0;q<tt;q++)if(W=ot.indexOf(F.charAt(q)),!(W>64)){if(W<0)return!1;X+=6}return X%8===0}function constructYamlBinary$1(F){var W,q,X=F.replace(/[\r\n=]/g,""),tt=X.length,ot=BASE64_MAP$1,at=0,ut=[];for(W=0;W<tt;W++)W%4===0&&W&&(ut.push(at>>16&255),ut.push(at>>8&255),ut.push(at&255)),at=at<<6|ot.indexOf(X.charAt(W));return q=tt%4*6,q===0?(ut.push(at>>16&255),ut.push(at>>8&255),ut.push(at&255)):q===18?(ut.push(at>>10&255),ut.push(at>>2&255)):q===12&&ut.push(at>>4&255),new Uint8Array(ut)}function representYamlBinary$1(F){var W="",q=0,X,tt,ot=F.length,at=BASE64_MAP$1;for(X=0;X<ot;X++)X%3===0&&X&&(W+=at[q>>18&63],W+=at[q>>12&63],W+=at[q>>6&63],W+=at[q&63]),q=(q<<8)+F[X];return tt=ot%3,tt===0?(W+=at[q>>18&63],W+=at[q>>12&63],W+=at[q>>6&63],W+=at[q&63]):tt===2?(W+=at[q>>10&63],W+=at[q>>4&63],W+=at[q<<2&63],W+=at[64]):tt===1&&(W+=at[q>>2&63],W+=at[q<<4&63],W+=at[64],W+=at[64]),W}function isBinary$1(F){return Object.prototype.toString.call(F)==="[object Uint8Array]"}var binary$1=new type$1("tag:yaml.org,2002:binary",{kind:"scalar",resolve:resolveYamlBinary$1,construct:constructYamlBinary$1,predicate:isBinary$1,represent:representYamlBinary$1}),_hasOwnProperty$3$1=Object.prototype.hasOwnProperty,_toString$2$1=Object.prototype.toString;function resolveYamlOmap$1(F){if(F===null)return!0;var W=[],q,X,tt,ot,at,ut=F;for(q=0,X=ut.length;q<X;q+=1){if(tt=ut[q],at=!1,_toString$2$1.call(tt)!=="[object Object]")return!1;for(ot in tt)if(_hasOwnProperty$3$1.call(tt,ot))if(!at)at=!0;else return!1;if(!at)return!1;if(W.indexOf(ot)===-1)W.push(ot);else return!1}return!0}function constructYamlOmap$1(F){return F!==null?F:[]}var omap$1=new type$1("tag:yaml.org,2002:omap",{kind:"sequence",resolve:resolveYamlOmap$1,construct:constructYamlOmap$1}),_toString$1$1=Object.prototype.toString;function resolveYamlPairs$1(F){if(F===null)return!0;var W,q,X,tt,ot,at=F;for(ot=new Array(at.length),W=0,q=at.length;W<q;W+=1){if(X=at[W],_toString$1$1.call(X)!=="[object Object]"||(tt=Object.keys(X),tt.length!==1))return!1;ot[W]=[tt[0],X[tt[0]]]}return!0}function constructYamlPairs$1(F){if(F===null)return[];var W,q,X,tt,ot,at=F;for(ot=new Array(at.length),W=0,q=at.length;W<q;W+=1)X=at[W],tt=Object.keys(X),ot[W]=[tt[0],X[tt[0]]];return ot}var pairs$1=new type$1("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:resolveYamlPairs$1,construct:constructYamlPairs$1}),_hasOwnProperty$2$1=Object.prototype.hasOwnProperty;function resolveYamlSet$1(F){if(F===null)return!0;var W,q=F;for(W in q)if(_hasOwnProperty$2$1.call(q,W)&&q[W]!==null)return!1;return!0}function constructYamlSet$1(F){return F!==null?F:{}}var set$3=new type$1("tag:yaml.org,2002:set",{kind:"mapping",resolve:resolveYamlSet$1,construct:constructYamlSet$1}),_default$1=core$1.extend({implicit:[timestamp$1,merge$3],explicit:[binary$1,omap$1,pairs$1,set$3]}),_hasOwnProperty$1$1=Object.prototype.hasOwnProperty,CONTEXT_FLOW_IN$1=1,CONTEXT_FLOW_OUT$1=2,CONTEXT_BLOCK_IN$1=3,CONTEXT_BLOCK_OUT$1=4,CHOMPING_CLIP$1=1,CHOMPING_STRIP$1=2,CHOMPING_KEEP$1=3,PATTERN_NON_PRINTABLE$1=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,PATTERN_NON_ASCII_LINE_BREAKS$1=/[\x85\u2028\u2029]/,PATTERN_FLOW_INDICATORS$1=/[,\[\]\{\}]/,PATTERN_TAG_HANDLE$1=/^(?:!|!!|![a-z\-]+!)$/i,PATTERN_TAG_URI$1=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _class$1(F){return Object.prototype.toString.call(F)}function is_EOL$1(F){return F===10||F===13}function is_WHITE_SPACE$1(F){return F===9||F===32}function is_WS_OR_EOL$1(F){return F===9||F===32||F===10||F===13}function is_FLOW_INDICATOR$1(F){return F===44||F===91||F===93||F===123||F===125}function fromHexCode$1(F){var W;return 48<=F&&F<=57?F-48:(W=F|32,97<=W&&W<=102?W-97+10:-1)}function escapedHexLen$1(F){return F===120?2:F===117?4:F===85?8:0}function fromDecimalCode$1(F){return 48<=F&&F<=57?F-48:-1}function simpleEscapeSequence$1(F){return F===48?"\0":F===97?"\x07":F===98?"\b":F===116||F===9?"	":F===110?`
`:F===118?"\v":F===102?"\f":F===114?"\r":F===101?"\x1B":F===32?" ":F===34?'"':F===47?"/":F===92?"\\":F===78?"":F===95?" ":F===76?"\u2028":F===80?"\u2029":""}function charFromCodepoint$1(F){return F<=65535?String.fromCharCode(F):String.fromCharCode((F-65536>>10)+55296,(F-65536&1023)+56320)}var simpleEscapeCheck$1=new Array(256),simpleEscapeMap$1=new Array(256);for(var i$1=0;i$1<256;i$1++)simpleEscapeCheck$1[i$1]=simpleEscapeSequence$1(i$1)?1:0,simpleEscapeMap$1[i$1]=simpleEscapeSequence$1(i$1);function State$1$1(F,W){this.input=F,this.filename=W.filename||null,this.schema=W.schema||_default$1,this.onWarning=W.onWarning||null,this.legacy=W.legacy||!1,this.json=W.json||!1,this.listener=W.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=F.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function generateError$1(F,W){var q={name:F.filename,buffer:F.input.slice(0,-1),position:F.position,line:F.line,column:F.position-F.lineStart};return q.snippet=snippet$1(q),new exception$1(W,q)}function throwError$1(F,W){throw generateError$1(F,W)}function throwWarning$1(F,W){F.onWarning&&F.onWarning.call(null,generateError$1(F,W))}var directiveHandlers$1={YAML:function(W,q,X){var tt,ot,at;W.version!==null&&throwError$1(W,"duplication of %YAML directive"),X.length!==1&&throwError$1(W,"YAML directive accepts exactly one argument"),tt=/^([0-9]+)\.([0-9]+)$/.exec(X[0]),tt===null&&throwError$1(W,"ill-formed argument of the YAML directive"),ot=parseInt(tt[1],10),at=parseInt(tt[2],10),ot!==1&&throwError$1(W,"unacceptable YAML version of the document"),W.version=X[0],W.checkLineBreaks=at<2,at!==1&&at!==2&&throwWarning$1(W,"unsupported YAML version of the document")},TAG:function(W,q,X){var tt,ot;X.length!==2&&throwError$1(W,"TAG directive accepts exactly two arguments"),tt=X[0],ot=X[1],PATTERN_TAG_HANDLE$1.test(tt)||throwError$1(W,"ill-formed tag handle (first argument) of the TAG directive"),_hasOwnProperty$1$1.call(W.tagMap,tt)&&throwError$1(W,'there is a previously declared suffix for "'+tt+'" tag handle'),PATTERN_TAG_URI$1.test(ot)||throwError$1(W,"ill-formed tag prefix (second argument) of the TAG directive");try{ot=decodeURIComponent(ot)}catch{throwError$1(W,"tag prefix is malformed: "+ot)}W.tagMap[tt]=ot}};function captureSegment$1(F,W,q,X){var tt,ot,at,ut;if(W<q){if(ut=F.input.slice(W,q),X)for(tt=0,ot=ut.length;tt<ot;tt+=1)at=ut.charCodeAt(tt),at===9||32<=at&&at<=1114111||throwError$1(F,"expected valid JSON character");else PATTERN_NON_PRINTABLE$1.test(ut)&&throwError$1(F,"the stream contains non-printable characters");F.result+=ut}}function mergeMappings$1(F,W,q,X){var tt,ot,at,ut;for(common$3.isObject(q)||throwError$1(F,"cannot merge mappings; the provided source object is unacceptable"),tt=Object.keys(q),at=0,ut=tt.length;at<ut;at+=1)ot=tt[at],_hasOwnProperty$1$1.call(W,ot)||(W[ot]=q[ot],X[ot]=!0)}function storeMappingPair$1(F,W,q,X,tt,ot,at,ut,wt){var uo,mo;if(Array.isArray(tt))for(tt=Array.prototype.slice.call(tt),uo=0,mo=tt.length;uo<mo;uo+=1)Array.isArray(tt[uo])&&throwError$1(F,"nested arrays are not supported inside keys"),typeof tt=="object"&&_class$1(tt[uo])==="[object Object]"&&(tt[uo]="[object Object]");if(typeof tt=="object"&&_class$1(tt)==="[object Object]"&&(tt="[object Object]"),tt=String(tt),W===null&&(W={}),X==="tag:yaml.org,2002:merge")if(Array.isArray(ot))for(uo=0,mo=ot.length;uo<mo;uo+=1)mergeMappings$1(F,W,ot[uo],q);else mergeMappings$1(F,W,ot,q);else!F.json&&!_hasOwnProperty$1$1.call(q,tt)&&_hasOwnProperty$1$1.call(W,tt)&&(F.line=at||F.line,F.lineStart=ut||F.lineStart,F.position=wt||F.position,throwError$1(F,"duplicated mapping key")),tt==="__proto__"?Object.defineProperty(W,tt,{configurable:!0,enumerable:!0,writable:!0,value:ot}):W[tt]=ot,delete q[tt];return W}function readLineBreak$1(F){var W;W=F.input.charCodeAt(F.position),W===10?F.position++:W===13?(F.position++,F.input.charCodeAt(F.position)===10&&F.position++):throwError$1(F,"a line break is expected"),F.line+=1,F.lineStart=F.position,F.firstTabInLine=-1}function skipSeparationSpace$1(F,W,q){for(var X=0,tt=F.input.charCodeAt(F.position);tt!==0;){for(;is_WHITE_SPACE$1(tt);)tt===9&&F.firstTabInLine===-1&&(F.firstTabInLine=F.position),tt=F.input.charCodeAt(++F.position);if(W&&tt===35)do tt=F.input.charCodeAt(++F.position);while(tt!==10&&tt!==13&&tt!==0);if(is_EOL$1(tt))for(readLineBreak$1(F),tt=F.input.charCodeAt(F.position),X++,F.lineIndent=0;tt===32;)F.lineIndent++,tt=F.input.charCodeAt(++F.position);else break}return q!==-1&&X!==0&&F.lineIndent<q&&throwWarning$1(F,"deficient indentation"),X}function testDocumentSeparator$1(F){var W=F.position,q;return q=F.input.charCodeAt(W),!!((q===45||q===46)&&q===F.input.charCodeAt(W+1)&&q===F.input.charCodeAt(W+2)&&(W+=3,q=F.input.charCodeAt(W),q===0||is_WS_OR_EOL$1(q)))}function writeFoldedLines$1(F,W){W===1?F.result+=" ":W>1&&(F.result+=common$3.repeat(`
`,W-1))}function readPlainScalar$1(F,W,q){var X,tt,ot,at,ut,wt,uo,mo,yo=F.kind,lf=F.result,uf;if(uf=F.input.charCodeAt(F.position),is_WS_OR_EOL$1(uf)||is_FLOW_INDICATOR$1(uf)||uf===35||uf===38||uf===42||uf===33||uf===124||uf===62||uf===39||uf===34||uf===37||uf===64||uf===96||(uf===63||uf===45)&&(tt=F.input.charCodeAt(F.position+1),is_WS_OR_EOL$1(tt)||q&&is_FLOW_INDICATOR$1(tt)))return!1;for(F.kind="scalar",F.result="",ot=at=F.position,ut=!1;uf!==0;){if(uf===58){if(tt=F.input.charCodeAt(F.position+1),is_WS_OR_EOL$1(tt)||q&&is_FLOW_INDICATOR$1(tt))break}else if(uf===35){if(X=F.input.charCodeAt(F.position-1),is_WS_OR_EOL$1(X))break}else{if(F.position===F.lineStart&&testDocumentSeparator$1(F)||q&&is_FLOW_INDICATOR$1(uf))break;if(is_EOL$1(uf))if(wt=F.line,uo=F.lineStart,mo=F.lineIndent,skipSeparationSpace$1(F,!1,-1),F.lineIndent>=W){ut=!0,uf=F.input.charCodeAt(F.position);continue}else{F.position=at,F.line=wt,F.lineStart=uo,F.lineIndent=mo;break}}ut&&(captureSegment$1(F,ot,at,!1),writeFoldedLines$1(F,F.line-wt),ot=at=F.position,ut=!1),is_WHITE_SPACE$1(uf)||(at=F.position+1),uf=F.input.charCodeAt(++F.position)}return captureSegment$1(F,ot,at,!1),F.result?!0:(F.kind=yo,F.result=lf,!1)}function readSingleQuotedScalar$1(F,W){var q,X,tt;if(q=F.input.charCodeAt(F.position),q!==39)return!1;for(F.kind="scalar",F.result="",F.position++,X=tt=F.position;(q=F.input.charCodeAt(F.position))!==0;)if(q===39)if(captureSegment$1(F,X,F.position,!0),q=F.input.charCodeAt(++F.position),q===39)X=F.position,F.position++,tt=F.position;else return!0;else is_EOL$1(q)?(captureSegment$1(F,X,tt,!0),writeFoldedLines$1(F,skipSeparationSpace$1(F,!1,W)),X=tt=F.position):F.position===F.lineStart&&testDocumentSeparator$1(F)?throwError$1(F,"unexpected end of the document within a single quoted scalar"):(F.position++,tt=F.position);throwError$1(F,"unexpected end of the stream within a single quoted scalar")}function readDoubleQuotedScalar$1(F,W){var q,X,tt,ot,at,ut;if(ut=F.input.charCodeAt(F.position),ut!==34)return!1;for(F.kind="scalar",F.result="",F.position++,q=X=F.position;(ut=F.input.charCodeAt(F.position))!==0;){if(ut===34)return captureSegment$1(F,q,F.position,!0),F.position++,!0;if(ut===92){if(captureSegment$1(F,q,F.position,!0),ut=F.input.charCodeAt(++F.position),is_EOL$1(ut))skipSeparationSpace$1(F,!1,W);else if(ut<256&&simpleEscapeCheck$1[ut])F.result+=simpleEscapeMap$1[ut],F.position++;else if((at=escapedHexLen$1(ut))>0){for(tt=at,ot=0;tt>0;tt--)ut=F.input.charCodeAt(++F.position),(at=fromHexCode$1(ut))>=0?ot=(ot<<4)+at:throwError$1(F,"expected hexadecimal character");F.result+=charFromCodepoint$1(ot),F.position++}else throwError$1(F,"unknown escape sequence");q=X=F.position}else is_EOL$1(ut)?(captureSegment$1(F,q,X,!0),writeFoldedLines$1(F,skipSeparationSpace$1(F,!1,W)),q=X=F.position):F.position===F.lineStart&&testDocumentSeparator$1(F)?throwError$1(F,"unexpected end of the document within a double quoted scalar"):(F.position++,X=F.position)}throwError$1(F,"unexpected end of the stream within a double quoted scalar")}function readFlowCollection$1(F,W){var q=!0,X,tt,ot,at=F.tag,ut,wt=F.anchor,uo,mo,yo,lf,uf,df=Object.create(null),wf,wo,ls,_f;if(_f=F.input.charCodeAt(F.position),_f===91)mo=93,uf=!1,ut=[];else if(_f===123)mo=125,uf=!0,ut={};else return!1;for(F.anchor!==null&&(F.anchorMap[F.anchor]=ut),_f=F.input.charCodeAt(++F.position);_f!==0;){if(skipSeparationSpace$1(F,!0,W),_f=F.input.charCodeAt(F.position),_f===mo)return F.position++,F.tag=at,F.anchor=wt,F.kind=uf?"mapping":"sequence",F.result=ut,!0;q?_f===44&&throwError$1(F,"expected the node content, but found ','"):throwError$1(F,"missed comma between flow collection entries"),wo=wf=ls=null,yo=lf=!1,_f===63&&(uo=F.input.charCodeAt(F.position+1),is_WS_OR_EOL$1(uo)&&(yo=lf=!0,F.position++,skipSeparationSpace$1(F,!0,W))),X=F.line,tt=F.lineStart,ot=F.position,composeNode$1(F,W,CONTEXT_FLOW_IN$1,!1,!0),wo=F.tag,wf=F.result,skipSeparationSpace$1(F,!0,W),_f=F.input.charCodeAt(F.position),(lf||F.line===X)&&_f===58&&(yo=!0,_f=F.input.charCodeAt(++F.position),skipSeparationSpace$1(F,!0,W),composeNode$1(F,W,CONTEXT_FLOW_IN$1,!1,!0),ls=F.result),uf?storeMappingPair$1(F,ut,df,wo,wf,ls,X,tt,ot):yo?ut.push(storeMappingPair$1(F,null,df,wo,wf,ls,X,tt,ot)):ut.push(wf),skipSeparationSpace$1(F,!0,W),_f=F.input.charCodeAt(F.position),_f===44?(q=!0,_f=F.input.charCodeAt(++F.position)):q=!1}throwError$1(F,"unexpected end of the stream within a flow collection")}function readBlockScalar$1(F,W){var q,X,tt=CHOMPING_CLIP$1,ot=!1,at=!1,ut=W,wt=0,uo=!1,mo,yo;if(yo=F.input.charCodeAt(F.position),yo===124)X=!1;else if(yo===62)X=!0;else return!1;for(F.kind="scalar",F.result="";yo!==0;)if(yo=F.input.charCodeAt(++F.position),yo===43||yo===45)CHOMPING_CLIP$1===tt?tt=yo===43?CHOMPING_KEEP$1:CHOMPING_STRIP$1:throwError$1(F,"repeat of a chomping mode identifier");else if((mo=fromDecimalCode$1(yo))>=0)mo===0?throwError$1(F,"bad explicit indentation width of a block scalar; it cannot be less than one"):at?throwError$1(F,"repeat of an indentation width identifier"):(ut=W+mo-1,at=!0);else break;if(is_WHITE_SPACE$1(yo)){do yo=F.input.charCodeAt(++F.position);while(is_WHITE_SPACE$1(yo));if(yo===35)do yo=F.input.charCodeAt(++F.position);while(!is_EOL$1(yo)&&yo!==0)}for(;yo!==0;){for(readLineBreak$1(F),F.lineIndent=0,yo=F.input.charCodeAt(F.position);(!at||F.lineIndent<ut)&&yo===32;)F.lineIndent++,yo=F.input.charCodeAt(++F.position);if(!at&&F.lineIndent>ut&&(ut=F.lineIndent),is_EOL$1(yo)){wt++;continue}if(F.lineIndent<ut){tt===CHOMPING_KEEP$1?F.result+=common$3.repeat(`
`,ot?1+wt:wt):tt===CHOMPING_CLIP$1&&ot&&(F.result+=`
`);break}for(X?is_WHITE_SPACE$1(yo)?(uo=!0,F.result+=common$3.repeat(`
`,ot?1+wt:wt)):uo?(uo=!1,F.result+=common$3.repeat(`
`,wt+1)):wt===0?ot&&(F.result+=" "):F.result+=common$3.repeat(`
`,wt):F.result+=common$3.repeat(`
`,ot?1+wt:wt),ot=!0,at=!0,wt=0,q=F.position;!is_EOL$1(yo)&&yo!==0;)yo=F.input.charCodeAt(++F.position);captureSegment$1(F,q,F.position,!1)}return!0}function readBlockSequence$1(F,W){var q,X=F.tag,tt=F.anchor,ot=[],at,ut=!1,wt;if(F.firstTabInLine!==-1)return!1;for(F.anchor!==null&&(F.anchorMap[F.anchor]=ot),wt=F.input.charCodeAt(F.position);wt!==0&&(F.firstTabInLine!==-1&&(F.position=F.firstTabInLine,throwError$1(F,"tab characters must not be used in indentation")),!(wt!==45||(at=F.input.charCodeAt(F.position+1),!is_WS_OR_EOL$1(at))));){if(ut=!0,F.position++,skipSeparationSpace$1(F,!0,-1)&&F.lineIndent<=W){ot.push(null),wt=F.input.charCodeAt(F.position);continue}if(q=F.line,composeNode$1(F,W,CONTEXT_BLOCK_IN$1,!1,!0),ot.push(F.result),skipSeparationSpace$1(F,!0,-1),wt=F.input.charCodeAt(F.position),(F.line===q||F.lineIndent>W)&&wt!==0)throwError$1(F,"bad indentation of a sequence entry");else if(F.lineIndent<W)break}return ut?(F.tag=X,F.anchor=tt,F.kind="sequence",F.result=ot,!0):!1}function readBlockMapping$1(F,W,q){var X,tt,ot,at,ut,wt,uo=F.tag,mo=F.anchor,yo={},lf=Object.create(null),uf=null,df=null,wf=null,wo=!1,ls=!1,_f;if(F.firstTabInLine!==-1)return!1;for(F.anchor!==null&&(F.anchorMap[F.anchor]=yo),_f=F.input.charCodeAt(F.position);_f!==0;){if(!wo&&F.firstTabInLine!==-1&&(F.position=F.firstTabInLine,throwError$1(F,"tab characters must not be used in indentation")),X=F.input.charCodeAt(F.position+1),ot=F.line,(_f===63||_f===58)&&is_WS_OR_EOL$1(X))_f===63?(wo&&(storeMappingPair$1(F,yo,lf,uf,df,null,at,ut,wt),uf=df=wf=null),ls=!0,wo=!0,tt=!0):wo?(wo=!1,tt=!0):throwError$1(F,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),F.position+=1,_f=X;else{if(at=F.line,ut=F.lineStart,wt=F.position,!composeNode$1(F,q,CONTEXT_FLOW_OUT$1,!1,!0))break;if(F.line===ot){for(_f=F.input.charCodeAt(F.position);is_WHITE_SPACE$1(_f);)_f=F.input.charCodeAt(++F.position);if(_f===58)_f=F.input.charCodeAt(++F.position),is_WS_OR_EOL$1(_f)||throwError$1(F,"a whitespace character is expected after the key-value separator within a block mapping"),wo&&(storeMappingPair$1(F,yo,lf,uf,df,null,at,ut,wt),uf=df=wf=null),ls=!0,wo=!1,tt=!1,uf=F.tag,df=F.result;else if(ls)throwError$1(F,"can not read an implicit mapping pair; a colon is missed");else return F.tag=uo,F.anchor=mo,!0}else if(ls)throwError$1(F,"can not read a block mapping entry; a multiline key may not be an implicit key");else return F.tag=uo,F.anchor=mo,!0}if((F.line===ot||F.lineIndent>W)&&(wo&&(at=F.line,ut=F.lineStart,wt=F.position),composeNode$1(F,W,CONTEXT_BLOCK_OUT$1,!0,tt)&&(wo?df=F.result:wf=F.result),wo||(storeMappingPair$1(F,yo,lf,uf,df,wf,at,ut,wt),uf=df=wf=null),skipSeparationSpace$1(F,!0,-1),_f=F.input.charCodeAt(F.position)),(F.line===ot||F.lineIndent>W)&&_f!==0)throwError$1(F,"bad indentation of a mapping entry");else if(F.lineIndent<W)break}return wo&&storeMappingPair$1(F,yo,lf,uf,df,null,at,ut,wt),ls&&(F.tag=uo,F.anchor=mo,F.kind="mapping",F.result=yo),ls}function readTagProperty$1(F){var W,q=!1,X=!1,tt,ot,at;if(at=F.input.charCodeAt(F.position),at!==33)return!1;if(F.tag!==null&&throwError$1(F,"duplication of a tag property"),at=F.input.charCodeAt(++F.position),at===60?(q=!0,at=F.input.charCodeAt(++F.position)):at===33?(X=!0,tt="!!",at=F.input.charCodeAt(++F.position)):tt="!",W=F.position,q){do at=F.input.charCodeAt(++F.position);while(at!==0&&at!==62);F.position<F.length?(ot=F.input.slice(W,F.position),at=F.input.charCodeAt(++F.position)):throwError$1(F,"unexpected end of the stream within a verbatim tag")}else{for(;at!==0&&!is_WS_OR_EOL$1(at);)at===33&&(X?throwError$1(F,"tag suffix cannot contain exclamation marks"):(tt=F.input.slice(W-1,F.position+1),PATTERN_TAG_HANDLE$1.test(tt)||throwError$1(F,"named tag handle cannot contain such characters"),X=!0,W=F.position+1)),at=F.input.charCodeAt(++F.position);ot=F.input.slice(W,F.position),PATTERN_FLOW_INDICATORS$1.test(ot)&&throwError$1(F,"tag suffix cannot contain flow indicator characters")}ot&&!PATTERN_TAG_URI$1.test(ot)&&throwError$1(F,"tag name cannot contain such characters: "+ot);try{ot=decodeURIComponent(ot)}catch{throwError$1(F,"tag name is malformed: "+ot)}return q?F.tag=ot:_hasOwnProperty$1$1.call(F.tagMap,tt)?F.tag=F.tagMap[tt]+ot:tt==="!"?F.tag="!"+ot:tt==="!!"?F.tag="tag:yaml.org,2002:"+ot:throwError$1(F,'undeclared tag handle "'+tt+'"'),!0}function readAnchorProperty$1(F){var W,q;if(q=F.input.charCodeAt(F.position),q!==38)return!1;for(F.anchor!==null&&throwError$1(F,"duplication of an anchor property"),q=F.input.charCodeAt(++F.position),W=F.position;q!==0&&!is_WS_OR_EOL$1(q)&&!is_FLOW_INDICATOR$1(q);)q=F.input.charCodeAt(++F.position);return F.position===W&&throwError$1(F,"name of an anchor node must contain at least one character"),F.anchor=F.input.slice(W,F.position),!0}function readAlias$1(F){var W,q,X;if(X=F.input.charCodeAt(F.position),X!==42)return!1;for(X=F.input.charCodeAt(++F.position),W=F.position;X!==0&&!is_WS_OR_EOL$1(X)&&!is_FLOW_INDICATOR$1(X);)X=F.input.charCodeAt(++F.position);return F.position===W&&throwError$1(F,"name of an alias node must contain at least one character"),q=F.input.slice(W,F.position),_hasOwnProperty$1$1.call(F.anchorMap,q)||throwError$1(F,'unidentified alias "'+q+'"'),F.result=F.anchorMap[q],skipSeparationSpace$1(F,!0,-1),!0}function composeNode$1(F,W,q,X,tt){var ot,at,ut,wt=1,uo=!1,mo=!1,yo,lf,uf,df,wf,wo;if(F.listener!==null&&F.listener("open",F),F.tag=null,F.anchor=null,F.kind=null,F.result=null,ot=at=ut=CONTEXT_BLOCK_OUT$1===q||CONTEXT_BLOCK_IN$1===q,X&&skipSeparationSpace$1(F,!0,-1)&&(uo=!0,F.lineIndent>W?wt=1:F.lineIndent===W?wt=0:F.lineIndent<W&&(wt=-1)),wt===1)for(;readTagProperty$1(F)||readAnchorProperty$1(F);)skipSeparationSpace$1(F,!0,-1)?(uo=!0,ut=ot,F.lineIndent>W?wt=1:F.lineIndent===W?wt=0:F.lineIndent<W&&(wt=-1)):ut=!1;if(ut&&(ut=uo||tt),(wt===1||CONTEXT_BLOCK_OUT$1===q)&&(CONTEXT_FLOW_IN$1===q||CONTEXT_FLOW_OUT$1===q?wf=W:wf=W+1,wo=F.position-F.lineStart,wt===1?ut&&(readBlockSequence$1(F,wo)||readBlockMapping$1(F,wo,wf))||readFlowCollection$1(F,wf)?mo=!0:(at&&readBlockScalar$1(F,wf)||readSingleQuotedScalar$1(F,wf)||readDoubleQuotedScalar$1(F,wf)?mo=!0:readAlias$1(F)?(mo=!0,(F.tag!==null||F.anchor!==null)&&throwError$1(F,"alias node should not have any properties")):readPlainScalar$1(F,wf,CONTEXT_FLOW_IN$1===q)&&(mo=!0,F.tag===null&&(F.tag="?")),F.anchor!==null&&(F.anchorMap[F.anchor]=F.result)):wt===0&&(mo=ut&&readBlockSequence$1(F,wo))),F.tag===null)F.anchor!==null&&(F.anchorMap[F.anchor]=F.result);else if(F.tag==="?"){for(F.result!==null&&F.kind!=="scalar"&&throwError$1(F,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+F.kind+'"'),yo=0,lf=F.implicitTypes.length;yo<lf;yo+=1)if(df=F.implicitTypes[yo],df.resolve(F.result)){F.result=df.construct(F.result),F.tag=df.tag,F.anchor!==null&&(F.anchorMap[F.anchor]=F.result);break}}else if(F.tag!=="!"){if(_hasOwnProperty$1$1.call(F.typeMap[F.kind||"fallback"],F.tag))df=F.typeMap[F.kind||"fallback"][F.tag];else for(df=null,uf=F.typeMap.multi[F.kind||"fallback"],yo=0,lf=uf.length;yo<lf;yo+=1)if(F.tag.slice(0,uf[yo].tag.length)===uf[yo].tag){df=uf[yo];break}df||throwError$1(F,"unknown tag !<"+F.tag+">"),F.result!==null&&df.kind!==F.kind&&throwError$1(F,"unacceptable node kind for !<"+F.tag+'> tag; it should be "'+df.kind+'", not "'+F.kind+'"'),df.resolve(F.result,F.tag)?(F.result=df.construct(F.result,F.tag),F.anchor!==null&&(F.anchorMap[F.anchor]=F.result)):throwError$1(F,"cannot resolve a node with !<"+F.tag+"> explicit tag")}return F.listener!==null&&F.listener("close",F),F.tag!==null||F.anchor!==null||mo}function readDocument$1(F){var W=F.position,q,X,tt,ot=!1,at;for(F.version=null,F.checkLineBreaks=F.legacy,F.tagMap=Object.create(null),F.anchorMap=Object.create(null);(at=F.input.charCodeAt(F.position))!==0&&(skipSeparationSpace$1(F,!0,-1),at=F.input.charCodeAt(F.position),!(F.lineIndent>0||at!==37));){for(ot=!0,at=F.input.charCodeAt(++F.position),q=F.position;at!==0&&!is_WS_OR_EOL$1(at);)at=F.input.charCodeAt(++F.position);for(X=F.input.slice(q,F.position),tt=[],X.length<1&&throwError$1(F,"directive name must not be less than one character in length");at!==0;){for(;is_WHITE_SPACE$1(at);)at=F.input.charCodeAt(++F.position);if(at===35){do at=F.input.charCodeAt(++F.position);while(at!==0&&!is_EOL$1(at));break}if(is_EOL$1(at))break;for(q=F.position;at!==0&&!is_WS_OR_EOL$1(at);)at=F.input.charCodeAt(++F.position);tt.push(F.input.slice(q,F.position))}at!==0&&readLineBreak$1(F),_hasOwnProperty$1$1.call(directiveHandlers$1,X)?directiveHandlers$1[X](F,X,tt):throwWarning$1(F,'unknown document directive "'+X+'"')}if(skipSeparationSpace$1(F,!0,-1),F.lineIndent===0&&F.input.charCodeAt(F.position)===45&&F.input.charCodeAt(F.position+1)===45&&F.input.charCodeAt(F.position+2)===45?(F.position+=3,skipSeparationSpace$1(F,!0,-1)):ot&&throwError$1(F,"directives end mark is expected"),composeNode$1(F,F.lineIndent-1,CONTEXT_BLOCK_OUT$1,!1,!0),skipSeparationSpace$1(F,!0,-1),F.checkLineBreaks&&PATTERN_NON_ASCII_LINE_BREAKS$1.test(F.input.slice(W,F.position))&&throwWarning$1(F,"non-ASCII line breaks are interpreted as content"),F.documents.push(F.result),F.position===F.lineStart&&testDocumentSeparator$1(F)){F.input.charCodeAt(F.position)===46&&(F.position+=3,skipSeparationSpace$1(F,!0,-1));return}if(F.position<F.length-1)throwError$1(F,"end of the stream or a document separator is expected");else return}function loadDocuments$1(F,W){F=String(F),W=W||{},F.length!==0&&(F.charCodeAt(F.length-1)!==10&&F.charCodeAt(F.length-1)!==13&&(F+=`
`),F.charCodeAt(0)===65279&&(F=F.slice(1)));var q=new State$1$1(F,W),X=F.indexOf("\0");for(X!==-1&&(q.position=X,throwError$1(q,"null byte is not allowed in input")),q.input+="\0";q.input.charCodeAt(q.position)===32;)q.lineIndent+=1,q.position+=1;for(;q.position<q.length-1;)readDocument$1(q);return q.documents}function loadAll$1$1(F,W,q){W!==null&&typeof W=="object"&&typeof q>"u"&&(q=W,W=null);var X=loadDocuments$1(F,q);if(typeof W!="function")return X;for(var tt=0,ot=X.length;tt<ot;tt+=1)W(X[tt])}function load$1$1(F,W){var q=loadDocuments$1(F,W);if(q.length!==0){if(q.length===1)return q[0];throw new exception$1("expected a single document in the stream, but found more")}}var loadAll_1$1=loadAll$1$1,load_1$1=load$1$1,loader$n={loadAll:loadAll_1$1,load:load_1$1},load$2=loader$n.load,commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(F){return F&&F.__esModule&&Object.prototype.hasOwnProperty.call(F,"default")?F.default:F}function getAugmentedNamespace(F){if(F.__esModule)return F;var W=F.default;if(typeof W=="function"){var q=function X(){return this instanceof X?Reflect.construct(W,arguments,this.constructor):W.apply(this,arguments)};q.prototype=W.prototype}else q={};return Object.defineProperty(q,"__esModule",{value:!0}),Object.keys(F).forEach(function(X){var tt=Object.getOwnPropertyDescriptor(F,X);Object.defineProperty(q,X,tt.get?tt:{enumerable:!0,get:function(){return F[X]}})}),q}var sha256$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$4=getAugmentedNamespace(__viteBrowserExternal$1);/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.11.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2024
 * @license MIT
 */(function(F){(function(){var W="input is invalid type",q=typeof window=="object",X=q?window:{};X.JS_SHA256_NO_WINDOW&&(q=!1);var tt=!q&&typeof self=="object",ot=!X.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;ot?X=commonjsGlobal:tt&&(X=self);var at=!X.JS_SHA256_NO_COMMON_JS&&!0&&F.exports,ut=!X.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",wt="0123456789abcdef".split(""),uo=[-2147483648,8388608,32768,128],mo=[24,16,8,0],yo=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],lf=["hex","array","digest","arrayBuffer"],uf=[];(X.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(cf){return Object.prototype.toString.call(cf)==="[object Array]"}),ut&&(X.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(cf){return typeof cf=="object"&&cf.buffer&&cf.buffer.constructor===ArrayBuffer});var df=function(cf,yf){return function(Sf){return new po(yf,!0).update(Sf)[cf]()}},wf=function(cf){var yf=df("hex",cf);ot&&(yf=wo(yf,cf)),yf.create=function(){return new po(cf)},yf.update=function(bf){return yf.create().update(bf)};for(var Sf=0;Sf<lf.length;++Sf){var xf=lf[Sf];yf[xf]=df(xf,cf)}return yf},wo=function(cf,yf){var Sf=require$$4,xf=require$$4.Buffer,bf=yf?"sha224":"sha256",Af;xf.from&&!X.JS_SHA256_NO_BUFFER_FROM?Af=xf.from:Af=function(Df){return new xf(Df)};var Pf=function(Df){if(typeof Df=="string")return Sf.createHash(bf).update(Df,"utf8").digest("hex");if(Df==null)throw new Error(W);return Df.constructor===ArrayBuffer&&(Df=new Uint8Array(Df)),Array.isArray(Df)||ArrayBuffer.isView(Df)||Df.constructor===xf?Sf.createHash(bf).update(Af(Df)).digest("hex"):cf(Df)};return Pf},ls=function(cf,yf){return function(Sf,xf){return new xo(Sf,yf,!0).update(xf)[cf]()}},_f=function(cf){var yf=ls("hex",cf);yf.create=function(bf){return new xo(bf,cf)},yf.update=function(bf,Af){return yf.create(bf).update(Af)};for(var Sf=0;Sf<lf.length;++Sf){var xf=lf[Sf];yf[xf]=ls(xf,cf)}return yf};function po(cf,yf){yf?(uf[0]=uf[16]=uf[1]=uf[2]=uf[3]=uf[4]=uf[5]=uf[6]=uf[7]=uf[8]=uf[9]=uf[10]=uf[11]=uf[12]=uf[13]=uf[14]=uf[15]=0,this.blocks=uf):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],cf?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=cf}po.prototype.update=function(cf){if(!this.finalized){var yf,Sf=typeof cf;if(Sf!=="string"){if(Sf==="object"){if(cf===null)throw new Error(W);if(ut&&cf.constructor===ArrayBuffer)cf=new Uint8Array(cf);else if(!Array.isArray(cf)&&(!ut||!ArrayBuffer.isView(cf)))throw new Error(W)}else throw new Error(W);yf=!0}for(var xf,bf=0,Af,Pf=cf.length,Df=this.blocks;bf<Pf;){if(this.hashed&&(this.hashed=!1,Df[0]=this.block,this.block=Df[16]=Df[1]=Df[2]=Df[3]=Df[4]=Df[5]=Df[6]=Df[7]=Df[8]=Df[9]=Df[10]=Df[11]=Df[12]=Df[13]=Df[14]=Df[15]=0),yf)for(Af=this.start;bf<Pf&&Af<64;++bf)Df[Af>>>2]|=cf[bf]<<mo[Af++&3];else for(Af=this.start;bf<Pf&&Af<64;++bf)xf=cf.charCodeAt(bf),xf<128?Df[Af>>>2]|=xf<<mo[Af++&3]:xf<2048?(Df[Af>>>2]|=(192|xf>>>6)<<mo[Af++&3],Df[Af>>>2]|=(128|xf&63)<<mo[Af++&3]):xf<55296||xf>=57344?(Df[Af>>>2]|=(224|xf>>>12)<<mo[Af++&3],Df[Af>>>2]|=(128|xf>>>6&63)<<mo[Af++&3],Df[Af>>>2]|=(128|xf&63)<<mo[Af++&3]):(xf=65536+((xf&1023)<<10|cf.charCodeAt(++bf)&1023),Df[Af>>>2]|=(240|xf>>>18)<<mo[Af++&3],Df[Af>>>2]|=(128|xf>>>12&63)<<mo[Af++&3],Df[Af>>>2]|=(128|xf>>>6&63)<<mo[Af++&3],Df[Af>>>2]|=(128|xf&63)<<mo[Af++&3]);this.lastByteIndex=Af,this.bytes+=Af-this.start,Af>=64?(this.block=Df[16],this.start=Af-64,this.hash(),this.hashed=!0):this.start=Af}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},po.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var cf=this.blocks,yf=this.lastByteIndex;cf[16]=this.block,cf[yf>>>2]|=uo[yf&3],this.block=cf[16],yf>=56&&(this.hashed||this.hash(),cf[0]=this.block,cf[16]=cf[1]=cf[2]=cf[3]=cf[4]=cf[5]=cf[6]=cf[7]=cf[8]=cf[9]=cf[10]=cf[11]=cf[12]=cf[13]=cf[14]=cf[15]=0),cf[14]=this.hBytes<<3|this.bytes>>>29,cf[15]=this.bytes<<3,this.hash()}},po.prototype.hash=function(){var cf=this.h0,yf=this.h1,Sf=this.h2,xf=this.h3,bf=this.h4,Af=this.h5,Pf=this.h6,Df=this.h7,zf=this.blocks,jf,$f,Ff,Xf,mp,fp,Mp,Np,Pp,yp,Ep;for(jf=16;jf<64;++jf)mp=zf[jf-15],$f=(mp>>>7|mp<<25)^(mp>>>18|mp<<14)^mp>>>3,mp=zf[jf-2],Ff=(mp>>>17|mp<<15)^(mp>>>19|mp<<13)^mp>>>10,zf[jf]=zf[jf-16]+$f+zf[jf-7]+Ff<<0;for(Ep=yf&Sf,jf=0;jf<64;jf+=4)this.first?(this.is224?(Np=300032,mp=zf[0]-1413257819,Df=mp-150054599<<0,xf=mp+24177077<<0):(Np=704751109,mp=zf[0]-210244248,Df=mp-1521486534<<0,xf=mp+143694565<<0),this.first=!1):($f=(cf>>>2|cf<<30)^(cf>>>13|cf<<19)^(cf>>>22|cf<<10),Ff=(bf>>>6|bf<<26)^(bf>>>11|bf<<21)^(bf>>>25|bf<<7),Np=cf&yf,Xf=Np^cf&Sf^Ep,Mp=bf&Af^~bf&Pf,mp=Df+Ff+Mp+yo[jf]+zf[jf],fp=$f+Xf,Df=xf+mp<<0,xf=mp+fp<<0),$f=(xf>>>2|xf<<30)^(xf>>>13|xf<<19)^(xf>>>22|xf<<10),Ff=(Df>>>6|Df<<26)^(Df>>>11|Df<<21)^(Df>>>25|Df<<7),Pp=xf&cf,Xf=Pp^xf&yf^Np,Mp=Df&bf^~Df&Af,mp=Pf+Ff+Mp+yo[jf+1]+zf[jf+1],fp=$f+Xf,Pf=Sf+mp<<0,Sf=mp+fp<<0,$f=(Sf>>>2|Sf<<30)^(Sf>>>13|Sf<<19)^(Sf>>>22|Sf<<10),Ff=(Pf>>>6|Pf<<26)^(Pf>>>11|Pf<<21)^(Pf>>>25|Pf<<7),yp=Sf&xf,Xf=yp^Sf&cf^Pp,Mp=Pf&Df^~Pf&bf,mp=Af+Ff+Mp+yo[jf+2]+zf[jf+2],fp=$f+Xf,Af=yf+mp<<0,yf=mp+fp<<0,$f=(yf>>>2|yf<<30)^(yf>>>13|yf<<19)^(yf>>>22|yf<<10),Ff=(Af>>>6|Af<<26)^(Af>>>11|Af<<21)^(Af>>>25|Af<<7),Ep=yf&Sf,Xf=Ep^yf&xf^yp,Mp=Af&Pf^~Af&Df,mp=bf+Ff+Mp+yo[jf+3]+zf[jf+3],fp=$f+Xf,bf=cf+mp<<0,cf=mp+fp<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+cf<<0,this.h1=this.h1+yf<<0,this.h2=this.h2+Sf<<0,this.h3=this.h3+xf<<0,this.h4=this.h4+bf<<0,this.h5=this.h5+Af<<0,this.h6=this.h6+Pf<<0,this.h7=this.h7+Df<<0},po.prototype.hex=function(){this.finalize();var cf=this.h0,yf=this.h1,Sf=this.h2,xf=this.h3,bf=this.h4,Af=this.h5,Pf=this.h6,Df=this.h7,zf=wt[cf>>>28&15]+wt[cf>>>24&15]+wt[cf>>>20&15]+wt[cf>>>16&15]+wt[cf>>>12&15]+wt[cf>>>8&15]+wt[cf>>>4&15]+wt[cf&15]+wt[yf>>>28&15]+wt[yf>>>24&15]+wt[yf>>>20&15]+wt[yf>>>16&15]+wt[yf>>>12&15]+wt[yf>>>8&15]+wt[yf>>>4&15]+wt[yf&15]+wt[Sf>>>28&15]+wt[Sf>>>24&15]+wt[Sf>>>20&15]+wt[Sf>>>16&15]+wt[Sf>>>12&15]+wt[Sf>>>8&15]+wt[Sf>>>4&15]+wt[Sf&15]+wt[xf>>>28&15]+wt[xf>>>24&15]+wt[xf>>>20&15]+wt[xf>>>16&15]+wt[xf>>>12&15]+wt[xf>>>8&15]+wt[xf>>>4&15]+wt[xf&15]+wt[bf>>>28&15]+wt[bf>>>24&15]+wt[bf>>>20&15]+wt[bf>>>16&15]+wt[bf>>>12&15]+wt[bf>>>8&15]+wt[bf>>>4&15]+wt[bf&15]+wt[Af>>>28&15]+wt[Af>>>24&15]+wt[Af>>>20&15]+wt[Af>>>16&15]+wt[Af>>>12&15]+wt[Af>>>8&15]+wt[Af>>>4&15]+wt[Af&15]+wt[Pf>>>28&15]+wt[Pf>>>24&15]+wt[Pf>>>20&15]+wt[Pf>>>16&15]+wt[Pf>>>12&15]+wt[Pf>>>8&15]+wt[Pf>>>4&15]+wt[Pf&15];return this.is224||(zf+=wt[Df>>>28&15]+wt[Df>>>24&15]+wt[Df>>>20&15]+wt[Df>>>16&15]+wt[Df>>>12&15]+wt[Df>>>8&15]+wt[Df>>>4&15]+wt[Df&15]),zf},po.prototype.toString=po.prototype.hex,po.prototype.digest=function(){this.finalize();var cf=this.h0,yf=this.h1,Sf=this.h2,xf=this.h3,bf=this.h4,Af=this.h5,Pf=this.h6,Df=this.h7,zf=[cf>>>24&255,cf>>>16&255,cf>>>8&255,cf&255,yf>>>24&255,yf>>>16&255,yf>>>8&255,yf&255,Sf>>>24&255,Sf>>>16&255,Sf>>>8&255,Sf&255,xf>>>24&255,xf>>>16&255,xf>>>8&255,xf&255,bf>>>24&255,bf>>>16&255,bf>>>8&255,bf&255,Af>>>24&255,Af>>>16&255,Af>>>8&255,Af&255,Pf>>>24&255,Pf>>>16&255,Pf>>>8&255,Pf&255];return this.is224||zf.push(Df>>>24&255,Df>>>16&255,Df>>>8&255,Df&255),zf},po.prototype.array=po.prototype.digest,po.prototype.arrayBuffer=function(){this.finalize();var cf=new ArrayBuffer(this.is224?28:32),yf=new DataView(cf);return yf.setUint32(0,this.h0),yf.setUint32(4,this.h1),yf.setUint32(8,this.h2),yf.setUint32(12,this.h3),yf.setUint32(16,this.h4),yf.setUint32(20,this.h5),yf.setUint32(24,this.h6),this.is224||yf.setUint32(28,this.h7),cf};function xo(cf,yf,Sf){var xf,bf=typeof cf;if(bf==="string"){var Af=[],Pf=cf.length,Df=0,zf;for(xf=0;xf<Pf;++xf)zf=cf.charCodeAt(xf),zf<128?Af[Df++]=zf:zf<2048?(Af[Df++]=192|zf>>>6,Af[Df++]=128|zf&63):zf<55296||zf>=57344?(Af[Df++]=224|zf>>>12,Af[Df++]=128|zf>>>6&63,Af[Df++]=128|zf&63):(zf=65536+((zf&1023)<<10|cf.charCodeAt(++xf)&1023),Af[Df++]=240|zf>>>18,Af[Df++]=128|zf>>>12&63,Af[Df++]=128|zf>>>6&63,Af[Df++]=128|zf&63);cf=Af}else if(bf==="object"){if(cf===null)throw new Error(W);if(ut&&cf.constructor===ArrayBuffer)cf=new Uint8Array(cf);else if(!Array.isArray(cf)&&(!ut||!ArrayBuffer.isView(cf)))throw new Error(W)}else throw new Error(W);cf.length>64&&(cf=new po(yf,!0).update(cf).array());var jf=[],$f=[];for(xf=0;xf<64;++xf){var Ff=cf[xf]||0;jf[xf]=92^Ff,$f[xf]=54^Ff}po.call(this,yf,Sf),this.update($f),this.oKeyPad=jf,this.inner=!0,this.sharedMemory=Sf}xo.prototype=new po,xo.prototype.finalize=function(){if(po.prototype.finalize.call(this),this.inner){this.inner=!1;var cf=this.array();po.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(cf),po.prototype.finalize.call(this)}};var gf=wf();gf.sha256=gf,gf.sha224=wf(!0),gf.sha256.hmac=_f(),gf.sha224.hmac=_f(!0),at?F.exports=gf:(X.sha256=gf.sha256,X.sha224=gf.sha224)})()})(sha256$1);var sha256Exports=sha256$1.exports;const window$1=globalThis.window;let options=load$2(window$1.options);var mP;const iiifServer=((mP=options==null?void 0:options.defaults)==null?void 0:mP.iiifServer)||"iiif.mdpress.io";function sha256(F){return sha256Exports.sha256(F)}function isQid(F){return/^Q\d+$/.test(F)}function kebabToCamel(F){return F.replace(/-([a-z])/g,function(W){return W[1].toUpperCase()})}function md5cycle(F,W){var q=F[0],X=F[1],tt=F[2],ot=F[3];q=ff(q,X,tt,ot,W[0],7,-680876936),ot=ff(ot,q,X,tt,W[1],12,-389564586),tt=ff(tt,ot,q,X,W[2],17,606105819),X=ff(X,tt,ot,q,W[3],22,-1044525330),q=ff(q,X,tt,ot,W[4],7,-176418897),ot=ff(ot,q,X,tt,W[5],12,1200080426),tt=ff(tt,ot,q,X,W[6],17,-1473231341),X=ff(X,tt,ot,q,W[7],22,-45705983),q=ff(q,X,tt,ot,W[8],7,1770035416),ot=ff(ot,q,X,tt,W[9],12,-1958414417),tt=ff(tt,ot,q,X,W[10],17,-42063),X=ff(X,tt,ot,q,W[11],22,-1990404162),q=ff(q,X,tt,ot,W[12],7,1804603682),ot=ff(ot,q,X,tt,W[13],12,-40341101),tt=ff(tt,ot,q,X,W[14],17,-1502002290),q=gg(q,X=ff(X,tt,ot,q,W[15],22,1236535329),tt,ot,W[1],5,-165796510),ot=gg(ot,q,X,tt,W[6],9,-1069501632),tt=gg(tt,ot,q,X,W[11],14,643717713),X=gg(X,tt,ot,q,W[0],20,-373897302),q=gg(q,X,tt,ot,W[5],5,-701558691),ot=gg(ot,q,X,tt,W[10],9,38016083),tt=gg(tt,ot,q,X,W[15],14,-660478335),X=gg(X,tt,ot,q,W[4],20,-405537848),q=gg(q,X,tt,ot,W[9],5,568446438),ot=gg(ot,q,X,tt,W[14],9,-1019803690),tt=gg(tt,ot,q,X,W[3],14,-187363961),X=gg(X,tt,ot,q,W[8],20,1163531501),q=gg(q,X,tt,ot,W[13],5,-1444681467),ot=gg(ot,q,X,tt,W[2],9,-51403784),tt=gg(tt,ot,q,X,W[7],14,1735328473),q=hh$1(q,X=gg(X,tt,ot,q,W[12],20,-1926607734),tt,ot,W[5],4,-378558),ot=hh$1(ot,q,X,tt,W[8],11,-2022574463),tt=hh$1(tt,ot,q,X,W[11],16,1839030562),X=hh$1(X,tt,ot,q,W[14],23,-35309556),q=hh$1(q,X,tt,ot,W[1],4,-1530992060),ot=hh$1(ot,q,X,tt,W[4],11,1272893353),tt=hh$1(tt,ot,q,X,W[7],16,-155497632),X=hh$1(X,tt,ot,q,W[10],23,-1094730640),q=hh$1(q,X,tt,ot,W[13],4,681279174),ot=hh$1(ot,q,X,tt,W[0],11,-358537222),tt=hh$1(tt,ot,q,X,W[3],16,-722521979),X=hh$1(X,tt,ot,q,W[6],23,76029189),q=hh$1(q,X,tt,ot,W[9],4,-640364487),ot=hh$1(ot,q,X,tt,W[12],11,-421815835),tt=hh$1(tt,ot,q,X,W[15],16,530742520),q=ii$1(q,X=hh$1(X,tt,ot,q,W[2],23,-995338651),tt,ot,W[0],6,-198630844),ot=ii$1(ot,q,X,tt,W[7],10,1126891415),tt=ii$1(tt,ot,q,X,W[14],15,-1416354905),X=ii$1(X,tt,ot,q,W[5],21,-57434055),q=ii$1(q,X,tt,ot,W[12],6,1700485571),ot=ii$1(ot,q,X,tt,W[3],10,-1894986606),tt=ii$1(tt,ot,q,X,W[10],15,-1051523),X=ii$1(X,tt,ot,q,W[1],21,-2054922799),q=ii$1(q,X,tt,ot,W[8],6,1873313359),ot=ii$1(ot,q,X,tt,W[15],10,-30611744),tt=ii$1(tt,ot,q,X,W[6],15,-1560198380),X=ii$1(X,tt,ot,q,W[13],21,1309151649),q=ii$1(q,X,tt,ot,W[4],6,-145523070),ot=ii$1(ot,q,X,tt,W[11],10,-1120210379),tt=ii$1(tt,ot,q,X,W[2],15,718787259),X=ii$1(X,tt,ot,q,W[9],21,-343485551),F[0]=add32(q,F[0]),F[1]=add32(X,F[1]),F[2]=add32(tt,F[2]),F[3]=add32(ot,F[3])}function cmn(F,W,q,X,tt,ot){return W=add32(add32(W,F),add32(X,ot)),add32(W<<tt|W>>>32-tt,q)}function ff(F,W,q,X,tt,ot,at){return cmn(W&q|~W&X,F,W,tt,ot,at)}function gg(F,W,q,X,tt,ot,at){return cmn(W&X|q&~X,F,W,tt,ot,at)}function hh$1(F,W,q,X,tt,ot,at){return cmn(W^q^X,F,W,tt,ot,at)}function ii$1(F,W,q,X,tt,ot,at){return cmn(q^(W|~X),F,W,tt,ot,at)}function md51(F){var W,q=F.length,X=[1732584193,-271733879,-1732584194,271733878];for(W=64;W<=F.length;W+=64)md5cycle(X,md5blk(F.substring(W-64,W)));F=F.substring(W-64);var tt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(W=0;W<F.length;W++)tt[W>>2]|=F.charCodeAt(W)<<(W%4<<3);if(tt[W>>2]|=128<<(W%4<<3),W>55)for(md5cycle(X,tt),W=0;W<16;W++)tt[W]=0;return tt[14]=8*q,md5cycle(X,tt),X}function md5blk(F){var W,q=[];for(W=0;W<64;W+=4)q[W>>2]=F.charCodeAt(W)+(F.charCodeAt(W+1)<<8)+(F.charCodeAt(W+2)<<16)+(F.charCodeAt(W+3)<<24);return q}var hex_chr="0123456789abcdef".split("");function rhex(F){for(var W="",q=0;q<4;q++)W+=hex_chr[F>>8*q+4&15]+hex_chr[F>>8*q&15];return W}function hex$1(F){for(var W=0;W<F.length;W++)F[W]=rhex(F[W]);return F.join("")}function md5(F){return hex$1(md51(F))}function add32(F,W){return F+W&4294967295}function isMobile(){return"ontouchstart"in document.documentElement&&/mobi/i.test(navigator.userAgent)}window$1.entityData={};window$1.pendingEntityData=new Set;window$1.customEntityAliases={};async function getEntityData(F,W="en"){W=W||"en";let q=new Set(F.filter(tt=>window$1.entityData[tt]));new Set(F.filter(tt=>window$1.pendingEntityData.has(tt)));let X=F.filter(tt=>!q.has(tt));if(X.length>0){Array.from(X).forEach(ut=>window$1.pendingEntityData.add(ut));let ot=`
      SELECT ?item ?label ?description ?alias ?image ?logoImage ?coords ?pageBanner ?whosOnFirst ?wikipedia WHERE {
        VALUES (?item) { ${X.map(ut=>`(<http://www.wikidata.org/entity/${ut}>)`).join(" ")} }
        ?item rdfs:label ?label . 
        FILTER (LANG(?label) = "${W}" || LANG(?label) = "en")
        OPTIONAL { ?item schema:description ?description . FILTER (LANG(?description) = "${W}" || LANG(?description) = "en")}
        OPTIONAL { ?item skos:altLabel ?alias . FILTER (LANG(?alias) = "${W}" || LANG(?alias) = "en")}
        OPTIONAL { ?item wdt:P625 ?coords . }
        OPTIONAL { ?item wdt:P18 ?image . }
        OPTIONAL { ?item wdt:P154 ?logoImage . }
        OPTIONAL { ?item wdt:P948 ?pageBanner . }
        OPTIONAL { ?item wdt:P6766 ?whosOnFirst . }
        OPTIONAL { ?wikipedia schema:about ?item; schema:isPartOf <https://${W}.wikipedia.org/> . }
    }`,at=await fetch("https://query.wikidata.org/sparql",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/sparql-results+json"},body:`query=${encodeURIComponent(ot)}`});if(at.ok)return(await at.json()).results.bindings.forEach(wt=>{let uo=wt.item.value.split("/").pop(),mo=window$1.entityData[uo];mo?wt.alias&&mo.aliases.push(wt.alias.value):(mo={id:uo,label:wt.label.value},wt.description&&(mo.description=wt.description.value),wt.alias&&(mo.aliases=[wt.alias.value],window$1.customEntityAliases[uo]&&(mo.aliases=[...window$1.customEntityAliases[uo],...mo.aliases])),wt.coords&&(mo.coords=wt.coords.value.slice(6,-1).split(" ").reverse().join(",")),wt.wikipedia&&(mo.wikipedia=wt.wikipedia.value),wt.pageBanner&&(mo.pageBanner=wt.pageBanner.value),wt.image&&(mo.image=wt.image.value,mo.thumbnail=mwImage(wt.image.value,300)),wt.logoImage&&(mo.logoImage=wt.logoImage.value,mo.thumbnail||(mo.thumbnail=mwImage(wt.logoImage.value,300))),wt.whosOnFirst&&(mo.geojson=whosOnFirstUrl(wt.whosOnFirst.value)),window$1.entityData[uo]=mo)}),Array.from(X).forEach(wt=>window$1.pendingEntityData.delete(wt)),Object.fromEntries(F.filter(wt=>window$1.entityData[wt]).map(wt=>[wt,window$1.entityData[wt]]))}return Object.fromEntries(F.filter(tt=>window$1.entityData[tt]).map(tt=>[tt,window$1.entityData[tt]]))}function mwImage(F,W){F=(Array.isArray(F)?F[0]:F).replace(/Special:FilePath\//,"File:").split("File:").pop(),F=decodeURIComponent(F).replace(/ /g,"_");const q=md5(F),X=F.split(".").pop();let tt=`https://upload.wikimedia.org/wikipedia/commons${W?"/thumb":""}`;return tt+=`/${q.slice(0,1)}/${q.slice(0,2)}/${F}`,W&&(tt+=`/${W}px-${F}`,X==="svg"?tt+=".png":(X==="tif"||X==="tiff")&&(tt+=".jpg")),tt}function whosOnFirstUrl(F){let W=[];for(let q=0;q<F.length;q+=3)W.push(F.slice(q,q+3));return`https://data.whosonfirst.org/${W.join("/")}/${F}.geojson`}async function imageDataUrl(F,W,q){return new Promise(X=>{let{x:tt,y:ot,w:at,h:ut}=W,{width:wt,height:uo}=q,mo=new Image;mo.crossOrigin="anonymous",tt=tt?tt/100:0,ot=ot?ot/100:0,at=at?at/100:0,ut=ut?ut/100:0,mo.onload=()=>{let yo=mo.width,lf=mo.height,uf=at>0?yo*at:yo-yo*tt,df=ut>0?lf*ut:lf-lf*ot,wf=uf/df;wf>1?uo=wt/wf:wt=uo*wf;const wo=document.createElement("canvas"),ls=wo.getContext("2d");wo.width=wt,wo.height=uo,tt=tt*yo,ot=ot*lf,ls==null||ls.drawImage(mo,tt,ot,uf,df,0,0,wt,uo);let _f=wo.toDataURL();X(_f)},mo.src=F})}async function getEntity(F,W="en"){return(await getEntityData([F],W))[F]}function _findItems(F,W,q=[]){if(q=q||[],W.items)for(let X=0;X<W.items.length;X++){let tt=W.items[X];!Object.entries(F).find(([at,ut])=>tt[at]&&tt[at]!==ut)?q.push(tt):_findItems(F,tt,q)}return q}function findItem(F,W,q=1){const X=_findItems(F,W);return X.length>=q?X[q-1]:null}function getItemInfo(F,W=1){return findItem({type:"Annotation",motivation:"painting"},F,W).body}function parseImageOptions(F){let W=(F==null?void 0:F.split("/"))||[],q="full",X="full",tt="0",ot="default",at="jpg",ut=0;return{region:W.length>ut&&W[ut]?W[ut]:q,size:W.length>ut+1&&W[ut+1]?W[ut+1]:X,rotation:W.length>ut+2&&W[ut+2]?W[ut+2]:tt,quality:W.length>ut+3&&W[ut+3]?W[ut+3]:ot,format:W.length>ut+4&&W[ut+4]?W[ut+4]:at}}const _manifestCache={};async function loadManifests(F,W=!1){let q=F.map(tt=>tt.indexOf("http")===0?tt:`https://${iiifServer}/${tt}/manifest.json`),X=q.filter(tt=>!_manifestCache[tt]);if(X.length>0){let tt=X.map(ut=>(W&&["localhost",iiifServer].includes(new URL(ut).hostname)&&(ut+="?refresh"),fetch(ut))),ot=await Promise.all(tt),at=await Promise.all(ot.map(ut=>ut.json()));if(tt=at.filter(ut=>!Array.isArray(ut["@context"])&&parseFloat(ut["@context"].split("/").slice(-2,-1).pop())<3).map(ut=>fetch(`https://${iiifServer}/prezi2to3/`,{method:"POST",body:JSON.stringify(ut)})),tt.length>0){ot=await Promise.all(tt);let ut=await Promise.all(ot.map(wt=>wt.json()));for(let wt=0;wt<at.length;wt++){let uo=at[wt].id||at[wt]["@id"],mo=ut.find(yo=>(yo.id||yo["@id"])===uo);mo&&(at[wt]=mo)}}return at.forEach((ut,wt)=>_manifestCache[X[wt]]=ut),q.map(ut=>_manifestCache[ut])}else return q.map(tt=>_manifestCache[tt])}async function getManifest(F,W=!1){let q=F.indexOf("http")===0?F:`https://${iiifServer}/${F}/manifest.json`;return(await loadManifests([q],W))[0]}class EventBus{constructor(){this.events={}}on(W,q){this.events[W]=this.events[W]||[],this.events[W].push(q)}off(W,q){if(this.events[W]){for(let X=0;X<this.events[W].length;X++)if(this.events[W][X]===q){this.events[W].splice(X,1);break}}}emit(W,q){this.events[W]&&this.events[W].forEach(function(X){X(q)})}}const EventBus$1=new EventBus,_hoisted_1$o=["src","type"],_sfc_main$q=defineComponent({__name:"Audio.ce",props:{alt:{type:String},autoplay:{type:Boolean,default:!1},caption:{type:String},class:{type:String},end:{type:Number},muted:{type:Boolean,default:!0},noCaption:{type:Boolean},poster:{type:String},src:{type:String},start:{type:Number},sync:{type:Boolean,default:!1}},setup(F){const W=F,q=ref(null),X=computed(()=>{var xf,bf;return(bf=(xf=q.value)==null?void 0:xf.getRootNode())==null?void 0:bf.host}),tt=ref(null);watch$1(tt,async xf=>{!ot.value&&W.src&&(ot.value=await getManifest(W.src)),mo=xf,wo()});const ot=ref(null),at=computed(()=>ot.value?getItemInfo(ot.value):null),ut=computed(()=>{var xf;return(xf=at.value)==null?void 0:xf.id}),wt=computed(()=>{var xf;return(xf=at.value)==null?void 0:xf.format}),uo=computed(()=>{var xf;return((xf=X.value)==null?void 0:xf.style.display)==="inline-block"});watch$1(uo,xf=>{X.value.style.width=xf?"250px":"100%"}),watch$1(tt,xf=>{xf&&uo.value&&(xf.style.height="24px",xf.style.verticalAlign="middle")});let mo;const yo=ref(!1),lf=ref(!1);watch$1(X,async()=>{!ot.value&&W.src&&(ot.value=await getManifest(W.src)),df(),EventBus$1.on("seekto",xf=>Sf(xf.start,xf.end)),W.sync&&uf()});function uf(){let xf=Array.from(document.querySelectorAll("p[data-head]")).map(bf=>{let[Af,...Pf]=bf.dataset.head.split(/\s+/),Df=document.createElement("a");if(Df.classList.add("play"),Df.href="javascript:;",Df.textContent=Af,Df.addEventListener("click",()=>{Sf(bf.dataset.head)}),bf.insertBefore(document.createElement("br"),bf.firstChild),Pf.length>0){let zf=document.createElement("span");zf.classList.add("headline"),zf.textContent=Pf.join(" "),bf.insertBefore(zf,bf.firstChild)}return bf.insertBefore(Df,bf.firstChild),{start:gf(bf.dataset.head.split(/\s+/)[0]),id:bf.id}});EventBus$1.on("video-at-time",bf=>{let Af=bf.time,Pf=xf.find(Df=>{var zf;return Df.start<=Af&&(((zf=xf[xf.indexOf(Df)+1])==null?void 0:zf.start)||1/0)>Af});if(Pf&&mo&&lf.value){let Df=document.getElementById(Pf.id);Df&&Df.scrollIntoView({behavior:"smooth",block:"center"})}})}function df(){let xf=X.value.parentElement;for(;xf!=null&&xf.parentElement&&xf.tagName!=="MAIN";)Array.from(xf.querySelectorAll("a")).forEach(bf=>{let Pf=new URL(bf.href).pathname.split("/").filter(zf=>zf),Df=Pf.indexOf("play");if(Df>=0&&Pf.length>Df+1&&wf(bf)){let jf=Pf[Df+1],$f=Pf.length>Df+1?Pf[Df+2]:null;bf.classList.add("play"),bf.href="javascript:;",bf.setAttribute("data-play",$f?`${jf} ${$f}`:jf),bf.addEventListener("click",Ff=>{var fp;let[Xf,mp]=((fp=Ff.target.getAttribute("data-play"))==null?void 0:fp.split(/\s+/))||[];Xf&&Sf(Xf,mp)})}}),xf=xf.parentElement}function wf(xf){function bf(Af){let Pf=Af.previousSibling;for(;Pf;){if(Pf.nodeName==="MDP-AUDIO")return Pf===X.value?Pf:null;Pf=Pf.previousSibling}}for(bf(xf);xf.parentElement&&xf.tagName!=="BODY";){xf=xf.parentElement;let Af=xf.querySelector(":scope mdp-audio");if(Af)return Af===X.value?Af:null}}async function wo(){xo().then(xf=>EventBus$1.emit("video-at-time",{time:Math.round(xf)})),setInterval(async()=>{yo.value=await _f(),lf.value=await ls(),lf.value&&xo().then(xf=>EventBus$1.emit("video-at-time",{time:Math.round(xf)}))},1e3)}async function ls(){return!(mo.ended||mo.paused)}async function _f(){return await W.muted}function po(xf){mo.muted=xf}async function xo(){return mo.currentTime}function gf(xf){var bf=xf.split(":").slice(0,3).map(Df=>parseInt(Df,10));let Af=0,Pf=1;for(;bf.length>0;){let Df=bf.pop()||0;Af+=Pf*Df,Pf*=60}return Af}let cf=null,yf=!1;function Sf(xf,bf=""){let Af=gf(xf),Pf=bf?gf(bf)+1:-1;cf&&(clearTimeout(cf),cf=null);let Df=yo.value;setTimeout(()=>{mo.play(),mo.currentTime=Af,Pf>=Af&&(cf=setTimeout(()=>{cf=null,mo.pause(),!Df&&yf&&po(!1)},Pf===Af?200:(Pf-Af)*1e3))},200)}return(xf,bf)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:q},[ot.value?(openBlock(),createElementBlock("audio",{key:0,ref_key:"html5Player",ref:tt,id:"html5-player",controls:""},[createBaseVNode("source",{src:ut.value,type:wt.value},null,8,_hoisted_1$o)],512)):createCommentVNode("",!0)],512))}}),_style_0$o=`*{box-sizing:border-box}:host{display:block;width:100%}audio{width:100%}
`,Audio=_export_sfc(_sfc_main$q,[["styles",[_style_0$o]]]),_hoisted_1$n=["href"],_hoisted_2$i={key:1},_hoisted_3$g={key:2},_sfc_main$p=defineComponent({__name:"Breadcrumbs.ce",setup(F){const W=ref(null),q=computed(()=>{var tt;return(tt=W==null?void 0:W.value)==null?void 0:tt.parentNode});watch$1(q,tt=>{tt.children[1].classList.remove("sticky")});const X=ref();return onMounted(()=>{var at;let tt=location.pathname,ot=((at=window.config)==null?void 0:at.baseurl)||"";X.value=[...tt.split("/").filter(ut=>ut).slice(ot==null?void 0:ot.split("/").filter(ut=>ut).length).map((ut,wt,uo)=>({name:ut,path:ot+"/"+uo.slice(0,wt+1).join("/")}))]}),(tt,ot)=>{var at;return openBlock(),createElementBlock("div",{class:"main",ref_key:"root",ref:W},[(at=X.value)!=null&&at.length?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(X.value,(ut,wt)=>(openBlock(),createElementBlock(Fragment,{key:ut.path},[wt<X.value.length-1?(openBlock(),createElementBlock("a",{key:0,href:ut.path},toDisplayString(ut.name),9,_hoisted_1$n)):(openBlock(),createElementBlock("span",_hoisted_2$i,toDisplayString(ut.name),1)),wt<X.value.length-1?(openBlock(),createElementBlock("span",_hoisted_3$g," > ")):createCommentVNode("",!0)],64))),128)):createCommentVNode("",!0)],512)}}}),_style_0$n=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.end-1{inset-inline-end:.25rem}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-3{margin:.75rem}.me-1{margin-inline-end:.25rem}.ml-1{margin-left:.25rem}.mr-2{margin-right:.5rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-40{height:10rem}.h-64{height:16rem}.h-8{height:2rem}.h-80{height:20rem}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-1{width:.25rem}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-10{padding:2.5rem}.p-14{padding:3.5rem}.p-16{padding:4rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-8{padding:2rem}.px-4{padding-left:1rem;padding-right:1rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pe-1{padding-inline-end:.25rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.\\!ordinal{--tw-ordinal: ordinal !important;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)!important}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[a\\:a\\]{a:a}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}mdp-header ul,mdp-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}.main{display:flex;align-items:center;gap:1rem;width:100%;flex-wrap:wrap;line-height:1.5;padding:.5rem 0}a{color:#0645ad}a:hover{text-decoration:underline}span{color:gray;font-weight:500}
`,Breadcrumbs=_export_sfc(_sfc_main$p,[["styles",[_style_0$n]]]),_hoisted_1$m=["slot","src","alt"],_sfc_main$o=defineComponent({__name:"Compare.ce",props:{caption:{type:String},height:{type:Number},width:{type:Number}},setup(F){const W=F,q=ref(null),X=computed(()=>{var cf,yf;return(yf=(cf=q.value)==null?void 0:cf.getRootNode())==null?void 0:yf.host}),tt=ref(null),ot=ref(null),at=ref(null);watch$1(W,()=>{_f()}),watch$1(ot,cf=>{cf&&new ResizeObserver(()=>{df.value||(df.value=cf==null?void 0:cf.clientWidth),wf.value||(wf.value=cf==null?void 0:cf.clientHeight)}).observe(cf),uf()}),watch$1(at,cf=>{cf&&new ResizeObserver(()=>{}).observe(cf)});const ut=ref([]);watch$1(ut,async cf=>{wt.value=await Promise.all(cf.map(yf=>yf.src||yf.manifest?getManifest(yf.src||yf.manifest):fetch(`https://${iiifServer}/manifest/`,{method:"POST",body:JSON.stringify(yf)}).then(Sf=>Sf.json()))).then(yf=>yf.flat())});const wt=ref([]),uo=computed(()=>{if(!wt.value.length)return{width:0,height:0};let cf=wt.value[0]&&po({type:"Annotation",motivation:"painting"},wt.value[0],ut.value[0].seq||1).body;return{width:cf.width,height:cf.height}}),mo=computed(()=>{var cf,yf;return Number(((((cf=uo.value)==null?void 0:cf.width)||1)/(((yf=uo.value)==null?void 0:yf.height)||1)).toFixed(4))});watch$1(mo,cf=>{});const yo=computed(()=>wt.value.length&&wf.value&&df.value?gf():[]),lf=computed(()=>ut.value.filter(cf=>cf.caption).map(cf=>cf.caption).join(" "));function uf(){_f();function cf(Sf){var Af;let xf=[];Sf=Sf.replace(/”/g,'"').replace(/”/g,'"').replace(/’/g,"'"),(Af=Sf==null?void 0:Sf.match(/[^\s"]+|"([^"]*)"/gmi))==null||Af.filter(Pf=>Pf).forEach(Pf=>{xf.length>0&&xf[xf.length-1].indexOf("=")===xf[xf.length-1].length-1?xf[xf.length-1]=`${xf[xf.length-1]}${Pf}`:xf.push(Pf)});let bf={};return xf.forEach(Pf=>{let Df=Pf.indexOf("="),zf=Pf.slice(0,Df),jf=Pf.slice(Df+1);bf[zf]=jf[0]==='"'?jf.slice(1,-1):jf}),bf}function yf(){ut.value=Array.from(X.value.querySelectorAll("li")).map(Sf=>cf(Sf.textContent||"")).filter(Sf=>Sf.src||Sf.manifest||Sf.url)}new MutationObserver(Sf=>{for(let xf of Sf)xf.type==="childList"&&Array.from(xf.target.classList).indexOf("hydrated")>=0&&yf()}).observe(X.value,{childList:!0,subtree:!0,characterData:!0}),yf()}const df=ref(0),wf=ref(0);function wo(cf,yf="en"){return typeof cf=="object"?cf[yf]||cf.none||cf[Object.keys(cf).sort()[0]]:cf}function ls(cf,yf="en"){return cf?wo(cf.label,yf):null}function _f(){var cf;W.width?(df.value=W.width,X.value.style.width=`${df.value}px`):df.value=((cf=tt.value)==null?void 0:cf.clientWidth)||0,W.height&&(X.value.style.height=`${W.height}px`)}function po(cf,yf,Sf=1){const xf=xo(cf,yf);return xf.length>=Sf?xf[Sf-1]:null}function xo(cf,yf,Sf=[]){if(Sf=Sf||[],yf.items)for(let xf=0;xf<yf.items.length;xf++){let bf=yf.items[xf];!Object.entries(cf).find(([Pf,Df])=>bf[Pf]&&bf[Pf]!==Df)?Sf.push(bf):xo(cf,bf,Sf)}return Sf}function gf(){let cf=df.value,yf=wf.value,Sf=df.value/wf.value;return ut.value.map((xf,bf)=>{let Af=po({type:"Annotation",motivation:"painting"},wt.value[bf],ut.value[bf].seq||1).body,Pf,Df,zf,jf;xf.region&&([Pf,Df,zf,jf]=xf.region.split(":").pop().split(",").map($p=>parseFloat($p)),xf.region.split(":")[0]==="pct"&&(Pf=Math.round(Pf*Af.width/100),Df=Math.round(Df*Af.height/100),zf=Math.round(zf*Af.width/100),jf=Math.round(jf*Af.height/100)));const $f=zf||Af.width,Ff=jf||Af.height,Xf=Number(($f/Ff).toFixed(4));let mp=$f,fp=Ff;Xf>Sf?(mp=Math.round(Ff*Sf),fp=Math.round(mp/Sf)):(fp=Math.round($f/Sf),mp=Math.round(fp*Sf));let Mp=Af.service[0].id||Af.service[0]["@id"];const Np=(Pf||0)+Math.abs(Math.round((mp-$f)*.5)),Pp=(Df||0)+Math.abs(Math.round((fp-Ff)*.5));let yp=`${Np},${Pp},${mp},${fp}`;return`${Mp}/${yp}/${cf},${yf}/${xf.mirror?"!":""}${xf.rotation||0}/${xf.quality||"default"}.${xf.format||"jpg"}`})}return(cf,yf)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:q,class:"compare",style:{width:"100%"}},[createBaseVNode("div",{ref_key:"wrapper",ref:tt,class:"wrapper"},[createBaseVNode("sl-image-comparer",{ref_key:"compare",ref:ot},[(openBlock(!0),createElementBlock(Fragment,null,renderList(yo.value,(Sf,xf)=>(openBlock(),createElementBlock("img",{key:`img-${xf}`,slot:xf===0?"before":"after",src:Sf,alt:ls(wt.value[xf])},null,8,_hoisted_1$m))),128))],512),lf.value?(openBlock(),createElementBlock("div",{key:0,ref_key:"captionEl",ref:at,class:"caption"},toDisplayString(lf.value),513)):createCommentVNode("",!0)],512)],512))}}),_style_0$m=`*,*:before,*:after{box-sizing:border-box}.wrapper{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%}sl-image-comparer{width:100%;flex:1}.caption{background-color:#fff;margin-top:-.5em;padding:.3em;width:100%;font-size:1em;font-weight:400;text-align:center;margin-bottom:.3em;line-height:1.3}
`,Compare=_export_sfc(_sfc_main$o,[["styles",[_style_0$m]]]);let GithubClient$1=class{constructor(W){this._shas={},this.authToken=W}b64EncodeUnicode(W){return btoa(encodeURIComponent(W).replace(/%([0-9A-F]{2})/g,function(q,X){return String.fromCharCode(parseInt(X,16))}))}b64DecodeUnicode(W){return decodeURIComponent(Array.prototype.map.call(atob(W),function(q){return"%"+("00"+q.charCodeAt(0).toString(16)).slice(-2)}).join(""))}user(){return fetch("https://api.github.com/user",{headers:{Accept:"application/vnd.github+json",Authorization:`token ${this.authToken}`}}).then(W=>W.json())}async isCollaborator(W,q,X){let tt=`https://api.github.com/repos/${W}/${q}/collaborators/${X}`,ot=await fetch(tt,{headers:{Accept:"application/vnd.github+json",Authorization:`token ${this.authToken}`}});return ot.ok&&ot.status===204}organizations(){return fetch("https://api.github.com/user/orgs",{headers:{Accept:"application/vnd.github+json",Authorization:`token ${this.authToken}`}}).then(W=>W.json())}repos(W="",q=""){let X=W?`users/${W}`:q?`orgs/${q}`:"user";return fetch(`https://api.github.com/${X}/repos?per_page=100`,{headers:{Accept:"application/vnd.github+json",Authorization:`token ${this.authToken}`}}).then(tt=>tt.json())}async createRepository({org:W=null,name:q="",description:X="",auto_init:tt=!0}){let ot=W?`https://api.github.com/orgs/${W}/repos`:"https://api.github.com/user/repos",at=await fetch(ot,{method:"POST",body:JSON.stringify({name:q,description:X,auto_init:tt}),headers:{Authorization:`Token ${this.authToken}`}});return{status:at.status,statusText:at.statusText}}branches(W,q){return fetch(`https://api.github.com/repos/${W}/${q}/branches`,{headers:{Accept:"application/vnd.github+json",Authorization:`token ${this.authToken}`}}).then(X=>X.json())}async getFile(W,q,X,tt){let ot,at=`https://api.github.com/repos/${W}/${q}/contents/${X}`;tt&&(at+=`?ref=${tt}`);let ut=await fetch(at,{cache:"no-cache",headers:{Authorization:`Token ${this.authToken}`}}).catch(wt=>{console.error(wt)});return ut.ok&&(ut=await ut.json(),ot=decodeURIComponent(escape(atob(ut.content)))),Promise.resolve({content:ot,sha:ut.sha})}async getSha(W,q,X,tt){let ot=`https://api.github.com/repos/${W}/${q}/contents/${X}`;tt&&(ot+=`?ref=${tt}`);let at=await fetch(ot,{headers:{Authorization:`Token ${this.authToken}`}});return at.ok&&(at=await at.json()),at.sha}async putFile(W,q,X,tt,ot,at=!1,ut=""){let wt=`https://api.github.com/repos/${W}/${q}/contents/${X}`,uo=`${W}/${q}/${ot}/${X}`;ut=ut||this._shas[uo]||await this.getSha(W,q,X,ot);let mo={message:"API commit",content:at?btoa(tt):this.b64EncodeUnicode(tt)};ot&&(mo.branch=ot),ut&&(mo.sha=ut);let yo=await fetch(wt,{method:"PUT",body:JSON.stringify(mo),headers:{Authorization:`Token ${this.authToken}`}});return yo.ok&&(ut=(await yo.json()).content.sha,this._shas[uo]=ut),{status:yo.status,statusText:yo.statusText,sha:ut}}async deleteFile(W,q,X,tt,ot=""){ot=ot||await this.getSha(W,q,X,tt);let at=`https://api.github.com/repos/${W}/${q}/contents/${X}`,wt=await fetch(at,{method:"DELETE",body:JSON.stringify({message:"API commit",sha:ot}),headers:{Authorization:`Token ${this.authToken}`}});wt=await wt.json()}async defaultBranch(W,q){let X=null,tt=`https://api.github.com/repos/${W}/${q}`,ot=await fetch(tt,{headers:{Authorization:`Token ${this.authToken}`}});return ot.ok&&(ot=await ot.json(),X=ot.default_branch),X}async dirlist(W,q,X,tt){var uo;X=X||"",tt=tt||await this.defaultBranch(W,q);let ot=[],at=`https://api.github.com/repos/${W}/${q}/git/trees/${tt}`,ut={Authorization:`Token ${this.authToken}`,Accept:"application/vnd.github.v3+json","If-None-Match":""},wt=X.split("/").filter(mo=>mo);for(let mo=0;mo<wt.length;mo++){let yo=await fetch(at,{headers:ut}),lf=yo.ok?await yo.json():{},uf=lf?(uo=lf.tree)==null?void 0:uo.find(df=>df.path===wt[mo]):null;if(at=uf?uf.url:null,!at)break}if(at){let mo=await fetch(at,{headers:ut});ot=((mo.ok?await mo.json():{}).tree||[]).map(lf=>({name:lf.path,sha:lf.sha,type:lf.type==="tree"?"dir":"file"}))}return ot}async fullPath(W,q,X,tt,ot=!1){let at=X.split("/").filter(mo=>mo),ut=at[at.length-1],wt=await this.dirlist(W,q,at.join("/"),tt);if(wt.length===0&&(at.pop(),wt=await this.dirlist(W,q,at.join("/"),tt)),!ot){let mo=[ut,`${ut}.md`,"README.md"];for(let yo=0;yo<mo.length;yo++)if(wt.find(lf=>lf.type==="file"&&lf.name===mo[yo])){at.push(mo[yo]);break}}return at.join("/")}};var breadcrumb_styles_default=i$6`
  ${component_styles_default}

  .breadcrumb {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
  }
`,SlBreadcrumb=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController(this),this.separatorDir=this.localize.dir(),this.label=""}getSeparator(){const W=this.separatorSlot.assignedElements({flatten:!0})[0].cloneNode(!0);return[W,...W.querySelectorAll("[id]")].forEach(q=>q.removeAttribute("id")),W.setAttribute("data-default",""),W.slot="separator",W}handleSlotChange(){const F=[...this.defaultSlot.assignedElements({flatten:!0})].filter(W=>W.tagName.toLowerCase()==="sl-breadcrumb-item");F.forEach((W,q)=>{const X=W.querySelector('[slot="separator"]');X===null?W.append(this.getSeparator()):X.hasAttribute("data-default")&&X.replaceWith(this.getSeparator()),q===F.length-1?W.setAttribute("aria-current","page"):W.removeAttribute("aria-current")})}render(){return this.separatorDir!==this.localize.dir()&&(this.separatorDir=this.localize.dir(),this.updateComplete.then(()=>this.handleSlotChange())),x`
      <nav part="base" class="breadcrumb" aria-label=${this.label}>
        <slot @slotchange=${this.handleSlotChange}></slot>
      </nav>

      <span hidden aria-hidden="true">
        <slot name="separator">
          <sl-icon name=${this.localize.dir()==="rtl"?"chevron-left":"chevron-right"} library="system"></sl-icon>
        </slot>
      </span>
    `}};SlBreadcrumb.styles=breadcrumb_styles_default;SlBreadcrumb.dependencies={"sl-icon":SlIcon};__decorateClass([e$5("slot")],SlBreadcrumb.prototype,"defaultSlot",2);__decorateClass([e$5('slot[name="separator"]')],SlBreadcrumb.prototype,"separatorSlot",2);__decorateClass([n$4()],SlBreadcrumb.prototype,"label",2);SlBreadcrumb.define("sl-breadcrumb");var breadcrumb_item_styles_default=i$6`
  ${component_styles_default}

  :host {
    display: inline-flex;
  }

  .breadcrumb-item {
    display: inline-flex;
    align-items: center;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-small);
    font-weight: var(--sl-font-weight-semibold);
    color: var(--sl-color-neutral-600);
    line-height: var(--sl-line-height-normal);
    white-space: nowrap;
  }

  .breadcrumb-item__label {
    display: inline-block;
    font-family: inherit;
    font-size: inherit;
    font-weight: inherit;
    line-height: inherit;
    text-decoration: none;
    color: inherit;
    background: none;
    border: none;
    border-radius: var(--sl-border-radius-medium);
    padding: 0;
    margin: 0;
    cursor: pointer;
    transition: var(--sl-transition-fast) --color;
  }

  :host(:not(:last-of-type)) .breadcrumb-item__label {
    color: var(--sl-color-primary-600);
  }

  :host(:not(:last-of-type)) .breadcrumb-item__label:hover {
    color: var(--sl-color-primary-500);
  }

  :host(:not(:last-of-type)) .breadcrumb-item__label:active {
    color: var(--sl-color-primary-600);
  }

  .breadcrumb-item__label:focus {
    outline: none;
  }

  .breadcrumb-item__label:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .breadcrumb-item__prefix,
  .breadcrumb-item__suffix {
    display: none;
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .breadcrumb-item--has-prefix .breadcrumb-item__prefix {
    display: inline-flex;
    margin-inline-end: var(--sl-spacing-x-small);
  }

  .breadcrumb-item--has-suffix .breadcrumb-item__suffix {
    display: inline-flex;
    margin-inline-start: var(--sl-spacing-x-small);
  }

  :host(:last-of-type) .breadcrumb-item__separator {
    display: none;
  }

  .breadcrumb-item__separator {
    display: inline-flex;
    align-items: center;
    margin: 0 var(--sl-spacing-x-small);
    user-select: none;
    -webkit-user-select: none;
  }
`,SlBreadcrumbItem=class extends ShoelaceElement{constructor(){super(...arguments),this.hasSlotController=new HasSlotController(this,"prefix","suffix"),this.rel="noreferrer noopener"}render(){const F=!!this.href;return x`
      <div
        part="base"
        class=${e$3({"breadcrumb-item":!0,"breadcrumb-item--has-prefix":this.hasSlotController.test("prefix"),"breadcrumb-item--has-suffix":this.hasSlotController.test("suffix")})}
      >
        <span part="prefix" class="breadcrumb-item__prefix">
          <slot name="prefix"></slot>
        </span>

        ${F?x`
              <a
                part="label"
                class="breadcrumb-item__label breadcrumb-item__label--link"
                href="${this.href}"
                target="${o$4(this.target?this.target:void 0)}"
                rel=${o$4(this.target?this.rel:void 0)}
              >
                <slot></slot>
              </a>
            `:x`
              <button part="label" type="button" class="breadcrumb-item__label breadcrumb-item__label--button">
                <slot></slot>
              </button>
            `}

        <span part="suffix" class="breadcrumb-item__suffix">
          <slot name="suffix"></slot>
        </span>

        <span part="separator" class="breadcrumb-item__separator" aria-hidden="true">
          <slot name="separator"></slot>
        </span>
      </div>
    `}};SlBreadcrumbItem.styles=breadcrumb_item_styles_default;__decorateClass([n$4()],SlBreadcrumbItem.prototype,"href",2);__decorateClass([n$4()],SlBreadcrumbItem.prototype,"target",2);__decorateClass([n$4()],SlBreadcrumbItem.prototype,"rel",2);SlBreadcrumbItem.define("sl-breadcrumb-item");var details_styles_default=i$6`
  ${component_styles_default}

  :host {
    display: block;
  }

  .details {
    border: solid 1px var(--sl-color-neutral-200);
    border-radius: var(--sl-border-radius-medium);
    background-color: var(--sl-color-neutral-0);
    overflow-anchor: none;
  }

  .details--disabled {
    opacity: 0.5;
  }

  .details__header {
    display: flex;
    align-items: center;
    border-radius: inherit;
    padding: var(--sl-spacing-medium);
    user-select: none;
    -webkit-user-select: none;
    cursor: pointer;
  }

  .details__header::-webkit-details-marker {
    display: none;
  }

  .details__header:focus {
    outline: none;
  }

  .details__header:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: calc(1px + var(--sl-focus-ring-offset));
  }

  .details--disabled .details__header {
    cursor: not-allowed;
  }

  .details--disabled .details__header:focus-visible {
    outline: none;
    box-shadow: none;
  }

  .details__summary {
    flex: 1 1 auto;
    display: flex;
    align-items: center;
  }

  .details__summary-icon {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    transition: var(--sl-transition-medium) rotate ease;
  }

  .details--open .details__summary-icon {
    rotate: 90deg;
  }

  .details--open.details--rtl .details__summary-icon {
    rotate: -90deg;
  }

  .details--open slot[name='expand-icon'],
  .details:not(.details--open) slot[name='collapse-icon'] {
    display: none;
  }

  .details__body {
    overflow: hidden;
  }

  .details__content {
    display: block;
    padding: var(--sl-spacing-medium);
  }
`,SlDetails=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController(this),this.open=!1,this.disabled=!1}firstUpdated(){this.body.style.height=this.open?"auto":"0",this.open&&(this.details.open=!0),this.detailsObserver=new MutationObserver(F=>{for(const W of F)W.type==="attributes"&&W.attributeName==="open"&&(this.details.open?this.show():this.hide())}),this.detailsObserver.observe(this.details,{attributes:!0})}disconnectedCallback(){super.disconnectedCallback(),this.detailsObserver.disconnect()}handleSummaryClick(F){F.preventDefault(),this.disabled||(this.open?this.hide():this.show(),this.header.focus())}handleSummaryKeyDown(F){(F.key==="Enter"||F.key===" ")&&(F.preventDefault(),this.open?this.hide():this.show()),(F.key==="ArrowUp"||F.key==="ArrowLeft")&&(F.preventDefault(),this.hide()),(F.key==="ArrowDown"||F.key==="ArrowRight")&&(F.preventDefault(),this.show())}async handleOpenChange(){if(this.open){if(this.details.open=!0,this.emit("sl-show",{cancelable:!0}).defaultPrevented){this.open=!1,this.details.open=!1;return}await stopAnimations(this.body);const{keyframes:W,options:q}=getAnimation(this,"details.show",{dir:this.localize.dir()});await animateTo(this.body,shimKeyframesHeightAuto(W,this.body.scrollHeight),q),this.body.style.height="auto",this.emit("sl-after-show")}else{if(this.emit("sl-hide",{cancelable:!0}).defaultPrevented){this.details.open=!0,this.open=!0;return}await stopAnimations(this.body);const{keyframes:W,options:q}=getAnimation(this,"details.hide",{dir:this.localize.dir()});await animateTo(this.body,shimKeyframesHeightAuto(W,this.body.scrollHeight),q),this.body.style.height="auto",this.details.open=!1,this.emit("sl-after-hide")}}async show(){if(!(this.open||this.disabled))return this.open=!0,waitForEvent(this,"sl-after-show")}async hide(){if(!(!this.open||this.disabled))return this.open=!1,waitForEvent(this,"sl-after-hide")}render(){const F=this.localize.dir()==="rtl";return x`
      <details
        part="base"
        class=${e$3({details:!0,"details--open":this.open,"details--disabled":this.disabled,"details--rtl":F})}
      >
        <summary
          part="header"
          id="header"
          class="details__header"
          role="button"
          aria-expanded=${this.open?"true":"false"}
          aria-controls="content"
          aria-disabled=${this.disabled?"true":"false"}
          tabindex=${this.disabled?"-1":"0"}
          @click=${this.handleSummaryClick}
          @keydown=${this.handleSummaryKeyDown}
        >
          <slot name="summary" part="summary" class="details__summary">${this.summary}</slot>

          <span part="summary-icon" class="details__summary-icon">
            <slot name="expand-icon">
              <sl-icon library="system" name=${F?"chevron-left":"chevron-right"}></sl-icon>
            </slot>
            <slot name="collapse-icon">
              <sl-icon library="system" name=${F?"chevron-left":"chevron-right"}></sl-icon>
            </slot>
          </span>
        </summary>

        <div class="details__body" role="region" aria-labelledby="header">
          <slot part="content" id="content" class="details__content"></slot>
        </div>
      </details>
    `}};SlDetails.styles=details_styles_default;SlDetails.dependencies={"sl-icon":SlIcon};__decorateClass([e$5(".details")],SlDetails.prototype,"details",2);__decorateClass([e$5(".details__header")],SlDetails.prototype,"header",2);__decorateClass([e$5(".details__body")],SlDetails.prototype,"body",2);__decorateClass([e$5(".details__expand-icon-slot")],SlDetails.prototype,"expandIconSlot",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlDetails.prototype,"open",2);__decorateClass([n$4()],SlDetails.prototype,"summary",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlDetails.prototype,"disabled",2);__decorateClass([watch("open",{waitUntilFirstUpdate:!0})],SlDetails.prototype,"handleOpenChange",1);setDefaultAnimation("details.show",{keyframes:[{height:"0",opacity:"0"},{height:"auto",opacity:"1"}],options:{duration:250,easing:"linear"}});setDefaultAnimation("details.hide",{keyframes:[{height:"auto",opacity:"1"},{height:"0",opacity:"0"}],options:{duration:250,easing:"linear"}});SlDetails.define("sl-details");var drawer_styles_default=i$6`
  ${component_styles_default}

  :host {
    --size: 25rem;
    --header-spacing: var(--sl-spacing-large);
    --body-spacing: var(--sl-spacing-large);
    --footer-spacing: var(--sl-spacing-large);

    display: contents;
  }

  .drawer {
    top: 0;
    inset-inline-start: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    overflow: hidden;
  }

  .drawer--contained {
    position: absolute;
    z-index: initial;
  }

  .drawer--fixed {
    position: fixed;
    z-index: var(--sl-z-index-drawer);
  }

  .drawer__panel {
    position: absolute;
    display: flex;
    flex-direction: column;
    z-index: 2;
    max-width: 100%;
    max-height: 100%;
    background-color: var(--sl-panel-background-color);
    box-shadow: var(--sl-shadow-x-large);
    overflow: auto;
    pointer-events: all;
  }

  .drawer__panel:focus {
    outline: none;
  }

  .drawer--top .drawer__panel {
    top: 0;
    inset-inline-end: auto;
    bottom: auto;
    inset-inline-start: 0;
    width: 100%;
    height: var(--size);
  }

  .drawer--end .drawer__panel {
    top: 0;
    inset-inline-end: 0;
    bottom: auto;
    inset-inline-start: auto;
    width: var(--size);
    height: 100%;
  }

  .drawer--bottom .drawer__panel {
    top: auto;
    inset-inline-end: auto;
    bottom: 0;
    inset-inline-start: 0;
    width: 100%;
    height: var(--size);
  }

  .drawer--start .drawer__panel {
    top: 0;
    inset-inline-end: auto;
    bottom: auto;
    inset-inline-start: 0;
    width: var(--size);
    height: 100%;
  }

  .drawer__header {
    display: flex;
  }

  .drawer__title {
    flex: 1 1 auto;
    font: inherit;
    font-size: var(--sl-font-size-large);
    line-height: var(--sl-line-height-dense);
    padding: var(--header-spacing);
    margin: 0;
  }

  .drawer__header-actions {
    flex-shrink: 0;
    display: flex;
    flex-wrap: wrap;
    justify-content: end;
    gap: var(--sl-spacing-2x-small);
    padding: 0 var(--header-spacing);
  }

  .drawer__header-actions sl-icon-button,
  .drawer__header-actions ::slotted(sl-icon-button) {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    font-size: var(--sl-font-size-medium);
  }

  .drawer__body {
    flex: 1 1 auto;
    display: block;
    padding: var(--body-spacing);
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }

  .drawer__footer {
    text-align: right;
    padding: var(--footer-spacing);
  }

  .drawer__footer ::slotted(sl-button:not(:last-of-type)) {
    margin-inline-end: var(--sl-spacing-x-small);
  }

  .drawer:not(.drawer--has-footer) .drawer__footer {
    display: none;
  }

  .drawer__overlay {
    display: block;
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-color: var(--sl-overlay-background-color);
    pointer-events: all;
  }

  .drawer--contained .drawer__overlay {
    display: none;
  }

  @media (forced-colors: active) {
    .drawer__panel {
      border: solid 1px var(--sl-color-neutral-0);
    }
  }
`;function uppercaseFirstLetter(F){return F.charAt(0).toUpperCase()+F.slice(1)}var SlDrawer=class extends ShoelaceElement{constructor(){super(...arguments),this.hasSlotController=new HasSlotController(this,"footer"),this.localize=new LocalizeController(this),this.modal=new Modal$1(this),this.open=!1,this.label="",this.placement="end",this.contained=!1,this.noHeader=!1,this.handleDocumentKeyDown=F=>{this.contained||F.key==="Escape"&&this.modal.isActive()&&this.open&&(F.stopImmediatePropagation(),this.requestClose("keyboard"))}}firstUpdated(){this.drawer.hidden=!this.open,this.open&&(this.addOpenListeners(),this.contained||(this.modal.activate(),lockBodyScrolling(this)))}disconnectedCallback(){var F;super.disconnectedCallback(),unlockBodyScrolling(this),(F=this.closeWatcher)==null||F.destroy()}requestClose(F){if(this.emit("sl-request-close",{cancelable:!0,detail:{source:F}}).defaultPrevented){const q=getAnimation(this,"drawer.denyClose",{dir:this.localize.dir()});animateTo(this.panel,q.keyframes,q.options);return}this.hide()}addOpenListeners(){var F;"CloseWatcher"in window?((F=this.closeWatcher)==null||F.destroy(),this.contained||(this.closeWatcher=new CloseWatcher,this.closeWatcher.onclose=()=>this.requestClose("keyboard"))):document.addEventListener("keydown",this.handleDocumentKeyDown)}removeOpenListeners(){var F;document.removeEventListener("keydown",this.handleDocumentKeyDown),(F=this.closeWatcher)==null||F.destroy()}async handleOpenChange(){if(this.open){this.emit("sl-show"),this.addOpenListeners(),this.originalTrigger=document.activeElement,this.contained||(this.modal.activate(),lockBodyScrolling(this));const F=this.querySelector("[autofocus]");F&&F.removeAttribute("autofocus"),await Promise.all([stopAnimations(this.drawer),stopAnimations(this.overlay)]),this.drawer.hidden=!1,requestAnimationFrame(()=>{this.emit("sl-initial-focus",{cancelable:!0}).defaultPrevented||(F?F.focus({preventScroll:!0}):this.panel.focus({preventScroll:!0})),F&&F.setAttribute("autofocus","")});const W=getAnimation(this,`drawer.show${uppercaseFirstLetter(this.placement)}`,{dir:this.localize.dir()}),q=getAnimation(this,"drawer.overlay.show",{dir:this.localize.dir()});await Promise.all([animateTo(this.panel,W.keyframes,W.options),animateTo(this.overlay,q.keyframes,q.options)]),this.emit("sl-after-show")}else{this.emit("sl-hide"),this.removeOpenListeners(),this.contained||(this.modal.deactivate(),unlockBodyScrolling(this)),await Promise.all([stopAnimations(this.drawer),stopAnimations(this.overlay)]);const F=getAnimation(this,`drawer.hide${uppercaseFirstLetter(this.placement)}`,{dir:this.localize.dir()}),W=getAnimation(this,"drawer.overlay.hide",{dir:this.localize.dir()});await Promise.all([animateTo(this.overlay,W.keyframes,W.options).then(()=>{this.overlay.hidden=!0}),animateTo(this.panel,F.keyframes,F.options).then(()=>{this.panel.hidden=!0})]),this.drawer.hidden=!0,this.overlay.hidden=!1,this.panel.hidden=!1;const q=this.originalTrigger;typeof(q==null?void 0:q.focus)=="function"&&setTimeout(()=>q.focus()),this.emit("sl-after-hide")}}handleNoModalChange(){this.open&&!this.contained&&(this.modal.activate(),lockBodyScrolling(this)),this.open&&this.contained&&(this.modal.deactivate(),unlockBodyScrolling(this))}async show(){if(!this.open)return this.open=!0,waitForEvent(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,waitForEvent(this,"sl-after-hide")}render(){return x`
      <div
        part="base"
        class=${e$3({drawer:!0,"drawer--open":this.open,"drawer--top":this.placement==="top","drawer--end":this.placement==="end","drawer--bottom":this.placement==="bottom","drawer--start":this.placement==="start","drawer--contained":this.contained,"drawer--fixed":!this.contained,"drawer--rtl":this.localize.dir()==="rtl","drawer--has-footer":this.hasSlotController.test("footer")})}
      >
        <div part="overlay" class="drawer__overlay" @click=${()=>this.requestClose("overlay")} tabindex="-1"></div>

        <div
          part="panel"
          class="drawer__panel"
          role="dialog"
          aria-modal="true"
          aria-hidden=${this.open?"false":"true"}
          aria-label=${o$4(this.noHeader?this.label:void 0)}
          aria-labelledby=${o$4(this.noHeader?void 0:"title")}
          tabindex="0"
        >
          ${this.noHeader?"":x`
                <header part="header" class="drawer__header">
                  <h2 part="title" class="drawer__title" id="title">
                    <!-- If there's no label, use an invisible character to prevent the header from collapsing -->
                    <slot name="label"> ${this.label.length>0?this.label:String.fromCharCode(65279)} </slot>
                  </h2>
                  <div part="header-actions" class="drawer__header-actions">
                    <slot name="header-actions"></slot>
                    <sl-icon-button
                      part="close-button"
                      exportparts="base:close-button__base"
                      class="drawer__close"
                      name="x-lg"
                      label=${this.localize.term("close")}
                      library="system"
                      @click=${()=>this.requestClose("close-button")}
                    ></sl-icon-button>
                  </div>
                </header>
              `}

          <slot part="body" class="drawer__body"></slot>

          <footer part="footer" class="drawer__footer">
            <slot name="footer"></slot>
          </footer>
        </div>
      </div>
    `}};SlDrawer.styles=drawer_styles_default;SlDrawer.dependencies={"sl-icon-button":SlIconButton};__decorateClass([e$5(".drawer")],SlDrawer.prototype,"drawer",2);__decorateClass([e$5(".drawer__panel")],SlDrawer.prototype,"panel",2);__decorateClass([e$5(".drawer__overlay")],SlDrawer.prototype,"overlay",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlDrawer.prototype,"open",2);__decorateClass([n$4({reflect:!0})],SlDrawer.prototype,"label",2);__decorateClass([n$4({reflect:!0})],SlDrawer.prototype,"placement",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlDrawer.prototype,"contained",2);__decorateClass([n$4({attribute:"no-header",type:Boolean,reflect:!0})],SlDrawer.prototype,"noHeader",2);__decorateClass([watch("open",{waitUntilFirstUpdate:!0})],SlDrawer.prototype,"handleOpenChange",1);__decorateClass([watch("contained",{waitUntilFirstUpdate:!0})],SlDrawer.prototype,"handleNoModalChange",1);setDefaultAnimation("drawer.showTop",{keyframes:[{opacity:0,translate:"0 -100%"},{opacity:1,translate:"0 0"}],options:{duration:250,easing:"ease"}});setDefaultAnimation("drawer.hideTop",{keyframes:[{opacity:1,translate:"0 0"},{opacity:0,translate:"0 -100%"}],options:{duration:250,easing:"ease"}});setDefaultAnimation("drawer.showEnd",{keyframes:[{opacity:0,translate:"100%"},{opacity:1,translate:"0"}],rtlKeyframes:[{opacity:0,translate:"-100%"},{opacity:1,translate:"0"}],options:{duration:250,easing:"ease"}});setDefaultAnimation("drawer.hideEnd",{keyframes:[{opacity:1,translate:"0"},{opacity:0,translate:"100%"}],rtlKeyframes:[{opacity:1,translate:"0"},{opacity:0,translate:"-100%"}],options:{duration:250,easing:"ease"}});setDefaultAnimation("drawer.showBottom",{keyframes:[{opacity:0,translate:"0 100%"},{opacity:1,translate:"0 0"}],options:{duration:250,easing:"ease"}});setDefaultAnimation("drawer.hideBottom",{keyframes:[{opacity:1,translate:"0 0"},{opacity:0,translate:"0 100%"}],options:{duration:250,easing:"ease"}});setDefaultAnimation("drawer.showStart",{keyframes:[{opacity:0,translate:"-100%"},{opacity:1,translate:"0"}],rtlKeyframes:[{opacity:0,translate:"100%"},{opacity:1,translate:"0"}],options:{duration:250,easing:"ease"}});setDefaultAnimation("drawer.hideStart",{keyframes:[{opacity:1,translate:"0"},{opacity:0,translate:"-100%"}],rtlKeyframes:[{opacity:1,translate:"0"},{opacity:0,translate:"100%"}],options:{duration:250,easing:"ease"}});setDefaultAnimation("drawer.denyClose",{keyframes:[{scale:1},{scale:1.01},{scale:1}],options:{duration:250}});setDefaultAnimation("drawer.overlay.show",{keyframes:[{opacity:0},{opacity:1}],options:{duration:250}});setDefaultAnimation("drawer.overlay.hide",{keyframes:[{opacity:1},{opacity:0}],options:{duration:250}});SlDrawer.define("sl-drawer");var divider_styles_default=i$6`
  ${component_styles_default}

  :host {
    --color: var(--sl-panel-border-color);
    --width: var(--sl-panel-border-width);
    --spacing: var(--sl-spacing-medium);
  }

  :host(:not([vertical])) {
    display: block;
    border-top: solid var(--width) var(--color);
    margin: var(--spacing) 0;
  }

  :host([vertical]) {
    display: inline-block;
    height: 100%;
    border-left: solid var(--width) var(--color);
    margin: 0 var(--spacing);
  }
`,SlDivider=class extends ShoelaceElement{constructor(){super(...arguments),this.vertical=!1}connectedCallback(){super.connectedCallback(),this.setAttribute("role","separator")}handleVerticalChange(){this.setAttribute("aria-orientation",this.vertical?"vertical":"horizontal")}};SlDivider.styles=divider_styles_default;__decorateClass([n$4({type:Boolean,reflect:!0})],SlDivider.prototype,"vertical",2);__decorateClass([watch("vertical")],SlDivider.prototype,"handleVerticalChange",1);SlDivider.define("sl-divider");var form_control_styles_default=i$6`
  .form-control .form-control__label {
    display: none;
  }

  .form-control .form-control__help-text {
    display: none;
  }

  /* Label */
  .form-control--has-label .form-control__label {
    display: inline-block;
    color: var(--sl-input-label-color);
    margin-bottom: var(--sl-spacing-3x-small);
  }

  .form-control--has-label.form-control--small .form-control__label {
    font-size: var(--sl-input-label-font-size-small);
  }

  .form-control--has-label.form-control--medium .form-control__label {
    font-size: var(--sl-input-label-font-size-medium);
  }

  .form-control--has-label.form-control--large .form-control__label {
    font-size: var(--sl-input-label-font-size-large);
  }

  :host([required]) .form-control--has-label .form-control__label::after {
    content: var(--sl-input-required-content);
    margin-inline-start: var(--sl-input-required-content-offset);
    color: var(--sl-input-required-content-color);
  }

  /* Help text */
  .form-control--has-help-text .form-control__help-text {
    display: block;
    color: var(--sl-input-help-text-color);
    margin-top: var(--sl-spacing-3x-small);
  }

  .form-control--has-help-text.form-control--small .form-control__help-text {
    font-size: var(--sl-input-help-text-font-size-small);
  }

  .form-control--has-help-text.form-control--medium .form-control__help-text {
    font-size: var(--sl-input-help-text-font-size-medium);
  }

  .form-control--has-help-text.form-control--large .form-control__help-text {
    font-size: var(--sl-input-help-text-font-size-large);
  }

  .form-control--has-help-text.form-control--radio-group .form-control__help-text {
    margin-top: var(--sl-spacing-2x-small);
  }
`,input_styles_default=i$6`
  ${component_styles_default}
  ${form_control_styles_default}

  :host {
    display: block;
  }

  .input {
    flex: 1 1 auto;
    display: inline-flex;
    align-items: stretch;
    justify-content: start;
    position: relative;
    width: 100%;
    font-family: var(--sl-input-font-family);
    font-weight: var(--sl-input-font-weight);
    letter-spacing: var(--sl-input-letter-spacing);
    vertical-align: middle;
    overflow: hidden;
    cursor: text;
    transition:
      var(--sl-transition-fast) color,
      var(--sl-transition-fast) border,
      var(--sl-transition-fast) box-shadow,
      var(--sl-transition-fast) background-color;
  }

  /* Standard inputs */
  .input--standard {
    background-color: var(--sl-input-background-color);
    border: solid var(--sl-input-border-width) var(--sl-input-border-color);
  }

  .input--standard:hover:not(.input--disabled) {
    background-color: var(--sl-input-background-color-hover);
    border-color: var(--sl-input-border-color-hover);
  }

  .input--standard.input--focused:not(.input--disabled) {
    background-color: var(--sl-input-background-color-focus);
    border-color: var(--sl-input-border-color-focus);
    box-shadow: 0 0 0 var(--sl-focus-ring-width) var(--sl-input-focus-ring-color);
  }

  .input--standard.input--focused:not(.input--disabled) .input__control {
    color: var(--sl-input-color-focus);
  }

  .input--standard.input--disabled {
    background-color: var(--sl-input-background-color-disabled);
    border-color: var(--sl-input-border-color-disabled);
    opacity: 0.5;
    cursor: not-allowed;
  }

  .input--standard.input--disabled .input__control {
    color: var(--sl-input-color-disabled);
  }

  .input--standard.input--disabled .input__control::placeholder {
    color: var(--sl-input-placeholder-color-disabled);
  }

  /* Filled inputs */
  .input--filled {
    border: none;
    background-color: var(--sl-input-filled-background-color);
    color: var(--sl-input-color);
  }

  .input--filled:hover:not(.input--disabled) {
    background-color: var(--sl-input-filled-background-color-hover);
  }

  .input--filled.input--focused:not(.input--disabled) {
    background-color: var(--sl-input-filled-background-color-focus);
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .input--filled.input--disabled {
    background-color: var(--sl-input-filled-background-color-disabled);
    opacity: 0.5;
    cursor: not-allowed;
  }

  .input__control {
    flex: 1 1 auto;
    font-family: inherit;
    font-size: inherit;
    font-weight: inherit;
    min-width: 0;
    height: 100%;
    color: var(--sl-input-color);
    border: none;
    background: inherit;
    box-shadow: none;
    padding: 0;
    margin: 0;
    cursor: inherit;
    -webkit-appearance: none;
  }

  .input__control::-webkit-search-decoration,
  .input__control::-webkit-search-cancel-button,
  .input__control::-webkit-search-results-button,
  .input__control::-webkit-search-results-decoration {
    -webkit-appearance: none;
  }

  .input__control:-webkit-autofill,
  .input__control:-webkit-autofill:hover,
  .input__control:-webkit-autofill:focus,
  .input__control:-webkit-autofill:active {
    box-shadow: 0 0 0 var(--sl-input-height-large) var(--sl-input-background-color-hover) inset !important;
    -webkit-text-fill-color: var(--sl-color-primary-500);
    caret-color: var(--sl-input-color);
  }

  .input--filled .input__control:-webkit-autofill,
  .input--filled .input__control:-webkit-autofill:hover,
  .input--filled .input__control:-webkit-autofill:focus,
  .input--filled .input__control:-webkit-autofill:active {
    box-shadow: 0 0 0 var(--sl-input-height-large) var(--sl-input-filled-background-color) inset !important;
  }

  .input__control::placeholder {
    color: var(--sl-input-placeholder-color);
    user-select: none;
    -webkit-user-select: none;
  }

  .input:hover:not(.input--disabled) .input__control {
    color: var(--sl-input-color-hover);
  }

  .input__control:focus {
    outline: none;
  }

  .input__prefix,
  .input__suffix {
    display: inline-flex;
    flex: 0 0 auto;
    align-items: center;
    cursor: default;
  }

  .input__prefix ::slotted(sl-icon),
  .input__suffix ::slotted(sl-icon) {
    color: var(--sl-input-icon-color);
  }

  /*
   * Size modifiers
   */

  .input--small {
    border-radius: var(--sl-input-border-radius-small);
    font-size: var(--sl-input-font-size-small);
    height: var(--sl-input-height-small);
  }

  .input--small .input__control {
    height: calc(var(--sl-input-height-small) - var(--sl-input-border-width) * 2);
    padding: 0 var(--sl-input-spacing-small);
  }

  .input--small .input__clear,
  .input--small .input__password-toggle {
    width: calc(1em + var(--sl-input-spacing-small) * 2);
  }

  .input--small .input__prefix ::slotted(*) {
    margin-inline-start: var(--sl-input-spacing-small);
  }

  .input--small .input__suffix ::slotted(*) {
    margin-inline-end: var(--sl-input-spacing-small);
  }

  .input--medium {
    border-radius: var(--sl-input-border-radius-medium);
    font-size: var(--sl-input-font-size-medium);
    height: var(--sl-input-height-medium);
  }

  .input--medium .input__control {
    height: calc(var(--sl-input-height-medium) - var(--sl-input-border-width) * 2);
    padding: 0 var(--sl-input-spacing-medium);
  }

  .input--medium .input__clear,
  .input--medium .input__password-toggle {
    width: calc(1em + var(--sl-input-spacing-medium) * 2);
  }

  .input--medium .input__prefix ::slotted(*) {
    margin-inline-start: var(--sl-input-spacing-medium);
  }

  .input--medium .input__suffix ::slotted(*) {
    margin-inline-end: var(--sl-input-spacing-medium);
  }

  .input--large {
    border-radius: var(--sl-input-border-radius-large);
    font-size: var(--sl-input-font-size-large);
    height: var(--sl-input-height-large);
  }

  .input--large .input__control {
    height: calc(var(--sl-input-height-large) - var(--sl-input-border-width) * 2);
    padding: 0 var(--sl-input-spacing-large);
  }

  .input--large .input__clear,
  .input--large .input__password-toggle {
    width: calc(1em + var(--sl-input-spacing-large) * 2);
  }

  .input--large .input__prefix ::slotted(*) {
    margin-inline-start: var(--sl-input-spacing-large);
  }

  .input--large .input__suffix ::slotted(*) {
    margin-inline-end: var(--sl-input-spacing-large);
  }

  /*
   * Pill modifier
   */

  .input--pill.input--small {
    border-radius: var(--sl-input-height-small);
  }

  .input--pill.input--medium {
    border-radius: var(--sl-input-height-medium);
  }

  .input--pill.input--large {
    border-radius: var(--sl-input-height-large);
  }

  /*
   * Clearable + Password Toggle
   */

  .input__clear:not(.input__clear--visible) {
    visibility: hidden;
  }

  .input__clear,
  .input__password-toggle {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: inherit;
    color: var(--sl-input-icon-color);
    border: none;
    background: none;
    padding: 0;
    transition: var(--sl-transition-fast) color;
    cursor: pointer;
  }

  .input__clear:hover,
  .input__password-toggle:hover {
    color: var(--sl-input-icon-color-hover);
  }

  .input__clear:focus,
  .input__password-toggle:focus {
    outline: none;
  }

  .input--empty .input__clear {
    visibility: hidden;
  }

  /* Don't show the browser's password toggle in Edge */
  ::-ms-reveal {
    display: none;
  }

  /* Hide the built-in number spinner */
  .input--no-spin-buttons input[type='number']::-webkit-outer-spin-button,
  .input--no-spin-buttons input[type='number']::-webkit-inner-spin-button {
    -webkit-appearance: none;
    display: none;
  }

  .input--no-spin-buttons input[type='number'] {
    -moz-appearance: textfield;
  }
`,defaultValue=(F="value")=>(W,q)=>{const X=W.constructor,tt=X.prototype.attributeChangedCallback;X.prototype.attributeChangedCallback=function(ot,at,ut){var wt;const uo=X.getPropertyOptions(F),mo=typeof uo.attribute=="string"?uo.attribute:F;if(ot===mo){const yo=uo.converter||u$2,uf=(typeof yo=="function"?yo:(wt=yo==null?void 0:yo.fromAttribute)!=null?wt:u$2.fromAttribute)(ut,uo.type);this[F]!==uf&&(this[q]=uf)}tt.call(this,ot,at,ut)}};/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const l=e$4(class extends i$3{constructor(F){if(super(F),F.type!==t$1.PROPERTY&&F.type!==t$1.ATTRIBUTE&&F.type!==t$1.BOOLEAN_ATTRIBUTE)throw Error("The `live` directive is not allowed on child or event bindings");if(!f$1(F))throw Error("`live` bindings can only contain a single expression")}render(F){return F}update(F,[W]){if(W===w||W===T)return W;const q=F.element,X=F.name;if(F.type===t$1.PROPERTY){if(W===q[X])return w}else if(F.type===t$1.BOOLEAN_ATTRIBUTE){if(!!W===q.hasAttribute(X))return w}else if(F.type===t$1.ATTRIBUTE&&q.getAttribute(X)===W+"")return w;return m$2(F),W}});var SlInput=class extends ShoelaceElement{constructor(){super(...arguments),this.formControlController=new FormControlController(this,{assumeInteractionOn:["sl-blur","sl-input"]}),this.hasSlotController=new HasSlotController(this,"help-text","label"),this.localize=new LocalizeController(this),this.hasFocus=!1,this.title="",this.__numberInput=Object.assign(document.createElement("input"),{type:"number"}),this.__dateInput=Object.assign(document.createElement("input"),{type:"date"}),this.type="text",this.name="",this.value="",this.defaultValue="",this.size="medium",this.filled=!1,this.pill=!1,this.label="",this.helpText="",this.clearable=!1,this.disabled=!1,this.placeholder="",this.readonly=!1,this.passwordToggle=!1,this.passwordVisible=!1,this.noSpinButtons=!1,this.form="",this.required=!1,this.spellcheck=!0}get valueAsDate(){var F;return this.__dateInput.type=this.type,this.__dateInput.value=this.value,((F=this.input)==null?void 0:F.valueAsDate)||this.__dateInput.valueAsDate}set valueAsDate(F){this.__dateInput.type=this.type,this.__dateInput.valueAsDate=F,this.value=this.__dateInput.value}get valueAsNumber(){var F;return this.__numberInput.value=this.value,((F=this.input)==null?void 0:F.valueAsNumber)||this.__numberInput.valueAsNumber}set valueAsNumber(F){this.__numberInput.valueAsNumber=F,this.value=this.__numberInput.value}get validity(){return this.input.validity}get validationMessage(){return this.input.validationMessage}firstUpdated(){this.formControlController.updateValidity()}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleChange(){this.value=this.input.value,this.emit("sl-change")}handleClearClick(F){this.value="",this.emit("sl-clear"),this.emit("sl-input"),this.emit("sl-change"),this.input.focus(),F.stopPropagation()}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleInput(){this.value=this.input.value,this.formControlController.updateValidity(),this.emit("sl-input")}handleInvalid(F){this.formControlController.setValidity(!1),this.formControlController.emitInvalidEvent(F)}handleKeyDown(F){const W=F.metaKey||F.ctrlKey||F.shiftKey||F.altKey;F.key==="Enter"&&!W&&setTimeout(()=>{!F.defaultPrevented&&!F.isComposing&&this.formControlController.submit()})}handlePasswordToggle(){this.passwordVisible=!this.passwordVisible}handleDisabledChange(){this.formControlController.setValidity(this.disabled)}handleStepChange(){this.input.step=String(this.step),this.formControlController.updateValidity()}async handleValueChange(){await this.updateComplete,this.formControlController.updateValidity()}focus(F){this.input.focus(F)}blur(){this.input.blur()}select(){this.input.select()}setSelectionRange(F,W,q="none"){this.input.setSelectionRange(F,W,q)}setRangeText(F,W,q,X="preserve"){const tt=W??this.input.selectionStart,ot=q??this.input.selectionEnd;this.input.setRangeText(F,tt,ot,X),this.value!==this.input.value&&(this.value=this.input.value)}showPicker(){"showPicker"in HTMLInputElement.prototype&&this.input.showPicker()}stepUp(){this.input.stepUp(),this.value!==this.input.value&&(this.value=this.input.value)}stepDown(){this.input.stepDown(),this.value!==this.input.value&&(this.value=this.input.value)}checkValidity(){return this.input.checkValidity()}getForm(){return this.formControlController.getForm()}reportValidity(){return this.input.reportValidity()}setCustomValidity(F){this.input.setCustomValidity(F),this.formControlController.updateValidity()}render(){const F=this.hasSlotController.test("label"),W=this.hasSlotController.test("help-text"),q=this.label?!0:!!F,X=this.helpText?!0:!!W,tt=this.clearable&&!this.disabled&&!this.readonly,ot=tt&&(typeof this.value=="number"||this.value.length>0);return x`
      <div
        part="form-control"
        class=${e$3({"form-control":!0,"form-control--small":this.size==="small","form-control--medium":this.size==="medium","form-control--large":this.size==="large","form-control--has-label":q,"form-control--has-help-text":X})}
      >
        <label
          part="form-control-label"
          class="form-control__label"
          for="input"
          aria-hidden=${q?"false":"true"}
        >
          <slot name="label">${this.label}</slot>
        </label>

        <div part="form-control-input" class="form-control-input">
          <div
            part="base"
            class=${e$3({input:!0,"input--small":this.size==="small","input--medium":this.size==="medium","input--large":this.size==="large","input--pill":this.pill,"input--standard":!this.filled,"input--filled":this.filled,"input--disabled":this.disabled,"input--focused":this.hasFocus,"input--empty":!this.value,"input--no-spin-buttons":this.noSpinButtons})}
          >
            <span part="prefix" class="input__prefix">
              <slot name="prefix"></slot>
            </span>

            <input
              part="input"
              id="input"
              class="input__control"
              type=${this.type==="password"&&this.passwordVisible?"text":this.type}
              title=${this.title}
              name=${o$4(this.name)}
              ?disabled=${this.disabled}
              ?readonly=${this.readonly}
              ?required=${this.required}
              placeholder=${o$4(this.placeholder)}
              minlength=${o$4(this.minlength)}
              maxlength=${o$4(this.maxlength)}
              min=${o$4(this.min)}
              max=${o$4(this.max)}
              step=${o$4(this.step)}
              .value=${l(this.value)}
              autocapitalize=${o$4(this.autocapitalize)}
              autocomplete=${o$4(this.autocomplete)}
              autocorrect=${o$4(this.autocorrect)}
              ?autofocus=${this.autofocus}
              spellcheck=${this.spellcheck}
              pattern=${o$4(this.pattern)}
              enterkeyhint=${o$4(this.enterkeyhint)}
              inputmode=${o$4(this.inputmode)}
              aria-describedby="help-text"
              @change=${this.handleChange}
              @input=${this.handleInput}
              @invalid=${this.handleInvalid}
              @keydown=${this.handleKeyDown}
              @focus=${this.handleFocus}
              @blur=${this.handleBlur}
            />

            ${tt?x`
                  <button
                    part="clear-button"
                    class=${e$3({input__clear:!0,"input__clear--visible":ot})}
                    type="button"
                    aria-label=${this.localize.term("clearEntry")}
                    @click=${this.handleClearClick}
                    tabindex="-1"
                  >
                    <slot name="clear-icon">
                      <sl-icon name="x-circle-fill" library="system"></sl-icon>
                    </slot>
                  </button>
                `:""}
            ${this.passwordToggle&&!this.disabled?x`
                  <button
                    part="password-toggle-button"
                    class="input__password-toggle"
                    type="button"
                    aria-label=${this.localize.term(this.passwordVisible?"hidePassword":"showPassword")}
                    @click=${this.handlePasswordToggle}
                    tabindex="-1"
                  >
                    ${this.passwordVisible?x`
                          <slot name="show-password-icon">
                            <sl-icon name="eye-slash" library="system"></sl-icon>
                          </slot>
                        `:x`
                          <slot name="hide-password-icon">
                            <sl-icon name="eye" library="system"></sl-icon>
                          </slot>
                        `}
                  </button>
                `:""}

            <span part="suffix" class="input__suffix">
              <slot name="suffix"></slot>
            </span>
          </div>
        </div>

        <div
          part="form-control-help-text"
          id="help-text"
          class="form-control__help-text"
          aria-hidden=${X?"false":"true"}
        >
          <slot name="help-text">${this.helpText}</slot>
        </div>
      </div>
    `}};SlInput.styles=input_styles_default;SlInput.dependencies={"sl-icon":SlIcon};__decorateClass([e$5(".input__control")],SlInput.prototype,"input",2);__decorateClass([r$2()],SlInput.prototype,"hasFocus",2);__decorateClass([n$4()],SlInput.prototype,"title",2);__decorateClass([n$4({reflect:!0})],SlInput.prototype,"type",2);__decorateClass([n$4()],SlInput.prototype,"name",2);__decorateClass([n$4()],SlInput.prototype,"value",2);__decorateClass([defaultValue()],SlInput.prototype,"defaultValue",2);__decorateClass([n$4({reflect:!0})],SlInput.prototype,"size",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlInput.prototype,"filled",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlInput.prototype,"pill",2);__decorateClass([n$4()],SlInput.prototype,"label",2);__decorateClass([n$4({attribute:"help-text"})],SlInput.prototype,"helpText",2);__decorateClass([n$4({type:Boolean})],SlInput.prototype,"clearable",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlInput.prototype,"disabled",2);__decorateClass([n$4()],SlInput.prototype,"placeholder",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlInput.prototype,"readonly",2);__decorateClass([n$4({attribute:"password-toggle",type:Boolean})],SlInput.prototype,"passwordToggle",2);__decorateClass([n$4({attribute:"password-visible",type:Boolean})],SlInput.prototype,"passwordVisible",2);__decorateClass([n$4({attribute:"no-spin-buttons",type:Boolean})],SlInput.prototype,"noSpinButtons",2);__decorateClass([n$4({reflect:!0})],SlInput.prototype,"form",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlInput.prototype,"required",2);__decorateClass([n$4()],SlInput.prototype,"pattern",2);__decorateClass([n$4({type:Number})],SlInput.prototype,"minlength",2);__decorateClass([n$4({type:Number})],SlInput.prototype,"maxlength",2);__decorateClass([n$4()],SlInput.prototype,"min",2);__decorateClass([n$4()],SlInput.prototype,"max",2);__decorateClass([n$4()],SlInput.prototype,"step",2);__decorateClass([n$4()],SlInput.prototype,"autocapitalize",2);__decorateClass([n$4()],SlInput.prototype,"autocorrect",2);__decorateClass([n$4()],SlInput.prototype,"autocomplete",2);__decorateClass([n$4({type:Boolean})],SlInput.prototype,"autofocus",2);__decorateClass([n$4()],SlInput.prototype,"enterkeyhint",2);__decorateClass([n$4({type:Boolean,converter:{fromAttribute:F=>!(!F||F==="false"),toAttribute:F=>F?"true":"false"}})],SlInput.prototype,"spellcheck",2);__decorateClass([n$4()],SlInput.prototype,"inputmode",2);__decorateClass([watch("disabled",{waitUntilFirstUpdate:!0})],SlInput.prototype,"handleDisabledChange",1);__decorateClass([watch("step",{waitUntilFirstUpdate:!0})],SlInput.prototype,"handleStepChange",1);__decorateClass([watch("value",{waitUntilFirstUpdate:!0})],SlInput.prototype,"handleValueChange",1);SlInput.define("sl-input");var tag_styles_default=i$6`
  ${component_styles_default}

  :host {
    display: inline-block;
  }

  .tag {
    display: flex;
    align-items: center;
    border: solid 1px;
    line-height: 1;
    white-space: nowrap;
    user-select: none;
    -webkit-user-select: none;
  }

  .tag__remove::part(base) {
    color: inherit;
    padding: 0;
  }

  /*
   * Variant modifiers
   */

  .tag--primary {
    background-color: var(--sl-color-primary-50);
    border-color: var(--sl-color-primary-200);
    color: var(--sl-color-primary-800);
  }

  .tag--primary:active > sl-icon-button {
    color: var(--sl-color-primary-600);
  }

  .tag--success {
    background-color: var(--sl-color-success-50);
    border-color: var(--sl-color-success-200);
    color: var(--sl-color-success-800);
  }

  .tag--success:active > sl-icon-button {
    color: var(--sl-color-success-600);
  }

  .tag--neutral {
    background-color: var(--sl-color-neutral-50);
    border-color: var(--sl-color-neutral-200);
    color: var(--sl-color-neutral-800);
  }

  .tag--neutral:active > sl-icon-button {
    color: var(--sl-color-neutral-600);
  }

  .tag--warning {
    background-color: var(--sl-color-warning-50);
    border-color: var(--sl-color-warning-200);
    color: var(--sl-color-warning-800);
  }

  .tag--warning:active > sl-icon-button {
    color: var(--sl-color-warning-600);
  }

  .tag--danger {
    background-color: var(--sl-color-danger-50);
    border-color: var(--sl-color-danger-200);
    color: var(--sl-color-danger-800);
  }

  .tag--danger:active > sl-icon-button {
    color: var(--sl-color-danger-600);
  }

  /*
   * Size modifiers
   */

  .tag--small {
    font-size: var(--sl-button-font-size-small);
    height: calc(var(--sl-input-height-small) * 0.8);
    line-height: calc(var(--sl-input-height-small) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-small);
    padding: 0 var(--sl-spacing-x-small);
  }

  .tag--medium {
    font-size: var(--sl-button-font-size-medium);
    height: calc(var(--sl-input-height-medium) * 0.8);
    line-height: calc(var(--sl-input-height-medium) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-medium);
    padding: 0 var(--sl-spacing-small);
  }

  .tag--large {
    font-size: var(--sl-button-font-size-large);
    height: calc(var(--sl-input-height-large) * 0.8);
    line-height: calc(var(--sl-input-height-large) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-large);
    padding: 0 var(--sl-spacing-medium);
  }

  .tag__remove {
    margin-inline-start: var(--sl-spacing-x-small);
  }

  /*
   * Pill modifier
   */

  .tag--pill {
    border-radius: var(--sl-border-radius-pill);
  }
`,SlTag=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController(this),this.variant="neutral",this.size="medium",this.pill=!1,this.removable=!1}handleRemoveClick(){this.emit("sl-remove")}render(){return x`
      <span
        part="base"
        class=${e$3({tag:!0,"tag--primary":this.variant==="primary","tag--success":this.variant==="success","tag--neutral":this.variant==="neutral","tag--warning":this.variant==="warning","tag--danger":this.variant==="danger","tag--text":this.variant==="text","tag--small":this.size==="small","tag--medium":this.size==="medium","tag--large":this.size==="large","tag--pill":this.pill,"tag--removable":this.removable})}
      >
        <slot part="content" class="tag__content"></slot>

        ${this.removable?x`
              <sl-icon-button
                part="remove-button"
                exportparts="base:remove-button__base"
                name="x-lg"
                library="system"
                label=${this.localize.term("remove")}
                class="tag__remove"
                @click=${this.handleRemoveClick}
                tabindex="-1"
              ></sl-icon-button>
            `:""}
      </span>
    `}};SlTag.styles=tag_styles_default;SlTag.dependencies={"sl-icon-button":SlIconButton};__decorateClass([n$4({reflect:!0})],SlTag.prototype,"variant",2);__decorateClass([n$4({reflect:!0})],SlTag.prototype,"size",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlTag.prototype,"pill",2);__decorateClass([n$4({type:Boolean})],SlTag.prototype,"removable",2);SlTag.define("sl-tag");const _hoisted_1$l={class:"content-path",style:{position:"relative"}},_hoisted_2$h={class:"workspace"},_hoisted_3$f=["content","disabled"],_hoisted_4$e=createBaseVNode("svg",{slot:"prefix",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 496 512"},[createBaseVNode("path",{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3 .3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5 .3-6.2 2.3zm44.2-1.7c-2.9 .7-4.9 2.6-4.6 4.9 .3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3 .7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3 .3 2.9 2.3 3.9 1.6 1 3.6 .7 4.3-.7 .7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3 .7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3 .7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"})],-1),_hoisted_5$c=[_hoisted_4$e],_hoisted_6$c={class:"ws-path"},_hoisted_7$8={class:"breadcrumbs"},_hoisted_8$7=createBaseVNode("sl-icon",{slot:"prefix",name:"folder2",style:{fontSize:"24px"}},null,-1),_hoisted_9$7=["innerHTML","onClick"],_hoisted_10$7=["onClick"],_hoisted_11$7=createBaseVNode("sl-icon",{slot:"prefix",name:"filetype-md",style:{"font-size":"24px"}},null,-1),_hoisted_12$5={slot:"suffix"},_hoisted_13$4=createBaseVNode("sl-icon-button",{slot:"trigger",name:"caret-down",label:"File actions"},null,-1),_hoisted_14$3=["onClick"],_hoisted_15$3=createBaseVNode("sl-icon",{slot:"prefix",name:"trash"},null,-1),_hoisted_16$3=["innerHTML","onClick"],_hoisted_17$3=["onClick"],_hoisted_18$3=createBaseVNode("sl-icon",{slot:"prefix",name:"folder2",style:{"font-size":"24px"}},null,-1),_hoisted_19$2=["content"],_hoisted_20$2=["size","name"],_hoisted_21$2=createBaseVNode("sl-icon",{name:"plus-lg",label:"Add file"},null,-1),_hoisted_22$2=[_hoisted_21$2],_hoisted_23$2={noHeader:"",label:"Workspace",placement:"bottom",contained:"",class:"workspace-selector",style:{"--size":"100%"}},_hoisted_24$2={style:{display:"flex",height:"100%","align-items":"center"}},_hoisted_25$2={key:0,class:"github-select"},_hoisted_26$2={key:1,name:"chevron-double-right",style:{"font-size":"24px"}},_hoisted_27$2={style:{"margin-left":"12px"}},_hoisted_28$2=["disabled"],_hoisted_29$2={key:0},_hoisted_30$2={key:0,slot:"trigger",class:"path-elem"},_hoisted_31$2={key:1,slot:"trigger",pill:"",size:"medium",class:"folder"},_hoisted_32$2=createBaseVNode("sl-icon",{slot:"prefix",name:"github",style:{"font-size":"24px"}},null,-1),_hoisted_33$2=["checked","onClick","innerHTML"],_hoisted_34$2={key:0,class:"path-elem"},_hoisted_35$2={key:1,pill:"",size:"medium",class:"folder"},_hoisted_36$2=createBaseVNode("sl-icon",{slot:"prefix",name:"github",style:{"font-size":"24px"}},null,-1),_hoisted_37$2=["disabled"],_hoisted_38$2={key:0},_hoisted_39$2={key:0,slot:"trigger",class:"path-elem"},_hoisted_40$2={key:1,slot:"trigger",pill:"",size:"medium"},_hoisted_41$2=createBaseVNode("sl-icon",{slot:"prefix",name:"archive",style:{"font-size":"24px"}},null,-1),_hoisted_42$2=["checked","onClick","innerHTML"],_hoisted_43$2=createBaseVNode("sl-divider",null,null,-1),_hoisted_44$2=createBaseVNode("sl-icon",{slot:"prefix",name:"plus-lg"},null,-1),_hoisted_45$2={key:0,class:"path-elem"},_hoisted_46$2={key:1,pill:"",size:"medium"},_hoisted_47$1=createBaseVNode("sl-icon",{slot:"prefix",name:"archive",style:{"font-size":"24px"}},null,-1),_hoisted_48=["disabled"],_hoisted_49={key:0},_hoisted_50={key:0,slot:"trigger",class:"path-elem"},_hoisted_51={key:1,slot:"trigger",pill:"",size:"medium"},_hoisted_52=createBaseVNode("sl-icon",{slot:"prefix",name:"share",style:{"font-size":"24px"}},null,-1),_hoisted_53=["checked","onClick","innerHTML"],_hoisted_54={key:0,class:"path-elem"},_hoisted_55={key:1,pill:"",size:"medium"},_hoisted_56=createBaseVNode("sl-icon",{slot:"prefix",name:"share",style:{"font-size":"24px"}},null,-1),_hoisted_57={key:0},_hoisted_58={key:1,class:"dirs"},_hoisted_59=["onClick"],_hoisted_60=["name"],_hoisted_61=["content"],_hoisted_62=createBaseVNode("sl-icon",{name:"plus-lg",label:"Add file"},null,-1),_hoisted_63=[_hoisted_62],_hoisted_64=createBaseVNode("sl-input",{autocomplete:"off",required:"",id:"add-repo-input",placeholder:"Enter name",pattern:"^[A-z0-9\\-_]+$"},null,-1),_hoisted_65=createBaseVNode("br",null,null,-1),_hoisted_66=createBaseVNode("sl-button",{type:"submit",variant:"primary"},"Add",-1),_hoisted_67=createBaseVNode("sl-input",{autocomplete:"off",required:"",id:"add-file-input",placeholder:"Enter file path",pattern:"^\\/?([A-z0-9-_+]+\\/)*([A-z0-9\\-]+(\\.(css|md|json|geojson|yaml|yml))?)$"},null,-1),_hoisted_68=createBaseVNode("br",null,null,-1),_hoisted_69=createBaseVNode("sl-button",{type:"reset",variant:"default"},"Reset",-1),_hoisted_70=createBaseVNode("sl-button",{type:"submit",variant:"primary"},"Add",-1),_hoisted_71={id:"delete-file-dialog",label:"Confirm file delete"},_hoisted_72=["innerHTML"],_sfc_main$n=defineComponent({__name:"ContentSelector.ce",props:{contentPath:{type:String},sticky:{type:Boolean,default:!1},mode:{type:String,default:"media"},compact:{type:Boolean}},emits:["accessChanged","addMediaResource","contentPathChanged"],setup(F,{expose:W,emit:q}){const X=F;W({getDirList:mp,getFile:Mp,putFile:Np,repositoryIsWriteable:fp});const tt=new Set(["config.yaml","CNAME","index.html","404.html",".nojekyll"]),ot=ref("");watch$1(ot,()=>{console.log(`contentPath=${toRaw(ot.value)}`),q("contentPathChanged",ot.value)});const at=ref(null),ut=computed(()=>{var bp;return(bp=at==null?void 0:at.value)==null?void 0:bp.parentNode});let wt,uo="",mo=!0;const yo=ref();watch$1(yo,()=>{yo.value&&up()});const lf=ref(isMobile()),uf=ref(""),df=ref(),wf=ref(!1),wo=ref(!1);watch$1(uf,()=>{wf.value=window.localStorage.getItem("gh-auth-token")!==null,df.value=new GithubClient$1(uf.value||"")}),watch$1(wf,()=>{wf||(uo="",wo.value=!1)}),watch$1(wo,()=>{q("accessChanged",{acct:_f.value,repo:xo.value,canUpdate:wo.value})}),watch$1(df,async()=>{Af(),wf.value&&(ls.value=await jf(),uo=await df.value.user().then(bp=>bp.login),await df.value.repos(uo).then(bp=>{bp.find(zp=>zp.name==="essays")||df.value.createRepository({name:"essays",description:"Juncture visual essays"}),bp.find(zp=>zp.name==="media")||df.value.createRepository({name:"media",description:"Juncture media"})}),_f.value&&xo.value&&uo&&df.value.isCollaborator(_f.value,xo.value,uo).then(bp=>wo.value=bp))});const ls=ref([]),_f=ref("");watch$1(ls,()=>{_f.value=_f.value||(ls.value.length>0?ls.value[0].login:null)}),watch$1(_f,(bp,zp)=>{zp&&(xo.value=""),$f().then(Rp=>po.value=Rp)});const po=ref([]),xo=ref("");watch$1(po,()=>{if(!xo.value&&po.value.length>0)if(po.value.length===1)xo.value=po.value[0].name;else{let bp=X.mode==="media"?"media":"essays";xo.value=po.value.find(zp=>zp.name===bp)?bp:po.value[0].name}});const gf=ref([]),cf=ref("");watch$1(xo,(bp,zp)=>{zp&&(Sf.value=[]),Xf().then(Rp=>Pf()),cf.value="",xo.value&&(wf.value&&_f.value&&df.value.user().then(Rp=>Rp.login).then(Rp=>xo.value?df.value.isCollaborator(_f.value,xo.value,Rp):!1).then(Rp=>wo.value=Rp),Ff().then(Rp=>gf.value=Rp))});let yf;watch$1(gf,async()=>{!yf&&_f.value&&xo.value&&(yf=await df.value.defaultBranch(_f.value,xo.value)),yf&&(cf.value=yf)}),watch$1(cf,()=>{cf.value&&Sf.value&&xf&&Xf().then(bp=>Pf())});const Sf=ref([]);watch$1(Sf,()=>{cf.value&&Xf().then(bp=>Pf())});let xf=!0;const bf=ref([]);watch$1(bf,()=>{xf=Sf.value.length===0||bf.value.length>0}),onMounted(()=>{var bp;zf(),window.addEventListener("storage",()=>zf()),wt=(bp=ut==null?void 0:ut.value)==null?void 0:bp.querySelector(".workspace-selector")});function Af(bp=""){var zp;if(bp=bp||X.contentPath||"",bp){let[Rp,Up]=((zp=bp.split(":").pop())==null?void 0:zp.split("?"))||[],Zp=Up?Object.fromEntries(Up.split("&").map(Ap=>Ap.split("="))):{},og=Rp.split("/").filter(Ap=>Ap);og.length>0&&(_f.value=og[0]),og.length>1&&(xo.value=og[1]),og.length>2&&(Sf.value=og.slice(2)),Zp.ref&&(cf.value=Zp.ref||"main")}}function Pf(){if(_f.value&&xo.value){let bp=`gh:${_f.value}/${xo.value}`;Sf.value.length>0&&(bp+=`/${Sf.value.join("/")}`),cf.value&&cf.value!==yf&&(bp+=`?ref=${cf.value}`),ot.value=bp}}async function Df(){let zp=await fetch("https://api.juncture-digital.org/gh-token");if(zp.ok){let Rp=await zp.text();window.localStorage.setItem("gh-unscoped-token",Rp)}}async function zf(){window.localStorage.getItem("gh-unscoped-token")||await Df(),uf.value=window.localStorage.getItem("gh-auth-token")||window.localStorage.getItem("gh-unscoped-token"),wf.value=window.localStorage.getItem("gh-auth-token")!==null}async function jf(){return await Promise.all([df.value.user(),df.value.organizations()]).then(bp=>bp.flat())}async function $f(){return df.value.repos(_f.value)}async function Ff(){return df.value.branches(_f.value,xo.value)}async function Xf(){bf.value=[];let bp=await df.value.dirlist(_f.value,xo.value,Sf.value.join("/"),cf.value),zp=bp.filter(Up=>Up.type==="dir"),Rp=bp.filter(Up=>Up.type==="file"&&!tt.has(Up.name));mo&&Rp.find(Up=>Up.name==="README.md")&&zp.length===0&&(Sf.value.length===0||Sf.value[Sf.value.length-1]!=="README.md")&&(Sf.value=[...Sf.value,"README.md"]),bf.value=[...zp,...Rp]}function mp(){return bf.value}function fp(){return wo.value}async function Mp(bp){var Ip;let[zp,Rp]=((Ip=bp.split(":").pop())==null?void 0:Ip.split("?"))||[],Up=Rp?Object.fromEntries(Rp.split("&").map(jp=>jp.split("="))):{},Zp=zp.split("/").filter(jp=>jp),[og,Ap]=Zp.slice(0,2);return zp=Zp.slice(2).filter(jp=>jp).join("/"),df.value.getFile(og,Ap,zp,Up.ref||cf.value)}async function Np(bp,zp){var Jp;let[Rp,Up]=((Jp=bp.split(":").pop())==null?void 0:Jp.split("?"))||[],Zp=Up?Object.fromEntries(Up.split("&").map(sg=>sg.split("="))):{},og=Rp.split("/").filter(sg=>sg),[Ap,Ip]=og.slice(0,2);Rp=og.slice(2).filter(sg=>sg).join("/");let jp=Zp.ref||cf.value;return df.value.putFile(Ap,Ip,Rp,zp,jp)}function Pp(bp){_f.value=bp.login}function yp(bp){xo.value=bp.name}function Ep(bp){cf.value=bp.name}function Cp(bp){wt.hide(),mo=!0;let zp=[...Sf.value];xf||(zp=zp.slice(0,-1)),(zp.length===0||zp[zp.length-1]!==bp.name)&&(zp=[...zp,bp.name]),Sf.value=zp}function $p(bp){wt.hide(),mo=!1,Sf.value=bp===0?[]:Sf.value.slice(0,bp)}function kp(bp){X.mode==="essays"?Fp():Op(bp)}function Dp(bp){return bp.toLowerCase().split("-").map(function(zp){return zp.charAt(0).toUpperCase()+zp.slice(1)}).join(" ")}function Fp(){var Rp,Up;let bp=(Rp=ut.value)==null?void 0:Rp.querySelector("#add-file-form");bp.onclick||(bp.onclick=function(){},bp.addEventListener("submit",async Zp=>{var Jp;Zp.preventDefault();let og=(Jp=ut.value)==null?void 0:Jp.querySelector("#add-file-input"),Ap=[...Sf.value,...og.value.split("/").filter(sg=>sg)],Ip=Ap[Ap.length-1];Ap[Ap.length-1].indexOf(".")>0?Ap[Ap.length-1]=Ap[Ap.length-1].replace(/readme\.md/,"README.md"):Ap.push("README.md");let jp=Ap.join("/");Ip=Dp(Ip),await df.value.putFile(_f.value,xo.value,jp,`# ${Ip}

`,cf.value),Sf.value=Ap,Sp()}));let zp=(Up=ut.value)==null?void 0:Up.querySelector("#add-file-dialog");zp.addEventListener("sl-after-show",()=>{var Zp;((Zp=ut.value)==null?void 0:Zp.querySelector("#add-file-input")).focus()}),zp.show()}function Sp(){var bp,zp;((bp=ut.value)==null?void 0:bp.querySelector("#add-file-input")).value="",((zp=ut.value)==null?void 0:zp.querySelector("#add-file-dialog")).hide()}function up(){var zp;((zp=ut.value)==null?void 0:zp.querySelector("#delete-file-dialog")).show()}function Nf(){var zp;((zp=ut.value)==null?void 0:zp.querySelector("#delete-file-dialog")).hide()}async function Jf(){var Rp,Up;let bp=(Rp=ut.value)==null?void 0:Rp.querySelector("#add-repo-form");bp.onclick||(bp.onclick=function(){},bp.addEventListener("submit",async Zp=>{var jp;Zp.preventDefault();let Ap=((jp=ut.value)==null?void 0:jp.querySelector("#add-repo-input")).value;(await df.value.createRepository({name:Ap,org:uo===_f.value?null:_f.value})).status===201&&$f().then(Jp=>{xo.value=Ap,po.value=Jp}),ip()}));let zp=(Up=ut.value)==null?void 0:Up.querySelector("#add-repo-dialog");zp.addEventListener("sl-after-show",()=>{var Zp;((Zp=ut.value)==null?void 0:Zp.querySelector("#add-repo-input")).focus()}),zp.show()}function ip(){var zp,Rp;((zp=ut.value)==null?void 0:zp.querySelector("#add-repo-dialog")).hide(),((Rp=ut.value)==null?void 0:Rp.querySelector("#add-repo-input")).value=""}async function ap(){let bp=Sf.value.join("/");await df.value.deleteFile(_f.value,xo.value,bp,cf.value),await Xf(),$p(Sf.value.length-(bf.value.length===0?2:1)),yo.value=null,Nf()}function Op(bp){q("addMediaResource",bp)}function Gp(){wt.open?wt.hide():wt.show()}return(bp,zp)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:at},[createBaseVNode("section",_hoisted_1$l,[createBaseVNode("div",_hoisted_2$h,[createBaseVNode("sl-tooltip",{content:`${_f.value}: ${xo.value} (${cf.value})`,disabled:lf.value,placement:"bottom"},[createBaseVNode("sl-button",{pill:"",size:"medium",onClick:Gp},_hoisted_5$c)],8,_hoisted_3$f),createBaseVNode("div",_hoisted_6$c,[createBaseVNode("div",_hoisted_7$8,[createBaseVNode("sl-breadcrumb",null,[createBaseVNode("sl-breadcrumb-item",null,[createBaseVNode("sl-button",{pill:"",size:"medium",onClick:zp[0]||(zp[0]=Rp=>$p(0))},[createTextVNode("/ "),_hoisted_8$7])]),(openBlock(!0),createElementBlock(Fragment,null,renderList(Sf.value,(Rp,Up)=>(openBlock(),createElementBlock("sl-breadcrumb-item",{key:`bci-${Up}`},[Up===Sf.value.length-1?(openBlock(),createElementBlock(Fragment,{key:0},[F.compact?(openBlock(),createElementBlock("span",{key:0,class:"path-elem",innerHTML:Rp,onClick:Zp=>$p(Up+1)},null,8,_hoisted_9$7)):(openBlock(),createElementBlock("sl-button",{key:1,pill:"",size:"medium",onClick:Zp=>$p(Up+1)},[createTextVNode(toDisplayString(Rp)+" ",1),_hoisted_11$7],8,_hoisted_10$7)),createBaseVNode("sl-dropdown",_hoisted_12$5,[_hoisted_13$4,createBaseVNode("sl-menu",null,[createBaseVNode("sl-menu-item",{onClick:()=>yo.value=Rp},[createTextVNode("Delete file"),_hoisted_15$3],8,_hoisted_14$3)])])],64)):(openBlock(),createElementBlock(Fragment,{key:1},[F.compact?(openBlock(),createElementBlock("span",{key:0,class:"path-elem",innerHTML:Rp,onClick:Zp=>$p(Up+1)},null,8,_hoisted_16$3)):(openBlock(),createElementBlock("sl-button",{key:1,pill:"",size:"medium",onClick:Zp=>$p(Up+1)},[createTextVNode(toDisplayString(Rp)+" ",1),_hoisted_18$3],8,_hoisted_17$3))],64))]))),128))]),wf.value&&F.mode==="media"?(openBlock(),createElementBlock("sl-tooltip",{key:0,content:`Add ${X.mode==="media"?"resource":"file"}`,placement:"bottom"},[createBaseVNode("sl-button",{variant:"default",size:F.mode==="media"?"medium":"small",class:"add-item",name:`Add ${F.mode==="media"?"resource":"file"}`,circle:"",onClick:kp},_hoisted_22$2,8,_hoisted_20$2)],8,_hoisted_19$2)):createCommentVNode("",!0)]),createBaseVNode("sl-drawer",_hoisted_23$2,[createBaseVNode("div",_hoisted_24$2,[F.compact?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_25$2,"Select GitHub Repository")),F.compact?createCommentVNode("",!0):(openBlock(),createElementBlock("sl-icon",_hoisted_26$2)),createBaseVNode("sl-breadcrumb",_hoisted_27$2,[createBaseVNode("sl-breadcrumb-item",null,[createBaseVNode("sl-tooltip",{content:"Github Account",hoist:"",disabled:lf.value,placement:"left"},[ls.value.length>1?(openBlock(),createElementBlock("sl-dropdown",_hoisted_29$2,[F.compact?(openBlock(),createElementBlock("span",_hoisted_30$2,toDisplayString(_f.value),1)):(openBlock(),createElementBlock("sl-button",_hoisted_31$2,[createTextVNode(toDisplayString(_f.value)+" ",1),_hoisted_32$2])),createBaseVNode("sl-menu",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ls.value,(Rp,Up)=>(openBlock(),createElementBlock("sl-menu-item",{key:`acct-${Up}`,checked:Rp.login===_f.value,onClick:Zp=>Pp(Rp),type:"checkbox",innerHTML:Rp.login},null,8,_hoisted_33$2))),128))])])):(openBlock(),createElementBlock(Fragment,{key:1},[F.compact?(openBlock(),createElementBlock("span",_hoisted_34$2,toDisplayString(cf.value),1)):(openBlock(),createElementBlock("sl-button",_hoisted_35$2,[createTextVNode(toDisplayString(_f.value)+" ",1),_hoisted_36$2]))],64))],8,_hoisted_28$2)]),createBaseVNode("sl-breadcrumb-item",null,[createBaseVNode("sl-tooltip",{content:"Github Repository",hoist:"",disabled:lf.value,placement:"left"},[po.value.length>1?(openBlock(),createElementBlock("sl-dropdown",_hoisted_38$2,[F.compact?(openBlock(),createElementBlock("span",_hoisted_39$2,toDisplayString(xo.value),1)):(openBlock(),createElementBlock("sl-button",_hoisted_40$2,[createTextVNode(toDisplayString(xo.value)+" ",1),_hoisted_41$2])),createBaseVNode("sl-menu",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(po.value,(Rp,Up)=>(openBlock(),createElementBlock("sl-menu-item",{key:`repo-${Up}`,checked:Rp.name===xo.value,onClick:Zp=>yp(Rp),type:"checkbox",innerHTML:Rp.name},null,8,_hoisted_42$2))),128)),_hoisted_43$2,createBaseVNode("sl-menu-item",{class:"add-repo",onClick:Jf},[_hoisted_44$2,createTextVNode(" New repository ")])])])):(openBlock(),createElementBlock(Fragment,{key:1},[F.compact?(openBlock(),createElementBlock("span",_hoisted_45$2,toDisplayString(xo.value),1)):(openBlock(),createElementBlock("sl-button",_hoisted_46$2,[createTextVNode(toDisplayString(xo.value)+" ",1),_hoisted_47$1]))],64))],8,_hoisted_37$2)]),createBaseVNode("sl-breadcrumb-item",null,[createBaseVNode("sl-tooltip",{content:"Github Branch",hoist:"",disabled:lf.value,placement:"left"},[gf.value.length>1?(openBlock(),createElementBlock("sl-dropdown",_hoisted_49,[F.compact?(openBlock(),createElementBlock("span",_hoisted_50,toDisplayString(cf.value),1)):(openBlock(),createElementBlock("sl-button",_hoisted_51,[createTextVNode(toDisplayString(cf.value)+" ",1),_hoisted_52])),createBaseVNode("sl-menu",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(gf.value,(Rp,Up)=>(openBlock(),createElementBlock("sl-menu-item",{key:`branch-${Up}`,checked:Rp.name===cf.value,onClick:Zp=>Ep(Rp),type:"checkbox",innerHTML:Rp.name},null,8,_hoisted_53))),128))])])):(openBlock(),createElementBlock(Fragment,{key:1},[F.compact?(openBlock(),createElementBlock("span",_hoisted_54,toDisplayString(cf.value),1)):(openBlock(),createElementBlock("sl-button",_hoisted_55,[createTextVNode(toDisplayString(cf.value)+" ",1),_hoisted_56]))],64))],8,_hoisted_48)])])])])])]),bf.value.filter(Rp=>X.mode==="essays"||Rp.type==="dir").length>0?(openBlock(),createElementBlock("sl-divider",_hoisted_57)):createCommentVNode("",!0),bf.value.length>0?(openBlock(),createElementBlock("div",_hoisted_58,[(openBlock(!0),createElementBlock(Fragment,null,renderList(bf.value.filter(Rp=>X.mode==="essays"||Rp.type==="dir"),(Rp,Up)=>(openBlock(),createElementBlock("sl-button",{key:`child-${Up}`,onClick:Zp=>Cp(Rp),pill:"",size:"small",class:normalizeClass(Rp.type)},[createBaseVNode("sl-icon",{slot:"prefix",name:Rp.type==="dir"?"folder2":"file-earmark"},null,8,_hoisted_60),createTextVNode(" "+toDisplayString(Rp.name),1)],10,_hoisted_59))),128)),Sf.value&&(Sf.value.length===0||Sf.value[Sf.value.length-1].split(".").pop()!=="md")&&X.mode==="essays"?(openBlock(),createElementBlock("sl-tooltip",{key:0,content:`Add ${F.mode==="media"?"resource":"file"}`,placement:"bottom"},[createBaseVNode("sl-button",{variant:"default",size:"small",class:"add-item",name:"`Add file",circle:"",onClick:kp},_hoisted_63)],8,_hoisted_61)):createCommentVNode("",!0)])):createCommentVNode("",!0)]),createBaseVNode("sl-dialog",{id:"add-repo-dialog",label:"Add Repository"},[createBaseVNode("form",{id:"add-repo-form",class:"input-validation-pattern"},[_hoisted_64,_hoisted_65,createBaseVNode("sl-button",{onClick:ip},"Cancel"),_hoisted_66])]),createBaseVNode("sl-dialog",{id:"add-file-dialog",label:"Add File"},[createBaseVNode("form",{id:"add-file-form",class:"input-validation-pattern"},[_hoisted_67,_hoisted_68,createBaseVNode("sl-button",{onClick:Sp},"Cancel"),_hoisted_69,_hoisted_70])]),createBaseVNode("sl-dialog",_hoisted_71,[createBaseVNode("div",null,[createTextVNode("Delete file "),createBaseVNode("span",{innerHTML:yo.value},null,8,_hoisted_72),createTextVNode("?")]),createBaseVNode("sl-button",{slot:"footer",onClick:Nf},"Cancel"),createBaseVNode("sl-button",{slot:"footer",variant:"primary",onClick:ap},"Confirm")])],512))}}),_style_0$l=`*{box-sizing:border-box}:host{display:block;width:100%;border:1px solid #444;padding:6px;z-index:9;background-color:#fff}span.path-elem{font-family:Archivo Narrow,Roboto,sans-serif;font-size:1.2rem}.workspace{display:flex;align-items:center}.workspace-selector{display:flex;gap:12px}.workspace-selector div{display:inline-flex;position:relative;padding-left:6px;font-size:1rem}.selectors{display:flex;gap:6px}.ws-path{position:relative;display:flex;align-items:center;width:100%;height:100%;margin:3px}.workspace-selector>sl-icon{vertical-align:middle;padding-right:6px}sl-drawer::part(base),sl-drawer::part(panel),sl-drawer::part(body){padding:0;overflow:visible}.github-select{font-weight:700;font-size:1.2em;color:#5a162e}sl-divider{margin:6px}.values{display:flex;flex-direction:column;gap:1rem}.values>div{display:flex;align-items:center;gap:1rem}.label{font-weight:700}.value{display:inline-block}sl-breadcrumb-item::part(label){font-size:1rem;color:var(--sl-color-primary-600)}.dir-items li{cursor:pointer}.dir-items{height:40vh;overflow-y:scroll}.dir-items li:hover{color:var(--sl-color-primary-600)}sl-icon-button::part(base){padding:0}.content-path{display:flex;flex-direction:column}sl-icon-button{align-self:start;margin-top:6px}sl-menu::part(base){max-height:300px;overflow-y:scroll}.dirs{display:flex;flex-wrap:wrap;gap:6px}.dirs sl-button::part(base){border-radius:12px;font-weight:500;font-family:Archivo Narrow,Roboto,sans-serif;font-size:1rem}sl-button.dir::part(base){background-color:#eee}sl-button.add-item::part(base){background-color:#eee;color:#000}.delete{margin-left:18px}sl-icon-button.delete::part(base){color:red}.add-repo{background-color:#ddd}sl-menu{text-align:left}sl-breadcrumb{display:inline-block}.breadcrumbs{display:flex;align-items:center;gap:12px;padding-left:12px}
`,ContentSelector=_export_sfc(_sfc_main$n,[["styles",[_style_0$l]]]),_hoisted_1$k=["innerHTML"],_hoisted_2$g={class:"entities"},_hoisted_3$e=["qid"],_hoisted_4$d=["qid","text"],_sfc_main$m=defineComponent({__name:"Entities.ce",props:{cards:{type:Boolean,default:!1},class:{type:String}},setup(F){const W=ref(0),q=ref(null),X=computed(()=>{var wt;let ut=q.value?document.getElementById(q.value):null;return ut!=null&&ut.dataset.entities?(wt=ut==null?void 0:ut.dataset.entities)==null?void 0:wt.split(/\s+/):[]});watch$1(X,async ut=>{ut.length>0?tt.value=await getEntityData(ut):tt.value={}});const tt=ref({});onMounted(()=>{EventBus$1.on("video-at-time",wt=>{W.value=wt.time});let ut=Array.from(document.querySelectorAll("p[data-head]")).map(wt=>({start:ot(wt.dataset.head.split(/\s+/)[0]),id:wt.id}));EventBus$1.on("video-at-time",wt=>{var mo;let uo=wt.time;q.value=(mo=ut.find(yo=>{var lf;return yo.start<=uo&&(((lf=ut[ut.indexOf(yo)+1])==null?void 0:lf.start)||1/0)>uo}))==null?void 0:mo.id})});function ot(ut){var wt=ut.split(":").slice(0,3).map(yo=>parseInt(yo,10));let uo=0,mo=1;for(;wt.length>0;){let yo=wt.pop()||0;uo+=mo*yo,mo*=60}return uo}function at(ut){let wt=Math.floor(ut/3600),uo=Math.floor((ut-wt*3600)/60),mo=ut-wt*3600-uo*60;return wt.toString().padStart(2,"0")+":"+uo.toString().padStart(2,"0")+":"+mo.toString().padStart(2,"0")}return(ut,wt)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",{innerHTML:at(W.value)},null,8,_hoisted_1$k),createBaseVNode("div",_hoisted_2$g,[F.cards?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(tt.value,(uo,mo,yo)=>(openBlock(),createElementBlock("mdp-entity-card",{key:`entity-card-${yo}`,qid:mo},null,8,_hoisted_3$e))),128)):(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(tt.value,(uo,mo,yo)=>(openBlock(),createElementBlock("mdp-entity-infobox",{key:`entity-infobox-${yo}`,qid:mo,text:uo.label},toDisplayString(tt.value[mo].label)+" ("+toDisplayString(mo)+")",9,_hoisted_4$d))),128))])],64))}}),_style_0$k=`.entities{display:flex;flex-wrap:wrap;gap:.5em}mdp-entity-infobox{border:1px solid #ccc;border-radius:12px;padding:6px}
`,Entities=_export_sfc(_sfc_main$m,[["styles",[_style_0$k]]]),_hoisted_1$j={class:"card",hoist:""},_hoisted_2$f=["src","alt"],_hoisted_3$d={class:"content"},_hoisted_4$c=["innerHTML"],_hoisted_5$b=["innerHTML"],_hoisted_6$b={slot:"footer"},_hoisted_7$7=["href"],_sfc_main$l=defineComponent({__name:"EntityCard.ce",props:{file:{type:String},language:{type:String,default:"en"},qid:{type:String}},setup(F){const W=F;watch$1(W,()=>{W.qid&&(q.value=W.qid),W.file&&(X.value=W.file)});const q=ref(W.qid);watch$1(q,()=>{at()});const X=ref(W.file);watch$1(X,()=>{at()});const tt=ref(),ot=computed(()=>{var uo;return(uo=window.config)==null?void 0:uo.source});onMounted(()=>{at()});async function at(){var uo;if(q.value)tt.value=await getEntity(q.value);else{let mo=(uo=ot.value)!=null&&uo.owner?`https://raw.githubusercontent.com/${ot.value.owner}/${ot.value.repository}/${ot.value.branch}/`:"/",[yo,lf]=await Promise.all([fetch(`${mo}${X.value}.md`),fetch(`${mo}${X.value}.yaml`)]),uf=lf.ok?wt(await lf.text()):{};yo.ok&&(uf={...uf,...ut(await yo.text())}),uf.id&&(uf={...await getEntity(uf.id),...uf}),tt.value=uf}}function ut(uo){var wo,ls,_f;let mo=(wo=new DOMParser().parseFromString(marked.parse(uo),"text/html"))==null?void 0:wo.firstChild,yo=(ls=mo==null?void 0:mo.querySelector("h1,h2,h3,h4,h5,h6"))==null?void 0:ls.textContent,lf=(_f=mo==null?void 0:mo.querySelector("img"))==null?void 0:_f.src,uf,df=[];mo.querySelectorAll("p").forEach(po=>{var xo,gf;/^Q\d+$/.test(((xo=po.textContent)==null?void 0:xo.trim())||"")?uf=(gf=po.textContent)==null?void 0:gf.trim():df.push(po.textContent||"")});let wf={};return yo&&(wf.label=yo),uf&&(wf.id=uf),df.length&&(wf.description=df.join(`
`)),lf&&(wf.thumbnail=lf),wf}function wt(uo){return load$2(uo)}return(uo,mo)=>{var yo,lf,uf,df,wf;return openBlock(),createElementBlock("sl-card",_hoisted_1$j,[(yo=tt.value)!=null&&yo.thumbnail?(openBlock(),createElementBlock("img",{key:0,slot:"image",src:(lf=tt.value)==null?void 0:lf.thumbnail,alt:uo.label},null,8,_hoisted_2$f)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_3$d,[(uf=tt.value)!=null&&uf.label?(openBlock(),createElementBlock("h2",{key:0,innerHTML:tt.value.label},null,8,_hoisted_4$c)):createCommentVNode("",!0),(df=tt.value)!=null&&df.description?(openBlock(),createElementBlock("p",{key:1,class:"description",innerHTML:tt.value.description},null,8,_hoisted_5$b)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_6$b,[q.value&&((wf=tt.value)!=null&&wf.wikipedia)?(openBlock(),createElementBlock("a",{key:0,href:tt.value.wikipedia,target:"_blank"},"Wikipedia",8,_hoisted_7$7)):createCommentVNode("",!0)])])}}}),_style_0$j=`.card{display:flex;flex-direction:column;min-width:200px;max-width:300px;max-height:600px;background-color:#fff;margin:1em;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px;border:1px solid #ccc;border-radius:3px}img{max-height:375px;-o-object-fit:cover;object-fit:cover}.content{display:flex;flex-direction:column;flex:1;gap:.5em;padding:.5em;overflow-y:scroll}h2{margin:0}.description{margin:0;padding:0;font-style:italic;font-size:.9em}.card [slot=footer]{display:flex;justify-content:space-between;align-items:center;padding:.5em}
`,EntityCard=_export_sfc(_sfc_main$l,[["styles",[_style_0$j]]]),_hoisted_1$i=["innerHTML"],_hoisted_2$e=["qid","file","language"],_sfc_main$k=defineComponent({__name:"EntityInfobox.ce",props:{file:{type:String},language:{type:String,default:"en"},qid:{type:String},text:{type:String}},setup(F){const W=F,q=ref(null),X=computed(()=>{var wt,uo;return(uo=(wt=q.value)==null?void 0:wt.getRootNode())==null?void 0:uo.host}),tt=computed(()=>{var wt;return(wt=q==null?void 0:q.value)==null?void 0:wt.parentNode}),ot=ref(),at=ref(),ut=ref(W.text);return watch$1(W,wt=>{ot.value=wt.qid,ut.value=wt.text}),onMounted(()=>{var wt,uo;ut.value=W.text||((wt=X.value)==null?void 0:wt.textContent),((uo=tt.value)==null?void 0:uo.querySelector("sl-dropdown")).addEventListener("sl-show",mo=>{W.qid&&(ot.value=W.qid),W.file&&(at.value=W.file)})}),(wt,uo)=>(openBlock(),createElementBlock("sl-dropdown",{ref_key:"root",ref:q,distance:"12",placement:"top",hoist:""},[createBaseVNode("div",{slot:"trigger",innerHTML:ut.value},null,8,_hoisted_1$i),ot.value||at.value?(openBlock(),createElementBlock("mdp-entity-card",{key:0,qid:ot.value,file:at.value,language:W.language},null,8,_hoisted_2$e)):createCommentVNode("",!0)],512))}}),_style_0$i=`:host{cursor:pointer}sl-dropdown svg{width:1.2em;height:1.2em;cursor:pointer}
`,EntityInfobox=_export_sfc(_sfc_main$k,[["styles",[_style_0$i]]]);/*
 * Component
 * @version: 1.3.0
 * @author: HtmlStream
 * @license: Licensed under MIT (https://preline.co/docs/license.html)
 * Copyright 2023 Htmlstream
 */class Component{constructor(W,q){this.$collection=[],this.selector=W,this.config=q,this.events={}}_fireEvent(W,q=null){this.events.hasOwnProperty(W)&&this.events[W](q)}_dispatch(W,q,X=null){const tt=new CustomEvent(W,{detail:{payload:X},bubbles:!0,cancelable:!0,composed:!1});q.dispatchEvent(tt)}on(W,q){this.events[W]=q}afterTransition(W,q){const X=()=>{q(),W.removeEventListener("transitionend",X,!0)};window.getComputedStyle(W,null).getPropertyValue("transition")!=="all 0s ease 0s"?W.addEventListener("transitionend",X,!0):q()}getClassProperty(W,q,X=""){return(window.getComputedStyle(W).getPropertyValue(q)||X).replace(" ","")}}/*
 * HSOverlay
 * @version: 1.3.0
 * @author: HtmlStream
 * @license: Htmlstream Libraries (https://preline.co/docs/license.html)
 * Copyright 2023 Htmlstream
 */class HSOverlay extends Component{constructor(q){super("[data-hs-overlay]");Wv(this,"root");this.root=q,this.openNextOverlay=!1}init(){this.root.addEventListener("click",q=>{const tt=q.target.closest(this.selector),ot=q.target.closest("[data-hs-overlay-close]"),at=q.target.getAttribute("aria-overlay")==="true";if(ot)return this.close(ot.closest(".hs-overlay.open"));if(tt)return this.toggle(this.root.querySelector(tt.getAttribute("data-hs-overlay")));at&&this._onBackdropClick(q.target)}),this.root.addEventListener("keydown",q=>{if(q.keyCode===27){const X=this.root.querySelector(".hs-overlay.open");if(!X)return;setTimeout(()=>{X.getAttribute("data-hs-overlay-keyboard")!=="false"&&this.close(X)})}})}toggle(q){q&&(q.classList.contains("hidden")?this.open(q):this.close(q))}open(q){if(!q)return;const X=this.root.querySelector(".hs-overlay.open"),tt=this.getClassProperty(q,"--body-scroll","false")!=="true";if(X)return this.openNextOverlay=!0,this.close(X).then(()=>{this.open(q),this.openNextOverlay=!1});tt&&(this.root.style.overflow="hidden"),this._buildBackdrop(q),this._checkTimer(q),this._autoHide(q),q.classList.remove("hidden"),q.setAttribute("aria-overlay","true"),q.setAttribute("tabindex","-1"),setTimeout(()=>{q.classList.contains("hidden")||(q.classList.add("open"),this._fireEvent("open",q),this._dispatch("open.hs.overlay",q,q),this._focusInput(q))},50)}close(q){return new Promise(X=>{q&&(q.classList.remove("open"),q.removeAttribute("aria-overlay"),q.removeAttribute("tabindex","-1"),this.afterTransition(q,()=>{q.classList.contains("open")||(q.classList.add("hidden"),this._destroyBackdrop(),this._fireEvent("close",q),this._dispatch("close.hs.overlay",q,q),this.root.style.overflow="",X(q))}))})}_autoHide(q){const X=parseInt(this.getClassProperty(q,"--auto-hide","0"));X&&(q.autoHide=setTimeout(()=>{this.close(q)},X))}_checkTimer(q){q.autoHide&&(clearTimeout(q.autoHide),delete q.autoHide)}_onBackdropClick(q){this.getClassProperty(q,"--overlay-backdrop","true")!=="static"&&this.close(q)}_buildBackdrop(q){const X=q.getAttribute("data-hs-overlay-backdrop-container")||!1;let tt=document.createElement("div"),ot="transition duration fixed inset-0 z-50 bg-gray-900 bg-opacity-50 dark:bg-opacity-80 hs-overlay-backdrop";for(const wt of q.classList.values())wt.startsWith("hs-overlay-backdrop-open:")&&(ot+=` ${wt}`);const at=this.getClassProperty(q,"--overlay-backdrop","true")!=="static";this.getClassProperty(q,"--overlay-backdrop","true")!=="false"&&(X&&(tt=this.root.querySelector(X).cloneNode(!0),tt.classList.remove("hidden"),ot=tt.classList,tt.classList=""),at&&tt.addEventListener("click",()=>this.close(q),!0),tt.setAttribute("data-hs-overlay-backdrop-template",""),this.root.appendChild(tt),setTimeout(()=>{tt.classList=ot}))}_destroyBackdrop(){const q=this.root.querySelector("[data-hs-overlay-backdrop-template]");q&&(this.openNextOverlay&&(q.style.transitionDuration=`${parseFloat(window.getComputedStyle(q).transitionDuration.replace(/[^\d.-]/g,""))*1.8}s`),q.classList.add("opacity-0"),this.afterTransition(q,()=>{q.remove()}))}_focusInput(q){const X=q.querySelector("[autofocus]");X&&X.focus()}}const _hoisted_1$h=["innerHTML"],_hoisted_2$d={class:"hs-overlay-open:mt-7 hs-overlay-open:opacity-100 hs-overlay-open:duration-500 mt-0 opacity-0 ease-out transition-all sm:max-w-lg sm:w-full m-3 sm:mx-auto min-h-[calc(100%-3.5rem)] flex items-center"},_hoisted_3$c={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},_hoisted_4$b={class:"p-4 overflow-y-auto flex items-center gap-4"},_hoisted_5$a=createBaseVNode("sl-spinner",{style:{"font-size":"3rem","--indicator-color":"deeppink","--track-color":"pink"}},null,-1),_hoisted_6$a=["innerHTML"],_sfc_main$j=defineComponent({__name:"Footer.ce",setup(F){const W=ref([]),q=ref(null),X=computed(()=>{var uf,df;return(df=(uf=q.value)==null?void 0:uf.getRootNode())==null?void 0:df.host}),tt=ref(null),ot=computed(()=>tt==null?void 0:tt.value),at=computed(()=>new HSOverlay(ot.value)),ut=ref(null),wt=computed(()=>ut==null?void 0:ut.value),uo=ref("Generating PDF...");watch$1(wt,uf=>{at.value.init(),uf.addEventListener("open.hs.overlay",df=>mo.value=!0),uf.addEventListener("close.hs.overlay",df=>mo.value=!1)});const mo=ref(!1);watch$1(mo,uf=>{uf?at.value.open(wt.value):at.value.close(wt.value)}),watch$1(X,()=>{yo()});function yo(){function uf(){return Array.from(X.value.querySelectorAll("li")).map(df=>{let wf=document.createElement("li");wf.innerHTML=marked.parse(df.textContent||"");let wo=wf.querySelector("code");if(wo){let ls=wo.previousElementSibling,_f=ls||wf,po=lf(wo.innerHTML);po.id&&(_f.id=po.id),po.class&&po.class.split(" ").forEach(xo=>_f.classList.add(xo)),po.style&&_f.setAttribute("style",po.style),wo.remove()}return wf})}W.value=uf(),new MutationObserver(df=>{for(let wf of df)wf.type==="childList"&&(W.value=uf())}).observe(X.value,{childList:!0,subtree:!0})}function lf(uf){var ls;let df=[];uf=uf.replace(/”/g,'"').replace(/”/g,'"').replace(/’/g,"'"),(ls=uf==null?void 0:uf.match(/[^\s"]+|"([^"]*)"/gmi))==null||ls.filter(_f=>_f).forEach(_f=>{df.length>0&&df[df.length-1].indexOf("=")===df[df.length-1].length-1?df[df.length-1]=`${df[df.length-1]}${_f}`:df.push(_f)});let wf={},wo=0;for(;wo<df.length;){let _f=df[wo];if(_f.indexOf("=")>0){let[po,xo]=_f.split("=");xo=xo[0]==='"'&&xo[xo.length-1]==='"'?xo.slice(1,-1):xo,wf[po]?wf[po]+=` ${xo}`:wf[po]=xo}else if(_f[0]==="."){let po="class",xo=_f.slice(1);xo=xo[0]==='"'&&xo[xo.length-1]==='"'?xo.slice(1,-1):xo,wf[po]?wf[po]+=` ${xo}`:wf[po]=xo}else if(_f[0]===":"){let po="style",xo;_f.length===1&&wo<_f.length&&df[wo+1][0]==='"'?(xo=df[wo+1].slice(1,-1),wo++):xo=_f.slice(1),wf[po]?wf[po]+=` ${xo}`:wf[po]=xo}else if(_f[0]==='"'){let po="args",xo=_f.slice(1,-1);wf[po]?wf[po].push(xo):wf[po]=[xo]}else _f[0]==="#"?wf.id=_f.slice(1):wf[_f]=!0;wo++}return wf}return(uf,df)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("ul",{ref_key:"footer",ref:q,id:"footer",class:"flex bg-slate-100 p-2 gap-3 mt-8 items-center w-full h-8"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(W.value,(wf,wo)=>(openBlock(),createElementBlock("li",{key:`li-${wo}`,innerHTML:wf.innerHTML,class:normalizeClass(wf.className),style:normalizeStyle(wf.getAttribute("style")||"")},null,14,_hoisted_1$h))),128))],512),createBaseVNode("div",{ref_key:"overlayRef",ref:tt},[createBaseVNode("div",{ref_key:"modalRef",ref:ut,id:"hs-basic-modal",class:"hs-overlay hidden w-full h-full fixed top-0 start-0 z-[80] overflow-x-hidden overflow-y-auto pointer-events-none"},[createBaseVNode("div",_hoisted_2$d,[createBaseVNode("div",_hoisted_3$c,[createBaseVNode("div",_hoisted_4$b,[_hoisted_5$a,createBaseVNode("p",{innerHTML:uo.value},null,8,_hoisted_6$a)])])])],512)],512)],64))}}),_style_0$h=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.end-1{inset-inline-end:.25rem}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-3{margin:.75rem}.me-1{margin-inline-end:.25rem}.ml-1{margin-left:.25rem}.mr-2{margin-right:.5rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-40{height:10rem}.h-64{height:16rem}.h-8{height:2rem}.h-80{height:20rem}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-1{width:.25rem}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-10{padding:2.5rem}.p-14{padding:3.5rem}.p-16{padding:4rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-8{padding:2rem}.px-4{padding-left:1rem;padding-right:1rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pe-1{padding-inline-end:.25rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.\\!ordinal{--tw-ordinal: ordinal !important;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)!important}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[a\\:a\\]{a:a}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}mdp-header ul,mdp-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}img,svg{height:36px}.push{margin-left:auto}@media only screen and (max-width: 768px){#footer{font-size:.8em}li{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}}.overlay{position:fixed;display:none;width:100%;height:100%;top:0;left:0;right:0;bottom:0;background-color:#00000080;z-index:2;cursor:pointer}
`,Footer=_export_sfc(_sfc_main$j,[["styles",[_style_0$h]]]),_hoisted_1$g=["id"],_hoisted_2$c=["src","onClick"],_hoisted_3$b=["innerHTML"],_hoisted_4$a=["src"],_hoisted_5$9={slot:"footer",class:"footer"},_hoisted_6$9=["manifest"],_hoisted_7$6={class:"controls push"},_hoisted_8$6={key:0,class:"toolbar"},_hoisted_9$6=createBaseVNode("svg",{class:"push edit",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[createBaseVNode("path",{d:"M441 58.9L453.1 71c9.4 9.4 9.4 24.6 0 33.9L424 134.1 377.9 88 407 58.9c9.4-9.4 24.6-9.4 33.9 0zM209.8 256.2L344 121.9 390.1 168 255.8 302.2c-2.9 2.9-6.5 5-10.4 6.1l-58.5 16.7 16.7-58.5c1.1-3.9 3.2-7.5 6.1-10.4zM373.1 25L175.8 222.2c-8.7 8.7-15 19.4-18.3 31.1l-28.6 100c-2.4 8.4-.1 17.4 6.1 23.6s15.2 8.5 23.6 6.1l100-28.6c11.8-3.4 22.5-9.7 31.1-18.3L487 138.9c28.1-28.1 28.1-73.7 0-101.8L474.9 25C446.8-3.1 401.2-3.1 373.1 25zM88 64C39.4 64 0 103.4 0 152V424c0 48.6 39.4 88 88 88H360c48.6 0 88-39.4 88-88V312c0-13.3-10.7-24-24-24s-24 10.7-24 24V424c0 22.1-17.9 40-40 40H88c-22.1 0-40-17.9-40-40V152c0-22.1 17.9-40 40-40H200c13.3 0 24-10.7 24-24s-10.7-24-24-24H88z"})],-1),_hoisted_10$6=createBaseVNode("svg",{class:"delete",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},[createBaseVNode("path",{d:"M170.5 51.6L151.5 80h145l-19-28.4c-1.5-2.2-4-3.6-6.7-3.6H177.1c-2.7 0-5.2 1.3-6.7 3.6zm147-26.6L354.2 80H368h48 8c13.3 0 24 10.7 24 24s-10.7 24-24 24h-8V432c0 44.2-35.8 80-80 80H112c-44.2 0-80-35.8-80-80V128H24c-13.3 0-24-10.7-24-24S10.7 80 24 80h8H80 93.8l36.7-55.1C140.9 9.4 158.4 0 177.1 0h93.7c18.7 0 36.2 9.4 46.6 24.9zM80 128V432c0 17.7 14.3 32 32 32H336c17.7 0 32-14.3 32-32V128H80zm80 64V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16z"})],-1),_hoisted_11$6=[_hoisted_9$6,_hoisted_10$6],_sfc_main$i=defineComponent({__name:"Gallery.ce",props:{data:{type:String},dialogWidth:{type:String,default:"100vw"},ghDir:{type:String},caption:{type:Boolean,default:!1}},setup(F){const W=F,q=ref(null),X=computed(()=>{var xf,bf;return(bf=(xf=q.value)==null?void 0:xf.getRootNode())==null?void 0:bf.host});watch$1(X,()=>{xo()});const tt=computed(()=>{var xf;return(xf=q==null?void 0:q.value)==null?void 0:xf.parentNode}),ot=self.window,at=ref(ot.config||{}),ut=ref(null);watch$1(ut,async()=>{var xf,bf,Af,Pf,Df,zf;(xf=at.value)!=null&&xf.github&&((bf=ut.value)!=null&&bf.token)&&(wt.value=await yf((Pf=(Af=at.value)==null?void 0:Af.source)==null?void 0:Pf.owner,(zf=(Df=at.value)==null?void 0:Df.source)==null?void 0:zf.repository,ut.value.username,ut.value.token))});const wt=ref(!1),uo=ref([]);watch$1(uo,async xf=>{yo.value=await loadManifests(xf)});function mo(xf){var bf;return Object.fromEntries((bf=xf.metadata)==null?void 0:bf.map(Af=>[(Af.label.en||Af.label.none||Object.keys(Af.label)[0])[0],(Af.value.en||Af.value.none||Object.keys(Af.value)[0])[0]]))}const yo=ref([]);watch$1(yo,xf=>{lf.value=xf.map(bf=>{var Ff;let Af=mo(bf),Pf=[Af.camera,Af.exposure,Af.mode].filter(Xf=>Xf).join(", "),Df=findItem({type:"Annotation",motivation:"painting"},bf,1).body,zf=((Ff=bf.metadata)==null?void 0:Ff.filter(Xf=>(Xf.label.en||Xf.label.none)[0]==="orientation").map(Xf=>(Xf.value.en||Xf.value.none)[0])[0])||1;zf=Array.isArray(zf)?zf[0]:zf;let jf=zf===1||zf===3?Df.width:Df.height,$f=zf===1||zf===3?Df.height:Df.width;return{id:bf.id,label:bf.label?bf.label.en||bf.label.none||Object.values(bf.label)[0]:null,summary:bf.summary?bf.summary.en||bf.summary.none||Object.values(bf.summary)[0]:null,width:jf,height:$f,format:Df.format,orientation:zf,aspect_ratio:Number((jf/$f).toFixed(4)),thumbnail:bf.thumbnail[0].id,photoDetails:Pf}})});const lf=ref([]);watch$1(lf,xf=>{gf()});const uf=ref(null);watch$1(uf,()=>{_f.value=uf.value!==null});const df=ref(0),wf=ref([]);let wo,ls;const _f=ref(!1);watch$1(_f,()=>{ls.open=_f.value});function po(xf){let bf=xf.split("/"),Af=bf[bf.length-1],Pf=Af.lastIndexOf("."),Df=Af.slice(0,Pf),zf=Af.slice(Pf+1);return bf[bf.length-1]=`${encodeURIComponent(Df)}.${zf}`,xf=bf.join("/"),xf.indexOf("http")===0?xf:`https://iiif.mdpress.io/${xf}/manifest.json`}function xo(){if(W.data){let xf=document.getElementById(W.data);uo.value=Array.from(xf.querySelectorAll("li")).map(bf=>bf.textContent).map(bf=>po(bf))}else if(W.ghDir){let xf=W.ghDir[0]==="/"?W.ghDir.slice(1):W.ghDir;fetch(`https://iiif.mdpress.io/gh-dir/${xf}?filter=images`).then(bf=>bf.json()).then(bf=>{uo.value=bf.map(Af=>po(`gh:${W.ghDir}/${Af.name}`))})}else{let xf=function(){uo.value=Array.from(bf.querySelectorAll("li")).map(Af=>Af.innerText).map(Af=>po(Af))},bf=X.value.parentElement;xf(),new MutationObserver(Af=>{for(let Pf of Af)Pf.type==="childList"&&xf()}).observe(bf,{childList:!0,subtree:!0})}}function gf(){if(lf.value.length===0)return;let xf=W.caption?32:0,bf=lf.value.length;const Af=df.value<=640?2:df.value<=960?3:df.value<=1280?4:df.value<=1920?5:6;let Pf=[],Df=isMobile()?8:16,zf=[],jf=0,$f=0,Ff=0;lf.value.forEach((Xf,mp)=>{if(Ff+=Xf.aspect_ratio,zf.push(Xf),Ff>=Af||mp+1===bf){Ff=Math.max(Ff,Af);const Mp=(df.value-Df*(zf.length-1))/Ff;zf.forEach(Np=>{const Pp=Mp*Np.aspect_ratio;Pf.push({width:`${Math.round(Pp)}px`,height:`${Math.round(Mp+xf)}px`,transform:`translate3d(${Math.round(jf)}px, ${Math.round($f)}px, 0)`}),jf+=Pp+Df}),zf=[],Ff=0,$f+=Mp+Df+xf,jf=0}}),q.value&&(q.value.style.height=`${$f-Df}px`),wf.value=Pf}function cf(xf){uf.value=yo.value[xf]}onMounted(()=>{var xf;ut.value=localStorage.getItem("auth-user")&&JSON.parse(localStorage.getItem("auth-user")||"{}"),ls=(xf=tt.value)==null?void 0:xf.querySelector(".dialog"),ls.addEventListener("sl-hide",bf=>_f.value=!1)}),watch$1(q,()=>{var xf;q.value&&(df.value=((xf=q.value)==null?void 0:xf.clientWidth)||0,new ResizeObserver(()=>{var Af,Pf,Df;(Af=q.value)!=null&&Af.clientWidth&&((Pf=q.value)==null?void 0:Pf.clientWidth)!==df.value&&(df.value=(Df=q.value)==null?void 0:Df.clientWidth,clearTimeout(wo),wo=setTimeout(gf,10))}).observe(q.value))});async function yf(xf,bf,Af,Pf){let Df=`https://api.github.com/repos/${xf}/${bf}/collaborators/${Af}`,zf=await fetch(Df,{headers:{Accept:"application/vnd.github+json",Authorization:`token ${Pf}`}});return zf.ok&&zf.status===204}function Sf(xf){navigator.clipboard&&navigator.clipboard.writeText(xf)}return(xf,bf)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",{ref_key:"root",ref:q,id:"gallery"},[wf.value.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(lf.value,(Af,Pf)=>(openBlock(),createElementBlock("div",{class:"gallery-item",id:Af.id,style:normalizeStyle(wf.value[Pf])},[createBaseVNode("img",{class:"image fade-in",onload:"this.style.opacity = 1",src:lf.value[Pf].thumbnail,onClick:Df=>cf(Pf)},null,8,_hoisted_2$c),F.caption?(openBlock(),createElementBlock("div",{key:0,style:{height:"32px",display:"flex","align-items":"center","margin-left":"0.25em"},innerHTML:lf.value[Pf].label},null,8,_hoisted_3$b)):createCommentVNode("",!0)],12,_hoisted_1$g))),256)):createCommentVNode("",!0)],512),createBaseVNode("sl-dialog",{class:"dialog","no-header":"",style:normalizeStyle({"--width":F.dialogWidth,"--body-spacing":0,"--footer-spacing":"0.5em"})},[uf.value?(openBlock(),createElementBlock("mdp-image",{key:0,"no-caption":"",src:uf.value.id,fit:"contain"},null,8,_hoisted_4$a)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_5$9,[createBaseVNode("mdp-caption",{manifest:uf.value},null,8,_hoisted_6$9),createBaseVNode("div",_hoisted_7$6,[wt.value?(openBlock(),createElementBlock("div",_hoisted_8$6,_hoisted_11$6)):createCommentVNode("",!0),createBaseVNode("img",{src:"https://mdpress.io/images/iiif.png",class:"iiif",alt:"IIIF manifest icon",onClick:bf[0]||(bf[0]=Af=>Sf(uf.value.id))}),createBaseVNode("sl-button",{variant:"primary",onClick:bf[1]||(bf[1]=Af=>uf.value=null)},"Close")])])],4)],64))}}),_style_0$g=`:root,:host,.sl-theme-light{color-scheme:light;--sl-color-gray-50: hsl(0 0% 97.5%);--sl-color-gray-100: hsl(240 4.8% 95.9%);--sl-color-gray-200: hsl(240 5.9% 90%);--sl-color-gray-300: hsl(240 4.9% 83.9%);--sl-color-gray-400: hsl(240 5% 64.9%);--sl-color-gray-500: hsl(240 3.8% 46.1%);--sl-color-gray-600: hsl(240 5.2% 33.9%);--sl-color-gray-700: hsl(240 5.3% 26.1%);--sl-color-gray-800: hsl(240 3.7% 15.9%);--sl-color-gray-900: hsl(240 5.9% 10%);--sl-color-gray-950: hsl(240 7.3% 8%);--sl-color-red-50: hsl(0 85.7% 97.3%);--sl-color-red-100: hsl(0 93.3% 94.1%);--sl-color-red-200: hsl(0 96.3% 89.4%);--sl-color-red-300: hsl(0 93.5% 81.8%);--sl-color-red-400: hsl(0 90.6% 70.8%);--sl-color-red-500: hsl(0 84.2% 60.2%);--sl-color-red-600: hsl(0 72.2% 50.6%);--sl-color-red-700: hsl(0 73.7% 41.8%);--sl-color-red-800: hsl(0 70% 35.3%);--sl-color-red-900: hsl(0 62.8% 30.6%);--sl-color-red-950: hsl(0 60% 19.6%);--sl-color-orange-50: hsl(33.3 100% 96.5%);--sl-color-orange-100: hsl(34.3 100% 91.8%);--sl-color-orange-200: hsl(32.1 97.7% 83.1%);--sl-color-orange-300: hsl(30.7 97.2% 72.4%);--sl-color-orange-400: hsl(27 96% 61%);--sl-color-orange-500: hsl(24.6 95% 53.1%);--sl-color-orange-600: hsl(20.5 90.2% 48.2%);--sl-color-orange-700: hsl(17.5 88.3% 40.4%);--sl-color-orange-800: hsl(15 79.1% 33.7%);--sl-color-orange-900: hsl(15.3 74.6% 27.8%);--sl-color-orange-950: hsl(15.2 69.1% 19%);--sl-color-amber-50: hsl(48 100% 96.1%);--sl-color-amber-100: hsl(48 96.5% 88.8%);--sl-color-amber-200: hsl(48 96.6% 76.7%);--sl-color-amber-300: hsl(45.9 96.7% 64.5%);--sl-color-amber-400: hsl(43.3 96.4% 56.3%);--sl-color-amber-500: hsl(37.7 92.1% 50.2%);--sl-color-amber-600: hsl(32.1 94.6% 43.7%);--sl-color-amber-700: hsl(26 90.5% 37.1%);--sl-color-amber-800: hsl(22.7 82.5% 31.4%);--sl-color-amber-900: hsl(21.7 77.8% 26.5%);--sl-color-amber-950: hsl(22.9 74.1% 16.7%);--sl-color-yellow-50: hsl(54.5 91.7% 95.3%);--sl-color-yellow-100: hsl(54.9 96.7% 88%);--sl-color-yellow-200: hsl(52.8 98.3% 76.9%);--sl-color-yellow-300: hsl(50.4 97.8% 63.5%);--sl-color-yellow-400: hsl(47.9 95.8% 53.1%);--sl-color-yellow-500: hsl(45.4 93.4% 47.5%);--sl-color-yellow-600: hsl(40.6 96.1% 40.4%);--sl-color-yellow-700: hsl(35.5 91.7% 32.9%);--sl-color-yellow-800: hsl(31.8 81% 28.8%);--sl-color-yellow-900: hsl(28.4 72.5% 25.7%);--sl-color-yellow-950: hsl(33.1 69% 13.9%);--sl-color-lime-50: hsl(78.3 92% 95.1%);--sl-color-lime-100: hsl(79.6 89.1% 89.2%);--sl-color-lime-200: hsl(80.9 88.5% 79.6%);--sl-color-lime-300: hsl(82 84.5% 67.1%);--sl-color-lime-400: hsl(82.7 78% 55.5%);--sl-color-lime-500: hsl(83.7 80.5% 44.3%);--sl-color-lime-600: hsl(84.8 85.2% 34.5%);--sl-color-lime-700: hsl(85.9 78.4% 27.3%);--sl-color-lime-800: hsl(86.3 69% 22.7%);--sl-color-lime-900: hsl(87.6 61.2% 20.2%);--sl-color-lime-950: hsl(86.5 60.6% 13.9%);--sl-color-green-50: hsl(138.5 76.5% 96.7%);--sl-color-green-100: hsl(140.6 84.2% 92.5%);--sl-color-green-200: hsl(141 78.9% 85.1%);--sl-color-green-300: hsl(141.7 76.6% 73.1%);--sl-color-green-400: hsl(141.9 69.2% 58%);--sl-color-green-500: hsl(142.1 70.6% 45.3%);--sl-color-green-600: hsl(142.1 76.2% 36.3%);--sl-color-green-700: hsl(142.4 71.8% 29.2%);--sl-color-green-800: hsl(142.8 64.2% 24.1%);--sl-color-green-900: hsl(143.8 61.2% 20.2%);--sl-color-green-950: hsl(144.3 60.7% 12%);--sl-color-emerald-50: hsl(151.8 81% 95.9%);--sl-color-emerald-100: hsl(149.3 80.4% 90%);--sl-color-emerald-200: hsl(152.4 76% 80.4%);--sl-color-emerald-300: hsl(156.2 71.6% 66.9%);--sl-color-emerald-400: hsl(158.1 64.4% 51.6%);--sl-color-emerald-500: hsl(160.1 84.1% 39.4%);--sl-color-emerald-600: hsl(161.4 93.5% 30.4%);--sl-color-emerald-700: hsl(162.9 93.5% 24.3%);--sl-color-emerald-800: hsl(163.1 88.1% 19.8%);--sl-color-emerald-900: hsl(164.2 85.7% 16.5%);--sl-color-emerald-950: hsl(164.3 87.5% 9.4%);--sl-color-teal-50: hsl(166.2 76.5% 96.7%);--sl-color-teal-100: hsl(167.2 85.5% 89.2%);--sl-color-teal-200: hsl(168.4 83.8% 78.2%);--sl-color-teal-300: hsl(170.6 76.9% 64.3%);--sl-color-teal-400: hsl(172.5 66% 50.4%);--sl-color-teal-500: hsl(173.4 80.4% 40%);--sl-color-teal-600: hsl(174.7 83.9% 31.6%);--sl-color-teal-700: hsl(175.3 77.4% 26.1%);--sl-color-teal-800: hsl(176.1 69.4% 21.8%);--sl-color-teal-900: hsl(175.9 60.8% 19%);--sl-color-teal-950: hsl(176.5 58.6% 11.4%);--sl-color-cyan-50: hsl(183.2 100% 96.3%);--sl-color-cyan-100: hsl(185.1 95.9% 90.4%);--sl-color-cyan-200: hsl(186.2 93.5% 81.8%);--sl-color-cyan-300: hsl(187 92.4% 69%);--sl-color-cyan-400: hsl(187.9 85.7% 53.3%);--sl-color-cyan-500: hsl(188.7 94.5% 42.7%);--sl-color-cyan-600: hsl(191.6 91.4% 36.5%);--sl-color-cyan-700: hsl(192.9 82.3% 31%);--sl-color-cyan-800: hsl(194.4 69.6% 27.1%);--sl-color-cyan-900: hsl(196.4 63.6% 23.7%);--sl-color-cyan-950: hsl(196.8 61% 16.1%);--sl-color-sky-50: hsl(204 100% 97.1%);--sl-color-sky-100: hsl(204 93.8% 93.7%);--sl-color-sky-200: hsl(200.6 94.4% 86.1%);--sl-color-sky-300: hsl(199.4 95.5% 73.9%);--sl-color-sky-400: hsl(198.4 93.2% 59.6%);--sl-color-sky-500: hsl(198.6 88.7% 48.4%);--sl-color-sky-600: hsl(200.4 98% 39.4%);--sl-color-sky-700: hsl(201.3 96.3% 32.2%);--sl-color-sky-800: hsl(201 90% 27.5%);--sl-color-sky-900: hsl(202 80.3% 23.9%);--sl-color-sky-950: hsl(202.3 73.8% 16.5%);--sl-color-blue-50: hsl(213.8 100% 96.9%);--sl-color-blue-100: hsl(214.3 94.6% 92.7%);--sl-color-blue-200: hsl(213.3 96.9% 87.3%);--sl-color-blue-300: hsl(211.7 96.4% 78.4%);--sl-color-blue-400: hsl(213.1 93.9% 67.8%);--sl-color-blue-500: hsl(217.2 91.2% 59.8%);--sl-color-blue-600: hsl(221.2 83.2% 53.3%);--sl-color-blue-700: hsl(224.3 76.3% 48%);--sl-color-blue-800: hsl(225.9 70.7% 40.2%);--sl-color-blue-900: hsl(224.4 64.3% 32.9%);--sl-color-blue-950: hsl(226.2 55.3% 18.4%);--sl-color-indigo-50: hsl(225.9 100% 96.7%);--sl-color-indigo-100: hsl(226.5 100% 93.9%);--sl-color-indigo-200: hsl(228 96.5% 88.8%);--sl-color-indigo-300: hsl(229.7 93.5% 81.8%);--sl-color-indigo-400: hsl(234.5 89.5% 73.9%);--sl-color-indigo-500: hsl(238.7 83.5% 66.7%);--sl-color-indigo-600: hsl(243.4 75.4% 58.6%);--sl-color-indigo-700: hsl(244.5 57.9% 50.6%);--sl-color-indigo-800: hsl(243.7 54.5% 41.4%);--sl-color-indigo-900: hsl(242.2 47.4% 34.3%);--sl-color-indigo-950: hsl(243.5 43.6% 22.9%);--sl-color-violet-50: hsl(250 100% 97.6%);--sl-color-violet-100: hsl(251.4 91.3% 95.5%);--sl-color-violet-200: hsl(250.5 95.2% 91.8%);--sl-color-violet-300: hsl(252.5 94.7% 85.1%);--sl-color-violet-400: hsl(255.1 91.7% 76.3%);--sl-color-violet-500: hsl(258.3 89.5% 66.3%);--sl-color-violet-600: hsl(262.1 83.3% 57.8%);--sl-color-violet-700: hsl(263.4 70% 50.4%);--sl-color-violet-800: hsl(263.4 69.3% 42.2%);--sl-color-violet-900: hsl(263.5 67.4% 34.9%);--sl-color-violet-950: hsl(265.1 61.5% 21.4%);--sl-color-purple-50: hsl(270 100% 98%);--sl-color-purple-100: hsl(268.7 100% 95.5%);--sl-color-purple-200: hsl(268.6 100% 91.8%);--sl-color-purple-300: hsl(269.2 97.4% 85.1%);--sl-color-purple-400: hsl(270 95.2% 75.3%);--sl-color-purple-500: hsl(270.7 91% 65.1%);--sl-color-purple-600: hsl(271.5 81.3% 55.9%);--sl-color-purple-700: hsl(272.1 71.7% 47.1%);--sl-color-purple-800: hsl(272.9 67.2% 39.4%);--sl-color-purple-900: hsl(273.6 65.6% 32%);--sl-color-purple-950: hsl(276 59.5% 16.5%);--sl-color-fuchsia-50: hsl(289.1 100% 97.8%);--sl-color-fuchsia-100: hsl(287 100% 95.5%);--sl-color-fuchsia-200: hsl(288.3 95.8% 90.6%);--sl-color-fuchsia-300: hsl(291.1 93.1% 82.9%);--sl-color-fuchsia-400: hsl(292 91.4% 72.5%);--sl-color-fuchsia-500: hsl(292.2 84.1% 60.6%);--sl-color-fuchsia-600: hsl(293.4 69.5% 48.8%);--sl-color-fuchsia-700: hsl(294.7 72.4% 39.8%);--sl-color-fuchsia-800: hsl(295.4 70.2% 32.9%);--sl-color-fuchsia-900: hsl(296.7 63.6% 28%);--sl-color-fuchsia-950: hsl(297.1 56.8% 14.5%);--sl-color-pink-50: hsl(327.3 73.3% 97.1%);--sl-color-pink-100: hsl(325.7 77.8% 94.7%);--sl-color-pink-200: hsl(325.9 84.6% 89.8%);--sl-color-pink-300: hsl(327.4 87.1% 81.8%);--sl-color-pink-400: hsl(328.6 85.5% 70.2%);--sl-color-pink-500: hsl(330.4 81.2% 60.4%);--sl-color-pink-600: hsl(333.3 71.4% 50.6%);--sl-color-pink-700: hsl(335.1 77.6% 42%);--sl-color-pink-800: hsl(335.8 74.4% 35.3%);--sl-color-pink-900: hsl(335.9 69% 30.4%);--sl-color-pink-950: hsl(336.2 65.4% 15.9%);--sl-color-rose-50: hsl(355.7 100% 97.3%);--sl-color-rose-100: hsl(355.6 100% 94.7%);--sl-color-rose-200: hsl(352.7 96.1% 90%);--sl-color-rose-300: hsl(352.6 95.7% 81.8%);--sl-color-rose-400: hsl(351.3 94.5% 71.4%);--sl-color-rose-500: hsl(349.7 89.2% 60.2%);--sl-color-rose-600: hsl(346.8 77.2% 49.8%);--sl-color-rose-700: hsl(345.3 82.7% 40.8%);--sl-color-rose-800: hsl(343.4 79.7% 34.7%);--sl-color-rose-900: hsl(341.5 75.5% 30.4%);--sl-color-rose-950: hsl(341.3 70.1% 17.1%);--sl-color-primary-50: var(--sl-color-sky-50);--sl-color-primary-100: var(--sl-color-sky-100);--sl-color-primary-200: var(--sl-color-sky-200);--sl-color-primary-300: var(--sl-color-sky-300);--sl-color-primary-400: var(--sl-color-sky-400);--sl-color-primary-500: var(--sl-color-sky-500);--sl-color-primary-600: var(--sl-color-sky-600);--sl-color-primary-700: var(--sl-color-sky-700);--sl-color-primary-800: var(--sl-color-sky-800);--sl-color-primary-900: var(--sl-color-sky-900);--sl-color-primary-950: var(--sl-color-sky-950);--sl-color-success-50: var(--sl-color-green-50);--sl-color-success-100: var(--sl-color-green-100);--sl-color-success-200: var(--sl-color-green-200);--sl-color-success-300: var(--sl-color-green-300);--sl-color-success-400: var(--sl-color-green-400);--sl-color-success-500: var(--sl-color-green-500);--sl-color-success-600: var(--sl-color-green-600);--sl-color-success-700: var(--sl-color-green-700);--sl-color-success-800: var(--sl-color-green-800);--sl-color-success-900: var(--sl-color-green-900);--sl-color-success-950: var(--sl-color-green-950);--sl-color-warning-50: var(--sl-color-amber-50);--sl-color-warning-100: var(--sl-color-amber-100);--sl-color-warning-200: var(--sl-color-amber-200);--sl-color-warning-300: var(--sl-color-amber-300);--sl-color-warning-400: var(--sl-color-amber-400);--sl-color-warning-500: var(--sl-color-amber-500);--sl-color-warning-600: var(--sl-color-amber-600);--sl-color-warning-700: var(--sl-color-amber-700);--sl-color-warning-800: var(--sl-color-amber-800);--sl-color-warning-900: var(--sl-color-amber-900);--sl-color-warning-950: var(--sl-color-amber-950);--sl-color-danger-50: var(--sl-color-red-50);--sl-color-danger-100: var(--sl-color-red-100);--sl-color-danger-200: var(--sl-color-red-200);--sl-color-danger-300: var(--sl-color-red-300);--sl-color-danger-400: var(--sl-color-red-400);--sl-color-danger-500: var(--sl-color-red-500);--sl-color-danger-600: var(--sl-color-red-600);--sl-color-danger-700: var(--sl-color-red-700);--sl-color-danger-800: var(--sl-color-red-800);--sl-color-danger-900: var(--sl-color-red-900);--sl-color-danger-950: var(--sl-color-red-950);--sl-color-neutral-50: var(--sl-color-gray-50);--sl-color-neutral-100: var(--sl-color-gray-100);--sl-color-neutral-200: var(--sl-color-gray-200);--sl-color-neutral-300: var(--sl-color-gray-300);--sl-color-neutral-400: var(--sl-color-gray-400);--sl-color-neutral-500: var(--sl-color-gray-500);--sl-color-neutral-600: var(--sl-color-gray-600);--sl-color-neutral-700: var(--sl-color-gray-700);--sl-color-neutral-800: var(--sl-color-gray-800);--sl-color-neutral-900: var(--sl-color-gray-900);--sl-color-neutral-950: var(--sl-color-gray-950);--sl-color-neutral-0: hsl(0, 0%, 100%);--sl-color-neutral-1000: hsl(0, 0%, 0%);--sl-border-radius-small: .1875rem;--sl-border-radius-medium: .25rem;--sl-border-radius-large: .5rem;--sl-border-radius-x-large: 1rem;--sl-border-radius-circle: 50%;--sl-border-radius-pill: 9999px;--sl-shadow-x-small: 0 1px 2px hsl(240 3.8% 46.1% / 6%);--sl-shadow-small: 0 1px 2px hsl(240 3.8% 46.1% / 12%);--sl-shadow-medium: 0 2px 4px hsl(240 3.8% 46.1% / 12%);--sl-shadow-large: 0 2px 8px hsl(240 3.8% 46.1% / 12%);--sl-shadow-x-large: 0 4px 16px hsl(240 3.8% 46.1% / 12%);--sl-spacing-3x-small: .125rem;--sl-spacing-2x-small: .25rem;--sl-spacing-x-small: .5rem;--sl-spacing-small: .75rem;--sl-spacing-medium: 1rem;--sl-spacing-large: 1.25rem;--sl-spacing-x-large: 1.75rem;--sl-spacing-2x-large: 2.25rem;--sl-spacing-3x-large: 3rem;--sl-spacing-4x-large: 4.5rem;--sl-transition-x-slow: 1s;--sl-transition-slow: .5s;--sl-transition-medium: .25s;--sl-transition-fast: .15s;--sl-transition-x-fast: 50ms;--sl-font-mono: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;--sl-font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--sl-font-serif: Georgia, "Times New Roman", serif;--sl-font-size-2x-small: .625rem;--sl-font-size-x-small: .75rem;--sl-font-size-small: .875rem;--sl-font-size-medium: 1rem;--sl-font-size-large: 1.25rem;--sl-font-size-x-large: 1.5rem;--sl-font-size-2x-large: 2.25rem;--sl-font-size-3x-large: 3rem;--sl-font-size-4x-large: 4.5rem;--sl-font-weight-light: 300;--sl-font-weight-normal: 400;--sl-font-weight-semibold: 500;--sl-font-weight-bold: 700;--sl-letter-spacing-denser: -.03em;--sl-letter-spacing-dense: -.015em;--sl-letter-spacing-normal: normal;--sl-letter-spacing-loose: .075em;--sl-letter-spacing-looser: .15em;--sl-line-height-denser: 1;--sl-line-height-dense: 1.4;--sl-line-height-normal: 1.8;--sl-line-height-loose: 2.2;--sl-line-height-looser: 2.6;--sl-focus-ring-color: var(--sl-color-primary-600);--sl-focus-ring-style: solid;--sl-focus-ring-width: 3px;--sl-focus-ring: var(--sl-focus-ring-style) var(--sl-focus-ring-width) var(--sl-focus-ring-color);--sl-focus-ring-offset: 1px;--sl-button-font-size-small: var(--sl-font-size-x-small);--sl-button-font-size-medium: var(--sl-font-size-small);--sl-button-font-size-large: var(--sl-font-size-medium);--sl-input-height-small: 1.875rem;--sl-input-height-medium: 2.5rem;--sl-input-height-large: 3.125rem;--sl-input-background-color: var(--sl-color-neutral-0);--sl-input-background-color-hover: var(--sl-input-background-color);--sl-input-background-color-focus: var(--sl-input-background-color);--sl-input-background-color-disabled: var(--sl-color-neutral-100);--sl-input-border-color: var(--sl-color-neutral-300);--sl-input-border-color-hover: var(--sl-color-neutral-400);--sl-input-border-color-focus: var(--sl-color-primary-500);--sl-input-border-color-disabled: var(--sl-color-neutral-300);--sl-input-border-width: 1px;--sl-input-required-content: "*";--sl-input-required-content-offset: -2px;--sl-input-required-content-color: var(--sl-input-label-color);--sl-input-border-radius-small: var(--sl-border-radius-medium);--sl-input-border-radius-medium: var(--sl-border-radius-medium);--sl-input-border-radius-large: var(--sl-border-radius-medium);--sl-input-font-family: var(--sl-font-sans);--sl-input-font-weight: var(--sl-font-weight-normal);--sl-input-font-size-small: var(--sl-font-size-small);--sl-input-font-size-medium: var(--sl-font-size-medium);--sl-input-font-size-large: var(--sl-font-size-large);--sl-input-letter-spacing: var(--sl-letter-spacing-normal);--sl-input-color: var(--sl-color-neutral-700);--sl-input-color-hover: var(--sl-color-neutral-700);--sl-input-color-focus: var(--sl-color-neutral-700);--sl-input-color-disabled: var(--sl-color-neutral-900);--sl-input-icon-color: var(--sl-color-neutral-500);--sl-input-icon-color-hover: var(--sl-color-neutral-600);--sl-input-icon-color-focus: var(--sl-color-neutral-600);--sl-input-placeholder-color: var(--sl-color-neutral-500);--sl-input-placeholder-color-disabled: var(--sl-color-neutral-600);--sl-input-spacing-small: var(--sl-spacing-small);--sl-input-spacing-medium: var(--sl-spacing-medium);--sl-input-spacing-large: var(--sl-spacing-large);--sl-input-focus-ring-color: hsl(198.6 88.7% 48.4% / 40%);--sl-input-focus-ring-offset: 0;--sl-input-filled-background-color: var(--sl-color-neutral-100);--sl-input-filled-background-color-hover: var(--sl-color-neutral-100);--sl-input-filled-background-color-focus: var(--sl-color-neutral-100);--sl-input-filled-background-color-disabled: var(--sl-color-neutral-100);--sl-input-filled-color: var(--sl-color-neutral-800);--sl-input-filled-color-hover: var(--sl-color-neutral-800);--sl-input-filled-color-focus: var(--sl-color-neutral-700);--sl-input-filled-color-disabled: var(--sl-color-neutral-800);--sl-input-label-font-size-small: var(--sl-font-size-small);--sl-input-label-font-size-medium: var(--sl-font-size-medium);--sl-input-label-font-size-large: var(--sl-font-size-large);--sl-input-label-color: inherit;--sl-input-help-text-font-size-small: var(--sl-font-size-x-small);--sl-input-help-text-font-size-medium: var(--sl-font-size-small);--sl-input-help-text-font-size-large: var(--sl-font-size-medium);--sl-input-help-text-color: var(--sl-color-neutral-500);--sl-toggle-size-small: .875rem;--sl-toggle-size-medium: 1.125rem;--sl-toggle-size-large: 1.375rem;--sl-overlay-background-color: hsl(240 3.8% 46.1% / 33%);--sl-panel-background-color: var(--sl-color-neutral-0);--sl-panel-border-color: var(--sl-color-neutral-200);--sl-panel-border-width: 1px;--sl-tooltip-border-radius: var(--sl-border-radius-medium);--sl-tooltip-background-color: var(--sl-color-neutral-800);--sl-tooltip-color: var(--sl-color-neutral-0);--sl-tooltip-font-family: var(--sl-font-sans);--sl-tooltip-font-weight: var(--sl-font-weight-normal);--sl-tooltip-font-size: var(--sl-font-size-small);--sl-tooltip-line-height: var(--sl-line-height-dense);--sl-tooltip-padding: var(--sl-spacing-2x-small) var(--sl-spacing-x-small);--sl-tooltip-arrow-size: 6px;--sl-z-index-drawer: 700;--sl-z-index-dialog: 800;--sl-z-index-dropdown: 900;--sl-z-index-toast: 950;--sl-z-index-tooltip: 1000}@supports (scrollbar-gutter: stable){.sl-scroll-lock{scrollbar-gutter:stable!important;overflow:hidden!important}}@supports not (scrollbar-gutter: stable){.sl-scroll-lock{padding-right:var(--sl-scroll-lock-size)!important;overflow:hidden!important}}.sl-toast-stack{position:fixed;top:0;inset-inline-end:0;z-index:var(--sl-z-index-toast);width:28rem;max-width:100%;max-height:100%;overflow:auto}.sl-toast-stack sl-alert{margin:var(--sl-spacing-medium)}.sl-toast-stack sl-alert::part(base){box-shadow:var(--sl-shadow-large)}*{box-sizing:border-box}#gallery{position:relative;margin:1rem}@media only screen and (max-width: 768px){#gallery{margin:0}}sl-dialog::part(panel){max-width:unset;max-height:unset;height:100dvh}sl-dialog::part(overlay){--sl-overlay-background-color: rgba(100, 100, 100, .8)}sl-dialog::part(footer){background-color:#64646480}.gallery-item{position:absolute;display:flex;flex-direction:column;width:100px;box-shadow:2px 2px 4px #ccc}.gallery-item:hover{box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px}.image{left:0;top:0;width:100%;height:100%;opacity:0;background-color:#d5d5d5}.fade-in{opacity:0;-webkit-transition:all 1s ease;-moz-transition:all 1s ease;-ms-transition:all 1s ease;-o-transition:all 1s ease}.image:hover{cursor:pointer}.icons{display:flex;align-items:center;gap:6px}.size{width:100%;font-size:.8em;margin-top:3px}.provider-logo{height:20px}.license{cursor:pointer;display:inline-block}.image-card{font-size:.85em;display:flex;flex-direction:column}.title{display:flex;align-items:center;gap:6px;font-size:.9em}.title img{width:16px;opacity:1}.clamp{display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.text{margin:6px 0;height:50px}.text p{margin:0;padding:0}.license{display:flex;align-items:center;gap:3px;font-size:.8em;margin-left:.5rem}a.license{color:#000;text-decoration:none;font-size:.9rem}sl-icon{font-size:1.2rem}.push{margin-left:auto}.controls{display:flex;align-items:center;gap:1em}.toolbar{height:32px;justify-content:flex-end;display:flex;align-items:center;gap:.5em;padding:0 .2em}.toolbar svg{width:20px;height:20px;cursor:pointer;fill:#777}.toolbar svg:hover{fill:#444}.dialog .footer{display:flex;align-items:center;gap:.5em;padding:.5em;text-align:left}.iiif{width:32px;height:32px;cursor:copy}.iiif:hover{width:40px;height:40px}
`,Gallery=_export_sfc(_sfc_main$i,[["styles",[_style_0$g]]]),_hoisted_1$f={key:0,class:"logo"},_hoisted_2$b=["href"],_hoisted_3$a=["src"],_hoisted_4$9={class:"branding"},_hoisted_5$8={key:0,class:"title"},_hoisted_6$8=["href","innerHTML"],_hoisted_7$5=["innerHTML"],_hoisted_8$5={class:"search-and-menu"},_hoisted_9$5=["search-domain","search-cx","search-key"],_hoisted_10$5=["auth","contact","pdf-download-enabled","innerHTML"],_hoisted_11$5={key:0},_hoisted_12$4=["manifest"],_sfc_main$h=defineComponent({__name:"Header.ce",props:{alpha:{type:Number},auth:{type:String},background:{type:String},breadcrumbs:{type:Boolean,default:!1},color:{type:String},contact:{type:String},height:{type:Number},iconFilter:{type:String},logo:{type:String},options:{type:String},pdfDownloadEnabled:{type:Boolean,default:!1},position:{type:String,default:"center"},subtitle:{type:String},searchDomain:{type:String},searchCx:{type:String},searchKey:{type:String},title:{type:String},top:{type:Number,default:0}},setup(F){const W=F,q=self.window,X=ref(null),tt=computed(()=>{var bf,Af;return(Af=(bf=X.value)==null?void 0:bf.getRootNode())==null?void 0:Af.host}),ot=ref(null),at=ref(null),ut=ref(),wt=ref(q.config||{}),uo=computed(()=>{var bf;return W.title||((bf=wt.value.meta)==null?void 0:bf.title)}),mo=computed(()=>{var bf,Af;return W.background||((Af=(bf=wt.value.defaults)==null?void 0:bf.header)==null?void 0:Af.backgroundImage)}),yo=computed(()=>{var Af,Pf;let bf=W.logo||((Pf=(Af=wt.value.defaults)==null?void 0:Af.header)==null?void 0:Pf.logo);return bf&&((bf==null?void 0:bf.indexOf("http"))===0?bf:`${wt.value.baseurl}/${bf[0]==="/"?bf.slice(1):bf}`)}),lf=computed(()=>{var bf,Af;return W.iconFilter===void 0?(Af=(bf=wt.value.defaults)==null?void 0:bf.header)==null?void 0:Af.iconFilter:W.iconFilter}),uf=computed(()=>W.color||(mo.value?"black":"#ddd")),df=computed(()=>{var bf,Af;return W.contact||((Af=(bf=wt.value.defaults)==null?void 0:bf.header)==null?void 0:Af.contact)}),wf=computed(()=>{var bf,Af;return W.breadcrumbs||((Af=(bf=wt.value.defaults)==null?void 0:bf.header)==null?void 0:Af.breadcrumbs)}),wo=computed(()=>{var bf,Af;return W.pdfDownloadEnabled||((Af=(bf=wt.value.defaults)==null?void 0:bf.header)==null?void 0:Af.pdfDownloadEnabled)});watch$1(at,bf=>{bf&&(bf.style.backgroundColor=xf(uf.value,W.alpha||(mo.value?.5:1)))});const ls=ref(!1),_f=ref(),po=ref(),xo=ref(),gf=ref();watch$1(tt,bf=>{var Af,Pf;if(wt.value=q.config||{},po.value=parseImageOptions(W.options||""),mo.value&&cf(),ot.value&&(ot.value.style.height=W.height?`${W.height}px`:mo.value?"400px":"100px"),(Pf=(Af=wt.value.defaults)==null?void 0:Af.header)!=null&&Pf.class&&wt.value.defaults.header.class.split(" ").forEach(Df=>bf.classList.add(Df)),ls.value=bf.classList.contains("sticky"),ls.value){let Df=parseInt(bf.style.top.replace(/px/,"")),zf=W.top?W.top:Df||(mo.value?-300:0);bf.style.top=`${zf}px`}});function cf(){getManifest(mo.value).then(bf=>_f.value=bf).catch(bf=>{fetch(`https://${iiifServer}/manifest/`,{method:"POST",body:JSON.stringify({url:mo.value})}).then(Af=>Af.json()).then(Af=>_f.value=Af)})}onMounted(()=>{nextTick(()=>{var Af,Pf,Df,zf;let bf=tt.value.querySelector("ul");if(!bf){let jf=tt.value.nextElementSibling;jf&&jf.tagName==="UL"&&(bf=jf)}bf?bf.style.display="none":(Pf=(Af=wt.value.defaults)==null?void 0:Af.header)!=null&&Pf.nav&&(bf=document.createElement("ul"),(zf=(Df=wt.value.defaults)==null?void 0:Df.header)==null||zf.nav.forEach(jf=>{const $f=document.createElement("li"),Ff=document.createElement("a");Ff.href=jf.href,Ff.innerHTML=jf.label,jf.icon&&(Ff.innerHTML+=jf.icon),$f.appendChild(Ff),bf.appendChild($f)})),ut.value=bf==null?void 0:bf.innerHTML}),document.addEventListener("scroll",()=>{let bf=X.value?X.value.getBoundingClientRect().height+X.value.getBoundingClientRect().top:0;EventBus$1.emit("offset",bf)})}),watch$1(_f,(bf,Af)=>{bf!==Af&&(xo.value=getItemInfo(bf))}),watch$1(xo,async(bf,Af)=>{bf!==Af&&(gf.value=bf.service?yf(bf.service[0].id||bf.service[0]["@id"],po.value):await imageDataUrl(xo.value.id,po.value.region,{width:tt.value.clientWidth,height:W.height}))}),watch$1(gf,()=>{ot.value&&(ot.value.style.backgroundImage=`url("${gf.value}")`,ot.value.style.backgroundPosition=W.position)});function yf(bf,Af){let Pf=xo.value,Df=Number((Pf.width/Pf.height).toFixed(4)),zf=Math.min(800,tt.value.getBoundingClientRect().width.toFixed(0)),jf=Number(zf/Df).toFixed(0),$f=`${zf},${jf}`;return`${bf.replace(/\/info.json$/,"")}/${Af.region}/${$f}/${Af.rotation}/${Af.quality}.${Af.format}`}const Sf={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#964B00",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8B4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function xf(bf,Af=1){let Pf=bf[0]==="#"?bf:Sf[bf.toLowerCase()];if(Pf.length===4){let Df=Pf.slice(1,2),zf=Pf.slice(2,3),jf=Pf.slice(3,4);return Df=parseInt(Df+Df,16),zf=parseInt(zf+zf,16),jf=parseInt(jf+jf,16),`rgba(${Df}, ${zf}, ${jf}, ${Af})`}else{const Df=parseInt(Pf.slice(1,3),16),zf=parseInt(Pf.slice(3,5),16),jf=parseInt(Pf.slice(5,7),16);return`rgba(${Df}, ${zf}, ${jf}, ${Af})`}}return(bf,Af)=>(openBlock(),createElementBlock("div",{class:"header",ref_key:"root",ref:X},[createBaseVNode("div",{class:"background",ref_key:"background",ref:ot},null,512),createBaseVNode("div",{class:"navbar",ref_key:"navbar",ref:at},[yo.value?(openBlock(),createElementBlock("div",_hoisted_1$f,[createBaseVNode("a",{href:`${wt.value.baseurl}/`},[createBaseVNode("img",{src:yo.value,class:normalizeClass(`${lf.value?"icon-"+lf.value:""}`),alt:"logo"},null,10,_hoisted_3$a)],8,_hoisted_2$b)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_4$9,[uo.value?(openBlock(),createElementBlock("div",_hoisted_5$8,[createBaseVNode("a",{href:`${wt.value.baseurl}/`,innerHTML:uo.value},null,8,_hoisted_6$8)])):createCommentVNode("",!0),F.subtitle?(openBlock(),createElementBlock("div",{key:1,class:"subtitle clamp1",innerHTML:F.subtitle},null,8,_hoisted_7$5)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_8$5,[W.searchDomain?(openBlock(),createElementBlock("mdp-site-search",{key:0,"search-domain":W.searchDomain,"search-cx":W.searchCx,"search-key":W.searchKey},null,8,_hoisted_9$5)):createCommentVNode("",!0),ut.value!==void 0||F.auth?(openBlock(),createElementBlock("mdp-menu",{key:1,auth:F.auth,contact:df.value,"pdf-download-enabled":wo.value?"":null,innerHTML:ut.value},null,8,_hoisted_10$5)):createCommentVNode("",!0)])],512),wf.value?(openBlock(),createElementBlock("mdp-breadcrumbs",_hoisted_11$5)):createCommentVNode("",!0),_f.value?(openBlock(),createElementBlock("mdp-manifest-popup",{key:1,manifest:_f.value},null,8,_hoisted_12$4)):createCommentVNode("",!0)],512))}}),_style_0$f=`:host{display:block}.header{display:grid;grid-template-rows:1fr 100px auto;grid-template-columns:1fr}.background{grid-area:1 / 1 / 3 / 2;background-repeat:no-repeat;background-size:cover;background-position:center;z-index:1;position:relative}.navbar{grid-area:2 / 1 / 3 / 2;background-color:#0006;color:#fff;z-index:2;display:flex;align-items:center;gap:1.5em;padding:0 20px}mdp-manifest-popup{visibility:hidden;position:absolute;top:1em;right:1em;z-index:10}.header:hover mdp-manifest-popup{visibility:visible;transition:all .5s ease-in}mdp-breadcrumbs{grid-area:3 / 1 / 4 / 2;background-color:#fff;color:#000;z-index:1}.branding{display:flex;flex-direction:column;gap:6px}.title a{font-size:2em;line-height:1;font-weight:500;text-decoration:none;color:inherit}.subtitle{font-size:1.2em;line-height:1;font-weight:300}.logo{display:flex;align-items:center;justify-content:center;height:50%}.logo a{height:100%}.logo img{-o-object-fit:contain;object-fit:contain;vertical-align:middle;height:100%}.search-and-menu{margin-left:auto;display:flex;align-items:center;gap:1em}.clamp1{display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}@media only screen and (max-width: 768px){.navbar{gap:.75em;padding:0 1em}.title a{font-size:1.3em}.subtitle{font-size:1em}.logo img{max-width:40px}mdp-breadcrumbs{padding-left:.5rem}}.icon-white{filter:invert(100%) sepia(0%) saturate(7487%) hue-rotate(339deg) brightness(115%) contrast(100%)}
`,Header=_export_sfc(_sfc_main$h,[["styles",[_style_0$f]]]),_hoisted_1$e=["allow","allowfullscreen","allowtransparency","frameborder","height","loading","mozallowfullscreen","msallowfullscreen","name","referrerpolicy","src","webkitallowfullscreen","width"],_sfc_main$g=defineComponent({__name:"IFrame.ce",props:{allow:{type:String},allowfullscreen:{type:Boolean},allowpaymentrequest:{type:Boolean},allowtransparency:{type:Boolean,default:!0},caption:{type:String},frameborder:{type:Number,default:0},height:{type:Number,default:650},loading:{type:String,default:"eager"},name:{type:String},referrerpolicy:{type:String},sandbox:{type:String},src:{type:String},srcdoc:{type:String},width:{type:Number},position:{type:String},full:{type:Boolean},left:{type:Boolean},right:{type:Boolean},sticky:{type:Boolean}},setup(F){const W=F;watch$1(W,()=>{uo()});const q=ref(null),X=computed(()=>{var mo,yo;return(yo=(mo=q.value)==null?void 0:mo.getRootNode())==null?void 0:yo.host}),tt=ref(null);watch$1(tt,()=>uo());const ot=ref(W.referrerpolicy),at=ref(0),ut=ref(0),wt=ref(0);watch$1(wt,()=>uo());function uo(){var mo,yo;ut.value=(W.height<=wt.value?W.height:wt.value)-(((mo=tt.value)==null?void 0:mo.clientHeight)||0),at.value=W.width||((yo=q.value)==null?void 0:yo.clientWidth)||0}return watch$1(X,mo=>{mo.parentElement.clientHeight?wt.value=mo.parentElement.clientHeight:new ResizeObserver(()=>wt.value=mo.parentElement.clientHeight).observe(mo.parentElement)}),(mo,yo)=>(openBlock(),createElementBlock("div",{ref_key:"main",ref:q,class:"main"},[ut.value&&at.value?(openBlock(),createElementBlock("iframe",{key:0,allow:F.allow,allowfullscreen:F.allowfullscreen,allowtransparency:F.allowtransparency,frameborder:F.frameborder,height:ut.value,loading:F.loading,mozallowfullscreen:F.allowfullscreen,msallowfullscreen:F.allowfullscreen,name:F.name,referrerpolicy:ot.value,src:F.src,webkitallowfullscreen:F.allowfullscreen,width:at.value},null,8,_hoisted_1$e)):createCommentVNode("",!0),F.caption?(openBlock(),createElementBlock("div",{key:1,ref_key:"captionEl",ref:tt,class:"caption"},toDisplayString(F.caption),513)):createCommentVNode("",!0)],512))}}),_style_0$e=`*{box-sizing:border-box}.main{display:flex;flex-direction:column;width:100%;height:100%}.caption{padding:.3em;width:100%;font-size:1em;font-weight:500;text-align:left;margin-bottom:.3em;line-height:1.3}
`,IFrame=_export_sfc(_sfc_main$g,[["styles",[_style_0$e]]]);var openseadragon={exports:{}},hasRequiredOpenseadragon;function requireOpenseadragon(){return hasRequiredOpenseadragon||(hasRequiredOpenseadragon=1,function(module){//! openseadragon 2.4.2
//! Built on 2020-03-05
//! Git commit: v2.4.2-0-c450749
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function OpenSeadragon(F){return new OpenSeadragon.Viewer(F)}(function(F){F.version={versionStr:"2.4.2",major:parseInt("2",10),minor:parseInt("4",10),revision:parseInt("2",10)};var W={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},q=Object.prototype.toString,X=Object.prototype.hasOwnProperty;F.isFunction=function(tt){return F.type(tt)==="function"},F.isArray=Array.isArray||function(tt){return F.type(tt)==="array"},F.isWindow=function(tt){return tt&&typeof tt=="object"&&"setInterval"in tt},F.type=function(tt){return tt==null?String(tt):W[q.call(tt)]||"object"},F.isPlainObject=function(tt){if(!tt||OpenSeadragon.type(tt)!=="object"||tt.nodeType||F.isWindow(tt)||tt.constructor&&!X.call(tt,"constructor")&&!X.call(tt.constructor.prototype,"isPrototypeOf"))return!1;var ot;for(var at in tt)ot=at;return ot===void 0||X.call(tt,ot)},F.isEmptyObject=function(tt){for(var ot in tt)return!1;return!0},F.freezeObject=function(tt){return Object.freeze?F.freezeObject=Object.freeze:F.freezeObject=function(ot){return ot},F.freezeObject(tt)},F.supportsCanvas=function(){var tt=document.createElement("canvas");return!!(F.isFunction(tt.getContext)&&tt.getContext("2d"))}(),F.isCanvasTainted=function(tt){var ot=!1;try{tt.getContext("2d").getImageData(0,0,1,1)}catch{ot=!0}return ot},F.pixelDensityRatio=function(){if(F.supportsCanvas){var tt=document.createElement("canvas").getContext("2d"),ot=window.devicePixelRatio||1,at=tt.webkitBackingStorePixelRatio||tt.mozBackingStorePixelRatio||tt.msBackingStorePixelRatio||tt.oBackingStorePixelRatio||tt.backingStorePixelRatio||1;return Math.max(ot,1)/at}else return 1}()})(OpenSeadragon),function($){$.extend=function(){var F,W,q,X,tt,ot,at=arguments[0]||{},ut=arguments.length,wt=!1,uo=1;for(typeof at=="boolean"&&(wt=at,at=arguments[1]||{},uo=2),typeof at!="object"&&!OpenSeadragon.isFunction(at)&&(at={}),ut===uo&&(at=this,--uo);uo<ut;uo++)if(F=arguments[uo],F!==null||F!==void 0)for(W in F)q=at[W],X=F[W],at!==X&&(wt&&X&&(OpenSeadragon.isPlainObject(X)||(tt=OpenSeadragon.isArray(X)))?(tt?(tt=!1,ot=q&&OpenSeadragon.isArray(q)?q:[]):ot=q&&OpenSeadragon.isPlainObject(q)?q:{},at[W]=OpenSeadragon.extend(wt,ot,X)):X!==void 0&&(at[W]=X));return at};var isIOSDevice=function(){if(typeof navigator!="object")return!1;var F=navigator.userAgent;return typeof F!="string"?!1:F.indexOf("iPhone")!==-1||F.indexOf("iPad")!==-1||F.indexOf("iPod")!==-1};$.extend($,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:isIOSDevice(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"]},SIGNAL:"----seadragon----",delegate:function(F,W){return function(){var q=arguments;return q===void 0&&(q=[]),W.apply(F,q)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5},getElement:function(F){return typeof F=="string"&&(F=document.getElementById(F)),F},getElementPosition:function(F){var W=new $.Point,q,X;for(F=$.getElement(F),q=$.getElementStyle(F).position=="fixed",X=getOffsetParent(F,q);X;)W.x+=F.offsetLeft,W.y+=F.offsetTop,q&&(W=W.plus($.getPageScroll())),F=X,q=$.getElementStyle(F).position=="fixed",X=getOffsetParent(F,q);return W},getElementOffset:function(F){F=$.getElement(F);var W=F&&F.ownerDocument,q,X,tt={top:0,left:0};return W?(q=W.documentElement,typeof F.getBoundingClientRect<"u"&&(tt=F.getBoundingClientRect()),X=W==W.window?W:W.nodeType===9?W.defaultView||W.parentWindow:!1,new $.Point(tt.left+(X.pageXOffset||q.scrollLeft)-(q.clientLeft||0),tt.top+(X.pageYOffset||q.scrollTop)-(q.clientTop||0))):new $.Point},getElementSize:function(F){return F=$.getElement(F),new $.Point(F.clientWidth,F.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(F){return F=$.getElement(F),F.currentStyle}:function(F){return F=$.getElement(F),window.getComputedStyle(F,"")},getCssPropertyWithVendorPrefix:function(F){var W={};return $.getCssPropertyWithVendorPrefix=function(q){if(W[q]!==void 0)return W[q];var X=document.createElement("div").style,tt=null;if(X[q]!==void 0)tt=q;else for(var ot=["Webkit","Moz","MS","O","webkit","moz","ms","o"],at=$.capitalizeFirstLetter(q),ut=0;ut<ot.length;ut++){var wt=ot[ut]+at;if(X[wt]!==void 0){tt=wt;break}}return W[q]=tt,tt},$.getCssPropertyWithVendorPrefix(F)},capitalizeFirstLetter:function(F){return F.charAt(0).toUpperCase()+F.slice(1)},positiveModulo:function(F,W){var q=F%W;return q<0&&(q+=W),q},pointInElement:function(F,W){F=$.getElement(F);var q=$.getElementOffset(F),X=$.getElementSize(F);return W.x>=q.x&&W.x<q.x+X.x&&W.y<q.y+X.y&&W.y>=q.y},getEvent:function(F){return F?$.getEvent=function(W){return W}:$.getEvent=function(){return window.event},$.getEvent(F)},getMousePosition:function(F){if(typeof F.pageX=="number")$.getMousePosition=function(W){var q=new $.Point;return W=$.getEvent(W),q.x=W.pageX,q.y=W.pageY,q};else if(typeof F.clientX=="number")$.getMousePosition=function(W){var q=new $.Point;return W=$.getEvent(W),q.x=W.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,q.y=W.clientY+document.body.scrollTop+document.documentElement.scrollTop,q};else throw new Error("Unknown event mouse position, no known technique.");return $.getMousePosition(F)},getPageScroll:function(){var F=document.documentElement||{},W=document.body||{};if(typeof window.pageXOffset=="number")$.getPageScroll=function(){return new $.Point(window.pageXOffset,window.pageYOffset)};else if(W.scrollLeft||W.scrollTop)$.getPageScroll=function(){return new $.Point(document.body.scrollLeft,document.body.scrollTop)};else if(F.scrollLeft||F.scrollTop)$.getPageScroll=function(){return new $.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)};else return new $.Point(0,0);return $.getPageScroll()},setPageScroll:function(F){if(typeof window.scrollTo<"u")$.setPageScroll=function(X){window.scrollTo(X.x,X.y)};else{var W=$.getPageScroll();if(W.x===F.x&&W.y===F.y)return;document.body.scrollLeft=F.x,document.body.scrollTop=F.y;var q=$.getPageScroll();if(q.x!==W.x&&q.y!==W.y){$.setPageScroll=function(X){document.body.scrollLeft=X.x,document.body.scrollTop=X.y};return}if(document.documentElement.scrollLeft=F.x,document.documentElement.scrollTop=F.y,q=$.getPageScroll(),q.x!==W.x&&q.y!==W.y){$.setPageScroll=function(X){document.documentElement.scrollLeft=X.x,document.documentElement.scrollTop=X.y};return}$.setPageScroll=function(X){}}return $.setPageScroll(F)},getWindowSize:function(){var F=document.documentElement||{},W=document.body||{};if(typeof window.innerWidth=="number")$.getWindowSize=function(){return new $.Point(window.innerWidth,window.innerHeight)};else if(F.clientWidth||F.clientHeight)$.getWindowSize=function(){return new $.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else if(W.clientWidth||W.clientHeight)$.getWindowSize=function(){return new $.Point(document.body.clientWidth,document.body.clientHeight)};else throw new Error("Unknown window size, no known technique.");return $.getWindowSize()},makeCenteredNode:function(F){F=$.getElement(F);var W=[$.makeNeutralElement("div"),$.makeNeutralElement("div"),$.makeNeutralElement("div")];return $.extend(W[0].style,{display:"table",height:"100%",width:"100%"}),$.extend(W[1].style,{display:"table-row"}),$.extend(W[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),W[0].appendChild(W[1]),W[1].appendChild(W[2]),W[2].appendChild(F),W[0]},makeNeutralElement:function(F){var W=document.createElement(F),q=W.style;return q.background="transparent none",q.border="none",q.margin="0px",q.padding="0px",q.position="static",W},now:function(){return Date.now?$.now=Date.now:$.now=function(){return new Date().getTime()},$.now()},makeTransparentImage:function(F){return $.makeTransparentImage=function(W){var q=$.makeNeutralElement("img");return q.src=W,q},$.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<7&&($.makeTransparentImage=function(W){var q=$.makeNeutralElement("img"),X=null;return X=$.makeNeutralElement("span"),X.style.display="inline-block",q.onload=function(){X.style.width=X.style.width||q.width+"px",X.style.height=X.style.height||q.height+"px",q.onload=null,q=null},q.src=W,X.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+W+"', sizingMethod='scale')",X}),$.makeTransparentImage(F)},setElementOpacity:function(F,W,q){var X,tt;F=$.getElement(F),q&&!$.Browser.alpha&&(W=Math.round(W)),$.Browser.opacity?F.style.opacity=W<1?W:"":W<1?(X=Math.round(100*W),tt="alpha(opacity="+X+")",F.style.filter=tt):F.style.filter=""},setElementTouchActionNone:function(F){F=$.getElement(F),typeof F.style.touchAction<"u"?F.style.touchAction="none":typeof F.style.msTouchAction<"u"&&(F.style.msTouchAction="none")},addClass:function(F,W){F=$.getElement(F),F.className?(" "+F.className+" ").indexOf(" "+W+" ")===-1&&(F.className+=" "+W):F.className=W},indexOf:function(F,W,q){return Array.prototype.indexOf?this.indexOf=function(X,tt,ot){return X.indexOf(tt,ot)}:this.indexOf=function(X,tt,ot){var at,ut=ot||0,wt;if(!X)throw new TypeError;if(wt=X.length,wt===0||ut>=wt)return-1;for(ut<0&&(ut=wt-Math.abs(ut)),at=ut;at<wt;at++)if(X[at]===tt)return at;return-1},this.indexOf(F,W,q)},removeClass:function(F,W){var q,X=[],tt;for(F=$.getElement(F),q=F.className.split(/\s+/),tt=0;tt<q.length;tt++)q[tt]&&q[tt]!==W&&X.push(q[tt]);F.className=X.join(" ")},addEvent:function(){if(window.addEventListener)return function(F,W,q,X){F=$.getElement(F),F.addEventListener(W,q,X)};if(window.attachEvent)return function(F,W,q,X){F=$.getElement(F),F.attachEvent("on"+W,q)};throw new Error("No known event model.")}(),removeEvent:function(){if(window.removeEventListener)return function(F,W,q,X){F=$.getElement(F),F.removeEventListener(W,q,X)};if(window.detachEvent)return function(F,W,q,X){F=$.getElement(F),F.detachEvent("on"+W,q)};throw new Error("No known event model.")}(),cancelEvent:function(F){F=$.getEvent(F),F.preventDefault?$.cancelEvent=function(W){W.preventDefault()}:$.cancelEvent=function(W){W=$.getEvent(W),W.cancel=!0,W.returnValue=!1},$.cancelEvent(F)},stopEvent:function(F){F=$.getEvent(F),F.stopPropagation?$.stopEvent=function(W){W.stopPropagation()}:$.stopEvent=function(W){W=$.getEvent(W),W.cancelBubble=!0},$.stopEvent(F)},createCallback:function(F,W){var q=[],X;for(X=2;X<arguments.length;X++)q.push(arguments[X]);return function(){var tt=q.concat([]),ot;for(ot=0;ot<arguments.length;ot++)tt.push(arguments[ot]);return W.apply(F,tt)}},getUrlParameter:function(F){var W=URLPARAMS[F];return W||null},getUrlProtocol:function(F){var W=F.match(/^([a-z]+:)\/\//i);return W===null?window.location.protocol:W[1].toLowerCase()},createAjaxRequest:function(F){var W;try{W=!!new ActiveXObject("Microsoft.XMLHTTP")}catch{W=!1}if(W)window.XMLHttpRequest?$.createAjaxRequest=function(q){return q?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:$.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else if(window.XMLHttpRequest)$.createAjaxRequest=function(){return new XMLHttpRequest};else throw new Error("Browser doesn't support XMLHttpRequest.");return $.createAjaxRequest(F)},makeAjaxRequest:function(F,W,q){var X,tt,ot;$.isPlainObject(F)&&(W=F.success,q=F.error,X=F.withCredentials,tt=F.headers,ot=F.responseType||null,F=F.url);var at=$.getUrlProtocol(F),ut=$.createAjaxRequest(at==="file:");if(!$.isFunction(W))throw new Error("makeAjaxRequest requires a success callback");ut.onreadystatechange=function(){ut.readyState==4&&(ut.onreadystatechange=function(){},ut.status>=200&&ut.status<300||ut.status===0&&at!=="http:"&&at!=="https:"?W(ut):($.console.log("AJAX request returned %d: %s",ut.status,F),$.isFunction(q)&&q(ut)))};try{if(ut.open("GET",F,!0),ot&&(ut.responseType=ot),tt)for(var wt in tt)Object.prototype.hasOwnProperty.call(tt,wt)&&tt[wt]&&ut.setRequestHeader(wt,tt[wt]);X&&(ut.withCredentials=!0),ut.send(null)}catch(lf){var uo=lf.message,mo=$.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<10;if(mo&&typeof lf.number<"u"&&lf.number==-2147024891&&(uo+=`
See http://msdn.microsoft.com/en-us/library/ms537505(v=vs.85).aspx#xdomain`),$.console.log("%s while making AJAX request: %s",lf.name,uo),ut.onreadystatechange=function(){},window.XDomainRequest){var yo=new window.XDomainRequest;if(yo){yo.onload=function(uf){$.isFunction(W)&&W({responseText:yo.responseText,status:200,statusText:"OK"})},yo.onerror=function(uf){$.isFunction(q)&&q({responseText:yo.responseText,status:444,statusText:"An error happened. Due to an XDomainRequest deficiency we can not extract any information about this error. Upgrade your browser."})};try{yo.open("GET",F),yo.send()}catch{$.isFunction(q)&&q(ut,lf)}}}else $.isFunction(q)&&q(ut,lf)}return ut},jsonp:function(F){var W,q=F.url,X=document.head||document.getElementsByTagName("head")[0]||document.documentElement,tt=F.callbackName||"openseadragon"+$.now(),ot=window[tt],at="$1"+tt+"$2",ut=F.param||"callback",wt=F.callback;q=q.replace(/(\=)\?(&|$)|\?\?/i,at),q+=(/\?/.test(q)?"&":"?")+ut+"="+tt,window[tt]=function(uo){if(ot)window[tt]=ot;else try{delete window[tt]}catch{}wt&&$.isFunction(wt)&&wt(uo)},W=document.createElement("script"),(F.async!==void 0||F.async!==!1)&&(W.async="async"),F.scriptCharset&&(W.charset=F.scriptCharset),W.src=q,W.onload=W.onreadystatechange=function(uo,mo){(mo||!W.readyState||/loaded|complete/.test(W.readyState))&&(W.onload=W.onreadystatechange=null,X&&W.parentNode&&X.removeChild(W),W=void 0)},X.insertBefore(W,X.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(F){if(window.DOMParser)$.parseXml=function(W){var q=null,X;return X=new DOMParser,q=X.parseFromString(W,"text/xml"),q};else if(window.ActiveXObject)$.parseXml=function(W){var q=null;return q=new ActiveXObject("Microsoft.XMLDOM"),q.async=!1,q.loadXML(W),q};else throw new Error("Browser doesn't support XML DOM.");return $.parseXml(F)},parseJSON:function(string){return window.JSON&&window.JSON.parse?$.parseJSON=window.JSON.parse:$.parseJSON=function(string){return eval("("+string+")")},$.parseJSON(string)},imageFormatSupported:function(F){return F=F||"",!!FILEFORMATS[F.toLowerCase()]}});var nullfunction=function(F){};$.console=window.console||{log:nullfunction,debug:nullfunction,info:nullfunction,warn:nullfunction,error:nullfunction,assert:nullfunction},$.Browser={vendor:$.BROWSERS.UNKNOWN,version:0,alpha:!0};var FILEFORMATS={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},URLPARAMS={};(function(){var F=navigator.appVersion,W=navigator.userAgent,q;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(W.substring(W.indexOf("MSIE")+5,W.indexOf(";",W.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(W.indexOf("Firefox")>=0?($.Browser.vendor=$.BROWSERS.FIREFOX,$.Browser.version=parseFloat(W.substring(W.indexOf("Firefox")+8))):W.indexOf("Safari")>=0?($.Browser.vendor=W.indexOf("Chrome")>=0?$.BROWSERS.CHROME:$.BROWSERS.SAFARI,$.Browser.version=parseFloat(W.substring(W.substring(0,W.indexOf("Safari")).lastIndexOf("/")+1,W.indexOf("Safari")))):(q=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),q.exec(W)!==null&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":$.Browser.vendor=$.BROWSERS.OPERA,$.Browser.version=parseFloat(F);break}var X=window.location.search.substring(1),tt=X.split("&"),ot,at,ut;for(ut=0;ut<tt.length;ut++)if(ot=tt[ut],at=ot.indexOf("="),at>0){var wt=ot.substring(0,at),uo=ot.substring(at+1);try{URLPARAMS[wt]=decodeURIComponent(uo)}catch{$.console.error("Ignoring malformed URL parameter: %s=%s",wt,uo)}}$.Browser.alpha=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9||$.Browser.vendor==$.BROWSERS.CHROME&&$.Browser.version<2),$.Browser.opacity=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9)})(),function(F){var W=F.requestAnimationFrame||F.mozRequestAnimationFrame||F.webkitRequestAnimationFrame||F.msRequestAnimationFrame,q=F.cancelAnimationFrame||F.mozCancelAnimationFrame||F.webkitCancelAnimationFrame||F.msCancelAnimationFrame;if(W&&q)$.requestAnimationFrame=function(){return W.apply(F,arguments)},$.cancelAnimationFrame=function(){return q.apply(F,arguments)};else{var X=[],tt=[],ot=0,at;$.requestAnimationFrame=function(ut){return X.push([++ot,ut]),at||(at=setInterval(function(){if(X.length){var wt=$.now(),uo=tt;for(tt=X,X=uo;tt.length;)tt.shift()[1](wt)}else clearInterval(at),at=void 0},1e3/50)),ot},$.cancelAnimationFrame=function(ut){var wt,uo;for(wt=0,uo=X.length;wt<uo;wt+=1)if(X[wt][0]===ut){X.splice(wt,1);return}for(wt=0,uo=tt.length;wt<uo;wt+=1)if(tt[wt][0]===ut){tt.splice(wt,1);return}}}}(window);function getOffsetParent(F,W){return W&&F!=document.body?document.body:F.offsetParent}}(OpenSeadragon),function(F,W){module.exports?module.exports=W():F.OpenSeadragon=W()}(commonjsGlobal,function(){return OpenSeadragon}),function(F){var W={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(W.supportsFullScreen=!0,W.getFullScreenElement=function(){return document.fullscreenElement},W.requestFullScreen=function(q){return q.requestFullscreen()},W.exitFullScreen=function(){document.exitFullscreen()},W.fullScreenEventName="fullscreenchange",W.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(W.supportsFullScreen=!0,W.getFullScreenElement=function(){return document.msFullscreenElement},W.requestFullScreen=function(q){return q.msRequestFullscreen()},W.exitFullScreen=function(){document.msExitFullscreen()},W.fullScreenEventName="MSFullscreenChange",W.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(W.supportsFullScreen=!0,W.getFullScreenElement=function(){return document.webkitFullscreenElement},W.requestFullScreen=function(q){return q.webkitRequestFullscreen()},W.exitFullScreen=function(){document.webkitExitFullscreen()},W.fullScreenEventName="webkitfullscreenchange",W.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(W.supportsFullScreen=!0,W.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},W.requestFullScreen=function(q){return q.webkitRequestFullScreen()},W.exitFullScreen=function(){document.webkitCancelFullScreen()},W.fullScreenEventName="webkitfullscreenchange",W.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(W.supportsFullScreen=!0,W.getFullScreenElement=function(){return document.mozFullScreenElement},W.requestFullScreen=function(q){return q.mozRequestFullScreen()},W.exitFullScreen=function(){document.mozCancelFullScreen()},W.fullScreenEventName="mozfullscreenchange",W.fullScreenErrorEventName="mozfullscreenerror"),W.isFullScreen=function(){return W.getFullScreenElement()!==null},W.cancelFullScreen=function(){F.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),W.exitFullScreen()},F.extend(F,W)}(OpenSeadragon),function(F){F.EventSource=function(){this.events={}},F.EventSource.prototype={addOnceHandler:function(W,q,X,tt){var ot=this;tt=tt||1;var at=0,ut=function(wt){at++,at===tt&&ot.removeHandler(W,ut),q(wt)};this.addHandler(W,ut,X)},addHandler:function(W,q,X){var tt=this.events[W];tt||(this.events[W]=tt=[]),q&&F.isFunction(q)&&(tt[tt.length]={handler:q,userData:X||null})},removeHandler:function(W,q){var X=this.events[W],tt=[],ot;if(X&&F.isArray(X)){for(ot=0;ot<X.length;ot++)X[ot].handler!==q&&tt.push(X[ot]);this.events[W]=tt}},removeAllHandlers:function(W){if(W)this.events[W]=[];else for(var q in this.events)this.events[q]=[]},getHandler:function(W){var q=this.events[W];return!q||!q.length?null:(q=q.length===1?[q[0]]:Array.apply(null,q),function(X,tt){var ot,at=q.length;for(ot=0;ot<at;ot++)q[ot]&&(tt.eventSource=X,tt.userData=q[ot].userData,q[ot].handler(tt))})},raiseEvent:function(W,q){var X=this.getHandler(W);X&&(q||(q={}),X(this,q))}}}(OpenSeadragon),function(F){var W=[],q={};F.MouseTracker=function(dp){W.push(this);var cp=arguments;F.isPlainObject(dp)||(dp={element:cp[0],clickTimeThreshold:cp[1],clickDistThreshold:cp[2]}),this.hash=Math.random(),this.element=F.getElement(dp.element),this.clickTimeThreshold=dp.clickTimeThreshold||F.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=dp.clickDistThreshold||F.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=dp.dblClickTimeThreshold||F.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=dp.dblClickDistThreshold||F.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=dp.userData||null,this.stopDelay=dp.stopDelay||50,this.enterHandler=dp.enterHandler||null,this.exitHandler=dp.exitHandler||null,this.pressHandler=dp.pressHandler||null,this.nonPrimaryPressHandler=dp.nonPrimaryPressHandler||null,this.releaseHandler=dp.releaseHandler||null,this.nonPrimaryReleaseHandler=dp.nonPrimaryReleaseHandler||null,this.moveHandler=dp.moveHandler||null,this.scrollHandler=dp.scrollHandler||null,this.clickHandler=dp.clickHandler||null,this.dblClickHandler=dp.dblClickHandler||null,this.dragHandler=dp.dragHandler||null,this.dragEndHandler=dp.dragEndHandler||null,this.pinchHandler=dp.pinchHandler||null,this.stopHandler=dp.stopHandler||null,this.keyDownHandler=dp.keyDownHandler||null,this.keyUpHandler=dp.keyUpHandler||null,this.keyHandler=dp.keyHandler||null,this.focusHandler=dp.focusHandler||null,this.blurHandler=dp.blurHandler||null;var Vp=this;q[this.hash]={click:function(qp){df(Vp,qp)},dblclick:function(qp){wf(Vp,qp)},keydown:function(qp){wo(Vp,qp)},keyup:function(qp){ls(Vp,qp)},keypress:function(qp){_f(Vp,qp)},focus:function(qp){po(Vp,qp)},blur:function(qp){xo(Vp,qp)},wheel:function(qp){gf(Vp,qp)},mousewheel:function(qp){cf(Vp,qp)},DOMMouseScroll:function(qp){cf(Vp,qp)},MozMousePixelScroll:function(qp){cf(Vp,qp)},mouseenter:function(qp){xf(Vp,qp)},mouseleave:function(qp){Pf(Vp,qp)},mouseover:function(qp){bf(Vp,qp)},mouseout:function(qp){Df(Vp,qp)},mousedown:function(qp){$f(Vp,qp)},mouseup:function(qp){Ff(Vp,qp)},mouseupcaptured:function(qp){Xf(Vp,qp)},mousemove:function(qp){fp(Vp,qp)},mousemovecaptured:function(qp){Mp(Vp,qp)},touchstart:function(qp){yp(Vp,qp)},touchend:function(qp){Ep(Vp,qp)},touchendcaptured:function(qp){Cp(Vp,qp)},touchmove:function(qp){kp(Vp,qp)},touchmovecaptured:function(qp){Dp(Vp,qp)},touchcancel:function(qp){Sp(Vp,qp)},gesturestart:function(qp){up(Vp,qp)},gesturechange:function(qp){Nf(Vp,qp)},pointerover:function(qp){Jf(Vp,qp)},MSPointerOver:function(qp){Jf(Vp,qp)},pointerout:function(qp){ip(Vp,qp)},MSPointerOut:function(qp){ip(Vp,qp)},pointerdown:function(qp){ap(Vp,qp)},MSPointerDown:function(qp){ap(Vp,qp)},pointerup:function(qp){Op(Vp,qp)},MSPointerUp:function(qp){Op(Vp,qp)},pointermove:function(qp){zp(Vp,qp)},MSPointerMove:function(qp){zp(Vp,qp)},pointercancel:function(qp){Zp(Vp,qp)},MSPointerCancel:function(qp){Zp(Vp,qp)},pointerupcaptured:function(qp){Gp(Vp,qp)},pointermovecaptured:function(qp){Rp(Vp,qp)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null},dp.startDisabled||this.setTracking(!0)},F.MouseTracker.prototype={destroy:function(){var dp;for(ot(this),this.element=null,dp=0;dp<W.length;dp++)if(W[dp]===this){W.splice(dp,1);break}q[this.hash]=null,delete q[this.hash]},isTracking:function(){return q[this.hash].tracking},setTracking:function(dp){return dp?tt(this):ot(this),this},getActivePointersListsExceptType:function(dp){for(var cp=q[this.hash],Vp=[],qp=0;qp<cp.activePointersLists.length;++qp)cp.activePointersLists[qp].type!==dp&&Vp.push(cp.activePointersLists[qp]);return Vp},getActivePointersListByType:function(dp){var cp=q[this.hash],Vp,qp=cp.activePointersLists.length,Ag;for(Vp=0;Vp<qp;Vp++)if(cp.activePointersLists[Vp].type===dp)return cp.activePointersLists[Vp];return Ag=new F.MouseTracker.GesturePointList(dp),cp.activePointersLists.push(Ag),Ag},getActivePointerCount:function(){var dp=q[this.hash],cp,Vp=dp.activePointersLists.length,qp=0;for(cp=0;cp<Vp;cp++)qp+=dp.activePointersLists[cp].getLength();return qp},enterHandler:function(){},exitHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}},F.MouseTracker.resetAllMouseTrackers=function(){for(var dp=0;dp<W.length;dp++)W[dp].isTracking()&&(W[dp].setTracking(!1),W[dp].setTracking(!0))},F.MouseTracker.gesturePointVelocityTracker=function(){var dp=[],cp=0,Vp=0,qp=function(zg,Zg){return zg.hash.toString()+Zg.type+Zg.id.toString()},Ag=function(){var zg,Zg=dp.length,wm,pm,bv=F.now(),um,Y0,r0;for(um=bv-Vp,Vp=bv,zg=0;zg<Zg;zg++)wm=dp[zg],pm=wm.gPoint,pm.direction=Math.atan2(pm.currentPos.y-wm.lastPos.y,pm.currentPos.x-wm.lastPos.x),Y0=wm.lastPos.distanceTo(pm.currentPos),wm.lastPos=pm.currentPos,r0=1e3*Y0/(um+1),pm.speed=.75*r0+.25*pm.speed},Dg=function(zg,Zg){var wm=qp(zg,Zg);dp.push({guid:wm,gPoint:Zg,lastPos:Zg.currentPos}),dp.length===1&&(Vp=F.now(),cp=window.setInterval(Ag,50))},Ig=function(zg,Zg){var wm=qp(zg,Zg),pm,bv=dp.length;for(pm=0;pm<bv;pm++)if(dp[pm].guid===wm){dp.splice(pm,1),bv--,bv===0&&window.clearInterval(cp);break}};return{addPoint:Dg,removePoint:Ig}}(),F.MouseTracker.captureElement=document,F.MouseTracker.wheelEventName=F.Browser.vendor==F.BROWSERS.IE&&F.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll",F.MouseTracker.supportsMouseCapture=function(){var dp=document.createElement("div");return F.isFunction(dp.setCapture)&&F.isFunction(dp.releaseCapture)}(),F.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur",F.MouseTracker.wheelEventName],F.MouseTracker.wheelEventName=="DOMMouseScroll"&&F.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent&&(window.navigator.pointerEnabled||F.Browser.vendor!==F.BROWSERS.IE)?(F.MouseTracker.havePointerEvents=!0,F.MouseTracker.subscribeEvents.push("pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),F.MouseTracker.unprefixedPointerEvents=!0,navigator.maxTouchPoints?F.MouseTracker.maxTouchPoints=navigator.maxTouchPoints:F.MouseTracker.maxTouchPoints=0,F.MouseTracker.haveMouseEnter=!1):window.MSPointerEvent&&window.navigator.msPointerEnabled?(F.MouseTracker.havePointerEvents=!0,F.MouseTracker.subscribeEvents.push("MSPointerOver","MSPointerOut","MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"),F.MouseTracker.unprefixedPointerEvents=!1,navigator.msMaxTouchPoints?F.MouseTracker.maxTouchPoints=navigator.msMaxTouchPoints:F.MouseTracker.maxTouchPoints=0,F.MouseTracker.haveMouseEnter=!1):(F.MouseTracker.havePointerEvents=!1,F.Browser.vendor===F.BROWSERS.IE&&F.Browser.version<9?(F.MouseTracker.subscribeEvents.push("mouseenter","mouseleave"),F.MouseTracker.haveMouseEnter=!0):(F.MouseTracker.subscribeEvents.push("mouseover","mouseout"),F.MouseTracker.haveMouseEnter=!1),F.MouseTracker.subscribeEvents.push("mousedown","mouseup","mousemove"),"ontouchstart"in window&&F.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&F.MouseTracker.subscribeEvents.push("gesturestart","gesturechange"),F.MouseTracker.mousePointerId="legacy-mouse",F.MouseTracker.maxTouchPoints=10),F.MouseTracker.GesturePointList=function(dp){this._gPoints=[],this.type=dp,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},F.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(dp){return this._gPoints.push(dp)},removeById:function(dp){var cp,Vp=this._gPoints.length;for(cp=0;cp<Vp;cp++)if(this._gPoints[cp].id===dp){this._gPoints.splice(cp,1);break}return this._gPoints.length},getByIndex:function(dp){return dp<this._gPoints.length?this._gPoints[dp]:null},getById:function(dp){var cp,Vp=this._gPoints.length;for(cp=0;cp<Vp;cp++)if(this._gPoints[cp].id===dp)return this._gPoints[cp];return null},getPrimary:function(dp){var cp,Vp=this._gPoints.length;for(cp=0;cp<Vp;cp++)if(this._gPoints[cp].isPrimary)return this._gPoints[cp];return null},addContact:function(){++this.contacts,this.contacts>1&&(this.type==="mouse"||this.type==="pen")&&(this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}};function X(dp){var cp=q[dp.hash],Vp,qp=cp.activePointersLists.length;for(Vp=0;Vp<qp;Vp++)cp.activePointersLists[Vp].captureCount>0&&(F.removeEvent(F.MouseTracker.captureElement,"mousemove",cp.mousemovecaptured,!0),F.removeEvent(F.MouseTracker.captureElement,"mouseup",cp.mouseupcaptured,!0),F.removeEvent(F.MouseTracker.captureElement,F.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",cp.pointermovecaptured,!0),F.removeEvent(F.MouseTracker.captureElement,F.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",cp.pointerupcaptured,!0),F.removeEvent(F.MouseTracker.captureElement,"touchmove",cp.touchmovecaptured,!0),F.removeEvent(F.MouseTracker.captureElement,"touchend",cp.touchendcaptured,!0),cp.activePointersLists[Vp].captureCount=0);for(Vp=0;Vp<qp;Vp++)cp.activePointersLists.pop()}function tt(dp){var cp=q[dp.hash],Vp,qp;if(!cp.tracking){for(qp=0;qp<F.MouseTracker.subscribeEvents.length;qp++)Vp=F.MouseTracker.subscribeEvents[qp],F.addEvent(dp.element,Vp,cp[Vp],!1);X(dp),cp.tracking=!0}}function ot(dp){var cp=q[dp.hash],Vp,qp;if(cp.tracking){for(qp=0;qp<F.MouseTracker.subscribeEvents.length;qp++)Vp=F.MouseTracker.subscribeEvents[qp],F.removeEvent(dp.element,Vp,cp[Vp],!1);X(dp),cp.tracking=!1}}function at(dp,cp){var Vp=q[dp.hash];if(cp==="pointerevent")return{upName:F.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",upHandler:Vp.pointerupcaptured,moveName:F.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",moveHandler:Vp.pointermovecaptured};if(cp==="mouse")return{upName:"mouseup",upHandler:Vp.mouseupcaptured,moveName:"mousemove",moveHandler:Vp.mousemovecaptured};if(cp==="touch")return{upName:"touchend",upHandler:Vp.touchendcaptured,moveName:"touchmove",moveHandler:Vp.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function ut(dp,cp,Vp){var qp=dp.getActivePointersListByType(cp),Ag;qp.captureCount+=Vp||1,qp.captureCount===1&&(F.Browser.vendor===F.BROWSERS.IE&&F.Browser.version<9?dp.element.setCapture(!0):(Ag=at(dp,F.MouseTracker.havePointerEvents?"pointerevent":cp),im&&hm(window.top)&&F.addEvent(window.top,Ag.upName,Ag.upHandler,!0),F.addEvent(F.MouseTracker.captureElement,Ag.upName,Ag.upHandler,!0),F.addEvent(F.MouseTracker.captureElement,Ag.moveName,Ag.moveHandler,!0)))}function wt(dp,cp,Vp){var qp=dp.getActivePointersListByType(cp),Ag;qp.captureCount-=Vp||1,qp.captureCount===0&&(F.Browser.vendor===F.BROWSERS.IE&&F.Browser.version<9?dp.element.releaseCapture():(Ag=at(dp,F.MouseTracker.havePointerEvents?"pointerevent":cp),im&&hm(window.top)&&F.removeEvent(window.top,Ag.upName,Ag.upHandler,!0),F.removeEvent(F.MouseTracker.captureElement,Ag.moveName,Ag.moveHandler,!0),F.removeEvent(F.MouseTracker.captureElement,Ag.upName,Ag.upHandler,!0)))}function uo(dp){var cp;if(F.MouseTracker.unprefixedPointerEvents)cp=dp.pointerType;else switch(dp.pointerType){case 2:cp="touch";break;case 3:cp="pen";break;case 4:cp="mouse";break;default:cp=""}return cp}function mo(dp){return F.getMousePosition(dp)}function yo(dp,cp){return lf(mo(dp),cp)}function lf(dp,cp){var Vp=F.getElementOffset(cp);return dp.minus(Vp)}function uf(dp,cp){return new F.Point((dp.x+cp.x)/2,(dp.y+cp.y)/2)}function df(dp,cp){dp.clickHandler&&F.cancelEvent(cp)}function wf(dp,cp){dp.dblClickHandler&&F.cancelEvent(cp)}function wo(dp,cp){var Vp;dp.keyDownHandler&&(cp=F.getEvent(cp),Vp=dp.keyDownHandler({eventSource:dp,keyCode:cp.keyCode?cp.keyCode:cp.charCode,ctrl:cp.ctrlKey,shift:cp.shiftKey,alt:cp.altKey,meta:cp.metaKey,originalEvent:cp,preventDefaultAction:!1,userData:dp.userData}),Vp||F.cancelEvent(cp))}function ls(dp,cp){var Vp;dp.keyUpHandler&&(cp=F.getEvent(cp),Vp=dp.keyUpHandler({eventSource:dp,keyCode:cp.keyCode?cp.keyCode:cp.charCode,ctrl:cp.ctrlKey,shift:cp.shiftKey,alt:cp.altKey,meta:cp.metaKey,originalEvent:cp,preventDefaultAction:!1,userData:dp.userData}),Vp||F.cancelEvent(cp))}function _f(dp,cp){var Vp;dp.keyHandler&&(cp=F.getEvent(cp),Vp=dp.keyHandler({eventSource:dp,keyCode:cp.keyCode?cp.keyCode:cp.charCode,ctrl:cp.ctrlKey,shift:cp.shiftKey,alt:cp.altKey,meta:cp.metaKey,originalEvent:cp,preventDefaultAction:!1,userData:dp.userData}),Vp||F.cancelEvent(cp))}function po(dp,cp){var Vp;dp.focusHandler&&(cp=F.getEvent(cp),Vp=dp.focusHandler({eventSource:dp,originalEvent:cp,preventDefaultAction:!1,userData:dp.userData}),Vp===!1&&F.cancelEvent(cp))}function xo(dp,cp){var Vp;dp.blurHandler&&(cp=F.getEvent(cp),Vp=dp.blurHandler({eventSource:dp,originalEvent:cp,preventDefaultAction:!1,userData:dp.userData}),Vp===!1&&F.cancelEvent(cp))}function gf(dp,cp){yf(dp,cp,cp)}function cf(dp,cp){cp=F.getEvent(cp);var Vp={target:cp.target||cp.srcElement,type:"wheel",shiftKey:cp.shiftKey||!1,clientX:cp.clientX,clientY:cp.clientY,pageX:cp.pageX?cp.pageX:cp.clientX,pageY:cp.pageY?cp.pageY:cp.clientY,deltaMode:cp.type=="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0};F.MouseTracker.wheelEventName=="mousewheel"?Vp.deltaY=-cp.wheelDelta/F.DEFAULT_SETTINGS.pixelsPerWheelLine:Vp.deltaY=cp.detail,yf(dp,Vp,cp)}function yf(dp,cp,Vp){var qp=0,Ag;qp=cp.deltaY<0?1:-1,dp.scrollHandler&&(Ag=dp.scrollHandler({eventSource:dp,pointerType:"mouse",position:yo(cp,dp.element),scroll:qp,shift:cp.shiftKey,isTouchEvent:!1,originalEvent:Vp,preventDefaultAction:!1,userData:dp.userData}),Ag===!1&&F.cancelEvent(Vp))}function Sf(dp,cp){if(dp===cp)return!1;for(;cp&&cp!==dp;)cp=cp.parentNode;return cp===dp}function xf(dp,cp){cp=F.getEvent(cp),Af(dp,cp)}function bf(dp,cp){cp=F.getEvent(cp),!(cp.currentTarget===cp.relatedTarget||Sf(cp.currentTarget,cp.relatedTarget))&&Af(dp,cp)}function Af(dp,cp){var Vp={id:F.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:mo(cp),currentTime:F.now()};Ip(dp,cp,[Vp])}function Pf(dp,cp){cp=F.getEvent(cp),zf(dp,cp)}function Df(dp,cp){cp=F.getEvent(cp),!(cp.currentTarget===cp.relatedTarget||Sf(cp.currentTarget,cp.relatedTarget))&&zf(dp,cp)}function zf(dp,cp){var Vp={id:F.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:mo(cp),currentTime:F.now()};jp(dp,cp,[Vp])}function jf(dp){return F.Browser.vendor===F.BROWSERS.IE&&F.Browser.version<9?dp===1?0:dp===2?2:dp===4?1:-1:dp}function $f(dp,cp){var Vp;cp=F.getEvent(cp),Vp={id:F.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:mo(cp),currentTime:F.now()},Jp(dp,cp,[Vp],jf(cp.button))&&(F.stopEvent(cp),ut(dp,"mouse")),(dp.clickHandler||dp.dblClickHandler||dp.pressHandler||dp.dragHandler||dp.dragEndHandler)&&F.cancelEvent(cp)}function Ff(dp,cp){mp(dp,cp)}function Xf(dp,cp){mp(dp,cp),F.stopEvent(cp)}function mp(dp,cp){var Vp;cp=F.getEvent(cp),Vp={id:F.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:mo(cp),currentTime:F.now()},sg(dp,cp,[Vp],jf(cp.button))&&wt(dp,"mouse")}function fp(dp,cp){Np(dp,cp)}function Mp(dp,cp){Np(dp,cp),F.stopEvent(cp)}function Np(dp,cp){var Vp;cp=F.getEvent(cp),Vp={id:F.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:mo(cp),currentTime:F.now()},mg(dp,cp,[Vp])}function Pp(dp,cp,Vp){var qp,Ag=Vp.getLength(),Dg=[];if(Vp.type==="touch"||Vp.contacts>0){for(qp=0;qp<Ag;qp++)Dg.push(Vp.getByIndex(qp));Dg.length>0&&(sg(dp,cp,Dg,0),Vp.captureCount=1,wt(dp,Vp.type),jp(dp,cp,Dg))}}function yp(dp,cp){var Vp,qp,Ag,Dg=cp.changedTouches.length,Ig=[],zg,Zg=dp.getActivePointersListByType("touch");for(Vp=F.now(),Zg.getLength()>cp.touches.length-Dg&&(F.console.warn("Tracked touch contact count doesn't match event.touches.length. Removing all tracked touch pointers."),Pp(dp,cp,Zg)),qp=0;qp<Dg;qp++)Ig.push({id:cp.changedTouches[qp].identifier,type:"touch",currentPos:mo(cp.changedTouches[qp]),currentTime:Vp});for(Ip(dp,cp,Ig),qp=0;qp<W.length;qp++)if(W[qp]!==dp&&W[qp].isTracking()&&Sf(W[qp].element,dp.element)){for(zg=[],Ag=0;Ag<Dg;Ag++)zg.push({id:cp.changedTouches[Ag].identifier,type:"touch",currentPos:mo(cp.changedTouches[Ag]),currentTime:Vp});Ip(W[qp],cp,zg)}Jp(dp,cp,Ig,0)&&(F.stopEvent(cp),ut(dp,"touch",Dg)),F.cancelEvent(cp)}function Ep(dp,cp){$p(dp,cp)}function Cp(dp,cp){$p(dp,cp),F.stopEvent(cp)}function $p(dp,cp){var Vp,qp,Ag,Dg=cp.changedTouches.length,Ig=[],zg;for(Vp=F.now(),qp=0;qp<Dg;qp++)Ig.push({id:cp.changedTouches[qp].identifier,type:"touch",currentPos:mo(cp.changedTouches[qp]),currentTime:Vp});for(sg(dp,cp,Ig,0)&&wt(dp,"touch",Dg),jp(dp,cp,Ig),qp=0;qp<W.length;qp++)if(W[qp]!==dp&&W[qp].isTracking()&&Sf(W[qp].element,dp.element)){for(zg=[],Ag=0;Ag<Dg;Ag++)zg.push({id:cp.changedTouches[Ag].identifier,type:"touch",currentPos:mo(cp.changedTouches[Ag]),currentTime:Vp});jp(W[qp],cp,zg)}F.cancelEvent(cp)}function kp(dp,cp){Fp(dp,cp)}function Dp(dp,cp){Fp(dp,cp),F.stopEvent(cp)}function Fp(dp,cp){var Vp,qp=cp.changedTouches.length,Ag=[];for(Vp=0;Vp<qp;Vp++)Ag.push({id:cp.changedTouches[Vp].identifier,type:"touch",currentPos:mo(cp.changedTouches[Vp]),currentTime:F.now()});mg(dp,cp,Ag),F.cancelEvent(cp)}function Sp(dp,cp){var Vp=dp.getActivePointersListByType("touch");Pp(dp,cp,Vp)}function up(dp,cp){return cp.stopPropagation(),cp.preventDefault(),!1}function Nf(dp,cp){return cp.stopPropagation(),cp.preventDefault(),!1}function Jf(dp,cp){var Vp;cp.currentTarget===cp.relatedTarget||Sf(cp.currentTarget,cp.relatedTarget)||(Vp={id:cp.pointerId,type:uo(cp),isPrimary:cp.isPrimary,currentPos:mo(cp),currentTime:F.now()},Ip(dp,cp,[Vp]))}function ip(dp,cp){var Vp;cp.currentTarget===cp.relatedTarget||Sf(cp.currentTarget,cp.relatedTarget)||(Vp={id:cp.pointerId,type:uo(cp),isPrimary:cp.isPrimary,currentPos:mo(cp),currentTime:F.now()},jp(dp,cp,[Vp]))}function ap(dp,cp){var Vp;Vp={id:cp.pointerId,type:uo(cp),isPrimary:cp.isPrimary,currentPos:mo(cp),currentTime:F.now()},Jp(dp,cp,[Vp],cp.button)&&(F.stopEvent(cp),ut(dp,Vp.type)),(dp.clickHandler||dp.dblClickHandler||dp.pressHandler||dp.dragHandler||dp.dragEndHandler||dp.pinchHandler)&&F.cancelEvent(cp)}function Op(dp,cp){bp(dp,cp)}function Gp(dp,cp){var Vp=dp.getActivePointersListByType(uo(cp));Vp.getById(cp.pointerId)&&bp(dp,cp),F.stopEvent(cp)}function bp(dp,cp){var Vp;Vp={id:cp.pointerId,type:uo(cp),isPrimary:cp.isPrimary,currentPos:mo(cp),currentTime:F.now()},sg(dp,cp,[Vp],cp.button)&&wt(dp,Vp.type)}function zp(dp,cp){Up(dp,cp)}function Rp(dp,cp){var Vp=dp.getActivePointersListByType(uo(cp));Vp.getById(cp.pointerId)&&Up(dp,cp),F.stopEvent(cp)}function Up(dp,cp){var Vp;Vp={id:cp.pointerId,type:uo(cp),isPrimary:cp.isPrimary,currentPos:mo(cp),currentTime:F.now()},mg(dp,cp,[Vp])}function Zp(dp,cp){var Vp;Vp={id:cp.pointerId,type:uo(cp)},kg(dp,cp,[Vp])}function og(dp,cp){return Object.prototype.hasOwnProperty.call(cp,"isPrimary")||(dp.getLength()===0?cp.isPrimary=!0:cp.isPrimary=!1),cp.speed=0,cp.direction=0,cp.contactPos=cp.currentPos,cp.contactTime=cp.currentTime,cp.lastPos=cp.currentPos,cp.lastTime=cp.currentTime,dp.add(cp)}function Ap(dp,cp){var Vp,qp;return dp.getById(cp.id)?(Vp=dp.removeById(cp.id),Object.prototype.hasOwnProperty.call(cp,"isPrimary")||(qp=dp.getPrimary(),qp||(qp=dp.getByIndex(0),qp&&(qp.isPrimary=!0)))):Vp=dp.getLength(),Vp}function Ip(dp,cp,Vp){var qp=dp.getActivePointersListByType(Vp[0].type),Ag,Dg=Vp.length,Ig,zg,Zg;for(Ag=0;Ag<Dg;Ag++)Ig=Vp[Ag],zg=qp.getById(Ig.id),zg?(zg.insideElement=!0,zg.lastPos=zg.currentPos,zg.lastTime=zg.currentTime,zg.currentPos=Ig.currentPos,zg.currentTime=Ig.currentTime,Ig=zg):(Ig.captured=!1,Ig.insideElementPressed=!1,Ig.insideElement=!0,og(qp,Ig)),dp.enterHandler&&(Zg=dp.enterHandler({eventSource:dp,pointerType:Ig.type,position:lf(Ig.currentPos,dp.element),buttons:qp.buttons,pointers:dp.getActivePointerCount(),insideElementPressed:Ig.insideElementPressed,buttonDownAny:qp.buttons!==0,isTouchEvent:Ig.type==="touch",originalEvent:cp,preventDefaultAction:!1,userData:dp.userData}),Zg===!1&&F.cancelEvent(cp))}function jp(dp,cp,Vp){var qp=dp.getActivePointersListByType(Vp[0].type),Ag,Dg=Vp.length,Ig,zg,Zg;for(Ag=0;Ag<Dg;Ag++)Ig=Vp[Ag],zg=qp.getById(Ig.id),zg&&(zg.captured?(zg.insideElement=!1,zg.lastPos=zg.currentPos,zg.lastTime=zg.currentTime,zg.currentPos=Ig.currentPos,zg.currentTime=Ig.currentTime):Ap(qp,zg),Ig=zg),dp.exitHandler&&(Zg=dp.exitHandler({eventSource:dp,pointerType:Ig.type,position:Ig.currentPos&&lf(Ig.currentPos,dp.element),buttons:qp.buttons,pointers:dp.getActivePointerCount(),insideElementPressed:zg?zg.insideElementPressed:!1,buttonDownAny:qp.buttons!==0,isTouchEvent:Ig.type==="touch",originalEvent:cp,preventDefaultAction:!1,userData:dp.userData}),Zg===!1&&F.cancelEvent(cp))}function Jp(dp,cp,Vp,qp){var Ag=q[dp.hash],Dg,Ig=dp.getActivePointersListByType(Vp[0].type),zg,Zg=Vp.length,wm,pm;typeof cp.buttons<"u"?Ig.buttons=cp.buttons:F.Browser.vendor===F.BROWSERS.IE&&F.Browser.version<9?qp===0?Ig.buttons+=1:qp===1?Ig.buttons+=4:qp===2?Ig.buttons+=2:qp===3?Ig.buttons+=8:qp===4?Ig.buttons+=16:qp===5&&(Ig.buttons+=32):qp===0?Ig.buttons|=1:qp===1?Ig.buttons|=4:qp===2?Ig.buttons|=2:qp===3?Ig.buttons|=8:qp===4?Ig.buttons|=16:qp===5&&(Ig.buttons|=32);var bv=dp.getActivePointersListsExceptType(Vp[0].type);for(zg=0;zg<bv.length;zg++)Pp(dp,cp,bv[zg]);if(qp!==0)return dp.nonPrimaryPressHandler&&(Dg=dp.nonPrimaryPressHandler({eventSource:dp,pointerType:Vp[0].type,position:lf(Vp[0].currentPos,dp.element),button:qp,buttons:Ig.buttons,isTouchEvent:Vp[0].type==="touch",originalEvent:cp,preventDefaultAction:!1,userData:dp.userData}),Dg===!1&&F.cancelEvent(cp)),!1;for(zg=0;zg<Zg;zg++)wm=Vp[zg],pm=Ig.getById(wm.id),pm?(pm.captured=!0,pm.insideElementPressed=!0,pm.insideElement=!0,pm.contactPos=wm.currentPos,pm.contactTime=wm.currentTime,pm.lastPos=pm.currentPos,pm.lastTime=pm.currentTime,pm.currentPos=wm.currentPos,pm.currentTime=wm.currentTime,wm=pm):(wm.captured=!0,wm.insideElementPressed=!0,wm.insideElement=!0,og(Ig,wm)),Ig.addContact(),(dp.dragHandler||dp.dragEndHandler||dp.pinchHandler)&&F.MouseTracker.gesturePointVelocityTracker.addPoint(dp,wm),Ig.contacts===1?dp.pressHandler&&(Dg=dp.pressHandler({eventSource:dp,pointerType:wm.type,position:lf(wm.contactPos,dp.element),buttons:Ig.buttons,isTouchEvent:wm.type==="touch",originalEvent:cp,preventDefaultAction:!1,userData:dp.userData}),Dg===!1&&F.cancelEvent(cp)):Ig.contacts===2&&dp.pinchHandler&&wm.type==="touch"&&(Ag.pinchGPoints=Ig.asArray(),Ag.lastPinchDist=Ag.currentPinchDist=Ag.pinchGPoints[0].currentPos.distanceTo(Ag.pinchGPoints[1].currentPos),Ag.lastPinchCenter=Ag.currentPinchCenter=uf(Ag.pinchGPoints[0].currentPos,Ag.pinchGPoints[1].currentPos));return!0}function sg(dp,cp,Vp,qp){var Ag=q[dp.hash],Dg=dp.getActivePointersListByType(Vp[0].type),Ig,zg,Zg,wm,pm=Vp.length,bv,um,Y0=!1,r0=!1,_y;if(typeof cp.buttons<"u"?Dg.buttons=cp.buttons:F.Browser.vendor===F.BROWSERS.IE&&F.Browser.version<9?qp===0?Dg.buttons-=1:qp===1?Dg.buttons-=4:qp===2?Dg.buttons-=2:qp===3?Dg.buttons-=8:qp===4?Dg.buttons-=16:qp===5&&(Dg.buttons-=32):qp===0?Dg.buttons^=-2:qp===1?Dg.buttons^=-5:qp===2?Dg.buttons^=-3:qp===3?Dg.buttons^=-9:qp===4?Dg.buttons^=-17:qp===5&&(Dg.buttons^=-33),qp!==0){dp.nonPrimaryReleaseHandler&&(Ig=dp.nonPrimaryReleaseHandler({eventSource:dp,pointerType:Vp[0].type,position:lf(Vp[0].currentPos,dp.element),button:qp,buttons:Dg.buttons,isTouchEvent:Vp[0].type==="touch",originalEvent:cp,preventDefaultAction:!1,userData:dp.userData}),Ig===!1&&F.cancelEvent(cp));var Wy=dp.getActivePointersListByType("mouse");return Pp(dp,cp,Wy),!1}if(typeof Vp[0].currentPos>"u")return Pp(dp,cp,Dg),!1;for(wm=0;wm<pm;wm++)bv=Vp[wm],um=Dg.getById(bv.id),um&&(um.captured&&(um.captured=!1,Y0=!0,r0=!0),um.lastPos=um.currentPos,um.lastTime=um.currentTime,um.currentPos=bv.currentPos,um.currentTime=bv.currentTime,um.insideElement||Ap(Dg,um),zg=um.currentPos,Zg=um.currentTime,r0?(Dg.removeContact(),(dp.dragHandler||dp.dragEndHandler||dp.pinchHandler)&&F.MouseTracker.gesturePointVelocityTracker.removePoint(dp,um),Dg.contacts===0?(dp.releaseHandler&&(Ig=dp.releaseHandler({eventSource:dp,pointerType:um.type,position:lf(zg,dp.element),buttons:Dg.buttons,insideElementPressed:um.insideElementPressed,insideElementReleased:um.insideElement,isTouchEvent:um.type==="touch",originalEvent:cp,preventDefaultAction:!1,userData:dp.userData}),Ig===!1&&F.cancelEvent(cp)),dp.dragEndHandler&&!um.currentPos.equals(um.contactPos)&&(Ig=dp.dragEndHandler({eventSource:dp,pointerType:um.type,position:lf(um.currentPos,dp.element),speed:um.speed,direction:um.direction,shift:cp.shiftKey,isTouchEvent:um.type==="touch",originalEvent:cp,preventDefaultAction:!1,userData:dp.userData}),Ig===!1&&F.cancelEvent(cp)),(dp.clickHandler||dp.dblClickHandler)&&um.insideElement&&(_y=Zg-um.contactTime<=dp.clickTimeThreshold&&um.contactPos.distanceTo(zg)<=dp.clickDistThreshold,dp.clickHandler&&(Ig=dp.clickHandler({eventSource:dp,pointerType:um.type,position:lf(um.currentPos,dp.element),quick:_y,shift:cp.shiftKey,isTouchEvent:um.type==="touch",originalEvent:cp,preventDefaultAction:!1,userData:dp.userData}),Ig===!1&&F.cancelEvent(cp)),dp.dblClickHandler&&_y&&(Dg.clicks++,Dg.clicks===1?(Ag.lastClickPos=zg,Ag.dblClickTimeOut=setTimeout(function(){Dg.clicks=0},dp.dblClickTimeThreshold)):Dg.clicks===2&&(clearTimeout(Ag.dblClickTimeOut),Dg.clicks=0,Ag.lastClickPos.distanceTo(zg)<=dp.dblClickDistThreshold&&(Ig=dp.dblClickHandler({eventSource:dp,pointerType:um.type,position:lf(um.currentPos,dp.element),shift:cp.shiftKey,isTouchEvent:um.type==="touch",originalEvent:cp,preventDefaultAction:!1,userData:dp.userData}),Ig===!1&&F.cancelEvent(cp)),Ag.lastClickPos=null)))):Dg.contacts===2&&dp.pinchHandler&&um.type==="touch"&&(Ag.pinchGPoints=Dg.asArray(),Ag.lastPinchDist=Ag.currentPinchDist=Ag.pinchGPoints[0].currentPos.distanceTo(Ag.pinchGPoints[1].currentPos),Ag.lastPinchCenter=Ag.currentPinchCenter=uf(Ag.pinchGPoints[0].currentPos,Ag.pinchGPoints[1].currentPos))):dp.releaseHandler&&(Ig=dp.releaseHandler({eventSource:dp,pointerType:um.type,position:lf(zg,dp.element),buttons:Dg.buttons,insideElementPressed:um.insideElementPressed,insideElementReleased:um.insideElement,isTouchEvent:um.type==="touch",originalEvent:cp,preventDefaultAction:!1,userData:dp.userData}),Ig===!1&&F.cancelEvent(cp)));return Y0}function mg(dp,cp,Vp){var qp=q[dp.hash],Ag=dp.getActivePointersListByType(Vp[0].type),Dg,Ig=Vp.length,zg,Zg,wm,pm,bv;for(typeof cp.buttons<"u"&&(Ag.buttons=cp.buttons),Dg=0;Dg<Ig;Dg++)zg=Vp[Dg],Zg=Ag.getById(zg.id),Zg?(Object.prototype.hasOwnProperty.call(zg,"isPrimary")&&(Zg.isPrimary=zg.isPrimary),Zg.lastPos=Zg.currentPos,Zg.lastTime=Zg.currentTime,Zg.currentPos=zg.currentPos,Zg.currentTime=zg.currentTime):(zg.captured=!1,zg.insideElementPressed=!1,zg.insideElement=!0,og(Ag,zg));dp.stopHandler&&Vp[0].type==="mouse"&&(clearTimeout(dp.stopTimeOut),dp.stopTimeOut=setTimeout(function(){Eg(dp,cp,Vp[0].type)},dp.stopDelay)),Ag.contacts===0?dp.moveHandler&&(bv=dp.moveHandler({eventSource:dp,pointerType:Vp[0].type,position:lf(Vp[0].currentPos,dp.element),buttons:Ag.buttons,isTouchEvent:Vp[0].type==="touch",originalEvent:cp,preventDefaultAction:!1,userData:dp.userData}),bv===!1&&F.cancelEvent(cp)):Ag.contacts===1?(dp.moveHandler&&(Zg=Ag.asArray()[0],bv=dp.moveHandler({eventSource:dp,pointerType:Zg.type,position:lf(Zg.currentPos,dp.element),buttons:Ag.buttons,isTouchEvent:Zg.type==="touch",originalEvent:cp,preventDefaultAction:!1,userData:dp.userData}),bv===!1&&F.cancelEvent(cp)),dp.dragHandler&&(Zg=Ag.asArray()[0],pm=Zg.currentPos.minus(Zg.lastPos),bv=dp.dragHandler({eventSource:dp,pointerType:Zg.type,position:lf(Zg.currentPos,dp.element),buttons:Ag.buttons,delta:pm,speed:Zg.speed,direction:Zg.direction,shift:cp.shiftKey,isTouchEvent:Zg.type==="touch",originalEvent:cp,preventDefaultAction:!1,userData:dp.userData}),bv===!1&&F.cancelEvent(cp))):Ag.contacts===2&&(dp.moveHandler&&(wm=Ag.asArray(),bv=dp.moveHandler({eventSource:dp,pointerType:wm[0].type,position:lf(uf(wm[0].currentPos,wm[1].currentPos),dp.element),buttons:Ag.buttons,isTouchEvent:wm[0].type==="touch",originalEvent:cp,preventDefaultAction:!1,userData:dp.userData}),bv===!1&&F.cancelEvent(cp)),dp.pinchHandler&&Vp[0].type==="touch"&&(pm=qp.pinchGPoints[0].currentPos.distanceTo(qp.pinchGPoints[1].currentPos),pm!=qp.currentPinchDist&&(qp.lastPinchDist=qp.currentPinchDist,qp.currentPinchDist=pm,qp.lastPinchCenter=qp.currentPinchCenter,qp.currentPinchCenter=uf(qp.pinchGPoints[0].currentPos,qp.pinchGPoints[1].currentPos),bv=dp.pinchHandler({eventSource:dp,pointerType:"touch",gesturePoints:qp.pinchGPoints,lastCenter:lf(qp.lastPinchCenter,dp.element),center:lf(qp.currentPinchCenter,dp.element),lastDistance:qp.lastPinchDist,distance:qp.currentPinchDist,shift:cp.shiftKey,originalEvent:cp,preventDefaultAction:!1,userData:dp.userData}),bv===!1&&F.cancelEvent(cp))))}function kg(dp,cp,Vp){sg(dp,cp,Vp,0),jp(dp,cp,Vp)}function Eg(dp,cp,Vp){dp.stopHandler&&dp.stopHandler({eventSource:dp,pointerType:Vp,position:yo(cp,dp.element),buttons:dp.getActivePointersListByType(Vp).buttons,isTouchEvent:Vp==="touch",originalEvent:cp,preventDefaultAction:!1,userData:dp.userData})}var im=function(){try{return window.self!==window.top}catch{return!0}}();function hm(dp){try{return dp.addEventListener&&dp.removeEventListener}catch{return!1}}}(OpenSeadragon),function(F){F.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},F.Control=function(W,q,X){var tt=W.parentNode;typeof q=="number"&&(F.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),q={anchor:q}),q.attachToViewer=typeof q.attachToViewer>"u"?!0:q.attachToViewer,this.autoFade=typeof q.autoFade>"u"?!0:q.autoFade,this.element=W,this.anchor=q.anchor,this.container=X,this.anchor==F.ControlAnchor.ABSOLUTE?(this.wrapper=F.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top=typeof q.top=="number"?q.top+"px":q.top,this.wrapper.style.left=typeof q.left=="number"?q.left+"px":q.left,this.wrapper.style.height=typeof q.height=="number"?q.height+"px":q.height,this.wrapper.style.width=typeof q.width=="number"?q.width+"px":q.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=F.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor==F.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),q.attachToViewer?this.anchor==F.ControlAnchor.TOP_RIGHT||this.anchor==F.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):tt.appendChild(this.wrapper)},F.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.container.removeChild(this.wrapper)},isVisible:function(){return this.wrapper.style.display!="none"},setVisible:function(W){this.wrapper.style.display=W?this.anchor==F.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(W){this.element[F.SIGNAL]&&F.Browser.vendor==F.BROWSERS.IE?F.setElementOpacity(this.element,W,!0):F.setElementOpacity(this.wrapper,W,!0)}}}(OpenSeadragon),function(F){F.ControlDock=function(q){var X=["topleft","topright","bottomright","bottomleft"],tt,ot;for(F.extend(!0,this,{id:"controldock-"+F.now()+"-"+Math.floor(Math.random()*1e6),container:F.makeNeutralElement("div"),controls:[]},q),this.container.onsubmit=function(){return!1},this.element&&(this.element=F.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),ot=0;ot<X.length;ot++)tt=X[ot],this.controls[tt]=F.makeNeutralElement("div"),this.controls[tt].style.position="absolute",tt.match("left")&&(this.controls[tt].style.left="0px"),tt.match("right")&&(this.controls[tt].style.right="0px"),tt.match("top")&&(this.controls[tt].style.top="0px"),tt.match("bottom")&&(this.controls[tt].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},F.ControlDock.prototype={addControl:function(q,X){q=F.getElement(q);var tt=null;if(!(W(this,q)>=0)){switch(X.anchor){case F.ControlAnchor.TOP_RIGHT:tt=this.controls.topright,q.style.position="relative",q.style.paddingRight="0px",q.style.paddingTop="0px";break;case F.ControlAnchor.BOTTOM_RIGHT:tt=this.controls.bottomright,q.style.position="relative",q.style.paddingRight="0px",q.style.paddingBottom="0px";break;case F.ControlAnchor.BOTTOM_LEFT:tt=this.controls.bottomleft,q.style.position="relative",q.style.paddingLeft="0px",q.style.paddingBottom="0px";break;case F.ControlAnchor.TOP_LEFT:tt=this.controls.topleft,q.style.position="relative",q.style.paddingLeft="0px",q.style.paddingTop="0px";break;case F.ControlAnchor.ABSOLUTE:tt=this.container,q.style.margin="0px",q.style.padding="0px";break;default:case F.ControlAnchor.NONE:tt=this.container,q.style.margin="0px",q.style.padding="0px";break}this.controls.push(new F.Control(q,X,tt)),q.style.display="inline-block"}},removeControl:function(q){q=F.getElement(q);var X=W(this,q);return X>=0&&(this.controls[X].destroy(),this.controls.splice(X,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var q;for(q=this.controls.length-1;q>=0;q--)if(this.controls[q].isVisible())return!0;return!1},setControlsEnabled:function(q){var X;for(X=this.controls.length-1;X>=0;X--)this.controls[X].setVisible(q);return this}};function W(q,X){var tt=q.controls,ot;for(ot=tt.length-1;ot>=0;ot--)if(tt[ot].element==X)return ot;return-1}}(OpenSeadragon),function(F){F.Placement=F.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(OpenSeadragon),function(F){var W={},q=1;F.Viewer=function(Nf){var Jf=arguments,ip=this,ap;if(F.isPlainObject(Nf)||(Nf={id:Jf[0],xmlPath:Jf.length>1?Jf[1]:void 0,prefixUrl:Jf.length>2?Jf[2]:void 0,controls:Jf.length>3?Jf[3]:void 0,overlays:Jf.length>4?Jf[4]:void 0}),Nf.config&&(F.extend(!0,Nf,Nf.config),delete Nf.config),F.extend(!0,this,{id:Nf.id,hash:Nf.hash||q++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttons:null,profiler:null},F.DEFAULT_SETTINGS,Nf),typeof this.hash>"u")throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(typeof W[this.hash]<"u"&&F.console.warn("Hash "+this.hash+" has already been used."),W[this.hash]={fsBoundsDelta:new F.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._lastScrollTime=F.now(),F.EventSource.call(this),this.addHandler("open-failed",function(Op){var Gp=F.getString("Errors.OpenFailed",Op.eventSource,Op.message);ip._showMessage(Gp)}),F.ControlDock.call(this,Nf),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=F.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(Op){Op.width="100%",Op.height="100%",Op.overflow="hidden",Op.position="absolute",Op.top="0px",Op.left="0px"}(this.canvas.style),F.setElementTouchActionNone(this.canvas),Nf.tabIndex!==""&&(this.canvas.tabIndex=Nf.tabIndex===void 0?0:Nf.tabIndex),this.container.className="openseadragon-container",function(Op){Op.width="100%",Op.height="100%",Op.position="relative",Op.overflow="hidden",Op.left="0px",Op.top="0px",Op.textAlign="left"}(this.container.style),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new F.MouseTracker({element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,keyDownHandler:F.delegate(this,df),keyHandler:F.delegate(this,wf),clickHandler:F.delegate(this,wo),dblClickHandler:F.delegate(this,ls),dragHandler:F.delegate(this,_f),dragEndHandler:F.delegate(this,po),enterHandler:F.delegate(this,xo),exitHandler:F.delegate(this,gf),pressHandler:F.delegate(this,cf),releaseHandler:F.delegate(this,yf),nonPrimaryPressHandler:F.delegate(this,Sf),nonPrimaryReleaseHandler:F.delegate(this,xf),scrollHandler:F.delegate(this,Af),pinchHandler:F.delegate(this,bf)}),this.outerTracker=new F.MouseTracker({element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:F.delegate(this,Pf),exitHandler:F.delegate(this,Df)}),this.toolbar&&(this.toolbar=new F.ControlDock({element:this.toolbar})),this.bindStandardControls(),W[this.hash].prevContainerSize=X(this.container),this.world=new F.World({viewer:this}),this.world.addHandler("add-item",function(Op){ip.source=ip.world.getItemAt(0).source,W[ip.hash].forceRedraw=!0,ip._updateRequestId||(ip._updateRequestId=ut(ip,zf))}),this.world.addHandler("remove-item",function(Op){ip.world.getItemCount()?ip.source=ip.world.getItemAt(0).source:ip.source=null,W[ip.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(Op){ip.viewport&&ip.viewport._setContentBounds(ip.world.getHomeBounds(),ip.world.getContentFactor())}),this.world.addHandler("item-index-change",function(Op){ip.source=ip.world.getItemAt(0).source}),this.viewport=new F.Viewport({containerSize:W[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new F.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:Nf.timeout}),this.tileCache=new F.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new F.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=F.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(ap=this.buttons.buttons.indexOf(this.rotateLeft),this.buttons.buttons.splice(ap,1),this.buttons.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(ap=this.buttons.buttons.indexOf(this.rotateRight),this.buttons.buttons.splice(ap,1),this.buttons.element.removeChild(this.rotateRight.element))),this.showNavigator&&(this.navigator=new F.Navigator({id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),ap=0;ap<this.customControls.length;ap++)this.addControl(this.customControls[ap].id,{anchor:this.customControls[ap].anchor});F.requestAnimationFrame(function(){uo(ip)}),this.imageSmoothingEnabled!==void 0&&!this.imageSmoothingEnabled&&this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled)},F.extend(F.Viewer.prototype,F.EventSource.prototype,F.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(Nf){return F.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(Nf)},openTileSource:function(Nf){return F.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(Nf)},open:function(Nf,Jf){var ip=this;if(this.close(),!!Nf){if(this.sequenceMode&&F.isArray(Nf)){this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),typeof Jf<"u"&&!isNaN(Jf)&&(this.initialPage=Jf),this.tileSources=Nf,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex);return}if(F.isArray(Nf)||(Nf=[Nf]),!!Nf.length){this._opening=!0;for(var ap=Nf.length,Op=0,Gp=0,bp,zp=function(){if(Op+Gp===ap)if(Op){(ip._firstOpen||!ip.preserveViewport)&&(ip.viewport.goHome(!0),ip.viewport.update()),ip._firstOpen=!1;var Zp=Nf[0];if(Zp.tileSource&&(Zp=Zp.tileSource),ip.overlays&&!ip.preserveOverlays)for(var og=0;og<ip.overlays.length;og++)ip.currentOverlays[og]=ot(ip,ip.overlays[og]);ip._drawOverlays(),ip._opening=!1,ip.raiseEvent("open",{source:Zp})}else ip._opening=!1,ip.raiseEvent("open-failed",bp)},Rp=function(Zp){(!F.isPlainObject(Zp)||!Zp.tileSource)&&(Zp={tileSource:Zp}),Zp.index!==void 0&&(F.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete Zp.index),Zp.collectionImmediately===void 0&&(Zp.collectionImmediately=!0);var og=Zp.success;Zp.success=function(Ip){if(Op++,Zp.tileSource.overlays)for(var jp=0;jp<Zp.tileSource.overlays.length;jp++)ip.addOverlay(Zp.tileSource.overlays[jp]);og&&og(Ip),zp()};var Ap=Zp.error;Zp.error=function(Ip){Gp++,bp||(bp=Ip),Ap&&Ap(Ip),zp()},ip.addTiledImage(Zp)},Up=0;Up<Nf.length;Up++)Rp(Nf[Up]);return this}}},close:function(){return W[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),W[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(W[this.hash]){if(this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),this._updateRequestId!==null&&(F.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.removeAllHandlers(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),W[this.hash]=null,delete W[this.hash],this.canvas=null,this.container=null,this.element=null}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(Nf){return this.innerTracker.setTracking(Nf),this.outerTracker.setTracking(Nf),this.raiseEvent("mouse-enabled",{enabled:Nf}),this},areControlsEnabled:function(){var Nf=this.controls.length,Jf;for(Jf=0;Jf<this.controls.length;Jf++)Nf=Nf&&this.controls[Jf].isVisible();return Nf},setControlsEnabled:function(Nf){return Nf?yo(this):uo(this),this.raiseEvent("controls-enabled",{enabled:Nf}),this},setDebugMode:function(Nf){for(var Jf=0;Jf<this.world.getItemCount();Jf++)this.world.getItemAt(Jf).debugMode=Nf;this.debugMode=Nf,this.forceRedraw()},isFullPage:function(){return W[this.hash].fullPage},setFullPage:function(Nf){var Jf=document.body,ip=Jf.style,ap=document.documentElement.style,Op=this,Gp,bp;if(Nf==this.isFullPage())return this;var zp={fullPage:Nf,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",zp),zp.preventDefaultAction)return this;if(Nf){for(this.elementSize=F.getElementSize(this.element),this.pageScroll=F.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=ip.margin,this.docMargin=ap.margin,ip.margin="0",ap.margin="0",this.bodyPadding=ip.padding,this.docPadding=ap.padding,ip.padding="0",ap.padding="0",this.bodyWidth=ip.width,this.docWidth=ap.width,ip.width="100%",ap.width="100%",this.bodyHeight=ip.height,this.docHeight=ap.height,ip.height="100%",ap.height="100%",this.previousBody=[],W[this.hash].prevElementParent=this.element.parentNode,W[this.hash].prevNextSibling=this.element.nextSibling,W[this.hash].prevElementWidth=this.element.style.width,W[this.hash].prevElementHeight=this.element.style.height,Gp=Jf.childNodes.length,bp=0;bp<Gp;bp++)this.previousBody.push(Jf.childNodes[0]),Jf.removeChild(Jf.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,Jf.appendChild(this.toolbar.element),F.addClass(this.toolbar.element,"fullpage")),F.addClass(this.element,"fullpage"),Jf.appendChild(this.element),this.element.style.height=F.getWindowSize().y+"px",this.element.style.width=F.getWindowSize().x+"px",this.toolbar&&this.toolbar.element&&(this.element.style.height=F.getElementSize(this.element).y-F.getElementSize(this.toolbar.element).y+"px"),W[this.hash].fullPage=!0,F.delegate(this,Pf)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,ip.margin=this.bodyMargin,ap.margin=this.docMargin,ip.padding=this.bodyPadding,ap.padding=this.docPadding,ip.width=this.bodyWidth,ap.width=this.docWidth,ip.height=this.bodyHeight,ap.height=this.docHeight,Jf.removeChild(this.element),Gp=this.previousBody.length,bp=0;bp<Gp;bp++)Jf.appendChild(this.previousBody.shift());F.removeClass(this.element,"fullpage"),W[this.hash].prevElementParent.insertBefore(this.element,W[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(Jf.removeChild(this.toolbar.element),F.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=W[this.hash].prevElementWidth,this.element.style.height=W[this.hash].prevElementHeight;var Rp=0,Up=function(){F.setPageScroll(Op.pageScroll);var Zp=F.getPageScroll();Rp++,Rp<10&&(Zp.x!==Op.pageScroll.x||Zp.y!==Op.pageScroll.y)&&F.requestAnimationFrame(Up)};F.requestAnimationFrame(Up),W[this.hash].fullPage=!1,F.delegate(this,Df)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:Nf}),this},setFullScreen:function(Nf){var Jf=this;if(!F.supportsFullScreen)return this.setFullPage(Nf);if(F.isFullScreen()===Nf)return this;var ip={fullScreen:Nf,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",ip),ip.preventDefaultAction)return this;if(Nf){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var ap=function(){var Op=F.isFullScreen();Op||(F.removeEvent(document,F.fullScreenEventName,ap),F.removeEvent(document,F.fullScreenErrorEventName,ap),Jf.setFullPage(!1),Jf.isFullPage()&&(Jf.element.style.width=Jf.fullPageStyleWidth,Jf.element.style.height=Jf.fullPageStyleHeight)),Jf.navigator&&Jf.viewport&&setTimeout(function(){Jf.navigator.update(Jf.viewport)}),Jf.raiseEvent("full-screen",{fullScreen:Op})};F.addEvent(document,F.fullScreenEventName,ap),F.addEvent(document,F.fullScreenErrorEventName,ap),F.requestFullScreen(document.body)}else F.exitFullScreen();return this},isVisible:function(){return this.container.style.visibility!="hidden"},setVisible:function(Nf){return this.container.style.visibility=Nf?"":"hidden",this.raiseEvent("visible",{visible:Nf}),this},addTiledImage:function(Nf){F.console.assert(Nf,"[Viewer.addTiledImage] options is required"),F.console.assert(Nf.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),F.console.assert(!Nf.replace||Nf.index>-1&&Nf.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var Jf=this;Nf.replace&&(Nf.replaceItem=Jf.world.getItemAt(Nf.index)),this._hideMessage(),Nf.placeholderFillStyle===void 0&&(Nf.placeholderFillStyle=this.placeholderFillStyle),Nf.opacity===void 0&&(Nf.opacity=this.opacity),Nf.preload===void 0&&(Nf.preload=this.preload),Nf.compositeOperation===void 0&&(Nf.compositeOperation=this.compositeOperation),Nf.crossOriginPolicy===void 0&&(Nf.crossOriginPolicy=Nf.tileSource.crossOriginPolicy!==void 0?Nf.tileSource.crossOriginPolicy:this.crossOriginPolicy),Nf.ajaxWithCredentials===void 0&&(Nf.ajaxWithCredentials=this.ajaxWithCredentials),Nf.loadTilesWithAjax===void 0&&(Nf.loadTilesWithAjax=this.loadTilesWithAjax),Nf.ajaxHeaders===void 0||Nf.ajaxHeaders===null?Nf.ajaxHeaders=this.ajaxHeaders:F.isPlainObject(Nf.ajaxHeaders)&&F.isPlainObject(this.ajaxHeaders)&&(Nf.ajaxHeaders=F.extend({},this.ajaxHeaders,Nf.ajaxHeaders));var ip={options:Nf};function ap(bp){for(var zp=0;zp<Jf._loadQueue.length;zp++)if(Jf._loadQueue[zp]===ip){Jf._loadQueue.splice(zp,1);break}Jf._loadQueue.length===0&&Op(ip),Jf.raiseEvent("add-item-failed",bp),Nf.error&&Nf.error(bp)}function Op(bp){Jf.collectionMode&&(Jf.world.arrange({immediately:bp.options.collectionImmediately,rows:Jf.collectionRows,columns:Jf.collectionColumns,layout:Jf.collectionLayout,tileSize:Jf.collectionTileSize,tileMargin:Jf.collectionTileMargin}),Jf.world.setAutoRefigureSizes(!0))}if(F.isArray(Nf.tileSource)){setTimeout(function(){ap({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:Nf.tileSource,options:Nf})});return}this._loadQueue.push(ip);function Gp(){for(var bp,zp,Rp;Jf._loadQueue.length&&(bp=Jf._loadQueue[0],!!bp.tileSource);){if(Jf._loadQueue.splice(0,1),bp.options.replace){var Up=Jf.world.getIndexOfItem(bp.options.replaceItem);Up!=-1&&(bp.options.index=Up),Jf.world.removeItem(bp.options.replaceItem)}zp=new F.TiledImage({viewer:Jf,source:bp.tileSource,viewport:Jf.viewport,drawer:Jf.drawer,tileCache:Jf.tileCache,imageLoader:Jf.imageLoader,x:bp.options.x,y:bp.options.y,width:bp.options.width,height:bp.options.height,fitBounds:bp.options.fitBounds,fitBoundsPlacement:bp.options.fitBoundsPlacement,clip:bp.options.clip,placeholderFillStyle:bp.options.placeholderFillStyle,opacity:bp.options.opacity,preload:bp.options.preload,degrees:bp.options.degrees,compositeOperation:bp.options.compositeOperation,springStiffness:Jf.springStiffness,animationTime:Jf.animationTime,minZoomImageRatio:Jf.minZoomImageRatio,wrapHorizontal:Jf.wrapHorizontal,wrapVertical:Jf.wrapVertical,immediateRender:Jf.immediateRender,blendTime:Jf.blendTime,alwaysBlend:Jf.alwaysBlend,minPixelRatio:Jf.minPixelRatio,smoothTileEdgesMinZoom:Jf.smoothTileEdgesMinZoom,iOSDevice:Jf.iOSDevice,crossOriginPolicy:bp.options.crossOriginPolicy,ajaxWithCredentials:bp.options.ajaxWithCredentials,loadTilesWithAjax:bp.options.loadTilesWithAjax,ajaxHeaders:bp.options.ajaxHeaders,debugMode:Jf.debugMode}),Jf.collectionMode&&Jf.world.setAutoRefigureSizes(!1),Jf.world.addItem(zp,{index:bp.options.index}),Jf._loadQueue.length===0&&Op(bp),Jf.world.getItemCount()===1&&!Jf.preserveViewport&&Jf.viewport.goHome(!0),Jf.navigator&&(Rp=F.extend({},bp.options,{replace:!1,originalTiledImage:zp,tileSource:bp.tileSource}),Jf.navigator.addTiledImage(Rp)),bp.options.success&&bp.options.success({item:zp})}}tt(this,Nf.tileSource,Nf,function(bp){ip.tileSource=bp,Gp()},function(bp){bp.options=Nf,ap(bp),Gp()})},addSimpleImage:function(Nf){F.console.assert(Nf,"[Viewer.addSimpleImage] options is required"),F.console.assert(Nf.url,"[Viewer.addSimpleImage] options.url is required");var Jf=F.extend({},Nf,{tileSource:{type:"image",url:Nf.url}});delete Jf.url,this.addTiledImage(Jf)},addLayer:function(Nf){var Jf=this;F.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var ip=F.extend({},Nf,{success:function(ap){Jf.raiseEvent("add-layer",{options:Nf,drawer:ap.item})},error:function(ap){Jf.raiseEvent("add-layer-failed",ap)}});return this.addTiledImage(ip),this},getLayerAtLevel:function(Nf){return F.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(Nf)},getLevelOfLayer:function(Nf){return F.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(Nf)},getLayersCount:function(){return F.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(Nf,Jf){return F.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(Nf,Jf)},removeLayer:function(Nf){return F.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(Nf)},forceRedraw:function(){return W[this.hash].forceRedraw=!0,this},bindSequenceControls:function(){var Nf=F.delegate(this,lf),Jf=F.delegate(this,uf),ip=F.delegate(this,up),ap=F.delegate(this,Sp),Op=this.navImages,Gp=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(Gp=!1),this.previousButton=new F.Button({element:this.previousButton?F.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:F.getString("Tooltips.PreviousPage"),srcRest:Ff(this.prefixUrl,Op.previous.REST),srcGroup:Ff(this.prefixUrl,Op.previous.GROUP),srcHover:Ff(this.prefixUrl,Op.previous.HOVER),srcDown:Ff(this.prefixUrl,Op.previous.DOWN),onRelease:ap,onFocus:Nf,onBlur:Jf}),this.nextButton=new F.Button({element:this.nextButton?F.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:F.getString("Tooltips.NextPage"),srcRest:Ff(this.prefixUrl,Op.next.REST),srcGroup:Ff(this.prefixUrl,Op.next.GROUP),srcHover:Ff(this.prefixUrl,Op.next.HOVER),srcDown:Ff(this.prefixUrl,Op.next.DOWN),onRelease:ip,onFocus:Nf,onBlur:Jf}),this.navPrevNextWrap||this.previousButton.disable(),(!this.tileSources||!this.tileSources.length)&&this.nextButton.disable(),Gp&&(this.paging=new F.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:F.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||F.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var Nf=F.delegate(this,Xf),Jf=F.delegate(this,fp),ip=F.delegate(this,Pp),ap=F.delegate(this,mp),Op=F.delegate(this,yp),Gp=F.delegate(this,Cp),bp=F.delegate(this,$p),zp=F.delegate(this,kp),Rp=F.delegate(this,Dp),Up=F.delegate(this,Fp),Zp=F.delegate(this,lf),og=F.delegate(this,uf),Ap=this.navImages,Ip=[],jp=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(jp=!1),this.showZoomControl&&(Ip.push(this.zoomInButton=new F.Button({element:this.zoomInButton?F.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:F.getString("Tooltips.ZoomIn"),srcRest:Ff(this.prefixUrl,Ap.zoomIn.REST),srcGroup:Ff(this.prefixUrl,Ap.zoomIn.GROUP),srcHover:Ff(this.prefixUrl,Ap.zoomIn.HOVER),srcDown:Ff(this.prefixUrl,Ap.zoomIn.DOWN),onPress:Nf,onRelease:Jf,onClick:ip,onEnter:Nf,onExit:Jf,onFocus:Zp,onBlur:og})),Ip.push(this.zoomOutButton=new F.Button({element:this.zoomOutButton?F.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:F.getString("Tooltips.ZoomOut"),srcRest:Ff(this.prefixUrl,Ap.zoomOut.REST),srcGroup:Ff(this.prefixUrl,Ap.zoomOut.GROUP),srcHover:Ff(this.prefixUrl,Ap.zoomOut.HOVER),srcDown:Ff(this.prefixUrl,Ap.zoomOut.DOWN),onPress:ap,onRelease:Jf,onClick:Op,onEnter:ap,onExit:Jf,onFocus:Zp,onBlur:og}))),this.showHomeControl&&Ip.push(this.homeButton=new F.Button({element:this.homeButton?F.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:F.getString("Tooltips.Home"),srcRest:Ff(this.prefixUrl,Ap.home.REST),srcGroup:Ff(this.prefixUrl,Ap.home.GROUP),srcHover:Ff(this.prefixUrl,Ap.home.HOVER),srcDown:Ff(this.prefixUrl,Ap.home.DOWN),onRelease:Gp,onFocus:Zp,onBlur:og})),this.showFullPageControl&&Ip.push(this.fullPageButton=new F.Button({element:this.fullPageButton?F.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:F.getString("Tooltips.FullPage"),srcRest:Ff(this.prefixUrl,Ap.fullpage.REST),srcGroup:Ff(this.prefixUrl,Ap.fullpage.GROUP),srcHover:Ff(this.prefixUrl,Ap.fullpage.HOVER),srcDown:Ff(this.prefixUrl,Ap.fullpage.DOWN),onRelease:bp,onFocus:Zp,onBlur:og})),this.showRotationControl&&(Ip.push(this.rotateLeftButton=new F.Button({element:this.rotateLeftButton?F.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:F.getString("Tooltips.RotateLeft"),srcRest:Ff(this.prefixUrl,Ap.rotateleft.REST),srcGroup:Ff(this.prefixUrl,Ap.rotateleft.GROUP),srcHover:Ff(this.prefixUrl,Ap.rotateleft.HOVER),srcDown:Ff(this.prefixUrl,Ap.rotateleft.DOWN),onRelease:zp,onFocus:Zp,onBlur:og})),Ip.push(this.rotateRightButton=new F.Button({element:this.rotateRightButton?F.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:F.getString("Tooltips.RotateRight"),srcRest:Ff(this.prefixUrl,Ap.rotateright.REST),srcGroup:Ff(this.prefixUrl,Ap.rotateright.GROUP),srcHover:Ff(this.prefixUrl,Ap.rotateright.HOVER),srcDown:Ff(this.prefixUrl,Ap.rotateright.DOWN),onRelease:Rp,onFocus:Zp,onBlur:og}))),this.showFlipControl&&Ip.push(this.flipButton=new F.Button({element:this.flipButton?F.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:F.getString("Tooltips.Flip"),srcRest:Ff(this.prefixUrl,Ap.flip.REST),srcGroup:Ff(this.prefixUrl,Ap.flip.GROUP),srcHover:Ff(this.prefixUrl,Ap.flip.HOVER),srcDown:Ff(this.prefixUrl,Ap.flip.DOWN),onRelease:Up,onFocus:Zp,onBlur:og})),jp&&(this.buttons=new F.ButtonGroup({buttons:Ip,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttons.element,this.addHandler("open",F.delegate(this,Ep)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||F.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||F.ControlAnchor.TOP_LEFT}))),this},currentPage:function(){return this._sequenceIndex},goToPage:function(Nf){return this.tileSources&&Nf>=0&&Nf<this.tileSources.length&&(this._sequenceIndex=Nf,this._updateSequenceButtons(Nf),this.open(this.tileSources[Nf]),this.referenceStrip&&this.referenceStrip.setFocus(Nf),this.raiseEvent("page",{page:Nf})),this},addOverlay:function(Nf,Jf,ip,ap){var Op;if(F.isPlainObject(Nf)?Op=Nf:Op={element:Nf,location:Jf,placement:ip,onDraw:ap},Nf=F.getElement(Op.element),at(this.currentOverlays,Nf)>=0)return this;var Gp=ot(this,Op);return this.currentOverlays.push(Gp),Gp.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:Nf,location:Op.location,placement:Op.placement}),this},updateOverlay:function(Nf,Jf,ip){var ap;return Nf=F.getElement(Nf),ap=at(this.currentOverlays,Nf),ap>=0&&(this.currentOverlays[ap].update(Jf,ip),W[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:Nf,location:Jf,placement:ip})),this},removeOverlay:function(Nf){var Jf;return Nf=F.getElement(Nf),Jf=at(this.currentOverlays,Nf),Jf>=0&&(this.currentOverlays[Jf].destroy(),this.currentOverlays.splice(Jf,1),W[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:Nf})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return W[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(Nf){var Jf;return Nf=F.getElement(Nf),Jf=at(this.currentOverlays,Nf),Jf>=0?this.currentOverlays[Jf]:null},_updateSequenceButtons:function(Nf){this.nextButton&&(!this.tileSources||this.tileSources.length-1===Nf?this.navPrevNextWrap||this.nextButton.disable():this.nextButton.enable()),this.previousButton&&(Nf>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(Nf){this._hideMessage();var Jf=F.makeNeutralElement("div");Jf.appendChild(document.createTextNode(Nf)),this.messageDiv=F.makeCenteredNode(Jf),F.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var Nf=this.messageDiv;Nf&&(Nf.parentNode.removeChild(Nf),delete this.messageDiv)},gestureSettingsByDeviceType:function(Nf){switch(Nf){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var Nf,Jf=this.currentOverlays.length;for(Nf=0;Nf<Jf;Nf++)this.currentOverlays[Nf].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new F.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,useCanvas:this.useCanvas,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else F.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')}});function X(Nf){return Nf=F.getElement(Nf),new F.Point(Nf.clientWidth===0?1:Nf.clientWidth,Nf.clientHeight===0?1:Nf.clientHeight)}function tt(Nf,Jf,ip,ap,Op){var Gp=Nf;if(F.type(Jf)=="string"){if(Jf.match(/^\s*<.*>\s*$/))Jf=F.parseXml(Jf);else if(Jf.match(/^\s*[\{\[].*[\}\]]\s*$/))try{var bp=F.parseJSON(Jf);Jf=bp}catch{}}function zp(Rp,Up){Rp.ready?ap(Rp):(Rp.addHandler("ready",function(){ap(Rp)}),Rp.addHandler("open-failed",function(Zp){Op({message:Zp.message,source:Up})}))}setTimeout(function(){if(F.type(Jf)=="string")Jf=new F.TileSource({url:Jf,crossOriginPolicy:ip.crossOriginPolicy!==void 0?ip.crossOriginPolicy:Nf.crossOriginPolicy,ajaxWithCredentials:Nf.ajaxWithCredentials,ajaxHeaders:Nf.ajaxHeaders,useCanvas:Nf.useCanvas,success:function(og){ap(og.tileSource)}}),Jf.addHandler("open-failed",function(og){Op(og)});else if(F.isPlainObject(Jf)||Jf.nodeType)if(Jf.crossOriginPolicy===void 0&&(ip.crossOriginPolicy!==void 0||Nf.crossOriginPolicy!==void 0)&&(Jf.crossOriginPolicy=ip.crossOriginPolicy!==void 0?ip.crossOriginPolicy:Nf.crossOriginPolicy),Jf.ajaxWithCredentials===void 0&&(Jf.ajaxWithCredentials=Nf.ajaxWithCredentials),Jf.useCanvas===void 0&&(Jf.useCanvas=Nf.useCanvas),F.isFunction(Jf.getTileUrl)){var Rp=new F.TileSource(Jf);Rp.getTileUrl=Jf.getTileUrl,ap(Rp)}else{var Up=F.TileSource.determineType(Gp,Jf);if(!Up){Op({message:"Unable to load TileSource",source:Jf});return}var Zp=Up.prototype.configure.apply(Gp,[Jf]);zp(new Up(Zp),Jf)}else zp(Jf,Jf)})}function ot(Nf,Jf){if(Jf instanceof F.Overlay)return Jf;var ip=null;if(Jf.element)ip=F.getElement(Jf.element);else{var ap=Jf.id?Jf.id:"openseadragon-overlay-"+Math.floor(Math.random()*1e7);ip=F.getElement(Jf.id),ip||(ip=document.createElement("a"),ip.href="#/overlay/"+ap),ip.id=ap,F.addClass(ip,Jf.className?Jf.className:"openseadragon-overlay")}var Op=Jf.location,Gp=Jf.width,bp=Jf.height;if(!Op){var zp=Jf.x,Rp=Jf.y;if(Jf.px!==void 0){var Up=Nf.viewport.imageToViewportRectangle(new F.Rect(Jf.px,Jf.py,Gp||0,bp||0));zp=Up.x,Rp=Up.y,Gp=Gp!==void 0?Up.width:void 0,bp=bp!==void 0?Up.height:void 0}Op=new F.Point(zp,Rp)}var Zp=Jf.placement;return Zp&&F.type(Zp)==="string"&&(Zp=F.Placement[Jf.placement.toUpperCase()]),new F.Overlay({element:ip,location:Op,placement:Zp,onDraw:Jf.onDraw,checkResize:Jf.checkResize,width:Gp,height:bp,rotationMode:Jf.rotationMode})}function at(Nf,Jf){var ip;for(ip=Nf.length-1;ip>=0;ip--)if(Nf[ip].element===Jf)return ip;return-1}function ut(Nf,Jf){return F.requestAnimationFrame(function(){Jf(Nf)})}function wt(Nf){F.requestAnimationFrame(function(){mo(Nf)})}function uo(Nf){Nf.autoHideControls&&(Nf.controlsShouldFade=!0,Nf.controlsFadeBeginTime=F.now()+Nf.controlsFadeDelay,window.setTimeout(function(){wt(Nf)},Nf.controlsFadeDelay))}function mo(Nf){var Jf,ip,ap,Op;if(Nf.controlsShouldFade){for(Jf=F.now(),ip=Jf-Nf.controlsFadeBeginTime,ap=1-ip/Nf.controlsFadeLength,ap=Math.min(1,ap),ap=Math.max(0,ap),Op=Nf.controls.length-1;Op>=0;Op--)Nf.controls[Op].autoFade&&Nf.controls[Op].setOpacity(ap);ap>0&&wt(Nf)}}function yo(Nf){var Jf;for(Nf.controlsShouldFade=!1,Jf=Nf.controls.length-1;Jf>=0;Jf--)Nf.controls[Jf].setOpacity(1)}function lf(){yo(this)}function uf(){uo(this)}function df(Nf){var Jf={originalEvent:Nf.originalEvent,preventDefaultAction:Nf.preventDefaultAction,preventVerticalPan:Nf.preventVerticalPan,preventHorizontalPan:Nf.preventHorizontalPan};if(this.raiseEvent("canvas-key",Jf),!Jf.preventDefaultAction&&!Nf.ctrl&&!Nf.alt&&!Nf.meta)switch(Nf.keyCode){case 38:return Jf.preventVerticalPan||(Nf.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new F.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),!1;case 40:return Jf.preventVerticalPan||(Nf.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new F.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),!1;case 37:return Jf.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new F.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),!1;case 39:return Jf.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new F.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),!1;default:return!0}else return!0}function wf(Nf){var Jf={originalEvent:Nf.originalEvent,preventDefaultAction:Nf.preventDefaultAction,preventVerticalPan:Nf.preventVerticalPan,preventHorizontalPan:Nf.preventHorizontalPan};if(this.raiseEvent("canvas-key",Jf),!Jf.preventDefaultAction&&!Nf.ctrl&&!Nf.alt&&!Nf.meta)switch(Nf.keyCode){case 43:case 61:return this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),!1;case 45:return this.viewport.zoomBy(.9),this.viewport.applyConstraints(),!1;case 48:return this.viewport.goHome(),this.viewport.applyConstraints(),!1;case 119:case 87:return Jf.preventVerticalPan||(Nf.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new F.Point(0,-40))),this.viewport.applyConstraints()),!1;case 115:case 83:return Jf.preventVerticalPan||(Nf.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new F.Point(0,40))),this.viewport.applyConstraints()),!1;case 97:return Jf.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new F.Point(-40,0))),this.viewport.applyConstraints()),!1;case 100:return Jf.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new F.Point(40,0))),this.viewport.applyConstraints()),!1;case 114:return this.viewport.flipped?this.viewport.setRotation(F.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)):this.viewport.setRotation(F.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)),this.viewport.applyConstraints(),!1;case 82:return this.viewport.flipped?this.viewport.setRotation(F.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)):this.viewport.setRotation(F.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)),this.viewport.applyConstraints(),!1;case 102:return this.viewport.toggleFlip(),!1;default:return!0}else return!0}function wo(Nf){var Jf,ip=document.activeElement==this.canvas;ip||this.canvas.focus(),this.viewport.flipped&&(Nf.position.x=this.viewport.getContainerSize().x-Nf.position.x);var ap={tracker:Nf.eventSource,position:Nf.position,quick:Nf.quick,shift:Nf.shift,originalEvent:Nf.originalEvent,preventDefaultAction:Nf.preventDefaultAction};this.raiseEvent("canvas-click",ap),!ap.preventDefaultAction&&this.viewport&&Nf.quick&&(Jf=this.gestureSettingsByDeviceType(Nf.pointerType),Jf.clickToZoom&&(this.viewport.zoomBy(Nf.shift?1/this.zoomPerClick:this.zoomPerClick,Jf.zoomToRefPoint?this.viewport.pointFromPixel(Nf.position,!0):null),this.viewport.applyConstraints()))}function ls(Nf){var Jf,ip={tracker:Nf.eventSource,position:Nf.position,shift:Nf.shift,originalEvent:Nf.originalEvent,preventDefaultAction:Nf.preventDefaultAction};this.raiseEvent("canvas-double-click",ip),!ip.preventDefaultAction&&this.viewport&&(Jf=this.gestureSettingsByDeviceType(Nf.pointerType),Jf.dblClickToZoom&&(this.viewport.zoomBy(Nf.shift?1/this.zoomPerClick:this.zoomPerClick,Jf.zoomToRefPoint?this.viewport.pointFromPixel(Nf.position,!0):null),this.viewport.applyConstraints()))}function _f(Nf){var Jf,ip={tracker:Nf.eventSource,position:Nf.position,delta:Nf.delta,speed:Nf.speed,direction:Nf.direction,shift:Nf.shift,originalEvent:Nf.originalEvent,preventDefaultAction:Nf.preventDefaultAction};if(this.raiseEvent("canvas-drag",ip),!ip.preventDefaultAction&&this.viewport){if(Jf=this.gestureSettingsByDeviceType(Nf.pointerType),this.panHorizontal||(Nf.delta.x=0),this.panVertical||(Nf.delta.y=0),this.viewport.flipped&&(Nf.delta.x=-Nf.delta.x),this.constrainDuringPan){var ap=this.viewport.deltaPointsFromPixels(Nf.delta.negate());this.viewport.centerSpringX.target.value+=ap.x,this.viewport.centerSpringY.target.value+=ap.y;var Op=this.viewport.getBounds(),Gp=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=ap.x,this.viewport.centerSpringY.target.value-=ap.y,Op.x!=Gp.x&&(Nf.delta.x=0),Op.y!=Gp.y&&(Nf.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(Nf.delta.negate()),Jf.flickEnabled&&!this.constrainDuringPan)}}function po(Nf){if(!Nf.preventDefaultAction&&this.viewport){var Jf=this.gestureSettingsByDeviceType(Nf.pointerType);if(Jf.flickEnabled&&Nf.speed>=Jf.flickMinSpeed){var ip=0;this.panHorizontal&&(ip=Jf.flickMomentum*Nf.speed*Math.cos(Nf.direction));var ap=0;this.panVertical&&(ap=Jf.flickMomentum*Nf.speed*Math.sin(Nf.direction));var Op=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),Gp=this.viewport.pointFromPixel(new F.Point(Op.x-ip,Op.y-ap));this.viewport.panTo(Gp,!1)}this.viewport.applyConstraints()}this.raiseEvent("canvas-drag-end",{tracker:Nf.eventSource,position:Nf.position,speed:Nf.speed,direction:Nf.direction,shift:Nf.shift,originalEvent:Nf.originalEvent})}function xo(Nf){this.raiseEvent("canvas-enter",{tracker:Nf.eventSource,pointerType:Nf.pointerType,position:Nf.position,buttons:Nf.buttons,pointers:Nf.pointers,insideElementPressed:Nf.insideElementPressed,buttonDownAny:Nf.buttonDownAny,originalEvent:Nf.originalEvent})}function gf(Nf){window.location!=window.parent.location&&F.MouseTracker.resetAllMouseTrackers(),this.raiseEvent("canvas-exit",{tracker:Nf.eventSource,pointerType:Nf.pointerType,position:Nf.position,buttons:Nf.buttons,pointers:Nf.pointers,insideElementPressed:Nf.insideElementPressed,buttonDownAny:Nf.buttonDownAny,originalEvent:Nf.originalEvent})}function cf(Nf){this.raiseEvent("canvas-press",{tracker:Nf.eventSource,pointerType:Nf.pointerType,position:Nf.position,insideElementPressed:Nf.insideElementPressed,insideElementReleased:Nf.insideElementReleased,originalEvent:Nf.originalEvent})}function yf(Nf){this.raiseEvent("canvas-release",{tracker:Nf.eventSource,pointerType:Nf.pointerType,position:Nf.position,insideElementPressed:Nf.insideElementPressed,insideElementReleased:Nf.insideElementReleased,originalEvent:Nf.originalEvent})}function Sf(Nf){this.raiseEvent("canvas-nonprimary-press",{tracker:Nf.eventSource,position:Nf.position,pointerType:Nf.pointerType,button:Nf.button,buttons:Nf.buttons,originalEvent:Nf.originalEvent})}function xf(Nf){this.raiseEvent("canvas-nonprimary-release",{tracker:Nf.eventSource,position:Nf.position,pointerType:Nf.pointerType,button:Nf.button,buttons:Nf.buttons,originalEvent:Nf.originalEvent})}function bf(Nf){var Jf,ip,ap,Op;if(!Nf.preventDefaultAction&&this.viewport&&(Jf=this.gestureSettingsByDeviceType(Nf.pointerType),Jf.pinchToZoom&&(ip=this.viewport.pointFromPixel(Nf.center,!0),ap=this.viewport.pointFromPixel(Nf.lastCenter,!0),Op=ap.minus(ip),this.panHorizontal||(Op.x=0),this.panVertical||(Op.y=0),this.viewport.zoomBy(Nf.distance/Nf.lastDistance,ip,!0),Jf.zoomToRefPoint&&this.viewport.panBy(Op,!0),this.viewport.applyConstraints()),Jf.pinchRotate)){var Gp=Math.atan2(Nf.gesturePoints[0].currentPos.y-Nf.gesturePoints[1].currentPos.y,Nf.gesturePoints[0].currentPos.x-Nf.gesturePoints[1].currentPos.x),bp=Math.atan2(Nf.gesturePoints[0].lastPos.y-Nf.gesturePoints[1].lastPos.y,Nf.gesturePoints[0].lastPos.x-Nf.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(Gp-bp)*(180/Math.PI))}return this.raiseEvent("canvas-pinch",{tracker:Nf.eventSource,gesturePoints:Nf.gesturePoints,lastCenter:Nf.lastCenter,center:Nf.center,lastDistance:Nf.lastDistance,distance:Nf.distance,shift:Nf.shift,originalEvent:Nf.originalEvent}),!1}function Af(Nf){var Jf,ip,ap,Op;if(ap=F.now(),Op=ap-this._lastScrollTime,Op>this.minScrollDeltaTime){if(this._lastScrollTime=ap,this.viewport.flipped&&(Nf.position.x=this.viewport.getContainerSize().x-Nf.position.x),!Nf.preventDefaultAction&&this.viewport&&(Jf=this.gestureSettingsByDeviceType(Nf.pointerType),Jf.scrollToZoom&&(ip=Math.pow(this.zoomPerScroll,Nf.scroll),this.viewport.zoomBy(ip,Jf.zoomToRefPoint?this.viewport.pointFromPixel(Nf.position,!0):null),this.viewport.applyConstraints())),this.raiseEvent("canvas-scroll",{tracker:Nf.eventSource,position:Nf.position,scroll:Nf.scroll,shift:Nf.shift,originalEvent:Nf.originalEvent}),Jf&&Jf.scrollToZoom)return!1}else if(Jf=this.gestureSettingsByDeviceType(Nf.pointerType),Jf&&Jf.scrollToZoom)return!1}function Pf(Nf){W[this.hash].mouseInside=!0,yo(this),this.raiseEvent("container-enter",{tracker:Nf.eventSource,position:Nf.position,buttons:Nf.buttons,pointers:Nf.pointers,insideElementPressed:Nf.insideElementPressed,buttonDownAny:Nf.buttonDownAny,originalEvent:Nf.originalEvent})}function Df(Nf){Nf.pointers<1&&(W[this.hash].mouseInside=!1,W[this.hash].animating||uo(this)),this.raiseEvent("container-exit",{tracker:Nf.eventSource,position:Nf.position,buttons:Nf.buttons,pointers:Nf.pointers,insideElementPressed:Nf.insideElementPressed,buttonDownAny:Nf.buttonDownAny,originalEvent:Nf.originalEvent})}function zf(Nf){jf(Nf),Nf.isOpen()?Nf._updateRequestId=ut(Nf,zf):Nf._updateRequestId=!1}function jf(Nf){if(!Nf._opening){if(Nf.autoResize){var Jf=X(Nf.container),ip=W[Nf.hash].prevContainerSize;if(!Jf.equals(ip)){var ap=Nf.viewport;if(Nf.preserveImageSizeOnResize){var Op=ip.x/Jf.x,Gp=ap.getZoom()*Op,bp=ap.getCenter();ap.resize(Jf,!1),ap.zoomTo(Gp,null,!0),ap.panTo(bp,!0)}else{var zp=ap.getBounds();ap.resize(Jf,!0),ap.fitBoundsWithConstraints(zp,!0)}W[Nf.hash].prevContainerSize=Jf,W[Nf.hash].forceRedraw=!0}}var Rp=Nf.viewport.update(),Up=Nf.world.update()||Rp;Rp&&Nf.raiseEvent("viewport-change"),Nf.referenceStrip&&(Up=Nf.referenceStrip.update(Nf.viewport)||Up),!W[Nf.hash].animating&&Up&&(Nf.raiseEvent("animation-start"),yo(Nf)),(Up||W[Nf.hash].forceRedraw||Nf.world.needsDraw())&&($f(Nf),Nf._drawOverlays(),Nf.navigator&&Nf.navigator.update(Nf.viewport),W[Nf.hash].forceRedraw=!1,Up&&Nf.raiseEvent("animation")),W[Nf.hash].animating&&!Up&&(Nf.raiseEvent("animation-finish"),W[Nf.hash].mouseInside||uo(Nf)),W[Nf.hash].animating=Up}}function $f(Nf){Nf.imageLoader.clear(),Nf.drawer.clear(),Nf.world.draw(),Nf.raiseEvent("update-viewport",{})}function Ff(Nf,Jf){return Nf?Nf+Jf:Jf}function Xf(){W[this.hash].lastZoomTime=F.now(),W[this.hash].zoomFactor=this.zoomPerSecond,W[this.hash].zooming=!0,Mp(this)}function mp(){W[this.hash].lastZoomTime=F.now(),W[this.hash].zoomFactor=1/this.zoomPerSecond,W[this.hash].zooming=!0,Mp(this)}function fp(){W[this.hash].zooming=!1}function Mp(Nf){F.requestAnimationFrame(F.delegate(Nf,Np))}function Np(){var Nf,Jf,ip;W[this.hash].zooming&&this.viewport&&(Nf=F.now(),Jf=Nf-W[this.hash].lastZoomTime,ip=Math.pow(W[this.hash].zoomFactor,Jf/1e3),this.viewport.zoomBy(ip),this.viewport.applyConstraints(),W[this.hash].lastZoomTime=Nf,Mp(this))}function Pp(){this.viewport&&(W[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function yp(){this.viewport&&(W[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function Ep(){this.buttons.emulateEnter(),this.buttons.emulateExit()}function Cp(){this.viewport&&this.viewport.goHome()}function $p(){this.isFullPage()&&!F.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttons&&this.buttons.emulateExit(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function kp(){if(this.viewport){var Nf=this.viewport.getRotation();this.viewport.flipped?Nf=F.positiveModulo(Nf+this.rotationIncrement,360):Nf=F.positiveModulo(Nf-this.rotationIncrement,360),this.viewport.setRotation(Nf)}}function Dp(){if(this.viewport){var Nf=this.viewport.getRotation();this.viewport.flipped?Nf=F.positiveModulo(Nf-this.rotationIncrement,360):Nf=F.positiveModulo(Nf+this.rotationIncrement,360),this.viewport.setRotation(Nf)}}function Fp(){this.viewport.toggleFlip()}function Sp(){var Nf=this._sequenceIndex-1;this.navPrevNextWrap&&Nf<0&&(Nf+=this.tileSources.length),this.goToPage(Nf)}function up(){var Nf=this._sequenceIndex+1;this.navPrevNextWrap&&Nf>=this.tileSources.length&&(Nf=0),this.goToPage(Nf)}}(OpenSeadragon),function(F){F.Navigator=function(ut){var wt=ut.viewer,uo=this,mo,yo;ut.id?(this.element=document.getElementById(ut.id),ut.controlOptions={anchor:F.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(ut.id="navigator-"+F.now(),this.element=F.makeNeutralElement("div"),ut.controlOptions={anchor:F.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:ut.autoFade},ut.position&&(ut.position=="BOTTOM_RIGHT"?ut.controlOptions.anchor=F.ControlAnchor.BOTTOM_RIGHT:ut.position=="BOTTOM_LEFT"?ut.controlOptions.anchor=F.ControlAnchor.BOTTOM_LEFT:ut.position=="TOP_RIGHT"?ut.controlOptions.anchor=F.ControlAnchor.TOP_RIGHT:ut.position=="TOP_LEFT"?ut.controlOptions.anchor=F.ControlAnchor.TOP_LEFT:ut.position=="ABSOLUTE"&&(ut.controlOptions.anchor=F.ControlAnchor.ABSOLUTE,ut.controlOptions.top=ut.top,ut.controlOptions.left=ut.left,ut.controlOptions.height=ut.height,ut.controlOptions.width=ut.width))),this.element.id=ut.id,this.element.className+=" navigator",ut=F.extend(!0,{sizeRatio:F.DEFAULT_SETTINGS.navigatorSizeRatio},ut,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,autoResize:ut.autoResize,minZoomImageRatio:1,background:ut.background,opacity:ut.opacity,borderColor:ut.borderColor,displayRegionColor:ut.displayRegionColor}),ut.minPixelRatio=this.minPixelRatio=wt.minPixelRatio,F.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new F.Point(1,1),this.totalBorderWidths=new F.Point(this.borderWidth*2,this.borderWidth*2).minus(this.fudge),ut.controlOptions.anchor!=F.ControlAnchor.NONE&&function(df,wf){df.margin="0px",df.border=wf+"px solid "+ut.borderColor,df.padding="0px",df.background=ut.background,df.opacity=ut.opacity,df.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=F.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(df,wf){df.position="relative",df.top="0px",df.left="0px",df.fontSize="0px",df.overflow="hidden",df.border=wf+"px solid "+ut.displayRegionColor,df.margin="0px",df.padding="0px",df.background="transparent",df.float="left",df.cssFloat="left",df.styleFloat="left",df.zIndex=999999999,df.cursor="default"}(this.displayRegion.style,this.borderWidth),this.displayRegionContainer=F.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",wt.addControl(this.element,ut.controlOptions),this._resizeWithViewer=ut.controlOptions.anchor!=F.ControlAnchor.ABSOLUTE&&ut.controlOptions.anchor!=F.ControlAnchor.NONE,ut.width&&ut.height?(this.setWidth(ut.width),this.setHeight(ut.height)):this._resizeWithViewer&&(mo=F.getElementSize(wt.element),this.element.style.height=Math.round(mo.y*ut.sizeRatio)+"px",this.element.style.width=Math.round(mo.x*ut.sizeRatio)+"px",this.oldViewerSize=mo,yo=F.getElementSize(this.element),this.elementArea=yo.x*yo.y),this.oldContainerSize=new F.Point(0,0),F.Viewer.apply(this,[ut]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer);function lf(df){ot(uo.displayRegionContainer,df),ot(uo.displayRegion,-df),uo.viewport.setRotation(df)}if(ut.navigatorRotate){var uf=ut.viewer.viewport?ut.viewer.viewport.getRotation():ut.viewer.degrees||0;lf(uf),ut.viewer.addHandler("rotate",function(df){lf(df.degrees)})}this.innerTracker.destroy(),this.innerTracker=new F.MouseTracker({element:this.element,dragHandler:F.delegate(this,q),clickHandler:F.delegate(this,W),releaseHandler:F.delegate(this,X),scrollHandler:F.delegate(this,tt)}),this.addHandler("reset-size",function(){uo.viewport&&uo.viewport.goHome(!0)}),wt.world.addHandler("item-index-change",function(df){window.setTimeout(function(){var wf=uo.world.getItemAt(df.previousIndex);uo.world.setItemIndex(wf,df.newIndex)},1)}),wt.world.addHandler("remove-item",function(df){var wf=df.item,wo=uo._getMatchingItem(wf);wo&&uo.world.removeItem(wo)}),this.update(wt.viewport)},F.extend(F.Navigator.prototype,F.EventSource.prototype,F.Viewer.prototype,{updateSize:function(){if(this.viewport){var ut=new F.Point(this.container.clientWidth===0?1:this.container.clientWidth,this.container.clientHeight===0?1:this.container.clientHeight);ut.equals(this.oldContainerSize)||(this.viewport.resize(ut,!0),this.viewport.goHome(!0),this.oldContainerSize=ut,this.drawer.clear(),this.world.draw())}},setWidth:function(ut){this.width=ut,this.element.style.width=typeof ut=="number"?ut+"px":ut,this._resizeWithViewer=!1},setHeight:function(ut){this.height=ut,this.element.style.height=typeof ut=="number"?ut+"px":ut,this._resizeWithViewer=!1},setFlip:function(ut){return this.viewport.setFlip(ut),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(ut){at(this.displayRegion,ut),at(this.canvas,ut),at(this.element,ut)},update:function(ut){var wt,uo,mo,yo,lf,uf;if(wt=F.getElementSize(this.viewer.element),this._resizeWithViewer&&wt.x&&wt.y&&!wt.equals(this.oldViewerSize)&&(this.oldViewerSize=wt,this.maintainSizeRatio||!this.elementArea?(uo=wt.x*this.sizeRatio,mo=wt.y*this.sizeRatio):(uo=Math.sqrt(this.elementArea*(wt.x/wt.y)),mo=this.elementArea/uo),this.element.style.width=Math.round(uo)+"px",this.element.style.height=Math.round(mo)+"px",this.elementArea||(this.elementArea=uo*mo),this.updateSize()),ut&&this.viewport){yo=ut.getBoundsNoRotate(!0),lf=this.viewport.pixelFromPointNoRotate(yo.getTopLeft(),!1),uf=this.viewport.pixelFromPointNoRotate(yo.getBottomRight(),!1).minus(this.totalBorderWidths);var df=this.displayRegion.style;df.display=this.world.getItemCount()?"block":"none",df.top=Math.round(lf.y)+"px",df.left=Math.round(lf.x)+"px";var wf=Math.abs(lf.x-uf.x),wo=Math.abs(lf.y-uf.y);df.width=Math.round(Math.max(wf,0))+"px",df.height=Math.round(Math.max(wo,0))+"px"}},addTiledImage:function(ut){var wt=this,uo=ut.originalTiledImage;delete ut.original;var mo=F.extend({},ut,{success:function(yo){var lf=yo.item;lf._originalForNavigator=uo,wt._matchBounds(lf,uo,!0);function uf(){wt._matchBounds(lf,uo)}function df(){wt._matchOpacity(lf,uo)}function wf(){wt._matchCompositeOperation(lf,uo)}uo.addHandler("bounds-change",uf),uo.addHandler("clip-change",uf),uo.addHandler("opacity-change",df),uo.addHandler("composite-operation-change",wf)}});return F.Viewer.prototype.addTiledImage.apply(this,[mo])},_getMatchingItem:function(ut){for(var wt=this.world.getItemCount(),uo,mo=0;mo<wt;mo++)if(uo=this.world.getItemAt(mo),uo._originalForNavigator===ut)return uo;return null},_matchBounds:function(ut,wt,uo){var mo=wt.getBoundsNoRotate();ut.setPosition(mo.getTopLeft(),uo),ut.setWidth(mo.width,uo),ut.setRotation(wt.getRotation(),uo),ut.setClip(wt.getClip())},_matchOpacity:function(ut,wt){ut.setOpacity(wt.opacity)},_matchCompositeOperation:function(ut,wt){ut.setCompositeOperation(wt.compositeOperation)}});function W(ut){var wt={tracker:ut.eventSource,position:ut.position,quick:ut.quick,shift:ut.shift,originalEvent:ut.originalEvent,preventDefaultAction:ut.preventDefaultAction};if(this.viewer.raiseEvent("navigator-click",wt),!wt.preventDefaultAction&&ut.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(ut.position.x=this.viewport.getContainerSize().x-ut.position.x);var uo=this.viewport.pointFromPixel(ut.position);this.panVertical?this.panHorizontal||(uo.x=this.viewer.viewport.getCenter(!0).x):uo.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(uo),this.viewer.viewport.applyConstraints()}}function q(ut){var wt={tracker:ut.eventSource,position:ut.position,delta:ut.delta,speed:ut.speed,direction:ut.direction,shift:ut.shift,originalEvent:ut.originalEvent,preventDefaultAction:ut.preventDefaultAction};this.viewer.raiseEvent("navigator-drag",wt),!wt.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(ut.delta.x=0),this.panVertical||(ut.delta.y=0),this.viewer.viewport.flipped&&(ut.delta.x=-ut.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(ut.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function X(ut){ut.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function tt(ut){return this.viewer.raiseEvent("navigator-scroll",{tracker:ut.eventSource,position:ut.position,scroll:ut.scroll,shift:ut.shift,originalEvent:ut.originalEvent}),!1}function ot(ut,wt){at(ut,"rotate("+wt+"deg)")}function at(ut,wt){ut.style.webkitTransform=wt,ut.style.mozTransform=wt,ut.style.msTransform=wt,ut.style.oTransform=wt,ut.style.transform=wt}}(OpenSeadragon),function(F){var W={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};F.extend(F,{getString:function(q){var X=q.split("."),tt=null,ot=arguments,at=W,ut;for(ut=0;ut<X.length-1;ut++)at=at[X[ut]]||{};return tt=at[X[ut]],typeof tt!="string"&&(F.console.log("Untranslated source string:",q),tt=""),tt.replace(/\{\d+\}/g,function(wt){var uo=parseInt(wt.match(/\d+/),10)+1;return uo<ot.length?ot[uo]:""})},setString:function(q,X){var tt=q.split("."),ot=W,at;for(at=0;at<tt.length-1;at++)ot[tt[at]]||(ot[tt[at]]={}),ot=ot[tt[at]];ot[tt[at]]=X}})}(OpenSeadragon),function(F){F.Point=function(W,q){this.x=typeof W=="number"?W:0,this.y=typeof q=="number"?q:0},F.Point.prototype={clone:function(){return new F.Point(this.x,this.y)},plus:function(W){return new F.Point(this.x+W.x,this.y+W.y)},minus:function(W){return new F.Point(this.x-W.x,this.y-W.y)},times:function(W){return new F.Point(this.x*W,this.y*W)},divide:function(W){return new F.Point(this.x/W,this.y/W)},negate:function(){return new F.Point(-this.x,-this.y)},distanceTo:function(W){return Math.sqrt(Math.pow(this.x-W.x,2)+Math.pow(this.y-W.y,2))},squaredDistanceTo:function(W){return Math.pow(this.x-W.x,2)+Math.pow(this.y-W.y,2)},apply:function(W){return new F.Point(W(this.x),W(this.y))},equals:function(W){return W instanceof F.Point&&this.x===W.x&&this.y===W.y},rotate:function(W,q){q=q||new F.Point(0,0);var X,tt;if(W%90===0){var ot=F.positiveModulo(W,360);switch(ot){case 0:X=1,tt=0;break;case 90:X=0,tt=1;break;case 180:X=-1,tt=0;break;case 270:X=0,tt=-1;break}}else{var at=W*Math.PI/180;X=Math.cos(at),tt=Math.sin(at)}var ut=X*(this.x-q.x)-tt*(this.y-q.y)+q.x,wt=tt*(this.x-q.x)+X*(this.y-q.y)+q.y;return new F.Point(ut,wt)},toString:function(){return"("+Math.round(this.x*100)/100+","+Math.round(this.y*100)/100+")"}}}(OpenSeadragon),function(F){F.TileSource=function(q,X,tt,ot,at,ut){var wt=this,uo=arguments,mo,yo;if(F.isPlainObject(q)?mo=q:mo={width:uo[0],height:uo[1],tileSize:uo[2],tileOverlap:uo[3],minLevel:uo[4],maxLevel:uo[5]},F.EventSource.call(this),F.extend(!0,this,mo),!this.success){for(yo=0;yo<arguments.length;yo++)if(F.isFunction(arguments[yo])){this.success=arguments[yo];break}}this.success&&this.addHandler("ready",function(lf){wt.success(lf)}),F.type(arguments[0])=="string"&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new F.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=mo.width&&mo.height?mo.width/mo.height:1,this.dimensions=new F.Point(mo.width,mo.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=mo.tileOverlap?mo.tileOverlap:0,this.minLevel=mo.minLevel?mo.minLevel:0,this.maxLevel=mo.maxLevel!==void 0&&mo.maxLevel!==null?mo.maxLevel:mo.width&&mo.height?Math.ceil(Math.log(Math.max(mo.width,mo.height))/Math.log(2)):0,this.success&&F.isFunction(this.success)&&this.success(this))},F.TileSource.prototype={getTileSize:function(q){return F.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(q){return this._tileWidth?this._tileWidth:this.getTileSize(q)},getTileHeight:function(q){return this._tileHeight?this._tileHeight:this.getTileSize(q)},getLevelScale:function(q){var X={},tt;for(tt=0;tt<=this.maxLevel;tt++)X[tt]=1/Math.pow(2,this.maxLevel-tt);return this.getLevelScale=function(ot){return X[ot]},this.getLevelScale(q)},getNumTiles:function(q){var X=this.getLevelScale(q),tt=Math.ceil(X*this.dimensions.x/this.getTileWidth(q)),ot=Math.ceil(X*this.dimensions.y/this.getTileHeight(q));return new F.Point(tt,ot)},getPixelRatio:function(q){var X=this.dimensions.times(this.getLevelScale(q)),tt=1/X.x,ot=1/X.y;return new F.Point(tt,ot)},getClosestLevel:function(){var q,X;for(q=this.minLevel+1;q<=this.maxLevel&&(X=this.getNumTiles(q),!(X.x>1||X.y>1));q++);return q-1},getTileAtPoint:function(q,X){var tt=X.x>=0&&X.x<=1&&X.y>=0&&X.y<=1/this.aspectRatio;F.console.assert(tt,"[TileSource.getTileAtPoint] must be called with a valid point.");var ot=this.dimensions.x*this.getLevelScale(q),at=X.x*ot,ut=X.y*ot,wt=Math.floor(at/this.getTileWidth(q)),uo=Math.floor(ut/this.getTileHeight(q));X.x>=1&&(wt=this.getNumTiles(q).x-1);var mo=1e-15;return X.y>=1/this.aspectRatio-mo&&(uo=this.getNumTiles(q).y-1),new F.Point(wt,uo)},getTileBounds:function(q,X,tt,ot){var at=this.dimensions.times(this.getLevelScale(q)),ut=this.getTileWidth(q),wt=this.getTileHeight(q),uo=X===0?0:ut*X-this.tileOverlap,mo=tt===0?0:wt*tt-this.tileOverlap,yo=ut+(X===0?1:2)*this.tileOverlap,lf=wt+(tt===0?1:2)*this.tileOverlap,uf=1/at.x;return yo=Math.min(yo,at.x-uo),lf=Math.min(lf,at.y-mo),ot?new F.Rect(0,0,yo,lf):new F.Rect(uo*uf,mo*uf,yo*uf,lf*uf)},getImageInfo:function(q){var X=this,tt,ot,at,ut,wt,uo,mo;q&&(wt=q.split("/"),uo=wt[wt.length-1],mo=uo.lastIndexOf("."),mo>-1&&(wt[wt.length-1]=uo.slice(0,mo))),ot=function(yo){typeof yo=="string"&&(yo=F.parseXml(yo));var lf=F.TileSource.determineType(X,yo,q);if(!lf){X.raiseEvent("open-failed",{message:"Unable to load TileSource",source:q});return}ut=lf.prototype.configure.apply(X,[yo,q]),ut.ajaxWithCredentials===void 0&&(ut.ajaxWithCredentials=X.ajaxWithCredentials),at=new lf(ut),X.ready=!0,X.raiseEvent("ready",{tileSource:at})},q.match(/\.js$/)?(tt=q.split("/").pop().replace(".js",""),F.jsonp({url:q,async:!1,callbackName:tt,callback:ot})):F.makeAjaxRequest({url:q,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(yo){var lf=W(yo);ot(lf)},error:function(yo,lf){var uf;try{uf="HTTP "+yo.status+" attempting to load TileSource"}catch{var df;typeof lf>"u"||!lf.toString?df="Unknown error":df=lf.toString(),uf=df+" attempting to load TileSource"}X.raiseEvent("open-failed",{message:uf,source:q})}})},supports:function(q,X){return!1},configure:function(q,X){throw new Error("Method not implemented.")},getTileUrl:function(q,X,tt){throw new Error("Method not implemented.")},getTileAjaxHeaders:function(q,X,tt){return{}},tileExists:function(q,X,tt){var ot=this.getNumTiles(q);return q>=this.minLevel&&q<=this.maxLevel&&X>=0&&tt>=0&&X<ot.x&&tt<ot.y}},F.extend(!0,F.TileSource.prototype,F.EventSource.prototype);function W(q){var X=q.responseText,tt=q.status,ot,at;if(q){if(q.status!==200&&q.status!==0)throw tt=q.status,ot=tt==404?"Not Found":q.statusText,new Error(F.getString("Errors.Status",tt,ot))}else throw new Error(F.getString("Errors.Security"));if(X.match(/\s*<.*/))try{at=q.responseXML&&q.responseXML.documentElement?q.responseXML:F.parseXml(X)}catch{at=q.responseText}else if(X.match(/\s*[\{\[].*/))try{at=F.parseJSON(X)}catch{at=X}else at=X;return at}F.TileSource.determineType=function(q,X,tt){var ot;for(ot in OpenSeadragon)if(ot.match(/.+TileSource$/)&&F.isFunction(OpenSeadragon[ot])&&F.isFunction(OpenSeadragon[ot].prototype.supports)&&OpenSeadragon[ot].prototype.supports.call(q,X,tt))return OpenSeadragon[ot];F.console.error("No TileSource was able to open %s %s",tt,X)}}(OpenSeadragon),function(F){F.DziTileSource=function(X,tt,ot,at,ut,wt,uo,mo,yo){var lf,uf,df,wf;if(F.isPlainObject(X)?wf=X:wf={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=wf.tilesUrl,this.fileFormat=wf.fileFormat,this.displayRects=wf.displayRects,this.displayRects)for(lf=this.displayRects.length-1;lf>=0;lf--)for(uf=this.displayRects[lf],df=uf.minLevel;df<=uf.maxLevel;df++)this._levelRects[df]||(this._levelRects[df]=[]),this._levelRects[df].push(uf);F.TileSource.apply(this,[wf])},F.extend(F.DziTileSource.prototype,F.TileSource.prototype,{supports:function(X,tt){var ot;return X.Image?ot=X.Image.xmlns:X.documentElement&&(X.documentElement.localName=="Image"||X.documentElement.tagName=="Image")&&(ot=X.documentElement.namespaceURI),ot=(ot||"").toLowerCase(),ot.indexOf("schemas.microsoft.com/deepzoom/2008")!==-1||ot.indexOf("schemas.microsoft.com/deepzoom/2009")!==-1},configure:function(X,tt){var ot;return F.isPlainObject(X)?ot=q(this,X):ot=W(this,X),tt&&!ot.tilesUrl&&(ot.tilesUrl=tt.replace(/([^\/]+?)(\.(dzi|xml|js)?(\?[^\/]*)?)?\/?$/,"$1_files/"),tt.search(/\.(dzi|xml|js)\?/)!=-1?ot.queryParams=tt.match(/\?.*/):ot.queryParams=""),ot},getTileUrl:function(X,tt,ot){return[this.tilesUrl,X,"/",tt,"_",ot,".",this.fileFormat,this.queryParams].join("")},tileExists:function(X,tt,ot){var at=this._levelRects[X],ut,wt,uo,mo,yo,lf,uf;if(this.minLevel&&X<this.minLevel||this.maxLevel&&X>this.maxLevel)return!1;if(!at||!at.length)return!0;for(uf=at.length-1;uf>=0;uf--)if(ut=at[uf],!(X<ut.minLevel||X>ut.maxLevel)&&(wt=this.getLevelScale(X),uo=ut.x*wt,mo=ut.y*wt,yo=uo+ut.width*wt,lf=mo+ut.height*wt,uo=Math.floor(uo/this._tileWidth),mo=Math.floor(mo/this._tileWidth),yo=Math.ceil(yo/this._tileWidth),lf=Math.ceil(lf/this._tileWidth),uo<=tt&&tt<yo&&mo<=ot&&ot<lf))return!0;return!1}});function W(X,tt){if(!tt||!tt.documentElement)throw new Error(F.getString("Errors.Xml"));var ot=tt.documentElement,at=ot.localName||ot.tagName,ut=tt.documentElement.namespaceURI,wt=null,uo=[],mo,yo,lf,uf,df;if(at=="Image")try{if(uf=ot.getElementsByTagName("Size")[0],uf===void 0&&(uf=ot.getElementsByTagNameNS(ut,"Size")[0]),wt={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:ot.getAttribute("Url"),Format:ot.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(ot.getAttribute("Overlap"),10),TileSize:parseInt(ot.getAttribute("TileSize"),10),Size:{Height:parseInt(uf.getAttribute("Height"),10),Width:parseInt(uf.getAttribute("Width"),10)}}},!F.imageFormatSupported(wt.Image.Format))throw new Error(F.getString("Errors.ImageFormat",wt.Image.Format.toUpperCase()));for(mo=ot.getElementsByTagName("DisplayRect"),mo===void 0&&(mo=ot.getElementsByTagNameNS(ut,"DisplayRect")[0]),df=0;df<mo.length;df++)yo=mo[df],lf=yo.getElementsByTagName("Rect")[0],lf===void 0&&(lf=yo.getElementsByTagNameNS(ut,"Rect")[0]),uo.push({Rect:{X:parseInt(lf.getAttribute("X"),10),Y:parseInt(lf.getAttribute("Y"),10),Width:parseInt(lf.getAttribute("Width"),10),Height:parseInt(lf.getAttribute("Height"),10),MinLevel:parseInt(yo.getAttribute("MinLevel"),10),MaxLevel:parseInt(yo.getAttribute("MaxLevel"),10)}});return uo.length&&(wt.Image.DisplayRect=uo),q(X,wt)}catch(ls){throw ls instanceof Error?ls:new Error(F.getString("Errors.Dzi"))}else{if(at=="Collection")throw new Error(F.getString("Errors.Dzc"));if(at=="Error"){var wf=ot.getElementsByTagName("Message")[0],wo=wf.firstChild.nodeValue;throw new Error(wo)}}throw new Error(F.getString("Errors.Dzi"))}function q(X,tt){var ot=tt.Image,at=ot.Url,ut=ot.Format,wt=ot.Size,uo=ot.DisplayRect||[],mo=parseInt(wt.Width,10),yo=parseInt(wt.Height,10),lf=parseInt(ot.TileSize,10),uf=parseInt(ot.Overlap,10),df=[],wf,wo;for(wo=0;wo<uo.length;wo++)wf=uo[wo].Rect,df.push(new F.DisplayRect(parseInt(wf.X,10),parseInt(wf.Y,10),parseInt(wf.Width,10),parseInt(wf.Height,10),parseInt(wf.MinLevel,10),parseInt(wf.MaxLevel,10)));return F.extend(!0,{width:mo,height:yo,tileSize:lf,tileOverlap:uf,minLevel:null,maxLevel:null,tilesUrl:at,fileFormat:ut,displayRects:df},tt)}}(OpenSeadragon),function(F){F.IIIFTileSource=function(ot){if(F.extend(!0,this,ot),!(this.height&&this.width&&this["@id"]))throw new Error("IIIF required parameters not provided.");if(ot.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=ot.version,this.tile_width&&this.tile_height)ot.tileWidth=this.tile_width,ot.tileHeight=this.tile_height;else if(this.tile_width)ot.tileSize=this.tile_width;else if(this.tile_height)ot.tileSize=this.tile_height;else if(this.tiles)if(this.tiles.length==1)ot.tileWidth=this.tiles[0].width,ot.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var at=0;at<this.tiles.length;at++)for(var ut=0;ut<this.tiles[at].scaleFactors.length;ut++){var wt=this.tiles[at].scaleFactors[ut];this.scale_factors.push(wt),ot.tileSizePerScaleFactor[wt]={width:this.tiles[at].width,height:this.tiles[at].height||this.tiles[at].width}}}else if(W(ot)){for(var uo=Math.min(this.height,this.width),mo=[256,512,1024],yo=[],lf=0;lf<mo.length;lf++)mo[lf]<=uo&&yo.push(mo[lf]);yo.length>0?ot.tileSize=Math.max.apply(null,yo):ot.tileSize=uo}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,ot.levels=q(this),F.extend(!0,ot,{width:ot.levels[ot.levels.length-1].width,height:ot.levels[ot.levels.length-1].height,tileSize:Math.max(ot.height,ot.width),tileOverlap:0,minLevel:0,maxLevel:ot.levels.length-1}),this.levels=ot.levels):F.console.error("Nothing in the info.json to construct image pyramids from");if(!ot.maxLevel&&!this.emulateLegacyImagePyramid)if(!this.scale_factors)ot.maxLevel=Number(Math.ceil(Math.log(Math.max(this.width,this.height),2)));else{var uf=Math.max.apply(null,this.scale_factors);ot.maxLevel=Math.round(Math.log(uf)*Math.LOG2E)}F.TileSource.apply(this,[ot])},F.extend(F.IIIFTileSource.prototype,F.TileSource.prototype,{supports:function(ot,at){return ot.protocol&&ot.protocol=="http://iiif.io/api/image"||ot["@context"]&&(ot["@context"]=="http://library.stanford.edu/iiif/image-api/1.1/context.json"||ot["@context"]=="http://iiif.io/api/image/1/context.json")||ot.profile&&ot.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")===0||ot.identifier&&ot.width&&ot.height?!0:!!(ot.documentElement&&ot.documentElement.tagName=="info"&&ot.documentElement.namespaceURI=="http://library.stanford.edu/iiif/image-api/ns/")},configure:function(ot,at){if(F.isPlainObject(ot)){if(!ot["@context"])ot["@context"]="http://iiif.io/api/image/1.0/context.json",ot["@id"]=at.replace("/info.json",""),ot.version=1;else{var wt=ot["@context"];if(Array.isArray(wt)){for(var uo=0;uo<wt.length;uo++)if(typeof wt[uo]=="string"&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(wt[uo])||wt[uo]==="http://library.stanford.edu/iiif/image-api/1.1/context.json")){wt=wt[uo];break}}switch(wt){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":ot.version=1;break;case"http://iiif.io/api/image/2/context.json":ot.version=2;break;case"http://iiif.io/api/image/3/context.json":ot.version=3;break;default:F.console.error("Data has a @context property which contains no known IIIF context URI.")}}if(!ot["@id"]&&ot.id&&(ot["@id"]=ot.id),ot.preferredFormats){for(var mo=0;mo<ot.preferredFormats.length;mo++)if(OpenSeadragon.imageFormatSupported(ot.preferredFormats[mo])){ot.tileFormat=ot.preferredFormats[mo];break}}return ot}else{var ut=X(ot);return ut["@context"]="http://iiif.io/api/image/1.0/context.json",ut["@id"]=at.replace("/info.xml",""),ut.version=1,ut}},getTileWidth:function(ot){if(this.emulateLegacyImagePyramid)return F.TileSource.prototype.getTileWidth.call(this,ot);var at=Math.pow(2,this.maxLevel-ot);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[at]?this.tileSizePerScaleFactor[at].width:this._tileWidth},getTileHeight:function(ot){if(this.emulateLegacyImagePyramid)return F.TileSource.prototype.getTileHeight.call(this,ot);var at=Math.pow(2,this.maxLevel-ot);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[at]?this.tileSizePerScaleFactor[at].height:this._tileHeight},getLevelScale:function(ot){if(this.emulateLegacyImagePyramid){var at=NaN;return this.levels.length>0&&ot>=this.minLevel&&ot<=this.maxLevel&&(at=this.levels[ot].width/this.levels[this.maxLevel].width),at}return F.TileSource.prototype.getLevelScale.call(this,ot)},getNumTiles:function(ot){if(this.emulateLegacyImagePyramid){var at=this.getLevelScale(ot);return at?new F.Point(1,1):new F.Point(0,0)}return F.TileSource.prototype.getNumTiles.call(this,ot)},getTileAtPoint:function(ot,at){return this.emulateLegacyImagePyramid?new F.Point(0,0):F.TileSource.prototype.getTileAtPoint.call(this,ot,at)},getTileUrl:function(ot,at,ut){if(this.emulateLegacyImagePyramid){var wt=null;return this.levels.length>0&&ot>=this.minLevel&&ot<=this.maxLevel&&(wt=this.levels[ot].url),wt}var uo="0",mo=Math.pow(.5,this.maxLevel-ot),yo=Math.ceil(this.width*mo),lf=Math.ceil(this.height*mo),uf,df,wf,wo,ls,_f,po,xo,gf,cf,yf,Sf,xf,bf;return uf=this.getTileWidth(ot),df=this.getTileHeight(ot),wf=Math.ceil(uf/mo),wo=Math.ceil(df/mo),this.version===1?xf="native."+this.tileFormat:xf="default."+this.tileFormat,yo<uf&&lf<df?(this.version===2&&yo===this.width||this.version===3&&yo===this.width&&lf===this.height?cf="max":this.version===3?cf=yo+","+lf:cf=yo+",",ls="full"):(_f=at*wf,po=ut*wo,xo=Math.min(wf,this.width-_f),gf=Math.min(wo,this.height-po),at===0&&ut===0&&xo===this.width&&gf===this.height?ls="full":ls=[_f,po,xo,gf].join(","),yf=Math.ceil(xo*mo),Sf=Math.ceil(gf*mo),this.version===2&&yf===this.width||this.version===3&&yf===this.width&&Sf===this.height?cf="max":this.version===3?cf=yf+","+Sf:cf=yf+","),bf=[this["@id"],ls,cf,uo,xf].join("/"),bf},__testonly__:{canBeTiled:W,constructLevels:q}});function W(ot){var at=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"],ut=Array.isArray(ot.profile)?ot.profile[0]:ot.profile,wt=at.indexOf(ut)!==-1,uo=!1;return ot.version===2&&ot.profile.length>1&&ot.profile[1].supports&&(uo=ot.profile[1].supports.indexOf("sizeByW")!==-1),ot.version===3&&ot.extraFeatures&&(uo=ot.extraFeatures.indexOf("sizeByWh")!==-1),!wt||uo}function q(ot){for(var at=[],ut=0;ut<ot.sizes.length;ut++)at.push({url:ot["@id"]+"/full/"+ot.sizes[ut].width+","+(ot.version===3?ot.sizes[ut].height:"")+"/0/default."+ot.tileFormat,width:ot.sizes[ut].width,height:ot.sizes[ut].height});return at.sort(function(wt,uo){return wt.width-uo.width})}function X(ot){if(!ot||!ot.documentElement)throw new Error(F.getString("Errors.Xml"));var at=ot.documentElement,ut=at.tagName,wt=null;if(ut=="info")try{return wt={},tt(at,wt),wt}catch(uo){throw uo instanceof Error?uo:new Error(F.getString("Errors.IIIF"))}throw new Error(F.getString("Errors.IIIF"))}function tt(ot,at,ut){var wt,uo;if(ot.nodeType==3&&ut)uo=ot.nodeValue.trim(),uo.match(/^\d*$/)&&(uo=Number(uo)),at[ut]?(F.isArray(at[ut])||(at[ut]=[at[ut]]),at[ut].push(uo)):at[ut]=uo;else if(ot.nodeType==1)for(wt=0;wt<ot.childNodes.length;wt++)tt(ot.childNodes[wt],at,ot.nodeName)}}(OpenSeadragon),function(F){F.OsmTileSource=function(W,q,X,tt,ot){var at;F.isPlainObject(W)?at=W:at={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},(!at.width||!at.height)&&(at.width=65572864,at.height=65572864),at.tileSize||(at.tileSize=256,at.tileOverlap=0),at.tilesUrl||(at.tilesUrl="http://tile.openstreetmap.org/"),at.minLevel=8,F.TileSource.apply(this,[at])},F.extend(F.OsmTileSource.prototype,F.TileSource.prototype,{supports:function(W,q){return W.type&&W.type=="openstreetmaps"},configure:function(W,q){return W},getTileUrl:function(W,q,X){return this.tilesUrl+(W-8)+"/"+q+"/"+X+".png"}})}(OpenSeadragon),function(F){F.TmsTileSource=function(W,q,X,tt,ot){var at;F.isPlainObject(W)?at=W:at={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var ut=Math.ceil(at.width/256)*256,wt=Math.ceil(at.height/256)*256,uo;ut>wt?uo=ut/256:uo=wt/256,at.maxLevel=Math.ceil(Math.log(uo)/Math.log(2))-1,at.tileSize=256,at.width=ut,at.height=wt,F.TileSource.apply(this,[at])},F.extend(F.TmsTileSource.prototype,F.TileSource.prototype,{supports:function(W,q){return W.type&&W.type=="tiledmapservice"},configure:function(W,q){return W},getTileUrl:function(W,q,X){var tt=this.getNumTiles(W).y-1;return this.tilesUrl+W+"/"+q+"/"+(tt-X)+".png"}})}(OpenSeadragon),function(F){F.ZoomifyTileSource=function(W){W.tileSize=256;var q={x:W.width,y:W.height};for(W.imageSizes=[{x:W.width,y:W.height}],W.gridSize=[this._getGridSize(W.width,W.height,W.tileSize)];parseInt(q.x,10)>W.tileSize||parseInt(q.y,10)>W.tileSize;)q.x=Math.floor(q.x/2),q.y=Math.floor(q.y/2),W.imageSizes.push({x:q.x,y:q.y}),W.gridSize.push(this._getGridSize(q.x,q.y,W.tileSize));W.imageSizes.reverse(),W.gridSize.reverse(),W.minLevel=0,W.maxLevel=W.gridSize.length-1,OpenSeadragon.TileSource.apply(this,[W])},F.extend(F.ZoomifyTileSource.prototype,F.TileSource.prototype,{_getGridSize:function(W,q,X){return{x:Math.ceil(W/X),y:Math.ceil(q/X)}},_calculateAbsoluteTileNumber:function(W,q,X){for(var tt=0,ot={},at=0;at<W;at++)ot=this.gridSize[at],tt+=ot.x*ot.y;return ot=this.gridSize[W],tt+=ot.x*X+q,tt},supports:function(W,q){return W.type&&W.type=="zoomifytileservice"},configure:function(W,q){return W},getTileUrl:function(W,q,X){var tt=0,ot=this._calculateAbsoluteTileNumber(W,q,X);return tt=Math.floor(ot/256),this.tilesUrl+"TileGroup"+tt+"/"+W+"-"+q+"-"+X+".jpg"}})}(OpenSeadragon),function(F){F.LegacyTileSource=function(tt){var ot,at,ut;F.isArray(tt)&&(ot={type:"legacy-image-pyramid",levels:tt}),ot.levels=W(ot.levels),ot.levels.length>0?(at=ot.levels[ot.levels.length-1].width,ut=ot.levels[ot.levels.length-1].height):(at=0,ut=0,F.console.error("No supported image formats found")),F.extend(!0,ot,{width:at,height:ut,tileSize:Math.max(ut,at),tileOverlap:0,minLevel:0,maxLevel:ot.levels.length>0?ot.levels.length-1:0}),F.TileSource.apply(this,[ot]),this.levels=ot.levels},F.extend(F.LegacyTileSource.prototype,F.TileSource.prototype,{supports:function(tt,ot){return tt.type&&tt.type=="legacy-image-pyramid"||tt.documentElement&&tt.documentElement.getAttribute("type")=="legacy-image-pyramid"},configure:function(tt,ot){var at;return F.isPlainObject(tt)?at=X(this,tt):at=q(this,tt),at},getLevelScale:function(tt){var ot=NaN;return this.levels.length>0&&tt>=this.minLevel&&tt<=this.maxLevel&&(ot=this.levels[tt].width/this.levels[this.maxLevel].width),ot},getNumTiles:function(tt){var ot=this.getLevelScale(tt);return ot?new F.Point(1,1):new F.Point(0,0)},getTileUrl:function(tt,ot,at){var ut=null;return this.levels.length>0&&tt>=this.minLevel&&tt<=this.maxLevel&&(ut=this.levels[tt].url),ut}});function W(tt){var ot=[],at,ut;for(ut=0;ut<tt.length;ut++)at=tt[ut],at.height&&at.width&&at.url?ot.push({url:at.url,width:Number(at.width),height:Number(at.height)}):F.console.error("Unsupported image format: %s",at.url?at.url:"<no URL>");return ot.sort(function(wt,uo){return wt.height-uo.height})}function q(tt,ot){if(!ot||!ot.documentElement)throw new Error(F.getString("Errors.Xml"));var at=ot.documentElement,ut=at.tagName,wt=null,uo=[],mo,yo;if(ut=="image")try{for(wt={type:at.getAttribute("type"),levels:[]},uo=at.getElementsByTagName("level"),yo=0;yo<uo.length;yo++)mo=uo[yo],wt.levels.push({url:mo.getAttribute("url"),width:parseInt(mo.getAttribute("width"),10),height:parseInt(mo.getAttribute("height"),10)});return X(tt,wt)}catch(lf){throw lf instanceof Error?lf:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if(ut=="collection")throw new Error("Legacy Image Pyramid Collections not yet supported.");if(ut=="error")throw new Error("Error: "+ot)}throw new Error("Unknown element "+ut)}function X(tt,ot){return ot.levels}}(OpenSeadragon),function(F){F.ImageTileSource=function(W){W=F.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},W),F.TileSource.apply(this,[W])},F.extend(F.ImageTileSource.prototype,F.TileSource.prototype,{supports:function(W,q){return W.type&&W.type==="image"},configure:function(W,q){return W},getImageInfo:function(W){var q=this._image=new Image,X=this;this.crossOriginPolicy&&(q.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(q.useCredentials=this.ajaxWithCredentials),F.addEvent(q,"load",function(){X.width=Object.prototype.hasOwnProperty.call(q,"naturalWidth")?q.naturalWidth:q.width,X.height=Object.prototype.hasOwnProperty.call(q,"naturalHeight")?q.naturalHeight:q.height,X.aspectRatio=X.width/X.height,X.dimensions=new F.Point(X.width,X.height),X._tileWidth=X.width,X._tileHeight=X.height,X.tileOverlap=0,X.minLevel=0,X.levels=X._buildLevels(),X.maxLevel=X.levels.length-1,X.ready=!0,X.raiseEvent("ready",{tileSource:X})}),F.addEvent(q,"error",function(){X.raiseEvent("open-failed",{message:"Error loading image at "+W,source:W})}),q.src=W},getLevelScale:function(W){var q=NaN;return W>=this.minLevel&&W<=this.maxLevel&&(q=this.levels[W].width/this.levels[this.maxLevel].width),q},getNumTiles:function(W){var q=this.getLevelScale(W);return q?new F.Point(1,1):new F.Point(0,0)},getTileUrl:function(W,q,X){var tt=null;return W>=this.minLevel&&W<=this.maxLevel&&(tt=this.levels[W].url),tt},getContext2D:function(W,q,X){var tt=null;return W>=this.minLevel&&W<=this.maxLevel&&(tt=this.levels[W].context2D),tt},_buildLevels:function(){var W=[{url:this._image.src,width:Object.prototype.hasOwnProperty.call(this._image,"naturalWidth")?this._image.naturalWidth:this._image.width,height:Object.prototype.hasOwnProperty.call(this._image,"naturalHeight")?this._image.naturalHeight:this._image.height}];if(!this.buildPyramid||!F.supportsCanvas||!this.useCanvas)return delete this._image,W;var q=Object.prototype.hasOwnProperty.call(this._image,"naturalWidth")?this._image.naturalWidth:this._image.width,X=Object.prototype.hasOwnProperty.call(this._image,"naturalHeight")?this._image.naturalHeight:this._image.height,tt=document.createElement("canvas"),ot=tt.getContext("2d");if(tt.width=q,tt.height=X,ot.drawImage(this._image,0,0,q,X),W[0].context2D=ot,delete this._image,F.isCanvasTainted(tt))return W;for(;q>=2&&X>=2;){q=Math.floor(q/2),X=Math.floor(X/2);var at=document.createElement("canvas"),ut=at.getContext("2d");at.width=q,at.height=X,ut.drawImage(tt,0,0,q,X),W.splice(0,0,{context2D:ut,width:q,height:X}),tt=at,ot=ut}return W}})}(OpenSeadragon),function(F){F.TileSourceCollection=function(W,q,X,tt){F.console.error("TileSourceCollection is deprecated; use World instead")}}(OpenSeadragon),function(F){F.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},F.Button=function(ut){var wt=this;F.EventSource.call(this),F.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:F.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:F.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null},ut),this.element=ut.element||F.makeNeutralElement("div"),ut.element||(this.imgRest=F.makeTransparentImage(this.srcRest),this.imgGroup=F.makeTransparentImage(this.srcGroup),this.imgHover=F.makeTransparentImage(this.srcHover),this.imgDown=F.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,this.element.style.position="relative",F.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",F.Browser.vendor==F.BROWSERS.FIREFOX&&F.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=F.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new F.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(uo){uo.insideElementPressed?(ot(wt,F.ButtonState.DOWN),wt.raiseEvent("enter",{originalEvent:uo.originalEvent})):uo.buttonDownAny||ot(wt,F.ButtonState.HOVER)},focusHandler:function(uo){this.enterHandler(uo),wt.raiseEvent("focus",{originalEvent:uo.originalEvent})},exitHandler:function(uo){at(wt,F.ButtonState.GROUP),uo.insideElementPressed&&wt.raiseEvent("exit",{originalEvent:uo.originalEvent})},blurHandler:function(uo){this.exitHandler(uo),wt.raiseEvent("blur",{originalEvent:uo.originalEvent})},pressHandler:function(uo){ot(wt,F.ButtonState.DOWN),wt.raiseEvent("press",{originalEvent:uo.originalEvent})},releaseHandler:function(uo){uo.insideElementPressed&&uo.insideElementReleased?(at(wt,F.ButtonState.HOVER),wt.raiseEvent("release",{originalEvent:uo.originalEvent})):uo.insideElementPressed?at(wt,F.ButtonState.GROUP):ot(wt,F.ButtonState.HOVER)},clickHandler:function(uo){uo.quick&&wt.raiseEvent("click",{originalEvent:uo.originalEvent})},keyHandler:function(uo){return uo.keyCode===13?(wt.raiseEvent("click",{originalEvent:uo.originalEvent}),wt.raiseEvent("release",{originalEvent:uo.originalEvent}),!1):!0}}),at(this,F.ButtonState.REST)},F.extend(F.Button.prototype,F.EventSource.prototype,{notifyGroupEnter:function(){ot(this,F.ButtonState.GROUP)},notifyGroupExit:function(){at(this,F.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,F.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,F.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()}});function W(ut){F.requestAnimationFrame(function(){q(ut)})}function q(ut){var wt,uo,mo;ut.shouldFade&&(wt=F.now(),uo=wt-ut.fadeBeginTime,mo=1-uo/ut.fadeLength,mo=Math.min(1,mo),mo=Math.max(0,mo),ut.imgGroup&&F.setElementOpacity(ut.imgGroup,mo,!0),mo>0&&W(ut))}function X(ut){ut.shouldFade=!0,ut.fadeBeginTime=F.now()+ut.fadeDelay,window.setTimeout(function(){W(ut)},ut.fadeDelay)}function tt(ut){ut.shouldFade=!1,ut.imgGroup&&F.setElementOpacity(ut.imgGroup,1,!0)}function ot(ut,wt){ut.element.disabled||(wt>=F.ButtonState.GROUP&&ut.currentState==F.ButtonState.REST&&(tt(ut),ut.currentState=F.ButtonState.GROUP),wt>=F.ButtonState.HOVER&&ut.currentState==F.ButtonState.GROUP&&(ut.imgHover&&(ut.imgHover.style.visibility=""),ut.currentState=F.ButtonState.HOVER),wt>=F.ButtonState.DOWN&&ut.currentState==F.ButtonState.HOVER&&(ut.imgDown&&(ut.imgDown.style.visibility=""),ut.currentState=F.ButtonState.DOWN))}function at(ut,wt){ut.element.disabled||(wt<=F.ButtonState.HOVER&&ut.currentState==F.ButtonState.DOWN&&(ut.imgDown&&(ut.imgDown.style.visibility="hidden"),ut.currentState=F.ButtonState.HOVER),wt<=F.ButtonState.GROUP&&ut.currentState==F.ButtonState.HOVER&&(ut.imgHover&&(ut.imgHover.style.visibility="hidden"),ut.currentState=F.ButtonState.GROUP),wt<=F.ButtonState.REST&&ut.currentState==F.ButtonState.GROUP&&(X(ut),ut.currentState=F.ButtonState.REST))}}(OpenSeadragon),function(F){F.ButtonGroup=function(W){F.extend(!0,this,{buttons:[],clickTimeThreshold:F.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:F.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},W);var q=this.buttons.concat([]),X=this,tt;if(this.element=W.element||F.makeNeutralElement("div"),!W.group)for(this.element.style.display="inline-block",tt=0;tt<q.length;tt++)this.element.appendChild(q[tt].element);F.setElementTouchActionNone(this.element),this.tracker=new F.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(ot){var at;for(at=0;at<X.buttons.length;at++)X.buttons[at].notifyGroupEnter()},exitHandler:function(ot){var at;if(!ot.insideElementPressed)for(at=0;at<X.buttons.length;at++)X.buttons[at].notifyGroupExit()}})},F.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateExit:function(){this.tracker.exitHandler({eventSource:this.tracker})}}}(OpenSeadragon),function(F){F.Rect=function(W,q,X,tt,ot){this.x=typeof W=="number"?W:0,this.y=typeof q=="number"?q:0,this.width=typeof X=="number"?X:0,this.height=typeof tt=="number"?tt:0,this.degrees=typeof ot=="number"?ot:0,this.degrees=F.positiveModulo(this.degrees,360);var at,ut;this.degrees>=270?(at=this.getTopRight(),this.x=at.x,this.y=at.y,ut=this.height,this.height=this.width,this.width=ut,this.degrees-=270):this.degrees>=180?(at=this.getBottomRight(),this.x=at.x,this.y=at.y,this.degrees-=180):this.degrees>=90&&(at=this.getBottomLeft(),this.x=at.x,this.y=at.y,ut=this.height,this.height=this.width,this.width=ut,this.degrees-=90)},F.Rect.fromSummits=function(W,q,X){var tt=W.distanceTo(q),ot=W.distanceTo(X),at=q.minus(W),ut=Math.atan(at.y/at.x);return at.x<0?ut+=Math.PI:at.y<0&&(ut+=2*Math.PI),new F.Rect(W.x,W.y,tt,ot,ut/Math.PI*180)},F.Rect.prototype={clone:function(){return new F.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new F.Point(this.x,this.y)},getBottomRight:function(){return new F.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new F.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new F.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new F.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new F.Point(this.width,this.height)},equals:function(W){return W instanceof F.Rect&&this.x===W.x&&this.y===W.y&&this.width===W.width&&this.height===W.height&&this.degrees===W.degrees},times:function(W){return new F.Rect(this.x*W,this.y*W,this.width*W,this.height*W,this.degrees)},translate:function(W){return new F.Rect(this.x+W.x,this.y+W.y,this.width,this.height,this.degrees)},union:function(W){var q=this.getBoundingBox(),X=W.getBoundingBox(),tt=Math.min(q.x,X.x),ot=Math.min(q.y,X.y),at=Math.max(q.x+q.width,X.x+X.width),ut=Math.max(q.y+q.height,X.y+X.height);return new F.Rect(tt,ot,at-tt,ut-ot)},intersection:function(W){var q=1e-10,X=[],tt=this.getTopLeft();W.containsPoint(tt,q)&&X.push(tt);var ot=this.getTopRight();W.containsPoint(ot,q)&&X.push(ot);var at=this.getBottomLeft();W.containsPoint(at,q)&&X.push(at);var ut=this.getBottomRight();W.containsPoint(ut,q)&&X.push(ut);var wt=W.getTopLeft();this.containsPoint(wt,q)&&X.push(wt);var uo=W.getTopRight();this.containsPoint(uo,q)&&X.push(uo);var mo=W.getBottomLeft();this.containsPoint(mo,q)&&X.push(mo);var yo=W.getBottomRight();this.containsPoint(yo,q)&&X.push(yo);for(var lf=this._getSegments(),uf=W._getSegments(),df=0;df<lf.length;df++)for(var wf=lf[df],wo=0;wo<uf.length;wo++){var ls=uf[wo],_f=po(wf[0],wf[1],ls[0],ls[1]);_f&&X.push(_f)}function po(bf,Af,Pf,Df){var zf=Af.minus(bf),jf=Df.minus(Pf),$f=-jf.x*zf.y+zf.x*jf.y;if($f===0)return null;var Ff=(zf.x*(bf.y-Pf.y)-zf.y*(bf.x-Pf.x))/$f,Xf=(jf.x*(bf.y-Pf.y)-jf.y*(bf.x-Pf.x))/$f;return-q<=Ff&&Ff<=1-q&&-q<=Xf&&Xf<=1-q?new F.Point(bf.x+Xf*zf.x,bf.y+Xf*zf.y):null}if(X.length===0)return null;for(var xo=X[0].x,gf=X[0].x,cf=X[0].y,yf=X[0].y,Sf=1;Sf<X.length;Sf++){var xf=X[Sf];xf.x<xo&&(xo=xf.x),xf.x>gf&&(gf=xf.x),xf.y<cf&&(cf=xf.y),xf.y>yf&&(yf=xf.y)}return new F.Rect(xo,cf,gf-xo,yf-cf)},_getSegments:function(){var W=this.getTopLeft(),q=this.getTopRight(),X=this.getBottomLeft(),tt=this.getBottomRight();return[[W,q],[q,tt],[tt,X],[X,W]]},rotate:function(W,q){if(W=F.positiveModulo(W,360),W===0)return this.clone();q=q||this.getCenter();var X=this.getTopLeft().rotate(W,q),tt=this.getTopRight().rotate(W,q),ot=tt.minus(X);ot=ot.apply(function(ut){var wt=1e-15;return Math.abs(ut)<wt?0:ut});var at=Math.atan(ot.y/ot.x);return ot.x<0?at+=Math.PI:ot.y<0&&(at+=2*Math.PI),new F.Rect(X.x,X.y,this.width,this.height,at/Math.PI*180)},getBoundingBox:function(){if(this.degrees===0)return this.clone();var W=this.getTopLeft(),q=this.getTopRight(),X=this.getBottomLeft(),tt=this.getBottomRight(),ot=Math.min(W.x,q.x,X.x,tt.x),at=Math.max(W.x,q.x,X.x,tt.x),ut=Math.min(W.y,q.y,X.y,tt.y),wt=Math.max(W.y,q.y,X.y,tt.y);return new F.Rect(ot,ut,at-ot,wt-ut)},getIntegerBoundingBox:function(){var W=this.getBoundingBox(),q=Math.floor(W.x),X=Math.floor(W.y),tt=Math.ceil(W.width+W.x-q),ot=Math.ceil(W.height+W.y-X);return new F.Rect(q,X,tt,ot)},containsPoint:function(W,q){q=q||0;var X=this.getTopLeft(),tt=this.getTopRight(),ot=this.getBottomLeft(),at=tt.minus(X),ut=ot.minus(X);return(W.x-X.x)*at.x+(W.y-X.y)*at.y>=-q&&(W.x-tt.x)*at.x+(W.y-tt.y)*at.y<=q&&(W.x-X.x)*ut.x+(W.y-X.y)*ut.y>=-q&&(W.x-ot.x)*ut.x+(W.y-ot.y)*ut.y<=q},toString:function(){return"["+Math.round(this.x*100)/100+", "+Math.round(this.y*100)/100+", "+Math.round(this.width*100)/100+"x"+Math.round(this.height*100)/100+", "+Math.round(this.degrees*100)/100+"deg]"}}}(OpenSeadragon),function(F){var W={};F.ReferenceStrip=function(uo){var mo=this,yo=uo.viewer,lf=F.getElementSize(yo.element),uf,df,wf;for(uo.id||(uo.id="referencestrip-"+F.now(),this.element=F.makeNeutralElement("div"),this.element.id=uo.id,this.element.className="referencestrip"),uo=F.extend(!0,{sizeRatio:F.DEFAULT_SETTINGS.referenceStripSizeRatio,position:F.DEFAULT_SETTINGS.referenceStripPosition,scroll:F.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:F.DEFAULT_SETTINGS.clickTimeThreshold},uo,{element:this.element,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1}),F.extend(this,uo),W[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,df=this.element.style,df.marginTop="0px",df.marginRight="0px",df.marginBottom="0px",df.marginLeft="0px",df.left="0px",df.bottom="0px",df.border="0px",df.background="#000",df.position="relative",F.setElementTouchActionNone(this.element),F.setElementOpacity(this.element,.8),this.viewer=yo,this.innerTracker=new F.MouseTracker({element:this.element,dragHandler:F.delegate(this,q),scrollHandler:F.delegate(this,X),enterHandler:F.delegate(this,ot),exitHandler:F.delegate(this,at),keyDownHandler:F.delegate(this,ut),keyHandler:F.delegate(this,wt)}),uo.width&&uo.height?(this.element.style.width=uo.width+"px",this.element.style.height=uo.height+"px",yo.addControl(this.element,{anchor:F.ControlAnchor.BOTTOM_LEFT})):uo.scroll=="horizontal"?(this.element.style.width=lf.x*uo.sizeRatio*yo.tileSources.length+12*yo.tileSources.length+"px",this.element.style.height=lf.y*uo.sizeRatio+"px",yo.addControl(this.element,{anchor:F.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=lf.y*uo.sizeRatio*yo.tileSources.length+12*yo.tileSources.length+"px",this.element.style.width=lf.x*uo.sizeRatio+"px",yo.addControl(this.element,{anchor:F.ControlAnchor.TOP_LEFT})),this.panelWidth=lf.x*this.sizeRatio+8,this.panelHeight=lf.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},wf=0;wf<yo.tileSources.length;wf++)uf=F.makeNeutralElement("div"),uf.id=this.element.id+"-"+wf,uf.style.width=mo.panelWidth+"px",uf.style.height=mo.panelHeight+"px",uf.style.display="inline",uf.style.float="left",uf.style.cssFloat="left",uf.style.styleFloat="left",uf.style.padding="2px",F.setElementTouchActionNone(uf),uf.innerTracker=new F.MouseTracker({element:uf,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,pressHandler:function(wo){wo.eventSource.dragging=F.now()},releaseHandler:function(wo){var ls=wo.eventSource,_f=ls.element.id,po=Number(_f.split("-")[2]),xo=F.now();wo.insideElementPressed&&wo.insideElementReleased&&ls.dragging&&xo-ls.dragging<ls.clickTimeThreshold&&(ls.dragging=null,yo.goToPage(po))}}),this.element.appendChild(uf),uf.activePanel=!1,this.panels.push(uf);tt(this,this.scroll=="vertical"?lf.y:lf.x,0),this.setFocus(0)},F.extend(F.ReferenceStrip.prototype,F.EventSource.prototype,F.Viewer.prototype,{setFocus:function(uo){var mo=this.element.querySelector("#"+this.element.id+"-"+uo),yo=F.getElementSize(this.viewer.canvas),lf=Number(this.element.style.width.replace("px","")),uf=Number(this.element.style.height.replace("px","")),df=-Number(this.element.style.marginLeft.replace("px","")),wf=-Number(this.element.style.marginTop.replace("px","")),wo;this.currentSelected!==mo&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=mo,this.currentSelected.style.background="#999",this.scroll=="horizontal"?(wo=Number(uo)*(this.panelWidth+3),wo>df+yo.x-this.panelWidth?(wo=Math.min(wo,lf-yo.x),this.element.style.marginLeft=-wo+"px",tt(this,yo.x,-wo)):wo<df&&(wo=Math.max(0,wo-yo.x/2),this.element.style.marginLeft=-wo+"px",tt(this,yo.x,-wo))):(wo=Number(uo)*(this.panelHeight+3),wo>wf+yo.y-this.panelHeight?(wo=Math.min(wo,uf-yo.y),this.element.style.marginTop=-wo+"px",tt(this,yo.y,-wo)):wo<wf&&(wo=Math.max(0,wo-yo.y/2),this.element.style.marginTop=-wo+"px",tt(this,yo.y,-wo))),this.currentPage=uo,ot.call(this,{eventSource:this.innerTracker}))},update:function(){return W[this.id].animating?(F.console.log("image reference strip update"),!0):!1},destroy:function(){if(this.miniViewers)for(var uo in this.miniViewers)this.miniViewers[uo].destroy();this.element&&this.element.parentNode.removeChild(this.element)}});function q(uo){var mo=Number(this.element.style.marginLeft.replace("px","")),yo=Number(this.element.style.marginTop.replace("px","")),lf=Number(this.element.style.width.replace("px","")),uf=Number(this.element.style.height.replace("px","")),df=F.getElementSize(this.viewer.canvas);return this.dragging=!0,this.element&&(this.scroll=="horizontal"?-uo.delta.x>0?mo>-(lf-df.x)&&(this.element.style.marginLeft=mo+uo.delta.x*2+"px",tt(this,df.x,mo+uo.delta.x*2)):-uo.delta.x<0&&mo<0&&(this.element.style.marginLeft=mo+uo.delta.x*2+"px",tt(this,df.x,mo+uo.delta.x*2)):-uo.delta.y>0?yo>-(uf-df.y)&&(this.element.style.marginTop=yo+uo.delta.y*2+"px",tt(this,df.y,yo+uo.delta.y*2)):-uo.delta.y<0&&yo<0&&(this.element.style.marginTop=yo+uo.delta.y*2+"px",tt(this,df.y,yo+uo.delta.y*2))),!1}function X(uo){var mo=Number(this.element.style.marginLeft.replace("px","")),yo=Number(this.element.style.marginTop.replace("px","")),lf=Number(this.element.style.width.replace("px","")),uf=Number(this.element.style.height.replace("px","")),df=F.getElementSize(this.viewer.canvas);return this.element&&(this.scroll=="horizontal"?uo.scroll>0?mo>-(lf-df.x)&&(this.element.style.marginLeft=mo-uo.scroll*60+"px",tt(this,df.x,mo-uo.scroll*60)):uo.scroll<0&&mo<0&&(this.element.style.marginLeft=mo-uo.scroll*60+"px",tt(this,df.x,mo-uo.scroll*60)):uo.scroll<0?yo>df.y-uf&&(this.element.style.marginTop=yo+uo.scroll*60+"px",tt(this,df.y,yo+uo.scroll*60)):uo.scroll>0&&yo<0&&(this.element.style.marginTop=yo+uo.scroll*60+"px",tt(this,df.y,yo+uo.scroll*60))),!1}function tt(uo,mo,yo){var lf,uf,df,wf,wo,ls,_f;for(uo.scroll=="horizontal"?lf=uo.panelWidth:lf=uo.panelHeight,uf=Math.ceil(mo/lf)+5,df=Math.ceil((Math.abs(yo)+mo)/lf)+1,uf=df-uf,uf=uf<0?0:uf,ls=uf;ls<df&&ls<uo.panels.length;ls++)if(_f=uo.panels[ls],!_f.activePanel){var po,xo=uo.viewer.tileSources[ls];xo.referenceStripThumbnailUrl?po={type:"image",url:xo.referenceStripThumbnailUrl}:po=xo,wf=new F.Viewer({id:_f.id,tileSources:[po],element:_f,navigatorSizeRatio:uo.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:uo.viewer.loadTilesWithAjax,ajaxHeaders:uo.viewer.ajaxHeaders,useCanvas:uo.useCanvas}),wf.displayRegion=F.makeNeutralElement("div"),wf.displayRegion.id=_f.id+"-displayregion",wf.displayRegion.className="displayregion",wo=wf.displayRegion.style,wo.position="relative",wo.top="0px",wo.left="0px",wo.fontSize="0px",wo.overflow="hidden",wo.float="left",wo.cssFloat="left",wo.styleFloat="left",wo.zIndex=999999999,wo.cursor="default",wo.width=uo.panelWidth-4+"px",wo.height=uo.panelHeight-4+"px",wf.displayRegion.innerTracker=new F.MouseTracker({element:wf.displayRegion,startDisabled:!0}),_f.getElementsByTagName("div")[0].appendChild(wf.displayRegion),uo.miniViewers[_f.id]=wf,_f.activePanel=!0}}function ot(uo){var mo=uo.eventSource.element;return this.scroll=="horizontal"?mo.style.marginBottom="0px":mo.style.marginLeft="0px",!1}function at(uo){var mo=uo.eventSource.element;return this.scroll=="horizontal"?mo.style.marginBottom="-"+F.getElementSize(mo).y/2+"px":mo.style.marginLeft="-"+F.getElementSize(mo).x/2+"px",!1}function ut(uo){if(!uo.preventDefaultAction&&!uo.ctrl&&!uo.alt&&!uo.meta)switch(uo.keyCode){case 38:return X.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 40:return X.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 37:return X.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 39:return X.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}else return!0}function wt(uo){if(!uo.preventDefaultAction&&!uo.ctrl&&!uo.alt&&!uo.meta)switch(uo.keyCode){case 61:return X.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 45:return X.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 48:case 119:case 87:return X.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 115:case 83:return X.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 97:return X.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 100:return X.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}else return!0}}(OpenSeadragon),function(F){F.DisplayRect=function(W,q,X,tt,ot,at){F.Rect.apply(this,[W,q,X,tt]),this.minLevel=ot,this.maxLevel=at},F.extend(F.DisplayRect.prototype,F.Rect.prototype)}(OpenSeadragon),function(F){F.Spring=function(q){var X=arguments;typeof q!="object"&&(q={initial:X.length&&typeof X[0]=="number"?X[0]:void 0,springStiffness:X.length>1?X[1].springStiffness:5,animationTime:X.length>1?X[1].animationTime:1.5}),F.console.assert(typeof q.springStiffness=="number"&&q.springStiffness!==0,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),F.console.assert(typeof q.animationTime=="number"&&q.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),q.exponential&&(this._exponential=!0,delete q.exponential),F.extend(!0,this,q),this.current={value:typeof this.initial=="number"?this.initial:this._exponential?0:1,time:F.now()},F.console.assert(!this._exponential||this.current.value!==0,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},F.Spring.prototype={resetTo:function(q){F.console.assert(!this._exponential||q!==0,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=q,this.start.time=this.target.time=this.current.time=F.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(q){F.console.assert(!this._exponential||q!==0,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=q,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(q){this.start.value+=q,this.target.value+=q,this._exponential&&(F.console.assert(this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(q){this._exponential=q,this._exponential&&(F.console.assert(this.current.value!==0&&this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){this.current.time=F.now();var q,X;this._exponential?(q=this.start._logValue,X=this.target._logValue):(q=this.start.value,X=this.target.value);var tt=this.current.time>=this.target.time?X:q+(X-q)*W(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),ot=this.current.value;return this._exponential?this.current.value=Math.exp(tt):this.current.value=tt,ot!=this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}};function W(q,X){return(1-Math.exp(q*-X))/(1-Math.exp(-q))}}(OpenSeadragon),function(F){function W(X){F.extend(!0,this,{timeout:F.DEFAULT_SETTINGS.timeout,jobId:null},X),this.image=null}W.prototype={errorMsg:null,start:function(){var X=this,tt=this.abort;this.image=new Image,this.image.onload=function(){X.finish(!0)},this.image.onabort=this.image.onerror=function(){X.errorMsg="Image load aborted",X.finish(!1)},this.jobId=window.setTimeout(function(){X.errorMsg="Image load exceeded timeout ("+X.timeout+" ms)",X.finish(!1)},this.timeout),this.loadWithAjax?(this.request=F.makeAjaxRequest({url:this.src,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,responseType:"arraybuffer",success:function(ot){var at;try{at=new window.Blob([ot.response])}catch(mo){var ut=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(mo.name==="TypeError"&&ut){var wt=new ut;wt.append(ot.response),at=wt.getBlob()}}at.size===0&&(X.errorMsg="Empty image response.",X.finish(!1));var uo=(window.URL||window.webkitURL).createObjectURL(at);X.image.src=uo},error:function(ot){X.errorMsg="Image load aborted - XHR error",X.finish(!1)}}),this.abort=function(){X.request.abort(),typeof tt=="function"&&tt()}):(this.crossOriginPolicy!==!1&&(this.image.crossOrigin=this.crossOriginPolicy),this.image.src=this.src)},finish:function(X){this.image.onload=this.image.onerror=this.image.onabort=null,X||(this.image=null),this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},F.ImageLoader=function(X){F.extend(!0,this,{jobLimit:F.DEFAULT_SETTINGS.imageLoaderLimit,timeout:F.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},X)},F.ImageLoader.prototype={addJob:function(X){var tt=this,ot=function(wt){q(tt,wt,X.callback)},at={src:X.src,loadWithAjax:X.loadWithAjax,ajaxHeaders:X.loadWithAjax?X.ajaxHeaders:null,crossOriginPolicy:X.crossOriginPolicy,ajaxWithCredentials:X.ajaxWithCredentials,callback:ot,abort:X.abort,timeout:this.timeout},ut=new W(at);!this.jobLimit||this.jobsInProgress<this.jobLimit?(ut.start(),this.jobsInProgress++):this.jobQueue.push(ut)},clear:function(){for(var X=0;X<this.jobQueue.length;X++){var tt=this.jobQueue[X];typeof tt.abort=="function"&&tt.abort()}this.jobQueue=[]}};function q(X,tt,ot){var at;X.jobsInProgress--,(!X.jobLimit||X.jobsInProgress<X.jobLimit)&&X.jobQueue.length>0&&(at=X.jobQueue.shift(),at.start(),X.jobsInProgress++),ot(tt.image,tt.errorMsg,tt.request)}}(OpenSeadragon),function(F){F.Tile=function(W,q,X,tt,ot,at,ut,wt,uo,mo){this.level=W,this.x=q,this.y=X,this.bounds=tt,this.sourceBounds=mo,this.exists=ot,this.url=at,this.context2D=ut,this.loadWithAjax=wt,this.ajaxHeaders=uo,this.ajaxHeaders?this.cacheKey=this.url+"+"+JSON.stringify(this.ajaxHeaders):this.cacheKey=this.url,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.image=null,this.style=null,this.position=null,this.size=null,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},F.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return!!this.context2D||this.url.match(".png")},drawHTML:function(W){if(!this.cacheImageRecord){F.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString());return}if(!this.loaded){F.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}this.element||(this.element=F.makeNeutralElement("div"),this.imgElement=this.cacheImageRecord.getImage().cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"),this.element.parentNode!=W&&W.appendChild(this.element),this.imgElement.parentNode!=this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",F.setElementOpacity(this.element,this.opacity)},drawCanvas:function(W,q,X,tt){var ot=this.position.times(F.pixelDensityRatio),at=this.size.times(F.pixelDensityRatio),ut;if(!this.context2D&&!this.cacheImageRecord){F.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString());return}if(ut=this.context2D||this.cacheImageRecord.getRenderedContext(),!this.loaded||!ut){F.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}W.save(),W.globalAlpha=this.opacity,typeof X=="number"&&X!==1&&(ot=ot.times(X),at=at.times(X)),tt instanceof F.Point&&(ot=ot.plus(tt)),W.globalAlpha===1&&this._hasTransparencyChannel()&&W.clearRect(ot.x,ot.y,at.x,at.y),q({context:W,tile:this,rendered:ut});var wt,uo;this.sourceBounds?(wt=Math.min(this.sourceBounds.width,ut.canvas.width),uo=Math.min(this.sourceBounds.height,ut.canvas.height)):(wt=ut.canvas.width,uo=ut.canvas.height),W.drawImage(ut.canvas,0,0,wt,uo,ot.x,ot.y,at.x,at.y),W.restore()},getScaleForEdgeSmoothing:function(){var W;if(this.cacheImageRecord)W=this.cacheImageRecord.getRenderedContext();else if(this.context2D)W=this.context2D;else return F.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;return W.canvas.width/(this.size.x*F.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(W,q,X){var tt=Math.max(1,Math.ceil((X.x-q.x)/2)),ot=Math.max(1,Math.ceil((X.y-q.y)/2));return new F.Point(tt,ot).minus(this.position.times(F.pixelDensityRatio).times(W||1).apply(function(at){return at%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(OpenSeadragon),function(F){F.OverlayPlacement=F.Placement,F.OverlayRotationMode=F.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),F.Overlay=function(W,q,X){var tt;F.isPlainObject(W)?tt=W:tt={element:W,location:q,placement:X},this.element=tt.element,this.style=tt.element.style,this._init(tt)},F.Overlay.prototype={_init:function(W){this.location=W.location,this.placement=W.placement===void 0?F.Placement.TOP_LEFT:W.placement,this.onDraw=W.onDraw,this.checkResize=W.checkResize===void 0?!0:W.checkResize,this.width=W.width===void 0?null:W.width,this.height=W.height===void 0?null:W.height,this.rotationMode=W.rotationMode||F.OverlayRotationMode.EXACT,this.location instanceof F.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=F.Placement.TOP_LEFT),this.scales=this.width!==null&&this.height!==null,this.bounds=new F.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(W,q){var X=F.Placement.properties[this.placement];X&&(X.isHorizontallyCentered?W.x-=q.x/2:X.isRight&&(W.x-=q.x),X.isVerticallyCentered?W.y-=q.y/2:X.isBottom&&(W.y-=q.y))},destroy:function(){var W=this.element,q=this.style;W.parentNode&&(W.parentNode.removeChild(W),W.prevElementParent&&(q.display="none",document.body.appendChild(W))),this.onDraw=null,q.top="",q.left="",q.position="",this.width!==null&&(q.width=""),this.height!==null&&(q.height="");var X=F.getCssPropertyWithVendorPrefix("transformOrigin"),tt=F.getCssPropertyWithVendorPrefix("transform");X&&tt&&(q[X]="",q[tt]="")},drawHTML:function(W,q){var X=this.element;X.parentNode!==W&&(X.prevElementParent=X.parentNode,X.prevNextSibling=X.nextSibling,W.appendChild(X),this.style.position="absolute",this.size=F.getElementSize(X));var tt=this._getOverlayPositionAndSize(q),ot=tt.position,at=this.size=tt.size,ut=tt.rotate;if(this.onDraw)this.onDraw(ot,at,this.element);else{var wt=this.style;wt.left=ot.x+"px",wt.top=ot.y+"px",this.width!==null&&(wt.width=at.x+"px"),this.height!==null&&(wt.height=at.y+"px");var uo=F.getCssPropertyWithVendorPrefix("transformOrigin"),mo=F.getCssPropertyWithVendorPrefix("transform");uo&&mo&&(ut?(wt[uo]=this._getTransformOrigin(),wt[mo]="rotate("+ut+"deg)"):(wt[uo]="",wt[mo]="")),wt.display!=="none"&&(wt.display="block")}},_getOverlayPositionAndSize:function(W){var q=W.pixelFromPoint(this.location,!0),X=this._getSizeInPixels(W);this.adjust(q,X);var tt=0;if(W.degrees&&this.rotationMode!==F.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===F.OverlayRotationMode.BOUNDING_BOX&&this.width!==null&&this.height!==null){var ot=new F.Rect(q.x,q.y,X.x,X.y),at=this._getBoundingBox(ot,W.degrees);q=at.getTopLeft(),X=at.getSize()}else tt=W.degrees;return{position:q,size:X,rotate:tt}},_getSizeInPixels:function(W){var q=this.size.x,X=this.size.y;if(this.width!==null||this.height!==null){var tt=W.deltaPixelsFromPointsNoRotate(new F.Point(this.width||0,this.height||0),!0);this.width!==null&&(q=tt.x),this.height!==null&&(X=tt.y)}if(this.checkResize&&(this.width===null||this.height===null)){var ot=this.size=F.getElementSize(this.element);this.width===null&&(q=ot.x),this.height===null&&(X=ot.y)}return new F.Point(q,X)},_getBoundingBox:function(W,q){var X=this._getPlacementPoint(W);return W.rotate(q,X).getBoundingBox()},_getPlacementPoint:function(W){var q=new F.Point(W.x,W.y),X=F.Placement.properties[this.placement];return X&&(X.isHorizontallyCentered?q.x+=W.width/2:X.isRight&&(q.x+=W.width),X.isVerticallyCentered?q.y+=W.height/2:X.isBottom&&(q.y+=W.height)),q},_getTransformOrigin:function(){var W="",q=F.Placement.properties[this.placement];return q&&(q.isLeft?W="left":q.isRight&&(W="right"),q.isTop?W+=" top":q.isBottom&&(W+=" bottom")),W},update:function(W,q){var X=F.isPlainObject(W)?W:{location:W,placement:q};this._init({location:X.location||this.location,placement:X.placement!==void 0?X.placement:this.placement,onDraw:X.onDraw||this.onDraw,checkResize:X.checkResize||this.checkResize,width:X.width!==void 0?X.width:this.width,height:X.height!==void 0?X.height:this.height,rotationMode:X.rotationMode||this.rotationMode})},getBounds:function(W){F.console.assert(W,"A viewport must now be passed to Overlay.getBounds.");var q=this.width,X=this.height;if(q===null||X===null){var tt=W.deltaPointsFromPixelsNoRotate(this.size,!0);q===null&&(q=tt.x),X===null&&(X=tt.y)}var ot=this.location.clone();return this.adjust(ot,new F.Point(q,X)),this._adjustBoundsForRotation(W,new F.Rect(ot.x,ot.y,q,X))},_adjustBoundsForRotation:function(W,q){if(!W||W.degrees===0||this.rotationMode===F.OverlayRotationMode.EXACT)return q;if(this.rotationMode===F.OverlayRotationMode.BOUNDING_BOX){if(this.width===null||this.height===null)return q;var X=this._getOverlayPositionAndSize(W);return W.viewerElementToViewportRectangle(new F.Rect(X.position.x,X.position.y,X.size.x,X.size.y))}return q.rotate(-W.degrees,this._getPlacementPoint(q))}}}(OpenSeadragon),function(F){F.Drawer=function(W){F.console.assert(W.viewer,"[Drawer] options.viewer is required");var q=arguments;if(F.isPlainObject(W)||(W={source:q[0],viewport:q[1],element:q[2]}),F.console.assert(W.viewport,"[Drawer] options.viewport is required"),F.console.assert(W.element,"[Drawer] options.element is required"),W.source&&F.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=W.viewer,this.viewport=W.viewport,this.debugGridColor=typeof W.debugGridColor=="string"?[W.debugGridColor]:W.debugGridColor||F.DEFAULT_SETTINGS.debugGridColor,W.opacity&&F.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=F.supportsCanvas&&(this.viewer?this.viewer.useCanvas:!0),this.container=F.getElement(W.element),this.canvas=F.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var X=this._calculateCanvasSize();this.canvas.width=X.x,this.canvas.height=X.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",F.setElementOpacity(this.canvas,this.opacity,!0),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},F.Drawer.prototype={addOverlay:function(W,q,X,tt){return F.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(W,q,X,tt),this},updateOverlay:function(W,q,X){return F.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(W,q,X),this},removeOverlay:function(W){return F.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(W),this},clearOverlays:function(){return F.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},viewportCoordToDrawerCoord:function(W){var q=this.viewport.pixelFromPointNoRotate(W,!0);return new F.Point(q.x*F.pixelDensityRatio,q.y*F.pixelDensityRatio)},clipWithPolygons:function(W,q){if(this.useCanvas){var X=this._getContext(q);X.beginPath(),W.forEach(function(tt){tt.forEach(function(ot,at){X[at===0?"moveTo":"lineTo"](ot.x,ot.y)})}),X.clip()}},setOpacity:function(W){F.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var q=this.viewer.world,X=0;X<q.getItemCount();X++)q.getItemAt(X).setOpacity(W);return this},getOpacity:function(){F.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var W=this.viewer.world,q=0,X=0;X<W.getItemCount();X++){var tt=W.getItemAt(X).getOpacity();tt>q&&(q=tt)}return q},needsUpdate:function(){return F.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return F.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return F.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return F.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var W=this._calculateCanvasSize();if((this.canvas.width!=W.x||this.canvas.height!=W.y)&&(this.canvas.width=W.x,this.canvas.height=W.y,this._updateImageSmoothingEnabled(this.context),this.sketchCanvas!==null)){var q=this._calculateSketchCanvasSize();this.sketchCanvas.width=q.x,this.sketchCanvas.height=q.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(W,q){if(this.useCanvas){var X=this._getContext(W);if(q)X.clearRect(q.x,q.y,q.width,q.height);else{var tt=X.canvas;X.clearRect(0,0,tt.width,tt.height)}}},viewportToDrawerRectangle:function(W){var q=this.viewport.pixelFromPointNoRotate(W.getTopLeft(),!0),X=this.viewport.deltaPixelsFromPointsNoRotate(W.getSize(),!0);return new F.Rect(q.x*F.pixelDensityRatio,q.y*F.pixelDensityRatio,X.x*F.pixelDensityRatio,X.y*F.pixelDensityRatio)},drawTile:function(W,q,X,tt,ot){if(F.console.assert(W,"[Drawer.drawTile] tile is required"),F.console.assert(q,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var at=this._getContext(X);tt=tt||1,W.drawCanvas(at,q,tt,ot)}else W.drawHTML(this.canvas)},_getContext:function(W){var q=this.context;if(W){if(this.sketchCanvas===null){this.sketchCanvas=document.createElement("canvas");var X=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=X.x,this.sketchCanvas.height=X.y,this.sketchContext=this.sketchCanvas.getContext("2d"),this.viewport.getRotation()===0){var tt=this;this.viewer.addHandler("rotate",function ot(){if(tt.viewport.getRotation()!==0){tt.viewer.removeHandler("rotate",ot);var at=tt._calculateSketchCanvasSize();tt.sketchCanvas.width=at.x,tt.sketchCanvas.height=at.y}})}this._updateImageSmoothingEnabled(this.sketchContext)}q=this.sketchContext}return q},saveContext:function(W){this.useCanvas&&this._getContext(W).save()},restoreContext:function(W){this.useCanvas&&this._getContext(W).restore()},setClip:function(W,q){if(this.useCanvas){var X=this._getContext(q);X.beginPath(),X.rect(W.x,W.y,W.width,W.height),X.clip()}},drawRectangle:function(W,q,X){if(this.useCanvas){var tt=this._getContext(X);tt.save(),tt.fillStyle=q,tt.fillRect(W.x,W.y,W.width,W.height),tt.restore()}},blendSketch:function(W,q,X,tt){var ot=W;if(F.isPlainObject(ot)||(ot={opacity:W,scale:q,translate:X,compositeOperation:tt}),!(!this.useCanvas||!this.sketchCanvas)){W=ot.opacity,tt=ot.compositeOperation;var at=ot.bounds;if(this.context.save(),this.context.globalAlpha=W,tt&&(this.context.globalCompositeOperation=tt),at)at.x<0&&(at.width+=at.x,at.x=0),at.x+at.width>this.canvas.width&&(at.width=this.canvas.width-at.x),at.y<0&&(at.height+=at.y,at.y=0),at.y+at.height>this.canvas.height&&(at.height=this.canvas.height-at.y),this.context.drawImage(this.sketchCanvas,at.x,at.y,at.width,at.height,at.x,at.y,at.width,at.height);else{q=ot.scale||1,X=ot.translate;var ut=X instanceof F.Point?X:new F.Point(0,0),wt=0,uo=0;if(X){var mo=this.sketchCanvas.width-this.canvas.width,yo=this.sketchCanvas.height-this.canvas.height;wt=Math.round(mo/2),uo=Math.round(yo/2)}this.context.drawImage(this.sketchCanvas,ut.x-wt*q,ut.y-uo*q,(this.canvas.width+2*wt)*q,(this.canvas.height+2*uo)*q,-wt,-uo,this.canvas.width+2*wt,this.canvas.height+2*uo)}this.context.restore()}},drawDebugInfo:function(W,q,X,tt){if(this.useCanvas){var ot=this.viewer.world.getIndexOfItem(tt)%this.debugGridColor.length,at=this.context;at.save(),at.lineWidth=2*F.pixelDensityRatio,at.font="small-caps bold "+13*F.pixelDensityRatio+"px arial",at.strokeStyle=this.debugGridColor[ot],at.fillStyle=this.debugGridColor[ot],this.viewport.degrees!==0&&this._offsetForRotation({degrees:this.viewport.degrees}),tt.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:tt.getRotation(!0),point:tt.viewport.pixelFromPointNoRotate(tt._getRotationPoint(!0),!0)}),tt.viewport.degrees===0&&tt.getRotation(!0)%360===0&&tt._drawer.viewer.viewport.getFlip()&&tt._drawer._flip(),at.strokeRect(W.position.x*F.pixelDensityRatio,W.position.y*F.pixelDensityRatio,W.size.x*F.pixelDensityRatio,W.size.y*F.pixelDensityRatio);var ut=(W.position.x+W.size.x/2)*F.pixelDensityRatio,wt=(W.position.y+W.size.y/2)*F.pixelDensityRatio;at.translate(ut,wt),at.rotate(Math.PI/180*-this.viewport.degrees),at.translate(-ut,-wt),W.x===0&&W.y===0&&(at.fillText("Zoom: "+this.viewport.getZoom(),W.position.x*F.pixelDensityRatio,(W.position.y-30)*F.pixelDensityRatio),at.fillText("Pan: "+this.viewport.getBounds().toString(),W.position.x*F.pixelDensityRatio,(W.position.y-20)*F.pixelDensityRatio)),at.fillText("Level: "+W.level,(W.position.x+10)*F.pixelDensityRatio,(W.position.y+20)*F.pixelDensityRatio),at.fillText("Column: "+W.x,(W.position.x+10)*F.pixelDensityRatio,(W.position.y+30)*F.pixelDensityRatio),at.fillText("Row: "+W.y,(W.position.x+10)*F.pixelDensityRatio,(W.position.y+40)*F.pixelDensityRatio),at.fillText("Order: "+X+" of "+q,(W.position.x+10)*F.pixelDensityRatio,(W.position.y+50)*F.pixelDensityRatio),at.fillText("Size: "+W.size.toString(),(W.position.x+10)*F.pixelDensityRatio,(W.position.y+60)*F.pixelDensityRatio),at.fillText("Position: "+W.position.toString(),(W.position.x+10)*F.pixelDensityRatio,(W.position.y+70)*F.pixelDensityRatio),this.viewport.degrees!==0&&this._restoreRotationChanges(),tt.getRotation(!0)%360!==0&&this._restoreRotationChanges(),tt.viewport.degrees===0&&tt.getRotation(!0)%360===0&&tt._drawer.viewer.viewport.getFlip()&&tt._drawer._flip(),at.restore()}},debugRect:function(W){if(this.useCanvas){var q=this.context;q.save(),q.lineWidth=2*F.pixelDensityRatio,q.strokeStyle=this.debugGridColor[0],q.fillStyle=this.debugGridColor[0],q.strokeRect(W.x*F.pixelDensityRatio,W.y*F.pixelDensityRatio,W.width*F.pixelDensityRatio,W.height*F.pixelDensityRatio),q.restore()}},setImageSmoothingEnabled:function(W){this.useCanvas&&(this._imageSmoothingEnabled=W,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(W){W.msImageSmoothingEnabled=this._imageSmoothingEnabled,W.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(W){var q=this._getContext(W).canvas;return new F.Point(q.width,q.height)},getCanvasCenter:function(){return new F.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(W){var q=W.point?W.point.times(F.pixelDensityRatio):this.getCanvasCenter(),X=this._getContext(W.useSketch);X.save(),X.translate(q.x,q.y),this.viewer.viewport.flipped?(X.rotate(Math.PI/180*-W.degrees),X.scale(-1,1)):X.rotate(Math.PI/180*W.degrees),X.translate(-q.x,-q.y)},_flip:function(W){W=W||{};var q=W.point?W.point.times(F.pixelDensityRatio):this.getCanvasCenter(),X=this._getContext(W.useSketch);X.translate(q.x,0),X.scale(-1,1),X.translate(-q.x,0)},_restoreRotationChanges:function(W){var q=this._getContext(W);q.restore()},_calculateCanvasSize:function(){var W=F.pixelDensityRatio,q=this.viewport.getContainerSize();return{x:Math.round(q.x*W),y:Math.round(q.y*W)}},_calculateSketchCanvasSize:function(){var W=this._calculateCanvasSize();if(this.viewport.getRotation()===0)return W;var q=Math.ceil(Math.sqrt(W.x*W.x+W.y*W.y));return{x:q,y:q}}}}(OpenSeadragon),function(F){F.Viewport=function(W){var q=arguments;q.length&&q[0]instanceof F.Point&&(W={containerSize:q[0],contentSize:q[1],config:q[2]}),W.config&&(F.extend(!0,W,W.config),delete W.config),this._margins=F.extend({left:0,top:0,right:0,bottom:0},W.margins||{}),delete W.margins,F.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,viewer:null,springStiffness:F.DEFAULT_SETTINGS.springStiffness,animationTime:F.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:F.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:F.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:F.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:F.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:F.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:F.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:F.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:F.DEFAULT_SETTINGS.maxZoomLevel,degrees:F.DEFAULT_SETTINGS.degrees,flipped:F.DEFAULT_SETTINGS.flipped,homeFillsViewer:F.DEFAULT_SETTINGS.homeFillsViewer},W),this._updateContainerInnerSize(),this.centerSpringX=new F.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new F.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new F.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._setContentBounds(new F.Rect(0,0,1,1),1),this.goHome(!0),this.update()},F.Viewport.prototype={resetContentSize:function(W){return F.console.assert(W,"[Viewport.resetContentSize] contentSize is required"),F.console.assert(W instanceof F.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),F.console.assert(W.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),F.console.assert(W.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new F.Rect(0,0,1,W.y/W.x),W.x),this},setHomeBounds:function(W,q){F.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(W,q)},_setContentBounds:function(W,q){F.console.assert(W,"[Viewport._setContentBounds] bounds is required"),F.console.assert(W instanceof F.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),F.console.assert(W.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),F.console.assert(W.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=W.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(q),this._contentBounds=W.rotate(this.degrees).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(q),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:q,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var W=this._contentAspectRatio/this.getAspectRatio(),q;return this.homeFillsViewer?q=W>=1?W:1:q=W>=1?1:W,q/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var W=this._contentBounds.getCenter(),q=1/this.getHomeZoom(),X=q/this.getAspectRatio();return new F.Rect(W.x-q/2,W.y-X/2,q,X)},goHome:function(W){return this.viewer&&this.viewer.raiseEvent("home",{immediately:W}),this.fitBounds(this.getHomeBounds(),W)},getMinZoom:function(){var W=this.getHomeZoom(),q=this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*W;return q},getMaxZoom:function(){var W=this.maxZoomLevel;return W||(W=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,W/=this._contentBounds.width),Math.max(W,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new F.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return F.extend({},this._margins)},setMargins:function(W){F.console.assert(F.type(W)==="object","[Viewport.setMargins] margins must be an object"),this._margins=F.extend({left:0,top:0,right:0,bottom:0},W),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(W){return this.getBoundsNoRotate(W).rotate(-this.getRotation())},getBoundsNoRotate:function(W){var q=this.getCenter(W),X=1/this.getZoom(W),tt=X/this.getAspectRatio();return new F.Rect(q.x-X/2,q.y-tt/2,X,tt)},getBoundsWithMargins:function(W){return this.getBoundsNoRotateWithMargins(W).rotate(-this.getRotation(),this.getCenter(W))},getBoundsNoRotateWithMargins:function(W){var q=this.getBoundsNoRotate(W),X=this._containerInnerSize.x*this.getZoom(W);return q.x-=this._margins.left/X,q.y-=this._margins.top/X,q.width+=(this._margins.left+this._margins.right)/X,q.height+=(this._margins.top+this._margins.bottom)/X,q},getCenter:function(W){var q=new F.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),X=new F.Point(this.centerSpringX.target.value,this.centerSpringY.target.value),tt,ot,at,ut,wt,uo,mo,yo;return W?q:this.zoomPoint?(tt=this.pixelFromPoint(this.zoomPoint,!0),ot=this.getZoom(),at=1/ot,ut=at/this.getAspectRatio(),wt=new F.Rect(q.x-at/2,q.y-ut/2,at,ut),uo=this._pixelFromPoint(this.zoomPoint,wt),mo=uo.minus(tt),yo=mo.divide(this._containerInnerSize.x*ot),X.plus(yo)):X},getZoom:function(W){return W?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(W){return Math.max(Math.min(W,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(W){var q=new F.Rect(W.x,W.y,W.width,W.height);if(!this.wrapHorizontal){var X=this.visibilityRatio*q.width,tt=q.x+q.width,ot=this._contentBoundsNoRotate.x+this._contentBoundsNoRotate.width,at=this._contentBoundsNoRotate.x-tt+X,ut=ot-q.x-X;X>this._contentBoundsNoRotate.width?q.x+=(at+ut)/2:ut<0?q.x+=ut:at>0&&(q.x+=at)}if(!this.wrapVertical){var wt=this.visibilityRatio*q.height,uo=q.y+q.height,mo=this._contentBoundsNoRotate.y+this._contentBoundsNoRotate.height,yo=this._contentBoundsNoRotate.y-uo+wt,lf=mo-q.y-wt;wt>this._contentBoundsNoRotate.height?q.y+=(yo+lf)/2:lf<0?q.y+=lf:yo>0&&(q.y+=yo)}return q},_raiseConstraintsEvent:function(W){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:W})},applyConstraints:function(W){var q=this.getZoom(),X=this._applyZoomConstraints(q);q!==X&&this.zoomTo(X,this.zoomPoint,W);var tt=this.getBoundsNoRotate(),ot=this._applyBoundaryConstraints(tt);return this._raiseConstraintsEvent(W),(tt.x!==ot.x||tt.y!==ot.y||W)&&this.fitBounds(ot.rotate(-this.getRotation()),W),this},ensureVisible:function(W){return this.applyConstraints(W)},_fitBounds:function(W,q){q=q||{};var X=q.immediately||!1,tt=q.constraints||!1,ot=this.getAspectRatio(),at=W.getCenter(),ut=new F.Rect(W.x,W.y,W.width,W.height,W.degrees+this.getRotation()).getBoundingBox();ut.getAspectRatio()>=ot?ut.height=ut.width/ot:ut.width=ut.height*ot,ut.x=at.x-ut.width/2,ut.y=at.y-ut.height/2;var wt=1/ut.width;if(tt){var uo=ut.getAspectRatio(),mo=this._applyZoomConstraints(wt);wt!==mo&&(wt=mo,ut.width=1/wt,ut.x=at.x-ut.width/2,ut.height=ut.width/uo,ut.y=at.y-ut.height/2),ut=this._applyBoundaryConstraints(ut),at=ut.getCenter(),this._raiseConstraintsEvent(X)}if(X)return this.panTo(at,!0),this.zoomTo(wt,null,!0);this.panTo(this.getCenter(!0),!0),this.zoomTo(this.getZoom(!0),null,!0);var yo=this.getBounds(),lf=this.getZoom();if(lf===0||Math.abs(wt/lf-1)<1e-8)return this.zoomTo(wt,!0),this.panTo(at,X);ut=ut.rotate(-this.getRotation());var uf=ut.getTopLeft().times(wt).minus(yo.getTopLeft().times(lf)).divide(wt-lf);return this.zoomTo(wt,uf,X)},fitBounds:function(W,q){return this._fitBounds(W,{immediately:q,constraints:!1})},fitBoundsWithConstraints:function(W,q){return this._fitBounds(W,{immediately:q,constraints:!0})},fitVertically:function(W){var q=new F.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(q,W)},fitHorizontally:function(W){var q=new F.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(q,W)},getConstrainedBounds:function(W){var q,X;return q=this.getBounds(W),X=this._applyBoundaryConstraints(q),X},panBy:function(W,q){var X=new F.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(X.plus(W),q)},panTo:function(W,q){return q?(this.centerSpringX.resetTo(W.x),this.centerSpringY.resetTo(W.y)):(this.centerSpringX.springTo(W.x),this.centerSpringY.springTo(W.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:W,immediately:q}),this},zoomBy:function(W,q,X){return this.zoomTo(this.zoomSpring.target.value*W,q,X)},zoomTo:function(W,q,X){var tt=this;return this.zoomPoint=q instanceof F.Point&&!isNaN(q.x)&&!isNaN(q.y)?q:null,X?this._adjustCenterSpringsForZoomPoint(function(){tt.zoomSpring.resetTo(W)}):this.zoomSpring.springTo(W),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:W,refPoint:q,immediately:X}),this},setRotation:function(W){return!this.viewer||!this.viewer.drawer.canRotate()?this:(this.degrees=F.positiveModulo(W,360),this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:W}),this)},getRotation:function(){return this.degrees},resize:function(W,q){var X=this.getBoundsNoRotate(),tt=X,ot;return this.containerSize.x=W.x,this.containerSize.y=W.y,this._updateContainerInnerSize(),q&&(ot=W.x/this.containerSize.x,tt.width=X.width*ot,tt.height=tt.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:W,maintain:q}),this.fitBounds(tt,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new F.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var W=this;this._adjustCenterSpringsForZoomPoint(function(){W.zoomSpring.update()}),this.centerSpringX.update(),this.centerSpringY.update();var q=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,q},_adjustCenterSpringsForZoomPoint:function(W){if(this.zoomPoint){var q=this.pixelFromPoint(this.zoomPoint,!0);W();var X=this.pixelFromPoint(this.zoomPoint,!0),tt=X.minus(q),ot=this.deltaPointsFromPixels(tt,!0);this.centerSpringX.shiftBy(ot.x),this.centerSpringY.shiftBy(ot.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else W()},deltaPixelsFromPointsNoRotate:function(W,q){return W.times(this._containerInnerSize.x*this.getZoom(q))},deltaPixelsFromPoints:function(W,q){return this.deltaPixelsFromPointsNoRotate(W.rotate(this.getRotation()),q)},deltaPointsFromPixelsNoRotate:function(W,q){return W.divide(this._containerInnerSize.x*this.getZoom(q))},deltaPointsFromPixels:function(W,q){return this.deltaPointsFromPixelsNoRotate(W,q).rotate(-this.getRotation())},pixelFromPointNoRotate:function(W,q){return this._pixelFromPointNoRotate(W,this.getBoundsNoRotate(q))},pixelFromPoint:function(W,q){return this._pixelFromPoint(W,this.getBoundsNoRotate(q))},_pixelFromPointNoRotate:function(W,q){return W.minus(q.getTopLeft()).times(this._containerInnerSize.x/q.width).plus(new F.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(W,q){return this._pixelFromPointNoRotate(W.rotate(this.getRotation(),this.getCenter(!0)),q)},pointFromPixelNoRotate:function(W,q){var X=this.getBoundsNoRotate(q);return W.minus(new F.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/X.width).plus(X.getTopLeft())},pointFromPixel:function(W,q){return this.pointFromPixelNoRotate(W,q).rotate(-this.getRotation(),this.getCenter(!0))},_viewportToImageDelta:function(W,q){var X=this._contentBoundsNoRotate.width;return new F.Point(W*this._contentSizeNoRotate.x/X,q*this._contentSizeNoRotate.x/X)},viewportToImageCoordinates:function(W,q){if(W instanceof F.Point)return this.viewportToImageCoordinates(W.x,W.y);if(this.viewer){var X=this.viewer.world.getItemCount();if(X>1)F.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(X===1){var tt=this.viewer.world.getItemAt(0);return tt.viewportToImageCoordinates(W,q,!0)}}return this._viewportToImageDelta(W-this._contentBoundsNoRotate.x,q-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(W,q){var X=this._contentBoundsNoRotate.width;return new F.Point(W/this._contentSizeNoRotate.x*X,q/this._contentSizeNoRotate.x*X)},imageToViewportCoordinates:function(W,q){if(W instanceof F.Point)return this.imageToViewportCoordinates(W.x,W.y);if(this.viewer){var X=this.viewer.world.getItemCount();if(X>1)F.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(X===1){var tt=this.viewer.world.getItemAt(0);return tt.imageToViewportCoordinates(W,q,!0)}}var ot=this._imageToViewportDelta(W,q);return ot.x+=this._contentBoundsNoRotate.x,ot.y+=this._contentBoundsNoRotate.y,ot},imageToViewportRectangle:function(W,q,X,tt){var ot=W;if(ot instanceof F.Rect||(ot=new F.Rect(W,q,X,tt)),this.viewer){var at=this.viewer.world.getItemCount();if(at>1)F.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(at===1){var ut=this.viewer.world.getItemAt(0);return ut.imageToViewportRectangle(W,q,X,tt,!0)}}var wt=this.imageToViewportCoordinates(ot.x,ot.y),uo=this._imageToViewportDelta(ot.width,ot.height);return new F.Rect(wt.x,wt.y,uo.x,uo.y,ot.degrees)},viewportToImageRectangle:function(W,q,X,tt){var ot=W;if(ot instanceof F.Rect||(ot=new F.Rect(W,q,X,tt)),this.viewer){var at=this.viewer.world.getItemCount();if(at>1)F.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(at===1){var ut=this.viewer.world.getItemAt(0);return ut.viewportToImageRectangle(W,q,X,tt,!0)}}var wt=this.viewportToImageCoordinates(ot.x,ot.y),uo=this._viewportToImageDelta(ot.width,ot.height);return new F.Rect(wt.x,wt.y,uo.x,uo.y,ot.degrees)},viewerElementToImageCoordinates:function(W){var q=this.pointFromPixel(W,!0);return this.viewportToImageCoordinates(q)},imageToViewerElementCoordinates:function(W){var q=this.imageToViewportCoordinates(W);return this.pixelFromPoint(q,!0)},windowToImageCoordinates:function(W){F.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var q=W.minus(F.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(q)},imageToWindowCoordinates:function(W){F.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer.");var q=this.imageToViewerElementCoordinates(W);return q.plus(F.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(W){return this.pointFromPixel(W,!0)},viewportToViewerElementCoordinates:function(W){return this.pixelFromPoint(W,!0)},viewerElementToViewportRectangle:function(W){return F.Rect.fromSummits(this.pointFromPixel(W.getTopLeft(),!0),this.pointFromPixel(W.getTopRight(),!0),this.pointFromPixel(W.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(W){return F.Rect.fromSummits(this.pixelFromPoint(W.getTopLeft(),!0),this.pixelFromPoint(W.getTopRight(),!0),this.pixelFromPoint(W.getBottomLeft(),!0))},windowToViewportCoordinates:function(W){F.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var q=W.minus(F.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(q)},viewportToWindowCoordinates:function(W){F.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer.");var q=this.viewportToViewerElementCoordinates(W);return q.plus(F.getElementPosition(this.viewer.element))},viewportToImageZoom:function(W){if(this.viewer){var q=this.viewer.world.getItemCount();if(q>1)F.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(q===1){var X=this.viewer.world.getItemAt(0);return X.viewportToImageZoom(W)}}var tt=this._contentSizeNoRotate.x,ot=this._containerInnerSize.x,at=this._contentBoundsNoRotate.width,ut=ot/tt*at;return W*ut},imageToViewportZoom:function(W){if(this.viewer){var q=this.viewer.world.getItemCount();if(q>1)F.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(q===1){var X=this.viewer.world.getItemAt(0);return X.imageToViewportZoom(W)}}var tt=this._contentSizeNoRotate.x,ot=this._containerInnerSize.x,at=this._contentBoundsNoRotate.width,ut=tt/ot/at;return W*ut},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(W){return this.flipped===W?this:(this.flipped=W,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:W}),this)}}}(OpenSeadragon),function(F){F.TiledImage=function(wo){var ls=this;F.console.assert(wo.tileCache,"[TiledImage] options.tileCache is required"),F.console.assert(wo.drawer,"[TiledImage] options.drawer is required"),F.console.assert(wo.viewer,"[TiledImage] options.viewer is required"),F.console.assert(wo.imageLoader,"[TiledImage] options.imageLoader is required"),F.console.assert(wo.source,"[TiledImage] options.source is required"),F.console.assert(!wo.clip||wo.clip instanceof F.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),F.EventSource.call(this),this._tileCache=wo.tileCache,delete wo.tileCache,this._drawer=wo.drawer,delete wo.drawer,this._imageLoader=wo.imageLoader,delete wo.imageLoader,wo.clip instanceof F.Rect&&(this._clip=wo.clip.clone()),delete wo.clip;var _f=wo.x||0;delete wo.x;var po=wo.y||0;delete wo.y,this.normHeight=wo.source.dimensions.y/wo.source.dimensions.x,this.contentAspectX=wo.source.dimensions.x/wo.source.dimensions.y;var xo=1;wo.width?(xo=wo.width,delete wo.width,wo.height&&(F.console.error("specifying both width and height to a tiledImage is not supported"),delete wo.height)):wo.height&&(xo=wo.height/this.normHeight,delete wo.height);var gf=wo.fitBounds;delete wo.fitBounds;var cf=wo.fitBoundsPlacement||OpenSeadragon.Placement.CENTER;delete wo.fitBoundsPlacement;var yf=wo.degrees||0;delete wo.degrees,F.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:F.DEFAULT_SETTINGS.springStiffness,animationTime:F.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:F.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:F.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:F.DEFAULT_SETTINGS.wrapVertical,immediateRender:F.DEFAULT_SETTINGS.immediateRender,blendTime:F.DEFAULT_SETTINGS.blendTime,alwaysBlend:F.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:F.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:F.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:F.DEFAULT_SETTINGS.iOSDevice,debugMode:F.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:F.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:F.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:F.DEFAULT_SETTINGS.placeholderFillStyle,opacity:F.DEFAULT_SETTINGS.opacity,preload:F.DEFAULT_SETTINGS.preload,compositeOperation:F.DEFAULT_SETTINGS.compositeOperation},wo),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new F.Spring({initial:_f,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new F.Spring({initial:po,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new F.Spring({initial:xo,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new F.Spring({initial:yf,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),gf&&this.fitBounds(gf,cf,!0),this._drawingHandler=function(Sf){ls.viewer.raiseEvent("tile-drawing",F.extend({tiledImage:ls},Sf))}},F.extend(F.TiledImage.prototype,F.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(wo){wo!==this._fullyLoaded&&(this._fullyLoaded=wo,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=F.now(),this._needsDraw=!0},update:function(){var wo=this._xSpring.update(),ls=this._ySpring.update(),_f=this._scaleSpring.update(),po=this._degreesSpring.update();return wo||ls||_f||po?(this._updateForScale(),this._needsDraw=!0,!0):!1},draw:function(){this.opacity!==0||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset()},getBounds:function(wo){return this.getBoundsNoRotate(wo).rotate(this.getRotation(wo),this._getRotationPoint(wo))},getBoundsNoRotate:function(wo){return wo?new F.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new F.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return F.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(wo){var ls=this.getBoundsNoRotate(wo);if(this._clip){var _f=wo?this._worldWidthCurrent:this._worldWidthTarget,po=_f/this.source.dimensions.x,xo=this._clip.times(po);ls=new F.Rect(ls.x+xo.x,ls.y+xo.y,xo.width,xo.height)}return ls.rotate(this.getRotation(wo),this._getRotationPoint(wo))},getContentSize:function(){return new F.Point(this.source.dimensions.x,this.source.dimensions.y)},_viewportToImageDelta:function(wo,ls,_f){var po=_f?this._scaleSpring.current.value:this._scaleSpring.target.value;return new F.Point(wo*(this.source.dimensions.x/po),ls*(this.source.dimensions.y*this.contentAspectX/po))},viewportToImageCoordinates:function(wo,ls,_f){var po;return wo instanceof F.Point?(_f=ls,po=wo):po=new F.Point(wo,ls),po=po.rotate(-this.getRotation(_f),this._getRotationPoint(_f)),_f?this._viewportToImageDelta(po.x-this._xSpring.current.value,po.y-this._ySpring.current.value):this._viewportToImageDelta(po.x-this._xSpring.target.value,po.y-this._ySpring.target.value)},_imageToViewportDelta:function(wo,ls,_f){var po=_f?this._scaleSpring.current.value:this._scaleSpring.target.value;return new F.Point(wo/this.source.dimensions.x*po,ls/this.source.dimensions.y/this.contentAspectX*po)},imageToViewportCoordinates:function(wo,ls,_f){wo instanceof F.Point&&(_f=ls,ls=wo.y,wo=wo.x);var po=this._imageToViewportDelta(wo,ls);return _f?(po.x+=this._xSpring.current.value,po.y+=this._ySpring.current.value):(po.x+=this._xSpring.target.value,po.y+=this._ySpring.target.value),po.rotate(this.getRotation(_f),this._getRotationPoint(_f))},imageToViewportRectangle:function(wo,ls,_f,po,xo){var gf=wo;gf instanceof F.Rect?xo=ls:gf=new F.Rect(wo,ls,_f,po);var cf=this.imageToViewportCoordinates(gf.getTopLeft(),xo),yf=this._imageToViewportDelta(gf.width,gf.height,xo);return new F.Rect(cf.x,cf.y,yf.x,yf.y,gf.degrees+this.getRotation(xo))},viewportToImageRectangle:function(wo,ls,_f,po,xo){var gf=wo;wo instanceof F.Rect?xo=ls:gf=new F.Rect(wo,ls,_f,po);var cf=this.viewportToImageCoordinates(gf.getTopLeft(),xo),yf=this._viewportToImageDelta(gf.width,gf.height,xo);return new F.Rect(cf.x,cf.y,yf.x,yf.y,gf.degrees-this.getRotation(xo))},viewerElementToImageCoordinates:function(wo){var ls=this.viewport.pointFromPixel(wo,!0);return this.viewportToImageCoordinates(ls)},imageToViewerElementCoordinates:function(wo){var ls=this.imageToViewportCoordinates(wo);return this.viewport.pixelFromPoint(ls,!0)},windowToImageCoordinates:function(wo){var ls=wo.minus(OpenSeadragon.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(ls)},imageToWindowCoordinates:function(wo){var ls=this.imageToViewerElementCoordinates(wo);return ls.plus(OpenSeadragon.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(wo){var ls=this._scaleSpring.current.value;return wo=wo.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new F.Rect((wo.x-this._xSpring.current.value)/ls,(wo.y-this._ySpring.current.value)/ls,wo.width/ls,wo.height/ls,wo.degrees)},viewportToImageZoom:function(wo){var ls=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return ls*wo},imageToViewportZoom:function(wo){var ls=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return wo/ls},setPosition:function(wo,ls){var _f=this._xSpring.target.value===wo.x&&this._ySpring.target.value===wo.y;if(ls){if(_f&&this._xSpring.current.value===wo.x&&this._ySpring.current.value===wo.y)return;this._xSpring.resetTo(wo.x),this._ySpring.resetTo(wo.y),this._needsDraw=!0}else{if(_f)return;this._xSpring.springTo(wo.x),this._ySpring.springTo(wo.y),this._needsDraw=!0}_f||this._raiseBoundsChange()},setWidth:function(wo,ls){this._setScale(wo,ls)},setHeight:function(wo,ls){this._setScale(wo/this.normHeight,ls)},setCroppingPolygons:function(wo){var ls=function(po){return po instanceof F.Point||typeof po.x=="number"&&typeof po.y=="number"},_f=function(po){return po.map(function(xo){try{if(ls(xo))return{x:xo.x,y:xo.y};throw new Error}catch{throw new Error("A Provided cropping polygon point is not supported")}})};try{if(!F.isArray(wo))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=wo.map(function(po){return _f(po)})}catch(po){F.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),F.console.error(po),this._croppingPolygons=null}},resetCroppingPolygons:function(){this._croppingPolygons=null},fitBounds:function(wo,ls,_f){ls=ls||F.Placement.CENTER;var po=F.Placement.properties[ls],xo=this.contentAspectX,gf=0,cf=0,yf=1,Sf=1;if(this._clip&&(xo=this._clip.getAspectRatio(),yf=this._clip.width/this.source.dimensions.x,Sf=this._clip.height/this.source.dimensions.y,wo.getAspectRatio()>xo?(gf=this._clip.x/this._clip.height*wo.height,cf=this._clip.y/this._clip.height*wo.height):(gf=this._clip.x/this._clip.width*wo.width,cf=this._clip.y/this._clip.width*wo.width)),wo.getAspectRatio()>xo){var xf=wo.height/Sf,bf=0;po.isHorizontallyCentered?bf=(wo.width-wo.height*xo)/2:po.isRight&&(bf=wo.width-wo.height*xo),this.setPosition(new F.Point(wo.x-gf+bf,wo.y-cf),_f),this.setHeight(xf,_f)}else{var Af=wo.width/yf,Pf=0;po.isVerticallyCentered?Pf=(wo.height-wo.width/xo)/2:po.isBottom&&(Pf=wo.height-wo.width/xo),this.setPosition(new F.Point(wo.x-gf,wo.y-cf+Pf),_f),this.setWidth(Af,_f)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(wo){F.console.assert(!wo||wo instanceof F.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),wo instanceof F.Rect?this._clip=wo.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getOpacity:function(){return this.opacity},setOpacity:function(wo){wo!==this.opacity&&(this.opacity=wo,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(wo){this._preload=!!wo,this._needsDraw=!0},getRotation:function(wo){return wo?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(wo,ls){this._degreesSpring.target.value===wo&&this._degreesSpring.isAtTargetValue()||(ls?this._degreesSpring.resetTo(wo):this._degreesSpring.springTo(wo),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(wo){return this.getBoundsNoRotate(wo).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(wo){wo!==this.compositeOperation&&(this.compositeOperation=wo,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(wo,ls){var _f=this._scaleSpring.target.value===wo;if(ls){if(_f&&this._scaleSpring.current.value===wo)return;this._scaleSpring.resetTo(wo),this._updateForScale(),this._needsDraw=!0}else{if(_f)return;this._scaleSpring.springTo(wo),this._updateForScale(),this._needsDraw=!0}_f||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var wo=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),ls=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,_f=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(ls/this.minPixelRatio)/Math.log(2))));return _f=Math.max(_f,this.source.minLevel||0),wo=Math.min(wo,_f),{lowestLevel:wo,highestLevel:_f}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;){var wo=this.lastDrawn.pop();wo.beingDrawn=!1}var ls=this.viewport,_f=this._viewportToTiledImageRectangle(ls.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var po=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(_f=_f.intersection(po),_f===null)return}for(var xo=this._getLevelsInterval(),gf=xo.lowestLevel,cf=xo.highestLevel,yf=null,Sf=!1,xf=F.now(),bf=cf;bf>=gf;bf--){var Af=!1,Pf=ls.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(bf),!0).x*this._scaleSpring.current.value;if(bf===gf||!Sf&&Pf>=this.minPixelRatio)Af=!0,Sf=!0;else if(!Sf)continue;var Df=ls.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(bf),!1).x*this._scaleSpring.current.value,zf=ls.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,jf=this.immediateRender?1:zf,$f=Math.min(1,(Pf-.5)/.5),Ff=jf/Math.abs(jf-Df);if(yf=W(this,Sf,Af,bf,$f,Ff,_f,xf,yf),uo(this.coverage,bf))break}df(this,this.lastDrawn),yf&&!yf.context2D?(tt(this,yf,xf),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(this._tilesLoading===0)},_getCornerTiles:function(wo,ls,_f){var po,xo;this.wrapHorizontal?(po=F.positiveModulo(ls.x,1),xo=F.positiveModulo(_f.x,1)):(po=Math.max(0,ls.x),xo=Math.min(1,_f.x));var gf,cf,yf=1/this.source.aspectRatio;this.wrapVertical?(gf=F.positiveModulo(ls.y,yf),cf=F.positiveModulo(_f.y,yf)):(gf=Math.max(0,ls.y),cf=Math.min(yf,_f.y));var Sf=this.source.getTileAtPoint(wo,new F.Point(po,gf)),xf=this.source.getTileAtPoint(wo,new F.Point(xo,cf)),bf=this.source.getNumTiles(wo);return this.wrapHorizontal&&(Sf.x+=bf.x*Math.floor(ls.x),xf.x+=bf.x*Math.floor(_f.x)),this.wrapVertical&&(Sf.y+=bf.y*Math.floor(ls.y/yf),xf.y+=bf.y*Math.floor(_f.y/yf)),{topLeft:Sf,bottomRight:xf}}});function W(wo,ls,_f,po,xo,gf,cf,yf,Sf){var xf=cf.getBoundingBox().getTopLeft(),bf=cf.getBoundingBox().getBottomRight();wo.viewer&&wo.viewer.raiseEvent("update-level",{tiledImage:wo,havedrawn:ls,level:po,opacity:xo,visibility:gf,drawArea:cf,topleft:xf,bottomright:bf,currenttime:yf,best:Sf}),lf(wo.coverage,po),lf(wo.loadingCoverage,po);for(var Af=wo._getCornerTiles(po,xf,bf),Pf=Af.topLeft,Df=Af.bottomRight,zf=wo.source.getNumTiles(po),jf=wo.viewport.pixelFromPoint(wo.viewport.getCenter()),$f=Pf.x;$f<=Df.x;$f++)for(var Ff=Pf.y;Ff<=Df.y;Ff++){if(!wo.wrapHorizontal&&!wo.wrapVertical){var Xf=wo.source.getTileBounds(po,$f,Ff);if(cf.intersection(Xf)===null)continue}Sf=q(wo,_f,ls,$f,Ff,po,xo,gf,jf,zf,yf,Sf)}return Sf}function q(wo,ls,_f,po,xo,gf,cf,yf,Sf,xf,bf,Af){var Pf=X(po,xo,gf,wo,wo.source,wo.tilesMatrix,bf,xf,wo._worldWidthCurrent,wo._worldHeightCurrent),Df=_f;wo.viewer&&wo.viewer.raiseEvent("update-tile",{tiledImage:wo,tile:Pf}),yo(wo.coverage,gf,po,xo,!1);var zf=Pf.loaded||Pf.loading||mo(wo.loadingCoverage,gf,po,xo);if(yo(wo.loadingCoverage,gf,po,xo,zf),!Pf.exists||(ls&&!Df&&(mo(wo.coverage,gf,po,xo)?yo(wo.coverage,gf,po,xo,!0):Df=!0),!Df))return Af;if(ut(Pf,wo.source.tileOverlap,wo.viewport,Sf,yf,wo),!Pf.loaded)if(Pf.context2D)at(wo,Pf);else{var jf=wo._tileCache.getImageRecord(Pf.cacheKey);if(jf){var $f=jf.getImage();at(wo,Pf,$f)}}if(Pf.loaded){var Ff=wt(wo,Pf,po,xo,gf,cf,bf);Ff&&(wo._needsDraw=!0)}else Pf.loading?wo._tilesLoading++:zf||(Af=uf(Af,Pf));return Af}function X(wo,ls,_f,po,xo,gf,cf,yf,Sf,xf){var bf,Af,Pf,Df,zf,jf,$f,Ff,Xf;return gf[_f]||(gf[_f]={}),gf[_f][wo]||(gf[_f][wo]={}),gf[_f][wo][ls]||(bf=(yf.x+wo%yf.x)%yf.x,Af=(yf.y+ls%yf.y)%yf.y,Pf=xo.getTileBounds(_f,bf,Af),Df=xo.getTileBounds(_f,bf,Af,!0),zf=xo.tileExists(_f,bf,Af),jf=xo.getTileUrl(_f,bf,Af),po.loadTilesWithAjax?($f=xo.getTileAjaxHeaders(_f,bf,Af),F.isPlainObject(po.ajaxHeaders)&&($f=F.extend({},po.ajaxHeaders,$f))):$f=null,Ff=xo.getContext2D?xo.getContext2D(_f,bf,Af):void 0,Pf.x+=(wo-bf)/yf.x,Pf.y+=xf/Sf*((ls-Af)/yf.y),Xf=new F.Tile(_f,wo,ls,Pf,zf,jf,Ff,po.loadTilesWithAjax,$f,Df),bf===yf.x-1&&(Xf.isRightMost=!0),Af===yf.y-1&&(Xf.isBottomMost=!0),gf[_f][wo][ls]=Xf),Xf=gf[_f][wo][ls],Xf.lastTouchTime=cf,Xf}function tt(wo,ls,_f){ls.loading=!0,wo._imageLoader.addJob({src:ls.url,loadWithAjax:ls.loadWithAjax,ajaxHeaders:ls.ajaxHeaders,crossOriginPolicy:wo.crossOriginPolicy,ajaxWithCredentials:wo.ajaxWithCredentials,callback:function(po,xo,gf){ot(wo,ls,_f,po,xo,gf)},abort:function(){ls.loading=!1}})}function ot(wo,ls,_f,po,xo,gf){if(!po){F.console.log("Tile %s failed to load: %s - error: %s",ls,ls.url,xo),wo.viewer.raiseEvent("tile-load-failed",{tile:ls,tiledImage:wo,time:_f,message:xo,tileRequest:gf}),ls.loading=!1,ls.exists=!1;return}if(_f<wo.lastResetTime){F.console.log("Ignoring tile %s loaded before reset: %s",ls,ls.url),ls.loading=!1;return}var cf=function(){var yf=wo.source.getClosestLevel();at(wo,ls,po,yf,gf)};wo._midDraw?window.setTimeout(cf,1):cf()}function at(wo,ls,_f,po,xo){var gf=0;function cf(){return gf++,yf}function yf(){gf--,gf===0&&(ls.loading=!1,ls.loaded=!0,ls.context2D||wo._tileCache.cacheTile({image:_f,tile:ls,cutoff:po,tiledImage:wo}),wo._needsDraw=!0)}wo.viewer.raiseEvent("tile-loaded",{tile:ls,tiledImage:wo,tileRequest:xo,image:_f,getCompletionCallback:cf}),cf()()}function ut(wo,ls,_f,po,xo,gf){var cf=wo.bounds.getTopLeft();cf.x*=gf._scaleSpring.current.value,cf.y*=gf._scaleSpring.current.value,cf.x+=gf._xSpring.current.value,cf.y+=gf._ySpring.current.value;var yf=wo.bounds.getSize();yf.x*=gf._scaleSpring.current.value,yf.y*=gf._scaleSpring.current.value;var Sf=_f.pixelFromPointNoRotate(cf,!0),xf=_f.pixelFromPointNoRotate(cf,!1),bf=_f.deltaPixelsFromPointsNoRotate(yf,!0),Af=_f.deltaPixelsFromPointsNoRotate(yf,!1),Pf=xf.plus(Af.divide(2)),Df=po.squaredDistanceTo(Pf);ls||(bf=bf.plus(new F.Point(1,1))),wo.isRightMost&&gf.wrapHorizontal&&(bf.x+=.75),wo.isBottomMost&&gf.wrapVertical&&(bf.y+=.75),wo.position=Sf,wo.size=bf,wo.squaredDistance=Df,wo.visibility=xo}function wt(wo,ls,_f,po,xo,gf,cf){var yf=1e3*wo.blendTime,Sf,xf;if(ls.blendStart||(ls.blendStart=cf),Sf=cf-ls.blendStart,xf=yf?Math.min(1,Sf/yf):1,wo.alwaysBlend&&(xf*=gf),ls.opacity=xf,wo.lastDrawn.push(ls),xf===1)yo(wo.coverage,xo,_f,po,!0),wo._hasOpaqueTile=!0;else if(Sf<yf)return!0;return!1}function uo(wo,ls,_f,po){var xo,gf,cf,yf;if(!wo[ls])return!1;if(_f===void 0||po===void 0){xo=wo[ls];for(cf in xo)if(Object.prototype.hasOwnProperty.call(xo,cf)){gf=xo[cf];for(yf in gf)if(Object.prototype.hasOwnProperty.call(gf,yf)&&!gf[yf])return!1}return!0}return wo[ls][_f]===void 0||wo[ls][_f][po]===void 0||wo[ls][_f][po]===!0}function mo(wo,ls,_f,po){return _f===void 0||po===void 0?uo(wo,ls+1):uo(wo,ls+1,2*_f,2*po)&&uo(wo,ls+1,2*_f,2*po+1)&&uo(wo,ls+1,2*_f+1,2*po)&&uo(wo,ls+1,2*_f+1,2*po+1)}function yo(wo,ls,_f,po,xo){if(!wo[ls]){F.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",ls);return}wo[ls][_f]||(wo[ls][_f]={}),wo[ls][_f][po]=xo}function lf(wo,ls){wo[ls]={}}function uf(wo,ls){return!wo||ls.visibility>wo.visibility||ls.visibility==wo.visibility&&ls.squaredDistance<wo.squaredDistance?ls:wo}function df(wo,ls){if(!(wo.opacity===0||ls.length===0&&!wo.placeholderFillStyle)){var _f=ls[0],po;_f&&(po=wo.opacity<1||wo.compositeOperation&&wo.compositeOperation!=="source-over"||!wo._isBottomItem()&&_f._hasTransparencyChannel());var xo,gf,cf=wo.viewport.getZoom(!0),yf=wo.viewportToImageZoom(cf);ls.length>1&&yf>wo.smoothTileEdgesMinZoom&&!wo.iOSDevice&&wo.getRotation(!0)%360===0&&F.supportsCanvas&&(po=!0,xo=_f.getScaleForEdgeSmoothing(),gf=_f.getTranslationForEdgeSmoothing(xo,wo._drawer.getCanvasSize(!1),wo._drawer.getCanvasSize(!0)));var Sf;po&&(xo||(Sf=wo.viewport.viewportToViewerElementRectangle(wo.getClippedBounds(!0)).getIntegerBoundingBox(),wo._drawer.viewer.viewport.getFlip()&&(wo.viewport.degrees!==0||wo.getRotation(!0)%360!==0)&&(Sf.x=wo._drawer.viewer.container.clientWidth-(Sf.x+Sf.width)),Sf=Sf.times(F.pixelDensityRatio)),wo._drawer._clear(!0,Sf)),xo||(wo.viewport.degrees!==0&&wo._drawer._offsetForRotation({degrees:wo.viewport.degrees,useSketch:po}),wo.getRotation(!0)%360!==0&&wo._drawer._offsetForRotation({degrees:wo.getRotation(!0),point:wo.viewport.pixelFromPointNoRotate(wo._getRotationPoint(!0),!0),useSketch:po}),wo.viewport.degrees===0&&wo.getRotation(!0)%360===0&&wo._drawer.viewer.viewport.getFlip()&&wo._drawer._flip());var xf=!1;if(wo._clip){wo._drawer.saveContext(po);var bf=wo.imageToViewportRectangle(wo._clip,!0);bf=bf.rotate(-wo.getRotation(!0),wo._getRotationPoint(!0));var Af=wo._drawer.viewportToDrawerRectangle(bf);xo&&(Af=Af.times(xo)),gf&&(Af=Af.translate(gf)),wo._drawer.setClip(Af,po),xf=!0}if(wo._croppingPolygons){wo._drawer.saveContext(po);try{var Pf=wo._croppingPolygons.map(function($f){return $f.map(function(Ff){var Xf=wo.imageToViewportCoordinates(Ff.x,Ff.y,!0).rotate(-wo.getRotation(!0),wo._getRotationPoint(!0)),mp=wo._drawer.viewportCoordToDrawerCoord(Xf);return xo&&(mp=mp.times(xo)),mp})});wo._drawer.clipWithPolygons(Pf,po)}catch($f){F.console.error($f)}xf=!0}if(wo.placeholderFillStyle&&wo._hasOpaqueTile===!1){var Df=wo._drawer.viewportToDrawerRectangle(wo.getBounds(!0));xo&&(Df=Df.times(xo)),gf&&(Df=Df.translate(gf));var zf=null;typeof wo.placeholderFillStyle=="function"?zf=wo.placeholderFillStyle(wo,wo._drawer.context):zf=wo.placeholderFillStyle,wo._drawer.drawRectangle(Df,zf,po)}for(var jf=ls.length-1;jf>=0;jf--)_f=ls[jf],wo._drawer.drawTile(_f,wo._drawingHandler,po,xo,gf),_f.beingDrawn=!0,wo.viewer&&wo.viewer.raiseEvent("tile-drawn",{tiledImage:wo,tile:_f});xf&&wo._drawer.restoreContext(po),xo||(wo.getRotation(!0)%360!==0&&wo._drawer._restoreRotationChanges(po),wo.viewport.degrees!==0&&wo._drawer._restoreRotationChanges(po)),po&&(xo&&(wo.viewport.degrees!==0&&wo._drawer._offsetForRotation({degrees:wo.viewport.degrees,useSketch:!1}),wo.getRotation(!0)%360!==0&&wo._drawer._offsetForRotation({degrees:wo.getRotation(!0),point:wo.viewport.pixelFromPointNoRotate(wo._getRotationPoint(!0),!0),useSketch:!1})),wo._drawer.blendSketch({opacity:wo.opacity,scale:xo,translate:gf,compositeOperation:wo.compositeOperation,bounds:Sf}),xo&&(wo.getRotation(!0)%360!==0&&wo._drawer._restoreRotationChanges(!1),wo.viewport.degrees!==0&&wo._drawer._restoreRotationChanges(!1))),xo||wo.viewport.degrees===0&&wo.getRotation(!0)%360===0&&wo._drawer.viewer.viewport.getFlip()&&wo._drawer._flip(),wf(wo,ls)}}function wf(wo,ls){if(wo.debugMode)for(var _f=ls.length-1;_f>=0;_f--){var po=ls[_f];try{wo._drawer.drawDebugInfo(po,ls.length,_f,wo)}catch(xo){F.console.error(xo)}}}}(OpenSeadragon),function(F){var W=function(X){F.console.assert(X,"[TileCache.cacheTile] options is required"),F.console.assert(X.tile,"[TileCache.cacheTile] options.tile is required"),F.console.assert(X.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=X.tile,this.tiledImage=X.tiledImage},q=function(X){F.console.assert(X,"[ImageRecord] options is required"),F.console.assert(X.image,"[ImageRecord] options.image is required"),this._image=X.image,this._tiles=[]};q.prototype={destroy:function(){this._image=null,this._renderedContext=null,this._tiles=null},getImage:function(){return this._image},getRenderedContext:function(){if(!this._renderedContext){var X=document.createElement("canvas");X.width=this._image.width,X.height=this._image.height,this._renderedContext=X.getContext("2d"),this._renderedContext.drawImage(this._image,0,0),this._image=null}return this._renderedContext},setRenderedContext:function(X){F.console.error("ImageRecord.setRenderedContext is deprecated. The rendered context should be created by the ImageRecord itself when calling ImageRecord.getRenderedContext."),this._renderedContext=X},addTile:function(X){F.console.assert(X,"[ImageRecord.addTile] tile is required"),this._tiles.push(X)},removeTile:function(X){for(var tt=0;tt<this._tiles.length;tt++)if(this._tiles[tt]===X){this._tiles.splice(tt,1);return}F.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",X)},getTileCount:function(){return this._tiles.length}},F.TileCache=function(X){X=X||{},this._maxImageCacheCount=X.maxImageCacheCount||F.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},F.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(X){F.console.assert(X,"[TileCache.cacheTile] options is required"),F.console.assert(X.tile,"[TileCache.cacheTile] options.tile is required"),F.console.assert(X.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),F.console.assert(X.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var tt=X.cutoff||0,ot=this._tilesLoaded.length,at=this._imagesLoaded[X.tile.cacheKey];if(at||(F.console.assert(X.image,"[TileCache.cacheTile] options.image is required to create an ImageRecord"),at=this._imagesLoaded[X.tile.cacheKey]=new q({image:X.image}),this._imagesLoadedCount++),at.addTile(X.tile),X.tile.cacheImageRecord=at,this._imagesLoadedCount>this._maxImageCacheCount){for(var ut=null,wt=-1,uo=null,mo,yo,lf,uf,df,wf,wo=this._tilesLoaded.length-1;wo>=0;wo--)if(wf=this._tilesLoaded[wo],mo=wf.tile,!(mo.level<=tt||mo.beingDrawn)){if(!ut){ut=mo,wt=wo,uo=wf;continue}uf=mo.lastTouchTime,yo=ut.lastTouchTime,df=mo.level,lf=ut.level,(uf<yo||uf==yo&&df>lf)&&(ut=mo,wt=wo,uo=wf)}ut&&wt>=0&&(this._unloadTile(uo),ot=wt)}this._tilesLoaded[ot]=new W({tile:X.tile,tiledImage:X.tiledImage})},clearTilesFor:function(X){F.console.assert(X,"[TileCache.clearTilesFor] tiledImage is required");for(var tt,ot=0;ot<this._tilesLoaded.length;++ot)tt=this._tilesLoaded[ot],tt.tiledImage===X&&(this._unloadTile(tt),this._tilesLoaded.splice(ot,1),ot--)},getImageRecord:function(X){return F.console.assert(X,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[X]},_unloadTile:function(X){F.console.assert(X,"[TileCache._unloadTile] tileRecord is required");var tt=X.tile,ot=X.tiledImage;tt.unload(),tt.cacheImageRecord=null;var at=this._imagesLoaded[tt.cacheKey];at.removeTile(tt),at.getTileCount()||(at.destroy(),delete this._imagesLoaded[tt.cacheKey],this._imagesLoadedCount--),ot.viewer.raiseEvent("tile-unloaded",{tile:tt,tiledImage:ot})}}}(OpenSeadragon),function(F){F.World=function(W){var q=this;F.console.assert(W.viewer,"[World] options.viewer is required"),F.EventSource.call(this),this.viewer=W.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(X){q._autoRefigureSizes?q._figureSizes():q._needsSizesFigured=!0},this._figureSizes()},F.extend(F.World.prototype,F.EventSource.prototype,{addItem:function(W,q){if(F.console.assert(W,"[World.addItem] item is required"),F.console.assert(W instanceof F.TiledImage,"[World.addItem] only TiledImages supported at this time"),q=q||{},q.index!==void 0){var X=Math.max(0,Math.min(this._items.length,q.index));this._items.splice(X,0,W)}else this._items.push(W);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,W.addHandler("bounds-change",this._delegatedFigureSizes),W.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:W})},getItemAt:function(W){return F.console.assert(W!==void 0,"[World.getItemAt] index is required"),this._items[W]},getIndexOfItem:function(W){return F.console.assert(W,"[World.getIndexOfItem] item is required"),F.indexOf(this._items,W)},getItemCount:function(){return this._items.length},setItemIndex:function(W,q){F.console.assert(W,"[World.setItemIndex] item is required"),F.console.assert(q!==void 0,"[World.setItemIndex] index is required");var X=this.getIndexOfItem(W);if(q>=this._items.length)throw new Error("Index bigger than number of layers.");q===X||X===-1||(this._items.splice(X,1),this._items.splice(q,0,W),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:W,previousIndex:X,newIndex:q}))},removeItem:function(W){F.console.assert(W,"[World.removeItem] item is required");var q=F.indexOf(this._items,W);q!==-1&&(W.removeHandler("bounds-change",this._delegatedFigureSizes),W.removeHandler("clip-change",this._delegatedFigureSizes),W.destroy(),this._items.splice(q,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(W))},removeAll:function(){this.viewer._cancelPendingImages();var W,q;for(q=0;q<this._items.length;q++)W=this._items[q],W.removeHandler("bounds-change",this._delegatedFigureSizes),W.removeHandler("clip-change",this._delegatedFigureSizes),W.destroy();var X=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,q=0;q<X.length;q++)W=X[q],this._raiseRemoveItem(W)},resetItems:function(){for(var W=0;W<this._items.length;W++)this._items[W].reset()},update:function(){for(var W=!1,q=0;q<this._items.length;q++)W=this._items[q].update()||W;return W},draw:function(){for(var W=0;W<this._items.length;W++)this._items[W].draw();this._needsDraw=!1},needsDraw:function(){for(var W=0;W<this._items.length;W++)if(this._items[W].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(W){this._autoRefigureSizes=W,W&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(W){W=W||{};var q=W.immediately||!1,X=W.layout||F.DEFAULT_SETTINGS.collectionLayout,tt=W.rows||F.DEFAULT_SETTINGS.collectionRows,ot=W.columns||F.DEFAULT_SETTINGS.collectionColumns,at=W.tileSize||F.DEFAULT_SETTINGS.collectionTileSize,ut=W.tileMargin||F.DEFAULT_SETTINGS.collectionTileMargin,wt=at+ut,uo;!W.rows&&ot?uo=ot:uo=Math.ceil(this._items.length/tt);var mo=0,yo=0,lf,uf,df,wf,wo;this.setAutoRefigureSizes(!1);for(var ls=0;ls<this._items.length;ls++)ls&&ls%uo===0&&(X==="horizontal"?(yo+=wt,mo=0):(mo+=wt,yo=0)),lf=this._items[ls],uf=lf.getBounds(),uf.width>uf.height?df=at:df=at*(uf.width/uf.height),wf=df*(uf.height/uf.width),wo=new F.Point(mo+(at-df)/2,yo+(at-wf)/2),lf.setPosition(wo,q),lf.setWidth(df,q),X==="horizontal"?mo+=wt:yo+=wt;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var W=this._homeBounds?this._homeBounds.clone():null,q=this._contentSize?this._contentSize.clone():null,X=this._contentFactor||0;if(!this._items.length)this._homeBounds=new F.Rect(0,0,1,1),this._contentSize=new F.Point(1,1),this._contentFactor=1;else{var tt=this._items[0],ot=tt.getBounds();this._contentFactor=tt.getContentSize().x/ot.width;for(var at=tt.getClippedBounds().getBoundingBox(),ut=at.x,wt=at.y,uo=at.x+at.width,mo=at.y+at.height,yo=1;yo<this._items.length;yo++)tt=this._items[yo],ot=tt.getBounds(),this._contentFactor=Math.max(this._contentFactor,tt.getContentSize().x/ot.width),at=tt.getClippedBounds().getBoundingBox(),ut=Math.min(ut,at.x),wt=Math.min(wt,at.y),uo=Math.max(uo,at.x+at.width),mo=Math.max(mo,at.y+at.height);this._homeBounds=new F.Rect(ut,wt,uo-ut,mo-wt),this._contentSize=new F.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}(this._contentFactor!==X||!this._homeBounds.equals(W)||!this._contentSize.equals(q))&&this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(W){this.raiseEvent("remove-item",{item:W})}})}(OpenSeadragon)}(openseadragon)),openseadragon.exports}var openseadragonExports=requireOpenseadragon();const OpenSeadragon=getDefaultExportFromCjs(openseadragonExports);var openseadragonViewerinputhook={exports:{}};/*! @openseadragon-imaging/openseadragon-viewerinputhook 2.2.1 ab9b394 (clean)  @license MIT */(function(F,W){(function(q,X){F.exports=X(requireOpenseadragon())})(window,function(q){return function(X){function tt(at){if(ot[at])return ot[at].exports;var ut=ot[at]={i:at,l:!1,exports:{}};return X[at].call(ut.exports,ut,ut.exports,tt),ut.l=!0,ut.exports}var ot={};return tt.m=X,tt.c=ot,tt.d=function(at,ut,wt){tt.o(at,ut)||Object.defineProperty(at,ut,{enumerable:!0,get:wt})},tt.r=function(at){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(at,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(at,"__esModule",{value:!0})},tt.t=function(at,ut){if(1&ut&&(at=tt(at)),8&ut||4&ut&&typeof at=="object"&&at&&at.__esModule)return at;var wt=Object.create(null);if(tt.r(wt),Object.defineProperty(wt,"default",{enumerable:!0,value:at}),2&ut&&typeof at!="string")for(var uo in at)tt.d(wt,uo,(function(mo){return at[mo]}).bind(null,uo));return wt},tt.n=function(at){var ut=at&&at.__esModule?function(){return at.default}:function(){return at};return tt.d(ut,"a",ut),ut},tt.o=function(at,ut){return Object.prototype.hasOwnProperty.call(at,ut)},tt.p="",tt(tt.s=1)}([function(X){X.exports=q},function(X,tt,ot){ot.r(tt);var at=ot(0),ut=ot.n(at);tt.default=function(wt,uo){if(!wt.version||1>wt.version.major)throw new Error("OpenSeadragonViewerInputHook requires OpenSeadragon version 1.0.0+");return wt.Viewer.prototype.addViewerInputHook=function(mo){return(mo=mo||{}).viewer=this,new uo.ViewerInputHook(mo)},uo.ViewerInputHook=function(mo){var yo,lf;for((mo=mo||{}).hooks=mo.hooks||[],this.viewer=mo.viewer||null,this.viewerTrackers={},this.hooks=[],this.viewer&&(this.viewerTrackers.viewer=this.viewer.innerTracker,this.viewerTrackers.viewer_outer=this.viewer.outerTracker),yo=0;yo<mo.hooks.length;yo++){if(typeof mo.hooks[yo].tracker=="string"){if(!this.viewer)throw new Error("A viewer must be specified.");if((lf=this.viewerTrackers[mo.hooks[yo].tracker])===void 0)throw new Error("Unknown tracker specified: "+mo.hooks[yo].tracker)}else lf=mo.hooks[yo].tracker;this.hooks.push({tracker:lf,handlerName:mo.hooks[yo].handler,origHandler:lf[mo.hooks[yo].handler],hookHandler:mo.hooks[yo].hookHandler}),function(uf,df,wf,wo){var ls=df[wf];df[wf]=function(_f){return uf._callHandlers(wo,ls,_f)}}(this,lf,mo.hooks[yo].handler,mo.hooks[yo].hookHandler)}},uo.ViewerInputHook.version={versionStr:"2.2.1",major:2,minor:2,revision:1},uo.ViewerInputHook.prototype._callHandlers=function(mo,yo,lf){var uf=mo(lf);return yo&&!lf.stopHandlers&&(uf=yo(lf)),!lf.stopBubbling&&uf},uo.ViewerInputHook.prototype.destroy=function(){for(;0<this.hooks.length;){var mo=this.hooks.pop();mo.tracker[mo.handlerName]=mo.origHandler}this.viewer&&(delete this.viewerTrackers.viewer,delete this.viewerTrackers.viewer_outer,this.viewer=null)},uo.ViewerInputHook}(ut.a||window.OpenSeadragon,window.OpenSeadragonImaging=window.OpenSeadragonImaging||{})}]).default})})(openseadragonViewerinputhook);var openseadragonViewerinputhookExports=openseadragonViewerinputhook.exports;const OpenSeadragonViewerInputHook=getDefaultExportFromCjs(openseadragonViewerinputhookExports);var openseadragonAnnotorious_min={exports:{}};(function(F,W){var q=Object.defineProperty,X=Object.defineProperties,tt=Object.getOwnPropertyDescriptors,ot=Object.getOwnPropertySymbols,at=Object.prototype.hasOwnProperty,ut=Object.prototype.propertyIsEnumerable,wt=(uf,df,wf)=>df in uf?q(uf,df,{enumerable:!0,configurable:!0,writable:!0,value:wf}):uf[df]=wf,uo=(uf,df)=>{for(var wf in df||(df={}))at.call(df,wf)&&wt(uf,wf,df[wf]);if(ot)for(var wf of ot(df))ut.call(df,wf)&&wt(uf,wf,df[wf]);return uf},mo=(uf,df)=>X(uf,tt(df)),yo=(uf,df)=>{var wf={};for(var wo in uf)at.call(uf,wo)&&df.indexOf(wo)<0&&(wf[wo]=uf[wo]);if(uf!=null&&ot)for(var wo of ot(uf))df.indexOf(wo)<0&&ut.call(uf,wo)&&(wf[wo]=uf[wo]);return wf},lf=(uf,df,wf)=>(wt(uf,typeof df!="symbol"?df+"":df,wf),wf);(function(uf,df){F.exports=df(requireOpenseadragon())})(commonjsGlobal,function(uf){function df(yn){return yn&&typeof yn=="object"&&"default"in yn?yn:{default:yn}}var wf=df(uf),wo,ls,_f,po,xo,gf,cf,yf={},Sf=[],xf=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function bf(yn,go){for(var pf in go)yn[pf]=go[pf];return yn}function Af(yn){var go=yn.parentNode;go&&go.removeChild(yn)}function Pf(yn,go,pf){var mf,kf,If,Hf={};for(If in go)If=="key"?mf=go[If]:If=="ref"?kf=go[If]:Hf[If]=go[If];if(arguments.length>2&&(Hf.children=arguments.length>3?wo.call(arguments,2):pf),typeof yn=="function"&&yn.defaultProps!=null)for(If in yn.defaultProps)Hf[If]===void 0&&(Hf[If]=yn.defaultProps[If]);return Df(yn,Hf,mf,kf,null)}function Df(yn,go,pf,mf,kf){var If={type:yn,props:go,key:pf,ref:mf,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:kf??++_f};return ls.vnode!=null&&ls.vnode(If),If}function zf(){return{current:null}}function jf(yn){return yn.children}function $f(yn,go){this.props=yn,this.context=go}function Ff(yn,go){if(go==null)return yn.__?Ff(yn.__,yn.__.__k.indexOf(yn)+1):null;for(var pf;go<yn.__k.length;go++)if((pf=yn.__k[go])!=null&&pf.__e!=null)return pf.__e;return typeof yn.type=="function"?Ff(yn):null}function Xf(yn){var go,pf;if((yn=yn.__)!=null&&yn.__c!=null){for(yn.__e=yn.__c.base=null,go=0;go<yn.__k.length;go++)if((pf=yn.__k[go])!=null&&pf.__e!=null){yn.__e=yn.__c.base=pf.__e;break}return Xf(yn)}}function mp(yn){(!yn.__d&&(yn.__d=!0)&&po.push(yn)&&!fp.__r++||gf!==ls.debounceRendering)&&((gf=ls.debounceRendering)||xo)(fp)}function fp(){for(var yn;fp.__r=po.length;)yn=po.sort(function(go,pf){return go.__v.__b-pf.__v.__b}),po=[],yn.some(function(go){var pf,mf,kf,If,Hf,Zf;go.__d&&(Hf=(If=(pf=go).__v).__e,(Zf=pf.__P)&&(mf=[],(kf=bf({},If)).__v=If.__v+1,Fp(Zf,If,kf,pf.__n,Zf.ownerSVGElement!==void 0,If.__h!=null?[Hf]:null,mf,Hf??Ff(If),If.__h),Sp(mf,If),If.__e!=Hf&&Xf(If)))})}function Mp(yn,go,pf,mf,kf,If,Hf,Zf,rp,op){var ep,Bp,Yp,Qp,fg,Sg,Cg,Fg=mf&&mf.__k||Sf,Yg=Fg.length;for(pf.__k=[],ep=0;ep<go.length;ep++)if((Qp=pf.__k[ep]=(Qp=go[ep])==null||typeof Qp=="boolean"?null:typeof Qp=="string"||typeof Qp=="number"||typeof Qp=="bigint"?Df(null,Qp,null,null,Qp):Array.isArray(Qp)?Df(jf,{children:Qp},null,null,null):Qp.__b>0?Df(Qp.type,Qp.props,Qp.key,null,Qp.__v):Qp)!=null){if(Qp.__=pf,Qp.__b=pf.__b+1,(Yp=Fg[ep])===null||Yp&&Qp.key==Yp.key&&Qp.type===Yp.type)Fg[ep]=void 0;else for(Bp=0;Bp<Yg;Bp++){if((Yp=Fg[Bp])&&Qp.key==Yp.key&&Qp.type===Yp.type){Fg[Bp]=void 0;break}Yp=null}Fp(yn,Qp,Yp=Yp||yf,kf,If,Hf,Zf,rp,op),fg=Qp.__e,(Bp=Qp.ref)&&Yp.ref!=Bp&&(Cg||(Cg=[]),Yp.ref&&Cg.push(Yp.ref,null,Qp),Cg.push(Bp,Qp.__c||fg,Qp)),fg!=null?(Sg==null&&(Sg=fg),typeof Qp.type=="function"&&Qp.__k!=null&&Qp.__k===Yp.__k?Qp.__d=rp=Np(Qp,rp,yn):rp=yp(yn,Qp,Yp,Fg,fg,rp),op||pf.type!=="option"?typeof pf.type=="function"&&(pf.__d=rp):yn.value=""):rp&&Yp.__e==rp&&rp.parentNode!=yn&&(rp=Ff(Yp))}for(pf.__e=Sg,ep=Yg;ep--;)Fg[ep]!=null&&(typeof pf.type=="function"&&Fg[ep].__e!=null&&Fg[ep].__e==pf.__d&&(pf.__d=Ff(mf,ep+1)),Jf(Fg[ep],Fg[ep]));if(Cg)for(ep=0;ep<Cg.length;ep++)Nf(Cg[ep],Cg[++ep],Cg[++ep])}function Np(yn,go,pf){var mf,kf;for(mf=0;mf<yn.__k.length;mf++)(kf=yn.__k[mf])&&(kf.__=yn,go=typeof kf.type=="function"?Np(kf,go,pf):yp(pf,kf,kf,yn.__k,kf.__e,go));return go}function Pp(yn,go){return go=go||[],yn==null||typeof yn=="boolean"||(Array.isArray(yn)?yn.some(function(pf){Pp(pf,go)}):go.push(yn)),go}function yp(yn,go,pf,mf,kf,If){var Hf,Zf,rp;if(go.__d!==void 0)Hf=go.__d,go.__d=void 0;else if(pf==null||kf!=If||kf.parentNode==null)e:if(If==null||If.parentNode!==yn)yn.appendChild(kf),Hf=null;else{for(Zf=If,rp=0;(Zf=Zf.nextSibling)&&rp<mf.length;rp+=2)if(Zf==kf)break e;yn.insertBefore(kf,If),Hf=If}return Hf!==void 0?Hf:kf.nextSibling}function Ep(yn,go,pf,mf,kf){var If;for(If in pf)If==="children"||If==="key"||If in go||$p(yn,If,null,pf[If],mf);for(If in go)kf&&typeof go[If]!="function"||If==="children"||If==="key"||If==="value"||If==="checked"||pf[If]===go[If]||$p(yn,If,go[If],pf[If],mf)}function Cp(yn,go,pf){go[0]==="-"?yn.setProperty(go,pf):yn[go]=pf==null?"":typeof pf!="number"||xf.test(go)?pf:pf+"px"}function $p(yn,go,pf,mf,kf){var If;e:if(go==="style")if(typeof pf=="string")yn.style.cssText=pf;else{if(typeof mf=="string"&&(yn.style.cssText=mf=""),mf)for(go in mf)pf&&go in pf||Cp(yn.style,go,"");if(pf)for(go in pf)mf&&pf[go]===mf[go]||Cp(yn.style,go,pf[go])}else if(go[0]==="o"&&go[1]==="n")If=go!==(go=go.replace(/Capture$/,"")),go=go.toLowerCase()in yn?go.toLowerCase().slice(2):go.slice(2),yn.l||(yn.l={}),yn.l[go+If]=pf,pf?mf||yn.addEventListener(go,If?Dp:kp,If):yn.removeEventListener(go,If?Dp:kp,If);else if(go!=="dangerouslySetInnerHTML"){if(kf)go=go.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(go!=="href"&&go!=="list"&&go!=="form"&&go!=="tabIndex"&&go!=="download"&&go in yn)try{yn[go]=pf??"";break e}catch{}typeof pf=="function"||(pf!=null&&(pf!==!1||go[0]==="a"&&go[1]==="r")?yn.setAttribute(go,pf):yn.removeAttribute(go))}}function kp(yn){this.l[yn.type+!1](ls.event?ls.event(yn):yn)}function Dp(yn){this.l[yn.type+!0](ls.event?ls.event(yn):yn)}function Fp(yn,go,pf,mf,kf,If,Hf,Zf,rp){var op,ep,Bp,Yp,Qp,fg,Sg,Cg,Fg,Yg,$m,Am=go.type;if(go.constructor!==void 0)return null;pf.__h!=null&&(rp=pf.__h,Zf=go.__e=pf.__e,go.__h=null,If=[Zf]),(op=ls.__b)&&op(go);try{e:if(typeof Am=="function"){if(Cg=go.props,Fg=(op=Am.contextType)&&mf[op.__c],Yg=op?Fg?Fg.props.value:op.__:mf,pf.__c?Sg=(ep=go.__c=pf.__c).__=ep.__E:("prototype"in Am&&Am.prototype.render?go.__c=ep=new Am(Cg,Yg):(go.__c=ep=new $f(Cg,Yg),ep.constructor=Am,ep.render=ip),Fg&&Fg.sub(ep),ep.props=Cg,ep.state||(ep.state={}),ep.context=Yg,ep.__n=mf,Bp=ep.__d=!0,ep.__h=[]),ep.__s==null&&(ep.__s=ep.state),Am.getDerivedStateFromProps!=null&&(ep.__s==ep.state&&(ep.__s=bf({},ep.__s)),bf(ep.__s,Am.getDerivedStateFromProps(Cg,ep.__s))),Yp=ep.props,Qp=ep.state,Bp)Am.getDerivedStateFromProps==null&&ep.componentWillMount!=null&&ep.componentWillMount(),ep.componentDidMount!=null&&ep.__h.push(ep.componentDidMount);else{if(Am.getDerivedStateFromProps==null&&Cg!==Yp&&ep.componentWillReceiveProps!=null&&ep.componentWillReceiveProps(Cg,Yg),!ep.__e&&ep.shouldComponentUpdate!=null&&ep.shouldComponentUpdate(Cg,ep.__s,Yg)===!1||go.__v===pf.__v){ep.props=Cg,ep.state=ep.__s,go.__v!==pf.__v&&(ep.__d=!1),ep.__v=go,go.__e=pf.__e,go.__k=pf.__k,go.__k.forEach(function(Em){Em&&(Em.__=go)}),ep.__h.length&&Hf.push(ep);break e}ep.componentWillUpdate!=null&&ep.componentWillUpdate(Cg,ep.__s,Yg),ep.componentDidUpdate!=null&&ep.__h.push(function(){ep.componentDidUpdate(Yp,Qp,fg)})}ep.context=Yg,ep.props=Cg,ep.state=ep.__s,(op=ls.__r)&&op(go),ep.__d=!1,ep.__v=go,ep.__P=yn,op=ep.render(ep.props,ep.state,ep.context),ep.state=ep.__s,ep.getChildContext!=null&&(mf=bf(bf({},mf),ep.getChildContext())),Bp||ep.getSnapshotBeforeUpdate==null||(fg=ep.getSnapshotBeforeUpdate(Yp,Qp)),$m=op!=null&&op.type===jf&&op.key==null?op.props.children:op,Mp(yn,Array.isArray($m)?$m:[$m],go,pf,mf,kf,If,Hf,Zf,rp),ep.base=go.__e,go.__h=null,ep.__h.length&&Hf.push(ep),Sg&&(ep.__E=ep.__=null),ep.__e=!1}else If==null&&go.__v===pf.__v?(go.__k=pf.__k,go.__e=pf.__e):go.__e=up(pf.__e,go,pf,mf,kf,If,Hf,rp);(op=ls.diffed)&&op(go)}catch(Em){go.__v=null,(rp||If!=null)&&(go.__e=Zf,go.__h=!!rp,If[If.indexOf(Zf)]=null),ls.__e(Em,go,pf)}}function Sp(yn,go){ls.__c&&ls.__c(go,yn),yn.some(function(pf){try{yn=pf.__h,pf.__h=[],yn.some(function(mf){mf.call(pf)})}catch(mf){ls.__e(mf,pf.__v)}})}function up(yn,go,pf,mf,kf,If,Hf,Zf){var rp,op,ep,Bp=pf.props,Yp=go.props,Qp=go.type,fg=0;if(Qp==="svg"&&(kf=!0),If!=null){for(;fg<If.length;fg++)if((rp=If[fg])&&(rp===yn||(Qp?rp.localName==Qp:rp.nodeType==3))){yn=rp,If[fg]=null;break}}if(yn==null){if(Qp===null)return document.createTextNode(Yp);yn=kf?document.createElementNS("http://www.w3.org/2000/svg",Qp):document.createElement(Qp,Yp.is&&Yp),If=null,Zf=!1}if(Qp===null)Bp===Yp||Zf&&yn.data===Yp||(yn.data=Yp);else{if(If=If&&wo.call(yn.childNodes),op=(Bp=pf.props||yf).dangerouslySetInnerHTML,ep=Yp.dangerouslySetInnerHTML,!Zf){if(If!=null)for(Bp={},fg=0;fg<yn.attributes.length;fg++)Bp[yn.attributes[fg].name]=yn.attributes[fg].value;(ep||op)&&(ep&&(op&&ep.__html==op.__html||ep.__html===yn.innerHTML)||(yn.innerHTML=ep&&ep.__html||""))}if(Ep(yn,Yp,Bp,kf,Zf),ep)go.__k=[];else if(fg=go.props.children,Mp(yn,Array.isArray(fg)?fg:[fg],go,pf,mf,kf&&Qp!=="foreignObject",If,Hf,If?If[0]:pf.__k&&Ff(pf,0),Zf),If!=null)for(fg=If.length;fg--;)If[fg]!=null&&Af(If[fg]);Zf||("value"in Yp&&(fg=Yp.value)!==void 0&&(fg!==yn.value||Qp==="progress"&&!fg)&&$p(yn,"value",fg,Bp.value,!1),"checked"in Yp&&(fg=Yp.checked)!==void 0&&fg!==yn.checked&&$p(yn,"checked",fg,Bp.checked,!1))}return yn}function Nf(yn,go,pf){try{typeof yn=="function"?yn(go):yn.current=go}catch(mf){ls.__e(mf,pf)}}function Jf(yn,go,pf){var mf,kf;if(ls.unmount&&ls.unmount(yn),(mf=yn.ref)&&(mf.current&&mf.current!==yn.__e||Nf(mf,null,go)),(mf=yn.__c)!=null){if(mf.componentWillUnmount)try{mf.componentWillUnmount()}catch(If){ls.__e(If,go)}mf.base=mf.__P=null}if(mf=yn.__k)for(kf=0;kf<mf.length;kf++)mf[kf]&&Jf(mf[kf],go,typeof yn.type!="function");pf||yn.__e==null||Af(yn.__e),yn.__e=yn.__d=void 0}function ip(yn,go,pf){return this.constructor(yn,pf)}function ap(yn,go,pf){var mf,kf,If;ls.__&&ls.__(yn,go),kf=(mf=typeof pf=="function")?null:pf&&pf.__k||go.__k,If=[],Fp(go,yn=(!mf&&pf||go).__k=Pf(jf,null,[yn]),kf||yf,yf,go.ownerSVGElement!==void 0,!mf&&pf?[pf]:kf?null:go.firstChild?wo.call(go.childNodes):null,If,!mf&&pf?pf:kf?kf.__e:go.firstChild,mf),Sp(If,yn)}function Op(yn,go){ap(yn,go,Op)}function Gp(yn,go,pf){var mf,kf,If,Hf=bf({},yn.props);for(If in go)If=="key"?mf=go[If]:If=="ref"?kf=go[If]:Hf[If]=go[If];return arguments.length>2&&(Hf.children=arguments.length>3?wo.call(arguments,2):pf),Df(yn.type,Hf,mf||yn.key,kf||yn.ref,null)}function bp(yn,go){var pf={__c:go="__cC"+cf++,__:yn,Consumer:function(mf,kf){return mf.children(kf)},Provider:function(mf){var kf,If;return this.getChildContext||(kf=[],(If={})[go]=this,this.getChildContext=function(){return If},this.shouldComponentUpdate=function(Hf){this.props.value!==Hf.value&&kf.some(mp)},this.sub=function(Hf){kf.push(Hf);var Zf=Hf.componentWillUnmount;Hf.componentWillUnmount=function(){kf.splice(kf.indexOf(Hf),1),Zf&&Zf.call(Hf)}}),mf.children}};return pf.Provider.__=pf.Consumer.contextType=pf}wo=Sf.slice,ls={__e:function(yn,go){for(var pf,mf,kf;go=go.__;)if((pf=go.__c)&&!pf.__)try{if((mf=pf.constructor)&&mf.getDerivedStateFromError!=null&&(pf.setState(mf.getDerivedStateFromError(yn)),kf=pf.__d),pf.componentDidCatch!=null&&(pf.componentDidCatch(yn),kf=pf.__d),kf)return pf.__E=pf}catch(If){yn=If}throw yn}},_f=0,$f.prototype.setState=function(yn,go){var pf;pf=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=bf({},this.state),typeof yn=="function"&&(yn=yn(bf({},pf),this.props)),yn&&bf(pf,yn),yn!=null&&this.__v&&(go&&this.__h.push(go),mp(this))},$f.prototype.forceUpdate=function(yn){this.__v&&(this.__e=!0,yn&&this.__h.push(yn),mp(this))},$f.prototype.render=jf,po=[],xo=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,fp.__r=0,cf=0;var zp,Rp,Up,Zp=0,og=[],Ap=ls.__b,Ip=ls.__r,jp=ls.diffed,Jp=ls.__c,sg=ls.unmount;function mg(yn,go){ls.__h&&ls.__h(Rp,yn,Zp||go),Zp=0;var pf=Rp.__H||(Rp.__H={__:[],__h:[]});return yn>=pf.__.length&&pf.__.push({}),pf.__[yn]}function kg(yn){return Zp=1,Eg(um,yn)}function Eg(yn,go,pf){var mf=mg(zp++,2);return mf.t=yn,mf.__c||(mf.__=[pf?pf(go):um(void 0,go),function(kf){var If=mf.t(mf.__[0],kf);mf.__[0]!==If&&(mf.__=[If,mf.__[1]],mf.__c.setState({}))}],mf.__c=Rp),mf.__}function im(yn,go){var pf=mg(zp++,3);!ls.__s&&bv(pf.__H,go)&&(pf.__=yn,pf.__H=go,Rp.__H.__h.push(pf))}function hm(yn,go){var pf=mg(zp++,4);!ls.__s&&bv(pf.__H,go)&&(pf.__=yn,pf.__H=go,Rp.__h.push(pf))}function dp(yn){return Zp=5,Vp(function(){return{current:yn}},[])}function cp(yn,go,pf){Zp=6,hm(function(){typeof yn=="function"?yn(go()):yn&&(yn.current=go())},pf==null?pf:pf.concat(yn))}function Vp(yn,go){var pf=mg(zp++,7);return bv(pf.__H,go)&&(pf.__=yn(),pf.__H=go,pf.__h=yn),pf.__}function qp(yn,go){return Zp=8,Vp(function(){return yn},go)}function Ag(yn){var go=Rp.context[yn.__c],pf=mg(zp++,9);return pf.c=yn,go?(pf.__==null&&(pf.__=!0,go.sub(Rp)),go.props.value):yn.__}function Dg(yn,go){ls.useDebugValue&&ls.useDebugValue(go?go(yn):yn)}function Ig(yn){var go=mg(zp++,10),pf=kg();return go.__=yn,Rp.componentDidCatch||(Rp.componentDidCatch=function(mf){go.__&&go.__(mf),pf[1](mf)}),[pf[0],function(){pf[1](void 0)}]}function zg(){og.forEach(function(yn){if(yn.__P)try{yn.__H.__h.forEach(wm),yn.__H.__h.forEach(pm),yn.__H.__h=[]}catch(go){yn.__H.__h=[],ls.__e(go,yn.__v)}}),og=[]}ls.__b=function(yn){Rp=null,Ap&&Ap(yn)},ls.__r=function(yn){Ip&&Ip(yn),zp=0;var go=(Rp=yn.__c).__H;go&&(go.__h.forEach(wm),go.__h.forEach(pm),go.__h=[])},ls.diffed=function(yn){jp&&jp(yn);var go=yn.__c;go&&go.__H&&go.__H.__h.length&&(og.push(go)!==1&&Up===ls.requestAnimationFrame||((Up=ls.requestAnimationFrame)||function(pf){var mf,kf=function(){clearTimeout(If),Zg&&cancelAnimationFrame(mf),setTimeout(pf)},If=setTimeout(kf,100);Zg&&(mf=requestAnimationFrame(kf))})(zg)),Rp=void 0},ls.__c=function(yn,go){go.some(function(pf){try{pf.__h.forEach(wm),pf.__h=pf.__h.filter(function(mf){return!mf.__||pm(mf)})}catch(mf){go.some(function(kf){kf.__h&&(kf.__h=[])}),go=[],ls.__e(mf,pf.__v)}}),Jp&&Jp(yn,go)},ls.unmount=function(yn){sg&&sg(yn);var go=yn.__c;if(go&&go.__H)try{go.__H.__.forEach(wm)}catch(pf){ls.__e(pf,go.__v)}};var Zg=typeof requestAnimationFrame=="function";function wm(yn){var go=Rp;typeof yn.__c=="function"&&yn.__c(),Rp=go}function pm(yn){var go=Rp;yn.__c=yn.__(),Rp=go}function bv(yn,go){return!yn||yn.length!==go.length||go.some(function(pf,mf){return pf!==yn[mf]})}function um(yn,go){return typeof go=="function"?go(yn):go}function Y0(yn,go){for(var pf in go)yn[pf]=go[pf];return yn}function r0(yn,go){for(var pf in yn)if(pf!=="__source"&&!(pf in go))return!0;for(var mf in go)if(mf!=="__source"&&yn[mf]!==go[mf])return!0;return!1}function _y(yn){this.props=yn}function Wy(yn,go){function pf(kf){var If=this.props.ref,Hf=If==kf.ref;return!Hf&&If&&(If.call?If(null):If.current=null),go?!go(this.props,kf)||!Hf:r0(this.props,kf)}function mf(kf){return this.shouldComponentUpdate=pf,Pf(yn,kf)}return mf.displayName="Memo("+(yn.displayName||yn.name)+")",mf.prototype.isReactComponent=!0,mf.__f=!0,mf}(_y.prototype=new $f).isPureReactComponent=!0,_y.prototype.shouldComponentUpdate=function(yn,go){return r0(this.props,yn)||r0(this.state,go)};var L0=ls.__b;ls.__b=function(yn){yn.type&&yn.type.__f&&yn.ref&&(yn.props.ref=yn.ref,yn.ref=null),L0&&L0(yn)};var em=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function R0(yn){function go(pf,mf){var kf=Y0({},pf);return delete kf.ref,yn(kf,(mf=pf.ref||mf)&&(typeof mf!="object"||"current"in mf)?mf:null)}return go.$$typeof=em,go.render=go,go.prototype.isReactComponent=go.__f=!0,go.displayName="ForwardRef("+(yn.displayName||yn.name)+")",go}var tm=function(yn,go){return yn==null?null:Pp(Pp(yn).map(go))},d0={map:tm,forEach:tm,count:function(yn){return yn?Pp(yn).length:0},only:function(yn){var go=Pp(yn);if(go.length!==1)throw"Children.only";return go[0]},toArray:Pp},$b=ls.__e;ls.__e=function(yn,go,pf){if(yn.then){for(var mf,kf=go;kf=kf.__;)if((mf=kf.__c)&&mf.__c)return go.__e==null&&(go.__e=pf.__e,go.__k=pf.__k),mf.__c(yn,go)}$b(yn,go,pf)};var km=ls.unmount;function D0(){this.__u=0,this.t=null,this.__b=null}function ob(yn){var go=yn.__.__c;return go&&go.__e&&go.__e(yn)}function Z0(yn){var go,pf,mf;function kf(If){if(go||(go=yn()).then(function(Hf){pf=Hf.default||Hf},function(Hf){mf=Hf}),mf)throw mf;if(!pf)throw go;return Pf(pf,If)}return kf.displayName="Lazy",kf.__f=!0,kf}function Gv(){this.u=null,this.o=null}ls.unmount=function(yn){var go=yn.__c;go&&go.__R&&go.__R(),go&&yn.__h===!0&&(yn.type=null),km&&km(yn)},(D0.prototype=new $f).__c=function(yn,go){var pf=go.__c,mf=this;mf.t==null&&(mf.t=[]),mf.t.push(pf);var kf=ob(mf.__v),If=!1,Hf=function(){If||(If=!0,pf.__R=null,kf?kf(Zf):Zf())};pf.__R=Hf;var Zf=function(){if(!--mf.__u){if(mf.state.__e){var op=mf.state.__e;mf.__v.__k[0]=function Bp(Yp,Qp,fg){return Yp&&(Yp.__v=null,Yp.__k=Yp.__k&&Yp.__k.map(function(Sg){return Bp(Sg,Qp,fg)}),Yp.__c&&Yp.__c.__P===Qp&&(Yp.__e&&fg.insertBefore(Yp.__e,Yp.__d),Yp.__c.__e=!0,Yp.__c.__P=fg)),Yp}(op,op.__c.__P,op.__c.__O)}var ep;for(mf.setState({__e:mf.__b=null});ep=mf.t.pop();)ep.forceUpdate()}},rp=go.__h===!0;mf.__u++||rp||mf.setState({__e:mf.__b=mf.__v.__k[0]}),yn.then(Hf,Hf)},D0.prototype.componentWillUnmount=function(){this.t=[]},D0.prototype.render=function(yn,go){if(this.__b){if(this.__v.__k){var pf=document.createElement("div"),mf=this.__v.__k[0].__c;this.__v.__k[0]=function If(Hf,Zf,rp){return Hf&&(Hf.__c&&Hf.__c.__H&&(Hf.__c.__H.__.forEach(function(op){typeof op.__c=="function"&&op.__c()}),Hf.__c.__H=null),(Hf=Y0({},Hf)).__c!=null&&(Hf.__c.__P===rp&&(Hf.__c.__P=Zf),Hf.__c=null),Hf.__k=Hf.__k&&Hf.__k.map(function(op){return If(op,Zf,rp)})),Hf}(this.__b,pf,mf.__O=mf.__P)}this.__b=null}var kf=go.__e&&Pf(jf,null,yn.fallback);return kf&&(kf.__h=null),[Pf(jf,null,go.__e?null:yn.children),kf]};var cy=function(yn,go,pf){if(++pf[1]===pf[0]&&yn.o.delete(go),yn.props.revealOrder&&(yn.props.revealOrder[0]!=="t"||!yn.o.size))for(pf=yn.u;pf;){for(;pf.length>3;)pf.pop()();if(pf[1]<pf[0])break;yn.u=pf=pf[2]}};function Hg(yn){return this.getChildContext=function(){return yn.context},yn.children}function eg(yn){var go=this,pf=yn.i;go.componentWillUnmount=function(){ap(null,go.l),go.l=null,go.i=null},go.i&&go.i!==pf&&go.componentWillUnmount(),yn.__v?(go.l||(go.i=pf,go.l={nodeType:1,parentNode:pf,childNodes:[],appendChild:function(mf){this.childNodes.push(mf),go.i.appendChild(mf)},insertBefore:function(mf,kf){this.childNodes.push(mf),go.i.appendChild(mf)},removeChild:function(mf){this.childNodes.splice(this.childNodes.indexOf(mf)>>>1,1),go.i.removeChild(mf)}}),ap(Pf(Hg,{context:go.context},yn.__v),go.l)):go.l&&go.componentWillUnmount()}function Pg(yn,go){return Pf(eg,{__v:yn,i:go})}(Gv.prototype=new $f).__e=function(yn){var go=this,pf=ob(go.__v),mf=go.o.get(yn);return mf[0]++,function(kf){var If=function(){go.props.revealOrder?(mf.push(kf),cy(go,yn,mf)):kf()};pf?pf(If):If()}},Gv.prototype.render=function(yn){this.u=null,this.o=new Map;var go=Pp(yn.children);yn.revealOrder&&yn.revealOrder[0]==="b"&&go.reverse();for(var pf=go.length;pf--;)this.o.set(go[pf],this.u=[1,0,this.u]);return yn.children},Gv.prototype.componentDidUpdate=Gv.prototype.componentDidMount=function(){var yn=this;this.o.forEach(function(go,pf){cy(yn,pf,go)})};var Kg=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Ev=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,jv=function(yn){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(yn)};function vv(yn,go,pf){return go.__k==null&&(go.textContent=""),ap(yn,go),typeof pf=="function"&&pf(),yn?yn.__c:null}function Hv(yn,go,pf){return Op(yn,go),typeof pf=="function"&&pf(),yn?yn.__c:null}$f.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(yn){Object.defineProperty($f.prototype,yn,{configurable:!0,get:function(){return this["UNSAFE_"+yn]},set:function(go){Object.defineProperty(this,yn,{configurable:!0,writable:!0,value:go})}})});var hy=ls.event;function Ly(){}function Jv(){return this.cancelBubble}function n1(){return this.defaultPrevented}ls.event=function(yn){return hy&&(yn=hy(yn)),yn.persist=Ly,yn.isPropagationStopped=Jv,yn.isDefaultPrevented=n1,yn.nativeEvent=yn};var Ry,N0={configurable:!0,get:function(){return this.class}},Fb=ls.vnode;ls.vnode=function(yn){var go=yn.type,pf=yn.props,mf=pf;if(typeof go=="string"){for(var kf in mf={},pf){var If=pf[kf];kf==="value"&&"defaultValue"in pf&&If==null||(kf==="defaultValue"&&"value"in pf&&pf.value==null?kf="value":kf==="download"&&If===!0?If="":/ondoubleclick/i.test(kf)?kf="ondblclick":/^onchange(textarea|input)/i.test(kf+go)&&!jv(pf.type)?kf="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(kf)?kf=kf.toLowerCase():Ev.test(kf)?kf=kf.replace(/[A-Z0-9]/,"-$&").toLowerCase():If===null&&(If=void 0),mf[kf]=If)}go=="select"&&mf.multiple&&Array.isArray(mf.value)&&(mf.value=Pp(pf.children).forEach(function(Hf){Hf.props.selected=mf.value.indexOf(Hf.props.value)!=-1})),go=="select"&&mf.defaultValue!=null&&(mf.value=Pp(pf.children).forEach(function(Hf){Hf.props.selected=mf.multiple?mf.defaultValue.indexOf(Hf.props.value)!=-1:mf.defaultValue==Hf.props.value})),yn.props=mf}go&&pf.class!=pf.className&&(N0.enumerable="className"in pf,pf.className!=null&&(mf.class=pf.className),Object.defineProperty(mf,"className",N0)),yn.$$typeof=Kg,Fb&&Fb(yn)};var sb=ls.__r;ls.__r=function(yn){sb&&sb(yn),Ry=yn.__c};var ov={ReactCurrentDispatcher:{current:{readContext:function(yn){return Ry.__n[yn.__c].props.value}}}},Fm="17.0.2";function Xm(yn){return Pf.bind(null,yn)}function J0(yn){return!!yn&&yn.$$typeof===Kg}function ab(yn){return J0(yn)?Gp.apply(null,arguments):yn}function Gy(yn){return!!yn.__k&&(ap(null,yn),!0)}function lb(yn){return yn&&(yn.base||yn.nodeType===1&&yn)||null}var gm=function(yn,go){return yn(go)},dm=function(yn,go){return yn(go)},o1=jf,nm={useState:kg,useReducer:Eg,useEffect:im,useLayoutEffect:hm,useRef:dp,useImperativeHandle:cp,useMemo:Vp,useCallback:qp,useContext:Ag,useDebugValue:Dg,version:"17.0.2",Children:d0,render:vv,hydrate:Hv,unmountComponentAtNode:Gy,createPortal:Pg,createElement:Pf,createContext:bp,createFactory:Xm,cloneElement:ab,createRef:zf,Fragment:jf,isValidElement:J0,findDOMNode:lb,Component:$f,PureComponent:_y,memo:Wy,forwardRef:R0,flushSync:dm,unstable_batchedUpdates:gm,StrictMode:jf,Suspense:D0,SuspenseList:Gv,lazy:Z0,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:ov},Cm=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:nm,version:Fm,Children:d0,render:vv,hydrate:Hv,unmountComponentAtNode:Gy,createPortal:Pg,createFactory:Xm,cloneElement:ab,isValidElement:J0,findDOMNode:lb,PureComponent:_y,memo:Wy,forwardRef:R0,flushSync:dm,unstable_batchedUpdates:gm,StrictMode:o1,Suspense:D0,SuspenseList:Gv,lazy:Z0,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:ov,createElement:Pf,createContext:bp,createRef:zf,Fragment:jf,Component:$f,useState:kg,useReducer:Eg,useEffect:im,useLayoutEffect:hm,useRef:dp,useImperativeHandle:cp,useMemo:Vp,useCallback:qp,useContext:Ag,useDebugValue:Dg,useErrorBoundary:Ig}),ub=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:{};function zb(yn){return yn&&yn.__esModule&&Object.prototype.hasOwnProperty.call(yn,"default")?yn.default:yn}function Q0(yn){if(yn.__esModule)return yn;var go=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(yn).forEach(function(pf){var mf=Object.getOwnPropertyDescriptor(yn,pf);Object.defineProperty(go,pf,mf.get?mf:{enumerable:!0,get:function(){return yn[pf]}})}),go}var Qv={exports:{}};function Iv(){}Iv.prototype={on:function(yn,go,pf){var mf=this.e||(this.e={});return(mf[yn]||(mf[yn]=[])).push({fn:go,ctx:pf}),this},once:function(yn,go,pf){var mf=this;function kf(){mf.off(yn,kf),go.apply(pf,arguments)}return kf._=go,this.on(yn,kf,pf)},emit:function(yn){var go=[].slice.call(arguments,1),pf=((this.e||(this.e={}))[yn]||[]).slice(),mf=0,kf=pf.length;for(mf;mf<kf;mf++)pf[mf].fn.apply(pf[mf].ctx,go);return this},off:function(yn,go){var pf=this.e||(this.e={}),mf=pf[yn],kf=[];if(mf&&go)for(var If=0,Hf=mf.length;If<Hf;If++)mf[If].fn!==go&&mf[If].fn._!==go&&kf.push(mf[If]);return kf.length?pf[yn]=kf:delete pf[yn],this}},Qv.exports=Iv,Qv.exports.TinyEmitter=Iv;var qy=Qv.exports,dy={exports:{}},Eb={},Dy=Q0(Cm),_p={exports:{}},Lp="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Xp=Lp,vg=Xp;function Og(){}function Xg(){}Xg.resetWarningCache=Og;var Dm=function(){function yn(mf,kf,If,Hf,Zf,rp){if(rp!==vg){var op=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw op.name="Invariant Violation",op}}yn.isRequired=yn;function go(){return yn}var pf={array:yn,bool:yn,func:yn,number:yn,object:yn,string:yn,symbol:yn,any:yn,arrayOf:go,element:yn,elementType:yn,instanceOf:go,node:yn,objectOf:go,oneOf:go,oneOfType:go,shape:go,exact:go,checkPropTypes:Xg,resetWarningCache:Og};return pf.PropTypes=pf,pf};_p.exports=Dm();function qv(yn){var go,pf,mf="";if(typeof yn=="string"||typeof yn=="number")mf+=yn;else if(typeof yn=="object")if(Array.isArray(yn))for(go=0;go<yn.length;go++)yn[go]&&(pf=qv(yn[go]))&&(mf&&(mf+=" "),mf+=pf);else for(go in yn)yn[go]&&(mf&&(mf+=" "),mf+=go);return mf}function Yv(){for(var yn=0,go,pf,mf="";yn<arguments.length;)(go=arguments[yn++])&&(pf=qv(go))&&(mf&&(mf+=" "),mf+=pf);return mf}var cm=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Yv}),s0=Q0(cm),_m={},Ny={};Object.defineProperty(Ny,"__esModule",{value:!0}),Ny.findInArray=Sx,Ny.isFunction=Tx,Ny.isNum=c_,Ny.int=tw,Ny.dontSetMe=Ax;function Sx(yn,go){for(var pf=0,mf=yn.length;pf<mf;pf++)if(go.apply(go,[yn[pf],pf,yn]))return yn[pf]}function Tx(yn){return typeof yn=="function"||Object.prototype.toString.call(yn)==="[object Function]"}function c_(yn){return typeof yn=="number"&&!isNaN(yn)}function tw(yn){return parseInt(yn,10)}function Ax(yn,go,pf){if(yn[go])return new Error("Invalid prop ".concat(go," passed to ").concat(pf," - do not set this, set it on the child."))}var cb={};Object.defineProperty(cb,"__esModule",{value:!0}),cb.getPrefix=A1,cb.browserPrefixToKey=Ox,cb.browserPrefixToStyle=wE,cb.default=void 0;var f0=["Moz","Webkit","O","ms"];function A1(){var yn,go,pf=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";var mf=(yn=window.document)===null||yn===void 0||(go=yn.documentElement)===null||go===void 0?void 0:go.style;if(!mf||pf in mf)return"";for(var kf=0;kf<f0.length;kf++)if(Ox(pf,f0[kf])in mf)return f0[kf];return""}function Ox(yn,go){return go?"".concat(go).concat(yk(yn)):yn}function wE(yn,go){return go?"-".concat(go.toLowerCase(),"-").concat(yn):yn}function yk(yn){for(var go="",pf=!0,mf=0;mf<yn.length;mf++)pf?(go+=yn[mf].toUpperCase(),pf=!1):yn[mf]==="-"?pf=!0:go+=yn[mf];return go}var _E=A1();cb.default=_E;function hb(yn){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hb=function(go){return typeof go}:hb=function(go){return go&&typeof Symbol=="function"&&go.constructor===Symbol&&go!==Symbol.prototype?"symbol":typeof go},hb(yn)}Object.defineProperty(_m,"__esModule",{value:!0}),_m.matchesSelector=f_,_m.matchesSelectorAndParentsTo=wk,_m.addEvent=Mx,_m.removeEvent=x0,_m.outerHeight=iw,_m.outerWidth=O1,_m.innerHeight=Px,_m.innerWidth=B0,_m.offsetXYFromParent=Lw,_m.createCSSTransform=ky,_m.createSVGTransform=Yy,_m.getTranslation=kb,_m.getTouch=db,_m.getTouchIdentifier=G_,_m.addUserSelectStyles=Ix,_m.removeUserSelectStyles=jb,_m.addClassName=q_,_m.removeClassName=M1;var xy=Ny,Iw=bk(cb);function Km(yn){if(typeof WeakMap!="function")return null;var go=new WeakMap,pf=new WeakMap;return(Km=function(mf){return mf?pf:go})(yn)}function bk(yn,go){if(!go&&yn&&yn.__esModule)return yn;if(yn===null||hb(yn)!=="object"&&typeof yn!="function")return{default:yn};var pf=Km(go);if(pf&&pf.has(yn))return pf.get(yn);var mf={},kf=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var If in yn)if(If!=="default"&&Object.prototype.hasOwnProperty.call(yn,If)){var Hf=kf?Object.getOwnPropertyDescriptor(yn,If):null;Hf&&(Hf.get||Hf.set)?Object.defineProperty(mf,If,Hf):mf[If]=yn[If]}return mf.default=yn,pf&&pf.set(yn,mf),mf}function Ey(yn,go){var pf=Object.keys(yn);if(Object.getOwnPropertySymbols){var mf=Object.getOwnPropertySymbols(yn);go&&(mf=mf.filter(function(kf){return Object.getOwnPropertyDescriptor(yn,kf).enumerable})),pf.push.apply(pf,mf)}return pf}function rw(yn){for(var go=1;go<arguments.length;go++){var pf=arguments[go]!=null?arguments[go]:{};go%2?Ey(Object(pf),!0).forEach(function(mf){h_(yn,mf,pf[mf])}):Object.getOwnPropertyDescriptors?Object.defineProperties(yn,Object.getOwnPropertyDescriptors(pf)):Ey(Object(pf)).forEach(function(mf){Object.defineProperty(yn,mf,Object.getOwnPropertyDescriptor(pf,mf))})}return yn}function h_(yn,go,pf){return go in yn?Object.defineProperty(yn,go,{value:pf,enumerable:!0,configurable:!0,writable:!0}):yn[go]=pf,yn}var d_="";function f_(yn,go){return d_||(d_=(0,xy.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(pf){return(0,xy.isFunction)(yn[pf])})),(0,xy.isFunction)(yn[d_])?yn[d_](go):!1}function wk(yn,go,pf){var mf=yn;do{if(f_(mf,go))return!0;if(mf===pf)return!1;mf=mf.parentNode}while(mf);return!1}function Mx(yn,go,pf,mf){if(yn){var kf=rw({capture:!0},mf);yn.addEventListener?yn.addEventListener(go,pf,kf):yn.attachEvent?yn.attachEvent("on"+go,pf):yn["on"+go]=pf}}function x0(yn,go,pf,mf){if(yn){var kf=rw({capture:!0},mf);yn.removeEventListener?yn.removeEventListener(go,pf,kf):yn.detachEvent?yn.detachEvent("on"+go,pf):yn["on"+go]=null}}function iw(yn){var go=yn.clientHeight,pf=yn.ownerDocument.defaultView.getComputedStyle(yn);return go+=(0,xy.int)(pf.borderTopWidth),go+=(0,xy.int)(pf.borderBottomWidth),go}function O1(yn){var go=yn.clientWidth,pf=yn.ownerDocument.defaultView.getComputedStyle(yn);return go+=(0,xy.int)(pf.borderLeftWidth),go+=(0,xy.int)(pf.borderRightWidth),go}function Px(yn){var go=yn.clientHeight,pf=yn.ownerDocument.defaultView.getComputedStyle(yn);return go-=(0,xy.int)(pf.paddingTop),go-=(0,xy.int)(pf.paddingBottom),go}function B0(yn){var go=yn.clientWidth,pf=yn.ownerDocument.defaultView.getComputedStyle(yn);return go-=(0,xy.int)(pf.paddingLeft),go-=(0,xy.int)(pf.paddingRight),go}function Lw(yn,go,pf){var mf=go===go.ownerDocument.body,kf=mf?{left:0,top:0}:go.getBoundingClientRect(),If=(yn.clientX+go.scrollLeft-kf.left)/pf,Hf=(yn.clientY+go.scrollTop-kf.top)/pf;return{x:If,y:Hf}}function ky(yn,go){var pf=kb(yn,go,"px");return h_({},(0,Iw.browserPrefixToKey)("transform",Iw.default),pf)}function Yy(yn,go){var pf=kb(yn,go,"");return pf}function kb(yn,go,pf){var mf=yn.x,kf=yn.y,If="translate(".concat(mf).concat(pf,",").concat(kf).concat(pf,")");if(go){var Hf="".concat(typeof go.x=="string"?go.x:go.x+pf),Zf="".concat(typeof go.y=="string"?go.y:go.y+pf);If="translate(".concat(Hf,", ").concat(Zf,")")+If}return If}function db(yn,go){return yn.targetTouches&&(0,xy.findInArray)(yn.targetTouches,function(pf){return go===pf.identifier})||yn.changedTouches&&(0,xy.findInArray)(yn.changedTouches,function(pf){return go===pf.identifier})}function G_(yn){if(yn.targetTouches&&yn.targetTouches[0])return yn.targetTouches[0].identifier;if(yn.changedTouches&&yn.changedTouches[0])return yn.changedTouches[0].identifier}function Ix(yn){if(yn){var go=yn.getElementById("react-draggable-style-el");go||(go=yn.createElement("style"),go.type="text/css",go.id="react-draggable-style-el",go.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,go.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,yn.getElementsByTagName("head")[0].appendChild(go)),yn.body&&q_(yn.body,"react-draggable-transparent-selection")}}function jb(yn){if(yn)try{if(yn.body&&M1(yn.body,"react-draggable-transparent-selection"),yn.selection)yn.selection.empty();else{var go=(yn.defaultView||window).getSelection();go&&go.type!=="Caret"&&go.removeAllRanges()}}catch{}}function q_(yn,go){yn.classList?yn.classList.add(go):yn.className.match(new RegExp("(?:^|\\s)".concat(go,"(?!\\S)")))||(yn.className+=" ".concat(go))}function M1(yn,go){yn.classList?yn.classList.remove(go):yn.className=yn.className.replace(new RegExp("(?:^|\\s)".concat(go,"(?!\\S)"),"g"),"")}var By={};Object.defineProperty(By,"__esModule",{value:!0}),By.getBoundPosition=xE,By.snapToGrid=p_,By.canDragX=Dw,By.canDragY=nw,By.getControlPosition=Y_,By.createCoreData=g_,By.createDraggableData=ey;var Cy=Ny,Rw=_m;function xE(yn,go,pf){if(!yn.props.bounds)return[go,pf];var mf=yn.props.bounds;mf=typeof mf=="string"?mf:EE(mf);var kf=E0(yn);if(typeof mf=="string"){var If=kf.ownerDocument,Hf=If.defaultView,Zf;if(mf==="parent"?Zf=kf.parentNode:Zf=If.querySelector(mf),!(Zf instanceof Hf.HTMLElement))throw new Error('Bounds selector "'+mf+'" could not find an element.');var rp=Zf,op=Hf.getComputedStyle(kf),ep=Hf.getComputedStyle(rp);mf={left:-kf.offsetLeft+(0,Cy.int)(ep.paddingLeft)+(0,Cy.int)(op.marginLeft),top:-kf.offsetTop+(0,Cy.int)(ep.paddingTop)+(0,Cy.int)(op.marginTop),right:(0,Rw.innerWidth)(rp)-(0,Rw.outerWidth)(kf)-kf.offsetLeft+(0,Cy.int)(ep.paddingRight)-(0,Cy.int)(op.marginRight),bottom:(0,Rw.innerHeight)(rp)-(0,Rw.outerHeight)(kf)-kf.offsetTop+(0,Cy.int)(ep.paddingBottom)-(0,Cy.int)(op.marginBottom)}}return(0,Cy.isNum)(mf.right)&&(go=Math.min(go,mf.right)),(0,Cy.isNum)(mf.bottom)&&(pf=Math.min(pf,mf.bottom)),(0,Cy.isNum)(mf.left)&&(go=Math.max(go,mf.left)),(0,Cy.isNum)(mf.top)&&(pf=Math.max(pf,mf.top)),[go,pf]}function p_(yn,go,pf){var mf=Math.round(go/yn[0])*yn[0],kf=Math.round(pf/yn[1])*yn[1];return[mf,kf]}function Dw(yn){return yn.props.axis==="both"||yn.props.axis==="x"}function nw(yn){return yn.props.axis==="both"||yn.props.axis==="y"}function Y_(yn,go,pf){var mf=typeof go=="number"?(0,Rw.getTouch)(yn,go):null;if(typeof go=="number"&&!mf)return null;var kf=E0(pf),If=pf.props.offsetParent||kf.offsetParent||kf.ownerDocument.body;return(0,Rw.offsetXYFromParent)(mf||yn,If,pf.props.scale)}function g_(yn,go,pf){var mf=yn.state,kf=!(0,Cy.isNum)(mf.lastX),If=E0(yn);return kf?{node:If,deltaX:0,deltaY:0,lastX:go,lastY:pf,x:go,y:pf}:{node:If,deltaX:go-mf.lastX,deltaY:pf-mf.lastY,lastX:mf.lastX,lastY:mf.lastY,x:go,y:pf}}function ey(yn,go){var pf=yn.props.scale;return{node:go.node,x:yn.state.x+go.deltaX/pf,y:yn.state.y+go.deltaY/pf,deltaX:go.deltaX/pf,deltaY:go.deltaY/pf,lastX:yn.state.x,lastY:yn.state.y}}function EE(yn){return{left:yn.left,top:yn.top,right:yn.right,bottom:yn.bottom}}function E0(yn){var go=yn.findDOMNode();if(!go)throw new Error("<DraggableCore>: Unmounted during event!");return go}var Hb={},ow={};Object.defineProperty(ow,"__esModule",{value:!0}),ow.default=sw;function sw(){}function aw(yn){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?aw=function(go){return typeof go}:aw=function(go){return go&&typeof Symbol=="function"&&go.constructor===Symbol&&go!==Symbol.prototype?"symbol":typeof go},aw(yn)}Object.defineProperty(Hb,"__esModule",{value:!0}),Hb.default=void 0;var Z_=Vv(Dy),k0=S0(_p.exports),Lx=S0(Dy),Nv=_m,Zy=By,Nw=Ny,C0=S0(ow);function S0(yn){return yn&&yn.__esModule?yn:{default:yn}}function fb(yn){if(typeof WeakMap!="function")return null;var go=new WeakMap,pf=new WeakMap;return(fb=function(mf){return mf?pf:go})(yn)}function Vv(yn,go){if(!go&&yn&&yn.__esModule)return yn;if(yn===null||aw(yn)!=="object"&&typeof yn!="function")return{default:yn};var pf=fb(go);if(pf&&pf.has(yn))return pf.get(yn);var mf={},kf=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var If in yn)if(If!=="default"&&Object.prototype.hasOwnProperty.call(yn,If)){var Hf=kf?Object.getOwnPropertyDescriptor(yn,If):null;Hf&&(Hf.get||Hf.set)?Object.defineProperty(mf,If,Hf):mf[If]=yn[If]}return mf.default=yn,pf&&pf.set(yn,mf),mf}function Bw(yn,go){return K_(yn)||s1(yn,go)||P1(yn,go)||X_()}function X_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P1(yn,go){if(yn){if(typeof yn=="string")return Rx(yn,go);var pf=Object.prototype.toString.call(yn).slice(8,-1);if(pf==="Object"&&yn.constructor&&(pf=yn.constructor.name),pf==="Map"||pf==="Set")return Array.from(yn);if(pf==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(pf))return Rx(yn,go)}}function Rx(yn,go){(go==null||go>yn.length)&&(go=yn.length);for(var pf=0,mf=new Array(go);pf<go;pf++)mf[pf]=yn[pf];return mf}function s1(yn,go){var pf=yn==null?null:typeof Symbol<"u"&&yn[Symbol.iterator]||yn["@@iterator"];if(pf!=null){var mf=[],kf=!0,If=!1,Hf,Zf;try{for(pf=pf.call(yn);!(kf=(Hf=pf.next()).done)&&(mf.push(Hf.value),!(go&&mf.length===go));kf=!0);}catch(rp){If=!0,Zf=rp}finally{try{!kf&&pf.return!=null&&pf.return()}finally{if(If)throw Zf}}return mf}}function K_(yn){if(Array.isArray(yn))return yn}function m_(yn,go){if(!(yn instanceof go))throw new TypeError("Cannot call a class as a function")}function J_(yn,go){for(var pf=0;pf<go.length;pf++){var mf=go[pf];mf.enumerable=mf.enumerable||!1,mf.configurable=!0,"value"in mf&&(mf.writable=!0),Object.defineProperty(yn,mf.key,mf)}}function _k(yn,go,pf){return go&&J_(yn.prototype,go),pf&&J_(yn,pf),yn}function a1(yn,go){if(typeof go!="function"&&go!==null)throw new TypeError("Super expression must either be null or a function");yn.prototype=Object.create(go&&go.prototype,{constructor:{value:yn,writable:!0,configurable:!0}}),go&&$w(yn,go)}function $w(yn,go){return $w=Object.setPrototypeOf||function(pf,mf){return pf.__proto__=mf,pf},$w(yn,go)}function I1(yn){var go=Q_();return function(){var pf=lw(yn),mf;if(go){var kf=lw(this).constructor;mf=Reflect.construct(pf,arguments,kf)}else mf=pf.apply(this,arguments);return Dx(this,mf)}}function Dx(yn,go){if(go&&(aw(go)==="object"||typeof go=="function"))return go;if(go!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zv(yn)}function Zv(yn){if(yn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return yn}function Q_(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lw(yn){return lw=Object.setPrototypeOf?Object.getPrototypeOf:function(go){return go.__proto__||Object.getPrototypeOf(go)},lw(yn)}function fy(yn,go,pf){return go in yn?Object.defineProperty(yn,go,{value:pf,enumerable:!0,configurable:!0,writable:!0}):yn[go]=pf,yn}var py={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},Vb=py.mouse,uw=function(yn){a1(pf,yn);var go=I1(pf);function pf(){var mf;m_(this,pf);for(var kf=arguments.length,If=new Array(kf),Hf=0;Hf<kf;Hf++)If[Hf]=arguments[Hf];return mf=go.call.apply(go,[this].concat(If)),fy(Zv(mf),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),fy(Zv(mf),"mounted",!1),fy(Zv(mf),"handleDragStart",function(Zf){if(mf.props.onMouseDown(Zf),!mf.props.allowAnyClick&&typeof Zf.button=="number"&&Zf.button!==0)return!1;var rp=mf.findDOMNode();if(!rp||!rp.ownerDocument||!rp.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var op=rp.ownerDocument;if(!(mf.props.disabled||!(Zf.target instanceof op.defaultView.Node)||mf.props.handle&&!(0,Nv.matchesSelectorAndParentsTo)(Zf.target,mf.props.handle,rp)||mf.props.cancel&&(0,Nv.matchesSelectorAndParentsTo)(Zf.target,mf.props.cancel,rp))){Zf.type==="touchstart"&&Zf.preventDefault();var ep=(0,Nv.getTouchIdentifier)(Zf);mf.setState({touchIdentifier:ep});var Bp=(0,Zy.getControlPosition)(Zf,ep,Zv(mf));if(Bp!=null){var Yp=Bp.x,Qp=Bp.y,fg=(0,Zy.createCoreData)(Zv(mf),Yp,Qp);(0,C0.default)("DraggableCore: handleDragStart: %j",fg),(0,C0.default)("calling",mf.props.onStart);var Sg=mf.props.onStart(Zf,fg);Sg===!1||mf.mounted===!1||(mf.props.enableUserSelectHack&&(0,Nv.addUserSelectStyles)(op),mf.setState({dragging:!0,lastX:Yp,lastY:Qp}),(0,Nv.addEvent)(op,Vb.move,mf.handleDrag),(0,Nv.addEvent)(op,Vb.stop,mf.handleDragStop))}}}),fy(Zv(mf),"handleDrag",function(Zf){var rp=(0,Zy.getControlPosition)(Zf,mf.state.touchIdentifier,Zv(mf));if(rp!=null){var op=rp.x,ep=rp.y;if(Array.isArray(mf.props.grid)){var Bp=op-mf.state.lastX,Yp=ep-mf.state.lastY,Qp=(0,Zy.snapToGrid)(mf.props.grid,Bp,Yp),fg=Bw(Qp,2);if(Bp=fg[0],Yp=fg[1],!Bp&&!Yp)return;op=mf.state.lastX+Bp,ep=mf.state.lastY+Yp}var Sg=(0,Zy.createCoreData)(Zv(mf),op,ep);(0,C0.default)("DraggableCore: handleDrag: %j",Sg);var Cg=mf.props.onDrag(Zf,Sg);if(Cg===!1||mf.mounted===!1){try{mf.handleDragStop(new MouseEvent("mouseup"))}catch{var Fg=document.createEvent("MouseEvents");Fg.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),mf.handleDragStop(Fg)}return}mf.setState({lastX:op,lastY:ep})}}),fy(Zv(mf),"handleDragStop",function(Zf){if(mf.state.dragging){var rp=(0,Zy.getControlPosition)(Zf,mf.state.touchIdentifier,Zv(mf));if(rp!=null){var op=rp.x,ep=rp.y,Bp=(0,Zy.createCoreData)(Zv(mf),op,ep),Yp=mf.props.onStop(Zf,Bp);if(Yp===!1||mf.mounted===!1)return!1;var Qp=mf.findDOMNode();Qp&&mf.props.enableUserSelectHack&&(0,Nv.removeUserSelectStyles)(Qp.ownerDocument),(0,C0.default)("DraggableCore: handleDragStop: %j",Bp),mf.setState({dragging:!1,lastX:NaN,lastY:NaN}),Qp&&((0,C0.default)("DraggableCore: Removing handlers"),(0,Nv.removeEvent)(Qp.ownerDocument,Vb.move,mf.handleDrag),(0,Nv.removeEvent)(Qp.ownerDocument,Vb.stop,mf.handleDragStop))}}}),fy(Zv(mf),"onMouseDown",function(Zf){return Vb=py.mouse,mf.handleDragStart(Zf)}),fy(Zv(mf),"onMouseUp",function(Zf){return Vb=py.mouse,mf.handleDragStop(Zf)}),fy(Zv(mf),"onTouchStart",function(Zf){return Vb=py.touch,mf.handleDragStart(Zf)}),fy(Zv(mf),"onTouchEnd",function(Zf){return Vb=py.touch,mf.handleDragStop(Zf)}),mf}return _k(pf,[{key:"componentDidMount",value:function(){this.mounted=!0;var mf=this.findDOMNode();mf&&(0,Nv.addEvent)(mf,py.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var mf=this.findDOMNode();if(mf){var kf=mf.ownerDocument;(0,Nv.removeEvent)(kf,py.mouse.move,this.handleDrag),(0,Nv.removeEvent)(kf,py.touch.move,this.handleDrag),(0,Nv.removeEvent)(kf,py.mouse.stop,this.handleDragStop),(0,Nv.removeEvent)(kf,py.touch.stop,this.handleDragStop),(0,Nv.removeEvent)(mf,py.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Nv.removeUserSelectStyles)(kf)}}},{key:"findDOMNode",value:function(){var mf,kf,If;return(mf=(kf=this.props)===null||kf===void 0||(If=kf.nodeRef)===null||If===void 0?void 0:If.current)!==null&&mf!==void 0?mf:Lx.default.findDOMNode(this)}},{key:"render",value:function(){return Z_.cloneElement(Z_.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),pf}(Z_.Component);Hb.default=uw,fy(uw,"displayName","DraggableCore"),fy(uw,"propTypes",{allowAnyClick:k0.default.bool,disabled:k0.default.bool,enableUserSelectHack:k0.default.bool,offsetParent:function(yn,go){if(yn[go]&&yn[go].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:k0.default.arrayOf(k0.default.number),handle:k0.default.string,cancel:k0.default.string,nodeRef:k0.default.object,onStart:k0.default.func,onDrag:k0.default.func,onStop:k0.default.func,onMouseDown:k0.default.func,scale:k0.default.number,className:Nw.dontSetMe,style:Nw.dontSetMe,transform:Nw.dontSetMe}),fy(uw,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),function(yn){function go(Mg){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?go=function(Vg){return typeof Vg}:go=function(Vg){return Vg&&typeof Symbol=="function"&&Vg.constructor===Symbol&&Vg!==Symbol.prototype?"symbol":typeof Vg},go(Mg)}Object.defineProperty(yn,"__esModule",{value:!0}),Object.defineProperty(yn,"DraggableCore",{enumerable:!0,get:function(){return op.default}}),yn.default=void 0;var pf=fg(Dy),mf=Yp(_p.exports),kf=Yp(Dy),If=Yp(s0),Hf=_m,Zf=By,rp=Ny,op=Yp(Hb),ep=Yp(ow),Bp=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function Yp(Mg){return Mg&&Mg.__esModule?Mg:{default:Mg}}function Qp(Mg){if(typeof WeakMap!="function")return null;var Vg=new WeakMap,Jg=new WeakMap;return(Qp=function(Ug){return Ug?Jg:Vg})(Mg)}function fg(Mg,Vg){if(!Vg&&Mg&&Mg.__esModule)return Mg;if(Mg===null||go(Mg)!=="object"&&typeof Mg!="function")return{default:Mg};var Jg=Qp(Vg);if(Jg&&Jg.has(Mg))return Jg.get(Mg);var Ug={},rm=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Hm in Mg)if(Hm!=="default"&&Object.prototype.hasOwnProperty.call(Mg,Hm)){var q0=rm?Object.getOwnPropertyDescriptor(Mg,Hm):null;q0&&(q0.get||q0.set)?Object.defineProperty(Ug,Hm,q0):Ug[Hm]=Mg[Hm]}return Ug.default=Mg,Jg&&Jg.set(Mg,Ug),Ug}function Sg(){return Sg=Object.assign||function(Mg){for(var Vg=1;Vg<arguments.length;Vg++){var Jg=arguments[Vg];for(var Ug in Jg)Object.prototype.hasOwnProperty.call(Jg,Ug)&&(Mg[Ug]=Jg[Ug])}return Mg},Sg.apply(this,arguments)}function Cg(Mg,Vg){if(Mg==null)return{};var Jg=Fg(Mg,Vg),Ug,rm;if(Object.getOwnPropertySymbols){var Hm=Object.getOwnPropertySymbols(Mg);for(rm=0;rm<Hm.length;rm++)Ug=Hm[rm],!(Vg.indexOf(Ug)>=0)&&(!Object.prototype.propertyIsEnumerable.call(Mg,Ug)||(Jg[Ug]=Mg[Ug]))}return Jg}function Fg(Mg,Vg){if(Mg==null)return{};var Jg={},Ug=Object.keys(Mg),rm,Hm;for(Hm=0;Hm<Ug.length;Hm++)rm=Ug[Hm],!(Vg.indexOf(rm)>=0)&&(Jg[rm]=Mg[rm]);return Jg}function Yg(Mg,Vg){var Jg=Object.keys(Mg);if(Object.getOwnPropertySymbols){var Ug=Object.getOwnPropertySymbols(Mg);Vg&&(Ug=Ug.filter(function(rm){return Object.getOwnPropertyDescriptor(Mg,rm).enumerable})),Jg.push.apply(Jg,Ug)}return Jg}function $m(Mg){for(var Vg=1;Vg<arguments.length;Vg++){var Jg=arguments[Vg]!=null?arguments[Vg]:{};Vg%2?Yg(Object(Jg),!0).forEach(function(Ug){u_(Mg,Ug,Jg[Ug])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Mg,Object.getOwnPropertyDescriptors(Jg)):Yg(Object(Jg)).forEach(function(Ug){Object.defineProperty(Mg,Ug,Object.getOwnPropertyDescriptor(Jg,Ug))})}return Mg}function Am(Mg,Vg){return K0(Mg)||G0(Mg,Vg)||zm(Mg,Vg)||Em()}function Em(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zm(Mg,Vg){if(Mg){if(typeof Mg=="string")return Om(Mg,Vg);var Jg=Object.prototype.toString.call(Mg).slice(8,-1);if(Jg==="Object"&&Mg.constructor&&(Jg=Mg.constructor.name),Jg==="Map"||Jg==="Set")return Array.from(Mg);if(Jg==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Jg))return Om(Mg,Vg)}}function Om(Mg,Vg){(Vg==null||Vg>Mg.length)&&(Vg=Mg.length);for(var Jg=0,Ug=new Array(Vg);Jg<Vg;Jg++)Ug[Jg]=Mg[Jg];return Ug}function G0(Mg,Vg){var Jg=Mg==null?null:typeof Symbol<"u"&&Mg[Symbol.iterator]||Mg["@@iterator"];if(Jg!=null){var Ug=[],rm=!0,Hm=!1,q0,nb;try{for(Jg=Jg.call(Mg);!(rm=(q0=Jg.next()).done)&&(Ug.push(q0.value),!(Vg&&Ug.length===Vg));rm=!0);}catch(h0){Hm=!0,nb=h0}finally{try{!rm&&Jg.return!=null&&Jg.return()}finally{if(Hm)throw nb}}return Ug}}function K0(Mg){if(Array.isArray(Mg))return Mg}function u0(Mg,Vg){if(!(Mg instanceof Vg))throw new TypeError("Cannot call a class as a function")}function c0(Mg,Vg){for(var Jg=0;Jg<Vg.length;Jg++){var Ug=Vg[Jg];Ug.enumerable=Ug.enumerable||!1,Ug.configurable=!0,"value"in Ug&&(Ug.writable=!0),Object.defineProperty(Mg,Ug.key,Ug)}}function a_(Mg,Vg,Jg){return Vg&&c0(Mg.prototype,Vg),Jg&&c0(Mg,Jg),Mg}function T1(Mg,Vg){if(typeof Vg!="function"&&Vg!==null)throw new TypeError("Super expression must either be null or a function");Mg.prototype=Object.create(Vg&&Vg.prototype,{constructor:{value:Mg,writable:!0,configurable:!0}}),Vg&&bE(Mg,Vg)}function bE(Mg,Vg){return bE=Object.setPrototypeOf||function(Jg,Ug){return Jg.__proto__=Ug,Jg},bE(Mg,Vg)}function l_(Mg){var Vg=MA();return function(){var Jg=yC(Mg),Ug;if(Vg){var rm=yC(this).constructor;Ug=Reflect.construct(Jg,arguments,rm)}else Ug=Jg.apply(this,arguments);return W_(this,Ug)}}function W_(Mg,Vg){if(Vg&&(go(Vg)==="object"||typeof Vg=="function"))return Vg;if(Vg!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bb(Mg)}function Bb(Mg){if(Mg===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Mg}function MA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yC(Mg){return yC=Object.setPrototypeOf?Object.getPrototypeOf:function(Vg){return Vg.__proto__||Object.getPrototypeOf(Vg)},yC(Mg)}function u_(Mg,Vg,Jg){return Vg in Mg?Object.defineProperty(Mg,Vg,{value:Jg,enumerable:!0,configurable:!0,writable:!0}):Mg[Vg]=Jg,Mg}var I0=function(Mg){T1(Jg,Mg);var Vg=l_(Jg);function Jg(Ug){var rm;return u0(this,Jg),rm=Vg.call(this,Ug),u_(Bb(rm),"onDragStart",function(Hm,q0){(0,ep.default)("Draggable: onDragStart: %j",q0);var nb=rm.props.onStart(Hm,(0,Zf.createDraggableData)(Bb(rm),q0));if(nb===!1)return!1;rm.setState({dragging:!0,dragged:!0})}),u_(Bb(rm),"onDrag",function(Hm,q0){if(!rm.state.dragging)return!1;(0,ep.default)("Draggable: onDrag: %j",q0);var nb=(0,Zf.createDraggableData)(Bb(rm),q0),h0={x:nb.x,y:nb.y};if(rm.props.bounds){var bC=h0.x,Cx=h0.y;h0.x+=rm.state.slackX,h0.y+=rm.state.slackY;var vk=(0,Zf.getBoundPosition)(Bb(rm),h0.x,h0.y),bS=Am(vk,2),PA=bS[0],IA=bS[1];h0.x=PA,h0.y=IA,h0.slackX=rm.state.slackX+(bC-h0.x),h0.slackY=rm.state.slackY+(Cx-h0.y),nb.x=h0.x,nb.y=h0.y,nb.deltaX=h0.x-rm.state.x,nb.deltaY=h0.y-rm.state.y}var nM=rm.props.onDrag(Hm,nb);if(nM===!1)return!1;rm.setState(h0)}),u_(Bb(rm),"onDragStop",function(Hm,q0){if(!rm.state.dragging)return!1;var nb=rm.props.onStop(Hm,(0,Zf.createDraggableData)(Bb(rm),q0));if(nb===!1)return!1;(0,ep.default)("Draggable: onDragStop: %j",q0);var h0={dragging:!1,slackX:0,slackY:0},bC=!!rm.props.position;if(bC){var Cx=rm.props.position,vk=Cx.x,bS=Cx.y;h0.x=vk,h0.y=bS}rm.setState(h0)}),rm.state={dragging:!1,dragged:!1,x:Ug.position?Ug.position.x:Ug.defaultPosition.x,y:Ug.position?Ug.position.y:Ug.defaultPosition.y,prevPropsPosition:$m({},Ug.position),slackX:0,slackY:0,isElementSVG:!1},Ug.position&&!(Ug.onDrag||Ug.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),rm}return a_(Jg,[{key:"componentDidMount",value:function(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var Ug,rm,Hm;return(Ug=(rm=this.props)===null||rm===void 0||(Hm=rm.nodeRef)===null||Hm===void 0?void 0:Hm.current)!==null&&Ug!==void 0?Ug:kf.default.findDOMNode(this)}},{key:"render",value:function(){var Ug,rm=this.props;rm.axis,rm.bounds;var Hm=rm.children,q0=rm.defaultPosition,nb=rm.defaultClassName,h0=rm.defaultClassNameDragging,bC=rm.defaultClassNameDragged,Cx=rm.position,vk=rm.positionOffset;rm.scale;var bS=Cg(rm,Bp),PA={},IA=null,nM=!!Cx,dP=!nM||this.state.dragging,fP=Cx||q0,pP={x:(0,Zf.canDragX)(this)&&dP?this.state.x:fP.x,y:(0,Zf.canDragY)(this)&&dP?this.state.y:fP.y};this.state.isElementSVG?IA=(0,Hf.createSVGTransform)(pP,vk):PA=(0,Hf.createCSSTransform)(pP,vk);var BL=(0,If.default)(Hm.props.className||"",nb,(Ug={},u_(Ug,h0,this.state.dragging),u_(Ug,bC,this.state.dragged),Ug));return pf.createElement(op.default,Sg({},bS,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),pf.cloneElement(pf.Children.only(Hm),{className:BL,style:$m($m({},Hm.props.style),PA),transform:IA}))}}],[{key:"getDerivedStateFromProps",value:function(Ug,rm){var Hm=Ug.position,q0=rm.prevPropsPosition;return Hm&&(!q0||Hm.x!==q0.x||Hm.y!==q0.y)?((0,ep.default)("Draggable: getDerivedStateFromProps %j",{position:Hm,prevPropsPosition:q0}),{x:Hm.x,y:Hm.y,prevPropsPosition:$m({},Hm)}):null}}]),Jg}(pf.Component);yn.default=I0,u_(I0,"displayName","Draggable"),u_(I0,"propTypes",$m($m({},op.default.propTypes),{},{axis:mf.default.oneOf(["both","x","y","none"]),bounds:mf.default.oneOfType([mf.default.shape({left:mf.default.number,right:mf.default.number,top:mf.default.number,bottom:mf.default.number}),mf.default.string,mf.default.oneOf([!1])]),defaultClassName:mf.default.string,defaultClassNameDragging:mf.default.string,defaultClassNameDragged:mf.default.string,defaultPosition:mf.default.shape({x:mf.default.number,y:mf.default.number}),positionOffset:mf.default.shape({x:mf.default.oneOfType([mf.default.number,mf.default.string]),y:mf.default.oneOfType([mf.default.number,mf.default.string])}),position:mf.default.shape({x:mf.default.number,y:mf.default.number}),className:rp.dontSetMe,style:rp.dontSetMe,transform:rp.dontSetMe})),u_(I0,"defaultProps",$m($m({},op.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))}(Eb);var cw=Eb,v_=cw.default,y_=cw.DraggableCore;dy.exports=v_,dy.exports.default=v_,dy.exports.DraggableCore=y_;var ex=dy.exports,xk=["second","minute","hour","day","week","month","year"];function l1(yn,go){if(go===0)return["just now","right now"];var pf=xk[Math.floor(go/2)];return yn>1&&(pf+="s"),[yn+" "+pf+" ago","in "+yn+" "+pf]}var Ek=["秒","分钟","小时","天","周","个月","年"];function Nx(yn,go){if(go===0)return["刚刚","片刻后"];var pf=Ek[~~(go/2)];return[yn+" "+pf+"前",yn+" "+pf+"后"]}var b_={},i0=function(yn,go){b_[yn]=go},kE=function(yn){return b_[yn]||b_.en_US},kv=[60,60,24,7,365/7/12,12];function pb(yn){return yn instanceof Date?yn:!isNaN(yn)||/^\d+$/.test(yn)?new Date(parseInt(yn)):(yn=(yn||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(yn))}function Cb(yn,go){var pf=yn<0?1:0;yn=Math.abs(yn);for(var mf=yn,kf=0;yn>=kv[kf]&&kf<kv.length;kf++)yn/=kv[kf];return yn=Math.floor(yn),kf*=2,yn>(kf===0?9:1)&&(kf+=1),go(yn,kf,mf)[pf].replace("%s",yn.toString())}function L1(yn,go){var pf=go?pb(go):new Date;return(+pf-+pb(yn))/1e3}function Bx(yn){for(var go=1,pf=0,mf=Math.abs(yn);yn>=kv[pf]&&pf<kv.length;pf++)yn/=kv[pf],go*=kv[pf];return mf=mf%go,mf=mf?go-mf:go,Math.ceil(mf)}var tx=function(yn,go,pf){var mf=L1(yn,pf&&pf.relativeDate);return Cb(mf,kE(go))},rx="timeago-id";function w_(yn){return yn.getAttribute("datetime")}function CE(yn,go){yn.setAttribute(rx,go)}function R1(yn){return parseInt(yn.getAttribute(rx))}var __={},Fw=function(yn){clearTimeout(yn),delete __[yn]};function $x(yn,go,pf,mf){Fw(R1(yn));var kf=mf.relativeDate,If=mf.minInterval,Hf=L1(go,kf);yn.innerText=Cb(Hf,pf);var Zf=setTimeout(function(){$x(yn,go,pf,mf)},Math.min(Math.max(Bx(Hf),If||1)*1e3,2147483647));__[Zf]=0,CE(yn,Zf)}function Sb(yn){yn?Fw(R1(yn)):Object.keys(__).forEach(Fw)}function ix(yn,go,pf){var mf=yn.length?yn:[yn];return mf.forEach(function(kf){$x(kf,w_(kf),kE(go),pf||{})}),mf}i0("en_US",l1),i0("zh_CN",Nx);var nx=function(){var yn=function(go,pf){return yn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(mf,kf){mf.__proto__=kf}||function(mf,kf){for(var If in kf)kf.hasOwnProperty(If)&&(mf[If]=kf[If])},yn(go,pf)};return function(go,pf){yn(go,pf);function mf(){this.constructor=go}go.prototype=pf===null?Object.create(pf):(mf.prototype=pf.prototype,new mf)}}(),D1=function(){return D1=Object.assign||function(yn){for(var go,pf=1,mf=arguments.length;pf<mf;pf++){go=arguments[pf];for(var kf in go)Object.prototype.hasOwnProperty.call(go,kf)&&(yn[kf]=go[kf])}return yn},D1.apply(this,arguments)},$y=function(yn,go){var pf={};for(var mf in yn)Object.prototype.hasOwnProperty.call(yn,mf)&&go.indexOf(mf)<0&&(pf[mf]=yn[mf]);if(yn!=null&&typeof Object.getOwnPropertySymbols=="function")for(var kf=0,mf=Object.getOwnPropertySymbols(yn);kf<mf.length;kf++)go.indexOf(mf[kf])<0&&Object.prototype.propertyIsEnumerable.call(yn,mf[kf])&&(pf[mf[kf]]=yn[mf[kf]]);return pf},zw=function(yn){return""+(yn instanceof Date?yn.getTime():yn)},jw=function(yn){nx(go,yn);function go(){var pf=yn!==null&&yn.apply(this,arguments)||this;return pf.dom=null,pf}return go.prototype.componentDidMount=function(){this.renderTimeAgo()},go.prototype.componentDidUpdate=function(){this.renderTimeAgo()},go.prototype.renderTimeAgo=function(){var pf=this.props,mf=pf.live,kf=pf.datetime,If=pf.locale,Hf=pf.opts;Sb(this.dom),mf!==!1&&(this.dom.setAttribute("datetime",zw(kf)),ix(this.dom,If,Hf))},go.prototype.componentWillUnmount=function(){Sb(this.dom)},go.prototype.render=function(){var pf=this,mf=this.props,kf=mf.datetime;mf.live;var If=mf.locale,Hf=mf.opts,Zf=$y(mf,["datetime","live","locale","opts"]);return Pf("time",D1({ref:function(rp){pf.dom=rp}},Zf),tx(kf,If,Hf))},go.defaultProps={live:!0,className:""},go}(_y);function Fx(yn,go){const pf=mf=>{yn.current&&!yn.current.contains(event.target)&&go()};im(()=>(document.addEventListener("mousedown",pf),()=>document.removeEventListener("mousedown",pf)))}var ox=Object.prototype.toString,SE=function(yn){var go=ox.call(yn),pf=go==="[object Arguments]";return pf||(pf=go!=="[object Array]"&&yn!==null&&typeof yn=="object"&&typeof yn.length=="number"&&yn.length>=0&&ox.call(yn.callee)==="[object Function]"),pf},sx;if(!Object.keys){var Hw=Object.prototype.hasOwnProperty,x_=Object.prototype.toString,TE=SE,N1=Object.prototype.propertyIsEnumerable,AE=!N1.call({toString:null},"toString"),ax=N1.call(function(){},"prototype"),Vw=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Uw=function(yn){var go=yn.constructor;return go&&go.prototype===yn},fo={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},Ef=function(){if(typeof window>"u")return!1;for(var yn in window)try{if(!fo["$"+yn]&&Hw.call(window,yn)&&window[yn]!==null&&typeof window[yn]=="object")try{Uw(window[yn])}catch{return!0}}catch{return!0}return!1}(),Lf=function(yn){if(typeof window>"u"||!Ef)return Uw(yn);try{return Uw(yn)}catch{return!1}};sx=function(yn){var go=yn!==null&&typeof yn=="object",pf=x_.call(yn)==="[object Function]",mf=TE(yn),kf=go&&x_.call(yn)==="[object String]",If=[];if(!go&&!pf&&!mf)throw new TypeError("Object.keys called on a non-object");var Hf=ax&&pf;if(kf&&yn.length>0&&!Hw.call(yn,0))for(var Zf=0;Zf<yn.length;++Zf)If.push(String(Zf));if(mf&&yn.length>0)for(var rp=0;rp<yn.length;++rp)If.push(String(rp));else for(var op in yn)!(Hf&&op==="prototype")&&Hw.call(yn,op)&&If.push(String(op));if(AE)for(var ep=Lf(yn),Bp=0;Bp<Vw.length;++Bp)!(ep&&Vw[Bp]==="constructor")&&Hw.call(yn,Vw[Bp])&&If.push(Vw[Bp]);return If}}var Wf=sx,Qf=Array.prototype.slice,wp=SE,Kp=Object.keys,ug=Kp?function(yn){return Kp(yn)}:Wf,bg=Object.keys;ug.shim=function(){if(Object.keys){var yn=function(){var go=Object.keys(arguments);return go&&go.length===arguments.length}(1,2);yn||(Object.keys=function(go){return wp(go)?bg(Qf.call(go)):bg(go)})}else Object.keys=ug;return Object.keys||ug};var Tg=ug,Wg=Tg,xm=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",Vm=Object.prototype.toString,gy=Array.prototype.concat,p0=Object.defineProperty,ty=function(yn){return typeof yn=="function"&&Vm.call(yn)==="[object Function]"},Sy=function(){var yn={};try{p0(yn,"x",{enumerable:!1,value:yn});for(var go in yn)return!1;return yn.x===yn}catch{return!1}},B1=p0&&Sy(),zx=function(yn,go,pf,mf){go in yn&&(!ty(mf)||!mf())||(B1?p0(yn,go,{configurable:!0,enumerable:!1,value:pf,writable:!0}):yn[go]=pf)},jx=function(yn,go){var pf=arguments.length>2?arguments[2]:{},mf=Wg(go);xm&&(mf=gy.call(mf,Object.getOwnPropertySymbols(go)));for(var kf=0;kf<mf.length;kf+=1)zx(yn,mf[kf],go[mf[kf]],pf[mf[kf]])};jx.supportsDescriptors=!!B1;var hw=jx,dw={exports:{}},Ub="Function.prototype.bind called on incompatible ",u1=Array.prototype.slice,g0=Object.prototype.toString,E_="[object Function]",OE=function(yn){var go=this;if(typeof go!="function"||g0.call(go)!==E_)throw new TypeError(Ub+go);for(var pf=u1.call(arguments,1),mf,kf=function(){if(this instanceof mf){var op=go.apply(this,pf.concat(u1.call(arguments)));return Object(op)===op?op:this}else return go.apply(yn,pf.concat(u1.call(arguments)))},If=Math.max(0,go.length-pf.length),Hf=[],Zf=0;Zf<If;Zf++)Hf.push("$"+Zf);if(mf=Function("binder","return function ("+Hf.join(",")+"){ return binder.apply(this,arguments); }")(kf),go.prototype){var rp=function(){};rp.prototype=go.prototype,mf.prototype=new rp,rp.prototype=null}return mf},Ng=OE,lx=Function.prototype.bind||Ng,k_=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var yn={},go=Symbol("test"),pf=Object(go);if(typeof go=="string"||Object.prototype.toString.call(go)!=="[object Symbol]"||Object.prototype.toString.call(pf)!=="[object Symbol]")return!1;var mf=42;yn[go]=mf;for(go in yn)return!1;if(typeof Object.keys=="function"&&Object.keys(yn).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(yn).length!==0)return!1;var kf=Object.getOwnPropertySymbols(yn);if(kf.length!==1||kf[0]!==go||!Object.prototype.propertyIsEnumerable.call(yn,go))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var If=Object.getOwnPropertyDescriptor(yn,go);if(If.value!==mf||If.enumerable!==!0)return!1}return!0},C_=typeof Symbol<"u"&&Symbol,Tv=k_,ux=function(){return typeof C_!="function"||typeof Symbol!="function"||typeof C_("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Tv()},S_=lx,Hx=S_.call(Function.call,Object.prototype.hasOwnProperty),Ov,fw=SyntaxError,Vx=Function,pw=TypeError,ME=function(yn){try{return Vx('"use strict"; return ('+yn+").constructor;")()}catch{}},Fy=Object.getOwnPropertyDescriptor;if(Fy)try{Fy({},"")}catch{Fy=null}var kk=function(){throw new pw},Ck=Fy?function(){try{return arguments.callee,kk}catch{try{return Fy(arguments,"callee").get}catch{return kk}}}():kk,Wb=ux(),Ww=Object.getPrototypeOf||function(yn){return yn.__proto__},m0={},c1=typeof Uint8Array>"u"?Ov:Ww(Uint8Array),Nm={"%AggregateError%":typeof AggregateError>"u"?Ov:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Ov:ArrayBuffer,"%ArrayIteratorPrototype%":Wb?Ww([][Symbol.iterator]()):Ov,"%AsyncFromSyncIteratorPrototype%":Ov,"%AsyncFunction%":m0,"%AsyncGenerator%":m0,"%AsyncGeneratorFunction%":m0,"%AsyncIteratorPrototype%":m0,"%Atomics%":typeof Atomics>"u"?Ov:Atomics,"%BigInt%":typeof BigInt>"u"?Ov:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Ov:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Ov:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Ov:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Ov:FinalizationRegistry,"%Function%":Vx,"%GeneratorFunction%":m0,"%Int8Array%":typeof Int8Array>"u"?Ov:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Ov:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Ov:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Wb?Ww(Ww([][Symbol.iterator]())):Ov,"%JSON%":typeof JSON=="object"?JSON:Ov,"%Map%":typeof Map>"u"?Ov:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Wb?Ov:Ww(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Ov:Promise,"%Proxy%":typeof Proxy>"u"?Ov:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Ov:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Ov:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Wb?Ov:Ww(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Ov:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Wb?Ww(""[Symbol.iterator]()):Ov,"%Symbol%":Wb?Symbol:Ov,"%SyntaxError%":fw,"%ThrowTypeError%":Ck,"%TypedArray%":c1,"%TypeError%":pw,"%Uint8Array%":typeof Uint8Array>"u"?Ov:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Ov:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Ov:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Ov:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Ov:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Ov:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Ov:WeakSet},Zm=function yn(go){var pf;if(go==="%AsyncFunction%")pf=ME("async function () {}");else if(go==="%GeneratorFunction%")pf=ME("function* () {}");else if(go==="%AsyncGeneratorFunction%")pf=ME("async function* () {}");else if(go==="%AsyncGenerator%"){var mf=yn("%AsyncGeneratorFunction%");mf&&(pf=mf.prototype)}else if(go==="%AsyncIteratorPrototype%"){var kf=yn("%AsyncGenerator%");kf&&(pf=Ww(kf.prototype))}return Nm[go]=pf,pf},Jm={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Um=lx,Mm=Hx,sv=Um.call(Function.call,Array.prototype.concat),av=Um.call(Function.apply,Array.prototype.splice),Qm=Um.call(Function.call,String.prototype.replace),Wm=Um.call(Function.call,String.prototype.slice),lv=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,uv=/\\(\\)?/g,cv=function(yn){var go=Wm(yn,0,1),pf=Wm(yn,-1);if(go==="%"&&pf!=="%")throw new fw("invalid intrinsic syntax, expected closing `%`");if(pf==="%"&&go!=="%")throw new fw("invalid intrinsic syntax, expected opening `%`");var mf=[];return Qm(yn,lv,function(kf,If,Hf,Zf){mf[mf.length]=Hf?Qm(Zf,uv,"$1"):If||kf}),mf},hv=function(yn,go){var pf=yn,mf;if(Mm(Jm,pf)&&(mf=Jm[pf],pf="%"+mf[0]+"%"),Mm(Nm,pf)){var kf=Nm[pf];if(kf===m0&&(kf=Zm(pf)),typeof kf>"u"&&!go)throw new pw("intrinsic "+yn+" exists, but is not available. Please file an issue!");return{alias:mf,name:pf,value:kf}}throw new fw("intrinsic "+yn+" does not exist!")},bm=function(yn,go){if(typeof yn!="string"||yn.length===0)throw new pw("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof go!="boolean")throw new pw('"allowMissing" argument must be a boolean');var pf=cv(yn),mf=pf.length>0?pf[0]:"",kf=hv("%"+mf+"%",go),If=kf.name,Hf=kf.value,Zf=!1,rp=kf.alias;rp&&(mf=rp[0],av(pf,sv([0,1],rp)));for(var op=1,ep=!0;op<pf.length;op+=1){var Bp=pf[op],Yp=Wm(Bp,0,1),Qp=Wm(Bp,-1);if((Yp==='"'||Yp==="'"||Yp==="`"||Qp==='"'||Qp==="'"||Qp==="`")&&Yp!==Qp)throw new fw("property names with quotes must have matching quotes");if((Bp==="constructor"||!ep)&&(Zf=!0),mf+="."+Bp,If="%"+mf+"%",Mm(Nm,If))Hf=Nm[If];else if(Hf!=null){if(!(Bp in Hf)){if(!go)throw new pw("base intrinsic for "+yn+" exists, but the property is not available.");return}if(Fy&&op+1>=pf.length){var fg=Fy(Hf,Bp);ep=!!fg,ep&&"get"in fg&&!("originalValue"in fg.get)?Hf=fg.get:Hf=Hf[Bp]}else ep=Mm(Hf,Bp),Hf=Hf[Bp];ep&&!Zf&&(Nm[If]=Hf)}}return Hf};(function(yn){var go=lx,pf=bm,mf=pf("%Function.prototype.apply%"),kf=pf("%Function.prototype.call%"),If=pf("%Reflect.apply%",!0)||go.call(kf,mf),Hf=pf("%Object.getOwnPropertyDescriptor%",!0),Zf=pf("%Object.defineProperty%",!0),rp=pf("%Math.max%");if(Zf)try{Zf({},"a",{value:1})}catch{Zf=null}yn.exports=function(ep){var Bp=If(go,kf,arguments);if(Hf&&Zf){var Yp=Hf(Bp,"length");Yp.configurable&&Zf(Bp,"length",{value:1+rp(0,ep.length-(arguments.length-1))})}return Bp};var op=function(){return If(go,mf,arguments)};Zf?Zf(yn.exports,"apply",{value:op}):yn.exports.apply=op})(dw);var ev=bm,Rm=dw.exports,dv=Rm(ev("String.prototype.indexOf")),Bm=function(yn,go){var pf=ev(yn,!!go);return typeof pf=="function"&&dv(yn,".prototype.")>-1?Rm(pf):pf},fv=bm,pv=fv("%TypeError%"),gv=function(yn,go){if(yn==null)throw new pv(go||"Cannot call method on "+yn);return yn},Gm=gv,mv=bm,tv=mv("%Array%"),$1=!tv.isArray&&Bm("Object.prototype.toString"),Gb=tv.isArray||function(yn){return $1(yn)==="[object Array]"},PE=bm,Sk=Bm,Tk=PE("%TypeError%"),Ak=Gb,Ok=PE("%Reflect.apply%",!0)||Sk("%Function.prototype.apply%"),Ux=function(yn,go){var pf=arguments.length>2?arguments[2]:[];if(!Ak(pf))throw new Tk("Assertion failed: optional `argumentsList`, if provided, must be a List");return Ok(yn,go,pf)},Gg={},qg=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Gg}),Bg=Q0(qg),Mf=typeof Map=="function"&&Map.prototype,Vf=Object.getOwnPropertyDescriptor&&Mf?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,tp=Mf&&Vf&&typeof Vf.get=="function"?Vf.get:null,pp=Mf&&Map.prototype.forEach,Tp=typeof Set=="function"&&Set.prototype,Hp=Object.getOwnPropertyDescriptor&&Tp?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,np=Tp&&Hp&&typeof Hp.get=="function"?Hp.get:null,jm=Tp&&Set.prototype.forEach,Mv=typeof WeakMap=="function"&&WeakMap.prototype,a0=Mv?WeakMap.prototype.has:null,qb=typeof WeakSet=="function"&&WeakSet.prototype,gw=qb?WeakSet.prototype.has:null,Wx=typeof WeakRef=="function"&&WeakRef.prototype,wC=Wx?WeakRef.prototype.deref:null,_C=Boolean.prototype.valueOf,xC=Object.prototype.toString,IE=Function.prototype.toString,D2=String.prototype.match,LE=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Mk=Object.getOwnPropertySymbols,wS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,RE=typeof Symbol=="function"&&typeof Symbol.iterator=="object",_S=Object.prototype.propertyIsEnumerable,xS=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(yn){return yn.__proto__}:null),EC=Bg.custom,ES=EC&&SS(EC)?EC:null,Xy=typeof Symbol=="function"&&typeof Symbol.toStringTag<"u"?Symbol.toStringTag:null,NA=function yn(go,pf,mf,kf){var If=pf||{};if(cx(If,"quoteStyle")&&If.quoteStyle!=="single"&&If.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(cx(If,"maxStringLength")&&(typeof If.maxStringLength=="number"?If.maxStringLength<0&&If.maxStringLength!==1/0:If.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Hf=cx(If,"customInspect")?If.customInspect:!0;if(typeof Hf!="boolean"&&Hf!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(cx(If,"indent")&&If.indent!==null&&If.indent!=="	"&&!(parseInt(If.indent,10)===If.indent&&If.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(typeof go>"u")return"undefined";if(go===null)return"null";if(typeof go=="boolean")return go?"true":"false";if(typeof go=="string")return AS(go,If);if(typeof go=="number")return go===0?1/0/go>0?"0":"-0":String(go);if(typeof go=="bigint")return String(go)+"n";var Zf=typeof If.depth>"u"?5:If.depth;if(typeof mf>"u"&&(mf=0),mf>=Zf&&Zf>0&&typeof go=="object")return kC(go)?"[Array]":"[Object]";var rp=U2(If,mf);if(typeof kf>"u")kf=[];else if(TS(kf,go)>=0)return"[Circular]";function op(u0,c0,a_){if(c0&&(kf=kf.slice(),kf.push(c0)),a_){var T1={depth:If.depth};return cx(If,"quoteStyle")&&(T1.quoteStyle=If.quoteStyle),yn(u0,T1,mf+1,kf)}return yn(u0,If,mf+1,kf)}if(typeof go=="function"){var ep=FA(go),Bp=CC(go,op);return"[Function"+(ep?": "+ep:" (anonymous)")+"]"+(Bp.length>0?" { "+Bp.join(", ")+" }":"")}if(SS(go)){var Yp=RE?String(go).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):wS.call(go);return typeof go=="object"&&!RE?Pk(Yp):Yp}if(VA(go)){for(var Qp="<"+String(go.nodeName).toLowerCase(),fg=go.attributes||[],Sg=0;Sg<fg.length;Sg++)Qp+=" "+fg[Sg].name+"="+kS(N2(fg[Sg].value),"double",If);return Qp+=">",go.childNodes&&go.childNodes.length&&(Qp+="..."),Qp+="</"+String(go.nodeName).toLowerCase()+">",Qp}if(kC(go)){if(go.length===0)return"[]";var Cg=CC(go,op);return rp&&!WA(Cg)?"["+MS(Cg,rp)+"]":"[ "+Cg.join(", ")+" ]"}if(CS(go)){var Fg=CC(go,op);return Fg.length===0?"["+String(go)+"]":"{ ["+String(go)+"] "+Fg.join(", ")+" }"}if(typeof go=="object"&&Hf){if(ES&&typeof go[ES]=="function")return go[ES]();if(Hf!=="symbol"&&typeof go.inspect=="function")return go.inspect()}if(j2(go)){var Yg=[];return pp.call(go,function(u0,c0){Yg.push(op(c0,go,!0)+" => "+op(u0,go))}),V2("Map",tp.call(go),Yg,rp)}if(H2(go)){var $m=[];return jm.call(go,function(u0){$m.push(op(u0,go))}),V2("Set",np.call(go),$m,rp)}if(zA(go))return OS("WeakMap");if(HA(go))return OS("WeakSet");if(jA(go))return OS("WeakRef");if($2(go))return Pk(op(Number(go)));if(z2(go))return Pk(op(LE.call(go)));if(F2(go))return Pk(_C.call(go));if($A(go))return Pk(op(String(go)));if(!BA(go)&&!B2(go)){var Am=CC(go,op),Em=xS?xS(go)===Object.prototype:go instanceof Object||go.constructor===Object,zm=go instanceof Object?"":"null prototype",Om=!Em&&Xy&&Object(go)===go&&Xy in go?T_(go).slice(8,-1):zm?"Object":"",G0=Em||typeof go.constructor!="function"?"":go.constructor.name?go.constructor.name+" ":"",K0=G0+(Om||zm?"["+[].concat(Om||[],zm||[]).join(": ")+"] ":"");return Am.length===0?K0+"{}":rp?K0+"{"+MS(Am,rp)+"}":K0+"{ "+Am.join(", ")+" }"}return String(go)};function kS(yn,go,pf){var mf=(pf.quoteStyle||go)==="double"?'"':"'";return mf+yn+mf}function N2(yn){return String(yn).replace(/"/g,"&quot;")}function kC(yn){return T_(yn)==="[object Array]"&&(!Xy||!(typeof yn=="object"&&Xy in yn))}function BA(yn){return T_(yn)==="[object Date]"&&(!Xy||!(typeof yn=="object"&&Xy in yn))}function B2(yn){return T_(yn)==="[object RegExp]"&&(!Xy||!(typeof yn=="object"&&Xy in yn))}function CS(yn){return T_(yn)==="[object Error]"&&(!Xy||!(typeof yn=="object"&&Xy in yn))}function $A(yn){return T_(yn)==="[object String]"&&(!Xy||!(typeof yn=="object"&&Xy in yn))}function $2(yn){return T_(yn)==="[object Number]"&&(!Xy||!(typeof yn=="object"&&Xy in yn))}function F2(yn){return T_(yn)==="[object Boolean]"&&(!Xy||!(typeof yn=="object"&&Xy in yn))}function SS(yn){if(RE)return yn&&typeof yn=="object"&&yn instanceof Symbol;if(typeof yn=="symbol")return!0;if(!yn||typeof yn!="object"||!wS)return!1;try{return wS.call(yn),!0}catch{}return!1}function z2(yn){if(!yn||typeof yn!="object"||!LE)return!1;try{return LE.call(yn),!0}catch{}return!1}var Gw=Object.prototype.hasOwnProperty||function(yn){return yn in this};function cx(yn,go){return Gw.call(yn,go)}function T_(yn){return xC.call(yn)}function FA(yn){if(yn.name)return yn.name;var go=D2.call(IE.call(yn),/^function\s*([\w$]+)/);return go?go[1]:null}function TS(yn,go){if(yn.indexOf)return yn.indexOf(go);for(var pf=0,mf=yn.length;pf<mf;pf++)if(yn[pf]===go)return pf;return-1}function j2(yn){if(!tp||!yn||typeof yn!="object")return!1;try{tp.call(yn);try{np.call(yn)}catch{return!0}return yn instanceof Map}catch{}return!1}function zA(yn){if(!a0||!yn||typeof yn!="object")return!1;try{a0.call(yn,a0);try{gw.call(yn,gw)}catch{return!0}return yn instanceof WeakMap}catch{}return!1}function jA(yn){if(!wC||!yn||typeof yn!="object")return!1;try{return wC.call(yn),!0}catch{}return!1}function H2(yn){if(!np||!yn||typeof yn!="object")return!1;try{np.call(yn);try{tp.call(yn)}catch{return!0}return yn instanceof Set}catch{}return!1}function HA(yn){if(!gw||!yn||typeof yn!="object")return!1;try{gw.call(yn,gw);try{a0.call(yn,a0)}catch{return!0}return yn instanceof WeakSet}catch{}return!1}function VA(yn){return!yn||typeof yn!="object"?!1:typeof HTMLElement<"u"&&yn instanceof HTMLElement?!0:typeof yn.nodeName=="string"&&typeof yn.getAttribute=="function"}function AS(yn,go){if(yn.length>go.maxStringLength){var pf=yn.length-go.maxStringLength,mf="... "+pf+" more character"+(pf>1?"s":"");return AS(yn.slice(0,go.maxStringLength),go)+mf}var kf=yn.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,UA);return kS(kf,"single",go)}function UA(yn){var go=yn.charCodeAt(0),pf={8:"b",9:"t",10:"n",12:"f",13:"r"}[go];return pf?"\\"+pf:"\\x"+(go<16?"0":"")+go.toString(16).toUpperCase()}function Pk(yn){return"Object("+yn+")"}function OS(yn){return yn+" { ? }"}function V2(yn,go,pf,mf){var kf=mf?MS(pf,mf):pf.join(", ");return yn+" ("+go+") {"+kf+"}"}function WA(yn){for(var go=0;go<yn.length;go++)if(TS(yn[go],`
`)>=0)return!1;return!0}function U2(yn,go){var pf;if(yn.indent==="	")pf="	";else if(typeof yn.indent=="number"&&yn.indent>0)pf=Array(yn.indent+1).join(" ");else return null;return{base:pf,prev:Array(go+1).join(pf)}}function MS(yn,go){if(yn.length===0)return"";var pf=`
`+go.prev+go.base;return pf+yn.join(","+pf)+`
`+go.prev}function CC(yn,go){var pf=kC(yn),mf=[];if(pf){mf.length=yn.length;for(var kf=0;kf<yn.length;kf++)mf[kf]=cx(yn,kf)?go(yn[kf],yn):""}var If=typeof Mk=="function"?Mk(yn):[],Hf;if(RE){Hf={};for(var Zf=0;Zf<If.length;Zf++)Hf["$"+If[Zf]]=If[Zf]}for(var rp in yn)!cx(yn,rp)||pf&&String(Number(rp))===rp&&rp<yn.length||RE&&Hf["$"+rp]instanceof Symbol||(/[^\w$]/.test(rp)?mf.push(go(rp,yn)+": "+go(yn[rp],yn)):mf.push(rp+": "+go(yn[rp],yn)));if(typeof Mk=="function")for(var op=0;op<If.length;op++)_S.call(yn,If[op])&&mf.push("["+go(If[op])+"]: "+go(yn[If[op]],yn));return mf}var PS=function(yn){return typeof yn=="string"||typeof yn=="symbol"},W2=function(yn){if(yn===null)return"Null";if(typeof yn>"u")return"Undefined";if(typeof yn=="function"||typeof yn=="object")return"Object";if(typeof yn=="number")return"Number";if(typeof yn=="boolean")return"Boolean";if(typeof yn=="string")return"String"},SC=W2,hx=function(yn){return typeof yn=="symbol"?"Symbol":typeof yn=="bigint"?"BigInt":SC(yn)},TC=bm,IS=TC("%TypeError%"),GA=NA,G2=PS,qA=hx,q2=function(yn,go){if(qA(yn)!=="Object")throw new IS("Assertion failed: Type(O) is not Object");if(!G2(go))throw new IS("Assertion failed: IsPropertyKey(P) is not true, got "+GA(go));return yn[go]},AC=bm,Ik=AC("%TypeError%"),Lk=PS,Rk=hx,Y2=function(yn,go){if(Rk(yn)!=="Object")throw new Ik("Assertion failed: `O` must be an Object");if(!Lk(go))throw new Ik("Assertion failed: `P` must be a Property Key");return go in yn},DE=Function.prototype.toString,qw=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,NE,OC;if(typeof qw=="function"&&typeof Object.defineProperty=="function")try{NE=Object.defineProperty({},"length",{get:function(){throw OC}}),OC={},qw(function(){throw 42},null,NE)}catch(yn){yn!==OC&&(qw=null)}else qw=null;var YA=/^\s*class\b/,LS=function(yn){try{var go=DE.call(yn);return YA.test(go)}catch{return!1}},Z2=function(yn){try{return LS(yn)?!1:(DE.call(yn),!0)}catch{return!1}},ZA=Object.prototype.toString,RS="[object Function]",X2="[object GeneratorFunction]",XA=typeof Symbol=="function"&&!!Symbol.toStringTag,Gx=typeof document=="object"&&typeof document.all>"u"&&document.all!==void 0?document.all:{},dx=qw?function(yn){if(yn===Gx)return!0;if(!yn||typeof yn!="function"&&typeof yn!="object")return!1;if(typeof yn=="function"&&!yn.prototype)return!0;try{qw(yn,null,NE)}catch(go){if(go!==OC)return!1}return!LS(yn)}:function(yn){if(yn===Gx)return!0;if(!yn||typeof yn!="function"&&typeof yn!="object")return!1;if(typeof yn=="function"&&!yn.prototype)return!0;if(XA)return Z2(yn);if(LS(yn))return!1;var go=ZA.call(yn);return go===RS||go===X2},K2=dx,J2=bm,Q2=J2("%Math%"),DS=J2("%Number%"),KA=DS.MAX_SAFE_INTEGER||Q2.pow(2,53)-1,JA=bm,eT=JA("%Math.abs%"),QA=function(yn){return eT(yn)},BE=Math.floor,h1=function(yn){return BE(yn)},$E=function(yn){return yn===null||typeof yn!="function"&&typeof yn!="object"},gb=Object.prototype.toString,Xv=$E,eO=dx,tT={"[[DefaultValue]]":function(yn){var go;if(arguments.length>1?go=arguments[1]:go=gb.call(yn)==="[object Date]"?String:Number,go===String||go===Number){var pf=go===String?["toString","valueOf"]:["valueOf","toString"],mf,kf;for(kf=0;kf<pf.length;++kf)if(eO(yn[pf[kf]])&&(mf=yn[pf[kf]](),Xv(mf)))return mf;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")}},NS=function(yn){return Xv(yn)?yn:arguments.length>1?tT["[[DefaultValue]]"](yn,arguments[1]):tT["[[DefaultValue]]"](yn)},tO=NS,rT=tO,iT=function(yn){var go=rT(yn,Number);if(typeof go!="string")return+go;var pf=go.replace(/^[ \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u0085]+|[ \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u0085]+$/g,"");return/^0[ob]|^[+-]0x/.test(pf)?NaN:+pf},BS=Number.isNaN||function(yn){return yn!==yn},nT=Number.isNaN||function(yn){return yn!==yn},oT=Number.isFinite||function(yn){return typeof yn=="number"&&!nT(yn)&&yn!==1/0&&yn!==-1/0},rO=function(yn){return yn>=0?1:-1},iO=QA,nO=h1,sT=iT,aT=BS,lT=oT,uT=rO,cT=function(yn){var go=sT(yn);return aT(go)?0:go===0||!lT(go)?go:uT(go)*nO(iO(go))},hT=bm,dT=hT("RegExp.prototype.test"),oO=dw.exports,sO=function(yn){return oO(dT,yn)},Dk=function(yn){return yn===null||typeof yn!="function"&&typeof yn!="object"},fT=k_,$S=function(){return fT()&&!!Symbol.toStringTag},pT=Date.prototype.getDay,gT=function(yn){try{return pT.call(yn),!0}catch{return!1}},mT=Object.prototype.toString,aO="[object Date]",vT=$S(),FS=function(yn){return typeof yn!="object"||yn===null?!1:vT?gT(yn):mT.call(yn)===aO},MC={exports:{}},zS=Object.prototype.toString,PC=ux();if(PC){var jS=Symbol.prototype.toString,yT=/^Symbol\(.*\)$/,lO=function(yn){return typeof yn.valueOf()!="symbol"?!1:yT.test(jS.call(yn))};MC.exports=function(yn){if(typeof yn=="symbol")return!0;if(zS.call(yn)!=="[object Symbol]")return!1;try{return lO(yn)}catch{return!1}}}else MC.exports=function(yn){return!1};var fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",HS=$E,A_=dx,VS=FS,US=MC.exports,WS=function(yn,go){if(typeof yn>"u"||yn===null)throw new TypeError("Cannot call method on "+yn);if(typeof go!="string"||go!=="number"&&go!=="string")throw new TypeError('hint must be "string" or "number"');var pf=go==="string"?["toString","valueOf"]:["valueOf","toString"],mf,kf,If;for(If=0;If<pf.length;++If)if(mf=yn[pf[If]],A_(mf)&&(kf=mf.call(yn),HS(kf)))return kf;throw new TypeError("No default value")},GS=function(yn,go){var pf=yn[go];if(pf!==null&&typeof pf<"u"){if(!A_(pf))throw new TypeError(pf+" returned for property "+go+" of object "+yn+" is not a function");return pf}},qS=function(yn){if(HS(yn))return yn;var go="default";arguments.length>1&&(arguments[1]===String?go="string":arguments[1]===Number&&(go="number"));var pf;if(fx&&(Symbol.toPrimitive?pf=GS(yn,Symbol.toPrimitive):US(yn)&&(pf=Symbol.prototype.valueOf)),typeof pf<"u"){var mf=pf.call(yn,go);if(HS(mf))return mf;throw new TypeError("unable to convert exotic object to primitive")}return go==="default"&&(VS(yn)||US(yn))&&(go="string"),WS(yn,go==="default"?"number":go)},IC=qS,YS=function(yn){return arguments.length>1?IC(yn,arguments[1]):IC(yn)},Tb=bm,ZS=Tb("%TypeError%"),mb=Tb("%Number%"),Nk=Tb("%RegExp%"),LC=Tb("%parseInt%"),O_=Bm,RC=sO,XS=Dk,bT=O_("String.prototype.slice"),wT=RC(/^0b[01]+$/i),Bk=RC(/^0o[0-7]+$/i),$k=RC(/^[-+]0x[0-9a-f]+$/i),_T=["","​","￾"].join(""),xT=new Nk("["+_T+"]","g"),DC=RC(xT),ET=[`	
\v\f\r   ᠎    `,"         　\u2028","\u2029\uFEFF"].join(""),kT=new RegExp("(^["+ET+"]+)|(["+ET+"]+$)","g"),CT=O_("String.prototype.replace"),Yw=function(yn){return CT(yn,kT,"")},uO=YS,NC=function yn(go){var pf=XS(go)?go:uO(go,mb);if(typeof pf=="symbol")throw new ZS("Cannot convert a Symbol value to a number");if(typeof pf=="bigint")throw new ZS("Conversion from 'BigInt' to 'number' is not allowed.");if(typeof pf=="string"){if(wT(pf))return yn(LC(bT(pf,2),2));if(Bk(pf))return yn(LC(bT(pf,2),8));if(DC(pf)||$k(pf))return NaN;var mf=Yw(pf);if(mf!==pf)return yn(mf)}return mb(pf)},ST=cT,cO=NC,TT=function(yn){var go=cO(yn);return go!==0&&(go=ST(go)),go===0?0:go},AT=KA,OT=TT,hO=function(yn){var go=OT(yn);return go<=0?0:go>AT?AT:go},dO=bm,MT=dO("%TypeError%"),fO=q2,mw=hO,M_=hx,qx=function(yn){if(M_(yn)!=="Object")throw new MT("Assertion failed: `obj` must be an Object");return mw(fO(yn,"length"))},e0=bm,Sm=e0("%Object%"),PT=Gm,Yb=function(yn){return PT(yn),Sm(yn)},Fk=bm,FE=Fk("%String%"),Zb=Fk("%TypeError%"),ng=function(yn){if(typeof yn=="symbol")throw new Zb("Cannot convert a Symbol value to a string");return FE(yn)},Yx=String.prototype.valueOf,P_=function(yn){try{return Yx.call(yn),!0}catch{return!1}},zE=Object.prototype.toString,dg="[object String]",zk=$S(),vm=function(yn){return typeof yn=="string"?!0:typeof yn!="object"?!1:zk?P_(yn):zE.call(yn)===dg},Ab=bm,IT=Bm,F1=Ab("%TypeError%"),z1=Ux,jk=q2,wg=Y2,d1=K2,Ky=qx,LT=Yb,yv=ng,Hk=vm,RT=IT("String.prototype.split"),Zx=Object("a"),my=Zx[0]!=="a"||!(0 in Zx),Xb=function(yn){var go=LT(this),pf=my&&Hk(this)?RT(this,""):go,mf=Ky(pf);if(!d1(yn))throw new F1("Array.prototype.forEach callback must be a function");var kf;arguments.length>1&&(kf=arguments[1]);for(var If=0;If<mf;){var Hf=yv(If),Zf=wg(pf,Hf);if(Zf){var rp=jk(pf,Hf);z1(yn,kf,[rp,If,pf])}If+=1}},am=function(yn){var go=!0,pf=!0,mf=!1;if(typeof yn=="function"){try{yn.call("f",function(kf,If,Hf){typeof Hf!="object"&&(go=!1)}),yn.call([null],function(){"use strict";pf=typeof this=="string"},"x")}catch{mf=!0}return!mf&&go&&pf}return!1},DT=am,j1=Xb,Vk=function(){var yn=Array.prototype.forEach;return DT(yn)?yn:j1},Zw=hw,jE=Vk,f1=function(){var yn=jE();return Zw(Array.prototype,{forEach:yn},{forEach:function(){return Array.prototype.forEach!==yn}}),yn},Xw=hw,BC=dw.exports,Im=Bm,n0=Gm,Xx=Xb,I_=Vk,Kx=I_(),H1=f1,jg=Im("Array.prototype.slice"),Jx=BC.apply(Kx),vw=function(yn,go){return n0(yn),Jx(yn,jg(arguments,1))};Xw(vw,{getPolyfill:I_,implementation:Xx,shim:H1});var mm=vw,yw=Gm,$C=Bm,bw=$C("Object.prototype.propertyIsEnumerable"),Kb=$C("Array.prototype.push"),ww=function(yn){var go=yw(yn),pf=[];for(var mf in go)bw(go,mf)&&Kb(pf,[mf,go[mf]]);return pf},HE=ww,Qx=function(){return typeof Object.entries=="function"?Object.entries:HE},VE=Qx,UE=hw,$0=function(){var yn=VE();return UE(Object,{entries:yn},{entries:function(){return Object.entries!==yn}}),yn},KS=hw,WE=dw.exports,p1=ww,eE=Qx,$g=$0,NT=WE(eE(),Object);KS(NT,{getPolyfill:eE,implementation:p1,shim:$g});var Uk=NT,qm=Gm,FC=ng,Wk=Bm,tE=Wk("String.prototype.replace"),rE=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,pO=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/,GE=function(){var yn=FC(qm(this));return tE(tE(yn,rE,""),pO,"")},zC=GE,jC="​",BT=function(){return String.prototype.trim&&jC.trim()===jC?String.prototype.trim:zC},$T=hw,$v=BT,Kw=function(){var yn=$v();return $T(String.prototype,{trim:yn},{trim:function(){return String.prototype.trim!==yn}}),yn},JS=dw.exports,FT=hw,Ty=GE,qE=BT,zT=Kw,g1=JS(qE());FT(g1,{getPolyfill:qE,implementation:Ty,shim:zT});var HC=g1,_w=mm,wv=Uk,Jb=Hx,V1=HC,m1=function(yn){},zy=String.prototype.replace,L_=String.prototype.split,Jy="||||",YE=function(yn){var go=yn%100,pf=go%10;return go!==11&&pf===1?0:2<=pf&&pf<=4&&!(go>=12&&go<=14)?1:2},jT={pluralTypes:{arabic:function(yn){if(yn<3)return yn;var go=yn%100;return go>=3&&go<=10?3:go>=11?4:5},bosnian_serbian:YE,chinese:function(){return 0},croatian:YE,french:function(yn){return yn>=2?1:0},german:function(yn){return yn!==1?1:0},russian:YE,lithuanian:function(yn){return yn%10==1&&yn%100!=11?0:yn%10>=2&&yn%10<=9&&(yn%100<11||yn%100>19)?1:2},czech:function(yn){return yn===1?0:yn>=2&&yn<=4?1:2},polish:function(yn){if(yn===1)return 0;var go=yn%10;return 2<=go&&go<=4&&(yn%100<10||yn%100>=20)?1:2},icelandic:function(yn){return yn%10!=1||yn%100==11?1:0},slovenian:function(yn){var go=yn%100;return go===1?0:go===2?1:go===3||go===4?2:3}},pluralTypeToLanguages:{arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is"],slovenian:["sl-SL"]}};function gO(yn){var go={};return _w(wv(yn),function(pf){var mf=pf[0],kf=pf[1];_w(kf,function(If){go[If]=mf})}),go}function mO(yn,go){var pf=gO(yn.pluralTypeToLanguages);return pf[go]||pf[L_.call(go,/-/,1)[0]]||pf.en}function vO(yn,go,pf){return yn.pluralTypes[go](pf)}function yO(){var yn={};return function(go,pf){var mf=yn[pf];return mf&&!go.pluralTypes[mf]&&(mf=null,yn[pf]=mf),mf||(mf=mO(go,pf),mf&&(yn[pf]=mf)),mf}}function HT(yn){return yn.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Qb(yn){var go=yn&&yn.prefix||"%{",pf=yn&&yn.suffix||"}";if(go===Jy||pf===Jy)throw new RangeError('"'+Jy+'" token is reserved for pluralization');return new RegExp(HT(go)+"(.*?)"+HT(pf),"g")}var QS=yO(),v0=/%\{(.*?)\}/g;function t0(yn,go,pf,mf,kf){if(typeof yn!="string")throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(go==null)return yn;var If=yn,Hf=mf||v0,Zf=typeof go=="number"?{smart_count:go}:go;if(Zf.smart_count!=null&&yn){var rp=kf||jT,op=L_.call(yn,Jy),ep=pf||"en",Bp=QS(rp,ep),Yp=vO(rp,Bp,Zf.smart_count);If=V1(op[Yp]||op[0])}return If=zy.call(If,Hf,function(Qp,fg){return!Jb(Zf,fg)||Zf[fg]==null?Qp:Zf[fg]}),If}function v1(yn){var go=yn||{};this.phrases={},this.extend(go.phrases||{}),this.currentLocale=go.locale||"en";var pf=go.allowMissing?t0:null;this.onMissingKey=typeof go.onMissingKey=="function"?go.onMissingKey:pf,this.warn=go.warn||m1,this.tokenRegex=Qb(go.interpolation),this.pluralRules=go.pluralRules||jT}v1.prototype.locale=function(yn){return yn&&(this.currentLocale=yn),this.currentLocale},v1.prototype.extend=function(yn,go){_w(wv(yn||{}),function(pf){var mf=pf[0],kf=pf[1],If=go?go+"."+mf:mf;typeof kf=="object"?this.extend(kf,If):this.phrases[If]=kf},this)},v1.prototype.unset=function(yn,go){typeof yn=="string"?delete this.phrases[yn]:_w(wv(yn||{}),function(pf){var mf=pf[0],kf=pf[1],If=go?go+"."+mf:mf;typeof kf=="object"?this.unset(kf,If):delete this.phrases[If]},this)},v1.prototype.clear=function(){this.phrases={}},v1.prototype.replace=function(yn){this.clear(),this.extend(yn)},v1.prototype.t=function(yn,go){var pf,mf,kf=go??{};if(typeof this.phrases[yn]=="string")pf=this.phrases[yn];else if(typeof kf._=="string")pf=kf._;else if(this.onMissingKey){var If=this.onMissingKey;mf=If(yn,kf,this.currentLocale,this.tokenRegex,this.pluralRules)}else this.warn('Missing translation for key: "'+yn+'"'),mf=yn;return typeof pf=="string"&&(mf=t0(pf,kf,this.currentLocale,this.tokenRegex,this.pluralRules)),mf},v1.prototype.has=function(yn){return Jb(this.phrases,yn)},v1.transformPhrase=function(yn,go,pf){return t0(yn,go,pf)};var vb=v1,R_={"Add a comment...":"إضافة تعليق","Add a reply...":"إضافة رد","Add tag...":"إضافة علامة",Cancel:"إلغاء",Close:"إغلاق",Edit:"Edit",Delete:"Delete",Ok:"تم"},F0={"Add a comment...":"Napsat komentář...","Add a reply...":"Odpovědět...","Add tag...":"Přidat štítek...",Cancel:"Zrušit",Close:"Zavřít",Edit:"Upravit",Delete:"Smazat",Ok:"Ok"},ZE={"Add a comment...":"Kommentar schreiben...","Add a reply...":"Antwort schreiben...","Add tag...":"Tag...",Cancel:"Abbrechen",Close:"Schliessen",Edit:"Bearbeiten",Delete:"Löschen",Ok:"Ok"},xw={"Add a comment...":"Σχολίασε...","Add a reply...":"Απάντησε...","Add tag...":"Πρόσθεσε tag...",Cancel:"Άκυρο",Close:"Κλείσιμο",Edit:"Επεξεργασία",Delete:"Διαγραφή",Ok:"Ok"},Ew={"Add a comment...":"Agregar un comentario...","Add a reply...":"Agregar una respuesta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Cerrar",Edit:"Editar",Delete:"Eliminar",Ok:"Ok"},e1={"Add a comment...":"Lisää kommentti","Add a reply...":"Lisää vastaus","Add tag...":"Lisää tunniste",Cancel:"Peruuta",Close:"Sulje",Edit:"Muokkaa",Delete:"Poista",Ok:"Ok"},VC={"Add a comment...":"Ajouter un commentaire...","Add a reply...":"Ajouter une réponse...","Add tag...":"Ajouter une étiquette...",Cancel:"Annuler",Close:"Fermer",Edit:"Éditer",Delete:"Supprimer",Ok:"Ok"},Gk={"Add a comment...":"Engadir un comentario...","Add a reply...":"Engadir unha resposta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Pechar",Edit:"Edit",Delete:"Delete",Ok:"Ok"},qk={"Add a comment...":"टिप्पणी जोड़ें","Add a reply...":"जवाब दें","Add tag...":"टैग लगाएँ",Cancel:"रद्द करें",Close:"बंद करें",Edit:"संपादित करें",Delete:"हटाएँ",Ok:"ठीक है"},Yk={"Add a comment...":"Commenta...","Add a reply...":"Rispondi...","Add tag...":"Aggiungi tag...",Cancel:"Annulla",Close:"Chiudi",Edit:"Edit",Delete:"Delete",Ok:"Ok"},y0={"Add a comment...":"댓글 추가","Add a reply...":"답글 추가","Add tag...":"태그 추가",Cancel:"취소",Close:"닫기",Edit:"수정",Delete:"삭제",Ok:"확인"},VT={"Add a comment...":"Commentaar toevoegen...","Add a reply...":"Antwoord toevoegen...","Add tag...":"Tag toevoegen...",Cancel:"Afbreken",Close:"Sluiten",Edit:"Bewerken",Delete:"Verwijderen",Ok:"Ok"},kw={"Add a comment...":"Adicionar um comentário...","Add a reply...":"Adicionar uma resposta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Fechar",Edit:"Editar",Delete:"Apagar",Ok:"Ok"},e2={"Add a comment...":"Skriv en kommentar...","Add a reply...":"Skriv ett svar...","Add tag...":"Tagg...",Cancel:"Cancel",Close:"Stäng",Edit:"Edit",Delete:"Delete",Ok:"Ok"},UT={"Add a comment...":"เพิ่มคอมเมนต์...","Add a reply...":"ตอบกลับ...","Add tag...":"เพิ่มแท็ก...",Cancel:"ยกเลิก",Close:"ปิด",Edit:"แก้ไข",Delete:"ลบ",Ok:"ตกลง"},Cv={"Add a comment...":"Yorum ekle...","Add a reply...":"Cevap ekle...","Add tag...":"Tag Ekle...",Cancel:"İptal",Close:"Kapat",Edit:"Düzenle",Delete:"Sil",Ok:"Tamam"},t2={"Add a comment...":"تبصرہ کریں","Add a reply...":"جواب دیں","Add tag...":"ٹیگ لگائیں",Cancel:"منسوخ کریں",Close:"بند کریں",Edit:"ترمیم کریں",Delete:"ہٹائیں",Ok:"ٹھیک ہے"},y1={};Object.defineProperty(y1,"__esModule",{value:!0});var Zk=[["ثانية","ثانيتين","%s ثوان","%s ثانية"],["دقيقة","دقيقتين","%s دقائق","%s دقيقة"],["ساعة","ساعتين","%s ساعات","%s ساعة"],["يوم","يومين","%s أيام","%s يوماً"],["أسبوع","أسبوعين","%s أسابيع","%s أسبوعاً"],["شهر","شهرين","%s أشهر","%s شهراً"],["عام","عامين","%s أعوام","%s عاماً"]];function Ym(yn,go){return go<3?Zk[yn][go-1]:go>=3&&go<=10?Zk[yn][2]:Zk[yn][3]}function WT(yn,go){if(go===0)return["منذ لحظات","بعد لحظات"];var pf=Ym(Math.floor(go/2),yn);return["منذ "+pf,"بعد "+pf]}var bO=y1.default=WT,Xk={};Object.defineProperty(Xk,"__esModule",{value:!0});function U1(yn,go){var pf=0,mf=go==1||go==3||go==5||go==7||go==9||go==11||go==13;return mf&&yn>=5&&(pf=1),[[["právě teď","právě teď"]],[["před %s vteřinami","za %s vteřiny"],["před %s vteřinami","za %s vteřin"]],[["před minutou","za minutu"]],[["před %s minutami","za %s minuty"],["před %s minutami","za %s minut"]],[["před hodinou","za hodinu"]],[["před %s hodinami","za %s hodiny"],["před %s hodinami","za %s hodin"]],[["včera","zítra"]],[["před %s dny","za %s dny"],["před %s dny","za %s dnů"]],[["minulý týden","příští týden"]],[["před %s týdny","za %s týdny"],["před %s týdny","za %s týdnů"]],[["minulý měsíc","přístí měsíc"]],[["před %s měsíci","za %s měsíce"],["před %s měsíci","za %s měsíců"]],[["před rokem","přístí rok"]],[["před %s lety","za %s roky"],["před %s lety","za %s let"]]][go][pf]}var Jw=Xk.default=U1,UC={};Object.defineProperty(UC,"__esModule",{value:!0});function GT(yn,go){return[["gerade eben","vor einer Weile"],["vor %s Sekunden","in %s Sekunden"],["vor 1 Minute","in 1 Minute"],["vor %s Minuten","in %s Minuten"],["vor 1 Stunde","in 1 Stunde"],["vor %s Stunden","in %s Stunden"],["vor 1 Tag","in 1 Tag"],["vor %s Tagen","in %s Tagen"],["vor 1 Woche","in 1 Woche"],["vor %s Wochen","in %s Wochen"],["vor 1 Monat","in 1 Monat"],["vor %s Monaten","in %s Monaten"],["vor 1 Jahr","in 1 Jahr"],["vor %s Jahren","in %s Jahren"]][go]}var Lg=UC.default=GT,Kk={};Object.defineProperty(Kk,"__esModule",{value:!0});function WC(yn,go){return[["μόλις τώρα","σε λίγο"],["%s δευτερόλεπτα πριν","σε %s δευτερόλεπτα"],["1 λεπτό πριν","σε 1 λεπτό"],["%s λεπτά πριν","σε %s λεπτά"],["1 ώρα πριν","σε 1 ώρα"],["%s ώρες πριν","σε %s ώρες"],["1 μέρα πριν","σε 1 μέρα"],["%s μέρες πριν","σε %s μέρες"],["1 εβδομάδα πριν","σε 1 εβδομάδα"],["%s εβδομάδες πριν","σε %s εβδομάδες"],["1 μήνα πριν","σε 1 μήνα"],["%s μήνες πριν","σε %s μήνες"],["1 χρόνο πριν","σε 1 χρόνο"],["%s χρόνια πριν","σε %s χρόνια"]][go]}var W1=Kk.default=WC,b1={};Object.defineProperty(b1,"__esModule",{value:!0});function Qw(yn,go){return[["justo ahora","en un rato"],["hace %s segundos","en %s segundos"],["hace 1 minuto","en 1 minuto"],["hace %s minutos","en %s minutos"],["hace 1 hora","en 1 hora"],["hace %s horas","en %s horas"],["hace 1 día","en 1 día"],["hace %s días","en %s días"],["hace 1 semana","en 1 semana"],["hace %s semanas","en %s semanas"],["hace 1 mes","en 1 mes"],["hace %s meses","en %s meses"],["hace 1 año","en 1 año"],["hace %s años","en %s años"]][go]}var GC=b1.default=Qw,Ay={};Object.defineProperty(Ay,"__esModule",{value:!0});function Fv(yn,go){return[["juuri äsken","juuri nyt"],["%s sekuntia sitten","%s sekunnin päästä"],["minuutti sitten","minuutin päästä"],["%s minuuttia sitten","%s minuutin päästä"],["tunti sitten","tunnin päästä"],["%s tuntia sitten","%s tunnin päästä"],["päivä sitten","päivän päästä"],["%s päivää sitten","%s päivän päästä"],["viikko sitten","viikon päästä"],["%s viikkoa sitten","%s viikon päästä"],["kuukausi sitten","kuukauden päästä"],["%s kuukautta sitten","%s kuukauden päästä"],["vuosi sitten","vuoden päästä"],["%s vuotta sitten","%s vuoden päästä"]][go]}var Pv=Ay.default=Fv,b0={};Object.defineProperty(b0,"__esModule",{value:!0});function wO(yn,go){return[["à l'instant","dans un instant"],["il y a %s secondes","dans %s secondes"],["il y a 1 minute","dans 1 minute"],["il y a %s minutes","dans %s minutes"],["il y a 1 heure","dans 1 heure"],["il y a %s heures","dans %s heures"],["il y a 1 jour","dans 1 jour"],["il y a %s jours","dans %s jours"],["il y a 1 semaine","dans 1 semaine"],["il y a %s semaines","dans %s semaines"],["il y a 1 mois","dans 1 mois"],["il y a %s mois","dans %s mois"],["il y a 1 an","dans 1 an"],["il y a %s ans","dans %s ans"]][go]}var _O=b0.default=wO,yb={};Object.defineProperty(yb,"__esModule",{value:!0});function qC(yn,go){return[["xusto agora","daquí a un pouco"],["hai %s segundos","en %s segundos"],["hai 1 minuto","nun minuto"],["hai %s minutos","en %s minutos"],["hai 1 hora","nunha hora"],["hai %s horas","en %s horas"],["hai 1 día","nun día"],["hai %s días","en %s días"],["hai 1 semana","nunha semana"],["hai %s semanas","en %s semanas"],["hai 1 mes","nun mes"],["hai %s meses","en %s meses"],["hai 1 ano","nun ano"],["hai %s anos","en %s anos"]][go]}var G1=yb.default=qC,Lv={};Object.defineProperty(Lv,"__esModule",{value:!0});function Jk(yn,go){return[["अभी","कुछ समय"],["%s सेकंड पहले","%s सेकंड में"],["1 मिनट पहले","1 मिनट में"],["%s मिनट पहले","%s मिनट में"],["1 घंटे पहले","1 घंटे में"],["%s घंटे पहले","%s घंटे में"],["1 दिन पहले","1 दिन में"],["%s दिन पहले","%s दिनों में"],["1 सप्ताह पहले","1 सप्ताह में"],["%s हफ्ते पहले","%s हफ्तों में"],["1 महीने पहले","1 महीने में"],["%s महीने पहले","%s महीनों में"],["1 साल पहले","1 साल में"],["%s साल पहले","%s साल में"]][go]}var Oy=Lv.default=Jk,YC={};Object.defineProperty(YC,"__esModule",{value:!0});function XE(yn,go){return[["poco fa","fra poco"],["%s secondi fa","fra %s secondi"],["un minuto fa","fra un minuto"],["%s minuti fa","fra %s minuti"],["un'ora fa","fra un'ora"],["%s ore fa","fra %s ore"],["un giorno fa","fra un giorno"],["%s giorni fa","fra %s giorni"],["una settimana fa","fra una settimana"],["%s settimane fa","fra %s settimane"],["un mese fa","fra un mese"],["%s mesi fa","fra %s mesi"],["un anno fa","fra un anno"],["%s anni fa","fra %s anni"]][go]}var o0=YC.default=XE,Qy={};Object.defineProperty(Qy,"__esModule",{value:!0});function KE(yn,go){return[["방금","곧"],["%s초 전","%s초 후"],["1분 전","1분 후"],["%s분 전","%s분 후"],["1시간 전","1시간 후"],["%s시간 전","%s시간 후"],["1일 전","1일 후"],["%s일 전","%s일 후"],["1주일 전","1주일 후"],["%s주일 전","%s주일 후"],["1개월 전","1개월 후"],["%s개월 전","%s개월 후"],["1년 전","1년 후"],["%s년 전","%s년 후"]][go]}var w1=Qy.default=KE,Cw={};Object.defineProperty(Cw,"__esModule",{value:!0});function D_(yn,go){return[["recent","binnenkort"],["%s seconden geleden","binnen %s seconden"],["1 minuut geleden","binnen 1 minuut"],["%s minuten geleden","binnen %s minuten"],["1 uur geleden","binnen 1 uur"],["%s uur geleden","binnen %s uur"],["1 dag geleden","binnen 1 dag"],["%s dagen geleden","binnen %s dagen"],["1 week geleden","binnen 1 week"],["%s weken geleden","binnen %s weken"],["1 maand geleden","binnen 1 maand"],["%s maanden geleden","binnen %s maanden"],["1 jaar geleden","binnen 1 jaar"],["%s jaar geleden","binnen %s jaar"]][go]}var iE=Cw.default=D_,T0={};Object.defineProperty(T0,"__esModule",{value:!0});function qT(yn,go){return[["agora mesmo","agora"],["há %s segundos","em %s segundos"],["há um minuto","em um minuto"],["há %s minutos","em %s minutos"],["há uma hora","em uma hora"],["há %s horas","em %s horas"],["há um dia","em um dia"],["há %s dias","em %s dias"],["há uma semana","em uma semana"],["há %s semanas","em %s semanas"],["há um mês","em um mês"],["há %s meses","em %s meses"],["há um ano","em um ano"],["há %s anos","em %s anos"]][go]}var _1=T0.default=qT,w0={};Object.defineProperty(w0,"__esModule",{value:!0});function ry(yn,go){return[["just nu","om en stund"],["%s sekunder sedan","om %s sekunder"],["1 minut sedan","om 1 minut"],["%s minuter sedan","om %s minuter"],["1 timme sedan","om 1 timme"],["%s timmar sedan","om %s timmar"],["1 dag sedan","om 1 dag"],["%s dagar sedan","om %s dagar"],["1 vecka sedan","om 1 vecka"],["%s veckor sedan","om %s veckor"],["1 månad sedan","om 1 månad"],["%s månader sedan","om %s månader"],["1 år sedan","om 1 år"],["%s år sedan","om %s år"]][go]}var ZC=w0.default=ry,YT={};Object.defineProperty(YT,"__esModule",{value:!0});function JE(yn,go){return[["เมื่อสักครู่นี้","อีกสักครู่"],["%s วินาทีที่แล้ว","ใน %s วินาที"],["1 นาทีที่แล้ว","ใน 1 นาที"],["%s นาทีที่แล้ว","ใน %s นาที"],["1 ชั่วโมงที่แล้ว","ใน 1 ชั่วโมง"],["%s ชั่วโมงที่แล้ว","ใน %s ชั่วโมง"],["1 วันที่แล้ว","ใน 1 วัน"],["%s วันที่แล้ว","ใน %s วัน"],["1 อาทิตย์ที่แล้ว","ใน 1 อาทิตย์"],["%s อาทิตย์ที่แล้ว","ใน %s อาทิตย์"],["1 เดือนที่แล้ว","ใน 1 เดือน"],["%s เดือนที่แล้ว","ใน %s เดือน"],["1 ปีที่แล้ว","ใน 1 ปี"],["%s ปีที่แล้ว","ใน %s ปี"]][go]}var ZT=YT.default=JE,r2={};Object.defineProperty(r2,"__esModule",{value:!0});function eb(yn,go){return[["az önce","şimdi"],["%s saniye önce","%s saniye içinde"],["1 dakika önce","1 dakika içinde"],["%s dakika önce","%s dakika içinde"],["1 saat önce","1 saat içinde"],["%s saat önce","%s saat içinde"],["1 gün önce","1 gün içinde"],["%s gün önce","%s gün içinde"],["1 hafta önce","1 hafta içinde"],["%s hafta önce","%s hafta içinde"],["1 ay önce","1 ay içinde"],["%s ay önce","%s ay içinde"],["1 yıl önce","1 yıl içinde"],["%s yıl önce","%s yıl içinde"]][go]}var N_=r2.default=eb;const X0={ar:R_,cs:F0,de:ZE,el:xw,es:Ew,fi:e1,fr:VC,gl:Gk,hi:qk,it:Yk,ko:y0,nl:VT,pt:kw,sv:e2,th:UT,tr:Cv,ur:t2},x1=new vb({allowMissing:!0});x1.init=(yn,go)=>{x1.clear(),yn&&(x1.locale(yn),x1.extend(X0[yn])),go&&x1.extend(go)},i0("ar",bO),i0("cs",Jw),i0("de",Lg),i0("el",W1),i0("es",GC),i0("fi",Pv),i0("fr",_O),i0("gl",G1),i0("hi",Oy),i0("it",o0),i0("ko",w1),i0("nl",iE),i0("pt",_1),i0("sv",ZC),i0("th",ZT),i0("tr",N_),x1.registerMessages=(yn,go)=>{X0[yn]?X0[yn]=uo(uo({},X0[yn]),go):X0[yn]=go};var z0=x1,Qk=yn=>{const go=dp();return Fx(go,()=>yn.onClickOutside()),Pf("ul",{ref:go,className:"r6o-comment-dropdown-menu"},Pf("li",{onClick:yn.onEdit},z0.t("Edit")),Pf("li",{onClick:yn.onDelete},z0.t("Delete")))},l0={},sm={},XC={exports:{}};/*!
	autosize 4.0.4
	license: MIT
	http://www.jacklmoore.com/autosize
*/(function(yn,go){(function(pf,mf){mf(yn,go)})(ub,function(pf,mf){var kf=typeof Map=="function"?new Map:function(){var ep=[],Bp=[];return{has:function(Yp){return ep.indexOf(Yp)>-1},get:function(Yp){return Bp[ep.indexOf(Yp)]},set:function(Yp,Qp){ep.indexOf(Yp)===-1&&(ep.push(Yp),Bp.push(Qp))},delete:function(Yp){var Qp=ep.indexOf(Yp);Qp>-1&&(ep.splice(Qp,1),Bp.splice(Qp,1))}}}(),If=function(ep){return new Event(ep,{bubbles:!0})};try{new Event("test")}catch{If=function(Bp){var Yp=document.createEvent("Event");return Yp.initEvent(Bp,!0,!1),Yp}}function Hf(ep){if(!ep||!ep.nodeName||ep.nodeName!=="TEXTAREA"||kf.has(ep))return;var Bp=null,Yp=null,Qp=null;function fg(){var Em=window.getComputedStyle(ep,null);Em.resize==="vertical"?ep.style.resize="none":Em.resize==="both"&&(ep.style.resize="horizontal"),Em.boxSizing==="content-box"?Bp=-(parseFloat(Em.paddingTop)+parseFloat(Em.paddingBottom)):Bp=parseFloat(Em.borderTopWidth)+parseFloat(Em.borderBottomWidth),isNaN(Bp)&&(Bp=0),Yg()}function Sg(Em){{var zm=ep.style.width;ep.style.width="0px",ep.offsetWidth,ep.style.width=zm}ep.style.overflowY=Em}function Cg(Em){for(var zm=[];Em&&Em.parentNode&&Em.parentNode instanceof Element;)Em.parentNode.scrollTop&&zm.push({node:Em.parentNode,scrollTop:Em.parentNode.scrollTop}),Em=Em.parentNode;return zm}function Fg(){if(ep.scrollHeight!==0){var Em=Cg(ep),zm=document.documentElement&&document.documentElement.scrollTop;ep.style.height="",ep.style.height=ep.scrollHeight+Bp+"px",Yp=ep.clientWidth,Em.forEach(function(Om){Om.node.scrollTop=Om.scrollTop}),zm&&(document.documentElement.scrollTop=zm)}}function Yg(){Fg();var Em=Math.round(parseFloat(ep.style.height)),zm=window.getComputedStyle(ep,null),Om=zm.boxSizing==="content-box"?Math.round(parseFloat(zm.height)):ep.offsetHeight;if(Om<Em?zm.overflowY==="hidden"&&(Sg("scroll"),Fg(),Om=zm.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(ep,null).height)):ep.offsetHeight):zm.overflowY!=="hidden"&&(Sg("hidden"),Fg(),Om=zm.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(ep,null).height)):ep.offsetHeight),Qp!==Om){Qp=Om;var G0=If("autosize:resized");try{ep.dispatchEvent(G0)}catch{}}}var $m=function(){ep.clientWidth!==Yp&&Yg()},Am=(function(Em){window.removeEventListener("resize",$m,!1),ep.removeEventListener("input",Yg,!1),ep.removeEventListener("keyup",Yg,!1),ep.removeEventListener("autosize:destroy",Am,!1),ep.removeEventListener("autosize:update",Yg,!1),Object.keys(Em).forEach(function(zm){ep.style[zm]=Em[zm]}),kf.delete(ep)}).bind(ep,{height:ep.style.height,resize:ep.style.resize,overflowY:ep.style.overflowY,overflowX:ep.style.overflowX,wordWrap:ep.style.wordWrap});ep.addEventListener("autosize:destroy",Am,!1),"onpropertychange"in ep&&"oninput"in ep&&ep.addEventListener("keyup",Yg,!1),window.addEventListener("resize",$m,!1),ep.addEventListener("input",Yg,!1),ep.addEventListener("autosize:update",Yg,!1),ep.style.overflowX="hidden",ep.style.wordWrap="break-word",kf.set(ep,{destroy:Am,update:Yg}),fg()}function Zf(ep){var Bp=kf.get(ep);Bp&&Bp.destroy()}function rp(ep){var Bp=kf.get(ep);Bp&&Bp.update()}var op=null;typeof window>"u"||typeof window.getComputedStyle!="function"?(op=function(ep){return ep},op.destroy=function(ep){return ep},op.update=function(ep){return ep}):(op=function(ep,Bp){return ep&&Array.prototype.forEach.call(ep.length?ep:[ep],function(Yp){return Hf(Yp)}),ep},op.destroy=function(ep){return ep&&Array.prototype.forEach.call(ep.length?ep:[ep],Zf),ep},op.update=function(ep){return ep&&Array.prototype.forEach.call(ep.length?ep:[ep],rp),ep}),mf.default=op,pf.exports=mf.default})})(XC,XC.exports);var eC=function(yn,go,pf){return pf=window.getComputedStyle,(pf?pf(yn):yn.currentStyle)[go.replace(/-(\w)/gi,function(mf,kf){return kf.toUpperCase()})]},bb=eC,t1=bb;function px(yn){var go=t1(yn,"line-height"),pf=parseFloat(go,10);if(go===pf+""){var mf=yn.style.lineHeight;yn.style.lineHeight=go+"em",go=t1(yn,"line-height"),pf=parseFloat(go,10),mf?yn.style.lineHeight=mf:delete yn.style.lineHeight}if(go.indexOf("pt")!==-1?(pf*=4,pf/=3):go.indexOf("mm")!==-1?(pf*=96,pf/=25.4):go.indexOf("cm")!==-1?(pf*=96,pf/=2.54):go.indexOf("in")!==-1?pf*=96:go.indexOf("pc")!==-1&&(pf*=16),pf=Math.round(pf),go==="normal"){var kf=yn.nodeName,If=document.createElement(kf);If.innerHTML="&nbsp;",kf.toUpperCase()==="TEXTAREA"&&If.setAttribute("rows","1");var Hf=t1(yn,"font-size");If.style.fontSize=Hf,If.style.padding="0px",If.style.border="0px";var Zf=document.body;Zf.appendChild(If);var rp=If.offsetHeight;pf=rp,Zf.removeChild(If)}return pf}var tC=px,i2=ub&&ub.__extends||function(){var yn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(go,pf){go.__proto__=pf}||function(go,pf){for(var mf in pf)pf.hasOwnProperty(mf)&&(go[mf]=pf[mf])};return function(go,pf){yn(go,pf);function mf(){this.constructor=go}go.prototype=pf===null?Object.create(pf):(mf.prototype=pf.prototype,new mf)}}(),KC=ub&&ub.__assign||Object.assign||function(yn){for(var go,pf=1,mf=arguments.length;pf<mf;pf++){go=arguments[pf];for(var kf in go)Object.prototype.hasOwnProperty.call(go,kf)&&(yn[kf]=go[kf])}return yn},Sv=ub&&ub.__rest||function(yn,go){var pf={};for(var mf in yn)Object.prototype.hasOwnProperty.call(yn,mf)&&go.indexOf(mf)<0&&(pf[mf]=yn[mf]);if(yn!=null&&typeof Object.getOwnPropertySymbols=="function")for(var kf=0,mf=Object.getOwnPropertySymbols(yn);kf<mf.length;kf++)go.indexOf(mf[kf])<0&&(pf[mf[kf]]=yn[mf[kf]]);return pf};sm.__esModule=!0;var E1=Dy,Uv=_p.exports,gx=XC.exports,Ob=tC,XT=Ob,rv="autosize:resized",nE=function(yn){i2(go,yn);function go(){var pf=yn!==null&&yn.apply(this,arguments)||this;return pf.state={lineHeight:null},pf.textarea=null,pf.onResize=function(mf){pf.props.onResize&&pf.props.onResize(mf)},pf.updateLineHeight=function(){pf.textarea&&pf.setState({lineHeight:XT(pf.textarea)})},pf.onChange=function(mf){var kf=pf.props.onChange;pf.currentValue=mf.currentTarget.value,kf&&kf(mf)},pf}return go.prototype.componentDidMount=function(){var pf=this,mf=this.props,kf=mf.maxRows,If=mf.async;typeof kf=="number"&&this.updateLineHeight(),typeof kf=="number"||If?setTimeout(function(){return pf.textarea&&gx(pf.textarea)}):this.textarea&&gx(this.textarea),this.textarea&&this.textarea.addEventListener(rv,this.onResize)},go.prototype.componentWillUnmount=function(){this.textarea&&(this.textarea.removeEventListener(rv,this.onResize),gx.destroy(this.textarea))},go.prototype.render=function(){var pf=this,mf=this,kf=mf.props;kf.onResize;var If=kf.maxRows;kf.onChange;var Hf=kf.style;kf.innerRef;var Zf=kf.children,rp=Sv(kf,["onResize","maxRows","onChange","style","innerRef","children"]),op=mf.state.lineHeight,ep=If&&op?op*If:null;return E1.createElement("textarea",KC({},rp,{onChange:this.onChange,style:ep?KC({},Hf,{maxHeight:ep}):Hf,ref:function(Bp){pf.textarea=Bp,typeof pf.props.innerRef=="function"?pf.props.innerRef(Bp):pf.props.innerRef&&(pf.props.innerRef.current=Bp)}}),Zf)},go.prototype.componentDidUpdate=function(){this.textarea&&gx.update(this.textarea)},go.defaultProps={rows:1,async:!1},go.propTypes={rows:Uv.number,maxRows:Uv.number,onResize:Uv.func,innerRef:Uv.any,async:Uv.bool},go}(E1.Component);sm.TextareaAutosize=E1.forwardRef(function(yn,go){return E1.createElement(nE,KC({},yn,{innerRef:go}))}),function(yn){yn.__esModule=!0;var go=sm;yn.default=go.TextareaAutosize}(l0);var Kv=zb(l0);class QE extends $f{constructor(go){super(go),lf(this,"onKeyDown",pf=>{pf.which===13&&pf.ctrlKey&&this.props.onSaveAndClose()}),this.element=zf()}componentDidMount(){this.props.focus&&this.element.current&&this.element.current.focus({preventScroll:!0})}render(){return Pf(Kv,{ref:this.element,className:"r6o-editable-text",value:this.props.content,placeholder:this.props.placeholder||z0.t("Add a comment..."),disabled:!this.props.editable,onChange:this.props.onChange,onKeyDown:this.onKeyDown})}}function lm(){return lm=Object.assign||function(yn){for(var go=1;go<arguments.length;go++){var pf=arguments[go];for(var mf in pf)Object.prototype.hasOwnProperty.call(pf,mf)&&(yn[mf]=pf[mf])}return yn},lm.apply(this,arguments)}function oE(yn){if(yn.sheet)return yn.sheet;for(var go=0;go<document.styleSheets.length;go++)if(document.styleSheets[go].ownerNode===yn)return document.styleSheets[go]}function KT(yn){var go=document.createElement("style");return go.setAttribute("data-emotion",yn.key),yn.nonce!==void 0&&go.setAttribute("nonce",yn.nonce),go.appendChild(document.createTextNode("")),go.setAttribute("data-s",""),go}var mx=function(){function yn(pf){var mf=this;this._insertTag=function(kf){var If;mf.tags.length===0?mf.insertionPoint?If=mf.insertionPoint.nextSibling:mf.prepend?If=mf.container.firstChild:If=mf.before:If=mf.tags[mf.tags.length-1].nextSibling,mf.container.insertBefore(kf,If),mf.tags.push(kf)},this.isSpeedy=pf.speedy===void 0?!0:pf.speedy,this.tags=[],this.ctr=0,this.nonce=pf.nonce,this.key=pf.key,this.container=pf.container,this.prepend=pf.prepend,this.insertionPoint=pf.insertionPoint,this.before=null}var go=yn.prototype;return go.hydrate=function(pf){pf.forEach(this._insertTag)},go.insert=function(pf){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(KT(this));var mf=this.tags[this.tags.length-1];if(this.isSpeedy){var kf=oE(mf);try{kf.insertRule(pf,kf.cssRules.length)}catch{}}else mf.appendChild(document.createTextNode(pf));this.ctr++},go.flush=function(){this.tags.forEach(function(pf){return pf.parentNode&&pf.parentNode.removeChild(pf)}),this.tags=[],this.ctr=0},yn}(),Tm="-ms-",tb="-moz-",Av="-webkit-",q1="comm",rb="rule",iy="decl",xO="@import",JT="@keyframes",B_=Math.abs,wb=String.fromCharCode;function vx(yn,go){return(((go<<2^j0(yn,0))<<2^j0(yn,1))<<2^j0(yn,2))<<2^j0(yn,3)}function _b(yn){return yn.trim()}function Y1(yn,go){return(yn=go.exec(yn))?yn[0]:yn}function _v(yn,go,pf){return yn.replace(go,pf)}function $_(yn,go){return yn.indexOf(go)}function j0(yn,go){return yn.charCodeAt(go)|0}function A0(yn,go,pf){return yn.slice(go,pf)}function Sw(yn){return yn.length}function ek(yn){return yn.length}function ny(yn,go){return go.push(yn),yn}function F_(yn,go){return yn.map(go).join("")}var Mb=1,sE=1,jy=0,Pb=0,O0=0,Tw="";function rC(yn,go,pf,mf,kf,If,Hf){return{value:yn,root:go,parent:pf,type:mf,props:kf,children:If,line:Mb,column:sE,length:Hf,return:""}}function tk(yn,go,pf){return rC(yn,go.root,go.parent,pf,go.props,go.children,0)}function aE(){return O0}function Aw(){return O0=Pb>0?j0(Tw,--Pb):0,sE--,O0===10&&(sE=1,Mb--),O0}function Bv(){return O0=Pb<jy?j0(Tw,Pb++):0,sE++,O0===10&&(sE=1,Mb++),O0}function Ib(){return j0(Tw,Pb)}function oy(){return Pb}function Lb(yn,go){return A0(Tw,yn,go)}function Z1(yn){switch(yn){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function JC(yn){return Mb=sE=1,jy=Sw(Tw=yn),Pb=0,[]}function yx(yn){return Tw="",yn}function Ow(yn){return _b(Lb(Pb-1,Rb(yn===91?yn+2:yn===40?yn+1:yn)))}function e_(yn){for(;(O0=Ib())&&O0<33;)Bv();return Z1(yn)>2||Z1(O0)>3?"":" "}function vy(yn,go){for(;--go&&Bv()&&!(O0<48||O0>102||O0>57&&O0<65||O0>70&&O0<97););return Lb(yn,oy()+(go<6&&Ib()==32&&Bv()==32))}function Rb(yn){for(;Bv();)switch(O0){case yn:return Pb;case 34:case 39:return Rb(yn===34||yn===39?yn:O0);case 40:yn===41&&Rb(yn);break;case 92:Bv();break}return Pb}function Hy(yn,go){for(;Bv()&&yn+O0!==47+10&&!(yn+O0===42+42&&Ib()===47););return"/*"+Lb(go,Pb-1)+"*"+wb(yn===47?yn:Bv())}function QT(yn){for(;!Z1(Ib());)Bv();return Lb(yn,Pb)}function z_(yn){return yx(t_("",null,null,null,[""],yn=JC(yn),0,[0],yn))}function t_(yn,go,pf,mf,kf,If,Hf,Zf,rp){for(var op=0,ep=0,Bp=Hf,Yp=0,Qp=0,fg=0,Sg=1,Cg=1,Fg=1,Yg=0,$m="",Am=kf,Em=If,zm=mf,Om=$m;Cg;)switch(fg=Yg,Yg=Bv()){case 34:case 39:case 91:case 40:Om+=Ow(Yg);break;case 9:case 10:case 13:case 32:Om+=e_(fg);break;case 92:Om+=vy(oy()-1,7);continue;case 47:switch(Ib()){case 42:case 47:ny(My(Hy(Bv(),oy()),go,pf),rp);break;default:Om+="/"}break;case 123*Sg:Zf[op++]=Sw(Om)*Fg;case 125*Sg:case 59:case 0:switch(Yg){case 0:case 125:Cg=0;case 59+ep:Qp>0&&Sw(Om)-Bp&&ny(Qp>32?k1(Om+";",mf,pf,Bp-1):k1(_v(Om," ","")+";",mf,pf,Bp-2),rp);break;case 59:Om+=";";default:if(ny(zm=sy(Om,go,pf,op,ep,kf,Zf,$m,Am=[],Em=[],Bp),If),Yg===123)if(ep===0)t_(Om,go,zm,zm,Am,If,Bp,Zf,Em);else switch(Yp){case 100:case 109:case 115:t_(yn,zm,zm,mf&&ny(sy(yn,zm,zm,0,0,kf,Zf,$m,kf,Am=[],Bp),Em),kf,Em,Bp,Zf,mf?Am:Em);break;default:t_(Om,zm,zm,zm,[""],Em,Bp,Zf,Em)}}op=ep=Qp=0,Sg=Fg=1,$m=Om="",Bp=Hf;break;case 58:Bp=1+Sw(Om),Qp=fg;default:if(Sg<1){if(Yg==123)--Sg;else if(Yg==125&&Sg++==0&&Aw()==125)continue}switch(Om+=wb(Yg),Yg*Sg){case 38:Fg=ep>0?1:(Om+="\f",-1);break;case 44:Zf[op++]=(Sw(Om)-1)*Fg,Fg=1;break;case 64:Ib()===45&&(Om+=Ow(Bv())),Yp=Ib(),ep=Sw($m=Om+=QT(oy())),Yg++;break;case 45:fg===45&&Sw(Om)==2&&(Sg=0)}}return If}function sy(yn,go,pf,mf,kf,If,Hf,Zf,rp,op,ep){for(var Bp=kf-1,Yp=kf===0?If:[""],Qp=ek(Yp),fg=0,Sg=0,Cg=0;fg<mf;++fg)for(var Fg=0,Yg=A0(yn,Bp+1,Bp=B_(Sg=Hf[fg])),$m=yn;Fg<Qp;++Fg)($m=_b(Sg>0?Yp[Fg]+" "+Yg:_v(Yg,/&\f/g,Yp[Fg])))&&(rp[Cg++]=$m);return rC(yn,go,pf,kf===0?rb:Zf,rp,op,ep)}function My(yn,go,pf){return rC(yn,go,pf,q1,wb(aE()),A0(yn,2,-2),0)}function k1(yn,go,pf,mf){return rC(yn,go,pf,iy,A0(yn,0,mf),A0(yn,mf+1,-1),mf)}function Db(yn,go){switch(vx(yn,go)){case 5103:return Av+"print-"+yn+yn;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Av+yn+yn;case 5349:case 4246:case 4810:case 6968:case 2756:return Av+yn+tb+yn+Tm+yn+yn;case 6828:case 4268:return Av+yn+Tm+yn+yn;case 6165:return Av+yn+Tm+"flex-"+yn+yn;case 5187:return Av+yn+_v(yn,/(\w+).+(:[^]+)/,Av+"box-$1$2"+Tm+"flex-$1$2")+yn;case 5443:return Av+yn+Tm+"flex-item-"+_v(yn,/flex-|-self/,"")+yn;case 4675:return Av+yn+Tm+"flex-line-pack"+_v(yn,/align-content|flex-|-self/,"")+yn;case 5548:return Av+yn+Tm+_v(yn,"shrink","negative")+yn;case 5292:return Av+yn+Tm+_v(yn,"basis","preferred-size")+yn;case 6060:return Av+"box-"+_v(yn,"-grow","")+Av+yn+Tm+_v(yn,"grow","positive")+yn;case 4554:return Av+_v(yn,/([^-])(transform)/g,"$1"+Av+"$2")+yn;case 6187:return _v(_v(_v(yn,/(zoom-|grab)/,Av+"$1"),/(image-set)/,Av+"$1"),yn,"")+yn;case 5495:case 3959:return _v(yn,/(image-set\([^]*)/,Av+"$1$`$1");case 4968:return _v(_v(yn,/(.+:)(flex-)?(.*)/,Av+"box-pack:$3"+Tm+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Av+yn+yn;case 4095:case 3583:case 4068:case 2532:return _v(yn,/(.+)-inline(.+)/,Av+"$1$2")+yn;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Sw(yn)-1-go>6)switch(j0(yn,go+1)){case 109:if(j0(yn,go+4)!==45)break;case 102:return _v(yn,/(.+:)(.+)-([^]+)/,"$1"+Av+"$2-$3$1"+tb+(j0(yn,go+3)==108?"$3":"$2-$3"))+yn;case 115:return~$_(yn,"stretch")?Db(_v(yn,"stretch","fill-available"),go)+yn:yn}break;case 4949:if(j0(yn,go+1)!==115)break;case 6444:switch(j0(yn,Sw(yn)-3-(~$_(yn,"!important")&&10))){case 107:return _v(yn,":",":"+Av)+yn;case 101:return _v(yn,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Av+(j0(yn,14)===45?"inline-":"")+"box$3$1"+Av+"$2$3$1"+Tm+"$2box$3")+yn}break;case 5936:switch(j0(yn,go+11)){case 114:return Av+yn+Tm+_v(yn,/[svh]\w+-[tblr]{2}/,"tb")+yn;case 108:return Av+yn+Tm+_v(yn,/[svh]\w+-[tblr]{2}/,"tb-rl")+yn;case 45:return Av+yn+Tm+_v(yn,/[svh]\w+-[tblr]{2}/,"lr")+yn}return Av+yn+Tm+yn+yn}return yn}function lE(yn,go){for(var pf="",mf=ek(yn),kf=0;kf<mf;kf++)pf+=go(yn[kf],kf,yn,go)||"";return pf}function uE(yn,go,pf,mf){switch(yn.type){case xO:case iy:return yn.return=yn.return||yn.value;case q1:return"";case rb:yn.value=yn.props.join(",")}return Sw(pf=lE(yn.children,mf))?yn.return=yn.value+"{"+pf+"}":""}function j_(yn){var go=ek(yn);return function(pf,mf,kf,If){for(var Hf="",Zf=0;Zf<go;Zf++)Hf+=yn[Zf](pf,mf,kf,If)||"";return Hf}}function xb(yn){return function(go){go.root||(go=go.return)&&yn(go)}}function n2(yn,go,pf,mf){if(!yn.return)switch(yn.type){case iy:yn.return=Db(yn.value,yn.length);break;case JT:return lE([tk(_v(yn.value,"@","@"+Av),yn,"")],mf);case rb:if(yn.length)return F_(yn.props,function(kf){switch(Y1(kf,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return lE([tk(_v(kf,/:(read-\w+)/,":"+tb+"$1"),yn,"")],mf);case"::placeholder":return lE([tk(_v(kf,/:(plac\w+)/,":"+Av+"input-$1"),yn,""),tk(_v(kf,/:(plac\w+)/,":"+tb+"$1"),yn,""),tk(_v(kf,/:(plac\w+)/,Tm+"input-$1"),yn,"")],mf)}return""})}}function yy(yn){var go=Object.create(null);return function(pf){return go[pf]===void 0&&(go[pf]=yn(pf)),go[pf]}}var o2=function(yn,go,pf){for(var mf=0,kf=0;mf=kf,kf=Ib(),mf===38&&kf===12&&(go[pf]=1),!Z1(kf);)Bv();return Lb(yn,Pb)},X1=function(yn,go){var pf=-1,mf=44;do switch(Z1(mf)){case 0:mf===38&&Ib()===12&&(go[pf]=1),yn[pf]+=o2(Pb-1,go,pf);break;case 2:yn[pf]+=Ow(mf);break;case 4:if(mf===44){yn[++pf]=Ib()===58?"&\f":"",go[pf]=yn[pf].length;break}default:yn[pf]+=wb(mf)}while(mf=Bv());return yn},ay=function(yn,go){return yx(X1(JC(yn),go))},r1=new WeakMap,bx=function(yn){if(!(yn.type!=="rule"||!yn.parent||!yn.length)){for(var go=yn.value,pf=yn.parent,mf=yn.column===pf.column&&yn.line===pf.line;pf.type!=="rule";)if(pf=pf.parent,!pf)return;if(!(yn.props.length===1&&go.charCodeAt(0)!==58&&!r1.get(pf))&&!mf){r1.set(yn,!0);for(var kf=[],If=ay(go,kf),Hf=pf.props,Zf=0,rp=0;Zf<If.length;Zf++)for(var op=0;op<Hf.length;op++,rp++)yn.props[rp]=kf[Zf]?If[Zf].replace(/&\f/g,Hf[op]):Hf[op]+" "+If[Zf]}}},cE=function(yn){if(yn.type==="decl"){var go=yn.value;go.charCodeAt(0)===108&&go.charCodeAt(2)===98&&(yn.return="",yn.value="")}},K1=[n2],hE=function(yn){var go=yn.key;if(go==="css"){var pf=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(pf,function(fg){var Sg=fg.getAttribute("data-emotion");Sg.indexOf(" ")!==-1&&(document.head.appendChild(fg),fg.setAttribute("data-s",""))})}var mf=yn.stylisPlugins||K1,kf={},If,Hf=[];If=yn.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+go+' "]'),function(fg){for(var Sg=fg.getAttribute("data-emotion").split(" "),Cg=1;Cg<Sg.length;Cg++)kf[Sg[Cg]]=!0;Hf.push(fg)});var Zf,rp=[bx,cE];{var op,ep=[uE,xb(function(fg){op.insert(fg)})],Bp=j_(rp.concat(mf,ep)),Yp=function(fg){return lE(z_(fg),Bp)};Zf=function(fg,Sg,Cg,Fg){op=Cg,Yp(fg?fg+"{"+Sg.styles+"}":Sg.styles),Fg&&(Qp.inserted[Sg.name]=!0)}}var Qp={key:go,sheet:new mx({key:go,container:If,nonce:yn.nonce,speedy:yn.speedy,prepend:yn.prepend,insertionPoint:yn.insertionPoint}),nonce:yn.nonce,inserted:kf,registered:{},insert:Zf};return Qp.sheet.hydrate(Hf),Qp},Vy={exports:{}},xv={};/** @license React v16.13.1
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var iv=typeof Symbol=="function"&&Symbol.for,QC=iv?Symbol.for("react.element"):60103,eS=iv?Symbol.for("react.portal"):60106,ly=iv?Symbol.for("react.fragment"):60107,J1=iv?Symbol.for("react.strict_mode"):60108,rk=iv?Symbol.for("react.profiler"):60114,r_=iv?Symbol.for("react.provider"):60109,Q1=iv?Symbol.for("react.context"):60110,H0=iv?Symbol.for("react.async_mode"):60111,uy=iv?Symbol.for("react.concurrent_mode"):60111,wx=iv?Symbol.for("react.forward_ref"):60112,Py=iv?Symbol.for("react.suspense"):60113,s2=iv?Symbol.for("react.suspense_list"):60120,dE=iv?Symbol.for("react.memo"):60115,V0=iv?Symbol.for("react.lazy"):60116,EO=iv?Symbol.for("react.block"):60121,Mw=iv?Symbol.for("react.fundamental"):60117,eA=iv?Symbol.for("react.responder"):60118,iC=iv?Symbol.for("react.scope"):60119;function C1(yn){if(typeof yn=="object"&&yn!==null){var go=yn.$$typeof;switch(go){case QC:switch(yn=yn.type,yn){case H0:case uy:case ly:case rk:case J1:case Py:return yn;default:switch(yn=yn&&yn.$$typeof,yn){case Q1:case wx:case V0:case dE:case r_:return yn;default:return go}}case eS:return go}}}function tA(yn){return C1(yn)===uy}xv.AsyncMode=H0,xv.ConcurrentMode=uy,xv.ContextConsumer=Q1,xv.ContextProvider=r_,xv.Element=QC,xv.ForwardRef=wx,xv.Fragment=ly,xv.Lazy=V0,xv.Memo=dE,xv.Portal=eS,xv.Profiler=rk,xv.StrictMode=J1,xv.Suspense=Py,xv.isAsyncMode=function(yn){return tA(yn)||C1(yn)===H0},xv.isConcurrentMode=tA,xv.isContextConsumer=function(yn){return C1(yn)===Q1},xv.isContextProvider=function(yn){return C1(yn)===r_},xv.isElement=function(yn){return typeof yn=="object"&&yn!==null&&yn.$$typeof===QC},xv.isForwardRef=function(yn){return C1(yn)===wx},xv.isFragment=function(yn){return C1(yn)===ly},xv.isLazy=function(yn){return C1(yn)===V0},xv.isMemo=function(yn){return C1(yn)===dE},xv.isPortal=function(yn){return C1(yn)===eS},xv.isProfiler=function(yn){return C1(yn)===rk},xv.isStrictMode=function(yn){return C1(yn)===J1},xv.isSuspense=function(yn){return C1(yn)===Py},xv.isValidElementType=function(yn){return typeof yn=="string"||typeof yn=="function"||yn===ly||yn===uy||yn===rk||yn===J1||yn===Py||yn===s2||typeof yn=="object"&&yn!==null&&(yn.$$typeof===V0||yn.$$typeof===dE||yn.$$typeof===r_||yn.$$typeof===Q1||yn.$$typeof===wx||yn.$$typeof===Mw||yn.$$typeof===eA||yn.$$typeof===iC||yn.$$typeof===EO)},xv.typeOf=C1,Vy.exports=xv;var ew=Vy.exports,ik={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},nk={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},tS={};tS[ew.ForwardRef]=ik,tS[ew.Memo]=nk;var ok=!0;function H_(yn,go,pf){var mf="";return pf.split(" ").forEach(function(kf){yn[kf]!==void 0?go.push(yn[kf]+";"):mf+=kf+" "}),mf}var sk=function(yn,go,pf){var mf=yn.key+"-"+go.name;if((pf===!1||ok===!1)&&yn.registered[mf]===void 0&&(yn.registered[mf]=go.styles),yn.inserted[go.name]===void 0){var kf=go;do yn.insert(go===kf?"."+mf:"",kf,yn.sheet,!0),kf=kf.next;while(kf!==void 0)}};function ak(yn){for(var go=0,pf,mf=0,kf=yn.length;kf>=4;++mf,kf-=4)pf=yn.charCodeAt(mf)&255|(yn.charCodeAt(++mf)&255)<<8|(yn.charCodeAt(++mf)&255)<<16|(yn.charCodeAt(++mf)&255)<<24,pf=(pf&65535)*1540483477+((pf>>>16)*59797<<16),pf^=pf>>>24,go=(pf&65535)*1540483477+((pf>>>16)*59797<<16)^(go&65535)*1540483477+((go>>>16)*59797<<16);switch(kf){case 3:go^=(yn.charCodeAt(mf+2)&255)<<16;case 2:go^=(yn.charCodeAt(mf+1)&255)<<8;case 1:go^=yn.charCodeAt(mf)&255,go=(go&65535)*1540483477+((go>>>16)*59797<<16)}return go^=go>>>13,go=(go&65535)*1540483477+((go>>>16)*59797<<16),((go^go>>>15)>>>0).toString(36)}var _x={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Pm=/[A-Z]|^ms/g,V_=/_EMO_([^_]+?)_([^]*?)_EMO_/g,fE=function(yn){return yn.charCodeAt(1)===45},U_=function(yn){return yn!=null&&typeof yn!="boolean"},ib=yy(function(yn){return fE(yn)?yn:yn.replace(Pm,"-$&").toLowerCase()}),a2=function(yn,go){switch(yn){case"animation":case"animationName":if(typeof go=="string")return go.replace(V_,function(pf,mf,kf){return S1={name:mf,styles:kf,next:S1},mf})}return _x[yn]!==1&&!fE(yn)&&typeof go=="number"&&go!==0?go+"px":go};function Iy(yn,go,pf){if(pf==null)return"";if(pf.__emotion_styles!==void 0)return pf;switch(typeof pf){case"boolean":return"";case"object":{if(pf.anim===1)return S1={name:pf.name,styles:pf.styles,next:S1},pf.name;if(pf.styles!==void 0){var mf=pf.next;if(mf!==void 0)for(;mf!==void 0;)S1={name:mf.name,styles:mf.styles,next:S1},mf=mf.next;var kf=pf.styles+";";return kf}return M0(yn,go,pf)}case"function":{if(yn!==void 0){var If=S1,Hf=pf(yn);return S1=If,Iy(yn,go,Hf)}break}}if(go==null)return pf;var Zf=go[pf];return Zf!==void 0?Zf:pf}function M0(yn,go,pf){var mf="";if(Array.isArray(pf))for(var kf=0;kf<pf.length;kf++)mf+=Iy(yn,go,pf[kf])+";";else for(var If in pf){var Hf=pf[If];if(typeof Hf!="object")go!=null&&go[Hf]!==void 0?mf+=If+"{"+go[Hf]+"}":U_(Hf)&&(mf+=ib(If)+":"+a2(If,Hf)+";");else if(Array.isArray(Hf)&&typeof Hf[0]=="string"&&(go==null||go[Hf[0]]===void 0))for(var Zf=0;Zf<Hf.length;Zf++)U_(Hf[Zf])&&(mf+=ib(If)+":"+a2(If,Hf[Zf])+";");else{var rp=Iy(yn,go,Hf);switch(If){case"animation":case"animationName":{mf+=ib(If)+":"+rp+";";break}default:mf+=If+"{"+rp+"}"}}}return mf}var l2=/label:\s*([^\s;\n{]+)\s*(;|$)/g,S1,i_=function(yn,go,pf){if(yn.length===1&&typeof yn[0]=="object"&&yn[0]!==null&&yn[0].styles!==void 0)return yn[0];var mf=!0,kf="";S1=void 0;var If=yn[0];If==null||If.raw===void 0?(mf=!1,kf+=Iy(pf,go,If)):kf+=If[0];for(var Hf=1;Hf<yn.length;Hf++)kf+=Iy(pf,go,yn[Hf]),mf&&(kf+=If[Hf]);l2.lastIndex=0;for(var Zf="",rp;(rp=l2.exec(kf))!==null;)Zf+="-"+rp[1];var op=ak(kf)+Zf;return{name:op,styles:kf,next:S1}},lk={}.hasOwnProperty,nC=bp(typeof HTMLElement<"u"?hE({key:"css"}):null);nC.Provider;var u2=function(yn){return R0(function(go,pf){var mf=Ag(nC);return yn(go,mf,pf)})},_0=bp({}),Rv="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",n_=function(yn,go){var pf={};for(var mf in go)lk.call(go,mf)&&(pf[mf]=go[mf]);return pf[Rv]=yn,pf},rA=function(){return null},o_=u2(function(yn,go,pf){var mf=yn.css;typeof mf=="string"&&go.registered[mf]!==void 0&&(mf=go.registered[mf]);var kf=yn[Rv],If=[mf],Hf="";typeof yn.className=="string"?Hf=H_(go.registered,If,yn.className):yn.className!=null&&(Hf=yn.className+" ");var Zf=i_(If,void 0,Ag(_0));sk(go,Zf,typeof kf=="string"),Hf+=go.key+"-"+Zf.name;var rp={};for(var op in yn)lk.call(yn,op)&&op!=="css"&&op!==Rv&&(rp[op]=yn[op]);rp.ref=pf,rp.className=Hf;var ep=Pf(kf,rp),Bp=Pf(rA,null);return Pf(jf,null,Bp,ep)}),ym=function(yn,go){var pf=arguments;if(go==null||!lk.call(go,"css"))return Pf.apply(void 0,pf);var mf=pf.length,kf=new Array(mf);kf[0]=o_,kf[1]=n_(yn,go);for(var If=2;If<mf;If++)kf[If]=pf[If];return Pf.apply(null,kf)};function i1(){for(var yn=arguments.length,go=new Array(yn),pf=0;pf<yn;pf++)go[pf]=arguments[pf];return i_(go)}var Uy=function(){var yn=i1.apply(void 0,arguments),go="animation-"+yn.name;return{name:go,styles:"@keyframes "+go+"{"+yn.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},kO=function yn(go){for(var pf=go.length,mf=0,kf="";mf<pf;mf++){var If=go[mf];if(If!=null){var Hf=void 0;switch(typeof If){case"boolean":break;case"object":{if(Array.isArray(If))Hf=yn(If);else{Hf="";for(var Zf in If)If[Zf]&&Zf&&(Hf&&(Hf+=" "),Hf+=Zf)}break}default:Hf=If}Hf&&(kf&&(kf+=" "),kf+=Hf)}}return kf};function uk(yn,go,pf){var mf=[],kf=H_(yn,mf,pf);return mf.length<2?pf:kf+go(mf)}var U0=function(){return null},W0=u2(function(yn,go){var pf=function(){for(var Zf=arguments.length,rp=new Array(Zf),op=0;op<Zf;op++)rp[op]=arguments[op];var ep=i_(rp,go.registered);return sk(go,ep,!1),go.key+"-"+ep.name},mf=function(){for(var Zf=arguments.length,rp=new Array(Zf),op=0;op<Zf;op++)rp[op]=arguments[op];return uk(go.registered,pf,kO(rp))},kf={css:pf,cx:mf,theme:Ag(_0)},If=yn.children(kf),Hf=Pf(U0,null);return Pf(jf,null,Hf,If)});function oC(yn,go){return go||(go=yn.slice(0)),Object.freeze(Object.defineProperties(yn,{raw:{value:Object.freeze(go)}}))}function rS(yn,go){if(yn==null)return{};var pf={},mf=Object.keys(yn),kf,If;for(If=0;If<mf.length;If++)kf=mf[If],!(go.indexOf(kf)>=0)&&(pf[kf]=yn[kf]);return pf}function Pw(yn,go){if(yn==null)return{};var pf=rS(yn,go),mf,kf;if(Object.getOwnPropertySymbols){var If=Object.getOwnPropertySymbols(yn);for(kf=0;kf<If.length;kf++)mf=If[kf],!(go.indexOf(mf)>=0)&&(!Object.prototype.propertyIsEnumerable.call(yn,mf)||(pf[mf]=yn[mf]))}return pf}function xx(yn){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xx=function(go){return typeof go}:xx=function(go){return go&&typeof Symbol=="function"&&go.constructor===Symbol&&go!==Symbol.prototype?"symbol":typeof go},xx(yn)}var sC={};Object.defineProperty(sC,"__esModule",{value:!0});var iS=Object.assign||function(yn){for(var go=1;go<arguments.length;go++){var pf=arguments[go];for(var mf in pf)Object.prototype.hasOwnProperty.call(pf,mf)&&(yn[mf]=pf[mf])}return yn},c2=function(){function yn(go,pf){for(var mf=0;mf<pf.length;mf++){var kf=pf[mf];kf.enumerable=kf.enumerable||!1,kf.configurable=!0,"value"in kf&&(kf.writable=!0),Object.defineProperty(go,kf.key,kf)}}return function(go,pf,mf){return pf&&yn(go.prototype,pf),mf&&yn(go,mf),go}}(),nS=Dy,ck=aC(nS),h2=_p.exports,P0=aC(h2);function aC(yn){return yn&&yn.__esModule?yn:{default:yn}}function oS(yn,go){var pf={};for(var mf in yn)go.indexOf(mf)>=0||!Object.prototype.hasOwnProperty.call(yn,mf)||(pf[mf]=yn[mf]);return pf}function d2(yn,go){if(!(yn instanceof go))throw new TypeError("Cannot call a class as a function")}function sS(yn,go){if(!yn)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return go&&(typeof go=="object"||typeof go=="function")?go:yn}function f2(yn,go){if(typeof go!="function"&&go!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof go);yn.prototype=Object.create(go&&go.prototype,{constructor:{value:yn,enumerable:!1,writable:!0,configurable:!0}}),go&&(Object.setPrototypeOf?Object.setPrototypeOf(yn,go):yn.__proto__=go)}var p2={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},g2=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],iA=function(yn){return g2.forEach(function(go){return delete yn[go]}),yn},m2=function(yn,go){go.style.fontSize=yn.fontSize,go.style.fontFamily=yn.fontFamily,go.style.fontWeight=yn.fontWeight,go.style.fontStyle=yn.fontStyle,go.style.letterSpacing=yn.letterSpacing,go.style.textTransform=yn.textTransform},v2=typeof window<"u"&&window.navigator?/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent):!1,y2=function(){return v2?"_"+Math.random().toString(36).substr(2,12):void 0},aS=function(yn){f2(go,yn),c2(go,null,[{key:"getDerivedStateFromProps",value:function(pf,mf){var kf=pf.id;return kf!==mf.prevId?{inputId:kf||y2(),prevId:kf}:null}}]);function go(pf){d2(this,go);var mf=sS(this,(go.__proto__||Object.getPrototypeOf(go)).call(this,pf));return mf.inputRef=function(kf){mf.input=kf,typeof mf.props.inputRef=="function"&&mf.props.inputRef(kf)},mf.placeHolderSizerRef=function(kf){mf.placeHolderSizer=kf},mf.sizerRef=function(kf){mf.sizer=kf},mf.state={inputWidth:pf.minWidth,inputId:pf.id||y2(),prevId:pf.id},mf}return c2(go,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(pf,mf){mf.inputWidth!==this.state.inputWidth&&typeof this.props.onAutosize=="function"&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(!(!this.mounted||!window.getComputedStyle)){var pf=this.input&&window.getComputedStyle(this.input);!pf||(m2(pf,this.sizer),this.placeHolderSizer&&m2(pf,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(!(!this.mounted||!this.sizer||typeof this.sizer.scrollWidth>"u")){var pf=void 0;this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?pf=Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:pf=this.sizer.scrollWidth+2;var mf=this.props.type==="number"&&this.props.extraWidth===void 0?16:parseInt(this.props.extraWidth)||0;pf+=mf,pf<this.props.minWidth&&(pf=this.props.minWidth),pf!==this.state.inputWidth&&this.setState({inputWidth:pf})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var pf=this.props.injectStyles;return v2&&pf?ck.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var pf=[this.props.defaultValue,this.props.value,""].reduce(function(Hf,Zf){return Hf??Zf}),mf=iS({},this.props.style);mf.display||(mf.display="inline-block");var kf=iS({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),If=oS(this.props,[]);return iA(If),If.className=this.props.inputClassName,If.id=this.state.inputId,If.style=kf,ck.default.createElement("div",{className:this.props.className,style:mf},this.renderStyles(),ck.default.createElement("input",iS({},If,{ref:this.inputRef})),ck.default.createElement("div",{ref:this.sizerRef,style:p2},pf),this.props.placeholder?ck.default.createElement("div",{ref:this.placeHolderSizerRef,style:p2},this.props.placeholder):null)}}]),go}(nS.Component);aS.propTypes={className:P0.default.string,defaultValue:P0.default.any,extraWidth:P0.default.oneOfType([P0.default.number,P0.default.string]),id:P0.default.string,injectStyles:P0.default.bool,inputClassName:P0.default.string,inputRef:P0.default.func,inputStyle:P0.default.object,minWidth:P0.default.oneOfType([P0.default.number,P0.default.string]),onAutosize:P0.default.func,onChange:P0.default.func,placeholder:P0.default.string,placeholderIsMinWidth:P0.default.bool,style:P0.default.object,value:P0.default.any},aS.defaultProps={minWidth:1,injectStyles:!0};var lS=sC.default=aS;function pE(yn,go){if(!(yn instanceof go))throw new TypeError("Cannot call a class as a function")}function b2(yn,go){for(var pf=0;pf<go.length;pf++){var mf=go[pf];mf.enumerable=mf.enumerable||!1,mf.configurable=!0,"value"in mf&&(mf.writable=!0),Object.defineProperty(yn,mf.key,mf)}}function lC(yn,go,pf){return go&&b2(yn.prototype,go),pf&&b2(yn,pf),yn}function uC(yn,go){return uC=Object.setPrototypeOf||function(pf,mf){return pf.__proto__=mf,pf},uC(yn,go)}function hk(yn,go){if(typeof go!="function"&&go!==null)throw new TypeError("Super expression must either be null or a function");yn.prototype=Object.create(go&&go.prototype,{constructor:{value:yn,writable:!0,configurable:!0}}),go&&uC(yn,go)}function s_(yn,go,pf){return go in yn?Object.defineProperty(yn,go,{value:pf,enumerable:!0,configurable:!0,writable:!0}):yn[go]=pf,yn}function nA(yn,go,pf){return go in yn?Object.defineProperty(yn,go,{value:pf,enumerable:!0,configurable:!0,writable:!0}):yn[go]=pf,yn}function dk(yn,go){var pf=Object.keys(yn);if(Object.getOwnPropertySymbols){var mf=Object.getOwnPropertySymbols(yn);go&&(mf=mf.filter(function(kf){return Object.getOwnPropertyDescriptor(yn,kf).enumerable})),pf.push.apply(pf,mf)}return pf}function by(yn){for(var go=1;go<arguments.length;go++){var pf=arguments[go]!=null?arguments[go]:{};go%2?dk(Object(pf),!0).forEach(function(mf){nA(yn,mf,pf[mf])}):Object.getOwnPropertyDescriptors?Object.defineProperties(yn,Object.getOwnPropertyDescriptors(pf)):dk(Object(pf)).forEach(function(mf){Object.defineProperty(yn,mf,Object.getOwnPropertyDescriptor(pf,mf))})}return yn}function uS(yn){return uS=Object.setPrototypeOf?Object.getPrototypeOf:function(go){return go.__proto__||Object.getPrototypeOf(go)},uS(yn)}function w2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function oA(yn){if(yn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return yn}function fk(yn,go){return go&&(typeof go=="object"||typeof go=="function")?go:oA(yn)}function gE(yn){var go=w2();return function(){var pf=uS(yn),mf;if(go){var kf=uS(this).constructor;mf=Reflect.construct(pf,arguments,kf)}else mf=pf.apply(this,arguments);return fk(this,mf)}}var Ex=function(){};function cS(yn,go){return go?go[0]==="-"?yn+go:yn+"__"+go:yn}function sA(yn,go,pf){var mf=[pf];if(go&&yn)for(var kf in go)go.hasOwnProperty(kf)&&go[kf]&&mf.push("".concat(cS(yn,kf)));return mf.filter(function(If){return If}).map(function(If){return String(If).trim()}).join(" ")}var _2=function(yn){return Array.isArray(yn)?yn.filter(Boolean):xx(yn)==="object"&&yn!==null?[yn]:[]},aA=function(yn){yn.className,yn.clearValue,yn.cx,yn.getStyles,yn.getValue,yn.hasValue,yn.isMulti,yn.isRtl,yn.options,yn.selectOption,yn.selectProps,yn.setValue,yn.theme;var go=Pw(yn,["className","clearValue","cx","getStyles","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"]);return by({},go)};function x2(yn){return[document.documentElement,document.body,window].indexOf(yn)>-1}function E2(yn){return x2(yn)?window.pageYOffset:yn.scrollTop}function hS(yn,go){if(x2(yn)){window.scrollTo(0,go);return}yn.scrollTop=go}function lA(yn){var go=getComputedStyle(yn),pf=go.position==="absolute",mf=/(auto|scroll)/,kf=document.documentElement;if(go.position==="fixed")return kf;for(var If=yn;If=If.parentElement;)if(go=getComputedStyle(If),!(pf&&go.position==="static")&&mf.test(go.overflow+go.overflowY+go.overflowX))return If;return kf}function k2(yn,go,pf,mf){return pf*((yn=yn/mf-1)*yn*yn+1)+go}function cC(yn,go){var pf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,mf=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ex,kf=E2(yn),If=go-kf,Hf=10,Zf=0;function rp(){Zf+=Hf;var op=k2(Zf,kf,If,pf);hS(yn,op),Zf<pf?window.requestAnimationFrame(rp):mf(yn)}rp()}function CO(yn,go){var pf=yn.getBoundingClientRect(),mf=go.getBoundingClientRect(),kf=go.offsetHeight/3;mf.bottom+kf>pf.bottom?hS(yn,Math.min(go.offsetTop+go.clientHeight-yn.offsetHeight+kf,yn.scrollHeight)):mf.top-kf<pf.top&&hS(yn,Math.max(go.offsetTop-kf,0))}function uA(yn){var go=yn.getBoundingClientRect();return{bottom:go.bottom,height:go.height,left:go.left,right:go.right,top:go.top,width:go.width}}function cA(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function SO(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var C2=!1,TO={get passive(){return C2=!0}},mE=typeof window<"u"?window:{};mE.addEventListener&&mE.removeEventListener&&(mE.addEventListener("p",Ex,TO),mE.removeEventListener("p",Ex,!1));var hA=C2;function dA(yn){var go=yn.maxHeight,pf=yn.menuEl,mf=yn.minHeight,kf=yn.placement,If=yn.shouldScroll,Hf=yn.isFixedPosition,Zf=yn.theme,rp=Zf.spacing,op=lA(pf),ep={placement:"bottom",maxHeight:go};if(!pf||!pf.offsetParent)return ep;var Bp=op.getBoundingClientRect(),Yp=Bp.height,Qp=pf.getBoundingClientRect(),fg=Qp.bottom,Sg=Qp.height,Cg=Qp.top,Fg=pf.offsetParent.getBoundingClientRect(),Yg=Fg.top,$m=window.innerHeight,Am=E2(op),Em=parseInt(getComputedStyle(pf).marginBottom,10),zm=parseInt(getComputedStyle(pf).marginTop,10),Om=Yg-zm,G0=$m-Cg,K0=Om+Am,u0=Yp-Am-Cg,c0=fg-$m+Am+Em,a_=Am+Cg-zm,T1=160;switch(kf){case"auto":case"bottom":if(G0>=Sg)return{placement:"bottom",maxHeight:go};if(u0>=Sg&&!Hf)return If&&cC(op,c0,T1),{placement:"bottom",maxHeight:go};if(!Hf&&u0>=mf||Hf&&G0>=mf){If&&cC(op,c0,T1);var bE=Hf?G0-Em:u0-Em;return{placement:"bottom",maxHeight:bE}}if(kf==="auto"||Hf){var l_=go,W_=Hf?Om:K0;return W_>=mf&&(l_=Math.min(W_-Em-rp.controlHeight,go)),{placement:"top",maxHeight:l_}}if(kf==="bottom")return If&&hS(op,c0),{placement:"bottom",maxHeight:go};break;case"top":if(Om>=Sg)return{placement:"top",maxHeight:go};if(K0>=Sg&&!Hf)return If&&cC(op,a_,T1),{placement:"top",maxHeight:go};if(!Hf&&K0>=mf||Hf&&Om>=mf){var Bb=go;return(!Hf&&K0>=mf||Hf&&Om>=mf)&&(Bb=Hf?Om-zm:K0-zm),If&&cC(op,a_,T1),{placement:"top",maxHeight:Bb}}return{placement:"bottom",maxHeight:go};default:throw new Error('Invalid placement provided "'.concat(kf,'".'))}return ep}function fA(yn){var go={bottom:"top",top:"bottom"};return yn?go[yn]:"bottom"}var vE=function(yn){return yn==="auto"?"bottom":yn},pA=function(yn){var go,pf=yn.placement,mf=yn.theme,kf=mf.borderRadius,If=mf.spacing,Hf=mf.colors;return go={label:"menu"},s_(go,fA(pf),"100%"),s_(go,"backgroundColor",Hf.neutral0),s_(go,"borderRadius",kf),s_(go,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),s_(go,"marginBottom",If.menuGutter),s_(go,"marginTop",If.menuGutter),s_(go,"position","absolute"),s_(go,"width","100%"),s_(go,"zIndex",1),go},gA=bp({getPortalPlacement:null}),mA=function(yn){hk(pf,yn);var go=gE(pf);function pf(){var mf;pE(this,pf);for(var kf=arguments.length,If=new Array(kf),Hf=0;Hf<kf;Hf++)If[Hf]=arguments[Hf];return mf=go.call.apply(go,[this].concat(If)),mf.state={maxHeight:mf.props.maxMenuHeight,placement:null},mf.getPlacement=function(Zf){var rp=mf.props,op=rp.minMenuHeight,ep=rp.maxMenuHeight,Bp=rp.menuPlacement,Yp=rp.menuPosition,Qp=rp.menuShouldScrollIntoView,fg=rp.theme;if(Zf){var Sg=Yp==="fixed",Cg=Qp&&!Sg,Fg=dA({maxHeight:ep,menuEl:Zf,minHeight:op,placement:Bp,shouldScroll:Cg,isFixedPosition:Sg,theme:fg}),Yg=mf.context.getPortalPlacement;Yg&&Yg(Fg),mf.setState(Fg)}},mf.getUpdatedProps=function(){var Zf=mf.props.menuPlacement,rp=mf.state.placement||vE(Zf);return by(by({},mf.props),{},{placement:rp,maxHeight:mf.state.maxHeight})},mf}return lC(pf,[{key:"render",value:function(){var mf=this.props.children;return mf({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),pf}($f);mA.contextType=gA;var vA=function(yn){var go=yn.children,pf=yn.className,mf=yn.cx,kf=yn.getStyles,If=yn.innerRef,Hf=yn.innerProps;return ym("div",lm({css:kf("menu",yn),className:mf({menu:!0},pf),ref:If},Hf),go)},AO=function(yn){var go=yn.maxHeight,pf=yn.theme.spacing.baseUnit;return{maxHeight:go,overflowY:"auto",paddingBottom:pf,paddingTop:pf,position:"relative",WebkitOverflowScrolling:"touch"}},yA=function(yn){var go=yn.children,pf=yn.className,mf=yn.cx,kf=yn.getStyles,If=yn.innerProps,Hf=yn.innerRef,Zf=yn.isMulti;return ym("div",lm({css:kf("menuList",yn),className:mf({"menu-list":!0,"menu-list--is-multi":Zf},pf),ref:Hf},If),go)},S2=function(yn){var go=yn.theme,pf=go.spacing.baseUnit,mf=go.colors;return{color:mf.neutral40,padding:"".concat(pf*2,"px ").concat(pf*3,"px"),textAlign:"center"}},K=S2,rt=S2,nt=function(yn){var go=yn.children,pf=yn.className,mf=yn.cx,kf=yn.getStyles,If=yn.innerProps;return ym("div",lm({css:kf("noOptionsMessage",yn),className:mf({"menu-notice":!0,"menu-notice--no-options":!0},pf)},If),go)};nt.defaultProps={children:"No options"};var lt=function(yn){var go=yn.children,pf=yn.className,mf=yn.cx,kf=yn.getStyles,If=yn.innerProps;return ym("div",lm({css:kf("loadingMessage",yn),className:mf({"menu-notice":!0,"menu-notice--loading":!0},pf)},If),go)};lt.defaultProps={children:"Loading..."};var pt=function(yn){var go=yn.rect,pf=yn.offset,mf=yn.position;return{left:go.left,position:mf,top:pf,width:go.width,zIndex:1}},lo=function(yn){hk(pf,yn);var go=gE(pf);function pf(){var mf;pE(this,pf);for(var kf=arguments.length,If=new Array(kf),Hf=0;Hf<kf;Hf++)If[Hf]=arguments[Hf];return mf=go.call.apply(go,[this].concat(If)),mf.state={placement:null},mf.getPortalPlacement=function(Zf){var rp=Zf.placement,op=vE(mf.props.menuPlacement);rp!==op&&mf.setState({placement:rp})},mf}return lC(pf,[{key:"render",value:function(){var mf=this.props,kf=mf.appendTo,If=mf.children,Hf=mf.className,Zf=mf.controlElement,rp=mf.cx,op=mf.innerProps,ep=mf.menuPlacement,Bp=mf.menuPosition,Yp=mf.getStyles,Qp=Bp==="fixed";if(!kf&&!Qp||!Zf)return null;var fg=this.state.placement||vE(ep),Sg=uA(Zf),Cg=Qp?0:window.pageYOffset,Fg=Sg[fg]+Cg,Yg={offset:Fg,position:Bp,rect:Sg},$m=ym("div",lm({css:Yp("menuPortal",Yg),className:rp({"menu-portal":!0},Hf)},op),If);return ym(gA.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},kf?Pg($m,kf):$m)}}]),pf}($f),vo=function(yn){var go=yn.isDisabled,pf=yn.isRtl;return{label:"container",direction:pf?"rtl":null,pointerEvents:go?"none":null,position:"relative"}},vf=function(yn){var go=yn.children,pf=yn.className,mf=yn.cx,kf=yn.getStyles,If=yn.innerProps,Hf=yn.isDisabled,Zf=yn.isRtl;return ym("div",lm({css:kf("container",yn),className:mf({"--is-disabled":Hf,"--is-rtl":Zf},pf)},If),go)},Cf=function(yn){var go=yn.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(go.baseUnit/2,"px ").concat(go.baseUnit*2,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}},Tf=function(yn){var go=yn.children,pf=yn.className,mf=yn.cx,kf=yn.innerProps,If=yn.isMulti,Hf=yn.getStyles,Zf=yn.hasValue;return ym("div",lm({css:Hf("valueContainer",yn),className:mf({"value-container":!0,"value-container--is-multi":If,"value-container--has-value":Zf},pf)},kf),go)},Rf=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Of=function(yn){var go=yn.children,pf=yn.className,mf=yn.cx,kf=yn.innerProps,If=yn.getStyles;return ym("div",lm({css:If("indicatorsContainer",yn),className:mf({indicators:!0},pf)},kf),go)},Bf,Gf={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},qf=function(yn){var go=yn.size,pf=Pw(yn,["size"]);return ym("svg",lm({height:go,width:go,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Gf},pf))},Kf=function(yn){return ym(qf,lm({size:20},yn),ym("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Uf=function(yn){return ym(qf,lm({size:20},yn),ym("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},lp=function(yn){var go=yn.isFocused,pf=yn.theme,mf=pf.spacing.baseUnit,kf=pf.colors;return{label:"indicatorContainer",color:go?kf.neutral60:kf.neutral20,display:"flex",padding:mf*2,transition:"color 150ms",":hover":{color:go?kf.neutral80:kf.neutral40}}},xp=lp,Yf=function(yn){var go=yn.children,pf=yn.className,mf=yn.cx,kf=yn.getStyles,If=yn.innerProps;return ym("div",lm({css:kf("dropdownIndicator",yn),className:mf({indicator:!0,"dropdown-indicator":!0},pf)},If),go||ym(Uf,null))},sp=lp,hp=function(yn){var go=yn.children,pf=yn.className,mf=yn.cx,kf=yn.getStyles,If=yn.innerProps;return ym("div",lm({css:kf("clearIndicator",yn),className:mf({indicator:!0,"clear-indicator":!0},pf)},If),go||ym(Kf,null))},vp=function(yn){var go=yn.isDisabled,pf=yn.theme,mf=pf.spacing.baseUnit,kf=pf.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:go?kf.neutral10:kf.neutral20,marginBottom:mf*2,marginTop:mf*2,width:1}},gp=function(yn){var go=yn.className,pf=yn.cx,mf=yn.getStyles,kf=yn.innerProps;return ym("span",lm({},kf,{css:mf("indicatorSeparator",yn),className:pf({"indicator-separator":!0},go)}))},hg=Uy(Bf||(Bf=oC([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),tg=function(yn){var go=yn.isFocused,pf=yn.size,mf=yn.theme,kf=mf.colors,If=mf.spacing.baseUnit;return{label:"loadingIndicator",color:go?kf.neutral60:kf.neutral20,display:"flex",padding:If*2,transition:"color 150ms",alignSelf:"center",fontSize:pf,lineHeight:1,marginRight:pf,textAlign:"center",verticalAlign:"middle"}},pg=function(yn){var go=yn.delay,pf=yn.offset;return ym("span",{css:i1({animation:"".concat(hg," 1s ease-in-out ").concat(go,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:pf?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"","")})},rg=function(yn){var go=yn.className,pf=yn.cx,mf=yn.getStyles,kf=yn.innerProps,If=yn.isRtl;return ym("div",lm({css:mf("loadingIndicator",yn),className:pf({indicator:!0,"loading-indicator":!0},go)},kf),ym(pg,{delay:0,offset:If}),ym(pg,{delay:160,offset:!0}),ym(pg,{delay:320,offset:!If}))};rg.defaultProps={size:4};var _g=function(yn){var go=yn.isDisabled,pf=yn.isFocused,mf=yn.theme,kf=mf.colors,If=mf.borderRadius,Hf=mf.spacing;return{label:"control",alignItems:"center",backgroundColor:go?kf.neutral5:kf.neutral0,borderColor:go?kf.neutral10:pf?kf.primary:kf.neutral20,borderRadius:If,borderStyle:"solid",borderWidth:1,boxShadow:pf?"0 0 0 1px ".concat(kf.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:Hf.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:pf?kf.primary:kf.neutral30}}},lg=function(yn){var go=yn.children,pf=yn.cx,mf=yn.getStyles,kf=yn.className,If=yn.isDisabled,Hf=yn.isFocused,Zf=yn.innerRef,rp=yn.innerProps,op=yn.menuIsOpen;return ym("div",lm({ref:Zf,css:mf("control",yn),className:pf({control:!0,"control--is-disabled":If,"control--is-focused":Hf,"control--menu-is-open":op},kf)},rp),go)},ag=function(yn){var go=yn.theme.spacing;return{paddingBottom:go.baseUnit*2,paddingTop:go.baseUnit*2}},ig=function(yn){var go=yn.children,pf=yn.className,mf=yn.cx,kf=yn.getStyles,If=yn.Heading,Hf=yn.headingProps,Zf=yn.innerProps,rp=yn.label,op=yn.theme,ep=yn.selectProps;return ym("div",lm({css:kf("group",yn),className:mf({group:!0},pf)},Zf),ym(If,lm({},Hf,{selectProps:ep,theme:op,getStyles:kf,cx:mf}),rp),ym("div",null,go))},yg=function(yn){var go=yn.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:go.baseUnit*3,paddingRight:go.baseUnit*3,textTransform:"uppercase"}},cg=function(yn){var go=yn.getStyles,pf=yn.cx,mf=yn.className,kf=aA(yn);kf.data;var If=Pw(kf,["data"]);return ym("div",lm({css:go("groupHeading",yn),className:pf({"group-heading":!0},mf)},If))},xg=function(yn){var go=yn.isDisabled,pf=yn.theme,mf=pf.spacing,kf=pf.colors;return{margin:mf.baseUnit/2,paddingBottom:mf.baseUnit/2,paddingTop:mf.baseUnit/2,visibility:go?"hidden":"visible",color:kf.neutral80}},Wp=function(yn){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:yn?0:1,outline:0,padding:0,color:"inherit"}},om=function(yn){var go=yn.className,pf=yn.cx,mf=yn.getStyles,kf=aA(yn),If=kf.innerRef,Hf=kf.isDisabled,Zf=kf.isHidden,rp=Pw(kf,["innerRef","isDisabled","isHidden"]);return ym("div",{css:mf("input",yn)},ym(lS,lm({className:pf({input:!0},go),inputRef:If,inputStyle:Wp(Zf),disabled:Hf},rp)))},Rg=function(yn){var go=yn.theme,pf=go.spacing,mf=go.borderRadius,kf=go.colors;return{label:"multiValue",backgroundColor:kf.neutral10,borderRadius:mf/2,display:"flex",margin:pf.baseUnit/2,minWidth:0}},Lm=function(yn){var go=yn.theme,pf=go.borderRadius,mf=go.colors,kf=yn.cropWithEllipsis;return{borderRadius:pf/2,color:mf.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:kf?"ellipsis":null,whiteSpace:"nowrap"}},Qg=function(yn){var go=yn.theme,pf=go.spacing,mf=go.borderRadius,kf=go.colors,If=yn.isFocused;return{alignItems:"center",borderRadius:mf/2,backgroundColor:If&&kf.dangerLight,display:"flex",paddingLeft:pf.baseUnit,paddingRight:pf.baseUnit,":hover":{backgroundColor:kf.dangerLight,color:kf.danger}}},fm=function(yn){var go=yn.children,pf=yn.innerProps;return ym("div",pf,go)},nv=fm,Dv=fm;function wy(yn){var go=yn.children,pf=yn.innerProps;return ym("div",pf,go||ym(Kf,{size:14}))}var hC=function(yn){var go=yn.children,pf=yn.className,mf=yn.components,kf=yn.cx,If=yn.data,Hf=yn.getStyles,Zf=yn.innerProps,rp=yn.isDisabled,op=yn.removeProps,ep=yn.selectProps,Bp=mf.Container,Yp=mf.Label,Qp=mf.Remove;return ym(W0,null,function(fg){var Sg=fg.css,Cg=fg.cx;return ym(Bp,{data:If,innerProps:by({className:Cg(Sg(Hf("multiValue",yn)),kf({"multi-value":!0,"multi-value--is-disabled":rp},pf))},Zf),selectProps:ep},ym(Yp,{data:If,innerProps:{className:Cg(Sg(Hf("multiValueLabel",yn)),kf({"multi-value__label":!0},pf))},selectProps:ep},go),ym(Qp,{data:If,innerProps:by({className:Cg(Sg(Hf("multiValueRemove",yn)),kf({"multi-value__remove":!0},pf))},op),selectProps:ep}))})};hC.defaultProps={cropWithEllipsis:!0};var kx=function(yn){var go=yn.isDisabled,pf=yn.isFocused,mf=yn.isSelected,kf=yn.theme,If=kf.spacing,Hf=kf.colors;return{label:"option",backgroundColor:mf?Hf.primary:pf?Hf.primary25:"transparent",color:go?Hf.neutral20:mf?Hf.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(If.baseUnit*2,"px ").concat(If.baseUnit*3,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!go&&(mf?Hf.primary:Hf.primary50)}}},dC=function(yn){var go=yn.children,pf=yn.className,mf=yn.cx,kf=yn.getStyles,If=yn.isDisabled,Hf=yn.isFocused,Zf=yn.isSelected,rp=yn.innerRef,op=yn.innerProps;return ym("div",lm({css:kf("option",yn),className:mf({option:!0,"option--is-disabled":If,"option--is-focused":Hf,"option--is-selected":Zf},pf),ref:rp},op),go)},fC=function(yn){var go=yn.theme,pf=go.spacing,mf=go.colors;return{label:"placeholder",color:mf.neutral50,marginLeft:pf.baseUnit/2,marginRight:pf.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},pk=function(yn){var go=yn.children,pf=yn.className,mf=yn.cx,kf=yn.getStyles,If=yn.innerProps;return ym("div",lm({css:kf("placeholder",yn),className:mf({placeholder:!0},pf)},If),go)},dS=function(yn){var go=yn.isDisabled,pf=yn.theme,mf=pf.spacing,kf=pf.colors;return{label:"singleValue",color:go?kf.neutral40:kf.neutral80,marginLeft:mf.baseUnit/2,marginRight:mf.baseUnit/2,maxWidth:"calc(100% - ".concat(mf.baseUnit*2,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},gk=function(yn){var go=yn.children,pf=yn.className,mf=yn.cx,kf=yn.getStyles,If=yn.isDisabled,Hf=yn.innerProps;return ym("div",lm({css:kf("singleValue",yn),className:mf({"single-value":!0,"single-value--is-disabled":If},pf)},Hf),go)},bA={ClearIndicator:hp,Control:lg,DropdownIndicator:Yf,DownChevron:Uf,CrossIcon:Kf,Group:ig,GroupHeading:cg,IndicatorsContainer:Of,IndicatorSeparator:gp,Input:om,LoadingIndicator:rg,Menu:vA,MenuList:yA,MenuPortal:lo,LoadingMessage:lt,NoOptionsMessage:nt,MultiValue:hC,MultiValueContainer:nv,MultiValueLabel:Dv,MultiValueRemove:wy,Option:dC,Placeholder:pk,SelectContainer:vf,SingleValue:gk,ValueContainer:Tf},wA=function(yn){return by(by({},bA),yn.components)};function OO(yn,go){(go==null||go>yn.length)&&(go=yn.length);for(var pf=0,mf=new Array(go);pf<go;pf++)mf[pf]=yn[pf];return mf}function wP(yn){if(Array.isArray(yn))return OO(yn)}function _P(yn){if(typeof Symbol<"u"&&yn[Symbol.iterator]!=null||yn["@@iterator"]!=null)return Array.from(yn)}function xP(yn,go){if(yn){if(typeof yn=="string")return OO(yn,go);var pf=Object.prototype.toString.call(yn).slice(8,-1);if(pf==="Object"&&yn.constructor&&(pf=yn.constructor.name),pf==="Map"||pf==="Set")return Array.from(yn);if(pf==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(pf))return OO(yn,go)}}function EP(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lM(yn){return wP(yn)||_P(yn)||xP(yn)||EP()}var uM=Number.isNaN||function(yn){return typeof yn=="number"&&yn!==yn};function kP(yn,go){return!!(yn===go||uM(yn)&&uM(go))}function CP(yn,go){if(yn.length!==go.length)return!1;for(var pf=0;pf<yn.length;pf++)if(!kP(yn[pf],go[pf]))return!1;return!0}function SP(yn,go){go===void 0&&(go=CP);var pf,mf=[],kf,If=!1;function Hf(){for(var Zf=[],rp=0;rp<arguments.length;rp++)Zf[rp]=arguments[rp];return If&&pf===this&&go(Zf,mf)||(kf=yn.apply(this,Zf),If=!0,pf=this,mf=Zf),kf}return Hf}for(var TP={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},AP=function(yn){return ym("span",lm({css:TP},yn))},OP={guidance:function(yn){var go=yn.isSearchable,pf=yn.isMulti,mf=yn.isDisabled,kf=yn.tabSelectsValue,If=yn.context;switch(If){case"menu":return"Use Up and Down to choose options".concat(mf?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(kf?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(yn["aria-label"]||"Select"," is focused ").concat(go?",type to refine list":"",", press Down to open the menu, ").concat(pf?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(yn){var go=yn.action,pf=yn.label,mf=pf===void 0?"":pf,kf=yn.isDisabled;switch(go){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(mf,", deselected.");case"select-option":return kf?"option ".concat(mf," is disabled. Select another option."):"option ".concat(mf,", selected.");default:return""}},onFocus:function(yn){var go=yn.context,pf=yn.focused,mf=pf===void 0?{}:pf,kf=yn.options,If=yn.label,Hf=If===void 0?"":If,Zf=yn.selectValue,rp=yn.isDisabled,op=yn.isSelected,ep=function(Qp,fg){return Qp&&Qp.length?"".concat(Qp.indexOf(fg)+1," of ").concat(Qp.length):""};if(go==="value"&&Zf)return"value ".concat(Hf," focused, ").concat(ep(Zf,mf),".");if(go==="menu"){var Bp=rp?" disabled":"",Yp="".concat(op?"selected":"focused").concat(Bp);return"option ".concat(Hf," ").concat(Yp,", ").concat(ep(kf,mf),".")}return""},onFilter:function(yn){var go=yn.inputValue,pf=yn.resultsMessage;return"".concat(pf).concat(go?" for search term "+go:"",".")}},MP=function(yn){var go=yn.ariaSelection,pf=yn.focusedOption,mf=yn.focusedValue,kf=yn.focusableOptions,If=yn.isFocused,Hf=yn.selectValue,Zf=yn.selectProps,rp=Zf.ariaLiveMessages,op=Zf.getOptionLabel,ep=Zf.inputValue,Bp=Zf.isMulti,Yp=Zf.isOptionDisabled,Qp=Zf.isSearchable,fg=Zf.menuIsOpen,Sg=Zf.options,Cg=Zf.screenReaderStatus,Fg=Zf.tabSelectsValue,Yg=Zf["aria-label"],$m=Zf["aria-live"],Am=Vp(function(){return by(by({},OP),rp||{})},[rp]),Em=Vp(function(){var u0="";if(go&&Am.onChange){var c0=go.option,a_=go.removedValue,T1=go.value,bE=function(Bb){return Array.isArray(Bb)?null:Bb},l_=a_||c0||bE(T1),W_=by({isDisabled:l_&&Yp(l_),label:l_?op(l_):""},go);u0=Am.onChange(W_)}return u0},[go,Yp,op,Am]),zm=Vp(function(){var u0="",c0=pf||mf,a_=!!(pf&&Hf&&Hf.includes(pf));if(c0&&Am.onFocus){var T1={focused:c0,label:op(c0),isDisabled:Yp(c0),isSelected:a_,options:Sg,context:c0===pf?"menu":"value",selectValue:Hf};u0=Am.onFocus(T1)}return u0},[pf,mf,op,Yp,Am,Sg,Hf]),Om=Vp(function(){var u0="";if(fg&&Sg.length&&Am.onFilter){var c0=Cg({count:kf.length});u0=Am.onFilter({inputValue:ep,resultsMessage:c0})}return u0},[kf,ep,fg,Am,Sg,Cg]),G0=Vp(function(){var u0="";if(Am.guidance){var c0=mf?"value":fg?"menu":"input";u0=Am.guidance({"aria-label":Yg,context:c0,isDisabled:pf&&Yp(pf),isMulti:Bp,isSearchable:Qp,tabSelectsValue:Fg})}return u0},[Yg,pf,mf,Bp,Yp,Qp,fg,Am,Fg]),K0="".concat(zm," ").concat(Om," ").concat(G0);return ym(AP,{"aria-live":$m,"aria-atomic":"false","aria-relevant":"additions text"},If&&ym(nm.Fragment,null,ym("span",{id:"aria-selection"},Em),ym("span",{id:"aria-context"},K0)))},MO=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],PP=new RegExp("["+MO.map(function(yn){return yn.letters}).join("")+"]","g"),cM={},PO=0;PO<MO.length;PO++)for(var IO=MO[PO],LO=0;LO<IO.letters.length;LO++)cM[IO.letters[LO]]=IO.base;var hM=function(yn){return yn.replace(PP,function(go){return cM[go]})},IP=SP(hM),dM=function(yn){return yn.replace(/^\s+|\s+$/g,"")},LP=function(yn){return"".concat(yn.label," ").concat(yn.value)},RP=function(yn){return function(go,pf){var mf=by({ignoreCase:!0,ignoreAccents:!0,stringify:LP,trim:!0,matchFrom:"any"},yn),kf=mf.ignoreCase,If=mf.ignoreAccents,Hf=mf.stringify,Zf=mf.trim,rp=mf.matchFrom,op=Zf?dM(pf):pf,ep=Zf?dM(Hf(go)):Hf(go);return kf&&(op=op.toLowerCase(),ep=ep.toLowerCase()),If&&(op=IP(op),ep=hM(ep)),rp==="start"?ep.substr(0,op.length)===op:ep.indexOf(op)>-1}};function DP(yn){yn.in,yn.out,yn.onExited,yn.appear,yn.enter,yn.exit;var go=yn.innerRef;yn.emotion;var pf=Pw(yn,["in","out","onExited","appear","enter","exit","innerRef","emotion"]);return ym("input",lm({ref:go},pf,{css:i1({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"","")}))}var NP=function(yn){yn.preventDefault(),yn.stopPropagation()};function BP(yn){var go=yn.isEnabled,pf=yn.onBottomArrive,mf=yn.onBottomLeave,kf=yn.onTopArrive,If=yn.onTopLeave,Hf=dp(!1),Zf=dp(!1),rp=dp(0),op=dp(null),ep=qp(function(Cg,Fg){if(op.current!==null){var Yg=op.current,$m=Yg.scrollTop,Am=Yg.scrollHeight,Em=Yg.clientHeight,zm=op.current,Om=Fg>0,G0=Am-Em-$m,K0=!1;G0>Fg&&Hf.current&&(mf&&mf(Cg),Hf.current=!1),Om&&Zf.current&&(If&&If(Cg),Zf.current=!1),Om&&Fg>G0?(pf&&!Hf.current&&pf(Cg),zm.scrollTop=Am,K0=!0,Hf.current=!0):!Om&&-Fg>$m&&(kf&&!Zf.current&&kf(Cg),zm.scrollTop=0,K0=!0,Zf.current=!0),K0&&NP(Cg)}},[]),Bp=qp(function(Cg){ep(Cg,Cg.deltaY)},[ep]),Yp=qp(function(Cg){rp.current=Cg.changedTouches[0].clientY},[]),Qp=qp(function(Cg){var Fg=rp.current-Cg.changedTouches[0].clientY;ep(Cg,Fg)},[ep]),fg=qp(function(Cg){if(Cg){var Fg=hA?{passive:!1}:!1;typeof Cg.addEventListener=="function"&&Cg.addEventListener("wheel",Bp,Fg),typeof Cg.addEventListener=="function"&&Cg.addEventListener("touchstart",Yp,Fg),typeof Cg.addEventListener=="function"&&Cg.addEventListener("touchmove",Qp,Fg)}},[Qp,Yp,Bp]),Sg=qp(function(Cg){!Cg||(typeof Cg.removeEventListener=="function"&&Cg.removeEventListener("wheel",Bp,!1),typeof Cg.removeEventListener=="function"&&Cg.removeEventListener("touchstart",Yp,!1),typeof Cg.removeEventListener=="function"&&Cg.removeEventListener("touchmove",Qp,!1))},[Qp,Yp,Bp]);return im(function(){if(go){var Cg=op.current;return fg(Cg),function(){Sg(Cg)}}},[go,fg,Sg]),function(Cg){op.current=Cg}}var fM=["boxSizing","height","overflow","paddingRight","position"],pM={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function gM(yn){yn.preventDefault()}function mM(yn){yn.stopPropagation()}function vM(){var yn=this.scrollTop,go=this.scrollHeight,pf=yn+this.offsetHeight;yn===0?this.scrollTop=1:pf===go&&(this.scrollTop=yn-1)}function yM(){return"ontouchstart"in window||navigator.maxTouchPoints}var bM=!!(typeof window<"u"&&window.document&&window.document.createElement),T2=0,fS={capture:!1,passive:!1};function $P(yn){var go=yn.isEnabled,pf=yn.accountForScrollbars,mf=pf===void 0?!0:pf,kf=dp({}),If=dp(null),Hf=qp(function(rp){if(bM){var op=document.body,ep=op&&op.style;if(mf&&fM.forEach(function(fg){var Sg=ep&&ep[fg];kf.current[fg]=Sg}),mf&&T2<1){var Bp=parseInt(kf.current.paddingRight,10)||0,Yp=document.body?document.body.clientWidth:0,Qp=window.innerWidth-Yp+Bp||0;Object.keys(pM).forEach(function(fg){var Sg=pM[fg];ep&&(ep[fg]=Sg)}),ep&&(ep.paddingRight="".concat(Qp,"px"))}op&&yM()&&(op.addEventListener("touchmove",gM,fS),rp&&(rp.addEventListener("touchstart",vM,fS),rp.addEventListener("touchmove",mM,fS))),T2+=1}},[]),Zf=qp(function(rp){if(bM){var op=document.body,ep=op&&op.style;T2=Math.max(T2-1,0),mf&&T2<1&&fM.forEach(function(Bp){var Yp=kf.current[Bp];ep&&(ep[Bp]=Yp)}),op&&yM()&&(op.removeEventListener("touchmove",gM,fS),rp&&(rp.removeEventListener("touchstart",vM,fS),rp.removeEventListener("touchmove",mM,fS)))}},[]);return im(function(){if(go){var rp=If.current;return Hf(rp),function(){Zf(rp)}}},[go,Hf,Zf]),function(rp){If.current=rp}}var FP=function(){return document.activeElement&&document.activeElement.blur()},zP={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function jP(yn){var go=yn.children,pf=yn.lockEnabled,mf=yn.captureEnabled,kf=mf===void 0?!0:mf,If=yn.onBottomArrive,Hf=yn.onBottomLeave,Zf=yn.onTopArrive,rp=yn.onTopLeave,op=BP({isEnabled:kf,onBottomArrive:If,onBottomLeave:Hf,onTopArrive:Zf,onTopLeave:rp}),ep=$P({isEnabled:pf}),Bp=function(Yp){op(Yp),ep(Yp)};return ym(nm.Fragment,null,pf&&ym("div",{onClick:FP,css:zP}),go(Bp))}var HP=function(yn){return yn.label},VP=function(yn){return yn.label},UP=function(yn){return yn.value},WP=function(yn){return!!yn.isDisabled},GP={clearIndicator:sp,container:vo,control:_g,dropdownIndicator:xp,group:ag,groupHeading:yg,indicatorsContainer:Rf,indicatorSeparator:vp,input:xg,loadingIndicator:tg,loadingMessage:rt,menu:pA,menuList:AO,menuPortal:pt,multiValue:Rg,multiValueLabel:Lm,multiValueRemove:Qg,noOptionsMessage:K,option:kx,placeholder:fC,singleValue:dS,valueContainer:Cf},qP={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},YP=4,wM=4,ZP=38,XP=wM*2,KP={baseUnit:wM,controlHeight:ZP,menuGutter:XP},RO={borderRadius:YP,colors:qP,spacing:KP},JP={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:cA(),captureMenuScroll:!cA(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:RP(),formatGroupLabel:HP,getOptionLabel:VP,getOptionValue:UP,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:WP,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!SO(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(yn){var go=yn.count;return"".concat(go," result").concat(go!==1?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0};function _M(yn,go,pf,mf){var kf=SM(yn,go,pf),If=TM(yn,go,pf),Hf=CM(yn,go),Zf=_A(yn,go);return{type:"option",data:go,isDisabled:kf,isSelected:If,label:Hf,value:Zf,index:mf}}function xM(yn,go){return yn.options.map(function(pf,mf){if(pf.options){var kf=pf.options.map(function(Hf,Zf){return _M(yn,Hf,go,Zf)}).filter(function(Hf){return kM(yn,Hf)});return kf.length>0?{type:"group",data:pf,options:kf,index:mf}:void 0}var If=_M(yn,pf,go,mf);return kM(yn,If)?If:void 0}).filter(function(pf){return!!pf})}function EM(yn){return yn.reduce(function(go,pf){return pf.type==="group"?go.push.apply(go,lM(pf.options.map(function(mf){return mf.data}))):go.push(pf.data),go},[])}function QP(yn,go){return EM(xM(yn,go))}function kM(yn,go){var pf=yn.inputValue,mf=pf===void 0?"":pf,kf=go.data,If=go.isSelected,Hf=go.label,Zf=go.value;return(!OM(yn)||!If)&&AM(yn,{label:Hf,value:Zf,data:kf},mf)}function eI(yn,go){var pf=yn.focusedValue,mf=yn.selectValue,kf=mf.indexOf(pf);if(kf>-1){var If=go.indexOf(pf);if(If>-1)return pf;if(kf<go.length)return go[kf]}return null}function tI(yn,go){var pf=yn.focusedOption;return pf&&go.indexOf(pf)>-1?pf:go[0]}var CM=function(yn,go){return yn.getOptionLabel(go)},_A=function(yn,go){return yn.getOptionValue(go)};function SM(yn,go,pf){return typeof yn.isOptionDisabled=="function"?yn.isOptionDisabled(go,pf):!1}function TM(yn,go,pf){if(pf.indexOf(go)>-1)return!0;if(typeof yn.isOptionSelected=="function")return yn.isOptionSelected(go,pf);var mf=_A(yn,go);return pf.some(function(kf){return _A(yn,kf)===mf})}function AM(yn,go,pf){return yn.filterOption?yn.filterOption(go,pf):!0}var OM=function(yn){var go=yn.hideSelectedOptions,pf=yn.isMulti;return go===void 0?pf:go},rI=1,MM=function(yn){hk(pf,yn);var go=gE(pf);function pf(mf){var kf;return pE(this,pf),kf=go.call(this,mf),kf.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},kf.blockOptionHover=!1,kf.isComposing=!1,kf.commonProps=void 0,kf.initialTouchX=0,kf.initialTouchY=0,kf.instancePrefix="",kf.openAfterFocus=!1,kf.scrollToFocusedOptionOnUpdate=!1,kf.userIsDragging=void 0,kf.controlRef=null,kf.getControlRef=function(If){kf.controlRef=If},kf.focusedOptionRef=null,kf.getFocusedOptionRef=function(If){kf.focusedOptionRef=If},kf.menuListRef=null,kf.getMenuListRef=function(If){kf.menuListRef=If},kf.inputRef=null,kf.getInputRef=function(If){kf.inputRef=If},kf.focus=kf.focusInput,kf.blur=kf.blurInput,kf.onChange=function(If,Hf){var Zf=kf.props,rp=Zf.onChange,op=Zf.name;Hf.name=op,kf.ariaOnChange(If,Hf),rp(If,Hf)},kf.setValue=function(If){var Hf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"set-value",Zf=arguments.length>2?arguments[2]:void 0,rp=kf.props,op=rp.closeMenuOnSelect,ep=rp.isMulti;kf.onInputChange("",{action:"set-value"}),op&&(kf.setState({inputIsHiddenAfterUpdate:!ep}),kf.onMenuClose()),kf.setState({clearFocusValueOnUpdate:!0}),kf.onChange(If,{action:Hf,option:Zf})},kf.selectOption=function(If){var Hf=kf.props,Zf=Hf.blurInputOnSelect,rp=Hf.isMulti,op=Hf.name,ep=kf.state.selectValue,Bp=rp&&kf.isOptionSelected(If,ep),Yp=kf.isOptionDisabled(If,ep);if(Bp){var Qp=kf.getOptionValue(If);kf.setValue(ep.filter(function(fg){return kf.getOptionValue(fg)!==Qp}),"deselect-option",If)}else if(!Yp)rp?kf.setValue([].concat(lM(ep),[If]),"select-option",If):kf.setValue(If,"select-option");else{kf.ariaOnChange(If,{action:"select-option",name:op});return}Zf&&kf.blurInput()},kf.removeValue=function(If){var Hf=kf.props.isMulti,Zf=kf.state.selectValue,rp=kf.getOptionValue(If),op=Zf.filter(function(Bp){return kf.getOptionValue(Bp)!==rp}),ep=Hf?op:op[0]||null;kf.onChange(ep,{action:"remove-value",removedValue:If}),kf.focusInput()},kf.clearValue=function(){var If=kf.state.selectValue;kf.onChange(kf.props.isMulti?[]:null,{action:"clear",removedValues:If})},kf.popValue=function(){var If=kf.props.isMulti,Hf=kf.state.selectValue,Zf=Hf[Hf.length-1],rp=Hf.slice(0,Hf.length-1),op=If?rp:rp[0]||null;kf.onChange(op,{action:"pop-value",removedValue:Zf})},kf.getValue=function(){return kf.state.selectValue},kf.cx=function(){for(var If=arguments.length,Hf=new Array(If),Zf=0;Zf<If;Zf++)Hf[Zf]=arguments[Zf];return sA.apply(void 0,[kf.props.classNamePrefix].concat(Hf))},kf.getOptionLabel=function(If){return CM(kf.props,If)},kf.getOptionValue=function(If){return _A(kf.props,If)},kf.getStyles=function(If,Hf){var Zf=GP[If](Hf);Zf.boxSizing="border-box";var rp=kf.props.styles[If];return rp?rp(Zf,Hf):Zf},kf.getElementId=function(If){return"".concat(kf.instancePrefix,"-").concat(If)},kf.getComponents=function(){return wA(kf.props)},kf.buildCategorizedOptions=function(){return xM(kf.props,kf.state.selectValue)},kf.getCategorizedOptions=function(){return kf.props.menuIsOpen?kf.buildCategorizedOptions():[]},kf.buildFocusableOptions=function(){return EM(kf.buildCategorizedOptions())},kf.getFocusableOptions=function(){return kf.props.menuIsOpen?kf.buildFocusableOptions():[]},kf.ariaOnChange=function(If,Hf){kf.setState({ariaSelection:by({value:If},Hf)})},kf.onMenuMouseDown=function(If){If.button===0&&(If.stopPropagation(),If.preventDefault(),kf.focusInput())},kf.onMenuMouseMove=function(If){kf.blockOptionHover=!1},kf.onControlMouseDown=function(If){var Hf=kf.props.openMenuOnClick;kf.state.isFocused?kf.props.menuIsOpen?If.target.tagName!=="INPUT"&&If.target.tagName!=="TEXTAREA"&&kf.onMenuClose():Hf&&kf.openMenu("first"):(Hf&&(kf.openAfterFocus=!0),kf.focusInput()),If.target.tagName!=="INPUT"&&If.target.tagName!=="TEXTAREA"&&If.preventDefault()},kf.onDropdownIndicatorMouseDown=function(If){if(!(If&&If.type==="mousedown"&&If.button!==0)&&!kf.props.isDisabled){var Hf=kf.props,Zf=Hf.isMulti,rp=Hf.menuIsOpen;kf.focusInput(),rp?(kf.setState({inputIsHiddenAfterUpdate:!Zf}),kf.onMenuClose()):kf.openMenu("first"),If.preventDefault(),If.stopPropagation()}},kf.onClearIndicatorMouseDown=function(If){If&&If.type==="mousedown"&&If.button!==0||(kf.clearValue(),If.stopPropagation(),kf.openAfterFocus=!1,If.type==="touchend"?kf.focusInput():setTimeout(function(){return kf.focusInput()}))},kf.onScroll=function(If){typeof kf.props.closeMenuOnScroll=="boolean"?If.target instanceof HTMLElement&&x2(If.target)&&kf.props.onMenuClose():typeof kf.props.closeMenuOnScroll=="function"&&kf.props.closeMenuOnScroll(If)&&kf.props.onMenuClose()},kf.onCompositionStart=function(){kf.isComposing=!0},kf.onCompositionEnd=function(){kf.isComposing=!1},kf.onTouchStart=function(If){var Hf=If.touches,Zf=Hf&&Hf.item(0);!Zf||(kf.initialTouchX=Zf.clientX,kf.initialTouchY=Zf.clientY,kf.userIsDragging=!1)},kf.onTouchMove=function(If){var Hf=If.touches,Zf=Hf&&Hf.item(0);if(Zf){var rp=Math.abs(Zf.clientX-kf.initialTouchX),op=Math.abs(Zf.clientY-kf.initialTouchY),ep=5;kf.userIsDragging=rp>ep||op>ep}},kf.onTouchEnd=function(If){kf.userIsDragging||(kf.controlRef&&!kf.controlRef.contains(If.target)&&kf.menuListRef&&!kf.menuListRef.contains(If.target)&&kf.blurInput(),kf.initialTouchX=0,kf.initialTouchY=0)},kf.onControlTouchEnd=function(If){kf.userIsDragging||kf.onControlMouseDown(If)},kf.onClearIndicatorTouchEnd=function(If){kf.userIsDragging||kf.onClearIndicatorMouseDown(If)},kf.onDropdownIndicatorTouchEnd=function(If){kf.userIsDragging||kf.onDropdownIndicatorMouseDown(If)},kf.handleInputChange=function(If){var Hf=If.currentTarget.value;kf.setState({inputIsHiddenAfterUpdate:!1}),kf.onInputChange(Hf,{action:"input-change"}),kf.props.menuIsOpen||kf.onMenuOpen()},kf.onInputFocus=function(If){kf.props.onFocus&&kf.props.onFocus(If),kf.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(kf.openAfterFocus||kf.props.openMenuOnFocus)&&kf.openMenu("first"),kf.openAfterFocus=!1},kf.onInputBlur=function(If){if(kf.menuListRef&&kf.menuListRef.contains(document.activeElement)){kf.inputRef.focus();return}kf.props.onBlur&&kf.props.onBlur(If),kf.onInputChange("",{action:"input-blur"}),kf.onMenuClose(),kf.setState({focusedValue:null,isFocused:!1})},kf.onOptionHover=function(If){kf.blockOptionHover||kf.state.focusedOption===If||kf.setState({focusedOption:If})},kf.shouldHideSelectedOptions=function(){return OM(kf.props)},kf.onKeyDown=function(If){var Hf=kf.props,Zf=Hf.isMulti,rp=Hf.backspaceRemovesValue,op=Hf.escapeClearsValue,ep=Hf.inputValue,Bp=Hf.isClearable,Yp=Hf.isDisabled,Qp=Hf.menuIsOpen,fg=Hf.onKeyDown,Sg=Hf.tabSelectsValue,Cg=Hf.openMenuOnFocus,Fg=kf.state,Yg=Fg.focusedOption,$m=Fg.focusedValue,Am=Fg.selectValue;if(!Yp&&!(typeof fg=="function"&&(fg(If),If.defaultPrevented))){switch(kf.blockOptionHover=!0,If.key){case"ArrowLeft":if(!Zf||ep)return;kf.focusValue("previous");break;case"ArrowRight":if(!Zf||ep)return;kf.focusValue("next");break;case"Delete":case"Backspace":if(ep)return;if($m)kf.removeValue($m);else{if(!rp)return;Zf?kf.popValue():Bp&&kf.clearValue()}break;case"Tab":if(kf.isComposing||If.shiftKey||!Qp||!Sg||!Yg||Cg&&kf.isOptionSelected(Yg,Am))return;kf.selectOption(Yg);break;case"Enter":if(If.keyCode===229)break;if(Qp){if(!Yg||kf.isComposing)return;kf.selectOption(Yg);break}return;case"Escape":Qp?(kf.setState({inputIsHiddenAfterUpdate:!1}),kf.onInputChange("",{action:"menu-close"}),kf.onMenuClose()):Bp&&op&&kf.clearValue();break;case" ":if(ep)return;if(!Qp){kf.openMenu("first");break}if(!Yg)return;kf.selectOption(Yg);break;case"ArrowUp":Qp?kf.focusOption("up"):kf.openMenu("last");break;case"ArrowDown":Qp?kf.focusOption("down"):kf.openMenu("first");break;case"PageUp":if(!Qp)return;kf.focusOption("pageup");break;case"PageDown":if(!Qp)return;kf.focusOption("pagedown");break;case"Home":if(!Qp)return;kf.focusOption("first");break;case"End":if(!Qp)return;kf.focusOption("last");break;default:return}If.preventDefault()}},kf.instancePrefix="react-select-"+(kf.props.instanceId||++rI),kf.state.selectValue=_2(mf.value),kf}return lC(pf,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentDidUpdate",value:function(mf){var kf=this.props,If=kf.isDisabled,Hf=kf.menuIsOpen,Zf=this.state.isFocused;(Zf&&!If&&mf.isDisabled||Zf&&Hf&&!mf.menuIsOpen)&&this.focusInput(),Zf&&If&&!mf.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(CO(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(mf,kf){this.props.onInputChange(mf,kf)}},{key:"focusInput",value:function(){!this.inputRef||this.inputRef.focus()}},{key:"blurInput",value:function(){!this.inputRef||this.inputRef.blur()}},{key:"openMenu",value:function(mf){var kf=this,If=this.state,Hf=If.selectValue,Zf=If.isFocused,rp=this.buildFocusableOptions(),op=mf==="first"?0:rp.length-1;if(!this.props.isMulti){var ep=rp.indexOf(Hf[0]);ep>-1&&(op=ep)}this.scrollToFocusedOptionOnUpdate=!(Zf&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:rp[op]},function(){return kf.onMenuOpen()})}},{key:"focusValue",value:function(mf){var kf=this.state,If=kf.selectValue,Hf=kf.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var Zf=If.indexOf(Hf);Hf||(Zf=-1);var rp=If.length-1,op=-1;if(If.length){switch(mf){case"previous":Zf===0?op=0:Zf===-1?op=rp:op=Zf-1;break;case"next":Zf>-1&&Zf<rp&&(op=Zf+1);break}this.setState({inputIsHidden:op!==-1,focusedValue:If[op]})}}}},{key:"focusOption",value:function(){var mf=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",kf=this.props.pageSize,If=this.state.focusedOption,Hf=this.getFocusableOptions();if(Hf.length){var Zf=0,rp=Hf.indexOf(If);If||(rp=-1),mf==="up"?Zf=rp>0?rp-1:Hf.length-1:mf==="down"?Zf=(rp+1)%Hf.length:mf==="pageup"?(Zf=rp-kf,Zf<0&&(Zf=0)):mf==="pagedown"?(Zf=rp+kf,Zf>Hf.length-1&&(Zf=Hf.length-1)):mf==="last"&&(Zf=Hf.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:Hf[Zf],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(RO):by(by({},RO),this.props.theme):RO}},{key:"getCommonProps",value:function(){var mf=this.clearValue,kf=this.cx,If=this.getStyles,Hf=this.getValue,Zf=this.selectOption,rp=this.setValue,op=this.props,ep=op.isMulti,Bp=op.isRtl,Yp=op.options,Qp=this.hasValue();return{clearValue:mf,cx:kf,getStyles:If,getValue:Hf,hasValue:Qp,isMulti:ep,isRtl:Bp,options:Yp,selectOption:Zf,selectProps:op,setValue:rp,theme:this.getTheme()}}},{key:"hasValue",value:function(){var mf=this.state.selectValue;return mf.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var mf=this.props,kf=mf.isClearable,If=mf.isMulti;return kf===void 0?If:kf}},{key:"isOptionDisabled",value:function(mf,kf){return SM(this.props,mf,kf)}},{key:"isOptionSelected",value:function(mf,kf){return TM(this.props,mf,kf)}},{key:"filterOption",value:function(mf,kf){return AM(this.props,mf,kf)}},{key:"formatOptionLabel",value:function(mf,kf){if(typeof this.props.formatOptionLabel=="function"){var If=this.props.inputValue,Hf=this.state.selectValue;return this.props.formatOptionLabel(mf,{context:kf,inputValue:If,selectValue:Hf})}else return this.getOptionLabel(mf)}},{key:"formatGroupLabel",value:function(mf){return this.props.formatGroupLabel(mf)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var mf=this.props,kf=mf.isDisabled,If=mf.isSearchable,Hf=mf.inputId,Zf=mf.inputValue,rp=mf.tabIndex,op=mf.form,ep=this.getComponents(),Bp=ep.Input,Yp=this.state.inputIsHidden,Qp=this.commonProps,fg=Hf||this.getElementId("input"),Sg={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};return If?nm.createElement(Bp,lm({},Qp,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:fg,innerRef:this.getInputRef,isDisabled:kf,isHidden:Yp,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:rp,form:op,type:"text",value:Zf},Sg)):nm.createElement(DP,lm({id:fg,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Ex,onFocus:this.onInputFocus,readOnly:!0,disabled:kf,tabIndex:rp,form:op,value:""},Sg))}},{key:"renderPlaceholderOrValue",value:function(){var mf=this,kf=this.getComponents(),If=kf.MultiValue,Hf=kf.MultiValueContainer,Zf=kf.MultiValueLabel,rp=kf.MultiValueRemove,op=kf.SingleValue,ep=kf.Placeholder,Bp=this.commonProps,Yp=this.props,Qp=Yp.controlShouldRenderValue,fg=Yp.isDisabled,Sg=Yp.isMulti,Cg=Yp.inputValue,Fg=Yp.placeholder,Yg=this.state,$m=Yg.selectValue,Am=Yg.focusedValue,Em=Yg.isFocused;if(!this.hasValue()||!Qp)return Cg?null:nm.createElement(ep,lm({},Bp,{key:"placeholder",isDisabled:fg,isFocused:Em}),Fg);if(Sg){var zm=$m.map(function(G0,K0){var u0=G0===Am;return nm.createElement(If,lm({},Bp,{components:{Container:Hf,Label:Zf,Remove:rp},isFocused:u0,isDisabled:fg,key:"".concat(mf.getOptionValue(G0)).concat(K0),index:K0,removeProps:{onClick:function(){return mf.removeValue(G0)},onTouchEnd:function(){return mf.removeValue(G0)},onMouseDown:function(c0){c0.preventDefault(),c0.stopPropagation()}},data:G0}),mf.formatOptionLabel(G0,"value"))});return zm}if(Cg)return null;var Om=$m[0];return nm.createElement(op,lm({},Bp,{data:Om,isDisabled:fg}),this.formatOptionLabel(Om,"value"))}},{key:"renderClearIndicator",value:function(){var mf=this.getComponents(),kf=mf.ClearIndicator,If=this.commonProps,Hf=this.props,Zf=Hf.isDisabled,rp=Hf.isLoading,op=this.state.isFocused;if(!this.isClearable()||!kf||Zf||!this.hasValue()||rp)return null;var ep={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return nm.createElement(kf,lm({},If,{innerProps:ep,isFocused:op}))}},{key:"renderLoadingIndicator",value:function(){var mf=this.getComponents(),kf=mf.LoadingIndicator,If=this.commonProps,Hf=this.props,Zf=Hf.isDisabled,rp=Hf.isLoading,op=this.state.isFocused;if(!kf||!rp)return null;var ep={"aria-hidden":"true"};return nm.createElement(kf,lm({},If,{innerProps:ep,isDisabled:Zf,isFocused:op}))}},{key:"renderIndicatorSeparator",value:function(){var mf=this.getComponents(),kf=mf.DropdownIndicator,If=mf.IndicatorSeparator;if(!kf||!If)return null;var Hf=this.commonProps,Zf=this.props.isDisabled,rp=this.state.isFocused;return nm.createElement(If,lm({},Hf,{isDisabled:Zf,isFocused:rp}))}},{key:"renderDropdownIndicator",value:function(){var mf=this.getComponents(),kf=mf.DropdownIndicator;if(!kf)return null;var If=this.commonProps,Hf=this.props.isDisabled,Zf=this.state.isFocused,rp={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return nm.createElement(kf,lm({},If,{innerProps:rp,isDisabled:Hf,isFocused:Zf}))}},{key:"renderMenu",value:function(){var mf=this,kf=this.getComponents(),If=kf.Group,Hf=kf.GroupHeading,Zf=kf.Menu,rp=kf.MenuList,op=kf.MenuPortal,ep=kf.LoadingMessage,Bp=kf.NoOptionsMessage,Yp=kf.Option,Qp=this.commonProps,fg=this.state.focusedOption,Sg=this.props,Cg=Sg.captureMenuScroll,Fg=Sg.inputValue,Yg=Sg.isLoading,$m=Sg.loadingMessage,Am=Sg.minMenuHeight,Em=Sg.maxMenuHeight,zm=Sg.menuIsOpen,Om=Sg.menuPlacement,G0=Sg.menuPosition,K0=Sg.menuPortalTarget,u0=Sg.menuShouldBlockScroll,c0=Sg.menuShouldScrollIntoView,a_=Sg.noOptionsMessage,T1=Sg.onMenuScrollToTop,bE=Sg.onMenuScrollToBottom;if(!zm)return null;var l_=function(I0,Mg){var Vg=I0.type,Jg=I0.data,Ug=I0.isDisabled,rm=I0.isSelected,Hm=I0.label,q0=I0.value,nb=fg===Jg,h0=Ug?void 0:function(){return mf.onOptionHover(Jg)},bC=Ug?void 0:function(){return mf.selectOption(Jg)},Cx="".concat(mf.getElementId("option"),"-").concat(Mg),vk={id:Cx,onClick:bC,onMouseMove:h0,onMouseOver:h0,tabIndex:-1};return nm.createElement(Yp,lm({},Qp,{innerProps:vk,data:Jg,isDisabled:Ug,isSelected:rm,key:Cx,label:Hm,type:Vg,value:q0,isFocused:nb,innerRef:nb?mf.getFocusedOptionRef:void 0}),mf.formatOptionLabel(I0.data,"menu"))},W_;if(this.hasOptions())W_=this.getCategorizedOptions().map(function(I0){if(I0.type==="group"){var Mg=I0.data,Vg=I0.options,Jg=I0.index,Ug="".concat(mf.getElementId("group"),"-").concat(Jg),rm="".concat(Ug,"-heading");return nm.createElement(If,lm({},Qp,{key:Ug,data:Mg,options:Vg,Heading:Hf,headingProps:{id:rm,data:I0.data},label:mf.formatGroupLabel(I0.data)}),I0.options.map(function(Hm){return l_(Hm,"".concat(Jg,"-").concat(Hm.index))}))}else if(I0.type==="option")return l_(I0,"".concat(I0.index))});else if(Yg){var Bb=$m({inputValue:Fg});if(Bb===null)return null;W_=nm.createElement(ep,Qp,Bb)}else{var MA=a_({inputValue:Fg});if(MA===null)return null;W_=nm.createElement(Bp,Qp,MA)}var yC={minMenuHeight:Am,maxMenuHeight:Em,menuPlacement:Om,menuPosition:G0,menuShouldScrollIntoView:c0},u_=nm.createElement(mA,lm({},Qp,yC),function(I0){var Mg=I0.ref,Vg=I0.placerProps,Jg=Vg.placement,Ug=Vg.maxHeight;return nm.createElement(Zf,lm({},Qp,yC,{innerRef:Mg,innerProps:{onMouseDown:mf.onMenuMouseDown,onMouseMove:mf.onMenuMouseMove},isLoading:Yg,placement:Jg}),nm.createElement(jP,{captureEnabled:Cg,onTopArrive:T1,onBottomArrive:bE,lockEnabled:u0},function(rm){return nm.createElement(rp,lm({},Qp,{innerRef:function(Hm){mf.getMenuListRef(Hm),rm(Hm)},isLoading:Yg,maxHeight:Ug,focusedOption:fg}),W_)}))});return K0||G0==="fixed"?nm.createElement(op,lm({},Qp,{appendTo:K0,controlElement:this.controlRef,menuPlacement:Om,menuPosition:G0}),u_):u_}},{key:"renderFormField",value:function(){var mf=this,kf=this.props,If=kf.delimiter,Hf=kf.isDisabled,Zf=kf.isMulti,rp=kf.name,op=this.state.selectValue;if(!(!rp||Hf))if(Zf)if(If){var ep=op.map(function(Qp){return mf.getOptionValue(Qp)}).join(If);return nm.createElement("input",{name:rp,type:"hidden",value:ep})}else{var Bp=op.length>0?op.map(function(Qp,fg){return nm.createElement("input",{key:"i-".concat(fg),name:rp,type:"hidden",value:mf.getOptionValue(Qp)})}):nm.createElement("input",{name:rp,type:"hidden"});return nm.createElement("div",null,Bp)}else{var Yp=op[0]?this.getOptionValue(op[0]):"";return nm.createElement("input",{name:rp,type:"hidden",value:Yp})}}},{key:"renderLiveRegion",value:function(){var mf=this.commonProps,kf=this.state,If=kf.ariaSelection,Hf=kf.focusedOption,Zf=kf.focusedValue,rp=kf.isFocused,op=kf.selectValue,ep=this.getFocusableOptions();return nm.createElement(MP,lm({},mf,{ariaSelection:If,focusedOption:Hf,focusedValue:Zf,isFocused:rp,selectValue:op,focusableOptions:ep}))}},{key:"render",value:function(){var mf=this.getComponents(),kf=mf.Control,If=mf.IndicatorsContainer,Hf=mf.SelectContainer,Zf=mf.ValueContainer,rp=this.props,op=rp.className,ep=rp.id,Bp=rp.isDisabled,Yp=rp.menuIsOpen,Qp=this.state.isFocused,fg=this.commonProps=this.getCommonProps();return nm.createElement(Hf,lm({},fg,{className:op,innerProps:{id:ep,onKeyDown:this.onKeyDown},isDisabled:Bp,isFocused:Qp}),this.renderLiveRegion(),nm.createElement(kf,lm({},fg,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:Bp,isFocused:Qp,menuIsOpen:Yp}),nm.createElement(Zf,lm({},fg,{isDisabled:Bp}),this.renderPlaceholderOrValue(),this.renderInput()),nm.createElement(If,lm({},fg,{isDisabled:Bp}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(mf,kf){var If=kf.prevProps,Hf=kf.clearFocusValueOnUpdate,Zf=kf.inputIsHiddenAfterUpdate,rp=mf.options,op=mf.value,ep=mf.menuIsOpen,Bp=mf.inputValue,Yp={};if(If&&(op!==If.value||rp!==If.options||ep!==If.menuIsOpen||Bp!==If.inputValue)){var Qp=_2(op),fg=ep?QP(mf,Qp):[],Sg=Hf?eI(kf,Qp):null,Cg=tI(kf,fg);Yp={selectValue:Qp,focusedOption:Cg,focusedValue:Sg,clearFocusValueOnUpdate:!1}}var Fg=Zf!=null&&mf!==If?{inputIsHidden:Zf,inputIsHiddenAfterUpdate:void 0}:{};return by(by(by({},Yp),Fg),{},{prevProps:mf})}}]),pf}($f);MM.defaultProps=JP;var iI={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},nI=function(yn){var go,pf;return pf=go=function(mf){hk(If,mf);var kf=gE(If);function If(){var Hf;pE(this,If);for(var Zf=arguments.length,rp=new Array(Zf),op=0;op<Zf;op++)rp[op]=arguments[op];return Hf=kf.call.apply(kf,[this].concat(rp)),Hf.select=void 0,Hf.state={inputValue:Hf.props.inputValue!==void 0?Hf.props.inputValue:Hf.props.defaultInputValue,menuIsOpen:Hf.props.menuIsOpen!==void 0?Hf.props.menuIsOpen:Hf.props.defaultMenuIsOpen,value:Hf.props.value!==void 0?Hf.props.value:Hf.props.defaultValue},Hf.onChange=function(ep,Bp){Hf.callProp("onChange",ep,Bp),Hf.setState({value:ep})},Hf.onInputChange=function(ep,Bp){var Yp=Hf.callProp("onInputChange",ep,Bp);Hf.setState({inputValue:Yp!==void 0?Yp:ep})},Hf.onMenuOpen=function(){Hf.callProp("onMenuOpen"),Hf.setState({menuIsOpen:!0})},Hf.onMenuClose=function(){Hf.callProp("onMenuClose"),Hf.setState({menuIsOpen:!1})},Hf}return lC(If,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(Hf){return this.props[Hf]!==void 0?this.props[Hf]:this.state[Hf]}},{key:"callProp",value:function(Hf){if(typeof this.props[Hf]=="function"){for(var Zf,rp=arguments.length,op=new Array(rp>1?rp-1:0),ep=1;ep<rp;ep++)op[ep-1]=arguments[ep];return(Zf=this.props)[Hf].apply(Zf,op)}}},{key:"render",value:function(){var Hf=this,Zf=this.props;Zf.defaultInputValue,Zf.defaultMenuIsOpen,Zf.defaultValue;var rp=Pw(Zf,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return nm.createElement(yn,lm({},rp,{ref:function(op){Hf.select=op},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),If}($f),go.defaultProps=iI,pf},oI=nI(MM),sI=oI;const DO=[{value:"assessing",label:"Assessing"},{value:"bookmarking",label:"Bookmarking"},{value:"classifying",label:"Classifying"},{value:"commenting",label:"Commenting"},{value:"describing",label:"Describing"},{value:"editing",label:"Editing"},{value:"highlighting",label:"Highlighting"},{value:"identifying",label:"Identifying"},{value:"linking",label:"Linking"},{value:"moderating",label:"Moderating"},{value:"questioning",label:"Questioning"},{value:"replying",label:"Replying"},{value:"supplementing",label:"Transcription"}];var PM=yn=>{const go=yn.content?DO.find(pf=>pf.value===yn.content):null;return Pf("div",{className:"r6o-purposedropdown"},Pf(sI,{value:go,onChange:yn.onChange,options:DO,isDisabled:!yn.editable}))};const aI=yn=>Pf("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 940",width:yn.width},Pf("metadata",null,"IcoFont Icons"),Pf("title",null,"simple-down"),Pf("glyph",{glyphName:"simple-down",unicode:"",horizAdvX:"1000"}),Pf("path",{fill:"currentColor",d:"M200 392.6l300 300 300-300-85.10000000000002-85.10000000000002-214.89999999999998 214.79999999999995-214.89999999999998-214.89999999999998-85.10000000000002 85.20000000000005z"})),lI=yn=>Pf("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"180 150 700 800",width:yn.width},Pf("metadata",null,"IcoFont Icons"),Pf("title",null,"close"),Pf("glyph",{glyphName:"close",unicode:"",horizAdvX:"1000"}),Pf("path",{fill:"currentColor",d:"M709.8 206.6c-64.39999999999998 65.50000000000003-128.89999999999998 131.20000000000002-194.19999999999993 197.6-8.600000000000023 8.699999999999989-22.400000000000034 8.800000000000011-31 0-65-66-129.70000000000005-131.8-194.5-197.6-8.600000000000023-8.699999999999989-22.400000000000034-8.599999999999994-30.900000000000034 0.09999999999999432-15.699999999999989 16.200000000000017-31.099999999999994 32.30000000000001-47.099999999999994 48.80000000000001-8.5 8.800000000000011-8.299999999999983 23 0.20000000000001705 31.69999999999999 63.099999999999966 64.19999999999999 127.89999999999998 130.10000000000002 193.59999999999997 197 8.600000000000023 8.699999999999989 8.5 22.80000000000001 0 31.599999999999966-65.19999999999999 66.40000000000009-130.2 132.5-194.7 198.10000000000002-8.5 8.700000000000045-8.5 22.800000000000068 0.20000000000001705 31.399999999999977l47.79999999999998 47.90000000000009c8.600000000000023 8.599999999999909 22.600000000000023 8.599999999999909 31.100000000000023-0.10000000000002274l194.2-197.30000000000007c8.600000000000023-8.699999999999932 22.399999999999977-8.699999999999932 31 0 64.70000000000005 65.80000000000007 129.20000000000005 131.4000000000001 194.20000000000005 197.5 8.599999999999909 8.700000000000045 22.5 8.800000000000068 31 0.10000000000002274 16-16.199999999999932 31.699999999999932-32.19999999999993 47.59999999999991-48.299999999999955 8.600000000000023-8.700000000000045 8.600000000000023-22.899999999999977 0.10000000000002274-31.600000000000023-63.799999999999955-65-128.5-130.89999999999998-194.19999999999993-197.79999999999995-8.600000000000023-8.700000000000045-8.600000000000023-22.900000000000034 0-31.600000000000023 65.19999999999993-66.40000000000003 130.0999999999999-132.5 194.5-198.20000000000005 8.599999999999909-8.699999999999989 8.5-22.799999999999955-0.10000000000002274-31.49999999999997l-47.80000000000007-48.099999999999994c-8.5-8.5-22.399999999999977-8.400000000000006-31 0.29999999999998295z"})),uI=yn=>Pf("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",width:yn.width},Pf("path",{fill:"currentColor",d:"M268 416h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12zM432 80h-82.41l-34-56.7A48 48 0 0 0 274.41 0H173.59a48 48 0 0 0-41.16 23.3L98.41 80H16A16 16 0 0 0 0 96v16a16 16 0 0 0 16 16h16v336a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128h16a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM171.84 50.91A6 6 0 0 1 177 48h94a6 6 0 0 1 5.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12z"}));var cI=yn=>{const[go,pf]=kg(!1),[mf,kf]=kg(!1),If=Bp=>{pf(!0),kf(!1)},Hf=Bp=>{yn.onDelete(yn.body),kf(!1)},Zf=Bp=>yn.onUpdate(yn.body,mo(uo({},yn.body),{value:Bp.target.value})),rp=Bp=>yn.onUpdate(yn.body,mo(uo({},yn.body),{purpose:Bp.value})),op=yn.body.modified||yn.body.created,ep=yn.body.creator&&Pf("div",{className:"r6o-lastmodified"},Pf("span",{className:"r6o-lastmodified-by"},yn.body.creator.name||yn.body.creator.id),yn.body.created&&Pf("span",{className:"r6o-lastmodified-at"},Pf(jw,{datetime:yn.env.toClientTime(op),locale:z0.locale()})));return yn.readOnly?Pf("div",{className:"r6o-widget comment"},Pf("div",{className:"r6o-readonly-comment"},yn.body.value),ep):Pf("div",{className:go?"r6o-widget comment editable":"r6o-widget comment"},Pf(QE,{editable:go,content:yn.body.value,onChange:Zf,onSaveAndClose:yn.onSaveAndClose}),!go&&ep,yn.purposeSelector&&Pf(PM,{editable:go,content:yn.body.purpose,onChange:rp,onSaveAndClose:yn.onSaveAndClose}),Pf("div",{className:mf?"r6o-icon r6o-arrow-down r6o-menu-open":"r6o-icon r6o-arrow-down",onClick:()=>kf(!mf)},Pf(aI,{width:12})),mf&&Pf(Qk,{onEdit:If,onDelete:Hf,onClickOutside:()=>kf(!1)}))};const hI=DO.map(yn=>yn.value),IM=(yn,go)=>{const pf=go?hI.indexOf(yn.purpose)>-1:yn.purpose=="commenting"||yn.purpose=="replying";return yn.type==="TextualBody"&&(!yn.hasOwnProperty("purpose")||pf)},LM=(yn,go)=>{var pf,mf;if(go.editable===!0)return!1;if(go.editable===!1)return!0;if(go.editable==="MINE_ONLY"){const kf=(pf=yn.creator)==null?void 0:pf.id;return((mf=go.env.user)==null?void 0:mf.id)!==kf}return go.readOnly},dI=(yn,go)=>yn||{type:"TextualBody",value:"",purpose:go?"replying":"commenting",draft:!0},RM=yn=>{const go=yn.annotation?yn.annotation.bodies.filter(Hf=>IM(Hf,yn.purposeSelector)):[],pf=dI(go.find(Hf=>Hf.draft==!0),go.length>1),mf=go.filter(Hf=>Hf!=pf),kf=Hf=>{const Zf=pf.value,rp=Hf.target.value;Zf.length===0&&rp.length>0?yn.onAppendBody(mo(uo({},pf),{value:rp})):Zf.length>0&&rp.length===0?yn.onRemoveBody(pf):yn.onUpdateBody(pf,mo(uo({},pf),{value:rp}))},If=Hf=>yn.onUpdateBody(pf,mo(uo({},pf),{purpose:Hf.value}));return Pf(jf,null,mf.map((Hf,Zf)=>Pf(cI,{key:Zf,env:yn.env,purposeSelector:yn.purposeSelector,readOnly:LM(Hf,yn),body:Hf,onUpdate:yn.onUpdateBody,onDelete:yn.onRemoveBody,onSaveAndClose:yn.onSaveAndClose})),!yn.readOnly&&yn.annotation&&Pf("div",{className:"r6o-widget comment editable"},Pf(QE,{focus:yn.focus,content:pf.value,editable:!0,placeholder:mf.length>0?z0.t("Add a reply..."):z0.t("Add a comment..."),onChange:kf,onSaveAndClose:()=>yn.onSaveAndClose()}),yn.purposeSelector&&pf.value.length>0&&Pf(PM,{editable:!0,content:pf.purpose,onChange:If,onSaveAndClose:()=>yn.onSaveAndClose()})))};RM.disableDelete=(yn,go)=>yn.bodies.filter(pf=>IM(pf,go.purposeSelector)).some(pf=>LM(pf,go));var DM=RM;function NM(yn,go){yn.prototype=Object.create(go.prototype),yn.prototype.constructor=yn,uC(yn,go)}function fI(yn,go){return yn.classList?!!go&&yn.classList.contains(go):(" "+(yn.className.baseVal||yn.className)+" ").indexOf(" "+go+" ")!==-1}function pI(yn,go){yn.classList?yn.classList.add(go):fI(yn,go)||(typeof yn.className=="string"?yn.className=yn.className+" "+go:yn.setAttribute("class",(yn.className&&yn.className.baseVal||"")+" "+go))}function BM(yn,go){return yn.replace(new RegExp("(^|\\s)"+go+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function gI(yn,go){yn.classList?yn.classList.remove(go):typeof yn.className=="string"?yn.className=BM(yn.className,go):yn.setAttribute("class",BM(yn.className&&yn.className.baseVal||"",go))}var $M={disabled:!1},FM=nm.createContext(null),A2="unmounted",pC="exited",gC="entering",pS="entered",BO="exiting",yE=function(yn){NM(go,yn);function go(mf,kf){var If;If=yn.call(this,mf,kf)||this;var Hf=kf,Zf=Hf&&!Hf.isMounting?mf.enter:mf.appear,rp;return If.appearStatus=null,mf.in?Zf?(rp=pC,If.appearStatus=gC):rp=pS:mf.unmountOnExit||mf.mountOnEnter?rp=A2:rp=pC,If.state={status:rp},If.nextCallback=null,If}go.getDerivedStateFromProps=function(mf,kf){var If=mf.in;return If&&kf.status===A2?{status:pC}:null};var pf=go.prototype;return pf.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},pf.componentDidUpdate=function(mf){var kf=null;if(mf!==this.props){var If=this.state.status;this.props.in?If!==gC&&If!==pS&&(kf=gC):(If===gC||If===pS)&&(kf=BO)}this.updateStatus(!1,kf)},pf.componentWillUnmount=function(){this.cancelNextCallback()},pf.getTimeouts=function(){var mf=this.props.timeout,kf,If,Hf;return kf=If=Hf=mf,mf!=null&&typeof mf!="number"&&(kf=mf.exit,If=mf.enter,Hf=mf.appear!==void 0?mf.appear:If),{exit:kf,enter:If,appear:Hf}},pf.updateStatus=function(mf,kf){mf===void 0&&(mf=!1),kf!==null?(this.cancelNextCallback(),kf===gC?this.performEnter(mf):this.performExit()):this.props.unmountOnExit&&this.state.status===pC&&this.setState({status:A2})},pf.performEnter=function(mf){var kf=this,If=this.props.enter,Hf=this.context?this.context.isMounting:mf,Zf=this.props.nodeRef?[Hf]:[nm.findDOMNode(this),Hf],rp=Zf[0],op=Zf[1],ep=this.getTimeouts(),Bp=Hf?ep.appear:ep.enter;if(!mf&&!If||$M.disabled){this.safeSetState({status:pS},function(){kf.props.onEntered(rp)});return}this.props.onEnter(rp,op),this.safeSetState({status:gC},function(){kf.props.onEntering(rp,op),kf.onTransitionEnd(Bp,function(){kf.safeSetState({status:pS},function(){kf.props.onEntered(rp,op)})})})},pf.performExit=function(){var mf=this,kf=this.props.exit,If=this.getTimeouts(),Hf=this.props.nodeRef?void 0:nm.findDOMNode(this);if(!kf||$M.disabled){this.safeSetState({status:pC},function(){mf.props.onExited(Hf)});return}this.props.onExit(Hf),this.safeSetState({status:BO},function(){mf.props.onExiting(Hf),mf.onTransitionEnd(If.exit,function(){mf.safeSetState({status:pC},function(){mf.props.onExited(Hf)})})})},pf.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},pf.safeSetState=function(mf,kf){kf=this.setNextCallback(kf),this.setState(mf,kf)},pf.setNextCallback=function(mf){var kf=this,If=!0;return this.nextCallback=function(Hf){If&&(If=!1,kf.nextCallback=null,mf(Hf))},this.nextCallback.cancel=function(){If=!1},this.nextCallback},pf.onTransitionEnd=function(mf,kf){this.setNextCallback(kf);var If=this.props.nodeRef?this.props.nodeRef.current:nm.findDOMNode(this),Hf=mf==null&&!this.props.addEndListener;if(!If||Hf){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var Zf=this.props.nodeRef?[this.nextCallback]:[If,this.nextCallback],rp=Zf[0],op=Zf[1];this.props.addEndListener(rp,op)}mf!=null&&setTimeout(this.nextCallback,mf)},pf.render=function(){var mf=this.state.status;if(mf===A2)return null;var kf=this.props,If=kf.children;kf.in,kf.mountOnEnter,kf.unmountOnExit,kf.appear,kf.enter,kf.exit,kf.timeout,kf.addEndListener,kf.onEnter,kf.onEntering,kf.onEntered,kf.onExit,kf.onExiting,kf.onExited,kf.nodeRef;var Hf=rS(kf,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return nm.createElement(FM.Provider,{value:null},typeof If=="function"?If(mf,Hf):nm.cloneElement(nm.Children.only(If),Hf))},go}(nm.Component);yE.contextType=FM,yE.propTypes={};function gS(){}yE.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:gS,onEntering:gS,onEntered:gS,onExit:gS,onExiting:gS,onExited:gS},yE.UNMOUNTED=A2,yE.EXITED=pC,yE.ENTERING=gC,yE.ENTERED=pS,yE.EXITING=BO;var mI=yE,vI=function(yn,go){return yn&&go&&go.split(" ").forEach(function(pf){return pI(yn,pf)})},$O=function(yn,go){return yn&&go&&go.split(" ").forEach(function(pf){return gI(yn,pf)})},FO=function(yn){NM(go,yn);function go(){for(var mf,kf=arguments.length,If=new Array(kf),Hf=0;Hf<kf;Hf++)If[Hf]=arguments[Hf];return mf=yn.call.apply(yn,[this].concat(If))||this,mf.appliedClasses={appear:{},enter:{},exit:{}},mf.onEnter=function(Zf,rp){var op=mf.resolveArguments(Zf,rp),ep=op[0],Bp=op[1];mf.removeClasses(ep,"exit"),mf.addClass(ep,Bp?"appear":"enter","base"),mf.props.onEnter&&mf.props.onEnter(Zf,rp)},mf.onEntering=function(Zf,rp){var op=mf.resolveArguments(Zf,rp),ep=op[0],Bp=op[1],Yp=Bp?"appear":"enter";mf.addClass(ep,Yp,"active"),mf.props.onEntering&&mf.props.onEntering(Zf,rp)},mf.onEntered=function(Zf,rp){var op=mf.resolveArguments(Zf,rp),ep=op[0],Bp=op[1],Yp=Bp?"appear":"enter";mf.removeClasses(ep,Yp),mf.addClass(ep,Yp,"done"),mf.props.onEntered&&mf.props.onEntered(Zf,rp)},mf.onExit=function(Zf){var rp=mf.resolveArguments(Zf),op=rp[0];mf.removeClasses(op,"appear"),mf.removeClasses(op,"enter"),mf.addClass(op,"exit","base"),mf.props.onExit&&mf.props.onExit(Zf)},mf.onExiting=function(Zf){var rp=mf.resolveArguments(Zf),op=rp[0];mf.addClass(op,"exit","active"),mf.props.onExiting&&mf.props.onExiting(Zf)},mf.onExited=function(Zf){var rp=mf.resolveArguments(Zf),op=rp[0];mf.removeClasses(op,"exit"),mf.addClass(op,"exit","done"),mf.props.onExited&&mf.props.onExited(Zf)},mf.resolveArguments=function(Zf,rp){return mf.props.nodeRef?[mf.props.nodeRef.current,Zf]:[Zf,rp]},mf.getClassNames=function(Zf){var rp=mf.props.classNames,op=typeof rp=="string",ep=op&&rp?rp+"-":"",Bp=op?""+ep+Zf:rp[Zf],Yp=op?Bp+"-active":rp[Zf+"Active"],Qp=op?Bp+"-done":rp[Zf+"Done"];return{baseClassName:Bp,activeClassName:Yp,doneClassName:Qp}},mf}var pf=go.prototype;return pf.addClass=function(mf,kf,If){var Hf=this.getClassNames(kf)[If+"ClassName"],Zf=this.getClassNames("enter"),rp=Zf.doneClassName;kf==="appear"&&If==="done"&&rp&&(Hf+=" "+rp),If==="active"&&mf&&mf.scrollTop,Hf&&(this.appliedClasses[kf][If]=Hf,vI(mf,Hf))},pf.removeClasses=function(mf,kf){var If=this.appliedClasses[kf],Hf=If.base,Zf=If.active,rp=If.done;this.appliedClasses[kf]={},Hf&&$O(mf,Hf),Zf&&$O(mf,Zf),rp&&$O(mf,rp)},pf.render=function(){var mf=this.props;mf.classNames;var kf=rS(mf,["classNames"]);return nm.createElement(mI,lm({},kf,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},go}(nm.Component);FO.defaultProps={classNames:""},FO.propTypes={};var yI=FO;const bI=(yn,go)=>go.filter(pf=>(pf.label?pf.label:pf).toLowerCase().startsWith(yn.toLowerCase())),wI=(yn,go)=>go(yn);var _I=yn=>{const go=dp(),[pf,mf]=kg(yn.initialValue||""),[kf,If]=kg([]),[Hf,Zf]=kg(null);im(()=>{yn.focus&&go.current.querySelector("input").focus({preventScroll:!0})},[]),im(()=>{yn.onChange&&yn.onChange(pf)},[pf]);const rp=ep=>{if(typeof yn.vocabulary=="function"){const Bp=wI(ep,yn.vocabulary);Bp.then?Bp.then(If):If(Bp)}else{const Bp=bI(ep,yn.vocabulary);If(Bp)}},op=()=>{if(Hf!==null)yn.onSubmit(kf[Hf]);else{const ep=pf.trim();if(ep){const Bp=Array.isArray(yn.vocabulary)?yn.vocabulary.find(Yp=>(Yp.label||Yp).toLowerCase()===ep.toLowerCase()):null;Bp?yn.onSubmit(Bp):yn.onSubmit(ep)}}mf(""),If([]),Zf(null)};return Pf("div",{ref:go,className:"r6o-autocomplete"},Pf("div",null,Pf("input",{onKeyDown:ep=>{if(ep.which===13)op();else if(ep.which===27)yn.onCancel&&yn.onCancel();else if(kf.length>0){if(ep.which===38)if(Hf===null)Zf(0);else{const Bp=Math.max(0,Hf-1);Zf(Bp)}else if(ep.which===40)if(Hf===null)Zf(0);else{const Bp=Math.min(kf.length-1,Hf+1);Zf(Bp)}}else ep.which===40&&Array.isArray(yn.vocabulary)&&If(yn.vocabulary)},onChange:ep=>{const{value:Bp}=ep.target;mf(Bp),Zf(null),Bp?rp(Bp):If([])},value:pf,placeholder:yn.placeholder})),Pf("ul",null,kf.length>0&&kf.map((ep,Bp)=>Pf("li",{key:`${ep.label?ep.label:ep}${Bp}`,onClick:op,onMouseEnter:()=>Zf(Bp),style:Hf===Bp?{backgroundColor:"#bde4ff"}:{}},ep.label?ep.label:ep))))};const xI=yn=>yn||{type:"TextualBody",value:"",purpose:"tagging",draft:!0};var zM=yn=>{const go=yn.annotation?yn.annotation.bodies.filter(ep=>ep.type==="TextualBody"&&ep.purpose==="tagging"):[],pf=xI(go.slice().reverse().find(ep=>ep.draft)),mf=go.filter(ep=>ep!=pf),[kf,If]=kg(!1),Hf=ep=>Bp=>{If(kf===ep?!1:ep)},Zf=ep=>{const Bp=pf.value.trim(),Yp=ep.trim();Bp.length===0&&Yp.length>0?yn.onAppendBody(mo(uo({},pf),{value:Yp})):Bp.length>0&&Yp.length===0?yn.onRemoveBody(pf):yn.onUpdateBody(pf,mo(uo({},pf),{value:Yp}))},rp=ep=>Bp=>{Bp.stopPropagation(),yn.onRemoveBody(ep)},op=ep=>{const Bp=ep.label?mo(uo({},pf),{value:ep.label,source:ep.uri}):mo(uo({},pf),{value:ep}),Yp=yo(Bp,["draft"]);pf.value.trim().length===0?yn.onAppendBody(Yp):yn.onUpdateBody(pf,Yp)};return Pf("div",{className:"r6o-widget r6o-tag"},mf.length>0&&Pf("ul",{className:"r6o-taglist"},mf.map(ep=>Pf("li",{key:ep.value,onClick:Hf(ep.value)},Pf("span",{className:"r6o-label"},ep.value),!yn.readOnly&&Pf(yI,{in:kf===ep.value,timeout:200,classNames:"r6o-delete"},Pf("span",{className:"r6o-delete-wrapper",onClick:rp(ep)},Pf("span",{className:"r6o-delete"},Pf(lI,{width:12}))))))),!yn.readOnly&&Pf(_I,{focus:yn.focus,placeholder:z0.t("Add tag..."),vocabulary:yn.vocabulary||[],onChange:Zf,onSubmit:op}))};class jM extends $f{constructor(go){super(go),this.element=nm.createRef()}renderWidget(go){const pf=this.props.widget(mo(uo({annotation:go.annotation,readOnly:go.readOnly},go.config),{onAppendBody:(mf,kf)=>go.onAppendBody(mf,kf),onUpdateBody:(mf,kf,If)=>go.onUpdateBody(mf,kf,If),onUpsertBody:(mf,kf,If)=>go.onUpsertBody(mf,kf,If),onRemoveBody:(mf,kf)=>go.onRemoveBody(mf,kf),onBatchModify:(mf,kf)=>go.onBatchModify(mf,kf),onSetProperty:(mf,kf)=>go.onSetProperty(mf,kf),onSaveAndClose:()=>go.onSaveAndClose()}));for(;this.element.current.firstChild;)this.element.current.removeChild(this.element.current.lastChild);this.element.current.appendChild(pf)}componentDidMount(){this.renderWidget(this.props)}componentWillReceiveProps(go){this.element.current&&this.props.annotation!==go.annotation&&this.renderWidget(go)}render(){return Pf("div",{ref:this.element,className:"widget"})}}window.React=nm,window.ReactDOM=nm;const EI={COMMENT:DM,TAG:zM},kI=[Pf(DM,null),Pf(zM,null)],CI=yn=>{const go=mf=>{var kf;return typeof mf=="function"&&!!((kf=mf.prototype)!=null&&kf.isReactComponent)},pf=mf=>typeof mf=="function"&&(String(mf).match(/return .+\(['|"].+['|"],\s*\{/g)||String(mf).match(/return .+preact_compat/)||String(mf).match(/return .+\.createElement/g));return go(yn)||pf(yn)},SI=yn=>{const go=(pf,mf,kf)=>{if(typeof pf=="string"||pf instanceof String)return nm.createElement(EI[pf],mf);if((kf==null?void 0:kf.toLowerCase())==="react")return nm.createElement(pf,mf);if((kf==null?void 0:kf.toLowerCase())==="plainjs")return Pf(jM,{widget:pf,config:mf});if(CI(pf))return nm.createElement(pf,mf);if(typeof pf=="function"||pf instanceof Function)return Pf(jM,{widget:pf,config:mf});throw`${pf} is not a valid plugin`};if(yn.widget){const pf=yn,{widget:mf,force:kf}=pf,If=yo(pf,["widget","force"]);return go(mf,If,kf)}else return go(yn)},HM=14;var VM=(yn,go,pf,mf)=>{const kf=yn.getBoundingClientRect();go.className="r6o-editor r6o-arrow-top r6o-arrow-left";const{left:If,top:Hf,right:Zf,bottom:rp}=pf.getBoundingClientRect();if(go.style.top=`${rp-kf.top+HM}px`,go.style.left=`${If-kf.left}px`,mf){const op=go.children[1].getBoundingClientRect();if(op.right>window.innerWidth&&(go.classList.remove("r6o-arrow-left"),go.classList.add("r6o-arrow-right"),go.style.left=`${Zf-op.width-kf.left}px`),op.bottom>window.innerHeight){go.classList.remove("r6o-arrow-top"),go.classList.add("r6o-arrow-bottom");const Bp=go.children[1].getBoundingClientRect().height;go.style.top=`${Hf-kf.top-Bp-HM}px`}const ep=go.children[1].getBoundingClientRect();if(ep.top<0){go.classList.add("pushed","down"),go.style.top=`${-kf.top}px`;const Bp=rp-kf.top;ep.height-kf.top>Bp&&go.classList.remove("r6o-arrow-bottom")}ep.left<0&&(go.classList.add("pushed","right"),go.style.left=`${-kf.left}px`),requestAnimationFrame(()=>go.style.opacity=1)}};const UM=yn=>{const{top:go,left:pf,width:mf,height:kf}=yn.getBoundingClientRect();return`${go}, ${pf}, ${mf}, ${kf}`};class TI extends $f{constructor(go){super(go),lf(this,"initResizeObserver",()=>{const pf=this.props.autoPosition===void 0?!0:this.props.autoPosition;if(window!=null&&window.ResizeObserver){const mf=new ResizeObserver(()=>{this.state.dragged||VM(this.props.wrapperEl,this.element.current,this.props.selectedElement,pf)});return mf.observe(this.props.wrapperEl),()=>mf.disconnect()}else this.state.dragged||VM(this.props.wrapperEl,this.element.current,this.props.selectedElement,pf)}),lf(this,"creationMeta",pf=>{const mf={},{user:kf}=this.props.env;return kf&&(mf.creator={},kf.id&&(mf.creator.id=kf.id),kf.displayName&&(mf.creator.name=kf.displayName),mf[pf.created?"modified":"created"]=this.props.env.getCurrentTimeAdjusted()),mf}),lf(this,"getCurrentAnnotation",()=>this.state.currentAnnotation.clone()),lf(this,"updateCurrentAnnotation",(pf,mf)=>this.setState({currentAnnotation:this.state.currentAnnotation.clone(pf)},()=>{mf&&this.onOk()})),lf(this,"onAppendBody",(pf,mf)=>this.updateCurrentAnnotation({body:[...this.state.currentAnnotation.bodies,uo(uo({},pf),this.creationMeta(pf))]},mf)),lf(this,"onUpdateBody",(pf,mf,kf)=>this.updateCurrentAnnotation({body:this.state.currentAnnotation.bodies.map(If=>If===pf?uo(uo({},mf),this.creationMeta(mf)):If)},kf)),lf(this,"onRemoveBody",(pf,mf)=>this.updateCurrentAnnotation({body:this.state.currentAnnotation.bodies.filter(kf=>kf!==pf)},mf)),lf(this,"onUpsertBody",(pf,mf,kf)=>{if(pf==null&&mf!=null)this.onAppendBody(mf,kf);else if(pf!=null&&mf!=null)this.onUpdateBody(pf,mf,kf);else if(pf!=null&&mf==null){const If=this.state.currentAnnotation.bodies.find(Hf=>Hf.purpose===pf.purpose);If?this.onUpdateBody(If,pf,kf):this.onAppendBody(pf,kf)}}),lf(this,"onBatchModify",(pf,mf)=>{const kf=pf.filter(op=>op.action==="upsert"&&op.body).map(op=>({previous:this.state.currentAnnotation.bodies.find(ep=>ep.purpose===op.body.purpose),updated:uo(uo({},op.body),this.creationMeta(op.body))})),If=pf.filter(op=>op.action==="remove").map(op=>op.body),Hf=[...pf.filter(op=>op.action==="append"||op.action==="upsert"&&op.updated&&!op.previous).map(op=>uo(uo({},op.body),this.creationMeta(op.body))),...kf.filter(op=>!op.previous).map(op=>op.updated)],Zf=[...pf.filter(op=>op.action==="update"||op.action==="upsert"&&op.updated&&op.previous).map(op=>({previous:op.previous,updated:uo(uo({},op.updated),this.creationMeta(op.updated))})),...kf.filter(op=>op.previous)],rp=[...this.state.currentAnnotation.bodies.filter(op=>!If.includes(op)).map(op=>{const ep=Zf.find(Bp=>Bp.previous===op);return ep?ep.updated:op}),...Hf];this.updateCurrentAnnotation({body:rp},mf)}),lf(this,"onSetProperty",(pf,mf)=>{if(["@context","id","type","body","target"].includes(pf))throw new Exception(`Cannot set ${pf} - not allowed`);if(mf)this.updateCurrentAnnotation({[pf]:mf});else{const kf=this.currentAnnotation.clone();delete kf[pf],this.setState({currentAnnotation:kf})}}),lf(this,"onCancel",()=>this.props.onCancel(this.props.annotation)),lf(this,"onOk",()=>{const pf=kf=>kf.clone({body:kf.bodies.map(If=>{var Hf=If,Zf=yo(Hf,["draft"]);return Zf})}),{currentAnnotation:mf}=this.state;mf.bodies.length===0&&!this.props.allowEmpty?mf.isSelection?this.onCancel():this.props.onAnnotationDeleted(this.props.annotation):mf.isSelection?this.props.onAnnotationCreated(pf(mf).toAnnotation()):this.props.onAnnotationUpdated(pf(mf),this.props.annotation)}),lf(this,"onDelete",()=>this.props.onAnnotationDeleted(this.props.annotation)),this.element=nm.createRef(),this.state={currentAnnotation:go.annotation,dragged:!1,selectionBounds:UM(go.selectedElement)}}componentWillReceiveProps(go){var pf;const{selectionBounds:mf}=this.state,kf=UM(go.selectedElement);(pf=this.props.annotation)!=null&&pf.isEqual(go.annotation)?this.setState({selectionBounds:kf}):this.setState({currentAnnotation:go.annotation,selectionBounds:kf}),this.props.modifiedTarget!=go.modifiedTarget&&this.state.currentAnnotation&&this.updateCurrentAnnotation({target:this.props.modifiedTarget}),mf!=kf&&this.element.current&&(this.removeObserver&&this.removeObserver(),this.removeObserver=this.initResizeObserver())}componentDidMount(){this.removeObserver=this.initResizeObserver(),new MutationObserver(()=>{this.element.current&&(this.removeObserver&&this.removeObserver(),this.removeObserver=this.initResizeObserver())}).observe(this.element.current,{childList:!0,subtree:!0})}componentWillUnmount(){this.removeObserver&&this.removeObserver()}render(){const{currentAnnotation:go}=this.state,pf=this.props.widgets?this.props.widgets.map(SI):kI,mf=If=>If.type.disableDelete?If.type.disableDelete(go,mo(uo({},If.props),{readOnly:this.props.readOnly,env:this.props.env})):!1,kf=go&&(go.bodies.length>0||this.props.allowEmpty)&&!this.props.readOnly&&!go.isSelection&&!pf.some(mf);return Pf(ex,{disabled:!this.props.detachable,handle:".r6o-draggable",cancel:".r6o-btn, .r6o-btn *",onDrag:()=>this.setState({dragged:!0})},Pf("div",{ref:this.element,className:this.state.dragged?"r6o-editor dragged":"r6o-editor"},Pf("div",{className:"r6o-arrow"}),Pf("div",{className:"r6o-editor-inner"},pf.map((If,Hf)=>nm.cloneElement(If,{key:`${Hf}`,focus:Hf===0,annotation:go,readOnly:this.props.readOnly,env:this.props.env,onAppendBody:this.onAppendBody,onUpdateBody:this.onUpdateBody,onRemoveBody:this.onRemoveBody,onUpsertBody:this.onUpsertBody,onBatchModify:this.onBatchModify,onSetProperty:this.onSetProperty,onSaveAndClose:this.onOk})),this.props.readOnly?Pf("div",{className:"r6o-footer"},Pf("button",{className:"r6o-btn",onClick:this.onCancel},z0.t("Close"))):Pf("div",{className:this.props.detachable?"r6o-footer r6o-draggable":"r6o-footer"},kf&&Pf("button",{className:"r6o-btn left delete-annotation",title:z0.t("Delete"),onClick:this.onDelete},Pf(uI,{width:12})),Pf("button",{className:"r6o-btn outline",onClick:this.onCancel},z0.t("Cancel")),Pf("button",{className:"r6o-btn ",onClick:this.onOk},z0.t("Ok"))))))}}var xA,AI=new Uint8Array(16);function OI(){if(!xA&&(xA=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!xA))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xA(AI)}var MI=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function PI(yn){return typeof yn=="string"&&MI.test(yn)}for(var Nb=[],zO=0;zO<256;++zO)Nb.push((zO+256).toString(16).substr(1));function II(yn){var go=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,pf=(Nb[yn[go+0]]+Nb[yn[go+1]]+Nb[yn[go+2]]+Nb[yn[go+3]]+"-"+Nb[yn[go+4]]+Nb[yn[go+5]]+"-"+Nb[yn[go+6]]+Nb[yn[go+7]]+"-"+Nb[yn[go+8]]+Nb[yn[go+9]]+"-"+Nb[yn[go+10]]+Nb[yn[go+11]]+Nb[yn[go+12]]+Nb[yn[go+13]]+Nb[yn[go+14]]+Nb[yn[go+15]]).toLowerCase();if(!PI(pf))throw TypeError("Stringified UUID is invalid");return pf}function WM(yn,go,pf){yn=yn||{};var mf=yn.random||(yn.rng||OI)();if(mf[6]=mf[6]&15|64,mf[8]=mf[8]&63|128,go){pf=pf||0;for(var kf=0;kf<16;++kf)go[pf+kf]=mf[kf];return go}return II(mf)}var LI=function yn(go,pf){if(go===pf)return!0;if(go&&pf&&typeof go=="object"&&typeof pf=="object"){if(go.constructor!==pf.constructor)return!1;var mf,kf,If;if(Array.isArray(go)){if(mf=go.length,mf!=pf.length)return!1;for(kf=mf;kf--!=0;)if(!yn(go[kf],pf[kf]))return!1;return!0}if(go.constructor===RegExp)return go.source===pf.source&&go.flags===pf.flags;if(go.valueOf!==Object.prototype.valueOf)return go.valueOf()===pf.valueOf();if(go.toString!==Object.prototype.toString)return go.toString()===pf.toString();if(If=Object.keys(go),mf=If.length,mf!==Object.keys(pf).length)return!1;for(kf=mf;kf--!=0;)if(!Object.prototype.hasOwnProperty.call(pf,If[kf]))return!1;for(kf=mf;kf--!=0;){var Hf=If[kf];if(!yn(go[Hf],pf[Hf]))return!1}return!0}return go!==go&&pf!==pf},GM=LI;const jO=class{constructor(yn,go){lf(this,"clone",(pf,mf)=>new jO(uo(uo({},this.underlying),pf),uo(uo({},this.opts),mf))),lf(this,"selector",pf=>{const{target:mf}=this.underlying;if(mf.selector)return(Array.isArray(mf.selector)?mf.selector:[mf.selector]).find(kf=>kf.type===pf)}),this.underlying=yn,this.opts=go}isEqual(yn){return(yn==null?void 0:yn.type)!=="Annotation"?!1:this.underlying===yn.underlying?!0:!this.underlying.id||!yn.underlying.id?!1:GM(this.underlying,yn.underlying)}get readOnly(){var yn;return(yn=this.opts)==null?void 0:yn.readOnly}get id(){return this.underlying.id}get type(){return this.underlying.type}get motivation(){return this.underlying.motivation}get body(){return this.underlying.body}get target(){return this.underlying.target}get bodies(){return Array.isArray(this.underlying.body)?this.underlying.body:[this.underlying.body]}set bodies(yn){this.underlying.body=yn}get targets(){return Array.isArray(this.underlying.target)?this.underlying.target:[this.underlying.target]}get quote(){return this.selector("TextQuoteSelector").exact}get start(){return this.selector("TextPositionSelector").start}get end(){return this.selector("TextPositionSelector").end}};let mC=jO;lf(mC,"create",yn=>{const go={"@context":"http://www.w3.org/ns/anno.jsonld",type:"Annotation",id:`#${WM()}`,body:[]};return new jO(uo(uo({},go),yn))});class O2{constructor(go,pf){lf(this,"clone",mf=>{const kf=new O2;return kf.underlying=JSON.parse(JSON.stringify(this.underlying)),mf&&(kf.underlying=uo(uo({},kf.underlying),mf)),kf}),lf(this,"selector",mf=>{const{target:kf}=this.underlying;if(kf.selector)return(Array.isArray(kf.selector)?kf.selector:[kf.selector]).find(If=>If.type===mf)}),lf(this,"toAnnotation",()=>{const mf=Object.assign({},this.underlying,{"@context":"http://www.w3.org/ns/anno.jsonld",type:"Annotation",id:`#${WM()}`});return new mC(mf)}),this.underlying={type:"Selection",body:pf||[],target:go}}get type(){return this.underlying.type}get body(){return this.underlying.body}get target(){return this.underlying.target}get targets(){return Array.isArray(this.underlying.target)?this.underlying.target:[this.underlying.target]}isEqual(go){return go?GM(this.underlying,go.underlying):!1}get bodies(){return Array.isArray(this.underlying.body)?this.underlying.body:[this.underlying.body]}get quote(){return this.selector("TextQuoteSelector").exact}get isSelection(){return!0}}let HO=0;var RI=()=>({setServerTime:yn=>{const go=Date.now();HO=yn-go},getCurrentTimeAdjusted:()=>new Date(Date.now()+HO).toISOString(),toClientTime:yn=>Date.parse(yn)-HO});const DI=(yn,go)=>{if(yn){const pf=yn==="auto"?window.navigator.userLanguage||window.navigator.language:yn;try{z0.init(pf.split("-")[0].toLowerCase(),go)}catch{console.warn(`Unsupported locale '${pf}'. Falling back to default en.`)}}else z0.init(null,go)},zv="http://www.w3.org/2000/svg",VO=yn=>{const go=yn.getAttribute("class");return go?new Set(go.split(" ")):new Set},mk=(yn,go)=>{const pf=VO(yn);pf.add(go),yn.setAttribute("class",Array.from(pf).join(" "))},NI=(yn,go)=>{const pf=VO(yn);pf.delete(go),pf.size===0?yn.removeAttribute("class"):yn.setAttribute("class",Array.from(pf).join(" "))},UO=(yn,go)=>VO(yn).has(go),vC=(yn,go)=>{const pf=yn.selector("FragmentSelector");if(pf!=null&&pf.conformsTo.startsWith("http://www.w3.org/TR/media-frags")){const{value:mf}=pf,kf=mf.includes(":")?mf.substring(mf.indexOf("=")+1,mf.indexOf(":")):"pixel",If=mf.includes(":")?mf.substring(mf.indexOf(":")+1):mf.substring(mf.indexOf("=")+1);let[Hf,Zf,rp,op]=If.split(",").map(parseFloat);return kf.toLowerCase()==="percent"&&(Hf=Hf*go.naturalWidth/100,Zf=Zf*go.naturalHeight/100,rp=rp*go.naturalWidth/100,op=op*go.naturalHeight/100),{x:Hf,y:Zf,w:rp,h:op}}},BI=(yn,go,pf,mf,kf)=>({source:kf==null?void 0:kf.src,selector:{type:"FragmentSelector",conformsTo:"http://www.w3.org/TR/media-frags/",value:`xywh=pixel:${yn},${go},${pf},${mf}`}}),$I=(yn,go,pf,mf,kf)=>{const If=yn/kf.naturalWidth*100,Hf=go/kf.naturalHeight*100,Zf=pf/kf.naturalWidth*100,rp=mf/kf.naturalHeight*100;return{source:kf.src,selector:{type:"FragmentSelector",conformsTo:"http://www.w3.org/TR/media-frags/",value:`xywh=percent:${If},${Hf},${Zf},${rp}`}}},M2=(yn,go,pf,mf,kf,If)=>(If==null?void 0:If.toLowerCase())==="percent"?$I(yn,go,pf,mf,kf):BI(yn,go,pf,mf,kf),EA=(yn,go,pf,mf,kf)=>{yn.setAttribute("x",go),yn.setAttribute("y",pf),yn.setAttribute("width",mf),yn.setAttribute("height",kf)},kA=(yn,go,pf)=>{yn.setAttribute("cx",go),yn.setAttribute("cy",pf),yn.setAttribute("r",7)},qM=(yn,go,pf,mf,kf)=>{const If=document.createElementNS(zv,"path");If.setAttribute("fill-rule","evenodd");const{naturalWidth:Hf,naturalHeight:Zf}=yn;return If.setAttribute("d",`M0 0 h${Hf} v${Zf} h-${Hf} z M${go} ${pf} h${mf} v${kf} h-${mf} z`),If},WO=(yn,go,pf,mf,kf,If)=>{const{naturalWidth:Hf,naturalHeight:Zf}=go;yn.setAttribute("d",`M0 0 h${Hf} v${Zf} h-${Hf} z M${pf} ${mf} h${kf} v${If} h-${kf} z`)},GO=(yn,go,pf,mf)=>{const{x:kf,y:If,w:Hf,h:Zf}=yn.type==="Annotation"||yn.type==="Selection"?vC(yn,go):{x:yn,y:go,w:pf,h:mf},rp=document.createElementNS(zv,"g");if(Hf===0&&Zf===0){mk(rp,"a9s-point"),mk(rp,"a9s-non-scaling"),rp.setAttribute("transform-origin",`${kf} ${If}`);const op=document.createElementNS(zv,"circle"),ep=document.createElementNS(zv,"circle");ep.setAttribute("class","a9s-inner"),kA(ep,kf,If),op.setAttribute("class","a9s-outer"),kA(op,kf,If),rp.appendChild(op),rp.appendChild(ep)}else{const op=document.createElementNS(zv,"rect"),ep=document.createElementNS(zv,"rect");ep.setAttribute("class","a9s-inner"),EA(ep,kf,If,Hf,Zf),op.setAttribute("class","a9s-outer"),EA(op,kf,If,Hf,Zf),rp.appendChild(op),rp.appendChild(ep)}return rp},YM=yn=>{const go=yn.querySelector(".a9s-outer");if(go.nodeName==="rect"){const pf=parseFloat(go.getAttribute("x")),mf=parseFloat(go.getAttribute("y")),kf=parseFloat(go.getAttribute("width")),If=parseFloat(go.getAttribute("height"));return{x:pf,y:mf,w:kf,h:If}}else{const pf=parseFloat(go.getAttribute("cx")),mf=parseFloat(go.getAttribute("cy"));return{x:pf,y:mf,w:0,h:0}}},qO=(yn,go,pf,mf,kf)=>{const If=yn.querySelector(".a9s-inner"),Hf=yn.querySelector(".a9s-outer");Hf.nodeName==="rect"?(EA(If,go,pf,mf,kf),EA(Hf,go,pf,mf,kf)):(kA(If,go,pf),kA(Hf,go,pf))},FI=(yn,go)=>{const{w:pf,h:mf}=vC(yn,go);return pf*mf};class zI{constructor(go,pf,mf,kf,If){lf(this,"dragTo",(Hf,Zf)=>{this.group.style.display=null,this.opposite=[Hf,Zf];const{x:rp,y:op,w:ep,h:Bp}=this.bbox;WO(this.mask,this.env.image,rp,op,ep,Bp),qO(this.rect,rp,op,ep,Bp)}),lf(this,"getBoundingClientRect",()=>this.rect.getBoundingClientRect()),lf(this,"toSelection",()=>{const{x:Hf,y:Zf,w:rp,h:op}=this.bbox;return new O2(M2(Hf,Zf,rp,op,this.env.image,this.config.fragmentUnit))}),lf(this,"destroy",()=>{this.group.parentNode.removeChild(this.group),this.mask=null,this.rect=null,this.group=null}),this.anchor=[go,pf],this.opposite=[go,pf],this.config=kf,this.env=If,this.group=document.createElementNS(zv,"g"),this.mask=qM(If.image,go,pf,2,2),this.mask.setAttribute("class","a9s-selection-mask"),this.rect=GO(go,pf,2,2),this.rect.setAttribute("class","a9s-selection"),this.group.style.pointerEvents="none",this.group.style.display="none",this.group.appendChild(this.mask),this.group.appendChild(this.rect),mf.appendChild(this.group)}get bbox(){const go=this.opposite[0]-this.anchor[0],pf=this.opposite[1]-this.anchor[1];return{x:go>0?this.anchor[0]:this.opposite[0],y:pf>0?this.anchor[1]:this.opposite[1],w:Math.max(1,Math.abs(go)),h:Math.max(1,Math.abs(pf))}}get element(){return this.rect}}const jI={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"},YO=()=>"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,HI=yn=>{let go=null;const pf=(kf,If)=>new MouseEvent(kf,{screenX:If.screenX,screenY:If.screenY,clientX:If.clientX,clientY:If.clientY,pageX:If.pageX,pageY:If.pageY,bubbles:!0}),mf=kf=>{const If=kf.changedTouches[0],Hf=pf(jI[kf.type],If);If.target.dispatchEvent(Hf),kf.preventDefault(),(kf.type==="touchstart"||kf.type==="touchmove")&&(go&&clearTimeout(go),go=setTimeout(()=>{const Zf=pf("dblclick",If);If.target.dispatchEvent(Zf)},800)),kf.type==="touchend"&&go&&clearTimeout(go)};yn.addEventListener("touchstart",mf,!0),yn.addEventListener("touchmove",mf,!0),yn.addEventListener("touchend",mf,!0),yn.addEventListener("touchcancel",mf,!0)},CA="An implementation is missing",VI=YO();class ZM extends qy{constructor(go,pf,mf){super(),lf(this,"enableResponsive",()=>{window.ResizeObserver&&(this.resizeObserver=new ResizeObserver(()=>{const If=this.svg.getBoundingClientRect(),{width:Hf,height:Zf}=this.svg.viewBox.baseVal;this.scale=Math.max(Hf/If.width,Zf/If.height),this.onScaleChanged&&this.onScaleChanged(this.scale)}),this.resizeObserver.observe(this.svg.parentNode))}),lf(this,"getSVGPoint",If=>{const Hf=this.svg.createSVGPoint();if(VI){const Zf=this.svg.getBoundingClientRect(),rp=If.clientX-Zf.x,op=If.clientY-Zf.y,{left:ep,top:Bp}=this.svg.getBoundingClientRect();return Hf.x=rp+ep,Hf.y=op+Bp,Hf.matrixTransform(this.g.getScreenCTM().inverse())}else return Hf.x=If.offsetX,Hf.y=If.offsetY,Hf.matrixTransform(this.g.getCTM().inverse())}),lf(this,"drawHandle",(If,Hf)=>{const Zf=document.createElementNS(zv,"g");Zf.setAttribute("class","a9s-handle");const rp=document.createElementNS(zv,"g"),op=Qp=>{const fg=document.createElementNS(zv,"circle");return fg.setAttribute("cx",If),fg.setAttribute("cy",Hf),fg.setAttribute("r",Qp),fg},ep=this.config.handleRadius||6,Bp=op(ep);Bp.setAttribute("class","a9s-handle-inner");const Yp=op(ep+1);return Yp.setAttribute("class","a9s-handle-outer"),rp.appendChild(Yp),rp.appendChild(Bp),Zf.appendChild(rp),Zf}),lf(this,"setHandleXY",(If,Hf,Zf)=>{const rp=If.querySelector(".a9s-handle-inner");rp.setAttribute("cx",Hf),rp.setAttribute("cy",Zf);const op=If.querySelector(".a9s-handle-outer");op.setAttribute("cx",Hf),op.setAttribute("cy",Zf)}),lf(this,"getHandleXY",If=>{const Hf=If.querySelector(".a9s-handle-outer");return{x:parseFloat(Hf.getAttribute("cx")),y:parseFloat(Hf.getAttribute("cy"))}}),lf(this,"scaleHandle",If=>{const Hf=If.querySelector(".a9s-handle-inner"),Zf=If.querySelector(".a9s-handle-outer"),rp=this.scale*(this.config.handleRadius||6);Hf.setAttribute("r",rp),Zf.setAttribute("r",rp)}),this.svg=go.closest("svg"),this.g=go,this.config=pf,this.env=mf,this.scale=1;const{image:kf}=mf;(kf instanceof Element||kf instanceof HTMLDocument)&&this.enableResponsive()}destroy(){this.resizeObserver&&this.resizeObserver.disconnect(),this.resizeObserver=null}}class ZO extends ZM{constructor(go,pf,mf){super(go,pf,mf),lf(this,"attachListeners",({mouseMove:kf,mouseUp:If,dblClick:Hf})=>{kf&&(this.mouseMove=Zf=>{const{x:rp,y:op}=this.getSVGPoint(Zf);this.started||(this.emit("startSelection",{x:rp,y:op}),this.started=!0),kf(rp,op,Zf)},this.svg.addEventListener("mousemove",this.mouseMove)),If&&(this.mouseUp=Zf=>{if(Zf.button!==0)return;const{x:rp,y:op}=this.getSVGPoint(Zf);If(rp,op,Zf)},document.addEventListener("mouseup",this.mouseUp)),Hf&&(this.dblClick=Zf=>{const{x:rp,y:op}=this.getSVGPoint(Zf);Hf(rp,op,Zf)},document.addEventListener("dblclick",this.dblClick))}),lf(this,"detachListeners",()=>{this.mouseMove&&this.svg.removeEventListener("mousemove",this.mouseMove),this.mouseUp&&document.removeEventListener("mouseup",this.mouseUp),this.dblClick&&document.removeEventListener("dblclick",this.dblClick)}),lf(this,"start",(kf,If)=>{const{x:Hf,y:Zf}=this.getSVGPoint(kf);this.startDrawing(Hf,Zf,If,kf)}),lf(this,"startDrawing",kf=>{throw new Error(CA)}),lf(this,"createEditableShape",kf=>{throw new Error(CA)}),this.started=!1}get isDrawing(){throw new Error(CA)}}ZO.supports=yn=>{throw new Error(CA)};const XM="An implementation is missing";class KM extends ZM{constructor(go,pf,mf,kf){super(pf,mf,kf),lf(this,"updateState",If=>{throw new Error(XM)}),this.annotation=go}get element(){throw new Error(XM)}}const UI=/firefox/i.test(navigator.userAgent),JM=(yn,go,pf,mf,kf)=>{yn.setAttribute("width",mf),yn.setAttribute("height",kf),UI?(yn.setAttribute("x",0),yn.setAttribute("y",0),yn.setAttribute("transform",`translate(${go}, ${pf})`)):(yn.setAttribute("x",go),yn.setAttribute("y",pf))},QM=(yn,go)=>{const{x:pf,y:mf,width:kf,height:If}=go.getBBox(),Hf=document.createElementNS(zv,"svg");Hf.setAttribute("class","a9s-formatter-el"),JM(Hf,pf,mf,kf,If);const Zf=document.createElementNS(zv,"g");Zf.appendChild(yn),Hf.appendChild(Zf),go.append(Hf)},SA=(yn,go,pf)=>{if(!pf)return yn;const mf=pf(go);if(!mf)return yn;if(typeof mf=="string"||mf instanceof String)mk(yn,mf);else if(mf.nodeType===Node.ELEMENT_NODE)QM(mf,yn);else{const{className:kf,style:If,element:Hf}=mf;if(kf&&mk(yn,kf),If){const Zf=yn.querySelector(".a9s-outer"),rp=yn.querySelector(".a9s-inner");Zf&&rp?(Zf.setAttribute("style","display:none"),rp.setAttribute("style",If)):yn.setAttribute("style",If)}Hf&&QM(Hf,yn);for(const Zf in mf)mf.hasOwnProperty(Zf)&&Zf.startsWith("data-")&&yn.setAttribute(Zf,mf[Zf])}},XO=(yn,go,pf,mf,kf)=>{const If=yn.querySelector(".a9s-formatter-el");If&&JM(If,go,pf,mf,kf)};class WI extends KM{constructor(go,pf,mf,kf){super(go,pf,mf,kf),lf(this,"onScaleChanged",()=>this.handles.map(this.scaleHandle)),lf(this,"setSize",(op,ep,Bp,Yp)=>{qO(this.rectangle,op,ep,Bp,Yp),WO(this.mask,this.env.image,op,ep,Bp,Yp),XO(this.elementGroup,op,ep,Bp,Yp);const[Qp,fg,Sg,Cg]=this.handles;this.setHandleXY(Qp,op,ep),this.setHandleXY(fg,op+Bp,ep),this.setHandleXY(Sg,op+Bp,ep+Yp),this.setHandleXY(Cg,op,ep+Yp)}),lf(this,"stretchCorners",(op,ep,Bp)=>{const Yp=this.getHandleXY(ep),Qp=Bp.x-Yp.x,fg=Bp.y-Yp.y,Sg=Qp>0?Yp.x:Bp.x,Cg=fg>0?Yp.y:Bp.y,Fg=Math.abs(Qp),Yg=Math.abs(fg);qO(this.rectangle,Sg,Cg,Fg,Yg),WO(this.mask,this.env.image,Sg,Cg,Fg,Yg),XO(this.elementGroup,Sg,Cg,Fg,Yg),this.setHandleXY(this.handles[op],Bp.x,Bp.y);const $m=this.handles[(op+3)%4];this.setHandleXY($m,Yp.x,Bp.y);const Am=this.handles[(op+5)%4];return this.setHandleXY(Am,Bp.x,Yp.y),{x:Sg,y:Cg,w:Fg,h:Yg}}),lf(this,"onGrab",op=>ep=>{if(ep.button!==0)return;this.grabbedElem=op;const Bp=this.getSVGPoint(ep),{x:Yp,y:Qp}=YM(this.rectangle);this.mouseOffset={x:Bp.x-Yp,y:Bp.y-Qp}}),lf(this,"onMouseMove",op=>{if(op.button!==0)return;const ep=(Bp,Yp)=>Bp<0?0:Bp>Yp?Yp:Bp;if(this.grabbedElem){const Bp=this.getSVGPoint(op);if(this.grabbedElem===this.rectangle){const{w:Yp,h:Qp}=YM(this.rectangle),{naturalWidth:fg,naturalHeight:Sg}=this.env.image,Cg=ep(Bp.x-this.mouseOffset.x,fg-Yp),Fg=ep(Bp.y-this.mouseOffset.y,Sg-Qp);this.setSize(Cg,Fg,Yp,Qp),this.emit("update",M2(Cg,Fg,Yp,Qp,this.env.image,this.config.fragmentUnit))}else{const Yp=this.handles.indexOf(this.grabbedElem),Qp=Yp<2?this.handles[Yp+2]:this.handles[Yp-2],{x:fg,y:Sg,w:Cg,h:Fg}=this.stretchCorners(Yp,Qp,Bp);this.emit("update",M2(fg,Sg,Cg,Fg,this.env.image,this.config.fragmentUnit))}}}),lf(this,"onMouseUp",op=>{this.grabbedElem=null,this.mouseOffset=null}),lf(this,"updateState",op=>{const{x:ep,y:Bp,w:Yp,h:Qp}=vC(op,this.env.image);this.setSize(ep,Bp,Yp,Qp)}),this.svg.addEventListener("mousemove",this.onMouseMove),this.svg.addEventListener("mouseup",this.onMouseUp);const{x:If,y:Hf,w:Zf,h:rp}=vC(go,kf.image);this.containerGroup=document.createElementNS(zv,"g"),this.mask=qM(kf.image,If,Hf,Zf,rp),this.mask.setAttribute("class","a9s-selection-mask"),this.containerGroup.appendChild(this.mask),this.elementGroup=document.createElementNS(zv,"g"),this.elementGroup.setAttribute("class","a9s-annotation editable selected"),this.rectangle=GO(If,Hf,Zf,rp),this.rectangle.querySelector(".a9s-inner").addEventListener("mousedown",this.onGrab(this.rectangle)),this.elementGroup.appendChild(this.rectangle),this.handles=[[If,Hf],[If+Zf,Hf],[If+Zf,Hf+rp],[If,Hf+rp]].map(op=>{const[ep,Bp]=op,Yp=this.drawHandle(ep,Bp);return Yp.addEventListener("mousedown",this.onGrab(Yp)),this.elementGroup.appendChild(Yp),Yp}),this.containerGroup.appendChild(this.elementGroup),pf.appendChild(this.containerGroup),SA(this.rectangle,go,mf.formatter),this.grabbedElem=null,this.mouseOffset=null}get element(){return this.elementGroup}destroy(){this.containerGroup.parentNode.removeChild(this.containerGroup),super.destroy()}}class TA extends ZO{constructor(go,pf,mf){super(go,pf,mf),lf(this,"startDrawing",(kf,If)=>{this.attachListeners({mouseMove:this.onMouseMove,mouseUp:this.onMouseUp}),this.rubberband=new zI(kf,If,this.g,this.config,this.env)}),lf(this,"stop",()=>{this.rubberband&&(this.rubberband.destroy(),this.rubberband=null)}),lf(this,"onMouseMove",(kf,If)=>this.rubberband.dragTo(kf,If)),lf(this,"onMouseUp",()=>{this.detachListeners(),this.started=!1;const{width:kf,height:If}=this.rubberband.getBoundingClientRect(),Hf=this.config.minSelectionWidth||4,Zf=this.config.minSelectionHeight||4;if(kf>=Hf&&If>=Zf){const{element:rp}=this.rubberband;rp.annotation=this.rubberband.toSelection(),this.emit("complete",rp)}else this.emit("cancel");this.stop()}),lf(this,"createEditableShape",kf=>new WI(kf,this.g,this.config,this.env)),this.rubberband=null}get isDrawing(){return this.rubberband!=null}}TA.identifier="rect",TA.supports=yn=>{const go=yn.selector("FragmentSelector");return go==null?void 0:go.conformsTo.startsWith("http://www.w3.org/TR/media-frags")};const GI=yn=>{const go=new XMLSerializer().serializeToString(yn.documentElement).replace("<svg>",`<svg xmlns="${zv}">`);return new DOMParser().parseFromString(go,"image/svg+xml").documentElement},eP=yn=>{const go=mf=>{Array.from(mf.attributes).forEach(kf=>{kf.name.startsWith("on")&&mf.removeAttribute(kf.name)})},pf=yn.getElementsByTagName("script");return Array.from(pf).reverse().forEach(mf=>mf.parentNode.removeChild(mf)),go(yn),Array.from(yn.querySelectorAll("*")).forEach(go),yn},mS=yn=>{const go=yn.selector("SvgSelector");if(go){const pf=new DOMParser,{value:mf}=go,kf=pf.parseFromString(mf,"image/svg+xml"),If=kf.lookupPrefix(zv),Hf=kf.lookupNamespaceURI(null);return If||Hf?eP(kf).firstChild:eP(GI(kf)).firstChild}},tP=yn=>{const go=mS(yn),pf=document.createElementNS(zv,"g"),mf=go.cloneNode(!0);mf.setAttribute("class","a9s-inner");const kf=go.cloneNode(!0);return kf.setAttribute("class","a9s-outer"),pf.appendChild(kf),pf.appendChild(mf),pf},KO=(yn,go)=>{const pf=yn.querySelector(".a9s-inner").cloneNode(!0);pf.removeAttribute("class"),pf.removeAttribute("xmlns");let mf=pf.outerHTML||new XMLSerializer().serializeToString(pf);return mf=mf.replace(` xmlns="${zv}"`,""),{source:go==null?void 0:go.src,selector:{type:"SvgSelector",value:`<svg>${mf}</svg>`}}},qI=yn=>{const go=mS(yn),pf=go.nodeName.toLowerCase();if(pf==="polygon")return YI(go);if(pf==="circle")return ZI(go);if(pf==="ellipse")return XI(go);if(pf=="path")return KI(go);throw`Unsupported SVG shape type: ${pf}`},YI=yn=>{const go=yn.getAttribute("points").split(" ").map(kf=>kf.split(",").map(If=>parseFloat(If.trim())));let pf=0,mf=go.length-1;for(let kf=0;kf<go.length;kf++)pf+=(go[mf][0]+go[kf][0])*(go[mf][1]-go[kf][1]),mf=kf;return Math.abs(.5*pf)},ZI=yn=>{const go=yn.getAttribute("r");return go*go*Math.PI},XI=yn=>{const go=yn.getAttribute("rx"),pf=yn.getAttribute("ry");return go*pf*Math.PI},KI=yn=>{const go=yn.getAttribute("d").split("L");let pf=0;if(go.length>1){var mf=go[go.length-1].trim().split(" ");let kf=parseFloat(mf[0]),If=parseFloat(mf[1]);mf=go[0].substring(1).trim().split(" ");let Hf=parseFloat(mf[0]),Zf=parseFloat(mf[1]);pf+=(kf+Hf)*(If-Zf),kf=Hf,If=Zf;for(let rp=1;rp<go.length;rp++)mf=go[rp].trim().split(" "),Hf=parseFloat(mf[0]),Zf=parseFloat(mf[1]),pf+=(kf+Hf)*(If-Zf),kf=Hf,If=Zf}return Math.abs(.5*pf)};class rP{constructor(go,pf){lf(this,"redraw",()=>{this.mask.setAttribute("d",`M0 0 h${this.w} v${this.h} h-${this.w} z M${this.polygon.getAttribute("points")} z`)}),lf(this,"destroy",()=>this.mask.parentNode.removeChild(this.mask)),this.w=go.naturalWidth,this.h=go.naturalHeight,this.polygon=pf,this.mask=document.createElementNS(zv,"path"),this.mask.setAttribute("fill-rule","evenodd"),this.mask.setAttribute("class","a9s-selection-mask"),this.mask.setAttribute("d",`M0 0 h${this.w} v${this.h} h-${this.w} z M${this.polygon.getAttribute("points")} z`)}get element(){return this.mask}}class JI{constructor(go,pf,mf){lf(this,"setPoints",kf=>{const If=kf.map(Hf=>`${Hf[0]},${Hf[1]}`).join(" ");this.outer.setAttribute("points",If),this.inner.setAttribute("points",If)}),lf(this,"getBoundingClientRect",()=>this.outer.getBoundingClientRect()),lf(this,"dragTo",kf=>{this.group.style.display=null,this.mousepos=kf;const If=[...this.points,kf];this.setPoints(If),this.mask.redraw()}),lf(this,"addPoint",()=>{const[kf,If]=this.mousepos,Hf=this.points[this.points.length-1];Math.pow(kf-Hf[0],2)+Math.pow(If-Hf[1],2)>4&&(this.points=[...this.points,this.mousepos],this.setPoints(this.points),this.mask.redraw())}),lf(this,"destroy",()=>{this.group.parentNode.removeChild(this.group),this.polygon=null,this.group=null}),lf(this,"toSelection",()=>new O2(KO(this.group,this.env.image))),this.points=[go],this.env=mf,this.mousepos=go,this.group=document.createElementNS(zv,"g"),this.polygon=document.createElementNS(zv,"g"),this.polygon.setAttribute("class","a9s-selection"),this.outer=document.createElementNS(zv,"polygon"),this.outer.setAttribute("class","a9s-outer"),this.inner=document.createElementNS(zv,"polygon"),this.inner.setAttribute("class","a9s-inner"),this.setPoints(this.points),this.mask=new rP(mf.image,this.inner),this.polygon.appendChild(this.outer),this.polygon.appendChild(this.inner),this.group.style.display="none",this.group.appendChild(this.mask.element),this.group.appendChild(this.polygon),pf.appendChild(this.group)}get element(){return this.polygon}}const JO=yn=>{const go=yn.querySelector(".a9s-inner").points,pf=[];for(let mf=0;mf<go.numberOfItems;mf++)pf.push(go.getItem(mf));return pf},QI=yn=>yn.querySelector(".a9s-inner").getBBox();class eL extends KM{constructor(go,pf,mf,kf){super(go,pf,mf,kf),lf(this,"onScaleChanged",()=>this.handles.map(this.scaleHandle)),lf(this,"setPoints",If=>{const Hf=Qp=>Math.round(10*Qp)/10,Zf=If.map(Qp=>`${Hf(Qp.x)},${Hf(Qp.y)}`).join(" ");this.shape.querySelector(".a9s-inner").setAttribute("points",Zf);const rp=this.shape.querySelector(".a9s-outer");rp.setAttribute("points",Zf),this.mask.redraw();const{x:op,y:ep,width:Bp,height:Yp}=rp.getBBox();XO(this.elementGroup,op,ep,Bp,Yp)}),lf(this,"onGrab",If=>Hf=>{Hf.button===0&&(this.grabbedElem=If,this.grabbedAt=this.getSVGPoint(Hf))}),lf(this,"onMouseMove",If=>{const Hf=(Zf,rp,op)=>Zf+rp<0?-Zf:Zf+rp>op?op-Zf:rp;if(this.grabbedElem){const Zf=this.getSVGPoint(If);if(this.grabbedElem===this.shape){const{x:rp,y:op,width:ep,height:Bp}=QI(this.shape),{naturalWidth:Yp,naturalHeight:Qp}=this.env.image,fg=Hf(rp,Zf.x-this.grabbedAt.x,Yp-ep),Sg=Hf(op,Zf.y-this.grabbedAt.y,Qp-Bp),Cg=JO(this.shape).map(Fg=>({x:Fg.x+fg,y:Fg.y+Sg}));this.grabbedAt=Zf,this.setPoints(Cg),Cg.forEach((Fg,Yg)=>this.setHandleXY(this.handles[Yg],Fg.x,Fg.y)),this.emit("update",KO(this.shape,this.env.image))}else{const rp=this.handles.indexOf(this.grabbedElem),op=JO(this.shape).map((ep,Bp)=>Bp===rp?Zf:ep);this.setPoints(op),this.setHandleXY(this.handles[rp],Zf.x,Zf.y),this.emit("update",KO(this.shape,this.env.image))}}}),lf(this,"onMouseUp",If=>{this.grabbedElem=null,this.grabbedAt=null}),lf(this,"updateState",If=>{const Hf=mS(If).getAttribute("points").split(" ").map(Zf=>{const[rp,op]=Zf.split(",").map(ep=>parseFloat(ep.trim()));return{x:rp,y:op}});this.setPoints(Hf),Hf.forEach((Zf,rp)=>this.setHandleXY(this.handles[rp],Zf.x,Zf.y))}),lf(this,"destroy",()=>{this.containerGroup.parentNode.removeChild(this.containerGroup),super.destroy()}),this.svg.addEventListener("mousemove",this.onMouseMove),this.svg.addEventListener("mouseup",this.onMouseUp),this.containerGroup=document.createElementNS(zv,"g"),this.shape=tP(go),this.shape.querySelector(".a9s-inner").addEventListener("mousedown",this.onGrab(this.shape)),this.mask=new rP(kf.image,this.shape.querySelector(".a9s-inner")),this.containerGroup.appendChild(this.mask.element),this.elementGroup=document.createElementNS(zv,"g"),this.elementGroup.setAttribute("class","a9s-annotation editable selected"),this.elementGroup.appendChild(this.shape),this.handles=JO(this.shape).map(If=>{const Hf=this.drawHandle(If.x,If.y);return Hf.addEventListener("mousedown",this.onGrab(Hf)),this.elementGroup.appendChild(Hf),Hf}),this.containerGroup.appendChild(this.elementGroup),pf.appendChild(this.containerGroup),SA(this.shape,go,mf.formatter),this.grabbedElem=null,this.grabbedAt=null}get element(){return this.elementGroup}}class QO extends ZO{constructor(go,pf,mf){super(go,pf,mf),lf(this,"startDrawing",(kf,If,Hf)=>{this._isDrawing=!0,this._startOnSingleClick=Hf,this.attachListeners({mouseMove:this.onMouseMove,mouseUp:this.onMouseUp,dblClick:this.onDblClick}),this.rubberband=new JI([kf,If],this.g,this.env)}),lf(this,"stop",()=>{this.detachListeners(),this._isDrawing=!1,this.rubberband&&(this.rubberband.destroy(),this.rubberband=null)}),lf(this,"onMouseMove",(kf,If)=>this.rubberband.dragTo([kf,If])),lf(this,"onMouseUp",()=>{const{width:kf,height:If}=this.rubberband.getBoundingClientRect(),Hf=this.config.minSelectionWidth||4,Zf=this.config.minSelectionHeight||4;kf>=Hf||If>=Zf?this.rubberband.addPoint():this._startOnSingleClick||(this.emit("cancel"),this.stop())}),lf(this,"onDblClick",()=>{this._isDrawing=!1;const kf=this.rubberband.element;kf.annotation=this.rubberband.toSelection(),this.emit("complete",kf),this.stop()}),lf(this,"createEditableShape",kf=>new eL(kf,this.g,this.config,this.env)),this._isDrawing=!1,this._startOnSingleClick=!1}get isDrawing(){return this._isDrawing}}QO.identifier="polygon",QO.supports=yn=>{var go;const pf=yn.selector("SvgSelector");if(pf)return(go=pf.value)==null?void 0:go.match(/^<svg.*<polygon/g)};class tL extends qy{constructor(go,pf,mf){super(),lf(this,"listTools",()=>this._registered.map(kf=>kf.identifier)),lf(this,"registerTool",kf=>{const If=kf.identifier;this.listTools().includes(If)&&this.unregisterTool(If),this._registered.push(kf)}),lf(this,"unregisterTool",kf=>this._registered=this._registered.filter(If=>If.identifier!==kf)),lf(this,"setCurrent",kf=>{const If=typeof kf=="string"||kf instanceof String?this._registered.find(Hf=>Hf.identifier===kf):kf;this._current=new If(this._g,this._config,this._env),this._current.on("startSelection",Hf=>this.emit("startSelection",Hf)),this._current.on("complete",Hf=>this.emit("complete",Hf)),this._current.on("cancel",Hf=>this.emit("cancel",Hf))}),lf(this,"forAnnotation",kf=>{var If;const[Hf,...Zf]=kf.targets,rp=(If=Hf.renderedVia)==null?void 0:If.name,op=rp?this._registered.find(ep=>ep.identifier===rp):this._registered.find(ep=>ep.supports(kf));return op?new op(this._g,this._config,this._env):null}),this._g=go,this._config=pf,this._env=mf,this._registered=[TA,QO],this.setCurrent(TA)}get current(){return this._current}}class rL{constructor(go,pf,mf){this.svg=go.closest("svg"),this.g=document.createElementNS(zv,"g"),this.g.setAttribute("class","a9s-crosshair");const kf=document.createElementNS(zv,"line"),If=document.createElementNS(zv,"line");this.g.appendChild(kf),this.g.appendChild(If),go.appendChild(this.g);const Hf=Zf=>{const rp=this.svg.getBoundingClientRect(),op=Zf.clientX-rp.x,ep=Zf.clientY-rp.y,Bp=this.svg.createSVGPoint(),{left:Yp,top:Qp}=this.svg.getBoundingClientRect();return Bp.x=op+Yp,Bp.y=ep+Qp,Bp.matrixTransform(go.getScreenCTM().inverse())};this.svg.addEventListener("mousemove",Zf=>{const{x:rp,y:op}=Hf(Zf);kf.setAttribute("x1",0),kf.setAttribute("y1",op),kf.setAttribute("x2",pf),kf.setAttribute("y2",op),If.setAttribute("x1",rp),If.setAttribute("y1",0),If.setAttribute("x2",rp),If.setAttribute("y2",mf)})}}const iL={FragmentSelector:GO,SvgSelector:tP},nL={FragmentSelector:FI,SvgSelector:qI},iP=yn=>{const go=yn.targets[0];if(go)return Array.isArray(go.selector)?go.selector[0]:go.selector},eM=(yn,go)=>iL[iP(yn).type](yn,go),nP=(yn,go)=>nL[iP(yn).type](yn,go);function oL(yn,go,pf,mf,kf){oP(yn,go,pf||0,mf||yn.length-1,kf||sL)}function oP(yn,go,pf,mf,kf){for(;mf>pf;){if(mf-pf>600){var If=mf-pf+1,Hf=go-pf+1,Zf=Math.log(If),rp=.5*Math.exp(2*Zf/3),op=.5*Math.sqrt(Zf*rp*(If-rp)/If)*(Hf-If/2<0?-1:1),ep=Math.max(pf,Math.floor(go-Hf*rp/If+op)),Bp=Math.min(mf,Math.floor(go+(If-Hf)*rp/If+op));oP(yn,go,ep,Bp,kf)}var Yp=yn[go],Qp=pf,fg=mf;for(P2(yn,pf,go),kf(yn[mf],Yp)>0&&P2(yn,pf,mf);Qp<fg;){for(P2(yn,Qp,fg),Qp++,fg--;kf(yn[Qp],Yp)<0;)Qp++;for(;kf(yn[fg],Yp)>0;)fg--}kf(yn[pf],Yp)===0?P2(yn,pf,fg):(fg++,P2(yn,fg,mf)),fg<=go&&(pf=fg+1),go<=fg&&(mf=fg-1)}}function P2(yn,go,pf){var mf=yn[go];yn[go]=yn[pf],yn[pf]=mf}function sL(yn,go){return yn<go?-1:yn>go?1:0}class aL{constructor(go=9){this._maxEntries=Math.max(4,go),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(go){let pf=this.data;const mf=[];if(!OA(go,pf))return mf;const kf=this.toBBox,If=[];for(;pf;){for(let Hf=0;Hf<pf.children.length;Hf++){const Zf=pf.children[Hf],rp=pf.leaf?kf(Zf):Zf;OA(go,rp)&&(pf.leaf?mf.push(Zf):rM(go,rp)?this._all(Zf,mf):If.push(Zf))}pf=If.pop()}return mf}collides(go){let pf=this.data;if(!OA(go,pf))return!1;const mf=[];for(;pf;){for(let kf=0;kf<pf.children.length;kf++){const If=pf.children[kf],Hf=pf.leaf?this.toBBox(If):If;if(OA(go,Hf)){if(pf.leaf||rM(go,Hf))return!0;mf.push(If)}}pf=mf.pop()}return!1}load(go){if(!(go&&go.length))return this;if(go.length<this._minEntries){for(let mf=0;mf<go.length;mf++)this.insert(go[mf]);return this}let pf=this._build(go.slice(),0,go.length-1,0);if(!this.data.children.length)this.data=pf;else if(this.data.height===pf.height)this._splitRoot(this.data,pf);else{if(this.data.height<pf.height){const mf=this.data;this.data=pf,pf=mf}this._insert(pf,this.data.height-pf.height-1,!0)}return this}insert(go){return go&&this._insert(go,this.data.height-1),this}clear(){return this.data=yS([]),this}remove(go,pf){if(!go)return this;let mf=this.data;const kf=this.toBBox(go),If=[],Hf=[];let Zf,rp,op;for(;mf||If.length;){if(mf||(mf=If.pop(),rp=If[If.length-1],Zf=Hf.pop(),op=!0),mf.leaf){const ep=lL(go,mf.children,pf);if(ep!==-1)return mf.children.splice(ep,1),If.push(mf),this._condense(If),this}!op&&!mf.leaf&&rM(mf,kf)?(If.push(mf),Hf.push(Zf),Zf=0,rp=mf,mf=mf.children[0]):rp?(Zf++,mf=rp.children[Zf],op=!1):mf=null}return this}toBBox(go){return go}compareMinX(go,pf){return go.minX-pf.minX}compareMinY(go,pf){return go.minY-pf.minY}toJSON(){return this.data}fromJSON(go){return this.data=go,this}_all(go,pf){const mf=[];for(;go;)go.leaf?pf.push(...go.children):mf.push(...go.children),go=mf.pop();return pf}_build(go,pf,mf,kf){const If=mf-pf+1;let Hf=this._maxEntries,Zf;if(If<=Hf)return Zf=yS(go.slice(pf,mf+1)),vS(Zf,this.toBBox),Zf;kf||(kf=Math.ceil(Math.log(If)/Math.log(Hf)),Hf=Math.ceil(If/Math.pow(Hf,kf-1))),Zf=yS([]),Zf.leaf=!1,Zf.height=kf;const rp=Math.ceil(If/Hf),op=rp*Math.ceil(Math.sqrt(Hf));sP(go,pf,mf,op,this.compareMinX);for(let ep=pf;ep<=mf;ep+=op){const Bp=Math.min(ep+op-1,mf);sP(go,ep,Bp,rp,this.compareMinY);for(let Yp=ep;Yp<=Bp;Yp+=rp){const Qp=Math.min(Yp+rp-1,Bp);Zf.children.push(this._build(go,Yp,Qp,kf-1))}}return vS(Zf,this.toBBox),Zf}_chooseSubtree(go,pf,mf,kf){for(;kf.push(pf),!(pf.leaf||kf.length-1===mf);){let If=1/0,Hf=1/0,Zf;for(let rp=0;rp<pf.children.length;rp++){const op=pf.children[rp],ep=tM(op),Bp=hL(go,op)-ep;Bp<Hf?(Hf=Bp,If=ep<If?ep:If,Zf=op):Bp===Hf&&ep<If&&(If=ep,Zf=op)}pf=Zf||pf.children[0]}return pf}_insert(go,pf,mf){const kf=mf?go:this.toBBox(go),If=[],Hf=this._chooseSubtree(kf,this.data,pf,If);for(Hf.children.push(go),L2(Hf,kf);pf>=0&&If[pf].children.length>this._maxEntries;)this._split(If,pf),pf--;this._adjustParentBBoxes(kf,If,pf)}_split(go,pf){const mf=go[pf],kf=mf.children.length,If=this._minEntries;this._chooseSplitAxis(mf,If,kf);const Hf=this._chooseSplitIndex(mf,If,kf),Zf=yS(mf.children.splice(Hf,mf.children.length-Hf));Zf.height=mf.height,Zf.leaf=mf.leaf,vS(mf,this.toBBox),vS(Zf,this.toBBox),pf?go[pf-1].children.push(Zf):this._splitRoot(mf,Zf)}_splitRoot(go,pf){this.data=yS([go,pf]),this.data.height=go.height+1,this.data.leaf=!1,vS(this.data,this.toBBox)}_chooseSplitIndex(go,pf,mf){let kf,If=1/0,Hf=1/0;for(let Zf=pf;Zf<=mf-pf;Zf++){const rp=I2(go,0,Zf,this.toBBox),op=I2(go,Zf,mf,this.toBBox),ep=dL(rp,op),Bp=tM(rp)+tM(op);ep<If?(If=ep,kf=Zf,Hf=Bp<Hf?Bp:Hf):ep===If&&Bp<Hf&&(Hf=Bp,kf=Zf)}return kf||mf-pf}_chooseSplitAxis(go,pf,mf){const kf=go.leaf?this.compareMinX:uL,If=go.leaf?this.compareMinY:cL,Hf=this._allDistMargin(go,pf,mf,kf),Zf=this._allDistMargin(go,pf,mf,If);Hf<Zf&&go.children.sort(kf)}_allDistMargin(go,pf,mf,kf){go.children.sort(kf);const If=this.toBBox,Hf=I2(go,0,pf,If),Zf=I2(go,mf-pf,mf,If);let rp=AA(Hf)+AA(Zf);for(let op=pf;op<mf-pf;op++){const ep=go.children[op];L2(Hf,go.leaf?If(ep):ep),rp+=AA(Hf)}for(let op=mf-pf-1;op>=pf;op--){const ep=go.children[op];L2(Zf,go.leaf?If(ep):ep),rp+=AA(Zf)}return rp}_adjustParentBBoxes(go,pf,mf){for(let kf=mf;kf>=0;kf--)L2(pf[kf],go)}_condense(go){for(let pf=go.length-1,mf;pf>=0;pf--)go[pf].children.length===0?pf>0?(mf=go[pf-1].children,mf.splice(mf.indexOf(go[pf]),1)):this.clear():vS(go[pf],this.toBBox)}}function lL(yn,go,pf){if(!pf)return go.indexOf(yn);for(let mf=0;mf<go.length;mf++)if(pf(yn,go[mf]))return mf;return-1}function vS(yn,go){I2(yn,0,yn.children.length,go,yn)}function I2(yn,go,pf,mf,kf){kf||(kf=yS(null)),kf.minX=1/0,kf.minY=1/0,kf.maxX=-1/0,kf.maxY=-1/0;for(let If=go;If<pf;If++){const Hf=yn.children[If];L2(kf,yn.leaf?mf(Hf):Hf)}return kf}function L2(yn,go){return yn.minX=Math.min(yn.minX,go.minX),yn.minY=Math.min(yn.minY,go.minY),yn.maxX=Math.max(yn.maxX,go.maxX),yn.maxY=Math.max(yn.maxY,go.maxY),yn}function uL(yn,go){return yn.minX-go.minX}function cL(yn,go){return yn.minY-go.minY}function tM(yn){return(yn.maxX-yn.minX)*(yn.maxY-yn.minY)}function AA(yn){return yn.maxX-yn.minX+(yn.maxY-yn.minY)}function hL(yn,go){return(Math.max(go.maxX,yn.maxX)-Math.min(go.minX,yn.minX))*(Math.max(go.maxY,yn.maxY)-Math.min(go.minY,yn.minY))}function dL(yn,go){const pf=Math.max(yn.minX,go.minX),mf=Math.max(yn.minY,go.minY),kf=Math.min(yn.maxX,go.maxX),If=Math.min(yn.maxY,go.maxY);return Math.max(0,kf-pf)*Math.max(0,If-mf)}function rM(yn,go){return yn.minX<=go.minX&&yn.minY<=go.minY&&go.maxX<=yn.maxX&&go.maxY<=yn.maxY}function OA(yn,go){return go.minX<=yn.maxX&&go.minY<=yn.maxY&&go.maxX>=yn.minX&&go.maxY>=yn.minY}function yS(yn){return{children:yn,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function sP(yn,go,pf,mf,kf){const If=[go,pf];for(;If.length;){if(pf=If.pop(),go=If.pop(),pf-go<=mf)continue;const Hf=go+Math.ceil((pf-go)/mf/2)*mf;oL(yn,Hf,go,pf,kf),If.push(go,Hf,Hf,pf)}}const aP=yn=>{const go=eM(yn),pf=document.createElementNS(zv,"svg");pf.style.position="absolute",pf.style.opacity=0,pf.style.top=0,pf.style.left=0,pf.appendChild(go),document.body.appendChild(pf);const{x:mf,y:kf,width:If,height:Hf}=go.getBBox();return document.body.removeChild(pf),{minX:mf,minY:kf,maxX:mf+If,maxY:kf+Hf}};class fL{constructor(go){lf(this,"getAnnotationAt",(pf,mf,kf)=>{const If=kf?5/kf:5,Hf=this.spatial_index.search({minX:pf-If,minY:mf-If,maxX:pf+If,maxY:mf+If}).map(Zf=>Zf.annotation);if(Hf.length>0)return Hf.sort((Zf,rp)=>nP(Zf,this.env.image)-nP(rp,this.env.image)),Hf[0]}),lf(this,"getAnnotationsIntersecting",pf=>this.spatial_index.search(pf).map(mf=>mf.annotation)),lf(this,"insert",pf=>{(Array.isArray(pf)?pf:[pf]).forEach(mf=>{this.spatial_index.insert(mo(uo({},aP(mf)),{annotation:mf}))})}),lf(this,"remove",pf=>{const mf=mo(uo({},aP(pf)),{annotation:pf});this.spatial_index.remove(mf,(kf,If)=>kf.annotation.id===If.annotation.id)}),this.env=go,this.spatial_index=new aL}}const pL=(yn,go)=>{const pf=UO(go,".a9s-annotation")?go:go.querySelector(".a9s-annotation"),{canvas:mf}=yn.drawer,kf=mf.getBoundingClientRect(),If=mf.width/kf.width,Hf=mf.height/kf.height,Zf=pf.getBoundingClientRect(),rp=Zf.x-kf.x,op=Zf.y-kf.y,{width:ep,height:Bp}=Zf,Yp=document.createElement("CANVAS"),Qp=Yp.getContext("2d");Yp.width=ep,Yp.height=Bp,Qp.drawImage(mf,rp*If,op*Hf,ep*If,Bp*Hf,0,0,ep,Bp);const fg=yn.viewport.viewportToImageCoordinates(Zf.x,Zf.y),Sg=yn.viewport.viewportToImageZoom(yn.viewport.getZoom());return{snippet:Yp,transform:Cg=>{const Fg=fg.x+Cg[0]/If/Sg,Yg=fg.y+Cg[1]/Hf/Sg;return[Fg,Yg]}}},gL=YO();class lP extends qy{constructor(go){super(),lf(this,"_getShapeAt",mf=>{const kf=rp=>{const op=this.svg.createSVGPoint();if(window.TouchEvent&&rp instanceof TouchEvent){const ep=this.svg.getBoundingClientRect(),Bp=rp.touches[0],Yp=Bp.clientX-ep.x,Qp=Bp.clientY-ep.y,{left:fg,top:Sg}=this.svg.getBoundingClientRect();return op.x=Yp+fg,op.y=Qp+Sg,op.matrixTransform(this.g.getScreenCTM().inverse())}else return op.x=rp.offsetX,op.y=rp.offsetY,op.matrixTransform(this.g.getCTM().inverse())},{x:If,y:Hf}=kf(mf),Zf=this.store.getAnnotationAt(If,Hf,this.currentScale());if(Zf)return this.findShape(Zf)}),lf(this,"_initDrawingTools",mf=>{this.tools=new tL(this.g,this.config,this.env),this.tools.on("complete",this.onDrawingComplete);let kf=!1;this.mouseTracker=new wf.default.MouseTracker({element:this.svg,pressHandler:If=>{this.tools.current.isDrawing||(this.tools.current.start(If.originalEvent,this.drawOnSingleClick&&!this.hoveredShape),mf||this.scaleTool(this.tools.current))},moveHandler:If=>{if(this.tools.current.isDrawing){const{x:Hf,y:Zf}=this.tools.current.getSVGPoint(If.originalEvent);this.tools.current.onMouseMove(Hf,Zf,If.originalEvent),kf||(this.emit("startSelection",{x:Hf,y:Zf}),kf=!0)}},releaseHandler:If=>{if(this.tools.current.isDrawing){const{x:Hf,y:Zf}=this.tools.current.getSVGPoint(If.originalEvent);this.tools.current.onMouseUp(Hf,Zf,If.originalEvent)}kf=!1}}).setTracking(!1),this.onKeyDown&&document.removeEventListener("keydown",this.onKeyDown),this.onKeyUp&&document.removeEventListener("keydown",this.onKeyDown),this.onKeyDown=If=>{If.which===16&&!this.selectedShape&&this.mouseTracker.setTracking(!this.readOnly)},this.onKeyUp=If=>{If.which===16&&!this.tools.current.isDrawing&&this.mouseTracker.setTracking(!1)},document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp)}),lf(this,"_initMouseEvents",()=>{let mf=this.viewer.gestureSettingsByDeviceType("mouse").clickToZoom;this.svg.addEventListener("mousemove",Hf=>{var Zf,rp;if(!((Zf=this.tools)!=null&&Zf.current.isDrawing)&&!Hf.target.closest(".a9s-annotation.editable.selected")){const op=this._getShapeAt(Hf);if((op==null?void 0:op.annotation)!==((rp=this.hoveredShape)==null?void 0:rp.annotation)){if(this.hoveredShape){this.viewer.gestureSettingsByDeviceType("mouse").clickToZoom=mf;const ep=this.hoveredShape.element||this.hoveredShape;NI(ep,"hover"),this.emit("mouseLeaveAnnotation",this.hoveredShape.annotation,this.hoveredShape)}op&&(mf=this.viewer.gestureSettingsByDeviceType("mouse").clickToZoom,this.viewer.gestureSettingsByDeviceType("mouse").clickToZoom=!1,mk(op,"hover"),this.emit("mouseEnterAnnotation",op.annotation,op))}this.hoveredShape=op}});let kf=null;new wf.default.MouseTracker({element:this.viewer.canvas,pressHandler:()=>{kf=new Date().getTime()}}),this.svg.addEventListener("mousedown",()=>{kf=new Date().getTime()});const If=Hf=>{var Zf;if(!((Zf=this.tools.current)!=null&&Zf.isDrawing||this.disableSelect)&&new Date().getTime()-kf<250){const rp=Hf.target.closest(".a9s-annotation.editable.selected")?this.selectedShape:this._getShapeAt(Hf);rp?this.selectShape(rp):rp||(this.deselect(),this.emit("select",{}))}this.disableSelect&&this.emit("clickAnnotation",this.hoveredShape.annotation,this.hoveredShape)};this.svg.addEventListener("click",If),this.svg.addEventListener("touchstart",If)}),lf(this,"_refreshNonScalingAnnotations",()=>{const mf=this.currentScale();Array.from(this.svg.querySelectorAll(".a9s-non-scaling")).forEach(kf=>kf.setAttribute("transform",`scale(${1/mf})`))}),lf(this,"addAnnotation",(mf,kf)=>{const If=kf||this.g,Hf=eM(mf,this.env.image);return mk(Hf,"a9s-annotation"),Hf.setAttribute("data-id",mf.id),Hf.annotation=mf,If.appendChild(Hf),SA(Hf,mf,this.formatter),this.scaleFormatterElements(Hf),Hf}),lf(this,"addDrawingTool",mf=>this.tools.registerTool(mf)),lf(this,"addOrUpdateAnnotation",(mf,kf)=>{var If,Hf;(((If=this.selectedShape)==null?void 0:If.annotation)===mf||((Hf=this.selectedShape)==null?void 0:Hf.annotation)==kf)&&this.deselect(),kf&&this.removeAnnotation(mf),this.removeAnnotation(mf);const Zf=this.addAnnotation(mf);UO(Zf,"a9s-non-scaling")&&Zf.setAttribute("transform",`scale(${1/this.currentScale()})`),this.store.insert(mf)}),lf(this,"currentScale",()=>{const mf=this.viewer.viewport.getContainerSize().x;return this.viewer.viewport.getZoom(!0)*mf/this.viewer.world.getContentFactor()}),lf(this,"deselect",()=>{var mf;if((mf=this.tools)==null||mf.current.stop(),this.selectedShape){const{annotation:kf}=this.selectedShape;if(this.selectedShape.destroy&&(this.selectedShape.mouseTracker.destroy(),this.selectedShape.destroy(),!kf.isSelection)){const If=this.addAnnotation(kf);UO(If,"a9s-non-scaling")&&If.setAttribute("transform",`scale(${1/this.currentScale()})`)}this.selectedShape=null}}),lf(this,"destroy",()=>{this.deselect(),this.svg.parentNode.removeChild(this.svg)}),lf(this,"findShape",mf=>{const kf=mf!=null&&mf.id?mf.id:mf;return this.g.querySelector(`.a9s-annotation[data-id="${kf}"]`)}),lf(this,"fitBounds",(mf,kf)=>{const If=this.findShape(mf);if(If){const{x:Hf,y:Zf,width:rp,height:op}=If.getBBox(),ep=this.viewer.viewport.imageToViewportRectangle(Hf,Zf,rp,op);this.viewer.viewport.fitBounds(ep,kf)}}),lf(this,"getAnnotations",()=>Array.from(this.g.querySelectorAll(".a9s-annotation")).map(mf=>mf.annotation)),lf(this,"getSelectedImageSnippet",()=>{var mf;if(this.selectedShape){const kf=(mf=this.selectedShape.element)!=null?mf:this.selectedShape;return pL(this.viewer,kf)}}),lf(this,"init",mf=>{this.deselect(),Array.from(this.g.querySelectorAll(".a9s-annotation")).forEach(kf=>this.g.removeChild(kf)),console.time("Took"),console.log("Drawing..."),this.loaded||(this.g.style.display="none"),mf.forEach(kf=>this.addAnnotation(kf)),console.log("Indexing..."),this.store.insert(mf),console.timeEnd("Took"),this.resize()}),lf(this,"listDrawingTools",()=>this.tools.listTools()),lf(this,"overrideId",(mf,kf)=>{const If=this.findShape(mf);If.setAttribute("data-id",kf);const{annotation:Hf}=If,Zf=Hf.clone({id:kf});return If.annotation=Zf,this.store.remove(Hf),this.store.insert(Zf),Zf}),lf(this,"panTo",(mf,kf)=>{const If=this.findShape(mf);if(If){const{top:Hf,left:Zf,width:rp,height:op}=If.getBoundingClientRect(),ep=Zf+rp/2+window.scrollX,Bp=Hf+op/2+window.scrollY,Yp=this.viewer.viewport.windowToViewportCoordinates(new wf.default.Point(ep,Bp));this.viewer.viewport.panTo(Yp,kf)}}),lf(this,"removeAnnotation",mf=>{var kf,If;const Hf=mf.type?mf.id:mf;((kf=this.selectedShape)==null?void 0:kf.annotation.id)===Hf&&this.deselect();const Zf=this.findShape(mf);if(Zf){const{annotation:rp}=Zf;((If=this.selectedShape)==null?void 0:If.annotation)===rp&&this.deselect(),Zf.parentNode.removeChild(Zf),this.store.remove(rp)}}),lf(this,"removeDrawingTool",mf=>{var kf;return(kf=this.tools)==null?void 0:kf.unregisterTool(mf)}),lf(this,"scaleFormatterElements",mf=>{const kf=1/this.currentScale();if(mf){const If=mf.querySelector(".a9s-formatter-el");If&&If.firstChild.setAttribute("transform",`scale(${kf})`)}else Array.from(this.g.querySelectorAll(".a9s-formatter-el")).forEach(If=>If.firstChild.setAttribute("transform",`scale(${kf})`))}),lf(this,"scaleTool",mf=>{if(mf){const kf=1/this.currentScale();mf.scale=kf,mf.onScaleChanged&&mf.onScaleChanged(kf)}}),lf(this,"selectAnnotation",(mf,kf)=>{this.selectedShape&&this.deselect();const If=this.findShape(mf);if(If){this.selectShape(If,kf);const Hf=this.selectedShape.element?this.selectedShape.element:this.selectedShape;return{annotation:If.annotation,element:Hf}}else this.deselect()}),lf(this,"selectShape",(mf,kf)=>{var If;if(!kf&&!mf.annotation.isSelection&&this.emit("clickAnnotation",mf.annotation,mf),((If=this.selectedShape)==null?void 0:If.annotation)===mf.annotation)return;this.selectedShape&&this.selectedShape.annotation!==mf.annotation&&this.deselect();const{annotation:Hf}=mf;if(this.readOnly||Hf.readOnly||this.headless)this.selectedShape=mf,kf||this.emit("select",{annotation:Hf,element:mf,skipEvent:kf});else{const Zf=this.tools.forAnnotation(Hf);if(Zf){setTimeout(()=>{mf.parentNode.removeChild(mf),kf||this.emit("select",{annotation:Hf,element:this.selectedShape.element})},1),this.selectedShape=Zf.createEditableShape(Hf),this.scaleTool(this.selectedShape),this.scaleFormatterElements(this.selectedShape.element),this.selectedShape.element.annotation=Hf;const rp=new wf.default.MouseTracker({element:this.svg}).setTracking(!0);this.selectedShape.element.addEventListener("mouseenter",()=>{this.hoveredShape=this.selectedShape,rp.setTracking(!0)}),this.selectedShape.element.addEventListener("mouseleave",()=>{this.hoveredShape=null,rp.setTracking(!1)}),this.selectedShape.mouseTracker=rp,this.selectedShape.on("update",op=>this.emit("updateTarget",this.selectedShape.element,op))}else this.selectedShape=mf,kf||this.emit("select",{annotation:Hf,element:this.selectedShape})}}),lf(this,"setDrawingEnabled",mf=>{var kf;return(kf=this.mouseTracker)==null?void 0:kf.setTracking(mf&&!this.readOnly)}),lf(this,"setDrawingTool",mf=>{var kf;this.tools&&((kf=this.tools.current)==null||kf.stop(),this.tools.setCurrent(mf))}),lf(this,"setVisible",mf=>{mf?this.svg.style.display=null:(this.deselect(),this.svg.style.display="none")}),lf(this,"stopDrawing",()=>{var mf,kf;return(kf=(mf=this.tools)==null?void 0:mf.current)==null?void 0:kf.stop()}),this.viewer=go.viewer,this.config=go.config,this.env=go.env,this.readOnly=go.config.readOnly,this.headless=go.config.headless,this.formatter=go.config.formatter,this.disableSelect=go.disableSelect,this.drawOnSingleClick=go.config.drawOnSingleClick,this.svg=document.createElementNS(zv,"svg"),gL?(this.svg.setAttribute("class","a9s-annotationlayer a9s-osd-annotationlayer touch"),HI(this.svg)):this.svg.setAttribute("class","a9s-annotationlayer a9s-osd-annotationlayer"),this.g=document.createElementNS(zv,"g"),this.svg.appendChild(this.g),this.viewer.canvas.appendChild(this.svg),this.viewer.addHandler("animation",()=>this.resize()),this.viewer.addHandler("rotate",()=>this.resize()),this.viewer.addHandler("resize",()=>this.resize()),this.viewer.addHandler("flip",()=>this.resize()),this.loaded=!1;const pf=()=>{const{x:mf,y:kf}=this.viewer.world.getItemAt(0).source.dimensions;this.env.image={src:this.viewer.world.getItemAt(0).source["@id"]||new URL(this.viewer.world.getItemAt(0).source.url,document.baseURI).href,naturalWidth:mf,naturalHeight:kf},go.config.crosshair&&(this.crosshair=new rL(this.g,mf,kf),mk(this.svg,"has-crosshair")),this.loaded=!0,this.g.style.display="inline",this.resize()};this.viewer.addHandler("open",pf),this.viewer.world.addHandler("add-item",pf),this.viewer.world.getItemAt(0)&&pf(),this.store=new fL(this.env),this.selectedShape=null,this.hoveredShape=null,this._initMouseEvents()}resize(){var go;const pf=this.viewer.viewport.getFlip(),mf=this.viewer.viewport.pixelFromPoint(new wf.default.Point(0,0),!0);pf&&(mf.x=this.viewer.viewport._containerInnerSize.x-mf.x);const kf=this.currentScale(),If=pf?-kf:kf,Hf=this.viewer.viewport.getRotation();this.g.setAttribute("transform",`translate(${mf.x}, ${mf.y}) scale(${If}, ${kf}) rotate(${Hf})`),this._refreshNonScalingAnnotations(),this.scaleFormatterElements(),this.selectedShape&&(this.selectedShape.element?(this.scaleTool(this.selectedShape),this.emit("viewportChange",this.selectedShape.element)):this.emit("viewportChange",this.selectedShape)),(go=this.tools)!=null&&go.current.isDrawing&&this.scaleTool(this.tools.current)}}class mL extends lP{constructor(go){super(go),lf(this,"onDrawingComplete",pf=>{this.selectShape(pf),this.emit("createSelection",pf.annotation),this.mouseTracker.setTracking(!1)}),this._initDrawingTools()}}const iM=yn=>{const go=yn.viewport.viewportToImageRectangle(yn.viewport.getBounds(!0)),pf=yn.viewport.getContainerSize().x,mf=yn.viewport.getZoom(!0)*pf/yn.world.getContentFactor();return{extent:go,scale:mf}},vL=yn=>{var go;const pf=yn.targets[0];return pf?Array.isArray(pf.selector)?pf.selector[0].type:(go=pf.selector)==null?void 0:go.type:null},uP=(yn,go)=>{const{extent:pf,scale:mf}=iM(yn),{selector:kf}=go,If=mC.create({target:go});if(kf.type==="SvgSelector"){const Hf=mS(If),Zf=Hf.nodeName.toLowerCase();let rp=null;if(Zf==="polygon")rp=yL(Hf,pf,mf);else if(Zf==="circle")rp=bL(Hf,pf,mf);else if(Zf==="ellipse")rp=wL(Hf,pf,mf);else if(Zf==="path")rp=_L(Hf,pf,mf);else throw`Unsupported SVG shape type: ${Zf}`;let op=rp.outerHTML||new XMLSerializer().serializeToString(rp);return op=op.replace(` xmlns="${zv}"`,""),mo(uo({},go),{selector:{type:"SvgSelector",value:`<svg>${op}</svg>`}})}else if(kf.type==="FragmentSelector"){const{x:Hf,y:Zf,w:rp,h:op}=vC(If),ep=pf.x+Hf/mf,Bp=pf.y+Zf/mf,Yp=rp/mf,Qp=op/mf;return M2(ep,Bp,Yp,Qp)}else throw`Unsupported selector type: ${kf.type}`},yL=(yn,go,pf)=>{const mf=Array.from(yn.points).map(kf=>{const If=go.x+kf.x/pf,Hf=go.y+kf.y/pf;return If+","+Hf}).join(" ");return yn.setAttribute("points",mf),yn},bL=(yn,go,pf)=>{const mf=parseFloat(yn.getAttribute("cx")),kf=parseFloat(yn.getAttribute("cy")),If=parseFloat(yn.getAttribute("r"));return yn.setAttribute("cx",go.x+mf/pf),yn.setAttribute("cy",go.y+kf/pf),yn.setAttribute("r",If/pf),yn},wL=(yn,go,pf)=>{const mf=parseFloat(yn.getAttribute("cx")),kf=parseFloat(yn.getAttribute("cy")),If=parseFloat(yn.getAttribute("rx")),Hf=parseFloat(yn.getAttribute("ry"));return yn.setAttribute("cx",go.x+mf/pf),yn.setAttribute("cy",go.y+kf/pf),yn.setAttribute("rx",If/pf),yn.setAttribute("ry",Hf/pf),yn},_L=(yn,go,pf)=>{const mf=yn.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(kf=>kf.trim()).map(kf=>{const If=kf.substring(0,1);if(If.toLowerCase()==="z")return If;{const Hf=kf.substring(1).split(" ").map(ep=>parseFloat(ep.trim())),Zf=If===If.toUpperCase(),rp=Zf?go.x+Hf[0]/pf:Hf[0]/pf,op=Zf?go.y+Hf[1]/pf:Hf[1]/pf;return If+" "+rp+" "+op}}).join(" ");return yn.setAttribute("d",mf),yn},cP=(yn,go)=>{const{extent:pf,scale:mf}=iM(yn),kf=go.selector("FragmentSelector");if(go.selector("SvgSelector")){const If=mS(go),Hf=If.nodeName.toLowerCase();let Zf=null;if(Hf==="polygon")Zf=xL(If,pf,mf);else if(Hf==="circle")Zf=EL(If,pf,mf);else if(Hf==="ellipse")Zf=kL(If,pf,mf);else if(Hf==="path")Zf=CL(If,pf,mf);else throw`Unsupported SVG shape type: ${Hf}`;let rp=Zf.outerHTML||new XMLSerializer().serializeToString(Zf);rp=rp.replace(` xmlns="${zv}"`,"");const op={selector:{type:"SvgSelector",value:`<svg>${rp}</svg>`}};return go.clone({target:op})}else if(kf){const{x:If,y:Hf,w:Zf,h:rp}=vC(go),op=(If-pf.x)*mf,ep=(Hf-pf.y)*mf,Bp=M2(op,ep,Zf*mf,rp*mf);return go.clone({target:Bp})}},xL=(yn,go,pf)=>{const mf=Array.from(yn.points).map(kf=>{const If=pf*(kf.x-go.x),Hf=pf*(kf.y-go.y);return If+","+Hf}).join(" ");return yn.setAttribute("points",mf),yn},EL=(yn,go,pf)=>{const mf=yn.getAttribute("cx"),kf=yn.getAttribute("cy"),If=yn.getAttribute("r");return yn.setAttribute("cx",pf*(mf-go.x)),yn.setAttribute("cy",pf*(kf-go.y)),yn.setAttribute("r",If*pf),yn},kL=(yn,go,pf)=>{const mf=yn.getAttribute("cx"),kf=yn.getAttribute("cy"),If=yn.getAttribute("rx"),Hf=yn.getAttribute("ry");return yn.setAttribute("cx",pf*(mf-go.x)),yn.setAttribute("cy",pf*(kf-go.y)),yn.setAttribute("rx",If*pf),yn.setAttribute("ry",Hf*pf),yn},CL=(yn,go,pf)=>{const mf=yn.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(kf=>kf.trim()).map(kf=>{const If=kf.substring(0,1);if(If.toLowerCase()==="z")return If;{const Hf=kf.substring(1).split(" ").filter(ep=>ep).map(ep=>parseFloat(ep.trim())),Zf=If===If.toUpperCase(),rp=Zf?pf*(Hf[0]-go.x):pf*Hf[0],op=Zf?pf*(Hf[1]-go.y):pf*Hf[1];return If+" "+rp+" "+op}}).join(" ");return yn.setAttribute("d",mf),yn},hP=(yn,go)=>{const{extent:pf,scale:mf}=iM(yn),kf=vL(go.annotation);if(kf==="FragmentSelector")SL(go,pf,mf);else if(kf==="SvgSelector")TL(go,pf,mf);else throw`Unsupported selector type type: ${kf}`},SL=(yn,go,pf)=>{const{x:mf,y:kf,w:If,h:Hf}=vC(yn.annotation),Zf=yn.querySelector(".a9s-outer"),rp=yn.querySelector(".a9s-inner"),op=pf*(mf-go.x),ep=pf*(kf-go.y);If===0&&Hf===0?[Zf,rp].forEach(Bp=>{Bp.setAttribute("cx",op),Bp.setAttribute("cy",ep)}):[Zf,rp].forEach(Bp=>{Bp.setAttribute("x",op),Bp.setAttribute("y",ep),Bp.setAttribute("width",If*pf),Bp.setAttribute("height",Hf*pf)})},TL=(yn,go,pf)=>{const mf=mS(yn.annotation),kf=mf.nodeName.toLowerCase();if(kf==="polygon")AL(yn,mf,go,pf);else if(kf==="circle")OL(yn,mf,go,pf);else if(kf==="ellipse")ML(yn,mf,go,pf);else if(kf==="path")PL(yn,mf,go,pf);else throw`Unsupported SVG shape type: ${kf}`},AL=(yn,go,pf,mf)=>{const kf=Array.from(go.points).map(If=>{const Hf=mf*(If.x-pf.x),Zf=mf*(If.y-pf.y);return Hf+","+Zf}).join(" ");yn.querySelector(".a9s-outer").setAttribute("points",kf),yn.querySelector(".a9s-inner").setAttribute("points",kf)},OL=(yn,go,pf,mf)=>{const kf=mf*(go.getAttribute("cx")-pf.x),If=mf*(go.getAttribute("cy")-pf.y),Hf=mf*go.getAttribute("r"),Zf=yn.querySelector(".a9s-outer");Zf.setAttribute("cx",kf),Zf.setAttribute("cy",If),Zf.setAttribute("r",Hf);const rp=yn.querySelector(".a9s-inner");rp.setAttribute("cx",kf),rp.setAttribute("cy",If),rp.setAttribute("r",Hf)},ML=(yn,go,pf,mf)=>{const kf=mf*(go.getAttribute("cx")-pf.x),If=mf*(go.getAttribute("cy")-pf.y),Hf=mf*go.getAttribute("rx"),Zf=mf*go.getAttribute("ry"),rp=yn.querySelector(".a9s-outer");rp.setAttribute("cx",kf),rp.setAttribute("cy",If),rp.setAttribute("rx",Hf),rp.setAttribute("ry",Zf);const op=yn.querySelector(".a9s-inner");op.setAttribute("cx",kf),op.setAttribute("cy",If),op.setAttribute("rx",Hf),op.setAttribute("ry",Zf)},PL=(yn,go,pf,mf)=>{const kf=go.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(If=>If.trim()).map(If=>{const Hf=If.substring(0,1);if(Hf.toLowerCase()==="z")return Hf;{const Zf=If.substring(1).split(" ").filter(Bp=>Bp).map(Bp=>parseFloat(Bp.trim())),rp=Hf===Hf.toUpperCase(),op=rp?mf*(Zf[0]-pf.x):mf*Zf[0],ep=rp?mf*(Zf[1]-pf.y):mf*Zf[1];return Hf+" "+op+" "+ep}}).join(" ");yn.querySelector(".a9s-inner").setAttribute("d",kf),yn.querySelector(".a9s-outer").setAttribute("d",kf)},IL=YO();class LL extends lP{constructor(go){super(go),lf(this,"onDrawingComplete",pf=>{const mf=pf.annotation.clone({target:uP(this.viewer,pf.annotation.target)});pf.annotation=mf,this.selectShape(pf),this.emit("createSelection",pf.annotation),this.mouseTracker.setTracking(!1)}),lf(this,"addAnnotation",(pf,mf)=>{const kf=mf||this.g,If=eM(pf,this.env.image);return mk(If,"a9s-annotation"),If.setAttribute("data-id",pf.id),If.annotation=pf,hP(this.viewer,If),kf.appendChild(If),SA(If,pf,this.formatter),If}),lf(this,"_getShapeAt",pf=>{const mf=rp=>{if(IL){const op=this.svg.getBoundingClientRect(),ep=rp.clientX-op.x,Bp=rp.clientY-op.y;return new wf.default.Point(ep,Bp)}else return new wf.default.Point(rp.offsetX,rp.offsetY)},kf=this.viewer.viewport.viewerElementToViewportCoordinates(mf(pf)),{x:If,y:Hf}=this.viewer.viewport.viewportToImageCoordinates(kf.x,kf.y),Zf=this.store.getAnnotationAt(If,Hf,this.currentScale());if(Zf)return this.findShape(Zf)}),lf(this,"selectShape",(pf,mf)=>{var kf;if(!mf&&!pf.annotation.isSelection&&this.emit("clickAnnotation",pf.annotation,pf),((kf=this.selectedShape)==null?void 0:kf.annotation)===pf.annotation)return;this.selectedShape&&this.selectedShape.annotation!==pf.annotation&&this.deselect(!0);const{annotation:If}=pf;if(this.readOnly||If.readOnly||this.headless)this.selectedShape=pf,mf||this.emit("select",{annotation:If,element:pf,skipEvent:mf});else{setTimeout(()=>{pf.parentNode.removeChild(pf),mf||this.emit("select",{annotation:If,element:this.selectedShape.element})},1);const Hf=this.tools.forAnnotation(If);this.selectedShape=Hf.createEditableShape(If),this.selectedShape.element.annotation=If;const Zf=cP(this.viewer,If);this.selectedShape.updateState(Zf);const rp=new wf.default.MouseTracker({element:this.svg}).setTracking(!0);this.selectedShape.element.addEventListener("mouseenter",op=>rp.setTracking(!0)),this.selectedShape.element.addEventListener("mouseleave",op=>rp.setTracking(!1)),this.selectedShape.mouseTracker=rp,this.selectedShape.on("update",op=>{const ep=uP(this.viewer,op);this.selectedShape.element.annotation=this.selectedShape.annotation.clone({target:ep}),this.emit("updateTarget",this.selectedShape.element,ep)})}}),this._initDrawingTools(!0)}resize(){const go=this.viewer.viewport.getBounds(!0),{x:pf,y:mf,width:kf,height:If}=this.viewer.viewport.viewportToImageRectangle(go),Hf={minX:pf,minY:mf,maxX:pf+kf,maxY:mf+If},Zf=new Set(this.store.getAnnotationsIntersecting(Hf).map(rp=>rp.id));if(Zf.size>0&&Array.from(this.g.querySelectorAll(".a9s-annotation:not(.selected)")).forEach(rp=>{Zf.has(rp.annotation.id)?(rp.removeAttribute("visibility"),hP(this.viewer,rp)):rp.hasAttribute("visibility")||rp.setAttribute("visibility","hidden")}),this.selectedShape)if(this.selectedShape.element){const rp=cP(this.viewer,this.selectedShape.element.annotation);this.selectedShape.updateState&&this.selectedShape.updateState(rp),this.emit("viewportChange",this.selectedShape.element)}else this.emit("viewportChange",this.selectedShape)}}class RL extends $f{constructor(go){super(go),lf(this,"clearState",pf=>this.setState({selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null,beforeHeadlessModify:null},pf)),lf(this,"forwardEvent",(pf,mf)=>{this.annotationLayer.on(pf,(kf,If)=>{this.props[mf](kf.clone(),If)})}),lf(this,"escapeKeyCancel",pf=>{if(pf.which===27){this.annotationLayer.stopDrawing();const{selectedAnnotation:mf}=this.state;mf&&(this.cancelSelected(),this.props.onCancelSelected(mf))}}),lf(this,"handleStartSelect",pf=>this.props.onSelectionStarted(pf)),lf(this,"handleSelect",(pf,mf)=>{this.state.editorDisabled?this.onHeadlessSelect(pf,mf):this.onNormalSelect(pf,mf)}),lf(this,"onNormalSelect",(pf,mf)=>{const{annotation:kf,element:If}=pf;if(kf){const Hf=()=>{this.setState({selectedAnnotation:kf,selectedDOMElement:If,modifiedTarget:null},()=>{mf||(kf.isSelection?this.props.onSelectionCreated(kf.clone()):this.props.onAnnotationSelected(kf.clone(),If))})},{selectedAnnotation:Zf}=this.state;Zf&&!Zf.isEqual(kf)?this.clearState(()=>{this.props.onCancelSelected(Zf),Hf()}):Hf()}else{const{selectedAnnotation:Hf}=this.state;Hf?this.clearState(()=>this.props.onCancelSelected(Hf)):this.clearState()}}),lf(this,"onHeadlessSelect",(pf,mf)=>{this.saveSelected().then(()=>{this.onNormalSelect(pf,mf)})}),lf(this,"handleUpdateTarget",(pf,mf)=>{this.setState({selectedDOMElement:pf,modifiedTarget:mf});const kf=JSON.parse(JSON.stringify(mf));this.props.onSelectionTargetChanged(kf)}),lf(this,"handleViewportChange",pf=>this.setState({selectedDOMElement:pf})),lf(this,"overrideAnnotationId",pf=>mf=>{const{id:kf}=pf;this.state.selectedAnnotation?this.setState({selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null},()=>{this.annotationLayer.overrideId(kf,mf)}):this.annotationLayer.overrideId(kf,mf)}),lf(this,"onCreateOrUpdateAnnotation",(pf,mf)=>(kf,If)=>{let Hf=kf.isSelection?kf.toAnnotation():kf;Hf=this.state.modifiedTarget?Hf.clone({target:this.state.modifiedTarget}):Hf.clone(),this.clearState(()=>{this.annotationLayer.deselect(),this.annotationLayer.addOrUpdateAnnotation(Hf,If),If?this.props[pf](Hf,If.clone()):this.props[pf](Hf,this.overrideAnnotationId(kf)),mf&&mf()})}),lf(this,"onDeleteAnnotation",pf=>{this.clearState(),this.annotationLayer.removeAnnotation(pf),this.props.onAnnotationDeleted(pf)}),lf(this,"onCancelAnnotation",(pf,mf)=>{this.state.editorDisabled||this.annotationLayer.deselect(),this.props.onCancelSelected(pf),this.clearState(mf)}),lf(this,"addAnnotation",pf=>{var mf;pf.id===((mf=this.state.selectedAnnotation)==null?void 0:mf.id)&&(this.annotationLayer.deselect(),this.clearState()),this.annotationLayer.addOrUpdateAnnotation(pf.clone())}),lf(this,"addDrawingTool",pf=>this.annotationLayer.addDrawingTool(pf)),lf(this,"cancelSelected",()=>new Promise(pf=>{this.annotationLayer.deselect(),this.state.selectedAnnotation?this.clearState(pf):pf()})),lf(this,"fitBounds",(pf,mf)=>this.annotationLayer.fitBounds(pf,mf)),lf(this,"getAnnotationById",pf=>{var mf;return(mf=this.annotationLayer.findShape(pf))==null?void 0:mf.annotation}),lf(this,"getAnnotations",()=>this.annotationLayer.getAnnotations().map(pf=>pf.clone())),lf(this,"getSelected",()=>{var pf;if(this.state.selectedAnnotation)return this.state.editorDisabled?this.state.selectedAnnotation:(pf=this._editor.current)==null?void 0:pf.getCurrentAnnotation()}),lf(this,"getSelectedImageSnippet",()=>this.annotationLayer.getSelectedImageSnippet()),lf(this,"listDrawingTools",()=>this.annotationLayer.listDrawingTools()),lf(this,"panTo",(pf,mf)=>this.annotationLayer.panTo(pf,mf)),lf(this,"removeAnnotation",pf=>this.annotationLayer.removeAnnotation(pf)),lf(this,"removeDrawingTool",pf=>this.annotationLayer.removeDrawingTool(pf)),lf(this,"saveSelected",()=>new Promise(pf=>{const mf=this.state.selectedAnnotation;if(mf)if(mf.isSelection)mf.bodies.length>0||this.props.config.allowEmpty?this.onCreateOrUpdateAnnotation("onAnnotationCreated",pf)(mf,mf):(this.annotationLayer.deselect(),pf());else{const{beforeHeadlessModify:kf,modifiedTarget:If}=this.state;kf?this.onCreateOrUpdateAnnotation("onAnnotationUpdated",pf)(mf,kf):If?this.onCreateOrUpdateAnnotation("onAnnotationUpdated",pf)(mf,mf):this.onCancelAnnotation(mf,pf)}else pf()})),lf(this,"selectAnnotation",pf=>{const mf=this.annotationLayer.selectAnnotation(pf,!0);if(mf)return this.handleSelect(mf,!0),mf.annotation.clone();this.clearState()}),lf(this,"setAnnotations",pf=>this.annotationLayer.init(pf.map(mf=>mf.clone()))),lf(this,"setDrawingEnabled",pf=>this.annotationLayer.setDrawingEnabled(pf)),lf(this,"setDrawingTool",pf=>this.annotationLayer.setDrawingTool(pf)),lf(this,"setVisible",pf=>{this.annotationLayer.setVisible(pf),pf||this.clearState()}),lf(this,"updateSelected",(pf,mf)=>new Promise(kf=>{this.state.selectedAnnotation&&(mf?this.state.selectedAnnotation.isSelection?this.onCreateOrUpdateAnnotation("onAnnotationCreated",kf)(pf):this.onCreateOrUpdateAnnotation("onAnnotationUpdated",kf)(pf,this.state.selectedAnnotation):this.setState({selectedAnnotation:pf,beforeHeadlessModify:this.state.beforeHeadlessModify||this.state.selectedAnnotation},kf))})),this.state={selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null,readOnly:go.config.readOnly,editorDisabled:go.config.disableEditor,widgets:go.config.widgets,beforeHeadlessModify:null},this._editor=nm.createRef()}componentDidMount(){this.annotationLayer=this.props.config.gigapixelMode?new LL(this.props):new mL(this.props),this.annotationLayer.on("startSelection",this.handleStartSelect),this.annotationLayer.on("select",this.handleSelect),this.annotationLayer.on("updateTarget",this.handleUpdateTarget),this.annotationLayer.on("viewportChange",this.handleViewportChange),this.forwardEvent("mouseEnterAnnotation","onMouseEnterAnnotation"),this.forwardEvent("mouseLeaveAnnotation","onMouseLeaveAnnotation"),this.forwardEvent("clickAnnotation","onClickAnnotation"),document.addEventListener("keyup",this.escapeKeyCancel)}componentWillUnmount(){this.annotationLayer.destroy(),document.removeEventListener("keyup",this.escapeKeyCancel)}get disableEditor(){return this.state.editorDisabled}set disableEditor(go){this.setState({editorDisabled:go},()=>{go?document.addEventListener("keyup",this.escapeKeyCancel):document.removeEventListener("keyup",this.escapeKeyCancel)})}get disableSelect(){return this.annotationLayer.disableSelect}set disableSelect(go){this.annotationLayer.disableSelect=go}get readOnly(){return this.state.readOnly}set readOnly(go){this.annotationLayer.readOnly=go,this.setState({readOnly:go})}get widgets(){return this.state.widgets}set widgets(go){this.setState({widgets:go})}render(){var go;const pf=this.state.selectedAnnotation&&!this.state.editorDisabled,mf=this.state.readOnly||((go=this.state.selectedAnnotation)==null?void 0:go.readOnly);return pf&&Pf(TI,{ref:this._editor,detachable:!0,wrapperEl:this.props.wrapperEl,annotation:this.state.selectedAnnotation,modifiedTarget:this.state.modifiedTarget,selectedElement:this.state.selectedDOMElement,readOnly:mf,allowEmpty:this.props.config.allowEmpty,widgets:this.state.widgets,env:this.props.env,onAnnotationCreated:this.onCreateOrUpdateAnnotation("onAnnotationCreated"),onAnnotationUpdated:this.onCreateOrUpdateAnnotation("onAnnotationUpdated"),onAnnotationDeleted:this.onDeleteAnnotation,onCancel:this.onCancelAnnotation})}}class DL{constructor(go,pf){lf(this,"handleAnnotationCreated",(kf,If)=>this._emitter.emit("createAnnotation",kf.underlying,If)),lf(this,"handleAnnotationDeleted",kf=>this._emitter.emit("deleteAnnotation",kf.underlying)),lf(this,"handleAnnotationSelected",(kf,If)=>this._emitter.emit("selectAnnotation",kf.underlying,If)),lf(this,"handleAnnotationUpdated",(kf,If)=>this._emitter.emit("updateAnnotation",kf.underlying,If.underlying)),lf(this,"handleCancelSelected",kf=>this._emitter.emit("cancelSelected",kf.underlying)),lf(this,"handleClickAnnotation",(kf,If)=>this._emitter.emit("clickAnnotation",kf.underlying,If)),lf(this,"handleSelectionCreated",kf=>this._emitter.emit("createSelection",kf.underlying)),lf(this,"handleSelectionStarted",kf=>this._emitter.emit("startSelection",kf)),lf(this,"handleSelectionTargetChanged",kf=>this._emitter.emit("changeSelectionTarget",kf)),lf(this,"handleMouseEnterAnnotation",(kf,If)=>this._emitter.emit("mouseEnterAnnotation",kf.underlying,If)),lf(this,"handleMouseLeaveAnnotation",(kf,If)=>this._emitter.emit("mouseLeaveAnnotation",kf.underlying,If)),lf(this,"_wrap",kf=>(kf==null?void 0:kf.type)==="Annotation"?new mC(kf):kf),lf(this,"addAnnotation",kf=>this._app.current.addAnnotation(new mC(kf))),lf(this,"addDrawingTool",kf=>this._app.current.addDrawingTool(kf)),lf(this,"cancelSelected",()=>this._app.current.cancelSelected()),lf(this,"clearAnnotations",()=>this.setAnnotations([])),lf(this,"clearAuthInfo",()=>this._env.user=null),lf(this,"destroy",()=>nm.unmountComponentAtNode(this.appContainerEl)),lf(this,"fitBounds",(kf,If)=>this._app.current.fitBounds(this._wrap(kf),If)),lf(this,"getAnnotationById",kf=>{const If=this._app.current.getAnnotationById(kf);return If==null?void 0:If.underlying}),lf(this,"getAnnotations",()=>this._app.current.getAnnotations().map(kf=>kf.underlying)),lf(this,"getSelected",()=>{const kf=this._app.current.getSelected();return kf==null?void 0:kf.underlying}),lf(this,"getSelectedImageSnippet",()=>this._app.current.getSelectedImageSnippet()),lf(this,"listDrawingTools",()=>this._app.current.listDrawingTools()),lf(this,"loadAnnotations",kf=>fetch(kf).then(If=>If.json()).then(If=>(this.setAnnotations(If),If))),lf(this,"off",(kf,If)=>this._emitter.off(kf,If)),lf(this,"on",(kf,If)=>this._emitter.on(kf,If)),lf(this,"once",(kf,If)=>this._emitter.once(kf,If)),lf(this,"panTo",(kf,If)=>this._app.current.panTo(this._wrap(kf),If)),lf(this,"removeAnnotation",kf=>this._app.current.removeAnnotation(this._wrap(kf))),lf(this,"removeDrawingTool",kf=>this._app.current.removeDrawingTool(kf)),lf(this,"saveSelected",()=>this._app.current.saveSelected()),lf(this,"selectAnnotation",kf=>{const If=this._app.current.selectAnnotation(this._wrap(kf));return If==null?void 0:If.underlying}),lf(this,"setAnnotations",kf=>{const If=(kf||[]).map(Hf=>new mC(Hf));this._app.current.setAnnotations(If)}),lf(this,"setAuthInfo",kf=>this._env.user=kf),lf(this,"setDrawingEnabled",kf=>this._app.current.setDrawingEnabled(kf)),lf(this,"setDrawingTool",kf=>this._app.current.setDrawingTool(kf)),lf(this,"setServerTime",kf=>this._env.setServerTime(kf)),lf(this,"setVisible",kf=>this._app.current.setVisible(kf)),lf(this,"updateSelected",(kf,If)=>{let Hf=null;kf.type==="Annotation"?Hf=new mC(kf):kf.type==="Selection"&&(Hf=new O2(kf.target,kf.body)),Hf&&this._app.current.updateSelected(Hf,If)});const mf=pf||{};this._app=nm.createRef(),this._emitter=new qy,this._env=RI(),this._element=go.element,window.getComputedStyle(this._element).getPropertyValue("position")==="static"&&(this._element.style.position="relative"),DI(mf.locale,mf.messages),this.appContainerEl=document.createElement("DIV"),this._element.appendChild(this.appContainerEl),nm.render(Pf(RL,{ref:this._app,viewer:go,wrapperEl:this._element,config:mf,env:this._env,onSelectionStarted:this.handleSelectionStarted,onSelectionCreated:this.handleSelectionCreated,onSelectionTargetChanged:this.handleSelectionTargetChanged,onAnnotationCreated:this.handleAnnotationCreated,onAnnotationSelected:this.handleAnnotationSelected,onAnnotationUpdated:this.handleAnnotationUpdated,onAnnotationDeleted:this.handleAnnotationDeleted,onCancelSelected:this.handleCancelSelected,onClickAnnotation:this.handleClickAnnotation,onMouseEnterAnnotation:this.handleMouseEnterAnnotation,onMouseLeaveAnnotation:this.handleMouseLeaveAnnotation}),this.appContainerEl)}get disableEditor(){return this._app.current.disableEditor}set disableEditor(go){this._app.current.disableEditor=go}get disableSelect(){return this._app.current.disableSelect}set disableSelect(go){this._app.current.disableSelect=go}get readOnly(){return this._app.current.readOnly}set readOnly(go){this._app.current.readOnly=go}get widgets(){return this._app.current.widgets}set widgets(go){this._app.current.widgets=go}}var NL=(yn,go)=>new DL(yn,go);return NL})})(openseadragonAnnotorious_min);var openseadragonAnnotorious_minExports=openseadragonAnnotorious_min.exports;const Annotorious=getDefaultExportFromCjs(openseadragonAnnotorious_minExports);class GithubClient{constructor(W){this._shas={},this.authToken=W}b64EncodeUnicode(W){return btoa(encodeURIComponent(W).replace(/%([0-9A-F]{2})/g,function(q,X){return String.fromCharCode(parseInt(X,16))}))}b64DecodeUnicode(W){return decodeURIComponent(Array.prototype.map.call(atob(W),function(q){return"%"+("00"+q.charCodeAt(0).toString(16)).slice(-2)}).join(""))}user(){return fetch("https://api.github.com/user",{headers:{Accept:"application/vnd.github+json",Authorization:`token ${this.authToken}`}}).then(W=>W.json())}async isCollaborator(W,q,X){let tt=`https://api.github.com/repos/${W}/${q}/collaborators/${X}`,ot=await fetch(tt,{headers:{Accept:"application/vnd.github+json",Authorization:`token ${this.authToken}`}});return ot.ok&&ot.status===204}organizations(){return fetch("https://api.github.com/user/orgs",{headers:{Accept:"application/vnd.github+json",Authorization:`token ${this.authToken}`}}).then(W=>W.json())}repos(W="",q=""){let X=W?`users/${W}`:q?`orgs/${q}`:"user";return fetch(`https://api.github.com/${X}/repos?per_page=100`,{headers:{Accept:"application/vnd.github+json",Authorization:`token ${this.authToken}`}}).then(tt=>tt.json())}async createRepository({org:W=null,name:q="",description:X="",auto_init:tt=!0}){let ot=W?`https://api.github.com/orgs/${W}/repos`:"https://api.github.com/user/repos",at=await fetch(ot,{method:"POST",body:JSON.stringify({name:q,description:X,auto_init:tt}),headers:{Authorization:`Token ${this.authToken}`}});return{status:at.status,statusText:at.statusText}}branches(W,q){return fetch(`https://api.github.com/repos/${W}/${q}/branches`,{headers:{Accept:"application/vnd.github+json",Authorization:`token ${this.authToken}`}}).then(X=>X.json())}async getFile(W,q,X,tt){var wt;let ot=((wt=window.config)==null?void 0:wt.source)||{};W=W||ot.owner,q=q||ot.repository,tt=tt||ot.branch;let at=`https://api.github.com/repos/${W}/${q}/contents/${X}?ref=${tt}`,ut=this.authToken?await fetch(at,{headers:{Authorization:`Token ${this.authToken}`}}):await fetch(at);return ut.status===200?(ut=await ut.json(),{sha:ut.sha,content:JSON.parse(decodeURIComponent(escape(atob(ut.content))))}):ut.status===403||ut.status===401?(at=`https://raw.githubusercontent.com/${W}/${q}/${tt}/${X}`,ut=await fetch(at),ut.ok?(ut=await ut.json(),{sha:null,content:ut}):null):null}async getSha(W,q,X,tt){let ot=`https://api.github.com/repos/${W}/${q}/contents/${X}`;tt&&(ot+=`?ref=${tt}`);let at=await fetch(ot,{headers:{Authorization:`Token ${this.authToken}`}});return at.ok&&(at=await at.json()),at.sha}async putFile(W,q,X,tt,ot,at=!1,ut=""){let wt=`https://api.github.com/repos/${W}/${q}/contents/${X}`,uo=`${W}/${q}/${ot}/${X}`;ut=ut||this._shas[uo]||await this.getSha(W,q,X,ot);let mo={message:"API commit",content:at?btoa(tt):this.b64EncodeUnicode(tt)};ot&&(mo.branch=ot),ut&&(mo.sha=ut);let yo=await fetch(wt,{method:"PUT",body:JSON.stringify(mo),headers:{Authorization:`Token ${this.authToken}`}});return yo.ok&&(ut=(await yo.json()).content.sha,this._shas[uo]=ut),{status:yo.status,statusText:yo.statusText,sha:ut}}async deleteFile(W,q,X,tt,ot=""){ot=ot||await this.getSha(W,q,X,tt);let at=`https://api.github.com/repos/${W}/${q}/contents/${X}`,wt=await fetch(at,{method:"DELETE",body:JSON.stringify({message:"API commit",sha:ot}),headers:{Authorization:`Token ${this.authToken}`}});wt=await wt.json()}async defaultBranch(W,q){let X=null,tt=`https://api.github.com/repos/${W}/${q}`,ot=await fetch(tt,{headers:{Authorization:`Token ${this.authToken}`}});return ot.ok&&(ot=await ot.json(),X=ot.default_branch),X}async dirlist(W,q,X,tt){var uo;X=X||"",tt=tt||await this.defaultBranch(W,q);let ot=[],at=`https://api.github.com/repos/${W}/${q}/git/trees/${tt}`,ut={Authorization:`Token ${this.authToken}`,Accept:"application/vnd.github.v3+json","If-None-Match":""},wt=X.split("/").filter(mo=>mo);for(let mo=0;mo<wt.length;mo++){let yo=await fetch(at,{headers:ut}),lf=yo.ok?await yo.json():{},uf=lf?(uo=lf.tree)==null?void 0:uo.find(df=>df.path===wt[mo]):null;if(at=uf?uf.url:null,!at)break}if(at){let mo=await fetch(at,{headers:ut});ot=((mo.ok?await mo.json():{}).tree||[]).map(lf=>({name:lf.path,sha:lf.sha,type:lf.type==="tree"?"dir":"file"}))}return ot}async fullPath(W,q,X,tt,ot=!1){let at=X.split("/").filter(mo=>mo),ut=at[at.length-1],wt=await this.dirlist(W,q,at.join("/"),tt);if(wt.length===0&&(at.pop(),wt=await this.dirlist(W,q,at.join("/"),tt)),!ot){let mo=[ut,`${ut}.md`,"README.md"];for(let yo=0;yo<mo.length;yo++)if(wt.find(lf=>lf.type==="file"&&lf.name===mo[yo])){at.push(mo[yo]);break}}return at.join("/")}}class Annotator{constructor(W,q="",X=!1){this.ref="main",this.imageId="",this.sha="",this.visible=!1,this.ghAuthToken="",this.selected=null,this.osd=W,this.base=q;let[tt,ot,...at]=this.base.split("/");this.acct=tt,this.repo=ot,this.basePath=at.join("/"),this.annotorious=Annotorious(W,{readOnly:!X}),this.annotorious.on("createAnnotation",async ut=>this.createAnnotation(ut)),this.annotorious.on("updateAnnotation",async ut=>this.updateAnnotation(ut)),this.annotorious.on("deleteAnnotation",async ut=>this.deleteAnnotation(ut)),this.annotorious.on("selectAnnotation",async ut=>this.onSelect(ut)),this.setVisible(!0),this.ghAuthToken=localStorage.getItem("gh-auth-token")||"",this.ghClient=new GithubClient(this.ghAuthToken)}async loadAnnotations(W){this.imageId=W,this.setVisible(!1);let q=[],X=await this.ghClient.getFile(this.acct,this.repo,`${this.basePath}/${this.imageId}.json`,this.ref);return X!=null&&X.content&&(q=X.content,this.sha=X.sha),this.annotorious.setAnnotations(q),this.annotorious.readOnly&&q.forEach(tt=>{let ot=this.annoEl(tt.id);ot&&(ot.addEventListener("mouseenter",()=>this.select(tt.id)),ot.addEventListener("mouseleave",()=>this.deselect()),ot.addEventListener("click",()=>navigator.clipboard.writeText(tt.id)))}),q}setVisible(W){if(this.selected)this.deselect();else{this.visible=W;let q=this.osd.element.querySelector(".a9s-annotationlayer");q&&(q.style.visibility=this.visible?"visible":"hidden",q.style.display=this.visible?"inline":"none"),Array.from(this.osd.element.querySelectorAll(".a9s-annotation")).forEach(X=>X.style.visibility=this.visible?"visible":"hidden")}}toggleVisibility(W){W&&W.stopPropagation(),this.setVisible(!this.visible)}onSelect(W){this.selected=W.id,navigator.clipboard&&navigator.clipboard.writeText(this.selected)}annoEl(W){return this.osd.element.querySelector(`[data-id="${W}"]`)}select(W){var q;if(W!==((q=this.selected)==null?void 0:q.id)){if(this.deselect(),this.selected=this.annotorious.selectAnnotation(W),this.selected){let X=this.annoEl(W);X&&(X.style.visibility="visible");let tt=this.osd.element.querySelector(".a9s-annotation.selected");tt&&(tt.style.visibility="visible")}}else this.deselect()}deselect(){Array.from(this.osd.element.querySelectorAll(".a9s-annotation")).forEach(W=>W.style.visibility=this.visible?"visible":"hidden"),this.annotorious.selectAnnotation(),this.selected=void 0}async saveAnnotations(){let W=JSON.stringify(this.annotorious.getAnnotations(),null,2);await this.ghClient.putFile(this.acct,this.repo,`${this.basePath}/${this.imageId}.json`,W,this.ref,!1,this.sha)}async createAnnotation(W){W.id=sha256(W.id).slice(0,8),W.target.id=this.imageId,this.saveAnnotations(),navigator.clipboard&&navigator.clipboard.writeText(W.id)}async updateAnnotation(W){W.target.id=this.imageId,this.saveAnnotations(),navigator.clipboard&&navigator.clipboard.writeText(W.id)}async deleteAnnotation(W){this.saveAnnotations()}}const _hoisted_1$d=["aria-label","alt"],_hoisted_2$a=["innerHTML"],_hoisted_3$9={class:"status"},_hoisted_4$8=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[createBaseVNode("path",{d:"M160 368c26.5 0 48 21.5 48 48v16l72.5-54.4c8.3-6.2 18.4-9.6 28.8-9.6H448c8.8 0 16-7.2 16-16V64c0-8.8-7.2-16-16-16H64c-8.8 0-16 7.2-16 16V352c0 8.8 7.2 16 16 16h96zm48 124l-.2 .2-5.1 3.8-17.1 12.8c-4.8 3.6-11.3 4.2-16.8 1.5s-8.8-8.2-8.8-14.3V474.7v-6.4V468v-4V416H112 64c-35.3 0-64-28.7-64-64V64C0 28.7 28.7 0 64 0H448c35.3 0 64 28.7 64 64V352c0 35.3-28.7 64-64 64H309.3L208 492z"})],-1),_hoisted_5$7={variant:"primary",pill:""},_hoisted_6$7=["manifest","caption","annoid"],_sfc_main$f=defineComponent({__name:"Image.ce",props:{base:{type:String},caption:{type:String},data:{type:String},fit:{type:String,default:"contain"},height:{type:Number},noCaption:{type:Boolean,default:!1},region:{type:String},seq:{type:Number,default:1},src:{type:String},width:{type:Number},zoomOnScroll:{type:Boolean,default:!1},attribution:{type:String},description:{type:String},label:{type:String},license:{type:String},owner:{type:String},summary:{type:String},title:{type:String},url:{type:String}},setup(F){const W=F,q=ref(null),X=computed(()=>{var Fp,Sp;return(Sp=(Fp=q.value)==null?void 0:Fp.getRootNode())==null?void 0:Sp.host}),tt=computed(()=>{var Fp;return(Fp=q==null?void 0:q.value)==null?void 0:Fp.parentNode});watch$1(tt,Fp=>{Fp.children[1].classList.remove("sticky")}),watch$1(W,()=>{zf()});const ot=self.window,at=ref(ot.config||{}),ut=computed(()=>{if(at.value.source)return at.value.source;if(W.base){let[Fp,Sp,up,...Nf]=W.base.split("/");return{owner:Fp,repository:Sp,branch:up,dir:Nf?`/${Nf.join("/")}/`:"/"}}return null}),wt=computed(()=>{var Fp,Sp,up,Nf;return`https://raw.githubusercontent.com/${(Fp=ut.value)==null?void 0:Fp.owner}/${(Sp=ut.value)==null?void 0:Sp.repository}/${(up=ut.value)==null?void 0:up.branch}${(Nf=ut.value)==null?void 0:Nf.dir}`}),uo=ref(null),mo=ref(),yo=ref(0);watch$1(yo,()=>{Xf(),yo.value>0&&!df.value.length&&Sf(),yo.value>0&&!Af.value&&mp()});const lf=ref([]);watch$1(lf,async Fp=>{uf.value=await Promise.all(Fp.map(Sp=>Sp.src||Sp.manifest?getManifest(Sp.src||Sp.manifest):fetch(`https://${iiifServer}/manifest/`,{method:"POST",body:JSON.stringify(Object.fromEntries(Object.entries(Sp).filter(([up,Nf])=>["attribution","caption","description","fit","label","license","summary","title","url"].includes(up)).map(([up,Nf])=>(up==="url"&&Nf.indexOf("http")<0&&(Nf=`${wt.value}/${Nf}`),[up,Nf]))))}).then(up=>up.json()))).then(Sp=>Sp.flat())});const uf=ref([]),df=computed(()=>uf.value.map((Fp,Sp)=>{let up=jf({type:"Annotation",motivation:"painting"},Fp,lf.value[Sp].seq||1).body;return up.service?`${up.service[0].id||up.service[0]["@id"]}/info.json`:{url:up.id,type:"image",buildPyramid:!0}}));watch$1(df,Fp=>{var Sp;(Sp=Af.value)==null||Sp.open(Fp)});const wf=ref(0),wo=computed(()=>uf.value[wf.value]&&jf({type:"Annotation",motivation:"painting"},uf.value[wf.value],lf.value[wf.value].seq||1).body),ls=computed(()=>{var Fp;return wo.value&&sha256(decodeURIComponent((Fp=wo.value.id)==null?void 0:Fp.split("/").pop().toLowerCase().replace(".jpeg",".jpg"))).slice(0,8)});watch$1(ls,async Fp=>xo.value=mo.value?await mo.value.loadAnnotations(Fp)||[]:0);const _f=ref(!1),po=ref(!1);watch$1(po,()=>mo.value.setVisible(po.value));const xo=ref([]);function gf(){po.value=!po.value}const cf=computed(()=>wo.value&&{width:wo.value.width,height:wo.value.height}),yf=computed(()=>{var Fp,Sp;return Number(((((Fp=cf.value)==null?void 0:Fp.width)||1)/(((Sp=cf.value)==null?void 0:Sp.height)||1)).toFixed(4))});watch$1(yf,()=>{Xf()});function Sf(){function Fp(up){var ip;let Nf=[];up=up.replace(/”/g,'"').replace(/”/g,'"').replace(/’/g,"'"),(ip=up==null?void 0:up.match(/[^\s"]+|"([^"]*)"/gmi))==null||ip.filter(ap=>ap).forEach(ap=>{Nf.length>0&&Nf[Nf.length-1].indexOf("=")===Nf[Nf.length-1].length-1?Nf[Nf.length-1]=`${Nf[Nf.length-1]}${ap}`:Nf.push(ap)});let Jf={};return Nf.forEach(ap=>{let Op=ap.indexOf("="),Gp=ap.slice(0,Op),bp=ap.slice(Op+1);Jf[Gp]=bp[0]==='"'?bp.slice(1,-1):bp}),Jf}function Sp(){let up=new Set(["attribution","caption","description","fit","label","license","manifest","noCaption","seq","src","summary","title","url"]),Nf=W.src||W.url?Object.fromEntries(Object.entries(W).filter(([ip,ap])=>up.has(ip)&&ap)):null,Jf=Nf?[Nf]:[];Array.from(X.value.querySelectorAll("li")).map(ip=>Fp(ip.textContent||"")).filter(ip=>ip.src||ip.manifest||ip.url).forEach((ip,ap)=>Jf.push({...ip,idx:ap})),lf.value=Jf}new MutationObserver(up=>{for(let Nf of up)Nf.type==="childList"&&Sp()}).observe(X.value,{childList:!0,subtree:!0,characterData:!0}),Sp()}watch$1(uo,()=>{var Fp;uo.value&&!xf.value&&(new ResizeObserver(()=>{var Sp;yo.value=((Sp=uo.value)==null?void 0:Sp.clientWidth)||yo.value}).observe(uo.value),yo.value=(Fp=uo.value)==null?void 0:Fp.clientWidth)});const xf=ref(0);watch$1(xf,Fp=>{var Sp;(Sp=q.value)==null||Sp.setAttribute("style",`width: ${W.width}px; margin: auto;`),yo.value=Fp});const bf=ref(0);watch$1(bf,Fp=>{X.value.style.height=Fp?`${Fp}px`:"unset",Ff(),setTimeout(()=>{var Sp,up;return(up=(Sp=Af.value)==null?void 0:Sp.viewport)==null?void 0:up.goHome(!1)},250)});const Af=ref(),Pf=computed(()=>{var Fp,Sp,up;return W.caption||uf.value[wf.value]&&((up=(Sp=(Fp=uf.value[wf.value])==null?void 0:Fp.label)==null?void 0:Sp.en)==null?void 0:up[0])}),Df=ref();function zf(){xf.value=W.width||0,bf.value=W.height||0}onMounted(()=>{zf(),Mp()});function jf(Fp,Sp,up=1){const Nf=$f(Fp,Sp);return Nf.length>=up?Nf[up-1]:null}function $f(Fp,Sp,up=[]){if(up=up||[],Sp.items)for(let Nf=0;Nf<Sp.items.length;Nf++){let Jf=Sp.items[Nf];!Object.entries(Fp).find(([ap,Op])=>Jf[ap]&&Jf[ap]!==Op)?up.push(Jf):$f(Fp,Jf,up)}return up}function Ff(){var Fp,Sp,up,Nf;(Fp=uo.value)!=null&&Fp.clientWidth&&(bf.value?(Sp=uo.value)==null||Sp.setAttribute("style","flex: 1 1 0%; position: relative"):(Nf=uo.value)==null||Nf.setAttribute("style",`height: ${Number(((up=uo.value)==null?void 0:up.clientWidth)/yf.value).toFixed(0)}px;`))}function Xf(){Ff(),setTimeout(()=>{var Fp,Sp;return(Sp=(Fp=Af.value)==null?void 0:Fp.viewport)==null?void 0:Sp.goHome(!1)},250)}function mp(){var up,Nf,Jf,ip;if(Af.value||!uo.value)return;Ff();const Fp={element:uo.value,prefixUrl:"https://openseadragon.github.io/openseadragon/images/",homeFillsViewer:W.fit==="cover",maxZoomPixelRatio:10,sequenceMode:!0,showReferenceStrip:!0};Af.value=OpenSeadragon(Fp),Af.value.addHandler("viewport-change",()=>kp()),Af.value.addHandler("page",ap=>{wf.value=ap.page}),fp(),setTimeout(()=>Cp(),500),df.value.length&&((up=Af.value)==null||up.open(df.value));let Sp=`${(Nf=ut.value)==null?void 0:Nf.owner}/${(Jf=ut.value)==null?void 0:Jf.repository}${(ip=ut.value)==null?void 0:ip.dir.slice(0,-1)}`;mo.value=new Annotator(Af.value,Sp)}function fp(){W.zoomOnScroll||new OpenSeadragonViewerInputHook({viewer:Af.value,hooks:[{tracker:"viewer",handler:"scrollHandler",hookHandler:Fp=>{var Sp;return!((Sp=Af.value)!=null&&Sp.isFullPage())&&!Fp.originalEvent.ctrlKey&&(Fp.preventDefaultAction=!0,Fp.stopHandlers=!0),!0}}]})}function Mp(){let Fp=X.value.parentElement;for(;Fp!=null&&Fp.parentElement&&Fp.tagName!=="MAIN";)Array.from(Fp.querySelectorAll("a")).forEach(Sp=>{let Nf=new URL(Sp.href).pathname.split("/").filter(ip=>ip),Jf=Nf.indexOf("zoom");if(Jf>=0&&Nf.length>Jf+1&&Np(Sp)){let ap=Nf[Jf+1];Sp.classList.add("zoom"),Sp.href="javascript:;",Sp.setAttribute("data-region",ap),Sp.addEventListener("click",Op=>{let Gp=Op.target.getAttribute("data-region");Gp&&yp(Gp)})}}),Fp=Fp.parentElement}function Np(Fp){function Sp(up){let Nf=up.previousSibling;for(;Nf;){if(Nf.nodeName==="MDP-IMAGE")return Nf===X.value?Nf:null;Nf=Nf.previousSibling}}for(Sp(Fp);Fp.parentElement&&Fp.tagName!=="BODY";){Fp=Fp.parentElement;let up=Fp.querySelector(":scope mdp-image");if(up)return up===X.value?up:null}}let Pp="";function yp(Fp){var up,Nf,Jf;Fp=Fp.replace(/^zoom\|/i,"");const Sp=Fp==null?void 0:Fp.match(/^(?<region>(pct:|pixel:|px:)?[\d.]+,[\d.]+,[\d.]+,[\d.]+)?$/);if(Sp){let ip=(up=Sp==null?void 0:Sp.groups)==null?void 0:up.region;ip&&(Pp===ip?((Nf=Af.value)==null||Nf.viewport.goHome(),Pp=""):(Pp=ip,(Jf=Af.value)==null||Jf.viewport.fitBounds(Ep(ip,Af.value),!1)))}}function Ep(Fp,Sp){let up;const Nf=Fp.split(":");let[Jf,ip,ap,Op]=Nf[Nf.length-1].split(",").map(bp=>parseInt(bp));const Gp=Sp.world.getItemAt(0).getContentSize();return Nf.length===2&&(Nf[0]==="pct"||Nf[0]==="percent")&&(Jf=Math.round(Gp.x*Jf/100),ip=Math.round(Gp.y*ip/100),ap=Math.round(Gp.x*ap/100),Op=Math.round(Gp.y*Op/100)),up=Sp.viewport.imageToViewportRectangle(Jf,ip,ap,Op),up}function Cp(){var Sp,up;const Fp=(Sp=Af.value)==null?void 0:Sp.world.getItemAt(0);if(Fp){let Nf=(up=Af.value)==null?void 0:up.viewport.getBounds();const Jf=Nf?Fp.viewportToImageRectangle(Nf):null;Df.value=Jf?`${Math.ceil(Jf.x)},${Math.ceil(Jf.y)},${Math.ceil(Jf.width)},${Math.ceil(Jf.height)}`:""}}let $p=null;function kp(){$p!==null&&(clearTimeout($p),$p=null),$p=ot.setTimeout(()=>Cp(),100)}function Dp(Fp){navigator.clipboard&&navigator.clipboard.writeText(Fp)}return(Fp,Sp)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:q,class:"image"},[df.value?(openBlock(),createElementBlock("div",{key:0,ref_key:"osdEl",ref:uo,class:normalizeClass(_f.value?"osd edit":"osd view"),id:"osd",role:"img","aria-label":Pf.value,alt:Pf.value},[Df.value?(openBlock(),createElementBlock("div",{key:0,class:"coords",innerHTML:Df.value,onClick:Sp[0]||(Sp[0]=up=>Dp(Df.value||""))},null,8,_hoisted_2$a)):createCommentVNode("",!0)],10,_hoisted_1$d)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_3$9,[xo.value.length>0?(openBlock(),createElementBlock("div",{key:0,class:"annotations-indicator",onClick:gf},[_hoisted_4$8,createBaseVNode("sl-badge",_hoisted_5$7,toDisplayString(xo.value.length),1)])):createCommentVNode("",!0),uf.value.length&&!F.noCaption?(openBlock(),createElementBlock("mdp-caption",{key:1,manifest:uf.value[wf.value],caption:Pf.value,annoid:ls.value},null,8,_hoisted_6$7)):createCommentVNode("",!0)])],512))}}),_style_0$d=`.r6o-editor{top:0;left:0;margin-left:-19px}.a9s-annotationlayer{position:absolute;top:0;left:0;width:100%;height:100%;outline:none;-webkit-user-select:none;-moz-user-select:none;-o-user-select:none;user-select:none}.a9s-annotationlayer.no-cursor,.a9s-annotationlayer.no-cursor *{cursor:none!important}.a9s-crosshair line{stroke-width:1px;stroke:#00000080;pointer-events:none;vector-effect:non-scaling-stroke;shape-rendering:crispEdges}.a9s-selection-mask{stroke:none;fill:transparent;pointer-events:none}.a9s-annotation rect,.a9s-annotation circle,.a9s-annotation ellipse,.a9s-annotation path,.a9s-annotation polygon,.a9s-annotation line,.a9s-selection rect,.a9s-selection circle,.a9s-selection ellipse,.a9s-selection path,.a9s-selection polygon,.a9s-selection line{fill:transparent;cursor:pointer;vector-effect:non-scaling-stroke}.a9s-annotation .a9s-inner,.a9s-selection .a9s-inner{stroke:#fff;stroke-width:1px;fill:transparent}.a9s-annotation .a9s-inner:hover,.a9s-selection .a9s-inner:hover{stroke:#fff000}.a9s-annotation .a9s-outer,.a9s-selection .a9s-outer{stroke:#000000b3;stroke-width:3px;fill:none}.a9s-annotation .a9s-formatter-el,.a9s-selection .a9s-formatter-el{overflow:visible}.a9s-annotation.a9s-point .a9s-inner{display:none}.a9s-annotation.a9s-point .a9s-outer{stroke:#5a5a5a;stroke-width:1.5px;fill:#ffffff80}.a9s-annotation.a9s-point .a9s-outer:hover{fill:#fff000}.a9s-annotation.selected .a9s-inner,.a9s-selection .a9s-inner{stroke:#fff000}.a9s-annotation.editable .a9s-inner{stroke:#fff000;cursor:move!important}.a9s-annotation.editable .a9s-inner:hover{fill:#fff0001a}.a9s-handle{cursor:move}.a9s-handle .a9s-handle-inner{stroke:#fff000;fill:#000}.a9s-handle .a9s-handle-outer{stroke:#000;fill:#fff}.a9s-handle:hover .a9s-handle-inner{fill:#fff000}.r6o-btn{background-color:#4483c4;border:1px solid #4483c4;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-size:14px;margin:0;outline:none;text-decoration:none;white-space:nowrap;padding:6px 18px;min-width:70px;vertical-align:middle;border-radius:2px}.r6o-btn *{vertical-align:middle;cursor:pointer}.r6o-btn .r6o-icon{margin-right:4px}.r6o-btn:disabled{border-color:#a3c2e2!important;background-color:#a3c2e2!important}.r6o-btn:hover{background-color:#4f92d7;border-color:#4f92d7}.r6o-btn.outline{border:1px solid #4483c4;color:#4483c4;background-color:transparent;text-shadow:none}.r6o-autocomplete{display:inline;position:relative}.r6o-autocomplete div[role=combobox]{display:inline}.r6o-autocomplete input{outline:none;border:none;width:80px;height:100%;line-height:14px;white-space:pre;box-sizing:border-box;background-color:transparent;font-size:14px;color:#3f3f3f}.r6o-autocomplete ul{position:absolute;margin:0;padding:0;list-style-type:none;background-color:#fff;border-radius:3px;border:1px solid #d6d7d9;box-sizing:border-box;box-shadow:0 0 20px #00000040}.r6o-autocomplete ul:empty{display:none}.r6o-autocomplete li{box-sizing:border-box;padding:2px 12px;width:100%;cursor:pointer}.r6o-editable-text{max-height:120px;overflow:auto;outline:none;min-height:2em;font-size:14px;font-family:Lato,sans-serif}.r6o-editable-text:empty:not(:focus):before{content:attr(data-placeholder);color:#c2c2c2}.r6o-widget.comment{font-size:14px;min-height:3em;background-color:#fff;position:relative}.r6o-widget.comment .r6o-editable-text,.r6o-widget.comment .r6o-readonly-comment{padding:10px;width:100%;box-sizing:border-box;outline:none;border:none;background-color:transparent;resize:none}.r6o-widget.comment .r6o-readonly-comment{white-space:pre-line}.r6o-widget.comment .r6o-editable-text::-webkit-input-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text::-moz-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text:-moz-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text:-ms-input-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-lastmodified{border:1px solid #e5e5e5;display:inline-block;border-radius:2px;margin:0 10px 8px;padding:4px 5px;line-height:100%;font-size:12px}.r6o-widget.comment .r6o-lastmodified .r6o-lastmodified-at{color:#757575;padding-left:3px}.r6o-widget.comment .r6o-arrow-down{position:absolute;height:20px;width:20px;top:9px;right:9px;line-height:22px;background-color:#fff;text-align:center;-webkit-font-smoothing:antialiased;border:1px solid #e5e5e5;cursor:pointer;border-radius:1px}.r6o-widget.comment .r6o-arrow-down.r6o-menu-open{border-color:#4483c4}.r6o-widget.comment .r6o-comment-dropdown-menu{position:absolute;top:32px;right:8px;background-color:#fff;border:1px solid #e5e5e5;list-style-type:none;margin:0;padding:5px 0;z-index:9999;box-shadow:0 2px 4px #0003}.r6o-widget.comment .r6o-comment-dropdown-menu li{padding:0 15px;cursor:pointer}.r6o-widget.comment .r6o-comment-dropdown-menu li:hover{background-color:#ecf0f1}.r6o-widget.comment .r6o-purposedropdown{position:relative;z-index:2}.r6o-widget.comment.editable{background-color:#ecf0f1}.r6o-widget.r6o-tag:empty{display:none}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.r6o-widget.tag .r6o-taglist li{height:27px}.r6o-widget.tag .r6o-taglist li .r6o-delete-wrapper .r6o-delete{position:relative;top:-4px}}.r6o-widget.r6o-tag{background-color:#ecf0f1;border-bottom:1px solid #e5e5e5;padding:1px 3px;display:flex}.r6o-widget.r6o-tag ul{margin:0;padding:0;list-style-type:none;z-index:1}.r6o-widget.r6o-tag ul.r6o-taglist{flex:0;white-space:nowrap}.r6o-widget.r6o-tag ul.r6o-taglist li{display:inline-block;margin:1px 1px 1px 0;padding:0;vertical-align:middle;overflow:hidden;font-size:12px;background-color:#fff;border:1px solid #d6d7d9;cursor:pointer;position:relative;line-height:180%;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;border-radius:2px;box-shadow:0 0 4px #0000001a}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-label{padding:2px 8px;display:inline-block}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper{display:inline-block;padding:2px 0;color:#fff;width:0;height:100%;background-color:#4483c4;-webkit-border-top-right-radius:2px;-webkit-border-bottom-right-radius:2px;-khtml-border-radius-topright:2px;-khtml-border-radius-bottomright:2px;-moz-border-radius-topright:2px;-moz-border-radius-bottomright:2px;border-top-right-radius:2px;border-bottom-right-radius:2px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper .r6o-delete{padding:2px 6px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper svg{vertical-align:text-top}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-enter-active{width:24px;transition:width .2s}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-enter-done,.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-exit{width:24px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-exit-active{width:0;transition:width .2s}.r6o-widget.r6o-tag .r6o-autocomplete{flex:1;position:relative}.r6o-widget.r6o-tag .r6o-autocomplete li{font-size:14px}.r6o-widget.r6o-tag input{width:100%;padding:0 3px;min-width:80px;outline:none;border:none;line-height:170%;background-color:transparent;color:#3f3f3f}.r6o-widget.r6o-tag input::-webkit-input-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input::-moz-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input:-moz-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input:-ms-input-placeholder{color:#c2c2c2}.r6o-editor{position:absolute;z-index:99999;width:400px;color:#3f3f3f;opacity:0;font-family:Lato,sans-serif;font-size:17px;line-height:27px;transition:opacity .2s ease-in}.r6o-editor .r6o-arrow{position:absolute;overflow:hidden;top:-12px;left:12px;width:28px;height:12px;display:none}.r6o-editor .r6o-arrow:after{content:"";position:absolute;top:5px;left:5px;width:18px;height:18px;background-color:#fff;-webkit-backface-visibility:hidden;transform:rotate(45deg)}.r6o-editor .r6o-editor-inner{background-color:#fff;border-radius:2px;box-shadow:2px 2px 42px #0006}.r6o-editor .r6o-editor-inner .r6o-widget:first-child{-webkit-border-top-left-radius:2px;-webkit-border-top-right-radius:2px;-khtml-border-radius-topleft:2px;-khtml-border-radius-topright:2px;-moz-border-radius-topleft:2px;-moz-border-radius-topright:2px;border-top-left-radius:2px;border-top-right-radius:2px}.r6o-editor .r6o-editor-inner .r6o-widget{border-bottom:1px solid #e5e5e5}.r6o-editor .r6o-footer{position:relative;text-align:right;padding:8px 0}.r6o-editor .r6o-footer .r6o-btn{margin-right:8px}.r6o-editor .r6o-footer .r6o-btn.delete-annotation{position:absolute;top:7px;left:7px;background-color:transparent;border:none;color:#4483c4;width:32px;height:32px;min-width:0;border-radius:100%;padding:0;display:flex;justify-content:center;align-items:center;transition:all .1s ease-in}.r6o-editor .r6o-footer .r6o-btn.delete-annotation:hover{color:#fff;background-color:#ef352c}@media (max-width: 640px){.r6o-editor{width:260px}}.r6o-editor.r6o-arrow-top .r6o-arrow{display:block}.r6o-editor.r6o-arrow-right{margin-left:8px}.r6o-editor.r6o-arrow-right .r6o-arrow{left:auto;right:12px}.r6o-editor.r6o-arrow-bottom .r6o-arrow{display:block;top:auto;bottom:-12px}.r6o-editor.r6o-arrow-bottom .r6o-arrow:after{top:-11px;box-shadow:none}.r6o-editor.pushed .r6o-arrow,.r6o-editor.dragged .r6o-arrow{display:none}.r6o-editor .r6o-draggable{cursor:move}.r6o-purposedropdown{width:150px;display:inline-block}.r6o-noselect{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.a9s-annotation.hover .a9s-inner{stroke:#fff000}.a9s-annotation:not(.hover):hover .a9s-inner{stroke:#fff}.image{display:flex;flex-direction:column;box-shadow:0 2px 4px #00000080!important}.osd{width:100%;background-color:#000}.coords{opacity:0;position:absolute;bottom:72px;right:0;background-color:#fff;border:1px solid #ccc;padding:.5em;z-index:10;transition:all .5s ease-out}.coords:hover{opacity:1;cursor:copy}.status{display:flex;align-items:center;gap:.2em;background-color:#fff}.annotations-indicator{display:flex;position:relative;width:1.8em;padding:.5em;cursor:pointer}.annotations-indicator svg{width:1.3em;height:1.3em}.annotations-indicator sl-badge{position:absolute;top:0;right:0}.r6o-readonly-comment{display:inline;padding:0!important;line-height:1!important}.view .r6o-editor,.view .r6o-editor-inner,.view .r6o-widget{display:inline-block;min-height:unset!important;font-size:1em;line-height:1.2;border-bottom:none}.view .r6o-widget.comment{padding:10px}.r6o-tag,.comment.editable:nth-of-type(2){display:none!important}.edit .r6o-editor{width:216px}svg.a9s-annotationlayer .a9s-selection .a9s-inner,svg.a9s-annotationlayer .a9s-annotation .a9s-inner{stroke-width:3;stroke:#ff0}
`,Image$1=_export_sfc(_sfc_main$f,[["styles",[_style_0$d]]]),_hoisted_1$c={class:"label"},_hoisted_2$9=createBaseVNode("div",{slot:"trigger",style:{display:"flex","flex-direction":"column"}},[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[createBaseVNode("path",{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"})])],-1),_hoisted_3$8={class:"details"},_hoisted_4$7=["innerHTML"],_hoisted_5$6=["innerHTML"],_hoisted_6$6={key:1,class:"photo-details"},_hoisted_7$4={slot:"trigger",style:{cursor:"pointer"}},_hoisted_8$4=["innerHTML"],_hoisted_9$4={class:"location",style:{width:"200px"}},_hoisted_10$4=["center"],_hoisted_11$4=["textContent"],_sfc_main$e=defineComponent({__name:"Caption.ce",props:{annoid:{type:String},caption:{type:String},language:{type:String,default:"en"},manifest:{type:Object},src:{type:String}},setup(F){const W=F,q=ref(null),X=ref(null);watch$1(X,()=>{var df;(df=X.value)==null||df.addEventListener("sl-hide",wf=>{wf.stopPropagation(),wf.preventDefault()})});const tt=ref(),ot=computed(()=>{var df;return(df=tt.value)!=null&&df.metadata?Object.fromEntries(tt.value.metadata.map(wf=>[(wf.label.en||wf.label.none||Object.keys(wf.label)[0])[0],(wf.value.en||wf.value.none||Object.keys(wf.value)[0])[0]])):{}}),at=computed(()=>{var df;return(df=tt.value)!=null&&df.label?(tt.value.label[W.language]||tt.value.label.none||tt.value.label.en||Object.values(tt.value.label)[0])[0]:null});computed(()=>{var df;return(df=tt.value)!=null&&df.summary?(tt.value.summary[W.language]||tt.value.summary.none||tt.value.summary.en||Object.values(tt.value.summary)[0])[0]:null});const ut=computed(()=>{var df;return(df=tt.value)==null?void 0:df.requiredStatement}),wt=computed(()=>{if(!ut.value)return null;if(ut.value.label&&ut.value.value){let df=ut.value?lf(ut.value.label,W.language):"";return(df?ut.value.label[df][0].toLowerCase():"")==="attribution"?ut.value.value[lf(ut.value.value,df)][0]:null}else{let df=Object.keys(ut.value).find(wf=>wf.toLowerCase()==="attribution");return df?Array.isArray(ut.value[df])?ut.value[df].join(", "):ut.value[df]:null}}),uo=computed(()=>{var df;return[ot.value.camera,ot.value.exposure,(df=ot.value.mode)==null?void 0:df.split(",").map(wf=>uf(wf.trim()).replace(/[_-]/," ")).join(", ")].filter(wf=>wf).join(", ")}),mo=computed(()=>{var df;return(df=tt.value)==null?void 0:df.navPlace}),yo=computed(()=>{var df,wf;return(wf=(df=mo.value)==null?void 0:df.features[0])==null?void 0:wf.geometry.coordinates.join(",")});watch$1(W,()=>{W.manifest?tt.value=W.manifest:W.src&&getManifest(W.src).then(df=>tt.value=df)});function lf(df,wf=W.language){return df[W.language]?wf:df.none?"none":df.en?"en":Object.keys(df)[0]}function uf(df){return df[0].toUpperCase()+df.slice(1).toLowerCase()}return onMounted(()=>{W.manifest?tt.value=W.manifest:W.src&&getManifest(W.src).then(df=>tt.value=df)}),(df,wf)=>(openBlock(),createElementBlock("div",{class:"caption",ref_key:"root",ref:q},[createBaseVNode("div",_hoisted_1$c,toDisplayString(F.caption||at.value),1),createBaseVNode("sl-dropdown",{ref_key:"details",ref:X,distance:"12",skidding:"-30",style:{"align-self":"flex-start"}},[_hoisted_2$9,createBaseVNode("div",_hoisted_3$8,[createBaseVNode("div",{class:"label",innerHTML:F.caption||at.value},null,8,_hoisted_4$7),wt.value?(openBlock(),createElementBlock("div",{key:0,class:"attribution",innerHTML:wt.value},null,8,_hoisted_5$6)):createCommentVNode("",!0),uo.value?(openBlock(),createElementBlock("div",_hoisted_6$6,toDisplayString(uo.value),1)):createCommentVNode("",!0),yo.value?(openBlock(),createElementBlock("sl-dropdown",{key:2,ref_key:"details",ref:X,distance:"12",skidding:"-30",placement:"top"},[createBaseVNode("div",_hoisted_7$4,[createBaseVNode("span",{innerHTML:yo.value},null,8,_hoisted_8$4)]),createBaseVNode("div",_hoisted_9$4,[yo.value?(openBlock(),createElementBlock("mdp-map",{key:0,center:yo.value,zoom:"6",marker:""},null,8,_hoisted_10$4)):createCommentVNode("",!0)])],512)):createCommentVNode("",!0),F.annoid?(openBlock(),createElementBlock("div",{key:3,class:"annoid",textContent:toDisplayString(F.annoid)},null,8,_hoisted_11$4)):createCommentVNode("",!0)])],512)],512))}}),_style_0$c=`.caption{display:flex;align-items:center;gap:1em;padding:.5em}.label{font-size:1em;font-weight:450;line-height:1.2}.summary{font-size:1em;font-weight:400}.photo-details,.attribution{font-size:.8em;font-weight:400}.details,.location{display:flex;flex-direction:column;gap:.5em;background-color:#fff;padding:.5em;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px;border:1px solid #ccc;border-radius:3px;max-width:300px}sl-dropdown svg{width:1em;height:1em;cursor:pointer;fill:#a9a9a9}sl-dropdown svg:hover{width:1.2em;height:1.2em;fill:#333}.annoid{font-size:.8em;font-weight:400;color:#666}
`,Caption=_export_sfc(_sfc_main$e,[["styles",[_style_0$c]]]),_hoisted_1$b=["innerHTML"],_hoisted_2$8=["innerHTML"],_sfc_main$d=defineComponent({__name:"InfoCard.ce",props:{data:{type:String},description:{type:String},dialogWidth:{type:String,default:"100vw"},image:{type:String},href:{type:String},label:{type:String}},setup(F){const W=F;function q(){EventBus$1.emit("imageSelected",{src:at.value})}const X=ref(null),tt=computed(()=>{var wf,wo;return(wo=(wf=X.value)==null?void 0:wf.getRootNode())==null?void 0:wo.host});computed(()=>{var wf;return(wf=X==null?void 0:X.value)==null?void 0:wf.parentNode});const ot=computed(()=>W.data?JSON.parse(W.data):{}),at=computed(()=>ot.value.id),ut=computed(()=>ot.value.label||W.label),wt=computed(()=>ot.value.description||W.description),uo=computed(()=>ot.value.image||W.image);computed(()=>ot.value.href||W.href);const mo=computed(()=>uo.value&&`url('${df(uo.value)}')`),yo=computed(()=>{var wf;return`${((wf=tt.value)==null?void 0:wf.clientWidth)*.33}px`});let lf;const uf=ref(!1);watch$1(uf,()=>{lf.open=uf.value});function df(wf){let wo=wf.split("/");return`${wo.slice(0,-1).join("/")}/${encodeURIComponent(wo[wo.length-1])}`}return onMounted(()=>{}),(wf,wo)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:X,id:"card",class:"card"},[createBaseVNode("div",{class:"label",innerHTML:ut.value},null,8,_hoisted_1$b),createBaseVNode("div",{class:"description",innerHTML:wt.value},null,8,_hoisted_2$8),uo.value?(openBlock(),createElementBlock("div",{key:0,class:"image",style:normalizeStyle({backgroundImage:mo.value,width:yo.value}),onClick:q},null,4)):createCommentVNode("",!0)],512))}}),_style_0$b=`*{box-sizing:border-box}:host{display:inline-block;width:100%}.card{display:grid;grid-template-columns:1fr auto;grid-template-rows:auto auto auto 1fr auto;border-radius:6px;min-height:80px;max-height:100px;overflow-y:hidden;background-color:#fff;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px}.label,.description,.summary,.links{margin:6px;font-size:1rem}.label{grid-area:1 / 1 / 2 / 2;font-size:130%;font-weight:700}.description{grid-area:2 / 1 / 3 / 2;font-size:110%;font-weight:400;height:100%}.summary{grid-area:3 / 1 / 4 / 2;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:6;overflow:hidden;line-height:1.2rem;font-weight:300}.spacer{grid-area:4 / 1 / 5 / 2;height:100%}.links{grid-area:5 / 1 / 6 / 2}.image{grid-area:1 / 2 / 6 / 3;height:100%;max-height:100px;-o-object-fit:cover;object-fit:cover;background-repeat:no-repeat;background-size:cover;background-position:center}.logo img{height:24px;margin-right:12px;cursor:pointer}sl-dialog::part(panel){max-width:unset;max-height:unset;height:100dvh}sl-dialog::part(overlay){--sl-overlay-background-color: rgba(100, 100, 100, .8)}sl-dialog::part(footer){background-color:#64646480}
`,InfoCard=_export_sfc(_sfc_main$d,[["styles",[_style_0$b]]]),_hoisted_1$a=["active"],_hoisted_2$7=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},[createBaseVNode("path",{d:"M0 80C0 53.5 21.5 32 48 32h96c26.5 0 48 21.5 48 48V96H384V80c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48H432c-26.5 0-48-21.5-48-48V160H192v16c0 1.7-.1 3.4-.3 5L272 288h96c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48H272c-26.5 0-48-21.5-48-48V336c0-1.7 .1-3.4 .3-5L144 224H48c-26.5 0-48-21.5-48-48V80z"})],-1),_hoisted_3$7=[_hoisted_2$7],_hoisted_4$6=["active"],_hoisted_5$5=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[createBaseVNode("path",{d:"M448 80c8.8 0 16 7.2 16 16V415.8l-5-6.5-136-176c-4.5-5.9-11.6-9.3-19-9.3s-14.4 3.4-19 9.3L202 340.7l-30.5-42.7C167 291.7 159.8 288 152 288s-15 3.7-19.5 10.1l-80 112L48 416.3l0-.3V96c0-8.8 7.2-16 16-16H448zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm80 192a48 48 0 1 0 0-96 48 48 0 1 0 0 96z"})],-1),_hoisted_6$5=[_hoisted_5$5],_hoisted_7$3=["active"],_hoisted_8$3=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},[createBaseVNode("path",{d:"M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"})],-1),_hoisted_9$3=[_hoisted_8$3],_hoisted_10$3=["active"],_hoisted_11$3=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},[createBaseVNode("path",{d:"M160 32c-35.3 0-64 28.7-64 64V320c0 35.3 28.7 64 64 64H512c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H160zM396 138.7l96 144c4.9 7.4 5.4 16.8 1.2 24.6S480.9 320 472 320H328 280 200c-9.2 0-17.6-5.3-21.6-13.6s-2.9-18.2 2.9-25.4l64-80c4.6-5.7 11.4-9 18.7-9s14.2 3.3 18.7 9l17.3 21.6 56-84C360.5 132 368 128 376 128s15.5 4 20 10.7zM192 128a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zM48 120c0-13.3-10.7-24-24-24S0 106.7 0 120V344c0 75.1 60.9 136 136 136H456c13.3 0 24-10.7 24-24s-10.7-24-24-24H136c-48.6 0-88-39.4-88-88V120z"})],-1),_hoisted_12$3=[_hoisted_11$3],_hoisted_13$3={key:4,slot:"nav",panel:"timelinejs"},_hoisted_14$2=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[createBaseVNode("path",{d:"M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"})],-1),_hoisted_15$2=[_hoisted_14$2],_hoisted_16$2=["active"],_hoisted_17$2=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},[createBaseVNode("path",{d:"M0 128C0 92.7 28.7 64 64 64H320c35.3 0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128zM559.1 99.8c10.4 5.6 16.9 16.4 16.9 28.2V384c0 11.8-6.5 22.6-16.9 28.2s-23 5-32.9-1.6l-96-64L416 337.1V320 192 174.9l14.2-9.5 96-64c9.8-6.5 22.4-7.2 32.9-1.6z"})],-1),_hoisted_18$2=[_hoisted_17$2],_hoisted_19$1=["active"],_hoisted_20$1=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[createBaseVNode("path",{d:"M512 32c0 113.6-84.6 207.5-194.2 222c-7.1-53.4-30.6-101.6-65.3-139.3C290.8 46.3 364 0 448 0h32c17.7 0 32 14.3 32 32zM0 96C0 78.3 14.3 64 32 64H64c123.7 0 224 100.3 224 224v32V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V320C100.3 320 0 219.7 0 96z"})],-1),_hoisted_21$1=[_hoisted_20$1],_hoisted_22$1=["active"],_hoisted_23$1=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512"},[createBaseVNode("path",{d:"M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"})],-1),_hoisted_24$1=[_hoisted_23$1],_hoisted_25$1={key:8,slot:"nav",panel:"data"},_hoisted_26$1=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[createBaseVNode("path",{d:"M0 96C0 60.7 28.7 32 64 32H448c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zm64 0v64h64V96H64zm384 0H192v64H448V96zM64 224v64h64V224H64zm384 0H192v64H448V224zM64 352v64h64V352H64zm384 0H192v64H448V352z"})],-1),_hoisted_27$1=[_hoisted_26$1],_hoisted_28$1=["caption","fit","height","zoom-on-scroll"],_hoisted_29$1=["textContent"],_hoisted_30$1={key:10,name:"map"},_hoisted_31$1=["entities","basemaps","caption","center","height","prefer-geojson","title","zoom"],_hoisted_32$1=["textContent"],_hoisted_33$1={key:11,name:"compare"},_hoisted_34$1=["height"],_hoisted_35$1=["textContent"],_hoisted_36$1=["source","height"],_hoisted_37$1=["src","height"],_hoisted_38$1=["allow","allowfullscreen","allowtransparency","caption","frameborder","height","name","referrerpolicy","src"],_hoisted_39$1=["height","eid","qid","jpid","wdid","taxonName","caption","max"],_hoisted_40$1=["height","url"],_hoisted_41$1={key:0},_hoisted_42$1=createBaseVNode("h1",null,"Params:",-1),_hoisted_43$1=["innerHTML"],_hoisted_44$1={key:1},_hoisted_45$1=createBaseVNode("h1",null,"Entities:",-1),_hoisted_46$1=["innerHTML"],_sfc_main$c=defineComponent({__name:"Juncture1Viewers.ce",props:{breakpoint:{type:Number,default:800},dataId:{type:String},entities:{type:String}},setup(F){const W=F,q=ref(null),X=computed(()=>{var yf,Sf;return(Sf=(yf=q.value)==null?void 0:yf.getRootNode())==null?void 0:Sf.host}),tt=ref(null),ot=location.hostname==="localhost"?"dev":"prod",at=computed(()=>uo.value>=W.breakpoint),ut=ref();watch$1(X,()=>gf());function wt(){var yf,Sf,xf;if(at.value){let bf=(yf=X.value.parentElement)==null?void 0:yf.clientHeight,Af=((xf=(Sf=tt.value)==null?void 0:Sf.querySelector("sl-tab"))==null?void 0:xf.clientHeight)||36;mo.value=bf-Af}else mo.value=void 0}const uo=ref(document.body.getBoundingClientRect().width);watch$1(uo,()=>{wt()}),onMounted(()=>{W.entities&&getEntityData(W.entities.split(" ")).then(yf=>ut.value=yf),wt(),new ResizeObserver(()=>{uo.value=document.body.getBoundingClientRect().width}).observe(document.body)});const mo=ref(),yo=ref([]),lf=computed(()=>yo.value.filter(yf=>yf["ve-compare"]!==void 0).map(yf=>toRaw(yf))),uf=computed(()=>yo.value.filter(yf=>yf["ve-d3plus-ring-network"]||yf["ve-vis-network"]!==void 0).map(yf=>toRaw(yf))),df=computed(()=>yo.value.filter(yf=>yf["ve-iframe"]!==void 0).map(yf=>toRaw(yf))),wf=computed(()=>yo.value.filter(yf=>yf["ve-image"]!==void 0).map(yf=>toRaw(yf)));watch$1(wf,yf=>{yf.length&&console.log(toRaw(yf))});const wo=computed(()=>yo.value.filter(yf=>yf["ve-map"]!==void 0).map(yf=>toRaw(yf))),ls=computed(()=>yo.value.filter(yf=>yf["ve-map-layer"]!==void 0||yf["ve-map-marker"]!==void 0).map(yf=>toRaw(yf))),_f=computed(()=>yo.value.filter(yf=>yf["ve-plant-specimen"]!==void 0).map(yf=>toRaw(yf))),po=computed(()=>yo.value.filter(yf=>yf["ve-knightlab-timeline"]!==void 0).map(yf=>toRaw(yf))),xo=computed(()=>yo.value.filter(yf=>yf["ve-video"]!==void 0).map(yf=>toRaw(yf)));function gf(){function yf(){yo.value=Array.from(X.value.querySelectorAll("param")).map((Sf,xf)=>({...Object.fromEntries(Array.from(Sf.attributes).map(bf=>[bf.name,bf.value])),idx:xf}))}yf(),new MutationObserver(Sf=>{for(let xf of Sf)xf.type==="childList"&&yf()}).observe(X.value,{childList:!0,subtree:!0})}function cf(yf){return Object.entries(yf).map(([Sf,xf])=>`${Sf}="${xf}"`).join(" ")}return(yf,Sf)=>{var xf,bf;return openBlock(),createElementBlock("div",{ref_key:"root",ref:q,id:"main"},[createBaseVNode("sl-tab-group",{ref_key:"tabs",ref:tt},[uf.value.length?(openBlock(),createElementBlock("sl-tab",{key:0,slot:"nav",panel:"diagrams",active:uf.value[0].idx===0},_hoisted_3$7,8,_hoisted_1$a)):createCommentVNode("",!0),wf.value.length?(openBlock(),createElementBlock("sl-tab",{key:1,slot:"nav",panel:"image",active:wf.value[0].idx===0},_hoisted_6$5,8,_hoisted_4$6)):createCommentVNode("",!0),wo.value.length?(openBlock(),createElementBlock("sl-tab",{key:2,slot:"nav",panel:"map",active:wo.value[0].idx===0},_hoisted_9$3,8,_hoisted_7$3)):createCommentVNode("",!0),lf.value.length?(openBlock(),createElementBlock("sl-tab",{key:3,slot:"nav",panel:"compare",active:lf.value[0].idx===0},_hoisted_12$3,8,_hoisted_10$3)):createCommentVNode("",!0),po.value.length?(openBlock(),createElementBlock("sl-tab",_hoisted_13$3,_hoisted_15$2)):createCommentVNode("",!0),xo.value.length?(openBlock(),createElementBlock("sl-tab",{key:5,slot:"nav",panel:"videos",active:xo.value[0].idx===0},_hoisted_18$2,8,_hoisted_16$2)):createCommentVNode("",!0),_f.value.length?(openBlock(),createElementBlock("sl-tab",{key:6,slot:"nav",panel:"plantSpecimens",active:_f.value[0].idx===0},_hoisted_21$1,8,_hoisted_19$1)):createCommentVNode("",!0),df.value.length?(openBlock(),createElementBlock("sl-tab",{key:7,slot:"nav",panel:"iframes",active:df.value[0].idx===0},_hoisted_24$1,8,_hoisted_22$1)):createCommentVNode("",!0),unref(ot)==="dev"?(openBlock(),createElementBlock("sl-tab",_hoisted_25$1,_hoisted_27$1)):createCommentVNode("",!0),wf.value.length?(openBlock(),createElementBlock("sl-tab-panel",{key:9,name:"image",style:normalizeStyle(`height:${mo.value}px`)},[createBaseVNode("mdp-image",{caption:(xf=wf.value[0])==null?void 0:xf.caption,fit:(bf=wf.value[0])==null?void 0:bf.fit,height:mo.value,"zoom-on-scroll":at.value?"":null},[createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(wf.value,(Af,Pf)=>(openBlock(),createElementBlock("li",{key:`image-${Pf}`,textContent:toDisplayString(cf(Af))},null,8,_hoisted_29$1))),128))])],8,_hoisted_28$1)],4)):createCommentVNode("",!0),wo.value.length?(openBlock(),createElementBlock("sl-tab-panel",_hoisted_30$1,[createBaseVNode("mdp-map",{entities:W.entities,basemaps:wo.value[0].basemaps||wo.value[0].basemap,caption:wo.value[0].caption,center:wo.value[0].center,height:mo.value,"prefer-geojson":wo.value[0]["prefer-geojson"]===""?"":null,title:wo.value[0].title,zoom:wo.value[0].zoom},[createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ls.value,(Af,Pf)=>(openBlock(),createElementBlock("li",{key:`map-layer-${Pf}`,textContent:toDisplayString(cf(Af))},null,8,_hoisted_32$1))),128))])],8,_hoisted_31$1)])):createCommentVNode("",!0),lf.value.length?(openBlock(),createElementBlock("sl-tab-panel",_hoisted_33$1,[createBaseVNode("mdp-compare",{height:mo.value},[createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(lf.value,(Af,Pf)=>(openBlock(),createElementBlock("li",{key:`compare-${Pf}`,textContent:toDisplayString(cf(Af))},null,8,_hoisted_35$1))),128))])],8,_hoisted_34$1)])):createCommentVNode("",!0),po.value.length?(openBlock(),createElementBlock("sl-tab-panel",{key:12,name:"timelinejs",style:normalizeStyle({height:`${mo.value}px`})},[createBaseVNode("mdp-knightlab-timeline",{source:po.value[0].source,height:mo.value},null,8,_hoisted_36$1)],4)):createCommentVNode("",!0),xo.value.length?(openBlock(),createElementBlock("sl-tab-panel",{key:13,name:"videos",style:normalizeStyle({height:`${mo.value}px`})},[createBaseVNode("mdp-video",{src:`https://www.youtube.com/watch?v=${xo.value[0].id||xo.value[0].vid}`,height:mo.value},null,8,_hoisted_37$1)],4)):createCommentVNode("",!0),df.value.length?(openBlock(),createElementBlock("sl-tab-panel",{key:14,name:"iframes",style:normalizeStyle({height:`${mo.value||500}px`})},[createBaseVNode("mdp-iframe",{allow:df.value[0].allow,allowfullscreen:df.value[0].allowfullscreen,allowtransparency:df.value[0].allowtransparency,caption:df.value[0].caption,frameborder:df.value[0].frameborder,height:mo.value,name:df.value[0].name,referrerpolicy:df.value[0].referrerpolicy,src:df.value[0].src},null,8,_hoisted_38$1)],4)):createCommentVNode("",!0),_f.value.length?(openBlock(),createElementBlock("sl-tab-panel",{key:15,name:"plantSpecimens",style:normalizeStyle({height:`${mo.value}px`})},[createBaseVNode("mdp-plant-specimen",{height:mo.value,eid:_f.value[0].eid,qid:_f.value[0].qid,jpid:_f.value[0].jpid,wdid:_f.value[0].wdid,taxonName:_f.value[0].taxonName,caption:_f.value[0].caption,max:_f.value[0].max},null,8,_hoisted_39$1)],4)):createCommentVNode("",!0),uf.value.length?(openBlock(),createElementBlock("sl-tab-panel",{key:16,name:"diagrams",style:normalizeStyle({height:`${mo.value}px`})},[createBaseVNode("mdp-visjs",{height:mo.value,url:uf.value[0].url},null,8,_hoisted_40$1)],4)):createCommentVNode("",!0),createBaseVNode("sl-tab-panel",{name:"data",style:normalizeStyle({height:`${mo.value}px`,backgroundColor:"white",overflowY:"scroll"})},[yo.value?(openBlock(),createElementBlock("div",_hoisted_41$1,[_hoisted_42$1,(openBlock(!0),createElementBlock(Fragment,null,renderList(yo.value,(Af,Pf)=>(openBlock(),createElementBlock("pre",{key:`param-${Pf}`,innerHTML:JSON.stringify(Af,null,2)},null,8,_hoisted_43$1))),128))])):createCommentVNode("",!0),ut.value?(openBlock(),createElementBlock("div",_hoisted_44$1,[_hoisted_45$1,createBaseVNode("pre",null,toDisplayString(Object.keys(ut.value).join(" ")),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(ut.value,(Af,Pf)=>(openBlock(),createElementBlock("pre",{key:Pf,innerHTML:JSON.stringify(Af,null,2)},null,8,_hoisted_46$1))),128))])):createCommentVNode("",!0)],4)],512)],512)}}}),_style_0$a=`#main{background-color:#000}sl-tab-group::part(tabs){background-color:#ddd}sl-tab-panel::part(base){padding:0}sl-tab::part(base){padding:.5em}h1{font-size:1em}svg{width:20px;height:20px}pre{white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word;overflow-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}
`,Juncture1Viewers=_export_sfc(_sfc_main$c,[["styles",[_style_0$a]]]),_hoisted_1$9=["src"],_sfc_main$b=defineComponent({__name:"KnightlabTimeline.ce",props:{hashBookmark:{type:Boolean,default:!1},initialZoom:{type:Number,default:1},height:{type:Number,default:650},source:{type:String},timenavPosition:{type:String,default:"bottom"}},setup(F){const W=F;watch$1(W,()=>{at()});const q=ref(null),X=computed(()=>{var ut,wt;return(wt=(ut=q.value)==null?void 0:ut.getRootNode())==null?void 0:wt.host}),tt=ref(0);watch$1(tt,()=>at()),watch$1(X,ut=>{ut.parentElement.clientHeight?tt.value=ut.parentElement.clientHeight:new ResizeObserver(()=>tt.value=ut.parentElement.clientHeight).observe(ut.parentElement)});const ot=ref(0);function at(){ot.value=W.height<=tt.value?W.height:tt.value}return(ut,wt)=>(openBlock(),createElementBlock("div",{class:"main",ref_key:"main",ref:q,style:normalizeStyle({height:`${ot.value}px`})},[createBaseVNode("iframe",{src:`https://cdn.knightlab.com/libs/timeline3/latest/embed/index.html?source=${F.source}&font=Default&lang=en&timenav_position=${F.timenavPosition}&hash_bookmark=${F.hashBookmark}&initial_zoom=${F.initialZoom}&height=${ot.value}`,width:"100%",height:"100%",webkitallowfullscreen:"",mozallowfullscreen:"",allowfullscreen:"",frameborder:"0"},`
    `,8,_hoisted_1$9)],4))}}),_style_0$9=`.main{display:flex}
`,KnightlabTimeline=_export_sfc(_sfc_main$b,[["styles",[_style_0$9]]]),_withScopeId=F=>(pushScopeId("data-v-66754c1f"),F=F(),popScopeId(),F),_hoisted_1$8={class:"main"},_hoisted_2$6=["src"],_hoisted_3$6=["innerHTML"],_hoisted_4$5=["innerHTML"],_hoisted_5$4=["href","innerHTML"],_hoisted_6$4={class:"links"},_hoisted_7$2={class:"detail"},_hoisted_8$2={key:0,class:"provider"},_hoisted_9$2=_withScopeId(()=>createBaseVNode("span",{class:"label"},"provider",-1)),_hoisted_10$2={key:0,style:{display:"flex","align-items":"center"}},_hoisted_11$2=["src"],_hoisted_12$2=["href","innerHTML"],_hoisted_13$2={key:1},_hoisted_14$1=["src"],_hoisted_15$1=["href","innerHTML"],_hoisted_16$1={key:1,class:"requiredStatement"},_hoisted_17$1=["innerHTML"],_hoisted_18$1={key:2,class:"rights"},_hoisted_19=_withScopeId(()=>createBaseVNode("span",{class:"label"},"Reuse rights",-1)),_hoisted_20=["href","innerHTML"],_hoisted_21={key:3,class:"metadata"},_hoisted_22=_withScopeId(()=>createBaseVNode("span",{class:"label"},"metadata",-1)),_hoisted_23=["innerHTML"],_hoisted_24=["innerHTML"],_hoisted_25={key:1},_hoisted_26=["innerHTML"],_hoisted_27={key:4,class:"navDate"},_hoisted_28=_withScopeId(()=>createBaseVNode("span",{class:"label"},"navDate",-1)),_hoisted_29=["innerHTML"],_hoisted_30={key:5,class:"homepage"},_hoisted_31=_withScopeId(()=>createBaseVNode("span",{class:"label"},"homepage",-1)),_hoisted_32=["href","innerHTML"],_hoisted_33={key:6,class:"seeAlso"},_hoisted_34=_withScopeId(()=>createBaseVNode("span",{class:"label"},"seeAlso",-1)),_hoisted_35=["href","innerHTML"],_hoisted_36={key:7,class:"logo"},_hoisted_37=_withScopeId(()=>createBaseVNode("span",{class:"label"},"logo",-1)),_hoisted_38=["href","innerHTML"],_hoisted_39={key:8,class:"imageData"},_hoisted_40=_withScopeId(()=>createBaseVNode("span",{class:"label"},"source",-1)),_hoisted_41=["href","innerHTML"],_hoisted_42=_withScopeId(()=>createBaseVNode("span",{class:"label"},"format",-1)),_hoisted_43=["innerHTML"],_hoisted_44=_withScopeId(()=>createBaseVNode("span",{class:"label"},"width",-1)),_hoisted_45=["innerHTML"],_hoisted_46=_withScopeId(()=>createBaseVNode("span",{class:"label"},"height",-1)),_hoisted_47=["innerHTML"],_sfc_main$a=defineComponent({__name:"Manifest.ce",props:{manifest:{type:Object,required:!0}},setup(F){const W=F;watch$1(W,()=>X.value=W.manifest);const q=ref(null),X=ref(null),tt=ref(null);watch$1(X,()=>tt.value=wt(X.value));const ot=computed(()=>tt.value&&mo(tt.value));onMounted(()=>at());function at(){typeof W.manifest=="object"?X.value=W.manifest:getManifest(W.manifest).then(yo=>X.value=yo)}function ut(yo,lf="en"){return typeof yo=="object"&&!Array.isArray(yo)?yo[lf]||yo.none||yo[Object.keys(yo).sort()[0]]:yo}function wt(yo){let lf={};if(lf.id=ut(yo.id),lf.label=ut(yo.label),yo.summary&&(lf.summary=ut(yo.summary)),yo.rights&&(lf.rights=yo.rights),yo.thumbnail&&(lf.thumbnail=yo.thumbnail[0].id||yo.thumbnail),yo.metadata){lf.metadata=yo.metadata.map(wf=>({label:ut(wf.label)[0],value:ut(wf.value)}));let uf=lf.metadata.find(wf=>wf.label=="source_url");lf.sourceUrl=uf?uf.value[0]:null;let df=lf.metadata.find(wf=>wf.label==="depicts");df&&(lf.depicts=df.value)}if(yo.provider&&(lf.provider=yo.provider.map(uf=>{let df={label:ut(uf.label),href:uf.id};return uf.logo&&(df.logo={src:uf.logo[0].id}),df})),yo.logo&&(lf.logo=yo.logo.map(uf=>{let df={src:typeof uf=="object"?uf.id||uf["@id"]:uf};return typeof uf=="object"&&(uf.width&&(df.width=uf.width),uf.height&&(df.height=uf.height)),df})),lf.imageData=getItemInfo(yo),lf.service=lf.imageData.service&&`${(lf.imageData.service[0].id||lf.imageData.service[0]["@id"]).replace(/\/info\.json$/,"")}/info.json`,yo.requiredStatement){let uf=yo.requiredStatement;lf.requiredStatement={label:ut(uf.label),value:ut(uf.value)}}return yo.homepage&&(lf.homepage={label:yo.homepage.label?ut(yo.homepage.label):yo.homepage.id,href:yo.homepage.id}),yo.seeAlso&&(lf.seeAlso=yo.seeAlso.map(uf=>({label:uf.label?ut(uf.label):uf.id,href:uf.id}))),lf}function uo(yo){navigator.clipboard&&navigator.clipboard.writeText(yo)}function mo(yo){let lf={cc:{badgeWidth:88,badgeHeight:31,badgeTemplate:'https://licensebuttons.net/l/${this.rightsCode}${this.rightsCode === "publicdomain" ? "" : "/"+this.version}/${this.badgeWidth}x${this.badgeHeight}.png'},rs:{badgeTemplate:"https://rightsstatements.org/files/buttons/${this.rightsCode}.white.svg",backgroundColor:"318ac7"}};const uf=function(xo,gf){return new Function("return `"+xo+"`;").call(gf)};let df=yo.rights||"",wf="",[wo,ls,_f,po]=df.split("/").slice(2);return wo==="creativecommons.org"?(_f=_f==="zero"?"publicdomain":_f,wf=`<img src="${uf(lf.cc.badgeTemplate,{...lf.cc,rightsCode:_f,version:po})}"/>`):wo==="rightsstatements.org"&&(wf=`<div style="display:inline-block;height:25px;padding:3px;background-color:#${lf.rs.backgroundColor};"><img style="height:100%;" src="${uf(lf.rs.badgeTemplate,{...lf.rs,rightsCode:_f})}"/></div>`),wf}return(yo,lf)=>{var uf,df,wf,wo,ls,_f,po,xo,gf,cf,yf,Sf,xf,bf,Af;return openBlock(),createElementBlock("div",{ref_key:"root",ref:q,class:"manifest"},[createBaseVNode("div",_hoisted_1$8,[createBaseVNode("img",{class:"thumbnail",src:(uf=tt.value)==null?void 0:uf.thumbnail},null,8,_hoisted_2$6),createBaseVNode("div",{class:"label",innerHTML:(df=tt.value)==null?void 0:df.label},null,8,_hoisted_3$6),(wf=tt.value)!=null&&wf.summary?(openBlock(),createElementBlock("div",{key:0,class:"summary",innerHTML:(wo=tt.value)==null?void 0:wo.summary},null,8,_hoisted_4$5)):createCommentVNode("",!0),(ls=tt.value)!=null&&ls.rights?(openBlock(),createElementBlock("a",{key:1,href:(_f=tt.value)==null?void 0:_f.rights,innerHTML:ot.value},null,8,_hoisted_5$4)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_6$4,[createBaseVNode("img",{src:"https://mdpress.io/images/iiif.png",class:"iiif",alt:"IIIF manifest icon",onClick:lf[0]||(lf[0]=Pf=>uo(X.value.id))})])]),createBaseVNode("div",_hoisted_7$2,[(po=tt.value)!=null&&po.provider?(openBlock(),createElementBlock("div",_hoisted_8$2,[_hoisted_9$2,tt.value.provider.length===1?(openBlock(),createElementBlock("div",_hoisted_10$2,[tt.value.provider[0].logo?(openBlock(),createElementBlock("img",{key:0,class:"logo",src:tt.value.provider[0].logo.src},null,8,_hoisted_11$2)):createCommentVNode("",!0),createBaseVNode("a",{class:"value",href:tt.value.provider[0].href,innerHTML:tt.value.provider[0].label},null,8,_hoisted_12$2)])):(openBlock(),createElementBlock("ul",_hoisted_13$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(tt.value.provider,(Pf,Df)=>(openBlock(),createElementBlock("li",{key:`provider-${Df}`},[Pf.logo?(openBlock(),createElementBlock("img",{key:0,class:"logo",src:Pf.logo.src},null,8,_hoisted_14$1)):createCommentVNode("",!0),createBaseVNode("a",{class:"value",href:Pf.href,innerHTML:Pf.label},null,8,_hoisted_15$1)]))),128))]))])):createCommentVNode("",!0),(xo=tt.value)!=null&&xo.requiredStatement?(openBlock(),createElementBlock("div",_hoisted_16$1,[createBaseVNode("span",{class:"value",innerHTML:tt.value.requiredStatement.value},null,8,_hoisted_17$1)])):createCommentVNode("",!0),(gf=tt.value)!=null&&gf.rights?(openBlock(),createElementBlock("div",_hoisted_18$1,[_hoisted_19,createBaseVNode("a",{class:"value",href:tt.value.rights,innerHTML:tt.value.rights},null,8,_hoisted_20)])):createCommentVNode("",!0),(cf=tt.value)!=null&&cf.metadata?(openBlock(),createElementBlock("div",_hoisted_21,[_hoisted_22,createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(tt.value.metadata,(Pf,Df)=>(openBlock(),createElementBlock("li",{key:`md-${Df}`},[createBaseVNode("span",{class:"label",innerHTML:Pf.label},null,8,_hoisted_23),Pf.value.length===1?(openBlock(),createElementBlock("span",{key:0,class:"value",innerHTML:Pf.value[0]},null,8,_hoisted_24)):(openBlock(),createElementBlock("ul",_hoisted_25,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Pf.value,zf=>(openBlock(),createElementBlock("li",{class:"value",innerHTML:zf},null,8,_hoisted_26))),256))]))]))),128))])])):createCommentVNode("",!0),(yf=tt.value)!=null&&yf.navDate?(openBlock(),createElementBlock("div",_hoisted_27,[_hoisted_28,createBaseVNode("span",{class:"value",innerHTML:tt.value.navDate},null,8,_hoisted_29)])):createCommentVNode("",!0),(Sf=tt.value)!=null&&Sf.homepage?(openBlock(),createElementBlock("div",_hoisted_30,[_hoisted_31,createBaseVNode("a",{class:"value",href:tt.value.homepage.href,innerHTML:tt.value.homepage.label},null,8,_hoisted_32)])):createCommentVNode("",!0),(xf=tt.value)!=null&&xf.seeAlso?(openBlock(),createElementBlock("div",_hoisted_33,[_hoisted_34,createBaseVNode("a",{class:"value",href:tt.value.seeAlso[0].href,innerHTML:tt.value.seeAlso[0].label},null,8,_hoisted_35)])):createCommentVNode("",!0),(bf=tt.value)!=null&&bf.logo?(openBlock(),createElementBlock("div",_hoisted_36,[_hoisted_37,createBaseVNode("a",{class:"value",href:tt.value.logo[0].src,innerHTML:tt.value.logo[0].src},null,8,_hoisted_38)])):createCommentVNode("",!0),(Af=tt.value)!=null&&Af.imageData?(openBlock(),createElementBlock("div",_hoisted_39,[createBaseVNode("div",null,[_hoisted_40,createBaseVNode("a",{class:"value",href:tt.value.imageData.id,innerHTML:tt.value.imageData.id.split("/").pop()},null,8,_hoisted_41)]),createBaseVNode("div",null,[_hoisted_42,createBaseVNode("span",{class:"value",innerHTML:tt.value.imageData.format},null,8,_hoisted_43)]),createBaseVNode("div",null,[_hoisted_44,createBaseVNode("span",{class:"value",innerHTML:tt.value.imageData.width},null,8,_hoisted_45)]),createBaseVNode("div",null,[_hoisted_46,createBaseVNode("span",{class:"value",innerHTML:tt.value.imageData.height},null,8,_hoisted_47)])])):createCommentVNode("",!0)])],512)}}}),_style_0$8=`*[data-v-66754c1f]{box-sizing:border-box}.manifest[data-v-66754c1f]{width:100%;height:100%;overflow-y:scroll;background-color:#fff;font-size:.8em}.main[data-v-66754c1f],.detail[data-v-66754c1f]{display:flow-root;margin:6px}.main>*[data-v-66754c1f]{margin-bottom:6px}.detail>div[data-v-66754c1f]{margin-top:12px}.main .label[data-v-66754c1f]{font-size:1.2em;font-weight:700}.thumbnail[data-v-66754c1f]{float:left;max-width:45%;max-height:200px;margin:0 6px 6px 0}.links[data-v-66754c1f]{margin-top:6px}img.iiif[data-v-66754c1f]{height:24px;cursor:copy}ul[data-v-66754c1f]{list-style:none;padding-left:12px;margin-top:0}.detail .label[data-v-66754c1f]{font-size:1.1em;font-weight:700;min-width:80px;margin-right:6px}.detail .label[data-v-66754c1f]:after{content:":"}.detail .value[data-v-66754c1f],.main .label[data-v-66754c1f]{white-space:pre-wrap;overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}.logo[data-v-66754c1f]{padding-right:6px}img.logo[data-v-66754c1f]{height:40px}.manifest-id[data-v-66754c1f],.manifest-label[data-v-66754c1f],.summary[data-v-66754c1f],.provider[data-v-66754c1f],.rights[data-v-66754c1f],.service[data-v-66754c1f],.imageData div[data-v-66754c1f],.thumbnail[data-v-66754c1f]{display:flex;align-items:flex-start}.metadata>ul[data-v-66754c1f],.requiredStatement ul[data-v-66754c1f]{padding-left:24px}.metadata ul li[data-v-66754c1f],.requiredStatement ul li[data-v-66754c1f]{display:flex}.metadata ul ul[data-v-66754c1f]{padding-left:0}a[data-v-66754c1f]:link,a[data-v-66754c1f]:visited{color:#00e}
`,Manifest=_export_sfc(_sfc_main$a,[["styles",[_style_0$8]],["__scopeId","data-v-66754c1f"]]);var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start$1="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(F,W){return F.concat([W+"-"+start$1,W+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(F,W){return F.concat([W,W+"-"+start$1,W+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(F){return F?(F.nodeName||"").toLowerCase():null}function getWindow(F){if(F==null)return window;if(F.toString()!=="[object Window]"){var W=F.ownerDocument;return W&&W.defaultView||window}return F}function isElement(F){var W=getWindow(F).Element;return F instanceof W||F instanceof Element}function isHTMLElement(F){var W=getWindow(F).HTMLElement;return F instanceof W||F instanceof HTMLElement}function isShadowRoot(F){if(typeof ShadowRoot>"u")return!1;var W=getWindow(F).ShadowRoot;return F instanceof W||F instanceof ShadowRoot}function applyStyles(F){var W=F.state;Object.keys(W.elements).forEach(function(q){var X=W.styles[q]||{},tt=W.attributes[q]||{},ot=W.elements[q];!isHTMLElement(ot)||!getNodeName(ot)||(Object.assign(ot.style,X),Object.keys(tt).forEach(function(at){var ut=tt[at];ut===!1?ot.removeAttribute(at):ot.setAttribute(at,ut===!0?"":ut)}))})}function effect$2(F){var W=F.state,q={popper:{position:W.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(W.elements.popper.style,q.popper),W.styles=q,W.elements.arrow&&Object.assign(W.elements.arrow.style,q.arrow),function(){Object.keys(W.elements).forEach(function(X){var tt=W.elements[X],ot=W.attributes[X]||{},at=Object.keys(W.styles.hasOwnProperty(X)?W.styles[X]:q[X]),ut=at.reduce(function(wt,uo){return wt[uo]="",wt},{});!isHTMLElement(tt)||!getNodeName(tt)||(Object.assign(tt.style,ut),Object.keys(ot).forEach(function(wt){tt.removeAttribute(wt)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(F){return F.split("-")[0]}var max$1=Math.max,min$1=Math.min,round=Math.round;function getUAString(){var F=navigator.userAgentData;return F!=null&&F.brands&&Array.isArray(F.brands)?F.brands.map(function(W){return W.brand+"/"+W.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(F,W,q){W===void 0&&(W=!1),q===void 0&&(q=!1);var X=F.getBoundingClientRect(),tt=1,ot=1;W&&isHTMLElement(F)&&(tt=F.offsetWidth>0&&round(X.width)/F.offsetWidth||1,ot=F.offsetHeight>0&&round(X.height)/F.offsetHeight||1);var at=isElement(F)?getWindow(F):window,ut=at.visualViewport,wt=!isLayoutViewport()&&q,uo=(X.left+(wt&&ut?ut.offsetLeft:0))/tt,mo=(X.top+(wt&&ut?ut.offsetTop:0))/ot,yo=X.width/tt,lf=X.height/ot;return{width:yo,height:lf,top:mo,right:uo+yo,bottom:mo+lf,left:uo,x:uo,y:mo}}function getLayoutRect(F){var W=getBoundingClientRect(F),q=F.offsetWidth,X=F.offsetHeight;return Math.abs(W.width-q)<=1&&(q=W.width),Math.abs(W.height-X)<=1&&(X=W.height),{x:F.offsetLeft,y:F.offsetTop,width:q,height:X}}function contains(F,W){var q=W.getRootNode&&W.getRootNode();if(F.contains(W))return!0;if(q&&isShadowRoot(q)){var X=W;do{if(X&&F.isSameNode(X))return!0;X=X.parentNode||X.host}while(X)}return!1}function getComputedStyle$1(F){return getWindow(F).getComputedStyle(F)}function isTableElement(F){return["table","td","th"].indexOf(getNodeName(F))>=0}function getDocumentElement(F){return((isElement(F)?F.ownerDocument:F.document)||window.document).documentElement}function getParentNode(F){return getNodeName(F)==="html"?F:F.assignedSlot||F.parentNode||(isShadowRoot(F)?F.host:null)||getDocumentElement(F)}function getTrueOffsetParent(F){return!isHTMLElement(F)||getComputedStyle$1(F).position==="fixed"?null:F.offsetParent}function getContainingBlock(F){var W=/firefox/i.test(getUAString()),q=/Trident/i.test(getUAString());if(q&&isHTMLElement(F)){var X=getComputedStyle$1(F);if(X.position==="fixed")return null}var tt=getParentNode(F);for(isShadowRoot(tt)&&(tt=tt.host);isHTMLElement(tt)&&["html","body"].indexOf(getNodeName(tt))<0;){var ot=getComputedStyle$1(tt);if(ot.transform!=="none"||ot.perspective!=="none"||ot.contain==="paint"||["transform","perspective"].indexOf(ot.willChange)!==-1||W&&ot.willChange==="filter"||W&&ot.filter&&ot.filter!=="none")return tt;tt=tt.parentNode}return null}function getOffsetParent(F){for(var W=getWindow(F),q=getTrueOffsetParent(F);q&&isTableElement(q)&&getComputedStyle$1(q).position==="static";)q=getTrueOffsetParent(q);return q&&(getNodeName(q)==="html"||getNodeName(q)==="body"&&getComputedStyle$1(q).position==="static")?W:q||getContainingBlock(F)||W}function getMainAxisFromPlacement(F){return["top","bottom"].indexOf(F)>=0?"x":"y"}function within(F,W,q){return max$1(F,min$1(W,q))}function withinMaxClamp(F,W,q){var X=within(F,W,q);return X>q?q:X}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(F){return Object.assign({},getFreshSideObject(),F)}function expandToHashMap(F,W){return W.reduce(function(q,X){return q[X]=F,q},{})}var toPaddingObject=function F(W,q){return W=typeof W=="function"?W(Object.assign({},q.rects,{placement:q.placement})):W,mergePaddingObject(typeof W!="number"?W:expandToHashMap(W,basePlacements))};function arrow(F){var W,q=F.state,X=F.name,tt=F.options,ot=q.elements.arrow,at=q.modifiersData.popperOffsets,ut=getBasePlacement(q.placement),wt=getMainAxisFromPlacement(ut),uo=[left,right].indexOf(ut)>=0,mo=uo?"height":"width";if(!(!ot||!at)){var yo=toPaddingObject(tt.padding,q),lf=getLayoutRect(ot),uf=wt==="y"?top:left,df=wt==="y"?bottom:right,wf=q.rects.reference[mo]+q.rects.reference[wt]-at[wt]-q.rects.popper[mo],wo=at[wt]-q.rects.reference[wt],ls=getOffsetParent(ot),_f=ls?wt==="y"?ls.clientHeight||0:ls.clientWidth||0:0,po=wf/2-wo/2,xo=yo[uf],gf=_f-lf[mo]-yo[df],cf=_f/2-lf[mo]/2+po,yf=within(xo,cf,gf),Sf=wt;q.modifiersData[X]=(W={},W[Sf]=yf,W.centerOffset=yf-cf,W)}}function effect$1(F){var W=F.state,q=F.options,X=q.element,tt=X===void 0?"[data-popper-arrow]":X;tt!=null&&(typeof tt=="string"&&(tt=W.elements.popper.querySelector(tt),!tt)||contains(W.elements.popper,tt)&&(W.elements.arrow=tt))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(F){return F.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(F,W){var q=F.x,X=F.y,tt=W.devicePixelRatio||1;return{x:round(q*tt)/tt||0,y:round(X*tt)/tt||0}}function mapToStyles(F){var W,q=F.popper,X=F.popperRect,tt=F.placement,ot=F.variation,at=F.offsets,ut=F.position,wt=F.gpuAcceleration,uo=F.adaptive,mo=F.roundOffsets,yo=F.isFixed,lf=at.x,uf=lf===void 0?0:lf,df=at.y,wf=df===void 0?0:df,wo=typeof mo=="function"?mo({x:uf,y:wf}):{x:uf,y:wf};uf=wo.x,wf=wo.y;var ls=at.hasOwnProperty("x"),_f=at.hasOwnProperty("y"),po=left,xo=top,gf=window;if(uo){var cf=getOffsetParent(q),yf="clientHeight",Sf="clientWidth";if(cf===getWindow(q)&&(cf=getDocumentElement(q),getComputedStyle$1(cf).position!=="static"&&ut==="absolute"&&(yf="scrollHeight",Sf="scrollWidth")),cf=cf,tt===top||(tt===left||tt===right)&&ot===end){xo=bottom;var xf=yo&&cf===gf&&gf.visualViewport?gf.visualViewport.height:cf[yf];wf-=xf-X.height,wf*=wt?1:-1}if(tt===left||(tt===top||tt===bottom)&&ot===end){po=right;var bf=yo&&cf===gf&&gf.visualViewport?gf.visualViewport.width:cf[Sf];uf-=bf-X.width,uf*=wt?1:-1}}var Af=Object.assign({position:ut},uo&&unsetSides),Pf=mo===!0?roundOffsetsByDPR({x:uf,y:wf},getWindow(q)):{x:uf,y:wf};if(uf=Pf.x,wf=Pf.y,wt){var Df;return Object.assign({},Af,(Df={},Df[xo]=_f?"0":"",Df[po]=ls?"0":"",Df.transform=(gf.devicePixelRatio||1)<=1?"translate("+uf+"px, "+wf+"px)":"translate3d("+uf+"px, "+wf+"px, 0)",Df))}return Object.assign({},Af,(W={},W[xo]=_f?wf+"px":"",W[po]=ls?uf+"px":"",W.transform="",W))}function computeStyles(F){var W=F.state,q=F.options,X=q.gpuAcceleration,tt=X===void 0?!0:X,ot=q.adaptive,at=ot===void 0?!0:ot,ut=q.roundOffsets,wt=ut===void 0?!0:ut,uo={placement:getBasePlacement(W.placement),variation:getVariation(W.placement),popper:W.elements.popper,popperRect:W.rects.popper,gpuAcceleration:tt,isFixed:W.options.strategy==="fixed"};W.modifiersData.popperOffsets!=null&&(W.styles.popper=Object.assign({},W.styles.popper,mapToStyles(Object.assign({},uo,{offsets:W.modifiersData.popperOffsets,position:W.options.strategy,adaptive:at,roundOffsets:wt})))),W.modifiersData.arrow!=null&&(W.styles.arrow=Object.assign({},W.styles.arrow,mapToStyles(Object.assign({},uo,{offsets:W.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:wt})))),W.attributes.popper=Object.assign({},W.attributes.popper,{"data-popper-placement":W.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(F){var W=F.state,q=F.instance,X=F.options,tt=X.scroll,ot=tt===void 0?!0:tt,at=X.resize,ut=at===void 0?!0:at,wt=getWindow(W.elements.popper),uo=[].concat(W.scrollParents.reference,W.scrollParents.popper);return ot&&uo.forEach(function(mo){mo.addEventListener("scroll",q.update,passive)}),ut&&wt.addEventListener("resize",q.update,passive),function(){ot&&uo.forEach(function(mo){mo.removeEventListener("scroll",q.update,passive)}),ut&&wt.removeEventListener("resize",q.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function F(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(F){return F.replace(/left|right|bottom|top/g,function(W){return hash$1[W]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(F){return F.replace(/start|end/g,function(W){return hash[W]})}function getWindowScroll(F){var W=getWindow(F),q=W.pageXOffset,X=W.pageYOffset;return{scrollLeft:q,scrollTop:X}}function getWindowScrollBarX(F){return getBoundingClientRect(getDocumentElement(F)).left+getWindowScroll(F).scrollLeft}function getViewportRect(F,W){var q=getWindow(F),X=getDocumentElement(F),tt=q.visualViewport,ot=X.clientWidth,at=X.clientHeight,ut=0,wt=0;if(tt){ot=tt.width,at=tt.height;var uo=isLayoutViewport();(uo||!uo&&W==="fixed")&&(ut=tt.offsetLeft,wt=tt.offsetTop)}return{width:ot,height:at,x:ut+getWindowScrollBarX(F),y:wt}}function getDocumentRect(F){var W,q=getDocumentElement(F),X=getWindowScroll(F),tt=(W=F.ownerDocument)==null?void 0:W.body,ot=max$1(q.scrollWidth,q.clientWidth,tt?tt.scrollWidth:0,tt?tt.clientWidth:0),at=max$1(q.scrollHeight,q.clientHeight,tt?tt.scrollHeight:0,tt?tt.clientHeight:0),ut=-X.scrollLeft+getWindowScrollBarX(F),wt=-X.scrollTop;return getComputedStyle$1(tt||q).direction==="rtl"&&(ut+=max$1(q.clientWidth,tt?tt.clientWidth:0)-ot),{width:ot,height:at,x:ut,y:wt}}function isScrollParent(F){var W=getComputedStyle$1(F),q=W.overflow,X=W.overflowX,tt=W.overflowY;return/auto|scroll|overlay|hidden/.test(q+tt+X)}function getScrollParent(F){return["html","body","#document"].indexOf(getNodeName(F))>=0?F.ownerDocument.body:isHTMLElement(F)&&isScrollParent(F)?F:getScrollParent(getParentNode(F))}function listScrollParents(F,W){var q;W===void 0&&(W=[]);var X=getScrollParent(F),tt=X===((q=F.ownerDocument)==null?void 0:q.body),ot=getWindow(X),at=tt?[ot].concat(ot.visualViewport||[],isScrollParent(X)?X:[]):X,ut=W.concat(at);return tt?ut:ut.concat(listScrollParents(getParentNode(at)))}function rectToClientRect(F){return Object.assign({},F,{left:F.x,top:F.y,right:F.x+F.width,bottom:F.y+F.height})}function getInnerBoundingClientRect(F,W){var q=getBoundingClientRect(F,!1,W==="fixed");return q.top=q.top+F.clientTop,q.left=q.left+F.clientLeft,q.bottom=q.top+F.clientHeight,q.right=q.left+F.clientWidth,q.width=F.clientWidth,q.height=F.clientHeight,q.x=q.left,q.y=q.top,q}function getClientRectFromMixedType(F,W,q){return W===viewport?rectToClientRect(getViewportRect(F,q)):isElement(W)?getInnerBoundingClientRect(W,q):rectToClientRect(getDocumentRect(getDocumentElement(F)))}function getClippingParents(F){var W=listScrollParents(getParentNode(F)),q=["absolute","fixed"].indexOf(getComputedStyle$1(F).position)>=0,X=q&&isHTMLElement(F)?getOffsetParent(F):F;return isElement(X)?W.filter(function(tt){return isElement(tt)&&contains(tt,X)&&getNodeName(tt)!=="body"}):[]}function getClippingRect(F,W,q,X){var tt=W==="clippingParents"?getClippingParents(F):[].concat(W),ot=[].concat(tt,[q]),at=ot[0],ut=ot.reduce(function(wt,uo){var mo=getClientRectFromMixedType(F,uo,X);return wt.top=max$1(mo.top,wt.top),wt.right=min$1(mo.right,wt.right),wt.bottom=min$1(mo.bottom,wt.bottom),wt.left=max$1(mo.left,wt.left),wt},getClientRectFromMixedType(F,at,X));return ut.width=ut.right-ut.left,ut.height=ut.bottom-ut.top,ut.x=ut.left,ut.y=ut.top,ut}function computeOffsets(F){var W=F.reference,q=F.element,X=F.placement,tt=X?getBasePlacement(X):null,ot=X?getVariation(X):null,at=W.x+W.width/2-q.width/2,ut=W.y+W.height/2-q.height/2,wt;switch(tt){case top:wt={x:at,y:W.y-q.height};break;case bottom:wt={x:at,y:W.y+W.height};break;case right:wt={x:W.x+W.width,y:ut};break;case left:wt={x:W.x-q.width,y:ut};break;default:wt={x:W.x,y:W.y}}var uo=tt?getMainAxisFromPlacement(tt):null;if(uo!=null){var mo=uo==="y"?"height":"width";switch(ot){case start$1:wt[uo]=wt[uo]-(W[mo]/2-q[mo]/2);break;case end:wt[uo]=wt[uo]+(W[mo]/2-q[mo]/2);break}}return wt}function detectOverflow(F,W){W===void 0&&(W={});var q=W,X=q.placement,tt=X===void 0?F.placement:X,ot=q.strategy,at=ot===void 0?F.strategy:ot,ut=q.boundary,wt=ut===void 0?clippingParents:ut,uo=q.rootBoundary,mo=uo===void 0?viewport:uo,yo=q.elementContext,lf=yo===void 0?popper:yo,uf=q.altBoundary,df=uf===void 0?!1:uf,wf=q.padding,wo=wf===void 0?0:wf,ls=mergePaddingObject(typeof wo!="number"?wo:expandToHashMap(wo,basePlacements)),_f=lf===popper?reference:popper,po=F.rects.popper,xo=F.elements[df?_f:lf],gf=getClippingRect(isElement(xo)?xo:xo.contextElement||getDocumentElement(F.elements.popper),wt,mo,at),cf=getBoundingClientRect(F.elements.reference),yf=computeOffsets({reference:cf,element:po,strategy:"absolute",placement:tt}),Sf=rectToClientRect(Object.assign({},po,yf)),xf=lf===popper?Sf:cf,bf={top:gf.top-xf.top+ls.top,bottom:xf.bottom-gf.bottom+ls.bottom,left:gf.left-xf.left+ls.left,right:xf.right-gf.right+ls.right},Af=F.modifiersData.offset;if(lf===popper&&Af){var Pf=Af[tt];Object.keys(bf).forEach(function(Df){var zf=[right,bottom].indexOf(Df)>=0?1:-1,jf=[top,bottom].indexOf(Df)>=0?"y":"x";bf[Df]+=Pf[jf]*zf})}return bf}function computeAutoPlacement(F,W){W===void 0&&(W={});var q=W,X=q.placement,tt=q.boundary,ot=q.rootBoundary,at=q.padding,ut=q.flipVariations,wt=q.allowedAutoPlacements,uo=wt===void 0?placements:wt,mo=getVariation(X),yo=mo?ut?variationPlacements:variationPlacements.filter(function(df){return getVariation(df)===mo}):basePlacements,lf=yo.filter(function(df){return uo.indexOf(df)>=0});lf.length===0&&(lf=yo);var uf=lf.reduce(function(df,wf){return df[wf]=detectOverflow(F,{placement:wf,boundary:tt,rootBoundary:ot,padding:at})[getBasePlacement(wf)],df},{});return Object.keys(uf).sort(function(df,wf){return uf[df]-uf[wf]})}function getExpandedFallbackPlacements(F){if(getBasePlacement(F)===auto)return[];var W=getOppositePlacement(F);return[getOppositeVariationPlacement(F),W,getOppositeVariationPlacement(W)]}function flip(F){var W=F.state,q=F.options,X=F.name;if(!W.modifiersData[X]._skip){for(var tt=q.mainAxis,ot=tt===void 0?!0:tt,at=q.altAxis,ut=at===void 0?!0:at,wt=q.fallbackPlacements,uo=q.padding,mo=q.boundary,yo=q.rootBoundary,lf=q.altBoundary,uf=q.flipVariations,df=uf===void 0?!0:uf,wf=q.allowedAutoPlacements,wo=W.options.placement,ls=getBasePlacement(wo),_f=ls===wo,po=wt||(_f||!df?[getOppositePlacement(wo)]:getExpandedFallbackPlacements(wo)),xo=[wo].concat(po).reduce(function(yp,Ep){return yp.concat(getBasePlacement(Ep)===auto?computeAutoPlacement(W,{placement:Ep,boundary:mo,rootBoundary:yo,padding:uo,flipVariations:df,allowedAutoPlacements:wf}):Ep)},[]),gf=W.rects.reference,cf=W.rects.popper,yf=new Map,Sf=!0,xf=xo[0],bf=0;bf<xo.length;bf++){var Af=xo[bf],Pf=getBasePlacement(Af),Df=getVariation(Af)===start$1,zf=[top,bottom].indexOf(Pf)>=0,jf=zf?"width":"height",$f=detectOverflow(W,{placement:Af,boundary:mo,rootBoundary:yo,altBoundary:lf,padding:uo}),Ff=zf?Df?right:left:Df?bottom:top;gf[jf]>cf[jf]&&(Ff=getOppositePlacement(Ff));var Xf=getOppositePlacement(Ff),mp=[];if(ot&&mp.push($f[Pf]<=0),ut&&mp.push($f[Ff]<=0,$f[Xf]<=0),mp.every(function(yp){return yp})){xf=Af,Sf=!1;break}yf.set(Af,mp)}if(Sf)for(var fp=df?3:1,Mp=function(Ep){var Cp=xo.find(function($p){var kp=yf.get($p);if(kp)return kp.slice(0,Ep).every(function(Dp){return Dp})});if(Cp)return xf=Cp,"break"},Np=fp;Np>0;Np--){var Pp=Mp(Np);if(Pp==="break")break}W.placement!==xf&&(W.modifiersData[X]._skip=!0,W.placement=xf,W.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(F,W,q){return q===void 0&&(q={x:0,y:0}),{top:F.top-W.height-q.y,right:F.right-W.width+q.x,bottom:F.bottom-W.height+q.y,left:F.left-W.width-q.x}}function isAnySideFullyClipped(F){return[top,right,bottom,left].some(function(W){return F[W]>=0})}function hide(F){var W=F.state,q=F.name,X=W.rects.reference,tt=W.rects.popper,ot=W.modifiersData.preventOverflow,at=detectOverflow(W,{elementContext:"reference"}),ut=detectOverflow(W,{altBoundary:!0}),wt=getSideOffsets(at,X),uo=getSideOffsets(ut,tt,ot),mo=isAnySideFullyClipped(wt),yo=isAnySideFullyClipped(uo);W.modifiersData[q]={referenceClippingOffsets:wt,popperEscapeOffsets:uo,isReferenceHidden:mo,hasPopperEscaped:yo},W.attributes.popper=Object.assign({},W.attributes.popper,{"data-popper-reference-hidden":mo,"data-popper-escaped":yo})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(F,W,q){var X=getBasePlacement(F),tt=[left,top].indexOf(X)>=0?-1:1,ot=typeof q=="function"?q(Object.assign({},W,{placement:F})):q,at=ot[0],ut=ot[1];return at=at||0,ut=(ut||0)*tt,[left,right].indexOf(X)>=0?{x:ut,y:at}:{x:at,y:ut}}function offset(F){var W=F.state,q=F.options,X=F.name,tt=q.offset,ot=tt===void 0?[0,0]:tt,at=placements.reduce(function(mo,yo){return mo[yo]=distanceAndSkiddingToXY(yo,W.rects,ot),mo},{}),ut=at[W.placement],wt=ut.x,uo=ut.y;W.modifiersData.popperOffsets!=null&&(W.modifiersData.popperOffsets.x+=wt,W.modifiersData.popperOffsets.y+=uo),W.modifiersData[X]=at}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(F){var W=F.state,q=F.name;W.modifiersData[q]=computeOffsets({reference:W.rects.reference,element:W.rects.popper,strategy:"absolute",placement:W.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(F){return F==="x"?"y":"x"}function preventOverflow(F){var W=F.state,q=F.options,X=F.name,tt=q.mainAxis,ot=tt===void 0?!0:tt,at=q.altAxis,ut=at===void 0?!1:at,wt=q.boundary,uo=q.rootBoundary,mo=q.altBoundary,yo=q.padding,lf=q.tether,uf=lf===void 0?!0:lf,df=q.tetherOffset,wf=df===void 0?0:df,wo=detectOverflow(W,{boundary:wt,rootBoundary:uo,padding:yo,altBoundary:mo}),ls=getBasePlacement(W.placement),_f=getVariation(W.placement),po=!_f,xo=getMainAxisFromPlacement(ls),gf=getAltAxis(xo),cf=W.modifiersData.popperOffsets,yf=W.rects.reference,Sf=W.rects.popper,xf=typeof wf=="function"?wf(Object.assign({},W.rects,{placement:W.placement})):wf,bf=typeof xf=="number"?{mainAxis:xf,altAxis:xf}:Object.assign({mainAxis:0,altAxis:0},xf),Af=W.modifiersData.offset?W.modifiersData.offset[W.placement]:null,Pf={x:0,y:0};if(cf){if(ot){var Df,zf=xo==="y"?top:left,jf=xo==="y"?bottom:right,$f=xo==="y"?"height":"width",Ff=cf[xo],Xf=Ff+wo[zf],mp=Ff-wo[jf],fp=uf?-Sf[$f]/2:0,Mp=_f===start$1?yf[$f]:Sf[$f],Np=_f===start$1?-Sf[$f]:-yf[$f],Pp=W.elements.arrow,yp=uf&&Pp?getLayoutRect(Pp):{width:0,height:0},Ep=W.modifiersData["arrow#persistent"]?W.modifiersData["arrow#persistent"].padding:getFreshSideObject(),Cp=Ep[zf],$p=Ep[jf],kp=within(0,yf[$f],yp[$f]),Dp=po?yf[$f]/2-fp-kp-Cp-bf.mainAxis:Mp-kp-Cp-bf.mainAxis,Fp=po?-yf[$f]/2+fp+kp+$p+bf.mainAxis:Np+kp+$p+bf.mainAxis,Sp=W.elements.arrow&&getOffsetParent(W.elements.arrow),up=Sp?xo==="y"?Sp.clientTop||0:Sp.clientLeft||0:0,Nf=(Df=Af==null?void 0:Af[xo])!=null?Df:0,Jf=Ff+Dp-Nf-up,ip=Ff+Fp-Nf,ap=within(uf?min$1(Xf,Jf):Xf,Ff,uf?max$1(mp,ip):mp);cf[xo]=ap,Pf[xo]=ap-Ff}if(ut){var Op,Gp=xo==="x"?top:left,bp=xo==="x"?bottom:right,zp=cf[gf],Rp=gf==="y"?"height":"width",Up=zp+wo[Gp],Zp=zp-wo[bp],og=[top,left].indexOf(ls)!==-1,Ap=(Op=Af==null?void 0:Af[gf])!=null?Op:0,Ip=og?Up:zp-yf[Rp]-Sf[Rp]-Ap+bf.altAxis,jp=og?zp+yf[Rp]+Sf[Rp]-Ap-bf.altAxis:Zp,Jp=uf&&og?withinMaxClamp(Ip,zp,jp):within(uf?Ip:Up,zp,uf?jp:Zp);cf[gf]=Jp,Pf[gf]=Jp-zp}W.modifiersData[X]=Pf}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(F){return{scrollLeft:F.scrollLeft,scrollTop:F.scrollTop}}function getNodeScroll(F){return F===getWindow(F)||!isHTMLElement(F)?getWindowScroll(F):getHTMLElementScroll(F)}function isElementScaled(F){var W=F.getBoundingClientRect(),q=round(W.width)/F.offsetWidth||1,X=round(W.height)/F.offsetHeight||1;return q!==1||X!==1}function getCompositeRect(F,W,q){q===void 0&&(q=!1);var X=isHTMLElement(W),tt=isHTMLElement(W)&&isElementScaled(W),ot=getDocumentElement(W),at=getBoundingClientRect(F,tt,q),ut={scrollLeft:0,scrollTop:0},wt={x:0,y:0};return(X||!X&&!q)&&((getNodeName(W)!=="body"||isScrollParent(ot))&&(ut=getNodeScroll(W)),isHTMLElement(W)?(wt=getBoundingClientRect(W,!0),wt.x+=W.clientLeft,wt.y+=W.clientTop):ot&&(wt.x=getWindowScrollBarX(ot))),{x:at.left+ut.scrollLeft-wt.x,y:at.top+ut.scrollTop-wt.y,width:at.width,height:at.height}}function order(F){var W=new Map,q=new Set,X=[];F.forEach(function(ot){W.set(ot.name,ot)});function tt(ot){q.add(ot.name);var at=[].concat(ot.requires||[],ot.requiresIfExists||[]);at.forEach(function(ut){if(!q.has(ut)){var wt=W.get(ut);wt&&tt(wt)}}),X.push(ot)}return F.forEach(function(ot){q.has(ot.name)||tt(ot)}),X}function orderModifiers(F){var W=order(F);return modifierPhases.reduce(function(q,X){return q.concat(W.filter(function(tt){return tt.phase===X}))},[])}function debounce(F){var W;return function(){return W||(W=new Promise(function(q){Promise.resolve().then(function(){W=void 0,q(F())})})),W}}function mergeByName(F){var W=F.reduce(function(q,X){var tt=q[X.name];return q[X.name]=tt?Object.assign({},tt,X,{options:Object.assign({},tt.options,X.options),data:Object.assign({},tt.data,X.data)}):X,q},{});return Object.keys(W).map(function(q){return W[q]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var F=arguments.length,W=new Array(F),q=0;q<F;q++)W[q]=arguments[q];return!W.some(function(X){return!(X&&typeof X.getBoundingClientRect=="function")})}function popperGenerator(F){F===void 0&&(F={});var W=F,q=W.defaultModifiers,X=q===void 0?[]:q,tt=W.defaultOptions,ot=tt===void 0?DEFAULT_OPTIONS:tt;return function(ut,wt,uo){uo===void 0&&(uo=ot);var mo={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,ot),modifiersData:{},elements:{reference:ut,popper:wt},attributes:{},styles:{}},yo=[],lf=!1,uf={state:mo,setOptions:function(ls){var _f=typeof ls=="function"?ls(mo.options):ls;wf(),mo.options=Object.assign({},ot,mo.options,_f),mo.scrollParents={reference:isElement(ut)?listScrollParents(ut):ut.contextElement?listScrollParents(ut.contextElement):[],popper:listScrollParents(wt)};var po=orderModifiers(mergeByName([].concat(X,mo.options.modifiers)));return mo.orderedModifiers=po.filter(function(xo){return xo.enabled}),df(),uf.update()},forceUpdate:function(){if(!lf){var ls=mo.elements,_f=ls.reference,po=ls.popper;if(areValidElements(_f,po)){mo.rects={reference:getCompositeRect(_f,getOffsetParent(po),mo.options.strategy==="fixed"),popper:getLayoutRect(po)},mo.reset=!1,mo.placement=mo.options.placement,mo.orderedModifiers.forEach(function(bf){return mo.modifiersData[bf.name]=Object.assign({},bf.data)});for(var xo=0;xo<mo.orderedModifiers.length;xo++){if(mo.reset===!0){mo.reset=!1,xo=-1;continue}var gf=mo.orderedModifiers[xo],cf=gf.fn,yf=gf.options,Sf=yf===void 0?{}:yf,xf=gf.name;typeof cf=="function"&&(mo=cf({state:mo,options:Sf,name:xf,instance:uf})||mo)}}}},update:debounce(function(){return new Promise(function(wo){uf.forceUpdate(),wo(mo)})}),destroy:function(){wf(),lf=!0}};if(!areValidElements(ut,wt))return uf;uf.setOptions(uo).then(function(wo){!lf&&uo.onFirstUpdate&&uo.onFirstUpdate(wo)});function df(){mo.orderedModifiers.forEach(function(wo){var ls=wo.name,_f=wo.options,po=_f===void 0?{}:_f,xo=wo.effect;if(typeof xo=="function"){var gf=xo({state:mo,name:ls,instance:uf,options:po}),cf=function(){};yo.push(gf||cf)}})}function wf(){yo.forEach(function(wo){return wo()}),yo=[]}return uf}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers});/*
* HSTooltips
* @version: 1.4.0
* @author: HtmlStream
* @requires: @popperjs/core ^2.11.2
* @license: Licensed under MIT (https://preline.co/docs/license.html)
* Copyright 2023 Htmlstream
*/class HSTooltip extends Component{constructor(q){super(".hs-tooltip");Wv(this,"root");this.root=q}init(){var q;(q=this.root)==null||q.addEventListener("click",X=>{const ot=X.target.closest(this.selector);ot&&this.getClassProperty(ot,"--trigger")==="focus"&&this._focus(ot),ot&&this.getClassProperty(ot,"--trigger")==="click"&&this._click(ot)}),this.root.addEventListener("mousemove",X=>{const ot=X.target.closest(this.selector);ot&&this.getClassProperty(ot,"--trigger")!=="focus"&&this.getClassProperty(ot,"--trigger")!=="click"&&this._hover(ot)})}_hover(q){if(q.classList.contains("show"))return;const X=q.querySelector(".hs-tooltip-toggle"),tt=q.querySelector(".hs-tooltip-content"),ot=this.getClassProperty(q,"--placement");createPopper(X,tt,{placement:ot||"top",strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]}),this.show(q);const at=ut=>{ut.relatedTarget.closest(this.selector)&&ut.relatedTarget.closest(this.selector)==q||(this.hide(q),q.removeEventListener("mouseleave",at,!0))};q.addEventListener("mouseleave",at,!0)}_focus(q){const X=q.querySelector(".hs-tooltip-toggle"),tt=q.querySelector(".hs-tooltip-content"),ot=this.getClassProperty(q,"--placement"),at=this.getClassProperty(q,"--strategy");createPopper(X,tt,{placement:ot||"top",strategy:at||"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]}),this.show(q);const ut=()=>{this.hide(q),q.removeEventListener("blur",ut,!0)};q.addEventListener("blur",ut,!0)}_click(q){if(q.classList.contains("show"))return;const X=q.querySelector(".hs-tooltip-toggle"),tt=q.querySelector(".hs-tooltip-content"),ot=this.getClassProperty(q,"--placement"),at=this.getClassProperty(q,"--strategy");createPopper(X,tt,{placement:ot||"top",strategy:at||"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]}),this.show(q);const ut=wt=>{setTimeout(()=>{this.hide(q),q.removeEventListener("click",ut,!0),q.removeEventListener("blur",ut,!0)})};q.addEventListener("blur",ut,!0),q.addEventListener("click",ut,!0)}show(q){q.querySelector(".hs-tooltip-content").classList.remove("hidden"),setTimeout(()=>{q.classList.add("show"),this._fireEvent("show",q),this._dispatch("show.hs.tooltip",q,q)})}hide(q){const X=q.querySelector(".hs-tooltip-content");q.classList.remove("show"),this._fireEvent("hide",q),this._dispatch("hide.hs.tooltip",q,q),this.afterTransition(X,()=>{q.classList.contains("show")||X.classList.add("hidden")})}}const _hoisted_1$7={class:"hs-tooltip-toggle block text-center",href:"javascript:;",title:"Click for more information"},_hoisted_2$5=createBaseVNode("div",{class:"icon-wrapper"},[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[createBaseVNode("path",{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"})])],-1),_hoisted_3$5={class:"hs-tooltip-content z-30 hs-tooltip-shown:opacity-100 hs-tooltip-shown:visible hidden opacity-0 transition-opacity absolute invisible max-w-xs bg-white border border-gray-100 text-left rounded-lg shadow-md dark:bg-gray-800 dark:border-gray-700",role:"tooltip"},_hoisted_4$4={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},_hoisted_5$3={class:"p-4 md:p-5"},_hoisted_6$3=["manifest"],_sfc_main$9=defineComponent({__name:"ManifestPopup.ce",props:{manifest:{type:Object,required:!0}},setup(F){const W=F,q=ref(null),X=computed(()=>{var ot;return(ot=q==null?void 0:q.value)==null?void 0:ot.parentNode});watch$1(X,()=>{new HSTooltip(X.value).init()});const tt=ref(null);return watch$1(W,()=>tt.value=W.manifest),onMounted(()=>tt.value=W.manifest),(ot,at)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:q,class:"hs-tooltip inline-block [--trigger:click] [--placement:bottom]"},[createBaseVNode("a",_hoisted_1$7,[_hoisted_2$5,createBaseVNode("div",_hoisted_3$5,[createBaseVNode("div",_hoisted_4$4,[createBaseVNode("div",_hoisted_5$3,[tt.value?(openBlock(),createElementBlock("mdp-manifest",{key:0,manifest:tt.value},null,8,_hoisted_6$3)):createCommentVNode("",!0)])])])])],512))}}),_style_0$7=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.end-1{inset-inline-end:.25rem}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-3{margin:.75rem}.me-1{margin-inline-end:.25rem}.ml-1{margin-left:.25rem}.mr-2{margin-right:.5rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-40{height:10rem}.h-64{height:16rem}.h-8{height:2rem}.h-80{height:20rem}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-1{width:.25rem}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-10{padding:2.5rem}.p-14{padding:3.5rem}.p-16{padding:4rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-8{padding:2rem}.px-4{padding-left:1rem;padding-right:1rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pe-1{padding-inline-end:.25rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.\\!ordinal{--tw-ordinal: ordinal !important;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)!important}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[a\\:a\\]{a:a}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}mdp-header ul,mdp-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}svg{filter:invert(100%) sepia(0%) saturate(7487%) hue-rotate(339deg) brightness(115%) contrast(100%)}.icon-wrapper{background:rgba(0,0,0,.4);width:28px;height:28px;border-radius:50%;text-align:center;vertical-align:middle;padding:5px}
`,ManifestPopup=_export_sfc(_sfc_main$9,[["styles",[_style_0$7]]]);var leafletSrc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(F,W){(function(q,X){X(W)})(commonjsGlobal,function(q){var X="1.9.4";function tt(fo){var Ef,Lf,Wf,Qf;for(Lf=1,Wf=arguments.length;Lf<Wf;Lf++){Qf=arguments[Lf];for(Ef in Qf)fo[Ef]=Qf[Ef]}return fo}var ot=Object.create||function(){function fo(){}return function(Ef){return fo.prototype=Ef,new fo}}();function at(fo,Ef){var Lf=Array.prototype.slice;if(fo.bind)return fo.bind.apply(fo,Lf.call(arguments,1));var Wf=Lf.call(arguments,2);return function(){return fo.apply(Ef,Wf.length?Wf.concat(Lf.call(arguments)):arguments)}}var ut=0;function wt(fo){return"_leaflet_id"in fo||(fo._leaflet_id=++ut),fo._leaflet_id}function uo(fo,Ef,Lf){var Wf,Qf,wp,Kp;return Kp=function(){Wf=!1,Qf&&(wp.apply(Lf,Qf),Qf=!1)},wp=function(){Wf?Qf=arguments:(fo.apply(Lf,arguments),setTimeout(Kp,Ef),Wf=!0)},wp}function mo(fo,Ef,Lf){var Wf=Ef[1],Qf=Ef[0],wp=Wf-Qf;return fo===Wf&&Lf?fo:((fo-Qf)%wp+wp)%wp+Qf}function yo(){return!1}function lf(fo,Ef){if(Ef===!1)return fo;var Lf=Math.pow(10,Ef===void 0?6:Ef);return Math.round(fo*Lf)/Lf}function uf(fo){return fo.trim?fo.trim():fo.replace(/^\s+|\s+$/g,"")}function df(fo){return uf(fo).split(/\s+/)}function wf(fo,Ef){Object.prototype.hasOwnProperty.call(fo,"options")||(fo.options=fo.options?ot(fo.options):{});for(var Lf in Ef)fo.options[Lf]=Ef[Lf];return fo.options}function wo(fo,Ef,Lf){var Wf=[];for(var Qf in fo)Wf.push(encodeURIComponent(Lf?Qf.toUpperCase():Qf)+"="+encodeURIComponent(fo[Qf]));return(!Ef||Ef.indexOf("?")===-1?"?":"&")+Wf.join("&")}var ls=/\{ *([\w_ -]+) *\}/g;function _f(fo,Ef){return fo.replace(ls,function(Lf,Wf){var Qf=Ef[Wf];if(Qf===void 0)throw new Error("No value provided for variable "+Lf);return typeof Qf=="function"&&(Qf=Qf(Ef)),Qf})}var po=Array.isArray||function(fo){return Object.prototype.toString.call(fo)==="[object Array]"};function xo(fo,Ef){for(var Lf=0;Lf<fo.length;Lf++)if(fo[Lf]===Ef)return Lf;return-1}var gf="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function cf(fo){return window["webkit"+fo]||window["moz"+fo]||window["ms"+fo]}var yf=0;function Sf(fo){var Ef=+new Date,Lf=Math.max(0,16-(Ef-yf));return yf=Ef+Lf,window.setTimeout(fo,Lf)}var xf=window.requestAnimationFrame||cf("RequestAnimationFrame")||Sf,bf=window.cancelAnimationFrame||cf("CancelAnimationFrame")||cf("CancelRequestAnimationFrame")||function(fo){window.clearTimeout(fo)};function Af(fo,Ef,Lf){if(Lf&&xf===Sf)fo.call(Ef);else return xf.call(window,at(fo,Ef))}function Pf(fo){fo&&bf.call(window,fo)}var Df={__proto__:null,extend:tt,create:ot,bind:at,get lastId(){return ut},stamp:wt,throttle:uo,wrapNum:mo,falseFn:yo,formatNum:lf,trim:uf,splitWords:df,setOptions:wf,getParamString:wo,template:_f,isArray:po,indexOf:xo,emptyImageUrl:gf,requestFn:xf,cancelFn:bf,requestAnimFrame:Af,cancelAnimFrame:Pf};function zf(){}zf.extend=function(fo){var Ef=function(){wf(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},Lf=Ef.__super__=this.prototype,Wf=ot(Lf);Wf.constructor=Ef,Ef.prototype=Wf;for(var Qf in this)Object.prototype.hasOwnProperty.call(this,Qf)&&Qf!=="prototype"&&Qf!=="__super__"&&(Ef[Qf]=this[Qf]);return fo.statics&&tt(Ef,fo.statics),fo.includes&&(jf(fo.includes),tt.apply(null,[Wf].concat(fo.includes))),tt(Wf,fo),delete Wf.statics,delete Wf.includes,Wf.options&&(Wf.options=Lf.options?ot(Lf.options):{},tt(Wf.options,fo.options)),Wf._initHooks=[],Wf.callInitHooks=function(){if(!this._initHooksCalled){Lf.callInitHooks&&Lf.callInitHooks.call(this),this._initHooksCalled=!0;for(var wp=0,Kp=Wf._initHooks.length;wp<Kp;wp++)Wf._initHooks[wp].call(this)}},Ef},zf.include=function(fo){var Ef=this.prototype.options;return tt(this.prototype,fo),fo.options&&(this.prototype.options=Ef,this.mergeOptions(fo.options)),this},zf.mergeOptions=function(fo){return tt(this.prototype.options,fo),this},zf.addInitHook=function(fo){var Ef=Array.prototype.slice.call(arguments,1),Lf=typeof fo=="function"?fo:function(){this[fo].apply(this,Ef)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(Lf),this};function jf(fo){if(!(typeof L>"u"||!L||!L.Mixin)){fo=po(fo)?fo:[fo];for(var Ef=0;Ef<fo.length;Ef++)fo[Ef]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var $f={on:function(fo,Ef,Lf){if(typeof fo=="object")for(var Wf in fo)this._on(Wf,fo[Wf],Ef);else{fo=df(fo);for(var Qf=0,wp=fo.length;Qf<wp;Qf++)this._on(fo[Qf],Ef,Lf)}return this},off:function(fo,Ef,Lf){if(!arguments.length)delete this._events;else if(typeof fo=="object")for(var Wf in fo)this._off(Wf,fo[Wf],Ef);else{fo=df(fo);for(var Qf=arguments.length===1,wp=0,Kp=fo.length;wp<Kp;wp++)Qf?this._off(fo[wp]):this._off(fo[wp],Ef,Lf)}return this},_on:function(fo,Ef,Lf,Wf){if(typeof Ef!="function"){console.warn("wrong listener type: "+typeof Ef);return}if(this._listens(fo,Ef,Lf)===!1){Lf===this&&(Lf=void 0);var Qf={fn:Ef,ctx:Lf};Wf&&(Qf.once=!0),this._events=this._events||{},this._events[fo]=this._events[fo]||[],this._events[fo].push(Qf)}},_off:function(fo,Ef,Lf){var Wf,Qf,wp;if(this._events&&(Wf=this._events[fo],!!Wf)){if(arguments.length===1){if(this._firingCount)for(Qf=0,wp=Wf.length;Qf<wp;Qf++)Wf[Qf].fn=yo;delete this._events[fo];return}if(typeof Ef!="function"){console.warn("wrong listener type: "+typeof Ef);return}var Kp=this._listens(fo,Ef,Lf);if(Kp!==!1){var ug=Wf[Kp];this._firingCount&&(ug.fn=yo,this._events[fo]=Wf=Wf.slice()),Wf.splice(Kp,1)}}},fire:function(fo,Ef,Lf){if(!this.listens(fo,Lf))return this;var Wf=tt({},Ef,{type:fo,target:this,sourceTarget:Ef&&Ef.sourceTarget||this});if(this._events){var Qf=this._events[fo];if(Qf){this._firingCount=this._firingCount+1||1;for(var wp=0,Kp=Qf.length;wp<Kp;wp++){var ug=Qf[wp],bg=ug.fn;ug.once&&this.off(fo,bg,ug.ctx),bg.call(ug.ctx||this,Wf)}this._firingCount--}}return Lf&&this._propagateEvent(Wf),this},listens:function(fo,Ef,Lf,Wf){typeof fo!="string"&&console.warn('"string" type argument expected');var Qf=Ef;typeof Ef!="function"&&(Wf=!!Ef,Qf=void 0,Lf=void 0);var wp=this._events&&this._events[fo];if(wp&&wp.length&&this._listens(fo,Qf,Lf)!==!1)return!0;if(Wf){for(var Kp in this._eventParents)if(this._eventParents[Kp].listens(fo,Ef,Lf,Wf))return!0}return!1},_listens:function(fo,Ef,Lf){if(!this._events)return!1;var Wf=this._events[fo]||[];if(!Ef)return!!Wf.length;Lf===this&&(Lf=void 0);for(var Qf=0,wp=Wf.length;Qf<wp;Qf++)if(Wf[Qf].fn===Ef&&Wf[Qf].ctx===Lf)return Qf;return!1},once:function(fo,Ef,Lf){if(typeof fo=="object")for(var Wf in fo)this._on(Wf,fo[Wf],Ef,!0);else{fo=df(fo);for(var Qf=0,wp=fo.length;Qf<wp;Qf++)this._on(fo[Qf],Ef,Lf,!0)}return this},addEventParent:function(fo){return this._eventParents=this._eventParents||{},this._eventParents[wt(fo)]=fo,this},removeEventParent:function(fo){return this._eventParents&&delete this._eventParents[wt(fo)],this},_propagateEvent:function(fo){for(var Ef in this._eventParents)this._eventParents[Ef].fire(fo.type,tt({layer:fo.target,propagatedFrom:fo.target},fo),!0)}};$f.addEventListener=$f.on,$f.removeEventListener=$f.clearAllEventListeners=$f.off,$f.addOneTimeEventListener=$f.once,$f.fireEvent=$f.fire,$f.hasEventListeners=$f.listens;var Ff=zf.extend($f);function Xf(fo,Ef,Lf){this.x=Lf?Math.round(fo):fo,this.y=Lf?Math.round(Ef):Ef}var mp=Math.trunc||function(fo){return fo>0?Math.floor(fo):Math.ceil(fo)};Xf.prototype={clone:function(){return new Xf(this.x,this.y)},add:function(fo){return this.clone()._add(fp(fo))},_add:function(fo){return this.x+=fo.x,this.y+=fo.y,this},subtract:function(fo){return this.clone()._subtract(fp(fo))},_subtract:function(fo){return this.x-=fo.x,this.y-=fo.y,this},divideBy:function(fo){return this.clone()._divideBy(fo)},_divideBy:function(fo){return this.x/=fo,this.y/=fo,this},multiplyBy:function(fo){return this.clone()._multiplyBy(fo)},_multiplyBy:function(fo){return this.x*=fo,this.y*=fo,this},scaleBy:function(fo){return new Xf(this.x*fo.x,this.y*fo.y)},unscaleBy:function(fo){return new Xf(this.x/fo.x,this.y/fo.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=mp(this.x),this.y=mp(this.y),this},distanceTo:function(fo){fo=fp(fo);var Ef=fo.x-this.x,Lf=fo.y-this.y;return Math.sqrt(Ef*Ef+Lf*Lf)},equals:function(fo){return fo=fp(fo),fo.x===this.x&&fo.y===this.y},contains:function(fo){return fo=fp(fo),Math.abs(fo.x)<=Math.abs(this.x)&&Math.abs(fo.y)<=Math.abs(this.y)},toString:function(){return"Point("+lf(this.x)+", "+lf(this.y)+")"}};function fp(fo,Ef,Lf){return fo instanceof Xf?fo:po(fo)?new Xf(fo[0],fo[1]):fo==null?fo:typeof fo=="object"&&"x"in fo&&"y"in fo?new Xf(fo.x,fo.y):new Xf(fo,Ef,Lf)}function Mp(fo,Ef){if(fo)for(var Lf=Ef?[fo,Ef]:fo,Wf=0,Qf=Lf.length;Wf<Qf;Wf++)this.extend(Lf[Wf])}Mp.prototype={extend:function(fo){var Ef,Lf;if(!fo)return this;if(fo instanceof Xf||typeof fo[0]=="number"||"x"in fo)Ef=Lf=fp(fo);else if(fo=Np(fo),Ef=fo.min,Lf=fo.max,!Ef||!Lf)return this;return!this.min&&!this.max?(this.min=Ef.clone(),this.max=Lf.clone()):(this.min.x=Math.min(Ef.x,this.min.x),this.max.x=Math.max(Lf.x,this.max.x),this.min.y=Math.min(Ef.y,this.min.y),this.max.y=Math.max(Lf.y,this.max.y)),this},getCenter:function(fo){return fp((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,fo)},getBottomLeft:function(){return fp(this.min.x,this.max.y)},getTopRight:function(){return fp(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(fo){var Ef,Lf;return typeof fo[0]=="number"||fo instanceof Xf?fo=fp(fo):fo=Np(fo),fo instanceof Mp?(Ef=fo.min,Lf=fo.max):Ef=Lf=fo,Ef.x>=this.min.x&&Lf.x<=this.max.x&&Ef.y>=this.min.y&&Lf.y<=this.max.y},intersects:function(fo){fo=Np(fo);var Ef=this.min,Lf=this.max,Wf=fo.min,Qf=fo.max,wp=Qf.x>=Ef.x&&Wf.x<=Lf.x,Kp=Qf.y>=Ef.y&&Wf.y<=Lf.y;return wp&&Kp},overlaps:function(fo){fo=Np(fo);var Ef=this.min,Lf=this.max,Wf=fo.min,Qf=fo.max,wp=Qf.x>Ef.x&&Wf.x<Lf.x,Kp=Qf.y>Ef.y&&Wf.y<Lf.y;return wp&&Kp},isValid:function(){return!!(this.min&&this.max)},pad:function(fo){var Ef=this.min,Lf=this.max,Wf=Math.abs(Ef.x-Lf.x)*fo,Qf=Math.abs(Ef.y-Lf.y)*fo;return Np(fp(Ef.x-Wf,Ef.y-Qf),fp(Lf.x+Wf,Lf.y+Qf))},equals:function(fo){return fo?(fo=Np(fo),this.min.equals(fo.getTopLeft())&&this.max.equals(fo.getBottomRight())):!1}};function Np(fo,Ef){return!fo||fo instanceof Mp?fo:new Mp(fo,Ef)}function Pp(fo,Ef){if(fo)for(var Lf=Ef?[fo,Ef]:fo,Wf=0,Qf=Lf.length;Wf<Qf;Wf++)this.extend(Lf[Wf])}Pp.prototype={extend:function(fo){var Ef=this._southWest,Lf=this._northEast,Wf,Qf;if(fo instanceof Ep)Wf=fo,Qf=fo;else if(fo instanceof Pp){if(Wf=fo._southWest,Qf=fo._northEast,!Wf||!Qf)return this}else return fo?this.extend(Cp(fo)||yp(fo)):this;return!Ef&&!Lf?(this._southWest=new Ep(Wf.lat,Wf.lng),this._northEast=new Ep(Qf.lat,Qf.lng)):(Ef.lat=Math.min(Wf.lat,Ef.lat),Ef.lng=Math.min(Wf.lng,Ef.lng),Lf.lat=Math.max(Qf.lat,Lf.lat),Lf.lng=Math.max(Qf.lng,Lf.lng)),this},pad:function(fo){var Ef=this._southWest,Lf=this._northEast,Wf=Math.abs(Ef.lat-Lf.lat)*fo,Qf=Math.abs(Ef.lng-Lf.lng)*fo;return new Pp(new Ep(Ef.lat-Wf,Ef.lng-Qf),new Ep(Lf.lat+Wf,Lf.lng+Qf))},getCenter:function(){return new Ep((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ep(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ep(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(fo){typeof fo[0]=="number"||fo instanceof Ep||"lat"in fo?fo=Cp(fo):fo=yp(fo);var Ef=this._southWest,Lf=this._northEast,Wf,Qf;return fo instanceof Pp?(Wf=fo.getSouthWest(),Qf=fo.getNorthEast()):Wf=Qf=fo,Wf.lat>=Ef.lat&&Qf.lat<=Lf.lat&&Wf.lng>=Ef.lng&&Qf.lng<=Lf.lng},intersects:function(fo){fo=yp(fo);var Ef=this._southWest,Lf=this._northEast,Wf=fo.getSouthWest(),Qf=fo.getNorthEast(),wp=Qf.lat>=Ef.lat&&Wf.lat<=Lf.lat,Kp=Qf.lng>=Ef.lng&&Wf.lng<=Lf.lng;return wp&&Kp},overlaps:function(fo){fo=yp(fo);var Ef=this._southWest,Lf=this._northEast,Wf=fo.getSouthWest(),Qf=fo.getNorthEast(),wp=Qf.lat>Ef.lat&&Wf.lat<Lf.lat,Kp=Qf.lng>Ef.lng&&Wf.lng<Lf.lng;return wp&&Kp},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(fo,Ef){return fo?(fo=yp(fo),this._southWest.equals(fo.getSouthWest(),Ef)&&this._northEast.equals(fo.getNorthEast(),Ef)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function yp(fo,Ef){return fo instanceof Pp?fo:new Pp(fo,Ef)}function Ep(fo,Ef,Lf){if(isNaN(fo)||isNaN(Ef))throw new Error("Invalid LatLng object: ("+fo+", "+Ef+")");this.lat=+fo,this.lng=+Ef,Lf!==void 0&&(this.alt=+Lf)}Ep.prototype={equals:function(fo,Ef){if(!fo)return!1;fo=Cp(fo);var Lf=Math.max(Math.abs(this.lat-fo.lat),Math.abs(this.lng-fo.lng));return Lf<=(Ef===void 0?1e-9:Ef)},toString:function(fo){return"LatLng("+lf(this.lat,fo)+", "+lf(this.lng,fo)+")"},distanceTo:function(fo){return kp.distance(this,Cp(fo))},wrap:function(){return kp.wrapLatLng(this)},toBounds:function(fo){var Ef=180*fo/40075017,Lf=Ef/Math.cos(Math.PI/180*this.lat);return yp([this.lat-Ef,this.lng-Lf],[this.lat+Ef,this.lng+Lf])},clone:function(){return new Ep(this.lat,this.lng,this.alt)}};function Cp(fo,Ef,Lf){return fo instanceof Ep?fo:po(fo)&&typeof fo[0]!="object"?fo.length===3?new Ep(fo[0],fo[1],fo[2]):fo.length===2?new Ep(fo[0],fo[1]):null:fo==null?fo:typeof fo=="object"&&"lat"in fo?new Ep(fo.lat,"lng"in fo?fo.lng:fo.lon,fo.alt):Ef===void 0?null:new Ep(fo,Ef,Lf)}var $p={latLngToPoint:function(fo,Ef){var Lf=this.projection.project(fo),Wf=this.scale(Ef);return this.transformation._transform(Lf,Wf)},pointToLatLng:function(fo,Ef){var Lf=this.scale(Ef),Wf=this.transformation.untransform(fo,Lf);return this.projection.unproject(Wf)},project:function(fo){return this.projection.project(fo)},unproject:function(fo){return this.projection.unproject(fo)},scale:function(fo){return 256*Math.pow(2,fo)},zoom:function(fo){return Math.log(fo/256)/Math.LN2},getProjectedBounds:function(fo){if(this.infinite)return null;var Ef=this.projection.bounds,Lf=this.scale(fo),Wf=this.transformation.transform(Ef.min,Lf),Qf=this.transformation.transform(Ef.max,Lf);return new Mp(Wf,Qf)},infinite:!1,wrapLatLng:function(fo){var Ef=this.wrapLng?mo(fo.lng,this.wrapLng,!0):fo.lng,Lf=this.wrapLat?mo(fo.lat,this.wrapLat,!0):fo.lat,Wf=fo.alt;return new Ep(Lf,Ef,Wf)},wrapLatLngBounds:function(fo){var Ef=fo.getCenter(),Lf=this.wrapLatLng(Ef),Wf=Ef.lat-Lf.lat,Qf=Ef.lng-Lf.lng;if(Wf===0&&Qf===0)return fo;var wp=fo.getSouthWest(),Kp=fo.getNorthEast(),ug=new Ep(wp.lat-Wf,wp.lng-Qf),bg=new Ep(Kp.lat-Wf,Kp.lng-Qf);return new Pp(ug,bg)}},kp=tt({},$p,{wrapLng:[-180,180],R:6371e3,distance:function(fo,Ef){var Lf=Math.PI/180,Wf=fo.lat*Lf,Qf=Ef.lat*Lf,wp=Math.sin((Ef.lat-fo.lat)*Lf/2),Kp=Math.sin((Ef.lng-fo.lng)*Lf/2),ug=wp*wp+Math.cos(Wf)*Math.cos(Qf)*Kp*Kp,bg=2*Math.atan2(Math.sqrt(ug),Math.sqrt(1-ug));return this.R*bg}}),Dp=6378137,Fp={R:Dp,MAX_LATITUDE:85.0511287798,project:function(fo){var Ef=Math.PI/180,Lf=this.MAX_LATITUDE,Wf=Math.max(Math.min(Lf,fo.lat),-Lf),Qf=Math.sin(Wf*Ef);return new Xf(this.R*fo.lng*Ef,this.R*Math.log((1+Qf)/(1-Qf))/2)},unproject:function(fo){var Ef=180/Math.PI;return new Ep((2*Math.atan(Math.exp(fo.y/this.R))-Math.PI/2)*Ef,fo.x*Ef/this.R)},bounds:function(){var fo=Dp*Math.PI;return new Mp([-fo,-fo],[fo,fo])}()};function Sp(fo,Ef,Lf,Wf){if(po(fo)){this._a=fo[0],this._b=fo[1],this._c=fo[2],this._d=fo[3];return}this._a=fo,this._b=Ef,this._c=Lf,this._d=Wf}Sp.prototype={transform:function(fo,Ef){return this._transform(fo.clone(),Ef)},_transform:function(fo,Ef){return Ef=Ef||1,fo.x=Ef*(this._a*fo.x+this._b),fo.y=Ef*(this._c*fo.y+this._d),fo},untransform:function(fo,Ef){return Ef=Ef||1,new Xf((fo.x/Ef-this._b)/this._a,(fo.y/Ef-this._d)/this._c)}};function up(fo,Ef,Lf,Wf){return new Sp(fo,Ef,Lf,Wf)}var Nf=tt({},kp,{code:"EPSG:3857",projection:Fp,transformation:function(){var fo=.5/(Math.PI*Fp.R);return up(fo,.5,-fo,.5)}()}),Jf=tt({},Nf,{code:"EPSG:900913"});function ip(fo){return document.createElementNS("http://www.w3.org/2000/svg",fo)}function ap(fo,Ef){var Lf="",Wf,Qf,wp,Kp,ug,bg;for(Wf=0,wp=fo.length;Wf<wp;Wf++){for(ug=fo[Wf],Qf=0,Kp=ug.length;Qf<Kp;Qf++)bg=ug[Qf],Lf+=(Qf?"L":"M")+bg.x+" "+bg.y;Lf+=Ef?tm.svg?"z":"x":""}return Lf||"M0 0"}var Op=document.documentElement.style,Gp="ActiveXObject"in window,bp=Gp&&!document.addEventListener,zp="msLaunchUri"in navigator&&!("documentMode"in document),Rp=R0("webkit"),Up=R0("android"),Zp=R0("android 2")||R0("android 3"),og=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ap=Up&&R0("Google")&&og<537&&!("AudioNode"in window),Ip=!!window.opera,jp=!zp&&R0("chrome"),Jp=R0("gecko")&&!Rp&&!Ip&&!Gp,sg=!jp&&R0("safari"),mg=R0("phantom"),kg="OTransition"in Op,Eg=navigator.platform.indexOf("Win")===0,im=Gp&&"transition"in Op,hm="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Zp,dp="MozPerspective"in Op,cp=!window.L_DISABLE_3D&&(im||hm||dp)&&!kg&&!mg,Vp=typeof orientation<"u"||R0("mobile"),qp=Vp&&Rp,Ag=Vp&&hm,Dg=!window.PointerEvent&&window.MSPointerEvent,Ig=!!(window.PointerEvent||Dg),zg="ontouchstart"in window||!!window.TouchEvent,Zg=!window.L_NO_TOUCH&&(zg||Ig),wm=Vp&&Ip,pm=Vp&&Jp,bv=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,um=function(){var fo=!1;try{var Ef=Object.defineProperty({},"passive",{get:function(){fo=!0}});window.addEventListener("testPassiveEventSupport",yo,Ef),window.removeEventListener("testPassiveEventSupport",yo,Ef)}catch{}return fo}(),Y0=function(){return!!document.createElement("canvas").getContext}(),r0=!!(document.createElementNS&&ip("svg").createSVGRect),_y=!!r0&&function(){var fo=document.createElement("div");return fo.innerHTML="<svg/>",(fo.firstChild&&fo.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Wy=!r0&&function(){try{var fo=document.createElement("div");fo.innerHTML='<v:shape adj="1"/>';var Ef=fo.firstChild;return Ef.style.behavior="url(#default#VML)",Ef&&typeof Ef.adj=="object"}catch{return!1}}(),L0=navigator.platform.indexOf("Mac")===0,em=navigator.platform.indexOf("Linux")===0;function R0(fo){return navigator.userAgent.toLowerCase().indexOf(fo)>=0}var tm={ie:Gp,ielt9:bp,edge:zp,webkit:Rp,android:Up,android23:Zp,androidStock:Ap,opera:Ip,chrome:jp,gecko:Jp,safari:sg,phantom:mg,opera12:kg,win:Eg,ie3d:im,webkit3d:hm,gecko3d:dp,any3d:cp,mobile:Vp,mobileWebkit:qp,mobileWebkit3d:Ag,msPointer:Dg,pointer:Ig,touch:Zg,touchNative:zg,mobileOpera:wm,mobileGecko:pm,retina:bv,passiveEvents:um,canvas:Y0,svg:r0,vml:Wy,inlineSvg:_y,mac:L0,linux:em},d0=tm.msPointer?"MSPointerDown":"pointerdown",$b=tm.msPointer?"MSPointerMove":"pointermove",km=tm.msPointer?"MSPointerUp":"pointerup",D0=tm.msPointer?"MSPointerCancel":"pointercancel",ob={touchstart:d0,touchmove:$b,touchend:km,touchcancel:D0},Z0={touchstart:Hv,touchmove:vv,touchend:vv,touchcancel:vv},Gv={},cy=!1;function Hg(fo,Ef,Lf){return Ef==="touchstart"&&jv(),Z0[Ef]?(Lf=Z0[Ef].bind(this,Lf),fo.addEventListener(ob[Ef],Lf,!1),Lf):(console.warn("wrong event specified:",Ef),yo)}function eg(fo,Ef,Lf){if(!ob[Ef]){console.warn("wrong event specified:",Ef);return}fo.removeEventListener(ob[Ef],Lf,!1)}function Pg(fo){Gv[fo.pointerId]=fo}function Kg(fo){Gv[fo.pointerId]&&(Gv[fo.pointerId]=fo)}function Ev(fo){delete Gv[fo.pointerId]}function jv(){cy||(document.addEventListener(d0,Pg,!0),document.addEventListener($b,Kg,!0),document.addEventListener(km,Ev,!0),document.addEventListener(D0,Ev,!0),cy=!0)}function vv(fo,Ef){if(Ef.pointerType!==(Ef.MSPOINTER_TYPE_MOUSE||"mouse")){Ef.touches=[];for(var Lf in Gv)Ef.touches.push(Gv[Lf]);Ef.changedTouches=[Ef],fo(Ef)}}function Hv(fo,Ef){Ef.MSPOINTER_TYPE_TOUCH&&Ef.pointerType===Ef.MSPOINTER_TYPE_TOUCH&&f0(Ef),vv(fo,Ef)}function hy(fo){var Ef={},Lf,Wf;for(Wf in fo)Lf=fo[Wf],Ef[Wf]=Lf&&Lf.bind?Lf.bind(fo):Lf;return fo=Ef,Ef.type="dblclick",Ef.detail=2,Ef.isTrusted=!1,Ef._simulated=!0,Ef}var Ly=200;function Jv(fo,Ef){fo.addEventListener("dblclick",Ef);var Lf=0,Wf;function Qf(wp){if(wp.detail!==1){Wf=wp.detail;return}if(!(wp.pointerType==="mouse"||wp.sourceCapabilities&&!wp.sourceCapabilities.firesTouchEvents)){var Kp=Ox(wp);if(!(Kp.some(function(bg){return bg instanceof HTMLLabelElement&&bg.attributes.for})&&!Kp.some(function(bg){return bg instanceof HTMLInputElement||bg instanceof HTMLSelectElement}))){var ug=Date.now();ug-Lf<=Ly?(Wf++,Wf===2&&Ef(hy(wp))):Wf=1,Lf=ug}}}return fo.addEventListener("click",Qf),{dblclick:Ef,simDblclick:Qf}}function n1(fo,Ef){fo.removeEventListener("dblclick",Ef.dblclick),fo.removeEventListener("click",Ef.simDblclick)}var Ry=zb(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),N0=zb(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Fb=N0==="webkitTransition"||N0==="OTransition"?N0+"End":"transitionend";function sb(fo){return typeof fo=="string"?document.getElementById(fo):fo}function ov(fo,Ef){var Lf=fo.style[Ef]||fo.currentStyle&&fo.currentStyle[Ef];if((!Lf||Lf==="auto")&&document.defaultView){var Wf=document.defaultView.getComputedStyle(fo,null);Lf=Wf?Wf[Ef]:null}return Lf==="auto"?null:Lf}function Fm(fo,Ef,Lf){var Wf=document.createElement(fo);return Wf.className=Ef||"",Lf&&Lf.appendChild(Wf),Wf}function Xm(fo){var Ef=fo.parentNode;Ef&&Ef.removeChild(fo)}function J0(fo){for(;fo.firstChild;)fo.removeChild(fo.firstChild)}function ab(fo){var Ef=fo.parentNode;Ef&&Ef.lastChild!==fo&&Ef.appendChild(fo)}function Gy(fo){var Ef=fo.parentNode;Ef&&Ef.firstChild!==fo&&Ef.insertBefore(fo,Ef.firstChild)}function lb(fo,Ef){if(fo.classList!==void 0)return fo.classList.contains(Ef);var Lf=nm(fo);return Lf.length>0&&new RegExp("(^|\\s)"+Ef+"(\\s|$)").test(Lf)}function gm(fo,Ef){if(fo.classList!==void 0)for(var Lf=df(Ef),Wf=0,Qf=Lf.length;Wf<Qf;Wf++)fo.classList.add(Lf[Wf]);else if(!lb(fo,Ef)){var wp=nm(fo);o1(fo,(wp?wp+" ":"")+Ef)}}function dm(fo,Ef){fo.classList!==void 0?fo.classList.remove(Ef):o1(fo,uf((" "+nm(fo)+" ").replace(" "+Ef+" "," ")))}function o1(fo,Ef){fo.className.baseVal===void 0?fo.className=Ef:fo.className.baseVal=Ef}function nm(fo){return fo.correspondingElement&&(fo=fo.correspondingElement),fo.className.baseVal===void 0?fo.className:fo.className.baseVal}function Cm(fo,Ef){"opacity"in fo.style?fo.style.opacity=Ef:"filter"in fo.style&&ub(fo,Ef)}function ub(fo,Ef){var Lf=!1,Wf="DXImageTransform.Microsoft.Alpha";try{Lf=fo.filters.item(Wf)}catch{if(Ef===1)return}Ef=Math.round(Ef*100),Lf?(Lf.Enabled=Ef!==100,Lf.Opacity=Ef):fo.style.filter+=" progid:"+Wf+"(opacity="+Ef+")"}function zb(fo){for(var Ef=document.documentElement.style,Lf=0;Lf<fo.length;Lf++)if(fo[Lf]in Ef)return fo[Lf];return!1}function Q0(fo,Ef,Lf){var Wf=Ef||new Xf(0,0);fo.style[Ry]=(tm.ie3d?"translate("+Wf.x+"px,"+Wf.y+"px)":"translate3d("+Wf.x+"px,"+Wf.y+"px,0)")+(Lf?" scale("+Lf+")":"")}function Qv(fo,Ef){fo._leaflet_pos=Ef,tm.any3d?Q0(fo,Ef):(fo.style.left=Ef.x+"px",fo.style.top=Ef.y+"px")}function Iv(fo){return fo._leaflet_pos||new Xf(0,0)}var qy,dy,Eb;if("onselectstart"in document)qy=function(){cm(window,"selectstart",f0)},dy=function(){_m(window,"selectstart",f0)};else{var Dy=zb(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);qy=function(){if(Dy){var fo=document.documentElement.style;Eb=fo[Dy],fo[Dy]="none"}},dy=function(){Dy&&(document.documentElement.style[Dy]=Eb,Eb=void 0)}}function _p(){cm(window,"dragstart",f0)}function Lp(){_m(window,"dragstart",f0)}var Xp,vg;function Og(fo){for(;fo.tabIndex===-1;)fo=fo.parentNode;fo.style&&(Xg(),Xp=fo,vg=fo.style.outlineStyle,fo.style.outlineStyle="none",cm(window,"keydown",Xg))}function Xg(){Xp&&(Xp.style.outlineStyle=vg,Xp=void 0,vg=void 0,_m(window,"keydown",Xg))}function Dm(fo){do fo=fo.parentNode;while((!fo.offsetWidth||!fo.offsetHeight)&&fo!==document.body);return fo}function qv(fo){var Ef=fo.getBoundingClientRect();return{x:Ef.width/fo.offsetWidth||1,y:Ef.height/fo.offsetHeight||1,boundingClientRect:Ef}}var Yv={__proto__:null,TRANSFORM:Ry,TRANSITION:N0,TRANSITION_END:Fb,get:sb,getStyle:ov,create:Fm,remove:Xm,empty:J0,toFront:ab,toBack:Gy,hasClass:lb,addClass:gm,removeClass:dm,setClass:o1,getClass:nm,setOpacity:Cm,testProp:zb,setTransform:Q0,setPosition:Qv,getPosition:Iv,get disableTextSelection(){return qy},get enableTextSelection(){return dy},disableImageDrag:_p,enableImageDrag:Lp,preventOutline:Og,restoreOutline:Xg,getSizedParentNode:Dm,getScale:qv};function cm(fo,Ef,Lf,Wf){if(Ef&&typeof Ef=="object")for(var Qf in Ef)Tx(fo,Qf,Ef[Qf],Lf);else{Ef=df(Ef);for(var wp=0,Kp=Ef.length;wp<Kp;wp++)Tx(fo,Ef[wp],Lf,Wf)}return this}var s0="_leaflet_events";function _m(fo,Ef,Lf,Wf){if(arguments.length===1)Ny(fo),delete fo[s0];else if(Ef&&typeof Ef=="object")for(var Qf in Ef)c_(fo,Qf,Ef[Qf],Lf);else if(Ef=df(Ef),arguments.length===2)Ny(fo,function(ug){return xo(Ef,ug)!==-1});else for(var wp=0,Kp=Ef.length;wp<Kp;wp++)c_(fo,Ef[wp],Lf,Wf);return this}function Ny(fo,Ef){for(var Lf in fo[s0]){var Wf=Lf.split(/\d/)[0];(!Ef||Ef(Wf))&&c_(fo,Wf,null,null,Lf)}}var Sx={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Tx(fo,Ef,Lf,Wf){var Qf=Ef+wt(Lf)+(Wf?"_"+wt(Wf):"");if(fo[s0]&&fo[s0][Qf])return this;var wp=function(ug){return Lf.call(Wf||fo,ug||window.event)},Kp=wp;!tm.touchNative&&tm.pointer&&Ef.indexOf("touch")===0?wp=Hg(fo,Ef,wp):tm.touch&&Ef==="dblclick"?wp=Jv(fo,wp):"addEventListener"in fo?Ef==="touchstart"||Ef==="touchmove"||Ef==="wheel"||Ef==="mousewheel"?fo.addEventListener(Sx[Ef]||Ef,wp,tm.passiveEvents?{passive:!1}:!1):Ef==="mouseenter"||Ef==="mouseleave"?(wp=function(ug){ug=ug||window.event,hb(fo,ug)&&Kp(ug)},fo.addEventListener(Sx[Ef],wp,!1)):fo.addEventListener(Ef,Kp,!1):fo.attachEvent("on"+Ef,wp),fo[s0]=fo[s0]||{},fo[s0][Qf]=wp}function c_(fo,Ef,Lf,Wf,Qf){Qf=Qf||Ef+wt(Lf)+(Wf?"_"+wt(Wf):"");var wp=fo[s0]&&fo[s0][Qf];if(!wp)return this;!tm.touchNative&&tm.pointer&&Ef.indexOf("touch")===0?eg(fo,Ef,wp):tm.touch&&Ef==="dblclick"?n1(fo,wp):"removeEventListener"in fo?fo.removeEventListener(Sx[Ef]||Ef,wp,!1):fo.detachEvent("on"+Ef,wp),fo[s0][Qf]=null}function tw(fo){return fo.stopPropagation?fo.stopPropagation():fo.originalEvent?fo.originalEvent._stopped=!0:fo.cancelBubble=!0,this}function Ax(fo){return Tx(fo,"wheel",tw),this}function cb(fo){return cm(fo,"mousedown touchstart dblclick contextmenu",tw),fo._leaflet_disable_click=!0,this}function f0(fo){return fo.preventDefault?fo.preventDefault():fo.returnValue=!1,this}function A1(fo){return f0(fo),tw(fo),this}function Ox(fo){if(fo.composedPath)return fo.composedPath();for(var Ef=[],Lf=fo.target;Lf;)Ef.push(Lf),Lf=Lf.parentNode;return Ef}function wE(fo,Ef){if(!Ef)return new Xf(fo.clientX,fo.clientY);var Lf=qv(Ef),Wf=Lf.boundingClientRect;return new Xf((fo.clientX-Wf.left)/Lf.x-Ef.clientLeft,(fo.clientY-Wf.top)/Lf.y-Ef.clientTop)}var yk=tm.linux&&tm.chrome?window.devicePixelRatio:tm.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function _E(fo){return tm.edge?fo.wheelDeltaY/2:fo.deltaY&&fo.deltaMode===0?-fo.deltaY/yk:fo.deltaY&&fo.deltaMode===1?-fo.deltaY*20:fo.deltaY&&fo.deltaMode===2?-fo.deltaY*60:fo.deltaX||fo.deltaZ?0:fo.wheelDelta?(fo.wheelDeltaY||fo.wheelDelta)/2:fo.detail&&Math.abs(fo.detail)<32765?-fo.detail*20:fo.detail?fo.detail/-32765*60:0}function hb(fo,Ef){var Lf=Ef.relatedTarget;if(!Lf)return!0;try{for(;Lf&&Lf!==fo;)Lf=Lf.parentNode}catch{return!1}return Lf!==fo}var xy={__proto__:null,on:cm,off:_m,stopPropagation:tw,disableScrollPropagation:Ax,disableClickPropagation:cb,preventDefault:f0,stop:A1,getPropagationPath:Ox,getMousePosition:wE,getWheelDelta:_E,isExternalTarget:hb,addListener:cm,removeListener:_m},Iw=Ff.extend({run:function(fo,Ef,Lf,Wf){this.stop(),this._el=fo,this._inProgress=!0,this._duration=Lf||.25,this._easeOutPower=1/Math.max(Wf||.5,.2),this._startPos=Iv(fo),this._offset=Ef.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Af(this._animate,this),this._step()},_step:function(fo){var Ef=+new Date-this._startTime,Lf=this._duration*1e3;Ef<Lf?this._runFrame(this._easeOut(Ef/Lf),fo):(this._runFrame(1),this._complete())},_runFrame:function(fo,Ef){var Lf=this._startPos.add(this._offset.multiplyBy(fo));Ef&&Lf._round(),Qv(this._el,Lf),this.fire("step")},_complete:function(){Pf(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(fo){return 1-Math.pow(1-fo,this._easeOutPower)}}),Km=Ff.extend({options:{crs:Nf,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(fo,Ef){Ef=wf(this,Ef),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(fo),this._initLayout(),this._onResize=at(this._onResize,this),this._initEvents(),Ef.maxBounds&&this.setMaxBounds(Ef.maxBounds),Ef.zoom!==void 0&&(this._zoom=this._limitZoom(Ef.zoom)),Ef.center&&Ef.zoom!==void 0&&this.setView(Cp(Ef.center),Ef.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=N0&&tm.any3d&&!tm.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),cm(this._proxy,Fb,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(fo,Ef,Lf){if(Ef=Ef===void 0?this._zoom:this._limitZoom(Ef),fo=this._limitCenter(Cp(fo),Ef,this.options.maxBounds),Lf=Lf||{},this._stop(),this._loaded&&!Lf.reset&&Lf!==!0){Lf.animate!==void 0&&(Lf.zoom=tt({animate:Lf.animate},Lf.zoom),Lf.pan=tt({animate:Lf.animate,duration:Lf.duration},Lf.pan));var Wf=this._zoom!==Ef?this._tryAnimatedZoom&&this._tryAnimatedZoom(fo,Ef,Lf.zoom):this._tryAnimatedPan(fo,Lf.pan);if(Wf)return clearTimeout(this._sizeTimer),this}return this._resetView(fo,Ef,Lf.pan&&Lf.pan.noMoveStart),this},setZoom:function(fo,Ef){return this._loaded?this.setView(this.getCenter(),fo,{zoom:Ef}):(this._zoom=fo,this)},zoomIn:function(fo,Ef){return fo=fo||(tm.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+fo,Ef)},zoomOut:function(fo,Ef){return fo=fo||(tm.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-fo,Ef)},setZoomAround:function(fo,Ef,Lf){var Wf=this.getZoomScale(Ef),Qf=this.getSize().divideBy(2),wp=fo instanceof Xf?fo:this.latLngToContainerPoint(fo),Kp=wp.subtract(Qf).multiplyBy(1-1/Wf),ug=this.containerPointToLatLng(Qf.add(Kp));return this.setView(ug,Ef,{zoom:Lf})},_getBoundsCenterZoom:function(fo,Ef){Ef=Ef||{},fo=fo.getBounds?fo.getBounds():yp(fo);var Lf=fp(Ef.paddingTopLeft||Ef.padding||[0,0]),Wf=fp(Ef.paddingBottomRight||Ef.padding||[0,0]),Qf=this.getBoundsZoom(fo,!1,Lf.add(Wf));if(Qf=typeof Ef.maxZoom=="number"?Math.min(Ef.maxZoom,Qf):Qf,Qf===1/0)return{center:fo.getCenter(),zoom:Qf};var wp=Wf.subtract(Lf).divideBy(2),Kp=this.project(fo.getSouthWest(),Qf),ug=this.project(fo.getNorthEast(),Qf),bg=this.unproject(Kp.add(ug).divideBy(2).add(wp),Qf);return{center:bg,zoom:Qf}},fitBounds:function(fo,Ef){if(fo=yp(fo),!fo.isValid())throw new Error("Bounds are not valid.");var Lf=this._getBoundsCenterZoom(fo,Ef);return this.setView(Lf.center,Lf.zoom,Ef)},fitWorld:function(fo){return this.fitBounds([[-90,-180],[90,180]],fo)},panTo:function(fo,Ef){return this.setView(fo,this._zoom,{pan:Ef})},panBy:function(fo,Ef){if(fo=fp(fo).round(),Ef=Ef||{},!fo.x&&!fo.y)return this.fire("moveend");if(Ef.animate!==!0&&!this.getSize().contains(fo))return this._resetView(this.unproject(this.project(this.getCenter()).add(fo)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Iw,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),Ef.noMoveStart||this.fire("movestart"),Ef.animate!==!1){gm(this._mapPane,"leaflet-pan-anim");var Lf=this._getMapPanePos().subtract(fo).round();this._panAnim.run(this._mapPane,Lf,Ef.duration||.25,Ef.easeLinearity)}else this._rawPanBy(fo),this.fire("move").fire("moveend");return this},flyTo:function(fo,Ef,Lf){if(Lf=Lf||{},Lf.animate===!1||!tm.any3d)return this.setView(fo,Ef,Lf);this._stop();var Wf=this.project(this.getCenter()),Qf=this.project(fo),wp=this.getSize(),Kp=this._zoom;fo=Cp(fo),Ef=Ef===void 0?Kp:Ef;var ug=Math.max(wp.x,wp.y),bg=ug*this.getZoomScale(Kp,Ef),Tg=Qf.distanceTo(Wf)||1,Wg=1.42,xm=Wg*Wg;function Vm(g0){var E_=g0?-1:1,OE=g0?bg:ug,Ng=bg*bg-ug*ug+E_*xm*xm*Tg*Tg,lx=2*OE*xm*Tg,k_=Ng/lx,C_=Math.sqrt(k_*k_+1)-k_,Tv=C_<1e-9?-18:Math.log(C_);return Tv}function gy(g0){return(Math.exp(g0)-Math.exp(-g0))/2}function p0(g0){return(Math.exp(g0)+Math.exp(-g0))/2}function ty(g0){return gy(g0)/p0(g0)}var Sy=Vm(0);function B1(g0){return ug*(p0(Sy)/p0(Sy+Wg*g0))}function zx(g0){return ug*(p0(Sy)*ty(Sy+Wg*g0)-gy(Sy))/xm}function jx(g0){return 1-Math.pow(1-g0,1.5)}var hw=Date.now(),dw=(Vm(1)-Sy)/Wg,Ub=Lf.duration?1e3*Lf.duration:1e3*dw*.8;function u1(){var g0=(Date.now()-hw)/Ub,E_=jx(g0)*dw;g0<=1?(this._flyToFrame=Af(u1,this),this._move(this.unproject(Wf.add(Qf.subtract(Wf).multiplyBy(zx(E_)/Tg)),Kp),this.getScaleZoom(ug/B1(E_),Kp),{flyTo:!0})):this._move(fo,Ef)._moveEnd(!0)}return this._moveStart(!0,Lf.noMoveStart),u1.call(this),this},flyToBounds:function(fo,Ef){var Lf=this._getBoundsCenterZoom(fo,Ef);return this.flyTo(Lf.center,Lf.zoom,Ef)},setMaxBounds:function(fo){return fo=yp(fo),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),fo.isValid()?(this.options.maxBounds=fo,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(fo){var Ef=this.options.minZoom;return this.options.minZoom=fo,this._loaded&&Ef!==fo&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(fo):this},setMaxZoom:function(fo){var Ef=this.options.maxZoom;return this.options.maxZoom=fo,this._loaded&&Ef!==fo&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(fo):this},panInsideBounds:function(fo,Ef){this._enforcingBounds=!0;var Lf=this.getCenter(),Wf=this._limitCenter(Lf,this._zoom,yp(fo));return Lf.equals(Wf)||this.panTo(Wf,Ef),this._enforcingBounds=!1,this},panInside:function(fo,Ef){Ef=Ef||{};var Lf=fp(Ef.paddingTopLeft||Ef.padding||[0,0]),Wf=fp(Ef.paddingBottomRight||Ef.padding||[0,0]),Qf=this.project(this.getCenter()),wp=this.project(fo),Kp=this.getPixelBounds(),ug=Np([Kp.min.add(Lf),Kp.max.subtract(Wf)]),bg=ug.getSize();if(!ug.contains(wp)){this._enforcingBounds=!0;var Tg=wp.subtract(ug.getCenter()),Wg=ug.extend(wp).getSize().subtract(bg);Qf.x+=Tg.x<0?-Wg.x:Wg.x,Qf.y+=Tg.y<0?-Wg.y:Wg.y,this.panTo(this.unproject(Qf),Ef),this._enforcingBounds=!1}return this},invalidateSize:function(fo){if(!this._loaded)return this;fo=tt({animate:!1,pan:!0},fo===!0?{animate:!0}:fo);var Ef=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var Lf=this.getSize(),Wf=Ef.divideBy(2).round(),Qf=Lf.divideBy(2).round(),wp=Wf.subtract(Qf);return!wp.x&&!wp.y?this:(fo.animate&&fo.pan?this.panBy(wp):(fo.pan&&this._rawPanBy(wp),this.fire("move"),fo.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(at(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:Ef,newSize:Lf}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(fo){if(fo=this._locateOptions=tt({timeout:1e4,watch:!1},fo),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var Ef=at(this._handleGeolocationResponse,this),Lf=at(this._handleGeolocationError,this);return fo.watch?this._locationWatchId=navigator.geolocation.watchPosition(Ef,Lf,fo):navigator.geolocation.getCurrentPosition(Ef,Lf,fo),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(fo){if(this._container._leaflet_id){var Ef=fo.code,Lf=fo.message||(Ef===1?"permission denied":Ef===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:Ef,message:"Geolocation error: "+Lf+"."})}},_handleGeolocationResponse:function(fo){if(this._container._leaflet_id){var Ef=fo.coords.latitude,Lf=fo.coords.longitude,Wf=new Ep(Ef,Lf),Qf=Wf.toBounds(fo.coords.accuracy*2),wp=this._locateOptions;if(wp.setView){var Kp=this.getBoundsZoom(Qf);this.setView(Wf,wp.maxZoom?Math.min(Kp,wp.maxZoom):Kp)}var ug={latlng:Wf,bounds:Qf,timestamp:fo.timestamp};for(var bg in fo.coords)typeof fo.coords[bg]=="number"&&(ug[bg]=fo.coords[bg]);this.fire("locationfound",ug)}},addHandler:function(fo,Ef){if(!Ef)return this;var Lf=this[fo]=new Ef(this);return this._handlers.push(Lf),this.options[fo]&&Lf.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Xm(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Pf(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var fo;for(fo in this._layers)this._layers[fo].remove();for(fo in this._panes)Xm(this._panes[fo]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(fo,Ef){var Lf="leaflet-pane"+(fo?" leaflet-"+fo.replace("Pane","")+"-pane":""),Wf=Fm("div",Lf,Ef||this._mapPane);return fo&&(this._panes[fo]=Wf),Wf},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var fo=this.getPixelBounds(),Ef=this.unproject(fo.getBottomLeft()),Lf=this.unproject(fo.getTopRight());return new Pp(Ef,Lf)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(fo,Ef,Lf){fo=yp(fo),Lf=fp(Lf||[0,0]);var Wf=this.getZoom()||0,Qf=this.getMinZoom(),wp=this.getMaxZoom(),Kp=fo.getNorthWest(),ug=fo.getSouthEast(),bg=this.getSize().subtract(Lf),Tg=Np(this.project(ug,Wf),this.project(Kp,Wf)).getSize(),Wg=tm.any3d?this.options.zoomSnap:1,xm=bg.x/Tg.x,Vm=bg.y/Tg.y,gy=Ef?Math.max(xm,Vm):Math.min(xm,Vm);return Wf=this.getScaleZoom(gy,Wf),Wg&&(Wf=Math.round(Wf/(Wg/100))*(Wg/100),Wf=Ef?Math.ceil(Wf/Wg)*Wg:Math.floor(Wf/Wg)*Wg),Math.max(Qf,Math.min(wp,Wf))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Xf(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(fo,Ef){var Lf=this._getTopLeftPoint(fo,Ef);return new Mp(Lf,Lf.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(fo){return this.options.crs.getProjectedBounds(fo===void 0?this.getZoom():fo)},getPane:function(fo){return typeof fo=="string"?this._panes[fo]:fo},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(fo,Ef){var Lf=this.options.crs;return Ef=Ef===void 0?this._zoom:Ef,Lf.scale(fo)/Lf.scale(Ef)},getScaleZoom:function(fo,Ef){var Lf=this.options.crs;Ef=Ef===void 0?this._zoom:Ef;var Wf=Lf.zoom(fo*Lf.scale(Ef));return isNaN(Wf)?1/0:Wf},project:function(fo,Ef){return Ef=Ef===void 0?this._zoom:Ef,this.options.crs.latLngToPoint(Cp(fo),Ef)},unproject:function(fo,Ef){return Ef=Ef===void 0?this._zoom:Ef,this.options.crs.pointToLatLng(fp(fo),Ef)},layerPointToLatLng:function(fo){var Ef=fp(fo).add(this.getPixelOrigin());return this.unproject(Ef)},latLngToLayerPoint:function(fo){var Ef=this.project(Cp(fo))._round();return Ef._subtract(this.getPixelOrigin())},wrapLatLng:function(fo){return this.options.crs.wrapLatLng(Cp(fo))},wrapLatLngBounds:function(fo){return this.options.crs.wrapLatLngBounds(yp(fo))},distance:function(fo,Ef){return this.options.crs.distance(Cp(fo),Cp(Ef))},containerPointToLayerPoint:function(fo){return fp(fo).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(fo){return fp(fo).add(this._getMapPanePos())},containerPointToLatLng:function(fo){var Ef=this.containerPointToLayerPoint(fp(fo));return this.layerPointToLatLng(Ef)},latLngToContainerPoint:function(fo){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Cp(fo)))},mouseEventToContainerPoint:function(fo){return wE(fo,this._container)},mouseEventToLayerPoint:function(fo){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(fo))},mouseEventToLatLng:function(fo){return this.layerPointToLatLng(this.mouseEventToLayerPoint(fo))},_initContainer:function(fo){var Ef=this._container=sb(fo);if(Ef){if(Ef._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");cm(Ef,"scroll",this._onScroll,this),this._containerId=wt(Ef)},_initLayout:function(){var fo=this._container;this._fadeAnimated=this.options.fadeAnimation&&tm.any3d,gm(fo,"leaflet-container"+(tm.touch?" leaflet-touch":"")+(tm.retina?" leaflet-retina":"")+(tm.ielt9?" leaflet-oldie":"")+(tm.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var Ef=ov(fo,"position");Ef!=="absolute"&&Ef!=="relative"&&Ef!=="fixed"&&Ef!=="sticky"&&(fo.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var fo=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Qv(this._mapPane,new Xf(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(gm(fo.markerPane,"leaflet-zoom-hide"),gm(fo.shadowPane,"leaflet-zoom-hide"))},_resetView:function(fo,Ef,Lf){Qv(this._mapPane,new Xf(0,0));var Wf=!this._loaded;this._loaded=!0,Ef=this._limitZoom(Ef),this.fire("viewprereset");var Qf=this._zoom!==Ef;this._moveStart(Qf,Lf)._move(fo,Ef)._moveEnd(Qf),this.fire("viewreset"),Wf&&this.fire("load")},_moveStart:function(fo,Ef){return fo&&this.fire("zoomstart"),Ef||this.fire("movestart"),this},_move:function(fo,Ef,Lf,Wf){Ef===void 0&&(Ef=this._zoom);var Qf=this._zoom!==Ef;return this._zoom=Ef,this._lastCenter=fo,this._pixelOrigin=this._getNewPixelOrigin(fo),Wf?Lf&&Lf.pinch&&this.fire("zoom",Lf):((Qf||Lf&&Lf.pinch)&&this.fire("zoom",Lf),this.fire("move",Lf)),this},_moveEnd:function(fo){return fo&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Pf(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(fo){Qv(this._mapPane,this._getMapPanePos().subtract(fo))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(fo){this._targets={},this._targets[wt(this._container)]=this;var Ef=fo?_m:cm;Ef(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&Ef(window,"resize",this._onResize,this),tm.any3d&&this.options.transform3DLimit&&(fo?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Pf(this._resizeRequest),this._resizeRequest=Af(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var fo=this._getMapPanePos();Math.max(Math.abs(fo.x),Math.abs(fo.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(fo,Ef){for(var Lf=[],Wf,Qf=Ef==="mouseout"||Ef==="mouseover",wp=fo.target||fo.srcElement,Kp=!1;wp;){if(Wf=this._targets[wt(wp)],Wf&&(Ef==="click"||Ef==="preclick")&&this._draggableMoved(Wf)){Kp=!0;break}if(Wf&&Wf.listens(Ef,!0)&&(Qf&&!hb(wp,fo)||(Lf.push(Wf),Qf))||wp===this._container)break;wp=wp.parentNode}return!Lf.length&&!Kp&&!Qf&&this.listens(Ef,!0)&&(Lf=[this]),Lf},_isClickDisabled:function(fo){for(;fo&&fo!==this._container;){if(fo._leaflet_disable_click)return!0;fo=fo.parentNode}},_handleDOMEvent:function(fo){var Ef=fo.target||fo.srcElement;if(!(!this._loaded||Ef._leaflet_disable_events||fo.type==="click"&&this._isClickDisabled(Ef))){var Lf=fo.type;Lf==="mousedown"&&Og(Ef),this._fireDOMEvent(fo,Lf)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(fo,Ef,Lf){if(fo.type==="click"){var Wf=tt({},fo);Wf.type="preclick",this._fireDOMEvent(Wf,Wf.type,Lf)}var Qf=this._findEventTargets(fo,Ef);if(Lf){for(var wp=[],Kp=0;Kp<Lf.length;Kp++)Lf[Kp].listens(Ef,!0)&&wp.push(Lf[Kp]);Qf=wp.concat(Qf)}if(Qf.length){Ef==="contextmenu"&&f0(fo);var ug=Qf[0],bg={originalEvent:fo};if(fo.type!=="keypress"&&fo.type!=="keydown"&&fo.type!=="keyup"){var Tg=ug.getLatLng&&(!ug._radius||ug._radius<=10);bg.containerPoint=Tg?this.latLngToContainerPoint(ug.getLatLng()):this.mouseEventToContainerPoint(fo),bg.layerPoint=this.containerPointToLayerPoint(bg.containerPoint),bg.latlng=Tg?ug.getLatLng():this.layerPointToLatLng(bg.layerPoint)}for(Kp=0;Kp<Qf.length;Kp++)if(Qf[Kp].fire(Ef,bg,!0),bg.originalEvent._stopped||Qf[Kp].options.bubblingMouseEvents===!1&&xo(this._mouseEvents,Ef)!==-1)return}},_draggableMoved:function(fo){return fo=fo.dragging&&fo.dragging.enabled()?fo:this,fo.dragging&&fo.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var fo=0,Ef=this._handlers.length;fo<Ef;fo++)this._handlers[fo].disable()},whenReady:function(fo,Ef){return this._loaded?fo.call(Ef||this,{target:this}):this.on("load",fo,Ef),this},_getMapPanePos:function(){return Iv(this._mapPane)||new Xf(0,0)},_moved:function(){var fo=this._getMapPanePos();return fo&&!fo.equals([0,0])},_getTopLeftPoint:function(fo,Ef){var Lf=fo&&Ef!==void 0?this._getNewPixelOrigin(fo,Ef):this.getPixelOrigin();return Lf.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(fo,Ef){var Lf=this.getSize()._divideBy(2);return this.project(fo,Ef)._subtract(Lf)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(fo,Ef,Lf){var Wf=this._getNewPixelOrigin(Lf,Ef);return this.project(fo,Ef)._subtract(Wf)},_latLngBoundsToNewLayerBounds:function(fo,Ef,Lf){var Wf=this._getNewPixelOrigin(Lf,Ef);return Np([this.project(fo.getSouthWest(),Ef)._subtract(Wf),this.project(fo.getNorthWest(),Ef)._subtract(Wf),this.project(fo.getSouthEast(),Ef)._subtract(Wf),this.project(fo.getNorthEast(),Ef)._subtract(Wf)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(fo){return this.latLngToLayerPoint(fo).subtract(this._getCenterLayerPoint())},_limitCenter:function(fo,Ef,Lf){if(!Lf)return fo;var Wf=this.project(fo,Ef),Qf=this.getSize().divideBy(2),wp=new Mp(Wf.subtract(Qf),Wf.add(Qf)),Kp=this._getBoundsOffset(wp,Lf,Ef);return Math.abs(Kp.x)<=1&&Math.abs(Kp.y)<=1?fo:this.unproject(Wf.add(Kp),Ef)},_limitOffset:function(fo,Ef){if(!Ef)return fo;var Lf=this.getPixelBounds(),Wf=new Mp(Lf.min.add(fo),Lf.max.add(fo));return fo.add(this._getBoundsOffset(Wf,Ef))},_getBoundsOffset:function(fo,Ef,Lf){var Wf=Np(this.project(Ef.getNorthEast(),Lf),this.project(Ef.getSouthWest(),Lf)),Qf=Wf.min.subtract(fo.min),wp=Wf.max.subtract(fo.max),Kp=this._rebound(Qf.x,-wp.x),ug=this._rebound(Qf.y,-wp.y);return new Xf(Kp,ug)},_rebound:function(fo,Ef){return fo+Ef>0?Math.round(fo-Ef)/2:Math.max(0,Math.ceil(fo))-Math.max(0,Math.floor(Ef))},_limitZoom:function(fo){var Ef=this.getMinZoom(),Lf=this.getMaxZoom(),Wf=tm.any3d?this.options.zoomSnap:1;return Wf&&(fo=Math.round(fo/Wf)*Wf),Math.max(Ef,Math.min(Lf,fo))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){dm(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(fo,Ef){var Lf=this._getCenterOffset(fo)._trunc();return(Ef&&Ef.animate)!==!0&&!this.getSize().contains(Lf)?!1:(this.panBy(Lf,Ef),!0)},_createAnimProxy:function(){var fo=this._proxy=Fm("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(fo),this.on("zoomanim",function(Ef){var Lf=Ry,Wf=this._proxy.style[Lf];Q0(this._proxy,this.project(Ef.center,Ef.zoom),this.getZoomScale(Ef.zoom,1)),Wf===this._proxy.style[Lf]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Xm(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var fo=this.getCenter(),Ef=this.getZoom();Q0(this._proxy,this.project(fo,Ef),this.getZoomScale(Ef,1))},_catchTransitionEnd:function(fo){this._animatingZoom&&fo.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(fo,Ef,Lf){if(this._animatingZoom)return!0;if(Lf=Lf||{},!this._zoomAnimated||Lf.animate===!1||this._nothingToAnimate()||Math.abs(Ef-this._zoom)>this.options.zoomAnimationThreshold)return!1;var Wf=this.getZoomScale(Ef),Qf=this._getCenterOffset(fo)._divideBy(1-1/Wf);return Lf.animate!==!0&&!this.getSize().contains(Qf)?!1:(Af(function(){this._moveStart(!0,Lf.noMoveStart||!1)._animateZoom(fo,Ef,!0)},this),!0)},_animateZoom:function(fo,Ef,Lf,Wf){this._mapPane&&(Lf&&(this._animatingZoom=!0,this._animateToCenter=fo,this._animateToZoom=Ef,gm(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:fo,zoom:Ef,noUpdate:Wf}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(at(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&dm(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function bk(fo,Ef){return new Km(fo,Ef)}var Ey=zf.extend({options:{position:"topright"},initialize:function(fo){wf(this,fo)},getPosition:function(){return this.options.position},setPosition:function(fo){var Ef=this._map;return Ef&&Ef.removeControl(this),this.options.position=fo,Ef&&Ef.addControl(this),this},getContainer:function(){return this._container},addTo:function(fo){this.remove(),this._map=fo;var Ef=this._container=this.onAdd(fo),Lf=this.getPosition(),Wf=fo._controlCorners[Lf];return gm(Ef,"leaflet-control"),Lf.indexOf("bottom")!==-1?Wf.insertBefore(Ef,Wf.firstChild):Wf.appendChild(Ef),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Xm(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(fo){this._map&&fo&&fo.screenX>0&&fo.screenY>0&&this._map.getContainer().focus()}}),rw=function(fo){return new Ey(fo)};Km.include({addControl:function(fo){return fo.addTo(this),this},removeControl:function(fo){return fo.remove(),this},_initControlPos:function(){var fo=this._controlCorners={},Ef="leaflet-",Lf=this._controlContainer=Fm("div",Ef+"control-container",this._container);function Wf(Qf,wp){var Kp=Ef+Qf+" "+Ef+wp;fo[Qf+wp]=Fm("div",Kp,Lf)}Wf("top","left"),Wf("top","right"),Wf("bottom","left"),Wf("bottom","right")},_clearControlPos:function(){for(var fo in this._controlCorners)Xm(this._controlCorners[fo]);Xm(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var h_=Ey.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(fo,Ef,Lf,Wf){return Lf<Wf?-1:Wf<Lf?1:0}},initialize:function(fo,Ef,Lf){wf(this,Lf),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var Wf in fo)this._addLayer(fo[Wf],Wf);for(Wf in Ef)this._addLayer(Ef[Wf],Wf,!0)},onAdd:function(fo){this._initLayout(),this._update(),this._map=fo,fo.on("zoomend",this._checkDisabledLayers,this);for(var Ef=0;Ef<this._layers.length;Ef++)this._layers[Ef].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(fo){return Ey.prototype.addTo.call(this,fo),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var fo=0;fo<this._layers.length;fo++)this._layers[fo].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(fo,Ef){return this._addLayer(fo,Ef),this._map?this._update():this},addOverlay:function(fo,Ef){return this._addLayer(fo,Ef,!0),this._map?this._update():this},removeLayer:function(fo){fo.off("add remove",this._onLayerChange,this);var Ef=this._getLayer(wt(fo));return Ef&&this._layers.splice(this._layers.indexOf(Ef),1),this._map?this._update():this},expand:function(){gm(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var fo=this._map.getSize().y-(this._container.offsetTop+50);return fo<this._section.clientHeight?(gm(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=fo+"px"):dm(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return dm(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var fo="leaflet-control-layers",Ef=this._container=Fm("div",fo),Lf=this.options.collapsed;Ef.setAttribute("aria-haspopup",!0),cb(Ef),Ax(Ef);var Wf=this._section=Fm("section",fo+"-list");Lf&&(this._map.on("click",this.collapse,this),cm(Ef,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var Qf=this._layersLink=Fm("a",fo+"-toggle",Ef);Qf.href="#",Qf.title="Layers",Qf.setAttribute("role","button"),cm(Qf,{keydown:function(wp){wp.keyCode===13&&this._expandSafely()},click:function(wp){f0(wp),this._expandSafely()}},this),Lf||this.expand(),this._baseLayersList=Fm("div",fo+"-base",Wf),this._separator=Fm("div",fo+"-separator",Wf),this._overlaysList=Fm("div",fo+"-overlays",Wf),Ef.appendChild(Wf)},_getLayer:function(fo){for(var Ef=0;Ef<this._layers.length;Ef++)if(this._layers[Ef]&&wt(this._layers[Ef].layer)===fo)return this._layers[Ef]},_addLayer:function(fo,Ef,Lf){this._map&&fo.on("add remove",this._onLayerChange,this),this._layers.push({layer:fo,name:Ef,overlay:Lf}),this.options.sortLayers&&this._layers.sort(at(function(Wf,Qf){return this.options.sortFunction(Wf.layer,Qf.layer,Wf.name,Qf.name)},this)),this.options.autoZIndex&&fo.setZIndex&&(this._lastZIndex++,fo.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;J0(this._baseLayersList),J0(this._overlaysList),this._layerControlInputs=[];var fo,Ef,Lf,Wf,Qf=0;for(Lf=0;Lf<this._layers.length;Lf++)Wf=this._layers[Lf],this._addItem(Wf),Ef=Ef||Wf.overlay,fo=fo||!Wf.overlay,Qf+=Wf.overlay?0:1;return this.options.hideSingleBase&&(fo=fo&&Qf>1,this._baseLayersList.style.display=fo?"":"none"),this._separator.style.display=Ef&&fo?"":"none",this},_onLayerChange:function(fo){this._handlingClick||this._update();var Ef=this._getLayer(wt(fo.target)),Lf=Ef.overlay?fo.type==="add"?"overlayadd":"overlayremove":fo.type==="add"?"baselayerchange":null;Lf&&this._map.fire(Lf,Ef)},_createRadioElement:function(fo,Ef){var Lf='<input type="radio" class="leaflet-control-layers-selector" name="'+fo+'"'+(Ef?' checked="checked"':"")+"/>",Wf=document.createElement("div");return Wf.innerHTML=Lf,Wf.firstChild},_addItem:function(fo){var Ef=document.createElement("label"),Lf=this._map.hasLayer(fo.layer),Wf;fo.overlay?(Wf=document.createElement("input"),Wf.type="checkbox",Wf.className="leaflet-control-layers-selector",Wf.defaultChecked=Lf):Wf=this._createRadioElement("leaflet-base-layers_"+wt(this),Lf),this._layerControlInputs.push(Wf),Wf.layerId=wt(fo.layer),cm(Wf,"click",this._onInputClick,this);var Qf=document.createElement("span");Qf.innerHTML=" "+fo.name;var wp=document.createElement("span");Ef.appendChild(wp),wp.appendChild(Wf),wp.appendChild(Qf);var Kp=fo.overlay?this._overlaysList:this._baseLayersList;return Kp.appendChild(Ef),this._checkDisabledLayers(),Ef},_onInputClick:function(){if(!this._preventClick){var fo=this._layerControlInputs,Ef,Lf,Wf=[],Qf=[];this._handlingClick=!0;for(var wp=fo.length-1;wp>=0;wp--)Ef=fo[wp],Lf=this._getLayer(Ef.layerId).layer,Ef.checked?Wf.push(Lf):Ef.checked||Qf.push(Lf);for(wp=0;wp<Qf.length;wp++)this._map.hasLayer(Qf[wp])&&this._map.removeLayer(Qf[wp]);for(wp=0;wp<Wf.length;wp++)this._map.hasLayer(Wf[wp])||this._map.addLayer(Wf[wp]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var fo=this._layerControlInputs,Ef,Lf,Wf=this._map.getZoom(),Qf=fo.length-1;Qf>=0;Qf--)Ef=fo[Qf],Lf=this._getLayer(Ef.layerId).layer,Ef.disabled=Lf.options.minZoom!==void 0&&Wf<Lf.options.minZoom||Lf.options.maxZoom!==void 0&&Wf>Lf.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var fo=this._section;this._preventClick=!0,cm(fo,"click",f0),this.expand();var Ef=this;setTimeout(function(){_m(fo,"click",f0),Ef._preventClick=!1})}}),d_=function(fo,Ef,Lf){return new h_(fo,Ef,Lf)},f_=Ey.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(fo){var Ef="leaflet-control-zoom",Lf=Fm("div",Ef+" leaflet-bar"),Wf=this.options;return this._zoomInButton=this._createButton(Wf.zoomInText,Wf.zoomInTitle,Ef+"-in",Lf,this._zoomIn),this._zoomOutButton=this._createButton(Wf.zoomOutText,Wf.zoomOutTitle,Ef+"-out",Lf,this._zoomOut),this._updateDisabled(),fo.on("zoomend zoomlevelschange",this._updateDisabled,this),Lf},onRemove:function(fo){fo.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(fo){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(fo.shiftKey?3:1))},_zoomOut:function(fo){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(fo.shiftKey?3:1))},_createButton:function(fo,Ef,Lf,Wf,Qf){var wp=Fm("a",Lf,Wf);return wp.innerHTML=fo,wp.href="#",wp.title=Ef,wp.setAttribute("role","button"),wp.setAttribute("aria-label",Ef),cb(wp),cm(wp,"click",A1),cm(wp,"click",Qf,this),cm(wp,"click",this._refocusOnMap,this),wp},_updateDisabled:function(){var fo=this._map,Ef="leaflet-disabled";dm(this._zoomInButton,Ef),dm(this._zoomOutButton,Ef),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||fo._zoom===fo.getMinZoom())&&(gm(this._zoomOutButton,Ef),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||fo._zoom===fo.getMaxZoom())&&(gm(this._zoomInButton,Ef),this._zoomInButton.setAttribute("aria-disabled","true"))}});Km.mergeOptions({zoomControl:!0}),Km.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new f_,this.addControl(this.zoomControl))});var wk=function(fo){return new f_(fo)},Mx=Ey.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(fo){var Ef="leaflet-control-scale",Lf=Fm("div",Ef),Wf=this.options;return this._addScales(Wf,Ef+"-line",Lf),fo.on(Wf.updateWhenIdle?"moveend":"move",this._update,this),fo.whenReady(this._update,this),Lf},onRemove:function(fo){fo.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(fo,Ef,Lf){fo.metric&&(this._mScale=Fm("div",Ef,Lf)),fo.imperial&&(this._iScale=Fm("div",Ef,Lf))},_update:function(){var fo=this._map,Ef=fo.getSize().y/2,Lf=fo.distance(fo.containerPointToLatLng([0,Ef]),fo.containerPointToLatLng([this.options.maxWidth,Ef]));this._updateScales(Lf)},_updateScales:function(fo){this.options.metric&&fo&&this._updateMetric(fo),this.options.imperial&&fo&&this._updateImperial(fo)},_updateMetric:function(fo){var Ef=this._getRoundNum(fo),Lf=Ef<1e3?Ef+" m":Ef/1e3+" km";this._updateScale(this._mScale,Lf,Ef/fo)},_updateImperial:function(fo){var Ef=fo*3.2808399,Lf,Wf,Qf;Ef>5280?(Lf=Ef/5280,Wf=this._getRoundNum(Lf),this._updateScale(this._iScale,Wf+" mi",Wf/Lf)):(Qf=this._getRoundNum(Ef),this._updateScale(this._iScale,Qf+" ft",Qf/Ef))},_updateScale:function(fo,Ef,Lf){fo.style.width=Math.round(this.options.maxWidth*Lf)+"px",fo.innerHTML=Ef},_getRoundNum:function(fo){var Ef=Math.pow(10,(Math.floor(fo)+"").length-1),Lf=fo/Ef;return Lf=Lf>=10?10:Lf>=5?5:Lf>=3?3:Lf>=2?2:1,Ef*Lf}}),x0=function(fo){return new Mx(fo)},iw='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',O1=Ey.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(tm.inlineSvg?iw+" ":"")+"Leaflet</a>"},initialize:function(fo){wf(this,fo),this._attributions={}},onAdd:function(fo){fo.attributionControl=this,this._container=Fm("div","leaflet-control-attribution"),cb(this._container);for(var Ef in fo._layers)fo._layers[Ef].getAttribution&&this.addAttribution(fo._layers[Ef].getAttribution());return this._update(),fo.on("layeradd",this._addAttribution,this),this._container},onRemove:function(fo){fo.off("layeradd",this._addAttribution,this)},_addAttribution:function(fo){fo.layer.getAttribution&&(this.addAttribution(fo.layer.getAttribution()),fo.layer.once("remove",function(){this.removeAttribution(fo.layer.getAttribution())},this))},setPrefix:function(fo){return this.options.prefix=fo,this._update(),this},addAttribution:function(fo){return fo?(this._attributions[fo]||(this._attributions[fo]=0),this._attributions[fo]++,this._update(),this):this},removeAttribution:function(fo){return fo?(this._attributions[fo]&&(this._attributions[fo]--,this._update()),this):this},_update:function(){if(this._map){var fo=[];for(var Ef in this._attributions)this._attributions[Ef]&&fo.push(Ef);var Lf=[];this.options.prefix&&Lf.push(this.options.prefix),fo.length&&Lf.push(fo.join(", ")),this._container.innerHTML=Lf.join(' <span aria-hidden="true">|</span> ')}}});Km.mergeOptions({attributionControl:!0}),Km.addInitHook(function(){this.options.attributionControl&&new O1().addTo(this)});var Px=function(fo){return new O1(fo)};Ey.Layers=h_,Ey.Zoom=f_,Ey.Scale=Mx,Ey.Attribution=O1,rw.layers=d_,rw.zoom=wk,rw.scale=x0,rw.attribution=Px;var B0=zf.extend({initialize:function(fo){this._map=fo},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});B0.addTo=function(fo,Ef){return fo.addHandler(Ef,this),this};var Lw={Events:$f},ky=tm.touch?"touchstart mousedown":"mousedown",Yy=Ff.extend({options:{clickTolerance:3},initialize:function(fo,Ef,Lf,Wf){wf(this,Wf),this._element=fo,this._dragStartTarget=Ef||fo,this._preventOutline=Lf},enable:function(){this._enabled||(cm(this._dragStartTarget,ky,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Yy._dragging===this&&this.finishDrag(!0),_m(this._dragStartTarget,ky,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(fo){if(this._enabled&&(this._moved=!1,!lb(this._element,"leaflet-zoom-anim"))){if(fo.touches&&fo.touches.length!==1){Yy._dragging===this&&this.finishDrag();return}if(!(Yy._dragging||fo.shiftKey||fo.which!==1&&fo.button!==1&&!fo.touches)&&(Yy._dragging=this,this._preventOutline&&Og(this._element),_p(),qy(),!this._moving)){this.fire("down");var Ef=fo.touches?fo.touches[0]:fo,Lf=Dm(this._element);this._startPoint=new Xf(Ef.clientX,Ef.clientY),this._startPos=Iv(this._element),this._parentScale=qv(Lf);var Wf=fo.type==="mousedown";cm(document,Wf?"mousemove":"touchmove",this._onMove,this),cm(document,Wf?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(fo){if(this._enabled){if(fo.touches&&fo.touches.length>1){this._moved=!0;return}var Ef=fo.touches&&fo.touches.length===1?fo.touches[0]:fo,Lf=new Xf(Ef.clientX,Ef.clientY)._subtract(this._startPoint);!Lf.x&&!Lf.y||Math.abs(Lf.x)+Math.abs(Lf.y)<this.options.clickTolerance||(Lf.x/=this._parentScale.x,Lf.y/=this._parentScale.y,f0(fo),this._moved||(this.fire("dragstart"),this._moved=!0,gm(document.body,"leaflet-dragging"),this._lastTarget=fo.target||fo.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),gm(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(Lf),this._moving=!0,this._lastEvent=fo,this._updatePosition())}},_updatePosition:function(){var fo={originalEvent:this._lastEvent};this.fire("predrag",fo),Qv(this._element,this._newPos),this.fire("drag",fo)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(fo){dm(document.body,"leaflet-dragging"),this._lastTarget&&(dm(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),_m(document,"mousemove touchmove",this._onMove,this),_m(document,"mouseup touchend touchcancel",this._onUp,this),Lp(),dy();var Ef=this._moved&&this._moving;this._moving=!1,Yy._dragging=!1,Ef&&this.fire("dragend",{noInertia:fo,distance:this._newPos.distanceTo(this._startPos)})}});function kb(fo,Ef,Lf){var Wf,Qf=[1,4,2,8],wp,Kp,ug,bg,Tg,Wg,xm,Vm;for(wp=0,Wg=fo.length;wp<Wg;wp++)fo[wp]._code=nw(fo[wp],Ef);for(ug=0;ug<4;ug++){for(xm=Qf[ug],Wf=[],wp=0,Wg=fo.length,Kp=Wg-1;wp<Wg;Kp=wp++)bg=fo[wp],Tg=fo[Kp],bg._code&xm?Tg._code&xm||(Vm=Dw(Tg,bg,xm,Ef,Lf),Vm._code=nw(Vm,Ef),Wf.push(Vm)):(Tg._code&xm&&(Vm=Dw(Tg,bg,xm,Ef,Lf),Vm._code=nw(Vm,Ef),Wf.push(Vm)),Wf.push(bg));fo=Wf}return fo}function db(fo,Ef){var Lf,Wf,Qf,wp,Kp,ug,bg,Tg,Wg;if(!fo||fo.length===0)throw new Error("latlngs not passed");ey(fo)||(console.warn("latlngs are not flat! Only the first ring will be used"),fo=fo[0]);var xm=Cp([0,0]),Vm=yp(fo),gy=Vm.getNorthWest().distanceTo(Vm.getSouthWest())*Vm.getNorthEast().distanceTo(Vm.getNorthWest());gy<1700&&(xm=G_(fo));var p0=fo.length,ty=[];for(Lf=0;Lf<p0;Lf++){var Sy=Cp(fo[Lf]);ty.push(Ef.project(Cp([Sy.lat-xm.lat,Sy.lng-xm.lng])))}for(ug=bg=Tg=0,Lf=0,Wf=p0-1;Lf<p0;Wf=Lf++)Qf=ty[Lf],wp=ty[Wf],Kp=Qf.y*wp.x-wp.y*Qf.x,bg+=(Qf.x+wp.x)*Kp,Tg+=(Qf.y+wp.y)*Kp,ug+=Kp*3;ug===0?Wg=ty[0]:Wg=[bg/ug,Tg/ug];var B1=Ef.unproject(fp(Wg));return Cp([B1.lat+xm.lat,B1.lng+xm.lng])}function G_(fo){for(var Ef=0,Lf=0,Wf=0,Qf=0;Qf<fo.length;Qf++){var wp=Cp(fo[Qf]);Ef+=wp.lat,Lf+=wp.lng,Wf++}return Cp([Ef/Wf,Lf/Wf])}var Ix={__proto__:null,clipPolygon:kb,polygonCenter:db,centroid:G_};function jb(fo,Ef){if(!Ef||!fo.length)return fo.slice();var Lf=Ef*Ef;return fo=Rw(fo,Lf),fo=By(fo,Lf),fo}function q_(fo,Ef,Lf){return Math.sqrt(g_(fo,Ef,Lf,!0))}function M1(fo,Ef,Lf){return g_(fo,Ef,Lf)}function By(fo,Ef){var Lf=fo.length,Wf=typeof Uint8Array!=void 0+""?Uint8Array:Array,Qf=new Wf(Lf);Qf[0]=Qf[Lf-1]=1,Cy(fo,Qf,Ef,0,Lf-1);var wp,Kp=[];for(wp=0;wp<Lf;wp++)Qf[wp]&&Kp.push(fo[wp]);return Kp}function Cy(fo,Ef,Lf,Wf,Qf){var wp=0,Kp,ug,bg;for(ug=Wf+1;ug<=Qf-1;ug++)bg=g_(fo[ug],fo[Wf],fo[Qf],!0),bg>wp&&(Kp=ug,wp=bg);wp>Lf&&(Ef[Kp]=1,Cy(fo,Ef,Lf,Wf,Kp),Cy(fo,Ef,Lf,Kp,Qf))}function Rw(fo,Ef){for(var Lf=[fo[0]],Wf=1,Qf=0,wp=fo.length;Wf<wp;Wf++)Y_(fo[Wf],fo[Qf])>Ef&&(Lf.push(fo[Wf]),Qf=Wf);return Qf<wp-1&&Lf.push(fo[wp-1]),Lf}var xE;function p_(fo,Ef,Lf,Wf,Qf){var wp=Wf?xE:nw(fo,Lf),Kp=nw(Ef,Lf),ug,bg,Tg;for(xE=Kp;;){if(!(wp|Kp))return[fo,Ef];if(wp&Kp)return!1;ug=wp||Kp,bg=Dw(fo,Ef,ug,Lf,Qf),Tg=nw(bg,Lf),ug===wp?(fo=bg,wp=Tg):(Ef=bg,Kp=Tg)}}function Dw(fo,Ef,Lf,Wf,Qf){var wp=Ef.x-fo.x,Kp=Ef.y-fo.y,ug=Wf.min,bg=Wf.max,Tg,Wg;return Lf&8?(Tg=fo.x+wp*(bg.y-fo.y)/Kp,Wg=bg.y):Lf&4?(Tg=fo.x+wp*(ug.y-fo.y)/Kp,Wg=ug.y):Lf&2?(Tg=bg.x,Wg=fo.y+Kp*(bg.x-fo.x)/wp):Lf&1&&(Tg=ug.x,Wg=fo.y+Kp*(ug.x-fo.x)/wp),new Xf(Tg,Wg,Qf)}function nw(fo,Ef){var Lf=0;return fo.x<Ef.min.x?Lf|=1:fo.x>Ef.max.x&&(Lf|=2),fo.y<Ef.min.y?Lf|=4:fo.y>Ef.max.y&&(Lf|=8),Lf}function Y_(fo,Ef){var Lf=Ef.x-fo.x,Wf=Ef.y-fo.y;return Lf*Lf+Wf*Wf}function g_(fo,Ef,Lf,Wf){var Qf=Ef.x,wp=Ef.y,Kp=Lf.x-Qf,ug=Lf.y-wp,bg=Kp*Kp+ug*ug,Tg;return bg>0&&(Tg=((fo.x-Qf)*Kp+(fo.y-wp)*ug)/bg,Tg>1?(Qf=Lf.x,wp=Lf.y):Tg>0&&(Qf+=Kp*Tg,wp+=ug*Tg)),Kp=fo.x-Qf,ug=fo.y-wp,Wf?Kp*Kp+ug*ug:new Xf(Qf,wp)}function ey(fo){return!po(fo[0])||typeof fo[0][0]!="object"&&typeof fo[0][0]<"u"}function EE(fo){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ey(fo)}function E0(fo,Ef){var Lf,Wf,Qf,wp,Kp,ug,bg,Tg;if(!fo||fo.length===0)throw new Error("latlngs not passed");ey(fo)||(console.warn("latlngs are not flat! Only the first ring will be used"),fo=fo[0]);var Wg=Cp([0,0]),xm=yp(fo),Vm=xm.getNorthWest().distanceTo(xm.getSouthWest())*xm.getNorthEast().distanceTo(xm.getNorthWest());Vm<1700&&(Wg=G_(fo));var gy=fo.length,p0=[];for(Lf=0;Lf<gy;Lf++){var ty=Cp(fo[Lf]);p0.push(Ef.project(Cp([ty.lat-Wg.lat,ty.lng-Wg.lng])))}for(Lf=0,Wf=0;Lf<gy-1;Lf++)Wf+=p0[Lf].distanceTo(p0[Lf+1])/2;if(Wf===0)Tg=p0[0];else for(Lf=0,wp=0;Lf<gy-1;Lf++)if(Kp=p0[Lf],ug=p0[Lf+1],Qf=Kp.distanceTo(ug),wp+=Qf,wp>Wf){bg=(wp-Wf)/Qf,Tg=[ug.x-bg*(ug.x-Kp.x),ug.y-bg*(ug.y-Kp.y)];break}var Sy=Ef.unproject(fp(Tg));return Cp([Sy.lat+Wg.lat,Sy.lng+Wg.lng])}var Hb={__proto__:null,simplify:jb,pointToSegmentDistance:q_,closestPointOnSegment:M1,clipSegment:p_,_getEdgeIntersection:Dw,_getBitCode:nw,_sqClosestPointOnSegment:g_,isFlat:ey,_flat:EE,polylineCenter:E0},ow={project:function(fo){return new Xf(fo.lng,fo.lat)},unproject:function(fo){return new Ep(fo.y,fo.x)},bounds:new Mp([-180,-90],[180,90])},sw={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Mp([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(fo){var Ef=Math.PI/180,Lf=this.R,Wf=fo.lat*Ef,Qf=this.R_MINOR/Lf,wp=Math.sqrt(1-Qf*Qf),Kp=wp*Math.sin(Wf),ug=Math.tan(Math.PI/4-Wf/2)/Math.pow((1-Kp)/(1+Kp),wp/2);return Wf=-Lf*Math.log(Math.max(ug,1e-10)),new Xf(fo.lng*Ef*Lf,Wf)},unproject:function(fo){for(var Ef=180/Math.PI,Lf=this.R,Wf=this.R_MINOR/Lf,Qf=Math.sqrt(1-Wf*Wf),wp=Math.exp(-fo.y/Lf),Kp=Math.PI/2-2*Math.atan(wp),ug=0,bg=.1,Tg;ug<15&&Math.abs(bg)>1e-7;ug++)Tg=Qf*Math.sin(Kp),Tg=Math.pow((1-Tg)/(1+Tg),Qf/2),bg=Math.PI/2-2*Math.atan(wp*Tg)-Kp,Kp+=bg;return new Ep(Kp*Ef,fo.x*Ef/Lf)}},aw={__proto__:null,LonLat:ow,Mercator:sw,SphericalMercator:Fp},Z_=tt({},kp,{code:"EPSG:3395",projection:sw,transformation:function(){var fo=.5/(Math.PI*sw.R);return up(fo,.5,-fo,.5)}()}),k0=tt({},kp,{code:"EPSG:4326",projection:ow,transformation:up(1/180,1,-1/180,.5)}),Lx=tt({},$p,{projection:ow,transformation:up(1,0,-1,0),scale:function(fo){return Math.pow(2,fo)},zoom:function(fo){return Math.log(fo)/Math.LN2},distance:function(fo,Ef){var Lf=Ef.lng-fo.lng,Wf=Ef.lat-fo.lat;return Math.sqrt(Lf*Lf+Wf*Wf)},infinite:!0});$p.Earth=kp,$p.EPSG3395=Z_,$p.EPSG3857=Nf,$p.EPSG900913=Jf,$p.EPSG4326=k0,$p.Simple=Lx;var Nv=Ff.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(fo){return fo.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(fo){return fo&&fo.removeLayer(this),this},getPane:function(fo){return this._map.getPane(fo?this.options[fo]||fo:this.options.pane)},addInteractiveTarget:function(fo){return this._map._targets[wt(fo)]=this,this},removeInteractiveTarget:function(fo){return delete this._map._targets[wt(fo)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(fo){var Ef=fo.target;if(Ef.hasLayer(this)){if(this._map=Ef,this._zoomAnimated=Ef._zoomAnimated,this.getEvents){var Lf=this.getEvents();Ef.on(Lf,this),this.once("remove",function(){Ef.off(Lf,this)},this)}this.onAdd(Ef),this.fire("add"),Ef.fire("layeradd",{layer:this})}}});Km.include({addLayer:function(fo){if(!fo._layerAdd)throw new Error("The provided object is not a Layer.");var Ef=wt(fo);return this._layers[Ef]?this:(this._layers[Ef]=fo,fo._mapToAdd=this,fo.beforeAdd&&fo.beforeAdd(this),this.whenReady(fo._layerAdd,fo),this)},removeLayer:function(fo){var Ef=wt(fo);return this._layers[Ef]?(this._loaded&&fo.onRemove(this),delete this._layers[Ef],this._loaded&&(this.fire("layerremove",{layer:fo}),fo.fire("remove")),fo._map=fo._mapToAdd=null,this):this},hasLayer:function(fo){return wt(fo)in this._layers},eachLayer:function(fo,Ef){for(var Lf in this._layers)fo.call(Ef,this._layers[Lf]);return this},_addLayers:function(fo){fo=fo?po(fo)?fo:[fo]:[];for(var Ef=0,Lf=fo.length;Ef<Lf;Ef++)this.addLayer(fo[Ef])},_addZoomLimit:function(fo){(!isNaN(fo.options.maxZoom)||!isNaN(fo.options.minZoom))&&(this._zoomBoundLayers[wt(fo)]=fo,this._updateZoomLevels())},_removeZoomLimit:function(fo){var Ef=wt(fo);this._zoomBoundLayers[Ef]&&(delete this._zoomBoundLayers[Ef],this._updateZoomLevels())},_updateZoomLevels:function(){var fo=1/0,Ef=-1/0,Lf=this._getZoomSpan();for(var Wf in this._zoomBoundLayers){var Qf=this._zoomBoundLayers[Wf].options;fo=Qf.minZoom===void 0?fo:Math.min(fo,Qf.minZoom),Ef=Qf.maxZoom===void 0?Ef:Math.max(Ef,Qf.maxZoom)}this._layersMaxZoom=Ef===-1/0?void 0:Ef,this._layersMinZoom=fo===1/0?void 0:fo,Lf!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Zy=Nv.extend({initialize:function(fo,Ef){wf(this,Ef),this._layers={};var Lf,Wf;if(fo)for(Lf=0,Wf=fo.length;Lf<Wf;Lf++)this.addLayer(fo[Lf])},addLayer:function(fo){var Ef=this.getLayerId(fo);return this._layers[Ef]=fo,this._map&&this._map.addLayer(fo),this},removeLayer:function(fo){var Ef=fo in this._layers?fo:this.getLayerId(fo);return this._map&&this._layers[Ef]&&this._map.removeLayer(this._layers[Ef]),delete this._layers[Ef],this},hasLayer:function(fo){var Ef=typeof fo=="number"?fo:this.getLayerId(fo);return Ef in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(fo){var Ef=Array.prototype.slice.call(arguments,1),Lf,Wf;for(Lf in this._layers)Wf=this._layers[Lf],Wf[fo]&&Wf[fo].apply(Wf,Ef);return this},onAdd:function(fo){this.eachLayer(fo.addLayer,fo)},onRemove:function(fo){this.eachLayer(fo.removeLayer,fo)},eachLayer:function(fo,Ef){for(var Lf in this._layers)fo.call(Ef,this._layers[Lf]);return this},getLayer:function(fo){return this._layers[fo]},getLayers:function(){var fo=[];return this.eachLayer(fo.push,fo),fo},setZIndex:function(fo){return this.invoke("setZIndex",fo)},getLayerId:function(fo){return wt(fo)}}),Nw=function(fo,Ef){return new Zy(fo,Ef)},C0=Zy.extend({addLayer:function(fo){return this.hasLayer(fo)?this:(fo.addEventParent(this),Zy.prototype.addLayer.call(this,fo),this.fire("layeradd",{layer:fo}))},removeLayer:function(fo){return this.hasLayer(fo)?(fo in this._layers&&(fo=this._layers[fo]),fo.removeEventParent(this),Zy.prototype.removeLayer.call(this,fo),this.fire("layerremove",{layer:fo})):this},setStyle:function(fo){return this.invoke("setStyle",fo)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var fo=new Pp;for(var Ef in this._layers){var Lf=this._layers[Ef];fo.extend(Lf.getBounds?Lf.getBounds():Lf.getLatLng())}return fo}}),S0=function(fo,Ef){return new C0(fo,Ef)},fb=zf.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(fo){wf(this,fo)},createIcon:function(fo){return this._createIcon("icon",fo)},createShadow:function(fo){return this._createIcon("shadow",fo)},_createIcon:function(fo,Ef){var Lf=this._getIconUrl(fo);if(!Lf){if(fo==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var Wf=this._createImg(Lf,Ef&&Ef.tagName==="IMG"?Ef:null);return this._setIconStyles(Wf,fo),(this.options.crossOrigin||this.options.crossOrigin==="")&&(Wf.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),Wf},_setIconStyles:function(fo,Ef){var Lf=this.options,Wf=Lf[Ef+"Size"];typeof Wf=="number"&&(Wf=[Wf,Wf]);var Qf=fp(Wf),wp=fp(Ef==="shadow"&&Lf.shadowAnchor||Lf.iconAnchor||Qf&&Qf.divideBy(2,!0));fo.className="leaflet-marker-"+Ef+" "+(Lf.className||""),wp&&(fo.style.marginLeft=-wp.x+"px",fo.style.marginTop=-wp.y+"px"),Qf&&(fo.style.width=Qf.x+"px",fo.style.height=Qf.y+"px")},_createImg:function(fo,Ef){return Ef=Ef||document.createElement("img"),Ef.src=fo,Ef},_getIconUrl:function(fo){return tm.retina&&this.options[fo+"RetinaUrl"]||this.options[fo+"Url"]}});function Vv(fo){return new fb(fo)}var Bw=fb.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(fo){return typeof Bw.imagePath!="string"&&(Bw.imagePath=this._detectIconPath()),(this.options.imagePath||Bw.imagePath)+fb.prototype._getIconUrl.call(this,fo)},_stripUrl:function(fo){var Ef=function(Lf,Wf,Qf){var wp=Wf.exec(Lf);return wp&&wp[Qf]};return fo=Ef(fo,/^url\((['"])?(.+)\1\)$/,2),fo&&Ef(fo,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var fo=Fm("div","leaflet-default-icon-path",document.body),Ef=ov(fo,"background-image")||ov(fo,"backgroundImage");if(document.body.removeChild(fo),Ef=this._stripUrl(Ef),Ef)return Ef;var Lf=document.querySelector('link[href$="leaflet.css"]');return Lf?Lf.href.substring(0,Lf.href.length-11-1):""}}),X_=B0.extend({initialize:function(fo){this._marker=fo},addHooks:function(){var fo=this._marker._icon;this._draggable||(this._draggable=new Yy(fo,fo,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),gm(fo,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&dm(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(fo){var Ef=this._marker,Lf=Ef._map,Wf=this._marker.options.autoPanSpeed,Qf=this._marker.options.autoPanPadding,wp=Iv(Ef._icon),Kp=Lf.getPixelBounds(),ug=Lf.getPixelOrigin(),bg=Np(Kp.min._subtract(ug).add(Qf),Kp.max._subtract(ug).subtract(Qf));if(!bg.contains(wp)){var Tg=fp((Math.max(bg.max.x,wp.x)-bg.max.x)/(Kp.max.x-bg.max.x)-(Math.min(bg.min.x,wp.x)-bg.min.x)/(Kp.min.x-bg.min.x),(Math.max(bg.max.y,wp.y)-bg.max.y)/(Kp.max.y-bg.max.y)-(Math.min(bg.min.y,wp.y)-bg.min.y)/(Kp.min.y-bg.min.y)).multiplyBy(Wf);Lf.panBy(Tg,{animate:!1}),this._draggable._newPos._add(Tg),this._draggable._startPos._add(Tg),Qv(Ef._icon,this._draggable._newPos),this._onDrag(fo),this._panRequest=Af(this._adjustPan.bind(this,fo))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(fo){this._marker.options.autoPan&&(Pf(this._panRequest),this._panRequest=Af(this._adjustPan.bind(this,fo)))},_onDrag:function(fo){var Ef=this._marker,Lf=Ef._shadow,Wf=Iv(Ef._icon),Qf=Ef._map.layerPointToLatLng(Wf);Lf&&Qv(Lf,Wf),Ef._latlng=Qf,fo.latlng=Qf,fo.oldLatLng=this._oldLatLng,Ef.fire("move",fo).fire("drag",fo)},_onDragEnd:function(fo){Pf(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",fo)}}),P1=Nv.extend({options:{icon:new Bw,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(fo,Ef){wf(this,Ef),this._latlng=Cp(fo)},onAdd:function(fo){this._zoomAnimated=this._zoomAnimated&&fo.options.markerZoomAnimation,this._zoomAnimated&&fo.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(fo){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&fo.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(fo){var Ef=this._latlng;return this._latlng=Cp(fo),this.update(),this.fire("move",{oldLatLng:Ef,latlng:this._latlng})},setZIndexOffset:function(fo){return this.options.zIndexOffset=fo,this.update()},getIcon:function(){return this.options.icon},setIcon:function(fo){return this.options.icon=fo,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var fo=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(fo)}return this},_initIcon:function(){var fo=this.options,Ef="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),Lf=fo.icon.createIcon(this._icon),Wf=!1;Lf!==this._icon&&(this._icon&&this._removeIcon(),Wf=!0,fo.title&&(Lf.title=fo.title),Lf.tagName==="IMG"&&(Lf.alt=fo.alt||"")),gm(Lf,Ef),fo.keyboard&&(Lf.tabIndex="0",Lf.setAttribute("role","button")),this._icon=Lf,fo.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&cm(Lf,"focus",this._panOnFocus,this);var Qf=fo.icon.createShadow(this._shadow),wp=!1;Qf!==this._shadow&&(this._removeShadow(),wp=!0),Qf&&(gm(Qf,Ef),Qf.alt=""),this._shadow=Qf,fo.opacity<1&&this._updateOpacity(),Wf&&this.getPane().appendChild(this._icon),this._initInteraction(),Qf&&wp&&this.getPane(fo.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&_m(this._icon,"focus",this._panOnFocus,this),Xm(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Xm(this._shadow),this._shadow=null},_setPos:function(fo){this._icon&&Qv(this._icon,fo),this._shadow&&Qv(this._shadow,fo),this._zIndex=fo.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(fo){this._icon&&(this._icon.style.zIndex=this._zIndex+fo)},_animateZoom:function(fo){var Ef=this._map._latLngToNewLayerPoint(this._latlng,fo.zoom,fo.center).round();this._setPos(Ef)},_initInteraction:function(){if(this.options.interactive&&(gm(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),X_)){var fo=this.options.draggable;this.dragging&&(fo=this.dragging.enabled(),this.dragging.disable()),this.dragging=new X_(this),fo&&this.dragging.enable()}},setOpacity:function(fo){return this.options.opacity=fo,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var fo=this.options.opacity;this._icon&&Cm(this._icon,fo),this._shadow&&Cm(this._shadow,fo)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var fo=this._map;if(fo){var Ef=this.options.icon.options,Lf=Ef.iconSize?fp(Ef.iconSize):fp(0,0),Wf=Ef.iconAnchor?fp(Ef.iconAnchor):fp(0,0);fo.panInside(this._latlng,{paddingTopLeft:Wf,paddingBottomRight:Lf.subtract(Wf)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Rx(fo,Ef){return new P1(fo,Ef)}var s1=Nv.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(fo){this._renderer=fo.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(fo){return wf(this,fo),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&fo&&Object.prototype.hasOwnProperty.call(fo,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),K_=s1.extend({options:{fill:!0,radius:10},initialize:function(fo,Ef){wf(this,Ef),this._latlng=Cp(fo),this._radius=this.options.radius},setLatLng:function(fo){var Ef=this._latlng;return this._latlng=Cp(fo),this.redraw(),this.fire("move",{oldLatLng:Ef,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(fo){return this.options.radius=this._radius=fo,this.redraw()},getRadius:function(){return this._radius},setStyle:function(fo){var Ef=fo&&fo.radius||this._radius;return s1.prototype.setStyle.call(this,fo),this.setRadius(Ef),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var fo=this._radius,Ef=this._radiusY||fo,Lf=this._clickTolerance(),Wf=[fo+Lf,Ef+Lf];this._pxBounds=new Mp(this._point.subtract(Wf),this._point.add(Wf))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(fo){return fo.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function m_(fo,Ef){return new K_(fo,Ef)}var J_=K_.extend({initialize:function(fo,Ef,Lf){if(typeof Ef=="number"&&(Ef=tt({},Lf,{radius:Ef})),wf(this,Ef),this._latlng=Cp(fo),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(fo){return this._mRadius=fo,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var fo=[this._radius,this._radiusY||this._radius];return new Pp(this._map.layerPointToLatLng(this._point.subtract(fo)),this._map.layerPointToLatLng(this._point.add(fo)))},setStyle:s1.prototype.setStyle,_project:function(){var fo=this._latlng.lng,Ef=this._latlng.lat,Lf=this._map,Wf=Lf.options.crs;if(Wf.distance===kp.distance){var Qf=Math.PI/180,wp=this._mRadius/kp.R/Qf,Kp=Lf.project([Ef+wp,fo]),ug=Lf.project([Ef-wp,fo]),bg=Kp.add(ug).divideBy(2),Tg=Lf.unproject(bg).lat,Wg=Math.acos((Math.cos(wp*Qf)-Math.sin(Ef*Qf)*Math.sin(Tg*Qf))/(Math.cos(Ef*Qf)*Math.cos(Tg*Qf)))/Qf;(isNaN(Wg)||Wg===0)&&(Wg=wp/Math.cos(Math.PI/180*Ef)),this._point=bg.subtract(Lf.getPixelOrigin()),this._radius=isNaN(Wg)?0:bg.x-Lf.project([Tg,fo-Wg]).x,this._radiusY=bg.y-Kp.y}else{var xm=Wf.unproject(Wf.project(this._latlng).subtract([this._mRadius,0]));this._point=Lf.latLngToLayerPoint(this._latlng),this._radius=this._point.x-Lf.latLngToLayerPoint(xm).x}this._updateBounds()}});function _k(fo,Ef,Lf){return new J_(fo,Ef,Lf)}var a1=s1.extend({options:{smoothFactor:1,noClip:!1},initialize:function(fo,Ef){wf(this,Ef),this._setLatLngs(fo)},getLatLngs:function(){return this._latlngs},setLatLngs:function(fo){return this._setLatLngs(fo),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(fo){for(var Ef=1/0,Lf=null,Wf=g_,Qf,wp,Kp=0,ug=this._parts.length;Kp<ug;Kp++)for(var bg=this._parts[Kp],Tg=1,Wg=bg.length;Tg<Wg;Tg++){Qf=bg[Tg-1],wp=bg[Tg];var xm=Wf(fo,Qf,wp,!0);xm<Ef&&(Ef=xm,Lf=Wf(fo,Qf,wp))}return Lf&&(Lf.distance=Math.sqrt(Ef)),Lf},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return E0(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(fo,Ef){return Ef=Ef||this._defaultShape(),fo=Cp(fo),Ef.push(fo),this._bounds.extend(fo),this.redraw()},_setLatLngs:function(fo){this._bounds=new Pp,this._latlngs=this._convertLatLngs(fo)},_defaultShape:function(){return ey(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(fo){for(var Ef=[],Lf=ey(fo),Wf=0,Qf=fo.length;Wf<Qf;Wf++)Lf?(Ef[Wf]=Cp(fo[Wf]),this._bounds.extend(Ef[Wf])):Ef[Wf]=this._convertLatLngs(fo[Wf]);return Ef},_project:function(){var fo=new Mp;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,fo),this._bounds.isValid()&&fo.isValid()&&(this._rawPxBounds=fo,this._updateBounds())},_updateBounds:function(){var fo=this._clickTolerance(),Ef=new Xf(fo,fo);this._rawPxBounds&&(this._pxBounds=new Mp([this._rawPxBounds.min.subtract(Ef),this._rawPxBounds.max.add(Ef)]))},_projectLatlngs:function(fo,Ef,Lf){var Wf=fo[0]instanceof Ep,Qf=fo.length,wp,Kp;if(Wf){for(Kp=[],wp=0;wp<Qf;wp++)Kp[wp]=this._map.latLngToLayerPoint(fo[wp]),Lf.extend(Kp[wp]);Ef.push(Kp)}else for(wp=0;wp<Qf;wp++)this._projectLatlngs(fo[wp],Ef,Lf)},_clipPoints:function(){var fo=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(fo))){if(this.options.noClip){this._parts=this._rings;return}var Ef=this._parts,Lf,Wf,Qf,wp,Kp,ug,bg;for(Lf=0,Qf=0,wp=this._rings.length;Lf<wp;Lf++)for(bg=this._rings[Lf],Wf=0,Kp=bg.length;Wf<Kp-1;Wf++)ug=p_(bg[Wf],bg[Wf+1],fo,Wf,!0),ug&&(Ef[Qf]=Ef[Qf]||[],Ef[Qf].push(ug[0]),(ug[1]!==bg[Wf+1]||Wf===Kp-2)&&(Ef[Qf].push(ug[1]),Qf++))}},_simplifyPoints:function(){for(var fo=this._parts,Ef=this.options.smoothFactor,Lf=0,Wf=fo.length;Lf<Wf;Lf++)fo[Lf]=jb(fo[Lf],Ef)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(fo,Ef){var Lf,Wf,Qf,wp,Kp,ug,bg=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(fo))return!1;for(Lf=0,wp=this._parts.length;Lf<wp;Lf++)for(ug=this._parts[Lf],Wf=0,Kp=ug.length,Qf=Kp-1;Wf<Kp;Qf=Wf++)if(!(!Ef&&Wf===0)&&q_(fo,ug[Qf],ug[Wf])<=bg)return!0;return!1}});function $w(fo,Ef){return new a1(fo,Ef)}a1._flat=EE;var I1=a1.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return db(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(fo){var Ef=a1.prototype._convertLatLngs.call(this,fo),Lf=Ef.length;return Lf>=2&&Ef[0]instanceof Ep&&Ef[0].equals(Ef[Lf-1])&&Ef.pop(),Ef},_setLatLngs:function(fo){a1.prototype._setLatLngs.call(this,fo),ey(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ey(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var fo=this._renderer._bounds,Ef=this.options.weight,Lf=new Xf(Ef,Ef);if(fo=new Mp(fo.min.subtract(Lf),fo.max.add(Lf)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(fo))){if(this.options.noClip){this._parts=this._rings;return}for(var Wf=0,Qf=this._rings.length,wp;Wf<Qf;Wf++)wp=kb(this._rings[Wf],fo,!0),wp.length&&this._parts.push(wp)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(fo){var Ef=!1,Lf,Wf,Qf,wp,Kp,ug,bg,Tg;if(!this._pxBounds||!this._pxBounds.contains(fo))return!1;for(wp=0,bg=this._parts.length;wp<bg;wp++)for(Lf=this._parts[wp],Kp=0,Tg=Lf.length,ug=Tg-1;Kp<Tg;ug=Kp++)Wf=Lf[Kp],Qf=Lf[ug],Wf.y>fo.y!=Qf.y>fo.y&&fo.x<(Qf.x-Wf.x)*(fo.y-Wf.y)/(Qf.y-Wf.y)+Wf.x&&(Ef=!Ef);return Ef||a1.prototype._containsPoint.call(this,fo,!0)}});function Dx(fo,Ef){return new I1(fo,Ef)}var Zv=C0.extend({initialize:function(fo,Ef){wf(this,Ef),this._layers={},fo&&this.addData(fo)},addData:function(fo){var Ef=po(fo)?fo:fo.features,Lf,Wf,Qf;if(Ef){for(Lf=0,Wf=Ef.length;Lf<Wf;Lf++)Qf=Ef[Lf],(Qf.geometries||Qf.geometry||Qf.features||Qf.coordinates)&&this.addData(Qf);return this}var wp=this.options;if(wp.filter&&!wp.filter(fo))return this;var Kp=Q_(fo,wp);return Kp?(Kp.feature=v_(fo),Kp.defaultOptions=Kp.options,this.resetStyle(Kp),wp.onEachFeature&&wp.onEachFeature(fo,Kp),this.addLayer(Kp)):this},resetStyle:function(fo){return fo===void 0?this.eachLayer(this.resetStyle,this):(fo.options=tt({},fo.defaultOptions),this._setLayerStyle(fo,this.options.style),this)},setStyle:function(fo){return this.eachLayer(function(Ef){this._setLayerStyle(Ef,fo)},this)},_setLayerStyle:function(fo,Ef){fo.setStyle&&(typeof Ef=="function"&&(Ef=Ef(fo.feature)),fo.setStyle(Ef))}});function Q_(fo,Ef){var Lf=fo.type==="Feature"?fo.geometry:fo,Wf=Lf?Lf.coordinates:null,Qf=[],wp=Ef&&Ef.pointToLayer,Kp=Ef&&Ef.coordsToLatLng||fy,ug,bg,Tg,Wg;if(!Wf&&!Lf)return null;switch(Lf.type){case"Point":return ug=Kp(Wf),lw(wp,fo,ug,Ef);case"MultiPoint":for(Tg=0,Wg=Wf.length;Tg<Wg;Tg++)ug=Kp(Wf[Tg]),Qf.push(lw(wp,fo,ug,Ef));return new C0(Qf);case"LineString":case"MultiLineString":return bg=py(Wf,Lf.type==="LineString"?0:1,Kp),new a1(bg,Ef);case"Polygon":case"MultiPolygon":return bg=py(Wf,Lf.type==="Polygon"?1:2,Kp),new I1(bg,Ef);case"GeometryCollection":for(Tg=0,Wg=Lf.geometries.length;Tg<Wg;Tg++){var xm=Q_({geometry:Lf.geometries[Tg],type:"Feature",properties:fo.properties},Ef);xm&&Qf.push(xm)}return new C0(Qf);case"FeatureCollection":for(Tg=0,Wg=Lf.features.length;Tg<Wg;Tg++){var Vm=Q_(Lf.features[Tg],Ef);Vm&&Qf.push(Vm)}return new C0(Qf);default:throw new Error("Invalid GeoJSON object.")}}function lw(fo,Ef,Lf,Wf){return fo?fo(Ef,Lf):new P1(Lf,Wf&&Wf.markersInheritOptions&&Wf)}function fy(fo){return new Ep(fo[1],fo[0],fo[2])}function py(fo,Ef,Lf){for(var Wf=[],Qf=0,wp=fo.length,Kp;Qf<wp;Qf++)Kp=Ef?py(fo[Qf],Ef-1,Lf):(Lf||fy)(fo[Qf]),Wf.push(Kp);return Wf}function Vb(fo,Ef){return fo=Cp(fo),fo.alt!==void 0?[lf(fo.lng,Ef),lf(fo.lat,Ef),lf(fo.alt,Ef)]:[lf(fo.lng,Ef),lf(fo.lat,Ef)]}function uw(fo,Ef,Lf,Wf){for(var Qf=[],wp=0,Kp=fo.length;wp<Kp;wp++)Qf.push(Ef?uw(fo[wp],ey(fo[wp])?0:Ef-1,Lf,Wf):Vb(fo[wp],Wf));return!Ef&&Lf&&Qf.length>0&&Qf.push(Qf[0].slice()),Qf}function cw(fo,Ef){return fo.feature?tt({},fo.feature,{geometry:Ef}):v_(Ef)}function v_(fo){return fo.type==="Feature"||fo.type==="FeatureCollection"?fo:{type:"Feature",properties:{},geometry:fo}}var y_={toGeoJSON:function(fo){return cw(this,{type:"Point",coordinates:Vb(this.getLatLng(),fo)})}};P1.include(y_),J_.include(y_),K_.include(y_),a1.include({toGeoJSON:function(fo){var Ef=!ey(this._latlngs),Lf=uw(this._latlngs,Ef?1:0,!1,fo);return cw(this,{type:(Ef?"Multi":"")+"LineString",coordinates:Lf})}}),I1.include({toGeoJSON:function(fo){var Ef=!ey(this._latlngs),Lf=Ef&&!ey(this._latlngs[0]),Wf=uw(this._latlngs,Lf?2:Ef?1:0,!0,fo);return Ef||(Wf=[Wf]),cw(this,{type:(Lf?"Multi":"")+"Polygon",coordinates:Wf})}}),Zy.include({toMultiPoint:function(fo){var Ef=[];return this.eachLayer(function(Lf){Ef.push(Lf.toGeoJSON(fo).geometry.coordinates)}),cw(this,{type:"MultiPoint",coordinates:Ef})},toGeoJSON:function(fo){var Ef=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(Ef==="MultiPoint")return this.toMultiPoint(fo);var Lf=Ef==="GeometryCollection",Wf=[];return this.eachLayer(function(Qf){if(Qf.toGeoJSON){var wp=Qf.toGeoJSON(fo);if(Lf)Wf.push(wp.geometry);else{var Kp=v_(wp);Kp.type==="FeatureCollection"?Wf.push.apply(Wf,Kp.features):Wf.push(Kp)}}}),Lf?cw(this,{geometries:Wf,type:"GeometryCollection"}):{type:"FeatureCollection",features:Wf}}});function ex(fo,Ef){return new Zv(fo,Ef)}var xk=ex,l1=Nv.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(fo,Ef,Lf){this._url=fo,this._bounds=yp(Ef),wf(this,Lf)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(gm(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Xm(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(fo){return this.options.opacity=fo,this._image&&this._updateOpacity(),this},setStyle:function(fo){return fo.opacity&&this.setOpacity(fo.opacity),this},bringToFront:function(){return this._map&&ab(this._image),this},bringToBack:function(){return this._map&&Gy(this._image),this},setUrl:function(fo){return this._url=fo,this._image&&(this._image.src=fo),this},setBounds:function(fo){return this._bounds=yp(fo),this._map&&this._reset(),this},getEvents:function(){var fo={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(fo.zoomanim=this._animateZoom),fo},setZIndex:function(fo){return this.options.zIndex=fo,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var fo=this._url.tagName==="IMG",Ef=this._image=fo?this._url:Fm("img");if(gm(Ef,"leaflet-image-layer"),this._zoomAnimated&&gm(Ef,"leaflet-zoom-animated"),this.options.className&&gm(Ef,this.options.className),Ef.onselectstart=yo,Ef.onmousemove=yo,Ef.onload=at(this.fire,this,"load"),Ef.onerror=at(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(Ef.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),fo){this._url=Ef.src;return}Ef.src=this._url,Ef.alt=this.options.alt},_animateZoom:function(fo){var Ef=this._map.getZoomScale(fo.zoom),Lf=this._map._latLngBoundsToNewLayerBounds(this._bounds,fo.zoom,fo.center).min;Q0(this._image,Lf,Ef)},_reset:function(){var fo=this._image,Ef=new Mp(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),Lf=Ef.getSize();Qv(fo,Ef.min),fo.style.width=Lf.x+"px",fo.style.height=Lf.y+"px"},_updateOpacity:function(){Cm(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var fo=this.options.errorOverlayUrl;fo&&this._url!==fo&&(this._url=fo,this._image.src=fo)},getCenter:function(){return this._bounds.getCenter()}}),Ek=function(fo,Ef,Lf){return new l1(fo,Ef,Lf)},Nx=l1.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var fo=this._url.tagName==="VIDEO",Ef=this._image=fo?this._url:Fm("video");if(gm(Ef,"leaflet-image-layer"),this._zoomAnimated&&gm(Ef,"leaflet-zoom-animated"),this.options.className&&gm(Ef,this.options.className),Ef.onselectstart=yo,Ef.onmousemove=yo,Ef.onloadeddata=at(this.fire,this,"load"),fo){for(var Lf=Ef.getElementsByTagName("source"),Wf=[],Qf=0;Qf<Lf.length;Qf++)Wf.push(Lf[Qf].src);this._url=Lf.length>0?Wf:[Ef.src];return}po(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(Ef.style,"objectFit")&&(Ef.style.objectFit="fill"),Ef.autoplay=!!this.options.autoplay,Ef.loop=!!this.options.loop,Ef.muted=!!this.options.muted,Ef.playsInline=!!this.options.playsInline;for(var wp=0;wp<this._url.length;wp++){var Kp=Fm("source");Kp.src=this._url[wp],Ef.appendChild(Kp)}}});function b_(fo,Ef,Lf){return new Nx(fo,Ef,Lf)}var i0=l1.extend({_initImage:function(){var fo=this._image=this._url;gm(fo,"leaflet-image-layer"),this._zoomAnimated&&gm(fo,"leaflet-zoom-animated"),this.options.className&&gm(fo,this.options.className),fo.onselectstart=yo,fo.onmousemove=yo}});function kE(fo,Ef,Lf){return new i0(fo,Ef,Lf)}var kv=Nv.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(fo,Ef){fo&&(fo instanceof Ep||po(fo))?(this._latlng=Cp(fo),wf(this,Ef)):(wf(this,fo),this._source=Ef),this.options.content&&(this._content=this.options.content)},openOn:function(fo){return fo=arguments.length?fo:this._source._map,fo.hasLayer(this)||fo.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(fo){return this._map?this.close():(arguments.length?this._source=fo:fo=this._source,this._prepareOpen(),this.openOn(fo._map)),this},onAdd:function(fo){this._zoomAnimated=fo._zoomAnimated,this._container||this._initLayout(),fo._fadeAnimated&&Cm(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),fo._fadeAnimated&&Cm(this._container,1),this.bringToFront(),this.options.interactive&&(gm(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(fo){fo._fadeAnimated?(Cm(this._container,0),this._removeTimeout=setTimeout(at(Xm,void 0,this._container),200)):Xm(this._container),this.options.interactive&&(dm(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(fo){return this._latlng=Cp(fo),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(fo){return this._content=fo,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var fo={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(fo.zoomanim=this._animateZoom),fo},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ab(this._container),this},bringToBack:function(){return this._map&&Gy(this._container),this},_prepareOpen:function(fo){var Ef=this._source;if(!Ef._map)return!1;if(Ef instanceof C0){Ef=null;var Lf=this._source._layers;for(var Wf in Lf)if(Lf[Wf]._map){Ef=Lf[Wf];break}if(!Ef)return!1;this._source=Ef}if(!fo)if(Ef.getCenter)fo=Ef.getCenter();else if(Ef.getLatLng)fo=Ef.getLatLng();else if(Ef.getBounds)fo=Ef.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(fo),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var fo=this._contentNode,Ef=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof Ef=="string")fo.innerHTML=Ef;else{for(;fo.hasChildNodes();)fo.removeChild(fo.firstChild);fo.appendChild(Ef)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var fo=this._map.latLngToLayerPoint(this._latlng),Ef=fp(this.options.offset),Lf=this._getAnchor();this._zoomAnimated?Qv(this._container,fo.add(Lf)):Ef=Ef.add(fo).add(Lf);var Wf=this._containerBottom=-Ef.y,Qf=this._containerLeft=-Math.round(this._containerWidth/2)+Ef.x;this._container.style.bottom=Wf+"px",this._container.style.left=Qf+"px"}},_getAnchor:function(){return[0,0]}});Km.include({_initOverlay:function(fo,Ef,Lf,Wf){var Qf=Ef;return Qf instanceof fo||(Qf=new fo(Wf).setContent(Ef)),Lf&&Qf.setLatLng(Lf),Qf}}),Nv.include({_initOverlay:function(fo,Ef,Lf,Wf){var Qf=Lf;return Qf instanceof fo?(wf(Qf,Wf),Qf._source=this):(Qf=Ef&&!Wf?Ef:new fo(Wf,this),Qf.setContent(Lf)),Qf}});var pb=kv.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(fo){return fo=arguments.length?fo:this._source._map,!fo.hasLayer(this)&&fo._popup&&fo._popup.options.autoClose&&fo.removeLayer(fo._popup),fo._popup=this,kv.prototype.openOn.call(this,fo)},onAdd:function(fo){kv.prototype.onAdd.call(this,fo),fo.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof s1||this._source.on("preclick",tw))},onRemove:function(fo){kv.prototype.onRemove.call(this,fo),fo.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof s1||this._source.off("preclick",tw))},getEvents:function(){var fo=kv.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(fo.preclick=this.close),this.options.keepInView&&(fo.moveend=this._adjustPan),fo},_initLayout:function(){var fo="leaflet-popup",Ef=this._container=Fm("div",fo+" "+(this.options.className||"")+" leaflet-zoom-animated"),Lf=this._wrapper=Fm("div",fo+"-content-wrapper",Ef);if(this._contentNode=Fm("div",fo+"-content",Lf),cb(Ef),Ax(this._contentNode),cm(Ef,"contextmenu",tw),this._tipContainer=Fm("div",fo+"-tip-container",Ef),this._tip=Fm("div",fo+"-tip",this._tipContainer),this.options.closeButton){var Wf=this._closeButton=Fm("a",fo+"-close-button",Ef);Wf.setAttribute("role","button"),Wf.setAttribute("aria-label","Close popup"),Wf.href="#close",Wf.innerHTML='<span aria-hidden="true">&#215;</span>',cm(Wf,"click",function(Qf){f0(Qf),this.close()},this)}},_updateLayout:function(){var fo=this._contentNode,Ef=fo.style;Ef.width="",Ef.whiteSpace="nowrap";var Lf=fo.offsetWidth;Lf=Math.min(Lf,this.options.maxWidth),Lf=Math.max(Lf,this.options.minWidth),Ef.width=Lf+1+"px",Ef.whiteSpace="",Ef.height="";var Wf=fo.offsetHeight,Qf=this.options.maxHeight,wp="leaflet-popup-scrolled";Qf&&Wf>Qf?(Ef.height=Qf+"px",gm(fo,wp)):dm(fo,wp),this._containerWidth=this._container.offsetWidth},_animateZoom:function(fo){var Ef=this._map._latLngToNewLayerPoint(this._latlng,fo.zoom,fo.center),Lf=this._getAnchor();Qv(this._container,Ef.add(Lf))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var fo=this._map,Ef=parseInt(ov(this._container,"marginBottom"),10)||0,Lf=this._container.offsetHeight+Ef,Wf=this._containerWidth,Qf=new Xf(this._containerLeft,-Lf-this._containerBottom);Qf._add(Iv(this._container));var wp=fo.layerPointToContainerPoint(Qf),Kp=fp(this.options.autoPanPadding),ug=fp(this.options.autoPanPaddingTopLeft||Kp),bg=fp(this.options.autoPanPaddingBottomRight||Kp),Tg=fo.getSize(),Wg=0,xm=0;wp.x+Wf+bg.x>Tg.x&&(Wg=wp.x+Wf-Tg.x+bg.x),wp.x-Wg-ug.x<0&&(Wg=wp.x-ug.x),wp.y+Lf+bg.y>Tg.y&&(xm=wp.y+Lf-Tg.y+bg.y),wp.y-xm-ug.y<0&&(xm=wp.y-ug.y),(Wg||xm)&&(this.options.keepInView&&(this._autopanning=!0),fo.fire("autopanstart").panBy([Wg,xm]))}},_getAnchor:function(){return fp(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Cb=function(fo,Ef){return new pb(fo,Ef)};Km.mergeOptions({closePopupOnClick:!0}),Km.include({openPopup:function(fo,Ef,Lf){return this._initOverlay(pb,fo,Ef,Lf).openOn(this),this},closePopup:function(fo){return fo=arguments.length?fo:this._popup,fo&&fo.close(),this}}),Nv.include({bindPopup:function(fo,Ef){return this._popup=this._initOverlay(pb,this._popup,fo,Ef),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(fo){return this._popup&&(this instanceof C0||(this._popup._source=this),this._popup._prepareOpen(fo||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(fo){return this._popup&&this._popup.setContent(fo),this},getPopup:function(){return this._popup},_openPopup:function(fo){if(!(!this._popup||!this._map)){A1(fo);var Ef=fo.layer||fo.target;if(this._popup._source===Ef&&!(Ef instanceof s1)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(fo.latlng);return}this._popup._source=Ef,this.openPopup(fo.latlng)}},_movePopup:function(fo){this._popup.setLatLng(fo.latlng)},_onKeyPress:function(fo){fo.originalEvent.keyCode===13&&this._openPopup(fo)}});var L1=kv.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(fo){kv.prototype.onAdd.call(this,fo),this.setOpacity(this.options.opacity),fo.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(fo){kv.prototype.onRemove.call(this,fo),fo.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var fo=kv.prototype.getEvents.call(this);return this.options.permanent||(fo.preclick=this.close),fo},_initLayout:function(){var fo="leaflet-tooltip",Ef=fo+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Fm("div",Ef),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+wt(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(fo){var Ef,Lf,Wf=this._map,Qf=this._container,wp=Wf.latLngToContainerPoint(Wf.getCenter()),Kp=Wf.layerPointToContainerPoint(fo),ug=this.options.direction,bg=Qf.offsetWidth,Tg=Qf.offsetHeight,Wg=fp(this.options.offset),xm=this._getAnchor();ug==="top"?(Ef=bg/2,Lf=Tg):ug==="bottom"?(Ef=bg/2,Lf=0):ug==="center"?(Ef=bg/2,Lf=Tg/2):ug==="right"?(Ef=0,Lf=Tg/2):ug==="left"?(Ef=bg,Lf=Tg/2):Kp.x<wp.x?(ug="right",Ef=0,Lf=Tg/2):(ug="left",Ef=bg+(Wg.x+xm.x)*2,Lf=Tg/2),fo=fo.subtract(fp(Ef,Lf,!0)).add(Wg).add(xm),dm(Qf,"leaflet-tooltip-right"),dm(Qf,"leaflet-tooltip-left"),dm(Qf,"leaflet-tooltip-top"),dm(Qf,"leaflet-tooltip-bottom"),gm(Qf,"leaflet-tooltip-"+ug),Qv(Qf,fo)},_updatePosition:function(){var fo=this._map.latLngToLayerPoint(this._latlng);this._setPosition(fo)},setOpacity:function(fo){this.options.opacity=fo,this._container&&Cm(this._container,fo)},_animateZoom:function(fo){var Ef=this._map._latLngToNewLayerPoint(this._latlng,fo.zoom,fo.center);this._setPosition(Ef)},_getAnchor:function(){return fp(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Bx=function(fo,Ef){return new L1(fo,Ef)};Km.include({openTooltip:function(fo,Ef,Lf){return this._initOverlay(L1,fo,Ef,Lf).openOn(this),this},closeTooltip:function(fo){return fo.close(),this}}),Nv.include({bindTooltip:function(fo,Ef){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(L1,this._tooltip,fo,Ef),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(fo){if(!(!fo&&this._tooltipHandlersAdded)){var Ef=fo?"off":"on",Lf={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?Lf.add=this._openTooltip:(Lf.mouseover=this._openTooltip,Lf.mouseout=this.closeTooltip,Lf.click=this._openTooltip,this._map?this._addFocusListeners():Lf.add=this._addFocusListeners),this._tooltip.options.sticky&&(Lf.mousemove=this._moveTooltip),this[Ef](Lf),this._tooltipHandlersAdded=!fo}},openTooltip:function(fo){return this._tooltip&&(this instanceof C0||(this._tooltip._source=this),this._tooltip._prepareOpen(fo)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(fo){return this._tooltip&&this._tooltip.setContent(fo),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(fo){var Ef=typeof fo.getElement=="function"&&fo.getElement();Ef&&(cm(Ef,"focus",function(){this._tooltip._source=fo,this.openTooltip()},this),cm(Ef,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(fo){var Ef=typeof fo.getElement=="function"&&fo.getElement();Ef&&Ef.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(fo){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var Ef=this;this._map.once("moveend",function(){Ef._openOnceFlag=!1,Ef._openTooltip(fo)});return}this._tooltip._source=fo.layer||fo.target,this.openTooltip(this._tooltip.options.sticky?fo.latlng:void 0)}},_moveTooltip:function(fo){var Ef=fo.latlng,Lf,Wf;this._tooltip.options.sticky&&fo.originalEvent&&(Lf=this._map.mouseEventToContainerPoint(fo.originalEvent),Wf=this._map.containerPointToLayerPoint(Lf),Ef=this._map.layerPointToLatLng(Wf)),this._tooltip.setLatLng(Ef)}});var tx=fb.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(fo){var Ef=fo&&fo.tagName==="DIV"?fo:document.createElement("div"),Lf=this.options;if(Lf.html instanceof Element?(J0(Ef),Ef.appendChild(Lf.html)):Ef.innerHTML=Lf.html!==!1?Lf.html:"",Lf.bgPos){var Wf=fp(Lf.bgPos);Ef.style.backgroundPosition=-Wf.x+"px "+-Wf.y+"px"}return this._setIconStyles(Ef,"icon"),Ef},createShadow:function(){return null}});function rx(fo){return new tx(fo)}fb.Default=Bw;var w_=Nv.extend({options:{tileSize:256,opacity:1,updateWhenIdle:tm.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(fo){wf(this,fo)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(fo){fo._addZoomLimit(this)},onRemove:function(fo){this._removeAllTiles(),Xm(this._container),fo._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ab(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Gy(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(fo){return this.options.opacity=fo,this._updateOpacity(),this},setZIndex:function(fo){return this.options.zIndex=fo,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var fo=this._clampZoom(this._map.getZoom());fo!==this._tileZoom&&(this._tileZoom=fo,this._updateLevels()),this._update()}return this},getEvents:function(){var fo={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=uo(this._onMoveEnd,this.options.updateInterval,this)),fo.move=this._onMove),this._zoomAnimated&&(fo.zoomanim=this._animateZoom),fo},createTile:function(){return document.createElement("div")},getTileSize:function(){var fo=this.options.tileSize;return fo instanceof Xf?fo:new Xf(fo,fo)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(fo){for(var Ef=this.getPane().children,Lf=-fo(-1/0,1/0),Wf=0,Qf=Ef.length,wp;Wf<Qf;Wf++)wp=Ef[Wf].style.zIndex,Ef[Wf]!==this._container&&wp&&(Lf=fo(Lf,+wp));isFinite(Lf)&&(this.options.zIndex=Lf+fo(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!tm.ielt9){Cm(this._container,this.options.opacity);var fo=+new Date,Ef=!1,Lf=!1;for(var Wf in this._tiles){var Qf=this._tiles[Wf];if(!(!Qf.current||!Qf.loaded)){var wp=Math.min(1,(fo-Qf.loaded)/200);Cm(Qf.el,wp),wp<1?Ef=!0:(Qf.active?Lf=!0:this._onOpaqueTile(Qf),Qf.active=!0)}}Lf&&!this._noPrune&&this._pruneTiles(),Ef&&(Pf(this._fadeFrame),this._fadeFrame=Af(this._updateOpacity,this))}},_onOpaqueTile:yo,_initContainer:function(){this._container||(this._container=Fm("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var fo=this._tileZoom,Ef=this.options.maxZoom;if(fo!==void 0){for(var Lf in this._levels)Lf=Number(Lf),this._levels[Lf].el.children.length||Lf===fo?(this._levels[Lf].el.style.zIndex=Ef-Math.abs(fo-Lf),this._onUpdateLevel(Lf)):(Xm(this._levels[Lf].el),this._removeTilesAtZoom(Lf),this._onRemoveLevel(Lf),delete this._levels[Lf]);var Wf=this._levels[fo],Qf=this._map;return Wf||(Wf=this._levels[fo]={},Wf.el=Fm("div","leaflet-tile-container leaflet-zoom-animated",this._container),Wf.el.style.zIndex=Ef,Wf.origin=Qf.project(Qf.unproject(Qf.getPixelOrigin()),fo).round(),Wf.zoom=fo,this._setZoomTransform(Wf,Qf.getCenter(),Qf.getZoom()),yo(Wf.el.offsetWidth),this._onCreateLevel(Wf)),this._level=Wf,Wf}},_onUpdateLevel:yo,_onRemoveLevel:yo,_onCreateLevel:yo,_pruneTiles:function(){if(this._map){var fo,Ef,Lf=this._map.getZoom();if(Lf>this.options.maxZoom||Lf<this.options.minZoom){this._removeAllTiles();return}for(fo in this._tiles)Ef=this._tiles[fo],Ef.retain=Ef.current;for(fo in this._tiles)if(Ef=this._tiles[fo],Ef.current&&!Ef.active){var Wf=Ef.coords;this._retainParent(Wf.x,Wf.y,Wf.z,Wf.z-5)||this._retainChildren(Wf.x,Wf.y,Wf.z,Wf.z+2)}for(fo in this._tiles)this._tiles[fo].retain||this._removeTile(fo)}},_removeTilesAtZoom:function(fo){for(var Ef in this._tiles)this._tiles[Ef].coords.z===fo&&this._removeTile(Ef)},_removeAllTiles:function(){for(var fo in this._tiles)this._removeTile(fo)},_invalidateAll:function(){for(var fo in this._levels)Xm(this._levels[fo].el),this._onRemoveLevel(Number(fo)),delete this._levels[fo];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(fo,Ef,Lf,Wf){var Qf=Math.floor(fo/2),wp=Math.floor(Ef/2),Kp=Lf-1,ug=new Xf(+Qf,+wp);ug.z=+Kp;var bg=this._tileCoordsToKey(ug),Tg=this._tiles[bg];return Tg&&Tg.active?(Tg.retain=!0,!0):(Tg&&Tg.loaded&&(Tg.retain=!0),Kp>Wf?this._retainParent(Qf,wp,Kp,Wf):!1)},_retainChildren:function(fo,Ef,Lf,Wf){for(var Qf=2*fo;Qf<2*fo+2;Qf++)for(var wp=2*Ef;wp<2*Ef+2;wp++){var Kp=new Xf(Qf,wp);Kp.z=Lf+1;var ug=this._tileCoordsToKey(Kp),bg=this._tiles[ug];if(bg&&bg.active){bg.retain=!0;continue}else bg&&bg.loaded&&(bg.retain=!0);Lf+1<Wf&&this._retainChildren(Qf,wp,Lf+1,Wf)}},_resetView:function(fo){var Ef=fo&&(fo.pinch||fo.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),Ef,Ef)},_animateZoom:function(fo){this._setView(fo.center,fo.zoom,!0,fo.noUpdate)},_clampZoom:function(fo){var Ef=this.options;return Ef.minNativeZoom!==void 0&&fo<Ef.minNativeZoom?Ef.minNativeZoom:Ef.maxNativeZoom!==void 0&&Ef.maxNativeZoom<fo?Ef.maxNativeZoom:fo},_setView:function(fo,Ef,Lf,Wf){var Qf=Math.round(Ef);this.options.maxZoom!==void 0&&Qf>this.options.maxZoom||this.options.minZoom!==void 0&&Qf<this.options.minZoom?Qf=void 0:Qf=this._clampZoom(Qf);var wp=this.options.updateWhenZooming&&Qf!==this._tileZoom;(!Wf||wp)&&(this._tileZoom=Qf,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),Qf!==void 0&&this._update(fo),Lf||this._pruneTiles(),this._noPrune=!!Lf),this._setZoomTransforms(fo,Ef)},_setZoomTransforms:function(fo,Ef){for(var Lf in this._levels)this._setZoomTransform(this._levels[Lf],fo,Ef)},_setZoomTransform:function(fo,Ef,Lf){var Wf=this._map.getZoomScale(Lf,fo.zoom),Qf=fo.origin.multiplyBy(Wf).subtract(this._map._getNewPixelOrigin(Ef,Lf)).round();tm.any3d?Q0(fo.el,Qf,Wf):Qv(fo.el,Qf)},_resetGrid:function(){var fo=this._map,Ef=fo.options.crs,Lf=this._tileSize=this.getTileSize(),Wf=this._tileZoom,Qf=this._map.getPixelWorldBounds(this._tileZoom);Qf&&(this._globalTileRange=this._pxBoundsToTileRange(Qf)),this._wrapX=Ef.wrapLng&&!this.options.noWrap&&[Math.floor(fo.project([0,Ef.wrapLng[0]],Wf).x/Lf.x),Math.ceil(fo.project([0,Ef.wrapLng[1]],Wf).x/Lf.y)],this._wrapY=Ef.wrapLat&&!this.options.noWrap&&[Math.floor(fo.project([Ef.wrapLat[0],0],Wf).y/Lf.x),Math.ceil(fo.project([Ef.wrapLat[1],0],Wf).y/Lf.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(fo){var Ef=this._map,Lf=Ef._animatingZoom?Math.max(Ef._animateToZoom,Ef.getZoom()):Ef.getZoom(),Wf=Ef.getZoomScale(Lf,this._tileZoom),Qf=Ef.project(fo,this._tileZoom).floor(),wp=Ef.getSize().divideBy(Wf*2);return new Mp(Qf.subtract(wp),Qf.add(wp))},_update:function(fo){var Ef=this._map;if(Ef){var Lf=this._clampZoom(Ef.getZoom());if(fo===void 0&&(fo=Ef.getCenter()),this._tileZoom!==void 0){var Wf=this._getTiledPixelBounds(fo),Qf=this._pxBoundsToTileRange(Wf),wp=Qf.getCenter(),Kp=[],ug=this.options.keepBuffer,bg=new Mp(Qf.getBottomLeft().subtract([ug,-ug]),Qf.getTopRight().add([ug,-ug]));if(!(isFinite(Qf.min.x)&&isFinite(Qf.min.y)&&isFinite(Qf.max.x)&&isFinite(Qf.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Tg in this._tiles){var Wg=this._tiles[Tg].coords;(Wg.z!==this._tileZoom||!bg.contains(new Xf(Wg.x,Wg.y)))&&(this._tiles[Tg].current=!1)}if(Math.abs(Lf-this._tileZoom)>1){this._setView(fo,Lf);return}for(var xm=Qf.min.y;xm<=Qf.max.y;xm++)for(var Vm=Qf.min.x;Vm<=Qf.max.x;Vm++){var gy=new Xf(Vm,xm);if(gy.z=this._tileZoom,!!this._isValidTile(gy)){var p0=this._tiles[this._tileCoordsToKey(gy)];p0?p0.current=!0:Kp.push(gy)}}if(Kp.sort(function(Sy,B1){return Sy.distanceTo(wp)-B1.distanceTo(wp)}),Kp.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ty=document.createDocumentFragment();for(Vm=0;Vm<Kp.length;Vm++)this._addTile(Kp[Vm],ty);this._level.el.appendChild(ty)}}}},_isValidTile:function(fo){var Ef=this._map.options.crs;if(!Ef.infinite){var Lf=this._globalTileRange;if(!Ef.wrapLng&&(fo.x<Lf.min.x||fo.x>Lf.max.x)||!Ef.wrapLat&&(fo.y<Lf.min.y||fo.y>Lf.max.y))return!1}if(!this.options.bounds)return!0;var Wf=this._tileCoordsToBounds(fo);return yp(this.options.bounds).overlaps(Wf)},_keyToBounds:function(fo){return this._tileCoordsToBounds(this._keyToTileCoords(fo))},_tileCoordsToNwSe:function(fo){var Ef=this._map,Lf=this.getTileSize(),Wf=fo.scaleBy(Lf),Qf=Wf.add(Lf),wp=Ef.unproject(Wf,fo.z),Kp=Ef.unproject(Qf,fo.z);return[wp,Kp]},_tileCoordsToBounds:function(fo){var Ef=this._tileCoordsToNwSe(fo),Lf=new Pp(Ef[0],Ef[1]);return this.options.noWrap||(Lf=this._map.wrapLatLngBounds(Lf)),Lf},_tileCoordsToKey:function(fo){return fo.x+":"+fo.y+":"+fo.z},_keyToTileCoords:function(fo){var Ef=fo.split(":"),Lf=new Xf(+Ef[0],+Ef[1]);return Lf.z=+Ef[2],Lf},_removeTile:function(fo){var Ef=this._tiles[fo];Ef&&(Xm(Ef.el),delete this._tiles[fo],this.fire("tileunload",{tile:Ef.el,coords:this._keyToTileCoords(fo)}))},_initTile:function(fo){gm(fo,"leaflet-tile");var Ef=this.getTileSize();fo.style.width=Ef.x+"px",fo.style.height=Ef.y+"px",fo.onselectstart=yo,fo.onmousemove=yo,tm.ielt9&&this.options.opacity<1&&Cm(fo,this.options.opacity)},_addTile:function(fo,Ef){var Lf=this._getTilePos(fo),Wf=this._tileCoordsToKey(fo),Qf=this.createTile(this._wrapCoords(fo),at(this._tileReady,this,fo));this._initTile(Qf),this.createTile.length<2&&Af(at(this._tileReady,this,fo,null,Qf)),Qv(Qf,Lf),this._tiles[Wf]={el:Qf,coords:fo,current:!0},Ef.appendChild(Qf),this.fire("tileloadstart",{tile:Qf,coords:fo})},_tileReady:function(fo,Ef,Lf){Ef&&this.fire("tileerror",{error:Ef,tile:Lf,coords:fo});var Wf=this._tileCoordsToKey(fo);Lf=this._tiles[Wf],Lf&&(Lf.loaded=+new Date,this._map._fadeAnimated?(Cm(Lf.el,0),Pf(this._fadeFrame),this._fadeFrame=Af(this._updateOpacity,this)):(Lf.active=!0,this._pruneTiles()),Ef||(gm(Lf.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:Lf.el,coords:fo})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),tm.ielt9||!this._map._fadeAnimated?Af(this._pruneTiles,this):setTimeout(at(this._pruneTiles,this),250)))},_getTilePos:function(fo){return fo.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(fo){var Ef=new Xf(this._wrapX?mo(fo.x,this._wrapX):fo.x,this._wrapY?mo(fo.y,this._wrapY):fo.y);return Ef.z=fo.z,Ef},_pxBoundsToTileRange:function(fo){var Ef=this.getTileSize();return new Mp(fo.min.unscaleBy(Ef).floor(),fo.max.unscaleBy(Ef).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var fo in this._tiles)if(!this._tiles[fo].loaded)return!1;return!0}});function CE(fo){return new w_(fo)}var R1=w_.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(fo,Ef){this._url=fo,Ef=wf(this,Ef),Ef.detectRetina&&tm.retina&&Ef.maxZoom>0?(Ef.tileSize=Math.floor(Ef.tileSize/2),Ef.zoomReverse?(Ef.zoomOffset--,Ef.minZoom=Math.min(Ef.maxZoom,Ef.minZoom+1)):(Ef.zoomOffset++,Ef.maxZoom=Math.max(Ef.minZoom,Ef.maxZoom-1)),Ef.minZoom=Math.max(0,Ef.minZoom)):Ef.zoomReverse?Ef.minZoom=Math.min(Ef.maxZoom,Ef.minZoom):Ef.maxZoom=Math.max(Ef.minZoom,Ef.maxZoom),typeof Ef.subdomains=="string"&&(Ef.subdomains=Ef.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(fo,Ef){return this._url===fo&&Ef===void 0&&(Ef=!0),this._url=fo,Ef||this.redraw(),this},createTile:function(fo,Ef){var Lf=document.createElement("img");return cm(Lf,"load",at(this._tileOnLoad,this,Ef,Lf)),cm(Lf,"error",at(this._tileOnError,this,Ef,Lf)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(Lf.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(Lf.referrerPolicy=this.options.referrerPolicy),Lf.alt="",Lf.src=this.getTileUrl(fo),Lf},getTileUrl:function(fo){var Ef={r:tm.retina?"@2x":"",s:this._getSubdomain(fo),x:fo.x,y:fo.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var Lf=this._globalTileRange.max.y-fo.y;this.options.tms&&(Ef.y=Lf),Ef["-y"]=Lf}return _f(this._url,tt(Ef,this.options))},_tileOnLoad:function(fo,Ef){tm.ielt9?setTimeout(at(fo,this,null,Ef),0):fo(null,Ef)},_tileOnError:function(fo,Ef,Lf){var Wf=this.options.errorTileUrl;Wf&&Ef.getAttribute("src")!==Wf&&(Ef.src=Wf),fo(Lf,Ef)},_onTileRemove:function(fo){fo.tile.onload=null},_getZoomForUrl:function(){var fo=this._tileZoom,Ef=this.options.maxZoom,Lf=this.options.zoomReverse,Wf=this.options.zoomOffset;return Lf&&(fo=Ef-fo),fo+Wf},_getSubdomain:function(fo){var Ef=Math.abs(fo.x+fo.y)%this.options.subdomains.length;return this.options.subdomains[Ef]},_abortLoading:function(){var fo,Ef;for(fo in this._tiles)if(this._tiles[fo].coords.z!==this._tileZoom&&(Ef=this._tiles[fo].el,Ef.onload=yo,Ef.onerror=yo,!Ef.complete)){Ef.src=gf;var Lf=this._tiles[fo].coords;Xm(Ef),delete this._tiles[fo],this.fire("tileabort",{tile:Ef,coords:Lf})}},_removeTile:function(fo){var Ef=this._tiles[fo];if(Ef)return Ef.el.setAttribute("src",gf),w_.prototype._removeTile.call(this,fo)},_tileReady:function(fo,Ef,Lf){if(!(!this._map||Lf&&Lf.getAttribute("src")===gf))return w_.prototype._tileReady.call(this,fo,Ef,Lf)}});function __(fo,Ef){return new R1(fo,Ef)}var Fw=R1.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(fo,Ef){this._url=fo;var Lf=tt({},this.defaultWmsParams);for(var Wf in Ef)Wf in this.options||(Lf[Wf]=Ef[Wf]);Ef=wf(this,Ef);var Qf=Ef.detectRetina&&tm.retina?2:1,wp=this.getTileSize();Lf.width=wp.x*Qf,Lf.height=wp.y*Qf,this.wmsParams=Lf},onAdd:function(fo){this._crs=this.options.crs||fo.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var Ef=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[Ef]=this._crs.code,R1.prototype.onAdd.call(this,fo)},getTileUrl:function(fo){var Ef=this._tileCoordsToNwSe(fo),Lf=this._crs,Wf=Np(Lf.project(Ef[0]),Lf.project(Ef[1])),Qf=Wf.min,wp=Wf.max,Kp=(this._wmsVersion>=1.3&&this._crs===k0?[Qf.y,Qf.x,wp.y,wp.x]:[Qf.x,Qf.y,wp.x,wp.y]).join(","),ug=R1.prototype.getTileUrl.call(this,fo);return ug+wo(this.wmsParams,ug,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Kp},setParams:function(fo,Ef){return tt(this.wmsParams,fo),Ef||this.redraw(),this}});function $x(fo,Ef){return new Fw(fo,Ef)}R1.WMS=Fw,__.wms=$x;var Sb=Nv.extend({options:{padding:.1},initialize:function(fo){wf(this,fo),wt(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),gm(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var fo={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(fo.zoomanim=this._onAnimZoom),fo},_onAnimZoom:function(fo){this._updateTransform(fo.center,fo.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(fo,Ef){var Lf=this._map.getZoomScale(Ef,this._zoom),Wf=this._map.getSize().multiplyBy(.5+this.options.padding),Qf=this._map.project(this._center,Ef),wp=Wf.multiplyBy(-Lf).add(Qf).subtract(this._map._getNewPixelOrigin(fo,Ef));tm.any3d?Q0(this._container,wp,Lf):Qv(this._container,wp)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var fo in this._layers)this._layers[fo]._reset()},_onZoomEnd:function(){for(var fo in this._layers)this._layers[fo]._project()},_updatePaths:function(){for(var fo in this._layers)this._layers[fo]._update()},_update:function(){var fo=this.options.padding,Ef=this._map.getSize(),Lf=this._map.containerPointToLayerPoint(Ef.multiplyBy(-fo)).round();this._bounds=new Mp(Lf,Lf.add(Ef.multiplyBy(1+fo*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ix=Sb.extend({options:{tolerance:0},getEvents:function(){var fo=Sb.prototype.getEvents.call(this);return fo.viewprereset=this._onViewPreReset,fo},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Sb.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var fo=this._container=document.createElement("canvas");cm(fo,"mousemove",this._onMouseMove,this),cm(fo,"click dblclick mousedown mouseup contextmenu",this._onClick,this),cm(fo,"mouseout",this._handleMouseOut,this),fo._leaflet_disable_events=!0,this._ctx=fo.getContext("2d")},_destroyContainer:function(){Pf(this._redrawRequest),delete this._ctx,Xm(this._container),_m(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var fo;this._redrawBounds=null;for(var Ef in this._layers)fo=this._layers[Ef],fo._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Sb.prototype._update.call(this);var fo=this._bounds,Ef=this._container,Lf=fo.getSize(),Wf=tm.retina?2:1;Qv(Ef,fo.min),Ef.width=Wf*Lf.x,Ef.height=Wf*Lf.y,Ef.style.width=Lf.x+"px",Ef.style.height=Lf.y+"px",tm.retina&&this._ctx.scale(2,2),this._ctx.translate(-fo.min.x,-fo.min.y),this.fire("update")}},_reset:function(){Sb.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(fo){this._updateDashArray(fo),this._layers[wt(fo)]=fo;var Ef=fo._order={layer:fo,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=Ef),this._drawLast=Ef,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(fo){this._requestRedraw(fo)},_removePath:function(fo){var Ef=fo._order,Lf=Ef.next,Wf=Ef.prev;Lf?Lf.prev=Wf:this._drawLast=Wf,Wf?Wf.next=Lf:this._drawFirst=Lf,delete fo._order,delete this._layers[wt(fo)],this._requestRedraw(fo)},_updatePath:function(fo){this._extendRedrawBounds(fo),fo._project(),fo._update(),this._requestRedraw(fo)},_updateStyle:function(fo){this._updateDashArray(fo),this._requestRedraw(fo)},_updateDashArray:function(fo){if(typeof fo.options.dashArray=="string"){var Ef=fo.options.dashArray.split(/[, ]+/),Lf=[],Wf,Qf;for(Qf=0;Qf<Ef.length;Qf++){if(Wf=Number(Ef[Qf]),isNaN(Wf))return;Lf.push(Wf)}fo.options._dashArray=Lf}else fo.options._dashArray=fo.options.dashArray},_requestRedraw:function(fo){this._map&&(this._extendRedrawBounds(fo),this._redrawRequest=this._redrawRequest||Af(this._redraw,this))},_extendRedrawBounds:function(fo){if(fo._pxBounds){var Ef=(fo.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Mp,this._redrawBounds.extend(fo._pxBounds.min.subtract([Ef,Ef])),this._redrawBounds.extend(fo._pxBounds.max.add([Ef,Ef]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var fo=this._redrawBounds;if(fo){var Ef=fo.getSize();this._ctx.clearRect(fo.min.x,fo.min.y,Ef.x,Ef.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var fo,Ef=this._redrawBounds;if(this._ctx.save(),Ef){var Lf=Ef.getSize();this._ctx.beginPath(),this._ctx.rect(Ef.min.x,Ef.min.y,Lf.x,Lf.y),this._ctx.clip()}this._drawing=!0;for(var Wf=this._drawFirst;Wf;Wf=Wf.next)fo=Wf.layer,(!Ef||fo._pxBounds&&fo._pxBounds.intersects(Ef))&&fo._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(fo,Ef){if(this._drawing){var Lf,Wf,Qf,wp,Kp=fo._parts,ug=Kp.length,bg=this._ctx;if(ug){for(bg.beginPath(),Lf=0;Lf<ug;Lf++){for(Wf=0,Qf=Kp[Lf].length;Wf<Qf;Wf++)wp=Kp[Lf][Wf],bg[Wf?"lineTo":"moveTo"](wp.x,wp.y);Ef&&bg.closePath()}this._fillStroke(bg,fo)}}},_updateCircle:function(fo){if(!(!this._drawing||fo._empty())){var Ef=fo._point,Lf=this._ctx,Wf=Math.max(Math.round(fo._radius),1),Qf=(Math.max(Math.round(fo._radiusY),1)||Wf)/Wf;Qf!==1&&(Lf.save(),Lf.scale(1,Qf)),Lf.beginPath(),Lf.arc(Ef.x,Ef.y/Qf,Wf,0,Math.PI*2,!1),Qf!==1&&Lf.restore(),this._fillStroke(Lf,fo)}},_fillStroke:function(fo,Ef){var Lf=Ef.options;Lf.fill&&(fo.globalAlpha=Lf.fillOpacity,fo.fillStyle=Lf.fillColor||Lf.color,fo.fill(Lf.fillRule||"evenodd")),Lf.stroke&&Lf.weight!==0&&(fo.setLineDash&&fo.setLineDash(Ef.options&&Ef.options._dashArray||[]),fo.globalAlpha=Lf.opacity,fo.lineWidth=Lf.weight,fo.strokeStyle=Lf.color,fo.lineCap=Lf.lineCap,fo.lineJoin=Lf.lineJoin,fo.stroke())},_onClick:function(fo){for(var Ef=this._map.mouseEventToLayerPoint(fo),Lf,Wf,Qf=this._drawFirst;Qf;Qf=Qf.next)Lf=Qf.layer,Lf.options.interactive&&Lf._containsPoint(Ef)&&(!(fo.type==="click"||fo.type==="preclick")||!this._map._draggableMoved(Lf))&&(Wf=Lf);this._fireEvent(Wf?[Wf]:!1,fo)},_onMouseMove:function(fo){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var Ef=this._map.mouseEventToLayerPoint(fo);this._handleMouseHover(fo,Ef)}},_handleMouseOut:function(fo){var Ef=this._hoveredLayer;Ef&&(dm(this._container,"leaflet-interactive"),this._fireEvent([Ef],fo,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(fo,Ef){if(!this._mouseHoverThrottled){for(var Lf,Wf,Qf=this._drawFirst;Qf;Qf=Qf.next)Lf=Qf.layer,Lf.options.interactive&&Lf._containsPoint(Ef)&&(Wf=Lf);Wf!==this._hoveredLayer&&(this._handleMouseOut(fo),Wf&&(gm(this._container,"leaflet-interactive"),this._fireEvent([Wf],fo,"mouseover"),this._hoveredLayer=Wf)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,fo),this._mouseHoverThrottled=!0,setTimeout(at(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(fo,Ef,Lf){this._map._fireDOMEvent(Ef,Lf||Ef.type,fo)},_bringToFront:function(fo){var Ef=fo._order;if(Ef){var Lf=Ef.next,Wf=Ef.prev;if(Lf)Lf.prev=Wf;else return;Wf?Wf.next=Lf:Lf&&(this._drawFirst=Lf),Ef.prev=this._drawLast,this._drawLast.next=Ef,Ef.next=null,this._drawLast=Ef,this._requestRedraw(fo)}},_bringToBack:function(fo){var Ef=fo._order;if(Ef){var Lf=Ef.next,Wf=Ef.prev;if(Wf)Wf.next=Lf;else return;Lf?Lf.prev=Wf:Wf&&(this._drawLast=Wf),Ef.prev=null,Ef.next=this._drawFirst,this._drawFirst.prev=Ef,this._drawFirst=Ef,this._requestRedraw(fo)}}});function nx(fo){return tm.canvas?new ix(fo):null}var D1=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(fo){return document.createElement("<lvml:"+fo+' class="lvml">')}}catch{}return function(fo){return document.createElement("<"+fo+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),$y={_initContainer:function(){this._container=Fm("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Sb.prototype._update.call(this),this.fire("update"))},_initPath:function(fo){var Ef=fo._container=D1("shape");gm(Ef,"leaflet-vml-shape "+(this.options.className||"")),Ef.coordsize="1 1",fo._path=D1("path"),Ef.appendChild(fo._path),this._updateStyle(fo),this._layers[wt(fo)]=fo},_addPath:function(fo){var Ef=fo._container;this._container.appendChild(Ef),fo.options.interactive&&fo.addInteractiveTarget(Ef)},_removePath:function(fo){var Ef=fo._container;Xm(Ef),fo.removeInteractiveTarget(Ef),delete this._layers[wt(fo)]},_updateStyle:function(fo){var Ef=fo._stroke,Lf=fo._fill,Wf=fo.options,Qf=fo._container;Qf.stroked=!!Wf.stroke,Qf.filled=!!Wf.fill,Wf.stroke?(Ef||(Ef=fo._stroke=D1("stroke")),Qf.appendChild(Ef),Ef.weight=Wf.weight+"px",Ef.color=Wf.color,Ef.opacity=Wf.opacity,Wf.dashArray?Ef.dashStyle=po(Wf.dashArray)?Wf.dashArray.join(" "):Wf.dashArray.replace(/( *, *)/g," "):Ef.dashStyle="",Ef.endcap=Wf.lineCap.replace("butt","flat"),Ef.joinstyle=Wf.lineJoin):Ef&&(Qf.removeChild(Ef),fo._stroke=null),Wf.fill?(Lf||(Lf=fo._fill=D1("fill")),Qf.appendChild(Lf),Lf.color=Wf.fillColor||Wf.color,Lf.opacity=Wf.fillOpacity):Lf&&(Qf.removeChild(Lf),fo._fill=null)},_updateCircle:function(fo){var Ef=fo._point.round(),Lf=Math.round(fo._radius),Wf=Math.round(fo._radiusY||Lf);this._setPath(fo,fo._empty()?"M0 0":"AL "+Ef.x+","+Ef.y+" "+Lf+","+Wf+" 0,"+65535*360)},_setPath:function(fo,Ef){fo._path.v=Ef},_bringToFront:function(fo){ab(fo._container)},_bringToBack:function(fo){Gy(fo._container)}},zw=tm.vml?D1:ip,jw=Sb.extend({_initContainer:function(){this._container=zw("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=zw("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Xm(this._container),_m(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Sb.prototype._update.call(this);var fo=this._bounds,Ef=fo.getSize(),Lf=this._container;(!this._svgSize||!this._svgSize.equals(Ef))&&(this._svgSize=Ef,Lf.setAttribute("width",Ef.x),Lf.setAttribute("height",Ef.y)),Qv(Lf,fo.min),Lf.setAttribute("viewBox",[fo.min.x,fo.min.y,Ef.x,Ef.y].join(" ")),this.fire("update")}},_initPath:function(fo){var Ef=fo._path=zw("path");fo.options.className&&gm(Ef,fo.options.className),fo.options.interactive&&gm(Ef,"leaflet-interactive"),this._updateStyle(fo),this._layers[wt(fo)]=fo},_addPath:function(fo){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(fo._path),fo.addInteractiveTarget(fo._path)},_removePath:function(fo){Xm(fo._path),fo.removeInteractiveTarget(fo._path),delete this._layers[wt(fo)]},_updatePath:function(fo){fo._project(),fo._update()},_updateStyle:function(fo){var Ef=fo._path,Lf=fo.options;Ef&&(Lf.stroke?(Ef.setAttribute("stroke",Lf.color),Ef.setAttribute("stroke-opacity",Lf.opacity),Ef.setAttribute("stroke-width",Lf.weight),Ef.setAttribute("stroke-linecap",Lf.lineCap),Ef.setAttribute("stroke-linejoin",Lf.lineJoin),Lf.dashArray?Ef.setAttribute("stroke-dasharray",Lf.dashArray):Ef.removeAttribute("stroke-dasharray"),Lf.dashOffset?Ef.setAttribute("stroke-dashoffset",Lf.dashOffset):Ef.removeAttribute("stroke-dashoffset")):Ef.setAttribute("stroke","none"),Lf.fill?(Ef.setAttribute("fill",Lf.fillColor||Lf.color),Ef.setAttribute("fill-opacity",Lf.fillOpacity),Ef.setAttribute("fill-rule",Lf.fillRule||"evenodd")):Ef.setAttribute("fill","none"))},_updatePoly:function(fo,Ef){this._setPath(fo,ap(fo._parts,Ef))},_updateCircle:function(fo){var Ef=fo._point,Lf=Math.max(Math.round(fo._radius),1),Wf=Math.max(Math.round(fo._radiusY),1)||Lf,Qf="a"+Lf+","+Wf+" 0 1,0 ",wp=fo._empty()?"M0 0":"M"+(Ef.x-Lf)+","+Ef.y+Qf+Lf*2+",0 "+Qf+-Lf*2+",0 ";this._setPath(fo,wp)},_setPath:function(fo,Ef){fo._path.setAttribute("d",Ef)},_bringToFront:function(fo){ab(fo._path)},_bringToBack:function(fo){Gy(fo._path)}});tm.vml&&jw.include($y);function Fx(fo){return tm.svg||tm.vml?new jw(fo):null}Km.include({getRenderer:function(fo){var Ef=fo.options.renderer||this._getPaneRenderer(fo.options.pane)||this.options.renderer||this._renderer;return Ef||(Ef=this._renderer=this._createRenderer()),this.hasLayer(Ef)||this.addLayer(Ef),Ef},_getPaneRenderer:function(fo){if(fo==="overlayPane"||fo===void 0)return!1;var Ef=this._paneRenderers[fo];return Ef===void 0&&(Ef=this._createRenderer({pane:fo}),this._paneRenderers[fo]=Ef),Ef},_createRenderer:function(fo){return this.options.preferCanvas&&nx(fo)||Fx(fo)}});var ox=I1.extend({initialize:function(fo,Ef){I1.prototype.initialize.call(this,this._boundsToLatLngs(fo),Ef)},setBounds:function(fo){return this.setLatLngs(this._boundsToLatLngs(fo))},_boundsToLatLngs:function(fo){return fo=yp(fo),[fo.getSouthWest(),fo.getNorthWest(),fo.getNorthEast(),fo.getSouthEast()]}});function SE(fo,Ef){return new ox(fo,Ef)}jw.create=zw,jw.pointsToPath=ap,Zv.geometryToLayer=Q_,Zv.coordsToLatLng=fy,Zv.coordsToLatLngs=py,Zv.latLngToCoords=Vb,Zv.latLngsToCoords=uw,Zv.getFeature=cw,Zv.asFeature=v_,Km.mergeOptions({boxZoom:!0});var sx=B0.extend({initialize:function(fo){this._map=fo,this._container=fo._container,this._pane=fo._panes.overlayPane,this._resetStateTimeout=0,fo.on("unload",this._destroy,this)},addHooks:function(){cm(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){_m(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Xm(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(fo){if(!fo.shiftKey||fo.which!==1&&fo.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),qy(),_p(),this._startPoint=this._map.mouseEventToContainerPoint(fo),cm(document,{contextmenu:A1,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(fo){this._moved||(this._moved=!0,this._box=Fm("div","leaflet-zoom-box",this._container),gm(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(fo);var Ef=new Mp(this._point,this._startPoint),Lf=Ef.getSize();Qv(this._box,Ef.min),this._box.style.width=Lf.x+"px",this._box.style.height=Lf.y+"px"},_finish:function(){this._moved&&(Xm(this._box),dm(this._container,"leaflet-crosshair")),dy(),Lp(),_m(document,{contextmenu:A1,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(fo){if(!(fo.which!==1&&fo.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(at(this._resetState,this),0);var Ef=new Pp(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(Ef).fire("boxzoomend",{boxZoomBounds:Ef})}},_onKeyDown:function(fo){fo.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Km.addInitHook("addHandler","boxZoom",sx),Km.mergeOptions({doubleClickZoom:!0});var Hw=B0.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(fo){var Ef=this._map,Lf=Ef.getZoom(),Wf=Ef.options.zoomDelta,Qf=fo.originalEvent.shiftKey?Lf-Wf:Lf+Wf;Ef.options.doubleClickZoom==="center"?Ef.setZoom(Qf):Ef.setZoomAround(fo.containerPoint,Qf)}});Km.addInitHook("addHandler","doubleClickZoom",Hw),Km.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var x_=B0.extend({addHooks:function(){if(!this._draggable){var fo=this._map;this._draggable=new Yy(fo._mapPane,fo._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),fo.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),fo.on("zoomend",this._onZoomEnd,this),fo.whenReady(this._onZoomEnd,this))}gm(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){dm(this._map._container,"leaflet-grab"),dm(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var fo=this._map;if(fo._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var Ef=yp(this._map.options.maxBounds);this._offsetLimit=Np(this._map.latLngToContainerPoint(Ef.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(Ef.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;fo.fire("movestart").fire("dragstart"),fo.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(fo){if(this._map.options.inertia){var Ef=this._lastTime=+new Date,Lf=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(Lf),this._times.push(Ef),this._prunePositions(Ef)}this._map.fire("move",fo).fire("drag",fo)},_prunePositions:function(fo){for(;this._positions.length>1&&fo-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var fo=this._map.getSize().divideBy(2),Ef=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=Ef.subtract(fo).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(fo,Ef){return fo-(fo-Ef)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var fo=this._draggable._newPos.subtract(this._draggable._startPos),Ef=this._offsetLimit;fo.x<Ef.min.x&&(fo.x=this._viscousLimit(fo.x,Ef.min.x)),fo.y<Ef.min.y&&(fo.y=this._viscousLimit(fo.y,Ef.min.y)),fo.x>Ef.max.x&&(fo.x=this._viscousLimit(fo.x,Ef.max.x)),fo.y>Ef.max.y&&(fo.y=this._viscousLimit(fo.y,Ef.max.y)),this._draggable._newPos=this._draggable._startPos.add(fo)}},_onPreDragWrap:function(){var fo=this._worldWidth,Ef=Math.round(fo/2),Lf=this._initialWorldOffset,Wf=this._draggable._newPos.x,Qf=(Wf-Ef+Lf)%fo+Ef-Lf,wp=(Wf+Ef+Lf)%fo-Ef-Lf,Kp=Math.abs(Qf+Lf)<Math.abs(wp+Lf)?Qf:wp;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Kp},_onDragEnd:function(fo){var Ef=this._map,Lf=Ef.options,Wf=!Lf.inertia||fo.noInertia||this._times.length<2;if(Ef.fire("dragend",fo),Wf)Ef.fire("moveend");else{this._prunePositions(+new Date);var Qf=this._lastPos.subtract(this._positions[0]),wp=(this._lastTime-this._times[0])/1e3,Kp=Lf.easeLinearity,ug=Qf.multiplyBy(Kp/wp),bg=ug.distanceTo([0,0]),Tg=Math.min(Lf.inertiaMaxSpeed,bg),Wg=ug.multiplyBy(Tg/bg),xm=Tg/(Lf.inertiaDeceleration*Kp),Vm=Wg.multiplyBy(-xm/2).round();!Vm.x&&!Vm.y?Ef.fire("moveend"):(Vm=Ef._limitOffset(Vm,Ef.options.maxBounds),Af(function(){Ef.panBy(Vm,{duration:xm,easeLinearity:Kp,noMoveStart:!0,animate:!0})}))}}});Km.addInitHook("addHandler","dragging",x_),Km.mergeOptions({keyboard:!0,keyboardPanDelta:80});var TE=B0.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(fo){this._map=fo,this._setPanDelta(fo.options.keyboardPanDelta),this._setZoomDelta(fo.options.zoomDelta)},addHooks:function(){var fo=this._map._container;fo.tabIndex<=0&&(fo.tabIndex="0"),cm(fo,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),_m(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var fo=document.body,Ef=document.documentElement,Lf=fo.scrollTop||Ef.scrollTop,Wf=fo.scrollLeft||Ef.scrollLeft;this._map._container.focus(),window.scrollTo(Wf,Lf)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(fo){var Ef=this._panKeys={},Lf=this.keyCodes,Wf,Qf;for(Wf=0,Qf=Lf.left.length;Wf<Qf;Wf++)Ef[Lf.left[Wf]]=[-1*fo,0];for(Wf=0,Qf=Lf.right.length;Wf<Qf;Wf++)Ef[Lf.right[Wf]]=[fo,0];for(Wf=0,Qf=Lf.down.length;Wf<Qf;Wf++)Ef[Lf.down[Wf]]=[0,fo];for(Wf=0,Qf=Lf.up.length;Wf<Qf;Wf++)Ef[Lf.up[Wf]]=[0,-1*fo]},_setZoomDelta:function(fo){var Ef=this._zoomKeys={},Lf=this.keyCodes,Wf,Qf;for(Wf=0,Qf=Lf.zoomIn.length;Wf<Qf;Wf++)Ef[Lf.zoomIn[Wf]]=fo;for(Wf=0,Qf=Lf.zoomOut.length;Wf<Qf;Wf++)Ef[Lf.zoomOut[Wf]]=-fo},_addHooks:function(){cm(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){_m(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(fo){if(!(fo.altKey||fo.ctrlKey||fo.metaKey)){var Ef=fo.keyCode,Lf=this._map,Wf;if(Ef in this._panKeys){if(!Lf._panAnim||!Lf._panAnim._inProgress)if(Wf=this._panKeys[Ef],fo.shiftKey&&(Wf=fp(Wf).multiplyBy(3)),Lf.options.maxBounds&&(Wf=Lf._limitOffset(fp(Wf),Lf.options.maxBounds)),Lf.options.worldCopyJump){var Qf=Lf.wrapLatLng(Lf.unproject(Lf.project(Lf.getCenter()).add(Wf)));Lf.panTo(Qf)}else Lf.panBy(Wf)}else if(Ef in this._zoomKeys)Lf.setZoom(Lf.getZoom()+(fo.shiftKey?3:1)*this._zoomKeys[Ef]);else if(Ef===27&&Lf._popup&&Lf._popup.options.closeOnEscapeKey)Lf.closePopup();else return;A1(fo)}}});Km.addInitHook("addHandler","keyboard",TE),Km.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var N1=B0.extend({addHooks:function(){cm(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){_m(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(fo){var Ef=_E(fo),Lf=this._map.options.wheelDebounceTime;this._delta+=Ef,this._lastMousePos=this._map.mouseEventToContainerPoint(fo),this._startTime||(this._startTime=+new Date);var Wf=Math.max(Lf-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(at(this._performZoom,this),Wf),A1(fo)},_performZoom:function(){var fo=this._map,Ef=fo.getZoom(),Lf=this._map.options.zoomSnap||0;fo._stop();var Wf=this._delta/(this._map.options.wheelPxPerZoomLevel*4),Qf=4*Math.log(2/(1+Math.exp(-Math.abs(Wf))))/Math.LN2,wp=Lf?Math.ceil(Qf/Lf)*Lf:Qf,Kp=fo._limitZoom(Ef+(this._delta>0?wp:-wp))-Ef;this._delta=0,this._startTime=null,Kp&&(fo.options.scrollWheelZoom==="center"?fo.setZoom(Ef+Kp):fo.setZoomAround(this._lastMousePos,Ef+Kp))}});Km.addInitHook("addHandler","scrollWheelZoom",N1);var AE=600;Km.mergeOptions({tapHold:tm.touchNative&&tm.safari&&tm.mobile,tapTolerance:15});var ax=B0.extend({addHooks:function(){cm(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){_m(this._map._container,"touchstart",this._onDown,this)},_onDown:function(fo){if(clearTimeout(this._holdTimeout),fo.touches.length===1){var Ef=fo.touches[0];this._startPos=this._newPos=new Xf(Ef.clientX,Ef.clientY),this._holdTimeout=setTimeout(at(function(){this._cancel(),this._isTapValid()&&(cm(document,"touchend",f0),cm(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",Ef))},this),AE),cm(document,"touchend touchcancel contextmenu",this._cancel,this),cm(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function fo(){_m(document,"touchend",f0),_m(document,"touchend touchcancel",fo)},_cancel:function(){clearTimeout(this._holdTimeout),_m(document,"touchend touchcancel contextmenu",this._cancel,this),_m(document,"touchmove",this._onMove,this)},_onMove:function(fo){var Ef=fo.touches[0];this._newPos=new Xf(Ef.clientX,Ef.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(fo,Ef){var Lf=new MouseEvent(fo,{bubbles:!0,cancelable:!0,view:window,screenX:Ef.screenX,screenY:Ef.screenY,clientX:Ef.clientX,clientY:Ef.clientY});Lf._simulated=!0,Ef.target.dispatchEvent(Lf)}});Km.addInitHook("addHandler","tapHold",ax),Km.mergeOptions({touchZoom:tm.touch,bounceAtZoomLimits:!0});var Vw=B0.extend({addHooks:function(){gm(this._map._container,"leaflet-touch-zoom"),cm(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){dm(this._map._container,"leaflet-touch-zoom"),_m(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(fo){var Ef=this._map;if(!(!fo.touches||fo.touches.length!==2||Ef._animatingZoom||this._zooming)){var Lf=Ef.mouseEventToContainerPoint(fo.touches[0]),Wf=Ef.mouseEventToContainerPoint(fo.touches[1]);this._centerPoint=Ef.getSize()._divideBy(2),this._startLatLng=Ef.containerPointToLatLng(this._centerPoint),Ef.options.touchZoom!=="center"&&(this._pinchStartLatLng=Ef.containerPointToLatLng(Lf.add(Wf)._divideBy(2))),this._startDist=Lf.distanceTo(Wf),this._startZoom=Ef.getZoom(),this._moved=!1,this._zooming=!0,Ef._stop(),cm(document,"touchmove",this._onTouchMove,this),cm(document,"touchend touchcancel",this._onTouchEnd,this),f0(fo)}},_onTouchMove:function(fo){if(!(!fo.touches||fo.touches.length!==2||!this._zooming)){var Ef=this._map,Lf=Ef.mouseEventToContainerPoint(fo.touches[0]),Wf=Ef.mouseEventToContainerPoint(fo.touches[1]),Qf=Lf.distanceTo(Wf)/this._startDist;if(this._zoom=Ef.getScaleZoom(Qf,this._startZoom),!Ef.options.bounceAtZoomLimits&&(this._zoom<Ef.getMinZoom()&&Qf<1||this._zoom>Ef.getMaxZoom()&&Qf>1)&&(this._zoom=Ef._limitZoom(this._zoom)),Ef.options.touchZoom==="center"){if(this._center=this._startLatLng,Qf===1)return}else{var wp=Lf._add(Wf)._divideBy(2)._subtract(this._centerPoint);if(Qf===1&&wp.x===0&&wp.y===0)return;this._center=Ef.unproject(Ef.project(this._pinchStartLatLng,this._zoom).subtract(wp),this._zoom)}this._moved||(Ef._moveStart(!0,!1),this._moved=!0),Pf(this._animRequest);var Kp=at(Ef._move,Ef,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Af(Kp,this,!0),f0(fo)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Pf(this._animRequest),_m(document,"touchmove",this._onTouchMove,this),_m(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Km.addInitHook("addHandler","touchZoom",Vw),Km.BoxZoom=sx,Km.DoubleClickZoom=Hw,Km.Drag=x_,Km.Keyboard=TE,Km.ScrollWheelZoom=N1,Km.TapHold=ax,Km.TouchZoom=Vw,q.Bounds=Mp,q.Browser=tm,q.CRS=$p,q.Canvas=ix,q.Circle=J_,q.CircleMarker=K_,q.Class=zf,q.Control=Ey,q.DivIcon=tx,q.DivOverlay=kv,q.DomEvent=xy,q.DomUtil=Yv,q.Draggable=Yy,q.Evented=Ff,q.FeatureGroup=C0,q.GeoJSON=Zv,q.GridLayer=w_,q.Handler=B0,q.Icon=fb,q.ImageOverlay=l1,q.LatLng=Ep,q.LatLngBounds=Pp,q.Layer=Nv,q.LayerGroup=Zy,q.LineUtil=Hb,q.Map=Km,q.Marker=P1,q.Mixin=Lw,q.Path=s1,q.Point=Xf,q.PolyUtil=Ix,q.Polygon=I1,q.Polyline=a1,q.Popup=pb,q.PosAnimation=Iw,q.Projection=aw,q.Rectangle=ox,q.Renderer=Sb,q.SVG=jw,q.SVGOverlay=i0,q.TileLayer=R1,q.Tooltip=L1,q.Transformation=Sp,q.Util=Df,q.VideoOverlay=Nx,q.bind=at,q.bounds=Np,q.canvas=nx,q.circle=_k,q.circleMarker=m_,q.control=rw,q.divIcon=rx,q.extend=tt,q.featureGroup=S0,q.geoJSON=ex,q.geoJson=xk,q.gridLayer=CE,q.icon=Vv,q.imageOverlay=Ek,q.latLng=Cp,q.latLngBounds=yp,q.layerGroup=Nw,q.map=bk,q.marker=Rx,q.point=fp,q.polygon=Dx,q.polyline=$w,q.popup=Cb,q.rectangle=SE,q.setOptions=wf,q.stamp=wt,q.svg=Fx,q.svgOverlay=kE,q.tileLayer=__,q.tooltip=Bx,q.transformation=up,q.version=X,q.videoOverlay=b_;var Uw=window.L;q.noConflict=function(){return window.L=Uw,this},window.L=q})})(leafletSrc,leafletSrc.exports);var leafletSrcExports=leafletSrc.exports;const L$2=getDefaultExportFromCjs(leafletSrcExports);var leafletGestureHandling_min={exports:{}};(function(F,W){(function(q,X){X(W)})(commonjsGlobal,function(q){var X={ar:{touch:"استخدم إصبعين لتحريك الخريطة",scroll:"‏استخدم ctrl + scroll لتصغير/تكبير الخريطة",scrollMac:"يمكنك استخدام ⌘ + التمرير لتكبير/تصغير الخريطة"},bg:{touch:"Използвайте два пръста, за да преместите картата",scroll:"Задръжте бутона Ctrl натиснат, докато превъртате, за да промените мащаба на картата",scrollMac:"Задръжте бутона ⌘ натиснат, докато превъртате, за да промените мащаба на картата"},bn:{touch:"মানচিত্রটিকে সরাতে দুটি আঙ্গুল ব্যবহার করুন",scroll:"ম্যাপ জুম করতে ctrl + scroll ব্যবহার করুন",scrollMac:"ম্যাপে জুম করতে ⌘ বোতাম টিপে স্ক্রল করুন"},ca:{touch:"Fes servir dos dits per moure el mapa",scroll:"Prem la tecla Control mentre et desplaces per apropar i allunyar el mapa",scrollMac:"Prem la tecla ⌘ mentre et desplaces per apropar i allunyar el mapa"},cs:{touch:"K posunutí mapy použijte dva prsty",scroll:"Velikost zobrazení mapy změňte podržením klávesy Ctrl a posouváním kolečka myši",scrollMac:"Velikost zobrazení mapy změníte podržením klávesy ⌘ a posunutím kolečka myši / touchpadu"},da:{touch:"Brug to fingre til at flytte kortet",scroll:"Brug ctrl + rullefunktionen til at zoome ind og ud på kortet",scrollMac:"Brug ⌘ + rullefunktionen til at zoome ind og ud på kortet"},de:{touch:"Verschieben der Karte mit zwei Fingern",scroll:"Verwende Strg+Scrollen zum Zoomen der Karte",scrollMac:"⌘"},el:{touch:"Χρησιμοποιήστε δύο δάχτυλα για μετακίνηση στον χάρτη",scroll:"Χρησιμοποιήστε το πλήκτρο Ctrl και κύλιση, για να μεγεθύνετε τον χάρτη",scrollMac:"Χρησιμοποιήστε το πλήκτρο ⌘ + κύλιση για εστίαση στον χάρτη"},en:{touch:"Use two fingers to move the map",scroll:"Use ctrl + scroll to zoom the map",scrollMac:"Use ⌘ + scroll to zoom the map"},"en-AU":{touch:"Use two fingers to move the map",scroll:"Use ctrl + scroll to zoom the map",scrollMac:"Use ⌘ + scroll to zoom the map"},"en-GB":{touch:"Use two fingers to move the map",scroll:"Use ctrl + scroll to zoom the map",scrollMac:"Use ⌘ + scroll to zoom the map"},es:{touch:"Para mover el mapa, utiliza dos dedos",scroll:"Mantén pulsada la tecla Ctrl mientras te desplazas para acercar o alejar el mapa",scrollMac:"Mantén pulsada la tecla ⌘ mientras te desplazas para acercar o alejar el mapa"},eu:{touch:"Erabili bi hatz mapa mugitzeko",scroll:"Mapan zooma aplikatzeko, sakatu Ktrl eta egin gora edo behera",scrollMac:"Eduki sakatuta ⌘ eta egin gora eta behera mapa handitu eta txikitzeko"},fa:{touch:"برای حرکت دادن نقشه از دو انگشت استفاده کنید.",scroll:"‏برای بزرگ‌نمایی نقشه از ctrl + scroll استفاده کنید",scrollMac:"برای بزرگ‌نمایی نقشه، از ⌘ + پیمایش استفاده کنید."},fi:{touch:"Siirrä karttaa kahdella sormella.",scroll:"Zoomaa karttaa painamalla Ctrl-painiketta ja vierittämällä.",scrollMac:"Zoomaa karttaa pitämällä painike ⌘ painettuna ja vierittämällä."},fil:{touch:"Gumamit ng dalawang daliri upang iusog ang mapa",scroll:"Gamitin ang ctrl + scroll upang i-zoom ang mapa",scrollMac:"Gamitin ang ⌘ + scroll upang i-zoom ang mapa"},fr:{touch:"Utilisez deux doigts pour déplacer la carte",scroll:"Vous pouvez zoomer sur la carte à l'aide de CTRL+Molette de défilement",scrollMac:"Vous pouvez zoomer sur la carte à l'aide de ⌘+Molette de défilement"},gl:{touch:"Utiliza dous dedos para mover o mapa",scroll:"Preme Ctrl mentres te desprazas para ampliar o mapa",scrollMac:"Preme ⌘ e desprázate para ampliar o mapa"},gu:{touch:"નકશો ખસેડવા બે આંગળીઓનો ઉપયોગ કરો",scroll:"નકશાને ઝૂમ કરવા માટે ctrl + સ્ક્રોલનો ઉપયોગ કરો",scrollMac:"નકશાને ઝૂમ કરવા ⌘ + સ્ક્રોલનો ઉપયોગ કરો"},hi:{touch:"मैप एक जगह से दूसरी जगह ले जाने के लिए दो उंगलियों का इस्तेमाल करें",scroll:"मैप को ज़ूम करने के लिए ctrl + स्क्रोल का उपयोग करें",scrollMac:"मैप को ज़ूम करने के लिए ⌘ + स्क्रोल का उपयोग करें"},hr:{touch:"Pomičite kartu pomoću dva prsta",scroll:"Upotrijebite Ctrl i klizač miša da biste zumirali kartu",scrollMac:"Upotrijebite gumb ⌘ dok se pomičete za zumiranje karte"},hu:{touch:"Két ujjal mozgassa a térképet",scroll:"A térkép a ctrl + görgetés használatával nagyítható",scrollMac:"A térkép a ⌘ + görgetés használatával nagyítható"},id:{touch:"Gunakan dua jari untuk menggerakkan peta",scroll:"Gunakan ctrl + scroll untuk memperbesar atau memperkecil peta",scrollMac:"Gunakan ⌘ + scroll untuk memperbesar atau memperkecil peta"},it:{touch:"Utilizza due dita per spostare la mappa",scroll:"Utilizza CTRL + scorrimento per eseguire lo zoom della mappa",scrollMac:"Utilizza ⌘ + scorrimento per eseguire lo zoom della mappa"},iw:{touch:"הזז את המפה באמצעות שתי אצבעות",scroll:"‏אפשר לשנות את מרחק התצוגה במפה באמצעות מקש ctrl וגלילה",scrollMac:"אפשר לשנות את מרחק התצוגה במפה באמצעות מקש ⌘ וגלילה"},ja:{touch:"地図を移動させるには指 2 本で操作します",scroll:"地図をズームするには、Ctrl キーを押しながらスクロールしてください",scrollMac:"地図をズームするには、⌘ キーを押しながらスクロールしてください"},kn:{touch:"Use two fingers to move the map",scroll:"Use Ctrl + scroll to zoom the map",scrollMac:"Use ⌘ + scroll to zoom the map"},ko:{touch:"지도를 움직이려면 두 손가락을 사용하세요.",scroll:"지도를 확대/축소하려면 Ctrl을 누른 채 스크롤하세요.",scrollMac:"지도를 확대하려면 ⌘ + 스크롤 사용"},lt:{touch:"Perkelkite žemėlapį dviem pirštais",scroll:"Slinkite nuspaudę klavišą „Ctrl“, kad pakeistumėte žemėlapio mastelį",scrollMac:"Paspauskite klavišą ⌘ ir slinkite, kad priartintumėte žemėlapį"},lv:{touch:"Lai pārvietotu karti, bīdiet to ar diviem pirkstiem",scroll:"Kartes tālummaiņai izmantojiet ctrl + ritināšanu",scrollMac:"Lai veiktu kartes tālummaiņu, izmantojiet ⌘ + ritināšanu"},ml:{touch:"മാപ്പ് നീക്കാൻ രണ്ട് വിരലുകൾ ഉപയോഗിക്കുക",scroll:"കൺട്രോൾ + സ്‌ക്രോൾ ഉപയോഗിച്ച് ‌മാപ്പ് ‌സൂം ചെയ്യുക",scrollMac:"⌘ + സ്‌ക്രോൾ ഉപയോഗിച്ച് ‌മാപ്പ് ‌സൂം ചെയ്യുക"},mr:{touch:"नकाशा हलविण्यासाठी दोन बोटे वापरा",scroll:"नकाशा झूम करण्यासाठी ctrl + scroll वापरा",scrollMac:"नकाशावर झूम करण्यासाठी ⌘ + स्क्रोल वापरा"},nl:{touch:"Gebruik twee vingers om de kaart te verplaatsen",scroll:"Gebruik Ctrl + scrollen om in- en uit te zoomen op de kaart",scrollMac:"Gebruik ⌘ + scrollen om in en uit te zoomen op de kaart"},no:{touch:"Bruk to fingre for å flytte kartet",scroll:"Hold ctrl-tasten inne og rull for å zoome på kartet",scrollMac:"Hold inne ⌘-tasten og rull for å zoome på kartet"},pl:{touch:"Przesuń mapę dwoma palcami",scroll:"Naciśnij CTRL i przewiń, by przybliżyć mapę",scrollMac:"Naciśnij ⌘ i przewiń, by przybliżyć mapę"},pt:{touch:"Use dois dedos para mover o mapa",scroll:"Pressione Ctrl e role a tela simultaneamente para aplicar zoom no mapa",scrollMac:"Use ⌘ e role a tela simultaneamente para aplicar zoom no mapa"},"pt-BR":{touch:"Use dois dedos para mover o mapa",scroll:"Pressione Ctrl e role a tela simultaneamente para aplicar zoom no mapa",scrollMac:"Use ⌘ e role a tela simultaneamente para aplicar zoom no mapa"},"pt-PT":{touch:"Utilize dois dedos para mover o mapa",scroll:"Utilizar ctrl + deslocar para aumentar/diminuir zoom do mapa",scrollMac:"Utilize ⌘ + deslocar para aumentar/diminuir o zoom do mapa"},ro:{touch:"Folosiți două degete pentru a deplasa harta",scroll:"Apăsați tasta ctrl și derulați simultan pentru a mări harta",scrollMac:"Folosiți ⌘ și derulați pentru a mări/micșora harta"},ru:{touch:"Чтобы переместить карту, проведите по ней двумя пальцами",scroll:"Чтобы изменить масштаб, прокручивайте карту, удерживая клавишу Ctrl.",scrollMac:"Чтобы изменить масштаб, нажмите ⌘ + прокрутка"},sk:{touch:"Mapu môžete posunúť dvoma prstami",scroll:"Ak chcete priblížiť mapu, stlačte kláves ctrl a posúvajte",scrollMac:"Ak chcete priblížiť mapu, stlačte kláves ⌘ a posúvajte kolieskom myši"},sl:{touch:"Premaknite zemljevid z dvema prstoma",scroll:"Zemljevid povečate tako, da držite tipko Ctrl in vrtite kolesce na miški",scrollMac:"Uporabite ⌘ + funkcijo pomika, da povečate ali pomanjšate zemljevid"},sr:{touch:"Мапу померајте помоћу два прста",scroll:"Притисните ctrl тастер док померате да бисте зумирали мапу",scrollMac:"Притисните тастер ⌘ док померате да бисте зумирали мапу"},sv:{touch:"Använd två fingrar för att flytta kartan",scroll:"Använd ctrl + rulla för att zooma kartan",scrollMac:"Använd ⌘ + rulla för att zooma på kartan"},ta:{touch:"மேப்பை நகர்த்த இரண்டு விரல்களைப் பயன்படுத்தவும்",scroll:"மேப்பை பெரிதாக்கி/சிறிதாக்கிப் பார்க்க, ctrl பட்டனைப் பிடித்தபடி, மேலே/கீழே ஸ்க்ரால் செய்யவும்",scrollMac:"மேப்பை பெரிதாக்கி/சிறிதாக்கிப் பார்க்க, ⌘ பட்டனைப் பிடித்தபடி, மேலே/கீழே ஸ்க்ரால் செய்யவும்"},te:{touch:"మ్యాప్‌ని తరలించడం కోసం రెండు వేళ్లను ఉపయోగించండి",scroll:"మ్యాప్‌ని జూమ్ చేయడానికి ctrl బటన్‌ను నొక్కి ఉంచి, స్క్రోల్ చేయండి",scrollMac:"మ్యాప్ జూమ్ చేయాలంటే ⌘ + స్క్రోల్ ఉపయోగించండి"},th:{touch:"ใช้ 2 นิ้วเพื่อเลื่อนแผนที่",scroll:"กด Ctrl ค้างไว้ แล้วเลื่อนหน้าจอเพื่อซูมแผนที่",scrollMac:"กด ⌘ แล้วเลื่อนหน้าจอเพื่อซูมแผนที่"},tl:{touch:"Gumamit ng dalawang daliri upang iusog ang mapa",scroll:"Gamitin ang ctrl + scroll upang i-zoom ang mapa",scrollMac:"Gamitin ang ⌘ + scroll upang i-zoom ang mapa"},tr:{touch:"Haritada gezinmek için iki parmağınızı kullanın",scroll:"Haritayı yakınlaştırmak için ctrl + kaydırma kombinasyonunu kullanın",scrollMac:"Haritayı yakınlaştırmak için ⌘ tuşuna basıp ekranı kaydırın"},uk:{touch:"Переміщуйте карту двома пальцями",scroll:"Щоб змінювати масштаб карти, прокручуйте коліщатко миші, утримуючи клавішу Ctrl",scrollMac:"Щоб змінити масштаб карти, використовуйте ⌘ + прокручування"},vi:{touch:"Sử dụng hai ngón tay để di chuyển bản đồ",scroll:"Sử dụng ctrl + cuộn để thu phóng bản đồ",scrollMac:"Sử dụng ⌘ + cuộn để thu phóng bản đồ"},"zh-CN":{touch:"使用双指移动地图",scroll:"按住 Ctrl 并滚动鼠标滚轮才可缩放地图",scrollMac:"按住 ⌘ 并滚动鼠标滚轮才可缩放地图"},"zh-TW":{touch:"同時以兩指移動地圖",scroll:"按住 ctrl 鍵加上捲動滑鼠可以縮放地圖",scrollMac:"按 ⌘ 加上滾動捲軸可以縮放地圖"}};L.Map.mergeOptions({gestureHandlingOptions:{text:{},duration:1e3}});var tt=!1,ot=L.Handler.extend({addHooks:function(){this._handleTouch=this._handleTouch.bind(this),this._setupPluginOptions(),this._setLanguageContent(),this._disableInteractions(),this._map._container.addEventListener("touchstart",this._handleTouch),this._map._container.addEventListener("touchmove",this._handleTouch),this._map._container.addEventListener("touchend",this._handleTouch),this._map._container.addEventListener("touchcancel",this._handleTouch),this._map._container.addEventListener("click",this._handleTouch),L.DomEvent.on(this._map._container,"wheel",this._handleScroll,this),L.DomEvent.on(this._map,"mouseover",this._handleMouseOver,this),L.DomEvent.on(this._map,"mouseout",this._handleMouseOut,this),L.DomEvent.on(this._map,"movestart",this._handleDragging,this),L.DomEvent.on(this._map,"move",this._handleDragging,this),L.DomEvent.on(this._map,"moveend",this._handleDragging,this)},removeHooks:function(){this._enableInteractions(),this._map._container.removeEventListener("touchstart",this._handleTouch),this._map._container.removeEventListener("touchmove",this._handleTouch),this._map._container.removeEventListener("touchend",this._handleTouch),this._map._container.removeEventListener("touchcancel",this._handleTouch),this._map._container.removeEventListener("click",this._handleTouch),L.DomEvent.off(this._map._container,"wheel",this._handleScroll,this),L.DomEvent.off(this._map,"mouseover",this._handleMouseOver,this),L.DomEvent.off(this._map,"mouseout",this._handleMouseOut,this),L.DomEvent.off(this._map,"movestart",this._handleDragging,this),L.DomEvent.off(this._map,"move",this._handleDragging,this),L.DomEvent.off(this._map,"moveend",this._handleDragging,this)},_handleDragging:function(at){at.type=="movestart"||at.type=="move"?tt=!0:at.type=="moveend"&&(tt=!1)},_disableInteractions:function(){this._map.dragging.disable(),this._map.scrollWheelZoom.disable(),this._map.tap&&this._map.tap.disable()},_enableInteractions:function(){this._map.dragging.enable(),this._map.scrollWheelZoom.enable(),this._map.tap&&this._map.tap.enable()},_setupPluginOptions:function(){this._map.options.gestureHandlingText&&(this._map.options.gestureHandlingOptions.text=this._map.options.gestureHandlingText)},_setLanguageContent:function(){var at;if(this._map.options.gestureHandlingOptions&&this._map.options.gestureHandlingOptions.text&&this._map.options.gestureHandlingOptions.text.touch&&this._map.options.gestureHandlingOptions.text.scroll&&this._map.options.gestureHandlingOptions.text.scrollMac)at=this._map.options.gestureHandlingOptions.text;else{var ut=this._getUserLanguage();ut||(ut="en"),X[ut]&&(at=X[ut]),at||ut.indexOf("-")===-1||(ut=ut.split("-")[0],at=X[ut]),at||(at=X[ut="en"])}var wt=!1;0<=navigator.platform.toUpperCase().indexOf("MAC")&&(wt=!0);var uo=at.scroll;wt&&(uo=at.scrollMac),this._map._container.setAttribute("data-gesture-handling-touch-content",at.touch),this._map._container.setAttribute("data-gesture-handling-scroll-content",uo)},_getUserLanguage:function(){return navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage},_handleTouch:function(at){for(var ut=["leaflet-control-minimap","leaflet-interactive","leaflet-popup-content","leaflet-popup-content-wrapper","leaflet-popup-close-button","leaflet-control-zoom-in","leaflet-control-zoom-out"],wt=!1,uo=0;uo<ut.length;uo++)L.DomUtil.hasClass(at.target,ut[uo])&&(wt=!0);wt?L.DomUtil.hasClass(at.target,"leaflet-interactive")&&at.type==="touchmove"&&at.touches.length===1?(L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling-touch-warning"),this._disableInteractions()):L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-touch-warning"):at.type==="touchmove"||at.type==="touchstart"?at.touches.length===1?(L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling-touch-warning"),this._disableInteractions()):(at.preventDefault(),this._enableInteractions(),L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-touch-warning")):L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-touch-warning")},_isScrolling:!1,_handleScroll:function(at){at.metaKey||at.ctrlKey?(at.preventDefault(),L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-scroll-warning"),this._map.scrollWheelZoom.enable()):(L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling-scroll-warning"),this._map.scrollWheelZoom.disable(),clearTimeout(this._isScrolling),this._isScrolling=setTimeout(function(){for(var ut=document.getElementsByClassName("leaflet-gesture-handling-scroll-warning"),wt=0;wt<ut.length;wt++)L.DomUtil.removeClass(ut[wt],"leaflet-gesture-handling-scroll-warning")},this._map.options.gestureHandlingOptions.duration))},_handleMouseOver:function(at){this._enableInteractions()},_handleMouseOut:function(at){tt||this._disableInteractions()}});L.Map.addInitHook("addHandler","gestureHandling",ot),q.GestureHandling=ot,q.default=ot,Object.defineProperty(q,"__esModule",{value:!0})})})(leafletGestureHandling_min,leafletGestureHandling_min.exports);var leafletGestureHandling_minExports=leafletGestureHandling_min.exports;L.Control.Opacity=L.Control.extend({options:{collapsed:!1,position:"topright",label:null},initialize:function(F,W){for(const q in L.Util.setOptions(this,W),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,F)this._addLayer(F[q],q,!0)},onAdd:function(F){return this._initLayout(),this._update(),this._container},expand:function(){L.DomUtil.addClass(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var F=this._map.getSize().y-(this._container.offsetTop+50);return F<this._form.clientHeight?(L.DomUtil.addClass(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=F+"px"):L.DomUtil.removeClass(this._form,"leaflet-control-layers-scrollbar"),this},collapse:function(){return L.DomUtil.removeClass(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){const F="leaflet-control-layers",W=this._container=L.DomUtil.create("div",F),q=this.options.collapsed;if(W.setAttribute("aria-haspopup",!0),L.DomEvent.disableClickPropagation(W),L.DomEvent.disableScrollPropagation(W),this.options.label){const ot=L.DomUtil.create("p",F+"-label");ot.innerHTML=this.options.label,W.appendChild(ot)}var X=this._form=L.DomUtil.create("form",F+"-list");q&&(this._map.on("click zoom move",this.collapse,this),L.Browser.android||L.DomEvent.on(W,{mouseenter:this.expand,mouseleave:this.collapse},this));const tt=this._layersLink=L.DomUtil.create("a",F+"-toggle",W);tt.href="#",tt.title="Layers",L.Browser.touch?(L.DomEvent.on(tt,"click",L.DomEvent.stop),L.DomEvent.on(tt,"click",this.expand,this)):L.DomEvent.on(tt,"focus",this.expand,this),q||this.expand(),this._baseLayersList=L.DomUtil.create("div",F+"-base",X),this._separator=L.DomUtil.create("div",F+"-separator",X),this._overlaysList=L.DomUtil.create("div",F+"-overlays",X),W.appendChild(X)},_getLayer:function(F){for(let W=0;W<this._layers.length;W++)if(this._layers[W]&&L.Util.stamp(this._layers[W].layer)===F)return this._layers[W]},_addLayer:function(F,W,q){this._layers.push({layer:F,name:W,overlay:q})},_update:function(){if(!this._container)return this;L.DomUtil.empty(this._baseLayersList),L.DomUtil.empty(this._overlaysList),this._layerControlInputs=[];let F,W,q,X,tt=0;for(q=0;q<this._layers.length;q++)X=this._layers[q],this._addItem(X),W=W||X.overlay,F=F||!X.overlay,tt+=X.overlay?0:1;this.options.hideSingleBase&&(F=F&&1<tt,this._baseLayersList.style.display=F?"":"none"),this._separator.style.display=W&&F?"":"none"},_addItem:function(F){let W=document.createElement("label"),q=document.createElement("input");F.overlay?(q.type="range",q.className="leaflet-control-layers-range",q.min=0,q.max=100,q.value=100*F.layer.options.opacity):q=this._createRadioElement("leaflet-base-layers",checked),this._layerControlInputs.push(q),q.layerId=L.Util.stamp(F.layer),q.addEventListener("input",ut=>{ut=ut.target.value;const wt=this._getLayer(q.layerId).layer;wt._url===void 0||wt.setOpacity(Number(ut/100))});const X=document.createElement("span");X.innerHTML=" "+F.name;const tt=document.createElement("div"),ot=document.createElement("div");W.appendChild(tt),tt.appendChild(X),W.appendChild(ot),ot.appendChild(q),(F.overlay?this._overlaysList:this._baseLayersList).appendChild(W)}}),L.control.opacity=function(F,W){return new L.Control.Opacity(F,W)};(function(F,W){typeof exports=="object"&&typeof module<"u"?W(exports):typeof define=="function"&&define.amd?define(["exports"],W):W((F=typeof globalThis<"u"?globalThis:F||self).turf={})})(globalThis,function(F){var W=63710088e-1,q={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260511392e-6,inches:39.37*W,kilometers:6371.0088,kilometres:6371.0088,meters:W,metres:W,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:W/1852,radians:1,yards:6967335223679999e-9},X={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/W,yards:1.0936133},tt={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function ot(K,rt,nt){nt===void 0&&(nt={});var lt={type:"Feature"};return(nt.id===0||nt.id)&&(lt.id=nt.id),nt.bbox&&(lt.bbox=nt.bbox),lt.properties=rt||{},lt.geometry=K,lt}function at(K,rt,nt){switch(K){case"Point":return ut(rt).geometry;case"LineString":return yo(rt).geometry;case"Polygon":return uo(rt).geometry;case"MultiPoint":return wf(rt).geometry;case"MultiLineString":return df(rt).geometry;case"MultiPolygon":return wo(rt).geometry;default:throw new Error(K+" is invalid")}}function ut(K,rt,nt){if(nt===void 0&&(nt={}),!K)throw new Error("coordinates is required");if(!Array.isArray(K))throw new Error("coordinates must be an Array");if(K.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Af(K[0])||!Af(K[1]))throw new Error("coordinates must contain numbers");return ot({type:"Point",coordinates:K},rt,nt)}function wt(K,rt,nt){return nt===void 0&&(nt={}),uf(K.map(function(lt){return ut(lt,rt)}),nt)}function uo(K,rt,nt){nt===void 0&&(nt={});for(var lt=0,pt=K;lt<pt.length;lt++){var lo=pt[lt];if(lo.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var vo=0;vo<lo[lo.length-1].length;vo++)if(lo[lo.length-1][vo]!==lo[0][vo])throw new Error("First and last Position are not equivalent.")}return ot({type:"Polygon",coordinates:K},rt,nt)}function mo(K,rt,nt){return nt===void 0&&(nt={}),uf(K.map(function(lt){return uo(lt,rt)}),nt)}function yo(K,rt,nt){if(nt===void 0&&(nt={}),K.length<2)throw new Error("coordinates must be an array of two or more positions");return ot({type:"LineString",coordinates:K},rt,nt)}function lf(K,rt,nt){return nt===void 0&&(nt={}),uf(K.map(function(lt){return yo(lt,rt)}),nt)}function uf(K,rt){rt===void 0&&(rt={});var nt={type:"FeatureCollection"};return rt.id&&(nt.id=rt.id),rt.bbox&&(nt.bbox=rt.bbox),nt.features=K,nt}function df(K,rt,nt){return nt===void 0&&(nt={}),ot({type:"MultiLineString",coordinates:K},rt,nt)}function wf(K,rt,nt){return nt===void 0&&(nt={}),ot({type:"MultiPoint",coordinates:K},rt,nt)}function wo(K,rt,nt){return nt===void 0&&(nt={}),ot({type:"MultiPolygon",coordinates:K},rt,nt)}function ls(K,rt,nt){return nt===void 0&&(nt={}),ot({type:"GeometryCollection",geometries:K},rt,nt)}function _f(K,rt){if(rt===void 0&&(rt=0),rt&&!(rt>=0))throw new Error("precision must be a positive number");var nt=Math.pow(10,rt||0);return Math.round(K*nt)/nt}function po(K,rt){rt===void 0&&(rt="kilometers");var nt=q[rt];if(!nt)throw new Error(rt+" units is invalid");return K*nt}function xo(K,rt){rt===void 0&&(rt="kilometers");var nt=q[rt];if(!nt)throw new Error(rt+" units is invalid");return K/nt}function gf(K,rt){return yf(xo(K,rt))}function cf(K){var rt=K%360;return rt<0&&(rt+=360),rt}function yf(K){return 180*(K%(2*Math.PI))/Math.PI}function Sf(K){return K%360*Math.PI/180}function xf(K,rt,nt){if(rt===void 0&&(rt="kilometers"),nt===void 0&&(nt="kilometers"),!(K>=0))throw new Error("length must be a positive number");return po(xo(K,rt),nt)}function bf(K,rt,nt){if(rt===void 0&&(rt="meters"),nt===void 0&&(nt="kilometers"),!(K>=0))throw new Error("area must be a positive number");var lt=tt[rt];if(!lt)throw new Error("invalid original units");var pt=tt[nt];if(!pt)throw new Error("invalid final units");return K/lt*pt}function Af(K){return!isNaN(K)&&K!==null&&!Array.isArray(K)}function Pf(K){return!!K&&K.constructor===Object}function Df(K){if(!K)throw new Error("bbox is required");if(!Array.isArray(K))throw new Error("bbox must be an Array");if(K.length!==4&&K.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");K.forEach(function(rt){if(!Af(rt))throw new Error("bbox must only contain numbers")})}function zf(K){if(!K)throw new Error("id is required");if(["string","number"].indexOf(typeof K)===-1)throw new Error("id must be a number or a string")}var jf=Object.freeze({__proto__:null,earthRadius:W,factors:q,unitsFactors:X,areaFactors:tt,feature:ot,geometry:at,point:ut,points:wt,polygon:uo,polygons:mo,lineString:yo,lineStrings:lf,featureCollection:uf,multiLineString:df,multiPoint:wf,multiPolygon:wo,geometryCollection:ls,round:_f,radiansToLength:po,lengthToRadians:xo,lengthToDegrees:gf,bearingToAzimuth:cf,radiansToDegrees:yf,degreesToRadians:Sf,convertLength:xf,convertArea:bf,isNumber:Af,isObject:Pf,validateBBox:Df,validateId:zf});function $f(K,rt,nt){if(K!==null)for(var lt,pt,lo,vo,vf,Cf,Tf,Rf,Of=0,Bf=0,Gf=K.type,qf=Gf==="FeatureCollection",Kf=Gf==="Feature",Uf=qf?K.features.length:1,lp=0;lp<Uf;lp++){vf=(Rf=!!(Tf=qf?K.features[lp].geometry:Kf?K.geometry:K)&&Tf.type==="GeometryCollection")?Tf.geometries.length:1;for(var xp=0;xp<vf;xp++){var Yf=0,sp=0;if((vo=Rf?Tf.geometries[xp]:Tf)!==null){Cf=vo.coordinates;var hp=vo.type;switch(Of=!nt||hp!=="Polygon"&&hp!=="MultiPolygon"?0:1,hp){case null:break;case"Point":if(rt(Cf,Bf,lp,Yf,sp)===!1)return!1;Bf++,Yf++;break;case"LineString":case"MultiPoint":for(lt=0;lt<Cf.length;lt++){if(rt(Cf[lt],Bf,lp,Yf,sp)===!1)return!1;Bf++,hp==="MultiPoint"&&Yf++}hp==="LineString"&&Yf++;break;case"Polygon":case"MultiLineString":for(lt=0;lt<Cf.length;lt++){for(pt=0;pt<Cf[lt].length-Of;pt++){if(rt(Cf[lt][pt],Bf,lp,Yf,sp)===!1)return!1;Bf++}hp==="MultiLineString"&&Yf++,hp==="Polygon"&&sp++}hp==="Polygon"&&Yf++;break;case"MultiPolygon":for(lt=0;lt<Cf.length;lt++){for(sp=0,pt=0;pt<Cf[lt].length;pt++){for(lo=0;lo<Cf[lt][pt].length-Of;lo++){if(rt(Cf[lt][pt][lo],Bf,lp,Yf,sp)===!1)return!1;Bf++}sp++}Yf++}break;case"GeometryCollection":for(lt=0;lt<vo.geometries.length;lt++)if($f(vo.geometries[lt],rt,nt)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Ff(K,rt,nt,lt){var pt=nt;return $f(K,function(lo,vo,vf,Cf,Tf){pt=vo===0&&nt===void 0?lo:rt(pt,lo,vo,vf,Cf,Tf)},lt),pt}function Xf(K,rt){var nt;switch(K.type){case"FeatureCollection":for(nt=0;nt<K.features.length&&rt(K.features[nt].properties,nt)!==!1;nt++);break;case"Feature":rt(K.properties,0)}}function mp(K,rt,nt){var lt=nt;return Xf(K,function(pt,lo){lt=lo===0&&nt===void 0?pt:rt(lt,pt,lo)}),lt}function fp(K,rt){if(K.type==="Feature")rt(K,0);else if(K.type==="FeatureCollection")for(var nt=0;nt<K.features.length&&rt(K.features[nt],nt)!==!1;nt++);}function Mp(K,rt,nt){var lt=nt;return fp(K,function(pt,lo){lt=lo===0&&nt===void 0?pt:rt(lt,pt,lo)}),lt}function Np(K){var rt=[];return $f(K,function(nt){rt.push(nt)}),rt}function Pp(K,rt){var nt,lt,pt,lo,vo,vf,Cf,Tf,Rf,Of,Bf=0,Gf=K.type==="FeatureCollection",qf=K.type==="Feature",Kf=Gf?K.features.length:1;for(nt=0;nt<Kf;nt++){for(vf=Gf?K.features[nt].geometry:qf?K.geometry:K,Tf=Gf?K.features[nt].properties:qf?K.properties:{},Rf=Gf?K.features[nt].bbox:qf?K.bbox:void 0,Of=Gf?K.features[nt].id:qf?K.id:void 0,vo=(Cf=!!vf&&vf.type==="GeometryCollection")?vf.geometries.length:1,pt=0;pt<vo;pt++)if((lo=Cf?vf.geometries[pt]:vf)!==null)switch(lo.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(rt(lo,Bf,Tf,Rf,Of)===!1)return!1;break;case"GeometryCollection":for(lt=0;lt<lo.geometries.length;lt++)if(rt(lo.geometries[lt],Bf,Tf,Rf,Of)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(rt(null,Bf,Tf,Rf,Of)===!1)return!1;Bf++}}function yp(K,rt,nt){var lt=nt;return Pp(K,function(pt,lo,vo,vf,Cf){lt=lo===0&&nt===void 0?pt:rt(lt,pt,lo,vo,vf,Cf)}),lt}function Ep(K,rt){Pp(K,function(nt,lt,pt,lo,vo){var vf,Cf=nt===null?null:nt.type;switch(Cf){case null:case"Point":case"LineString":case"Polygon":return rt(ot(nt,pt,{bbox:lo,id:vo}),lt,0)!==!1&&void 0}switch(Cf){case"MultiPoint":vf="Point";break;case"MultiLineString":vf="LineString";break;case"MultiPolygon":vf="Polygon"}for(var Tf=0;Tf<nt.coordinates.length;Tf++){var Rf=nt.coordinates[Tf];if(rt(ot({type:vf,coordinates:Rf},pt),lt,Tf)===!1)return!1}})}function Cp(K,rt,nt){var lt=nt;return Ep(K,function(pt,lo,vo){lt=lo===0&&vo===0&&nt===void 0?pt:rt(lt,pt,lo,vo)}),lt}function $p(K,rt){Ep(K,function(nt,lt,pt){var lo=0;if(nt.geometry){var vo=nt.geometry.type;if(vo!=="Point"&&vo!=="MultiPoint"){var vf,Cf=0,Tf=0,Rf=0;return $f(nt,function(Of,Bf,Gf,qf,Kf){if(vf===void 0||lt>Cf||qf>Tf||Kf>Rf)return vf=Of,Cf=lt,Tf=qf,Rf=Kf,void(lo=0);var Uf=yo([vf,Of],nt.properties);if(rt(Uf,lt,pt,Kf,lo)===!1)return!1;lo++,vf=Of})!==!1&&void 0}}})}function kp(K,rt,nt){var lt=nt,pt=!1;return $p(K,function(lo,vo,vf,Cf,Tf){lt=pt===!1&&nt===void 0?lo:rt(lt,lo,vo,vf,Cf,Tf),pt=!0}),lt}function Dp(K,rt){if(!K)throw new Error("geojson is required");Ep(K,function(nt,lt,pt){if(nt.geometry!==null){var lo=nt.geometry.type,vo=nt.geometry.coordinates;switch(lo){case"LineString":if(rt(nt,lt,pt,0,0)===!1)return!1;break;case"Polygon":for(var vf=0;vf<vo.length;vf++)if(rt(yo(vo[vf],nt.properties),lt,pt,vf)===!1)return!1}}})}function Fp(K,rt,nt){var lt=nt;return Dp(K,function(pt,lo,vo,vf){lt=lo===0&&nt===void 0?pt:rt(lt,pt,lo,vo,vf)}),lt}function Sp(K,rt){if(!Pf(rt=rt||{}))throw new Error("options is invalid");var nt,lt=rt.featureIndex||0,pt=rt.multiFeatureIndex||0,lo=rt.geometryIndex||0,vo=rt.segmentIndex||0,vf=rt.properties;switch(K.type){case"FeatureCollection":lt<0&&(lt=K.features.length+lt),vf=vf||K.features[lt].properties,nt=K.features[lt].geometry;break;case"Feature":vf=vf||K.properties,nt=K.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":nt=K;break;default:throw new Error("geojson is invalid")}if(nt===null)return null;var Cf=nt.coordinates;switch(nt.type){case"Point":case"MultiPoint":return null;case"LineString":return vo<0&&(vo=Cf.length+vo-1),yo([Cf[vo],Cf[vo+1]],vf,rt);case"Polygon":return lo<0&&(lo=Cf.length+lo),vo<0&&(vo=Cf[lo].length+vo-1),yo([Cf[lo][vo],Cf[lo][vo+1]],vf,rt);case"MultiLineString":return pt<0&&(pt=Cf.length+pt),vo<0&&(vo=Cf[pt].length+vo-1),yo([Cf[pt][vo],Cf[pt][vo+1]],vf,rt);case"MultiPolygon":return pt<0&&(pt=Cf.length+pt),lo<0&&(lo=Cf[pt].length+lo),vo<0&&(vo=Cf[pt][lo].length-vo-1),yo([Cf[pt][lo][vo],Cf[pt][lo][vo+1]],vf,rt)}throw new Error("geojson is invalid")}function up(K,rt){if(!Pf(rt=rt||{}))throw new Error("options is invalid");var nt,lt=rt.featureIndex||0,pt=rt.multiFeatureIndex||0,lo=rt.geometryIndex||0,vo=rt.coordIndex||0,vf=rt.properties;switch(K.type){case"FeatureCollection":lt<0&&(lt=K.features.length+lt),vf=vf||K.features[lt].properties,nt=K.features[lt].geometry;break;case"Feature":vf=vf||K.properties,nt=K.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":nt=K;break;default:throw new Error("geojson is invalid")}if(nt===null)return null;var Cf=nt.coordinates;switch(nt.type){case"Point":return ut(Cf,vf,rt);case"MultiPoint":return pt<0&&(pt=Cf.length+pt),ut(Cf[pt],vf,rt);case"LineString":return vo<0&&(vo=Cf.length+vo),ut(Cf[vo],vf,rt);case"Polygon":return lo<0&&(lo=Cf.length+lo),vo<0&&(vo=Cf[lo].length+vo),ut(Cf[lo][vo],vf,rt);case"MultiLineString":return pt<0&&(pt=Cf.length+pt),vo<0&&(vo=Cf[pt].length+vo),ut(Cf[pt][vo],vf,rt);case"MultiPolygon":return pt<0&&(pt=Cf.length+pt),lo<0&&(lo=Cf[pt].length+lo),vo<0&&(vo=Cf[pt][lo].length-vo),ut(Cf[pt][lo][vo],vf,rt)}throw new Error("geojson is invalid")}var Nf=Object.freeze({__proto__:null,coordAll:Np,coordEach:$f,coordReduce:Ff,featureEach:fp,featureReduce:Mp,findPoint:up,findSegment:Sp,flattenEach:Ep,flattenReduce:Cp,geomEach:Pp,geomReduce:yp,lineEach:Dp,lineReduce:Fp,propEach:Xf,propReduce:mp,segmentEach:$p,segmentReduce:kp});function Jf(K){var rt=[1/0,1/0,-1/0,-1/0];return $f(K,function(nt){rt[0]>nt[0]&&(rt[0]=nt[0]),rt[1]>nt[1]&&(rt[1]=nt[1]),rt[2]<nt[0]&&(rt[2]=nt[0]),rt[3]<nt[1]&&(rt[3]=nt[1])}),rt}function ip(K){if(!K)throw new Error("coord is required");if(!Array.isArray(K)){if(K.type==="Feature"&&K.geometry!==null&&K.geometry.type==="Point")return K.geometry.coordinates;if(K.type==="Point")return K.coordinates}if(Array.isArray(K)&&K.length>=2&&!Array.isArray(K[0])&&!Array.isArray(K[1]))return K;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function ap(K){if(Array.isArray(K))return K;if(K.type==="Feature"){if(K.geometry!==null)return K.geometry.coordinates}else if(K.coordinates)return K.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Op(K){if(K.length>1&&Af(K[0])&&Af(K[1]))return!0;if(Array.isArray(K[0])&&K[0].length)return Op(K[0]);throw new Error("coordinates must only contain numbers")}function Gp(K,rt,nt){if(!rt||!nt)throw new Error("type and name required");if(!K||K.type!==rt)throw new Error("Invalid input to "+nt+": must be a "+rt+", given "+K.type)}function bp(K,rt,nt){if(!K)throw new Error("No feature passed");if(!nt)throw new Error(".featureOf() requires a name");if(!K||K.type!=="Feature"||!K.geometry)throw new Error("Invalid input to "+nt+", Feature with geometry required");if(!K.geometry||K.geometry.type!==rt)throw new Error("Invalid input to "+nt+": must be a "+rt+", given "+K.geometry.type)}function zp(K,rt,nt){if(!K)throw new Error("No featureCollection passed");if(!nt)throw new Error(".collectionOf() requires a name");if(!K||K.type!=="FeatureCollection")throw new Error("Invalid input to "+nt+", FeatureCollection required");for(var lt=0,pt=K.features;lt<pt.length;lt++){var lo=pt[lt];if(!lo||lo.type!=="Feature"||!lo.geometry)throw new Error("Invalid input to "+nt+", Feature with geometry required");if(!lo.geometry||lo.geometry.type!==rt)throw new Error("Invalid input to "+nt+": must be a "+rt+", given "+lo.geometry.type)}}function Rp(K){return K.type==="Feature"?K.geometry:K}function Up(K,rt){return K.type==="FeatureCollection"?"FeatureCollection":K.type==="GeometryCollection"?"GeometryCollection":K.type==="Feature"&&K.geometry!==null?K.geometry.type:K.type}Jf.default=Jf;var Zp=Object.freeze({__proto__:null,getCoord:ip,getCoords:ap,containsNumber:Op,geojsonType:Gp,featureOf:bp,collectionOf:zp,getGeom:Rp,getType:Up}),og=Object.getOwnPropertySymbols,Ap=Object.prototype.hasOwnProperty,Ip=Object.prototype.propertyIsEnumerable;/*
    object-assign
    (c) Sindre Sorhus
    @license MIT
    */function jp(K){if(K==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(K)}var Jp=function(){try{if(!Object.assign)return!1;var K=new String("abc");if(K[5]="de",Object.getOwnPropertyNames(K)[0]==="5")return!1;for(var rt={},nt=0;nt<10;nt++)rt["_"+String.fromCharCode(nt)]=nt;if(Object.getOwnPropertyNames(rt).map(function(pt){return rt[pt]}).join("")!=="0123456789")return!1;var lt={};return"abcdefghijklmnopqrst".split("").forEach(function(pt){lt[pt]=pt}),Object.keys(Object.assign({},lt)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(K,rt){for(var nt,lt,pt=jp(K),lo=1;lo<arguments.length;lo++){for(var vo in nt=Object(arguments[lo]))Ap.call(nt,vo)&&(pt[vo]=nt[vo]);if(og){lt=og(nt);for(var vf=0;vf<lt.length;vf++)Ip.call(nt,lt[vf])&&(pt[lt[vf]]=nt[lt[vf]])}}return pt},sg={successCallback:null,verbose:!1},mg={};/**
     * @license GNU Affero General Public License.
     * Copyright (c) 2015, 2015 Ronny Lorenz <ronny@tbi.univie.ac.at>
     * v. 1.2.0
     * https://github.com/RaumZeit/MarchingSquares.js
     *
     * MarchingSquaresJS is free software: you can redistribute it and/or modify
     * it under the terms of the GNU Affero General Public License as published by
     * the Free Software Foundation, either version 3 of the License, or
     * (at your option) any later version.
     *
     * MarchingSquaresJS is distributed in the hope that it will be useful,
     * but WITHOUT ANY WARRANTY; without even the implied warranty of
     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
     * GNU Affero General Public License for more details.
     *
     * As additional permission under GNU Affero General Public License version 3
     * section 7, third-party projects (personal or commercial) may distribute,
     * include, or link against UNMODIFIED VERSIONS of MarchingSquaresJS without the
     * requirement that said third-party project for that reason alone becomes
     * subject to any requirement of the GNU Affero General Public License version 3.
     * Any modifications to MarchingSquaresJS, however, must be shared with the public
     * and made available.
     *
     * In summary this:
     * - allows you to use MarchingSquaresJS at no cost
     * - allows you to use MarchingSquaresJS for both personal and commercial purposes
     * - allows you to distribute UNMODIFIED VERSIONS of MarchingSquaresJS under any
     *   license as long as this license notice is included
     * - enables you to keep the source code of your program that uses MarchingSquaresJS
     *   undisclosed
     * - forces you to share any modifications you have made to MarchingSquaresJS,
     *   e.g. bug-fixes
     *
     * You should have received a copy of the GNU Affero General Public License
     * along with MarchingSquaresJS.  If not, see <http://www.gnu.org/licenses/>.
     */function kg(K,rt,nt){nt=nt||{};for(var lt=Object.keys(sg),pt=0;pt<lt.length;pt++){var lo=lt[pt],vo=nt[lo];vo=vo??sg[lo],mg[lo]=vo}mg.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+rt);var vf=function(Cf){var Tf=[],Rf=0,Of=1e-7;return Cf.cells.forEach(function(Bf,Gf){Bf.forEach(function(qf,Kf){if(qf!==void 0&&(vp=qf).cval!==5&&vp.cval!==10&&!im(qf)){var Uf=function(gp,hg,tg){var pg,rg,_g=gp.length,lg=[],ag=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],ig=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],yg=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"],cg=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],xg=gp[hg][tg],Wp=xg.cval,om=yg[Wp],Rg=dp(xg,om);lg.push([tg+Rg[0],hg+Rg[1]]),om=cg[Wp],Rg=dp(xg,om),lg.push([tg+Rg[0],hg+Rg[1]]),hm(xg);for(var Lm=tg+ag[Wp],Qg=hg+ig[Wp],fm=Wp;Lm>=0&&Qg>=0&&Qg<_g&&(Lm!=tg||Qg!=hg)&&(xg=gp[Qg][Lm])!==void 0;){if((Wp=xg.cval)===0||Wp===15)return{path:lg,info:"mergeable"};om=cg[Wp],pg=ag[Wp],rg=ig[Wp],Wp!==5&&Wp!==10||(Wp===5?xg.flipped?ig[fm]===-1?(om="left",pg=-1,rg=0):(om="right",pg=1,rg=0):ag[fm]===-1&&(om="bottom",pg=0,rg=-1):Wp===10&&(xg.flipped?ag[fm]===-1?(om="top",pg=0,rg=1):(om="bottom",pg=0,rg=-1):ig[fm]===1&&(om="left",pg=-1,rg=0))),Rg=dp(xg,om),lg.push([Lm+Rg[0],Qg+Rg[1]]),hm(xg),Lm+=pg,Qg+=rg,fm=Wp}return{path:lg,info:"closed"}}(Cf.cells,Gf,Kf),lp=!1;if(Uf.info==="mergeable"){for(var xp=Uf.path[Uf.path.length-1][0],Yf=Uf.path[Uf.path.length-1][1],sp=Rf-1;sp>=0;sp--)if(Math.abs(Tf[sp][0][0]-xp)<=Of&&Math.abs(Tf[sp][0][1]-Yf)<=Of){for(var hp=Uf.path.length-2;hp>=0;--hp)Tf[sp].unshift(Uf.path[hp]);lp=!0;break}}lp||(Tf[Rf++]=Uf.path)}var vp})}),Tf}(function(Cf,Tf){for(var Rf=Cf.length-1,Of=Cf[0].length-1,Bf={rows:Rf,cols:Of,cells:[]},Gf=0;Gf<Rf;++Gf){Bf.cells[Gf]=[];for(var qf=0;qf<Of;++qf){var Kf=0,Uf=Cf[Gf+1][qf],lp=Cf[Gf+1][qf+1],xp=Cf[Gf][qf+1],Yf=Cf[Gf][qf];if(!(isNaN(Uf)||isNaN(lp)||isNaN(xp)||isNaN(Yf))){Kf|=Uf>=Tf?8:0,Kf|=lp>=Tf?4:0,Kf|=xp>=Tf?2:0;var sp,hp,vp,gp,hg=!1;if((Kf|=Yf>=Tf?1:0)===5||Kf===10){var tg=(Uf+lp+xp+Yf)/4;Kf===5&&tg<Tf?(Kf=10,hg=!0):Kf===10&&tg<Tf&&(Kf=5,hg=!0)}Kf!==0&&Kf!==15&&(sp=hp=vp=gp=.5,Kf===1?(vp=1-Eg(Tf,Uf,Yf),hp=1-Eg(Tf,xp,Yf)):Kf===2?(hp=Eg(Tf,Yf,xp),gp=1-Eg(Tf,lp,xp)):Kf===3?(vp=1-Eg(Tf,Uf,Yf),gp=1-Eg(Tf,lp,xp)):Kf===4?(sp=Eg(Tf,Uf,lp),gp=Eg(Tf,xp,lp)):Kf===5?(sp=Eg(Tf,Uf,lp),gp=Eg(Tf,xp,lp),hp=1-Eg(Tf,xp,Yf),vp=1-Eg(Tf,Uf,Yf)):Kf===6?(hp=Eg(Tf,Yf,xp),sp=Eg(Tf,Uf,lp)):Kf===7?(vp=1-Eg(Tf,Uf,Yf),sp=Eg(Tf,Uf,lp)):Kf===8?(vp=Eg(Tf,Yf,Uf),sp=1-Eg(Tf,lp,Uf)):Kf===9?(hp=1-Eg(Tf,xp,Yf),sp=1-Eg(Tf,lp,Uf)):Kf===10?(sp=1-Eg(Tf,lp,Uf),gp=1-Eg(Tf,lp,xp),hp=Eg(Tf,Yf,xp),vp=Eg(Tf,Yf,Uf)):Kf===11?(sp=1-Eg(Tf,lp,Uf),gp=1-Eg(Tf,lp,xp)):Kf===12?(vp=Eg(Tf,Yf,Uf),gp=Eg(Tf,xp,lp)):Kf===13?(hp=1-Eg(Tf,xp,Yf),gp=Eg(Tf,xp,lp)):Kf===14?(vp=Eg(Tf,Yf,Uf),hp=Eg(Tf,Yf,xp)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+Kf),Bf.cells[Gf][qf]={cval:Kf,flipped:hg,top:sp,right:gp,bottom:hp,left:vp})}}}return Bf}(K,rt));return typeof mg.successCallback=="function"&&mg.successCallback(vf),vf}function Eg(K,rt,nt){return(K-rt)/(nt-rt)}function im(K){return K.cval===0||K.cval===15}function hm(K){im(K)||K.cval===5||K.cval===10||(K.cval=15)}function dp(K,rt){return rt==="top"?[K.top,1]:rt==="bottom"?[K.bottom,0]:rt==="right"?[1,K.right]:rt==="left"?[0,K.left]:void 0}function cp(K,rt){if(!Pf(rt=rt||{}))throw new Error("options is invalid");var nt=rt.zProperty||"elevation",lt=rt.flip,pt=rt.flags;zp(K,"Point","input must contain Points");for(var lo=function(Bf,Gf){var qf={};return fp(Bf,function(Kf){var Uf=ap(Kf)[1];qf[Uf]||(qf[Uf]=[]),qf[Uf].push(Kf)}),Object.keys(qf).map(function(Kf){return qf[Kf].sort(function(Uf,lp){return ap(Uf)[0]-ap(lp)[0]})}).sort(function(Kf,Uf){return Gf?ap(Kf[0])[1]-ap(Uf[0])[1]:ap(Uf[0])[1]-ap(Kf[0])[1]})}(K,lt),vo=[],vf=0;vf<lo.length;vf++){for(var Cf=lo[vf],Tf=[],Rf=0;Rf<Cf.length;Rf++){var Of=Cf[Rf];Of.properties[nt]?Tf.push(Of.properties[nt]):Tf.push(0),pt===!0&&(Of.properties.matrixPosition=[vf,Rf])}vo.push(Tf)}return vo}var Vp=Ag,qp=Ag;function Ag(K,rt,nt,lt,pt){Dg(K,rt,nt||0,lt||K.length-1,pt||zg)}function Dg(K,rt,nt,lt,pt){for(;lt>nt;){if(lt-nt>600){var lo=lt-nt+1,vo=rt-nt+1,vf=Math.log(lo),Cf=.5*Math.exp(2*vf/3),Tf=.5*Math.sqrt(vf*Cf*(lo-Cf)/lo)*(vo-lo/2<0?-1:1);Dg(K,rt,Math.max(nt,Math.floor(rt-vo*Cf/lo+Tf)),Math.min(lt,Math.floor(rt+(lo-vo)*Cf/lo+Tf)),pt)}var Rf=K[rt],Of=nt,Bf=lt;for(Ig(K,nt,rt),pt(K[lt],Rf)>0&&Ig(K,nt,lt);Of<Bf;){for(Ig(K,Of,Bf),Of++,Bf--;pt(K[Of],Rf)<0;)Of++;for(;pt(K[Bf],Rf)>0;)Bf--}pt(K[nt],Rf)===0?Ig(K,nt,Bf):Ig(K,++Bf,lt),Bf<=rt&&(nt=Bf+1),rt<=Bf&&(lt=Bf-1)}}function Ig(K,rt,nt){var lt=K[rt];K[rt]=K[nt],K[nt]=lt}function zg(K,rt){return K<rt?-1:K>rt?1:0}Vp.default=qp;var Zg=pm,wm=pm;function pm(K,rt){if(!(this instanceof pm))return new pm(K,rt);this._maxEntries=Math.max(4,K||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),rt&&this._initFormat(rt),this.clear()}function bv(K,rt,nt){if(!nt)return rt.indexOf(K);for(var lt=0;lt<rt.length;lt++)if(nt(K,rt[lt]))return lt;return-1}function um(K,rt){Y0(K,0,K.children.length,rt,K)}function Y0(K,rt,nt,lt,pt){pt||(pt=d0(null)),pt.minX=1/0,pt.minY=1/0,pt.maxX=-1/0,pt.maxY=-1/0;for(var lo,vo=rt;vo<nt;vo++)lo=K.children[vo],r0(pt,K.leaf?lt(lo):lo);return pt}function r0(K,rt){return K.minX=Math.min(K.minX,rt.minX),K.minY=Math.min(K.minY,rt.minY),K.maxX=Math.max(K.maxX,rt.maxX),K.maxY=Math.max(K.maxY,rt.maxY),K}function _y(K,rt){return K.minX-rt.minX}function Wy(K,rt){return K.minY-rt.minY}function L0(K){return(K.maxX-K.minX)*(K.maxY-K.minY)}function em(K){return K.maxX-K.minX+(K.maxY-K.minY)}function R0(K,rt){return K.minX<=rt.minX&&K.minY<=rt.minY&&rt.maxX<=K.maxX&&rt.maxY<=K.maxY}function tm(K,rt){return rt.minX<=K.maxX&&rt.minY<=K.maxY&&rt.maxX>=K.minX&&rt.maxY>=K.minY}function d0(K){return{children:K,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function $b(K,rt,nt,lt,pt){for(var lo,vo=[rt,nt];vo.length;)(nt=vo.pop())-(rt=vo.pop())<=lt||(lo=rt+Math.ceil((nt-rt)/lt/2)*lt,Vp(K,lo,rt,nt,pt),vo.push(rt,lo,lo,nt))}function km(K){var rt={exports:{}};return K(rt,rt.exports),rt.exports}pm.prototype={all:function(){return this._all(this.data,[])},search:function(K){var rt=this.data,nt=[],lt=this.toBBox;if(!tm(K,rt))return nt;for(var pt,lo,vo,vf,Cf=[];rt;){for(pt=0,lo=rt.children.length;pt<lo;pt++)vo=rt.children[pt],tm(K,vf=rt.leaf?lt(vo):vo)&&(rt.leaf?nt.push(vo):R0(K,vf)?this._all(vo,nt):Cf.push(vo));rt=Cf.pop()}return nt},collides:function(K){var rt=this.data,nt=this.toBBox;if(!tm(K,rt))return!1;for(var lt,pt,lo,vo,vf=[];rt;){for(lt=0,pt=rt.children.length;lt<pt;lt++)if(lo=rt.children[lt],tm(K,vo=rt.leaf?nt(lo):lo)){if(rt.leaf||R0(K,vo))return!0;vf.push(lo)}rt=vf.pop()}return!1},load:function(K){if(!K||!K.length)return this;if(K.length<this._minEntries){for(var rt=0,nt=K.length;rt<nt;rt++)this.insert(K[rt]);return this}var lt=this._build(K.slice(),0,K.length-1,0);if(this.data.children.length)if(this.data.height===lt.height)this._splitRoot(this.data,lt);else{if(this.data.height<lt.height){var pt=this.data;this.data=lt,lt=pt}this._insert(lt,this.data.height-lt.height-1,!0)}else this.data=lt;return this},insert:function(K){return K&&this._insert(K,this.data.height-1),this},clear:function(){return this.data=d0([]),this},remove:function(K,rt){if(!K)return this;for(var nt,lt,pt,lo,vo=this.data,vf=this.toBBox(K),Cf=[],Tf=[];vo||Cf.length;){if(vo||(vo=Cf.pop(),lt=Cf[Cf.length-1],nt=Tf.pop(),lo=!0),vo.leaf&&(pt=bv(K,vo.children,rt))!==-1)return vo.children.splice(pt,1),Cf.push(vo),this._condense(Cf),this;lo||vo.leaf||!R0(vo,vf)?lt?(nt++,vo=lt.children[nt],lo=!1):vo=null:(Cf.push(vo),Tf.push(nt),nt=0,lt=vo,vo=vo.children[0])}return this},toBBox:function(K){return K},compareMinX:_y,compareMinY:Wy,toJSON:function(){return this.data},fromJSON:function(K){return this.data=K,this},_all:function(K,rt){for(var nt=[];K;)K.leaf?rt.push.apply(rt,K.children):nt.push.apply(nt,K.children),K=nt.pop();return rt},_build:function(K,rt,nt,lt){var pt,lo=nt-rt+1,vo=this._maxEntries;if(lo<=vo)return um(pt=d0(K.slice(rt,nt+1)),this.toBBox),pt;lt||(lt=Math.ceil(Math.log(lo)/Math.log(vo)),vo=Math.ceil(lo/Math.pow(vo,lt-1))),(pt=d0([])).leaf=!1,pt.height=lt;var vf,Cf,Tf,Rf,Of=Math.ceil(lo/vo),Bf=Of*Math.ceil(Math.sqrt(vo));for($b(K,rt,nt,Bf,this.compareMinX),vf=rt;vf<=nt;vf+=Bf)for($b(K,vf,Tf=Math.min(vf+Bf-1,nt),Of,this.compareMinY),Cf=vf;Cf<=Tf;Cf+=Of)Rf=Math.min(Cf+Of-1,Tf),pt.children.push(this._build(K,Cf,Rf,lt-1));return um(pt,this.toBBox),pt},_chooseSubtree:function(K,rt,nt,lt){for(var pt,lo,vo,vf,Cf,Tf,Rf,Of,Bf,Gf;lt.push(rt),!rt.leaf&&lt.length-1!==nt;){for(Rf=Of=1/0,pt=0,lo=rt.children.length;pt<lo;pt++)Cf=L0(vo=rt.children[pt]),Bf=K,Gf=vo,(Tf=(Math.max(Gf.maxX,Bf.maxX)-Math.min(Gf.minX,Bf.minX))*(Math.max(Gf.maxY,Bf.maxY)-Math.min(Gf.minY,Bf.minY))-Cf)<Of?(Of=Tf,Rf=Cf<Rf?Cf:Rf,vf=vo):Tf===Of&&Cf<Rf&&(Rf=Cf,vf=vo);rt=vf||rt.children[0]}return rt},_insert:function(K,rt,nt){var lt=this.toBBox,pt=nt?K:lt(K),lo=[],vo=this._chooseSubtree(pt,this.data,rt,lo);for(vo.children.push(K),r0(vo,pt);rt>=0&&lo[rt].children.length>this._maxEntries;)this._split(lo,rt),rt--;this._adjustParentBBoxes(pt,lo,rt)},_split:function(K,rt){var nt=K[rt],lt=nt.children.length,pt=this._minEntries;this._chooseSplitAxis(nt,pt,lt);var lo=this._chooseSplitIndex(nt,pt,lt),vo=d0(nt.children.splice(lo,nt.children.length-lo));vo.height=nt.height,vo.leaf=nt.leaf,um(nt,this.toBBox),um(vo,this.toBBox),rt?K[rt-1].children.push(vo):this._splitRoot(nt,vo)},_splitRoot:function(K,rt){this.data=d0([K,rt]),this.data.height=K.height+1,this.data.leaf=!1,um(this.data,this.toBBox)},_chooseSplitIndex:function(K,rt,nt){var lt,pt,lo,vo,vf,Cf,Tf,Rf,Of,Bf,Gf,qf,Kf,Uf;for(Cf=Tf=1/0,lt=rt;lt<=nt-rt;lt++)pt=Y0(K,0,lt,this.toBBox),lo=Y0(K,lt,nt,this.toBBox),Of=pt,Bf=lo,Gf=void 0,qf=void 0,Kf=void 0,Uf=void 0,Gf=Math.max(Of.minX,Bf.minX),qf=Math.max(Of.minY,Bf.minY),Kf=Math.min(Of.maxX,Bf.maxX),Uf=Math.min(Of.maxY,Bf.maxY),vo=Math.max(0,Kf-Gf)*Math.max(0,Uf-qf),vf=L0(pt)+L0(lo),vo<Cf?(Cf=vo,Rf=lt,Tf=vf<Tf?vf:Tf):vo===Cf&&vf<Tf&&(Tf=vf,Rf=lt);return Rf},_chooseSplitAxis:function(K,rt,nt){var lt=K.leaf?this.compareMinX:_y,pt=K.leaf?this.compareMinY:Wy;this._allDistMargin(K,rt,nt,lt)<this._allDistMargin(K,rt,nt,pt)&&K.children.sort(lt)},_allDistMargin:function(K,rt,nt,lt){K.children.sort(lt);var pt,lo,vo=this.toBBox,vf=Y0(K,0,rt,vo),Cf=Y0(K,nt-rt,nt,vo),Tf=em(vf)+em(Cf);for(pt=rt;pt<nt-rt;pt++)lo=K.children[pt],r0(vf,K.leaf?vo(lo):lo),Tf+=em(vf);for(pt=nt-rt-1;pt>=rt;pt--)lo=K.children[pt],r0(Cf,K.leaf?vo(lo):lo),Tf+=em(Cf);return Tf},_adjustParentBBoxes:function(K,rt,nt){for(var lt=nt;lt>=0;lt--)r0(rt[lt],K)},_condense:function(K){for(var rt,nt=K.length-1;nt>=0;nt--)K[nt].children.length===0?nt>0?(rt=K[nt-1].children).splice(rt.indexOf(K[nt]),1):this.clear():um(K[nt],this.toBBox)},_initFormat:function(K){var rt=["return a"," - b",";"];this.compareMinX=new Function("a","b",rt.join(K[0])),this.compareMinY=new Function("a","b",rt.join(K[1])),this.toBBox=new Function("a","return {minX: a"+K[0]+", minY: a"+K[1]+", maxX: a"+K[2]+", maxY: a"+K[3]+"};")}},Zg.default=wm;var D0=function(K,rt,nt){var lt=K*rt,pt=ob*K,lo=pt-(pt-K),vo=K-lo,vf=ob*rt,Cf=vf-(vf-rt),Tf=rt-Cf,Rf=vo*Tf-(lt-lo*Cf-vo*Cf-lo*Tf);return nt?(nt[0]=Rf,nt[1]=lt,nt):[Rf,lt]},ob=+(Math.pow(2,27)+1),Z0=function(K,rt){var nt=0|K.length,lt=0|rt.length;if(nt===1&&lt===1)return function(vp,gp){var hg=vp+gp,tg=hg-vp,pg=vp-(hg-tg)+(gp-tg);return pg?[pg,hg]:[hg]}(K[0],rt[0]);var pt,lo,vo=new Array(nt+lt),vf=0,Cf=0,Tf=0,Rf=Math.abs,Of=K[Cf],Bf=Rf(Of),Gf=rt[Tf],qf=Rf(Gf);Bf<qf?(lo=Of,(Cf+=1)<nt&&(Of=K[Cf],Bf=Rf(Of))):(lo=Gf,(Tf+=1)<lt&&(Gf=rt[Tf],qf=Rf(Gf))),Cf<nt&&Bf<qf||Tf>=lt?(pt=Of,(Cf+=1)<nt&&(Of=K[Cf],Bf=Rf(Of))):(pt=Gf,(Tf+=1)<lt&&(Gf=rt[Tf],qf=Rf(Gf)));for(var Kf,Uf,lp=pt+lo,xp=lp-pt,Yf=lo-xp,sp=Yf,hp=lp;Cf<nt&&Tf<lt;)Bf<qf?(pt=Of,(Cf+=1)<nt&&(Of=K[Cf],Bf=Rf(Of))):(pt=Gf,(Tf+=1)<lt&&(Gf=rt[Tf],qf=Rf(Gf))),(Yf=(lo=sp)-(xp=(lp=pt+lo)-pt))&&(vo[vf++]=Yf),sp=hp-((Kf=hp+lp)-(Uf=Kf-hp))+(lp-Uf),hp=Kf;for(;Cf<nt;)(Yf=(lo=sp)-(xp=(lp=(pt=Of)+lo)-pt))&&(vo[vf++]=Yf),sp=hp-((Kf=hp+lp)-(Uf=Kf-hp))+(lp-Uf),hp=Kf,(Cf+=1)<nt&&(Of=K[Cf]);for(;Tf<lt;)(Yf=(lo=sp)-(xp=(lp=(pt=Gf)+lo)-pt))&&(vo[vf++]=Yf),sp=hp-((Kf=hp+lp)-(Uf=Kf-hp))+(lp-Uf),hp=Kf,(Tf+=1)<lt&&(Gf=rt[Tf]);return sp&&(vo[vf++]=sp),hp&&(vo[vf++]=hp),vf||(vo[vf++]=0),vo.length=vf,vo},Gv=function(K,rt,nt){var lt=K+rt,pt=lt-K,lo=rt-pt,vo=K-(lt-pt);return nt?(nt[0]=vo+lo,nt[1]=lt,nt):[vo+lo,lt]},cy=function(K,rt){var nt=K.length;if(nt===1){var lt=D0(K[0],rt);return lt[0]?lt:[lt[1]]}var pt=new Array(2*nt),lo=[.1,.1],vo=[.1,.1],vf=0;D0(K[0],rt,lo),lo[0]&&(pt[vf++]=lo[0]);for(var Cf=1;Cf<nt;++Cf){D0(K[Cf],rt,vo);var Tf=lo[1];Gv(Tf,vo[0],lo),lo[0]&&(pt[vf++]=lo[0]);var Rf=vo[1],Of=lo[1],Bf=Rf+Of,Gf=Of-(Bf-Rf);lo[1]=Bf,Gf&&(pt[vf++]=Gf)}return lo[1]&&(pt[vf++]=lo[1]),vf===0&&(pt[vf++]=0),pt.length=vf,pt},Hg=function(K,rt){var nt=0|K.length,lt=0|rt.length;if(nt===1&&lt===1)return function(vp,gp){var hg=vp+gp,tg=hg-vp,pg=vp-(hg-tg)+(gp-tg);return pg?[pg,hg]:[hg]}(K[0],-rt[0]);var pt,lo,vo=new Array(nt+lt),vf=0,Cf=0,Tf=0,Rf=Math.abs,Of=K[Cf],Bf=Rf(Of),Gf=-rt[Tf],qf=Rf(Gf);Bf<qf?(lo=Of,(Cf+=1)<nt&&(Of=K[Cf],Bf=Rf(Of))):(lo=Gf,(Tf+=1)<lt&&(Gf=-rt[Tf],qf=Rf(Gf))),Cf<nt&&Bf<qf||Tf>=lt?(pt=Of,(Cf+=1)<nt&&(Of=K[Cf],Bf=Rf(Of))):(pt=Gf,(Tf+=1)<lt&&(Gf=-rt[Tf],qf=Rf(Gf)));for(var Kf,Uf,lp=pt+lo,xp=lp-pt,Yf=lo-xp,sp=Yf,hp=lp;Cf<nt&&Tf<lt;)Bf<qf?(pt=Of,(Cf+=1)<nt&&(Of=K[Cf],Bf=Rf(Of))):(pt=Gf,(Tf+=1)<lt&&(Gf=-rt[Tf],qf=Rf(Gf))),(Yf=(lo=sp)-(xp=(lp=pt+lo)-pt))&&(vo[vf++]=Yf),sp=hp-((Kf=hp+lp)-(Uf=Kf-hp))+(lp-Uf),hp=Kf;for(;Cf<nt;)(Yf=(lo=sp)-(xp=(lp=(pt=Of)+lo)-pt))&&(vo[vf++]=Yf),sp=hp-((Kf=hp+lp)-(Uf=Kf-hp))+(lp-Uf),hp=Kf,(Cf+=1)<nt&&(Of=K[Cf]);for(;Tf<lt;)(Yf=(lo=sp)-(xp=(lp=(pt=Gf)+lo)-pt))&&(vo[vf++]=Yf),sp=hp-((Kf=hp+lp)-(Uf=Kf-hp))+(lp-Uf),hp=Kf,(Tf+=1)<lt&&(Gf=-rt[Tf]);return sp&&(vo[vf++]=sp),hp&&(vo[vf++]=hp),vf||(vo[vf++]=0),vo.length=vf,vo},eg=km(function(K){function rt(Tf,Rf){for(var Of=new Array(Tf.length-1),Bf=1;Bf<Tf.length;++Bf)for(var Gf=Of[Bf-1]=new Array(Tf.length-1),qf=0,Kf=0;qf<Tf.length;++qf)qf!==Rf&&(Gf[Kf++]=Tf[Bf][qf]);return Of}function nt(Tf){if(Tf.length===1)return Tf[0];if(Tf.length===2)return["sum(",Tf[0],",",Tf[1],")"].join("");var Rf=Tf.length>>1;return["sum(",nt(Tf.slice(0,Rf)),",",nt(Tf.slice(Rf)),")"].join("")}function lt(Tf){if(Tf.length===2)return[["sum(prod(",Tf[0][0],",",Tf[1][1],"),prod(-",Tf[0][1],",",Tf[1][0],"))"].join("")];for(var Rf=[],Of=0;Of<Tf.length;++Of)Rf.push(["scale(",nt(lt(rt(Tf,Of))),",",(Bf=Of,1&Bf?"-":""),Tf[0][Of],")"].join(""));return Rf;var Bf}function pt(Tf){for(var Rf=[],Of=[],Bf=function(Yf){for(var sp=new Array(Yf),hp=0;hp<Yf;++hp){sp[hp]=new Array(Yf);for(var vp=0;vp<Yf;++vp)sp[hp][vp]=["m",vp,"[",Yf-hp-1,"]"].join("")}return sp}(Tf),Gf=[],qf=0;qf<Tf;++qf)1&qf?Of.push.apply(Of,lt(rt(Bf,qf))):Rf.push.apply(Rf,lt(rt(Bf,qf))),Gf.push("m"+qf);var Kf=nt(Rf),Uf=nt(Of),lp="orientation"+Tf+"Exact",xp=["function ",lp,"(",Gf.join(),"){var p=",Kf,",n=",Uf,",d=sub(p,n);return d[d.length-1];};return ",lp].join("");return new Function("sum","prod","scale","sub",xp)(Z0,D0,cy,Hg)}var lo=pt(3),vo=pt(4),vf=[function(){return 0},function(){return 0},function(Tf,Rf){return Rf[0]-Tf[0]},function(Tf,Rf,Of){var Bf,Gf=(Tf[1]-Of[1])*(Rf[0]-Of[0]),qf=(Tf[0]-Of[0])*(Rf[1]-Of[1]),Kf=Gf-qf;if(Gf>0){if(qf<=0)return Kf;Bf=Gf+qf}else{if(!(Gf<0)||qf>=0)return Kf;Bf=-(Gf+qf)}var Uf=33306690738754716e-32*Bf;return Kf>=Uf||Kf<=-Uf?Kf:lo(Tf,Rf,Of)},function(Tf,Rf,Of,Bf){var Gf=Tf[0]-Bf[0],qf=Rf[0]-Bf[0],Kf=Of[0]-Bf[0],Uf=Tf[1]-Bf[1],lp=Rf[1]-Bf[1],xp=Of[1]-Bf[1],Yf=Tf[2]-Bf[2],sp=Rf[2]-Bf[2],hp=Of[2]-Bf[2],vp=qf*xp,gp=Kf*lp,hg=Kf*Uf,tg=Gf*xp,pg=Gf*lp,rg=qf*Uf,_g=Yf*(vp-gp)+sp*(hg-tg)+hp*(pg-rg),lg=7771561172376103e-31*((Math.abs(vp)+Math.abs(gp))*Math.abs(Yf)+(Math.abs(hg)+Math.abs(tg))*Math.abs(sp)+(Math.abs(pg)+Math.abs(rg))*Math.abs(hp));return _g>lg||-_g>lg?_g:vo(Tf,Rf,Of,Bf)}];function Cf(Tf){var Rf=vf[Tf.length];return Rf||(Rf=vf[Tf.length]=pt(Tf.length)),Rf.apply(void 0,Tf)}(function(){for(;vf.length<=5;)vf.push(pt(vf.length));for(var Tf=[],Rf=["slow"],Of=0;Of<=5;++Of)Tf.push("a"+Of),Rf.push("o"+Of);var Bf=["function getOrientation(",Tf.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(Of=2;Of<=5;++Of)Bf.push("case ",Of,":return o",Of,"(",Tf.slice(0,Of).join(),");");Bf.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),Rf.push(Bf.join(""));var Gf=Function.apply(void 0,Rf);for(K.exports=Gf.apply(void 0,[Cf].concat(vf)),Of=0;Of<=5;++Of)K.exports[Of]=vf[Of]})()}),Pg=function(K){var rt=K.length;if(rt<3){for(var nt=new Array(rt),lt=0;lt<rt;++lt)nt[lt]=lt;return rt===2&&K[0][0]===K[1][0]&&K[0][1]===K[1][1]?[0]:nt}var pt=new Array(rt);for(lt=0;lt<rt;++lt)pt[lt]=lt;pt.sort(function(Gf,qf){var Kf=K[Gf][0]-K[qf][0];return Kf||K[Gf][1]-K[qf][1]});var lo=[pt[0],pt[1]],vo=[pt[0],pt[1]];for(lt=2;lt<rt;++lt){for(var vf=pt[lt],Cf=K[vf],Tf=lo.length;Tf>1&&Kg(K[lo[Tf-2]],K[lo[Tf-1]],Cf)<=0;)Tf-=1,lo.pop();for(lo.push(vf),Tf=vo.length;Tf>1&&Kg(K[vo[Tf-2]],K[vo[Tf-1]],Cf)>=0;)Tf-=1,vo.pop();vo.push(vf)}nt=new Array(vo.length+lo.length-2);for(var Rf=0,Of=(lt=0,lo.length);lt<Of;++lt)nt[Rf++]=lo[lt];for(var Bf=vo.length-2;Bf>0;--Bf)nt[Rf++]=vo[Bf];return nt},Kg=eg[3],Ev=vv,jv=vv;function vv(K,rt){if(!(this instanceof vv))return new vv(K,rt);if(this.data=K||[],this.length=this.data.length,this.compare=rt||Hv,this.length>0)for(var nt=(this.length>>1)-1;nt>=0;nt--)this._down(nt)}function Hv(K,rt){return K<rt?-1:K>rt?1:0}vv.prototype={push:function(K){this.data.push(K),this.length++,this._up(this.length-1)},pop:function(){if(this.length!==0){var K=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),K}},peek:function(){return this.data[0]},_up:function(K){for(var rt=this.data,nt=this.compare,lt=rt[K];K>0;){var pt=K-1>>1,lo=rt[pt];if(nt(lt,lo)>=0)break;rt[K]=lo,K=pt}rt[K]=lt},_down:function(K){for(var rt=this.data,nt=this.compare,lt=this.length>>1,pt=rt[K];K<lt;){var lo=1+(K<<1),vo=lo+1,vf=rt[lo];if(vo<this.length&&nt(rt[vo],vf)<0&&(lo=vo,vf=rt[vo]),nt(vf,pt)>=0)break;rt[K]=vf,K=lo}rt[K]=pt}},Ev.default=jv;var hy=function(K,rt){for(var nt=K[0],lt=K[1],pt=!1,lo=0,vo=rt.length-1;lo<rt.length;vo=lo++){var vf=rt[lo][0],Cf=rt[lo][1],Tf=rt[vo][0],Rf=rt[vo][1];Cf>lt!=Rf>lt&&nt<(Tf-vf)*(lt-Cf)/(Rf-Cf)+vf&&(pt=!pt)}return pt},Ly=eg[3],Jv=Ry,n1=Ry;function Ry(K,rt,nt){rt=Math.max(0,rt===void 0?2:rt),nt=nt||0;for(var lt,pt=function(xp){for(var Yf=xp[0],sp=xp[0],hp=xp[0],vp=xp[0],gp=0;gp<xp.length;gp++){var hg=xp[gp];hg[0]<Yf[0]&&(Yf=hg),hg[0]>hp[0]&&(hp=hg),hg[1]<sp[1]&&(sp=hg),hg[1]>vp[1]&&(vp=hg)}var tg=[Yf,sp,hp,vp],pg=tg.slice();for(gp=0;gp<xp.length;gp++)hy(xp[gp],tg)||pg.push(xp[gp]);var rg=Pg(pg),_g=[];for(gp=0;gp<rg.length;gp++)_g.push(pg[rg[gp]]);return _g}(K),lo=Zg(16,["[0]","[1]","[0]","[1]"]).load(K),vo=[],vf=0;vf<pt.length;vf++){var Cf=pt[vf];lo.remove(Cf),lt=J0(Cf,lt),vo.push(lt)}var Tf=Zg(16);for(vf=0;vf<vo.length;vf++)Tf.insert(Xm(vo[vf]));for(var Rf=rt*rt,Of=nt*nt;vo.length;){var Bf=vo.shift(),Gf=Bf.p,qf=Bf.next.p,Kf=ab(Gf,qf);if(!(Kf<Of)){var Uf=Kf/Rf;(Cf=N0(lo,Bf.prev.p,Gf,qf,Bf.next.next.p,Uf,Tf))&&Math.min(ab(Cf,Gf),ab(Cf,qf))<=Uf&&(vo.push(Bf),vo.push(J0(Cf,Bf)),lo.remove(Cf),Tf.remove(Bf),Tf.insert(Xm(Bf)),Tf.insert(Xm(Bf.next)))}}Bf=lt;var lp=[];do lp.push(Bf.p),Bf=Bf.next;while(Bf!==lt);return lp.push(Bf.p),lp}function N0(K,rt,nt,lt,pt,lo,vo){for(var vf=new Ev(null,Fb),Cf=K.data;Cf;){for(var Tf=0;Tf<Cf.children.length;Tf++){var Rf=Cf.children[Tf],Of=Cf.leaf?Gy(Rf,nt,lt):sb(nt,lt,Rf);Of>lo||vf.push({node:Rf,dist:Of})}for(;vf.length&&!vf.peek().node.children;){var Bf=vf.pop(),Gf=Bf.node,qf=Gy(Gf,rt,nt),Kf=Gy(Gf,lt,pt);if(Bf.dist<qf&&Bf.dist<Kf&&Fm(nt,Gf,vo)&&Fm(lt,Gf,vo))return Gf}(Cf=vf.pop())&&(Cf=Cf.node)}return null}function Fb(K,rt){return K.dist-rt.dist}function sb(K,rt,nt){if(ov(K,nt)||ov(rt,nt))return 0;var lt=lb(K[0],K[1],rt[0],rt[1],nt.minX,nt.minY,nt.maxX,nt.minY);if(lt===0)return 0;var pt=lb(K[0],K[1],rt[0],rt[1],nt.minX,nt.minY,nt.minX,nt.maxY);if(pt===0)return 0;var lo=lb(K[0],K[1],rt[0],rt[1],nt.maxX,nt.minY,nt.maxX,nt.maxY);if(lo===0)return 0;var vo=lb(K[0],K[1],rt[0],rt[1],nt.minX,nt.maxY,nt.maxX,nt.maxY);return vo===0?0:Math.min(lt,pt,lo,vo)}function ov(K,rt){return K[0]>=rt.minX&&K[0]<=rt.maxX&&K[1]>=rt.minY&&K[1]<=rt.maxY}function Fm(K,rt,nt){for(var lt,pt,lo,vo,vf=Math.min(K[0],rt[0]),Cf=Math.min(K[1],rt[1]),Tf=Math.max(K[0],rt[0]),Rf=Math.max(K[1],rt[1]),Of=nt.search({minX:vf,minY:Cf,maxX:Tf,maxY:Rf}),Bf=0;Bf<Of.length;Bf++)if(lt=Of[Bf].p,pt=Of[Bf].next.p,lo=K,lt!==(vo=rt)&&pt!==lo&&Ly(lt,pt,lo)>0!=Ly(lt,pt,vo)>0&&Ly(lo,vo,lt)>0!=Ly(lo,vo,pt)>0)return!1;return!0}function Xm(K){var rt=K.p,nt=K.next.p;return K.minX=Math.min(rt[0],nt[0]),K.minY=Math.min(rt[1],nt[1]),K.maxX=Math.max(rt[0],nt[0]),K.maxY=Math.max(rt[1],nt[1]),K}function J0(K,rt){var nt={p:K,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return rt?(nt.next=rt.next,nt.prev=rt,rt.next.prev=nt,rt.next=nt):(nt.prev=nt,nt.next=nt),nt}function ab(K,rt){var nt=K[0]-rt[0],lt=K[1]-rt[1];return nt*nt+lt*lt}function Gy(K,rt,nt){var lt=rt[0],pt=rt[1],lo=nt[0]-lt,vo=nt[1]-pt;if(lo!==0||vo!==0){var vf=((K[0]-lt)*lo+(K[1]-pt)*vo)/(lo*lo+vo*vo);vf>1?(lt=nt[0],pt=nt[1]):vf>0&&(lt+=lo*vf,pt+=vo*vf)}return(lo=K[0]-lt)*lo+(vo=K[1]-pt)*vo}function lb(K,rt,nt,lt,pt,lo,vo,vf){var Cf,Tf,Rf,Of,Bf=nt-K,Gf=lt-rt,qf=vo-pt,Kf=vf-lo,Uf=K-pt,lp=rt-lo,xp=Bf*Bf+Gf*Gf,Yf=Bf*qf+Gf*Kf,sp=qf*qf+Kf*Kf,hp=Bf*Uf+Gf*lp,vp=qf*Uf+Kf*lp,gp=xp*sp-Yf*Yf,hg=gp,tg=gp;gp===0?(Tf=0,hg=1,Of=vp,tg=sp):(Of=xp*vp-Yf*hp,(Tf=Yf*vp-sp*hp)<0?(Tf=0,Of=vp,tg=sp):Tf>hg&&(Tf=hg,Of=vp+Yf,tg=sp)),Of<0?(Of=0,-hp<0?Tf=0:-hp>xp?Tf=hg:(Tf=-hp,hg=xp)):Of>tg&&(Of=tg,-hp+Yf<0?Tf=0:-hp+Yf>xp?Tf=hg:(Tf=-hp+Yf,hg=xp));var pg=(1-(Rf=Of===0?0:Of/tg))*pt+Rf*vo-((1-(Cf=Tf===0?0:Tf/hg))*K+Cf*nt),rg=(1-Rf)*lo+Rf*vf-((1-Cf)*rt+Cf*lt);return pg*pg+rg*rg}function gm(K,rt){rt===void 0&&(rt={}),rt.concavity=rt.concavity||1/0;var nt=[];if($f(K,function(pt){nt.push([pt[0],pt[1]])}),!nt.length)return null;var lt=Jv(nt,rt.concavity);return lt.length>3?uo([lt]):null}function dm(K,rt,nt){if(nt===void 0&&(nt={}),!K)throw new Error("point is required");if(!rt)throw new Error("polygon is required");var lt=ip(K),pt=Rp(rt),lo=pt.type,vo=rt.bbox,vf=pt.coordinates;if(vo&&function(Bf,Gf){return Gf[0]<=Bf[0]&&Gf[1]<=Bf[1]&&Gf[2]>=Bf[0]&&Gf[3]>=Bf[1]}(lt,vo)===!1)return!1;lo==="Polygon"&&(vf=[vf]);for(var Cf=!1,Tf=0;Tf<vf.length&&!Cf;Tf++)if(o1(lt,vf[Tf][0],nt.ignoreBoundary)){for(var Rf=!1,Of=1;Of<vf[Tf].length&&!Rf;)o1(lt,vf[Tf][Of],!nt.ignoreBoundary)&&(Rf=!0),Of++;Rf||(Cf=!0)}return Cf}function o1(K,rt,nt){var lt=!1;rt[0][0]===rt[rt.length-1][0]&&rt[0][1]===rt[rt.length-1][1]&&(rt=rt.slice(0,rt.length-1));for(var pt=0,lo=rt.length-1;pt<rt.length;lo=pt++){var vo=rt[pt][0],vf=rt[pt][1],Cf=rt[lo][0],Tf=rt[lo][1];if(K[1]*(vo-Cf)+vf*(Cf-K[0])+Tf*(K[0]-vo)==0&&(vo-K[0])*(Cf-K[0])<=0&&(vf-K[1])*(Tf-K[1])<=0)return!nt;vf>K[1]!=Tf>K[1]&&K[0]<(Cf-vo)*(K[1]-vf)/(Tf-vf)+vo&&(lt=!lt)}return lt}function nm(K,rt){var nt=[];return fp(K,function(lt){var pt=!1;if(lt.geometry.type==="Point")Pp(rt,function(vo){dm(lt,vo)&&(pt=!0)}),pt&&nt.push(lt);else{if(lt.geometry.type!=="MultiPoint")throw new Error("Input geometry must be a Point or MultiPoint");var lo=[];Pp(rt,function(vo){$f(lt,function(vf){dm(vf,vo)&&(pt=!0,lo.push(vf))})}),pt&&nt.push(wf(lo))}}),uf(nt)}function Cm(K,rt,nt){nt===void 0&&(nt={});var lt=ip(K),pt=ip(rt),lo=Sf(pt[1]-lt[1]),vo=Sf(pt[0]-lt[0]),vf=Sf(lt[1]),Cf=Sf(pt[1]),Tf=Math.pow(Math.sin(lo/2),2)+Math.pow(Math.sin(vo/2),2)*Math.cos(vf)*Math.cos(Cf);return po(2*Math.atan2(Math.sqrt(Tf),Math.sqrt(1-Tf)),nt.units)}function ub(K,rt){var nt=!1;return uf(function(lt){if(lt.length<3)return[];lt.sort(Q0);for(var pt,lo,vo,vf,Cf,Tf,Rf=lt.length-1,Of=lt[Rf].x,Bf=lt[0].x,Gf=lt[Rf].y,qf=Gf,Kf=1e-12;Rf--;)lt[Rf].y<Gf&&(Gf=lt[Rf].y),lt[Rf].y>qf&&(qf=lt[Rf].y);var Uf,lp=Bf-Of,xp=qf-Gf,Yf=lp>xp?lp:xp,sp=.5*(Bf+Of),hp=.5*(qf+Gf),vp=[new zb({__sentinel:!0,x:sp-20*Yf,y:hp-Yf},{__sentinel:!0,x:sp,y:hp+20*Yf},{__sentinel:!0,x:sp+20*Yf,y:hp-Yf})],gp=[],hg=[];for(Rf=lt.length;Rf--;){for(hg.length=0,Uf=vp.length;Uf--;)(lp=lt[Rf].x-vp[Uf].x)>0&&lp*lp>vp[Uf].r?(gp.push(vp[Uf]),vp.splice(Uf,1)):lp*lp+(xp=lt[Rf].y-vp[Uf].y)*xp>vp[Uf].r||(hg.push(vp[Uf].a,vp[Uf].b,vp[Uf].b,vp[Uf].c,vp[Uf].c,vp[Uf].a),vp.splice(Uf,1));for(Qv(hg),Uf=hg.length;Uf;)lo=hg[--Uf],pt=hg[--Uf],vo=lt[Rf],vf=lo.x-pt.x,Cf=lo.y-pt.y,Tf=2*(vf*(vo.y-lo.y)-Cf*(vo.x-lo.x)),Math.abs(Tf)>Kf&&vp.push(new zb(pt,lo,vo))}for(Array.prototype.push.apply(gp,vp),Rf=gp.length;Rf--;)(gp[Rf].a.__sentinel||gp[Rf].b.__sentinel||gp[Rf].c.__sentinel)&&gp.splice(Rf,1);return gp}(K.features.map(function(lt){var pt={x:lt.geometry.coordinates[0],y:lt.geometry.coordinates[1]};return rt?pt.z=lt.properties[rt]:lt.geometry.coordinates.length===3&&(nt=!0,pt.z=lt.geometry.coordinates[2]),pt})).map(function(lt){var pt=[lt.a.x,lt.a.y],lo=[lt.b.x,lt.b.y],vo=[lt.c.x,lt.c.y],vf={};return nt?(pt.push(lt.a.z),lo.push(lt.b.z),vo.push(lt.c.z)):vf={a:lt.a.z,b:lt.b.z,c:lt.c.z},uo([[pt,lo,vo,pt]],vf)}))}Jv.default=n1;var zb=function(K,rt,nt){this.a=K,this.b=rt,this.c=nt;var lt,pt,lo=rt.x-K.x,vo=rt.y-K.y,vf=nt.x-K.x,Cf=nt.y-K.y,Tf=lo*(K.x+rt.x)+vo*(K.y+rt.y),Rf=vf*(K.x+nt.x)+Cf*(K.y+nt.y),Of=2*(lo*(nt.y-rt.y)-vo*(nt.x-rt.x));this.x=(Cf*Tf-vo*Rf)/Of,this.y=(lo*Rf-vf*Tf)/Of,lt=this.x-K.x,pt=this.y-K.y,this.r=lt*lt+pt*pt};function Q0(K,rt){return rt.x-K.x}function Qv(K){var rt,nt,lt,pt,lo,vo=K.length;e:for(;vo;)for(nt=K[--vo],rt=K[--vo],lt=vo;lt;)if(lo=K[--lt],rt===(pt=K[--lt])&&nt===lo||rt===lo&&nt===pt){K.splice(vo,2),K.splice(lt,2),vo-=2;continue e}}function Iv(K){if(!K)throw new Error("geojson is required");switch(K.type){case"Feature":return qy(K);case"FeatureCollection":return function(rt){var nt={type:"FeatureCollection"};return Object.keys(rt).forEach(function(lt){switch(lt){case"type":case"features":return;default:nt[lt]=rt[lt]}}),nt.features=rt.features.map(function(lt){return qy(lt)}),nt}(K);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Eb(K);default:throw new Error("unknown GeoJSON type")}}function qy(K){var rt={type:"Feature"};return Object.keys(K).forEach(function(nt){switch(nt){case"type":case"properties":case"geometry":return;default:rt[nt]=K[nt]}}),rt.properties=dy(K.properties),rt.geometry=Eb(K.geometry),rt}function dy(K){var rt={};return K&&Object.keys(K).forEach(function(nt){var lt=K[nt];typeof lt=="object"?lt===null?rt[nt]=null:Array.isArray(lt)?rt[nt]=lt.map(function(pt){return pt}):rt[nt]=dy(lt):rt[nt]=lt}),rt}function Eb(K){var rt={type:K.type};return K.bbox&&(rt.bbox=K.bbox),K.type==="GeometryCollection"?(rt.geometries=K.geometries.map(function(nt){return Eb(nt)}),rt):(rt.coordinates=Dy(K.coordinates),rt)}function Dy(K){var rt=K;return typeof rt[0]!="object"?rt.slice():rt.map(function(nt){return Dy(nt)})}function _p(K,rt){if(rt===void 0&&(rt={}),!Pf(rt=rt||{}))throw new Error("options is invalid");var nt=rt.mutate;if(Up(K)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!K.features.length)throw new Error("geojson is empty");nt!==!1&&nt!==void 0||(K=Iv(K));var lt=[],pt=Fp(K,function(lo,vo){var vf=function(Cf,Tf){var Rf,Of=Cf.geometry.coordinates,Bf=Tf.geometry.coordinates,Gf=Lp(Of[0]),qf=Lp(Of[Of.length-1]),Kf=Lp(Bf[0]),Uf=Lp(Bf[Bf.length-1]);if(Gf===Uf)Rf=Bf.concat(Of.slice(1));else if(Kf===qf)Rf=Of.concat(Bf.slice(1));else if(Gf===Kf)Rf=Of.slice(1).reverse().concat(Bf);else{if(qf!==Uf)return null;Rf=Of.concat(Bf.reverse().slice(1))}return yo(Rf)}(lo,vo);return vf||(lt.push(lo),vo)});return pt&&lt.push(pt),lt.length?lt.length===1?lt[0]:df(lt.map(function(lo){return lo.coordinates})):null}function Lp(K){return K[0].toString()+","+K[1].toString()}function Xp(K){return K}function vg(K,rt){var nt=function(Tf){if(Tf==null)return Xp;var Rf,Of,Bf=Tf.scale[0],Gf=Tf.scale[1],qf=Tf.translate[0],Kf=Tf.translate[1];return function(Uf,lp){lp||(Rf=Of=0);var xp=2,Yf=Uf.length,sp=new Array(Yf);for(sp[0]=(Rf+=Uf[0])*Bf+qf,sp[1]=(Of+=Uf[1])*Gf+Kf;xp<Yf;)sp[xp]=Uf[xp],++xp;return sp}}(K.transform),lt=K.arcs;function pt(Tf,Rf){Rf.length&&Rf.pop();for(var Of=lt[Tf<0?~Tf:Tf],Bf=0,Gf=Of.length;Bf<Gf;++Bf)Rf.push(nt(Of[Bf],Bf));Tf<0&&function(qf,Kf){for(var Uf,lp=qf.length,xp=lp-Kf;xp<--lp;)Uf=qf[xp],qf[xp++]=qf[lp],qf[lp]=Uf}(Rf,Gf)}function lo(Tf){return nt(Tf)}function vo(Tf){for(var Rf=[],Of=0,Bf=Tf.length;Of<Bf;++Of)pt(Tf[Of],Rf);return Rf.length<2&&Rf.push(Rf[0]),Rf}function vf(Tf){for(var Rf=vo(Tf);Rf.length<4;)Rf.push(Rf[0]);return Rf}function Cf(Tf){return Tf.map(vf)}return function Tf(Rf){var Of,Bf=Rf.type;switch(Bf){case"GeometryCollection":return{type:Bf,geometries:Rf.geometries.map(Tf)};case"Point":Of=lo(Rf.coordinates);break;case"MultiPoint":Of=Rf.coordinates.map(lo);break;case"LineString":Of=vo(Rf.arcs);break;case"MultiLineString":Of=Rf.arcs.map(vo);break;case"Polygon":Of=Cf(Rf.arcs);break;case"MultiPolygon":Of=Rf.arcs.map(Cf);break;default:return null}return{type:Bf,coordinates:Of}}(rt)}function Og(K,rt){var nt={},lt={},pt={},lo=[],vo=-1;function vf(Cf,Tf){for(var Rf in Cf){var Of=Cf[Rf];delete Tf[Of.start],delete Of.start,delete Of.end,Of.forEach(function(Bf){nt[Bf<0?~Bf:Bf]=1}),lo.push(Of)}}return rt.forEach(function(Cf,Tf){var Rf,Of=K.arcs[Cf<0?~Cf:Cf];Of.length<3&&!Of[1][0]&&!Of[1][1]&&(Rf=rt[++vo],rt[vo]=Cf,rt[Tf]=Rf)}),rt.forEach(function(Cf){var Tf,Rf,Of=function(Uf){var lp,xp=K.arcs[Uf<0?~Uf:Uf],Yf=xp[0];return K.transform?(lp=[0,0],xp.forEach(function(sp){lp[0]+=sp[0],lp[1]+=sp[1]})):lp=xp[xp.length-1],Uf<0?[lp,Yf]:[Yf,lp]}(Cf),Bf=Of[0],Gf=Of[1];if(Tf=pt[Bf])if(delete pt[Tf.end],Tf.push(Cf),Tf.end=Gf,Rf=lt[Gf]){delete lt[Rf.start];var qf=Rf===Tf?Tf:Tf.concat(Rf);lt[qf.start=Tf.start]=pt[qf.end=Rf.end]=qf}else lt[Tf.start]=pt[Tf.end]=Tf;else if(Tf=lt[Gf])if(delete lt[Tf.start],Tf.unshift(Cf),Tf.start=Bf,Rf=pt[Bf]){delete pt[Rf.end];var Kf=Rf===Tf?Tf:Rf.concat(Tf);lt[Kf.start=Rf.start]=pt[Kf.end=Tf.end]=Kf}else lt[Tf.start]=pt[Tf.end]=Tf;else lt[(Tf=[Cf]).start=Bf]=pt[Tf.end=Gf]=Tf}),vf(pt,lt),vf(lt,pt),rt.forEach(function(Cf){nt[Cf<0?~Cf:Cf]||lo.push([Cf])}),lo}function Xg(K,rt){var nt={},lt=[],pt=[];function lo(vf){vf.forEach(function(Cf){Cf.forEach(function(Tf){(nt[Tf=Tf<0?~Tf:Tf]||(nt[Tf]=[])).push(vf)})}),lt.push(vf)}function vo(vf){return function(Cf){for(var Tf,Rf=-1,Of=Cf.length,Bf=Cf[Of-1],Gf=0;++Rf<Of;)Tf=Bf,Bf=Cf[Rf],Gf+=Tf[0]*Bf[1]-Tf[1]*Bf[0];return Math.abs(Gf)}(vg(K,{type:"Polygon",arcs:[vf]}).coordinates[0])}return rt.forEach(function vf(Cf){switch(Cf.type){case"GeometryCollection":Cf.geometries.forEach(vf);break;case"Polygon":lo(Cf.arcs);break;case"MultiPolygon":Cf.arcs.forEach(lo)}}),lt.forEach(function(vf){if(!vf._){var Cf=[],Tf=[vf];for(vf._=1,pt.push(Cf);vf=Tf.pop();)Cf.push(vf),vf.forEach(function(Rf){Rf.forEach(function(Of){nt[Of<0?~Of:Of].forEach(function(Bf){Bf._||(Bf._=1,Tf.push(Bf))})})})}}),lt.forEach(function(vf){delete vf._}),{type:"MultiPolygon",arcs:pt.map(function(vf){var Cf,Tf=[];if(vf.forEach(function(qf){qf.forEach(function(Kf){Kf.forEach(function(Uf){nt[Uf<0?~Uf:Uf].length<2&&Tf.push(Uf)})})}),(Cf=(Tf=Og(K,Tf)).length)>1)for(var Rf,Of,Bf=1,Gf=vo(Tf[0]);Bf<Cf;++Bf)(Rf=vo(Tf[Bf]))>Gf&&(Of=Tf[0],Tf[0]=Tf[Bf],Tf[Bf]=Of,Gf=Rf);return Tf}).filter(function(vf){return vf.length>0})}}var Dm=Object.prototype.hasOwnProperty;function qv(K,rt,nt,lt,pt,lo){arguments.length===3&&(lt=lo=Array,pt=null);for(var vo=new lt(K=1<<Math.max(4,Math.ceil(Math.log(K)/Math.LN2))),vf=new lo(K),Cf=K-1,Tf=0;Tf<K;++Tf)vo[Tf]=pt;function Rf(qf,Kf){for(var Uf=rt(qf)&Cf,lp=vo[Uf],xp=0;lp!=pt;){if(nt(lp,qf))return vf[Uf]=Kf;if(++xp>=K)throw new Error("full hashmap");lp=vo[Uf=Uf+1&Cf]}return vo[Uf]=qf,vf[Uf]=Kf,Kf}function Of(qf,Kf){for(var Uf=rt(qf)&Cf,lp=vo[Uf],xp=0;lp!=pt;){if(nt(lp,qf))return vf[Uf];if(++xp>=K)throw new Error("full hashmap");lp=vo[Uf=Uf+1&Cf]}return vo[Uf]=qf,vf[Uf]=Kf,Kf}function Bf(qf,Kf){for(var Uf=rt(qf)&Cf,lp=vo[Uf],xp=0;lp!=pt;){if(nt(lp,qf))return vf[Uf];if(++xp>=K)break;lp=vo[Uf=Uf+1&Cf]}return Kf}function Gf(){for(var qf=[],Kf=0,Uf=vo.length;Kf<Uf;++Kf){var lp=vo[Kf];lp!=pt&&qf.push(lp)}return qf}return{set:Rf,maybeSet:Of,get:Bf,keys:Gf}}function Yv(K,rt){return K[0]===rt[0]&&K[1]===rt[1]}var cm=new ArrayBuffer(16),s0=new Float64Array(cm),_m=new Uint32Array(cm);function Ny(K){s0[0]=K[0],s0[1]=K[1];var rt=_m[0]^_m[1];return 2147483647&(rt=rt<<5^rt>>7^_m[2]^_m[3])}function Sx(K){var rt,nt,lt,pt,lo=K.coordinates,vo=K.lines,vf=K.rings,Cf=function(){for(var tg=qv(1.4*lo.length,hp,vp,Int32Array,-1,Int32Array),pg=new Int32Array(lo.length),rg=0,_g=lo.length;rg<_g;++rg)pg[rg]=tg.maybeSet(rg,rg);return pg}(),Tf=new Int32Array(lo.length),Rf=new Int32Array(lo.length),Of=new Int32Array(lo.length),Bf=new Int8Array(lo.length),Gf=0;for(rt=0,nt=lo.length;rt<nt;++rt)Tf[rt]=Rf[rt]=Of[rt]=-1;for(rt=0,nt=vo.length;rt<nt;++rt){var qf=vo[rt],Kf=qf[0],Uf=qf[1];for(lt=Cf[Kf],pt=Cf[++Kf],++Gf,Bf[lt]=1;++Kf<=Uf;)sp(rt,lt,lt=pt,pt=Cf[Kf]);++Gf,Bf[pt]=1}for(rt=0,nt=lo.length;rt<nt;++rt)Tf[rt]=-1;for(rt=0,nt=vf.length;rt<nt;++rt){var lp=vf[rt],xp=lp[0]+1,Yf=lp[1];for(sp(rt,Cf[Yf-1],lt=Cf[xp-1],pt=Cf[xp]);++xp<=Yf;)sp(rt,lt,lt=pt,pt=Cf[xp])}function sp(tg,pg,rg,_g){if(Tf[rg]!==tg){Tf[rg]=tg;var lg=Rf[rg];if(lg>=0){var ag=Of[rg];lg===pg&&ag===_g||lg===_g&&ag===pg||(++Gf,Bf[rg]=1)}else Rf[rg]=pg,Of[rg]=_g}}function hp(tg){return Ny(lo[tg])}function vp(tg,pg){return Yv(lo[tg],lo[pg])}Tf=Rf=Of=null;var gp,hg=function(tg,pg,rg,_g,lg){arguments.length===3&&(_g=Array,lg=null);for(var ag=new _g(tg=1<<Math.max(4,Math.ceil(Math.log(tg)/Math.LN2))),ig=tg-1,yg=0;yg<tg;++yg)ag[yg]=lg;function cg(om){for(var Rg=pg(om)&ig,Lm=ag[Rg],Qg=0;Lm!=lg;){if(rg(Lm,om))return!0;if(++Qg>=tg)throw new Error("full hashset");Lm=ag[Rg=Rg+1&ig]}return ag[Rg]=om,!0}function xg(om){for(var Rg=pg(om)&ig,Lm=ag[Rg],Qg=0;Lm!=lg;){if(rg(Lm,om))return!0;if(++Qg>=tg)break;Lm=ag[Rg=Rg+1&ig]}return!1}function Wp(){for(var om=[],Rg=0,Lm=ag.length;Rg<Lm;++Rg){var Qg=ag[Rg];Qg!=lg&&om.push(Qg)}return om}return{add:cg,has:xg,values:Wp}}(1.4*Gf,Ny,Yv);for(rt=0,nt=lo.length;rt<nt;++rt)Bf[gp=Cf[rt]]&&hg.add(lo[gp]);return hg}function Tx(K,rt,nt,lt){c_(K,rt,nt),c_(K,rt,rt+lt),c_(K,rt+lt,nt)}function c_(K,rt,nt){for(var lt,pt=rt+(nt---rt>>1);rt<pt;++rt,--nt)lt=K[rt],K[rt]=K[nt],K[nt]=lt}function tw(K){var rt,nt,lt={};for(rt in K)lt[rt]=(nt=K[rt])==null?{type:null}:(nt.type==="FeatureCollection"?Ax:nt.type==="Feature"?cb:f0)(nt);return lt}function Ax(K){var rt={type:"GeometryCollection",geometries:K.features.map(cb)};return K.bbox!=null&&(rt.bbox=K.bbox),rt}function cb(K){var rt,nt=f0(K.geometry);for(rt in K.id!=null&&(nt.id=K.id),K.bbox!=null&&(nt.bbox=K.bbox),K.properties){nt.properties=K.properties;break}return nt}function f0(K){if(K==null)return{type:null};var rt=K.type==="GeometryCollection"?{type:"GeometryCollection",geometries:K.geometries.map(f0)}:K.type==="Point"||K.type==="MultiPoint"?{type:K.type,coordinates:K.coordinates}:{type:K.type,arcs:K.coordinates};return K.bbox!=null&&(rt.bbox=K.bbox),rt}function A1(K,rt){var nt=function(Bf){var Gf=1/0,qf=1/0,Kf=-1/0,Uf=-1/0;function lp(gp){gp!=null&&Dm.call(xp,gp.type)&&xp[gp.type](gp)}var xp={GeometryCollection:function(gp){gp.geometries.forEach(lp)},Point:function(gp){Yf(gp.coordinates)},MultiPoint:function(gp){gp.coordinates.forEach(Yf)},LineString:function(gp){sp(gp.arcs)},MultiLineString:function(gp){gp.arcs.forEach(sp)},Polygon:function(gp){gp.arcs.forEach(sp)},MultiPolygon:function(gp){gp.arcs.forEach(hp)}};function Yf(gp){var hg=gp[0],tg=gp[1];hg<Gf&&(Gf=hg),hg>Kf&&(Kf=hg),tg<qf&&(qf=tg),tg>Uf&&(Uf=tg)}function sp(gp){gp.forEach(Yf)}function hp(gp){gp.forEach(sp)}for(var vp in Bf)lp(Bf[vp]);return Kf>=Gf&&Uf>=qf?[Gf,qf,Kf,Uf]:void 0}(K=tw(K)),lt=rt>0&&nt&&function(Bf,Gf,qf){var Kf=Gf[0],Uf=Gf[1],lp=Gf[2],xp=Gf[3],Yf=lp-Kf?(qf-1)/(lp-Kf):1,sp=xp-Uf?(qf-1)/(xp-Uf):1;function hp(lg){return[Math.round((lg[0]-Kf)*Yf),Math.round((lg[1]-Uf)*sp)]}function vp(lg,ag){for(var ig,yg,cg,xg,Wp,om=-1,Rg=0,Lm=lg.length,Qg=new Array(Lm);++om<Lm;)ig=lg[om],xg=Math.round((ig[0]-Kf)*Yf),Wp=Math.round((ig[1]-Uf)*sp),xg===yg&&Wp===cg||(Qg[Rg++]=[yg=xg,cg=Wp]);for(Qg.length=Rg;Rg<ag;)Rg=Qg.push([Qg[0][0],Qg[0][1]]);return Qg}function gp(lg){return vp(lg,2)}function hg(lg){return vp(lg,4)}function tg(lg){return lg.map(hg)}function pg(lg){lg!=null&&Dm.call(rg,lg.type)&&rg[lg.type](lg)}var rg={GeometryCollection:function(lg){lg.geometries.forEach(pg)},Point:function(lg){lg.coordinates=hp(lg.coordinates)},MultiPoint:function(lg){lg.coordinates=lg.coordinates.map(hp)},LineString:function(lg){lg.arcs=gp(lg.arcs)},MultiLineString:function(lg){lg.arcs=lg.arcs.map(gp)},Polygon:function(lg){lg.arcs=tg(lg.arcs)},MultiPolygon:function(lg){lg.arcs=lg.arcs.map(tg)}};for(var _g in Bf)pg(Bf[_g]);return{scale:[1/Yf,1/sp],translate:[Kf,Uf]}}(K,nt,rt),pt=function(Bf){var Gf,qf,Kf,Uf,lp=Bf.coordinates,xp=Bf.lines,Yf=Bf.rings,sp=xp.length+Yf.length;for(delete Bf.lines,delete Bf.rings,Kf=0,Uf=xp.length;Kf<Uf;++Kf)for(Gf=xp[Kf];Gf=Gf.next;)++sp;for(Kf=0,Uf=Yf.length;Kf<Uf;++Kf)for(qf=Yf[Kf];qf=qf.next;)++sp;var hp=qv(2*sp*1.4,Ny,Yv),vp=Bf.arcs=[];for(Kf=0,Uf=xp.length;Kf<Uf;++Kf){Gf=xp[Kf];do gp(Gf);while(Gf=Gf.next)}for(Kf=0,Uf=Yf.length;Kf<Uf;++Kf)if((qf=Yf[Kf]).next)do gp(qf);while(qf=qf.next);else hg(qf);function gp(ag){var ig,yg,cg,xg,Wp,om,Rg,Lm;if(cg=hp.get(ig=lp[ag[0]])){for(Rg=0,Lm=cg.length;Rg<Lm;++Rg)if(tg(xg=cg[Rg],ag))return ag[0]=xg[0],void(ag[1]=xg[1])}if(Wp=hp.get(yg=lp[ag[1]])){for(Rg=0,Lm=Wp.length;Rg<Lm;++Rg)if(pg(om=Wp[Rg],ag))return ag[1]=om[0],void(ag[0]=om[1])}cg?cg.push(ag):hp.set(ig,[ag]),Wp?Wp.push(ag):hp.set(yg,[ag]),vp.push(ag)}function hg(ag){var ig,yg,cg,xg,Wp;if(yg=hp.get(lp[ag[0]]))for(xg=0,Wp=yg.length;xg<Wp;++xg){if(rg(cg=yg[xg],ag))return ag[0]=cg[0],void(ag[1]=cg[1]);if(_g(cg,ag))return ag[0]=cg[1],void(ag[1]=cg[0])}if(yg=hp.get(ig=lp[ag[0]+lg(ag)]))for(xg=0,Wp=yg.length;xg<Wp;++xg){if(rg(cg=yg[xg],ag))return ag[0]=cg[0],void(ag[1]=cg[1]);if(_g(cg,ag))return ag[0]=cg[1],void(ag[1]=cg[0])}yg?yg.push(ag):hp.set(ig,[ag]),vp.push(ag)}function tg(ag,ig){var yg=ag[0],cg=ig[0],xg=ag[1];if(yg-xg!=cg-ig[1])return!1;for(;yg<=xg;++yg,++cg)if(!Yv(lp[yg],lp[cg]))return!1;return!0}function pg(ag,ig){var yg=ag[0],cg=ig[0],xg=ag[1],Wp=ig[1];if(yg-xg!=cg-Wp)return!1;for(;yg<=xg;++yg,--Wp)if(!Yv(lp[yg],lp[Wp]))return!1;return!0}function rg(ag,ig){var yg=ag[0],cg=ig[0],xg=ag[1]-yg;if(xg!==ig[1]-cg)return!1;for(var Wp=lg(ag),om=lg(ig),Rg=0;Rg<xg;++Rg)if(!Yv(lp[yg+(Rg+Wp)%xg],lp[cg+(Rg+om)%xg]))return!1;return!0}function _g(ag,ig){var yg=ag[0],cg=ig[0],xg=ag[1],Wp=ig[1],om=xg-yg;if(om!==Wp-cg)return!1;for(var Rg=lg(ag),Lm=om-lg(ig),Qg=0;Qg<om;++Qg)if(!Yv(lp[yg+(Qg+Rg)%om],lp[Wp-(Qg+Lm)%om]))return!1;return!0}function lg(ag){for(var ig=ag[0],yg=ag[1],cg=ig,xg=cg,Wp=lp[cg];++cg<yg;){var om=lp[cg];(om[0]<Wp[0]||om[0]===Wp[0]&&om[1]<Wp[1])&&(xg=cg,Wp=om)}return xg-ig}return Bf}(function(Bf){var Gf,qf,Kf,Uf=Sx(Bf),lp=Bf.coordinates,xp=Bf.lines,Yf=Bf.rings;for(qf=0,Kf=xp.length;qf<Kf;++qf)for(var sp=xp[qf],hp=sp[0],vp=sp[1];++hp<vp;)Uf.has(lp[hp])&&(Gf={0:hp,1:sp[1]},sp[1]=hp,sp=sp.next=Gf);for(qf=0,Kf=Yf.length;qf<Kf;++qf)for(var gp=Yf[qf],hg=gp[0],tg=hg,pg=gp[1],rg=Uf.has(lp[hg]);++tg<pg;)Uf.has(lp[tg])&&(rg?(Gf={0:tg,1:gp[1]},gp[1]=tg,gp=gp.next=Gf):(Tx(lp,hg,pg,pg-tg),lp[pg]=lp[hg],rg=!0,tg=hg));return Bf}(function(Bf){var Gf=-1,qf=[],Kf=[],Uf=[];function lp(gp){gp&&Dm.call(xp,gp.type)&&xp[gp.type](gp)}var xp={GeometryCollection:function(gp){gp.geometries.forEach(lp)},LineString:function(gp){gp.arcs=Yf(gp.arcs)},MultiLineString:function(gp){gp.arcs=gp.arcs.map(Yf)},Polygon:function(gp){gp.arcs=gp.arcs.map(sp)},MultiPolygon:function(gp){gp.arcs=gp.arcs.map(hp)}};function Yf(gp){for(var hg=0,tg=gp.length;hg<tg;++hg)Uf[++Gf]=gp[hg];var pg={0:Gf-tg+1,1:Gf};return qf.push(pg),pg}function sp(gp){for(var hg=0,tg=gp.length;hg<tg;++hg)Uf[++Gf]=gp[hg];var pg={0:Gf-tg+1,1:Gf};return Kf.push(pg),pg}function hp(gp){return gp.map(sp)}for(var vp in Bf)lp(Bf[vp]);return{type:"Topology",coordinates:Uf,lines:qf,rings:Kf,objects:Bf}}(K))),lo=pt.coordinates,vo=qv(1.4*pt.arcs.length,Ox,wE);function vf(Bf){Bf&&Dm.call(Cf,Bf.type)&&Cf[Bf.type](Bf)}K=pt.objects,pt.bbox=nt,pt.arcs=pt.arcs.map(function(Bf,Gf){return vo.set(Bf,Gf),lo.slice(Bf[0],Bf[1]+1)}),delete pt.coordinates,lo=null;var Cf={GeometryCollection:function(Bf){Bf.geometries.forEach(vf)},LineString:function(Bf){Bf.arcs=Tf(Bf.arcs)},MultiLineString:function(Bf){Bf.arcs=Bf.arcs.map(Tf)},Polygon:function(Bf){Bf.arcs=Bf.arcs.map(Tf)},MultiPolygon:function(Bf){Bf.arcs=Bf.arcs.map(Rf)}};function Tf(Bf){var Gf=[];do{var qf=vo.get(Bf);Gf.push(Bf[0]<Bf[1]?qf:~qf)}while(Bf=Bf.next);return Gf}function Rf(Bf){return Bf.map(Tf)}for(var Of in K)vf(K[Of]);return lt&&(pt.transform=lt,pt.arcs=function(Bf){for(var Gf=-1,qf=Bf.length;++Gf<qf;){for(var Kf,Uf,lp=Bf[Gf],xp=0,Yf=1,sp=lp.length,hp=lp[0],vp=hp[0],gp=hp[1];++xp<sp;)Kf=(hp=lp[xp])[0],Uf=hp[1],Kf===vp&&Uf===gp||(lp[Yf++]=[Kf-vp,Uf-gp],vp=Kf,gp=Uf);Yf===1&&(lp[Yf++]=[0,0]),lp.length=Yf}return Bf}(pt.arcs)),pt}function Ox(K){var rt,nt=K[0],lt=K[1];return lt<nt&&(rt=nt,nt=lt,lt=rt),nt+31*lt}function wE(K,rt){var nt,lt=K[0],pt=K[1],lo=rt[0],vo=rt[1];return pt<lt&&(nt=lt,lt=pt,pt=nt),vo<lo&&(nt=lo,lo=vo,vo=nt),lt===lo&&pt===vo}function yk(K,rt){if(rt===void 0&&(rt={}),Up(K)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!K.features.length)throw new Error("geojson is empty");rt.mutate!==!1&&rt.mutate!==void 0||(K=Iv(K));var nt=[];Ep(K,function(pt){nt.push(pt.geometry)});var lt=A1({geoms:ls(nt).geometry});return function(pt){return vg(pt,Xg.apply(this,arguments))}(lt,lt.objects.geoms.geometries)}function _E(K,rt){if(rt===void 0&&(rt={}),!Pf(rt=rt||{}))throw new Error("options is invalid");var nt=rt.mutate;if(Up(K)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!K.features.length)throw new Error("geojson is empty");nt!==!1&&nt!==void 0||(K=Iv(K));var lt=function(lo){var vo={};Ep(lo,function(Cf){vo[Cf.geometry.type]=!0});var vf=Object.keys(vo);return vf.length===1?vf[0]:null}(K);if(!lt)throw new Error("geojson must be homogenous");var pt=K;switch(lt){case"LineString":return _p(pt,rt);case"Polygon":return yk(pt,rt);default:throw new Error(lt+" is not supported")}}function hb(K,rt){rt===void 0&&(rt={});var nt=typeof rt=="object"?rt.mutate:rt;if(!K)throw new Error("geojson is required");var lt=Up(K),pt=[];switch(lt){case"LineString":pt=xy(K);break;case"MultiLineString":case"Polygon":ap(K).forEach(function(vo){pt.push(xy(vo))});break;case"MultiPolygon":ap(K).forEach(function(vo){var vf=[];vo.forEach(function(Cf){vf.push(xy(Cf))}),pt.push(vf)});break;case"Point":return K;case"MultiPoint":var lo={};ap(K).forEach(function(vo){var vf=vo.join("-");Object.prototype.hasOwnProperty.call(lo,vf)||(pt.push(vo),lo[vf]=!0)});break;default:throw new Error(lt+" geometry not supported")}return K.coordinates?nt===!0?(K.coordinates=pt,K):{type:lt,coordinates:pt}:nt===!0?(K.geometry.coordinates=pt,K):ot({type:lt,coordinates:pt},K.properties,{bbox:K.bbox,id:K.id})}function xy(K){var rt=ap(K);if(rt.length===2&&!Iw(rt[0],rt[1]))return rt;var nt=[],lt=rt.length-1,pt=nt.length;nt.push(rt[0]);for(var lo=1;lo<lt;lo++){var vo=nt[nt.length-1];rt[lo][0]===vo[0]&&rt[lo][1]===vo[1]||(nt.push(rt[lo]),(pt=nt.length)>2&&Km(nt[pt-3],nt[pt-1],nt[pt-2])&&nt.splice(nt.length-2,1))}if(nt.push(rt[rt.length-1]),pt=nt.length,Iw(rt[0],rt[rt.length-1])&&pt<4)throw new Error("invalid polygon");return Km(nt[pt-3],nt[pt-1],nt[pt-2])&&nt.splice(nt.length-2,1),nt}function Iw(K,rt){return K[0]===rt[0]&&K[1]===rt[1]}function Km(K,rt,nt){var lt=nt[0],pt=nt[1],lo=K[0],vo=K[1],vf=rt[0],Cf=rt[1],Tf=vf-lo,Rf=Cf-vo;return(lt-lo)*Rf-(pt-vo)*Tf===0&&(Math.abs(Tf)>=Math.abs(Rf)?Tf>0?lo<=lt&&lt<=vf:vf<=lt&&lt<=lo:Rf>0?vo<=pt&&pt<=Cf:Cf<=pt&&pt<=vo)}function bk(K,rt,nt){var lt=rt.x,pt=rt.y,lo=nt.x-lt,vo=nt.y-pt;if(lo!==0||vo!==0){var vf=((K.x-lt)*lo+(K.y-pt)*vo)/(lo*lo+vo*vo);vf>1?(lt=nt.x,pt=nt.y):vf>0&&(lt+=lo*vf,pt+=vo*vf)}return(lo=K.x-lt)*lo+(vo=K.y-pt)*vo}function Ey(K,rt,nt,lt,pt){for(var lo,vo=lt,vf=rt+1;vf<nt;vf++){var Cf=bk(K[vf],K[rt],K[nt]);Cf>vo&&(lo=vf,vo=Cf)}vo>lt&&(lo-rt>1&&Ey(K,rt,lo,lt,pt),pt.push(K[lo]),nt-lo>1&&Ey(K,lo,nt,lt,pt))}function rw(K,rt){var nt=K.length-1,lt=[K[0]];return Ey(K,0,nt,rt,lt),lt.push(K[nt]),lt}function h_(K,rt,nt){if(K.length<=2)return K;var lt=rt!==void 0?rt*rt:1;return K=rw(K=nt?K:function(pt,lo){for(var vo,vf,Cf,Tf,Rf,Of=pt[0],Bf=[Of],Gf=1,qf=pt.length;Gf<qf;Gf++)vo=pt[Gf],Cf=Of,Tf=void 0,Rf=void 0,Tf=(vf=vo).x-Cf.x,Rf=vf.y-Cf.y,Tf*Tf+Rf*Rf>lo&&(Bf.push(vo),Of=vo);return Of!==vo&&Bf.push(vo),Bf}(K,lt),lt)}function d_(K,rt,nt){return h_(K.map(function(lt){return{x:lt[0],y:lt[1],z:lt[2]}}),rt,nt).map(function(lt){return lt.z?[lt.x,lt.y,lt.z]:[lt.x,lt.y]})}function f_(K,rt,nt){return K.map(function(lt){var pt=lt.map(function(vo){return{x:vo[0],y:vo[1]}});if(pt.length<4)throw new Error("invalid polygon");for(var lo=h_(pt,rt,nt).map(function(vo){return[vo.x,vo.y]});!wk(lo);)lo=h_(pt,rt-=.01*rt,nt).map(function(vo){return[vo.x,vo.y]});return lo[lo.length-1][0]===lo[0][0]&&lo[lo.length-1][1]===lo[0][1]||lo.push(lo[0]),lo})}function wk(K){return!(K.length<3)&&!(K.length===3&&K[2][0]===K[0][0]&&K[2][1]===K[0][1])}var Mx=function(){function K(rt){this.points=rt.points||[],this.duration=rt.duration||1e4,this.sharpness=rt.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=rt.stepLength||60,this.length=this.points.length,this.delay=0;for(var nt=0;nt<this.length;nt++)this.points[nt].z=this.points[nt].z||0;for(nt=0;nt<this.length-1;nt++){var lt=this.points[nt],pt=this.points[nt+1];this.centers.push({x:(lt.x+pt.x)/2,y:(lt.y+pt.y)/2,z:(lt.z+pt.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),nt=0;nt<this.centers.length-1;nt++){var lo=this.points[nt+1].x-(this.centers[nt].x+this.centers[nt+1].x)/2,vo=this.points[nt+1].y-(this.centers[nt].y+this.centers[nt+1].y)/2,vf=this.points[nt+1].z-(this.centers[nt].y+this.centers[nt+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[nt+1].x+this.sharpness*(this.centers[nt].x+lo),y:(1-this.sharpness)*this.points[nt+1].y+this.sharpness*(this.centers[nt].y+vo),z:(1-this.sharpness)*this.points[nt+1].z+this.sharpness*(this.centers[nt].z+vf)},{x:(1-this.sharpness)*this.points[nt+1].x+this.sharpness*(this.centers[nt+1].x+lo),y:(1-this.sharpness)*this.points[nt+1].y+this.sharpness*(this.centers[nt+1].y+vo),z:(1-this.sharpness)*this.points[nt+1].z+this.sharpness*(this.centers[nt+1].z+vf)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}return K.prototype.cacheSteps=function(rt){var nt=[],lt=this.pos(0);nt.push(0);for(var pt=0;pt<this.duration;pt+=10){var lo=this.pos(pt);Math.sqrt((lo.x-lt.x)*(lo.x-lt.x)+(lo.y-lt.y)*(lo.y-lt.y)+(lo.z-lt.z)*(lo.z-lt.z))>rt&&(nt.push(pt),lt=lo)}return nt},K.prototype.vector=function(rt){var nt=this.pos(rt+10),lt=this.pos(rt-10);return{angle:180*Math.atan2(nt.y-lt.y,nt.x-lt.x)/3.14,speed:Math.sqrt((lt.x-nt.x)*(lt.x-nt.x)+(lt.y-nt.y)*(lt.y-nt.y)+(lt.z-nt.z)*(lt.z-nt.z))}},K.prototype.pos=function(rt){var nt=rt-this.delay;nt<0&&(nt=0),nt>this.duration&&(nt=this.duration-1);var lt=nt/this.duration;if(lt>=1)return this.points[this.length-1];var pt=Math.floor((this.points.length-1)*lt);return function(lo,vo,vf,Cf,Tf){var Rf=function(Of){var Bf=Of*Of;return[Bf*Of,3*Bf*(1-Of),3*Of*(1-Of)*(1-Of),(1-Of)*(1-Of)*(1-Of)]}(lo);return{x:Tf.x*Rf[0]+Cf.x*Rf[1]+vf.x*Rf[2]+vo.x*Rf[3],y:Tf.y*Rf[0]+Cf.y*Rf[1]+vf.y*Rf[2]+vo.y*Rf[3],z:Tf.z*Rf[0]+Cf.z*Rf[1]+vf.z*Rf[2]+vo.z*Rf[3]}}((this.length-1)*lt-pt,this.points[pt],this.controls[pt][1],this.controls[pt+1][0],this.points[pt+1])},K}();function x0(K,rt){rt===void 0&&(rt={});for(var nt=rt.resolution||1e4,lt=rt.sharpness||.85,pt=[],lo=Rp(K).coordinates.map(function(Tf){return{x:Tf[0],y:Tf[1]}}),vo=new Mx({duration:nt,points:lo,sharpness:lt}),vf=function(Tf){var Rf=vo.pos(Tf);Math.floor(Tf/100)%2==0&&pt.push([Rf.x,Rf.y])},Cf=0;Cf<vo.duration;Cf+=10)vf(Cf);return vf(vo.duration),yo(pt,rt.properties)}function iw(K,rt){rt===void 0&&(rt={});var nt=Number(K[0]),lt=Number(K[1]),pt=Number(K[2]),lo=Number(K[3]);if(K.length===6)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var vo=[nt,lt];return uo([[vo,[pt,lt],[pt,lo],[nt,lo],vo]],rt.properties,{bbox:K,id:rt.id})}function O1(K){return iw(Jf(K))}function Px(K){var rt=K[0],nt=K[1],lt=K[2],pt=K[3];if(Cm(K.slice(0,2),[lt,nt])>=Cm(K.slice(0,2),[rt,pt])){var lo=(nt+pt)/2;return[rt,lo-(lt-rt)/2,lt,lo+(lt-rt)/2]}var vo=(rt+lt)/2;return[vo-(pt-nt)/2,nt,vo+(pt-nt)/2,pt]}function B0(K,rt,nt,lt){lt===void 0&&(lt={});var pt=ip(K),lo=Sf(pt[0]),vo=Sf(pt[1]),vf=Sf(nt),Cf=xo(rt,lt.units),Tf=Math.asin(Math.sin(vo)*Math.cos(Cf)+Math.cos(vo)*Math.sin(Cf)*Math.cos(vf));return ut([yf(lo+Math.atan2(Math.sin(vf)*Math.sin(Cf)*Math.cos(vo),Math.cos(Cf)-Math.sin(vo)*Math.sin(Tf))),yf(Tf)],lt.properties)}function Lw(K,rt,nt){nt===void 0&&(nt={});for(var lt=nt.steps||64,pt=nt.properties?nt.properties:!Array.isArray(K)&&K.type==="Feature"&&K.properties?K.properties:{},lo=[],vo=0;vo<lt;vo++)lo.push(B0(K,rt,-360*vo/lt,nt).geometry.coordinates);return lo.push(lo[0]),uo([lo],pt)}function ky(K,rt,nt){if(nt===void 0&&(nt={}),nt.final===!0)return function(Of,Bf){var Gf=ky(Bf,Of);return Gf=(Gf+180)%360}(K,rt);var lt=ip(K),pt=ip(rt),lo=Sf(lt[0]),vo=Sf(pt[0]),vf=Sf(lt[1]),Cf=Sf(pt[1]),Tf=Math.sin(vo-lo)*Math.cos(Cf),Rf=Math.cos(vf)*Math.sin(Cf)-Math.sin(vf)*Math.cos(Cf)*Math.cos(vo-lo);return yf(Math.atan2(Tf,Rf))}function Yy(K,rt){rt===void 0&&(rt={});var nt=Jf(K);return ut([(nt[0]+nt[2])/2,(nt[1]+nt[3])/2],rt.properties,rt)}function kb(K,rt){rt===void 0&&(rt={});var nt=0,lt=0,pt=0;return $f(K,function(lo){nt+=lo[0],lt+=lo[1],pt++},!0),ut([nt/pt,lt/pt],rt.properties)}function db(K){var rt=[];return K.type==="FeatureCollection"?fp(K,function(nt){$f(nt,function(lt){rt.push(ut(lt,nt.properties))})}):$f(K,function(nt){rt.push(ut(nt,K.properties))}),uf(rt)}var G_=jb,Ix=jb;function jb(K,rt,nt){nt=nt||2;var lt,pt,lo,vo,vf,Cf,Tf,Rf=rt&&rt.length,Of=Rf?rt[0]*nt:K.length,Bf=q_(K,0,Of,nt,!0),Gf=[];if(!Bf)return Gf;if(Rf&&(Bf=function(Kf,Uf,lp,xp){var Yf,sp,hp,vp=[];for(Yf=0,sp=Uf.length;Yf<sp;Yf++)(hp=q_(Kf,Uf[Yf]*xp,Yf<sp-1?Uf[Yf+1]*xp:Kf.length,xp,!1))===hp.next&&(hp.steiner=!0),vp.push(g_(hp));for(vp.sort(Dw),Yf=0;Yf<vp.length;Yf++)nw(vp[Yf],lp),lp=M1(lp,lp.next);return lp}(K,rt,Bf,nt)),K.length>80*nt){lt=lo=K[0],pt=vo=K[1];for(var qf=nt;qf<Of;qf+=nt)(vf=K[qf])<lt&&(lt=vf),(Cf=K[qf+1])<pt&&(pt=Cf),vf>lo&&(lo=vf),Cf>vo&&(vo=Cf);Tf=(Tf=Math.max(lo-lt,vo-pt))!==0?1/Tf:0}return By(Bf,Gf,nt,lt,pt,Tf),Gf}function q_(K,rt,nt,lt,pt){var lo,vo;if(pt===Nv(K,rt,nt,lt)>0)for(lo=rt;lo<nt;lo+=lt)vo=Z_(lo,K[lo],K[lo+1],vo);else for(lo=nt-lt;lo>=rt;lo-=lt)vo=Z_(lo,K[lo],K[lo+1],vo);return vo&&Hb(vo,vo.next)&&(k0(vo),vo=vo.next),vo}function M1(K,rt){if(!K)return K;rt||(rt=K);var nt,lt=K;do if(nt=!1,lt.steiner||!Hb(lt,lt.next)&&E0(lt.prev,lt,lt.next)!==0)lt=lt.next;else{if(k0(lt),(lt=rt=lt.prev)===lt.next)break;nt=!0}while(nt||lt!==rt);return rt}function By(K,rt,nt,lt,pt,lo,vo){if(K){!vo&&lo&&function(Rf,Of,Bf,Gf){var qf=Rf;do qf.z===null&&(qf.z=Y_(qf.x,qf.y,Of,Bf,Gf)),qf.prevZ=qf.prev,qf.nextZ=qf.next,qf=qf.next;while(qf!==Rf);qf.prevZ.nextZ=null,qf.prevZ=null,function(Kf){var Uf,lp,xp,Yf,sp,hp,vp,gp,hg=1;do{for(lp=Kf,Kf=null,sp=null,hp=0;lp;){for(hp++,xp=lp,vp=0,Uf=0;Uf<hg&&(vp++,xp=xp.nextZ);Uf++);for(gp=hg;vp>0||gp>0&&xp;)vp!==0&&(gp===0||!xp||lp.z<=xp.z)?(Yf=lp,lp=lp.nextZ,vp--):(Yf=xp,xp=xp.nextZ,gp--),sp?sp.nextZ=Yf:Kf=Yf,Yf.prevZ=sp,sp=Yf;lp=xp}sp.nextZ=null,hg*=2}while(hp>1)}(qf)}(K,lt,pt,lo);for(var vf,Cf,Tf=K;K.prev!==K.next;)if(vf=K.prev,Cf=K.next,lo?Rw(K,lt,pt,lo):Cy(K))rt.push(vf.i/nt),rt.push(K.i/nt),rt.push(Cf.i/nt),k0(K),K=Cf.next,Tf=Cf.next;else if((K=Cf)===Tf){vo?vo===1?By(K=xE(K,rt,nt),rt,nt,lt,pt,lo,2):vo===2&&p_(K,rt,nt,lt,pt,lo):By(M1(K),rt,nt,lt,pt,lo,1);break}}}function Cy(K){var rt=K.prev,nt=K,lt=K.next;if(E0(rt,nt,lt)>=0)return!1;for(var pt=K.next.next;pt!==K.prev;){if(ey(rt.x,rt.y,nt.x,nt.y,lt.x,lt.y,pt.x,pt.y)&&E0(pt.prev,pt,pt.next)>=0)return!1;pt=pt.next}return!0}function Rw(K,rt,nt,lt){var pt=K.prev,lo=K,vo=K.next;if(E0(pt,lo,vo)>=0)return!1;for(var vf=pt.x<lo.x?pt.x<vo.x?pt.x:vo.x:lo.x<vo.x?lo.x:vo.x,Cf=pt.y<lo.y?pt.y<vo.y?pt.y:vo.y:lo.y<vo.y?lo.y:vo.y,Tf=pt.x>lo.x?pt.x>vo.x?pt.x:vo.x:lo.x>vo.x?lo.x:vo.x,Rf=pt.y>lo.y?pt.y>vo.y?pt.y:vo.y:lo.y>vo.y?lo.y:vo.y,Of=Y_(vf,Cf,rt,nt,lt),Bf=Y_(Tf,Rf,rt,nt,lt),Gf=K.prevZ,qf=K.nextZ;Gf&&Gf.z>=Of&&qf&&qf.z<=Bf;){if(Gf!==K.prev&&Gf!==K.next&&ey(pt.x,pt.y,lo.x,lo.y,vo.x,vo.y,Gf.x,Gf.y)&&E0(Gf.prev,Gf,Gf.next)>=0||(Gf=Gf.prevZ,qf!==K.prev&&qf!==K.next&&ey(pt.x,pt.y,lo.x,lo.y,vo.x,vo.y,qf.x,qf.y)&&E0(qf.prev,qf,qf.next)>=0))return!1;qf=qf.nextZ}for(;Gf&&Gf.z>=Of;){if(Gf!==K.prev&&Gf!==K.next&&ey(pt.x,pt.y,lo.x,lo.y,vo.x,vo.y,Gf.x,Gf.y)&&E0(Gf.prev,Gf,Gf.next)>=0)return!1;Gf=Gf.prevZ}for(;qf&&qf.z<=Bf;){if(qf!==K.prev&&qf!==K.next&&ey(pt.x,pt.y,lo.x,lo.y,vo.x,vo.y,qf.x,qf.y)&&E0(qf.prev,qf,qf.next)>=0)return!1;qf=qf.nextZ}return!0}function xE(K,rt,nt){var lt=K;do{var pt=lt.prev,lo=lt.next.next;!Hb(pt,lo)&&ow(pt,lt,lt.next,lo)&&sw(pt,lo)&&sw(lo,pt)&&(rt.push(pt.i/nt),rt.push(lt.i/nt),rt.push(lo.i/nt),k0(lt),k0(lt.next),lt=K=lo),lt=lt.next}while(lt!==K);return lt}function p_(K,rt,nt,lt,pt,lo){var vo=K;do{for(var vf=vo.next.next;vf!==vo.prev;){if(vo.i!==vf.i&&EE(vo,vf)){var Cf=aw(vo,vf);return vo=M1(vo,vo.next),Cf=M1(Cf,Cf.next),By(vo,rt,nt,lt,pt,lo),void By(Cf,rt,nt,lt,pt,lo)}vf=vf.next}vo=vo.next}while(vo!==K)}function Dw(K,rt){return K.x-rt.x}function nw(K,rt){if(rt=function(lt,pt){var lo,vo=pt,vf=lt.x,Cf=lt.y,Tf=-1/0;do{if(Cf<=vo.y&&Cf>=vo.next.y&&vo.next.y!==vo.y){var Rf=vo.x+(Cf-vo.y)*(vo.next.x-vo.x)/(vo.next.y-vo.y);if(Rf<=vf&&Rf>Tf){if(Tf=Rf,Rf===vf){if(Cf===vo.y)return vo;if(Cf===vo.next.y)return vo.next}lo=vo.x<vo.next.x?vo:vo.next}}vo=vo.next}while(vo!==pt);if(!lo)return null;if(vf===Tf)return lo.prev;var Of,Bf=lo,Gf=lo.x,qf=lo.y,Kf=1/0;for(vo=lo.next;vo!==Bf;)vf>=vo.x&&vo.x>=Gf&&vf!==vo.x&&ey(Cf<qf?vf:Tf,Cf,Gf,qf,Cf<qf?Tf:vf,Cf,vo.x,vo.y)&&((Of=Math.abs(Cf-vo.y)/(vf-vo.x))<Kf||Of===Kf&&vo.x>lo.x)&&sw(vo,lt)&&(lo=vo,Kf=Of),vo=vo.next;return lo}(K,rt)){var nt=aw(rt,K);M1(nt,nt.next)}}function Y_(K,rt,nt,lt,pt){return(K=1431655765&((K=858993459&((K=252645135&((K=16711935&((K=32767*(K-nt)*pt)|K<<8))|K<<4))|K<<2))|K<<1))|(rt=1431655765&((rt=858993459&((rt=252645135&((rt=16711935&((rt=32767*(rt-lt)*pt)|rt<<8))|rt<<4))|rt<<2))|rt<<1))<<1}function g_(K){var rt=K,nt=K;do rt.x<nt.x&&(nt=rt),rt=rt.next;while(rt!==K);return nt}function ey(K,rt,nt,lt,pt,lo,vo,vf){return(pt-vo)*(rt-vf)-(K-vo)*(lo-vf)>=0&&(K-vo)*(lt-vf)-(nt-vo)*(rt-vf)>=0&&(nt-vo)*(lo-vf)-(pt-vo)*(lt-vf)>=0}function EE(K,rt){return K.next.i!==rt.i&&K.prev.i!==rt.i&&!function(nt,lt){var pt=nt;do{if(pt.i!==nt.i&&pt.next.i!==nt.i&&pt.i!==lt.i&&pt.next.i!==lt.i&&ow(pt,pt.next,nt,lt))return!0;pt=pt.next}while(pt!==nt);return!1}(K,rt)&&sw(K,rt)&&sw(rt,K)&&function(nt,lt){var pt=nt,lo=!1,vo=(nt.x+lt.x)/2,vf=(nt.y+lt.y)/2;do pt.y>vf!=pt.next.y>vf&&pt.next.y!==pt.y&&vo<(pt.next.x-pt.x)*(vf-pt.y)/(pt.next.y-pt.y)+pt.x&&(lo=!lo),pt=pt.next;while(pt!==nt);return lo}(K,rt)}function E0(K,rt,nt){return(rt.y-K.y)*(nt.x-rt.x)-(rt.x-K.x)*(nt.y-rt.y)}function Hb(K,rt){return K.x===rt.x&&K.y===rt.y}function ow(K,rt,nt,lt){return!!(Hb(K,rt)&&Hb(nt,lt)||Hb(K,lt)&&Hb(nt,rt))||E0(K,rt,nt)>0!=E0(K,rt,lt)>0&&E0(nt,lt,K)>0!=E0(nt,lt,rt)>0}function sw(K,rt){return E0(K.prev,K,K.next)<0?E0(K,rt,K.next)>=0&&E0(K,K.prev,rt)>=0:E0(K,rt,K.prev)<0||E0(K,K.next,rt)<0}function aw(K,rt){var nt=new Lx(K.i,K.x,K.y),lt=new Lx(rt.i,rt.x,rt.y),pt=K.next,lo=rt.prev;return K.next=rt,rt.prev=K,nt.next=pt,pt.prev=nt,lt.next=nt,nt.prev=lt,lo.next=lt,lt.prev=lo,lt}function Z_(K,rt,nt,lt){var pt=new Lx(K,rt,nt);return lt?(pt.next=lt.next,pt.prev=lt,lt.next.prev=pt,lt.next=pt):(pt.prev=pt,pt.next=pt),pt}function k0(K){K.next.prev=K.prev,K.prev.next=K.next,K.prevZ&&(K.prevZ.nextZ=K.nextZ),K.nextZ&&(K.nextZ.prevZ=K.prevZ)}function Lx(K,rt,nt){this.i=K,this.x=rt,this.y=nt,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Nv(K,rt,nt,lt){for(var pt=0,lo=rt,vo=nt-lt;lo<nt;lo+=lt)pt+=(K[vo]-K[lo])*(K[lo+1]+K[vo+1]),vo=lo;return pt}function Zy(K){var rt=function(vf){for(var Cf=vf[0][0].length,Tf={vertices:[],holes:[],dimensions:Cf},Rf=0,Of=0;Of<vf.length;Of++){for(var Bf=0;Bf<vf[Of].length;Bf++)for(var Gf=0;Gf<Cf;Gf++)Tf.vertices.push(vf[Of][Bf][Gf]);Of>0&&(Rf+=vf[Of-1].length,Tf.holes.push(Rf))}return Tf}(K),nt=G_(rt.vertices,rt.holes,2),lt=[],pt=[];nt.forEach(function(vf,Cf){var Tf=nt[Cf];pt.push([rt.vertices[2*Tf],rt.vertices[2*Tf+1]])});for(var lo=0;lo<pt.length;lo+=3){var vo=pt.slice(lo,lo+3);vo.push(pt[lo]),lt.push(uo([vo]))}return lt}function Nw(K,rt){if(!K)throw new Error("targetPoint is required");if(!rt)throw new Error("points is required");var nt,lt=1/0,pt=0;return fp(rt,function(lo,vo){var vf=Cm(K,lo);vf<lt&&(pt=vo,lt=vf)}),(nt=Iv(rt.features[pt])).properties.featureIndex=pt,nt.properties.distanceToPoint=lt,nt}function C0(K){if(!K)throw new Error("geojson is required");var rt=[];return Ep(K,function(nt){(function(lt,pt){var lo=[],vo=lt.geometry;if(vo!==null){switch(vo.type){case"Polygon":lo=ap(vo);break;case"LineString":lo=[ap(vo)]}lo.forEach(function(vf){(function(Cf,Tf){var Rf=[];return Cf.reduce(function(Of,Bf){var Gf=yo([Of,Bf],Tf);return Gf.bbox=function(qf,Kf){var Uf=qf[0],lp=qf[1],xp=Kf[0],Yf=Kf[1];return[Uf<xp?Uf:xp,lp<Yf?lp:Yf,Uf>xp?Uf:xp,lp>Yf?lp:Yf]}(Of,Bf),Rf.push(Gf),Bf}),Rf})(vf,lt.properties).forEach(function(Cf){Cf.id=pt.length,pt.push(Cf)})})}})(nt,rt)}),uf(rt)}jb.deviation=function(K,rt,nt,lt){var pt=rt&&rt.length,lo=pt?rt[0]*nt:K.length,vo=Math.abs(Nv(K,0,lo,nt));if(pt)for(var vf=0,Cf=rt.length;vf<Cf;vf++){var Tf=rt[vf]*nt,Rf=vf<Cf-1?rt[vf+1]*nt:K.length;vo-=Math.abs(Nv(K,Tf,Rf,nt))}var Of=0;for(vf=0;vf<lt.length;vf+=3){var Bf=lt[vf]*nt,Gf=lt[vf+1]*nt,qf=lt[vf+2]*nt;Of+=Math.abs((K[Bf]-K[qf])*(K[Gf+1]-K[Bf+1])-(K[Bf]-K[Gf])*(K[qf+1]-K[Bf+1]))}return vo===0&&Of===0?0:Math.abs((Of-vo)/vo)},jb.flatten=function(K){for(var rt=K[0][0].length,nt={vertices:[],holes:[],dimensions:rt},lt=0,pt=0;pt<K.length;pt++){for(var lo=0;lo<K[pt].length;lo++)for(var vo=0;vo<rt;vo++)nt.vertices.push(K[pt][lo][vo]);pt>0&&(lt+=K[pt-1].length,nt.holes.push(lt))}return nt},G_.default=Ix;var S0=km(function(K,rt){function nt(qf,Kf,Uf){Uf===void 0&&(Uf={});var lp={type:"Feature"};return(Uf.id===0||Uf.id)&&(lp.id=Uf.id),Uf.bbox&&(lp.bbox=Uf.bbox),lp.properties=Kf||{},lp.geometry=qf,lp}function lt(qf,Kf,Uf){if(Uf===void 0&&(Uf={}),!qf)throw new Error("coordinates is required");if(!Array.isArray(qf))throw new Error("coordinates must be an Array");if(qf.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Gf(qf[0])||!Gf(qf[1]))throw new Error("coordinates must contain numbers");return nt({type:"Point",coordinates:qf},Kf,Uf)}function pt(qf,Kf,Uf){Uf===void 0&&(Uf={});for(var lp=0,xp=qf;lp<xp.length;lp++){var Yf=xp[lp];if(Yf.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var sp=0;sp<Yf[Yf.length-1].length;sp++)if(Yf[Yf.length-1][sp]!==Yf[0][sp])throw new Error("First and last Position are not equivalent.")}return nt({type:"Polygon",coordinates:qf},Kf,Uf)}function lo(qf,Kf,Uf){if(Uf===void 0&&(Uf={}),qf.length<2)throw new Error("coordinates must be an array of two or more positions");return nt({type:"LineString",coordinates:qf},Kf,Uf)}function vo(qf,Kf){Kf===void 0&&(Kf={});var Uf={type:"FeatureCollection"};return Kf.id&&(Uf.id=Kf.id),Kf.bbox&&(Uf.bbox=Kf.bbox),Uf.features=qf,Uf}function vf(qf,Kf,Uf){return Uf===void 0&&(Uf={}),nt({type:"MultiLineString",coordinates:qf},Kf,Uf)}function Cf(qf,Kf,Uf){return Uf===void 0&&(Uf={}),nt({type:"MultiPoint",coordinates:qf},Kf,Uf)}function Tf(qf,Kf,Uf){return Uf===void 0&&(Uf={}),nt({type:"MultiPolygon",coordinates:qf},Kf,Uf)}function Rf(qf,Kf){Kf===void 0&&(Kf="kilometers");var Uf=rt.factors[Kf];if(!Uf)throw new Error(Kf+" units is invalid");return qf*Uf}function Of(qf,Kf){Kf===void 0&&(Kf="kilometers");var Uf=rt.factors[Kf];if(!Uf)throw new Error(Kf+" units is invalid");return qf/Uf}function Bf(qf){return 180*(qf%(2*Math.PI))/Math.PI}function Gf(qf){return!isNaN(qf)&&qf!==null&&!Array.isArray(qf)}Object.defineProperty(rt,"__esModule",{value:!0}),rt.earthRadius=63710088e-1,rt.factors={centimeters:100*rt.earthRadius,centimetres:100*rt.earthRadius,degrees:rt.earthRadius/111325,feet:3.28084*rt.earthRadius,inches:39.37*rt.earthRadius,kilometers:rt.earthRadius/1e3,kilometres:rt.earthRadius/1e3,meters:rt.earthRadius,metres:rt.earthRadius,miles:rt.earthRadius/1609.344,millimeters:1e3*rt.earthRadius,millimetres:1e3*rt.earthRadius,nauticalmiles:rt.earthRadius/1852,radians:1,yards:1.0936*rt.earthRadius},rt.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/rt.earthRadius,yards:1.0936133},rt.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},rt.feature=nt,rt.geometry=function(qf,Kf,Uf){switch(qf){case"Point":return lt(Kf).geometry;case"LineString":return lo(Kf).geometry;case"Polygon":return pt(Kf).geometry;case"MultiPoint":return Cf(Kf).geometry;case"MultiLineString":return vf(Kf).geometry;case"MultiPolygon":return Tf(Kf).geometry;default:throw new Error(qf+" is invalid")}},rt.point=lt,rt.points=function(qf,Kf,Uf){return Uf===void 0&&(Uf={}),vo(qf.map(function(lp){return lt(lp,Kf)}),Uf)},rt.polygon=pt,rt.polygons=function(qf,Kf,Uf){return Uf===void 0&&(Uf={}),vo(qf.map(function(lp){return pt(lp,Kf)}),Uf)},rt.lineString=lo,rt.lineStrings=function(qf,Kf,Uf){return Uf===void 0&&(Uf={}),vo(qf.map(function(lp){return lo(lp,Kf)}),Uf)},rt.featureCollection=vo,rt.multiLineString=vf,rt.multiPoint=Cf,rt.multiPolygon=Tf,rt.geometryCollection=function(qf,Kf,Uf){return Uf===void 0&&(Uf={}),nt({type:"GeometryCollection",geometries:qf},Kf,Uf)},rt.round=function(qf,Kf){if(Kf===void 0&&(Kf=0),Kf&&!(Kf>=0))throw new Error("precision must be a positive number");var Uf=Math.pow(10,Kf||0);return Math.round(qf*Uf)/Uf},rt.radiansToLength=Rf,rt.lengthToRadians=Of,rt.lengthToDegrees=function(qf,Kf){return Bf(Of(qf,Kf))},rt.bearingToAzimuth=function(qf){var Kf=qf%360;return Kf<0&&(Kf+=360),Kf},rt.radiansToDegrees=Bf,rt.degreesToRadians=function(qf){return qf%360*Math.PI/180},rt.convertLength=function(qf,Kf,Uf){if(Kf===void 0&&(Kf="kilometers"),Uf===void 0&&(Uf="kilometers"),!(qf>=0))throw new Error("length must be a positive number");return Rf(Of(qf,Kf),Uf)},rt.convertArea=function(qf,Kf,Uf){if(Kf===void 0&&(Kf="meters"),Uf===void 0&&(Uf="kilometers"),!(qf>=0))throw new Error("area must be a positive number");var lp=rt.areaFactors[Kf];if(!lp)throw new Error("invalid original units");var xp=rt.areaFactors[Uf];if(!xp)throw new Error("invalid final units");return qf/lp*xp},rt.isNumber=Gf,rt.isObject=function(qf){return!!qf&&qf.constructor===Object},rt.validateBBox=function(qf){if(!qf)throw new Error("bbox is required");if(!Array.isArray(qf))throw new Error("bbox must be an Array");if(qf.length!==4&&qf.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");qf.forEach(function(Kf){if(!Gf(Kf))throw new Error("bbox must only contain numbers")})},rt.validateId=function(qf){if(!qf)throw new Error("id is required");if(["string","number"].indexOf(typeof qf)===-1)throw new Error("id must be a number or a string")}});function fb(K,rt,nt){if(K!==null)for(var lt,pt,lo,vo,vf,Cf,Tf,Rf,Of=0,Bf=0,Gf=K.type,qf=Gf==="FeatureCollection",Kf=Gf==="Feature",Uf=qf?K.features.length:1,lp=0;lp<Uf;lp++){vf=(Rf=!!(Tf=qf?K.features[lp].geometry:Kf?K.geometry:K)&&Tf.type==="GeometryCollection")?Tf.geometries.length:1;for(var xp=0;xp<vf;xp++){var Yf=0,sp=0;if((vo=Rf?Tf.geometries[xp]:Tf)!==null){Cf=vo.coordinates;var hp=vo.type;switch(Of=!nt||hp!=="Polygon"&&hp!=="MultiPolygon"?0:1,hp){case null:break;case"Point":if(rt(Cf,Bf,lp,Yf,sp)===!1)return!1;Bf++,Yf++;break;case"LineString":case"MultiPoint":for(lt=0;lt<Cf.length;lt++){if(rt(Cf[lt],Bf,lp,Yf,sp)===!1)return!1;Bf++,hp==="MultiPoint"&&Yf++}hp==="LineString"&&Yf++;break;case"Polygon":case"MultiLineString":for(lt=0;lt<Cf.length;lt++){for(pt=0;pt<Cf[lt].length-Of;pt++){if(rt(Cf[lt][pt],Bf,lp,Yf,sp)===!1)return!1;Bf++}hp==="MultiLineString"&&Yf++,hp==="Polygon"&&sp++}hp==="Polygon"&&Yf++;break;case"MultiPolygon":for(lt=0;lt<Cf.length;lt++){for(sp=0,pt=0;pt<Cf[lt].length;pt++){for(lo=0;lo<Cf[lt][pt].length-Of;lo++){if(rt(Cf[lt][pt][lo],Bf,lp,Yf,sp)===!1)return!1;Bf++}sp++}Yf++}break;case"GeometryCollection":for(lt=0;lt<vo.geometries.length;lt++)if(fb(vo.geometries[lt],rt,nt)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Vv(K,rt){var nt;switch(K.type){case"FeatureCollection":for(nt=0;nt<K.features.length&&rt(K.features[nt].properties,nt)!==!1;nt++);break;case"Feature":rt(K.properties,0)}}function Bw(K,rt){if(K.type==="Feature")rt(K,0);else if(K.type==="FeatureCollection")for(var nt=0;nt<K.features.length&&rt(K.features[nt],nt)!==!1;nt++);}function X_(K,rt){var nt,lt,pt,lo,vo,vf,Cf,Tf,Rf,Of,Bf=0,Gf=K.type==="FeatureCollection",qf=K.type==="Feature",Kf=Gf?K.features.length:1;for(nt=0;nt<Kf;nt++){for(vf=Gf?K.features[nt].geometry:qf?K.geometry:K,Tf=Gf?K.features[nt].properties:qf?K.properties:{},Rf=Gf?K.features[nt].bbox:qf?K.bbox:void 0,Of=Gf?K.features[nt].id:qf?K.id:void 0,vo=(Cf=!!vf&&vf.type==="GeometryCollection")?vf.geometries.length:1,pt=0;pt<vo;pt++)if((lo=Cf?vf.geometries[pt]:vf)!==null)switch(lo.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(rt(lo,Bf,Tf,Rf,Of)===!1)return!1;break;case"GeometryCollection":for(lt=0;lt<lo.geometries.length;lt++)if(rt(lo.geometries[lt],Bf,Tf,Rf,Of)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(rt(null,Bf,Tf,Rf,Of)===!1)return!1;Bf++}}function P1(K,rt){X_(K,function(nt,lt,pt,lo,vo){var vf,Cf=nt===null?null:nt.type;switch(Cf){case null:case"Point":case"LineString":case"Polygon":return rt(S0.feature(nt,pt,{bbox:lo,id:vo}),lt,0)!==!1&&void 0}switch(Cf){case"MultiPoint":vf="Point";break;case"MultiLineString":vf="LineString";break;case"MultiPolygon":vf="Polygon"}for(var Tf=0;Tf<nt.coordinates.length;Tf++){var Rf={type:vf,coordinates:nt.coordinates[Tf]};if(rt(S0.feature(Rf,pt),lt,Tf)===!1)return!1}})}function Rx(K,rt){P1(K,function(nt,lt,pt){var lo=0;if(nt.geometry){var vo=nt.geometry.type;if(vo!=="Point"&&vo!=="MultiPoint"){var vf,Cf=0,Tf=0,Rf=0;return fb(nt,function(Of,Bf,Gf,qf,Kf){if(vf===void 0||lt>Cf||qf>Tf||Kf>Rf)return vf=Of,Cf=lt,Tf=qf,Rf=Kf,void(lo=0);var Uf=S0.lineString([vf,Of],nt.properties);if(rt(Uf,lt,pt,Kf,lo)===!1)return!1;lo++,vf=Of})!==!1&&void 0}}})}function s1(K,rt){if(!K)throw new Error("geojson is required");P1(K,function(nt,lt,pt){if(nt.geometry!==null){var lo=nt.geometry.type,vo=nt.geometry.coordinates;switch(lo){case"LineString":if(rt(nt,lt,pt,0,0)===!1)return!1;break;case"Polygon":for(var vf=0;vf<vo.length;vf++)if(rt(S0.lineString(vo[vf],nt.properties),lt,pt,vf)===!1)return!1}}})}var K_=function(K){var rt=[];return fb(K,function(nt){rt.push(nt)}),rt},m_=fb,J_=function(K,rt,nt,lt){var pt=nt;return fb(K,function(lo,vo,vf,Cf,Tf){pt=vo===0&&nt===void 0?lo:rt(pt,lo,vo,vf,Cf,Tf)},lt),pt},_k=Bw,a1=function(K,rt,nt){var lt=nt;return Bw(K,function(pt,lo){lt=lo===0&&nt===void 0?pt:rt(lt,pt,lo)}),lt},$w=function(K,rt){if(rt=rt||{},!S0.isObject(rt))throw new Error("options is invalid");var nt,lt=rt.featureIndex||0,pt=rt.multiFeatureIndex||0,lo=rt.geometryIndex||0,vo=rt.coordIndex||0,vf=rt.properties;switch(K.type){case"FeatureCollection":lt<0&&(lt=K.features.length+lt),vf=vf||K.features[lt].properties,nt=K.features[lt].geometry;break;case"Feature":vf=vf||K.properties,nt=K.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":nt=K;break;default:throw new Error("geojson is invalid")}if(nt===null)return null;var Cf=nt.coordinates;switch(nt.type){case"Point":return S0.point(Cf,vf,rt);case"MultiPoint":return pt<0&&(pt=Cf.length+pt),S0.point(Cf[pt],vf,rt);case"LineString":return vo<0&&(vo=Cf.length+vo),S0.point(Cf[vo],vf,rt);case"Polygon":return lo<0&&(lo=Cf.length+lo),vo<0&&(vo=Cf[lo].length+vo),S0.point(Cf[lo][vo],vf,rt);case"MultiLineString":return pt<0&&(pt=Cf.length+pt),vo<0&&(vo=Cf[pt].length+vo),S0.point(Cf[pt][vo],vf,rt);case"MultiPolygon":return pt<0&&(pt=Cf.length+pt),lo<0&&(lo=Cf[pt].length+lo),vo<0&&(vo=Cf[pt][lo].length-vo),S0.point(Cf[pt][lo][vo],vf,rt)}throw new Error("geojson is invalid")},I1=function(K,rt){if(rt=rt||{},!S0.isObject(rt))throw new Error("options is invalid");var nt,lt=rt.featureIndex||0,pt=rt.multiFeatureIndex||0,lo=rt.geometryIndex||0,vo=rt.segmentIndex||0,vf=rt.properties;switch(K.type){case"FeatureCollection":lt<0&&(lt=K.features.length+lt),vf=vf||K.features[lt].properties,nt=K.features[lt].geometry;break;case"Feature":vf=vf||K.properties,nt=K.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":nt=K;break;default:throw new Error("geojson is invalid")}if(nt===null)return null;var Cf=nt.coordinates;switch(nt.type){case"Point":case"MultiPoint":return null;case"LineString":return vo<0&&(vo=Cf.length+vo-1),S0.lineString([Cf[vo],Cf[vo+1]],vf,rt);case"Polygon":return lo<0&&(lo=Cf.length+lo),vo<0&&(vo=Cf[lo].length+vo-1),S0.lineString([Cf[lo][vo],Cf[lo][vo+1]],vf,rt);case"MultiLineString":return pt<0&&(pt=Cf.length+pt),vo<0&&(vo=Cf[pt].length+vo-1),S0.lineString([Cf[pt][vo],Cf[pt][vo+1]],vf,rt);case"MultiPolygon":return pt<0&&(pt=Cf.length+pt),lo<0&&(lo=Cf[pt].length+lo),vo<0&&(vo=Cf[pt][lo].length-vo-1),S0.lineString([Cf[pt][lo][vo],Cf[pt][lo][vo+1]],vf,rt)}throw new Error("geojson is invalid")},Dx=P1,Zv=function(K,rt,nt){var lt=nt;return P1(K,function(pt,lo,vo){lt=lo===0&&vo===0&&nt===void 0?pt:rt(lt,pt,lo,vo)}),lt},Q_=X_,lw=function(K,rt,nt){var lt=nt;return X_(K,function(pt,lo,vo,vf,Cf){lt=lo===0&&nt===void 0?pt:rt(lt,pt,lo,vo,vf,Cf)}),lt},fy=s1,py=function(K,rt,nt){var lt=nt;return s1(K,function(pt,lo,vo,vf){lt=lo===0&&nt===void 0?pt:rt(lt,pt,lo,vo,vf)}),lt},Vb=Vv,uw=function(K,rt,nt){var lt=nt;return Vv(K,function(pt,lo){lt=lo===0&&nt===void 0?pt:rt(lt,pt,lo)}),lt},cw=Rx,v_=function(K,rt,nt){var lt=nt,pt=!1;return Rx(K,function(lo,vo,vf,Cf,Tf){lt=pt===!1&&nt===void 0?lo:rt(lt,lo,vo,vf,Cf,Tf),pt=!0}),lt},y_=Object.defineProperty({coordAll:K_,coordEach:m_,coordReduce:J_,featureEach:_k,featureReduce:a1,findPoint:$w,findSegment:I1,flattenEach:Dx,flattenReduce:Zv,geomEach:Q_,geomReduce:lw,lineEach:fy,lineReduce:py,propEach:Vb,propReduce:uw,segmentEach:cw,segmentReduce:v_},"__esModule",{value:!0});function ex(K){var rt=[1/0,1/0,-1/0,-1/0];return y_.coordEach(K,function(nt){rt[0]>nt[0]&&(rt[0]=nt[0]),rt[1]>nt[1]&&(rt[1]=nt[1]),rt[2]<nt[0]&&(rt[2]=nt[0]),rt[3]<nt[1]&&(rt[3]=nt[1])}),rt}ex.default=ex;var xk=ex,l1=Object.defineProperty({default:xk},"__esModule",{value:!0}).default,Ek=y_.featureEach,Nx=(y_.coordEach,S0.polygon,S0.featureCollection);function b_(K){var rt=Zg(K);return rt.insert=function(nt){if(nt.type!=="Feature")throw new Error("invalid feature");return nt.bbox=nt.bbox?nt.bbox:l1(nt),Zg.prototype.insert.call(this,nt)},rt.load=function(nt){var lt=[];return Array.isArray(nt)?nt.forEach(function(pt){if(pt.type!=="Feature")throw new Error("invalid features");pt.bbox=pt.bbox?pt.bbox:l1(pt),lt.push(pt)}):Ek(nt,function(pt){if(pt.type!=="Feature")throw new Error("invalid features");pt.bbox=pt.bbox?pt.bbox:l1(pt),lt.push(pt)}),Zg.prototype.load.call(this,lt)},rt.remove=function(nt,lt){if(nt.type!=="Feature")throw new Error("invalid feature");return nt.bbox=nt.bbox?nt.bbox:l1(nt),Zg.prototype.remove.call(this,nt,lt)},rt.clear=function(){return Zg.prototype.clear.call(this)},rt.search=function(nt){var lt=Zg.prototype.search.call(this,this.toBBox(nt));return Nx(lt)},rt.collides=function(nt){return Zg.prototype.collides.call(this,this.toBBox(nt))},rt.all=function(){var nt=Zg.prototype.all.call(this);return Nx(nt)},rt.toJSON=function(){return Zg.prototype.toJSON.call(this)},rt.fromJSON=function(nt){return Zg.prototype.fromJSON.call(this,nt)},rt.toBBox=function(nt){var lt;if(nt.bbox)lt=nt.bbox;else if(Array.isArray(nt)&&nt.length===4)lt=nt;else if(Array.isArray(nt)&&nt.length===6)lt=[nt[0],nt[1],nt[3],nt[4]];else if(nt.type==="Feature")lt=l1(nt);else{if(nt.type!=="FeatureCollection")throw new Error("invalid geojson");lt=l1(nt)}return{minX:lt[0],minY:lt[1],maxX:lt[2],maxY:lt[3]}},rt}var i0=b_,kE=b_;function kv(K,rt){var nt={},lt=[];if(K.type==="LineString"&&(K=ot(K)),rt.type==="LineString"&&(rt=ot(rt)),K.type==="Feature"&&rt.type==="Feature"&&K.geometry!==null&&rt.geometry!==null&&K.geometry.type==="LineString"&&rt.geometry.type==="LineString"&&K.geometry.coordinates.length===2&&rt.geometry.coordinates.length===2){var pt=pb(K,rt);return pt&&lt.push(pt),uf(lt)}var lo=i0();return lo.load(C0(rt)),fp(C0(K),function(vo){fp(lo.search(vo),function(vf){var Cf=pb(vo,vf);if(Cf){var Tf=ap(Cf).join(",");nt[Tf]||(nt[Tf]=!0,lt.push(Cf))}})}),uf(lt)}function pb(K,rt){var nt=ap(K),lt=ap(rt);if(nt.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(lt.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var pt=nt[0][0],lo=nt[0][1],vo=nt[1][0],vf=nt[1][1],Cf=lt[0][0],Tf=lt[0][1],Rf=lt[1][0],Of=lt[1][1],Bf=(Of-Tf)*(vo-pt)-(Rf-Cf)*(vf-lo),Gf=(Rf-Cf)*(lo-Tf)-(Of-Tf)*(pt-Cf),qf=(vo-pt)*(lo-Tf)-(vf-lo)*(pt-Cf);if(Bf===0)return null;var Kf=Gf/Bf,Uf=qf/Bf;return Kf>=0&&Kf<=1&&Uf>=0&&Uf<=1?ut([pt+Kf*(vo-pt),lo+Kf*(vf-lo)]):null}function Cb(K,rt,nt){nt===void 0&&(nt={});var lt=ut([1/0,1/0],{dist:1/0}),pt=0;return Ep(K,function(lo){for(var vo=ap(lo),vf=0;vf<vo.length-1;vf++){var Cf=ut(vo[vf]);Cf.properties.dist=Cm(rt,Cf,nt);var Tf=ut(vo[vf+1]);Tf.properties.dist=Cm(rt,Tf,nt);var Rf=Cm(Cf,Tf,nt),Of=Math.max(Cf.properties.dist,Tf.properties.dist),Bf=ky(Cf,Tf),Gf=B0(rt,Of,Bf+90,nt),qf=B0(rt,Of,Bf-90,nt),Kf=kv(yo([Gf.geometry.coordinates,qf.geometry.coordinates]),yo([Cf.geometry.coordinates,Tf.geometry.coordinates])),Uf=null;Kf.features.length>0&&((Uf=Kf.features[0]).properties.dist=Cm(rt,Uf,nt),Uf.properties.location=pt+Cm(Cf,Uf,nt)),Cf.properties.dist<lt.properties.dist&&((lt=Cf).properties.index=vf,lt.properties.location=pt),Tf.properties.dist<lt.properties.dist&&((lt=Tf).properties.index=vf+1,lt.properties.location=pt+Rf),Uf&&Uf.properties.dist<lt.properties.dist&&((lt=Uf).properties.index=vf),pt+=Rf}}),lt}function L1(K,rt,nt){nt===void 0&&(nt={});var lt=ip(K),pt=ip(rt);return pt[0]+=pt[0]-lt[0]>180?-360:lt[0]-pt[0]>180?360:0,xf(function(lo,vo,vf){var Cf=vf=vf===void 0?W:Number(vf),Tf=lo[1]*Math.PI/180,Rf=vo[1]*Math.PI/180,Of=Rf-Tf,Bf=Math.abs(vo[0]-lo[0])*Math.PI/180;Bf>Math.PI&&(Bf-=2*Math.PI);var Gf=Math.log(Math.tan(Rf/2+Math.PI/4)/Math.tan(Tf/2+Math.PI/4)),qf=Math.abs(Gf)>1e-11?Of/Gf:Math.cos(Tf);return Math.sqrt(Of*Of+qf*qf*Bf*Bf)*Cf}(lt,pt),"meters",nt.units)}function Bx(K,rt,nt){if(nt===void 0&&(nt={}),nt.method||(nt.method="geodesic"),nt.units||(nt.units="kilometers"),!K)throw new Error("pt is required");if(Array.isArray(K)?K=ut(K):K.type==="Point"?K=ot(K):bp(K,"Point","point"),!rt)throw new Error("line is required");Array.isArray(rt)?rt=yo(rt):rt.type==="LineString"?rt=ot(rt):bp(rt,"LineString","line");var lt=1/0,pt=K.geometry.coordinates;return $p(rt,function(lo){var vo=lo.geometry.coordinates[0],vf=lo.geometry.coordinates[1],Cf=function(Tf,Rf,Of,Bf){var Gf=[Of[0]-Rf[0],Of[1]-Rf[1]],qf=tx([Tf[0]-Rf[0],Tf[1]-Rf[1]],Gf);if(qf<=0)return rx(Tf,Rf,{method:Bf.method,units:"degrees"});var Kf=tx(Gf,Gf);if(Kf<=qf)return rx(Tf,Of,{method:Bf.method,units:"degrees"});var Uf=qf/Kf,lp=[Rf[0]+Uf*Gf[0],Rf[1]+Uf*Gf[1]];return rx(Tf,lp,{method:Bf.method,units:"degrees"})}(pt,vo,vf,nt);Cf<lt&&(lt=Cf)}),xf(lt,"degrees",nt.units)}function tx(K,rt){return K[0]*rt[0]+K[1]*rt[1]}function rx(K,rt,nt){return nt.method==="planar"?L1(K,rt,nt):Cm(K,rt,nt)}function w_(K,rt,nt,lt,pt,lo,vo,vf){var Cf,Tf,Rf,Of,Bf={x:null,y:null,onLine1:!1,onLine2:!1};return(Cf=(vf-lo)*(nt-K)-(vo-pt)*(lt-rt))===0?Bf.x!==null&&Bf.y!==null&&Bf:(Of=(nt-K)*(Tf=rt-lo)-(lt-rt)*(Rf=K-pt),Tf=((vo-pt)*Tf-(vf-lo)*Rf)/Cf,Rf=Of/Cf,Bf.x=K+Tf*(nt-K),Bf.y=rt+Tf*(lt-rt),Tf>=0&&Tf<=1&&(Bf.onLine1=!0),Rf>=0&&Rf<=1&&(Bf.onLine2=!0),!(!Bf.onLine1||!Bf.onLine2)&&[Bf.x,Bf.y])}function CE(K){for(var rt=function(Bf){return Bf.type!=="FeatureCollection"?Bf.type!=="Feature"?uf([ot(Bf)]):uf([Bf]):Bf}(K),nt=Yy(rt),lt=!1,pt=0;!lt&&pt<rt.features.length;){var lo,vo=rt.features[pt].geometry,vf=!1;if(vo.type==="Point")nt.geometry.coordinates[0]===vo.coordinates[0]&&nt.geometry.coordinates[1]===vo.coordinates[1]&&(lt=!0);else if(vo.type==="MultiPoint"){var Cf=!1;for(lo=0;!Cf&&lo<vo.coordinates.length;)nt.geometry.coordinates[0]===vo.coordinates[lo][0]&&nt.geometry.coordinates[1]===vo.coordinates[lo][1]&&(lt=!0,Cf=!0),lo++}else if(vo.type==="LineString")for(lo=0;!vf&&lo<vo.coordinates.length-1;)R1(nt.geometry.coordinates[0],nt.geometry.coordinates[1],vo.coordinates[lo][0],vo.coordinates[lo][1],vo.coordinates[lo+1][0],vo.coordinates[lo+1][1])&&(vf=!0,lt=!0),lo++;else if(vo.type==="MultiLineString")for(var Tf=0;Tf<vo.coordinates.length;){vf=!1,lo=0;for(var Rf=vo.coordinates[Tf];!vf&&lo<Rf.length-1;)R1(nt.geometry.coordinates[0],nt.geometry.coordinates[1],Rf[lo][0],Rf[lo][1],Rf[lo+1][0],Rf[lo+1][1])&&(vf=!0,lt=!0),lo++;Tf++}else vo.type!=="Polygon"&&vo.type!=="MultiPolygon"||dm(nt,vo)&&(lt=!0);pt++}if(lt)return nt;var Of=uf([]);for(pt=0;pt<rt.features.length;pt++)Of.features=Of.features.concat(db(rt.features[pt]).features);return ut(Nw(nt,Of).geometry.coordinates)}function R1(K,rt,nt,lt,pt,lo){return Math.sqrt((pt-nt)*(pt-nt)+(lo-lt)*(lo-lt))===Math.sqrt((K-nt)*(K-nt)+(rt-lt)*(rt-lt))+Math.sqrt((pt-K)*(pt-K)+(lo-rt)*(lo-rt))}i0.default=kE;var __=6378137;function Fw(K){return yp(K,function(rt,nt){return rt+function(lt){var pt,lo=0;switch(lt.type){case"Polygon":return $x(lt.coordinates);case"MultiPolygon":for(pt=0;pt<lt.coordinates.length;pt++)lo+=$x(lt.coordinates[pt]);return lo;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(nt)},0)}function $x(K){var rt=0;if(K&&K.length>0){rt+=Math.abs(Sb(K[0]));for(var nt=1;nt<K.length;nt++)rt-=Math.abs(Sb(K[nt]))}return rt}function Sb(K){var rt,nt,lt,pt,lo,vo,vf=0,Cf=K.length;if(Cf>2){for(vo=0;vo<Cf;vo++)vo===Cf-2?(lt=Cf-2,pt=Cf-1,lo=0):vo===Cf-1?(lt=Cf-1,pt=0,lo=1):(lt=vo,pt=vo+1,lo=vo+2),rt=K[lt],nt=K[pt],vf+=(ix(K[lo][0])-ix(rt[0]))*Math.sin(ix(nt[1]));vf=vf*__*__/2}return vf}function ix(K){return K*Math.PI/180}function nx(K,rt){return rt===void 0&&(rt={}),kp(K,function(nt,lt){var pt=lt.geometry.coordinates;return nt+Cm(pt[0],pt[1],rt)},0)}function D1(K,rt,nt,lt){if(!Pf(lt=lt||{}))throw new Error("options is invalid");var pt,lo=[];if(K.type==="Feature")pt=K.geometry.coordinates;else{if(K.type!=="LineString")throw new Error("input must be a LineString Feature or Geometry");pt=K.coordinates}for(var vo,vf,Cf,Tf=pt.length,Rf=0,Of=0;Of<pt.length&&!(rt>=Rf&&Of===pt.length-1);Of++){if(Rf>rt&&lo.length===0){if(!(vo=rt-Rf))return lo.push(pt[Of]),yo(lo);vf=ky(pt[Of],pt[Of-1])-180,Cf=B0(pt[Of],vo,vf,lt),lo.push(Cf.geometry.coordinates)}if(Rf>=nt)return(vo=nt-Rf)?(vf=ky(pt[Of],pt[Of-1])-180,Cf=B0(pt[Of],vo,vf,lt),lo.push(Cf.geometry.coordinates),yo(lo)):(lo.push(pt[Of]),yo(lo));if(Rf>=rt&&lo.push(pt[Of]),Of===pt.length-1)return yo(lo);Rf+=Cm(pt[Of],pt[Of+1],lt)}if(Rf<rt&&pt.length===Tf)throw new Error("Start position is beyond line");var Bf=pt[pt.length-1];return yo([Bf,Bf])}function $y(K,rt,nt){nt===void 0&&(nt={});for(var lt=ip(K),pt=ap(rt),lo=0;lo<pt.length-1;lo++){var vo=!1;if(nt.ignoreEndVertices&&(lo===0&&(vo="start"),lo===pt.length-2&&(vo="end"),lo===0&&lo+1===pt.length-1&&(vo="both")),zw(pt[lo],pt[lo+1],lt,vo,nt.epsilon===void 0?null:nt.epsilon))return!0}return!1}function zw(K,rt,nt,lt,pt){var lo=nt[0],vo=nt[1],vf=K[0],Cf=K[1],Tf=rt[0],Rf=rt[1],Of=Tf-vf,Bf=Rf-Cf,Gf=(nt[0]-vf)*Bf-(nt[1]-Cf)*Of;if(pt!==null){if(Math.abs(Gf)>pt)return!1}else if(Gf!==0)return!1;return lt?lt==="start"?Math.abs(Of)>=Math.abs(Bf)?Of>0?vf<lo&&lo<=Tf:Tf<=lo&&lo<vf:Bf>0?Cf<vo&&vo<=Rf:Rf<=vo&&vo<Cf:lt==="end"?Math.abs(Of)>=Math.abs(Bf)?Of>0?vf<=lo&&lo<Tf:Tf<lo&&lo<=vf:Bf>0?Cf<=vo&&vo<Rf:Rf<vo&&vo<=Cf:lt==="both"&&(Math.abs(Of)>=Math.abs(Bf)?Of>0?vf<lo&&lo<Tf:Tf<lo&&lo<vf:Bf>0?Cf<vo&&vo<Rf:Rf<vo&&vo<Cf):Math.abs(Of)>=Math.abs(Bf)?Of>0?vf<=lo&&lo<=Tf:Tf<=lo&&lo<=vf:Bf>0?Cf<=vo&&vo<=Rf:Rf<=vo&&vo<=Cf}function jw(K,rt){var nt=Rp(K),lt=Rp(rt),pt=nt.type,lo=lt.type;switch(pt){case"Point":switch(lo){case"MultiPoint":return function(vo,vf){var Cf,Tf=!1;for(Cf=0;Cf<vf.coordinates.length;Cf++)if(ox(vf.coordinates[Cf],vo.coordinates)){Tf=!0;break}return Tf}(nt,lt);case"LineString":return $y(nt,lt,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return dm(nt,lt,{ignoreBoundary:!0});default:throw new Error("feature2 "+lo+" geometry not supported")}case"MultiPoint":switch(lo){case"MultiPoint":return function(vo,vf){for(var Cf=0;Cf<vo.coordinates.length;Cf++){for(var Tf=!1,Rf=0;Rf<vf.coordinates.length;Rf++)ox(vo.coordinates[Cf],vf.coordinates[Rf])&&(Tf=!0);if(!Tf)return!1}return!0}(nt,lt);case"LineString":return function(vo,vf){for(var Cf=!1,Tf=0;Tf<vo.coordinates.length;Tf++){if(!$y(vo.coordinates[Tf],vf))return!1;Cf||(Cf=$y(vo.coordinates[Tf],vf,{ignoreEndVertices:!0}))}return Cf}(nt,lt);case"Polygon":case"MultiPolygon":return function(vo,vf){for(var Cf=!0,Tf=!1,Rf=0;Rf<vo.coordinates.length;Rf++){if(!(Tf=dm(vo.coordinates[1],vf))){Cf=!1;break}Tf=dm(vo.coordinates[1],vf,{ignoreBoundary:!0})}return Cf&&Tf}(nt,lt);default:throw new Error("feature2 "+lo+" geometry not supported")}case"LineString":switch(lo){case"LineString":return function(vo,vf){for(var Cf=0;Cf<vo.coordinates.length;Cf++)if(!$y(vo.coordinates[Cf],vf))return!1;return!0}(nt,lt);case"Polygon":case"MultiPolygon":return function(vo,vf){var Cf=Jf(vf),Tf=Jf(vo);if(!Fx(Cf,Tf))return!1;for(var Rf=!1,Of=0;Of<vo.coordinates.length-1;Of++){if(!dm(vo.coordinates[Of],vf))return!1;Rf||(Rf=dm(vo.coordinates[Of],vf,{ignoreBoundary:!0})),!Rf&&(Rf=dm(SE(vo.coordinates[Of],vo.coordinates[Of+1]),vf,{ignoreBoundary:!0}))}return Rf}(nt,lt);default:throw new Error("feature2 "+lo+" geometry not supported")}case"Polygon":switch(lo){case"Polygon":case"MultiPolygon":return function(vo,vf){var Cf=Jf(vo);if(!Fx(Jf(vf),Cf))return!1;for(var Tf=0;Tf<vo.coordinates[0].length;Tf++)if(!dm(vo.coordinates[0][Tf],vf))return!1;return!0}(nt,lt);default:throw new Error("feature2 "+lo+" geometry not supported")}default:throw new Error("feature1 "+pt+" geometry not supported")}}function Fx(K,rt){return!(K[0]>rt[0])&&!(K[2]<rt[2])&&!(K[1]>rt[1])&&!(K[3]<rt[3])}function ox(K,rt){return K[0]===rt[0]&&K[1]===rt[1]}function SE(K,rt){return[(K[0]+rt[0])/2,(K[1]+rt[1])/2]}function sx(K,rt,nt){nt===void 0&&(nt={}),nt.mask&&!nt.units&&(nt.units="kilometers");for(var lt=[],pt=K[0],lo=K[1],vo=K[2],vf=K[3],Cf=rt/Cm([pt,lo],[vo,lo],nt)*(vo-pt),Tf=rt/Cm([pt,lo],[pt,vf],nt)*(vf-lo),Rf=vo-pt,Of=vf-lo,Bf=Math.floor(Rf/Cf),Gf=(Of-Math.floor(Of/Tf)*Tf)/2,qf=pt+(Rf-Bf*Cf)/2;qf<=vo;){for(var Kf=lo+Gf;Kf<=vf;){var Uf=ut([qf,Kf],nt.properties);nt.mask?jw(Uf,nt.mask)&&lt.push(Uf):lt.push(Uf),Kf+=Tf}qf+=Cf}return uf(lt)}function Hw(K,rt){rt===void 0&&(rt={});var nt=rt.precision,lt=rt.coordinates,pt=rt.mutate;if(nt=nt==null||isNaN(nt)?6:nt,lt=lt==null||isNaN(lt)?3:lt,!K)throw new Error("<geojson> is required");if(typeof nt!="number")throw new Error("<precision> must be a number");if(typeof lt!="number")throw new Error("<coordinates> must be a number");pt!==!1&&pt!==void 0||(K=JSON.parse(JSON.stringify(K)));var lo=Math.pow(10,nt);return $f(K,function(vo){(function(vf,Cf,Tf){vf.length>Tf&&vf.splice(Tf,vf.length);for(var Rf=0;Rf<vf.length;Rf++)vf[Rf]=Math.round(vf[Rf]*Cf)/Cf})(vo,lo,lt)}),K}function x_(K){if(!K)throw new Error("geojson is required");var rt=[];return Ep(K,function(nt){rt.push(nt)}),uf(rt)}function TE(K,rt,nt){if(K.geometry.type!=="Polygon")throw new Error("The input feature must be a Polygon");nt===void 0&&(nt=1);var lt=K.geometry.coordinates,pt=[],lo={};if(nt){for(var vo=[],vf=0;vf<lt.length;vf++)for(var Cf=0;Cf<lt[vf].length-1;Cf++)vo.push(Kf(vf,Cf));var Tf=Zg();Tf.load(vo)}for(var Rf=0;Rf<lt.length;Rf++)for(var Of=0;Of<lt[Rf].length-1;Of++)if(nt)Tf.search(Kf(Rf,Of)).forEach(function(Uf){var lp=Uf.ring,xp=Uf.edge;qf(Rf,Of,lp,xp)});else for(var Bf=0;Bf<lt.length;Bf++)for(var Gf=0;Gf<lt[Bf].length-1;Gf++)qf(Rf,Of,Bf,Gf);return rt||(pt={type:"Feature",geometry:{type:"MultiPoint",coordinates:pt}}),pt;function qf(Uf,lp,xp,Yf){var sp,hp,vp=lt[Uf][lp],gp=lt[Uf][lp+1],hg=lt[xp][Yf],tg=lt[xp][Yf+1],pg=function(lg,ag,ig,yg){if(N1(lg,ig)||N1(lg,yg)||N1(ag,ig)||N1(yg,ig))return null;var cg=lg[0],xg=lg[1],Wp=ag[0],om=ag[1],Rg=ig[0],Lm=ig[1],Qg=yg[0],fm=yg[1],nv=(cg-Wp)*(Lm-fm)-(xg-om)*(Rg-Qg);return nv===0?null:[((cg*om-xg*Wp)*(Rg-Qg)-(cg-Wp)*(Rg*fm-Lm*Qg))/nv,((cg*om-xg*Wp)*(Lm-fm)-(xg-om)*(Rg*fm-Lm*Qg))/nv]}(vp,gp,hg,tg);if(pg!==null&&(sp=gp[0]!==vp[0]?(pg[0]-vp[0])/(gp[0]-vp[0]):(pg[1]-vp[1])/(gp[1]-vp[1]),hp=tg[0]!==hg[0]?(pg[0]-hg[0])/(tg[0]-hg[0]):(pg[1]-hg[1])/(tg[1]-hg[1]),!(sp>=1||sp<=0||hp>=1||hp<=0))){var rg=pg,_g=!lo[rg];_g&&(lo[rg]=!0),rt?pt.push(rt(pg,Uf,lp,vp,gp,sp,xp,Yf,hg,tg,hp,_g)):pt.push(pg)}}function Kf(Uf,lp){var xp,Yf,sp,hp,vp=lt[Uf][lp],gp=lt[Uf][lp+1];return vp[0]<gp[0]?(xp=vp[0],Yf=gp[0]):(xp=gp[0],Yf=vp[0]),vp[1]<gp[1]?(sp=vp[1],hp=gp[1]):(sp=gp[1],hp=vp[1]),{minX:xp,minY:sp,maxX:Yf,maxY:hp,ring:Uf,edge:lp}}}function N1(K,rt){if(!K||!rt||K.length!==rt.length)return!1;for(var nt=0,lt=K.length;nt<lt;nt++)if(K[nt]instanceof Array&&rt[nt]instanceof Array){if(!N1(K[nt],rt[nt]))return!1}else if(K[nt]!==rt[nt])return!1;return!0}function AE(K){if(K.type!="Feature")throw new Error("The input must a geojson object of type Feature");if(K.geometry===void 0||K.geometry==null)throw new Error("The input must a geojson object with a non-empty geometry");if(K.geometry.type!="Polygon")throw new Error("The input must be a geojson Polygon");for(var rt=K.geometry.coordinates.length,nt=[],lt=0;lt<rt;lt++){var pt=K.geometry.coordinates[lt];Ef(pt[0],pt[pt.length-1])||pt.push(pt[0]),nt.push.apply(nt,pt.slice(0,pt.length-1))}if(!function(Qg){for(var fm={},nv=1,Dv=0,wy=Qg.length;Dv<wy;++Dv){if(Object.prototype.hasOwnProperty.call(fm,Qg[Dv])){nv=0;break}fm[Qg[Dv]]=1}return nv}(nt))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var lo=nt.length,vo=TE(K,function(Qg,fm,nv,Dv,wy,hC,kx,dC,fC,pk,dS,gk){return[Qg,fm,nv,Dv,wy,hC,kx,dC,fC,pk,dS,gk]}),vf=vo.length;if(vf==0){var Cf=[];for(lt=0;lt<rt;lt++)Cf.push(uo([K.geometry.coordinates[lt]],{parent:-1,winding:fo(K.geometry.coordinates[lt])}));var Tf=uf(Cf);return om(),Rg(),Tf}var Rf=[],Of=[];for(lt=0;lt<rt;lt++){Rf.push([]);for(var Bf=0;Bf<K.geometry.coordinates[lt].length-1;Bf++)Rf[lt].push([new ax(K.geometry.coordinates[lt][Lf(Bf+1,K.geometry.coordinates[lt].length-1)],1,[lt,Bf],[lt,Lf(Bf+1,K.geometry.coordinates[lt].length-1)],void 0)]),Of.push(new Vw(K.geometry.coordinates[lt][Bf],[lt,Lf(Bf-1,K.geometry.coordinates[lt].length-1)],[lt,Bf],void 0,void 0,!1,!0))}for(lt=0;lt<vf;lt++)Rf[vo[lt][1]][vo[lt][2]].push(new ax(vo[lt][0],vo[lt][5],[vo[lt][1],vo[lt][2]],[vo[lt][6],vo[lt][7]],void 0)),vo[lt][11]&&Of.push(new Vw(vo[lt][0],[vo[lt][1],vo[lt][2]],[vo[lt][6],vo[lt][7]],void 0,void 0,!0,!0));var Gf=Of.length;for(lt=0;lt<Rf.length;lt++)for(Bf=0;Bf<Rf[lt].length;Bf++)Rf[lt][Bf].sort(function(Qg,fm){return Qg.param<fm.param?-1:1});var qf=[];for(lt=0;lt<Gf;lt++)qf.push({minX:Of[lt].coord[0],minY:Of[lt].coord[1],maxX:Of[lt].coord[0],maxY:Of[lt].coord[1],index:lt});var Kf=Zg();for(Kf.load(qf),lt=0;lt<Rf.length;lt++)for(Bf=0;Bf<Rf[lt].length;Bf++)for(var Uf=0;Uf<Rf[lt][Bf].length;Uf++){xp=Uf==Rf[lt][Bf].length-1?Rf[lt][Lf(Bf+1,K.geometry.coordinates[lt].length-1)][0].coord:Rf[lt][Bf][Uf+1].coord;var lp=Kf.search({minX:xp[0],minY:xp[1],maxX:xp[0],maxY:xp[1]})[0];Rf[lt][Bf][Uf].nxtIsectAlongEdgeIn=lp.index}for(lt=0;lt<Rf.length;lt++)for(Bf=0;Bf<Rf[lt].length;Bf++)for(Uf=0;Uf<Rf[lt][Bf].length;Uf++){var xp=Rf[lt][Bf][Uf].coord,Yf=(lp=Kf.search({minX:xp[0],minY:xp[1],maxX:xp[0],maxY:xp[1]})[0]).index;Yf<lo?Of[Yf].nxtIsectAlongRingAndEdge2=Rf[lt][Bf][Uf].nxtIsectAlongEdgeIn:Ef(Of[Yf].ringAndEdge1,Rf[lt][Bf][Uf].ringAndEdgeIn)?Of[Yf].nxtIsectAlongRingAndEdge1=Rf[lt][Bf][Uf].nxtIsectAlongEdgeIn:Of[Yf].nxtIsectAlongRingAndEdge2=Rf[lt][Bf][Uf].nxtIsectAlongEdgeIn}var sp=[];for(lt=0,Bf=0;Bf<rt;Bf++){var hp=lt;for(Uf=0;Uf<K.geometry.coordinates[Bf].length-1;Uf++)Of[lt].coord[0]<Of[hp].coord[0]&&(hp=lt),lt++;var vp=Of[hp].nxtIsectAlongRingAndEdge2;for(Uf=0;Uf<Of.length;Uf++)if(Of[Uf].nxtIsectAlongRingAndEdge1==hp||Of[Uf].nxtIsectAlongRingAndEdge2==hp){var gp=Uf;break}var hg=Uw([Of[gp].coord,Of[hp].coord,Of[vp].coord],!0)?1:-1;sp.push({isect:hp,parent:-1,winding:hg})}for(sp.sort(function(Qg,fm){return Of[Qg.isect].coord>Of[fm.isect].coord?-1:1}),Cf=[];sp.length>0;){var tg=sp.pop(),pg=tg.isect,rg=tg.parent,_g=tg.winding,lg=Cf.length,ag=[Of[pg].coord],ig=pg;if(Of[pg].ringAndEdge1Walkable)var yg=Of[pg].ringAndEdge1,cg=Of[pg].nxtIsectAlongRingAndEdge1;else yg=Of[pg].ringAndEdge2,cg=Of[pg].nxtIsectAlongRingAndEdge2;for(;!Ef(Of[pg].coord,Of[cg].coord);){ag.push(Of[cg].coord);var xg=void 0;for(lt=0;lt<sp.length;lt++)if(sp[lt].isect==cg){xg=lt;break}if(xg!=null&&sp.splice(xg,1),Ef(yg,Of[cg].ringAndEdge1)){if(yg=Of[cg].ringAndEdge2,Of[cg].ringAndEdge2Walkable=!1,Of[cg].ringAndEdge1Walkable){var Wp={isect:cg};Uw([Of[ig].coord,Of[cg].coord,Of[Of[cg].nxtIsectAlongRingAndEdge2].coord],_g==1)?(Wp.parent=rg,Wp.winding=-_g):(Wp.parent=lg,Wp.winding=_g),sp.push(Wp)}ig=cg,cg=Of[cg].nxtIsectAlongRingAndEdge2}else yg=Of[cg].ringAndEdge1,Of[cg].ringAndEdge1Walkable=!1,Of[cg].ringAndEdge2Walkable&&(Wp={isect:cg},Uw([Of[ig].coord,Of[cg].coord,Of[Of[cg].nxtIsectAlongRingAndEdge1].coord],_g==1)?(Wp.parent=rg,Wp.winding=-_g):(Wp.parent=lg,Wp.winding=_g),sp.push(Wp)),ig=cg,cg=Of[cg].nxtIsectAlongRingAndEdge1}ag.push(Of[cg].coord),Cf.push(uo([ag],{index:lg,parent:rg,winding:_g,netWinding:void 0}))}Tf=uf(Cf);function om(){for(var Qg=[],fm=0;fm<Tf.features.length;fm++)Tf.features[fm].properties.parent==-1&&Qg.push(fm);if(Qg.length>1)for(fm=0;fm<Qg.length;fm++){for(var nv=-1,Dv=0;Dv<Tf.features.length;Dv++)Qg[fm]!=Dv&&dm(Tf.features[Qg[fm]].geometry.coordinates[0][0],Tf.features[Dv],{ignoreBoundary:!0})&&Fw(Tf.features[Dv])<1/0&&(nv=Dv);Tf.features[Qg[fm]].properties.parent=nv}}function Rg(){for(var Qg=0;Qg<Tf.features.length;Qg++)if(Tf.features[Qg].properties.parent==-1){var fm=Tf.features[Qg].properties.winding;Tf.features[Qg].properties.netWinding=fm,Lm(Qg,fm)}}function Lm(Qg,fm){for(var nv=0;nv<Tf.features.length;nv++)if(Tf.features[nv].properties.parent==Qg){var Dv=fm+Tf.features[nv].properties.winding;Tf.features[nv].properties.netWinding=Dv,Lm(nv,Dv)}}return om(),Rg(),Tf}var ax=function(K,rt,nt,lt,pt){this.coord=K,this.param=rt,this.ringAndEdgeIn=nt,this.ringAndEdgeOut=lt,this.nxtIsectAlongEdgeIn=pt},Vw=function(K,rt,nt,lt,pt,lo,vo){this.coord=K,this.ringAndEdge1=rt,this.ringAndEdge2=nt,this.nxtIsectAlongRingAndEdge1=lt,this.nxtIsectAlongRingAndEdge2=pt,this.ringAndEdge1Walkable=lo,this.ringAndEdge2Walkable=vo};function Uw(K,rt){if(rt===void 0&&(rt=!0),K.length!=3)throw new Error("This function requires an array of three points [x,y]");return(K[1][0]-K[0][0])*(K[2][1]-K[0][1])-(K[1][1]-K[0][1])*(K[2][0]-K[0][0])>=0==rt}function fo(K){for(var rt=0,nt=0;nt<K.length-1;nt++)K[nt][0]<K[rt][0]&&(rt=nt);if(Uw([K[Lf(rt-1,K.length-1)],K[rt],K[Lf(rt+1,K.length-1)]],!0))var lt=1;else lt=-1;return lt}function Ef(K,rt){if(!K||!rt||K.length!=rt.length)return!1;for(var nt=0,lt=K.length;nt<lt;nt++)if(K[nt]instanceof Array&&rt[nt]instanceof Array){if(!Ef(K[nt],rt[nt]))return!1}else if(K[nt]!=rt[nt])return!1;return!0}function Lf(K,rt){return(K%rt+rt)%rt}var Wf=Math.PI/180,Qf=180/Math.PI,wp=function(K,rt){this.lon=K,this.lat=rt,this.x=Wf*K,this.y=Wf*rt};wp.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},wp.prototype.antipode=function(){var K=-1*this.lat,rt=this.lon<0?180+this.lon:-1*(180-this.lon);return new wp(rt,K)};var Kp=function(){this.coords=[],this.length=0};Kp.prototype.move_to=function(K){this.length++,this.coords.push(K)};var ug=function(K){this.properties=K||{},this.geometries=[]};ug.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(this.geometries.length===1)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var K=[],rt=0;rt<this.geometries.length;rt++)K.push(this.geometries[rt].coords);return{geometry:{type:"MultiLineString",coordinates:K},type:"Feature",properties:this.properties}},ug.prototype.wkt=function(){for(var K="",rt="LINESTRING(",nt=function(pt){rt+=pt[0]+" "+pt[1]+","},lt=0;lt<this.geometries.length;lt++){if(this.geometries[lt].coords.length===0)return"LINESTRING(empty)";this.geometries[lt].coords.forEach(nt),K+=rt.substring(0,rt.length-1)+")"}return K};var bg=function(K,rt,nt){if(!K||K.x===void 0||K.y===void 0)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!rt||rt.x===void 0||rt.y===void 0)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new wp(K.x,K.y),this.end=new wp(rt.x,rt.y),this.properties=nt||{};var lt=this.start.x-this.end.x,pt=this.start.y-this.end.y,lo=Math.pow(Math.sin(pt/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(lt/2),2);if(this.g=2*Math.asin(Math.sqrt(lo)),this.g===Math.PI)throw new Error("it appears "+K.view()+" and "+rt.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+K+" and "+rt)};function Tg(K,rt){var nt=[],lt=i0();return Ep(rt,function(pt){if(nt.forEach(function(vf,Cf){vf.id=Cf}),nt.length){var lo=lt.search(pt);if(lo.features.length){var vo=xm(pt,lo);nt=nt.filter(function(vf){return vf.id!==vo.id}),lt.remove(vo),fp(Wg(vo,pt),function(vf){nt.push(vf),lt.insert(vf)})}}else(nt=Wg(K,pt).features).forEach(function(vf){vf.bbox||(vf.bbox=Px(Jf(vf)))}),lt.load(uf(nt))}),uf(nt)}function Wg(K,rt){var nt=[],lt=ap(K)[0],pt=ap(K)[K.geometry.coordinates.length-1];if(Vm(lt,ip(rt))||Vm(pt,ip(rt)))return uf([K]);var lo=i0(),vo=C0(K);lo.load(vo);var vf=lo.search(rt);if(!vf.features.length)return uf([K]);var Cf=xm(rt,vf),Tf=Mp(vo,function(Rf,Of,Bf){var Gf=ap(Of)[1],qf=ip(rt);return Bf===Cf.id?(Rf.push(qf),nt.push(yo(Rf)),Vm(qf,Gf)?[qf]:[qf,Gf]):(Rf.push(Gf),Rf)},[lt]);return Tf.length>1&&nt.push(yo(Tf)),uf(nt)}function xm(K,rt){if(!rt.features.length)throw new Error("lines must contain features");if(rt.features.length===1)return rt.features[0];var nt,lt=1/0;return fp(rt,function(pt){var lo=Cb(pt,K).properties.dist;lo<lt&&(nt=pt,lt=lo)}),nt}function Vm(K,rt){return K[0]===rt[0]&&K[1]===rt[1]}function gy(K,rt,nt,lt,pt){pt===void 0&&(pt={});var lo=pt.steps||64,vo=p0(nt),vf=p0(lt),Cf=Array.isArray(K)||K.type!=="Feature"?{}:K.properties;if(vo===vf)return yo(Lw(K,rt,pt).geometry.coordinates[0],Cf);for(var Tf=vo,Rf=vo<vf?vf:vf+360,Of=Tf,Bf=[],Gf=0;Of<Rf;)Bf.push(B0(K,rt,Of,pt).geometry.coordinates),Of=Tf+360*++Gf/lo;return Of>Rf&&Bf.push(B0(K,rt,Rf,pt).geometry.coordinates),yo(Bf,Cf)}function p0(K){var rt=K%360;return rt<0&&(rt+=360),rt}function ty(K,rt){rt===void 0&&(rt={});var nt=Rp(K);switch(rt.properties||K.type!=="Feature"||(rt.properties=K.properties),nt.type){case"Polygon":return Sy(nt,rt);case"MultiPolygon":return function(lt,pt){pt===void 0&&(pt={});var lo=Rp(lt).coordinates,vo=pt.properties?pt.properties:lt.type==="Feature"?lt.properties:{},vf=[];return lo.forEach(function(Cf){vf.push(B1(Cf,vo))}),uf(vf)}(nt,rt);default:throw new Error("invalid poly")}}function Sy(K,rt){return rt===void 0&&(rt={}),B1(Rp(K).coordinates,rt.properties?rt.properties:K.type==="Feature"?K.properties:{})}function B1(K,rt){return K.length>1?df(K,rt):yo(K[0],rt)}function zx(K,rt){var nt,lt,pt;rt===void 0&&(rt={});var lo=rt.properties,vo=(nt=rt.autoComplete)===null||nt===void 0||nt,vf=(lt=rt.orderCoords)===null||lt===void 0||lt;switch((pt=rt.mutate)!==null&&pt!==void 0&&pt||(K=Iv(K)),K.type){case"FeatureCollection":var Cf=[];return K.features.forEach(function(Tf){Cf.push(ap(jx(Tf,{},vo,vf)))}),wo(Cf,lo);default:return jx(K,lo,vo,vf)}}function jx(K,rt,nt,lt){rt=rt||(K.type==="Feature"?K.properties:{});var pt=Rp(K),lo=pt.coordinates,vo=pt.type;if(!lo.length)throw new Error("line must contain coordinates");switch(vo){case"LineString":return nt&&(lo=hw(lo)),uo([lo],rt);case"MultiLineString":var vf=[],Cf=0;return lo.forEach(function(Tf){if(nt&&(Tf=hw(Tf)),lt){var Rf=function(Of){var Bf=Of[0],Gf=Of[1],qf=Of[2],Kf=Of[3];return Math.abs(Bf-qf)*Math.abs(Gf-Kf)}(Jf(yo(Tf)));Rf>Cf?(vf.unshift(Tf),Cf=Rf):vf.push(Tf)}else vf.push(Tf)}),uo(vf,rt);default:throw new Error("geometry type "+vo+" is not supported")}}function hw(K){var rt=K[0],nt=rt[0],lt=rt[1],pt=K[K.length-1],lo=pt[0],vo=pt[1];return nt===lo&&lt===vo||K.push(rt),K}function dw(K,rt){var nt,lt,pt,lo,vo,vf,Cf;for(lt=1;lt<=8;lt*=2){for(nt=[],lo=!(u1(pt=K[K.length-1],rt)&lt),vo=0;vo<K.length;vo++)(Cf=!(u1(vf=K[vo],rt)&lt))!==lo&&nt.push(Ub(pt,vf,lt,rt)),Cf&&nt.push(vf),pt=vf,lo=Cf;if(!(K=nt).length)break}return nt}function Ub(K,rt,nt,lt){return 8&nt?[K[0]+(rt[0]-K[0])*(lt[3]-K[1])/(rt[1]-K[1]),lt[3]]:4&nt?[K[0]+(rt[0]-K[0])*(lt[1]-K[1])/(rt[1]-K[1]),lt[1]]:2&nt?[lt[2],K[1]+(rt[1]-K[1])*(lt[2]-K[0])/(rt[0]-K[0])]:1&nt?[lt[0],K[1]+(rt[1]-K[1])*(lt[0]-K[0])/(rt[0]-K[0])]:null}function u1(K,rt){var nt=0;return K[0]<rt[0]?nt|=1:K[0]>rt[2]&&(nt|=2),K[1]<rt[1]?nt|=4:K[1]>rt[3]&&(nt|=8),nt}function g0(K,rt){for(var nt=[],lt=0,pt=K;lt<pt.length;lt++){var lo=dw(pt[lt],rt);lo.length>0&&(lo[0][0]===lo[lo.length-1][0]&&lo[0][1]===lo[lo.length-1][1]||lo.push(lo[0]),lo.length>=4&&nt.push(lo))}return nt}bg.prototype.interpolate=function(K){var rt=Math.sin((1-K)*this.g)/Math.sin(this.g),nt=Math.sin(K*this.g)/Math.sin(this.g),lt=rt*Math.cos(this.start.y)*Math.cos(this.start.x)+nt*Math.cos(this.end.y)*Math.cos(this.end.x),pt=rt*Math.cos(this.start.y)*Math.sin(this.start.x)+nt*Math.cos(this.end.y)*Math.sin(this.end.x),lo=rt*Math.sin(this.start.y)+nt*Math.sin(this.end.y),vo=Qf*Math.atan2(lo,Math.sqrt(Math.pow(lt,2)+Math.pow(pt,2)));return[Qf*Math.atan2(pt,lt),vo]},bg.prototype.Arc=function(K,rt){var nt=[];if(!K||K<=2)nt.push([this.start.lon,this.start.lat]),nt.push([this.end.lon,this.end.lat]);else for(var lt=1/(K-1),pt=0;pt<K;++pt){var lo=lt*pt,vo=this.interpolate(lo);nt.push(vo)}for(var vf=!1,Cf=0,Tf=rt&&rt.offset?rt.offset:10,Rf=180-Tf,Of=-180+Tf,Bf=360-Tf,Gf=1;Gf<nt.length;++Gf){var qf=nt[Gf-1][0],Kf=nt[Gf][0],Uf=Math.abs(Kf-qf);Uf>Bf&&(Kf>Rf&&qf<Of||qf>Rf&&Kf<Of)?vf=!0:Uf>Cf&&(Cf=Uf)}var lp=[];if(vf&&Cf<Tf){var xp=[];lp.push(xp);for(var Yf=0;Yf<nt.length;++Yf){var sp=parseFloat(nt[Yf][0]);if(Yf>0&&Math.abs(sp-nt[Yf-1][0])>Bf){var hp=parseFloat(nt[Yf-1][0]),vp=parseFloat(nt[Yf-1][1]),gp=parseFloat(nt[Yf][0]),hg=parseFloat(nt[Yf][1]);if(hp>-180&&hp<Of&&gp===180&&Yf+1<nt.length&&nt[Yf-1][0]>-180&&nt[Yf-1][0]<Of){xp.push([-180,nt[Yf][1]]),Yf++,xp.push([nt[Yf][0],nt[Yf][1]]);continue}if(hp>Rf&&hp<180&&gp===-180&&Yf+1<nt.length&&nt[Yf-1][0]>Rf&&nt[Yf-1][0]<180){xp.push([180,nt[Yf][1]]),Yf++,xp.push([nt[Yf][0],nt[Yf][1]]);continue}if(hp<Of&&gp>Rf){var tg=hp;hp=gp,gp=tg;var pg=vp;vp=hg,hg=pg}if(hp>Rf&&gp<Of&&(gp+=360),hp<=180&&gp>=180&&hp<gp){var rg=(180-hp)/(gp-hp),_g=rg*hg+(1-rg)*vp;xp.push([nt[Yf-1][0]>Rf?180:-180,_g]),(xp=[]).push([nt[Yf-1][0]>Rf?-180:180,_g]),lp.push(xp)}else xp=[],lp.push(xp);xp.push([sp,nt[Yf][1]])}else xp.push([nt[Yf][0],nt[Yf][1]])}}else{var lg=[];lp.push(lg);for(var ag=0;ag<nt.length;++ag)lg.push([nt[ag][0],nt[ag][1]])}for(var ig=new ug(this.properties),yg=0;yg<lp.length;++yg){var cg=new Kp;ig.geometries.push(cg);for(var xg=lp[yg],Wp=0;Wp<xg.length;++Wp)cg.move_to(xg[Wp])}return ig};var E_=km(function(K,rt){function nt(lt){var pt=[];for(var lo in lt)pt.push(lo);return pt}(K.exports=typeof Object.keys=="function"?Object.keys:nt).shim=nt}),OE=km(function(K,rt){var nt=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";function lt(lo){return Object.prototype.toString.call(lo)=="[object Arguments]"}function pt(lo){return lo&&typeof lo=="object"&&typeof lo.length=="number"&&Object.prototype.hasOwnProperty.call(lo,"callee")&&!Object.prototype.propertyIsEnumerable.call(lo,"callee")||!1}(rt=K.exports=nt?lt:pt).supported=lt,rt.unsupported=pt}),Ng=km(function(K){var rt=Array.prototype.slice,nt=K.exports=function(lo,vo,vf){return vf||(vf={}),lo===vo||(lo instanceof Date&&vo instanceof Date?lo.getTime()===vo.getTime():!lo||!vo||typeof lo!="object"&&typeof vo!="object"?vf.strict?lo===vo:lo==vo:function(Cf,Tf,Rf){var Of,Bf;if(lt(Cf)||lt(Tf)||Cf.prototype!==Tf.prototype)return!1;if(OE(Cf))return!!OE(Tf)&&(Cf=rt.call(Cf),Tf=rt.call(Tf),nt(Cf,Tf,Rf));if(pt(Cf)){if(!pt(Tf)||Cf.length!==Tf.length)return!1;for(Of=0;Of<Cf.length;Of++)if(Cf[Of]!==Tf[Of])return!1;return!0}try{var Gf=E_(Cf),qf=E_(Tf)}catch{return!1}if(Gf.length!=qf.length)return!1;for(Gf.sort(),qf.sort(),Of=Gf.length-1;Of>=0;Of--)if(Gf[Of]!=qf[Of])return!1;for(Of=Gf.length-1;Of>=0;Of--)if(Bf=Gf[Of],!nt(Cf[Bf],Tf[Bf],Rf))return!1;return typeof Cf==typeof Tf}(lo,vo,vf))};function lt(lo){return lo==null}function pt(lo){return!(!lo||typeof lo!="object"||typeof lo.length!="number")&&typeof lo.copy=="function"&&typeof lo.slice=="function"&&!(lo.length>0&&typeof lo[0]!="number")}});function lx(K,rt,nt){if(nt===void 0&&(nt={}),!Pf(nt=nt||{}))throw new Error("options is invalid");var lt,pt=nt.tolerance||0,lo=[],vo=i0(),vf=C0(K);return vo.load(vf),$p(rt,function(Cf){var Tf=!1;Cf&&(fp(vo.search(Cf),function(Rf){if(Tf===!1){var Of=ap(Cf).sort(),Bf=ap(Rf).sort();Ng(Of,Bf)||(pt===0?$y(Of[0],Rf)&&$y(Of[1],Rf):Cb(Rf,Of[0]).properties.dist<=pt&&Cb(Rf,Of[1]).properties.dist<=pt)?(Tf=!0,lt=lt?k_(lt,Cf):Cf):(pt===0?$y(Bf[0],Cf)&&$y(Bf[1],Cf):Cb(Cf,Bf[0]).properties.dist<=pt&&Cb(Cf,Bf[1]).properties.dist<=pt)&&(lt=lt?k_(lt,Rf):Rf)}}),Tf===!1&&lt&&(lo.push(lt),lt=void 0))}),lt&&lo.push(lt),uf(lo)}function k_(K,rt){var nt=ap(rt),lt=ap(K),pt=lt[0],lo=lt[lt.length-1],vo=K.geometry.coordinates;return Ng(nt[0],pt)?vo.unshift(nt[1]):Ng(nt[0],lo)?vo.push(nt[1]):Ng(nt[1],pt)?vo.unshift(nt[0]):Ng(nt[1],lo)&&vo.push(nt[0]),K}function C_(K){var rt=K%360;return rt<0&&(rt+=360),rt}function Tv(K,rt,nt){var lt;return nt===void 0&&(nt={}),(lt=nt.final?ux(ip(rt),ip(K)):ux(ip(K),ip(rt)))>180?-(360-lt):lt}function ux(K,rt){var nt=Sf(K[1]),lt=Sf(rt[1]),pt=Sf(rt[0]-K[0]);pt>Math.PI&&(pt-=2*Math.PI),pt<-Math.PI&&(pt+=2*Math.PI);var lo=Math.log(Math.tan(lt/2+Math.PI/4)/Math.tan(nt/2+Math.PI/4));return(yf(Math.atan2(pt,lo))+360)%360}function S_(K,rt,nt,lt){lt===void 0&&(lt={});var pt=rt<0,lo=xf(Math.abs(rt),lt.units,"meters");pt&&(lo=-Math.abs(lo));var vo=ip(K),vf=function(Cf,Tf,Rf,Of){Of=Of===void 0?W:Number(Of);var Bf=Tf/Of,Gf=Cf[0]*Math.PI/180,qf=Sf(Cf[1]),Kf=Sf(Rf),Uf=Bf*Math.cos(Kf),lp=qf+Uf;Math.abs(lp)>Math.PI/2&&(lp=lp>0?Math.PI-lp:-Math.PI-lp);var xp=Math.log(Math.tan(lp/2+Math.PI/4)/Math.tan(qf/2+Math.PI/4)),Yf=Math.abs(xp)>1e-11?Uf/xp:Math.cos(qf),sp=Bf*Math.sin(Kf)/Yf;return[(180*(Gf+sp)/Math.PI+540)%360-180,180*lp/Math.PI]}(vo,lo,nt);return vf[0]+=vf[0]-vo[0]>180?-360:vo[0]-vf[0]>180?360:0,ut(vf,lt.properties)}function Hx(K,rt,nt,lt,pt,lo){for(var vo=0;vo<K.length;vo++){var vf=K[vo],Cf=K[vo+1];vo===K.length-1&&(Cf=K[0]),lt=fw(vf,Cf,rt),nt<=0&&lt>0?fw(rt,vf,pt)<0||(pt=vf):nt>0&&lt<=0&&(Ov(rt,vf,lo)||(lo=vf)),nt=lt}return[pt,lo]}function Ov(K,rt,nt){return fw(K,rt,nt)>0}function fw(K,rt,nt){return(rt[0]-K[0])*(nt[1]-K[1])-(nt[0]-K[0])*(rt[1]-K[1])}function Vx(K){for(var rt,nt,lt=ap(K),pt=0,lo=1;lo<lt.length;)rt=nt||lt[0],pt+=((nt=lt[lo])[0]-rt[0])*(nt[1]+rt[1]),lo++;return pt>0}function pw(K,rt){switch(K.type==="Feature"?K.geometry.type:K.type){case"GeometryCollection":return Pp(K,function(nt){pw(nt,rt)}),K;case"LineString":return ME(ap(K),rt),K;case"Polygon":return Fy(ap(K),rt),K;case"MultiLineString":return ap(K).forEach(function(nt){ME(nt,rt)}),K;case"MultiPolygon":return ap(K).forEach(function(nt){Fy(nt,rt)}),K;case"Point":case"MultiPoint":return K}}function ME(K,rt){Vx(K)===rt&&K.reverse()}function Fy(K,rt){Vx(K[0])!==rt&&K[0].reverse();for(var nt=1;nt<K.length;nt++)Vx(K[nt])===rt&&K[nt].reverse()}function kk(K,rt){if(!Pf(rt=rt||{}))throw new Error("options is invalid");var nt=rt.zProperty||"elevation",lt=rt.flip,pt=rt.flags;zp(K,"Point","input must contain Points");for(var lo=function(Bf,Gf){var qf={};return fp(Bf,function(Kf){var Uf=ap(Kf)[1];qf[Uf]||(qf[Uf]=[]),qf[Uf].push(Kf)}),Object.keys(qf).map(function(Kf){return qf[Kf].sort(function(Uf,lp){return ap(Uf)[0]-ap(lp)[0]})}).sort(function(Kf,Uf){return Gf?ap(Kf[0])[1]-ap(Uf[0])[1]:ap(Uf[0])[1]-ap(Kf[0])[1]})}(K,lt),vo=[],vf=0;vf<lo.length;vf++){for(var Cf=lo[vf],Tf=[],Rf=0;Rf<Cf.length;Rf++){var Of=Cf[Rf];Of.properties[nt]?Tf.push(Of.properties[nt]):Tf.push(0),pt===!0&&(Of.properties.matrixPosition=[vf,Rf])}vo.push(Tf)}return vo}var Ck={successCallback:null,verbose:!1,polygons:!1},Wb={};function Ww(K,rt,nt,lt){lt=lt||{};for(var pt=Object.keys(Ck),lo=0;lo<pt.length;lo++){var vo=pt[lo],vf=lt[vo];vf=vf??Ck[vo],Wb[vo]=vf}Wb.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+rt+":"+(rt+nt)+"]");var Cf,Tf=function(Rf,Of,Bf){for(var Gf=Rf.length-1,qf=Rf[0].length-1,Kf={rows:Gf,cols:qf,cells:[]},Uf=Of+Math.abs(Bf),lp=0;lp<Gf;++lp){Kf.cells[lp]=[];for(var xp=0;xp<qf;++xp){var Yf=0,sp=Rf[lp+1][xp],hp=Rf[lp+1][xp+1],vp=Rf[lp][xp+1],gp=Rf[lp][xp];if(!(isNaN(sp)||isNaN(hp)||isNaN(vp)||isNaN(gp))){Yf|=sp<Of?0:sp>Uf?128:64,Yf|=hp<Of?0:hp>Uf?32:16,Yf|=vp<Of?0:vp>Uf?8:4;var hg=+(Yf|=gp<Of?0:gp>Uf?2:1),tg=0;if(Yf===17||Yf===18||Yf===33||Yf===34||Yf===38||Yf===68||Yf===72||Yf===98||Yf===102||Yf===132||Yf===136||Yf===137||Yf===152||Yf===153){var pg=(sp+hp+vp+gp)/4;tg=pg>Uf?2:pg<Of?0:1,Yf===34?tg===1?Yf=35:tg===0&&(Yf=136):Yf===136?tg===1?(Yf=35,tg=4):tg===0&&(Yf=34):Yf===17?tg===1?(Yf=155,tg=4):tg===0&&(Yf=153):Yf===68?tg===1?(Yf=103,tg=4):tg===0&&(Yf=102):Yf===153?tg===1&&(Yf=155):Yf===102?tg===1&&(Yf=103):Yf===152?tg<2&&(Yf=156,tg=1):Yf===137?tg<2&&(Yf=139,tg=1):Yf===98?tg<2&&(Yf=99,tg=1):Yf===38?tg<2&&(Yf=39,tg=1):Yf===18?tg>0?(Yf=156,tg=4):Yf=152:Yf===33?tg>0?(Yf=139,tg=4):Yf=137:Yf===72?tg>0?(Yf=99,tg=4):Yf=98:Yf===132&&(tg>0?(Yf=39,tg=4):Yf=38)}if(Yf!=0&&Yf!=170){var rg,_g,lg,ag,ig,yg,cg,xg;rg=_g=lg=ag=ig=yg=cg=xg=.5;var Wp=[];Yf===1?(lg=1-np(Of,vp,gp),xg=1-np(Of,sp,gp),Wp.push(Mf[Yf])):Yf===169?(lg=np(Uf,gp,vp),xg=np(Uf,gp,sp),Wp.push(Mf[Yf])):Yf===4?(yg=1-np(Of,hp,vp),ag=np(Of,gp,vp),Wp.push(qg[Yf])):Yf===166?(yg=np(Uf,vp,hp),ag=1-np(Uf,vp,gp),Wp.push(qg[Yf])):Yf===16?(ig=np(Of,vp,hp),_g=np(Of,sp,hp),Wp.push(Gg[Yf])):Yf===154?(ig=1-np(Uf,hp,vp),_g=1-np(Uf,hp,sp),Wp.push(Gg[Yf])):Yf===64?(cg=np(Of,gp,sp),rg=1-np(Of,hp,sp),Wp.push(tp[Yf])):Yf===106?(cg=1-np(Uf,sp,gp),rg=np(Uf,sp,hp),Wp.push(tp[Yf])):Yf===168?(ag=np(Uf,gp,vp),lg=np(Of,gp,vp),xg=np(Of,gp,sp),cg=np(Uf,gp,sp),Wp.push(Bg[Yf]),Wp.push(Mf[Yf])):Yf===2?(ag=1-np(Of,vp,gp),lg=1-np(Uf,vp,gp),xg=1-np(Uf,sp,gp),cg=1-np(Of,sp,gp),Wp.push(Bg[Yf]),Wp.push(Mf[Yf])):Yf===162?(ig=np(Uf,vp,hp),yg=np(Of,vp,hp),ag=1-np(Of,vp,gp),lg=1-np(Uf,vp,gp),Wp.push(Bg[Yf]),Wp.push(Mf[Yf])):Yf===8?(ig=1-np(Of,hp,vp),yg=1-np(Uf,hp,vp),ag=np(Uf,gp,vp),lg=np(Of,gp,vp),Wp.push(Gg[Yf]),Wp.push(qg[Yf])):Yf===138?(ig=1-np(Of,hp,vp),yg=1-np(Uf,hp,vp),rg=1-np(Uf,hp,sp),_g=1-np(Of,hp,sp),Wp.push(Gg[Yf]),Wp.push(qg[Yf])):Yf===32?(ig=np(Uf,vp,hp),yg=np(Of,vp,hp),rg=np(Of,sp,hp),_g=np(Uf,sp,hp),Wp.push(Gg[Yf]),Wp.push(qg[Yf])):Yf===42?(xg=1-np(Uf,sp,gp),cg=1-np(Of,sp,gp),rg=np(Of,sp,hp),_g=np(Uf,sp,hp),Wp.push(Vf[Yf]),Wp.push(tp[Yf])):Yf===128&&(xg=np(Of,gp,sp),cg=np(Uf,gp,sp),rg=1-np(Uf,hp,sp),_g=1-np(Of,hp,sp),Wp.push(Vf[Yf]),Wp.push(tp[Yf])),Yf===5?(yg=1-np(Of,hp,vp),xg=1-np(Of,sp,gp),Wp.push(qg[Yf])):Yf===165?(yg=np(Uf,vp,hp),xg=np(Uf,gp,sp),Wp.push(qg[Yf])):Yf===20?(ag=np(Of,gp,vp),_g=np(Of,sp,hp),Wp.push(Bg[Yf])):Yf===150?(ag=1-np(Uf,vp,gp),_g=1-np(Uf,hp,sp),Wp.push(Bg[Yf])):Yf===80?(ig=np(Of,vp,hp),cg=np(Of,gp,sp),Wp.push(Gg[Yf])):Yf===90?(ig=1-np(Uf,hp,vp),cg=1-np(Uf,sp,gp),Wp.push(Gg[Yf])):Yf===65?(lg=1-np(Of,vp,gp),rg=1-np(Of,hp,sp),Wp.push(Mf[Yf])):Yf===105?(lg=np(Uf,gp,vp),rg=np(Uf,sp,hp),Wp.push(Mf[Yf])):Yf===160?(ig=np(Uf,vp,hp),yg=np(Of,vp,hp),xg=np(Of,gp,sp),cg=np(Uf,gp,sp),Wp.push(Gg[Yf]),Wp.push(qg[Yf])):Yf===10?(ig=1-np(Of,hp,vp),yg=1-np(Uf,hp,vp),xg=1-np(Uf,sp,gp),cg=1-np(Of,sp,gp),Wp.push(Gg[Yf]),Wp.push(qg[Yf])):Yf===130?(ag=1-np(Of,vp,gp),lg=1-np(Uf,vp,gp),rg=1-np(Uf,hp,sp),_g=1-np(Of,hp,sp),Wp.push(Bg[Yf]),Wp.push(Mf[Yf])):Yf===40?(ag=np(Uf,gp,vp),lg=np(Of,gp,vp),rg=np(Of,sp,hp),_g=np(Uf,sp,hp),Wp.push(Bg[Yf]),Wp.push(Mf[Yf])):Yf===101?(yg=np(Uf,vp,hp),rg=np(Uf,sp,hp),Wp.push(qg[Yf])):Yf===69?(yg=1-np(Of,hp,vp),rg=1-np(Of,hp,sp),Wp.push(qg[Yf])):Yf===149?(xg=np(Uf,gp,sp),_g=1-np(Uf,hp,sp),Wp.push(Vf[Yf])):Yf===21?(xg=1-np(Of,sp,gp),_g=np(Of,sp,hp),Wp.push(Vf[Yf])):Yf===86?(ag=1-np(Uf,vp,gp),cg=1-np(Uf,sp,gp),Wp.push(Bg[Yf])):Yf===84?(ag=np(Of,gp,vp),cg=np(Of,gp,sp),Wp.push(Bg[Yf])):Yf===89?(ig=1-np(Uf,hp,vp),lg=np(Uf,gp,vp),Wp.push(Mf[Yf])):Yf===81?(ig=np(Of,vp,hp),lg=1-np(Of,vp,gp),Wp.push(Mf[Yf])):Yf===96?(ig=np(Uf,vp,hp),yg=np(Of,vp,hp),cg=np(Of,gp,sp),rg=np(Uf,sp,hp),Wp.push(Gg[Yf]),Wp.push(qg[Yf])):Yf===74?(ig=1-np(Of,hp,vp),yg=1-np(Uf,hp,vp),cg=1-np(Uf,sp,gp),rg=1-np(Of,hp,sp),Wp.push(Gg[Yf]),Wp.push(qg[Yf])):Yf===24?(ig=1-np(Uf,hp,vp),ag=np(Uf,gp,vp),lg=np(Of,gp,vp),_g=np(Of,sp,hp),Wp.push(Gg[Yf]),Wp.push(Mf[Yf])):Yf===146?(ig=np(Of,vp,hp),ag=1-np(Of,vp,gp),lg=1-np(Uf,vp,gp),_g=1-np(Uf,hp,sp),Wp.push(Gg[Yf]),Wp.push(Mf[Yf])):Yf===6?(yg=1-np(Of,hp,vp),ag=1-np(Uf,vp,gp),xg=1-np(Uf,sp,gp),cg=1-np(Of,sp,gp),Wp.push(qg[Yf]),Wp.push(Bg[Yf])):Yf===164?(yg=np(Uf,vp,hp),ag=np(Of,gp,vp),xg=np(Of,gp,sp),cg=np(Uf,gp,sp),Wp.push(qg[Yf]),Wp.push(Bg[Yf])):Yf===129?(lg=1-np(Of,vp,gp),xg=np(Uf,gp,sp),rg=1-np(Uf,hp,sp),_g=1-np(Of,hp,sp),Wp.push(Mf[Yf]),Wp.push(Vf[Yf])):Yf===41?(lg=np(Uf,gp,vp),xg=1-np(Of,sp,gp),rg=np(Of,sp,hp),_g=np(Uf,sp,hp),Wp.push(Mf[Yf]),Wp.push(Vf[Yf])):Yf===66?(ag=1-np(Of,vp,gp),lg=1-np(Uf,vp,gp),cg=1-np(Uf,sp,gp),rg=1-np(Of,hp,sp),Wp.push(Bg[Yf]),Wp.push(Mf[Yf])):Yf===104?(ag=np(Uf,gp,vp),lg=np(Of,gp,vp),cg=np(Of,gp,sp),rg=np(Uf,sp,hp),Wp.push(Mf[Yf]),Wp.push(pp[Yf])):Yf===144?(ig=np(Of,vp,hp),xg=np(Of,gp,sp),cg=np(Uf,gp,sp),_g=1-np(Uf,hp,sp),Wp.push(Gg[Yf]),Wp.push(tp[Yf])):Yf===26?(ig=1-np(Uf,hp,vp),xg=1-np(Uf,sp,gp),cg=1-np(Of,sp,gp),_g=np(Of,sp,hp),Wp.push(Gg[Yf]),Wp.push(tp[Yf])):Yf===36?(yg=np(Uf,vp,hp),ag=np(Of,gp,vp),rg=np(Of,sp,hp),_g=np(Uf,sp,hp),Wp.push(qg[Yf]),Wp.push(Bg[Yf])):Yf===134?(yg=1-np(Of,hp,vp),ag=1-np(Uf,vp,gp),rg=1-np(Uf,hp,sp),_g=1-np(Of,hp,sp),Wp.push(qg[Yf]),Wp.push(Bg[Yf])):Yf===9?(ig=1-np(Of,hp,vp),yg=1-np(Uf,hp,vp),lg=np(Uf,gp,vp),xg=1-np(Of,sp,gp),Wp.push(Gg[Yf]),Wp.push(qg[Yf])):Yf===161?(ig=np(Uf,vp,hp),yg=np(Of,vp,hp),lg=1-np(Of,vp,gp),xg=np(Uf,gp,sp),Wp.push(Gg[Yf]),Wp.push(qg[Yf])):Yf===37?(yg=np(Uf,vp,hp),xg=1-np(Of,sp,gp),rg=np(Of,sp,hp),_g=np(Uf,sp,hp),Wp.push(qg[Yf]),Wp.push(Vf[Yf])):Yf===133?(yg=1-np(Of,hp,vp),xg=np(Uf,gp,sp),rg=1-np(Uf,hp,sp),_g=1-np(Of,hp,sp),Wp.push(qg[Yf]),Wp.push(Vf[Yf])):Yf===148?(ag=np(Of,gp,vp),xg=np(Of,gp,sp),cg=np(Uf,gp,sp),_g=1-np(Uf,hp,sp),Wp.push(Bg[Yf]),Wp.push(tp[Yf])):Yf===22?(ag=1-np(Uf,vp,gp),xg=1-np(Uf,sp,gp),cg=1-np(Of,sp,gp),_g=np(Of,sp,hp),Wp.push(Bg[Yf]),Wp.push(tp[Yf])):Yf===82?(ig=np(Of,vp,hp),ag=1-np(Of,vp,gp),lg=1-np(Uf,vp,gp),cg=1-np(Uf,sp,gp),Wp.push(Gg[Yf]),Wp.push(Mf[Yf])):Yf===88?(ig=1-np(Uf,hp,vp),ag=np(Uf,gp,vp),lg=np(Of,gp,vp),cg=np(Of,gp,sp),Wp.push(Gg[Yf]),Wp.push(Mf[Yf])):Yf===73?(ig=1-np(Of,hp,vp),yg=1-np(Uf,hp,vp),lg=np(Uf,gp,vp),rg=1-np(Of,hp,sp),Wp.push(Gg[Yf]),Wp.push(qg[Yf])):Yf===97?(ig=np(Uf,vp,hp),yg=np(Of,vp,hp),lg=1-np(Of,vp,gp),rg=np(Uf,sp,hp),Wp.push(Gg[Yf]),Wp.push(qg[Yf])):Yf===145?(ig=np(Of,vp,hp),lg=1-np(Of,vp,gp),xg=np(Uf,gp,sp),_g=1-np(Uf,hp,sp),Wp.push(Gg[Yf]),Wp.push(Vf[Yf])):Yf===25?(ig=1-np(Uf,hp,vp),lg=np(Uf,gp,vp),xg=1-np(Of,sp,gp),_g=np(Of,sp,hp),Wp.push(Gg[Yf]),Wp.push(Vf[Yf])):Yf===70?(yg=1-np(Of,hp,vp),ag=1-np(Uf,vp,gp),cg=1-np(Uf,sp,gp),rg=1-np(Of,hp,sp),Wp.push(qg[Yf]),Wp.push(Bg[Yf])):Yf===100?(yg=np(Uf,vp,hp),ag=np(Of,gp,vp),cg=np(Of,gp,sp),rg=np(Uf,sp,hp),Wp.push(qg[Yf]),Wp.push(Bg[Yf])):Yf===34?(tg===0?(ig=1-np(Of,hp,vp),yg=1-np(Uf,hp,vp),ag=np(Uf,gp,vp),lg=np(Of,gp,vp),xg=np(Of,gp,sp),cg=np(Uf,gp,sp),rg=1-np(Uf,hp,sp),_g=1-np(Of,hp,sp)):(ig=np(Uf,vp,hp),yg=np(Of,vp,hp),ag=1-np(Of,vp,gp),lg=1-np(Uf,vp,gp),xg=1-np(Uf,sp,gp),cg=1-np(Of,sp,gp),rg=np(Of,sp,hp),_g=np(Uf,sp,hp)),Wp.push(Gg[Yf]),Wp.push(qg[Yf]),Wp.push(Vf[Yf]),Wp.push(tp[Yf])):Yf===35?(tg===4?(ig=1-np(Of,hp,vp),yg=1-np(Uf,hp,vp),ag=np(Uf,gp,vp),lg=np(Of,gp,vp),xg=np(Of,gp,sp),cg=np(Uf,gp,sp),rg=1-np(Uf,hp,sp),_g=1-np(Of,hp,sp)):(ig=np(Uf,vp,hp),yg=np(Of,vp,hp),ag=1-np(Of,vp,gp),lg=1-np(Uf,vp,gp),xg=1-np(Uf,sp,gp),cg=1-np(Of,sp,gp),rg=np(Of,sp,hp),_g=np(Uf,sp,hp)),Wp.push(Gg[Yf]),Wp.push(qg[Yf]),Wp.push(Mf[Yf]),Wp.push(tp[Yf])):Yf===136?(tg===0?(ig=np(Uf,vp,hp),yg=np(Of,vp,hp),ag=1-np(Of,vp,gp),lg=1-np(Uf,vp,gp),xg=1-np(Uf,sp,gp),cg=1-np(Of,sp,gp),rg=np(Of,sp,hp),_g=np(Uf,sp,hp)):(ig=1-np(Of,hp,vp),yg=1-np(Uf,hp,vp),ag=np(Uf,gp,vp),lg=np(Of,gp,vp),xg=np(Of,gp,sp),cg=np(Uf,gp,sp),rg=1-np(Uf,hp,sp),_g=1-np(Of,hp,sp)),Wp.push(Gg[Yf]),Wp.push(qg[Yf]),Wp.push(Vf[Yf]),Wp.push(tp[Yf])):Yf===153?(tg===0?(ig=np(Of,vp,hp),lg=1-np(Of,vp,gp),xg=1-np(Of,sp,gp),_g=np(Of,sp,hp)):(ig=1-np(Uf,hp,vp),lg=np(Uf,gp,vp),xg=np(Uf,gp,sp),_g=1-np(Uf,hp,sp)),Wp.push(Gg[Yf]),Wp.push(Mf[Yf])):Yf===102?(tg===0?(yg=1-np(Of,hp,vp),ag=np(Of,gp,vp),cg=np(Of,gp,sp),rg=1-np(Of,hp,sp)):(yg=np(Uf,vp,hp),ag=1-np(Uf,vp,gp),cg=1-np(Uf,sp,gp),rg=np(Uf,sp,hp)),Wp.push(qg[Yf]),Wp.push(tp[Yf])):Yf===155?(tg===4?(ig=np(Of,vp,hp),lg=1-np(Of,vp,gp),xg=1-np(Of,sp,gp),_g=np(Of,sp,hp)):(ig=1-np(Uf,hp,vp),lg=np(Uf,gp,vp),xg=np(Uf,gp,sp),_g=1-np(Uf,hp,sp)),Wp.push(Gg[Yf]),Wp.push(Vf[Yf])):Yf===103?(tg===4?(yg=1-np(Of,hp,vp),ag=np(Of,gp,vp),cg=np(Of,gp,sp),rg=1-np(Of,hp,sp)):(yg=np(Uf,vp,hp),ag=1-np(Uf,vp,gp),cg=1-np(Uf,sp,gp),rg=np(Uf,sp,hp)),Wp.push(qg[Yf]),Wp.push(Bg[Yf])):Yf===152?(tg===0?(ig=np(Of,vp,hp),ag=1-np(Of,vp,gp),lg=1-np(Uf,vp,gp),xg=1-np(Uf,sp,gp),cg=1-np(Of,sp,gp),_g=np(Of,sp,hp)):(ig=1-np(Uf,hp,vp),ag=np(Uf,gp,vp),lg=np(Of,gp,vp),xg=np(Of,gp,sp),cg=np(Uf,gp,sp),_g=1-np(Uf,hp,sp)),Wp.push(Gg[Yf]),Wp.push(Bg[Yf]),Wp.push(Mf[Yf])):Yf===156?(tg===4?(ig=np(Of,vp,hp),ag=1-np(Of,vp,gp),lg=1-np(Uf,vp,gp),xg=1-np(Uf,sp,gp),cg=1-np(Of,sp,gp),_g=np(Of,sp,hp)):(ig=1-np(Uf,hp,vp),ag=np(Uf,gp,vp),lg=np(Of,gp,vp),xg=np(Of,gp,sp),cg=np(Uf,gp,sp),_g=1-np(Uf,hp,sp)),Wp.push(Gg[Yf]),Wp.push(Mf[Yf]),Wp.push(tp[Yf])):Yf===137?(tg===0?(ig=np(Uf,vp,hp),yg=np(Of,vp,hp),lg=1-np(Of,vp,gp),xg=1-np(Of,sp,gp),rg=np(Of,sp,hp),_g=np(Uf,sp,hp)):(ig=1-np(Of,hp,vp),yg=1-np(Uf,hp,vp),lg=np(Uf,gp,vp),xg=np(Uf,gp,sp),rg=1-np(Uf,hp,sp),_g=1-np(Of,hp,sp)),Wp.push(Gg[Yf]),Wp.push(qg[Yf]),Wp.push(Mf[Yf])):Yf===139?(tg===4?(ig=np(Uf,vp,hp),yg=np(Of,vp,hp),lg=1-np(Of,vp,gp),xg=1-np(Of,sp,gp),rg=np(Of,sp,hp),_g=np(Uf,sp,hp)):(ig=1-np(Of,hp,vp),yg=1-np(Uf,hp,vp),lg=np(Uf,gp,vp),xg=np(Uf,gp,sp),rg=1-np(Uf,hp,sp),_g=1-np(Of,hp,sp)),Wp.push(Gg[Yf]),Wp.push(qg[Yf]),Wp.push(Vf[Yf])):Yf===98?(tg===0?(ig=1-np(Of,hp,vp),yg=1-np(Uf,hp,vp),ag=np(Uf,gp,vp),lg=np(Of,gp,vp),cg=np(Of,gp,sp),rg=1-np(Of,hp,sp)):(ig=np(Uf,vp,hp),yg=np(Of,vp,hp),ag=1-np(Of,vp,gp),lg=1-np(Uf,vp,gp),cg=1-np(Uf,sp,gp),rg=np(Uf,sp,hp)),Wp.push(Gg[Yf]),Wp.push(qg[Yf]),Wp.push(tp[Yf])):Yf===99?(tg===4?(ig=1-np(Of,hp,vp),yg=1-np(Uf,hp,vp),ag=np(Uf,gp,vp),lg=np(Of,gp,vp),cg=np(Of,gp,sp),rg=1-np(Of,hp,sp)):(ig=np(Uf,vp,hp),yg=np(Of,vp,hp),ag=1-np(Of,vp,gp),lg=1-np(Uf,vp,gp),cg=1-np(Uf,sp,gp),rg=np(Uf,sp,hp)),Wp.push(Gg[Yf]),Wp.push(qg[Yf]),Wp.push(Mf[Yf])):Yf===38?(tg===0?(yg=1-np(Of,hp,vp),ag=np(Of,gp,vp),xg=np(Of,gp,sp),cg=np(Uf,gp,sp),rg=1-np(Uf,hp,sp),_g=1-np(Of,hp,sp)):(yg=np(Uf,vp,hp),ag=1-np(Uf,vp,gp),xg=1-np(Uf,sp,gp),cg=1-np(Of,sp,gp),rg=np(Of,sp,hp),_g=np(Uf,sp,hp)),Wp.push(qg[Yf]),Wp.push(Vf[Yf]),Wp.push(tp[Yf])):Yf===39?(tg===4?(yg=1-np(Of,hp,vp),ag=np(Of,gp,vp),xg=np(Of,gp,sp),cg=np(Uf,gp,sp),rg=1-np(Uf,hp,sp),_g=1-np(Of,hp,sp)):(yg=np(Uf,vp,hp),ag=1-np(Uf,vp,gp),xg=1-np(Uf,sp,gp),cg=1-np(Of,sp,gp),rg=np(Of,sp,hp),_g=np(Uf,sp,hp)),Wp.push(qg[Yf]),Wp.push(Bg[Yf]),Wp.push(tp[Yf])):Yf===85&&(ig=1,yg=0,ag=1,lg=0,xg=0,cg=1,rg=0,_g=1),(rg<0||rg>1||_g<0||_g>1||ig<0||ig>1||ag<0||ag>1||xg<0||xg>1||cg<0||cg>1)&&console.log("MarchingSquaresJS-isoBands: "+Yf+" "+hg+" "+sp+","+hp+","+vp+","+gp+" "+tg+" "+rg+" "+_g+" "+ig+" "+yg+" "+ag+" "+lg+" "+xg+" "+cg),Kf.cells[lp][xp]={cval:Yf,cval_real:hg,flipped:tg,topleft:rg,topright:_g,righttop:ig,rightbottom:yg,bottomright:ag,bottomleft:lg,leftbottom:xg,lefttop:cg,edges:Wp}}}}}return Kf}(K,rt,nt);return Wb.polygons?(Wb.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),Cf=function(Rf){var Of=[],Bf=0;return Rf.cells.forEach(function(Gf,qf){Gf.forEach(function(Kf,Uf){if(Kf!==void 0){var lp=Hp[Kf.cval](Kf);typeof lp=="object"&&jm(lp)?typeof lp[0]=="object"&&jm(lp[0])?typeof lp[0][0]=="object"&&jm(lp[0][0])?lp.forEach(function(xp){xp.forEach(function(Yf){Yf[0]+=Uf,Yf[1]+=qf}),Of[Bf++]=xp}):(lp.forEach(function(xp){xp[0]+=Uf,xp[1]+=qf}),Of[Bf++]=lp):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}})}),Of}(Tf)):(Wb.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),Cf=function(Rf){for(var Of=[],Bf=Rf.rows,Gf=Rf.cols,qf=[],Kf=0;Kf<Bf;Kf++)for(var Uf=0;Uf<Gf;Uf++)if(Rf.cells[Kf][Uf]!==void 0&&Rf.cells[Kf][Uf].edges.length>0){var lp=a0(Rf.cells[Kf][Uf]),xp=null,Yf=Uf,sp=Kf;lp!==null&&qf.push([lp.p[0]+Yf,lp.p[1]+sp]);do{if((xp=qb(Rf.cells[sp][Yf],lp.x,lp.y,lp.o))===null)break;if(qf.push([xp.p[0]+Yf,xp.p[1]+sp]),Yf+=xp.x,lp=xp,(sp+=xp.y)<0||sp>=Bf||Yf<0||Yf>=Gf||Rf.cells[sp][Yf]===void 0){var hp=Mv(Rf,Yf-=xp.x,sp-=xp.y,xp.x,xp.y,xp.o);if(hp===null)break;hp.path.forEach(function(vp){qf.push(vp)}),Yf=hp.i,sp=hp.j,lp=hp}}while(Rf.cells[sp][Yf]!==void 0&&Rf.cells[sp][Yf].edges.length>0);Of.push(qf),qf=[],Rf.cells[Kf][Uf].edges.length>0&&Uf--}return Of}(Tf)),typeof Wb.successCallback=="function"&&Wb.successCallback(Cf),Cf}var m0=64,c1=16,Nm=[],Zm=[],Jm=[],Um=[],Mm=[],sv=[],av=[],Qm=[],Wm=[],lv=[],uv=[],cv=[],hv=[],bm=[],ev=[],Rm=[],dv=[],Bm=[],fv=[],pv=[],gv=[],Gm=[],mv=[],tv=[];av[85]=lv[85]=-1,Qm[85]=uv[85]=0,Wm[85]=cv[85]=1,fv[85]=Gm[85]=1,pv[85]=mv[85]=0,gv[85]=tv[85]=1,Nm[85]=Um[85]=0,Zm[85]=Mm[85]=-1,Jm[85]=ev[85]=0,Rm[85]=hv[85]=0,dv[85]=bm[85]=1,sv[85]=Bm[85]=1,Gm[1]=Gm[169]=0,mv[1]=mv[169]=-1,tv[1]=tv[169]=0,hv[1]=hv[169]=-1,bm[1]=bm[169]=0,ev[1]=ev[169]=0,lv[4]=lv[166]=0,uv[4]=uv[166]=-1,cv[4]=cv[166]=1,Rm[4]=Rm[166]=1,dv[4]=dv[166]=0,Bm[4]=Bm[166]=0,av[16]=av[154]=0,Qm[16]=Qm[154]=1,Wm[16]=Wm[154]=1,Um[16]=Um[154]=1,Mm[16]=Mm[154]=0,sv[16]=sv[154]=1,fv[64]=fv[106]=0,pv[64]=pv[106]=1,gv[64]=gv[106]=0,Nm[64]=Nm[106]=-1,Zm[64]=Zm[106]=0,Jm[64]=Jm[106]=1,fv[2]=fv[168]=0,pv[2]=pv[168]=-1,gv[2]=gv[168]=1,Gm[2]=Gm[168]=0,mv[2]=mv[168]=-1,tv[2]=tv[168]=0,hv[2]=hv[168]=-1,bm[2]=bm[168]=0,ev[2]=ev[168]=0,Rm[2]=Rm[168]=-1,dv[2]=dv[168]=0,Bm[2]=Bm[168]=1,av[8]=av[162]=0,Qm[8]=Qm[162]=-1,Wm[8]=Wm[162]=0,lv[8]=lv[162]=0,uv[8]=uv[162]=-1,cv[8]=cv[162]=1,hv[8]=hv[162]=1,bm[8]=bm[162]=0,ev[8]=ev[162]=1,Rm[8]=Rm[162]=1,dv[8]=dv[162]=0,Bm[8]=Bm[162]=0,av[32]=av[138]=0,Qm[32]=Qm[138]=1,Wm[32]=Wm[138]=1,lv[32]=lv[138]=0,uv[32]=uv[138]=1,cv[32]=cv[138]=0,Nm[32]=Nm[138]=1,Zm[32]=Zm[138]=0,Jm[32]=Jm[138]=0,Um[32]=Um[138]=1,Mm[32]=Mm[138]=0,sv[32]=sv[138]=1,Gm[128]=Gm[42]=0,mv[128]=mv[42]=1,tv[128]=tv[42]=1,fv[128]=fv[42]=0,pv[128]=pv[42]=1,gv[128]=gv[42]=0,Nm[128]=Nm[42]=-1,Zm[128]=Zm[42]=0,Jm[128]=Jm[42]=1,Um[128]=Um[42]=-1,Mm[128]=Mm[42]=0,sv[128]=sv[42]=0,lv[5]=lv[165]=-1,uv[5]=uv[165]=0,cv[5]=cv[165]=0,Gm[5]=Gm[165]=1,mv[5]=mv[165]=0,tv[5]=tv[165]=0,Rm[20]=Rm[150]=0,dv[20]=dv[150]=1,Bm[20]=Bm[150]=1,Um[20]=Um[150]=0,Mm[20]=Mm[150]=-1,sv[20]=sv[150]=1,av[80]=av[90]=-1,Qm[80]=Qm[90]=0,Wm[80]=Wm[90]=1,fv[80]=fv[90]=1,pv[80]=pv[90]=0,gv[80]=gv[90]=1,hv[65]=hv[105]=0,bm[65]=bm[105]=1,ev[65]=ev[105]=0,Nm[65]=Nm[105]=0,Zm[65]=Zm[105]=-1,Jm[65]=Jm[105]=0,av[160]=av[10]=-1,Qm[160]=Qm[10]=0,Wm[160]=Wm[10]=1,lv[160]=lv[10]=-1,uv[160]=uv[10]=0,cv[160]=cv[10]=0,Gm[160]=Gm[10]=1,mv[160]=mv[10]=0,tv[160]=tv[10]=0,fv[160]=fv[10]=1,pv[160]=pv[10]=0,gv[160]=gv[10]=1,Rm[130]=Rm[40]=0,dv[130]=dv[40]=1,Bm[130]=Bm[40]=1,hv[130]=hv[40]=0,bm[130]=bm[40]=1,ev[130]=ev[40]=0,Nm[130]=Nm[40]=0,Zm[130]=Zm[40]=-1,Jm[130]=Jm[40]=0,Um[130]=Um[40]=0,Mm[130]=Mm[40]=-1,sv[130]=sv[40]=1,lv[37]=lv[133]=0,uv[37]=uv[133]=1,cv[37]=cv[133]=1,Gm[37]=Gm[133]=0,mv[37]=mv[133]=1,tv[37]=tv[133]=0,Nm[37]=Nm[133]=-1,Zm[37]=Zm[133]=0,Jm[37]=Jm[133]=0,Um[37]=Um[133]=1,Mm[37]=Mm[133]=0,sv[37]=sv[133]=0,Rm[148]=Rm[22]=-1,dv[148]=dv[22]=0,Bm[148]=Bm[22]=0,Gm[148]=Gm[22]=0,mv[148]=mv[22]=-1,tv[148]=tv[22]=1,fv[148]=fv[22]=0,pv[148]=pv[22]=1,gv[148]=gv[22]=1,Um[148]=Um[22]=-1,Mm[148]=Mm[22]=0,sv[148]=sv[22]=1,av[82]=av[88]=0,Qm[82]=Qm[88]=-1,Wm[82]=Wm[88]=1,Rm[82]=Rm[88]=1,dv[82]=dv[88]=0,Bm[82]=Bm[88]=1,hv[82]=hv[88]=-1,bm[82]=bm[88]=0,ev[82]=ev[88]=1,fv[82]=fv[88]=0,pv[82]=pv[88]=-1,gv[82]=gv[88]=0,av[73]=av[97]=0,Qm[73]=Qm[97]=1,Wm[73]=Wm[97]=0,lv[73]=lv[97]=0,uv[73]=uv[97]=-1,cv[73]=cv[97]=0,hv[73]=hv[97]=1,bm[73]=bm[97]=0,ev[73]=ev[97]=0,Nm[73]=Nm[97]=1,Zm[73]=Zm[97]=0,Jm[73]=Jm[97]=1,av[145]=av[25]=0,Qm[145]=Qm[25]=-1,Wm[145]=Wm[25]=0,hv[145]=hv[25]=1,bm[145]=bm[25]=0,ev[145]=ev[25]=1,Gm[145]=Gm[25]=0,mv[145]=mv[25]=1,tv[145]=tv[25]=1,Um[145]=Um[25]=-1,Mm[145]=Mm[25]=0,sv[145]=sv[25]=0,lv[70]=lv[100]=0,uv[70]=uv[100]=1,cv[70]=cv[100]=0,Rm[70]=Rm[100]=-1,dv[70]=dv[100]=0,Bm[70]=Bm[100]=1,fv[70]=fv[100]=0,pv[70]=pv[100]=-1,gv[70]=gv[100]=1,Nm[70]=Nm[100]=1,Zm[70]=Zm[100]=0,Jm[70]=Jm[100]=0,lv[101]=lv[69]=0,uv[101]=uv[69]=1,cv[101]=cv[69]=0,Nm[101]=Nm[69]=1,Zm[101]=Zm[69]=0,Jm[101]=Jm[69]=0,Gm[149]=Gm[21]=0,mv[149]=mv[21]=1,tv[149]=tv[21]=1,Um[149]=Um[21]=-1,Mm[149]=Mm[21]=0,sv[149]=sv[21]=0,Rm[86]=Rm[84]=-1,dv[86]=dv[84]=0,Bm[86]=Bm[84]=1,fv[86]=fv[84]=0,pv[86]=pv[84]=-1,gv[86]=gv[84]=1,av[89]=av[81]=0,Qm[89]=Qm[81]=-1,Wm[89]=Wm[81]=0,hv[89]=hv[81]=1,bm[89]=bm[81]=0,ev[89]=ev[81]=1,av[96]=av[74]=0,Qm[96]=Qm[74]=1,Wm[96]=Wm[74]=0,lv[96]=lv[74]=-1,uv[96]=uv[74]=0,cv[96]=cv[74]=1,fv[96]=fv[74]=1,pv[96]=pv[74]=0,gv[96]=gv[74]=0,Nm[96]=Nm[74]=1,Zm[96]=Zm[74]=0,Jm[96]=Jm[74]=1,av[24]=av[146]=0,Qm[24]=Qm[146]=-1,Wm[24]=Wm[146]=1,Rm[24]=Rm[146]=1,dv[24]=dv[146]=0,Bm[24]=Bm[146]=1,hv[24]=hv[146]=0,bm[24]=bm[146]=1,ev[24]=ev[146]=1,Um[24]=Um[146]=0,Mm[24]=Mm[146]=-1,sv[24]=sv[146]=0,lv[6]=lv[164]=-1,uv[6]=uv[164]=0,cv[6]=cv[164]=1,Rm[6]=Rm[164]=-1,dv[6]=dv[164]=0,Bm[6]=Bm[164]=0,Gm[6]=Gm[164]=0,mv[6]=mv[164]=-1,tv[6]=tv[164]=1,fv[6]=fv[164]=1,pv[6]=pv[164]=0,gv[6]=gv[164]=0,hv[129]=hv[41]=0,bm[129]=bm[41]=1,ev[129]=ev[41]=1,Gm[129]=Gm[41]=0,mv[129]=mv[41]=1,tv[129]=tv[41]=0,Nm[129]=Nm[41]=-1,Zm[129]=Zm[41]=0,Jm[129]=Jm[41]=0,Um[129]=Um[41]=0,Mm[129]=Mm[41]=-1,sv[129]=sv[41]=0,Rm[66]=Rm[104]=0,dv[66]=dv[104]=1,Bm[66]=Bm[104]=0,hv[66]=hv[104]=-1,bm[66]=bm[104]=0,ev[66]=ev[104]=1,fv[66]=fv[104]=0,pv[66]=pv[104]=-1,gv[66]=gv[104]=0,Nm[66]=Nm[104]=0,Zm[66]=Zm[104]=-1,Jm[66]=Jm[104]=1,av[144]=av[26]=-1,Qm[144]=Qm[26]=0,Wm[144]=Wm[26]=0,Gm[144]=Gm[26]=1,mv[144]=mv[26]=0,tv[144]=tv[26]=1,fv[144]=fv[26]=0,pv[144]=pv[26]=1,gv[144]=gv[26]=1,Um[144]=Um[26]=-1,Mm[144]=Mm[26]=0,sv[144]=sv[26]=1,lv[36]=lv[134]=0,uv[36]=uv[134]=1,cv[36]=cv[134]=1,Rm[36]=Rm[134]=0,dv[36]=dv[134]=1,Bm[36]=Bm[134]=0,Nm[36]=Nm[134]=0,Zm[36]=Zm[134]=-1,Jm[36]=Jm[134]=1,Um[36]=Um[134]=1,Mm[36]=Mm[134]=0,sv[36]=sv[134]=0,av[9]=av[161]=-1,Qm[9]=Qm[161]=0,Wm[9]=Wm[161]=0,lv[9]=lv[161]=0,uv[9]=uv[161]=-1,cv[9]=cv[161]=0,hv[9]=hv[161]=1,bm[9]=bm[161]=0,ev[9]=ev[161]=0,Gm[9]=Gm[161]=1,mv[9]=mv[161]=0,tv[9]=tv[161]=1,av[136]=0,Qm[136]=1,Wm[136]=1,lv[136]=0,uv[136]=1,cv[136]=0,Rm[136]=-1,dv[136]=0,Bm[136]=1,hv[136]=-1,bm[136]=0,ev[136]=0,Gm[136]=0,mv[136]=-1,tv[136]=0,fv[136]=0,pv[136]=-1,gv[136]=1,Nm[136]=1,Zm[136]=0,Jm[136]=0,Um[136]=1,Mm[136]=0,sv[136]=1,av[34]=0,Qm[34]=-1,Wm[34]=0,lv[34]=0,uv[34]=-1,cv[34]=1,Rm[34]=1,dv[34]=0,Bm[34]=0,hv[34]=1,bm[34]=0,ev[34]=1,Gm[34]=0,mv[34]=1,tv[34]=1,fv[34]=0,pv[34]=1,gv[34]=0,Nm[34]=-1,Zm[34]=0,Jm[34]=1,Um[34]=-1,Mm[34]=0,sv[34]=0,av[35]=0,Qm[35]=1,Wm[35]=1,lv[35]=0,uv[35]=-1,cv[35]=1,Rm[35]=1,dv[35]=0,Bm[35]=0,hv[35]=-1,bm[35]=0,ev[35]=0,Gm[35]=0,mv[35]=-1,tv[35]=0,fv[35]=0,pv[35]=1,gv[35]=0,Nm[35]=-1,Zm[35]=0,Jm[35]=1,Um[35]=1,Mm[35]=0,sv[35]=1,av[153]=0,Qm[153]=1,Wm[153]=1,hv[153]=-1,bm[153]=0,ev[153]=0,Gm[153]=0,mv[153]=-1,tv[153]=0,Um[153]=1,Mm[153]=0,sv[153]=1,lv[102]=0,uv[102]=-1,cv[102]=1,Rm[102]=1,dv[102]=0,Bm[102]=0,fv[102]=0,pv[102]=1,gv[102]=0,Nm[102]=-1,Zm[102]=0,Jm[102]=1,av[155]=0,Qm[155]=-1,Wm[155]=0,hv[155]=1,bm[155]=0,ev[155]=1,Gm[155]=0,mv[155]=1,tv[155]=1,Um[155]=-1,Mm[155]=0,sv[155]=0,lv[103]=0,uv[103]=1,cv[103]=0,Rm[103]=-1,dv[103]=0,Bm[103]=1,fv[103]=0,pv[103]=-1,gv[103]=1,Nm[103]=1,Zm[103]=0,Jm[103]=0,av[152]=0,Qm[152]=1,Wm[152]=1,Rm[152]=-1,dv[152]=0,Bm[152]=1,hv[152]=-1,bm[152]=0,ev[152]=0,Gm[152]=0,mv[152]=-1,tv[152]=0,fv[152]=0,pv[152]=-1,gv[152]=1,Um[152]=1,Mm[152]=0,sv[152]=1,av[156]=0,Qm[156]=-1,Wm[156]=1,Rm[156]=1,dv[156]=0,Bm[156]=1,hv[156]=-1,bm[156]=0,ev[156]=0,Gm[156]=0,mv[156]=-1,tv[156]=0,fv[156]=0,pv[156]=1,gv[156]=1,Um[156]=-1,Mm[156]=0,sv[156]=1,av[137]=0,Qm[137]=1,Wm[137]=1,lv[137]=0,uv[137]=1,cv[137]=0,hv[137]=-1,bm[137]=0,ev[137]=0,Gm[137]=0,mv[137]=-1,tv[137]=0,Nm[137]=1,Zm[137]=0,Jm[137]=0,Um[137]=1,Mm[137]=0,sv[137]=1,av[139]=0,Qm[139]=1,Wm[139]=1,lv[139]=0,uv[139]=-1,cv[139]=0,hv[139]=1,bm[139]=0,ev[139]=0,Gm[139]=0,mv[139]=1,tv[139]=0,Nm[139]=-1,Zm[139]=0,Jm[139]=0,Um[139]=1,Mm[139]=0,sv[139]=1,av[98]=0,Qm[98]=-1,Wm[98]=0,lv[98]=0,uv[98]=-1,cv[98]=1,Rm[98]=1,dv[98]=0,Bm[98]=0,hv[98]=1,bm[98]=0,ev[98]=1,fv[98]=0,pv[98]=1,gv[98]=0,Nm[98]=-1,Zm[98]=0,Jm[98]=1,av[99]=0,Qm[99]=1,Wm[99]=0,lv[99]=0,uv[99]=-1,cv[99]=1,Rm[99]=1,dv[99]=0,Bm[99]=0,hv[99]=-1,bm[99]=0,ev[99]=1,fv[99]=0,pv[99]=-1,gv[99]=0,Nm[99]=1,Zm[99]=0,Jm[99]=1,lv[38]=0,uv[38]=-1,cv[38]=1,Rm[38]=1,dv[38]=0,Bm[38]=0,Gm[38]=0,mv[38]=1,tv[38]=1,fv[38]=0,pv[38]=1,gv[38]=0,Nm[38]=-1,Zm[38]=0,Jm[38]=1,Um[38]=-1,Mm[38]=0,sv[38]=0,lv[39]=0,uv[39]=1,cv[39]=1,Rm[39]=-1,dv[39]=0,Bm[39]=0,Gm[39]=0,mv[39]=-1,tv[39]=1,fv[39]=0,pv[39]=1,gv[39]=0,Nm[39]=-1,Zm[39]=0,Jm[39]=1,Um[39]=1,Mm[39]=0,sv[39]=0;var $1=function(K){return[[K.bottomleft,0],[0,0],[0,K.leftbottom]]},Gb=function(K){return[[1,K.rightbottom],[1,0],[K.bottomright,0]]},PE=function(K){return[[K.topright,1],[1,1],[1,K.righttop]]},Sk=function(K){return[[0,K.lefttop],[0,1],[K.topleft,1]]},Tk=function(K){return[[K.bottomright,0],[K.bottomleft,0],[0,K.leftbottom],[0,K.lefttop]]},Ak=function(K){return[[K.bottomright,0],[K.bottomleft,0],[1,K.righttop],[1,K.rightbottom]]},Ok=function(K){return[[1,K.righttop],[1,K.rightbottom],[K.topleft,1],[K.topright,1]]},Ux=function(K){return[[0,K.leftbottom],[0,K.lefttop],[K.topleft,1],[K.topright,1]]},Gg=[],qg=[],Bg=[],Mf=[],Vf=[],tp=[],pp=[],Tp=[];Mf[1]=Vf[1]=18,Mf[169]=Vf[169]=18,Bg[4]=qg[4]=12,Bg[166]=qg[166]=12,Gg[16]=Tp[16]=4,Gg[154]=Tp[154]=4,tp[64]=pp[64]=22,tp[106]=pp[106]=22,Bg[2]=tp[2]=17,Mf[2]=Vf[2]=18,Bg[168]=tp[168]=17,Mf[168]=Vf[168]=18,Gg[8]=Mf[8]=9,qg[8]=Bg[8]=12,Gg[162]=Mf[162]=9,qg[162]=Bg[162]=12,Gg[32]=Tp[32]=4,qg[32]=pp[32]=1,Gg[138]=Tp[138]=4,qg[138]=pp[138]=1,Vf[128]=Tp[128]=21,tp[128]=pp[128]=22,Vf[42]=Tp[42]=21,tp[42]=pp[42]=22,qg[5]=Vf[5]=14,qg[165]=Vf[165]=14,Bg[20]=Tp[20]=6,Bg[150]=Tp[150]=6,Gg[80]=tp[80]=11,Gg[90]=tp[90]=11,Mf[65]=pp[65]=3,Mf[105]=pp[105]=3,Gg[160]=tp[160]=11,qg[160]=Vf[160]=14,Gg[10]=tp[10]=11,qg[10]=Vf[10]=14,Bg[130]=Tp[130]=6,Mf[130]=pp[130]=3,Bg[40]=Tp[40]=6,Mf[40]=pp[40]=3,qg[101]=pp[101]=1,qg[69]=pp[69]=1,Vf[149]=Tp[149]=21,Vf[21]=Tp[21]=21,Bg[86]=tp[86]=17,Bg[84]=tp[84]=17,Gg[89]=Mf[89]=9,Gg[81]=Mf[81]=9,Gg[96]=pp[96]=0,qg[96]=tp[96]=15,Gg[74]=pp[74]=0,qg[74]=tp[74]=15,Gg[24]=Bg[24]=8,Mf[24]=Tp[24]=7,Gg[146]=Bg[146]=8,Mf[146]=Tp[146]=7,qg[6]=tp[6]=15,Bg[6]=Vf[6]=16,qg[164]=tp[164]=15,Bg[164]=Vf[164]=16,Mf[129]=Tp[129]=7,Vf[129]=pp[129]=20,Mf[41]=Tp[41]=7,Vf[41]=pp[41]=20,Bg[66]=pp[66]=2,Mf[66]=tp[66]=19,Bg[104]=pp[104]=2,Mf[104]=tp[104]=19,Gg[144]=Vf[144]=10,tp[144]=Tp[144]=23,Gg[26]=Vf[26]=10,tp[26]=Tp[26]=23,qg[36]=Tp[36]=5,Bg[36]=pp[36]=2,qg[134]=Tp[134]=5,Bg[134]=pp[134]=2,Gg[9]=Vf[9]=10,qg[9]=Mf[9]=13,Gg[161]=Vf[161]=10,qg[161]=Mf[161]=13,qg[37]=Tp[37]=5,Vf[37]=pp[37]=20,qg[133]=Tp[133]=5,Vf[133]=pp[133]=20,Bg[148]=Vf[148]=16,tp[148]=Tp[148]=23,Bg[22]=Vf[22]=16,tp[22]=Tp[22]=23,Gg[82]=Bg[82]=8,Mf[82]=tp[82]=19,Gg[88]=Bg[88]=8,Mf[88]=tp[88]=19,Gg[73]=pp[73]=0,qg[73]=Mf[73]=13,Gg[97]=pp[97]=0,qg[97]=Mf[97]=13,Gg[145]=Mf[145]=9,Vf[145]=Tp[145]=21,Gg[25]=Mf[25]=9,Vf[25]=Tp[25]=21,qg[70]=pp[70]=1,Bg[70]=tp[70]=17,qg[100]=pp[100]=1,Bg[100]=tp[100]=17,Gg[34]=Mf[34]=9,qg[34]=Bg[34]=12,Vf[34]=Tp[34]=21,tp[34]=pp[34]=22,Gg[136]=Tp[136]=4,qg[136]=pp[136]=1,Bg[136]=tp[136]=17,Mf[136]=Vf[136]=18,Gg[35]=Tp[35]=4,qg[35]=Bg[35]=12,Mf[35]=Vf[35]=18,tp[35]=pp[35]=22,Gg[153]=Tp[153]=4,Mf[153]=Vf[153]=18,qg[102]=Bg[102]=12,tp[102]=pp[102]=22,Gg[155]=Mf[155]=9,Vf[155]=Tp[155]=23,qg[103]=pp[103]=1,Bg[103]=tp[103]=17,Gg[152]=Tp[152]=4,Bg[152]=tp[152]=17,Mf[152]=Vf[152]=18,Gg[156]=Bg[156]=8,Mf[156]=Vf[156]=18,tp[156]=Tp[156]=23,Gg[137]=Tp[137]=4,qg[137]=pp[137]=1,Mf[137]=Vf[137]=18,Gg[139]=Tp[139]=4,qg[139]=Mf[139]=13,Vf[139]=pp[139]=20,Gg[98]=Mf[98]=9,qg[98]=Bg[98]=12,tp[98]=pp[98]=22,Gg[99]=pp[99]=0,qg[99]=Bg[99]=12,Mf[99]=tp[99]=19,qg[38]=Bg[38]=12,Vf[38]=Tp[38]=21,tp[38]=pp[38]=22,qg[39]=Tp[39]=5,Bg[39]=Vf[39]=16,tp[39]=pp[39]=22;var Hp=[];function np(K,rt,nt){return(K-rt)/(nt-rt)}function jm(K){return K.constructor.toString().indexOf("Array")>-1}function Mv(K,rt,nt,lt,pt,lo){for(var vo=K.cells[nt][rt],vf=vo.cval_real,Cf=rt+lt,Tf=nt+pt,Rf=[],Of=!1;!Of;){if(K.cells[Tf]===void 0||K.cells[Tf][Cf]===void 0)if(Tf-=pt,Cf-=lt,vf=(vo=K.cells[Tf][Cf]).cval_real,pt===-1)if(lo===0)if(1&vf)Rf.push([Cf,Tf]),lt=-1,pt=0,lo=0;else{if(!(4&vf)){Rf.push([Cf+vo.bottomright,Tf]),lt=0,pt=1,lo=1,Of=!0;break}Rf.push([Cf+1,Tf]),lt=1,pt=0,lo=0}else{if(!(1&vf)){if(4&vf){Rf.push([Cf+vo.bottomright,Tf]),lt=0,pt=1,lo=1,Of=!0;break}Rf.push([Cf+vo.bottomleft,Tf]),lt=0,pt=1,lo=0,Of=!0;break}Rf.push([Cf,Tf]),lt=-1,pt=0,lo=0}else if(pt===1)if(lo===0){if(!(vf&c1)){if(vf&m0){Rf.push([Cf+vo.topleft,Tf+1]),lt=0,pt=-1,lo=0,Of=!0;break}Rf.push([Cf+vo.topright,Tf+1]),lt=0,pt=-1,lo=1,Of=!0;break}Rf.push([Cf+1,Tf+1]),lt=1,pt=0,lo=1}else Rf.push([Cf+1,Tf+1]),lt=1,pt=0,lo=1;else if(lt===-1)if(lo===0){if(!(vf&m0)){if(1&vf){Rf.push([Cf,Tf+vo.leftbottom]),lt=1,pt=0,lo=0,Of=!0;break}Rf.push([Cf,Tf+vo.lefttop]),lt=1,pt=0,lo=1,Of=!0;break}Rf.push([Cf,Tf+1]),lt=0,pt=1,lo=0}else{if(!(vf&m0)){console.log("MarchingSquaresJS-isoBands: wtf");break}Rf.push([Cf,Tf+1]),lt=0,pt=1,lo=0}else{if(lt!==1){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(lo===0){if(!(4&vf)){Rf.push([Cf+1,Tf+vo.rightbottom]),lt=-1,pt=0,lo=0,Of=!0;break}Rf.push([Cf+1,Tf]),lt=0,pt=-1,lo=1}else{if(!(4&vf)){if(vf&c1){Rf.push([Cf+1,Tf+vo.righttop]),lt=-1,pt=0,lo=1;break}Rf.push([Cf+1,Tf+vo.rightbottom]),lt=-1,pt=0,lo=0,Of=!0;break}Rf.push([Cf+1,Tf]),lt=0,pt=-1,lo=1}}else if(vf=(vo=K.cells[Tf][Cf]).cval_real,lt===-1)if(lo===0)if(K.cells[Tf-1]!==void 0&&K.cells[Tf-1][Cf]!==void 0)lt=0,pt=-1,lo=1;else{if(!(1&vf)){Rf.push([Cf+vo.bottomright,Tf]),lt=0,pt=1,lo=1,Of=!0;break}Rf.push([Cf,Tf])}else{if(!(vf&m0)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+Cf+","+Tf);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(lt===1){if(lo===0){console.log("MarchingSquaresJS-isoBands: wtf");break}if(K.cells[Tf+1]!==void 0&&K.cells[Tf+1][Cf]!==void 0)lt=0,pt=1,lo=0;else{if(!(vf&c1)){Rf.push([Cf+vo.topleft,Tf+1]),lt=0,pt=-1,lo=0,Of=!0;break}Rf.push([Cf+1,Tf+1]),lt=1,pt=0,lo=1}}else if(pt===-1){if(lo!==1){console.log("MarchingSquaresJS-isoBands: wtf");break}if(K.cells[Tf][Cf+1]!==void 0)lt=1,pt=0,lo=1;else{if(!(4&vf)){Rf.push([Cf+1,Tf+vo.righttop]),lt=-1,pt=0,lo=1,Of=!0;break}Rf.push([Cf+1,Tf]),lt=0,pt=-1,lo=1}}else{if(pt!==1){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(lo!==0){console.log("MarchingSquaresJS-isoBands: wtf");break}if(K.cells[Tf][Cf-1]!==void 0)lt=-1,pt=0,lo=0;else{if(!(vf&m0)){Rf.push([Cf,Tf+vo.leftbottom]),lt=1,pt=0,lo=0,Of=!0;break}Rf.push([Cf,Tf+1]),lt=0,pt=1,lo=0}}if(Tf+=pt,(Cf+=lt)===rt&&Tf===nt)break}return{path:Rf,i:Cf,j:Tf,x:lt,y:pt,o:lo}}function a0(K){if(K.edges.length>0){var rt=K.edges[K.edges.length-1],nt=K.cval_real;switch(rt){case 0:return nt&c1?{p:[1,K.righttop],x:-1,y:0,o:1}:{p:[K.topleft,1],x:0,y:-1,o:0};case 1:return 4&nt?{p:[K.topleft,1],x:0,y:-1,o:0}:{p:[1,K.rightbottom],x:-1,y:0,o:0};case 2:return 4&nt?{p:[K.bottomright,0],x:0,y:1,o:1}:{p:[K.topleft,1],x:0,y:-1,o:0};case 3:return 1&nt?{p:[K.topleft,1],x:0,y:-1,o:0}:{p:[K.bottomleft,0],x:0,y:1,o:0};case 4:return nt&c1?{p:[1,K.righttop],x:-1,y:0,o:1}:{p:[K.topright,1],x:0,y:-1,o:1};case 5:return 4&nt?{p:[K.topright,1],x:0,y:-1,o:1}:{p:[1,K.rightbottom],x:-1,y:0,o:0};case 6:return 4&nt?{p:[K.bottomright,0],x:0,y:1,o:1}:{p:[K.topright,1],x:0,y:-1,o:1};case 7:return 1&nt?{p:[K.topright,1],x:0,y:-1,o:1}:{p:[K.bottomleft,0],x:0,y:1,o:0};case 8:return 4&nt?{p:[K.bottomright,0],x:0,y:1,o:1}:{p:[1,K.righttop],x:-1,y:0,o:1};case 9:return 1&nt?{p:[1,K.righttop],x:-1,y:0,o:1}:{p:[K.bottomleft,0],x:0,y:1,o:0};case 10:return 1&nt?{p:[0,K.leftbottom],x:1,y:0,o:0}:{p:[1,K.righttop],x:-1,y:0,o:1};case 11:return nt&m0?{p:[1,K.righttop],x:-1,y:0,o:1}:{p:[0,K.lefttop],x:1,y:0,o:1};case 12:return 4&nt?{p:[K.bottomright,0],x:0,y:1,o:1}:{p:[1,K.rightbottom],x:-1,y:0,o:0};case 13:return 1&nt?{p:[1,K.rightbottom],x:-1,y:0,o:0}:{p:[K.bottomleft,0],x:0,y:1,o:0};case 14:return 1&nt?{p:[0,K.leftbottom],x:1,y:0,o:0}:{p:[1,K.rightbottom],x:-1,y:0,o:0};case 15:return nt&m0?{p:[1,K.rightbottom],x:-1,y:0,o:0}:{p:[0,K.lefttop],x:1,y:0,o:1};case 16:return 4&nt?{p:[K.bottomright,0],x:0,y:1,o:1}:{p:[0,K.leftbottom],x:1,y:0,o:0};case 17:return nt&m0?{p:[K.bottomright,0],x:0,y:1,o:1}:{p:[0,K.lefttop],x:1,y:0,o:1};case 18:return 1&nt?{p:[0,K.leftbottom],x:1,y:0,o:0}:{p:[K.bottomleft,0],x:0,y:1,o:0};case 19:return nt&m0?{p:[K.bottomleft,0],x:0,y:1,o:0}:{p:[0,K.lefttop],x:1,y:0,o:1};case 20:return nt&m0?{p:[K.topleft,1],x:0,y:-1,o:0}:{p:[0,K.leftbottom],x:1,y:0,o:0};case 21:return nt&c1?{p:[0,K.leftbottom],x:1,y:0,o:0}:{p:[K.topright,1],x:0,y:-1,o:1};case 22:return nt&m0?{p:[K.topleft,1],x:0,y:-1,o:0}:{p:[0,K.lefttop],x:1,y:0,o:1};case 23:return nt&c1?{p:[0,K.lefttop],x:1,y:0,o:1}:{p:[K.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(K)}}return null}function qb(K,rt,nt,lt){var pt,lo,vo,vf,Cf,Tf=K.cval;switch(rt){case-1:switch(lt){case 0:pt=qg[Tf],vo=lv[Tf],vf=uv[Tf],Cf=cv[Tf];break;default:pt=Gg[Tf],vo=av[Tf],vf=Qm[Tf],Cf=Wm[Tf]}break;case 1:switch(lt){case 0:pt=Vf[Tf],vo=Gm[Tf],vf=mv[Tf],Cf=tv[Tf];break;default:pt=tp[Tf],vo=fv[Tf],vf=pv[Tf],Cf=gv[Tf]}break;default:switch(nt){case-1:switch(lt){case 0:pt=pp[Tf],vo=Nm[Tf],vf=Zm[Tf],Cf=Jm[Tf];break;default:pt=Tp[Tf],vo=Um[Tf],vf=Mm[Tf],Cf=sv[Tf]}break;case 1:switch(lt){case 0:pt=Mf[Tf],vo=hv[Tf],vf=bm[Tf],Cf=ev[Tf];break;default:pt=Bg[Tf],vo=Rm[Tf],vf=dv[Tf],Cf=Bm[Tf]}}}if(lo=K.edges.indexOf(pt),K.edges[lo]===void 0)return null;switch(function(Rf,Of){delete Rf.edges[Of];for(var Bf=Of+1;Bf<Rf.edges.length;Bf++)Rf.edges[Bf-1]=Rf.edges[Bf];Rf.edges.pop()}(K,lo),Tf=K.cval_real,pt){case 0:Tf&c1?(rt=K.topleft,nt=1):(rt=1,nt=K.righttop);break;case 1:4&Tf?(rt=1,nt=K.rightbottom):(rt=K.topleft,nt=1);break;case 2:4&Tf?(rt=K.topleft,nt=1):(rt=K.bottomright,nt=0);break;case 3:1&Tf?(rt=K.bottomleft,nt=0):(rt=K.topleft,nt=1);break;case 4:Tf&c1?(rt=K.topright,nt=1):(rt=1,nt=K.righttop);break;case 5:4&Tf?(rt=1,nt=K.rightbottom):(rt=K.topright,nt=1);break;case 6:4&Tf?(rt=K.topright,nt=1):(rt=K.bottomright,nt=0);break;case 7:1&Tf?(rt=K.bottomleft,nt=0):(rt=K.topright,nt=1);break;case 8:4&Tf?(rt=1,nt=K.righttop):(rt=K.bottomright,nt=0);break;case 9:1&Tf?(rt=K.bottomleft,nt=0):(rt=1,nt=K.righttop);break;case 10:1&Tf?(rt=1,nt=K.righttop):(rt=0,nt=K.leftbottom);break;case 11:Tf&m0?(rt=0,nt=K.lefttop):(rt=1,nt=K.righttop);break;case 12:4&Tf?(rt=1,nt=K.rightbottom):(rt=K.bottomright,nt=0);break;case 13:1&Tf?(rt=K.bottomleft,nt=0):(rt=1,nt=K.rightbottom);break;case 14:1&Tf?(rt=1,nt=K.rightbottom):(rt=0,nt=K.leftbottom);break;case 15:Tf&m0?(rt=0,nt=K.lefttop):(rt=1,nt=K.rightbottom);break;case 16:4&Tf?(rt=0,nt=K.leftbottom):(rt=K.bottomright,nt=0);break;case 17:Tf&m0?(rt=0,nt=K.lefttop):(rt=K.bottomright,nt=0);break;case 18:1&Tf?(rt=K.bottomleft,nt=0):(rt=0,nt=K.leftbottom);break;case 19:Tf&m0?(rt=0,nt=K.lefttop):(rt=K.bottomleft,nt=0);break;case 20:Tf&m0?(rt=0,nt=K.leftbottom):(rt=K.topleft,nt=1);break;case 21:Tf&c1?(rt=K.topright,nt=1):(rt=0,nt=K.leftbottom);break;case 22:Tf&m0?(rt=0,nt=K.lefttop):(rt=K.topleft,nt=1);break;case 23:Tf&c1?(rt=K.topright,nt=1):(rt=0,nt=K.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(K),null}return rt!==void 0&&nt!==void 0&&vo!==void 0&&vf!==void 0&&Cf!==void 0||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(K),console.log(rt+" "+nt+" "+vo+" "+vf+" "+Cf)),{p:[rt,nt],x:vo,y:vf,o:Cf}}function gw(K){var rt=[],nt=[];K.forEach(function(pt){var lo=Fw(uo([pt]));nt.push(lo),rt.push({ring:pt,area:lo})}),nt.sort(function(pt,lo){return lo-pt});var lt=[];return nt.forEach(function(pt){for(var lo=0;lo<rt.length;lo++)if(rt[lo].area===pt){lt.push(rt[lo].ring),rt.splice(lo,1);break}}),lt}function Wx(K){for(var rt=K.map(function(vf){return{lrCoordinates:vf,grouped:!1}}),nt=[];!_C(rt);)for(var lt=0;lt<rt.length;lt++)if(!rt[lt].grouped){var pt=[];pt.push(rt[lt].lrCoordinates),rt[lt].grouped=!0;for(var lo=uo([rt[lt].lrCoordinates]),vo=lt+1;vo<rt.length;vo++)rt[vo].grouped||wC(uo([rt[vo].lrCoordinates]),lo)&&(pt.push(rt[vo].lrCoordinates),rt[vo].grouped=!0);nt.push(pt)}return nt}function wC(K,rt){for(var nt=db(K),lt=0;lt<nt.features.length;lt++)if(!dm(nt.features[lt],rt))return!1;return!0}function _C(K){for(var rt=0;rt<K.length;rt++)if(K[rt].grouped===!1)return!1;return!0}function xC(K,rt,nt){if(!Pf(nt=nt||{}))throw new Error("options is invalid");var lt=nt.pivot,pt=nt.mutate;if(!K)throw new Error("geojson is required");if(rt==null||isNaN(rt))throw new Error("angle is required");return rt===0||(lt||(lt=kb(K)),pt!==!1&&pt!==void 0||(K=Iv(K)),$f(K,function(lo){var vo=Tv(lt,lo)+rt,vf=L1(lt,lo),Cf=ap(S_(lt,vf,vo));lo[0]=Cf[0],lo[1]=Cf[1]})),K}function IE(K,rt,nt){if(!Pf(nt=nt||{}))throw new Error("options is invalid");var lt=nt.origin,pt=nt.mutate;if(!K)throw new Error("geojson required");if(typeof rt!="number"||rt===0)throw new Error("invalid factor");var lo=Array.isArray(lt)||typeof lt=="object";return pt!==!0&&(K=Iv(K)),K.type!=="FeatureCollection"||lo?D2(K,rt,lt):(fp(K,function(vo,vf){K.features[vf]=D2(vo,rt,lt)}),K)}function D2(K,rt,nt){var lt=Up(K)==="Point";return nt=function(pt,lo){if(lo==null&&(lo="centroid"),Array.isArray(lo)||typeof lo=="object")return ip(lo);var vo=pt.bbox?pt.bbox:Jf(pt),vf=vo[0],Cf=vo[1],Tf=vo[2],Rf=vo[3];switch(lo){case"sw":case"southwest":case"westsouth":case"bottomleft":return ut([vf,Cf]);case"se":case"southeast":case"eastsouth":case"bottomright":return ut([Tf,Cf]);case"nw":case"northwest":case"westnorth":case"topleft":return ut([vf,Rf]);case"ne":case"northeast":case"eastnorth":case"topright":return ut([Tf,Rf]);case"center":return Yy(pt);case void 0:case null:case"centroid":return kb(pt);default:throw new Error("invalid origin")}}(K,nt),rt===1||lt||$f(K,function(pt){var lo=L1(nt,pt),vo=Tv(nt,pt),vf=ap(S_(nt,lo*rt,vo));pt[0]=vf[0],pt[1]=vf[1],pt.length===3&&(pt[2]*=rt)}),K}function LE(K){var rt=K[0],nt=K[1];return[nt[0]-rt[0],nt[1]-rt[1]]}function Mk(K,rt){return K[0]*rt[1]-rt[0]*K[1]}function wS(K,rt){return!function(nt,lt){return Mk(LE(nt),LE(lt))===0}(K,rt)&&function(nt,lt){var pt,lo,vo=nt[0],vf=LE(nt),Cf=lt[0],Tf=LE(lt),Rf=Mk(vf,Tf);return function(Of,Bf){return[Of[0]+Bf[0],Of[1]+Bf[1]]}(vo,function(Of,Bf){return[Of*Bf[0],Of*Bf[1]]}(Mk((lo=vo,[(pt=Cf)[0]-lo[0],pt[1]-lo[1]]),Tf)/Rf,vf))}(K,rt)}function RE(K,rt,nt){var lt=[],pt=gf(rt,nt),lo=ap(K),vo=[];return lo.forEach(function(vf,Cf){if(Cf!==lo.length-1){var Tf=(Bf=vf,Gf=lo[Cf+1],qf=pt,Kf=Math.sqrt((Bf[0]-Gf[0])*(Bf[0]-Gf[0])+(Bf[1]-Gf[1])*(Bf[1]-Gf[1])),Uf=Bf[0]+qf*(Gf[1]-Bf[1])/Kf,lp=Gf[0]+qf*(Gf[1]-Bf[1])/Kf,xp=Bf[1]+qf*(Bf[0]-Gf[0])/Kf,Yf=Gf[1]+qf*(Bf[0]-Gf[0])/Kf,[[Uf,xp],[lp,Yf]]);if(lt.push(Tf),Cf>0){var Rf=lt[Cf-1],Of=wS(Tf,Rf);Of!==!1&&(Rf[1]=Of,Tf[0]=Of),vo.push(Rf[0]),Cf===lo.length-2&&(vo.push(Tf[0]),vo.push(Tf[1]))}lo.length===2&&(vo.push(Tf[0]),vo.push(Tf[1]))}var Bf,Gf,qf,Kf,Uf,lp,xp,Yf}),yo(vo,K.properties)}function _S(K,rt,nt){var lt=rt[0]-K[0],pt=rt[1]-K[1],lo=nt[0]-rt[0];return function(vo){return(vo>0)-(vo<0)||+vo}(lt*(nt[1]-rt[1])-lo*pt)}function xS(K,rt){return rt.geometry.coordinates[0].every(function(nt){return dm(ut(nt),K)})}Hp[1]=Hp[169]=$1,Hp[4]=Hp[166]=Gb,Hp[16]=Hp[154]=PE,Hp[64]=Hp[106]=Sk,Hp[168]=Hp[2]=Tk,Hp[162]=Hp[8]=Ak,Hp[138]=Hp[32]=Ok,Hp[42]=Hp[128]=Ux,Hp[5]=Hp[165]=function(K){return[[0,0],[0,K.leftbottom],[1,K.rightbottom],[1,0]]},Hp[20]=Hp[150]=function(K){return[[1,0],[K.bottomright,0],[K.topright,1],[1,1]]},Hp[80]=Hp[90]=function(K){return[[1,1],[1,K.righttop],[0,K.lefttop],[0,1]]},Hp[65]=Hp[105]=function(K){return[[K.bottomleft,0],[0,0],[0,1],[K.topleft,1]]},Hp[160]=Hp[10]=function(K){return[[1,K.righttop],[1,K.rightbottom],[0,K.leftbottom],[0,K.lefttop]]},Hp[130]=Hp[40]=function(K){return[[K.topleft,1],[K.topright,1],[K.bottomright,0],[K.bottomleft,0]]},Hp[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},Hp[101]=Hp[69]=function(K){return[[1,K.rightbottom],[1,0],[0,0],[0,1],[K.topleft,1]]},Hp[149]=Hp[21]=function(K){return[[K.topright,1],[1,1],[1,0],[0,0],[0,K.leftbottom]]},Hp[86]=Hp[84]=function(K){return[[1,0],[K.bottomright,0],[0,K.lefttop],[0,1],[1,1]]},Hp[89]=Hp[81]=function(K){return[[1,1],[1,K.righttop],[K.bottomleft,0],[0,0],[0,1]]},Hp[96]=Hp[74]=function(K){return[[1,K.righttop],[1,K.rightbottom],[0,K.lefttop],[0,1],[K.topleft,1]]},Hp[24]=Hp[146]=function(K){return[[1,1],[1,K.righttop],[K.bottomright,0],[K.bottomleft,0],[K.topright,1]]},Hp[6]=Hp[164]=function(K){return[[1,K.rightbottom],[1,0],[K.bottomright,0],[0,K.leftbottom],[0,K.lefttop]]},Hp[129]=Hp[41]=function(K){return[[K.topright,1],[K.bottomleft,0],[0,0],[0,K.leftbottom],[K.topleft,1]]},Hp[66]=Hp[104]=function(K){return[[K.bottomright,0],[K.bottomleft,0],[0,K.lefttop],[0,1],[K.topleft,1]]},Hp[144]=Hp[26]=function(K){return[[1,1],[1,K.righttop],[0,K.leftbottom],[0,K.lefttop],[K.topright,1]]},Hp[36]=Hp[134]=function(K){return[[1,K.rightbottom],[1,0],[K.bottomright,0],[K.topleft,1],[K.topright,1]]},Hp[9]=Hp[161]=function(K){return[[1,K.righttop],[1,K.rightbottom],[K.bottomleft,0],[0,0],[0,K.leftbottom]]},Hp[37]=Hp[133]=function(K){return[[1,K.rightbottom],[1,0],[0,0],[0,K.leftbottom],[K.topleft,1],[K.topright,1]]},Hp[148]=Hp[22]=function(K){return[[1,1],[1,0],[K.bottomright,0],[0,K.leftbottom],[0,K.lefttop],[K.topright,1]]},Hp[82]=Hp[88]=function(K){return[[1,1],[1,K.righttop],[K.bottomright,0],[K.bottomleft,0],[0,K.lefttop],[0,1]]},Hp[73]=Hp[97]=function(K){return[[1,K.righttop],[1,K.rightbottom],[K.bottomleft,0],[0,0],[0,1],[K.topleft,1]]},Hp[145]=Hp[25]=function(K){return[[1,1],[1,K.righttop],[K.bottomleft,0],[0,0],[0,K.leftbottom],[K.topright,1]]},Hp[70]=Hp[100]=function(K){return[[1,K.rightbottom],[1,0],[K.bottomright,0],[0,K.lefttop],[0,1],[K.topleft,1]]},Hp[34]=function(K){return[Ux(K),Ak(K)]},Hp[35]=function(K){return[[1,K.righttop],[1,K.rightbottom],[K.bottomright,0],[K.bottomleft,0],[0,K.leftbottom],[0,K.lefttop],[K.topleft,1],[K.topright,1]]},Hp[136]=function(K){return[Ok(K),Tk(K)]},Hp[153]=function(K){return[PE(K),$1(K)]},Hp[102]=function(K){return[Gb(K),Sk(K)]},Hp[155]=function(K){return[[1,1],[1,K.righttop],[K.bottomleft,0],[0,0],[0,K.leftbottom],[K.topright,1]]},Hp[103]=function(K){return[[1,K.rightbottom],[1,0],[K.bottomright,0],[0,K.lefttop],[0,1],[K.topleft,1]]},Hp[152]=function(K){return[PE(K),Tk(K)]},Hp[156]=function(K){return[[1,1],[1,K.righttop],[K.bottomright,0],[K.bottomleft,0],[0,K.leftbottom],[0,K.lefttop],[K.topright,1]]},Hp[137]=function(K){return[Ok(K),$1(K)]},Hp[139]=function(K){return[[1,K.righttop],[1,K.rightbottom],[K.bottomleft,0],[0,0],[0,K.leftbottom],[K.topleft,1],[K.topright,1]]},Hp[98]=function(K){return[Ak(K),Sk(K)]},Hp[99]=function(K){return[[1,K.righttop],[1,K.rightbottom],[K.bottomright,0],[K.bottomleft,0],[0,K.lefttop],[0,1],[K.topleft,1]]},Hp[38]=function(K){return[Gb(K),Ux(K)]},Hp[39]=function(K){return[[1,K.rightbottom],[1,0],[K.bottomright,0],[0,K.leftbottom],[0,K.lefttop],[K.topleft,1],[K.topright,1]]};var EC=function(){function K(rt){this.id=K.buildId(rt),this.coordinates=rt,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return K.buildId=function(rt){return rt.join(",")},K.prototype.removeInnerEdge=function(rt){this.innerEdges=this.innerEdges.filter(function(nt){return nt.from.id!==rt.from.id})},K.prototype.removeOuterEdge=function(rt){this.outerEdges=this.outerEdges.filter(function(nt){return nt.to.id!==rt.to.id})},K.prototype.addOuterEdge=function(rt){this.outerEdges.push(rt),this.outerEdgesSorted=!1},K.prototype.sortOuterEdges=function(){var rt=this;this.outerEdgesSorted||(this.outerEdges.sort(function(nt,lt){var pt=nt.to,lo=lt.to;if(pt.coordinates[0]-rt.coordinates[0]>=0&&lo.coordinates[0]-rt.coordinates[0]<0)return 1;if(pt.coordinates[0]-rt.coordinates[0]<0&&lo.coordinates[0]-rt.coordinates[0]>=0)return-1;if(pt.coordinates[0]-rt.coordinates[0]==0&&lo.coordinates[0]-rt.coordinates[0]==0)return pt.coordinates[1]-rt.coordinates[1]>=0||lo.coordinates[1]-rt.coordinates[1]>=0?pt.coordinates[1]-lo.coordinates[1]:lo.coordinates[1]-pt.coordinates[1];var vo=_S(rt.coordinates,pt.coordinates,lo.coordinates);return vo<0?1:vo>0?-1:Math.pow(pt.coordinates[0]-rt.coordinates[0],2)+Math.pow(pt.coordinates[1]-rt.coordinates[1],2)-(Math.pow(lo.coordinates[0]-rt.coordinates[0],2)+Math.pow(lo.coordinates[1]-rt.coordinates[1],2))}),this.outerEdgesSorted=!0)},K.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},K.prototype.getOuterEdge=function(rt){return this.sortOuterEdges(),this.outerEdges[rt]},K.prototype.addInnerEdge=function(rt){this.innerEdges.push(rt)},K}(),ES=function(){function K(rt,nt){this.from=rt,this.to=nt,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return K.prototype.getSymetric=function(){return this.symetric||(this.symetric=new K(this.to,this.from),this.symetric.symetric=this),this.symetric},K.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},K.prototype.isEqual=function(rt){return this.from.id===rt.from.id&&this.to.id===rt.to.id},K.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},K.prototype.toLineString=function(){return yo([this.from.coordinates,this.to.coordinates])},K.prototype.compareTo=function(rt){return _S(rt.from.coordinates,rt.to.coordinates,this.to.coordinates)},K}(),Xy=function(){function K(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return K.prototype.push=function(rt){this.edges.push(rt),this.polygon=this.envelope=void 0},K.prototype.get=function(rt){return this.edges[rt]},Object.defineProperty(K.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),K.prototype.forEach=function(rt){this.edges.forEach(rt)},K.prototype.map=function(rt){return this.edges.map(rt)},K.prototype.some=function(rt){return this.edges.some(rt)},K.prototype.isValid=function(){return!0},K.prototype.isHole=function(){var rt=this,nt=this.edges.reduce(function(vo,vf,Cf){return vf.from.coordinates[1]>rt.edges[vo].from.coordinates[1]&&(vo=Cf),vo},0),lt=(nt===0?this.length:nt)-1,pt=(nt+1)%this.length,lo=_S(this.edges[lt].from.coordinates,this.edges[nt].from.coordinates,this.edges[pt].from.coordinates);return lo===0?this.edges[lt].from.coordinates[0]>this.edges[pt].from.coordinates[0]:lo>0},K.prototype.toMultiPoint=function(){return wf(this.edges.map(function(rt){return rt.from.coordinates}))},K.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var rt=this.edges.map(function(nt){return nt.from.coordinates});return rt.push(this.edges[0].from.coordinates),this.polygon=uo([rt])},K.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=O1(this.toPolygon())},K.findEdgeRingContaining=function(rt,nt){var lt,pt,lo=rt.getEnvelope();return nt.forEach(function(vo){var vf,Cf,Tf,Rf,Of,Bf,Gf=vo.getEnvelope();if(pt&&(lt=pt.getEnvelope()),Cf=lo,Tf=(vf=Gf).geometry.coordinates[0].map(function(Yf){return Yf[0]}),Rf=vf.geometry.coordinates[0].map(function(Yf){return Yf[1]}),Of=Cf.geometry.coordinates[0].map(function(Yf){return Yf[0]}),Bf=Cf.geometry.coordinates[0].map(function(Yf){return Yf[1]}),(Math.max.apply(null,Tf)!==Math.max.apply(null,Of)||Math.max.apply(null,Rf)!==Math.max.apply(null,Bf)||Math.min.apply(null,Tf)!==Math.min.apply(null,Of)||Math.min.apply(null,Rf)!==Math.min.apply(null,Bf))&&xS(Gf,lo)){for(var qf=rt.map(function(Yf){return Yf.from.coordinates}),Kf=void 0,Uf=function(Yf){vo.some(function(sp){return hp=Yf,vp=sp.from.coordinates,hp[0]===vp[0]&&hp[1]===vp[1];var hp,vp})||(Kf=Yf)},lp=0,xp=qf;lp<xp.length;lp++)Uf(xp[lp]);Kf&&vo.inside(ut(Kf))&&(pt&&!xS(lt,Gf)||(pt=vo))}}),pt},K.prototype.inside=function(rt){return dm(rt,this.toPolygon())},K}(),NA=function(){function K(){this.edges=[],this.nodes={}}return K.fromGeoJson=function(rt){(function(lt){if(!lt)throw new Error("No geojson passed");if(lt.type!=="FeatureCollection"&&lt.type!=="GeometryCollection"&&lt.type!=="MultiLineString"&&lt.type!=="LineString"&&lt.type!=="Feature")throw new Error("Invalid input type '"+lt.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")})(rt);var nt=new K;return Ep(rt,function(lt){bp(lt,"LineString","Graph::fromGeoJson"),Ff(lt,function(pt,lo){if(pt){var vo=nt.getNode(pt),vf=nt.getNode(lo);nt.addEdge(vo,vf)}return lo})}),nt},K.prototype.getNode=function(rt){var nt=EC.buildId(rt),lt=this.nodes[nt];return lt||(lt=this.nodes[nt]=new EC(rt)),lt},K.prototype.addEdge=function(rt,nt){var lt=new ES(rt,nt),pt=lt.getSymetric();this.edges.push(lt),this.edges.push(pt)},K.prototype.deleteDangles=function(){var rt=this;Object.keys(this.nodes).map(function(nt){return rt.nodes[nt]}).forEach(function(nt){return rt._removeIfDangle(nt)})},K.prototype._removeIfDangle=function(rt){var nt=this;if(rt.innerEdges.length<=1){var lt=rt.getOuterEdges().map(function(pt){return pt.to});this.removeNode(rt),lt.forEach(function(pt){return nt._removeIfDangle(pt)})}},K.prototype.deleteCutEdges=function(){var rt=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(nt){nt.label===nt.symetric.label&&(rt.removeEdge(nt.symetric),rt.removeEdge(nt))})},K.prototype._computeNextCWEdges=function(rt){var nt=this;rt===void 0?Object.keys(this.nodes).forEach(function(lt){return nt._computeNextCWEdges(nt.nodes[lt])}):rt.getOuterEdges().forEach(function(lt,pt){rt.getOuterEdge((pt===0?rt.getOuterEdges().length:pt)-1).symetric.next=lt})},K.prototype._computeNextCCWEdges=function(rt,nt){for(var lt,pt,lo=rt.getOuterEdges(),vo=lo.length-1;vo>=0;--vo){var vf=lo[vo],Cf=vf.symetric,Tf=void 0,Rf=void 0;vf.label===nt&&(Tf=vf),Cf.label===nt&&(Rf=Cf),Tf&&Rf&&(Rf&&(pt=Rf),Tf&&(pt&&(pt.next=Tf,pt=void 0),lt||(lt=Tf)))}pt&&(pt.next=lt)},K.prototype._findLabeledEdgeRings=function(){var rt=[],nt=0;return this.edges.forEach(function(lt){if(!(lt.label>=0)){rt.push(lt);var pt=lt;do pt.label=nt,pt=pt.next;while(!lt.isEqual(pt));nt++}}),rt},K.prototype.getEdgeRings=function(){var rt=this;this._computeNextCWEdges(),this.edges.forEach(function(lt){lt.label=void 0}),this._findLabeledEdgeRings().forEach(function(lt){rt._findIntersectionNodes(lt).forEach(function(pt){rt._computeNextCCWEdges(pt,lt.label)})});var nt=[];return this.edges.forEach(function(lt){lt.ring||nt.push(rt._findEdgeRing(lt))}),nt},K.prototype._findIntersectionNodes=function(rt){var nt=[],lt=rt,pt=function(){var lo=0;lt.from.getOuterEdges().forEach(function(vo){vo.label===rt.label&&++lo}),lo>1&&nt.push(lt.from),lt=lt.next};do pt();while(!rt.isEqual(lt));return nt},K.prototype._findEdgeRing=function(rt){var nt=rt,lt=new Xy;do lt.push(nt),nt.ring=lt,nt=nt.next;while(!rt.isEqual(nt));return lt},K.prototype.removeNode=function(rt){var nt=this;rt.getOuterEdges().forEach(function(lt){return nt.removeEdge(lt)}),rt.innerEdges.forEach(function(lt){return nt.removeEdge(lt)}),delete this.nodes[rt.id]},K.prototype.removeEdge=function(rt){this.edges=this.edges.filter(function(nt){return!nt.isEqual(rt)}),rt.deleteEdge()},K}();function kS(K,rt){var nt=!0;return Ep(K,function(lt){Ep(rt,function(pt){if(nt===!1)return!1;nt=function(lo,vo){switch(lo.type){case"Point":switch(vo.type){case"Point":return vf=lo.coordinates,Cf=vo.coordinates,!(vf[0]===Cf[0]&&vf[1]===Cf[1]);case"LineString":return!N2(vo,lo);case"Polygon":return!dm(lo,vo)}break;case"LineString":switch(vo.type){case"Point":return!N2(lo,vo);case"LineString":return!function(Tf,Rf){return kv(Tf,Rf).features.length>0}(lo,vo);case"Polygon":return!kC(vo,lo)}break;case"Polygon":switch(vo.type){case"Point":return!dm(vo,lo);case"LineString":return!kC(lo,vo);case"Polygon":return!function(Tf,Rf){for(var Of=0,Bf=Tf.coordinates[0];Of<Bf.length;Of++)if(dm(Bf[Of],Rf))return!0;for(var Gf=0,qf=Rf.coordinates[0];Gf<qf.length;Gf++)if(dm(qf[Gf],Tf))return!0;return kv(ty(Tf),ty(Rf)).features.length>0}(vo,lo)}}var vf,Cf;return!1}(lt.geometry,pt.geometry)})}),nt}function N2(K,rt){for(var nt=0;nt<K.coordinates.length-1;nt++)if(BA(K.coordinates[nt],K.coordinates[nt+1],rt.coordinates))return!0;return!1}function kC(K,rt){for(var nt=0,lt=rt.coordinates;nt<lt.length;nt++)if(dm(lt[nt],K))return!0;return kv(rt,ty(K)).features.length>0}function BA(K,rt,nt){var lt=nt[0]-K[0],pt=nt[1]-K[1],lo=rt[0]-K[0],vo=rt[1]-K[1];return lt*vo-pt*lo==0&&(Math.abs(lo)>=Math.abs(vo)?lo>0?K[0]<=nt[0]&&nt[0]<=rt[0]:rt[0]<=nt[0]&&nt[0]<=K[0]:vo>0?K[1]<=nt[1]&&nt[1]<=rt[1]:rt[1]<=nt[1]&&nt[1]<=K[1])}function B2(K,rt){return!(K[0]>rt[0])&&!(K[2]<rt[2])&&!(K[1]>rt[1])&&!(K[3]<rt[3])}function CS(K,rt){return K[0]===rt[0]&&K[1]===rt[1]}function $A(K,rt){return[(K[0]+rt[0])/2,(K[1]+rt[1])/2]}function $2(K,rt){for(var nt=!1,lt=!1,pt=K.coordinates.length,lo=0;lo<pt&&!nt&&!lt;){for(var vo=0;vo<rt.coordinates.length-1;vo++){var vf=!0;vo!==0&&vo!==rt.coordinates.length-2||(vf=!1),z2(rt.coordinates[vo],rt.coordinates[vo+1],K.coordinates[lo],vf)?nt=!0:lt=!0}lo++}return nt&&lt}function F2(K,rt){return kv(K,Sy(rt)).features.length>0}function SS(K,rt){for(var nt=!1,lt=!1,pt=K.coordinates.length,lo=0;lo<pt&&(!nt||!lt);lo++)dm(ut(K.coordinates[lo]),rt)?nt=!0:lt=!0;return lt&&nt}function z2(K,rt,nt,lt){var pt=nt[0]-K[0],lo=nt[1]-K[1],vo=rt[0]-K[0],vf=rt[1]-K[1];return pt*vf-lo*vo==0&&(lt?Math.abs(vo)>=Math.abs(vf)?vo>0?K[0]<=nt[0]&&nt[0]<=rt[0]:rt[0]<=nt[0]&&nt[0]<=K[0]:vf>0?K[1]<=nt[1]&&nt[1]<=rt[1]:rt[1]<=nt[1]&&nt[1]<=K[1]:Math.abs(vo)>=Math.abs(vf)?vo>0?K[0]<nt[0]&&nt[0]<rt[0]:rt[0]<nt[0]&&nt[0]<K[0]:vf>0?K[1]<nt[1]&&nt[1]<rt[1]:rt[1]<nt[1]&&nt[1]<K[1])}var Gw=function(K){this.precision=K&&K.precision?K.precision:17,this.direction=!(!K||!K.direction)&&K.direction,this.pseudoNode=!(!K||!K.pseudoNode)&&K.pseudoNode,this.objectComparator=K&&K.objectComparator?K.objectComparator:FA};function cx(K){return K.coordinates.map(function(rt){return{type:K.type.replace("Multi",""),coordinates:rt}})}function T_(K,rt){return K.hasOwnProperty("coordinates")?K.coordinates.length===rt.coordinates.length:K.length===rt.length}function FA(K,rt){return Ng(K,rt,{strict:!0})}Gw.prototype.compare=function(K,rt){if(K.type!==rt.type||!T_(K,rt))return!1;switch(K.type){case"Point":return this.compareCoord(K.coordinates,rt.coordinates);case"LineString":return this.compareLine(K.coordinates,rt.coordinates,0,!1);case"Polygon":return this.comparePolygon(K,rt);case"Feature":return this.compareFeature(K,rt);default:if(K.type.indexOf("Multi")===0){var nt=this,lt=cx(K),pt=cx(rt);return lt.every(function(lo){return this.some(function(vo){return nt.compare(lo,vo)})},pt)}}return!1},Gw.prototype.compareCoord=function(K,rt){if(K.length!==rt.length)return!1;for(var nt=0;nt<K.length;nt++)if(K[nt].toFixed(this.precision)!==rt[nt].toFixed(this.precision))return!1;return!0},Gw.prototype.compareLine=function(K,rt,nt,lt){if(!T_(K,rt))return!1;var pt=this.pseudoNode?K:this.removePseudo(K),lo=this.pseudoNode?rt:this.removePseudo(rt);if(!lt||this.compareCoord(pt[0],lo[0])||(lo=this.fixStartIndex(lo,pt))){var vo=this.compareCoord(pt[nt],lo[nt]);return this.direction||vo?this.comparePath(pt,lo):!!this.compareCoord(pt[nt],lo[lo.length-(1+nt)])&&this.comparePath(pt.slice().reverse(),lo)}},Gw.prototype.fixStartIndex=function(K,rt){for(var nt,lt=-1,pt=0;pt<K.length;pt++)if(this.compareCoord(K[pt],rt[0])){lt=pt;break}return lt>=0&&(nt=[].concat(K.slice(lt,K.length),K.slice(1,lt+1))),nt},Gw.prototype.comparePath=function(K,rt){var nt=this;return K.every(function(lt,pt){return nt.compareCoord(lt,this[pt])},rt)},Gw.prototype.comparePolygon=function(K,rt){if(this.compareLine(K.coordinates[0],rt.coordinates[0],1,!0)){var nt=K.coordinates.slice(1,K.coordinates.length),lt=rt.coordinates.slice(1,rt.coordinates.length),pt=this;return nt.every(function(lo){return this.some(function(vo){return pt.compareLine(lo,vo,1,!0)})},lt)}return!1},Gw.prototype.compareFeature=function(K,rt){return!(K.id!==rt.id||!this.objectComparator(K.properties,rt.properties)||!this.compareBBox(K,rt))&&this.compare(K.geometry,rt.geometry)},Gw.prototype.compareBBox=function(K,rt){return!!(!K.bbox&&!rt.bbox||K.bbox&&rt.bbox&&this.compareCoord(K.bbox,rt.bbox))},Gw.prototype.removePseudo=function(K){return K};var TS=Gw;function j2(K,rt){var nt=!1;return Ep(K,function(lt){Ep(rt,function(pt){if(nt===!0)return!0;nt=!kS(lt.geometry,pt.geometry)})}),nt}var zA=km(function(K){function rt(nt,lt,pt,lo){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(nt,lt,pt,lo)}rt.prototype.run=function(nt,lt,pt,lo){this._init(nt,lt,pt,lo);for(var vo=0;vo<this._datasetLength;vo++)if(this._visited[vo]!==1){this._visited[vo]=1;var vf=this._regionQuery(vo);if(vf.length<this.minPts)this.noise.push(vo);else{var Cf=this.clusters.length;this.clusters.push([]),this._addToCluster(vo,Cf),this._expandCluster(Cf,vf)}}return this.clusters},rt.prototype._init=function(nt,lt,pt,lo){if(nt){if(!(nt instanceof Array))throw Error("Dataset must be of type array, "+typeof nt+" given");this.dataset=nt,this.clusters=[],this.noise=[],this._datasetLength=nt.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}lt&&(this.epsilon=lt),pt&&(this.minPts=pt),lo&&(this.distance=lo)},rt.prototype._expandCluster=function(nt,lt){for(var pt=0;pt<lt.length;pt++){var lo=lt[pt];if(this._visited[lo]!==1){this._visited[lo]=1;var vo=this._regionQuery(lo);vo.length>=this.minPts&&(lt=this._mergeArrays(lt,vo))}this._assigned[lo]!==1&&this._addToCluster(lo,nt)}},rt.prototype._addToCluster=function(nt,lt){this.clusters[lt].push(nt),this._assigned[nt]=1},rt.prototype._regionQuery=function(nt){for(var lt=[],pt=0;pt<this._datasetLength;pt++)this.distance(this.dataset[nt],this.dataset[pt])<this.epsilon&&lt.push(pt);return lt},rt.prototype._mergeArrays=function(nt,lt){for(var pt=lt.length,lo=0;lo<pt;lo++){var vo=lt[lo];nt.indexOf(vo)<0&&nt.push(vo)}return nt},rt.prototype._euclideanDistance=function(nt,lt){for(var pt=0,lo=Math.min(nt.length,lt.length);lo--;)pt+=(nt[lo]-lt[lo])*(nt[lo]-lt[lo]);return Math.sqrt(pt)},K.exports&&(K.exports=rt)}),jA=km(function(K){function rt(nt,lt,pt){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(nt,lt,pt)}rt.prototype.init=function(nt,lt,pt){this.assignments=[],this.centroids=[],nt!==void 0&&(this.dataset=nt),lt!==void 0&&(this.k=lt),pt!==void 0&&(this.distance=pt)},rt.prototype.run=function(nt,lt){this.init(nt,lt);for(var pt=this.dataset.length,lo=0;lo<this.k;lo++)this.centroids[lo]=this.randomCentroid();for(var vo=!0;vo;){vo=this.assign();for(var vf=0;vf<this.k;vf++){for(var Cf=new Array(Bf),Tf=0,Rf=0;Rf<Bf;Rf++)Cf[Rf]=0;for(var Of=0;Of<pt;Of++){var Bf=this.dataset[Of].length;if(vf===this.assignments[Of]){for(Rf=0;Rf<Bf;Rf++)Cf[Rf]+=this.dataset[Of][Rf];Tf++}}if(Tf>0){for(Rf=0;Rf<Bf;Rf++)Cf[Rf]/=Tf;this.centroids[vf]=Cf}else this.centroids[vf]=this.randomCentroid(),vo=!0}}return this.getClusters()},rt.prototype.randomCentroid=function(){var nt,lt,pt=this.dataset.length-1;do lt=Math.round(Math.random()*pt),nt=this.dataset[lt];while(this.centroids.indexOf(nt)>=0);return nt},rt.prototype.assign=function(){for(var nt,lt=!1,pt=this.dataset.length,lo=0;lo<pt;lo++)(nt=this.argmin(this.dataset[lo],this.centroids,this.distance))!=this.assignments[lo]&&(this.assignments[lo]=nt,lt=!0);return lt},rt.prototype.getClusters=function(){for(var nt,lt=new Array(this.k),pt=0;pt<this.assignments.length;pt++)lt[nt=this.assignments[pt]]===void 0&&(lt[nt]=[]),lt[nt].push(pt);return lt},rt.prototype.argmin=function(nt,lt,pt){for(var lo,vo=Number.MAX_VALUE,vf=0,Cf=lt.length,Tf=0;Tf<Cf;Tf++)(lo=pt(nt,lt[Tf]))<vo&&(vo=lo,vf=Tf);return vf},rt.prototype.distance=function(nt,lt){for(var pt=0,lo=Math.min(nt.length,lt.length);lo--;){var vo=nt[lo]-lt[lo];pt+=vo*vo}return Math.sqrt(pt)},K.exports&&(K.exports=rt)}),H2=km(function(K){function rt(nt,lt,pt){this._queue=[],this._priorities=[],this._sorting="desc",this._init(nt,lt,pt)}rt.prototype.insert=function(nt,lt){for(var pt=this._queue.length,lo=pt;lo--;){var vo=this._priorities[lo];this._sorting==="desc"?lt>vo&&(pt=lo):lt<vo&&(pt=lo)}this._insertAt(nt,lt,pt)},rt.prototype.remove=function(nt){for(var lt=this._queue.length;lt--;)if(nt===this._queue[lt]){this._queue.splice(lt,1),this._priorities.splice(lt,1);break}},rt.prototype.forEach=function(nt){this._queue.forEach(nt)},rt.prototype.getElements=function(){return this._queue},rt.prototype.getElementPriority=function(nt){return this._priorities[nt]},rt.prototype.getPriorities=function(){return this._priorities},rt.prototype.getElementsWithPriorities=function(){for(var nt=[],lt=0,pt=this._queue.length;lt<pt;lt++)nt.push([this._queue[lt],this._priorities[lt]]);return nt},rt.prototype._init=function(nt,lt,pt){if(nt&&lt){if(this._queue=[],this._priorities=[],nt.length!==lt.length)throw new Error("Arrays must have the same length");for(var lo=0;lo<nt.length;lo++)this.insert(nt[lo],lt[lo])}pt&&(this._sorting=pt)},rt.prototype._insertAt=function(nt,lt,pt){this._queue.length===pt?(this._queue.push(nt),this._priorities.push(lt)):(this._queue.splice(pt,0,nt),this._priorities.splice(pt,0,lt))},K.exports&&(K.exports=rt)}),HA=km(function(K){if(K.exports)var rt=H2;function nt(lt,pt,lo,vo){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(lt,pt,lo,vo)}nt.prototype.run=function(lt,pt,lo,vo){this._init(lt,pt,lo,vo);for(var vf=0,Cf=this.dataset.length;vf<Cf;vf++)if(this._processed[vf]!==1){this._processed[vf]=1,this.clusters.push([vf]);var Tf=this.clusters.length-1;this._orderedList.push(vf);var Rf=new rt(null,null,"asc"),Of=this._regionQuery(vf);this._distanceToCore(vf)!==void 0&&(this._updateQueue(vf,Of,Rf),this._expandCluster(Tf,Rf))}return this.clusters},nt.prototype.getReachabilityPlot=function(){for(var lt=[],pt=0,lo=this._orderedList.length;pt<lo;pt++){var vo=this._orderedList[pt],vf=this._reachability[vo];lt.push([vo,vf])}return lt},nt.prototype._init=function(lt,pt,lo,vo){if(lt){if(!(lt instanceof Array))throw Error("Dataset must be of type array, "+typeof lt+" given");this.dataset=lt,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}pt&&(this.epsilon=pt),lo&&(this.minPts=lo),vo&&(this.distance=vo)},nt.prototype._updateQueue=function(lt,pt,lo){var vo=this;this._coreDistance=this._distanceToCore(lt),pt.forEach(function(vf){if(vo._processed[vf]===void 0){var Cf=vo.distance(vo.dataset[lt],vo.dataset[vf]),Tf=Math.max(vo._coreDistance,Cf);vo._reachability[vf]===void 0?(vo._reachability[vf]=Tf,lo.insert(vf,Tf)):Tf<vo._reachability[vf]&&(vo._reachability[vf]=Tf,lo.remove(vf),lo.insert(vf,Tf))}})},nt.prototype._expandCluster=function(lt,pt){for(var lo=pt.getElements(),vo=0,vf=lo.length;vo<vf;vo++){var Cf=lo[vo];if(this._processed[Cf]===void 0){var Tf=this._regionQuery(Cf);this._processed[Cf]=1,this.clusters[lt].push(Cf),this._orderedList.push(Cf),this._distanceToCore(Cf)!==void 0&&(this._updateQueue(Cf,Tf,pt),this._expandCluster(lt,pt))}}},nt.prototype._distanceToCore=function(lt){for(var pt=this.epsilon,lo=0;lo<pt;lo++)if(this._regionQuery(lt,lo).length>=this.minPts)return lo},nt.prototype._regionQuery=function(lt,pt){pt=pt||this.epsilon;for(var lo=[],vo=0,vf=this.dataset.length;vo<vf;vo++)this.distance(this.dataset[lt],this.dataset[vo])<pt&&lo.push(vo);return lo},nt.prototype._euclideanDistance=function(lt,pt){for(var lo=0,vo=Math.min(lt.length,pt.length);vo--;)lo+=(lt[vo]-pt[vo])*(lt[vo]-pt[vo]);return Math.sqrt(lo)},K.exports&&(K.exports=nt)}),VA=km(function(K){K.exports&&(K.exports={DBSCAN:zA,KMEANS:jA,OPTICS:HA,PriorityQueue:H2})}),AS=function(K,rt,nt){for(var lt=K.length,pt=0,lo=0;lo<lt;lo++){var vo=(K[lo]||0)-(rt[lo]||0);pt+=vo*vo}return nt?Math.sqrt(pt):pt},UA=AS,Pk=function(K,rt,nt){var lt=Math.abs(K-rt);return nt?lt:lt*lt},OS=AS,V2=function(K,rt){for(var nt={},lt=[],pt=rt<<2,lo=K.length,vo=K[0].length>0;lt.length<rt&&pt-- >0;){var vf=K[Math.floor(Math.random()*lo)],Cf=vo?vf.join("_"):""+vf;nt[Cf]||(nt[Cf]=!0,lt.push(vf))}if(lt.length<rt)throw new Error("Error initializating clusters");return lt},WA=function(K,rt){var nt=K[0].length?UA:Pk,lt=[],pt=K.length,lo=K[0].length>0,vo=K[Math.floor(Math.random()*pt)];for(lo&&vo.join("_"),lt.push(vo);lt.length<rt;){for(var vf=[],Cf=lt.length,Tf=0,Rf=[],Of=0;Of<pt;Of++){for(var Bf=1/0,Gf=0;Gf<Cf;Gf++){var qf=nt(K[Of],lt[Gf]);qf<=Bf&&(Bf=qf)}vf[Of]=Bf}for(var Kf=0;Kf<pt;Kf++)Tf+=vf[Kf];for(var Uf=0;Uf<pt;Uf++)Rf[Uf]={i:Uf,v:K[Uf],pr:vf[Uf]/Tf,cs:0};Rf.sort(function(sp,hp){return sp.pr-hp.pr}),Rf[0].cs=Rf[0].pr;for(var lp=1;lp<pt;lp++)Rf[lp].cs=Rf[lp-1].cs+Rf[lp].pr;for(var xp=Math.random(),Yf=0;Yf<pt-1&&Rf[Yf++].cs<xp;);lt.push(Rf[Yf-1].v)}return lt};function U2(K,rt,nt){nt=nt||[];for(var lt=0;lt<K;lt++)nt[lt]=rt;return nt}var MS=function(K,rt,nt,lt){var pt=[],lo=[],vo=[],vf=[],Cf=!1,Tf=lt||1e4,Rf=K.length,Of=K[0].length,Bf=Of>0,Gf=[];if(nt)pt=nt=="kmrand"?V2(K,rt):nt=="kmpp"?WA(K,rt):nt;else for(var qf={};pt.length<rt;){var Kf=Math.floor(Math.random()*Rf);qf[Kf]||(qf[Kf]=!0,pt.push(K[Kf]))}do{U2(rt,0,Gf);for(var Uf=0;Uf<Rf;Uf++){for(var lp=1/0,xp=0,Yf=0;Yf<rt;Yf++)(vf=Bf?OS(K[Uf],pt[Yf]):Math.abs(K[Uf]-pt[Yf]))<=lp&&(lp=vf,xp=Yf);vo[Uf]=xp,Gf[xp]++}for(var sp=[],hp=(lo=[],0);hp<rt;hp++)sp[hp]=Bf?U2(Of,0,sp[hp]):0,lo[hp]=pt[hp];if(Bf){for(var vp=0;vp<rt;vp++)pt[vp]=[];for(var gp=0;gp<Rf;gp++)for(var hg=sp[vo[gp]],tg=K[gp],pg=0;pg<Of;pg++)hg[pg]+=tg[pg];Cf=!0;for(var rg=0;rg<rt;rg++){for(var _g=pt[rg],lg=sp[rg],ag=lo[rg],ig=Gf[rg],yg=0;yg<Of;yg++)_g[yg]=lg[yg]/ig||0;if(Cf){for(var cg=0;cg<Of;cg++)if(ag[cg]!=_g[cg]){Cf=!1;break}}}}else{for(var xg=0;xg<Rf;xg++)sp[vo[xg]]+=K[xg];for(var Wp=0;Wp<rt;Wp++)pt[Wp]=sp[Wp]/Gf[Wp]||0;Cf=!0;for(var om=0;om<rt;om++)if(lo[om]!=pt[om]){Cf=!1;break}}Cf=Cf||--Tf<=0}while(!Cf);return{it:1e4-Tf,k:rt,idxs:vo,centroids:pt}};function CC(K,rt){return cf(Tv(K[0],K[1]))===cf(Tv(rt[0],rt[1]))}function PS(K,rt){if(K.geometry&&K.geometry.type)return K.geometry.type;if(K.type)return K.type;throw new Error("Invalid GeoJSON object for "+rt)}function W2(K){for(var rt=K,nt=[];rt.parent;)nt.unshift(rt),rt=rt.parent;return nt}var SC={search:function(K,rt,nt,lt){K.cleanDirty();var pt=(lt=lt||{}).heuristic||SC.heuristics.manhattan,lo=lt.closest||!1,vo=new IS(function(Kf){return Kf.f}),vf=rt;for(rt.h=pt(rt,nt),vo.push(rt);vo.size()>0;){var Cf=vo.pop();if(Cf===nt)return W2(Cf);Cf.closed=!0;for(var Tf=K.neighbors(Cf),Rf=0,Of=Tf.length;Rf<Of;++Rf){var Bf=Tf[Rf];if(!Bf.closed&&!Bf.isWall()){var Gf=Cf.g+Bf.getCost(Cf),qf=Bf.visited;(!qf||Gf<Bf.g)&&(Bf.visited=!0,Bf.parent=Cf,Bf.h=Bf.h||pt(Bf,nt),Bf.g=Gf,Bf.f=Bf.g+Bf.h,K.markDirty(Bf),lo&&(Bf.h<vf.h||Bf.h===vf.h&&Bf.g<vf.g)&&(vf=Bf),qf?vo.rescoreElement(Bf):vo.push(Bf))}}}return lo?W2(vf):[]},heuristics:{manhattan:function(K,rt){return Math.abs(rt.x-K.x)+Math.abs(rt.y-K.y)},diagonal:function(K,rt){var nt=Math.sqrt(2),lt=Math.abs(rt.x-K.x),pt=Math.abs(rt.y-K.y);return 1*(lt+pt)+(nt-2)*Math.min(lt,pt)}},cleanNode:function(K){K.f=0,K.g=0,K.h=0,K.visited=!1,K.closed=!1,K.parent=null}};function hx(K,rt){rt=rt||{},this.nodes=[],this.diagonal=!!rt.diagonal,this.grid=[];for(var nt=0;nt<K.length;nt++){this.grid[nt]=[];for(var lt=0,pt=K[nt];lt<pt.length;lt++){var lo=new TC(nt,lt,pt[lt]);this.grid[nt][lt]=lo,this.nodes.push(lo)}}this.init()}function TC(K,rt,nt){this.x=K,this.y=rt,this.weight=nt}function IS(K){this.content=[],this.scoreFunction=K}function GA(K,rt){for(var nt=0;nt<rt.features.length;nt++)if(dm(K,rt.features[nt]))return!0;return!1}function G2(K){return function(){return K}}function qA(K){return K[0]}function q2(K){return K[1]}function AC(){this._=null}function Ik(K){K.U=K.C=K.L=K.R=K.P=K.N=null}function Lk(K,rt){var nt=rt,lt=rt.R,pt=nt.U;pt?pt.L===nt?pt.L=lt:pt.R=lt:K._=lt,lt.U=pt,nt.U=lt,nt.R=lt.L,nt.R&&(nt.R.U=nt),lt.L=nt}function Rk(K,rt){var nt=rt,lt=rt.L,pt=nt.U;pt?pt.L===nt?pt.L=lt:pt.R=lt:K._=lt,lt.U=pt,nt.U=lt,nt.L=lt.R,nt.L&&(nt.L.U=nt),lt.R=nt}function Y2(K){for(;K.L;)K=K.L;return K}function DE(K,rt,nt,lt){var pt=[null,null],lo=gb.push(pt)-1;return pt.left=K,pt.right=rt,nt&&NE(pt,K,rt,nt),lt&&NE(pt,rt,K,lt),h1[K.index].halfedges.push(lo),h1[rt.index].halfedges.push(lo),pt}function qw(K,rt,nt){var lt=[rt,nt];return lt.left=K,lt}function NE(K,rt,nt,lt){K[0]||K[1]?K.left===nt?K[1]=lt:K[0]=lt:(K[0]=lt,K.left=rt,K.right=nt)}function OC(K,rt,nt,lt,pt){var lo,vo=K[0],vf=K[1],Cf=vo[0],Tf=vo[1],Rf=0,Of=1,Bf=vf[0]-Cf,Gf=vf[1]-Tf;if(lo=rt-Cf,Bf||!(lo>0)){if(lo/=Bf,Bf<0){if(lo<Rf)return;lo<Of&&(Of=lo)}else if(Bf>0){if(lo>Of)return;lo>Rf&&(Rf=lo)}if(lo=lt-Cf,Bf||!(lo<0)){if(lo/=Bf,Bf<0){if(lo>Of)return;lo>Rf&&(Rf=lo)}else if(Bf>0){if(lo<Rf)return;lo<Of&&(Of=lo)}if(lo=nt-Tf,Gf||!(lo>0)){if(lo/=Gf,Gf<0){if(lo<Rf)return;lo<Of&&(Of=lo)}else if(Gf>0){if(lo>Of)return;lo>Rf&&(Rf=lo)}if(lo=pt-Tf,Gf||!(lo<0)){if(lo/=Gf,Gf<0){if(lo>Of)return;lo>Rf&&(Rf=lo)}else if(Gf>0){if(lo<Rf)return;lo<Of&&(Of=lo)}return!(Rf>0||Of<1)||(Rf>0&&(K[0]=[Cf+Rf*Bf,Tf+Rf*Gf]),Of<1&&(K[1]=[Cf+Of*Bf,Tf+Of*Gf]),!0)}}}}}function YA(K,rt,nt,lt,pt){var lo=K[1];if(lo)return!0;var vo,vf,Cf=K[0],Tf=K.left,Rf=K.right,Of=Tf[0],Bf=Tf[1],Gf=Rf[0],qf=Rf[1],Kf=(Of+Gf)/2,Uf=(Bf+qf)/2;if(qf===Bf){if(Kf<rt||Kf>=lt)return;if(Of>Gf){if(Cf){if(Cf[1]>=pt)return}else Cf=[Kf,nt];lo=[Kf,pt]}else{if(Cf){if(Cf[1]<nt)return}else Cf=[Kf,pt];lo=[Kf,nt]}}else if(vf=Uf-(vo=(Of-Gf)/(qf-Bf))*Kf,vo<-1||vo>1)if(Of>Gf){if(Cf){if(Cf[1]>=pt)return}else Cf=[(nt-vf)/vo,nt];lo=[(pt-vf)/vo,pt]}else{if(Cf){if(Cf[1]<nt)return}else Cf=[(pt-vf)/vo,pt];lo=[(nt-vf)/vo,nt]}else if(Bf<qf){if(Cf){if(Cf[0]>=lt)return}else Cf=[rt,vo*rt+vf];lo=[lt,vo*lt+vf]}else{if(Cf){if(Cf[0]<rt)return}else Cf=[lt,vo*lt+vf];lo=[rt,vo*rt+vf]}return K[0]=Cf,K[1]=lo,!0}function LS(K,rt){var nt=K.site,lt=rt.left,pt=rt.right;return nt===pt&&(pt=lt,lt=nt),pt?Math.atan2(pt[1]-lt[1],pt[0]-lt[0]):(nt===lt?(lt=rt[1],pt=rt[0]):(lt=rt[0],pt=rt[1]),Math.atan2(lt[0]-pt[0],pt[1]-lt[1]))}function Z2(K,rt){return rt[+(rt.left!==K.site)]}function ZA(K,rt){return rt[+(rt.left===K.site)]}hx.prototype.init=function(){this.dirtyNodes=[];for(var K=0;K<this.nodes.length;K++)SC.cleanNode(this.nodes[K])},hx.prototype.cleanDirty=function(){for(var K=0;K<this.dirtyNodes.length;K++)SC.cleanNode(this.dirtyNodes[K]);this.dirtyNodes=[]},hx.prototype.markDirty=function(K){this.dirtyNodes.push(K)},hx.prototype.neighbors=function(K){var rt=[],nt=K.x,lt=K.y,pt=this.grid;return pt[nt-1]&&pt[nt-1][lt]&&rt.push(pt[nt-1][lt]),pt[nt+1]&&pt[nt+1][lt]&&rt.push(pt[nt+1][lt]),pt[nt]&&pt[nt][lt-1]&&rt.push(pt[nt][lt-1]),pt[nt]&&pt[nt][lt+1]&&rt.push(pt[nt][lt+1]),this.diagonal&&(pt[nt-1]&&pt[nt-1][lt-1]&&rt.push(pt[nt-1][lt-1]),pt[nt+1]&&pt[nt+1][lt-1]&&rt.push(pt[nt+1][lt-1]),pt[nt-1]&&pt[nt-1][lt+1]&&rt.push(pt[nt-1][lt+1]),pt[nt+1]&&pt[nt+1][lt+1]&&rt.push(pt[nt+1][lt+1])),rt},hx.prototype.toString=function(){for(var K,rt,nt,lt,pt=[],lo=this.grid,vo=0,vf=lo.length;vo<vf;vo++){for(K=[],nt=0,lt=(rt=lo[vo]).length;nt<lt;nt++)K.push(rt[nt].weight);pt.push(K.join(" "))}return pt.join(`
`)},TC.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},TC.prototype.getCost=function(K){return K&&K.x!==this.x&&K.y!==this.y?1.41421*this.weight:this.weight},TC.prototype.isWall=function(){return this.weight===0},IS.prototype={push:function(K){this.content.push(K),this.sinkDown(this.content.length-1)},pop:function(){var K=this.content[0],rt=this.content.pop();return this.content.length>0&&(this.content[0]=rt,this.bubbleUp(0)),K},remove:function(K){var rt=this.content.indexOf(K),nt=this.content.pop();rt!==this.content.length-1&&(this.content[rt]=nt,this.scoreFunction(nt)<this.scoreFunction(K)?this.sinkDown(rt):this.bubbleUp(rt))},size:function(){return this.content.length},rescoreElement:function(K){this.sinkDown(this.content.indexOf(K))},sinkDown:function(K){for(var rt=this.content[K];K>0;){var nt=(K+1>>1)-1,lt=this.content[nt];if(!(this.scoreFunction(rt)<this.scoreFunction(lt)))break;this.content[nt]=rt,this.content[K]=lt,K=nt}},bubbleUp:function(K){for(var rt=this.content.length,nt=this.content[K],lt=this.scoreFunction(nt);;){var pt,lo=K+1<<1,vo=lo-1,vf=null;if(vo<rt){var Cf=this.content[vo];(pt=this.scoreFunction(Cf))<lt&&(vf=vo)}if(lo<rt){var Tf=this.content[lo];this.scoreFunction(Tf)<(vf===null?lt:pt)&&(vf=lo)}if(vf===null)break;this.content[K]=this.content[vf],this.content[vf]=nt,K=vf}}},AC.prototype={constructor:AC,insert:function(K,rt){var nt,lt,pt;if(K){if(rt.P=K,rt.N=K.N,K.N&&(K.N.P=rt),K.N=rt,K.R){for(K=K.R;K.L;)K=K.L;K.L=rt}else K.R=rt;nt=K}else this._?(K=Y2(this._),rt.P=null,rt.N=K,K.P=K.L=rt,nt=K):(rt.P=rt.N=null,this._=rt,nt=null);for(rt.L=rt.R=null,rt.U=nt,rt.C=!0,K=rt;nt&&nt.C;)nt===(lt=nt.U).L?(pt=lt.R)&&pt.C?(nt.C=pt.C=!1,lt.C=!0,K=lt):(K===nt.R&&(Lk(this,nt),nt=(K=nt).U),nt.C=!1,lt.C=!0,Rk(this,lt)):(pt=lt.L)&&pt.C?(nt.C=pt.C=!1,lt.C=!0,K=lt):(K===nt.L&&(Rk(this,nt),nt=(K=nt).U),nt.C=!1,lt.C=!0,Lk(this,lt)),nt=K.U;this._.C=!1},remove:function(K){K.N&&(K.N.P=K.P),K.P&&(K.P.N=K.N),K.N=K.P=null;var rt,nt,lt,pt=K.U,lo=K.L,vo=K.R;if(nt=lo?vo?Y2(vo):lo:vo,pt?pt.L===K?pt.L=nt:pt.R=nt:this._=nt,lo&&vo?(lt=nt.C,nt.C=K.C,nt.L=lo,lo.U=nt,nt!==vo?(pt=nt.U,nt.U=K.U,K=nt.R,pt.L=K,nt.R=vo,vo.U=nt):(nt.U=pt,pt=nt,K=nt.R)):(lt=K.C,K=nt),K&&(K.U=pt),!lt)if(K&&K.C)K.C=!1;else{do{if(K===this._)break;if(K===pt.L){if((rt=pt.R).C&&(rt.C=!1,pt.C=!0,Lk(this,pt),rt=pt.R),rt.L&&rt.L.C||rt.R&&rt.R.C){rt.R&&rt.R.C||(rt.L.C=!1,rt.C=!0,Rk(this,rt),rt=pt.R),rt.C=pt.C,pt.C=rt.R.C=!1,Lk(this,pt),K=this._;break}}else if((rt=pt.L).C&&(rt.C=!1,pt.C=!0,Rk(this,pt),rt=pt.L),rt.L&&rt.L.C||rt.R&&rt.R.C){rt.L&&rt.L.C||(rt.R.C=!1,rt.C=!0,Lk(this,rt),rt=pt.L),rt.C=pt.C,pt.C=rt.L.C=!1,Rk(this,pt),K=this._;break}rt.C=!0,K=pt,pt=pt.U}while(!K.C);K&&(K.C=!1)}}};var RS,X2=[];function XA(){Ik(this),this.x=this.y=this.arc=this.site=this.cy=null}function Gx(K){var rt=K.P,nt=K.N;if(rt&&nt){var lt=rt.site,pt=K.site,lo=nt.site;if(lt!==lo){var vo=pt[0],vf=pt[1],Cf=lt[0]-vo,Tf=lt[1]-vf,Rf=lo[0]-vo,Of=lo[1]-vf,Bf=2*(Cf*Of-Tf*Rf);if(!(Bf>=-eO)){var Gf=Cf*Cf+Tf*Tf,qf=Rf*Rf+Of*Of,Kf=(Of*Gf-Tf*qf)/Bf,Uf=(Cf*qf-Rf*Gf)/Bf,lp=X2.pop()||new XA;lp.arc=K,lp.site=pt,lp.x=Kf+vo,lp.y=(lp.cy=Uf+vf)+Math.sqrt(Kf*Kf+Uf*Uf),K.circle=lp;for(var xp=null,Yf=$E._;Yf;)if(lp.y<Yf.y||lp.y===Yf.y&&lp.x<=Yf.x){if(!Yf.L){xp=Yf.P;break}Yf=Yf.L}else{if(!Yf.R){xp=Yf;break}Yf=Yf.R}$E.insert(xp,lp),xp||(RS=lp)}}}}function dx(K){var rt=K.circle;rt&&(rt.P||(RS=rt.N),$E.remove(rt),X2.push(rt),Ik(rt),K.circle=null)}var K2=[];function J2(){Ik(this),this.edge=this.site=this.circle=null}function Q2(K){var rt=K2.pop()||new J2;return rt.site=K,rt}function DS(K){dx(K),BE.remove(K),K2.push(K),Ik(K)}function KA(K){var rt=K.circle,nt=rt.x,lt=rt.cy,pt=[nt,lt],lo=K.P,vo=K.N,vf=[K];DS(K);for(var Cf=lo;Cf.circle&&Math.abs(nt-Cf.circle.x)<Xv&&Math.abs(lt-Cf.circle.cy)<Xv;)lo=Cf.P,vf.unshift(Cf),DS(Cf),Cf=lo;vf.unshift(Cf),dx(Cf);for(var Tf=vo;Tf.circle&&Math.abs(nt-Tf.circle.x)<Xv&&Math.abs(lt-Tf.circle.cy)<Xv;)vo=Tf.N,vf.push(Tf),DS(Tf),Tf=vo;vf.push(Tf),dx(Tf);var Rf,Of=vf.length;for(Rf=1;Rf<Of;++Rf)Tf=vf[Rf],Cf=vf[Rf-1],NE(Tf.edge,Cf.site,Tf.site,pt);Cf=vf[0],(Tf=vf[Of-1]).edge=DE(Cf.site,Tf.site,null,pt),Gx(Cf),Gx(Tf)}function JA(K){for(var rt,nt,lt,pt,lo=K[0],vo=K[1],vf=BE._;vf;)if((lt=eT(vf,vo)-lo)>Xv)vf=vf.L;else{if(!((pt=lo-QA(vf,vo))>Xv)){lt>-Xv?(rt=vf.P,nt=vf):pt>-Xv?(rt=vf,nt=vf.N):rt=nt=vf;break}if(!vf.R){rt=vf;break}vf=vf.R}(function(hp){h1[hp.index]={site:hp,halfedges:[]}})(K);var Cf=Q2(K);if(BE.insert(rt,Cf),rt||nt){if(rt===nt)return dx(rt),nt=Q2(rt.site),BE.insert(Cf,nt),Cf.edge=nt.edge=DE(rt.site,Cf.site),Gx(rt),void Gx(nt);if(nt){dx(rt),dx(nt);var Tf=rt.site,Rf=Tf[0],Of=Tf[1],Bf=K[0]-Rf,Gf=K[1]-Of,qf=nt.site,Kf=qf[0]-Rf,Uf=qf[1]-Of,lp=2*(Bf*Uf-Gf*Kf),xp=Bf*Bf+Gf*Gf,Yf=Kf*Kf+Uf*Uf,sp=[(Uf*xp-Gf*Yf)/lp+Rf,(Bf*Yf-Kf*xp)/lp+Of];NE(nt.edge,Tf,qf,sp),Cf.edge=DE(Tf,K,null,sp),nt.edge=DE(K,qf,null,sp),Gx(rt),Gx(nt)}else Cf.edge=DE(rt.site,Cf.site)}}function eT(K,rt){var nt=K.site,lt=nt[0],pt=nt[1],lo=pt-rt;if(!lo)return lt;var vo=K.P;if(!vo)return-1/0;var vf=(nt=vo.site)[0],Cf=nt[1],Tf=Cf-rt;if(!Tf)return vf;var Rf=vf-lt,Of=1/lo-1/Tf,Bf=Rf/Tf;return Of?(-Bf+Math.sqrt(Bf*Bf-2*Of*(Rf*Rf/(-2*Tf)-Cf+Tf/2+pt-lo/2)))/Of+lt:(lt+vf)/2}function QA(K,rt){var nt=K.N;if(nt)return eT(nt,rt);var lt=K.site;return lt[1]===rt?lt[0]:1/0}var BE,h1,$E,gb,Xv=1e-6,eO=1e-12;function tT(K,rt){return rt[1]-K[1]||rt[0]-K[0]}function NS(K,rt){var nt,lt,pt,lo=K.sort(tT).pop();for(gb=[],h1=new Array(K.length),BE=new AC,$E=new AC;;)if(pt=RS,lo&&(!pt||lo[1]<pt.y||lo[1]===pt.y&&lo[0]<pt.x))lo[0]===nt&&lo[1]===lt||(JA(lo),nt=lo[0],lt=lo[1]),lo=K.pop();else{if(!pt)break;KA(pt.arc)}if(function(){for(var Rf,Of,Bf,Gf,qf=0,Kf=h1.length;qf<Kf;++qf)if((Rf=h1[qf])&&(Gf=(Of=Rf.halfedges).length)){var Uf=new Array(Gf),lp=new Array(Gf);for(Bf=0;Bf<Gf;++Bf)Uf[Bf]=Bf,lp[Bf]=LS(Rf,gb[Of[Bf]]);for(Uf.sort(function(xp,Yf){return lp[Yf]-lp[xp]}),Bf=0;Bf<Gf;++Bf)lp[Bf]=Of[Uf[Bf]];for(Bf=0;Bf<Gf;++Bf)Of[Bf]=lp[Bf]}}(),rt){var vo=+rt[0][0],vf=+rt[0][1],Cf=+rt[1][0],Tf=+rt[1][1];(function(Rf,Of,Bf,Gf){for(var qf,Kf=gb.length;Kf--;)YA(qf=gb[Kf],Rf,Of,Bf,Gf)&&OC(qf,Rf,Of,Bf,Gf)&&(Math.abs(qf[0][0]-qf[1][0])>Xv||Math.abs(qf[0][1]-qf[1][1])>Xv)||delete gb[Kf]})(vo,vf,Cf,Tf),function(Rf,Of,Bf,Gf){var qf,Kf,Uf,lp,xp,Yf,sp,hp,vp,gp,hg,tg,pg=h1.length,rg=!0;for(qf=0;qf<pg;++qf)if(Kf=h1[qf]){for(Uf=Kf.site,lp=(xp=Kf.halfedges).length;lp--;)gb[xp[lp]]||xp.splice(lp,1);for(lp=0,Yf=xp.length;lp<Yf;)hg=(gp=ZA(Kf,gb[xp[lp]]))[0],tg=gp[1],hp=(sp=Z2(Kf,gb[xp[++lp%Yf]]))[0],vp=sp[1],(Math.abs(hg-hp)>Xv||Math.abs(tg-vp)>Xv)&&(xp.splice(lp,0,gb.push(qw(Uf,gp,Math.abs(hg-Rf)<Xv&&Gf-tg>Xv?[Rf,Math.abs(hp-Rf)<Xv?vp:Gf]:Math.abs(tg-Gf)<Xv&&Bf-hg>Xv?[Math.abs(vp-Gf)<Xv?hp:Bf,Gf]:Math.abs(hg-Bf)<Xv&&tg-Of>Xv?[Bf,Math.abs(hp-Bf)<Xv?vp:Of]:Math.abs(tg-Of)<Xv&&hg-Rf>Xv?[Math.abs(vp-Of)<Xv?hp:Rf,Of]:null))-1),++Yf);Yf&&(rg=!1)}if(rg){var _g,lg,ag,ig=1/0;for(qf=0,rg=null;qf<pg;++qf)(Kf=h1[qf])&&(ag=(_g=(Uf=Kf.site)[0]-Rf)*_g+(lg=Uf[1]-Of)*lg)<ig&&(ig=ag,rg=Kf);if(rg){var yg=[Rf,Of],cg=[Rf,Gf],xg=[Bf,Gf],Wp=[Bf,Of];rg.halfedges.push(gb.push(qw(Uf=rg.site,yg,cg))-1,gb.push(qw(Uf,cg,xg))-1,gb.push(qw(Uf,xg,Wp))-1,gb.push(qw(Uf,Wp,yg))-1)}}for(qf=0;qf<pg;++qf)(Kf=h1[qf])&&(Kf.halfedges.length||delete h1[qf])}(vo,vf,Cf,Tf)}this.edges=gb,this.cells=h1,BE=$E=gb=h1=null}function tO(K){return(K=K.slice()).push(K[0]),uo([K])}function rT(K,rt,nt,lt){var pt=(lt=lt||{}).steps||64,lo=lt.units||"kilometers",vo=lt.angle||0,vf=lt.pivot||K,Cf=lt.properties||K.properties||{};if(!K)throw new Error("center is required");if(!rt)throw new Error("xSemiAxis is required");if(!nt)throw new Error("ySemiAxis is required");if(!Pf(lt))throw new Error("options must be an object");if(!Af(pt))throw new Error("steps must be a number");if(!Af(vo))throw new Error("angle must be a number");var Tf=ip(K);if(lo==="degrees")var Rf=Sf(vo);else rt=S_(K,rt,90,{units:lo}),nt=S_(K,nt,0,{units:lo}),rt=ip(rt)[0]-Tf[0],nt=ip(nt)[1]-Tf[1];for(var Of=[],Bf=0;Bf<pt;Bf+=1){var Gf=-360*Bf/pt,qf=rt*nt/Math.sqrt(Math.pow(nt,2)+Math.pow(rt,2)*Math.pow(iT(Gf),2)),Kf=rt*nt/Math.sqrt(Math.pow(rt,2)+Math.pow(nt,2)/Math.pow(iT(Gf),2));if(Gf<-90&&Gf>=-270&&(qf=-qf),Gf<-180&&Gf>=-360&&(Kf=-Kf),lo==="degrees"){var Uf=qf*Math.cos(Rf)+Kf*Math.sin(Rf),lp=Kf*Math.cos(Rf)-qf*Math.sin(Rf);qf=Uf,Kf=lp}Of.push([qf+Tf[0],Kf+Tf[1]])}return Of.push(Of[0]),lo==="degrees"?uo([Of],Cf):xC(uo([Of],Cf),vo,{pivot:vf})}function iT(K){var rt=K*Math.PI/180;return Math.tan(rt)}function BS(K,rt){rt===void 0&&(rt={});var nt=0,lt=0,pt=0;return Pp(K,function(lo,vo,vf){var Cf=rt.weight?vf==null?void 0:vf[rt.weight]:void 0;if(!Af(Cf=Cf??1))throw new Error("weight value must be a number for feature index "+vo);(Cf=Number(Cf))>0&&$f(lo,function(Tf){nt+=Tf[0]*Cf,lt+=Tf[1]*Cf,pt+=Cf})}),ut([nt/pt,lt/pt],rt.properties,rt)}function nT(K,rt,nt,lt,pt){var lo=lt.tolerance||.001,vo=0,vf=0,Cf=0,Tf=0;if(fp(nt,function(Bf){var Gf,qf=(Gf=Bf.properties)===null||Gf===void 0?void 0:Gf.weight,Kf=qf??1;if(!Af(Kf=Number(Kf)))throw new Error("weight value must be a number");if(Kf>0){Tf+=1;var Uf=Kf*Cm(Bf,K);Uf===0&&(Uf=1);var lp=Kf/Uf;vo+=Bf.geometry.coordinates[0]*lp,vf+=Bf.geometry.coordinates[1]*lp,Cf+=lp}}),Tf<1)throw new Error("no features to measure");var Rf=vo/Cf,Of=vf/Cf;return Tf===1||pt===0||Math.abs(Rf-rt[0])<lo&&Math.abs(Of-rt[1])<lo?ut([Rf,Of],{medianCandidates:lt.medianCandidates}):(lt.medianCandidates.push([Rf,Of]),nT([Rf,Of],K,nt,lt,pt-1))}function oT(K,rt){return{x:K[0]-rt[0],y:K[1]-rt[1]}}function rO(K,rt){var nt=0,lt=0;$f(K,function(pt,lo,vo,vf,Cf){Cf>nt&&(nt=Cf,lt=lo,rt.push([]));var Tf=lo-lt,Rf=K.coordinates[Cf][Tf+1],Of=pt[0],Bf=pt[1],Gf=Rf[0],qf=Rf[1];rt[Cf].push([.75*Of+.25*Gf,.75*Bf+.25*qf]),rt[Cf].push([.25*Of+.75*Gf,.25*Bf+.75*qf])},!0),rt.forEach(function(pt){pt.push(pt[0])})}function iO(K,rt){var nt=0,lt=0,pt=0;$f(K,function(lo,vo,vf,Cf,Tf){Cf>pt&&(pt=Cf,lt=vo,rt.push([[]])),Tf>nt&&(nt=Tf,lt=vo,rt[Cf].push([]));var Rf=vo-lt,Of=K.coordinates[Cf][Tf][Rf+1],Bf=lo[0],Gf=lo[1],qf=Of[0],Kf=Of[1];rt[Cf][Tf].push([.75*Bf+.25*qf,.75*Gf+.25*Kf]),rt[Cf][Tf].push([.25*Bf+.75*qf,.25*Gf+.75*Kf])},!0),rt.forEach(function(lo){lo.forEach(function(vo){vo.push(vo[0])})})}function nO(K,rt,nt){nt===void 0&&(nt=2);var lt=ip(K),pt=ip(rt),lo=lt[0]-pt[0],vo=lt[1]-pt[1];return nt===1?Math.abs(lo)+Math.abs(vo):Math.pow(Math.pow(lo,nt)+Math.pow(vo,nt),1/nt)}function sT(K,rt){var nt=(rt=rt||{}).threshold||1e4,lt=rt.p||2,pt=rt.binary||!1,lo=rt.alpha||-1,vo=rt.standardization||!1,vf=[];fp(K,function(Gf){vf.push(kb(Gf))});for(var Cf=[],Tf=0;Tf<vf.length;Tf++)Cf[Tf]=[];for(Tf=0;Tf<vf.length;Tf++)for(var Rf=Tf;Rf<vf.length;Rf++){Tf===Rf&&(Cf[Tf][Rf]=0);var Of=nO(vf[Tf],vf[Rf],lt);Cf[Tf][Rf]=Of,Cf[Rf][Tf]=Of}for(Tf=0;Tf<vf.length;Tf++)for(Rf=0;Rf<vf.length;Rf++)(Of=Cf[Tf][Rf])!==0&&(Cf[Tf][Rf]=pt?Of<=nt?1:0:Of<=nt?Math.pow(Of,lo):0);if(vo)for(Tf=0;Tf<vf.length;Tf++){var Bf=Cf[Tf].reduce(function(Gf,qf){return Gf+qf},0);for(Rf=0;Rf<vf.length;Rf++)Cf[Tf][Rf]=Cf[Tf][Rf]/Bf}return Cf}function aT(K){for(var rt=0,nt=0,lt=K;nt<lt.length;nt++)rt+=lt[nt];return rt/K.length}function lT(K,rt){return rt===void 0&&(rt={}),cT(K,"mercator",rt)}function uT(K,rt){return rt===void 0&&(rt={}),cT(K,"wgs84",rt)}function cT(K,rt,nt){nt===void 0&&(nt={});var lt=(nt=nt||{}).mutate;if(!K)throw new Error("geojson is required");return Array.isArray(K)&&Af(K[0])?K=rt==="mercator"?hT(K):dT(K):(lt!==!0&&(K=Iv(K)),$f(K,function(pt){var lo=rt==="mercator"?hT(pt):dT(pt);pt[0]=lo[0],pt[1]=lo[1]})),K}function hT(K){var rt=Math.PI/180,nt=6378137,lt=20037508342789244e-9,pt=[nt*(Math.abs(K[0])<=180?K[0]:K[0]-360*function(lo){return lo<0?-1:lo>0?1:0}(K[0]))*rt,nt*Math.log(Math.tan(.25*Math.PI+.5*K[1]*rt))];return pt[0]>lt&&(pt[0]=lt),pt[0]<-lt&&(pt[0]=-lt),pt[1]>lt&&(pt[1]=lt),pt[1]<-lt&&(pt[1]=-lt),pt}function dT(K){var rt=180/Math.PI,nt=6378137;return[K[0]*rt/nt,(.5*Math.PI-2*Math.atan(Math.exp(-K[1]/nt)))*rt]}NS.prototype={constructor:NS,polygons:function(){var K=this.edges;return this.cells.map(function(rt){var nt=rt.halfedges.map(function(lt){return Z2(rt,K[lt])});return nt.data=rt.site.data,nt})},triangles:function(){var K=[],rt=this.edges;return this.cells.forEach(function(nt,lt){if(lo=(pt=nt.halfedges).length)for(var pt,lo,vo,vf,Cf,Tf,Rf=nt.site,Of=-1,Bf=rt[pt[lo-1]],Gf=Bf.left===Rf?Bf.right:Bf.left;++Of<lo;)vo=Gf,Gf=(Bf=rt[pt[Of]]).left===Rf?Bf.right:Bf.left,vo&&Gf&&lt<vo.index&&lt<Gf.index&&(Cf=vo,Tf=Gf,((vf=Rf)[0]-Tf[0])*(Cf[1]-vf[1])-(vf[0]-Cf[0])*(Tf[1]-vf[1])<0)&&K.push([Rf.data,vo.data,Gf.data])}),K},links:function(){return this.edges.filter(function(K){return K.right}).map(function(K){return{source:K.left.data,target:K.right.data}})},find:function(K,rt,nt){for(var lt,pt,lo=this,vo=lo._found||0,vf=lo.cells.length;!(pt=lo.cells[vo]);)if(++vo>=vf)return null;var Cf=K-pt.site[0],Tf=rt-pt.site[1],Rf=Cf*Cf+Tf*Tf;do pt=lo.cells[lt=vo],vo=null,pt.halfedges.forEach(function(Of){var Bf=lo.edges[Of],Gf=Bf.left;if(Gf!==pt.site&&Gf||(Gf=Bf.right)){var qf=K-Gf[0],Kf=rt-Gf[1],Uf=qf*qf+Kf*Kf;Uf<Rf&&(Rf=Uf,vo=Gf.index)}});while(vo!==null);return lo._found=lt,nt==null||Rf<=nt*nt?pt.site:null}};var oO=Object.freeze({__proto__:null,toMercator:lT,toWgs84:uT}),sO=function(){for(var K=0,rt=0,nt=arguments.length;rt<nt;rt++)K+=arguments[rt].length;var lt=Array(K),pt=0;for(rt=0;rt<nt;rt++)for(var lo=arguments[rt],vo=0,vf=lo.length;vo<vf;vo++,pt++)lt[pt]=lo[vo];return lt};function Dk(K){return Array.isArray(K)?mT(K):K&&K.bbox?mT(K.bbox):[360*gT(),180*gT()]}function fT(K,rt){rt===void 0&&(rt={}),K==null&&(K=1);for(var nt=[],lt=0;lt<K;lt++)nt.push(ut(Dk(rt.bbox)));return uf(nt)}function $S(K,rt){rt===void 0&&(rt={}),K==null&&(K=1),Af(rt.num_vertices)&&rt.num_vertices!==void 0||(rt.num_vertices=10),Af(rt.max_radial_length)&&rt.max_radial_length!==void 0||(rt.max_radial_length=10);for(var nt=[],lt=function(lo){var vo,vf=[],Cf=sO(Array(rt.num_vertices+1)).map(Math.random);Cf.forEach(function(Tf,Rf,Of){Of[Rf]=Rf>0?Tf+Of[Rf-1]:Tf}),Cf.forEach(function(Tf){Tf=2*Tf*Math.PI/Cf[Cf.length-1];var Rf=Math.random();vf.push([Rf*(rt.max_radial_length||10)*Math.sin(Tf),Rf*(rt.max_radial_length||10)*Math.cos(Tf)])}),vf[vf.length-1]=vf[0],vf=vf.map((vo=Dk(rt.bbox),function(Tf){return[Tf[0]+vo[0],Tf[1]+vo[1]]})),nt.push(uo([vf]))},pt=0;pt<K;pt++)lt();return uf(nt)}function pT(K,rt){if(rt===void 0&&(rt={}),!Pf(rt=rt||{}))throw new Error("options is invalid");var nt=rt.bbox,lt=rt.num_vertices,pt=rt.max_length,lo=rt.max_rotation;K==null&&(K=1),(!Af(lt)||lt===void 0||lt<2)&&(lt=10),Af(pt)&&pt!==void 0||(pt=1e-4),Af(lo)&&lo!==void 0||(lo=Math.PI/8);for(var vo=[],vf=0;vf<K;vf++){for(var Cf=[Dk(nt)],Tf=0;Tf<lt-1;Tf++){var Rf=(Tf===0?2*Math.random()*Math.PI:Math.tan((Cf[Tf][1]-Cf[Tf-1][1])/(Cf[Tf][0]-Cf[Tf-1][0])))+(Math.random()-.5)*lo*2,Of=Math.random()*pt;Cf.push([Cf[Tf][0]+Of*Math.cos(Rf),Cf[Tf][1]+Of*Math.sin(Rf)])}vo.push(yo(Cf))}return uf(vo)}function gT(){return Math.random()-.5}function mT(K){return[Math.random()*(K[2]-K[0])+K[0],Math.random()*(K[3]-K[1])+K[1]]}var aO=Object.freeze({__proto__:null,randomPosition:Dk,randomPoint:fT,randomPolygon:$S,randomLineString:pT});function vT(K,rt){if(!K)throw new Error("geojson is required");if(K.type!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(rt==null)throw new Error("filter is required");var nt=[];return fp(K,function(lt){PC(lt.properties,rt)&&nt.push(lt)}),uf(nt)}function FS(K,rt,nt){if(!K)throw new Error("geojson is required");if(K.type!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(rt==null)throw new Error("property is required");for(var lt=zS(K,rt),pt=Object.keys(lt),lo=0;lo<pt.length;lo++){for(var vo=pt[lo],vf=lt[vo],Cf=[],Tf=0;Tf<vf.length;Tf++)Cf.push(K.features[vf[Tf]]);nt(uf(Cf),vo,lo)}}function MC(K,rt,nt,lt){var pt=lt;return FS(K,rt,function(lo,vo,vf){pt=vf===0&&lt===void 0?lo:nt(pt,lo,vo,vf)}),pt}function zS(K,rt){var nt={};return fp(K,function(lt,pt){var lo=lt.properties||{};if(Object.prototype.hasOwnProperty.call(lo,String(rt))){var vo=lo[rt];Object.prototype.hasOwnProperty.call(nt,vo)?nt[vo].push(pt):nt[vo]=[pt]}}),nt}function PC(K,rt){if(K===void 0)return!1;var nt=typeof rt;if(nt==="number"||nt==="string")return Object.prototype.hasOwnProperty.call(K,rt);if(Array.isArray(rt)){for(var lt=0;lt<rt.length;lt++)if(!PC(K,rt[lt]))return!1;return!0}return jS(K,rt)}function jS(K,rt){for(var nt=Object.keys(rt),lt=0;lt<nt.length;lt++){var pt=nt[lt];if(K[pt]!==rt[pt])return!1}return!0}function yT(K,rt){if(!rt)return{};if(!rt.length)return{};for(var nt={},lt=0;lt<rt.length;lt++){var pt=rt[lt];Object.prototype.hasOwnProperty.call(K,pt)&&(nt[pt]=K[pt])}return nt}var lO=Object.freeze({__proto__:null,getCluster:vT,clusterEach:FS,clusterReduce:MC,createBins:zS,applyFilter:PC,propertiesContainsFilter:jS,filterProperties:yT}),fx=function(K,rt){this.next=null,this.key=K,this.data=rt,this.left=null,this.right=null};/**
     * splaytree v3.1.0
     * Fast Splay tree for Node and browser
     *
     * @author Alexander Milevski <info@w8r.name>
     * @license MIT
     * @preserve
     */function HS(K,rt){return K>rt?1:K<rt?-1:0}function A_(K,rt,nt){for(var lt=new fx(null,null),pt=lt,lo=lt;;){var vo=nt(K,rt.key);if(vo<0){if(rt.left===null)break;if(nt(K,rt.left.key)<0){var vf=rt.left;if(rt.left=vf.right,vf.right=rt,(rt=vf).left===null)break}lo.left=rt,lo=rt,rt=rt.left}else{if(!(vo>0)||rt.right===null||nt(K,rt.right.key)>0&&(vf=rt.right,rt.right=vf.left,vf.left=rt,(rt=vf).right===null))break;pt.right=rt,pt=rt,rt=rt.right}}return pt.right=rt.left,lo.left=rt.right,rt.left=lt.right,rt.right=lt.left,rt}function VS(K,rt,nt,lt){var pt=new fx(K,rt);if(nt===null)return pt.left=pt.right=null,pt;var lo=lt(K,(nt=A_(K,nt,lt)).key);return lo<0?(pt.left=nt.left,pt.right=nt,nt.left=null):lo>=0&&(pt.right=nt.right,pt.left=nt,nt.right=null),pt}function US(K,rt,nt){var lt=null,pt=null;if(rt){var lo=nt((rt=A_(K,rt,nt)).key,K);lo===0?(lt=rt.left,pt=rt.right):lo<0?(pt=rt.right,rt.right=null,lt=rt):(lt=rt.left,rt.left=null,pt=rt)}return{left:lt,right:pt}}function WS(K,rt,nt,lt,pt){if(K){lt(rt+(nt?"└── ":"├── ")+pt(K)+`
`);var lo=rt+(nt?"    ":"│   ");K.left&&WS(K.left,lo,!1,lt,pt),K.right&&WS(K.right,lo,!0,lt,pt)}}var GS=function(){function K(rt){rt===void 0&&(rt=HS),this._root=null,this._size=0,this._comparator=rt}return K.prototype.insert=function(rt,nt){return this._size++,this._root=VS(rt,nt,this._root,this._comparator)},K.prototype.add=function(rt,nt){var lt=new fx(rt,nt);this._root===null&&(lt.left=lt.right=null,this._size++,this._root=lt);var pt=this._comparator,lo=A_(rt,this._root,pt),vo=pt(rt,lo.key);return vo===0?this._root=lo:(vo<0?(lt.left=lo.left,lt.right=lo,lo.left=null):vo>0&&(lt.right=lo.right,lt.left=lo,lo.right=null),this._size++,this._root=lt),this._root},K.prototype.remove=function(rt){this._root=this._remove(rt,this._root,this._comparator)},K.prototype._remove=function(rt,nt,lt){var pt;return nt===null?null:lt(rt,(nt=A_(rt,nt,lt)).key)===0?(nt.left===null?pt=nt.right:(pt=A_(rt,nt.left,lt)).right=nt.right,this._size--,pt):nt},K.prototype.pop=function(){var rt=this._root;if(rt){for(;rt.left;)rt=rt.left;return this._root=A_(rt.key,this._root,this._comparator),this._root=this._remove(rt.key,this._root,this._comparator),{key:rt.key,data:rt.data}}return null},K.prototype.findStatic=function(rt){for(var nt=this._root,lt=this._comparator;nt;){var pt=lt(rt,nt.key);if(pt===0)return nt;nt=pt<0?nt.left:nt.right}return null},K.prototype.find=function(rt){return this._root&&(this._root=A_(rt,this._root,this._comparator),this._comparator(rt,this._root.key)!==0)?null:this._root},K.prototype.contains=function(rt){for(var nt=this._root,lt=this._comparator;nt;){var pt=lt(rt,nt.key);if(pt===0)return!0;nt=pt<0?nt.left:nt.right}return!1},K.prototype.forEach=function(rt,nt){for(var lt=this._root,pt=[],lo=!1;!lo;)lt!==null?(pt.push(lt),lt=lt.left):pt.length!==0?(lt=pt.pop(),rt.call(nt,lt),lt=lt.right):lo=!0;return this},K.prototype.range=function(rt,nt,lt,pt){for(var lo=[],vo=this._comparator,vf=this._root;lo.length!==0||vf;)if(vf)lo.push(vf),vf=vf.left;else{if(vo((vf=lo.pop()).key,nt)>0)break;if(vo(vf.key,rt)>=0&&lt.call(pt,vf))return this;vf=vf.right}return this},K.prototype.keys=function(){var rt=[];return this.forEach(function(nt){var lt=nt.key;return rt.push(lt)}),rt},K.prototype.values=function(){var rt=[];return this.forEach(function(nt){var lt=nt.data;return rt.push(lt)}),rt},K.prototype.min=function(){return this._root?this.minNode(this._root).key:null},K.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},K.prototype.minNode=function(rt){if(rt===void 0&&(rt=this._root),rt)for(;rt.left;)rt=rt.left;return rt},K.prototype.maxNode=function(rt){if(rt===void 0&&(rt=this._root),rt)for(;rt.right;)rt=rt.right;return rt},K.prototype.at=function(rt){for(var nt=this._root,lt=!1,pt=0,lo=[];!lt;)if(nt)lo.push(nt),nt=nt.left;else if(lo.length>0){if(nt=lo.pop(),pt===rt)return nt;pt++,nt=nt.right}else lt=!0;return null},K.prototype.next=function(rt){var nt=this._root,lt=null;if(rt.right){for(lt=rt.right;lt.left;)lt=lt.left;return lt}for(var pt=this._comparator;nt;){var lo=pt(rt.key,nt.key);if(lo===0)break;lo<0?(lt=nt,nt=nt.left):nt=nt.right}return lt},K.prototype.prev=function(rt){var nt=this._root,lt=null;if(rt.left!==null){for(lt=rt.left;lt.right;)lt=lt.right;return lt}for(var pt=this._comparator;nt;){var lo=pt(rt.key,nt.key);if(lo===0)break;lo<0?nt=nt.left:(lt=nt,nt=nt.right)}return lt},K.prototype.clear=function(){return this._root=null,this._size=0,this},K.prototype.toList=function(){return function(rt){for(var nt=rt,lt=[],pt=!1,lo=new fx(null,null),vo=lo;!pt;)nt?(lt.push(nt),nt=nt.left):lt.length>0?nt=(nt=vo=vo.next=lt.pop()).right:pt=!0;return vo.next=null,lo.next}(this._root)},K.prototype.load=function(rt,nt,lt){nt===void 0&&(nt=[]),lt===void 0&&(lt=!1);var pt=rt.length,lo=this._comparator;if(lt&&YS(rt,nt,0,pt-1,lo),this._root===null)this._root=qS(rt,nt,0,pt),this._size=pt;else{var vo=function(vf,Cf,Tf){for(var Rf=new fx(null,null),Of=Rf,Bf=vf,Gf=Cf;Bf!==null&&Gf!==null;)Tf(Bf.key,Gf.key)<0?(Of.next=Bf,Bf=Bf.next):(Of.next=Gf,Gf=Gf.next),Of=Of.next;return Bf!==null?Of.next=Bf:Gf!==null&&(Of.next=Gf),Rf.next}(this.toList(),function(vf,Cf){for(var Tf=new fx(null,null),Rf=Tf,Of=0;Of<vf.length;Of++)Rf=Rf.next=new fx(vf[Of],Cf[Of]);return Rf.next=null,Tf.next}(rt,nt),lo);pt=this._size+pt,this._root=IC({head:vo},0,pt)}return this},K.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(K.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(K.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),K.prototype.toString=function(rt){rt===void 0&&(rt=function(lt){return String(lt.key)});var nt=[];return WS(this._root,"",!0,function(lt){return nt.push(lt)},rt),nt.join("")},K.prototype.update=function(rt,nt,lt){var pt=this._comparator,lo=US(rt,this._root,pt),vo=lo.left,vf=lo.right;pt(rt,nt)<0?vf=VS(nt,lt,vf,pt):vo=VS(nt,lt,vo,pt),this._root=function(Cf,Tf,Rf){return Tf===null?Cf:(Cf===null||((Tf=A_(Cf.key,Tf,Rf)).left=Cf),Tf)}(vo,vf,pt)},K.prototype.split=function(rt){return US(rt,this._root,this._comparator)},K}();function qS(K,rt,nt,lt){var pt=lt-nt;if(pt>0){var lo=nt+Math.floor(pt/2),vo=K[lo],vf=rt[lo],Cf=new fx(vo,vf);return Cf.left=qS(K,rt,nt,lo),Cf.right=qS(K,rt,lo+1,lt),Cf}return null}function IC(K,rt,nt){var lt=nt-rt;if(lt>0){var pt=rt+Math.floor(lt/2),lo=IC(K,rt,pt),vo=K.head;return vo.left=lo,K.head=K.head.next,vo.right=IC(K,pt+1,nt),vo}return null}function YS(K,rt,nt,lt,pt){if(!(nt>=lt)){for(var lo=K[nt+lt>>1],vo=nt-1,vf=lt+1;;){do vo++;while(pt(K[vo],lo)<0);do vf--;while(pt(K[vf],lo)>0);if(vo>=vf)break;var Cf=K[vo];K[vo]=K[vf],K[vf]=Cf,Cf=rt[vo],rt[vo]=rt[vf],rt[vf]=Cf}YS(K,rt,nt,vf,pt),YS(K,rt,vf+1,lt,pt)}}function Tb(K,rt){if(!(K instanceof rt))throw new TypeError("Cannot call a class as a function")}function ZS(K,rt){for(var nt=0;nt<rt.length;nt++){var lt=rt[nt];lt.enumerable=lt.enumerable||!1,lt.configurable=!0,"value"in lt&&(lt.writable=!0),Object.defineProperty(K,lt.key,lt)}}function mb(K,rt,nt){return rt&&ZS(K.prototype,rt),nt&&ZS(K,nt),K}var Nk=function(K,rt){return K.ll.x<=rt.x&&rt.x<=K.ur.x&&K.ll.y<=rt.y&&rt.y<=K.ur.y},LC=function(K,rt){if(rt.ur.x<K.ll.x||K.ur.x<rt.ll.x||rt.ur.y<K.ll.y||K.ur.y<rt.ll.y)return null;var nt=K.ll.x<rt.ll.x?rt.ll.x:K.ll.x,lt=K.ur.x<rt.ur.x?K.ur.x:rt.ur.x;return{ll:{x:nt,y:K.ll.y<rt.ll.y?rt.ll.y:K.ll.y},ur:{x:lt,y:K.ur.y<rt.ur.y?K.ur.y:rt.ur.y}}},O_=Number.EPSILON;O_===void 0&&(O_=Math.pow(2,-52));var RC=O_*O_,XS=function(K,rt){if(-O_<K&&K<O_&&-O_<rt&&rt<O_)return 0;var nt=K-rt;return nt*nt<RC*K*rt?0:K<rt?-1:1},bT=function(){function K(){Tb(this,K),this.reset()}return mb(K,[{key:"reset",value:function(){this.xRounder=new wT,this.yRounder=new wT}},{key:"round",value:function(rt,nt){return{x:this.xRounder.round(rt),y:this.yRounder.round(nt)}}}]),K}(),wT=function(){function K(){Tb(this,K),this.tree=new GS,this.round(0)}return mb(K,[{key:"round",value:function(rt){var nt=this.tree.add(rt),lt=this.tree.prev(nt);if(lt!==null&&XS(nt.key,lt.key)===0)return this.tree.remove(rt),lt.key;var pt=this.tree.next(nt);return pt!==null&&XS(nt.key,pt.key)===0?(this.tree.remove(rt),pt.key):rt}}]),K}(),Bk=new bT,$k=function(K,rt){return K.x*rt.y-K.y*rt.x},_T=function(K,rt){return K.x*rt.x+K.y*rt.y},xT=function(K,rt,nt){var lt={x:rt.x-K.x,y:rt.y-K.y},pt={x:nt.x-K.x,y:nt.y-K.y},lo=$k(lt,pt);return XS(lo,0)},DC=function(K){return Math.sqrt(_T(K,K))},ET=function(K,rt,nt){var lt={x:rt.x-K.x,y:rt.y-K.y},pt={x:nt.x-K.x,y:nt.y-K.y};return _T(pt,lt)/DC(pt)/DC(lt)},kT=function(K,rt,nt){return rt.y===0?null:{x:K.x+rt.x/rt.y*(nt-K.y),y:nt}},CT=function(K,rt,nt){return rt.x===0?null:{x:nt,y:K.y+rt.y/rt.x*(nt-K.x)}},Yw=function(){function K(rt,nt){Tb(this,K),rt.events===void 0?rt.events=[this]:rt.events.push(this),this.point=rt,this.isLeft=nt}return mb(K,null,[{key:"compare",value:function(rt,nt){var lt=K.comparePoints(rt.point,nt.point);return lt!==0?lt:(rt.point!==nt.point&&rt.link(nt),rt.isLeft!==nt.isLeft?rt.isLeft?1:-1:NC.compare(rt.segment,nt.segment))}},{key:"comparePoints",value:function(rt,nt){return rt.x<nt.x?-1:rt.x>nt.x?1:rt.y<nt.y?-1:rt.y>nt.y?1:0}}]),mb(K,[{key:"link",value:function(rt){if(rt.point===this.point)throw new Error("Tried to link already linked events");for(var nt=rt.point.events,lt=0,pt=nt.length;lt<pt;lt++){var lo=nt[lt];this.point.events.push(lo),lo.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var rt=this.point.events.length,nt=0;nt<rt;nt++){var lt=this.point.events[nt];if(lt.segment.consumedBy===void 0)for(var pt=nt+1;pt<rt;pt++){var lo=this.point.events[pt];lo.consumedBy===void 0&&lt.otherSE.point.events===lo.otherSE.point.events&&lt.segment.consume(lo.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var rt=[],nt=0,lt=this.point.events.length;nt<lt;nt++){var pt=this.point.events[nt];pt!==this&&!pt.segment.ringOut&&pt.segment.isInResult()&&rt.push(pt)}return rt}},{key:"getLeftmostComparator",value:function(rt){var nt=this,lt=new Map,pt=function(lo){var vo,vf,Cf,Tf,Rf,Of=lo.otherSE;lt.set(lo,{sine:(vo=nt.point,vf=rt.point,Cf=Of.point,Tf={x:vf.x-vo.x,y:vf.y-vo.y},Rf={x:Cf.x-vo.x,y:Cf.y-vo.y},$k(Rf,Tf)/DC(Rf)/DC(Tf)),cosine:ET(nt.point,rt.point,Of.point)})};return function(lo,vo){lt.has(lo)||pt(lo),lt.has(vo)||pt(vo);var vf=lt.get(lo),Cf=vf.sine,Tf=vf.cosine,Rf=lt.get(vo),Of=Rf.sine,Bf=Rf.cosine;return Cf>=0&&Of>=0?Tf<Bf?1:Tf>Bf?-1:0:Cf<0&&Of<0?Tf<Bf?-1:Tf>Bf?1:0:Of<Cf?-1:Of>Cf?1:0}}}]),K}(),uO=0,NC=function(){function K(rt,nt,lt,pt){Tb(this,K),this.id=++uO,this.leftSE=rt,rt.segment=this,rt.otherSE=nt,this.rightSE=nt,nt.segment=this,nt.otherSE=rt,this.rings=lt,this.windings=pt}return mb(K,null,[{key:"compare",value:function(rt,nt){var lt=rt.leftSE.point.x,pt=nt.leftSE.point.x,lo=rt.rightSE.point.x,vo=nt.rightSE.point.x;if(vo<lt)return 1;if(lo<pt)return-1;var vf=rt.leftSE.point.y,Cf=nt.leftSE.point.y,Tf=rt.rightSE.point.y,Rf=nt.rightSE.point.y;if(lt<pt){if(Cf<vf&&Cf<Tf)return 1;if(Cf>vf&&Cf>Tf)return-1;var Of=rt.comparePoint(nt.leftSE.point);if(Of<0)return 1;if(Of>0)return-1;var Bf=nt.comparePoint(rt.rightSE.point);return Bf!==0?Bf:-1}if(lt>pt){if(vf<Cf&&vf<Rf)return-1;if(vf>Cf&&vf>Rf)return 1;var Gf=nt.comparePoint(rt.leftSE.point);if(Gf!==0)return Gf;var qf=rt.comparePoint(nt.rightSE.point);return qf<0?1:qf>0?-1:1}if(vf<Cf)return-1;if(vf>Cf)return 1;if(lo<vo){var Kf=nt.comparePoint(rt.rightSE.point);if(Kf!==0)return Kf}if(lo>vo){var Uf=rt.comparePoint(nt.rightSE.point);if(Uf<0)return 1;if(Uf>0)return-1}if(lo!==vo){var lp=Tf-vf,xp=lo-lt,Yf=Rf-Cf,sp=vo-pt;if(lp>xp&&Yf<sp)return 1;if(lp<xp&&Yf>sp)return-1}return lo>vo?1:lo<vo||Tf<Rf?-1:Tf>Rf?1:rt.id<nt.id?-1:rt.id>nt.id?1:0}}]),mb(K,[{key:"replaceRightSE",value:function(rt){this.rightSE=rt,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var rt=this.leftSE.point.y,nt=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:rt<nt?rt:nt},ur:{x:this.rightSE.point.x,y:rt>nt?rt:nt}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(rt){return rt.x===this.leftSE.point.x&&rt.y===this.leftSE.point.y||rt.x===this.rightSE.point.x&&rt.y===this.rightSE.point.y}},{key:"comparePoint",value:function(rt){if(this.isAnEndpoint(rt))return 0;var nt=this.leftSE.point,lt=this.rightSE.point,pt=this.vector();if(nt.x===lt.x)return rt.x===nt.x?0:rt.x<nt.x?1:-1;var lo=(rt.y-nt.y)/pt.y,vo=nt.x+lo*pt.x;if(rt.x===vo)return 0;var vf=(rt.x-nt.x)/pt.x,Cf=nt.y+vf*pt.y;return rt.y===Cf?0:rt.y<Cf?-1:1}},{key:"getIntersection",value:function(rt){var nt=this.bbox(),lt=rt.bbox(),pt=LC(nt,lt);if(pt===null)return null;var lo=this.leftSE.point,vo=this.rightSE.point,vf=rt.leftSE.point,Cf=rt.rightSE.point,Tf=Nk(nt,vf)&&this.comparePoint(vf)===0,Rf=Nk(lt,lo)&&rt.comparePoint(lo)===0,Of=Nk(nt,Cf)&&this.comparePoint(Cf)===0,Bf=Nk(lt,vo)&&rt.comparePoint(vo)===0;if(Rf&&Tf)return Bf&&!Of?vo:!Bf&&Of?Cf:null;if(Rf)return Of&&lo.x===Cf.x&&lo.y===Cf.y?null:lo;if(Tf)return Bf&&vo.x===vf.x&&vo.y===vf.y?null:vf;if(Bf&&Of)return null;if(Bf)return vo;if(Of)return Cf;var Gf=function(qf,Kf,Uf,lp){if(Kf.x===0)return CT(Uf,lp,qf.x);if(lp.x===0)return CT(qf,Kf,Uf.x);if(Kf.y===0)return kT(Uf,lp,qf.y);if(lp.y===0)return kT(qf,Kf,Uf.y);var xp=$k(Kf,lp);if(xp==0)return null;var Yf={x:Uf.x-qf.x,y:Uf.y-qf.y},sp=$k(Yf,Kf)/xp,hp=$k(Yf,lp)/xp;return{x:(qf.x+hp*Kf.x+(Uf.x+sp*lp.x))/2,y:(qf.y+hp*Kf.y+(Uf.y+sp*lp.y))/2}}(lo,this.vector(),vf,rt.vector());return Gf===null?null:Nk(pt,Gf)?Bk.round(Gf.x,Gf.y):null}},{key:"split",value:function(rt){var nt=[],lt=rt.events!==void 0,pt=new Yw(rt,!0),lo=new Yw(rt,!1),vo=this.rightSE;this.replaceRightSE(lo),nt.push(lo),nt.push(pt);var vf=new K(pt,vo,this.rings.slice(),this.windings.slice());return Yw.comparePoints(vf.leftSE.point,vf.rightSE.point)>0&&vf.swapEvents(),Yw.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),lt&&(pt.checkForConsuming(),lo.checkForConsuming()),nt}},{key:"swapEvents",value:function(){var rt=this.rightSE;this.rightSE=this.leftSE,this.leftSE=rt,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var nt=0,lt=this.windings.length;nt<lt;nt++)this.windings[nt]*=-1}},{key:"consume",value:function(rt){for(var nt=this,lt=rt;nt.consumedBy;)nt=nt.consumedBy;for(;lt.consumedBy;)lt=lt.consumedBy;var pt=K.compare(nt,lt);if(pt!==0){if(pt>0){var lo=nt;nt=lt,lt=lo}if(nt.prev===lt){var vo=nt;nt=lt,lt=vo}for(var vf=0,Cf=lt.rings.length;vf<Cf;vf++){var Tf=lt.rings[vf],Rf=lt.windings[vf],Of=nt.rings.indexOf(Tf);Of===-1?(nt.rings.push(Tf),nt.windings.push(Rf)):nt.windings[Of]+=Rf}lt.rings=null,lt.windings=null,lt.consumedBy=nt,lt.leftSE.consumedBy=nt.leftSE,lt.rightSE.consumedBy=nt.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(this.prev){var rt=this.prev.consumedBy||this.prev;this._beforeState=rt.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var rt=this.beforeState();this._afterState={rings:rt.rings.slice(0),windings:rt.windings.slice(0),multiPolys:[]};for(var nt=this._afterState.rings,lt=this._afterState.windings,pt=this._afterState.multiPolys,lo=0,vo=this.rings.length;lo<vo;lo++){var vf=this.rings[lo],Cf=this.windings[lo],Tf=nt.indexOf(vf);Tf===-1?(nt.push(vf),lt.push(Cf)):lt[Tf]+=Cf}for(var Rf=[],Of=[],Bf=0,Gf=nt.length;Bf<Gf;Bf++)if(lt[Bf]!==0){var qf=nt[Bf],Kf=qf.poly;if(Of.indexOf(Kf)===-1)if(qf.isExterior)Rf.push(Kf);else{Of.indexOf(Kf)===-1&&Of.push(Kf);var Uf=Rf.indexOf(qf.poly);Uf!==-1&&Rf.splice(Uf,1)}}for(var lp=0,xp=Rf.length;lp<xp;lp++){var Yf=Rf[lp].multiPoly;pt.indexOf(Yf)===-1&&pt.push(Yf)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var rt=this.beforeState().multiPolys,nt=this.afterState().multiPolys;switch(mw.type){case"union":var lt=rt.length===0,pt=nt.length===0;this._isInResult=lt!==pt;break;case"intersection":var lo,vo;rt.length<nt.length?(lo=rt.length,vo=nt.length):(lo=nt.length,vo=rt.length),this._isInResult=vo===mw.numMultiPolys&&lo<vo;break;case"xor":var vf=Math.abs(rt.length-nt.length);this._isInResult=vf%2==1;break;case"difference":var Cf=function(Tf){return Tf.length===1&&Tf[0].isSubject};this._isInResult=Cf(rt)!==Cf(nt);break;default:throw new Error("Unrecognized operation type found ".concat(mw.type))}return this._isInResult}}],[{key:"fromRing",value:function(rt,nt,lt){var pt,lo,vo,vf=Yw.comparePoints(rt,nt);if(vf<0)pt=rt,lo=nt,vo=1;else{if(!(vf>0))throw new Error("Tried to create degenerate segment at [".concat(rt.x,", ").concat(rt.y,"]"));pt=nt,lo=rt,vo=-1}return new K(new Yw(pt,!0),new Yw(lo,!1),[lt],[vo])}}]),K}(),ST=function(){function K(rt,nt,lt){if(Tb(this,K),!Array.isArray(rt)||rt.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=nt,this.isExterior=lt,this.segments=[],typeof rt[0][0]!="number"||typeof rt[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var pt=Bk.round(rt[0][0],rt[0][1]);this.bbox={ll:{x:pt.x,y:pt.y},ur:{x:pt.x,y:pt.y}};for(var lo=pt,vo=1,vf=rt.length;vo<vf;vo++){if(typeof rt[vo][0]!="number"||typeof rt[vo][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var Cf=Bk.round(rt[vo][0],rt[vo][1]);Cf.x===lo.x&&Cf.y===lo.y||(this.segments.push(NC.fromRing(lo,Cf,this)),Cf.x<this.bbox.ll.x&&(this.bbox.ll.x=Cf.x),Cf.y<this.bbox.ll.y&&(this.bbox.ll.y=Cf.y),Cf.x>this.bbox.ur.x&&(this.bbox.ur.x=Cf.x),Cf.y>this.bbox.ur.y&&(this.bbox.ur.y=Cf.y),lo=Cf)}pt.x===lo.x&&pt.y===lo.y||this.segments.push(NC.fromRing(lo,pt,this))}return mb(K,[{key:"getSweepEvents",value:function(){for(var rt=[],nt=0,lt=this.segments.length;nt<lt;nt++){var pt=this.segments[nt];rt.push(pt.leftSE),rt.push(pt.rightSE)}return rt}}]),K}(),cO=function(){function K(rt,nt){if(Tb(this,K),!Array.isArray(rt))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new ST(rt[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var lt=1,pt=rt.length;lt<pt;lt++){var lo=new ST(rt[lt],this,!1);lo.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=lo.bbox.ll.x),lo.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=lo.bbox.ll.y),lo.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=lo.bbox.ur.x),lo.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=lo.bbox.ur.y),this.interiorRings.push(lo)}this.multiPoly=nt}return mb(K,[{key:"getSweepEvents",value:function(){for(var rt=this.exteriorRing.getSweepEvents(),nt=0,lt=this.interiorRings.length;nt<lt;nt++)for(var pt=this.interiorRings[nt].getSweepEvents(),lo=0,vo=pt.length;lo<vo;lo++)rt.push(pt[lo]);return rt}}]),K}(),TT=function(){function K(rt,nt){if(Tb(this,K),!Array.isArray(rt))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof rt[0][0][0]=="number"&&(rt=[rt])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var lt=0,pt=rt.length;lt<pt;lt++){var lo=new cO(rt[lt],this);lo.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=lo.bbox.ll.x),lo.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=lo.bbox.ll.y),lo.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=lo.bbox.ur.x),lo.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=lo.bbox.ur.y),this.polys.push(lo)}this.isSubject=nt}return mb(K,[{key:"getSweepEvents",value:function(){for(var rt=[],nt=0,lt=this.polys.length;nt<lt;nt++)for(var pt=this.polys[nt].getSweepEvents(),lo=0,vo=pt.length;lo<vo;lo++)rt.push(pt[lo]);return rt}}]),K}(),AT=function(){function K(rt){Tb(this,K),this.events=rt;for(var nt=0,lt=rt.length;nt<lt;nt++)rt[nt].segment.ringOut=this;this.poly=null}return mb(K,null,[{key:"factory",value:function(rt){for(var nt=[],lt=0,pt=rt.length;lt<pt;lt++){var lo=rt[lt];if(lo.isInResult()&&!lo.ringOut){for(var vo=null,vf=lo.leftSE,Cf=lo.rightSE,Tf=[vf],Rf=vf.point,Of=[];vo=vf,vf=Cf,Tf.push(vf),vf.point!==Rf;)for(;;){var Bf=vf.getAvailableLinkedEvents();if(Bf.length===0){var Gf=Tf[0].point,qf=Tf[Tf.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(Gf.x,",")+" ".concat(Gf.y,"]. Last matching segment found ends at")+" [".concat(qf.x,", ").concat(qf.y,"]."))}if(Bf.length===1){Cf=Bf[0].otherSE;break}for(var Kf=null,Uf=0,lp=Of.length;Uf<lp;Uf++)if(Of[Uf].point===vf.point){Kf=Uf;break}if(Kf===null){Of.push({index:Tf.length,point:vf.point});var xp=vf.getLeftmostComparator(vo);Cf=Bf.sort(xp)[0].otherSE;break}var Yf=Of.splice(Kf)[0],sp=Tf.splice(Yf.index);sp.unshift(sp[0].otherSE),nt.push(new K(sp.reverse()))}nt.push(new K(Tf))}}return nt}}]),mb(K,[{key:"getGeom",value:function(){for(var rt=this.events[0].point,nt=[rt],lt=1,pt=this.events.length-1;lt<pt;lt++){var lo=this.events[lt].point,vo=this.events[lt+1].point;xT(lo,rt,vo)!==0&&(nt.push(lo),rt=lo)}if(nt.length===1)return null;var vf=nt[0],Cf=nt[1];xT(vf,rt,Cf)===0&&nt.shift(),nt.push(nt[0]);for(var Tf=this.isExteriorRing()?1:-1,Rf=this.isExteriorRing()?0:nt.length-1,Of=this.isExteriorRing()?nt.length:-1,Bf=[],Gf=Rf;Gf!=Of;Gf+=Tf)Bf.push([nt[Gf].x,nt[Gf].y]);return Bf}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var rt=this.enclosingRing();this._isExteriorRing=!rt||!rt.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var rt=this.events[0],nt=1,lt=this.events.length;nt<lt;nt++){var pt=this.events[nt];Yw.compare(rt,pt)>0&&(rt=pt)}for(var lo=rt.segment.prevInResult(),vo=lo?lo.prevInResult():null;;){if(!lo)return null;if(!vo)return lo.ringOut;if(vo.ringOut!==lo.ringOut)return vo.ringOut.enclosingRing()!==lo.ringOut?lo.ringOut:lo.ringOut.enclosingRing();lo=vo.prevInResult(),vo=lo?lo.prevInResult():null}}}]),K}(),OT=function(){function K(rt){Tb(this,K),this.exteriorRing=rt,rt.poly=this,this.interiorRings=[]}return mb(K,[{key:"addInterior",value:function(rt){this.interiorRings.push(rt),rt.poly=this}},{key:"getGeom",value:function(){var rt=[this.exteriorRing.getGeom()];if(rt[0]===null)return null;for(var nt=0,lt=this.interiorRings.length;nt<lt;nt++){var pt=this.interiorRings[nt].getGeom();pt!==null&&rt.push(pt)}return rt}}]),K}(),hO=function(){function K(rt){Tb(this,K),this.rings=rt,this.polys=this._composePolys(rt)}return mb(K,[{key:"getGeom",value:function(){for(var rt=[],nt=0,lt=this.polys.length;nt<lt;nt++){var pt=this.polys[nt].getGeom();pt!==null&&rt.push(pt)}return rt}},{key:"_composePolys",value:function(rt){for(var nt=[],lt=0,pt=rt.length;lt<pt;lt++){var lo=rt[lt];if(!lo.poly)if(lo.isExteriorRing())nt.push(new OT(lo));else{var vo=lo.enclosingRing();vo.poly||nt.push(new OT(vo)),vo.poly.addInterior(lo)}}return nt}}]),K}(),dO=function(){function K(rt){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NC.compare;Tb(this,K),this.queue=rt,this.tree=new GS(nt),this.segments=[]}return mb(K,[{key:"process",value:function(rt){var nt=rt.segment,lt=[];if(rt.consumedBy)return rt.isLeft?this.queue.remove(rt.otherSE):this.tree.remove(nt),lt;var pt=rt.isLeft?this.tree.insert(nt):this.tree.find(nt);if(!pt)throw new Error("Unable to find segment #".concat(nt.id," ")+"[".concat(nt.leftSE.point.x,", ").concat(nt.leftSE.point.y,"] -> ")+"[".concat(nt.rightSE.point.x,", ").concat(nt.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var lo=pt,vo=pt,vf=void 0,Cf=void 0;vf===void 0;)(lo=this.tree.prev(lo))===null?vf=null:lo.key.consumedBy===void 0&&(vf=lo.key);for(;Cf===void 0;)(vo=this.tree.next(vo))===null?Cf=null:vo.key.consumedBy===void 0&&(Cf=vo.key);if(rt.isLeft){var Tf=null;if(vf){var Rf=vf.getIntersection(nt);if(Rf!==null&&(nt.isAnEndpoint(Rf)||(Tf=Rf),!vf.isAnEndpoint(Rf)))for(var Of=this._splitSafely(vf,Rf),Bf=0,Gf=Of.length;Bf<Gf;Bf++)lt.push(Of[Bf])}var qf=null;if(Cf){var Kf=Cf.getIntersection(nt);if(Kf!==null&&(nt.isAnEndpoint(Kf)||(qf=Kf),!Cf.isAnEndpoint(Kf)))for(var Uf=this._splitSafely(Cf,Kf),lp=0,xp=Uf.length;lp<xp;lp++)lt.push(Uf[lp])}if(Tf!==null||qf!==null){var Yf=null;Tf===null?Yf=qf:qf===null?Yf=Tf:Yf=Yw.comparePoints(Tf,qf)<=0?Tf:qf,this.queue.remove(nt.rightSE),lt.push(nt.rightSE);for(var sp=nt.split(Yf),hp=0,vp=sp.length;hp<vp;hp++)lt.push(sp[hp])}lt.length>0?(this.tree.remove(nt),lt.push(rt)):(this.segments.push(nt),nt.prev=vf)}else{if(vf&&Cf){var gp=vf.getIntersection(Cf);if(gp!==null){if(!vf.isAnEndpoint(gp))for(var hg=this._splitSafely(vf,gp),tg=0,pg=hg.length;tg<pg;tg++)lt.push(hg[tg]);if(!Cf.isAnEndpoint(gp))for(var rg=this._splitSafely(Cf,gp),_g=0,lg=rg.length;_g<lg;_g++)lt.push(rg[_g])}}this.tree.remove(nt)}return lt}},{key:"_splitSafely",value:function(rt,nt){this.tree.remove(rt);var lt=rt.rightSE;this.queue.remove(lt);var pt=rt.split(nt);return pt.push(lt),rt.consumedBy===void 0&&this.tree.insert(rt),pt}}]),K}(),MT=typeof process<"u"&&{version:"0.3.4"}.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,fO=typeof process<"u"&&{version:"0.3.4"}.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,mw=new(function(){function K(){Tb(this,K)}return mb(K,[{key:"run",value:function(rt,nt,lt){mw.type=rt,Bk.reset();for(var pt=[new TT(nt,!0)],lo=0,vo=lt.length;lo<vo;lo++)pt.push(new TT(lt[lo],!1));if(mw.numMultiPolys=pt.length,mw.type==="difference")for(var vf=pt[0],Cf=1;Cf<pt.length;)LC(pt[Cf].bbox,vf.bbox)!==null?Cf++:pt.splice(Cf,1);if(mw.type==="intersection"){for(var Tf=0,Rf=pt.length;Tf<Rf;Tf++)for(var Of=pt[Tf],Bf=Tf+1,Gf=pt.length;Bf<Gf;Bf++)if(LC(Of.bbox,pt[Bf].bbox)===null)return[]}for(var qf=new GS(Yw.compare),Kf=0,Uf=pt.length;Kf<Uf;Kf++)for(var lp=pt[Kf].getSweepEvents(),xp=0,Yf=lp.length;xp<Yf;xp++)if(qf.insert(lp[xp]),qf.size>MT)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var sp=new dO(qf),hp=qf.size,vp=qf.pop();vp;){var gp=vp.key;if(qf.size===hp){var hg=gp.segment;throw new Error("Unable to pop() ".concat(gp.isLeft?"left":"right"," SweepEvent ")+"[".concat(gp.point.x,", ").concat(gp.point.y,"] from segment #").concat(hg.id," ")+"[".concat(hg.leftSE.point.x,", ").concat(hg.leftSE.point.y,"] -> ")+"[".concat(hg.rightSE.point.x,", ").concat(hg.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(qf.size>MT)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(sp.segments.length>fO)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var tg=sp.process(gp),pg=0,rg=tg.length;pg<rg;pg++){var _g=tg[pg];_g.consumedBy===void 0&&qf.insert(_g)}hp=qf.size,vp=qf.pop()}Bk.reset();var lg=AT.factory(sp.segments);return new hO(lg).getGeom()}}]),K}()),M_={union:function(K){for(var rt=arguments.length,nt=new Array(rt>1?rt-1:0),lt=1;lt<rt;lt++)nt[lt-1]=arguments[lt];return mw.run("union",K,nt)},intersection:function(K){for(var rt=arguments.length,nt=new Array(rt>1?rt-1:0),lt=1;lt<rt;lt++)nt[lt-1]=arguments[lt];return mw.run("intersection",K,nt)},xor:function(K){for(var rt=arguments.length,nt=new Array(rt>1?rt-1:0),lt=1;lt<rt;lt++)nt[lt-1]=arguments[lt];return mw.run("xor",K,nt)},difference:function(K){for(var rt=arguments.length,nt=new Array(rt>1?rt-1:0),lt=1;lt<rt;lt++)nt[lt-1]=arguments[lt];return mw.run("difference",K,nt)}};"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(K){if(this==null)throw new TypeError(this+" is not an object");var rt=Object(this),nt=Math.max(Math.min(rt.length,9007199254740991),0)||0,lt=1 in arguments&&parseInt(Number(arguments[1]),10)||0;lt=lt<0?Math.max(nt+lt,0):Math.min(lt,nt);var pt=2 in arguments&&arguments[2]!==void 0?parseInt(Number(arguments[2]),10)||0:nt;for(pt=pt<0?Math.max(nt+arguments[2],0):Math.min(pt,nt);lt<pt;)rt[lt]=K,++lt;return rt},writable:!0}),Number.isFinite=Number.isFinite||function(K){return typeof K=="number"&&isFinite(K)},Number.isInteger=Number.isInteger||function(K){return typeof K=="number"&&isFinite(K)&&Math.floor(K)===K},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(K){return K!=K},Math.trunc=Math.trunc||function(K){return K<0?Math.ceil(K):Math.floor(K)};var qx=function(){};qx.prototype.interfaces_=function(){return[]},qx.prototype.getClass=function(){return qx},qx.prototype.equalsWithTolerance=function(K,rt,nt){return Math.abs(K-rt)<=nt};var e0=function(K){function rt(nt){K.call(this,nt),this.name="IllegalArgumentException",this.message=nt,this.stack=new K().stack}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt}(Error),Sm=function(){},PT={MAX_VALUE:{configurable:!0}};Sm.isNaN=function(K){return Number.isNaN(K)},Sm.doubleToLongBits=function(K){return K},Sm.longBitsToDouble=function(K){return K},Sm.isInfinite=function(K){return!Number.isFinite(K)},PT.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(Sm,PT);var Yb=function(){},Fk=function(){},FE=function(){};function Zb(){}var ng=function K(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)this.x=0,this.y=0,this.z=K.NULL_ORDINATE;else if(arguments.length===1){var rt=arguments[0];this.x=rt.x,this.y=rt.y,this.z=rt.z}else arguments.length===2?(this.x=arguments[0],this.y=arguments[1],this.z=K.NULL_ORDINATE):arguments.length===3&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},Yx={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};ng.prototype.setOrdinate=function(K,rt){switch(K){case ng.X:this.x=rt;break;case ng.Y:this.y=rt;break;case ng.Z:this.z=rt;break;default:throw new e0("Invalid ordinate index: "+K)}},ng.prototype.equals2D=function(){if(arguments.length===1){var K=arguments[0];return this.x===K.x&&this.y===K.y}if(arguments.length===2){var rt=arguments[0],nt=arguments[1];return!!qx.equalsWithTolerance(this.x,rt.x,nt)&&!!qx.equalsWithTolerance(this.y,rt.y,nt)}},ng.prototype.getOrdinate=function(K){switch(K){case ng.X:return this.x;case ng.Y:return this.y;case ng.Z:return this.z}throw new e0("Invalid ordinate index: "+K)},ng.prototype.equals3D=function(K){return this.x===K.x&&this.y===K.y&&(this.z===K.z||Sm.isNaN(this.z))&&Sm.isNaN(K.z)},ng.prototype.equals=function(K){return K instanceof ng&&this.equals2D(K)},ng.prototype.equalInZ=function(K,rt){return qx.equalsWithTolerance(this.z,K.z,rt)},ng.prototype.compareTo=function(K){var rt=K;return this.x<rt.x?-1:this.x>rt.x?1:this.y<rt.y?-1:this.y>rt.y?1:0},ng.prototype.clone=function(){},ng.prototype.copy=function(){return new ng(this)},ng.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},ng.prototype.distance3D=function(K){var rt=this.x-K.x,nt=this.y-K.y,lt=this.z-K.z;return Math.sqrt(rt*rt+nt*nt+lt*lt)},ng.prototype.distance=function(K){var rt=this.x-K.x,nt=this.y-K.y;return Math.sqrt(rt*rt+nt*nt)},ng.prototype.hashCode=function(){var K=17;return K=37*(K=37*K+ng.hashCode(this.x))+ng.hashCode(this.y)},ng.prototype.setCoordinate=function(K){this.x=K.x,this.y=K.y,this.z=K.z},ng.prototype.interfaces_=function(){return[Yb,Fk,Zb]},ng.prototype.getClass=function(){return ng},ng.hashCode=function(){if(arguments.length===1){var K=arguments[0],rt=Sm.doubleToLongBits(K);return Math.trunc((rt^rt)>>>32)}},Yx.DimensionalComparator.get=function(){return P_},Yx.serialVersionUID.get=function(){return 6683108902428367e3},Yx.NULL_ORDINATE.get=function(){return Sm.NaN},Yx.X.get=function(){return 0},Yx.Y.get=function(){return 1},Yx.Z.get=function(){return 2},Object.defineProperties(ng,Yx);var P_=function(K){if(this._dimensionsToTest=2,arguments.length!==0){if(arguments.length===1){var rt=arguments[0];if(rt!==2&&rt!==3)throw new e0("only 2 or 3 dimensions may be specified");this._dimensionsToTest=rt}}};P_.prototype.compare=function(K,rt){var nt=K,lt=rt,pt=P_.compare(nt.x,lt.x);if(pt!==0)return pt;var lo=P_.compare(nt.y,lt.y);return lo!==0?lo:this._dimensionsToTest<=2?0:P_.compare(nt.z,lt.z)},P_.prototype.interfaces_=function(){return[FE]},P_.prototype.getClass=function(){return P_},P_.compare=function(K,rt){return K<rt?-1:K>rt?1:Sm.isNaN(K)?Sm.isNaN(rt)?0:-1:Sm.isNaN(rt)?1:0};var zE=function(){};zE.prototype.create=function(){},zE.prototype.interfaces_=function(){return[]},zE.prototype.getClass=function(){return zE};var dg=function(){},zk={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};dg.prototype.interfaces_=function(){return[]},dg.prototype.getClass=function(){return dg},dg.toLocationSymbol=function(K){switch(K){case dg.EXTERIOR:return"e";case dg.BOUNDARY:return"b";case dg.INTERIOR:return"i";case dg.NONE:return"-"}throw new e0("Unknown location value: "+K)},zk.INTERIOR.get=function(){return 0},zk.BOUNDARY.get=function(){return 1},zk.EXTERIOR.get=function(){return 2},zk.NONE.get=function(){return-1},Object.defineProperties(dg,zk);var vm=function(K,rt){return K.interfaces_&&K.interfaces_().indexOf(rt)>-1},Ab=function(){},IT={LOG_10:{configurable:!0}};Ab.prototype.interfaces_=function(){return[]},Ab.prototype.getClass=function(){return Ab},Ab.log10=function(K){var rt=Math.log(K);return Sm.isInfinite(rt)||Sm.isNaN(rt)?rt:rt/Ab.LOG_10},Ab.min=function(K,rt,nt,lt){var pt=K;return rt<pt&&(pt=rt),nt<pt&&(pt=nt),lt<pt&&(pt=lt),pt},Ab.clamp=function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var K=arguments[0],rt=arguments[1],nt=arguments[2];return K<rt?rt:K>nt?nt:K}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var lt=arguments[0],pt=arguments[1],lo=arguments[2];return lt<pt?pt:lt>lo?lo:lt}},Ab.wrap=function(K,rt){return K<0?rt- -K%rt:K%rt},Ab.max=function(){if(arguments.length===3){var K=arguments[0],rt=arguments[1],nt=arguments[2],lt=K;return rt>lt&&(lt=rt),nt>lt&&(lt=nt),lt}if(arguments.length===4){var pt=arguments[0],lo=arguments[1],vo=arguments[2],vf=arguments[3],Cf=pt;return lo>Cf&&(Cf=lo),vo>Cf&&(Cf=vo),vf>Cf&&(Cf=vf),Cf}},Ab.average=function(K,rt){return(K+rt)/2},IT.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(Ab,IT);var F1=function(K){this.str=K};F1.prototype.append=function(K){this.str+=K},F1.prototype.setCharAt=function(K,rt){this.str=this.str.substr(0,K)+rt+this.str.substr(K+1)},F1.prototype.toString=function(K){return this.str};var z1=function(K){this.value=K};z1.prototype.intValue=function(){return this.value},z1.prototype.compareTo=function(K){return this.value<K?-1:this.value>K?1:0},z1.isNaN=function(K){return Number.isNaN(K)};var jk=function(){};jk.isWhitespace=function(K){return K<=32&&K>=0||K===127},jk.toUpperCase=function(K){return K.toUpperCase()};var wg=function K(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var rt=arguments[0];this.init(rt)}else if(arguments[0]instanceof K){var nt=arguments[0];this.init(nt)}else if(typeof arguments[0]=="string"){var lt=arguments[0];K.call(this,K.parse(lt))}}else if(arguments.length===2){var pt=arguments[0],lo=arguments[1];this.init(pt,lo)}},d1={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};wg.prototype.le=function(K){return(this._hi<K._hi||this._hi===K._hi)&&this._lo<=K._lo},wg.prototype.extractSignificantDigits=function(K,rt){var nt=this.abs(),lt=wg.magnitude(nt._hi),pt=wg.TEN.pow(lt);(nt=nt.divide(pt)).gt(wg.TEN)?(nt=nt.divide(wg.TEN),lt+=1):nt.lt(wg.ONE)&&(nt=nt.multiply(wg.TEN),lt-=1);for(var lo=lt+1,vo=new F1,vf=wg.MAX_PRINT_DIGITS-1,Cf=0;Cf<=vf;Cf++){K&&Cf===lo&&vo.append(".");var Tf=Math.trunc(nt._hi);if(Tf<0)break;var Rf=!1,Of=0;Tf>9?(Rf=!0,Of="9"):Of="0"+Tf,vo.append(Of),nt=nt.subtract(wg.valueOf(Tf)).multiply(wg.TEN),Rf&&nt.selfAdd(wg.TEN);var Bf=!0,Gf=wg.magnitude(nt._hi);if(Gf<0&&Math.abs(Gf)>=vf-Cf&&(Bf=!1),!Bf)break}return rt[0]=lt,vo.toString()},wg.prototype.sqr=function(){return this.multiply(this)},wg.prototype.doubleValue=function(){return this._hi+this._lo},wg.prototype.subtract=function(){if(arguments[0]instanceof wg){var K=arguments[0];return this.add(K.negate())}if(typeof arguments[0]=="number"){var rt=arguments[0];return this.add(-rt)}},wg.prototype.equals=function(){if(arguments.length===1){var K=arguments[0];return this._hi===K._hi&&this._lo===K._lo}},wg.prototype.isZero=function(){return this._hi===0&&this._lo===0},wg.prototype.selfSubtract=function(){if(arguments[0]instanceof wg){var K=arguments[0];return this.isNaN()?this:this.selfAdd(-K._hi,-K._lo)}if(typeof arguments[0]=="number"){var rt=arguments[0];return this.isNaN()?this:this.selfAdd(-rt,0)}},wg.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},wg.prototype.min=function(K){return this.le(K)?this:K},wg.prototype.selfDivide=function(){if(arguments.length===1){if(arguments[0]instanceof wg){var K=arguments[0];return this.selfDivide(K._hi,K._lo)}if(typeof arguments[0]=="number"){var rt=arguments[0];return this.selfDivide(rt,0)}}else if(arguments.length===2){var nt=arguments[0],lt=arguments[1],pt=null,lo=null,vo=null,vf=null,Cf=null,Tf=null,Rf=null,Of=null;return Cf=this._hi/nt,Of=(pt=(Tf=wg.SPLIT*Cf)-(pt=Tf-Cf))*(vo=(Of=wg.SPLIT*nt)-(vo=Of-nt))-(Rf=Cf*nt)+pt*(vf=nt-vo)+(lo=Cf-pt)*vo+lo*vf,Of=Cf+(Tf=(this._hi-Rf-Of+this._lo-Cf*lt)/nt),this._hi=Of,this._lo=Cf-Of+Tf,this}},wg.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},wg.prototype.divide=function(){if(arguments[0]instanceof wg){var K=arguments[0],rt=null,nt=null,lt=null,pt=null,lo=null,vo=null,vf=null,Cf=null;nt=(lo=this._hi/K._hi)-(rt=(vo=wg.SPLIT*lo)-(rt=vo-lo)),Cf=rt*(lt=(Cf=wg.SPLIT*K._hi)-(lt=Cf-K._hi))-(vf=lo*K._hi)+rt*(pt=K._hi-lt)+nt*lt+nt*pt;var Tf=Cf=lo+(vo=(this._hi-vf-Cf+this._lo-lo*K._lo)/K._hi),Rf=lo-Cf+vo;return new wg(Tf,Rf)}if(typeof arguments[0]=="number"){var Of=arguments[0];return Sm.isNaN(Of)?wg.createNaN():wg.copy(this).selfDivide(Of,0)}},wg.prototype.ge=function(K){return(this._hi>K._hi||this._hi===K._hi)&&this._lo>=K._lo},wg.prototype.pow=function(K){if(K===0)return wg.valueOf(1);var rt=new wg(this),nt=wg.valueOf(1),lt=Math.abs(K);if(lt>1)for(;lt>0;)lt%2==1&&nt.selfMultiply(rt),(lt/=2)>0&&(rt=rt.sqr());else nt=rt;return K<0?nt.reciprocal():nt},wg.prototype.ceil=function(){if(this.isNaN())return wg.NaN;var K=Math.ceil(this._hi),rt=0;return K===this._hi&&(rt=Math.ceil(this._lo)),new wg(K,rt)},wg.prototype.compareTo=function(K){var rt=K;return this._hi<rt._hi?-1:this._hi>rt._hi?1:this._lo<rt._lo?-1:this._lo>rt._lo?1:0},wg.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},wg.prototype.setValue=function(){if(arguments[0]instanceof wg){var K=arguments[0];return this.init(K),this}if(typeof arguments[0]=="number"){var rt=arguments[0];return this.init(rt),this}},wg.prototype.max=function(K){return this.ge(K)?this:K},wg.prototype.sqrt=function(){if(this.isZero())return wg.valueOf(0);if(this.isNegative())return wg.NaN;var K=1/Math.sqrt(this._hi),rt=this._hi*K,nt=wg.valueOf(rt),lt=this.subtract(nt.sqr())._hi*(.5*K);return nt.add(lt)},wg.prototype.selfAdd=function(){if(arguments.length===1){if(arguments[0]instanceof wg){var K=arguments[0];return this.selfAdd(K._hi,K._lo)}if(typeof arguments[0]=="number"){var rt=arguments[0],nt=null,lt=null,pt=null,lo=null,vo=null,vf=null;return lo=(pt=this._hi+rt)-(vo=pt-this._hi),lt=(vf=(lo=rt-vo+(this._hi-lo))+this._lo)+(pt-(nt=pt+vf)),this._hi=nt+lt,this._lo=lt+(nt-this._hi),this}}else if(arguments.length===2){var Cf=arguments[0],Tf=arguments[1],Rf=null,Of=null,Bf=null,Gf=null,qf=null,Kf=null,Uf=null;Gf=this._hi+Cf,Of=this._lo+Tf,qf=Gf-(Kf=Gf-this._hi),Bf=Of-(Uf=Of-this._lo);var lp=(Rf=Gf+(Kf=(qf=Cf-Kf+(this._hi-qf))+Of))+(Kf=(Bf=Tf-Uf+(this._lo-Bf))+(Kf+(Gf-Rf))),xp=Kf+(Rf-lp);return this._hi=lp,this._lo=xp,this}},wg.prototype.selfMultiply=function(){if(arguments.length===1){if(arguments[0]instanceof wg){var K=arguments[0];return this.selfMultiply(K._hi,K._lo)}if(typeof arguments[0]=="number"){var rt=arguments[0];return this.selfMultiply(rt,0)}}else if(arguments.length===2){var nt=arguments[0],lt=arguments[1],pt=null,lo=null,vo=null,vf=null,Cf=null,Tf=null;pt=(Cf=wg.SPLIT*this._hi)-this._hi,Tf=wg.SPLIT*nt,pt=Cf-pt,lo=this._hi-pt,vo=Tf-nt;var Rf=(Cf=this._hi*nt)+(Tf=pt*(vo=Tf-vo)-Cf+pt*(vf=nt-vo)+lo*vo+lo*vf+(this._hi*lt+this._lo*nt)),Of=Tf+(pt=Cf-Rf);return this._hi=Rf,this._lo=Of,this}},wg.prototype.selfSqr=function(){return this.selfMultiply(this)},wg.prototype.floor=function(){if(this.isNaN())return wg.NaN;var K=Math.floor(this._hi),rt=0;return K===this._hi&&(rt=Math.floor(this._lo)),new wg(K,rt)},wg.prototype.negate=function(){return this.isNaN()?this:new wg(-this._hi,-this._lo)},wg.prototype.clone=function(){},wg.prototype.multiply=function(){if(arguments[0]instanceof wg){var K=arguments[0];return K.isNaN()?wg.createNaN():wg.copy(this).selfMultiply(K)}if(typeof arguments[0]=="number"){var rt=arguments[0];return Sm.isNaN(rt)?wg.createNaN():wg.copy(this).selfMultiply(rt,0)}},wg.prototype.isNaN=function(){return Sm.isNaN(this._hi)},wg.prototype.intValue=function(){return Math.trunc(this._hi)},wg.prototype.toString=function(){var K=wg.magnitude(this._hi);return K>=-3&&K<=20?this.toStandardNotation():this.toSciNotation()},wg.prototype.toStandardNotation=function(){var K=this.getSpecialNumberString();if(K!==null)return K;var rt=new Array(1).fill(null),nt=this.extractSignificantDigits(!0,rt),lt=rt[0]+1,pt=nt;if(nt.charAt(0)===".")pt="0"+nt;else if(lt<0)pt="0."+wg.stringOfChar("0",-lt)+nt;else if(nt.indexOf(".")===-1){var lo=lt-nt.length;pt=nt+wg.stringOfChar("0",lo)+".0"}return this.isNegative()?"-"+pt:pt},wg.prototype.reciprocal=function(){var K,rt,nt,lt,pt=null,lo=null,vo=null,vf=null;K=(nt=1/this._hi)-(pt=(vo=wg.SPLIT*nt)-(pt=vo-nt)),lo=(vf=wg.SPLIT*this._hi)-this._hi;var Cf=nt+(vo=(1-(lt=nt*this._hi)-(vf=pt*(lo=vf-lo)-lt+pt*(rt=this._hi-lo)+K*lo+K*rt)-nt*this._lo)/this._hi);return new wg(Cf,nt-Cf+vo)},wg.prototype.toSciNotation=function(){if(this.isZero())return wg.SCI_NOT_ZERO;var K=this.getSpecialNumberString();if(K!==null)return K;var rt=new Array(1).fill(null),nt=this.extractSignificantDigits(!1,rt),lt=wg.SCI_NOT_EXPONENT_CHAR+rt[0];if(nt.charAt(0)==="0")throw new Error("Found leading zero: "+nt);var pt="";nt.length>1&&(pt=nt.substring(1));var lo=nt.charAt(0)+"."+pt;return this.isNegative()?"-"+lo+lt:lo+lt},wg.prototype.abs=function(){return this.isNaN()?wg.NaN:this.isNegative()?this.negate():new wg(this)},wg.prototype.isPositive=function(){return(this._hi>0||this._hi===0)&&this._lo>0},wg.prototype.lt=function(K){return(this._hi<K._hi||this._hi===K._hi)&&this._lo<K._lo},wg.prototype.add=function(){if(arguments[0]instanceof wg){var K=arguments[0];return wg.copy(this).selfAdd(K)}if(typeof arguments[0]=="number"){var rt=arguments[0];return wg.copy(this).selfAdd(rt)}},wg.prototype.init=function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var K=arguments[0];this._hi=K,this._lo=0}else if(arguments[0]instanceof wg){var rt=arguments[0];this._hi=rt._hi,this._lo=rt._lo}}else if(arguments.length===2){var nt=arguments[0],lt=arguments[1];this._hi=nt,this._lo=lt}},wg.prototype.gt=function(K){return(this._hi>K._hi||this._hi===K._hi)&&this._lo>K._lo},wg.prototype.isNegative=function(){return(this._hi<0||this._hi===0)&&this._lo<0},wg.prototype.trunc=function(){return this.isNaN()?wg.NaN:this.isPositive()?this.floor():this.ceil()},wg.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},wg.prototype.interfaces_=function(){return[Zb,Yb,Fk]},wg.prototype.getClass=function(){return wg},wg.sqr=function(K){return wg.valueOf(K).selfMultiply(K)},wg.valueOf=function(){if(typeof arguments[0]=="string"){var K=arguments[0];return wg.parse(K)}if(typeof arguments[0]=="number"){var rt=arguments[0];return new wg(rt)}},wg.sqrt=function(K){return wg.valueOf(K).sqrt()},wg.parse=function(K){for(var rt=0,nt=K.length;jk.isWhitespace(K.charAt(rt));)rt++;var lt=!1;if(rt<nt){var pt=K.charAt(rt);pt!=="-"&&pt!=="+"||(rt++,pt==="-"&&(lt=!0))}for(var lo=new wg,vo=0,vf=0,Cf=0;!(rt>=nt);){var Tf=K.charAt(rt);if(rt++,jk.isDigit(Tf)){var Rf=Tf-"0";lo.selfMultiply(wg.TEN),lo.selfAdd(Rf),vo++}else{if(Tf!=="."){if(Tf==="e"||Tf==="E"){var Of=K.substring(rt);try{Cf=z1.parseInt(Of)}catch(Uf){throw Uf instanceof Error?new Error("Invalid exponent "+Of+" in string "+K):Uf}break}throw new Error("Unexpected character '"+Tf+"' at position "+rt+" in string "+K)}vf=vo}}var Bf=lo,Gf=vo-vf-Cf;if(Gf===0)Bf=lo;else if(Gf>0){var qf=wg.TEN.pow(Gf);Bf=lo.divide(qf)}else if(Gf<0){var Kf=wg.TEN.pow(-Gf);Bf=lo.multiply(Kf)}return lt?Bf.negate():Bf},wg.createNaN=function(){return new wg(Sm.NaN,Sm.NaN)},wg.copy=function(K){return new wg(K)},wg.magnitude=function(K){var rt=Math.abs(K),nt=Math.log(rt)/Math.log(10),lt=Math.trunc(Math.floor(nt));return 10*Math.pow(10,lt)<=rt&&(lt+=1),lt},wg.stringOfChar=function(K,rt){for(var nt=new F1,lt=0;lt<rt;lt++)nt.append(K);return nt.toString()},d1.PI.get=function(){return new wg(3.141592653589793,12246467991473532e-32)},d1.TWO_PI.get=function(){return new wg(6.283185307179586,24492935982947064e-32)},d1.PI_2.get=function(){return new wg(1.5707963267948966,6123233995736766e-32)},d1.E.get=function(){return new wg(2.718281828459045,14456468917292502e-32)},d1.NaN.get=function(){return new wg(Sm.NaN,Sm.NaN)},d1.EPS.get=function(){return 123259516440783e-46},d1.SPLIT.get=function(){return 134217729},d1.MAX_PRINT_DIGITS.get=function(){return 32},d1.TEN.get=function(){return wg.valueOf(10)},d1.ONE.get=function(){return wg.valueOf(1)},d1.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},d1.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(wg,d1);var Ky=function(){},LT={DP_SAFE_EPSILON:{configurable:!0}};Ky.prototype.interfaces_=function(){return[]},Ky.prototype.getClass=function(){return Ky},Ky.orientationIndex=function(K,rt,nt){var lt=Ky.orientationIndexFilter(K,rt,nt);if(lt<=1)return lt;var pt=wg.valueOf(rt.x).selfAdd(-K.x),lo=wg.valueOf(rt.y).selfAdd(-K.y),vo=wg.valueOf(nt.x).selfAdd(-rt.x),vf=wg.valueOf(nt.y).selfAdd(-rt.y);return pt.selfMultiply(vf).selfSubtract(lo.selfMultiply(vo)).signum()},Ky.signOfDet2x2=function(K,rt,nt,lt){return K.multiply(lt).selfSubtract(rt.multiply(nt)).signum()},Ky.intersection=function(K,rt,nt,lt){var pt=wg.valueOf(lt.y).selfSubtract(nt.y).selfMultiply(wg.valueOf(rt.x).selfSubtract(K.x)),lo=wg.valueOf(lt.x).selfSubtract(nt.x).selfMultiply(wg.valueOf(rt.y).selfSubtract(K.y)),vo=pt.subtract(lo),vf=wg.valueOf(lt.x).selfSubtract(nt.x).selfMultiply(wg.valueOf(K.y).selfSubtract(nt.y)),Cf=wg.valueOf(lt.y).selfSubtract(nt.y).selfMultiply(wg.valueOf(K.x).selfSubtract(nt.x)),Tf=vf.subtract(Cf).selfDivide(vo).doubleValue(),Rf=wg.valueOf(K.x).selfAdd(wg.valueOf(rt.x).selfSubtract(K.x).selfMultiply(Tf)).doubleValue(),Of=wg.valueOf(rt.x).selfSubtract(K.x).selfMultiply(wg.valueOf(K.y).selfSubtract(nt.y)),Bf=wg.valueOf(rt.y).selfSubtract(K.y).selfMultiply(wg.valueOf(K.x).selfSubtract(nt.x)),Gf=Of.subtract(Bf).selfDivide(vo).doubleValue(),qf=wg.valueOf(nt.y).selfAdd(wg.valueOf(lt.y).selfSubtract(nt.y).selfMultiply(Gf)).doubleValue();return new ng(Rf,qf)},Ky.orientationIndexFilter=function(K,rt,nt){var lt=null,pt=(K.x-nt.x)*(rt.y-nt.y),lo=(K.y-nt.y)*(rt.x-nt.x),vo=pt-lo;if(pt>0){if(lo<=0)return Ky.signum(vo);lt=pt+lo}else{if(!(pt<0)||lo>=0)return Ky.signum(vo);lt=-pt-lo}var vf=Ky.DP_SAFE_EPSILON*lt;return vo>=vf||-vo>=vf?Ky.signum(vo):2},Ky.signum=function(K){return K>0?1:K<0?-1:0},LT.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(Ky,LT);var yv=function(){},Hk={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};Hk.X.get=function(){return 0},Hk.Y.get=function(){return 1},Hk.Z.get=function(){return 2},Hk.M.get=function(){return 3},yv.prototype.setOrdinate=function(K,rt,nt){},yv.prototype.size=function(){},yv.prototype.getOrdinate=function(K,rt){},yv.prototype.getCoordinate=function(){},yv.prototype.getCoordinateCopy=function(K){},yv.prototype.getDimension=function(){},yv.prototype.getX=function(K){},yv.prototype.clone=function(){},yv.prototype.expandEnvelope=function(K){},yv.prototype.copy=function(){},yv.prototype.getY=function(K){},yv.prototype.toCoordinateArray=function(){},yv.prototype.interfaces_=function(){return[Fk]},yv.prototype.getClass=function(){return yv},Object.defineProperties(yv,Hk);var RT=function(){},Zx=function(K){function rt(){K.call(this,"Projective point not representable on the Cartesian plane.")}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt}(RT),my=function(){};my.arraycopy=function(K,rt,nt,lt,pt){for(var lo=0,vo=rt;vo<rt+pt;vo++)nt[lt+lo]=K[vo],lo++},my.getProperty=function(K){return{"line.separator":`
`}[K]};var Xb=function K(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var rt=arguments[0];this.x=rt.x,this.y=rt.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var nt=arguments[0],lt=arguments[1];this.x=nt,this.y=lt,this.w=1}else if(arguments[0]instanceof K&&arguments[1]instanceof K){var pt=arguments[0],lo=arguments[1];this.x=pt.y*lo.w-lo.y*pt.w,this.y=lo.x*pt.w-pt.x*lo.w,this.w=pt.x*lo.y-lo.x*pt.y}else if(arguments[0]instanceof ng&&arguments[1]instanceof ng){var vo=arguments[0],vf=arguments[1];this.x=vo.y-vf.y,this.y=vf.x-vo.x,this.w=vo.x*vf.y-vf.x*vo.y}}else if(arguments.length===3){var Cf=arguments[0],Tf=arguments[1],Rf=arguments[2];this.x=Cf,this.y=Tf,this.w=Rf}else if(arguments.length===4){var Of=arguments[0],Bf=arguments[1],Gf=arguments[2],qf=arguments[3],Kf=Of.y-Bf.y,Uf=Bf.x-Of.x,lp=Of.x*Bf.y-Bf.x*Of.y,xp=Gf.y-qf.y,Yf=qf.x-Gf.x,sp=Gf.x*qf.y-qf.x*Gf.y;this.x=Uf*sp-Yf*lp,this.y=xp*lp-Kf*sp,this.w=Kf*Yf-xp*Uf}};Xb.prototype.getY=function(){var K=this.y/this.w;if(Sm.isNaN(K)||Sm.isInfinite(K))throw new Zx;return K},Xb.prototype.getX=function(){var K=this.x/this.w;if(Sm.isNaN(K)||Sm.isInfinite(K))throw new Zx;return K},Xb.prototype.getCoordinate=function(){var K=new ng;return K.x=this.getX(),K.y=this.getY(),K},Xb.prototype.interfaces_=function(){return[]},Xb.prototype.getClass=function(){return Xb},Xb.intersection=function(K,rt,nt,lt){var pt=K.y-rt.y,lo=rt.x-K.x,vo=K.x*rt.y-rt.x*K.y,vf=nt.y-lt.y,Cf=lt.x-nt.x,Tf=nt.x*lt.y-lt.x*nt.y,Rf=pt*Cf-vf*lo,Of=(lo*Tf-Cf*vo)/Rf,Bf=(vf*vo-pt*Tf)/Rf;if(Sm.isNaN(Of)||Sm.isInfinite(Of)||Sm.isNaN(Bf)||Sm.isInfinite(Bf))throw new Zx;return new ng(Of,Bf)};var am=function K(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof ng){var rt=arguments[0];this.init(rt.x,rt.x,rt.y,rt.y)}else if(arguments[0]instanceof K){var nt=arguments[0];this.init(nt)}}else if(arguments.length===2){var lt=arguments[0],pt=arguments[1];this.init(lt.x,pt.x,lt.y,pt.y)}else if(arguments.length===4){var lo=arguments[0],vo=arguments[1],vf=arguments[2],Cf=arguments[3];this.init(lo,vo,vf,Cf)}},DT={serialVersionUID:{configurable:!0}};am.prototype.getArea=function(){return this.getWidth()*this.getHeight()},am.prototype.equals=function(K){if(!(K instanceof am))return!1;var rt=K;return this.isNull()?rt.isNull():this._maxx===rt.getMaxX()&&this._maxy===rt.getMaxY()&&this._minx===rt.getMinX()&&this._miny===rt.getMinY()},am.prototype.intersection=function(K){if(this.isNull()||K.isNull()||!this.intersects(K))return new am;var rt=this._minx>K._minx?this._minx:K._minx,nt=this._miny>K._miny?this._miny:K._miny,lt=this._maxx<K._maxx?this._maxx:K._maxx,pt=this._maxy<K._maxy?this._maxy:K._maxy;return new am(rt,lt,nt,pt)},am.prototype.isNull=function(){return this._maxx<this._minx},am.prototype.getMaxX=function(){return this._maxx},am.prototype.covers=function(){if(arguments.length===1){if(arguments[0]instanceof ng){var K=arguments[0];return this.covers(K.x,K.y)}if(arguments[0]instanceof am){var rt=arguments[0];return!this.isNull()&&!rt.isNull()&&rt.getMinX()>=this._minx&&rt.getMaxX()<=this._maxx&&rt.getMinY()>=this._miny&&rt.getMaxY()<=this._maxy}}else if(arguments.length===2){var nt=arguments[0],lt=arguments[1];return!this.isNull()&&nt>=this._minx&&nt<=this._maxx&&lt>=this._miny&&lt<=this._maxy}},am.prototype.intersects=function(){if(arguments.length===1){if(arguments[0]instanceof am){var K=arguments[0];return!this.isNull()&&!K.isNull()&&!(K._minx>this._maxx||K._maxx<this._minx||K._miny>this._maxy||K._maxy<this._miny)}if(arguments[0]instanceof ng){var rt=arguments[0];return this.intersects(rt.x,rt.y)}}else if(arguments.length===2){var nt=arguments[0],lt=arguments[1];return!this.isNull()&&!(nt>this._maxx||nt<this._minx||lt>this._maxy||lt<this._miny)}},am.prototype.getMinY=function(){return this._miny},am.prototype.getMinX=function(){return this._minx},am.prototype.expandToInclude=function(){if(arguments.length===1){if(arguments[0]instanceof ng){var K=arguments[0];this.expandToInclude(K.x,K.y)}else if(arguments[0]instanceof am){var rt=arguments[0];if(rt.isNull())return null;this.isNull()?(this._minx=rt.getMinX(),this._maxx=rt.getMaxX(),this._miny=rt.getMinY(),this._maxy=rt.getMaxY()):(rt._minx<this._minx&&(this._minx=rt._minx),rt._maxx>this._maxx&&(this._maxx=rt._maxx),rt._miny<this._miny&&(this._miny=rt._miny),rt._maxy>this._maxy&&(this._maxy=rt._maxy))}}else if(arguments.length===2){var nt=arguments[0],lt=arguments[1];this.isNull()?(this._minx=nt,this._maxx=nt,this._miny=lt,this._maxy=lt):(nt<this._minx&&(this._minx=nt),nt>this._maxx&&(this._maxx=nt),lt<this._miny&&(this._miny=lt),lt>this._maxy&&(this._maxy=lt))}},am.prototype.minExtent=function(){if(this.isNull())return 0;var K=this.getWidth(),rt=this.getHeight();return K<rt?K:rt},am.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},am.prototype.compareTo=function(K){var rt=K;return this.isNull()?rt.isNull()?0:-1:rt.isNull()?1:this._minx<rt._minx?-1:this._minx>rt._minx?1:this._miny<rt._miny?-1:this._miny>rt._miny?1:this._maxx<rt._maxx?-1:this._maxx>rt._maxx?1:this._maxy<rt._maxy?-1:this._maxy>rt._maxy?1:0},am.prototype.translate=function(K,rt){if(this.isNull())return null;this.init(this.getMinX()+K,this.getMaxX()+K,this.getMinY()+rt,this.getMaxY()+rt)},am.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},am.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},am.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},am.prototype.maxExtent=function(){if(this.isNull())return 0;var K=this.getWidth(),rt=this.getHeight();return K>rt?K:rt},am.prototype.expandBy=function(){if(arguments.length===1){var K=arguments[0];this.expandBy(K,K)}else if(arguments.length===2){var rt=arguments[0],nt=arguments[1];if(this.isNull())return null;this._minx-=rt,this._maxx+=rt,this._miny-=nt,this._maxy+=nt,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},am.prototype.contains=function(){if(arguments.length===1){if(arguments[0]instanceof am){var K=arguments[0];return this.covers(K)}if(arguments[0]instanceof ng){var rt=arguments[0];return this.covers(rt)}}else if(arguments.length===2){var nt=arguments[0],lt=arguments[1];return this.covers(nt,lt)}},am.prototype.centre=function(){return this.isNull()?null:new ng((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},am.prototype.init=function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof ng){var K=arguments[0];this.init(K.x,K.x,K.y,K.y)}else if(arguments[0]instanceof am){var rt=arguments[0];this._minx=rt._minx,this._maxx=rt._maxx,this._miny=rt._miny,this._maxy=rt._maxy}}else if(arguments.length===2){var nt=arguments[0],lt=arguments[1];this.init(nt.x,lt.x,nt.y,lt.y)}else if(arguments.length===4){var pt=arguments[0],lo=arguments[1],vo=arguments[2],vf=arguments[3];pt<lo?(this._minx=pt,this._maxx=lo):(this._minx=lo,this._maxx=pt),vo<vf?(this._miny=vo,this._maxy=vf):(this._miny=vf,this._maxy=vo)}},am.prototype.getMaxY=function(){return this._maxy},am.prototype.distance=function(K){if(this.intersects(K))return 0;var rt=0;this._maxx<K._minx?rt=K._minx-this._maxx:this._minx>K._maxx&&(rt=this._minx-K._maxx);var nt=0;return this._maxy<K._miny?nt=K._miny-this._maxy:this._miny>K._maxy&&(nt=this._miny-K._maxy),rt===0?nt:nt===0?rt:Math.sqrt(rt*rt+nt*nt)},am.prototype.hashCode=function(){var K=17;return K=37*(K=37*(K=37*(K=37*K+ng.hashCode(this._minx))+ng.hashCode(this._maxx))+ng.hashCode(this._miny))+ng.hashCode(this._maxy)},am.prototype.interfaces_=function(){return[Yb,Zb]},am.prototype.getClass=function(){return am},am.intersects=function(){if(arguments.length===3){var K=arguments[0],rt=arguments[1],nt=arguments[2];return nt.x>=(K.x<rt.x?K.x:rt.x)&&nt.x<=(K.x>rt.x?K.x:rt.x)&&nt.y>=(K.y<rt.y?K.y:rt.y)&&nt.y<=(K.y>rt.y?K.y:rt.y)}if(arguments.length===4){var lt=arguments[0],pt=arguments[1],lo=arguments[2],vo=arguments[3],vf=Math.min(lo.x,vo.x),Cf=Math.max(lo.x,vo.x),Tf=Math.min(lt.x,pt.x),Rf=Math.max(lt.x,pt.x);return!(Tf>Cf)&&!(Rf<vf)&&(vf=Math.min(lo.y,vo.y),Cf=Math.max(lo.y,vo.y),Tf=Math.min(lt.y,pt.y),Rf=Math.max(lt.y,pt.y),!(Tf>Cf)&&!(Rf<vf))}},DT.serialVersionUID.get=function(){return 5873921885273102e3},Object.defineProperties(am,DT);var j1={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},Vk=function(K){this.geometryFactory=K||new Ym};Vk.prototype.read=function(K){var rt,nt,lt;K=K.replace(/[\n\r]/g," ");var pt=j1.typeStr.exec(K);if(K.search("EMPTY")!==-1&&((pt=j1.emptyTypeStr.exec(K))[2]=void 0),pt&&(nt=pt[1].toLowerCase(),lt=pt[2],jE[nt]&&(rt=jE[nt].apply(this,[lt]))),rt===void 0)throw new Error("Could not parse WKT "+K);return rt},Vk.prototype.write=function(K){return this.extractGeometry(K)},Vk.prototype.extractGeometry=function(K){var rt=K.getGeometryType().toLowerCase();if(!Zw[rt])return null;var nt=rt.toUpperCase();return K.isEmpty()?nt+" EMPTY":nt+"("+Zw[rt].apply(this,[K])+")"};var Zw={coordinate:function(K){return K.x+" "+K.y},point:function(K){return Zw.coordinate.call(this,K._coordinates._coordinates[0])},multipoint:function(K){for(var rt=[],nt=0,lt=K._geometries.length;nt<lt;++nt)rt.push("("+Zw.point.apply(this,[K._geometries[nt]])+")");return rt.join(",")},linestring:function(K){for(var rt=[],nt=0,lt=K._points._coordinates.length;nt<lt;++nt)rt.push(Zw.coordinate.apply(this,[K._points._coordinates[nt]]));return rt.join(",")},linearring:function(K){for(var rt=[],nt=0,lt=K._points._coordinates.length;nt<lt;++nt)rt.push(Zw.coordinate.apply(this,[K._points._coordinates[nt]]));return rt.join(",")},multilinestring:function(K){for(var rt=[],nt=0,lt=K._geometries.length;nt<lt;++nt)rt.push("("+Zw.linestring.apply(this,[K._geometries[nt]])+")");return rt.join(",")},polygon:function(K){var rt=[];rt.push("("+Zw.linestring.apply(this,[K._shell])+")");for(var nt=0,lt=K._holes.length;nt<lt;++nt)rt.push("("+Zw.linestring.apply(this,[K._holes[nt]])+")");return rt.join(",")},multipolygon:function(K){for(var rt=[],nt=0,lt=K._geometries.length;nt<lt;++nt)rt.push("("+Zw.polygon.apply(this,[K._geometries[nt]])+")");return rt.join(",")},geometrycollection:function(K){for(var rt=[],nt=0,lt=K._geometries.length;nt<lt;++nt)rt.push(this.extractGeometry(K._geometries[nt]));return rt.join(",")}},jE={point:function(K){if(K===void 0)return this.geometryFactory.createPoint();var rt=K.trim().split(j1.spaces);return this.geometryFactory.createPoint(new ng(Number.parseFloat(rt[0]),Number.parseFloat(rt[1])))},multipoint:function(K){var rt;if(K===void 0)return this.geometryFactory.createMultiPoint();for(var nt=K.trim().split(","),lt=[],pt=0,lo=nt.length;pt<lo;++pt)rt=nt[pt].replace(j1.trimParens,"$1"),lt.push(jE.point.apply(this,[rt]));return this.geometryFactory.createMultiPoint(lt)},linestring:function(K){if(K===void 0)return this.geometryFactory.createLineString();for(var rt,nt=K.trim().split(","),lt=[],pt=0,lo=nt.length;pt<lo;++pt)rt=nt[pt].trim().split(j1.spaces),lt.push(new ng(Number.parseFloat(rt[0]),Number.parseFloat(rt[1])));return this.geometryFactory.createLineString(lt)},linearring:function(K){if(K===void 0)return this.geometryFactory.createLinearRing();for(var rt,nt=K.trim().split(","),lt=[],pt=0,lo=nt.length;pt<lo;++pt)rt=nt[pt].trim().split(j1.spaces),lt.push(new ng(Number.parseFloat(rt[0]),Number.parseFloat(rt[1])));return this.geometryFactory.createLinearRing(lt)},multilinestring:function(K){var rt;if(K===void 0)return this.geometryFactory.createMultiLineString();for(var nt=K.trim().split(j1.parenComma),lt=[],pt=0,lo=nt.length;pt<lo;++pt)rt=nt[pt].replace(j1.trimParens,"$1"),lt.push(jE.linestring.apply(this,[rt]));return this.geometryFactory.createMultiLineString(lt)},polygon:function(K){var rt,nt,lt;if(K===void 0)return this.geometryFactory.createPolygon();for(var pt,lo=K.trim().split(j1.parenComma),vo=[],vf=0,Cf=lo.length;vf<Cf;++vf)rt=lo[vf].replace(j1.trimParens,"$1"),nt=jE.linestring.apply(this,[rt]),lt=this.geometryFactory.createLinearRing(nt._points),vf===0?pt=lt:vo.push(lt);return this.geometryFactory.createPolygon(pt,vo)},multipolygon:function(K){var rt;if(K===void 0)return this.geometryFactory.createMultiPolygon();for(var nt=K.trim().split(j1.doubleParenComma),lt=[],pt=0,lo=nt.length;pt<lo;++pt)rt=nt[pt].replace(j1.trimParens,"$1"),lt.push(jE.polygon.apply(this,[rt]));return this.geometryFactory.createMultiPolygon(lt)},geometrycollection:function(K){if(K===void 0)return this.geometryFactory.createGeometryCollection();for(var rt=(K=K.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),nt=[],lt=0,pt=rt.length;lt<pt;++lt)nt.push(this.read(rt[lt]));return this.geometryFactory.createGeometryCollection(nt)}},f1=function(K){this.parser=new Vk(K)};f1.prototype.write=function(K){return this.parser.write(K)},f1.toLineString=function(K,rt){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+K.x+" "+K.y+", "+rt.x+" "+rt.y+" )"};var Xw=function(K){function rt(nt){K.call(this,nt),this.name="RuntimeException",this.message=nt,this.stack=new K().stack}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt}(Error),BC=function(K){function rt(){if(K.call(this),arguments.length===0)K.call(this);else if(arguments.length===1){var nt=arguments[0];K.call(this,nt)}}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt}(Xw),Im=function(){};Im.prototype.interfaces_=function(){return[]},Im.prototype.getClass=function(){return Im},Im.shouldNeverReachHere=function(){if(arguments.length===0)Im.shouldNeverReachHere(null);else if(arguments.length===1){var K=arguments[0];throw new BC("Should never reach here"+(K!==null?": "+K:""))}},Im.isTrue=function(){var K;if(arguments.length===1)Im.isTrue(arguments[0],null);else if(arguments.length===2&&(K=arguments[1],!arguments[0]))throw K===null?new BC:new BC(K)},Im.equals=function(){var K,rt,nt;if(arguments.length===2)Im.equals(K=arguments[0],rt=arguments[1],null);else if(arguments.length===3&&(K=arguments[0],nt=arguments[2],!(rt=arguments[1]).equals(K)))throw new BC("Expected "+K+" but encountered "+rt+(nt!==null?": "+nt:""))};var n0=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new ng,this._intPt[1]=new ng,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},Xx={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};n0.prototype.getIndexAlongSegment=function(K,rt){return this.computeIntLineIndex(),this._intLineIndex[K][rt]},n0.prototype.getTopologySummary=function(){var K=new F1;return this.isEndPoint()&&K.append(" endpoint"),this._isProper&&K.append(" proper"),this.isCollinear()&&K.append(" collinear"),K.toString()},n0.prototype.computeIntersection=function(K,rt,nt,lt){this._inputLines[0][0]=K,this._inputLines[0][1]=rt,this._inputLines[1][0]=nt,this._inputLines[1][1]=lt,this._result=this.computeIntersect(K,rt,nt,lt)},n0.prototype.getIntersectionNum=function(){return this._result},n0.prototype.computeIntLineIndex=function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var K=arguments[0],rt=this.getEdgeDistance(K,0),nt=this.getEdgeDistance(K,1);rt>nt?(this._intLineIndex[K][0]=0,this._intLineIndex[K][1]=1):(this._intLineIndex[K][0]=1,this._intLineIndex[K][1]=0)}},n0.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},n0.prototype.setPrecisionModel=function(K){this._precisionModel=K},n0.prototype.isInteriorIntersection=function(){var K=this;if(arguments.length===0)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(arguments.length===1){for(var rt=arguments[0],nt=0;nt<this._result;nt++)if(!K._intPt[nt].equals2D(K._inputLines[rt][0])&&!K._intPt[nt].equals2D(K._inputLines[rt][1]))return!0;return!1}},n0.prototype.getIntersection=function(K){return this._intPt[K]},n0.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},n0.prototype.hasIntersection=function(){return this._result!==n0.NO_INTERSECTION},n0.prototype.getEdgeDistance=function(K,rt){return n0.computeEdgeDistance(this._intPt[rt],this._inputLines[K][0],this._inputLines[K][1])},n0.prototype.isCollinear=function(){return this._result===n0.COLLINEAR_INTERSECTION},n0.prototype.toString=function(){return f1.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+f1.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},n0.prototype.getEndpoint=function(K,rt){return this._inputLines[K][rt]},n0.prototype.isIntersection=function(K){for(var rt=0;rt<this._result;rt++)if(this._intPt[rt].equals2D(K))return!0;return!1},n0.prototype.getIntersectionAlongSegment=function(K,rt){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[K][rt]]},n0.prototype.interfaces_=function(){return[]},n0.prototype.getClass=function(){return n0},n0.computeEdgeDistance=function(K,rt,nt){var lt=Math.abs(nt.x-rt.x),pt=Math.abs(nt.y-rt.y),lo=-1;if(K.equals(rt))lo=0;else if(K.equals(nt))lo=lt>pt?lt:pt;else{var vo=Math.abs(K.x-rt.x),vf=Math.abs(K.y-rt.y);(lo=lt>pt?vo:vf)!==0||K.equals(rt)||(lo=Math.max(vo,vf))}return Im.isTrue(!(lo===0&&!K.equals(rt)),"Bad distance calculation"),lo},n0.nonRobustComputeEdgeDistance=function(K,rt,nt){var lt=K.x-rt.x,pt=K.y-rt.y,lo=Math.sqrt(lt*lt+pt*pt);return Im.isTrue(!(lo===0&&!K.equals(rt)),"Invalid distance calculation"),lo},Xx.DONT_INTERSECT.get=function(){return 0},Xx.DO_INTERSECT.get=function(){return 1},Xx.COLLINEAR.get=function(){return 2},Xx.NO_INTERSECTION.get=function(){return 0},Xx.POINT_INTERSECTION.get=function(){return 1},Xx.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(n0,Xx);var I_=function(K){function rt(){K.apply(this,arguments)}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.isInSegmentEnvelopes=function(nt){var lt=new am(this._inputLines[0][0],this._inputLines[0][1]),pt=new am(this._inputLines[1][0],this._inputLines[1][1]);return lt.contains(nt)&&pt.contains(nt)},rt.prototype.computeIntersection=function(){if(arguments.length!==3)return K.prototype.computeIntersection.apply(this,arguments);var nt=arguments[0],lt=arguments[1],pt=arguments[2];if(this._isProper=!1,am.intersects(lt,pt,nt)&&jg.orientationIndex(lt,pt,nt)===0&&jg.orientationIndex(pt,lt,nt)===0)return this._isProper=!0,(nt.equals(lt)||nt.equals(pt))&&(this._isProper=!1),this._result=K.POINT_INTERSECTION,null;this._result=K.NO_INTERSECTION},rt.prototype.normalizeToMinimum=function(nt,lt,pt,lo,vo){vo.x=this.smallestInAbsValue(nt.x,lt.x,pt.x,lo.x),vo.y=this.smallestInAbsValue(nt.y,lt.y,pt.y,lo.y),nt.x-=vo.x,nt.y-=vo.y,lt.x-=vo.x,lt.y-=vo.y,pt.x-=vo.x,pt.y-=vo.y,lo.x-=vo.x,lo.y-=vo.y},rt.prototype.safeHCoordinateIntersection=function(nt,lt,pt,lo){var vo=null;try{vo=Xb.intersection(nt,lt,pt,lo)}catch(vf){if(!(vf instanceof Zx))throw vf;vo=rt.nearestEndpoint(nt,lt,pt,lo)}return vo},rt.prototype.intersection=function(nt,lt,pt,lo){var vo=this.intersectionWithNormalization(nt,lt,pt,lo);return this.isInSegmentEnvelopes(vo)||(vo=new ng(rt.nearestEndpoint(nt,lt,pt,lo))),this._precisionModel!==null&&this._precisionModel.makePrecise(vo),vo},rt.prototype.smallestInAbsValue=function(nt,lt,pt,lo){var vo=nt,vf=Math.abs(vo);return Math.abs(lt)<vf&&(vo=lt,vf=Math.abs(lt)),Math.abs(pt)<vf&&(vo=pt,vf=Math.abs(pt)),Math.abs(lo)<vf&&(vo=lo),vo},rt.prototype.checkDD=function(nt,lt,pt,lo,vo){var vf=Ky.intersection(nt,lt,pt,lo),Cf=this.isInSegmentEnvelopes(vf);my.out.println("DD in env = "+Cf+"  --------------------- "+vf),vo.distance(vf)>1e-4&&my.out.println("Distance = "+vo.distance(vf))},rt.prototype.intersectionWithNormalization=function(nt,lt,pt,lo){var vo=new ng(nt),vf=new ng(lt),Cf=new ng(pt),Tf=new ng(lo),Rf=new ng;this.normalizeToEnvCentre(vo,vf,Cf,Tf,Rf);var Of=this.safeHCoordinateIntersection(vo,vf,Cf,Tf);return Of.x+=Rf.x,Of.y+=Rf.y,Of},rt.prototype.computeCollinearIntersection=function(nt,lt,pt,lo){var vo=am.intersects(nt,lt,pt),vf=am.intersects(nt,lt,lo),Cf=am.intersects(pt,lo,nt),Tf=am.intersects(pt,lo,lt);return vo&&vf?(this._intPt[0]=pt,this._intPt[1]=lo,K.COLLINEAR_INTERSECTION):Cf&&Tf?(this._intPt[0]=nt,this._intPt[1]=lt,K.COLLINEAR_INTERSECTION):vo&&Cf?(this._intPt[0]=pt,this._intPt[1]=nt,!pt.equals(nt)||vf||Tf?K.COLLINEAR_INTERSECTION:K.POINT_INTERSECTION):vo&&Tf?(this._intPt[0]=pt,this._intPt[1]=lt,!pt.equals(lt)||vf||Cf?K.COLLINEAR_INTERSECTION:K.POINT_INTERSECTION):vf&&Cf?(this._intPt[0]=lo,this._intPt[1]=nt,!lo.equals(nt)||vo||Tf?K.COLLINEAR_INTERSECTION:K.POINT_INTERSECTION):vf&&Tf?(this._intPt[0]=lo,this._intPt[1]=lt,!lo.equals(lt)||vo||Cf?K.COLLINEAR_INTERSECTION:K.POINT_INTERSECTION):K.NO_INTERSECTION},rt.prototype.normalizeToEnvCentre=function(nt,lt,pt,lo,vo){var vf=nt.x<lt.x?nt.x:lt.x,Cf=nt.y<lt.y?nt.y:lt.y,Tf=nt.x>lt.x?nt.x:lt.x,Rf=nt.y>lt.y?nt.y:lt.y,Of=pt.x<lo.x?pt.x:lo.x,Bf=pt.y<lo.y?pt.y:lo.y,Gf=pt.x>lo.x?pt.x:lo.x,qf=pt.y>lo.y?pt.y:lo.y,Kf=((vf>Of?vf:Of)+(Tf<Gf?Tf:Gf))/2,Uf=((Cf>Bf?Cf:Bf)+(Rf<qf?Rf:qf))/2;vo.x=Kf,vo.y=Uf,nt.x-=vo.x,nt.y-=vo.y,lt.x-=vo.x,lt.y-=vo.y,pt.x-=vo.x,pt.y-=vo.y,lo.x-=vo.x,lo.y-=vo.y},rt.prototype.computeIntersect=function(nt,lt,pt,lo){if(this._isProper=!1,!am.intersects(nt,lt,pt,lo))return K.NO_INTERSECTION;var vo=jg.orientationIndex(nt,lt,pt),vf=jg.orientationIndex(nt,lt,lo);if(vo>0&&vf>0||vo<0&&vf<0)return K.NO_INTERSECTION;var Cf=jg.orientationIndex(pt,lo,nt),Tf=jg.orientationIndex(pt,lo,lt);return Cf>0&&Tf>0||Cf<0&&Tf<0?K.NO_INTERSECTION:vo===0&&vf===0&&Cf===0&&Tf===0?this.computeCollinearIntersection(nt,lt,pt,lo):(vo===0||vf===0||Cf===0||Tf===0?(this._isProper=!1,nt.equals2D(pt)||nt.equals2D(lo)?this._intPt[0]=nt:lt.equals2D(pt)||lt.equals2D(lo)?this._intPt[0]=lt:vo===0?this._intPt[0]=new ng(pt):vf===0?this._intPt[0]=new ng(lo):Cf===0?this._intPt[0]=new ng(nt):Tf===0&&(this._intPt[0]=new ng(lt))):(this._isProper=!0,this._intPt[0]=this.intersection(nt,lt,pt,lo)),K.POINT_INTERSECTION)},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt.nearestEndpoint=function(nt,lt,pt,lo){var vo=nt,vf=jg.distancePointLine(nt,pt,lo),Cf=jg.distancePointLine(lt,pt,lo);return Cf<vf&&(vf=Cf,vo=lt),(Cf=jg.distancePointLine(pt,nt,lt))<vf&&(vf=Cf,vo=pt),(Cf=jg.distancePointLine(lo,nt,lt))<vf&&(vf=Cf,vo=lo),vo},rt}(n0),Kx=function(){};Kx.prototype.interfaces_=function(){return[]},Kx.prototype.getClass=function(){return Kx},Kx.orientationIndex=function(K,rt,nt){var lt=rt.x-K.x,pt=rt.y-K.y,lo=nt.x-rt.x,vo=nt.y-rt.y;return Kx.signOfDet2x2(lt,pt,lo,vo)},Kx.signOfDet2x2=function(K,rt,nt,lt){var pt=null,lo=null,vo=null;if(pt=1,K===0||lt===0)return rt===0||nt===0?0:rt>0?nt>0?-pt:pt:nt>0?pt:-pt;if(rt===0||nt===0)return lt>0?K>0?pt:-pt:K>0?-pt:pt;if(rt>0?lt>0?rt<=lt||(pt=-pt,lo=K,K=nt,nt=lo,lo=rt,rt=lt,lt=lo):rt<=-lt?(pt=-pt,nt=-nt,lt=-lt):(lo=K,K=-nt,nt=lo,lo=rt,rt=-lt,lt=lo):lt>0?-rt<=lt?(pt=-pt,K=-K,rt=-rt):(lo=-K,K=nt,nt=lo,lo=-rt,rt=lt,lt=lo):rt>=lt?(K=-K,rt=-rt,nt=-nt,lt=-lt):(pt=-pt,lo=-K,K=-nt,nt=lo,lo=-rt,rt=-lt,lt=lo),K>0){if(!(nt>0)||!(K<=nt))return pt}else{if(nt>0||!(K>=nt))return-pt;pt=-pt,K=-K,nt=-nt}for(;;){if((lt-=(vo=Math.floor(nt/K))*rt)<0)return-pt;if(lt>rt)return pt;if(K>(nt-=vo*K)+nt){if(rt<lt+lt)return pt}else{if(rt>lt+lt)return-pt;nt=K-nt,lt=rt-lt,pt=-pt}if(lt===0)return nt===0?0:-pt;if(nt===0||(rt-=(vo=Math.floor(K/nt))*lt)<0)return pt;if(rt>lt)return-pt;if(nt>(K-=vo*nt)+K){if(lt<rt+rt)return-pt}else{if(lt>rt+rt)return pt;K=nt-K,rt=lt-rt,pt=-pt}if(rt===0)return K===0?0:pt;if(K===0)return-pt}};var H1=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var K=arguments[0];this._p=K};H1.prototype.countSegment=function(K,rt){if(K.x<this._p.x&&rt.x<this._p.x)return null;if(this._p.x===rt.x&&this._p.y===rt.y)return this._isPointOnSegment=!0,null;if(K.y===this._p.y&&rt.y===this._p.y){var nt=K.x,lt=rt.x;return nt>lt&&(nt=rt.x,lt=K.x),this._p.x>=nt&&this._p.x<=lt&&(this._isPointOnSegment=!0),null}if(K.y>this._p.y&&rt.y<=this._p.y||rt.y>this._p.y&&K.y<=this._p.y){var pt=K.x-this._p.x,lo=K.y-this._p.y,vo=rt.x-this._p.x,vf=rt.y-this._p.y,Cf=Kx.signOfDet2x2(pt,lo,vo,vf);if(Cf===0)return this._isPointOnSegment=!0,null;vf<lo&&(Cf=-Cf),Cf>0&&this._crossingCount++}},H1.prototype.isPointInPolygon=function(){return this.getLocation()!==dg.EXTERIOR},H1.prototype.getLocation=function(){return this._isPointOnSegment?dg.BOUNDARY:this._crossingCount%2==1?dg.INTERIOR:dg.EXTERIOR},H1.prototype.isOnSegment=function(){return this._isPointOnSegment},H1.prototype.interfaces_=function(){return[]},H1.prototype.getClass=function(){return H1},H1.locatePointInRing=function(){if(arguments[0]instanceof ng&&vm(arguments[1],yv)){for(var K=arguments[0],rt=arguments[1],nt=new H1(K),lt=new ng,pt=new ng,lo=1;lo<rt.size();lo++)if(rt.getCoordinate(lo,lt),rt.getCoordinate(lo-1,pt),nt.countSegment(lt,pt),nt.isOnSegment())return nt.getLocation();return nt.getLocation()}if(arguments[0]instanceof ng&&arguments[1]instanceof Array){for(var vo=arguments[0],vf=arguments[1],Cf=new H1(vo),Tf=1;Tf<vf.length;Tf++){var Rf=vf[Tf],Of=vf[Tf-1];if(Cf.countSegment(Rf,Of),Cf.isOnSegment())return Cf.getLocation()}return Cf.getLocation()}};var jg=function(){},Jx={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};jg.prototype.interfaces_=function(){return[]},jg.prototype.getClass=function(){return jg},jg.orientationIndex=function(K,rt,nt){return Ky.orientationIndex(K,rt,nt)},jg.signedArea=function(){if(arguments[0]instanceof Array){var K=arguments[0];if(K.length<3)return 0;for(var rt=0,nt=K[0].x,lt=1;lt<K.length-1;lt++){var pt=K[lt].x-nt,lo=K[lt+1].y,vo=K[lt-1].y;rt+=pt*(vo-lo)}return rt/2}if(vm(arguments[0],yv)){var vf=arguments[0],Cf=vf.size();if(Cf<3)return 0;var Tf=new ng,Rf=new ng,Of=new ng;vf.getCoordinate(0,Rf),vf.getCoordinate(1,Of);var Bf=Rf.x;Of.x-=Bf;for(var Gf=0,qf=1;qf<Cf-1;qf++)Tf.y=Rf.y,Rf.x=Of.x,Rf.y=Of.y,vf.getCoordinate(qf+1,Of),Of.x-=Bf,Gf+=Rf.x*(Tf.y-Of.y);return Gf/2}},jg.distanceLineLine=function(K,rt,nt,lt){if(K.equals(rt))return jg.distancePointLine(K,nt,lt);if(nt.equals(lt))return jg.distancePointLine(lt,K,rt);var pt=!1;if(am.intersects(K,rt,nt,lt)){var lo=(rt.x-K.x)*(lt.y-nt.y)-(rt.y-K.y)*(lt.x-nt.x);if(lo===0)pt=!0;else{var vo=(K.y-nt.y)*(lt.x-nt.x)-(K.x-nt.x)*(lt.y-nt.y),vf=((K.y-nt.y)*(rt.x-K.x)-(K.x-nt.x)*(rt.y-K.y))/lo,Cf=vo/lo;(Cf<0||Cf>1||vf<0||vf>1)&&(pt=!0)}}else pt=!0;return pt?Ab.min(jg.distancePointLine(K,nt,lt),jg.distancePointLine(rt,nt,lt),jg.distancePointLine(nt,K,rt),jg.distancePointLine(lt,K,rt)):0},jg.isPointInRing=function(K,rt){return jg.locatePointInRing(K,rt)!==dg.EXTERIOR},jg.computeLength=function(K){var rt=K.size();if(rt<=1)return 0;var nt=0,lt=new ng;K.getCoordinate(0,lt);for(var pt=lt.x,lo=lt.y,vo=1;vo<rt;vo++){K.getCoordinate(vo,lt);var vf=lt.x,Cf=lt.y,Tf=vf-pt,Rf=Cf-lo;nt+=Math.sqrt(Tf*Tf+Rf*Rf),pt=vf,lo=Cf}return nt},jg.isCCW=function(K){var rt=K.length-1;if(rt<3)throw new e0("Ring has fewer than 4 points, so orientation cannot be determined");for(var nt=K[0],lt=0,pt=1;pt<=rt;pt++){var lo=K[pt];lo.y>nt.y&&(nt=lo,lt=pt)}var vo=lt;do(vo-=1)<0&&(vo=rt);while(K[vo].equals2D(nt)&&vo!==lt);var vf=lt;do vf=(vf+1)%rt;while(K[vf].equals2D(nt)&&vf!==lt);var Cf=K[vo],Tf=K[vf];if(Cf.equals2D(nt)||Tf.equals2D(nt)||Cf.equals2D(Tf))return!1;var Rf=jg.computeOrientation(Cf,nt,Tf),Of=!1;return Of=Rf===0?Cf.x>Tf.x:Rf>0,Of},jg.locatePointInRing=function(K,rt){return H1.locatePointInRing(K,rt)},jg.distancePointLinePerpendicular=function(K,rt,nt){var lt=(nt.x-rt.x)*(nt.x-rt.x)+(nt.y-rt.y)*(nt.y-rt.y),pt=((rt.y-K.y)*(nt.x-rt.x)-(rt.x-K.x)*(nt.y-rt.y))/lt;return Math.abs(pt)*Math.sqrt(lt)},jg.computeOrientation=function(K,rt,nt){return jg.orientationIndex(K,rt,nt)},jg.distancePointLine=function(){if(arguments.length===2){var K=arguments[0],rt=arguments[1];if(rt.length===0)throw new e0("Line array must contain at least one vertex");for(var nt=K.distance(rt[0]),lt=0;lt<rt.length-1;lt++){var pt=jg.distancePointLine(K,rt[lt],rt[lt+1]);pt<nt&&(nt=pt)}return nt}if(arguments.length===3){var lo=arguments[0],vo=arguments[1],vf=arguments[2];if(vo.x===vf.x&&vo.y===vf.y)return lo.distance(vo);var Cf=(vf.x-vo.x)*(vf.x-vo.x)+(vf.y-vo.y)*(vf.y-vo.y),Tf=((lo.x-vo.x)*(vf.x-vo.x)+(lo.y-vo.y)*(vf.y-vo.y))/Cf;if(Tf<=0)return lo.distance(vo);if(Tf>=1)return lo.distance(vf);var Rf=((vo.y-lo.y)*(vf.x-vo.x)-(vo.x-lo.x)*(vf.y-vo.y))/Cf;return Math.abs(Rf)*Math.sqrt(Cf)}},jg.isOnLine=function(K,rt){for(var nt=new I_,lt=1;lt<rt.length;lt++){var pt=rt[lt-1],lo=rt[lt];if(nt.computeIntersection(K,pt,lo),nt.hasIntersection())return!0}return!1},Jx.CLOCKWISE.get=function(){return-1},Jx.RIGHT.get=function(){return jg.CLOCKWISE},Jx.COUNTERCLOCKWISE.get=function(){return 1},Jx.LEFT.get=function(){return jg.COUNTERCLOCKWISE},Jx.COLLINEAR.get=function(){return 0},Jx.STRAIGHT.get=function(){return jg.COLLINEAR},Object.defineProperties(jg,Jx);var vw=function(){};vw.prototype.filter=function(K){},vw.prototype.interfaces_=function(){return[]},vw.prototype.getClass=function(){return vw};var mm=function(){var K=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=K,this._SRID=K.getSRID()},yw={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};mm.prototype.isGeometryCollection=function(){return this.getSortIndex()===mm.SORTINDEX_GEOMETRYCOLLECTION},mm.prototype.getFactory=function(){return this._factory},mm.prototype.getGeometryN=function(K){return this},mm.prototype.getArea=function(){return 0},mm.prototype.isRectangle=function(){return!1},mm.prototype.equals=function(){if(arguments[0]instanceof mm){var K=arguments[0];return K!==null&&this.equalsTopo(K)}if(arguments[0]instanceof Object){var rt=arguments[0];if(!(rt instanceof mm))return!1;var nt=rt;return this.equalsExact(nt)}},mm.prototype.equalsExact=function(K){return this===K||this.equalsExact(K,0)},mm.prototype.geometryChanged=function(){this.apply(mm.geometryChangedFilter)},mm.prototype.geometryChangedAction=function(){this._envelope=null},mm.prototype.equalsNorm=function(K){return K!==null&&this.norm().equalsExact(K.norm())},mm.prototype.getLength=function(){return 0},mm.prototype.getNumGeometries=function(){return 1},mm.prototype.compareTo=function(){if(arguments.length===1){var K=arguments[0],rt=K;return this.getSortIndex()!==rt.getSortIndex()?this.getSortIndex()-rt.getSortIndex():this.isEmpty()&&rt.isEmpty()?0:this.isEmpty()?-1:rt.isEmpty()?1:this.compareToSameClass(K)}if(arguments.length===2){var nt=arguments[0],lt=arguments[1];return this.getSortIndex()!==nt.getSortIndex()?this.getSortIndex()-nt.getSortIndex():this.isEmpty()&&nt.isEmpty()?0:this.isEmpty()?-1:nt.isEmpty()?1:this.compareToSameClass(nt,lt)}},mm.prototype.getUserData=function(){return this._userData},mm.prototype.getSRID=function(){return this._SRID},mm.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},mm.prototype.checkNotGeometryCollection=function(K){if(K.getSortIndex()===mm.SORTINDEX_GEOMETRYCOLLECTION)throw new e0("This method does not support GeometryCollection arguments")},mm.prototype.equal=function(K,rt,nt){return nt===0?K.equals(rt):K.distance(rt)<=nt},mm.prototype.norm=function(){var K=this.copy();return K.normalize(),K},mm.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},mm.prototype.getEnvelopeInternal=function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new am(this._envelope)},mm.prototype.setSRID=function(K){this._SRID=K},mm.prototype.setUserData=function(K){this._userData=K},mm.prototype.compare=function(K,rt){for(var nt=K.iterator(),lt=rt.iterator();nt.hasNext()&&lt.hasNext();){var pt=nt.next(),lo=lt.next(),vo=pt.compareTo(lo);if(vo!==0)return vo}return nt.hasNext()?1:lt.hasNext()?-1:0},mm.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},mm.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===mm.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===mm.SORTINDEX_MULTIPOINT||this.getSortIndex()===mm.SORTINDEX_MULTILINESTRING||this.getSortIndex()===mm.SORTINDEX_MULTIPOLYGON},mm.prototype.interfaces_=function(){return[Fk,Yb,Zb]},mm.prototype.getClass=function(){return mm},mm.hasNonEmptyElements=function(K){for(var rt=0;rt<K.length;rt++)if(!K[rt].isEmpty())return!0;return!1},mm.hasNullElements=function(K){for(var rt=0;rt<K.length;rt++)if(K[rt]===null)return!0;return!1},yw.serialVersionUID.get=function(){return 8763622679187377e3},yw.SORTINDEX_POINT.get=function(){return 0},yw.SORTINDEX_MULTIPOINT.get=function(){return 1},yw.SORTINDEX_LINESTRING.get=function(){return 2},yw.SORTINDEX_LINEARRING.get=function(){return 3},yw.SORTINDEX_MULTILINESTRING.get=function(){return 4},yw.SORTINDEX_POLYGON.get=function(){return 5},yw.SORTINDEX_MULTIPOLYGON.get=function(){return 6},yw.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},yw.geometryChangedFilter.get=function(){return $C},Object.defineProperties(mm,yw);var $C=function(){};$C.interfaces_=function(){return[vw]},$C.filter=function(K){K.geometryChangedAction()};var bw=function(){};bw.prototype.filter=function(K){},bw.prototype.interfaces_=function(){return[]},bw.prototype.getClass=function(){return bw};var Kb=function(){},ww={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};Kb.prototype.isInBoundary=function(K){},Kb.prototype.interfaces_=function(){return[]},Kb.prototype.getClass=function(){return Kb},ww.Mod2BoundaryNodeRule.get=function(){return HE},ww.EndPointBoundaryNodeRule.get=function(){return Qx},ww.MultiValentEndPointBoundaryNodeRule.get=function(){return VE},ww.MonoValentEndPointBoundaryNodeRule.get=function(){return UE},ww.MOD2_BOUNDARY_RULE.get=function(){return new HE},ww.ENDPOINT_BOUNDARY_RULE.get=function(){return new Qx},ww.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new VE},ww.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new UE},ww.OGC_SFS_BOUNDARY_RULE.get=function(){return Kb.MOD2_BOUNDARY_RULE},Object.defineProperties(Kb,ww);var HE=function(){};HE.prototype.isInBoundary=function(K){return K%2==1},HE.prototype.interfaces_=function(){return[Kb]},HE.prototype.getClass=function(){return HE};var Qx=function(){};Qx.prototype.isInBoundary=function(K){return K>0},Qx.prototype.interfaces_=function(){return[Kb]},Qx.prototype.getClass=function(){return Qx};var VE=function(){};VE.prototype.isInBoundary=function(K){return K>1},VE.prototype.interfaces_=function(){return[Kb]},VE.prototype.getClass=function(){return VE};var UE=function(){};UE.prototype.isInBoundary=function(K){return K===1},UE.prototype.interfaces_=function(){return[Kb]},UE.prototype.getClass=function(){return UE};var $0=function(){};function KS(K){this.message=K||""}$0.prototype.add=function(){},$0.prototype.addAll=function(){},$0.prototype.isEmpty=function(){},$0.prototype.iterator=function(){},$0.prototype.size=function(){},$0.prototype.toArray=function(){},$0.prototype.remove=function(){},KS.prototype=new Error,KS.prototype.name="IndexOutOfBoundsException";var WE=function(){};WE.prototype.hasNext=function(){},WE.prototype.next=function(){},WE.prototype.remove=function(){};var p1=function(K){function rt(){K.apply(this,arguments)}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.get=function(){},rt.prototype.set=function(){},rt.prototype.isEmpty=function(){},rt}($0);function eE(K){this.message=K||""}eE.prototype=new Error,eE.prototype.name="NoSuchElementException";var $g=function(K){function rt(){K.call(this),this.array_=[],arguments[0]instanceof $0&&this.addAll(arguments[0])}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.ensureCapacity=function(){},rt.prototype.interfaces_=function(){return[K,$0]},rt.prototype.add=function(nt){return arguments.length===1?this.array_.push(nt):this.array_.splice(arguments[0],arguments[1]),!0},rt.prototype.clear=function(){this.array_=[]},rt.prototype.addAll=function(nt){for(var lt=nt.iterator();lt.hasNext();)this.add(lt.next());return!0},rt.prototype.set=function(nt,lt){var pt=this.array_[nt];return this.array_[nt]=lt,pt},rt.prototype.iterator=function(){return new NT(this)},rt.prototype.get=function(nt){if(nt<0||nt>=this.size())throw new KS;return this.array_[nt]},rt.prototype.isEmpty=function(){return this.array_.length===0},rt.prototype.size=function(){return this.array_.length},rt.prototype.toArray=function(){for(var nt=[],lt=0,pt=this.array_.length;lt<pt;lt++)nt.push(this.array_[lt]);return nt},rt.prototype.remove=function(nt){for(var lt=!1,pt=0,lo=this.array_.length;pt<lo;pt++)if(this.array_[pt]===nt){this.array_.splice(pt,1),lt=!0;break}return lt},rt}(p1),NT=function(K){function rt(nt){K.call(this),this.arrayList_=nt,this.position_=0}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new eE;return this.arrayList_.get(this.position_++)},rt.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},rt.prototype.set=function(nt){return this.arrayList_.set(this.position_-1,nt)},rt.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},rt}(WE),Uk=function(K){function rt(){if(K.call(this),arguments.length!==0){if(arguments.length===1){var lt=arguments[0];this.ensureCapacity(lt.length),this.add(lt,!0)}else if(arguments.length===2){var pt=arguments[0],lo=arguments[1];this.ensureCapacity(pt.length),this.add(pt,lo)}}}K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt;var nt={coordArrayType:{configurable:!0}};return nt.coordArrayType.get=function(){return new Array(0).fill(null)},rt.prototype.getCoordinate=function(lt){return this.get(lt)},rt.prototype.addAll=function(){var lt=this;if(arguments.length===2){for(var pt=arguments[0],lo=arguments[1],vo=!1,vf=pt.iterator();vf.hasNext();)lt.add(vf.next(),lo),vo=!0;return vo}return K.prototype.addAll.apply(this,arguments)},rt.prototype.clone=function(){for(var lt=K.prototype.clone.call(this),pt=0;pt<this.size();pt++)lt.add(pt,this.get(pt).copy());return lt},rt.prototype.toCoordinateArray=function(){return this.toArray(rt.coordArrayType)},rt.prototype.add=function(){var lt=this;if(arguments.length===1){var pt=arguments[0];K.prototype.add.call(this,pt)}else if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var lo=arguments[0],vo=arguments[1];return this.add(lo,vo,!0),!0}if(arguments[0]instanceof ng&&typeof arguments[1]=="boolean"){var vf=arguments[0],Cf=arguments[1];if(!Cf&&this.size()>=1){var Tf=this.get(this.size()-1);if(Tf.equals2D(vf))return null}K.prototype.add.call(this,vf)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var Rf=arguments[0],Of=arguments[1];return this.add(Rf,Of),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var Bf=arguments[0],Gf=arguments[1],qf=arguments[2];if(qf)for(var Kf=0;Kf<Bf.length;Kf++)lt.add(Bf[Kf],Gf);else for(var Uf=Bf.length-1;Uf>=0;Uf--)lt.add(Bf[Uf],Gf);return!0}if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof ng){var lp=arguments[0],xp=arguments[1],Yf=arguments[2];if(!Yf){var sp=this.size();if(sp>0){if(lp>0){var hp=this.get(lp-1);if(hp.equals2D(xp))return null}if(lp<sp){var vp=this.get(lp);if(vp.equals2D(xp))return null}}}K.prototype.add.call(this,lp,xp)}}else if(arguments.length===4){var gp=arguments[0],hg=arguments[1],tg=arguments[2],pg=arguments[3],rg=1;tg>pg&&(rg=-1);for(var _g=tg;_g!==pg;_g+=rg)lt.add(gp[_g],hg);return!0}},rt.prototype.closeRing=function(){this.size()>0&&this.add(new ng(this.get(0)),!1)},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},Object.defineProperties(rt,nt),rt}($g),qm=function(){},FC={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};FC.ForwardComparator.get=function(){return Wk},FC.BidirectionalComparator.get=function(){return tE},FC.coordArrayType.get=function(){return new Array(0).fill(null)},qm.prototype.interfaces_=function(){return[]},qm.prototype.getClass=function(){return qm},qm.isRing=function(K){return!(K.length<4)&&!!K[0].equals2D(K[K.length-1])},qm.ptNotInList=function(K,rt){for(var nt=0;nt<K.length;nt++){var lt=K[nt];if(qm.indexOf(lt,rt)<0)return lt}return null},qm.scroll=function(K,rt){var nt=qm.indexOf(rt,K);if(nt<0)return null;var lt=new Array(K.length).fill(null);my.arraycopy(K,nt,lt,0,K.length-nt),my.arraycopy(K,0,lt,K.length-nt,nt),my.arraycopy(lt,0,K,0,K.length)},qm.equals=function(){if(arguments.length===2){var K=arguments[0],rt=arguments[1];if(K===rt)return!0;if(K===null||rt===null||K.length!==rt.length)return!1;for(var nt=0;nt<K.length;nt++)if(!K[nt].equals(rt[nt]))return!1;return!0}if(arguments.length===3){var lt=arguments[0],pt=arguments[1],lo=arguments[2];if(lt===pt)return!0;if(lt===null||pt===null||lt.length!==pt.length)return!1;for(var vo=0;vo<lt.length;vo++)if(lo.compare(lt[vo],pt[vo])!==0)return!1;return!0}},qm.intersection=function(K,rt){for(var nt=new Uk,lt=0;lt<K.length;lt++)rt.intersects(K[lt])&&nt.add(K[lt],!0);return nt.toCoordinateArray()},qm.hasRepeatedPoints=function(K){for(var rt=1;rt<K.length;rt++)if(K[rt-1].equals(K[rt]))return!0;return!1},qm.removeRepeatedPoints=function(K){return qm.hasRepeatedPoints(K)?new Uk(K,!1).toCoordinateArray():K},qm.reverse=function(K){for(var rt=K.length-1,nt=Math.trunc(rt/2),lt=0;lt<=nt;lt++){var pt=K[lt];K[lt]=K[rt-lt],K[rt-lt]=pt}},qm.removeNull=function(K){for(var rt=0,nt=0;nt<K.length;nt++)K[nt]!==null&&rt++;var lt=new Array(rt).fill(null);if(rt===0)return lt;for(var pt=0,lo=0;lo<K.length;lo++)K[lo]!==null&&(lt[pt++]=K[lo]);return lt},qm.copyDeep=function(){if(arguments.length===1){for(var K=arguments[0],rt=new Array(K.length).fill(null),nt=0;nt<K.length;nt++)rt[nt]=new ng(K[nt]);return rt}if(arguments.length===5)for(var lt=arguments[0],pt=arguments[1],lo=arguments[2],vo=arguments[3],vf=arguments[4],Cf=0;Cf<vf;Cf++)lo[vo+Cf]=new ng(lt[pt+Cf])},qm.isEqualReversed=function(K,rt){for(var nt=0;nt<K.length;nt++){var lt=K[nt],pt=rt[K.length-nt-1];if(lt.compareTo(pt)!==0)return!1}return!0},qm.envelope=function(K){for(var rt=new am,nt=0;nt<K.length;nt++)rt.expandToInclude(K[nt]);return rt},qm.toCoordinateArray=function(K){return K.toArray(qm.coordArrayType)},qm.atLeastNCoordinatesOrNothing=function(K,rt){return rt.length>=K?rt:[]},qm.indexOf=function(K,rt){for(var nt=0;nt<rt.length;nt++)if(K.equals(rt[nt]))return nt;return-1},qm.increasingDirection=function(K){for(var rt=0;rt<Math.trunc(K.length/2);rt++){var nt=K.length-1-rt,lt=K[rt].compareTo(K[nt]);if(lt!==0)return lt}return 1},qm.compare=function(K,rt){for(var nt=0;nt<K.length&&nt<rt.length;){var lt=K[nt].compareTo(rt[nt]);if(lt!==0)return lt;nt++}return nt<rt.length?-1:nt<K.length?1:0},qm.minCoordinate=function(K){for(var rt=null,nt=0;nt<K.length;nt++)(rt===null||rt.compareTo(K[nt])>0)&&(rt=K[nt]);return rt},qm.extract=function(K,rt,nt){rt=Ab.clamp(rt,0,K.length);var lt=(nt=Ab.clamp(nt,-1,K.length))-rt+1;nt<0&&(lt=0),rt>=K.length&&(lt=0),nt<rt&&(lt=0);var pt=new Array(lt).fill(null);if(lt===0)return pt;for(var lo=0,vo=rt;vo<=nt;vo++)pt[lo++]=K[vo];return pt},Object.defineProperties(qm,FC);var Wk=function(){};Wk.prototype.compare=function(K,rt){return qm.compare(K,rt)},Wk.prototype.interfaces_=function(){return[FE]},Wk.prototype.getClass=function(){return Wk};var tE=function(){};tE.prototype.compare=function(K,rt){var nt=K,lt=rt;if(nt.length<lt.length)return-1;if(nt.length>lt.length)return 1;if(nt.length===0)return 0;var pt=qm.compare(nt,lt);return qm.isEqualReversed(nt,lt)?0:pt},tE.prototype.OLDcompare=function(K,rt){var nt=K,lt=rt;if(nt.length<lt.length)return-1;if(nt.length>lt.length)return 1;if(nt.length===0)return 0;for(var pt=qm.increasingDirection(nt),lo=qm.increasingDirection(lt),vo=pt>0?0:nt.length-1,vf=lo>0?0:nt.length-1,Cf=0;Cf<nt.length;Cf++){var Tf=nt[vo].compareTo(lt[vf]);if(Tf!==0)return Tf;vo+=pt,vf+=lo}return 0},tE.prototype.interfaces_=function(){return[FE]},tE.prototype.getClass=function(){return tE};var rE=function(){};rE.prototype.get=function(){},rE.prototype.put=function(){},rE.prototype.size=function(){},rE.prototype.values=function(){},rE.prototype.entrySet=function(){};var pO=function(K){function rt(){K.apply(this,arguments)}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt}(rE);function GE(K){this.message=K||""}function zC(){}GE.prototype=new Error,GE.prototype.name="OperationNotSupported",zC.prototype=new $0,zC.prototype.contains=function(){};var jC=function(K){function rt(){K.call(this),this.array_=[],arguments[0]instanceof $0&&this.addAll(arguments[0])}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.contains=function(nt){for(var lt=0,pt=this.array_.length;lt<pt;lt++)if(this.array_[lt]===nt)return!0;return!1},rt.prototype.add=function(nt){return!this.contains(nt)&&(this.array_.push(nt),!0)},rt.prototype.addAll=function(nt){for(var lt=nt.iterator();lt.hasNext();)this.add(lt.next());return!0},rt.prototype.remove=function(nt){throw new Error},rt.prototype.size=function(){return this.array_.length},rt.prototype.isEmpty=function(){return this.array_.length===0},rt.prototype.toArray=function(){for(var nt=[],lt=0,pt=this.array_.length;lt<pt;lt++)nt.push(this.array_[lt]);return nt},rt.prototype.iterator=function(){return new BT(this)},rt}(zC),BT=function(K){function rt(nt){K.call(this),this.hashSet_=nt,this.position_=0}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new eE;return this.hashSet_.array_[this.position_++]},rt.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},rt.prototype.remove=function(){throw new GE},rt}(WE);function $T(K){return K===null?0:K.color}function $v(K){return K===null?null:K.parent}function Kw(K,rt){K!==null&&(K.color=rt)}function JS(K){return K===null?null:K.left}function FT(K){return K===null?null:K.right}function Ty(){this.root_=null,this.size_=0}Ty.prototype=new pO,Ty.prototype.get=function(K){for(var rt=this.root_;rt!==null;){var nt=K.compareTo(rt.key);if(nt<0)rt=rt.left;else{if(!(nt>0))return rt.value;rt=rt.right}}return null},Ty.prototype.put=function(K,rt){if(this.root_===null)return this.root_={key:K,value:rt,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var nt,lt,pt=this.root_;do if(nt=pt,(lt=K.compareTo(pt.key))<0)pt=pt.left;else{if(!(lt>0)){var lo=pt.value;return pt.value=rt,lo}pt=pt.right}while(pt!==null);var vo={key:K,left:null,right:null,value:rt,parent:nt,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return lt<0?nt.left=vo:nt.right=vo,this.fixAfterInsertion(vo),this.size_++,null},Ty.prototype.fixAfterInsertion=function(K){var rt=this;for(K.color=1;K!=null&&K!==this.root_&&K.parent.color===1;)if($v(K)===JS($v($v(K)))){var nt=FT($v($v(K)));$T(nt)===1?(Kw($v(K),0),Kw(nt,0),Kw($v($v(K)),1),K=$v($v(K))):(K===FT($v(K))&&(K=$v(K),rt.rotateLeft(K)),Kw($v(K),0),Kw($v($v(K)),1),rt.rotateRight($v($v(K))))}else{var lt=JS($v($v(K)));$T(lt)===1?(Kw($v(K),0),Kw(lt,0),Kw($v($v(K)),1),K=$v($v(K))):(K===JS($v(K))&&(K=$v(K),rt.rotateRight(K)),Kw($v(K),0),Kw($v($v(K)),1),rt.rotateLeft($v($v(K))))}this.root_.color=0},Ty.prototype.values=function(){var K=new $g,rt=this.getFirstEntry();if(rt!==null)for(K.add(rt.value);(rt=Ty.successor(rt))!==null;)K.add(rt.value);return K},Ty.prototype.entrySet=function(){var K=new jC,rt=this.getFirstEntry();if(rt!==null)for(K.add(rt);(rt=Ty.successor(rt))!==null;)K.add(rt);return K},Ty.prototype.rotateLeft=function(K){if(K!=null){var rt=K.right;K.right=rt.left,rt.left!=null&&(rt.left.parent=K),rt.parent=K.parent,K.parent===null?this.root_=rt:K.parent.left===K?K.parent.left=rt:K.parent.right=rt,rt.left=K,K.parent=rt}},Ty.prototype.rotateRight=function(K){if(K!=null){var rt=K.left;K.left=rt.right,rt.right!=null&&(rt.right.parent=K),rt.parent=K.parent,K.parent===null?this.root_=rt:K.parent.right===K?K.parent.right=rt:K.parent.left=rt,rt.right=K,K.parent=rt}},Ty.prototype.getFirstEntry=function(){var K=this.root_;if(K!=null)for(;K.left!=null;)K=K.left;return K},Ty.successor=function(K){if(K===null)return null;if(K.right!==null){for(var rt=K.right;rt.left!==null;)rt=rt.left;return rt}for(var nt=K.parent,lt=K;nt!==null&&lt===nt.right;)lt=nt,nt=nt.parent;return nt},Ty.prototype.size=function(){return this.size_};var qE=function(){};function zT(){}function g1(){this.array_=[],arguments[0]instanceof $0&&this.addAll(arguments[0])}qE.prototype.interfaces_=function(){return[]},qE.prototype.getClass=function(){return qE},zT.prototype=new zC,g1.prototype=new zT,g1.prototype.contains=function(K){for(var rt=0,nt=this.array_.length;rt<nt;rt++)if(this.array_[rt].compareTo(K)===0)return!0;return!1},g1.prototype.add=function(K){if(this.contains(K))return!1;for(var rt=0,nt=this.array_.length;rt<nt;rt++)if(this.array_[rt].compareTo(K)===1)return this.array_.splice(rt,0,K),!0;return this.array_.push(K),!0},g1.prototype.addAll=function(K){for(var rt=K.iterator();rt.hasNext();)this.add(rt.next());return!0},g1.prototype.remove=function(K){throw new GE},g1.prototype.size=function(){return this.array_.length},g1.prototype.isEmpty=function(){return this.array_.length===0},g1.prototype.toArray=function(){for(var K=[],rt=0,nt=this.array_.length;rt<nt;rt++)K.push(this.array_[rt]);return K},g1.prototype.iterator=function(){return new HC(this)};var HC=function(K){this.treeSet_=K,this.position_=0};HC.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new eE;return this.treeSet_.array_[this.position_++]},HC.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},HC.prototype.remove=function(){throw new GE};var _w=function(){};_w.sort=function(){var K,rt,nt,lt,pt=arguments[0];if(arguments.length===1)lt=function(vo,vf){return vo.compareTo(vf)},pt.sort(lt);else if(arguments.length===2)nt=arguments[1],lt=function(vo,vf){return nt.compare(vo,vf)},pt.sort(lt);else if(arguments.length===3){(rt=pt.slice(arguments[1],arguments[2])).sort();var lo=pt.slice(0,arguments[1]).concat(rt,pt.slice(arguments[2],pt.length));for(pt.splice(0,pt.length),K=0;K<lo.length;K++)pt.push(lo[K])}else if(arguments.length===4)for(rt=pt.slice(arguments[1],arguments[2]),nt=arguments[3],lt=function(vo,vf){return nt.compare(vo,vf)},rt.sort(lt),lo=pt.slice(0,arguments[1]).concat(rt,pt.slice(arguments[2],pt.length)),pt.splice(0,pt.length),K=0;K<lo.length;K++)pt.push(lo[K])},_w.asList=function(K){for(var rt=new $g,nt=0,lt=K.length;nt<lt;nt++)rt.add(K[nt]);return rt};var wv=function(){},Jb={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};Jb.P.get=function(){return 0},Jb.L.get=function(){return 1},Jb.A.get=function(){return 2},Jb.FALSE.get=function(){return-1},Jb.TRUE.get=function(){return-2},Jb.DONTCARE.get=function(){return-3},Jb.SYM_FALSE.get=function(){return"F"},Jb.SYM_TRUE.get=function(){return"T"},Jb.SYM_DONTCARE.get=function(){return"*"},Jb.SYM_P.get=function(){return"0"},Jb.SYM_L.get=function(){return"1"},Jb.SYM_A.get=function(){return"2"},wv.prototype.interfaces_=function(){return[]},wv.prototype.getClass=function(){return wv},wv.toDimensionSymbol=function(K){switch(K){case wv.FALSE:return wv.SYM_FALSE;case wv.TRUE:return wv.SYM_TRUE;case wv.DONTCARE:return wv.SYM_DONTCARE;case wv.P:return wv.SYM_P;case wv.L:return wv.SYM_L;case wv.A:return wv.SYM_A}throw new e0("Unknown dimension value: "+K)},wv.toDimensionValue=function(K){switch(jk.toUpperCase(K)){case wv.SYM_FALSE:return wv.FALSE;case wv.SYM_TRUE:return wv.TRUE;case wv.SYM_DONTCARE:return wv.DONTCARE;case wv.SYM_P:return wv.P;case wv.SYM_L:return wv.L;case wv.SYM_A:return wv.A}throw new e0("Unknown dimension symbol: "+K)},Object.defineProperties(wv,Jb);var V1=function(){};V1.prototype.filter=function(K){},V1.prototype.interfaces_=function(){return[]},V1.prototype.getClass=function(){return V1};var m1=function(){};m1.prototype.filter=function(K,rt){},m1.prototype.isDone=function(){},m1.prototype.isGeometryChanged=function(){},m1.prototype.interfaces_=function(){return[]},m1.prototype.getClass=function(){return m1};var zy=function(K){function rt(lt,pt){if(K.call(this,pt),this._geometries=lt||[],K.hasNullElements(this._geometries))throw new e0("geometries must not contain null elements")}K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt;var nt={serialVersionUID:{configurable:!0}};return rt.prototype.computeEnvelopeInternal=function(){for(var lt=new am,pt=0;pt<this._geometries.length;pt++)lt.expandToInclude(this._geometries[pt].getEnvelopeInternal());return lt},rt.prototype.getGeometryN=function(lt){return this._geometries[lt]},rt.prototype.getSortIndex=function(){return K.SORTINDEX_GEOMETRYCOLLECTION},rt.prototype.getCoordinates=function(){for(var lt=new Array(this.getNumPoints()).fill(null),pt=-1,lo=0;lo<this._geometries.length;lo++)for(var vo=this._geometries[lo].getCoordinates(),vf=0;vf<vo.length;vf++)lt[++pt]=vo[vf];return lt},rt.prototype.getArea=function(){for(var lt=0,pt=0;pt<this._geometries.length;pt++)lt+=this._geometries[pt].getArea();return lt},rt.prototype.equalsExact=function(){var lt=this;if(arguments.length===2){var pt=arguments[0],lo=arguments[1];if(!this.isEquivalentClass(pt))return!1;var vo=pt;if(this._geometries.length!==vo._geometries.length)return!1;for(var vf=0;vf<this._geometries.length;vf++)if(!lt._geometries[vf].equalsExact(vo._geometries[vf],lo))return!1;return!0}return K.prototype.equalsExact.apply(this,arguments)},rt.prototype.normalize=function(){for(var lt=0;lt<this._geometries.length;lt++)this._geometries[lt].normalize();_w.sort(this._geometries)},rt.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},rt.prototype.getBoundaryDimension=function(){for(var lt=wv.FALSE,pt=0;pt<this._geometries.length;pt++)lt=Math.max(lt,this._geometries[pt].getBoundaryDimension());return lt},rt.prototype.getDimension=function(){for(var lt=wv.FALSE,pt=0;pt<this._geometries.length;pt++)lt=Math.max(lt,this._geometries[pt].getDimension());return lt},rt.prototype.getLength=function(){for(var lt=0,pt=0;pt<this._geometries.length;pt++)lt+=this._geometries[pt].getLength();return lt},rt.prototype.getNumPoints=function(){for(var lt=0,pt=0;pt<this._geometries.length;pt++)lt+=this._geometries[pt].getNumPoints();return lt},rt.prototype.getNumGeometries=function(){return this._geometries.length},rt.prototype.reverse=function(){for(var lt=this._geometries.length,pt=new Array(lt).fill(null),lo=0;lo<this._geometries.length;lo++)pt[lo]=this._geometries[lo].reverse();return this.getFactory().createGeometryCollection(pt)},rt.prototype.compareToSameClass=function(){var lt=this;if(arguments.length===1){var pt=arguments[0],lo=new g1(_w.asList(this._geometries)),vo=new g1(_w.asList(pt._geometries));return this.compare(lo,vo)}if(arguments.length===2){for(var vf=arguments[0],Cf=arguments[1],Tf=vf,Rf=this.getNumGeometries(),Of=Tf.getNumGeometries(),Bf=0;Bf<Rf&&Bf<Of;){var Gf=lt.getGeometryN(Bf),qf=Tf.getGeometryN(Bf),Kf=Gf.compareToSameClass(qf,Cf);if(Kf!==0)return Kf;Bf++}return Bf<Rf?1:Bf<Of?-1:0}},rt.prototype.apply=function(){var lt=this;if(vm(arguments[0],bw))for(var pt=arguments[0],lo=0;lo<this._geometries.length;lo++)lt._geometries[lo].apply(pt);else if(vm(arguments[0],m1)){var vo=arguments[0];if(this._geometries.length===0)return null;for(var vf=0;vf<this._geometries.length&&(lt._geometries[vf].apply(vo),!vo.isDone());vf++);vo.isGeometryChanged()&&this.geometryChanged()}else if(vm(arguments[0],V1)){var Cf=arguments[0];Cf.filter(this);for(var Tf=0;Tf<this._geometries.length;Tf++)lt._geometries[Tf].apply(Cf)}else if(vm(arguments[0],vw)){var Rf=arguments[0];Rf.filter(this);for(var Of=0;Of<this._geometries.length;Of++)lt._geometries[Of].apply(Rf)}},rt.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),Im.shouldNeverReachHere(),null},rt.prototype.clone=function(){var lt=K.prototype.clone.call(this);lt._geometries=new Array(this._geometries.length).fill(null);for(var pt=0;pt<this._geometries.length;pt++)lt._geometries[pt]=this._geometries[pt].clone();return lt},rt.prototype.getGeometryType=function(){return"GeometryCollection"},rt.prototype.copy=function(){for(var lt=new Array(this._geometries.length).fill(null),pt=0;pt<lt.length;pt++)lt[pt]=this._geometries[pt].copy();return new rt(lt,this._factory)},rt.prototype.isEmpty=function(){for(var lt=0;lt<this._geometries.length;lt++)if(!this._geometries[lt].isEmpty())return!1;return!0},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},nt.serialVersionUID.get=function(){return-5694727726395021e3},Object.defineProperties(rt,nt),rt}(mm),L_=function(K){function rt(){K.apply(this,arguments)}K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt;var nt={serialVersionUID:{configurable:!0}};return rt.prototype.getSortIndex=function(){return mm.SORTINDEX_MULTILINESTRING},rt.prototype.equalsExact=function(){if(arguments.length===2){var lt=arguments[0],pt=arguments[1];return!!this.isEquivalentClass(lt)&&K.prototype.equalsExact.call(this,lt,pt)}return K.prototype.equalsExact.apply(this,arguments)},rt.prototype.getBoundaryDimension=function(){return this.isClosed()?wv.FALSE:0},rt.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var lt=0;lt<this._geometries.length;lt++)if(!this._geometries[lt].isClosed())return!1;return!0},rt.prototype.getDimension=function(){return 1},rt.prototype.reverse=function(){for(var lt=this._geometries.length,pt=new Array(lt).fill(null),lo=0;lo<this._geometries.length;lo++)pt[lt-1-lo]=this._geometries[lo].reverse();return this.getFactory().createMultiLineString(pt)},rt.prototype.getBoundary=function(){return new Jy(this).getBoundary()},rt.prototype.getGeometryType=function(){return"MultiLineString"},rt.prototype.copy=function(){for(var lt=new Array(this._geometries.length).fill(null),pt=0;pt<lt.length;pt++)lt[pt]=this._geometries[pt].copy();return new rt(lt,this._factory)},rt.prototype.interfaces_=function(){return[qE]},rt.prototype.getClass=function(){return rt},nt.serialVersionUID.get=function(){return 8166665132445434e3},Object.defineProperties(rt,nt),rt}(zy),Jy=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,arguments.length===1){var K=arguments[0],rt=Kb.MOD2_BOUNDARY_RULE;this._geom=K,this._geomFact=K.getFactory(),this._bnRule=rt}else if(arguments.length===2){var nt=arguments[0],lt=arguments[1];this._geom=nt,this._geomFact=nt.getFactory(),this._bnRule=lt}};Jy.prototype.boundaryMultiLineString=function(K){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var rt=this.computeBoundaryCoordinates(K);return rt.length===1?this._geomFact.createPoint(rt[0]):this._geomFact.createMultiPointFromCoords(rt)},Jy.prototype.getBoundary=function(){return this._geom instanceof t0?this.boundaryLineString(this._geom):this._geom instanceof L_?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Jy.prototype.boundaryLineString=function(K){return this._geom.isEmpty()?this.getEmptyMultiPoint():K.isClosed()?this._bnRule.isInBoundary(2)?K.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([K.getStartPoint(),K.getEndPoint()])},Jy.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Jy.prototype.computeBoundaryCoordinates=function(K){var rt=this,nt=new $g;this._endpointMap=new Ty;for(var lt=0;lt<K.getNumGeometries();lt++){var pt=K.getGeometryN(lt);pt.getNumPoints()!==0&&(rt.addEndpoint(pt.getCoordinateN(0)),rt.addEndpoint(pt.getCoordinateN(pt.getNumPoints()-1)))}for(var lo=this._endpointMap.entrySet().iterator();lo.hasNext();){var vo=lo.next(),vf=vo.getValue().count;rt._bnRule.isInBoundary(vf)&&nt.add(vo.getKey())}return qm.toCoordinateArray(nt)},Jy.prototype.addEndpoint=function(K){var rt=this._endpointMap.get(K);rt===null&&(rt=new YE,this._endpointMap.put(K,rt)),rt.count++},Jy.prototype.interfaces_=function(){return[]},Jy.prototype.getClass=function(){return Jy},Jy.getBoundary=function(){if(arguments.length===1){var K=arguments[0],rt=new Jy(K);return rt.getBoundary()}if(arguments.length===2){var nt=arguments[0],lt=arguments[1],pt=new Jy(nt,lt);return pt.getBoundary()}};var YE=function(){this.count=null};function jT(){}function gO(){}YE.prototype.interfaces_=function(){return[]},YE.prototype.getClass=function(){return YE};var mO=function(){};function vO(){}function yO(){}function HT(){}var Qb=function(){},QS={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Qb.prototype.interfaces_=function(){return[]},Qb.prototype.getClass=function(){return Qb},Qb.chars=function(K,rt){for(var nt=new Array(rt).fill(null),lt=0;lt<rt;lt++)nt[lt]=K;return String(nt)},Qb.getStackTrace=function(){if(arguments.length===1){var K=arguments[0],rt=new vO,nt=new jT;return K.printStackTrace(nt),rt.toString()}if(arguments.length===2){for(var lt=arguments[0],pt=arguments[1],lo="",vo=new gO(Qb.getStackTrace(lt)),vf=new HT,Cf=0;Cf<pt;Cf++)try{lo+=vf.readLine()+Qb.NEWLINE}catch(Tf){if(!(Tf instanceof yO))throw Tf;Im.shouldNeverReachHere()}return lo}},Qb.split=function(K,rt){for(var nt=rt.length,lt=new $g,pt=""+K,lo=pt.indexOf(rt);lo>=0;){var vo=pt.substring(0,lo);lt.add(vo),lo=(pt=pt.substring(lo+nt)).indexOf(rt)}pt.length>0&&lt.add(pt);for(var vf=new Array(lt.size()).fill(null),Cf=0;Cf<vf.length;Cf++)vf[Cf]=lt.get(Cf);return vf},Qb.toString=function(){if(arguments.length===1){var K=arguments[0];return Qb.SIMPLE_ORDINATE_FORMAT.format(K)}},Qb.spaces=function(K){return Qb.chars(" ",K)},QS.NEWLINE.get=function(){return my.getProperty("line.separator")},QS.SIMPLE_ORDINATE_FORMAT.get=function(){return new mO},Object.defineProperties(Qb,QS);var v0=function(){};v0.prototype.interfaces_=function(){return[]},v0.prototype.getClass=function(){return v0},v0.copyCoord=function(K,rt,nt,lt){for(var pt=Math.min(K.getDimension(),nt.getDimension()),lo=0;lo<pt;lo++)nt.setOrdinate(lt,lo,K.getOrdinate(rt,lo))},v0.isRing=function(K){var rt=K.size();return rt===0||!(rt<=3)&&K.getOrdinate(0,yv.X)===K.getOrdinate(rt-1,yv.X)&&K.getOrdinate(0,yv.Y)===K.getOrdinate(rt-1,yv.Y)},v0.isEqual=function(K,rt){var nt=K.size();if(nt!==rt.size())return!1;for(var lt=Math.min(K.getDimension(),rt.getDimension()),pt=0;pt<nt;pt++)for(var lo=0;lo<lt;lo++){var vo=K.getOrdinate(pt,lo),vf=rt.getOrdinate(pt,lo);if(K.getOrdinate(pt,lo)!==rt.getOrdinate(pt,lo)&&(!Sm.isNaN(vo)||!Sm.isNaN(vf)))return!1}return!0},v0.extend=function(K,rt,nt){var lt=K.create(nt,rt.getDimension()),pt=rt.size();if(v0.copy(rt,0,lt,0,pt),pt>0)for(var lo=pt;lo<nt;lo++)v0.copy(rt,pt-1,lt,lo,1);return lt},v0.reverse=function(K){for(var rt=K.size()-1,nt=Math.trunc(rt/2),lt=0;lt<=nt;lt++)v0.swap(K,lt,rt-lt)},v0.swap=function(K,rt,nt){if(rt===nt)return null;for(var lt=0;lt<K.getDimension();lt++){var pt=K.getOrdinate(rt,lt);K.setOrdinate(rt,lt,K.getOrdinate(nt,lt)),K.setOrdinate(nt,lt,pt)}},v0.copy=function(K,rt,nt,lt,pt){for(var lo=0;lo<pt;lo++)v0.copyCoord(K,rt+lo,nt,lt+lo)},v0.toString=function(){if(arguments.length===1){var K=arguments[0],rt=K.size();if(rt===0)return"()";var nt=K.getDimension(),lt=new F1;lt.append("(");for(var pt=0;pt<rt;pt++){pt>0&&lt.append(" ");for(var lo=0;lo<nt;lo++)lo>0&&lt.append(","),lt.append(Qb.toString(K.getOrdinate(pt,lo)))}return lt.append(")"),lt.toString()}},v0.ensureValidRing=function(K,rt){var nt=rt.size();return nt===0?rt:nt<=3?v0.createClosedRing(K,rt,4):rt.getOrdinate(0,yv.X)===rt.getOrdinate(nt-1,yv.X)&&rt.getOrdinate(0,yv.Y)===rt.getOrdinate(nt-1,yv.Y)?rt:v0.createClosedRing(K,rt,nt+1)},v0.createClosedRing=function(K,rt,nt){var lt=K.create(nt,rt.getDimension()),pt=rt.size();v0.copy(rt,0,lt,0,pt);for(var lo=pt;lo<nt;lo++)v0.copy(rt,0,lt,lo,1);return lt};var t0=function(K){function rt(lt,pt){K.call(this,pt),this._points=null,this.init(lt)}K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt;var nt={serialVersionUID:{configurable:!0}};return rt.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new am:this._points.expandEnvelope(new am)},rt.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},rt.prototype.getSortIndex=function(){return K.SORTINDEX_LINESTRING},rt.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},rt.prototype.equalsExact=function(){var lt=this;if(arguments.length===2){var pt=arguments[0],lo=arguments[1];if(!this.isEquivalentClass(pt))return!1;var vo=pt;if(this._points.size()!==vo._points.size())return!1;for(var vf=0;vf<this._points.size();vf++)if(!lt.equal(lt._points.getCoordinate(vf),vo._points.getCoordinate(vf),lo))return!1;return!0}return K.prototype.equalsExact.apply(this,arguments)},rt.prototype.normalize=function(){for(var lt=this,pt=0;pt<Math.trunc(this._points.size()/2);pt++){var lo=lt._points.size()-1-pt;if(!lt._points.getCoordinate(pt).equals(lt._points.getCoordinate(lo)))return lt._points.getCoordinate(pt).compareTo(lt._points.getCoordinate(lo))>0&&v0.reverse(lt._points),null}},rt.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},rt.prototype.getBoundaryDimension=function(){return this.isClosed()?wv.FALSE:0},rt.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},rt.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},rt.prototype.getDimension=function(){return 1},rt.prototype.getLength=function(){return jg.computeLength(this._points)},rt.prototype.getNumPoints=function(){return this._points.size()},rt.prototype.reverse=function(){var lt=this._points.copy();return v0.reverse(lt),this.getFactory().createLineString(lt)},rt.prototype.compareToSameClass=function(){var lt=this;if(arguments.length===1){for(var pt=arguments[0],lo=pt,vo=0,vf=0;vo<this._points.size()&&vf<lo._points.size();){var Cf=lt._points.getCoordinate(vo).compareTo(lo._points.getCoordinate(vf));if(Cf!==0)return Cf;vo++,vf++}return vo<this._points.size()?1:vf<lo._points.size()?-1:0}if(arguments.length===2){var Tf=arguments[0],Rf=arguments[1],Of=Tf;return Rf.compare(this._points,Of._points)}},rt.prototype.apply=function(){var lt=this;if(vm(arguments[0],bw))for(var pt=arguments[0],lo=0;lo<this._points.size();lo++)pt.filter(lt._points.getCoordinate(lo));else if(vm(arguments[0],m1)){var vo=arguments[0];if(this._points.size()===0)return null;for(var vf=0;vf<this._points.size()&&(vo.filter(lt._points,vf),!vo.isDone());vf++);vo.isGeometryChanged()&&this.geometryChanged()}else if(vm(arguments[0],V1)){var Cf=arguments[0];Cf.filter(this)}else if(vm(arguments[0],vw)){var Tf=arguments[0];Tf.filter(this)}},rt.prototype.getBoundary=function(){return new Jy(this).getBoundary()},rt.prototype.isEquivalentClass=function(lt){return lt instanceof rt},rt.prototype.clone=function(){var lt=K.prototype.clone.call(this);return lt._points=this._points.clone(),lt},rt.prototype.getCoordinateN=function(lt){return this._points.getCoordinate(lt)},rt.prototype.getGeometryType=function(){return"LineString"},rt.prototype.copy=function(){return new rt(this._points.copy(),this._factory)},rt.prototype.getCoordinateSequence=function(){return this._points},rt.prototype.isEmpty=function(){return this._points.size()===0},rt.prototype.init=function(lt){if(lt===null&&(lt=this.getFactory().getCoordinateSequenceFactory().create([])),lt.size()===1)throw new e0("Invalid number of points in LineString (found "+lt.size()+" - must be 0 or >= 2)");this._points=lt},rt.prototype.isCoordinate=function(lt){for(var pt=0;pt<this._points.size();pt++)if(this._points.getCoordinate(pt).equals(lt))return!0;return!1},rt.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},rt.prototype.getPointN=function(lt){return this.getFactory().createPoint(this._points.getCoordinate(lt))},rt.prototype.interfaces_=function(){return[qE]},rt.prototype.getClass=function(){return rt},nt.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(rt,nt),rt}(mm),v1=function(){};v1.prototype.interfaces_=function(){return[]},v1.prototype.getClass=function(){return v1};var vb=function(K){function rt(lt,pt){K.call(this,pt),this._coordinates=lt||null,this.init(this._coordinates)}K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt;var nt={serialVersionUID:{configurable:!0}};return rt.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new am;var lt=new am;return lt.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),lt},rt.prototype.getSortIndex=function(){return K.SORTINDEX_POINT},rt.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},rt.prototype.equalsExact=function(){if(arguments.length===2){var lt=arguments[0],pt=arguments[1];return!!this.isEquivalentClass(lt)&&(!(!this.isEmpty()||!lt.isEmpty())||this.isEmpty()===lt.isEmpty()&&this.equal(lt.getCoordinate(),this.getCoordinate(),pt))}return K.prototype.equalsExact.apply(this,arguments)},rt.prototype.normalize=function(){},rt.prototype.getCoordinate=function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null},rt.prototype.getBoundaryDimension=function(){return wv.FALSE},rt.prototype.getDimension=function(){return 0},rt.prototype.getNumPoints=function(){return this.isEmpty()?0:1},rt.prototype.reverse=function(){return this.copy()},rt.prototype.getX=function(){if(this.getCoordinate()===null)throw new Error("getX called on empty Point");return this.getCoordinate().x},rt.prototype.compareToSameClass=function(){if(arguments.length===1){var lt=arguments[0],pt=lt;return this.getCoordinate().compareTo(pt.getCoordinate())}if(arguments.length===2){var lo=arguments[0],vo=arguments[1],vf=lo;return vo.compare(this._coordinates,vf._coordinates)}},rt.prototype.apply=function(){if(vm(arguments[0],bw)){var lt=arguments[0];if(this.isEmpty())return null;lt.filter(this.getCoordinate())}else if(vm(arguments[0],m1)){var pt=arguments[0];if(this.isEmpty())return null;pt.filter(this._coordinates,0),pt.isGeometryChanged()&&this.geometryChanged()}else if(vm(arguments[0],V1)){var lo=arguments[0];lo.filter(this)}else if(vm(arguments[0],vw)){var vo=arguments[0];vo.filter(this)}},rt.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},rt.prototype.clone=function(){var lt=K.prototype.clone.call(this);return lt._coordinates=this._coordinates.clone(),lt},rt.prototype.getGeometryType=function(){return"Point"},rt.prototype.copy=function(){return new rt(this._coordinates.copy(),this._factory)},rt.prototype.getCoordinateSequence=function(){return this._coordinates},rt.prototype.getY=function(){if(this.getCoordinate()===null)throw new Error("getY called on empty Point");return this.getCoordinate().y},rt.prototype.isEmpty=function(){return this._coordinates.size()===0},rt.prototype.init=function(lt){lt===null&&(lt=this.getFactory().getCoordinateSequenceFactory().create([])),Im.isTrue(lt.size()<=1),this._coordinates=lt},rt.prototype.isSimple=function(){return!0},rt.prototype.interfaces_=function(){return[v1]},rt.prototype.getClass=function(){return rt},nt.serialVersionUID.get=function(){return 4902022702746615e3},Object.defineProperties(rt,nt),rt}(mm),R_=function(){};R_.prototype.interfaces_=function(){return[]},R_.prototype.getClass=function(){return R_};var F0=function(K){function rt(lt,pt,lo){if(K.call(this,lo),this._shell=null,this._holes=null,lt===null&&(lt=this.getFactory().createLinearRing()),pt===null&&(pt=[]),K.hasNullElements(pt))throw new e0("holes must not contain null elements");if(lt.isEmpty()&&K.hasNonEmptyElements(pt))throw new e0("shell is empty but holes are not");this._shell=lt,this._holes=pt}K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt;var nt={serialVersionUID:{configurable:!0}};return rt.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},rt.prototype.getSortIndex=function(){return K.SORTINDEX_POLYGON},rt.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var lt=new Array(this.getNumPoints()).fill(null),pt=-1,lo=this._shell.getCoordinates(),vo=0;vo<lo.length;vo++)lt[++pt]=lo[vo];for(var vf=0;vf<this._holes.length;vf++)for(var Cf=this._holes[vf].getCoordinates(),Tf=0;Tf<Cf.length;Tf++)lt[++pt]=Cf[Tf];return lt},rt.prototype.getArea=function(){var lt=0;lt+=Math.abs(jg.signedArea(this._shell.getCoordinateSequence()));for(var pt=0;pt<this._holes.length;pt++)lt-=Math.abs(jg.signedArea(this._holes[pt].getCoordinateSequence()));return lt},rt.prototype.isRectangle=function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var lt=this._shell.getCoordinateSequence(),pt=this.getEnvelopeInternal(),lo=0;lo<5;lo++){var vo=lt.getX(lo);if(vo!==pt.getMinX()&&vo!==pt.getMaxX())return!1;var vf=lt.getY(lo);if(vf!==pt.getMinY()&&vf!==pt.getMaxY())return!1}for(var Cf=lt.getX(0),Tf=lt.getY(0),Rf=1;Rf<=4;Rf++){var Of=lt.getX(Rf),Bf=lt.getY(Rf);if(Of!==Cf==(Bf!==Tf))return!1;Cf=Of,Tf=Bf}return!0},rt.prototype.equalsExact=function(){var lt=this;if(arguments.length===2){var pt=arguments[0],lo=arguments[1];if(!this.isEquivalentClass(pt))return!1;var vo=pt,vf=this._shell,Cf=vo._shell;if(!vf.equalsExact(Cf,lo)||this._holes.length!==vo._holes.length)return!1;for(var Tf=0;Tf<this._holes.length;Tf++)if(!lt._holes[Tf].equalsExact(vo._holes[Tf],lo))return!1;return!0}return K.prototype.equalsExact.apply(this,arguments)},rt.prototype.normalize=function(){var lt=this;if(arguments.length===0){this.normalize(this._shell,!0);for(var pt=0;pt<this._holes.length;pt++)lt.normalize(lt._holes[pt],!1);_w.sort(this._holes)}else if(arguments.length===2){var lo=arguments[0],vo=arguments[1];if(lo.isEmpty())return null;var vf=new Array(lo.getCoordinates().length-1).fill(null);my.arraycopy(lo.getCoordinates(),0,vf,0,vf.length);var Cf=qm.minCoordinate(lo.getCoordinates());qm.scroll(vf,Cf),my.arraycopy(vf,0,lo.getCoordinates(),0,vf.length),lo.getCoordinates()[vf.length]=vf[0],jg.isCCW(lo.getCoordinates())===vo&&qm.reverse(lo.getCoordinates())}},rt.prototype.getCoordinate=function(){return this._shell.getCoordinate()},rt.prototype.getNumInteriorRing=function(){return this._holes.length},rt.prototype.getBoundaryDimension=function(){return 1},rt.prototype.getDimension=function(){return 2},rt.prototype.getLength=function(){var lt=0;lt+=this._shell.getLength();for(var pt=0;pt<this._holes.length;pt++)lt+=this._holes[pt].getLength();return lt},rt.prototype.getNumPoints=function(){for(var lt=this._shell.getNumPoints(),pt=0;pt<this._holes.length;pt++)lt+=this._holes[pt].getNumPoints();return lt},rt.prototype.reverse=function(){var lt=this.copy();lt._shell=this._shell.copy().reverse(),lt._holes=new Array(this._holes.length).fill(null);for(var pt=0;pt<this._holes.length;pt++)lt._holes[pt]=this._holes[pt].copy().reverse();return lt},rt.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},rt.prototype.compareToSameClass=function(){var lt=this;if(arguments.length===1){var pt=arguments[0],lo=this._shell,vo=pt._shell;return lo.compareToSameClass(vo)}if(arguments.length===2){var vf=arguments[0],Cf=arguments[1],Tf=vf,Rf=this._shell,Of=Tf._shell,Bf=Rf.compareToSameClass(Of,Cf);if(Bf!==0)return Bf;for(var Gf=this.getNumInteriorRing(),qf=Tf.getNumInteriorRing(),Kf=0;Kf<Gf&&Kf<qf;){var Uf=lt.getInteriorRingN(Kf),lp=Tf.getInteriorRingN(Kf),xp=Uf.compareToSameClass(lp,Cf);if(xp!==0)return xp;Kf++}return Kf<Gf?1:Kf<qf?-1:0}},rt.prototype.apply=function(lt){var pt=this;if(vm(lt,bw)){this._shell.apply(lt);for(var lo=0;lo<this._holes.length;lo++)pt._holes[lo].apply(lt)}else if(vm(lt,m1)){if(this._shell.apply(lt),!lt.isDone())for(var vo=0;vo<this._holes.length&&(pt._holes[vo].apply(lt),!lt.isDone());vo++);lt.isGeometryChanged()&&this.geometryChanged()}else if(vm(lt,V1))lt.filter(this);else if(vm(lt,vw)){lt.filter(this),this._shell.apply(lt);for(var vf=0;vf<this._holes.length;vf++)pt._holes[vf].apply(lt)}},rt.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var lt=new Array(this._holes.length+1).fill(null);lt[0]=this._shell;for(var pt=0;pt<this._holes.length;pt++)lt[pt+1]=this._holes[pt];return lt.length<=1?this.getFactory().createLinearRing(lt[0].getCoordinateSequence()):this.getFactory().createMultiLineString(lt)},rt.prototype.clone=function(){var lt=K.prototype.clone.call(this);lt._shell=this._shell.clone(),lt._holes=new Array(this._holes.length).fill(null);for(var pt=0;pt<this._holes.length;pt++)lt._holes[pt]=this._holes[pt].clone();return lt},rt.prototype.getGeometryType=function(){return"Polygon"},rt.prototype.copy=function(){for(var lt=this._shell.copy(),pt=new Array(this._holes.length).fill(null),lo=0;lo<pt.length;lo++)pt[lo]=this._holes[lo].copy();return new rt(lt,pt,this._factory)},rt.prototype.getExteriorRing=function(){return this._shell},rt.prototype.isEmpty=function(){return this._shell.isEmpty()},rt.prototype.getInteriorRingN=function(lt){return this._holes[lt]},rt.prototype.interfaces_=function(){return[R_]},rt.prototype.getClass=function(){return rt},nt.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(rt,nt),rt}(mm),ZE=function(K){function rt(){K.apply(this,arguments)}K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt;var nt={serialVersionUID:{configurable:!0}};return rt.prototype.getSortIndex=function(){return mm.SORTINDEX_MULTIPOINT},rt.prototype.isValid=function(){return!0},rt.prototype.equalsExact=function(){if(arguments.length===2){var lt=arguments[0],pt=arguments[1];return!!this.isEquivalentClass(lt)&&K.prototype.equalsExact.call(this,lt,pt)}return K.prototype.equalsExact.apply(this,arguments)},rt.prototype.getCoordinate=function(){if(arguments.length===1){var lt=arguments[0];return this._geometries[lt].getCoordinate()}return K.prototype.getCoordinate.apply(this,arguments)},rt.prototype.getBoundaryDimension=function(){return wv.FALSE},rt.prototype.getDimension=function(){return 0},rt.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},rt.prototype.getGeometryType=function(){return"MultiPoint"},rt.prototype.copy=function(){for(var lt=new Array(this._geometries.length).fill(null),pt=0;pt<lt.length;pt++)lt[pt]=this._geometries[pt].copy();return new rt(lt,this._factory)},rt.prototype.interfaces_=function(){return[v1]},rt.prototype.getClass=function(){return rt},nt.serialVersionUID.get=function(){return-8048474874175356e3},Object.defineProperties(rt,nt),rt}(zy),xw=function(K){function rt(lt,pt){lt instanceof ng&&pt instanceof Ym&&(lt=pt.getCoordinateSequenceFactory().create(lt)),K.call(this,lt,pt),this.validateConstruction()}K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt;var nt={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return rt.prototype.getSortIndex=function(){return mm.SORTINDEX_LINEARRING},rt.prototype.getBoundaryDimension=function(){return wv.FALSE},rt.prototype.isClosed=function(){return!!this.isEmpty()||K.prototype.isClosed.call(this)},rt.prototype.reverse=function(){var lt=this._points.copy();return v0.reverse(lt),this.getFactory().createLinearRing(lt)},rt.prototype.validateConstruction=function(){if(!this.isEmpty()&&!K.prototype.isClosed.call(this))throw new e0("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<rt.MINIMUM_VALID_SIZE)throw new e0("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},rt.prototype.getGeometryType=function(){return"LinearRing"},rt.prototype.copy=function(){return new rt(this._points.copy(),this._factory)},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},nt.MINIMUM_VALID_SIZE.get=function(){return 4},nt.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(rt,nt),rt}(t0),Ew=function(K){function rt(){K.apply(this,arguments)}K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt;var nt={serialVersionUID:{configurable:!0}};return rt.prototype.getSortIndex=function(){return mm.SORTINDEX_MULTIPOLYGON},rt.prototype.equalsExact=function(){if(arguments.length===2){var lt=arguments[0],pt=arguments[1];return!!this.isEquivalentClass(lt)&&K.prototype.equalsExact.call(this,lt,pt)}return K.prototype.equalsExact.apply(this,arguments)},rt.prototype.getBoundaryDimension=function(){return 1},rt.prototype.getDimension=function(){return 2},rt.prototype.reverse=function(){for(var lt=this._geometries.length,pt=new Array(lt).fill(null),lo=0;lo<this._geometries.length;lo++)pt[lo]=this._geometries[lo].reverse();return this.getFactory().createMultiPolygon(pt)},rt.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var lt=new $g,pt=0;pt<this._geometries.length;pt++)for(var lo=this._geometries[pt].getBoundary(),vo=0;vo<lo.getNumGeometries();vo++)lt.add(lo.getGeometryN(vo));var vf=new Array(lt.size()).fill(null);return this.getFactory().createMultiLineString(lt.toArray(vf))},rt.prototype.getGeometryType=function(){return"MultiPolygon"},rt.prototype.copy=function(){for(var lt=new Array(this._geometries.length).fill(null),pt=0;pt<lt.length;pt++)lt[pt]=this._geometries[pt].copy();return new rt(lt,this._factory)},rt.prototype.interfaces_=function(){return[R_]},rt.prototype.getClass=function(){return rt},nt.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(rt,nt),rt}(zy),e1=function(K){this._factory=K||null,this._isUserDataCopied=!1},VC={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};e1.prototype.setCopyUserData=function(K){this._isUserDataCopied=K},e1.prototype.edit=function(K,rt){if(K===null)return null;var nt=this.editInternal(K,rt);return this._isUserDataCopied&&nt.setUserData(K.getUserData()),nt},e1.prototype.editInternal=function(K,rt){return this._factory===null&&(this._factory=K.getFactory()),K instanceof zy?this.editGeometryCollection(K,rt):K instanceof F0?this.editPolygon(K,rt):K instanceof vb||K instanceof t0?rt.edit(K,this._factory):(Im.shouldNeverReachHere("Unsupported Geometry class: "+K.getClass().getName()),null)},e1.prototype.editGeometryCollection=function(K,rt){for(var nt=rt.edit(K,this._factory),lt=new $g,pt=0;pt<nt.getNumGeometries();pt++){var lo=this.edit(nt.getGeometryN(pt),rt);lo===null||lo.isEmpty()||lt.add(lo)}return nt.getClass()===ZE?this._factory.createMultiPoint(lt.toArray([])):nt.getClass()===L_?this._factory.createMultiLineString(lt.toArray([])):nt.getClass()===Ew?this._factory.createMultiPolygon(lt.toArray([])):this._factory.createGeometryCollection(lt.toArray([]))},e1.prototype.editPolygon=function(K,rt){var nt=rt.edit(K,this._factory);if(nt===null&&(nt=this._factory.createPolygon(null)),nt.isEmpty())return nt;var lt=this.edit(nt.getExteriorRing(),rt);if(lt===null||lt.isEmpty())return this._factory.createPolygon();for(var pt=new $g,lo=0;lo<nt.getNumInteriorRing();lo++){var vo=this.edit(nt.getInteriorRingN(lo),rt);vo===null||vo.isEmpty()||pt.add(vo)}return this._factory.createPolygon(lt,pt.toArray([]))},e1.prototype.interfaces_=function(){return[]},e1.prototype.getClass=function(){return e1},e1.GeometryEditorOperation=function(){},VC.NoOpGeometryOperation.get=function(){return Gk},VC.CoordinateOperation.get=function(){return qk},VC.CoordinateSequenceOperation.get=function(){return Yk},Object.defineProperties(e1,VC);var Gk=function(){};Gk.prototype.edit=function(K,rt){return K},Gk.prototype.interfaces_=function(){return[e1.GeometryEditorOperation]},Gk.prototype.getClass=function(){return Gk};var qk=function(){};qk.prototype.edit=function(K,rt){var nt=this.editCoordinates(K.getCoordinates(),K);return nt===null?K:K instanceof xw?rt.createLinearRing(nt):K instanceof t0?rt.createLineString(nt):K instanceof vb?nt.length>0?rt.createPoint(nt[0]):rt.createPoint():K},qk.prototype.interfaces_=function(){return[e1.GeometryEditorOperation]},qk.prototype.getClass=function(){return qk};var Yk=function(){};Yk.prototype.edit=function(K,rt){return K instanceof xw?rt.createLinearRing(this.edit(K.getCoordinateSequence(),K)):K instanceof t0?rt.createLineString(this.edit(K.getCoordinateSequence(),K)):K instanceof vb?rt.createPoint(this.edit(K.getCoordinateSequence(),K)):K},Yk.prototype.interfaces_=function(){return[e1.GeometryEditorOperation]},Yk.prototype.getClass=function(){return Yk};var y0=function(){var K=this;if(this._dimension=3,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var rt=arguments[0];this._coordinates=new Array(rt).fill(null);for(var nt=0;nt<rt;nt++)K._coordinates[nt]=new ng}else if(vm(arguments[0],yv)){var lt=arguments[0];if(lt===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=lt.getDimension(),this._coordinates=new Array(lt.size()).fill(null);for(var pt=0;pt<this._coordinates.length;pt++)K._coordinates[pt]=lt.getCoordinateCopy(pt)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var lo=arguments[0],vo=arguments[1];this._coordinates=lo,this._dimension=vo,lo===null&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var vf=arguments[0],Cf=arguments[1];this._coordinates=new Array(vf).fill(null),this._dimension=Cf;for(var Tf=0;Tf<vf;Tf++)K._coordinates[Tf]=new ng}}},VT={serialVersionUID:{configurable:!0}};y0.prototype.setOrdinate=function(K,rt,nt){switch(rt){case yv.X:this._coordinates[K].x=nt;break;case yv.Y:this._coordinates[K].y=nt;break;case yv.Z:this._coordinates[K].z=nt;break;default:throw new e0("invalid ordinateIndex")}},y0.prototype.size=function(){return this._coordinates.length},y0.prototype.getOrdinate=function(K,rt){switch(rt){case yv.X:return this._coordinates[K].x;case yv.Y:return this._coordinates[K].y;case yv.Z:return this._coordinates[K].z}return Sm.NaN},y0.prototype.getCoordinate=function(){if(arguments.length===1){var K=arguments[0];return this._coordinates[K]}if(arguments.length===2){var rt=arguments[0],nt=arguments[1];nt.x=this._coordinates[rt].x,nt.y=this._coordinates[rt].y,nt.z=this._coordinates[rt].z}},y0.prototype.getCoordinateCopy=function(K){return new ng(this._coordinates[K])},y0.prototype.getDimension=function(){return this._dimension},y0.prototype.getX=function(K){return this._coordinates[K].x},y0.prototype.clone=function(){for(var K=new Array(this.size()).fill(null),rt=0;rt<this._coordinates.length;rt++)K[rt]=this._coordinates[rt].clone();return new y0(K,this._dimension)},y0.prototype.expandEnvelope=function(K){for(var rt=0;rt<this._coordinates.length;rt++)K.expandToInclude(this._coordinates[rt]);return K},y0.prototype.copy=function(){for(var K=new Array(this.size()).fill(null),rt=0;rt<this._coordinates.length;rt++)K[rt]=this._coordinates[rt].copy();return new y0(K,this._dimension)},y0.prototype.toString=function(){if(this._coordinates.length>0){var K=new F1(17*this._coordinates.length);K.append("("),K.append(this._coordinates[0]);for(var rt=1;rt<this._coordinates.length;rt++)K.append(", "),K.append(this._coordinates[rt]);return K.append(")"),K.toString()}return"()"},y0.prototype.getY=function(K){return this._coordinates[K].y},y0.prototype.toCoordinateArray=function(){return this._coordinates},y0.prototype.interfaces_=function(){return[yv,Zb]},y0.prototype.getClass=function(){return y0},VT.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(y0,VT);var kw=function(){},e2={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};kw.prototype.readResolve=function(){return kw.instance()},kw.prototype.create=function(){if(arguments.length===1){if(arguments[0]instanceof Array){var K=arguments[0];return new y0(K)}if(vm(arguments[0],yv)){var rt=arguments[0];return new y0(rt)}}else if(arguments.length===2){var nt=arguments[0],lt=arguments[1];return lt>3&&(lt=3),lt<2?new y0(nt):new y0(nt,lt)}},kw.prototype.interfaces_=function(){return[zE,Zb]},kw.prototype.getClass=function(){return kw},kw.instance=function(){return kw.instanceObject},e2.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},e2.instanceObject.get=function(){return new kw},Object.defineProperties(kw,e2);var UT=function(K){function rt(){K.call(this),this.map_=new Map}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.get=function(nt){return this.map_.get(nt)||null},rt.prototype.put=function(nt,lt){return this.map_.set(nt,lt),lt},rt.prototype.values=function(){for(var nt=new $g,lt=this.map_.values(),pt=lt.next();!pt.done;)nt.add(pt.value),pt=lt.next();return nt},rt.prototype.entrySet=function(){var nt=new jC;return this.map_.entries().forEach(function(lt){return nt.add(lt)}),nt},rt.prototype.size=function(){return this.map_.size()},rt}(rE),Cv=function K(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=K.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof y1){var rt=arguments[0];this._modelType=rt,rt===K.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var nt=arguments[0];this._modelType=K.FIXED,this.setScale(nt)}else if(arguments[0]instanceof K){var lt=arguments[0];this._modelType=lt._modelType,this._scale=lt._scale}}},t2={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};Cv.prototype.equals=function(K){if(!(K instanceof Cv))return!1;var rt=K;return this._modelType===rt._modelType&&this._scale===rt._scale},Cv.prototype.compareTo=function(K){var rt=K,nt=this.getMaximumSignificantDigits(),lt=rt.getMaximumSignificantDigits();return new z1(nt).compareTo(new z1(lt))},Cv.prototype.getScale=function(){return this._scale},Cv.prototype.isFloating=function(){return this._modelType===Cv.FLOATING||this._modelType===Cv.FLOATING_SINGLE},Cv.prototype.getType=function(){return this._modelType},Cv.prototype.toString=function(){var K="UNKNOWN";return this._modelType===Cv.FLOATING?K="Floating":this._modelType===Cv.FLOATING_SINGLE?K="Floating-Single":this._modelType===Cv.FIXED&&(K="Fixed (Scale="+this.getScale()+")"),K},Cv.prototype.makePrecise=function(){if(typeof arguments[0]=="number"){var K=arguments[0];return Sm.isNaN(K)||this._modelType===Cv.FLOATING_SINGLE?K:this._modelType===Cv.FIXED?Math.round(K*this._scale)/this._scale:K}if(arguments[0]instanceof ng){var rt=arguments[0];if(this._modelType===Cv.FLOATING)return null;rt.x=this.makePrecise(rt.x),rt.y=this.makePrecise(rt.y)}},Cv.prototype.getMaximumSignificantDigits=function(){var K=16;return this._modelType===Cv.FLOATING?K=16:this._modelType===Cv.FLOATING_SINGLE?K=6:this._modelType===Cv.FIXED&&(K=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),K},Cv.prototype.setScale=function(K){this._scale=Math.abs(K)},Cv.prototype.interfaces_=function(){return[Zb,Yb]},Cv.prototype.getClass=function(){return Cv},Cv.mostPrecise=function(K,rt){return K.compareTo(rt)>=0?K:rt},t2.serialVersionUID.get=function(){return 7777263578777804e3},t2.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(Cv,t2);var y1=function K(rt){this._name=rt||null,K.nameToTypeMap.put(rt,this)},Zk={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};y1.prototype.readResolve=function(){return y1.nameToTypeMap.get(this._name)},y1.prototype.toString=function(){return this._name},y1.prototype.interfaces_=function(){return[Zb]},y1.prototype.getClass=function(){return y1},Zk.serialVersionUID.get=function(){return-552860263173159e4},Zk.nameToTypeMap.get=function(){return new UT},Object.defineProperties(y1,Zk),Cv.Type=y1,Cv.FIXED=new y1("FIXED"),Cv.FLOATING=new y1("FLOATING"),Cv.FLOATING_SINGLE=new y1("FLOATING SINGLE");var Ym=function K(){this._precisionModel=new Cv,this._SRID=0,this._coordinateSequenceFactory=K.getDefaultCoordinateSequenceFactory(),arguments.length===0||(arguments.length===1?vm(arguments[0],zE)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof Cv&&(this._precisionModel=arguments[0]):arguments.length===2?(this._precisionModel=arguments[0],this._SRID=arguments[1]):arguments.length===3&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},WT={serialVersionUID:{configurable:!0}};Ym.prototype.toGeometry=function(K){return K.isNull()?this.createPoint(null):K.getMinX()===K.getMaxX()&&K.getMinY()===K.getMaxY()?this.createPoint(new ng(K.getMinX(),K.getMinY())):K.getMinX()===K.getMaxX()||K.getMinY()===K.getMaxY()?this.createLineString([new ng(K.getMinX(),K.getMinY()),new ng(K.getMaxX(),K.getMaxY())]):this.createPolygon(this.createLinearRing([new ng(K.getMinX(),K.getMinY()),new ng(K.getMinX(),K.getMaxY()),new ng(K.getMaxX(),K.getMaxY()),new ng(K.getMaxX(),K.getMinY()),new ng(K.getMinX(),K.getMinY())]),null)},Ym.prototype.createLineString=function(K){return K?K instanceof Array?new t0(this.getCoordinateSequenceFactory().create(K),this):vm(K,yv)?new t0(K,this):void 0:new t0(this.getCoordinateSequenceFactory().create([]),this)},Ym.prototype.createMultiLineString=function(){if(arguments.length===0)return new L_(null,this);if(arguments.length===1){var K=arguments[0];return new L_(K,this)}},Ym.prototype.buildGeometry=function(K){for(var rt=null,nt=!1,lt=!1,pt=K.iterator();pt.hasNext();){var lo=pt.next(),vo=lo.getClass();rt===null&&(rt=vo),vo!==rt&&(nt=!0),lo.isGeometryCollectionOrDerived()&&(lt=!0)}if(rt===null)return this.createGeometryCollection();if(nt||lt)return this.createGeometryCollection(Ym.toGeometryArray(K));var vf=K.iterator().next();if(K.size()>1){if(vf instanceof F0)return this.createMultiPolygon(Ym.toPolygonArray(K));if(vf instanceof t0)return this.createMultiLineString(Ym.toLineStringArray(K));if(vf instanceof vb)return this.createMultiPoint(Ym.toPointArray(K));Im.shouldNeverReachHere("Unhandled class: "+vf.getClass().getName())}return vf},Ym.prototype.createMultiPointFromCoords=function(K){return this.createMultiPoint(K!==null?this.getCoordinateSequenceFactory().create(K):null)},Ym.prototype.createPoint=function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof ng){var K=arguments[0];return this.createPoint(K!==null?this.getCoordinateSequenceFactory().create([K]):null)}if(vm(arguments[0],yv)){var rt=arguments[0];return new vb(rt,this)}}},Ym.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},Ym.prototype.createPolygon=function(){if(arguments.length===0)return new F0(null,null,this);if(arguments.length===1){if(vm(arguments[0],yv)){var K=arguments[0];return this.createPolygon(this.createLinearRing(K))}if(arguments[0]instanceof Array){var rt=arguments[0];return this.createPolygon(this.createLinearRing(rt))}if(arguments[0]instanceof xw){var nt=arguments[0];return this.createPolygon(nt,null)}}else if(arguments.length===2){var lt=arguments[0],pt=arguments[1];return new F0(lt,pt,this)}},Ym.prototype.getSRID=function(){return this._SRID},Ym.prototype.createGeometryCollection=function(){if(arguments.length===0)return new zy(null,this);if(arguments.length===1){var K=arguments[0];return new zy(K,this)}},Ym.prototype.createGeometry=function(K){return new e1(this).edit(K,{edit:function(){if(arguments.length===2){var rt=arguments[0];return this._coordinateSequenceFactory.create(rt)}}})},Ym.prototype.getPrecisionModel=function(){return this._precisionModel},Ym.prototype.createLinearRing=function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var K=arguments[0];return this.createLinearRing(K!==null?this.getCoordinateSequenceFactory().create(K):null)}if(vm(arguments[0],yv)){var rt=arguments[0];return new xw(rt,this)}}},Ym.prototype.createMultiPolygon=function(){if(arguments.length===0)return new Ew(null,this);if(arguments.length===1){var K=arguments[0];return new Ew(K,this)}},Ym.prototype.createMultiPoint=function(){var K=this;if(arguments.length===0)return new ZE(null,this);if(arguments.length===1){if(arguments[0]instanceof Array){var rt=arguments[0];return new ZE(rt,this)}if(arguments[0]instanceof Array){var nt=arguments[0];return this.createMultiPoint(nt!==null?this.getCoordinateSequenceFactory().create(nt):null)}if(vm(arguments[0],yv)){var lt=arguments[0];if(lt===null)return this.createMultiPoint(new Array(0).fill(null));for(var pt=new Array(lt.size()).fill(null),lo=0;lo<lt.size();lo++){var vo=K.getCoordinateSequenceFactory().create(1,lt.getDimension());v0.copy(lt,lo,vo,0,1),pt[lo]=K.createPoint(vo)}return this.createMultiPoint(pt)}}},Ym.prototype.interfaces_=function(){return[Zb]},Ym.prototype.getClass=function(){return Ym},Ym.toMultiPolygonArray=function(K){var rt=new Array(K.size()).fill(null);return K.toArray(rt)},Ym.toGeometryArray=function(K){if(K===null)return null;var rt=new Array(K.size()).fill(null);return K.toArray(rt)},Ym.getDefaultCoordinateSequenceFactory=function(){return kw.instance()},Ym.toMultiLineStringArray=function(K){var rt=new Array(K.size()).fill(null);return K.toArray(rt)},Ym.toLineStringArray=function(K){var rt=new Array(K.size()).fill(null);return K.toArray(rt)},Ym.toMultiPointArray=function(K){var rt=new Array(K.size()).fill(null);return K.toArray(rt)},Ym.toLinearRingArray=function(K){var rt=new Array(K.size()).fill(null);return K.toArray(rt)},Ym.toPointArray=function(K){var rt=new Array(K.size()).fill(null);return K.toArray(rt)},Ym.toPolygonArray=function(K){var rt=new Array(K.size()).fill(null);return K.toArray(rt)},Ym.createPointFromInternalCoord=function(K,rt){return rt.getPrecisionModel().makePrecise(K),rt.getFactory().createPoint(K)},WT.serialVersionUID.get=function(){return-6820524753094096e3},Object.defineProperties(Ym,WT);var bO=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],Xk=function(K){this.geometryFactory=K||new Ym};Xk.prototype.read=function(K){var rt,nt=(rt=typeof K=="string"?JSON.parse(K):K).type;if(!U1[nt])throw new Error("Unknown GeoJSON type: "+rt.type);return bO.indexOf(nt)!==-1?U1[nt].apply(this,[rt.coordinates]):nt==="GeometryCollection"?U1[nt].apply(this,[rt.geometries]):U1[nt].apply(this,[rt])},Xk.prototype.write=function(K){var rt=K.getGeometryType();if(!Jw[rt])throw new Error("Geometry is not supported");return Jw[rt].apply(this,[K])};var U1={Feature:function(K){var rt={};for(var nt in K)rt[nt]=K[nt];if(K.geometry){var lt=K.geometry.type;if(!U1[lt])throw new Error("Unknown GeoJSON type: "+K.type);rt.geometry=this.read(K.geometry)}return K.bbox&&(rt.bbox=U1.bbox.apply(this,[K.bbox])),rt},FeatureCollection:function(K){var rt={};if(K.features){rt.features=[];for(var nt=0;nt<K.features.length;++nt)rt.features.push(this.read(K.features[nt]))}return K.bbox&&(rt.bbox=this.parse.bbox.apply(this,[K.bbox])),rt},coordinates:function(K){for(var rt=[],nt=0;nt<K.length;++nt){var lt=K[nt];rt.push(new ng(lt[0],lt[1]))}return rt},bbox:function(K){return this.geometryFactory.createLinearRing([new ng(K[0],K[1]),new ng(K[2],K[1]),new ng(K[2],K[3]),new ng(K[0],K[3]),new ng(K[0],K[1])])},Point:function(K){var rt=new ng(K[0],K[1]);return this.geometryFactory.createPoint(rt)},MultiPoint:function(K){for(var rt=[],nt=0;nt<K.length;++nt)rt.push(U1.Point.apply(this,[K[nt]]));return this.geometryFactory.createMultiPoint(rt)},LineString:function(K){var rt=U1.coordinates.apply(this,[K]);return this.geometryFactory.createLineString(rt)},MultiLineString:function(K){for(var rt=[],nt=0;nt<K.length;++nt)rt.push(U1.LineString.apply(this,[K[nt]]));return this.geometryFactory.createMultiLineString(rt)},Polygon:function(K){for(var rt=U1.coordinates.apply(this,[K[0]]),nt=this.geometryFactory.createLinearRing(rt),lt=[],pt=1;pt<K.length;++pt){var lo=K[pt],vo=U1.coordinates.apply(this,[lo]),vf=this.geometryFactory.createLinearRing(vo);lt.push(vf)}return this.geometryFactory.createPolygon(nt,lt)},MultiPolygon:function(K){for(var rt=[],nt=0;nt<K.length;++nt){var lt=K[nt];rt.push(U1.Polygon.apply(this,[lt]))}return this.geometryFactory.createMultiPolygon(rt)},GeometryCollection:function(K){for(var rt=[],nt=0;nt<K.length;++nt){var lt=K[nt];rt.push(this.read(lt))}return this.geometryFactory.createGeometryCollection(rt)}},Jw={coordinate:function(K){return[K.x,K.y]},Point:function(K){return{type:"Point",coordinates:Jw.coordinate.apply(this,[K.getCoordinate()])}},MultiPoint:function(K){for(var rt=[],nt=0;nt<K._geometries.length;++nt){var lt=K._geometries[nt],pt=Jw.Point.apply(this,[lt]);rt.push(pt.coordinates)}return{type:"MultiPoint",coordinates:rt}},LineString:function(K){for(var rt=[],nt=K.getCoordinates(),lt=0;lt<nt.length;++lt){var pt=nt[lt];rt.push(Jw.coordinate.apply(this,[pt]))}return{type:"LineString",coordinates:rt}},MultiLineString:function(K){for(var rt=[],nt=0;nt<K._geometries.length;++nt){var lt=K._geometries[nt],pt=Jw.LineString.apply(this,[lt]);rt.push(pt.coordinates)}return{type:"MultiLineString",coordinates:rt}},Polygon:function(K){var rt=[],nt=Jw.LineString.apply(this,[K._shell]);rt.push(nt.coordinates);for(var lt=0;lt<K._holes.length;++lt){var pt=K._holes[lt],lo=Jw.LineString.apply(this,[pt]);rt.push(lo.coordinates)}return{type:"Polygon",coordinates:rt}},MultiPolygon:function(K){for(var rt=[],nt=0;nt<K._geometries.length;++nt){var lt=K._geometries[nt],pt=Jw.Polygon.apply(this,[lt]);rt.push(pt.coordinates)}return{type:"MultiPolygon",coordinates:rt}},GeometryCollection:function(K){for(var rt=[],nt=0;nt<K._geometries.length;++nt){var lt=K._geometries[nt],pt=lt.getGeometryType();rt.push(Jw[pt].apply(this,[lt]))}return{type:"GeometryCollection",geometries:rt}}},UC=function(K){this.geometryFactory=K||new Ym,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Xk(this.geometryFactory)};UC.prototype.read=function(K){var rt=this.parser.read(K);return this.precisionModel.getType()===Cv.FIXED&&this.reducePrecision(rt),rt},UC.prototype.reducePrecision=function(K){var rt,nt;if(K.coordinate)this.precisionModel.makePrecise(K.coordinate);else if(K.points)for(rt=0,nt=K.points.length;rt<nt;rt++)this.precisionModel.makePrecise(K.points[rt]);else if(K.geometries)for(rt=0,nt=K.geometries.length;rt<nt;rt++)this.reducePrecision(K.geometries[rt])};var GT=function(){this.parser=new Xk(this.geometryFactory)};GT.prototype.write=function(K){return this.parser.write(K)};var Lg=function(){},Kk={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};function WC(K){this.message=K||""}function W1(){this.array_=[]}Lg.prototype.interfaces_=function(){return[]},Lg.prototype.getClass=function(){return Lg},Lg.opposite=function(K){return K===Lg.LEFT?Lg.RIGHT:K===Lg.RIGHT?Lg.LEFT:K},Kk.ON.get=function(){return 0},Kk.LEFT.get=function(){return 1},Kk.RIGHT.get=function(){return 2},Object.defineProperties(Lg,Kk),WC.prototype=new Error,WC.prototype.name="EmptyStackException",W1.prototype=new p1,W1.prototype.add=function(K){return this.array_.push(K),!0},W1.prototype.get=function(K){if(K<0||K>=this.size())throw new Error;return this.array_[K]},W1.prototype.push=function(K){return this.array_.push(K),K},W1.prototype.pop=function(K){if(this.array_.length===0)throw new WC;return this.array_.pop()},W1.prototype.peek=function(){if(this.array_.length===0)throw new WC;return this.array_[this.array_.length-1]},W1.prototype.empty=function(){return this.array_.length===0},W1.prototype.isEmpty=function(){return this.empty()},W1.prototype.search=function(K){return this.array_.indexOf(K)},W1.prototype.size=function(){return this.array_.length},W1.prototype.toArray=function(){for(var K=[],rt=0,nt=this.array_.length;rt<nt;rt++)K.push(this.array_[rt]);return K};var b1=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};b1.prototype.getCoordinate=function(){return this._minCoord},b1.prototype.getRightmostSide=function(K,rt){var nt=this.getRightmostSideOfSegment(K,rt);return nt<0&&(nt=this.getRightmostSideOfSegment(K,rt-1)),nt<0&&(this._minCoord=null,this.checkForRightmostCoordinate(K)),nt},b1.prototype.findRightmostEdgeAtVertex=function(){var K=this._minDe.getEdge().getCoordinates();Im.isTrue(this._minIndex>0&&this._minIndex<K.length,"rightmost point expected to be interior vertex of edge");var rt=K[this._minIndex-1],nt=K[this._minIndex+1],lt=jg.computeOrientation(this._minCoord,nt,rt),pt=!1;(rt.y<this._minCoord.y&&nt.y<this._minCoord.y&&lt===jg.COUNTERCLOCKWISE||rt.y>this._minCoord.y&&nt.y>this._minCoord.y&&lt===jg.CLOCKWISE)&&(pt=!0),pt&&(this._minIndex=this._minIndex-1)},b1.prototype.getRightmostSideOfSegment=function(K,rt){var nt=K.getEdge().getCoordinates();if(rt<0||rt+1>=nt.length||nt[rt].y===nt[rt+1].y)return-1;var lt=Lg.LEFT;return nt[rt].y<nt[rt+1].y&&(lt=Lg.RIGHT),lt},b1.prototype.getEdge=function(){return this._orientedDe},b1.prototype.checkForRightmostCoordinate=function(K){for(var rt=this,nt=K.getEdge().getCoordinates(),lt=0;lt<nt.length-1;lt++)(rt._minCoord===null||nt[lt].x>rt._minCoord.x)&&(rt._minDe=K,rt._minIndex=lt,rt._minCoord=nt[lt])},b1.prototype.findRightmostEdgeAtNode=function(){var K=this._minDe.getNode().getEdges();this._minDe=K.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},b1.prototype.findEdge=function(K){for(var rt=K.iterator();rt.hasNext();){var nt=rt.next();nt.isForward()&&this.checkForRightmostCoordinate(nt)}Im.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Lg.LEFT&&(this._orientedDe=this._minDe.getSym())},b1.prototype.interfaces_=function(){return[]},b1.prototype.getClass=function(){return b1};var Qw=function(K){function rt(nt,lt){K.call(this,rt.msgWithCoord(nt,lt)),this.pt=lt?new ng(lt):null,this.name="TopologyException"}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.getCoordinate=function(){return this.pt},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt.msgWithCoord=function(nt,lt){return lt?nt:nt+" [ "+lt+" ]"},rt}(Xw),GC=function(){this.array_=[]};GC.prototype.addLast=function(K){this.array_.push(K)},GC.prototype.removeFirst=function(){return this.array_.shift()},GC.prototype.isEmpty=function(){return this.array_.length===0};var Ay=function(){this._finder=null,this._dirEdgeList=new $g,this._nodes=new $g,this._rightMostCoord=null,this._env=null,this._finder=new b1};Ay.prototype.clearVisitedEdges=function(){for(var K=this._dirEdgeList.iterator();K.hasNext();)K.next().setVisited(!1)},Ay.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Ay.prototype.computeNodeDepth=function(K){for(var rt=null,nt=K.getEdges().iterator();nt.hasNext();){var lt=nt.next();if(lt.isVisited()||lt.getSym().isVisited()){rt=lt;break}}if(rt===null)throw new Qw("unable to find edge to compute depths at "+K.getCoordinate());K.getEdges().computeDepths(rt);for(var pt=K.getEdges().iterator();pt.hasNext();){var lo=pt.next();lo.setVisited(!0),this.copySymDepths(lo)}},Ay.prototype.computeDepth=function(K){this.clearVisitedEdges();var rt=this._finder.getEdge();rt.setEdgeDepths(Lg.RIGHT,K),this.copySymDepths(rt),this.computeDepths(rt)},Ay.prototype.create=function(K){this.addReachable(K),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Ay.prototype.findResultEdges=function(){for(var K=this._dirEdgeList.iterator();K.hasNext();){var rt=K.next();rt.getDepth(Lg.RIGHT)>=1&&rt.getDepth(Lg.LEFT)<=0&&!rt.isInteriorAreaEdge()&&rt.setInResult(!0)}},Ay.prototype.computeDepths=function(K){var rt=new jC,nt=new GC,lt=K.getNode();for(nt.addLast(lt),rt.add(lt),K.setVisited(!0);!nt.isEmpty();){var pt=nt.removeFirst();rt.add(pt),this.computeNodeDepth(pt);for(var lo=pt.getEdges().iterator();lo.hasNext();){var vo=lo.next().getSym();if(!vo.isVisited()){var vf=vo.getNode();rt.contains(vf)||(nt.addLast(vf),rt.add(vf))}}}},Ay.prototype.compareTo=function(K){var rt=K;return this._rightMostCoord.x<rt._rightMostCoord.x?-1:this._rightMostCoord.x>rt._rightMostCoord.x?1:0},Ay.prototype.getEnvelope=function(){if(this._env===null){for(var K=new am,rt=this._dirEdgeList.iterator();rt.hasNext();)for(var nt=rt.next().getEdge().getCoordinates(),lt=0;lt<nt.length-1;lt++)K.expandToInclude(nt[lt]);this._env=K}return this._env},Ay.prototype.addReachable=function(K){var rt=new W1;for(rt.add(K);!rt.empty();){var nt=rt.pop();this.add(nt,rt)}},Ay.prototype.copySymDepths=function(K){var rt=K.getSym();rt.setDepth(Lg.LEFT,K.getDepth(Lg.RIGHT)),rt.setDepth(Lg.RIGHT,K.getDepth(Lg.LEFT))},Ay.prototype.add=function(K,rt){K.setVisited(!0),this._nodes.add(K);for(var nt=K.getEdges().iterator();nt.hasNext();){var lt=nt.next();this._dirEdgeList.add(lt);var pt=lt.getSym().getNode();pt.isVisited()||rt.push(pt)}},Ay.prototype.getNodes=function(){return this._nodes},Ay.prototype.getDirectedEdges=function(){return this._dirEdgeList},Ay.prototype.interfaces_=function(){return[Yb]},Ay.prototype.getClass=function(){return Ay};var Fv=function K(){var rt=this;if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var nt=arguments[0];this.init(nt.length)}else if(Number.isInteger(arguments[0])){var lt=arguments[0];this.init(1),this.location[Lg.ON]=lt}else if(arguments[0]instanceof K){var pt=arguments[0];if(this.init(pt.location.length),pt!==null)for(var lo=0;lo<this.location.length;lo++)rt.location[lo]=pt.location[lo]}}else if(arguments.length===3){var vo=arguments[0],vf=arguments[1],Cf=arguments[2];this.init(3),this.location[Lg.ON]=vo,this.location[Lg.LEFT]=vf,this.location[Lg.RIGHT]=Cf}};Fv.prototype.setAllLocations=function(K){for(var rt=0;rt<this.location.length;rt++)this.location[rt]=K},Fv.prototype.isNull=function(){for(var K=0;K<this.location.length;K++)if(this.location[K]!==dg.NONE)return!1;return!0},Fv.prototype.setAllLocationsIfNull=function(K){for(var rt=0;rt<this.location.length;rt++)this.location[rt]===dg.NONE&&(this.location[rt]=K)},Fv.prototype.isLine=function(){return this.location.length===1},Fv.prototype.merge=function(K){if(K.location.length>this.location.length){var rt=new Array(3).fill(null);rt[Lg.ON]=this.location[Lg.ON],rt[Lg.LEFT]=dg.NONE,rt[Lg.RIGHT]=dg.NONE,this.location=rt}for(var nt=0;nt<this.location.length;nt++)this.location[nt]===dg.NONE&&nt<K.location.length&&(this.location[nt]=K.location[nt])},Fv.prototype.getLocations=function(){return this.location},Fv.prototype.flip=function(){if(this.location.length<=1)return null;var K=this.location[Lg.LEFT];this.location[Lg.LEFT]=this.location[Lg.RIGHT],this.location[Lg.RIGHT]=K},Fv.prototype.toString=function(){var K=new F1;return this.location.length>1&&K.append(dg.toLocationSymbol(this.location[Lg.LEFT])),K.append(dg.toLocationSymbol(this.location[Lg.ON])),this.location.length>1&&K.append(dg.toLocationSymbol(this.location[Lg.RIGHT])),K.toString()},Fv.prototype.setLocations=function(K,rt,nt){this.location[Lg.ON]=K,this.location[Lg.LEFT]=rt,this.location[Lg.RIGHT]=nt},Fv.prototype.get=function(K){return K<this.location.length?this.location[K]:dg.NONE},Fv.prototype.isArea=function(){return this.location.length>1},Fv.prototype.isAnyNull=function(){for(var K=0;K<this.location.length;K++)if(this.location[K]===dg.NONE)return!0;return!1},Fv.prototype.setLocation=function(){if(arguments.length===1){var K=arguments[0];this.setLocation(Lg.ON,K)}else if(arguments.length===2){var rt=arguments[0],nt=arguments[1];this.location[rt]=nt}},Fv.prototype.init=function(K){this.location=new Array(K).fill(null),this.setAllLocations(dg.NONE)},Fv.prototype.isEqualOnSide=function(K,rt){return this.location[rt]===K.location[rt]},Fv.prototype.allPositionsEqual=function(K){for(var rt=0;rt<this.location.length;rt++)if(this.location[rt]!==K)return!1;return!0},Fv.prototype.interfaces_=function(){return[]},Fv.prototype.getClass=function(){return Fv};var Pv=function K(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var rt=arguments[0];this.elt[0]=new Fv(rt),this.elt[1]=new Fv(rt)}else if(arguments[0]instanceof K){var nt=arguments[0];this.elt[0]=new Fv(nt.elt[0]),this.elt[1]=new Fv(nt.elt[1])}}else if(arguments.length===2){var lt=arguments[0],pt=arguments[1];this.elt[0]=new Fv(dg.NONE),this.elt[1]=new Fv(dg.NONE),this.elt[lt].setLocation(pt)}else if(arguments.length===3){var lo=arguments[0],vo=arguments[1],vf=arguments[2];this.elt[0]=new Fv(lo,vo,vf),this.elt[1]=new Fv(lo,vo,vf)}else if(arguments.length===4){var Cf=arguments[0],Tf=arguments[1],Rf=arguments[2],Of=arguments[3];this.elt[0]=new Fv(dg.NONE,dg.NONE,dg.NONE),this.elt[1]=new Fv(dg.NONE,dg.NONE,dg.NONE),this.elt[Cf].setLocations(Tf,Rf,Of)}};Pv.prototype.getGeometryCount=function(){var K=0;return this.elt[0].isNull()||K++,this.elt[1].isNull()||K++,K},Pv.prototype.setAllLocations=function(K,rt){this.elt[K].setAllLocations(rt)},Pv.prototype.isNull=function(K){return this.elt[K].isNull()},Pv.prototype.setAllLocationsIfNull=function(){if(arguments.length===1){var K=arguments[0];this.setAllLocationsIfNull(0,K),this.setAllLocationsIfNull(1,K)}else if(arguments.length===2){var rt=arguments[0],nt=arguments[1];this.elt[rt].setAllLocationsIfNull(nt)}},Pv.prototype.isLine=function(K){return this.elt[K].isLine()},Pv.prototype.merge=function(K){for(var rt=this,nt=0;nt<2;nt++)rt.elt[nt]===null&&K.elt[nt]!==null?rt.elt[nt]=new Fv(K.elt[nt]):rt.elt[nt].merge(K.elt[nt])},Pv.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},Pv.prototype.getLocation=function(){if(arguments.length===1){var K=arguments[0];return this.elt[K].get(Lg.ON)}if(arguments.length===2){var rt=arguments[0],nt=arguments[1];return this.elt[rt].get(nt)}},Pv.prototype.toString=function(){var K=new F1;return this.elt[0]!==null&&(K.append("A:"),K.append(this.elt[0].toString())),this.elt[1]!==null&&(K.append(" B:"),K.append(this.elt[1].toString())),K.toString()},Pv.prototype.isArea=function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var K=arguments[0];return this.elt[K].isArea()}},Pv.prototype.isAnyNull=function(K){return this.elt[K].isAnyNull()},Pv.prototype.setLocation=function(){if(arguments.length===2){var K=arguments[0],rt=arguments[1];this.elt[K].setLocation(Lg.ON,rt)}else if(arguments.length===3){var nt=arguments[0],lt=arguments[1],pt=arguments[2];this.elt[nt].setLocation(lt,pt)}},Pv.prototype.isEqualOnSide=function(K,rt){return this.elt[0].isEqualOnSide(K.elt[0],rt)&&this.elt[1].isEqualOnSide(K.elt[1],rt)},Pv.prototype.allPositionsEqual=function(K,rt){return this.elt[K].allPositionsEqual(rt)},Pv.prototype.toLine=function(K){this.elt[K].isArea()&&(this.elt[K]=new Fv(this.elt[K].location[0]))},Pv.prototype.interfaces_=function(){return[]},Pv.prototype.getClass=function(){return Pv},Pv.toLineLabel=function(K){for(var rt=new Pv(dg.NONE),nt=0;nt<2;nt++)rt.setLocation(nt,K.getLocation(nt));return rt};var b0=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new $g,this._pts=new $g,this._label=new Pv(dg.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new $g,this._geometryFactory=null;var K=arguments[0],rt=arguments[1];this._geometryFactory=rt,this.computePoints(K),this.computeRing()};b0.prototype.computeRing=function(){if(this._ring!==null)return null;for(var K=new Array(this._pts.size()).fill(null),rt=0;rt<this._pts.size();rt++)K[rt]=this._pts.get(rt);this._ring=this._geometryFactory.createLinearRing(K),this._isHole=jg.isCCW(this._ring.getCoordinates())},b0.prototype.isIsolated=function(){return this._label.getGeometryCount()===1},b0.prototype.computePoints=function(K){var rt=this;this._startDe=K;var nt=K,lt=!0;do{if(nt===null)throw new Qw("Found null DirectedEdge");if(nt.getEdgeRing()===rt)throw new Qw("Directed Edge visited twice during ring-building at "+nt.getCoordinate());rt._edges.add(nt);var pt=nt.getLabel();Im.isTrue(pt.isArea()),rt.mergeLabel(pt),rt.addPoints(nt.getEdge(),nt.isForward(),lt),lt=!1,rt.setEdgeRing(nt,rt),nt=rt.getNext(nt)}while(nt!==this._startDe)},b0.prototype.getLinearRing=function(){return this._ring},b0.prototype.getCoordinate=function(K){return this._pts.get(K)},b0.prototype.computeMaxNodeDegree=function(){var K=this;this._maxNodeDegree=0;var rt=this._startDe;do{var nt=rt.getNode().getEdges().getOutgoingDegree(K);nt>K._maxNodeDegree&&(K._maxNodeDegree=nt),rt=K.getNext(rt)}while(rt!==this._startDe);this._maxNodeDegree*=2},b0.prototype.addPoints=function(K,rt,nt){var lt=K.getCoordinates();if(rt){var pt=1;nt&&(pt=0);for(var lo=pt;lo<lt.length;lo++)this._pts.add(lt[lo])}else{var vo=lt.length-2;nt&&(vo=lt.length-1);for(var vf=vo;vf>=0;vf--)this._pts.add(lt[vf])}},b0.prototype.isHole=function(){return this._isHole},b0.prototype.setInResult=function(){var K=this._startDe;do K.getEdge().setInResult(!0),K=K.getNext();while(K!==this._startDe)},b0.prototype.containsPoint=function(K){var rt=this.getLinearRing();if(!rt.getEnvelopeInternal().contains(K)||!jg.isPointInRing(K,rt.getCoordinates()))return!1;for(var nt=this._holes.iterator();nt.hasNext();)if(nt.next().containsPoint(K))return!1;return!0},b0.prototype.addHole=function(K){this._holes.add(K)},b0.prototype.isShell=function(){return this._shell===null},b0.prototype.getLabel=function(){return this._label},b0.prototype.getEdges=function(){return this._edges},b0.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},b0.prototype.getShell=function(){return this._shell},b0.prototype.mergeLabel=function(){if(arguments.length===1){var K=arguments[0];this.mergeLabel(K,0),this.mergeLabel(K,1)}else if(arguments.length===2){var rt=arguments[0],nt=arguments[1],lt=rt.getLocation(nt,Lg.RIGHT);if(lt===dg.NONE)return null;if(this._label.getLocation(nt)===dg.NONE)return this._label.setLocation(nt,lt),null}},b0.prototype.setShell=function(K){this._shell=K,K!==null&&K.addHole(this)},b0.prototype.toPolygon=function(K){for(var rt=new Array(this._holes.size()).fill(null),nt=0;nt<this._holes.size();nt++)rt[nt]=this._holes.get(nt).getLinearRing();return K.createPolygon(this.getLinearRing(),rt)},b0.prototype.interfaces_=function(){return[]},b0.prototype.getClass=function(){return b0};var wO=function(K){function rt(){var nt=arguments[0],lt=arguments[1];K.call(this,nt,lt)}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.setEdgeRing=function(nt,lt){nt.setMinEdgeRing(lt)},rt.prototype.getNext=function(nt){return nt.getNextMin()},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt}(b0),_O=function(K){function rt(){var nt=arguments[0],lt=arguments[1];K.call(this,nt,lt)}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.buildMinimalRings=function(){var nt=new $g,lt=this._startDe;do{if(lt.getMinEdgeRing()===null){var pt=new wO(lt,this._geometryFactory);nt.add(pt)}lt=lt.getNext()}while(lt!==this._startDe);return nt},rt.prototype.setEdgeRing=function(nt,lt){nt.setEdgeRing(lt)},rt.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var nt=this._startDe;do nt.getNode().getEdges().linkMinimalDirectedEdges(this),nt=nt.getNext();while(nt!==this._startDe)},rt.prototype.getNext=function(nt){return nt.getNext()},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt}(b0),yb=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var K=arguments[0];this._label=K}}};yb.prototype.setVisited=function(K){this._isVisited=K},yb.prototype.setInResult=function(K){this._isInResult=K},yb.prototype.isCovered=function(){return this._isCovered},yb.prototype.isCoveredSet=function(){return this._isCoveredSet},yb.prototype.setLabel=function(K){this._label=K},yb.prototype.getLabel=function(){return this._label},yb.prototype.setCovered=function(K){this._isCovered=K,this._isCoveredSet=!0},yb.prototype.updateIM=function(K){Im.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(K)},yb.prototype.isInResult=function(){return this._isInResult},yb.prototype.isVisited=function(){return this._isVisited},yb.prototype.interfaces_=function(){return[]},yb.prototype.getClass=function(){return yb};var qC=function(K){function rt(){K.call(this),this._coord=null,this._edges=null;var nt=arguments[0],lt=arguments[1];this._coord=nt,this._edges=lt,this._label=new Pv(0,dg.NONE)}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.isIncidentEdgeInResult=function(){for(var nt=this.getEdges().getEdges().iterator();nt.hasNext();)if(nt.next().getEdge().isInResult())return!0;return!1},rt.prototype.isIsolated=function(){return this._label.getGeometryCount()===1},rt.prototype.getCoordinate=function(){return this._coord},rt.prototype.print=function(nt){nt.println("node "+this._coord+" lbl: "+this._label)},rt.prototype.computeIM=function(nt){},rt.prototype.computeMergedLocation=function(nt,lt){var pt=dg.NONE;if(pt=this._label.getLocation(lt),!nt.isNull(lt)){var lo=nt.getLocation(lt);pt!==dg.BOUNDARY&&(pt=lo)}return pt},rt.prototype.setLabel=function(){if(arguments.length!==2)return K.prototype.setLabel.apply(this,arguments);var nt=arguments[0],lt=arguments[1];this._label===null?this._label=new Pv(nt,lt):this._label.setLocation(nt,lt)},rt.prototype.getEdges=function(){return this._edges},rt.prototype.mergeLabel=function(){var nt=this;if(arguments[0]instanceof rt){var lt=arguments[0];this.mergeLabel(lt._label)}else if(arguments[0]instanceof Pv)for(var pt=arguments[0],lo=0;lo<2;lo++){var vo=nt.computeMergedLocation(pt,lo),vf=nt._label.getLocation(lo);vf===dg.NONE&&nt._label.setLocation(lo,vo)}},rt.prototype.add=function(nt){this._edges.insert(nt),nt.setNode(this)},rt.prototype.setLabelBoundary=function(nt){if(this._label===null)return null;var lt=dg.NONE;this._label!==null&&(lt=this._label.getLocation(nt));var pt=null;switch(lt){case dg.BOUNDARY:pt=dg.INTERIOR;break;case dg.INTERIOR:default:pt=dg.BOUNDARY}this._label.setLocation(nt,pt)},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt}(yb),G1=function(){this.nodeMap=new Ty,this.nodeFact=null;var K=arguments[0];this.nodeFact=K};G1.prototype.find=function(K){return this.nodeMap.get(K)},G1.prototype.addNode=function(){if(arguments[0]instanceof ng){var K=arguments[0],rt=this.nodeMap.get(K);return rt===null&&(rt=this.nodeFact.createNode(K),this.nodeMap.put(K,rt)),rt}if(arguments[0]instanceof qC){var nt=arguments[0],lt=this.nodeMap.get(nt.getCoordinate());return lt===null?(this.nodeMap.put(nt.getCoordinate(),nt),nt):(lt.mergeLabel(nt),lt)}},G1.prototype.print=function(K){for(var rt=this.iterator();rt.hasNext();)rt.next().print(K)},G1.prototype.iterator=function(){return this.nodeMap.values().iterator()},G1.prototype.values=function(){return this.nodeMap.values()},G1.prototype.getBoundaryNodes=function(K){for(var rt=new $g,nt=this.iterator();nt.hasNext();){var lt=nt.next();lt.getLabel().getLocation(K)===dg.BOUNDARY&&rt.add(lt)}return rt},G1.prototype.add=function(K){var rt=K.getCoordinate();this.addNode(rt).add(K)},G1.prototype.interfaces_=function(){return[]},G1.prototype.getClass=function(){return G1};var Lv=function(){},Jk={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};Lv.prototype.interfaces_=function(){return[]},Lv.prototype.getClass=function(){return Lv},Lv.isNorthern=function(K){return K===Lv.NE||K===Lv.NW},Lv.isOpposite=function(K,rt){return K!==rt&&(K-rt+4)%4===2},Lv.commonHalfPlane=function(K,rt){if(K===rt)return K;if((K-rt+4)%4===2)return-1;var nt=K<rt?K:rt;return nt===0&&(K>rt?K:rt)===3?3:nt},Lv.isInHalfPlane=function(K,rt){return rt===Lv.SE?K===Lv.SE||K===Lv.SW:K===rt||K===rt+1},Lv.quadrant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var K=arguments[0],rt=arguments[1];if(K===0&&rt===0)throw new e0("Cannot compute the quadrant for point ( "+K+", "+rt+" )");return K>=0?rt>=0?Lv.NE:Lv.SE:rt>=0?Lv.NW:Lv.SW}if(arguments[0]instanceof ng&&arguments[1]instanceof ng){var nt=arguments[0],lt=arguments[1];if(lt.x===nt.x&&lt.y===nt.y)throw new e0("Cannot compute the quadrant for two identical points "+nt);return lt.x>=nt.x?lt.y>=nt.y?Lv.NE:Lv.SE:lt.y>=nt.y?Lv.NW:Lv.SW}},Jk.NE.get=function(){return 0},Jk.NW.get=function(){return 1},Jk.SW.get=function(){return 2},Jk.SE.get=function(){return 3},Object.defineProperties(Lv,Jk);var Oy=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var K=arguments[0];this._edge=K}else if(arguments.length===3){var rt=arguments[0],nt=arguments[1],lt=arguments[2],pt=null;this._edge=rt,this.init(nt,lt),this._label=pt}else if(arguments.length===4){var lo=arguments[0],vo=arguments[1],vf=arguments[2],Cf=arguments[3];this._edge=lo,this.init(vo,vf),this._label=Cf}};Oy.prototype.compareDirection=function(K){return this._dx===K._dx&&this._dy===K._dy?0:this._quadrant>K._quadrant?1:this._quadrant<K._quadrant?-1:jg.computeOrientation(K._p0,K._p1,this._p1)},Oy.prototype.getDy=function(){return this._dy},Oy.prototype.getCoordinate=function(){return this._p0},Oy.prototype.setNode=function(K){this._node=K},Oy.prototype.print=function(K){var rt=Math.atan2(this._dy,this._dx),nt=this.getClass().getName(),lt=nt.lastIndexOf("."),pt=nt.substring(lt+1);K.print("  "+pt+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+rt+"   "+this._label)},Oy.prototype.compareTo=function(K){var rt=K;return this.compareDirection(rt)},Oy.prototype.getDirectedCoordinate=function(){return this._p1},Oy.prototype.getDx=function(){return this._dx},Oy.prototype.getLabel=function(){return this._label},Oy.prototype.getEdge=function(){return this._edge},Oy.prototype.getQuadrant=function(){return this._quadrant},Oy.prototype.getNode=function(){return this._node},Oy.prototype.toString=function(){var K=Math.atan2(this._dy,this._dx),rt=this.getClass().getName(),nt=rt.lastIndexOf(".");return"  "+rt.substring(nt+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+K+"   "+this._label},Oy.prototype.computeLabel=function(K){},Oy.prototype.init=function(K,rt){this._p0=K,this._p1=rt,this._dx=rt.x-K.x,this._dy=rt.y-K.y,this._quadrant=Lv.quadrant(this._dx,this._dy),Im.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")},Oy.prototype.interfaces_=function(){return[Yb]},Oy.prototype.getClass=function(){return Oy};var YC=function(K){function rt(){var nt=arguments[0],lt=arguments[1];if(K.call(this,nt),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=lt,lt)this.init(nt.getCoordinate(0),nt.getCoordinate(1));else{var pt=nt.getNumPoints()-1;this.init(nt.getCoordinate(pt),nt.getCoordinate(pt-1))}this.computeDirectedLabel()}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.getNextMin=function(){return this._nextMin},rt.prototype.getDepth=function(nt){return this._depth[nt]},rt.prototype.setVisited=function(nt){this._isVisited=nt},rt.prototype.computeDirectedLabel=function(){this._label=new Pv(this._edge.getLabel()),this._isForward||this._label.flip()},rt.prototype.getNext=function(){return this._next},rt.prototype.setDepth=function(nt,lt){if(this._depth[nt]!==-999&&this._depth[nt]!==lt)throw new Qw("assigned depths do not match",this.getCoordinate());this._depth[nt]=lt},rt.prototype.isInteriorAreaEdge=function(){for(var nt=this,lt=!0,pt=0;pt<2;pt++)nt._label.isArea(pt)&&nt._label.getLocation(pt,Lg.LEFT)===dg.INTERIOR&&nt._label.getLocation(pt,Lg.RIGHT)===dg.INTERIOR||(lt=!1);return lt},rt.prototype.setNextMin=function(nt){this._nextMin=nt},rt.prototype.print=function(nt){K.prototype.print.call(this,nt),nt.print(" "+this._depth[Lg.LEFT]+"/"+this._depth[Lg.RIGHT]),nt.print(" ("+this.getDepthDelta()+")"),this._isInResult&&nt.print(" inResult")},rt.prototype.setMinEdgeRing=function(nt){this._minEdgeRing=nt},rt.prototype.isLineEdge=function(){var nt=this._label.isLine(0)||this._label.isLine(1),lt=!this._label.isArea(0)||this._label.allPositionsEqual(0,dg.EXTERIOR),pt=!this._label.isArea(1)||this._label.allPositionsEqual(1,dg.EXTERIOR);return nt&&lt&&pt},rt.prototype.setEdgeRing=function(nt){this._edgeRing=nt},rt.prototype.getMinEdgeRing=function(){return this._minEdgeRing},rt.prototype.getDepthDelta=function(){var nt=this._edge.getDepthDelta();return this._isForward||(nt=-nt),nt},rt.prototype.setInResult=function(nt){this._isInResult=nt},rt.prototype.getSym=function(){return this._sym},rt.prototype.isForward=function(){return this._isForward},rt.prototype.getEdge=function(){return this._edge},rt.prototype.printEdge=function(nt){this.print(nt),nt.print(" "),this._isForward?this._edge.print(nt):this._edge.printReverse(nt)},rt.prototype.setSym=function(nt){this._sym=nt},rt.prototype.setVisitedEdge=function(nt){this.setVisited(nt),this._sym.setVisited(nt)},rt.prototype.setEdgeDepths=function(nt,lt){var pt=this.getEdge().getDepthDelta();this._isForward||(pt=-pt);var lo=1;nt===Lg.LEFT&&(lo=-1);var vo=Lg.opposite(nt),vf=lt+pt*lo;this.setDepth(nt,lt),this.setDepth(vo,vf)},rt.prototype.getEdgeRing=function(){return this._edgeRing},rt.prototype.isInResult=function(){return this._isInResult},rt.prototype.setNext=function(nt){this._next=nt},rt.prototype.isVisited=function(){return this._isVisited},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt.depthFactor=function(nt,lt){return nt===dg.EXTERIOR&&lt===dg.INTERIOR?1:nt===dg.INTERIOR&&lt===dg.EXTERIOR?-1:0},rt}(Oy),XE=function(){};XE.prototype.createNode=function(K){return new qC(K,null)},XE.prototype.interfaces_=function(){return[]},XE.prototype.getClass=function(){return XE};var o0=function(){if(this._edges=new $g,this._nodes=null,this._edgeEndList=new $g,arguments.length===0)this._nodes=new G1(new XE);else if(arguments.length===1){var K=arguments[0];this._nodes=new G1(K)}};o0.prototype.printEdges=function(K){K.println("Edges:");for(var rt=0;rt<this._edges.size();rt++){K.println("edge "+rt+":");var nt=this._edges.get(rt);nt.print(K),nt.eiList.print(K)}},o0.prototype.find=function(K){return this._nodes.find(K)},o0.prototype.addNode=function(){if(arguments[0]instanceof qC){var K=arguments[0];return this._nodes.addNode(K)}if(arguments[0]instanceof ng){var rt=arguments[0];return this._nodes.addNode(rt)}},o0.prototype.getNodeIterator=function(){return this._nodes.iterator()},o0.prototype.linkResultDirectedEdges=function(){for(var K=this._nodes.iterator();K.hasNext();)K.next().getEdges().linkResultDirectedEdges()},o0.prototype.debugPrintln=function(K){my.out.println(K)},o0.prototype.isBoundaryNode=function(K,rt){var nt=this._nodes.find(rt);if(nt===null)return!1;var lt=nt.getLabel();return lt!==null&&lt.getLocation(K)===dg.BOUNDARY},o0.prototype.linkAllDirectedEdges=function(){for(var K=this._nodes.iterator();K.hasNext();)K.next().getEdges().linkAllDirectedEdges()},o0.prototype.matchInSameDirection=function(K,rt,nt,lt){return!!K.equals(nt)&&jg.computeOrientation(K,rt,lt)===jg.COLLINEAR&&Lv.quadrant(K,rt)===Lv.quadrant(nt,lt)},o0.prototype.getEdgeEnds=function(){return this._edgeEndList},o0.prototype.debugPrint=function(K){my.out.print(K)},o0.prototype.getEdgeIterator=function(){return this._edges.iterator()},o0.prototype.findEdgeInSameDirection=function(K,rt){for(var nt=this,lt=0;lt<this._edges.size();lt++){var pt=nt._edges.get(lt),lo=pt.getCoordinates();if(nt.matchInSameDirection(K,rt,lo[0],lo[1])||nt.matchInSameDirection(K,rt,lo[lo.length-1],lo[lo.length-2]))return pt}return null},o0.prototype.insertEdge=function(K){this._edges.add(K)},o0.prototype.findEdgeEnd=function(K){for(var rt=this.getEdgeEnds().iterator();rt.hasNext();){var nt=rt.next();if(nt.getEdge()===K)return nt}return null},o0.prototype.addEdges=function(K){for(var rt=this,nt=K.iterator();nt.hasNext();){var lt=nt.next();rt._edges.add(lt);var pt=new YC(lt,!0),lo=new YC(lt,!1);pt.setSym(lo),lo.setSym(pt),rt.add(pt),rt.add(lo)}},o0.prototype.add=function(K){this._nodes.add(K),this._edgeEndList.add(K)},o0.prototype.getNodes=function(){return this._nodes.values()},o0.prototype.findEdge=function(K,rt){for(var nt=0;nt<this._edges.size();nt++){var lt=this._edges.get(nt),pt=lt.getCoordinates();if(K.equals(pt[0])&&rt.equals(pt[1]))return lt}return null},o0.prototype.interfaces_=function(){return[]},o0.prototype.getClass=function(){return o0},o0.linkResultDirectedEdges=function(K){for(var rt=K.iterator();rt.hasNext();)rt.next().getEdges().linkResultDirectedEdges()};var Qy=function(){this._geometryFactory=null,this._shellList=new $g;var K=arguments[0];this._geometryFactory=K};Qy.prototype.sortShellsAndHoles=function(K,rt,nt){for(var lt=K.iterator();lt.hasNext();){var pt=lt.next();pt.isHole()?nt.add(pt):rt.add(pt)}},Qy.prototype.computePolygons=function(K){for(var rt=new $g,nt=K.iterator();nt.hasNext();){var lt=nt.next().toPolygon(this._geometryFactory);rt.add(lt)}return rt},Qy.prototype.placeFreeHoles=function(K,rt){for(var nt=rt.iterator();nt.hasNext();){var lt=nt.next();if(lt.getShell()===null){var pt=this.findEdgeRingContaining(lt,K);if(pt===null)throw new Qw("unable to assign hole to a shell",lt.getCoordinate(0));lt.setShell(pt)}}},Qy.prototype.buildMinimalEdgeRings=function(K,rt,nt){for(var lt=new $g,pt=K.iterator();pt.hasNext();){var lo=pt.next();if(lo.getMaxNodeDegree()>2){lo.linkDirectedEdgesForMinimalEdgeRings();var vo=lo.buildMinimalRings(),vf=this.findShell(vo);vf!==null?(this.placePolygonHoles(vf,vo),rt.add(vf)):nt.addAll(vo)}else lt.add(lo)}return lt},Qy.prototype.containsPoint=function(K){for(var rt=this._shellList.iterator();rt.hasNext();)if(rt.next().containsPoint(K))return!0;return!1},Qy.prototype.buildMaximalEdgeRings=function(K){for(var rt=new $g,nt=K.iterator();nt.hasNext();){var lt=nt.next();if(lt.isInResult()&&lt.getLabel().isArea()&&lt.getEdgeRing()===null){var pt=new _O(lt,this._geometryFactory);rt.add(pt),pt.setInResult()}}return rt},Qy.prototype.placePolygonHoles=function(K,rt){for(var nt=rt.iterator();nt.hasNext();){var lt=nt.next();lt.isHole()&&lt.setShell(K)}},Qy.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},Qy.prototype.findEdgeRingContaining=function(K,rt){for(var nt=K.getLinearRing(),lt=nt.getEnvelopeInternal(),pt=nt.getCoordinateN(0),lo=null,vo=null,vf=rt.iterator();vf.hasNext();){var Cf=vf.next(),Tf=Cf.getLinearRing(),Rf=Tf.getEnvelopeInternal();lo!==null&&(vo=lo.getLinearRing().getEnvelopeInternal());var Of=!1;Rf.contains(lt)&&jg.isPointInRing(pt,Tf.getCoordinates())&&(Of=!0),Of&&(lo===null||vo.contains(Rf))&&(lo=Cf)}return lo},Qy.prototype.findShell=function(K){for(var rt=0,nt=null,lt=K.iterator();lt.hasNext();){var pt=lt.next();pt.isHole()||(nt=pt,rt++)}return Im.isTrue(rt<=1,"found two shells in MinimalEdgeRing list"),nt},Qy.prototype.add=function(){if(arguments.length===1){var K=arguments[0];this.add(K.getEdgeEnds(),K.getNodes())}else if(arguments.length===2){var rt=arguments[0],nt=arguments[1];o0.linkResultDirectedEdges(nt);var lt=this.buildMaximalEdgeRings(rt),pt=new $g,lo=this.buildMinimalEdgeRings(lt,this._shellList,pt);this.sortShellsAndHoles(lo,this._shellList,pt),this.placeFreeHoles(this._shellList,pt)}},Qy.prototype.interfaces_=function(){return[]},Qy.prototype.getClass=function(){return Qy};var KE=function(){};KE.prototype.getBounds=function(){},KE.prototype.interfaces_=function(){return[]},KE.prototype.getClass=function(){return KE};var w1=function(){this._bounds=null,this._item=null;var K=arguments[0],rt=arguments[1];this._bounds=K,this._item=rt};w1.prototype.getItem=function(){return this._item},w1.prototype.getBounds=function(){return this._bounds},w1.prototype.interfaces_=function(){return[KE,Zb]},w1.prototype.getClass=function(){return w1};var Cw=function(){this._size=null,this._items=null,this._size=0,this._items=new $g,this._items.add(null)};Cw.prototype.poll=function(){if(this.isEmpty())return null;var K=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),K},Cw.prototype.size=function(){return this._size},Cw.prototype.reorder=function(K){for(var rt=this,nt=null,lt=this._items.get(K);2*K<=this._size&&((nt=2*K)!==rt._size&&rt._items.get(nt+1).compareTo(rt._items.get(nt))<0&&nt++,rt._items.get(nt).compareTo(lt)<0);K=nt)rt._items.set(K,rt._items.get(nt));this._items.set(K,lt)},Cw.prototype.clear=function(){this._size=0,this._items.clear()},Cw.prototype.isEmpty=function(){return this._size===0},Cw.prototype.add=function(K){this._items.add(null),this._size+=1;var rt=this._size;for(this._items.set(0,K);K.compareTo(this._items.get(Math.trunc(rt/2)))<0;rt/=2)this._items.set(rt,this._items.get(Math.trunc(rt/2)));this._items.set(rt,K)},Cw.prototype.interfaces_=function(){return[]},Cw.prototype.getClass=function(){return Cw};var D_=function(){};D_.prototype.visitItem=function(K){},D_.prototype.interfaces_=function(){return[]},D_.prototype.getClass=function(){return D_};var iE=function(){};iE.prototype.insert=function(K,rt){},iE.prototype.remove=function(K,rt){},iE.prototype.query=function(){},iE.prototype.interfaces_=function(){return[]},iE.prototype.getClass=function(){return iE};var T0=function(){if(this._childBoundables=new $g,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var K=arguments[0];this._level=K}}},qT={serialVersionUID:{configurable:!0}};T0.prototype.getLevel=function(){return this._level},T0.prototype.size=function(){return this._childBoundables.size()},T0.prototype.getChildBoundables=function(){return this._childBoundables},T0.prototype.addChildBoundable=function(K){Im.isTrue(this._bounds===null),this._childBoundables.add(K)},T0.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},T0.prototype.getBounds=function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds},T0.prototype.interfaces_=function(){return[KE,Zb]},T0.prototype.getClass=function(){return T0},qT.serialVersionUID.get=function(){return 6493722185909574e3},Object.defineProperties(T0,qT);var _1=function(){};_1.reverseOrder=function(){return{compare:function(K,rt){return rt.compareTo(K)}}},_1.min=function(K){return _1.sort(K),K.get(0)},_1.sort=function(K,rt){var nt=K.toArray();rt?_w.sort(nt,rt):_w.sort(nt);for(var lt=K.iterator(),pt=0,lo=nt.length;pt<lo;pt++)lt.next(),lt.set(nt[pt])},_1.singletonList=function(K){var rt=new $g;return rt.add(K),rt};var w0=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var K=arguments[0],rt=arguments[1],nt=arguments[2];this._boundable1=K,this._boundable2=rt,this._itemDistance=nt,this._distance=this.distance()};w0.prototype.expandToQueue=function(K,rt){var nt=w0.isComposite(this._boundable1),lt=w0.isComposite(this._boundable2);if(nt&&lt)return w0.area(this._boundable1)>w0.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,K,rt),null):(this.expand(this._boundable2,this._boundable1,K,rt),null);if(nt)return this.expand(this._boundable1,this._boundable2,K,rt),null;if(lt)return this.expand(this._boundable2,this._boundable1,K,rt),null;throw new e0("neither boundable is composite")},w0.prototype.isLeaves=function(){return!(w0.isComposite(this._boundable1)||w0.isComposite(this._boundable2))},w0.prototype.compareTo=function(K){var rt=K;return this._distance<rt._distance?-1:this._distance>rt._distance?1:0},w0.prototype.expand=function(K,rt,nt,lt){for(var pt=K.getChildBoundables().iterator();pt.hasNext();){var lo=pt.next(),vo=new w0(lo,rt,this._itemDistance);vo.getDistance()<lt&&nt.add(vo)}},w0.prototype.getBoundable=function(K){return K===0?this._boundable1:this._boundable2},w0.prototype.getDistance=function(){return this._distance},w0.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},w0.prototype.interfaces_=function(){return[Yb]},w0.prototype.getClass=function(){return w0},w0.area=function(K){return K.getBounds().getArea()},w0.isComposite=function(K){return K instanceof T0};var ry=function K(){if(this._root=null,this._built=!1,this._itemBoundables=new $g,this._nodeCapacity=null,arguments.length===0){var rt=K.DEFAULT_NODE_CAPACITY;this._nodeCapacity=rt}else if(arguments.length===1){var nt=arguments[0];Im.isTrue(nt>1,"Node capacity must be greater than 1"),this._nodeCapacity=nt}},ZC={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};ry.prototype.getNodeCapacity=function(){return this._nodeCapacity},ry.prototype.lastNode=function(K){return K.get(K.size()-1)},ry.prototype.size=function(){var K=this;if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var rt=arguments[0],nt=0,lt=rt.getChildBoundables().iterator();lt.hasNext();){var pt=lt.next();pt instanceof T0?nt+=K.size(pt):pt instanceof w1&&(nt+=1)}return nt}},ry.prototype.removeItem=function(K,rt){for(var nt=null,lt=K.getChildBoundables().iterator();lt.hasNext();){var pt=lt.next();pt instanceof w1&&pt.getItem()===rt&&(nt=pt)}return nt!==null&&(K.getChildBoundables().remove(nt),!0)},ry.prototype.itemsTree=function(){var K=this;if(arguments.length===0){this.build();var rt=this.itemsTree(this._root);return rt===null?new $g:rt}if(arguments.length===1){for(var nt=arguments[0],lt=new $g,pt=nt.getChildBoundables().iterator();pt.hasNext();){var lo=pt.next();if(lo instanceof T0){var vo=K.itemsTree(lo);vo!==null&&lt.add(vo)}else lo instanceof w1?lt.add(lo.getItem()):Im.shouldNeverReachHere()}return lt.size()<=0?null:lt}},ry.prototype.insert=function(K,rt){Im.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new w1(K,rt))},ry.prototype.boundablesAtLevel=function(){var K=this;if(arguments.length===1){var rt=arguments[0],nt=new $g;return this.boundablesAtLevel(rt,this._root,nt),nt}if(arguments.length===3){var lt=arguments[0],pt=arguments[1],lo=arguments[2];if(Im.isTrue(lt>-2),pt.getLevel()===lt)return lo.add(pt),null;for(var vo=pt.getChildBoundables().iterator();vo.hasNext();){var vf=vo.next();vf instanceof T0?K.boundablesAtLevel(lt,vf,lo):(Im.isTrue(vf instanceof w1),lt===-1&&lo.add(vf))}return null}},ry.prototype.query=function(){var K=this;if(arguments.length===1){var rt=arguments[0];this.build();var nt=new $g;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),rt)&&this.query(rt,this._root,nt),nt}if(arguments.length===2){var lt=arguments[0],pt=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),lt)&&this.query(lt,this._root,pt)}else if(arguments.length===3){if(vm(arguments[2],D_)&&arguments[0]instanceof Object&&arguments[1]instanceof T0)for(var lo=arguments[0],vo=arguments[1],vf=arguments[2],Cf=vo.getChildBoundables(),Tf=0;Tf<Cf.size();Tf++){var Rf=Cf.get(Tf);K.getIntersectsOp().intersects(Rf.getBounds(),lo)&&(Rf instanceof T0?K.query(lo,Rf,vf):Rf instanceof w1?vf.visitItem(Rf.getItem()):Im.shouldNeverReachHere())}else if(vm(arguments[2],p1)&&arguments[0]instanceof Object&&arguments[1]instanceof T0)for(var Of=arguments[0],Bf=arguments[1],Gf=arguments[2],qf=Bf.getChildBoundables(),Kf=0;Kf<qf.size();Kf++){var Uf=qf.get(Kf);K.getIntersectsOp().intersects(Uf.getBounds(),Of)&&(Uf instanceof T0?K.query(Of,Uf,Gf):Uf instanceof w1?Gf.add(Uf.getItem()):Im.shouldNeverReachHere())}}},ry.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},ry.prototype.getRoot=function(){return this.build(),this._root},ry.prototype.remove=function(){var K=this;if(arguments.length===2){var rt=arguments[0],nt=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),rt)&&this.remove(rt,this._root,nt)}if(arguments.length===3){var lt=arguments[0],pt=arguments[1],lo=arguments[2],vo=this.removeItem(pt,lo);if(vo)return!0;for(var vf=null,Cf=pt.getChildBoundables().iterator();Cf.hasNext();){var Tf=Cf.next();if(K.getIntersectsOp().intersects(Tf.getBounds(),lt)&&Tf instanceof T0&&(vo=K.remove(lt,Tf,lo))){vf=Tf;break}}return vf!==null&&vf.getChildBoundables().isEmpty()&&pt.getChildBoundables().remove(vf),vo}},ry.prototype.createHigherLevels=function(K,rt){Im.isTrue(!K.isEmpty());var nt=this.createParentBoundables(K,rt+1);return nt.size()===1?nt.get(0):this.createHigherLevels(nt,rt+1)},ry.prototype.depth=function(){var K=this;if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var rt=arguments[0],nt=0,lt=rt.getChildBoundables().iterator();lt.hasNext();){var pt=lt.next();if(pt instanceof T0){var lo=K.depth(pt);lo>nt&&(nt=lo)}}return nt+1}},ry.prototype.createParentBoundables=function(K,rt){var nt=this;Im.isTrue(!K.isEmpty());var lt=new $g;lt.add(this.createNode(rt));var pt=new $g(K);_1.sort(pt,this.getComparator());for(var lo=pt.iterator();lo.hasNext();){var vo=lo.next();nt.lastNode(lt).getChildBoundables().size()===nt.getNodeCapacity()&&lt.add(nt.createNode(rt)),nt.lastNode(lt).addChildBoundable(vo)}return lt},ry.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},ry.prototype.interfaces_=function(){return[Zb]},ry.prototype.getClass=function(){return ry},ry.compareDoubles=function(K,rt){return K>rt?1:K<rt?-1:0},ZC.IntersectsOp.get=function(){return YT},ZC.serialVersionUID.get=function(){return-3886435814360241e3},ZC.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(ry,ZC);var YT=function(){},JE=function(){};JE.prototype.distance=function(K,rt){},JE.prototype.interfaces_=function(){return[]},JE.prototype.getClass=function(){return JE};var ZT=function(K){function rt(lt){lt=lt||rt.DEFAULT_NODE_CAPACITY,K.call(this,lt)}K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt;var nt={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return rt.prototype.createParentBoundablesFromVerticalSlices=function(lt,pt){Im.isTrue(lt.length>0);for(var lo=new $g,vo=0;vo<lt.length;vo++)lo.addAll(this.createParentBoundablesFromVerticalSlice(lt[vo],pt));return lo},rt.prototype.createNode=function(lt){return new r2(lt)},rt.prototype.size=function(){return arguments.length===0?K.prototype.size.call(this):K.prototype.size.apply(this,arguments)},rt.prototype.insert=function(){if(arguments.length!==2)return K.prototype.insert.apply(this,arguments);var lt=arguments[0],pt=arguments[1];if(lt.isNull())return null;K.prototype.insert.call(this,lt,pt)},rt.prototype.getIntersectsOp=function(){return rt.intersectsOp},rt.prototype.verticalSlices=function(lt,pt){for(var lo=Math.trunc(Math.ceil(lt.size()/pt)),vo=new Array(pt).fill(null),vf=lt.iterator(),Cf=0;Cf<pt;Cf++){vo[Cf]=new $g;for(var Tf=0;vf.hasNext()&&Tf<lo;){var Rf=vf.next();vo[Cf].add(Rf),Tf++}}return vo},rt.prototype.query=function(){if(arguments.length===1){var lt=arguments[0];return K.prototype.query.call(this,lt)}if(arguments.length===2){var pt=arguments[0],lo=arguments[1];K.prototype.query.call(this,pt,lo)}else if(arguments.length===3){if(vm(arguments[2],D_)&&arguments[0]instanceof Object&&arguments[1]instanceof T0){var vo=arguments[0],vf=arguments[1],Cf=arguments[2];K.prototype.query.call(this,vo,vf,Cf)}else if(vm(arguments[2],p1)&&arguments[0]instanceof Object&&arguments[1]instanceof T0){var Tf=arguments[0],Rf=arguments[1],Of=arguments[2];K.prototype.query.call(this,Tf,Rf,Of)}}},rt.prototype.getComparator=function(){return rt.yComparator},rt.prototype.createParentBoundablesFromVerticalSlice=function(lt,pt){return K.prototype.createParentBoundables.call(this,lt,pt)},rt.prototype.remove=function(){if(arguments.length===2){var lt=arguments[0],pt=arguments[1];return K.prototype.remove.call(this,lt,pt)}return K.prototype.remove.apply(this,arguments)},rt.prototype.depth=function(){return arguments.length===0?K.prototype.depth.call(this):K.prototype.depth.apply(this,arguments)},rt.prototype.createParentBoundables=function(lt,pt){Im.isTrue(!lt.isEmpty());var lo=Math.trunc(Math.ceil(lt.size()/this.getNodeCapacity())),vo=new $g(lt);_1.sort(vo,rt.xComparator);var vf=this.verticalSlices(vo,Math.trunc(Math.ceil(Math.sqrt(lo))));return this.createParentBoundablesFromVerticalSlices(vf,pt)},rt.prototype.nearestNeighbour=function(){if(arguments.length===1){if(vm(arguments[0],JE)){var lt=arguments[0],pt=new w0(this.getRoot(),this.getRoot(),lt);return this.nearestNeighbour(pt)}if(arguments[0]instanceof w0){var lo=arguments[0];return this.nearestNeighbour(lo,Sm.POSITIVE_INFINITY)}}else if(arguments.length===2){if(arguments[0]instanceof rt&&vm(arguments[1],JE)){var vo=arguments[0],vf=arguments[1],Cf=new w0(this.getRoot(),vo.getRoot(),vf);return this.nearestNeighbour(Cf)}if(arguments[0]instanceof w0&&typeof arguments[1]=="number"){var Tf=arguments[0],Rf=arguments[1],Of=Rf,Bf=null,Gf=new Cw;for(Gf.add(Tf);!Gf.isEmpty()&&Of>0;){var qf=Gf.poll(),Kf=qf.getDistance();if(Kf>=Of)break;qf.isLeaves()?(Of=Kf,Bf=qf):qf.expandToQueue(Gf,Of)}return[Bf.getBoundable(0).getItem(),Bf.getBoundable(1).getItem()]}}else if(arguments.length===3){var Uf=arguments[0],lp=arguments[1],xp=arguments[2],Yf=new w1(Uf,lp),sp=new w0(this.getRoot(),Yf,xp);return this.nearestNeighbour(sp)[0]}},rt.prototype.interfaces_=function(){return[iE,Zb]},rt.prototype.getClass=function(){return rt},rt.centreX=function(lt){return rt.avg(lt.getMinX(),lt.getMaxX())},rt.avg=function(lt,pt){return(lt+pt)/2},rt.centreY=function(lt){return rt.avg(lt.getMinY(),lt.getMaxY())},nt.STRtreeNode.get=function(){return r2},nt.serialVersionUID.get=function(){return 0x39920f7d5f261e0},nt.xComparator.get=function(){return{interfaces_:function(){return[FE]},compare:function(lt,pt){return K.compareDoubles(rt.centreX(lt.getBounds()),rt.centreX(pt.getBounds()))}}},nt.yComparator.get=function(){return{interfaces_:function(){return[FE]},compare:function(lt,pt){return K.compareDoubles(rt.centreY(lt.getBounds()),rt.centreY(pt.getBounds()))}}},nt.intersectsOp.get=function(){return{interfaces_:function(){return[K.IntersectsOp]},intersects:function(lt,pt){return lt.intersects(pt)}}},nt.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(rt,nt),rt}(ry),r2=function(K){function rt(){var nt=arguments[0];K.call(this,nt)}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.computeBounds=function(){for(var nt=null,lt=this.getChildBoundables().iterator();lt.hasNext();){var pt=lt.next();nt===null?nt=new am(pt.getBounds()):nt.expandToInclude(pt.getBounds())}return nt},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt}(T0),eb=function(){};eb.prototype.interfaces_=function(){return[]},eb.prototype.getClass=function(){return eb},eb.relativeSign=function(K,rt){return K<rt?-1:K>rt?1:0},eb.compare=function(K,rt,nt){if(rt.equals2D(nt))return 0;var lt=eb.relativeSign(rt.x,nt.x),pt=eb.relativeSign(rt.y,nt.y);switch(K){case 0:return eb.compareValue(lt,pt);case 1:return eb.compareValue(pt,lt);case 2:return eb.compareValue(pt,-lt);case 3:return eb.compareValue(-lt,pt);case 4:return eb.compareValue(-lt,-pt);case 5:return eb.compareValue(-pt,-lt);case 6:return eb.compareValue(-pt,lt);case 7:return eb.compareValue(lt,-pt)}return Im.shouldNeverReachHere("invalid octant value"),0},eb.compareValue=function(K,rt){return K<0?-1:K>0?1:rt<0?-1:rt>0?1:0};var N_=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var K=arguments[0],rt=arguments[1],nt=arguments[2],lt=arguments[3];this._segString=K,this.coord=new ng(rt),this.segmentIndex=nt,this._segmentOctant=lt,this._isInterior=!rt.equals2D(K.getCoordinate(nt))};N_.prototype.getCoordinate=function(){return this.coord},N_.prototype.print=function(K){K.print(this.coord),K.print(" seg # = "+this.segmentIndex)},N_.prototype.compareTo=function(K){var rt=K;return this.segmentIndex<rt.segmentIndex?-1:this.segmentIndex>rt.segmentIndex?1:this.coord.equals2D(rt.coord)?0:eb.compare(this._segmentOctant,this.coord,rt.coord)},N_.prototype.isEndPoint=function(K){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===K},N_.prototype.isInterior=function(){return this._isInterior},N_.prototype.interfaces_=function(){return[Yb]},N_.prototype.getClass=function(){return N_};var X0=function(){this._nodeMap=new Ty,this._edge=null;var K=arguments[0];this._edge=K};X0.prototype.getSplitCoordinates=function(){var K=new Uk;this.addEndpoints();for(var rt=this.iterator(),nt=rt.next();rt.hasNext();){var lt=rt.next();this.addEdgeCoordinates(nt,lt,K),nt=lt}return K.toCoordinateArray()},X0.prototype.addCollapsedNodes=function(){var K=new $g;this.findCollapsesFromInsertedNodes(K),this.findCollapsesFromExistingVertices(K);for(var rt=K.iterator();rt.hasNext();){var nt=rt.next().intValue();this.add(this._edge.getCoordinate(nt),nt)}},X0.prototype.print=function(K){K.println("Intersections:");for(var rt=this.iterator();rt.hasNext();)rt.next().print(K)},X0.prototype.findCollapsesFromExistingVertices=function(K){for(var rt=0;rt<this._edge.size()-2;rt++){var nt=this._edge.getCoordinate(rt),lt=this._edge.getCoordinate(rt+2);nt.equals2D(lt)&&K.add(new z1(rt+1))}},X0.prototype.addEdgeCoordinates=function(K,rt,nt){var lt=this._edge.getCoordinate(rt.segmentIndex),pt=rt.isInterior()||!rt.coord.equals2D(lt);nt.add(new ng(K.coord),!1);for(var lo=K.segmentIndex+1;lo<=rt.segmentIndex;lo++)nt.add(this._edge.getCoordinate(lo));pt&&nt.add(new ng(rt.coord))},X0.prototype.iterator=function(){return this._nodeMap.values().iterator()},X0.prototype.addSplitEdges=function(K){this.addEndpoints(),this.addCollapsedNodes();for(var rt=this.iterator(),nt=rt.next();rt.hasNext();){var lt=rt.next(),pt=this.createSplitEdge(nt,lt);K.add(pt),nt=lt}},X0.prototype.findCollapseIndex=function(K,rt,nt){if(!K.coord.equals2D(rt.coord))return!1;var lt=rt.segmentIndex-K.segmentIndex;return rt.isInterior()||lt--,lt===1&&(nt[0]=K.segmentIndex+1,!0)},X0.prototype.findCollapsesFromInsertedNodes=function(K){for(var rt=new Array(1).fill(null),nt=this.iterator(),lt=nt.next();nt.hasNext();){var pt=nt.next();this.findCollapseIndex(lt,pt,rt)&&K.add(new z1(rt[0])),lt=pt}},X0.prototype.getEdge=function(){return this._edge},X0.prototype.addEndpoints=function(){var K=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(K),K)},X0.prototype.createSplitEdge=function(K,rt){var nt=rt.segmentIndex-K.segmentIndex+2,lt=this._edge.getCoordinate(rt.segmentIndex),pt=rt.isInterior()||!rt.coord.equals2D(lt);pt||nt--;var lo=new Array(nt).fill(null),vo=0;lo[vo++]=new ng(K.coord);for(var vf=K.segmentIndex+1;vf<=rt.segmentIndex;vf++)lo[vo++]=this._edge.getCoordinate(vf);return pt&&(lo[vo]=new ng(rt.coord)),new l0(lo,this._edge.getData())},X0.prototype.add=function(K,rt){var nt=new N_(this._edge,K,rt,this._edge.getSegmentOctant(rt)),lt=this._nodeMap.get(nt);return lt!==null?(Im.isTrue(lt.coord.equals2D(K),"Found equal nodes with different coordinates"),lt):(this._nodeMap.put(nt,nt),nt)},X0.prototype.checkSplitEdgesCorrectness=function(K){var rt=this._edge.getCoordinates(),nt=K.get(0).getCoordinate(0);if(!nt.equals2D(rt[0]))throw new Xw("bad split edge start point at "+nt);var lt=K.get(K.size()-1).getCoordinates(),pt=lt[lt.length-1];if(!pt.equals2D(rt[rt.length-1]))throw new Xw("bad split edge end point at "+pt)},X0.prototype.interfaces_=function(){return[]},X0.prototype.getClass=function(){return X0};var x1=function(){};x1.prototype.interfaces_=function(){return[]},x1.prototype.getClass=function(){return x1},x1.octant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var K=arguments[0],rt=arguments[1];if(K===0&&rt===0)throw new e0("Cannot compute the octant for point ( "+K+", "+rt+" )");var nt=Math.abs(K),lt=Math.abs(rt);return K>=0?rt>=0?nt>=lt?0:1:nt>=lt?7:6:rt>=0?nt>=lt?3:2:nt>=lt?4:5}if(arguments[0]instanceof ng&&arguments[1]instanceof ng){var pt=arguments[0],lo=arguments[1],vo=lo.x-pt.x,vf=lo.y-pt.y;if(vo===0&&vf===0)throw new e0("Cannot compute the octant for two identical points "+pt);return x1.octant(vo,vf)}};var z0=function(){};z0.prototype.getCoordinates=function(){},z0.prototype.size=function(){},z0.prototype.getCoordinate=function(K){},z0.prototype.isClosed=function(){},z0.prototype.setData=function(K){},z0.prototype.getData=function(){},z0.prototype.interfaces_=function(){return[]},z0.prototype.getClass=function(){return z0};var Qk=function(){};Qk.prototype.addIntersection=function(K,rt){},Qk.prototype.interfaces_=function(){return[z0]},Qk.prototype.getClass=function(){return Qk};var l0=function(){this._nodeList=new X0(this),this._pts=null,this._data=null;var K=arguments[0],rt=arguments[1];this._pts=K,this._data=rt};l0.prototype.getCoordinates=function(){return this._pts},l0.prototype.size=function(){return this._pts.length},l0.prototype.getCoordinate=function(K){return this._pts[K]},l0.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},l0.prototype.getSegmentOctant=function(K){return K===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(K),this.getCoordinate(K+1))},l0.prototype.setData=function(K){this._data=K},l0.prototype.safeOctant=function(K,rt){return K.equals2D(rt)?0:x1.octant(K,rt)},l0.prototype.getData=function(){return this._data},l0.prototype.addIntersection=function(){if(arguments.length===2){var K=arguments[0],rt=arguments[1];this.addIntersectionNode(K,rt)}else if(arguments.length===4){var nt=arguments[0],lt=arguments[1],pt=arguments[3],lo=new ng(nt.getIntersection(pt));this.addIntersection(lo,lt)}},l0.prototype.toString=function(){return f1.toLineString(new y0(this._pts))},l0.prototype.getNodeList=function(){return this._nodeList},l0.prototype.addIntersectionNode=function(K,rt){var nt=rt,lt=nt+1;if(lt<this._pts.length){var pt=this._pts[lt];K.equals2D(pt)&&(nt=lt)}return this._nodeList.add(K,nt)},l0.prototype.addIntersections=function(K,rt,nt){for(var lt=0;lt<K.getIntersectionNum();lt++)this.addIntersection(K,rt,nt,lt)},l0.prototype.interfaces_=function(){return[Qk]},l0.prototype.getClass=function(){return l0},l0.getNodedSubstrings=function(){if(arguments.length===1){var K=arguments[0],rt=new $g;return l0.getNodedSubstrings(K,rt),rt}if(arguments.length===2)for(var nt=arguments[0],lt=arguments[1],pt=nt.iterator();pt.hasNext();){var lo=pt.next();lo.getNodeList().addSplitEdges(lt)}};var sm=function(){if(this.p0=null,this.p1=null,arguments.length===0)this.p0=new ng,this.p1=new ng;else if(arguments.length===1){var K=arguments[0];this.p0=new ng(K.p0),this.p1=new ng(K.p1)}else if(arguments.length===2)this.p0=arguments[0],this.p1=arguments[1];else if(arguments.length===4){var rt=arguments[0],nt=arguments[1],lt=arguments[2],pt=arguments[3];this.p0=new ng(rt,nt),this.p1=new ng(lt,pt)}},XC={serialVersionUID:{configurable:!0}};sm.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},sm.prototype.orientationIndex=function(){if(arguments[0]instanceof sm){var K=arguments[0],rt=jg.orientationIndex(this.p0,this.p1,K.p0),nt=jg.orientationIndex(this.p0,this.p1,K.p1);return rt>=0&&nt>=0||rt<=0&&nt<=0?Math.max(rt,nt):0}if(arguments[0]instanceof ng){var lt=arguments[0];return jg.orientationIndex(this.p0,this.p1,lt)}},sm.prototype.toGeometry=function(K){return K.createLineString([this.p0,this.p1])},sm.prototype.isVertical=function(){return this.p0.x===this.p1.x},sm.prototype.equals=function(K){if(!(K instanceof sm))return!1;var rt=K;return this.p0.equals(rt.p0)&&this.p1.equals(rt.p1)},sm.prototype.intersection=function(K){var rt=new I_;return rt.computeIntersection(this.p0,this.p1,K.p0,K.p1),rt.hasIntersection()?rt.getIntersection(0):null},sm.prototype.project=function(){if(arguments[0]instanceof ng){var K=arguments[0];if(K.equals(this.p0)||K.equals(this.p1))return new ng(K);var rt=this.projectionFactor(K),nt=new ng;return nt.x=this.p0.x+rt*(this.p1.x-this.p0.x),nt.y=this.p0.y+rt*(this.p1.y-this.p0.y),nt}if(arguments[0]instanceof sm){var lt=arguments[0],pt=this.projectionFactor(lt.p0),lo=this.projectionFactor(lt.p1);if(pt>=1&&lo>=1||pt<=0&&lo<=0)return null;var vo=this.project(lt.p0);pt<0&&(vo=this.p0),pt>1&&(vo=this.p1);var vf=this.project(lt.p1);return lo<0&&(vf=this.p0),lo>1&&(vf=this.p1),new sm(vo,vf)}},sm.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},sm.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},sm.prototype.getCoordinate=function(K){return K===0?this.p0:this.p1},sm.prototype.distancePerpendicular=function(K){return jg.distancePointLinePerpendicular(K,this.p0,this.p1)},sm.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},sm.prototype.midPoint=function(){return sm.midPoint(this.p0,this.p1)},sm.prototype.projectionFactor=function(K){if(K.equals(this.p0))return 0;if(K.equals(this.p1))return 1;var rt=this.p1.x-this.p0.x,nt=this.p1.y-this.p0.y,lt=rt*rt+nt*nt;return lt<=0?Sm.NaN:((K.x-this.p0.x)*rt+(K.y-this.p0.y)*nt)/lt},sm.prototype.closestPoints=function(K){var rt=this.intersection(K);if(rt!==null)return[rt,rt];var nt=new Array(2).fill(null),lt=Sm.MAX_VALUE,pt=null,lo=this.closestPoint(K.p0);lt=lo.distance(K.p0),nt[0]=lo,nt[1]=K.p0;var vo=this.closestPoint(K.p1);(pt=vo.distance(K.p1))<lt&&(lt=pt,nt[0]=vo,nt[1]=K.p1);var vf=K.closestPoint(this.p0);(pt=vf.distance(this.p0))<lt&&(lt=pt,nt[0]=this.p0,nt[1]=vf);var Cf=K.closestPoint(this.p1);return(pt=Cf.distance(this.p1))<lt&&(lt=pt,nt[0]=this.p1,nt[1]=Cf),nt},sm.prototype.closestPoint=function(K){var rt=this.projectionFactor(K);return rt>0&&rt<1?this.project(K):this.p0.distance(K)<this.p1.distance(K)?this.p0:this.p1},sm.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},sm.prototype.getLength=function(){return this.p0.distance(this.p1)},sm.prototype.compareTo=function(K){var rt=K,nt=this.p0.compareTo(rt.p0);return nt!==0?nt:this.p1.compareTo(rt.p1)},sm.prototype.reverse=function(){var K=this.p0;this.p0=this.p1,this.p1=K},sm.prototype.equalsTopo=function(K){return this.p0.equals(K.p0)&&(this.p1.equals(K.p1)||this.p0.equals(K.p1))&&this.p1.equals(K.p0)},sm.prototype.lineIntersection=function(K){try{return Xb.intersection(this.p0,this.p1,K.p0,K.p1)}catch(rt){if(!(rt instanceof Zx))throw rt}return null},sm.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},sm.prototype.pointAlongOffset=function(K,rt){var nt=this.p0.x+K*(this.p1.x-this.p0.x),lt=this.p0.y+K*(this.p1.y-this.p0.y),pt=this.p1.x-this.p0.x,lo=this.p1.y-this.p0.y,vo=Math.sqrt(pt*pt+lo*lo),vf=0,Cf=0;if(rt!==0){if(vo<=0)throw new Error("Cannot compute offset from zero-length line segment");vf=rt*pt/vo,Cf=rt*lo/vo}return new ng(nt-Cf,lt+vf)},sm.prototype.setCoordinates=function(){if(arguments.length===1){var K=arguments[0];this.setCoordinates(K.p0,K.p1)}else if(arguments.length===2){var rt=arguments[0],nt=arguments[1];this.p0.x=rt.x,this.p0.y=rt.y,this.p1.x=nt.x,this.p1.y=nt.y}},sm.prototype.segmentFraction=function(K){var rt=this.projectionFactor(K);return rt<0?rt=0:(rt>1||Sm.isNaN(rt))&&(rt=1),rt},sm.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},sm.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},sm.prototype.distance=function(){if(arguments[0]instanceof sm){var K=arguments[0];return jg.distanceLineLine(this.p0,this.p1,K.p0,K.p1)}if(arguments[0]instanceof ng){var rt=arguments[0];return jg.distancePointLine(rt,this.p0,this.p1)}},sm.prototype.pointAlong=function(K){var rt=new ng;return rt.x=this.p0.x+K*(this.p1.x-this.p0.x),rt.y=this.p0.y+K*(this.p1.y-this.p0.y),rt},sm.prototype.hashCode=function(){var K=Sm.doubleToLongBits(this.p0.x);K^=31*Sm.doubleToLongBits(this.p0.y);var rt=Math.trunc(K)^Math.trunc(K>>32),nt=Sm.doubleToLongBits(this.p1.x);return nt^=31*Sm.doubleToLongBits(this.p1.y),rt^(Math.trunc(nt)^Math.trunc(nt>>32))},sm.prototype.interfaces_=function(){return[Yb,Zb]},sm.prototype.getClass=function(){return sm},sm.midPoint=function(K,rt){return new ng((K.x+rt.x)/2,(K.y+rt.y)/2)},XC.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(sm,XC);var eC=function(){this.tempEnv1=new am,this.tempEnv2=new am,this._overlapSeg1=new sm,this._overlapSeg2=new sm};eC.prototype.overlap=function(){if(arguments.length!==2){if(arguments.length===4){var K=arguments[0],rt=arguments[1],nt=arguments[2],lt=arguments[3];K.getLineSegment(rt,this._overlapSeg1),nt.getLineSegment(lt,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}},eC.prototype.interfaces_=function(){return[]},eC.prototype.getClass=function(){return eC};var bb=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var K=arguments[0],rt=arguments[1],nt=arguments[2],lt=arguments[3];this._pts=K,this._start=rt,this._end=nt,this._context=lt};bb.prototype.getLineSegment=function(K,rt){rt.p0=this._pts[K],rt.p1=this._pts[K+1]},bb.prototype.computeSelect=function(K,rt,nt,lt){var pt=this._pts[rt],lo=this._pts[nt];if(lt.tempEnv1.init(pt,lo),nt-rt==1)return lt.select(this,rt),null;if(!K.intersects(lt.tempEnv1))return null;var vo=Math.trunc((rt+nt)/2);rt<vo&&this.computeSelect(K,rt,vo,lt),vo<nt&&this.computeSelect(K,vo,nt,lt)},bb.prototype.getCoordinates=function(){for(var K=new Array(this._end-this._start+1).fill(null),rt=0,nt=this._start;nt<=this._end;nt++)K[rt++]=this._pts[nt];return K},bb.prototype.computeOverlaps=function(K,rt){this.computeOverlapsInternal(this._start,this._end,K,K._start,K._end,rt)},bb.prototype.setId=function(K){this._id=K},bb.prototype.select=function(K,rt){this.computeSelect(K,this._start,this._end,rt)},bb.prototype.getEnvelope=function(){if(this._env===null){var K=this._pts[this._start],rt=this._pts[this._end];this._env=new am(K,rt)}return this._env},bb.prototype.getEndIndex=function(){return this._end},bb.prototype.getStartIndex=function(){return this._start},bb.prototype.getContext=function(){return this._context},bb.prototype.getId=function(){return this._id},bb.prototype.computeOverlapsInternal=function(K,rt,nt,lt,pt,lo){var vo=this._pts[K],vf=this._pts[rt],Cf=nt._pts[lt],Tf=nt._pts[pt];if(rt-K==1&&pt-lt==1)return lo.overlap(this,K,nt,lt),null;if(lo.tempEnv1.init(vo,vf),lo.tempEnv2.init(Cf,Tf),!lo.tempEnv1.intersects(lo.tempEnv2))return null;var Rf=Math.trunc((K+rt)/2),Of=Math.trunc((lt+pt)/2);K<Rf&&(lt<Of&&this.computeOverlapsInternal(K,Rf,nt,lt,Of,lo),Of<pt&&this.computeOverlapsInternal(K,Rf,nt,Of,pt,lo)),Rf<rt&&(lt<Of&&this.computeOverlapsInternal(Rf,rt,nt,lt,Of,lo),Of<pt&&this.computeOverlapsInternal(Rf,rt,nt,Of,pt,lo))},bb.prototype.interfaces_=function(){return[]},bb.prototype.getClass=function(){return bb};var t1=function(){};t1.prototype.interfaces_=function(){return[]},t1.prototype.getClass=function(){return t1},t1.getChainStartIndices=function(K){var rt=0,nt=new $g;nt.add(new z1(rt));do{var lt=t1.findChainEnd(K,rt);nt.add(new z1(lt)),rt=lt}while(rt<K.length-1);return t1.toIntArray(nt)},t1.findChainEnd=function(K,rt){for(var nt=rt;nt<K.length-1&&K[nt].equals2D(K[nt+1]);)nt++;if(nt>=K.length-1)return K.length-1;for(var lt=Lv.quadrant(K[nt],K[nt+1]),pt=rt+1;pt<K.length&&!(!K[pt-1].equals2D(K[pt])&&Lv.quadrant(K[pt-1],K[pt])!==lt);)pt++;return pt-1},t1.getChains=function(){if(arguments.length===1){var K=arguments[0];return t1.getChains(K,null)}if(arguments.length===2){for(var rt=arguments[0],nt=arguments[1],lt=new $g,pt=t1.getChainStartIndices(rt),lo=0;lo<pt.length-1;lo++){var vo=new bb(rt,pt[lo],pt[lo+1],nt);lt.add(vo)}return lt}},t1.toIntArray=function(K){for(var rt=new Array(K.size()).fill(null),nt=0;nt<rt.length;nt++)rt[nt]=K.get(nt).intValue();return rt};var px=function(){};px.prototype.computeNodes=function(K){},px.prototype.getNodedSubstrings=function(){},px.prototype.interfaces_=function(){return[]},px.prototype.getClass=function(){return px};var tC=function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var K=arguments[0];this.setSegmentIntersector(K)}}};tC.prototype.setSegmentIntersector=function(K){this._segInt=K},tC.prototype.interfaces_=function(){return[px]},tC.prototype.getClass=function(){return tC};var i2=function(K){function rt(lt){lt?K.call(this,lt):K.call(this),this._monoChains=new $g,this._index=new ZT,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt;var nt={SegmentOverlapAction:{configurable:!0}};return rt.prototype.getMonotoneChains=function(){return this._monoChains},rt.prototype.getNodedSubstrings=function(){return l0.getNodedSubstrings(this._nodedSegStrings)},rt.prototype.getIndex=function(){return this._index},rt.prototype.add=function(lt){for(var pt=this,lo=t1.getChains(lt.getCoordinates(),lt).iterator();lo.hasNext();){var vo=lo.next();vo.setId(pt._idCounter++),pt._index.insert(vo.getEnvelope(),vo),pt._monoChains.add(vo)}},rt.prototype.computeNodes=function(lt){this._nodedSegStrings=lt;for(var pt=lt.iterator();pt.hasNext();)this.add(pt.next());this.intersectChains()},rt.prototype.intersectChains=function(){for(var lt=this,pt=new KC(this._segInt),lo=this._monoChains.iterator();lo.hasNext();)for(var vo=lo.next(),vf=lt._index.query(vo.getEnvelope()).iterator();vf.hasNext();){var Cf=vf.next();if(Cf.getId()>vo.getId()&&(vo.computeOverlaps(Cf,pt),lt._nOverlaps++),lt._segInt.isDone())return null}},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},nt.SegmentOverlapAction.get=function(){return KC},Object.defineProperties(rt,nt),rt}(tC),KC=function(K){function rt(){K.call(this),this._si=null;var nt=arguments[0];this._si=nt}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.overlap=function(){if(arguments.length!==4)return K.prototype.overlap.apply(this,arguments);var nt=arguments[0],lt=arguments[1],pt=arguments[2],lo=arguments[3],vo=nt.getContext(),vf=pt.getContext();this._si.processIntersections(vo,lt,vf,lo)},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt}(eC),Sv=function K(){if(this._quadrantSegments=K.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=K.CAP_ROUND,this._joinStyle=K.JOIN_ROUND,this._mitreLimit=K.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=K.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var rt=arguments[0];this.setQuadrantSegments(rt)}else if(arguments.length===2){var nt=arguments[0],lt=arguments[1];this.setQuadrantSegments(nt),this.setEndCapStyle(lt)}else if(arguments.length===4){var pt=arguments[0],lo=arguments[1],vo=arguments[2],vf=arguments[3];this.setQuadrantSegments(pt),this.setEndCapStyle(lo),this.setJoinStyle(vo),this.setMitreLimit(vf)}}},E1={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};Sv.prototype.getEndCapStyle=function(){return this._endCapStyle},Sv.prototype.isSingleSided=function(){return this._isSingleSided},Sv.prototype.setQuadrantSegments=function(K){this._quadrantSegments=K,this._quadrantSegments===0&&(this._joinStyle=Sv.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=Sv.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),K<=0&&(this._quadrantSegments=1),this._joinStyle!==Sv.JOIN_ROUND&&(this._quadrantSegments=Sv.DEFAULT_QUADRANT_SEGMENTS)},Sv.prototype.getJoinStyle=function(){return this._joinStyle},Sv.prototype.setJoinStyle=function(K){this._joinStyle=K},Sv.prototype.setSimplifyFactor=function(K){this._simplifyFactor=K<0?0:K},Sv.prototype.getSimplifyFactor=function(){return this._simplifyFactor},Sv.prototype.getQuadrantSegments=function(){return this._quadrantSegments},Sv.prototype.setEndCapStyle=function(K){this._endCapStyle=K},Sv.prototype.getMitreLimit=function(){return this._mitreLimit},Sv.prototype.setMitreLimit=function(K){this._mitreLimit=K},Sv.prototype.setSingleSided=function(K){this._isSingleSided=K},Sv.prototype.interfaces_=function(){return[]},Sv.prototype.getClass=function(){return Sv},Sv.bufferDistanceError=function(K){var rt=Math.PI/2/K;return 1-Math.cos(rt/2)},E1.CAP_ROUND.get=function(){return 1},E1.CAP_FLAT.get=function(){return 2},E1.CAP_SQUARE.get=function(){return 3},E1.JOIN_ROUND.get=function(){return 1},E1.JOIN_MITRE.get=function(){return 2},E1.JOIN_BEVEL.get=function(){return 3},E1.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},E1.DEFAULT_MITRE_LIMIT.get=function(){return 5},E1.DEFAULT_SIMPLIFY_FACTOR.get=function(){return .01},Object.defineProperties(Sv,E1);var Uv=function(K){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=jg.COUNTERCLOCKWISE,this._inputLine=K||null},gx={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Uv.prototype.isDeletable=function(K,rt,nt,lt){var pt=this._inputLine[K],lo=this._inputLine[rt],vo=this._inputLine[nt];return!!this.isConcave(pt,lo,vo)&&!!this.isShallow(pt,lo,vo,lt)&&this.isShallowSampled(pt,lo,K,nt,lt)},Uv.prototype.deleteShallowConcavities=function(){for(var K=this,rt=1,nt=this.findNextNonDeletedIndex(rt),lt=this.findNextNonDeletedIndex(nt),pt=!1;lt<this._inputLine.length;){var lo=!1;K.isDeletable(rt,nt,lt,K._distanceTol)&&(K._isDeleted[nt]=Uv.DELETE,lo=!0,pt=!0),rt=lo?lt:nt,nt=K.findNextNonDeletedIndex(rt),lt=K.findNextNonDeletedIndex(nt)}return pt},Uv.prototype.isShallowConcavity=function(K,rt,nt,lt){return jg.computeOrientation(K,rt,nt)===this._angleOrientation&&jg.distancePointLine(rt,K,nt)<lt},Uv.prototype.isShallowSampled=function(K,rt,nt,lt,pt){var lo=Math.trunc((lt-nt)/Uv.NUM_PTS_TO_CHECK);lo<=0&&(lo=1);for(var vo=nt;vo<lt;vo+=lo)if(!this.isShallow(K,rt,this._inputLine[vo],pt))return!1;return!0},Uv.prototype.isConcave=function(K,rt,nt){var lt=jg.computeOrientation(K,rt,nt)===this._angleOrientation;return lt},Uv.prototype.simplify=function(K){this._distanceTol=Math.abs(K),K<0&&(this._angleOrientation=jg.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var rt=!1;do rt=this.deleteShallowConcavities();while(rt);return this.collapseLine()},Uv.prototype.findNextNonDeletedIndex=function(K){for(var rt=K+1;rt<this._inputLine.length&&this._isDeleted[rt]===Uv.DELETE;)rt++;return rt},Uv.prototype.isShallow=function(K,rt,nt,lt){return jg.distancePointLine(rt,K,nt)<lt},Uv.prototype.collapseLine=function(){for(var K=new Uk,rt=0;rt<this._inputLine.length;rt++)this._isDeleted[rt]!==Uv.DELETE&&K.add(this._inputLine[rt]);return K.toCoordinateArray()},Uv.prototype.interfaces_=function(){return[]},Uv.prototype.getClass=function(){return Uv},Uv.simplify=function(K,rt){return new Uv(K).simplify(rt)},gx.INIT.get=function(){return 0},gx.DELETE.get=function(){return 1},gx.KEEP.get=function(){return 1},gx.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Uv,gx);var Ob=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new $g},XT={COORDINATE_ARRAY_TYPE:{configurable:!0}};Ob.prototype.getCoordinates=function(){return this._ptList.toArray(Ob.COORDINATE_ARRAY_TYPE)},Ob.prototype.setPrecisionModel=function(K){this._precisionModel=K},Ob.prototype.addPt=function(K){var rt=new ng(K);if(this._precisionModel.makePrecise(rt),this.isRedundant(rt))return null;this._ptList.add(rt)},Ob.prototype.revere=function(){},Ob.prototype.addPts=function(K,rt){if(rt)for(var nt=0;nt<K.length;nt++)this.addPt(K[nt]);else for(var lt=K.length-1;lt>=0;lt--)this.addPt(K[lt])},Ob.prototype.isRedundant=function(K){if(this._ptList.size()<1)return!1;var rt=this._ptList.get(this._ptList.size()-1);return K.distance(rt)<this._minimimVertexDistance},Ob.prototype.toString=function(){return new Ym().createLineString(this.getCoordinates()).toString()},Ob.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var K=new ng(this._ptList.get(0)),rt=this._ptList.get(this._ptList.size()-1);if(K.equals(rt))return null;this._ptList.add(K)},Ob.prototype.setMinimumVertexDistance=function(K){this._minimimVertexDistance=K},Ob.prototype.interfaces_=function(){return[]},Ob.prototype.getClass=function(){return Ob},XT.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(Ob,XT);var rv=function(){},nE={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};rv.prototype.interfaces_=function(){return[]},rv.prototype.getClass=function(){return rv},rv.toDegrees=function(K){return 180*K/Math.PI},rv.normalize=function(K){for(;K>Math.PI;)K-=rv.PI_TIMES_2;for(;K<=-Math.PI;)K+=rv.PI_TIMES_2;return K},rv.angle=function(){if(arguments.length===1){var K=arguments[0];return Math.atan2(K.y,K.x)}if(arguments.length===2){var rt=arguments[0],nt=arguments[1],lt=nt.x-rt.x,pt=nt.y-rt.y;return Math.atan2(pt,lt)}},rv.isAcute=function(K,rt,nt){var lt=K.x-rt.x,pt=K.y-rt.y;return lt*(nt.x-rt.x)+pt*(nt.y-rt.y)>0},rv.isObtuse=function(K,rt,nt){var lt=K.x-rt.x,pt=K.y-rt.y;return lt*(nt.x-rt.x)+pt*(nt.y-rt.y)<0},rv.interiorAngle=function(K,rt,nt){var lt=rv.angle(rt,K),pt=rv.angle(rt,nt);return Math.abs(pt-lt)},rv.normalizePositive=function(K){if(K<0){for(;K<0;)K+=rv.PI_TIMES_2;K>=rv.PI_TIMES_2&&(K=0)}else{for(;K>=rv.PI_TIMES_2;)K-=rv.PI_TIMES_2;K<0&&(K=0)}return K},rv.angleBetween=function(K,rt,nt){var lt=rv.angle(rt,K),pt=rv.angle(rt,nt);return rv.diff(lt,pt)},rv.diff=function(K,rt){var nt=null;return(nt=K<rt?rt-K:K-rt)>Math.PI&&(nt=2*Math.PI-nt),nt},rv.toRadians=function(K){return K*Math.PI/180},rv.getTurn=function(K,rt){var nt=Math.sin(rt-K);return nt>0?rv.COUNTERCLOCKWISE:nt<0?rv.CLOCKWISE:rv.NONE},rv.angleBetweenOriented=function(K,rt,nt){var lt=rv.angle(rt,K),pt=rv.angle(rt,nt)-lt;return pt<=-Math.PI?pt+rv.PI_TIMES_2:pt>Math.PI?pt-rv.PI_TIMES_2:pt},nE.PI_TIMES_2.get=function(){return 2*Math.PI},nE.PI_OVER_2.get=function(){return Math.PI/2},nE.PI_OVER_4.get=function(){return Math.PI/4},nE.COUNTERCLOCKWISE.get=function(){return jg.COUNTERCLOCKWISE},nE.CLOCKWISE.get=function(){return jg.CLOCKWISE},nE.NONE.get=function(){return jg.COLLINEAR},Object.defineProperties(rv,nE);var Kv=function K(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new sm,this._seg1=new sm,this._offset0=new sm,this._offset1=new sm,this._side=0,this._hasNarrowConcaveAngle=!1;var rt=arguments[0],nt=arguments[1],lt=arguments[2];this._precisionModel=rt,this._bufParams=nt,this._li=new I_,this._filletAngleQuantum=Math.PI/2/nt.getQuadrantSegments(),nt.getQuadrantSegments()>=8&&nt.getJoinStyle()===Sv.JOIN_ROUND&&(this._closingSegLengthFactor=K.MAX_CLOSING_SEG_LEN_FACTOR),this.init(lt)},QE={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};Kv.prototype.addNextSegment=function(K,rt){if(this._s0=this._s1,this._s1=this._s2,this._s2=K,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var nt=jg.computeOrientation(this._s0,this._s1,this._s2),lt=nt===jg.CLOCKWISE&&this._side===Lg.LEFT||nt===jg.COUNTERCLOCKWISE&&this._side===Lg.RIGHT;nt===0?this.addCollinear(rt):lt?this.addOutsideTurn(nt,rt):this.addInsideTurn(nt,rt)},Kv.prototype.addLineEndCap=function(K,rt){var nt=new sm(K,rt),lt=new sm;this.computeOffsetSegment(nt,Lg.LEFT,this._distance,lt);var pt=new sm;this.computeOffsetSegment(nt,Lg.RIGHT,this._distance,pt);var lo=rt.x-K.x,vo=rt.y-K.y,vf=Math.atan2(vo,lo);switch(this._bufParams.getEndCapStyle()){case Sv.CAP_ROUND:this._segList.addPt(lt.p1),this.addFilletArc(rt,vf+Math.PI/2,vf-Math.PI/2,jg.CLOCKWISE,this._distance),this._segList.addPt(pt.p1);break;case Sv.CAP_FLAT:this._segList.addPt(lt.p1),this._segList.addPt(pt.p1);break;case Sv.CAP_SQUARE:var Cf=new ng;Cf.x=Math.abs(this._distance)*Math.cos(vf),Cf.y=Math.abs(this._distance)*Math.sin(vf);var Tf=new ng(lt.p1.x+Cf.x,lt.p1.y+Cf.y),Rf=new ng(pt.p1.x+Cf.x,pt.p1.y+Cf.y);this._segList.addPt(Tf),this._segList.addPt(Rf)}},Kv.prototype.getCoordinates=function(){return this._segList.getCoordinates()},Kv.prototype.addMitreJoin=function(K,rt,nt,lt){var pt=!0,lo=null;try{lo=Xb.intersection(rt.p0,rt.p1,nt.p0,nt.p1),(lt<=0?1:lo.distance(K)/Math.abs(lt))>this._bufParams.getMitreLimit()&&(pt=!1)}catch(vo){if(!(vo instanceof Zx))throw vo;lo=new ng(0,0),pt=!1}pt?this._segList.addPt(lo):this.addLimitedMitreJoin(rt,nt,lt,this._bufParams.getMitreLimit())},Kv.prototype.addFilletCorner=function(K,rt,nt,lt,pt){var lo=rt.x-K.x,vo=rt.y-K.y,vf=Math.atan2(vo,lo),Cf=nt.x-K.x,Tf=nt.y-K.y,Rf=Math.atan2(Tf,Cf);lt===jg.CLOCKWISE?vf<=Rf&&(vf+=2*Math.PI):vf>=Rf&&(vf-=2*Math.PI),this._segList.addPt(rt),this.addFilletArc(K,vf,Rf,lt,pt),this._segList.addPt(nt)},Kv.prototype.addOutsideTurn=function(K,rt){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*Kv.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===Sv.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Sv.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(rt&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,K,this._distance),this._segList.addPt(this._offset1.p0))},Kv.prototype.createSquare=function(K){this._segList.addPt(new ng(K.x+this._distance,K.y+this._distance)),this._segList.addPt(new ng(K.x+this._distance,K.y-this._distance)),this._segList.addPt(new ng(K.x-this._distance,K.y-this._distance)),this._segList.addPt(new ng(K.x-this._distance,K.y+this._distance)),this._segList.closeRing()},Kv.prototype.addSegments=function(K,rt){this._segList.addPts(K,rt)},Kv.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},Kv.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},Kv.prototype.initSideSegments=function(K,rt,nt){this._s1=K,this._s2=rt,this._side=nt,this._seg1.setCoordinates(K,rt),this.computeOffsetSegment(this._seg1,nt,this._distance,this._offset1)},Kv.prototype.addLimitedMitreJoin=function(K,rt,nt,lt){var pt=this._seg0.p1,lo=rv.angle(pt,this._seg0.p0),vo=rv.angleBetweenOriented(this._seg0.p0,pt,this._seg1.p1)/2,vf=rv.normalize(lo+vo),Cf=rv.normalize(vf+Math.PI),Tf=lt*nt,Rf=nt-Tf*Math.abs(Math.sin(vo)),Of=pt.x+Tf*Math.cos(Cf),Bf=pt.y+Tf*Math.sin(Cf),Gf=new ng(Of,Bf),qf=new sm(pt,Gf),Kf=qf.pointAlongOffset(1,Rf),Uf=qf.pointAlongOffset(1,-Rf);this._side===Lg.LEFT?(this._segList.addPt(Kf),this._segList.addPt(Uf)):(this._segList.addPt(Uf),this._segList.addPt(Kf))},Kv.prototype.computeOffsetSegment=function(K,rt,nt,lt){var pt=rt===Lg.LEFT?1:-1,lo=K.p1.x-K.p0.x,vo=K.p1.y-K.p0.y,vf=Math.sqrt(lo*lo+vo*vo),Cf=pt*nt*lo/vf,Tf=pt*nt*vo/vf;lt.p0.x=K.p0.x-Tf,lt.p0.y=K.p0.y+Cf,lt.p1.x=K.p1.x-Tf,lt.p1.y=K.p1.y+Cf},Kv.prototype.addFilletArc=function(K,rt,nt,lt,pt){var lo=lt===jg.CLOCKWISE?-1:1,vo=Math.abs(rt-nt),vf=Math.trunc(vo/this._filletAngleQuantum+.5);if(vf<1)return null;for(var Cf=vo/vf,Tf=0,Rf=new ng;Tf<vo;){var Of=rt+lo*Tf;Rf.x=K.x+pt*Math.cos(Of),Rf.y=K.y+pt*Math.sin(Of),this._segList.addPt(Rf),Tf+=Cf}},Kv.prototype.addInsideTurn=function(K,rt){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*Kv.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var nt=new ng((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(nt);var lt=new ng((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(lt)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},Kv.prototype.createCircle=function(K){var rt=new ng(K.x+this._distance,K.y);this._segList.addPt(rt),this.addFilletArc(K,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},Kv.prototype.addBevelJoin=function(K,rt){this._segList.addPt(K.p1),this._segList.addPt(rt.p0)},Kv.prototype.init=function(K){this._distance=K,this._maxCurveSegmentError=K*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Ob,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(K*Kv.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},Kv.prototype.addCollinear=function(K){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===Sv.JOIN_BEVEL||this._bufParams.getJoinStyle()===Sv.JOIN_MITRE?(K&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,jg.CLOCKWISE,this._distance))},Kv.prototype.closeRing=function(){this._segList.closeRing()},Kv.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},Kv.prototype.interfaces_=function(){return[]},Kv.prototype.getClass=function(){return Kv},QE.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return .001},QE.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return .001},QE.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},QE.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(Kv,QE);var lm=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var K=arguments[0],rt=arguments[1];this._precisionModel=K,this._bufParams=rt};lm.prototype.getOffsetCurve=function(K,rt){if(this._distance=rt,rt===0)return null;var nt=rt<0,lt=Math.abs(rt),pt=this.getSegGen(lt);K.length<=1?this.computePointCurve(K[0],pt):this.computeOffsetCurve(K,nt,pt);var lo=pt.getCoordinates();return nt&&qm.reverse(lo),lo},lm.prototype.computeSingleSidedBufferCurve=function(K,rt,nt){var lt=this.simplifyTolerance(this._distance);if(rt){nt.addSegments(K,!0);var pt=Uv.simplify(K,-lt),lo=pt.length-1;nt.initSideSegments(pt[lo],pt[lo-1],Lg.LEFT),nt.addFirstSegment();for(var vo=lo-2;vo>=0;vo--)nt.addNextSegment(pt[vo],!0)}else{nt.addSegments(K,!1);var vf=Uv.simplify(K,lt),Cf=vf.length-1;nt.initSideSegments(vf[0],vf[1],Lg.LEFT),nt.addFirstSegment();for(var Tf=2;Tf<=Cf;Tf++)nt.addNextSegment(vf[Tf],!0)}nt.addLastSegment(),nt.closeRing()},lm.prototype.computeRingBufferCurve=function(K,rt,nt){var lt=this.simplifyTolerance(this._distance);rt===Lg.RIGHT&&(lt=-lt);var pt=Uv.simplify(K,lt),lo=pt.length-1;nt.initSideSegments(pt[lo-1],pt[0],rt);for(var vo=1;vo<=lo;vo++){var vf=vo!==1;nt.addNextSegment(pt[vo],vf)}nt.closeRing()},lm.prototype.computeLineBufferCurve=function(K,rt){var nt=this.simplifyTolerance(this._distance),lt=Uv.simplify(K,nt),pt=lt.length-1;rt.initSideSegments(lt[0],lt[1],Lg.LEFT);for(var lo=2;lo<=pt;lo++)rt.addNextSegment(lt[lo],!0);rt.addLastSegment(),rt.addLineEndCap(lt[pt-1],lt[pt]);var vo=Uv.simplify(K,-nt),vf=vo.length-1;rt.initSideSegments(vo[vf],vo[vf-1],Lg.LEFT);for(var Cf=vf-2;Cf>=0;Cf--)rt.addNextSegment(vo[Cf],!0);rt.addLastSegment(),rt.addLineEndCap(vo[1],vo[0]),rt.closeRing()},lm.prototype.computePointCurve=function(K,rt){switch(this._bufParams.getEndCapStyle()){case Sv.CAP_ROUND:rt.createCircle(K);break;case Sv.CAP_SQUARE:rt.createSquare(K)}},lm.prototype.getLineCurve=function(K,rt){if(this._distance=rt,rt<0&&!this._bufParams.isSingleSided()||rt===0)return null;var nt=Math.abs(rt),lt=this.getSegGen(nt);if(K.length<=1)this.computePointCurve(K[0],lt);else if(this._bufParams.isSingleSided()){var pt=rt<0;this.computeSingleSidedBufferCurve(K,pt,lt)}else this.computeLineBufferCurve(K,lt);return lt.getCoordinates()},lm.prototype.getBufferParameters=function(){return this._bufParams},lm.prototype.simplifyTolerance=function(K){return K*this._bufParams.getSimplifyFactor()},lm.prototype.getRingCurve=function(K,rt,nt){if(this._distance=nt,K.length<=2)return this.getLineCurve(K,nt);if(nt===0)return lm.copyCoordinates(K);var lt=this.getSegGen(nt);return this.computeRingBufferCurve(K,rt,lt),lt.getCoordinates()},lm.prototype.computeOffsetCurve=function(K,rt,nt){var lt=this.simplifyTolerance(this._distance);if(rt){var pt=Uv.simplify(K,-lt),lo=pt.length-1;nt.initSideSegments(pt[lo],pt[lo-1],Lg.LEFT),nt.addFirstSegment();for(var vo=lo-2;vo>=0;vo--)nt.addNextSegment(pt[vo],!0)}else{var vf=Uv.simplify(K,lt),Cf=vf.length-1;nt.initSideSegments(vf[0],vf[1],Lg.LEFT),nt.addFirstSegment();for(var Tf=2;Tf<=Cf;Tf++)nt.addNextSegment(vf[Tf],!0)}nt.addLastSegment()},lm.prototype.getSegGen=function(K){return new Kv(this._precisionModel,this._bufParams,K)},lm.prototype.interfaces_=function(){return[]},lm.prototype.getClass=function(){return lm},lm.copyCoordinates=function(K){for(var rt=new Array(K.length).fill(null),nt=0;nt<rt.length;nt++)rt[nt]=new ng(K[nt]);return rt};var oE=function(){this._subgraphs=null,this._seg=new sm,this._cga=new jg;var K=arguments[0];this._subgraphs=K},KT={DepthSegment:{configurable:!0}};oE.prototype.findStabbedSegments=function(){var K=this;if(arguments.length===1){for(var rt=arguments[0],nt=new $g,lt=this._subgraphs.iterator();lt.hasNext();){var pt=lt.next(),lo=pt.getEnvelope();rt.y<lo.getMinY()||rt.y>lo.getMaxY()||K.findStabbedSegments(rt,pt.getDirectedEdges(),nt)}return nt}if(arguments.length===3){if(vm(arguments[2],p1)&&arguments[0]instanceof ng&&arguments[1]instanceof YC)for(var vo=arguments[0],vf=arguments[1],Cf=arguments[2],Tf=vf.getEdge().getCoordinates(),Rf=0;Rf<Tf.length-1;Rf++){K._seg.p0=Tf[Rf],K._seg.p1=Tf[Rf+1],K._seg.p0.y>K._seg.p1.y&&K._seg.reverse();var Of=Math.max(K._seg.p0.x,K._seg.p1.x);if(!(Of<vo.x)&&!(K._seg.isHorizontal()||vo.y<K._seg.p0.y||vo.y>K._seg.p1.y||jg.computeOrientation(K._seg.p0,K._seg.p1,vo)===jg.RIGHT)){var Bf=vf.getDepth(Lg.LEFT);K._seg.p0.equals(Tf[Rf])||(Bf=vf.getDepth(Lg.RIGHT));var Gf=new mx(K._seg,Bf);Cf.add(Gf)}}else if(vm(arguments[2],p1)&&arguments[0]instanceof ng&&vm(arguments[1],p1))for(var qf=arguments[0],Kf=arguments[1],Uf=arguments[2],lp=Kf.iterator();lp.hasNext();){var xp=lp.next();xp.isForward()&&K.findStabbedSegments(qf,xp,Uf)}}},oE.prototype.getDepth=function(K){var rt=this.findStabbedSegments(K);return rt.size()===0?0:_1.min(rt)._leftDepth},oE.prototype.interfaces_=function(){return[]},oE.prototype.getClass=function(){return oE},KT.DepthSegment.get=function(){return mx},Object.defineProperties(oE,KT);var mx=function(){this._upwardSeg=null,this._leftDepth=null;var K=arguments[0],rt=arguments[1];this._upwardSeg=new sm(K),this._leftDepth=rt};mx.prototype.compareTo=function(K){var rt=K;if(this._upwardSeg.minX()>=rt._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=rt._upwardSeg.minX())return-1;var nt=this._upwardSeg.orientationIndex(rt._upwardSeg);return nt!==0||(nt=-1*rt._upwardSeg.orientationIndex(this._upwardSeg))!==0?nt:this._upwardSeg.compareTo(rt._upwardSeg)},mx.prototype.compareX=function(K,rt){var nt=K.p0.compareTo(rt.p0);return nt!==0?nt:K.p1.compareTo(rt.p1)},mx.prototype.toString=function(){return this._upwardSeg.toString()},mx.prototype.interfaces_=function(){return[Yb]},mx.prototype.getClass=function(){return mx};var Tm=function(K,rt,nt){this.p0=K||null,this.p1=rt||null,this.p2=nt||null};Tm.prototype.area=function(){return Tm.area(this.p0,this.p1,this.p2)},Tm.prototype.signedArea=function(){return Tm.signedArea(this.p0,this.p1,this.p2)},Tm.prototype.interpolateZ=function(K){if(K===null)throw new e0("Supplied point is null.");return Tm.interpolateZ(K,this.p0,this.p1,this.p2)},Tm.prototype.longestSideLength=function(){return Tm.longestSideLength(this.p0,this.p1,this.p2)},Tm.prototype.isAcute=function(){return Tm.isAcute(this.p0,this.p1,this.p2)},Tm.prototype.circumcentre=function(){return Tm.circumcentre(this.p0,this.p1,this.p2)},Tm.prototype.area3D=function(){return Tm.area3D(this.p0,this.p1,this.p2)},Tm.prototype.centroid=function(){return Tm.centroid(this.p0,this.p1,this.p2)},Tm.prototype.inCentre=function(){return Tm.inCentre(this.p0,this.p1,this.p2)},Tm.prototype.interfaces_=function(){return[]},Tm.prototype.getClass=function(){return Tm},Tm.area=function(K,rt,nt){return Math.abs(((nt.x-K.x)*(rt.y-K.y)-(rt.x-K.x)*(nt.y-K.y))/2)},Tm.signedArea=function(K,rt,nt){return((nt.x-K.x)*(rt.y-K.y)-(rt.x-K.x)*(nt.y-K.y))/2},Tm.det=function(K,rt,nt,lt){return K*lt-rt*nt},Tm.interpolateZ=function(K,rt,nt,lt){var pt=rt.x,lo=rt.y,vo=nt.x-pt,vf=lt.x-pt,Cf=nt.y-lo,Tf=lt.y-lo,Rf=vo*Tf-vf*Cf,Of=K.x-pt,Bf=K.y-lo,Gf=(Tf*Of-vf*Bf)/Rf,qf=(-Cf*Of+vo*Bf)/Rf;return rt.z+Gf*(nt.z-rt.z)+qf*(lt.z-rt.z)},Tm.longestSideLength=function(K,rt,nt){var lt=K.distance(rt),pt=rt.distance(nt),lo=nt.distance(K),vo=lt;return pt>vo&&(vo=pt),lo>vo&&(vo=lo),vo},Tm.isAcute=function(K,rt,nt){return!!rv.isAcute(K,rt,nt)&&!!rv.isAcute(rt,nt,K)&&!!rv.isAcute(nt,K,rt)},Tm.circumcentre=function(K,rt,nt){var lt=nt.x,pt=nt.y,lo=K.x-lt,vo=K.y-pt,vf=rt.x-lt,Cf=rt.y-pt,Tf=2*Tm.det(lo,vo,vf,Cf),Rf=Tm.det(vo,lo*lo+vo*vo,Cf,vf*vf+Cf*Cf),Of=Tm.det(lo,lo*lo+vo*vo,vf,vf*vf+Cf*Cf);return new ng(lt-Rf/Tf,pt+Of/Tf)},Tm.perpendicularBisector=function(K,rt){var nt=rt.x-K.x,lt=rt.y-K.y,pt=new Xb(K.x+nt/2,K.y+lt/2,1),lo=new Xb(K.x-lt+nt/2,K.y+nt+lt/2,1);return new Xb(pt,lo)},Tm.angleBisector=function(K,rt,nt){var lt=rt.distance(K),pt=lt/(lt+rt.distance(nt)),lo=nt.x-K.x,vo=nt.y-K.y;return new ng(K.x+pt*lo,K.y+pt*vo)},Tm.area3D=function(K,rt,nt){var lt=rt.x-K.x,pt=rt.y-K.y,lo=rt.z-K.z,vo=nt.x-K.x,vf=nt.y-K.y,Cf=nt.z-K.z,Tf=pt*Cf-lo*vf,Rf=lo*vo-lt*Cf,Of=lt*vf-pt*vo,Bf=Tf*Tf+Rf*Rf+Of*Of,Gf=Math.sqrt(Bf)/2;return Gf},Tm.centroid=function(K,rt,nt){var lt=(K.x+rt.x+nt.x)/3,pt=(K.y+rt.y+nt.y)/3;return new ng(lt,pt)},Tm.inCentre=function(K,rt,nt){var lt=rt.distance(nt),pt=K.distance(nt),lo=K.distance(rt),vo=lt+pt+lo,vf=(lt*K.x+pt*rt.x+lo*nt.x)/vo,Cf=(lt*K.y+pt*rt.y+lo*nt.y)/vo;return new ng(vf,Cf)};var tb=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new $g;var K=arguments[0],rt=arguments[1],nt=arguments[2];this._inputGeom=K,this._distance=rt,this._curveBuilder=nt};tb.prototype.addPoint=function(K){if(this._distance<=0)return null;var rt=K.getCoordinates(),nt=this._curveBuilder.getLineCurve(rt,this._distance);this.addCurve(nt,dg.EXTERIOR,dg.INTERIOR)},tb.prototype.addPolygon=function(K){var rt=this,nt=this._distance,lt=Lg.LEFT;this._distance<0&&(nt=-this._distance,lt=Lg.RIGHT);var pt=K.getExteriorRing(),lo=qm.removeRepeatedPoints(pt.getCoordinates());if(this._distance<0&&this.isErodedCompletely(pt,this._distance)||this._distance<=0&&lo.length<3)return null;this.addPolygonRing(lo,nt,lt,dg.EXTERIOR,dg.INTERIOR);for(var vo=0;vo<K.getNumInteriorRing();vo++){var vf=K.getInteriorRingN(vo),Cf=qm.removeRepeatedPoints(vf.getCoordinates());rt._distance>0&&rt.isErodedCompletely(vf,-rt._distance)||rt.addPolygonRing(Cf,nt,Lg.opposite(lt),dg.INTERIOR,dg.EXTERIOR)}},tb.prototype.isTriangleErodedCompletely=function(K,rt){var nt=new Tm(K[0],K[1],K[2]),lt=nt.inCentre();return jg.distancePointLine(lt,nt.p0,nt.p1)<Math.abs(rt)},tb.prototype.addLineString=function(K){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var rt=qm.removeRepeatedPoints(K.getCoordinates()),nt=this._curveBuilder.getLineCurve(rt,this._distance);this.addCurve(nt,dg.EXTERIOR,dg.INTERIOR)},tb.prototype.addCurve=function(K,rt,nt){if(K===null||K.length<2)return null;var lt=new l0(K,new Pv(0,dg.BOUNDARY,rt,nt));this._curveList.add(lt)},tb.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},tb.prototype.addPolygonRing=function(K,rt,nt,lt,pt){if(rt===0&&K.length<xw.MINIMUM_VALID_SIZE)return null;var lo=lt,vo=pt;K.length>=xw.MINIMUM_VALID_SIZE&&jg.isCCW(K)&&(lo=pt,vo=lt,nt=Lg.opposite(nt));var vf=this._curveBuilder.getRingCurve(K,nt,rt);this.addCurve(vf,lo,vo)},tb.prototype.add=function(K){if(K.isEmpty())return null;K instanceof F0?this.addPolygon(K):K instanceof t0?this.addLineString(K):K instanceof vb?this.addPoint(K):(K instanceof ZE||K instanceof L_||K instanceof Ew||K instanceof zy)&&this.addCollection(K)},tb.prototype.isErodedCompletely=function(K,rt){var nt=K.getCoordinates();if(nt.length<4)return rt<0;if(nt.length===4)return this.isTriangleErodedCompletely(nt,rt);var lt=K.getEnvelopeInternal(),pt=Math.min(lt.getHeight(),lt.getWidth());return rt<0&&2*Math.abs(rt)>pt},tb.prototype.addCollection=function(K){for(var rt=0;rt<K.getNumGeometries();rt++){var nt=K.getGeometryN(rt);this.add(nt)}},tb.prototype.interfaces_=function(){return[]},tb.prototype.getClass=function(){return tb};var Av=function(){};Av.prototype.locate=function(K){},Av.prototype.interfaces_=function(){return[]},Av.prototype.getClass=function(){return Av};var q1=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var K=arguments[0];this._parent=K,this._atStart=!0,this._index=0,this._max=K.getNumGeometries()};q1.prototype.next=function(){if(this._atStart)return this._atStart=!1,q1.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new eE;var K=this._parent.getGeometryN(this._index++);return K instanceof zy?(this._subcollectionIterator=new q1(K),this._subcollectionIterator.next()):K},q1.prototype.remove=function(){throw new Error(this.getClass().getName())},q1.prototype.hasNext=function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},q1.prototype.interfaces_=function(){return[WE]},q1.prototype.getClass=function(){return q1},q1.isAtomic=function(K){return!(K instanceof zy)};var rb=function(){this._geom=null;var K=arguments[0];this._geom=K};rb.prototype.locate=function(K){return rb.locate(K,this._geom)},rb.prototype.interfaces_=function(){return[Av]},rb.prototype.getClass=function(){return rb},rb.isPointInRing=function(K,rt){return!!rt.getEnvelopeInternal().intersects(K)&&jg.isPointInRing(K,rt.getCoordinates())},rb.containsPointInPolygon=function(K,rt){if(rt.isEmpty())return!1;var nt=rt.getExteriorRing();if(!rb.isPointInRing(K,nt))return!1;for(var lt=0;lt<rt.getNumInteriorRing();lt++){var pt=rt.getInteriorRingN(lt);if(rb.isPointInRing(K,pt))return!1}return!0},rb.containsPoint=function(K,rt){if(rt instanceof F0)return rb.containsPointInPolygon(K,rt);if(rt instanceof zy)for(var nt=new q1(rt);nt.hasNext();){var lt=nt.next();if(lt!==rt&&rb.containsPoint(K,lt))return!0}return!1},rb.locate=function(K,rt){return rt.isEmpty()?dg.EXTERIOR:rb.containsPoint(K,rt)?dg.INTERIOR:dg.EXTERIOR};var iy=function(){this._edgeMap=new Ty,this._edgeList=null,this._ptInAreaLocation=[dg.NONE,dg.NONE]};iy.prototype.getNextCW=function(K){this.getEdges();var rt=this._edgeList.indexOf(K),nt=rt-1;return rt===0&&(nt=this._edgeList.size()-1),this._edgeList.get(nt)},iy.prototype.propagateSideLabels=function(K){for(var rt=dg.NONE,nt=this.iterator();nt.hasNext();){var lt=nt.next().getLabel();lt.isArea(K)&&lt.getLocation(K,Lg.LEFT)!==dg.NONE&&(rt=lt.getLocation(K,Lg.LEFT))}if(rt===dg.NONE)return null;for(var pt=rt,lo=this.iterator();lo.hasNext();){var vo=lo.next(),vf=vo.getLabel();if(vf.getLocation(K,Lg.ON)===dg.NONE&&vf.setLocation(K,Lg.ON,pt),vf.isArea(K)){var Cf=vf.getLocation(K,Lg.LEFT),Tf=vf.getLocation(K,Lg.RIGHT);if(Tf!==dg.NONE){if(Tf!==pt)throw new Qw("side location conflict",vo.getCoordinate());Cf===dg.NONE&&Im.shouldNeverReachHere("found single null side (at "+vo.getCoordinate()+")"),pt=Cf}else Im.isTrue(vf.getLocation(K,Lg.LEFT)===dg.NONE,"found single null side"),vf.setLocation(K,Lg.RIGHT,pt),vf.setLocation(K,Lg.LEFT,pt)}}},iy.prototype.getCoordinate=function(){var K=this.iterator();return K.hasNext()?K.next().getCoordinate():null},iy.prototype.print=function(K){my.out.println("EdgeEndStar:   "+this.getCoordinate());for(var rt=this.iterator();rt.hasNext();)rt.next().print(K)},iy.prototype.isAreaLabelsConsistent=function(K){return this.computeEdgeEndLabels(K.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},iy.prototype.checkAreaLabelsConsistent=function(K){var rt=this.getEdges();if(rt.size()<=0)return!0;var nt=rt.size()-1,lt=rt.get(nt).getLabel().getLocation(K,Lg.LEFT);Im.isTrue(lt!==dg.NONE,"Found unlabelled area edge");for(var pt=lt,lo=this.iterator();lo.hasNext();){var vo=lo.next().getLabel();Im.isTrue(vo.isArea(K),"Found non-area edge");var vf=vo.getLocation(K,Lg.LEFT),Cf=vo.getLocation(K,Lg.RIGHT);if(vf===Cf||Cf!==pt)return!1;pt=vf}return!0},iy.prototype.findIndex=function(K){this.iterator();for(var rt=0;rt<this._edgeList.size();rt++)if(this._edgeList.get(rt)===K)return rt;return-1},iy.prototype.iterator=function(){return this.getEdges().iterator()},iy.prototype.getEdges=function(){return this._edgeList===null&&(this._edgeList=new $g(this._edgeMap.values())),this._edgeList},iy.prototype.getLocation=function(K,rt,nt){return this._ptInAreaLocation[K]===dg.NONE&&(this._ptInAreaLocation[K]=rb.locate(rt,nt[K].getGeometry())),this._ptInAreaLocation[K]},iy.prototype.toString=function(){var K=new F1;K.append("EdgeEndStar:   "+this.getCoordinate()),K.append(`
`);for(var rt=this.iterator();rt.hasNext();){var nt=rt.next();K.append(nt),K.append(`
`)}return K.toString()},iy.prototype.computeEdgeEndLabels=function(K){for(var rt=this.iterator();rt.hasNext();)rt.next().computeLabel(K)},iy.prototype.computeLabelling=function(K){this.computeEdgeEndLabels(K[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var rt=[!1,!1],nt=this.iterator();nt.hasNext();)for(var lt=nt.next().getLabel(),pt=0;pt<2;pt++)lt.isLine(pt)&&lt.getLocation(pt)===dg.BOUNDARY&&(rt[pt]=!0);for(var lo=this.iterator();lo.hasNext();)for(var vo=lo.next(),vf=vo.getLabel(),Cf=0;Cf<2;Cf++)if(vf.isAnyNull(Cf)){var Tf=dg.NONE;if(rt[Cf])Tf=dg.EXTERIOR;else{var Rf=vo.getCoordinate();Tf=this.getLocation(Cf,Rf,K)}vf.setAllLocationsIfNull(Cf,Tf)}},iy.prototype.getDegree=function(){return this._edgeMap.size()},iy.prototype.insertEdgeEnd=function(K,rt){this._edgeMap.put(K,rt),this._edgeList=null},iy.prototype.interfaces_=function(){return[]},iy.prototype.getClass=function(){return iy};var xO=function(K){function rt(){K.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.linkResultDirectedEdges=function(){var nt=this;this.getResultAreaEdges();for(var lt=null,pt=null,lo=this._SCANNING_FOR_INCOMING,vo=0;vo<this._resultAreaEdgeList.size();vo++){var vf=nt._resultAreaEdgeList.get(vo),Cf=vf.getSym();if(vf.getLabel().isArea())switch(lt===null&&vf.isInResult()&&(lt=vf),lo){case nt._SCANNING_FOR_INCOMING:if(!Cf.isInResult())continue;pt=Cf,lo=nt._LINKING_TO_OUTGOING;break;case nt._LINKING_TO_OUTGOING:if(!vf.isInResult())continue;pt.setNext(vf),lo=nt._SCANNING_FOR_INCOMING}}if(lo===this._LINKING_TO_OUTGOING){if(lt===null)throw new Qw("no outgoing dirEdge found",this.getCoordinate());Im.isTrue(lt.isInResult(),"unable to link last incoming dirEdge"),pt.setNext(lt)}},rt.prototype.insert=function(nt){var lt=nt;this.insertEdgeEnd(lt,lt)},rt.prototype.getRightmostEdge=function(){var nt=this.getEdges(),lt=nt.size();if(lt<1)return null;var pt=nt.get(0);if(lt===1)return pt;var lo=nt.get(lt-1),vo=pt.getQuadrant(),vf=lo.getQuadrant();return Lv.isNorthern(vo)&&Lv.isNorthern(vf)?pt:Lv.isNorthern(vo)||Lv.isNorthern(vf)?pt.getDy()!==0?pt:lo.getDy()!==0?lo:(Im.shouldNeverReachHere("found two horizontal edges incident on node"),null):lo},rt.prototype.print=function(nt){my.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var lt=this.iterator();lt.hasNext();){var pt=lt.next();nt.print("out "),pt.print(nt),nt.println(),nt.print("in "),pt.getSym().print(nt),nt.println()}},rt.prototype.getResultAreaEdges=function(){if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new $g;for(var nt=this.iterator();nt.hasNext();){var lt=nt.next();(lt.isInResult()||lt.getSym().isInResult())&&this._resultAreaEdgeList.add(lt)}return this._resultAreaEdgeList},rt.prototype.updateLabelling=function(nt){for(var lt=this.iterator();lt.hasNext();){var pt=lt.next().getLabel();pt.setAllLocationsIfNull(0,nt.getLocation(0)),pt.setAllLocationsIfNull(1,nt.getLocation(1))}},rt.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var nt=null,lt=null,pt=this._edgeList.size()-1;pt>=0;pt--){var lo=this._edgeList.get(pt),vo=lo.getSym();lt===null&&(lt=vo),nt!==null&&vo.setNext(nt),nt=lo}lt.setNext(nt)},rt.prototype.computeDepths=function(){var nt=this;if(arguments.length===1){var lt=arguments[0],pt=this.findIndex(lt),lo=lt.getDepth(Lg.LEFT),vo=lt.getDepth(Lg.RIGHT),vf=this.computeDepths(pt+1,this._edgeList.size(),lo),Cf=this.computeDepths(0,pt,vf);if(Cf!==vo)throw new Qw("depth mismatch at "+lt.getCoordinate())}else if(arguments.length===3){for(var Tf=arguments[0],Rf=arguments[1],Of=arguments[2],Bf=Of,Gf=Tf;Gf<Rf;Gf++){var qf=nt._edgeList.get(Gf);qf.setEdgeDepths(Lg.RIGHT,Bf),Bf=qf.getDepth(Lg.LEFT)}return Bf}},rt.prototype.mergeSymLabels=function(){for(var nt=this.iterator();nt.hasNext();){var lt=nt.next();lt.getLabel().merge(lt.getSym().getLabel())}},rt.prototype.linkMinimalDirectedEdges=function(nt){for(var lt=this,pt=null,lo=null,vo=this._SCANNING_FOR_INCOMING,vf=this._resultAreaEdgeList.size()-1;vf>=0;vf--){var Cf=lt._resultAreaEdgeList.get(vf),Tf=Cf.getSym();switch(pt===null&&Cf.getEdgeRing()===nt&&(pt=Cf),vo){case lt._SCANNING_FOR_INCOMING:if(Tf.getEdgeRing()!==nt)continue;lo=Tf,vo=lt._LINKING_TO_OUTGOING;break;case lt._LINKING_TO_OUTGOING:if(Cf.getEdgeRing()!==nt)continue;lo.setNextMin(Cf),vo=lt._SCANNING_FOR_INCOMING}}vo===this._LINKING_TO_OUTGOING&&(Im.isTrue(pt!==null,"found null for first outgoing dirEdge"),Im.isTrue(pt.getEdgeRing()===nt,"unable to link last incoming dirEdge"),lo.setNextMin(pt))},rt.prototype.getOutgoingDegree=function(){if(arguments.length===0){for(var nt=0,lt=this.iterator();lt.hasNext();){var pt=lt.next();pt.isInResult()&&nt++}return nt}if(arguments.length===1){for(var lo=arguments[0],vo=0,vf=this.iterator();vf.hasNext();){var Cf=vf.next();Cf.getEdgeRing()===lo&&vo++}return vo}},rt.prototype.getLabel=function(){return this._label},rt.prototype.findCoveredLineEdges=function(){for(var nt=dg.NONE,lt=this.iterator();lt.hasNext();){var pt=lt.next(),lo=pt.getSym();if(!pt.isLineEdge()){if(pt.isInResult()){nt=dg.INTERIOR;break}if(lo.isInResult()){nt=dg.EXTERIOR;break}}}if(nt===dg.NONE)return null;for(var vo=nt,vf=this.iterator();vf.hasNext();){var Cf=vf.next(),Tf=Cf.getSym();Cf.isLineEdge()?Cf.getEdge().setCovered(vo===dg.INTERIOR):(Cf.isInResult()&&(vo=dg.EXTERIOR),Tf.isInResult()&&(vo=dg.INTERIOR))}},rt.prototype.computeLabelling=function(nt){K.prototype.computeLabelling.call(this,nt),this._label=new Pv(dg.NONE);for(var lt=this.iterator();lt.hasNext();)for(var pt=lt.next().getEdge().getLabel(),lo=0;lo<2;lo++){var vo=pt.getLocation(lo);vo!==dg.INTERIOR&&vo!==dg.BOUNDARY||this._label.setLocation(lo,dg.INTERIOR)}},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt}(iy),JT=function(K){function rt(){K.apply(this,arguments)}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.createNode=function(nt){return new qC(nt,new xO)},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt}(XE),B_=function K(){this._pts=null,this._orientation=null;var rt=arguments[0];this._pts=rt,this._orientation=K.orientation(rt)};B_.prototype.compareTo=function(K){var rt=K;return B_.compareOriented(this._pts,this._orientation,rt._pts,rt._orientation)},B_.prototype.interfaces_=function(){return[Yb]},B_.prototype.getClass=function(){return B_},B_.orientation=function(K){return qm.increasingDirection(K)===1},B_.compareOriented=function(K,rt,nt,lt){for(var pt=rt?1:-1,lo=lt?1:-1,vo=rt?K.length:-1,vf=lt?nt.length:-1,Cf=rt?0:K.length-1,Tf=lt?0:nt.length-1;;){var Rf=K[Cf].compareTo(nt[Tf]);if(Rf!==0)return Rf;var Of=(Cf+=pt)===vo,Bf=(Tf+=lo)===vf;if(Of&&!Bf)return-1;if(!Of&&Bf)return 1;if(Of&&Bf)return 0}};var wb=function(){this._edges=new $g,this._ocaMap=new Ty};wb.prototype.print=function(K){K.print("MULTILINESTRING ( ");for(var rt=0;rt<this._edges.size();rt++){var nt=this._edges.get(rt);rt>0&&K.print(","),K.print("(");for(var lt=nt.getCoordinates(),pt=0;pt<lt.length;pt++)pt>0&&K.print(","),K.print(lt[pt].x+" "+lt[pt].y);K.println(")")}K.print(")  ")},wb.prototype.addAll=function(K){for(var rt=K.iterator();rt.hasNext();)this.add(rt.next())},wb.prototype.findEdgeIndex=function(K){for(var rt=0;rt<this._edges.size();rt++)if(this._edges.get(rt).equals(K))return rt;return-1},wb.prototype.iterator=function(){return this._edges.iterator()},wb.prototype.getEdges=function(){return this._edges},wb.prototype.get=function(K){return this._edges.get(K)},wb.prototype.findEqualEdge=function(K){var rt=new B_(K.getCoordinates());return this._ocaMap.get(rt)},wb.prototype.add=function(K){this._edges.add(K);var rt=new B_(K.getCoordinates());this._ocaMap.put(rt,K)},wb.prototype.interfaces_=function(){return[]},wb.prototype.getClass=function(){return wb};var vx=function(){};vx.prototype.processIntersections=function(K,rt,nt,lt){},vx.prototype.isDone=function(){},vx.prototype.interfaces_=function(){return[]},vx.prototype.getClass=function(){return vx};var _b=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var K=arguments[0];this._li=K};_b.prototype.isTrivialIntersection=function(K,rt,nt,lt){if(K===nt&&this._li.getIntersectionNum()===1){if(_b.isAdjacentSegments(rt,lt))return!0;if(K.isClosed()){var pt=K.size()-1;if(rt===0&&lt===pt||lt===0&&rt===pt)return!0}}return!1},_b.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},_b.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},_b.prototype.getLineIntersector=function(){return this._li},_b.prototype.hasProperIntersection=function(){return this._hasProper},_b.prototype.processIntersections=function(K,rt,nt,lt){if(K===nt&&rt===lt)return null;this.numTests++;var pt=K.getCoordinates()[rt],lo=K.getCoordinates()[rt+1],vo=nt.getCoordinates()[lt],vf=nt.getCoordinates()[lt+1];this._li.computeIntersection(pt,lo,vo,vf),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(K,rt,nt,lt)||(this._hasIntersection=!0,K.addIntersections(this._li,rt,0),nt.addIntersections(this._li,lt,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},_b.prototype.hasIntersection=function(){return this._hasIntersection},_b.prototype.isDone=function(){return!1},_b.prototype.hasInteriorIntersection=function(){return this._hasInterior},_b.prototype.interfaces_=function(){return[vx]},_b.prototype.getClass=function(){return _b},_b.isAdjacentSegments=function(K,rt){return Math.abs(K-rt)===1};var Y1=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var K=arguments[0],rt=arguments[1],nt=arguments[2];this.coord=new ng(K),this.segmentIndex=rt,this.dist=nt};Y1.prototype.getSegmentIndex=function(){return this.segmentIndex},Y1.prototype.getCoordinate=function(){return this.coord},Y1.prototype.print=function(K){K.print(this.coord),K.print(" seg # = "+this.segmentIndex),K.println(" dist = "+this.dist)},Y1.prototype.compareTo=function(K){var rt=K;return this.compare(rt.segmentIndex,rt.dist)},Y1.prototype.isEndPoint=function(K){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===K},Y1.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Y1.prototype.getDistance=function(){return this.dist},Y1.prototype.compare=function(K,rt){return this.segmentIndex<K?-1:this.segmentIndex>K?1:this.dist<rt?-1:this.dist>rt?1:0},Y1.prototype.interfaces_=function(){return[Yb]},Y1.prototype.getClass=function(){return Y1};var _v=function(){this._nodeMap=new Ty,this.edge=null;var K=arguments[0];this.edge=K};_v.prototype.print=function(K){K.println("Intersections:");for(var rt=this.iterator();rt.hasNext();)rt.next().print(K)},_v.prototype.iterator=function(){return this._nodeMap.values().iterator()},_v.prototype.addSplitEdges=function(K){this.addEndpoints();for(var rt=this.iterator(),nt=rt.next();rt.hasNext();){var lt=rt.next(),pt=this.createSplitEdge(nt,lt);K.add(pt),nt=lt}},_v.prototype.addEndpoints=function(){var K=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[K],K,0)},_v.prototype.createSplitEdge=function(K,rt){var nt=rt.segmentIndex-K.segmentIndex+2,lt=this.edge.pts[rt.segmentIndex],pt=rt.dist>0||!rt.coord.equals2D(lt);pt||nt--;var lo=new Array(nt).fill(null),vo=0;lo[vo++]=new ng(K.coord);for(var vf=K.segmentIndex+1;vf<=rt.segmentIndex;vf++)lo[vo++]=this.edge.pts[vf];return pt&&(lo[vo]=rt.coord),new ek(lo,new Pv(this.edge._label))},_v.prototype.add=function(K,rt,nt){var lt=new Y1(K,rt,nt),pt=this._nodeMap.get(lt);return pt!==null?pt:(this._nodeMap.put(lt,lt),lt)},_v.prototype.isIntersection=function(K){for(var rt=this.iterator();rt.hasNext();)if(rt.next().coord.equals(K))return!0;return!1},_v.prototype.interfaces_=function(){return[]},_v.prototype.getClass=function(){return _v};var $_=function(){};$_.prototype.getChainStartIndices=function(K){var rt=0,nt=new $g;nt.add(new z1(rt));do{var lt=this.findChainEnd(K,rt);nt.add(new z1(lt)),rt=lt}while(rt<K.length-1);return $_.toIntArray(nt)},$_.prototype.findChainEnd=function(K,rt){for(var nt=Lv.quadrant(K[rt],K[rt+1]),lt=rt+1;lt<K.length&&Lv.quadrant(K[lt-1],K[lt])===nt;)lt++;return lt-1},$_.prototype.interfaces_=function(){return[]},$_.prototype.getClass=function(){return $_},$_.toIntArray=function(K){for(var rt=new Array(K.size()).fill(null),nt=0;nt<rt.length;nt++)rt[nt]=K.get(nt).intValue();return rt};var j0=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new am,this.env2=new am;var K=arguments[0];this.e=K,this.pts=K.getCoordinates();var rt=new $_;this.startIndex=rt.getChainStartIndices(this.pts)};j0.prototype.getCoordinates=function(){return this.pts},j0.prototype.getMaxX=function(K){var rt=this.pts[this.startIndex[K]].x,nt=this.pts[this.startIndex[K+1]].x;return rt>nt?rt:nt},j0.prototype.getMinX=function(K){var rt=this.pts[this.startIndex[K]].x,nt=this.pts[this.startIndex[K+1]].x;return rt<nt?rt:nt},j0.prototype.computeIntersectsForChain=function(){if(arguments.length===4){var K=arguments[0],rt=arguments[1],nt=arguments[2],lt=arguments[3];this.computeIntersectsForChain(this.startIndex[K],this.startIndex[K+1],rt,rt.startIndex[nt],rt.startIndex[nt+1],lt)}else if(arguments.length===6){var pt=arguments[0],lo=arguments[1],vo=arguments[2],vf=arguments[3],Cf=arguments[4],Tf=arguments[5],Rf=this.pts[pt],Of=this.pts[lo],Bf=vo.pts[vf],Gf=vo.pts[Cf];if(lo-pt==1&&Cf-vf==1)return Tf.addIntersections(this.e,pt,vo.e,vf),null;if(this.env1.init(Rf,Of),this.env2.init(Bf,Gf),!this.env1.intersects(this.env2))return null;var qf=Math.trunc((pt+lo)/2),Kf=Math.trunc((vf+Cf)/2);pt<qf&&(vf<Kf&&this.computeIntersectsForChain(pt,qf,vo,vf,Kf,Tf),Kf<Cf&&this.computeIntersectsForChain(pt,qf,vo,Kf,Cf,Tf)),qf<lo&&(vf<Kf&&this.computeIntersectsForChain(qf,lo,vo,vf,Kf,Tf),Kf<Cf&&this.computeIntersectsForChain(qf,lo,vo,Kf,Cf,Tf))}},j0.prototype.getStartIndexes=function(){return this.startIndex},j0.prototype.computeIntersects=function(K,rt){for(var nt=0;nt<this.startIndex.length-1;nt++)for(var lt=0;lt<K.startIndex.length-1;lt++)this.computeIntersectsForChain(nt,K,lt,rt)},j0.prototype.interfaces_=function(){return[]},j0.prototype.getClass=function(){return j0};var A0=function K(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var rt=0;rt<2;rt++)for(var nt=0;nt<3;nt++)this._depth[rt][nt]=K.NULL_VALUE},Sw={NULL_VALUE:{configurable:!0}};A0.prototype.getDepth=function(K,rt){return this._depth[K][rt]},A0.prototype.setDepth=function(K,rt,nt){this._depth[K][rt]=nt},A0.prototype.isNull=function(){var K=this;if(arguments.length===0){for(var rt=0;rt<2;rt++)for(var nt=0;nt<3;nt++)if(K._depth[rt][nt]!==A0.NULL_VALUE)return!1;return!0}if(arguments.length===1){var lt=arguments[0];return this._depth[lt][1]===A0.NULL_VALUE}if(arguments.length===2){var pt=arguments[0],lo=arguments[1];return this._depth[pt][lo]===A0.NULL_VALUE}},A0.prototype.normalize=function(){for(var K=this,rt=0;rt<2;rt++)if(!K.isNull(rt)){var nt=K._depth[rt][1];K._depth[rt][2]<nt&&(nt=K._depth[rt][2]),nt<0&&(nt=0);for(var lt=1;lt<3;lt++){var pt=0;K._depth[rt][lt]>nt&&(pt=1),K._depth[rt][lt]=pt}}},A0.prototype.getDelta=function(K){return this._depth[K][Lg.RIGHT]-this._depth[K][Lg.LEFT]},A0.prototype.getLocation=function(K,rt){return this._depth[K][rt]<=0?dg.EXTERIOR:dg.INTERIOR},A0.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},A0.prototype.add=function(){var K=this;if(arguments.length===1)for(var rt=arguments[0],nt=0;nt<2;nt++)for(var lt=1;lt<3;lt++){var pt=rt.getLocation(nt,lt);pt!==dg.EXTERIOR&&pt!==dg.INTERIOR||(K.isNull(nt,lt)?K._depth[nt][lt]=A0.depthAtLocation(pt):K._depth[nt][lt]+=A0.depthAtLocation(pt))}else if(arguments.length===3){var lo=arguments[0],vo=arguments[1],vf=arguments[2];vf===dg.INTERIOR&&this._depth[lo][vo]++}},A0.prototype.interfaces_=function(){return[]},A0.prototype.getClass=function(){return A0},A0.depthAtLocation=function(K){return K===dg.EXTERIOR?0:K===dg.INTERIOR?1:A0.NULL_VALUE},Sw.NULL_VALUE.get=function(){return-1},Object.defineProperties(A0,Sw);var ek=function(K){function rt(){if(K.call(this),this.pts=null,this._env=null,this.eiList=new _v(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new A0,this._depthDelta=0,arguments.length===1){var nt=arguments[0];rt.call(this,nt,null)}else if(arguments.length===2){var lt=arguments[0],pt=arguments[1];this.pts=lt,this._label=pt}}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.getDepth=function(){return this._depth},rt.prototype.getCollapsedEdge=function(){var nt=new Array(2).fill(null);return nt[0]=this.pts[0],nt[1]=this.pts[1],new rt(nt,Pv.toLineLabel(this._label))},rt.prototype.isIsolated=function(){return this._isIsolated},rt.prototype.getCoordinates=function(){return this.pts},rt.prototype.setIsolated=function(nt){this._isIsolated=nt},rt.prototype.setName=function(nt){this._name=nt},rt.prototype.equals=function(nt){if(!(nt instanceof rt))return!1;var lt=nt;if(this.pts.length!==lt.pts.length)return!1;for(var pt=!0,lo=!0,vo=this.pts.length,vf=0;vf<this.pts.length;vf++)if(this.pts[vf].equals2D(lt.pts[vf])||(pt=!1),this.pts[vf].equals2D(lt.pts[--vo])||(lo=!1),!pt&&!lo)return!1;return!0},rt.prototype.getCoordinate=function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var nt=arguments[0];return this.pts[nt]}},rt.prototype.print=function(nt){nt.print("edge "+this._name+": "),nt.print("LINESTRING (");for(var lt=0;lt<this.pts.length;lt++)lt>0&&nt.print(","),nt.print(this.pts[lt].x+" "+this.pts[lt].y);nt.print(")  "+this._label+" "+this._depthDelta)},rt.prototype.computeIM=function(nt){rt.updateIM(this._label,nt)},rt.prototype.isCollapsed=function(){return!!this._label.isArea()&&this.pts.length===3&&!!this.pts[0].equals(this.pts[2])},rt.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},rt.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},rt.prototype.getDepthDelta=function(){return this._depthDelta},rt.prototype.getNumPoints=function(){return this.pts.length},rt.prototype.printReverse=function(nt){nt.print("edge "+this._name+": ");for(var lt=this.pts.length-1;lt>=0;lt--)nt.print(this.pts[lt]+" ");nt.println("")},rt.prototype.getMonotoneChainEdge=function(){return this._mce===null&&(this._mce=new j0(this)),this._mce},rt.prototype.getEnvelope=function(){if(this._env===null){this._env=new am;for(var nt=0;nt<this.pts.length;nt++)this._env.expandToInclude(this.pts[nt])}return this._env},rt.prototype.addIntersection=function(nt,lt,pt,lo){var vo=new ng(nt.getIntersection(lo)),vf=lt,Cf=nt.getEdgeDistance(pt,lo),Tf=vf+1;if(Tf<this.pts.length){var Rf=this.pts[Tf];vo.equals2D(Rf)&&(vf=Tf,Cf=0)}this.eiList.add(vo,vf,Cf)},rt.prototype.toString=function(){var nt=new F1;nt.append("edge "+this._name+": "),nt.append("LINESTRING (");for(var lt=0;lt<this.pts.length;lt++)lt>0&&nt.append(","),nt.append(this.pts[lt].x+" "+this.pts[lt].y);return nt.append(")  "+this._label+" "+this._depthDelta),nt.toString()},rt.prototype.isPointwiseEqual=function(nt){if(this.pts.length!==nt.pts.length)return!1;for(var lt=0;lt<this.pts.length;lt++)if(!this.pts[lt].equals2D(nt.pts[lt]))return!1;return!0},rt.prototype.setDepthDelta=function(nt){this._depthDelta=nt},rt.prototype.getEdgeIntersectionList=function(){return this.eiList},rt.prototype.addIntersections=function(nt,lt,pt){for(var lo=0;lo<nt.getIntersectionNum();lo++)this.addIntersection(nt,lt,pt,lo)},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt.updateIM=function(){if(arguments.length!==2)return K.prototype.updateIM.apply(this,arguments);var nt=arguments[0],lt=arguments[1];lt.setAtLeastIfValid(nt.getLocation(0,Lg.ON),nt.getLocation(1,Lg.ON),1),nt.isArea()&&(lt.setAtLeastIfValid(nt.getLocation(0,Lg.LEFT),nt.getLocation(1,Lg.LEFT),2),lt.setAtLeastIfValid(nt.getLocation(0,Lg.RIGHT),nt.getLocation(1,Lg.RIGHT),2))},rt}(yb),ny=function(K){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new wb,this._bufParams=K||null};ny.prototype.setWorkingPrecisionModel=function(K){this._workingPrecisionModel=K},ny.prototype.insertUniqueEdge=function(K){var rt=this._edgeList.findEqualEdge(K);if(rt!==null){var nt=rt.getLabel(),lt=K.getLabel();rt.isPointwiseEqual(K)||(lt=new Pv(K.getLabel())).flip(),nt.merge(lt);var pt=ny.depthDelta(lt),lo=rt.getDepthDelta()+pt;rt.setDepthDelta(lo)}else this._edgeList.add(K),K.setDepthDelta(ny.depthDelta(K.getLabel()))},ny.prototype.buildSubgraphs=function(K,rt){for(var nt=new $g,lt=K.iterator();lt.hasNext();){var pt=lt.next(),lo=pt.getRightmostCoordinate(),vo=new oE(nt).getDepth(lo);pt.computeDepth(vo),pt.findResultEdges(),nt.add(pt),rt.add(pt.getDirectedEdges(),pt.getNodes())}},ny.prototype.createSubgraphs=function(K){for(var rt=new $g,nt=K.getNodes().iterator();nt.hasNext();){var lt=nt.next();if(!lt.isVisited()){var pt=new Ay;pt.create(lt),rt.add(pt)}}return _1.sort(rt,_1.reverseOrder()),rt},ny.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},ny.prototype.getNoder=function(K){if(this._workingNoder!==null)return this._workingNoder;var rt=new i2,nt=new I_;return nt.setPrecisionModel(K),rt.setSegmentIntersector(new _b(nt)),rt},ny.prototype.buffer=function(K,rt){var nt=this._workingPrecisionModel;nt===null&&(nt=K.getPrecisionModel()),this._geomFact=K.getFactory();var lt=new lm(nt,this._bufParams),pt=new tb(K,rt,lt).getCurves();if(pt.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(pt,nt),this._graph=new o0(new JT),this._graph.addEdges(this._edgeList.getEdges());var lo=this.createSubgraphs(this._graph),vo=new Qy(this._geomFact);this.buildSubgraphs(lo,vo);var vf=vo.getPolygons();return vf.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(vf)},ny.prototype.computeNodedEdges=function(K,rt){var nt=this.getNoder(rt);nt.computeNodes(K);for(var lt=nt.getNodedSubstrings().iterator();lt.hasNext();){var pt=lt.next(),lo=pt.getCoordinates();if(lo.length!==2||!lo[0].equals2D(lo[1])){var vo=pt.getData(),vf=new ek(pt.getCoordinates(),new Pv(vo));this.insertUniqueEdge(vf)}}},ny.prototype.setNoder=function(K){this._workingNoder=K},ny.prototype.interfaces_=function(){return[]},ny.prototype.getClass=function(){return ny},ny.depthDelta=function(K){var rt=K.getLocation(0,Lg.LEFT),nt=K.getLocation(0,Lg.RIGHT);return rt===dg.INTERIOR&&nt===dg.EXTERIOR?1:rt===dg.EXTERIOR&&nt===dg.INTERIOR?-1:0},ny.convertSegStrings=function(K){for(var rt=new Ym,nt=new $g;K.hasNext();){var lt=K.next(),pt=rt.createLineString(lt.getCoordinates());nt.add(pt)}return rt.buildGeometry(nt)};var F_=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var K=arguments[0],rt=arguments[1];this._noder=K,this._scaleFactor=rt,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(arguments.length===4){var nt=arguments[0],lt=arguments[1],pt=arguments[2],lo=arguments[3];this._noder=nt,this._scaleFactor=lt,this._offsetX=pt,this._offsetY=lo,this._isScaled=!this.isIntegerPrecision()}};F_.prototype.rescale=function(){var K=this;if(vm(arguments[0],$0))for(var rt=arguments[0],nt=rt.iterator();nt.hasNext();){var lt=nt.next();K.rescale(lt.getCoordinates())}else if(arguments[0]instanceof Array){for(var pt=arguments[0],lo=0;lo<pt.length;lo++)pt[lo].x=pt[lo].x/K._scaleFactor+K._offsetX,pt[lo].y=pt[lo].y/K._scaleFactor+K._offsetY;pt.length===2&&pt[0].equals2D(pt[1])&&my.out.println(pt)}},F_.prototype.scale=function(){var K=this;if(vm(arguments[0],$0)){for(var rt=arguments[0],nt=new $g,lt=rt.iterator();lt.hasNext();){var pt=lt.next();nt.add(new l0(K.scale(pt.getCoordinates()),pt.getData()))}return nt}if(arguments[0]instanceof Array){for(var lo=arguments[0],vo=new Array(lo.length).fill(null),vf=0;vf<lo.length;vf++)vo[vf]=new ng(Math.round((lo[vf].x-K._offsetX)*K._scaleFactor),Math.round((lo[vf].y-K._offsetY)*K._scaleFactor),lo[vf].z);var Cf=qm.removeRepeatedPoints(vo);return Cf}},F_.prototype.isIntegerPrecision=function(){return this._scaleFactor===1},F_.prototype.getNodedSubstrings=function(){var K=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(K),K},F_.prototype.computeNodes=function(K){var rt=K;this._isScaled&&(rt=this.scale(K)),this._noder.computeNodes(rt)},F_.prototype.interfaces_=function(){return[px]},F_.prototype.getClass=function(){return F_};var Mb=function(){this._li=new I_,this._segStrings=null;var K=arguments[0];this._segStrings=K},sE={fact:{configurable:!0}};Mb.prototype.checkEndPtVertexIntersections=function(){var K=this;if(arguments.length===0)for(var rt=this._segStrings.iterator();rt.hasNext();){var nt=rt.next(),lt=nt.getCoordinates();K.checkEndPtVertexIntersections(lt[0],K._segStrings),K.checkEndPtVertexIntersections(lt[lt.length-1],K._segStrings)}else if(arguments.length===2){for(var pt=arguments[0],lo=arguments[1],vo=lo.iterator();vo.hasNext();)for(var vf=vo.next(),Cf=vf.getCoordinates(),Tf=1;Tf<Cf.length-1;Tf++)if(Cf[Tf].equals(pt))throw new Xw("found endpt/interior pt intersection at index "+Tf+" :pt "+pt)}},Mb.prototype.checkInteriorIntersections=function(){var K=this;if(arguments.length===0)for(var rt=this._segStrings.iterator();rt.hasNext();)for(var nt=rt.next(),lt=this._segStrings.iterator();lt.hasNext();){var pt=lt.next();K.checkInteriorIntersections(nt,pt)}else if(arguments.length===2)for(var lo=arguments[0],vo=arguments[1],vf=lo.getCoordinates(),Cf=vo.getCoordinates(),Tf=0;Tf<vf.length-1;Tf++)for(var Rf=0;Rf<Cf.length-1;Rf++)K.checkInteriorIntersections(lo,Tf,vo,Rf);else if(arguments.length===4){var Of=arguments[0],Bf=arguments[1],Gf=arguments[2],qf=arguments[3];if(Of===Gf&&Bf===qf)return null;var Kf=Of.getCoordinates()[Bf],Uf=Of.getCoordinates()[Bf+1],lp=Gf.getCoordinates()[qf],xp=Gf.getCoordinates()[qf+1];if(this._li.computeIntersection(Kf,Uf,lp,xp),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,Kf,Uf)||this.hasInteriorIntersection(this._li,lp,xp)))throw new Xw("found non-noded intersection at "+Kf+"-"+Uf+" and "+lp+"-"+xp)}},Mb.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},Mb.prototype.checkCollapses=function(){var K=this;if(arguments.length===0)for(var rt=this._segStrings.iterator();rt.hasNext();){var nt=rt.next();K.checkCollapses(nt)}else if(arguments.length===1)for(var lt=arguments[0],pt=lt.getCoordinates(),lo=0;lo<pt.length-2;lo++)K.checkCollapse(pt[lo],pt[lo+1],pt[lo+2])},Mb.prototype.hasInteriorIntersection=function(K,rt,nt){for(var lt=0;lt<K.getIntersectionNum();lt++){var pt=K.getIntersection(lt);if(!pt.equals(rt)&&!pt.equals(nt))return!0}return!1},Mb.prototype.checkCollapse=function(K,rt,nt){if(K.equals(nt))throw new Xw("found non-noded collapse at "+Mb.fact.createLineString([K,rt,nt]))},Mb.prototype.interfaces_=function(){return[]},Mb.prototype.getClass=function(){return Mb},sE.fact.get=function(){return new Ym},Object.defineProperties(Mb,sE);var jy=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var K=arguments[0],rt=arguments[1],nt=arguments[2];if(this._originalPt=K,this._pt=K,this._scaleFactor=rt,this._li=nt,rt<=0)throw new e0("Scale factor must be non-zero");rt!==1&&(this._pt=new ng(this.scale(K.x),this.scale(K.y)),this._p0Scaled=new ng,this._p1Scaled=new ng),this.initCorners(this._pt)},Pb={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};jy.prototype.intersectsScaled=function(K,rt){var nt=Math.min(K.x,rt.x),lt=Math.max(K.x,rt.x),pt=Math.min(K.y,rt.y),lo=Math.max(K.y,rt.y),vo=this._maxx<nt||this._minx>lt||this._maxy<pt||this._miny>lo;if(vo)return!1;var vf=this.intersectsToleranceSquare(K,rt);return Im.isTrue(!(vo&&vf),"Found bad envelope test"),vf},jy.prototype.initCorners=function(K){var rt=.5;this._minx=K.x-rt,this._maxx=K.x+rt,this._miny=K.y-rt,this._maxy=K.y+rt,this._corner[0]=new ng(this._maxx,this._maxy),this._corner[1]=new ng(this._minx,this._maxy),this._corner[2]=new ng(this._minx,this._miny),this._corner[3]=new ng(this._maxx,this._miny)},jy.prototype.intersects=function(K,rt){return this._scaleFactor===1?this.intersectsScaled(K,rt):(this.copyScaled(K,this._p0Scaled),this.copyScaled(rt,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},jy.prototype.scale=function(K){return Math.round(K*this._scaleFactor)},jy.prototype.getCoordinate=function(){return this._originalPt},jy.prototype.copyScaled=function(K,rt){rt.x=this.scale(K.x),rt.y=this.scale(K.y)},jy.prototype.getSafeEnvelope=function(){if(this._safeEnv===null){var K=jy.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new am(this._originalPt.x-K,this._originalPt.x+K,this._originalPt.y-K,this._originalPt.y+K)}return this._safeEnv},jy.prototype.intersectsPixelClosure=function(K,rt){return this._li.computeIntersection(K,rt,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(K,rt,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(K,rt,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(K,rt,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))},jy.prototype.intersectsToleranceSquare=function(K,rt){var nt=!1,lt=!1;return this._li.computeIntersection(K,rt,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(K,rt,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(nt=!0),this._li.computeIntersection(K,rt,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(lt=!0),this._li.computeIntersection(K,rt,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!nt||!lt)||!!K.equals(this._pt)||!!rt.equals(this._pt))))},jy.prototype.addSnappedNode=function(K,rt){var nt=K.getCoordinate(rt),lt=K.getCoordinate(rt+1);return!!this.intersects(nt,lt)&&(K.addIntersection(this.getCoordinate(),rt),!0)},jy.prototype.interfaces_=function(){return[]},jy.prototype.getClass=function(){return jy},Pb.SAFE_ENV_EXPANSION_FACTOR.get=function(){return .75},Object.defineProperties(jy,Pb);var O0=function(){this.tempEnv1=new am,this.selectedSegment=new sm};O0.prototype.select=function(){if(arguments.length!==1){if(arguments.length===2){var K=arguments[0],rt=arguments[1];K.getLineSegment(rt,this.selectedSegment),this.select(this.selectedSegment)}}},O0.prototype.interfaces_=function(){return[]},O0.prototype.getClass=function(){return O0};var Tw=function(){this._index=null;var K=arguments[0];this._index=K},rC={HotPixelSnapAction:{configurable:!0}};Tw.prototype.snap=function(){if(arguments.length===1){var K=arguments[0];return this.snap(K,null,-1)}if(arguments.length===3){var rt=arguments[0],nt=arguments[1],lt=arguments[2],pt=rt.getSafeEnvelope(),lo=new tk(rt,nt,lt);return this._index.query(pt,{interfaces_:function(){return[D_]},visitItem:function(vo){vo.select(pt,lo)}}),lo.isNodeAdded()}},Tw.prototype.interfaces_=function(){return[]},Tw.prototype.getClass=function(){return Tw},rC.HotPixelSnapAction.get=function(){return tk},Object.defineProperties(Tw,rC);var tk=function(K){function rt(){K.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var nt=arguments[0],lt=arguments[1],pt=arguments[2];this._hotPixel=nt,this._parentEdge=lt,this._hotPixelVertexIndex=pt}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.isNodeAdded=function(){return this._isNodeAdded},rt.prototype.select=function(){if(arguments.length!==2)return K.prototype.select.apply(this,arguments);var nt=arguments[0],lt=arguments[1],pt=nt.getContext();if(this._parentEdge!==null&&pt===this._parentEdge&&lt===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(pt,lt)},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt}(O0),aE=function(){this._li=null,this._interiorIntersections=null;var K=arguments[0];this._li=K,this._interiorIntersections=new $g};aE.prototype.processIntersections=function(K,rt,nt,lt){if(K===nt&&rt===lt)return null;var pt=K.getCoordinates()[rt],lo=K.getCoordinates()[rt+1],vo=nt.getCoordinates()[lt],vf=nt.getCoordinates()[lt+1];if(this._li.computeIntersection(pt,lo,vo,vf),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var Cf=0;Cf<this._li.getIntersectionNum();Cf++)this._interiorIntersections.add(this._li.getIntersection(Cf));K.addIntersections(this._li,rt,0),nt.addIntersections(this._li,lt,1)}},aE.prototype.isDone=function(){return!1},aE.prototype.getInteriorIntersections=function(){return this._interiorIntersections},aE.prototype.interfaces_=function(){return[vx]},aE.prototype.getClass=function(){return aE};var Aw=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var K=arguments[0];this._pm=K,this._li=new I_,this._li.setPrecisionModel(K),this._scaleFactor=K.getScale()};Aw.prototype.checkCorrectness=function(K){var rt=l0.getNodedSubstrings(K),nt=new Mb(rt);try{nt.checkValid()}catch(lt){if(!(lt instanceof RT))throw lt;lt.printStackTrace()}},Aw.prototype.getNodedSubstrings=function(){return l0.getNodedSubstrings(this._nodedSegStrings)},Aw.prototype.snapRound=function(K,rt){var nt=this.findInteriorIntersections(K,rt);this.computeIntersectionSnaps(nt),this.computeVertexSnaps(K)},Aw.prototype.findInteriorIntersections=function(K,rt){var nt=new aE(rt);return this._noder.setSegmentIntersector(nt),this._noder.computeNodes(K),nt.getInteriorIntersections()},Aw.prototype.computeVertexSnaps=function(){var K=this;if(vm(arguments[0],$0))for(var rt=arguments[0],nt=rt.iterator();nt.hasNext();){var lt=nt.next();K.computeVertexSnaps(lt)}else if(arguments[0]instanceof l0)for(var pt=arguments[0],lo=pt.getCoordinates(),vo=0;vo<lo.length;vo++){var vf=new jy(lo[vo],K._scaleFactor,K._li),Cf=K._pointSnapper.snap(vf,pt,vo);Cf&&pt.addIntersection(lo[vo],vo)}},Aw.prototype.computeNodes=function(K){this._nodedSegStrings=K,this._noder=new i2,this._pointSnapper=new Tw(this._noder.getIndex()),this.snapRound(K,this._li)},Aw.prototype.computeIntersectionSnaps=function(K){for(var rt=this,nt=K.iterator();nt.hasNext();){var lt=nt.next(),pt=new jy(lt,rt._scaleFactor,rt._li);rt._pointSnapper.snap(pt)}},Aw.prototype.interfaces_=function(){return[px]},Aw.prototype.getClass=function(){return Aw};var Bv=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Sv,this._resultGeometry=null,this._saveException=null,arguments.length===1){var K=arguments[0];this._argGeom=K}else if(arguments.length===2){var rt=arguments[0],nt=arguments[1];this._argGeom=rt,this._bufParams=nt}},Ib={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};Bv.prototype.bufferFixedPrecision=function(K){var rt=new F_(new Aw(new Cv(1)),K.getScale()),nt=new ny(this._bufParams);nt.setWorkingPrecisionModel(K),nt.setNoder(rt),this._resultGeometry=nt.buffer(this._argGeom,this._distance)},Bv.prototype.bufferReducedPrecision=function(){var K=this;if(arguments.length===0){for(var rt=Bv.MAX_PRECISION_DIGITS;rt>=0;rt--){try{K.bufferReducedPrecision(rt)}catch(lo){if(!(lo instanceof Qw))throw lo;K._saveException=lo}if(K._resultGeometry!==null)return null}throw this._saveException}if(arguments.length===1){var nt=arguments[0],lt=Bv.precisionScaleFactor(this._argGeom,this._distance,nt),pt=new Cv(lt);this.bufferFixedPrecision(pt)}},Bv.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var K=this._argGeom.getFactory().getPrecisionModel();K.getType()===Cv.FIXED?this.bufferFixedPrecision(K):this.bufferReducedPrecision()},Bv.prototype.setQuadrantSegments=function(K){this._bufParams.setQuadrantSegments(K)},Bv.prototype.bufferOriginalPrecision=function(){try{var K=new ny(this._bufParams);this._resultGeometry=K.buffer(this._argGeom,this._distance)}catch(rt){if(!(rt instanceof Xw))throw rt;this._saveException=rt}},Bv.prototype.getResultGeometry=function(K){return this._distance=K,this.computeGeometry(),this._resultGeometry},Bv.prototype.setEndCapStyle=function(K){this._bufParams.setEndCapStyle(K)},Bv.prototype.interfaces_=function(){return[]},Bv.prototype.getClass=function(){return Bv},Bv.bufferOp=function(){if(arguments.length===2){var K=arguments[0],rt=arguments[1],nt=new Bv(K),lt=nt.getResultGeometry(rt);return lt}if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof mm&&typeof arguments[1]=="number"){var pt=arguments[0],lo=arguments[1],vo=arguments[2],vf=new Bv(pt);vf.setQuadrantSegments(vo);var Cf=vf.getResultGeometry(lo);return Cf}if(arguments[2]instanceof Sv&&arguments[0]instanceof mm&&typeof arguments[1]=="number"){var Tf=arguments[0],Rf=arguments[1],Of=arguments[2],Bf=new Bv(Tf,Of),Gf=Bf.getResultGeometry(Rf);return Gf}}else if(arguments.length===4){var qf=arguments[0],Kf=arguments[1],Uf=arguments[2],lp=arguments[3],xp=new Bv(qf);xp.setQuadrantSegments(Uf),xp.setEndCapStyle(lp);var Yf=xp.getResultGeometry(Kf);return Yf}},Bv.precisionScaleFactor=function(K,rt,nt){var lt=K.getEnvelopeInternal(),pt=Ab.max(Math.abs(lt.getMaxX()),Math.abs(lt.getMaxY()),Math.abs(lt.getMinX()),Math.abs(lt.getMinY()))+2*(rt>0?rt:0),lo=nt-Math.trunc(Math.log(pt)/Math.log(10)+1);return Math.pow(10,lo)},Ib.CAP_ROUND.get=function(){return Sv.CAP_ROUND},Ib.CAP_BUTT.get=function(){return Sv.CAP_FLAT},Ib.CAP_FLAT.get=function(){return Sv.CAP_FLAT},Ib.CAP_SQUARE.get=function(){return Sv.CAP_SQUARE},Ib.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(Bv,Ib);var oy=function(){this._pt=[new ng,new ng],this._distance=Sm.NaN,this._isNull=!0};oy.prototype.getCoordinates=function(){return this._pt},oy.prototype.getCoordinate=function(K){return this._pt[K]},oy.prototype.setMinimum=function(){if(arguments.length===1){var K=arguments[0];this.setMinimum(K._pt[0],K._pt[1])}else if(arguments.length===2){var rt=arguments[0],nt=arguments[1];if(this._isNull)return this.initialize(rt,nt),null;var lt=rt.distance(nt);lt<this._distance&&this.initialize(rt,nt,lt)}},oy.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var K=arguments[0],rt=arguments[1];this._pt[0].setCoordinate(K),this._pt[1].setCoordinate(rt),this._distance=K.distance(rt),this._isNull=!1}else if(arguments.length===3){var nt=arguments[0],lt=arguments[1],pt=arguments[2];this._pt[0].setCoordinate(nt),this._pt[1].setCoordinate(lt),this._distance=pt,this._isNull=!1}},oy.prototype.getDistance=function(){return this._distance},oy.prototype.setMaximum=function(){if(arguments.length===1){var K=arguments[0];this.setMaximum(K._pt[0],K._pt[1])}else if(arguments.length===2){var rt=arguments[0],nt=arguments[1];if(this._isNull)return this.initialize(rt,nt),null;var lt=rt.distance(nt);lt>this._distance&&this.initialize(rt,nt,lt)}},oy.prototype.interfaces_=function(){return[]},oy.prototype.getClass=function(){return oy};var Lb=function(){};Lb.prototype.interfaces_=function(){return[]},Lb.prototype.getClass=function(){return Lb},Lb.computeDistance=function(){if(arguments[2]instanceof oy&&arguments[0]instanceof t0&&arguments[1]instanceof ng)for(var K=arguments[0],rt=arguments[1],nt=arguments[2],lt=K.getCoordinates(),pt=new sm,lo=0;lo<lt.length-1;lo++){pt.setCoordinates(lt[lo],lt[lo+1]);var vo=pt.closestPoint(rt);nt.setMinimum(vo,rt)}else if(arguments[2]instanceof oy&&arguments[0]instanceof F0&&arguments[1]instanceof ng){var vf=arguments[0],Cf=arguments[1],Tf=arguments[2];Lb.computeDistance(vf.getExteriorRing(),Cf,Tf);for(var Rf=0;Rf<vf.getNumInteriorRing();Rf++)Lb.computeDistance(vf.getInteriorRingN(Rf),Cf,Tf)}else if(arguments[2]instanceof oy&&arguments[0]instanceof mm&&arguments[1]instanceof ng){var Of=arguments[0],Bf=arguments[1],Gf=arguments[2];if(Of instanceof t0)Lb.computeDistance(Of,Bf,Gf);else if(Of instanceof F0)Lb.computeDistance(Of,Bf,Gf);else if(Of instanceof zy)for(var qf=Of,Kf=0;Kf<qf.getNumGeometries();Kf++){var Uf=qf.getGeometryN(Kf);Lb.computeDistance(Uf,Bf,Gf)}else Gf.setMinimum(Of.getCoordinate(),Bf)}else if(arguments[2]instanceof oy&&arguments[0]instanceof sm&&arguments[1]instanceof ng){var lp=arguments[0],xp=arguments[1],Yf=arguments[2],sp=lp.closestPoint(xp);Yf.setMinimum(sp,xp)}};var Z1=function(K){this._maxPtDist=new oy,this._inputGeom=K||null},JC={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};Z1.prototype.computeMaxMidpointDistance=function(K){var rt=new Ow(this._inputGeom);K.apply(rt),this._maxPtDist.setMaximum(rt.getMaxPointDistance())},Z1.prototype.computeMaxVertexDistance=function(K){var rt=new yx(this._inputGeom);K.apply(rt),this._maxPtDist.setMaximum(rt.getMaxPointDistance())},Z1.prototype.findDistance=function(K){return this.computeMaxVertexDistance(K),this.computeMaxMidpointDistance(K),this._maxPtDist.getDistance()},Z1.prototype.getDistancePoints=function(){return this._maxPtDist},Z1.prototype.interfaces_=function(){return[]},Z1.prototype.getClass=function(){return Z1},JC.MaxPointDistanceFilter.get=function(){return yx},JC.MaxMidpointDistanceFilter.get=function(){return Ow},Object.defineProperties(Z1,JC);var yx=function(K){this._maxPtDist=new oy,this._minPtDist=new oy,this._geom=K||null};yx.prototype.filter=function(K){this._minPtDist.initialize(),Lb.computeDistance(this._geom,K,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},yx.prototype.getMaxPointDistance=function(){return this._maxPtDist},yx.prototype.interfaces_=function(){return[bw]},yx.prototype.getClass=function(){return yx};var Ow=function(K){this._maxPtDist=new oy,this._minPtDist=new oy,this._geom=K||null};Ow.prototype.filter=function(K,rt){if(rt===0)return null;var nt=K.getCoordinate(rt-1),lt=K.getCoordinate(rt),pt=new ng((nt.x+lt.x)/2,(nt.y+lt.y)/2);this._minPtDist.initialize(),Lb.computeDistance(this._geom,pt,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Ow.prototype.isDone=function(){return!1},Ow.prototype.isGeometryChanged=function(){return!1},Ow.prototype.getMaxPointDistance=function(){return this._maxPtDist},Ow.prototype.interfaces_=function(){return[m1]},Ow.prototype.getClass=function(){return Ow};var e_=function(K){this._comps=K||null};e_.prototype.filter=function(K){K instanceof F0&&this._comps.add(K)},e_.prototype.interfaces_=function(){return[V1]},e_.prototype.getClass=function(){return e_},e_.getPolygons=function(){if(arguments.length===1){var K=arguments[0];return e_.getPolygons(K,new $g)}if(arguments.length===2){var rt=arguments[0],nt=arguments[1];return rt instanceof F0?nt.add(rt):rt instanceof zy&&rt.apply(new e_(nt)),nt}};var vy=function(){if(this._lines=null,this._isForcedToLineString=!1,arguments.length===1){var K=arguments[0];this._lines=K}else if(arguments.length===2){var rt=arguments[0],nt=arguments[1];this._lines=rt,this._isForcedToLineString=nt}};vy.prototype.filter=function(K){if(this._isForcedToLineString&&K instanceof xw){var rt=K.getFactory().createLineString(K.getCoordinateSequence());return this._lines.add(rt),null}K instanceof t0&&this._lines.add(K)},vy.prototype.setForceToLineString=function(K){this._isForcedToLineString=K},vy.prototype.interfaces_=function(){return[vw]},vy.prototype.getClass=function(){return vy},vy.getGeometry=function(){if(arguments.length===1){var K=arguments[0];return K.getFactory().buildGeometry(vy.getLines(K))}if(arguments.length===2){var rt=arguments[0],nt=arguments[1];return rt.getFactory().buildGeometry(vy.getLines(rt,nt))}},vy.getLines=function(){if(arguments.length===1){var K=arguments[0];return vy.getLines(K,!1)}if(arguments.length===2){if(vm(arguments[0],$0)&&vm(arguments[1],$0)){for(var rt=arguments[0],nt=arguments[1],lt=rt.iterator();lt.hasNext();){var pt=lt.next();vy.getLines(pt,nt)}return nt}if(arguments[0]instanceof mm&&typeof arguments[1]=="boolean"){var lo=arguments[0],vo=arguments[1],vf=new $g;return lo.apply(new vy(vf,vo)),vf}if(arguments[0]instanceof mm&&vm(arguments[1],$0)){var Cf=arguments[0],Tf=arguments[1];return Cf instanceof t0?Tf.add(Cf):Cf.apply(new vy(Tf)),Tf}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&vm(arguments[0],$0)&&vm(arguments[1],$0)){for(var Rf=arguments[0],Of=arguments[1],Bf=arguments[2],Gf=Rf.iterator();Gf.hasNext();){var qf=Gf.next();vy.getLines(qf,Of,Bf)}return Of}if(typeof arguments[2]=="boolean"&&arguments[0]instanceof mm&&vm(arguments[1],$0)){var Kf=arguments[0],Uf=arguments[1],lp=arguments[2];return Kf.apply(new vy(Uf,lp)),Uf}}};var Rb=function(){if(this._boundaryRule=Kb.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,arguments.length!==0){if(arguments.length===1){var K=arguments[0];if(K===null)throw new e0("Rule must be non-null");this._boundaryRule=K}}};Rb.prototype.locateInternal=function(){var K=this;if(arguments[0]instanceof ng&&arguments[1]instanceof F0){var rt=arguments[0],nt=arguments[1];if(nt.isEmpty())return dg.EXTERIOR;var lt=nt.getExteriorRing(),pt=this.locateInPolygonRing(rt,lt);if(pt===dg.EXTERIOR)return dg.EXTERIOR;if(pt===dg.BOUNDARY)return dg.BOUNDARY;for(var lo=0;lo<nt.getNumInteriorRing();lo++){var vo=nt.getInteriorRingN(lo),vf=K.locateInPolygonRing(rt,vo);if(vf===dg.INTERIOR)return dg.EXTERIOR;if(vf===dg.BOUNDARY)return dg.BOUNDARY}return dg.INTERIOR}if(arguments[0]instanceof ng&&arguments[1]instanceof t0){var Cf=arguments[0],Tf=arguments[1];if(!Tf.getEnvelopeInternal().intersects(Cf))return dg.EXTERIOR;var Rf=Tf.getCoordinates();return Tf.isClosed()||!Cf.equals(Rf[0])&&!Cf.equals(Rf[Rf.length-1])?jg.isOnLine(Cf,Rf)?dg.INTERIOR:dg.EXTERIOR:dg.BOUNDARY}if(arguments[0]instanceof ng&&arguments[1]instanceof vb){var Of=arguments[0],Bf=arguments[1],Gf=Bf.getCoordinate();return Gf.equals2D(Of)?dg.INTERIOR:dg.EXTERIOR}},Rb.prototype.locateInPolygonRing=function(K,rt){return rt.getEnvelopeInternal().intersects(K)?jg.locatePointInRing(K,rt.getCoordinates()):dg.EXTERIOR},Rb.prototype.intersects=function(K,rt){return this.locate(K,rt)!==dg.EXTERIOR},Rb.prototype.updateLocationInfo=function(K){K===dg.INTERIOR&&(this._isIn=!0),K===dg.BOUNDARY&&this._numBoundaries++},Rb.prototype.computeLocation=function(K,rt){var nt=this;if(rt instanceof vb&&this.updateLocationInfo(this.locateInternal(K,rt)),rt instanceof t0)this.updateLocationInfo(this.locateInternal(K,rt));else if(rt instanceof F0)this.updateLocationInfo(this.locateInternal(K,rt));else if(rt instanceof L_)for(var lt=rt,pt=0;pt<lt.getNumGeometries();pt++){var lo=lt.getGeometryN(pt);nt.updateLocationInfo(nt.locateInternal(K,lo))}else if(rt instanceof Ew)for(var vo=rt,vf=0;vf<vo.getNumGeometries();vf++){var Cf=vo.getGeometryN(vf);nt.updateLocationInfo(nt.locateInternal(K,Cf))}else if(rt instanceof zy)for(var Tf=new q1(rt);Tf.hasNext();){var Rf=Tf.next();Rf!==rt&&nt.computeLocation(K,Rf)}},Rb.prototype.locate=function(K,rt){return rt.isEmpty()?dg.EXTERIOR:rt instanceof t0||rt instanceof F0?this.locateInternal(K,rt):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(K,rt),this._boundaryRule.isInBoundary(this._numBoundaries)?dg.BOUNDARY:this._numBoundaries>0||this._isIn?dg.INTERIOR:dg.EXTERIOR)},Rb.prototype.interfaces_=function(){return[]},Rb.prototype.getClass=function(){return Rb};var Hy=function K(){if(this._component=null,this._segIndex=null,this._pt=null,arguments.length===2){var rt=arguments[0],nt=arguments[1];K.call(this,rt,K.INSIDE_AREA,nt)}else if(arguments.length===3){var lt=arguments[0],pt=arguments[1],lo=arguments[2];this._component=lt,this._segIndex=pt,this._pt=lo}},QT={INSIDE_AREA:{configurable:!0}};Hy.prototype.isInsideArea=function(){return this._segIndex===Hy.INSIDE_AREA},Hy.prototype.getCoordinate=function(){return this._pt},Hy.prototype.getGeometryComponent=function(){return this._component},Hy.prototype.getSegmentIndex=function(){return this._segIndex},Hy.prototype.interfaces_=function(){return[]},Hy.prototype.getClass=function(){return Hy},QT.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Hy,QT);var z_=function(K){this._pts=K||null};z_.prototype.filter=function(K){K instanceof vb&&this._pts.add(K)},z_.prototype.interfaces_=function(){return[V1]},z_.prototype.getClass=function(){return z_},z_.getPoints=function(){if(arguments.length===1){var K=arguments[0];return K instanceof vb?_1.singletonList(K):z_.getPoints(K,new $g)}if(arguments.length===2){var rt=arguments[0],nt=arguments[1];return rt instanceof vb?nt.add(rt):rt instanceof zy&&rt.apply(new z_(nt)),nt}};var t_=function(){this._locations=null;var K=arguments[0];this._locations=K};t_.prototype.filter=function(K){(K instanceof vb||K instanceof t0||K instanceof F0)&&this._locations.add(new Hy(K,0,K.getCoordinate()))},t_.prototype.interfaces_=function(){return[V1]},t_.prototype.getClass=function(){return t_},t_.getLocations=function(K){var rt=new $g;return K.apply(new t_(rt)),rt};var sy=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new Rb,this._minDistanceLocation=null,this._minDistance=Sm.MAX_VALUE,arguments.length===2){var K=arguments[0],rt=arguments[1];this._geom=[K,rt],this._terminateDistance=0}else if(arguments.length===3){var nt=arguments[0],lt=arguments[1],pt=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=nt,this._geom[1]=lt,this._terminateDistance=pt}};sy.prototype.computeContainmentDistance=function(){var K=this;if(arguments.length===0){var rt=new Array(2).fill(null);if(this.computeContainmentDistance(0,rt),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,rt)}else if(arguments.length===2){var nt=arguments[0],lt=arguments[1],pt=1-nt,lo=e_.getPolygons(this._geom[nt]);if(lo.size()>0){var vo=t_.getLocations(this._geom[pt]);if(this.computeContainmentDistance(vo,lo,lt),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[pt]=lt[0],this._minDistanceLocation[nt]=lt[1],null}}else if(arguments.length===3){if(arguments[2]instanceof Array&&vm(arguments[0],p1)&&vm(arguments[1],p1)){for(var vf=arguments[0],Cf=arguments[1],Tf=arguments[2],Rf=0;Rf<vf.size();Rf++)for(var Of=vf.get(Rf),Bf=0;Bf<Cf.size();Bf++)if(K.computeContainmentDistance(Of,Cf.get(Bf),Tf),K._minDistance<=K._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Hy&&arguments[1]instanceof F0){var Gf=arguments[0],qf=arguments[1],Kf=arguments[2],Uf=Gf.getCoordinate();if(dg.EXTERIOR!==this._ptLocator.locate(Uf,qf))return this._minDistance=0,Kf[0]=Gf,Kf[1]=new Hy(qf,Uf),null}}},sy.prototype.computeMinDistanceLinesPoints=function(K,rt,nt){for(var lt=this,pt=0;pt<K.size();pt++)for(var lo=K.get(pt),vo=0;vo<rt.size();vo++){var vf=rt.get(vo);if(lt.computeMinDistance(lo,vf,nt),lt._minDistance<=lt._terminateDistance)return null}},sy.prototype.computeFacetDistance=function(){var K=new Array(2).fill(null),rt=vy.getLines(this._geom[0]),nt=vy.getLines(this._geom[1]),lt=z_.getPoints(this._geom[0]),pt=z_.getPoints(this._geom[1]);return this.computeMinDistanceLines(rt,nt,K),this.updateMinDistance(K,!1),this._minDistance<=this._terminateDistance?null:(K[0]=null,K[1]=null,this.computeMinDistanceLinesPoints(rt,pt,K),this.updateMinDistance(K,!1),this._minDistance<=this._terminateDistance?null:(K[0]=null,K[1]=null,this.computeMinDistanceLinesPoints(nt,lt,K),this.updateMinDistance(K,!0),this._minDistance<=this._terminateDistance?null:(K[0]=null,K[1]=null,this.computeMinDistancePoints(lt,pt,K),void this.updateMinDistance(K,!1))))},sy.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},sy.prototype.updateMinDistance=function(K,rt){if(K[0]===null)return null;rt?(this._minDistanceLocation[0]=K[1],this._minDistanceLocation[1]=K[0]):(this._minDistanceLocation[0]=K[0],this._minDistanceLocation[1]=K[1])},sy.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},sy.prototype.computeMinDistance=function(){var K=this;if(arguments.length===0){if(this._minDistanceLocation!==null||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance))return null;this.computeFacetDistance()}else if(arguments.length===3){if(arguments[2]instanceof Array&&arguments[0]instanceof t0&&arguments[1]instanceof vb){var rt=arguments[0],nt=arguments[1],lt=arguments[2];if(rt.getEnvelopeInternal().distance(nt.getEnvelopeInternal())>this._minDistance)return null;for(var pt=rt.getCoordinates(),lo=nt.getCoordinate(),vo=0;vo<pt.length-1;vo++){var vf=jg.distancePointLine(lo,pt[vo],pt[vo+1]);if(vf<K._minDistance){K._minDistance=vf;var Cf=new sm(pt[vo],pt[vo+1]),Tf=Cf.closestPoint(lo);lt[0]=new Hy(rt,vo,Tf),lt[1]=new Hy(nt,0,lo)}if(K._minDistance<=K._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof t0&&arguments[1]instanceof t0){var Rf=arguments[0],Of=arguments[1],Bf=arguments[2];if(Rf.getEnvelopeInternal().distance(Of.getEnvelopeInternal())>this._minDistance)return null;for(var Gf=Rf.getCoordinates(),qf=Of.getCoordinates(),Kf=0;Kf<Gf.length-1;Kf++)for(var Uf=0;Uf<qf.length-1;Uf++){var lp=jg.distanceLineLine(Gf[Kf],Gf[Kf+1],qf[Uf],qf[Uf+1]);if(lp<K._minDistance){K._minDistance=lp;var xp=new sm(Gf[Kf],Gf[Kf+1]),Yf=new sm(qf[Uf],qf[Uf+1]),sp=xp.closestPoints(Yf);Bf[0]=new Hy(Rf,Kf,sp[0]),Bf[1]=new Hy(Of,Uf,sp[1])}if(K._minDistance<=K._terminateDistance)return null}}}},sy.prototype.computeMinDistancePoints=function(K,rt,nt){for(var lt=this,pt=0;pt<K.size();pt++)for(var lo=K.get(pt),vo=0;vo<rt.size();vo++){var vf=rt.get(vo),Cf=lo.getCoordinate().distance(vf.getCoordinate());if(Cf<lt._minDistance&&(lt._minDistance=Cf,nt[0]=new Hy(lo,0,lo.getCoordinate()),nt[1]=new Hy(vf,0,vf.getCoordinate())),lt._minDistance<=lt._terminateDistance)return null}},sy.prototype.distance=function(){if(this._geom[0]===null||this._geom[1]===null)throw new e0("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},sy.prototype.computeMinDistanceLines=function(K,rt,nt){for(var lt=this,pt=0;pt<K.size();pt++)for(var lo=K.get(pt),vo=0;vo<rt.size();vo++){var vf=rt.get(vo);if(lt.computeMinDistance(lo,vf,nt),lt._minDistance<=lt._terminateDistance)return null}},sy.prototype.interfaces_=function(){return[]},sy.prototype.getClass=function(){return sy},sy.distance=function(K,rt){return new sy(K,rt).distance()},sy.isWithinDistance=function(K,rt,nt){return new sy(K,rt,nt).distance()<=nt},sy.nearestPoints=function(K,rt){return new sy(K,rt).nearestPoints()};var My=function(){this._pt=[new ng,new ng],this._distance=Sm.NaN,this._isNull=!0};My.prototype.getCoordinates=function(){return this._pt},My.prototype.getCoordinate=function(K){return this._pt[K]},My.prototype.setMinimum=function(){if(arguments.length===1){var K=arguments[0];this.setMinimum(K._pt[0],K._pt[1])}else if(arguments.length===2){var rt=arguments[0],nt=arguments[1];if(this._isNull)return this.initialize(rt,nt),null;var lt=rt.distance(nt);lt<this._distance&&this.initialize(rt,nt,lt)}},My.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var K=arguments[0],rt=arguments[1];this._pt[0].setCoordinate(K),this._pt[1].setCoordinate(rt),this._distance=K.distance(rt),this._isNull=!1}else if(arguments.length===3){var nt=arguments[0],lt=arguments[1],pt=arguments[2];this._pt[0].setCoordinate(nt),this._pt[1].setCoordinate(lt),this._distance=pt,this._isNull=!1}},My.prototype.toString=function(){return f1.toLineString(this._pt[0],this._pt[1])},My.prototype.getDistance=function(){return this._distance},My.prototype.setMaximum=function(){if(arguments.length===1){var K=arguments[0];this.setMaximum(K._pt[0],K._pt[1])}else if(arguments.length===2){var rt=arguments[0],nt=arguments[1];if(this._isNull)return this.initialize(rt,nt),null;var lt=rt.distance(nt);lt>this._distance&&this.initialize(rt,nt,lt)}},My.prototype.interfaces_=function(){return[]},My.prototype.getClass=function(){return My};var k1=function(){};k1.prototype.interfaces_=function(){return[]},k1.prototype.getClass=function(){return k1},k1.computeDistance=function(){if(arguments[2]instanceof My&&arguments[0]instanceof t0&&arguments[1]instanceof ng)for(var K=arguments[0],rt=arguments[1],nt=arguments[2],lt=new sm,pt=K.getCoordinates(),lo=0;lo<pt.length-1;lo++){lt.setCoordinates(pt[lo],pt[lo+1]);var vo=lt.closestPoint(rt);nt.setMinimum(vo,rt)}else if(arguments[2]instanceof My&&arguments[0]instanceof F0&&arguments[1]instanceof ng){var vf=arguments[0],Cf=arguments[1],Tf=arguments[2];k1.computeDistance(vf.getExteriorRing(),Cf,Tf);for(var Rf=0;Rf<vf.getNumInteriorRing();Rf++)k1.computeDistance(vf.getInteriorRingN(Rf),Cf,Tf)}else if(arguments[2]instanceof My&&arguments[0]instanceof mm&&arguments[1]instanceof ng){var Of=arguments[0],Bf=arguments[1],Gf=arguments[2];if(Of instanceof t0)k1.computeDistance(Of,Bf,Gf);else if(Of instanceof F0)k1.computeDistance(Of,Bf,Gf);else if(Of instanceof zy)for(var qf=Of,Kf=0;Kf<qf.getNumGeometries();Kf++){var Uf=qf.getGeometryN(Kf);k1.computeDistance(Uf,Bf,Gf)}else Gf.setMinimum(Of.getCoordinate(),Bf)}else if(arguments[2]instanceof My&&arguments[0]instanceof sm&&arguments[1]instanceof ng){var lp=arguments[0],xp=arguments[1],Yf=arguments[2],sp=lp.closestPoint(xp);Yf.setMinimum(sp,xp)}};var Db=function(){this._g0=null,this._g1=null,this._ptDist=new My,this._densifyFrac=0;var K=arguments[0],rt=arguments[1];this._g0=K,this._g1=rt},lE={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Db.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Db.prototype.setDensifyFraction=function(K){if(K>1||K<=0)throw new e0("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=K},Db.prototype.compute=function(K,rt){this.computeOrientedDistance(K,rt,this._ptDist),this.computeOrientedDistance(rt,K,this._ptDist)},Db.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Db.prototype.computeOrientedDistance=function(K,rt,nt){var lt=new uE(rt);if(K.apply(lt),nt.setMaximum(lt.getMaxPointDistance()),this._densifyFrac>0){var pt=new j_(rt,this._densifyFrac);K.apply(pt),nt.setMaximum(pt.getMaxPointDistance())}},Db.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Db.prototype.interfaces_=function(){return[]},Db.prototype.getClass=function(){return Db},Db.distance=function(){if(arguments.length===2){var K=arguments[0],rt=arguments[1],nt=new Db(K,rt);return nt.distance()}if(arguments.length===3){var lt=arguments[0],pt=arguments[1],lo=arguments[2],vo=new Db(lt,pt);return vo.setDensifyFraction(lo),vo.distance()}},lE.MaxPointDistanceFilter.get=function(){return uE},lE.MaxDensifiedByFractionDistanceFilter.get=function(){return j_},Object.defineProperties(Db,lE);var uE=function(){this._maxPtDist=new My,this._minPtDist=new My,this._euclideanDist=new k1,this._geom=null;var K=arguments[0];this._geom=K};uE.prototype.filter=function(K){this._minPtDist.initialize(),k1.computeDistance(this._geom,K,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},uE.prototype.getMaxPointDistance=function(){return this._maxPtDist},uE.prototype.interfaces_=function(){return[bw]},uE.prototype.getClass=function(){return uE};var j_=function(){this._maxPtDist=new My,this._minPtDist=new My,this._geom=null,this._numSubSegs=0;var K=arguments[0],rt=arguments[1];this._geom=K,this._numSubSegs=Math.trunc(Math.round(1/rt))};j_.prototype.filter=function(K,rt){var nt=this;if(rt===0)return null;for(var lt=K.getCoordinate(rt-1),pt=K.getCoordinate(rt),lo=(pt.x-lt.x)/this._numSubSegs,vo=(pt.y-lt.y)/this._numSubSegs,vf=0;vf<this._numSubSegs;vf++){var Cf=lt.x+vf*lo,Tf=lt.y+vf*vo,Rf=new ng(Cf,Tf);nt._minPtDist.initialize(),k1.computeDistance(nt._geom,Rf,nt._minPtDist),nt._maxPtDist.setMaximum(nt._minPtDist)}},j_.prototype.isDone=function(){return!1},j_.prototype.isGeometryChanged=function(){return!1},j_.prototype.getMaxPointDistance=function(){return this._maxPtDist},j_.prototype.interfaces_=function(){return[m1]},j_.prototype.getClass=function(){return j_};var xb=function(K,rt,nt){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=K||null,this._bufDistance=rt||null,this._result=nt||null},n2={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};xb.prototype.checkMaximumDistance=function(K,rt,nt){var lt=new Db(rt,K);if(lt.setDensifyFraction(.25),this._maxDistanceFound=lt.orientedDistance(),this._maxDistanceFound>nt){this._isValid=!1;var pt=lt.getCoordinates();this._errorLocation=pt[1],this._errorIndicator=K.getFactory().createLineString(pt),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+f1.toLineString(pt[0],pt[1])+")"}},xb.prototype.isValid=function(){var K=Math.abs(this._bufDistance),rt=xb.MAX_DISTANCE_DIFF_FRAC*K;return this._minValidDistance=K-rt,this._maxValidDistance=K+rt,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),xb.VERBOSE&&my.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},xb.prototype.checkNegativeValid=function(){if(!(this._input instanceof F0||this._input instanceof Ew||this._input instanceof zy))return null;var K=this.getPolygonLines(this._input);if(this.checkMinimumDistance(K,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(K,this._result,this._maxValidDistance)},xb.prototype.getErrorIndicator=function(){return this._errorIndicator},xb.prototype.checkMinimumDistance=function(K,rt,nt){var lt=new sy(K,rt,nt);if(this._minDistanceFound=lt.distance(),this._minDistanceFound<nt){this._isValid=!1;var pt=lt.nearestPoints();this._errorLocation=lt.nearestPoints()[1],this._errorIndicator=K.getFactory().createLineString(pt),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+f1.toLineString(pt[0],pt[1])+" )"}},xb.prototype.checkPositiveValid=function(){var K=this._result.getBoundary();if(this.checkMinimumDistance(this._input,K,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,K,this._maxValidDistance)},xb.prototype.getErrorLocation=function(){return this._errorLocation},xb.prototype.getPolygonLines=function(K){for(var rt=new $g,nt=new vy(rt),lt=e_.getPolygons(K).iterator();lt.hasNext();)lt.next().apply(nt);return K.getFactory().buildGeometry(rt)},xb.prototype.getErrorMessage=function(){return this._errMsg},xb.prototype.interfaces_=function(){return[]},xb.prototype.getClass=function(){return xb},n2.VERBOSE.get=function(){return!1},n2.MAX_DISTANCE_DIFF_FRAC.get=function(){return .012},Object.defineProperties(xb,n2);var yy=function(K,rt,nt){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=K||null,this._distance=rt||null,this._result=nt||null},o2={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};yy.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},yy.prototype.checkEnvelope=function(){if(this._distance<0)return null;var K=this._distance*yy.MAX_ENV_DIFF_FRAC;K===0&&(K=.001);var rt=new am(this._input.getEnvelopeInternal());rt.expandBy(this._distance);var nt=new am(this._result.getEnvelopeInternal());nt.expandBy(K),nt.contains(rt)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(nt)),this.report("Envelope")},yy.prototype.checkDistance=function(){var K=new xb(this._input,this._distance,this._result);K.isValid()||(this._isValid=!1,this._errorMsg=K.getErrorMessage(),this._errorLocation=K.getErrorLocation(),this._errorIndicator=K.getErrorIndicator()),this.report("Distance")},yy.prototype.checkArea=function(){var K=this._input.getArea(),rt=this._result.getArea();this._distance>0&&K>rt&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&K<rt&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},yy.prototype.checkPolygonal=function(){this._result instanceof F0||this._result instanceof Ew||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},yy.prototype.getErrorIndicator=function(){return this._errorIndicator},yy.prototype.getErrorLocation=function(){return this._errorLocation},yy.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},yy.prototype.report=function(K){if(!yy.VERBOSE)return null;my.out.println("Check "+K+": "+(this._isValid?"passed":"FAILED"))},yy.prototype.getErrorMessage=function(){return this._errorMsg},yy.prototype.interfaces_=function(){return[]},yy.prototype.getClass=function(){return yy},yy.isValidMsg=function(K,rt,nt){var lt=new yy(K,rt,nt);return lt.isValid()?null:lt.getErrorMessage()},yy.isValid=function(K,rt,nt){return!!new yy(K,rt,nt).isValid()},o2.VERBOSE.get=function(){return!1},o2.MAX_ENV_DIFF_FRAC.get=function(){return .012},Object.defineProperties(yy,o2);var X1=function(){this._pts=null,this._data=null;var K=arguments[0],rt=arguments[1];this._pts=K,this._data=rt};X1.prototype.getCoordinates=function(){return this._pts},X1.prototype.size=function(){return this._pts.length},X1.prototype.getCoordinate=function(K){return this._pts[K]},X1.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},X1.prototype.getSegmentOctant=function(K){return K===this._pts.length-1?-1:x1.octant(this.getCoordinate(K),this.getCoordinate(K+1))},X1.prototype.setData=function(K){this._data=K},X1.prototype.getData=function(){return this._data},X1.prototype.toString=function(){return f1.toLineString(new y0(this._pts))},X1.prototype.interfaces_=function(){return[z0]},X1.prototype.getClass=function(){return X1};var ay=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new $g,this._intersectionCount=0,this._keepIntersections=!0;var K=arguments[0];this._li=K,this._interiorIntersection=null};ay.prototype.getInteriorIntersection=function(){return this._interiorIntersection},ay.prototype.setCheckEndSegmentsOnly=function(K){this._isCheckEndSegmentsOnly=K},ay.prototype.getIntersectionSegments=function(){return this._intSegments},ay.prototype.count=function(){return this._intersectionCount},ay.prototype.getIntersections=function(){return this._intersections},ay.prototype.setFindAllIntersections=function(K){this._findAllIntersections=K},ay.prototype.setKeepIntersections=function(K){this._keepIntersections=K},ay.prototype.processIntersections=function(K,rt,nt,lt){if(!this._findAllIntersections&&this.hasIntersection()||K===nt&&rt===lt||this._isCheckEndSegmentsOnly&&!(this.isEndSegment(K,rt)||this.isEndSegment(nt,lt)))return null;var pt=K.getCoordinates()[rt],lo=K.getCoordinates()[rt+1],vo=nt.getCoordinates()[lt],vf=nt.getCoordinates()[lt+1];this._li.computeIntersection(pt,lo,vo,vf),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=pt,this._intSegments[1]=lo,this._intSegments[2]=vo,this._intSegments[3]=vf,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},ay.prototype.isEndSegment=function(K,rt){return rt===0||rt>=K.size()-2},ay.prototype.hasIntersection=function(){return this._interiorIntersection!==null},ay.prototype.isDone=function(){return!this._findAllIntersections&&this._interiorIntersection!==null},ay.prototype.interfaces_=function(){return[vx]},ay.prototype.getClass=function(){return ay},ay.createAllIntersectionsFinder=function(K){var rt=new ay(K);return rt.setFindAllIntersections(!0),rt},ay.createAnyIntersectionFinder=function(K){return new ay(K)},ay.createIntersectionCounter=function(K){var rt=new ay(K);return rt.setFindAllIntersections(!0),rt.setKeepIntersections(!1),rt};var r1=function(){this._li=new I_,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var K=arguments[0];this._segStrings=K};r1.prototype.execute=function(){if(this._segInt!==null)return null;this.checkInteriorIntersections()},r1.prototype.getIntersections=function(){return this._segInt.getIntersections()},r1.prototype.isValid=function(){return this.execute(),this._isValid},r1.prototype.setFindAllIntersections=function(K){this._findAllIntersections=K},r1.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new ay(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var K=new i2;if(K.setSegmentIntersector(this._segInt),K.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},r1.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Qw(this.getErrorMessage(),this._segInt.getInteriorIntersection())},r1.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var K=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+f1.toLineString(K[0],K[1])+" and "+f1.toLineString(K[2],K[3])},r1.prototype.interfaces_=function(){return[]},r1.prototype.getClass=function(){return r1},r1.computeIntersections=function(K){var rt=new r1(K);return rt.setFindAllIntersections(!0),rt.isValid(),rt.getIntersections()};var bx=function K(){this._nv=null;var rt=arguments[0];this._nv=new r1(K.toSegmentStrings(rt))};bx.prototype.checkValid=function(){this._nv.checkValid()},bx.prototype.interfaces_=function(){return[]},bx.prototype.getClass=function(){return bx},bx.toSegmentStrings=function(K){for(var rt=new $g,nt=K.iterator();nt.hasNext();){var lt=nt.next();rt.add(new X1(lt.getCoordinates(),lt))}return rt},bx.checkValid=function(K){new bx(K).checkValid()};var cE=function(K){this._mapOp=K};cE.prototype.map=function(K){for(var rt=new $g,nt=0;nt<K.getNumGeometries();nt++){var lt=this._mapOp.map(K.getGeometryN(nt));lt.isEmpty()||rt.add(lt)}return K.getFactory().createGeometryCollection(Ym.toGeometryArray(rt))},cE.prototype.interfaces_=function(){return[]},cE.prototype.getClass=function(){return cE},cE.map=function(K,rt){return new cE(rt).map(K)};var K1=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new $g,this._resultLineList=new $g;var K=arguments[0],rt=arguments[1],nt=arguments[2];this._op=K,this._geometryFactory=rt,this._ptLocator=nt};K1.prototype.collectLines=function(K){for(var rt=this,nt=this._op.getGraph().getEdgeEnds().iterator();nt.hasNext();){var lt=nt.next();rt.collectLineEdge(lt,K,rt._lineEdgesList),rt.collectBoundaryTouchEdge(lt,K,rt._lineEdgesList)}},K1.prototype.labelIsolatedLine=function(K,rt){var nt=this._ptLocator.locate(K.getCoordinate(),this._op.getArgGeometry(rt));K.getLabel().setLocation(rt,nt)},K1.prototype.build=function(K){return this.findCoveredLineEdges(),this.collectLines(K),this.buildLines(K),this._resultLineList},K1.prototype.collectLineEdge=function(K,rt,nt){var lt=K.getLabel(),pt=K.getEdge();K.isLineEdge()&&(K.isVisited()||!Pm.isResultOfOp(lt,rt)||pt.isCovered()||(nt.add(pt),K.setVisitedEdge(!0)))},K1.prototype.findCoveredLineEdges=function(){for(var K=this._op.getGraph().getNodes().iterator();K.hasNext();)K.next().getEdges().findCoveredLineEdges();for(var rt=this._op.getGraph().getEdgeEnds().iterator();rt.hasNext();){var nt=rt.next(),lt=nt.getEdge();if(nt.isLineEdge()&&!lt.isCoveredSet()){var pt=this._op.isCoveredByA(nt.getCoordinate());lt.setCovered(pt)}}},K1.prototype.labelIsolatedLines=function(K){for(var rt=K.iterator();rt.hasNext();){var nt=rt.next(),lt=nt.getLabel();nt.isIsolated()&&(lt.isNull(0)?this.labelIsolatedLine(nt,0):this.labelIsolatedLine(nt,1))}},K1.prototype.buildLines=function(K){for(var rt=this._lineEdgesList.iterator();rt.hasNext();){var nt=rt.next(),lt=this._geometryFactory.createLineString(nt.getCoordinates());this._resultLineList.add(lt),nt.setInResult(!0)}},K1.prototype.collectBoundaryTouchEdge=function(K,rt,nt){var lt=K.getLabel();return K.isLineEdge()||K.isVisited()||K.isInteriorAreaEdge()||K.getEdge().isInResult()?null:(Im.isTrue(!(K.isInResult()||K.getSym().isInResult())||!K.getEdge().isInResult()),void(Pm.isResultOfOp(lt,rt)&&rt===Pm.INTERSECTION&&(nt.add(K.getEdge()),K.setVisitedEdge(!0))))},K1.prototype.interfaces_=function(){return[]},K1.prototype.getClass=function(){return K1};var hE=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new $g;var K=arguments[0],rt=arguments[1];this._op=K,this._geometryFactory=rt};hE.prototype.filterCoveredNodeToPoint=function(K){var rt=K.getCoordinate();if(!this._op.isCoveredByLA(rt)){var nt=this._geometryFactory.createPoint(rt);this._resultPointList.add(nt)}},hE.prototype.extractNonCoveredResultNodes=function(K){for(var rt=this._op.getGraph().getNodes().iterator();rt.hasNext();){var nt=rt.next();if(!nt.isInResult()&&!nt.isIncidentEdgeInResult()&&(nt.getEdges().getDegree()===0||K===Pm.INTERSECTION)){var lt=nt.getLabel();Pm.isResultOfOp(lt,K)&&this.filterCoveredNodeToPoint(nt)}}},hE.prototype.build=function(K){return this.extractNonCoveredResultNodes(K),this._resultPointList},hE.prototype.interfaces_=function(){return[]},hE.prototype.getClass=function(){return hE};var Vy=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Vy.prototype.transformPoint=function(K,rt){return this._factory.createPoint(this.transformCoordinates(K.getCoordinateSequence(),K))},Vy.prototype.transformPolygon=function(K,rt){var nt=!0,lt=this.transformLinearRing(K.getExteriorRing(),K);lt!==null&&lt instanceof xw&&!lt.isEmpty()||(nt=!1);for(var pt=new $g,lo=0;lo<K.getNumInteriorRing();lo++){var vo=this.transformLinearRing(K.getInteriorRingN(lo),K);vo===null||vo.isEmpty()||(vo instanceof xw||(nt=!1),pt.add(vo))}if(nt)return this._factory.createPolygon(lt,pt.toArray([]));var vf=new $g;return lt!==null&&vf.add(lt),vf.addAll(pt),this._factory.buildGeometry(vf)},Vy.prototype.createCoordinateSequence=function(K){return this._factory.getCoordinateSequenceFactory().create(K)},Vy.prototype.getInputGeometry=function(){return this._inputGeom},Vy.prototype.transformMultiLineString=function(K,rt){for(var nt=new $g,lt=0;lt<K.getNumGeometries();lt++){var pt=this.transformLineString(K.getGeometryN(lt),K);pt!==null&&(pt.isEmpty()||nt.add(pt))}return this._factory.buildGeometry(nt)},Vy.prototype.transformCoordinates=function(K,rt){return this.copy(K)},Vy.prototype.transformLineString=function(K,rt){return this._factory.createLineString(this.transformCoordinates(K.getCoordinateSequence(),K))},Vy.prototype.transformMultiPoint=function(K,rt){for(var nt=new $g,lt=0;lt<K.getNumGeometries();lt++){var pt=this.transformPoint(K.getGeometryN(lt),K);pt!==null&&(pt.isEmpty()||nt.add(pt))}return this._factory.buildGeometry(nt)},Vy.prototype.transformMultiPolygon=function(K,rt){for(var nt=new $g,lt=0;lt<K.getNumGeometries();lt++){var pt=this.transformPolygon(K.getGeometryN(lt),K);pt!==null&&(pt.isEmpty()||nt.add(pt))}return this._factory.buildGeometry(nt)},Vy.prototype.copy=function(K){return K.copy()},Vy.prototype.transformGeometryCollection=function(K,rt){for(var nt=new $g,lt=0;lt<K.getNumGeometries();lt++){var pt=this.transform(K.getGeometryN(lt));pt!==null&&(this._pruneEmptyGeometry&&pt.isEmpty()||nt.add(pt))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(Ym.toGeometryArray(nt)):this._factory.buildGeometry(nt)},Vy.prototype.transform=function(K){if(this._inputGeom=K,this._factory=K.getFactory(),K instanceof vb)return this.transformPoint(K,null);if(K instanceof ZE)return this.transformMultiPoint(K,null);if(K instanceof xw)return this.transformLinearRing(K,null);if(K instanceof t0)return this.transformLineString(K,null);if(K instanceof L_)return this.transformMultiLineString(K,null);if(K instanceof F0)return this.transformPolygon(K,null);if(K instanceof Ew)return this.transformMultiPolygon(K,null);if(K instanceof zy)return this.transformGeometryCollection(K,null);throw new e0("Unknown Geometry subtype: "+K.getClass().getName())},Vy.prototype.transformLinearRing=function(K,rt){var nt=this.transformCoordinates(K.getCoordinateSequence(),K);if(nt===null)return this._factory.createLinearRing(null);var lt=nt.size();return lt>0&&lt<4&&!this._preserveType?this._factory.createLineString(nt):this._factory.createLinearRing(nt)},Vy.prototype.interfaces_=function(){return[]},Vy.prototype.getClass=function(){return Vy};var xv=function K(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new sm,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof t0&&typeof arguments[1]=="number"){var rt=arguments[0],nt=arguments[1];K.call(this,rt.getCoordinates(),nt)}else if(arguments[0]instanceof Array&&typeof arguments[1]=="number"){var lt=arguments[0],pt=arguments[1];this._srcPts=lt,this._isClosed=K.isClosed(lt),this._snapTolerance=pt}};xv.prototype.snapVertices=function(K,rt){for(var nt=this._isClosed?K.size()-1:K.size(),lt=0;lt<nt;lt++){var pt=K.get(lt),lo=this.findSnapForVertex(pt,rt);lo!==null&&(K.set(lt,new ng(lo)),lt===0&&this._isClosed&&K.set(K.size()-1,new ng(lo)))}},xv.prototype.findSnapForVertex=function(K,rt){for(var nt=0;nt<rt.length;nt++){if(K.equals2D(rt[nt]))return null;if(K.distance(rt[nt])<this._snapTolerance)return rt[nt]}return null},xv.prototype.snapTo=function(K){var rt=new Uk(this._srcPts);return this.snapVertices(rt,K),this.snapSegments(rt,K),rt.toCoordinateArray()},xv.prototype.snapSegments=function(K,rt){if(rt.length===0)return null;var nt=rt.length;rt[0].equals2D(rt[rt.length-1])&&(nt=rt.length-1);for(var lt=0;lt<nt;lt++){var pt=rt[lt],lo=this.findSegmentIndexToSnap(pt,K);lo>=0&&K.add(lo+1,new ng(pt),!1)}},xv.prototype.findSegmentIndexToSnap=function(K,rt){for(var nt=this,lt=Sm.MAX_VALUE,pt=-1,lo=0;lo<rt.size()-1;lo++){if(nt._seg.p0=rt.get(lo),nt._seg.p1=rt.get(lo+1),nt._seg.p0.equals2D(K)||nt._seg.p1.equals2D(K)){if(nt._allowSnappingToSourceVertices)continue;return-1}var vo=nt._seg.distance(K);vo<nt._snapTolerance&&vo<lt&&(lt=vo,pt=lo)}return pt},xv.prototype.setAllowSnappingToSourceVertices=function(K){this._allowSnappingToSourceVertices=K},xv.prototype.interfaces_=function(){return[]},xv.prototype.getClass=function(){return xv},xv.isClosed=function(K){return!(K.length<=1)&&K[0].equals2D(K[K.length-1])};var iv=function(K){this._srcGeom=K||null},QC={SNAP_PRECISION_FACTOR:{configurable:!0}};iv.prototype.snapTo=function(K,rt){var nt=this.extractTargetCoordinates(K);return new eS(rt,nt).transform(this._srcGeom)},iv.prototype.snapToSelf=function(K,rt){var nt=this.extractTargetCoordinates(this._srcGeom),lt=new eS(K,nt,!0).transform(this._srcGeom),pt=lt;return rt&&vm(pt,R_)&&(pt=lt.buffer(0)),pt},iv.prototype.computeSnapTolerance=function(K){return this.computeMinimumSegmentLength(K)/10},iv.prototype.extractTargetCoordinates=function(K){for(var rt=new g1,nt=K.getCoordinates(),lt=0;lt<nt.length;lt++)rt.add(nt[lt]);return rt.toArray(new Array(0).fill(null))},iv.prototype.computeMinimumSegmentLength=function(K){for(var rt=Sm.MAX_VALUE,nt=0;nt<K.length-1;nt++){var lt=K[nt].distance(K[nt+1]);lt<rt&&(rt=lt)}return rt},iv.prototype.interfaces_=function(){return[]},iv.prototype.getClass=function(){return iv},iv.snap=function(K,rt,nt){var lt=new Array(2).fill(null),pt=new iv(K);lt[0]=pt.snapTo(rt,nt);var lo=new iv(rt);return lt[1]=lo.snapTo(lt[0],nt),lt},iv.computeOverlaySnapTolerance=function(){if(arguments.length===1){var K=arguments[0],rt=iv.computeSizeBasedSnapTolerance(K),nt=K.getPrecisionModel();if(nt.getType()===Cv.FIXED){var lt=1/nt.getScale()*2/1.415;lt>rt&&(rt=lt)}return rt}if(arguments.length===2){var pt=arguments[0],lo=arguments[1];return Math.min(iv.computeOverlaySnapTolerance(pt),iv.computeOverlaySnapTolerance(lo))}},iv.computeSizeBasedSnapTolerance=function(K){var rt=K.getEnvelopeInternal();return Math.min(rt.getHeight(),rt.getWidth())*iv.SNAP_PRECISION_FACTOR},iv.snapToSelf=function(K,rt,nt){return new iv(K).snapToSelf(rt,nt)},QC.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(iv,QC);var eS=function(K){function rt(nt,lt,pt){K.call(this),this._snapTolerance=nt||null,this._snapPts=lt||null,this._isSelfSnap=pt!==void 0&&pt}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.snapLine=function(nt,lt){var pt=new xv(nt,this._snapTolerance);return pt.setAllowSnappingToSourceVertices(this._isSelfSnap),pt.snapTo(lt)},rt.prototype.transformCoordinates=function(nt,lt){var pt=nt.toCoordinateArray(),lo=this.snapLine(pt,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(lo)},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt}(Vy),ly=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};ly.prototype.getCommon=function(){return Sm.longBitsToDouble(this._commonBits)},ly.prototype.add=function(K){var rt=Sm.doubleToLongBits(K);return this._isFirst?(this._commonBits=rt,this._commonSignExp=ly.signExpBits(this._commonBits),this._isFirst=!1,null):ly.signExpBits(rt)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=ly.numCommonMostSigMantissaBits(this._commonBits,rt),void(this._commonBits=ly.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},ly.prototype.toString=function(){if(arguments.length===1){var K=arguments[0],rt=Sm.longBitsToDouble(K),nt=Sm.toBinaryString(K),lt="0000000000000000000000000000000000000000000000000000000000000000"+nt,pt=lt.substring(lt.length-64),lo=pt.substring(0,1)+"  "+pt.substring(1,12)+"(exp) "+pt.substring(12)+" [ "+rt+" ]";return lo}},ly.prototype.interfaces_=function(){return[]},ly.prototype.getClass=function(){return ly},ly.getBit=function(K,rt){return K&1<<rt?1:0},ly.signExpBits=function(K){return K>>52},ly.zeroLowerBits=function(K,rt){return K&~((1<<rt)-1)},ly.numCommonMostSigMantissaBits=function(K,rt){for(var nt=0,lt=52;lt>=0;lt--){if(ly.getBit(K,lt)!==ly.getBit(rt,lt))return nt;nt++}return 52};var J1=function(){this._commonCoord=null,this._ccFilter=new r_},rk={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};J1.prototype.addCommonBits=function(K){var rt=new Q1(this._commonCoord);K.apply(rt),K.geometryChanged()},J1.prototype.removeCommonBits=function(K){if(this._commonCoord.x===0&&this._commonCoord.y===0)return K;var rt=new ng(this._commonCoord);rt.x=-rt.x,rt.y=-rt.y;var nt=new Q1(rt);return K.apply(nt),K.geometryChanged(),K},J1.prototype.getCommonCoordinate=function(){return this._commonCoord},J1.prototype.add=function(K){K.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},J1.prototype.interfaces_=function(){return[]},J1.prototype.getClass=function(){return J1},rk.CommonCoordinateFilter.get=function(){return r_},rk.Translater.get=function(){return Q1},Object.defineProperties(J1,rk);var r_=function(){this._commonBitsX=new ly,this._commonBitsY=new ly};r_.prototype.filter=function(K){this._commonBitsX.add(K.x),this._commonBitsY.add(K.y)},r_.prototype.getCommonCoordinate=function(){return new ng(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},r_.prototype.interfaces_=function(){return[bw]},r_.prototype.getClass=function(){return r_};var Q1=function(){this.trans=null;var K=arguments[0];this.trans=K};Q1.prototype.filter=function(K,rt){var nt=K.getOrdinate(rt,0)+this.trans.x,lt=K.getOrdinate(rt,1)+this.trans.y;K.setOrdinate(rt,0,nt),K.setOrdinate(rt,1,lt)},Q1.prototype.isDone=function(){return!1},Q1.prototype.isGeometryChanged=function(){return!0},Q1.prototype.interfaces_=function(){return[m1]},Q1.prototype.getClass=function(){return Q1};var H0=function(K,rt){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=K,this._geom[1]=rt,this.computeSnapTolerance()};H0.prototype.selfSnap=function(K){return new iv(K).snapTo(K,this._snapTolerance)},H0.prototype.removeCommonBits=function(K){this._cbr=new J1,this._cbr.add(K[0]),this._cbr.add(K[1]);var rt=new Array(2).fill(null);return rt[0]=this._cbr.removeCommonBits(K[0].copy()),rt[1]=this._cbr.removeCommonBits(K[1].copy()),rt},H0.prototype.prepareResult=function(K){return this._cbr.addCommonBits(K),K},H0.prototype.getResultGeometry=function(K){var rt=this.snap(this._geom),nt=Pm.overlayOp(rt[0],rt[1],K);return this.prepareResult(nt)},H0.prototype.checkValid=function(K){K.isValid()||my.out.println("Snapped geometry is invalid")},H0.prototype.computeSnapTolerance=function(){this._snapTolerance=iv.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},H0.prototype.snap=function(K){var rt=this.removeCommonBits(K);return iv.snap(rt[0],rt[1],this._snapTolerance)},H0.prototype.interfaces_=function(){return[]},H0.prototype.getClass=function(){return H0},H0.overlayOp=function(K,rt,nt){return new H0(K,rt).getResultGeometry(nt)},H0.union=function(K,rt){return H0.overlayOp(K,rt,Pm.UNION)},H0.intersection=function(K,rt){return H0.overlayOp(K,rt,Pm.INTERSECTION)},H0.symDifference=function(K,rt){return H0.overlayOp(K,rt,Pm.SYMDIFFERENCE)},H0.difference=function(K,rt){return H0.overlayOp(K,rt,Pm.DIFFERENCE)};var uy=function(K,rt){this._geom=new Array(2).fill(null),this._geom[0]=K,this._geom[1]=rt};uy.prototype.getResultGeometry=function(K){var rt=null,nt=!1,lt=null;try{rt=Pm.overlayOp(this._geom[0],this._geom[1],K),nt=!0}catch(pt){if(!(pt instanceof Xw))throw pt;lt=pt}if(!nt)try{rt=H0.overlayOp(this._geom[0],this._geom[1],K)}catch(pt){throw pt instanceof Xw?lt:pt}return rt},uy.prototype.interfaces_=function(){return[]},uy.prototype.getClass=function(){return uy},uy.overlayOp=function(K,rt,nt){return new uy(K,rt).getResultGeometry(nt)},uy.union=function(K,rt){return uy.overlayOp(K,rt,Pm.UNION)},uy.intersection=function(K,rt){return uy.overlayOp(K,rt,Pm.INTERSECTION)},uy.symDifference=function(K,rt){return uy.overlayOp(K,rt,Pm.SYMDIFFERENCE)},uy.difference=function(K,rt){return uy.overlayOp(K,rt,Pm.DIFFERENCE)};var wx=function(){this.mce=null,this.chainIndex=null;var K=arguments[0],rt=arguments[1];this.mce=K,this.chainIndex=rt};wx.prototype.computeIntersections=function(K,rt){this.mce.computeIntersectsForChain(this.chainIndex,K.mce,K.chainIndex,rt)},wx.prototype.interfaces_=function(){return[]},wx.prototype.getClass=function(){return wx};var Py=function K(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,arguments.length===2){var rt=arguments[0],nt=arguments[1];this._eventType=K.DELETE,this._xValue=rt,this._insertEvent=nt}else if(arguments.length===3){var lt=arguments[0],pt=arguments[1],lo=arguments[2];this._eventType=K.INSERT,this._label=lt,this._xValue=pt,this._obj=lo}},s2={INSERT:{configurable:!0},DELETE:{configurable:!0}};Py.prototype.isDelete=function(){return this._eventType===Py.DELETE},Py.prototype.setDeleteEventIndex=function(K){this._deleteEventIndex=K},Py.prototype.getObject=function(){return this._obj},Py.prototype.compareTo=function(K){var rt=K;return this._xValue<rt._xValue?-1:this._xValue>rt._xValue?1:this._eventType<rt._eventType?-1:this._eventType>rt._eventType?1:0},Py.prototype.getInsertEvent=function(){return this._insertEvent},Py.prototype.isInsert=function(){return this._eventType===Py.INSERT},Py.prototype.isSameLabel=function(K){return this._label!==null&&this._label===K._label},Py.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},Py.prototype.interfaces_=function(){return[Yb]},Py.prototype.getClass=function(){return Py},s2.INSERT.get=function(){return 1},s2.DELETE.get=function(){return 2},Object.defineProperties(Py,s2);var dE=function(){};dE.prototype.interfaces_=function(){return[]},dE.prototype.getClass=function(){return dE};var V0=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var K=arguments[0],rt=arguments[1],nt=arguments[2];this._li=K,this._includeProper=rt,this._recordIsolated=nt};V0.prototype.isTrivialIntersection=function(K,rt,nt,lt){if(K===nt&&this._li.getIntersectionNum()===1){if(V0.isAdjacentSegments(rt,lt))return!0;if(K.isClosed()){var pt=K.getNumPoints()-1;if(rt===0&&lt===pt||lt===0&&rt===pt)return!0}}return!1},V0.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},V0.prototype.setIsDoneIfProperInt=function(K){this._isDoneWhenProperInt=K},V0.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},V0.prototype.isBoundaryPointInternal=function(K,rt){for(var nt=rt.iterator();nt.hasNext();){var lt=nt.next().getCoordinate();if(K.isIntersection(lt))return!0}return!1},V0.prototype.hasProperIntersection=function(){return this._hasProper},V0.prototype.hasIntersection=function(){return this._hasIntersection},V0.prototype.isDone=function(){return this._isDone},V0.prototype.isBoundaryPoint=function(K,rt){return rt!==null&&(!!this.isBoundaryPointInternal(K,rt[0])||!!this.isBoundaryPointInternal(K,rt[1]))},V0.prototype.setBoundaryNodes=function(K,rt){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=K,this._bdyNodes[1]=rt},V0.prototype.addIntersections=function(K,rt,nt,lt){if(K===nt&&rt===lt)return null;this.numTests++;var pt=K.getCoordinates()[rt],lo=K.getCoordinates()[rt+1],vo=nt.getCoordinates()[lt],vf=nt.getCoordinates()[lt+1];this._li.computeIntersection(pt,lo,vo,vf),this._li.hasIntersection()&&(this._recordIsolated&&(K.setIsolated(!1),nt.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(K,rt,nt,lt)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(K.addIntersections(this._li,rt,0),nt.addIntersections(this._li,lt,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},V0.prototype.interfaces_=function(){return[]},V0.prototype.getClass=function(){return V0},V0.isAdjacentSegments=function(K,rt){return Math.abs(K-rt)===1};var EO=function(K){function rt(){K.call(this),this.events=new $g,this.nOverlaps=null}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.prepareEvents=function(){_1.sort(this.events);for(var nt=0;nt<this.events.size();nt++){var lt=this.events.get(nt);lt.isDelete()&&lt.getInsertEvent().setDeleteEventIndex(nt)}},rt.prototype.computeIntersections=function(){var nt=this;if(arguments.length===1){var lt=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var pt=0;pt<this.events.size();pt++){var lo=nt.events.get(pt);if(lo.isInsert()&&nt.processOverlaps(pt,lo.getDeleteEventIndex(),lo,lt),lt.isDone())break}}else if(arguments.length===3){if(arguments[2]instanceof V0&&vm(arguments[0],p1)&&vm(arguments[1],p1)){var vo=arguments[0],vf=arguments[1],Cf=arguments[2];this.addEdges(vo,vo),this.addEdges(vf,vf),this.computeIntersections(Cf)}else if(typeof arguments[2]=="boolean"&&vm(arguments[0],p1)&&arguments[1]instanceof V0){var Tf=arguments[0],Rf=arguments[1],Of=arguments[2];Of?this.addEdges(Tf,null):this.addEdges(Tf),this.computeIntersections(Rf)}}},rt.prototype.addEdge=function(nt,lt){for(var pt=nt.getMonotoneChainEdge(),lo=pt.getStartIndexes(),vo=0;vo<lo.length-1;vo++){var vf=new wx(pt,vo),Cf=new Py(lt,pt.getMinX(vo),vf);this.events.add(Cf),this.events.add(new Py(pt.getMaxX(vo),Cf))}},rt.prototype.processOverlaps=function(nt,lt,pt,lo){for(var vo=pt.getObject(),vf=nt;vf<lt;vf++){var Cf=this.events.get(vf);if(Cf.isInsert()){var Tf=Cf.getObject();pt.isSameLabel(Cf)||(vo.computeIntersections(Tf,lo),this.nOverlaps++)}}},rt.prototype.addEdges=function(){var nt=this;if(arguments.length===1)for(var lt=arguments[0],pt=lt.iterator();pt.hasNext();){var lo=pt.next();nt.addEdge(lo,lo)}else if(arguments.length===2)for(var vo=arguments[0],vf=arguments[1],Cf=vo.iterator();Cf.hasNext();){var Tf=Cf.next();nt.addEdge(Tf,vf)}},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt}(dE),Mw=function(){this._min=Sm.POSITIVE_INFINITY,this._max=Sm.NEGATIVE_INFINITY},eA={NodeComparator:{configurable:!0}};Mw.prototype.getMin=function(){return this._min},Mw.prototype.intersects=function(K,rt){return!(this._min>rt||this._max<K)},Mw.prototype.getMax=function(){return this._max},Mw.prototype.toString=function(){return f1.toLineString(new ng(this._min,0),new ng(this._max,0))},Mw.prototype.interfaces_=function(){return[]},Mw.prototype.getClass=function(){return Mw},eA.NodeComparator.get=function(){return iC},Object.defineProperties(Mw,eA);var iC=function(){};iC.prototype.compare=function(K,rt){var nt=K,lt=rt,pt=(nt._min+nt._max)/2,lo=(lt._min+lt._max)/2;return pt<lo?-1:pt>lo?1:0},iC.prototype.interfaces_=function(){return[FE]},iC.prototype.getClass=function(){return iC};var C1=function(K){function rt(){K.call(this),this._item=null;var nt=arguments[0],lt=arguments[1],pt=arguments[2];this._min=nt,this._max=lt,this._item=pt}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.query=function(nt,lt,pt){if(!this.intersects(nt,lt))return null;pt.visitItem(this._item)},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt}(Mw),tA=function(K){function rt(){K.call(this),this._node1=null,this._node2=null;var nt=arguments[0],lt=arguments[1];this._node1=nt,this._node2=lt,this.buildExtent(this._node1,this._node2)}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.buildExtent=function(nt,lt){this._min=Math.min(nt._min,lt._min),this._max=Math.max(nt._max,lt._max)},rt.prototype.query=function(nt,lt,pt){if(!this.intersects(nt,lt))return null;this._node1!==null&&this._node1.query(nt,lt,pt),this._node2!==null&&this._node2.query(nt,lt,pt)},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt}(Mw),ew=function(){this._leaves=new $g,this._root=null,this._level=0};ew.prototype.buildTree=function(){_1.sort(this._leaves,new Mw.NodeComparator);for(var K=this._leaves,rt=null,nt=new $g;;){if(this.buildLevel(K,nt),nt.size()===1)return nt.get(0);rt=K,K=nt,nt=rt}},ew.prototype.insert=function(K,rt,nt){if(this._root!==null)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new C1(K,rt,nt))},ew.prototype.query=function(K,rt,nt){this.init(),this._root.query(K,rt,nt)},ew.prototype.buildRoot=function(){if(this._root!==null)return null;this._root=this.buildTree()},ew.prototype.printNode=function(K){my.out.println(f1.toLineString(new ng(K._min,this._level),new ng(K._max,this._level)))},ew.prototype.init=function(){if(this._root!==null)return null;this.buildRoot()},ew.prototype.buildLevel=function(K,rt){this._level++,rt.clear();for(var nt=0;nt<K.size();nt+=2){var lt=K.get(nt);if((nt+1<K.size()?K.get(nt):null)===null)rt.add(lt);else{var pt=new tA(K.get(nt),K.get(nt+1));rt.add(pt)}}},ew.prototype.interfaces_=function(){return[]},ew.prototype.getClass=function(){return ew};var ik=function(){this._items=new $g};ik.prototype.visitItem=function(K){this._items.add(K)},ik.prototype.getItems=function(){return this._items},ik.prototype.interfaces_=function(){return[D_]},ik.prototype.getClass=function(){return ik};var nk=function(){this._index=null;var K=arguments[0];if(!vm(K,R_))throw new e0("Argument must be Polygonal");this._index=new H_(K)},tS={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};nk.prototype.locate=function(K){var rt=new H1(K),nt=new ok(rt);return this._index.query(K.y,K.y,nt),rt.getLocation()},nk.prototype.interfaces_=function(){return[Av]},nk.prototype.getClass=function(){return nk},tS.SegmentVisitor.get=function(){return ok},tS.IntervalIndexedGeometry.get=function(){return H_},Object.defineProperties(nk,tS);var ok=function(){this._counter=null;var K=arguments[0];this._counter=K};ok.prototype.visitItem=function(K){var rt=K;this._counter.countSegment(rt.getCoordinate(0),rt.getCoordinate(1))},ok.prototype.interfaces_=function(){return[D_]},ok.prototype.getClass=function(){return ok};var H_=function(){this._index=new ew;var K=arguments[0];this.init(K)};H_.prototype.init=function(K){for(var rt=vy.getLines(K).iterator();rt.hasNext();){var nt=rt.next().getCoordinates();this.addLine(nt)}},H_.prototype.addLine=function(K){for(var rt=1;rt<K.length;rt++){var nt=new sm(K[rt-1],K[rt]),lt=Math.min(nt.p0.y,nt.p1.y),pt=Math.max(nt.p0.y,nt.p1.y);this._index.insert(lt,pt,nt)}},H_.prototype.query=function(){if(arguments.length===2){var K=arguments[0],rt=arguments[1],nt=new ik;return this._index.query(K,rt,nt),nt.getItems()}if(arguments.length===3){var lt=arguments[0],pt=arguments[1],lo=arguments[2];this._index.query(lt,pt,lo)}},H_.prototype.interfaces_=function(){return[]},H_.prototype.getClass=function(){return H_};var sk=function(K){function rt(){if(K.call(this),this._parentGeom=null,this._lineEdgeMap=new UT,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new Rb,arguments.length===2){var nt=arguments[0],lt=arguments[1],pt=Kb.OGC_SFS_BOUNDARY_RULE;this._argIndex=nt,this._parentGeom=lt,this._boundaryNodeRule=pt,lt!==null&&this.add(lt)}else if(arguments.length===3){var lo=arguments[0],vo=arguments[1],vf=arguments[2];this._argIndex=lo,this._parentGeom=vo,this._boundaryNodeRule=vf,vo!==null&&this.add(vo)}}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.insertBoundaryPoint=function(nt,lt){var pt=this._nodes.addNode(lt).getLabel(),lo=1;pt.getLocation(nt,Lg.ON)===dg.BOUNDARY&&lo++;var vo=rt.determineBoundary(this._boundaryNodeRule,lo);pt.setLocation(nt,vo)},rt.prototype.computeSelfNodes=function(){if(arguments.length===2){var nt=arguments[0],lt=arguments[1];return this.computeSelfNodes(nt,lt,!1)}if(arguments.length===3){var pt=arguments[0],lo=arguments[1],vo=arguments[2],vf=new V0(pt,!0,!1);vf.setIsDoneIfProperInt(vo);var Cf=this.createEdgeSetIntersector(),Tf=this._parentGeom instanceof xw||this._parentGeom instanceof F0||this._parentGeom instanceof Ew,Rf=lo||!Tf;return Cf.computeIntersections(this._edges,vf,Rf),this.addSelfIntersectionNodes(this._argIndex),vf}},rt.prototype.computeSplitEdges=function(nt){for(var lt=this._edges.iterator();lt.hasNext();)lt.next().eiList.addSplitEdges(nt)},rt.prototype.computeEdgeIntersections=function(nt,lt,pt){var lo=new V0(lt,pt,!0);return lo.setBoundaryNodes(this.getBoundaryNodes(),nt.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,nt._edges,lo),lo},rt.prototype.getGeometry=function(){return this._parentGeom},rt.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},rt.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},rt.prototype.addPoint=function(){if(arguments[0]instanceof vb){var nt=arguments[0],lt=nt.getCoordinate();this.insertPoint(this._argIndex,lt,dg.INTERIOR)}else if(arguments[0]instanceof ng){var pt=arguments[0];this.insertPoint(this._argIndex,pt,dg.INTERIOR)}},rt.prototype.addPolygon=function(nt){this.addPolygonRing(nt.getExteriorRing(),dg.EXTERIOR,dg.INTERIOR);for(var lt=0;lt<nt.getNumInteriorRing();lt++){var pt=nt.getInteriorRingN(lt);this.addPolygonRing(pt,dg.INTERIOR,dg.EXTERIOR)}},rt.prototype.addEdge=function(nt){this.insertEdge(nt);var lt=nt.getCoordinates();this.insertPoint(this._argIndex,lt[0],dg.BOUNDARY),this.insertPoint(this._argIndex,lt[lt.length-1],dg.BOUNDARY)},rt.prototype.addLineString=function(nt){var lt=qm.removeRepeatedPoints(nt.getCoordinates());if(lt.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=lt[0],null;var pt=new ek(lt,new Pv(this._argIndex,dg.INTERIOR));this._lineEdgeMap.put(nt,pt),this.insertEdge(pt),Im.isTrue(lt.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,lt[0]),this.insertBoundaryPoint(this._argIndex,lt[lt.length-1])},rt.prototype.getInvalidPoint=function(){return this._invalidPoint},rt.prototype.getBoundaryPoints=function(){for(var nt=this.getBoundaryNodes(),lt=new Array(nt.size()).fill(null),pt=0,lo=nt.iterator();lo.hasNext();){var vo=lo.next();lt[pt++]=vo.getCoordinate().copy()}return lt},rt.prototype.getBoundaryNodes=function(){return this._boundaryNodes===null&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},rt.prototype.addSelfIntersectionNode=function(nt,lt,pt){if(this.isBoundaryNode(nt,lt))return null;pt===dg.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(nt,lt):this.insertPoint(nt,lt,pt)},rt.prototype.addPolygonRing=function(nt,lt,pt){if(nt.isEmpty())return null;var lo=qm.removeRepeatedPoints(nt.getCoordinates());if(lo.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=lo[0],null;var vo=lt,vf=pt;jg.isCCW(lo)&&(vo=pt,vf=lt);var Cf=new ek(lo,new Pv(this._argIndex,dg.BOUNDARY,vo,vf));this._lineEdgeMap.put(nt,Cf),this.insertEdge(Cf),this.insertPoint(this._argIndex,lo[0],dg.BOUNDARY)},rt.prototype.insertPoint=function(nt,lt,pt){var lo=this._nodes.addNode(lt),vo=lo.getLabel();vo===null?lo._label=new Pv(nt,pt):vo.setLocation(nt,pt)},rt.prototype.createEdgeSetIntersector=function(){return new EO},rt.prototype.addSelfIntersectionNodes=function(nt){for(var lt=this._edges.iterator();lt.hasNext();)for(var pt=lt.next(),lo=pt.getLabel().getLocation(nt),vo=pt.eiList.iterator();vo.hasNext();){var vf=vo.next();this.addSelfIntersectionNode(nt,vf.coord,lo)}},rt.prototype.add=function(){if(arguments.length!==1)return K.prototype.add.apply(this,arguments);var nt=arguments[0];if(nt.isEmpty())return null;if(nt instanceof Ew&&(this._useBoundaryDeterminationRule=!1),nt instanceof F0)this.addPolygon(nt);else if(nt instanceof t0)this.addLineString(nt);else if(nt instanceof vb)this.addPoint(nt);else if(nt instanceof ZE)this.addCollection(nt);else if(nt instanceof L_)this.addCollection(nt);else if(nt instanceof Ew)this.addCollection(nt);else{if(!(nt instanceof zy))throw new Error(nt.getClass().getName());this.addCollection(nt)}},rt.prototype.addCollection=function(nt){for(var lt=0;lt<nt.getNumGeometries();lt++){var pt=nt.getGeometryN(lt);this.add(pt)}},rt.prototype.locate=function(nt){return vm(this._parentGeom,R_)&&this._parentGeom.getNumGeometries()>50?(this._areaPtLocator===null&&(this._areaPtLocator=new nk(this._parentGeom)),this._areaPtLocator.locate(nt)):this._ptLocator.locate(nt,this._parentGeom)},rt.prototype.findEdge=function(){if(arguments.length===1){var nt=arguments[0];return this._lineEdgeMap.get(nt)}return K.prototype.findEdge.apply(this,arguments)},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt.determineBoundary=function(nt,lt){return nt.isInBoundary(lt)?dg.BOUNDARY:dg.INTERIOR},rt}(o0),ak=function(){if(this._li=new I_,this._resultPrecisionModel=null,this._arg=null,arguments.length===1){var K=arguments[0];this.setComputationPrecision(K.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new sk(0,K)}else if(arguments.length===2){var rt=arguments[0],nt=arguments[1],lt=Kb.OGC_SFS_BOUNDARY_RULE;rt.getPrecisionModel().compareTo(nt.getPrecisionModel())>=0?this.setComputationPrecision(rt.getPrecisionModel()):this.setComputationPrecision(nt.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new sk(0,rt,lt),this._arg[1]=new sk(1,nt,lt)}else if(arguments.length===3){var pt=arguments[0],lo=arguments[1],vo=arguments[2];pt.getPrecisionModel().compareTo(lo.getPrecisionModel())>=0?this.setComputationPrecision(pt.getPrecisionModel()):this.setComputationPrecision(lo.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new sk(0,pt,vo),this._arg[1]=new sk(1,lo,vo)}};ak.prototype.getArgGeometry=function(K){return this._arg[K].getGeometry()},ak.prototype.setComputationPrecision=function(K){this._resultPrecisionModel=K,this._li.setPrecisionModel(this._resultPrecisionModel)},ak.prototype.interfaces_=function(){return[]},ak.prototype.getClass=function(){return ak};var _x=function(){};_x.prototype.interfaces_=function(){return[]},_x.prototype.getClass=function(){return _x},_x.map=function(){if(arguments[0]instanceof mm&&vm(arguments[1],_x.MapOp)){for(var K=arguments[0],rt=arguments[1],nt=new $g,lt=0;lt<K.getNumGeometries();lt++){var pt=rt.map(K.getGeometryN(lt));pt!==null&&nt.add(pt)}return K.getFactory().buildGeometry(nt)}if(vm(arguments[0],$0)&&vm(arguments[1],_x.MapOp)){for(var lo=arguments[0],vo=arguments[1],vf=new $g,Cf=lo.iterator();Cf.hasNext();){var Tf=Cf.next(),Rf=vo.map(Tf);Rf!==null&&vf.add(Rf)}return vf}},_x.MapOp=function(){};var Pm=function(K){function rt(){var nt=arguments[0],lt=arguments[1];K.call(this,nt,lt),this._ptLocator=new Rb,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new wb,this._resultPolyList=new $g,this._resultLineList=new $g,this._resultPointList=new $g,this._graph=new o0(new JT),this._geomFact=nt.getFactory()}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.insertUniqueEdge=function(nt){var lt=this._edgeList.findEqualEdge(nt);if(lt!==null){var pt=lt.getLabel(),lo=nt.getLabel();lt.isPointwiseEqual(nt)||(lo=new Pv(nt.getLabel())).flip();var vo=lt.getDepth();vo.isNull()&&vo.add(pt),vo.add(lo),pt.merge(lo)}else this._edgeList.add(nt)},rt.prototype.getGraph=function(){return this._graph},rt.prototype.cancelDuplicateResultEdges=function(){for(var nt=this._graph.getEdgeEnds().iterator();nt.hasNext();){var lt=nt.next(),pt=lt.getSym();lt.isInResult()&&pt.isInResult()&&(lt.setInResult(!1),pt.setInResult(!1))}},rt.prototype.isCoveredByLA=function(nt){return!!this.isCovered(nt,this._resultLineList)||!!this.isCovered(nt,this._resultPolyList)},rt.prototype.computeGeometry=function(nt,lt,pt,lo){var vo=new $g;return vo.addAll(nt),vo.addAll(lt),vo.addAll(pt),vo.isEmpty()?rt.createEmptyResult(lo,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(vo)},rt.prototype.mergeSymLabels=function(){for(var nt=this._graph.getNodes().iterator();nt.hasNext();)nt.next().getEdges().mergeSymLabels()},rt.prototype.isCovered=function(nt,lt){for(var pt=lt.iterator();pt.hasNext();){var lo=pt.next();if(this._ptLocator.locate(nt,lo)!==dg.EXTERIOR)return!0}return!1},rt.prototype.replaceCollapsedEdges=function(){for(var nt=new $g,lt=this._edgeList.iterator();lt.hasNext();){var pt=lt.next();pt.isCollapsed()&&(lt.remove(),nt.add(pt.getCollapsedEdge()))}this._edgeList.addAll(nt)},rt.prototype.updateNodeLabelling=function(){for(var nt=this._graph.getNodes().iterator();nt.hasNext();){var lt=nt.next(),pt=lt.getEdges().getLabel();lt.getLabel().merge(pt)}},rt.prototype.getResultGeometry=function(nt){return this.computeOverlay(nt),this._resultGeom},rt.prototype.insertUniqueEdges=function(nt){for(var lt=nt.iterator();lt.hasNext();){var pt=lt.next();this.insertUniqueEdge(pt)}},rt.prototype.computeOverlay=function(nt){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var lt=new $g;this._arg[0].computeSplitEdges(lt),this._arg[1].computeSplitEdges(lt),this.insertUniqueEdges(lt),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),bx.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(nt),this.cancelDuplicateResultEdges();var pt=new Qy(this._geomFact);pt.add(this._graph),this._resultPolyList=pt.getPolygons();var lo=new K1(this,this._geomFact,this._ptLocator);this._resultLineList=lo.build(nt);var vo=new hE(this,this._geomFact,this._ptLocator);this._resultPointList=vo.build(nt),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,nt)},rt.prototype.labelIncompleteNode=function(nt,lt){var pt=this._ptLocator.locate(nt.getCoordinate(),this._arg[lt].getGeometry());nt.getLabel().setLocation(lt,pt)},rt.prototype.copyPoints=function(nt){for(var lt=this._arg[nt].getNodeIterator();lt.hasNext();){var pt=lt.next();this._graph.addNode(pt.getCoordinate()).setLabel(nt,pt.getLabel().getLocation(nt))}},rt.prototype.findResultAreaEdges=function(nt){for(var lt=this._graph.getEdgeEnds().iterator();lt.hasNext();){var pt=lt.next(),lo=pt.getLabel();lo.isArea()&&!pt.isInteriorAreaEdge()&&rt.isResultOfOp(lo.getLocation(0,Lg.RIGHT),lo.getLocation(1,Lg.RIGHT),nt)&&pt.setInResult(!0)}},rt.prototype.computeLabelsFromDepths=function(){for(var nt=this._edgeList.iterator();nt.hasNext();){var lt=nt.next(),pt=lt.getLabel(),lo=lt.getDepth();if(!lo.isNull()){lo.normalize();for(var vo=0;vo<2;vo++)pt.isNull(vo)||!pt.isArea()||lo.isNull(vo)||(lo.getDelta(vo)===0?pt.toLine(vo):(Im.isTrue(!lo.isNull(vo,Lg.LEFT),"depth of LEFT side has not been initialized"),pt.setLocation(vo,Lg.LEFT,lo.getLocation(vo,Lg.LEFT)),Im.isTrue(!lo.isNull(vo,Lg.RIGHT),"depth of RIGHT side has not been initialized"),pt.setLocation(vo,Lg.RIGHT,lo.getLocation(vo,Lg.RIGHT))))}}},rt.prototype.computeLabelling=function(){for(var nt=this._graph.getNodes().iterator();nt.hasNext();)nt.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},rt.prototype.labelIncompleteNodes=function(){for(var nt=this._graph.getNodes().iterator();nt.hasNext();){var lt=nt.next(),pt=lt.getLabel();lt.isIsolated()&&(pt.isNull(0)?this.labelIncompleteNode(lt,0):this.labelIncompleteNode(lt,1)),lt.getEdges().updateLabelling(pt)}},rt.prototype.isCoveredByA=function(nt){return!!this.isCovered(nt,this._resultPolyList)},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt}(ak);Pm.overlayOp=function(K,rt,nt){return new Pm(K,rt).getResultGeometry(nt)},Pm.intersection=function(K,rt){if(K.isEmpty()||rt.isEmpty())return Pm.createEmptyResult(Pm.INTERSECTION,K,rt,K.getFactory());if(K.isGeometryCollection()){var nt=rt;return cE.map(K,{interfaces_:function(){return[_x.MapOp]},map:function(lt){return lt.intersection(nt)}})}return K.checkNotGeometryCollection(K),K.checkNotGeometryCollection(rt),uy.overlayOp(K,rt,Pm.INTERSECTION)},Pm.symDifference=function(K,rt){if(K.isEmpty()||rt.isEmpty()){if(K.isEmpty()&&rt.isEmpty())return Pm.createEmptyResult(Pm.SYMDIFFERENCE,K,rt,K.getFactory());if(K.isEmpty())return rt.copy();if(rt.isEmpty())return K.copy()}return K.checkNotGeometryCollection(K),K.checkNotGeometryCollection(rt),uy.overlayOp(K,rt,Pm.SYMDIFFERENCE)},Pm.resultDimension=function(K,rt,nt){var lt=rt.getDimension(),pt=nt.getDimension(),lo=-1;switch(K){case Pm.INTERSECTION:lo=Math.min(lt,pt);break;case Pm.UNION:lo=Math.max(lt,pt);break;case Pm.DIFFERENCE:lo=lt;break;case Pm.SYMDIFFERENCE:lo=Math.max(lt,pt)}return lo},Pm.createEmptyResult=function(K,rt,nt,lt){var pt=null;switch(Pm.resultDimension(K,rt,nt)){case-1:pt=lt.createGeometryCollection(new Array(0).fill(null));break;case 0:pt=lt.createPoint();break;case 1:pt=lt.createLineString();break;case 2:pt=lt.createPolygon()}return pt},Pm.difference=function(K,rt){return K.isEmpty()?Pm.createEmptyResult(Pm.DIFFERENCE,K,rt,K.getFactory()):rt.isEmpty()?K.copy():(K.checkNotGeometryCollection(K),K.checkNotGeometryCollection(rt),uy.overlayOp(K,rt,Pm.DIFFERENCE))},Pm.isResultOfOp=function(){if(arguments.length===2){var K=arguments[0],rt=arguments[1],nt=K.getLocation(0),lt=K.getLocation(1);return Pm.isResultOfOp(nt,lt,rt)}if(arguments.length===3){var pt=arguments[0],lo=arguments[1],vo=arguments[2];switch(pt===dg.BOUNDARY&&(pt=dg.INTERIOR),lo===dg.BOUNDARY&&(lo=dg.INTERIOR),vo){case Pm.INTERSECTION:return pt===dg.INTERIOR&&lo===dg.INTERIOR;case Pm.UNION:return pt===dg.INTERIOR||lo===dg.INTERIOR;case Pm.DIFFERENCE:return pt===dg.INTERIOR&&lo!==dg.INTERIOR;case Pm.SYMDIFFERENCE:return pt===dg.INTERIOR&&lo!==dg.INTERIOR||pt!==dg.INTERIOR&&lo===dg.INTERIOR}return!1}},Pm.INTERSECTION=1,Pm.UNION=2,Pm.DIFFERENCE=3,Pm.SYMDIFFERENCE=4;var V_=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new Rb,this._seg=new sm;var K=arguments[0],rt=arguments[1];this._g=K,this._boundaryDistanceTolerance=rt,this._linework=this.extractLinework(K)};V_.prototype.isWithinToleranceOfBoundary=function(K){for(var rt=this,nt=0;nt<this._linework.getNumGeometries();nt++)for(var lt=rt._linework.getGeometryN(nt).getCoordinateSequence(),pt=0;pt<lt.size()-1;pt++)if(lt.getCoordinate(pt,rt._seg.p0),lt.getCoordinate(pt+1,rt._seg.p1),rt._seg.distance(K)<=rt._boundaryDistanceTolerance)return!0;return!1},V_.prototype.getLocation=function(K){return this.isWithinToleranceOfBoundary(K)?dg.BOUNDARY:this._ptLocator.locate(K,this._g)},V_.prototype.extractLinework=function(K){var rt=new fE;K.apply(rt);var nt=rt.getLinework(),lt=Ym.toLineStringArray(nt);return K.getFactory().createMultiLineString(lt)},V_.prototype.interfaces_=function(){return[]},V_.prototype.getClass=function(){return V_};var fE=function(){this._linework=null,this._linework=new $g};fE.prototype.getLinework=function(){return this._linework},fE.prototype.filter=function(K){if(K instanceof F0){var rt=K;this._linework.add(rt.getExteriorRing());for(var nt=0;nt<rt.getNumInteriorRing();nt++)this._linework.add(rt.getInteriorRingN(nt))}},fE.prototype.interfaces_=function(){return[V1]},fE.prototype.getClass=function(){return fE};var U_=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var K=arguments[0];this._g=K};U_.prototype.extractPoints=function(K,rt,nt){for(var lt=K.getCoordinates(),pt=0;pt<lt.length-1;pt++)this.computeOffsetPoints(lt[pt],lt[pt+1],rt,nt)},U_.prototype.setSidesToGenerate=function(K,rt){this._doLeft=K,this._doRight=rt},U_.prototype.getPoints=function(K){for(var rt=new $g,nt=vy.getLines(this._g).iterator();nt.hasNext();){var lt=nt.next();this.extractPoints(lt,K,rt)}return rt},U_.prototype.computeOffsetPoints=function(K,rt,nt,lt){var pt=rt.x-K.x,lo=rt.y-K.y,vo=Math.sqrt(pt*pt+lo*lo),vf=nt*pt/vo,Cf=nt*lo/vo,Tf=(rt.x+K.x)/2,Rf=(rt.y+K.y)/2;if(this._doLeft){var Of=new ng(Tf-Cf,Rf+vf);lt.add(Of)}if(this._doRight){var Bf=new ng(Tf+Cf,Rf-vf);lt.add(Bf)}},U_.prototype.interfaces_=function(){return[]},U_.prototype.getClass=function(){return U_};var ib=function K(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=K.TOLERANCE,this._testCoords=new $g;var rt=arguments[0],nt=arguments[1],lt=arguments[2];this._boundaryDistanceTolerance=K.computeBoundaryDistanceTolerance(rt,nt),this._geom=[rt,nt,lt],this._locFinder=[new V_(this._geom[0],this._boundaryDistanceTolerance),new V_(this._geom[1],this._boundaryDistanceTolerance),new V_(this._geom[2],this._boundaryDistanceTolerance)]},a2={TOLERANCE:{configurable:!0}};ib.prototype.reportResult=function(K,rt,nt){my.out.println("Overlay result invalid - A:"+dg.toLocationSymbol(rt[0])+" B:"+dg.toLocationSymbol(rt[1])+" expected:"+(nt?"i":"e")+" actual:"+dg.toLocationSymbol(rt[2]))},ib.prototype.isValid=function(K){this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]);var rt=this.checkValid(K);return rt},ib.prototype.checkValid=function(){var K=this;if(arguments.length===1){for(var rt=arguments[0],nt=0;nt<this._testCoords.size();nt++){var lt=K._testCoords.get(nt);if(!K.checkValid(rt,lt))return K._invalidLocation=lt,!1}return!0}if(arguments.length===2){var pt=arguments[0],lo=arguments[1];return this._location[0]=this._locFinder[0].getLocation(lo),this._location[1]=this._locFinder[1].getLocation(lo),this._location[2]=this._locFinder[2].getLocation(lo),!!ib.hasLocation(this._location,dg.BOUNDARY)||this.isValidResult(pt,this._location)}},ib.prototype.addTestPts=function(K){var rt=new U_(K);this._testCoords.addAll(rt.getPoints(5*this._boundaryDistanceTolerance))},ib.prototype.isValidResult=function(K,rt){var nt=Pm.isResultOfOp(rt[0],rt[1],K),lt=!(nt^rt[2]===dg.INTERIOR);return lt||this.reportResult(K,rt,nt),lt},ib.prototype.getInvalidLocation=function(){return this._invalidLocation},ib.prototype.interfaces_=function(){return[]},ib.prototype.getClass=function(){return ib},ib.hasLocation=function(K,rt){for(var nt=0;nt<3;nt++)if(K[nt]===rt)return!0;return!1},ib.computeBoundaryDistanceTolerance=function(K,rt){return Math.min(iv.computeSizeBasedSnapTolerance(K),iv.computeSizeBasedSnapTolerance(rt))},ib.isValid=function(K,rt,nt,lt){return new ib(K,rt,lt).isValid(nt)},a2.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(ib,a2);var Iy=function K(rt){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=K.extractFactory(rt),this._inputGeoms=rt};Iy.prototype.extractElements=function(K,rt){if(K===null)return null;for(var nt=0;nt<K.getNumGeometries();nt++){var lt=K.getGeometryN(nt);this._skipEmpty&&lt.isEmpty()||rt.add(lt)}},Iy.prototype.combine=function(){for(var K=new $g,rt=this._inputGeoms.iterator();rt.hasNext();){var nt=rt.next();this.extractElements(nt,K)}return K.size()===0?this._geomFactory!==null?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(K)},Iy.prototype.interfaces_=function(){return[]},Iy.prototype.getClass=function(){return Iy},Iy.combine=function(){if(arguments.length===1){var K=arguments[0],rt=new Iy(K);return rt.combine()}if(arguments.length===2){var nt=arguments[0],lt=arguments[1],pt=new Iy(Iy.createList(nt,lt));return pt.combine()}if(arguments.length===3){var lo=arguments[0],vo=arguments[1],vf=arguments[2],Cf=new Iy(Iy.createList(lo,vo,vf));return Cf.combine()}},Iy.extractFactory=function(K){return K.isEmpty()?null:K.iterator().next().getFactory()},Iy.createList=function(){if(arguments.length===2){var K=arguments[0],rt=arguments[1],nt=new $g;return nt.add(K),nt.add(rt),nt}if(arguments.length===3){var lt=arguments[0],pt=arguments[1],lo=arguments[2],vo=new $g;return vo.add(lt),vo.add(pt),vo.add(lo),vo}};var M0=function(){this._inputPolys=null,this._geomFactory=null;var K=arguments[0];this._inputPolys=K,this._inputPolys===null&&(this._inputPolys=new $g)},l2={STRTREE_NODE_CAPACITY:{configurable:!0}};M0.prototype.reduceToGeometries=function(K){for(var rt=new $g,nt=K.iterator();nt.hasNext();){var lt=nt.next(),pt=null;vm(lt,p1)?pt=this.unionTree(lt):lt instanceof mm&&(pt=lt),rt.add(pt)}return rt},M0.prototype.extractByEnvelope=function(K,rt,nt){for(var lt=new $g,pt=0;pt<rt.getNumGeometries();pt++){var lo=rt.getGeometryN(pt);lo.getEnvelopeInternal().intersects(K)?lt.add(lo):nt.add(lo)}return this._geomFactory.buildGeometry(lt)},M0.prototype.unionOptimized=function(K,rt){var nt=K.getEnvelopeInternal(),lt=rt.getEnvelopeInternal();if(!nt.intersects(lt))return Iy.combine(K,rt);if(K.getNumGeometries()<=1&&rt.getNumGeometries()<=1)return this.unionActual(K,rt);var pt=nt.intersection(lt);return this.unionUsingEnvelopeIntersection(K,rt,pt)},M0.prototype.union=function(){if(this._inputPolys===null)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var K=new ZT(M0.STRTREE_NODE_CAPACITY),rt=this._inputPolys.iterator();rt.hasNext();){var nt=rt.next();K.insert(nt.getEnvelopeInternal(),nt)}this._inputPolys=null;var lt=K.itemsTree();return this.unionTree(lt)},M0.prototype.binaryUnion=function(){if(arguments.length===1){var K=arguments[0];return this.binaryUnion(K,0,K.size())}if(arguments.length===3){var rt=arguments[0],nt=arguments[1],lt=arguments[2];if(lt-nt<=1){var pt=M0.getGeometry(rt,nt);return this.unionSafe(pt,null)}if(lt-nt==2)return this.unionSafe(M0.getGeometry(rt,nt),M0.getGeometry(rt,nt+1));var lo=Math.trunc((lt+nt)/2),vo=this.binaryUnion(rt,nt,lo),vf=this.binaryUnion(rt,lo,lt);return this.unionSafe(vo,vf)}},M0.prototype.repeatedUnion=function(K){for(var rt=null,nt=K.iterator();nt.hasNext();){var lt=nt.next();rt=rt===null?lt.copy():rt.union(lt)}return rt},M0.prototype.unionSafe=function(K,rt){return K===null&&rt===null?null:K===null?rt.copy():rt===null?K.copy():this.unionOptimized(K,rt)},M0.prototype.unionActual=function(K,rt){return M0.restrictToPolygons(K.union(rt))},M0.prototype.unionTree=function(K){var rt=this.reduceToGeometries(K);return this.binaryUnion(rt)},M0.prototype.unionUsingEnvelopeIntersection=function(K,rt,nt){var lt=new $g,pt=this.extractByEnvelope(nt,K,lt),lo=this.extractByEnvelope(nt,rt,lt),vo=this.unionActual(pt,lo);return lt.add(vo),Iy.combine(lt)},M0.prototype.bufferUnion=function(){if(arguments.length===1){var K=arguments[0],rt=K.get(0).getFactory(),nt=rt.buildGeometry(K),lt=nt.buffer(0);return lt}if(arguments.length===2){var pt=arguments[0],lo=arguments[1],vo=pt.getFactory(),vf=vo.createGeometryCollection([pt,lo]),Cf=vf.buffer(0);return Cf}},M0.prototype.interfaces_=function(){return[]},M0.prototype.getClass=function(){return M0},M0.restrictToPolygons=function(K){if(vm(K,R_))return K;var rt=e_.getPolygons(K);return rt.size()===1?rt.get(0):K.getFactory().createMultiPolygon(Ym.toPolygonArray(rt))},M0.getGeometry=function(K,rt){return rt>=K.size()?null:K.get(rt)},M0.union=function(K){return new M0(K).union()},l2.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(M0,l2);var S1=function(){};function i_(){return new lk}function lk(){this.reset()}S1.prototype.interfaces_=function(){return[]},S1.prototype.getClass=function(){return S1},S1.union=function(K,rt){if(K.isEmpty()||rt.isEmpty()){if(K.isEmpty()&&rt.isEmpty())return Pm.createEmptyResult(Pm.UNION,K,rt,K.getFactory());if(K.isEmpty())return rt.copy();if(rt.isEmpty())return K.copy()}return K.checkNotGeometryCollection(K),K.checkNotGeometryCollection(rt),uy.overlayOp(K,rt,Pm.UNION)},lk.prototype={constructor:lk,reset:function(){this.s=this.t=0},add:function(K){u2(nC,K,this.t),u2(this,nC.s,this.s),this.s?this.t+=nC.t:this.s=nC.t},valueOf:function(){return this.s}};var nC=new lk;function u2(K,rt,nt){var lt=K.s=rt+nt,pt=lt-rt,lo=lt-pt;K.t=rt-lo+(nt-pt)}var _0=1e-6,Rv=Math.PI,n_=Rv/2,rA=Rv/4,o_=2*Rv,ym=180/Rv,i1=Rv/180,Uy=Math.abs,kO=Math.atan,uk=Math.atan2,U0=Math.cos,W0=Math.sin,oC=Math.sqrt;function rS(K){return K>1?0:K<-1?Rv:Math.acos(K)}function Pw(K){return K>1?n_:K<-1?-n_:Math.asin(K)}function xx(){}function sC(K,rt){K&&c2.hasOwnProperty(K.type)&&c2[K.type](K,rt)}var iS={Feature:function(K,rt){sC(K.geometry,rt)},FeatureCollection:function(K,rt){for(var nt=K.features,lt=-1,pt=nt.length;++lt<pt;)sC(nt[lt].geometry,rt)}},c2={Sphere:function(K,rt){rt.sphere()},Point:function(K,rt){K=K.coordinates,rt.point(K[0],K[1],K[2])},MultiPoint:function(K,rt){for(var nt=K.coordinates,lt=-1,pt=nt.length;++lt<pt;)K=nt[lt],rt.point(K[0],K[1],K[2])},LineString:function(K,rt){nS(K.coordinates,rt,0)},MultiLineString:function(K,rt){for(var nt=K.coordinates,lt=-1,pt=nt.length;++lt<pt;)nS(nt[lt],rt,0)},Polygon:function(K,rt){ck(K.coordinates,rt)},MultiPolygon:function(K,rt){for(var nt=K.coordinates,lt=-1,pt=nt.length;++lt<pt;)ck(nt[lt],rt)},GeometryCollection:function(K,rt){for(var nt=K.geometries,lt=-1,pt=nt.length;++lt<pt;)sC(nt[lt],rt)}};function nS(K,rt,nt){var lt,pt=-1,lo=K.length-nt;for(rt.lineStart();++pt<lo;)lt=K[pt],rt.point(lt[0],lt[1],lt[2]);rt.lineEnd()}function ck(K,rt){var nt=-1,lt=K.length;for(rt.polygonStart();++nt<lt;)nS(K[nt],rt,1);rt.polygonEnd()}i_(),i_();function h2(K){return[uk(K[1],K[0]),Pw(K[2])]}function P0(K){var rt=K[0],nt=K[1],lt=U0(nt);return[lt*U0(rt),lt*W0(rt),W0(nt)]}function aC(K,rt){return K[0]*rt[0]+K[1]*rt[1]+K[2]*rt[2]}function oS(K,rt){return[K[1]*rt[2]-K[2]*rt[1],K[2]*rt[0]-K[0]*rt[2],K[0]*rt[1]-K[1]*rt[0]]}function d2(K,rt){K[0]+=rt[0],K[1]+=rt[1],K[2]+=rt[2]}function sS(K,rt){return[K[0]*rt,K[1]*rt,K[2]*rt]}function f2(K){var rt=oC(K[0]*K[0]+K[1]*K[1]+K[2]*K[2]);K[0]/=rt,K[1]/=rt,K[2]/=rt}i_();function p2(K,rt){function nt(lt,pt){return lt=K(lt,pt),rt(lt[0],lt[1])}return K.invert&&rt.invert&&(nt.invert=function(lt,pt){return(lt=rt.invert(lt,pt))&&K.invert(lt[0],lt[1])}),nt}function g2(K,rt){return[K>Rv?K-o_:K<-Rv?K+o_:K,rt]}function iA(K){return function(rt,nt){return[(rt+=K)>Rv?rt-o_:rt<-Rv?rt+o_:rt,nt]}}function m2(K){var rt=iA(K);return rt.invert=iA(-K),rt}function v2(K,rt){var nt=U0(K),lt=W0(K),pt=U0(rt),lo=W0(rt);function vo(vf,Cf){var Tf=U0(Cf),Rf=U0(vf)*Tf,Of=W0(vf)*Tf,Bf=W0(Cf),Gf=Bf*nt+Rf*lt;return[uk(Of*pt-Gf*lo,Rf*nt-Bf*lt),Pw(Gf*pt+Of*lo)]}return vo.invert=function(vf,Cf){var Tf=U0(Cf),Rf=U0(vf)*Tf,Of=W0(vf)*Tf,Bf=W0(Cf),Gf=Bf*pt-Of*lo;return[uk(Of*pt+Bf*lo,Rf*nt+Gf*lt),Pw(Gf*nt-Rf*lt)]},vo}function y2(K,rt){(rt=P0(rt))[0]-=K,f2(rt);var nt=rS(-rt[1]);return((-rt[2]<0?-nt:nt)+o_-_0)%o_}function aS(){var K,rt=[];return{point:function(nt,lt){K.push([nt,lt])},lineStart:function(){rt.push(K=[])},lineEnd:xx,rejoin:function(){rt.length>1&&rt.push(rt.pop().concat(rt.shift()))},result:function(){var nt=rt;return rt=[],K=null,nt}}}function lS(K,rt){return Uy(K[0]-rt[0])<_0&&Uy(K[1]-rt[1])<_0}function pE(K,rt,nt,lt){this.x=K,this.z=rt,this.o=nt,this.e=lt,this.v=!1,this.n=this.p=null}function b2(K,rt,nt,lt,pt){var lo,vo,vf=[],Cf=[];if(K.forEach(function(qf){if(!((Kf=qf.length-1)<=0)){var Kf,Uf,lp=qf[0],xp=qf[Kf];if(lS(lp,xp)){for(pt.lineStart(),lo=0;lo<Kf;++lo)pt.point((lp=qf[lo])[0],lp[1]);pt.lineEnd()}else vf.push(Uf=new pE(lp,qf,null,!0)),Cf.push(Uf.o=new pE(lp,null,Uf,!1)),vf.push(Uf=new pE(xp,qf,null,!1)),Cf.push(Uf.o=new pE(xp,null,Uf,!0))}}),vf.length){for(Cf.sort(rt),lC(vf),lC(Cf),lo=0,vo=Cf.length;lo<vo;++lo)Cf[lo].e=nt=!nt;for(var Tf,Rf,Of=vf[0];;){for(var Bf=Of,Gf=!0;Bf.v;)if((Bf=Bf.n)===Of)return;Tf=Bf.z,pt.lineStart();do{if(Bf.v=Bf.o.v=!0,Bf.e){if(Gf)for(lo=0,vo=Tf.length;lo<vo;++lo)pt.point((Rf=Tf[lo])[0],Rf[1]);else lt(Bf.x,Bf.n.x,1,pt);Bf=Bf.n}else{if(Gf)for(Tf=Bf.p.z,lo=Tf.length-1;lo>=0;--lo)pt.point((Rf=Tf[lo])[0],Rf[1]);else lt(Bf.x,Bf.p.x,-1,pt);Bf=Bf.p}Tf=(Bf=Bf.o).z,Gf=!Gf}while(!Bf.v);pt.lineEnd()}}}function lC(K){if(rt=K.length){for(var rt,nt,lt=0,pt=K[0];++lt<rt;)pt.n=nt=K[lt],nt.p=pt,pt=nt;pt.n=nt=K[0],nt.p=pt}}function uC(K,rt){return K<rt?-1:K>rt?1:K>=rt?0:NaN}g2.invert=g2;var hk,s_;(hk=uC).length===1&&(s_=hk,hk=function(K,rt){return uC(s_(K),rt)});function nA(K){for(var rt,nt,lt,pt=K.length,lo=-1,vo=0;++lo<pt;)vo+=K[lo].length;for(nt=new Array(vo);--pt>=0;)for(rt=(lt=K[pt]).length;--rt>=0;)nt[--vo]=lt[rt];return nt}var dk=1e9,by=-dk;function uS(K,rt,nt,lt){function pt(Tf,Rf){return K<=Tf&&Tf<=nt&&rt<=Rf&&Rf<=lt}function lo(Tf,Rf,Of,Bf){var Gf=0,qf=0;if(Tf==null||(Gf=vo(Tf,Of))!==(qf=vo(Rf,Of))||Cf(Tf,Rf)<0^Of>0)do Bf.point(Gf===0||Gf===3?K:nt,Gf>1?lt:rt);while((Gf=(Gf+Of+4)%4)!==qf);else Bf.point(Rf[0],Rf[1])}function vo(Tf,Rf){return Uy(Tf[0]-K)<_0?Rf>0?0:3:Uy(Tf[0]-nt)<_0?Rf>0?2:1:Uy(Tf[1]-rt)<_0?Rf>0?1:0:Rf>0?3:2}function vf(Tf,Rf){return Cf(Tf.x,Rf.x)}function Cf(Tf,Rf){var Of=vo(Tf,1),Bf=vo(Rf,1);return Of!==Bf?Of-Bf:Of===0?Rf[1]-Tf[1]:Of===1?Tf[0]-Rf[0]:Of===2?Tf[1]-Rf[1]:Rf[0]-Tf[0]}return function(Tf){var Rf,Of,Bf,Gf,qf,Kf,Uf,lp,xp,Yf,sp,hp=Tf,vp=aS(),gp={point:hg,lineStart:function(){gp.point=tg,Of&&Of.push(Bf=[]),Yf=!0,xp=!1,Uf=lp=NaN},lineEnd:function(){Rf&&(tg(Gf,qf),Kf&&xp&&vp.rejoin(),Rf.push(vp.result())),gp.point=hg,xp&&hp.lineEnd()},polygonStart:function(){hp=vp,Rf=[],Of=[],sp=!0},polygonEnd:function(){var pg=function(){for(var lg=0,ag=0,ig=Of.length;ag<ig;++ag)for(var yg,cg,xg=Of[ag],Wp=1,om=xg.length,Rg=xg[0],Lm=Rg[0],Qg=Rg[1];Wp<om;++Wp)yg=Lm,cg=Qg,Lm=(Rg=xg[Wp])[0],Qg=Rg[1],cg<=lt?Qg>lt&&(Lm-yg)*(lt-cg)>(Qg-cg)*(K-yg)&&++lg:Qg<=lt&&(Lm-yg)*(lt-cg)<(Qg-cg)*(K-yg)&&--lg;return lg}(),rg=sp&&pg,_g=(Rf=nA(Rf)).length;(rg||_g)&&(Tf.polygonStart(),rg&&(Tf.lineStart(),lo(null,null,1,Tf),Tf.lineEnd()),_g&&b2(Rf,vf,pg,lo,Tf),Tf.polygonEnd()),hp=Tf,Rf=Of=Bf=null}};function hg(pg,rg){pt(pg,rg)&&hp.point(pg,rg)}function tg(pg,rg){var _g=pt(pg,rg);if(Of&&Bf.push([pg,rg]),Yf)Gf=pg,qf=rg,Kf=_g,Yf=!1,_g&&(hp.lineStart(),hp.point(pg,rg));else if(_g&&xp)hp.point(pg,rg);else{var lg=[Uf=Math.max(by,Math.min(dk,Uf)),lp=Math.max(by,Math.min(dk,lp))],ag=[pg=Math.max(by,Math.min(dk,pg)),rg=Math.max(by,Math.min(dk,rg))];(function(ig,yg,cg,xg,Wp,om){var Rg,Lm=ig[0],Qg=ig[1],fm=0,nv=1,Dv=yg[0]-Lm,wy=yg[1]-Qg;if(Rg=cg-Lm,Dv||!(Rg>0)){if(Rg/=Dv,Dv<0){if(Rg<fm)return;Rg<nv&&(nv=Rg)}else if(Dv>0){if(Rg>nv)return;Rg>fm&&(fm=Rg)}if(Rg=Wp-Lm,Dv||!(Rg<0)){if(Rg/=Dv,Dv<0){if(Rg>nv)return;Rg>fm&&(fm=Rg)}else if(Dv>0){if(Rg<fm)return;Rg<nv&&(nv=Rg)}if(Rg=xg-Qg,wy||!(Rg>0)){if(Rg/=wy,wy<0){if(Rg<fm)return;Rg<nv&&(nv=Rg)}else if(wy>0){if(Rg>nv)return;Rg>fm&&(fm=Rg)}if(Rg=om-Qg,wy||!(Rg<0)){if(Rg/=wy,wy<0){if(Rg>nv)return;Rg>fm&&(fm=Rg)}else if(wy>0){if(Rg<fm)return;Rg<nv&&(nv=Rg)}return fm>0&&(ig[0]=Lm+fm*Dv,ig[1]=Qg+fm*wy),nv<1&&(yg[0]=Lm+nv*Dv,yg[1]=Qg+nv*wy),!0}}}}})(lg,ag,K,rt,nt,lt)?(xp||(hp.lineStart(),hp.point(lg[0],lg[1])),hp.point(ag[0],ag[1]),_g||hp.lineEnd(),sp=!1):_g&&(hp.lineStart(),hp.point(pg,rg),sp=!1)}Uf=pg,lp=rg,xp=_g}return gp}}var w2=i_();i_();function oA(K){return K}i_(),i_();var fk=1/0,gE=fk,Ex=-fk,cS=Ex,sA={point:function(K,rt){K<fk&&(fk=K),K>Ex&&(Ex=K),rt<gE&&(gE=rt),rt>cS&&(cS=rt)},lineStart:xx,lineEnd:xx,polygonStart:xx,polygonEnd:xx,result:function(){var K=[[fk,gE],[Ex,cS]];return Ex=cS=-(gE=fk=1/0),K}};i_();function _2(K,rt,nt,lt){return function(pt,lo){var vo,vf,Cf,Tf=rt(lo),Rf=pt.invert(lt[0],lt[1]),Of=aS(),Bf=rt(Of),Gf=!1,qf={point:Kf,lineStart:lp,lineEnd:xp,polygonStart:function(){qf.point=Yf,qf.lineStart=sp,qf.lineEnd=hp,vf=[],vo=[]},polygonEnd:function(){qf.point=Kf,qf.lineStart=lp,qf.lineEnd=xp,vf=nA(vf);var vp=function(gp,hg){var tg=hg[0],pg=hg[1],rg=[W0(tg),-U0(tg),0],_g=0,lg=0;w2.reset();for(var ag=0,ig=gp.length;ag<ig;++ag)if(cg=(yg=gp[ag]).length)for(var yg,cg,xg=yg[cg-1],Wp=xg[0],om=xg[1]/2+rA,Rg=W0(om),Lm=U0(om),Qg=0;Qg<cg;++Qg,Wp=nv,Rg=wy,Lm=hC,xg=fm){var fm=yg[Qg],nv=fm[0],Dv=fm[1]/2+rA,wy=W0(Dv),hC=U0(Dv),kx=nv-Wp,dC=kx>=0?1:-1,fC=dC*kx,pk=fC>Rv,dS=Rg*wy;if(w2.add(uk(dS*dC*W0(fC),Lm*hC+dS*U0(fC))),_g+=pk?kx+dC*o_:kx,pk^Wp>=tg^nv>=tg){var gk=oS(P0(xg),P0(fm));f2(gk);var bA=oS(rg,gk);f2(bA);var wA=(pk^kx>=0?-1:1)*Pw(bA[2]);(pg>wA||pg===wA&&(gk[0]||gk[1]))&&(lg+=pk^kx>=0?1:-1)}}return(_g<-1e-6||_g<_0&&w2<-1e-6)^1&lg}(vo,Rf);vf.length?(Gf||(lo.polygonStart(),Gf=!0),b2(vf,x2,vp,nt,lo)):vp&&(Gf||(lo.polygonStart(),Gf=!0),lo.lineStart(),nt(null,null,1,lo),lo.lineEnd()),Gf&&(lo.polygonEnd(),Gf=!1),vf=vo=null},sphere:function(){lo.polygonStart(),lo.lineStart(),nt(null,null,1,lo),lo.lineEnd(),lo.polygonEnd()}};function Kf(vp,gp){var hg=pt(vp,gp);K(vp=hg[0],gp=hg[1])&&lo.point(vp,gp)}function Uf(vp,gp){var hg=pt(vp,gp);Tf.point(hg[0],hg[1])}function lp(){qf.point=Uf,Tf.lineStart()}function xp(){qf.point=Kf,Tf.lineEnd()}function Yf(vp,gp){Cf.push([vp,gp]);var hg=pt(vp,gp);Bf.point(hg[0],hg[1])}function sp(){Bf.lineStart(),Cf=[]}function hp(){Yf(Cf[0][0],Cf[0][1]),Bf.lineEnd();var vp,gp,hg,tg,pg=Bf.clean(),rg=Of.result(),_g=rg.length;if(Cf.pop(),vo.push(Cf),Cf=null,_g)if(1&pg){if((gp=(hg=rg[0]).length-1)>0){for(Gf||(lo.polygonStart(),Gf=!0),lo.lineStart(),vp=0;vp<gp;++vp)lo.point((tg=hg[vp])[0],tg[1]);lo.lineEnd()}}else _g>1&&2&pg&&rg.push(rg.pop().concat(rg.shift())),vf.push(rg.filter(aA))}return qf}}function aA(K){return K.length>1}function x2(K,rt){return((K=K.x)[0]<0?K[1]-n_-_0:n_-K[1])-((rt=rt.x)[0]<0?rt[1]-n_-_0:n_-rt[1])}var E2=_2(function(){return!0},function(K){var rt,nt=NaN,lt=NaN,pt=NaN;return{lineStart:function(){K.lineStart(),rt=1},point:function(lo,vo){var vf=lo>0?Rv:-Rv,Cf=Uy(lo-nt);Uy(Cf-Rv)<_0?(K.point(nt,lt=(lt+vo)/2>0?n_:-n_),K.point(pt,lt),K.lineEnd(),K.lineStart(),K.point(vf,lt),K.point(lo,lt),rt=0):pt!==vf&&Cf>=Rv&&(Uy(nt-pt)<_0&&(nt-=pt*_0),Uy(lo-vf)<_0&&(lo-=vf*_0),lt=function(Tf,Rf,Of,Bf){var Gf,qf,Kf=W0(Tf-Of);return Uy(Kf)>_0?kO((W0(Rf)*(qf=U0(Bf))*W0(Of)-W0(Bf)*(Gf=U0(Rf))*W0(Tf))/(Gf*qf*Kf)):(Rf+Bf)/2}(nt,lt,lo,vo),K.point(pt,lt),K.lineEnd(),K.lineStart(),K.point(vf,lt),rt=0),K.point(nt=lo,lt=vo),pt=vf},lineEnd:function(){K.lineEnd(),nt=lt=NaN},clean:function(){return 2-rt}}},function(K,rt,nt,lt){var pt;if(K==null)pt=nt*n_,lt.point(-Rv,pt),lt.point(0,pt),lt.point(Rv,pt),lt.point(Rv,0),lt.point(Rv,-pt),lt.point(0,-pt),lt.point(-Rv,-pt),lt.point(-Rv,0),lt.point(-Rv,pt);else if(Uy(K[0]-rt[0])>_0){var lo=K[0]<rt[0]?Rv:-Rv;pt=nt*lo/2,lt.point(-lo,pt),lt.point(0,pt),lt.point(lo,pt)}else lt.point(rt[0],rt[1])},[-Rv,-n_]);function hS(K,rt){var nt=U0(K),lt=nt>0,pt=Uy(nt)>_0;function lo(Cf,Tf){return U0(Cf)*U0(Tf)>nt}function vo(Cf,Tf,Rf){var Of=[1,0,0],Bf=oS(P0(Cf),P0(Tf)),Gf=aC(Bf,Bf),qf=Bf[0],Kf=Gf-qf*qf;if(!Kf)return!Rf&&Cf;var Uf=nt*Gf/Kf,lp=-nt*qf/Kf,xp=oS(Of,Bf),Yf=sS(Of,Uf);d2(Yf,sS(Bf,lp));var sp=xp,hp=aC(Yf,sp),vp=aC(sp,sp),gp=hp*hp-vp*(aC(Yf,Yf)-1);if(!(gp<0)){var hg=oC(gp),tg=sS(sp,(-hp-hg)/vp);if(d2(tg,Yf),tg=h2(tg),!Rf)return tg;var pg,rg=Cf[0],_g=Tf[0],lg=Cf[1],ag=Tf[1];_g<rg&&(pg=rg,rg=_g,_g=pg);var ig=_g-rg,yg=Uy(ig-Rv)<_0;if(!yg&&ag<lg&&(pg=lg,lg=ag,ag=pg),yg||ig<_0?yg?lg+ag>0^tg[1]<(Uy(tg[0]-rg)<_0?lg:ag):lg<=tg[1]&&tg[1]<=ag:ig>Rv^(rg<=tg[0]&&tg[0]<=_g)){var cg=sS(sp,(-hp+hg)/vp);return d2(cg,Yf),[tg,h2(cg)]}}}function vf(Cf,Tf){var Rf=lt?K:Rv-K,Of=0;return Cf<-Rf?Of|=1:Cf>Rf&&(Of|=2),Tf<-Rf?Of|=4:Tf>Rf&&(Of|=8),Of}return _2(lo,function(Cf){var Tf,Rf,Of,Bf,Gf;return{lineStart:function(){Bf=Of=!1,Gf=1},point:function(qf,Kf){var Uf,lp=[qf,Kf],xp=lo(qf,Kf),Yf=lt?xp?0:vf(qf,Kf):xp?vf(qf+(qf<0?Rv:-Rv),Kf):0;if(!Tf&&(Bf=Of=xp)&&Cf.lineStart(),xp!==Of&&(!(Uf=vo(Tf,lp))||lS(Tf,Uf)||lS(lp,Uf))&&(lp[0]+=_0,lp[1]+=_0,xp=lo(lp[0],lp[1])),xp!==Of)Gf=0,xp?(Cf.lineStart(),Uf=vo(lp,Tf),Cf.point(Uf[0],Uf[1])):(Uf=vo(Tf,lp),Cf.point(Uf[0],Uf[1]),Cf.lineEnd()),Tf=Uf;else if(pt&&Tf&&lt^xp){var sp;Yf&Rf||!(sp=vo(lp,Tf,!0))||(Gf=0,lt?(Cf.lineStart(),Cf.point(sp[0][0],sp[0][1]),Cf.point(sp[1][0],sp[1][1]),Cf.lineEnd()):(Cf.point(sp[1][0],sp[1][1]),Cf.lineEnd(),Cf.lineStart(),Cf.point(sp[0][0],sp[0][1])))}!xp||Tf&&lS(Tf,lp)||Cf.point(lp[0],lp[1]),Tf=lp,Of=xp,Rf=Yf},lineEnd:function(){Of&&Cf.lineEnd(),Tf=null},clean:function(){return Gf|(Bf&&Of)<<1}}},function(Cf,Tf,Rf,Of){(function(Bf,Gf,qf,Kf,Uf,lp){if(qf){var xp=U0(Gf),Yf=W0(Gf),sp=Kf*qf;Uf==null?(Uf=Gf+Kf*o_,lp=Gf-sp/2):(Uf=y2(xp,Uf),lp=y2(xp,lp),(Kf>0?Uf<lp:Uf>lp)&&(Uf+=Kf*o_));for(var hp,vp=Uf;Kf>0?vp>lp:vp<lp;vp-=sp)hp=h2([xp,-Yf*U0(vp),-Yf*W0(vp)]),Bf.point(hp[0],hp[1])}})(Of,K,rt,Rf,Cf,Tf)},lt?[0,-K]:[-Rv,K-Rv])}function lA(K){return function(rt){var nt=new k2;for(var lt in K)nt[lt]=K[lt];return nt.stream=rt,nt}}function k2(){}function cC(K,rt,nt){var lt=rt[1][0]-rt[0][0],pt=rt[1][1]-rt[0][1],lo=K.clipExtent&&K.clipExtent();K.scale(150).translate([0,0]),lo!=null&&K.clipExtent(null),function(Rf,Of){Rf&&iS.hasOwnProperty(Rf.type)?iS[Rf.type](Rf,Of):sC(Rf,Of)}(nt,K.stream(sA));var vo=sA.result(),vf=Math.min(lt/(vo[1][0]-vo[0][0]),pt/(vo[1][1]-vo[0][1])),Cf=+rt[0][0]+(lt-vf*(vo[1][0]+vo[0][0]))/2,Tf=+rt[0][1]+(pt-vf*(vo[1][1]+vo[0][1]))/2;return lo!=null&&K.clipExtent(lo),K.scale(150*vf).translate([Cf,Tf])}k2.prototype={constructor:k2,point:function(K,rt){this.stream.point(K,rt)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var CO=U0(30*i1);function uA(K,rt){return+rt?function(nt,lt){function pt(lo,vo,vf,Cf,Tf,Rf,Of,Bf,Gf,qf,Kf,Uf,lp,xp){var Yf=Of-lo,sp=Bf-vo,hp=Yf*Yf+sp*sp;if(hp>4*lt&&lp--){var vp=Cf+qf,gp=Tf+Kf,hg=Rf+Uf,tg=oC(vp*vp+gp*gp+hg*hg),pg=Pw(hg/=tg),rg=Uy(Uy(hg)-1)<_0||Uy(vf-Gf)<_0?(vf+Gf)/2:uk(gp,vp),_g=nt(rg,pg),lg=_g[0],ag=_g[1],ig=lg-lo,yg=ag-vo,cg=sp*ig-Yf*yg;(cg*cg/hp>lt||Uy((Yf*ig+sp*yg)/hp-.5)>.3||Cf*qf+Tf*Kf+Rf*Uf<CO)&&(pt(lo,vo,vf,Cf,Tf,Rf,lg,ag,rg,vp/=tg,gp/=tg,hg,lp,xp),xp.point(lg,ag),pt(lg,ag,rg,vp,gp,hg,Of,Bf,Gf,qf,Kf,Uf,lp,xp))}}return function(lo){var vo,vf,Cf,Tf,Rf,Of,Bf,Gf,qf,Kf,Uf,lp,xp={point:Yf,lineStart:sp,lineEnd:vp,polygonStart:function(){lo.polygonStart(),xp.lineStart=gp},polygonEnd:function(){lo.polygonEnd(),xp.lineStart=sp}};function Yf(pg,rg){pg=nt(pg,rg),lo.point(pg[0],pg[1])}function sp(){Gf=NaN,xp.point=hp,lo.lineStart()}function hp(pg,rg){var _g=P0([pg,rg]),lg=nt(pg,rg);pt(Gf,qf,Bf,Kf,Uf,lp,Gf=lg[0],qf=lg[1],Bf=pg,Kf=_g[0],Uf=_g[1],lp=_g[2],16,lo),lo.point(Gf,qf)}function vp(){xp.point=Yf,lo.lineEnd()}function gp(){sp(),xp.point=hg,xp.lineEnd=tg}function hg(pg,rg){hp(vo=pg,rg),vf=Gf,Cf=qf,Tf=Kf,Rf=Uf,Of=lp,xp.point=hp}function tg(){pt(Gf,qf,Bf,Kf,Uf,lp,vf,Cf,vo,Tf,Rf,Of,16,lo),xp.lineEnd=vp,vp()}return xp}}(K,rt):function(nt){return lA({point:function(lt,pt){lt=nt(lt,pt),this.stream.point(lt[0],lt[1])}})}(K)}var cA=lA({point:function(K,rt){this.stream.point(K*i1,rt*i1)}});function SO(K){return function(rt){var nt,lt,pt,lo,vo,vf,Cf,Tf,Rf,Of,Bf=150,Gf=480,qf=250,Kf=0,Uf=0,lp=0,xp=0,Yf=0,sp=null,hp=E2,vp=null,gp=oA,hg=.5,tg=uA(_g,hg);function pg(ig){return[(ig=vo(ig[0]*i1,ig[1]*i1))[0]*Bf+lt,pt-ig[1]*Bf]}function rg(ig){return(ig=vo.invert((ig[0]-lt)/Bf,(pt-ig[1])/Bf))&&[ig[0]*ym,ig[1]*ym]}function _g(ig,yg){return[(ig=nt(ig,yg))[0]*Bf+lt,pt-ig[1]*Bf]}function lg(){vo=p2(lo=function(yg,cg,xg){return(yg%=o_)?cg||xg?p2(m2(yg),v2(cg,xg)):m2(yg):cg||xg?v2(cg,xg):g2}(lp,xp,Yf),nt);var ig=nt(Kf,Uf);return lt=Gf-ig[0]*Bf,pt=qf+ig[1]*Bf,ag()}function ag(){return Rf=Of=null,pg}return pg.stream=function(ig){return Rf&&Of===ig?Rf:Rf=cA(hp(lo,tg(gp(Of=ig))))},pg.clipAngle=function(ig){return arguments.length?(hp=+ig?hS(sp=ig*i1,6*i1):(sp=null,E2),ag()):sp*ym},pg.clipExtent=function(ig){return arguments.length?(gp=ig==null?(vp=vf=Cf=Tf=null,oA):uS(vp=+ig[0][0],vf=+ig[0][1],Cf=+ig[1][0],Tf=+ig[1][1]),ag()):vp==null?null:[[vp,vf],[Cf,Tf]]},pg.scale=function(ig){return arguments.length?(Bf=+ig,lg()):Bf},pg.translate=function(ig){return arguments.length?(Gf=+ig[0],qf=+ig[1],lg()):[Gf,qf]},pg.center=function(ig){return arguments.length?(Kf=ig[0]%360*i1,Uf=ig[1]%360*i1,lg()):[Kf*ym,Uf*ym]},pg.rotate=function(ig){return arguments.length?(lp=ig[0]%360*i1,xp=ig[1]%360*i1,Yf=ig.length>2?ig[2]%360*i1:0,lg()):[lp*ym,xp*ym,Yf*ym]},pg.precision=function(ig){return arguments.length?(tg=uA(_g,hg=ig*ig),ag()):oC(hg)},pg.fitExtent=function(ig,yg){return cC(pg,ig,yg)},pg.fitSize=function(ig,yg){return function(cg,xg,Wp){return cC(cg,[[0,0],xg],Wp)}(pg,ig,yg)},function(){return nt=rt.apply(this,arguments),pg.invert=nt.invert&&rg,lg()}}(function(){return K})()}var C2=function(K){return function(rt,nt){var lt=U0(rt),pt=U0(nt),lo=K(lt*pt);return[lo*pt*W0(rt),lo*W0(nt)]}}(function(K){return(K=rS(K))&&K/W0(K)});function TO(){return SO(C2).scale(79.4188).clipAngle(179.999)}function mE(K,rt,nt,lt){var pt=K.properties||{},lo=K.type==="Feature"?K.geometry:K;if(lo.type==="GeometryCollection"){var vo=[];return Pp(K,function(Bf){var Gf=mE(Bf,rt,nt,lt);Gf&&vo.push(Gf)}),uf(vo)}var vf=function(Bf){var Gf=Yy(Bf).geometry.coordinates,qf=[-Gf[0],-Gf[1]];return TO().rotate(qf).scale(W)}(lo),Cf={type:lo.type,coordinates:dA(lo.coordinates,vf)},Tf=new UC().read(Cf),Rf=po(xo(rt,nt),"meters"),Of=Bv.bufferOp(Tf,Rf,lt);if(!hA((Of=new GT().write(Of)).coordinates))return ot({type:Of.type,coordinates:fA(Of.coordinates,vf)},pt)}function hA(K){return Array.isArray(K[0])?hA(K[0]):isNaN(K[0])}function dA(K,rt){return typeof K[0]!="object"?rt(K):K.map(function(nt){return dA(nt,rt)})}function fA(K,rt){return typeof K[0]!="object"?rt.invert(K):K.map(function(nt){return fA(nt,rt)})}function vE(K,rt,nt){nt===void 0&&(nt={});var lt=Rp(K),pt=Rp(rt),lo=M_.intersection(lt.coordinates,pt.coordinates);return lo.length===0?null:lo.length===1?uo(lo[0],nt.properties):wo(lo,nt.properties)}function pA(K,rt,nt){nt===void 0&&(nt={});var lt=JSON.stringify(nt.properties||{}),pt=K[0],lo=K[1],vo=K[2],vf=K[3],Cf=(lo+vf)/2,Tf=(pt+vo)/2,Rf=2*rt/Cm([pt,Cf],[vo,Cf],nt)*(vo-pt),Of=2*rt/Cm([Tf,lo],[Tf,vf],nt)*(vf-lo),Bf=Rf/2,Gf=2*Bf,qf=Math.sqrt(3)/2*Of,Kf=vo-pt,Uf=vf-lo,lp=3/4*Gf,xp=qf,Yf=(Kf-Gf)/(Gf-Bf/2),sp=Math.floor(Yf),hp=(sp*lp-Bf/2-Kf)/2-Bf/2+lp/2,vp=Math.floor((Uf-qf)/qf),gp=(Uf-vp*qf)/2,hg=vp*qf-Uf>qf/2;hg&&(gp-=qf/4);for(var tg=[],pg=[],rg=0;rg<6;rg++){var _g=2*Math.PI/6*rg;tg.push(Math.cos(_g)),pg.push(Math.sin(_g))}for(var lg=[],ag=0;ag<=sp;ag++)for(var ig=0;ig<=vp;ig++){var yg=ag%2==1;if((ig!==0||!yg)&&(ig!==0||!hg)){var cg=ag*lp+pt-hp,xg=ig*xp+lo+gp;if(yg&&(xg-=qf/2),nt.triangles===!0)mA([cg,xg],Rf/2,Of/2,JSON.parse(lt),tg,pg).forEach(function(om){nt.mask?vE(nt.mask,om)&&lg.push(om):lg.push(om)});else{var Wp=gA([cg,xg],Rf/2,Of/2,JSON.parse(lt),tg,pg);nt.mask?vE(nt.mask,Wp)&&lg.push(Wp):lg.push(Wp)}}}return uf(lg)}function gA(K,rt,nt,lt,pt,lo){for(var vo=[],vf=0;vf<6;vf++){var Cf=K[0]+rt*pt[vf],Tf=K[1]+nt*lo[vf];vo.push([Cf,Tf])}return vo.push(vo[0].slice()),uo([vo],lt)}function mA(K,rt,nt,lt,pt,lo){for(var vo=[],vf=0;vf<6;vf++){var Cf=[];Cf.push(K),Cf.push([K[0]+rt*pt[vf],K[1]+nt*lo[vf]]),Cf.push([K[0]+rt*pt[(vf+1)%6],K[1]+nt*lo[(vf+1)%6]]),Cf.push(K),vo.push(uo([Cf],lt))}return vo}function vA(K){return wo(K)}function AO(K){return uo(K&&K.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]])}function yA(K,rt,nt){return nt===void 0&&(nt={}),function(lt,pt,lo,vo){vo===void 0&&(vo={});for(var vf=[],Cf=lt[0],Tf=lt[1],Rf=lt[2],Of=lt[3],Bf=pt/Cm([Cf,Tf],[Rf,Tf],vo)*(Rf-Cf),Gf=lo/Cm([Cf,Tf],[Cf,Of],vo)*(Of-Tf),qf=Rf-Cf,Kf=Of-Tf,Uf=Math.floor(qf/Bf),lp=Math.floor(Kf/Gf),xp=(Kf-lp*Gf)/2,Yf=Cf+(qf-Uf*Bf)/2,sp=0;sp<Uf;sp++){for(var hp=Tf+xp,vp=0;vp<lp;vp++){var gp=uo([[[Yf,hp],[Yf,hp+Gf],[Yf+Bf,hp+Gf],[Yf+Bf,hp],[Yf,hp]]],vo.properties);vo.mask?j2(vo.mask,gp)&&vf.push(gp):vf.push(gp),hp+=Gf}Yf+=Bf}return uf(vf)}(K,rt,rt,nt)}function S2(K,rt,nt){nt===void 0&&(nt={});for(var lt=[],pt=rt/Cm([K[0],K[1]],[K[2],K[1]],nt)*(K[2]-K[0]),lo=rt/Cm([K[0],K[1]],[K[0],K[3]],nt)*(K[3]-K[1]),vo=0,vf=K[0];vf<=K[2];){for(var Cf=0,Tf=K[1];Tf<=K[3];){var Rf=null,Of=null;vo%2==0&&Cf%2==0?(Rf=uo([[[vf,Tf],[vf,Tf+lo],[vf+pt,Tf],[vf,Tf]]],nt.properties),Of=uo([[[vf,Tf+lo],[vf+pt,Tf+lo],[vf+pt,Tf],[vf,Tf+lo]]],nt.properties)):vo%2==0&&Cf%2==1?(Rf=uo([[[vf,Tf],[vf+pt,Tf+lo],[vf+pt,Tf],[vf,Tf]]],nt.properties),Of=uo([[[vf,Tf],[vf,Tf+lo],[vf+pt,Tf+lo],[vf,Tf]]],nt.properties)):Cf%2==0&&vo%2==1?(Rf=uo([[[vf,Tf],[vf,Tf+lo],[vf+pt,Tf+lo],[vf,Tf]]],nt.properties),Of=uo([[[vf,Tf],[vf+pt,Tf+lo],[vf+pt,Tf],[vf,Tf]]],nt.properties)):Cf%2==1&&vo%2==1&&(Rf=uo([[[vf,Tf],[vf,Tf+lo],[vf+pt,Tf],[vf,Tf]]],nt.properties),Of=uo([[[vf,Tf+lo],[vf+pt,Tf+lo],[vf+pt,Tf],[vf,Tf+lo]]],nt.properties)),nt.mask?(vE(nt.mask,Rf)&&lt.push(Rf),vE(nt.mask,Of)&&lt.push(Of)):(lt.push(Rf),lt.push(Of)),Tf+=lo,Cf++}vo++,vf+=pt}return uf(lt)}C2.invert=function(K){return function(rt,nt){var lt=oC(rt*rt+nt*nt),pt=K(lt),lo=W0(pt),vo=U0(pt);return[uk(rt*lo,lt*vo),Pw(lt&&nt*lo/lt)]}}(function(K){return K}),F.along=function(K,rt,nt){nt===void 0&&(nt={});for(var lt=Rp(K).coordinates,pt=0,lo=0;lo<lt.length&&!(rt>=pt&&lo===lt.length-1);lo++){if(pt>=rt){var vo=rt-pt;if(vo){var vf=ky(lt[lo],lt[lo-1])-180;return B0(lt[lo],vo,vf,nt)}return ut(lt[lo])}pt+=Cm(lt[lo],lt[lo+1],nt)}return ut(lt[lt.length-1])},F.angle=function(K,rt,nt,lt){if(lt===void 0&&(lt={}),!Pf(lt))throw new Error("options is invalid");if(!K)throw new Error("startPoint is required");if(!rt)throw new Error("midPoint is required");if(!nt)throw new Error("endPoint is required");var pt=K,lo=rt,vo=nt,vf=cf(lt.mercator!==!0?ky(pt,lo):Tv(pt,lo)),Cf=cf(lt.mercator!==!0?ky(vo,lo):Tv(vo,lo)),Tf=Math.abs(vf-Cf);return lt.explementary===!0?360-Tf:Tf},F.applyFilter=PC,F.area=Fw,F.areaFactors=tt,F.bbox=Jf,F.bboxClip=function(K,rt){var nt=Rp(K),lt=nt.type,pt=K.type==="Feature"?K.properties:{},lo=nt.coordinates;switch(lt){case"LineString":case"MultiLineString":var vo=[];return lt==="LineString"&&(lo=[lo]),lo.forEach(function(vf){(function(Cf,Tf,Rf){var Of,Bf,Gf,qf,Kf,Uf=Cf.length,lp=u1(Cf[0],Tf),xp=[];for(Rf||(Rf=[]),Of=1;Of<Uf;Of++){for(qf=Cf[Of-1],Bf=Gf=u1(Kf=Cf[Of],Tf);;){if(!(lp|Bf)){xp.push(qf),Bf!==Gf?(xp.push(Kf),Of<Uf-1&&(Rf.push(xp),xp=[])):Of===Uf-1&&xp.push(Kf);break}if(lp&Bf)break;lp?lp=u1(qf=Ub(qf,Kf,lp,Tf),Tf):Bf=u1(Kf=Ub(qf,Kf,Bf,Tf),Tf)}lp=Gf}xp.length&&Rf.push(xp)})(vf,rt,vo)}),vo.length===1?yo(vo[0],pt):df(vo,pt);case"Polygon":return uo(g0(lo,rt),pt);case"MultiPolygon":return wo(lo.map(function(vf){return g0(vf,rt)}),pt);default:throw new Error("geometry "+lt+" not supported")}},F.bboxPolygon=iw,F.bearing=ky,F.bearingToAngle=cf,F.bearingToAzimuth=cf,F.bezier=x0,F.bezierSpline=x0,F.booleanClockwise=Vx,F.booleanContains=function(K,rt){var nt=Rp(K),lt=Rp(rt),pt=nt.type,lo=lt.type,vo=nt.coordinates,vf=lt.coordinates;switch(pt){case"Point":switch(lo){case"Point":return CS(vo,vf);default:throw new Error("feature2 "+lo+" geometry not supported")}case"MultiPoint":switch(lo){case"Point":return function(Cf,Tf){var Rf,Of=!1;for(Rf=0;Rf<Cf.coordinates.length;Rf++)if(CS(Cf.coordinates[Rf],Tf.coordinates)){Of=!0;break}return Of}(nt,lt);case"MultiPoint":return function(Cf,Tf){for(var Rf=0,Of=Tf.coordinates;Rf<Of.length;Rf++){for(var Bf=Of[Rf],Gf=!1,qf=0,Kf=Cf.coordinates;qf<Kf.length;qf++)if(CS(Bf,Kf[qf])){Gf=!0;break}if(!Gf)return!1}return!0}(nt,lt);default:throw new Error("feature2 "+lo+" geometry not supported")}case"LineString":switch(lo){case"Point":return $y(lt,nt,{ignoreEndVertices:!0});case"LineString":return function(Cf,Tf){for(var Rf=!1,Of=0,Bf=Tf.coordinates;Of<Bf.length;Of++){var Gf=Bf[Of];if($y({type:"Point",coordinates:Gf},Cf,{ignoreEndVertices:!0})&&(Rf=!0),!$y({type:"Point",coordinates:Gf},Cf,{ignoreEndVertices:!1}))return!1}return Rf}(nt,lt);case"MultiPoint":return function(Cf,Tf){for(var Rf=!1,Of=0,Bf=Tf.coordinates;Of<Bf.length;Of++){var Gf=Bf[Of];if($y(Gf,Cf,{ignoreEndVertices:!0})&&(Rf=!0),!$y(Gf,Cf))return!1}return!!Rf}(nt,lt);default:throw new Error("feature2 "+lo+" geometry not supported")}case"Polygon":switch(lo){case"Point":return dm(lt,nt,{ignoreBoundary:!0});case"LineString":return function(Cf,Tf){var Rf=!1,Of=0,Bf=Jf(Cf),Gf=Jf(Tf);if(!B2(Bf,Gf))return!1;for(;Of<Tf.coordinates.length-1;Of++)if(dm({type:"Point",coordinates:$A(Tf.coordinates[Of],Tf.coordinates[Of+1])},Cf,{ignoreBoundary:!0})){Rf=!0;break}return Rf}(nt,lt);case"Polygon":return function(Cf,Tf){if(Cf.type==="Feature"&&Cf.geometry===null||Tf.type==="Feature"&&Tf.geometry===null)return!1;var Rf=Jf(Cf),Of=Jf(Tf);if(!B2(Rf,Of))return!1;for(var Bf=Rp(Tf).coordinates,Gf=0,qf=Bf;Gf<qf.length;Gf++)for(var Kf=0,Uf=qf[Gf];Kf<Uf.length;Kf++)if(!dm(Uf[Kf],Cf))return!1;return!0}(nt,lt);case"MultiPoint":return function(Cf,Tf){for(var Rf=0,Of=Tf.coordinates;Rf<Of.length;Rf++)if(!dm(Of[Rf],Cf,{ignoreBoundary:!0}))return!1;return!0}(nt,lt);default:throw new Error("feature2 "+lo+" geometry not supported")}default:throw new Error("feature1 "+pt+" geometry not supported")}},F.booleanCrosses=function(K,rt){var nt=Rp(K),lt=Rp(rt),pt=nt.type,lo=lt.type;switch(pt){case"MultiPoint":switch(lo){case"LineString":return $2(nt,lt);case"Polygon":return SS(nt,lt);default:throw new Error("feature2 "+lo+" geometry not supported")}case"LineString":switch(lo){case"MultiPoint":return $2(lt,nt);case"LineString":return function(vo,vf){if(kv(vo,vf).features.length>0)for(var Cf=0;Cf<vo.coordinates.length-1;Cf++)for(var Tf=0;Tf<vf.coordinates.length-1;Tf++){var Rf=!0;if(Tf!==0&&Tf!==vf.coordinates.length-2||(Rf=!1),z2(vo.coordinates[Cf],vo.coordinates[Cf+1],vf.coordinates[Tf],Rf))return!0}return!1}(nt,lt);case"Polygon":return F2(nt,lt);default:throw new Error("feature2 "+lo+" geometry not supported")}case"Polygon":switch(lo){case"MultiPoint":return SS(lt,nt);case"LineString":return F2(lt,nt);default:throw new Error("feature2 "+lo+" geometry not supported")}default:throw new Error("feature1 "+pt+" geometry not supported")}},F.booleanDisjoint=kS,F.booleanEqual=function(K,rt){return Rp(K).type===Rp(rt).type&&new TS({precision:6}).compare(hb(K),hb(rt))},F.booleanIntersects=j2,F.booleanOverlap=function(K,rt){var nt=Rp(K),lt=Rp(rt),pt=nt.type,lo=lt.type;if(pt==="MultiPoint"&&lo!=="MultiPoint"||(pt==="LineString"||pt==="MultiLineString")&&lo!=="LineString"&&lo!=="MultiLineString"||(pt==="Polygon"||pt==="MultiPolygon")&&lo!=="Polygon"&&lo!=="MultiPolygon")throw new Error("features must be of the same type");if(pt==="Point")throw new Error("Point geometry not supported");if(new TS({precision:6}).compare(K,rt))return!1;var vo=0;switch(pt){case"MultiPoint":for(var vf=0;vf<nt.coordinates.length;vf++)for(var Cf=0;Cf<lt.coordinates.length;Cf++){var Tf=nt.coordinates[vf],Rf=lt.coordinates[Cf];if(Tf[0]===Rf[0]&&Tf[1]===Rf[1])return!0}return!1;case"LineString":case"MultiLineString":$p(K,function(Of){$p(rt,function(Bf){lx(Of,Bf).features.length&&vo++})});break;case"Polygon":case"MultiPolygon":$p(K,function(Of){$p(rt,function(Bf){kv(Of,Bf).features.length&&vo++})})}return vo>0},F.booleanParallel=function(K,rt){if(!K)throw new Error("line1 is required");if(!rt)throw new Error("line2 is required");if(PS(K,"line1")!=="LineString")throw new Error("line1 must be a LineString");if(PS(rt,"line2")!=="LineString")throw new Error("line2 must be a LineString");for(var nt=C0(hb(K)).features,lt=C0(hb(rt)).features,pt=0;pt<nt.length;pt++){var lo=nt[pt].geometry.coordinates;if(!lt[pt])break;if(!CC(lo,lt[pt].geometry.coordinates))return!1}return!0},F.booleanPointInPolygon=dm,F.booleanPointOnLine=$y,F.booleanWithin=jw,F.buffer=function(K,rt,nt){var lt=(nt=nt||{}).units||"kilometers",pt=nt.steps||8;if(!K)throw new Error("geojson is required");if(typeof nt!="object")throw new Error("options must be an object");if(typeof pt!="number")throw new Error("steps must be an number");if(rt===void 0)throw new Error("radius is required");if(pt<=0)throw new Error("steps must be greater than 0");var lo=[];switch(K.type){case"GeometryCollection":return Pp(K,function(vo){var vf=mE(vo,rt,lt,pt);vf&&lo.push(vf)}),uf(lo);case"FeatureCollection":return fp(K,function(vo){var vf=mE(vo,rt,lt,pt);vf&&fp(vf,function(Cf){Cf&&lo.push(Cf)})}),uf(lo)}return mE(K,rt,lt,pt)},F.center=Yy,F.centerMean=BS,F.centerMedian=function(K,rt){if(rt===void 0&&(rt={}),!Pf(rt=rt||{}))throw new Error("options is invalid");var nt=rt.counter||10;if(!Af(nt))throw new Error("counter must be a number");var lt=rt.weight,pt=BS(K,{weight:rt.weight}),lo=uf([]);fp(K,function(vf){var Cf;lo.features.push(kb(vf,{properties:{weight:(Cf=vf.properties)===null||Cf===void 0?void 0:Cf[lt]}}))});var vo={tolerance:rt.tolerance,medianCandidates:[]};return nT(pt.geometry.coordinates,[0,0],lo,vo,nt)},F.centerOfMass=function K(rt,nt){switch(nt===void 0&&(nt={}),Up(rt)){case"Point":return ut(ip(rt),nt.properties);case"Polygon":var lt=[];$f(rt,function(sp){lt.push(sp)});var pt,lo,vo,vf,Cf,Tf,Rf,Of,Bf=kb(rt,{properties:nt.properties}),Gf=Bf.geometry.coordinates,qf=0,Kf=0,Uf=0,lp=lt.map(function(sp){return[sp[0]-Gf[0],sp[1]-Gf[1]]});for(pt=0;pt<lt.length-1;pt++)vf=(lo=lp[pt])[0],Tf=lo[1],Cf=(vo=lp[pt+1])[0],Uf+=Of=vf*(Rf=vo[1])-Cf*Tf,qf+=(vf+Cf)*Of,Kf+=(Tf+Rf)*Of;if(Uf===0)return Bf;var xp=1/(6*(.5*Uf));return ut([Gf[0]+xp*qf,Gf[1]+xp*Kf],nt.properties);default:var Yf=gm(rt);return Yf?K(Yf,{properties:nt.properties}):kb(rt,{properties:nt.properties})}},F.centroid=kb,F.circle=Lw,F.cleanCoords=hb,F.clone=Iv,F.clusterEach=FS,F.clusterReduce=MC,F.clusters=lO,F.clustersDbscan=function(K,rt,nt){nt===void 0&&(nt={}),nt.mutate!==!0&&(K=Iv(K)),nt.minPoints=nt.minPoints||3;var lt=new VA.DBSCAN,pt=lt.run(Np(K),xf(rt,nt.units),nt.minPoints,Cm),lo=-1;return pt.forEach(function(vo){lo++,vo.forEach(function(vf){var Cf=K.features[vf];Cf.properties||(Cf.properties={}),Cf.properties.cluster=lo,Cf.properties.dbscan="core"})}),lt.noise.forEach(function(vo){var vf=K.features[vo];vf.properties||(vf.properties={}),vf.properties.cluster?vf.properties.dbscan="edge":vf.properties.dbscan="noise"}),K},F.clustersKmeans=function(K,rt){rt===void 0&&(rt={});var nt=K.features.length;rt.numberOfClusters=rt.numberOfClusters||Math.round(Math.sqrt(nt/2)),rt.numberOfClusters>nt&&(rt.numberOfClusters=nt),rt.mutate!==!0&&(K=Iv(K));var lt=Np(K),pt=lt.slice(0,rt.numberOfClusters),lo=MS(lt,rt.numberOfClusters,pt),vo={};return lo.centroids.forEach(function(vf,Cf){vo[Cf]=vf}),fp(K,function(vf,Cf){var Tf=lo.idxs[Cf];vf.properties.cluster=Tf,vf.properties.centroid=vo[Tf]}),K},F.collect=function(K,rt,nt,lt){var pt=Zg(6),lo=rt.features.map(function(vo){var vf;return{minX:vo.geometry.coordinates[0],minY:vo.geometry.coordinates[1],maxX:vo.geometry.coordinates[0],maxY:vo.geometry.coordinates[1],property:(vf=vo.properties)===null||vf===void 0?void 0:vf[nt]}});return pt.load(lo),K.features.forEach(function(vo){vo.properties||(vo.properties={});var vf=Jf(vo),Cf=pt.search({minX:vf[0],minY:vf[1],maxX:vf[2],maxY:vf[3]}),Tf=[];Cf.forEach(function(Rf){dm([Rf.minX,Rf.minY],vo)&&Tf.push(Rf.property)}),vo.properties[lt]=Tf}),K},F.collectionOf=zp,F.combine=function(K){var rt={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}};return fp(K,function(nt){var lt,pt,lo,vo;switch((vo=nt.geometry)===null||vo===void 0?void 0:vo.type){case"Point":rt.MultiPoint.coordinates.push(nt.geometry.coordinates),rt.MultiPoint.properties.push(nt.properties);break;case"MultiPoint":(lt=rt.MultiPoint.coordinates).push.apply(lt,nt.geometry.coordinates),rt.MultiPoint.properties.push(nt.properties);break;case"LineString":rt.MultiLineString.coordinates.push(nt.geometry.coordinates),rt.MultiLineString.properties.push(nt.properties);break;case"MultiLineString":(pt=rt.MultiLineString.coordinates).push.apply(pt,nt.geometry.coordinates),rt.MultiLineString.properties.push(nt.properties);break;case"Polygon":rt.MultiPolygon.coordinates.push(nt.geometry.coordinates),rt.MultiPolygon.properties.push(nt.properties);break;case"MultiPolygon":(lo=rt.MultiPolygon.coordinates).push.apply(lo,nt.geometry.coordinates),rt.MultiPolygon.properties.push(nt.properties)}}),uf(Object.keys(rt).filter(function(nt){return rt[nt].coordinates.length}).sort().map(function(nt){return ot({type:nt,coordinates:rt[nt].coordinates},{collectedProperties:rt[nt].properties})}))},F.concave=function(K,rt){rt===void 0&&(rt={});var nt=rt.maxEdge||1/0,lt=ub(function(lo){var vo=[],vf={};return fp(lo,function(Cf){if(Cf.geometry){var Tf=Cf.geometry.coordinates.join("-");Object.prototype.hasOwnProperty.call(vf,Tf)||(vo.push(Cf),vf[Tf]=!0)}}),uf(vo)}(K));if(lt.features=lt.features.filter(function(lo){var vo=lo.geometry.coordinates[0][0],vf=lo.geometry.coordinates[0][1],Cf=lo.geometry.coordinates[0][2],Tf=Cm(vo,vf,rt),Rf=Cm(vf,Cf,rt),Of=Cm(vo,Cf,rt);return Tf<=nt&&Rf<=nt&&Of<=nt}),lt.features.length<1)return null;var pt=_E(lt);return pt.coordinates.length===1&&(pt.coordinates=pt.coordinates[0],pt.type="Polygon"),ot(pt)},F.containsNumber=Op,F.convertArea=bf,F.convertDistance=xf,F.convertLength=xf,F.convex=gm,F.coordAll=Np,F.coordEach=$f,F.coordReduce=Ff,F.createBins=zS,F.degrees2radians=Sf,F.degreesToRadians=Sf,F.destination=B0,F.difference=function(K,rt){var nt=Rp(K),lt=Rp(rt),pt=K.properties||{},lo=M_.difference(nt.coordinates,lt.coordinates);return lo.length===0?null:lo.length===1?uo(lo[0],pt):wo(lo,pt)},F.dissolve=function(K,rt){if(!Pf(rt=rt||{}))throw new Error("options is invalid");var nt=rt.propertyName;zp(K,"Polygon","dissolve");var lt=[];if(!rt.propertyName)return x_(wo(M_.union.apply(null,K.features.map(function(Cf){return Cf.geometry.coordinates}))));var pt={};fp(K,function(Cf){Object.prototype.hasOwnProperty.call(pt,Cf.properties[nt])||(pt[Cf.properties[nt]]=[]),pt[Cf.properties[nt]].push(Cf)});for(var lo=Object.keys(pt),vo=0;vo<lo.length;vo++){var vf=wo(M_.union.apply(null,pt[lo[vo]].map(function(Cf){return Cf.geometry.coordinates})));vf.properties[nt]=lo[vo],lt.push(vf)}return x_(uf(lt))},F.distance=Cm,F.distanceToDegrees=gf,F.distanceToRadians=xo,F.distanceWeight=sT,F.earthRadius=W,F.ellipse=rT,F.envelope=O1,F.explode=db,F.factors=q,F.feature=ot,F.featureCollection=uf,F.featureEach=fp,F.featureOf=bp,F.featureReduce=Mp,F.filterProperties=yT,F.findPoint=up,F.findSegment=Sp,F.flatten=x_,F.flattenEach=Ep,F.flattenReduce=Cp,F.flip=function(K,rt){if(!Pf(rt=rt||{}))throw new Error("options is invalid");var nt=rt.mutate;if(!K)throw new Error("geojson is required");return nt!==!1&&nt!==void 0||(K=Iv(K)),$f(K,function(lt){var pt=lt[0],lo=lt[1];lt[0]=lo,lt[1]=pt}),K},F.geojsonType=Gp,F.geomEach=Pp,F.geomReduce=yp,F.geometry=at,F.geometryCollection=ls,F.getCluster=vT,F.getCoord=ip,F.getCoords=ap,F.getGeom=Rp,F.getType=Up,F.greatCircle=function(K,rt,nt){if(typeof(nt=nt||{})!="object")throw new Error("options is invalid");var lt=nt.properties,pt=nt.npoints,lo=nt.offset;return K=ip(K),rt=ip(rt),lt=lt||{},pt=pt||100,lo=lo||10,new bg({x:K[0],y:K[1]},{x:rt[0],y:rt[1]},lt).Arc(pt,{offset:lo}).json()},F.helpers=jf,F.hexGrid=pA,F.inside=dm,F.interpolate=function(K,rt,nt){if(typeof(nt=nt||{})!="object")throw new Error("options is invalid");var lt=nt.gridType,pt=nt.property,lo=nt.weight;if(!K)throw new Error("points is required");if(zp(K,"Point","input must contain Points"),!rt)throw new Error("cellSize is required");if(lo!==void 0&&typeof lo!="number")throw new Error("weight must be a number");pt=pt||"elevation",lt=lt||"square",lo=lo||1;var vo,vf=Jf(K);switch(lt){case"point":case"points":vo=sx(vf,rt,nt);break;case"square":case"squares":vo=yA(vf,rt,nt);break;case"hex":case"hexes":vo=pA(vf,rt,nt);break;case"triangle":case"triangles":vo=S2(vf,rt,nt);break;default:throw new Error("invalid gridType")}var Cf=[];return fp(vo,function(Tf){var Rf=0,Of=0;fp(K,function(Gf){var qf,Kf=Cm(lt==="point"?Tf:kb(Tf),Gf,nt);if(pt!==void 0&&(qf=Gf.properties[pt]),qf===void 0&&(qf=Gf.geometry.coordinates[2]),qf===void 0)throw new Error("zValue is missing");Kf===0&&(Rf=qf);var Uf=1/Math.pow(Kf,lo);Of+=Uf,Rf+=Uf*qf});var Bf=Iv(Tf);Bf.properties[pt]=Rf/Of,Cf.push(Bf)}),uf(Cf)},F.intersect=vE,F.invariant=Zp,F.isNumber=Af,F.isObject=Pf,F.isobands=function(K,rt,nt){if(!Pf(nt=nt||{}))throw new Error("options is invalid");var lt=nt.zProperty||"elevation",pt=nt.commonProperties||{},lo=nt.breaksProperties||[];if(zp(K,"Point","Input must contain Points"),!rt)throw new Error("breaks is required");if(!Array.isArray(rt))throw new Error("breaks is not an Array");if(!Pf(pt))throw new Error("commonProperties is not an Object");if(!Array.isArray(lo))throw new Error("breaksProperties is not an Array");var vo=kk(K,{zProperty:lt,flip:!0}),vf=function(Cf,Tf,Rf){for(var Of=[],Bf=1;Bf<Tf.length;Bf++){var Gf=+Tf[Bf-1],qf=+Tf[Bf],Kf=Wx(gw(Ww(Cf,Gf,qf-Gf))),Uf={};Uf.groupedRings=Kf,Uf[Rf]=Gf+"-"+qf,Of.push(Uf)}return Of}(vo,rt,lt);return uf((vf=function(Cf,Tf,Rf){var Of=Jf(Rf),Bf=Of[2]-Of[0],Gf=Of[3]-Of[1],qf=Of[0],Kf=Of[1],Uf=Tf[0].length-1,lp=Tf.length-1,xp=Bf/Uf,Yf=Gf/lp,sp=function(hp){hp[0]=hp[0]*xp+qf,hp[1]=hp[1]*Yf+Kf};return Cf.forEach(function(hp){hp.groupedRings.forEach(function(vp){vp.forEach(function(gp){gp.forEach(sp)})})}),Cf}(vf,vo,K)).map(function(Cf,Tf){if(lo[Tf]&&!Pf(lo[Tf]))throw new Error("Each mappedProperty is required to be an Object");var Rf=Jp({},pt,lo[Tf]);return Rf[lt]=Cf[lt],wo(Cf.groupedRings,Rf)}))},F.isolines=function(K,rt,nt){if(!Pf(nt=nt||{}))throw new Error("options is invalid");var lt=nt.zProperty||"elevation",pt=nt.commonProperties||{},lo=nt.breaksProperties||[];if(zp(K,"Point","Input must contain Points"),!rt)throw new Error("breaks is required");if(!Array.isArray(rt))throw new Error("breaks must be an Array");if(!Pf(pt))throw new Error("commonProperties must be an Object");if(!Array.isArray(lo))throw new Error("breaksProperties must be an Array");var vo=cp(K,{zProperty:lt,flip:!0});return uf(function(vf,Cf,Tf){var Rf=Jf(Tf),Of=Rf[2]-Rf[0],Bf=Rf[3]-Rf[1],Gf=Rf[0],qf=Rf[1],Kf=Cf[0].length-1,Uf=Cf.length-1,lp=Of/Kf,xp=Bf/Uf,Yf=function(sp){sp[0]=sp[0]*lp+Gf,sp[1]=sp[1]*xp+qf};return vf.forEach(function(sp){$f(sp,Yf)}),vf}(function(vf,Cf,Tf,Rf,Of){for(var Bf=[],Gf=1;Gf<Cf.length;Gf++){var qf=+Cf[Gf],Kf=Jp({},Rf,Of[Gf]);Kf[Tf]=qf;var Uf=df(kg(vf,qf),Kf);Bf.push(Uf)}return Bf}(vo,rt,lt,pt,lo),vo,K))},F.kinks=function(K){var rt,nt,lt={type:"FeatureCollection",features:[]};if((nt=K.type==="Feature"?K.geometry:K).type==="LineString")rt=[nt.coordinates];else if(nt.type==="MultiLineString")rt=nt.coordinates;else if(nt.type==="MultiPolygon")rt=[].concat.apply([],nt.coordinates);else{if(nt.type!=="Polygon")throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");rt=nt.coordinates}return rt.forEach(function(pt){rt.forEach(function(lo){for(var vo=0;vo<pt.length-1;vo++)for(var vf=vo;vf<lo.length-1;vf++)if(!(pt===lo&&(Math.abs(vo-vf)===1||vo===0&&vf===pt.length-2&&pt[vo][0]===pt[pt.length-1][0]&&pt[vo][1]===pt[pt.length-1][1]))){var Cf=w_(pt[vo][0],pt[vo][1],pt[vo+1][0],pt[vo+1][1],lo[vf][0],lo[vf][1],lo[vf+1][0],lo[vf+1][1]);Cf&&lt.features.push(ut([Cf[0],Cf[1]]))}})}),lt},F.length=nx,F.lengthToDegrees=gf,F.lengthToRadians=xo,F.lineArc=gy,F.lineChunk=function(K,rt,nt){if(!Pf(nt=nt||{}))throw new Error("options is invalid");var lt=nt.units,pt=nt.reverse;if(!K)throw new Error("geojson is required");if(rt<=0)throw new Error("segmentLength must be greater than 0");var lo=[];return Ep(K,function(vo){pt&&(vo.geometry.coordinates=vo.geometry.coordinates.reverse()),function(vf,Cf,Tf,Rf){var Of=nx(vf,{units:Tf});if(Of<=Cf)return Rf(vf);var Bf=Of/Cf;Number.isInteger(Bf)||(Bf=Math.floor(Bf)+1);for(var Gf=0;Gf<Bf;Gf++)Rf(D1(vf,Cf*Gf,Cf*(Gf+1),{units:Tf}),Gf)}(vo,rt,lt,function(vf){lo.push(vf)})}),uf(lo)},F.lineDistance=nx,F.lineEach=Dp,F.lineIntersect=kv,F.lineOffset=function(K,rt,nt){if(!Pf(nt=nt||{}))throw new Error("options is invalid");var lt=nt.units;if(!K)throw new Error("geojson is required");if(rt==null||isNaN(rt))throw new Error("distance is required");var pt=Up(K),lo=K.properties;switch(pt){case"LineString":return RE(K,rt,lt);case"MultiLineString":var vo=[];return Ep(K,function(vf){vo.push(RE(vf,rt,lt).geometry.coordinates)}),df(vo,lo);default:throw new Error("geometry "+pt+" is not supported")}},F.lineOverlap=lx,F.lineReduce=Fp,F.lineSegment=C0,F.lineSlice=function(K,rt,nt){var lt=ap(nt);if(Up(nt)!=="LineString")throw new Error("line must be a LineString");for(var pt,lo=Cb(nt,K),vo=Cb(nt,rt),vf=[(pt=lo.properties.index<=vo.properties.index?[lo,vo]:[vo,lo])[0].geometry.coordinates],Cf=pt[0].properties.index+1;Cf<pt[1].properties.index+1;Cf++)vf.push(lt[Cf]);return vf.push(pt[1].geometry.coordinates),yo(vf,nt.properties)},F.lineSliceAlong=D1,F.lineSplit=function(K,rt){if(!K)throw new Error("line is required");if(!rt)throw new Error("splitter is required");var nt=Up(K),lt=Up(rt);if(nt!=="LineString")throw new Error("line must be LineString");if(lt==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(lt==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var pt=Hw(rt,{precision:7});switch(lt){case"Point":return Wg(K,pt);case"MultiPoint":return Tg(K,pt);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return Tg(K,kv(K,pt))}},F.lineString=yo,F.lineStringToPolygon=zx,F.lineStrings=lf,F.lineToPolygon=zx,F.mask=function(K,rt){var nt,lt=AO(rt),pt=null;return K.type==="FeatureCollection"?pt=vA((nt=K).features.length===2?M_.union(nt.features[0].geometry.coordinates,nt.features[1].geometry.coordinates):M_.union.apply(M_,nt.features.map(function(lo){return lo.geometry.coordinates}))):pt=vA(M_.union(K.geometry.coordinates)),pt.geometry.coordinates.forEach(function(lo){lt.geometry.coordinates.push(lo[0])}),lt},F.meta=Nf,F.midpoint=function(K,rt){return B0(K,Cm(K,rt)/2,ky(K,rt))},F.moranIndex=function(K,rt){var nt=rt.inputField,lt=rt.threshold||1e5,pt=rt.p||2,lo=rt.binary||!1,vo=sT(K,{alpha:rt.alpha||-1,binary:lo,p:pt,standardization:rt.standardization||!0,threshold:lt}),vf=[];fp(K,function(vp){var gp=vp.properties||{};vf.push(gp[nt])});for(var Cf=aT(vf),Tf=function(vp){for(var gp=aT(vp),hg=0,tg=0,pg=vp;tg<pg.length;tg++){var rg=pg[tg];hg+=Math.pow(rg-gp,2)}return hg/vp.length}(vf),Rf=0,Of=0,Bf=0,Gf=0,qf=vo.length,Kf=0;Kf<qf;Kf++){for(var Uf=0,lp=0;lp<qf;lp++)Rf+=vo[Kf][lp]*(vf[Kf]-Cf)*(vf[lp]-Cf),Of+=vo[Kf][lp],Bf+=Math.pow(vo[Kf][lp]+vo[lp][Kf],2),Uf+=vo[Kf][lp]+vo[lp][Kf];Gf+=Math.pow(Uf,2)}var xp=Rf/Of/Tf,Yf=-1/(qf-1),sp=(qf*qf*(Bf*=.5)-qf*Gf+Of*Of*3)/((qf-1)*(qf+1)*(Of*Of))-Yf*Yf,hp=Math.sqrt(sp);return{expectedMoranIndex:Yf,moranIndex:xp,stdNorm:hp,zNorm:(xp-Yf)/hp}},F.multiLineString=df,F.multiPoint=wf,F.multiPolygon=wo,F.nearest=Nw,F.nearestPoint=Nw,F.nearestPointOnLine=Cb,F.nearestPointToLine=function(K,rt,nt){nt===void 0&&(nt={});var lt=nt.units,pt=nt.properties||{},lo=function(Cf){var Tf=[];switch(Cf.geometry?Cf.geometry.type:Cf.type){case"GeometryCollection":return Pp(Cf,function(Rf){Rf.type==="Point"&&Tf.push({type:"Feature",properties:{},geometry:Rf})}),{type:"FeatureCollection",features:Tf};case"FeatureCollection":return Cf.features=Cf.features.filter(function(Rf){return Rf.geometry.type==="Point"}),Cf;default:throw new Error("points must be a Point Collection")}}(K);if(!lo.features.length)throw new Error("points must contain features");if(!rt)throw new Error("line is required");if(Up(rt)!=="LineString")throw new Error("line must be a LineString");var vo=1/0,vf=null;return fp(lo,function(Cf){var Tf=Bx(Cf,rt,{units:lt});Tf<vo&&(vo=Tf,vf=Cf)}),vf&&(vf.properties=Jp({dist:vo},vf.properties,pt)),vf},F.planepoint=function(K,rt){var nt=ip(K),lt=Rp(rt).coordinates[0];if(lt.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var pt=rt.properties||{},lo=pt.a,vo=pt.b,vf=pt.c,Cf=nt[0],Tf=nt[1],Rf=lt[0][0],Of=lt[0][1],Bf=lo!==void 0?lo:lt[0][2],Gf=lt[1][0],qf=lt[1][1],Kf=vo!==void 0?vo:lt[1][2],Uf=lt[2][0],lp=lt[2][1],xp=vf!==void 0?vf:lt[2][2];return(xp*(Cf-Rf)*(Tf-qf)+Bf*(Cf-Gf)*(Tf-lp)+Kf*(Cf-Uf)*(Tf-Of)-Kf*(Cf-Rf)*(Tf-lp)-xp*(Cf-Gf)*(Tf-Of)-Bf*(Cf-Uf)*(Tf-qf))/((Cf-Rf)*(Tf-qf)+(Cf-Gf)*(Tf-lp)+(Cf-Uf)*(Tf-Of)-(Cf-Rf)*(Tf-lp)-(Cf-Gf)*(Tf-Of)-(Cf-Uf)*(Tf-qf))},F.point=ut,F.pointGrid=sx,F.pointOnFeature=CE,F.pointOnLine=Cb,F.pointOnSurface=CE,F.pointToLineDistance=Bx,F.points=wt,F.pointsWithinPolygon=nm,F.polygon=uo,F.polygonSmooth=function(K,rt){var nt=[],lt=rt.iterations||1;if(!K)throw new Error("inputPolys is required");return Pp(K,function(pt,lo,vo){var vf,Cf,Tf;switch(pt.type){case"Polygon":vf=[[]];for(var Rf=0;Rf<lt;Rf++)Tf=[[]],Cf=pt,Rf>0&&(Cf=uo(vf).geometry),rO(Cf,Tf),vf=Tf.slice(0);nt.push(uo(vf,vo));break;case"MultiPolygon":vf=[[[]]];for(var Of=0;Of<lt;Of++)Tf=[[[]]],Cf=pt,Of>0&&(Cf=wo(vf).geometry),iO(Cf,Tf),vf=Tf.slice(0);nt.push(wo(vf,vo));break;default:throw new Error("geometry is invalid, must be Polygon or MultiPolygon")}}),uf(nt)},F.polygonTangents=function(K,rt){var nt,lt,pt,lo,vo=ap(K),vf=ap(rt),Cf=Jf(rt),Tf=0,Rf=null;switch(vo[0]>Cf[0]&&vo[0]<Cf[2]&&vo[1]>Cf[1]&&vo[1]<Cf[3]&&(Tf=(Rf=Nw(K,db(rt))).properties.featureIndex),Up(rt)){case"Polygon":nt=vf[0][Tf],lt=vf[0][0],Rf!==null&&Rf.geometry.coordinates[1]<vo[1]&&(lt=vf[0][Tf]),lo=fw(vf[0][0],vf[0][vf[0].length-1],vo);var Of=Hx(vf[0],vo,lo,pt,nt,lt);nt=Of[0],lt=Of[1];break;case"MultiPolygon":for(var Bf=0,Gf=0,qf=0,Kf=0;Kf<vf[0].length;Kf++){Bf=Kf;for(var Uf=!1,lp=0;lp<vf[0][Kf].length;lp++){if(Gf=lp,qf===Tf){Uf=!0;break}qf++}if(Uf)break}nt=vf[0][Bf][Gf],lt=vf[0][Bf][Gf],lo=fw(vf[0][0][0],vf[0][0][vf[0][0].length-1],vo),vf.forEach(function(xp){var Yf=Hx(xp[0],vo,lo,pt,nt,lt);nt=Yf[0],lt=Yf[1]})}return uf([ut(nt),ut(lt)])},F.polygonToLine=ty,F.polygonToLineString=ty,F.polygonize=function(K){var rt=NA.fromGeoJson(K);rt.deleteDangles(),rt.deleteCutEdges();var nt=[],lt=[];return rt.getEdgeRings().filter(function(pt){return pt.isValid()}).forEach(function(pt){pt.isHole()?nt.push(pt):lt.push(pt)}),nt.forEach(function(pt){Xy.findEdgeRingContaining(pt,lt)&&lt.push(pt)}),uf(lt.map(function(pt){return pt.toPolygon()}))},F.polygons=mo,F.projection=oO,F.propEach=Xf,F.propReduce=mp,F.propertiesContainsFilter=jS,F.radians2degrees=yf,F.radiansToDegrees=yf,F.radiansToDistance=po,F.radiansToLength=po,F.random=aO,F.randomLineString=pT,F.randomPoint=fT,F.randomPolygon=$S,F.randomPosition=Dk,F.rewind=function(K,rt){if(!Pf(rt=rt||{}))throw new Error("options is invalid");var nt=rt.reverse||!1,lt=rt.mutate||!1;if(!K)throw new Error("<geojson> is required");if(typeof nt!="boolean")throw new Error("<reverse> must be a boolean");if(typeof lt!="boolean")throw new Error("<mutate> must be a boolean");lt===!1&&(K=Iv(K));var pt=[];switch(K.type){case"GeometryCollection":return Pp(K,function(lo){pw(lo,nt)}),K;case"FeatureCollection":return fp(K,function(lo){fp(pw(lo,nt),function(vo){pt.push(vo)})}),uf(pt)}return pw(K,nt)},F.rhumbBearing=Tv,F.rhumbDestination=S_,F.rhumbDistance=L1,F.round=_f,F.sample=function(K,rt){if(!K)throw new Error("featurecollection is required");if(rt==null)throw new Error("num is required");if(typeof rt!="number")throw new Error("num must be a number");return uf(function(nt,lt){for(var pt,lo,vo=nt.slice(0),vf=nt.length,Cf=vf-lt;vf-- >Cf;)pt=vo[lo=Math.floor((vf+1)*Math.random())],vo[lo]=vo[vf],vo[vf]=pt;return vo.slice(Cf)}(K.features,rt))},F.sector=function(K,rt,nt,lt,pt){if(!Pf(pt=pt||{}))throw new Error("options is invalid");var lo=pt.properties;if(!K)throw new Error("center is required");if(nt==null)throw new Error("bearing1 is required");if(lt==null)throw new Error("bearing2 is required");if(!rt)throw new Error("radius is required");if(typeof pt!="object")throw new Error("options must be an object");if(C_(nt)===C_(lt))return Lw(K,rt,pt);var vo=ap(K),vf=gy(K,rt,nt,lt,pt),Cf=[[vo]];return $f(vf,function(Tf){Cf[0].push(Tf)}),Cf[0].push(vo),uo(Cf,lo)},F.segmentEach=$p,F.segmentReduce=kp,F.shortestPath=function(K,rt,nt){if(!Pf(nt=nt||{}))throw new Error("options is invalid");var lt=nt.resolution,pt=nt.minDistance,lo=nt.obstacles||uf([]);if(!K)throw new Error("start is required");if(!rt)throw new Error("end is required");if(lt&&!Af(lt)||lt<=0)throw new Error("options.resolution must be a number, greater than 0");if(pt)throw new Error("options.minDistance is not yet implemented");var vo=ip(K),vf=ip(rt);switch(K=ut(vo),rt=ut(vf),Up(lo)){case"FeatureCollection":if(lo.features.length===0)return yo([vo,vf]);break;case"Polygon":lo=uf([ot(Rp(lo))]);break;default:throw new Error("invalid obstacles")}var Cf=lo;Cf.features.push(K),Cf.features.push(rt);var Tf=Jf(IE(iw(Jf(Cf)),1.15));lt||(lt=Cm([Tf[0],Tf[1]],[Tf[2],Tf[1]],nt)/100),Cf.features.pop(),Cf.features.pop();for(var Rf=Tf[0],Of=Tf[1],Bf=Tf[2],Gf=Tf[3],qf=lt/Cm([Rf,Of],[Bf,Of],nt)*(Bf-Rf),Kf=lt/Cm([Rf,Of],[Rf,Gf],nt)*(Gf-Of),Uf=Bf-Rf,lp=Gf-Of,xp=Math.floor(Uf/qf),Yf=Math.floor(lp/Kf),sp=(Uf-xp*qf)/2,hp=[],vp=[],gp=[],hg=[],tg=1/0,pg=1/0,rg=Gf-(lp-Yf*Kf)/2,_g=0;rg>=Of;){for(var lg=[],ag=[],ig=Rf+sp,yg=0;ig<=Bf;){var cg=ut([ig,rg]),xg=GA(cg,lo);lg.push(xg?0:1),ag.push(ig+"|"+rg);var Wp=Cm(cg,K);!xg&&Wp<tg&&(tg=Wp,gp={x:yg,y:_g});var om=Cm(cg,rt);!xg&&om<pg&&(pg=om,hg={x:yg,y:_g}),ig+=qf,yg++}vp.push(lg),hp.push(ag),rg-=Kf,_g++}var Rg=new hx(vp,{diagonal:!0}),Lm=Rg.grid[gp.y][gp.x],Qg=Rg.grid[hg.y][hg.x],fm=SC.search(Rg,Lm,Qg),nv=[vo];return fm.forEach(function(Dv){var wy=hp[Dv.x][Dv.y].split("|");nv.push([+wy[0],+wy[1]])}),nv.push(vf),hb(yo(nv))},F.simplify=function(K,rt){if(!Pf(rt=rt||{}))throw new Error("options is invalid");var nt=rt.tolerance!==void 0?rt.tolerance:1,lt=rt.highQuality||!1,pt=rt.mutate||!1;if(!K)throw new Error("geojson is required");if(nt&&nt<0)throw new Error("invalid tolerance");return pt!==!0&&(K=Iv(K)),Pp(K,function(lo){(function(vo,vf,Cf){var Tf=vo.type;if(Tf==="Point"||Tf==="MultiPoint")return vo;hb(vo,!0);var Rf=vo.coordinates;switch(Tf){case"LineString":vo.coordinates=d_(Rf,vf,Cf);break;case"MultiLineString":vo.coordinates=Rf.map(function(Of){return d_(Of,vf,Cf)});break;case"Polygon":vo.coordinates=f_(Rf,vf,Cf);break;case"MultiPolygon":vo.coordinates=Rf.map(function(Of){return f_(Of,vf,Cf)})}})(lo,nt,lt)}),K},F.square=Px,F.squareGrid=yA,F.standardDeviationalEllipse=function(K,rt){if(!Pf(rt=rt||{}))throw new Error("options is invalid");var nt=rt.steps||64,lt=rt.weight,pt=rt.properties||{};if(!Af(nt))throw new Error("steps must be a number");if(!Pf(pt))throw new Error("properties must be a number");var lo=Np(K).length,vo=BS(K,{weight:lt}),vf=0,Cf=0,Tf=0;fp(K,function(gp){var hg=gp.properties[lt]||1,tg=oT(ap(gp),ap(vo));vf+=Math.pow(tg.x,2)*hg,Cf+=Math.pow(tg.y,2)*hg,Tf+=tg.x*tg.y*hg});var Rf=vf-Cf,Of=Math.sqrt(Math.pow(Rf,2)+4*Math.pow(Tf,2)),Bf=2*Tf,Gf=Math.atan((Rf+Of)/Bf),qf=180*Gf/Math.PI,Kf=0,Uf=0,lp=0;fp(K,function(gp){var hg=gp.properties[lt]||1,tg=oT(ap(gp),ap(vo));Kf+=Math.pow(tg.x*Math.cos(Gf)-tg.y*Math.sin(Gf),2)*hg,Uf+=Math.pow(tg.x*Math.sin(Gf)+tg.y*Math.cos(Gf),2)*hg,lp+=hg});var xp=Math.sqrt(2*Kf/lp),Yf=Math.sqrt(2*Uf/lp),sp=rT(vo,xp,Yf,{units:"degrees",angle:qf,steps:nt,properties:pt}),hp=nm(K,uf([sp])),vp={meanCenterCoordinates:ap(vo),semiMajorAxis:xp,semiMinorAxis:Yf,numberOfFeatures:lo,angle:qf,percentageWithinEllipse:100*Np(hp).length/lo};return sp.properties.standardDeviationalEllipse=vp,sp},F.tag=function(K,rt,nt,lt){return K=Iv(K),rt=Iv(rt),fp(K,function(pt){pt.properties||(pt.properties={}),fp(rt,function(lo){pt.properties[lt]===void 0&&dm(pt,lo)&&(pt.properties[lt]=lo.properties[nt])})}),K},F.tesselate=function(K){if(!K.geometry||K.geometry.type!=="Polygon"&&K.geometry.type!=="MultiPolygon")throw new Error("input must be a Polygon or MultiPolygon");var rt={type:"FeatureCollection",features:[]};return K.geometry.type==="Polygon"?rt.features=Zy(K.geometry.coordinates):K.geometry.coordinates.forEach(function(nt){rt.features=rt.features.concat(Zy(nt))}),rt},F.tin=ub,F.toMercator=lT,F.toWgs84=uT,F.transformRotate=xC,F.transformScale=IE,F.transformTranslate=function(K,rt,nt,lt){if(!Pf(lt=lt||{}))throw new Error("options is invalid");var pt=lt.units,lo=lt.zTranslation,vo=lt.mutate;if(!K)throw new Error("geojson is required");if(rt==null||isNaN(rt))throw new Error("distance is required");if(lo&&typeof lo!="number"&&isNaN(lo))throw new Error("zTranslation is not a number");if(lo=lo!==void 0?lo:0,rt===0&&lo===0)return K;if(nt==null||isNaN(nt))throw new Error("direction is required");return rt<0&&(rt=-rt,nt+=180),vo!==!1&&vo!==void 0||(K=Iv(K)),$f(K,function(vf){var Cf=ap(S_(vf,rt,nt,{units:pt}));vf[0]=Cf[0],vf[1]=Cf[1],lo&&vf.length===3&&(vf[2]+=lo)}),K},F.triangleGrid=S2,F.truncate=Hw,F.union=function(K,rt,nt){nt===void 0&&(nt={});var lt=Rp(K),pt=Rp(rt),lo=M_.union(lt.coordinates,pt.coordinates);return lo.length===0?null:lo.length===1?uo(lo[0],nt.properties):wo(lo,nt.properties)},F.unitsFactors=X,F.unkinkPolygon=function(K){var rt=[];return Ep(K,function(nt){nt.geometry.type==="Polygon"&&fp(AE(nt),function(lt){rt.push(uo(lt.geometry.coordinates,nt.properties))})}),uf(rt)},F.validateBBox=Df,F.validateId=zf,F.voronoi=function(K,rt){if(!Pf(rt=rt||{}))throw new Error("options is invalid");var nt=rt.bbox||[-180,-85,180,85];if(!K)throw new Error("points is required");if(!Array.isArray(nt))throw new Error("bbox is invalid");return zp(K,"Point","points"),uf(function(){var lt=qA,pt=q2,lo=null;function vo(vf){return new NS(vf.map(function(Cf,Tf){var Rf=[Math.round(lt(Cf,Tf,vf)/Xv)*Xv,Math.round(pt(Cf,Tf,vf)/Xv)*Xv];return Rf.index=Tf,Rf.data=Cf,Rf}),lo)}return vo.polygons=function(vf){return vo(vf).polygons()},vo.links=function(vf){return vo(vf).links()},vo.triangles=function(vf){return vo(vf).triangles()},vo.x=function(vf){return arguments.length?(lt=typeof vf=="function"?vf:G2(+vf),vo):lt},vo.y=function(vf){return arguments.length?(pt=typeof vf=="function"?vf:G2(+vf),vo):pt},vo.extent=function(vf){return arguments.length?(lo=vf==null?null:[[+vf[0][0],+vf[0][1]],[+vf[1][0],+vf[1][1]]],vo):lo&&[[lo[0][0],lo[0][1]],[lo[1][0],lo[1][1]]]},vo.size=function(vf){return arguments.length?(lo=vf==null?null:[[0,0],[+vf[0],+vf[1]]],vo):lo&&[lo[1][0]-lo[0][0],lo[1][1]-lo[0][1]]},vo}().x(function(lt){return lt.geometry.coordinates[0]}).y(function(lt){return lt.geometry.coordinates[1]}).extent([[nt[0],nt[1]],[nt[2],nt[3]]]).polygons(K.features).map(tO))},F.within=nm,Object.defineProperty(F,"__esModule",{value:!0})});var Leaflet_SmoothWheelZoom={exports:{}};(function(F){(function(W){F.exports=W(leafletSrcExports)})(function(W){W.Map.mergeOptions({smoothWheelZoom:!0,smoothSensitivity:1}),W.Map.SmoothWheelZoom=W.Handler.extend({addHooks:function(){W.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this)},removeHooks:function(){W.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(q){this._isWheeling||this._onWheelStart(q),this._onWheeling(q)},_onWheelStart:function(q){var X=this._map;this._isWheeling=!0,this._wheelMousePosition=X.mouseEventToContainerPoint(q),this._centerPoint=X.getSize()._divideBy(2),this._startLatLng=X.containerPointToLatLng(this._centerPoint),this._wheelStartLatLng=X.containerPointToLatLng(this._wheelMousePosition),this._startZoom=X.getZoom(),this._moved=!1,this._zooming=!0,X._stop(),X._panAnim&&X._panAnim.stop(),this._goalZoom=X.getZoom(),this._prevCenter=X.getCenter(),this._prevZoom=X.getZoom(),this._zoomAnimationId=requestAnimationFrame(this._updateWheelZoom.bind(this))},_onWheeling:function(q){var X=this._map;this._goalZoom=this._goalZoom-q.deltaY*.003*X.options.smoothSensitivity,(this._goalZoom<X.getMinZoom()||this._goalZoom>X.getMaxZoom())&&(this._goalZoom=X._limitZoom(this._goalZoom)),this._wheelMousePosition=this._map.mouseEventToContainerPoint(q),clearTimeout(this._timeoutId),this._timeoutId=setTimeout(this._onWheelEnd.bind(this),200),W.DomEvent.preventDefault(q),W.DomEvent.stopPropagation(q)},_onWheelEnd:function(q){this._isWheeling=!1,cancelAnimationFrame(this._zoomAnimationId),this._map.fire("zoomend")},_updateWheelZoom:function(){var q=this._map;if(!(!q.getCenter().equals(this._prevCenter)||q.getZoom()!=this._prevZoom)){this._zoom=q.getZoom()+(this._goalZoom-q.getZoom())*.3,this._zoom=Math.floor(this._zoom*100)/100;var X=this._wheelMousePosition.subtract(this._centerPoint);X.x===0&&X.y===0||(q.options.smoothWheelZoom==="center"?this._center=this._startLatLng:this._center=q.unproject(q.project(this._wheelStartLatLng,this._zoom).subtract(X),this._zoom),this._moved||(q._moveStart(!0,!1),this._moved=!0),q._move(this._center,this._zoom),this._prevCenter=q.getCenter(),this._prevZoom=q.getZoom(),q.fire("viewreset"),this._zoomAnimationId=requestAnimationFrame(this._updateWheelZoom.bind(this)))}}}),W.Map.addInitHook("addHandler","smoothWheelZoom",W.Map.SmoothWheelZoom)})})(Leaflet_SmoothWheelZoom);function an(F){return Array.isArray(F)?`[${F.map(W=>an(W)).join(",")}]`:typeof F=="number"?`${F}`:typeof F=="string"?`"${F}"`:typeof F=="object"&&F!==null?Object.keys(F).sort().map(W=>`${W}:${an(F[W])}`).join("|"):String(F)}async function bo(F){const W=await crypto.subtle.digest("SHA-1",new TextEncoder().encode(F));return Array.from(new Uint8Array(W)).map(q=>q.toString(16).padStart(2,"0")).join("")}async function Li(F,W=16){return(await bo(String(F))).slice(0,W)}async function To(F,W){return await Li(an(F),W)}var H;(function(F){F.assertEqual=tt=>tt;function W(tt){}F.assertIs=W;function q(tt){throw new Error}F.assertNever=q,F.arrayToEnum=tt=>{const ot={};for(const at of tt)ot[at]=at;return ot},F.getValidEnumValues=tt=>{const ot=F.objectKeys(tt).filter(ut=>typeof tt[tt[ut]]!="number"),at={};for(const ut of ot)at[ut]=tt[ut];return F.objectValues(at)},F.objectValues=tt=>F.objectKeys(tt).map(function(ot){return tt[ot]}),F.objectKeys=typeof Object.keys=="function"?tt=>Object.keys(tt):tt=>{const ot=[];for(const at in tt)Object.prototype.hasOwnProperty.call(tt,at)&&ot.push(at);return ot},F.find=(tt,ot)=>{for(const at of tt)if(ot(at))return at},F.isInteger=typeof Number.isInteger=="function"?tt=>Number.isInteger(tt):tt=>typeof tt=="number"&&isFinite(tt)&&Math.floor(tt)===tt;function X(tt,ot=" | "){return tt.map(at=>typeof at=="string"?`'${at}'`:at).join(ot)}F.joinValues=X,F.jsonStringifyReplacer=(tt,ot)=>typeof ot=="bigint"?ot.toString():ot})(H||(H={}));var hn;(function(F){F.mergeShapes=(W,q)=>({...W,...q})})(hn||(hn={}));const O=H.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ut=F=>{switch(typeof F){case"undefined":return O.undefined;case"string":return O.string;case"number":return isNaN(F)?O.nan:O.number;case"boolean":return O.boolean;case"function":return O.function;case"bigint":return O.bigint;case"symbol":return O.symbol;case"object":return Array.isArray(F)?O.array:F===null?O.null:F.then&&typeof F.then=="function"&&F.catch&&typeof F.catch=="function"?O.promise:typeof Map<"u"&&F instanceof Map?O.map:typeof Set<"u"&&F instanceof Set?O.set:typeof Date<"u"&&F instanceof Date?O.date:O.object;default:return O.unknown}},R=H.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Mo=F=>JSON.stringify(F,null,2).replace(/"([^"]+)":/g,"$1:");class _t extends Error{constructor(W){super(),this.issues=[],this.addIssue=X=>{this.issues=[...this.issues,X]},this.addIssues=(X=[])=>{this.issues=[...this.issues,...X]};const q=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,q):this.__proto__=q,this.name="ZodError",this.issues=W}get errors(){return this.issues}format(W){const q=W||function(ot){return ot.message},X={_errors:[]},tt=ot=>{for(const at of ot.issues)if(at.code==="invalid_union")at.unionErrors.map(tt);else if(at.code==="invalid_return_type")tt(at.returnTypeError);else if(at.code==="invalid_arguments")tt(at.argumentsError);else if(at.path.length===0)X._errors.push(q(at));else{let ut=X,wt=0;for(;wt<at.path.length;){const uo=at.path[wt];wt===at.path.length-1?(ut[uo]=ut[uo]||{_errors:[]},ut[uo]._errors.push(q(at))):ut[uo]=ut[uo]||{_errors:[]},ut=ut[uo],wt++}}};return tt(this),X}toString(){return this.message}get message(){return JSON.stringify(this.issues,H.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(W=q=>q.message){const q={},X=[];for(const tt of this.issues)tt.path.length>0?(q[tt.path[0]]=q[tt.path[0]]||[],q[tt.path[0]].push(W(tt))):X.push(W(tt));return{formErrors:X,fieldErrors:q}}get formErrors(){return this.flatten()}}_t.create=F=>new _t(F);const _e=(F,W)=>{let q;switch(F.code){case R.invalid_type:F.received===O.undefined?q="Required":q=`Expected ${F.expected}, received ${F.received}`;break;case R.invalid_literal:q=`Invalid literal value, expected ${JSON.stringify(F.expected,H.jsonStringifyReplacer)}`;break;case R.unrecognized_keys:q=`Unrecognized key(s) in object: ${H.joinValues(F.keys,", ")}`;break;case R.invalid_union:q="Invalid input";break;case R.invalid_union_discriminator:q=`Invalid discriminator value. Expected ${H.joinValues(F.options)}`;break;case R.invalid_enum_value:q=`Invalid enum value. Expected ${H.joinValues(F.options)}, received '${F.received}'`;break;case R.invalid_arguments:q="Invalid function arguments";break;case R.invalid_return_type:q="Invalid function return type";break;case R.invalid_date:q="Invalid date";break;case R.invalid_string:typeof F.validation=="object"?"includes"in F.validation?(q=`Invalid input: must include "${F.validation.includes}"`,typeof F.validation.position=="number"&&(q=`${q} at one or more positions greater than or equal to ${F.validation.position}`)):"startsWith"in F.validation?q=`Invalid input: must start with "${F.validation.startsWith}"`:"endsWith"in F.validation?q=`Invalid input: must end with "${F.validation.endsWith}"`:H.assertNever(F.validation):F.validation!=="regex"?q=`Invalid ${F.validation}`:q="Invalid";break;case R.too_small:F.type==="array"?q=`Array must contain ${F.exact?"exactly":F.inclusive?"at least":"more than"} ${F.minimum} element(s)`:F.type==="string"?q=`String must contain ${F.exact?"exactly":F.inclusive?"at least":"over"} ${F.minimum} character(s)`:F.type==="number"?q=`Number must be ${F.exact?"exactly equal to ":F.inclusive?"greater than or equal to ":"greater than "}${F.minimum}`:F.type==="date"?q=`Date must be ${F.exact?"exactly equal to ":F.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(F.minimum))}`:q="Invalid input";break;case R.too_big:F.type==="array"?q=`Array must contain ${F.exact?"exactly":F.inclusive?"at most":"less than"} ${F.maximum} element(s)`:F.type==="string"?q=`String must contain ${F.exact?"exactly":F.inclusive?"at most":"under"} ${F.maximum} character(s)`:F.type==="number"?q=`Number must be ${F.exact?"exactly":F.inclusive?"less than or equal to":"less than"} ${F.maximum}`:F.type==="bigint"?q=`BigInt must be ${F.exact?"exactly":F.inclusive?"less than or equal to":"less than"} ${F.maximum}`:F.type==="date"?q=`Date must be ${F.exact?"exactly":F.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(F.maximum))}`:q="Invalid input";break;case R.custom:q="Invalid input";break;case R.invalid_intersection_types:q="Intersection results could not be merged";break;case R.not_multiple_of:q=`Number must be a multiple of ${F.multipleOf}`;break;case R.not_finite:q="Number must be finite";break;default:q=W.defaultError,H.assertNever(F)}return{message:q}};let Di=_e;function _o(F){Di=F}function dr(){return Di}const fr=F=>{const{data:W,path:q,errorMaps:X,issueData:tt}=F,ot=[...q,...tt.path||[]],at={...tt,path:ot};let ut="";const wt=X.filter(uo=>!!uo).slice().reverse();for(const uo of wt)ut=uo(at,{data:W,defaultError:ut}).message;return{...tt,path:ot,message:tt.message||ut}},Eo=[];function N(F,W){const q=fr({issueData:W,data:F.data,path:F.path,errorMaps:[F.common.contextualErrorMap,F.schemaErrorMap,dr(),_e].filter(X=>!!X)});F.common.issues.push(q)}class ct{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(W,q){const X=[];for(const tt of q){if(tt.status==="aborted")return B;tt.status==="dirty"&&W.dirty(),X.push(tt.value)}return{status:W.value,value:X}}static async mergeObjectAsync(W,q){const X=[];for(const tt of q)X.push({key:await tt.key,value:await tt.value});return ct.mergeObjectSync(W,X)}static mergeObjectSync(W,q){const X={};for(const tt of q){const{key:ot,value:at}=tt;if(ot.status==="aborted"||at.status==="aborted")return B;ot.status==="dirty"&&W.dirty(),at.status==="dirty"&&W.dirty(),ot.value!=="__proto__"&&(typeof at.value<"u"||tt.alwaysSet)&&(X[ot.value]=at.value)}return{status:W.value,value:X}}}const B=Object.freeze({status:"aborted"}),Bi=F=>({status:"dirty",value:F}),ft=F=>({status:"valid",value:F}),cn=F=>F.status==="aborted",ln=F=>F.status==="dirty",Ee=F=>F.status==="valid",pr=F=>typeof Promise<"u"&&F instanceof Promise;var L$1;(function(F){F.errToObj=W=>typeof W=="string"?{message:W}:W||{},F.toString=W=>typeof W=="string"?W:W==null?void 0:W.message})(L$1||(L$1={}));class Ct{constructor(W,q,X,tt){this._cachedPath=[],this.parent=W,this.data=q,this._path=X,this._key=tt}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Yn=(F,W)=>{if(Ee(W))return{success:!0,data:W.value};if(!F.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const q=new _t(F.common.issues);return this._error=q,this._error}}};function G(F){if(!F)return{};const{errorMap:W,invalid_type_error:q,required_error:X,description:tt}=F;if(W&&(q||X))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return W?{errorMap:W,description:tt}:{errorMap:(ot,at)=>ot.code!=="invalid_type"?{message:at.defaultError}:typeof at.data>"u"?{message:X??at.defaultError}:{message:q??at.defaultError},description:tt}}class U{constructor(W){this.spa=this.safeParseAsync,this._def=W,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(W){return Ut(W.data)}_getOrReturnCtx(W,q){return q||{common:W.parent.common,data:W.data,parsedType:Ut(W.data),schemaErrorMap:this._def.errorMap,path:W.path,parent:W.parent}}_processInputParams(W){return{status:new ct,ctx:{common:W.parent.common,data:W.data,parsedType:Ut(W.data),schemaErrorMap:this._def.errorMap,path:W.path,parent:W.parent}}}_parseSync(W){const q=this._parse(W);if(pr(q))throw new Error("Synchronous parse encountered promise.");return q}_parseAsync(W){const q=this._parse(W);return Promise.resolve(q)}parse(W,q){const X=this.safeParse(W,q);if(X.success)return X.data;throw X.error}safeParse(W,q){var X;const tt={common:{issues:[],async:(X=q==null?void 0:q.async)!==null&&X!==void 0?X:!1,contextualErrorMap:q==null?void 0:q.errorMap},path:(q==null?void 0:q.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:W,parsedType:Ut(W)},ot=this._parseSync({data:W,path:tt.path,parent:tt});return Yn(tt,ot)}async parseAsync(W,q){const X=await this.safeParseAsync(W,q);if(X.success)return X.data;throw X.error}async safeParseAsync(W,q){const X={common:{issues:[],contextualErrorMap:q==null?void 0:q.errorMap,async:!0},path:(q==null?void 0:q.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:W,parsedType:Ut(W)},tt=this._parse({data:W,path:X.path,parent:X}),ot=await(pr(tt)?tt:Promise.resolve(tt));return Yn(X,ot)}refine(W,q){const X=tt=>typeof q=="string"||typeof q>"u"?{message:q}:typeof q=="function"?q(tt):q;return this._refinement((tt,ot)=>{const at=W(tt),ut=()=>ot.addIssue({code:R.custom,...X(tt)});return typeof Promise<"u"&&at instanceof Promise?at.then(wt=>wt?!0:(ut(),!1)):at?!0:(ut(),!1)})}refinement(W,q){return this._refinement((X,tt)=>W(X)?!0:(tt.addIssue(typeof q=="function"?q(X,tt):q),!1))}_refinement(W){return new It({schema:this,typeName:D.ZodEffects,effect:{type:"refinement",refinement:W}})}superRefine(W){return this._refinement(W)}optional(){return Bt.create(this,this._def)}nullable(){return Yt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Et.create(this,this._def)}promise(){return he.create(this,this._def)}or(W){return Re.create([this,W],this._def)}and(W){return Ce.create(this,W,this._def)}transform(W){return new It({...G(this._def),schema:this,typeName:D.ZodEffects,effect:{type:"transform",transform:W}})}default(W){const q=typeof W=="function"?W:()=>W;return new Le({...G(this._def),innerType:this,defaultValue:q,typeName:D.ZodDefault})}brand(){return new Gi({typeName:D.ZodBranded,type:this,...G(this._def)})}catch(W){const q=typeof W=="function"?W:()=>W;return new vr({...G(this._def),innerType:this,catchValue:q,typeName:D.ZodCatch})}describe(W){const q=this.constructor;return new q({...this._def,description:W})}pipe(W){return Fe.create(this,W)}readonly(){return xr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Io=/^c[^\s-]{8,}$/i,So=/^[a-z][a-z0-9]*$/,Ao=/^[0-9A-HJKMNP-TV-Z]{26}$/,Ro=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Co=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Po="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Zr;const ko=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Oo=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,No=F=>F.precision?F.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${F.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${F.precision}}Z$`):F.precision===0?F.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):F.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Lo(F,W){return!!((W==="v4"||!W)&&ko.test(F)||(W==="v6"||!W)&&Oo.test(F))}class Tt extends U{_parse(W){if(this._def.coerce&&(W.data=String(W.data)),this._getType(W)!==O.string){const tt=this._getOrReturnCtx(W);return N(tt,{code:R.invalid_type,expected:O.string,received:tt.parsedType}),B}const q=new ct;let X;for(const tt of this._def.checks)if(tt.kind==="min")W.data.length<tt.value&&(X=this._getOrReturnCtx(W,X),N(X,{code:R.too_small,minimum:tt.value,type:"string",inclusive:!0,exact:!1,message:tt.message}),q.dirty());else if(tt.kind==="max")W.data.length>tt.value&&(X=this._getOrReturnCtx(W,X),N(X,{code:R.too_big,maximum:tt.value,type:"string",inclusive:!0,exact:!1,message:tt.message}),q.dirty());else if(tt.kind==="length"){const ot=W.data.length>tt.value,at=W.data.length<tt.value;(ot||at)&&(X=this._getOrReturnCtx(W,X),ot?N(X,{code:R.too_big,maximum:tt.value,type:"string",inclusive:!0,exact:!0,message:tt.message}):at&&N(X,{code:R.too_small,minimum:tt.value,type:"string",inclusive:!0,exact:!0,message:tt.message}),q.dirty())}else if(tt.kind==="email")Co.test(W.data)||(X=this._getOrReturnCtx(W,X),N(X,{validation:"email",code:R.invalid_string,message:tt.message}),q.dirty());else if(tt.kind==="emoji")Zr||(Zr=new RegExp(Po,"u")),Zr.test(W.data)||(X=this._getOrReturnCtx(W,X),N(X,{validation:"emoji",code:R.invalid_string,message:tt.message}),q.dirty());else if(tt.kind==="uuid")Ro.test(W.data)||(X=this._getOrReturnCtx(W,X),N(X,{validation:"uuid",code:R.invalid_string,message:tt.message}),q.dirty());else if(tt.kind==="cuid")Io.test(W.data)||(X=this._getOrReturnCtx(W,X),N(X,{validation:"cuid",code:R.invalid_string,message:tt.message}),q.dirty());else if(tt.kind==="cuid2")So.test(W.data)||(X=this._getOrReturnCtx(W,X),N(X,{validation:"cuid2",code:R.invalid_string,message:tt.message}),q.dirty());else if(tt.kind==="ulid")Ao.test(W.data)||(X=this._getOrReturnCtx(W,X),N(X,{validation:"ulid",code:R.invalid_string,message:tt.message}),q.dirty());else if(tt.kind==="url")try{new URL(W.data)}catch{X=this._getOrReturnCtx(W,X),N(X,{validation:"url",code:R.invalid_string,message:tt.message}),q.dirty()}else tt.kind==="regex"?(tt.regex.lastIndex=0,tt.regex.test(W.data)||(X=this._getOrReturnCtx(W,X),N(X,{validation:"regex",code:R.invalid_string,message:tt.message}),q.dirty())):tt.kind==="trim"?W.data=W.data.trim():tt.kind==="includes"?W.data.includes(tt.value,tt.position)||(X=this._getOrReturnCtx(W,X),N(X,{code:R.invalid_string,validation:{includes:tt.value,position:tt.position},message:tt.message}),q.dirty()):tt.kind==="toLowerCase"?W.data=W.data.toLowerCase():tt.kind==="toUpperCase"?W.data=W.data.toUpperCase():tt.kind==="startsWith"?W.data.startsWith(tt.value)||(X=this._getOrReturnCtx(W,X),N(X,{code:R.invalid_string,validation:{startsWith:tt.value},message:tt.message}),q.dirty()):tt.kind==="endsWith"?W.data.endsWith(tt.value)||(X=this._getOrReturnCtx(W,X),N(X,{code:R.invalid_string,validation:{endsWith:tt.value},message:tt.message}),q.dirty()):tt.kind==="datetime"?No(tt).test(W.data)||(X=this._getOrReturnCtx(W,X),N(X,{code:R.invalid_string,validation:"datetime",message:tt.message}),q.dirty()):tt.kind==="ip"?Lo(W.data,tt.version)||(X=this._getOrReturnCtx(W,X),N(X,{validation:"ip",code:R.invalid_string,message:tt.message}),q.dirty()):H.assertNever(tt);return{status:q.value,value:W.data}}_regex(W,q,X){return this.refinement(tt=>W.test(tt),{validation:q,code:R.invalid_string,...L$1.errToObj(X)})}_addCheck(W){return new Tt({...this._def,checks:[...this._def.checks,W]})}email(W){return this._addCheck({kind:"email",...L$1.errToObj(W)})}url(W){return this._addCheck({kind:"url",...L$1.errToObj(W)})}emoji(W){return this._addCheck({kind:"emoji",...L$1.errToObj(W)})}uuid(W){return this._addCheck({kind:"uuid",...L$1.errToObj(W)})}cuid(W){return this._addCheck({kind:"cuid",...L$1.errToObj(W)})}cuid2(W){return this._addCheck({kind:"cuid2",...L$1.errToObj(W)})}ulid(W){return this._addCheck({kind:"ulid",...L$1.errToObj(W)})}ip(W){return this._addCheck({kind:"ip",...L$1.errToObj(W)})}datetime(W){var q;return typeof W=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:W}):this._addCheck({kind:"datetime",precision:typeof(W==null?void 0:W.precision)>"u"?null:W==null?void 0:W.precision,offset:(q=W==null?void 0:W.offset)!==null&&q!==void 0?q:!1,...L$1.errToObj(W==null?void 0:W.message)})}regex(W,q){return this._addCheck({kind:"regex",regex:W,...L$1.errToObj(q)})}includes(W,q){return this._addCheck({kind:"includes",value:W,position:q==null?void 0:q.position,...L$1.errToObj(q==null?void 0:q.message)})}startsWith(W,q){return this._addCheck({kind:"startsWith",value:W,...L$1.errToObj(q)})}endsWith(W,q){return this._addCheck({kind:"endsWith",value:W,...L$1.errToObj(q)})}min(W,q){return this._addCheck({kind:"min",value:W,...L$1.errToObj(q)})}max(W,q){return this._addCheck({kind:"max",value:W,...L$1.errToObj(q)})}length(W,q){return this._addCheck({kind:"length",value:W,...L$1.errToObj(q)})}nonempty(W){return this.min(1,L$1.errToObj(W))}trim(){return new Tt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Tt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Tt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(W=>W.kind==="datetime")}get isEmail(){return!!this._def.checks.find(W=>W.kind==="email")}get isURL(){return!!this._def.checks.find(W=>W.kind==="url")}get isEmoji(){return!!this._def.checks.find(W=>W.kind==="emoji")}get isUUID(){return!!this._def.checks.find(W=>W.kind==="uuid")}get isCUID(){return!!this._def.checks.find(W=>W.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(W=>W.kind==="cuid2")}get isULID(){return!!this._def.checks.find(W=>W.kind==="ulid")}get isIP(){return!!this._def.checks.find(W=>W.kind==="ip")}get minLength(){let W=null;for(const q of this._def.checks)q.kind==="min"&&(W===null||q.value>W)&&(W=q.value);return W}get maxLength(){let W=null;for(const q of this._def.checks)q.kind==="max"&&(W===null||q.value<W)&&(W=q.value);return W}}Tt.create=F=>{var W;return new Tt({checks:[],typeName:D.ZodString,coerce:(W=F==null?void 0:F.coerce)!==null&&W!==void 0?W:!1,...G(F)})};function Do(F,W){const q=(F.toString().split(".")[1]||"").length,X=(W.toString().split(".")[1]||"").length,tt=q>X?q:X,ot=parseInt(F.toFixed(tt).replace(".","")),at=parseInt(W.toFixed(tt).replace(".",""));return ot%at/Math.pow(10,tt)}class Wt extends U{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(W){if(this._def.coerce&&(W.data=Number(W.data)),this._getType(W)!==O.number){const tt=this._getOrReturnCtx(W);return N(tt,{code:R.invalid_type,expected:O.number,received:tt.parsedType}),B}let q;const X=new ct;for(const tt of this._def.checks)tt.kind==="int"?H.isInteger(W.data)||(q=this._getOrReturnCtx(W,q),N(q,{code:R.invalid_type,expected:"integer",received:"float",message:tt.message}),X.dirty()):tt.kind==="min"?(tt.inclusive?W.data<tt.value:W.data<=tt.value)&&(q=this._getOrReturnCtx(W,q),N(q,{code:R.too_small,minimum:tt.value,type:"number",inclusive:tt.inclusive,exact:!1,message:tt.message}),X.dirty()):tt.kind==="max"?(tt.inclusive?W.data>tt.value:W.data>=tt.value)&&(q=this._getOrReturnCtx(W,q),N(q,{code:R.too_big,maximum:tt.value,type:"number",inclusive:tt.inclusive,exact:!1,message:tt.message}),X.dirty()):tt.kind==="multipleOf"?Do(W.data,tt.value)!==0&&(q=this._getOrReturnCtx(W,q),N(q,{code:R.not_multiple_of,multipleOf:tt.value,message:tt.message}),X.dirty()):tt.kind==="finite"?Number.isFinite(W.data)||(q=this._getOrReturnCtx(W,q),N(q,{code:R.not_finite,message:tt.message}),X.dirty()):H.assertNever(tt);return{status:X.value,value:W.data}}gte(W,q){return this.setLimit("min",W,!0,L$1.toString(q))}gt(W,q){return this.setLimit("min",W,!1,L$1.toString(q))}lte(W,q){return this.setLimit("max",W,!0,L$1.toString(q))}lt(W,q){return this.setLimit("max",W,!1,L$1.toString(q))}setLimit(W,q,X,tt){return new Wt({...this._def,checks:[...this._def.checks,{kind:W,value:q,inclusive:X,message:L$1.toString(tt)}]})}_addCheck(W){return new Wt({...this._def,checks:[...this._def.checks,W]})}int(W){return this._addCheck({kind:"int",message:L$1.toString(W)})}positive(W){return this._addCheck({kind:"min",value:0,inclusive:!1,message:L$1.toString(W)})}negative(W){return this._addCheck({kind:"max",value:0,inclusive:!1,message:L$1.toString(W)})}nonpositive(W){return this._addCheck({kind:"max",value:0,inclusive:!0,message:L$1.toString(W)})}nonnegative(W){return this._addCheck({kind:"min",value:0,inclusive:!0,message:L$1.toString(W)})}multipleOf(W,q){return this._addCheck({kind:"multipleOf",value:W,message:L$1.toString(q)})}finite(W){return this._addCheck({kind:"finite",message:L$1.toString(W)})}safe(W){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:L$1.toString(W)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:L$1.toString(W)})}get minValue(){let W=null;for(const q of this._def.checks)q.kind==="min"&&(W===null||q.value>W)&&(W=q.value);return W}get maxValue(){let W=null;for(const q of this._def.checks)q.kind==="max"&&(W===null||q.value<W)&&(W=q.value);return W}get isInt(){return!!this._def.checks.find(W=>W.kind==="int"||W.kind==="multipleOf"&&H.isInteger(W.value))}get isFinite(){let W=null,q=null;for(const X of this._def.checks){if(X.kind==="finite"||X.kind==="int"||X.kind==="multipleOf")return!0;X.kind==="min"?(q===null||X.value>q)&&(q=X.value):X.kind==="max"&&(W===null||X.value<W)&&(W=X.value)}return Number.isFinite(q)&&Number.isFinite(W)}}Wt.create=F=>new Wt({checks:[],typeName:D.ZodNumber,coerce:(F==null?void 0:F.coerce)||!1,...G(F)});class Vt extends U{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(W){if(this._def.coerce&&(W.data=BigInt(W.data)),this._getType(W)!==O.bigint){const tt=this._getOrReturnCtx(W);return N(tt,{code:R.invalid_type,expected:O.bigint,received:tt.parsedType}),B}let q;const X=new ct;for(const tt of this._def.checks)tt.kind==="min"?(tt.inclusive?W.data<tt.value:W.data<=tt.value)&&(q=this._getOrReturnCtx(W,q),N(q,{code:R.too_small,type:"bigint",minimum:tt.value,inclusive:tt.inclusive,message:tt.message}),X.dirty()):tt.kind==="max"?(tt.inclusive?W.data>tt.value:W.data>=tt.value)&&(q=this._getOrReturnCtx(W,q),N(q,{code:R.too_big,type:"bigint",maximum:tt.value,inclusive:tt.inclusive,message:tt.message}),X.dirty()):tt.kind==="multipleOf"?W.data%tt.value!==BigInt(0)&&(q=this._getOrReturnCtx(W,q),N(q,{code:R.not_multiple_of,multipleOf:tt.value,message:tt.message}),X.dirty()):H.assertNever(tt);return{status:X.value,value:W.data}}gte(W,q){return this.setLimit("min",W,!0,L$1.toString(q))}gt(W,q){return this.setLimit("min",W,!1,L$1.toString(q))}lte(W,q){return this.setLimit("max",W,!0,L$1.toString(q))}lt(W,q){return this.setLimit("max",W,!1,L$1.toString(q))}setLimit(W,q,X,tt){return new Vt({...this._def,checks:[...this._def.checks,{kind:W,value:q,inclusive:X,message:L$1.toString(tt)}]})}_addCheck(W){return new Vt({...this._def,checks:[...this._def.checks,W]})}positive(W){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:L$1.toString(W)})}negative(W){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:L$1.toString(W)})}nonpositive(W){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:L$1.toString(W)})}nonnegative(W){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:L$1.toString(W)})}multipleOf(W,q){return this._addCheck({kind:"multipleOf",value:W,message:L$1.toString(q)})}get minValue(){let W=null;for(const q of this._def.checks)q.kind==="min"&&(W===null||q.value>W)&&(W=q.value);return W}get maxValue(){let W=null;for(const q of this._def.checks)q.kind==="max"&&(W===null||q.value<W)&&(W=q.value);return W}}Vt.create=F=>{var W;return new Vt({checks:[],typeName:D.ZodBigInt,coerce:(W=F==null?void 0:F.coerce)!==null&&W!==void 0?W:!1,...G(F)})};class Ie extends U{_parse(W){if(this._def.coerce&&(W.data=!!W.data),this._getType(W)!==O.boolean){const q=this._getOrReturnCtx(W);return N(q,{code:R.invalid_type,expected:O.boolean,received:q.parsedType}),B}return ft(W.data)}}Ie.create=F=>new Ie({typeName:D.ZodBoolean,coerce:(F==null?void 0:F.coerce)||!1,...G(F)});class qt extends U{_parse(W){if(this._def.coerce&&(W.data=new Date(W.data)),this._getType(W)!==O.date){const tt=this._getOrReturnCtx(W);return N(tt,{code:R.invalid_type,expected:O.date,received:tt.parsedType}),B}if(isNaN(W.data.getTime())){const tt=this._getOrReturnCtx(W);return N(tt,{code:R.invalid_date}),B}const q=new ct;let X;for(const tt of this._def.checks)tt.kind==="min"?W.data.getTime()<tt.value&&(X=this._getOrReturnCtx(W,X),N(X,{code:R.too_small,message:tt.message,inclusive:!0,exact:!1,minimum:tt.value,type:"date"}),q.dirty()):tt.kind==="max"?W.data.getTime()>tt.value&&(X=this._getOrReturnCtx(W,X),N(X,{code:R.too_big,message:tt.message,inclusive:!0,exact:!1,maximum:tt.value,type:"date"}),q.dirty()):H.assertNever(tt);return{status:q.value,value:new Date(W.data.getTime())}}_addCheck(W){return new qt({...this._def,checks:[...this._def.checks,W]})}min(W,q){return this._addCheck({kind:"min",value:W.getTime(),message:L$1.toString(q)})}max(W,q){return this._addCheck({kind:"max",value:W.getTime(),message:L$1.toString(q)})}get minDate(){let W=null;for(const q of this._def.checks)q.kind==="min"&&(W===null||q.value>W)&&(W=q.value);return W!=null?new Date(W):null}get maxDate(){let W=null;for(const q of this._def.checks)q.kind==="max"&&(W===null||q.value<W)&&(W=q.value);return W!=null?new Date(W):null}}qt.create=F=>new qt({checks:[],coerce:(F==null?void 0:F.coerce)||!1,typeName:D.ZodDate,...G(F)});class gr extends U{_parse(W){if(this._getType(W)!==O.symbol){const q=this._getOrReturnCtx(W);return N(q,{code:R.invalid_type,expected:O.symbol,received:q.parsedType}),B}return ft(W.data)}}gr.create=F=>new gr({typeName:D.ZodSymbol,...G(F)});class Se extends U{_parse(W){if(this._getType(W)!==O.undefined){const q=this._getOrReturnCtx(W);return N(q,{code:R.invalid_type,expected:O.undefined,received:q.parsedType}),B}return ft(W.data)}}Se.create=F=>new Se({typeName:D.ZodUndefined,...G(F)});class Ae extends U{_parse(W){if(this._getType(W)!==O.null){const q=this._getOrReturnCtx(W);return N(q,{code:R.invalid_type,expected:O.null,received:q.parsedType}),B}return ft(W.data)}}Ae.create=F=>new Ae({typeName:D.ZodNull,...G(F)});class ae extends U{constructor(){super(...arguments),this._any=!0}_parse(W){return ft(W.data)}}ae.create=F=>new ae({typeName:D.ZodAny,...G(F)});class Xt extends U{constructor(){super(...arguments),this._unknown=!0}_parse(W){return ft(W.data)}}Xt.create=F=>new Xt({typeName:D.ZodUnknown,...G(F)});class Gt extends U{_parse(W){const q=this._getOrReturnCtx(W);return N(q,{code:R.invalid_type,expected:O.never,received:q.parsedType}),B}}Gt.create=F=>new Gt({typeName:D.ZodNever,...G(F)});class mr extends U{_parse(W){if(this._getType(W)!==O.undefined){const q=this._getOrReturnCtx(W);return N(q,{code:R.invalid_type,expected:O.void,received:q.parsedType}),B}return ft(W.data)}}mr.create=F=>new mr({typeName:D.ZodVoid,...G(F)});class Et extends U{_parse(W){const{ctx:q,status:X}=this._processInputParams(W),tt=this._def;if(q.parsedType!==O.array)return N(q,{code:R.invalid_type,expected:O.array,received:q.parsedType}),B;if(tt.exactLength!==null){const at=q.data.length>tt.exactLength.value,ut=q.data.length<tt.exactLength.value;(at||ut)&&(N(q,{code:at?R.too_big:R.too_small,minimum:ut?tt.exactLength.value:void 0,maximum:at?tt.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:tt.exactLength.message}),X.dirty())}if(tt.minLength!==null&&q.data.length<tt.minLength.value&&(N(q,{code:R.too_small,minimum:tt.minLength.value,type:"array",inclusive:!0,exact:!1,message:tt.minLength.message}),X.dirty()),tt.maxLength!==null&&q.data.length>tt.maxLength.value&&(N(q,{code:R.too_big,maximum:tt.maxLength.value,type:"array",inclusive:!0,exact:!1,message:tt.maxLength.message}),X.dirty()),q.common.async)return Promise.all([...q.data].map((at,ut)=>tt.type._parseAsync(new Ct(q,at,q.path,ut)))).then(at=>ct.mergeArray(X,at));const ot=[...q.data].map((at,ut)=>tt.type._parseSync(new Ct(q,at,q.path,ut)));return ct.mergeArray(X,ot)}get element(){return this._def.type}min(W,q){return new Et({...this._def,minLength:{value:W,message:L$1.toString(q)}})}max(W,q){return new Et({...this._def,maxLength:{value:W,message:L$1.toString(q)}})}length(W,q){return new Et({...this._def,exactLength:{value:W,message:L$1.toString(q)}})}nonempty(W){return this.min(1,W)}}Et.create=(F,W)=>new Et({type:F,minLength:null,maxLength:null,exactLength:null,typeName:D.ZodArray,...G(W)});function ee(F){if(F instanceof Q){const W={};for(const q in F.shape){const X=F.shape[q];W[q]=Bt.create(ee(X))}return new Q({...F._def,shape:()=>W})}else return F instanceof Et?new Et({...F._def,type:ee(F.element)}):F instanceof Bt?Bt.create(ee(F.unwrap())):F instanceof Yt?Yt.create(ee(F.unwrap())):F instanceof Pt?Pt.create(F.items.map(W=>ee(W))):F}class Q extends U{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const W=this._def.shape(),q=H.objectKeys(W);return this._cached={shape:W,keys:q}}_parse(W){if(this._getType(W)!==O.object){const wt=this._getOrReturnCtx(W);return N(wt,{code:R.invalid_type,expected:O.object,received:wt.parsedType}),B}const{status:q,ctx:X}=this._processInputParams(W),{shape:tt,keys:ot}=this._getCached(),at=[];if(!(this._def.catchall instanceof Gt&&this._def.unknownKeys==="strip"))for(const wt in X.data)ot.includes(wt)||at.push(wt);const ut=[];for(const wt of ot){const uo=tt[wt],mo=X.data[wt];ut.push({key:{status:"valid",value:wt},value:uo._parse(new Ct(X,mo,X.path,wt)),alwaysSet:wt in X.data})}if(this._def.catchall instanceof Gt){const wt=this._def.unknownKeys;if(wt==="passthrough")for(const uo of at)ut.push({key:{status:"valid",value:uo},value:{status:"valid",value:X.data[uo]}});else if(wt==="strict")at.length>0&&(N(X,{code:R.unrecognized_keys,keys:at}),q.dirty());else if(wt!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const wt=this._def.catchall;for(const uo of at){const mo=X.data[uo];ut.push({key:{status:"valid",value:uo},value:wt._parse(new Ct(X,mo,X.path,uo)),alwaysSet:uo in X.data})}}return X.common.async?Promise.resolve().then(async()=>{const wt=[];for(const uo of ut){const mo=await uo.key;wt.push({key:mo,value:await uo.value,alwaysSet:uo.alwaysSet})}return wt}).then(wt=>ct.mergeObjectSync(q,wt)):ct.mergeObjectSync(q,ut)}get shape(){return this._def.shape()}strict(W){return L$1.errToObj,new Q({...this._def,unknownKeys:"strict",...W!==void 0?{errorMap:(q,X)=>{var tt,ot,at,ut;const wt=(at=(ot=(tt=this._def).errorMap)===null||ot===void 0?void 0:ot.call(tt,q,X).message)!==null&&at!==void 0?at:X.defaultError;return q.code==="unrecognized_keys"?{message:(ut=L$1.errToObj(W).message)!==null&&ut!==void 0?ut:wt}:{message:wt}}}:{}})}strip(){return new Q({...this._def,unknownKeys:"strip"})}passthrough(){return new Q({...this._def,unknownKeys:"passthrough"})}extend(W){return new Q({...this._def,shape:()=>({...this._def.shape(),...W})})}merge(W){return new Q({unknownKeys:W._def.unknownKeys,catchall:W._def.catchall,shape:()=>({...this._def.shape(),...W._def.shape()}),typeName:D.ZodObject})}setKey(W,q){return this.augment({[W]:q})}catchall(W){return new Q({...this._def,catchall:W})}pick(W){const q={};return H.objectKeys(W).forEach(X=>{W[X]&&this.shape[X]&&(q[X]=this.shape[X])}),new Q({...this._def,shape:()=>q})}omit(W){const q={};return H.objectKeys(this.shape).forEach(X=>{W[X]||(q[X]=this.shape[X])}),new Q({...this._def,shape:()=>q})}deepPartial(){return ee(this)}partial(W){const q={};return H.objectKeys(this.shape).forEach(X=>{const tt=this.shape[X];W&&!W[X]?q[X]=tt:q[X]=tt.optional()}),new Q({...this._def,shape:()=>q})}required(W){const q={};return H.objectKeys(this.shape).forEach(X=>{if(W&&!W[X])q[X]=this.shape[X];else{let tt=this.shape[X];for(;tt instanceof Bt;)tt=tt._def.innerType;q[X]=tt}}),new Q({...this._def,shape:()=>q})}keyof(){return ji(H.objectKeys(this.shape))}}Q.create=(F,W)=>new Q({shape:()=>F,unknownKeys:"strip",catchall:Gt.create(),typeName:D.ZodObject,...G(W)});Q.strictCreate=(F,W)=>new Q({shape:()=>F,unknownKeys:"strict",catchall:Gt.create(),typeName:D.ZodObject,...G(W)});Q.lazycreate=(F,W)=>new Q({shape:F,unknownKeys:"strip",catchall:Gt.create(),typeName:D.ZodObject,...G(W)});class Re extends U{_parse(W){const{ctx:q}=this._processInputParams(W),X=this._def.options;function tt(ot){for(const ut of ot)if(ut.result.status==="valid")return ut.result;for(const ut of ot)if(ut.result.status==="dirty")return q.common.issues.push(...ut.ctx.common.issues),ut.result;const at=ot.map(ut=>new _t(ut.ctx.common.issues));return N(q,{code:R.invalid_union,unionErrors:at}),B}if(q.common.async)return Promise.all(X.map(async ot=>{const at={...q,common:{...q.common,issues:[]},parent:null};return{result:await ot._parseAsync({data:q.data,path:q.path,parent:at}),ctx:at}})).then(tt);{let ot;const at=[];for(const wt of X){const uo={...q,common:{...q.common,issues:[]},parent:null},mo=wt._parseSync({data:q.data,path:q.path,parent:uo});if(mo.status==="valid")return mo;mo.status==="dirty"&&!ot&&(ot={result:mo,ctx:uo}),uo.common.issues.length&&at.push(uo.common.issues)}if(ot)return q.common.issues.push(...ot.ctx.common.issues),ot.result;const ut=at.map(wt=>new _t(wt));return N(q,{code:R.invalid_union,unionErrors:ut}),B}}get options(){return this._def.options}}Re.create=(F,W)=>new Re({options:F,typeName:D.ZodUnion,...G(W)});const or=F=>F instanceof ke?or(F.schema):F instanceof It?or(F.innerType()):F instanceof Oe?[F.value]:F instanceof zt?F.options:F instanceof Ne?Object.keys(F.enum):F instanceof Le?or(F._def.innerType):F instanceof Se?[void 0]:F instanceof Ae?[null]:null;class kr extends U{_parse(W){const{ctx:q}=this._processInputParams(W);if(q.parsedType!==O.object)return N(q,{code:R.invalid_type,expected:O.object,received:q.parsedType}),B;const X=this.discriminator,tt=q.data[X],ot=this.optionsMap.get(tt);return ot?q.common.async?ot._parseAsync({data:q.data,path:q.path,parent:q}):ot._parseSync({data:q.data,path:q.path,parent:q}):(N(q,{code:R.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[X]}),B)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(W,q,X){const tt=new Map;for(const ot of q){const at=or(ot.shape[W]);if(!at)throw new Error(`A discriminator value for key \`${W}\` could not be extracted from all schema options`);for(const ut of at){if(tt.has(ut))throw new Error(`Discriminator property ${String(W)} has duplicate value ${String(ut)}`);tt.set(ut,ot)}}return new kr({typeName:D.ZodDiscriminatedUnion,discriminator:W,options:q,optionsMap:tt,...G(X)})}}function un(F,W){const q=Ut(F),X=Ut(W);if(F===W)return{valid:!0,data:F};if(q===O.object&&X===O.object){const tt=H.objectKeys(W),ot=H.objectKeys(F).filter(ut=>tt.indexOf(ut)!==-1),at={...F,...W};for(const ut of ot){const wt=un(F[ut],W[ut]);if(!wt.valid)return{valid:!1};at[ut]=wt.data}return{valid:!0,data:at}}else if(q===O.array&&X===O.array){if(F.length!==W.length)return{valid:!1};const tt=[];for(let ot=0;ot<F.length;ot++){const at=F[ot],ut=W[ot],wt=un(at,ut);if(!wt.valid)return{valid:!1};tt.push(wt.data)}return{valid:!0,data:tt}}else return q===O.date&&X===O.date&&+F==+W?{valid:!0,data:F}:{valid:!1}}class Ce extends U{_parse(W){const{status:q,ctx:X}=this._processInputParams(W),tt=(ot,at)=>{if(cn(ot)||cn(at))return B;const ut=un(ot.value,at.value);return ut.valid?((ln(ot)||ln(at))&&q.dirty(),{status:q.value,value:ut.data}):(N(X,{code:R.invalid_intersection_types}),B)};return X.common.async?Promise.all([this._def.left._parseAsync({data:X.data,path:X.path,parent:X}),this._def.right._parseAsync({data:X.data,path:X.path,parent:X})]).then(([ot,at])=>tt(ot,at)):tt(this._def.left._parseSync({data:X.data,path:X.path,parent:X}),this._def.right._parseSync({data:X.data,path:X.path,parent:X}))}}Ce.create=(F,W,q)=>new Ce({left:F,right:W,typeName:D.ZodIntersection,...G(q)});class Pt extends U{_parse(W){const{status:q,ctx:X}=this._processInputParams(W);if(X.parsedType!==O.array)return N(X,{code:R.invalid_type,expected:O.array,received:X.parsedType}),B;if(X.data.length<this._def.items.length)return N(X,{code:R.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),B;!this._def.rest&&X.data.length>this._def.items.length&&(N(X,{code:R.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),q.dirty());const tt=[...X.data].map((ot,at)=>{const ut=this._def.items[at]||this._def.rest;return ut?ut._parse(new Ct(X,ot,X.path,at)):null}).filter(ot=>!!ot);return X.common.async?Promise.all(tt).then(ot=>ct.mergeArray(q,ot)):ct.mergeArray(q,tt)}get items(){return this._def.items}rest(W){return new Pt({...this._def,rest:W})}}Pt.create=(F,W)=>{if(!Array.isArray(F))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Pt({items:F,typeName:D.ZodTuple,rest:null,...G(W)})};class Pe extends U{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(W){const{status:q,ctx:X}=this._processInputParams(W);if(X.parsedType!==O.object)return N(X,{code:R.invalid_type,expected:O.object,received:X.parsedType}),B;const tt=[],ot=this._def.keyType,at=this._def.valueType;for(const ut in X.data)tt.push({key:ot._parse(new Ct(X,ut,X.path,ut)),value:at._parse(new Ct(X,X.data[ut],X.path,ut))});return X.common.async?ct.mergeObjectAsync(q,tt):ct.mergeObjectSync(q,tt)}get element(){return this._def.valueType}static create(W,q,X){return q instanceof U?new Pe({keyType:W,valueType:q,typeName:D.ZodRecord,...G(X)}):new Pe({keyType:Tt.create(),valueType:W,typeName:D.ZodRecord,...G(q)})}}class yr extends U{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(W){const{status:q,ctx:X}=this._processInputParams(W);if(X.parsedType!==O.map)return N(X,{code:R.invalid_type,expected:O.map,received:X.parsedType}),B;const tt=this._def.keyType,ot=this._def.valueType,at=[...X.data.entries()].map(([ut,wt],uo)=>({key:tt._parse(new Ct(X,ut,X.path,[uo,"key"])),value:ot._parse(new Ct(X,wt,X.path,[uo,"value"]))}));if(X.common.async){const ut=new Map;return Promise.resolve().then(async()=>{for(const wt of at){const uo=await wt.key,mo=await wt.value;if(uo.status==="aborted"||mo.status==="aborted")return B;(uo.status==="dirty"||mo.status==="dirty")&&q.dirty(),ut.set(uo.value,mo.value)}return{status:q.value,value:ut}})}else{const ut=new Map;for(const wt of at){const uo=wt.key,mo=wt.value;if(uo.status==="aborted"||mo.status==="aborted")return B;(uo.status==="dirty"||mo.status==="dirty")&&q.dirty(),ut.set(uo.value,mo.value)}return{status:q.value,value:ut}}}}yr.create=(F,W,q)=>new yr({valueType:W,keyType:F,typeName:D.ZodMap,...G(q)});class Ht extends U{_parse(W){const{status:q,ctx:X}=this._processInputParams(W);if(X.parsedType!==O.set)return N(X,{code:R.invalid_type,expected:O.set,received:X.parsedType}),B;const tt=this._def;tt.minSize!==null&&X.data.size<tt.minSize.value&&(N(X,{code:R.too_small,minimum:tt.minSize.value,type:"set",inclusive:!0,exact:!1,message:tt.minSize.message}),q.dirty()),tt.maxSize!==null&&X.data.size>tt.maxSize.value&&(N(X,{code:R.too_big,maximum:tt.maxSize.value,type:"set",inclusive:!0,exact:!1,message:tt.maxSize.message}),q.dirty());const ot=this._def.valueType;function at(wt){const uo=new Set;for(const mo of wt){if(mo.status==="aborted")return B;mo.status==="dirty"&&q.dirty(),uo.add(mo.value)}return{status:q.value,value:uo}}const ut=[...X.data.values()].map((wt,uo)=>ot._parse(new Ct(X,wt,X.path,uo)));return X.common.async?Promise.all(ut).then(wt=>at(wt)):at(ut)}min(W,q){return new Ht({...this._def,minSize:{value:W,message:L$1.toString(q)}})}max(W,q){return new Ht({...this._def,maxSize:{value:W,message:L$1.toString(q)}})}size(W,q){return this.min(W,q).max(W,q)}nonempty(W){return this.min(1,W)}}Ht.create=(F,W)=>new Ht({valueType:F,minSize:null,maxSize:null,typeName:D.ZodSet,...G(W)});class oe extends U{constructor(){super(...arguments),this.validate=this.implement}_parse(W){const{ctx:q}=this._processInputParams(W);if(q.parsedType!==O.function)return N(q,{code:R.invalid_type,expected:O.function,received:q.parsedType}),B;function X(ut,wt){return fr({data:ut,path:q.path,errorMaps:[q.common.contextualErrorMap,q.schemaErrorMap,dr(),_e].filter(uo=>!!uo),issueData:{code:R.invalid_arguments,argumentsError:wt}})}function tt(ut,wt){return fr({data:ut,path:q.path,errorMaps:[q.common.contextualErrorMap,q.schemaErrorMap,dr(),_e].filter(uo=>!!uo),issueData:{code:R.invalid_return_type,returnTypeError:wt}})}const ot={errorMap:q.common.contextualErrorMap},at=q.data;if(this._def.returns instanceof he){const ut=this;return ft(async function(...wt){const uo=new _t([]),mo=await ut._def.args.parseAsync(wt,ot).catch(lf=>{throw uo.addIssue(X(wt,lf)),uo}),yo=await Reflect.apply(at,this,mo);return await ut._def.returns._def.type.parseAsync(yo,ot).catch(lf=>{throw uo.addIssue(tt(yo,lf)),uo})})}else{const ut=this;return ft(function(...wt){const uo=ut._def.args.safeParse(wt,ot);if(!uo.success)throw new _t([X(wt,uo.error)]);const mo=Reflect.apply(at,this,uo.data),yo=ut._def.returns.safeParse(mo,ot);if(!yo.success)throw new _t([tt(mo,yo.error)]);return yo.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...W){return new oe({...this._def,args:Pt.create(W).rest(Xt.create())})}returns(W){return new oe({...this._def,returns:W})}implement(W){return this.parse(W)}strictImplement(W){return this.parse(W)}static create(W,q,X){return new oe({args:W||Pt.create([]).rest(Xt.create()),returns:q||Xt.create(),typeName:D.ZodFunction,...G(X)})}}class ke extends U{get schema(){return this._def.getter()}_parse(W){const{ctx:q}=this._processInputParams(W);return this._def.getter()._parse({data:q.data,path:q.path,parent:q})}}ke.create=(F,W)=>new ke({getter:F,typeName:D.ZodLazy,...G(W)});class Oe extends U{_parse(W){if(W.data!==this._def.value){const q=this._getOrReturnCtx(W);return N(q,{received:q.data,code:R.invalid_literal,expected:this._def.value}),B}return{status:"valid",value:W.data}}get value(){return this._def.value}}Oe.create=(F,W)=>new Oe({value:F,typeName:D.ZodLiteral,...G(W)});function ji(F,W){return new zt({values:F,typeName:D.ZodEnum,...G(W)})}class zt extends U{_parse(W){if(typeof W.data!="string"){const q=this._getOrReturnCtx(W),X=this._def.values;return N(q,{expected:H.joinValues(X),received:q.parsedType,code:R.invalid_type}),B}if(this._def.values.indexOf(W.data)===-1){const q=this._getOrReturnCtx(W),X=this._def.values;return N(q,{received:q.data,code:R.invalid_enum_value,options:X}),B}return ft(W.data)}get options(){return this._def.values}get enum(){const W={};for(const q of this._def.values)W[q]=q;return W}get Values(){const W={};for(const q of this._def.values)W[q]=q;return W}get Enum(){const W={};for(const q of this._def.values)W[q]=q;return W}extract(W){return zt.create(W)}exclude(W){return zt.create(this.options.filter(q=>!W.includes(q)))}}zt.create=ji;class Ne extends U{_parse(W){const q=H.getValidEnumValues(this._def.values),X=this._getOrReturnCtx(W);if(X.parsedType!==O.string&&X.parsedType!==O.number){const tt=H.objectValues(q);return N(X,{expected:H.joinValues(tt),received:X.parsedType,code:R.invalid_type}),B}if(q.indexOf(W.data)===-1){const tt=H.objectValues(q);return N(X,{received:X.data,code:R.invalid_enum_value,options:tt}),B}return ft(W.data)}get enum(){return this._def.values}}Ne.create=(F,W)=>new Ne({values:F,typeName:D.ZodNativeEnum,...G(W)});class he extends U{unwrap(){return this._def.type}_parse(W){const{ctx:q}=this._processInputParams(W);if(q.parsedType!==O.promise&&q.common.async===!1)return N(q,{code:R.invalid_type,expected:O.promise,received:q.parsedType}),B;const X=q.parsedType===O.promise?q.data:Promise.resolve(q.data);return ft(X.then(tt=>this._def.type.parseAsync(tt,{path:q.path,errorMap:q.common.contextualErrorMap})))}}he.create=(F,W)=>new he({type:F,typeName:D.ZodPromise,...G(W)});class It extends U{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===D.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(W){const{status:q,ctx:X}=this._processInputParams(W),tt=this._def.effect||null,ot={addIssue:at=>{N(X,at),at.fatal?q.abort():q.dirty()},get path(){return X.path}};if(ot.addIssue=ot.addIssue.bind(ot),tt.type==="preprocess"){const at=tt.transform(X.data,ot);return X.common.issues.length?{status:"dirty",value:X.data}:X.common.async?Promise.resolve(at).then(ut=>this._def.schema._parseAsync({data:ut,path:X.path,parent:X})):this._def.schema._parseSync({data:at,path:X.path,parent:X})}if(tt.type==="refinement"){const at=ut=>{const wt=tt.refinement(ut,ot);if(X.common.async)return Promise.resolve(wt);if(wt instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return ut};if(X.common.async===!1){const ut=this._def.schema._parseSync({data:X.data,path:X.path,parent:X});return ut.status==="aborted"?B:(ut.status==="dirty"&&q.dirty(),at(ut.value),{status:q.value,value:ut.value})}else return this._def.schema._parseAsync({data:X.data,path:X.path,parent:X}).then(ut=>ut.status==="aborted"?B:(ut.status==="dirty"&&q.dirty(),at(ut.value).then(()=>({status:q.value,value:ut.value}))))}if(tt.type==="transform")if(X.common.async===!1){const at=this._def.schema._parseSync({data:X.data,path:X.path,parent:X});if(!Ee(at))return at;const ut=tt.transform(at.value,ot);if(ut instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:q.value,value:ut}}else return this._def.schema._parseAsync({data:X.data,path:X.path,parent:X}).then(at=>Ee(at)?Promise.resolve(tt.transform(at.value,ot)).then(ut=>({status:q.value,value:ut})):at);H.assertNever(tt)}}It.create=(F,W,q)=>new It({schema:F,typeName:D.ZodEffects,effect:W,...G(q)});It.createWithPreprocess=(F,W,q)=>new It({schema:W,effect:{type:"preprocess",transform:F},typeName:D.ZodEffects,...G(q)});class Bt extends U{_parse(W){return this._getType(W)===O.undefined?ft(void 0):this._def.innerType._parse(W)}unwrap(){return this._def.innerType}}Bt.create=(F,W)=>new Bt({innerType:F,typeName:D.ZodOptional,...G(W)});class Yt extends U{_parse(W){return this._getType(W)===O.null?ft(null):this._def.innerType._parse(W)}unwrap(){return this._def.innerType}}Yt.create=(F,W)=>new Yt({innerType:F,typeName:D.ZodNullable,...G(W)});class Le extends U{_parse(W){const{ctx:q}=this._processInputParams(W);let X=q.data;return q.parsedType===O.undefined&&(X=this._def.defaultValue()),this._def.innerType._parse({data:X,path:q.path,parent:q})}removeDefault(){return this._def.innerType}}Le.create=(F,W)=>new Le({innerType:F,typeName:D.ZodDefault,defaultValue:typeof W.default=="function"?W.default:()=>W.default,...G(W)});class vr extends U{_parse(W){const{ctx:q}=this._processInputParams(W),X={...q,common:{...q.common,issues:[]}},tt=this._def.innerType._parse({data:X.data,path:X.path,parent:{...X}});return pr(tt)?tt.then(ot=>({status:"valid",value:ot.status==="valid"?ot.value:this._def.catchValue({get error(){return new _t(X.common.issues)},input:X.data})})):{status:"valid",value:tt.status==="valid"?tt.value:this._def.catchValue({get error(){return new _t(X.common.issues)},input:X.data})}}removeCatch(){return this._def.innerType}}vr.create=(F,W)=>new vr({innerType:F,typeName:D.ZodCatch,catchValue:typeof W.catch=="function"?W.catch:()=>W.catch,...G(W)});class wr extends U{_parse(W){if(this._getType(W)!==O.nan){const q=this._getOrReturnCtx(W);return N(q,{code:R.invalid_type,expected:O.nan,received:q.parsedType}),B}return{status:"valid",value:W.data}}}wr.create=F=>new wr({typeName:D.ZodNaN,...G(F)});const Bo=Symbol("zod_brand");class Gi extends U{_parse(W){const{ctx:q}=this._processInputParams(W),X=q.data;return this._def.type._parse({data:X,path:q.path,parent:q})}unwrap(){return this._def.type}}class Fe extends U{_parse(W){const{status:q,ctx:X}=this._processInputParams(W);if(X.common.async)return(async()=>{const tt=await this._def.in._parseAsync({data:X.data,path:X.path,parent:X});return tt.status==="aborted"?B:tt.status==="dirty"?(q.dirty(),Bi(tt.value)):this._def.out._parseAsync({data:tt.value,path:X.path,parent:X})})();{const tt=this._def.in._parseSync({data:X.data,path:X.path,parent:X});return tt.status==="aborted"?B:tt.status==="dirty"?(q.dirty(),{status:"dirty",value:tt.value}):this._def.out._parseSync({data:tt.value,path:X.path,parent:X})}}static create(W,q){return new Fe({in:W,out:q,typeName:D.ZodPipeline})}}class xr extends U{_parse(W){const q=this._def.innerType._parse(W);return Ee(q)&&(q.value=Object.freeze(q.value)),q}}xr.create=(F,W)=>new xr({innerType:F,typeName:D.ZodReadonly,...G(W)});const Fi=(F,W={},q)=>F?ae.create().superRefine((X,tt)=>{var ot,at;if(!F(X)){const ut=typeof W=="function"?W(X):typeof W=="string"?{message:W}:W,wt=(at=(ot=ut.fatal)!==null&&ot!==void 0?ot:q)!==null&&at!==void 0?at:!0,uo=typeof ut=="string"?{message:ut}:ut;tt.addIssue({code:"custom",...uo,fatal:wt})}}):ae.create(),jo={object:Q.lazycreate};var D;(function(F){F.ZodString="ZodString",F.ZodNumber="ZodNumber",F.ZodNaN="ZodNaN",F.ZodBigInt="ZodBigInt",F.ZodBoolean="ZodBoolean",F.ZodDate="ZodDate",F.ZodSymbol="ZodSymbol",F.ZodUndefined="ZodUndefined",F.ZodNull="ZodNull",F.ZodAny="ZodAny",F.ZodUnknown="ZodUnknown",F.ZodNever="ZodNever",F.ZodVoid="ZodVoid",F.ZodArray="ZodArray",F.ZodObject="ZodObject",F.ZodUnion="ZodUnion",F.ZodDiscriminatedUnion="ZodDiscriminatedUnion",F.ZodIntersection="ZodIntersection",F.ZodTuple="ZodTuple",F.ZodRecord="ZodRecord",F.ZodMap="ZodMap",F.ZodSet="ZodSet",F.ZodFunction="ZodFunction",F.ZodLazy="ZodLazy",F.ZodLiteral="ZodLiteral",F.ZodEnum="ZodEnum",F.ZodEffects="ZodEffects",F.ZodNativeEnum="ZodNativeEnum",F.ZodOptional="ZodOptional",F.ZodNullable="ZodNullable",F.ZodDefault="ZodDefault",F.ZodCatch="ZodCatch",F.ZodPromise="ZodPromise",F.ZodBranded="ZodBranded",F.ZodPipeline="ZodPipeline",F.ZodReadonly="ZodReadonly"})(D||(D={}));const Go=(F,W={message:`Input not instance of ${F.name}`})=>Fi(q=>q instanceof F,W),Ui=Tt.create,Wi=Wt.create,Fo=wr.create,Uo=Vt.create,Vi=Ie.create,Wo=qt.create,Vo=gr.create,zo=Se.create,Zo=Ae.create,$o=ae.create,Xo=Xt.create,qo=Gt.create,Ho=mr.create,Yo=Et.create,Jo=Q.create,Ko=Q.strictCreate,Qo=Re.create,ta=kr.create,ea=Ce.create,ra=Pt.create,na=Pe.create,ia=yr.create,sa=Ht.create,oa=oe.create,aa=ke.create,ha=Oe.create,ca=zt.create,la=Ne.create,ua=he.create,Jn=It.create,da=Bt.create,fa=Yt.create,pa=It.createWithPreprocess,ga=Fe.create,ma=()=>Ui().optional(),ya=()=>Wi().optional(),va=()=>Vi().optional(),wa={string:F=>Tt.create({...F,coerce:!0}),number:F=>Wt.create({...F,coerce:!0}),boolean:F=>Ie.create({...F,coerce:!0}),bigint:F=>Vt.create({...F,coerce:!0}),date:F=>qt.create({...F,coerce:!0})},xa=B;var m=Object.freeze({__proto__:null,defaultErrorMap:_e,setErrorMap:_o,getErrorMap:dr,makeIssue:fr,EMPTY_PATH:Eo,addIssueToContext:N,ParseStatus:ct,INVALID:B,DIRTY:Bi,OK:ft,isAborted:cn,isDirty:ln,isValid:Ee,isAsync:pr,get util(){return H},get objectUtil(){return hn},ZodParsedType:O,getParsedType:Ut,ZodType:U,ZodString:Tt,ZodNumber:Wt,ZodBigInt:Vt,ZodBoolean:Ie,ZodDate:qt,ZodSymbol:gr,ZodUndefined:Se,ZodNull:Ae,ZodAny:ae,ZodUnknown:Xt,ZodNever:Gt,ZodVoid:mr,ZodArray:Et,ZodObject:Q,ZodUnion:Re,ZodDiscriminatedUnion:kr,ZodIntersection:Ce,ZodTuple:Pt,ZodRecord:Pe,ZodMap:yr,ZodSet:Ht,ZodFunction:oe,ZodLazy:ke,ZodLiteral:Oe,ZodEnum:zt,ZodNativeEnum:Ne,ZodPromise:he,ZodEffects:It,ZodTransformer:It,ZodOptional:Bt,ZodNullable:Yt,ZodDefault:Le,ZodCatch:vr,ZodNaN:wr,BRAND:Bo,ZodBranded:Gi,ZodPipeline:Fe,ZodReadonly:xr,custom:Fi,Schema:U,ZodSchema:U,late:jo,get ZodFirstPartyTypeKind(){return D},coerce:wa,any:$o,array:Yo,bigint:Uo,boolean:Vi,date:Wo,discriminatedUnion:ta,effect:Jn,enum:ca,function:oa,instanceof:Go,intersection:ea,lazy:aa,literal:ha,map:ia,nan:Fo,nativeEnum:la,never:qo,null:Zo,nullable:fa,number:Wi,object:Jo,oboolean:va,onumber:ya,optional:da,ostring:ma,pipeline:ga,preprocess:pa,promise:ua,record:na,set:sa,strictObject:Ko,string:Ui,symbol:Vo,transformer:Jn,tuple:ra,undefined:zo,union:Qo,unknown:Xo,void:Ho,NEVER:xa,ZodIssueCode:R,quotelessJson:Mo,ZodError:_t});const Or=/^https?:\/\/library.stanford.edu\/iiif\/image-api\/1.1\/compliance.html#level(?<level>[012])$/,zi=m.string().regex(Or),ba=zi,br="http://library.stanford.edu/iiif/image-api/1.1/context.json",Zi="http://iiif.io/api/image/1/context.json",$i=m.literal(br),Xi=m.object({"@context":$i,"@id":m.string().url(),profile:zi.optional(),width:m.number().int(),height:m.number().int(),scale_factors:m.number().array().optional(),tile_width:m.number().optional(),tile_height:m.number().optional()}),qi=m.object({width:m.number().int(),height:m.number().int()}),Hi=m.object({width:m.number().int(),height:m.number().int().optional(),scaleFactors:m.array(m.number().int())}),Nr=/^https?:\/\/iiif.io\/api\/image\/2.*level(?<level>[012])(.json)?$/,Kn=m.string().regex(Nr),Ta=m.object({formats:m.string().array().optional(),maxArea:m.number().int().optional(),maxHeight:m.number().int().optional(),maxWidth:m.number().int().optional(),qualities:m.string().array().optional(),supports:m.string().array().optional()}),Tr=Kn.or(m.array(m.union([Kn,Ta,m.any()]))),Mr="http://iiif.io/api/image/2/context.json",Yi=m.literal(Mr).or(m.literal("https://iiif.io/api/image/2/context.json")),En=m.object({"@id":m.string().url(),"@type":m.literal("iiif:Image").optional(),"@context":Yi,protocol:m.literal("http://iiif.io/api/image"),width:m.number().int(),height:m.number().int(),profile:Tr,sizes:qi.array().optional(),tiles:Hi.array().optional()}),Ma=["level0","level1","level2"],In=m.object({id:m.string().url(),type:m.literal("ImageService3"),protocol:m.literal("http://iiif.io/api/image"),profile:m.enum(Ma),width:m.number().int(),height:m.number().int(),maxWidth:m.number().int().optional(),maxHeight:m.number().int().optional(),maxArea:m.number().int().optional(),sizes:qi.array().optional(),tiles:Hi.array().optional(),extraFeatures:m.string().array().optional()}),_a=m.object({"@id":m.string().url(),profile:ba.or(Tr),width:m.number().int().optional(),height:m.number().int().optional(),"@context":$i.or(m.literal("http://iiif.io/api/image/1/context.json")).or(Yi).optional()}),Ea=["level0","level1","level2"],Ia=["ImageService1","ImageService2","ImageService3"],Sa=m.object({id:m.string().url(),type:m.literal("ImageService2"),profile:Tr}).or(m.object({"@id":m.string().url(),"@type":m.literal("ImageService2"),profile:Tr})),Aa=m.object({id:m.string().url(),type:m.enum(Ia),profile:m.enum(Ea)}),Ra=m.union([Sa,Aa]),Ji=_a.or(Ra),Qn=m.string().or(m.number()).or(m.boolean()),Ki=Qn.or(Qn.array()),ti=m.object({"@language":m.string().optional(),"@value":Ki}),Jt=Ki.or(ti).or(ti.array()),Ca=m.object({label:Jt.optional(),value:Jt.optional()}),Qi=Ca.array(),Pa=m.object({width:m.number().int().optional(),height:m.number().int().optional(),service:Ji}),ka=m.object({resource:Pa}),ts=m.object({"@id":m.string().url(),"@type":m.literal("sc:Canvas"),width:m.number().int(),height:m.number().int(),images:ka.array().length(1),label:Jt.optional(),metadata:Qi.optional()}),Oa=m.object({canvases:ts.array().nonempty()}),es=m.object({"@id":m.string().url(),"@type":m.literal("sc:Manifest"),sequences:Oa.array().length(1),label:Jt.optional(),description:Jt.optional(),metadata:Qi.optional()}),ei=m.lazy(()=>m.object({"@id":m.string().url(),"@type":m.literal("sc:Manifest"),label:Jt.optional()})),dn=m.lazy(()=>m.object({"@id":m.string().url(),"@type":m.literal("sc:Collection"),label:Jt.optional(),manifests:ei.array().optional(),collections:dn.array().optional(),members:ei.or(dn).array().optional()})),Na=m.string().or(m.number()).or(m.boolean()),Kt=m.record(m.string(),Na.array()),La=m.object({label:Kt.optional(),value:Kt.optional()}),rs=La.array(),ri=m.object({type:m.literal("Image"),width:m.number().int().optional(),height:m.number().int().optional(),service:Ji.array()}),Da=m.object({type:m.literal("Annotation"),body:ri.or(ri.array().length(1))}),Ba=m.object({type:m.literal("AnnotationPage"),items:Da.array().length(1)}),ns=m.object({id:m.string().url(),type:m.literal("Canvas"),width:m.number().int(),height:m.number().int(),items:Ba.array().length(1),label:Kt.optional(),metadata:rs.optional()}),is=m.object({id:m.string().url(),type:m.literal("Manifest"),items:ns.array().nonempty(),label:Kt.optional(),description:Kt.optional(),metadata:rs.optional()}),ja=m.lazy(()=>m.object({id:m.string().url(),type:m.literal("Manifest"),label:Kt.optional()})),ss=m.lazy(()=>m.object({id:m.string().url(),type:m.literal("Collection"),label:Kt.optional(),items:ja.or(ss).array()})),os=Xi.or(En).or(In);ts.or(ns);const Ga=es.or(is);dn.or(ss);es.or(En);is.or(In);Ga.or(os);function as({width:F,height:W},q,X,tt){const ot=X*q.originalWidth,at=tt*q.originalHeight,ut=X*q.originalWidth+q.width*q.scaleFactor>F?F-X*q.originalWidth:q.width*q.scaleFactor,wt=tt*q.originalHeight+q.height*q.scaleFactor>W?W-tt*q.originalHeight:q.height*q.scaleFactor;let uo=q.width,mo=q.height;return ot+q.width*q.scaleFactor>F&&(uo=Math.floor((F-ot+q.scaleFactor-1)/q.scaleFactor)),at+q.height*q.scaleFactor>W&&(mo=Math.floor((W-at+q.scaleFactor-1)/q.scaleFactor)),{region:{x:ot,y:at,width:ut,height:wt},size:{width:uo,height:mo}}}function Fa({width:F,height:W},q=768){const X=Math.max(F,W)/q,tt=Math.ceil(Math.log(X)/Math.log(2));return{scaleFactors:Array.from({length:tt},(ot,at)=>2**at),width:q}}function Ua({width:F,height:W},q,X){const tt=q.height||q.width,ot=q.width*X,at=tt*X;return{scaleFactor:X,width:q.width,height:tt,originalWidth:ot,originalHeight:at,columns:Math.ceil(F/ot),rows:Math.ceil(W/at)}}function Wa(F,W){return W.map(q=>q.scaleFactors.map(X=>Ua(F,q,X))).flat()}function Va(F){return!!F.some(W=>W.width&&W.scaleFactors&&W.scaleFactors.length)}function za(F,W,q){if(!W||!Va(W))if(q)W=[Fa(F)];else throw new Error("Image does not support tiles or custom regions and sizes.");return Wa(F,W)}function Za(F,W,q="cover"){if(q==="cover"||q==="contain"){const X=W.width/F.width,tt=W.height/F.height,ot=q==="cover"?Math.max(X,tt):Math.min(X,tt),at=F.width*ot,ut=F.height*ot;return{width:at,height:ut}}else throw new Error('Mode must be either "cover" or "contain"')}const $a=.8,Xa=1.5;function hs(F,W,q="cover",{sizes:X,tileZoomLevels:tt,supportsAnyRegionAndSize:ot,maxWidth:at,maxHeight:ut,maxArea:wt}){let{width:uo,height:mo}=Za(F,W,q);if(at&&uo>at&&(mo=mo/uo*at,uo=at),ut&&mo>ut&&(uo=uo/mo*ut,mo=ut),wt&&uo*mo>wt){const lf=mo/uo,uf=Math.floor(Math.sqrt(wt/lf))*lf;uo=Math.floor(uf)/lf,mo=uo*lf}const yo=F.width/F.height;if(uo=Math.floor(uo),mo=Math.round(uo/yo),X){let lf;for(const uf of X){const df=uf.width/uo;if(df>=$a&&df<=Xa){lf=uf;break}}if(lf)return{size:lf}}if(ot)return{size:{width:Math.round(uo),height:Math.round(mo)}};if(tt){const lf=F.width/uo,uf=tt.map(({scaleFactor:_f},po)=>({index:po,scaleFactor:_f,diff:Math.abs(_f-lf)})).sort((_f,po)=>_f.diff-po.diff),df=tt[uf[0].index],wf=Math.ceil(F.width/(df.scaleFactor*tt[0].width)),wo=Math.ceil(F.height/(df.scaleFactor*tt[0].height)),ls=[];for(let _f=0;_f<wo;_f++){const po=[];for(let xo=0;xo<wf;xo++){const gf=as(F,df,xo,_f);po.push(gf)}ls.push(po)}return ls}throw new Error("Unable to create thumbnail")}const cs=["regionByPx","sizeByWh"];function qa(F){const W=F.match(Or);if(W&&W.groups)return parseInt(W.groups.level)}function ni(F){const W=F.match(Nr);if(W&&W.groups)return parseInt(W.groups.level)}function Ha(F){return{maxWidth:F==null?void 0:F.maxWidth,maxHeight:F==null?void 0:F.maxHeight,maxArea:F==null?void 0:F.maxArea,supportsAnyRegionAndSize:cs.every(W=>{var q;return(F==null?void 0:F.supports)&&((q=F==null?void 0:F.supports)==null?void 0:q.includes(W))})}}function Ya(F){if("type"in F&&F.type==="ImageService3")return 3;if("type"in F&&F.type==="ImageService2"||"@type"in F&&F["@type"]==="ImageService2"||"@context"in F&&F["@context"]===Mr)return 2;if("@context"in F&&(F["@context"]===br||F["@context"]===Zi))return 1;if("profile"in F){let W;return Array.isArray(F.profile)?W=F.profile[0]:W=F.profile,W.match(Or)?1:W.match(Nr)?2:3}else throw new Error("Unsupported IIIF Image Service")}function fn(F){if("type"in F){const W=F.profile;let q=!1;return W==="level0"||typeof W=="string"&&W.endsWith("level0.json")?"extraFeatures"in F&&(q=cs.every(X=>F.extraFeatures&&F.extraFeatures.includes(X))):q=!0,{maxWidth:"maxWidth"in F?F.maxWidth:void 0,maxHeight:"maxHeight"in F?F.maxHeight:void 0,maxArea:"maxArea"in F?F.maxArea:void 0,supportsAnyRegionAndSize:q}}else if(Array.isArray(F.profile)){let W=!1,q=Number.NEGATIVE_INFINITY,X=Number.NEGATIVE_INFINITY,tt=Number.NEGATIVE_INFINITY;return F.profile.forEach(ot=>{if(typeof ot=="string"){const at=ni(ot);at&&(W=W||at>=1)}else{const{maxWidth:at,maxHeight:ut,maxArea:wt,supportsAnyRegionAndSize:uo}=Ha(ot);at!==void 0&&(X=Math.max(at,X)),ut!==void 0&&(q=Math.max(ut,q)),wt!==void 0&&(tt=Math.max(wt,tt)),W=W||uo}}),{maxWidth:X>=0?X:void 0,maxHeight:q>=0?q:void 0,maxArea:tt>=0?tt:void 0,supportsAnyRegionAndSize:W}}else if("profile"in F&&F.profile){const W=qa(F.profile),q=ni(F.profile);return W?{supportsAnyRegionAndSize:W>=1}:q?{supportsAnyRegionAndSize:q>=1}:{supportsAnyRegionAndSize:!1}}else throw new Error("Invalid Image")}const Ja="image";class Ka{constructor(W,q){if(this.embedded=!0,this.type=Ja,q){const X=W;let tt,ot;if(Array.isArray(X.service)?X.service.forEach(at=>{try{const ut=Ya(at);(!ot||ut>ot)&&(ot=ut,tt=at)}catch{}}):tt=X.service,!tt)throw new Error("Unsupported IIIF Image Service");if("@id"in tt)this.uri=tt["@id"];else if("id"in tt)this.uri=tt.id;else throw new Error("Unsupported IIIF Image Service");if("type"in tt&&tt.type==="ImageService3")this.majorVersion=3;else if("type"in tt&&tt.type==="ImageService2"||"@type"in tt&&tt["@type"]==="ImageService2"||"@context"in tt&&tt["@context"]===Mr)this.majorVersion=2;else if("@context"in tt&&(tt["@context"]===br||tt["@context"]===Zi))this.majorVersion=1;else if("profile"in tt){let at;Array.isArray(tt.profile)?at=tt.profile[0]:at=tt.profile,at.match(Or)?this.majorVersion=1:at.match(Nr)?this.majorVersion=2:this.majorVersion=3}else throw new Error("Unsupported IIIF Image Service");if("profile"in tt){const at=fn(tt);this.supportsAnyRegionAndSize=at.supportsAnyRegionAndSize,this.maxWidth=at.maxWidth,this.maxHeight=at.maxHeight,this.maxArea=at.maxArea}else this.supportsAnyRegionAndSize=!1}else{if("@id"in W)this.uri=W["@id"];else if("id"in W)this.uri=W.id;else throw new Error("Unsupported IIIF Image");if("type"in W&&W.type==="ImageService3")this.majorVersion=3;else if("@type"in W&&W["@type"]==="iiif:Image"||"@context"in W&&W["@context"]===Mr)this.majorVersion=2;else if("@context"in W&&W["@context"]===br)this.majorVersion=1;else throw new Error("Unsupported IIIF Image");if("profile"in W){const X=fn(W);this.supportsAnyRegionAndSize=X.supportsAnyRegionAndSize,this.maxWidth=X.maxWidth,this.maxHeight=X.maxHeight,this.maxArea=X.maxArea}else this.supportsAnyRegionAndSize=!1}if(W.width!==void 0)this.width=W.width;else if(q)this.width=q.width;else throw new Error("Width not present on either Canvas or Image Resource");if(W.height!==void 0)this.height=W.height;else if(q)this.height=q.height;else throw new Error("Height not present on either Canvas or Image Resource")}getImageUrl(W){const{region:q,size:X}=W;let tt,ot,at,ut,wt;q?(wt=`${q.x},${q.y},${q.width},${q.height}`,at=q.height,ut=q.width):(wt="full",at=this.height,ut=this.width);let uo;if(X){tt=Math.round(X.width),ot=Math.round(X.height);const lf=String(tt);let uf=String(ot);const df=ut/at,wf=ot*df/df;ot===Math.round(wf)&&(uf=""),uo=`${lf},${uf}`}else tt=this.width,ot=this.height,uo=this.majorVersion===2?"full":"max";const mo=tt*ot;if(this.maxWidth!==void 0&&tt>this.maxWidth)throw new Error(`Width of requested image is too large: ${tt} > ${this.maxWidth}`);if(this.maxHeight!==void 0&&ot>this.maxHeight)throw new Error(`Height of requested image is too large: ${ot} > ${this.maxHeight}`);if(this.maxArea!==void 0&&mo>this.maxArea)throw new Error(`Area of requested image is too large: ${mo} > ${this.maxArea}`);const yo=this.majorVersion===1?"native":"default";return`${this.uri}/${wt}/${uo}/0/${yo}.jpg`}getThumbnail(W,q="cover"){return hs({width:this.width,height:this.height},W,q,{supportsAnyRegionAndSize:this.supportsAnyRegionAndSize,maxWidth:this.maxWidth,maxHeight:this.maxHeight,maxArea:this.maxArea})}}let Qa=class yP extends Ka{constructor(W){super(W),this.embedded=!1;const q=fn(W);let X;"tiles"in W&&(X=W.tiles),this.tileZoomLevels=za({width:this.width,height:this.height},X,q.supportsAnyRegionAndSize),"sizes"in W&&(this.sizes=W.sizes)}static parse(W,q=null){let X;return q===1?X=Xi.parse(W):q===2?X=En.parse(W):q===3?X=In.parse(W):X=os.parse(W),new yP(X)}getIiifTile(W,q,X){return as({width:this.width,height:this.height},W,q,X)}getThumbnail(W,q="cover"){return hs({width:this.width,height:this.height},W,q,{supportsAnyRegionAndSize:this.supportsAnyRegionAndSize,sizes:this.sizes,tileZoomLevels:this.tileZoomLevels,maxWidth:this.maxWidth,maxHeight:this.maxHeight,maxArea:this.maxArea})}};const ii=m.record(m.string(),m.string().array());m.object({label:ii.optional(),value:ii.optional()});var gt=63710088e-1,us={centimeters:gt*100,centimetres:gt*100,degrees:gt/111325,feet:gt*3.28084,inches:gt*39.37,kilometers:gt/1e3,kilometres:gt/1e3,meters:gt,metres:gt,miles:gt/1609.344,millimeters:gt*1e3,millimetres:gt*1e3,nauticalmiles:gt/1852,radians:1,yards:gt*1.0936};function th(F,W,q){q===void 0&&(q={});var X={type:"Feature"};return(q.id===0||q.id)&&(X.id=q.id),q.bbox&&(X.bbox=q.bbox),X.properties=W||{},X.geometry=F,X}function eh(F,W,q){if(q===void 0&&(q={}),!F)throw new Error("coordinates is required");if(!Array.isArray(F))throw new Error("coordinates must be an Array");if(F.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!si(F[0])||!si(F[1]))throw new Error("coordinates must contain numbers");var X={type:"Point",coordinates:F};return th(X,W,q)}function rh(F,W){W===void 0&&(W="kilometers");var q=us[W];if(!q)throw new Error(W+" units is invalid");return F*q}function nh(F,W){W===void 0&&(W="kilometers");var q=us[W];if(!q)throw new Error(W+" units is invalid");return F/q}function pn(F){var W=F%(2*Math.PI);return W*180/Math.PI}function Mt(F){var W=F%360;return W*Math.PI/180}function si(F){return!isNaN(F)&&F!==null&&!Array.isArray(F)}function ce(F){if(!F)throw new Error("coord is required");if(!Array.isArray(F)){if(F.type==="Feature"&&F.geometry!==null&&F.geometry.type==="Point")return F.geometry.coordinates;if(F.type==="Point")return F.coordinates}if(Array.isArray(F)&&F.length>=2&&!Array.isArray(F[0])&&!Array.isArray(F[1]))return F;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function ih(F){return F.type==="Feature"?F.geometry:F}function ds(F,W,q){if(q===void 0&&(q={}),q.final===!0)return sh(F,W);var X=ce(F),tt=ce(W),ot=Mt(X[0]),at=Mt(tt[0]),ut=Mt(X[1]),wt=Mt(tt[1]),uo=Math.sin(at-ot)*Math.cos(wt),mo=Math.cos(ut)*Math.sin(wt)-Math.sin(ut)*Math.cos(wt)*Math.cos(at-ot);return pn(Math.atan2(uo,mo))}function sh(F,W){var q=ds(W,F);return q=(q+180)%360,q}function oh(F,W,q,X){X===void 0&&(X={});var tt=ce(F),ot=Mt(tt[0]),at=Mt(tt[1]),ut=Mt(q),wt=nh(W,X.units),uo=Math.asin(Math.sin(at)*Math.cos(wt)+Math.cos(at)*Math.sin(wt)*Math.cos(ut)),mo=ot+Math.atan2(Math.sin(ut)*Math.sin(wt)*Math.cos(at),Math.cos(wt)-Math.sin(at)*Math.sin(uo)),yo=pn(mo),lf=pn(uo);return eh([yo,lf],X.properties)}function Sn(F,W,q){q===void 0&&(q={});var X=ce(F),tt=ce(W),ot=Mt(tt[1]-X[1]),at=Mt(tt[0]-X[0]),ut=Mt(X[1]),wt=Mt(tt[1]),uo=Math.pow(Math.sin(ot/2),2)+Math.pow(Math.sin(at/2),2)*Math.cos(ut)*Math.cos(wt);return rh(2*Math.atan2(Math.sqrt(uo),Math.sqrt(1-uo)),q.units)}function _r(F,W){var q=Sn(F,W),X=ds(F,W),tt=oh(F,q/2,X);return tt}async function fs(F,W={}){let q;if(W.cache&&(q=await W.cache.match(F)),q||(q=await fetch(F,{signal:W.abortSignal}),W.cache&&W.cache.put(F,q.clone())),!q.ok)throw new Error(q.statusText);return q}async function ah(F,W={}){return await(await fs(F,W)).json()}async function hh(F,W={}){return await ah(`${F}/info.json`,W)}function ch(F,W){return new Promise((q,X)=>{const tt=new Image;let ot=!1;tt.addEventListener("load",()=>q(tt)),tt.addEventListener("error",async()=>{if(ot)X(new DOMException("Loading image aborted by user","AbortError"));else try{throw await fs(F,{abortSignal:W}),new Error("Image failed to load by setting Image src but downloaded successfully using fetch")}catch(at){X(at)}}),tt.crossOrigin="anonymous",tt.src=F,W&&W.addEventListener("abort",()=>{ot=!0,tt.src=""})})}function ps(F,W=!1){switch(F.type){case"Polygon":return F.coordinates?{...F,coordinates:oi(F.coordinates,W)}:F;case"MultiPolygon":return F.coordinates?{...F,coordinates:F.coordinates.map(q=>oi(q,W))}:F;case"GeometryCollection":return{...F,geometries:F.geometries.map(q=>ps(q,W))};default:return F}}function oi(F,W){if(F.length===0)return F;const q=[];for(let X=0;X<F.length;X++)q.push(lh(F[X],X===0?W:!W));return q}function lh(F,W){let q=0,X=0;for(let tt=0,ot=F.length,at=ot-1;tt<ot;at=tt++){const ut=(F[tt][0]-F[at][0])*(F[at][1]+F[tt][1]),wt=q+ut;X+=Math.abs(q)>=Math.abs(ut)?q-wt+ut:ut-wt+q,q=wt}return q+X>=0!=!!W?F.slice().reverse():F}function mt(F){return Array.isArray(F)&&F.length===2&&typeof F[0]=="number"&&typeof F[1]=="number"}function At(F){return Array.isArray(F)&&F.every(mt)}function uh(F){return Array.isArray(F)&&F.every(mt)}function Rt(F){return Array.isArray(F)&&F.every(uh)}function gs(F){if(F=F.filter(function(W,q,X){return q===0||!Rn(W,X[q-1])}),F.length<2)throw new Error("LineString should contain at least 2 points");return F}function An(F){if(F=F.filter(function(W,q,X){return q===0||!Rn(W,X[q-1])}),fh(F)&&F.splice(-1),F.length<3)throw new Error("Ring should contain at least 3 points");return F}function dh(F){return F.map(W=>An(W))}function ze(F){return{type:"Point",coordinates:F}}function Ze(F){return{type:"LineString",coordinates:F}}function $e(F,W=!0){const q={type:"Polygon",coordinates:W?F.map(X=>[...X,X[0]]):F};return ps(q)}function fh(F){return Array.isArray(F)&&F.length>=2&&Rn(F[0],F[F.length-1])}function Rn(F,W){return F===W?!0:F==null||W==null?!1:F[0]==W[0]&&F[1]==W[1]}function Er(F,W){return[(W[0]-F[0])/2+F[0],(W[1]-F[1])/2+F[1]]}function ph(F,W,q){return[F[0]*q+W[0]*(1-q),F[1]*q+W[1]*(1-q)]}function jt(F,W){if(At(F)&&F.length==2)return jt(F[0],F[1]);if(mt(F)&&mt(W))return Math.sqrt((W[0]-F[0])**2+(W[1]-F[1])**2);throw new Error("Input type not supported")}function gh(F){return F*(Math.PI/180)}function Ot(F){return typeof F=="object"&&F!==null&&F.type==="Point"&&mt(F.coordinates)}function Nt(F){return typeof F=="object"&&F!==null&&F.type==="LineString"&&At(F.coordinates)}function Lt(F){return typeof F=="object"&&F!==null&&F.type==="Polygon"&&Array.isArray(F.coordinates)&&Rt(F.coordinates)}function mh(F){const W=typeof F=="object"&&F!==null,q=W&&"type"in F&&typeof F.type=="string"&&(F.type==="Point"||F.type==="LineString"||F.type==="Polygon"),X=W&&"coordinates"in F&&Array.isArray(F.coordinates);return q&&X}function ye(F){return F.coordinates}function ve(F){return F.coordinates}function we(F,W=!1){let q=F.coordinates;return q=dh(q),W?q.map(X=>[...X,X[0]]):q}function yh(F){if(Ot(F))return ye(F);if(Nt(F))return ve(F);if(Lt(F))return we(F);throw new Error("Geometry type not supported")}function ai(F){let W=Number.POSITIVE_INFINITY,q=Number.NEGATIVE_INFINITY;for(const X of F)W===void 0?X>=X&&(W=q=X):(W>X&&(W=X),q<X&&(q=X));return[W,q]}function st(F){if(mt(F)&&(F=[F]),Rt(F)&&(F=F.flat()),mh(F))return st(yh(F));const W=[],q=[];for(const ut of F)W.push(ut[0]),q.push(ut[1]);const[X,tt]=ai(W),[ot,at]=ai(q);return[X,ot,tt,at]}function hi(F,W){return[Math.min(F[0],W[0]),Math.min(F[1],W[1]),Math.max(F[2],W[2]),Math.max(F[3],W[3])]}function vh(F,W){const q=F[2]>=W[0]&&W[2]>=F[0],X=F[3]>=W[1]&&W[3]>=F[1];return q&&X}function De(F){return[[F[0],F[1]],[F[2],F[1]],[F[2],F[3]],[F[0],F[3]]]}function wh(F){return[De(F)]}function ms$1(F){return[[F[0],F[1]],[F[2],F[3]]]}function xh(F){return jt(ms$1(F))}function bh(F){return jt(ms$1(st(F)))}function gn(F){return[(F[0]+F[2])/2,(F[1]+F[3])/2]}function Ir(F){return[F[2]-F[0],F[3]-F[1]]}function ys(F,W){const q=F[0]/W[0],X=F[1]/W[1];return Math.min(q,X)}function $r(F,W){return ys(Ir(F),Ir(W))}function Th(F){const W=parseInt(F.replace(/^#/,""),16),q=W>>16&255,X=W>>8&255,tt=W&255;return[q,X,tt]}function ci(F){return Th(F).map(W=>W/255)}function Mh(F,W){return!F||!W||F.size!==W.size?!1:[...F].every(q=>W.has(q))}function li(F,W){if(F!==void 0&&W!==void 0)return Math.max(F,W);if(F!==void 0)return F;if(W!==void 0)return W}function _h(F){let W;try{W=new URL(F)}catch{return!1}return W.protocol==="http:"||W.protocol==="https:"}function Eh([F,W]){const q=6378137*gh(F),X=q/F,tt=180/Math.PI*Math.log(Math.tan(Math.PI/4+W*(Math.PI/180)/2))*X;return[q,tt]}function ui([F,W]){const q=Math.PI*6378137,X=F/q*180;let tt=W/q*180;return tt=180/Math.PI*(2*Math.atan(Math.exp(tt*Math.PI/180))-Math.PI/2),[X,tt]}var Ih=Object.defineProperty,Sh=(F,W,q)=>W in F?Ih(F,W,{enumerable:!0,configurable:!0,writable:!0,value:q}):F[W]=q,Ah=(F,W,q)=>(Sh(F,typeof W!="symbol"?W+"":W,q),q),Cn=(F,W,q)=>{if(!W.has(F))throw TypeError("Cannot "+q)},St=(F,W,q)=>(Cn(F,W,"read from private field"),q?q.call(F):W.get(F)),Te=(F,W,q)=>{if(W.has(F))throw TypeError("Cannot add the same private member more than once");W instanceof WeakSet?W.add(F):W.set(F,q)},Xr=(F,W,q,X)=>(Cn(F,W,"write to private field"),X?X.call(F,q):W.set(F,q),q),le=(F,W,q)=>(Cn(F,W,"access private method"),q);function vs(F){if(F.__esModule)return F;var W=F.default;if(typeof W=="function"){var q=function X(){return this instanceof X?Reflect.construct(W,arguments,this.constructor):W.apply(this,arguments)};q.prototype=W.prototype}else q={};return Object.defineProperty(q,"__esModule",{value:!0}),Object.keys(F).forEach(function(X){var tt=Object.getOwnPropertyDescriptor(F,X);Object.defineProperty(q,X,tt.get?tt:{enumerable:!0,get:function(){return F[X]}})}),q}var $={};const Rh=Object.prototype.toString;function Be(F){const W=Rh.call(F);return W.endsWith("Array]")&&!W.includes("Big")}const Ch=Object.freeze(Object.defineProperty({__proto__:null,isAnyArray:Be},Symbol.toStringTag,{value:"Module"})),Ph=vs(Ch);function kh(F){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Be(F))throw new TypeError("input must be an array");if(F.length===0)throw new TypeError("input must not be empty");var q=W.fromIndex,X=q===void 0?0:q,tt=W.toIndex,ot=tt===void 0?F.length:tt;if(X<0||X>=F.length||!Number.isInteger(X))throw new Error("fromIndex must be a positive integer smaller than length");if(ot<=X||ot>F.length||!Number.isInteger(ot))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var at=F[X],ut=X+1;ut<ot;ut++)F[ut]>at&&(at=F[ut]);return at}function Oh(F){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Be(F))throw new TypeError("input must be an array");if(F.length===0)throw new TypeError("input must not be empty");var q=W.fromIndex,X=q===void 0?0:q,tt=W.toIndex,ot=tt===void 0?F.length:tt;if(X<0||X>=F.length||!Number.isInteger(X))throw new Error("fromIndex must be a positive integer smaller than length");if(ot<=X||ot>F.length||!Number.isInteger(ot))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var at=F[X],ut=X+1;ut<ot;ut++)F[ut]<at&&(at=F[ut]);return at}function Nh(F){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Be(F)){if(F.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var q;if(W.output!==void 0){if(!Be(W.output))throw new TypeError("output option must be an array if specified");q=W.output}else q=new Array(F.length);var X=Oh(F),tt=kh(F);if(X===tt)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var ot=W.min,at=ot===void 0?W.autoMinMax?X:0:ot,ut=W.max,wt=ut===void 0?W.autoMinMax?tt:1:ut;if(at>=wt)throw new RangeError("min option must be smaller than max option");for(var uo=(wt-at)/(tt-X),mo=0;mo<F.length;mo++)q[mo]=(F[mo]-X)*uo+at;return q}const Lh=Object.freeze(Object.defineProperty({__proto__:null,default:Nh},Symbol.toStringTag,{value:"Module"})),Dh=vs(Lh);Object.defineProperty($,"__esModule",{value:!0});var yt=Ph,di=Dh;const Xe=" ".repeat(2),ws=" ".repeat(4);function Bh(){return xs(this)}function xs(F,W={}){const{maxRows:q=15,maxColumns:X=10,maxNumSize:tt=8,padMinus:ot="auto"}=W;return`${F.constructor.name} {
${Xe}[
${ws}${jh(F,q,X,tt,ot)}
${Xe}]
${Xe}rows: ${F.rows}
${Xe}columns: ${F.columns}
}`}function jh(F,W,q,X,tt){const{rows:ot,columns:at}=F,ut=Math.min(ot,W),wt=Math.min(at,q),uo=[];if(tt==="auto"){tt=!1;e:for(let mo=0;mo<ut;mo++)for(let yo=0;yo<wt;yo++)if(F.get(mo,yo)<0){tt=!0;break e}}for(let mo=0;mo<ut;mo++){let yo=[];for(let lf=0;lf<wt;lf++)yo.push(Gh(F.get(mo,lf),X,tt));uo.push(`${yo.join(" ")}`)}return wt!==at&&(uo[uo.length-1]+=` ... ${at-q} more columns`),ut!==ot&&uo.push(`... ${ot-W} more rows`),uo.join(`
${ws}`)}function Gh(F,W,q){return(F>=0&&q?` ${fi(F,W-1)}`:fi(F,W)).padEnd(W)}function fi(F,W){let q=F.toString();if(q.length<=W)return q;let X=F.toFixed(W);if(X.length>W&&(X=F.toFixed(Math.max(0,W-(X.length-W)))),X.length<=W&&!X.startsWith("0.000")&&!X.startsWith("-0.000"))return X;let tt=F.toExponential(W);return tt.length>W&&(tt=F.toExponential(Math.max(0,W-(tt.length-W)))),tt.slice(0)}function Fh(F,W){F.prototype.add=function(q){return typeof q=="number"?this.addS(q):this.addM(q)},F.prototype.addS=function(q){for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)+q);return this},F.prototype.addM=function(q){if(q=W.checkMatrix(q),this.rows!==q.rows||this.columns!==q.columns)throw new RangeError("Matrices dimensions must be equal");for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)+q.get(X,tt));return this},F.add=function(q,X){return new W(q).add(X)},F.prototype.sub=function(q){return typeof q=="number"?this.subS(q):this.subM(q)},F.prototype.subS=function(q){for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)-q);return this},F.prototype.subM=function(q){if(q=W.checkMatrix(q),this.rows!==q.rows||this.columns!==q.columns)throw new RangeError("Matrices dimensions must be equal");for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)-q.get(X,tt));return this},F.sub=function(q,X){return new W(q).sub(X)},F.prototype.subtract=F.prototype.sub,F.prototype.subtractS=F.prototype.subS,F.prototype.subtractM=F.prototype.subM,F.subtract=F.sub,F.prototype.mul=function(q){return typeof q=="number"?this.mulS(q):this.mulM(q)},F.prototype.mulS=function(q){for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)*q);return this},F.prototype.mulM=function(q){if(q=W.checkMatrix(q),this.rows!==q.rows||this.columns!==q.columns)throw new RangeError("Matrices dimensions must be equal");for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)*q.get(X,tt));return this},F.mul=function(q,X){return new W(q).mul(X)},F.prototype.multiply=F.prototype.mul,F.prototype.multiplyS=F.prototype.mulS,F.prototype.multiplyM=F.prototype.mulM,F.multiply=F.mul,F.prototype.div=function(q){return typeof q=="number"?this.divS(q):this.divM(q)},F.prototype.divS=function(q){for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)/q);return this},F.prototype.divM=function(q){if(q=W.checkMatrix(q),this.rows!==q.rows||this.columns!==q.columns)throw new RangeError("Matrices dimensions must be equal");for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)/q.get(X,tt));return this},F.div=function(q,X){return new W(q).div(X)},F.prototype.divide=F.prototype.div,F.prototype.divideS=F.prototype.divS,F.prototype.divideM=F.prototype.divM,F.divide=F.div,F.prototype.mod=function(q){return typeof q=="number"?this.modS(q):this.modM(q)},F.prototype.modS=function(q){for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)%q);return this},F.prototype.modM=function(q){if(q=W.checkMatrix(q),this.rows!==q.rows||this.columns!==q.columns)throw new RangeError("Matrices dimensions must be equal");for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)%q.get(X,tt));return this},F.mod=function(q,X){return new W(q).mod(X)},F.prototype.modulus=F.prototype.mod,F.prototype.modulusS=F.prototype.modS,F.prototype.modulusM=F.prototype.modM,F.modulus=F.mod,F.prototype.and=function(q){return typeof q=="number"?this.andS(q):this.andM(q)},F.prototype.andS=function(q){for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)&q);return this},F.prototype.andM=function(q){if(q=W.checkMatrix(q),this.rows!==q.rows||this.columns!==q.columns)throw new RangeError("Matrices dimensions must be equal");for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)&q.get(X,tt));return this},F.and=function(q,X){return new W(q).and(X)},F.prototype.or=function(q){return typeof q=="number"?this.orS(q):this.orM(q)},F.prototype.orS=function(q){for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)|q);return this},F.prototype.orM=function(q){if(q=W.checkMatrix(q),this.rows!==q.rows||this.columns!==q.columns)throw new RangeError("Matrices dimensions must be equal");for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)|q.get(X,tt));return this},F.or=function(q,X){return new W(q).or(X)},F.prototype.xor=function(q){return typeof q=="number"?this.xorS(q):this.xorM(q)},F.prototype.xorS=function(q){for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)^q);return this},F.prototype.xorM=function(q){if(q=W.checkMatrix(q),this.rows!==q.rows||this.columns!==q.columns)throw new RangeError("Matrices dimensions must be equal");for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)^q.get(X,tt));return this},F.xor=function(q,X){return new W(q).xor(X)},F.prototype.leftShift=function(q){return typeof q=="number"?this.leftShiftS(q):this.leftShiftM(q)},F.prototype.leftShiftS=function(q){for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)<<q);return this},F.prototype.leftShiftM=function(q){if(q=W.checkMatrix(q),this.rows!==q.rows||this.columns!==q.columns)throw new RangeError("Matrices dimensions must be equal");for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)<<q.get(X,tt));return this},F.leftShift=function(q,X){return new W(q).leftShift(X)},F.prototype.signPropagatingRightShift=function(q){return typeof q=="number"?this.signPropagatingRightShiftS(q):this.signPropagatingRightShiftM(q)},F.prototype.signPropagatingRightShiftS=function(q){for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)>>q);return this},F.prototype.signPropagatingRightShiftM=function(q){if(q=W.checkMatrix(q),this.rows!==q.rows||this.columns!==q.columns)throw new RangeError("Matrices dimensions must be equal");for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)>>q.get(X,tt));return this},F.signPropagatingRightShift=function(q,X){return new W(q).signPropagatingRightShift(X)},F.prototype.rightShift=function(q){return typeof q=="number"?this.rightShiftS(q):this.rightShiftM(q)},F.prototype.rightShiftS=function(q){for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)>>>q);return this},F.prototype.rightShiftM=function(q){if(q=W.checkMatrix(q),this.rows!==q.rows||this.columns!==q.columns)throw new RangeError("Matrices dimensions must be equal");for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)>>>q.get(X,tt));return this},F.rightShift=function(q,X){return new W(q).rightShift(X)},F.prototype.zeroFillRightShift=F.prototype.rightShift,F.prototype.zeroFillRightShiftS=F.prototype.rightShiftS,F.prototype.zeroFillRightShiftM=F.prototype.rightShiftM,F.zeroFillRightShift=F.rightShift,F.prototype.not=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,~this.get(q,X));return this},F.not=function(q){return new W(q).not()},F.prototype.abs=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.abs(this.get(q,X)));return this},F.abs=function(q){return new W(q).abs()},F.prototype.acos=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.acos(this.get(q,X)));return this},F.acos=function(q){return new W(q).acos()},F.prototype.acosh=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.acosh(this.get(q,X)));return this},F.acosh=function(q){return new W(q).acosh()},F.prototype.asin=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.asin(this.get(q,X)));return this},F.asin=function(q){return new W(q).asin()},F.prototype.asinh=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.asinh(this.get(q,X)));return this},F.asinh=function(q){return new W(q).asinh()},F.prototype.atan=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.atan(this.get(q,X)));return this},F.atan=function(q){return new W(q).atan()},F.prototype.atanh=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.atanh(this.get(q,X)));return this},F.atanh=function(q){return new W(q).atanh()},F.prototype.cbrt=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.cbrt(this.get(q,X)));return this},F.cbrt=function(q){return new W(q).cbrt()},F.prototype.ceil=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.ceil(this.get(q,X)));return this},F.ceil=function(q){return new W(q).ceil()},F.prototype.clz32=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.clz32(this.get(q,X)));return this},F.clz32=function(q){return new W(q).clz32()},F.prototype.cos=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.cos(this.get(q,X)));return this},F.cos=function(q){return new W(q).cos()},F.prototype.cosh=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.cosh(this.get(q,X)));return this},F.cosh=function(q){return new W(q).cosh()},F.prototype.exp=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.exp(this.get(q,X)));return this},F.exp=function(q){return new W(q).exp()},F.prototype.expm1=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.expm1(this.get(q,X)));return this},F.expm1=function(q){return new W(q).expm1()},F.prototype.floor=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.floor(this.get(q,X)));return this},F.floor=function(q){return new W(q).floor()},F.prototype.fround=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.fround(this.get(q,X)));return this},F.fround=function(q){return new W(q).fround()},F.prototype.log=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.log(this.get(q,X)));return this},F.log=function(q){return new W(q).log()},F.prototype.log1p=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.log1p(this.get(q,X)));return this},F.log1p=function(q){return new W(q).log1p()},F.prototype.log10=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.log10(this.get(q,X)));return this},F.log10=function(q){return new W(q).log10()},F.prototype.log2=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.log2(this.get(q,X)));return this},F.log2=function(q){return new W(q).log2()},F.prototype.round=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.round(this.get(q,X)));return this},F.round=function(q){return new W(q).round()},F.prototype.sign=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.sign(this.get(q,X)));return this},F.sign=function(q){return new W(q).sign()},F.prototype.sin=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.sin(this.get(q,X)));return this},F.sin=function(q){return new W(q).sin()},F.prototype.sinh=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.sinh(this.get(q,X)));return this},F.sinh=function(q){return new W(q).sinh()},F.prototype.sqrt=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.sqrt(this.get(q,X)));return this},F.sqrt=function(q){return new W(q).sqrt()},F.prototype.tan=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.tan(this.get(q,X)));return this},F.tan=function(q){return new W(q).tan()},F.prototype.tanh=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.tanh(this.get(q,X)));return this},F.tanh=function(q){return new W(q).tanh()},F.prototype.trunc=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.trunc(this.get(q,X)));return this},F.trunc=function(q){return new W(q).trunc()},F.pow=function(q,X){return new W(q).pow(X)},F.prototype.pow=function(q){return typeof q=="number"?this.powS(q):this.powM(q)},F.prototype.powS=function(q){for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,Math.pow(this.get(X,tt),q));return this},F.prototype.powM=function(q){if(q=W.checkMatrix(q),this.rows!==q.rows||this.columns!==q.columns)throw new RangeError("Matrices dimensions must be equal");for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,Math.pow(this.get(X,tt),q.get(X,tt)));return this}}function xt(F,W,q){let X=q?F.rows:F.rows-1;if(W<0||W>X)throw new RangeError("Row index out of range")}function bt(F,W,q){let X=q?F.columns:F.columns-1;if(W<0||W>X)throw new RangeError("Column index out of range")}function re(F,W){if(W.to1DArray&&(W=W.to1DArray()),W.length!==F.columns)throw new RangeError("vector size must be the same as the number of columns");return W}function ne(F,W){if(W.to1DArray&&(W=W.to1DArray()),W.length!==F.rows)throw new RangeError("vector size must be the same as the number of rows");return W}function Pn(F,W){if(!yt.isAnyArray(W))throw new TypeError("row indices must be an array");for(let q=0;q<W.length;q++)if(W[q]<0||W[q]>=F.rows)throw new RangeError("row indices are out of range")}function kn(F,W){if(!yt.isAnyArray(W))throw new TypeError("column indices must be an array");for(let q=0;q<W.length;q++)if(W[q]<0||W[q]>=F.columns)throw new RangeError("column indices are out of range")}function mn(F,W,q,X,tt){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(qe("startRow",W),qe("endRow",q),qe("startColumn",X),qe("endColumn",tt),W>q||X>tt||W<0||W>=F.rows||q<0||q>=F.rows||X<0||X>=F.columns||tt<0||tt>=F.columns)throw new RangeError("Submatrix indices are out of range")}function Lr(F,W=0){let q=[];for(let X=0;X<F;X++)q.push(W);return q}function qe(F,W){if(typeof W!="number")throw new TypeError(`${F} must be a number`)}function Qt(F){if(F.isEmpty())throw new Error("Empty matrix has no elements to index")}function Uh(F){let W=Lr(F.rows);for(let q=0;q<F.rows;++q)for(let X=0;X<F.columns;++X)W[q]+=F.get(q,X);return W}function Wh(F){let W=Lr(F.columns);for(let q=0;q<F.rows;++q)for(let X=0;X<F.columns;++X)W[X]+=F.get(q,X);return W}function Vh(F){let W=0;for(let q=0;q<F.rows;q++)for(let X=0;X<F.columns;X++)W+=F.get(q,X);return W}function zh(F){let W=Lr(F.rows,1);for(let q=0;q<F.rows;++q)for(let X=0;X<F.columns;++X)W[q]*=F.get(q,X);return W}function Zh(F){let W=Lr(F.columns,1);for(let q=0;q<F.rows;++q)for(let X=0;X<F.columns;++X)W[X]*=F.get(q,X);return W}function $h(F){let W=1;for(let q=0;q<F.rows;q++)for(let X=0;X<F.columns;X++)W*=F.get(q,X);return W}function Xh(F,W,q){const X=F.rows,tt=F.columns,ot=[];for(let at=0;at<X;at++){let ut=0,wt=0,uo=0;for(let mo=0;mo<tt;mo++)uo=F.get(at,mo)-q[at],ut+=uo,wt+=uo*uo;W?ot.push((wt-ut*ut/tt)/(tt-1)):ot.push((wt-ut*ut/tt)/tt)}return ot}function qh(F,W,q){const X=F.rows,tt=F.columns,ot=[];for(let at=0;at<tt;at++){let ut=0,wt=0,uo=0;for(let mo=0;mo<X;mo++)uo=F.get(mo,at)-q[at],ut+=uo,wt+=uo*uo;W?ot.push((wt-ut*ut/X)/(X-1)):ot.push((wt-ut*ut/X)/X)}return ot}function Hh(F,W,q){const X=F.rows,tt=F.columns,ot=X*tt;let at=0,ut=0,wt=0;for(let uo=0;uo<X;uo++)for(let mo=0;mo<tt;mo++)wt=F.get(uo,mo)-q,at+=wt,ut+=wt*wt;return W?(ut-at*at/ot)/(ot-1):(ut-at*at/ot)/ot}function Yh(F,W){for(let q=0;q<F.rows;q++)for(let X=0;X<F.columns;X++)F.set(q,X,F.get(q,X)-W[q])}function Jh(F,W){for(let q=0;q<F.rows;q++)for(let X=0;X<F.columns;X++)F.set(q,X,F.get(q,X)-W[X])}function Kh(F,W){for(let q=0;q<F.rows;q++)for(let X=0;X<F.columns;X++)F.set(q,X,F.get(q,X)-W)}function Qh(F){const W=[];for(let q=0;q<F.rows;q++){let X=0;for(let tt=0;tt<F.columns;tt++)X+=Math.pow(F.get(q,tt),2)/(F.columns-1);W.push(Math.sqrt(X))}return W}function tc(F,W){for(let q=0;q<F.rows;q++)for(let X=0;X<F.columns;X++)F.set(q,X,F.get(q,X)/W[q])}function ec(F){const W=[];for(let q=0;q<F.columns;q++){let X=0;for(let tt=0;tt<F.rows;tt++)X+=Math.pow(F.get(tt,q),2)/(F.rows-1);W.push(Math.sqrt(X))}return W}function rc(F,W){for(let q=0;q<F.rows;q++)for(let X=0;X<F.columns;X++)F.set(q,X,F.get(q,X)/W[X])}function nc(F){const W=F.size-1;let q=0;for(let X=0;X<F.columns;X++)for(let tt=0;tt<F.rows;tt++)q+=Math.pow(F.get(tt,X),2)/W;return Math.sqrt(q)}function ic(F,W){for(let q=0;q<F.rows;q++)for(let X=0;X<F.columns;X++)F.set(q,X,F.get(q,X)/W)}class j{static from1DArray(W,q,X){if(W*q!==X.length)throw new RangeError("data length does not match given dimensions");let tt=new P(W,q);for(let ot=0;ot<W;ot++)for(let at=0;at<q;at++)tt.set(ot,at,X[ot*q+at]);return tt}static rowVector(W){let q=new P(1,W.length);for(let X=0;X<W.length;X++)q.set(0,X,W[X]);return q}static columnVector(W){let q=new P(W.length,1);for(let X=0;X<W.length;X++)q.set(X,0,W[X]);return q}static zeros(W,q){return new P(W,q)}static ones(W,q){return new P(W,q).fill(1)}static rand(W,q,X={}){if(typeof X!="object")throw new TypeError("options must be an object");const{random:tt=Math.random}=X;let ot=new P(W,q);for(let at=0;at<W;at++)for(let ut=0;ut<q;ut++)ot.set(at,ut,tt());return ot}static randInt(W,q,X={}){if(typeof X!="object")throw new TypeError("options must be an object");const{min:tt=0,max:ot=1e3,random:at=Math.random}=X;if(!Number.isInteger(tt))throw new TypeError("min must be an integer");if(!Number.isInteger(ot))throw new TypeError("max must be an integer");if(tt>=ot)throw new RangeError("min must be smaller than max");let ut=ot-tt,wt=new P(W,q);for(let uo=0;uo<W;uo++)for(let mo=0;mo<q;mo++){let yo=tt+Math.round(at()*ut);wt.set(uo,mo,yo)}return wt}static eye(W,q,X){q===void 0&&(q=W),X===void 0&&(X=1);let tt=Math.min(W,q),ot=this.zeros(W,q);for(let at=0;at<tt;at++)ot.set(at,at,X);return ot}static diag(W,q,X){let tt=W.length;q===void 0&&(q=tt),X===void 0&&(X=q);let ot=Math.min(tt,q,X),at=this.zeros(q,X);for(let ut=0;ut<ot;ut++)at.set(ut,ut,W[ut]);return at}static min(W,q){W=this.checkMatrix(W),q=this.checkMatrix(q);let X=W.rows,tt=W.columns,ot=new P(X,tt);for(let at=0;at<X;at++)for(let ut=0;ut<tt;ut++)ot.set(at,ut,Math.min(W.get(at,ut),q.get(at,ut)));return ot}static max(W,q){W=this.checkMatrix(W),q=this.checkMatrix(q);let X=W.rows,tt=W.columns,ot=new this(X,tt);for(let at=0;at<X;at++)for(let ut=0;ut<tt;ut++)ot.set(at,ut,Math.max(W.get(at,ut),q.get(at,ut)));return ot}static checkMatrix(W){return j.isMatrix(W)?W:new P(W)}static isMatrix(W){return W!=null&&W.klass==="Matrix"}get size(){return this.rows*this.columns}apply(W){if(typeof W!="function")throw new TypeError("callback must be a function");for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)W.call(this,q,X);return this}to1DArray(){let W=[];for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)W.push(this.get(q,X));return W}to2DArray(){let W=[];for(let q=0;q<this.rows;q++){W.push([]);for(let X=0;X<this.columns;X++)W[q].push(this.get(q,X))}return W}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let W=0;W<this.rows;W++)for(let q=0;q<=W;q++)if(this.get(W,q)!==this.get(q,W))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let W=0;W<this.rows;W++)if(this.get(W,W)!==0)return!1;return!0}isEchelonForm(){let W=0,q=0,X=-1,tt=!0,ot=!1;for(;W<this.rows&&tt;){for(q=0,ot=!1;q<this.columns&&ot===!1;)this.get(W,q)===0?q++:this.get(W,q)===1&&q>X?(ot=!0,X=q):(tt=!1,ot=!0);W++}return tt}isReducedEchelonForm(){let W=0,q=0,X=-1,tt=!0,ot=!1;for(;W<this.rows&&tt;){for(q=0,ot=!1;q<this.columns&&ot===!1;)this.get(W,q)===0?q++:this.get(W,q)===1&&q>X?(ot=!0,X=q):(tt=!1,ot=!0);for(let at=q+1;at<this.rows;at++)this.get(W,at)!==0&&(tt=!1);W++}return tt}echelonForm(){let W=this.clone(),q=0,X=0;for(;q<W.rows&&X<W.columns;){let tt=q;for(let ot=q;ot<W.rows;ot++)W.get(ot,X)>W.get(tt,X)&&(tt=ot);if(W.get(tt,X)===0)X++;else{W.swapRows(q,tt);let ot=W.get(q,X);for(let at=X;at<W.columns;at++)W.set(q,at,W.get(q,at)/ot);for(let at=q+1;at<W.rows;at++){let ut=W.get(at,X)/W.get(q,X);W.set(at,X,0);for(let wt=X+1;wt<W.columns;wt++)W.set(at,wt,W.get(at,wt)-W.get(q,wt)*ut)}q++,X++}}return W}reducedEchelonForm(){let W=this.echelonForm(),q=W.columns,X=W.rows,tt=X-1;for(;tt>=0;)if(W.maxRow(tt)===0)tt--;else{let ot=0,at=!1;for(;ot<X&&at===!1;)W.get(tt,ot)===1?at=!0:ot++;for(let ut=0;ut<tt;ut++){let wt=W.get(ut,ot);for(let uo=ot;uo<q;uo++){let mo=W.get(ut,uo)-wt*W.get(tt,uo);W.set(ut,uo,mo)}}tt--}return W}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(W={}){if(typeof W!="object")throw new TypeError("options must be an object");const{rows:q=1,columns:X=1}=W;if(!Number.isInteger(q)||q<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(X)||X<=0)throw new TypeError("columns must be a positive integer");let tt=new P(this.rows*q,this.columns*X);for(let ot=0;ot<q;ot++)for(let at=0;at<X;at++)tt.setSubMatrix(this,this.rows*ot,this.columns*at);return tt}fill(W){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,W);return this}neg(){return this.mulS(-1)}getRow(W){xt(this,W);let q=[];for(let X=0;X<this.columns;X++)q.push(this.get(W,X));return q}getRowVector(W){return P.rowVector(this.getRow(W))}setRow(W,q){xt(this,W),q=re(this,q);for(let X=0;X<this.columns;X++)this.set(W,X,q[X]);return this}swapRows(W,q){xt(this,W),xt(this,q);for(let X=0;X<this.columns;X++){let tt=this.get(W,X);this.set(W,X,this.get(q,X)),this.set(q,X,tt)}return this}getColumn(W){bt(this,W);let q=[];for(let X=0;X<this.rows;X++)q.push(this.get(X,W));return q}getColumnVector(W){return P.columnVector(this.getColumn(W))}setColumn(W,q){bt(this,W),q=ne(this,q);for(let X=0;X<this.rows;X++)this.set(X,W,q[X]);return this}swapColumns(W,q){bt(this,W),bt(this,q);for(let X=0;X<this.rows;X++){let tt=this.get(X,W);this.set(X,W,this.get(X,q)),this.set(X,q,tt)}return this}addRowVector(W){W=re(this,W);for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,this.get(q,X)+W[X]);return this}subRowVector(W){W=re(this,W);for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,this.get(q,X)-W[X]);return this}mulRowVector(W){W=re(this,W);for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,this.get(q,X)*W[X]);return this}divRowVector(W){W=re(this,W);for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,this.get(q,X)/W[X]);return this}addColumnVector(W){W=ne(this,W);for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,this.get(q,X)+W[q]);return this}subColumnVector(W){W=ne(this,W);for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,this.get(q,X)-W[q]);return this}mulColumnVector(W){W=ne(this,W);for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,this.get(q,X)*W[q]);return this}divColumnVector(W){W=ne(this,W);for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,this.get(q,X)/W[q]);return this}mulRow(W,q){xt(this,W);for(let X=0;X<this.columns;X++)this.set(W,X,this.get(W,X)*q);return this}mulColumn(W,q){bt(this,W);for(let X=0;X<this.rows;X++)this.set(X,W,this.get(X,W)*q);return this}max(W){if(this.isEmpty())return NaN;switch(W){case"row":{const q=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.get(X,tt)>q[X]&&(q[X]=this.get(X,tt));return q}case"column":{const q=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.get(X,tt)>q[tt]&&(q[tt]=this.get(X,tt));return q}case void 0:{let q=this.get(0,0);for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.get(X,tt)>q&&(q=this.get(X,tt));return q}default:throw new Error(`invalid option: ${W}`)}}maxIndex(){Qt(this);let W=this.get(0,0),q=[0,0];for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.get(X,tt)>W&&(W=this.get(X,tt),q[0]=X,q[1]=tt);return q}min(W){if(this.isEmpty())return NaN;switch(W){case"row":{const q=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.get(X,tt)<q[X]&&(q[X]=this.get(X,tt));return q}case"column":{const q=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.get(X,tt)<q[tt]&&(q[tt]=this.get(X,tt));return q}case void 0:{let q=this.get(0,0);for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.get(X,tt)<q&&(q=this.get(X,tt));return q}default:throw new Error(`invalid option: ${W}`)}}minIndex(){Qt(this);let W=this.get(0,0),q=[0,0];for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.get(X,tt)<W&&(W=this.get(X,tt),q[0]=X,q[1]=tt);return q}maxRow(W){if(xt(this,W),this.isEmpty())return NaN;let q=this.get(W,0);for(let X=1;X<this.columns;X++)this.get(W,X)>q&&(q=this.get(W,X));return q}maxRowIndex(W){xt(this,W),Qt(this);let q=this.get(W,0),X=[W,0];for(let tt=1;tt<this.columns;tt++)this.get(W,tt)>q&&(q=this.get(W,tt),X[1]=tt);return X}minRow(W){if(xt(this,W),this.isEmpty())return NaN;let q=this.get(W,0);for(let X=1;X<this.columns;X++)this.get(W,X)<q&&(q=this.get(W,X));return q}minRowIndex(W){xt(this,W),Qt(this);let q=this.get(W,0),X=[W,0];for(let tt=1;tt<this.columns;tt++)this.get(W,tt)<q&&(q=this.get(W,tt),X[1]=tt);return X}maxColumn(W){if(bt(this,W),this.isEmpty())return NaN;let q=this.get(0,W);for(let X=1;X<this.rows;X++)this.get(X,W)>q&&(q=this.get(X,W));return q}maxColumnIndex(W){bt(this,W),Qt(this);let q=this.get(0,W),X=[0,W];for(let tt=1;tt<this.rows;tt++)this.get(tt,W)>q&&(q=this.get(tt,W),X[0]=tt);return X}minColumn(W){if(bt(this,W),this.isEmpty())return NaN;let q=this.get(0,W);for(let X=1;X<this.rows;X++)this.get(X,W)<q&&(q=this.get(X,W));return q}minColumnIndex(W){bt(this,W),Qt(this);let q=this.get(0,W),X=[0,W];for(let tt=1;tt<this.rows;tt++)this.get(tt,W)<q&&(q=this.get(tt,W),X[0]=tt);return X}diag(){let W=Math.min(this.rows,this.columns),q=[];for(let X=0;X<W;X++)q.push(this.get(X,X));return q}norm(W="frobenius"){switch(W){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${W}`)}}cumulativeSum(){let W=0;for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)W+=this.get(q,X),this.set(q,X,W);return this}dot(W){j.isMatrix(W)&&(W=W.to1DArray());let q=this.to1DArray();if(q.length!==W.length)throw new RangeError("vectors do not have the same size");let X=0;for(let tt=0;tt<q.length;tt++)X+=q[tt]*W[tt];return X}mmul(W){W=P.checkMatrix(W);let q=this.rows,X=this.columns,tt=W.columns,ot=new P(q,tt),at=new Float64Array(X);for(let ut=0;ut<tt;ut++){for(let wt=0;wt<X;wt++)at[wt]=W.get(wt,ut);for(let wt=0;wt<q;wt++){let uo=0;for(let mo=0;mo<X;mo++)uo+=this.get(wt,mo)*at[mo];ot.set(wt,ut,uo)}}return ot}strassen2x2(W){W=P.checkMatrix(W);let q=new P(2,2);const X=this.get(0,0),tt=W.get(0,0),ot=this.get(0,1),at=W.get(0,1),ut=this.get(1,0),wt=W.get(1,0),uo=this.get(1,1),mo=W.get(1,1),yo=(X+uo)*(tt+mo),lf=(ut+uo)*tt,uf=X*(at-mo),df=uo*(wt-tt),wf=(X+ot)*mo,wo=(ut-X)*(tt+at),ls=(ot-uo)*(wt+mo),_f=yo+df-wf+ls,po=uf+wf,xo=lf+df,gf=yo-lf+uf+wo;return q.set(0,0,_f),q.set(0,1,po),q.set(1,0,xo),q.set(1,1,gf),q}strassen3x3(W){W=P.checkMatrix(W);let q=new P(3,3);const X=this.get(0,0),tt=this.get(0,1),ot=this.get(0,2),at=this.get(1,0),ut=this.get(1,1),wt=this.get(1,2),uo=this.get(2,0),mo=this.get(2,1),yo=this.get(2,2),lf=W.get(0,0),uf=W.get(0,1),df=W.get(0,2),wf=W.get(1,0),wo=W.get(1,1),ls=W.get(1,2),_f=W.get(2,0),po=W.get(2,1),xo=W.get(2,2),gf=(X+tt+ot-at-ut-mo-yo)*wo,cf=(X-at)*(-uf+wo),yf=ut*(-lf+uf+wf-wo-ls-_f+xo),Sf=(-X+at+ut)*(lf-uf+wo),xf=(at+ut)*(-lf+uf),bf=X*lf,Af=(-X+uo+mo)*(lf-df+ls),Pf=(-X+uo)*(df-ls),Df=(uo+mo)*(-lf+df),zf=(X+tt+ot-ut-wt-uo-mo)*ls,jf=mo*(-lf+df+wf-wo-ls-_f+po),$f=(-ot+mo+yo)*(wo+_f-po),Ff=(ot-yo)*(wo-po),Xf=ot*_f,mp=(mo+yo)*(-_f+po),fp=(-ot+ut+wt)*(ls+_f-xo),Mp=(ot-wt)*(ls-xo),Np=(ut+wt)*(-_f+xo),Pp=tt*wf,yp=wt*po,Ep=at*df,Cp=uo*uf,$p=yo*xo,kp=bf+Xf+Pp,Dp=gf+Sf+xf+bf+$f+Xf+mp,Fp=bf+Af+Df+zf+Xf+fp+Np,Sp=cf+yf+Sf+bf+Xf+fp+Mp,up=cf+Sf+xf+bf+yp,Nf=Xf+fp+Mp+Np+Ep,Jf=bf+Af+Pf+jf+$f+Ff+Xf,ip=$f+Ff+Xf+mp+Cp,ap=bf+Af+Pf+Df+$p;return q.set(0,0,kp),q.set(0,1,Dp),q.set(0,2,Fp),q.set(1,0,Sp),q.set(1,1,up),q.set(1,2,Nf),q.set(2,0,Jf),q.set(2,1,ip),q.set(2,2,ap),q}mmulStrassen(W){W=P.checkMatrix(W);let q=this.clone(),X=q.rows,tt=q.columns,ot=W.rows,at=W.columns;tt!==ot&&console.warn(`Multiplying ${X} x ${tt} and ${ot} x ${at} matrix: dimensions do not match.`);function ut(yo,lf,uf){let df=yo.rows,wf=yo.columns;if(df===lf&&wf===uf)return yo;{let wo=j.zeros(lf,uf);return wo=wo.setSubMatrix(yo,0,0),wo}}let wt=Math.max(X,ot),uo=Math.max(tt,at);q=ut(q,wt,uo),W=ut(W,wt,uo);function mo(yo,lf,uf,df){if(uf<=512||df<=512)return yo.mmul(lf);uf%2===1&&df%2===1?(yo=ut(yo,uf+1,df+1),lf=ut(lf,uf+1,df+1)):uf%2===1?(yo=ut(yo,uf+1,df),lf=ut(lf,uf+1,df)):df%2===1&&(yo=ut(yo,uf,df+1),lf=ut(lf,uf,df+1));let wf=parseInt(yo.rows/2,10),wo=parseInt(yo.columns/2,10),ls=yo.subMatrix(0,wf-1,0,wo-1),_f=lf.subMatrix(0,wf-1,0,wo-1),po=yo.subMatrix(0,wf-1,wo,yo.columns-1),xo=lf.subMatrix(0,wf-1,wo,lf.columns-1),gf=yo.subMatrix(wf,yo.rows-1,0,wo-1),cf=lf.subMatrix(wf,lf.rows-1,0,wo-1),yf=yo.subMatrix(wf,yo.rows-1,wo,yo.columns-1),Sf=lf.subMatrix(wf,lf.rows-1,wo,lf.columns-1),xf=mo(j.add(ls,yf),j.add(_f,Sf),wf,wo),bf=mo(j.add(gf,yf),_f,wf,wo),Af=mo(ls,j.sub(xo,Sf),wf,wo),Pf=mo(yf,j.sub(cf,_f),wf,wo),Df=mo(j.add(ls,po),Sf,wf,wo),zf=mo(j.sub(gf,ls),j.add(_f,xo),wf,wo),jf=mo(j.sub(po,yf),j.add(cf,Sf),wf,wo),$f=j.add(xf,Pf);$f.sub(Df),$f.add(jf);let Ff=j.add(Af,Df),Xf=j.add(bf,Pf),mp=j.sub(xf,bf);mp.add(Af),mp.add(zf);let fp=j.zeros(2*$f.rows,2*$f.columns);return fp=fp.setSubMatrix($f,0,0),fp=fp.setSubMatrix(Ff,$f.rows,0),fp=fp.setSubMatrix(Xf,0,$f.columns),fp=fp.setSubMatrix(mp,$f.rows,$f.columns),fp.subMatrix(0,uf-1,0,df-1)}return mo(q,W,wt,uo)}scaleRows(W={}){if(typeof W!="object")throw new TypeError("options must be an object");const{min:q=0,max:X=1}=W;if(!Number.isFinite(q))throw new TypeError("min must be a number");if(!Number.isFinite(X))throw new TypeError("max must be a number");if(q>=X)throw new RangeError("min must be smaller than max");let tt=new P(this.rows,this.columns);for(let ot=0;ot<this.rows;ot++){const at=this.getRow(ot);at.length>0&&di(at,{min:q,max:X,output:at}),tt.setRow(ot,at)}return tt}scaleColumns(W={}){if(typeof W!="object")throw new TypeError("options must be an object");const{min:q=0,max:X=1}=W;if(!Number.isFinite(q))throw new TypeError("min must be a number");if(!Number.isFinite(X))throw new TypeError("max must be a number");if(q>=X)throw new RangeError("min must be smaller than max");let tt=new P(this.rows,this.columns);for(let ot=0;ot<this.columns;ot++){const at=this.getColumn(ot);at.length&&di(at,{min:q,max:X,output:at}),tt.setColumn(ot,at)}return tt}flipRows(){const W=Math.ceil(this.columns/2);for(let q=0;q<this.rows;q++)for(let X=0;X<W;X++){let tt=this.get(q,X),ot=this.get(q,this.columns-1-X);this.set(q,X,ot),this.set(q,this.columns-1-X,tt)}return this}flipColumns(){const W=Math.ceil(this.rows/2);for(let q=0;q<this.columns;q++)for(let X=0;X<W;X++){let tt=this.get(X,q),ot=this.get(this.rows-1-X,q);this.set(X,q,ot),this.set(this.rows-1-X,q,tt)}return this}kroneckerProduct(W){W=P.checkMatrix(W);let q=this.rows,X=this.columns,tt=W.rows,ot=W.columns,at=new P(q*tt,X*ot);for(let ut=0;ut<q;ut++)for(let wt=0;wt<X;wt++)for(let uo=0;uo<tt;uo++)for(let mo=0;mo<ot;mo++)at.set(tt*ut+uo,ot*wt+mo,this.get(ut,wt)*W.get(uo,mo));return at}kroneckerSum(W){if(W=P.checkMatrix(W),!this.isSquare()||!W.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let q=this.rows,X=W.rows,tt=this.kroneckerProduct(P.eye(X,X)),ot=P.eye(q,q).kroneckerProduct(W);return tt.add(ot)}transpose(){let W=new P(this.columns,this.rows);for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)W.set(X,q,this.get(q,X));return W}sortRows(W=pi$1){for(let q=0;q<this.rows;q++)this.setRow(q,this.getRow(q).sort(W));return this}sortColumns(W=pi$1){for(let q=0;q<this.columns;q++)this.setColumn(q,this.getColumn(q).sort(W));return this}subMatrix(W,q,X,tt){mn(this,W,q,X,tt);let ot=new P(q-W+1,tt-X+1);for(let at=W;at<=q;at++)for(let ut=X;ut<=tt;ut++)ot.set(at-W,ut-X,this.get(at,ut));return ot}subMatrixRow(W,q,X){if(q===void 0&&(q=0),X===void 0&&(X=this.columns-1),q>X||q<0||q>=this.columns||X<0||X>=this.columns)throw new RangeError("Argument out of range");let tt=new P(W.length,X-q+1);for(let ot=0;ot<W.length;ot++)for(let at=q;at<=X;at++){if(W[ot]<0||W[ot]>=this.rows)throw new RangeError(`Row index out of range: ${W[ot]}`);tt.set(ot,at-q,this.get(W[ot],at))}return tt}subMatrixColumn(W,q,X){if(q===void 0&&(q=0),X===void 0&&(X=this.rows-1),q>X||q<0||q>=this.rows||X<0||X>=this.rows)throw new RangeError("Argument out of range");let tt=new P(X-q+1,W.length);for(let ot=0;ot<W.length;ot++)for(let at=q;at<=X;at++){if(W[ot]<0||W[ot]>=this.columns)throw new RangeError(`Column index out of range: ${W[ot]}`);tt.set(at-q,ot,this.get(at,W[ot]))}return tt}setSubMatrix(W,q,X){if(W=P.checkMatrix(W),W.isEmpty())return this;let tt=q+W.rows-1,ot=X+W.columns-1;mn(this,q,tt,X,ot);for(let at=0;at<W.rows;at++)for(let ut=0;ut<W.columns;ut++)this.set(q+at,X+ut,W.get(at,ut));return this}selection(W,q){Pn(this,W),kn(this,q);let X=new P(W.length,q.length);for(let tt=0;tt<W.length;tt++){let ot=W[tt];for(let at=0;at<q.length;at++){let ut=q[at];X.set(tt,at,this.get(ot,ut))}}return X}trace(){let W=Math.min(this.rows,this.columns),q=0;for(let X=0;X<W;X++)q+=this.get(X,X);return q}clone(){return this.constructor.copy(this,new P(this.rows,this.columns))}static copy(W,q){for(const[X,tt,ot]of W.entries())q.set(X,tt,ot);return q}sum(W){switch(W){case"row":return Uh(this);case"column":return Wh(this);case void 0:return Vh(this);default:throw new Error(`invalid option: ${W}`)}}product(W){switch(W){case"row":return zh(this);case"column":return Zh(this);case void 0:return $h(this);default:throw new Error(`invalid option: ${W}`)}}mean(W){const q=this.sum(W);switch(W){case"row":{for(let X=0;X<this.rows;X++)q[X]/=this.columns;return q}case"column":{for(let X=0;X<this.columns;X++)q[X]/=this.rows;return q}case void 0:return q/this.size;default:throw new Error(`invalid option: ${W}`)}}variance(W,q={}){if(typeof W=="object"&&(q=W,W=void 0),typeof q!="object")throw new TypeError("options must be an object");const{unbiased:X=!0,mean:tt=this.mean(W)}=q;if(typeof X!="boolean")throw new TypeError("unbiased must be a boolean");switch(W){case"row":{if(!yt.isAnyArray(tt))throw new TypeError("mean must be an array");return Xh(this,X,tt)}case"column":{if(!yt.isAnyArray(tt))throw new TypeError("mean must be an array");return qh(this,X,tt)}case void 0:{if(typeof tt!="number")throw new TypeError("mean must be a number");return Hh(this,X,tt)}default:throw new Error(`invalid option: ${W}`)}}standardDeviation(W,q){typeof W=="object"&&(q=W,W=void 0);const X=this.variance(W,q);if(W===void 0)return Math.sqrt(X);for(let tt=0;tt<X.length;tt++)X[tt]=Math.sqrt(X[tt]);return X}center(W,q={}){if(typeof W=="object"&&(q=W,W=void 0),typeof q!="object")throw new TypeError("options must be an object");const{center:X=this.mean(W)}=q;switch(W){case"row":{if(!yt.isAnyArray(X))throw new TypeError("center must be an array");return Yh(this,X),this}case"column":{if(!yt.isAnyArray(X))throw new TypeError("center must be an array");return Jh(this,X),this}case void 0:{if(typeof X!="number")throw new TypeError("center must be a number");return Kh(this,X),this}default:throw new Error(`invalid option: ${W}`)}}scale(W,q={}){if(typeof W=="object"&&(q=W,W=void 0),typeof q!="object")throw new TypeError("options must be an object");let X=q.scale;switch(W){case"row":{if(X===void 0)X=Qh(this);else if(!yt.isAnyArray(X))throw new TypeError("scale must be an array");return tc(this,X),this}case"column":{if(X===void 0)X=ec(this);else if(!yt.isAnyArray(X))throw new TypeError("scale must be an array");return rc(this,X),this}case void 0:{if(X===void 0)X=nc(this);else if(typeof X!="number")throw new TypeError("scale must be a number");return ic(this,X),this}default:throw new Error(`invalid option: ${W}`)}}toString(W){return xs(this,W)}[Symbol.iterator](){return this.entries()}*entries(){for(let W=0;W<this.rows;W++)for(let q=0;q<this.columns;q++)yield[W,q,this.get(W,q)]}*values(){for(let W=0;W<this.rows;W++)for(let q=0;q<this.columns;q++)yield this.get(W,q)}}j.prototype.klass="Matrix";typeof Symbol<"u"&&(j.prototype[Symbol.for("nodejs.util.inspect.custom")]=Bh);function pi$1(F,W){return F-W}function sc(F){return F.every(W=>typeof W=="number")}j.random=j.rand;j.randomInt=j.randInt;j.diagonal=j.diag;j.prototype.diagonal=j.prototype.diag;j.identity=j.eye;j.prototype.negate=j.prototype.neg;j.prototype.tensorProduct=j.prototype.kroneckerProduct;var He,qr,Ye;let P=(Ye=class extends j{constructor(F,W){if(super(),Te(this,He),Ah(this,"data"),Ye.isMatrix(F))le(this,He,qr).call(this,F.rows,F.columns),Ye.copy(F,this);else if(Number.isInteger(F)&&F>=0)le(this,He,qr).call(this,F,W);else if(yt.isAnyArray(F)){const q=F;if(F=q.length,W=F?q[0].length:0,typeof W!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let X=0;X<F;X++){if(q[X].length!==W)throw new RangeError("Inconsistent array dimensions");if(!sc(q[X]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(q[X]))}this.rows=F,this.columns=W}else throw new TypeError("First argument must be a positive number or an array")}set(F,W,q){return this.data[F][W]=q,this}get(F,W){return this.data[F][W]}removeRow(F){return xt(this,F),this.data.splice(F,1),this.rows-=1,this}addRow(F,W){return W===void 0&&(W=F,F=this.rows),xt(this,F,!0),W=Float64Array.from(re(this,W)),this.data.splice(F,0,W),this.rows+=1,this}removeColumn(F){bt(this,F);for(let W=0;W<this.rows;W++){const q=new Float64Array(this.columns-1);for(let X=0;X<F;X++)q[X]=this.data[W][X];for(let X=F+1;X<this.columns;X++)q[X-1]=this.data[W][X];this.data[W]=q}return this.columns-=1,this}addColumn(F,W){typeof W>"u"&&(W=F,F=this.columns),bt(this,F,!0),W=ne(this,W);for(let q=0;q<this.rows;q++){const X=new Float64Array(this.columns+1);let tt=0;for(;tt<F;tt++)X[tt]=this.data[q][tt];for(X[tt++]=W[q];tt<this.columns+1;tt++)X[tt]=this.data[q][tt-1];this.data[q]=X}return this.columns+=1,this}},He=new WeakSet,qr=function(F,W){if(this.data=[],Number.isInteger(W)&&W>=0)for(let q=0;q<F;q++)this.data.push(new Float64Array(W));else throw new TypeError("nColumns must be a positive integer");this.rows=F,this.columns=W},Ye);Fh(j,P);var dt;const oc=class aM extends j{constructor(W){if(super(),Te(this,dt,void 0),P.isMatrix(W)){if(!W.isSymmetric())throw new TypeError("not symmetric data");Xr(this,dt,P.copy(W,new P(W.rows,W.rows)))}else if(Number.isInteger(W)&&W>=0)Xr(this,dt,new P(W,W));else if(Xr(this,dt,new P(W)),!this.isSymmetric())throw new TypeError("not symmetric data")}get size(){return St(this,dt).size}get rows(){return St(this,dt).rows}get columns(){return St(this,dt).columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(W){return P.isMatrix(W)&&W.klassType==="SymmetricMatrix"}static zeros(W){return new this(W)}static ones(W){return new this(W).fill(1)}clone(){const W=new aM(this.diagonalSize);for(const[q,X,tt]of this.upperRightEntries())W.set(q,X,tt);return W}toMatrix(){return new P(this)}get(W,q){return St(this,dt).get(W,q)}set(W,q,X){return St(this,dt).set(W,q,X),St(this,dt).set(q,W,X),this}removeCross(W){return St(this,dt).removeRow(W),St(this,dt).removeColumn(W),this}addCross(W,q){q===void 0&&(q=W,W=this.diagonalSize);const X=q.slice();return X.splice(W,1),St(this,dt).addRow(W,X),St(this,dt).addColumn(W,q),this}applyMask(W){if(W.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const q=[];for(const[X,tt]of W.entries())tt||q.push(X);q.reverse();for(const X of q)this.removeCross(X);return this}toCompact(){const{diagonalSize:W}=this,q=new Array(W*(W+1)/2);for(let X=0,tt=0,ot=0;ot<q.length;ot++)q[ot]=this.get(tt,X),++X>=W&&(X=++tt);return q}static fromCompact(W){const q=W.length,X=(Math.sqrt(8*q+1)-1)/2;if(!Number.isInteger(X))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(W)}`);const tt=new aM(X);for(let ot=0,at=0,ut=0;ut<q;ut++)tt.set(ot,at,W[ut]),++ot>=X&&(ot=++at);return tt}*upperRightEntries(){for(let W=0,q=0;W<this.diagonalSize;void 0){const X=this.get(W,q);yield[W,q,X],++q>=this.diagonalSize&&(q=++W)}}*upperRightValues(){for(let W=0,q=0;W<this.diagonalSize;void 0)yield this.get(W,q),++q>=this.diagonalSize&&(q=++W)}};dt=new WeakMap;let Me=oc;Me.prototype.klassType="SymmetricMatrix";class Dr extends Me{static isDistanceMatrix(W){return Me.isSymmetricMatrix(W)&&W.klassSubType==="DistanceMatrix"}constructor(W){if(super(W),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(W,q,X){return W===q&&(X=0),super.set(W,q,X)}addCross(W,q){return q===void 0&&(q=W,W=this.diagonalSize),q=q.slice(),q[W]=0,super.addCross(W,q)}toSymmetricMatrix(){return new Me(this)}clone(){const W=new Dr(this.diagonalSize);for(const[q,X,tt]of this.upperRightEntries())q!==X&&W.set(q,X,tt);return W}toCompact(){const{diagonalSize:W}=this,q=(W-1)*W/2,X=new Array(q);for(let tt=1,ot=0,at=0;at<X.length;at++)X[at]=this.get(ot,tt),++tt>=W&&(tt=++ot+1);return X}static fromCompact(W){const q=W.length,X=(Math.sqrt(8*q+1)+1)/2;if(!Number.isInteger(X))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(W)}`);const tt=new this(X);for(let ot=1,at=0,ut=0;ut<q;ut++)tt.set(ot,at,W[ut]),++ot>=X&&(ot=++at+1);return tt}}Dr.prototype.klassSubType="DistanceMatrix";class Ft extends j{constructor(W,q,X){super(),this.matrix=W,this.rows=q,this.columns=X}}class ac extends Ft{constructor(W,q){bt(W,q),super(W,W.rows,1),this.column=q}set(W,q,X){return this.matrix.set(W,this.column,X),this}get(W){return this.matrix.get(W,this.column)}}class hc extends Ft{constructor(W,q){kn(W,q),super(W,W.rows,q.length),this.columnIndices=q}set(W,q,X){return this.matrix.set(W,this.columnIndices[q],X),this}get(W,q){return this.matrix.get(W,this.columnIndices[q])}}class cc extends Ft{constructor(W){super(W,W.rows,W.columns)}set(W,q,X){return this.matrix.set(W,this.columns-q-1,X),this}get(W,q){return this.matrix.get(W,this.columns-q-1)}}class lc extends Ft{constructor(W){super(W,W.rows,W.columns)}set(W,q,X){return this.matrix.set(this.rows-W-1,q,X),this}get(W,q){return this.matrix.get(this.rows-W-1,q)}}class uc extends Ft{constructor(W,q){xt(W,q),super(W,1,W.columns),this.row=q}set(W,q,X){return this.matrix.set(this.row,q,X),this}get(W,q){return this.matrix.get(this.row,q)}}class dc extends Ft{constructor(W,q){Pn(W,q),super(W,q.length,W.columns),this.rowIndices=q}set(W,q,X){return this.matrix.set(this.rowIndices[W],q,X),this}get(W,q){return this.matrix.get(this.rowIndices[W],q)}}class ar extends Ft{constructor(W,q,X){Pn(W,q),kn(W,X),super(W,q.length,X.length),this.rowIndices=q,this.columnIndices=X}set(W,q,X){return this.matrix.set(this.rowIndices[W],this.columnIndices[q],X),this}get(W,q){return this.matrix.get(this.rowIndices[W],this.columnIndices[q])}}class fc extends Ft{constructor(W,q,X,tt,ot){mn(W,q,X,tt,ot),super(W,X-q+1,ot-tt+1),this.startRow=q,this.startColumn=tt}set(W,q,X){return this.matrix.set(this.startRow+W,this.startColumn+q,X),this}get(W,q){return this.matrix.get(this.startRow+W,this.startColumn+q)}}class pc extends Ft{constructor(W){super(W,W.columns,W.rows)}set(W,q,X){return this.matrix.set(q,W,X),this}get(W,q){return this.matrix.get(q,W)}}class bs extends j{constructor(W,q={}){const{rows:X=1}=q;if(W.length%X!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=X,this.columns=W.length/X,this.data=W}set(W,q,X){let tt=this._calculateIndex(W,q);return this.data[tt]=X,this}get(W,q){let X=this._calculateIndex(W,q);return this.data[X]}_calculateIndex(W,q){return W*this.columns+q}}class vt extends j{constructor(W){super(),this.data=W,this.rows=W.length,this.columns=W[0].length}set(W,q,X){return this.data[W][q]=X,this}get(W,q){return this.data[W][q]}}function gc(F,W){if(yt.isAnyArray(F))return F[0]&&yt.isAnyArray(F[0])?new vt(F):new bs(F,W);throw new Error("the argument is not an array")}class Br{constructor(W){W=vt.checkMatrix(W);let q=W.clone(),X=q.rows,tt=q.columns,ot=new Float64Array(X),at=1,ut,wt,uo,mo,yo,lf,uf,df,wf;for(ut=0;ut<X;ut++)ot[ut]=ut;for(df=new Float64Array(X),wt=0;wt<tt;wt++){for(ut=0;ut<X;ut++)df[ut]=q.get(ut,wt);for(ut=0;ut<X;ut++){for(wf=Math.min(ut,wt),yo=0,uo=0;uo<wf;uo++)yo+=q.get(ut,uo)*df[uo];df[ut]-=yo,q.set(ut,wt,df[ut])}for(mo=wt,ut=wt+1;ut<X;ut++)Math.abs(df[ut])>Math.abs(df[mo])&&(mo=ut);if(mo!==wt){for(uo=0;uo<tt;uo++)lf=q.get(mo,uo),q.set(mo,uo,q.get(wt,uo)),q.set(wt,uo,lf);uf=ot[mo],ot[mo]=ot[wt],ot[wt]=uf,at=-at}if(wt<X&&q.get(wt,wt)!==0)for(ut=wt+1;ut<X;ut++)q.set(ut,wt,q.get(ut,wt)/q.get(wt,wt))}this.LU=q,this.pivotVector=ot,this.pivotSign=at}isSingular(){let W=this.LU,q=W.columns;for(let X=0;X<q;X++)if(W.get(X,X)===0)return!0;return!1}solve(W){W=P.checkMatrix(W);let q=this.LU;if(q.rows!==W.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let X=W.columns,tt=W.subMatrixRow(this.pivotVector,0,X-1),ot=q.columns,at,ut,wt;for(wt=0;wt<ot;wt++)for(at=wt+1;at<ot;at++)for(ut=0;ut<X;ut++)tt.set(at,ut,tt.get(at,ut)-tt.get(wt,ut)*q.get(at,wt));for(wt=ot-1;wt>=0;wt--){for(ut=0;ut<X;ut++)tt.set(wt,ut,tt.get(wt,ut)/q.get(wt,wt));for(at=0;at<wt;at++)for(ut=0;ut<X;ut++)tt.set(at,ut,tt.get(at,ut)-tt.get(wt,ut)*q.get(at,wt))}return tt}get determinant(){let W=this.LU;if(!W.isSquare())throw new Error("Matrix must be square");let q=this.pivotSign,X=W.columns;for(let tt=0;tt<X;tt++)q*=W.get(tt,tt);return q}get lowerTriangularMatrix(){let W=this.LU,q=W.rows,X=W.columns,tt=new P(q,X);for(let ot=0;ot<q;ot++)for(let at=0;at<X;at++)ot>at?tt.set(ot,at,W.get(ot,at)):ot===at?tt.set(ot,at,1):tt.set(ot,at,0);return tt}get upperTriangularMatrix(){let W=this.LU,q=W.rows,X=W.columns,tt=new P(q,X);for(let ot=0;ot<q;ot++)for(let at=0;at<X;at++)ot<=at?tt.set(ot,at,W.get(ot,at)):tt.set(ot,at,0);return tt}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function Dt(F,W){let q=0;return Math.abs(F)>Math.abs(W)?(q=W/F,Math.abs(F)*Math.sqrt(1+q*q)):W!==0?(q=F/W,Math.abs(W)*Math.sqrt(1+q*q)):0}class On{constructor(W){W=vt.checkMatrix(W);let q=W.clone(),X=W.rows,tt=W.columns,ot=new Float64Array(tt),at,ut,wt,uo;for(wt=0;wt<tt;wt++){let mo=0;for(at=wt;at<X;at++)mo=Dt(mo,q.get(at,wt));if(mo!==0){for(q.get(wt,wt)<0&&(mo=-mo),at=wt;at<X;at++)q.set(at,wt,q.get(at,wt)/mo);for(q.set(wt,wt,q.get(wt,wt)+1),ut=wt+1;ut<tt;ut++){for(uo=0,at=wt;at<X;at++)uo+=q.get(at,wt)*q.get(at,ut);for(uo=-uo/q.get(wt,wt),at=wt;at<X;at++)q.set(at,ut,q.get(at,ut)+uo*q.get(at,wt))}}ot[wt]=-mo}this.QR=q,this.Rdiag=ot}solve(W){W=P.checkMatrix(W);let q=this.QR,X=q.rows;if(W.rows!==X)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let tt=W.columns,ot=W.clone(),at=q.columns,ut,wt,uo,mo;for(uo=0;uo<at;uo++)for(wt=0;wt<tt;wt++){for(mo=0,ut=uo;ut<X;ut++)mo+=q.get(ut,uo)*ot.get(ut,wt);for(mo=-mo/q.get(uo,uo),ut=uo;ut<X;ut++)ot.set(ut,wt,ot.get(ut,wt)+mo*q.get(ut,uo))}for(uo=at-1;uo>=0;uo--){for(wt=0;wt<tt;wt++)ot.set(uo,wt,ot.get(uo,wt)/this.Rdiag[uo]);for(ut=0;ut<uo;ut++)for(wt=0;wt<tt;wt++)ot.set(ut,wt,ot.get(ut,wt)-ot.get(uo,wt)*q.get(ut,uo))}return ot.subMatrix(0,at-1,0,tt-1)}isFullRank(){let W=this.QR.columns;for(let q=0;q<W;q++)if(this.Rdiag[q]===0)return!1;return!0}get upperTriangularMatrix(){let W=this.QR,q=W.columns,X=new P(q,q),tt,ot;for(tt=0;tt<q;tt++)for(ot=0;ot<q;ot++)tt<ot?X.set(tt,ot,W.get(tt,ot)):tt===ot?X.set(tt,ot,this.Rdiag[tt]):X.set(tt,ot,0);return X}get orthogonalMatrix(){let W=this.QR,q=W.rows,X=W.columns,tt=new P(q,X),ot,at,ut,wt;for(ut=X-1;ut>=0;ut--){for(ot=0;ot<q;ot++)tt.set(ot,ut,0);for(tt.set(ut,ut,1),at=ut;at<X;at++)if(W.get(ut,ut)!==0){for(wt=0,ot=ut;ot<q;ot++)wt+=W.get(ot,ut)*tt.get(ot,at);for(wt=-wt/W.get(ut,ut),ot=ut;ot<q;ot++)tt.set(ot,at,tt.get(ot,at)+wt*W.get(ot,ut))}}return tt}}let de=class{constructor(F,W={}){if(F=vt.checkMatrix(F),F.isEmpty())throw new Error("Matrix must be non-empty");let q=F.rows,X=F.columns;const{computeLeftSingularVectors:tt=!0,computeRightSingularVectors:ot=!0,autoTranspose:at=!1}=W;let ut=!!tt,wt=!!ot,uo=!1,mo;if(q<X)if(!at)mo=F.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{mo=F.transpose(),q=mo.rows,X=mo.columns,uo=!0;let xf=ut;ut=wt,wt=xf}else mo=F.clone();let yo=Math.min(q,X),lf=Math.min(q+1,X),uf=new Float64Array(lf),df=new P(q,yo),wf=new P(X,X),wo=new Float64Array(X),ls=new Float64Array(q),_f=new Float64Array(lf);for(let xf=0;xf<lf;xf++)_f[xf]=xf;let po=Math.min(q-1,X),xo=Math.max(0,Math.min(X-2,q)),gf=Math.max(po,xo);for(let xf=0;xf<gf;xf++){if(xf<po){uf[xf]=0;for(let bf=xf;bf<q;bf++)uf[xf]=Dt(uf[xf],mo.get(bf,xf));if(uf[xf]!==0){mo.get(xf,xf)<0&&(uf[xf]=-uf[xf]);for(let bf=xf;bf<q;bf++)mo.set(bf,xf,mo.get(bf,xf)/uf[xf]);mo.set(xf,xf,mo.get(xf,xf)+1)}uf[xf]=-uf[xf]}for(let bf=xf+1;bf<X;bf++){if(xf<po&&uf[xf]!==0){let Af=0;for(let Pf=xf;Pf<q;Pf++)Af+=mo.get(Pf,xf)*mo.get(Pf,bf);Af=-Af/mo.get(xf,xf);for(let Pf=xf;Pf<q;Pf++)mo.set(Pf,bf,mo.get(Pf,bf)+Af*mo.get(Pf,xf))}wo[bf]=mo.get(xf,bf)}if(ut&&xf<po)for(let bf=xf;bf<q;bf++)df.set(bf,xf,mo.get(bf,xf));if(xf<xo){wo[xf]=0;for(let bf=xf+1;bf<X;bf++)wo[xf]=Dt(wo[xf],wo[bf]);if(wo[xf]!==0){wo[xf+1]<0&&(wo[xf]=0-wo[xf]);for(let bf=xf+1;bf<X;bf++)wo[bf]/=wo[xf];wo[xf+1]+=1}if(wo[xf]=-wo[xf],xf+1<q&&wo[xf]!==0){for(let bf=xf+1;bf<q;bf++)ls[bf]=0;for(let bf=xf+1;bf<q;bf++)for(let Af=xf+1;Af<X;Af++)ls[bf]+=wo[Af]*mo.get(bf,Af);for(let bf=xf+1;bf<X;bf++){let Af=-wo[bf]/wo[xf+1];for(let Pf=xf+1;Pf<q;Pf++)mo.set(Pf,bf,mo.get(Pf,bf)+Af*ls[Pf])}}if(wt)for(let bf=xf+1;bf<X;bf++)wf.set(bf,xf,wo[bf])}}let cf=Math.min(X,q+1);if(po<X&&(uf[po]=mo.get(po,po)),q<cf&&(uf[cf-1]=0),xo+1<cf&&(wo[xo]=mo.get(xo,cf-1)),wo[cf-1]=0,ut){for(let xf=po;xf<yo;xf++){for(let bf=0;bf<q;bf++)df.set(bf,xf,0);df.set(xf,xf,1)}for(let xf=po-1;xf>=0;xf--)if(uf[xf]!==0){for(let bf=xf+1;bf<yo;bf++){let Af=0;for(let Pf=xf;Pf<q;Pf++)Af+=df.get(Pf,xf)*df.get(Pf,bf);Af=-Af/df.get(xf,xf);for(let Pf=xf;Pf<q;Pf++)df.set(Pf,bf,df.get(Pf,bf)+Af*df.get(Pf,xf))}for(let bf=xf;bf<q;bf++)df.set(bf,xf,-df.get(bf,xf));df.set(xf,xf,1+df.get(xf,xf));for(let bf=0;bf<xf-1;bf++)df.set(bf,xf,0)}else{for(let bf=0;bf<q;bf++)df.set(bf,xf,0);df.set(xf,xf,1)}}if(wt)for(let xf=X-1;xf>=0;xf--){if(xf<xo&&wo[xf]!==0)for(let bf=xf+1;bf<X;bf++){let Af=0;for(let Pf=xf+1;Pf<X;Pf++)Af+=wf.get(Pf,xf)*wf.get(Pf,bf);Af=-Af/wf.get(xf+1,xf);for(let Pf=xf+1;Pf<X;Pf++)wf.set(Pf,bf,wf.get(Pf,bf)+Af*wf.get(Pf,xf))}for(let bf=0;bf<X;bf++)wf.set(bf,xf,0);wf.set(xf,xf,1)}let yf=cf-1,Sf=Number.EPSILON;for(;cf>0;){let xf,bf;for(xf=cf-2;xf>=-1&&xf!==-1;xf--){const Af=Number.MIN_VALUE+Sf*Math.abs(uf[xf]+Math.abs(uf[xf+1]));if(Math.abs(wo[xf])<=Af||Number.isNaN(wo[xf])){wo[xf]=0;break}}if(xf===cf-2)bf=4;else{let Af;for(Af=cf-1;Af>=xf&&Af!==xf;Af--){let Pf=(Af!==cf?Math.abs(wo[Af]):0)+(Af!==xf+1?Math.abs(wo[Af-1]):0);if(Math.abs(uf[Af])<=Sf*Pf){uf[Af]=0;break}}Af===xf?bf=3:Af===cf-1?bf=1:(bf=2,xf=Af)}switch(xf++,bf){case 1:{let Af=wo[cf-2];wo[cf-2]=0;for(let Pf=cf-2;Pf>=xf;Pf--){let Df=Dt(uf[Pf],Af),zf=uf[Pf]/Df,jf=Af/Df;if(uf[Pf]=Df,Pf!==xf&&(Af=-jf*wo[Pf-1],wo[Pf-1]=zf*wo[Pf-1]),wt)for(let $f=0;$f<X;$f++)Df=zf*wf.get($f,Pf)+jf*wf.get($f,cf-1),wf.set($f,cf-1,-jf*wf.get($f,Pf)+zf*wf.get($f,cf-1)),wf.set($f,Pf,Df)}break}case 2:{let Af=wo[xf-1];wo[xf-1]=0;for(let Pf=xf;Pf<cf;Pf++){let Df=Dt(uf[Pf],Af),zf=uf[Pf]/Df,jf=Af/Df;if(uf[Pf]=Df,Af=-jf*wo[Pf],wo[Pf]=zf*wo[Pf],ut)for(let $f=0;$f<q;$f++)Df=zf*df.get($f,Pf)+jf*df.get($f,xf-1),df.set($f,xf-1,-jf*df.get($f,Pf)+zf*df.get($f,xf-1)),df.set($f,Pf,Df)}break}case 3:{const Af=Math.max(Math.abs(uf[cf-1]),Math.abs(uf[cf-2]),Math.abs(wo[cf-2]),Math.abs(uf[xf]),Math.abs(wo[xf])),Pf=uf[cf-1]/Af,Df=uf[cf-2]/Af,zf=wo[cf-2]/Af,jf=uf[xf]/Af,$f=wo[xf]/Af,Ff=((Df+Pf)*(Df-Pf)+zf*zf)/2,Xf=Pf*zf*(Pf*zf);let mp=0;(Ff!==0||Xf!==0)&&(Ff<0?mp=0-Math.sqrt(Ff*Ff+Xf):mp=Math.sqrt(Ff*Ff+Xf),mp=Xf/(Ff+mp));let fp=(jf+Pf)*(jf-Pf)+mp,Mp=jf*$f;for(let Np=xf;Np<cf-1;Np++){let Pp=Dt(fp,Mp);Pp===0&&(Pp=Number.MIN_VALUE);let yp=fp/Pp,Ep=Mp/Pp;if(Np!==xf&&(wo[Np-1]=Pp),fp=yp*uf[Np]+Ep*wo[Np],wo[Np]=yp*wo[Np]-Ep*uf[Np],Mp=Ep*uf[Np+1],uf[Np+1]=yp*uf[Np+1],wt)for(let Cp=0;Cp<X;Cp++)Pp=yp*wf.get(Cp,Np)+Ep*wf.get(Cp,Np+1),wf.set(Cp,Np+1,-Ep*wf.get(Cp,Np)+yp*wf.get(Cp,Np+1)),wf.set(Cp,Np,Pp);if(Pp=Dt(fp,Mp),Pp===0&&(Pp=Number.MIN_VALUE),yp=fp/Pp,Ep=Mp/Pp,uf[Np]=Pp,fp=yp*wo[Np]+Ep*uf[Np+1],uf[Np+1]=-Ep*wo[Np]+yp*uf[Np+1],Mp=Ep*wo[Np+1],wo[Np+1]=yp*wo[Np+1],ut&&Np<q-1)for(let Cp=0;Cp<q;Cp++)Pp=yp*df.get(Cp,Np)+Ep*df.get(Cp,Np+1),df.set(Cp,Np+1,-Ep*df.get(Cp,Np)+yp*df.get(Cp,Np+1)),df.set(Cp,Np,Pp)}wo[cf-2]=fp;break}case 4:{if(uf[xf]<=0&&(uf[xf]=uf[xf]<0?-uf[xf]:0,wt))for(let Af=0;Af<=yf;Af++)wf.set(Af,xf,-wf.get(Af,xf));for(;xf<yf&&!(uf[xf]>=uf[xf+1]);){let Af=uf[xf];if(uf[xf]=uf[xf+1],uf[xf+1]=Af,wt&&xf<X-1)for(let Pf=0;Pf<X;Pf++)Af=wf.get(Pf,xf+1),wf.set(Pf,xf+1,wf.get(Pf,xf)),wf.set(Pf,xf,Af);if(ut&&xf<q-1)for(let Pf=0;Pf<q;Pf++)Af=df.get(Pf,xf+1),df.set(Pf,xf+1,df.get(Pf,xf)),df.set(Pf,xf,Af);xf++}cf--;break}}}if(uo){let xf=wf;wf=df,df=xf}this.m=q,this.n=X,this.s=uf,this.U=df,this.V=wf}solve(F){let W=F,q=this.threshold,X=this.s.length,tt=P.zeros(X,X);for(let yo=0;yo<X;yo++)Math.abs(this.s[yo])<=q?tt.set(yo,yo,0):tt.set(yo,yo,1/this.s[yo]);let ot=this.U,at=this.rightSingularVectors,ut=at.mmul(tt),wt=at.rows,uo=ot.rows,mo=P.zeros(wt,uo);for(let yo=0;yo<wt;yo++)for(let lf=0;lf<uo;lf++){let uf=0;for(let df=0;df<X;df++)uf+=ut.get(yo,df)*ot.get(lf,df);mo.set(yo,lf,uf)}return mo.mmul(W)}solveForDiagonal(F){return this.solve(P.diag(F))}inverse(){let F=this.V,W=this.threshold,q=F.rows,X=F.columns,tt=new P(q,this.s.length);for(let uo=0;uo<q;uo++)for(let mo=0;mo<X;mo++)Math.abs(this.s[mo])>W&&tt.set(uo,mo,F.get(uo,mo)/this.s[mo]);let ot=this.U,at=ot.rows,ut=ot.columns,wt=new P(q,at);for(let uo=0;uo<q;uo++)for(let mo=0;mo<at;mo++){let yo=0;for(let lf=0;lf<ut;lf++)yo+=tt.get(uo,lf)*ot.get(mo,lf);wt.set(uo,mo,yo)}return wt}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let F=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,W=0,q=this.s;for(let X=0,tt=q.length;X<tt;X++)q[X]>F&&W++;return W}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return P.diag(this.s)}};function mc(F,W=!1){return F=vt.checkMatrix(F),W?new de(F).inverse():Ts(F,P.eye(F.rows))}function Ts(F,W,q=!1){return F=vt.checkMatrix(F),W=vt.checkMatrix(W),q?new de(F).solve(W):F.isSquare()?new Br(F).solve(W):new On(F).solve(W)}function hr(F){if(F=P.checkMatrix(F),F.isSquare()){if(F.columns===0)return 1;let W,q,X,tt;if(F.columns===2)return W=F.get(0,0),q=F.get(0,1),X=F.get(1,0),tt=F.get(1,1),W*tt-q*X;if(F.columns===3){let ot,at,ut;return ot=new ar(F,[1,2],[1,2]),at=new ar(F,[1,2],[0,2]),ut=new ar(F,[1,2],[0,1]),W=F.get(0,0),q=F.get(0,1),X=F.get(0,2),W*hr(ot)-q*hr(at)+X*hr(ut)}else return new Br(F).determinant}else throw Error("determinant can only be calculated for a square matrix")}function yc(F,W){let q=[];for(let X=0;X<F;X++)X!==W&&q.push(X);return q}function vc(F,W,q,X=1e-9,tt=1e-9){if(F>tt)return new Array(W.rows+1).fill(0);{let ot=W.addRow(q,[0]);for(let at=0;at<ot.rows;at++)Math.abs(ot.get(at,0))<X&&ot.set(at,0,0);return ot.to1DArray()}}function wc(F,W={}){const{thresholdValue:q=1e-9,thresholdError:X=1e-9}=W;F=P.checkMatrix(F);let tt=F.rows,ot=new P(tt,tt);for(let at=0;at<tt;at++){let ut=P.columnVector(F.getRow(at)),wt=F.subMatrixRow(yc(tt,at)).transpose(),uo=new de(wt).solve(ut),mo=P.sub(ut,wt.mmul(uo)).abs().max();ot.setRow(at,vc(mo,uo,at,q,X))}return ot}function xc(F,W=Number.EPSILON){if(F=P.checkMatrix(F),F.isEmpty())return F.transpose();let q=new de(F,{autoTranspose:!0}),X=q.leftSingularVectors,tt=q.rightSingularVectors,ot=q.diagonal;for(let at=0;at<ot.length;at++)Math.abs(ot[at])>W?ot[at]=1/ot[at]:ot[at]=0;return tt.mmul(P.diag(ot).mmul(X.transpose()))}function bc(F,W=F,q={}){F=new P(F);let X=!1;if(typeof W=="object"&&!P.isMatrix(W)&&!yt.isAnyArray(W)?(q=W,W=F,X=!0):W=new P(W),F.rows!==W.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:tt=!0}=q;tt&&(F=F.center("column"),X||(W=W.center("column")));const ot=F.transpose().mmul(W);for(let at=0;at<ot.rows;at++)for(let ut=0;ut<ot.columns;ut++)ot.set(at,ut,ot.get(at,ut)*(1/(F.rows-1)));return ot}function Tc(F,W=F,q={}){F=new P(F);let X=!1;if(typeof W=="object"&&!P.isMatrix(W)&&!yt.isAnyArray(W)?(q=W,W=F,X=!0):W=new P(W),F.rows!==W.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:tt=!0,scale:ot=!0}=q;tt&&(F.center("column"),X||W.center("column")),ot&&(F.scale("column"),X||W.scale("column"));const at=F.standardDeviation("column",{unbiased:!0}),ut=X?at:W.standardDeviation("column",{unbiased:!0}),wt=F.transpose().mmul(W);for(let uo=0;uo<wt.rows;uo++)for(let mo=0;mo<wt.columns;mo++)wt.set(uo,mo,wt.get(uo,mo)*(1/(at[uo]*ut[mo]))*(1/(F.rows-1)));return wt}class Ms{constructor(W,q={}){const{assumeSymmetric:X=!1}=q;if(W=vt.checkMatrix(W),!W.isSquare())throw new Error("Matrix is not a square matrix");if(W.isEmpty())throw new Error("Matrix must be non-empty");let tt=W.columns,ot=new P(tt,tt),at=new Float64Array(tt),ut=new Float64Array(tt),wt=W,uo,mo,yo=!1;if(X?yo=!0:yo=W.isSymmetric(),yo){for(uo=0;uo<tt;uo++)for(mo=0;mo<tt;mo++)ot.set(uo,mo,wt.get(uo,mo));Mc(tt,ut,at,ot),_c(tt,ut,at,ot)}else{let lf=new P(tt,tt),uf=new Float64Array(tt);for(mo=0;mo<tt;mo++)for(uo=0;uo<tt;uo++)lf.set(uo,mo,wt.get(uo,mo));Ec(tt,lf,uf,ot),Ic(tt,ut,at,ot,lf)}this.n=tt,this.e=ut,this.d=at,this.V=ot}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let W=this.n,q=this.e,X=this.d,tt=new P(W,W),ot,at;for(ot=0;ot<W;ot++){for(at=0;at<W;at++)tt.set(ot,at,0);tt.set(ot,ot,X[ot]),q[ot]>0?tt.set(ot,ot+1,q[ot]):q[ot]<0&&tt.set(ot,ot-1,q[ot])}return tt}}function Mc(F,W,q,X){let tt,ot,at,ut,wt,uo,mo,yo;for(wt=0;wt<F;wt++)q[wt]=X.get(F-1,wt);for(ut=F-1;ut>0;ut--){for(yo=0,at=0,uo=0;uo<ut;uo++)yo=yo+Math.abs(q[uo]);if(yo===0)for(W[ut]=q[ut-1],wt=0;wt<ut;wt++)q[wt]=X.get(ut-1,wt),X.set(ut,wt,0),X.set(wt,ut,0);else{for(uo=0;uo<ut;uo++)q[uo]/=yo,at+=q[uo]*q[uo];for(tt=q[ut-1],ot=Math.sqrt(at),tt>0&&(ot=-ot),W[ut]=yo*ot,at=at-tt*ot,q[ut-1]=tt-ot,wt=0;wt<ut;wt++)W[wt]=0;for(wt=0;wt<ut;wt++){for(tt=q[wt],X.set(wt,ut,tt),ot=W[wt]+X.get(wt,wt)*tt,uo=wt+1;uo<=ut-1;uo++)ot+=X.get(uo,wt)*q[uo],W[uo]+=X.get(uo,wt)*tt;W[wt]=ot}for(tt=0,wt=0;wt<ut;wt++)W[wt]/=at,tt+=W[wt]*q[wt];for(mo=tt/(at+at),wt=0;wt<ut;wt++)W[wt]-=mo*q[wt];for(wt=0;wt<ut;wt++){for(tt=q[wt],ot=W[wt],uo=wt;uo<=ut-1;uo++)X.set(uo,wt,X.get(uo,wt)-(tt*W[uo]+ot*q[uo]));q[wt]=X.get(ut-1,wt),X.set(ut,wt,0)}}q[ut]=at}for(ut=0;ut<F-1;ut++){if(X.set(F-1,ut,X.get(ut,ut)),X.set(ut,ut,1),at=q[ut+1],at!==0){for(uo=0;uo<=ut;uo++)q[uo]=X.get(uo,ut+1)/at;for(wt=0;wt<=ut;wt++){for(ot=0,uo=0;uo<=ut;uo++)ot+=X.get(uo,ut+1)*X.get(uo,wt);for(uo=0;uo<=ut;uo++)X.set(uo,wt,X.get(uo,wt)-ot*q[uo])}}for(uo=0;uo<=ut;uo++)X.set(uo,ut+1,0)}for(wt=0;wt<F;wt++)q[wt]=X.get(F-1,wt),X.set(F-1,wt,0);X.set(F-1,F-1,1),W[0]=0}function _c(F,W,q,X){let tt,ot,at,ut,wt,uo,mo,yo,lf,uf,df,wf,wo,ls,_f,po;for(at=1;at<F;at++)W[at-1]=W[at];W[F-1]=0;let xo=0,gf=0,cf=Number.EPSILON;for(uo=0;uo<F;uo++){for(gf=Math.max(gf,Math.abs(q[uo])+Math.abs(W[uo])),mo=uo;mo<F&&!(Math.abs(W[mo])<=cf*gf);)mo++;if(mo>uo)do{for(tt=q[uo],yo=(q[uo+1]-tt)/(2*W[uo]),lf=Dt(yo,1),yo<0&&(lf=-lf),q[uo]=W[uo]/(yo+lf),q[uo+1]=W[uo]*(yo+lf),uf=q[uo+1],ot=tt-q[uo],at=uo+2;at<F;at++)q[at]-=ot;for(xo=xo+ot,yo=q[mo],df=1,wf=df,wo=df,ls=W[uo+1],_f=0,po=0,at=mo-1;at>=uo;at--)for(wo=wf,wf=df,po=_f,tt=df*W[at],ot=df*yo,lf=Dt(yo,W[at]),W[at+1]=_f*lf,_f=W[at]/lf,df=yo/lf,yo=df*q[at]-_f*tt,q[at+1]=ot+_f*(df*tt+_f*q[at]),wt=0;wt<F;wt++)ot=X.get(wt,at+1),X.set(wt,at+1,_f*X.get(wt,at)+df*ot),X.set(wt,at,df*X.get(wt,at)-_f*ot);yo=-_f*po*wo*ls*W[uo]/uf,W[uo]=_f*yo,q[uo]=df*yo}while(Math.abs(W[uo])>cf*gf);q[uo]=q[uo]+xo,W[uo]=0}for(at=0;at<F-1;at++){for(wt=at,yo=q[at],ut=at+1;ut<F;ut++)q[ut]<yo&&(wt=ut,yo=q[ut]);if(wt!==at)for(q[wt]=q[at],q[at]=yo,ut=0;ut<F;ut++)yo=X.get(ut,at),X.set(ut,at,X.get(ut,wt)),X.set(ut,wt,yo)}}function Ec(F,W,q,X){let tt=0,ot=F-1,at,ut,wt,uo,mo,yo,lf;for(yo=tt+1;yo<=ot-1;yo++){for(lf=0,uo=yo;uo<=ot;uo++)lf=lf+Math.abs(W.get(uo,yo-1));if(lf!==0){for(wt=0,uo=ot;uo>=yo;uo--)q[uo]=W.get(uo,yo-1)/lf,wt+=q[uo]*q[uo];for(ut=Math.sqrt(wt),q[yo]>0&&(ut=-ut),wt=wt-q[yo]*ut,q[yo]=q[yo]-ut,mo=yo;mo<F;mo++){for(at=0,uo=ot;uo>=yo;uo--)at+=q[uo]*W.get(uo,mo);for(at=at/wt,uo=yo;uo<=ot;uo++)W.set(uo,mo,W.get(uo,mo)-at*q[uo])}for(uo=0;uo<=ot;uo++){for(at=0,mo=ot;mo>=yo;mo--)at+=q[mo]*W.get(uo,mo);for(at=at/wt,mo=yo;mo<=ot;mo++)W.set(uo,mo,W.get(uo,mo)-at*q[mo])}q[yo]=lf*q[yo],W.set(yo,yo-1,lf*ut)}}for(uo=0;uo<F;uo++)for(mo=0;mo<F;mo++)X.set(uo,mo,uo===mo?1:0);for(yo=ot-1;yo>=tt+1;yo--)if(W.get(yo,yo-1)!==0){for(uo=yo+1;uo<=ot;uo++)q[uo]=W.get(uo,yo-1);for(mo=yo;mo<=ot;mo++){for(ut=0,uo=yo;uo<=ot;uo++)ut+=q[uo]*X.get(uo,mo);for(ut=ut/q[yo]/W.get(yo,yo-1),uo=yo;uo<=ot;uo++)X.set(uo,mo,X.get(uo,mo)+ut*q[uo])}}}function Ic(F,W,q,X,tt){let ot=F-1,at=0,ut=F-1,wt=Number.EPSILON,uo=0,mo=0,yo=0,lf=0,uf=0,df=0,wf=0,wo=0,ls,_f,po,xo,gf,cf,yf,Sf,xf,bf,Af,Pf,Df,zf,jf;for(ls=0;ls<F;ls++)for((ls<at||ls>ut)&&(q[ls]=tt.get(ls,ls),W[ls]=0),_f=Math.max(ls-1,0);_f<F;_f++)mo=mo+Math.abs(tt.get(ls,_f));for(;ot>=at;){for(xo=ot;xo>at&&(df=Math.abs(tt.get(xo-1,xo-1))+Math.abs(tt.get(xo,xo)),df===0&&(df=mo),!(Math.abs(tt.get(xo,xo-1))<wt*df));)xo--;if(xo===ot)tt.set(ot,ot,tt.get(ot,ot)+uo),q[ot]=tt.get(ot,ot),W[ot]=0,ot--,wo=0;else if(xo===ot-1){if(yf=tt.get(ot,ot-1)*tt.get(ot-1,ot),yo=(tt.get(ot-1,ot-1)-tt.get(ot,ot))/2,lf=yo*yo+yf,wf=Math.sqrt(Math.abs(lf)),tt.set(ot,ot,tt.get(ot,ot)+uo),tt.set(ot-1,ot-1,tt.get(ot-1,ot-1)+uo),Sf=tt.get(ot,ot),lf>=0){for(wf=yo>=0?yo+wf:yo-wf,q[ot-1]=Sf+wf,q[ot]=q[ot-1],wf!==0&&(q[ot]=Sf-yf/wf),W[ot-1]=0,W[ot]=0,Sf=tt.get(ot,ot-1),df=Math.abs(Sf)+Math.abs(wf),yo=Sf/df,lf=wf/df,uf=Math.sqrt(yo*yo+lf*lf),yo=yo/uf,lf=lf/uf,_f=ot-1;_f<F;_f++)wf=tt.get(ot-1,_f),tt.set(ot-1,_f,lf*wf+yo*tt.get(ot,_f)),tt.set(ot,_f,lf*tt.get(ot,_f)-yo*wf);for(ls=0;ls<=ot;ls++)wf=tt.get(ls,ot-1),tt.set(ls,ot-1,lf*wf+yo*tt.get(ls,ot)),tt.set(ls,ot,lf*tt.get(ls,ot)-yo*wf);for(ls=at;ls<=ut;ls++)wf=X.get(ls,ot-1),X.set(ls,ot-1,lf*wf+yo*X.get(ls,ot)),X.set(ls,ot,lf*X.get(ls,ot)-yo*wf)}else q[ot-1]=Sf+yo,q[ot]=Sf+yo,W[ot-1]=wf,W[ot]=-wf;ot=ot-2,wo=0}else{if(Sf=tt.get(ot,ot),xf=0,yf=0,xo<ot&&(xf=tt.get(ot-1,ot-1),yf=tt.get(ot,ot-1)*tt.get(ot-1,ot)),wo===10){for(uo+=Sf,ls=at;ls<=ot;ls++)tt.set(ls,ls,tt.get(ls,ls)-Sf);df=Math.abs(tt.get(ot,ot-1))+Math.abs(tt.get(ot-1,ot-2)),Sf=xf=.75*df,yf=-.4375*df*df}if(wo===30&&(df=(xf-Sf)/2,df=df*df+yf,df>0)){for(df=Math.sqrt(df),xf<Sf&&(df=-df),df=Sf-yf/((xf-Sf)/2+df),ls=at;ls<=ot;ls++)tt.set(ls,ls,tt.get(ls,ls)-df);uo+=df,Sf=xf=yf=.964}for(wo=wo+1,gf=ot-2;gf>=xo&&(wf=tt.get(gf,gf),uf=Sf-wf,df=xf-wf,yo=(uf*df-yf)/tt.get(gf+1,gf)+tt.get(gf,gf+1),lf=tt.get(gf+1,gf+1)-wf-uf-df,uf=tt.get(gf+2,gf+1),df=Math.abs(yo)+Math.abs(lf)+Math.abs(uf),yo=yo/df,lf=lf/df,uf=uf/df,!(gf===xo||Math.abs(tt.get(gf,gf-1))*(Math.abs(lf)+Math.abs(uf))<wt*(Math.abs(yo)*(Math.abs(tt.get(gf-1,gf-1))+Math.abs(wf)+Math.abs(tt.get(gf+1,gf+1))))));)gf--;for(ls=gf+2;ls<=ot;ls++)tt.set(ls,ls-2,0),ls>gf+2&&tt.set(ls,ls-3,0);for(po=gf;po<=ot-1&&(zf=po!==ot-1,po!==gf&&(yo=tt.get(po,po-1),lf=tt.get(po+1,po-1),uf=zf?tt.get(po+2,po-1):0,Sf=Math.abs(yo)+Math.abs(lf)+Math.abs(uf),Sf!==0&&(yo=yo/Sf,lf=lf/Sf,uf=uf/Sf)),Sf!==0);po++)if(df=Math.sqrt(yo*yo+lf*lf+uf*uf),yo<0&&(df=-df),df!==0){for(po!==gf?tt.set(po,po-1,-df*Sf):xo!==gf&&tt.set(po,po-1,-tt.get(po,po-1)),yo=yo+df,Sf=yo/df,xf=lf/df,wf=uf/df,lf=lf/yo,uf=uf/yo,_f=po;_f<F;_f++)yo=tt.get(po,_f)+lf*tt.get(po+1,_f),zf&&(yo=yo+uf*tt.get(po+2,_f),tt.set(po+2,_f,tt.get(po+2,_f)-yo*wf)),tt.set(po,_f,tt.get(po,_f)-yo*Sf),tt.set(po+1,_f,tt.get(po+1,_f)-yo*xf);for(ls=0;ls<=Math.min(ot,po+3);ls++)yo=Sf*tt.get(ls,po)+xf*tt.get(ls,po+1),zf&&(yo=yo+wf*tt.get(ls,po+2),tt.set(ls,po+2,tt.get(ls,po+2)-yo*uf)),tt.set(ls,po,tt.get(ls,po)-yo),tt.set(ls,po+1,tt.get(ls,po+1)-yo*lf);for(ls=at;ls<=ut;ls++)yo=Sf*X.get(ls,po)+xf*X.get(ls,po+1),zf&&(yo=yo+wf*X.get(ls,po+2),X.set(ls,po+2,X.get(ls,po+2)-yo*uf)),X.set(ls,po,X.get(ls,po)-yo),X.set(ls,po+1,X.get(ls,po+1)-yo*lf)}}}if(mo!==0){for(ot=F-1;ot>=0;ot--)if(yo=q[ot],lf=W[ot],lf===0)for(xo=ot,tt.set(ot,ot,1),ls=ot-1;ls>=0;ls--){for(yf=tt.get(ls,ls)-yo,uf=0,_f=xo;_f<=ot;_f++)uf=uf+tt.get(ls,_f)*tt.get(_f,ot);if(W[ls]<0)wf=yf,df=uf;else if(xo=ls,W[ls]===0?tt.set(ls,ot,yf!==0?-uf/yf:-uf/(wt*mo)):(Sf=tt.get(ls,ls+1),xf=tt.get(ls+1,ls),lf=(q[ls]-yo)*(q[ls]-yo)+W[ls]*W[ls],cf=(Sf*df-wf*uf)/lf,tt.set(ls,ot,cf),tt.set(ls+1,ot,Math.abs(Sf)>Math.abs(wf)?(-uf-yf*cf)/Sf:(-df-xf*cf)/wf)),cf=Math.abs(tt.get(ls,ot)),wt*cf*cf>1)for(_f=ls;_f<=ot;_f++)tt.set(_f,ot,tt.get(_f,ot)/cf)}else if(lf<0)for(xo=ot-1,Math.abs(tt.get(ot,ot-1))>Math.abs(tt.get(ot-1,ot))?(tt.set(ot-1,ot-1,lf/tt.get(ot,ot-1)),tt.set(ot-1,ot,-(tt.get(ot,ot)-yo)/tt.get(ot,ot-1))):(jf=Je(0,-tt.get(ot-1,ot),tt.get(ot-1,ot-1)-yo,lf),tt.set(ot-1,ot-1,jf[0]),tt.set(ot-1,ot,jf[1])),tt.set(ot,ot-1,0),tt.set(ot,ot,1),ls=ot-2;ls>=0;ls--){for(bf=0,Af=0,_f=xo;_f<=ot;_f++)bf=bf+tt.get(ls,_f)*tt.get(_f,ot-1),Af=Af+tt.get(ls,_f)*tt.get(_f,ot);if(yf=tt.get(ls,ls)-yo,W[ls]<0)wf=yf,uf=bf,df=Af;else if(xo=ls,W[ls]===0?(jf=Je(-bf,-Af,yf,lf),tt.set(ls,ot-1,jf[0]),tt.set(ls,ot,jf[1])):(Sf=tt.get(ls,ls+1),xf=tt.get(ls+1,ls),Pf=(q[ls]-yo)*(q[ls]-yo)+W[ls]*W[ls]-lf*lf,Df=(q[ls]-yo)*2*lf,Pf===0&&Df===0&&(Pf=wt*mo*(Math.abs(yf)+Math.abs(lf)+Math.abs(Sf)+Math.abs(xf)+Math.abs(wf))),jf=Je(Sf*uf-wf*bf+lf*Af,Sf*df-wf*Af-lf*bf,Pf,Df),tt.set(ls,ot-1,jf[0]),tt.set(ls,ot,jf[1]),Math.abs(Sf)>Math.abs(wf)+Math.abs(lf)?(tt.set(ls+1,ot-1,(-bf-yf*tt.get(ls,ot-1)+lf*tt.get(ls,ot))/Sf),tt.set(ls+1,ot,(-Af-yf*tt.get(ls,ot)-lf*tt.get(ls,ot-1))/Sf)):(jf=Je(-uf-xf*tt.get(ls,ot-1),-df-xf*tt.get(ls,ot),wf,lf),tt.set(ls+1,ot-1,jf[0]),tt.set(ls+1,ot,jf[1]))),cf=Math.max(Math.abs(tt.get(ls,ot-1)),Math.abs(tt.get(ls,ot))),wt*cf*cf>1)for(_f=ls;_f<=ot;_f++)tt.set(_f,ot-1,tt.get(_f,ot-1)/cf),tt.set(_f,ot,tt.get(_f,ot)/cf)}for(ls=0;ls<F;ls++)if(ls<at||ls>ut)for(_f=ls;_f<F;_f++)X.set(ls,_f,tt.get(ls,_f));for(_f=F-1;_f>=at;_f--)for(ls=at;ls<=ut;ls++){for(wf=0,po=at;po<=Math.min(_f,ut);po++)wf=wf+X.get(ls,po)*tt.get(po,_f);X.set(ls,_f,wf)}}}function Je(F,W,q,X){let tt,ot;return Math.abs(q)>Math.abs(X)?(tt=X/q,ot=q+tt*X,[(F+tt*W)/ot,(W-tt*F)/ot]):(tt=q/X,ot=X+tt*q,[(tt*F+W)/ot,(tt*W-F)/ot])}class _s{constructor(W){if(W=vt.checkMatrix(W),!W.isSymmetric())throw new Error("Matrix is not symmetric");let q=W,X=q.rows,tt=new P(X,X),ot=!0,at,ut,wt;for(ut=0;ut<X;ut++){let uo=0;for(wt=0;wt<ut;wt++){let mo=0;for(at=0;at<wt;at++)mo+=tt.get(wt,at)*tt.get(ut,at);mo=(q.get(ut,wt)-mo)/tt.get(wt,wt),tt.set(ut,wt,mo),uo=uo+mo*mo}for(uo=q.get(ut,ut)-uo,ot&=uo>0,tt.set(ut,ut,Math.sqrt(Math.max(uo,0))),wt=ut+1;wt<X;wt++)tt.set(ut,wt,0)}this.L=tt,this.positiveDefinite=!!ot}isPositiveDefinite(){return this.positiveDefinite}solve(W){W=vt.checkMatrix(W);let q=this.L,X=q.rows;if(W.rows!==X)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");let tt=W.columns,ot=W.clone(),at,ut,wt;for(wt=0;wt<X;wt++)for(ut=0;ut<tt;ut++){for(at=0;at<wt;at++)ot.set(wt,ut,ot.get(wt,ut)-ot.get(at,ut)*q.get(wt,at));ot.set(wt,ut,ot.get(wt,ut)/q.get(wt,wt))}for(wt=X-1;wt>=0;wt--)for(ut=0;ut<tt;ut++){for(at=wt+1;at<X;at++)ot.set(wt,ut,ot.get(wt,ut)-ot.get(at,ut)*q.get(at,wt));ot.set(wt,ut,ot.get(wt,ut)/q.get(wt,wt))}return ot}get lowerTriangularMatrix(){return this.L}}class Es{constructor(W,q={}){W=vt.checkMatrix(W);let{Y:X}=q;const{scaleScores:tt=!1,maxIterations:ot=1e3,terminationCriteria:at=1e-10}=q;let ut;if(X){if(yt.isAnyArray(X)&&typeof X[0]=="number"?X=P.columnVector(X):X=vt.checkMatrix(X),X.rows!==W.rows)throw new Error("Y should have the same number of rows as X");ut=X.getColumnVector(0)}else ut=W.getColumnVector(0);let wt=1,uo,mo,yo,lf;for(let uf=0;uf<ot&&wt>at;uf++)yo=W.transpose().mmul(ut).div(ut.transpose().mmul(ut).get(0,0)),yo=yo.div(yo.norm()),uo=W.mmul(yo).div(yo.transpose().mmul(yo).get(0,0)),uf>0&&(wt=uo.clone().sub(lf).pow(2).sum()),lf=uo.clone(),X?(mo=X.transpose().mmul(uo).div(uo.transpose().mmul(uo).get(0,0)),mo=mo.div(mo.norm()),ut=X.mmul(mo).div(mo.transpose().mmul(mo).get(0,0))):ut=uo;if(X){let uf=W.transpose().mmul(uo).div(uo.transpose().mmul(uo).get(0,0));uf=uf.div(uf.norm());let df=W.clone().sub(uo.clone().mmul(uf.transpose())),wf=ut.transpose().mmul(uo).div(uo.transpose().mmul(uo).get(0,0)),wo=X.clone().sub(uo.clone().mulS(wf.get(0,0)).mmul(mo.transpose()));this.t=uo,this.p=uf.transpose(),this.w=yo.transpose(),this.q=mo,this.u=ut,this.s=uo.transpose().mmul(uo),this.xResidual=df,this.yResidual=wo,this.betas=wf}else this.w=yo.transpose(),this.s=uo.transpose().mmul(uo).sqrt(),tt?this.t=uo.clone().div(this.s.get(0,0)):this.t=uo,this.xResidual=W.sub(uo.mmul(yo.transpose()))}}$.AbstractMatrix=j;$.CHO=_s;$.CholeskyDecomposition=_s;$.DistanceMatrix=Dr;$.EVD=Ms;$.EigenvalueDecomposition=Ms;$.LU=Br;$.LuDecomposition=Br;var Sc=$.Matrix=P;$.MatrixColumnSelectionView=hc;$.MatrixColumnView=ac;$.MatrixFlipColumnView=cc;$.MatrixFlipRowView=lc;$.MatrixRowSelectionView=dc;$.MatrixRowView=uc;$.MatrixSelectionView=ar;$.MatrixSubView=fc;$.MatrixTransposeView=pc;$.NIPALS=Es;$.Nipals=Es;$.QR=On;$.QrDecomposition=On;$.SVD=de;var Ac=$.SingularValueDecomposition=de;$.SymmetricMatrix=Me;$.WrapperMatrix1D=bs;$.WrapperMatrix2D=vt;$.correlation=Tc;$.covariance=bc;var gi=$.default=P;$.determinant=hr;var Rc=$.inverse=mc;$.linearDependencies=wc;var Cc=$.pseudoInverse=xc;$.solve=Ts;$.wrap=gc;const ht=Sc,Pc=Ac;gi.Matrix&&gi.Matrix;const kc=Rc,Is=Cc;class Oc{constructor(W,q){if(this.sourcePoints=W,this.destinationPoints=q,this.pointCount=this.sourcePoints.length,this.pointCount<2)throw new Error("Not enough control points. A helmert transformation requires a minimum of 2 points, but "+this.pointCount+" are given.");const X=ht.columnVector(q.flat()),tt=ht.zeros(2*this.pointCount,4);for(let at=0;at<this.pointCount;at++)tt.set(2*at,0,1),tt.set(2*at,1,0),tt.set(2*at,2,W[at][0]),tt.set(2*at,3,-W[at][1]),tt.set(2*at+1,0,0),tt.set(2*at+1,1,1),tt.set(2*at+1,2,W[at][1]),tt.set(2*at+1,3,W[at][0]);const ot=Is(tt);this.helmertParametersMatrix=ot.mmul(X)}interpolate(W){if(!this.helmertParametersMatrix)throw new Error("Helmert parameters not computed");return[this.helmertParametersMatrix.get(0,0)+this.helmertParametersMatrix.get(2,0)*W[0]-this.helmertParametersMatrix.get(3,0)*W[1],this.helmertParametersMatrix.get(1,0)+this.helmertParametersMatrix.get(3,0)*W[0]+this.helmertParametersMatrix.get(2,0)*W[1]]}}class Hr{constructor(W,q,X){if(this.sourcePoints=W,this.destinationPoints=q,this.pointCount=this.sourcePoints.length,this.order=X||1,this.nCoefs=(this.order+1)*(this.order+2)/2,this.pointCount<this.nCoefs)throw new Error("Not enough control points. A polynomial transformation of order "+this.order+" requires a minimum of "+this.nCoefs+" points, but "+this.pointCount+" are given.");if(this.order<1||this.order>3)throw new Error("Only polynomial transformations of order 1, 2 or 3 are supported");const tt=[ht.columnVector(q.map(ut=>ut[0])),ht.columnVector(q.map(ut=>ut[1]))],ot=ht.zeros(this.pointCount,this.nCoefs);for(let ut=0;ut<this.pointCount;ut++)switch(this.order){case 1:ot.set(ut,0,1),ot.set(ut,1,W[ut][0]),ot.set(ut,2,W[ut][1]);break;case 2:ot.set(ut,0,1),ot.set(ut,1,W[ut][0]),ot.set(ut,2,W[ut][1]),ot.set(ut,3,W[ut][0]**2),ot.set(ut,4,W[ut][1]**2),ot.set(ut,5,W[ut][0]*W[ut][1]);break;case 3:ot.set(ut,0,1),ot.set(ut,1,W[ut][0]),ot.set(ut,2,W[ut][1]),ot.set(ut,3,W[ut][0]**2),ot.set(ut,4,W[ut][1]**2),ot.set(ut,5,W[ut][0]*W[ut][1]),ot.set(ut,6,W[ut][0]**3),ot.set(ut,7,W[ut][1]**3),ot.set(ut,8,W[ut][0]**2*W[ut][1]),ot.set(ut,9,W[ut][0]*W[ut][1]**2);break}const at=Is(ot);this.polynomialParametersMatrices=[at.mmul(tt[0]),at.mmul(tt[1])]}interpolate(W){if(!this.polynomialParametersMatrices)throw new Error("Polynomial parameters not computed");const q=[0,0];for(let X=0;X<2;X++)switch(this.order){case 1:q[X]+=this.polynomialParametersMatrices[X].get(0,0)+this.polynomialParametersMatrices[X].get(1,0)*W[0]+this.polynomialParametersMatrices[X].get(2,0)*W[1];break;case 2:q[X]+=this.polynomialParametersMatrices[X].get(0,0)+this.polynomialParametersMatrices[X].get(1,0)*W[0]+this.polynomialParametersMatrices[X].get(2,0)*W[1]+this.polynomialParametersMatrices[X].get(3,0)*W[0]**2+this.polynomialParametersMatrices[X].get(4,0)*W[1]**2+this.polynomialParametersMatrices[X].get(5,0)*W[0]*W[1];break;case 3:q[X]+=this.polynomialParametersMatrices[X].get(0,0)+this.polynomialParametersMatrices[X].get(1,0)*W[0]+this.polynomialParametersMatrices[X].get(2,0)*W[1]+this.polynomialParametersMatrices[X].get(3,0)*W[0]**2+this.polynomialParametersMatrices[X].get(4,0)*W[1]**2+this.polynomialParametersMatrices[X].get(5,0)*W[0]*W[1]+this.polynomialParametersMatrices[X].get(6,0)*W[0]**3+this.polynomialParametersMatrices[X].get(7,0)*W[1]**3+this.polynomialParametersMatrices[X].get(8,0)*W[0]**2*W[1]+this.polynomialParametersMatrices[X].get(9,0)*W[0]*W[1]**2;break}return q}}class Nc{constructor(W,q){if(this.sourcePoints=W,this.destinationPoints=q,this.pointCount=this.sourcePoints.length,this.pointCount<4)throw new Error("Not enough control points. A projective transformation requires a minimum of 4 points, but "+this.pointCount+" are given.");const X=ht.zeros(2*this.pointCount,9);for(let ot=0;ot<this.pointCount;ot++)X.set(2*ot,0,-W[ot][0]),X.set(2*ot,1,-W[ot][1]),X.set(2*ot,2,-1),X.set(2*ot,3,0),X.set(2*ot,4,0),X.set(2*ot,5,0),X.set(2*ot,6,q[ot][0]*W[ot][0]),X.set(2*ot,7,q[ot][0]*W[ot][1]),X.set(2*ot,8,q[ot][0]),X.set(2*ot+1,0,0),X.set(2*ot+1,1,0),X.set(2*ot+1,2,0),X.set(2*ot+1,3,-W[ot][0]),X.set(2*ot+1,4,-W[ot][1]),X.set(2*ot+1,5,-1),X.set(2*ot+1,6,q[ot][1]*W[ot][0]),X.set(2*ot+1,7,q[ot][1]*W[ot][1]),X.set(2*ot+1,8,q[ot][1]);const tt=new Pc(X);this.projectiveParametersMatrix=ht.from1DArray(3,3,tt.rightSingularVectors.getColumn(8)).transpose()}interpolate(W){if(!this.projectiveParametersMatrix)throw new Error("projective parameters not computed");const q=this.projectiveParametersMatrix.get(0,2)*W[0]+this.projectiveParametersMatrix.get(1,2)*W[1]+this.projectiveParametersMatrix.get(2,2);return[(this.projectiveParametersMatrix.get(0,0)*W[0]+this.projectiveParametersMatrix.get(1,0)*W[1]+this.projectiveParametersMatrix.get(2,0))/q,(this.projectiveParametersMatrix.get(0,1)*W[0]+this.projectiveParametersMatrix.get(1,1)*W[1]+this.projectiveParametersMatrix.get(2,1))/q]}}function Lc(F,W){if(F=ht.checkMatrix(F),W=ht.checkMatrix(W),F.rows!=W.rows||F.columns!=W.columns)throw new Error("Matrices have different dimensions");const q=ht.zeros(F.rows,F.columns);for(let X=0;X<F.rows;X++)for(let tt=0;tt<F.columns;tt++)q.set(X,tt,F.get(X,tt)*W.get(X,tt));return q}class Dc{constructor(W,q,X,tt,ot){if(this.sourcePoints=W,this.destinationPoints=q,this.kernelFunction=X,this.normFunction=tt,this.pointCount=this.sourcePoints.length,this.pointCount<3)throw new Error(`Not enough control points. A thin plate spline transformation (with affine component) requires a minimum of 3 points, but ${this.pointCount} are given.`);const at=[ht.columnVector([...q,[0,0],[0,0],[0,0]].map(yo=>yo[0])),ht.columnVector([...q,[0,0],[0,0],[0,0]].map(yo=>yo[1]))],ut=ht.zeros(this.pointCount,this.pointCount);for(let yo=0;yo<this.pointCount;yo++)for(let lf=0;lf<this.pointCount;lf++)ut.set(yo,lf,tt(W[yo],W[lf]));ot===void 0&&(ot=ut.sum()/(Math.pow(this.pointCount,2)-this.pointCount)),this.epsilon=ot;for(let yo=0;yo<this.pointCount;yo++)for(let lf=0;lf<this.pointCount;lf++)ut.set(yo,lf,X(ut.get(yo,lf),ot));const wt=ht.zeros(this.pointCount,3),uo=ht.zeros(this.pointCount+3,this.pointCount+3);for(let yo=0;yo<this.pointCount;yo++)wt.set(yo,0,1),wt.set(yo,1,W[yo][0]),wt.set(yo,2,W[yo][1]);for(let yo=0;yo<this.pointCount+3;yo++)for(let lf=0;lf<this.pointCount+3;lf++)yo<this.pointCount&&lf<this.pointCount?uo.set(yo,lf,ut.get(yo,lf)):yo>=this.pointCount&&lf<this.pointCount?uo.set(yo,lf,wt.transpose().get(yo-this.pointCount,lf)):yo<this.pointCount&&lf>=this.pointCount&&uo.set(yo,lf,wt.get(yo,lf-this.pointCount));const mo=kc(uo);this.weightsMatrices=[mo.mmul(at[0]),mo.mmul(at[1])]}interpolate(W){if(!this.weightsMatrices)throw new Error("Weights not computed");const q=ht.zeros(this.pointCount,1);for(let tt=0;tt<this.pointCount;tt++)q.set(tt,0,this.kernelFunction(this.normFunction(W,this.sourcePoints[tt]),this.epsilon));const X=[0,0];for(let tt=0;tt<2;tt++){X[tt]=Lc(q,this.weightsMatrices[tt].selection([...Array(this.pointCount).keys()],[0])).sum();const ot=this.weightsMatrices[tt].get(this.pointCount,0),at=this.weightsMatrices[tt].get(this.pointCount+1,0),ut=this.weightsMatrices[tt].get(this.pointCount+2,0);X[tt]+=ot+at*W[0]+ut*W[1]}return X}}function Bc(F){return F===0?0:Math.pow(F,2)*Math.log(F)}function jc(F,W){const q=[W[0]-F[0],W[1]-F[1]];return Math.sqrt(q[0]**2+q[1]**2)}function jr(F){const W={close:!1,maxOffsetRatio:0,maxDepth:0,destinationIsGeographic:!1,sourceIsGeographic:!1};return F&&F.maxDepth!==void 0&&(W.maxDepth=F.maxDepth),F&&F.maxOffsetRatio!==void 0&&(W.maxOffsetRatio=F.maxOffsetRatio),F&&F.destinationIsGeographic!==void 0&&(W.destinationIsGeographic=F.destinationIsGeographic),F&&F.sourceIsGeographic!==void 0&&(W.sourceIsGeographic=F.sourceIsGeographic),W}function Ke(F,W,q){const X=jr(q);W=gs(W);const tt=W.map(ut=>({source:ut,destination:F.transformForward(ut)})),ot=Gr(tt,!1),at=Ss(F,ot,X);return Fr(at,!0).map(ut=>ut.destination)}function Qe(F,W,q){const X=jr(q);W=gs(W);const tt=W.map(ut=>({source:F.transformBackward(ut),destination:ut})),ot=Gr(tt,!1),at=As(F,ot,X);return Fr(at,!0).map(ut=>ut.source)}function Gc(F,W,q){const X=jr(q);W=An(W);const tt=W.map(ut=>({source:ut,destination:F.transformForward(ut)})),ot=Gr(tt,!0),at=Ss(F,ot,X);return Fr(at,!1).map(ut=>ut.destination)}function Fc(F,W,q){const X=jr(q);W=An(W);const tt=W.map(ut=>({source:F.transformBackward(ut),destination:ut})),ot=Gr(tt,!0),at=As(F,ot,X);return Fr(at,!1).map(ut=>ut.source)}function tr(F,W,q){return W.map(X=>Gc(F,X,q))}function er$1(F,W,q){return W.map(X=>Fc(F,X,q))}function Gr(F,W=!1){const q=F.length-(W?0:1),X=[];for(let tt=0;tt<q;tt++)X.push({from:F[tt],to:F[(tt+1)%F.length]});return X}function Fr(F,W=!1){const q=F.map(X=>X.from);return W&&q.push(F[F.length-1].to),q}function Ss(F,W,q){return q.maxDepth<=0||q.maxOffsetRatio<=0?W:W.map(X=>vn(F,X,q,0)).flat(1)}function As(F,W,q){return q.maxDepth<=0||q.maxOffsetRatio<=0?W:W.map(X=>wn(F,X,q,0)).flat(1)}function vn(F,W,q,X){const tt=(q.sourceIsGeographic?(mo,yo)=>_r(mo,yo).geometry.coordinates:Er)(W.from.source,W.to.source),ot=(q.destinationIsGeographic?(mo,yo)=>_r(mo,yo).geometry.coordinates:Er)(W.from.destination,W.to.destination),at=F.transformForward(tt),ut=q.destinationIsGeographic?Sn:jt,wt=ut(W.from.destination,W.to.destination),uo=ut(ot,at);if(X<q.maxDepth&&q.maxOffsetRatio&&uo/wt>q.maxOffsetRatio&&wt>0){const mo={source:tt,destination:at};return[vn(F,{from:W.from,to:mo},q,X+1),vn(F,{from:mo,to:W.to},q,X+1)].flat(1)}else return W}function wn(F,W,q,X){const tt=(q.destinationIsGeographic?(mo,yo)=>_r(mo,yo).geometry.coordinates:Er)(W.from.destination,W.to.destination),ot=(q.sourceIsGeographic?(mo,yo)=>_r(mo,yo).geometry.coordinates:Er)(W.from.source,W.to.source),at=F.transformBackward(tt),ut=q.sourceIsGeographic?Sn:jt,wt=ut(W.from.source,W.to.source),uo=ut(ot,at);if(X<q.maxDepth&&q.maxOffsetRatio&&uo/wt>q.maxOffsetRatio&&wt>0){const mo={source:at,destination:tt};return[wn(F,{from:W.from,to:mo},q,X+1),wn(F,{from:mo,to:W.to},q,X+1)].flat(1)}else return W}var xn,Rs,bn,Cs,cr,Yr;class mi{constructor(W,q="polynomial"){if(Te(this,xn),Te(this,bn),Te(this,cr),W.length==0)throw new Error("No control points.");this.gcps=W.map(X=>{if("resource"in X&&"geo"in X)return{source:X.resource,destination:X.geo};if("source"in X&&"destination"in X)return X;throw new Error("Unsupported GCP type")}),this.sourcePoints=this.gcps.map(X=>X.source),this.destinationPoints=this.gcps.map(X=>X.destination),this.type=q}transformForward(W,q){if(mt(W))return this.forwardTransformation||(this.forwardTransformation=le(this,xn,Rs).call(this)),this.forwardTransformation.interpolate(W);if(Ot(W))return this.transformForward(ye(W));if(At(W))return Ke(this,W,q);if(Nt(W))return q&&!("sourceIsGeographic"in q)&&(q.sourceIsGeographic=!0),Ke(this,ve(W),q);if(Rt(W))return tr(this,W,q);if(Lt(W))return q&&!("sourceIsGeographic"in q)&&(q.sourceIsGeographic=!0),tr(this,we(W),q);throw new Error("Input type not supported")}transformForwardAsGeojson(W,q){if(mt(W))return ze(this.transformForward(W));if(Ot(W))return ze(this.transformForward(ye(W)));if(At(W))return q&&!("destinationIsGeographic"in q)&&(q.destinationIsGeographic=!0),Ze(Ke(this,W,q));if(Nt(W))return q&&!("sourceIsGeographic"in q)&&(q.sourceIsGeographic=!0),q&&!("destinationIsGeographic"in q)&&(q.destinationIsGeographic=!0),Ze(Ke(this,ve(W),q));if(Rt(W))return q&&!("destinationIsGeographic"in q)&&(q.destinationIsGeographic=!0),$e(tr(this,W,q));if(Lt(W))return q&&!("sourceIsGeographic"in q)&&(q.sourceIsGeographic=!0),q&&!("destinationIsGeographic"in q)&&(q.destinationIsGeographic=!0),$e(tr(this,we(W),q));throw new Error("Input type not supported")}transformBackward(W,q){if(mt(W))return this.backwardTransformation||(this.backwardTransformation=le(this,bn,Cs).call(this)),this.backwardTransformation.interpolate(W);if(Ot(W))return this.transformBackward(ye(W));if(At(W))return Qe(this,W,q);if(Nt(W))return q&&!("destinationIsGeographic"in q)&&(q.destinationIsGeographic=!0),Qe(this,ve(W),q);if(Rt(W))return er$1(this,W,q);if(Lt(W))return q&&!("destinationIsGeographic"in q)&&(q.destinationIsGeographic=!0),er$1(this,we(W),q);throw new Error("Input type not supported")}transformBackwardAsGeojson(W,q){if(mt(W))return ze(this.transformBackward(W));if(Ot(W))return ze(this.transformBackward(ye(W)));if(At(W))return q&&!("sourceIsGeographic"in q)&&(q.sourceIsGeographic=!0),Ze(Qe(this,W,q));if(Nt(W))return q&&!("sourceIsGeographic"in q)&&(q.sourceIsGeographic=!0),q&&!("destinationIsGeographic"in q)&&(q.destinationIsGeographic=!0),Ze(Qe(this,ve(W),q));if(Rt(W))return q&&!("sourceIsGeographic"in q)&&(q.sourceIsGeographic=!0),$e(er$1(this,W,q));if(Lt(W))return q&&!("sourceIsGeographic"in q)&&(q.sourceIsGeographic=!0),q&&!("destinationIsGeographic"in q)&&(q.destinationIsGeographic=!0),$e(er$1(this,we(W),q));throw new Error("Input type not supported")}transformToGeo(W,q){if(mt(W))return this.transformForward(W,q);if(Ot(W))return this.transformForward(W,q);if(At(W))return this.transformForward(W,q);if(Nt(W))return this.transformForward(W,q);if(Rt(W))return this.transformForward(W,q);if(Lt(W))return this.transformForward(W,q);throw new Error("Input type not supported")}transformToGeoAsGeojson(W,q){if(mt(W))return this.transformForwardAsGeojson(W,q);if(Ot(W))return this.transformForwardAsGeojson(W,q);if(At(W))return this.transformForwardAsGeojson(W,q);if(Nt(W))return this.transformForwardAsGeojson(W,q);if(Rt(W))return this.transformForwardAsGeojson(W,q);if(Lt(W))return this.transformForwardAsGeojson(W,q);throw new Error("Input type not supported")}transformToResource(W,q){if(mt(W))return this.transformBackward(W,q);if(Ot(W))return this.transformBackward(W,q);if(At(W))return this.transformBackward(W,q);if(Nt(W))return this.transformBackward(W,q);if(Rt(W))return this.transformBackward(W,q);if(Lt(W))return this.transformBackward(W,q);throw new Error("Input type not supported")}transformToResourceAsGeojson(W,q){if(mt(W))return this.transformBackwardAsGeojson(W,q);if(Ot(W))return this.transformBackwardAsGeojson(W,q);if(At(W))return this.transformBackwardAsGeojson(W,q);if(Nt(W))return this.transformBackwardAsGeojson(W,q);if(Rt(W))return this.transformBackwardAsGeojson(W,q);if(Lt(W))return this.transformBackwardAsGeojson(W,q);throw new Error("Input type not supported")}transformSvgToGeojson(W,q){if(W.type==="circle")return this.transformForwardAsGeojson(W.coordinates);if(W.type==="line")return this.transformForwardAsGeojson(W.coordinates,q);if(W.type==="polyline")return this.transformForwardAsGeojson(W.coordinates,q);if(W.type==="rect")return this.transformForwardAsGeojson([W.coordinates],q);if(W.type==="polygon")return this.transformForwardAsGeojson([W.coordinates],q);throw new Error("Unsupported SVG geometry")}transformGeojsonToSvg(W,q){if(W.type==="Point")return{type:"circle",coordinates:this.transformBackward(W)};if(W.type==="LineString")return{type:"polyline",coordinates:this.transformBackward(W,q)};if(W.type==="Polygon")return{type:"polygon",coordinates:this.transformBackward(W,q)[0]};throw new Error("Unsupported GeoJSON geometry")}}xn=new WeakSet,Rs=function(){return le(this,cr,Yr).call(this,this.sourcePoints,this.destinationPoints)},bn=new WeakSet,Cs=function(){return le(this,cr,Yr).call(this,this.destinationPoints,this.sourcePoints)},cr=new WeakSet,Yr=function(F,W){if(this.type==="helmert")return new Oc(F,W);if(this.type==="polynomial1"||this.type==="polynomial")return new Hr(F,W);if(this.type==="polynomial2")return new Hr(F,W,2);if(this.type==="polynomial3")return new Hr(F,W,3);if(this.type==="projective")return new Nc(F,W);if(this.type==="thinPlateSpline")return new Dc(F,W,Bc,jc);throw new Error(`Unsupported transformation type: ${this.type}`)};function Uc(F){return Math.sqrt(Math.pow(F[1][0]-F[0][0],2)+Math.pow(F[1][1]-F[0][1],2))}function Wc(F){return Math.atan2(F[1][1]-F[0][1],F[1][0]-F[0][0])}function Vc(F,W,q){return[F[0]+Math.cos(q)*W,F[1]+Math.sin(q)*W]}function zc(F,W){let q=F[0];const X=[q];for(;Uc([q,F[1]])>W;){const tt=Vc(q,W,Wc(F));X.push(tt),q=tt}return X}function Zc(F,W){F=[...F,F[0]];let q=[];for(let X=0;X<F.length-1;X++)q=q.concat(zc([F[X],F[X+1]],W));return q}function $c(F,W){const q=[],X=st(F);for(let tt=X[0]+W,ot=0;tt<=X[2];ot++,tt+=W)for(let at=X[1]+W,ut=0;at<=X[3];ut++,at+=W)q.push([tt,at]);return q}var Tn={},Xc={get exports(){return Tn},set exports(F){Tn=F}},Ps=qc,yi=+(Math.pow(2,27)+1);function qc(F,W,q){var X=F*W,tt=yi*F,ot=tt-F,at=tt-ot,ut=F-at,wt=yi*W,uo=wt-W,mo=wt-uo,yo=W-mo,lf=X-at*mo,uf=lf-ut*mo,df=uf-at*yo,wf=ut*yo-df;return q?(q[0]=wf,q[1]=X,q):[wf,X]}var Hc=Jc;function Yc(F,W){var q=F+W,X=q-F,tt=q-X,ot=W-X,at=F-tt,ut=at+ot;return ut?[ut,q]:[q]}function Jc(F,W){var q=F.length|0,X=W.length|0;if(q===1&&X===1)return Yc(F[0],W[0]);var tt=q+X,ot=new Array(tt),at=0,ut=0,wt=0,uo=Math.abs,mo=F[ut],yo=uo(mo),lf=W[wt],uf=uo(lf),df,wf;yo<uf?(wf=mo,ut+=1,ut<q&&(mo=F[ut],yo=uo(mo))):(wf=lf,wt+=1,wt<X&&(lf=W[wt],uf=uo(lf))),ut<q&&yo<uf||wt>=X?(df=mo,ut+=1,ut<q&&(mo=F[ut],yo=uo(mo))):(df=lf,wt+=1,wt<X&&(lf=W[wt],uf=uo(lf)));for(var wo=df+wf,ls=wo-df,_f=wf-ls,po=_f,xo=wo,gf,cf,yf,Sf,xf;ut<q&&wt<X;)yo<uf?(df=mo,ut+=1,ut<q&&(mo=F[ut],yo=uo(mo))):(df=lf,wt+=1,wt<X&&(lf=W[wt],uf=uo(lf))),wf=po,wo=df+wf,ls=wo-df,_f=wf-ls,_f&&(ot[at++]=_f),gf=xo+wo,cf=gf-xo,yf=gf-cf,Sf=wo-cf,xf=xo-yf,po=xf+Sf,xo=gf;for(;ut<q;)df=mo,wf=po,wo=df+wf,ls=wo-df,_f=wf-ls,_f&&(ot[at++]=_f),gf=xo+wo,cf=gf-xo,yf=gf-cf,Sf=wo-cf,xf=xo-yf,po=xf+Sf,xo=gf,ut+=1,ut<q&&(mo=F[ut]);for(;wt<X;)df=lf,wf=po,wo=df+wf,ls=wo-df,_f=wf-ls,_f&&(ot[at++]=_f),gf=xo+wo,cf=gf-xo,yf=gf-cf,Sf=wo-cf,xf=xo-yf,po=xf+Sf,xo=gf,wt+=1,wt<X&&(lf=W[wt]);return po&&(ot[at++]=po),xo&&(ot[at++]=xo),at||(ot[at++]=0),ot.length=at,ot}var Kc=Qc;function Qc(F,W,q){var X=F+W,tt=X-F,ot=X-tt,at=W-tt,ut=F-ot;return q?(q[0]=ut+at,q[1]=X,q):[ut+at,X]}var Jr=Ps,tl=Kc,el=rl;function rl(F,W){var q=F.length;if(q===1){var X=Jr(F[0],W);return X[0]?X:[X[1]]}var tt=new Array(2*q),ot=[.1,.1],at=[.1,.1],ut=0;Jr(F[0],W,ot),ot[0]&&(tt[ut++]=ot[0]);for(var wt=1;wt<q;++wt){Jr(F[wt],W,at);var uo=ot[1];tl(uo,at[0],ot),ot[0]&&(tt[ut++]=ot[0]);var mo=at[1],yo=ot[1],lf=mo+yo,uf=lf-mo,df=yo-uf;ot[1]=lf,df&&(tt[ut++]=df)}return ot[1]&&(tt[ut++]=ot[1]),ut===0&&(tt[ut++]=0),tt.length=ut,tt}var nl=sl;function il(F,W){var q=F+W,X=q-F,tt=q-X,ot=W-X,at=F-tt,ut=at+ot;return ut?[ut,q]:[q]}function sl(F,W){var q=F.length|0,X=W.length|0;if(q===1&&X===1)return il(F[0],-W[0]);var tt=q+X,ot=new Array(tt),at=0,ut=0,wt=0,uo=Math.abs,mo=F[ut],yo=uo(mo),lf=-W[wt],uf=uo(lf),df,wf;yo<uf?(wf=mo,ut+=1,ut<q&&(mo=F[ut],yo=uo(mo))):(wf=lf,wt+=1,wt<X&&(lf=-W[wt],uf=uo(lf))),ut<q&&yo<uf||wt>=X?(df=mo,ut+=1,ut<q&&(mo=F[ut],yo=uo(mo))):(df=lf,wt+=1,wt<X&&(lf=-W[wt],uf=uo(lf)));for(var wo=df+wf,ls=wo-df,_f=wf-ls,po=_f,xo=wo,gf,cf,yf,Sf,xf;ut<q&&wt<X;)yo<uf?(df=mo,ut+=1,ut<q&&(mo=F[ut],yo=uo(mo))):(df=lf,wt+=1,wt<X&&(lf=-W[wt],uf=uo(lf))),wf=po,wo=df+wf,ls=wo-df,_f=wf-ls,_f&&(ot[at++]=_f),gf=xo+wo,cf=gf-xo,yf=gf-cf,Sf=wo-cf,xf=xo-yf,po=xf+Sf,xo=gf;for(;ut<q;)df=mo,wf=po,wo=df+wf,ls=wo-df,_f=wf-ls,_f&&(ot[at++]=_f),gf=xo+wo,cf=gf-xo,yf=gf-cf,Sf=wo-cf,xf=xo-yf,po=xf+Sf,xo=gf,ut+=1,ut<q&&(mo=F[ut]);for(;wt<X;)df=lf,wf=po,wo=df+wf,ls=wo-df,_f=wf-ls,_f&&(ot[at++]=_f),gf=xo+wo,cf=gf-xo,yf=gf-cf,Sf=wo-cf,xf=xo-yf,po=xf+Sf,xo=gf,wt+=1,wt<X&&(lf=-W[wt]);return po&&(ot[at++]=po),xo&&(ot[at++]=xo),at||(ot[at++]=0),ot.length=at,ot}(function(F){var W=Ps,q=Hc,X=el,tt=nl,ot=5,at=11102230246251565e-32,ut=(3+16*at)*at,wt=(7+56*at)*at;function uo(po,xo,gf,cf){return function(yf,Sf,xf){var bf=po(po(xo(Sf[1],xf[0]),xo(-xf[1],Sf[0])),po(xo(yf[1],Sf[0]),xo(-Sf[1],yf[0]))),Af=po(xo(yf[1],xf[0]),xo(-xf[1],yf[0])),Pf=cf(bf,Af);return Pf[Pf.length-1]}}function mo(po,xo,gf,cf){return function(yf,Sf,xf,bf){var Af=po(po(gf(po(xo(xf[1],bf[0]),xo(-bf[1],xf[0])),Sf[2]),po(gf(po(xo(Sf[1],bf[0]),xo(-bf[1],Sf[0])),-xf[2]),gf(po(xo(Sf[1],xf[0]),xo(-xf[1],Sf[0])),bf[2]))),po(gf(po(xo(Sf[1],bf[0]),xo(-bf[1],Sf[0])),yf[2]),po(gf(po(xo(yf[1],bf[0]),xo(-bf[1],yf[0])),-Sf[2]),gf(po(xo(yf[1],Sf[0]),xo(-Sf[1],yf[0])),bf[2])))),Pf=po(po(gf(po(xo(xf[1],bf[0]),xo(-bf[1],xf[0])),yf[2]),po(gf(po(xo(yf[1],bf[0]),xo(-bf[1],yf[0])),-xf[2]),gf(po(xo(yf[1],xf[0]),xo(-xf[1],yf[0])),bf[2]))),po(gf(po(xo(Sf[1],xf[0]),xo(-xf[1],Sf[0])),yf[2]),po(gf(po(xo(yf[1],xf[0]),xo(-xf[1],yf[0])),-Sf[2]),gf(po(xo(yf[1],Sf[0]),xo(-Sf[1],yf[0])),xf[2])))),Df=cf(Af,Pf);return Df[Df.length-1]}}function yo(po,xo,gf,cf){return function(yf,Sf,xf,bf,Af){var Pf=po(po(po(gf(po(gf(po(xo(bf[1],Af[0]),xo(-Af[1],bf[0])),xf[2]),po(gf(po(xo(xf[1],Af[0]),xo(-Af[1],xf[0])),-bf[2]),gf(po(xo(xf[1],bf[0]),xo(-bf[1],xf[0])),Af[2]))),Sf[3]),po(gf(po(gf(po(xo(bf[1],Af[0]),xo(-Af[1],bf[0])),Sf[2]),po(gf(po(xo(Sf[1],Af[0]),xo(-Af[1],Sf[0])),-bf[2]),gf(po(xo(Sf[1],bf[0]),xo(-bf[1],Sf[0])),Af[2]))),-xf[3]),gf(po(gf(po(xo(xf[1],Af[0]),xo(-Af[1],xf[0])),Sf[2]),po(gf(po(xo(Sf[1],Af[0]),xo(-Af[1],Sf[0])),-xf[2]),gf(po(xo(Sf[1],xf[0]),xo(-xf[1],Sf[0])),Af[2]))),bf[3]))),po(gf(po(gf(po(xo(xf[1],bf[0]),xo(-bf[1],xf[0])),Sf[2]),po(gf(po(xo(Sf[1],bf[0]),xo(-bf[1],Sf[0])),-xf[2]),gf(po(xo(Sf[1],xf[0]),xo(-xf[1],Sf[0])),bf[2]))),-Af[3]),po(gf(po(gf(po(xo(bf[1],Af[0]),xo(-Af[1],bf[0])),Sf[2]),po(gf(po(xo(Sf[1],Af[0]),xo(-Af[1],Sf[0])),-bf[2]),gf(po(xo(Sf[1],bf[0]),xo(-bf[1],Sf[0])),Af[2]))),yf[3]),gf(po(gf(po(xo(bf[1],Af[0]),xo(-Af[1],bf[0])),yf[2]),po(gf(po(xo(yf[1],Af[0]),xo(-Af[1],yf[0])),-bf[2]),gf(po(xo(yf[1],bf[0]),xo(-bf[1],yf[0])),Af[2]))),-Sf[3])))),po(po(gf(po(gf(po(xo(Sf[1],Af[0]),xo(-Af[1],Sf[0])),yf[2]),po(gf(po(xo(yf[1],Af[0]),xo(-Af[1],yf[0])),-Sf[2]),gf(po(xo(yf[1],Sf[0]),xo(-Sf[1],yf[0])),Af[2]))),bf[3]),po(gf(po(gf(po(xo(Sf[1],bf[0]),xo(-bf[1],Sf[0])),yf[2]),po(gf(po(xo(yf[1],bf[0]),xo(-bf[1],yf[0])),-Sf[2]),gf(po(xo(yf[1],Sf[0]),xo(-Sf[1],yf[0])),bf[2]))),-Af[3]),gf(po(gf(po(xo(xf[1],bf[0]),xo(-bf[1],xf[0])),Sf[2]),po(gf(po(xo(Sf[1],bf[0]),xo(-bf[1],Sf[0])),-xf[2]),gf(po(xo(Sf[1],xf[0]),xo(-xf[1],Sf[0])),bf[2]))),yf[3]))),po(gf(po(gf(po(xo(xf[1],bf[0]),xo(-bf[1],xf[0])),yf[2]),po(gf(po(xo(yf[1],bf[0]),xo(-bf[1],yf[0])),-xf[2]),gf(po(xo(yf[1],xf[0]),xo(-xf[1],yf[0])),bf[2]))),-Sf[3]),po(gf(po(gf(po(xo(Sf[1],bf[0]),xo(-bf[1],Sf[0])),yf[2]),po(gf(po(xo(yf[1],bf[0]),xo(-bf[1],yf[0])),-Sf[2]),gf(po(xo(yf[1],Sf[0]),xo(-Sf[1],yf[0])),bf[2]))),xf[3]),gf(po(gf(po(xo(Sf[1],xf[0]),xo(-xf[1],Sf[0])),yf[2]),po(gf(po(xo(yf[1],xf[0]),xo(-xf[1],yf[0])),-Sf[2]),gf(po(xo(yf[1],Sf[0]),xo(-Sf[1],yf[0])),xf[2]))),-bf[3]))))),Df=po(po(po(gf(po(gf(po(xo(bf[1],Af[0]),xo(-Af[1],bf[0])),xf[2]),po(gf(po(xo(xf[1],Af[0]),xo(-Af[1],xf[0])),-bf[2]),gf(po(xo(xf[1],bf[0]),xo(-bf[1],xf[0])),Af[2]))),yf[3]),gf(po(gf(po(xo(bf[1],Af[0]),xo(-Af[1],bf[0])),yf[2]),po(gf(po(xo(yf[1],Af[0]),xo(-Af[1],yf[0])),-bf[2]),gf(po(xo(yf[1],bf[0]),xo(-bf[1],yf[0])),Af[2]))),-xf[3])),po(gf(po(gf(po(xo(xf[1],Af[0]),xo(-Af[1],xf[0])),yf[2]),po(gf(po(xo(yf[1],Af[0]),xo(-Af[1],yf[0])),-xf[2]),gf(po(xo(yf[1],xf[0]),xo(-xf[1],yf[0])),Af[2]))),bf[3]),gf(po(gf(po(xo(xf[1],bf[0]),xo(-bf[1],xf[0])),yf[2]),po(gf(po(xo(yf[1],bf[0]),xo(-bf[1],yf[0])),-xf[2]),gf(po(xo(yf[1],xf[0]),xo(-xf[1],yf[0])),bf[2]))),-Af[3]))),po(po(gf(po(gf(po(xo(xf[1],Af[0]),xo(-Af[1],xf[0])),Sf[2]),po(gf(po(xo(Sf[1],Af[0]),xo(-Af[1],Sf[0])),-xf[2]),gf(po(xo(Sf[1],xf[0]),xo(-xf[1],Sf[0])),Af[2]))),yf[3]),gf(po(gf(po(xo(xf[1],Af[0]),xo(-Af[1],xf[0])),yf[2]),po(gf(po(xo(yf[1],Af[0]),xo(-Af[1],yf[0])),-xf[2]),gf(po(xo(yf[1],xf[0]),xo(-xf[1],yf[0])),Af[2]))),-Sf[3])),po(gf(po(gf(po(xo(Sf[1],Af[0]),xo(-Af[1],Sf[0])),yf[2]),po(gf(po(xo(yf[1],Af[0]),xo(-Af[1],yf[0])),-Sf[2]),gf(po(xo(yf[1],Sf[0]),xo(-Sf[1],yf[0])),Af[2]))),xf[3]),gf(po(gf(po(xo(Sf[1],xf[0]),xo(-xf[1],Sf[0])),yf[2]),po(gf(po(xo(yf[1],xf[0]),xo(-xf[1],yf[0])),-Sf[2]),gf(po(xo(yf[1],Sf[0]),xo(-Sf[1],yf[0])),xf[2]))),-Af[3])))),zf=cf(Pf,Df);return zf[zf.length-1]}}function lf(po){var xo=po===3?uo:po===4?mo:yo;return xo(q,W,X,tt)}var uf=lf(3),df=lf(4),wf=[function(){return 0},function(){return 0},function(po,xo){return xo[0]-po[0]},function(po,xo,gf){var cf=(po[1]-gf[1])*(xo[0]-gf[0]),yf=(po[0]-gf[0])*(xo[1]-gf[1]),Sf=cf-yf,xf;if(cf>0){if(yf<=0)return Sf;xf=cf+yf}else if(cf<0){if(yf>=0)return Sf;xf=-(cf+yf)}else return Sf;var bf=ut*xf;return Sf>=bf||Sf<=-bf?Sf:uf(po,xo,gf)},function(po,xo,gf,cf){var yf=po[0]-cf[0],Sf=xo[0]-cf[0],xf=gf[0]-cf[0],bf=po[1]-cf[1],Af=xo[1]-cf[1],Pf=gf[1]-cf[1],Df=po[2]-cf[2],zf=xo[2]-cf[2],jf=gf[2]-cf[2],$f=Sf*Pf,Ff=xf*Af,Xf=xf*bf,mp=yf*Pf,fp=yf*Af,Mp=Sf*bf,Np=Df*($f-Ff)+zf*(Xf-mp)+jf*(fp-Mp),Pp=(Math.abs($f)+Math.abs(Ff))*Math.abs(Df)+(Math.abs(Xf)+Math.abs(mp))*Math.abs(zf)+(Math.abs(fp)+Math.abs(Mp))*Math.abs(jf),yp=wt*Pp;return Np>yp||-Np>yp?Np:df(po,xo,gf,cf)}];function wo(po){var xo=wf[po.length];return xo||(xo=wf[po.length]=lf(po.length)),xo.apply(void 0,po)}function ls(po,xo,gf,cf,yf,Sf,xf){return function(bf,Af,Pf,Df,zf){switch(arguments.length){case 0:case 1:return 0;case 2:return cf(bf,Af);case 3:return yf(bf,Af,Pf);case 4:return Sf(bf,Af,Pf,Df);case 5:return xf(bf,Af,Pf,Df,zf)}for(var jf=new Array(arguments.length),$f=0;$f<arguments.length;++$f)jf[$f]=arguments[$f];return po(jf)}}function _f(){for(;wf.length<=ot;)wf.push(lf(wf.length));F.exports=ls.apply(void 0,[wo].concat(wf));for(var po=0;po<=ot;++po)F.exports[po]=wf[po]}_f()})(Xc);var ol=al,rr=Tn;function al(F,W){for(var q=W[0],X=W[1],tt=F.length,ot=1,at=tt,ut=0,wt=tt-1;ut<at;wt=ut++){var uo=F[ut],mo=F[wt],yo=uo[1],lf=mo[1];if(lf<yo){if(lf<X&&X<yo){var uf=rr(uo,mo,W);if(uf===0)return 0;ot^=0<uf|0}else if(X===yo){var df=F[(ut+1)%tt],wf=df[1];if(yo<wf){var uf=rr(uo,mo,W);if(uf===0)return 0;ot^=0<uf|0}}}else if(yo<lf){if(yo<X&&X<lf){var uf=rr(uo,mo,W);if(uf===0)return 0;ot^=uf<0|0}else if(X===yo){var df=F[(ut+1)%tt],wf=df[1];if(wf<yo){var uf=rr(uo,mo,W);if(uf===0)return 0;ot^=uf<0|0}}}else if(X===yo){var wo=Math.min(uo[0],mo[0]),ls=Math.max(uo[0],mo[0]);if(ut===0){for(;wt>0;){var _f=(wt+tt-1)%tt,po=F[_f];if(po[1]!==X)break;var xo=po[0];wo=Math.min(wo,xo),ls=Math.max(ls,xo),wt=_f}if(wt===0)return wo<=q&&q<=ls?0:1;at=wt+1}for(var gf=F[(wt+tt-1)%tt][1];ut+1<at;){var po=F[ut+1];if(po[1]!==X)break;var xo=po[0];wo=Math.min(wo,xo),ls=Math.max(ls,xo),ut+=1}if(wo<=q&&q<=ls)return 0;var cf=F[(ut+1)%tt][1];q<wo&&gf<X!=cf<X&&(ot^=1)}}return 2*ot-1}var lr={};const hl="1.5.0",cl={version:hl};function ks(F){return"("+F.x+";"+F.y+")"}function ll(F){var W=F.toString();return W==="[object Object]"?ks(F):W}function ul(F,W){return F.y===W.y?F.x-W.x:F.y-W.y}function dl(F,W){return F.x===W.x&&F.y===W.y}var Nn={toString:ll,toStringBase:ks,compare:ul,equals:dl},fl=Nn,Sr=function(F,W){this.name="PointError",this.points=W=W||[],this.message=F||"Invalid Points!";for(var q=0;q<W.length;q++)this.message+=" "+fl.toString(W[q])};Sr.prototype=new Error;Sr.prototype.constructor=Sr;var Ln=Sr,Ue=Nn,J=function(F,W){this.x=+F||0,this.y=+W||0,this._p2t_edge_list=null};J.prototype.toString=function(){return Ue.toStringBase(this)};J.prototype.toJSON=function(){return{x:this.x,y:this.y}};J.prototype.clone=function(){return new J(this.x,this.y)};J.prototype.set_zero=function(){return this.x=0,this.y=0,this};J.prototype.set=function(F,W){return this.x=+F||0,this.y=+W||0,this};J.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this};J.prototype.add=function(F){return this.x+=F.x,this.y+=F.y,this};J.prototype.sub=function(F){return this.x-=F.x,this.y-=F.y,this};J.prototype.mul=function(F){return this.x*=F,this.y*=F,this};J.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};J.prototype.normalize=function(){var F=this.length();return this.x/=F,this.y/=F,F};J.prototype.equals=function(F){return this.x===F.x&&this.y===F.y};J.negate=function(F){return new J(-F.x,-F.y)};J.add=function(F,W){return new J(F.x+W.x,F.y+W.y)};J.sub=function(F,W){return new J(F.x-W.x,F.y-W.y)};J.mul=function(F,W){return new J(F*W.x,F*W.y)};J.cross=function(F,W){return typeof F=="number"?typeof W=="number"?F*W:new J(-F*W.y,F*W.x):typeof W=="number"?new J(W*F.y,-W*F.x):F.x*W.y-F.y*W.x};J.toString=Ue.toString;J.compare=Ue.compare;J.cmp=Ue.compare;J.equals=Ue.equals;J.dot=function(F,W){return F.x*W.x+F.y*W.y};var Os=J,pl=Nn,Z=function(F,W,q){this.points_=[F,W,q],this.neighbors_=[null,null,null],this.interior_=!1,this.constrained_edge=[!1,!1,!1],this.delaunay_edge=[!1,!1,!1]},Kr=pl.toString;Z.prototype.toString=function(){return"["+Kr(this.points_[0])+Kr(this.points_[1])+Kr(this.points_[2])+"]"};Z.prototype.getPoint=function(F){return this.points_[F]};Z.prototype.GetPoint=Z.prototype.getPoint;Z.prototype.getPoints=function(){return this.points_};Z.prototype.getNeighbor=function(F){return this.neighbors_[F]};Z.prototype.containsPoint=function(F){var W=this.points_;return F===W[0]||F===W[1]||F===W[2]};Z.prototype.containsEdge=function(F){return this.containsPoint(F.p)&&this.containsPoint(F.q)};Z.prototype.containsPoints=function(F,W){return this.containsPoint(F)&&this.containsPoint(W)};Z.prototype.isInterior=function(){return this.interior_};Z.prototype.setInterior=function(F){return this.interior_=F,this};Z.prototype.markNeighborPointers=function(F,W,q){var X=this.points_;if(F===X[2]&&W===X[1]||F===X[1]&&W===X[2])this.neighbors_[0]=q;else if(F===X[0]&&W===X[2]||F===X[2]&&W===X[0])this.neighbors_[1]=q;else if(F===X[0]&&W===X[1]||F===X[1]&&W===X[0])this.neighbors_[2]=q;else throw new Error("poly2tri Invalid Triangle.markNeighborPointers() call")};Z.prototype.markNeighbor=function(F){var W=this.points_;F.containsPoints(W[1],W[2])?(this.neighbors_[0]=F,F.markNeighborPointers(W[1],W[2],this)):F.containsPoints(W[0],W[2])?(this.neighbors_[1]=F,F.markNeighborPointers(W[0],W[2],this)):F.containsPoints(W[0],W[1])&&(this.neighbors_[2]=F,F.markNeighborPointers(W[0],W[1],this))};Z.prototype.clearNeighbors=function(){this.neighbors_[0]=null,this.neighbors_[1]=null,this.neighbors_[2]=null};Z.prototype.clearDelaunayEdges=function(){this.delaunay_edge[0]=!1,this.delaunay_edge[1]=!1,this.delaunay_edge[2]=!1};Z.prototype.pointCW=function(F){var W=this.points_;return F===W[0]?W[2]:F===W[1]?W[0]:F===W[2]?W[1]:null};Z.prototype.pointCCW=function(F){var W=this.points_;return F===W[0]?W[1]:F===W[1]?W[2]:F===W[2]?W[0]:null};Z.prototype.neighborCW=function(F){return F===this.points_[0]?this.neighbors_[1]:F===this.points_[1]?this.neighbors_[2]:this.neighbors_[0]};Z.prototype.neighborCCW=function(F){return F===this.points_[0]?this.neighbors_[2]:F===this.points_[1]?this.neighbors_[0]:this.neighbors_[1]};Z.prototype.getConstrainedEdgeCW=function(F){return F===this.points_[0]?this.constrained_edge[1]:F===this.points_[1]?this.constrained_edge[2]:this.constrained_edge[0]};Z.prototype.getConstrainedEdgeCCW=function(F){return F===this.points_[0]?this.constrained_edge[2]:F===this.points_[1]?this.constrained_edge[0]:this.constrained_edge[1]};Z.prototype.getConstrainedEdgeAcross=function(F){return F===this.points_[0]?this.constrained_edge[0]:F===this.points_[1]?this.constrained_edge[1]:this.constrained_edge[2]};Z.prototype.setConstrainedEdgeCW=function(F,W){F===this.points_[0]?this.constrained_edge[1]=W:F===this.points_[1]?this.constrained_edge[2]=W:this.constrained_edge[0]=W};Z.prototype.setConstrainedEdgeCCW=function(F,W){F===this.points_[0]?this.constrained_edge[2]=W:F===this.points_[1]?this.constrained_edge[0]=W:this.constrained_edge[1]=W};Z.prototype.getDelaunayEdgeCW=function(F){return F===this.points_[0]?this.delaunay_edge[1]:F===this.points_[1]?this.delaunay_edge[2]:this.delaunay_edge[0]};Z.prototype.getDelaunayEdgeCCW=function(F){return F===this.points_[0]?this.delaunay_edge[2]:F===this.points_[1]?this.delaunay_edge[0]:this.delaunay_edge[1]};Z.prototype.setDelaunayEdgeCW=function(F,W){F===this.points_[0]?this.delaunay_edge[1]=W:F===this.points_[1]?this.delaunay_edge[2]=W:this.delaunay_edge[0]=W};Z.prototype.setDelaunayEdgeCCW=function(F,W){F===this.points_[0]?this.delaunay_edge[2]=W:F===this.points_[1]?this.delaunay_edge[0]=W:this.delaunay_edge[1]=W};Z.prototype.neighborAcross=function(F){return F===this.points_[0]?this.neighbors_[0]:F===this.points_[1]?this.neighbors_[1]:this.neighbors_[2]};Z.prototype.oppositePoint=function(F,W){var q=F.pointCW(W);return this.pointCW(q)};Z.prototype.legalize=function(F,W){var q=this.points_;if(F===q[0])q[1]=q[0],q[0]=q[2],q[2]=W;else if(F===q[1])q[2]=q[1],q[1]=q[0],q[0]=W;else if(F===q[2])q[0]=q[2],q[2]=q[1],q[1]=W;else throw new Error("poly2tri Invalid Triangle.legalize() call")};Z.prototype.index=function(F){var W=this.points_;if(F===W[0])return 0;if(F===W[1])return 1;if(F===W[2])return 2;throw new Error("poly2tri Invalid Triangle.index() call")};Z.prototype.edgeIndex=function(F,W){var q=this.points_;if(F===q[0]){if(W===q[1])return 2;if(W===q[2])return 1}else if(F===q[1]){if(W===q[2])return 0;if(W===q[0])return 2}else if(F===q[2]){if(W===q[0])return 1;if(W===q[1])return 0}return-1};Z.prototype.markConstrainedEdgeByIndex=function(F){this.constrained_edge[F]=!0};Z.prototype.markConstrainedEdgeByEdge=function(F){this.markConstrainedEdgeByPoints(F.p,F.q)};Z.prototype.markConstrainedEdgeByPoints=function(F,W){var q=this.points_;W===q[0]&&F===q[1]||W===q[1]&&F===q[0]?this.constrained_edge[2]=!0:W===q[0]&&F===q[2]||W===q[2]&&F===q[0]?this.constrained_edge[1]=!0:(W===q[1]&&F===q[2]||W===q[2]&&F===q[1])&&(this.constrained_edge[0]=!0)};var Dn=Z,Bn={};function gl(F,W){if(!F)throw new Error(W||"Assert Failed")}var ml=gl,je={},yl={get exports(){return je},set exports(F){je=F}},vl=function(F,W){this.point=F,this.triangle=W||null,this.next=null,this.prev=null,this.value=F.x},kt=function(F,W){this.head_=F,this.tail_=W,this.search_node_=F};kt.prototype.head=function(){return this.head_};kt.prototype.setHead=function(F){this.head_=F};kt.prototype.tail=function(){return this.tail_};kt.prototype.setTail=function(F){this.tail_=F};kt.prototype.search=function(){return this.search_node_};kt.prototype.setSearch=function(F){this.search_node_=F};kt.prototype.findSearchNode=function(){return this.search_node_};kt.prototype.locateNode=function(F){var W=this.search_node_;if(F<W.value){for(;W=W.prev;)if(F>=W.value)return this.search_node_=W,W}else for(;W=W.next;)if(F<W.value)return this.search_node_=W.prev,W.prev;return null};kt.prototype.locatePoint=function(F){var W=F.x,q=this.findSearchNode(W),X=q.point.x;if(W===X){if(F!==q.point)if(F===q.prev.point)q=q.prev;else if(F===q.next.point)q=q.next;else throw new Error("poly2tri Invalid AdvancingFront.locatePoint() call")}else if(W<X)for(;(q=q.prev)&&F!==q.point;);else for(;(q=q.next)&&F!==q.point;);return q&&(this.search_node_=q),q};yl.exports=kt;je.Node=vl;var fe={},Ge=1e-12;fe.EPSILON=Ge;var ur={CW:1,CCW:-1,COLLINEAR:0};fe.Orientation=ur;function wl(F,W,q){var X=(F.x-q.x)*(W.y-q.y),tt=(F.y-q.y)*(W.x-q.x),ot=X-tt;return ot>-Ge&&ot<Ge?ur.COLLINEAR:ot>0?ur.CCW:ur.CW}fe.orient2d=wl;function xl(F,W,q,X){var tt=(F.x-W.x)*(X.y-W.y)-(X.x-W.x)*(F.y-W.y);if(tt>=-Ge)return!1;var ot=(F.x-q.x)*(X.y-q.y)-(X.x-q.x)*(F.y-q.y);return!(ot<=Ge)}fe.inScanArea=xl;function bl(F,W,q){var X=W.x-F.x,tt=W.y-F.y,ot=q.x-F.x,at=q.y-F.y;return X*ot+tt*at<0}fe.isAngleObtuse=bl;var jn=ml,Ar=Ln,Ns=Dn,Tl=je.Node,We=fe,Ml=We.EPSILON,et=We.Orientation,it=We.orient2d,Ls=We.inScanArea,vi=We.isAngleObtuse;function _l(F){F.initTriangulation(),F.createAdvancingFront(),El(F),Il(F)}function El(F){var W,q=F.pointCount();for(W=1;W<q;++W)for(var X=F.getPoint(W),tt=Sl(F,X),ot=X._p2t_edge_list,at=0;ot&&at<ot.length;++at)Al(F,ot[at],tt)}function Il(F){for(var W=F.front().head().next.triangle,q=F.front().head().next.point;!W.getConstrainedEdgeCW(q);)W=W.neighborCCW(q);F.meshClean(W)}function Sl(F,W){var q=F.locateNode(W),X=Rl(F,W,q);return W.x<=q.point.x+Ml&&ue(F,q),Cl(F,X),X}function Al(F,W,q){F.edge_event.constrained_edge=W,F.edge_event.right=W.p.x>W.q.x,!Ds(q.triangle,W.p,W.q)&&(Ll(F,W,q),Gn(F,W.p,W.q,q.triangle,W.q))}function Gn(F,W,q,X,tt){if(!Ds(X,W,q)){var ot=X.pointCCW(tt),at=it(q,ot,W);if(at===et.COLLINEAR)throw new Ar("poly2tri EdgeEvent: Collinear not supported!",[q,ot,W]);var ut=X.pointCW(tt),wt=it(q,ut,W);if(wt===et.COLLINEAR)throw new Ar("poly2tri EdgeEvent: Collinear not supported!",[q,ut,W]);at===wt?(at===et.CW?X=X.neighborCCW(tt):X=X.neighborCW(tt),Gn(F,W,q,X,tt)):Wn(F,W,q,X,tt)}}function Ds(F,W,q){var X=F.edgeIndex(W,q);if(X!==-1){F.markConstrainedEdgeByIndex(X);var tt=F.getNeighbor(X);return tt&&tt.markConstrainedEdgeByPoints(W,q),!0}return!1}function Rl(F,W,q){var X=new Ns(W,q.point,q.next.point);X.markNeighbor(q.triangle),F.addToMap(X);var tt=new Tl(W);return tt.next=q.next,tt.prev=q,q.next.prev=tt,q.next=tt,Zt(F,X)||F.mapTriangleToNodes(X),tt}function ue(F,W){var q=new Ns(W.prev.point,W.point,W.next.point);q.markNeighbor(W.prev.triangle),q.markNeighbor(W.triangle),F.addToMap(q),W.prev.next=W.next,W.next.prev=W.prev,Zt(F,q)||F.mapTriangleToNodes(q)}function Cl(F,W){for(var q=W.next;q.next&&!vi(q.point,q.next.point,q.prev.point);)ue(F,q),q=q.next;for(q=W.prev;q.prev&&!vi(q.point,q.next.point,q.prev.point);)ue(F,q),q=q.prev;W.next&&W.next.next&&Pl(W)&&Ol(F,W)}function Pl(F){var W=F.point.x-F.next.next.point.x,q=F.point.y-F.next.next.point.y;return jn(q>=0,"unordered y"),W>=0||Math.abs(W)<q}function Zt(F,W){for(var q=0;q<3;++q)if(!W.delaunay_edge[q]){var X=W.getNeighbor(q);if(X){var tt=W.getPoint(q),ot=X.oppositePoint(W,tt),at=X.index(ot);if(X.constrained_edge[at]||X.delaunay_edge[at]){W.constrained_edge[q]=X.constrained_edge[at];continue}var ut=kl(tt,W.pointCCW(tt),W.pointCW(tt),ot);if(ut){W.delaunay_edge[q]=!0,X.delaunay_edge[at]=!0,Bs(W,tt,X,ot);var wt=!Zt(F,W);return wt&&F.mapTriangleToNodes(W),wt=!Zt(F,X),wt&&F.mapTriangleToNodes(X),W.delaunay_edge[q]=!1,X.delaunay_edge[at]=!1,!0}}}return!1}function kl(F,W,q,X){var tt=F.x-X.x,ot=F.y-X.y,at=W.x-X.x,ut=W.y-X.y,wt=tt*ut,uo=at*ot,mo=wt-uo;if(mo<=0)return!1;var yo=q.x-X.x,lf=q.y-X.y,uf=yo*ot,df=tt*lf,wf=uf-df;if(wf<=0)return!1;var wo=at*lf,ls=yo*ut,_f=tt*tt+ot*ot,po=at*at+ut*ut,xo=yo*yo+lf*lf,gf=_f*(wo-ls)+po*wf+xo*mo;return gf>0}function Bs(F,W,q,X){var tt,ot,at,ut;tt=F.neighborCCW(W),ot=F.neighborCW(W),at=q.neighborCCW(X),ut=q.neighborCW(X);var wt,uo,mo,yo;wt=F.getConstrainedEdgeCCW(W),uo=F.getConstrainedEdgeCW(W),mo=q.getConstrainedEdgeCCW(X),yo=q.getConstrainedEdgeCW(X);var lf,uf,df,wf;lf=F.getDelaunayEdgeCCW(W),uf=F.getDelaunayEdgeCW(W),df=q.getDelaunayEdgeCCW(X),wf=q.getDelaunayEdgeCW(X),F.legalize(W,X),q.legalize(X,W),q.setDelaunayEdgeCCW(W,lf),F.setDelaunayEdgeCW(W,uf),F.setDelaunayEdgeCCW(X,df),q.setDelaunayEdgeCW(X,wf),q.setConstrainedEdgeCCW(W,wt),F.setConstrainedEdgeCW(W,uo),F.setConstrainedEdgeCCW(X,mo),q.setConstrainedEdgeCW(X,yo),F.clearNeighbors(),q.clearNeighbors(),tt&&q.markNeighbor(tt),ot&&F.markNeighbor(ot),at&&F.markNeighbor(at),ut&&q.markNeighbor(ut),F.markNeighbor(q)}function Ol(F,W){for(it(W.point,W.next.point,W.next.next.point)===et.CCW?F.basin.left_node=W.next.next:F.basin.left_node=W.next,F.basin.bottom_node=F.basin.left_node;F.basin.bottom_node.next&&F.basin.bottom_node.point.y>=F.basin.bottom_node.next.point.y;)F.basin.bottom_node=F.basin.bottom_node.next;if(F.basin.bottom_node!==F.basin.left_node){for(F.basin.right_node=F.basin.bottom_node;F.basin.right_node.next&&F.basin.right_node.point.y<F.basin.right_node.next.point.y;)F.basin.right_node=F.basin.right_node.next;F.basin.right_node!==F.basin.bottom_node&&(F.basin.width=F.basin.right_node.point.x-F.basin.left_node.point.x,F.basin.left_highest=F.basin.left_node.point.y>F.basin.right_node.point.y,js(F,F.basin.bottom_node))}}function js(F,W){if(!Nl(F,W)){ue(F,W);var q;if(!(W.prev===F.basin.left_node&&W.next===F.basin.right_node)){if(W.prev===F.basin.left_node){if(q=it(W.point,W.next.point,W.next.next.point),q===et.CW)return;W=W.next}else if(W.next===F.basin.right_node){if(q=it(W.point,W.prev.point,W.prev.prev.point),q===et.CCW)return;W=W.prev}else W.prev.point.y<W.next.point.y?W=W.prev:W=W.next;js(F,W)}}}function Nl(F,W){var q;return F.basin.left_highest?q=F.basin.left_node.point.y-W.point.y:q=F.basin.right_node.point.y-W.point.y,F.basin.width>q}function Ll(F,W,q){F.edge_event.right?Dl(F,W,q):Bl(F,W,q)}function Dl(F,W,q){for(;q.next.point.x<W.p.x;)it(W.q,q.next.point,W.p)===et.CCW?Gs(F,W,q):q=q.next}function Gs(F,W,q){q.point.x<W.p.x&&(it(q.point,q.next.point,q.next.next.point)===et.CCW?Fn(F,W,q):(Fs(F,W,q),Gs(F,W,q)))}function Fn(F,W,q){ue(F,q.next),q.next.point!==W.p&&it(W.q,q.next.point,W.p)===et.CCW&&it(q.point,q.next.point,q.next.next.point)===et.CCW&&Fn(F,W,q)}function Fs(F,W,q){it(q.next.point,q.next.next.point,q.next.next.next.point)===et.CCW?Fn(F,W,q.next):it(W.q,q.next.next.point,W.p)===et.CCW&&Fs(F,W,q.next)}function Bl(F,W,q){for(;q.prev.point.x>W.p.x;)it(W.q,q.prev.point,W.p)===et.CW?Us(F,W,q):q=q.prev}function Us(F,W,q){q.point.x>W.p.x&&(it(q.point,q.prev.point,q.prev.prev.point)===et.CW?Un(F,W,q):(Ws(F,W,q),Us(F,W,q)))}function Ws(F,W,q){it(q.prev.point,q.prev.prev.point,q.prev.prev.prev.point)===et.CW?Un(F,W,q.prev):it(W.q,q.prev.prev.point,W.p)===et.CW&&Ws(F,W,q.prev)}function Un(F,W,q){ue(F,q.prev),q.prev.point!==W.p&&it(W.q,q.prev.point,W.p)===et.CW&&it(q.point,q.prev.point,q.prev.prev.point)===et.CW&&Un(F,W,q)}function Wn(F,W,q,X,tt){var ot=X.neighborAcross(tt);jn(ot,"FLIP failed due to missing triangle!");var at=ot.oppositePoint(X,tt);if(X.getConstrainedEdgeAcross(tt)){var ut=X.index(tt);throw new Ar("poly2tri Intersecting Constraints",[tt,at,X.getPoint((ut+1)%3),X.getPoint((ut+2)%3)])}if(Ls(tt,X.pointCCW(tt),X.pointCW(tt),at))if(Bs(X,tt,ot,at),F.mapTriangleToNodes(X),F.mapTriangleToNodes(ot),tt===q&&at===W)q===F.edge_event.constrained_edge.q&&W===F.edge_event.constrained_edge.p&&(X.markConstrainedEdgeByPoints(W,q),ot.markConstrainedEdgeByPoints(W,q),Zt(F,X),Zt(F,ot));else{var wt=it(q,at,W);X=jl(F,wt,X,ot,tt,at),Wn(F,W,q,X,tt)}else{var uo=Vs(W,q,ot,at);zs(F,W,q,X,ot,uo),Gn(F,W,q,X,tt)}}function jl(F,W,q,X,tt,ot){var at;return W===et.CCW?(at=X.edgeIndex(tt,ot),X.delaunay_edge[at]=!0,Zt(F,X),X.clearDelaunayEdges(),q):(at=q.edgeIndex(tt,ot),q.delaunay_edge[at]=!0,Zt(F,q),q.clearDelaunayEdges(),X)}function Vs(F,W,q,X){var tt=it(W,X,F);if(tt===et.CW)return q.pointCCW(X);if(tt===et.CCW)return q.pointCW(X);throw new Ar("poly2tri [Unsupported] nextFlipPoint: opposing point on constrained edge!",[W,X,F])}function zs(F,W,q,X,tt,ot){var at=tt.neighborAcross(ot);jn(at,"FLIP failed due to missing triangle");var ut=at.oppositePoint(tt,ot);if(Ls(q,X.pointCCW(q),X.pointCW(q),ut))Wn(F,q,ut,at,ut);else{var wt=Vs(W,q,at,ut);zs(F,W,q,X,at,wt)}}Bn.triangulate=_l;var Gl=Ln,pe=Os,Fl=Dn,Ul=Bn,Zs=je,Qr=Zs.Node,wi=.3,Wl=function(F,W){if(this.p=F,this.q=W,F.y>W.y)this.q=F,this.p=W;else if(F.y===W.y){if(F.x>W.x)this.q=F,this.p=W;else if(F.x===W.x)throw new Gl("poly2tri Invalid Edge constructor: repeated points!",[F])}this.q._p2t_edge_list||(this.q._p2t_edge_list=[]),this.q._p2t_edge_list.push(this)},$s=function(){this.left_node=null,this.bottom_node=null,this.right_node=null,this.width=0,this.left_highest=!1};$s.prototype.clear=function(){this.left_node=null,this.bottom_node=null,this.right_node=null,this.width=0,this.left_highest=!1};var Vl=function(){this.constrained_edge=null,this.right=!1},Y=function(F,W){W=W||{},this.triangles_=[],this.map_=[],this.points_=W.cloneArrays?F.slice(0):F,this.edge_list=[],this.pmin_=this.pmax_=null,this.front_=null,this.head_=null,this.tail_=null,this.af_head_=null,this.af_middle_=null,this.af_tail_=null,this.basin=new $s,this.edge_event=new Vl,this.initEdges(this.points_)};Y.prototype.addHole=function(F){this.initEdges(F);var W,q=F.length;for(W=0;W<q;W++)this.points_.push(F[W]);return this};Y.prototype.AddHole=Y.prototype.addHole;Y.prototype.addHoles=function(F){var W,q=F.length;for(W=0;W<q;W++)this.initEdges(F[W]);return this.points_=this.points_.concat.apply(this.points_,F),this};Y.prototype.addPoint=function(F){return this.points_.push(F),this};Y.prototype.AddPoint=Y.prototype.addPoint;Y.prototype.addPoints=function(F){return this.points_=this.points_.concat(F),this};Y.prototype.triangulate=function(){return Ul.triangulate(this),this};Y.prototype.getBoundingBox=function(){return{min:this.pmin_,max:this.pmax_}};Y.prototype.getTriangles=function(){return this.triangles_};Y.prototype.GetTriangles=Y.prototype.getTriangles;Y.prototype.front=function(){return this.front_};Y.prototype.pointCount=function(){return this.points_.length};Y.prototype.head=function(){return this.head_};Y.prototype.setHead=function(F){this.head_=F};Y.prototype.tail=function(){return this.tail_};Y.prototype.setTail=function(F){this.tail_=F};Y.prototype.getMap=function(){return this.map_};Y.prototype.initTriangulation=function(){var F=this.points_[0].x,W=this.points_[0].x,q=this.points_[0].y,X=this.points_[0].y,tt,ot=this.points_.length;for(tt=1;tt<ot;tt++){var at=this.points_[tt];at.x>F&&(F=at.x),at.x<W&&(W=at.x),at.y>q&&(q=at.y),at.y<X&&(X=at.y)}this.pmin_=new pe(W,X),this.pmax_=new pe(F,q);var ut=wi*(F-W),wt=wi*(q-X);this.head_=new pe(F+ut,X-wt),this.tail_=new pe(W-ut,X-wt),this.points_.sort(pe.compare)};Y.prototype.initEdges=function(F){var W,q=F.length;for(W=0;W<q;++W)this.edge_list.push(new Wl(F[W],F[(W+1)%q]))};Y.prototype.getPoint=function(F){return this.points_[F]};Y.prototype.addToMap=function(F){this.map_.push(F)};Y.prototype.locateNode=function(F){return this.front_.locateNode(F.x)};Y.prototype.createAdvancingFront=function(){var F,W,q,X=new Fl(this.points_[0],this.tail_,this.head_);this.map_.push(X),F=new Qr(X.getPoint(1),X),W=new Qr(X.getPoint(0),X),q=new Qr(X.getPoint(2)),this.front_=new Zs(F,q),F.next=W,W.next=q,W.prev=F,q.prev=W};Y.prototype.removeNode=function(F){};Y.prototype.mapTriangleToNodes=function(F){for(var W=0;W<3;++W)if(!F.getNeighbor(W)){var q=this.front_.locatePoint(F.pointCW(F.getPoint(W)));q&&(q.triangle=F)}};Y.prototype.removeFromMap=function(F){var W,q=this.map_,X=q.length;for(W=0;W<X;W++)if(q[W]===F){q.splice(W,1);break}};Y.prototype.meshClean=function(F){for(var W=[F],q,X;q=W.pop();)if(!q.isInterior())for(q.setInterior(!0),this.triangles_.push(q),X=0;X<3;X++)q.constrained_edge[X]||W.push(q.getNeighbor(X))};var zl=Y;(function(F){var W=globalThis.poly2tri;F.noConflict=function(){return globalThis.poly2tri=W,F},F.VERSION=cl.version,F.PointError=Ln,F.Point=Os,F.Triangle=Dn,F.SweepContext=zl;var q=Bn;F.triangulate=q.triangulate,F.sweep={Triangulate:q.triangulate}})(lr);function Zl(F,W){const q=$c(F,W),X=new lr.SweepContext(Zc(F,W).map(tt=>new lr.Point(tt[0],tt[1])));for(let tt=0;tt<q.length;tt++)ol(F,q[tt])===-1&&X.addPoint(new lr.Point(q[tt][0],q[tt][1]));try{X.triangulate()}catch{throw new Error("A Point Error occured during resource mask triangulation. This is typically because the resource mask contains duplicate or collinear points, or is self-intersecting.")}return X.getTriangles()}function $l(F,W){return Zl(F,W).map(q=>q.getPoints().map(X=>[X.x,X.y]))}function se(F,W){const q=W[0],X=W[1];return[F[0]*q+F[2]*X+F[4],F[1]*q+F[3]*X+F[5]]}function Xl(){return[1,0,0,1,0,0]}function ql(F,W){const q=F[0],X=F[1],tt=F[2],ot=F[3],at=F[4],ut=F[5],wt=W[0],uo=W[1],mo=W[2],yo=W[3],lf=W[4],uf=W[5];return[q*wt+tt*uo,X*wt+ot*uo,q*mo+tt*yo,X*mo+ot*yo,q*lf+tt*uf+at,X*lf+ot*uf+ut]}function xi(F,W,q,X,tt,ot,at){const ut=Math.sin(tt),wt=Math.cos(tt);return[q*wt,X*ut,-q*ut,X*wt,ot*q*wt-at*q*ut+F,ot*X*ut+at*X*wt+W]}function Hl(F){const W=Yl(F),q=F[0],X=F[1],tt=F[2],ot=F[3],at=F[4],ut=F[5];return[ot/W,-X/W,-tt/W,q/W,(tt*ut-ot*at)/W,-(q*ut-X*at)/W]}function Yl(F){return F[0]*F[3]-F[1]*F[2]}function Jl(F){const W=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return W[0]=F[0],W[1]=F[1],W[4]=F[2],W[5]=F[3],W[12]=F[4],W[13]=F[5],W}var k;(function(F){F.GEOREFERENCEANNOTATIONADDED="georeferenceannotationadded",F.GEOREFERENCEANNOTATIONREMOVED="georeferenceannotationremoved",F.WARPEDMAPADDED="warpedmapadded",F.WARPEDMAPREMOVED="warpedmapremoved",F.WARPEDMAPENTER="warpedmapenter",F.WARPEDMAPLEAVE="warpedmapleave",F.IMAGEINFOLOADED="imageinfoloaded",F.TILEFETCHED="tilefetched",F.TILEFETCHERROR="tilefetcherror",F.MAPTILELOADED="maptileloaded",F.MAPTILEREMOVED="maptileremoved",F.FIRSTMAPTILELOADED="firstmaptileloaded",F.ALLREQUESTEDTILESLOADED="allrequestedtilesloaded",F.TEXTURESUPDATED="texturesupdated",F.ZINDICESCHANGES="zindiceschanged",F.RESOURCEMASKUPDATED="resourcemaskupdated",F.VISIBILITYCHANGED="visibilitychanged",F.TRANSFORMATIONCHANGED="transformationchanged",F.CHANGED="changed",F.CLEARED="cleared"})(k||(k={}));class z extends Event{constructor(W,q){super(W),this.data=q}}const Kl=80,bi={maxOffsetRatio:.05,maxDepth:2},Ti={maxOffsetRatio:.05,maxDepth:2};class Ql extends EventTarget{constructor(W,q,X,tt=!0){var ot;super(),this.resourceViewportRing=[],this.resourceTrianglePoints=[],this.resourceTrianglePointsByBestScaleFactor=new Map,this.projectedGeoCurrentTrianglePoints=[],this.projectedGeoNewTrianglePoints=[],this.mapId=W,this.georeferencedMap=q,this.gcps=this.georeferencedMap.gcps,this.projectedGcps=this.gcps.map(({geo:at,resource:ut})=>({geo:Eh(at),resource:ut})),this.resourceMask=this.georeferencedMap.resourceMask,this.resourceMaskBbox=st(this.resourceMask),this.resourceFullMask=[[0,0],[this.georeferencedMap.resource.width,0],[this.georeferencedMap.resource.width,this.georeferencedMap.resource.height],[0,this.georeferencedMap.resource.height]],this.resourceFullMaskBbox=st(this.resourceFullMask),this.imageInfoCache=X,this.visible=tt,this.transformationType=((ot=this.georeferencedMap.transformation)==null?void 0:ot.type)||"polynomial",this.updateTransformerProperties()}getViewportMask(W){return this.projectedGeoMask.map(q=>se(W.projectedGeoToViewportTransform,q))}getViewportMaskBbox(W){return st(this.getViewportMask(W))}getApproxViewportMaskBbox(W){return st(De(this.projectedGeoMaskBbox).map(q=>se(W.projectedGeoToViewportTransform,q)))}getViewportFullMask(W){return this.projectedGeoFullMask.map(q=>se(W.projectedGeoToViewportTransform,q))}getViewportFullMaskBbox(W){return st(this.getViewportFullMask(W))}getApproxViewportFullMaskBbox(W){return st(De(this.projectedGeoFullMaskBbox).map(q=>se(W.projectedGeoToViewportTransform,q)))}getResourceToViewportScale(W){return $r(this.resourceMaskBbox,this.getViewportMaskBbox(W))}getResourceToCanvasScale(W){return this.getResourceToViewportScale(W)/W.devicePixelRatio}getApproxResourceToViewportScale(W){return $r(this.resourceMaskBbox,this.getApproxViewportMaskBbox(W))}getApproxResourceToCanvasScale(W){return this.getApproxResourceToViewportScale(W)/W.devicePixelRatio}setResourceViewportRing(W){this.resourceViewportRing=W,this.resourceViewportRingBbox=st(W)}setResourceMask(W){this.resourceMask=W,this.updateGeoMask(),this.updateProjectedGeoMask()}setTransformationType(W){this.transformationType=W,this.updateTransformerProperties()}setGcps(W){this.gcps=W,this.updateTransformerProperties()}updateBestScaleFactor(W){this.bestScaleFactor!=W&&(this.bestScaleFactor=W,this.updateTriangulation(!0))}updateTriangulation(W=!1){if(this.resourceTrianglePointsByBestScaleFactor.has(this.bestScaleFactor))this.resourceTrianglePoints=this.resourceTrianglePointsByBestScaleFactor.get(this.bestScaleFactor);else{const q=bh(this.resourceMask)*this.bestScaleFactor/Kl;this.resourceTrianglePoints=$l(this.resourceMask,q).flat(),this.resourceTrianglePointsByBestScaleFactor.set(this.bestScaleFactor,this.resourceTrianglePoints)}this.updateProjectedGeoTrianglePoints(W)}updateProjectedGeoTrianglePoints(W=!1){this.projectedGeoNewTrianglePoints=this.resourceTrianglePoints.map(q=>this.projectedTransformer.transformToGeo(q)),(W||!this.projectedGeoCurrentTrianglePoints.length)&&(this.projectedGeoCurrentTrianglePoints=this.projectedGeoNewTrianglePoints)}resetCurrentTrianglePoints(){this.projectedGeoCurrentTrianglePoints=this.projectedGeoNewTrianglePoints}clearResourceTrianglePointsByBestScaleFactor(){this.resourceTrianglePointsByBestScaleFactor=new Map}mixProjectedGeoCurrentAndNewTrianglePoints(W){this.projectedGeoCurrentTrianglePoints=this.projectedGeoNewTrianglePoints.map((q,X)=>ph(q,this.projectedGeoCurrentTrianglePoints[X],W))}hasImageInfo(){return this.imageId!==void 0&&this.parsedImage!==void 0}async loadImageInfo(){const W=this.georeferencedMap.resource.id,q=await hh(W,{cache:this.imageInfoCache});this.parsedImage=Qa.parse(q),this.imageId=await Li(W),this.dispatchEvent(new z(k.IMAGEINFOLOADED))}dispose(){this.resourceTrianglePoints=[],this.projectedGeoCurrentTrianglePoints=[],this.projectedGeoNewTrianglePoints=[]}updateTransformerProperties(){this.updateTransformer(),this.updateProjectedTransformer(),this.updateGeoMask(),this.updateFullGeoMask(),this.updateProjectedGeoMask(),this.updateProjectedFullGeoMask(),this.updateResourceToProjectedGeoScale()}updateTransformer(){this.transformer=new mi(this.gcps,this.transformationType)}updateProjectedTransformer(){this.projectedTransformer=new mi(this.projectedGcps,this.transformationType)}updateGeoMask(){this.geoMask=this.transformer.transformForwardAsGeojson([this.resourceMask],bi),this.geoMaskBbox=st(this.geoMask)}updateFullGeoMask(){this.geoFullMask=this.transformer.transformForwardAsGeojson([this.resourceFullMask],bi),this.geoFullMaskBbox=st(this.geoFullMask)}updateProjectedGeoMask(){this.projectedGeoMask=this.projectedTransformer.transformForward([this.resourceMask],Ti)[0],this.projectedGeoMaskBbox=st(this.projectedGeoMask)}updateProjectedFullGeoMask(){this.projectedGeoFullMask=this.projectedTransformer.transformForward([this.resourceFullMask],Ti)[0],this.projectedGeoFullMaskBbox=st(this.projectedGeoFullMask)}updateResourceToProjectedGeoScale(){this.resourceToProjectedGeoScale=$r(this.resourceMaskBbox,this.projectedGeoMaskBbox)}}const tu=m.string().or(m.number()).or(m.boolean()),eu=m.record(m.string(),tu.array()),$t=m.tuple([m.number(),m.number()]),Xs=m.object({type:m.literal("Point"),coordinates:$t}),qs=$t.array().min(3),Ve=m.enum(["ImageService1","ImageService2","ImageService3"]),ru=m.object({id:m.string().url(),type:m.string(),label:eu.optional()}),Ur=ru.extend({partOf:m.lazy(()=>Ur.array()).optional()}),nu=m.object({type:m.literal("polynomial"),options:m.object({order:m.number().min(1).max(3)}).optional()}),iu=m.object({type:m.literal("thinPlateSpline")}),Wr=nu.or(iu),su=/^<svg\s+width="\d+"\s+height="\d+"\s*>\s*<polygon\s+points="\s*(-?\d+(\.\d+)?,-?\d+(\.\d+)?\s+){2,}-?\d+(\.\d+)?,-?\d+(\.\d+)?\s*"\s*\/>\s*<\/svg>$/,ou=m.object({type:m.literal("SvgSelector"),value:m.string().regex(su)}),au=m.object({source:m.string().url(),service:m.array(m.object({"@id":m.string().url(),type:Ve})).length(1),selector:ou}),Hs=m.object({pixelCoords:$t}),hu=m.object({type:m.literal("FeatureCollection"),transformation:Wr.optional(),features:m.array(m.object({type:m.literal("Feature"),properties:Hs,geometry:Xs}))}),Vn=m.object({id:m.string().optional(),type:m.literal("Annotation"),"@context":m.string().url().array().optional(),motivation:m.string().default("georeferencing").optional(),target:au,body:hu}),Ys=m.object({id:m.string().optional(),type:m.literal("AnnotationPage"),"@context":m.string().url().array().optional(),items:m.array(Vn)}),zn=/<polygon\s+points="\s*(-?\d+(\.\d+)?,-?\d+(\.\d+)?\s+){2,}-?\d+(\.\d+)?,-?\d+(\.\d+)?\s*"\s*\/>/,cu=new RegExp(`^<svg\\s+width="\\d+"\\s+height="\\d+"\\s*>\\s*${zn.source}\\s*</svg>$`),lu=new RegExp(`^<svg\\s+height="\\d+"\\s+width="\\d+"\\s*>\\s*${zn.source}\\s*</svg>$`),uu=new RegExp(`^<svg\\s*>\\s*${zn.source}\\s*</svg>$`),du=m.string().regex(uu),fu=m.string().regex(cu),pu=m.string().regex(lu),gu=m.object({type:m.literal("SvgSelector"),value:du.or(fu).or(pu)}),mu=m.object({"@id":m.string().url(),type:Ve,height:m.number().positive(),width:m.number().positive(),partOf:Ur.array().optional()}),yu=m.object({id:m.string().url(),type:Ve,height:m.number().positive(),width:m.number().positive(),partOf:Ur.array().optional()}),vu=m.object({type:m.literal("SpecificResource"),source:mu.or(yu),selector:gu}),Js=m.object({resourceCoords:$t}),wu=m.object({type:m.literal("FeatureCollection"),transformation:Wr.optional(),features:m.array(m.object({type:m.literal("Feature"),properties:Js,geometry:Xs}))}),Zn=m.object({id:m.string().optional(),type:m.literal("Annotation"),"@context":m.string().url().array().optional(),motivation:m.string().default("georeferencing").optional(),target:vu,body:wu}),Ks=m.object({id:m.string().optional(),type:m.literal("AnnotationPage"),"@context":m.string().url().array().optional(),items:m.array(Zn)});Vn.or(Zn);Ys.or(Ks);Hs.or(Js);function Qs(F){return Array.isArray(F)}function xu(F){return!!(F&&typeof F=="object"&&"type"in F&&F.type==="AnnotationPage")}function Rr(F){return!!(F&&typeof F=="object"&&"type"in F&&F.type==="GeoreferencedMap")}function Mi(F){return!!(F&&typeof F=="object"&&"target"in F&&F.target&&typeof F.target=="object"&&"source"in F.target&&typeof F.target.source=="string")}function $n(F){return"type"in F&&F.type==="GeoreferencedMap"}function Xn(F){return"source"in F.target&&typeof F.target.source=="object"}function bu(F){return{id:Tu(F),...Su(F),type:Mu(F),partOf:_u(F)}}function Tu(F){if(Xn(F)){const W=F.target.source;return"id"in W?W.id:W["@id"]}else return F.target.service[0]["@id"]}function Mu(F){return"service"in F.target?F.target.service[0].type:F.target.source.type}function _u(F){if(Xn(F))return F.target.source.partOf}function Eu(F){return"pixelCoords"in F?F.pixelCoords:F.resourceCoords}function Iu(F){return F.body.features.map(W=>({resource:Eu(W.properties),geo:W.geometry.coordinates}))}function Su(F){var at,ut;if(Xn(F))return{width:F.target.source.width,height:F.target.source.height};const W=F.target.selector.value,q=/width="(?<width>\d+)"/.exec(W),X=/height="(?<height>\d+)"/.exec(W),tt=(at=q==null?void 0:q.groups)==null?void 0:at.width,ot=(ut=X==null?void 0:X.groups)==null?void 0:ut.height;if(!tt||!ot)throw new Error("Could not parse image dimensions");return{width:parseInt(tt),height:parseInt(ot)}}function Au(F){var X;const W=F.target.selector.value,q=(X=/points="(?<points>.+)"/.exec(W))==null?void 0:X.groups;if(q&&q.points){const tt=q.points.trim().split(/\s+/);if(tt[0]===tt[tt.length-1]&&tt.splice(-1),tt.length>=3)return tt.map(ot=>{const at=ot.split(",");if(at.length===2)return[parseFloat(at[0]),parseFloat(at[1])];throw new Error("Could not parse resource mask")});throw new Error("Could not parse resource mask")}else throw new Error("Could not parse resource mask")}function _i(F){return{"@context":"https://schemas.allmaps.org/map/2/context.json",type:"GeoreferencedMap",id:F.id,resource:bu(F),gcps:Iu(F),resourceMask:Au(F),transformation:F.body.transformation}}function Mn(F){if(xu(F)){let W;return"items"in F&&Array.isArray(F.items)&&Mi(F.items[0])?W=Ys.parse(F):W=Ks.parse(F),W.items.map(q=>_i(q))}else{let W;return Mi(F)?W=Vn.parse(F):W=Zn.parse(F),[_i(W)]}}const to=m.object({image:$t,world:$t}),Ru=m.object({uri:m.string().url(),width:m.number(),height:m.number(),type:Ve}),Vr=m.object({id:m.string().optional(),version:m.number().min(1).max(1).default(1),image:Ru,gcps:to.array(),pixelMask:qs,transformation:Wr.optional()}),qn=m.array(Vr),eo=m.object({resource:$t,geo:$t}),Cu=m.object({id:m.string().url(),width:m.number(),height:m.number(),type:Ve,partOf:Ur.array().optional()}),zr=m.object({"@context":m.literal("https://schemas.allmaps.org/map/2/context.json").optional(),type:m.literal("GeoreferencedMap"),id:m.string().optional(),resource:Cu,gcps:eo.array(),resourceMask:qs,transformation:Wr.optional()}),Hn=m.array(zr);Vr.or(zr);qn.or(Hn);to.or(eo);function Pu(F){let W,q,X;return $n(F)?(W=F.resource.width,q=F.resource.height,X=F.resourceMask):(W=F.image.width,q=F.image.height,X=F.pixelMask),{type:"SvgSelector",value:`<svg width="${W}" height="${q}"><polygon points="${X.map(tt=>tt.join(",")).join(" ")}" /></svg>`}}function ku(F){let W,q,X,tt,ot;return $n(F)?(W=F.resource.id,q=F.resource.type,X=F.resource.width,tt=F.resource.height,ot=F.resource.partOf):(W=F.image.uri,q=F.image.type,X=F.image.width,tt=F.image.height),{id:W,type:q,height:tt,width:X,partOf:ot}}function ro(){return["http://iiif.io/api/extension/georef/1/context.json","http://iiif.io/api/presentation/3/context.json"]}function Ou(F){let W,q;return"resource"in F?(W=F.resource,q=F.geo):(W=F.image,q=F.world),{type:"Feature",properties:{resourceCoords:W},geometry:{type:"Point",coordinates:q}}}function Ei(F,W=!0){const q={type:"SpecificResource",source:ku(F),selector:Pu(F)},X={type:"FeatureCollection",transformation:F.transformation,features:F.gcps.map(tt=>Ou(tt))};return{id:F.id,type:"Annotation","@context":W?ro():void 0,motivation:"georeferencing",target:q,body:X}}function Nu(F){if(Qs(F)){let W;Rr(F[0])?W=Hn.parse(F):W=qn.parse(F);const q=W.map(X=>Ei(X,!1));return{type:"AnnotationPage","@context":ro(),items:q}}else{let W;return Rr(F)?W=zr.parse(F):W=Vr.parse(F),Ei(W)}}function no(F){return $n(F)?F:Mn(Nu(F))[0]}function Lu(F){return F.map(no)}function Ii(F){if(Qs(F)){let W;return Rr(F[0])?W=Hn.parse(F):W=qn.parse(F),Lu(W)}else{let W;return Rr(F)?W=zr.parse(F):W=Vr.parse(F),no(W)}}function Du(F,W,q,X,tt){io(F,W,q||0,X||F.length-1,tt||Bu)}function io(F,W,q,X,tt){for(;X>q;){if(X-q>600){var ot=X-q+1,at=W-q+1,ut=Math.log(ot),wt=.5*Math.exp(2*ut/3),uo=.5*Math.sqrt(ut*wt*(ot-wt)/ot)*(at-ot/2<0?-1:1),mo=Math.max(q,Math.floor(W-at*wt/ot+uo)),yo=Math.min(X,Math.floor(W+(ot-at)*wt/ot+uo));io(F,W,mo,yo,tt)}var lf=F[W],uf=q,df=X;for(ge(F,q,W),tt(F[X],lf)>0&&ge(F,q,X);uf<df;){for(ge(F,uf,df),uf++,df--;tt(F[uf],lf)<0;)uf++;for(;tt(F[df],lf)>0;)df--}tt(F[q],lf)===0?ge(F,q,df):(df++,ge(F,df,X)),df<=W&&(q=df+1),W<=df&&(X=df-1)}}function ge(F,W,q){var X=F[W];F[W]=F[q],F[q]=X}function Bu(F,W){return F<W?-1:F>W?1:0}class ju{constructor(W=9){this._maxEntries=Math.max(4,W),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(W){let q=this.data;const X=[];if(!ir(W,q))return X;const tt=this.toBBox,ot=[];for(;q;){for(let at=0;at<q.children.length;at++){const ut=q.children[at],wt=q.leaf?tt(ut):ut;ir(W,wt)&&(q.leaf?X.push(ut):en(W,wt)?this._all(ut,X):ot.push(ut))}q=ot.pop()}return X}collides(W){let q=this.data;if(!ir(W,q))return!1;const X=[];for(;q;){for(let tt=0;tt<q.children.length;tt++){const ot=q.children[tt],at=q.leaf?this.toBBox(ot):ot;if(ir(W,at)){if(q.leaf||en(W,at))return!0;X.push(ot)}}q=X.pop()}return!1}load(W){if(!(W&&W.length))return this;if(W.length<this._minEntries){for(let X=0;X<W.length;X++)this.insert(W[X]);return this}let q=this._build(W.slice(),0,W.length-1,0);if(!this.data.children.length)this.data=q;else if(this.data.height===q.height)this._splitRoot(this.data,q);else{if(this.data.height<q.height){const X=this.data;this.data=q,q=X}this._insert(q,this.data.height-q.height-1,!0)}return this}insert(W){return W&&this._insert(W,this.data.height-1),this}clear(){return this.data=ie([]),this}remove(W,q){if(!W)return this;let X=this.data;const tt=this.toBBox(W),ot=[],at=[];let ut,wt,uo;for(;X||ot.length;){if(X||(X=ot.pop(),wt=ot[ot.length-1],ut=at.pop(),uo=!0),X.leaf){const mo=Gu(W,X.children,q);if(mo!==-1)return X.children.splice(mo,1),ot.push(X),this._condense(ot),this}!uo&&!X.leaf&&en(X,tt)?(ot.push(X),at.push(ut),ut=0,wt=X,X=X.children[0]):wt?(ut++,X=wt.children[ut],uo=!1):X=null}return this}toBBox(W){return W}compareMinX(W,q){return W.minX-q.minX}compareMinY(W,q){return W.minY-q.minY}toJSON(){return this.data}fromJSON(W){return this.data=W,this}_all(W,q){const X=[];for(;W;)W.leaf?q.push(...W.children):X.push(...W.children),W=X.pop();return q}_build(W,q,X,tt){const ot=X-q+1;let at=this._maxEntries,ut;if(ot<=at)return ut=ie(W.slice(q,X+1)),te(ut,this.toBBox),ut;tt||(tt=Math.ceil(Math.log(ot)/Math.log(at)),at=Math.ceil(ot/Math.pow(at,tt-1))),ut=ie([]),ut.leaf=!1,ut.height=tt;const wt=Math.ceil(ot/at),uo=wt*Math.ceil(Math.sqrt(at));Si(W,q,X,uo,this.compareMinX);for(let mo=q;mo<=X;mo+=uo){const yo=Math.min(mo+uo-1,X);Si(W,mo,yo,wt,this.compareMinY);for(let lf=mo;lf<=yo;lf+=wt){const uf=Math.min(lf+wt-1,yo);ut.children.push(this._build(W,lf,uf,tt-1))}}return te(ut,this.toBBox),ut}_chooseSubtree(W,q,X,tt){for(;tt.push(q),!(q.leaf||tt.length-1===X);){let ot=1/0,at=1/0,ut;for(let wt=0;wt<q.children.length;wt++){const uo=q.children[wt],mo=tn(uo),yo=Wu(W,uo)-mo;yo<at?(at=yo,ot=mo<ot?mo:ot,ut=uo):yo===at&&mo<ot&&(ot=mo,ut=uo)}q=ut||q.children[0]}return q}_insert(W,q,X){const tt=X?W:this.toBBox(W),ot=[],at=this._chooseSubtree(tt,this.data,q,ot);for(at.children.push(W),be(at,tt);q>=0&&ot[q].children.length>this._maxEntries;)this._split(ot,q),q--;this._adjustParentBBoxes(tt,ot,q)}_split(W,q){const X=W[q],tt=X.children.length,ot=this._minEntries;this._chooseSplitAxis(X,ot,tt);const at=this._chooseSplitIndex(X,ot,tt),ut=ie(X.children.splice(at,X.children.length-at));ut.height=X.height,ut.leaf=X.leaf,te(X,this.toBBox),te(ut,this.toBBox),q?W[q-1].children.push(ut):this._splitRoot(X,ut)}_splitRoot(W,q){this.data=ie([W,q]),this.data.height=W.height+1,this.data.leaf=!1,te(this.data,this.toBBox)}_chooseSplitIndex(W,q,X){let tt,ot=1/0,at=1/0;for(let ut=q;ut<=X-q;ut++){const wt=xe(W,0,ut,this.toBBox),uo=xe(W,ut,X,this.toBBox),mo=Vu(wt,uo),yo=tn(wt)+tn(uo);mo<ot?(ot=mo,tt=ut,at=yo<at?yo:at):mo===ot&&yo<at&&(at=yo,tt=ut)}return tt||X-q}_chooseSplitAxis(W,q,X){const tt=W.leaf?this.compareMinX:Fu,ot=W.leaf?this.compareMinY:Uu,at=this._allDistMargin(W,q,X,tt),ut=this._allDistMargin(W,q,X,ot);at<ut&&W.children.sort(tt)}_allDistMargin(W,q,X,tt){W.children.sort(tt);const ot=this.toBBox,at=xe(W,0,q,ot),ut=xe(W,X-q,X,ot);let wt=nr(at)+nr(ut);for(let uo=q;uo<X-q;uo++){const mo=W.children[uo];be(at,W.leaf?ot(mo):mo),wt+=nr(at)}for(let uo=X-q-1;uo>=q;uo--){const mo=W.children[uo];be(ut,W.leaf?ot(mo):mo),wt+=nr(ut)}return wt}_adjustParentBBoxes(W,q,X){for(let tt=X;tt>=0;tt--)be(q[tt],W)}_condense(W){for(let q=W.length-1,X;q>=0;q--)W[q].children.length===0?q>0?(X=W[q-1].children,X.splice(X.indexOf(W[q]),1)):this.clear():te(W[q],this.toBBox)}}function Gu(F,W,q){if(!q)return W.indexOf(F);for(let X=0;X<W.length;X++)if(q(F,W[X]))return X;return-1}function te(F,W){xe(F,0,F.children.length,W,F)}function xe(F,W,q,X,tt){tt||(tt=ie(null)),tt.minX=1/0,tt.minY=1/0,tt.maxX=-1/0,tt.maxY=-1/0;for(let ot=W;ot<q;ot++){const at=F.children[ot];be(tt,F.leaf?X(at):at)}return tt}function be(F,W){return F.minX=Math.min(F.minX,W.minX),F.minY=Math.min(F.minY,W.minY),F.maxX=Math.max(F.maxX,W.maxX),F.maxY=Math.max(F.maxY,W.maxY),F}function Fu(F,W){return F.minX-W.minX}function Uu(F,W){return F.minY-W.minY}function tn(F){return(F.maxX-F.minX)*(F.maxY-F.minY)}function nr(F){return F.maxX-F.minX+(F.maxY-F.minY)}function Wu(F,W){return(Math.max(W.maxX,F.maxX)-Math.min(W.minX,F.minX))*(Math.max(W.maxY,F.maxY)-Math.min(W.minY,F.minY))}function Vu(F,W){const q=Math.max(F.minX,W.minX),X=Math.max(F.minY,W.minY),tt=Math.min(F.maxX,W.maxX),ot=Math.min(F.maxY,W.maxY);return Math.max(0,tt-q)*Math.max(0,ot-X)}function en(F,W){return F.minX<=W.minX&&F.minY<=W.minY&&W.maxX<=F.maxX&&W.maxY<=F.maxY}function ir(F,W){return W.minX<=F.maxX&&W.minY<=F.maxY&&W.maxX>=F.minX&&W.maxY>=F.minY}function ie(F){return{children:F,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Si(F,W,q,X,tt){const ot=[W,q];for(;ot.length;){if(q=ot.pop(),W=ot.pop(),q-W<=X)continue;const at=W+Math.ceil((q-W)/X/2)*X;Du(F,at,W,q,tt),ot.push(W,at,at,q)}}function zu(F,W,q){if(q===void 0&&(q={}),!F)throw new Error("point is required");if(!W)throw new Error("polygon is required");var X=ce(F),tt=ih(W),ot=tt.type,at=W.bbox,ut=tt.coordinates;if(at&&Zu(X,at)===!1)return!1;ot==="Polygon"&&(ut=[ut]);for(var wt=!1,uo=0;uo<ut.length&&!wt;uo++)if(Ai(X,ut[uo][0],q.ignoreBoundary)){for(var mo=!1,yo=1;yo<ut[uo].length&&!mo;)Ai(X,ut[uo][yo],!q.ignoreBoundary)&&(mo=!0),yo++;mo||(wt=!0)}return wt}function Ai(F,W,q){var X=!1;W[0][0]===W[W.length-1][0]&&W[0][1]===W[W.length-1][1]&&(W=W.slice(0,W.length-1));for(var tt=0,ot=W.length-1;tt<W.length;ot=tt++){var at=W[tt][0],ut=W[tt][1],wt=W[ot][0],uo=W[ot][1],mo=F[1]*(at-wt)+ut*(wt-F[0])+uo*(F[0]-at)===0&&(at-F[0])*(wt-F[0])<=0&&(ut-F[1])*(uo-F[1])<=0;if(mo)return!q;var yo=ut>F[1]!=uo>F[1]&&F[0]<(wt-at)*(F[1]-ut)/(uo-ut)+at;yo&&(X=!X)}return X}function Zu(F,W){return W[0]<=F[0]&&W[1]<=F[1]&&W[2]>=F[0]&&W[3]>=F[1]}const $u=!0;class Xu{constructor(){this.rbush=new ju,this.polygonsById=new Map,this.bboxesById=new Map,this.itemsById=new Map}addItem(W,q){this.removeItem(W);const X=st(q),tt={minX:X[0],minY:X[1],maxX:X[2],maxY:X[3],id:W};this.polygonsById.set(W,q),this.bboxesById.set(W,X),this.itemsById.set(W,tt),this.rbush.insert(tt)}removeItem(W){const q=this.itemsById.get(W);q&&(this.rbush.remove(q),this.polygonsById.delete(W),this.bboxesById.delete(W),this.itemsById.delete(W))}clear(){this.rbush.clear()}search(W,q,X,tt){return this.rbush.search({minX:W,minY:q,maxX:X,maxY:tt})}getBbox(W){return this.bboxesById.get(W)}getPolygon(W){return this.polygonsById.get(W)}searchFromBbox(W){const[q,X,tt,ot]=W;return this.search(q,X,tt,ot).map(at=>at.id)}searchFromPoint(W,q=$u){const[X,tt,ot,at]=[W[0],W[1],W[0],W[1]],ut=this.search(X,tt,ot,at);return q?ut.filter(wt=>{const uo=this.polygonsById.get(wt.id);return uo?zu(W,uo):!1}).map(wt=>wt.id):ut.map(wt=>wt.id)}}class qu extends EventTarget{constructor(W,q){super(),this.warpedMapsById=new Map,this.zIndices=new Map,q=Object.assign({createRTree:!0},q),this.imageInfoCache=W,q.createRTree&&(this.rtree=new Xu)}getMaps(){return this.warpedMapsById.keys()}getWarpedMaps(W){if(W===void 0)return this.warpedMapsById.values();{const q=[];for(const X of W){const tt=this.warpedMapsById.get(X);tt&&q.push(tt)}return q}}getWarpedMap(W){return this.warpedMapsById.get(W)}getMapZIndex(W){return this.zIndices.get(W)}getTotalBbox(){let W;for(const q of this.getWarpedMaps())q.visible&&(W?W=hi(W,q.geoMaskBbox):W=q.geoMaskBbox);return W}getTotalProjectedGeoMaskBbox(){let W;for(const q of this.getWarpedMaps())q.visible&&(W?W=hi(W,q.projectedGeoMaskBbox):W=q.projectedGeoMaskBbox);return W}getMapsByGeoBbox(W){return this.rtree?this.rtree.searchFromBbox(W):Array.from(this.warpedMapsById.keys())}setImageInfoCache(W){this.imageInfoCache=W}setMapResourceMask(W,q){const X=this.warpedMapsById.get(W);X&&(X.setResourceMask(q),this.addToOrUpdateRtree(X),this.dispatchEvent(new z(k.RESOURCEMASKUPDATED,W)))}setMapsTransformationType(W,q){for(const X of W){const tt=this.warpedMapsById.get(X);tt&&(tt.setTransformationType(q),this.addToOrUpdateRtree(tt))}this.dispatchEvent(new z(k.TRANSFORMATIONCHANGED,W))}bringMapsToFront(W){let q=this.warpedMapsById.size;for(const X of W)this.zIndices.has(X)&&(this.zIndices.set(X,q),q++);this.removeZIndexHoles(),this.dispatchEvent(new z(k.ZINDICESCHANGES))}sendMapsToBack(W){let q=-Array.from(W).length;for(const X of W)this.zIndices.has(X)&&(this.zIndices.set(X,q),q++);this.removeZIndexHoles(),this.dispatchEvent(new z(k.ZINDICESCHANGES))}bringMapsForward(W){for(const[q,X]of this.zIndices.entries())this.zIndices.set(q,X*2);for(const q of W){const X=this.zIndices.get(q);X!==void 0&&this.zIndices.set(q,X+3)}this.removeZIndexHoles(),this.dispatchEvent(new z(k.ZINDICESCHANGES))}sendMapsBackward(W){for(const[q,X]of this.zIndices.entries())this.zIndices.set(q,X*2);for(const q of W){const X=this.zIndices.get(q);X!==void 0&&this.zIndices.set(q,X-3)}this.removeZIndexHoles(),this.dispatchEvent(new z(k.ZINDICESCHANGES))}showMaps(W){for(const q of W){const X=this.warpedMapsById.get(q);X&&(X.visible=!0)}this.dispatchEvent(new z(k.VISIBILITYCHANGED,W))}hideMaps(W){for(const q of W){const X=this.warpedMapsById.get(q);X&&(X.visible=!1)}this.dispatchEvent(new z(k.VISIBILITYCHANGED,W))}async addGeoreferencedMap(W){const q=Ii(W),X=Array.isArray(q)?q[0]:q;return this.addGeoreferencedMapInternal(X)}async removeGeoreferencedMap(W){const q=Ii(W),X=Array.isArray(q)?q[0]:q;return this.removeGeoreferencedMapInternal(X)}async addGeoreferenceAnnotation(W){const q=[],X=Mn(W),tt=await Promise.allSettled(X.map(ot=>this.addGeoreferencedMapInternal(ot)));for(const ot of tt)ot.status==="fulfilled"?q.push(ot.value):q.push(ot.reason);return this.dispatchEvent(new z(k.GEOREFERENCEANNOTATIONADDED)),this.dispatchEvent(new z(k.ZINDICESCHANGES)),q}async removeGeoreferenceAnnotation(W){const q=[],X=Mn(W);for(const tt of X){const ot=await this.removeGeoreferencedMapInternal(tt);q.push(ot)}return this.dispatchEvent(new z(k.GEOREFERENCEANNOTATIONREMOVED)),q}clear(){var W;this.warpedMapsById=new Map,this.zIndices=new Map,(W=this.rtree)==null||W.clear(),this.dispatchEvent(new z(k.CLEARED))}dispose(){for(const W of this.getWarpedMaps())this.removeEventListenersFromWarpedMap(W),W.dispose()}async addGeoreferencedMapInternal(W){const q=await this.getOrComputeMapId(W),X=new Ql(q,W,this.imageInfoCache);return this.warpedMapsById.set(q,X),this.zIndices.set(q,this.warpedMapsById.size-1),this.addToOrUpdateRtree(X),this.addEventListenersToWarpedMap(X),this.dispatchEvent(new z(k.WARPEDMAPADDED,q)),q}async removeGeoreferencedMapInternal(W){const q=await this.getOrComputeMapId(W),X=this.warpedMapsById.get(q);if(X)this.warpedMapsById.delete(q),this.zIndices.delete(q),this.removeFromRtree(X),this.dispatchEvent(new z(k.WARPEDMAPREMOVED,q)),this.removeZIndexHoles(),this.dispatchEvent(new z(k.ZINDICESCHANGES));else throw new Error(`No map found with ID ${q}`);return q}async getOrComputeMapId(W){return W.id||await To(W)}addToOrUpdateRtree(W){this.rtree&&(this.rtree.removeItem(W.mapId),this.rtree.addItem(W.mapId,W.geoMask))}removeFromRtree(W){this.rtree&&this.rtree.removeItem(W.mapId)}removeZIndexHoles(){const W=[...this.zIndices.entries()].sort((X,tt)=>X[1]-tt[1]);let q=0;for(const X of W){const tt=X[0];this.zIndices.set(tt,q),q++}}imageInfoLoaded(){this.dispatchEvent(new z(k.IMAGEINFOLOADED))}addEventListenersToWarpedMap(W){W.addEventListener(k.IMAGEINFOLOADED,this.imageInfoLoaded.bind(this))}removeEventListenersFromWarpedMap(W){W.removeEventListener(k.IMAGEINFOLOADED,this.imageInfoLoaded.bind(this))}}class Hu extends EventTarget{constructor(W,q,X,tt,ot=1){super(),this.projectedGeoToViewportTransform=[1,0,0,1,0,0],this.projectedGeoToClipTransform=[1,0,0,1,0,0],this.projectedGeoCenter=W,this.projectedGeoPerViewportScale=tt,this.rotation=X,this.viewportSize=q,this.devicePixelRatio=ot,this.projectedGeoRectangle=this.computeProjectedGeoRectangle(this.projectedGeoCenter,this.projectedGeoPerViewportScale,this.rotation,this.viewportSize),this.projectedGeoBbox=st(this.projectedGeoRectangle),this.projectedGeoSize=[this.viewportSize[0]*tt,this.viewportSize[1]*tt],this.geoCenter=ui(this.projectedGeoCenter),this.geoRectangle=this.projectedGeoRectangle.map(at=>ui(at)),this.geoBbox=st(this.geoRectangle),this.geoSize=Ir(this.geoBbox),this.viewportCenter=[this.viewportSize[0]/2,this.viewportSize[1]/2],this.viewportBbox=[0,0,...this.viewportSize],this.viewportRectangle=De(this.viewportBbox),this.canvasCenter=[this.viewportCenter[0]*this.devicePixelRatio,this.viewportSize[1]*this.devicePixelRatio],this.canvasSize=[this.viewportSize[0]*this.devicePixelRatio,this.viewportSize[1]*this.devicePixelRatio],this.canvasBbox=[0,0,...this.canvasSize],this.canvasRectangle=De(this.canvasBbox),this.projectedGeoPerCanvasScale=this.projectedGeoPerViewportScale/this.devicePixelRatio,this.projectedGeoToViewportTransform=this.composeProjectedGeoToViewportTransform(),this.projectedGeoToClipTransform=this.composeProjectedGeoToClipTransform()}composeProjectedGeoToViewportTransform(){return xi(this.viewportSize[0]/2,this.viewportSize[1]/2,1/this.projectedGeoPerViewportScale,-1/this.projectedGeoPerViewportScale,-this.rotation,-this.projectedGeoCenter[0],-this.projectedGeoCenter[1])}composeProjectedGeoToClipTransform(){return xi(0,0,2/(this.projectedGeoPerViewportScale*this.viewportSize[0]),2/(this.projectedGeoPerViewportScale*this.viewportSize[1]),-this.rotation,-this.projectedGeoCenter[0],-this.projectedGeoCenter[1])}computeProjectedGeoRectangle(W,q,X,tt){const ot=q*tt[0]/2,at=q*tt[1]/2,ut=Math.cos(X),wt=Math.sin(X),uo=ot*ut,mo=ot*wt,yo=at*ut,lf=at*wt,uf=W[0],df=W[1];return[[uf-uo+lf,df-mo-yo],[uf-uo-lf,df-mo+yo],[uf+uo-lf,df+mo+yo],[uf+uo+lf,df+mo-yo]]}}class Yu extends EventTarget{constructor(W){super(),this.tile=W.tile,this.imageRequest=W.imageRequest,this.tileUrl=W.tileUrl,this.abortController=new AbortController}async fetch(){try{const W=await ch(this.tileUrl,this.abortController.signal);return this.imageBitmap=await createImageBitmap(W),this.dispatchEvent(new z(k.TILEFETCHED,this.tileUrl)),this.imageBitmap}catch(W){W instanceof Error&&W.name==="AbortError"||this.dispatchEvent(new z(k.TILEFETCHERROR,this.tileUrl))}}isCachedTile(){return this.imageBitmap!==void 0}abort(){this.abortController.signal.aborted||this.abortController.abort()}}const Ju=.75;function so(F,W){return`${F}:${W}`}function oo(F){return so(F.mapId,F.tileUrl)}function rn(F){return new Set(F.map(W=>oo(W)))}function Ku(F,W,q={maxOffsetRatio:1e-5,maxDepth:2}){const X=wh(W)[0];return F.transformBackward(X,q)}function Qu(F,W,q=Ju){let X=Number.POSITIVE_INFINITY,tt=F.tileZoomLevels.at(-1);for(const ot of F.tileZoomLevels){const at=Math.abs(Math.log(ot.scaleFactor)-(Math.log(W)-Math.log(q)));at<X&&(X=at,tt=ot)}return tt}function td(F,W,q){const X=ed(F,W),tt=rd(X),ot=id$n(tt,q,W),at=gn(st(F));return ot.sort((ut,wt)=>Ri(ut,at)-Ri(wt,at)),ot}function ed(F,W){return F.map(q=>[q[0]/W.originalWidth,q[1]/W.originalHeight])}function rd(F){const W={};for(let q=0;q<F.length;q++){const X=[F[q],F[(q+1)%F.length]];nd(X).forEach(([tt,ot])=>{W[tt]||(W[tt]=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]),ot<W[tt][0]&&(W[tt][0]=ot),ot>W[tt][1]&&(W[tt][1]=ot)})}return W}function nd([F,W]){let q=Math.floor(F[0]),X=Math.floor(F[1]);const tt=Math.floor(W[0]),ot=Math.floor(W[1]),at=[[q,X]];if(q===tt&&X===ot)return at;const ut=Math.sign(W[0]-F[0]),wt=Math.sign(W[1]-F[1]),uo=Math.abs(F[0]-q-Math.max(0,ut)),mo=Math.abs(F[1]-X-Math.max(0,wt)),yo=Math.abs(F[0]-W[0]),lf=Math.abs(F[1]-W[1]);let uf=uo/yo,df=mo/lf;const wf=1/yo,wo=1/lf;for(;!(q===tt&&X===ot);)uf<df?(uf=uf+wf,q=q+ut):(df=df+wo,X=X+wt),at.push([q,X]);return at}function id$n(F,W,q){const X=[];for(const tt in F){const ot=parseInt(tt);if(ot<0||ot>=q.columns)break;const at=Math.max(F[ot][0],0),ut=Math.min(F[ot][1],q.rows-1);for(let wt=at;wt<=ut;wt++)X.push({column:ot,row:wt,tileZoomLevel:q,imageSize:[W.width,W.height]})}return X}function sd(F){var W,q;return(((W=F.imageRequest.size)==null?void 0:W.height)||0)*(((q=F.imageRequest.size)==null?void 0:q.width)||0)*3}function Ri(F,W){return jt(od(F),W)}function od(F){const W=ao(F);return[(W[2]-W[0])/2+W[0],(W[3]-W[1])/2+W[1]]}function ad(F){const W=F.column*F.tileZoomLevel.originalWidth,q=F.row*F.tileZoomLevel.originalHeight;return[W,q]}function ao(F){const W=ad(F),q=Math.min(W[0]+F.tileZoomLevel.originalWidth,F.imageSize[0]),X=Math.min(W[1]+F.tileZoomLevel.originalHeight,F.imageSize[1]);return[W[0],W[1],q,X]}const hd=50,cd=32*1e3*1e3;class ld extends EventTarget{constructor(){super(...arguments),this.tilesByTileUrl=new Map,this.mapIdsByTileUrl=new Map,this.tileUrlsByMapId=new Map,this.tilesFetchingCount=0,this.previousRequestedTiles=[],this.outgoingTilesHistory=[]}getCacheableTile(W){return this.tilesByTileUrl.get(W)}getCachedTile(W){const q=this.tilesByTileUrl.get(W);if(q&&q.isCachedTile())return q}getCacheableTiles(){return this.tilesByTileUrl.values()}getCachedTiles(){const W=Array.from(this.tilesByTileUrl.values()),q=[];return W.forEach(X=>{X.isCachedTile()&&q.push(X)}),q}getTileUrls(){return this.tilesByTileUrl.keys()}requestFetcableMapTiles(W){const q=rn(this.previousRequestedTiles),X=rn(W);if(Mh(q,X))return;const tt=[];for(const ut of this.previousRequestedTiles)X.has(oo(ut))||tt.push(ut);this.updateOutgoingTilesHistory(tt,W.length);const ot=rn(this.outgoingTilesHistory),at=new Set([...X,...ot]);for(const[ut,wt]of this.mapIdsByTileUrl)for(const uo of wt)at.has(so(uo,ut))||this.removeMapTile(uo,ut);for(const ut of W)this.addMapTile(ut);this.previousRequestedTiles=W}clear(){this.tilesByTileUrl=new Map,this.mapIdsByTileUrl=new Map,this.tileUrlsByMapId=new Map,this.tilesFetchingCount=0,this.outgoingTilesHistory=[]}dispose(){for(const W of this.getCacheableTiles())this.removeEventListenersFromTile(W)}addMapTile(W){const q=W.mapId,X=W.tileUrl;if(this.tilesByTileUrl.has(X))this.dispatchEvent(new z(k.MAPTILELOADED,{mapId:q,tileUrl:X}));else{const tt=new Yu(W);this.addEventListenersToTile(tt),this.tilesByTileUrl.set(X,tt),this.updateTilesFetchingCount(1),tt.fetch()}this.addTileUrlForMapId(q,X),this.addMapIdForTileUrl(q,X)}removeMapTile(W,q){const X=this.tilesByTileUrl.get(q);if(!X)return;const tt=this.removeMapIdForTileUrl(W,q);this.removeTileUrlForMapId(W,q),tt.size||(X.isCachedTile()||(X.abort(),this.updateTilesFetchingCount(-1)),this.tilesByTileUrl.delete(q)),this.dispatchEvent(new z(k.MAPTILEREMOVED,{mapId:W,tileUrl:q}))}updateOutgoingTilesHistory(W,q){for(let at=W.length-1;at>=0;at--){const ut=W[at];this.outgoingTilesHistory.unshift(ut)}this.outgoingTilesHistory=Array.from(new Set(this.outgoingTilesHistory));let X=0,tt=0,ot=0;for(const at of this.outgoingTilesHistory){if(X+=1,ot=sd(at),tt+=ot,X+q>hd){X-=1,tt-=ot;break}if(tt>cd){X-=1,tt-=ot;break}}this.outgoingTilesHistory=this.outgoingTilesHistory.slice(0,X)}tileFetched(W){var q;if(W instanceof z){const X=W.data;this.updateTilesFetchingCount(-1);for(const tt of this.mapIdsByTileUrl.get(X)||[])this.dispatchEvent(new z(k.MAPTILELOADED,{mapId:tt,tileUrl:X})),((q=this.tileUrlsByMapId.get(tt))==null?void 0:q.values().next().value)===X&&this.dispatchEvent(new z(k.FIRSTMAPTILELOADED,{mapId:tt,tileUrl:X}))}}tileFetchError(W){if(W instanceof z){const q=W.data;this.tilesByTileUrl.has(q)||(this.updateTilesFetchingCount(-1),this.tilesByTileUrl.delete(q))}}addMapIdForTileUrl(W,q){let X=this.mapIdsByTileUrl.get(q);return X?X.add(W):X=new Set([W]),this.mapIdsByTileUrl.set(q,X),X}removeMapIdForTileUrl(W,q){const X=this.mapIdsByTileUrl.get(q);if(X)X.delete(W);else return new Set;return X.size?this.mapIdsByTileUrl.set(q,X):this.mapIdsByTileUrl.delete(q),X}addTileUrlForMapId(W,q){let X=this.tileUrlsByMapId.get(W);return X?X.add(q):X=new Set([q]),this.tileUrlsByMapId.set(W,X),X}removeTileUrlForMapId(W,q){const X=this.tileUrlsByMapId.get(W);return X?(X.delete(q),X.size?this.tileUrlsByMapId.set(W,X):this.tileUrlsByMapId.delete(W),X):new Set}updateTilesFetchingCount(W){this.tilesFetchingCount+=W,this.tilesFetchingCount===0&&this.dispatchEvent(new z(k.ALLREQUESTEDTILESLOADED))}addEventListenersToTile(W){W.addEventListener(k.TILEFETCHED,this.tileFetched.bind(this)),W.addEventListener(k.TILEFETCHERROR,this.tileFetchError.bind(this))}removeEventListenersFromTile(W){W.removeEventListener(k.TILEFETCHED,this.tileFetched.bind(this)),W.removeEventListener(k.TILEFETCHERROR,this.tileFetchError.bind(this))}}class ud{constructor(W,q){this.mapId=q.mapId,this.tile=W;const X=q.parsedImage.getIiifTile(W.tileZoomLevel,W.column,W.row);this.imageRequest=X;const tt=q.parsedImage.getImageUrl(X);this.tileUrl=tt}}var dd=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis;const fd=dd;var pd=typeof self=="object"&&self&&self.Object===Object&&self,gd=fd||pd||Function("return this")();const ho=gd;var md=ho.Symbol;const Cr=md;var co=Object.prototype,yd=co.hasOwnProperty,vd=co.toString,me=Cr?Cr.toStringTag:void 0;function wd(F){var W=yd.call(F,me),q=F[me];try{F[me]=void 0;var X=!0}catch{}var tt=vd.call(F);return X&&(W?F[me]=q:delete F[me]),tt}var xd=Object.prototype,bd=xd.toString;function Td(F){return bd.call(F)}var Md="[object Null]",_d="[object Undefined]",Ci=Cr?Cr.toStringTag:void 0;function Ed(F){return F==null?F===void 0?_d:Md:Ci&&Ci in Object(F)?wd(F):Td(F)}function Id(F){return F!=null&&typeof F=="object"}var Sd="[object Symbol]";function Ad(F){return typeof F=="symbol"||Id(F)&&Ed(F)==Sd}var Rd=/\s/;function Cd(F){for(var W=F.length;W--&&Rd.test(F.charAt(W)););return W}var Pd=/^\s+/;function kd(F){return F&&F.slice(0,Cd(F)+1).replace(Pd,"")}function Pr(F){var W=typeof F;return F!=null&&(W=="object"||W=="function")}var Pi=0/0,Od=/^[-+]0x[0-9a-f]+$/i,Nd=/^0b[01]+$/i,Ld=/^0o[0-7]+$/i,Dd=parseInt;function ki(F){if(typeof F=="number")return F;if(Ad(F))return Pi;if(Pr(F)){var W=typeof F.valueOf=="function"?F.valueOf():F;F=Pr(W)?W+"":W}if(typeof F!="string")return F===0?F:+F;F=kd(F);var q=Nd.test(F);return q||Ld.test(F)?Dd(F.slice(2),q?2:8):Od.test(F)?Pi:+F}var Bd=function(){return ho.Date.now()};const nn=Bd;var jd="Expected a function",Gd=Math.max,Fd=Math.min;function Ud(F,W,q){var X,tt,ot,at,ut,wt,uo=0,mo=!1,yo=!1,lf=!0;if(typeof F!="function")throw new TypeError(jd);W=ki(W)||0,Pr(q)&&(mo=!!q.leading,yo="maxWait"in q,ot=yo?Gd(ki(q.maxWait)||0,W):ot,lf="trailing"in q?!!q.trailing:lf);function uf(cf){var yf=X,Sf=tt;return X=tt=void 0,uo=cf,at=F.apply(Sf,yf),at}function df(cf){return uo=cf,ut=setTimeout(ls,W),mo?uf(cf):at}function wf(cf){var yf=cf-wt,Sf=cf-uo,xf=W-yf;return yo?Fd(xf,ot-Sf):xf}function wo(cf){var yf=cf-wt,Sf=cf-uo;return wt===void 0||yf>=W||yf<0||yo&&Sf>=ot}function ls(){var cf=nn();if(wo(cf))return _f(cf);ut=setTimeout(ls,wf(cf))}function _f(cf){return ut=void 0,lf&&X?uf(cf):(X=tt=void 0,at)}function po(){ut!==void 0&&clearTimeout(ut),uo=0,X=wt=tt=ut=void 0}function xo(){return ut===void 0?at:_f(nn())}function gf(){var cf=nn(),yf=wo(cf);if(X=arguments,tt=this,wt=cf,yf){if(ut===void 0)return df(wt);if(yo)return clearTimeout(ut),ut=setTimeout(ls,W),uf(wt)}return ut===void 0&&(ut=setTimeout(ls,W)),at}return gf.cancel=po,gf.flush=xo,gf}var Wd="Expected a function";function _n(F,W,q){var X=!0,tt=!0;if(typeof F!="function")throw new TypeError(Wd);return Pr(q)&&(X="leading"in q?!!q.leading:X,tt="trailing"in q?!!q.trailing:tt),Ud(F,W,{leading:X,maxWait:W,trailing:tt})}function Vd(F){let W=0,q=0;for(const at of F)W+=at.w*at.h,q=Math.max(q,at.w);F.sort((at,ut)=>ut.h-at.h);const X=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(W/.95)),q),h:1/0}];let tt=0,ot=0;for(const at of F)for(let ut=X.length-1;ut>=0;ut--){const wt=X[ut];if(!(at.w>wt.w||at.h>wt.h)){if(at.x=wt.x,at.y=wt.y,ot=Math.max(ot,at.y+at.h),tt=Math.max(tt,at.x+at.w),at.w===wt.w&&at.h===wt.h){const uo=X.pop();ut<X.length&&(X[ut]=uo)}else at.h===wt.h?(wt.x+=at.w,wt.w-=at.w):at.w===wt.w?(wt.y+=at.h,wt.h-=at.h):(X.push({x:wt.x+at.w,y:wt.y,w:wt.w-at.w,h:at.h}),wt.y+=at.h,wt.h-=at.h);break}}return{w:tt,h:ot,fill:W/(tt*ot)||0}}function Oi(F,W,q){const X=F.createShader(W);if(X){if(F.shaderSource(X,q),F.compileShader(X),F.getShaderParameter(X,F.COMPILE_STATUS))return X;{const tt=F.getShaderInfoLog(X);throw F.deleteShader(X),new Error("Failed to compile shader: "+tt)}}else throw new Error("Failed to create shader")}function zd(F,W,q){const X=F.createProgram();if(X){if(F.attachShader(X,W),F.attachShader(X,q),F.linkProgram(X),F.getProgramParameter(X,F.LINK_STATUS))return X;{const tt=F.getProgramInfoLog(X);throw F.deleteProgram(X),new Error("Failed to link program: "+tt)}}else throw new Error("Failed to create program")}function sr(F,W,q,X,tt){const ot=F.createBuffer();F.bindBuffer(F.ARRAY_BUFFER,ot),F.bufferData(F.ARRAY_BUFFER,q,F.STATIC_DRAW);const at=F.FLOAT,ut=!1,wt=0,uo=0,mo=F.getAttribLocation(W,tt);F.vertexAttribPointer(mo,X,at,ut,wt,uo),F.enableVertexAttribArray(mo)}const Zd=250,$d={leading:!0,trailing:!0},Xd=1,qd=1;class Hd extends EventTarget{constructor(W,q,X){super(),this.CachedTilesByTileUrl=new Map,this.opacity=Xd,this.saturation=qd,this.renderOptions={},this.warpedMap=X,this.gl=W,this.program=q,this.vao=W.createVertexArray(),this.packedTilesTexture=W.createTexture(),this.packedTilesScaleFactorsTexture=W.createTexture(),this.packedTilesPositionsTexture=W.createTexture(),this.packedTilesResourcePositionsAndDimensionsTexture=W.createTexture(),this.throttledUpdateTextures=_n(this.updateTextures.bind(this),Zd,$d)}updateVertexBuffers(W){this.projectedGeoToClipTransform=W,this.updateVertexBuffersInternal()}addCachedTileAndUpdateTextures(W){this.CachedTilesByTileUrl.set(W.tileUrl,W),this.throttledUpdateTextures()}removeCachedTileAndUpdateTextures(W){this.CachedTilesByTileUrl.delete(W),this.throttledUpdateTextures()}dispose(){this.gl.deleteVertexArray(this.vao),this.gl.deleteTexture(this.packedTilesTexture),this.gl.deleteTexture(this.packedTilesScaleFactorsTexture),this.gl.deleteTexture(this.packedTilesPositionsTexture),this.gl.deleteTexture(this.packedTilesResourcePositionsAndDimensionsTexture)}updateVertexBuffersInternal(){if(!this.vao||!this.projectedGeoToClipTransform)return;this.gl.bindVertexArray(this.vao),sr(this.gl,this.program,new Float32Array(this.warpedMap.resourceTrianglePoints.flat()),2,"a_resourceTrianglePoint");const W=this.warpedMap.projectedGeoCurrentTrianglePoints.map(tt=>se(this.projectedGeoToClipTransform,tt));sr(this.gl,this.program,new Float32Array(W.flat()),2,"a_clipCurrentTrianglePoint");const q=this.warpedMap.projectedGeoNewTrianglePoints.map(tt=>se(this.projectedGeoToClipTransform,tt));sr(this.gl,this.program,new Float32Array(q.flat()),2,"a_clipNewTrianglePoint");let X=new Float32Array(this.warpedMap.resourceTrianglePoints.length);X=X.map((tt,ot)=>Math.round((ot-1)/3)),sr(this.gl,this.program,X,1,"a_triangleIndex")}async updateTextures(){const W=this.gl;if(this.CachedTilesByTileUrl.size===0)return;let q=[...this.CachedTilesByTileUrl.values()];q=q.filter(mo=>this.warpedMap.resourceViewportRingBbox?vh(ao(mo.tile),this.warpedMap.resourceViewportRingBbox):!0);const X=q.length,tt=q.map((mo,yo)=>({w:mo.imageBitmap.width,h:mo.imageBitmap.height,x:0,y:0,index:yo})),{w:ot,h:at}=Vd(tt);W.pixelStorei(W.UNPACK_ALIGNMENT,4),W.bindTexture(W.TEXTURE_2D,this.packedTilesTexture),W.texImage2D(W.TEXTURE_2D,0,W.RGBA,ot,at,0,W.RGBA,W.UNSIGNED_BYTE,null);for(const mo of tt){const yo=q[mo.index].imageBitmap;W.texSubImage2D(W.TEXTURE_2D,0,mo.x,mo.y,yo.width,yo.height,W.RGBA,W.UNSIGNED_BYTE,yo)}W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MIN_FILTER,W.LINEAR),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MAG_FILTER,W.LINEAR),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_WRAP_S,W.CLAMP_TO_EDGE),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_WRAP_T,W.CLAMP_TO_EDGE);const ut=tt.map(mo=>[mo.x,mo.y]);W.bindTexture(W.TEXTURE_2D,this.packedTilesPositionsTexture),W.texImage2D(W.TEXTURE_2D,0,W.RG32I,1,X,0,W.RG_INTEGER,W.INT,new Int32Array(ut.flat())),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MIN_FILTER,W.NEAREST),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MAG_FILTER,W.NEAREST),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_WRAP_S,W.CLAMP_TO_EDGE),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_WRAP_T,W.CLAMP_TO_EDGE);const wt=tt.map(mo=>{const yo=q[mo.index];if(yo&&yo.imageRequest&&yo.imageRequest.region)return[yo.imageRequest.region.x,yo.imageRequest.region.y,yo.imageRequest.region.width,yo.imageRequest.region.height]});W.bindTexture(W.TEXTURE_2D,this.packedTilesResourcePositionsAndDimensionsTexture),W.texImage2D(W.TEXTURE_2D,0,W.RGBA32I,1,X,0,W.RGBA_INTEGER,W.INT,new Int32Array(wt.flat())),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MIN_FILTER,W.NEAREST),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MAG_FILTER,W.NEAREST),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_WRAP_S,W.CLAMP_TO_EDGE),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_WRAP_T,W.CLAMP_TO_EDGE);const uo=tt.map(({index:mo})=>q[mo].tile.tileZoomLevel.scaleFactor);W.bindTexture(W.TEXTURE_2D,this.packedTilesScaleFactorsTexture),W.texImage2D(W.TEXTURE_2D,0,W.R32I,1,X,0,W.RED_INTEGER,W.INT,new Int32Array(uo)),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MIN_FILTER,W.NEAREST),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MAG_FILTER,W.NEAREST),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_WRAP_S,W.CLAMP_TO_EDGE),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_WRAP_T,W.CLAMP_TO_EDGE),this.dispatchEvent(new z(k.TEXTURESUPDATED))}}const Yd=`#version 300 es

precision highp float;

uniform mat4 u_renderTransform;

uniform float u_animationProgress;

in vec2 a_clipCurrentTrianglePoint;
in vec2 a_clipNewTrianglePoint;
in vec2 a_resourceTrianglePoint;
in float a_triangleIndex;

out vec2 v_resourceTrianglePoint;
out float v_triangleIndex;

float cubicInOut(float t) {
  return t < 0.5f ? 4.0f * t * t * t : 0.5f * pow(2.0f * t - 2.0f, 3.0f) + 1.0f;
}

void main() {
  // Pass attributes as varyings to fragment shader
  v_resourceTrianglePoint = a_resourceTrianglePoint;
  v_triangleIndex = a_triangleIndex;

  // Compute triangle vertex coordinates by mixing current and new
  vec2 clipTrianglePoint = mix(a_clipCurrentTrianglePoint, a_clipNewTrianglePoint, cubicInOut(u_animationProgress));

  // Set triangle points coordinates
  // Variables that start with gl_ are special globalThis variables
  // gl_Position stores the vertex (or 'point') positions (or 'coordinates') in clip coordinates (which go from -1 to 1.)

  gl_Position = u_renderTransform * vec4(clipTrianglePoint, 0.0f, 1.0f);
}
`,Jd=`#version 300 es

precision highp float;
precision highp isampler2D;

uniform bool u_removeColor;
uniform vec3 u_removeColorOptionsColor;
uniform float u_removeColorOptionsThreshold;
uniform float u_removeColorOptionsHardness;

uniform bool u_colorize;
uniform vec3 u_colorizeOptionsColor;

uniform float u_opacity;
uniform float u_saturation;

uniform int u_bestScaleFactor;

uniform sampler2D u_packedTilesTexture;
uniform isampler2D u_packedTilesPositionsTexture;
uniform isampler2D u_packedTilesResourcePositionsAndDimensionsTexture;
uniform isampler2D u_packedTilesScaleFactorsTexture;

in vec2 v_resourceTrianglePoint;
in float v_triangleIndex;

out vec4 color;

void main() {
  // The treated triangle point
  int resourceTrianglePointX = int(round(v_resourceTrianglePoint.x));
  int resourceTrianglePointY = int(round(v_resourceTrianglePoint.y));

  // Reading information on packed tiles from textures
  int packedTilesCount = textureSize(u_packedTilesPositionsTexture, 0).y;
  ivec2 packedTilesTextureSize = textureSize(u_packedTilesTexture, 0);

  // Setting references for the for loop
  int smallestScaleFactorDiff = 256 * 256; // Starting with very high number
  int bestScaleFactor = 0;

  // Prepare storage for the resulting packed tiles texture point that corresponds to the treated triangle point
  vec2 packedTilesTexturePoint = vec2(0.0f, 0.0f);

  color = vec4(0.0f, 0.0f, 0.0f, 0.0f);

  bool found = false;

  // Loop through all packed tiles
  for(int index = 0; index < packedTilesCount; index += 1) {

    // Read the information of the tile
    ivec2 packedTilePosition = texelFetch(u_packedTilesPositionsTexture, ivec2(0, index), 0).rg;
    ivec4 packedTileResourcePositionAndDimension = texelFetch(u_packedTilesResourcePositionsAndDimensionsTexture, ivec2(0, index), 0);
    int packedTileScaleFactor = texelFetch(u_packedTilesScaleFactorsTexture, ivec2(0, index), 0).r;

    float packedTilePositionX = float(packedTilePosition.r);
    float packedTilePositionY = float(packedTilePosition.g);

    int packedTileResourcePositionX = packedTileResourcePositionAndDimension.r;
    int packedTileResourcePositionY = packedTileResourcePositionAndDimension.g;

    int packedTileDimensionWidth = packedTileResourcePositionAndDimension.b;
    int packedTileDimensionHeight = packedTileResourcePositionAndDimension.a;

    // If the treated triangle point is inside the tile, consider to use the tile:
    // if the scale factor is closer to the best scale factor for this map then currently known one
    // update the smallest scale factor diff
    // and compute the packed tiles texture point that corresponds to the treated triangle point
    if(resourceTrianglePointX >= packedTileResourcePositionX &&
      resourceTrianglePointX < packedTileResourcePositionX + packedTileDimensionWidth &&
      resourceTrianglePointY >= packedTileResourcePositionY &&
      resourceTrianglePointY < packedTileResourcePositionY + packedTileDimensionHeight) {
      found = true;

      int scaleFactorDiff = abs(u_bestScaleFactor - packedTileScaleFactor);

      if(scaleFactorDiff < smallestScaleFactorDiff || bestScaleFactor == 0) {

        smallestScaleFactorDiff = scaleFactorDiff;
        bestScaleFactor = packedTileScaleFactor;

        float packedTilePointX = float(resourceTrianglePointX - packedTileResourcePositionX) / float(bestScaleFactor);
        float packedTilePointY = float(resourceTrianglePointY - packedTileResourcePositionY) / float(bestScaleFactor);

        float packedTilesPointX = packedTilePositionX + packedTilePointX;
        float packedTilesPointY = packedTilePositionY + packedTilePointY;

        float packedTilesTexturePointX = round(packedTilesPointX) / float(packedTilesTextureSize.x);
        float packedTilesTexturePointY = round(packedTilesPointY) / float(packedTilesTextureSize.y);

        packedTilesTexturePoint = vec2(packedTilesTexturePointX, packedTilesTexturePointY);
      }
    }
  }

  if(found == true) {
    // Read color of the treated point at it's packed tiles texture point coordinates in the packed tiles texture
    color = texture(u_packedTilesTexture, packedTilesTexturePoint);

    // Remove background color
    if(u_removeColorOptionsThreshold > 0.0f) {
      vec3 backgroundColorDiff = color.rgb - u_removeColorOptionsColor.rgb;
      float backgroundColorDistance = length(backgroundColorDiff);
      if(u_removeColor && backgroundColorDistance < u_removeColorOptionsThreshold) {
        float amount = smoothstep(u_removeColorOptionsThreshold - u_removeColorOptionsThreshold * (1.0f - u_removeColorOptionsHardness), u_removeColorOptionsThreshold, backgroundColorDistance);
        color = vec4(color.rgb * amount, amount);
      }
    }

    // Saturation
    float gray = 0.21f * color.r + 0.71f * color.g + 0.07f * color.b;
    color = vec4(color.rgb * (u_saturation) + (gray * (1.0f - u_saturation)), color.a);

    // Colorize
    if(u_colorize) {
      color = vec4((u_colorizeOptionsColor + color.rgb) * color.a, color.a);
    }

    // Opacity
    color = vec4(color.rgb * u_opacity, color.a * u_opacity);

    // Debugging: uncomment to override color of the treated point with a color made from the point's triangle index
    // vec4 debugColor = vec4(abs(sin(v_triangleIndex)), abs(sin(v_triangleIndex + 1.0f)), abs(sin(v_triangleIndex + 2.0f)), 1);
    // color = debugColor;
  }
}
`,Kd=500,Qd={leading:!0,trailing:!0},tf=50,ef={leading:!0,trailing:!0},sn=1,on=1,rf=0,nf=.7,sf=5,of=5,Ni=750;class af extends EventTarget{constructor(W,q){super(),this.webgl2WarpedMapsById=new Map,this.tileCache=new ld,this.mapsInViewport=new Set,this.opacity=sn,this.saturation=on,this.renderOptions={},this.animating=!1,this.animationProgress=1,this.warpedMapList=q,this.gl=W;const X=Oi(W,W.VERTEX_SHADER,Yd),tt=Oi(W,W.FRAGMENT_SHADER,Jd);this.program=zd(W,X,tt),W.deleteShader(X),W.deleteShader(tt),W.disable(W.DEPTH_TEST),this.invertedRenderTransform=Xl(),this.addEventListeners(),this.throttledPrepareRenderInternal=_n(this.prepareRenderInternal.bind(this),Kd,Qd),this.throttledChanged=_n(this.changed.bind(this),tf,ef)}getOpacity(){return this.opacity}setOpacity(W){this.opacity=W}resetOpacity(){this.opacity=sn}getMapOpacity(W){const q=this.webgl2WarpedMapsById.get(W);if(q)return q.opacity}setMapOpacity(W,q){const X=this.webgl2WarpedMapsById.get(W);X&&(X.opacity=Math.min(Math.max(q,0),1))}resetMapOpacity(W){const q=this.webgl2WarpedMapsById.get(W);q&&(q.opacity=sn)}getRemoveColorOptions(){return this.renderOptions.removeColorOptions}setRemoveColorOptions(W){this.renderOptions.removeColorOptions=W}resetRemoveColorOptions(){this.renderOptions.removeColorOptions=void 0}getMapRemoveColorOptions(W){const q=this.webgl2WarpedMapsById.get(W);if(q)return q.renderOptions.removeColorOptions}setMapRemoveColorOptions(W,q){const X=this.webgl2WarpedMapsById.get(W);X&&(X.renderOptions.removeColorOptions=q)}resetMapRemoveColorOptions(W){const q=this.webgl2WarpedMapsById.get(W);q&&(q.renderOptions.removeColorOptions=void 0)}getColorizeOptions(){return this.renderOptions.colorizeOptions}setColorizeOptions(W){this.renderOptions.colorizeOptions=W}resetColorizeOptions(){this.renderOptions.colorizeOptions=void 0}getMapColorizeOptions(W){const q=this.webgl2WarpedMapsById.get(W);if(q)return q.renderOptions.colorizeOptions}setMapColorizeOptions(W,q){const X=this.webgl2WarpedMapsById.get(W);X&&(X.renderOptions.colorizeOptions=q)}resetMapColorizeOptions(W){const q=this.webgl2WarpedMapsById.get(W);q&&(q.renderOptions.colorizeOptions=void 0)}getSaturation(){return this.saturation}setSaturation(W){this.saturation=W}resetSaturation(){this.saturation=on}getMapSaturation(W){const q=this.webgl2WarpedMapsById.get(W);if(q)return q.saturation}setMapSaturation(W,q){const X=this.webgl2WarpedMapsById.get(W);X&&(X.saturation=q)}resetMapSaturation(W){const q=this.webgl2WarpedMapsById.get(W);q&&(q.saturation=on)}render(W){this.viewport=W,this.throttledPrepareRenderInternal(),this.renderInternal()}clear(){this.webgl2WarpedMapsById=new Map,this.mapsInViewport=new Set,this.gl.clear(this.gl.DEPTH_BUFFER_BIT|this.gl.COLOR_BUFFER_BIT),this.tileCache.clear()}dispose(){for(const W of this.webgl2WarpedMapsById.values())this.removeEventListenersFromWebGL2WarpedMap(W),W.dispose();this.tileCache.clear(),this.tileCache.dispose(),this.removeEventListeners(),this.gl.deleteProgram(this.program)}startTransformationTransition(){this.lastAnimationFrameRequestId!==void 0&&cancelAnimationFrame(this.lastAnimationFrameRequestId),this.animating=!0,this.transformationTransitionStart=void 0,this.lastAnimationFrameRequestId=requestAnimationFrame(this.transformationTransitionFrame.bind(this))}transformationTransitionFrame(W){if(this.transformationTransitionStart||(this.transformationTransitionStart=W),W-this.transformationTransitionStart<Ni)this.animationProgress=(W-this.transformationTransitionStart)/Ni,this.renderInternal(),this.lastAnimationFrameRequestId=requestAnimationFrame(this.transformationTransitionFrame.bind(this));else{for(const q of this.warpedMapList.getWarpedMaps())q.resetCurrentTrianglePoints();this.updateVertexBuffers(),this.animating=!1,this.animationProgress=0,this.transformationTransitionStart=void 0}}prepareRenderInternal(){this.updateRequestedTiles(),this.updateVertexBuffers()}updateVertexBuffers(){if(this.viewport){this.invertedRenderTransform=Hl(this.viewport.projectedGeoToClipTransform);for(const W of this.mapsInViewport){const q=this.webgl2WarpedMapsById.get(W);if(!q)break;q.updateVertexBuffers(this.viewport.projectedGeoToClipTransform)}}}updateRequestedTiles(){if(!this.viewport||!this.viewportMovedSignificantly())return;const W=Array.from(this.warpedMapList.getMapsByGeoBbox(this.viewport.geoBbox)).sort((X,tt)=>jt(gn(this.warpedMapList.getWarpedMap(X).geoMaskBbox),this.viewport.geoCenter)-jt(gn(this.warpedMapList.getWarpedMap(tt).geoMaskBbox),this.viewport.geoCenter)),q=[];for(const X of W){const tt=this.warpedMapList.getWarpedMap(X);if(!tt||!tt.visible)continue;if(!tt.hasImageInfo()){tt.loadImageInfo();continue}if(xh(tt.getApproxViewportMaskBbox(this.viewport))<sf)continue;const ot=Qu(tt.parsedImage,tt.getApproxResourceToCanvasScale(this.viewport));tt.updateBestScaleFactor(ot.scaleFactor);const at={maxDepth:0},ut=Ku(tt.projectedTransformer,this.viewport.projectedGeoBbox,at);tt.setResourceViewportRing(ut);const wt=td(ut,ot,tt.parsedImage);for(const uo of wt)q.push(new ud(uo,tt))}this.tileCache.requestFetcableMapTiles(q),this.updateMapsInViewport(q)}viewportMovedSignificantly(){if(!this.viewport)return!1;if(this.previousSignificantViewport){const W=[];for(let X=0;X<4;X++)W.push(jt(this.previousSignificantViewport.projectedGeoRectangle[X],this.viewport.projectedGeoRectangle[X])/this.viewport.projectedGeoPerViewportScale);const q=Math.max(...W);return q==0?!0:q>of?(this.previousSignificantViewport=this.viewport,!0):!1}else return this.previousSignificantViewport=this.viewport,!1}updateMapsInViewport(W){const q=Array.from(this.mapsInViewport),X=W.map(at=>at.mapId).filter((at,ut,wt)=>wt.indexOf(at)===ut);this.mapsInViewport=new Set(X.sort((at,ut)=>{const wt=this.warpedMapList.getMapZIndex(at),uo=this.warpedMapList.getMapZIndex(ut);return wt!==void 0&&uo!==void 0?wt-uo:0}));const tt=X.filter(at=>!q.includes(at)),ot=q.filter(at=>!X.includes(at));for(const at in tt)this.dispatchEvent(new z(k.WARPEDMAPENTER,at));for(const at in ot)this.dispatchEvent(new z(k.WARPEDMAPLEAVE,at))}renderInternal(){if(!this.viewport)return;const W=ql(this.viewport.projectedGeoToClipTransform,this.invertedRenderTransform),q=this.gl;q.viewport(0,0,q.canvas.width,q.canvas.height),q.enable(q.BLEND),q.blendFunc(q.ONE,q.ONE_MINUS_SRC_ALPHA),q.useProgram(this.program);const X=q.getUniformLocation(this.program,"u_renderTransform");q.uniformMatrix4fv(X,!1,Jl(W));const tt=q.getUniformLocation(this.program,"u_animationProgress");q.uniform1f(tt,this.animationProgress);for(const ot of this.mapsInViewport){const at=this.webgl2WarpedMapsById.get(ot);if(!at)continue;this.setRenderOptionsUniforms(this.renderOptions,at.renderOptions);const ut=q.getUniformLocation(this.program,"u_opacity");q.uniform1f(ut,this.opacity*at.opacity);const wt=q.getUniformLocation(this.program,"u_saturation");q.uniform1f(wt,this.saturation*at.saturation);const uo=q.getUniformLocation(this.program,"u_bestScaleFactor"),mo=at.warpedMap.bestScaleFactor;q.uniform1i(uo,mo);const yo=q.getUniformLocation(this.program,"u_packedTilesTexture");q.uniform1i(yo,0),q.activeTexture(q.TEXTURE0),q.bindTexture(q.TEXTURE_2D,at.packedTilesTexture);const lf=q.getUniformLocation(this.program,"u_packedTilesPositionsTexture");q.uniform1i(lf,1),q.activeTexture(q.TEXTURE1),q.bindTexture(q.TEXTURE_2D,at.packedTilesPositionsTexture);const uf=q.getUniformLocation(this.program,"u_packedTilesResourcePositionsAndDimensionsTexture");q.uniform1i(uf,2),q.activeTexture(q.TEXTURE2),q.bindTexture(q.TEXTURE_2D,at.packedTilesResourcePositionsAndDimensionsTexture);const df=q.getUniformLocation(this.program,"u_packedTilesScaleFactorsTexture");q.uniform1i(df,3),q.activeTexture(q.TEXTURE3),q.bindTexture(q.TEXTURE_2D,at.packedTilesScaleFactorsTexture);const wf=at.vao,wo=at.warpedMap.resourceTrianglePoints.length,ls=this.gl.TRIANGLES,_f=0;q.bindVertexArray(wf),q.drawArrays(ls,_f,wo)}}setRenderOptionsUniforms(W,q){var uo,mo,yo,lf,uf,df,wf,wo,ls,_f;const X=this.gl,tt={removeColorOptions:{color:((uo=q.removeColorOptions)==null?void 0:uo.color)||((mo=W.removeColorOptions)==null?void 0:mo.color),hardness:li((yo=q.removeColorOptions)==null?void 0:yo.hardness,(lf=W.removeColorOptions)==null?void 0:lf.hardness),threshold:li((uf=q.removeColorOptions)==null?void 0:uf.threshold,(df=W.removeColorOptions)==null?void 0:df.threshold)},colorizeOptions:{...W.colorizeOptions,...q.colorizeOptions}},ot=(wf=tt.removeColorOptions)==null?void 0:wf.color,at=X.getUniformLocation(this.program,"u_removeColor");if(X.uniform1f(at,ot?1:0),ot){const po=X.getUniformLocation(this.program,"u_removeColorOptionsColor");X.uniform3fv(po,ot);const xo=X.getUniformLocation(this.program,"u_removeColorOptionsThreshold");X.uniform1f(xo,((wo=tt.removeColorOptions)==null?void 0:wo.threshold)||rf);const gf=X.getUniformLocation(this.program,"u_removeColorOptionsHardness");X.uniform1f(gf,((ls=tt.removeColorOptions)==null?void 0:ls.hardness)||nf)}const ut=(_f=tt.colorizeOptions)==null?void 0:_f.color,wt=X.getUniformLocation(this.program,"u_colorize");if(X.uniform1f(wt,ut?1:0),ut){const po=X.getUniformLocation(this.program,"u_colorizeOptionsColor");X.uniform3fv(po,ut)}}changed(){this.dispatchEvent(new z(k.CHANGED))}imageInfoLoaded(W){W instanceof z&&this.dispatchEvent(new z(k.IMAGEINFOLOADED))}mapTileLoaded(W){if(W instanceof z){const{mapId:q,tileUrl:X}=W.data,tt=this.tileCache.getCacheableTile(X);if(!tt||!tt.isCachedTile())return;const ot=this.webgl2WarpedMapsById.get(q);if(!ot)return;ot.addCachedTileAndUpdateTextures(tt)}}mapTileRemoved(W){if(W instanceof z){const{mapId:q,tileUrl:X}=W.data,tt=this.webgl2WarpedMapsById.get(q);if(!tt)return;tt.removeCachedTileAndUpdateTextures(X)}}warpedMapAdded(W){if(W instanceof z){const q=W.data,X=this.warpedMapList.getWarpedMap(q);if(X){const tt=new Hd(this.gl,this.program,X);this.webgl2WarpedMapsById.set(X.mapId,tt),this.addEventListenersToWebGL2WarpedMap(tt)}}}transformationChanged(W){if(W instanceof z){const q=W.data;for(const X of this.warpedMapList.getWarpedMaps(q))this.animating&&X.mixProjectedGeoCurrentAndNewTrianglePoints(this.animationProgress),X.updateProjectedGeoTrianglePoints(!1);this.updateVertexBuffers(),this.startTransformationTransition()}}resourceMaskUpdated(W){if(W instanceof z){const q=W.data,X=this.warpedMapList.getWarpedMap(q);X&&(X.clearResourceTrianglePointsByBestScaleFactor(),X.updateTriangulation(!1))}}addEventListenersToWebGL2WarpedMap(W){W.addEventListener(k.TEXTURESUPDATED,this.throttledChanged.bind(this))}removeEventListenersFromWebGL2WarpedMap(W){W.removeEventListener(k.TEXTURESUPDATED,this.throttledChanged.bind(this))}addEventListeners(){this.tileCache.addEventListener(k.MAPTILELOADED,this.mapTileLoaded.bind(this)),this.tileCache.addEventListener(k.MAPTILEREMOVED,this.mapTileRemoved.bind(this)),this.warpedMapList.addEventListener(k.IMAGEINFOLOADED,this.imageInfoLoaded.bind(this)),this.warpedMapList.addEventListener(k.WARPEDMAPADDED,this.warpedMapAdded.bind(this)),this.warpedMapList.addEventListener(k.TRANSFORMATIONCHANGED,this.transformationChanged.bind(this)),this.warpedMapList.addEventListener(k.RESOURCEMASKUPDATED,this.resourceMaskUpdated.bind(this)),this.warpedMapList.addEventListener(k.CLEARED,this.clear.bind(this))}removeEventListeners(){this.tileCache.removeEventListener(k.MAPTILELOADED,this.mapTileLoaded.bind(this)),this.tileCache.removeEventListener(k.MAPTILEREMOVED,this.mapTileRemoved.bind(this)),this.warpedMapList.removeEventListener(k.IMAGEINFOLOADED,this.imageInfoLoaded.bind(this)),this.warpedMapList.removeEventListener(k.WARPEDMAPADDED,this.warpedMapAdded.bind(this)),this.warpedMapList.removeEventListener(k.TRANSFORMATIONCHANGED,this.transformationChanged.bind(this)),this.warpedMapList.removeEventListener(k.RESOURCEMASKUPDATED,this.resourceMaskUpdated.bind(this)),this.warpedMapList.removeEventListener(k.CLEARED,this.clear.bind(this))}}const hf=leafletSrcExports.Layer.extend({options:{opacity:1,interactive:!1,className:"",pane:"tilePane",zIndex:"1"},initialize(F,W){this._annotation=F,leafletSrcExports.setOptions(this,W),this._initGl()},async onAdd(F){const W=this.getPaneName();return this._map.getPane(W).appendChild(this.container),F.on("zoomend viewreset move",this._update,this),F.on("zoomanim",this._animateZoom,this),F.on("unload",this._unload,this),this.resizeObserver=new ResizeObserver(this._resized.bind(this)),this.resizeObserver.observe(this._map.getContainer(),{box:"content-box"}),this._annotation&&(_h(this._annotation)?await this.addGeoreferenceAnnotationByUrl(this._annotation):await this.addGeoreferenceAnnotation(this._annotation)),this._update(),this},onRemove(F){this.container.remove(),F.off("zoomend viewreset move",this._update,this),F.off("zoomanim",this._animateZoom,this)},async addGeoreferenceAnnotation(F){const W=await this.renderer.warpedMapList.addGeoreferenceAnnotation(F);return this._update(),W},async removeGeoreferenceAnnotation(F){const W=await this.renderer.warpedMapList.removeGeoreferenceAnnotation(F);return this._update(),W},async addGeoreferenceAnnotationByUrl(F){const W=await fetch(F).then(q=>q.json());return this.addGeoreferenceAnnotation(W)},async removeGeoreferenceAnnotationByUrl(F){const W=await fetch(F).then(q=>q.json());return this.removeGeoreferenceAnnotation(W)},async addGeoreferencedMap(F){const W=this.renderer.warpedMapList.addGeoreferencedMap(F);return this._update(),W},async removeGeoreferencedMap(F){const W=this.renderer.warpedMapList.removeGeoreferencedMap(F);return this._update(),W},getContainer(){return this.container},getCanvas(){return this.canvas},getWarpedMapList(){return this.renderer.warpedMapList},getWarpedMap(F){return this.renderer.warpedMapList.getWarpedMap(F)},showMap(F){this.renderer.warpedMapList.showMaps([F]),this._update()},showMaps(F){this.renderer.warpedMapList.showMaps(F),this._update()},hideMap(F){this.renderer.warpedMapList.hideMaps([F]),this._update()},hideMaps(F){this.renderer.warpedMapList.hideMaps(F),this._update()},isMapVisible(F){var W;return(W=this.renderer.warpedMapList.getWarpedMap(F))==null?void 0:W.visible},setMapResourceMask(F,W){this.renderer.warpedMapList.setMapResourceMask(F,W),this._update()},setMapsTransformationType(F,W){this.renderer.warpedMapList.setMapsTransformationType(F,W),this._update()},getTotalBbox(){return this.renderer.warpedMapList.getBbox()},getTotalProjectedBbox(){return this.renderer.warpedMapList.getProjectedBbox()},getTotalBounds(){const F=this.getTotalBbox();return leafletSrcExports.latLngBounds(leafletSrcExports.latLng(F[1],F[0]),leafletSrcExports.latLng(F[3],F[2]))},getTotalProjectedBounds(){const F=this.getTotalProjectedBbox();return leafletSrcExports.latLngBounds(leafletSrcExports.latLng(F[1],F[0]),leafletSrcExports.latLng(F[3],F[2]))},bringMapsToFront(F){this.renderer.warpedMapList.bringMapsToFront(F),this._update()},sendMapsToBack(F){this.renderer.warpedMapList.sendMapsToBack(F),this._update()},bringMapsForward(F){this.renderer.warpedMapList.bringMapsForward(F),this._update()},sendMapsBackward(F){this.renderer.warpedMapList.sendMapsBackward(F),this._update()},bringToFront(){return this._map&&leafletSrcExports.DomUtil.toFront(this.container),this},bringToBack(){return this._map&&leafletSrcExports.DomUtil.toBack(this.container),this},getMapZIndex(F){return this.renderer.warpedMapList.getMapZIndex(F)},getZIndex(){return this.options.zIndex},setZIndex(F){return this.options.zIndex=F,this._updateZIndex(),this},setImageInfoCache(F){this.renderer.warpedMapList.setImageInfoCache(F)},getPaneName(){return this._map.getPane(this.options.pane)?this.options.pane:"tilePane"},getOpacity(){return this.options.opacity},setOpacity(F){return this.options.opacity=F,this._update(),this},resetOpacity(){return this.options.opacity=1,this._update(),this},getMapOpacity(F){return this.renderer.getMapOpacity(F)},setMapOpacity(F,W){return this.renderer.setMapOpacity(F,W),this._update(),this},resetMapOpacity(F){return this.renderer.resetMapOpacity(F),this._update(),this},setSaturation(F){return this.renderer.setSaturation(F),this._update(),this},resetSaturation(){return this.renderer.resetSaturation(),this._update(),this},setMapSaturation(F,W){return this.renderer.setMapSaturation(F,W),this._update(),this},resetMapSaturation(F){return this.renderer.resetMapSaturation(F),this._update(),this},setRemoveColor(F){const W=F.hexColor?ci(F.hexColor):void 0;return this.renderer.setRemoveColorOptions({color:W,threshold:F.threshold,hardness:F.hardness}),this._update(),this},resetRemoveColor(){return this.renderer.resetRemoveColorOptions(),this._update(),this},setMapRemoveColor(F,W){const q=W.hexColor?ci(W.hexColor):void 0;return this.renderer.setMapRemoveColorOptions(F,{color:q,threshold:W.threshold,hardness:W.hardness}),this._update(),this},resetMapRemoveColor(F){return this.renderer.resetMapRemoveColorOptions(F),this},setColorize(F){const W=this.hexToRgb(F);return W&&(this.renderer.setColorizeOptions({color:W}),this._update()),this},resetColorize(){return this.renderer.resetColorizeOptions(),this._update(),this},setMapColorize(F,W){const q=this.hexToRgb(W);return q&&(this.renderer.setMapColorizeOptions(F,{color:q}),this._update()),this},resetMapColorize(F){return this.renderer.resetMapColorizeOptions(F),this._update(),this},_initGl(){if(this.container=leafletSrcExports.DomUtil.create("div"),this.container.classList.add("leaflet-layer"),this.container.classList.add("allmaps-warped-map-layer"),this.options.zIndex&&this._updateZIndex(),this.canvas=leafletSrcExports.DomUtil.create("canvas",void 0,this.container),this.canvas.classList.add("leaflet-zoom-animated"),this.canvas.classList.add("leaflet-image-layer"),this.options.interactive&&this.canvas.classList.add("leaflet-interactive"),this.options.className&&this.canvas.classList.add(this.options.className),this.gl=this.canvas.getContext("webgl2",{premultipliedAlpha:!0}),!this.gl)throw new Error("WebGL 2 not available");const F=new qu(this.options.imageInfoCache);this.renderer=new af(this.gl,F),this._addEventListeners()},_resized(F){for(const W of F){const q=W.contentRect.width,X=W.contentRect.height,tt=window.devicePixelRatio,ot=Math.round(q*tt),at=Math.round(X*tt);this.canvas.width=ot,this.canvas.height=at,this.canvas.style.width=q+"px",this.canvas.style.height=X+"px"}this._update()},_animateZoom(F){const W=this._map.getZoomScale(F.zoom),q=this._map._latLngBoundsToNewLayerBounds(this._map.getBounds(),F.zoom,F.center).min;leafletSrcExports.DomUtil.setTransform(this.canvas,q,W)},_updateZIndex(){this.container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this.container.style.zIndex=this.options.zIndex)},_update(){if(!this._map)return;const F=this._map.containerPointToLayerPoint([0,0]);leafletSrcExports.DomUtil.setPosition(this.canvas,F),this.renderer.setOpacity(this.getOpacity());const W=this._map.getCenter(),q=this._map.options.crs.project(W),X=[q.x,q.y],tt=this._map.getSize(),ot=[tt.x,tt.y],at=this._map.getBounds(),ut=this._map.options.crs.project(at.getNorthEast()),wt=this._map.options.crs.project(at.getSouthWest()),uo=[wt.x,wt.y,ut.x,ut.y],mo=Ir(uo),yo=ys(mo,ot),lf=new Hu(X,ot,0,yo,window.devicePixelRatio);return this.renderer.render(lf),this.container},_addEventListeners(){this.renderer.addEventListener(k.CHANGED,this._update.bind(this)),this.renderer.addEventListener(k.IMAGEINFOLOADED,this._update.bind(this)),this.renderer.addEventListener(k.WARPEDMAPENTER,this._passWarpedMapEvent.bind(this)),this.renderer.addEventListener(k.WARPEDMAPLEAVE,this._passWarpedMapEvent.bind(this)),this.renderer.tileCache.addEventListener(k.FIRSTMAPTILELOADED,this._passWarpedMapEvent.bind(this)),this.renderer.tileCache.addEventListener(k.ALLREQUESTEDTILESLOADED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.addEventListener(k.WARPEDMAPADDED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.addEventListener(k.WARPEDMAPREMOVED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.addEventListener(k.VISIBILITYCHANGED,this._update.bind(this)),this.renderer.warpedMapList.addEventListener(k.CLEARED,this._update.bind(this))},_removeEventListeners(){this.renderer.removeEventListener(k.CHANGED,this._update.bind(this)),this.renderer.removeEventListener(k.IMAGEINFOLOADED,this._update.bind(this)),this.renderer.removeEventListener(k.WARPEDMAPENTER,this._passWarpedMapEvent.bind(this)),this.renderer.removeEventListener(k.WARPEDMAPLEAVE,this._passWarpedMapEvent.bind(this)),this.renderer.tileCache.removeEventListener(k.FIRSTMAPTILELOADED,this._passWarpedMapEvent.bind(this)),this.renderer.tileCache.removeEventListener(k.ALLREQUESTEDTILESLOADED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.removeEventListener(k.WARPEDMAPADDED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.removeEventListener(k.WARPEDMAPREMOVED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.removeEventListener(k.VISIBILITYCHANGED,this._update.bind(this)),this.renderer.warpedMapList.removeEventListener(k.CLEARED,this._update.bind(this))},_passWarpedMapEvent(F){F instanceof z&&this._map&&this._map.fire(F.type,F.data)},_unload(){this.renderer.dispose();const F=this.gl.getExtension("WEBGL_lose_context");F&&F.loseContext();const W=this.gl.canvas;W.width=1,W.height=1,this.resizeObserver.disconnect(),this._removeEventListeners()}}),_hoisted_1$6=["innerHTML"],_hoisted_2$4={key:0,class:"caption"},_hoisted_3$4=["src"],_hoisted_4$3={slot:"footer",class:"footer"},_hoisted_5$2=["src"],_hoisted_6$2={class:"push"},_sfc_main$8=defineComponent({__name:"Map.ce",props:{base:{type:String},basemaps:{type:String,default:"OpenStreetMap"},center:{type:String,default:"32.32347,-80.97122"},caption:{type:String},data:{type:String},entities:{type:String},fit:{type:Boolean,default:!1},height:{type:Number},gestureHandling:{type:Boolean,default:isMobile()},ghDir:{type:String},marker:{type:Boolean},overlay:{type:String},popupOnHover:{type:Boolean},preferGeojson:{type:Boolean},scrollWheelZoom:{type:Boolean,default:!1},title:{type:String},zoom:{type:Number,default:2},zoomOnClick:{type:Boolean}},setup(F){const W=F,q=self.window,X=q.turf;let tt;const ot=ref(!1);watch$1(ot,()=>{tt.open=ot.value});const at=ref("100vw"),ut=ref();onMounted(()=>{var Ap;tt=(Ap=df.value)==null?void 0:Ap.querySelector(".dialog"),tt.addEventListener("sl-hide",Ip=>ot.value=!1),EventBus$1.on("imageSelected",Ip=>{ut.value=Ip.src,ot.value=!0})});const wt={iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-icon.png",iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-icon-2x.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",shadowSize:[41,41]};watch$1(W,()=>{$f()});const uo={CartoDB_DarkMatter:["https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_DarkMatterNoLabels:["https://{s}.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_DarkMatterOnlyLabels:["https://{s}.basemaps.cartocdn.com/dark_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_Positron:["https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_PositronNoLabels:["https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_PositronOnlyLabels:["https://{s}.basemaps.cartocdn.com/light_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_Voyager:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_VoyagerNoLabels:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager_nolabels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_VoyagerOnlyLabels:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_VoyagerLabelsUnder:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager_labels_under/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],Esri_DeLorme:["https://server.arcgisonline.com/ArcGIS/rest/services/Specialty/DeLorme_World_Base_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Copyright: &copy;2012 DeLorme",minZoom:1,maxZoom:11}],Esri_NatGeoWorldMap:["https://server.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC",maxZoom:16}],Esri_OceanBasemap:["https://server.arcgisonline.com/ArcGIS/rest/services/Ocean/World_Ocean_Base/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri",maxZoom:13}],Esri_WorldGrayCanvas:["https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ",maxZoom:16}],Esri_WorldImagery:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}],Esri_WorldPhysical:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Physical_Map/MapServer/tile/{z}/{y}/{x}",{maxZoom:8,attribution:"Tiles &copy; Esri &mdash; Source: US National Park Service"}],Esri_WorldShadedRelief:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri",maxZoom:13}],Esri_WorldStreetMap:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"}],Esri_WorldTerrain:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: USGS, Esri, TANA, DeLorme, and NPS",maxZoom:13}],Esri_WorldTopoMap:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community"}],MtbMap:["http://tile.mtbmap.cz/mtbmap_tiles/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &amp; USGS'}],OpenStreetMap:["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}],OpenStreetMap_DE:["https://{s}.tile.openstreetmap.de/{z}/{x}/{y}.png",{maxZoom:18,attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}],OpenStreetMap_France:["https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",{maxZoom:20,attribution:'&copy; OpenStreetMap France | &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}],OpenStreetMap_HOT:["https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Tiles style by <a href="https://www.hotosm.org/" target="_blank">Humanitarian OpenStreetMap Team</a> hosted by <a href="https://openstreetmap.fr/" target="_blank">OpenStreetMap France</a>',maxZoom:19}],OpenStreetMap_Mapnik:["https://tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:19}],OpenTopoMap:["https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",{maxZoom:17,attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}],OPNVKarte:["https://tileserver.memomaps.de/tilegen/{z}/{x}/{y}.png",{attribution:'Map <a href="https://memomaps.de/">memomaps.de</a> <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:18}],Stadia_AlidadeSmooth:["https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:20}],Stadia_AlidadeSmoothDark:["https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:20}],Stadia_OSMBright:["https://tiles.stadiamaps.com/tiles/osm_bright/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:20}],Stadia_Outdoors:["https://tiles.stadiamaps.com/tiles/outdoors/{z}/{x}/{y}{r}.png",{maxZoom:20,attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'}],Stamen_Terrain:["https://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:18,ext:"png"}],Stamen_TerrainBackground:["https://stamen-tiles-{s}.a.ssl.fastly.net/terrain-background/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:18,ext:"png"}],Stamen_TerrainLabels:["https://stamen-tiles-{s}.a.ssl.fastly.net/terrain-labels/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:18,ext:"png"}],Stamen_Toner:["https://stamen-tiles-{s}.a.ssl.fastly.net/toner/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"}],Stamen_TonerBackground:["https://stamen-tiles-{s}.a.ssl.fastly.net/toner-background/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"}],Stamen_TonerLite:["https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"}],Stamen_Watercolor:["https://stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.{ext}",{subdomains:"abcd",minZoom:1,maxZoom:16,ext:"jpg",attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}],USGS_USTopo:["https://basemap.nationalmap.gov/arcgis/rest/services/USGSTopo/MapServer/tile/{z}/{y}/{x}",{maxZoom:20,attribution:'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'}],USGS_USImagery:["https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryOnly/MapServer/tile/{z}/{y}/{x}",{maxZoom:20,attribution:'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'}],USGS_USImageryTopo:["https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryTopo/MapServer/tile/{z}/{y}/{x}",{maxZoom:20,attribution:'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'}]},mo=ref(null),yo=computed(()=>{var Ap,Ip;return(Ip=(Ap=mo.value)==null?void 0:Ap.getRootNode())==null?void 0:Ip.host}),lf=ref(null),uf=ref(null),df=computed(()=>{var Ap;return(Ap=mo==null?void 0:mo.value)==null?void 0:Ap.parentNode}),wf=ref(1),wo=ref(),ls=ref([]),_f=ref(),po=ref([]),xo=ref(),gf=ref(),cf=ref(),yf=ref(q.config||{}),Sf=computed(()=>{if(yf.value.source)return yf.value.source;if(W.base){let[Ap,Ip,jp,...Jp]=W.base.split("/");return{owner:Ap,repository:Ip,branch:jp,dir:Jp?`/${Jp.join("/")}/`:"/"}}return null}),xf=computed(()=>{var Ap,Ip,jp,Jp;return`https://raw.githubusercontent.com/${(Ap=Sf.value)==null?void 0:Ap.owner}/${(Ip=Sf.value)==null?void 0:Ip.repository}/${(jp=Sf.value)==null?void 0:jp.branch}${(Jp=Sf.value)==null?void 0:Jp.dir}`}),bf=computed(()=>W.caption||W.title),Af=ref(10),Pf=ref(),Df=ref(),zf=ref();function jf(){lf.value&&(lf.value.style.height=W.height?`${W.height}px`:`${lf.value.clientWidth*wf.value}px`)}function $f(){jf()}const Ff=ref(0);watch$1(lf,Ap=>{Ap&&(Ff.value=Ap.clientWidth,$f(),new ResizeObserver(Ip=>{Ff.value!==Ap.clientWidth&&jf(),!wo.value&&Ap.clientHeight>0&&Xf()}).observe(Ap),Ap.clientHeight>0&&Xf())}),watch$1(po,async()=>{let Ap=await Promise.all(po.value),Ip=Ap.filter(kg=>(kg.geojson||kg.url)&&(kg.preferGeojson||W.preferGeojson)).map(kg=>{var im,hm,dp;let Eg=kg.geojson||kg.url;return Eg.indexOf("http")===0?kg.geojson=Eg:(console.log(Eg),Eg[0]==="/"?kg.geojson=`https://raw.githubusercontent.com/${(im=Sf.value)==null?void 0:im.owner}/${(hm=Sf.value)==null?void 0:hm.repository}/${(dp=Sf.value)==null?void 0:dp.branch}${Eg}`:kg.geojson=`${xf.value}/${Eg}`),kg}).map(kg=>({url:kg.geojson,item:kg})),jp=await Promise.all(Ip.map(kg=>fetch(kg.url))),Jp=await Promise.all(jp.map(kg=>kg.json())),sg={};for(let kg=0;kg<Ip.length;kg++){Ip[kg].item.id&&/^Q[0-9]+$/.test(Ip[kg].item.id)&&(Ip[kg].item.qid=Ip[kg].item.id,delete Ip[kg].item.id),Jp[kg].type==="FeatureCollection"?Jp[kg].features.forEach(im=>im.properties={...im.properties,...Ip[kg].item}):Jp[kg].properties={...Jp[kg].properties,...Ip[kg].item};let Eg=Ip[kg].item.layer||"Locations";sg[Eg]||(sg[Eg]=[]),sg[Eg].push(Jp[kg])}let mg={};Ap.filter(kg=>!kg.geojson||!kg.preferGeojson).filter(kg=>!kg.allmaps).forEach(kg=>{let Eg=kg.layer||"Locations";mg[Eg]||(mg[Eg]=[]),mg[Eg].push(kg)}),Ap.filter(kg=>!kg.allmaps).forEach(kg=>{let Eg=kg.layer||"Locations";sg[Eg]?mg[Eg]&&(sg[Eg].push(Ep(mg[Eg])),delete mg[Eg]):(sg[Eg]=[Ep(mg[Eg])],delete mg[Eg])}),cf.value=sg,gf.value=Ap.filter(kg=>kg.allmaps).map(kg=>({name:kg.layer||"Image layer",type:"allmaps",disabled:kg.disabled,opacity:kg.opacity||100,layer:new hf(`https://annotations.allmaps.org/maps/${kg.allmaps}`)}))}),watch$1(cf,()=>yp());function Xf(){var Ip;ls.value=W.entities?W.entities.split(/\s+/).filter(jp=>jp):[];let Ap=document.querySelector("p.active");Ap&&Ap.getAttribute("data-entities")&&(ls.value=[...ls.value,...((Ip=Ap.getAttribute("data-entities"))==null?void 0:Ip.split(/\s+/).filter(jp=>ls.value.indexOf(jp)<0))||[]]),kp(),Dp(),mp(),zp()}async function mp(){Af.value=W.zoom;let Ap;if(W.center)if(isQid(W.center)){let Jp=await getEntity(W.center);Ap=ap(Jp.coords)}else Ap=ap(W.center);else if(ls.value.length){let Jp=await getEntity(ls.value[0]);Ap=ap(Jp.coords),Af.value=9}else Ap=new L$2.LatLng(0,0),Af.value=6;if(wo.value&&(wo.value.off(),wo.value.remove()),!uf.value)return;W.gestureHandling===!0&&L$2.Map.addInitHook("addHandler","gestureHandling",leafletGestureHandling_minExports.GestureHandling),uf.value.style.cursor="default";let Ip=W.basemaps.split(",").map(Jp=>{let[sg,mg]=uo[Jp];return[Jp.replace(/_/," "),L$2.tileLayer(sg,mg)]}),jp={preferCanvas:!1,smoothWheelZoom:!0,smoothSensitivity:1.5,zoomSnap:.1,center:Ap,zoom:Af.value,zoomAnimation:!0,scrollWheelZoom:W.scrollWheelZoom,gestureHandling:W.gestureHandling===!0,layers:[Ip[0][1]]};wo.value=L$2.map(uf.value,jp),(Ip.length>1||Object.keys(cf.value||{}).length>1)&&(xo.value=L$2.control.layers(Object.fromEntries(Ip),{}).addTo(wo.value)),wo.value.on("click",Jp=>{var sg;fp(Jp),_f.value&&Op((sg=_f.value)==null?void 0:sg.split(" ")[0]),W.zoomOnClick&&og()}),wo.value.on("zoomend",Jp=>{fp(Jp),zf.value&&zf.value.layer.openPopup()}),wo.value.on("movestart",()=>{uf.value&&(uf.value.style.cursor="move")}),wo.value.on("moveend",Jp=>{uf.value&&(uf.value.style.cursor="default"),fp(Jp)}),wo.value.on("layeradd",Jp=>{var sg,mg;if(Jp.layer.feature){let kg=Jp.layer;((sg=kg.feature)==null?void 0:sg.type)=="Feature"&&((mg=kg.feature)!=null&&mg.properties.qid)&&kg.feature}}),_f.value=`${Number(Ap.lat.toFixed(5))},${Number(Ap.lng.toFixed(5))} ${Af.value}`,Pf.value=`${Number(Ap.lat.toFixed(5))},${Number(Ap.lng.toFixed(5))},${Af.value}`}function fp(Ap){let Ip=Ap.type==="click"?Ap.latlng:Ap.target.getCenter(),jp=Ap.target.getZoom(),Jp=[Ip.lat,Ip.lng,jp];return _f.value=`${Number(Ip.lat.toFixed(5))},${Number(Ip.lng.toFixed(5))} ${jp}`,Df.value||(Pf.value=`${Number(Ip.lat.toFixed(5))},${Number(Ip.lng.toFixed(5))},${jp}`),Jp}function Mp(Ap){return L$2.geoJSON(Ap,{pointToLayer:(Ip,jp)=>{const Jp=Ip.properties;let sg={...wt};return Ip.properties.icon&&(sg.iconUrl=Ip.properties.icon),Ip.properties.shadowUrl&&(sg.shadowUrl=Ip.properties.shadowUrl),Ip.properties.iconRetinaUrl&&(sg.iconRetinaUrl=Ip.properties.iconRetinaUrl),Jp.markerType==="circle"?L$2.circleMarker(jp,{radius:Jp.radius||4}):L$2.marker(jp,{icon:new L$2.Icon(sg)})},onEachFeature:async(Ip,jp)=>{var sg;let Jp=jp;if(!Ip.properties.coords){if((sg=Jp.feature)!=null&&sg.bbox){let mg=Jp.getBounds().getCenter();Ip.properties.coords=`${mg.lat},${mg.lng}`}else if(Ip.geometry.type==="Polygon"){let mg=X.centroid(Ip);Ip.properties.coords=`${mg.geometry.coordinates[1]},${mg.geometry.coordinates[0]}`}}if(Ip.properties.qid){let mg=await getEntity(Ip.properties.qid);Ip.properties.entityData=mg;let Eg=`<mdp-info-card data="${JSON.stringify(mg).replace(/"/g,"&quot;")}"></mdp-info-card>`;jp.bindPopup(Eg)}else{let kg=`<mdp-info-card data="${JSON.stringify(Ip.properties).replace(/"/g,"&quot;")}"></mdp-info-card>`;jp.bindPopup(kg)}W.popupOnHover&&(jp.on("mouseover",()=>jp.openPopup()),jp.on("mouseout",()=>jp.closePopup())),jp.on("click",()=>{Df.value?(jp.closePopup(),Df.value=void 0):(jp.openPopup(),Df.value={},W.zoomOnClick&&Zp(Ip.properties.coords))})},style:Ip=>{const jp=Ip==null?void 0:Ip.properties,Jp=Ip==null?void 0:Ip.geometry.type;for(let[mg,kg]of Object.entries(jp))kg==="null"&&(jp[mg]=null);return{color:jp.color||"#FB683F",weight:jp.weight||(Jp==="Polygon"||Jp==="MultiPolygon"?0:4),opacity:jp.opacity||1,fillColor:jp.fillColor||"#32C125",fillOpacity:jp.fillOpacity||.5}}})}let Np=()=>{var Ip;let Ap=Object.values(cf.value).map(jp=>jp[0]).flatMap(jp=>jp.features||jp).flatMap(jp=>jp.bbox?[jp.bbox.slice(0,2),jp.bbox.slice(2)]:jp.geometry.type==="Point"?[jp.geometry.coordinates]:jp.geometry.coordinates.flat());Ap.length>1&&((Ip=wo.value)==null||Ip.fitBounds(Ap.map(jp=>[jp[1],jp[0]]),{padding:[100,100]}))},Pp=!1;function yp(){var Ap;if(wo.value&&cf.value&&gf.value&&!Pp){let Ip=Object.keys(cf.value||{}),jp=gf.value?gf.value.length:0;!xo.value&&(Ip.length>1||Ip.length===1&&Ip[0]!=="Locations"||jp>0)&&(xo.value=L$2.control.layers(Object.fromEntries([]),{}).addTo(wo.value));let Jp={};if((Ap=gf.value)==null||Ap.forEach(sg=>{var mg;xo.value&&xo.value.addOverlay(sg.layer,sg.name),sg.disabled||(mg=wo.value)==null||mg.addLayer(sg.layer),Jp[sg.name]=sg.layer}),Object.keys(cf.value||{}).forEach(sg=>{var Eg;let mg=new L$2.LayerGroup,kg=!1;cf.value[sg].forEach(im=>{var dp;let hm=Mp(im);mg.addLayer(hm),(dp=im.properties)!=null&&dp.disabled&&(kg=!0)}),kg||(Eg=wo.value)==null||Eg.addLayer(mg),xo.value&&xo.value.addOverlay(mg,sg)}),Object.keys(Jp).length>0){let sg=L$2.control.opacity(Jp,{label:null,collapsed:!0,position:"topright"});sg.addTo(wo.value),Array.from(sg.getContainer().querySelectorAll(".leaflet-control-layers-overlays label")).forEach(mg=>{var im;let kg=mg.children[0].textContent.trim(),Eg;if((im=gf.value)==null||im.forEach(hm=>{hm.name===kg&&(Eg=hm)}),Eg){let hm=Eg.opacity,dp=mg.children[1].children[0];dp.value=hm,Eg.layer.setOpacity(hm/100),dp.addEventListener("input",cp=>{cp.preventDefault(),cp.stopPropagation(),Eg.layer.setOpacity(parseInt(dp.value)/100)})}})}W.fit&&Np()}}function Ep(Ap){const Ip={type:"FeatureCollection",features:[]};return Ap.filter(jp=>jp.coords).forEach(jp=>{let[Jp,sg]=jp.coords.split(",").map(mg=>parseFloat(mg.trim()));Ip.features.push({type:"Feature",properties:jp,geometry:{type:"Point",coordinates:[sg,Jp]}})}),Ip}async function Cp(Ap){let Ip=await fetch(`https://iiif.mdpress.io/gh-dir/${Ap}?filter=images`).then(Jp=>Jp.json()).then(Jp=>Jp.map(sg=>`https://iiif.mdpress.io/gh:${Ap}/${sg.name}/manifest.json`));return(await loadManifests(Ip)).filter(Jp=>Jp.navPlace).map(Jp=>Nf(Jp,Jp.id))}async function $p(){let Ap=ls.value.length?Object.values(await getEntityData(ls.value)).filter(Ip=>Ip.coords).map(Ip=>Jf(Ip)):[];return console.log(Ap),Ap}async function kp(){W.ghDir&&(po.value=[...po.value,...await Cp(W.ghDir)]);let Ap=W.data?document.getElementById(W.data):yo.value,Ip=Array.from(Ap.querySelectorAll("li")).map(jp=>{var Jp;return ip((Jp=jp.firstChild)==null?void 0:Jp.textContent)});if(W.marker&&W.center)if(isQid(W.center)){let jp=await getEntity(W.center);Ip.push(Promise.resolve(Jf(jp)))}else Ip.push(Promise.resolve({coords:W.center,zoom:W.zoom||10}));po.value=[...po.value,...Ip,...await $p()]}function Dp(){const Ap=jp=>{for(let Jp of jp)Jp.type==="childList"&&Array.from(Jp.target.classList).indexOf("hydrated")>=0&&kp()};new MutationObserver(Ap).observe(yo.value,{childList:!0,subtree:!0,characterData:!0})}function Fp(Ap){return/^[+-]?\d+(.\d*|\d*),{1}[+-]?\d+(.\d*|\d*)$/.test(Ap)}function Sp(Ap){return/^\d{1,2}(\.\d{1})?$/.test(Ap)}function up(Ap){Ap=Ap||"";let Ip=[];Ap=Ap.replace(/“/,'"').replace(/”/,'"').replace(/’/,"'");let jp=Ap.match(/[^\s"]+|"([^"]*)"/gmi);return jp&&jp.forEach(Jp=>{Ip.length>0&&Ip[Ip.length-1].indexOf("=")===Ip[Ip.length-1].length-1?Ip[Ip.length-1]=`${Ip[Ip.length-1]}${Jp}`:Ip.push(Jp)}),Ip}function Nf(Ap,Ip){var Jp,sg;let jp={id:Ip};return Ap.navPlace&&(jp.coords=Ap.navPlace.features[0].geometry.coordinates.map(mg=>mg.toFixed(5)).join(",")),Ap.label&&(jp.label=Ap.label.en),Ap.summary&&(jp.description=(sg=(Jp=Ap.summary)==null?void 0:Jp.en)==null?void 0:sg[0]),Ap.thumbnail&&(jp.image=Ap.thumbnail[0].id),jp}function Jf(Ap,Ip=""){let jp={id:Ip||Ap.id};return Ap.coords&&(jp.coords=Ap.coords),Ap.geojson&&(jp.geojson=Ap.geojson),Ap.label&&(jp.label=Ap.label),Ap.description&&(jp.description=Ap.description),Ap.thumbnail&&(jp.image=Ap.thumbnail),jp}async function ip(Ap){let Ip=up(Ap),jp=/\.(geo)?json$/i,Jp=/^[a-z0-9\-]+:.+/,sg={},mg=new Set(["disabled","prefer-geojson"]);for(let kg=0;kg<Ip.length;kg++){let Eg=Ip[kg];if(Eg.indexOf("=")>0){let[im,...hm]=Eg.split("="),dp=hm.join("=");if(dp=dp[dp.length-1]==='"'?dp.slice(1,-1):dp,im==="qid"){let cp=await getEntity(dp);sg={...Jf(cp,Eg),...sg}}else if(im==="iiif"){let cp=await getManifest(Eg);sg={...Nf(cp,Eg),...sg}}else sg[im]=dp}else if(Sp(Eg))sg.zoom=parseInt(Eg);else if(Fp(Eg))sg.coords=Eg,sg.id=Eg;else if(isQid(Eg)){let im=await getEntity(Eg);sg={...Jf(im,Eg),...sg}}else if(jp.test(Eg))sg.geojson=Eg;else if(Jp.test(Eg)){let im=await getManifest(Eg);sg={...Nf(im,Eg),...sg}}else if(mg.has(Eg))sg[kebabToCamel(Eg)]=!0;else{let im=Eg[0]==='"'&&Eg[Eg.length-1]==='"'?Eg.slice(1,-1):Eg;sg.label?sg.description=im:sg.label=im}}return sg.preferGeojson=sg.preferGeojson||W.preferGeojson&&sg.geojson||sg.geojson&&!sg.coords,sg}function ap(Ap){let[Ip,jp]=Ap.split(",").map(Jp=>parseFloat(Jp.trim()));return new leafletSrcExports.LatLng(Ip,jp)}function Op(Ap){navigator.clipboard&&navigator.clipboard.writeText(Ap)}function Gp(Ap="",Ip=""){return Object.values(cf.value).map(Jp=>{let sg=Jp[0];return sg.type==="FeatureCollection"?sg.features:[sg]}).flat().find(Jp=>{var sg,mg;return Jp.id===Ap||((sg=Jp.properties)==null?void 0:sg.id)===Ap||((mg=Jp.properties)==null?void 0:mg.coords)===Ip})}function bp(Ap=""){var mg,kg,Eg,im;Ap=Ap.replace(/^flyto\|/i,"");let Ip="",jp=10,Jp=Ap.split(",");if(Jp.length===1){Ip=Jp[0];let hm=Gp(Ip);jp=((mg=hm==null?void 0:hm.properties)==null?void 0:mg.zoom)||jp}else if(Jp.length===2)if(/^[+-]?\d+(.\d*|\d*)$/.test(Jp[0])){Ip=Jp.join(",");let hm=Gp("",Ip);jp=((kg=hm==null?void 0:hm.properties)==null?void 0:kg.zoom)||jp}else Ip=Jp[0],jp=parseFloat(Jp[1]);else Ip=Jp.slice(0,2).join(","),jp=parseFloat(Jp[2]);let sg;return(Eg=wo.value)==null||Eg.eachLayer(hm=>{var dp,cp,Vp,qp;(((cp=(dp=hm==null?void 0:hm.feature)==null?void 0:dp.properties)==null?void 0:cp.id)===Ip||((qp=(Vp=hm==null?void 0:hm.feature)==null?void 0:Vp.properties)==null?void 0:qp.coords)===Ip)&&(sg=hm)}),sg||(im=wo.value)==null||im.eachLayer(hm=>sg=hm),{id:Ip,zoom:jp,layer:sg}}function zp(){let Ap=yo.value.parentElement,Ip=new Set;for(;Ap!=null&&Ap.parentElement&&Ap.tagName!=="MAIN";)Ap=Ap.parentElement,Array.from(Ap.querySelectorAll("[enter],[exit]")).forEach(Jp=>{Up(Jp)&&!Ip.has(Jp)&&(Rp(Jp),Ip.add(Jp))});let jp=yo.value.parentElement;for(;jp!=null&&jp.parentElement&&jp.tagName!=="BODY";)jp=jp.parentElement;jp&&Array.from(jp.querySelectorAll("mark")).forEach(Jp=>{let sg=Array.from(Jp.attributes).find(mg=>mg.name==="flyto");if(sg&&Up(Jp.parentElement)){let kg=sg==null?void 0:sg.value;Jp.classList.add(sg.name),Jp.addEventListener("click",()=>Zp(kg)),W.popupOnHover&&(Jp.addEventListener("mouseover",()=>{let Eg=bp(kg).layer;Eg.openPopup(),isMobile()&&setTimeout(()=>Eg.closePopup(),2e3)}),Jp.addEventListener("mouseleave",()=>{var Eg;zf.value=bp(kg),zf.value.id!==Df.value&&((Eg=zf.value.layer)==null||Eg.closePopup())}))}})}function Rp(Ap){let Ip=Ap.classList.contains("active");new MutationObserver(Jp=>{Jp.forEach(sg=>{if(sg.attributeName=="class"){let mg=sg.target.classList.contains("active");if(Ip!==mg){Ip=mg;let kg=Ap.attributes.getNamedItem(mg?"enter":"exit");if(kg){const[Eg,...im]=kg.value.split(":");let hm=im.join(":");Eg==="flyto"&&Zp(hm,!0),kg.name==="exit"&&og()}}}})}).observe(Ap,{attributes:!0,childList:!0,subtree:!0,characterData:!0})}function Up(Ap){let Ip=Ap.previousSibling;for(;Ip;){if(Ip.nodeName==="VE-MAP")return Ip===yo.value?Ip:null;Ip=Ip.previousSibling}for(;Ap.parentElement&&Ap.tagName!=="MAIN";){Ap=Ap.parentElement;let jp=Ap.querySelector(":scope > ve-map, :scope > p > ve-map, :scope > section > ve-map");if(jp)return jp===yo.value?jp:null}}async function Zp(Ap,Ip=!1){var jp,Jp;if(zf.value=bp(Ap),zf.value.layer){if(zf.value.id===Df.value&&!Ip)zf.value.layer.closePopup(),og();else if(Df.value=zf.value.id,(jp=zf.value.layer.feature)!=null&&jp.properties){let sg=ap(zf.value.layer.feature.properties.coords);(Jp=wo.value)==null||Jp.flyTo(sg,zf.value.zoom)}}else og()}function og(){var Ap,Ip;if(zf.value=null,Pf.value){let[jp,Jp,sg]=Pf.value.split(",").map(kg=>parseFloat(kg)),mg=new L$2.LatLng(jp,Jp);(Ap=wo.value)==null||Ap.flyTo(mg,sg),(Ip=wo.value)==null||Ip.closePopup()}Df.value=void 0}return(Ap,Ip)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",{ref_key:"root",ref:mo,style:{width:"100%",height:"100%"}},[createBaseVNode("div",{class:"content",ref_key:"contentEl",ref:lf},[createBaseVNode("div",{id:"lat-lng-zoom",innerHTML:_f.value,onClick:Ip[0]||(Ip[0]=jp=>Op(`${_f.value}`))},null,8,_hoisted_1$6),createBaseVNode("div",{id:"map",ref_key:"mapEl",ref:uf},null,512),bf.value?(openBlock(),createElementBlock("div",_hoisted_2$4,toDisplayString(bf.value),1)):createCommentVNode("",!0)],512)],512),createBaseVNode("sl-dialog",{class:"dialog","no-header":"",style:normalizeStyle({"--width":at.value,"--body-spacing":0,"--footer-spacing":"0.5em"})},[ut.value?(openBlock(),createElementBlock("mdp-image",{key:0,"no-caption":"",src:ut.value,fit:"cover"},null,8,_hoisted_3$4)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_4$3,[createBaseVNode("mdp-caption",{src:ut.value},null,8,_hoisted_5$2),createBaseVNode("div",_hoisted_6$2,[createBaseVNode("sl-button",{variant:"primary",onClick:Ip[1]||(Ip[1]=jp=>ut.value=null)},"Close")])])],4)],64))}}),_style_0$6=`.leaflet-pane,.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-tile-container,.leaflet-pane>svg,.leaflet-pane>canvas,.leaflet-zoom-box,.leaflet-image-layer,.leaflet-layer{position:absolute;left:0;top:0}.leaflet-container{overflow:hidden}.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none}.leaflet-tile::-moz-selection{background:transparent}.leaflet-tile::selection{background:transparent}.leaflet-safari .leaflet-tile{image-rendering:-webkit-optimize-contrast}.leaflet-safari .leaflet-tile-container{width:1600px;height:1600px;-webkit-transform-origin:0 0}.leaflet-marker-icon,.leaflet-marker-shadow{display:block}.leaflet-container .leaflet-overlay-pane svg{max-width:none!important;max-height:none!important}.leaflet-container .leaflet-marker-pane img,.leaflet-container .leaflet-shadow-pane img,.leaflet-container .leaflet-tile-pane img,.leaflet-container img.leaflet-image-layer,.leaflet-container .leaflet-tile{max-width:none!important;max-height:none!important;width:auto;padding:0}.leaflet-container img.leaflet-tile{mix-blend-mode:plus-lighter}.leaflet-container.leaflet-touch-zoom{touch-action:pan-x pan-y}.leaflet-container.leaflet-touch-drag{touch-action:none;touch-action:pinch-zoom}.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom{touch-action:none}.leaflet-container{-webkit-tap-highlight-color:transparent}.leaflet-container a{-webkit-tap-highlight-color:rgba(51,181,229,.4)}.leaflet-tile{filter:inherit;visibility:hidden}.leaflet-tile-loaded{visibility:inherit}.leaflet-zoom-box{width:0;height:0;box-sizing:border-box;z-index:800}.leaflet-overlay-pane svg{-moz-user-select:none}.leaflet-pane{z-index:400}.leaflet-tile-pane{z-index:200}.leaflet-overlay-pane{z-index:400}.leaflet-shadow-pane{z-index:500}.leaflet-marker-pane{z-index:600}.leaflet-tooltip-pane{z-index:650}.leaflet-popup-pane{z-index:700}.leaflet-map-pane canvas{z-index:100}.leaflet-map-pane svg{z-index:200}.leaflet-vml-shape{width:1px;height:1px}.lvml{behavior:url(#default#VML);display:inline-block;position:absolute}.leaflet-control{position:relative;z-index:800;pointer-events:visiblePainted;pointer-events:auto}.leaflet-top,.leaflet-bottom{position:absolute;z-index:1000;pointer-events:none}.leaflet-top{top:0}.leaflet-right{right:0}.leaflet-bottom{bottom:0}.leaflet-left{left:0}.leaflet-control{float:left;clear:both}.leaflet-right .leaflet-control{float:right}.leaflet-top .leaflet-control{margin-top:10px}.leaflet-bottom .leaflet-control{margin-bottom:10px}.leaflet-left .leaflet-control{margin-left:10px}.leaflet-right .leaflet-control{margin-right:10px}.leaflet-fade-anim .leaflet-popup{opacity:0;transition:opacity .2s linear}.leaflet-fade-anim .leaflet-map-pane .leaflet-popup{opacity:1}.leaflet-zoom-animated{transform-origin:0 0}svg.leaflet-zoom-animated{will-change:transform}.leaflet-zoom-anim .leaflet-zoom-animated{transition:transform .25s cubic-bezier(0,0,.25,1)}.leaflet-zoom-anim .leaflet-tile,.leaflet-pan-anim .leaflet-tile{transition:none}.leaflet-zoom-anim .leaflet-zoom-hide{visibility:hidden}.leaflet-interactive{cursor:pointer}.leaflet-grab{cursor:grab}.leaflet-crosshair,.leaflet-crosshair .leaflet-interactive{cursor:crosshair}.leaflet-popup-pane,.leaflet-control{cursor:auto}.leaflet-dragging .leaflet-grab,.leaflet-dragging .leaflet-grab .leaflet-interactive,.leaflet-dragging .leaflet-marker-draggable{cursor:move;cursor:grabbing}.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-image-layer,.leaflet-pane>svg path,.leaflet-tile-container{pointer-events:none}.leaflet-marker-icon.leaflet-interactive,.leaflet-image-layer.leaflet-interactive,.leaflet-pane>svg path.leaflet-interactive,svg.leaflet-image-layer.leaflet-interactive path{pointer-events:visiblePainted;pointer-events:auto}.leaflet-container{background:#ddd;outline-offset:1px}.leaflet-container a{color:#0078a8}.leaflet-zoom-box{border:2px dotted #38f;background:rgba(255,255,255,.5)}.leaflet-container{font-family:Helvetica Neue,Arial,Helvetica,sans-serif;font-size:12px;font-size:.75rem;line-height:1.5}.leaflet-bar{box-shadow:0 1px 5px #000000a6;border-radius:4px}.leaflet-bar a{background-color:#fff;border-bottom:1px solid #ccc;width:26px;height:26px;line-height:26px;display:block;text-align:center;text-decoration:none;color:#000}.leaflet-bar a,.leaflet-control-layers-toggle{background-position:50% 50%;background-repeat:no-repeat;display:block}.leaflet-bar a:hover,.leaflet-bar a:focus{background-color:#f4f4f4}.leaflet-bar a:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.leaflet-bar a:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-bottom:none}.leaflet-bar a.leaflet-disabled{cursor:default;background-color:#f4f4f4;color:#bbb}.leaflet-touch .leaflet-bar a{width:30px;height:30px;line-height:30px}.leaflet-touch .leaflet-bar a:first-child{border-top-left-radius:2px;border-top-right-radius:2px}.leaflet-touch .leaflet-bar a:last-child{border-bottom-left-radius:2px;border-bottom-right-radius:2px}.leaflet-control-zoom-in,.leaflet-control-zoom-out{font:700 18px Lucida Console,Monaco,monospace;text-indent:1px}.leaflet-touch .leaflet-control-zoom-in,.leaflet-touch .leaflet-control-zoom-out{font-size:22px}.leaflet-control-layers{box-shadow:0 1px 5px #0006;background:#fff;border-radius:5px}.leaflet-control-layers-toggle{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAQAAAADQ4RFAAACf0lEQVR4AY1UM3gkARTePdvdoTxXKc+qTl3aU5U6b2Kbkz3Gtq3Zw6ziLGNPzrYx7946Tr6/ee/XeCQ4D3ykPtL5tHno4n0d/h3+xfuWHGLX81cn7r0iTNzjr7LrlxCqPtkbTQEHeqOrTy4Yyt3VCi/IOB0v7rVC7q45Q3Gr5K6jt+3Gl5nCoDD4MtO+j96Wu8atmhGqcNGHObuf8OM/x3AMx38+4Z2sPqzCxRFK2aF2e5Jol56XTLyggAMTL56XOMoS1W4pOyjUcGGQdZxU6qRh7B9Zp+PfpOFlqt0zyDZckPi1ttmIp03jX8gyJ8a/PG2yutpS/Vol7peZIbZcKBAEEheEIAgFbDkz5H6Zrkm2hVWGiXKiF4Ycw0RWKdtC16Q7qe3X4iOMxruonzegJzWaXFrU9utOSsLUmrc0YjeWYjCW4PDMADElpJSSQ0vQvA1Tm6/JlKnqFs1EGyZiFCqnRZTEJJJiKRYzVYzJck2Rm6P4iH+cmSY0YzimYa8l0EtTODFWhcMIMVqdsI2uiTvKmTisIDHJ3od5GILVhBCarCfVRmo4uTjkhrhzkiBV7SsaqS+TzrzM1qpGGUFt28pIySQHR6h7F6KSwGWm97ay+Z+ZqMcEjEWebE7wxCSQwpkhJqoZA5ivCdZDjJepuJ9IQjGGUmuXJdBFUygxVqVsxFsLMbDe8ZbDYVCGKxs+W080max1hFCarCfV+C1KATwcnvE9gRRuMP2prdbWGowm1KB1y+zwMMENkM755cJ2yPDtqhTI6ED1M/82yIDtC/4j4BijjeObflpO9I9MwXTCsSX8jWAFeHr05WoLTJ5G8IQVS/7vwR6ohirYM7f6HzYpogfS3R2OAAAAAElFTkSuQmCC);width:36px;height:36px}.leaflet-retina .leaflet-control-layers-toggle{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAQAAABvcdNgAAAEsklEQVR4AWL4TydIhpZK1kpWOlg0w3ZXP6D2soBtG42jeI6ZmQTHzAxiTbSJsYLjO9HhP+WOmcuhciVnmHVQcJnp7DFvScowZorad/+V/fVzMdMT2g9Cv9guXGv/7pYOrXh2U+RRR3dSd9JRx6bIFc/ekqHI29JC6pJ5ZEh1yWkhkbcFeSjxgx3L2m1cb1C7bceyxA+CNjT/Ifff+/kDk2u/w/33/IeCMOSaWZ4glosqT3DNnNZQ7Cs58/3Ce5HL78iZH/vKVIaYlqzfdLu8Vi7dnvUbEza5Idt36tquZFldl6N5Z/POLof0XLK61mZCmJSWjVF9tEjUluu74IUXvgttuVIHE7YxSkaYhJZam7yiM9Pv82JYfl9nptxZaxMJE4YSPty+vF0+Y2up9d3wwijfjZbabqm/3bZ9ecKHsiGmRflnn1MW4pjHf9oLufyn2z3y1D6n8g8TZhxyzipLNPnAUpsOiuWimg52psrTZYnOWYNDTMuWBWa0tJb4rgq1UvmutpaYEbZlwU3CLJm/ayYjHW5/h7xWLn9Hh1vepDkyf7dE7MtT5LR4e7yYpHrkhOUpEfssBLq2pPhAqoSWKUkk7EDqkmK6RrCEzqDjhNDWNE+XSMvkJRDWlZTmCW0l0PHQGRZY5t1L83kT0Y3l2SItk5JAWHl2dCOBm+fPu3fo5/3v61RMCO9Jx2EEYYhb0rmNQMX/vm7gqOEJLcXTGw3CAuRNeyaPWwjR8PRqKQ1PDA/dpv+on9Shox52WFnx0KY8onHayrJzm87i5h9xGw/tfkev0jGsQizqezUKjk12hBMKJ4kbCqGPVNXudyyrShovGw5CgxsRICxF6aRmSjlBnHRzg7Gx8fKqEubI2rahQYdR1YgDIRQO7JvQyD52hoIQx0mxa0ODtW2Iozn1le2iIRdzwWewedyZzewidueOGqlsn1MvcnQpuVwLGG3/IR1hIKxCjelIDZ8ldqWz25jWAsnldEnK0Zxro19TGVb2ffIZEsIO89EIEDvKMPrzmBOQcKQ+rroye6NgRRxqR4U8EAkz0CL6uSGOm6KQCdWjvjRiSP1BPalCRS5iQYiEIvxuBMJEWgzSoHADcVMuN7IuqqTeyUPq22qFimFtxDyBBJEwNyt6TM88blFHao/6tWWhuuOM4SAK4EI4QmFHA+SEyWlp4EQoJ13cYGzMu7yszEIBOm2rVmHUNqwAIQabISNMRstmdhNWcFLsSm+0tjJH1MdRxO5Nx0WDMhCtgD6OKgZeljJqJKc9po8juskR9XN0Y1lZ3mWjLR9JCO1jRDMd0fpYC2VnvjBSEFg7wBENc0R9HFlb0xvF1+TBEpF68d+DHR6IOWVv2BECtxo46hOFUBd/APU57WIoEwJhIi2CdpyZX0m93BZicktMj1AS9dClteUFAUNUIEygRZCtik5zSxI9MubTBH1GOiHsiLJ3OCoSZkILa9PxiN0EbvhsAo8tdAf9Seepd36lGWHmtNANTv5Jd0z4QYyeo/UEJqxKRpg5LZx6btLPsOaEmdMyxYdlc8LMaJnikDlhclqmPiQnTEpLUIZEwkRagjYkEibQErwhkTAKCLQEbUgkzJQWc/0PstHHcfEdQ+UAAAAASUVORK5CYII=);background-size:26px 26px}.leaflet-touch .leaflet-control-layers-toggle{width:44px;height:44px}.leaflet-control-layers .leaflet-control-layers-list,.leaflet-control-layers-expanded .leaflet-control-layers-toggle{display:none}.leaflet-control-layers-expanded .leaflet-control-layers-list{display:block;position:relative}.leaflet-control-layers-expanded{padding:6px 10px 6px 6px;color:#333;background:#fff}.leaflet-control-layers-scrollbar{overflow-y:scroll;overflow-x:hidden;padding-right:5px}.leaflet-control-layers-selector{margin-top:2px;position:relative;top:1px}.leaflet-control-layers label{display:block;font-size:13px;font-size:1.08333em}.leaflet-control-layers-separator{height:0;border-top:1px solid #ddd;margin:5px -10px 5px -6px}.leaflet-default-icon-path{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=)}.leaflet-container .leaflet-control-attribution{background:#fff;background:rgba(255,255,255,.8);margin:0}.leaflet-control-attribution,.leaflet-control-scale-line{padding:0 5px;color:#333;line-height:1.4}.leaflet-control-attribution a{text-decoration:none}.leaflet-control-attribution a:hover,.leaflet-control-attribution a:focus{text-decoration:underline}.leaflet-attribution-flag{display:inline!important;vertical-align:baseline!important;width:1em;height:.6669em}.leaflet-left .leaflet-control-scale{margin-left:5px}.leaflet-bottom .leaflet-control-scale{margin-bottom:5px}.leaflet-control-scale-line{border:2px solid #777;border-top:none;line-height:1.1;padding:2px 5px 1px;white-space:nowrap;box-sizing:border-box;background:rgba(255,255,255,.8);text-shadow:1px 1px #fff}.leaflet-control-scale-line:not(:first-child){border-top:2px solid #777;border-bottom:none;margin-top:-2px}.leaflet-control-scale-line:not(:first-child):not(:last-child){border-bottom:2px solid #777}.leaflet-touch .leaflet-control-attribution,.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{box-shadow:none}.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{border:2px solid rgba(0,0,0,.2);background-clip:padding-box}.leaflet-popup{position:absolute;text-align:center;margin-bottom:20px}.leaflet-popup-content-wrapper{padding:1px;text-align:left;border-radius:12px}.leaflet-popup-content{margin:13px 24px 13px 20px;line-height:1.3;font-size:13px;font-size:1.08333em;min-height:1px}.leaflet-popup-content p{margin:1.3em 0}.leaflet-popup-tip-container{width:40px;height:20px;position:absolute;left:50%;margin-top:-1px;margin-left:-20px;overflow:hidden;pointer-events:none}.leaflet-popup-tip{width:17px;height:17px;padding:1px;margin:-10px auto 0;pointer-events:auto;transform:rotate(45deg)}.leaflet-popup-content-wrapper,.leaflet-popup-tip{background:white;color:#333;box-shadow:0 3px 14px #0006}.leaflet-container a.leaflet-popup-close-button{position:absolute;top:0;right:0;border:none;text-align:center;width:24px;height:24px;font:16px/24px Tahoma,Verdana,sans-serif;color:#757575;text-decoration:none;background:transparent}.leaflet-container a.leaflet-popup-close-button:hover,.leaflet-container a.leaflet-popup-close-button:focus{color:#585858}.leaflet-popup-scrolled{overflow:auto}.leaflet-oldie .leaflet-popup-content-wrapper{-ms-zoom:1}.leaflet-oldie .leaflet-popup-tip{width:24px;margin:0 auto;-ms-filter:"progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)";filter:progid:DXImageTransform.Microsoft.Matrix(M11=.70710678,M12=.70710678,M21=-.70710678,M22=.70710678)}.leaflet-oldie .leaflet-control-zoom,.leaflet-oldie .leaflet-control-layers,.leaflet-oldie .leaflet-popup-content-wrapper,.leaflet-oldie .leaflet-popup-tip{border:1px solid #999}.leaflet-div-icon{background:#fff;border:1px solid #666}.leaflet-tooltip{position:absolute;padding:6px;background-color:#fff;border:1px solid #fff;border-radius:3px;color:#222;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:none;box-shadow:0 1px 3px #0006}.leaflet-tooltip.leaflet-interactive{cursor:pointer;pointer-events:auto}.leaflet-tooltip-top:before,.leaflet-tooltip-bottom:before,.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{position:absolute;pointer-events:none;border:6px solid transparent;background:transparent;content:""}.leaflet-tooltip-bottom{margin-top:6px}.leaflet-tooltip-top{margin-top:-6px}.leaflet-tooltip-bottom:before,.leaflet-tooltip-top:before{left:50%;margin-left:-6px}.leaflet-tooltip-top:before{bottom:0;margin-bottom:-12px;border-top-color:#fff}.leaflet-tooltip-bottom:before{top:0;margin-top:-12px;margin-left:-6px;border-bottom-color:#fff}.leaflet-tooltip-left{margin-left:-6px}.leaflet-tooltip-right{margin-left:6px}.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{top:50%;margin-top:-6px}.leaflet-tooltip-left:before{right:0;margin-right:-12px;border-left-color:#fff}.leaflet-tooltip-right:before{left:0;margin-left:-12px;border-right-color:#fff}@media print{.leaflet-control{-webkit-print-color-adjust:exact;print-color-adjust:exact}}input[type=range]{-webkit-appearance:none;-webkit-tap-highlight-color:rgba(255,255,255,0);width:110px;height:10px;margin:0;border:none;padding:1px 2px;border-radius:30px;background:#f1f0ee;outline:none}input[type=range]::-ms-track{border:inherit;color:transparent;background:transparent}input[type=range]::-ms-fill-lower,input[type=range]::-ms-fill-upper{background:transparent}input[type=range]::-ms-tooltip{display:none}input[type=range]::-ms-thumb{width:15px;height:18px;border-radius:12px;border:0;background-image:linear-gradient(to bottom,#1253a4 0,#1253a4 100%)}.leaflet-control-layers-label{margin:0 0 8px 1px}@keyframes leaflet-gestures-fadein{0%{opacity:0}to{opacity:1}}.leaflet-container:after{animation:leaflet-gestures-fadein .8s backwards;color:#fff;font-family:Roboto,Arial,sans-serif;font-size:22px;justify-content:center;display:flex;align-items:center;padding:15px;position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:461;pointer-events:none}.leaflet-gesture-handling-touch-warning:after,.leaflet-gesture-handling-scroll-warning:after{animation:leaflet-gestures-fadein .8s forwards}.leaflet-gesture-handling-touch-warning:after{content:attr(data-gesture-handling-touch-content)}.leaflet-gesture-handling-scroll-warning:after{content:attr(data-gesture-handling-scroll-content)}:root,:host,.sl-theme-light{color-scheme:light;--sl-color-gray-50: hsl(0 0% 97.5%);--sl-color-gray-100: hsl(240 4.8% 95.9%);--sl-color-gray-200: hsl(240 5.9% 90%);--sl-color-gray-300: hsl(240 4.9% 83.9%);--sl-color-gray-400: hsl(240 5% 64.9%);--sl-color-gray-500: hsl(240 3.8% 46.1%);--sl-color-gray-600: hsl(240 5.2% 33.9%);--sl-color-gray-700: hsl(240 5.3% 26.1%);--sl-color-gray-800: hsl(240 3.7% 15.9%);--sl-color-gray-900: hsl(240 5.9% 10%);--sl-color-gray-950: hsl(240 7.3% 8%);--sl-color-red-50: hsl(0 85.7% 97.3%);--sl-color-red-100: hsl(0 93.3% 94.1%);--sl-color-red-200: hsl(0 96.3% 89.4%);--sl-color-red-300: hsl(0 93.5% 81.8%);--sl-color-red-400: hsl(0 90.6% 70.8%);--sl-color-red-500: hsl(0 84.2% 60.2%);--sl-color-red-600: hsl(0 72.2% 50.6%);--sl-color-red-700: hsl(0 73.7% 41.8%);--sl-color-red-800: hsl(0 70% 35.3%);--sl-color-red-900: hsl(0 62.8% 30.6%);--sl-color-red-950: hsl(0 60% 19.6%);--sl-color-orange-50: hsl(33.3 100% 96.5%);--sl-color-orange-100: hsl(34.3 100% 91.8%);--sl-color-orange-200: hsl(32.1 97.7% 83.1%);--sl-color-orange-300: hsl(30.7 97.2% 72.4%);--sl-color-orange-400: hsl(27 96% 61%);--sl-color-orange-500: hsl(24.6 95% 53.1%);--sl-color-orange-600: hsl(20.5 90.2% 48.2%);--sl-color-orange-700: hsl(17.5 88.3% 40.4%);--sl-color-orange-800: hsl(15 79.1% 33.7%);--sl-color-orange-900: hsl(15.3 74.6% 27.8%);--sl-color-orange-950: hsl(15.2 69.1% 19%);--sl-color-amber-50: hsl(48 100% 96.1%);--sl-color-amber-100: hsl(48 96.5% 88.8%);--sl-color-amber-200: hsl(48 96.6% 76.7%);--sl-color-amber-300: hsl(45.9 96.7% 64.5%);--sl-color-amber-400: hsl(43.3 96.4% 56.3%);--sl-color-amber-500: hsl(37.7 92.1% 50.2%);--sl-color-amber-600: hsl(32.1 94.6% 43.7%);--sl-color-amber-700: hsl(26 90.5% 37.1%);--sl-color-amber-800: hsl(22.7 82.5% 31.4%);--sl-color-amber-900: hsl(21.7 77.8% 26.5%);--sl-color-amber-950: hsl(22.9 74.1% 16.7%);--sl-color-yellow-50: hsl(54.5 91.7% 95.3%);--sl-color-yellow-100: hsl(54.9 96.7% 88%);--sl-color-yellow-200: hsl(52.8 98.3% 76.9%);--sl-color-yellow-300: hsl(50.4 97.8% 63.5%);--sl-color-yellow-400: hsl(47.9 95.8% 53.1%);--sl-color-yellow-500: hsl(45.4 93.4% 47.5%);--sl-color-yellow-600: hsl(40.6 96.1% 40.4%);--sl-color-yellow-700: hsl(35.5 91.7% 32.9%);--sl-color-yellow-800: hsl(31.8 81% 28.8%);--sl-color-yellow-900: hsl(28.4 72.5% 25.7%);--sl-color-yellow-950: hsl(33.1 69% 13.9%);--sl-color-lime-50: hsl(78.3 92% 95.1%);--sl-color-lime-100: hsl(79.6 89.1% 89.2%);--sl-color-lime-200: hsl(80.9 88.5% 79.6%);--sl-color-lime-300: hsl(82 84.5% 67.1%);--sl-color-lime-400: hsl(82.7 78% 55.5%);--sl-color-lime-500: hsl(83.7 80.5% 44.3%);--sl-color-lime-600: hsl(84.8 85.2% 34.5%);--sl-color-lime-700: hsl(85.9 78.4% 27.3%);--sl-color-lime-800: hsl(86.3 69% 22.7%);--sl-color-lime-900: hsl(87.6 61.2% 20.2%);--sl-color-lime-950: hsl(86.5 60.6% 13.9%);--sl-color-green-50: hsl(138.5 76.5% 96.7%);--sl-color-green-100: hsl(140.6 84.2% 92.5%);--sl-color-green-200: hsl(141 78.9% 85.1%);--sl-color-green-300: hsl(141.7 76.6% 73.1%);--sl-color-green-400: hsl(141.9 69.2% 58%);--sl-color-green-500: hsl(142.1 70.6% 45.3%);--sl-color-green-600: hsl(142.1 76.2% 36.3%);--sl-color-green-700: hsl(142.4 71.8% 29.2%);--sl-color-green-800: hsl(142.8 64.2% 24.1%);--sl-color-green-900: hsl(143.8 61.2% 20.2%);--sl-color-green-950: hsl(144.3 60.7% 12%);--sl-color-emerald-50: hsl(151.8 81% 95.9%);--sl-color-emerald-100: hsl(149.3 80.4% 90%);--sl-color-emerald-200: hsl(152.4 76% 80.4%);--sl-color-emerald-300: hsl(156.2 71.6% 66.9%);--sl-color-emerald-400: hsl(158.1 64.4% 51.6%);--sl-color-emerald-500: hsl(160.1 84.1% 39.4%);--sl-color-emerald-600: hsl(161.4 93.5% 30.4%);--sl-color-emerald-700: hsl(162.9 93.5% 24.3%);--sl-color-emerald-800: hsl(163.1 88.1% 19.8%);--sl-color-emerald-900: hsl(164.2 85.7% 16.5%);--sl-color-emerald-950: hsl(164.3 87.5% 9.4%);--sl-color-teal-50: hsl(166.2 76.5% 96.7%);--sl-color-teal-100: hsl(167.2 85.5% 89.2%);--sl-color-teal-200: hsl(168.4 83.8% 78.2%);--sl-color-teal-300: hsl(170.6 76.9% 64.3%);--sl-color-teal-400: hsl(172.5 66% 50.4%);--sl-color-teal-500: hsl(173.4 80.4% 40%);--sl-color-teal-600: hsl(174.7 83.9% 31.6%);--sl-color-teal-700: hsl(175.3 77.4% 26.1%);--sl-color-teal-800: hsl(176.1 69.4% 21.8%);--sl-color-teal-900: hsl(175.9 60.8% 19%);--sl-color-teal-950: hsl(176.5 58.6% 11.4%);--sl-color-cyan-50: hsl(183.2 100% 96.3%);--sl-color-cyan-100: hsl(185.1 95.9% 90.4%);--sl-color-cyan-200: hsl(186.2 93.5% 81.8%);--sl-color-cyan-300: hsl(187 92.4% 69%);--sl-color-cyan-400: hsl(187.9 85.7% 53.3%);--sl-color-cyan-500: hsl(188.7 94.5% 42.7%);--sl-color-cyan-600: hsl(191.6 91.4% 36.5%);--sl-color-cyan-700: hsl(192.9 82.3% 31%);--sl-color-cyan-800: hsl(194.4 69.6% 27.1%);--sl-color-cyan-900: hsl(196.4 63.6% 23.7%);--sl-color-cyan-950: hsl(196.8 61% 16.1%);--sl-color-sky-50: hsl(204 100% 97.1%);--sl-color-sky-100: hsl(204 93.8% 93.7%);--sl-color-sky-200: hsl(200.6 94.4% 86.1%);--sl-color-sky-300: hsl(199.4 95.5% 73.9%);--sl-color-sky-400: hsl(198.4 93.2% 59.6%);--sl-color-sky-500: hsl(198.6 88.7% 48.4%);--sl-color-sky-600: hsl(200.4 98% 39.4%);--sl-color-sky-700: hsl(201.3 96.3% 32.2%);--sl-color-sky-800: hsl(201 90% 27.5%);--sl-color-sky-900: hsl(202 80.3% 23.9%);--sl-color-sky-950: hsl(202.3 73.8% 16.5%);--sl-color-blue-50: hsl(213.8 100% 96.9%);--sl-color-blue-100: hsl(214.3 94.6% 92.7%);--sl-color-blue-200: hsl(213.3 96.9% 87.3%);--sl-color-blue-300: hsl(211.7 96.4% 78.4%);--sl-color-blue-400: hsl(213.1 93.9% 67.8%);--sl-color-blue-500: hsl(217.2 91.2% 59.8%);--sl-color-blue-600: hsl(221.2 83.2% 53.3%);--sl-color-blue-700: hsl(224.3 76.3% 48%);--sl-color-blue-800: hsl(225.9 70.7% 40.2%);--sl-color-blue-900: hsl(224.4 64.3% 32.9%);--sl-color-blue-950: hsl(226.2 55.3% 18.4%);--sl-color-indigo-50: hsl(225.9 100% 96.7%);--sl-color-indigo-100: hsl(226.5 100% 93.9%);--sl-color-indigo-200: hsl(228 96.5% 88.8%);--sl-color-indigo-300: hsl(229.7 93.5% 81.8%);--sl-color-indigo-400: hsl(234.5 89.5% 73.9%);--sl-color-indigo-500: hsl(238.7 83.5% 66.7%);--sl-color-indigo-600: hsl(243.4 75.4% 58.6%);--sl-color-indigo-700: hsl(244.5 57.9% 50.6%);--sl-color-indigo-800: hsl(243.7 54.5% 41.4%);--sl-color-indigo-900: hsl(242.2 47.4% 34.3%);--sl-color-indigo-950: hsl(243.5 43.6% 22.9%);--sl-color-violet-50: hsl(250 100% 97.6%);--sl-color-violet-100: hsl(251.4 91.3% 95.5%);--sl-color-violet-200: hsl(250.5 95.2% 91.8%);--sl-color-violet-300: hsl(252.5 94.7% 85.1%);--sl-color-violet-400: hsl(255.1 91.7% 76.3%);--sl-color-violet-500: hsl(258.3 89.5% 66.3%);--sl-color-violet-600: hsl(262.1 83.3% 57.8%);--sl-color-violet-700: hsl(263.4 70% 50.4%);--sl-color-violet-800: hsl(263.4 69.3% 42.2%);--sl-color-violet-900: hsl(263.5 67.4% 34.9%);--sl-color-violet-950: hsl(265.1 61.5% 21.4%);--sl-color-purple-50: hsl(270 100% 98%);--sl-color-purple-100: hsl(268.7 100% 95.5%);--sl-color-purple-200: hsl(268.6 100% 91.8%);--sl-color-purple-300: hsl(269.2 97.4% 85.1%);--sl-color-purple-400: hsl(270 95.2% 75.3%);--sl-color-purple-500: hsl(270.7 91% 65.1%);--sl-color-purple-600: hsl(271.5 81.3% 55.9%);--sl-color-purple-700: hsl(272.1 71.7% 47.1%);--sl-color-purple-800: hsl(272.9 67.2% 39.4%);--sl-color-purple-900: hsl(273.6 65.6% 32%);--sl-color-purple-950: hsl(276 59.5% 16.5%);--sl-color-fuchsia-50: hsl(289.1 100% 97.8%);--sl-color-fuchsia-100: hsl(287 100% 95.5%);--sl-color-fuchsia-200: hsl(288.3 95.8% 90.6%);--sl-color-fuchsia-300: hsl(291.1 93.1% 82.9%);--sl-color-fuchsia-400: hsl(292 91.4% 72.5%);--sl-color-fuchsia-500: hsl(292.2 84.1% 60.6%);--sl-color-fuchsia-600: hsl(293.4 69.5% 48.8%);--sl-color-fuchsia-700: hsl(294.7 72.4% 39.8%);--sl-color-fuchsia-800: hsl(295.4 70.2% 32.9%);--sl-color-fuchsia-900: hsl(296.7 63.6% 28%);--sl-color-fuchsia-950: hsl(297.1 56.8% 14.5%);--sl-color-pink-50: hsl(327.3 73.3% 97.1%);--sl-color-pink-100: hsl(325.7 77.8% 94.7%);--sl-color-pink-200: hsl(325.9 84.6% 89.8%);--sl-color-pink-300: hsl(327.4 87.1% 81.8%);--sl-color-pink-400: hsl(328.6 85.5% 70.2%);--sl-color-pink-500: hsl(330.4 81.2% 60.4%);--sl-color-pink-600: hsl(333.3 71.4% 50.6%);--sl-color-pink-700: hsl(335.1 77.6% 42%);--sl-color-pink-800: hsl(335.8 74.4% 35.3%);--sl-color-pink-900: hsl(335.9 69% 30.4%);--sl-color-pink-950: hsl(336.2 65.4% 15.9%);--sl-color-rose-50: hsl(355.7 100% 97.3%);--sl-color-rose-100: hsl(355.6 100% 94.7%);--sl-color-rose-200: hsl(352.7 96.1% 90%);--sl-color-rose-300: hsl(352.6 95.7% 81.8%);--sl-color-rose-400: hsl(351.3 94.5% 71.4%);--sl-color-rose-500: hsl(349.7 89.2% 60.2%);--sl-color-rose-600: hsl(346.8 77.2% 49.8%);--sl-color-rose-700: hsl(345.3 82.7% 40.8%);--sl-color-rose-800: hsl(343.4 79.7% 34.7%);--sl-color-rose-900: hsl(341.5 75.5% 30.4%);--sl-color-rose-950: hsl(341.3 70.1% 17.1%);--sl-color-primary-50: var(--sl-color-sky-50);--sl-color-primary-100: var(--sl-color-sky-100);--sl-color-primary-200: var(--sl-color-sky-200);--sl-color-primary-300: var(--sl-color-sky-300);--sl-color-primary-400: var(--sl-color-sky-400);--sl-color-primary-500: var(--sl-color-sky-500);--sl-color-primary-600: var(--sl-color-sky-600);--sl-color-primary-700: var(--sl-color-sky-700);--sl-color-primary-800: var(--sl-color-sky-800);--sl-color-primary-900: var(--sl-color-sky-900);--sl-color-primary-950: var(--sl-color-sky-950);--sl-color-success-50: var(--sl-color-green-50);--sl-color-success-100: var(--sl-color-green-100);--sl-color-success-200: var(--sl-color-green-200);--sl-color-success-300: var(--sl-color-green-300);--sl-color-success-400: var(--sl-color-green-400);--sl-color-success-500: var(--sl-color-green-500);--sl-color-success-600: var(--sl-color-green-600);--sl-color-success-700: var(--sl-color-green-700);--sl-color-success-800: var(--sl-color-green-800);--sl-color-success-900: var(--sl-color-green-900);--sl-color-success-950: var(--sl-color-green-950);--sl-color-warning-50: var(--sl-color-amber-50);--sl-color-warning-100: var(--sl-color-amber-100);--sl-color-warning-200: var(--sl-color-amber-200);--sl-color-warning-300: var(--sl-color-amber-300);--sl-color-warning-400: var(--sl-color-amber-400);--sl-color-warning-500: var(--sl-color-amber-500);--sl-color-warning-600: var(--sl-color-amber-600);--sl-color-warning-700: var(--sl-color-amber-700);--sl-color-warning-800: var(--sl-color-amber-800);--sl-color-warning-900: var(--sl-color-amber-900);--sl-color-warning-950: var(--sl-color-amber-950);--sl-color-danger-50: var(--sl-color-red-50);--sl-color-danger-100: var(--sl-color-red-100);--sl-color-danger-200: var(--sl-color-red-200);--sl-color-danger-300: var(--sl-color-red-300);--sl-color-danger-400: var(--sl-color-red-400);--sl-color-danger-500: var(--sl-color-red-500);--sl-color-danger-600: var(--sl-color-red-600);--sl-color-danger-700: var(--sl-color-red-700);--sl-color-danger-800: var(--sl-color-red-800);--sl-color-danger-900: var(--sl-color-red-900);--sl-color-danger-950: var(--sl-color-red-950);--sl-color-neutral-50: var(--sl-color-gray-50);--sl-color-neutral-100: var(--sl-color-gray-100);--sl-color-neutral-200: var(--sl-color-gray-200);--sl-color-neutral-300: var(--sl-color-gray-300);--sl-color-neutral-400: var(--sl-color-gray-400);--sl-color-neutral-500: var(--sl-color-gray-500);--sl-color-neutral-600: var(--sl-color-gray-600);--sl-color-neutral-700: var(--sl-color-gray-700);--sl-color-neutral-800: var(--sl-color-gray-800);--sl-color-neutral-900: var(--sl-color-gray-900);--sl-color-neutral-950: var(--sl-color-gray-950);--sl-color-neutral-0: hsl(0, 0%, 100%);--sl-color-neutral-1000: hsl(0, 0%, 0%);--sl-border-radius-small: .1875rem;--sl-border-radius-medium: .25rem;--sl-border-radius-large: .5rem;--sl-border-radius-x-large: 1rem;--sl-border-radius-circle: 50%;--sl-border-radius-pill: 9999px;--sl-shadow-x-small: 0 1px 2px hsl(240 3.8% 46.1% / 6%);--sl-shadow-small: 0 1px 2px hsl(240 3.8% 46.1% / 12%);--sl-shadow-medium: 0 2px 4px hsl(240 3.8% 46.1% / 12%);--sl-shadow-large: 0 2px 8px hsl(240 3.8% 46.1% / 12%);--sl-shadow-x-large: 0 4px 16px hsl(240 3.8% 46.1% / 12%);--sl-spacing-3x-small: .125rem;--sl-spacing-2x-small: .25rem;--sl-spacing-x-small: .5rem;--sl-spacing-small: .75rem;--sl-spacing-medium: 1rem;--sl-spacing-large: 1.25rem;--sl-spacing-x-large: 1.75rem;--sl-spacing-2x-large: 2.25rem;--sl-spacing-3x-large: 3rem;--sl-spacing-4x-large: 4.5rem;--sl-transition-x-slow: 1s;--sl-transition-slow: .5s;--sl-transition-medium: .25s;--sl-transition-fast: .15s;--sl-transition-x-fast: 50ms;--sl-font-mono: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;--sl-font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--sl-font-serif: Georgia, "Times New Roman", serif;--sl-font-size-2x-small: .625rem;--sl-font-size-x-small: .75rem;--sl-font-size-small: .875rem;--sl-font-size-medium: 1rem;--sl-font-size-large: 1.25rem;--sl-font-size-x-large: 1.5rem;--sl-font-size-2x-large: 2.25rem;--sl-font-size-3x-large: 3rem;--sl-font-size-4x-large: 4.5rem;--sl-font-weight-light: 300;--sl-font-weight-normal: 400;--sl-font-weight-semibold: 500;--sl-font-weight-bold: 700;--sl-letter-spacing-denser: -.03em;--sl-letter-spacing-dense: -.015em;--sl-letter-spacing-normal: normal;--sl-letter-spacing-loose: .075em;--sl-letter-spacing-looser: .15em;--sl-line-height-denser: 1;--sl-line-height-dense: 1.4;--sl-line-height-normal: 1.8;--sl-line-height-loose: 2.2;--sl-line-height-looser: 2.6;--sl-focus-ring-color: var(--sl-color-primary-600);--sl-focus-ring-style: solid;--sl-focus-ring-width: 3px;--sl-focus-ring: var(--sl-focus-ring-style) var(--sl-focus-ring-width) var(--sl-focus-ring-color);--sl-focus-ring-offset: 1px;--sl-button-font-size-small: var(--sl-font-size-x-small);--sl-button-font-size-medium: var(--sl-font-size-small);--sl-button-font-size-large: var(--sl-font-size-medium);--sl-input-height-small: 1.875rem;--sl-input-height-medium: 2.5rem;--sl-input-height-large: 3.125rem;--sl-input-background-color: var(--sl-color-neutral-0);--sl-input-background-color-hover: var(--sl-input-background-color);--sl-input-background-color-focus: var(--sl-input-background-color);--sl-input-background-color-disabled: var(--sl-color-neutral-100);--sl-input-border-color: var(--sl-color-neutral-300);--sl-input-border-color-hover: var(--sl-color-neutral-400);--sl-input-border-color-focus: var(--sl-color-primary-500);--sl-input-border-color-disabled: var(--sl-color-neutral-300);--sl-input-border-width: 1px;--sl-input-required-content: "*";--sl-input-required-content-offset: -2px;--sl-input-required-content-color: var(--sl-input-label-color);--sl-input-border-radius-small: var(--sl-border-radius-medium);--sl-input-border-radius-medium: var(--sl-border-radius-medium);--sl-input-border-radius-large: var(--sl-border-radius-medium);--sl-input-font-family: var(--sl-font-sans);--sl-input-font-weight: var(--sl-font-weight-normal);--sl-input-font-size-small: var(--sl-font-size-small);--sl-input-font-size-medium: var(--sl-font-size-medium);--sl-input-font-size-large: var(--sl-font-size-large);--sl-input-letter-spacing: var(--sl-letter-spacing-normal);--sl-input-color: var(--sl-color-neutral-700);--sl-input-color-hover: var(--sl-color-neutral-700);--sl-input-color-focus: var(--sl-color-neutral-700);--sl-input-color-disabled: var(--sl-color-neutral-900);--sl-input-icon-color: var(--sl-color-neutral-500);--sl-input-icon-color-hover: var(--sl-color-neutral-600);--sl-input-icon-color-focus: var(--sl-color-neutral-600);--sl-input-placeholder-color: var(--sl-color-neutral-500);--sl-input-placeholder-color-disabled: var(--sl-color-neutral-600);--sl-input-spacing-small: var(--sl-spacing-small);--sl-input-spacing-medium: var(--sl-spacing-medium);--sl-input-spacing-large: var(--sl-spacing-large);--sl-input-focus-ring-color: hsl(198.6 88.7% 48.4% / 40%);--sl-input-focus-ring-offset: 0;--sl-input-filled-background-color: var(--sl-color-neutral-100);--sl-input-filled-background-color-hover: var(--sl-color-neutral-100);--sl-input-filled-background-color-focus: var(--sl-color-neutral-100);--sl-input-filled-background-color-disabled: var(--sl-color-neutral-100);--sl-input-filled-color: var(--sl-color-neutral-800);--sl-input-filled-color-hover: var(--sl-color-neutral-800);--sl-input-filled-color-focus: var(--sl-color-neutral-700);--sl-input-filled-color-disabled: var(--sl-color-neutral-800);--sl-input-label-font-size-small: var(--sl-font-size-small);--sl-input-label-font-size-medium: var(--sl-font-size-medium);--sl-input-label-font-size-large: var(--sl-font-size-large);--sl-input-label-color: inherit;--sl-input-help-text-font-size-small: var(--sl-font-size-x-small);--sl-input-help-text-font-size-medium: var(--sl-font-size-small);--sl-input-help-text-font-size-large: var(--sl-font-size-medium);--sl-input-help-text-color: var(--sl-color-neutral-500);--sl-toggle-size-small: .875rem;--sl-toggle-size-medium: 1.125rem;--sl-toggle-size-large: 1.375rem;--sl-overlay-background-color: hsl(240 3.8% 46.1% / 33%);--sl-panel-background-color: var(--sl-color-neutral-0);--sl-panel-border-color: var(--sl-color-neutral-200);--sl-panel-border-width: 1px;--sl-tooltip-border-radius: var(--sl-border-radius-medium);--sl-tooltip-background-color: var(--sl-color-neutral-800);--sl-tooltip-color: var(--sl-color-neutral-0);--sl-tooltip-font-family: var(--sl-font-sans);--sl-tooltip-font-weight: var(--sl-font-weight-normal);--sl-tooltip-font-size: var(--sl-font-size-small);--sl-tooltip-line-height: var(--sl-line-height-dense);--sl-tooltip-padding: var(--sl-spacing-2x-small) var(--sl-spacing-x-small);--sl-tooltip-arrow-size: 6px;--sl-z-index-drawer: 700;--sl-z-index-dialog: 800;--sl-z-index-dropdown: 900;--sl-z-index-toast: 950;--sl-z-index-tooltip: 1000}@supports (scrollbar-gutter: stable){.sl-scroll-lock{scrollbar-gutter:stable!important;overflow:hidden!important}}@supports not (scrollbar-gutter: stable){.sl-scroll-lock{padding-right:var(--sl-scroll-lock-size)!important;overflow:hidden!important}}.sl-toast-stack{position:fixed;top:0;inset-inline-end:0;z-index:var(--sl-z-index-toast);width:28rem;max-width:100%;max-height:100%;overflow:auto}.sl-toast-stack sl-alert{margin:var(--sl-spacing-medium)}.sl-toast-stack sl-alert::part(base){box-shadow:var(--sl-shadow-large)}:host{display:flex;align-content:center;justify-content:center;position:relative;background-color:inherit}.content{display:flex;flex-direction:column;width:100%;height:100%;margin:auto}#map{width:100%;height:100%}.caption{background-color:#fff;color:#000;padding:6px;line-height:1.2}#lat-lng-zoom{position:absolute;font-family:sans-serif;bottom:24px;right:0;width:150px;height:32px;padding:3px 6px;font-size:.8rem;background-color:#ffffff80;color:#000;z-index:2;opacity:0;text-align:right}#lat-lng-zoom:hover{visibility:visible;opacity:1;transition:all .3s ease-in;cursor:copy;z-index:1000}.card{display:grid;grid-template-columns:1fr;grid-template-rows:auto auto auto 1fr 0px;border-radius:4px;padding:0}.card p{border:none}.card-image{grid-area:1 / 1 / 2 / 2;width:100%;height:190px}.card-title{grid-area:2 / 1 / 3 / 2;font-weight:700;font-size:1.5rem;line-height:1;padding:1.3rem .5rem .2rem;text-decoration:none}.card-metadata{grid-area:3 / 1 / 4 / 2;list-style:none;padding:.2rem .5rem;margin:0;font-size:.9rem;font-weight:400}.card-abstract{grid-area:4 / 1 / 5 / 2;align-self:flex-end;height:110px;line-height:1.4;font-size:1rem;padding:.5rem .5rem 0;overflow:hidden;display:-webkit-box;-webkit-line-clamp:5;-webkit-box-orient:vertical;margin:0 0 .5rem}.leaflet-popup-content{width:280px;margin:0}.leaflet-control-layers-toggle{background-image:url(https://unpkg.com/leaflet@1.9.3/dist/images/layers.png)}.leaflet-retina .leaflet-control-layers-toggle{background-image:url(https://unpkg.com/leaflet@1.9.3/dist/images/layers-2x.png)}sl-dialog::part(panel){max-width:unset;max-height:unset;height:100dvh}sl-dialog::part(overlay){--sl-overlay-background-color: rgba(100, 100, 100, .8)}sl-dialog::part(footer){background-color:#64646480}.leaflet-top,.leaflet-bottom{z-index:unset}.dialog .footer{display:flex;align-items:center;gap:.5em;padding:.5em;text-align:left}.push{margin-left:auto}
`,Map$3=_export_sfc(_sfc_main$8,[["styles",[_style_0$6]]]),_hoisted_1$5=createBaseVNode("sl-button",{slot:"trigger"},[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",slot:"prefix",width:"16",height:"16",fill:"currentColor",class:"bi bi-list",viewBox:"0 0 16 16"},[createBaseVNode("path",{"fill-rule":"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"})])],-1),_hoisted_2$3=["onClick"],_hoisted_3$3=["innerHTML"],_hoisted_4$2=["innerHTML"],_hoisted_5$1={key:1,slot:"prefix",style:{width:"1em","margin-right":"1em"}},_hoisted_6$1=createBaseVNode("span",null,"Download as PDF",-1),_hoisted_7$1=createBaseVNode("img",{slot:"prefix",width:"16",src:"https://upload.wikimedia.org/wikipedia/commons/2/2a/Noun_Project_PDF_icon_117327_cc.svg",alt:"PDF Download Icon"},null,-1),_hoisted_8$1=[_hoisted_6$1,_hoisted_7$1],_hoisted_9$1={class:"font-medium"},_hoisted_10$1=createBaseVNode("span",{class:"font-medium"}," Logout",-1),_hoisted_11$1=["innerHTML"],_hoisted_12$1={class:"font-medium"},_hoisted_13$1=["innerHTML"],_hoisted_14={class:"hs-overlay-open:mt-7 hs-overlay-open:opacity-100 hs-overlay-open:duration-500 mt-0 opacity-0 ease-out transition-all sm:max-w-lg sm:w-full m-3 sm:mx-auto min-h-[calc(100%-3.5rem)] flex items-center"},_hoisted_15={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},_hoisted_16={class:"p-4 overflow-y-auto flex items-center gap-4 text-black"},_hoisted_17=createBaseVNode("sl-spinner",{style:{"font-size":"3rem","--indicator-color":"deeppink","--track-color":"pink"}},null,-1),_hoisted_18=["innerHTML"],_sfc_main$7=defineComponent({__name:"Menu.ce",props:{auth:{type:String},contact:{type:String},pdfDownloadEnabled:{type:Boolean,default:!1}},setup(F){const W=F,q=ref(null),X=computed(()=>{var jf,$f;return($f=(jf=q.value)==null?void 0:jf.getRootNode())==null?void 0:$f.host});watch$1(X,()=>{lf()});const tt=ref(null),ot=computed(()=>tt==null?void 0:tt.value),at=computed(()=>new HSOverlay(ot.value)),ut=ref(null),wt=computed(()=>ut==null?void 0:ut.value),uo=ref("Generating PDF...");watch$1(wt,jf=>{at.value.init(),jf.addEventListener("open.hs.overlay",$f=>mo.value=!0),jf.addEventListener("close.hs.overlay",$f=>mo.value=!1)});const mo=ref(!1);watch$1(mo,jf=>{jf?at.value.open(wt.value):at.value.close(wt.value)}),onMounted(async()=>{W.auth==="github"&&bf()});const yo=ref([]);function lf(){function jf(){let $f=Array.from(X.value.querySelectorAll("li")).map(Ff=>{var Mp,Np;const Xf=Ff.querySelector("a");let mp=Xf==null?void 0:Xf.innerText.trim(),fp=(Mp=Ff.querySelector("svg"))==null?void 0:Mp.outerHTML;if(!fp){let Pp=((Np=Xf==null?void 0:Xf.href.split("/").filter(yp=>yp).pop())==null?void 0:Np.toLowerCase())||"";Pp=location.host===Pp?"home":Pp,wo[Pp]&&(fp=wo[Pp])}return{label:mp,icon:fp,href:Xf==null?void 0:Xf.href}});W.contact&&$f.push({label:"Contact Us",icon:wo.contact,href:"/contact"}),yo.value=$f}jf(),new MutationObserver($f=>{for(let Ff of $f)Ff.type==="childList"&&jf()}).observe(X.value,{childList:!0,subtree:!0})}function uf(jf,$f){var Xf;let Ff=jf.href.split("/").filter(mp=>mp).pop().toLowerCase();if(Ff=location.host===Ff?"home":Ff,Ff==="contact")df();else{let mp=new URL(jf.href);if(mp.origin===location.origin){let Mp=`${((Xf=(ls==null?void 0:ls.config)||{})==null?void 0:Xf.baseurl)||""}${mp.pathname}`;location.pathname=Mp}else location.href=jf.href}}function df(){const jf=W.contact,$f=`${ls.config.title} Contact`,Xf=`mailto:${jf}?subject=${$f}&body=`;ls.open(Xf,"_blank")}async function wf(){uo.value="Generating PDF...",mo.value=!mo.value;let jf=await fetch(`https://ezsitepdf-drnxe7pzjq-uc.a.run.app/pdf?url=${location.href}`);if(jf.ok){uo.value="Downloading PDF...";let $f=await jf.blob();const Ff=document.createElement("a");Ff.setAttribute("download","resume.pdf");const Xf=URL.createObjectURL($f);Ff.href=Xf,Ff.setAttribute("target","_blank"),Ff.click(),Ff.addEventListener,URL.revokeObjectURL(Xf)}setTimeout(()=>mo.value=!1,2e3)}const wo={about:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"/></svg>',contact:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"/></svg>',home:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 576 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"/></svg>',login:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M304 128a80 80 0 1 0 -160 0 80 80 0 1 0 160 0zM96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM49.3 464H398.7c-8.9-63.3-63.3-112-129-112H178.3c-65.7 0-120.1 48.7-129 112zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3z"/></svg>',user:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"/></svg>'},ls=self.window,_f=ref(ls.config||{}),po=ref(null),xo=ref(!1);watch$1(po,()=>{po.value?(localStorage.setItem("auth-user",JSON.stringify(po.value)),localStorage.setItem("gh-auth-token",po.value.token),localStorage.setItem("gh-username",po.value.username)):(localStorage.getItem("auth-user")&&localStorage.removeItem("auth-user"),localStorage.getItem("gh-auth-token")&&localStorage.removeItem("gh-auth-token"),localStorage.getItem("gh-username")&&localStorage.removeItem("gh-username"))});const gf=computed(()=>{var jf,$f;return((jf=po.value)==null?void 0:jf.token)||(($f=po.value)==null?void 0:$f.token)||!1});watch$1(gf,()=>{gf.value||(xo.value=!1)});function cf(jf){return jf[0].toUpperCase()+jf.slice(1).toLowerCase()}function yf(jf){jf.preventDefault(),Af()}function Sf(jf){jf.preventDefault(),po.value=null,Pf()}const xf={"iiif.mdpress.io":"9baccef56771878fd304","www.mdpress.io":"12548925f073dccf16d4"};async function bf(){var Ff,Xf,mp;let jf=localStorage.getItem("auth-user")&&JSON.parse(localStorage.getItem("auth-user")||"{}");(jf==null?void 0:jf.provider)==="github"?po.value=jf:po.value=null;let $f=new URL(ls.location.href).searchParams.get("code");if($f){let fp=`${location.pathname}${location.hash}`;ls.history.replaceState({},"",fp);let Mp=`https://iiif.mdpress.io/gh-token?code=${$f}&hostname=${ls.location.hostname}`,Np=await fetch(Mp);if(Np.ok){let Pp=await Np.text(),yp=await Df(Pp);po.value=yp}}po.value&&((Ff=_f.value)!=null&&Ff.github)&&(xo.value=await zf((Xf=_f.value)==null?void 0:Xf.github.owner_name,(mp=_f.value)==null?void 0:mp.github.repository_name,po.value.username,po.value.token))}async function Af(){var Ff,Xf;let jf=new URL(ls.location.href).hostname;if(jf==="localhost"||jf.indexOf("192.168.")===0){let mp=await fetch("https:iiif.mdpress.io/gh-token?hostname=localhost&code=testing");if(mp.ok){let fp=await mp.text(),Mp=await Df(fp);po.value=Mp,xo.value=await zf((Ff=_f.value)==null?void 0:Ff.github.owner_name,(Xf=_f.value)==null?void 0:Xf.github.repository_name,po.value.username,fp),location.reload()}}else{let mp=`${ls.location.href}`,fp=xf[location.hostname]!==void 0?`https://github.com/login/oauth/authorize?client_id=${xf[location.hostname]}&scope=repo&state=mdpress&redirect_uri=${mp}`:null;fp&&(ls.location.href=fp)}}function Pf(){Object.keys(localStorage).forEach(jf=>localStorage.removeItem(jf)),po.value=null,location.reload()}async function Df(jf){let $f=await fetch("https://api.github.com/user",{headers:{Accept:"application/vnd.github+json",Authorization:`token ${jf}`}});if($f.ok){let Ff=await $f.json();return{provider:"github",username:Ff.login,name:Ff.name,email:Ff.email,token:jf}}}async function zf(jf,$f,Ff,Xf){let mp=`https://api.github.com/repos/${jf}/${$f}/collaborators/${Ff}`,fp=await fetch(mp,{headers:{Accept:"application/vnd.github+json",Authorization:`token ${Xf}`}});return fp.ok&&fp.status===204}return(jf,$f)=>{var Ff,Xf;return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("sl-dropdown",{ref_key:"root",ref:q},[_hoisted_1$5,createBaseVNode("sl-menu",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(yo.value,mp=>(openBlock(),createElementBlock("sl-menu-item",{onClick:fp=>uf(mp)},[createBaseVNode("span",{innerHTML:mp.label},null,8,_hoisted_3$3),mp.icon?(openBlock(),createElementBlock("svg",{key:0,slot:"prefix",innerHTML:mp.icon},null,8,_hoisted_4$2)):(openBlock(),createElementBlock("span",_hoisted_5$1))],8,_hoisted_2$3))),256)),F.pdfDownloadEnabled?(openBlock(),createElementBlock("sl-menu-item",{key:0,onClick:wf},_hoisted_8$1)):createCommentVNode("",!0),W.auth&&gf.value?(openBlock(),createElementBlock("sl-menu-item",{key:1,onClick:Sf},[createBaseVNode("span",_hoisted_9$1,"("+toDisplayString(((Ff=po.value)==null?void 0:Ff.name)||((Xf=po.value)==null?void 0:Xf.email))+")",1),_hoisted_10$1,(openBlock(),createElementBlock("svg",{slot:"prefix",innerHTML:wo.user},null,8,_hoisted_11$1))])):createCommentVNode("",!0),W.auth&&!gf.value?(openBlock(),createElementBlock("sl-menu-item",{key:2,onClick:yf},[createBaseVNode("span",_hoisted_12$1,"Login with "+toDisplayString(cf(W.auth)),1),(openBlock(),createElementBlock("svg",{slot:"prefix",innerHTML:wo.login},null,8,_hoisted_13$1))])):createCommentVNode("",!0)])],512),createBaseVNode("div",{ref_key:"overlayRef",ref:tt},[createBaseVNode("div",{ref_key:"modalRef",ref:ut,id:"hs-basic-modal",class:"hs-overlay hidden w-full h-full fixed top-0 start-0 z-[80] overflow-x-hidden overflow-y-auto pointer-events-none"},[createBaseVNode("div",_hoisted_14,[createBaseVNode("div",_hoisted_15,[createBaseVNode("div",_hoisted_16,[_hoisted_17,createBaseVNode("p",{innerHTML:uo.value},null,8,_hoisted_18)])])])],512)],512)],64)}}}),_style_0$5=`:root,:host,.sl-theme-light{color-scheme:light;--sl-color-gray-50: hsl(0 0% 97.5%);--sl-color-gray-100: hsl(240 4.8% 95.9%);--sl-color-gray-200: hsl(240 5.9% 90%);--sl-color-gray-300: hsl(240 4.9% 83.9%);--sl-color-gray-400: hsl(240 5% 64.9%);--sl-color-gray-500: hsl(240 3.8% 46.1%);--sl-color-gray-600: hsl(240 5.2% 33.9%);--sl-color-gray-700: hsl(240 5.3% 26.1%);--sl-color-gray-800: hsl(240 3.7% 15.9%);--sl-color-gray-900: hsl(240 5.9% 10%);--sl-color-gray-950: hsl(240 7.3% 8%);--sl-color-red-50: hsl(0 85.7% 97.3%);--sl-color-red-100: hsl(0 93.3% 94.1%);--sl-color-red-200: hsl(0 96.3% 89.4%);--sl-color-red-300: hsl(0 93.5% 81.8%);--sl-color-red-400: hsl(0 90.6% 70.8%);--sl-color-red-500: hsl(0 84.2% 60.2%);--sl-color-red-600: hsl(0 72.2% 50.6%);--sl-color-red-700: hsl(0 73.7% 41.8%);--sl-color-red-800: hsl(0 70% 35.3%);--sl-color-red-900: hsl(0 62.8% 30.6%);--sl-color-red-950: hsl(0 60% 19.6%);--sl-color-orange-50: hsl(33.3 100% 96.5%);--sl-color-orange-100: hsl(34.3 100% 91.8%);--sl-color-orange-200: hsl(32.1 97.7% 83.1%);--sl-color-orange-300: hsl(30.7 97.2% 72.4%);--sl-color-orange-400: hsl(27 96% 61%);--sl-color-orange-500: hsl(24.6 95% 53.1%);--sl-color-orange-600: hsl(20.5 90.2% 48.2%);--sl-color-orange-700: hsl(17.5 88.3% 40.4%);--sl-color-orange-800: hsl(15 79.1% 33.7%);--sl-color-orange-900: hsl(15.3 74.6% 27.8%);--sl-color-orange-950: hsl(15.2 69.1% 19%);--sl-color-amber-50: hsl(48 100% 96.1%);--sl-color-amber-100: hsl(48 96.5% 88.8%);--sl-color-amber-200: hsl(48 96.6% 76.7%);--sl-color-amber-300: hsl(45.9 96.7% 64.5%);--sl-color-amber-400: hsl(43.3 96.4% 56.3%);--sl-color-amber-500: hsl(37.7 92.1% 50.2%);--sl-color-amber-600: hsl(32.1 94.6% 43.7%);--sl-color-amber-700: hsl(26 90.5% 37.1%);--sl-color-amber-800: hsl(22.7 82.5% 31.4%);--sl-color-amber-900: hsl(21.7 77.8% 26.5%);--sl-color-amber-950: hsl(22.9 74.1% 16.7%);--sl-color-yellow-50: hsl(54.5 91.7% 95.3%);--sl-color-yellow-100: hsl(54.9 96.7% 88%);--sl-color-yellow-200: hsl(52.8 98.3% 76.9%);--sl-color-yellow-300: hsl(50.4 97.8% 63.5%);--sl-color-yellow-400: hsl(47.9 95.8% 53.1%);--sl-color-yellow-500: hsl(45.4 93.4% 47.5%);--sl-color-yellow-600: hsl(40.6 96.1% 40.4%);--sl-color-yellow-700: hsl(35.5 91.7% 32.9%);--sl-color-yellow-800: hsl(31.8 81% 28.8%);--sl-color-yellow-900: hsl(28.4 72.5% 25.7%);--sl-color-yellow-950: hsl(33.1 69% 13.9%);--sl-color-lime-50: hsl(78.3 92% 95.1%);--sl-color-lime-100: hsl(79.6 89.1% 89.2%);--sl-color-lime-200: hsl(80.9 88.5% 79.6%);--sl-color-lime-300: hsl(82 84.5% 67.1%);--sl-color-lime-400: hsl(82.7 78% 55.5%);--sl-color-lime-500: hsl(83.7 80.5% 44.3%);--sl-color-lime-600: hsl(84.8 85.2% 34.5%);--sl-color-lime-700: hsl(85.9 78.4% 27.3%);--sl-color-lime-800: hsl(86.3 69% 22.7%);--sl-color-lime-900: hsl(87.6 61.2% 20.2%);--sl-color-lime-950: hsl(86.5 60.6% 13.9%);--sl-color-green-50: hsl(138.5 76.5% 96.7%);--sl-color-green-100: hsl(140.6 84.2% 92.5%);--sl-color-green-200: hsl(141 78.9% 85.1%);--sl-color-green-300: hsl(141.7 76.6% 73.1%);--sl-color-green-400: hsl(141.9 69.2% 58%);--sl-color-green-500: hsl(142.1 70.6% 45.3%);--sl-color-green-600: hsl(142.1 76.2% 36.3%);--sl-color-green-700: hsl(142.4 71.8% 29.2%);--sl-color-green-800: hsl(142.8 64.2% 24.1%);--sl-color-green-900: hsl(143.8 61.2% 20.2%);--sl-color-green-950: hsl(144.3 60.7% 12%);--sl-color-emerald-50: hsl(151.8 81% 95.9%);--sl-color-emerald-100: hsl(149.3 80.4% 90%);--sl-color-emerald-200: hsl(152.4 76% 80.4%);--sl-color-emerald-300: hsl(156.2 71.6% 66.9%);--sl-color-emerald-400: hsl(158.1 64.4% 51.6%);--sl-color-emerald-500: hsl(160.1 84.1% 39.4%);--sl-color-emerald-600: hsl(161.4 93.5% 30.4%);--sl-color-emerald-700: hsl(162.9 93.5% 24.3%);--sl-color-emerald-800: hsl(163.1 88.1% 19.8%);--sl-color-emerald-900: hsl(164.2 85.7% 16.5%);--sl-color-emerald-950: hsl(164.3 87.5% 9.4%);--sl-color-teal-50: hsl(166.2 76.5% 96.7%);--sl-color-teal-100: hsl(167.2 85.5% 89.2%);--sl-color-teal-200: hsl(168.4 83.8% 78.2%);--sl-color-teal-300: hsl(170.6 76.9% 64.3%);--sl-color-teal-400: hsl(172.5 66% 50.4%);--sl-color-teal-500: hsl(173.4 80.4% 40%);--sl-color-teal-600: hsl(174.7 83.9% 31.6%);--sl-color-teal-700: hsl(175.3 77.4% 26.1%);--sl-color-teal-800: hsl(176.1 69.4% 21.8%);--sl-color-teal-900: hsl(175.9 60.8% 19%);--sl-color-teal-950: hsl(176.5 58.6% 11.4%);--sl-color-cyan-50: hsl(183.2 100% 96.3%);--sl-color-cyan-100: hsl(185.1 95.9% 90.4%);--sl-color-cyan-200: hsl(186.2 93.5% 81.8%);--sl-color-cyan-300: hsl(187 92.4% 69%);--sl-color-cyan-400: hsl(187.9 85.7% 53.3%);--sl-color-cyan-500: hsl(188.7 94.5% 42.7%);--sl-color-cyan-600: hsl(191.6 91.4% 36.5%);--sl-color-cyan-700: hsl(192.9 82.3% 31%);--sl-color-cyan-800: hsl(194.4 69.6% 27.1%);--sl-color-cyan-900: hsl(196.4 63.6% 23.7%);--sl-color-cyan-950: hsl(196.8 61% 16.1%);--sl-color-sky-50: hsl(204 100% 97.1%);--sl-color-sky-100: hsl(204 93.8% 93.7%);--sl-color-sky-200: hsl(200.6 94.4% 86.1%);--sl-color-sky-300: hsl(199.4 95.5% 73.9%);--sl-color-sky-400: hsl(198.4 93.2% 59.6%);--sl-color-sky-500: hsl(198.6 88.7% 48.4%);--sl-color-sky-600: hsl(200.4 98% 39.4%);--sl-color-sky-700: hsl(201.3 96.3% 32.2%);--sl-color-sky-800: hsl(201 90% 27.5%);--sl-color-sky-900: hsl(202 80.3% 23.9%);--sl-color-sky-950: hsl(202.3 73.8% 16.5%);--sl-color-blue-50: hsl(213.8 100% 96.9%);--sl-color-blue-100: hsl(214.3 94.6% 92.7%);--sl-color-blue-200: hsl(213.3 96.9% 87.3%);--sl-color-blue-300: hsl(211.7 96.4% 78.4%);--sl-color-blue-400: hsl(213.1 93.9% 67.8%);--sl-color-blue-500: hsl(217.2 91.2% 59.8%);--sl-color-blue-600: hsl(221.2 83.2% 53.3%);--sl-color-blue-700: hsl(224.3 76.3% 48%);--sl-color-blue-800: hsl(225.9 70.7% 40.2%);--sl-color-blue-900: hsl(224.4 64.3% 32.9%);--sl-color-blue-950: hsl(226.2 55.3% 18.4%);--sl-color-indigo-50: hsl(225.9 100% 96.7%);--sl-color-indigo-100: hsl(226.5 100% 93.9%);--sl-color-indigo-200: hsl(228 96.5% 88.8%);--sl-color-indigo-300: hsl(229.7 93.5% 81.8%);--sl-color-indigo-400: hsl(234.5 89.5% 73.9%);--sl-color-indigo-500: hsl(238.7 83.5% 66.7%);--sl-color-indigo-600: hsl(243.4 75.4% 58.6%);--sl-color-indigo-700: hsl(244.5 57.9% 50.6%);--sl-color-indigo-800: hsl(243.7 54.5% 41.4%);--sl-color-indigo-900: hsl(242.2 47.4% 34.3%);--sl-color-indigo-950: hsl(243.5 43.6% 22.9%);--sl-color-violet-50: hsl(250 100% 97.6%);--sl-color-violet-100: hsl(251.4 91.3% 95.5%);--sl-color-violet-200: hsl(250.5 95.2% 91.8%);--sl-color-violet-300: hsl(252.5 94.7% 85.1%);--sl-color-violet-400: hsl(255.1 91.7% 76.3%);--sl-color-violet-500: hsl(258.3 89.5% 66.3%);--sl-color-violet-600: hsl(262.1 83.3% 57.8%);--sl-color-violet-700: hsl(263.4 70% 50.4%);--sl-color-violet-800: hsl(263.4 69.3% 42.2%);--sl-color-violet-900: hsl(263.5 67.4% 34.9%);--sl-color-violet-950: hsl(265.1 61.5% 21.4%);--sl-color-purple-50: hsl(270 100% 98%);--sl-color-purple-100: hsl(268.7 100% 95.5%);--sl-color-purple-200: hsl(268.6 100% 91.8%);--sl-color-purple-300: hsl(269.2 97.4% 85.1%);--sl-color-purple-400: hsl(270 95.2% 75.3%);--sl-color-purple-500: hsl(270.7 91% 65.1%);--sl-color-purple-600: hsl(271.5 81.3% 55.9%);--sl-color-purple-700: hsl(272.1 71.7% 47.1%);--sl-color-purple-800: hsl(272.9 67.2% 39.4%);--sl-color-purple-900: hsl(273.6 65.6% 32%);--sl-color-purple-950: hsl(276 59.5% 16.5%);--sl-color-fuchsia-50: hsl(289.1 100% 97.8%);--sl-color-fuchsia-100: hsl(287 100% 95.5%);--sl-color-fuchsia-200: hsl(288.3 95.8% 90.6%);--sl-color-fuchsia-300: hsl(291.1 93.1% 82.9%);--sl-color-fuchsia-400: hsl(292 91.4% 72.5%);--sl-color-fuchsia-500: hsl(292.2 84.1% 60.6%);--sl-color-fuchsia-600: hsl(293.4 69.5% 48.8%);--sl-color-fuchsia-700: hsl(294.7 72.4% 39.8%);--sl-color-fuchsia-800: hsl(295.4 70.2% 32.9%);--sl-color-fuchsia-900: hsl(296.7 63.6% 28%);--sl-color-fuchsia-950: hsl(297.1 56.8% 14.5%);--sl-color-pink-50: hsl(327.3 73.3% 97.1%);--sl-color-pink-100: hsl(325.7 77.8% 94.7%);--sl-color-pink-200: hsl(325.9 84.6% 89.8%);--sl-color-pink-300: hsl(327.4 87.1% 81.8%);--sl-color-pink-400: hsl(328.6 85.5% 70.2%);--sl-color-pink-500: hsl(330.4 81.2% 60.4%);--sl-color-pink-600: hsl(333.3 71.4% 50.6%);--sl-color-pink-700: hsl(335.1 77.6% 42%);--sl-color-pink-800: hsl(335.8 74.4% 35.3%);--sl-color-pink-900: hsl(335.9 69% 30.4%);--sl-color-pink-950: hsl(336.2 65.4% 15.9%);--sl-color-rose-50: hsl(355.7 100% 97.3%);--sl-color-rose-100: hsl(355.6 100% 94.7%);--sl-color-rose-200: hsl(352.7 96.1% 90%);--sl-color-rose-300: hsl(352.6 95.7% 81.8%);--sl-color-rose-400: hsl(351.3 94.5% 71.4%);--sl-color-rose-500: hsl(349.7 89.2% 60.2%);--sl-color-rose-600: hsl(346.8 77.2% 49.8%);--sl-color-rose-700: hsl(345.3 82.7% 40.8%);--sl-color-rose-800: hsl(343.4 79.7% 34.7%);--sl-color-rose-900: hsl(341.5 75.5% 30.4%);--sl-color-rose-950: hsl(341.3 70.1% 17.1%);--sl-color-primary-50: var(--sl-color-sky-50);--sl-color-primary-100: var(--sl-color-sky-100);--sl-color-primary-200: var(--sl-color-sky-200);--sl-color-primary-300: var(--sl-color-sky-300);--sl-color-primary-400: var(--sl-color-sky-400);--sl-color-primary-500: var(--sl-color-sky-500);--sl-color-primary-600: var(--sl-color-sky-600);--sl-color-primary-700: var(--sl-color-sky-700);--sl-color-primary-800: var(--sl-color-sky-800);--sl-color-primary-900: var(--sl-color-sky-900);--sl-color-primary-950: var(--sl-color-sky-950);--sl-color-success-50: var(--sl-color-green-50);--sl-color-success-100: var(--sl-color-green-100);--sl-color-success-200: var(--sl-color-green-200);--sl-color-success-300: var(--sl-color-green-300);--sl-color-success-400: var(--sl-color-green-400);--sl-color-success-500: var(--sl-color-green-500);--sl-color-success-600: var(--sl-color-green-600);--sl-color-success-700: var(--sl-color-green-700);--sl-color-success-800: var(--sl-color-green-800);--sl-color-success-900: var(--sl-color-green-900);--sl-color-success-950: var(--sl-color-green-950);--sl-color-warning-50: var(--sl-color-amber-50);--sl-color-warning-100: var(--sl-color-amber-100);--sl-color-warning-200: var(--sl-color-amber-200);--sl-color-warning-300: var(--sl-color-amber-300);--sl-color-warning-400: var(--sl-color-amber-400);--sl-color-warning-500: var(--sl-color-amber-500);--sl-color-warning-600: var(--sl-color-amber-600);--sl-color-warning-700: var(--sl-color-amber-700);--sl-color-warning-800: var(--sl-color-amber-800);--sl-color-warning-900: var(--sl-color-amber-900);--sl-color-warning-950: var(--sl-color-amber-950);--sl-color-danger-50: var(--sl-color-red-50);--sl-color-danger-100: var(--sl-color-red-100);--sl-color-danger-200: var(--sl-color-red-200);--sl-color-danger-300: var(--sl-color-red-300);--sl-color-danger-400: var(--sl-color-red-400);--sl-color-danger-500: var(--sl-color-red-500);--sl-color-danger-600: var(--sl-color-red-600);--sl-color-danger-700: var(--sl-color-red-700);--sl-color-danger-800: var(--sl-color-red-800);--sl-color-danger-900: var(--sl-color-red-900);--sl-color-danger-950: var(--sl-color-red-950);--sl-color-neutral-50: var(--sl-color-gray-50);--sl-color-neutral-100: var(--sl-color-gray-100);--sl-color-neutral-200: var(--sl-color-gray-200);--sl-color-neutral-300: var(--sl-color-gray-300);--sl-color-neutral-400: var(--sl-color-gray-400);--sl-color-neutral-500: var(--sl-color-gray-500);--sl-color-neutral-600: var(--sl-color-gray-600);--sl-color-neutral-700: var(--sl-color-gray-700);--sl-color-neutral-800: var(--sl-color-gray-800);--sl-color-neutral-900: var(--sl-color-gray-900);--sl-color-neutral-950: var(--sl-color-gray-950);--sl-color-neutral-0: hsl(0, 0%, 100%);--sl-color-neutral-1000: hsl(0, 0%, 0%);--sl-border-radius-small: .1875rem;--sl-border-radius-medium: .25rem;--sl-border-radius-large: .5rem;--sl-border-radius-x-large: 1rem;--sl-border-radius-circle: 50%;--sl-border-radius-pill: 9999px;--sl-shadow-x-small: 0 1px 2px hsl(240 3.8% 46.1% / 6%);--sl-shadow-small: 0 1px 2px hsl(240 3.8% 46.1% / 12%);--sl-shadow-medium: 0 2px 4px hsl(240 3.8% 46.1% / 12%);--sl-shadow-large: 0 2px 8px hsl(240 3.8% 46.1% / 12%);--sl-shadow-x-large: 0 4px 16px hsl(240 3.8% 46.1% / 12%);--sl-spacing-3x-small: .125rem;--sl-spacing-2x-small: .25rem;--sl-spacing-x-small: .5rem;--sl-spacing-small: .75rem;--sl-spacing-medium: 1rem;--sl-spacing-large: 1.25rem;--sl-spacing-x-large: 1.75rem;--sl-spacing-2x-large: 2.25rem;--sl-spacing-3x-large: 3rem;--sl-spacing-4x-large: 4.5rem;--sl-transition-x-slow: 1s;--sl-transition-slow: .5s;--sl-transition-medium: .25s;--sl-transition-fast: .15s;--sl-transition-x-fast: 50ms;--sl-font-mono: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;--sl-font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--sl-font-serif: Georgia, "Times New Roman", serif;--sl-font-size-2x-small: .625rem;--sl-font-size-x-small: .75rem;--sl-font-size-small: .875rem;--sl-font-size-medium: 1rem;--sl-font-size-large: 1.25rem;--sl-font-size-x-large: 1.5rem;--sl-font-size-2x-large: 2.25rem;--sl-font-size-3x-large: 3rem;--sl-font-size-4x-large: 4.5rem;--sl-font-weight-light: 300;--sl-font-weight-normal: 400;--sl-font-weight-semibold: 500;--sl-font-weight-bold: 700;--sl-letter-spacing-denser: -.03em;--sl-letter-spacing-dense: -.015em;--sl-letter-spacing-normal: normal;--sl-letter-spacing-loose: .075em;--sl-letter-spacing-looser: .15em;--sl-line-height-denser: 1;--sl-line-height-dense: 1.4;--sl-line-height-normal: 1.8;--sl-line-height-loose: 2.2;--sl-line-height-looser: 2.6;--sl-focus-ring-color: var(--sl-color-primary-600);--sl-focus-ring-style: solid;--sl-focus-ring-width: 3px;--sl-focus-ring: var(--sl-focus-ring-style) var(--sl-focus-ring-width) var(--sl-focus-ring-color);--sl-focus-ring-offset: 1px;--sl-button-font-size-small: var(--sl-font-size-x-small);--sl-button-font-size-medium: var(--sl-font-size-small);--sl-button-font-size-large: var(--sl-font-size-medium);--sl-input-height-small: 1.875rem;--sl-input-height-medium: 2.5rem;--sl-input-height-large: 3.125rem;--sl-input-background-color: var(--sl-color-neutral-0);--sl-input-background-color-hover: var(--sl-input-background-color);--sl-input-background-color-focus: var(--sl-input-background-color);--sl-input-background-color-disabled: var(--sl-color-neutral-100);--sl-input-border-color: var(--sl-color-neutral-300);--sl-input-border-color-hover: var(--sl-color-neutral-400);--sl-input-border-color-focus: var(--sl-color-primary-500);--sl-input-border-color-disabled: var(--sl-color-neutral-300);--sl-input-border-width: 1px;--sl-input-required-content: "*";--sl-input-required-content-offset: -2px;--sl-input-required-content-color: var(--sl-input-label-color);--sl-input-border-radius-small: var(--sl-border-radius-medium);--sl-input-border-radius-medium: var(--sl-border-radius-medium);--sl-input-border-radius-large: var(--sl-border-radius-medium);--sl-input-font-family: var(--sl-font-sans);--sl-input-font-weight: var(--sl-font-weight-normal);--sl-input-font-size-small: var(--sl-font-size-small);--sl-input-font-size-medium: var(--sl-font-size-medium);--sl-input-font-size-large: var(--sl-font-size-large);--sl-input-letter-spacing: var(--sl-letter-spacing-normal);--sl-input-color: var(--sl-color-neutral-700);--sl-input-color-hover: var(--sl-color-neutral-700);--sl-input-color-focus: var(--sl-color-neutral-700);--sl-input-color-disabled: var(--sl-color-neutral-900);--sl-input-icon-color: var(--sl-color-neutral-500);--sl-input-icon-color-hover: var(--sl-color-neutral-600);--sl-input-icon-color-focus: var(--sl-color-neutral-600);--sl-input-placeholder-color: var(--sl-color-neutral-500);--sl-input-placeholder-color-disabled: var(--sl-color-neutral-600);--sl-input-spacing-small: var(--sl-spacing-small);--sl-input-spacing-medium: var(--sl-spacing-medium);--sl-input-spacing-large: var(--sl-spacing-large);--sl-input-focus-ring-color: hsl(198.6 88.7% 48.4% / 40%);--sl-input-focus-ring-offset: 0;--sl-input-filled-background-color: var(--sl-color-neutral-100);--sl-input-filled-background-color-hover: var(--sl-color-neutral-100);--sl-input-filled-background-color-focus: var(--sl-color-neutral-100);--sl-input-filled-background-color-disabled: var(--sl-color-neutral-100);--sl-input-filled-color: var(--sl-color-neutral-800);--sl-input-filled-color-hover: var(--sl-color-neutral-800);--sl-input-filled-color-focus: var(--sl-color-neutral-700);--sl-input-filled-color-disabled: var(--sl-color-neutral-800);--sl-input-label-font-size-small: var(--sl-font-size-small);--sl-input-label-font-size-medium: var(--sl-font-size-medium);--sl-input-label-font-size-large: var(--sl-font-size-large);--sl-input-label-color: inherit;--sl-input-help-text-font-size-small: var(--sl-font-size-x-small);--sl-input-help-text-font-size-medium: var(--sl-font-size-small);--sl-input-help-text-font-size-large: var(--sl-font-size-medium);--sl-input-help-text-color: var(--sl-color-neutral-500);--sl-toggle-size-small: .875rem;--sl-toggle-size-medium: 1.125rem;--sl-toggle-size-large: 1.375rem;--sl-overlay-background-color: hsl(240 3.8% 46.1% / 33%);--sl-panel-background-color: var(--sl-color-neutral-0);--sl-panel-border-color: var(--sl-color-neutral-200);--sl-panel-border-width: 1px;--sl-tooltip-border-radius: var(--sl-border-radius-medium);--sl-tooltip-background-color: var(--sl-color-neutral-800);--sl-tooltip-color: var(--sl-color-neutral-0);--sl-tooltip-font-family: var(--sl-font-sans);--sl-tooltip-font-weight: var(--sl-font-weight-normal);--sl-tooltip-font-size: var(--sl-font-size-small);--sl-tooltip-line-height: var(--sl-line-height-dense);--sl-tooltip-padding: var(--sl-spacing-2x-small) var(--sl-spacing-x-small);--sl-tooltip-arrow-size: 6px;--sl-z-index-drawer: 700;--sl-z-index-dialog: 800;--sl-z-index-dropdown: 900;--sl-z-index-toast: 950;--sl-z-index-tooltip: 1000}@supports (scrollbar-gutter: stable){.sl-scroll-lock{scrollbar-gutter:stable!important;overflow:hidden!important}}@supports not (scrollbar-gutter: stable){.sl-scroll-lock{padding-right:var(--sl-scroll-lock-size)!important;overflow:hidden!important}}.sl-toast-stack{position:fixed;top:0;inset-inline-end:0;z-index:var(--sl-z-index-toast);width:28rem;max-width:100%;max-height:100%;overflow:auto}.sl-toast-stack sl-alert{margin:var(--sl-spacing-medium)}.sl-toast-stack sl-alert::part(base){box-shadow:var(--sl-shadow-large)}*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.end-1{inset-inline-end:.25rem}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-3{margin:.75rem}.me-1{margin-inline-end:.25rem}.ml-1{margin-left:.25rem}.mr-2{margin-right:.5rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-40{height:10rem}.h-64{height:16rem}.h-8{height:2rem}.h-80{height:20rem}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-1{width:.25rem}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-10{padding:2.5rem}.p-14{padding:3.5rem}.p-16{padding:4rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-8{padding:2rem}.px-4{padding-left:1rem;padding-right:1rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pe-1{padding-inline-end:.25rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.\\!ordinal{--tw-ordinal: ordinal !important;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)!important}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[a\\:a\\]{a:a}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}mdp-header ul,mdp-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}sl-menu-item svg{width:1em;height:1em;vertical-align:middle;margin-right:1em}
`,Menu=_export_sfc(_sfc_main$7,[["styles",[_style_0$5]]]);function dedent(F){for(var W=[],q=1;q<arguments.length;q++)W[q-1]=arguments[q];var X=Array.from(typeof F=="string"?[F]:F);X[X.length-1]=X[X.length-1].replace(/\r?\n([\t ]*)$/,"");var tt=X.reduce(function(ut,wt){var uo=wt.match(/\n([\t ]+|(?!\s).)/g);return uo?ut.concat(uo.map(function(mo){var yo,lf;return(lf=(yo=mo.match(/[\t ]/g))===null||yo===void 0?void 0:yo.length)!==null&&lf!==void 0?lf:0})):ut},[]);if(tt.length){var ot=new RegExp(`
[	 ]{`+Math.min.apply(Math,tt)+"}","g");X=X.map(function(ut){return ut.replace(ot,`
`)})}X[0]=X[0].replace(/^\r?\n/,"");var at=X[0];return W.forEach(function(ut,wt){var uo=at.match(/(?:^|\n)( *)$/),mo=uo?uo[1]:"",yo=ut;typeof ut=="string"&&ut.includes(`
`)&&(yo=String(ut).split(`
`).map(function(lf,uf){return uf===0?lf:""+mo+lf}).join(`
`)),at+=yo+X[wt+1]}),at}var dayjs_min={exports:{}};(function(F,W){(function(q,X){F.exports=X()})(commonjsGlobal,function(){var q=1e3,X=6e4,tt=36e5,ot="millisecond",at="second",ut="minute",wt="hour",uo="day",mo="week",yo="month",lf="quarter",uf="year",df="date",wf="Invalid Date",wo=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,ls=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(zf){var jf=["th","st","nd","rd"],$f=zf%100;return"["+zf+(jf[($f-20)%10]||jf[$f]||jf[0])+"]"}},po=function(zf,jf,$f){var Ff=String(zf);return!Ff||Ff.length>=jf?zf:""+Array(jf+1-Ff.length).join($f)+zf},xo={s:po,z:function(zf){var jf=-zf.utcOffset(),$f=Math.abs(jf),Ff=Math.floor($f/60),Xf=$f%60;return(jf<=0?"+":"-")+po(Ff,2,"0")+":"+po(Xf,2,"0")},m:function zf(jf,$f){if(jf.date()<$f.date())return-zf($f,jf);var Ff=12*($f.year()-jf.year())+($f.month()-jf.month()),Xf=jf.clone().add(Ff,yo),mp=$f-Xf<0,fp=jf.clone().add(Ff+(mp?-1:1),yo);return+(-(Ff+($f-Xf)/(mp?Xf-fp:fp-Xf))||0)},a:function(zf){return zf<0?Math.ceil(zf)||0:Math.floor(zf)},p:function(zf){return{M:yo,y:uf,w:mo,d:uo,D:df,h:wt,m:ut,s:at,ms:ot,Q:lf}[zf]||String(zf||"").toLowerCase().replace(/s$/,"")},u:function(zf){return zf===void 0}},gf="en",cf={};cf[gf]=_f;var yf="$isDayjsObject",Sf=function(zf){return zf instanceof Pf||!(!zf||!zf[yf])},xf=function zf(jf,$f,Ff){var Xf;if(!jf)return gf;if(typeof jf=="string"){var mp=jf.toLowerCase();cf[mp]&&(Xf=mp),$f&&(cf[mp]=$f,Xf=mp);var fp=jf.split("-");if(!Xf&&fp.length>1)return zf(fp[0])}else{var Mp=jf.name;cf[Mp]=jf,Xf=Mp}return!Ff&&Xf&&(gf=Xf),Xf||!Ff&&gf},bf=function(zf,jf){if(Sf(zf))return zf.clone();var $f=typeof jf=="object"?jf:{};return $f.date=zf,$f.args=arguments,new Pf($f)},Af=xo;Af.l=xf,Af.i=Sf,Af.w=function(zf,jf){return bf(zf,{locale:jf.$L,utc:jf.$u,x:jf.$x,$offset:jf.$offset})};var Pf=function(){function zf($f){this.$L=xf($f.locale,null,!0),this.parse($f),this.$x=this.$x||$f.x||{},this[yf]=!0}var jf=zf.prototype;return jf.parse=function($f){this.$d=function(Ff){var Xf=Ff.date,mp=Ff.utc;if(Xf===null)return new Date(NaN);if(Af.u(Xf))return new Date;if(Xf instanceof Date)return new Date(Xf);if(typeof Xf=="string"&&!/Z$/i.test(Xf)){var fp=Xf.match(wo);if(fp){var Mp=fp[2]-1||0,Np=(fp[7]||"0").substring(0,3);return mp?new Date(Date.UTC(fp[1],Mp,fp[3]||1,fp[4]||0,fp[5]||0,fp[6]||0,Np)):new Date(fp[1],Mp,fp[3]||1,fp[4]||0,fp[5]||0,fp[6]||0,Np)}}return new Date(Xf)}($f),this.init()},jf.init=function(){var $f=this.$d;this.$y=$f.getFullYear(),this.$M=$f.getMonth(),this.$D=$f.getDate(),this.$W=$f.getDay(),this.$H=$f.getHours(),this.$m=$f.getMinutes(),this.$s=$f.getSeconds(),this.$ms=$f.getMilliseconds()},jf.$utils=function(){return Af},jf.isValid=function(){return this.$d.toString()!==wf},jf.isSame=function($f,Ff){var Xf=bf($f);return this.startOf(Ff)<=Xf&&Xf<=this.endOf(Ff)},jf.isAfter=function($f,Ff){return bf($f)<this.startOf(Ff)},jf.isBefore=function($f,Ff){return this.endOf(Ff)<bf($f)},jf.$g=function($f,Ff,Xf){return Af.u($f)?this[Ff]:this.set(Xf,$f)},jf.unix=function(){return Math.floor(this.valueOf()/1e3)},jf.valueOf=function(){return this.$d.getTime()},jf.startOf=function($f,Ff){var Xf=this,mp=!!Af.u(Ff)||Ff,fp=Af.p($f),Mp=function(Dp,Fp){var Sp=Af.w(Xf.$u?Date.UTC(Xf.$y,Fp,Dp):new Date(Xf.$y,Fp,Dp),Xf);return mp?Sp:Sp.endOf(uo)},Np=function(Dp,Fp){return Af.w(Xf.toDate()[Dp].apply(Xf.toDate("s"),(mp?[0,0,0,0]:[23,59,59,999]).slice(Fp)),Xf)},Pp=this.$W,yp=this.$M,Ep=this.$D,Cp="set"+(this.$u?"UTC":"");switch(fp){case uf:return mp?Mp(1,0):Mp(31,11);case yo:return mp?Mp(1,yp):Mp(0,yp+1);case mo:var $p=this.$locale().weekStart||0,kp=(Pp<$p?Pp+7:Pp)-$p;return Mp(mp?Ep-kp:Ep+(6-kp),yp);case uo:case df:return Np(Cp+"Hours",0);case wt:return Np(Cp+"Minutes",1);case ut:return Np(Cp+"Seconds",2);case at:return Np(Cp+"Milliseconds",3);default:return this.clone()}},jf.endOf=function($f){return this.startOf($f,!1)},jf.$set=function($f,Ff){var Xf,mp=Af.p($f),fp="set"+(this.$u?"UTC":""),Mp=(Xf={},Xf[uo]=fp+"Date",Xf[df]=fp+"Date",Xf[yo]=fp+"Month",Xf[uf]=fp+"FullYear",Xf[wt]=fp+"Hours",Xf[ut]=fp+"Minutes",Xf[at]=fp+"Seconds",Xf[ot]=fp+"Milliseconds",Xf)[mp],Np=mp===uo?this.$D+(Ff-this.$W):Ff;if(mp===yo||mp===uf){var Pp=this.clone().set(df,1);Pp.$d[Mp](Np),Pp.init(),this.$d=Pp.set(df,Math.min(this.$D,Pp.daysInMonth())).$d}else Mp&&this.$d[Mp](Np);return this.init(),this},jf.set=function($f,Ff){return this.clone().$set($f,Ff)},jf.get=function($f){return this[Af.p($f)]()},jf.add=function($f,Ff){var Xf,mp=this;$f=Number($f);var fp=Af.p(Ff),Mp=function(yp){var Ep=bf(mp);return Af.w(Ep.date(Ep.date()+Math.round(yp*$f)),mp)};if(fp===yo)return this.set(yo,this.$M+$f);if(fp===uf)return this.set(uf,this.$y+$f);if(fp===uo)return Mp(1);if(fp===mo)return Mp(7);var Np=(Xf={},Xf[ut]=X,Xf[wt]=tt,Xf[at]=q,Xf)[fp]||1,Pp=this.$d.getTime()+$f*Np;return Af.w(Pp,this)},jf.subtract=function($f,Ff){return this.add(-1*$f,Ff)},jf.format=function($f){var Ff=this,Xf=this.$locale();if(!this.isValid())return Xf.invalidDate||wf;var mp=$f||"YYYY-MM-DDTHH:mm:ssZ",fp=Af.z(this),Mp=this.$H,Np=this.$m,Pp=this.$M,yp=Xf.weekdays,Ep=Xf.months,Cp=Xf.meridiem,$p=function(Fp,Sp,up,Nf){return Fp&&(Fp[Sp]||Fp(Ff,mp))||up[Sp].slice(0,Nf)},kp=function(Fp){return Af.s(Mp%12||12,Fp,"0")},Dp=Cp||function(Fp,Sp,up){var Nf=Fp<12?"AM":"PM";return up?Nf.toLowerCase():Nf};return mp.replace(ls,function(Fp,Sp){return Sp||function(up){switch(up){case"YY":return String(Ff.$y).slice(-2);case"YYYY":return Af.s(Ff.$y,4,"0");case"M":return Pp+1;case"MM":return Af.s(Pp+1,2,"0");case"MMM":return $p(Xf.monthsShort,Pp,Ep,3);case"MMMM":return $p(Ep,Pp);case"D":return Ff.$D;case"DD":return Af.s(Ff.$D,2,"0");case"d":return String(Ff.$W);case"dd":return $p(Xf.weekdaysMin,Ff.$W,yp,2);case"ddd":return $p(Xf.weekdaysShort,Ff.$W,yp,3);case"dddd":return yp[Ff.$W];case"H":return String(Mp);case"HH":return Af.s(Mp,2,"0");case"h":return kp(1);case"hh":return kp(2);case"a":return Dp(Mp,Np,!0);case"A":return Dp(Mp,Np,!1);case"m":return String(Np);case"mm":return Af.s(Np,2,"0");case"s":return String(Ff.$s);case"ss":return Af.s(Ff.$s,2,"0");case"SSS":return Af.s(Ff.$ms,3,"0");case"Z":return fp}return null}(Fp)||fp.replace(":","")})},jf.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},jf.diff=function($f,Ff,Xf){var mp,fp=this,Mp=Af.p(Ff),Np=bf($f),Pp=(Np.utcOffset()-this.utcOffset())*X,yp=this-Np,Ep=function(){return Af.m(fp,Np)};switch(Mp){case uf:mp=Ep()/12;break;case yo:mp=Ep();break;case lf:mp=Ep()/3;break;case mo:mp=(yp-Pp)/6048e5;break;case uo:mp=(yp-Pp)/864e5;break;case wt:mp=yp/tt;break;case ut:mp=yp/X;break;case at:mp=yp/q;break;default:mp=yp}return Xf?mp:Af.a(mp)},jf.daysInMonth=function(){return this.endOf(yo).$D},jf.$locale=function(){return cf[this.$L]},jf.locale=function($f,Ff){if(!$f)return this.$L;var Xf=this.clone(),mp=xf($f,Ff,!0);return mp&&(Xf.$L=mp),Xf},jf.clone=function(){return Af.w(this.$d,this)},jf.toDate=function(){return new Date(this.valueOf())},jf.toJSON=function(){return this.isValid()?this.toISOString():null},jf.toISOString=function(){return this.$d.toISOString()},jf.toString=function(){return this.$d.toUTCString()},zf}(),Df=Pf.prototype;return bf.prototype=Df,[["$ms",ot],["$s",at],["$m",ut],["$H",wt],["$W",uo],["$M",yo],["$y",uf],["$D",df]].forEach(function(zf){Df[zf[1]]=function(jf){return this.$g(jf,zf[0],zf[1])}}),bf.extend=function(zf,jf){return zf.$i||(zf(jf,Pf,bf),zf.$i=!0),bf},bf.locale=xf,bf.isDayjs=Sf,bf.unix=function(zf){return bf(1e3*zf)},bf.en=cf[gf],bf.Ls=cf,bf.p={},bf})})(dayjs_min);var dayjs_minExports=dayjs_min.exports;const dayjs=getDefaultExportFromCjs(dayjs_minExports);var dist$1={};(function(F){Object.defineProperty(F,"__esModule",{value:!0}),F.sanitizeUrl=F.BLANK_URL=void 0;var W=/^([^\w]*)(javascript|data|vbscript)/im,q=/&#(\w+)(^\w|;)?/g,X=/&(newline|tab);/gi,tt=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,ot=/^.+(:|&colon;)/gim,at=[".","/"];F.BLANK_URL="about:blank";function ut(mo){return at.indexOf(mo[0])>-1}function wt(mo){var yo=mo.replace(tt,"");return yo.replace(q,function(lf,uf){return String.fromCharCode(uf)})}function uo(mo){if(!mo)return F.BLANK_URL;var yo=wt(mo).replace(X,"").replace(tt,"").trim();if(!yo)return F.BLANK_URL;if(ut(yo))return yo;var lf=yo.match(ot);if(!lf)return yo;var uf=lf[0];return W.test(uf)?F.BLANK_URL:yo}F.sanitizeUrl=uo})(dist$1);var noop$1={value:()=>{}};function dispatch(){for(var F=0,W=arguments.length,q={},X;F<W;++F){if(!(X=arguments[F]+"")||X in q||/[\s.]/.test(X))throw new Error("illegal type: "+X);q[X]=[]}return new Dispatch(q)}function Dispatch(F){this._=F}function parseTypenames$1(F,W){return F.trim().split(/^|\s+/).map(function(q){var X="",tt=q.indexOf(".");if(tt>=0&&(X=q.slice(tt+1),q=q.slice(0,tt)),q&&!W.hasOwnProperty(q))throw new Error("unknown type: "+q);return{type:q,name:X}})}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(F,W){var q=this._,X=parseTypenames$1(F+"",q),tt,ot=-1,at=X.length;if(arguments.length<2){for(;++ot<at;)if((tt=(F=X[ot]).type)&&(tt=get$2(q[tt],F.name)))return tt;return}if(W!=null&&typeof W!="function")throw new Error("invalid callback: "+W);for(;++ot<at;)if(tt=(F=X[ot]).type)q[tt]=set$2(q[tt],F.name,W);else if(W==null)for(tt in q)q[tt]=set$2(q[tt],F.name,null);return this},copy:function(){var F={},W=this._;for(var q in W)F[q]=W[q].slice();return new Dispatch(F)},call:function(F,W){if((tt=arguments.length-2)>0)for(var q=new Array(tt),X=0,tt,ot;X<tt;++X)q[X]=arguments[X+2];if(!this._.hasOwnProperty(F))throw new Error("unknown type: "+F);for(ot=this._[F],X=0,tt=ot.length;X<tt;++X)ot[X].value.apply(W,q)},apply:function(F,W,q){if(!this._.hasOwnProperty(F))throw new Error("unknown type: "+F);for(var X=this._[F],tt=0,ot=X.length;tt<ot;++tt)X[tt].value.apply(W,q)}};function get$2(F,W){for(var q=0,X=F.length,tt;q<X;++q)if((tt=F[q]).name===W)return tt.value}function set$2(F,W,q){for(var X=0,tt=F.length;X<tt;++X)if(F[X].name===W){F[X]=noop$1,F=F.slice(0,X).concat(F.slice(X+1));break}return q!=null&&F.push({name:W,value:q}),F}var xhtml="http://www.w3.org/1999/xhtml";const namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(F){var W=F+="",q=W.indexOf(":");return q>=0&&(W=F.slice(0,q))!=="xmlns"&&(F=F.slice(q+1)),namespaces.hasOwnProperty(W)?{space:namespaces[W],local:F}:F}function creatorInherit(F){return function(){var W=this.ownerDocument,q=this.namespaceURI;return q===xhtml&&W.documentElement.namespaceURI===xhtml?W.createElement(F):W.createElementNS(q,F)}}function creatorFixed(F){return function(){return this.ownerDocument.createElementNS(F.space,F.local)}}function creator(F){var W=namespace(F);return(W.local?creatorFixed:creatorInherit)(W)}function none(){}function selector(F){return F==null?none:function(){return this.querySelector(F)}}function selection_select(F){typeof F!="function"&&(F=selector(F));for(var W=this._groups,q=W.length,X=new Array(q),tt=0;tt<q;++tt)for(var ot=W[tt],at=ot.length,ut=X[tt]=new Array(at),wt,uo,mo=0;mo<at;++mo)(wt=ot[mo])&&(uo=F.call(wt,wt.__data__,mo,ot))&&("__data__"in wt&&(uo.__data__=wt.__data__),ut[mo]=uo);return new Selection$1(X,this._parents)}function array(F){return F==null?[]:Array.isArray(F)?F:Array.from(F)}function empty(){return[]}function selectorAll(F){return F==null?empty:function(){return this.querySelectorAll(F)}}function arrayAll(F){return function(){return array(F.apply(this,arguments))}}function selection_selectAll(F){typeof F=="function"?F=arrayAll(F):F=selectorAll(F);for(var W=this._groups,q=W.length,X=[],tt=[],ot=0;ot<q;++ot)for(var at=W[ot],ut=at.length,wt,uo=0;uo<ut;++uo)(wt=at[uo])&&(X.push(F.call(wt,wt.__data__,uo,at)),tt.push(wt));return new Selection$1(X,tt)}function matcher(F){return function(){return this.matches(F)}}function childMatcher(F){return function(W){return W.matches(F)}}var find=Array.prototype.find;function childFind(F){return function(){return find.call(this.children,F)}}function childFirst(){return this.firstElementChild}function selection_selectChild(F){return this.select(F==null?childFirst:childFind(typeof F=="function"?F:childMatcher(F)))}var filter=Array.prototype.filter;function children(){return Array.from(this.children)}function childrenFilter(F){return function(){return filter.call(this.children,F)}}function selection_selectChildren(F){return this.selectAll(F==null?children:childrenFilter(typeof F=="function"?F:childMatcher(F)))}function selection_filter(F){typeof F!="function"&&(F=matcher(F));for(var W=this._groups,q=W.length,X=new Array(q),tt=0;tt<q;++tt)for(var ot=W[tt],at=ot.length,ut=X[tt]=[],wt,uo=0;uo<at;++uo)(wt=ot[uo])&&F.call(wt,wt.__data__,uo,ot)&&ut.push(wt);return new Selection$1(X,this._parents)}function sparse(F){return new Array(F.length)}function selection_enter(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(F,W){this.ownerDocument=F.ownerDocument,this.namespaceURI=F.namespaceURI,this._next=null,this._parent=F,this.__data__=W}EnterNode.prototype={constructor:EnterNode,appendChild:function(F){return this._parent.insertBefore(F,this._next)},insertBefore:function(F,W){return this._parent.insertBefore(F,W)},querySelector:function(F){return this._parent.querySelector(F)},querySelectorAll:function(F){return this._parent.querySelectorAll(F)}};function constant$2(F){return function(){return F}}function bindIndex(F,W,q,X,tt,ot){for(var at=0,ut,wt=W.length,uo=ot.length;at<uo;++at)(ut=W[at])?(ut.__data__=ot[at],X[at]=ut):q[at]=new EnterNode(F,ot[at]);for(;at<wt;++at)(ut=W[at])&&(tt[at]=ut)}function bindKey(F,W,q,X,tt,ot,at){var ut,wt,uo=new Map,mo=W.length,yo=ot.length,lf=new Array(mo),uf;for(ut=0;ut<mo;++ut)(wt=W[ut])&&(lf[ut]=uf=at.call(wt,wt.__data__,ut,W)+"",uo.has(uf)?tt[ut]=wt:uo.set(uf,wt));for(ut=0;ut<yo;++ut)uf=at.call(F,ot[ut],ut,ot)+"",(wt=uo.get(uf))?(X[ut]=wt,wt.__data__=ot[ut],uo.delete(uf)):q[ut]=new EnterNode(F,ot[ut]);for(ut=0;ut<mo;++ut)(wt=W[ut])&&uo.get(lf[ut])===wt&&(tt[ut]=wt)}function datum(F){return F.__data__}function selection_data(F,W){if(!arguments.length)return Array.from(this,datum);var q=W?bindKey:bindIndex,X=this._parents,tt=this._groups;typeof F!="function"&&(F=constant$2(F));for(var ot=tt.length,at=new Array(ot),ut=new Array(ot),wt=new Array(ot),uo=0;uo<ot;++uo){var mo=X[uo],yo=tt[uo],lf=yo.length,uf=arraylike(F.call(mo,mo&&mo.__data__,uo,X)),df=uf.length,wf=ut[uo]=new Array(df),wo=at[uo]=new Array(df),ls=wt[uo]=new Array(lf);q(mo,yo,wf,wo,ls,uf,W);for(var _f=0,po=0,xo,gf;_f<df;++_f)if(xo=wf[_f]){for(_f>=po&&(po=_f+1);!(gf=wo[po])&&++po<df;);xo._next=gf||null}}return at=new Selection$1(at,X),at._enter=ut,at._exit=wt,at}function arraylike(F){return typeof F=="object"&&"length"in F?F:Array.from(F)}function selection_exit(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)}function selection_join(F,W,q){var X=this.enter(),tt=this,ot=this.exit();return typeof F=="function"?(X=F(X),X&&(X=X.selection())):X=X.append(F+""),W!=null&&(tt=W(tt),tt&&(tt=tt.selection())),q==null?ot.remove():q(ot),X&&tt?X.merge(tt).order():tt}function selection_merge(F){for(var W=F.selection?F.selection():F,q=this._groups,X=W._groups,tt=q.length,ot=X.length,at=Math.min(tt,ot),ut=new Array(tt),wt=0;wt<at;++wt)for(var uo=q[wt],mo=X[wt],yo=uo.length,lf=ut[wt]=new Array(yo),uf,df=0;df<yo;++df)(uf=uo[df]||mo[df])&&(lf[df]=uf);for(;wt<tt;++wt)ut[wt]=q[wt];return new Selection$1(ut,this._parents)}function selection_order(){for(var F=this._groups,W=-1,q=F.length;++W<q;)for(var X=F[W],tt=X.length-1,ot=X[tt],at;--tt>=0;)(at=X[tt])&&(ot&&at.compareDocumentPosition(ot)^4&&ot.parentNode.insertBefore(at,ot),ot=at);return this}function selection_sort(F){F||(F=ascending);function W(yo,lf){return yo&&lf?F(yo.__data__,lf.__data__):!yo-!lf}for(var q=this._groups,X=q.length,tt=new Array(X),ot=0;ot<X;++ot){for(var at=q[ot],ut=at.length,wt=tt[ot]=new Array(ut),uo,mo=0;mo<ut;++mo)(uo=at[mo])&&(wt[mo]=uo);wt.sort(W)}return new Selection$1(tt,this._parents).order()}function ascending(F,W){return F<W?-1:F>W?1:F>=W?0:NaN}function selection_call(){var F=arguments[0];return arguments[0]=this,F.apply(null,arguments),this}function selection_nodes(){return Array.from(this)}function selection_node(){for(var F=this._groups,W=0,q=F.length;W<q;++W)for(var X=F[W],tt=0,ot=X.length;tt<ot;++tt){var at=X[tt];if(at)return at}return null}function selection_size(){let F=0;for(const W of this)++F;return F}function selection_empty(){return!this.node()}function selection_each(F){for(var W=this._groups,q=0,X=W.length;q<X;++q)for(var tt=W[q],ot=0,at=tt.length,ut;ot<at;++ot)(ut=tt[ot])&&F.call(ut,ut.__data__,ot,tt);return this}function attrRemove$1(F){return function(){this.removeAttribute(F)}}function attrRemoveNS$1(F){return function(){this.removeAttributeNS(F.space,F.local)}}function attrConstant$1(F,W){return function(){this.setAttribute(F,W)}}function attrConstantNS$1(F,W){return function(){this.setAttributeNS(F.space,F.local,W)}}function attrFunction$1(F,W){return function(){var q=W.apply(this,arguments);q==null?this.removeAttribute(F):this.setAttribute(F,q)}}function attrFunctionNS$1(F,W){return function(){var q=W.apply(this,arguments);q==null?this.removeAttributeNS(F.space,F.local):this.setAttributeNS(F.space,F.local,q)}}function selection_attr(F,W){var q=namespace(F);if(arguments.length<2){var X=this.node();return q.local?X.getAttributeNS(q.space,q.local):X.getAttribute(q)}return this.each((W==null?q.local?attrRemoveNS$1:attrRemove$1:typeof W=="function"?q.local?attrFunctionNS$1:attrFunction$1:q.local?attrConstantNS$1:attrConstant$1)(q,W))}function defaultView(F){return F.ownerDocument&&F.ownerDocument.defaultView||F.document&&F||F.defaultView}function styleRemove$1(F){return function(){this.style.removeProperty(F)}}function styleConstant$1(F,W,q){return function(){this.style.setProperty(F,W,q)}}function styleFunction$1(F,W,q){return function(){var X=W.apply(this,arguments);X==null?this.style.removeProperty(F):this.style.setProperty(F,X,q)}}function selection_style(F,W,q){return arguments.length>1?this.each((W==null?styleRemove$1:typeof W=="function"?styleFunction$1:styleConstant$1)(F,W,q??"")):styleValue(this.node(),F)}function styleValue(F,W){return F.style.getPropertyValue(W)||defaultView(F).getComputedStyle(F,null).getPropertyValue(W)}function propertyRemove(F){return function(){delete this[F]}}function propertyConstant(F,W){return function(){this[F]=W}}function propertyFunction(F,W){return function(){var q=W.apply(this,arguments);q==null?delete this[F]:this[F]=q}}function selection_property(F,W){return arguments.length>1?this.each((W==null?propertyRemove:typeof W=="function"?propertyFunction:propertyConstant)(F,W)):this.node()[F]}function classArray(F){return F.trim().split(/^|\s+/)}function classList(F){return F.classList||new ClassList(F)}function ClassList(F){this._node=F,this._names=classArray(F.getAttribute("class")||"")}ClassList.prototype={add:function(F){var W=this._names.indexOf(F);W<0&&(this._names.push(F),this._node.setAttribute("class",this._names.join(" ")))},remove:function(F){var W=this._names.indexOf(F);W>=0&&(this._names.splice(W,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(F){return this._names.indexOf(F)>=0}};function classedAdd(F,W){for(var q=classList(F),X=-1,tt=W.length;++X<tt;)q.add(W[X])}function classedRemove(F,W){for(var q=classList(F),X=-1,tt=W.length;++X<tt;)q.remove(W[X])}function classedTrue(F){return function(){classedAdd(this,F)}}function classedFalse(F){return function(){classedRemove(this,F)}}function classedFunction(F,W){return function(){(W.apply(this,arguments)?classedAdd:classedRemove)(this,F)}}function selection_classed(F,W){var q=classArray(F+"");if(arguments.length<2){for(var X=classList(this.node()),tt=-1,ot=q.length;++tt<ot;)if(!X.contains(q[tt]))return!1;return!0}return this.each((typeof W=="function"?classedFunction:W?classedTrue:classedFalse)(q,W))}function textRemove(){this.textContent=""}function textConstant$1(F){return function(){this.textContent=F}}function textFunction$1(F){return function(){var W=F.apply(this,arguments);this.textContent=W??""}}function selection_text(F){return arguments.length?this.each(F==null?textRemove:(typeof F=="function"?textFunction$1:textConstant$1)(F)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(F){return function(){this.innerHTML=F}}function htmlFunction(F){return function(){var W=F.apply(this,arguments);this.innerHTML=W??""}}function selection_html(F){return arguments.length?this.each(F==null?htmlRemove:(typeof F=="function"?htmlFunction:htmlConstant)(F)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(F){var W=typeof F=="function"?F:creator(F);return this.select(function(){return this.appendChild(W.apply(this,arguments))})}function constantNull(){return null}function selection_insert(F,W){var q=typeof F=="function"?F:creator(F),X=W==null?constantNull:typeof W=="function"?W:selector(W);return this.select(function(){return this.insertBefore(q.apply(this,arguments),X.apply(this,arguments)||null)})}function remove(){var F=this.parentNode;F&&F.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){var F=this.cloneNode(!1),W=this.parentNode;return W?W.insertBefore(F,this.nextSibling):F}function selection_cloneDeep(){var F=this.cloneNode(!0),W=this.parentNode;return W?W.insertBefore(F,this.nextSibling):F}function selection_clone(F){return this.select(F?selection_cloneDeep:selection_cloneShallow)}function selection_datum(F){return arguments.length?this.property("__data__",F):this.node().__data__}function contextListener(F){return function(W){F.call(this,W,this.__data__)}}function parseTypenames(F){return F.trim().split(/^|\s+/).map(function(W){var q="",X=W.indexOf(".");return X>=0&&(q=W.slice(X+1),W=W.slice(0,X)),{type:W,name:q}})}function onRemove(F){return function(){var W=this.__on;if(W){for(var q=0,X=-1,tt=W.length,ot;q<tt;++q)ot=W[q],(!F.type||ot.type===F.type)&&ot.name===F.name?this.removeEventListener(ot.type,ot.listener,ot.options):W[++X]=ot;++X?W.length=X:delete this.__on}}}function onAdd(F,W,q){return function(){var X=this.__on,tt,ot=contextListener(W);if(X){for(var at=0,ut=X.length;at<ut;++at)if((tt=X[at]).type===F.type&&tt.name===F.name){this.removeEventListener(tt.type,tt.listener,tt.options),this.addEventListener(tt.type,tt.listener=ot,tt.options=q),tt.value=W;return}}this.addEventListener(F.type,ot,q),tt={type:F.type,name:F.name,value:W,listener:ot,options:q},X?X.push(tt):this.__on=[tt]}}function selection_on(F,W,q){var X=parseTypenames(F+""),tt,ot=X.length,at;if(arguments.length<2){var ut=this.node().__on;if(ut){for(var wt=0,uo=ut.length,mo;wt<uo;++wt)for(tt=0,mo=ut[wt];tt<ot;++tt)if((at=X[tt]).type===mo.type&&at.name===mo.name)return mo.value}return}for(ut=W?onAdd:onRemove,tt=0;tt<ot;++tt)this.each(ut(X[tt],W,q));return this}function dispatchEvent(F,W,q){var X=defaultView(F),tt=X.CustomEvent;typeof tt=="function"?tt=new tt(W,q):(tt=X.document.createEvent("Event"),q?(tt.initEvent(W,q.bubbles,q.cancelable),tt.detail=q.detail):tt.initEvent(W,!1,!1)),F.dispatchEvent(tt)}function dispatchConstant(F,W){return function(){return dispatchEvent(this,F,W)}}function dispatchFunction(F,W){return function(){return dispatchEvent(this,F,W.apply(this,arguments))}}function selection_dispatch(F,W){return this.each((typeof W=="function"?dispatchFunction:dispatchConstant)(F,W))}function*selection_iterator(){for(var F=this._groups,W=0,q=F.length;W<q;++W)for(var X=F[W],tt=0,ot=X.length,at;tt<ot;++tt)(at=X[tt])&&(yield at)}var root$2=[null];function Selection$1(F,W){this._groups=F,this._parents=W}function selection(){return new Selection$1([[document.documentElement]],root$2)}function selection_selection(){return this}Selection$1.prototype=selection.prototype={constructor:Selection$1,select:selection_select,selectAll:selection_selectAll,selectChild:selection_selectChild,selectChildren:selection_selectChildren,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,selection:selection_selection,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch,[Symbol.iterator]:selection_iterator};function select(F){return typeof F=="string"?new Selection$1([[document.querySelector(F)]],[document.documentElement]):new Selection$1([[F]],root$2)}function define$1(F,W,q){F.prototype=W.prototype=q,q.constructor=F}function extend$1(F,W){var q=Object.create(F.prototype);for(var X in W)q[X]=W[X];return q}function Color$2(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define$1(Color$2,color,{copy(F){return Object.assign(new this.constructor,this,F)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(F){var W,q;return F=(F+"").trim().toLowerCase(),(W=reHex.exec(F))?(q=W[1].length,W=parseInt(W[1],16),q===6?rgbn(W):q===3?new Rgb(W>>8&15|W>>4&240,W>>4&15|W&240,(W&15)<<4|W&15,1):q===8?rgba$2(W>>24&255,W>>16&255,W>>8&255,(W&255)/255):q===4?rgba$2(W>>12&15|W>>8&240,W>>8&15|W>>4&240,W>>4&15|W&240,((W&15)<<4|W&15)/255):null):(W=reRgbInteger.exec(F))?new Rgb(W[1],W[2],W[3],1):(W=reRgbPercent.exec(F))?new Rgb(W[1]*255/100,W[2]*255/100,W[3]*255/100,1):(W=reRgbaInteger.exec(F))?rgba$2(W[1],W[2],W[3],W[4]):(W=reRgbaPercent.exec(F))?rgba$2(W[1]*255/100,W[2]*255/100,W[3]*255/100,W[4]):(W=reHslPercent.exec(F))?hsla(W[1],W[2]/100,W[3]/100,1):(W=reHslaPercent.exec(F))?hsla(W[1],W[2]/100,W[3]/100,W[4]):named.hasOwnProperty(F)?rgbn(named[F]):F==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(F){return new Rgb(F>>16&255,F>>8&255,F&255,1)}function rgba$2(F,W,q,X){return X<=0&&(F=W=q=NaN),new Rgb(F,W,q,X)}function rgbConvert(F){return F instanceof Color$2||(F=color(F)),F?(F=F.rgb(),new Rgb(F.r,F.g,F.b,F.opacity)):new Rgb}function rgb(F,W,q,X){return arguments.length===1?rgbConvert(F):new Rgb(F,W,q,X??1)}function Rgb(F,W,q,X){this.r=+F,this.g=+W,this.b=+q,this.opacity=+X}define$1(Rgb,rgb,extend$1(Color$2,{brighter(F){return F=F==null?brighter:Math.pow(brighter,F),new Rgb(this.r*F,this.g*F,this.b*F,this.opacity)},darker(F){return F=F==null?darker:Math.pow(darker,F),new Rgb(this.r*F,this.g*F,this.b*F,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const F=clampa(this.opacity);return`${F===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${F===1?")":`, ${F})`}`}function clampa(F){return isNaN(F)?1:Math.max(0,Math.min(1,F))}function clampi(F){return Math.max(0,Math.min(255,Math.round(F)||0))}function hex(F){return F=clampi(F),(F<16?"0":"")+F.toString(16)}function hsla(F,W,q,X){return X<=0?F=W=q=NaN:q<=0||q>=1?F=W=NaN:W<=0&&(F=NaN),new Hsl(F,W,q,X)}function hslConvert(F){if(F instanceof Hsl)return new Hsl(F.h,F.s,F.l,F.opacity);if(F instanceof Color$2||(F=color(F)),!F)return new Hsl;if(F instanceof Hsl)return F;F=F.rgb();var W=F.r/255,q=F.g/255,X=F.b/255,tt=Math.min(W,q,X),ot=Math.max(W,q,X),at=NaN,ut=ot-tt,wt=(ot+tt)/2;return ut?(W===ot?at=(q-X)/ut+(q<X)*6:q===ot?at=(X-W)/ut+2:at=(W-q)/ut+4,ut/=wt<.5?ot+tt:2-ot-tt,at*=60):ut=wt>0&&wt<1?0:at,new Hsl(at,ut,wt,F.opacity)}function hsl(F,W,q,X){return arguments.length===1?hslConvert(F):new Hsl(F,W,q,X??1)}function Hsl(F,W,q,X){this.h=+F,this.s=+W,this.l=+q,this.opacity=+X}define$1(Hsl,hsl,extend$1(Color$2,{brighter(F){return F=F==null?brighter:Math.pow(brighter,F),new Hsl(this.h,this.s,this.l*F,this.opacity)},darker(F){return F=F==null?darker:Math.pow(darker,F),new Hsl(this.h,this.s,this.l*F,this.opacity)},rgb(){var F=this.h%360+(this.h<0)*360,W=isNaN(F)||isNaN(this.s)?0:this.s,q=this.l,X=q+(q<.5?q:1-q)*W,tt=2*q-X;return new Rgb(hsl2rgb(F>=240?F-240:F+120,tt,X),hsl2rgb(F,tt,X),hsl2rgb(F<120?F+240:F-120,tt,X),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const F=clampa(this.opacity);return`${F===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${F===1?")":`, ${F})`}`}}));function clamph(F){return F=(F||0)%360,F<0?F+360:F}function clampt(F){return Math.max(0,Math.min(1,F||0))}function hsl2rgb(F,W,q){return(F<60?W+(q-W)*F/60:F<180?q:F<240?W+(q-W)*(240-F)/60:W)*255}const constant$1=F=>()=>F;function linear(F,W){return function(q){return F+q*W}}function exponential(F,W,q){return F=Math.pow(F,q),W=Math.pow(W,q)-F,q=1/q,function(X){return Math.pow(F+X*W,q)}}function hue(F,W){var q=W-F;return q?linear(F,q>180||q<-180?q-360*Math.round(q/360):q):constant$1(isNaN(F)?W:F)}function gamma(F){return(F=+F)==1?nogamma:function(W,q){return q-W?exponential(W,q,F):constant$1(isNaN(W)?q:W)}}function nogamma(F,W){var q=W-F;return q?linear(F,q):constant$1(isNaN(F)?W:F)}const interpolateRgb=function F(W){var q=gamma(W);function X(tt,ot){var at=q((tt=rgb(tt)).r,(ot=rgb(ot)).r),ut=q(tt.g,ot.g),wt=q(tt.b,ot.b),uo=nogamma(tt.opacity,ot.opacity);return function(mo){return tt.r=at(mo),tt.g=ut(mo),tt.b=wt(mo),tt.opacity=uo(mo),tt+""}}return X.gamma=F,X}(1);function interpolateNumber(F,W){return F=+F,W=+W,function(q){return F*(1-q)+W*q}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(F){return function(){return F}}function one(F){return function(W){return F(W)+""}}function interpolateString(F,W){var q=reA.lastIndex=reB.lastIndex=0,X,tt,ot,at=-1,ut=[],wt=[];for(F=F+"",W=W+"";(X=reA.exec(F))&&(tt=reB.exec(W));)(ot=tt.index)>q&&(ot=W.slice(q,ot),ut[at]?ut[at]+=ot:ut[++at]=ot),(X=X[0])===(tt=tt[0])?ut[at]?ut[at]+=tt:ut[++at]=tt:(ut[++at]=null,wt.push({i:at,x:interpolateNumber(X,tt)})),q=reB.lastIndex;return q<W.length&&(ot=W.slice(q),ut[at]?ut[at]+=ot:ut[++at]=ot),ut.length<2?wt[0]?one(wt[0].x):zero(W):(W=wt.length,function(uo){for(var mo=0,yo;mo<W;++mo)ut[(yo=wt[mo]).i]=yo.x(uo);return ut.join("")})}var degrees=180/Math.PI,identity$1={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(F,W,q,X,tt,ot){var at,ut,wt;return(at=Math.sqrt(F*F+W*W))&&(F/=at,W/=at),(wt=F*q+W*X)&&(q-=F*wt,X-=W*wt),(ut=Math.sqrt(q*q+X*X))&&(q/=ut,X/=ut,wt/=ut),F*X<W*q&&(F=-F,W=-W,wt=-wt,at=-at),{translateX:tt,translateY:ot,rotate:Math.atan2(W,F)*degrees,skewX:Math.atan(wt)*degrees,scaleX:at,scaleY:ut}}var svgNode;function parseCss(F){const W=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(F+"");return W.isIdentity?identity$1:decompose(W.a,W.b,W.c,W.d,W.e,W.f)}function parseSvg(F){return F==null||(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",F),!(F=svgNode.transform.baseVal.consolidate()))?identity$1:(F=F.matrix,decompose(F.a,F.b,F.c,F.d,F.e,F.f))}function interpolateTransform(F,W,q,X){function tt(uo){return uo.length?uo.pop()+" ":""}function ot(uo,mo,yo,lf,uf,df){if(uo!==yo||mo!==lf){var wf=uf.push("translate(",null,W,null,q);df.push({i:wf-4,x:interpolateNumber(uo,yo)},{i:wf-2,x:interpolateNumber(mo,lf)})}else(yo||lf)&&uf.push("translate("+yo+W+lf+q)}function at(uo,mo,yo,lf){uo!==mo?(uo-mo>180?mo+=360:mo-uo>180&&(uo+=360),lf.push({i:yo.push(tt(yo)+"rotate(",null,X)-2,x:interpolateNumber(uo,mo)})):mo&&yo.push(tt(yo)+"rotate("+mo+X)}function ut(uo,mo,yo,lf){uo!==mo?lf.push({i:yo.push(tt(yo)+"skewX(",null,X)-2,x:interpolateNumber(uo,mo)}):mo&&yo.push(tt(yo)+"skewX("+mo+X)}function wt(uo,mo,yo,lf,uf,df){if(uo!==yo||mo!==lf){var wf=uf.push(tt(uf)+"scale(",null,",",null,")");df.push({i:wf-4,x:interpolateNumber(uo,yo)},{i:wf-2,x:interpolateNumber(mo,lf)})}else(yo!==1||lf!==1)&&uf.push(tt(uf)+"scale("+yo+","+lf+")")}return function(uo,mo){var yo=[],lf=[];return uo=F(uo),mo=F(mo),ot(uo.translateX,uo.translateY,mo.translateX,mo.translateY,yo,lf),at(uo.rotate,mo.rotate,yo,lf),ut(uo.skewX,mo.skewX,yo,lf),wt(uo.scaleX,uo.scaleY,mo.scaleX,mo.scaleY,yo,lf),uo=mo=null,function(uf){for(var df=-1,wf=lf.length,wo;++df<wf;)yo[(wo=lf[df]).i]=wo.x(uf);return yo.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")"),frame$1=0,timeout$1=0,interval=0,pokeDelay=1e3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock=typeof performance=="object"&&performance.now?performance:Date,setFrame=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(F){setTimeout(F,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}Timer.prototype=timer.prototype={constructor:Timer,restart:function(F,W,q){if(typeof F!="function")throw new TypeError("callback is not a function");q=(q==null?now():+q)+(W==null?0:+W),!this._next&&taskTail!==this&&(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=F,this._time=q,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};function timer(F,W,q){var X=new Timer;return X.restart(F,W,q),X}function timerFlush(){now(),++frame$1;for(var F=taskHead,W;F;)(W=clockNow-F._time)>=0&&F._call.call(void 0,W),F=F._next;--frame$1}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame$1=timeout$1=0;try{timerFlush()}finally{frame$1=0,nap(),clockNow=0}}function poke(){var F=clock.now(),W=F-clockLast;W>pokeDelay&&(clockSkew-=W,clockLast=F)}function nap(){for(var F,W=taskHead,q,X=1/0;W;)W._call?(X>W._time&&(X=W._time),F=W,W=W._next):(q=W._next,W._next=null,W=F?F._next=q:taskHead=q);taskTail=F,sleep(X)}function sleep(F){if(!frame$1){timeout$1&&(timeout$1=clearTimeout(timeout$1));var W=F-clockNow;W>24?(F<1/0&&(timeout$1=setTimeout(wake,F-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame$1=1,setFrame(wake))}}function timeout(F,W,q){var X=new Timer;return W=W==null?0:+W,X.restart(tt=>{X.stop(),F(tt+W)},W,q),X}var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(F,W,q,X,tt,ot){var at=F.__transition;if(!at)F.__transition={};else if(q in at)return;create$1(F,q,{name:W,index:X,group:tt,on:emptyOn,tween:emptyTween,time:ot.time,delay:ot.delay,duration:ot.duration,ease:ot.ease,timer:null,state:CREATED})}function init$1(F,W){var q=get$1(F,W);if(q.state>CREATED)throw new Error("too late; already scheduled");return q}function set$1(F,W){var q=get$1(F,W);if(q.state>STARTED)throw new Error("too late; already running");return q}function get$1(F,W){var q=F.__transition;if(!q||!(q=q[W]))throw new Error("transition not found");return q}function create$1(F,W,q){var X=F.__transition,tt;X[W]=q,q.timer=timer(ot,0,q.time);function ot(uo){q.state=SCHEDULED,q.timer.restart(at,q.delay,q.time),q.delay<=uo&&at(uo-q.delay)}function at(uo){var mo,yo,lf,uf;if(q.state!==SCHEDULED)return wt();for(mo in X)if(uf=X[mo],uf.name===q.name){if(uf.state===STARTED)return timeout(at);uf.state===RUNNING?(uf.state=ENDED,uf.timer.stop(),uf.on.call("interrupt",F,F.__data__,uf.index,uf.group),delete X[mo]):+mo<W&&(uf.state=ENDED,uf.timer.stop(),uf.on.call("cancel",F,F.__data__,uf.index,uf.group),delete X[mo])}if(timeout(function(){q.state===STARTED&&(q.state=RUNNING,q.timer.restart(ut,q.delay,q.time),ut(uo))}),q.state=STARTING,q.on.call("start",F,F.__data__,q.index,q.group),q.state===STARTING){for(q.state=STARTED,tt=new Array(lf=q.tween.length),mo=0,yo=-1;mo<lf;++mo)(uf=q.tween[mo].value.call(F,F.__data__,q.index,q.group))&&(tt[++yo]=uf);tt.length=yo+1}}function ut(uo){for(var mo=uo<q.duration?q.ease.call(null,uo/q.duration):(q.timer.restart(wt),q.state=ENDING,1),yo=-1,lf=tt.length;++yo<lf;)tt[yo].call(F,mo);q.state===ENDING&&(q.on.call("end",F,F.__data__,q.index,q.group),wt())}function wt(){q.state=ENDED,q.timer.stop(),delete X[W];for(var uo in X)return;delete F.__transition}}function interrupt(F,W){var q=F.__transition,X,tt,ot=!0,at;if(q){W=W==null?null:W+"";for(at in q){if((X=q[at]).name!==W){ot=!1;continue}tt=X.state>STARTING&&X.state<ENDING,X.state=ENDED,X.timer.stop(),X.on.call(tt?"interrupt":"cancel",F,F.__data__,X.index,X.group),delete q[at]}ot&&delete F.__transition}}function selection_interrupt(F){return this.each(function(){interrupt(this,F)})}function tweenRemove(F,W){var q,X;return function(){var tt=set$1(this,F),ot=tt.tween;if(ot!==q){X=q=ot;for(var at=0,ut=X.length;at<ut;++at)if(X[at].name===W){X=X.slice(),X.splice(at,1);break}}tt.tween=X}}function tweenFunction(F,W,q){var X,tt;if(typeof q!="function")throw new Error;return function(){var ot=set$1(this,F),at=ot.tween;if(at!==X){tt=(X=at).slice();for(var ut={name:W,value:q},wt=0,uo=tt.length;wt<uo;++wt)if(tt[wt].name===W){tt[wt]=ut;break}wt===uo&&tt.push(ut)}ot.tween=tt}}function transition_tween(F,W){var q=this._id;if(F+="",arguments.length<2){for(var X=get$1(this.node(),q).tween,tt=0,ot=X.length,at;tt<ot;++tt)if((at=X[tt]).name===F)return at.value;return null}return this.each((W==null?tweenRemove:tweenFunction)(q,F,W))}function tweenValue(F,W,q){var X=F._id;return F.each(function(){var tt=set$1(this,X);(tt.value||(tt.value={}))[W]=q.apply(this,arguments)}),function(tt){return get$1(tt,X).value[W]}}function interpolate(F,W){var q;return(typeof W=="number"?interpolateNumber:W instanceof color?interpolateRgb:(q=color(W))?(W=q,interpolateRgb):interpolateString)(F,W)}function attrRemove(F){return function(){this.removeAttribute(F)}}function attrRemoveNS(F){return function(){this.removeAttributeNS(F.space,F.local)}}function attrConstant(F,W,q){var X,tt=q+"",ot;return function(){var at=this.getAttribute(F);return at===tt?null:at===X?ot:ot=W(X=at,q)}}function attrConstantNS(F,W,q){var X,tt=q+"",ot;return function(){var at=this.getAttributeNS(F.space,F.local);return at===tt?null:at===X?ot:ot=W(X=at,q)}}function attrFunction(F,W,q){var X,tt,ot;return function(){var at,ut=q(this),wt;return ut==null?void this.removeAttribute(F):(at=this.getAttribute(F),wt=ut+"",at===wt?null:at===X&&wt===tt?ot:(tt=wt,ot=W(X=at,ut)))}}function attrFunctionNS(F,W,q){var X,tt,ot;return function(){var at,ut=q(this),wt;return ut==null?void this.removeAttributeNS(F.space,F.local):(at=this.getAttributeNS(F.space,F.local),wt=ut+"",at===wt?null:at===X&&wt===tt?ot:(tt=wt,ot=W(X=at,ut)))}}function transition_attr(F,W){var q=namespace(F),X=q==="transform"?interpolateTransformSvg:interpolate;return this.attrTween(F,typeof W=="function"?(q.local?attrFunctionNS:attrFunction)(q,X,tweenValue(this,"attr."+F,W)):W==null?(q.local?attrRemoveNS:attrRemove)(q):(q.local?attrConstantNS:attrConstant)(q,X,W))}function attrInterpolate(F,W){return function(q){this.setAttribute(F,W.call(this,q))}}function attrInterpolateNS(F,W){return function(q){this.setAttributeNS(F.space,F.local,W.call(this,q))}}function attrTweenNS(F,W){var q,X;function tt(){var ot=W.apply(this,arguments);return ot!==X&&(q=(X=ot)&&attrInterpolateNS(F,ot)),q}return tt._value=W,tt}function attrTween(F,W){var q,X;function tt(){var ot=W.apply(this,arguments);return ot!==X&&(q=(X=ot)&&attrInterpolate(F,ot)),q}return tt._value=W,tt}function transition_attrTween(F,W){var q="attr."+F;if(arguments.length<2)return(q=this.tween(q))&&q._value;if(W==null)return this.tween(q,null);if(typeof W!="function")throw new Error;var X=namespace(F);return this.tween(q,(X.local?attrTweenNS:attrTween)(X,W))}function delayFunction(F,W){return function(){init$1(this,F).delay=+W.apply(this,arguments)}}function delayConstant(F,W){return W=+W,function(){init$1(this,F).delay=W}}function transition_delay(F){var W=this._id;return arguments.length?this.each((typeof F=="function"?delayFunction:delayConstant)(W,F)):get$1(this.node(),W).delay}function durationFunction(F,W){return function(){set$1(this,F).duration=+W.apply(this,arguments)}}function durationConstant(F,W){return W=+W,function(){set$1(this,F).duration=W}}function transition_duration(F){var W=this._id;return arguments.length?this.each((typeof F=="function"?durationFunction:durationConstant)(W,F)):get$1(this.node(),W).duration}function easeConstant(F,W){if(typeof W!="function")throw new Error;return function(){set$1(this,F).ease=W}}function transition_ease(F){var W=this._id;return arguments.length?this.each(easeConstant(W,F)):get$1(this.node(),W).ease}function easeVarying(F,W){return function(){var q=W.apply(this,arguments);if(typeof q!="function")throw new Error;set$1(this,F).ease=q}}function transition_easeVarying(F){if(typeof F!="function")throw new Error;return this.each(easeVarying(this._id,F))}function transition_filter(F){typeof F!="function"&&(F=matcher(F));for(var W=this._groups,q=W.length,X=new Array(q),tt=0;tt<q;++tt)for(var ot=W[tt],at=ot.length,ut=X[tt]=[],wt,uo=0;uo<at;++uo)(wt=ot[uo])&&F.call(wt,wt.__data__,uo,ot)&&ut.push(wt);return new Transition(X,this._parents,this._name,this._id)}function transition_merge(F){if(F._id!==this._id)throw new Error;for(var W=this._groups,q=F._groups,X=W.length,tt=q.length,ot=Math.min(X,tt),at=new Array(X),ut=0;ut<ot;++ut)for(var wt=W[ut],uo=q[ut],mo=wt.length,yo=at[ut]=new Array(mo),lf,uf=0;uf<mo;++uf)(lf=wt[uf]||uo[uf])&&(yo[uf]=lf);for(;ut<X;++ut)at[ut]=W[ut];return new Transition(at,this._parents,this._name,this._id)}function start(F){return(F+"").trim().split(/^|\s+/).every(function(W){var q=W.indexOf(".");return q>=0&&(W=W.slice(0,q)),!W||W==="start"})}function onFunction(F,W,q){var X,tt,ot=start(W)?init$1:set$1;return function(){var at=ot(this,F),ut=at.on;ut!==X&&(tt=(X=ut).copy()).on(W,q),at.on=tt}}function transition_on(F,W){var q=this._id;return arguments.length<2?get$1(this.node(),q).on.on(F):this.each(onFunction(q,F,W))}function removeFunction(F){return function(){var W=this.parentNode;for(var q in this.__transition)if(+q!==F)return;W&&W.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(F){var W=this._name,q=this._id;typeof F!="function"&&(F=selector(F));for(var X=this._groups,tt=X.length,ot=new Array(tt),at=0;at<tt;++at)for(var ut=X[at],wt=ut.length,uo=ot[at]=new Array(wt),mo,yo,lf=0;lf<wt;++lf)(mo=ut[lf])&&(yo=F.call(mo,mo.__data__,lf,ut))&&("__data__"in mo&&(yo.__data__=mo.__data__),uo[lf]=yo,schedule(uo[lf],W,q,lf,uo,get$1(mo,q)));return new Transition(ot,this._parents,W,q)}function transition_selectAll(F){var W=this._name,q=this._id;typeof F!="function"&&(F=selectorAll(F));for(var X=this._groups,tt=X.length,ot=[],at=[],ut=0;ut<tt;++ut)for(var wt=X[ut],uo=wt.length,mo,yo=0;yo<uo;++yo)if(mo=wt[yo]){for(var lf=F.call(mo,mo.__data__,yo,wt),uf,df=get$1(mo,q),wf=0,wo=lf.length;wf<wo;++wf)(uf=lf[wf])&&schedule(uf,W,q,wf,lf,df);ot.push(lf),at.push(mo)}return new Transition(ot,at,W,q)}var Selection=selection.prototype.constructor;function transition_selection(){return new Selection(this._groups,this._parents)}function styleNull(F,W){var q,X,tt;return function(){var ot=styleValue(this,F),at=(this.style.removeProperty(F),styleValue(this,F));return ot===at?null:ot===q&&at===X?tt:tt=W(q=ot,X=at)}}function styleRemove(F){return function(){this.style.removeProperty(F)}}function styleConstant(F,W,q){var X,tt=q+"",ot;return function(){var at=styleValue(this,F);return at===tt?null:at===X?ot:ot=W(X=at,q)}}function styleFunction(F,W,q){var X,tt,ot;return function(){var at=styleValue(this,F),ut=q(this),wt=ut+"";return ut==null&&(wt=ut=(this.style.removeProperty(F),styleValue(this,F))),at===wt?null:at===X&&wt===tt?ot:(tt=wt,ot=W(X=at,ut))}}function styleMaybeRemove(F,W){var q,X,tt,ot="style."+W,at="end."+ot,ut;return function(){var wt=set$1(this,F),uo=wt.on,mo=wt.value[ot]==null?ut||(ut=styleRemove(W)):void 0;(uo!==q||tt!==mo)&&(X=(q=uo).copy()).on(at,tt=mo),wt.on=X}}function transition_style(F,W,q){var X=(F+="")=="transform"?interpolateTransformCss:interpolate;return W==null?this.styleTween(F,styleNull(F,X)).on("end.style."+F,styleRemove(F)):typeof W=="function"?this.styleTween(F,styleFunction(F,X,tweenValue(this,"style."+F,W))).each(styleMaybeRemove(this._id,F)):this.styleTween(F,styleConstant(F,X,W),q).on("end.style."+F,null)}function styleInterpolate(F,W,q){return function(X){this.style.setProperty(F,W.call(this,X),q)}}function styleTween(F,W,q){var X,tt;function ot(){var at=W.apply(this,arguments);return at!==tt&&(X=(tt=at)&&styleInterpolate(F,at,q)),X}return ot._value=W,ot}function transition_styleTween(F,W,q){var X="style."+(F+="");if(arguments.length<2)return(X=this.tween(X))&&X._value;if(W==null)return this.tween(X,null);if(typeof W!="function")throw new Error;return this.tween(X,styleTween(F,W,q??""))}function textConstant(F){return function(){this.textContent=F}}function textFunction(F){return function(){var W=F(this);this.textContent=W??""}}function transition_text(F){return this.tween("text",typeof F=="function"?textFunction(tweenValue(this,"text",F)):textConstant(F==null?"":F+""))}function textInterpolate(F){return function(W){this.textContent=F.call(this,W)}}function textTween(F){var W,q;function X(){var tt=F.apply(this,arguments);return tt!==q&&(W=(q=tt)&&textInterpolate(tt)),W}return X._value=F,X}function transition_textTween(F){var W="text";if(arguments.length<1)return(W=this.tween(W))&&W._value;if(F==null)return this.tween(W,null);if(typeof F!="function")throw new Error;return this.tween(W,textTween(F))}function transition_transition(){for(var F=this._name,W=this._id,q=newId(),X=this._groups,tt=X.length,ot=0;ot<tt;++ot)for(var at=X[ot],ut=at.length,wt,uo=0;uo<ut;++uo)if(wt=at[uo]){var mo=get$1(wt,W);schedule(wt,F,q,uo,at,{time:mo.time+mo.delay+mo.duration,delay:0,duration:mo.duration,ease:mo.ease})}return new Transition(X,this._parents,F,q)}function transition_end(){var F,W,q=this,X=q._id,tt=q.size();return new Promise(function(ot,at){var ut={value:at},wt={value:function(){--tt===0&&ot()}};q.each(function(){var uo=set$1(this,X),mo=uo.on;mo!==F&&(W=(F=mo).copy(),W._.cancel.push(ut),W._.interrupt.push(ut),W._.end.push(wt)),uo.on=W}),tt===0&&ot()})}var id$m=0;function Transition(F,W,q,X){this._groups=F,this._parents=W,this._name=q,this._id=X}function newId(){return++id$m}var selection_prototype=selection.prototype;Transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,textTween:transition_textTween,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease,easeVarying:transition_easeVarying,end:transition_end,[Symbol.iterator]:selection_prototype[Symbol.iterator]};function cubicInOut(F){return((F*=2)<=1?F*F*F:(F-=2)*F*F+2)/2}var defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit(F,W){for(var q;!(q=F.__transition)||!(q=q[W]);)if(!(F=F.parentNode))throw new Error(`transition ${W} not found`);return q}function selection_transition(F){var W,q;F instanceof Transition?(W=F._id,F=F._name):(W=newId(),(q=defaultTiming).time=now(),F=F==null?null:F+"");for(var X=this._groups,tt=X.length,ot=0;ot<tt;++ot)for(var at=X[ot],ut=at.length,wt,uo=0;uo<ut;++uo)(wt=at[uo])&&schedule(wt,F,W,uo,at,q||inherit(wt,W));return new Transition(X,this._parents,F,W)}selection.prototype.interrupt=selection_interrupt;selection.prototype.transition=selection_transition;const abs$1=Math.abs,atan2=Math.atan2,cos=Math.cos,max=Math.max,min=Math.min,sin=Math.sin,sqrt=Math.sqrt,epsilon=1e-12,pi=Math.PI,halfPi=pi/2,tau=2*pi;function acos(F){return F>1?0:F<-1?pi:Math.acos(F)}function asin(F){return F>=1?halfPi:F<=-1?-halfPi:Math.asin(F)}function Linear(F){this._context=F}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(F,W){switch(F=+F,W=+W,this._point){case 0:this._point=1,this._line?this._context.lineTo(F,W):this._context.moveTo(F,W);break;case 1:this._point=2;default:this._context.lineTo(F,W);break}}};function curveLinear(F){return new Linear(F)}class Bump{constructor(W,q){this._context=W,this._x=q}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(W,q){switch(W=+W,q=+q,this._point){case 0:{this._point=1,this._line?this._context.lineTo(W,q):this._context.moveTo(W,q);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+W)/2,this._y0,this._x0,q,W,q):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+q)/2,W,this._y0,W,q);break}}this._x0=W,this._y0=q}}function bumpX(F){return new Bump(F,!0)}function bumpY(F){return new Bump(F,!1)}function noop(){}function point$3(F,W,q){F._context.bezierCurveTo((2*F._x0+F._x1)/3,(2*F._y0+F._y1)/3,(F._x0+2*F._x1)/3,(F._y0+2*F._y1)/3,(F._x0+4*F._x1+W)/6,(F._y0+4*F._y1+q)/6)}function Basis(F){this._context=F}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$3(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(F,W){switch(F=+F,W=+W,this._point){case 0:this._point=1,this._line?this._context.lineTo(F,W):this._context.moveTo(F,W);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$3(this,F,W);break}this._x0=this._x1,this._x1=F,this._y0=this._y1,this._y1=W}};function curveBasis(F){return new Basis(F)}function BasisClosed(F){this._context=F}BasisClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(F,W){switch(F=+F,W=+W,this._point){case 0:this._point=1,this._x2=F,this._y2=W;break;case 1:this._point=2,this._x3=F,this._y3=W;break;case 2:this._point=3,this._x4=F,this._y4=W,this._context.moveTo((this._x0+4*this._x1+F)/6,(this._y0+4*this._y1+W)/6);break;default:point$3(this,F,W);break}this._x0=this._x1,this._x1=F,this._y0=this._y1,this._y1=W}};function curveBasisClosed(F){return new BasisClosed(F)}function BasisOpen(F){this._context=F}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(F,W){switch(F=+F,W=+W,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var q=(this._x0+4*this._x1+F)/6,X=(this._y0+4*this._y1+W)/6;this._line?this._context.lineTo(q,X):this._context.moveTo(q,X);break;case 3:this._point=4;default:point$3(this,F,W);break}this._x0=this._x1,this._x1=F,this._y0=this._y1,this._y1=W}};function curveBasisOpen(F){return new BasisOpen(F)}function Bundle(F,W){this._basis=new Basis(F),this._beta=W}Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var F=this._x,W=this._y,q=F.length-1;if(q>0)for(var X=F[0],tt=W[0],ot=F[q]-X,at=W[q]-tt,ut=-1,wt;++ut<=q;)wt=ut/q,this._basis.point(this._beta*F[ut]+(1-this._beta)*(X+wt*ot),this._beta*W[ut]+(1-this._beta)*(tt+wt*at));this._x=this._y=null,this._basis.lineEnd()},point:function(F,W){this._x.push(+F),this._y.push(+W)}};const curveBundle=function F(W){function q(X){return W===1?new Basis(X):new Bundle(X,W)}return q.beta=function(X){return F(+X)},q}(.85);function point$2(F,W,q){F._context.bezierCurveTo(F._x1+F._k*(F._x2-F._x0),F._y1+F._k*(F._y2-F._y0),F._x2+F._k*(F._x1-W),F._y2+F._k*(F._y1-q),F._x2,F._y2)}function Cardinal(F,W){this._context=F,this._k=(1-W)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:point$2(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(F,W){switch(F=+F,W=+W,this._point){case 0:this._point=1,this._line?this._context.lineTo(F,W):this._context.moveTo(F,W);break;case 1:this._point=2,this._x1=F,this._y1=W;break;case 2:this._point=3;default:point$2(this,F,W);break}this._x0=this._x1,this._x1=this._x2,this._x2=F,this._y0=this._y1,this._y1=this._y2,this._y2=W}};const curveCardinal=function F(W){function q(X){return new Cardinal(X,W)}return q.tension=function(X){return F(+X)},q}(0);function CardinalClosed(F,W){this._context=F,this._k=(1-W)/6}CardinalClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(F,W){switch(F=+F,W=+W,this._point){case 0:this._point=1,this._x3=F,this._y3=W;break;case 1:this._point=2,this._context.moveTo(this._x4=F,this._y4=W);break;case 2:this._point=3,this._x5=F,this._y5=W;break;default:point$2(this,F,W);break}this._x0=this._x1,this._x1=this._x2,this._x2=F,this._y0=this._y1,this._y1=this._y2,this._y2=W}};const curveCardinalClosed=function F(W){function q(X){return new CardinalClosed(X,W)}return q.tension=function(X){return F(+X)},q}(0);function CardinalOpen(F,W){this._context=F,this._k=(1-W)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(F,W){switch(F=+F,W=+W,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$2(this,F,W);break}this._x0=this._x1,this._x1=this._x2,this._x2=F,this._y0=this._y1,this._y1=this._y2,this._y2=W}};const curveCardinalOpen=function F(W){function q(X){return new CardinalOpen(X,W)}return q.tension=function(X){return F(+X)},q}(0);function point$1(F,W,q){var X=F._x1,tt=F._y1,ot=F._x2,at=F._y2;if(F._l01_a>epsilon){var ut=2*F._l01_2a+3*F._l01_a*F._l12_a+F._l12_2a,wt=3*F._l01_a*(F._l01_a+F._l12_a);X=(X*ut-F._x0*F._l12_2a+F._x2*F._l01_2a)/wt,tt=(tt*ut-F._y0*F._l12_2a+F._y2*F._l01_2a)/wt}if(F._l23_a>epsilon){var uo=2*F._l23_2a+3*F._l23_a*F._l12_a+F._l12_2a,mo=3*F._l23_a*(F._l23_a+F._l12_a);ot=(ot*uo+F._x1*F._l23_2a-W*F._l12_2a)/mo,at=(at*uo+F._y1*F._l23_2a-q*F._l12_2a)/mo}F._context.bezierCurveTo(X,tt,ot,at,F._x2,F._y2)}function CatmullRom(F,W){this._context=F,this._alpha=W}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(F,W){if(F=+F,W=+W,this._point){var q=this._x2-F,X=this._y2-W;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(q*q+X*X,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(F,W):this._context.moveTo(F,W);break;case 1:this._point=2;break;case 2:this._point=3;default:point$1(this,F,W);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=F,this._y0=this._y1,this._y1=this._y2,this._y2=W}};const curveCatmullRom=function F(W){function q(X){return W?new CatmullRom(X,W):new Cardinal(X,0)}return q.alpha=function(X){return F(+X)},q}(.5);function CatmullRomClosed(F,W){this._context=F,this._alpha=W}CatmullRomClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(F,W){if(F=+F,W=+W,this._point){var q=this._x2-F,X=this._y2-W;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(q*q+X*X,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=F,this._y3=W;break;case 1:this._point=2,this._context.moveTo(this._x4=F,this._y4=W);break;case 2:this._point=3,this._x5=F,this._y5=W;break;default:point$1(this,F,W);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=F,this._y0=this._y1,this._y1=this._y2,this._y2=W}};const curveCatmullRomClosed=function F(W){function q(X){return W?new CatmullRomClosed(X,W):new CardinalClosed(X,0)}return q.alpha=function(X){return F(+X)},q}(.5);function CatmullRomOpen(F,W){this._context=F,this._alpha=W}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(F,W){if(F=+F,W=+W,this._point){var q=this._x2-F,X=this._y2-W;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(q*q+X*X,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$1(this,F,W);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=F,this._y0=this._y1,this._y1=this._y2,this._y2=W}};const curveCatmullRomOpen=function F(W){function q(X){return W?new CatmullRomOpen(X,W):new CardinalOpen(X,0)}return q.alpha=function(X){return F(+X)},q}(.5);function LinearClosed(F){this._context=F}LinearClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(F,W){F=+F,W=+W,this._point?this._context.lineTo(F,W):(this._point=1,this._context.moveTo(F,W))}};function curveLinearClosed(F){return new LinearClosed(F)}function sign(F){return F<0?-1:1}function slope3(F,W,q){var X=F._x1-F._x0,tt=W-F._x1,ot=(F._y1-F._y0)/(X||tt<0&&-0),at=(q-F._y1)/(tt||X<0&&-0),ut=(ot*tt+at*X)/(X+tt);return(sign(ot)+sign(at))*Math.min(Math.abs(ot),Math.abs(at),.5*Math.abs(ut))||0}function slope2(F,W){var q=F._x1-F._x0;return q?(3*(F._y1-F._y0)/q-W)/2:W}function point(F,W,q){var X=F._x0,tt=F._y0,ot=F._x1,at=F._y1,ut=(ot-X)/3;F._context.bezierCurveTo(X+ut,tt+ut*W,ot-ut,at-ut*q,ot,at)}function MonotoneX(F){this._context=F}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(F,W){var q=NaN;if(F=+F,W=+W,!(F===this._x1&&W===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(F,W):this._context.moveTo(F,W);break;case 1:this._point=2;break;case 2:this._point=3,point(this,slope2(this,q=slope3(this,F,W)),q);break;default:point(this,this._t0,q=slope3(this,F,W));break}this._x0=this._x1,this._x1=F,this._y0=this._y1,this._y1=W,this._t0=q}}};function MonotoneY(F){this._context=new ReflectContext(F)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(F,W){MonotoneX.prototype.point.call(this,W,F)};function ReflectContext(F){this._context=F}ReflectContext.prototype={moveTo:function(F,W){this._context.moveTo(W,F)},closePath:function(){this._context.closePath()},lineTo:function(F,W){this._context.lineTo(W,F)},bezierCurveTo:function(F,W,q,X,tt,ot){this._context.bezierCurveTo(W,F,X,q,ot,tt)}};function monotoneX(F){return new MonotoneX(F)}function monotoneY(F){return new MonotoneY(F)}function Natural(F){this._context=F}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var F=this._x,W=this._y,q=F.length;if(q)if(this._line?this._context.lineTo(F[0],W[0]):this._context.moveTo(F[0],W[0]),q===2)this._context.lineTo(F[1],W[1]);else for(var X=controlPoints(F),tt=controlPoints(W),ot=0,at=1;at<q;++ot,++at)this._context.bezierCurveTo(X[0][ot],tt[0][ot],X[1][ot],tt[1][ot],F[at],W[at]);(this._line||this._line!==0&&q===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(F,W){this._x.push(+F),this._y.push(+W)}};function controlPoints(F){var W,q=F.length-1,X,tt=new Array(q),ot=new Array(q),at=new Array(q);for(tt[0]=0,ot[0]=2,at[0]=F[0]+2*F[1],W=1;W<q-1;++W)tt[W]=1,ot[W]=4,at[W]=4*F[W]+2*F[W+1];for(tt[q-1]=2,ot[q-1]=7,at[q-1]=8*F[q-1]+F[q],W=1;W<q;++W)X=tt[W]/ot[W-1],ot[W]-=X,at[W]-=X*at[W-1];for(tt[q-1]=at[q-1]/ot[q-1],W=q-2;W>=0;--W)tt[W]=(at[W]-tt[W+1])/ot[W];for(ot[q-1]=(F[q]+tt[q-1])/2,W=0;W<q-1;++W)ot[W]=2*F[W+1]-tt[W+1];return[tt,ot]}function curveNatural(F){return new Natural(F)}function Step(F,W){this._context=F,this._t=W}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(F,W){switch(F=+F,W=+W,this._point){case 0:this._point=1,this._line?this._context.lineTo(F,W):this._context.moveTo(F,W);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,W),this._context.lineTo(F,W);else{var q=this._x*(1-this._t)+F*this._t;this._context.lineTo(q,this._y),this._context.lineTo(q,W)}break}}this._x=F,this._y=W}};function curveStep(F){return new Step(F,.5)}function stepBefore(F){return new Step(F,0)}function stepAfter(F){return new Step(F,1)}function Transform(F,W,q){this.k=F,this.x=W,this.y=q}Transform.prototype={constructor:Transform,scale:function(F){return F===1?this:new Transform(this.k*F,this.x,this.y)},translate:function(F,W){return F===0&W===0?this:new Transform(this.k,this.x+this.k*F,this.y+this.k*W)},apply:function(F){return[F[0]*this.k+this.x,F[1]*this.k+this.y]},applyX:function(F){return F*this.k+this.x},applyY:function(F){return F*this.k+this.y},invert:function(F){return[(F[0]-this.x)/this.k,(F[1]-this.y)/this.k]},invertX:function(F){return(F-this.x)/this.k},invertY:function(F){return(F-this.y)/this.k},rescaleX:function(F){return F.copy().domain(F.range().map(this.invertX,this).map(F.invert,F))},rescaleY:function(F){return F.copy().domain(F.range().map(this.invertY,this).map(F.invert,F))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Transform.prototype;/*! @license DOMPurify 3.1.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.0/LICENSE */const{entries,setPrototypeOf,isFrozen,getPrototypeOf,getOwnPropertyDescriptor}=Object;let{freeze,seal,create}=Object,{apply:apply$1,construct}=typeof Reflect<"u"&&Reflect;freeze||(freeze=function(W){return W});seal||(seal=function(W){return W});apply$1||(apply$1=function(W,q,X){return W.apply(q,X)});construct||(construct=function(W,q){return new W(...q)});const arrayForEach=unapply(Array.prototype.forEach),arrayPop=unapply(Array.prototype.pop),arrayPush=unapply(Array.prototype.push),stringToLowerCase=unapply(String.prototype.toLowerCase),stringToString=unapply(String.prototype.toString),stringMatch=unapply(String.prototype.match),stringReplace=unapply(String.prototype.replace),stringIndexOf=unapply(String.prototype.indexOf),stringTrim=unapply(String.prototype.trim),objectHasOwnProperty=unapply(Object.prototype.hasOwnProperty),regExpTest=unapply(RegExp.prototype.test),typeErrorCreate=unconstruct(TypeError);function unapply(F){return function(W){for(var q=arguments.length,X=new Array(q>1?q-1:0),tt=1;tt<q;tt++)X[tt-1]=arguments[tt];return apply$1(F,W,X)}}function unconstruct(F){return function(){for(var W=arguments.length,q=new Array(W),X=0;X<W;X++)q[X]=arguments[X];return construct(F,q)}}function addToSet(F,W){let q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:stringToLowerCase;setPrototypeOf&&setPrototypeOf(F,null);let X=W.length;for(;X--;){let tt=W[X];if(typeof tt=="string"){const ot=q(tt);ot!==tt&&(isFrozen(W)||(W[X]=ot),tt=ot)}F[tt]=!0}return F}function cleanArray(F){for(let W=0;W<F.length;W++)objectHasOwnProperty(F,W)||(F[W]=null);return F}function clone(F){const W=create(null);for(const[q,X]of entries(F))objectHasOwnProperty(F,q)&&(Array.isArray(X)?W[q]=cleanArray(X):X&&typeof X=="object"&&X.constructor===Object?W[q]=clone(X):W[q]=X);return W}function lookupGetter(F,W){for(;F!==null;){const X=getOwnPropertyDescriptor(F,W);if(X){if(X.get)return unapply(X.get);if(typeof X.value=="function")return unapply(X.value)}F=getPrototypeOf(F)}function q(){return null}return q}const html$1=freeze(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),svg$1=freeze(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),svgFilters=freeze(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),svgDisallowed=freeze(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),mathMl$1=freeze(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),mathMlDisallowed=freeze(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),text=freeze(["#text"]),html=freeze(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),svg=freeze(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mathMl=freeze(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xml=freeze(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),MUSTACHE_EXPR=seal(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ERB_EXPR=seal(/<%[\w\W]*|[\w\W]*%>/gm),TMPLIT_EXPR=seal(/\${[\w\W]*}/gm),DATA_ATTR=seal(/^data-[\-\w.\u00B7-\uFFFF]/),ARIA_ATTR=seal(/^aria-[\-\w]+$/),IS_ALLOWED_URI=seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),IS_SCRIPT_OR_DATA=seal(/^(?:\w+script|data):/i),ATTR_WHITESPACE=seal(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),DOCTYPE_NAME=seal(/^html$/i),CUSTOM_ELEMENT=seal(/^[a-z][.\w]*(-[.\w]+)+$/i);var EXPRESSIONS=Object.freeze({__proto__:null,MUSTACHE_EXPR,ERB_EXPR,TMPLIT_EXPR,DATA_ATTR,ARIA_ATTR,IS_ALLOWED_URI,IS_SCRIPT_OR_DATA,ATTR_WHITESPACE,DOCTYPE_NAME,CUSTOM_ELEMENT});const getGlobal=function F(){return typeof window>"u"?null:window},_createTrustedTypesPolicy=function F(W,q){if(typeof W!="object"||typeof W.createPolicy!="function")return null;let X=null;const tt="data-tt-policy-suffix";q&&q.hasAttribute(tt)&&(X=q.getAttribute(tt));const ot="dompurify"+(X?"#"+X:"");try{return W.createPolicy(ot,{createHTML(at){return at},createScriptURL(at){return at}})}catch{return console.warn("TrustedTypes policy "+ot+" could not be created."),null}};function createDOMPurify(){let F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:getGlobal();const W=Hg=>createDOMPurify(Hg);if(W.version="3.1.0",W.removed=[],!F||!F.document||F.document.nodeType!==9)return W.isSupported=!1,W;let{document:q}=F;const X=q,tt=X.currentScript,{DocumentFragment:ot,HTMLTemplateElement:at,Node:ut,Element:wt,NodeFilter:uo,NamedNodeMap:mo=F.NamedNodeMap||F.MozNamedAttrMap,HTMLFormElement:yo,DOMParser:lf,trustedTypes:uf}=F,df=wt.prototype,wf=lookupGetter(df,"cloneNode"),wo=lookupGetter(df,"nextSibling"),ls=lookupGetter(df,"childNodes"),_f=lookupGetter(df,"parentNode");if(typeof at=="function"){const Hg=q.createElement("template");Hg.content&&Hg.content.ownerDocument&&(q=Hg.content.ownerDocument)}let po,xo="";const{implementation:gf,createNodeIterator:cf,createDocumentFragment:yf,getElementsByTagName:Sf}=q,{importNode:xf}=X;let bf={};W.isSupported=typeof entries=="function"&&typeof _f=="function"&&gf&&gf.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Af,ERB_EXPR:Pf,TMPLIT_EXPR:Df,DATA_ATTR:zf,ARIA_ATTR:jf,IS_SCRIPT_OR_DATA:$f,ATTR_WHITESPACE:Ff,CUSTOM_ELEMENT:Xf}=EXPRESSIONS;let{IS_ALLOWED_URI:mp}=EXPRESSIONS,fp=null;const Mp=addToSet({},[...html$1,...svg$1,...svgFilters,...mathMl$1,...text]);let Np=null;const Pp=addToSet({},[...html,...svg,...mathMl,...xml]);let yp=Object.seal(create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ep=null,Cp=null,$p=!0,kp=!0,Dp=!1,Fp=!0,Sp=!1,up=!0,Nf=!1,Jf=!1,ip=!1,ap=!1,Op=!1,Gp=!1,bp=!0,zp=!1;const Rp="user-content-";let Up=!0,Zp=!1,og={},Ap=null;const Ip=addToSet({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let jp=null;const Jp=addToSet({},["audio","video","img","source","image","track"]);let sg=null;const mg=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),kg="http://www.w3.org/1998/Math/MathML",Eg="http://www.w3.org/2000/svg",im="http://www.w3.org/1999/xhtml";let hm=im,dp=!1,cp=null;const Vp=addToSet({},[kg,Eg,im],stringToString);let qp=null;const Ag=["application/xhtml+xml","text/html"],Dg="text/html";let Ig=null,zg=null;const Zg=q.createElement("form"),wm=function(eg){return eg instanceof RegExp||eg instanceof Function},pm=function(){let eg=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(zg&&zg===eg)){if((!eg||typeof eg!="object")&&(eg={}),eg=clone(eg),qp=Ag.indexOf(eg.PARSER_MEDIA_TYPE)===-1?Dg:eg.PARSER_MEDIA_TYPE,Ig=qp==="application/xhtml+xml"?stringToString:stringToLowerCase,fp=objectHasOwnProperty(eg,"ALLOWED_TAGS")?addToSet({},eg.ALLOWED_TAGS,Ig):Mp,Np=objectHasOwnProperty(eg,"ALLOWED_ATTR")?addToSet({},eg.ALLOWED_ATTR,Ig):Pp,cp=objectHasOwnProperty(eg,"ALLOWED_NAMESPACES")?addToSet({},eg.ALLOWED_NAMESPACES,stringToString):Vp,sg=objectHasOwnProperty(eg,"ADD_URI_SAFE_ATTR")?addToSet(clone(mg),eg.ADD_URI_SAFE_ATTR,Ig):mg,jp=objectHasOwnProperty(eg,"ADD_DATA_URI_TAGS")?addToSet(clone(Jp),eg.ADD_DATA_URI_TAGS,Ig):Jp,Ap=objectHasOwnProperty(eg,"FORBID_CONTENTS")?addToSet({},eg.FORBID_CONTENTS,Ig):Ip,Ep=objectHasOwnProperty(eg,"FORBID_TAGS")?addToSet({},eg.FORBID_TAGS,Ig):{},Cp=objectHasOwnProperty(eg,"FORBID_ATTR")?addToSet({},eg.FORBID_ATTR,Ig):{},og=objectHasOwnProperty(eg,"USE_PROFILES")?eg.USE_PROFILES:!1,$p=eg.ALLOW_ARIA_ATTR!==!1,kp=eg.ALLOW_DATA_ATTR!==!1,Dp=eg.ALLOW_UNKNOWN_PROTOCOLS||!1,Fp=eg.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Sp=eg.SAFE_FOR_TEMPLATES||!1,up=eg.SAFE_FOR_XML!==!1,Nf=eg.WHOLE_DOCUMENT||!1,ap=eg.RETURN_DOM||!1,Op=eg.RETURN_DOM_FRAGMENT||!1,Gp=eg.RETURN_TRUSTED_TYPE||!1,ip=eg.FORCE_BODY||!1,bp=eg.SANITIZE_DOM!==!1,zp=eg.SANITIZE_NAMED_PROPS||!1,Up=eg.KEEP_CONTENT!==!1,Zp=eg.IN_PLACE||!1,mp=eg.ALLOWED_URI_REGEXP||IS_ALLOWED_URI,hm=eg.NAMESPACE||im,yp=eg.CUSTOM_ELEMENT_HANDLING||{},eg.CUSTOM_ELEMENT_HANDLING&&wm(eg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(yp.tagNameCheck=eg.CUSTOM_ELEMENT_HANDLING.tagNameCheck),eg.CUSTOM_ELEMENT_HANDLING&&wm(eg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(yp.attributeNameCheck=eg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),eg.CUSTOM_ELEMENT_HANDLING&&typeof eg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(yp.allowCustomizedBuiltInElements=eg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Sp&&(kp=!1),Op&&(ap=!0),og&&(fp=addToSet({},text),Np=[],og.html===!0&&(addToSet(fp,html$1),addToSet(Np,html)),og.svg===!0&&(addToSet(fp,svg$1),addToSet(Np,svg),addToSet(Np,xml)),og.svgFilters===!0&&(addToSet(fp,svgFilters),addToSet(Np,svg),addToSet(Np,xml)),og.mathMl===!0&&(addToSet(fp,mathMl$1),addToSet(Np,mathMl),addToSet(Np,xml))),eg.ADD_TAGS&&(fp===Mp&&(fp=clone(fp)),addToSet(fp,eg.ADD_TAGS,Ig)),eg.ADD_ATTR&&(Np===Pp&&(Np=clone(Np)),addToSet(Np,eg.ADD_ATTR,Ig)),eg.ADD_URI_SAFE_ATTR&&addToSet(sg,eg.ADD_URI_SAFE_ATTR,Ig),eg.FORBID_CONTENTS&&(Ap===Ip&&(Ap=clone(Ap)),addToSet(Ap,eg.FORBID_CONTENTS,Ig)),Up&&(fp["#text"]=!0),Nf&&addToSet(fp,["html","head","body"]),fp.table&&(addToSet(fp,["tbody"]),delete Ep.tbody),eg.TRUSTED_TYPES_POLICY){if(typeof eg.TRUSTED_TYPES_POLICY.createHTML!="function")throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof eg.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');po=eg.TRUSTED_TYPES_POLICY,xo=po.createHTML("")}else po===void 0&&(po=_createTrustedTypesPolicy(uf,tt)),po!==null&&typeof xo=="string"&&(xo=po.createHTML(""));freeze&&freeze(eg),zg=eg}},bv=addToSet({},["mi","mo","mn","ms","mtext"]),um=addToSet({},["foreignobject","desc","title","annotation-xml"]),Y0=addToSet({},["title","style","font","a","script"]),r0=addToSet({},[...svg$1,...svgFilters,...svgDisallowed]),_y=addToSet({},[...mathMl$1,...mathMlDisallowed]),Wy=function(eg){let Pg=_f(eg);(!Pg||!Pg.tagName)&&(Pg={namespaceURI:hm,tagName:"template"});const Kg=stringToLowerCase(eg.tagName),Ev=stringToLowerCase(Pg.tagName);return cp[eg.namespaceURI]?eg.namespaceURI===Eg?Pg.namespaceURI===im?Kg==="svg":Pg.namespaceURI===kg?Kg==="svg"&&(Ev==="annotation-xml"||bv[Ev]):!!r0[Kg]:eg.namespaceURI===kg?Pg.namespaceURI===im?Kg==="math":Pg.namespaceURI===Eg?Kg==="math"&&um[Ev]:!!_y[Kg]:eg.namespaceURI===im?Pg.namespaceURI===Eg&&!um[Ev]||Pg.namespaceURI===kg&&!bv[Ev]?!1:!_y[Kg]&&(Y0[Kg]||!r0[Kg]):!!(qp==="application/xhtml+xml"&&cp[eg.namespaceURI]):!1},L0=function(eg){arrayPush(W.removed,{element:eg});try{eg.parentNode.removeChild(eg)}catch{eg.remove()}},em=function(eg,Pg){try{arrayPush(W.removed,{attribute:Pg.getAttributeNode(eg),from:Pg})}catch{arrayPush(W.removed,{attribute:null,from:Pg})}if(Pg.removeAttribute(eg),eg==="is"&&!Np[eg])if(ap||Op)try{L0(Pg)}catch{}else try{Pg.setAttribute(eg,"")}catch{}},R0=function(eg){let Pg=null,Kg=null;if(ip)eg="<remove></remove>"+eg;else{const vv=stringMatch(eg,/^[\r\n\t ]+/);Kg=vv&&vv[0]}qp==="application/xhtml+xml"&&hm===im&&(eg='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+eg+"</body></html>");const Ev=po?po.createHTML(eg):eg;if(hm===im)try{Pg=new lf().parseFromString(Ev,qp)}catch{}if(!Pg||!Pg.documentElement){Pg=gf.createDocument(hm,"template",null);try{Pg.documentElement.innerHTML=dp?xo:Ev}catch{}}const jv=Pg.body||Pg.documentElement;return eg&&Kg&&jv.insertBefore(q.createTextNode(Kg),jv.childNodes[0]||null),hm===im?Sf.call(Pg,Nf?"html":"body")[0]:Nf?Pg.documentElement:jv},tm=function(eg){return cf.call(eg.ownerDocument||eg,eg,uo.SHOW_ELEMENT|uo.SHOW_COMMENT|uo.SHOW_TEXT|uo.SHOW_PROCESSING_INSTRUCTION|uo.SHOW_CDATA_SECTION,null)},d0=function(eg){return eg instanceof yo&&(typeof eg.nodeName!="string"||typeof eg.textContent!="string"||typeof eg.removeChild!="function"||!(eg.attributes instanceof mo)||typeof eg.removeAttribute!="function"||typeof eg.setAttribute!="function"||typeof eg.namespaceURI!="string"||typeof eg.insertBefore!="function"||typeof eg.hasChildNodes!="function")},$b=function(eg){return typeof ut=="function"&&eg instanceof ut},km=function(eg,Pg,Kg){bf[eg]&&arrayForEach(bf[eg],Ev=>{Ev.call(W,Pg,Kg,zg)})},D0=function(eg){let Pg=null;if(km("beforeSanitizeElements",eg,null),d0(eg))return L0(eg),!0;const Kg=Ig(eg.nodeName);if(km("uponSanitizeElement",eg,{tagName:Kg,allowedTags:fp}),eg.hasChildNodes()&&!$b(eg.firstElementChild)&&regExpTest(/<[/\w]/g,eg.innerHTML)&&regExpTest(/<[/\w]/g,eg.textContent)||eg.nodeType===7||up&&eg.nodeType===8&&regExpTest(/<[/\w]/g,eg.data))return L0(eg),!0;if(!fp[Kg]||Ep[Kg]){if(!Ep[Kg]&&Z0(Kg)&&(yp.tagNameCheck instanceof RegExp&&regExpTest(yp.tagNameCheck,Kg)||yp.tagNameCheck instanceof Function&&yp.tagNameCheck(Kg)))return!1;if(Up&&!Ap[Kg]){const Ev=_f(eg)||eg.parentNode,jv=ls(eg)||eg.childNodes;if(jv&&Ev){const vv=jv.length;for(let Hv=vv-1;Hv>=0;--Hv)Ev.insertBefore(wf(jv[Hv],!0),wo(eg))}}return L0(eg),!0}return eg instanceof wt&&!Wy(eg)||(Kg==="noscript"||Kg==="noembed"||Kg==="noframes")&&regExpTest(/<\/no(script|embed|frames)/i,eg.innerHTML)?(L0(eg),!0):(Sp&&eg.nodeType===3&&(Pg=eg.textContent,arrayForEach([Af,Pf,Df],Ev=>{Pg=stringReplace(Pg,Ev," ")}),eg.textContent!==Pg&&(arrayPush(W.removed,{element:eg.cloneNode()}),eg.textContent=Pg)),km("afterSanitizeElements",eg,null),!1)},ob=function(eg,Pg,Kg){if(bp&&(Pg==="id"||Pg==="name")&&(Kg in q||Kg in Zg))return!1;if(!(kp&&!Cp[Pg]&&regExpTest(zf,Pg))){if(!($p&&regExpTest(jf,Pg))){if(!Np[Pg]||Cp[Pg]){if(!(Z0(eg)&&(yp.tagNameCheck instanceof RegExp&&regExpTest(yp.tagNameCheck,eg)||yp.tagNameCheck instanceof Function&&yp.tagNameCheck(eg))&&(yp.attributeNameCheck instanceof RegExp&&regExpTest(yp.attributeNameCheck,Pg)||yp.attributeNameCheck instanceof Function&&yp.attributeNameCheck(Pg))||Pg==="is"&&yp.allowCustomizedBuiltInElements&&(yp.tagNameCheck instanceof RegExp&&regExpTest(yp.tagNameCheck,Kg)||yp.tagNameCheck instanceof Function&&yp.tagNameCheck(Kg))))return!1}else if(!sg[Pg]){if(!regExpTest(mp,stringReplace(Kg,Ff,""))){if(!((Pg==="src"||Pg==="xlink:href"||Pg==="href")&&eg!=="script"&&stringIndexOf(Kg,"data:")===0&&jp[eg])){if(!(Dp&&!regExpTest($f,stringReplace(Kg,Ff,"")))){if(Kg)return!1}}}}}}return!0},Z0=function(eg){return eg!=="annotation-xml"&&stringMatch(eg,Xf)},Gv=function(eg){km("beforeSanitizeAttributes",eg,null);const{attributes:Pg}=eg;if(!Pg)return;const Kg={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Np};let Ev=Pg.length;for(;Ev--;){const jv=Pg[Ev],{name:vv,namespaceURI:Hv,value:hy}=jv,Ly=Ig(vv);let Jv=vv==="value"?hy:stringTrim(hy);if(Kg.attrName=Ly,Kg.attrValue=Jv,Kg.keepAttr=!0,Kg.forceKeepAttr=void 0,km("uponSanitizeAttribute",eg,Kg),Jv=Kg.attrValue,Kg.forceKeepAttr||(em(vv,eg),!Kg.keepAttr))continue;if(!Fp&&regExpTest(/\/>/i,Jv)){em(vv,eg);continue}Sp&&arrayForEach([Af,Pf,Df],Ry=>{Jv=stringReplace(Jv,Ry," ")});const n1=Ig(eg.nodeName);if(ob(n1,Ly,Jv)){if(zp&&(Ly==="id"||Ly==="name")&&(em(vv,eg),Jv=Rp+Jv),po&&typeof uf=="object"&&typeof uf.getAttributeType=="function"&&!Hv)switch(uf.getAttributeType(n1,Ly)){case"TrustedHTML":{Jv=po.createHTML(Jv);break}case"TrustedScriptURL":{Jv=po.createScriptURL(Jv);break}}try{Hv?eg.setAttributeNS(Hv,vv,Jv):eg.setAttribute(vv,Jv),arrayPop(W.removed)}catch{}}}km("afterSanitizeAttributes",eg,null)},cy=function Hg(eg){let Pg=null;const Kg=tm(eg);for(km("beforeSanitizeShadowDOM",eg,null);Pg=Kg.nextNode();)km("uponSanitizeShadowNode",Pg,null),!D0(Pg)&&(Pg.content instanceof ot&&Hg(Pg.content),Gv(Pg));km("afterSanitizeShadowDOM",eg,null)};return W.sanitize=function(Hg){let eg=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Pg=null,Kg=null,Ev=null,jv=null;if(dp=!Hg,dp&&(Hg="<!-->"),typeof Hg!="string"&&!$b(Hg))if(typeof Hg.toString=="function"){if(Hg=Hg.toString(),typeof Hg!="string")throw typeErrorCreate("dirty is not a string, aborting")}else throw typeErrorCreate("toString is not a function");if(!W.isSupported)return Hg;if(Jf||pm(eg),W.removed=[],typeof Hg=="string"&&(Zp=!1),Zp){if(Hg.nodeName){const hy=Ig(Hg.nodeName);if(!fp[hy]||Ep[hy])throw typeErrorCreate("root node is forbidden and cannot be sanitized in-place")}}else if(Hg instanceof ut)Pg=R0("<!---->"),Kg=Pg.ownerDocument.importNode(Hg,!0),Kg.nodeType===1&&Kg.nodeName==="BODY"||Kg.nodeName==="HTML"?Pg=Kg:Pg.appendChild(Kg);else{if(!ap&&!Sp&&!Nf&&Hg.indexOf("<")===-1)return po&&Gp?po.createHTML(Hg):Hg;if(Pg=R0(Hg),!Pg)return ap?null:Gp?xo:""}Pg&&ip&&L0(Pg.firstChild);const vv=tm(Zp?Hg:Pg);for(;Ev=vv.nextNode();)D0(Ev)||(Ev.content instanceof ot&&cy(Ev.content),Gv(Ev));if(Zp)return Hg;if(ap){if(Op)for(jv=yf.call(Pg.ownerDocument);Pg.firstChild;)jv.appendChild(Pg.firstChild);else jv=Pg;return(Np.shadowroot||Np.shadowrootmode)&&(jv=xf.call(X,jv,!0)),jv}let Hv=Nf?Pg.outerHTML:Pg.innerHTML;return Nf&&fp["!doctype"]&&Pg.ownerDocument&&Pg.ownerDocument.doctype&&Pg.ownerDocument.doctype.name&&regExpTest(DOCTYPE_NAME,Pg.ownerDocument.doctype.name)&&(Hv="<!DOCTYPE "+Pg.ownerDocument.doctype.name+`>
`+Hv),Sp&&arrayForEach([Af,Pf,Df],hy=>{Hv=stringReplace(Hv,hy," ")}),po&&Gp?po.createHTML(Hv):Hv},W.setConfig=function(){let Hg=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};pm(Hg),Jf=!0},W.clearConfig=function(){zg=null,Jf=!1},W.isValidAttribute=function(Hg,eg,Pg){zg||pm({});const Kg=Ig(Hg),Ev=Ig(eg);return ob(Kg,Ev,Pg)},W.addHook=function(Hg,eg){typeof eg=="function"&&(bf[Hg]=bf[Hg]||[],arrayPush(bf[Hg],eg))},W.removeHook=function(Hg){if(bf[Hg])return arrayPop(bf[Hg])},W.removeHooks=function(Hg){bf[Hg]&&(bf[Hg]=[])},W.removeAllHooks=function(){bf={}},W}var purify=createDOMPurify();const Channel={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:F=>F>=255?255:F<0?0:F,g:F=>F>=255?255:F<0?0:F,b:F=>F>=255?255:F<0?0:F,h:F=>F%360,s:F=>F>=100?100:F<0?0:F,l:F=>F>=100?100:F<0?0:F,a:F=>F>=1?1:F<0?0:F},toLinear:F=>{const W=F/255;return F>.03928?Math.pow((W+.055)/1.055,2.4):W/12.92},hue2rgb:(F,W,q)=>(q<0&&(q+=1),q>1&&(q-=1),q<1/6?F+(W-F)*6*q:q<1/2?W:q<2/3?F+(W-F)*(2/3-q)*6:F),hsl2rgb:({h:F,s:W,l:q},X)=>{if(!W)return q*2.55;F/=360,W/=100,q/=100;const tt=q<.5?q*(1+W):q+W-q*W,ot=2*q-tt;switch(X){case"r":return Channel.hue2rgb(ot,tt,F+1/3)*255;case"g":return Channel.hue2rgb(ot,tt,F)*255;case"b":return Channel.hue2rgb(ot,tt,F-1/3)*255}},rgb2hsl:({r:F,g:W,b:q},X)=>{F/=255,W/=255,q/=255;const tt=Math.max(F,W,q),ot=Math.min(F,W,q),at=(tt+ot)/2;if(X==="l")return at*100;if(tt===ot)return 0;const ut=tt-ot,wt=at>.5?ut/(2-tt-ot):ut/(tt+ot);if(X==="s")return wt*100;switch(tt){case F:return((W-q)/ut+(W<q?6:0))*60;case W:return((q-F)/ut+2)*60;case q:return((F-W)/ut+4)*60;default:return-1}}},channel=Channel,Lang={clamp:(F,W,q)=>W>q?Math.min(W,Math.max(q,F)):Math.min(q,Math.max(W,F)),round:F=>Math.round(F*1e10)/1e10},lang=Lang,Unit={dec2hex:F=>{const W=Math.round(F).toString(16);return W.length>1?W:`0${W}`}},unit=Unit,Utils={channel,lang,unit},_=Utils,DEC2HEX={};for(let F=0;F<=255;F++)DEC2HEX[F]=_.unit.dec2hex(F);const TYPE={ALL:0,RGB:1,HSL:2};class Type{constructor(){this.type=TYPE.ALL}get(){return this.type}set(W){if(this.type&&this.type!==W)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=W}reset(){this.type=TYPE.ALL}is(W){return this.type===W}}const Type$2=Type;class Channels{constructor(W,q){this.color=q,this.changed=!1,this.data=W,this.type=new Type$2}set(W,q){return this.color=q,this.changed=!1,this.data=W,this.type.type=TYPE.ALL,this}_ensureHSL(){const W=this.data,{h:q,s:X,l:tt}=W;q===void 0&&(W.h=_.channel.rgb2hsl(W,"h")),X===void 0&&(W.s=_.channel.rgb2hsl(W,"s")),tt===void 0&&(W.l=_.channel.rgb2hsl(W,"l"))}_ensureRGB(){const W=this.data,{r:q,g:X,b:tt}=W;q===void 0&&(W.r=_.channel.hsl2rgb(W,"r")),X===void 0&&(W.g=_.channel.hsl2rgb(W,"g")),tt===void 0&&(W.b=_.channel.hsl2rgb(W,"b"))}get r(){const W=this.data,q=W.r;return!this.type.is(TYPE.HSL)&&q!==void 0?q:(this._ensureHSL(),_.channel.hsl2rgb(W,"r"))}get g(){const W=this.data,q=W.g;return!this.type.is(TYPE.HSL)&&q!==void 0?q:(this._ensureHSL(),_.channel.hsl2rgb(W,"g"))}get b(){const W=this.data,q=W.b;return!this.type.is(TYPE.HSL)&&q!==void 0?q:(this._ensureHSL(),_.channel.hsl2rgb(W,"b"))}get h(){const W=this.data,q=W.h;return!this.type.is(TYPE.RGB)&&q!==void 0?q:(this._ensureRGB(),_.channel.rgb2hsl(W,"h"))}get s(){const W=this.data,q=W.s;return!this.type.is(TYPE.RGB)&&q!==void 0?q:(this._ensureRGB(),_.channel.rgb2hsl(W,"s"))}get l(){const W=this.data,q=W.l;return!this.type.is(TYPE.RGB)&&q!==void 0?q:(this._ensureRGB(),_.channel.rgb2hsl(W,"l"))}get a(){return this.data.a}set r(W){this.type.set(TYPE.RGB),this.changed=!0,this.data.r=W}set g(W){this.type.set(TYPE.RGB),this.changed=!0,this.data.g=W}set b(W){this.type.set(TYPE.RGB),this.changed=!0,this.data.b=W}set h(W){this.type.set(TYPE.HSL),this.changed=!0,this.data.h=W}set s(W){this.type.set(TYPE.HSL),this.changed=!0,this.data.s=W}set l(W){this.type.set(TYPE.HSL),this.changed=!0,this.data.l=W}set a(W){this.changed=!0,this.data.a=W}}const Channels$1=Channels,channels=new Channels$1({r:0,g:0,b:0,a:0},"transparent"),ChannelsReusable=channels,Hex={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:F=>{if(F.charCodeAt(0)!==35)return;const W=F.match(Hex.re);if(!W)return;const q=W[1],X=parseInt(q,16),tt=q.length,ot=tt%4===0,at=tt>4,ut=at?1:17,wt=at?8:4,uo=ot?0:-1,mo=at?255:15;return ChannelsReusable.set({r:(X>>wt*(uo+3)&mo)*ut,g:(X>>wt*(uo+2)&mo)*ut,b:(X>>wt*(uo+1)&mo)*ut,a:ot?(X&mo)*ut/255:1},F)},stringify:F=>{const{r:W,g:q,b:X,a:tt}=F;return tt<1?`#${DEC2HEX[Math.round(W)]}${DEC2HEX[Math.round(q)]}${DEC2HEX[Math.round(X)]}${DEC2HEX[Math.round(tt*255)]}`:`#${DEC2HEX[Math.round(W)]}${DEC2HEX[Math.round(q)]}${DEC2HEX[Math.round(X)]}`}},Hex$1=Hex,HSL={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:F=>{const W=F.match(HSL.hueRe);if(W){const[,q,X]=W;switch(X){case"grad":return _.channel.clamp.h(parseFloat(q)*.9);case"rad":return _.channel.clamp.h(parseFloat(q)*180/Math.PI);case"turn":return _.channel.clamp.h(parseFloat(q)*360)}}return _.channel.clamp.h(parseFloat(F))},parse:F=>{const W=F.charCodeAt(0);if(W!==104&&W!==72)return;const q=F.match(HSL.re);if(!q)return;const[,X,tt,ot,at,ut]=q;return ChannelsReusable.set({h:HSL._hue2deg(X),s:_.channel.clamp.s(parseFloat(tt)),l:_.channel.clamp.l(parseFloat(ot)),a:at?_.channel.clamp.a(ut?parseFloat(at)/100:parseFloat(at)):1},F)},stringify:F=>{const{h:W,s:q,l:X,a:tt}=F;return tt<1?`hsla(${_.lang.round(W)}, ${_.lang.round(q)}%, ${_.lang.round(X)}%, ${tt})`:`hsl(${_.lang.round(W)}, ${_.lang.round(q)}%, ${_.lang.round(X)}%)`}},HSL$1=HSL,Keyword={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:F=>{F=F.toLowerCase();const W=Keyword.colors[F];if(W)return Hex$1.parse(W)},stringify:F=>{const W=Hex$1.stringify(F);for(const q in Keyword.colors)if(Keyword.colors[q]===W)return q}},Keyword$1=Keyword,RGB={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:F=>{const W=F.charCodeAt(0);if(W!==114&&W!==82)return;const q=F.match(RGB.re);if(!q)return;const[,X,tt,ot,at,ut,wt,uo,mo]=q;return ChannelsReusable.set({r:_.channel.clamp.r(tt?parseFloat(X)*2.55:parseFloat(X)),g:_.channel.clamp.g(at?parseFloat(ot)*2.55:parseFloat(ot)),b:_.channel.clamp.b(wt?parseFloat(ut)*2.55:parseFloat(ut)),a:uo?_.channel.clamp.a(mo?parseFloat(uo)/100:parseFloat(uo)):1},F)},stringify:F=>{const{r:W,g:q,b:X,a:tt}=F;return tt<1?`rgba(${_.lang.round(W)}, ${_.lang.round(q)}, ${_.lang.round(X)}, ${_.lang.round(tt)})`:`rgb(${_.lang.round(W)}, ${_.lang.round(q)}, ${_.lang.round(X)})`}},RGB$1=RGB,Color={format:{keyword:Keyword$1,hex:Hex$1,rgb:RGB$1,rgba:RGB$1,hsl:HSL$1,hsla:HSL$1},parse:F=>{if(typeof F!="string")return F;const W=Hex$1.parse(F)||RGB$1.parse(F)||HSL$1.parse(F)||Keyword$1.parse(F);if(W)return W;throw new Error(`Unsupported color format: "${F}"`)},stringify:F=>!F.changed&&F.color?F.color:F.type.is(TYPE.HSL)||F.data.r===void 0?HSL$1.stringify(F):F.a<1||!Number.isInteger(F.r)||!Number.isInteger(F.g)||!Number.isInteger(F.b)?RGB$1.stringify(F):Hex$1.stringify(F)},Color$1=Color,change=(F,W)=>{const q=Color$1.parse(F);for(const X in W)q[X]=_.channel.clamp[X](W[X]);return Color$1.stringify(q)},change$1=change,rgba=(F,W,q=0,X=1)=>{if(typeof F!="number")return change$1(F,{a:W});const tt=ChannelsReusable.set({r:_.channel.clamp.r(F),g:_.channel.clamp.g(W),b:_.channel.clamp.b(q),a:_.channel.clamp.a(X)});return Color$1.stringify(tt)},rgba$1=rgba,luminance=F=>{const{r:W,g:q,b:X}=Color$1.parse(F),tt=.2126*_.channel.toLinear(W)+.7152*_.channel.toLinear(q)+.0722*_.channel.toLinear(X);return _.lang.round(tt)},luminance$1=luminance,isLight=F=>luminance$1(F)>=.5,isLight$1=isLight,isDark=F=>!isLight$1(F),isDark$1=isDark,adjustChannel=(F,W,q)=>{const X=Color$1.parse(F),tt=X[W],ot=_.channel.clamp[W](tt+q);return tt!==ot&&(X[W]=ot),Color$1.stringify(X)},adjustChannel$1=adjustChannel,lighten=(F,W)=>adjustChannel$1(F,"l",W),lighten$1=lighten,darken=(F,W)=>adjustChannel$1(F,"l",-W),darken$1=darken,adjust=(F,W)=>{const q=Color$1.parse(F),X={};for(const tt in W)W[tt]&&(X[tt]=q[tt]+W[tt]);return change$1(F,X)},adjust$1=adjust,mix=(F,W,q=50)=>{const{r:X,g:tt,b:ot,a:at}=Color$1.parse(F),{r:ut,g:wt,b:uo,a:mo}=Color$1.parse(W),yo=q/100,lf=yo*2-1,uf=at-mo,wf=((lf*uf===-1?lf:(lf+uf)/(1+lf*uf))+1)/2,wo=1-wf,ls=X*wf+ut*wo,_f=tt*wf+wt*wo,po=ot*wf+uo*wo,xo=at*yo+mo*(1-yo);return rgba$1(ls,_f,po,xo)},mix$1=mix,invert=(F,W=100)=>{const q=Color$1.parse(F);return q.r=255-q.r,q.g=255-q.g,q.b=255-q.b,mix$1(q,F,W)},invert$1=invert;var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;const freeGlobal$1=freeGlobal;var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal$1||freeSelf||Function("return this")();const root$1=root;var Symbol$1=root$1.Symbol;const Symbol$2=Symbol$1;var objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty,nativeObjectToString$1=objectProto$c.toString,symToStringTag$1=Symbol$2?Symbol$2.toStringTag:void 0;function getRawTag(F){var W=hasOwnProperty$a.call(F,symToStringTag$1),q=F[symToStringTag$1];try{F[symToStringTag$1]=void 0;var X=!0}catch{}var tt=nativeObjectToString$1.call(F);return X&&(W?F[symToStringTag$1]=q:delete F[symToStringTag$1]),tt}var objectProto$b=Object.prototype,nativeObjectToString=objectProto$b.toString;function objectToString(F){return nativeObjectToString.call(F)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$2?Symbol$2.toStringTag:void 0;function baseGetTag(F){return F==null?F===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(F)?getRawTag(F):objectToString(F)}function isObject$1(F){var W=typeof F;return F!=null&&(W=="object"||W=="function")}var asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(F){if(!isObject$1(F))return!1;var W=baseGetTag(F);return W==funcTag$1||W==genTag||W==asyncTag||W==proxyTag}var coreJsData=root$1["__core-js_shared__"];const coreJsData$1=coreJsData;var maskSrcKey=function(){var F=/[^.]+$/.exec(coreJsData$1&&coreJsData$1.keys&&coreJsData$1.keys.IE_PROTO||"");return F?"Symbol(src)_1."+F:""}();function isMasked(F){return!!maskSrcKey&&maskSrcKey in F}var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(F){if(F!=null){try{return funcToString$2.call(F)}catch{}try{return F+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$a=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$9=objectProto$a.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$9).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(F){if(!isObject$1(F)||isMasked(F))return!1;var W=isFunction(F)?reIsNative:reIsHostCtor;return W.test(toSource(F))}function getValue(F,W){return F==null?void 0:F[W]}function getNative(F,W){var q=getValue(F,W);return baseIsNative(q)?q:void 0}var nativeCreate=getNative(Object,"create");const nativeCreate$1=nativeCreate;function hashClear(){this.__data__=nativeCreate$1?nativeCreate$1(null):{},this.size=0}function hashDelete(F){var W=this.has(F)&&delete this.__data__[F];return this.size-=W?1:0,W}var HASH_UNDEFINED$1="__lodash_hash_undefined__",objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function hashGet(F){var W=this.__data__;if(nativeCreate$1){var q=W[F];return q===HASH_UNDEFINED$1?void 0:q}return hasOwnProperty$8.call(W,F)?W[F]:void 0}var objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function hashHas(F){var W=this.__data__;return nativeCreate$1?W[F]!==void 0:hasOwnProperty$7.call(W,F)}var HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet(F,W){var q=this.__data__;return this.size+=this.has(F)?0:1,q[F]=nativeCreate$1&&W===void 0?HASH_UNDEFINED:W,this}function Hash(F){var W=-1,q=F==null?0:F.length;for(this.clear();++W<q;){var X=F[W];this.set(X[0],X[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function eq(F,W){return F===W||F!==F&&W!==W}function assocIndexOf(F,W){for(var q=F.length;q--;)if(eq(F[q][0],W))return q;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(F){var W=this.__data__,q=assocIndexOf(W,F);if(q<0)return!1;var X=W.length-1;return q==X?W.pop():splice.call(W,q,1),--this.size,!0}function listCacheGet(F){var W=this.__data__,q=assocIndexOf(W,F);return q<0?void 0:W[q][1]}function listCacheHas(F){return assocIndexOf(this.__data__,F)>-1}function listCacheSet(F,W){var q=this.__data__,X=assocIndexOf(q,F);return X<0?(++this.size,q.push([F,W])):q[X][1]=W,this}function ListCache(F){var W=-1,q=F==null?0:F.length;for(this.clear();++W<q;){var X=F[W];this.set(X[0],X[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root$1,"Map");const Map$2=Map$1;function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$2||ListCache),string:new Hash}}function isKeyable(F){var W=typeof F;return W=="string"||W=="number"||W=="symbol"||W=="boolean"?F!=="__proto__":F===null}function getMapData(F,W){var q=F.__data__;return isKeyable(W)?q[typeof W=="string"?"string":"hash"]:q.map}function mapCacheDelete(F){var W=getMapData(this,F).delete(F);return this.size-=W?1:0,W}function mapCacheGet(F){return getMapData(this,F).get(F)}function mapCacheHas(F){return getMapData(this,F).has(F)}function mapCacheSet(F,W){var q=getMapData(this,F),X=q.size;return q.set(F,W),this.size+=q.size==X?0:1,this}function MapCache(F){var W=-1,q=F==null?0:F.length;for(this.clear();++W<q;){var X=F[W];this.set(X[0],X[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT="Expected a function";function memoize(F,W){if(typeof F!="function"||W!=null&&typeof W!="function")throw new TypeError(FUNC_ERROR_TEXT);var q=function(){var X=arguments,tt=W?W.apply(this,X):X[0],ot=q.cache;if(ot.has(tt))return ot.get(tt);var at=F.apply(this,X);return q.cache=ot.set(tt,at)||ot,at};return q.cache=new(memoize.Cache||MapCache),q}memoize.Cache=MapCache;function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(F){var W=this.__data__,q=W.delete(F);return this.size=W.size,q}function stackGet(F){return this.__data__.get(F)}function stackHas(F){return this.__data__.has(F)}var LARGE_ARRAY_SIZE=200;function stackSet(F,W){var q=this.__data__;if(q instanceof ListCache){var X=q.__data__;if(!Map$2||X.length<LARGE_ARRAY_SIZE-1)return X.push([F,W]),this.size=++q.size,this;q=this.__data__=new MapCache(X)}return q.set(F,W),this.size=q.size,this}function Stack(F){var W=this.__data__=new ListCache(F);this.size=W.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;var defineProperty=function(){try{var F=getNative(Object,"defineProperty");return F({},"",{}),F}catch{}}();const defineProperty$1=defineProperty;function baseAssignValue(F,W,q){W=="__proto__"&&defineProperty$1?defineProperty$1(F,W,{configurable:!0,enumerable:!0,value:q,writable:!0}):F[W]=q}function assignMergeValue(F,W,q){(q!==void 0&&!eq(F[W],q)||q===void 0&&!(W in F))&&baseAssignValue(F,W,q)}function createBaseFor(F){return function(W,q,X){for(var tt=-1,ot=Object(W),at=X(W),ut=at.length;ut--;){var wt=at[F?ut:++tt];if(q(ot[wt],wt,ot)===!1)break}return W}}var baseFor=createBaseFor();const baseFor$1=baseFor;var freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$1=moduleExports$2?root$1.Buffer:void 0,allocUnsafe=Buffer$1?Buffer$1.allocUnsafe:void 0;function cloneBuffer(F,W){if(W)return F.slice();var q=F.length,X=allocUnsafe?allocUnsafe(q):new F.constructor(q);return F.copy(X),X}var Uint8Array$1=root$1.Uint8Array;const Uint8Array$2=Uint8Array$1;function cloneArrayBuffer(F){var W=new F.constructor(F.byteLength);return new Uint8Array$2(W).set(new Uint8Array$2(F)),W}function cloneTypedArray(F,W){var q=W?cloneArrayBuffer(F.buffer):F.buffer;return new F.constructor(q,F.byteOffset,F.length)}function copyArray(F,W){var q=-1,X=F.length;for(W||(W=Array(X));++q<X;)W[q]=F[q];return W}var objectCreate=Object.create,baseCreate=function(){function F(){}return function(W){if(!isObject$1(W))return{};if(objectCreate)return objectCreate(W);F.prototype=W;var q=new F;return F.prototype=void 0,q}}();const baseCreate$1=baseCreate;function overArg(F,W){return function(q){return F(W(q))}}var getPrototype=overArg(Object.getPrototypeOf,Object);const getPrototype$1=getPrototype;var objectProto$7=Object.prototype;function isPrototype(F){var W=F&&F.constructor,q=typeof W=="function"&&W.prototype||objectProto$7;return F===q}function initCloneObject(F){return typeof F.constructor=="function"&&!isPrototype(F)?baseCreate$1(getPrototype$1(F)):{}}function isObjectLike(F){return F!=null&&typeof F=="object"}var argsTag$1="[object Arguments]";function baseIsArguments(F){return isObjectLike(F)&&baseGetTag(F)==argsTag$1}var objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty,propertyIsEnumerable=objectProto$6.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(F){return isObjectLike(F)&&hasOwnProperty$6.call(F,"callee")&&!propertyIsEnumerable.call(F,"callee")};const isArguments$1=isArguments;var isArray=Array.isArray;const isArray$1=isArray;var MAX_SAFE_INTEGER$1=9007199254740991;function isLength(F){return typeof F=="number"&&F>-1&&F%1==0&&F<=MAX_SAFE_INTEGER$1}function isArrayLike(F){return F!=null&&isLength(F.length)&&!isFunction(F)}function isArrayLikeObject(F){return isObjectLike(F)&&isArrayLike(F)}function stubFalse(){return!1}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,Buffer=moduleExports$1?root$1.Buffer:void 0,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse;const isBuffer$1=isBuffer;var objectTag$2="[object Object]",funcProto=Function.prototype,objectProto$5=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$5=objectProto$5.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(F){if(!isObjectLike(F)||baseGetTag(F)!=objectTag$2)return!1;var W=getPrototype$1(F);if(W===null)return!0;var q=hasOwnProperty$5.call(W,"constructor")&&W.constructor;return typeof q=="function"&&q instanceof q&&funcToString.call(q)==objectCtorString}var argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag$2="[object Map]",numberTag="[object Number]",objectTag$1="[object Object]",regexpTag="[object RegExp]",setTag$2="[object Set]",stringTag="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag$1]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag$2]=typedArrayTags[numberTag]=typedArrayTags[objectTag$1]=typedArrayTags[regexpTag]=typedArrayTags[setTag$2]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray(F){return isObjectLike(F)&&isLength(F.length)&&!!typedArrayTags[baseGetTag(F)]}function baseUnary(F){return function(W){return F(W)}}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal$1.process,nodeUtil=function(){try{var F=freeModule&&freeModule.require&&freeModule.require("util").types;return F||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}();const nodeUtil$1=nodeUtil;var nodeIsTypedArray=nodeUtil$1&&nodeUtil$1.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;const isTypedArray$1=isTypedArray;function safeGet(F,W){if(!(W==="constructor"&&typeof F[W]=="function")&&W!="__proto__")return F[W]}var objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function assignValue(F,W,q){var X=F[W];(!(hasOwnProperty$4.call(F,W)&&eq(X,q))||q===void 0&&!(W in F))&&baseAssignValue(F,W,q)}function copyObject(F,W,q,X){var tt=!q;q||(q={});for(var ot=-1,at=W.length;++ot<at;){var ut=W[ot],wt=X?X(q[ut],F[ut],ut,q,F):void 0;wt===void 0&&(wt=F[ut]),tt?baseAssignValue(q,ut,wt):assignValue(q,ut,wt)}return q}function baseTimes(F,W){for(var q=-1,X=Array(F);++q<F;)X[q]=W(q);return X}var MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(F,W){var q=typeof F;return W=W??MAX_SAFE_INTEGER,!!W&&(q=="number"||q!="symbol"&&reIsUint.test(F))&&F>-1&&F%1==0&&F<W}var objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function arrayLikeKeys(F,W){var q=isArray$1(F),X=!q&&isArguments$1(F),tt=!q&&!X&&isBuffer$1(F),ot=!q&&!X&&!tt&&isTypedArray$1(F),at=q||X||tt||ot,ut=at?baseTimes(F.length,String):[],wt=ut.length;for(var uo in F)(W||hasOwnProperty$3.call(F,uo))&&!(at&&(uo=="length"||tt&&(uo=="offset"||uo=="parent")||ot&&(uo=="buffer"||uo=="byteLength"||uo=="byteOffset")||isIndex(uo,wt)))&&ut.push(uo);return ut}function nativeKeysIn(F){var W=[];if(F!=null)for(var q in Object(F))W.push(q);return W}var objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function baseKeysIn(F){if(!isObject$1(F))return nativeKeysIn(F);var W=isPrototype(F),q=[];for(var X in F)X=="constructor"&&(W||!hasOwnProperty$2.call(F,X))||q.push(X);return q}function keysIn(F){return isArrayLike(F)?arrayLikeKeys(F,!0):baseKeysIn(F)}function toPlainObject(F){return copyObject(F,keysIn(F))}function baseMergeDeep(F,W,q,X,tt,ot,at){var ut=safeGet(F,q),wt=safeGet(W,q),uo=at.get(wt);if(uo){assignMergeValue(F,q,uo);return}var mo=ot?ot(ut,wt,q+"",F,W,at):void 0,yo=mo===void 0;if(yo){var lf=isArray$1(wt),uf=!lf&&isBuffer$1(wt),df=!lf&&!uf&&isTypedArray$1(wt);mo=wt,lf||uf||df?isArray$1(ut)?mo=ut:isArrayLikeObject(ut)?mo=copyArray(ut):uf?(yo=!1,mo=cloneBuffer(wt,!0)):df?(yo=!1,mo=cloneTypedArray(wt,!0)):mo=[]:isPlainObject(wt)||isArguments$1(wt)?(mo=ut,isArguments$1(ut)?mo=toPlainObject(ut):(!isObject$1(ut)||isFunction(ut))&&(mo=initCloneObject(wt))):yo=!1}yo&&(at.set(wt,mo),tt(mo,wt,X,ot,at),at.delete(wt)),assignMergeValue(F,q,mo)}function baseMerge(F,W,q,X,tt){F!==W&&baseFor$1(W,function(ot,at){if(tt||(tt=new Stack),isObject$1(ot))baseMergeDeep(F,W,at,q,baseMerge,X,tt);else{var ut=X?X(safeGet(F,at),ot,at+"",F,W,tt):void 0;ut===void 0&&(ut=ot),assignMergeValue(F,at,ut)}},keysIn)}function identity(F){return F}function apply(F,W,q){switch(q.length){case 0:return F.call(W);case 1:return F.call(W,q[0]);case 2:return F.call(W,q[0],q[1]);case 3:return F.call(W,q[0],q[1],q[2])}return F.apply(W,q)}var nativeMax=Math.max;function overRest(F,W,q){return W=nativeMax(W===void 0?F.length-1:W,0),function(){for(var X=arguments,tt=-1,ot=nativeMax(X.length-W,0),at=Array(ot);++tt<ot;)at[tt]=X[W+tt];tt=-1;for(var ut=Array(W+1);++tt<W;)ut[tt]=X[tt];return ut[W]=q(at),apply(F,this,ut)}}function constant(F){return function(){return F}}var baseSetToString=defineProperty$1?function(F,W){return defineProperty$1(F,"toString",{configurable:!0,enumerable:!1,value:constant(W),writable:!0})}:identity;const baseSetToString$1=baseSetToString;var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(F){var W=0,q=0;return function(){var X=nativeNow(),tt=HOT_SPAN-(X-q);if(q=X,tt>0){if(++W>=HOT_COUNT)return arguments[0]}else W=0;return F.apply(void 0,arguments)}}var setToString=shortOut(baseSetToString$1);const setToString$1=setToString;function baseRest(F,W){return setToString$1(overRest(F,W,identity),F+"")}function isIterateeCall(F,W,q){if(!isObject$1(q))return!1;var X=typeof W;return(X=="number"?isArrayLike(q)&&isIndex(W,q.length):X=="string"&&W in q)?eq(q[W],F):!1}function createAssigner(F){return baseRest(function(W,q){var X=-1,tt=q.length,ot=tt>1?q[tt-1]:void 0,at=tt>2?q[2]:void 0;for(ot=F.length>3&&typeof ot=="function"?(tt--,ot):void 0,at&&isIterateeCall(q[0],q[1],at)&&(ot=tt<3?void 0:ot,tt=1),W=Object(W);++X<tt;){var ut=q[X];ut&&F(W,ut,X,ot)}return W})}var merge$1=createAssigner(function(F,W,q){baseMerge(F,W,q)});const merge$2=merge$1;var COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode;function trim$1(F){return F.trim()}function replace(F,W,q){return F.replace(W,q)}function indexof(F,W){return F.indexOf(W)}function charat(F,W){return F.charCodeAt(W)|0}function substr(F,W,q){return F.slice(W,q)}function strlen(F){return F.length}function sizeof(F){return F.length}function append(F,W){return W.push(F),F}var line=1,column=1,length$1=0,position=0,character=0,characters="";function node(F,W,q,X,tt,ot,at){return{value:F,root:W,parent:q,type:X,props:tt,children:ot,line,column,length:at,return:""}}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length$1?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(F,W){return substr(characters,F,W)}function token(F){switch(F){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(F){return line=column=1,length$1=strlen(characters=F),position=0,[]}function dealloc(F){return characters="",F}function delimit(F){return trim$1(slice(position-1,delimiter(F===91?F+2:F===40?F+1:F)))}function whitespace(F){for(;(character=peek())&&character<33;)next();return token(F)>2||token(character)>3?"":" "}function escaping(F,W){for(;--W&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(F,caret()+(W<6&&peek()==32&&next()==32))}function delimiter(F){for(;next();)switch(character){case F:return position;case 34:case 39:F!==34&&F!==39&&delimiter(character);break;case 40:F===41&&delimiter(F);break;case 92:next();break}return position}function commenter(F,W){for(;next()&&F+character!==47+10;)if(F+character===42+42&&peek()===47)break;return"/*"+slice(W,position-1)+"*"+from(F===47?F:next())}function identifier(F){for(;!token(peek());)next();return slice(F,position)}function compile(F){return dealloc(parse$2("",null,null,null,[""],F=alloc(F),0,[0],F))}function parse$2(F,W,q,X,tt,ot,at,ut,wt){for(var uo=0,mo=0,yo=at,lf=0,uf=0,df=0,wf=1,wo=1,ls=1,_f=0,po="",xo=tt,gf=ot,cf=X,yf=po;wo;)switch(df=_f,_f=next()){case 40:if(df!=108&&charat(yf,yo-1)==58){indexof(yf+=replace(delimit(_f),"&","&\f"),"&\f")!=-1&&(ls=-1);break}case 34:case 39:case 91:yf+=delimit(_f);break;case 9:case 10:case 13:case 32:yf+=whitespace(df);break;case 92:yf+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),W,q),wt);break;default:yf+="/"}break;case 123*wf:ut[uo++]=strlen(yf)*ls;case 125*wf:case 59:case 0:switch(_f){case 0:case 125:wo=0;case 59+mo:ls==-1&&(yf=replace(yf,/\f/g,"")),uf>0&&strlen(yf)-yo&&append(uf>32?declaration(yf+";",X,q,yo-1):declaration(replace(yf," ","")+";",X,q,yo-2),wt);break;case 59:yf+=";";default:if(append(cf=ruleset(yf,W,q,uo,mo,tt,ut,po,xo=[],gf=[],yo),ot),_f===123)if(mo===0)parse$2(yf,W,cf,cf,xo,ot,yo,ut,gf);else switch(lf===99&&charat(yf,3)===110?100:lf){case 100:case 108:case 109:case 115:parse$2(F,cf,cf,X&&append(ruleset(F,cf,cf,0,0,tt,ut,po,tt,xo=[],yo),gf),tt,gf,yo,ut,X?xo:gf);break;default:parse$2(yf,cf,cf,cf,[""],gf,0,ut,gf)}}uo=mo=uf=0,wf=ls=1,po=yf="",yo=at;break;case 58:yo=1+strlen(yf),uf=df;default:if(wf<1){if(_f==123)--wf;else if(_f==125&&wf++==0&&prev()==125)continue}switch(yf+=from(_f),_f*wf){case 38:ls=mo>0?1:(yf+="\f",-1);break;case 44:ut[uo++]=(strlen(yf)-1)*ls,ls=1;break;case 64:peek()===45&&(yf+=delimit(next())),lf=peek(),mo=yo=strlen(po=yf+=identifier(caret())),_f++;break;case 45:df===45&&strlen(yf)==2&&(wf=0)}}return ot}function ruleset(F,W,q,X,tt,ot,at,ut,wt,uo,mo){for(var yo=tt-1,lf=tt===0?ot:[""],uf=sizeof(lf),df=0,wf=0,wo=0;df<X;++df)for(var ls=0,_f=substr(F,yo+1,yo=abs(wf=at[df])),po=F;ls<uf;++ls)(po=trim$1(wf>0?lf[ls]+" "+_f:replace(_f,/&\f/g,lf[ls])))&&(wt[wo++]=po);return node(F,W,q,tt===0?RULESET:ut,wt,uo,mo)}function comment(F,W,q){return node(F,W,q,COMMENT,from(char()),substr(F,2,-2),0)}function declaration(F,W,q,X){return node(F,W,q,DECLARATION,substr(F,0,X),substr(F,X+1,-1),X)}function serialize(F,W){for(var q="",X=sizeof(F),tt=0;tt<X;tt++)q+=W(F[tt],tt,F,W)||"";return q}function stringify(F,W,q,X){switch(F.type){case LAYER:if(F.children.length)break;case IMPORT:case DECLARATION:return F.return=F.return||F.value;case COMMENT:return"";case KEYFRAMES:return F.return=F.value+"{"+serialize(F.children,X)+"}";case RULESET:F.value=F.props.join(",")}return strlen(q=serialize(F.children,X))?F.return=F.value+"{"+q+"}":""}var nativeKeys=overArg(Object.keys,Object);const nativeKeys$1=nativeKeys;var objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function baseKeys(F){if(!isPrototype(F))return nativeKeys$1(F);var W=[];for(var q in Object(F))hasOwnProperty$1.call(F,q)&&q!="constructor"&&W.push(q);return W}var DataView$1=getNative(root$1,"DataView");const DataView$2=DataView$1;var Promise$1=getNative(root$1,"Promise");const Promise$2=Promise$1;var Set$1=getNative(root$1,"Set");const Set$2=Set$1;var WeakMap$1=getNative(root$1,"WeakMap");const WeakMap$2=WeakMap$1;var mapTag$1="[object Map]",objectTag="[object Object]",promiseTag="[object Promise]",setTag$1="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$2),mapCtorString=toSource(Map$2),promiseCtorString=toSource(Promise$2),setCtorString=toSource(Set$2),weakMapCtorString=toSource(WeakMap$2),getTag=baseGetTag;(DataView$2&&getTag(new DataView$2(new ArrayBuffer(1)))!=dataViewTag||Map$2&&getTag(new Map$2)!=mapTag$1||Promise$2&&getTag(Promise$2.resolve())!=promiseTag||Set$2&&getTag(new Set$2)!=setTag$1||WeakMap$2&&getTag(new WeakMap$2)!=weakMapTag)&&(getTag=function(F){var W=baseGetTag(F),q=W==objectTag?F.constructor:void 0,X=q?toSource(q):"";if(X)switch(X){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag$1;case promiseCtorString:return promiseTag;case setCtorString:return setTag$1;case weakMapCtorString:return weakMapTag}return W});const getTag$1=getTag;var mapTag="[object Map]",setTag="[object Set]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function isEmpty(F){if(F==null)return!0;if(isArrayLike(F)&&(isArray$1(F)||typeof F=="string"||typeof F.splice=="function"||isBuffer$1(F)||isTypedArray$1(F)||isArguments$1(F)))return!F.length;var W=getTag$1(F);if(W==mapTag||W==setTag)return!F.size;if(isPrototype(F))return!baseKeys(F).length;for(var q in F)if(hasOwnProperty.call(F,q))return!1;return!0}const LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},log$1={trace:(...F)=>{},debug:(...F)=>{},info:(...F)=>{},warn:(...F)=>{},error:(...F)=>{},fatal:(...F)=>{}},setLogLevel$1=function(F="fatal"){let W=LEVELS.fatal;typeof F=="string"?(F=F.toLowerCase(),F in LEVELS&&(W=LEVELS[F])):typeof F=="number"&&(W=F),log$1.trace=()=>{},log$1.debug=()=>{},log$1.info=()=>{},log$1.warn=()=>{},log$1.error=()=>{},log$1.fatal=()=>{},W<=LEVELS.fatal&&(log$1.fatal=console.error?console.error.bind(console,format("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",format("FATAL"))),W<=LEVELS.error&&(log$1.error=console.error?console.error.bind(console,format("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",format("ERROR"))),W<=LEVELS.warn&&(log$1.warn=console.warn?console.warn.bind(console,format("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",format("WARN"))),W<=LEVELS.info&&(log$1.info=console.info?console.info.bind(console,format("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",format("INFO"))),W<=LEVELS.debug&&(log$1.debug=console.debug?console.debug.bind(console,format("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",format("DEBUG"))),W<=LEVELS.trace&&(log$1.trace=console.debug?console.debug.bind(console,format("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",format("TRACE")))},format=F=>`%c${dayjs().format("ss.SSS")} : ${F} : `,lineBreakRegex=/<br\s*\/?>/gi,getRows=F=>F?breakToPlaceholder(F).replace(/\\n/g,"#br#").split("#br#"):[""],setupDompurifyHooksIfNotSetup=(()=>{let F=!1;return()=>{F||(setupDompurifyHooks(),F=!0)}})();function setupDompurifyHooks(){const F="data-temp-href-target";purify.addHook("beforeSanitizeAttributes",W=>{W.tagName==="A"&&W.hasAttribute("target")&&W.setAttribute(F,W.getAttribute("target")||"")}),purify.addHook("afterSanitizeAttributes",W=>{W.tagName==="A"&&W.hasAttribute(F)&&(W.setAttribute("target",W.getAttribute(F)||""),W.removeAttribute(F),W.getAttribute("target")==="_blank"&&W.setAttribute("rel","noopener"))})}const removeScript=F=>(setupDompurifyHooksIfNotSetup(),purify.sanitize(F)),sanitizeMore=(F,W)=>{var q;if(((q=W.flowchart)==null?void 0:q.htmlLabels)!==!1){const X=W.securityLevel;X==="antiscript"||X==="strict"?F=removeScript(F):X!=="loose"&&(F=breakToPlaceholder(F),F=F.replace(/</g,"&lt;").replace(/>/g,"&gt;"),F=F.replace(/=/g,"&equals;"),F=placeholderToBreak(F))}return F},sanitizeText$2=(F,W)=>F&&(W.dompurifyConfig?F=purify.sanitize(sanitizeMore(F,W),W.dompurifyConfig).toString():F=purify.sanitize(sanitizeMore(F,W),{FORBID_TAGS:["style"]}).toString(),F),sanitizeTextOrArray=(F,W)=>typeof F=="string"?sanitizeText$2(F,W):F.flat().map(q=>sanitizeText$2(q,W)),hasBreaks=F=>lineBreakRegex.test(F),splitBreaks=F=>F.split(lineBreakRegex),placeholderToBreak=F=>F.replace(/#br#/g,"<br/>"),breakToPlaceholder=F=>F.replace(lineBreakRegex,"#br#"),getUrl=F=>{let W="";return F&&(W=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,W=W.replaceAll(/\(/g,"\\("),W=W.replaceAll(/\)/g,"\\)")),W},evaluate=F=>!(F===!1||["false","null","0"].includes(String(F).trim().toLowerCase())),getMax=function(...F){const W=F.filter(q=>!isNaN(q));return Math.max(...W)},getMin=function(...F){const W=F.filter(q=>!isNaN(q));return Math.min(...W)},parseGenericTypes=function(F){const W=F.split(/(,)/),q=[];for(let X=0;X<W.length;X++){let tt=W[X];if(tt===","&&X>0&&X+1<W.length){const ot=W[X-1],at=W[X+1];shouldCombineSets(ot,at)&&(tt=ot+","+at,X++,q.pop())}q.push(processSet(tt))}return q.join("")},countOccurrence=(F,W)=>Math.max(0,F.split(W).length-1),shouldCombineSets=(F,W)=>{const q=countOccurrence(F,"~"),X=countOccurrence(W,"~");return q===1&&X===1},processSet=F=>{const W=countOccurrence(F,"~");let q=!1;if(W<=1)return F;W%2!==0&&F.startsWith("~")&&(F=F.substring(1),q=!0);const X=[...F];let tt=X.indexOf("~"),ot=X.lastIndexOf("~");for(;tt!==-1&&ot!==-1&&tt!==ot;)X[tt]="<",X[ot]=">",tt=X.indexOf("~"),ot=X.lastIndexOf("~");return q&&X.unshift("~"),X.join("")},isMathMLSupported=()=>window.MathMLElement!==void 0,katexRegex=/\$\$(.*)\$\$/g,hasKatex=F=>{var W;return(((W=F.match(katexRegex))==null?void 0:W.length)??0)>0},calculateMathMLDimensions=async(F,W)=>{F=await renderKatex(F,W);const q=document.createElement("div");q.innerHTML=F,q.id="katex-temp",q.style.visibility="hidden",q.style.position="absolute",q.style.top="0";const X=document.querySelector("body");X==null||X.insertAdjacentElement("beforeend",q);const tt={width:q.clientWidth,height:q.clientHeight};return q.remove(),tt},renderKatex=async(F,W)=>{if(!hasKatex(F))return F;if(!isMathMLSupported()&&!W.legacyMathML)return F.replace(katexRegex,"MathML is unsupported in this environment.");const{default:q}=await __vitePreload(()=>import("./katex-3eb4982e.js"),[]);return F.split(lineBreakRegex).map(X=>hasKatex(X)?`
            <div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">
              ${X}
            </div>
          `:`<div>${X}</div>`).join("").replace(katexRegex,(X,tt)=>q.renderToString(tt,{throwOnError:!0,displayMode:!0,output:isMathMLSupported()?"mathml":"htmlAndMathml"}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))},common$1={getRows,sanitizeText:sanitizeText$2,sanitizeTextOrArray,hasBreaks,splitBreaks,lineBreakRegex,removeScript,getUrl,evaluate,getMax,getMin},mkBorder=(F,W)=>W?adjust$1(F,{s:-40,l:10}):adjust$1(F,{s:-40,l:-10}),oldAttributeBackgroundColorOdd="#ffffff",oldAttributeBackgroundColorEven="#f2f2f2";let Theme$4=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var W,q,X,tt,ot,at,ut,wt,uo,mo,yo;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||adjust$1(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||adjust$1(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||mkBorder(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||mkBorder(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||invert$1(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||invert$1(this.tertiaryColor),this.lineColor=this.lineColor||invert$1(this.background),this.arrowheadColor=this.arrowheadColor||invert$1(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?darken$1(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||darken$1(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||invert$1(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||lighten$1(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust$1(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust$1(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust$1(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust$1(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust$1(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust$1(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||adjust$1(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust$1(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust$1(this.primaryColor,{h:330}),this.darkMode)for(let uf=0;uf<this.THEME_COLOR_LIMIT;uf++)this["cScale"+uf]=darken$1(this["cScale"+uf],75);else for(let uf=0;uf<this.THEME_COLOR_LIMIT;uf++)this["cScale"+uf]=darken$1(this["cScale"+uf],25);for(let uf=0;uf<this.THEME_COLOR_LIMIT;uf++)this["cScaleInv"+uf]=this["cScaleInv"+uf]||invert$1(this["cScale"+uf]);for(let uf=0;uf<this.THEME_COLOR_LIMIT;uf++)this.darkMode?this["cScalePeer"+uf]=this["cScalePeer"+uf]||lighten$1(this["cScale"+uf],10):this["cScalePeer"+uf]=this["cScalePeer"+uf]||darken$1(this["cScale"+uf],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let uf=0;uf<this.THEME_COLOR_LIMIT;uf++)this["cScaleLabel"+uf]=this["cScaleLabel"+uf]||this.scaleLabelColor;const lf=this.darkMode?-4:-1;for(let uf=0;uf<5;uf++)this["surface"+uf]=this["surface"+uf]||adjust$1(this.mainBkg,{h:180,s:-15,l:lf*(5+uf*3)}),this["surfacePeer"+uf]=this["surfacePeer"+uf]||adjust$1(this.mainBkg,{h:180,s:-15,l:lf*(8+uf*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||adjust$1(this.primaryColor,{h:64}),this.fillType3=this.fillType3||adjust$1(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||adjust$1(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||adjust$1(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||adjust$1(this.primaryColor,{h:128}),this.fillType7=this.fillType7||adjust$1(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||adjust$1(this.primaryColor,{l:-10}),this.pie5=this.pie5||adjust$1(this.secondaryColor,{l:-10}),this.pie6=this.pie6||adjust$1(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||adjust$1(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||adjust$1(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||adjust$1(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||adjust$1(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||adjust$1(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||adjust$1(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust$1(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust$1(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust$1(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust$1(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust$1(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust$1(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark$1(this.quadrant1Fill)?lighten$1(this.quadrant1Fill):darken$1(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((W=this.xyChart)==null?void 0:W.backgroundColor)||this.background,titleColor:((q=this.xyChart)==null?void 0:q.titleColor)||this.primaryTextColor,xAxisTitleColor:((X=this.xyChart)==null?void 0:X.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((tt=this.xyChart)==null?void 0:tt.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((ot=this.xyChart)==null?void 0:ot.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((at=this.xyChart)==null?void 0:at.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((ut=this.xyChart)==null?void 0:ut.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((wt=this.xyChart)==null?void 0:wt.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((uo=this.xyChart)==null?void 0:uo.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((mo=this.xyChart)==null?void 0:mo.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((yo=this.xyChart)==null?void 0:yo.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?darken$1(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust$1(this.primaryColor,{h:-30}),this.git4=this.git4||adjust$1(this.primaryColor,{h:-60}),this.git5=this.git5||adjust$1(this.primaryColor,{h:-90}),this.git6=this.git6||adjust$1(this.primaryColor,{h:60}),this.git7=this.git7||adjust$1(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten$1(this.git0,25),this.git1=lighten$1(this.git1,25),this.git2=lighten$1(this.git2,25),this.git3=lighten$1(this.git3,25),this.git4=lighten$1(this.git4,25),this.git5=lighten$1(this.git5,25),this.git6=lighten$1(this.git6,25),this.git7=lighten$1(this.git7,25)):(this.git0=darken$1(this.git0,25),this.git1=darken$1(this.git1,25),this.git2=darken$1(this.git2,25),this.git3=darken$1(this.git3,25),this.git4=darken$1(this.git4,25),this.git5=darken$1(this.git5,25),this.git6=darken$1(this.git6,25),this.git7=darken$1(this.git7,25)),this.gitInv0=this.gitInv0||invert$1(this.git0),this.gitInv1=this.gitInv1||invert$1(this.git1),this.gitInv2=this.gitInv2||invert$1(this.git2),this.gitInv3=this.gitInv3||invert$1(this.git3),this.gitInv4=this.gitInv4||invert$1(this.git4),this.gitInv5=this.gitInv5||invert$1(this.git5),this.gitInv6=this.gitInv6||invert$1(this.git6),this.gitInv7=this.gitInv7||invert$1(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(W){if(typeof W!="object"){this.updateColors();return}const q=Object.keys(W);q.forEach(X=>{this[X]=W[X]}),this.updateColors(),q.forEach(X=>{this[X]=W[X]})}};const getThemeVariables$4=F=>{const W=new Theme$4;return W.calculate(F),W};let Theme$3=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=lighten$1(this.primaryColor,16),this.tertiaryColor=adjust$1(this.primaryColor,{h:-160}),this.primaryBorderColor=invert$1(this.background),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert$1(this.primaryColor),this.secondaryTextColor=invert$1(this.secondaryColor),this.tertiaryTextColor=invert$1(this.tertiaryColor),this.lineColor=invert$1(this.background),this.textColor=invert$1(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=lighten$1(invert$1("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=rgba$1(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=darken$1("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=darken$1(this.sectionBkgColor,10),this.taskBorderColor=rgba$1(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=rgba$1(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var W,q,X,tt,ot,at,ut,wt,uo,mo,yo;this.secondBkg=lighten$1(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=lighten$1(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=lighten$1(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust$1(this.primaryColor,{h:64}),this.fillType3=adjust$1(this.secondaryColor,{h:64}),this.fillType4=adjust$1(this.primaryColor,{h:-64}),this.fillType5=adjust$1(this.secondaryColor,{h:-64}),this.fillType6=adjust$1(this.primaryColor,{h:128}),this.fillType7=adjust$1(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust$1(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust$1(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust$1(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust$1(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust$1(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust$1(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust$1(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust$1(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust$1(this.primaryColor,{h:330});for(let lf=0;lf<this.THEME_COLOR_LIMIT;lf++)this["cScaleInv"+lf]=this["cScaleInv"+lf]||invert$1(this["cScale"+lf]);for(let lf=0;lf<this.THEME_COLOR_LIMIT;lf++)this["cScalePeer"+lf]=this["cScalePeer"+lf]||lighten$1(this["cScale"+lf],10);for(let lf=0;lf<5;lf++)this["surface"+lf]=this["surface"+lf]||adjust$1(this.mainBkg,{h:30,s:-30,l:-(-10+lf*4)}),this["surfacePeer"+lf]=this["surfacePeer"+lf]||adjust$1(this.mainBkg,{h:30,s:-30,l:-(-7+lf*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let lf=0;lf<this.THEME_COLOR_LIMIT;lf++)this["cScaleLabel"+lf]=this["cScaleLabel"+lf]||this.scaleLabelColor;for(let lf=0;lf<this.THEME_COLOR_LIMIT;lf++)this["pie"+lf]=this["cScale"+lf];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust$1(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust$1(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust$1(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust$1(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust$1(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust$1(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark$1(this.quadrant1Fill)?lighten$1(this.quadrant1Fill):darken$1(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((W=this.xyChart)==null?void 0:W.backgroundColor)||this.background,titleColor:((q=this.xyChart)==null?void 0:q.titleColor)||this.primaryTextColor,xAxisTitleColor:((X=this.xyChart)==null?void 0:X.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((tt=this.xyChart)==null?void 0:tt.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((ot=this.xyChart)==null?void 0:ot.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((at=this.xyChart)==null?void 0:at.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((ut=this.xyChart)==null?void 0:ut.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((wt=this.xyChart)==null?void 0:wt.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((uo=this.xyChart)==null?void 0:uo.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((mo=this.xyChart)==null?void 0:mo.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((yo=this.xyChart)==null?void 0:yo.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?darken$1(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=lighten$1(this.secondaryColor,20),this.git1=lighten$1(this.pie2||this.secondaryColor,20),this.git2=lighten$1(this.pie3||this.tertiaryColor,20),this.git3=lighten$1(this.pie4||adjust$1(this.primaryColor,{h:-30}),20),this.git4=lighten$1(this.pie5||adjust$1(this.primaryColor,{h:-60}),20),this.git5=lighten$1(this.pie6||adjust$1(this.primaryColor,{h:-90}),10),this.git6=lighten$1(this.pie7||adjust$1(this.primaryColor,{h:60}),10),this.git7=lighten$1(this.pie8||adjust$1(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||invert$1(this.git0),this.gitInv1=this.gitInv1||invert$1(this.git1),this.gitInv2=this.gitInv2||invert$1(this.git2),this.gitInv3=this.gitInv3||invert$1(this.git3),this.gitInv4=this.gitInv4||invert$1(this.git4),this.gitInv5=this.gitInv5||invert$1(this.git5),this.gitInv6=this.gitInv6||invert$1(this.git6),this.gitInv7=this.gitInv7||invert$1(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert$1(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert$1(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||lighten$1(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||lighten$1(this.background,2)}calculate(W){if(typeof W!="object"){this.updateColors();return}const q=Object.keys(W);q.forEach(X=>{this[X]=W[X]}),this.updateColors(),q.forEach(X=>{this[X]=W[X]})}};const getThemeVariables$3=F=>{const W=new Theme$3;return W.calculate(F),W};let Theme$2=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=adjust$1(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=adjust$1(this.primaryColor,{h:-160}),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert$1(this.primaryColor),this.secondaryTextColor=invert$1(this.secondaryColor),this.tertiaryTextColor=invert$1(this.tertiaryColor),this.lineColor=invert$1(this.background),this.textColor=invert$1(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=rgba$1(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var W,q,X,tt,ot,at,ut,wt,uo,mo,yo;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust$1(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust$1(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust$1(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust$1(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust$1(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust$1(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust$1(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust$1(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust$1(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||darken$1(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||darken$1(this.tertiaryColor,40);for(let lf=0;lf<this.THEME_COLOR_LIMIT;lf++)this["cScale"+lf]=darken$1(this["cScale"+lf],10),this["cScalePeer"+lf]=this["cScalePeer"+lf]||darken$1(this["cScale"+lf],25);for(let lf=0;lf<this.THEME_COLOR_LIMIT;lf++)this["cScaleInv"+lf]=this["cScaleInv"+lf]||adjust$1(this["cScale"+lf],{h:180});for(let lf=0;lf<5;lf++)this["surface"+lf]=this["surface"+lf]||adjust$1(this.mainBkg,{h:30,l:-(5+lf*5)}),this["surfacePeer"+lf]=this["surfacePeer"+lf]||adjust$1(this.mainBkg,{h:30,l:-(7+lf*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||invert$1(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||invert$1(this.labelTextColor);for(let lf=0;lf<this.THEME_COLOR_LIMIT;lf++)this["cScaleLabel"+lf]=this["cScaleLabel"+lf]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=lighten$1(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust$1(this.primaryColor,{h:64}),this.fillType3=adjust$1(this.secondaryColor,{h:64}),this.fillType4=adjust$1(this.primaryColor,{h:-64}),this.fillType5=adjust$1(this.secondaryColor,{h:-64}),this.fillType6=adjust$1(this.primaryColor,{h:128}),this.fillType7=adjust$1(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||adjust$1(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||adjust$1(this.primaryColor,{l:-10}),this.pie5=this.pie5||adjust$1(this.secondaryColor,{l:-30}),this.pie6=this.pie6||adjust$1(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||adjust$1(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||adjust$1(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||adjust$1(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||adjust$1(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||adjust$1(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||adjust$1(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust$1(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust$1(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust$1(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust$1(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust$1(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust$1(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark$1(this.quadrant1Fill)?lighten$1(this.quadrant1Fill):darken$1(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((W=this.xyChart)==null?void 0:W.backgroundColor)||this.background,titleColor:((q=this.xyChart)==null?void 0:q.titleColor)||this.primaryTextColor,xAxisTitleColor:((X=this.xyChart)==null?void 0:X.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((tt=this.xyChart)==null?void 0:tt.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((ot=this.xyChart)==null?void 0:ot.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((at=this.xyChart)==null?void 0:at.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((ut=this.xyChart)==null?void 0:ut.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((wt=this.xyChart)==null?void 0:wt.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((uo=this.xyChart)==null?void 0:uo.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((mo=this.xyChart)==null?void 0:mo.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((yo=this.xyChart)==null?void 0:yo.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust$1(this.primaryColor,{h:-30}),this.git4=this.git4||adjust$1(this.primaryColor,{h:-60}),this.git5=this.git5||adjust$1(this.primaryColor,{h:-90}),this.git6=this.git6||adjust$1(this.primaryColor,{h:60}),this.git7=this.git7||adjust$1(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten$1(this.git0,25),this.git1=lighten$1(this.git1,25),this.git2=lighten$1(this.git2,25),this.git3=lighten$1(this.git3,25),this.git4=lighten$1(this.git4,25),this.git5=lighten$1(this.git5,25),this.git6=lighten$1(this.git6,25),this.git7=lighten$1(this.git7,25)):(this.git0=darken$1(this.git0,25),this.git1=darken$1(this.git1,25),this.git2=darken$1(this.git2,25),this.git3=darken$1(this.git3,25),this.git4=darken$1(this.git4,25),this.git5=darken$1(this.git5,25),this.git6=darken$1(this.git6,25),this.git7=darken$1(this.git7,25)),this.gitInv0=this.gitInv0||darken$1(invert$1(this.git0),25),this.gitInv1=this.gitInv1||invert$1(this.git1),this.gitInv2=this.gitInv2||invert$1(this.git2),this.gitInv3=this.gitInv3||invert$1(this.git3),this.gitInv4=this.gitInv4||invert$1(this.git4),this.gitInv5=this.gitInv5||invert$1(this.git5),this.gitInv6=this.gitInv6||invert$1(this.git6),this.gitInv7=this.gitInv7||invert$1(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert$1(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert$1(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(W){if(typeof W!="object"){this.updateColors();return}const q=Object.keys(W);q.forEach(X=>{this[X]=W[X]}),this.updateColors(),q.forEach(X=>{this[X]=W[X]})}};const getThemeVariables$2=F=>{const W=new Theme$2;return W.calculate(F),W};let Theme$1=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=lighten$1("#cde498",10),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert$1(this.primaryColor),this.secondaryTextColor=invert$1(this.secondaryColor),this.tertiaryTextColor=invert$1(this.primaryColor),this.lineColor=invert$1(this.background),this.textColor=invert$1(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var W,q,X,tt,ot,at,ut,wt,uo,mo,yo;this.actorBorder=darken$1(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust$1(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust$1(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust$1(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust$1(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust$1(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust$1(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust$1(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust$1(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust$1(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||darken$1(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||darken$1(this.tertiaryColor,40);for(let lf=0;lf<this.THEME_COLOR_LIMIT;lf++)this["cScale"+lf]=darken$1(this["cScale"+lf],10),this["cScalePeer"+lf]=this["cScalePeer"+lf]||darken$1(this["cScale"+lf],25);for(let lf=0;lf<this.THEME_COLOR_LIMIT;lf++)this["cScaleInv"+lf]=this["cScaleInv"+lf]||adjust$1(this["cScale"+lf],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let lf=0;lf<this.THEME_COLOR_LIMIT;lf++)this["cScaleLabel"+lf]=this["cScaleLabel"+lf]||this.scaleLabelColor;for(let lf=0;lf<5;lf++)this["surface"+lf]=this["surface"+lf]||adjust$1(this.mainBkg,{h:30,s:-30,l:-(5+lf*5)}),this["surfacePeer"+lf]=this["surfacePeer"+lf]||adjust$1(this.mainBkg,{h:30,s:-30,l:-(8+lf*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust$1(this.primaryColor,{h:64}),this.fillType3=adjust$1(this.secondaryColor,{h:64}),this.fillType4=adjust$1(this.primaryColor,{h:-64}),this.fillType5=adjust$1(this.secondaryColor,{h:-64}),this.fillType6=adjust$1(this.primaryColor,{h:128}),this.fillType7=adjust$1(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||adjust$1(this.primaryColor,{l:-30}),this.pie5=this.pie5||adjust$1(this.secondaryColor,{l:-30}),this.pie6=this.pie6||adjust$1(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||adjust$1(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||adjust$1(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||adjust$1(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||adjust$1(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||adjust$1(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||adjust$1(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust$1(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust$1(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust$1(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust$1(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust$1(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust$1(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark$1(this.quadrant1Fill)?lighten$1(this.quadrant1Fill):darken$1(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((W=this.xyChart)==null?void 0:W.backgroundColor)||this.background,titleColor:((q=this.xyChart)==null?void 0:q.titleColor)||this.primaryTextColor,xAxisTitleColor:((X=this.xyChart)==null?void 0:X.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((tt=this.xyChart)==null?void 0:tt.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((ot=this.xyChart)==null?void 0:ot.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((at=this.xyChart)==null?void 0:at.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((ut=this.xyChart)==null?void 0:ut.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((wt=this.xyChart)==null?void 0:wt.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((uo=this.xyChart)==null?void 0:uo.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((mo=this.xyChart)==null?void 0:mo.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((yo=this.xyChart)==null?void 0:yo.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust$1(this.primaryColor,{h:-30}),this.git4=this.git4||adjust$1(this.primaryColor,{h:-60}),this.git5=this.git5||adjust$1(this.primaryColor,{h:-90}),this.git6=this.git6||adjust$1(this.primaryColor,{h:60}),this.git7=this.git7||adjust$1(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten$1(this.git0,25),this.git1=lighten$1(this.git1,25),this.git2=lighten$1(this.git2,25),this.git3=lighten$1(this.git3,25),this.git4=lighten$1(this.git4,25),this.git5=lighten$1(this.git5,25),this.git6=lighten$1(this.git6,25),this.git7=lighten$1(this.git7,25)):(this.git0=darken$1(this.git0,25),this.git1=darken$1(this.git1,25),this.git2=darken$1(this.git2,25),this.git3=darken$1(this.git3,25),this.git4=darken$1(this.git4,25),this.git5=darken$1(this.git5,25),this.git6=darken$1(this.git6,25),this.git7=darken$1(this.git7,25)),this.gitInv0=this.gitInv0||invert$1(this.git0),this.gitInv1=this.gitInv1||invert$1(this.git1),this.gitInv2=this.gitInv2||invert$1(this.git2),this.gitInv3=this.gitInv3||invert$1(this.git3),this.gitInv4=this.gitInv4||invert$1(this.git4),this.gitInv5=this.gitInv5||invert$1(this.git5),this.gitInv6=this.gitInv6||invert$1(this.git6),this.gitInv7=this.gitInv7||invert$1(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert$1(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert$1(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(W){if(typeof W!="object"){this.updateColors();return}const q=Object.keys(W);q.forEach(X=>{this[X]=W[X]}),this.updateColors(),q.forEach(X=>{this[X]=W[X]})}};const getThemeVariables$1=F=>{const W=new Theme$1;return W.calculate(F),W};class Theme5{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=lighten$1(this.contrast,55),this.background="#ffffff",this.tertiaryColor=adjust$1(this.primaryColor,{h:-160}),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert$1(this.primaryColor),this.secondaryTextColor=invert$1(this.secondaryColor),this.tertiaryTextColor=invert$1(this.tertiaryColor),this.lineColor=invert$1(this.background),this.textColor=invert$1(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var W,q,X,tt,ot,at,ut,wt,uo,mo,yo;this.secondBkg=lighten$1(this.contrast,55),this.border2=this.contrast,this.actorBorder=lighten$1(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let lf=0;lf<this.THEME_COLOR_LIMIT;lf++)this["cScaleInv"+lf]=this["cScaleInv"+lf]||invert$1(this["cScale"+lf]);for(let lf=0;lf<this.THEME_COLOR_LIMIT;lf++)this.darkMode?this["cScalePeer"+lf]=this["cScalePeer"+lf]||lighten$1(this["cScale"+lf],10):this["cScalePeer"+lf]=this["cScalePeer"+lf]||darken$1(this["cScale"+lf],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let lf=0;lf<this.THEME_COLOR_LIMIT;lf++)this["cScaleLabel"+lf]=this["cScaleLabel"+lf]||this.scaleLabelColor;for(let lf=0;lf<5;lf++)this["surface"+lf]=this["surface"+lf]||adjust$1(this.mainBkg,{l:-(5+lf*5)}),this["surfacePeer"+lf]=this["surfacePeer"+lf]||adjust$1(this.mainBkg,{l:-(8+lf*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=lighten$1(this.contrast,30),this.sectionBkgColor2=lighten$1(this.contrast,30),this.taskBorderColor=darken$1(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=lighten$1(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=darken$1(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust$1(this.primaryColor,{h:64}),this.fillType3=adjust$1(this.secondaryColor,{h:64}),this.fillType4=adjust$1(this.primaryColor,{h:-64}),this.fillType5=adjust$1(this.secondaryColor,{h:-64}),this.fillType6=adjust$1(this.primaryColor,{h:128}),this.fillType7=adjust$1(this.secondaryColor,{h:128});for(let lf=0;lf<this.THEME_COLOR_LIMIT;lf++)this["pie"+lf]=this["cScale"+lf];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust$1(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust$1(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust$1(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust$1(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust$1(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust$1(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark$1(this.quadrant1Fill)?lighten$1(this.quadrant1Fill):darken$1(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((W=this.xyChart)==null?void 0:W.backgroundColor)||this.background,titleColor:((q=this.xyChart)==null?void 0:q.titleColor)||this.primaryTextColor,xAxisTitleColor:((X=this.xyChart)==null?void 0:X.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((tt=this.xyChart)==null?void 0:tt.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((ot=this.xyChart)==null?void 0:ot.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((at=this.xyChart)==null?void 0:at.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((ut=this.xyChart)==null?void 0:ut.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((wt=this.xyChart)==null?void 0:wt.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((uo=this.xyChart)==null?void 0:uo.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((mo=this.xyChart)==null?void 0:mo.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((yo=this.xyChart)==null?void 0:yo.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=darken$1(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||adjust$1(this.primaryColor,{h:-30}),this.git4=this.pie5||adjust$1(this.primaryColor,{h:-60}),this.git5=this.pie6||adjust$1(this.primaryColor,{h:-90}),this.git6=this.pie7||adjust$1(this.primaryColor,{h:60}),this.git7=this.pie8||adjust$1(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||invert$1(this.git0),this.gitInv1=this.gitInv1||invert$1(this.git1),this.gitInv2=this.gitInv2||invert$1(this.git2),this.gitInv3=this.gitInv3||invert$1(this.git3),this.gitInv4=this.gitInv4||invert$1(this.git4),this.gitInv5=this.gitInv5||invert$1(this.git5),this.gitInv6=this.gitInv6||invert$1(this.git6),this.gitInv7=this.gitInv7||invert$1(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(W){if(typeof W!="object"){this.updateColors();return}const q=Object.keys(W);q.forEach(X=>{this[X]=W[X]}),this.updateColors(),q.forEach(X=>{this[X]=W[X]})}}const getThemeVariables=F=>{const W=new Theme5;return W.calculate(F),W},theme={base:{getThemeVariables:getThemeVariables$4},dark:{getThemeVariables:getThemeVariables$3},default:{getThemeVariables:getThemeVariables$2},forest:{getThemeVariables:getThemeVariables$1},neutral:{getThemeVariables}},defaultConfigJson={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},theme:"default",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","maxEdges"],legacyMathML:!1,deterministicIds:!1,fontSize:16},config={...defaultConfigJson,deterministicIDSeed:void 0,themeCSS:void 0,themeVariables:theme.default.getThemeVariables(),sequence:{...defaultConfigJson.sequence,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{...defaultConfigJson.gantt,tickInterval:void 0,useWidth:void 0},c4:{...defaultConfigJson.c4,useWidth:void 0,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}}},pie:{...defaultConfigJson.pie,useWidth:984},xyChart:{...defaultConfigJson.xyChart,useWidth:void 0},requirement:{...defaultConfigJson.requirement,useWidth:void 0},gitGraph:{...defaultConfigJson.gitGraph,useMaxWidth:!1},sankey:{...defaultConfigJson.sankey,useMaxWidth:!1}},keyify=(F,W="")=>Object.keys(F).reduce((q,X)=>Array.isArray(F[X])?q:typeof F[X]=="object"&&F[X]!==null?[...q,W+X,...keyify(F[X],"")]:[...q,W+X],[]),configKeys=new Set(keyify(config,"")),defaultConfig$2=config,sanitizeDirective=F=>{if(log$1.debug("sanitizeDirective called with",F),!(typeof F!="object"||F==null)){if(Array.isArray(F)){F.forEach(W=>sanitizeDirective(W));return}for(const W of Object.keys(F)){if(log$1.debug("Checking key",W),W.startsWith("__")||W.includes("proto")||W.includes("constr")||!configKeys.has(W)||F[W]==null){log$1.debug("sanitize deleting key: ",W),delete F[W];continue}if(typeof F[W]=="object"){log$1.debug("sanitizing object",W),sanitizeDirective(F[W]);continue}const q=["themeCSS","fontFamily","altFontFamily"];for(const X of q)W.includes(X)&&(log$1.debug("sanitizing css option",W),F[W]=sanitizeCss(F[W]))}if(F.themeVariables)for(const W of Object.keys(F.themeVariables)){const q=F.themeVariables[W];q!=null&&q.match&&!q.match(/^[\d "#%(),.;A-Za-z]+$/)&&(F.themeVariables[W]="")}log$1.debug("After sanitization",F)}},sanitizeCss=F=>{let W=0,q=0;for(const X of F){if(W<q)return"{ /* ERROR: Unbalanced CSS */ }";X==="{"?W++:X==="}"&&q++}return W!==q?"{ /* ERROR: Unbalanced CSS */ }":F},frontMatterRegex=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,directiveRegex=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,anyCommentRegex=/\s*%%.*\n/gm;class UnknownDiagramError extends Error{constructor(W){super(W),this.name="UnknownDiagramError"}}const detectors={},detectType=function(F,W){F=F.replace(frontMatterRegex,"").replace(directiveRegex,"").replace(anyCommentRegex,`
`);for(const[q,{detector:X}]of Object.entries(detectors))if(X(F,W))return q;throw new UnknownDiagramError(`No diagram type detected matching given configuration for text: ${F}`)},registerLazyLoadedDiagrams=(...F)=>{for(const{id:W,detector:q,loader:X}of F)addDetector(W,q,X)},addDetector=(F,W,q)=>{detectors[F]?log$1.error(`Detector with key ${F} already exists`):detectors[F]={detector:W,loader:q},log$1.debug(`Detector with key ${F} added${q?" with loader":""}`)},getDiagramLoader=F=>detectors[F].loader,assignWithDepth=(F,W,{depth:q=2,clobber:X=!1}={})=>{const tt={depth:q,clobber:X};return Array.isArray(W)&&!Array.isArray(F)?(W.forEach(ot=>assignWithDepth(F,ot,tt)),F):Array.isArray(W)&&Array.isArray(F)?(W.forEach(ot=>{F.includes(ot)||F.push(ot)}),F):F===void 0||q<=0?F!=null&&typeof F=="object"&&typeof W=="object"?Object.assign(F,W):W:(W!==void 0&&typeof F=="object"&&typeof W=="object"&&Object.keys(W).forEach(ot=>{typeof W[ot]=="object"&&(F[ot]===void 0||typeof F[ot]=="object")?(F[ot]===void 0&&(F[ot]=Array.isArray(W[ot])?[]:{}),F[ot]=assignWithDepth(F[ot],W[ot],{depth:q-1,clobber:X})):(X||typeof F[ot]!="object"&&typeof W[ot]!="object")&&(F[ot]=W[ot])}),F)},assignWithDepth$1=assignWithDepth,ZERO_WIDTH_SPACE="​",d3CurveTypes={curveBasis,curveBasisClosed,curveBasisOpen,curveBumpX:bumpX,curveBumpY:bumpY,curveBundle,curveCardinalClosed,curveCardinalOpen,curveCardinal,curveCatmullRomClosed,curveCatmullRomOpen,curveCatmullRom,curveLinear,curveLinearClosed,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},directiveWithoutOpen=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,detectInit=function(F,W){const q=detectDirective(F,/(?:init\b)|(?:initialize\b)/);let X={};if(Array.isArray(q)){const at=q.map(ut=>ut.args);sanitizeDirective(at),X=assignWithDepth$1(X,[...at])}else X=q.args;if(!X)return;let tt=detectType(F,W);const ot="config";return X[ot]!==void 0&&(tt==="flowchart-v2"&&(tt="flowchart"),X[tt]=X[ot],delete X[ot]),X},detectDirective=function(F,W=null){try{const q=new RegExp(`[%]{2}(?![{]${directiveWithoutOpen.source})(?=[}][%]{2}).*
`,"ig");F=F.trim().replace(q,"").replace(/'/gm,'"'),log$1.debug(`Detecting diagram directive${W!==null?" type:"+W:""} based on the text:${F}`);let X;const tt=[];for(;(X=directiveRegex.exec(F))!==null;)if(X.index===directiveRegex.lastIndex&&directiveRegex.lastIndex++,X&&!W||W&&X[1]&&X[1].match(W)||W&&X[2]&&X[2].match(W)){const ot=X[1]?X[1]:X[2],at=X[3]?X[3].trim():X[4]?JSON.parse(X[4].trim()):null;tt.push({type:ot,args:at})}return tt.length===0?{type:F,args:null}:tt.length===1?tt[0]:tt}catch(q){return log$1.error(`ERROR: ${q.message} - Unable to parse directive type: '${W}' based on the text: '${F}'`),{type:void 0,args:null}}},removeDirectives=function(F){return F.replace(directiveRegex,"")},isSubstringInArray=function(F,W){for(const[q,X]of W.entries())if(X.match(F))return q;return-1};function interpolateToCurve(F,W){if(!F)return W;const q=`curve${F.charAt(0).toUpperCase()+F.slice(1)}`;return d3CurveTypes[q]??W}function formatUrl(F,W){const q=F.trim();if(q)return W.securityLevel!=="loose"?dist$1.sanitizeUrl(q):q}const runFunc=(F,...W)=>{const q=F.split("."),X=q.length-1,tt=q[X];let ot=window;for(let at=0;at<X;at++)if(ot=ot[q[at]],!ot){log$1.error(`Function name: ${F} not found in window`);return}ot[tt](...W)};function distance(F,W){return!F||!W?0:Math.sqrt(Math.pow(W.x-F.x,2)+Math.pow(W.y-F.y,2))}function traverseEdge(F){let W,q=0;F.forEach(tt=>{q+=distance(tt,W),W=tt});const X=q/2;return calculatePoint(F,X)}function calcLabelPosition(F){return F.length===1?F[0]:traverseEdge(F)}const roundNumber=(F,W=2)=>{const q=Math.pow(10,W);return Math.round(F*q)/q},calculatePoint=(F,W)=>{let q,X=W;for(const tt of F){if(q){const ot=distance(tt,q);if(ot<X)X-=ot;else{const at=X/ot;if(at<=0)return q;if(at>=1)return{x:tt.x,y:tt.y};if(at>0&&at<1)return{x:roundNumber((1-at)*q.x+at*tt.x,5),y:roundNumber((1-at)*q.y+at*tt.y,5)}}}q=tt}throw new Error("Could not find a suitable point for the given distance")},calcCardinalityPosition=(F,W,q)=>{log$1.info(`our points ${JSON.stringify(W)}`),W[0]!==q&&(W=W.reverse());const tt=calculatePoint(W,25),ot=F?10:5,at=Math.atan2(W[0].y-tt.y,W[0].x-tt.x),ut={x:0,y:0};return ut.x=Math.sin(at)*ot+(W[0].x+tt.x)/2,ut.y=-Math.cos(at)*ot+(W[0].y+tt.y)/2,ut};function calcTerminalLabelPosition(F,W,q){const X=structuredClone(q);log$1.info("our points",X),W!=="start_left"&&W!=="start_right"&&X.reverse();const tt=25+F,ot=calculatePoint(X,tt),at=10+F*.5,ut=Math.atan2(X[0].y-ot.y,X[0].x-ot.x),wt={x:0,y:0};return W==="start_left"?(wt.x=Math.sin(ut+Math.PI)*at+(X[0].x+ot.x)/2,wt.y=-Math.cos(ut+Math.PI)*at+(X[0].y+ot.y)/2):W==="end_right"?(wt.x=Math.sin(ut-Math.PI)*at+(X[0].x+ot.x)/2-5,wt.y=-Math.cos(ut-Math.PI)*at+(X[0].y+ot.y)/2-5):W==="end_left"?(wt.x=Math.sin(ut)*at+(X[0].x+ot.x)/2-5,wt.y=-Math.cos(ut)*at+(X[0].y+ot.y)/2-5):(wt.x=Math.sin(ut)*at+(X[0].x+ot.x)/2,wt.y=-Math.cos(ut)*at+(X[0].y+ot.y)/2),wt}function getStylesFromArray(F){let W="",q="";for(const X of F)X!==void 0&&(X.startsWith("color:")||X.startsWith("text-align:")?q=q+X+";":W=W+X+";");return{style:W,labelStyle:q}}let cnt=0;const generateId=()=>(cnt++,"id-"+Math.random().toString(36).substr(2,12)+"-"+cnt);function makeRandomHex(F){let W="";const q="0123456789abcdef",X=q.length;for(let tt=0;tt<F;tt++)W+=q.charAt(Math.floor(Math.random()*X));return W}const random=F=>makeRandomHex(F.length),getTextObj=function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},drawSimpleText=function(F,W){const q=W.text.replace(common$1.lineBreakRegex," "),[,X]=parseFontSize(W.fontSize),tt=F.append("text");tt.attr("x",W.x),tt.attr("y",W.y),tt.style("text-anchor",W.anchor),tt.style("font-family",W.fontFamily),tt.style("font-size",X),tt.style("font-weight",W.fontWeight),tt.attr("fill",W.fill),W.class!==void 0&&tt.attr("class",W.class);const ot=tt.append("tspan");return ot.attr("x",W.x+W.textMargin*2),ot.attr("fill",W.fill),ot.text(q),tt},wrapLabel=memoize((F,W,q)=>{if(!F||(q=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},q),common$1.lineBreakRegex.test(F)))return F;const X=F.split(" "),tt=[];let ot="";return X.forEach((at,ut)=>{const wt=calculateTextWidth(`${at} `,q),uo=calculateTextWidth(ot,q);if(wt>W){const{hyphenatedStrings:lf,remainingWord:uf}=breakString(at,W,"-",q);tt.push(ot,...lf),ot=uf}else uo+wt>=W?(tt.push(ot),ot=at):ot=[ot,at].filter(Boolean).join(" ");ut+1===X.length&&tt.push(ot)}),tt.filter(at=>at!=="").join(q.joinWith)},(F,W,q)=>`${F}${W}${q.fontSize}${q.fontWeight}${q.fontFamily}${q.joinWith}`),breakString=memoize((F,W,q="-",X)=>{X=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},X);const tt=[...F],ot=[];let at="";return tt.forEach((ut,wt)=>{const uo=`${at}${ut}`;if(calculateTextWidth(uo,X)>=W){const yo=wt+1,lf=tt.length===yo,uf=`${uo}${q}`;ot.push(lf?uo:uf),at=""}else at=uo}),{hyphenatedStrings:ot,remainingWord:at}},(F,W,q="-",X)=>`${F}${W}${q}${X.fontSize}${X.fontWeight}${X.fontFamily}`);function calculateTextHeight(F,W){return calculateTextDimensions(F,W).height}function calculateTextWidth(F,W){return calculateTextDimensions(F,W).width}const calculateTextDimensions=memoize((F,W)=>{const{fontSize:q=12,fontFamily:X="Arial",fontWeight:tt=400}=W;if(!F)return{width:0,height:0};const[,ot]=parseFontSize(q),at=["sans-serif",X],ut=F.split(common$1.lineBreakRegex),wt=[],uo=select("body");if(!uo.remove)return{width:0,height:0,lineHeight:0};const mo=uo.append("svg");for(const lf of at){let uf=0;const df={width:0,height:0,lineHeight:0};for(const wf of ut){const wo=getTextObj();wo.text=wf||ZERO_WIDTH_SPACE;const ls=drawSimpleText(mo,wo).style("font-size",ot).style("font-weight",tt).style("font-family",lf),_f=(ls._groups||ls)[0][0].getBBox();if(_f.width===0&&_f.height===0)throw new Error("svg element not in render tree");df.width=Math.round(Math.max(df.width,_f.width)),uf=Math.round(_f.height),df.height+=uf,df.lineHeight=Math.round(Math.max(df.lineHeight,uf))}wt.push(df)}mo.remove();const yo=isNaN(wt[1].height)||isNaN(wt[1].width)||isNaN(wt[1].lineHeight)||wt[0].height>wt[1].height&&wt[0].width>wt[1].width&&wt[0].lineHeight>wt[1].lineHeight?0:1;return wt[yo]},(F,W)=>`${F}${W.fontSize}${W.fontWeight}${W.fontFamily}`);class InitIDGenerator{constructor(W=!1,q){this.count=0,this.count=q?q.length:0,this.next=W?()=>this.count++:()=>Date.now()}}let decoder;const entityDecode=function(F){return decoder=decoder||document.createElement("div"),F=escape(F).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),decoder.innerHTML=F,unescape(decoder.textContent)};function isDetailedError(F){return"str"in F}const insertTitle=(F,W,q,X)=>{var tt;if(!X)return;const ot=(tt=F.node())==null?void 0:tt.getBBox();ot&&F.append("text").text(X).attr("x",ot.x+ot.width/2).attr("y",-q).attr("class",W)},parseFontSize=F=>{if(typeof F=="number")return[F,F+"px"];const W=parseInt(F??"",10);return Number.isNaN(W)?[void 0,void 0]:F===String(W)?[W,F+"px"]:[W,F]};function cleanAndMerge(F,W){return merge$2({},F,W)}const utils={assignWithDepth:assignWithDepth$1,wrapLabel,calculateTextHeight,calculateTextWidth,calculateTextDimensions,cleanAndMerge,detectInit,detectDirective,isSubstringInArray,interpolateToCurve,calcLabelPosition,calcCardinalityPosition,calcTerminalLabelPosition,formatUrl,getStylesFromArray,generateId,random,runFunc,entityDecode,insertTitle,parseFontSize,InitIDGenerator},encodeEntities=function(F){let W=F;return W=W.replace(/style.*:\S*#.*;/g,function(q){return q.substring(0,q.length-1)}),W=W.replace(/classDef.*:\S*#.*;/g,function(q){return q.substring(0,q.length-1)}),W=W.replace(/#\w+;/g,function(q){const X=q.substring(1,q.length-1);return/^\+?\d+$/.test(X)?"ﬂ°°"+X+"¶ß":"ﬂ°"+X+"¶ß"}),W},decodeEntities=function(F){return F.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},version="10.9.0",defaultConfig$1=Object.freeze(defaultConfig$2);let siteConfig=assignWithDepth$1({},defaultConfig$1),configFromInitialize,directives=[],currentConfig=assignWithDepth$1({},defaultConfig$1);const updateCurrentConfig=(F,W)=>{let q=assignWithDepth$1({},F),X={};for(const tt of W)sanitize(tt),X=assignWithDepth$1(X,tt);if(q=assignWithDepth$1(q,X),X.theme&&X.theme in theme){const tt=assignWithDepth$1({},configFromInitialize),ot=assignWithDepth$1(tt.themeVariables||{},X.themeVariables);q.theme&&q.theme in theme&&(q.themeVariables=theme[q.theme].getThemeVariables(ot))}return currentConfig=q,checkConfig(currentConfig),currentConfig},setSiteConfig=F=>(siteConfig=assignWithDepth$1({},defaultConfig$1),siteConfig=assignWithDepth$1(siteConfig,F),F.theme&&theme[F.theme]&&(siteConfig.themeVariables=theme[F.theme].getThemeVariables(F.themeVariables)),updateCurrentConfig(siteConfig,directives),siteConfig),saveConfigFromInitialize=F=>{configFromInitialize=assignWithDepth$1({},F)},updateSiteConfig=F=>(siteConfig=assignWithDepth$1(siteConfig,F),updateCurrentConfig(siteConfig,directives),siteConfig),getSiteConfig=()=>assignWithDepth$1({},siteConfig),setConfig$1=F=>(checkConfig(F),assignWithDepth$1(currentConfig,F),getConfig$1()),getConfig$1=()=>assignWithDepth$1({},currentConfig),sanitize=F=>{F&&(["secure",...siteConfig.secure??[]].forEach(W=>{Object.hasOwn(F,W)&&(log$1.debug(`Denied attempt to modify a secure key ${W}`,F[W]),delete F[W])}),Object.keys(F).forEach(W=>{W.startsWith("__")&&delete F[W]}),Object.keys(F).forEach(W=>{typeof F[W]=="string"&&(F[W].includes("<")||F[W].includes(">")||F[W].includes("url(data:"))&&delete F[W],typeof F[W]=="object"&&sanitize(F[W])}))},addDirective=F=>{sanitizeDirective(F),F.fontFamily&&(!F.themeVariables||!F.themeVariables.fontFamily)&&(F.themeVariables={fontFamily:F.fontFamily}),directives.push(F),updateCurrentConfig(siteConfig,directives)},reset=(F=siteConfig)=>{directives=[],updateCurrentConfig(F,directives)},ConfigWarning={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},issuedWarnings={},issueWarning=F=>{issuedWarnings[F]||(log$1.warn(ConfigWarning[F]),issuedWarnings[F]=!0)},checkConfig=F=>{F&&(F.lazyLoadedDiagrams||F.loadExternalDiagramsAtStartup)&&issueWarning("LAZY_LOAD_DEPRECATED")},id$l="c4",detector$l=F=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(F),loader$m=async()=>{const{diagram:F}=await __vitePreload(()=>import("./c4Diagram-b2a90758-75053ed9.js"),["js/c4Diagram-b2a90758-75053ed9.js","js/svgDrawCommon-5ccd53ef-e8763802.js"]);return{id:id$l,diagram:F}},plugin$j={id:id$l,detector:detector$l,loader:loader$m},c4=plugin$j,id$k="flowchart",detector$k=(F,W)=>{var q,X;return((q=W==null?void 0:W.flowchart)==null?void 0:q.defaultRenderer)==="dagre-wrapper"||((X=W==null?void 0:W.flowchart)==null?void 0:X.defaultRenderer)==="elk"?!1:/^\s*graph/.test(F)},loader$l=async()=>{const{diagram:F}=await __vitePreload(()=>import("./flowDiagram-5540d9b9-8ce85e50.js"),["js/flowDiagram-5540d9b9-8ce85e50.js","js/flowDb-4b19a42f-43b23fb6.js","js/graph-f737aa9f.js","js/layout-27500266.js","js/styles-3ed67cfa-c62c2eef.js","js/index-fc10efb0-338f2117.js","js/clone-20fd729e.js","js/edges-d32062c0-dc560778.js","js/createText-6b48ae7d-43de13ea.js","js/line-6d50ce49.js","js/array-9f3ba611.js","js/path-a66b986c.js","js/channel-916bdd03.js"]);return{id:id$k,diagram:F}},plugin$i={id:id$k,detector:detector$k,loader:loader$l},flowchart=plugin$i,id$j="flowchart-v2",detector$j=(F,W)=>{var q,X,tt;return((q=W==null?void 0:W.flowchart)==null?void 0:q.defaultRenderer)==="dagre-d3"||((X=W==null?void 0:W.flowchart)==null?void 0:X.defaultRenderer)==="elk"?!1:/^\s*graph/.test(F)&&((tt=W==null?void 0:W.flowchart)==null?void 0:tt.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(F)},loader$k=async()=>{const{diagram:F}=await __vitePreload(()=>import("./flowDiagram-v2-3b53844e-9399289d.js"),["js/flowDiagram-v2-3b53844e-9399289d.js","js/flowDb-4b19a42f-43b23fb6.js","js/styles-3ed67cfa-c62c2eef.js","js/graph-f737aa9f.js","js/index-fc10efb0-338f2117.js","js/layout-27500266.js","js/clone-20fd729e.js","js/edges-d32062c0-dc560778.js","js/createText-6b48ae7d-43de13ea.js","js/line-6d50ce49.js","js/array-9f3ba611.js","js/path-a66b986c.js","js/channel-916bdd03.js"]);return{id:id$j,diagram:F}},plugin$h={id:id$j,detector:detector$j,loader:loader$k},flowchartV2=plugin$h,id$i="er",detector$i=F=>/^\s*erDiagram/.test(F),loader$j=async()=>{const{diagram:F}=await __vitePreload(()=>import("./erDiagram-47591fe2-019af2f7.js"),["js/erDiagram-47591fe2-019af2f7.js","js/graph-f737aa9f.js","js/layout-27500266.js","js/line-6d50ce49.js","js/array-9f3ba611.js","js/path-a66b986c.js"]);return{id:id$i,diagram:F}},plugin$g={id:id$i,detector:detector$i,loader:loader$j},er=plugin$g,id$h="gitGraph",detector$h=F=>/^\s*gitGraph/.test(F),loader$i=async()=>{const{diagram:F}=await __vitePreload(()=>import("./gitGraphDiagram-96e6b4ee-f45bd22d.js"),[]);return{id:id$h,diagram:F}},plugin$f={id:id$h,detector:detector$h,loader:loader$i},git=plugin$f,id$g="gantt",detector$g=F=>/^\s*gantt/.test(F),loader$h=async()=>{const{diagram:F}=await __vitePreload(()=>import("./ganttDiagram-9a3bba1f-045e4d63.js"),["js/ganttDiagram-9a3bba1f-045e4d63.js","js/linear-07e6130f.js","js/init-77b53fdd.js"]);return{id:id$g,diagram:F}},plugin$e={id:id$g,detector:detector$g,loader:loader$h},gantt=plugin$e,id$f="info",detector$f=F=>/^\s*info/.test(F),loader$g=async()=>{const{diagram:F}=await __vitePreload(()=>import("./infoDiagram-bcd20f53-a3018729.js"),[]);return{id:id$f,diagram:F}},info={id:id$f,detector:detector$f,loader:loader$g},id$e="pie",detector$e=F=>/^\s*pie/.test(F),loader$f=async()=>{const{diagram:F}=await __vitePreload(()=>import("./pieDiagram-79897490-2e0b1a3d.js"),["js/pieDiagram-79897490-2e0b1a3d.js","js/arc-cb16d529.js","js/path-a66b986c.js","js/ordinal-ba9b4969.js","js/init-77b53fdd.js","js/array-9f3ba611.js"]);return{id:id$e,diagram:F}},pie={id:id$e,detector:detector$e,loader:loader$f},id$d="quadrantChart",detector$d=F=>/^\s*quadrantChart/.test(F),loader$e=async()=>{const{diagram:F}=await __vitePreload(()=>import("./quadrantDiagram-62f64e94-5694e84c.js"),["js/quadrantDiagram-62f64e94-5694e84c.js","js/linear-07e6130f.js","js/init-77b53fdd.js"]);return{id:id$d,diagram:F}},plugin$d={id:id$d,detector:detector$d,loader:loader$e},quadrantChart=plugin$d,id$c="xychart",detector$c=F=>/^\s*xychart-beta/.test(F),loader$d=async()=>{const{diagram:F}=await __vitePreload(()=>import("./xychartDiagram-ab372869-4410d972.js"),["js/xychartDiagram-ab372869-4410d972.js","js/createText-6b48ae7d-43de13ea.js","js/init-77b53fdd.js","js/ordinal-ba9b4969.js","js/linear-07e6130f.js","js/line-6d50ce49.js","js/array-9f3ba611.js","js/path-a66b986c.js"]);return{id:id$c,diagram:F}},plugin$c={id:id$c,detector:detector$c,loader:loader$d},xychart=plugin$c,id$b="requirement",detector$b=F=>/^\s*requirement(Diagram)?/.test(F),loader$c=async()=>{const{diagram:F}=await __vitePreload(()=>import("./requirementDiagram-05bf5f74-6ab0e852.js"),["js/requirementDiagram-05bf5f74-6ab0e852.js","js/graph-f737aa9f.js","js/layout-27500266.js","js/line-6d50ce49.js","js/array-9f3ba611.js","js/path-a66b986c.js"]);return{id:id$b,diagram:F}},plugin$b={id:id$b,detector:detector$b,loader:loader$c},requirement=plugin$b,id$a="sequence",detector$a=F=>/^\s*sequenceDiagram/.test(F),loader$b=async()=>{const{diagram:F}=await __vitePreload(()=>import("./sequenceDiagram-acc0e65c-134d0e02.js"),["js/sequenceDiagram-acc0e65c-134d0e02.js","js/svgDrawCommon-5ccd53ef-e8763802.js"]);return{id:id$a,diagram:F}},plugin$a={id:id$a,detector:detector$a,loader:loader$b},sequence=plugin$a,id$9="class",detector$9=(F,W)=>{var q;return((q=W==null?void 0:W.class)==null?void 0:q.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(F)},loader$a=async()=>{const{diagram:F}=await __vitePreload(()=>import("./classDiagram-30eddba6-3fbc13d3.js"),["js/classDiagram-30eddba6-3fbc13d3.js","js/styles-991ebdfc-f776bbc9.js","js/graph-f737aa9f.js","js/layout-27500266.js","js/line-6d50ce49.js","js/array-9f3ba611.js","js/path-a66b986c.js"]);return{id:id$9,diagram:F}},plugin$9={id:id$9,detector:detector$9,loader:loader$a},classDiagram=plugin$9,id$8="classDiagram",detector$8=(F,W)=>{var q;return/^\s*classDiagram/.test(F)&&((q=W==null?void 0:W.class)==null?void 0:q.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(F)},loader$9=async()=>{const{diagram:F}=await __vitePreload(()=>import("./classDiagram-v2-f2df5561-742f8cd8.js"),["js/classDiagram-v2-f2df5561-742f8cd8.js","js/styles-991ebdfc-f776bbc9.js","js/graph-f737aa9f.js","js/index-fc10efb0-338f2117.js","js/layout-27500266.js","js/clone-20fd729e.js","js/edges-d32062c0-dc560778.js","js/createText-6b48ae7d-43de13ea.js","js/line-6d50ce49.js","js/array-9f3ba611.js","js/path-a66b986c.js"]);return{id:id$8,diagram:F}},plugin$8={id:id$8,detector:detector$8,loader:loader$9},classDiagramV2=plugin$8,id$7="state",detector$7=(F,W)=>{var q;return((q=W==null?void 0:W.state)==null?void 0:q.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(F)},loader$8=async()=>{const{diagram:F}=await __vitePreload(()=>import("./stateDiagram-0ff1cf1a-76200d66.js"),["js/stateDiagram-0ff1cf1a-76200d66.js","js/styles-d20c7d72-2b00c2b2.js","js/graph-f737aa9f.js","js/layout-27500266.js","js/line-6d50ce49.js","js/array-9f3ba611.js","js/path-a66b986c.js"]);return{id:id$7,diagram:F}},plugin$7={id:id$7,detector:detector$7,loader:loader$8},state=plugin$7,id$6="stateDiagram",detector$6=(F,W)=>{var q;return!!(/^\s*stateDiagram-v2/.test(F)||/^\s*stateDiagram/.test(F)&&((q=W==null?void 0:W.state)==null?void 0:q.defaultRenderer)==="dagre-wrapper")},loader$7=async()=>{const{diagram:F}=await __vitePreload(()=>import("./stateDiagram-v2-9a9d610d-bfaf47dd.js"),["js/stateDiagram-v2-9a9d610d-bfaf47dd.js","js/styles-d20c7d72-2b00c2b2.js","js/graph-f737aa9f.js","js/index-fc10efb0-338f2117.js","js/layout-27500266.js","js/clone-20fd729e.js","js/edges-d32062c0-dc560778.js","js/createText-6b48ae7d-43de13ea.js","js/line-6d50ce49.js","js/array-9f3ba611.js","js/path-a66b986c.js"]);return{id:id$6,diagram:F}},plugin$6={id:id$6,detector:detector$6,loader:loader$7},stateV2=plugin$6,id$5="journey",detector$5=F=>/^\s*journey/.test(F),loader$6=async()=>{const{diagram:F}=await __vitePreload(()=>import("./journeyDiagram-4fe6b3dc-224010e9.js"),["js/journeyDiagram-4fe6b3dc-224010e9.js","js/svgDrawCommon-5ccd53ef-e8763802.js","js/arc-cb16d529.js","js/path-a66b986c.js"]);return{id:id$5,diagram:F}},plugin$5={id:id$5,detector:detector$5,loader:loader$6},journey=plugin$5,d3Attrs=function(F,W){for(let q of W)F.attr(q[0],q[1])},calculateSvgSizeAttrs=function(F,W,q){let X=new Map;return q?(X.set("width","100%"),X.set("style",`max-width: ${W}px;`)):(X.set("height",F),X.set("width",W)),X},configureSvgSize=function(F,W,q,X){const tt=calculateSvgSizeAttrs(W,q,X);d3Attrs(F,tt)},setupGraphViewbox$1=function(F,W,q,X){const tt=W.node().getBBox(),ot=tt.width,at=tt.height;log$1.info(`SVG bounds: ${ot}x${at}`,tt);let ut=0,wt=0;log$1.info(`Graph bounds: ${ut}x${wt}`,F),ut=ot+q*2,wt=at+q*2,log$1.info(`Calculated bounds: ${ut}x${wt}`),configureSvgSize(W,wt,ut,X);const uo=`${tt.x-q} ${tt.y-q} ${tt.width+2*q} ${tt.height+2*q}`;W.attr("viewBox",uo)},themes={},getStyles=(F,W,q)=>{let X="";return F in themes&&themes[F]?X=themes[F](q):log$1.warn(`No theme found for ${F}`),` & {
    font-family: ${q.fontFamily};
    font-size: ${q.fontSize};
    fill: ${q.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${q.errorBkgColor};
  }
  & .error-text {
    fill: ${q.errorTextColor};
    stroke: ${q.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 2px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }

  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${q.lineColor};
    stroke: ${q.lineColor};
  }
  & .marker.cross {
    stroke: ${q.lineColor};
  }

  & svg {
    font-family: ${q.fontFamily};
    font-size: ${q.fontSize};
  }

  ${X}

  ${W}
`},addStylesForDiagram=(F,W)=>{W!==void 0&&(themes[F]=W)},getStyles$1=getStyles;let accTitle="",diagramTitle="",accDescription="";const sanitizeText$1=F=>sanitizeText$2(F,getConfig$1()),clear=()=>{accTitle="",accDescription="",diagramTitle=""},setAccTitle=F=>{accTitle=sanitizeText$1(F).replace(/^\s+/g,"")},getAccTitle=()=>accTitle,setAccDescription=F=>{accDescription=sanitizeText$1(F).replace(/\n\s+/g,`
`)},getAccDescription=()=>accDescription,setDiagramTitle=F=>{diagramTitle=sanitizeText$1(F)},getDiagramTitle=()=>diagramTitle,commonDb=Object.freeze(Object.defineProperty({__proto__:null,clear,getAccDescription,getAccTitle,getDiagramTitle,setAccDescription,setAccTitle,setDiagramTitle},Symbol.toStringTag,{value:"Module"})),log=log$1,setLogLevel=setLogLevel$1,getConfig=getConfig$1,setConfig=setConfig$1,defaultConfig=defaultConfig$1,sanitizeText=F=>sanitizeText$2(F,getConfig()),setupGraphViewbox=setupGraphViewbox$1,getCommonDb=()=>commonDb,diagrams={},registerDiagram=(F,W,q)=>{var X;if(diagrams[F])throw new Error(`Diagram ${F} already registered.`);diagrams[F]=W,q&&addDetector(F,q),addStylesForDiagram(F,W.styles),(X=W.injectUtils)==null||X.call(W,log,setLogLevel,getConfig,sanitizeText,setupGraphViewbox,getCommonDb(),()=>{})},getDiagram=F=>{if(F in diagrams)return diagrams[F];throw new DiagramNotFoundError(F)};class DiagramNotFoundError extends Error{constructor(W){super(`Diagram ${W} not found.`)}}const selectSvgElement=F=>{var W;const{securityLevel:q}=getConfig();let X=select("body");if(q==="sandbox"){const at=((W=select(`#i${F}`).node())==null?void 0:W.contentDocument)??document;X=select(at.body)}return X.select(`#${F}`)},draw=(F,W,q)=>{log$1.debug(`rendering svg for syntax error
`);const X=selectSvgElement(W),tt=X.append("g");X.attr("viewBox","0 0 2412 512"),configureSvgSize(X,100,512,!0),tt.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),tt.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),tt.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),tt.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),tt.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),tt.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),tt.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),tt.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${q}`)},renderer={draw},errorRenderer=renderer,diagram={db:{},renderer,parser:{parser:{yy:{}},parse:()=>{}}},errorDiagram=diagram,id$4="flowchart-elk",detector$4=(F,W)=>{var q;return!!(/^\s*flowchart-elk/.test(F)||/^\s*flowchart|graph/.test(F)&&((q=W==null?void 0:W.flowchart)==null?void 0:q.defaultRenderer)==="elk")},loader$5=async()=>{const{diagram:F}=await __vitePreload(()=>import("./flowchart-elk-definition-5fe447d6-b7ccadc8.js"),["js/flowchart-elk-definition-5fe447d6-b7ccadc8.js","js/flowDb-4b19a42f-43b23fb6.js","js/edges-d32062c0-dc560778.js","js/createText-6b48ae7d-43de13ea.js","js/line-6d50ce49.js","js/array-9f3ba611.js","js/path-a66b986c.js"]);return{id:id$4,diagram:F}},plugin$4={id:id$4,detector:detector$4,loader:loader$5},flowchartElk=plugin$4,id$3="timeline",detector$3=F=>/^\s*timeline/.test(F),loader$4=async()=>{const{diagram:F}=await __vitePreload(()=>import("./timeline-definition-fea2a41d-c4ba76f7.js"),["js/timeline-definition-fea2a41d-c4ba76f7.js","js/arc-cb16d529.js","js/path-a66b986c.js"]);return{id:id$3,diagram:F}},plugin$3={id:id$3,detector:detector$3,loader:loader$4},timeline=plugin$3,id$2="mindmap",detector$2=F=>/^\s*mindmap/.test(F),loader$3=async()=>{const{diagram:F}=await __vitePreload(()=>import("./mindmap-definition-f354de21-10ea585f.js"),["js/mindmap-definition-f354de21-10ea585f.js","js/createText-6b48ae7d-43de13ea.js"]);return{id:id$2,diagram:F}},plugin$2={id:id$2,detector:detector$2,loader:loader$3},mindmap=plugin$2,id$1="sankey",detector$1=F=>/^\s*sankey-beta/.test(F),loader$2=async()=>{const{diagram:F}=await __vitePreload(()=>import("./sankeyDiagram-97764748-3f831efb.js"),["js/sankeyDiagram-97764748-3f831efb.js","js/ordinal-ba9b4969.js","js/init-77b53fdd.js","js/Tableau10-1b767f5e.js"]);return{id:id$1,diagram:F}},plugin$1={id:id$1,detector:detector$1,loader:loader$2},sankey=plugin$1,id="block",detector=F=>/^\s*block-beta/.test(F),loader$1=async()=>{const{diagram:F}=await __vitePreload(()=>import("./blockDiagram-91b80b7a-ed755bf4.js"),["js/blockDiagram-91b80b7a-ed755bf4.js","js/clone-20fd729e.js","js/graph-f737aa9f.js","js/edges-d32062c0-dc560778.js","js/createText-6b48ae7d-43de13ea.js","js/line-6d50ce49.js","js/array-9f3ba611.js","js/path-a66b986c.js","js/ordinal-ba9b4969.js","js/init-77b53fdd.js","js/Tableau10-1b767f5e.js","js/channel-916bdd03.js"]);return{id,diagram:F}},plugin={id,detector,loader:loader$1},block=plugin;let hasLoadedDiagrams=!1;const addDiagrams=()=>{hasLoadedDiagrams||(hasLoadedDiagrams=!0,registerDiagram("error",errorDiagram,F=>F.toLowerCase().trim()==="error"),registerDiagram("---",{db:{clear:()=>{}},styles:{},renderer:{draw:()=>{}},parser:{parser:{yy:{}},parse:()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")}},init:()=>null},F=>F.toLowerCase().trimStart().startsWith("---")),registerLazyLoadedDiagrams(c4,classDiagramV2,classDiagram,er,gantt,info,pie,requirement,sequence,flowchartElk,flowchartV2,flowchart,mindmap,timeline,git,stateV2,state,journey,quadrantChart,sankey,xychart,block))};class Diagram{constructor(W,q={}){this.text=W,this.metadata=q,this.type="graph",this.text=encodeEntities(W),this.text+=`
`;const X=getConfig$1();try{this.type=detectType(W,X)}catch(ot){this.type="error",this.detectError=ot}const tt=getDiagram(this.type);log$1.debug("Type "+this.type),this.db=tt.db,this.renderer=tt.renderer,this.parser=tt.parser,this.parser.parser.yy=this.db,this.init=tt.init,this.parse()}parse(){var W,q,X,tt,ot;if(this.detectError)throw this.detectError;(q=(W=this.db).clear)==null||q.call(W);const at=getConfig$1();(X=this.init)==null||X.call(this,at),this.metadata.title&&((ot=(tt=this.db).setDiagramTitle)==null||ot.call(tt,this.metadata.title)),this.parser.parse(this.text)}async render(W,q){await this.renderer.draw(this.text,W,q,this)}getParser(){return this.parser}getType(){return this.type}}const getDiagramFromText$1=async(F,W={})=>{const q=detectType(F,getConfig$1());try{getDiagram(q)}catch{const tt=getDiagramLoader(q);if(!tt)throw new UnknownDiagramError(`Diagram ${q} not found.`);const{id:ot,diagram:at}=await tt();registerDiagram(ot,at)}return new Diagram(F,W)};let interactionFunctions=[];const attachFunctions=()=>{interactionFunctions.forEach(F=>{F()}),interactionFunctions=[]},SVG_ROLE="graphics-document document";function setA11yDiagramInfo(F,W){F.attr("role",SVG_ROLE),W!==""&&F.attr("aria-roledescription",W)}function addSVGa11yTitleDescription(F,W,q,X){if(F.insert!==void 0){if(q){const tt=`chart-desc-${X}`;F.attr("aria-describedby",tt),F.insert("desc",":first-child").attr("id",tt).text(q)}if(W){const tt=`chart-title-${X}`;F.attr("aria-labelledby",tt),F.insert("title",":first-child").attr("id",tt).text(W)}}}const cleanupComments=F=>F.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart();/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function isNothing(F){return typeof F>"u"||F===null}function isObject(F){return typeof F=="object"&&F!==null}function toArray(F){return Array.isArray(F)?F:isNothing(F)?[]:[F]}function extend(F,W){var q,X,tt,ot;if(W)for(ot=Object.keys(W),q=0,X=ot.length;q<X;q+=1)tt=ot[q],F[tt]=W[tt];return F}function repeat(F,W){var q="",X;for(X=0;X<W;X+=1)q+=F;return q}function isNegativeZero(F){return F===0&&Number.NEGATIVE_INFINITY===1/F}var isNothing_1=isNothing,isObject_1=isObject,toArray_1=toArray,repeat_1=repeat,isNegativeZero_1=isNegativeZero,extend_1=extend,common$2={isNothing:isNothing_1,isObject:isObject_1,toArray:toArray_1,repeat:repeat_1,isNegativeZero:isNegativeZero_1,extend:extend_1};function formatError(F,W){var q="",X=F.reason||"(unknown reason)";return F.mark?(F.mark.name&&(q+='in "'+F.mark.name+'" '),q+="("+(F.mark.line+1)+":"+(F.mark.column+1)+")",!W&&F.mark.snippet&&(q+=`

`+F.mark.snippet),X+" "+q):X}function YAMLException$1(F,W){Error.call(this),this.name="YAMLException",this.reason=F,this.mark=W,this.message=formatError(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}YAMLException$1.prototype=Object.create(Error.prototype);YAMLException$1.prototype.constructor=YAMLException$1;YAMLException$1.prototype.toString=function F(W){return this.name+": "+formatError(this,W)};var exception=YAMLException$1;function getLine(F,W,q,X,tt){var ot="",at="",ut=Math.floor(tt/2)-1;return X-W>ut&&(ot=" ... ",W=X-ut+ot.length),q-X>ut&&(at=" ...",q=X+ut-at.length),{str:ot+F.slice(W,q).replace(/\t/g,"→")+at,pos:X-W+ot.length}}function padStart(F,W){return common$2.repeat(" ",W-F.length)+F}function makeSnippet(F,W){if(W=Object.create(W||null),!F.buffer)return null;W.maxLength||(W.maxLength=79),typeof W.indent!="number"&&(W.indent=1),typeof W.linesBefore!="number"&&(W.linesBefore=3),typeof W.linesAfter!="number"&&(W.linesAfter=2);for(var q=/\r?\n|\r|\0/g,X=[0],tt=[],ot,at=-1;ot=q.exec(F.buffer);)tt.push(ot.index),X.push(ot.index+ot[0].length),F.position<=ot.index&&at<0&&(at=X.length-2);at<0&&(at=X.length-1);var ut="",wt,uo,mo=Math.min(F.line+W.linesAfter,tt.length).toString().length,yo=W.maxLength-(W.indent+mo+3);for(wt=1;wt<=W.linesBefore&&!(at-wt<0);wt++)uo=getLine(F.buffer,X[at-wt],tt[at-wt],F.position-(X[at]-X[at-wt]),yo),ut=common$2.repeat(" ",W.indent)+padStart((F.line-wt+1).toString(),mo)+" | "+uo.str+`
`+ut;for(uo=getLine(F.buffer,X[at],tt[at],F.position,yo),ut+=common$2.repeat(" ",W.indent)+padStart((F.line+1).toString(),mo)+" | "+uo.str+`
`,ut+=common$2.repeat("-",W.indent+mo+3+uo.pos)+`^
`,wt=1;wt<=W.linesAfter&&!(at+wt>=tt.length);wt++)uo=getLine(F.buffer,X[at+wt],tt[at+wt],F.position-(X[at]-X[at+wt]),yo),ut+=common$2.repeat(" ",W.indent)+padStart((F.line+wt+1).toString(),mo)+" | "+uo.str+`
`;return ut.replace(/\n$/,"")}var snippet=makeSnippet,TYPE_CONSTRUCTOR_OPTIONS=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],YAML_NODE_KINDS=["scalar","sequence","mapping"];function compileStyleAliases(F){var W={};return F!==null&&Object.keys(F).forEach(function(q){F[q].forEach(function(X){W[String(X)]=q})}),W}function Type$1(F,W){if(W=W||{},Object.keys(W).forEach(function(q){if(TYPE_CONSTRUCTOR_OPTIONS.indexOf(q)===-1)throw new exception('Unknown option "'+q+'" is met in definition of "'+F+'" YAML type.')}),this.options=W,this.tag=F,this.kind=W.kind||null,this.resolve=W.resolve||function(){return!0},this.construct=W.construct||function(q){return q},this.instanceOf=W.instanceOf||null,this.predicate=W.predicate||null,this.represent=W.represent||null,this.representName=W.representName||null,this.defaultStyle=W.defaultStyle||null,this.multi=W.multi||!1,this.styleAliases=compileStyleAliases(W.styleAliases||null),YAML_NODE_KINDS.indexOf(this.kind)===-1)throw new exception('Unknown kind "'+this.kind+'" is specified for "'+F+'" YAML type.')}var type=Type$1;function compileList(F,W){var q=[];return F[W].forEach(function(X){var tt=q.length;q.forEach(function(ot,at){ot.tag===X.tag&&ot.kind===X.kind&&ot.multi===X.multi&&(tt=at)}),q[tt]=X}),q}function compileMap(){var F={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},W,q;function X(tt){tt.multi?(F.multi[tt.kind].push(tt),F.multi.fallback.push(tt)):F[tt.kind][tt.tag]=F.fallback[tt.tag]=tt}for(W=0,q=arguments.length;W<q;W+=1)arguments[W].forEach(X);return F}function Schema$1(F){return this.extend(F)}Schema$1.prototype.extend=function F(W){var q=[],X=[];if(W instanceof type)X.push(W);else if(Array.isArray(W))X=X.concat(W);else if(W&&(Array.isArray(W.implicit)||Array.isArray(W.explicit)))W.implicit&&(q=q.concat(W.implicit)),W.explicit&&(X=X.concat(W.explicit));else throw new exception("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");q.forEach(function(ot){if(!(ot instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(ot.loadKind&&ot.loadKind!=="scalar")throw new exception("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(ot.multi)throw new exception("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),X.forEach(function(ot){if(!(ot instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var tt=Object.create(Schema$1.prototype);return tt.implicit=(this.implicit||[]).concat(q),tt.explicit=(this.explicit||[]).concat(X),tt.compiledImplicit=compileList(tt,"implicit"),tt.compiledExplicit=compileList(tt,"explicit"),tt.compiledTypeMap=compileMap(tt.compiledImplicit,tt.compiledExplicit),tt};var schema=Schema$1,str=new type("tag:yaml.org,2002:str",{kind:"scalar",construct:function(F){return F!==null?F:""}}),seq=new type("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(F){return F!==null?F:[]}}),map=new type("tag:yaml.org,2002:map",{kind:"mapping",construct:function(F){return F!==null?F:{}}}),failsafe=new schema({explicit:[str,seq,map]});function resolveYamlNull(F){if(F===null)return!0;var W=F.length;return W===1&&F==="~"||W===4&&(F==="null"||F==="Null"||F==="NULL")}function constructYamlNull(){return null}function isNull(F){return F===null}var _null=new type("tag:yaml.org,2002:null",{kind:"scalar",resolve:resolveYamlNull,construct:constructYamlNull,predicate:isNull,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function resolveYamlBoolean(F){if(F===null)return!1;var W=F.length;return W===4&&(F==="true"||F==="True"||F==="TRUE")||W===5&&(F==="false"||F==="False"||F==="FALSE")}function constructYamlBoolean(F){return F==="true"||F==="True"||F==="TRUE"}function isBoolean(F){return Object.prototype.toString.call(F)==="[object Boolean]"}var bool=new type("tag:yaml.org,2002:bool",{kind:"scalar",resolve:resolveYamlBoolean,construct:constructYamlBoolean,predicate:isBoolean,represent:{lowercase:function(F){return F?"true":"false"},uppercase:function(F){return F?"TRUE":"FALSE"},camelcase:function(F){return F?"True":"False"}},defaultStyle:"lowercase"});function isHexCode(F){return 48<=F&&F<=57||65<=F&&F<=70||97<=F&&F<=102}function isOctCode(F){return 48<=F&&F<=55}function isDecCode(F){return 48<=F&&F<=57}function resolveYamlInteger(F){if(F===null)return!1;var W=F.length,q=0,X=!1,tt;if(!W)return!1;if(tt=F[q],(tt==="-"||tt==="+")&&(tt=F[++q]),tt==="0"){if(q+1===W)return!0;if(tt=F[++q],tt==="b"){for(q++;q<W;q++)if(tt=F[q],tt!=="_"){if(tt!=="0"&&tt!=="1")return!1;X=!0}return X&&tt!=="_"}if(tt==="x"){for(q++;q<W;q++)if(tt=F[q],tt!=="_"){if(!isHexCode(F.charCodeAt(q)))return!1;X=!0}return X&&tt!=="_"}if(tt==="o"){for(q++;q<W;q++)if(tt=F[q],tt!=="_"){if(!isOctCode(F.charCodeAt(q)))return!1;X=!0}return X&&tt!=="_"}}if(tt==="_")return!1;for(;q<W;q++)if(tt=F[q],tt!=="_"){if(!isDecCode(F.charCodeAt(q)))return!1;X=!0}return!(!X||tt==="_")}function constructYamlInteger(F){var W=F,q=1,X;if(W.indexOf("_")!==-1&&(W=W.replace(/_/g,"")),X=W[0],(X==="-"||X==="+")&&(X==="-"&&(q=-1),W=W.slice(1),X=W[0]),W==="0")return 0;if(X==="0"){if(W[1]==="b")return q*parseInt(W.slice(2),2);if(W[1]==="x")return q*parseInt(W.slice(2),16);if(W[1]==="o")return q*parseInt(W.slice(2),8)}return q*parseInt(W,10)}function isInteger(F){return Object.prototype.toString.call(F)==="[object Number]"&&F%1===0&&!common$2.isNegativeZero(F)}var int=new type("tag:yaml.org,2002:int",{kind:"scalar",resolve:resolveYamlInteger,construct:constructYamlInteger,predicate:isInteger,represent:{binary:function(F){return F>=0?"0b"+F.toString(2):"-0b"+F.toString(2).slice(1)},octal:function(F){return F>=0?"0o"+F.toString(8):"-0o"+F.toString(8).slice(1)},decimal:function(F){return F.toString(10)},hexadecimal:function(F){return F>=0?"0x"+F.toString(16).toUpperCase():"-0x"+F.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),YAML_FLOAT_PATTERN=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function resolveYamlFloat(F){return!(F===null||!YAML_FLOAT_PATTERN.test(F)||F[F.length-1]==="_")}function constructYamlFloat(F){var W,q;return W=F.replace(/_/g,"").toLowerCase(),q=W[0]==="-"?-1:1,"+-".indexOf(W[0])>=0&&(W=W.slice(1)),W===".inf"?q===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:W===".nan"?NaN:q*parseFloat(W,10)}var SCIENTIFIC_WITHOUT_DOT=/^[-+]?[0-9]+e/;function representYamlFloat(F,W){var q;if(isNaN(F))switch(W){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===F)switch(W){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===F)switch(W){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(common$2.isNegativeZero(F))return"-0.0";return q=F.toString(10),SCIENTIFIC_WITHOUT_DOT.test(q)?q.replace("e",".e"):q}function isFloat(F){return Object.prototype.toString.call(F)==="[object Number]"&&(F%1!==0||common$2.isNegativeZero(F))}var float=new type("tag:yaml.org,2002:float",{kind:"scalar",resolve:resolveYamlFloat,construct:constructYamlFloat,predicate:isFloat,represent:representYamlFloat,defaultStyle:"lowercase"}),json=failsafe.extend({implicit:[_null,bool,int,float]}),core=json,YAML_DATE_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),YAML_TIMESTAMP_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function resolveYamlTimestamp(F){return F===null?!1:YAML_DATE_REGEXP.exec(F)!==null||YAML_TIMESTAMP_REGEXP.exec(F)!==null}function constructYamlTimestamp(F){var W,q,X,tt,ot,at,ut,wt=0,uo=null,mo,yo,lf;if(W=YAML_DATE_REGEXP.exec(F),W===null&&(W=YAML_TIMESTAMP_REGEXP.exec(F)),W===null)throw new Error("Date resolve error");if(q=+W[1],X=+W[2]-1,tt=+W[3],!W[4])return new Date(Date.UTC(q,X,tt));if(ot=+W[4],at=+W[5],ut=+W[6],W[7]){for(wt=W[7].slice(0,3);wt.length<3;)wt+="0";wt=+wt}return W[9]&&(mo=+W[10],yo=+(W[11]||0),uo=(mo*60+yo)*6e4,W[9]==="-"&&(uo=-uo)),lf=new Date(Date.UTC(q,X,tt,ot,at,ut,wt)),uo&&lf.setTime(lf.getTime()-uo),lf}function representYamlTimestamp(F){return F.toISOString()}var timestamp=new type("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:resolveYamlTimestamp,construct:constructYamlTimestamp,instanceOf:Date,represent:representYamlTimestamp});function resolveYamlMerge(F){return F==="<<"||F===null}var merge=new type("tag:yaml.org,2002:merge",{kind:"scalar",resolve:resolveYamlMerge}),BASE64_MAP=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function resolveYamlBinary(F){if(F===null)return!1;var W,q,X=0,tt=F.length,ot=BASE64_MAP;for(q=0;q<tt;q++)if(W=ot.indexOf(F.charAt(q)),!(W>64)){if(W<0)return!1;X+=6}return X%8===0}function constructYamlBinary(F){var W,q,X=F.replace(/[\r\n=]/g,""),tt=X.length,ot=BASE64_MAP,at=0,ut=[];for(W=0;W<tt;W++)W%4===0&&W&&(ut.push(at>>16&255),ut.push(at>>8&255),ut.push(at&255)),at=at<<6|ot.indexOf(X.charAt(W));return q=tt%4*6,q===0?(ut.push(at>>16&255),ut.push(at>>8&255),ut.push(at&255)):q===18?(ut.push(at>>10&255),ut.push(at>>2&255)):q===12&&ut.push(at>>4&255),new Uint8Array(ut)}function representYamlBinary(F){var W="",q=0,X,tt,ot=F.length,at=BASE64_MAP;for(X=0;X<ot;X++)X%3===0&&X&&(W+=at[q>>18&63],W+=at[q>>12&63],W+=at[q>>6&63],W+=at[q&63]),q=(q<<8)+F[X];return tt=ot%3,tt===0?(W+=at[q>>18&63],W+=at[q>>12&63],W+=at[q>>6&63],W+=at[q&63]):tt===2?(W+=at[q>>10&63],W+=at[q>>4&63],W+=at[q<<2&63],W+=at[64]):tt===1&&(W+=at[q>>2&63],W+=at[q<<4&63],W+=at[64],W+=at[64]),W}function isBinary(F){return Object.prototype.toString.call(F)==="[object Uint8Array]"}var binary=new type("tag:yaml.org,2002:binary",{kind:"scalar",resolve:resolveYamlBinary,construct:constructYamlBinary,predicate:isBinary,represent:representYamlBinary}),_hasOwnProperty$3=Object.prototype.hasOwnProperty,_toString$2=Object.prototype.toString;function resolveYamlOmap(F){if(F===null)return!0;var W=[],q,X,tt,ot,at,ut=F;for(q=0,X=ut.length;q<X;q+=1){if(tt=ut[q],at=!1,_toString$2.call(tt)!=="[object Object]")return!1;for(ot in tt)if(_hasOwnProperty$3.call(tt,ot))if(!at)at=!0;else return!1;if(!at)return!1;if(W.indexOf(ot)===-1)W.push(ot);else return!1}return!0}function constructYamlOmap(F){return F!==null?F:[]}var omap=new type("tag:yaml.org,2002:omap",{kind:"sequence",resolve:resolveYamlOmap,construct:constructYamlOmap}),_toString$1=Object.prototype.toString;function resolveYamlPairs(F){if(F===null)return!0;var W,q,X,tt,ot,at=F;for(ot=new Array(at.length),W=0,q=at.length;W<q;W+=1){if(X=at[W],_toString$1.call(X)!=="[object Object]"||(tt=Object.keys(X),tt.length!==1))return!1;ot[W]=[tt[0],X[tt[0]]]}return!0}function constructYamlPairs(F){if(F===null)return[];var W,q,X,tt,ot,at=F;for(ot=new Array(at.length),W=0,q=at.length;W<q;W+=1)X=at[W],tt=Object.keys(X),ot[W]=[tt[0],X[tt[0]]];return ot}var pairs=new type("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:resolveYamlPairs,construct:constructYamlPairs}),_hasOwnProperty$2=Object.prototype.hasOwnProperty;function resolveYamlSet(F){if(F===null)return!0;var W,q=F;for(W in q)if(_hasOwnProperty$2.call(q,W)&&q[W]!==null)return!1;return!0}function constructYamlSet(F){return F!==null?F:{}}var set=new type("tag:yaml.org,2002:set",{kind:"mapping",resolve:resolveYamlSet,construct:constructYamlSet}),_default=core.extend({implicit:[timestamp,merge],explicit:[binary,omap,pairs,set]}),_hasOwnProperty$1=Object.prototype.hasOwnProperty,CONTEXT_FLOW_IN=1,CONTEXT_FLOW_OUT=2,CONTEXT_BLOCK_IN=3,CONTEXT_BLOCK_OUT=4,CHOMPING_CLIP=1,CHOMPING_STRIP=2,CHOMPING_KEEP=3,PATTERN_NON_PRINTABLE=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,PATTERN_NON_ASCII_LINE_BREAKS=/[\x85\u2028\u2029]/,PATTERN_FLOW_INDICATORS=/[,\[\]\{\}]/,PATTERN_TAG_HANDLE=/^(?:!|!!|![a-z\-]+!)$/i,PATTERN_TAG_URI=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _class(F){return Object.prototype.toString.call(F)}function is_EOL(F){return F===10||F===13}function is_WHITE_SPACE(F){return F===9||F===32}function is_WS_OR_EOL(F){return F===9||F===32||F===10||F===13}function is_FLOW_INDICATOR(F){return F===44||F===91||F===93||F===123||F===125}function fromHexCode(F){var W;return 48<=F&&F<=57?F-48:(W=F|32,97<=W&&W<=102?W-97+10:-1)}function escapedHexLen(F){return F===120?2:F===117?4:F===85?8:0}function fromDecimalCode(F){return 48<=F&&F<=57?F-48:-1}function simpleEscapeSequence(F){return F===48?"\0":F===97?"\x07":F===98?"\b":F===116||F===9?"	":F===110?`
`:F===118?"\v":F===102?"\f":F===114?"\r":F===101?"\x1B":F===32?" ":F===34?'"':F===47?"/":F===92?"\\":F===78?"":F===95?" ":F===76?"\u2028":F===80?"\u2029":""}function charFromCodepoint(F){return F<=65535?String.fromCharCode(F):String.fromCharCode((F-65536>>10)+55296,(F-65536&1023)+56320)}var simpleEscapeCheck=new Array(256),simpleEscapeMap=new Array(256);for(var i=0;i<256;i++)simpleEscapeCheck[i]=simpleEscapeSequence(i)?1:0,simpleEscapeMap[i]=simpleEscapeSequence(i);function State$1(F,W){this.input=F,this.filename=W.filename||null,this.schema=W.schema||_default,this.onWarning=W.onWarning||null,this.legacy=W.legacy||!1,this.json=W.json||!1,this.listener=W.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=F.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function generateError(F,W){var q={name:F.filename,buffer:F.input.slice(0,-1),position:F.position,line:F.line,column:F.position-F.lineStart};return q.snippet=snippet(q),new exception(W,q)}function throwError(F,W){throw generateError(F,W)}function throwWarning(F,W){F.onWarning&&F.onWarning.call(null,generateError(F,W))}var directiveHandlers={YAML:function F(W,q,X){var tt,ot,at;W.version!==null&&throwError(W,"duplication of %YAML directive"),X.length!==1&&throwError(W,"YAML directive accepts exactly one argument"),tt=/^([0-9]+)\.([0-9]+)$/.exec(X[0]),tt===null&&throwError(W,"ill-formed argument of the YAML directive"),ot=parseInt(tt[1],10),at=parseInt(tt[2],10),ot!==1&&throwError(W,"unacceptable YAML version of the document"),W.version=X[0],W.checkLineBreaks=at<2,at!==1&&at!==2&&throwWarning(W,"unsupported YAML version of the document")},TAG:function F(W,q,X){var tt,ot;X.length!==2&&throwError(W,"TAG directive accepts exactly two arguments"),tt=X[0],ot=X[1],PATTERN_TAG_HANDLE.test(tt)||throwError(W,"ill-formed tag handle (first argument) of the TAG directive"),_hasOwnProperty$1.call(W.tagMap,tt)&&throwError(W,'there is a previously declared suffix for "'+tt+'" tag handle'),PATTERN_TAG_URI.test(ot)||throwError(W,"ill-formed tag prefix (second argument) of the TAG directive");try{ot=decodeURIComponent(ot)}catch{throwError(W,"tag prefix is malformed: "+ot)}W.tagMap[tt]=ot}};function captureSegment(F,W,q,X){var tt,ot,at,ut;if(W<q){if(ut=F.input.slice(W,q),X)for(tt=0,ot=ut.length;tt<ot;tt+=1)at=ut.charCodeAt(tt),at===9||32<=at&&at<=1114111||throwError(F,"expected valid JSON character");else PATTERN_NON_PRINTABLE.test(ut)&&throwError(F,"the stream contains non-printable characters");F.result+=ut}}function mergeMappings(F,W,q,X){var tt,ot,at,ut;for(common$2.isObject(q)||throwError(F,"cannot merge mappings; the provided source object is unacceptable"),tt=Object.keys(q),at=0,ut=tt.length;at<ut;at+=1)ot=tt[at],_hasOwnProperty$1.call(W,ot)||(W[ot]=q[ot],X[ot]=!0)}function storeMappingPair(F,W,q,X,tt,ot,at,ut,wt){var uo,mo;if(Array.isArray(tt))for(tt=Array.prototype.slice.call(tt),uo=0,mo=tt.length;uo<mo;uo+=1)Array.isArray(tt[uo])&&throwError(F,"nested arrays are not supported inside keys"),typeof tt=="object"&&_class(tt[uo])==="[object Object]"&&(tt[uo]="[object Object]");if(typeof tt=="object"&&_class(tt)==="[object Object]"&&(tt="[object Object]"),tt=String(tt),W===null&&(W={}),X==="tag:yaml.org,2002:merge")if(Array.isArray(ot))for(uo=0,mo=ot.length;uo<mo;uo+=1)mergeMappings(F,W,ot[uo],q);else mergeMappings(F,W,ot,q);else!F.json&&!_hasOwnProperty$1.call(q,tt)&&_hasOwnProperty$1.call(W,tt)&&(F.line=at||F.line,F.lineStart=ut||F.lineStart,F.position=wt||F.position,throwError(F,"duplicated mapping key")),tt==="__proto__"?Object.defineProperty(W,tt,{configurable:!0,enumerable:!0,writable:!0,value:ot}):W[tt]=ot,delete q[tt];return W}function readLineBreak(F){var W;W=F.input.charCodeAt(F.position),W===10?F.position++:W===13?(F.position++,F.input.charCodeAt(F.position)===10&&F.position++):throwError(F,"a line break is expected"),F.line+=1,F.lineStart=F.position,F.firstTabInLine=-1}function skipSeparationSpace(F,W,q){for(var X=0,tt=F.input.charCodeAt(F.position);tt!==0;){for(;is_WHITE_SPACE(tt);)tt===9&&F.firstTabInLine===-1&&(F.firstTabInLine=F.position),tt=F.input.charCodeAt(++F.position);if(W&&tt===35)do tt=F.input.charCodeAt(++F.position);while(tt!==10&&tt!==13&&tt!==0);if(is_EOL(tt))for(readLineBreak(F),tt=F.input.charCodeAt(F.position),X++,F.lineIndent=0;tt===32;)F.lineIndent++,tt=F.input.charCodeAt(++F.position);else break}return q!==-1&&X!==0&&F.lineIndent<q&&throwWarning(F,"deficient indentation"),X}function testDocumentSeparator(F){var W=F.position,q;return q=F.input.charCodeAt(W),!!((q===45||q===46)&&q===F.input.charCodeAt(W+1)&&q===F.input.charCodeAt(W+2)&&(W+=3,q=F.input.charCodeAt(W),q===0||is_WS_OR_EOL(q)))}function writeFoldedLines(F,W){W===1?F.result+=" ":W>1&&(F.result+=common$2.repeat(`
`,W-1))}function readPlainScalar(F,W,q){var X,tt,ot,at,ut,wt,uo,mo,yo=F.kind,lf=F.result,uf;if(uf=F.input.charCodeAt(F.position),is_WS_OR_EOL(uf)||is_FLOW_INDICATOR(uf)||uf===35||uf===38||uf===42||uf===33||uf===124||uf===62||uf===39||uf===34||uf===37||uf===64||uf===96||(uf===63||uf===45)&&(tt=F.input.charCodeAt(F.position+1),is_WS_OR_EOL(tt)||q&&is_FLOW_INDICATOR(tt)))return!1;for(F.kind="scalar",F.result="",ot=at=F.position,ut=!1;uf!==0;){if(uf===58){if(tt=F.input.charCodeAt(F.position+1),is_WS_OR_EOL(tt)||q&&is_FLOW_INDICATOR(tt))break}else if(uf===35){if(X=F.input.charCodeAt(F.position-1),is_WS_OR_EOL(X))break}else{if(F.position===F.lineStart&&testDocumentSeparator(F)||q&&is_FLOW_INDICATOR(uf))break;if(is_EOL(uf))if(wt=F.line,uo=F.lineStart,mo=F.lineIndent,skipSeparationSpace(F,!1,-1),F.lineIndent>=W){ut=!0,uf=F.input.charCodeAt(F.position);continue}else{F.position=at,F.line=wt,F.lineStart=uo,F.lineIndent=mo;break}}ut&&(captureSegment(F,ot,at,!1),writeFoldedLines(F,F.line-wt),ot=at=F.position,ut=!1),is_WHITE_SPACE(uf)||(at=F.position+1),uf=F.input.charCodeAt(++F.position)}return captureSegment(F,ot,at,!1),F.result?!0:(F.kind=yo,F.result=lf,!1)}function readSingleQuotedScalar(F,W){var q,X,tt;if(q=F.input.charCodeAt(F.position),q!==39)return!1;for(F.kind="scalar",F.result="",F.position++,X=tt=F.position;(q=F.input.charCodeAt(F.position))!==0;)if(q===39)if(captureSegment(F,X,F.position,!0),q=F.input.charCodeAt(++F.position),q===39)X=F.position,F.position++,tt=F.position;else return!0;else is_EOL(q)?(captureSegment(F,X,tt,!0),writeFoldedLines(F,skipSeparationSpace(F,!1,W)),X=tt=F.position):F.position===F.lineStart&&testDocumentSeparator(F)?throwError(F,"unexpected end of the document within a single quoted scalar"):(F.position++,tt=F.position);throwError(F,"unexpected end of the stream within a single quoted scalar")}function readDoubleQuotedScalar(F,W){var q,X,tt,ot,at,ut;if(ut=F.input.charCodeAt(F.position),ut!==34)return!1;for(F.kind="scalar",F.result="",F.position++,q=X=F.position;(ut=F.input.charCodeAt(F.position))!==0;){if(ut===34)return captureSegment(F,q,F.position,!0),F.position++,!0;if(ut===92){if(captureSegment(F,q,F.position,!0),ut=F.input.charCodeAt(++F.position),is_EOL(ut))skipSeparationSpace(F,!1,W);else if(ut<256&&simpleEscapeCheck[ut])F.result+=simpleEscapeMap[ut],F.position++;else if((at=escapedHexLen(ut))>0){for(tt=at,ot=0;tt>0;tt--)ut=F.input.charCodeAt(++F.position),(at=fromHexCode(ut))>=0?ot=(ot<<4)+at:throwError(F,"expected hexadecimal character");F.result+=charFromCodepoint(ot),F.position++}else throwError(F,"unknown escape sequence");q=X=F.position}else is_EOL(ut)?(captureSegment(F,q,X,!0),writeFoldedLines(F,skipSeparationSpace(F,!1,W)),q=X=F.position):F.position===F.lineStart&&testDocumentSeparator(F)?throwError(F,"unexpected end of the document within a double quoted scalar"):(F.position++,X=F.position)}throwError(F,"unexpected end of the stream within a double quoted scalar")}function readFlowCollection(F,W){var q=!0,X,tt,ot,at=F.tag,ut,wt=F.anchor,uo,mo,yo,lf,uf,df=Object.create(null),wf,wo,ls,_f;if(_f=F.input.charCodeAt(F.position),_f===91)mo=93,uf=!1,ut=[];else if(_f===123)mo=125,uf=!0,ut={};else return!1;for(F.anchor!==null&&(F.anchorMap[F.anchor]=ut),_f=F.input.charCodeAt(++F.position);_f!==0;){if(skipSeparationSpace(F,!0,W),_f=F.input.charCodeAt(F.position),_f===mo)return F.position++,F.tag=at,F.anchor=wt,F.kind=uf?"mapping":"sequence",F.result=ut,!0;q?_f===44&&throwError(F,"expected the node content, but found ','"):throwError(F,"missed comma between flow collection entries"),wo=wf=ls=null,yo=lf=!1,_f===63&&(uo=F.input.charCodeAt(F.position+1),is_WS_OR_EOL(uo)&&(yo=lf=!0,F.position++,skipSeparationSpace(F,!0,W))),X=F.line,tt=F.lineStart,ot=F.position,composeNode(F,W,CONTEXT_FLOW_IN,!1,!0),wo=F.tag,wf=F.result,skipSeparationSpace(F,!0,W),_f=F.input.charCodeAt(F.position),(lf||F.line===X)&&_f===58&&(yo=!0,_f=F.input.charCodeAt(++F.position),skipSeparationSpace(F,!0,W),composeNode(F,W,CONTEXT_FLOW_IN,!1,!0),ls=F.result),uf?storeMappingPair(F,ut,df,wo,wf,ls,X,tt,ot):yo?ut.push(storeMappingPair(F,null,df,wo,wf,ls,X,tt,ot)):ut.push(wf),skipSeparationSpace(F,!0,W),_f=F.input.charCodeAt(F.position),_f===44?(q=!0,_f=F.input.charCodeAt(++F.position)):q=!1}throwError(F,"unexpected end of the stream within a flow collection")}function readBlockScalar(F,W){var q,X,tt=CHOMPING_CLIP,ot=!1,at=!1,ut=W,wt=0,uo=!1,mo,yo;if(yo=F.input.charCodeAt(F.position),yo===124)X=!1;else if(yo===62)X=!0;else return!1;for(F.kind="scalar",F.result="";yo!==0;)if(yo=F.input.charCodeAt(++F.position),yo===43||yo===45)CHOMPING_CLIP===tt?tt=yo===43?CHOMPING_KEEP:CHOMPING_STRIP:throwError(F,"repeat of a chomping mode identifier");else if((mo=fromDecimalCode(yo))>=0)mo===0?throwError(F,"bad explicit indentation width of a block scalar; it cannot be less than one"):at?throwError(F,"repeat of an indentation width identifier"):(ut=W+mo-1,at=!0);else break;if(is_WHITE_SPACE(yo)){do yo=F.input.charCodeAt(++F.position);while(is_WHITE_SPACE(yo));if(yo===35)do yo=F.input.charCodeAt(++F.position);while(!is_EOL(yo)&&yo!==0)}for(;yo!==0;){for(readLineBreak(F),F.lineIndent=0,yo=F.input.charCodeAt(F.position);(!at||F.lineIndent<ut)&&yo===32;)F.lineIndent++,yo=F.input.charCodeAt(++F.position);if(!at&&F.lineIndent>ut&&(ut=F.lineIndent),is_EOL(yo)){wt++;continue}if(F.lineIndent<ut){tt===CHOMPING_KEEP?F.result+=common$2.repeat(`
`,ot?1+wt:wt):tt===CHOMPING_CLIP&&ot&&(F.result+=`
`);break}for(X?is_WHITE_SPACE(yo)?(uo=!0,F.result+=common$2.repeat(`
`,ot?1+wt:wt)):uo?(uo=!1,F.result+=common$2.repeat(`
`,wt+1)):wt===0?ot&&(F.result+=" "):F.result+=common$2.repeat(`
`,wt):F.result+=common$2.repeat(`
`,ot?1+wt:wt),ot=!0,at=!0,wt=0,q=F.position;!is_EOL(yo)&&yo!==0;)yo=F.input.charCodeAt(++F.position);captureSegment(F,q,F.position,!1)}return!0}function readBlockSequence(F,W){var q,X=F.tag,tt=F.anchor,ot=[],at,ut=!1,wt;if(F.firstTabInLine!==-1)return!1;for(F.anchor!==null&&(F.anchorMap[F.anchor]=ot),wt=F.input.charCodeAt(F.position);wt!==0&&(F.firstTabInLine!==-1&&(F.position=F.firstTabInLine,throwError(F,"tab characters must not be used in indentation")),!(wt!==45||(at=F.input.charCodeAt(F.position+1),!is_WS_OR_EOL(at))));){if(ut=!0,F.position++,skipSeparationSpace(F,!0,-1)&&F.lineIndent<=W){ot.push(null),wt=F.input.charCodeAt(F.position);continue}if(q=F.line,composeNode(F,W,CONTEXT_BLOCK_IN,!1,!0),ot.push(F.result),skipSeparationSpace(F,!0,-1),wt=F.input.charCodeAt(F.position),(F.line===q||F.lineIndent>W)&&wt!==0)throwError(F,"bad indentation of a sequence entry");else if(F.lineIndent<W)break}return ut?(F.tag=X,F.anchor=tt,F.kind="sequence",F.result=ot,!0):!1}function readBlockMapping(F,W,q){var X,tt,ot,at,ut,wt,uo=F.tag,mo=F.anchor,yo={},lf=Object.create(null),uf=null,df=null,wf=null,wo=!1,ls=!1,_f;if(F.firstTabInLine!==-1)return!1;for(F.anchor!==null&&(F.anchorMap[F.anchor]=yo),_f=F.input.charCodeAt(F.position);_f!==0;){if(!wo&&F.firstTabInLine!==-1&&(F.position=F.firstTabInLine,throwError(F,"tab characters must not be used in indentation")),X=F.input.charCodeAt(F.position+1),ot=F.line,(_f===63||_f===58)&&is_WS_OR_EOL(X))_f===63?(wo&&(storeMappingPair(F,yo,lf,uf,df,null,at,ut,wt),uf=df=wf=null),ls=!0,wo=!0,tt=!0):wo?(wo=!1,tt=!0):throwError(F,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),F.position+=1,_f=X;else{if(at=F.line,ut=F.lineStart,wt=F.position,!composeNode(F,q,CONTEXT_FLOW_OUT,!1,!0))break;if(F.line===ot){for(_f=F.input.charCodeAt(F.position);is_WHITE_SPACE(_f);)_f=F.input.charCodeAt(++F.position);if(_f===58)_f=F.input.charCodeAt(++F.position),is_WS_OR_EOL(_f)||throwError(F,"a whitespace character is expected after the key-value separator within a block mapping"),wo&&(storeMappingPair(F,yo,lf,uf,df,null,at,ut,wt),uf=df=wf=null),ls=!0,wo=!1,tt=!1,uf=F.tag,df=F.result;else if(ls)throwError(F,"can not read an implicit mapping pair; a colon is missed");else return F.tag=uo,F.anchor=mo,!0}else if(ls)throwError(F,"can not read a block mapping entry; a multiline key may not be an implicit key");else return F.tag=uo,F.anchor=mo,!0}if((F.line===ot||F.lineIndent>W)&&(wo&&(at=F.line,ut=F.lineStart,wt=F.position),composeNode(F,W,CONTEXT_BLOCK_OUT,!0,tt)&&(wo?df=F.result:wf=F.result),wo||(storeMappingPair(F,yo,lf,uf,df,wf,at,ut,wt),uf=df=wf=null),skipSeparationSpace(F,!0,-1),_f=F.input.charCodeAt(F.position)),(F.line===ot||F.lineIndent>W)&&_f!==0)throwError(F,"bad indentation of a mapping entry");else if(F.lineIndent<W)break}return wo&&storeMappingPair(F,yo,lf,uf,df,null,at,ut,wt),ls&&(F.tag=uo,F.anchor=mo,F.kind="mapping",F.result=yo),ls}function readTagProperty(F){var W,q=!1,X=!1,tt,ot,at;if(at=F.input.charCodeAt(F.position),at!==33)return!1;if(F.tag!==null&&throwError(F,"duplication of a tag property"),at=F.input.charCodeAt(++F.position),at===60?(q=!0,at=F.input.charCodeAt(++F.position)):at===33?(X=!0,tt="!!",at=F.input.charCodeAt(++F.position)):tt="!",W=F.position,q){do at=F.input.charCodeAt(++F.position);while(at!==0&&at!==62);F.position<F.length?(ot=F.input.slice(W,F.position),at=F.input.charCodeAt(++F.position)):throwError(F,"unexpected end of the stream within a verbatim tag")}else{for(;at!==0&&!is_WS_OR_EOL(at);)at===33&&(X?throwError(F,"tag suffix cannot contain exclamation marks"):(tt=F.input.slice(W-1,F.position+1),PATTERN_TAG_HANDLE.test(tt)||throwError(F,"named tag handle cannot contain such characters"),X=!0,W=F.position+1)),at=F.input.charCodeAt(++F.position);ot=F.input.slice(W,F.position),PATTERN_FLOW_INDICATORS.test(ot)&&throwError(F,"tag suffix cannot contain flow indicator characters")}ot&&!PATTERN_TAG_URI.test(ot)&&throwError(F,"tag name cannot contain such characters: "+ot);try{ot=decodeURIComponent(ot)}catch{throwError(F,"tag name is malformed: "+ot)}return q?F.tag=ot:_hasOwnProperty$1.call(F.tagMap,tt)?F.tag=F.tagMap[tt]+ot:tt==="!"?F.tag="!"+ot:tt==="!!"?F.tag="tag:yaml.org,2002:"+ot:throwError(F,'undeclared tag handle "'+tt+'"'),!0}function readAnchorProperty(F){var W,q;if(q=F.input.charCodeAt(F.position),q!==38)return!1;for(F.anchor!==null&&throwError(F,"duplication of an anchor property"),q=F.input.charCodeAt(++F.position),W=F.position;q!==0&&!is_WS_OR_EOL(q)&&!is_FLOW_INDICATOR(q);)q=F.input.charCodeAt(++F.position);return F.position===W&&throwError(F,"name of an anchor node must contain at least one character"),F.anchor=F.input.slice(W,F.position),!0}function readAlias(F){var W,q,X;if(X=F.input.charCodeAt(F.position),X!==42)return!1;for(X=F.input.charCodeAt(++F.position),W=F.position;X!==0&&!is_WS_OR_EOL(X)&&!is_FLOW_INDICATOR(X);)X=F.input.charCodeAt(++F.position);return F.position===W&&throwError(F,"name of an alias node must contain at least one character"),q=F.input.slice(W,F.position),_hasOwnProperty$1.call(F.anchorMap,q)||throwError(F,'unidentified alias "'+q+'"'),F.result=F.anchorMap[q],skipSeparationSpace(F,!0,-1),!0}function composeNode(F,W,q,X,tt){var ot,at,ut,wt=1,uo=!1,mo=!1,yo,lf,uf,df,wf,wo;if(F.listener!==null&&F.listener("open",F),F.tag=null,F.anchor=null,F.kind=null,F.result=null,ot=at=ut=CONTEXT_BLOCK_OUT===q||CONTEXT_BLOCK_IN===q,X&&skipSeparationSpace(F,!0,-1)&&(uo=!0,F.lineIndent>W?wt=1:F.lineIndent===W?wt=0:F.lineIndent<W&&(wt=-1)),wt===1)for(;readTagProperty(F)||readAnchorProperty(F);)skipSeparationSpace(F,!0,-1)?(uo=!0,ut=ot,F.lineIndent>W?wt=1:F.lineIndent===W?wt=0:F.lineIndent<W&&(wt=-1)):ut=!1;if(ut&&(ut=uo||tt),(wt===1||CONTEXT_BLOCK_OUT===q)&&(CONTEXT_FLOW_IN===q||CONTEXT_FLOW_OUT===q?wf=W:wf=W+1,wo=F.position-F.lineStart,wt===1?ut&&(readBlockSequence(F,wo)||readBlockMapping(F,wo,wf))||readFlowCollection(F,wf)?mo=!0:(at&&readBlockScalar(F,wf)||readSingleQuotedScalar(F,wf)||readDoubleQuotedScalar(F,wf)?mo=!0:readAlias(F)?(mo=!0,(F.tag!==null||F.anchor!==null)&&throwError(F,"alias node should not have any properties")):readPlainScalar(F,wf,CONTEXT_FLOW_IN===q)&&(mo=!0,F.tag===null&&(F.tag="?")),F.anchor!==null&&(F.anchorMap[F.anchor]=F.result)):wt===0&&(mo=ut&&readBlockSequence(F,wo))),F.tag===null)F.anchor!==null&&(F.anchorMap[F.anchor]=F.result);else if(F.tag==="?"){for(F.result!==null&&F.kind!=="scalar"&&throwError(F,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+F.kind+'"'),yo=0,lf=F.implicitTypes.length;yo<lf;yo+=1)if(df=F.implicitTypes[yo],df.resolve(F.result)){F.result=df.construct(F.result),F.tag=df.tag,F.anchor!==null&&(F.anchorMap[F.anchor]=F.result);break}}else if(F.tag!=="!"){if(_hasOwnProperty$1.call(F.typeMap[F.kind||"fallback"],F.tag))df=F.typeMap[F.kind||"fallback"][F.tag];else for(df=null,uf=F.typeMap.multi[F.kind||"fallback"],yo=0,lf=uf.length;yo<lf;yo+=1)if(F.tag.slice(0,uf[yo].tag.length)===uf[yo].tag){df=uf[yo];break}df||throwError(F,"unknown tag !<"+F.tag+">"),F.result!==null&&df.kind!==F.kind&&throwError(F,"unacceptable node kind for !<"+F.tag+'> tag; it should be "'+df.kind+'", not "'+F.kind+'"'),df.resolve(F.result,F.tag)?(F.result=df.construct(F.result,F.tag),F.anchor!==null&&(F.anchorMap[F.anchor]=F.result)):throwError(F,"cannot resolve a node with !<"+F.tag+"> explicit tag")}return F.listener!==null&&F.listener("close",F),F.tag!==null||F.anchor!==null||mo}function readDocument(F){var W=F.position,q,X,tt,ot=!1,at;for(F.version=null,F.checkLineBreaks=F.legacy,F.tagMap=Object.create(null),F.anchorMap=Object.create(null);(at=F.input.charCodeAt(F.position))!==0&&(skipSeparationSpace(F,!0,-1),at=F.input.charCodeAt(F.position),!(F.lineIndent>0||at!==37));){for(ot=!0,at=F.input.charCodeAt(++F.position),q=F.position;at!==0&&!is_WS_OR_EOL(at);)at=F.input.charCodeAt(++F.position);for(X=F.input.slice(q,F.position),tt=[],X.length<1&&throwError(F,"directive name must not be less than one character in length");at!==0;){for(;is_WHITE_SPACE(at);)at=F.input.charCodeAt(++F.position);if(at===35){do at=F.input.charCodeAt(++F.position);while(at!==0&&!is_EOL(at));break}if(is_EOL(at))break;for(q=F.position;at!==0&&!is_WS_OR_EOL(at);)at=F.input.charCodeAt(++F.position);tt.push(F.input.slice(q,F.position))}at!==0&&readLineBreak(F),_hasOwnProperty$1.call(directiveHandlers,X)?directiveHandlers[X](F,X,tt):throwWarning(F,'unknown document directive "'+X+'"')}if(skipSeparationSpace(F,!0,-1),F.lineIndent===0&&F.input.charCodeAt(F.position)===45&&F.input.charCodeAt(F.position+1)===45&&F.input.charCodeAt(F.position+2)===45?(F.position+=3,skipSeparationSpace(F,!0,-1)):ot&&throwError(F,"directives end mark is expected"),composeNode(F,F.lineIndent-1,CONTEXT_BLOCK_OUT,!1,!0),skipSeparationSpace(F,!0,-1),F.checkLineBreaks&&PATTERN_NON_ASCII_LINE_BREAKS.test(F.input.slice(W,F.position))&&throwWarning(F,"non-ASCII line breaks are interpreted as content"),F.documents.push(F.result),F.position===F.lineStart&&testDocumentSeparator(F)){F.input.charCodeAt(F.position)===46&&(F.position+=3,skipSeparationSpace(F,!0,-1));return}if(F.position<F.length-1)throwError(F,"end of the stream or a document separator is expected");else return}function loadDocuments(F,W){F=String(F),W=W||{},F.length!==0&&(F.charCodeAt(F.length-1)!==10&&F.charCodeAt(F.length-1)!==13&&(F+=`
`),F.charCodeAt(0)===65279&&(F=F.slice(1)));var q=new State$1(F,W),X=F.indexOf("\0");for(X!==-1&&(q.position=X,throwError(q,"null byte is not allowed in input")),q.input+="\0";q.input.charCodeAt(q.position)===32;)q.lineIndent+=1,q.position+=1;for(;q.position<q.length-1;)readDocument(q);return q.documents}function loadAll$1(F,W,q){W!==null&&typeof W=="object"&&typeof q>"u"&&(q=W,W=null);var X=loadDocuments(F,q);if(typeof W!="function")return X;for(var tt=0,ot=X.length;tt<ot;tt+=1)W(X[tt])}function load$1(F,W){var q=loadDocuments(F,W);if(q.length!==0){if(q.length===1)return q[0];throw new exception("expected a single document in the stream, but found more")}}var loadAll_1=loadAll$1,load_1=load$1,loader={loadAll:loadAll_1,load:load_1},JSON_SCHEMA=json,load=loader.load;function extractFrontMatter(F){const W=F.match(frontMatterRegex);if(!W)return{text:F,metadata:{}};let q=load(W[1],{schema:JSON_SCHEMA})??{};q=typeof q=="object"&&!Array.isArray(q)?q:{};const X={};return q.displayMode&&(X.displayMode=q.displayMode.toString()),q.title&&(X.title=q.title.toString()),q.config&&(X.config=q.config),{text:F.slice(W[0].length),metadata:X}}const cleanupText=F=>F.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(W,q,X)=>"<"+q+X.replace(/="([^"]*)"/g,"='$1'")+">"),processFrontmatter=F=>{const{text:W,metadata:q}=extractFrontMatter(F),{displayMode:X,title:tt,config:ot={}}=q;return X&&(ot.gantt||(ot.gantt={}),ot.gantt.displayMode=X),{title:tt,config:ot,text:W}},processDirectives=F=>{const W=utils.detectInit(F)??{},q=utils.detectDirective(F,"wrap");return Array.isArray(q)?W.wrap=q.some(({type:X})=>{}):(q==null?void 0:q.type)==="wrap"&&(W.wrap=!0),{text:removeDirectives(F),directive:W}};function preprocessDiagram(F){const W=cleanupText(F),q=processFrontmatter(W),X=processDirectives(q.text),tt=cleanAndMerge(q.config,X.directive);return F=cleanupComments(X.text),{code:F,title:q.title,config:tt}}const MAX_TEXTLENGTH=5e4,MAX_TEXTLENGTH_EXCEEDED_MSG="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",SECURITY_LVL_SANDBOX="sandbox",SECURITY_LVL_LOOSE="loose",XMLNS_SVG_STD="http://www.w3.org/2000/svg",XMLNS_XLINK_STD="http://www.w3.org/1999/xlink",XMLNS_XHTML_STD="http://www.w3.org/1999/xhtml",IFRAME_WIDTH="100%",IFRAME_HEIGHT="100%",IFRAME_STYLES="border:0;margin:0;",IFRAME_BODY_STYLE="margin:0",IFRAME_SANDBOX_OPTS="allow-top-navigation-by-user-activation allow-popups",IFRAME_NOT_SUPPORTED_MSG='The "iframe" tag is not supported by your browser.',DOMPURIFY_TAGS=["foreignobject"],DOMPURIFY_ATTR=["dominant-baseline"];function processAndSetConfigs(F){const W=preprocessDiagram(F);return reset(),addDirective(W.config??{}),W}async function parse$1(F,W){addDiagrams(),F=processAndSetConfigs(F).code;try{await getDiagramFromText(F)}catch(q){if(W!=null&&W.suppressErrors)return!1;throw q}return!0}const cssImportantStyles=(F,W,q=[])=>`
.${F} ${W} { ${q.join(" !important; ")} !important; }`,createCssStyles=(F,W={})=>{var q;let X="";if(F.themeCSS!==void 0&&(X+=`
${F.themeCSS}`),F.fontFamily!==void 0&&(X+=`
:root { --mermaid-font-family: ${F.fontFamily}}`),F.altFontFamily!==void 0&&(X+=`
:root { --mermaid-alt-font-family: ${F.altFontFamily}}`),!isEmpty(W)){const ut=F.htmlLabels||((q=F.flowchart)==null?void 0:q.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];for(const wt in W){const uo=W[wt];isEmpty(uo.styles)||ut.forEach(mo=>{X+=cssImportantStyles(uo.id,mo,uo.styles)}),isEmpty(uo.textStyles)||(X+=cssImportantStyles(uo.id,"tspan",uo.textStyles))}}return X},createUserStyles=(F,W,q,X)=>{const tt=createCssStyles(F,q),ot=getStyles$1(W,tt,F.themeVariables);return serialize(compile(`${X}{${ot}}`),stringify)},cleanUpSvgCode=(F="",W,q)=>{let X=F;return!q&&!W&&(X=X.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),X=decodeEntities(X),X=X.replace(/<br>/g,"<br/>"),X},putIntoIFrame=(F="",W)=>{var q,X;const tt=(X=(q=W==null?void 0:W.viewBox)==null?void 0:q.baseVal)!=null&&X.height?W.viewBox.baseVal.height+"px":IFRAME_HEIGHT,ot=btoa('<body style="'+IFRAME_BODY_STYLE+'">'+F+"</body>");return`<iframe style="width:${IFRAME_WIDTH};height:${tt};${IFRAME_STYLES}" src="data:text/html;base64,${ot}" sandbox="${IFRAME_SANDBOX_OPTS}">
  ${IFRAME_NOT_SUPPORTED_MSG}
</iframe>`},appendDivSvgG=(F,W,q,X,tt)=>{const ot=F.append("div");ot.attr("id",q),X&&ot.attr("style",X);const at=ot.append("svg").attr("id",W).attr("width","100%").attr("xmlns",XMLNS_SVG_STD);return tt&&at.attr("xmlns:xlink",tt),at.append("g"),F};function sandboxedIframe(F,W){return F.append("iframe").attr("id",W).attr("style","width: 100%; height: 100%;").attr("sandbox","")}const removeExistingElements=(F,W,q,X)=>{var tt,ot,at;(tt=F.getElementById(W))==null||tt.remove(),(ot=F.getElementById(q))==null||ot.remove(),(at=F.getElementById(X))==null||at.remove()},render$1=async function(F,W,q){var X,tt,ot,at,ut,wt;addDiagrams();const uo=processAndSetConfigs(W);W=uo.code;const mo=getConfig$1();log$1.debug(mo),W.length>((mo==null?void 0:mo.maxTextSize)??MAX_TEXTLENGTH)&&(W=MAX_TEXTLENGTH_EXCEEDED_MSG);const yo="#"+F,lf="i"+F,uf="#"+lf,df="d"+F,wf="#"+df;let wo=select("body");const ls=mo.securityLevel===SECURITY_LVL_SANDBOX,_f=mo.securityLevel===SECURITY_LVL_LOOSE,po=mo.fontFamily;if(q!==void 0){if(q&&(q.innerHTML=""),ls){const mp=sandboxedIframe(select(q),lf);wo=select(mp.nodes()[0].contentDocument.body),wo.node().style.margin=0}else wo=select(q);appendDivSvgG(wo,F,df,`font-family: ${po}`,XMLNS_XLINK_STD)}else{if(removeExistingElements(document,F,df,lf),ls){const mp=sandboxedIframe(select("body"),lf);wo=select(mp.nodes()[0].contentDocument.body),wo.node().style.margin=0}else wo=select("body");appendDivSvgG(wo,F,df)}let xo,gf;try{xo=await getDiagramFromText(W,{title:uo.title})}catch(mp){xo=new Diagram("error"),gf=mp}const cf=wo.select(wf).node(),yf=xo.type,Sf=cf.firstChild,xf=Sf.firstChild,bf=(tt=(X=xo.renderer).getClasses)==null?void 0:tt.call(X,W,xo),Af=createUserStyles(mo,yf,bf,yo),Pf=document.createElement("style");Pf.innerHTML=Af,Sf.insertBefore(Pf,xf);try{await xo.renderer.draw(W,F,version,xo)}catch(mp){throw errorRenderer.draw(W,F,version),mp}const Df=wo.select(`${wf} svg`),zf=(at=(ot=xo.db).getAccTitle)==null?void 0:at.call(ot),jf=(wt=(ut=xo.db).getAccDescription)==null?void 0:wt.call(ut);addA11yInfo(yf,Df,zf,jf),wo.select(`[id="${F}"]`).selectAll("foreignobject > *").attr("xmlns",XMLNS_XHTML_STD);let $f=wo.select(wf).node().innerHTML;if(log$1.debug("config.arrowMarkerAbsolute",mo.arrowMarkerAbsolute),$f=cleanUpSvgCode($f,ls,evaluate(mo.arrowMarkerAbsolute)),ls){const mp=wo.select(wf+" svg").node();$f=putIntoIFrame($f,mp)}else _f||($f=purify.sanitize($f,{ADD_TAGS:DOMPURIFY_TAGS,ADD_ATTR:DOMPURIFY_ATTR}));if(attachFunctions(),gf)throw gf;const Xf=select(ls?uf:wf).node();return Xf&&"remove"in Xf&&Xf.remove(),{svg:$f,bindFunctions:xo.db.bindFunctions}};function initialize$1(F={}){var W;F!=null&&F.fontFamily&&!((W=F.themeVariables)!=null&&W.fontFamily)&&(F.themeVariables||(F.themeVariables={}),F.themeVariables.fontFamily=F.fontFamily),saveConfigFromInitialize(F),F!=null&&F.theme&&F.theme in theme?F.themeVariables=theme[F.theme].getThemeVariables(F.themeVariables):F&&(F.themeVariables=theme.default.getThemeVariables(F.themeVariables));const q=typeof F=="object"?setSiteConfig(F):getSiteConfig();setLogLevel$1(q.logLevel),addDiagrams()}const getDiagramFromText=(F,W={})=>{const{code:q}=preprocessDiagram(F);return getDiagramFromText$1(q,W)};function addA11yInfo(F,W,q,X){setA11yDiagramInfo(W,F),addSVGa11yTitleDescription(W,q,X,W.attr("id"))}const mermaidAPI=Object.freeze({render:render$1,parse:parse$1,getDiagramFromText,initialize:initialize$1,getConfig:getConfig$1,setConfig:setConfig$1,getSiteConfig,updateSiteConfig,reset:()=>{reset()},globalReset:()=>{reset(defaultConfig$1)},defaultConfig:defaultConfig$1});setLogLevel$1(getConfig$1().logLevel);reset(getConfig$1());const loadRegisteredDiagrams=async()=>{log$1.debug("Loading registered diagrams");const W=(await Promise.allSettled(Object.entries(detectors).map(async([q,{detector:X,loader:tt}])=>{if(tt)try{getDiagram(q)}catch{try{const{diagram:at,id:ut}=await tt();registerDiagram(ut,at,X)}catch(at){throw log$1.error(`Failed to load external diagram with key ${q}. Removing from detectors.`),delete detectors[q],at}}}))).filter(q=>q.status==="rejected");if(W.length>0){log$1.error(`Failed to load ${W.length} external diagrams`);for(const q of W)log$1.error(q);throw new Error(`Failed to load ${W.length} external diagrams`)}},handleError=(F,W,q)=>{log$1.warn(F),isDetailedError(F)?(q&&q(F.str,F.hash),W.push({...F,message:F.str,error:F})):(q&&q(F),F instanceof Error&&W.push({str:F.message,message:F.message,hash:F.name,error:F}))},run=async function(F={querySelector:".mermaid"}){try{await runThrowsErrors(F)}catch(W){if(isDetailedError(W)&&log$1.error(W.str),mermaid.parseError&&mermaid.parseError(W),!F.suppressErrors)throw log$1.error("Use the suppressErrors option to suppress these errors"),W}},runThrowsErrors=async function({postRenderCallback:F,querySelector:W,nodes:q}={querySelector:".mermaid"}){const X=mermaidAPI.getConfig();log$1.debug(`${F?"":"No "}Callback function found`);let tt;if(q)tt=q;else if(W)tt=document.querySelectorAll(W);else throw new Error("Nodes and querySelector are both undefined");log$1.debug(`Found ${tt.length} diagrams`),(X==null?void 0:X.startOnLoad)!==void 0&&(log$1.debug("Start On Load: "+(X==null?void 0:X.startOnLoad)),mermaidAPI.updateSiteConfig({startOnLoad:X==null?void 0:X.startOnLoad}));const ot=new utils.InitIDGenerator(X.deterministicIds,X.deterministicIDSeed);let at;const ut=[];for(const wt of Array.from(tt)){log$1.info("Rendering diagram: "+wt.id);/*! Check if previously processed */if(wt.getAttribute("data-processed"))continue;wt.setAttribute("data-processed","true");const uo=`mermaid-${ot.next()}`;at=wt.innerHTML,at=dedent(utils.entityDecode(at)).trim().replace(/<br\s*\/?>/gi,"<br/>");const mo=utils.detectInit(at);mo&&log$1.debug("Detected early reinit: ",mo);try{const{svg:yo,bindFunctions:lf}=await render(uo,at,wt);wt.innerHTML=yo,F&&await F(uo),lf&&lf(wt)}catch(yo){handleError(yo,ut,mermaid.parseError)}}if(ut.length>0)throw ut[0]},initialize=function(F){mermaidAPI.initialize(F)},init=async function(F,W,q){log$1.warn("mermaid.init is deprecated. Please use run instead."),F&&initialize(F);const X={postRenderCallback:q,querySelector:".mermaid"};typeof W=="string"?X.querySelector=W:W&&(W instanceof HTMLElement?X.nodes=[W]:X.nodes=W),await run(X)},registerExternalDiagrams=async(F,{lazyLoad:W=!0}={})=>{registerLazyLoadedDiagrams(...F),W===!1&&await loadRegisteredDiagrams()},contentLoaded=function(){if(mermaid.startOnLoad){const{startOnLoad:F}=mermaidAPI.getConfig();F&&mermaid.run().catch(W=>log$1.error("Mermaid failed to initialize",W))}};if(typeof document<"u"){/*!
 * Wait for document loaded before starting the execution
 */window.addEventListener("load",contentLoaded,!1)}const setParseErrorHandler=function(F){mermaid.parseError=F},executionQueue=[];let executionQueueRunning=!1;const executeQueue=async()=>{if(!executionQueueRunning){for(executionQueueRunning=!0;executionQueue.length>0;){const F=executionQueue.shift();if(F)try{await F()}catch(W){log$1.error("Error executing queue",W)}}executionQueueRunning=!1}},parse=async(F,W)=>new Promise((q,X)=>{const tt=()=>new Promise((ot,at)=>{mermaidAPI.parse(F,W).then(ut=>{ot(ut),q(ut)},ut=>{var wt;log$1.error("Error parsing",ut),(wt=mermaid.parseError)==null||wt.call(mermaid,ut),at(ut),X(ut)})});executionQueue.push(tt),executeQueue().catch(X)}),render=(F,W,q)=>new Promise((X,tt)=>{const ot=()=>new Promise((at,ut)=>{mermaidAPI.render(F,W,q).then(wt=>{at(wt),X(wt)},wt=>{var uo;log$1.error("Error parsing",wt),(uo=mermaid.parseError)==null||uo.call(mermaid,wt),ut(wt),tt(wt)})});executionQueue.push(ot),executeQueue().catch(tt)}),mermaid={startOnLoad:!0,mermaidAPI,parse,render,init,run,registerExternalDiagrams,initialize,parseError:void 0,contentLoaded,setParseErrorHandler,detectType},_hoisted_1$4={key:0,class:"caption"},_sfc_main$6=defineComponent({__name:"Mermaid.ce",props:{caption:{type:String},height:{type:String},width:{type:String}},setup(F){const W=F;watch$1(W,()=>{W.width&&(X.value.style.width=`${W.width}px`),W.height&&(X.value.style.height=`${W.height}px`)});const q=ref(null),X=computed(()=>{var ut,wt;return(wt=(ut=q.value)==null?void 0:ut.getRootNode())==null?void 0:wt.host}),tt=ref(null);watch$1(X,()=>{W.width&&(X.value.style.width=`${W.width}px`),W.height&&(X.value.style.height=`${W.height}px`),mermaid.initialize({startOnLoad:!1})});const ot=computed(()=>{var ut;return(ut=X.value)==null?void 0:ut.textContent.trim()}),at=computed(()=>W.caption);return watch$1(ot,async ut=>{const{svg:wt}=await mermaid.render("diagram",ut);tt.value&&(tt.value.innerHTML=wt)}),(ut,wt)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:q,class:"content"},[createBaseVNode("div",{class:"diagram",ref_key:"diagram",ref:tt},null,512),at.value?(openBlock(),createElementBlock("div",_hoisted_1$4,toDisplayString(at.value),1)):createCommentVNode("",!0)],512))}}),_style_0$4=`*{box-sizing:border-box}.content{display:flex;flex-wrap:wrap;flex-direction:column;justify-content:center;align-content:center;box-shadow:0 2px 4px #00000080!important}.diagram{display:block;margin:auto;padding:12px 0;text-align:center;width:100%}.caption{text-align:start;padding:6px 12px;font-size:1.2em;border:1px solid #ddd}
`,Mermaid=_export_sfc(_sfc_main$6,[["styles",[_style_0$4]]]),_sfc_main$5=defineComponent({__name:"Meta.ce",props:{title:{type:String},description:{type:String},author:{type:String},viewport:{type:String},robots:{type:String}},setup(F){return(W,q)=>null}}),_hoisted_1$3={class:"hs-overlay-open:mt-7 hs-overlay-open:opacity-100 hs-overlay-open:duration-500 mt-0 opacity-0 ease-out transition-all sm:max-w-lg sm:w-full m-3 sm:mx-auto min-h-[calc(100%-3.5rem)] flex items-center"},_hoisted_2$2={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},_hoisted_3$2={class:"p-4 overflow-y-auto"},_hoisted_4$1={class:"mt-1 text-gray-800 dark:text-gray-400"},_sfc_main$4=defineComponent({__name:"Modal.ce",props:{open:{type:Boolean,default:!1}},setup(F){const W=F,q=ref(null),X=ref(null),tt=computed(()=>{var uo,mo;return(mo=(uo=q.value)==null?void 0:uo.getRootNode())==null?void 0:mo.host}),ot=computed(()=>q==null?void 0:q.value),at=computed(()=>X==null?void 0:X.value),ut=computed(()=>new HSOverlay(ot.value));watch$1(at,()=>{ut.value.init(),at.value.addEventListener("open.hs.overlay",uo=>wt.value=!0),at.value.addEventListener("close.hs.overlay",uo=>wt.value=!1)});const wt=ref(!1);return watch$1(wt,uo=>{uo?(ut.value.open(at.value),tt.value.setAttribute("open","")):(ut.value.close(at.value),tt.value.removeAttribute("open"))}),watch$1(W,()=>{wt.value=W.open}),onMounted(()=>{wt.value=W.open}),(uo,mo)=>(openBlock(),createElementBlock("div",{ref_key:"overlayRef",ref:q},[createBaseVNode("div",{ref_key:"modalRef",ref:X,id:"hs-basic-modal",class:"hs-overlay hidden w-full h-full fixed top-0 start-0 z-[80] overflow-x-hidden overflow-y-auto pointer-events-none"},[createBaseVNode("div",_hoisted_1$3,[createBaseVNode("div",_hoisted_2$2,[createBaseVNode("div",_hoisted_3$2,[createBaseVNode("p",_hoisted_4$1,[renderSlot(uo.$slots,"default")])])])])],512)],512))}}),_style_0$3=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.end-1{inset-inline-end:.25rem}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-3{margin:.75rem}.me-1{margin-inline-end:.25rem}.ml-1{margin-left:.25rem}.mr-2{margin-right:.5rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-40{height:10rem}.h-64{height:16rem}.h-8{height:2rem}.h-80{height:20rem}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-1{width:.25rem}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-10{padding:2.5rem}.p-14{padding:3.5rem}.p-16{padding:4rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-8{padding:2rem}.px-4{padding-left:1rem;padding-right:1rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pe-1{padding-inline-end:.25rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.\\!ordinal{--tw-ordinal: ordinal !important;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)!important}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[a\\:a\\]{a:a}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}mdp-header ul,mdp-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}
`,Modal=_export_sfc(_sfc_main$4,[["styles",[_style_0$3]]]);var lib={},IdentifierIssuer_1=class bP{constructor(W,q=new Map,X=0){this.prefix=W,this._existing=q,this.counter=X}clone(){const{prefix:W,_existing:q,counter:X}=this;return new bP(W,new Map(q),X)}getId(W){const q=W&&this._existing.get(W);if(q)return q;const X=this.prefix+this.counter;return this.counter++,W&&this._existing.set(W,X),X}hasId(W){return this._existing.has(W)}getOldIds(){return[...this._existing.keys()]}};(function(F,W){if(F.setImmediate)return;var q=1,X={},tt=!1,ot=F.document,at;function ut(_f){typeof _f!="function"&&(_f=new Function(""+_f));for(var po=new Array(arguments.length-1),xo=0;xo<po.length;xo++)po[xo]=arguments[xo+1];var gf={callback:_f,args:po};return X[q]=gf,at(q),q++}function wt(_f){delete X[_f]}function uo(_f){var po=_f.callback,xo=_f.args;switch(xo.length){case 0:po();break;case 1:po(xo[0]);break;case 2:po(xo[0],xo[1]);break;case 3:po(xo[0],xo[1],xo[2]);break;default:po.apply(W,xo);break}}function mo(_f){if(tt)setTimeout(mo,0,_f);else{var po=X[_f];if(po){tt=!0;try{uo(po)}finally{wt(_f),tt=!1}}}}function yo(){at=function(_f){process.nextTick(function(){mo(_f)})}}function lf(){if(F.postMessage&&!F.importScripts){var _f=!0,po=F.onmessage;return F.onmessage=function(){_f=!1},F.postMessage("","*"),F.onmessage=po,_f}}function uf(){var _f="setImmediate$"+Math.random()+"$",po=function(xo){xo.source===F&&typeof xo.data=="string"&&xo.data.indexOf(_f)===0&&mo(+xo.data.slice(_f.length))};F.addEventListener?F.addEventListener("message",po,!1):F.attachEvent("onmessage",po),at=function(xo){F.postMessage(_f+xo,"*")}}function df(){var _f=new MessageChannel;_f.port1.onmessage=function(po){var xo=po.data;mo(xo)},at=function(po){_f.port2.postMessage(po)}}function wf(){var _f=ot.documentElement;at=function(po){var xo=ot.createElement("script");xo.onreadystatechange=function(){mo(po),xo.onreadystatechange=null,_f.removeChild(xo),xo=null},_f.appendChild(xo)}}function wo(){at=function(_f){setTimeout(mo,0,_f)}}var ls=Object.getPrototypeOf&&Object.getPrototypeOf(F);ls=ls&&ls.setTimeout?ls:F,{}.toString.call(F.process)==="[object process]"?yo():lf()?uf():F.MessageChannel?df():ot&&"onreadystatechange"in ot.createElement("script")?wf():wo(),ls.setImmediate=ut,ls.clearImmediate=wt})(typeof self>"u"?commonjsGlobal:self);/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const crypto$1=self.crypto||self.msCrypto;var MessageDigestBrowser=class{constructor(W){if(!(crypto$1&&crypto$1.subtle))throw new Error("crypto.subtle not found.");if(W==="sha256")this.algorithm={name:"SHA-256"};else if(W==="sha1")this.algorithm={name:"SHA-1"};else throw new Error(`Unsupported algorithm "${W}".`);this._content=""}update(W){this._content+=W}async digest(){const W=new TextEncoder().encode(this._content),q=new Uint8Array(await crypto$1.subtle.digest(this.algorithm,W));let X="";for(let tt=0;tt<q.length;++tt)X+=q[tt].toString(16).padStart(2,"0");return X}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */var Permuter_1=class{constructor(W){this.current=W.sort(),this.done=!1,this.dir=new Map;for(let q=0;q<W.length;++q)this.dir.set(W[q],!0)}hasNext(){return!this.done}next(){const{current:W,dir:q}=this,X=W.slice();let tt=null,ot=0;const at=W.length;for(let ut=0;ut<at;++ut){const wt=W[ut],uo=q.get(wt);(tt===null||wt>tt)&&(uo&&ut>0&&wt>W[ut-1]||!uo&&ut<at-1&&wt>W[ut+1])&&(tt=wt,ot=ut)}if(tt===null)this.done=!0;else{const ut=q.get(tt)?ot-1:ot+1;W[ot]=W[ut],W[ut]=tt;for(const wt of W)wt>tt&&q.set(wt,!q.get(wt))}return X}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const RDF$1="http://www.w3.org/1999/02/22-rdf-syntax-ns#",RDF_LANGSTRING$1=RDF$1+"langString",XSD_STRING$2="http://www.w3.org/2001/XMLSchema#string",TYPE_NAMED_NODE="NamedNode",TYPE_BLANK_NODE="BlankNode",TYPE_LITERAL="Literal",TYPE_DEFAULT_GRAPH="DefaultGraph",REGEX={};(()=>{const F="(?:<([^:]+:[^>]*)>)",q="A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�"+"_",X=q+"0-9-·̀-ͯ‿-⁀",ot="(_:(?:["+q+"0-9])(?:(?:["+X+".])*(?:["+X+"]))?)",at='"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"',ut="(?:\\^\\^"+F+")",wt="(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*))",uo="(?:"+at+"(?:"+ut+"|"+wt+")?)",mo="[ \\t]+",yo="[ \\t]*",lf="(?:"+F+"|"+ot+")"+mo,uf=F+mo,df="(?:"+F+"|"+ot+"|"+uo+")"+yo,wf="(?:\\.|(?:(?:"+F+"|"+ot+")"+yo+"\\.))";REGEX.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,REGEX.empty=new RegExp("^"+yo+"$"),REGEX.quad=new RegExp("^"+yo+lf+uf+df+wf+yo+"$")})();var NQuads_1=class RA{static parse(W){const q=[],X={},tt=W.split(REGEX.eoln);let ot=0;for(const at of tt){if(ot++,REGEX.empty.test(at))continue;const ut=at.match(REGEX.quad);if(ut===null)throw new Error("N-Quads parse error on line "+ot+".");const wt={subject:null,predicate:null,object:null,graph:null};if(ut[1]!==void 0?wt.subject={termType:TYPE_NAMED_NODE,value:ut[1]}:wt.subject={termType:TYPE_BLANK_NODE,value:ut[2]},wt.predicate={termType:TYPE_NAMED_NODE,value:ut[3]},ut[4]!==void 0?wt.object={termType:TYPE_NAMED_NODE,value:ut[4]}:ut[5]!==void 0?wt.object={termType:TYPE_BLANK_NODE,value:ut[5]}:(wt.object={termType:TYPE_LITERAL,value:void 0,datatype:{termType:TYPE_NAMED_NODE}},ut[7]!==void 0?wt.object.datatype.value=ut[7]:ut[8]!==void 0?(wt.object.datatype.value=RDF_LANGSTRING$1,wt.object.language=ut[8]):wt.object.datatype.value=XSD_STRING$2,wt.object.value=_unescape(ut[6])),ut[9]!==void 0?wt.graph={termType:TYPE_NAMED_NODE,value:ut[9]}:ut[10]!==void 0?wt.graph={termType:TYPE_BLANK_NODE,value:ut[10]}:wt.graph={termType:TYPE_DEFAULT_GRAPH,value:""},!(wt.graph.value in X))X[wt.graph.value]=[wt],q.push(wt);else{let uo=!0;const mo=X[wt.graph.value];for(const yo of mo)if(_compareTriples(yo,wt)){uo=!1;break}uo&&(mo.push(wt),q.push(wt))}}return q}static serialize(W){Array.isArray(W)||(W=RA.legacyDatasetToQuads(W));const q=[];for(const X of W)q.push(RA.serializeQuad(X));return q.sort().join("")}static serializeQuadComponents(W,q,X,tt){let ot="";return W.termType===TYPE_NAMED_NODE?ot+=`<${W.value}>`:ot+=`${W.value}`,ot+=` <${q.value}> `,X.termType===TYPE_NAMED_NODE?ot+=`<${X.value}>`:X.termType===TYPE_BLANK_NODE?ot+=X.value:(ot+=`"${_escape(X.value)}"`,X.datatype.value===RDF_LANGSTRING$1?X.language&&(ot+=`@${X.language}`):X.datatype.value!==XSD_STRING$2&&(ot+=`^^<${X.datatype.value}>`)),tt.termType===TYPE_NAMED_NODE?ot+=` <${tt.value}>`:tt.termType===TYPE_BLANK_NODE&&(ot+=` ${tt.value}`),ot+=` .
`,ot}static serializeQuad(W){return RA.serializeQuadComponents(W.subject,W.predicate,W.object,W.graph)}static legacyDatasetToQuads(W){const q=[],X={"blank node":TYPE_BLANK_NODE,IRI:TYPE_NAMED_NODE,literal:TYPE_LITERAL};for(const tt in W)W[tt].forEach(at=>{const ut={};for(const wt in at){const uo=at[wt],mo={termType:X[uo.type],value:uo.value};mo.termType===TYPE_LITERAL&&(mo.datatype={termType:TYPE_NAMED_NODE},"datatype"in uo&&(mo.datatype.value=uo.datatype),"language"in uo?("datatype"in uo||(mo.datatype.value=RDF_LANGSTRING$1),mo.language=uo.language):"datatype"in uo||(mo.datatype.value=XSD_STRING$2)),ut[wt]=mo}tt==="@default"?ut.graph={termType:TYPE_DEFAULT_GRAPH,value:""}:ut.graph={termType:tt.startsWith("_:")?TYPE_BLANK_NODE:TYPE_NAMED_NODE,value:tt},q.push(ut)});return q}};function _compareTriples(F,W){return!(F.subject.termType===W.subject.termType&&F.object.termType===W.object.termType)||!(F.subject.value===W.subject.value&&F.predicate.value===W.predicate.value&&F.object.value===W.object.value)?!1:F.object.termType!==TYPE_LITERAL?!0:F.object.datatype.termType===W.object.datatype.termType&&F.object.language===W.object.language&&F.object.datatype.value===W.object.datatype.value}const _escapeRegex=/["\\\n\r]/g;function _escape(F){return F.replace(_escapeRegex,function(W){switch(W){case'"':return'\\"';case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r"}})}const _unescapeRegex=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function _unescape(F){return F.replace(_unescapeRegex,function(W,q,X,tt){if(q)switch(q){case"t":return"	";case"b":return"\b";case"n":return`
`;case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(X)return String.fromCharCode(parseInt(X,16));if(tt)throw new Error("Unsupported U escape")})}/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const IdentifierIssuer$3=IdentifierIssuer_1,MessageDigest$3=MessageDigestBrowser,Permuter$1=Permuter_1,NQuads$3=NQuads_1;var URDNA2015_1=class{constructor({createMessageDigest:W=()=>new MessageDigest$3("sha256"),canonicalIdMap:q=new Map,maxDeepIterations:X=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new IdentifierIssuer$3("_:c14n",q),this.createMessageDigest=W,this.maxDeepIterations=X,this.quads=null,this.deepIterations=null}async main(W){this.deepIterations=new Map,this.quads=W;for(const wt of W)this._addBlankNodeQuadInfo({quad:wt,component:wt.subject}),this._addBlankNodeQuadInfo({quad:wt,component:wt.object}),this._addBlankNodeQuadInfo({quad:wt,component:wt.graph});const q=new Map,X=[...this.blankNodeInfo.keys()];let tt=0;for(const wt of X)++tt%100===0&&await this._yield(),await this._hashAndTrackBlankNode({id:wt,hashToBlankNodes:q});const ot=[...q.keys()].sort(),at=[];for(const wt of ot){const uo=q.get(wt);if(uo.length>1){at.push(uo);continue}const mo=uo[0];this.canonicalIssuer.getId(mo)}for(const wt of at){const uo=[];for(const mo of wt){if(this.canonicalIssuer.hasId(mo))continue;const yo=new IdentifierIssuer$3("_:b");yo.getId(mo);const lf=await this.hashNDegreeQuads(mo,yo);uo.push(lf)}uo.sort(_stringHashCompare$1);for(const mo of uo){const yo=mo.issuer.getOldIds();for(const lf of yo)this.canonicalIssuer.getId(lf)}}const ut=[];for(const wt of this.quads){const uo=NQuads$3.serializeQuadComponents(this._componentWithCanonicalId(wt.subject),wt.predicate,this._componentWithCanonicalId(wt.object),this._componentWithCanonicalId(wt.graph));ut.push(uo)}return ut.sort(),ut.join("")}async hashFirstDegreeQuads(W){const q=[],X=this.blankNodeInfo.get(W),tt=X.quads;for(const at of tt){const ut={subject:null,predicate:at.predicate,object:null,graph:null};ut.subject=this.modifyFirstDegreeComponent(W,at.subject,"subject"),ut.object=this.modifyFirstDegreeComponent(W,at.object,"object"),ut.graph=this.modifyFirstDegreeComponent(W,at.graph,"graph"),q.push(NQuads$3.serializeQuad(ut))}q.sort();const ot=this.createMessageDigest();for(const at of q)ot.update(at);return X.hash=await ot.digest(),X.hash}async hashRelatedBlankNode(W,q,X,tt){let ot;this.canonicalIssuer.hasId(W)?ot=this.canonicalIssuer.getId(W):X.hasId(W)?ot=X.getId(W):ot=this.blankNodeInfo.get(W).hash;const at=this.createMessageDigest();return at.update(tt),tt!=="g"&&at.update(this.getRelatedPredicate(q)),at.update(ot),at.digest()}async hashNDegreeQuads(W,q){const X=this.deepIterations.get(W)||0;if(X>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(W,X+1);const tt=this.createMessageDigest(),ot=await this.createHashToRelated(W,q),at=[...ot.keys()].sort();for(const ut of at){tt.update(ut);let wt="",uo;const mo=new Permuter$1(ot.get(ut));let yo=0;for(;mo.hasNext();){const lf=mo.next();++yo%3===0&&await this._yield();let uf=q.clone(),df="";const wf=[];let wo=!1;for(const ls of lf)if(this.canonicalIssuer.hasId(ls)?df+=this.canonicalIssuer.getId(ls):(uf.hasId(ls)||wf.push(ls),df+=uf.getId(ls)),wt.length!==0&&df>wt){wo=!0;break}if(!wo){for(const ls of wf){const _f=await this.hashNDegreeQuads(ls,uf);if(df+=uf.getId(ls),df+=`<${_f.hash}>`,uf=_f.issuer,wt.length!==0&&df>wt){wo=!0;break}}wo||(wt.length===0||df<wt)&&(wt=df,uo=uf)}}tt.update(wt),q=uo}return{hash:await tt.digest(),issuer:q}}modifyFirstDegreeComponent(W,q){return q.termType!=="BlankNode"?q:{termType:"BlankNode",value:q.value===W?"_:a":"_:z"}}getRelatedPredicate(W){return`<${W.predicate.value}>`}async createHashToRelated(W,q){const X=new Map,tt=this.blankNodeInfo.get(W).quads;let ot=0;for(const at of tt)++ot%100===0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:at,component:at.subject,position:"s",id:W,issuer:q,hashToRelated:X}),this._addRelatedBlankNodeHash({quad:at,component:at.object,position:"o",id:W,issuer:q,hashToRelated:X}),this._addRelatedBlankNodeHash({quad:at,component:at.graph,position:"g",id:W,issuer:q,hashToRelated:X})]);return X}async _hashAndTrackBlankNode({id:W,hashToBlankNodes:q}){const X=await this.hashFirstDegreeQuads(W),tt=q.get(X);tt?tt.push(W):q.set(X,[W])}_addBlankNodeQuadInfo({quad:W,component:q}){if(q.termType!=="BlankNode")return;const X=q.value,tt=this.blankNodeInfo.get(X);tt?tt.quads.add(W):this.blankNodeInfo.set(X,{quads:new Set([W]),hash:null})}async _addRelatedBlankNodeHash({quad:W,component:q,position:X,id:tt,issuer:ot,hashToRelated:at}){if(!(q.termType==="BlankNode"&&q.value!==tt))return;const ut=q.value,wt=await this.hashRelatedBlankNode(ut,W,ot,X),uo=at.get(wt);uo?uo.push(ut):at.set(wt,[ut])}_componentWithCanonicalId(W){return W.termType==="BlankNode"&&!W.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(W.value)}:W}async _yield(){return new Promise(W=>setImmediate(W))}};function _stringHashCompare$1(F,W){return F.hash<W.hash?-1:F.hash>W.hash?1:0}/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const MessageDigest$2=MessageDigestBrowser,URDNA2015=URDNA2015_1;var URGNA2012=class extends URDNA2015{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new MessageDigest$2("sha1")}modifyFirstDegreeComponent(W,q,X){return q.termType!=="BlankNode"?q:X==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:q.value===W?"_:a":"_:z"}}getRelatedPredicate(W){return W.predicate.value}async createHashToRelated(W,q){const X=new Map,tt=this.blankNodeInfo.get(W).quads;let ot=0;for(const at of tt){let ut,wt;if(at.subject.termType==="BlankNode"&&at.subject.value!==W)wt=at.subject.value,ut="p";else if(at.object.termType==="BlankNode"&&at.object.value!==W)wt=at.object.value,ut="r";else continue;++ot%100===0&&await this._yield();const uo=await this.hashRelatedBlankNode(wt,at,q,ut),mo=X.get(uo);mo?mo.push(wt):X.set(uo,[wt])}return X}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const IdentifierIssuer$2=IdentifierIssuer_1,MessageDigest$1=MessageDigestBrowser,Permuter=Permuter_1,NQuads$2=NQuads_1;var URDNA2015Sync_1=class{constructor({createMessageDigest:W=()=>new MessageDigest$1("sha256"),canonicalIdMap:q=new Map,maxDeepIterations:X=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new IdentifierIssuer$2("_:c14n",q),this.createMessageDigest=W,this.maxDeepIterations=X,this.quads=null,this.deepIterations=null}main(W){this.deepIterations=new Map,this.quads=W;for(const ut of W)this._addBlankNodeQuadInfo({quad:ut,component:ut.subject}),this._addBlankNodeQuadInfo({quad:ut,component:ut.object}),this._addBlankNodeQuadInfo({quad:ut,component:ut.graph});const q=new Map,X=[...this.blankNodeInfo.keys()];for(const ut of X)this._hashAndTrackBlankNode({id:ut,hashToBlankNodes:q});const tt=[...q.keys()].sort(),ot=[];for(const ut of tt){const wt=q.get(ut);if(wt.length>1){ot.push(wt);continue}const uo=wt[0];this.canonicalIssuer.getId(uo)}for(const ut of ot){const wt=[];for(const uo of ut){if(this.canonicalIssuer.hasId(uo))continue;const mo=new IdentifierIssuer$2("_:b");mo.getId(uo);const yo=this.hashNDegreeQuads(uo,mo);wt.push(yo)}wt.sort(_stringHashCompare);for(const uo of wt){const mo=uo.issuer.getOldIds();for(const yo of mo)this.canonicalIssuer.getId(yo)}}const at=[];for(const ut of this.quads){const wt=NQuads$2.serializeQuadComponents(this._componentWithCanonicalId({component:ut.subject}),ut.predicate,this._componentWithCanonicalId({component:ut.object}),this._componentWithCanonicalId({component:ut.graph}));at.push(wt)}return at.sort(),at.join("")}hashFirstDegreeQuads(W){const q=[],X=this.blankNodeInfo.get(W),tt=X.quads;for(const at of tt){const ut={subject:null,predicate:at.predicate,object:null,graph:null};ut.subject=this.modifyFirstDegreeComponent(W,at.subject,"subject"),ut.object=this.modifyFirstDegreeComponent(W,at.object,"object"),ut.graph=this.modifyFirstDegreeComponent(W,at.graph,"graph"),q.push(NQuads$2.serializeQuad(ut))}q.sort();const ot=this.createMessageDigest();for(const at of q)ot.update(at);return X.hash=ot.digest(),X.hash}hashRelatedBlankNode(W,q,X,tt){let ot;this.canonicalIssuer.hasId(W)?ot=this.canonicalIssuer.getId(W):X.hasId(W)?ot=X.getId(W):ot=this.blankNodeInfo.get(W).hash;const at=this.createMessageDigest();return at.update(tt),tt!=="g"&&at.update(this.getRelatedPredicate(q)),at.update(ot),at.digest()}hashNDegreeQuads(W,q){const X=this.deepIterations.get(W)||0;if(X>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(W,X+1);const tt=this.createMessageDigest(),ot=this.createHashToRelated(W,q),at=[...ot.keys()].sort();for(const ut of at){tt.update(ut);let wt="",uo;const mo=new Permuter(ot.get(ut));for(;mo.hasNext();){const yo=mo.next();let lf=q.clone(),uf="";const df=[];let wf=!1;for(const wo of yo)if(this.canonicalIssuer.hasId(wo)?uf+=this.canonicalIssuer.getId(wo):(lf.hasId(wo)||df.push(wo),uf+=lf.getId(wo)),wt.length!==0&&uf>wt){wf=!0;break}if(!wf){for(const wo of df){const ls=this.hashNDegreeQuads(wo,lf);if(uf+=lf.getId(wo),uf+=`<${ls.hash}>`,lf=ls.issuer,wt.length!==0&&uf>wt){wf=!0;break}}wf||(wt.length===0||uf<wt)&&(wt=uf,uo=lf)}}tt.update(wt),q=uo}return{hash:tt.digest(),issuer:q}}modifyFirstDegreeComponent(W,q){return q.termType!=="BlankNode"?q:{termType:"BlankNode",value:q.value===W?"_:a":"_:z"}}getRelatedPredicate(W){return`<${W.predicate.value}>`}createHashToRelated(W,q){const X=new Map,tt=this.blankNodeInfo.get(W).quads;for(const ot of tt)this._addRelatedBlankNodeHash({quad:ot,component:ot.subject,position:"s",id:W,issuer:q,hashToRelated:X}),this._addRelatedBlankNodeHash({quad:ot,component:ot.object,position:"o",id:W,issuer:q,hashToRelated:X}),this._addRelatedBlankNodeHash({quad:ot,component:ot.graph,position:"g",id:W,issuer:q,hashToRelated:X});return X}_hashAndTrackBlankNode({id:W,hashToBlankNodes:q}){const X=this.hashFirstDegreeQuads(W),tt=q.get(X);tt?tt.push(W):q.set(X,[W])}_addBlankNodeQuadInfo({quad:W,component:q}){if(q.termType!=="BlankNode")return;const X=q.value,tt=this.blankNodeInfo.get(X);tt?tt.quads.add(W):this.blankNodeInfo.set(X,{quads:new Set([W]),hash:null})}_addRelatedBlankNodeHash({quad:W,component:q,position:X,id:tt,issuer:ot,hashToRelated:at}){if(!(q.termType==="BlankNode"&&q.value!==tt))return;const ut=q.value,wt=this.hashRelatedBlankNode(ut,W,ot,X),uo=at.get(wt);uo?uo.push(ut):at.set(wt,[ut])}_componentWithCanonicalId({component:W}){return W.termType==="BlankNode"&&!W.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(W.value)}:W}};function _stringHashCompare(F,W){return F.hash<W.hash?-1:F.hash>W.hash?1:0}/*!
 * Copyright (c) 2016-2021 Digital Bazaar, Inc. All rights reserved.
 */const MessageDigest=MessageDigestBrowser,URDNA2015Sync=URDNA2015Sync_1;var URGNA2012Sync=class extends URDNA2015Sync{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new MessageDigest("sha1")}modifyFirstDegreeComponent(W,q,X){return q.termType!=="BlankNode"?q:X==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:q.value===W?"_:a":"_:z"}}getRelatedPredicate(W){return W.predicate.value}createHashToRelated(W,q){const X=new Map,tt=this.blankNodeInfo.get(W).quads;for(const ot of tt){let at,ut;if(ot.subject.termType==="BlankNode"&&ot.subject.value!==W)ut=ot.subject.value,at="p";else if(ot.object.termType==="BlankNode"&&ot.object.value!==W)ut=ot.object.value,at="r";else continue;const wt=this.hashRelatedBlankNode(ut,ot,q,at),uo=X.get(wt);uo?uo.push(ut):X.set(wt,[ut])}return X}};(function(F){const W=URDNA2015_1,q=URGNA2012,X=URDNA2015Sync_1,tt=URGNA2012Sync;let ot;try{ot=require$$4}catch{}function at(ut){return Array.isArray(ut)?ut:F.NQuads.legacyDatasetToQuads(ut)}F.NQuads=NQuads_1,F.IdentifierIssuer=IdentifierIssuer_1,F._rdfCanonizeNative=function(ut){return ut&&(ot=ut),ot},F.canonize=async function(ut,wt){const uo=at(ut);if(wt.useNative){if(!ot)throw new Error("rdf-canonize-native not available");if(wt.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise((mo,yo)=>ot.canonize(uo,wt,(lf,uf)=>lf?yo(lf):mo(uf)))}if(wt.algorithm==="URDNA2015")return new W(wt).main(uo);if(wt.algorithm==="URGNA2012"){if(wt.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new q(wt).main(uo)}throw"algorithm"in wt?new Error("Invalid RDF Dataset Canonicalization algorithm: "+wt.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")},F._canonizeSync=function(ut,wt){const uo=at(ut);if(wt.useNative){if(!ot)throw new Error("rdf-canonize-native not available");if(wt.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return ot.canonizeSync(uo,wt)}if(wt.algorithm==="URDNA2015")return new X(wt).main(uo);if(wt.algorithm==="URGNA2012"){if(wt.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new tt(wt).main(uo)}throw"algorithm"in wt?new Error("Invalid RDF Dataset Canonicalization algorithm: "+wt.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")}})(lib);var rdfCanonize=lib;const api$d={};var types$7=api$d;api$d.isArray=Array.isArray;api$d.isBoolean=F=>typeof F=="boolean"||Object.prototype.toString.call(F)==="[object Boolean]";api$d.isDouble=F=>api$d.isNumber(F)&&(String(F).indexOf(".")!==-1||Math.abs(F)>=1e21);api$d.isEmptyObject=F=>api$d.isObject(F)&&Object.keys(F).length===0;api$d.isNumber=F=>typeof F=="number"||Object.prototype.toString.call(F)==="[object Number]";api$d.isNumeric=F=>!isNaN(parseFloat(F))&&isFinite(F);api$d.isObject=F=>Object.prototype.toString.call(F)==="[object Object]";api$d.isString=F=>typeof F=="string"||Object.prototype.toString.call(F)==="[object String]";api$d.isUndefined=F=>typeof F>"u";const types$6=types$7,api$c={};var graphTypes$5=api$c;api$c.isSubject=F=>types$6.isObject(F)&&!("@value"in F||"@set"in F||"@list"in F)?Object.keys(F).length>1||!("@id"in F):!1;api$c.isSubjectReference=F=>types$6.isObject(F)&&Object.keys(F).length===1&&"@id"in F;api$c.isValue=F=>types$6.isObject(F)&&"@value"in F;api$c.isList=F=>types$6.isObject(F)&&"@list"in F;api$c.isGraph=F=>types$6.isObject(F)&&"@graph"in F&&Object.keys(F).filter(W=>W!=="@id"&&W!=="@index").length===1;api$c.isSimpleGraph=F=>api$c.isGraph(F)&&!("@id"in F);api$c.isBlankNode=F=>{if(types$6.isObject(F)){if("@id"in F){const W=F["@id"];return!types$6.isString(W)||W.indexOf("_:")===0}return Object.keys(F).length===0||!("@value"in F||"@set"in F||"@list"in F)}return!1};var JsonLdError_1=class extends Error{constructor(W="An unspecified JSON-LD error occurred.",q="jsonld.Error",X={}){super(W),this.name=q,this.message=W,this.details=X}};const graphTypes$4=graphTypes$5,types$5=types$7,IdentifierIssuer$1=rdfCanonize.IdentifierIssuer,JsonLdError$b=JsonLdError_1,REGEX_BCP47$3=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,REGEX_LINK_HEADERS=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,REGEX_LINK_HEADER$1=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,REGEX_LINK_HEADER_PARAMS=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,REGEX_KEYWORD$3=/^@[a-zA-Z]+$/,DEFAULTS={headers:{accept:"application/ld+json, application/json"}},api$b={};var util$5=api$b;api$b.IdentifierIssuer=IdentifierIssuer$1;api$b.REGEX_BCP47=REGEX_BCP47$3;api$b.REGEX_KEYWORD=REGEX_KEYWORD$3;api$b.clone=function(F){if(F&&typeof F=="object"){let W;if(types$5.isArray(F)){W=[];for(let q=0;q<F.length;++q)W[q]=api$b.clone(F[q])}else if(F instanceof Map){W=new Map;for(const[q,X]of F)W.set(q,api$b.clone(X))}else if(F instanceof Set){W=new Set;for(const q of F)W.add(api$b.clone(q))}else if(types$5.isObject(F)){W={};for(const q in F)W[q]=api$b.clone(F[q])}else W=F.toString();return W}return F};api$b.asArray=function(F){return Array.isArray(F)?F:[F]};api$b.buildHeaders=(F={})=>{if(Object.keys(F).some(q=>q.toLowerCase()==="accept"))throw new RangeError('Accept header may not be specified; only "'+DEFAULTS.headers.accept+'" is supported.');return Object.assign({Accept:DEFAULTS.headers.accept},F)};api$b.parseLinkHeader=F=>{const W={},q=F.match(REGEX_LINK_HEADERS);for(let X=0;X<q.length;++X){let tt=q[X].match(REGEX_LINK_HEADER$1);if(!tt)continue;const ot={target:tt[1]},at=tt[2];for(;tt=REGEX_LINK_HEADER_PARAMS.exec(at);)ot[tt[1]]=tt[2]===void 0?tt[3]:tt[2];const ut=ot.rel||"";Array.isArray(W[ut])?W[ut].push(ot):W.hasOwnProperty(ut)?W[ut]=[W[ut],ot]:W[ut]=ot}return W};api$b.validateTypeValue=(F,W)=>{if(!types$5.isString(F)&&!(types$5.isArray(F)&&F.every(q=>types$5.isString(q)))){if(W&&types$5.isObject(F))switch(Object.keys(F).length){case 0:return;case 1:if("@default"in F&&api$b.asArray(F["@default"]).every(q=>types$5.isString(q)))return}throw new JsonLdError$b('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:F})}};api$b.hasProperty=(F,W)=>{if(F.hasOwnProperty(W)){const q=F[W];return!types$5.isArray(q)||q.length>0}return!1};api$b.hasValue=(F,W,q)=>{if(api$b.hasProperty(F,W)){let X=F[W];const tt=graphTypes$4.isList(X);if(types$5.isArray(X)||tt){tt&&(X=X["@list"]);for(let ot=0;ot<X.length;++ot)if(api$b.compareValues(q,X[ot]))return!0}else if(!types$5.isArray(q))return api$b.compareValues(q,X)}return!1};api$b.addValue=(F,W,q,X)=>{if(X=X||{},"propertyIsArray"in X||(X.propertyIsArray=!1),"valueIsArray"in X||(X.valueIsArray=!1),"allowDuplicate"in X||(X.allowDuplicate=!0),"prependValue"in X||(X.prependValue=!1),X.valueIsArray)F[W]=q;else if(types$5.isArray(q)){q.length===0&&X.propertyIsArray&&!F.hasOwnProperty(W)&&(F[W]=[]),X.prependValue&&(q=q.concat(F[W]),F[W]=[]);for(let tt=0;tt<q.length;++tt)api$b.addValue(F,W,q[tt],X)}else if(F.hasOwnProperty(W)){const tt=!X.allowDuplicate&&api$b.hasValue(F,W,q);!types$5.isArray(F[W])&&(!tt||X.propertyIsArray)&&(F[W]=[F[W]]),tt||(X.prependValue?F[W].unshift(q):F[W].push(q))}else F[W]=X.propertyIsArray?[q]:q};api$b.getValues=(F,W)=>[].concat(F[W]||[]);api$b.removeProperty=(F,W)=>{delete F[W]};api$b.removeValue=(F,W,q,X)=>{X=X||{},"propertyIsArray"in X||(X.propertyIsArray=!1);const tt=api$b.getValues(F,W).filter(ot=>!api$b.compareValues(ot,q));tt.length===0?api$b.removeProperty(F,W):tt.length===1&&!X.propertyIsArray?F[W]=tt[0]:F[W]=tt};api$b.relabelBlankNodes=(F,W)=>{W=W||{};const q=W.issuer||new IdentifierIssuer$1("_:b");return _labelBlankNodes(q,F)};api$b.compareValues=(F,W)=>F===W||graphTypes$4.isValue(F)&&graphTypes$4.isValue(W)&&F["@value"]===W["@value"]&&F["@type"]===W["@type"]&&F["@language"]===W["@language"]&&F["@index"]===W["@index"]?!0:types$5.isObject(F)&&"@id"in F&&types$5.isObject(W)&&"@id"in W?F["@id"]===W["@id"]:!1;api$b.compareShortestLeast=(F,W)=>F.length<W.length?-1:W.length<F.length?1:F===W?0:F<W?-1:1;function _labelBlankNodes(F,W){if(types$5.isArray(W))for(let q=0;q<W.length;++q)W[q]=_labelBlankNodes(F,W[q]);else if(graphTypes$4.isList(W))W["@list"]=_labelBlankNodes(F,W["@list"]);else if(types$5.isObject(W)){graphTypes$4.isBlankNode(W)&&(W["@id"]=F.getId(W["@id"]));const q=Object.keys(W).sort();for(let X=0;X<q.length;++X){const tt=q[X];tt!=="@id"&&(W[tt]=_labelBlankNodes(F,W[tt]))}}return W}const RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",XSD="http://www.w3.org/2001/XMLSchema#";var constants={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF,RDF_LIST:RDF+"List",RDF_FIRST:RDF+"first",RDF_REST:RDF+"rest",RDF_NIL:RDF+"nil",RDF_TYPE:RDF+"type",RDF_PLAIN_LITERAL:RDF+"PlainLiteral",RDF_XML_LITERAL:RDF+"XMLLiteral",RDF_JSON_LITERAL:RDF+"JSON",RDF_OBJECT:RDF+"object",RDF_LANGSTRING:RDF+"langString",XSD,XSD_BOOLEAN:XSD+"boolean",XSD_DOUBLE:XSD+"double",XSD_INTEGER:XSD+"integer",XSD_STRING:XSD+"string"},RequestQueue_1,hasRequiredRequestQueue;function requireRequestQueue(){return hasRequiredRequestQueue||(hasRequiredRequestQueue=1,RequestQueue_1=class{constructor(){this._requests={}}wrapLoader(W){const q=this;return q._loader=W,function(){return q.add.apply(q,arguments)}}async add(W){let q=this._requests[W];if(q)return Promise.resolve(q);q=this._requests[W]=this._loader(W);try{return await q}finally{delete this._requests[W]}}}),RequestQueue_1}const types$4=types$7,api$a={};var url$1=api$a;api$a.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([a-zA-Z][a-zA-Z0-9+-.]*):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}};api$a.parse=(F,W)=>{const q={},X=api$a.parsers[W||"full"],tt=X.regex.exec(F);let ot=X.keys.length;for(;ot--;)q[X.keys[ot]]=tt[ot]===void 0?null:tt[ot];return(q.scheme==="https"&&q.port==="443"||q.scheme==="http"&&q.port==="80")&&(q.href=q.href.replace(":"+q.port,""),q.authority=q.authority.replace(":"+q.port,""),q.port=null),q.normalizedPath=api$a.removeDotSegments(q.path),q};api$a.prependBase=(F,W)=>{if(F===null||api$a.isAbsolute(W))return W;(!F||types$4.isString(F))&&(F=api$a.parse(F||""));const q=api$a.parse(W),X={protocol:F.protocol||""};if(q.authority!==null)X.authority=q.authority,X.path=q.path,X.query=q.query;else if(X.authority=F.authority,q.path==="")X.path=F.path,q.query!==null?X.query=q.query:X.query=F.query;else{if(q.path.indexOf("/")===0)X.path=q.path;else{let ot=F.path;ot=ot.substr(0,ot.lastIndexOf("/")+1),(ot.length>0||F.authority)&&ot.substr(-1)!=="/"&&(ot+="/"),ot+=q.path,X.path=ot}X.query=q.query}q.path!==""&&(X.path=api$a.removeDotSegments(X.path));let tt=X.protocol;return X.authority!==null&&(tt+="//"+X.authority),tt+=X.path,X.query!==null&&(tt+="?"+X.query),q.fragment!==null&&(tt+="#"+q.fragment),tt===""&&(tt="./"),tt};api$a.removeBase=(F,W)=>{if(F===null)return W;(!F||types$4.isString(F))&&(F=api$a.parse(F||""));let q="";if(F.href!==""?q+=(F.protocol||"")+"//"+(F.authority||""):W.indexOf("//")&&(q+="//"),W.indexOf(q)!==0)return W;const X=api$a.parse(W.substr(q.length)),tt=F.normalizedPath.split("/"),ot=X.normalizedPath.split("/"),at=X.fragment||X.query?0:1;for(;tt.length>0&&ot.length>at&&tt[0]===ot[0];)tt.shift(),ot.shift();let ut="";if(tt.length>0){tt.pop();for(let wt=0;wt<tt.length;++wt)ut+="../"}return ut+=ot.join("/"),X.query!==null&&(ut+="?"+X.query),X.fragment!==null&&(ut+="#"+X.fragment),ut===""&&(ut="./"),ut};api$a.removeDotSegments=F=>{if(F.length===0)return"";const W=F.split("/"),q=[];for(;W.length>0;){const X=W.shift(),tt=W.length===0;if(X==="."){tt&&q.push("");continue}if(X===".."){q.pop(),tt&&q.push("");continue}q.push(X)}return F[0]==="/"&&q.length>0&&q[0]!==""&&q.unshift(""),q.length===1&&q[0]===""?"/":q.join("/")};const isAbsoluteRegex=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;api$a.isAbsolute=F=>types$4.isString(F)&&isAbsoluteRegex.test(F);api$a.isRelative=F=>types$4.isString(F);const{parseLinkHeader,buildHeaders}=util$5,{LINK_HEADER_CONTEXT}=constants,JsonLdError$a=JsonLdError_1,RequestQueue=requireRequestQueue(),{prependBase:prependBase$2}=url$1,REGEX_LINK_HEADER=/(^|(\r\n))link:/i;var xhr=({secure:F,headers:W={},xhr:q}={headers:{}})=>{return W=buildHeaders(W),new RequestQueue().wrapLoader(tt);async function tt(ot){if(ot.indexOf("http:")!==0&&ot.indexOf("https:")!==0)throw new JsonLdError$a('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:ot});if(F&&ot.indexOf("https")!==0)throw new JsonLdError$a(`URL could not be dereferenced; secure mode is enabled and the URL's scheme is not "https".`,"jsonld.InvalidUrl",{code:"loading document failed",url:ot});let at;try{at=await _get(q,ot,W)}catch(yo){throw new JsonLdError$a("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:ot,cause:yo})}if(at.status>=400)throw new JsonLdError$a("URL could not be dereferenced: "+at.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:ot,httpStatusCode:at.status});let ut={contextUrl:null,documentUrl:ot,document:at.response},wt=null;const uo=at.getResponseHeader("Content-Type");let mo;if(REGEX_LINK_HEADER.test(at.getAllResponseHeaders())&&(mo=at.getResponseHeader("Link")),mo&&uo!=="application/ld+json"){const yo=parseLinkHeader(mo),lf=yo[LINK_HEADER_CONTEXT];if(Array.isArray(lf))throw new JsonLdError$a("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:ot});lf&&(ut.contextUrl=lf.target),wt=yo.alternate,wt&&wt.type=="application/ld+json"&&!(uo||"").match(/^application\/(\w*\+)?json$/)&&(ut=await tt(prependBase$2(ot,wt.target)))}return ut}};function _get(F,W,q){F=F||XMLHttpRequest;const X=new F;return new Promise((tt,ot)=>{X.onload=()=>tt(X),X.onerror=at=>ot(at),X.open("GET",W,!0);for(const at in q)X.setRequestHeader(at,q[at]);X.send()})}const xhrLoader=xhr,api$9={};var platformBrowser=api$9;api$9.setupDocumentLoaders=function(F){typeof XMLHttpRequest<"u"&&(F.documentLoaders.xhr=xhrLoader,F.useDocumentLoader("xhr"))};api$9.setupGlobals=function(F){typeof globalThis.JsonLdProcessor>"u"&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:F.JsonLdProcessor})};var iterator,hasRequiredIterator;function requireIterator(){return hasRequiredIterator||(hasRequiredIterator=1,iterator=function(F){F.prototype[Symbol.iterator]=function*(){for(let W=this.head;W;W=W.next)yield W.value}}),iterator}var yallist=Yallist$1;Yallist$1.Node=Node$1;Yallist$1.create=Yallist$1;function Yallist$1(F){var W=this;if(W instanceof Yallist$1||(W=new Yallist$1),W.tail=null,W.head=null,W.length=0,F&&typeof F.forEach=="function")F.forEach(function(tt){W.push(tt)});else if(arguments.length>0)for(var q=0,X=arguments.length;q<X;q++)W.push(arguments[q]);return W}Yallist$1.prototype.removeNode=function(F){if(F.list!==this)throw new Error("removing node which does not belong to this list");var W=F.next,q=F.prev;return W&&(W.prev=q),q&&(q.next=W),F===this.head&&(this.head=W),F===this.tail&&(this.tail=q),F.list.length--,F.next=null,F.prev=null,F.list=null,W};Yallist$1.prototype.unshiftNode=function(F){if(F!==this.head){F.list&&F.list.removeNode(F);var W=this.head;F.list=this,F.next=W,W&&(W.prev=F),this.head=F,this.tail||(this.tail=F),this.length++}};Yallist$1.prototype.pushNode=function(F){if(F!==this.tail){F.list&&F.list.removeNode(F);var W=this.tail;F.list=this,F.prev=W,W&&(W.next=F),this.tail=F,this.head||(this.head=F),this.length++}};Yallist$1.prototype.push=function(){for(var F=0,W=arguments.length;F<W;F++)push(this,arguments[F]);return this.length};Yallist$1.prototype.unshift=function(){for(var F=0,W=arguments.length;F<W;F++)unshift(this,arguments[F]);return this.length};Yallist$1.prototype.pop=function(){if(this.tail){var F=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,F}};Yallist$1.prototype.shift=function(){if(this.head){var F=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,F}};Yallist$1.prototype.forEach=function(F,W){W=W||this;for(var q=this.head,X=0;q!==null;X++)F.call(W,q.value,X,this),q=q.next};Yallist$1.prototype.forEachReverse=function(F,W){W=W||this;for(var q=this.tail,X=this.length-1;q!==null;X--)F.call(W,q.value,X,this),q=q.prev};Yallist$1.prototype.get=function(F){for(var W=0,q=this.head;q!==null&&W<F;W++)q=q.next;if(W===F&&q!==null)return q.value};Yallist$1.prototype.getReverse=function(F){for(var W=0,q=this.tail;q!==null&&W<F;W++)q=q.prev;if(W===F&&q!==null)return q.value};Yallist$1.prototype.map=function(F,W){W=W||this;for(var q=new Yallist$1,X=this.head;X!==null;)q.push(F.call(W,X.value,this)),X=X.next;return q};Yallist$1.prototype.mapReverse=function(F,W){W=W||this;for(var q=new Yallist$1,X=this.tail;X!==null;)q.push(F.call(W,X.value,this)),X=X.prev;return q};Yallist$1.prototype.reduce=function(F,W){var q,X=this.head;if(arguments.length>1)q=W;else if(this.head)X=this.head.next,q=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var tt=0;X!==null;tt++)q=F(q,X.value,tt),X=X.next;return q};Yallist$1.prototype.reduceReverse=function(F,W){var q,X=this.tail;if(arguments.length>1)q=W;else if(this.tail)X=this.tail.prev,q=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var tt=this.length-1;X!==null;tt--)q=F(q,X.value,tt),X=X.prev;return q};Yallist$1.prototype.toArray=function(){for(var F=new Array(this.length),W=0,q=this.head;q!==null;W++)F[W]=q.value,q=q.next;return F};Yallist$1.prototype.toArrayReverse=function(){for(var F=new Array(this.length),W=0,q=this.tail;q!==null;W++)F[W]=q.value,q=q.prev;return F};Yallist$1.prototype.slice=function(F,W){W=W||this.length,W<0&&(W+=this.length),F=F||0,F<0&&(F+=this.length);var q=new Yallist$1;if(W<F||W<0)return q;F<0&&(F=0),W>this.length&&(W=this.length);for(var X=0,tt=this.head;tt!==null&&X<F;X++)tt=tt.next;for(;tt!==null&&X<W;X++,tt=tt.next)q.push(tt.value);return q};Yallist$1.prototype.sliceReverse=function(F,W){W=W||this.length,W<0&&(W+=this.length),F=F||0,F<0&&(F+=this.length);var q=new Yallist$1;if(W<F||W<0)return q;F<0&&(F=0),W>this.length&&(W=this.length);for(var X=this.length,tt=this.tail;tt!==null&&X>W;X--)tt=tt.prev;for(;tt!==null&&X>F;X--,tt=tt.prev)q.push(tt.value);return q};Yallist$1.prototype.splice=function(F,W,...q){F>this.length&&(F=this.length-1),F<0&&(F=this.length+F);for(var X=0,tt=this.head;tt!==null&&X<F;X++)tt=tt.next;for(var ot=[],X=0;tt&&X<W;X++)ot.push(tt.value),tt=this.removeNode(tt);tt===null&&(tt=this.tail),tt!==this.head&&tt!==this.tail&&(tt=tt.prev);for(var X=0;X<q.length;X++)tt=insert(this,tt,q[X]);return ot};Yallist$1.prototype.reverse=function(){for(var F=this.head,W=this.tail,q=F;q!==null;q=q.prev){var X=q.prev;q.prev=q.next,q.next=X}return this.head=W,this.tail=F,this};function insert(F,W,q){var X=W===F.head?new Node$1(q,null,W,F):new Node$1(q,W,W.next,F);return X.next===null&&(F.tail=X),X.prev===null&&(F.head=X),F.length++,X}function push(F,W){F.tail=new Node$1(W,F.tail,null,F),F.head||(F.head=F.tail),F.length++}function unshift(F,W){F.head=new Node$1(W,null,F.head,F),F.tail||(F.tail=F.head),F.length++}function Node$1(F,W,q,X){if(!(this instanceof Node$1))return new Node$1(F,W,q,X);this.list=X,this.value=F,W?(W.next=this,this.prev=W):this.prev=null,q?(q.prev=this,this.next=q):this.next=null}try{requireIterator()(Yallist$1)}catch(F){}const Yallist=yallist,MAX=Symbol("max"),LENGTH=Symbol("length"),LENGTH_CALCULATOR=Symbol("lengthCalculator"),ALLOW_STALE=Symbol("allowStale"),MAX_AGE=Symbol("maxAge"),DISPOSE=Symbol("dispose"),NO_DISPOSE_ON_SET=Symbol("noDisposeOnSet"),LRU_LIST=Symbol("lruList"),CACHE=Symbol("cache"),UPDATE_AGE_ON_GET=Symbol("updateAgeOnGet"),naiveLength=()=>1;class LRUCache{constructor(W){if(typeof W=="number"&&(W={max:W}),W||(W={}),W.max&&(typeof W.max!="number"||W.max<0))throw new TypeError("max must be a non-negative number");this[MAX]=W.max||1/0;const q=W.length||naiveLength;if(this[LENGTH_CALCULATOR]=typeof q!="function"?naiveLength:q,this[ALLOW_STALE]=W.stale||!1,W.maxAge&&typeof W.maxAge!="number")throw new TypeError("maxAge must be a number");this[MAX_AGE]=W.maxAge||0,this[DISPOSE]=W.dispose,this[NO_DISPOSE_ON_SET]=W.noDisposeOnSet||!1,this[UPDATE_AGE_ON_GET]=W.updateAgeOnGet||!1,this.reset()}set max(W){if(typeof W!="number"||W<0)throw new TypeError("max must be a non-negative number");this[MAX]=W||1/0,trim(this)}get max(){return this[MAX]}set allowStale(W){this[ALLOW_STALE]=!!W}get allowStale(){return this[ALLOW_STALE]}set maxAge(W){if(typeof W!="number")throw new TypeError("maxAge must be a non-negative number");this[MAX_AGE]=W,trim(this)}get maxAge(){return this[MAX_AGE]}set lengthCalculator(W){typeof W!="function"&&(W=naiveLength),W!==this[LENGTH_CALCULATOR]&&(this[LENGTH_CALCULATOR]=W,this[LENGTH]=0,this[LRU_LIST].forEach(q=>{q.length=this[LENGTH_CALCULATOR](q.value,q.key),this[LENGTH]+=q.length})),trim(this)}get lengthCalculator(){return this[LENGTH_CALCULATOR]}get length(){return this[LENGTH]}get itemCount(){return this[LRU_LIST].length}rforEach(W,q){q=q||this;for(let X=this[LRU_LIST].tail;X!==null;){const tt=X.prev;forEachStep(this,W,X,q),X=tt}}forEach(W,q){q=q||this;for(let X=this[LRU_LIST].head;X!==null;){const tt=X.next;forEachStep(this,W,X,q),X=tt}}keys(){return this[LRU_LIST].toArray().map(W=>W.key)}values(){return this[LRU_LIST].toArray().map(W=>W.value)}reset(){this[DISPOSE]&&this[LRU_LIST]&&this[LRU_LIST].length&&this[LRU_LIST].forEach(W=>this[DISPOSE](W.key,W.value)),this[CACHE]=new Map,this[LRU_LIST]=new Yallist,this[LENGTH]=0}dump(){return this[LRU_LIST].map(W=>isStale(this,W)?!1:{k:W.key,v:W.value,e:W.now+(W.maxAge||0)}).toArray().filter(W=>W)}dumpLru(){return this[LRU_LIST]}set(W,q,X){if(X=X||this[MAX_AGE],X&&typeof X!="number")throw new TypeError("maxAge must be a number");const tt=X?Date.now():0,ot=this[LENGTH_CALCULATOR](q,W);if(this[CACHE].has(W)){if(ot>this[MAX])return del(this,this[CACHE].get(W)),!1;const wt=this[CACHE].get(W).value;return this[DISPOSE]&&(this[NO_DISPOSE_ON_SET]||this[DISPOSE](W,wt.value)),wt.now=tt,wt.maxAge=X,wt.value=q,this[LENGTH]+=ot-wt.length,wt.length=ot,this.get(W),trim(this),!0}const at=new Entry(W,q,ot,tt,X);return at.length>this[MAX]?(this[DISPOSE]&&this[DISPOSE](W,q),!1):(this[LENGTH]+=at.length,this[LRU_LIST].unshift(at),this[CACHE].set(W,this[LRU_LIST].head),trim(this),!0)}has(W){if(!this[CACHE].has(W))return!1;const q=this[CACHE].get(W).value;return!isStale(this,q)}get(W){return get(this,W,!0)}peek(W){return get(this,W,!1)}pop(){const W=this[LRU_LIST].tail;return W?(del(this,W),W.value):null}del(W){del(this,this[CACHE].get(W))}load(W){this.reset();const q=Date.now();for(let X=W.length-1;X>=0;X--){const tt=W[X],ot=tt.e||0;if(ot===0)this.set(tt.k,tt.v);else{const at=ot-q;at>0&&this.set(tt.k,tt.v,at)}}}prune(){this[CACHE].forEach((W,q)=>get(this,q,!1))}}const get=(F,W,q)=>{const X=F[CACHE].get(W);if(X){const tt=X.value;if(isStale(F,tt)){if(del(F,X),!F[ALLOW_STALE])return}else q&&(F[UPDATE_AGE_ON_GET]&&(X.value.now=Date.now()),F[LRU_LIST].unshiftNode(X));return tt.value}},isStale=(F,W)=>{if(!W||!W.maxAge&&!F[MAX_AGE])return!1;const q=Date.now()-W.now;return W.maxAge?q>W.maxAge:F[MAX_AGE]&&q>F[MAX_AGE]},trim=F=>{if(F[LENGTH]>F[MAX])for(let W=F[LRU_LIST].tail;F[LENGTH]>F[MAX]&&W!==null;){const q=W.prev;del(F,W),W=q}},del=(F,W)=>{if(W){const q=W.value;F[DISPOSE]&&F[DISPOSE](q.key,q.value),F[LENGTH]-=q.length,F[CACHE].delete(q.key),F[LRU_LIST].removeNode(W)}};class Entry{constructor(W,q,X,tt,ot){this.key=W,this.value=q,this.length=X,this.now=tt,this.maxAge=ot||0}}const forEachStep=(F,W,q,X)=>{let tt=q.value;isStale(F,tt)&&(del(F,q),F[ALLOW_STALE]||(tt=void 0)),tt&&W.call(X,tt.value,tt.key,F)};var lruCache=LRUCache;const LRU$1=lruCache,MAX_ACTIVE_CONTEXTS=10;var ResolvedContext_1=class{constructor({document:W}){this.document=W,this.cache=new LRU$1({max:MAX_ACTIVE_CONTEXTS})}getProcessed(W){return this.cache.get(W)}setProcessed(W,q){this.cache.set(W,q)}};const{isArray:_isArray$5,isObject:_isObject$4,isString:_isString$4}=types$7,{asArray:_asArray$4}=util$5,{prependBase:prependBase$1}=url$1,JsonLdError$9=JsonLdError_1,ResolvedContext=ResolvedContext_1,MAX_CONTEXT_URLS=10;var ContextResolver_1=class{constructor({sharedCache:W}){this.perOpCache=new Map,this.sharedCache=W}async resolve({activeCtx:W,context:q,documentLoader:X,base:tt,cycles:ot=new Set}){q&&_isObject$4(q)&&q["@context"]&&(q=q["@context"]),q=_asArray$4(q);const at=[];for(const ut of q){if(_isString$4(ut)){let mo=this._get(ut);mo||(mo=await this._resolveRemoteContext({activeCtx:W,url:ut,documentLoader:X,base:tt,cycles:ot})),_isArray$5(mo)?at.push(...mo):at.push(mo);continue}if(ut===null){at.push(new ResolvedContext({document:null}));continue}_isObject$4(ut)||_throwInvalidLocalContext(q);const wt=JSON.stringify(ut);let uo=this._get(wt);uo||(uo=new ResolvedContext({document:ut}),this._cacheResolvedContext({key:wt,resolved:uo,tag:"static"})),at.push(uo)}return at}_get(W){let q=this.perOpCache.get(W);if(!q){const X=this.sharedCache.get(W);X&&(q=X.get("static"),q&&this.perOpCache.set(W,q))}return q}_cacheResolvedContext({key:W,resolved:q,tag:X}){if(this.perOpCache.set(W,q),X!==void 0){let tt=this.sharedCache.get(W);tt||(tt=new Map,this.sharedCache.set(W,tt)),tt.set(X,q)}return q}async _resolveRemoteContext({activeCtx:W,url:q,documentLoader:X,base:tt,cycles:ot}){q=prependBase$1(tt,q);const{context:at,remoteDoc:ut}=await this._fetchContext({activeCtx:W,url:q,documentLoader:X,cycles:ot});tt=ut.documentUrl||q,_resolveContextUrls({context:at,base:tt});const wt=await this.resolve({activeCtx:W,context:at,documentLoader:X,base:tt,cycles:ot});return this._cacheResolvedContext({key:q,resolved:wt,tag:ut.tag}),wt}async _fetchContext({activeCtx:W,url:q,documentLoader:X,cycles:tt}){if(tt.size>MAX_CONTEXT_URLS)throw new JsonLdError$9("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:W.processingMode==="json-ld-1.0"?"loading remote context failed":"context overflow",max:MAX_CONTEXT_URLS});if(tt.has(q))throw new JsonLdError$9("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:W.processingMode==="json-ld-1.0"?"recursive context inclusion":"context overflow",url:q});tt.add(q);let ot,at;try{at=await X(q),ot=at.document||null,_isString$4(ot)&&(ot=JSON.parse(ot))}catch(ut){throw new JsonLdError$9("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:q,cause:ut})}if(!_isObject$4(ot))throw new JsonLdError$9("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:q});return"@context"in ot?ot={"@context":ot["@context"]}:ot={"@context":{}},at.contextUrl&&(_isArray$5(ot["@context"])||(ot["@context"]=[ot["@context"]]),ot["@context"].push(at.contextUrl)),{context:ot,remoteDoc:at}}};function _throwInvalidLocalContext(F){throw new JsonLdError$9("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:F})}function _resolveContextUrls({context:F,base:W}){if(!F)return;const q=F["@context"];if(_isString$4(q)){F["@context"]=prependBase$1(W,q);return}if(_isArray$5(q)){for(let X=0;X<q.length;++X){const tt=q[X];if(_isString$4(tt)){q[X]=prependBase$1(W,tt);continue}_isObject$4(tt)&&_resolveContextUrls({context:{"@context":tt},base:W})}return}if(_isObject$4(q))for(const X in q)_resolveContextUrls({context:q[X],base:W})}var NQuads$1=rdfCanonize.NQuads;const JsonLdError$8=JsonLdError_1,{isArray:_isArray$4}=types$7,{asArray:_asArray$3}=util$5,api$8={};var events=api$8;api$8.defaultEventHandler=null;api$8.setupEventHandler=({options:F={}})=>{const W=[].concat(F.safe?api$8.safeEventHandler:[],F.eventHandler?_asArray$3(F.eventHandler):[],api$8.defaultEventHandler?api$8.defaultEventHandler:[]);return W.length===0?null:W};api$8.handleEvent=({event:F,options:W})=>{_handle({event:F,handlers:W.eventHandler})};function _handle({event:F,handlers:W}){let q=!0;for(let X=0;q&&X<W.length;++X){q=!1;const tt=W[X];if(_isArray$4(tt))q=_handle({event:F,handlers:tt});else if(typeof tt=="function")tt({event:F,next:()=>{q=!0}});else if(typeof tt=="object")F.code in tt?tt[F.code]({event:F,next:()=>{q=!0}}):q=!0;else throw new JsonLdError$8("Invalid event handler.","jsonld.InvalidEventHandler",{event:F})}return q}const _notSafeEventCodes=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference","rdfDirection not set"]);api$8.safeEventHandler=function F({event:W,next:q}){if(W.level==="warning"&&_notSafeEventCodes.has(W.code))throw new JsonLdError$8("Safe mode validation error.","jsonld.ValidationError",{event:W});q()};api$8.logEventHandler=function F({event:W,next:q}){console.log(`EVENT: ${W.message}`,{event:W}),q()};api$8.logWarningEventHandler=function F({event:W,next:q}){W.level==="warning"&&console.warn(`WARNING: ${W.message}`,{event:W}),q()};api$8.unhandledEventHandler=function F({event:W}){throw new JsonLdError$8("No handler for event.","jsonld.UnhandledEvent",{event:W})};api$8.setDefaultEventHandler=function({eventHandler:F}={}){api$8.defaultEventHandler=F?_asArray$3(F):null};const util$4=util$5,JsonLdError$7=JsonLdError_1,{isArray:_isArray$3,isObject:_isObject$3,isString:_isString$3,isUndefined:_isUndefined$2}=types$7,{isAbsolute:_isAbsoluteIri$2,isRelative:_isRelativeIri,prependBase}=url$1,{handleEvent:_handleEvent$3}=events,{REGEX_BCP47:REGEX_BCP47$2,REGEX_KEYWORD:REGEX_KEYWORD$2,asArray:_asArray$2,compareShortestLeast:_compareShortestLeast$1}=util$5,INITIAL_CONTEXT_CACHE=new Map,INITIAL_CONTEXT_CACHE_MAX_SIZE=1e4,api$7={};var context=api$7;api$7.process=async({activeCtx:F,localCtx:W,options:q,propagate:X=!0,overrideProtected:tt=!1,cycles:ot=new Set})=>{if(_isObject$3(W)&&"@context"in W&&_isArray$3(W["@context"])&&(W=W["@context"]),_asArray$2(W).length===0)return F;const ut=[],wt=[({event:lf,next:uf})=>{ut.push(lf),uf()}];q.eventHandler&&wt.push(q.eventHandler);const uo=q;q={...q,eventHandler:wt};const mo=await q.contextResolver.resolve({activeCtx:F,context:W,documentLoader:q.documentLoader,base:q.base});_isObject$3(mo[0].document)&&typeof mo[0].document["@propagate"]=="boolean"&&(X=mo[0].document["@propagate"]);let yo=F;!X&&!yo.previousContext&&(yo=yo.clone(),yo.previousContext=F);for(const lf of mo){let{document:uf}=lf;if(F=yo,uf===null){if(!tt&&Object.keys(F.protected).length!==0)throw new JsonLdError$7("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});yo=F=api$7.getInitialContext(q).clone();continue}const df=lf.getProcessed(F);if(df){if(uo.eventHandler)for(const wo of df.events)_handleEvent$3({event:wo,options:uo});yo=F=df.context;continue}if(_isObject$3(uf)&&"@context"in uf&&(uf=uf["@context"]),!_isObject$3(uf))throw new JsonLdError$7("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:uf});yo=yo.clone();const wf=new Map;if("@version"in uf){if(uf["@version"]!==1.1)throw new JsonLdError$7("Unsupported JSON-LD version: "+uf["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:uf});if(F.processingMode&&F.processingMode==="json-ld-1.0")throw new JsonLdError$7("@version: "+uf["@version"]+" not compatible with "+F.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:uf});yo.processingMode="json-ld-1.1",yo["@version"]=uf["@version"],wf.set("@version",!0)}if(yo.processingMode=yo.processingMode||F.processingMode,"@base"in uf){let wo=uf["@base"];if(!(wo===null||_isAbsoluteIri$2(wo)))if(_isRelativeIri(wo))wo=prependBase(yo["@base"],wo);else throw new JsonLdError$7('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:uf});yo["@base"]=wo,wf.set("@base",!0)}if("@vocab"in uf){const wo=uf["@vocab"];if(wo===null)delete yo["@vocab"];else if(_isString$3(wo)){if(!_isAbsoluteIri$2(wo)&&api$7.processingMode(yo,1))throw new JsonLdError$7('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:uf});{const ls=_expandIri$3(yo,wo,{vocab:!0,base:!0},void 0,void 0,q);_isAbsoluteIri$2(ls)||q.eventHandler&&_handleEvent$3({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:ls}},options:q}),yo["@vocab"]=ls}}else throw new JsonLdError$7('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:uf});wf.set("@vocab",!0)}if("@language"in uf){const wo=uf["@language"];if(wo===null)delete yo["@language"];else if(_isString$3(wo))wo.match(REGEX_BCP47$2)||q.eventHandler&&_handleEvent$3({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:wo}},options:q}),yo["@language"]=wo.toLowerCase();else throw new JsonLdError$7('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:uf});wf.set("@language",!0)}if("@direction"in uf){const wo=uf["@direction"];if(F.processingMode==="json-ld-1.0")throw new JsonLdError$7("Invalid JSON-LD syntax; @direction not compatible with "+F.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:uf});if(wo===null)delete yo["@direction"];else{if(wo!=="ltr"&&wo!=="rtl")throw new JsonLdError$7('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:uf});yo["@direction"]=wo}wf.set("@direction",!0)}if("@propagate"in uf){const wo=uf["@propagate"];if(F.processingMode==="json-ld-1.0")throw new JsonLdError$7("Invalid JSON-LD syntax; @propagate not compatible with "+F.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:uf});if(typeof wo!="boolean")throw new JsonLdError$7("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:W});wf.set("@propagate",!0)}if("@import"in uf){const wo=uf["@import"];if(F.processingMode==="json-ld-1.0")throw new JsonLdError$7("Invalid JSON-LD syntax; @import not compatible with "+F.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:uf});if(!_isString$3(wo))throw new JsonLdError$7("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:W});const ls=await q.contextResolver.resolve({activeCtx:F,context:wo,documentLoader:q.documentLoader,base:q.base});if(ls.length!==1)throw new JsonLdError$7("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:W});const _f=ls[0].getProcessed(F);if(_f)uf=_f;else{const po=ls[0].document;if("@import"in po)throw new JsonLdError$7("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:W});for(const xo in po)uf.hasOwnProperty(xo)||(uf[xo]=po[xo]);ls[0].setProcessed(F,uf)}wf.set("@import",!0)}wf.set("@protected",uf["@protected"]||!1);for(const wo in uf)if(api$7.createTermDefinition({activeCtx:yo,localCtx:uf,term:wo,defined:wf,options:q,overrideProtected:tt}),_isObject$3(uf[wo])&&"@context"in uf[wo]){const ls=uf[wo]["@context"];let _f=!0;if(_isString$3(ls)){const po=prependBase(q.base,ls);ot.has(po)?_f=!1:ot.add(po)}if(_f)try{await api$7.process({activeCtx:yo.clone(),localCtx:uf[wo]["@context"],overrideProtected:!0,options:q,cycles:ot})}catch{throw new JsonLdError$7("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:uf[wo]["@context"],term:wo})}}lf.setProcessed(F,{context:yo,events:ut})}return yo};api$7.createTermDefinition=({activeCtx:F,localCtx:W,term:q,defined:X,options:tt,overrideProtected:ot=!1})=>{if(X.has(q)){if(X.get(q))return;throw new JsonLdError$7("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:W,term:q})}X.set(q,!1);let at;if(W.hasOwnProperty(q)&&(at=W[q]),q==="@type"&&_isObject$3(at)&&(at["@container"]||"@set")==="@set"&&api$7.processingMode(F,1.1)){const uf=["@container","@id","@protected"],df=Object.keys(at);if(df.length===0||df.some(wf=>!uf.includes(wf)))throw new JsonLdError$7("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:W,term:q})}else{if(api$7.isKeyword(q))throw new JsonLdError$7("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:W,term:q});if(q.match(REGEX_KEYWORD$2)){tt.eventHandler&&_handleEvent$3({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:q}},options:tt});return}else if(q==="")throw new JsonLdError$7("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:W})}const ut=F.mappings.get(q);F.mappings.has(q)&&F.mappings.delete(q);let wt=!1;if((_isString$3(at)||at===null)&&(wt=!0,at={"@id":at}),!_isObject$3(at))throw new JsonLdError$7("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:W});const uo={};F.mappings.set(q,uo),uo.reverse=!1;const mo=["@container","@id","@language","@reverse","@type"];api$7.processingMode(F,1.1)&&mo.push("@context","@direction","@index","@nest","@prefix","@protected");for(const uf in at)if(!mo.includes(uf))throw new JsonLdError$7("Invalid JSON-LD syntax; a term definition must not contain "+uf,"jsonld.SyntaxError",{code:"invalid term definition",context:W});const yo=q.indexOf(":");if(uo._termHasColon=yo>0,"@reverse"in at){if("@id"in at)throw new JsonLdError$7("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:W});if("@nest"in at)throw new JsonLdError$7("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:W});const uf=at["@reverse"];if(!_isString$3(uf))throw new JsonLdError$7("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:W});if(uf.match(REGEX_KEYWORD$2)){tt.eventHandler&&_handleEvent$3({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:uf}},options:tt}),ut?F.mappings.set(q,ut):F.mappings.delete(q);return}const df=_expandIri$3(F,uf,{vocab:!0,base:!1},W,X,tt);if(!_isAbsoluteIri$2(df))throw new JsonLdError$7("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:W});uo["@id"]=df,uo.reverse=!0}else if("@id"in at){let uf=at["@id"];if(uf&&!_isString$3(uf))throw new JsonLdError$7("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:W});if(uf===null)uo["@id"]=null;else if(!api$7.isKeyword(uf)&&uf.match(REGEX_KEYWORD$2)){tt.eventHandler&&_handleEvent$3({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:uf}},options:tt}),ut?F.mappings.set(q,ut):F.mappings.delete(q);return}else if(uf!==q){if(uf=_expandIri$3(F,uf,{vocab:!0,base:!1},W,X,tt),!_isAbsoluteIri$2(uf)&&!api$7.isKeyword(uf))throw new JsonLdError$7("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:W});if(q.match(/(?::[^:])|\//)){const df=new Map(X).set(q,!0);if(_expandIri$3(F,q,{vocab:!0,base:!1},W,df,tt)!==uf)throw new JsonLdError$7("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:W})}uo["@id"]=uf,uo._prefix=wt&&!uo._termHasColon&&uf.match(/[:\/\?#\[\]@]$/)!==null}}if(!("@id"in uo))if(uo._termHasColon){const uf=q.substr(0,yo);if(W.hasOwnProperty(uf)&&api$7.createTermDefinition({activeCtx:F,localCtx:W,term:uf,defined:X,options:tt}),F.mappings.has(uf)){const df=q.substr(yo+1);uo["@id"]=F.mappings.get(uf)["@id"]+df}else uo["@id"]=q}else if(q==="@type")uo["@id"]=q;else{if(!("@vocab"in F))throw new JsonLdError$7("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:W,term:q});uo["@id"]=F["@vocab"]+q}if((at["@protected"]===!0||X.get("@protected")===!0&&at["@protected"]!==!1)&&(F.protected[q]=!0,uo.protected=!0),X.set(q,!0),"@type"in at){let uf=at["@type"];if(!_isString$3(uf))throw new JsonLdError$7("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:W});if(uf==="@json"||uf==="@none"){if(api$7.processingMode(F,1))throw new JsonLdError$7(`Invalid JSON-LD syntax; an @context @type value must not be "${uf}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:W})}else if(uf!=="@id"&&uf!=="@vocab"){if(uf=_expandIri$3(F,uf,{vocab:!0,base:!1},W,X,tt),!_isAbsoluteIri$2(uf))throw new JsonLdError$7("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:W});if(uf.indexOf("_:")===0)throw new JsonLdError$7("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:W})}uo["@type"]=uf}if("@container"in at){const uf=_isString$3(at["@container"])?[at["@container"]]:at["@container"]||[],df=["@list","@set","@index","@language"];let wf=!0;const wo=uf.includes("@set");if(api$7.processingMode(F,1.1)){if(df.push("@graph","@id","@type"),uf.includes("@list")){if(uf.length!==1)throw new JsonLdError$7("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:W})}else if(uf.includes("@graph")){if(uf.some(ls=>ls!=="@graph"&&ls!=="@id"&&ls!=="@index"&&ls!=="@set"))throw new JsonLdError$7("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:W})}else wf&=uf.length<=(wo?2:1);if(uf.includes("@type")&&(uo["@type"]=uo["@type"]||"@id",!["@id","@vocab"].includes(uo["@type"])))throw new JsonLdError$7("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:W})}else wf&=!_isArray$3(at["@container"]),wf&=uf.length<=1;if(wf&=uf.every(ls=>df.includes(ls)),wf&=!(wo&&uf.includes("@list")),!wf)throw new JsonLdError$7("Invalid JSON-LD syntax; @context @container value must be one of the following: "+df.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:W});if(uo.reverse&&!uf.every(ls=>["@index","@set"].includes(ls)))throw new JsonLdError$7("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:W});uo["@container"]=uf}if("@index"in at){if(!("@container"in at)||!uo["@container"].includes("@index"))throw new JsonLdError$7(`Invalid JSON-LD syntax; @index without @index in @container: "${at["@index"]}" on term "${q}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:W});if(!_isString$3(at["@index"])||at["@index"].indexOf("@")===0)throw new JsonLdError$7(`Invalid JSON-LD syntax; @index must expand to an IRI: "${at["@index"]}" on term "${q}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:W});uo["@index"]=at["@index"]}if("@context"in at&&(uo["@context"]=at["@context"]),"@language"in at&&!("@type"in at)){let uf=at["@language"];if(uf!==null&&!_isString$3(uf))throw new JsonLdError$7("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:W});uf!==null&&(uf=uf.toLowerCase()),uo["@language"]=uf}if("@prefix"in at){if(q.match(/:|\//))throw new JsonLdError$7("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:W});if(api$7.isKeyword(uo["@id"]))throw new JsonLdError$7("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:W});if(typeof at["@prefix"]=="boolean")uo._prefix=at["@prefix"]===!0;else throw new JsonLdError$7("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:W})}if("@direction"in at){const uf=at["@direction"];if(uf!==null&&uf!=="ltr"&&uf!=="rtl")throw new JsonLdError$7('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:W});uo["@direction"]=uf}if("@nest"in at){const uf=at["@nest"];if(!_isString$3(uf)||uf!=="@nest"&&uf.indexOf("@")===0)throw new JsonLdError$7("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:W});uo["@nest"]=uf}// disallow aliasing @context and @preserve
const lf=uo["@id"];if(lf==="@context"||lf==="@preserve")throw new JsonLdError$7("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:W});if(ut&&ut.protected&&!ot&&(F.protected[q]=!0,uo.protected=!0,!_deepCompare(ut,uo)))throw new JsonLdError$7("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:W,term:q})};api$7.expandIri=(F,W,q,X)=>_expandIri$3(F,W,q,void 0,void 0,X);function _expandIri$3(F,W,q,X,tt,ot){if(W===null||!_isString$3(W)||api$7.isKeyword(W))return W;if(W.match(REGEX_KEYWORD$2))return null;if(X&&X.hasOwnProperty(W)&&tt.get(W)!==!0&&api$7.createTermDefinition({activeCtx:F,localCtx:X,term:W,defined:tt,options:ot}),q=q||{},q.vocab){const ut=F.mappings.get(W);if(ut===null)return null;if(_isObject$3(ut)&&"@id"in ut)return ut["@id"]}const at=W.indexOf(":");if(at>0){const ut=W.substr(0,at),wt=W.substr(at+1);if(ut==="_"||wt.indexOf("//")===0)return W;X&&X.hasOwnProperty(ut)&&api$7.createTermDefinition({activeCtx:F,localCtx:X,term:ut,defined:tt,options:ot});const uo=F.mappings.get(ut);if(uo&&uo._prefix)return uo["@id"]+wt;if(_isAbsoluteIri$2(W))return W}if(q.vocab&&"@vocab"in F)W=F["@vocab"]+W;else if(q.base){let ut,wt;"@base"in F?F["@base"]?(wt=prependBase(ot.base,F["@base"]),ut=prependBase(wt,W)):(wt=F["@base"],ut=W):(wt=ot.base,ut=prependBase(ot.base,W)),W=ut}return W}api$7.getInitialContext=F=>{const W=JSON.stringify({processingMode:F.processingMode}),q=INITIAL_CONTEXT_CACHE.get(W);if(q)return q;const X={processingMode:F.processingMode,mappings:new Map,inverse:null,getInverse:tt,clone:ut,revertToPreviousContext:wt,protected:{}};return INITIAL_CONTEXT_CACHE.size===INITIAL_CONTEXT_CACHE_MAX_SIZE&&INITIAL_CONTEXT_CACHE.clear(),INITIAL_CONTEXT_CACHE.set(W,X),X;function tt(){const uo=this;if(uo.inverse)return uo.inverse;const mo=uo.inverse={},yo=uo.fastCurieMap={},lf={},uf=(uo["@language"]||"@none").toLowerCase(),df=uo["@direction"],wf=uo.mappings,wo=[...wf.keys()].sort(_compareShortestLeast$1);for(const ls of wo){const _f=wf.get(ls);if(_f===null)continue;let po=_f["@container"]||"@none";if(po=[].concat(po).sort().join(""),_f["@id"]===null)continue;const xo=_asArray$2(_f["@id"]);for(const gf of xo){let cf=mo[gf];const yf=api$7.isKeyword(gf);if(cf)!yf&&!_f._termHasColon&&lf[gf].push(ls);else if(mo[gf]=cf={},!yf&&!_f._termHasColon){lf[gf]=[ls];const Sf={iri:gf,terms:lf[gf]};gf[0]in yo?yo[gf[0]].push(Sf):yo[gf[0]]=[Sf]}if(cf[po]||(cf[po]={"@language":{},"@type":{},"@any":{}}),cf=cf[po],at(ls,cf["@any"],"@none"),_f.reverse)at(ls,cf["@type"],"@reverse");else if(_f["@type"]==="@none")at(ls,cf["@any"],"@none"),at(ls,cf["@language"],"@none"),at(ls,cf["@type"],"@none");else if("@type"in _f)at(ls,cf["@type"],_f["@type"]);else if("@language"in _f&&"@direction"in _f){const Sf=_f["@language"],xf=_f["@direction"];Sf&&xf?at(ls,cf["@language"],`${Sf}_${xf}`.toLowerCase()):Sf?at(ls,cf["@language"],Sf.toLowerCase()):xf?at(ls,cf["@language"],`_${xf}`):at(ls,cf["@language"],"@null")}else"@language"in _f?at(ls,cf["@language"],(_f["@language"]||"@null").toLowerCase()):"@direction"in _f?_f["@direction"]?at(ls,cf["@language"],`_${_f["@direction"]}`):at(ls,cf["@language"],"@none"):df?(at(ls,cf["@language"],`_${df}`),at(ls,cf["@language"],"@none"),at(ls,cf["@type"],"@none")):(at(ls,cf["@language"],uf),at(ls,cf["@language"],"@none"),at(ls,cf["@type"],"@none"))}}for(const ls in yo)ot(yo,ls,1);return mo}function ot(uo,mo,yo){const lf=uo[mo],uf=uo[mo]={};let df,wf;for(const wo of lf)df=wo.iri,yo>=df.length?wf="":wf=df[yo],wf in uf?uf[wf].push(wo):uf[wf]=[wo];for(const wo in uf)wo!==""&&ot(uf,wo,yo+1)}function at(uo,mo,yo){mo.hasOwnProperty(yo)||(mo[yo]=uo)}function ut(){const uo={};return uo.mappings=util$4.clone(this.mappings),uo.clone=this.clone,uo.inverse=null,uo.getInverse=this.getInverse,uo.protected=util$4.clone(this.protected),this.previousContext&&(uo.previousContext=this.previousContext.clone()),uo.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(uo["@base"]=this["@base"]),"@language"in this&&(uo["@language"]=this["@language"]),"@vocab"in this&&(uo["@vocab"]=this["@vocab"]),uo}function wt(){return this.previousContext?this.previousContext.clone():this}};api$7.getContextValue=(F,W,q)=>{if(W===null)return q==="@context"?void 0:null;if(F.mappings.has(W)){const X=F.mappings.get(W);if(_isUndefined$2(q))return X;if(X.hasOwnProperty(q))return X[q]}if(q==="@language"&&q in F||q==="@direction"&&q in F)return F[q];if(q!=="@context")return null};api$7.processingMode=(F,W)=>W.toString()>="1.1"?!F.processingMode||F.processingMode>="json-ld-"+W.toString():F.processingMode==="json-ld-1.0";api$7.isKeyword=F=>{if(!_isString$3(F)||F[0]!=="@")return!1;switch(F){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1};function _deepCompare(F,W){if(!(F&&typeof F=="object")||!(W&&typeof W=="object"))return F===W;const q=Array.isArray(F);if(q!==Array.isArray(W))return!1;if(q){if(F.length!==W.length)return!1;for(let ot=0;ot<F.length;++ot)if(!_deepCompare(F[ot],W[ot]))return!1;return!0}const X=Object.keys(F),tt=Object.keys(W);if(X.length!==tt.length)return!1;for(const ot in F){let at=F[ot],ut=W[ot];if(ot==="@container"&&Array.isArray(at)&&Array.isArray(ut)&&(at=at.slice().sort(),ut=ut.slice().sort()),!_deepCompare(at,ut))return!1}return!0}const JsonLdError$6=JsonLdError_1,{isArray:_isArray$2,isObject:_isObject$2,isEmptyObject:_isEmptyObject,isString:_isString$2,isUndefined:_isUndefined$1}=types$7,{isList:_isList$1,isValue:_isValue$1,isGraph:_isGraph$1,isSubject:_isSubject}=graphTypes$5,{expandIri:_expandIri$2,getContextValue:_getContextValue$1,isKeyword:_isKeyword$1,process:_processContext$2,processingMode:_processingMode$2}=context,{isAbsolute:_isAbsoluteIri$1}=url$1,{REGEX_BCP47:REGEX_BCP47$1,REGEX_KEYWORD:REGEX_KEYWORD$1,addValue:_addValue$2,asArray:_asArray$1,getValues:_getValues,validateTypeValue:_validateTypeValue}=util$5,{handleEvent:_handleEvent$2}=events,api$6={};var expand=api$6;api$6.expand=async({activeCtx:F,activeProperty:W=null,element:q,options:X={},insideList:tt=!1,insideIndex:ot=!1,typeScopedContext:at=null})=>{if(q==null)return null;if(W==="@default"&&(X=Object.assign({},X,{isFrame:!1})),!_isArray$2(q)&&!_isObject$2(q))return!tt&&(W===null||_expandIri$2(F,W,{vocab:!0},X)==="@graph")?(X.eventHandler&&_handleEvent$2({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:q}},options:X}),null):_expandValue({activeCtx:F,activeProperty:W,value:q,options:X});if(_isArray$2(q)){let df=[];const wf=_getContextValue$1(F,W,"@container")||[];tt=tt||wf.includes("@list");for(let wo=0;wo<q.length;++wo){let ls=await api$6.expand({activeCtx:F,activeProperty:W,element:q[wo],options:X,insideIndex:ot,typeScopedContext:at});tt&&_isArray$2(ls)&&(ls={"@list":ls}),ls!==null&&(_isArray$2(ls)?df=df.concat(ls):df.push(ls))}return df}const ut=_expandIri$2(F,W,{vocab:!0},X),wt=_getContextValue$1(F,W,"@context");at=at||(F.previousContext?F:null);let uo=Object.keys(q).sort(),mo=!ot;if(mo&&at&&uo.length<=2&&!uo.includes("@context"))for(const df of uo){const wf=_expandIri$2(at,df,{vocab:!0},X);if(wf==="@value"){mo=!1,F=at;break}if(wf==="@id"&&uo.length===1){mo=!1;break}}mo&&(F=F.revertToPreviousContext()),_isUndefined$1(wt)||(F=await _processContext$2({activeCtx:F,localCtx:wt,propagate:!0,overrideProtected:!0,options:X})),"@context"in q&&(F=await _processContext$2({activeCtx:F,localCtx:q["@context"],options:X})),at=F;let yo=null;for(const df of uo)if(_expandIri$2(F,df,{vocab:!0},X)==="@type"){yo=yo||df;const wo=q[df],ls=Array.isArray(wo)?wo.length>1?wo.slice().sort():wo:[wo];for(const _f of ls){const po=_getContextValue$1(at,_f,"@context");_isUndefined$1(po)||(F=await _processContext$2({activeCtx:F,localCtx:po,options:X,propagate:!1}))}}let lf={};await _expandObject({activeCtx:F,activeProperty:W,expandedActiveProperty:ut,element:q,expandedParent:lf,options:X,insideList:tt,typeKey:yo,typeScopedContext:at}),uo=Object.keys(lf);let uf=uo.length;if("@value"in lf){if("@type"in lf&&("@language"in lf||"@direction"in lf))throw new JsonLdError$6('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:lf});let df=uf-1;if("@type"in lf&&(df-=1),"@index"in lf&&(df-=1),"@language"in lf&&(df-=1),"@direction"in lf&&(df-=1),df!==0)throw new JsonLdError$6('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:lf});const wf=lf["@value"]===null?[]:_asArray$1(lf["@value"]),wo=_getValues(lf,"@type");if(!(_processingMode$2(F,1.1)&&wo.includes("@json")&&wo.length===1))if(wf.length===0)X.eventHandler&&_handleEvent$2({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:lf}},options:X}),lf=null;else{if(!wf.every(ls=>_isString$2(ls)||_isEmptyObject(ls))&&"@language"in lf)throw new JsonLdError$6("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:lf});if(!wo.every(ls=>_isAbsoluteIri$1(ls)&&!(_isString$2(ls)&&ls.indexOf("_:")===0)||_isEmptyObject(ls)))throw new JsonLdError$6('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:lf})}}else if("@type"in lf&&!_isArray$2(lf["@type"]))lf["@type"]=[lf["@type"]];else if("@set"in lf||"@list"in lf){if(uf>1&&!(uf===2&&"@index"in lf))throw new JsonLdError$6('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:lf});"@set"in lf&&(lf=lf["@set"],uo=Object.keys(lf),uf=uo.length)}else uf===1&&"@language"in lf&&(X.eventHandler&&_handleEvent$2({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:lf}},options:X}),lf=null);return _isObject$2(lf)&&!X.keepFreeFloatingNodes&&!tt&&(W===null||ut==="@graph"||(_getContextValue$1(F,W,"@container")||[]).includes("@graph"))&&(lf=_dropUnsafeObject({value:lf,count:uf,options:X})),lf};function _dropUnsafeObject({value:F,count:W,options:q}){if(W===0||"@value"in F||"@list"in F||W===1&&"@id"in F){if(q.eventHandler){let X,tt;W===0?(X="empty object",tt="Dropping empty object."):"@value"in F?(X="object with only @value",tt="Dropping object with only @value."):"@list"in F?(X="object with only @list",tt="Dropping object with only @list."):W===1&&"@id"in F&&(X="object with only @id",tt="Dropping object with only @id."),_handleEvent$2({event:{type:["JsonLdEvent"],code:X,level:"warning",message:tt,details:{value:F}},options:q})}return null}return F}async function _expandObject({activeCtx:F,activeProperty:W,expandedActiveProperty:q,element:X,expandedParent:tt,options:ot={},insideList:at,typeKey:ut,typeScopedContext:wt}){const uo=Object.keys(X).sort(),mo=[];let yo;const lf=X[ut]&&_expandIri$2(F,_isArray$2(X[ut])?X[ut][0]:X[ut],{vocab:!0},{...ot,typeExpansion:!0})==="@json";for(const uf of uo){let df=X[uf],wf;if(uf==="@context")continue;const wo=_expandIri$2(F,uf,{vocab:!0},ot);if(wo===null||!(_isAbsoluteIri$1(wo)||_isKeyword$1(wo))){ot.eventHandler&&_handleEvent$2({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:uf,expandedProperty:wo}},options:ot});continue}if(_isKeyword$1(wo)){if(q==="@reverse")throw new JsonLdError$6("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:df});if(wo in tt&&wo!=="@included"&&wo!=="@type")throw new JsonLdError$6("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:wo})}if(wo==="@id"){if(!_isString$2(df)){if(!ot.isFrame)throw new JsonLdError$6('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:df});if(_isObject$2(df)){if(!_isEmptyObject(df))throw new JsonLdError$6('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:df})}else if(_isArray$2(df)){if(!df.every(xo=>_isString$2(xo)))throw new JsonLdError$6('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:df})}else throw new JsonLdError$6('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:df})}_addValue$2(tt,"@id",_asArray$1(df).map(xo=>{if(_isString$2(xo)){const gf=_expandIri$2(F,xo,{base:!0},ot);return ot.eventHandler&&(gf===null?_handleEvent$2(xo===null?{event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:xo}},options:ot}:{event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:xo}},options:ot}):_isAbsoluteIri$1(gf)||_handleEvent$2({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:xo,expandedId:gf}},options:ot})),gf}return xo}),{propertyIsArray:ot.isFrame});continue}if(wo==="@type"){_isObject$2(df)&&(df=Object.fromEntries(Object.entries(df).map(([xo,gf])=>[_expandIri$2(wt,xo,{vocab:!0}),_asArray$1(gf).map(cf=>_expandIri$2(wt,cf,{base:!0,vocab:!0},{...ot,typeExpansion:!0}))]))),_validateTypeValue(df,ot.isFrame),_addValue$2(tt,"@type",_asArray$1(df).map(xo=>{if(_isString$2(xo)){const gf=_expandIri$2(wt,xo,{base:!0,vocab:!0},{...ot,typeExpansion:!0});return gf!=="@json"&&!_isAbsoluteIri$1(gf)&&ot.eventHandler&&_handleEvent$2({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:xo}},options:ot}),gf}return xo}),{propertyIsArray:!!ot.isFrame});continue}if(wo==="@included"&&_processingMode$2(F,1.1)){const xo=_asArray$1(await api$6.expand({activeCtx:F,activeProperty:W,element:df,options:ot}));if(!xo.every(gf=>_isSubject(gf)))throw new JsonLdError$6("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:df});_addValue$2(tt,"@included",xo,{propertyIsArray:!0});continue}if(wo==="@graph"&&!(_isObject$2(df)||_isArray$2(df)))throw new JsonLdError$6('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:df});if(wo==="@value"){yo=df,lf&&_processingMode$2(F,1.1)?tt["@value"]=df:_addValue$2(tt,"@value",df,{propertyIsArray:ot.isFrame});continue}if(wo==="@language"){if(df===null)continue;if(!_isString$2(df)&&!ot.isFrame)throw new JsonLdError$6('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:df});df=_asArray$1(df).map(xo=>_isString$2(xo)?xo.toLowerCase():xo);for(const xo of df)_isString$2(xo)&&!xo.match(REGEX_BCP47$1)&&ot.eventHandler&&_handleEvent$2({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:xo}},options:ot});_addValue$2(tt,"@language",df,{propertyIsArray:ot.isFrame});continue}if(wo==="@direction"){if(!_isString$2(df)&&!ot.isFrame)throw new JsonLdError$6('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:df});df=_asArray$1(df);for(const xo of df)if(_isString$2(xo)&&xo!=="ltr"&&xo!=="rtl")throw new JsonLdError$6('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:df});_addValue$2(tt,"@direction",df,{propertyIsArray:ot.isFrame});continue}if(wo==="@index"){if(!_isString$2(df))throw new JsonLdError$6('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:df});_addValue$2(tt,"@index",df);continue}if(wo==="@reverse"){if(!_isObject$2(df))throw new JsonLdError$6('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:df});if(wf=await api$6.expand({activeCtx:F,activeProperty:"@reverse",element:df,options:ot}),"@reverse"in wf)for(const gf in wf["@reverse"])_addValue$2(tt,gf,wf["@reverse"][gf],{propertyIsArray:!0});let xo=tt["@reverse"]||null;for(const gf in wf){if(gf==="@reverse")continue;xo===null&&(xo=tt["@reverse"]={}),_addValue$2(xo,gf,[],{propertyIsArray:!0});const cf=wf[gf];for(let yf=0;yf<cf.length;++yf){const Sf=cf[yf];if(_isValue$1(Sf)||_isList$1(Sf))throw new JsonLdError$6('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:wf});_addValue$2(xo,gf,Sf,{propertyIsArray:!0})}}continue}if(wo==="@nest"){mo.push(uf);continue}let ls=F;const _f=_getContextValue$1(F,uf,"@context");_isUndefined$1(_f)||(ls=await _processContext$2({activeCtx:F,localCtx:_f,propagate:!0,overrideProtected:!0,options:ot}));const po=_getContextValue$1(F,uf,"@container")||[];if(po.includes("@language")&&_isObject$2(df)){const xo=_getContextValue$1(ls,uf,"@direction");wf=_expandLanguageMap(ls,df,xo,ot)}else if(po.includes("@index")&&_isObject$2(df)){const xo=po.includes("@graph"),gf=_getContextValue$1(ls,uf,"@index")||"@index",cf=gf!=="@index"&&_expandIri$2(F,gf,{vocab:!0},ot);wf=await _expandIndexMap({activeCtx:ls,options:ot,activeProperty:uf,value:df,asGraph:xo,indexKey:gf,propertyIndex:cf})}else if(po.includes("@id")&&_isObject$2(df)){const xo=po.includes("@graph");wf=await _expandIndexMap({activeCtx:ls,options:ot,activeProperty:uf,value:df,asGraph:xo,indexKey:"@id"})}else if(po.includes("@type")&&_isObject$2(df))wf=await _expandIndexMap({activeCtx:ls.revertToPreviousContext(),options:ot,activeProperty:uf,value:df,asGraph:!1,indexKey:"@type"});else{const xo=wo==="@list";if(xo||wo==="@set"){let gf=W;xo&&q==="@graph"&&(gf=null),wf=await api$6.expand({activeCtx:ls,activeProperty:gf,element:df,options:ot,insideList:xo})}else _getContextValue$1(F,uf,"@type")==="@json"?wf={"@type":"@json","@value":df}:wf=await api$6.expand({activeCtx:ls,activeProperty:uf,element:df,options:ot,insideList:!1})}if(!(wf===null&&wo!=="@value")){if(wo!=="@list"&&!_isList$1(wf)&&po.includes("@list")&&(wf={"@list":_asArray$1(wf)}),po.includes("@graph")&&!po.some(xo=>xo==="@id"||xo==="@index")){if(wf=_asArray$1(wf),ot.isFrame||(wf=wf.filter(xo=>{const gf=Object.keys(xo).length;return _dropUnsafeObject({value:xo,count:gf,options:ot})!==null})),wf.length===0)continue;wf=wf.map(xo=>({"@graph":_asArray$1(xo)}))}if(ls.mappings.has(uf)&&ls.mappings.get(uf).reverse){const xo=tt["@reverse"]=tt["@reverse"]||{};wf=_asArray$1(wf);for(let gf=0;gf<wf.length;++gf){const cf=wf[gf];if(_isValue$1(cf)||_isList$1(cf))throw new JsonLdError$6('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:wf});_addValue$2(xo,wo,cf,{propertyIsArray:!0})}continue}_addValue$2(tt,wo,wf,{propertyIsArray:!0})}}if("@value"in tt&&!(tt["@type"]==="@json"&&_processingMode$2(F,1.1))){if((_isObject$2(yo)||_isArray$2(yo))&&!ot.isFrame)throw new JsonLdError$6('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:yo})}for(const uf of mo){const df=_isArray$2(X[uf])?X[uf]:[X[uf]];for(const wf of df){if(!_isObject$2(wf)||Object.keys(wf).some(wo=>_expandIri$2(F,wo,{vocab:!0},ot)==="@value"))throw new JsonLdError$6("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:wf});await _expandObject({activeCtx:F,activeProperty:W,expandedActiveProperty:q,element:wf,expandedParent:tt,options:ot,insideList:at,typeScopedContext:wt,typeKey:ut})}}}function _expandValue({activeCtx:F,activeProperty:W,value:q,options:X}){if(q==null)return null;const tt=_expandIri$2(F,W,{vocab:!0},X);if(tt==="@id")return _expandIri$2(F,q,{base:!0},X);if(tt==="@type")return _expandIri$2(F,q,{vocab:!0,base:!0},{...X,typeExpansion:!0});const ot=_getContextValue$1(F,W,"@type");if((ot==="@id"||tt==="@graph")&&_isString$2(q)){const ut=_expandIri$2(F,q,{base:!0},X);return ut===null&&q.match(REGEX_KEYWORD$1)&&X.eventHandler&&_handleEvent$2({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:W}},options:X}),{"@id":ut}}if(ot==="@vocab"&&_isString$2(q))return{"@id":_expandIri$2(F,q,{vocab:!0,base:!0},X)};if(_isKeyword$1(tt))return q;const at={};if(ot&&!["@id","@vocab","@none"].includes(ot))at["@type"]=ot;else if(_isString$2(q)){const ut=_getContextValue$1(F,W,"@language");ut!==null&&(at["@language"]=ut);const wt=_getContextValue$1(F,W,"@direction");wt!==null&&(at["@direction"]=wt)}return["boolean","number","string"].includes(typeof q)||(q=q.toString()),at["@value"]=q,at}function _expandLanguageMap(F,W,q,X){const tt=[],ot=Object.keys(W).sort();for(const at of ot){const ut=_expandIri$2(F,at,{vocab:!0},X);let wt=W[at];_isArray$2(wt)||(wt=[wt]);for(const uo of wt){if(uo===null)continue;if(!_isString$2(uo))throw new JsonLdError$6("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:W});const mo={"@value":uo};ut!=="@none"&&(at.match(REGEX_BCP47$1)||X.eventHandler&&_handleEvent$2({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:at}},options:X}),mo["@language"]=at.toLowerCase()),q&&(mo["@direction"]=q),tt.push(mo)}}return tt}async function _expandIndexMap({activeCtx:F,options:W,activeProperty:q,value:X,asGraph:tt,indexKey:ot,propertyIndex:at}){const ut=[],wt=Object.keys(X).sort(),uo=ot==="@type";for(let mo of wt){if(uo){const uf=_getContextValue$1(F,mo,"@context");_isUndefined$1(uf)||(F=await _processContext$2({activeCtx:F,localCtx:uf,propagate:!1,options:W}))}let yo=X[mo];_isArray$2(yo)||(yo=[yo]),yo=await api$6.expand({activeCtx:F,activeProperty:q,element:yo,options:W,insideList:!1,insideIndex:!0});let lf;at?mo==="@none"?lf="@none":lf=_expandValue({activeCtx:F,activeProperty:ot,value:mo,options:W}):lf=_expandIri$2(F,mo,{vocab:!0},W),ot==="@id"?mo=_expandIri$2(F,mo,{base:!0},W):uo&&(mo=lf);for(let uf of yo){if(tt&&!_isGraph$1(uf)&&(uf={"@graph":[uf]}),ot==="@type")lf==="@none"||(uf["@type"]?uf["@type"]=[mo].concat(uf["@type"]):uf["@type"]=[mo]);else{if(_isValue$1(uf)&&!["@language","@type","@index"].includes(ot))throw new JsonLdError$6(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${ot}".`,"jsonld.SyntaxError",{code:"invalid value object",value:uf});at?lf!=="@none"&&_addValue$2(uf,at,lf,{propertyIsArray:!0,prependValue:!0}):lf!=="@none"&&!(ot in uf)&&(uf[ot]=mo)}ut.push(uf)}}return ut}const{isKeyword:isKeyword$2}=context,graphTypes$3=graphTypes$5,types$3=types$7,util$3=util$5,JsonLdError$5=JsonLdError_1,api$5={};var nodeMap=api$5;api$5.createMergedNodeMap=(F,W)=>{W=W||{};const q=W.issuer||new util$3.IdentifierIssuer("_:b"),X={"@default":{}};return api$5.createNodeMap(F,X,"@default",q),api$5.mergeNodeMaps(X)};api$5.createNodeMap=(F,W,q,X,tt,ot)=>{if(types$3.isArray(F)){for(const uo of F)api$5.createNodeMap(uo,W,q,X,void 0,ot);return}if(!types$3.isObject(F)){ot&&ot.push(F);return}if(graphTypes$3.isValue(F)){if("@type"in F){let uo=F["@type"];uo.indexOf("_:")===0&&(F["@type"]=uo=X.getId(uo))}ot&&ot.push(F);return}else if(ot&&graphTypes$3.isList(F)){const uo=[];api$5.createNodeMap(F["@list"],W,q,X,tt,uo),ot.push({"@list":uo});return}if("@type"in F){const uo=F["@type"];for(const mo of uo)mo.indexOf("_:")===0&&X.getId(mo)}types$3.isUndefined(tt)&&(tt=graphTypes$3.isBlankNode(F)?X.getId(F["@id"]):F["@id"]),ot&&ot.push({"@id":tt});const at=W[q],ut=at[tt]=at[tt]||{};ut["@id"]=tt;const wt=Object.keys(F).sort();for(let uo of wt){if(uo==="@id")continue;if(uo==="@reverse"){const yo={"@id":tt},lf=F["@reverse"];for(const uf in lf){const df=lf[uf];for(const wf of df){let wo=wf["@id"];graphTypes$3.isBlankNode(wf)&&(wo=X.getId(wo)),api$5.createNodeMap(wf,W,q,X,wo),util$3.addValue(at[wo],uf,yo,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if(uo==="@graph"){tt in W||(W[tt]={}),api$5.createNodeMap(F[uo],W,tt,X);continue}if(uo==="@included"){api$5.createNodeMap(F[uo],W,q,X);continue}if(uo!=="@type"&&isKeyword$2(uo)){if(uo==="@index"&&uo in ut&&(F[uo]!==ut[uo]||F[uo]["@id"]!==ut[uo]["@id"]))throw new JsonLdError$5("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:ut});ut[uo]=F[uo];continue}const mo=F[uo];if(uo.indexOf("_:")===0&&(uo=X.getId(uo)),mo.length===0){util$3.addValue(ut,uo,[],{propertyIsArray:!0});continue}for(let yo of mo)if(uo==="@type"&&(yo=yo.indexOf("_:")===0?X.getId(yo):yo),graphTypes$3.isSubject(yo)||graphTypes$3.isSubjectReference(yo)){if("@id"in yo&&!yo["@id"])continue;const lf=graphTypes$3.isBlankNode(yo)?X.getId(yo["@id"]):yo["@id"];util$3.addValue(ut,uo,{"@id":lf},{propertyIsArray:!0,allowDuplicate:!1}),api$5.createNodeMap(yo,W,q,X,lf)}else if(graphTypes$3.isValue(yo))util$3.addValue(ut,uo,yo,{propertyIsArray:!0,allowDuplicate:!1});else if(graphTypes$3.isList(yo)){const lf=[];api$5.createNodeMap(yo["@list"],W,q,X,tt,lf),yo={"@list":lf},util$3.addValue(ut,uo,yo,{propertyIsArray:!0,allowDuplicate:!1})}else api$5.createNodeMap(yo,W,q,X,tt),util$3.addValue(ut,uo,yo,{propertyIsArray:!0,allowDuplicate:!1})}};api$5.mergeNodeMapGraphs=F=>{const W={};for(const q of Object.keys(F).sort())for(const X of Object.keys(F[q]).sort()){const tt=F[q][X];X in W||(W[X]={"@id":X});const ot=W[X];for(const at of Object.keys(tt).sort())if(isKeyword$2(at)&&at!=="@type")ot[at]=util$3.clone(tt[at]);else for(const ut of tt[at])util$3.addValue(ot,at,util$3.clone(ut),{propertyIsArray:!0,allowDuplicate:!1})}return W};api$5.mergeNodeMaps=F=>{const W=F["@default"],q=Object.keys(F).sort();for(const X of q){if(X==="@default")continue;const tt=F[X];let ot=W[X];ot?"@graph"in ot||(ot["@graph"]=[]):W[X]=ot={"@id":X,"@graph":[]};const at=ot["@graph"];for(const ut of Object.keys(tt).sort()){const wt=tt[ut];graphTypes$3.isSubjectReference(wt)||at.push(wt)}}return W};const{isSubjectReference:_isSubjectReference$2}=graphTypes$5,{createMergedNodeMap:_createMergedNodeMap$1}=nodeMap,api$4={};var flatten=api$4;api$4.flatten=F=>{const W=_createMergedNodeMap$1(F),q=[],X=Object.keys(W).sort();for(let tt=0;tt<X.length;++tt){const ot=W[X[tt]];_isSubjectReference$2(ot)||q.push(ot)}return q};const JsonLdError$4=JsonLdError_1,graphTypes$2=graphTypes$5,types$2=types$7,{REGEX_BCP47,addValue:_addValue$1}=util$5,{handleEvent:_handleEvent$1}=events,{RDF_LIST,RDF_FIRST:RDF_FIRST$1,RDF_REST:RDF_REST$1,RDF_NIL:RDF_NIL$1,RDF_TYPE:RDF_TYPE$1,RDF_JSON_LITERAL:RDF_JSON_LITERAL$1,XSD_BOOLEAN:XSD_BOOLEAN$1,XSD_DOUBLE:XSD_DOUBLE$1,XSD_INTEGER:XSD_INTEGER$1,XSD_STRING:XSD_STRING$1}=constants,api$3={};var fromRdf=api$3;api$3.fromRDF=async(F,W)=>{const{useRdfType:q=!1,useNativeTypes:X=!1,rdfDirection:tt=null}=W,ot={},at={"@default":ot},ut={};if(tt){if(tt==="compound-literal")throw new JsonLdError$4("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:tt});if(tt!=="i18n-datatype")throw new JsonLdError$4("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:tt})}for(const mo of F){const yo=mo.graph.termType==="DefaultGraph"?"@default":mo.graph.value;yo in at||(at[yo]={}),yo!=="@default"&&!(yo in ot)&&(ot[yo]={"@id":yo});const lf=at[yo],uf=mo.subject.value,df=mo.predicate.value,wf=mo.object;uf in lf||(lf[uf]={"@id":uf});const wo=lf[uf],ls=wf.termType.endsWith("Node");if(ls&&!(wf.value in lf)&&(lf[wf.value]={"@id":wf.value}),df===RDF_TYPE$1&&!q&&ls){_addValue$1(wo,"@type",wf.value,{propertyIsArray:!0});continue}const _f=_RDFToObject(wf,X,tt,W);if(_addValue$1(wo,df,_f,{propertyIsArray:!0}),ls)if(wf.value===RDF_NIL$1){const po=lf[wf.value];"usages"in po||(po.usages=[]),po.usages.push({node:wo,property:df,value:_f})}else wf.value in ut?ut[wf.value]=!1:ut[wf.value]={node:wo,property:df,value:_f}}for(const mo in at){const yo=at[mo];if(!(RDF_NIL$1 in yo))continue;const lf=yo[RDF_NIL$1];if(lf.usages){for(let uf of lf.usages){let df=uf.node,wf=uf.property,wo=uf.value;const ls=[],_f=[];let po=Object.keys(df).length;for(;wf===RDF_REST$1&&types$2.isObject(ut[df["@id"]])&&types$2.isArray(df[RDF_FIRST$1])&&df[RDF_FIRST$1].length===1&&types$2.isArray(df[RDF_REST$1])&&df[RDF_REST$1].length===1&&(po===3||po===4&&types$2.isArray(df["@type"])&&df["@type"].length===1&&df["@type"][0]===RDF_LIST)&&(ls.push(df[RDF_FIRST$1][0]),_f.push(df["@id"]),uf=ut[df["@id"]],df=uf.node,wf=uf.property,wo=uf.value,po=Object.keys(df).length,!!graphTypes$2.isBlankNode(df)););delete wo["@id"],wo["@list"]=ls.reverse();for(const xo of _f)delete yo[xo]}delete lf.usages}}const wt=[],uo=Object.keys(ot).sort();for(const mo of uo){const yo=ot[mo];if(mo in at){const lf=yo["@graph"]=[],uf=at[mo],df=Object.keys(uf).sort();for(const wf of df){const wo=uf[wf];graphTypes$2.isSubjectReference(wo)||lf.push(wo)}}graphTypes$2.isSubjectReference(yo)||wt.push(yo)}return wt};function _RDFToObject(F,W,q,X){if(F.termType.endsWith("Node"))return{"@id":F.value};const tt={"@value":F.value};if(F.language)F.language.match(REGEX_BCP47)||X.eventHandler&&_handleEvent$1({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:F.language}},options:X}),tt["@language"]=F.language;else{let ot=F.datatype.value;if(ot||(ot=XSD_STRING$1),ot===RDF_JSON_LITERAL$1){ot="@json";try{tt["@value"]=JSON.parse(tt["@value"])}catch(at){throw new JsonLdError$4("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:tt["@value"],cause:at})}}if(W){if(ot===XSD_BOOLEAN$1)tt["@value"]==="true"?tt["@value"]=!0:tt["@value"]==="false"&&(tt["@value"]=!1);else if(types$2.isNumeric(tt["@value"]))if(ot===XSD_INTEGER$1){const at=parseInt(tt["@value"],10);at.toFixed(0)===tt["@value"]&&(tt["@value"]=at)}else ot===XSD_DOUBLE$1&&(tt["@value"]=parseFloat(tt["@value"]));[XSD_BOOLEAN$1,XSD_INTEGER$1,XSD_DOUBLE$1,XSD_STRING$1].includes(ot)||(tt["@type"]=ot)}else if(q==="i18n-datatype"&&ot.startsWith("https://www.w3.org/ns/i18n#")){const[,at,ut]=ot.split(/[#_]/);at.length>0&&(tt["@language"]=at,at.match(REGEX_BCP47)||X.eventHandler&&_handleEvent$1({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:at}},options:X})),tt["@direction"]=ut}else ot!==XSD_STRING$1&&(tt["@type"]=ot)}return tt}var canonicalize=function F(W){return W===null||typeof W!="object"||W.toJSON!=null?JSON.stringify(W):Array.isArray(W)?"["+W.reduce((q,X,tt)=>{const ot=tt===0?"":",",at=X===void 0||typeof X=="symbol"?null:X;return q+ot+F(at)},"")+"]":"{"+Object.keys(W).sort().reduce((q,X,tt)=>{if(W[X]===void 0||typeof W[X]=="symbol")return q;const ot=q.length===0?"":",";return q+ot+F(X)+":"+F(W[X])},"")+"}"};const{createNodeMap}=nodeMap,{isKeyword:isKeyword$1}=context,graphTypes$1=graphTypes$5,jsonCanonicalize=canonicalize,JsonLdError$3=JsonLdError_1,types$1=types$7,util$2=util$5,{handleEvent:_handleEvent}=events,{RDF_FIRST,RDF_REST,RDF_NIL,RDF_TYPE,RDF_JSON_LITERAL,RDF_LANGSTRING,XSD_BOOLEAN,XSD_DOUBLE,XSD_INTEGER,XSD_STRING}=constants,{isAbsolute:_isAbsoluteIri}=url$1,api$2={};var toRdf=api$2;api$2.toRDF=(F,W)=>{const q=new util$2.IdentifierIssuer("_:b"),X={"@default":{}};createNodeMap(F,X,"@default",q);const tt=[],ot=Object.keys(X).sort();for(const at of ot){let ut;if(at==="@default")ut={termType:"DefaultGraph",value:""};else if(_isAbsoluteIri(at))at.startsWith("_:")?ut={termType:"BlankNode"}:ut={termType:"NamedNode"},ut.value=at;else{W.eventHandler&&_handleEvent({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:at}},options:W});continue}_graphToRDF(tt,X[at],ut,q,W)}return tt};function _graphToRDF(F,W,q,X,tt){const ot=Object.keys(W).sort();for(const at of ot){const ut=W[at],wt=Object.keys(ut).sort();for(let uo of wt){const mo=ut[uo];if(uo==="@type")uo=RDF_TYPE;else if(isKeyword$1(uo))continue;for(const yo of mo){const lf={termType:at.startsWith("_:")?"BlankNode":"NamedNode",value:at};if(!_isAbsoluteIri(at)){tt.eventHandler&&_handleEvent({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:at}},options:tt});continue}const uf={termType:uo.startsWith("_:")?"BlankNode":"NamedNode",value:uo};if(!_isAbsoluteIri(uo)){tt.eventHandler&&_handleEvent({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:uo}},options:tt});continue}if(uf.termType==="BlankNode"&&!tt.produceGeneralizedRdf){tt.eventHandler&&_handleEvent({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:X.getOldIds().find(wf=>X.getId(wf)===uo)}},options:tt});continue}const df=_objectToRDF(yo,X,F,q,tt.rdfDirection,tt);df&&F.push({subject:lf,predicate:uf,object:df,graph:q})}}}}function _listToRDF(F,W,q,X,tt,ot){const at={termType:"NamedNode",value:RDF_FIRST},ut={termType:"NamedNode",value:RDF_REST},wt={termType:"NamedNode",value:RDF_NIL},uo=F.pop(),mo=uo?{termType:"BlankNode",value:W.getId()}:wt;let yo=mo;for(const lf of F){const uf=_objectToRDF(lf,W,q,X,tt,ot),df={termType:"BlankNode",value:W.getId()};q.push({subject:yo,predicate:at,object:uf,graph:X}),q.push({subject:yo,predicate:ut,object:df,graph:X}),yo=df}if(uo){const lf=_objectToRDF(uo,W,q,X,tt,ot);q.push({subject:yo,predicate:at,object:lf,graph:X}),q.push({subject:yo,predicate:ut,object:wt,graph:X})}return mo}function _objectToRDF(F,W,q,X,tt,ot){const at={};if(graphTypes$1.isValue(F)){at.termType="Literal",at.value=void 0,at.datatype={termType:"NamedNode"};let ut=F["@value"];const wt=F["@type"]||null;if(wt==="@json")at.value=jsonCanonicalize(ut),at.datatype.value=RDF_JSON_LITERAL;else if(types$1.isBoolean(ut))at.value=ut.toString(),at.datatype.value=wt||XSD_BOOLEAN;else if(types$1.isDouble(ut)||wt===XSD_DOUBLE)types$1.isDouble(ut)||(ut=parseFloat(ut)),at.value=ut.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),at.datatype.value=wt||XSD_DOUBLE;else if(types$1.isNumber(ut))at.value=ut.toFixed(0),at.datatype.value=wt||XSD_INTEGER;else if("@direction"in F&&tt==="i18n-datatype"){const uo=(F["@language"]||"").toLowerCase(),mo=F["@direction"],yo=`https://www.w3.org/ns/i18n#${uo}_${mo}`;at.datatype.value=yo,at.value=ut}else{if("@direction"in F&&tt==="compound-literal")throw new JsonLdError$3("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:tt});if("@direction"in F&&tt)throw new JsonLdError$3("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:tt});"@language"in F?("@direction"in F&&!tt&&ot.eventHandler&&_handleEvent({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:at.value}},options:ot}),at.value=ut,at.datatype.value=wt||RDF_LANGSTRING,at.language=F["@language"]):("@direction"in F&&!tt&&ot.eventHandler&&_handleEvent({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:at.value}},options:ot}),at.value=ut,at.datatype.value=wt||XSD_STRING)}}else if(graphTypes$1.isList(F)){const ut=_listToRDF(F["@list"],W,q,X,tt,ot);at.termType=ut.termType,at.value=ut.value}else{const ut=types$1.isObject(F)?F["@id"]:F;at.termType=ut.startsWith("_:")?"BlankNode":"NamedNode",at.value=ut}return at.termType==="NamedNode"&&!_isAbsoluteIri(at.value)?(ot.eventHandler&&_handleEvent({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:at.value}},options:ot}),null):at}const{isKeyword}=context,graphTypes=graphTypes$5,types=types$7,util$1=util$5,url=url$1,JsonLdError$2=JsonLdError_1,{createNodeMap:_createNodeMap$1,mergeNodeMapGraphs:_mergeNodeMapGraphs}=nodeMap,api$1={};var frame=api$1;api$1.frameMergedOrDefault=(F,W,q)=>{const X={options:q,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},tt=new util$1.IdentifierIssuer("_:b");_createNodeMap$1(F,X.graphMap,"@default",tt),q.merged&&(X.graphMap["@merged"]=_mergeNodeMapGraphs(X.graphMap),X.graph="@merged"),X.subjects=X.graphMap[X.graph];const ot=[];api$1.frame(X,Object.keys(X.subjects).sort(),W,ot),q.pruneBlankNodeIdentifiers&&(q.bnodesToClear=Object.keys(X.bnodeMap).filter(at=>X.bnodeMap[at].length===1));// remove @preserve from results
return q.link={},_cleanupPreserve(ot,q)};api$1.frame=(F,W,q,X,tt=null)=>{_validateFrame(q),q=q[0];const ot=F.options,at={embed:_getFrameFlag(q,ot,"embed"),explicit:_getFrameFlag(q,ot,"explicit"),requireAll:_getFrameFlag(q,ot,"requireAll")};F.link.hasOwnProperty(F.graph)||(F.link[F.graph]={});const ut=F.link[F.graph],wt=_filterSubjects(F,W,q,at),uo=Object.keys(wt).sort();for(const mo of uo){const yo=wt[mo];if(tt===null?F.uniqueEmbeds={[F.graph]:{}}:F.uniqueEmbeds[F.graph]=F.uniqueEmbeds[F.graph]||{},at.embed==="@link"&&mo in ut){_addFrameOutput(X,tt,ut[mo]);continue}const lf={"@id":mo};if(mo.indexOf("_:")===0&&util$1.addValue(F.bnodeMap,mo,lf,{propertyIsArray:!0}),ut[mo]=lf,(at.embed==="@first"||at.embed==="@last")&&F.is11)throw new JsonLdError$2("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:q});if(!(!F.embedded&&F.uniqueEmbeds[F.graph].hasOwnProperty(mo))){if(F.embedded&&(at.embed==="@never"||_createsCircularReference(yo,F.graph,F.subjectStack))){_addFrameOutput(X,tt,lf);continue}if(F.embedded&&(at.embed=="@first"||at.embed=="@once")&&F.uniqueEmbeds[F.graph].hasOwnProperty(mo)){_addFrameOutput(X,tt,lf);continue}if(at.embed==="@last"&&mo in F.uniqueEmbeds[F.graph]&&_removeEmbed(F,mo),F.uniqueEmbeds[F.graph][mo]={parent:X,property:tt},F.subjectStack.push({subject:yo,graph:F.graph}),mo in F.graphMap){let uf=!1,df=null;"@graph"in q?(df=q["@graph"][0],uf=!(mo==="@merged"||mo==="@default"),types.isObject(df)||(df={})):(uf=F.graph!=="@merged",df={}),uf&&api$1.frame({...F,graph:mo,embedded:!1},Object.keys(F.graphMap[mo]).sort(),[df],lf,"@graph")}"@included"in q&&api$1.frame({...F,embedded:!1},W,q["@included"],lf,"@included");for(const uf of Object.keys(yo).sort()){if(isKeyword(uf)){if(lf[uf]=util$1.clone(yo[uf]),uf==="@type")for(const df of yo["@type"])df.indexOf("_:")===0&&util$1.addValue(F.bnodeMap,df,lf,{propertyIsArray:!0});continue}if(!(at.explicit&&!(uf in q)))for(const df of yo[uf]){const wf=uf in q?q[uf]:_createImplicitFrame(at);if(graphTypes.isList(df)){const wo=q[uf]&&q[uf][0]&&q[uf][0]["@list"]?q[uf][0]["@list"]:_createImplicitFrame(at),ls={"@list":[]};_addFrameOutput(lf,uf,ls);const _f=df["@list"];for(const po of _f)graphTypes.isSubjectReference(po)?api$1.frame({...F,embedded:!0},[po["@id"]],wo,ls,"@list"):_addFrameOutput(ls,"@list",util$1.clone(po))}else graphTypes.isSubjectReference(df)?api$1.frame({...F,embedded:!0},[df["@id"]],wf,lf,uf):_valueMatch(wf[0],df)&&_addFrameOutput(lf,uf,util$1.clone(df))}}for(const uf of Object.keys(q).sort()){if(uf==="@type"){if(!types.isObject(q[uf][0])||!("@default"in q[uf][0]))continue}else if(isKeyword(uf))continue;const df=q[uf][0]||{};if(!_getFrameFlag(df,ot,"omitDefault")&&!(uf in lf)){let wo="@null";"@default"in df&&(wo=util$1.clone(df["@default"])),types.isArray(wo)||(wo=[wo]),lf[uf]=[{"@preserve":wo}]}}for(const uf of Object.keys(q["@reverse"]||{}).sort()){const df=q["@reverse"][uf];for(const wf of Object.keys(F.subjects))util$1.getValues(F.subjects[wf],uf).some(ls=>ls["@id"]===mo)&&(lf["@reverse"]=lf["@reverse"]||{},util$1.addValue(lf["@reverse"],uf,[],{propertyIsArray:!0}),api$1.frame({...F,embedded:!0},[wf],df,lf["@reverse"][uf],tt))}_addFrameOutput(X,tt,lf),F.subjectStack.pop()}}};api$1.cleanupNull=(F,W)=>{if(types.isArray(F))return F.map(X=>api$1.cleanupNull(X,W)).filter(X=>X);if(F==="@null")return null;if(types.isObject(F)){if("@id"in F){const q=F["@id"];if(W.link.hasOwnProperty(q)){const X=W.link[q].indexOf(F);if(X!==-1)return W.link[q][X];W.link[q].push(F)}else W.link[q]=[F]}for(const q in F)F[q]=api$1.cleanupNull(F[q],W)}return F};function _createImplicitFrame(F){const W={};for(const q in F)F[q]!==void 0&&(W["@"+q]=[F[q]]);return[W]}function _createsCircularReference(F,W,q){for(let X=q.length-1;X>=0;--X){const tt=q[X];if(tt.graph===W&&tt.subject["@id"]===F["@id"])return!0}return!1}function _getFrameFlag(F,W,q){const X="@"+q;let tt=X in F?F[X][0]:W[q];if(q==="embed"){if(tt===!0)tt="@once";else if(tt===!1)tt="@never";else if(tt!=="@always"&&tt!=="@never"&&tt!=="@link"&&tt!=="@first"&&tt!=="@last"&&tt!=="@once")throw new JsonLdError$2("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:F})}return tt}function _validateFrame(F){if(!types.isArray(F)||F.length!==1||!types.isObject(F[0]))throw new JsonLdError$2("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:F});if("@id"in F[0]){for(const W of util$1.asArray(F[0]["@id"]))if(!(types.isObject(W)||url.isAbsolute(W))||types.isString(W)&&W.indexOf("_:")===0)throw new JsonLdError$2("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:F})}if("@type"in F[0]){for(const W of util$1.asArray(F[0]["@type"]))if(!(types.isObject(W)||url.isAbsolute(W)||W==="@json")||types.isString(W)&&W.indexOf("_:")===0)throw new JsonLdError$2("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:F})}}function _filterSubjects(F,W,q,X){const tt={};for(const ot of W){const at=F.graphMap[F.graph][ot];_filterSubject(F,at,q,X)&&(tt[ot]=at)}return tt}function _filterSubject(F,W,q,X){let tt=!0,ot=!1;for(const at in q){let ut=!1;const wt=util$1.getValues(W,at),uo=util$1.getValues(q,at).length===0;if(at==="@id"){if(types.isEmptyObject(q["@id"][0]||{})?ut=!0:q["@id"].length>=0&&(ut=q["@id"].includes(wt[0])),!X.requireAll)return ut}else if(at==="@type"){if(tt=!1,uo){if(wt.length>0)return!1;ut=!0}else if(q["@type"].length===1&&types.isEmptyObject(q["@type"][0]))ut=wt.length>0;else for(const mo of q["@type"])types.isObject(mo)&&"@default"in mo?ut=!0:ut=ut||wt.some(yo=>yo===mo);if(!X.requireAll)return ut}else{if(isKeyword(at))continue;{const mo=util$1.getValues(q,at)[0];let yo=!1;if(mo&&(_validateFrame([mo]),yo="@default"in mo),tt=!1,wt.length===0&&yo)continue;if(wt.length>0&&uo)return!1;if(mo===void 0){if(wt.length>0)return!1;ut=!0}else if(graphTypes.isList(mo)){const lf=mo["@list"][0];if(graphTypes.isList(wt[0])){const uf=wt[0]["@list"];graphTypes.isValue(lf)?ut=uf.some(df=>_valueMatch(lf,df)):(graphTypes.isSubject(lf)||graphTypes.isSubjectReference(lf))&&(ut=uf.some(df=>_nodeMatch(F,lf,df,X)))}}else graphTypes.isValue(mo)?ut=wt.some(lf=>_valueMatch(mo,lf)):graphTypes.isSubjectReference(mo)?ut=wt.some(lf=>_nodeMatch(F,mo,lf,X)):types.isObject(mo)?ut=wt.length>0:ut=!1}}if(!ut&&X.requireAll)return!1;ot=ot||ut}return tt||ot}function _removeEmbed(F,W){const q=F.uniqueEmbeds[F.graph],X=q[W],tt=X.parent,ot=X.property,at={"@id":W};if(types.isArray(tt)){for(let wt=0;wt<tt.length;++wt)if(util$1.compareValues(tt[wt],at)){tt[wt]=at;break}}else{const wt=types.isArray(tt[ot]);util$1.removeValue(tt,ot,at,{propertyIsArray:wt}),util$1.addValue(tt,ot,at,{propertyIsArray:wt})}const ut=wt=>{const uo=Object.keys(q);for(const mo of uo)mo in q&&types.isObject(q[mo].parent)&&q[mo].parent["@id"]===wt&&(delete q[mo],ut(mo))};ut(W)}/**
 * Removes the @preserve keywords from expanded result of framing.
 *
 * @param input the framed, framed output.
 * @param options the framing options used.
 *
 * @return the resulting output.
 */function _cleanupPreserve(F,W){if(types.isArray(F))return F.map(q=>_cleanupPreserve(q,W));if(types.isObject(F)){// remove @preserve
if("@preserve"in F)return F["@preserve"][0];if(graphTypes.isValue(F))return F;if(graphTypes.isList(F))return F["@list"]=_cleanupPreserve(F["@list"],W),F;if("@id"in F){const q=F["@id"];if(W.link.hasOwnProperty(q)){const X=W.link[q].indexOf(F);if(X!==-1)return W.link[q][X];W.link[q].push(F)}else W.link[q]=[F]}for(const q in F){if(q==="@id"&&W.bnodesToClear.includes(F[q])){delete F["@id"];continue}F[q]=_cleanupPreserve(F[q],W)}}return F}function _addFrameOutput(F,W,q){types.isObject(F)?util$1.addValue(F,W,q,{propertyIsArray:!0}):F.push(q)}function _nodeMatch(F,W,q,X){if(!("@id"in q))return!1;const tt=F.subjects[q["@id"]];return tt&&_filterSubject(F,tt,W,X)}function _valueMatch(F,W){const q=W["@value"],X=W["@type"],tt=W["@language"],ot=F["@value"]?types.isArray(F["@value"])?F["@value"]:[F["@value"]]:[],at=F["@type"]?types.isArray(F["@type"])?F["@type"]:[F["@type"]]:[],ut=F["@language"]?types.isArray(F["@language"])?F["@language"]:[F["@language"]]:[];return ot.length===0&&at.length===0&&ut.length===0?!0:!(!(ot.includes(q)||types.isEmptyObject(ot[0]))||!(!X&&at.length===0||at.includes(X)||X&&types.isEmptyObject(at[0]))||!(!tt&&ut.length===0||ut.includes(tt)||tt&&types.isEmptyObject(ut[0])))}const JsonLdError$1=JsonLdError_1,{isArray:_isArray$1,isObject:_isObject$1,isString:_isString$1,isUndefined:_isUndefined}=types$7,{isList:_isList,isValue:_isValue,isGraph:_isGraph,isSimpleGraph:_isSimpleGraph,isSubjectReference:_isSubjectReference$1}=graphTypes$5,{expandIri:_expandIri$1,getContextValue:_getContextValue,isKeyword:_isKeyword,process:_processContext$1,processingMode:_processingMode$1}=context,{removeBase:_removeBase,prependBase:_prependBase}=url$1,{REGEX_KEYWORD,addValue:_addValue,asArray:_asArray,compareShortestLeast:_compareShortestLeast}=util$5,api={};var compact=api;api.compact=async({activeCtx:F,activeProperty:W=null,element:q,options:X={}})=>{if(_isArray$1(q)){let ot=[];for(let at=0;at<q.length;++at){const ut=await api.compact({activeCtx:F,activeProperty:W,element:q[at],options:X});ut!==null&&ot.push(ut)}return X.compactArrays&&ot.length===1&&(_getContextValue(F,W,"@container")||[]).length===0&&(ot=ot[0]),ot}const tt=_getContextValue(F,W,"@context");if(_isUndefined(tt)||(F=await _processContext$1({activeCtx:F,localCtx:tt,propagate:!0,overrideProtected:!0,options:X})),_isObject$1(q)){if(X.link&&"@id"in q&&X.link.hasOwnProperty(q["@id"])){const lf=X.link[q["@id"]];for(let uf=0;uf<lf.length;++uf)if(lf[uf].expanded===q)return lf[uf].compacted}if(_isValue(q)||_isSubjectReference$1(q)){const lf=api.compactValue({activeCtx:F,activeProperty:W,value:q,options:X});return X.link&&_isSubjectReference$1(q)&&(X.link.hasOwnProperty(q["@id"])||(X.link[q["@id"]]=[]),X.link[q["@id"]].push({expanded:q,compacted:lf})),lf}if(_isList(q)&&(_getContextValue(F,W,"@container")||[]).includes("@list"))return api.compact({activeCtx:F,activeProperty:W,element:q["@list"],options:X});const ot=W==="@reverse",at={},ut=F;!_isValue(q)&&!_isSubjectReference$1(q)&&(F=F.revertToPreviousContext());const wt=_getContextValue(ut,W,"@context");_isUndefined(wt)||(F=await _processContext$1({activeCtx:F,localCtx:wt,propagate:!0,overrideProtected:!0,options:X})),X.link&&"@id"in q&&(X.link.hasOwnProperty(q["@id"])||(X.link[q["@id"]]=[]),X.link[q["@id"]].push({expanded:q,compacted:at}));let uo=q["@type"]||[];uo.length>1&&(uo=Array.from(uo).sort());const mo=F;for(const lf of uo){const uf=api.compactIri({activeCtx:mo,iri:lf,relativeTo:{vocab:!0}}),df=_getContextValue(ut,uf,"@context");_isUndefined(df)||(F=await _processContext$1({activeCtx:F,localCtx:df,options:X,propagate:!1}))}const yo=Object.keys(q).sort();for(const lf of yo){const uf=q[lf];if(lf==="@id"){let df=_asArray(uf).map(wo=>api.compactIri({activeCtx:F,iri:wo,relativeTo:{vocab:!1},base:X.base}));df.length===1&&(df=df[0]);const wf=api.compactIri({activeCtx:F,iri:"@id",relativeTo:{vocab:!0}});at[wf]=df;continue}if(lf==="@type"){let df=_asArray(uf).map(po=>api.compactIri({activeCtx:ut,iri:po,relativeTo:{vocab:!0}}));df.length===1&&(df=df[0]);const wf=api.compactIri({activeCtx:F,iri:"@type",relativeTo:{vocab:!0}}),_f=(_getContextValue(F,wf,"@container")||[]).includes("@set")&&_processingMode$1(F,1.1)||_isArray$1(df)&&uf.length===0;_addValue(at,wf,df,{propertyIsArray:_f});continue}if(lf==="@reverse"){const df=await api.compact({activeCtx:F,activeProperty:"@reverse",element:uf,options:X});for(const wf in df)if(F.mappings.has(wf)&&F.mappings.get(wf).reverse){const wo=df[wf],_f=(_getContextValue(F,wf,"@container")||[]).includes("@set")||!X.compactArrays;_addValue(at,wf,wo,{propertyIsArray:_f}),delete df[wf]}if(Object.keys(df).length>0){const wf=api.compactIri({activeCtx:F,iri:lf,relativeTo:{vocab:!0}});_addValue(at,wf,df)}continue}if(lf==="@preserve"){const df=await api.compact({activeCtx:F,activeProperty:W,element:uf,options:X});_isArray$1(df)&&df.length===0||_addValue(at,lf,df);continue}if(lf==="@index"){if((_getContextValue(F,W,"@container")||[]).includes("@index"))continue;const wf=api.compactIri({activeCtx:F,iri:lf,relativeTo:{vocab:!0}});_addValue(at,wf,uf);continue}if(lf!=="@graph"&&lf!=="@list"&&lf!=="@included"&&_isKeyword(lf)){const df=api.compactIri({activeCtx:F,iri:lf,relativeTo:{vocab:!0}});_addValue(at,df,uf);continue}if(!_isArray$1(uf))throw new JsonLdError$1("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(uf.length===0){const df=api.compactIri({activeCtx:F,iri:lf,value:uf,relativeTo:{vocab:!0},reverse:ot}),wf=F.mappings.has(df)?F.mappings.get(df)["@nest"]:null;let wo=at;wf&&(_checkNestProperty(F,wf,X),_isObject$1(at[wf])||(at[wf]={}),wo=at[wf]),_addValue(wo,df,uf,{propertyIsArray:!0})}for(const df of uf){const wf=api.compactIri({activeCtx:F,iri:lf,value:df,relativeTo:{vocab:!0},reverse:ot}),wo=F.mappings.has(wf)?F.mappings.get(wf)["@nest"]:null;let ls=at;wo&&(_checkNestProperty(F,wo,X),_isObject$1(at[wo])||(at[wo]={}),ls=at[wo]);const _f=_getContextValue(F,wf,"@container")||[],po=_isGraph(df),xo=_isList(df);let gf;xo?gf=df["@list"]:po&&(gf=df["@graph"]);let cf=await api.compact({activeCtx:F,activeProperty:wf,element:xo||po?gf:df,options:X});if(xo)if(_isArray$1(cf)||(cf=[cf]),!_f.includes("@list"))cf={[api.compactIri({activeCtx:F,iri:"@list",relativeTo:{vocab:!0}})]:cf},"@index"in df&&(cf[api.compactIri({activeCtx:F,iri:"@index",relativeTo:{vocab:!0}})]=df["@index"]);else{_addValue(ls,wf,cf,{valueIsArray:!0,allowDuplicate:!0});continue}if(po)if(_f.includes("@graph")&&(_f.includes("@id")||_f.includes("@index")&&_isSimpleGraph(df))){let yf;ls.hasOwnProperty(wf)?yf=ls[wf]:ls[wf]=yf={};const Sf=(_f.includes("@id")?df["@id"]:df["@index"])||api.compactIri({activeCtx:F,iri:"@none",relativeTo:{vocab:!0}});_addValue(yf,Sf,cf,{propertyIsArray:!X.compactArrays||_f.includes("@set")})}else _f.includes("@graph")&&_isSimpleGraph(df)?(_isArray$1(cf)&&cf.length>1&&(cf={"@included":cf}),_addValue(ls,wf,cf,{propertyIsArray:!X.compactArrays||_f.includes("@set")})):(_isArray$1(cf)&&cf.length===1&&X.compactArrays&&(cf=cf[0]),cf={[api.compactIri({activeCtx:F,iri:"@graph",relativeTo:{vocab:!0}})]:cf},"@id"in df&&(cf[api.compactIri({activeCtx:F,iri:"@id",relativeTo:{vocab:!0}})]=df["@id"]),"@index"in df&&(cf[api.compactIri({activeCtx:F,iri:"@index",relativeTo:{vocab:!0}})]=df["@index"]),_addValue(ls,wf,cf,{propertyIsArray:!X.compactArrays||_f.includes("@set")}));else if(_f.includes("@language")||_f.includes("@index")||_f.includes("@id")||_f.includes("@type")){let yf;ls.hasOwnProperty(wf)?yf=ls[wf]:ls[wf]=yf={};let Sf;if(_f.includes("@language"))_isValue(cf)&&(cf=cf["@value"]),Sf=df["@language"];else if(_f.includes("@index")){const xf=_getContextValue(F,wf,"@index")||"@index",bf=api.compactIri({activeCtx:F,iri:xf,relativeTo:{vocab:!0}});if(xf==="@index")Sf=df["@index"],delete cf[bf];else{let Af;if([Sf,...Af]=_asArray(cf[xf]||[]),!_isString$1(Sf))Sf=null;else switch(Af.length){case 0:delete cf[xf];break;case 1:cf[xf]=Af[0];break;default:cf[xf]=Af;break}}}else if(_f.includes("@id")){const xf=api.compactIri({activeCtx:F,iri:"@id",relativeTo:{vocab:!0}});Sf=cf[xf],delete cf[xf]}else if(_f.includes("@type")){const xf=api.compactIri({activeCtx:F,iri:"@type",relativeTo:{vocab:!0}});let bf;switch([Sf,...bf]=_asArray(cf[xf]||[]),bf.length){case 0:delete cf[xf];break;case 1:cf[xf]=bf[0];break;default:cf[xf]=bf;break}Object.keys(cf).length===1&&"@id"in df&&(cf=await api.compact({activeCtx:F,activeProperty:wf,element:{"@id":df["@id"]},options:X}))}Sf||(Sf=api.compactIri({activeCtx:F,iri:"@none",relativeTo:{vocab:!0}})),_addValue(yf,Sf,cf,{propertyIsArray:_f.includes("@set")})}else{const yf=!X.compactArrays||_f.includes("@set")||_f.includes("@list")||_isArray$1(cf)&&cf.length===0||lf==="@list"||lf==="@graph";_addValue(ls,wf,cf,{propertyIsArray:yf})}}}return at}return q};api.compactIri=({activeCtx:F,iri:W,value:q=null,relativeTo:X={vocab:!1},reverse:tt=!1,base:ot=null})=>{if(W===null)return W;F.isPropertyTermScoped&&F.previousContext&&(F=F.previousContext);const at=F.getInverse();if(_isKeyword(W)&&W in at&&"@none"in at[W]&&"@type"in at[W]["@none"]&&"@none"in at[W]["@none"]["@type"])return at[W]["@none"]["@type"]["@none"];if(X.vocab&&W in at){const yo=F["@language"]||"@none",lf=[];_isObject$1(q)&&"@index"in q&&!("@graph"in q)&&lf.push("@index","@index@set"),_isObject$1(q)&&"@preserve"in q&&(q=q["@preserve"][0]),_isGraph(q)?("@index"in q&&lf.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in q&&lf.push("@graph@id","@graph@id@set"),lf.push("@graph","@graph@set","@set"),"@index"in q||lf.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in q||lf.push("@graph@id","@graph@id@set")):_isObject$1(q)&&!_isValue(q)&&lf.push("@id","@id@set","@type","@set@type");let uf="@language",df="@null";if(tt)uf="@type",df="@reverse",lf.push("@set");else if(_isList(q)){"@index"in q||lf.push("@list");const wo=q["@list"];if(wo.length===0)uf="@any",df="@none";else{let ls=wo.length===0?yo:null,_f=null;for(let po=0;po<wo.length;++po){const xo=wo[po];let gf="@none",cf="@none";if(_isValue(xo))if("@direction"in xo){const yf=(xo["@language"]||"").toLowerCase(),Sf=xo["@direction"];gf=`${yf}_${Sf}`}else"@language"in xo?gf=xo["@language"].toLowerCase():"@type"in xo?cf=xo["@type"]:gf="@null";else cf="@id";if(ls===null?ls=gf:gf!==ls&&_isValue(xo)&&(ls="@none"),_f===null?_f=cf:cf!==_f&&(_f="@none"),ls==="@none"&&_f==="@none")break}ls=ls||"@none",_f=_f||"@none",_f!=="@none"?(uf="@type",df=_f):df=ls}}else{if(_isValue(q))if("@language"in q&&!("@index"in q)){lf.push("@language","@language@set"),df=q["@language"];const wo=q["@direction"];wo&&(df=`${df}_${wo}`)}else"@direction"in q&&!("@index"in q)?df=`_${q["@direction"]}`:"@type"in q&&(uf="@type",df=q["@type"]);else uf="@type",df="@id";lf.push("@set")}lf.push("@none"),_isObject$1(q)&&!("@index"in q)&&lf.push("@index","@index@set"),_isValue(q)&&Object.keys(q).length===1&&lf.push("@language","@language@set");const wf=_selectTerm(F,W,q,lf,uf,df);if(wf!==null)return wf}if(X.vocab&&"@vocab"in F){const yo=F["@vocab"];if(W.indexOf(yo)===0&&W!==yo){const lf=W.substr(yo.length);if(!F.mappings.has(lf))return lf}}let ut=null;const wt=[];let uo=F.fastCurieMap;const mo=W.length-1;for(let yo=0;yo<mo&&W[yo]in uo;++yo)uo=uo[W[yo]],""in uo&&wt.push(uo[""][0]);for(let yo=wt.length-1;yo>=0;--yo){const lf=wt[yo],uf=lf.terms;for(const df of uf){const wf=df+":"+W.substr(lf.iri.length);F.mappings.get(df)._prefix&&(!F.mappings.has(wf)||q===null&&F.mappings.get(wf)["@id"]===W)&&(ut===null||_compareShortestLeast(wf,ut)<0)&&(ut=wf)}}if(ut!==null)return ut;for(const[yo,lf]of F.mappings)if(lf&&lf._prefix&&W.startsWith(yo+":"))throw new JsonLdError$1(`Absolute IRI "${W}" confused with prefix "${yo}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:F});if(!X.vocab)if("@base"in F)if(F["@base"]){const yo=_removeBase(_prependBase(ot,F["@base"]),W);return REGEX_KEYWORD.test(yo)?`./${yo}`:yo}else return W;else return _removeBase(ot,W);return W};api.compactValue=({activeCtx:F,activeProperty:W,value:q,options:X})=>{if(_isValue(q)){const ut=_getContextValue(F,W,"@type"),wt=_getContextValue(F,W,"@language"),uo=_getContextValue(F,W,"@direction"),mo=_getContextValue(F,W,"@container")||[],yo="@index"in q&&!mo.includes("@index");if(!yo&&ut!=="@none"&&(q["@type"]===ut||"@language"in q&&q["@language"]===wt&&"@direction"in q&&q["@direction"]===uo||"@language"in q&&q["@language"]===wt||"@direction"in q&&q["@direction"]===uo))return q["@value"];const lf=Object.keys(q).length,uf=lf===1||lf===2&&"@index"in q&&!yo,df="@language"in F,wf=_isString$1(q["@value"]),wo=F.mappings.has(W)&&F.mappings.get(W)["@language"]===null;if(uf&&ut!=="@none"&&(!df||!wf||wo))return q["@value"];const ls={};return yo&&(ls[api.compactIri({activeCtx:F,iri:"@index",relativeTo:{vocab:!0}})]=q["@index"]),"@type"in q?ls[api.compactIri({activeCtx:F,iri:"@type",relativeTo:{vocab:!0}})]=api.compactIri({activeCtx:F,iri:q["@type"],relativeTo:{vocab:!0}}):"@language"in q&&(ls[api.compactIri({activeCtx:F,iri:"@language",relativeTo:{vocab:!0}})]=q["@language"]),"@direction"in q&&(ls[api.compactIri({activeCtx:F,iri:"@direction",relativeTo:{vocab:!0}})]=q["@direction"]),ls[api.compactIri({activeCtx:F,iri:"@value",relativeTo:{vocab:!0}})]=q["@value"],ls}const tt=_expandIri$1(F,W,{vocab:!0},X),ot=_getContextValue(F,W,"@type"),at=api.compactIri({activeCtx:F,iri:q["@id"],relativeTo:{vocab:ot==="@vocab"},base:X.base});return ot==="@id"||ot==="@vocab"||tt==="@graph"?at:{[api.compactIri({activeCtx:F,iri:"@id",relativeTo:{vocab:!0}})]:at}};function _selectTerm(F,W,q,X,tt,ot){ot===null&&(ot="@null");const at=[];if((ot==="@id"||ot==="@reverse")&&_isObject$1(q)&&"@id"in q){ot==="@reverse"&&at.push("@reverse");const wt=api.compactIri({activeCtx:F,iri:q["@id"],relativeTo:{vocab:!0}});F.mappings.has(wt)&&F.mappings.get(wt)&&F.mappings.get(wt)["@id"]===q["@id"]?at.push.apply(at,["@vocab","@id"]):at.push.apply(at,["@id","@vocab"])}else{at.push(ot);const wt=at.find(uo=>uo.includes("_"));wt&&at.push(wt.replace(/^[^_]+_/,"_"))}at.push("@none");const ut=F.inverse[W];for(const wt of X){if(!(wt in ut))continue;const uo=ut[wt][tt];for(const mo of at)if(mo in uo)return uo[mo]}return null}function _checkNestProperty(F,W,q){if(_expandIri$1(F,W,{vocab:!0},q)!=="@nest")throw new JsonLdError$1("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}var JsonLdProcessor,hasRequiredJsonLdProcessor;function requireJsonLdProcessor(){return hasRequiredJsonLdProcessor||(hasRequiredJsonLdProcessor=1,JsonLdProcessor=F=>{class W{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(W,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(W.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:W}),W.compact=function(q,X){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):F.compact(q,X)},W.expand=function(q){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):F.expand(q)},W.flatten=function(q){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):F.flatten(q)},W}),JsonLdProcessor}/**
 * A JavaScript implementation of the JSON-LD API.
 *
 * @author Dave Longley
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2011-2022 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */const canonize=rdfCanonize,platform=platformBrowser,util=util$5,ContextResolver=ContextResolver_1,IdentifierIssuer=util.IdentifierIssuer,JsonLdError=JsonLdError_1,LRU=lruCache,NQuads=NQuads$1,{expand:_expand}=expand,{flatten:_flatten}=flatten,{fromRDF:_fromRDF}=fromRdf,{toRDF:_toRDF}=toRdf,{frameMergedOrDefault:_frameMergedOrDefault,cleanupNull:_cleanupNull}=frame,{isArray:_isArray,isObject:_isObject,isString:_isString}=types$7,{isSubjectReference:_isSubjectReference}=graphTypes$5,{expandIri:_expandIri,getInitialContext:_getInitialContext,process:_processContext,processingMode:_processingMode}=context,{compact:_compact,compactIri:_compactIri}=compact,{createNodeMap:_createNodeMap,createMergedNodeMap:_createMergedNodeMap,mergeNodeMaps:_mergeNodeMaps}=nodeMap,{logEventHandler:_logEventHandler,logWarningEventHandler:_logWarningEventHandler,safeEventHandler:_safeEventHandler,setDefaultEventHandler:_setDefaultEventHandler,setupEventHandler:_setupEventHandler,strictEventHandler:_strictEventHandler,unhandledEventHandler:_unhandledEventHandler}=events,wrapper=function(F){const W={},X=new LRU({max:100});F.compact=async function(ot,at,ut){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(at===null)throw new JsonLdError("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(ot===null)return null;ut=tt(ut,{base:_isString(ot)?ot:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new IdentifierIssuer("_:b"),contextResolver:new ContextResolver({sharedCache:X})}),ut.link&&(ut.skipExpansion=!0),ut.compactToRelative||delete ut.base;let wt;ut.skipExpansion?wt=ot:wt=await F.expand(ot,ut);const uo=await F.processContext(_getInitialContext(ut),at,ut);let mo=await _compact({activeCtx:uo,element:wt,options:ut});ut.compactArrays&&!ut.graph&&_isArray(mo)?mo.length===1?mo=mo[0]:mo.length===0&&(mo={}):ut.graph&&_isObject(mo)&&(mo=[mo]),_isObject(at)&&"@context"in at&&(at=at["@context"]),at=util.clone(at),_isArray(at)||(at=[at]);const yo=at;at=[];for(let uf=0;uf<yo.length;++uf)(!_isObject(yo[uf])||Object.keys(yo[uf]).length>0)&&at.push(yo[uf]);const lf=at.length>0;if(at.length===1&&(at=at[0]),_isArray(mo)){const uf=_compactIri({activeCtx:uo,iri:"@graph",relativeTo:{vocab:!0}}),df=mo;mo={},lf&&(mo["@context"]=at),mo[uf]=df}else if(_isObject(mo)&&lf){const uf=mo;mo={"@context":at};for(const df in uf)mo[df]=uf[df]}return mo},F.expand=async function(ot,at){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");at=tt(at,{keepFreeFloatingNodes:!1,contextResolver:new ContextResolver({sharedCache:X})});const ut={},wt=[];if("expandContext"in at){const lf=util.clone(at.expandContext);_isObject(lf)&&"@context"in lf?ut.expandContext=lf:ut.expandContext={"@context":lf},wt.push(ut.expandContext)}let uo;if(!_isString(ot))ut.input=util.clone(ot);else{const lf=await F.get(ot,at);uo=lf.documentUrl,ut.input=lf.document,lf.contextUrl&&(ut.remoteContext={"@context":lf.contextUrl},wt.push(ut.remoteContext))}"base"in at||(at.base=uo||"");let mo=_getInitialContext(at);for(const lf of wt)mo=await _processContext({activeCtx:mo,localCtx:lf,options:at});let yo=await _expand({activeCtx:mo,element:ut.input,options:at});return _isObject(yo)&&"@graph"in yo&&Object.keys(yo).length===1?yo=yo["@graph"]:yo===null&&(yo=[]),_isArray(yo)||(yo=[yo]),yo},F.flatten=async function(ot,at,ut){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");typeof at=="function"?at=null:at=at||null,ut=tt(ut,{base:_isString(ot)?ot:"",contextResolver:new ContextResolver({sharedCache:X})});const wt=await F.expand(ot,ut),uo=_flatten(wt);return at===null?uo:(ut.graph=!0,ut.skipExpansion=!0,await F.compact(uo,at,ut))},F.frame=async function(ot,at,ut){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(ut=tt(ut,{base:_isString(ot)?ot:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new ContextResolver({sharedCache:X})}),_isString(at)){const wo=await F.get(at,ut);if(at=wo.document,wo.contextUrl){let ls=at["@context"];ls?_isArray(ls)?ls.push(wo.contextUrl):ls=[ls,wo.contextUrl]:ls=wo.contextUrl,at["@context"]=ls}}const wt=at?at["@context"]||{}:{},uo=await F.processContext(_getInitialContext(ut),wt,ut);ut.hasOwnProperty("omitGraph")||(ut.omitGraph=_processingMode(uo,1.1)),ut.hasOwnProperty("pruneBlankNodeIdentifiers")||(ut.pruneBlankNodeIdentifiers=_processingMode(uo,1.1));const mo=await F.expand(ot,ut),yo={...ut};yo.isFrame=!0,yo.keepFreeFloatingNodes=!0;const lf=await F.expand(at,yo),uf=Object.keys(at).map(wo=>_expandIri(uo,wo,{vocab:!0}));yo.merged=!uf.includes("@graph"),yo.is11=_processingMode(uo,1.1);const df=_frameMergedOrDefault(mo,lf,yo);yo.graph=!ut.omitGraph,yo.skipExpansion=!0,yo.link={},yo.framing=!0;let wf=await F.compact(df,wt,yo);return yo.link={},wf=_cleanupNull(wf,yo),wf},F.link=async function(ot,at,ut){const wt={};return at&&(wt["@context"]=at),wt["@embed"]="@link",F.frame(ot,wt,ut)},F.normalize=F.canonize=async function(ot,at){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if(at=tt(at,{base:_isString(ot)?ot:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new ContextResolver({sharedCache:X})}),"inputFormat"in at){if(at.inputFormat!=="application/n-quads"&&at.inputFormat!=="application/nquads")throw new JsonLdError("Unknown canonicalization input format.","jsonld.CanonizeError");const uo=NQuads.parse(ot);return canonize.canonize(uo,at)}const ut={...at};delete ut.format,ut.produceGeneralizedRdf=!1;const wt=await F.toRDF(ot,ut);return canonize.canonize(wt,at)},F.fromRDF=async function(ot,at){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");at=tt(at,{format:_isString(ot)?"application/n-quads":void 0});const{format:ut}=at;let{rdfParser:wt}=at;if(ut){if(wt=wt||W[ut],!wt)throw new JsonLdError("Unknown input format.","jsonld.UnknownFormat",{format:ut})}else wt=()=>ot;const uo=await wt(ot);return _fromRDF(uo,at)},F.toRDF=async function(ot,at){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");at=tt(at,{base:_isString(ot)?ot:"",skipExpansion:!1,contextResolver:new ContextResolver({sharedCache:X})});let ut;at.skipExpansion?ut=ot:ut=await F.expand(ot,at);const wt=_toRDF(ut,at);if(at.format){if(at.format==="application/n-quads"||at.format==="application/nquads")return NQuads.serialize(wt);throw new JsonLdError("Unknown output format.","jsonld.UnknownFormat",{format:at.format})}return wt},F.createNodeMap=async function(ot,at){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");at=tt(at,{base:_isString(ot)?ot:"",contextResolver:new ContextResolver({sharedCache:X})});const ut=await F.expand(ot,at);return _createMergedNodeMap(ut,at)},F.merge=async function(ot,at,ut){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!_isArray(ot))throw new TypeError('Could not merge, "docs" must be an array.');typeof at=="function"?at=null:at=at||null,ut=tt(ut,{contextResolver:new ContextResolver({sharedCache:X})});const wt=await Promise.all(ot.map(wo=>{const ls={...ut};return F.expand(wo,ls)}));let uo=!0;"mergeNodes"in ut&&(uo=ut.mergeNodes);const mo=ut.issuer||new IdentifierIssuer("_:b"),yo={"@default":{}};for(let wo=0;wo<wt.length;++wo){const ls=util.relabelBlankNodes(wt[wo],{issuer:new IdentifierIssuer("_:b"+wo+"-")}),_f=uo||wo===0?yo:{"@default":{}};if(_createNodeMap(ls,_f,"@default",mo),_f!==yo)for(const po in _f){const xo=_f[po];if(!(po in yo)){yo[po]=xo;continue}const gf=yo[po];for(const cf in xo)cf in gf||(gf[cf]=xo[cf])}}const lf=_mergeNodeMaps(yo),uf=[],df=Object.keys(lf).sort();for(let wo=0;wo<df.length;++wo){const ls=lf[df[wo]];_isSubjectReference(ls)||uf.push(ls)}return at===null?uf:(ut.graph=!0,ut.skipExpansion=!0,await F.compact(uf,at,ut))},Object.defineProperty(F,"documentLoader",{get:()=>F._documentLoader,set:ot=>F._documentLoader=ot}),F.documentLoader=async ot=>{throw new JsonLdError("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:ot})},F.get=async function(ot,at){let ut;typeof at.documentLoader=="function"?ut=at.documentLoader:ut=F.documentLoader;const wt=await ut(ot);try{if(!wt.document)throw new JsonLdError("No remote document found at the given URL.","jsonld.NullRemoteDocument");_isString(wt.document)&&(wt.document=JSON.parse(wt.document))}catch(uo){throw new JsonLdError("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:uo,remoteDoc:wt})}return wt},F.processContext=async function(ot,at,ut){return ut=tt(ut,{base:"",contextResolver:new ContextResolver({sharedCache:X})}),at===null?_getInitialContext(ut):(at=util.clone(at),_isObject(at)&&"@context"in at||(at={"@context":at}),_processContext({activeCtx:ot,localCtx:at,options:ut}))},F.getContextValue=context.getContextValue,F.documentLoaders={},F.useDocumentLoader=function(ot){if(!(ot in F.documentLoaders))throw new JsonLdError('Unknown document loader type: "'+ot+'"',"jsonld.UnknownDocumentLoader",{type:ot});F.documentLoader=F.documentLoaders[ot].apply(F,Array.prototype.slice.call(arguments,1))},F.registerRDFParser=function(ot,at){W[ot]=at},F.unregisterRDFParser=function(ot){delete W[ot]},F.registerRDFParser("application/n-quads",NQuads.parse),F.registerRDFParser("application/nquads",NQuads.parse),F.url=url$1,F.logEventHandler=_logEventHandler,F.logWarningEventHandler=_logWarningEventHandler,F.safeEventHandler=_safeEventHandler,F.setDefaultEventHandler=_setDefaultEventHandler,F.strictEventHandler=_strictEventHandler,F.unhandledEventHandler=_unhandledEventHandler,F.util=util,Object.assign(F,util),F.promises=F,F.RequestQueue=requireRequestQueue(),F.JsonLdProcessor=requireJsonLdProcessor()(F),platform.setupGlobals(F),platform.setupDocumentLoaders(F);function tt(ot,{documentLoader:at=F.documentLoader,...ut}){if(ot&&"compactionMap"in ot)throw new JsonLdError('"compactionMap" not supported.',"jsonld.OptionsError");if(ot&&"expansionMap"in ot)throw new JsonLdError('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:at},ut,ot,{eventHandler:_setupEventHandler({options:ot})})}return F},factory=function(){return wrapper(function(){return factory()})};wrapper(factory);var jsonld=factory;const _hoisted_1$2=["height","caption"],sparqlEndpoint="https://cy9in0xsv5.execute-api.us-east-1.amazonaws.com/prod/sparql",iiifService="https://iiif.juncture-digital.org",sparql=`
    PREFIX jwd: <http://kg.jstor.org/entity/>
    PREFIX jwdt: <http://kg.jstor.org/prop/direct/>
    PREFIX jp: <http://kg.jstor.org/prop/>
    PREFIX jps: <http://kg.jstor.org/prop/statement/>
    PREFIX jpq: <http://kg.jstor.org/prop/qualifier/>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX schema: <http://schema.org/>
    CONSTRUCT {
      ?specimen jwdt:P1660 ?specimenOf ;
                schema:description ?description ;
                rdf:type jwd:Q14316 ;
                jwdt:P1663 ?collectionDate ;
                jwdt:P1662 ?collector ;
                jwdt:P1665 ?locationCollected ;
                jwdt:P1106 ?jstorPlantsId ;
                jwdt:P1661 ?specimenType ;
                jwdt:P501 ?taxonName ;
                jwdt:P1666 ?availableAt ;
                jp:P1467 ?img .
      ?img jps:P1467 ?url ; jpq:P1669 ?imgSize .
      ?availableAt jps:P1666 ?wdID ; rdfs:label ?herbariumName .
      ?locationCollected jps:P1665 ?locId ; rdfs:label ?locationName ; wdt:P6766 ?wofId .
    } WHERE {
      ?specimen jwdt:P17 jwd:Q14316 ;
              <<SELECTOR>>
              schema:description ?description ;
              jwdt:P1106 ?jstorPlantsId ;
              jwdt:P501 ?taxonName ;
              jp:P1467 [ jps:P1467 ?img ;
                        jpq:P1669 ?imgSize ] .
      FILTER(?imgSize = 'best')
      OPTIONAL { ?specimen jwdt:P1661 ?specimenType . }
      OPTIONAL { ?specimen jwdt:P1660 ?specimenOf . }
      OPTIONAL { ?specimen jwdt:P1663 ?collectionDate . }
      OPTIONAL { ?specimen jwdt:P1662 ?collector . }
      OPTIONAL {
          ?specimen jwdt:P1665 ?locationCollected .
          SERVICE <https://query.wikidata.org/sparql> {
              ?locationCollected rdfs:label ?locationName .
              FILTER(LANG(?locationName) = 'en')
              OPTIONAL { ?locationCollected wdt:P6766 ?wofId . }
          }
      }        
      OPTIONAL {
          ?specimen jwdt:P1666 ?availableAt .
          SERVICE <https://query.wikidata.org/sparql> {
              ?availableAt rdfs:label ?herbariumName .
              FILTER(LANG(?herbariumName) = 'en')
          }
      }
    }
    LIMIT <<LIMIT>>`,_sfc_main$3=defineComponent({__name:"PlantSpecimen.ce",props:{eid:{type:String},qid:{type:String},jpid:{type:String},wdid:{type:String},taxonName:{type:String},caption:{type:String},max:{type:Number,default:1},full:{type:Boolean},left:{type:Boolean},right:{type:Boolean},sticky:{type:Boolean},width:{type:String},height:{type:String}},setup(F){const W=F,q=ref(null),X=ref([]),tt=ref([]),ot=computed(()=>tt.value.map(yo=>yo.id||yo["@id"]));watch$1(X,async()=>{var yo;tt.value=await Promise.all((((yo=X.value)==null?void 0:yo.length)===1?[X.value[0]]:X.value||[]).map(lf=>fetch(`${iiifService}/manifest/`,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(mo(lf))}).then(uf=>uf.json())))});const at=computed(()=>{var yo;return W.caption||(((yo=X.value)==null?void 0:yo.length)>0?X.value[0].description:"")});onMounted(()=>wt());const ut={"@context":{jwd:"http://kg.jstor.org/entity/",jwdt:"http://kg.jstor.org/prop/direct/",jp:"http://kg.jstor.org/prop/",jps:"http://kg.jstor.org/prop/statement/",jpq:"http://kg.jstor.org/prop/qualifier/",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"http://schema.org/",wd:"http://www.wikidata.org/entity/",wdt:"http://www.wikidata.org/prop/direct/",xsd:"http://www.w3.org/2001/XMLSchema#",Specimen:"jwd:Q14316",id:"@id",collectionDate:{"@id":"jwdt:P1663","@type":"xsd:dateTime"},collector:{"@id":"jwdt:P1662","@container":"@set"},description:{"@id":"schema:description","@language":"en"},herbarium:{"@id":"jwdt:P1666","@type":"@id"},images:{"@id":"jp:P1467","@type":"@id","@container":"@set"},imgSize:{"@id":"jpq:P1669"},"instance of":{"@id":"jwdt:P17","@type":"@id"},jstorPlantsId:{"@id":"jwdt:P1106"},locationCollected:{"@id":"jwdt:P1665"},label:{"@id":"rdfs:label","@language":"en"},specimenOf:{"@id":"jwdt:P1660","@type":"@id"},specimenType:{"@id":"jwdt:P1661"},taxonName:{"@id":"jwdt:P501"},wofId:{"@id":"wdt:P6766"}}};async function wt(){let yo=W.jpid?`jwdt:P1106 "${W.jpid}" ;`:W.eid||W.qid||W.wdid?`jwdt:P1660 <http://www.wikidata.org/entity/${W.eid||W.qid||W.wdid}> ;`:`jwdt:P501 "${W.taxonName}" ;`,lf=sparql.replace(/<<SELECTOR>>/,yo).replace(/<<LIMIT>>/,`${W.max}`),uf=await uo(lf);uf["@graph"]?X.value=(await uo(lf))["@graph"]:(delete uf["@context"],X.value=[uf])}async function uo(yo){let uf=await(await fetch(sparqlEndpoint,{method:"POST",body:new URLSearchParams({query:yo}),headers:{Accept:"text/plain","Content-type":"application/x-www-form-urlencoded"}})).text(),df=await jsonld.fromRDF(uf,{format:"application/n-quads"});return jsonld.frame(df,{"@context":ut,"@type":"Specimen"})}function mo(yo){let uf=yo.images.find(wf=>wf.imgSize==="best").id.match(/rft_id=([^&]*)/)[1],df={url:`${iiifService}/gp-proxy${uf}`};return yo.taxonName&&(df["Taxon name"]=yo.taxonName),yo.jstorPlantsId&&(df["Global Plants ID"]=yo.jstorPlantsId),yo.description&&(df.Description=yo.description),yo.description&&(df.Label=yo.description),yo.specimenType&&(df["Specimen type"]=yo.specimenType),yo.collector&&(df.Collector=yo.collector.join("; ")),yo.locationCollected&&(df["Location collected"]=yo.locationCollected.label),yo.collectionDate&&(df["Date collected"]=yo.collectionDate),yo.herbarium&&(df.Herbarium=yo.herbarium.label),df}return(yo,lf)=>(openBlock(),createElementBlock("div",{class:"osd",id:"osd",ref_key:"root",ref:q},[createBaseVNode("mdp-image",{height:F.height,caption:at.value},[createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ot.value,(uf,df)=>(openBlock(),createElementBlock("li",{key:`specimen-${df}`},"src="+toDisplayString(uf),1))),128))])],8,_hoisted_1$2)],512))}}),_hoisted_1$1=createBaseVNode("input",{class:"search-btn",type:"checkbox",id:"search-btn"},null,-1),_hoisted_2$1={class:"wrapper"},_hoisted_3$1={class:"search-form"},_hoisted_4={class:"input-wrapper relative"},_hoisted_5=createBaseVNode("path",{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"},null,-1),_hoisted_6=[_hoisted_5],_hoisted_7={key:0,class:"search-results"},_hoisted_8=["href"],_hoisted_9=["innerHTML"],_hoisted_10=["innerHTML"],_hoisted_11={key:0},_hoisted_12=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 512 512",fill:"#fff"},[createBaseVNode("path",{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"})],-1),_hoisted_13=[_hoisted_12],searchEndpoint="https://www.googleapis.com/customsearch/v1",_sfc_main$2=defineComponent({__name:"SiteSearch.ce",props:{searchDomain:{type:String},searchKey:{type:String},searchCx:{type:String}},setup(F){const W=F,q=ref(wo(W.searchDomain||"",W.searchKey||"")),X=ref(null),tt=computed(()=>{var ls;return(ls=X==null?void 0:X.value)==null?void 0:ls.parentNode}),ot=ref(),at=ref(),ut=ref(""),wt=ref([]),uo=ref(0),mo=ref(!1);onMounted(()=>lf());function yo(ls){ls.preventDefault(),mo.value=!0}function lf(){var ls,_f;ot.value=(ls=tt.value)==null?void 0:ls.querySelector("#search-input"),ot.value.value="",at.value=(_f=tt.value)==null?void 0:_f.querySelector("#search-btn"),wt.value=[]}watch$1(mo,()=>{var ls;at.value&&(at.value.checked=mo.value),mo&&((ls=ot.value)==null||ls.focus())});function uf(){var gf;let ls=(gf=ot.value)==null?void 0:gf.value.replace(/ /,"%20"),_f={q:ls,start:ls===ut.value?wt.value.length+1:1,key:q.value,cx:W.searchCx},po=Object.keys(_f).map(cf=>`${cf}=${_f[cf]}`).join("&"),xo=`${searchEndpoint}?${po}`;fetch(xo).then(cf=>cf.json()).then(cf=>{uo.value=parseInt(cf.searchInformation.totalResults);let yf=cf.items.map(Sf=>{var bf;let xf=new URL(Sf.link);return Sf.link=`${location.origin}${((bf=window.config)==null?void 0:bf.baseurl)||""}${xf.pathname}`,Sf});wt.value=ls!==ut.value?yf:[...wt.value,...yf],ut.value=ls||""})}function df(ls){ls.key==="Enter"&&uf()}function wf(ls){ls.preventDefault(),ls.stopPropagation(),mo.value=!1,ot.value&&(ot.value.value=""),ut.value="",uo.value=0,wt.value=[]}function wo(ls,_f){const po=yf=>yf.split("").map(Sf=>Sf.charCodeAt(0)),xo=yf=>po(ls).reduce((Sf,xf)=>Sf^xf,yf);let gf=_f.match(/.{1,2}/g);return gf?gf.map(yf=>parseInt(yf,16)).map(xo).map(yf=>String.fromCharCode(yf)).join(""):""}return(ls,_f)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:X,class:"search"},[_hoisted_1$1,createBaseVNode("div",_hoisted_2$1,[createBaseVNode("div",_hoisted_3$1,[createBaseVNode("div",_hoisted_4,[createBaseVNode("input",{type:"text",id:"search-input",class:"search-input",onKeyup:df,autocomplete:"off",role:"textbox",placeholder:"Search site"},null,32)]),(openBlock(),createElementBlock("svg",{onClick:wf,class:"absolute top-[12px] right-[10px] z-10 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 384 512",fill:"#000"},_hoisted_6))]),wt.value.length>0?(openBlock(),createElementBlock("ul",_hoisted_7,[(openBlock(!0),createElementBlock(Fragment,null,renderList(wt.value,(po,xo)=>(openBlock(),createElementBlock("li",{key:`sr=${xo}`},[createBaseVNode("a",{href:po.link},[createBaseVNode("h3",{innerHTML:po.htmlTitle},null,8,_hoisted_9),createBaseVNode("p",{innerHTML:po.htmlSnippet},null,8,_hoisted_10)],8,_hoisted_8)]))),128)),uo.value>wt.value.length?(openBlock(),createElementBlock("li",_hoisted_11,[createBaseVNode("div",{class:"more",onClick:uf},"More")])):createCommentVNode("",!0)])):createCommentVNode("",!0)]),createBaseVNode("label",{class:"search-icon",htmlFor:"search-btn"},[createBaseVNode("span",{onClick:yo},_hoisted_13)])],512))}}),_style_0$2=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.end-1{inset-inline-end:.25rem}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-3{margin:.75rem}.me-1{margin-inline-end:.25rem}.ml-1{margin-left:.25rem}.mr-2{margin-right:.5rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-40{height:10rem}.h-64{height:16rem}.h-8{height:2rem}.h-80{height:20rem}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-1{width:.25rem}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-10{padding:2.5rem}.p-14{padding:3.5rem}.p-16{padding:4rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-8{padding:2rem}.px-4{padding-left:1rem;padding-right:1rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pe-1{padding-inline-end:.25rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.\\!ordinal{--tw-ordinal: ordinal !important;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)!important}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[a\\:a\\]{a:a}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}mdp-header ul,mdp-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}*{box-sizing:border-box}.search-icon{color:#fff;font-size:28px}.search-icon:hover{cursor:pointer}.search{position:relative;display:flex;align-items:center;gap:10px}.search-btn,.search-form,.wrapper{display:none}.wrapper{flex-direction:column;position:absolute;right:-4px}.search-form{display:flex;align-items:center}.search-input{height:42px;width:250px;border-radius:6px;padding:3px 10px;font-size:1rem;color:#000}.search-submit{background-color:#fff;border-radius:6px;padding:8px 8px 4px;height:24px;z-index:4}.search-submit:hover{background-color:#ddd;cursor:pointer}.search-results{position:absolute;top:42px;left:0;width:326px;max-height:50vh;overflow-y:scroll;z-index:2;background-color:#fff;margin:0 0 0 2px;list-style:none;padding:6px;border-radius:6px;font-size:.9rem;box-shadow:0 6px 20px #00000030}.search-results li:nth-of-type(2n){background-color:#e6e6df}.search-results li{padding:6px;margin:3px;border:1px solid #E6E6DF}.search-results li h3,.search-results li p{margin:8px 0}.search-results li a{text-decoration:none;color:#444}.search-results li a h3{font-weight:700}.search-results li a p{font-weight:300}.search-results li:hover{cursor:pointer;box-shadow:0 4px 8px #0003}.search-btn:checked~.wrapper .search-form{display:flex;width:100%}.search-btn:checked~.wrapper{display:flex}.input-wrapper{display:inline-block;position:relative}
`,SiteSearch=_export_sfc(_sfc_main$2,[["styles",[_style_0$2]]]);var dist={exports:{}},Sister;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/Sister=function(){var F={},W={};return F.on=function(q,X){var tt={name:q,handler:X};return W[q]=W[q]||[],W[q].unshift(tt),tt},F.off=function(q){var X=W[q.name].indexOf(q);X!==-1&&W[q.name].splice(X,1)},F.trigger=function(q,X){var tt=W[q],ot;if(tt)for(ot=tt.length;ot--;)tt[ot].handler(X)},F};var sister=Sister,YouTubePlayer$1={exports:{}},browser={exports:{}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var F=1e3,W=F*60,q=W*60,X=q*24,tt=X*7,ot=X*365.25;ms=function(mo,yo){yo=yo||{};var lf=typeof mo;if(lf==="string"&&mo.length>0)return at(mo);if(lf==="number"&&isFinite(mo))return yo.long?wt(mo):ut(mo);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(mo))};function at(mo){if(mo=String(mo),!(mo.length>100)){var yo=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(mo);if(yo){var lf=parseFloat(yo[1]),uf=(yo[2]||"ms").toLowerCase();switch(uf){case"years":case"year":case"yrs":case"yr":case"y":return lf*ot;case"weeks":case"week":case"w":return lf*tt;case"days":case"day":case"d":return lf*X;case"hours":case"hour":case"hrs":case"hr":case"h":return lf*q;case"minutes":case"minute":case"mins":case"min":case"m":return lf*W;case"seconds":case"second":case"secs":case"sec":case"s":return lf*F;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return lf;default:return}}}}function ut(mo){var yo=Math.abs(mo);return yo>=X?Math.round(mo/X)+"d":yo>=q?Math.round(mo/q)+"h":yo>=W?Math.round(mo/W)+"m":yo>=F?Math.round(mo/F)+"s":mo+"ms"}function wt(mo){var yo=Math.abs(mo);return yo>=X?uo(mo,yo,X,"day"):yo>=q?uo(mo,yo,q,"hour"):yo>=W?uo(mo,yo,W,"minute"):yo>=F?uo(mo,yo,F,"second"):mo+" ms"}function uo(mo,yo,lf,uf){var df=yo>=lf*1.5;return Math.round(mo/lf)+" "+uf+(df?"s":"")}return ms}function setup(F){q.debug=q,q.default=q,q.coerce=wt,q.disable=ot,q.enable=tt,q.enabled=at,q.humanize=requireMs(),q.destroy=uo,Object.keys(F).forEach(mo=>{q[mo]=F[mo]}),q.names=[],q.skips=[],q.formatters={};function W(mo){let yo=0;for(let lf=0;lf<mo.length;lf++)yo=(yo<<5)-yo+mo.charCodeAt(lf),yo|=0;return q.colors[Math.abs(yo)%q.colors.length]}q.selectColor=W;function q(mo){let yo,lf=null,uf,df;function wf(...wo){if(!wf.enabled)return;const ls=wf,_f=Number(new Date),po=_f-(yo||_f);ls.diff=po,ls.prev=yo,ls.curr=_f,yo=_f,wo[0]=q.coerce(wo[0]),typeof wo[0]!="string"&&wo.unshift("%O");let xo=0;wo[0]=wo[0].replace(/%([a-zA-Z%])/g,(cf,yf)=>{if(cf==="%%")return"%";xo++;const Sf=q.formatters[yf];if(typeof Sf=="function"){const xf=wo[xo];cf=Sf.call(ls,xf),wo.splice(xo,1),xo--}return cf}),q.formatArgs.call(ls,wo),(ls.log||q.log).apply(ls,wo)}return wf.namespace=mo,wf.useColors=q.useColors(),wf.color=q.selectColor(mo),wf.extend=X,wf.destroy=q.destroy,Object.defineProperty(wf,"enabled",{enumerable:!0,configurable:!1,get:()=>lf!==null?lf:(uf!==q.namespaces&&(uf=q.namespaces,df=q.enabled(mo)),df),set:wo=>{lf=wo}}),typeof q.init=="function"&&q.init(wf),wf}function X(mo,yo){const lf=q(this.namespace+(typeof yo>"u"?":":yo)+mo);return lf.log=this.log,lf}function tt(mo){q.save(mo),q.namespaces=mo,q.names=[],q.skips=[];let yo;const lf=(typeof mo=="string"?mo:"").split(/[\s,]+/),uf=lf.length;for(yo=0;yo<uf;yo++)lf[yo]&&(mo=lf[yo].replace(/\*/g,".*?"),mo[0]==="-"?q.skips.push(new RegExp("^"+mo.slice(1)+"$")):q.names.push(new RegExp("^"+mo+"$")))}function ot(){const mo=[...q.names.map(ut),...q.skips.map(ut).map(yo=>"-"+yo)].join(",");return q.enable(""),mo}function at(mo){if(mo[mo.length-1]==="*")return!0;let yo,lf;for(yo=0,lf=q.skips.length;yo<lf;yo++)if(q.skips[yo].test(mo))return!1;for(yo=0,lf=q.names.length;yo<lf;yo++)if(q.names[yo].test(mo))return!0;return!1}function ut(mo){return mo.toString().substring(2,mo.toString().length-2).replace(/\.\*\?$/,"*")}function wt(mo){return mo instanceof Error?mo.stack||mo.message:mo}function uo(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return q.enable(q.load()),q}var common=setup;(function(F,W){W.formatArgs=X,W.save=tt,W.load=ot,W.useColors=q,W.storage=at(),W.destroy=(()=>{let wt=!1;return()=>{wt||(wt=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),W.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function q(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function X(wt){if(wt[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+wt[0]+(this.useColors?"%c ":" ")+"+"+F.exports.humanize(this.diff),!this.useColors)return;const uo="color: "+this.color;wt.splice(1,0,uo,"color: inherit");let mo=0,yo=0;wt[0].replace(/%[a-zA-Z%]/g,lf=>{lf!=="%%"&&(mo++,lf==="%c"&&(yo=mo))}),wt.splice(yo,0,uo)}W.log=console.debug||console.log||(()=>{});function tt(wt){try{wt?W.storage.setItem("debug",wt):W.storage.removeItem("debug")}catch{}}function ot(){let wt;try{wt=W.storage.getItem("debug")}catch{}return!wt&&typeof process<"u"&&"env"in process&&(wt={version:"0.3.4"}.DEBUG),wt}function at(){try{return localStorage}catch{}}F.exports=common(W);const{formatters:ut}=F.exports;ut.j=function(wt){try{return JSON.stringify(wt)}catch(uo){return"[UnexpectedJSONParseError]: "+uo.message}}})(browser,browser.exports);var browserExports=browser.exports,FunctionStateMap={exports:{}},PlayerStates={exports:{}};(function(F,W){Object.defineProperty(W,"__esModule",{value:!0}),W.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},F.exports=W.default})(PlayerStates,PlayerStates.exports);var PlayerStatesExports=PlayerStates.exports;(function(F,W){Object.defineProperty(W,"__esModule",{value:!0});var q=PlayerStatesExports,X=tt(q);function tt(ot){return ot&&ot.__esModule?ot:{default:ot}}W.default={pauseVideo:{acceptableStates:[X.default.ENDED,X.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[X.default.ENDED,X.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[X.default.ENDED,X.default.PLAYING,X.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},F.exports=W.default})(FunctionStateMap,FunctionStateMap.exports);var FunctionStateMapExports=FunctionStateMap.exports,eventNames={exports:{}};(function(F,W){Object.defineProperty(W,"__esModule",{value:!0}),W.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],F.exports=W.default})(eventNames,eventNames.exports);var eventNamesExports=eventNames.exports,functionNames={exports:{}};(function(F,W){Object.defineProperty(W,"__esModule",{value:!0}),W.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe","getSphericalProperties","setSphericalProperties"],F.exports=W.default})(functionNames,functionNames.exports);var functionNamesExports=functionNames.exports;(function(F,W){Object.defineProperty(W,"__esModule",{value:!0});var q=browserExports,X=mo(q),tt=FunctionStateMapExports,ot=mo(tt),at=eventNamesExports,ut=mo(at),wt=functionNamesExports,uo=mo(wt);function mo(uf){return uf&&uf.__esModule?uf:{default:uf}}const yo=(0,X.default)("youtube-player"),lf={};lf.proxyEvents=uf=>{const df={};for(const wf of ut.default){const wo="on"+wf.slice(0,1).toUpperCase()+wf.slice(1);df[wo]=ls=>{yo('event "%s"',wo,ls),uf.trigger(wf,ls)}}return df},lf.promisifyPlayer=(uf,df=!1)=>{const wf={};for(const wo of uo.default)df&&ot.default[wo]?wf[wo]=(...ls)=>uf.then(_f=>{const po=ot.default[wo],xo=_f.getPlayerState(),gf=_f[wo].apply(_f,ls);return po.stateChangeRequired||Array.isArray(po.acceptableStates)&&!po.acceptableStates.includes(xo)?new Promise(cf=>{const yf=()=>{const Sf=_f.getPlayerState();let xf;typeof po.timeout=="number"&&(xf=setTimeout(()=>{_f.removeEventListener("onStateChange",yf),cf()},po.timeout)),Array.isArray(po.acceptableStates)&&po.acceptableStates.includes(Sf)&&(_f.removeEventListener("onStateChange",yf),clearTimeout(xf),cf())};_f.addEventListener("onStateChange",yf)}).then(()=>gf):gf}):wf[wo]=(...ls)=>uf.then(_f=>_f[wo].apply(_f,ls));return wf},W.default=lf,F.exports=W.default})(YouTubePlayer$1,YouTubePlayer$1.exports);var YouTubePlayerExports=YouTubePlayer$1.exports,loadYouTubeIframeApi={exports:{}},loadScript=function F(W,q,X){var tt=document.head||document.getElementsByTagName("head")[0],ot=document.createElement("script");typeof q=="function"&&(X=q,q={}),q=q||{},X=X||function(){},ot.type=q.type||"text/javascript",ot.charset=q.charset||"utf8",ot.async="async"in q?!!q.async:!0,ot.src=W,q.attrs&&setAttributes(ot,q.attrs),q.text&&(ot.text=""+q.text);var at="onload"in ot?stdOnEnd:ieOnEnd;at(ot,X),ot.onload||stdOnEnd(ot,X),tt.appendChild(ot)};function setAttributes(F,W){for(var q in W)F.setAttribute(q,W[q])}function stdOnEnd(F,W){F.onload=function(){this.onerror=this.onload=null,W(null,F)},F.onerror=function(){this.onerror=this.onload=null,W(new Error("Failed to load "+this.src),F)}}function ieOnEnd(F,W){F.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,W(null,F))}}(function(F,W){Object.defineProperty(W,"__esModule",{value:!0});var q=loadScript,X=tt(q);function tt(ot){return ot&&ot.__esModule?ot:{default:ot}}W.default=ot=>new Promise(ut=>{if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){ut(window.YT);return}else{const uo=window.location.protocol==="http:"?"http:":"https:";(0,X.default)(uo+"//www.youtube.com/iframe_api",mo=>{mo&&ot.trigger("error",mo)})}const wt=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{wt&&wt(),ut(window.YT)}}),F.exports=W.default})(loadYouTubeIframeApi,loadYouTubeIframeApi.exports);var loadYouTubeIframeApiExports=loadYouTubeIframeApi.exports;(function(F,W){Object.defineProperty(W,"__esModule",{value:!0});var q=sister,X=wt(q),tt=YouTubePlayerExports,ot=wt(tt),at=loadYouTubeIframeApiExports,ut=wt(at);function wt(mo){return mo&&mo.__esModule?mo:{default:mo}}let uo;W.default=(mo,yo={},lf=!1)=>{const uf=(0,X.default)();if(uo||(uo=(0,ut.default)(uf)),yo.events)throw new Error("Event handlers cannot be overwritten.");if(typeof mo=="string"&&!document.getElementById(mo))throw new Error('Element "'+mo+'" does not exist.');yo.events=ot.default.proxyEvents(uf);const df=new Promise(wo=>{typeof mo=="object"&&mo.playVideo instanceof Function?wo(mo):uo.then(ls=>{const _f=new ls.Player(mo,yo);return uf.on("ready",()=>{wo(_f)}),null})}),wf=ot.default.promisifyPlayer(df,lf);return wf.on=uf.on,wf.off=uf.off,wf},F.exports=W.default})(dist,dist.exports);var distExports=dist.exports;const YouTubePlayer=getDefaultExportFromCjs(distExports),_hoisted_1={key:0,id:"youtube-player",style:{width:"100%"}},_hoisted_2=["muted","autoplay","poster"],_hoisted_3=["src","type"],_sfc_main$1=defineComponent({__name:"Video.ce",props:{alt:{type:String},autoplay:{type:Boolean,default:!1},caption:{type:String},class:{type:String},end:{type:Number},muted:{type:Boolean,default:!0},noCaption:{type:Boolean},poster:{type:String},src:{type:String},start:{type:Number},sync:{type:Boolean,default:!1}},setup(F){const W=F,q=ref(null),X=computed(()=>{var zf;return(zf=q==null?void 0:q.value)==null?void 0:zf.parentNode}),tt=computed(()=>{var zf,jf;return(jf=(zf=q.value)==null?void 0:zf.getRootNode())==null?void 0:jf.host}),ot=ref(null);watch$1(ot,zf=>{uf=zf,xo()});const at=computed(()=>{var zf;return(zf=W.src)==null?void 0:zf.includes("youtube.com")}),ut=computed(()=>{var zf;return(zf=W.src)==null?void 0:zf.includes("vimeo.com")}),wt=computed(()=>!at.value&&!ut.value);watch$1(wt,async()=>{!uo.value&&W.src&&(uo.value=await getManifest(W.src))});const uo=ref(null),mo=computed(()=>uo.value?getItemInfo(uo.value):null),yo=computed(()=>{var zf;return(zf=mo.value)==null?void 0:zf.id}),lf=computed(()=>{var jf;let zf=(jf=yo.value)==null?void 0:jf.split("#")[0].split(".").pop();return zf==="mp4"?"video/mp4":zf==="webm"?"video/webm":"application/ogg"});let uf;const df=ref(!1),wf=ref(!1);watch$1(tt,async()=>{(at.value?"youtube":ut.value?"vimeo":"html5")==="html5"&&!uo.value&&W.src&&(uo.value=await getManifest(W.src)),ls(),EventBus$1.on("seekto",jf=>Df(jf.start,jf.end)),at.value&&await po(),W.sync&&wo()});function wo(){let zf=Array.from(document.querySelectorAll("p[data-head]")).map($f=>{let[Ff,...Xf]=$f.dataset.head.split(/\s+/),mp=document.createElement("a");if(mp.classList.add("play"),mp.href="javascript:;",mp.textContent=Ff,mp.addEventListener("click",()=>{Df($f.dataset.head)}),$f.insertBefore(document.createElement("br"),$f.firstChild),Xf.length>0){let fp=document.createElement("span");fp.classList.add("headline"),fp.textContent=Xf.join(" "),$f.insertBefore(fp,$f.firstChild)}return $f.insertBefore(mp,$f.firstChild),{start:bf($f.dataset.head.split(/\s+/)[0]),id:$f.id}}),jf=null;EventBus$1.on("video-at-time",$f=>{let Ff=$f.time,Xf=zf.find(mp=>{var fp;return mp.start<=Ff&&(((fp=zf[zf.indexOf(mp)+1])==null?void 0:fp.start)||1/0)>Ff});if(Xf&&(Xf==null?void 0:Xf.id)!==jf){jf=Xf.id;let mp=document.getElementById(Xf.id);document.querySelectorAll("p.active").forEach(fp=>fp.classList.remove("active")),mp&&mp.classList.add("active"),mp&&mp.scrollIntoView({behavior:"smooth",block:"center"})}})}function ls(){let zf=tt.value.parentElement;for(;zf!=null&&zf.parentElement&&zf.tagName!=="MAIN";)Array.from(zf.querySelectorAll("a")).forEach(jf=>{let Ff=new URL(jf.href).pathname.split("/").filter(mp=>mp),Xf=Ff.indexOf("play");if(Xf>=0&&Ff.length>Xf+1&&_f(jf)){let fp=Ff[Xf+1],Mp=Ff.length>Xf+1?Ff[Xf+2]:null;jf.classList.add("play"),jf.href="javascript:;",jf.setAttribute("data-play",Mp?`${fp} ${Mp}`:fp),jf.addEventListener("click",Np=>{var Ep;let[Pp,yp]=((Ep=Np.target.getAttribute("data-play"))==null?void 0:Ep.split(/\s+/))||[];Pp&&Df(Pp,yp)})}}),zf=zf.parentElement}function _f(zf){function jf($f){let Ff=$f.previousSibling;for(;Ff;){if(Ff.nodeName==="MDP-VIDEO")return Ff===tt.value?Ff:null;Ff=Ff.previousSibling}}for(jf(zf);zf.parentElement&&zf.tagName!=="BODY";){zf=zf.parentElement;let $f=zf.querySelector(":scope mdp-video");if($f)return $f===tt.value?$f:null}}async function po(){var jf;let zf=(jf=X.value)==null?void 0:jf.querySelector("#youtube-player");if(W.src&&zf){let Ff=new URL(W.src).searchParams.get("v")||"",Xf=await xf(Ff);tt.value&&new ResizeObserver(()=>{var Mp;zf=(Mp=X.value)==null?void 0:Mp.querySelector("#youtube-player");let mp=zf==null?void 0:zf.clientWidth,fp=Math.round(mp/Xf.aspect);zf.style.height=`${fp}px`}).observe(tt.value),uf=YouTubePlayer(zf,{videoId:Ff,width:zf==null?void 0:zf.clientWidth,playerVars:{color:"white",rel:0,modestbranding:1,playsinline:1}}),uf.on("ready",mp=>xo())}}async function xo(){Sf().then(zf=>EventBus$1.emit("video-at-time",{time:Math.round(zf)})),setInterval(async()=>{df.value=await cf(),wf.value=await gf(),wf.value&&Sf().then(zf=>EventBus$1.emit("video-at-time",{time:Math.round(zf)}))},1e3)}async function gf(){return at.value?await uf.getPlayerState()===1:ut.value?!(await uf.getEnded()||await uf.getPaused()):wt?!(uf.ended||uf.paused):!1}async function cf(){return at.value?await uf.isMuted():ut.value?await uf.getMuted():await W.muted}function yf(zf){at.value?zf?uf.mute():uf.unMute():ut.value?uf.setMuted(zf):wt.value&&(uf.muted=zf)}async function Sf(){if(at.value)return uf.getCurrentTime();if(ut.value)return await uf.getCurrentTime();if(wt.value)return uf.currentTime}async function xf(zf){let $f=`https://youtube.com/oembed?url=${encodeURI(`https://www.youtube.com/watch?v=${zf}`)}&format=json`,Xf=await(await fetch($f)).json();return Xf.aspect=Xf.width/Xf.height,Xf}function bf(zf){var jf=zf.split(":").slice(0,3).map(Xf=>parseInt(Xf,10));let $f=0,Ff=1;for(;jf.length>0;){let Xf=jf.pop()||0;$f+=Ff*Xf,Ff*=60}return $f}let Af=null,Pf=!1;function Df(zf,jf=""){let $f=bf(zf),Ff=jf?bf(jf)+1:-1;Af&&(clearTimeout(Af),Af=null);let Xf=df.value;at.value?(uf.playVideo(),uf.seekTo($f).then(mp=>{Ff>=$f&&(Af=setTimeout(()=>{uf.pauseVideo().then(fp=>{Af=null,!Xf&&Pf&&yf(!1)})},Ff===$f?200:(Ff-$f)*1e3))})):ut.value?(uf.setCurrentTime($f),uf.play().then(mp=>{Ff>=$f&&(Af=setTimeout(()=>{uf.pause().then(fp=>{Af=null,!Xf&&Pf&&yf(!1)})},Ff===$f?200:(Ff-$f)*1e3))})):wt.value&&setTimeout(()=>{uf.play(),uf.currentTime=$f,Ff>=$f&&(Af=setTimeout(()=>{Af=null,uf.pause(),!Xf&&Pf&&yf(!1)},Ff===$f?200:(Ff-$f)*1e3))},200)}return(zf,jf)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:q},[at.value?(openBlock(),createElementBlock("div",_hoisted_1)):createCommentVNode("",!0),uo.value?(openBlock(),createElementBlock("video",{key:1,ref_key:"html5Player",ref:ot,id:"html5-player",controls:"",playsinline:"",muted:W.muted,autoplay:W.autoplay,poster:W.poster},[createBaseVNode("source",{src:yo.value,type:lf.value},null,8,_hoisted_3)],8,_hoisted_2)):createCommentVNode("",!0)],512))}}),_style_0$1=`*{box-sizing:border-box}:host{display:block;background-color:inherit}video{width:100%;height:auto}
`,Video=_export_sfc(_sfc_main$1,[["styles",[_style_0$1]]]);var vis$1={exports:{}};/**
 * vis.js
 * https://github.com/almende/vis
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 4.24.11
 * @date    2019-10-24
 *
 * @license
 * Copyright (C) 2011-2017 Almende B.V, http://almende.com
 *
 * Vis.js is dual licensed under both
 *
 * * The Apache 2.0 License
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * and
 *
 * * The MIT License
 *   http://opensource.org/licenses/MIT
 *
 * Vis.js may be distributed under either license.
 */(function(F,W){(function(X,tt){F.exports=tt()})(typeof self<"u"?self:commonjsGlobal,function(){return function(q){var X={};function tt(ot){if(X[ot])return X[ot].exports;var at=X[ot]={i:ot,l:!1,exports:{}};return q[ot].call(at.exports,at,at.exports,tt),at.l=!0,at.exports}return tt.m=q,tt.c=X,tt.d=function(ot,at,ut){tt.o(ot,at)||Object.defineProperty(ot,at,{configurable:!1,enumerable:!0,get:ut})},tt.n=function(ot){var at=ot&&ot.__esModule?function(){return ot.default}:function(){return ot};return tt.d(at,"a",at),at},tt.o=function(ot,at){return Object.prototype.hasOwnProperty.call(ot,at)},tt.p="",tt(tt.s=85)}([function(q,X,tt){X.__esModule=!0,X.default=function(ot,at){if(!(ot instanceof at))throw new TypeError("Cannot call a class as a function")}},function(q,X,tt){X.__esModule=!0;var ot=tt(130),at=ut(ot);function ut(wt){return wt&&wt.__esModule?wt:{default:wt}}X.default=function(){function wt(uo,mo){for(var yo=0;yo<mo.length;yo++){var lf=mo[yo];lf.enumerable=lf.enumerable||!1,lf.configurable=!0,"value"in lf&&(lf.writable=!0),(0,at.default)(uo,lf.key,lf)}}return function(uo,mo,yo){return mo&&wt(uo.prototype,mo),yo&&wt(uo,yo),uo}}()},function(q,X,tt){var ot=tt(58),at=uf(ot),ut=tt(31),wt=uf(ut),uo=tt(9),mo=uf(uo),yo=tt(7),lf=uf(yo);function uf(po){return po&&po.__esModule?po:{default:po}}var df=tt(71),wf=tt(119);X.isNumber=function(po){return po instanceof Number||typeof po=="number"},X.recursiveDOMDelete=function(po){if(po)for(;po.hasChildNodes()===!0;)X.recursiveDOMDelete(po.firstChild),po.removeChild(po.firstChild)},X.isString=function(po){return po instanceof String||typeof po=="string"},X.isDate=function(po){if(po instanceof Date)return!0;if(X.isString(po)){var xo=ls.exec(po);if(xo)return!0;if(!isNaN(Date.parse(po)))return!0}return!1},X.randomUUID=function(){return wf.v4()};function wo(po,xo,gf,cf){var yf=!1;cf===!0&&(yf=xo[gf]===null&&po[gf]!==void 0),yf?delete po[gf]:po[gf]=xo[gf]}X.fillIfDefined=function(po,xo){var gf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(var cf in po)xo[cf]!==void 0&&(xo[cf]===null||(0,lf.default)(xo[cf])!=="object"?wo(po,xo,cf,gf):(0,lf.default)(po[cf])==="object"&&X.fillIfDefined(po[cf],xo[cf],gf))},X.extend=function(po){for(var xo=1;xo<arguments.length;xo++){var gf=arguments[xo];for(var cf in gf)gf.hasOwnProperty(cf)&&(po[cf]=gf[cf])}return po},X.selectiveExtend=function(po,xo){if(!Array.isArray(po))throw new Error("Array with property names expected as first argument");for(var gf=2;gf<arguments.length;gf++)for(var cf=arguments[gf],yf=0;yf<po.length;yf++){var Sf=po[yf];cf&&cf.hasOwnProperty(Sf)&&(xo[Sf]=cf[Sf])}return xo},X.selectiveDeepExtend=function(po,xo,gf){var cf=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Array.isArray(gf))throw new TypeError("Arrays are not supported by deepExtend");for(var yf=0;yf<po.length;yf++){var Sf=po[yf];if(gf.hasOwnProperty(Sf))if(gf[Sf]&&gf[Sf].constructor===Object)xo[Sf]===void 0&&(xo[Sf]={}),xo[Sf].constructor===Object?X.deepExtend(xo[Sf],gf[Sf],!1,cf):wo(xo,gf,Sf,cf);else{if(Array.isArray(gf[Sf]))throw new TypeError("Arrays are not supported by deepExtend");wo(xo,gf,Sf,cf)}}return xo},X.selectiveNotDeepExtend=function(po,xo,gf){var cf=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Array.isArray(gf))throw new TypeError("Arrays are not supported by deepExtend");for(var yf in gf)if(gf.hasOwnProperty(yf)&&po.indexOf(yf)===-1)if(gf[yf]&&gf[yf].constructor===Object)xo[yf]===void 0&&(xo[yf]={}),xo[yf].constructor===Object?X.deepExtend(xo[yf],gf[yf]):wo(xo,gf,yf,cf);else if(Array.isArray(gf[yf])){xo[yf]=[];for(var Sf=0;Sf<gf[yf].length;Sf++)xo[yf].push(gf[yf][Sf])}else wo(xo,gf,yf,cf);return xo},X.deepExtend=function(po,xo){var gf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,cf=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(var yf in xo)if(xo.hasOwnProperty(yf)||gf===!0)if(xo[yf]&&xo[yf].constructor===Object)po[yf]===void 0&&(po[yf]={}),po[yf].constructor===Object?X.deepExtend(po[yf],xo[yf],gf):wo(po,xo,yf,cf);else if(Array.isArray(xo[yf])){po[yf]=[];for(var Sf=0;Sf<xo[yf].length;Sf++)po[yf].push(xo[yf][Sf])}else wo(po,xo,yf,cf);return po},X.equalArray=function(po,xo){if(po.length!=xo.length)return!1;for(var gf=0,cf=po.length;gf<cf;gf++)if(po[gf]!=xo[gf])return!1;return!0},X.convert=function(po,xo){var gf;if(po!==void 0){if(po===null)return null;if(!xo)return po;if(typeof xo!="string"&&!(xo instanceof String))throw new Error("Type must be a string");switch(xo){case"boolean":case"Boolean":return!!po;case"number":case"Number":return X.isString(po)&&!isNaN(Date.parse(po))?df(po).valueOf():Number(po.valueOf());case"string":case"String":return String(po);case"Date":if(X.isNumber(po))return new Date(po);if(po instanceof Date)return new Date(po.valueOf());if(df.isMoment(po))return new Date(po.valueOf());if(X.isString(po))return gf=ls.exec(po),gf?new Date(Number(gf[1])):df(new Date(po)).toDate();throw new Error("Cannot convert object of type "+X.getType(po)+" to type Date");case"Moment":if(X.isNumber(po))return df(po);if(po instanceof Date)return df(po.valueOf());if(df.isMoment(po))return df(po);if(X.isString(po))return gf=ls.exec(po),df(gf?Number(gf[1]):po);throw new Error("Cannot convert object of type "+X.getType(po)+" to type Date");case"ISODate":if(X.isNumber(po))return new Date(po);if(po instanceof Date)return po.toISOString();if(df.isMoment(po))return po.toDate().toISOString();if(X.isString(po))return gf=ls.exec(po),gf?new Date(Number(gf[1])).toISOString():df(po).format();throw new Error("Cannot convert object of type "+X.getType(po)+" to type ISODate");case"ASPDate":if(X.isNumber(po))return"/Date("+po+")/";if(po instanceof Date)return"/Date("+po.valueOf()+")/";if(X.isString(po)){gf=ls.exec(po);var cf;return gf?cf=new Date(Number(gf[1])).valueOf():cf=new Date(po).valueOf(),"/Date("+cf+")/"}else throw new Error("Cannot convert object of type "+X.getType(po)+" to type ASPDate");default:throw new Error('Unknown type "'+xo+'"')}}};var ls=/^\/?Date\((\-?\d+)/i;X.getType=function(po){var xo=typeof po>"u"?"undefined":(0,lf.default)(po);return xo=="object"?po===null?"null":po instanceof Boolean?"Boolean":po instanceof Number?"Number":po instanceof String?"String":Array.isArray(po)?"Array":po instanceof Date?"Date":"Object":xo=="number"?"Number":xo=="boolean"?"Boolean":xo=="string"?"String":xo===void 0?"undefined":xo},X.copyAndExtendArray=function(po,xo){for(var gf=[],cf=0;cf<po.length;cf++)gf.push(po[cf]);return gf.push(xo),gf},X.copyArray=function(po){for(var xo=[],gf=0;gf<po.length;gf++)xo.push(po[gf]);return xo},X.getAbsoluteLeft=function(po){return po.getBoundingClientRect().left},X.getAbsoluteRight=function(po){return po.getBoundingClientRect().right},X.getAbsoluteTop=function(po){return po.getBoundingClientRect().top},X.addClassName=function(po,xo){var gf=po.className.split(" "),cf=xo.split(" ");gf=gf.concat(cf.filter(function(yf){return gf.indexOf(yf)<0})),po.className=gf.join(" ")},X.removeClassName=function(po,xo){var gf=po.className.split(" "),cf=xo.split(" ");gf=gf.filter(function(yf){return cf.indexOf(yf)<0}),po.className=gf.join(" ")},X.forEach=function(po,xo){var gf,cf;if(Array.isArray(po))for(gf=0,cf=po.length;gf<cf;gf++)xo(po[gf],gf,po);else for(gf in po)po.hasOwnProperty(gf)&&xo(po[gf],gf,po)},X.toArray=function(po){var xo=[];for(var gf in po)po.hasOwnProperty(gf)&&xo.push(po[gf]);return xo},X.updateProperty=function(po,xo,gf){return po[xo]!==gf?(po[xo]=gf,!0):!1},X.throttle=function(po){var xo=!1;return function(){xo||(xo=!0,requestAnimationFrame(function(){xo=!1,po()}))}},X.addEventListener=function(po,xo,gf,cf){po.addEventListener?(cf===void 0&&(cf=!1),xo==="mousewheel"&&navigator.userAgent.indexOf("Firefox")>=0&&(xo="DOMMouseScroll"),po.addEventListener(xo,gf,cf)):po.attachEvent("on"+xo,gf)},X.removeEventListener=function(po,xo,gf,cf){po.removeEventListener?(cf===void 0&&(cf=!1),xo==="mousewheel"&&navigator.userAgent.indexOf("Firefox")>=0&&(xo="DOMMouseScroll"),po.removeEventListener(xo,gf,cf)):po.detachEvent("on"+xo,gf)},X.preventDefault=function(po){po||(po=window.event),po.preventDefault?po.preventDefault():po.returnValue=!1},X.getTarget=function(po){po||(po=window.event);var xo;return po.target?xo=po.target:po.srcElement&&(xo=po.srcElement),xo.nodeType!=null&&xo.nodeType==3&&(xo=xo.parentNode),xo},X.hasParent=function(po,xo){for(var gf=po;gf;){if(gf===xo)return!0;gf=gf.parentNode}return!1},X.option={},X.option.asBoolean=function(po,xo){return typeof po=="function"&&(po=po()),po!=null?po!=!1:xo||null},X.option.asNumber=function(po,xo){return typeof po=="function"&&(po=po()),po!=null?Number(po)||xo||null:xo||null},X.option.asString=function(po,xo){return typeof po=="function"&&(po=po()),po!=null?String(po):xo||null},X.option.asSize=function(po,xo){return typeof po=="function"&&(po=po()),X.isString(po)?po:X.isNumber(po)?po+"px":xo||null},X.option.asElement=function(po,xo){return typeof po=="function"&&(po=po()),po||xo||null},X.hexToRGB=function(po){var xo=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;po=po.replace(xo,function(cf,yf,Sf,xf){return yf+yf+Sf+Sf+xf+xf});var gf=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(po);return gf?{r:parseInt(gf[1],16),g:parseInt(gf[2],16),b:parseInt(gf[3],16)}:null},X.overrideOpacity=function(po,xo){var gf;return po.indexOf("rgba")!=-1?po:po.indexOf("rgb")!=-1?(gf=po.substr(po.indexOf("(")+1).replace(")","").split(","),"rgba("+gf[0]+","+gf[1]+","+gf[2]+","+xo+")"):(gf=X.hexToRGB(po),gf==null?po:"rgba("+gf.r+","+gf.g+","+gf.b+","+xo+")")},X.RGBToHex=function(po,xo,gf){return"#"+((1<<24)+(po<<16)+(xo<<8)+gf).toString(16).slice(1)},X.parseColor=function(po){var xo;if(X.isString(po)===!0){if(X.isValidRGB(po)===!0){var gf=po.substr(4).substr(0,po.length-5).split(",").map(function(Af){return parseInt(Af)});po=X.RGBToHex(gf[0],gf[1],gf[2])}if(X.isValidHex(po)===!0){var cf=X.hexToHSV(po),yf={h:cf.h,s:cf.s*.8,v:Math.min(1,cf.v*1.02)},Sf={h:cf.h,s:Math.min(1,cf.s*1.25),v:cf.v*.8},xf=X.HSVToHex(Sf.h,Sf.s,Sf.v),bf=X.HSVToHex(yf.h,yf.s,yf.v);xo={background:po,border:xf,highlight:{background:bf,border:xf},hover:{background:bf,border:xf}}}else xo={background:po,border:po,highlight:{background:po,border:po},hover:{background:po,border:po}}}else xo={},xo.background=po.background||void 0,xo.border=po.border||void 0,X.isString(po.highlight)?xo.highlight={border:po.highlight,background:po.highlight}:(xo.highlight={},xo.highlight.background=po.highlight&&po.highlight.background||void 0,xo.highlight.border=po.highlight&&po.highlight.border||void 0),X.isString(po.hover)?xo.hover={border:po.hover,background:po.hover}:(xo.hover={},xo.hover.background=po.hover&&po.hover.background||void 0,xo.hover.border=po.hover&&po.hover.border||void 0);return xo},X.RGBToHSV=function(po,xo,gf){po=po/255,xo=xo/255,gf=gf/255;var cf=Math.min(po,Math.min(xo,gf)),yf=Math.max(po,Math.max(xo,gf));if(cf==yf)return{h:0,s:0,v:cf};var Sf=po==cf?xo-gf:gf==cf?po-xo:gf-po,xf=po==cf?3:gf==cf?1:5,bf=60*(xf-Sf/(yf-cf))/360,Af=(yf-cf)/yf,Pf=yf;return{h:bf,s:Af,v:Pf}};var _f={split:function(xo){var gf={};return xo.split(";").forEach(function(cf){if(cf.trim()!=""){var yf=cf.split(":"),Sf=yf[0].trim(),xf=yf[1].trim();gf[Sf]=xf}}),gf},join:function(xo){return(0,mo.default)(xo).map(function(gf){return gf+": "+xo[gf]}).join("; ")}};X.addCssText=function(po,xo){var gf=_f.split(po.style.cssText),cf=_f.split(xo),yf=X.extend(gf,cf);po.style.cssText=_f.join(yf)},X.removeCssText=function(po,xo){var gf=_f.split(po.style.cssText),cf=_f.split(xo);for(var yf in cf)cf.hasOwnProperty(yf)&&delete gf[yf];po.style.cssText=_f.join(gf)},X.HSVToRGB=function(po,xo,gf){var cf,yf,Sf,xf=Math.floor(po*6),bf=po*6-xf,Af=gf*(1-xo),Pf=gf*(1-bf*xo),Df=gf*(1-(1-bf)*xo);switch(xf%6){case 0:cf=gf,yf=Df,Sf=Af;break;case 1:cf=Pf,yf=gf,Sf=Af;break;case 2:cf=Af,yf=gf,Sf=Df;break;case 3:cf=Af,yf=Pf,Sf=gf;break;case 4:cf=Df,yf=Af,Sf=gf;break;case 5:cf=gf,yf=Af,Sf=Pf;break}return{r:Math.floor(cf*255),g:Math.floor(yf*255),b:Math.floor(Sf*255)}},X.HSVToHex=function(po,xo,gf){var cf=X.HSVToRGB(po,xo,gf);return X.RGBToHex(cf.r,cf.g,cf.b)},X.hexToHSV=function(po){var xo=X.hexToRGB(po);return X.RGBToHSV(xo.r,xo.g,xo.b)},X.isValidHex=function(po){var xo=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(po);return xo},X.isValidRGB=function(po){po=po.replace(" ","");var xo=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(po);return xo},X.isValidRGBA=function(po){po=po.replace(" ","");var xo=/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(.{1,3})\)/i.test(po);return xo},X.selectiveBridgeObject=function(po,xo){if(xo!==null&&(typeof xo>"u"?"undefined":(0,lf.default)(xo))==="object"){for(var gf=(0,wt.default)(xo),cf=0;cf<po.length;cf++)xo.hasOwnProperty(po[cf])&&(0,lf.default)(xo[po[cf]])=="object"&&(gf[po[cf]]=X.bridgeObject(xo[po[cf]]));return gf}else return null},X.bridgeObject=function(po){if(po!==null&&(typeof po>"u"?"undefined":(0,lf.default)(po))==="object"){var xo=(0,wt.default)(po);if(po instanceof Element)xo=po;else{xo=(0,wt.default)(po);for(var gf in po)po.hasOwnProperty(gf)&&(0,lf.default)(po[gf])=="object"&&(xo[gf]=X.bridgeObject(po[gf]))}return xo}else return null},X.insertSort=function(po,xo){for(var gf=0;gf<po.length;gf++){for(var cf=po[gf],yf=gf;yf>0&&xo(cf,po[yf-1])<0;yf--)po[yf]=po[yf-1];po[yf]=cf}return po},X.mergeOptions=function(po,xo,gf){var cf=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},yf=function(Ff){return Ff!=null},Sf=function(Ff){return Ff!==null&&(typeof Ff>"u"?"undefined":(0,lf.default)(Ff))==="object"},xf=function(Ff){for(var Xf in Ff)if(Ff.hasOwnProperty(Xf))return!1;return!0};if(!Sf(po))throw new Error("Parameter mergeTarget must be an object");if(!Sf(xo))throw new Error("Parameter options must be an object");if(!yf(gf))throw new Error("Parameter option must have a value");if(!Sf(cf))throw new Error("Parameter globalOptions must be an object");var bf=function(Ff,Xf,mp){Sf(Ff[mp])||(Ff[mp]={});var fp=Xf[mp],Mp=Ff[mp];for(var Np in fp)fp.hasOwnProperty(Np)&&(Mp[Np]=fp[Np])},Af=xo[gf],Pf=Sf(cf)&&!xf(cf),Df=Pf?cf[gf]:void 0,zf=Df?Df.enabled:void 0;if(Af!==void 0){if(typeof Af=="boolean"){Sf(po[gf])||(po[gf]={}),po[gf].enabled=Af;return}if(Af===null&&!Sf(po[gf]))if(yf(Df))po[gf]=(0,wt.default)(Df);else return;if(Sf(Af)){var jf=!0;Af.enabled!==void 0?jf=Af.enabled:zf!==void 0&&(jf=Df.enabled),bf(po,xo,gf),po[gf].enabled=jf}}},X.binarySearchCustom=function(po,xo,gf,cf){for(var yf=1e4,Sf=0,xf=0,bf=po.length-1;xf<=bf&&Sf<yf;){var Af=Math.floor((xf+bf)/2),Pf=po[Af],Df=cf===void 0?Pf[gf]:Pf[gf][cf],zf=xo(Df);if(zf==0)return Af;zf==-1?xf=Af+1:bf=Af-1,Sf++}return-1},X.binarySearchValue=function(po,xo,gf,cf,yf){var Sf=1e4,xf=0,bf=0,Af=po.length-1,Pf,Df,zf,jf;for(yf=yf??function($f,Ff){return $f==Ff?0:$f<Ff?-1:1};bf<=Af&&xf<Sf;){if(jf=Math.floor(.5*(Af+bf)),Pf=po[Math.max(0,jf-1)][gf],Df=po[jf][gf],zf=po[Math.min(po.length-1,jf+1)][gf],yf(Df,xo)==0)return jf;if(yf(Pf,xo)<0&&yf(Df,xo)>0)return cf=="before"?Math.max(0,jf-1):jf;if(yf(Df,xo)<0&&yf(zf,xo)>0)return cf=="before"?jf:Math.min(po.length-1,jf+1);yf(Df,xo)<0?bf=jf+1:Af=jf-1,xf++}return-1},X.easingFunctions={linear:function(xo){return xo},easeInQuad:function(xo){return xo*xo},easeOutQuad:function(xo){return xo*(2-xo)},easeInOutQuad:function(xo){return xo<.5?2*xo*xo:-1+(4-2*xo)*xo},easeInCubic:function(xo){return xo*xo*xo},easeOutCubic:function(xo){return--xo*xo*xo+1},easeInOutCubic:function(xo){return xo<.5?4*xo*xo*xo:(xo-1)*(2*xo-2)*(2*xo-2)+1},easeInQuart:function(xo){return xo*xo*xo*xo},easeOutQuart:function(xo){return 1- --xo*xo*xo*xo},easeInOutQuart:function(xo){return xo<.5?8*xo*xo*xo*xo:1-8*--xo*xo*xo*xo},easeInQuint:function(xo){return xo*xo*xo*xo*xo},easeOutQuint:function(xo){return 1+--xo*xo*xo*xo*xo},easeInOutQuint:function(xo){return xo<.5?16*xo*xo*xo*xo*xo:1+16*--xo*xo*xo*xo*xo}},X.getScrollBarWidth=function(){var po=document.createElement("p");po.style.width="100%",po.style.height="200px";var xo=document.createElement("div");xo.style.position="absolute",xo.style.top="0px",xo.style.left="0px",xo.style.visibility="hidden",xo.style.width="200px",xo.style.height="150px",xo.style.overflow="hidden",xo.appendChild(po),document.body.appendChild(xo);var gf=po.offsetWidth;xo.style.overflow="scroll";var cf=po.offsetWidth;return gf==cf&&(cf=xo.clientWidth),document.body.removeChild(xo),gf-cf},X.topMost=function(po,xo){var gf=void 0;Array.isArray(xo)||(xo=[xo]);var cf=!0,yf=!1,Sf=void 0;try{for(var xf=(0,at.default)(po),bf;!(cf=(bf=xf.next()).done);cf=!0){var Af=bf.value;if(Af){gf=Af[xo[0]];for(var Pf=1;Pf<xo.length;Pf++)gf&&(gf=gf[xo[Pf]]);if(typeof gf<"u")break}}}catch(Df){yf=!0,Sf=Df}finally{try{!cf&&xf.return&&xf.return()}finally{if(yf)throw Sf}}return gf}},function(q,X,tt){q.exports={default:tt(145),__esModule:!0}},function(q,X,tt){X.__esModule=!0;var ot=tt(7),at=ut(ot);function ut(wt){return wt&&wt.__esModule?wt:{default:wt}}X.default=function(wt,uo){if(!wt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return uo&&((typeof uo>"u"?"undefined":(0,at.default)(uo))==="object"||typeof uo=="function")?uo:wt}},function(q,X,tt){X.__esModule=!0;var ot=tt(147),at=yo(ot),ut=tt(31),wt=yo(ut),uo=tt(7),mo=yo(uo);function yo(lf){return lf&&lf.__esModule?lf:{default:lf}}X.default=function(lf,uf){if(typeof uf!="function"&&uf!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof uf>"u"?"undefined":(0,mo.default)(uf)));lf.prototype=(0,wt.default)(uf&&uf.prototype,{constructor:{value:lf,enumerable:!1,writable:!0,configurable:!0}}),uf&&(at.default?(0,at.default)(lf,uf):lf.__proto__=uf)}},function(q,X){var tt=q.exports={version:"2.6.2"};typeof __e=="number"&&(__e=tt)},function(q,X,tt){X.__esModule=!0;var ot=tt(104),at=mo(ot),ut=tt(106),wt=mo(ut),uo=typeof wt.default=="function"&&typeof at.default=="symbol"?function(yo){return typeof yo}:function(yo){return yo&&typeof wt.default=="function"&&yo.constructor===wt.default&&yo!==wt.default.prototype?"symbol":typeof yo};function mo(yo){return yo&&yo.__esModule?yo:{default:yo}}X.default=typeof wt.default=="function"&&uo(at.default)==="symbol"?function(yo){return typeof yo>"u"?"undefined":uo(yo)}:function(yo){return yo&&typeof wt.default=="function"&&yo.constructor===wt.default&&yo!==wt.default.prototype?"symbol":typeof yo>"u"?"undefined":uo(yo)}},function(q,X,tt){var ot=tt(44)("wks"),at=tt(29),ut=tt(10).Symbol,wt=typeof ut=="function",uo=q.exports=function(mo){return ot[mo]||(ot[mo]=wt&&ut[mo]||(wt?ut:at)("Symbol."+mo))};uo.store=ot},function(q,X,tt){q.exports={default:tt(102),__esModule:!0}},function(q,X){var tt=q.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=tt)},function(q,X,tt){var ot=tt(10),at=tt(6),ut=tt(61),wt=tt(19),uo=tt(14),mo="prototype",yo=function(lf,uf,df){var wf=lf&yo.F,wo=lf&yo.G,ls=lf&yo.S,_f=lf&yo.P,po=lf&yo.B,xo=lf&yo.W,gf=wo?at:at[uf]||(at[uf]={}),cf=gf[mo],yf=wo?ot:ls?ot[uf]:(ot[uf]||{})[mo],Sf,xf,bf;wo&&(df=uf);for(Sf in df)xf=!wf&&yf&&yf[Sf]!==void 0,!(xf&&uo(gf,Sf))&&(bf=xf?yf[Sf]:df[Sf],gf[Sf]=wo&&typeof yf[Sf]!="function"?df[Sf]:po&&xf?ut(bf,ot):xo&&yf[Sf]==bf?function(Af){var Pf=function(Df,zf,jf){if(this instanceof Af){switch(arguments.length){case 0:return new Af;case 1:return new Af(Df);case 2:return new Af(Df,zf)}return new Af(Df,zf,jf)}return Af.apply(this,arguments)};return Pf[mo]=Af[mo],Pf}(bf):_f&&typeof bf=="function"?ut(Function.call,bf):bf,_f&&((gf.virtual||(gf.virtual={}))[Sf]=bf,lf&yo.R&&cf&&!cf[Sf]&&wt(cf,Sf,bf)))};yo.F=1,yo.G=2,yo.S=4,yo.P=8,yo.B=16,yo.W=32,yo.U=64,yo.R=128,q.exports=yo},function(q,X,tt){var ot=tt(20),at=tt(62),ut=tt(40),wt=Object.defineProperty;X.f=tt(13)?Object.defineProperty:function(mo,yo,lf){if(ot(mo),yo=ut(yo,!0),ot(lf),at)try{return wt(mo,yo,lf)}catch{}if("get"in lf||"set"in lf)throw TypeError("Accessors not supported!");return"value"in lf&&(mo[yo]=lf.value),mo}},function(q,X,tt){q.exports=!tt(22)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(q,X){var tt={}.hasOwnProperty;q.exports=function(ot,at){return tt.call(ot,at)}},function(q,X,tt){X.__esModule=!0;var ot=tt(136),at=uo(ot),ut=tt(58),wt=uo(ut);function uo(mo){return mo&&mo.__esModule?mo:{default:mo}}X.default=function(){function mo(yo,lf){var uf=[],df=!0,wf=!1,wo=void 0;try{for(var ls=(0,wt.default)(yo),_f;!(df=(_f=ls.next()).done)&&(uf.push(_f.value),!(lf&&uf.length===lf));df=!0);}catch(po){wf=!0,wo=po}finally{try{!df&&ls.return&&ls.return()}finally{if(wf)throw wo}}return uf}return function(yo,lf){if(Array.isArray(yo))return yo;if((0,at.default)(Object(yo)))return mo(yo,lf);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(7),at=yo(ot),ut=tt(0),wt=yo(ut),uo=tt(1),mo=yo(uo);function yo(uf){return uf&&uf.__esModule?uf:{default:uf}}var lf=function(){function uf(df,wf,wo){(0,wt.default)(this,uf),this.body=wf,this.labelModule=wo,this.setOptions(df),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return(0,mo.default)(uf,[{key:"setOptions",value:function(wf){this.options=wf}},{key:"_setMargins",value:function(wf){this.margin={},this.options.margin&&((0,at.default)(this.options.margin)=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),wf.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(wf,wo){var ls=this.options.borderWidth;return this.resize(wf),Math.min(Math.abs(this.width/2/Math.cos(wo)),Math.abs(this.height/2/Math.sin(wo)))+ls}},{key:"enableShadow",value:function(wf,wo){wo.shadow&&(wf.shadowColor=wo.shadowColor,wf.shadowBlur=wo.shadowSize,wf.shadowOffsetX=wo.shadowX,wf.shadowOffsetY=wo.shadowY)}},{key:"disableShadow",value:function(wf,wo){wo.shadow&&(wf.shadowColor="rgba(0,0,0,0)",wf.shadowBlur=0,wf.shadowOffsetX=0,wf.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(wf,wo){if(wo.borderDashes!==!1)if(wf.setLineDash!==void 0){var ls=wo.borderDashes;ls===!0&&(ls=[5,15]),wf.setLineDash(ls)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,wo.borderDashes=!1}},{key:"disableBorderDashes",value:function(wf,wo){wo.borderDashes!==!1&&(wf.setLineDash!==void 0?wf.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,wo.borderDashes=!1))}},{key:"needsRefresh",value:function(wf,wo){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(wf,wo)}},{key:"initContextForDraw",value:function(wf,wo){var ls=wo.borderWidth/this.body.view.scale;wf.lineWidth=Math.min(this.width,ls),wf.strokeStyle=wo.borderColor,wf.fillStyle=wo.color}},{key:"performStroke",value:function(wf,wo){var ls=wo.borderWidth/this.body.view.scale;wf.save(),ls>0&&(this.enableBorderDashes(wf,wo),wf.stroke(),this.disableBorderDashes(wf,wo)),wf.restore()}},{key:"performFill",value:function(wf,wo){this.enableShadow(wf,wo),wf.fill(),this.disableShadow(wf,wo),this.performStroke(wf,wo)}},{key:"_addBoundingBoxMargin",value:function(wf){this.boundingBox.left-=wf,this.boundingBox.top-=wf,this.boundingBox.bottom+=wf,this.boundingBox.right+=wf}},{key:"_updateBoundingBox",value:function(wf,wo,ls,_f,po){ls!==void 0&&this.resize(ls,_f,po),this.left=wf-this.width/2,this.top=wo-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(wf,wo,ls,_f,po){this._updateBoundingBox(wf,wo,ls,_f,po)}},{key:"getDimensionsFromLabel",value:function(wf,wo,ls){this.textSize=this.labelModule.getTextSize(wf,wo,ls);var _f=this.textSize.width,po=this.textSize.height,xo=14;return _f===0&&(_f=xo,po=xo),{width:_f,height:po}}}]),uf}();X.default=lf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=ls(ot),ut=tt(0),wt=ls(ut),uo=tt(1),mo=ls(uo),yo=tt(4),lf=ls(yo),uf=tt(5),df=ls(uf),wf=tt(16),wo=ls(wf);function ls(po){return po&&po.__esModule?po:{default:po}}var _f=function(po){(0,df.default)(xo,po);function xo(gf,cf,yf){return(0,wt.default)(this,xo),(0,lf.default)(this,(xo.__proto__||(0,at.default)(xo)).call(this,gf,cf,yf))}return(0,mo.default)(xo,[{key:"resize",value:function(cf){var yf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,Sf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,xf=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(yf,Sf)){this.labelModule.getTextSize(cf,yf,Sf);var bf=2*xf.size;this.width=bf,this.height=bf,this.radius=.5*this.width}}},{key:"_drawShape",value:function(cf,yf,Sf,xf,bf,Af,Pf,Df){if(this.resize(cf,Af,Pf,Df),this.left=xf-this.width/2,this.top=bf-this.height/2,this.initContextForDraw(cf,Df),cf[yf](xf,bf,Df.size),this.performFill(cf,Df),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(cf.font=(Af?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),cf.fillStyle=this.options.icon.color||"black",cf.textAlign="center",cf.textBaseline="middle",cf.fillText(this.options.icon.code,xf,bf)),this.options.label!==void 0){this.labelModule.calculateLabelSize(cf,Af,Pf,xf,bf,"hanging");var zf=bf+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(cf,xf,zf,Af,Pf,"hanging")}this.updateBoundingBox(xf,bf)}},{key:"updateBoundingBox",value:function(cf,yf){this.boundingBox.top=yf-this.options.size,this.boundingBox.left=cf-this.options.size,this.boundingBox.right=cf+this.options.size,this.boundingBox.bottom=yf+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),xo}(wo.default);X.default=_f},function(q,X,tt){var ot=tt(59),at=tt(39);q.exports=function(ut){return ot(at(ut))}},function(q,X,tt){var ot=tt(12),at=tt(28);q.exports=tt(13)?function(ut,wt,uo){return ot.f(ut,wt,at(1,uo))}:function(ut,wt,uo){return ut[wt]=uo,ut}},function(q,X,tt){var ot=tt(21);q.exports=function(at){if(!ot(at))throw TypeError(at+" is not an object!");return at}},function(q,X){q.exports=function(tt){return typeof tt=="object"?tt!==null:typeof tt=="function"}},function(q,X){q.exports=function(tt){try{return!!tt()}catch{return!0}}},function(q,X,tt){q.exports={default:tt(123),__esModule:!0}},function(q,X,tt){function ot(){var wt=function(){};return{on:wt,off:wt,destroy:wt,emit:wt,get:function(mo){return{set:wt}}}}if(typeof window<"u"){var at=tt(127),ut=window.Hammer||tt(128);q.exports=at(ut,{preventDefault:"mouse"})}else q.exports=function(){return ot()}},function(q,X){q.exports={}},function(q,X,tt){var ot=tt(65),at=tt(45);q.exports=Object.keys||function(wt){return ot(wt,at)}},function(q,X){q.exports=!0},function(q,X){q.exports=function(tt,ot){return{enumerable:!(tt&1),configurable:!(tt&2),writable:!(tt&4),value:ot}}},function(q,X){var tt=0,ot=Math.random();q.exports=function(at){return"Symbol(".concat(at===void 0?"":at,")_",(++tt+ot).toString(36))}},function(q,X,tt){var ot=tt(39);q.exports=function(at){return Object(ot(at))}},function(q,X,tt){q.exports={default:tt(100),__esModule:!0}},function(q,X){X.f={}.propertyIsEnumerable},function(q,X,tt){var ot=tt(23),at=yo(ot),ut=tt(7),wt=yo(ut),uo=tt(9),mo=yo(uo);function yo(wf){return wf&&wf.__esModule?wf:{default:wf}}var lf=tt(2),uf=tt(72);function df(wf,wo){if(wf&&!Array.isArray(wf)&&(wo=wf,wf=null),this._options=wo||{},this._data={},this.length=0,this._fieldId=this._options.fieldId||"id",this._type={},this._options.type)for(var ls=(0,mo.default)(this._options.type),_f=0,po=ls.length;_f<po;_f++){var xo=ls[_f],gf=this._options.type[xo];gf=="Date"||gf=="ISODate"||gf=="ASPDate"?this._type[xo]="Date":this._type[xo]=gf}this._subscribers={},wf&&this.add(wf),this.setOptions(wo)}df.prototype.setOptions=function(wf){wf&&wf.queue!==void 0&&(wf.queue===!1?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=uf.extend(this,{replace:["add","update","remove"]})),(0,wt.default)(wf.queue)==="object"&&this._queue.setOptions(wf.queue)))},df.prototype.on=function(wf,wo){var ls=this._subscribers[wf];ls||(ls=[],this._subscribers[wf]=ls),ls.push({callback:wo})},df.prototype.off=function(wf,wo){var ls=this._subscribers[wf];ls&&(this._subscribers[wf]=ls.filter(function(_f){return _f.callback!=wo}))},df.prototype._trigger=function(wf,wo,ls){if(wf=="*")throw new Error("Cannot trigger event *");var _f=[];wf in this._subscribers&&(_f=_f.concat(this._subscribers[wf])),"*"in this._subscribers&&(_f=_f.concat(this._subscribers["*"]));for(var po=0,xo=_f.length;po<xo;po++){var gf=_f[po];gf.callback&&gf.callback(wf,wo,ls||null)}},df.prototype.add=function(wf,wo){var ls=[],_f,po=this;if(Array.isArray(wf))for(var xo=0,gf=wf.length;xo<gf;xo++)_f=po._addItem(wf[xo]),ls.push(_f);else if(wf&&(typeof wf>"u"?"undefined":(0,wt.default)(wf))==="object")_f=po._addItem(wf),ls.push(_f);else throw new Error("Unknown dataType");return ls.length&&this._trigger("add",{items:ls},wo),ls},df.prototype.update=function(wf,wo){var ls=[],_f=[],po=[],xo=[],gf=this,cf=gf._fieldId,yf=function(Pf){var Df=Pf[cf];if(gf._data[Df]){var zf=lf.extend({},gf._data[Df]);Df=gf._updateItem(Pf),_f.push(Df),xo.push(Pf),po.push(zf)}else Df=gf._addItem(Pf),ls.push(Df)};if(Array.isArray(wf))for(var Sf=0,xf=wf.length;Sf<xf;Sf++)wf[Sf]&&(0,wt.default)(wf[Sf])==="object"?yf(wf[Sf]):console.warn("Ignoring input item, which is not an object at index "+Sf);else if(wf&&(typeof wf>"u"?"undefined":(0,wt.default)(wf))==="object")yf(wf);else throw new Error("Unknown dataType");if(ls.length&&this._trigger("add",{items:ls},wo),_f.length){var bf={items:_f,oldData:po,data:xo};this._trigger("update",bf,wo)}return ls.concat(_f)},df.prototype.get=function(wf){var wo=this,ls,_f,po,xo=lf.getType(arguments[0]);xo=="String"||xo=="Number"?(ls=arguments[0],po=arguments[1]):xo=="Array"?(_f=arguments[0],po=arguments[1]):po=arguments[0];var gf;if(po&&po.returnType){var cf=["Array","Object"];gf=cf.indexOf(po.returnType)==-1?"Array":po.returnType}else gf="Array";var yf=po&&po.type||this._options.type,Sf=po&&po.filter,xf=[],bf,Af,Pf,Df,zf;if(ls!=null)bf=wo._getItem(ls,yf),bf&&Sf&&!Sf(bf)&&(bf=null);else if(_f!=null)for(Df=0,zf=_f.length;Df<zf;Df++)bf=wo._getItem(_f[Df],yf),(!Sf||Sf(bf))&&xf.push(bf);else for(Af=(0,mo.default)(this._data),Df=0,zf=Af.length;Df<zf;Df++)Pf=Af[Df],bf=wo._getItem(Pf,yf),(!Sf||Sf(bf))&&xf.push(bf);if(po&&po.order&&ls==null&&this._sort(xf,po.order),po&&po.fields){var jf=po.fields;if(ls!=null)bf=this._filterFields(bf,jf);else for(Df=0,zf=xf.length;Df<zf;Df++)xf[Df]=this._filterFields(xf[Df],jf)}if(gf=="Object"){var $f={},Ff;for(Df=0,zf=xf.length;Df<zf;Df++)Ff=xf[Df],$f[Ff.id]=Ff;return $f}else return ls!=null?bf:xf},df.prototype.getIds=function(wf){var wo=this._data,ls=wf&&wf.filter,_f=wf&&wf.order,po=wf&&wf.type||this._options.type,xo=(0,mo.default)(wo),gf,cf,yf,Sf,xf,bf=[];if(ls)if(_f){for(xf=[],gf=0,cf=xo.length;gf<cf;gf++)yf=xo[gf],Sf=this._getItem(yf,po),ls(Sf)&&xf.push(Sf);for(this._sort(xf,_f),gf=0,cf=xf.length;gf<cf;gf++)bf.push(xf[gf][this._fieldId])}else for(gf=0,cf=xo.length;gf<cf;gf++)yf=xo[gf],Sf=this._getItem(yf,po),ls(Sf)&&bf.push(Sf[this._fieldId]);else if(_f){for(xf=[],gf=0,cf=xo.length;gf<cf;gf++)yf=xo[gf],xf.push(wo[yf]);for(this._sort(xf,_f),gf=0,cf=xf.length;gf<cf;gf++)bf.push(xf[gf][this._fieldId])}else for(gf=0,cf=xo.length;gf<cf;gf++)yf=xo[gf],Sf=wo[yf],bf.push(Sf[this._fieldId]);return bf},df.prototype.getDataSet=function(){return this},df.prototype.forEach=function(wf,wo){var ls=wo&&wo.filter,_f=wo&&wo.type||this._options.type,po=this._data,xo=(0,mo.default)(po),gf,cf,yf,Sf;if(wo&&wo.order){var xf=this.get(wo);for(gf=0,cf=xf.length;gf<cf;gf++)yf=xf[gf],Sf=yf[this._fieldId],wf(yf,Sf)}else for(gf=0,cf=xo.length;gf<cf;gf++)Sf=xo[gf],yf=this._getItem(Sf,_f),(!ls||ls(yf))&&wf(yf,Sf)},df.prototype.map=function(wf,wo){var ls=wo&&wo.filter,_f=wo&&wo.type||this._options.type,po=[],xo=this._data,gf=(0,mo.default)(xo),cf,yf,Sf,xf;for(cf=0,yf=gf.length;cf<yf;cf++)Sf=gf[cf],xf=this._getItem(Sf,_f),(!ls||ls(xf))&&po.push(wf(xf,Sf));return wo&&wo.order&&this._sort(po,wo.order),po},df.prototype._filterFields=function(wf,wo){if(!wf)return wf;var ls={},_f=(0,mo.default)(wf),po=_f.length,xo,gf;if(Array.isArray(wo))for(xo=0;xo<po;xo++)gf=_f[xo],wo.indexOf(gf)!=-1&&(ls[gf]=wf[gf]);else for(xo=0;xo<po;xo++)gf=_f[xo],wo.hasOwnProperty(gf)&&(ls[wo[gf]]=wf[gf]);return ls},df.prototype._sort=function(wf,wo){if(lf.isString(wo)){var ls=wo;wf.sort(function(_f,po){var xo=_f[ls],gf=po[ls];return xo>gf?1:xo<gf?-1:0})}else if(typeof wo=="function")wf.sort(wo);else throw new TypeError("Order must be a function or a string")},df.prototype.remove=function(wf,wo){var ls=[],_f=[],po=[],xo,gf,cf,yf;for(po=Array.isArray(wf)?wf:[wf],xo=0,gf=po.length;xo<gf;xo++)yf=this._remove(po[xo]),yf&&(cf=yf[this._fieldId],cf!=null&&(ls.push(cf),_f.push(yf)));return ls.length&&this._trigger("remove",{items:ls,oldData:_f},wo),ls},df.prototype._remove=function(wf){var wo,ls;return lf.isNumber(wf)||lf.isString(wf)?ls=wf:wf&&(typeof wf>"u"?"undefined":(0,wt.default)(wf))==="object"&&(ls=wf[this._fieldId]),ls!==void 0&&this._data[ls]?(wo=this._data[ls],delete this._data[ls],this.length--,wo):null},df.prototype.clear=function(wf){var wo,ls,_f=(0,mo.default)(this._data),po=[];for(wo=0,ls=_f.length;wo<ls;wo++)po.push(this._data[_f[wo]]);return this._data={},this.length=0,this._trigger("remove",{items:_f,oldData:po},wf),_f},df.prototype.max=function(wf){var wo=this._data,ls=(0,mo.default)(wo),_f=null,po=null,xo,gf;for(xo=0,gf=ls.length;xo<gf;xo++){var cf=ls[xo],yf=wo[cf],Sf=yf[wf];Sf!=null&&(!_f||Sf>po)&&(_f=yf,po=Sf)}return _f},df.prototype.min=function(wf){var wo=this._data,ls=(0,mo.default)(wo),_f=null,po=null,xo,gf;for(xo=0,gf=ls.length;xo<gf;xo++){var cf=ls[xo],yf=wo[cf],Sf=yf[wf];Sf!=null&&(!_f||Sf<po)&&(_f=yf,po=Sf)}return _f},df.prototype.distinct=function(wf){var wo=this._data,ls=(0,mo.default)(wo),_f=[],po=this._options.type&&this._options.type[wf]||null,xo=0,gf,cf,yf;for(gf=0,yf=ls.length;gf<yf;gf++){var Sf=ls[gf],xf=wo[Sf],bf=xf[wf],Af=!1;for(cf=0;cf<xo;cf++)if(_f[cf]==bf){Af=!0;break}!Af&&bf!==void 0&&(_f[xo]=bf,xo++)}if(po)for(gf=0,yf=_f.length;gf<yf;gf++)_f[gf]=lf.convert(_f[gf],po);return _f},df.prototype._addItem=function(wf){var wo=wf[this._fieldId];if(wo!=null){if(this._data[wo])throw new Error("Cannot add item: item with id "+wo+" already exists")}else wo=lf.randomUUID(),wf[this._fieldId]=wo;var ls={},_f=(0,mo.default)(wf),po,xo;for(po=0,xo=_f.length;po<xo;po++){var gf=_f[po],cf=this._type[gf];ls[gf]=lf.convert(wf[gf],cf)}return this._data[wo]=ls,this.length++,wo},df.prototype._getItem=function(wf,wo){var ls,_f,po,xo,gf=this._data[wf];if(!gf)return null;var cf={},yf=(0,mo.default)(gf);if(wo)for(po=0,xo=yf.length;po<xo;po++)ls=yf[po],_f=gf[ls],cf[ls]=lf.convert(_f,wo[ls]);else for(po=0,xo=yf.length;po<xo;po++)ls=yf[po],_f=gf[ls],cf[ls]=_f;return cf[this._fieldId]||(cf[this._fieldId]=gf.id),cf},df.prototype._updateItem=function(wf){var wo=wf[this._fieldId];if(wo==null)throw new Error("Cannot update item: item has no id (item: "+(0,at.default)(wf)+")");var ls=this._data[wo];if(!ls)throw new Error("Cannot update item: no item with id "+wo+" found");for(var _f=(0,mo.default)(wf),po=0,xo=_f.length;po<xo;po++){var gf=_f[po],cf=this._type[gf];ls[gf]=lf.convert(wf[gf],cf)}return wo},q.exports=df},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(0),at=uo(ot),ut=tt(1),wt=uo(ut);function uo(jf){return jf&&jf.__esModule?jf:{default:jf}}var mo=tt(2),yo=tt(77).default,lf=tt(35).default,uf=tt(144).default,df=tt(151).default,wf=tt(152).default,wo=tt(153).default,ls=tt(154).default,_f=tt(155).default,po=tt(156).default,xo=tt(157).default,gf=tt(158).default,cf=tt(159).default,yf=tt(160).default,Sf=tt(161).default,xf=tt(162).default,bf=tt(163).default,Af=tt(164).default,Pf=tt(54),Df=Pf.printStyle,zf=function(){function jf($f,Ff,Xf,mp,fp,Mp){(0,at.default)(this,jf),this.options=mo.bridgeObject(fp),this.globalOptions=fp,this.defaultOptions=Mp,this.body=Ff,this.edges=[],this.id=void 0,this.imagelist=Xf,this.grouplist=mp,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new yo(this.body,this.options,!1),this.setOptions($f)}return(0,wt.default)(jf,[{key:"attachEdge",value:function(Ff){this.edges.indexOf(Ff)===-1&&this.edges.push(Ff)}},{key:"detachEdge",value:function(Ff){var Xf=this.edges.indexOf(Ff);Xf!=-1&&this.edges.splice(Xf,1)}},{key:"setOptions",value:function(Ff){var Xf=this.options.shape;if(Ff){if(Ff.id!==void 0&&(this.id=Ff.id),this.id===void 0)throw new Error("Node must have an id");jf.checkMass(Ff,this.id),Ff.x!==void 0&&(Ff.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=parseInt(Ff.x),this.predefinedPosition=!0)),Ff.y!==void 0&&(Ff.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=parseInt(Ff.y),this.predefinedPosition=!0)),Ff.size!==void 0&&(this.baseSize=Ff.size),Ff.value!==void 0&&(Ff.value=parseFloat(Ff.value)),jf.parseOptions(this.options,Ff,!0,this.globalOptions,this.grouplist);var mp=[Ff,this.options,this.defaultOptions];return this.chooser=lf.choosify("node",mp),this._load_images(),this.updateLabelModule(Ff),this.updateShape(Xf),Ff.hidden!==void 0||Ff.physics!==void 0}}},{key:"_load_images",value:function(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}},{key:"getFormattingValues",value:function(){var Ff={color:this.options.color.background,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};return this.selected||this.hover?this.chooser===!0?this.selected?(Ff.borderWidth*=2,Ff.color=this.options.color.highlight.background,Ff.borderColor=this.options.color.highlight.border,Ff.shadow=this.options.shadow.enabled):this.hover&&(Ff.color=this.options.color.hover.background,Ff.borderColor=this.options.color.hover.border,Ff.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(Ff,this.options.id,this.selected,this.hover),Ff.shadow===!1&&(Ff.shadowColor!==this.options.shadow.color||Ff.shadowSize!==this.options.shadow.size||Ff.shadowX!==this.options.shadow.x||Ff.shadowY!==this.options.shadow.y)&&(Ff.shadow=!0)):Ff.shadow=this.options.shadow.enabled,Ff}},{key:"updateLabelModule",value:function(Ff){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),jf.updateGroupOptions(this.options,Ff,this.grouplist);var Xf=this.grouplist.get(this.options.group,!1),mp=[Ff,this.options,Xf,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,mp),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(Ff){if(Ff===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new uf(this.options,this.body,this.labelModule);break;case"circle":this.shape=new df(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new wf(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"database":this.shape=new wo(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new ls(this.options,this.body,this.labelModule);break;case"dot":this.shape=new _f(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new po(this.options,this.body,this.labelModule);break;case"icon":this.shape=new xo(this.options,this.body,this.labelModule);break;case"image":this.shape=new gf(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new cf(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new yf(this.options,this.body,this.labelModule);break;case"star":this.shape=new Sf(this.options,this.body,this.labelModule);break;case"text":this.shape=new xf(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new bf(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new Af(this.options,this.body,this.labelModule);break;default:this.shape=new po(this.options,this.body,this.labelModule);break}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(Ff,Xf){return this.shape.distanceToBorder(Ff,Xf)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(Ff,Xf,mp){if(this.options.value!==void 0){var fp=this.options.scaling.customScalingFunction(Ff,Xf,mp,this.options.value),Mp=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var Np=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+fp*Np}this.options.size=this.options.scaling.min+fp*Mp}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(Ff){var Xf=this.getFormattingValues();this.shape.draw(Ff,this.x,this.y,this.selected,this.hover,Xf)}},{key:"updateBoundingBox",value:function(Ff){this.shape.updateBoundingBox(this.x,this.y,Ff)}},{key:"resize",value:function(Ff){var Xf=this.getFormattingValues();this.shape.resize(Ff,this.selected,this.hover,Xf)}},{key:"getItemsOnPoint",value:function(Ff){var Xf=[];return this.labelModule.visible()&&lf.pointInRect(this.labelModule.getSize(),Ff)&&Xf.push({nodeId:this.id,labelId:0}),lf.pointInRect(this.shape.boundingBox,Ff)&&Xf.push({nodeId:this.id}),Xf}},{key:"isOverlappingWith",value:function(Ff){return this.shape.left<Ff.right&&this.shape.left+this.shape.width>Ff.left&&this.shape.top<Ff.bottom&&this.shape.top+this.shape.height>Ff.top}},{key:"isBoundingBoxOverlappingWith",value:function(Ff){return this.shape.boundingBox.left<Ff.right&&this.shape.boundingBox.right>Ff.left&&this.shape.boundingBox.top<Ff.bottom&&this.shape.boundingBox.bottom>Ff.top}}],[{key:"updateGroupOptions",value:function(Ff,Xf,mp){if(mp!==void 0){var fp=Ff.group;if(Xf!==void 0&&Xf.group!==void 0&&fp!==Xf.group)throw new Error("updateGroupOptions: group values in options don't match.");var Mp=typeof fp=="number"||typeof fp=="string"&&fp!="";if(Mp){var Np=mp.get(fp),Pp=["font"];Xf!==void 0&&Xf.color!==void 0&&Xf.color!=null&&Pp.push("color"),mo.selectiveNotDeepExtend(Pp,Ff,Np),Ff.color=mo.parseColor(Ff.color)}}}},{key:"parseOptions",value:function(Ff,Xf){var mp=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,fp=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Mp=arguments[4],Np=["color","fixed","shadow"];if(mo.selectiveNotDeepExtend(Np,Ff,Xf,mp),jf.checkMass(Xf),mo.mergeOptions(Ff,Xf,"shadow",fp),Xf.color!==void 0&&Xf.color!==null){var Pp=mo.parseColor(Xf.color);mo.fillIfDefined(Ff.color,Pp)}else mp===!0&&Xf.color===null&&(Ff.color=mo.bridgeObject(fp.color));Xf.fixed!==void 0&&Xf.fixed!==null&&(typeof Xf.fixed=="boolean"?(Ff.fixed.x=Xf.fixed,Ff.fixed.y=Xf.fixed):(Xf.fixed.x!==void 0&&typeof Xf.fixed.x=="boolean"&&(Ff.fixed.x=Xf.fixed.x),Xf.fixed.y!==void 0&&typeof Xf.fixed.y=="boolean"&&(Ff.fixed.y=Xf.fixed.y))),mp===!0&&Xf.font===null&&(Ff.font=mo.bridgeObject(fp.font)),jf.updateGroupOptions(Ff,Xf,Mp),Xf.scaling!==void 0&&mo.mergeOptions(Ff.scaling,Xf.scaling,"label",fp.scaling)}},{key:"checkMass",value:function(Ff,Xf){if(Ff.mass!==void 0&&Ff.mass<=0){var mp="";Xf!==void 0&&(mp=" in node id: "+Xf),console.log("%cNegative or zero mass disallowed"+mp+", setting mass to 1.",Df),Ff.mass=1}}}]),jf}();X.default=zf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(7),at=yo(ot),ut=tt(0),wt=yo(ut),uo=tt(1),mo=yo(uo);function yo(df){return df&&df.__esModule?df:{default:df}}var lf=tt(2),uf=function(){function df(){(0,wt.default)(this,df)}return(0,mo.default)(df,null,[{key:"choosify",value:function(wo,ls){var _f=["node","edge","label"],po=!0,xo=lf.topMost(ls,"chosen");if(typeof xo=="boolean")po=xo;else if((typeof xo>"u"?"undefined":(0,at.default)(xo))==="object"){if(_f.indexOf(wo)===-1)throw new Error("choosify: subOption '"+wo+"' should be one of '"+_f.join("', '")+"'");var gf=lf.topMost(ls,["chosen",wo]);(typeof gf=="boolean"||typeof gf=="function")&&(po=gf)}return po}},{key:"pointInRect",value:function(wo,ls,_f){if(wo.width<=0||wo.height<=0)return!1;if(_f!==void 0){var po={x:ls.x-_f.x,y:ls.y-_f.y};if(_f.angle!==0){var xo=-_f.angle,gf={x:Math.cos(xo)*po.x-Math.sin(xo)*po.y,y:Math.sin(xo)*po.x+Math.cos(xo)*po.y};ls=gf}else ls=po}var cf=wo.x+wo.width,yf=wo.y+wo.width;return wo.left<ls.x&&cf>ls.x&&wo.top<ls.y&&yf>ls.y}},{key:"isValidLabel",value:function(wo){return typeof wo=="string"&&wo!==""}}]),df}();X.default=uf},function(q,X,tt){X.onTouch=function(ot,at){at.inputHandler=function(ut){ut.isFirst&&at(ut)},ot.on("hammer.input",at.inputHandler)},X.onRelease=function(ot,at){return at.inputHandler=function(ut){ut.isFinal&&at(ut)},ot.on("hammer.input",at.inputHandler)},X.offTouch=function(ot,at){ot.off("hammer.input",at.inputHandler)},X.offRelease=X.offTouch,X.disablePreventDefaultVertically=function(ot){var at="pan-y";return ot.getTouchAction=function(){return[at]},ot}},function(q,X,tt){tt(87);for(var ot=tt(10),at=tt(19),ut=tt(25),wt=tt(8)("toStringTag"),uo="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),mo=0;mo<uo.length;mo++){var yo=uo[mo],lf=ot[yo],uf=lf&&lf.prototype;uf&&!uf[wt]&&at(uf,wt,yo),ut[yo]=ut.Array}},function(q,X){var tt={}.toString;q.exports=function(ot){return tt.call(ot).slice(8,-1)}},function(q,X){q.exports=function(tt){if(tt==null)throw TypeError("Can't call method on  "+tt);return tt}},function(q,X,tt){var ot=tt(21);q.exports=function(at,ut){if(!ot(at))return at;var wt,uo;if(ut&&typeof(wt=at.toString)=="function"&&!ot(uo=wt.call(at))||typeof(wt=at.valueOf)=="function"&&!ot(uo=wt.call(at))||!ut&&typeof(wt=at.toString)=="function"&&!ot(uo=wt.call(at)))return uo;throw TypeError("Can't convert object to primitive value")}},function(q,X,tt){var ot=tt(20),at=tt(92),ut=tt(45),wt=tt(43)("IE_PROTO"),uo=function(){},mo="prototype",yo=function(){var lf=tt(63)("iframe"),uf=ut.length,df="<",wf=">",wo;for(lf.style.display="none",tt(96).appendChild(lf),lf.src="javascript:",wo=lf.contentWindow.document,wo.open(),wo.write(df+"script"+wf+"document.F=Object"+df+"/script"+wf),wo.close(),yo=wo.F;uf--;)delete yo[mo][ut[uf]];return yo()};q.exports=Object.create||function(uf,df){var wf;return uf!==null?(uo[mo]=ot(uf),wf=new uo,uo[mo]=null,wf[wt]=uf):wf=yo(),df===void 0?wf:at(wf,df)}},function(q,X){var tt=Math.ceil,ot=Math.floor;q.exports=function(at){return isNaN(at=+at)?0:(at>0?ot:tt)(at)}},function(q,X,tt){var ot=tt(44)("keys"),at=tt(29);q.exports=function(ut){return ot[ut]||(ot[ut]=at(ut))}},function(q,X,tt){var ot=tt(6),at=tt(10),ut="__core-js_shared__",wt=at[ut]||(at[ut]={});(q.exports=function(uo,mo){return wt[uo]||(wt[uo]=mo!==void 0?mo:{})})("versions",[]).push({version:ot.version,mode:tt(27)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(q,X){q.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(q,X,tt){var ot=tt(12).f,at=tt(14),ut=tt(8)("toStringTag");q.exports=function(wt,uo,mo){wt&&!at(wt=mo?wt:wt.prototype,ut)&&ot(wt,ut,{configurable:!0,value:uo})}},function(q,X,tt){var ot=tt(97)(!0);tt(60)(String,"String",function(at){this._t=String(at),this._i=0},function(){var at=this._t,ut=this._i,wt;return ut>=at.length?{value:void 0,done:!0}:(wt=ot(at,ut),this._i+=wt.length,{value:wt,done:!1})})},function(q,X,tt){X.f=tt(8)},function(q,X,tt){var ot=tt(10),at=tt(6),ut=tt(27),wt=tt(48),uo=tt(12).f;q.exports=function(mo){var yo=at.Symbol||(at.Symbol=ut?{}:ot.Symbol||{});mo.charAt(0)!="_"&&!(mo in yo)&&uo(yo,mo,{value:wt.f(mo)})}},function(q,X){X.f=Object.getOwnPropertySymbols},function(q,X,tt){var ot=tt(9),at=ut(ot);function ut(yo){return yo&&yo.__esModule?yo:{default:yo}}var wt=tt(2),uo=tt(33);function mo(yo,lf){this._data=null,this._ids={},this.length=0,this._options=lf||{},this._fieldId="id",this._subscribers={};var uf=this;this.listener=function(){uf._onEvent.apply(uf,arguments)},this.setData(yo)}mo.prototype.setData=function(yo){var lf,uf,df,wf,wo;if(this._data){for(this._data.off&&this._data.off("*",this.listener),lf=this._data.getIds({filter:this._options&&this._options.filter}),wo=[],df=0,wf=lf.length;df<wf;df++)wo.push(this._data._data[lf[df]]);this._ids={},this.length=0,this._trigger("remove",{items:lf,oldData:wo})}if(this._data=yo,this._data){for(this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id",lf=this._data.getIds({filter:this._options&&this._options.filter}),df=0,wf=lf.length;df<wf;df++)uf=lf[df],this._ids[uf]=!0;this.length=lf.length,this._trigger("add",{items:lf}),this._data.on&&this._data.on("*",this.listener)}},mo.prototype.refresh=function(){var yo,lf,uf,df=this._data.getIds({filter:this._options&&this._options.filter}),wf=(0,at.default)(this._ids),wo={},ls=[],_f=[],po=[];for(lf=0,uf=df.length;lf<uf;lf++)yo=df[lf],wo[yo]=!0,this._ids[yo]||(ls.push(yo),this._ids[yo]=!0);for(lf=0,uf=wf.length;lf<uf;lf++)yo=wf[lf],wo[yo]||(_f.push(yo),po.push(this._data._data[yo]),delete this._ids[yo]);this.length+=ls.length-_f.length,ls.length&&this._trigger("add",{items:ls}),_f.length&&this._trigger("remove",{items:_f,oldData:po})},mo.prototype.get=function(yo){var lf=this,uf,df,wf,wo=wt.getType(arguments[0]);wo=="String"||wo=="Number"||wo=="Array"?(uf=arguments[0],df=arguments[1],wf=arguments[2]):(df=arguments[0],wf=arguments[1]);var ls=wt.extend({},this._options,df);this._options.filter&&df&&df.filter&&(ls.filter=function(po){return lf._options.filter(po)&&df.filter(po)});var _f=[];return uf!=null&&_f.push(uf),_f.push(ls),_f.push(wf),this._data&&this._data.get.apply(this._data,_f)},mo.prototype.getIds=function(yo){var lf;if(this._data){var uf=this._options.filter,df;yo&&yo.filter?uf?df=function(wo){return uf(wo)&&yo.filter(wo)}:df=yo.filter:df=uf,lf=this._data.getIds({filter:df,order:yo&&yo.order})}else lf=[];return lf},mo.prototype.map=function(yo,lf){var uf=[];if(this._data){var df=this._options.filter,wf;lf&&lf.filter?df?wf=function(ls){return df(ls)&&lf.filter(ls)}:wf=lf.filter:wf=df,uf=this._data.map(yo,{filter:wf,order:lf&&lf.order})}else uf=[];return uf},mo.prototype.getDataSet=function(){for(var yo=this;yo instanceof mo;)yo=yo._data;return yo||null},mo.prototype._onEvent=function(yo,lf,uf){var df,wf,wo,ls,_f=lf&&lf.items,po=[],xo=[],gf=[],cf=[],yf=[],Sf=[];if(_f&&this._data){switch(yo){case"add":for(df=0,wf=_f.length;df<wf;df++)wo=_f[df],ls=this.get(wo),ls&&(this._ids[wo]=!0,po.push(wo));break;case"update":for(df=0,wf=_f.length;df<wf;df++)wo=_f[df],ls=this.get(wo),ls?this._ids[wo]?(xo.push(wo),yf.push(lf.data[df]),cf.push(lf.oldData[df])):(this._ids[wo]=!0,po.push(wo)):this._ids[wo]&&(delete this._ids[wo],gf.push(wo),Sf.push(lf.oldData[df]));break;case"remove":for(df=0,wf=_f.length;df<wf;df++)wo=_f[df],this._ids[wo]&&(delete this._ids[wo],gf.push(wo),Sf.push(lf.oldData[df]));break}this.length+=po.length-gf.length,po.length&&this._trigger("add",{items:po},uf),xo.length&&this._trigger("update",{items:xo,oldData:cf,data:yf},uf),gf.length&&this._trigger("remove",{items:gf,oldData:Sf},uf)}},mo.prototype.on=uo.prototype.on,mo.prototype.off=uo.prototype.off,mo.prototype._trigger=uo.prototype._trigger,mo.prototype.subscribe=mo.prototype.on,mo.prototype.unsubscribe=mo.prototype.off,q.exports=mo},function(q,X,tt){var ot,at,ut;(function(wt,uo){at=[],ot=uo,ut=typeof ot=="function"?ot.apply(X,at):ot,ut!==void 0&&(q.exports=ut)})(this,function(){function wt(uo){var mo=uo&&uo.preventDefault||!1,yo=uo&&uo.container||window,lf={},uf={keydown:{},keyup:{}},df={},wf;for(wf=97;wf<=122;wf++)df[String.fromCharCode(wf)]={code:65+(wf-97),shift:!1};for(wf=65;wf<=90;wf++)df[String.fromCharCode(wf)]={code:wf,shift:!0};for(wf=0;wf<=9;wf++)df[""+wf]={code:48+wf,shift:!1};for(wf=1;wf<=12;wf++)df["F"+wf]={code:111+wf,shift:!1};for(wf=0;wf<=9;wf++)df["num"+wf]={code:96+wf,shift:!1};df["num*"]={code:106,shift:!1},df["num+"]={code:107,shift:!1},df["num-"]={code:109,shift:!1},df["num/"]={code:111,shift:!1},df["num."]={code:110,shift:!1},df.left={code:37,shift:!1},df.up={code:38,shift:!1},df.right={code:39,shift:!1},df.down={code:40,shift:!1},df.space={code:32,shift:!1},df.enter={code:13,shift:!1},df.shift={code:16,shift:void 0},df.esc={code:27,shift:!1},df.backspace={code:8,shift:!1},df.tab={code:9,shift:!1},df.ctrl={code:17,shift:!1},df.alt={code:18,shift:!1},df.delete={code:46,shift:!1},df.pageup={code:33,shift:!1},df.pagedown={code:34,shift:!1},df["="]={code:187,shift:!1},df["-"]={code:189,shift:!1},df["]"]={code:221,shift:!1},df["["]={code:219,shift:!1};var wo=function(po){_f(po,"keydown")},ls=function(po){_f(po,"keyup")},_f=function(po,xo){if(uf[xo][po.keyCode]!==void 0){for(var gf=uf[xo][po.keyCode],cf=0;cf<gf.length;cf++)(gf[cf].shift===void 0||gf[cf].shift==!0&&po.shiftKey==!0||gf[cf].shift==!1&&po.shiftKey==!1)&&gf[cf].fn(po);mo==!0&&po.preventDefault()}};return lf.bind=function(po,xo,gf){if(gf===void 0&&(gf="keydown"),df[po]===void 0)throw new Error("unsupported key: "+po);uf[gf][df[po].code]===void 0&&(uf[gf][df[po].code]=[]),uf[gf][df[po].code].push({fn:xo,shift:df[po].shift})},lf.bindAll=function(po,xo){xo===void 0&&(xo="keydown");for(var gf in df)df.hasOwnProperty(gf)&&lf.bind(gf,po,xo)},lf.getKey=function(po){for(var xo in df)if(df.hasOwnProperty(xo)){if(po.shiftKey==!0&&df[xo].shift==!0&&po.keyCode==df[xo].code)return xo;if(po.shiftKey==!1&&df[xo].shift==!1&&po.keyCode==df[xo].code)return xo;if(po.keyCode==df[xo].code&&xo=="shift")return xo}return"unknown key, currently not supported"},lf.unbind=function(po,xo,gf){if(gf===void 0&&(gf="keydown"),df[po]===void 0)throw new Error("unsupported key: "+po);if(xo!==void 0){var cf=[],yf=uf[gf][df[po].code];if(yf!==void 0)for(var Sf=0;Sf<yf.length;Sf++)yf[Sf].fn==xo&&yf[Sf].shift==df[po].shift||cf.push(uf[gf][df[po].code][Sf]);uf[gf][df[po].code]=cf}else uf[gf][df[po].code]=[]},lf.reset=function(){uf={keydown:{},keyup:{}}},lf.destroy=function(){uf={keydown:{},keyup:{}},yo.removeEventListener("keydown",wo,!0),yo.removeEventListener("keyup",ls,!0)},yo.addEventListener("keydown",wo,!0),yo.addEventListener("keyup",ls,!0),lf}return wt})},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=ls(ot),ut=tt(0),wt=ls(ut),uo=tt(1),mo=ls(uo),yo=tt(4),lf=ls(yo),uf=tt(5),df=ls(uf),wf=tt(16),wo=ls(wf);function ls(po){return po&&po.__esModule?po:{default:po}}var _f=function(po){(0,df.default)(xo,po);function xo(gf,cf,yf){(0,wt.default)(this,xo);var Sf=(0,lf.default)(this,(xo.__proto__||(0,at.default)(xo)).call(this,gf,cf,yf));return Sf.labelOffset=0,Sf.selected=!1,Sf}return(0,mo.default)(xo,[{key:"setOptions",value:function(cf,yf,Sf){this.options=cf,yf===void 0&&Sf===void 0||this.setImages(yf,Sf)}},{key:"setImages",value:function(cf,yf){yf&&this.selected?(this.imageObj=yf,this.imageObjAlt=cf):(this.imageObj=cf,this.imageObjAlt=yf)}},{key:"switchImages",value:function(cf){var yf=cf&&!this.selected||!cf&&this.selected;if(this.selected=cf,this.imageObjAlt!==void 0&&yf){var Sf=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=Sf}}},{key:"_resizeImage",value:function(){var cf,yf;if(this.options.shapeProperties.useImageSize===!1){var Sf=1,xf=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?Sf=this.imageObj.width/this.imageObj.height:xf=this.imageObj.height/this.imageObj.width),cf=this.options.size*2*Sf,yf=this.options.size*2*xf}else cf=this.imageObj.width,yf=this.imageObj.height;this.width=cf,this.height=yf,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(cf,yf,Sf,xf){this.initContextForDraw(cf,xf),cf.circle(yf,Sf,xf.size),this.performFill(cf,xf)}},{key:"_drawImageAtPosition",value:function(cf,yf){if(this.imageObj.width!=0){cf.globalAlpha=1,this.enableShadow(cf,yf);var Sf=1;this.options.shapeProperties.interpolation===!0&&(Sf=this.imageObj.width/this.width/this.body.view.scale),this.imageObj.drawImageAtPosition(cf,Sf,this.left,this.top,this.width,this.height),this.disableShadow(cf,yf)}}},{key:"_drawImageLabel",value:function(cf,yf,Sf,xf,bf){var Af,Pf=0;if(this.height!==void 0){Pf=this.height*.5;var Df=this.labelModule.getTextSize(cf,xf,bf);Df.lineCount>=1&&(Pf+=Df.height/2)}Af=Sf+Pf,this.options.label&&(this.labelOffset=Pf),this.labelModule.draw(cf,yf,Af,xf,bf,"hanging")}}]),xo}(wo.default);X.default=_f},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0}),X.printStyle=void 0;var ot=tt(23),at=wf(ot),ut=tt(7),wt=wf(ut),uo=tt(9),mo=wf(uo),yo=tt(0),lf=wf(yo),uf=tt(1),df=wf(uf);function wf(gf){return gf&&gf.__esModule?gf:{default:gf}}var wo=tt(2),ls=!1,_f=void 0,po="background: #FFeeee; color: #dd0000",xo=function(){function gf(){(0,lf.default)(this,gf)}return(0,df.default)(gf,null,[{key:"validate",value:function(yf,Sf,xf){ls=!1,_f=Sf;var bf=Sf;return xf!==void 0&&(bf=Sf[xf]),gf.parse(yf,bf,[]),ls}},{key:"parse",value:function(yf,Sf,xf){for(var bf in yf)yf.hasOwnProperty(bf)&&gf.check(bf,yf,Sf,xf)}},{key:"check",value:function(yf,Sf,xf,bf){if(xf[yf]===void 0&&xf.__any__===void 0){gf.getSuggestion(yf,xf,bf);return}var Af=yf,Pf=!0;xf[yf]===void 0&&xf.__any__!==void 0&&(Af="__any__",Pf=gf.getType(Sf[yf])==="object");var Df=xf[Af];Pf&&Df.__type__!==void 0&&(Df=Df.__type__),gf.checkFields(yf,Sf,xf,Af,Df,bf)}},{key:"checkFields",value:function(yf,Sf,xf,bf,Af,Pf){var Df=function(Ff){console.log("%c"+Ff+gf.printLocation(Pf,yf),po)},zf=gf.getType(Sf[yf]),jf=Af[zf];jf!==void 0?gf.getType(jf)==="array"&&jf.indexOf(Sf[yf])===-1?(Df('Invalid option detected in "'+yf+'". Allowed values are:'+gf.print(jf)+' not "'+Sf[yf]+'". '),ls=!0):zf==="object"&&bf!=="__any__"&&(Pf=wo.copyAndExtendArray(Pf,yf),gf.parse(Sf[yf],xf[bf],Pf)):Af.any===void 0&&(Df('Invalid type received for "'+yf+'". Expected: '+gf.print((0,mo.default)(Af))+". Received ["+zf+'] "'+Sf[yf]+'"'),ls=!0)}},{key:"getType",value:function(yf){var Sf=typeof yf>"u"?"undefined":(0,wt.default)(yf);return Sf==="object"?yf===null?"null":yf instanceof Boolean?"boolean":yf instanceof Number?"number":yf instanceof String?"string":Array.isArray(yf)?"array":yf instanceof Date?"date":yf.nodeType!==void 0?"dom":yf._isAMomentObject===!0?"moment":"object":Sf==="number"?"number":Sf==="boolean"?"boolean":Sf==="string"?"string":Sf===void 0?"undefined":Sf}},{key:"getSuggestion",value:function(yf,Sf,xf){var bf=gf.findInOptions(yf,Sf,xf,!1),Af=gf.findInOptions(yf,_f,[],!0),Pf=8,Df=4,zf=void 0;bf.indexMatch!==void 0?zf=" in "+gf.printLocation(bf.path,yf,"")+'Perhaps it was incomplete? Did you mean: "'+bf.indexMatch+`"?

`:Af.distance<=Df&&bf.distance>Af.distance?zf=" in "+gf.printLocation(bf.path,yf,"")+"Perhaps it was misplaced? Matching option found at: "+gf.printLocation(Af.path,Af.closestMatch,""):bf.distance<=Pf?zf='. Did you mean "'+bf.closestMatch+'"?'+gf.printLocation(bf.path,yf):zf=". Did you mean one of these: "+gf.print((0,mo.default)(Sf))+gf.printLocation(xf,yf),console.log('%cUnknown option detected: "'+yf+'"'+zf,po),ls=!0}},{key:"findInOptions",value:function(yf,Sf,xf){var bf=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,Af=1e9,Pf="",Df=[],zf=yf.toLowerCase(),jf=void 0;for(var $f in Sf){var Ff=void 0;if(Sf[$f].__type__!==void 0&&bf===!0){var Xf=gf.findInOptions(yf,Sf[$f],wo.copyAndExtendArray(xf,$f));Af>Xf.distance&&(Pf=Xf.closestMatch,Df=Xf.path,Af=Xf.distance,jf=Xf.indexMatch)}else $f.toLowerCase().indexOf(zf)!==-1&&(jf=$f),Ff=gf.levenshteinDistance(yf,$f),Af>Ff&&(Pf=$f,Df=wo.copyArray(xf),Af=Ff)}return{closestMatch:Pf,path:Df,distance:Af,indexMatch:jf}}},{key:"printLocation",value:function(yf,Sf){for(var xf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`,bf=`

`+xf+`options = {
`,Af=0;Af<yf.length;Af++){for(var Pf=0;Pf<Af+1;Pf++)bf+="  ";bf+=yf[Af]+`: {
`}for(var Df=0;Df<yf.length+1;Df++)bf+="  ";bf+=Sf+`
`;for(var zf=0;zf<yf.length+1;zf++){for(var jf=0;jf<yf.length-zf;jf++)bf+="  ";bf+=`}
`}return bf+`

`}},{key:"print",value:function(yf){return(0,at.default)(yf).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(yf,Sf){if(yf.length===0)return Sf.length;if(Sf.length===0)return yf.length;var xf=[],bf;for(bf=0;bf<=Sf.length;bf++)xf[bf]=[bf];var Af;for(Af=0;Af<=yf.length;Af++)xf[0][Af]=Af;for(bf=1;bf<=Sf.length;bf++)for(Af=1;Af<=yf.length;Af++)Sf.charAt(bf-1)==yf.charAt(Af-1)?xf[bf][Af]=xf[bf-1][Af-1]:xf[bf][Af]=Math.min(xf[bf-1][Af-1]+1,Math.min(xf[bf][Af-1]+1,xf[bf-1][Af]+1));return xf[Sf.length][yf.length]}}]),gf}();X.default=xo,X.printStyle=po},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(23),at=wf(ot),ut=tt(7),wt=wf(ut),uo=tt(31),mo=wf(uo),yo=tt(0),lf=wf(yo),uf=tt(1),df=wf(uf);function wf(Sf){return Sf&&Sf.__esModule?Sf:{default:Sf}}var wo=tt(2),ls=tt(77).default,_f=tt(35).default,po=tt(166).default,xo=tt(168).default,gf=tt(169).default,cf=tt(170).default,yf=function(){function Sf(xf,bf,Af,Pf){if((0,lf.default)(this,Sf),bf===void 0)throw new Error("No body provided");this.options=wo.bridgeObject(Af),this.globalOptions=Af,this.defaultOptions=Pf,this.body=bf,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new ls(this.body,this.options,!0),this.setOptions(xf)}return(0,df.default)(Sf,[{key:"setOptions",value:function(bf){if(bf){var Af=this.options.hidden;Af==null&&(Af=!1),Sf.parseOptions(this.options,bf,!0,this.globalOptions),bf.id!==void 0&&(this.id=bf.id),bf.from!==void 0&&(this.fromId=bf.from),bf.to!==void 0&&(this.toId=bf.to),bf.title!==void 0&&(this.title=bf.title),bf.value!==void 0&&(bf.value=parseFloat(bf.value));var Pf=[bf,this.options,this.defaultOptions];this.chooser=_f.choosify("edge",Pf),this.updateLabelModule(bf);var Df=this.updateEdgeType();this._setInteractionWidths(),this.connect();var zf=this.options.hidden;return zf==null&&(zf=!1),(zf!=Af||bf.physics!==void 0)&&(Df=!0),Df}}},{key:"getFormattingValues",value:function(){var bf=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,Af=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,Pf=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,Df=this.options.color.inherit,zf={toArrow:bf,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,middleArrow:Pf,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,fromArrow:Af,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,arrowStrikethrough:this.options.arrowStrikethrough,color:Df?void 0:this.options.color.color,inheritsColor:Df,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){var jf=this.options.selectionWidth;typeof jf=="function"?zf.width=jf(zf.width):typeof jf=="number"&&(zf.width+=jf),zf.width=Math.max(zf.width,.3/this.body.view.scale),zf.color=this.options.color.highlight,zf.shadow=this.options.shadow.enabled}else if(this.hover){var $f=this.options.hoverWidth;typeof $f=="function"?zf.width=$f(zf.width):typeof $f=="number"&&(zf.width+=$f),zf.width=Math.max(zf.width,.3/this.body.view.scale),zf.color=this.options.color.hover,zf.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(zf,this.options.id,this.selected,this.hover),zf.color!==void 0&&(zf.inheritsColor=!1),zf.shadow===!1&&(zf.shadowColor!==this.options.shadow.color||zf.shadowSize!==this.options.shadow.size||zf.shadowX!==this.options.shadow.x||zf.shadowY!==this.options.shadow.y)&&(zf.shadow=!0));else zf.shadow=this.options.shadow.enabled,zf.width=Math.max(zf.width,.3/this.body.view.scale);return zf}},{key:"updateLabelModule",value:function(bf){var Af=[bf,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,Af),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var bf=this.options.smooth,Af=!1,Pf=!0;return this.edgeType!==void 0&&((this.edgeType instanceof xo&&bf.enabled===!0&&bf.type==="dynamic"||this.edgeType instanceof po&&bf.enabled===!0&&bf.type==="cubicBezier"||this.edgeType instanceof gf&&bf.enabled===!0&&bf.type!=="dynamic"&&bf.type!=="cubicBezier"||this.edgeType instanceof cf&&bf.type.enabled===!1)&&(Pf=!1),Pf===!0&&(Af=this.cleanup())),Pf===!0?bf.enabled===!0?bf.type==="dynamic"?(Af=!0,this.edgeType=new xo(this.options,this.body,this.labelModule)):bf.type==="cubicBezier"?this.edgeType=new po(this.options,this.body,this.labelModule):this.edgeType=new gf(this.options,this.body,this.labelModule):this.edgeType=new cf(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),Af}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(bf,Af,Pf){if(this.options.value!==void 0){var Df=this.options.scaling.customScalingFunction(bf,Af,Pf,this.options.value),zf=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var jf=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+Df*jf}this.options.width=this.options.scaling.min+Df*zf}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(bf){var Af=this.getFormattingValues();if(!Af.hidden){var Pf=this.edgeType.getViaNode(),Df={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,Af.fromArrow&&(Df.from=this.edgeType.getArrowData(bf,"from",Pf,this.selected,this.hover,Af),Af.arrowStrikethrough===!1&&(this.edgeType.fromPoint=Df.from.core)),Af.toArrow&&(Df.to=this.edgeType.getArrowData(bf,"to",Pf,this.selected,this.hover,Af),Af.arrowStrikethrough===!1&&(this.edgeType.toPoint=Df.to.core)),Af.middleArrow&&(Df.middle=this.edgeType.getArrowData(bf,"middle",Pf,this.selected,this.hover,Af)),this.edgeType.drawLine(bf,Af,this.selected,this.hover,Pf),this.drawArrows(bf,Df,Af),this.drawLabel(bf,Pf)}}},{key:"drawArrows",value:function(bf,Af,Pf){Pf.fromArrow&&this.edgeType.drawArrowHead(bf,Pf,this.selected,this.hover,Af.from),Pf.middleArrow&&this.edgeType.drawArrowHead(bf,Pf,this.selected,this.hover,Af.middle),Pf.toArrow&&this.edgeType.drawArrowHead(bf,Pf,this.selected,this.hover,Af.to)}},{key:"drawLabel",value:function(bf,Af){if(this.options.label!==void 0){var Pf=this.from,Df=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(bf,this.selected,this.hover),Pf.id!=Df.id){this.labelModule.pointToSelf=!1;var zf=this.edgeType.getPoint(.5,Af);bf.save();var jf=this._getRotation(bf);jf.angle!=0&&(bf.translate(jf.x,jf.y),bf.rotate(jf.angle)),this.labelModule.draw(bf,zf.x,zf.y,this.selected,this.hover),bf.restore()}else{this.labelModule.pointToSelf=!0;var $f,Ff,Xf=this.options.selfReferenceSize;Pf.shape.width>Pf.shape.height?($f=Pf.x+Pf.shape.width*.5,Ff=Pf.y-Xf):($f=Pf.x+Xf,Ff=Pf.y-Pf.shape.height*.5),zf=this._pointOnCircle($f,Ff,Xf,.125),this.labelModule.draw(bf,zf.x,zf.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(bf){var Af=[];if(this.labelModule.visible()){var Pf=this._getRotation();_f.pointInRect(this.labelModule.getSize(),bf,Pf)&&Af.push({edgeId:this.id,labelId:0})}var Df={left:bf.x,top:bf.y};return this.isOverlappingWith(Df)&&Af.push({edgeId:this.id}),Af}},{key:"isOverlappingWith",value:function(bf){if(this.connected){var Af=10,Pf=this.from.x,Df=this.from.y,zf=this.to.x,jf=this.to.y,$f=bf.left,Ff=bf.top,Xf=this.edgeType.getDistanceToEdge(Pf,Df,zf,jf,$f,Ff);return Xf<Af}else return!1}},{key:"_getRotation",value:function(bf){var Af=this.edgeType.getViaNode(),Pf=this.edgeType.getPoint(.5,Af);bf!==void 0&&this.labelModule.calculateLabelSize(bf,this.selected,this.hover,Pf.x,Pf.y);var Df={x:Pf.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return Df;var zf=this.from.y-this.to.y,jf=this.from.x-this.to.x,$f=Math.atan2(zf,jf);return($f<-1&&jf<0||$f>0&&jf<0)&&($f+=Math.PI),Df.angle=$f,Df}},{key:"_pointOnCircle",value:function(bf,Af,Pf,Df){var zf=Df*2*Math.PI;return{x:bf+Pf*Math.cos(zf),y:Af-Pf*Math.sin(zf)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){if(this.edgeType)return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}],[{key:"parseOptions",value:function(bf,Af){var Pf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Df=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},zf=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,jf=["arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","to","title","value","width","font","chosen","widthConstraint"];if(wo.selectiveDeepExtend(jf,bf,Af,Pf),_f.isValidLabel(Af.label)?bf.label=Af.label:_f.isValidLabel(bf.label)||(bf.label=void 0),wo.mergeOptions(bf,Af,"smooth",Df),wo.mergeOptions(bf,Af,"shadow",Df),wo.mergeOptions(bf,Af,"background",Df),Af.dashes!==void 0&&Af.dashes!==null?bf.dashes=Af.dashes:Pf===!0&&Af.dashes===null&&(bf.dashes=(0,mo.default)(Df.dashes)),Af.scaling!==void 0&&Af.scaling!==null?(Af.scaling.min!==void 0&&(bf.scaling.min=Af.scaling.min),Af.scaling.max!==void 0&&(bf.scaling.max=Af.scaling.max),wo.mergeOptions(bf.scaling,Af.scaling,"label",Df.scaling)):Pf===!0&&Af.scaling===null&&(bf.scaling=(0,mo.default)(Df.scaling)),Af.arrows!==void 0&&Af.arrows!==null)if(typeof Af.arrows=="string"){var $f=Af.arrows.toLowerCase();bf.arrows.to.enabled=$f.indexOf("to")!=-1,bf.arrows.middle.enabled=$f.indexOf("middle")!=-1,bf.arrows.from.enabled=$f.indexOf("from")!=-1}else if((0,wt.default)(Af.arrows)==="object")wo.mergeOptions(bf.arrows,Af.arrows,"to",Df.arrows),wo.mergeOptions(bf.arrows,Af.arrows,"middle",Df.arrows),wo.mergeOptions(bf.arrows,Af.arrows,"from",Df.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+(0,at.default)(Af.arrows));else Pf===!0&&Af.arrows===null&&(bf.arrows=(0,mo.default)(Df.arrows));if(Af.color!==void 0&&Af.color!==null){var Ff=Af.color,Xf=bf.color;if(zf)wo.deepExtend(Xf,Df.color,!1,Pf);else for(var mp in Xf)Xf.hasOwnProperty(mp)&&delete Xf[mp];if(wo.isString(Xf))Xf.color=Xf,Xf.highlight=Xf,Xf.hover=Xf,Xf.inherit=!1,Ff.opacity===void 0&&(Xf.opacity=1);else{var fp=!1;Ff.color!==void 0&&(Xf.color=Ff.color,fp=!0),Ff.highlight!==void 0&&(Xf.highlight=Ff.highlight,fp=!0),Ff.hover!==void 0&&(Xf.hover=Ff.hover,fp=!0),Ff.inherit!==void 0&&(Xf.inherit=Ff.inherit),Ff.opacity!==void 0&&(Xf.opacity=Math.min(1,Math.max(0,Ff.opacity))),fp===!0?Xf.inherit=!1:Xf.inherit===void 0&&(Xf.inherit="from")}}else Pf===!0&&Af.color===null&&(bf.color=wo.bridgeObject(Df.color));Pf===!0&&Af.font===null&&(bf.font=wo.bridgeObject(Df.font))}}]),Sf}();X.default=yf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=ls(ot),ut=tt(0),wt=ls(ut),uo=tt(1),mo=ls(uo),yo=tt(4),lf=ls(yo),uf=tt(5),df=ls(uf),wf=tt(79),wo=ls(wf);function ls(po){return po&&po.__esModule?po:{default:po}}var _f=function(po){(0,df.default)(xo,po);function xo(gf,cf,yf){return(0,wt.default)(this,xo),(0,lf.default)(this,(xo.__proto__||(0,at.default)(xo)).call(this,gf,cf,yf))}return(0,mo.default)(xo,[{key:"_findBorderPositionBezier",value:function(cf,yf){var Sf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates(),xf=10,bf=0,Af=0,Pf=1,Df,zf,jf,$f,Ff,Xf=.2,mp=this.to,fp=!1;for(cf.id===this.from.id&&(mp=this.from,fp=!0);Af<=Pf&&bf<xf;){var Mp=(Af+Pf)*.5;if(Df=this.getPoint(Mp,Sf),zf=Math.atan2(mp.y-Df.y,mp.x-Df.x),jf=mp.distanceToBorder(yf,zf),$f=Math.sqrt(Math.pow(Df.x-mp.x,2)+Math.pow(Df.y-mp.y,2)),Ff=jf-$f,Math.abs(Ff)<Xf)break;Ff<0?fp===!1?Af=Mp:Pf=Mp:fp===!1?Pf=Mp:Af=Mp,bf++}return Df.t=Mp,Df}},{key:"_getDistanceToBezierEdge",value:function(cf,yf,Sf,xf,bf,Af,Pf){var Df=1e9,zf=void 0,jf=void 0,$f=void 0,Ff=void 0,Xf=void 0,mp=cf,fp=yf;for(jf=1;jf<10;jf++)$f=.1*jf,Ff=Math.pow(1-$f,2)*cf+2*$f*(1-$f)*Pf.x+Math.pow($f,2)*Sf,Xf=Math.pow(1-$f,2)*yf+2*$f*(1-$f)*Pf.y+Math.pow($f,2)*xf,jf>0&&(zf=this._getDistanceToLine(mp,fp,Ff,Xf,bf,Af),Df=zf<Df?zf:Df),mp=Ff,fp=Xf;return Df}},{key:"_bezierCurve",value:function(cf,yf,Sf,xf){var bf=Sf!==void 0&&Sf.x!==void 0,Af=xf!==void 0&&xf.x!==void 0;cf.beginPath(),cf.moveTo(this.fromPoint.x,this.fromPoint.y),bf&&Af?cf.bezierCurveTo(Sf.x,Sf.y,xf.x,xf.y,this.toPoint.x,this.toPoint.y):bf?cf.quadraticCurveTo(Sf.x,Sf.y,this.toPoint.x,this.toPoint.y):cf.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(cf,yf),this.enableShadow(cf,yf),cf.stroke(),this.disableShadow(cf,yf)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),xo}(wo.default);X.default=_f},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(0),at=uo(ot),ut=tt(1),wt=uo(ut);function uo(lf){return lf&&lf.__esModule?lf:{default:lf}}var mo=tt(2),yo=function(){function lf(){(0,at.default)(this,lf)}return(0,wt.default)(lf,null,[{key:"getRange",value:function(df){var wf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],wo=1e9,ls=-1e9,_f=1e9,po=-1e9,xo;if(wf.length>0)for(var gf=0;gf<wf.length;gf++)xo=df[wf[gf]],_f>xo.shape.boundingBox.left&&(_f=xo.shape.boundingBox.left),po<xo.shape.boundingBox.right&&(po=xo.shape.boundingBox.right),wo>xo.shape.boundingBox.top&&(wo=xo.shape.boundingBox.top),ls<xo.shape.boundingBox.bottom&&(ls=xo.shape.boundingBox.bottom);return _f===1e9&&po===-1e9&&wo===1e9&&ls===-1e9&&(wo=0,ls=0,_f=0,po=0),{minX:_f,maxX:po,minY:wo,maxY:ls}}},{key:"getRangeCore",value:function(df){var wf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],wo=1e9,ls=-1e9,_f=1e9,po=-1e9,xo;if(wf.length>0)for(var gf=0;gf<wf.length;gf++)xo=df[wf[gf]],_f>xo.x&&(_f=xo.x),po<xo.x&&(po=xo.x),wo>xo.y&&(wo=xo.y),ls<xo.y&&(ls=xo.y);return _f===1e9&&po===-1e9&&wo===1e9&&ls===-1e9&&(wo=0,ls=0,_f=0,po=0),{minX:_f,maxX:po,minY:wo,maxY:ls}}},{key:"findCenter",value:function(df){return{x:.5*(df.maxX+df.minX),y:.5*(df.maxY+df.minY)}}},{key:"cloneOptions",value:function(df,wf){var wo={};return wf===void 0||wf==="node"?(mo.deepExtend(wo,df.options,!0),wo.x=df.x,wo.y=df.y,wo.amountOfConnections=df.edges.length):mo.deepExtend(wo,df.options,!0),wo}}]),lf}();X.default=yo},function(q,X,tt){q.exports={default:tt(86),__esModule:!0}},function(q,X,tt){var ot=tt(38);q.exports=Object("z").propertyIsEnumerable(0)?Object:function(at){return ot(at)=="String"?at.split(""):Object(at)}},function(q,X,tt){var ot=tt(27),at=tt(11),ut=tt(64),wt=tt(19),uo=tt(25),mo=tt(91),yo=tt(46),lf=tt(66),uf=tt(8)("iterator"),df=!([].keys&&"next"in[].keys()),wf="@@iterator",wo="keys",ls="values",_f=function(){return this};q.exports=function(po,xo,gf,cf,yf,Sf,xf){mo(gf,xo,cf);var bf=function(Np){if(!df&&Np in zf)return zf[Np];switch(Np){case wo:return function(){return new gf(this,Np)};case ls:return function(){return new gf(this,Np)}}return function(){return new gf(this,Np)}},Af=xo+" Iterator",Pf=yf==ls,Df=!1,zf=po.prototype,jf=zf[uf]||zf[wf]||yf&&zf[yf],$f=jf||bf(yf),Ff=yf?Pf?bf("entries"):$f:void 0,Xf=xo=="Array"&&zf.entries||jf,mp,fp,Mp;if(Xf&&(Mp=lf(Xf.call(new po)),Mp!==Object.prototype&&Mp.next&&(yo(Mp,Af,!0),!ot&&typeof Mp[uf]!="function"&&wt(Mp,uf,_f))),Pf&&jf&&jf.name!==ls&&(Df=!0,$f=function(){return jf.call(this)}),(!ot||xf)&&(df||Df||!zf[uf])&&wt(zf,uf,$f),uo[xo]=$f,uo[Af]=_f,yf)if(mp={values:Pf?$f:bf(ls),keys:Sf?$f:bf(wo),entries:Ff},xf)for(fp in mp)fp in zf||ut(zf,fp,mp[fp]);else at(at.P+at.F*(df||Df),xo,mp);return mp}},function(q,X,tt){var ot=tt(90);q.exports=function(at,ut,wt){if(ot(at),ut===void 0)return at;switch(wt){case 1:return function(uo){return at.call(ut,uo)};case 2:return function(uo,mo){return at.call(ut,uo,mo)};case 3:return function(uo,mo,yo){return at.call(ut,uo,mo,yo)}}return function(){return at.apply(ut,arguments)}}},function(q,X,tt){q.exports=!tt(13)&&!tt(22)(function(){return Object.defineProperty(tt(63)("div"),"a",{get:function(){return 7}}).a!=7})},function(q,X,tt){var ot=tt(21),at=tt(10).document,ut=ot(at)&&ot(at.createElement);q.exports=function(wt){return ut?at.createElement(wt):{}}},function(q,X,tt){q.exports=tt(19)},function(q,X,tt){var ot=tt(14),at=tt(18),ut=tt(93)(!1),wt=tt(43)("IE_PROTO");q.exports=function(uo,mo){var yo=at(uo),lf=0,uf=[],df;for(df in yo)df!=wt&&ot(yo,df)&&uf.push(df);for(;mo.length>lf;)ot(yo,df=mo[lf++])&&(~ut(uf,df)||uf.push(df));return uf}},function(q,X,tt){var ot=tt(14),at=tt(30),ut=tt(43)("IE_PROTO"),wt=Object.prototype;q.exports=Object.getPrototypeOf||function(uo){return uo=at(uo),ot(uo,ut)?uo[ut]:typeof uo.constructor=="function"&&uo instanceof uo.constructor?uo.constructor.prototype:uo instanceof Object?wt:null}},function(q,X,tt){var ot=tt(38),at=tt(8)("toStringTag"),ut=ot(function(){return arguments}())=="Arguments",wt=function(uo,mo){try{return uo[mo]}catch{}};q.exports=function(uo){var mo,yo,lf;return uo===void 0?"Undefined":uo===null?"Null":typeof(yo=wt(mo=Object(uo),at))=="string"?yo:ut?ot(mo):(lf=ot(mo))=="Object"&&typeof mo.callee=="function"?"Arguments":lf}},function(q,X,tt){var ot=tt(11),at=tt(6),ut=tt(22);q.exports=function(wt,uo){var mo=(at.Object||{})[wt]||Object[wt],yo={};yo[wt]=uo(mo),ot(ot.S+ot.F*ut(function(){mo(1)}),"Object",yo)}},function(q,X,tt){var ot=tt(65),at=tt(45).concat("length","prototype");X.f=Object.getOwnPropertyNames||function(wt){return ot(wt,at)}},function(q,X,tt){var ot=tt(32),at=tt(28),ut=tt(18),wt=tt(40),uo=tt(14),mo=tt(62),yo=Object.getOwnPropertyDescriptor;X.f=tt(13)?yo:function(uf,df){if(uf=ut(uf),df=wt(df,!0),mo)try{return yo(uf,df)}catch{}if(uo(uf,df))return at(!ot.f.call(uf,df),uf[df])}},function(q,X,tt){q.exports=typeof window<"u"&&window.moment||tt(116)},function(q,X,tt){function ot(at){this.delay=null,this.max=1/0,this._queue=[],this._timeout=null,this._extended=null,this.setOptions(at)}ot.prototype.setOptions=function(at){at&&typeof at.delay<"u"&&(this.delay=at.delay),at&&typeof at.max<"u"&&(this.max=at.max),this._flushIfNeeded()},ot.extend=function(at,ut){var wt=new ot(ut);if(at.flush!==void 0)throw new Error("Target object already has a property flush");at.flush=function(){wt.flush()};var uo=[{name:"flush",original:void 0}];if(ut&&ut.replace)for(var mo=0;mo<ut.replace.length;mo++){var yo=ut.replace[mo];uo.push({name:yo,original:at[yo]}),wt.replace(at,yo)}return wt._extended={object:at,methods:uo},wt},ot.prototype.destroy=function(){if(this.flush(),this._extended){for(var at=this._extended.object,ut=this._extended.methods,wt=0;wt<ut.length;wt++){var uo=ut[wt];uo.original?at[uo.name]=uo.original:delete at[uo.name]}this._extended=null}},ot.prototype.replace=function(at,ut){var wt=this,uo=at[ut];if(!uo)throw new Error("Method "+ut+" undefined");at[ut]=function(){for(var mo=[],yo=0;yo<arguments.length;yo++)mo[yo]=arguments[yo];wt.queue({args:mo,fn:uo,context:this})}},ot.prototype.queue=function(at){typeof at=="function"?this._queue.push({fn:at}):this._queue.push(at),this._flushIfNeeded()},ot.prototype._flushIfNeeded=function(){if(this._queue.length>this.max&&this.flush(),clearTimeout(this._timeout),this.queue.length>0&&typeof this.delay=="number"){var at=this;this._timeout=setTimeout(function(){at.flush()},this.delay)}},ot.prototype.flush=function(){for(;this._queue.length>0;){var at=this._queue.shift();at.fn.apply(at.context||at.fn,at.args||[])}},q.exports=ot},function(q,X){q.exports=tt;function tt(at){if(at)return ot(at)}function ot(at){for(var ut in tt.prototype)at[ut]=tt.prototype[ut];return at}tt.prototype.on=tt.prototype.addEventListener=function(at,ut){return this._callbacks=this._callbacks||{},(this._callbacks[at]=this._callbacks[at]||[]).push(ut),this},tt.prototype.once=function(at,ut){var wt=this;this._callbacks=this._callbacks||{};function uo(){wt.off(at,uo),ut.apply(this,arguments)}return uo.fn=ut,this.on(at,uo),this},tt.prototype.off=tt.prototype.removeListener=tt.prototype.removeAllListeners=tt.prototype.removeEventListener=function(at,ut){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var wt=this._callbacks[at];if(!wt)return this;if(arguments.length==1)return delete this._callbacks[at],this;for(var uo,mo=0;mo<wt.length;mo++)if(uo=wt[mo],uo===ut||uo.fn===ut){wt.splice(mo,1);break}return this},tt.prototype.emit=function(at){this._callbacks=this._callbacks||{};var ut=[].slice.call(arguments,1),wt=this._callbacks[at];if(wt){wt=wt.slice(0);for(var uo=0,mo=wt.length;uo<mo;++uo)wt[uo].apply(this,ut)}return this},tt.prototype.listeners=function(at){return this._callbacks=this._callbacks||{},this._callbacks[at]||[]},tt.prototype.hasListeners=function(at){return!!this.listeners(at).length}},function(q,X,tt){var ot=tt(31),at=ut(ot);function ut(kp){return kp&&kp.__esModule?kp:{default:kp}}function wt(kp){return uf=kp,Df()}var uo={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},mo=(0,at.default)(uo);mo.color="color.color",mo.style="dashes";var yo={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},lf={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},uf="",df=0,wf="",wo="",ls=yo.NULL;function _f(){df=0,wf=uf.charAt(0)}function po(){df++,wf=uf.charAt(df)}function xo(){return uf.charAt(df+1)}var gf=/[a-zA-Z_0-9.:#]/;function cf(kp){return gf.test(kp)}function yf(kp,Dp){if(kp||(kp={}),Dp)for(var Fp in Dp)Dp.hasOwnProperty(Fp)&&(kp[Fp]=Dp[Fp]);return kp}function Sf(kp,Dp,Fp){for(var Sp=Dp.split("."),up=kp;Sp.length;){var Nf=Sp.shift();Sp.length?(up[Nf]||(up[Nf]={}),up=up[Nf]):up[Nf]=Fp}}function xf(kp,Dp){for(var Fp,Sp,up=null,Nf=[kp],Jf=kp;Jf.parent;)Nf.push(Jf.parent),Jf=Jf.parent;if(Jf.nodes){for(Fp=0,Sp=Jf.nodes.length;Fp<Sp;Fp++)if(Dp.id===Jf.nodes[Fp].id){up=Jf.nodes[Fp];break}}for(up||(up={id:Dp.id},kp.node&&(up.attr=yf(up.attr,kp.node))),Fp=Nf.length-1;Fp>=0;Fp--){var ip=Nf[Fp];ip.nodes||(ip.nodes=[]),ip.nodes.indexOf(up)===-1&&ip.nodes.push(up)}Dp.attr&&(up.attr=yf(up.attr,Dp.attr))}function bf(kp,Dp){if(kp.edges||(kp.edges=[]),kp.edges.push(Dp),kp.edge){var Fp=yf({},kp.edge);Dp.attr=yf(Fp,Dp.attr)}}function Af(kp,Dp,Fp,Sp,up){var Nf={from:Dp,to:Fp,type:Sp};return kp.edge&&(Nf.attr=yf({},kp.edge)),Nf.attr=yf(Nf.attr||{},up),up!=null&&up.hasOwnProperty("arrows")&&(Nf.arrows={to:{enabled:!0,type:up.arrows.type}},up.arrows=null),Nf}function Pf(){for(ls=yo.NULL,wo="";wf===" "||wf==="	"||wf===`
`||wf==="\r";)po();do{var kp=!1;if(wf==="#"){for(var Dp=df-1;uf.charAt(Dp)===" "||uf.charAt(Dp)==="	";)Dp--;if(uf.charAt(Dp)===`
`||uf.charAt(Dp)===""){for(;wf!=""&&wf!=`
`;)po();kp=!0}}if(wf==="/"&&xo()==="/"){for(;wf!=""&&wf!=`
`;)po();kp=!0}if(wf==="/"&&xo()==="*"){for(;wf!="";)if(wf==="*"&&xo()==="/"){po(),po();break}else po();kp=!0}for(;wf===" "||wf==="	"||wf===`
`||wf==="\r";)po()}while(kp);if(wf===""){ls=yo.DELIMITER;return}var Fp=wf+xo();if(lf[Fp]){ls=yo.DELIMITER,wo=Fp,po(),po();return}if(lf[wf]){ls=yo.DELIMITER,wo=wf,po();return}if(cf(wf)||wf==="-"){for(wo+=wf,po();cf(wf);)wo+=wf,po();wo==="false"?wo=!1:wo==="true"?wo=!0:isNaN(Number(wo))||(wo=Number(wo)),ls=yo.IDENTIFIER;return}if(wf==='"'){for(po();wf!=""&&(wf!='"'||wf==='"'&&xo()==='"');)wf==='"'?(wo+=wf,po()):wf==="\\"&&xo()==="n"?(wo+=`
`,po()):wo+=wf,po();if(wf!='"')throw Np('End of string " expected');po(),ls=yo.IDENTIFIER;return}for(ls=yo.UNKNOWN;wf!="";)wo+=wf,po();throw new SyntaxError('Syntax error in part "'+Pp(wo,30)+'"')}function Df(){var kp={};if(_f(),Pf(),wo==="strict"&&(kp.strict=!0,Pf()),(wo==="graph"||wo==="digraph")&&(kp.type=wo,Pf()),ls===yo.IDENTIFIER&&(kp.id=wo,Pf()),wo!="{")throw Np("Angle bracket { expected");if(Pf(),zf(kp),wo!="}")throw Np("Angle bracket } expected");if(Pf(),wo!=="")throw Np("End of file expected");return Pf(),delete kp.node,delete kp.edge,delete kp.graph,kp}function zf(kp){for(;wo!==""&&wo!="}";)jf(kp),wo===";"&&Pf()}function jf(kp){var Dp=$f(kp);if(Dp){mp(kp,Dp);return}var Fp=Ff(kp);if(!Fp){if(ls!=yo.IDENTIFIER)throw Np("Identifier expected");var Sp=wo;if(Pf(),wo==="="){if(Pf(),ls!=yo.IDENTIFIER)throw Np("Identifier expected");kp[Sp]=wo,Pf()}else Xf(kp,Sp)}}function $f(kp){var Dp=null;if(wo==="subgraph"&&(Dp={},Dp.type="subgraph",Pf(),ls===yo.IDENTIFIER&&(Dp.id=wo,Pf())),wo==="{"){if(Pf(),Dp||(Dp={}),Dp.parent=kp,Dp.node=kp.node,Dp.edge=kp.edge,Dp.graph=kp.graph,zf(Dp),wo!="}")throw Np("Angle bracket } expected");Pf(),delete Dp.node,delete Dp.edge,delete Dp.graph,delete Dp.parent,kp.subgraphs||(kp.subgraphs=[]),kp.subgraphs.push(Dp)}return Dp}function Ff(kp){return wo==="node"?(Pf(),kp.node=Mp(),"node"):wo==="edge"?(Pf(),kp.edge=Mp(),"edge"):wo==="graph"?(Pf(),kp.graph=Mp(),"graph"):null}function Xf(kp,Dp){var Fp={id:Dp},Sp=Mp();Sp&&(Fp.attr=Sp),xf(kp,Fp),mp(kp,Dp)}function mp(kp,Dp){for(;wo==="->"||wo==="--";){var Fp,Sp=wo;Pf();var up=$f(kp);if(up)Fp=up;else{if(ls!=yo.IDENTIFIER)throw Np("Identifier or subgraph expected");Fp=wo,xf(kp,{id:Fp}),Pf()}var Nf=Mp(),Jf=Af(kp,Dp,Fp,Sp,Nf);bf(kp,Jf),Dp=Fp}}function fp(kp,Dp){var Fp;if(kp.includes("dir")){var Sp={};for(Sp.arrows={},Fp=0;Fp<Dp.length;Fp++)if(Dp[Fp].name==="arrows")if(Dp[Fp].value.to!=null)Sp.arrows.to=Fp;else if(Dp[Fp].value.from!=null)Sp.arrows.from=Fp;else throw Np("Invalid value of arrows");else Dp[Fp].name==="dir"&&(Sp.dir=Fp);var up=Dp[Sp.dir].value;if(!kp.includes("arrows"))if(up==="both")Dp.push({attr:Dp[Sp.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),Sp.arrows.to=Dp.length-1,Dp.push({attr:Dp[Sp.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),Sp.arrows.from=Dp.length-1;else if(up==="forward")Dp.push({attr:Dp[Sp.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),Sp.arrows.to=Dp.length-1;else if(up==="back")Dp.push({attr:Dp[Sp.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),Sp.arrows.from=Dp.length-1;else if(up==="none")Dp.push({attr:Dp[Sp.dir].attr,name:"arrows",value:""}),Sp.arrows.to=Dp.length-1;else throw Np('Invalid dir type "'+up+'"');var Nf,Jf;if(up==="both")Sp.arrows.to&&Sp.arrows.from?(Jf=Dp[Sp.arrows.to].value.to.type,Nf=Dp[Sp.arrows.from].value.from.type,Dp[Sp.arrows.to]={attr:Dp[Sp.arrows.to].attr,name:Dp[Sp.arrows.to].name,value:{to:{enabled:!0,type:Jf},from:{enabled:!0,type:Nf}}},Dp.splice(Sp.arrows.from,1)):Sp.arrows.to?(Jf=Dp[Sp.arrows.to].value.to.type,Nf="arrow",Dp[Sp.arrows.to]={attr:Dp[Sp.arrows.to].attr,name:Dp[Sp.arrows.to].name,value:{to:{enabled:!0,type:Jf},from:{enabled:!0,type:Nf}}}):Sp.arrows.from&&(Jf="arrow",Nf=Dp[Sp.arrows.from].value.from.type,Dp[Sp.arrows.from]={attr:Dp[Sp.arrows.from].attr,name:Dp[Sp.arrows.from].name,value:{to:{enabled:!0,type:Jf},from:{enabled:!0,type:Nf}}});else if(up==="back")Sp.arrows.to&&Sp.arrows.from?(Jf="",Nf=Dp[Sp.arrows.from].value.from.type,Dp[Sp.arrows.from]={attr:Dp[Sp.arrows.from].attr,name:Dp[Sp.arrows.from].name,value:{to:{enabled:!0,type:Jf},from:{enabled:!0,type:Nf}}}):Sp.arrows.to?(Jf="",Nf="arrow",Sp.arrows.from=Sp.arrows.to,Dp[Sp.arrows.from]={attr:Dp[Sp.arrows.from].attr,name:Dp[Sp.arrows.from].name,value:{to:{enabled:!0,type:Jf},from:{enabled:!0,type:Nf}}}):Sp.arrows.from&&(Jf="",Nf=Dp[Sp.arrows.from].value.from.type,Dp[Sp.arrows.to]={attr:Dp[Sp.arrows.from].attr,name:Dp[Sp.arrows.from].name,value:{to:{enabled:!0,type:Jf},from:{enabled:!0,type:Nf}}}),Dp[Sp.arrows.from]={attr:Dp[Sp.arrows.from].attr,name:Dp[Sp.arrows.from].name,value:{from:{enabled:!0,type:Dp[Sp.arrows.from].value.from.type}}};else if(up==="none"){var ip;Sp.arrows.to?ip=Sp.arrows.to:ip=Sp.arrows.from,Dp[ip]={attr:Dp[ip].attr,name:Dp[ip].name,value:""}}else if(up==="forward")Sp.arrows.to&&Sp.arrows.from?(Jf=Dp[Sp.arrows.to].value.to.type,Nf="",Dp[Sp.arrows.to]={attr:Dp[Sp.arrows.to].attr,name:Dp[Sp.arrows.to].name,value:{to:{enabled:!0,type:Jf},from:{enabled:!0,type:Nf}}}):Sp.arrows.to?(Jf=Dp[Sp.arrows.to].value.to.type,Nf="",Dp[Sp.arrows.to]={attr:Dp[Sp.arrows.to].attr,name:Dp[Sp.arrows.to].name,value:{to:{enabled:!0,type:Jf},from:{enabled:!0,type:Nf}}}):Sp.arrows.from&&(Jf="arrow",Nf="",Sp.arrows.to=Sp.arrows.from,Dp[Sp.arrows.to]={attr:Dp[Sp.arrows.to].attr,name:Dp[Sp.arrows.to].name,value:{to:{enabled:!0,type:Jf},from:{enabled:!0,type:Nf}}}),Dp[Sp.arrows.to]={attr:Dp[Sp.arrows.to].attr,name:Dp[Sp.arrows.to].name,value:{to:{enabled:!0,type:Dp[Sp.arrows.to].value.to.type}}};else throw Np('Invalid dir type "'+up+'"');Dp.splice(Sp.dir,1)}return Dp}function Mp(){for(var kp,Dp=null,Fp={dashed:!0,solid:!1,dotted:[1,5]},Sp={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},up=new Array,Nf=new Array;wo==="[";){for(Pf(),Dp={};wo!==""&&wo!="]";){if(ls!=yo.IDENTIFIER)throw Np("Attribute name expected");var Jf=wo;if(Pf(),wo!="=")throw Np("Equal sign = expected");if(Pf(),ls!=yo.IDENTIFIER)throw Np("Attribute value expected");var ip=wo;Jf==="style"&&(ip=Fp[ip]);var ap;Jf==="arrowhead"&&(ap=Sp[ip],Jf="arrows",ip={to:{enabled:!0,type:ap}}),Jf==="arrowtail"&&(ap=Sp[ip],Jf="arrows",ip={from:{enabled:!0,type:ap}}),up.push({attr:Dp,name:Jf,value:ip}),Nf.push(Jf),Pf(),wo==","&&Pf()}if(wo!="]")throw Np("Bracket ] expected");Pf()}up=fp(Nf,up);var Op;if(Nf.includes("penwidth")){var Gp=[];for(Op=up.length,kp=0;kp<Op;kp++)up[kp].name!=="width"&&(up[kp].name==="penwidth"&&(up[kp].name="width"),Gp.push(up[kp]));up=Gp}for(Op=up.length,kp=0;kp<Op;kp++)Sf(up[kp].attr,up[kp].name,up[kp].value);return Dp}function Np(kp){return new SyntaxError(kp+', got "'+Pp(wo,30)+'" (char '+df+")")}function Pp(kp,Dp){return kp.length<=Dp?kp:kp.substr(0,27)+"..."}function yp(kp,Dp,Fp){Array.isArray(kp)?kp.forEach(function(Sp){Array.isArray(Dp)?Dp.forEach(function(up){Fp(Sp,up)}):Fp(Sp,Dp)}):Array.isArray(Dp)?Dp.forEach(function(Sp){Fp(kp,Sp)}):Fp(kp,Dp)}function Ep(kp,Dp,Fp){for(var Sp=Dp.split("."),up=Sp.pop(),Nf=kp,Jf=0;Jf<Sp.length;Jf++){var ip=Sp[Jf];ip in Nf||(Nf[ip]={}),Nf=Nf[ip]}return Nf[up]=Fp,kp}function Cp(kp,Dp){var Fp={};for(var Sp in kp)if(kp.hasOwnProperty(Sp)){var up=Dp[Sp];Array.isArray(up)?up.forEach(function(Nf){Ep(Fp,Nf,kp[Sp])}):typeof up=="string"?Ep(Fp,up,kp[Sp]):Ep(Fp,Sp,kp[Sp])}return Fp}function $p(kp){var Dp=wt(kp),Fp={nodes:[],edges:[],options:{}};if(Dp.nodes&&Dp.nodes.forEach(function(up){var Nf={id:up.id,label:String(up.label||up.id)};yf(Nf,Cp(up.attr,uo)),Nf.image&&(Nf.shape="image"),Fp.nodes.push(Nf)}),Dp.edges){var Sp=function(Nf){var Jf={from:Nf.from,to:Nf.to};return yf(Jf,Cp(Nf.attr,mo)),Jf.arrows==null&&Nf.type==="->"&&(Jf.arrows="to"),Jf};Dp.edges.forEach(function(up){var Nf,Jf;up.from instanceof Object?Nf=up.from.nodes:Nf={id:up.from},up.to instanceof Object?Jf=up.to.nodes:Jf={id:up.to},up.from instanceof Object&&up.from.edges&&up.from.edges.forEach(function(ip){var ap=Sp(ip);Fp.edges.push(ap)}),yp(Nf,Jf,function(ip,ap){var Op=Af(Fp,ip.id,ap.id,up.type,up.attr),Gp=Sp(Op);Fp.edges.push(Gp)}),up.to instanceof Object&&up.to.edges&&up.to.edges.forEach(function(ip){var ap=Sp(ip);Fp.edges.push(ap)})})}return Dp.attr&&(Fp.options=Dp.attr),Fp}X.parseDOT=wt,X.DOTToGraph=$p},function(q,X,tt){function ot(at,ut){var wt=[],uo=[],mo={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};ut!==void 0&&(ut.fixed!==void 0&&(mo.nodes.fixed=ut.fixed),ut.parseColor!==void 0&&(mo.nodes.parseColor=ut.parseColor),ut.inheritColor!==void 0&&(mo.edges.inheritColor=ut.inheritColor));for(var yo=at.edges,lf=at.nodes,uf=0;uf<yo.length;uf++){var df={},wf=yo[uf];df.id=wf.id,df.from=wf.source,df.to=wf.target,df.attributes=wf.attributes,df.label=wf.label,df.title=wf.attributes!==void 0?wf.attributes.title:void 0,wf.type==="Directed"&&(df.arrows="to"),wf.color&&mo.inheritColor===!1&&(df.color=wf.color),wt.push(df)}for(var wo=0;wo<lf.length;wo++){var ls={},_f=lf[wo];ls.id=_f.id,ls.attributes=_f.attributes,ls.x=_f.x,ls.y=_f.y,ls.label=_f.label,ls.title=_f.attributes!==void 0?_f.attributes.title:_f.title,mo.nodes.parseColor===!0?ls.color=_f.color:ls.color=_f.color!==void 0?{background:_f.color,border:_f.color,highlight:{background:_f.color,border:_f.color},hover:{background:_f.color,border:_f.color}}:void 0,ls.size=_f.size,ls.fixed=mo.nodes.fixed&&_f.x!==void 0&&_f.y!==void 0,uo.push(ls)}return{nodes:uo,edges:wt}}X.parseGephi=ot},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(0),at=yo(ot),ut=tt(1),wt=yo(ut),uo=tt(133),mo=yo(uo);function yo(uf){return uf&&uf.__esModule?uf:{default:uf}}var lf=function(){function uf(df){(0,at.default)(this,uf),this.images={},this.imageBroken={},this.callback=df}return(0,wt.default)(uf,[{key:"_tryloadBrokenUrl",value:function(wf,wo,ls){if(!(wf===void 0||ls===void 0)){if(wo===void 0){console.warn("No broken url image defined");return}ls.onerror=function(){console.error("Could not load brokenImage:",wo)},ls.image.src=wo}}},{key:"_redrawWithImage",value:function(wf){this.callback&&this.callback(wf)}},{key:"load",value:function(wf,wo){var ls=this,_f=this.images[wf];if(_f)return _f;var po=new mo.default;return this.images[wf]=po,po.image.onload=function(){ls._fixImageCoordinates(po.image),po.init(),ls._redrawWithImage(po)},po.image.onerror=function(){console.error("Could not load image:",wf),ls._tryloadBrokenUrl(wf,wo,po)},po.image.src=wf,po}},{key:"_fixImageCoordinates",value:function(wf){wf.width===0&&(document.body.appendChild(wf),wf.width=wf.offsetWidth,wf.height=wf.offsetHeight,document.body.removeChild(wf))}}]),uf}();X.default=lf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(15),at=uf(ot),ut=tt(7),wt=uf(ut),uo=tt(0),mo=uf(uo),yo=tt(1),lf=uf(yo);function uf(po){return po&&po.__esModule?po:{default:po}}var df=tt(2),wf=tt(35).default,wo=tt(139).default,ls=["bold","ital","boldital","mono"],_f=function(){function po(xo,gf){var cf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;(0,mo.default)(this,po),this.body=xo,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(gf),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=cf}return(0,lf.default)(po,[{key:"setOptions",value:function(gf){if(this.elementOptions=gf,this.initFontOptions(gf.font),wf.isValidLabel(gf.label)?this.labelDirty=!0:gf.label=void 0,gf.font!==void 0&&gf.font!==null){if(typeof gf.font=="string")this.baseSize=this.fontOptions.size;else if((0,wt.default)(gf.font)==="object"){var cf=gf.font.size;cf!==void 0&&(this.baseSize=cf)}}}},{key:"initFontOptions",value:function(gf){var cf=this;if(df.forEach(ls,function(yf){cf.fontOptions[yf]={}}),po.parseFontString(this.fontOptions,gf)){this.fontOptions.vadjust=0;return}df.forEach(gf,function(yf,Sf){yf!=null&&(typeof yf>"u"?"undefined":(0,wt.default)(yf))!=="object"&&(cf.fontOptions[Sf]=yf)})}},{key:"constrain",value:function(gf){var cf={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},yf=df.topMost(gf,"widthConstraint");if(typeof yf=="number")cf.maxWdt=Number(yf),cf.minWdt=Number(yf);else if((typeof yf>"u"?"undefined":(0,wt.default)(yf))==="object"){var Sf=df.topMost(gf,["widthConstraint","maximum"]);typeof Sf=="number"&&(cf.maxWdt=Number(Sf));var xf=df.topMost(gf,["widthConstraint","minimum"]);typeof xf=="number"&&(cf.minWdt=Number(xf))}var bf=df.topMost(gf,"heightConstraint");if(typeof bf=="number")cf.minHgt=Number(bf);else if((typeof bf>"u"?"undefined":(0,wt.default)(bf))==="object"){var Af=df.topMost(gf,["heightConstraint","minimum"]);typeof Af=="number"&&(cf.minHgt=Number(Af));var Pf=df.topMost(gf,["heightConstraint","valign"]);typeof Pf=="string"&&(Pf==="top"||Pf==="bottom")&&(cf.valign=Pf)}return cf}},{key:"update",value:function(gf,cf){this.setOptions(gf,!0),this.propagateFonts(cf),df.deepExtend(this.fontOptions,this.constrain(cf)),this.fontOptions.chooser=wf.choosify("label",cf)}},{key:"adjustSizes",value:function(gf){var cf=gf?gf.right+gf.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=cf,this.fontOptions.minWdt-=cf);var yf=gf?gf.top+gf.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=yf)}},{key:"addFontOptionsToPile",value:function(gf,cf){for(var yf=0;yf<cf.length;++yf)this.addFontToPile(gf,cf[yf])}},{key:"addFontToPile",value:function(gf,cf){if(cf!==void 0&&!(cf.font===void 0||cf.font===null)){var yf=cf.font;gf.push(yf)}}},{key:"getBasicOptions",value:function(gf){for(var cf={},yf=0;yf<gf.length;++yf){var Sf=gf[yf],xf={};po.parseFontString(xf,Sf)&&(Sf=xf),df.forEach(Sf,function(bf,Af){bf!==void 0&&(cf.hasOwnProperty(Af)||(ls.indexOf(Af)!==-1?cf[Af]={}:cf[Af]=bf))})}return cf}},{key:"getFontOption",value:function(gf,cf,yf){for(var Sf=void 0,xf=0;xf<gf.length;++xf){var bf=gf[xf];if(bf.hasOwnProperty(cf)){if(Sf=bf[cf],Sf==null)continue;var Af={};if(po.parseFontString(Af,Sf)&&(Sf=Af),Sf.hasOwnProperty(yf))return Sf[yf]}}if(this.fontOptions.hasOwnProperty(yf))return this.fontOptions[yf];throw new Error("Did not find value for multi-font for property: '"+yf+"'")}},{key:"getFontOptions",value:function(gf,cf){for(var yf={},Sf=["color","size","face","mod","vadjust"],xf=0;xf<Sf.length;++xf){var bf=Sf[xf];yf[bf]=this.getFontOption(gf,cf,bf)}return yf}},{key:"propagateFonts",value:function(gf){var cf=this,yf=[];this.addFontOptionsToPile(yf,gf),this.fontOptions=this.getBasicOptions(yf);for(var Sf=function(Af){var Pf=ls[Af],Df=cf.fontOptions[Pf],zf=cf.getFontOptions(yf,Pf);df.forEach(zf,function(jf,$f){Df[$f]=jf}),Df.size=Number(Df.size),Df.vadjust=Number(Df.vadjust)},xf=0;xf<ls.length;++xf)Sf(xf)}},{key:"draw",value:function(gf,cf,yf,Sf,xf){var bf=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label!==void 0){var Af=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&Af<this.elementOptions.scaling.label.drawThreshold-1||(Af>=this.elementOptions.scaling.label.maxVisible&&(Af=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(gf,Sf,xf,cf,yf,bf),this._drawBackground(gf),this._drawText(gf,cf,this.size.yLine,bf,Af))}}},{key:"_drawBackground",value:function(gf){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){gf.fillStyle=this.fontOptions.background;var cf=this.getSize();gf.fillRect(cf.left,cf.top,cf.width,cf.height)}}},{key:"_drawText",value:function(gf,cf,yf){var Sf=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",xf=arguments[4],bf=this._setAlignment(gf,cf,yf,Sf),Af=(0,at.default)(bf,2);cf=Af[0],yf=Af[1],gf.textAlign="left",cf=cf-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(yf-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(yf+=(this.size.height-this.size.labelHeight)/2));for(var Pf=0;Pf<this.lineCount;Pf++){var Df=this.lines[Pf];if(Df&&Df.blocks){var zf=0;this.isEdgeLabel||this.fontOptions.align==="center"?zf+=(this.size.width-Df.width)/2:this.fontOptions.align==="right"&&(zf+=this.size.width-Df.width);for(var jf=0;jf<Df.blocks.length;jf++){var $f=Df.blocks[jf];gf.font=$f.font;var Ff=this._getColor($f.color,xf,$f.strokeColor),Xf=(0,at.default)(Ff,2),mp=Xf[0],fp=Xf[1];$f.strokeWidth>0&&(gf.lineWidth=$f.strokeWidth,gf.strokeStyle=fp,gf.lineJoin="round"),gf.fillStyle=mp,$f.strokeWidth>0&&gf.strokeText($f.text,cf+zf,yf+$f.vadjust),gf.fillText($f.text,cf+zf,yf+$f.vadjust),zf+=$f.width}yf+=Df.height}}}},{key:"_setAlignment",value:function(gf,cf,yf,Sf){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){cf=0,yf=0;var xf=2;this.fontOptions.align==="top"?(gf.textBaseline="alphabetic",yf-=2*xf):this.fontOptions.align==="bottom"?(gf.textBaseline="hanging",yf+=2*xf):gf.textBaseline="middle"}else gf.textBaseline=Sf;return[cf,yf]}},{key:"_getColor",value:function(gf,cf,yf){var Sf=gf||"#000000",xf=yf||"#ffffff";if(cf<=this.elementOptions.scaling.label.drawThreshold){var bf=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-cf)));Sf=df.overrideOpacity(Sf,bf),xf=df.overrideOpacity(xf,bf)}return[Sf,xf]}},{key:"getTextSize",value:function(gf){var cf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,yf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(gf,cf,yf),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var gf=2,cf=this.size.left,yf=this.size.top-.5*gf;if(this.isEdgeLabel){var Sf=-this.size.width*.5;switch(this.fontOptions.align){case"middle":cf=Sf,yf=-this.size.height*.5;break;case"top":cf=Sf,yf=-(this.size.height+gf);break;case"bottom":cf=Sf,yf=gf;break}}var xf={left:cf,top:yf,width:this.size.width,height:this.size.height};return xf}},{key:"calculateLabelSize",value:function(gf,cf,yf){var Sf=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,xf=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,bf=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(gf,cf,yf),this.size.left=Sf-this.size.width*.5,this.size.top=xf-this.size.height*.5,this.size.yLine=xf+(1-this.lineCount)*.5*this.fontOptions.size,bf==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(gf,cf,yf,Sf){var xf=function(Df,zf,jf){return zf==="normal"?jf==="mod"?"":Df[jf]:Df[zf][jf]!==void 0?Df[zf][jf]:Df[jf]},bf={color:xf(this.fontOptions,Sf,"color"),size:xf(this.fontOptions,Sf,"size"),face:xf(this.fontOptions,Sf,"face"),mod:xf(this.fontOptions,Sf,"mod"),vadjust:xf(this.fontOptions,Sf,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(cf||yf)&&(Sf==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?bf.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(bf,this.elementOptions.id,cf,yf));var Af="";return bf.mod!==void 0&&bf.mod!==""&&(Af+=bf.mod+" "),Af+=bf.size+"px "+bf.face,gf.font=Af.replace(/"/g,""),bf.font=gf.font,bf.height=bf.size,bf}},{key:"differentState",value:function(gf,cf){return gf!==this.selectedState||cf!==this.hoverState}},{key:"_processLabelText",value:function(gf,cf,yf,Sf){var xf=new wo(gf,this,cf,yf);return xf.process(Sf)}},{key:"_processLabel",value:function(gf,cf,yf){if(!(this.labelDirty===!1&&!this.differentState(cf,yf))){var Sf=this._processLabelText(gf,cf,yf,this.elementOptions.label);this.fontOptions.minWdt>0&&Sf.width<this.fontOptions.minWdt&&(Sf.width=this.fontOptions.minWdt),this.size.labelHeight=Sf.height,this.fontOptions.minHgt>0&&Sf.height<this.fontOptions.minHgt&&(Sf.height=this.fontOptions.minHgt),this.lines=Sf.lines,this.lineCount=Sf.lines.length,this.size.width=Sf.width,this.size.height=Sf.height,this.selectedState=cf,this.hoverState=yf,this.labelDirty=!1}}},{key:"visible",value:function(){if(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0)return!1;var gf=this.fontOptions.size*this.body.view.scale;return!(gf<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(gf,cf){if(!cf||typeof cf!="string")return!1;var yf=cf.split(" ");return gf.size=yf[0].replace("px",""),gf.face=yf[1],gf.color=yf[2],!0}}]),po}();X.default=_f},function(q,X,tt){q.exports={default:tt(141),__esModule:!0}},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(15),at=yo(ot),ut=tt(0),wt=yo(ut),uo=tt(1),mo=yo(uo);function yo(wf){return wf&&wf.__esModule?wf:{default:wf}}var lf=tt(2),uf=tt(80).default,df=function(){function wf(wo,ls,_f){(0,wt.default)(this,wf),this.body=ls,this.labelModule=_f,this.options={},this.setOptions(wo),this.colorDirty=!0,this.color={},this.selectionWidth=2,this.hoverWidth=1.5,this.fromPoint=this.from,this.toPoint=this.to}return(0,mo.default)(wf,[{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(ls){this.options=ls,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(ls,_f,po,xo,gf){ls.strokeStyle=this.getColor(ls,_f,po,xo),ls.lineWidth=_f.width,_f.dashes!==!1?this._drawDashedLine(ls,_f,gf):this._drawLine(ls,_f,gf)}},{key:"_drawLine",value:function(ls,_f,po,xo,gf){if(this.from!=this.to)this._line(ls,_f,po,xo,gf);else{var cf=this._getCircleData(ls),yf=(0,at.default)(cf,3),Sf=yf[0],xf=yf[1],bf=yf[2];this._circle(ls,_f,Sf,xf,bf)}}},{key:"_drawDashedLine",value:function(ls,_f,po,xo,gf){ls.lineCap="round";var cf=[5,5];if(Array.isArray(_f.dashes)===!0&&(cf=_f.dashes),ls.setLineDash!==void 0){if(ls.save(),ls.setLineDash(cf),ls.lineDashOffset=0,this.from!=this.to)this._line(ls,_f,po);else{var yf=this._getCircleData(ls),Sf=(0,at.default)(yf,3),xf=Sf[0],bf=Sf[1],Af=Sf[2];this._circle(ls,_f,xf,bf,Af)}ls.setLineDash([0]),ls.lineDashOffset=0,ls.restore()}else{if(this.from!=this.to)ls.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,cf);else{var Pf=this._getCircleData(ls),Df=(0,at.default)(Pf,3),zf=Df[0],jf=Df[1],$f=Df[2];this._circle(ls,_f,zf,jf,$f)}this.enableShadow(ls,_f),ls.stroke(),this.disableShadow(ls,_f)}}},{key:"findBorderPosition",value:function(ls,_f,po){return this.from!=this.to?this._findBorderPosition(ls,_f,po):this._findBorderPositionCircle(ls,_f,po)}},{key:"findBorderPositions",value:function(ls){var _f={},po={};if(this.from!=this.to)_f=this._findBorderPosition(this.from,ls),po=this._findBorderPosition(this.to,ls);else{var xo=this._getCircleData(ls).slice(0,2),gf=(0,at.default)(xo,2),cf=gf[0],yf=gf[1];_f=this._findBorderPositionCircle(this.from,ls,{x:cf,y:yf,low:.25,high:.6,direction:-1}),po=this._findBorderPositionCircle(this.from,ls,{x:cf,y:yf,low:.6,high:.8,direction:1})}return{from:_f,to:po}}},{key:"_getCircleData",value:function(ls){var _f=void 0,po=void 0,xo=this.from,gf=this.options.selfReferenceSize;return ls!==void 0&&xo.shape.width===void 0&&xo.shape.resize(ls),xo.shape.width>xo.shape.height?(_f=xo.x+xo.shape.width*.5,po=xo.y-gf):(_f=xo.x+gf,po=xo.y-xo.shape.height*.5),[_f,po,gf]}},{key:"_pointOnCircle",value:function(ls,_f,po,xo){var gf=xo*2*Math.PI;return{x:ls+po*Math.cos(gf),y:_f-po*Math.sin(gf)}}},{key:"_findBorderPositionCircle",value:function(ls,_f,po){for(var xo=po.x,gf=po.y,cf=po.low,yf=po.high,Sf=po.direction,xf=10,bf=0,Af=this.options.selfReferenceSize,Pf=void 0,Df=void 0,zf=void 0,jf=void 0,$f=void 0,Ff=.05,Xf=(cf+yf)*.5;cf<=yf&&bf<xf&&(Xf=(cf+yf)*.5,Pf=this._pointOnCircle(xo,gf,Af,Xf),Df=Math.atan2(ls.y-Pf.y,ls.x-Pf.x),zf=ls.distanceToBorder(_f,Df),jf=Math.sqrt(Math.pow(Pf.x-ls.x,2)+Math.pow(Pf.y-ls.y,2)),$f=zf-jf,!(Math.abs($f)<Ff));)$f>0?Sf>0?cf=Xf:yf=Xf:Sf>0?yf=Xf:cf=Xf,bf++;return Pf.t=Xf,Pf}},{key:"getLineWidth",value:function(ls,_f){return ls===!0?Math.max(this.selectionWidth,.3/this.body.view.scale):_f===!0?Math.max(this.hoverWidth,.3/this.body.view.scale):Math.max(this.options.width,.3/this.body.view.scale)}},{key:"getColor",value:function(ls,_f,po,xo){if(_f.inheritsColor!==!1){if(_f.inheritsColor==="both"&&this.from.id!==this.to.id){var gf=ls.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),cf=void 0,yf=void 0;return cf=this.from.options.color.highlight.border,yf=this.to.options.color.highlight.border,this.from.selected===!1&&this.to.selected===!1?(cf=lf.overrideOpacity(this.from.options.color.border,_f.opacity),yf=lf.overrideOpacity(this.to.options.color.border,_f.opacity)):this.from.selected===!0&&this.to.selected===!1?yf=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(cf=this.from.options.color.border),gf.addColorStop(0,cf),gf.addColorStop(1,yf),gf}return _f.inheritsColor==="to"?lf.overrideOpacity(this.to.options.color.border,_f.opacity):lf.overrideOpacity(this.from.options.color.border,_f.opacity)}else return lf.overrideOpacity(_f.color,_f.opacity)}},{key:"_circle",value:function(ls,_f,po,xo,gf){this.enableShadow(ls,_f),ls.beginPath(),ls.arc(po,xo,gf,0,2*Math.PI,!1),ls.stroke(),this.disableShadow(ls,_f)}},{key:"getDistanceToEdge",value:function(ls,_f,po,xo,gf,cf,yf,Sf){var xf=0;if(this.from!=this.to)xf=this._getDistanceToEdge(ls,_f,po,xo,gf,cf,yf);else{var bf=this._getCircleData(void 0),Af=(0,at.default)(bf,3),Pf=Af[0],Df=Af[1],zf=Af[2],jf=Pf-gf,$f=Df-cf;xf=Math.abs(Math.sqrt(jf*jf+$f*$f)-zf)}return xf}},{key:"_getDistanceToLine",value:function(ls,_f,po,xo,gf,cf){var yf=po-ls,Sf=xo-_f,xf=yf*yf+Sf*Sf,bf=((gf-ls)*yf+(cf-_f)*Sf)/xf;bf>1?bf=1:bf<0&&(bf=0);var Af=ls+bf*yf,Pf=_f+bf*Sf,Df=Af-gf,zf=Pf-cf;return Math.sqrt(Df*Df+zf*zf)}},{key:"getArrowData",value:function(ls,_f,po,xo,gf,cf){var yf=void 0,Sf=void 0,xf=void 0,bf=void 0,Af=void 0,Pf=void 0,Df=void 0,zf=cf.width;if(_f==="from"?(xf=this.from,bf=this.to,Af=.1,Pf=cf.fromArrowScale,Df=cf.fromArrowType):_f==="to"?(xf=this.to,bf=this.from,Af=-.1,Pf=cf.toArrowScale,Df=cf.toArrowType):(xf=this.to,bf=this.from,Pf=cf.middleArrowScale,Df=cf.middleArrowType),xf!=bf)if(_f!=="middle")if(this.options.smooth.enabled===!0){Sf=this.findBorderPosition(xf,ls,{via:po});var jf=this.getPoint(Math.max(0,Math.min(1,Sf.t+Af)),po);yf=Math.atan2(Sf.y-jf.y,Sf.x-jf.x)}else yf=Math.atan2(xf.y-bf.y,xf.x-bf.x),Sf=this.findBorderPosition(xf,ls);else yf=Math.atan2(xf.y-bf.y,xf.x-bf.x),Sf=this.getPoint(.5,po);else{var $f=this._getCircleData(ls),Ff=(0,at.default)($f,3),Xf=Ff[0],mp=Ff[1],fp=Ff[2];_f==="from"?(Sf=this.findBorderPosition(this.from,ls,{x:Xf,y:mp,low:.25,high:.6,direction:-1}),yf=Sf.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI):_f==="to"?(Sf=this.findBorderPosition(this.from,ls,{x:Xf,y:mp,low:.6,high:1,direction:1}),yf=Sf.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI):(Sf=this._pointOnCircle(Xf,mp,fp,.175),yf=3.9269908169872414)}_f==="middle"&&Pf<0&&(zf*=-1);var Mp=15*Pf+3*zf,Np=Sf.x-Mp*.9*Math.cos(yf),Pp=Sf.y-Mp*.9*Math.sin(yf),yp={x:Np,y:Pp};return{point:Sf,core:yp,angle:yf,length:Mp,type:Df}}},{key:"drawArrowHead",value:function(ls,_f,po,xo,gf){ls.strokeStyle=this.getColor(ls,_f,po,xo),ls.fillStyle=ls.strokeStyle,ls.lineWidth=_f.width,uf.draw(ls,gf),this.enableShadow(ls,_f),ls.fill(),this.disableShadow(ls,_f)}},{key:"enableShadow",value:function(ls,_f){_f.shadow===!0&&(ls.shadowColor=_f.shadowColor,ls.shadowBlur=_f.shadowSize,ls.shadowOffsetX=_f.shadowX,ls.shadowOffsetY=_f.shadowY)}},{key:"disableShadow",value:function(ls,_f){_f.shadow===!0&&(ls.shadowColor="rgba(0,0,0,0)",ls.shadowBlur=0,ls.shadowOffsetX=0,ls.shadowOffsetY=0)}},{key:"drawBackground",value:function(ls,_f){if(_f.background!==!1){var po=["strokeStyle","lineWidth","dashes"],xo={};po.forEach(function(gf){xo[gf]=ls[gf]}),ls.strokeStyle=_f.backgroundColor,ls.lineWidth=_f.backgroundSize,this.setStrokeDashed(ls,_f.backgroundDashes),ls.stroke(),po.forEach(function(gf){ls[gf]=xo[gf]}),this.setStrokeDashed(ls,_f.dashes)}}},{key:"setStrokeDashed",value:function(ls,_f){if(_f!==!1)if(ls.setLineDash!==void 0){var po=[5,5];Array.isArray(_f)===!0&&(po=_f),ls.setLineDash(po)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else ls.setLineDash!==void 0?ls.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),wf}();X.default=df},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=wf(ot),ut=tt(4),wt=wf(ut),uo=tt(5),mo=wf(uo),yo=tt(0),lf=wf(yo),uf=tt(1),df=wf(uf);function wf(Df){return Df&&Df.__esModule?Df:{default:Df}}var wo=function(){function Df(){(0,lf.default)(this,Df)}return(0,df.default)(Df,null,[{key:"transform",value:function(jf,$f){jf instanceof Array||(jf=[jf]);for(var Ff=$f.point.x,Xf=$f.point.y,mp=$f.angle,fp=$f.length,Mp=0;Mp<jf.length;++Mp){var Np=jf[Mp],Pp=Np.x*Math.cos(mp)-Np.y*Math.sin(mp),yp=Np.x*Math.sin(mp)+Np.y*Math.cos(mp);Np.x=Ff+fp*Pp,Np.y=Xf+fp*yp}}},{key:"drawPath",value:function(jf,$f){jf.beginPath(),jf.moveTo($f[0].x,$f[0].y);for(var Ff=1;Ff<$f.length;++Ff)jf.lineTo($f[Ff].x,$f[Ff].y);jf.closePath()}}]),Df}(),ls=function(Df){(0,mo.default)(zf,Df);function zf(){return(0,lf.default)(this,zf),(0,wt.default)(this,(zf.__proto__||(0,at.default)(zf)).apply(this,arguments))}return(0,df.default)(zf,null,[{key:"draw",value:function($f,Ff){var Xf=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];wo.transform(Xf,Ff),wo.drawPath($f,Xf)}}]),zf}(wo),_f=function(){function Df(){(0,lf.default)(this,Df)}return(0,df.default)(Df,null,[{key:"draw",value:function(jf,$f){var Ff=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];wo.transform(Ff,$f),wo.drawPath(jf,Ff)}}]),Df}(),po=function(){function Df(){(0,lf.default)(this,Df)}return(0,df.default)(Df,null,[{key:"draw",value:function(jf,$f){var Ff={x:-.4,y:0};wo.transform(Ff,$f),jf.strokeStyle=jf.fillStyle,jf.fillStyle="rgba(0, 0, 0, 0)";var Xf=Math.PI,mp=$f.angle-Xf/2,fp=$f.angle+Xf/2;jf.beginPath(),jf.arc(Ff.x,Ff.y,$f.length*.4,mp,fp,!1),jf.stroke()}}]),Df}(),xo=function(){function Df(){(0,lf.default)(this,Df)}return(0,df.default)(Df,null,[{key:"draw",value:function(jf,$f){var Ff={x:-.3,y:0};wo.transform(Ff,$f),jf.strokeStyle=jf.fillStyle,jf.fillStyle="rgba(0, 0, 0, 0)";var Xf=Math.PI,mp=$f.angle+Xf/2,fp=$f.angle+3*Xf/2;jf.beginPath(),jf.arc(Ff.x,Ff.y,$f.length*.4,mp,fp,!1),jf.stroke()}}]),Df}(),gf=function(){function Df(){(0,lf.default)(this,Df)}return(0,df.default)(Df,null,[{key:"draw",value:function(jf,$f){var Ff=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];wo.transform(Ff,$f),wo.drawPath(jf,Ff)}}]),Df}(),cf=function(){function Df(){(0,lf.default)(this,Df)}return(0,df.default)(Df,null,[{key:"draw",value:function(jf,$f){var Ff=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];wo.transform(Ff,$f),wo.drawPath(jf,Ff)}}]),Df}(),yf=function(){function Df(){(0,lf.default)(this,Df)}return(0,df.default)(Df,null,[{key:"draw",value:function(jf,$f){var Ff={x:-.4,y:0};wo.transform(Ff,$f),jf.circle(Ff.x,Ff.y,$f.length*.4)}}]),Df}(),Sf=function(){function Df(){(0,lf.default)(this,Df)}return(0,df.default)(Df,null,[{key:"draw",value:function(jf,$f){var Ff=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];wo.transform(Ff,$f),wo.drawPath(jf,Ff)}}]),Df}(),xf=function(){function Df(){(0,lf.default)(this,Df)}return(0,df.default)(Df,null,[{key:"draw",value:function(jf,$f){var Ff=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];wo.transform(Ff,$f),wo.drawPath(jf,Ff)}}]),Df}(),bf=function(){function Df(){(0,lf.default)(this,Df)}return(0,df.default)(Df,null,[{key:"draw",value:function(jf,$f){var Ff=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];wo.transform(Ff,$f),wo.drawPath(jf,Ff)}}]),Df}(),Af=function(){function Df(){(0,lf.default)(this,Df)}return(0,df.default)(Df,null,[{key:"draw",value:function(jf,$f){var Ff=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];wo.transform(Ff,$f),wo.drawPath(jf,Ff)}}]),Df}(),Pf=function(){function Df(){(0,lf.default)(this,Df)}return(0,df.default)(Df,null,[{key:"draw",value:function(jf,$f){var Ff;switch($f.type&&(Ff=$f.type.toLowerCase()),Ff){case"circle":yf.draw(jf,$f);break;case"box":xf.draw(jf,$f);break;case"crow":_f.draw(jf,$f);break;case"curve":po.draw(jf,$f);break;case"diamond":bf.draw(jf,$f);break;case"inv_curve":xo.draw(jf,$f);break;case"triangle":gf.draw(jf,$f);break;case"inv_triangle":cf.draw(jf,$f);break;case"bar":Sf.draw(jf,$f);break;case"vee":Af.draw(jf,$f);break;case"arrow":default:ls.draw(jf,$f)}}}]),Df}();X.default=Pf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(0),at=uo(ot),ut=tt(1),wt=uo(ut);function uo(yo){return yo&&yo.__esModule?yo:{default:yo}}var mo=function(){function yo(lf,uf,df){(0,at.default)(this,yo),this.body=lf,this.physicsBody=uf,this.barnesHutTree,this.setOptions(df),this.randomSeed=5}return(0,wt.default)(yo,[{key:"setOptions",value:function(uf){this.options=uf,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function(){var uf=Math.sin(this.randomSeed++)*1e4;return uf-Math.floor(uf)}},{key:"solve",value:function(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){var uf=void 0,df=this.body.nodes,wf=this.physicsBody.physicsNodeIndices,wo=wf.length,ls=this._formBarnesHutTree(df,wf);this.barnesHutTree=ls;for(var _f=0;_f<wo;_f++)uf=df[wf[_f]],uf.options.mass>0&&this._getForceContributions(ls.root,uf)}}},{key:"_getForceContributions",value:function(uf,df){this._getForceContribution(uf.children.NW,df),this._getForceContribution(uf.children.NE,df),this._getForceContribution(uf.children.SW,df),this._getForceContribution(uf.children.SE,df)}},{key:"_getForceContribution",value:function(uf,df){if(uf.childrenCount>0){var wf=void 0,wo=void 0,ls=void 0;wf=uf.centerOfMass.x-df.x,wo=uf.centerOfMass.y-df.y,ls=Math.sqrt(wf*wf+wo*wo),ls*uf.calcSize>this.thetaInversed?this._calculateForces(ls,wf,wo,df,uf):uf.childrenCount===4?this._getForceContributions(uf,df):uf.children.data.id!=df.id&&this._calculateForces(ls,wf,wo,df,uf)}}},{key:"_calculateForces",value:function(uf,df,wf,wo,ls){uf===0&&(uf=.1,df=uf),this.overlapAvoidanceFactor<1&&wo.shape.radius&&(uf=Math.max(.1+this.overlapAvoidanceFactor*wo.shape.radius,uf-wo.shape.radius));var _f=this.options.gravitationalConstant*ls.mass*wo.options.mass/Math.pow(uf,3),po=df*_f,xo=wf*_f;this.physicsBody.forces[wo.id].x+=po,this.physicsBody.forces[wo.id].y+=xo}},{key:"_formBarnesHutTree",value:function(uf,df){for(var wf=void 0,wo=df.length,ls=uf[df[0]].x,_f=uf[df[0]].y,po=uf[df[0]].x,xo=uf[df[0]].y,gf=1;gf<wo;gf++){var cf=uf[df[gf]],yf=cf.x,Sf=cf.y;cf.options.mass>0&&(yf<ls&&(ls=yf),yf>po&&(po=yf),Sf<_f&&(_f=Sf),Sf>xo&&(xo=Sf))}var xf=Math.abs(po-ls)-Math.abs(xo-_f);xf>0?(_f-=.5*xf,xo+=.5*xf):(ls+=.5*xf,po-=.5*xf);var bf=1e-5,Af=Math.max(bf,Math.abs(po-ls)),Pf=.5*Af,Df=.5*(ls+po),zf=.5*(_f+xo),jf={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:Df-Pf,maxX:Df+Pf,minY:zf-Pf,maxY:zf+Pf},size:Af,calcSize:1/Af,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(jf.root);for(var $f=0;$f<wo;$f++)wf=uf[df[$f]],wf.options.mass>0&&this._placeInTree(jf.root,wf);return jf}},{key:"_updateBranchMass",value:function(uf,df){var wf=uf.centerOfMass,wo=uf.mass+df.options.mass,ls=1/wo;wf.x=wf.x*uf.mass+df.x*df.options.mass,wf.x*=ls,wf.y=wf.y*uf.mass+df.y*df.options.mass,wf.y*=ls,uf.mass=wo;var _f=Math.max(Math.max(df.height,df.radius),df.width);uf.maxWidth=uf.maxWidth<_f?_f:uf.maxWidth}},{key:"_placeInTree",value:function(uf,df,wf){(wf!=!0||wf===void 0)&&this._updateBranchMass(uf,df);var wo=uf.children.NW.range,ls=void 0;wo.maxX>df.x?wo.maxY>df.y?ls="NW":ls="SW":wo.maxY>df.y?ls="NE":ls="SE",this._placeInRegion(uf,df,ls)}},{key:"_placeInRegion",value:function(uf,df,wf){var wo=uf.children[wf];switch(wo.childrenCount){case 0:wo.children.data=df,wo.childrenCount=1,this._updateBranchMass(wo,df);break;case 1:wo.children.data.x===df.x&&wo.children.data.y===df.y?(df.x+=this.seededRandom(),df.y+=this.seededRandom()):(this._splitBranch(wo),this._placeInTree(wo,df));break;case 4:this._placeInTree(wo,df);break}}},{key:"_splitBranch",value:function(uf){var df=null;uf.childrenCount===1&&(df=uf.children.data,uf.mass=0,uf.centerOfMass.x=0,uf.centerOfMass.y=0),uf.childrenCount=4,uf.children.data=null,this._insertRegion(uf,"NW"),this._insertRegion(uf,"NE"),this._insertRegion(uf,"SW"),this._insertRegion(uf,"SE"),df!=null&&this._placeInTree(uf,df)}},{key:"_insertRegion",value:function(uf,df){var wf=void 0,wo=void 0,ls=void 0,_f=void 0,po=.5*uf.size;switch(df){case"NW":wf=uf.range.minX,wo=uf.range.minX+po,ls=uf.range.minY,_f=uf.range.minY+po;break;case"NE":wf=uf.range.minX+po,wo=uf.range.maxX,ls=uf.range.minY,_f=uf.range.minY+po;break;case"SW":wf=uf.range.minX,wo=uf.range.minX+po,ls=uf.range.minY+po,_f=uf.range.maxY;break;case"SE":wf=uf.range.minX+po,wo=uf.range.maxX,ls=uf.range.minY+po,_f=uf.range.maxY;break}uf.children[df]={centerOfMass:{x:0,y:0},mass:0,range:{minX:wf,maxX:wo,minY:ls,maxY:_f},size:.5*uf.size,calcSize:2*uf.calcSize,children:{data:null},maxWidth:0,level:uf.level+1,childrenCount:0}}},{key:"_debug",value:function(uf,df){this.barnesHutTree!==void 0&&(uf.lineWidth=1,this._drawBranch(this.barnesHutTree.root,uf,df))}},{key:"_drawBranch",value:function(uf,df,wf){wf===void 0&&(wf="#FF0000"),uf.childrenCount===4&&(this._drawBranch(uf.children.NW,df),this._drawBranch(uf.children.NE,df),this._drawBranch(uf.children.SE,df),this._drawBranch(uf.children.SW,df)),df.strokeStyle=wf,df.beginPath(),df.moveTo(uf.range.minX,uf.range.minY),df.lineTo(uf.range.maxX,uf.range.minY),df.stroke(),df.beginPath(),df.moveTo(uf.range.maxX,uf.range.minY),df.lineTo(uf.range.maxX,uf.range.maxY),df.stroke(),df.beginPath(),df.moveTo(uf.range.maxX,uf.range.maxY),df.lineTo(uf.range.minX,uf.range.maxY),df.stroke(),df.beginPath(),df.moveTo(uf.range.minX,uf.range.maxY),df.lineTo(uf.range.minX,uf.range.minY),df.stroke()}}]),yo}();X.default=mo},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(0),at=uo(ot),ut=tt(1),wt=uo(ut);function uo(yo){return yo&&yo.__esModule?yo:{default:yo}}var mo=function(){function yo(lf,uf,df){(0,at.default)(this,yo),this.body=lf,this.physicsBody=uf,this.setOptions(df)}return(0,wt.default)(yo,[{key:"setOptions",value:function(uf){this.options=uf}},{key:"solve",value:function(){for(var uf=void 0,df=void 0,wf=void 0,wo=void 0,ls=this.body.nodes,_f=this.physicsBody.physicsNodeIndices,po=this.physicsBody.forces,xo=0;xo<_f.length;xo++){var gf=_f[xo];wo=ls[gf],uf=-wo.x,df=-wo.y,wf=Math.sqrt(uf*uf+df*df),this._calculateForces(wf,uf,df,po,wo)}}},{key:"_calculateForces",value:function(uf,df,wf,wo,ls){var _f=uf===0?0:this.options.centralGravity/uf;wo[ls.id].x=df*_f,wo[ls.id].y=wf*_f}}]),yo}();X.default=mo},function(q,X,tt){q.exports=tt(188)},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot="string",at="boolean",ut="number",wt="array",uo="object",mo="dom",yo="any",lf=["arrow","circle","bar"],uf={configure:{enabled:{boolean:at},filter:{boolean:at,string:ot,array:wt,function:"function"},container:{dom:mo},showButton:{boolean:at},__type__:{object:uo,boolean:at,string:ot,array:wt,function:"function"}},edges:{arrows:{to:{enabled:{boolean:at},scaleFactor:{number:ut},type:{string:lf},__type__:{object:uo,boolean:at}},middle:{enabled:{boolean:at},scaleFactor:{number:ut},type:{string:lf},__type__:{object:uo,boolean:at}},from:{enabled:{boolean:at},scaleFactor:{number:ut},type:{string:lf},__type__:{object:uo,boolean:at}},__type__:{string:["from","to","middle"],object:uo}},arrowStrikethrough:{boolean:at},background:{enabled:{boolean:at},color:{string:ot},size:{number:ut},dashes:{boolean:at,array:wt},__type__:{object:uo,boolean:at}},chosen:{label:{boolean:at,function:"function"},edge:{boolean:at,function:"function"},__type__:{object:uo,boolean:at}},color:{color:{string:ot},highlight:{string:ot},hover:{string:ot},inherit:{string:["from","to","both"],boolean:at},opacity:{number:ut},__type__:{object:uo,string:ot}},dashes:{boolean:at,array:wt},font:{color:{string:ot},size:{number:ut},face:{string:ot},background:{string:ot},strokeWidth:{number:ut},strokeColor:{string:ot},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:ut},multi:{boolean:at,string:ot},bold:{color:{string:ot},size:{number:ut},face:{string:ot},mod:{string:ot},vadjust:{number:ut},__type__:{object:uo,string:ot}},boldital:{color:{string:ot},size:{number:ut},face:{string:ot},mod:{string:ot},vadjust:{number:ut},__type__:{object:uo,string:ot}},ital:{color:{string:ot},size:{number:ut},face:{string:ot},mod:{string:ot},vadjust:{number:ut},__type__:{object:uo,string:ot}},mono:{color:{string:ot},size:{number:ut},face:{string:ot},mod:{string:ot},vadjust:{number:ut},__type__:{object:uo,string:ot}},__type__:{object:uo,string:ot}},hidden:{boolean:at},hoverWidth:{function:"function",number:ut},label:{string:ot,undefined:"undefined"},labelHighlightBold:{boolean:at},length:{number:ut,undefined:"undefined"},physics:{boolean:at},scaling:{min:{number:ut},max:{number:ut},label:{enabled:{boolean:at},min:{number:ut},max:{number:ut},maxVisible:{number:ut},drawThreshold:{number:ut},__type__:{object:uo,boolean:at}},customScalingFunction:{function:"function"},__type__:{object:uo}},selectionWidth:{function:"function",number:ut},selfReferenceSize:{number:ut},shadow:{enabled:{boolean:at},color:{string:ot},size:{number:ut},x:{number:ut},y:{number:ut},__type__:{object:uo,boolean:at}},smooth:{enabled:{boolean:at},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:ut},forceDirection:{string:["horizontal","vertical","none"],boolean:at},__type__:{object:uo,boolean:at}},title:{string:ot,undefined:"undefined"},width:{number:ut},widthConstraint:{maximum:{number:ut},__type__:{object:uo,boolean:at,number:ut}},value:{number:ut,undefined:"undefined"},__type__:{object:uo}},groups:{useDefaultGroups:{boolean:at},__any__:"get from nodes, will be overwritten below",__type__:{object:uo}},interaction:{dragNodes:{boolean:at},dragView:{boolean:at},hideEdgesOnDrag:{boolean:at},hideEdgesOnZoom:{boolean:at},hideNodesOnDrag:{boolean:at},hover:{boolean:at},keyboard:{enabled:{boolean:at},speed:{x:{number:ut},y:{number:ut},zoom:{number:ut},__type__:{object:uo}},bindToWindow:{boolean:at},__type__:{object:uo,boolean:at}},multiselect:{boolean:at},navigationButtons:{boolean:at},selectable:{boolean:at},selectConnectedEdges:{boolean:at},hoverConnectedEdges:{boolean:at},tooltipDelay:{number:ut},zoomView:{boolean:at},zoomSpeed:{number:ut},__type__:{object:uo}},layout:{randomSeed:{undefined:"undefined",number:ut},improvedLayout:{boolean:at},hierarchical:{enabled:{boolean:at},levelSeparation:{number:ut},nodeSpacing:{number:ut},treeSpacing:{number:ut},blockShifting:{boolean:at},edgeMinimization:{boolean:at},parentCentralization:{boolean:at},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},__type__:{object:uo,boolean:at}},__type__:{object:uo}},manipulation:{enabled:{boolean:at},initiallyActive:{boolean:at},addNode:{boolean:at,function:"function"},addEdge:{boolean:at,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:uo,boolean:at,function:"function"}},deleteNode:{boolean:at,function:"function"},deleteEdge:{boolean:at,function:"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:uo,boolean:at}},nodes:{borderWidth:{number:ut},borderWidthSelected:{number:ut,undefined:"undefined"},brokenImage:{string:ot,undefined:"undefined"},chosen:{label:{boolean:at,function:"function"},node:{boolean:at,function:"function"},__type__:{object:uo,boolean:at}},color:{border:{string:ot},background:{string:ot},highlight:{border:{string:ot},background:{string:ot},__type__:{object:uo,string:ot}},hover:{border:{string:ot},background:{string:ot},__type__:{object:uo,string:ot}},__type__:{object:uo,string:ot}},fixed:{x:{boolean:at},y:{boolean:at},__type__:{object:uo,boolean:at}},font:{align:{string:ot},color:{string:ot},size:{number:ut},face:{string:ot},background:{string:ot},strokeWidth:{number:ut},strokeColor:{string:ot},vadjust:{number:ut},multi:{boolean:at,string:ot},bold:{color:{string:ot},size:{number:ut},face:{string:ot},mod:{string:ot},vadjust:{number:ut},__type__:{object:uo,string:ot}},boldital:{color:{string:ot},size:{number:ut},face:{string:ot},mod:{string:ot},vadjust:{number:ut},__type__:{object:uo,string:ot}},ital:{color:{string:ot},size:{number:ut},face:{string:ot},mod:{string:ot},vadjust:{number:ut},__type__:{object:uo,string:ot}},mono:{color:{string:ot},size:{number:ut},face:{string:ot},mod:{string:ot},vadjust:{number:ut},__type__:{object:uo,string:ot}},__type__:{object:uo,string:ot}},group:{string:ot,number:ut,undefined:"undefined"},heightConstraint:{minimum:{number:ut},valign:{string:ot},__type__:{object:uo,boolean:at,number:ut}},hidden:{boolean:at},icon:{face:{string:ot},code:{string:ot},size:{number:ut},color:{string:ot},__type__:{object:uo}},id:{string:ot,number:ut},image:{selected:{string:ot,undefined:"undefined"},unselected:{string:ot,undefined:"undefined"},__type__:{object:uo,string:ot}},label:{string:ot,undefined:"undefined"},labelHighlightBold:{boolean:at},level:{number:ut,undefined:"undefined"},margin:{top:{number:ut},right:{number:ut},bottom:{number:ut},left:{number:ut},__type__:{object:uo,number:ut}},mass:{number:ut},physics:{boolean:at},scaling:{min:{number:ut},max:{number:ut},label:{enabled:{boolean:at},min:{number:ut},max:{number:ut},maxVisible:{number:ut},drawThreshold:{number:ut},__type__:{object:uo,boolean:at}},customScalingFunction:{function:"function"},__type__:{object:uo}},shadow:{enabled:{boolean:at},color:{string:ot},size:{number:ut},x:{number:ut},y:{number:ut},__type__:{object:uo,boolean:at}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},shapeProperties:{borderDashes:{boolean:at,array:wt},borderRadius:{number:ut},interpolation:{boolean:at},useImageSize:{boolean:at},useBorderWithImage:{boolean:at},__type__:{object:uo}},size:{number:ut},title:{string:ot,dom:mo,undefined:"undefined"},value:{number:ut,undefined:"undefined"},widthConstraint:{minimum:{number:ut},maximum:{number:ut},__type__:{object:uo,boolean:at,number:ut}},x:{number:ut},y:{number:ut},__type__:{object:uo}},physics:{enabled:{boolean:at},barnesHut:{gravitationalConstant:{number:ut},centralGravity:{number:ut},springLength:{number:ut},springConstant:{number:ut},damping:{number:ut},avoidOverlap:{number:ut},__type__:{object:uo}},forceAtlas2Based:{gravitationalConstant:{number:ut},centralGravity:{number:ut},springLength:{number:ut},springConstant:{number:ut},damping:{number:ut},avoidOverlap:{number:ut},__type__:{object:uo}},repulsion:{centralGravity:{number:ut},springLength:{number:ut},springConstant:{number:ut},nodeDistance:{number:ut},damping:{number:ut},__type__:{object:uo}},hierarchicalRepulsion:{centralGravity:{number:ut},springLength:{number:ut},springConstant:{number:ut},nodeDistance:{number:ut},damping:{number:ut},__type__:{object:uo}},maxVelocity:{number:ut},minVelocity:{number:ut},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:at},iterations:{number:ut},updateInterval:{number:ut},onlyDynamicEdges:{boolean:at},fit:{boolean:at},__type__:{object:uo,boolean:at}},timestep:{number:ut},adaptiveTimestep:{boolean:at},__type__:{object:uo,boolean:at}},autoResize:{boolean:at},clickToUse:{boolean:at},locale:{string:ot},locales:{__any__:{any:yo},__type__:{object:uo}},height:{string:ot},width:{string:ot},__type__:{object:uo}};uf.groups.__any__=uf.nodes,uf.manipulation.controlNodeStyle=uf.nodes;var df={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,1,1,1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]}};X.allOptions=uf,X.configureOptions=df},function(q,X,tt){var ot=tt(2);ot.extend(X,tt(121))},function(q,X,tt){tt(37),tt(47),q.exports=tt(98)},function(q,X,tt){var ot=tt(88),at=tt(89),ut=tt(25),wt=tt(18);q.exports=tt(60)(Array,"Array",function(uo,mo){this._t=wt(uo),this._i=0,this._k=mo},function(){var uo=this._t,mo=this._k,yo=this._i++;return!uo||yo>=uo.length?(this._t=void 0,at(1)):mo=="keys"?at(0,yo):mo=="values"?at(0,uo[yo]):at(0,[yo,uo[yo]])},"values"),ut.Arguments=ut.Array,ot("keys"),ot("values"),ot("entries")},function(q,X){q.exports=function(){}},function(q,X){q.exports=function(tt,ot){return{value:ot,done:!!tt}}},function(q,X){q.exports=function(tt){if(typeof tt!="function")throw TypeError(tt+" is not a function!");return tt}},function(q,X,tt){var ot=tt(41),at=tt(28),ut=tt(46),wt={};tt(19)(wt,tt(8)("iterator"),function(){return this}),q.exports=function(uo,mo,yo){uo.prototype=ot(wt,{next:at(1,yo)}),ut(uo,mo+" Iterator")}},function(q,X,tt){var ot=tt(12),at=tt(20),ut=tt(26);q.exports=tt(13)?Object.defineProperties:function(uo,mo){at(uo);for(var yo=ut(mo),lf=yo.length,uf=0,df;lf>uf;)ot.f(uo,df=yo[uf++],mo[df]);return uo}},function(q,X,tt){var ot=tt(18),at=tt(94),ut=tt(95);q.exports=function(wt){return function(uo,mo,yo){var lf=ot(uo),uf=at(lf.length),df=ut(yo,uf),wf;if(wt&&mo!=mo){for(;uf>df;)if(wf=lf[df++],wf!=wf)return!0}else for(;uf>df;df++)if((wt||df in lf)&&lf[df]===mo)return wt||df||0;return!wt&&-1}}},function(q,X,tt){var ot=tt(42),at=Math.min;q.exports=function(ut){return ut>0?at(ot(ut),9007199254740991):0}},function(q,X,tt){var ot=tt(42),at=Math.max,ut=Math.min;q.exports=function(wt,uo){return wt=ot(wt),wt<0?at(wt+uo,0):ut(wt,uo)}},function(q,X,tt){var ot=tt(10).document;q.exports=ot&&ot.documentElement},function(q,X,tt){var ot=tt(42),at=tt(39);q.exports=function(ut){return function(wt,uo){var mo=String(at(wt)),yo=ot(uo),lf=mo.length,uf,df;return yo<0||yo>=lf?ut?"":void 0:(uf=mo.charCodeAt(yo),uf<55296||uf>56319||yo+1===lf||(df=mo.charCodeAt(yo+1))<56320||df>57343?ut?mo.charAt(yo):uf:ut?mo.slice(yo,yo+2):(uf-55296<<10)+(df-56320)+65536)}}},function(q,X,tt){var ot=tt(20),at=tt(99);q.exports=tt(6).getIterator=function(ut){var wt=at(ut);if(typeof wt!="function")throw TypeError(ut+" is not iterable!");return ot(wt.call(ut))}},function(q,X,tt){var ot=tt(67),at=tt(8)("iterator"),ut=tt(25);q.exports=tt(6).getIteratorMethod=function(wt){if(wt!=null)return wt[at]||wt["@@iterator"]||ut[ot(wt)]}},function(q,X,tt){tt(101);var ot=tt(6).Object;q.exports=function(ut,wt){return ot.create(ut,wt)}},function(q,X,tt){var ot=tt(11);ot(ot.S,"Object",{create:tt(41)})},function(q,X,tt){tt(103),q.exports=tt(6).Object.keys},function(q,X,tt){var ot=tt(30),at=tt(26);tt(68)("keys",function(){return function(wt){return at(ot(wt))}})},function(q,X,tt){q.exports={default:tt(105),__esModule:!0}},function(q,X,tt){tt(47),tt(37),q.exports=tt(48).f("iterator")},function(q,X,tt){q.exports={default:tt(107),__esModule:!0}},function(q,X,tt){tt(108),tt(113),tt(114),tt(115),q.exports=tt(6).Symbol},function(q,X,tt){var ot=tt(10),at=tt(14),ut=tt(13),wt=tt(11),uo=tt(64),mo=tt(109).KEY,yo=tt(22),lf=tt(44),uf=tt(46),df=tt(29),wf=tt(8),wo=tt(48),ls=tt(49),_f=tt(110),po=tt(111),xo=tt(20),gf=tt(21),cf=tt(18),yf=tt(40),Sf=tt(28),xf=tt(41),bf=tt(112),Af=tt(70),Pf=tt(12),Df=tt(26),zf=Af.f,jf=Pf.f,$f=bf.f,Ff=ot.Symbol,Xf=ot.JSON,mp=Xf&&Xf.stringify,fp="prototype",Mp=wf("_hidden"),Np=wf("toPrimitive"),Pp={}.propertyIsEnumerable,yp=lf("symbol-registry"),Ep=lf("symbols"),Cp=lf("op-symbols"),$p=Object[fp],kp=typeof Ff=="function",Dp=ot.QObject,Fp=!Dp||!Dp[fp]||!Dp[fp].findChild,Sp=ut&&yo(function(){return xf(jf({},"a",{get:function(){return jf(this,"a",{value:7}).a}})).a!=7})?function(Ap,Ip,jp){var Jp=zf($p,Ip);Jp&&delete $p[Ip],jf(Ap,Ip,jp),Jp&&Ap!==$p&&jf($p,Ip,Jp)}:jf,up=function(Ap){var Ip=Ep[Ap]=xf(Ff[fp]);return Ip._k=Ap,Ip},Nf=kp&&typeof Ff.iterator=="symbol"?function(Ap){return typeof Ap=="symbol"}:function(Ap){return Ap instanceof Ff},Jf=function(Ip,jp,Jp){return Ip===$p&&Jf(Cp,jp,Jp),xo(Ip),jp=yf(jp,!0),xo(Jp),at(Ep,jp)?(Jp.enumerable?(at(Ip,Mp)&&Ip[Mp][jp]&&(Ip[Mp][jp]=!1),Jp=xf(Jp,{enumerable:Sf(0,!1)})):(at(Ip,Mp)||jf(Ip,Mp,Sf(1,{})),Ip[Mp][jp]=!0),Sp(Ip,jp,Jp)):jf(Ip,jp,Jp)},ip=function(Ip,jp){xo(Ip);for(var Jp=_f(jp=cf(jp)),sg=0,mg=Jp.length,kg;mg>sg;)Jf(Ip,kg=Jp[sg++],jp[kg]);return Ip},ap=function(Ip,jp){return jp===void 0?xf(Ip):ip(xf(Ip),jp)},Op=function(Ip){var jp=Pp.call(this,Ip=yf(Ip,!0));return this===$p&&at(Ep,Ip)&&!at(Cp,Ip)?!1:jp||!at(this,Ip)||!at(Ep,Ip)||at(this,Mp)&&this[Mp][Ip]?jp:!0},Gp=function(Ip,jp){if(Ip=cf(Ip),jp=yf(jp,!0),!(Ip===$p&&at(Ep,jp)&&!at(Cp,jp))){var Jp=zf(Ip,jp);return Jp&&at(Ep,jp)&&!(at(Ip,Mp)&&Ip[Mp][jp])&&(Jp.enumerable=!0),Jp}},bp=function(Ip){for(var jp=$f(cf(Ip)),Jp=[],sg=0,mg;jp.length>sg;)!at(Ep,mg=jp[sg++])&&mg!=Mp&&mg!=mo&&Jp.push(mg);return Jp},zp=function(Ip){for(var jp=Ip===$p,Jp=$f(jp?Cp:cf(Ip)),sg=[],mg=0,kg;Jp.length>mg;)at(Ep,kg=Jp[mg++])&&(!jp||at($p,kg))&&sg.push(Ep[kg]);return sg};kp||(Ff=function(){if(this instanceof Ff)throw TypeError("Symbol is not a constructor!");var Ip=df(arguments.length>0?arguments[0]:void 0),jp=function(Jp){this===$p&&jp.call(Cp,Jp),at(this,Mp)&&at(this[Mp],Ip)&&(this[Mp][Ip]=!1),Sp(this,Ip,Sf(1,Jp))};return ut&&Fp&&Sp($p,Ip,{configurable:!0,set:jp}),up(Ip)},uo(Ff[fp],"toString",function(){return this._k}),Af.f=Gp,Pf.f=Jf,tt(69).f=bf.f=bp,tt(32).f=Op,tt(50).f=zp,ut&&!tt(27)&&uo($p,"propertyIsEnumerable",Op,!0),wo.f=function(Ap){return up(wf(Ap))}),wt(wt.G+wt.W+wt.F*!kp,{Symbol:Ff});for(var Rp="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Up=0;Rp.length>Up;)wf(Rp[Up++]);for(var Zp=Df(wf.store),og=0;Zp.length>og;)ls(Zp[og++]);wt(wt.S+wt.F*!kp,"Symbol",{for:function(Ap){return at(yp,Ap+="")?yp[Ap]:yp[Ap]=Ff(Ap)},keyFor:function(Ip){if(!Nf(Ip))throw TypeError(Ip+" is not a symbol!");for(var jp in yp)if(yp[jp]===Ip)return jp},useSetter:function(){Fp=!0},useSimple:function(){Fp=!1}}),wt(wt.S+wt.F*!kp,"Object",{create:ap,defineProperty:Jf,defineProperties:ip,getOwnPropertyDescriptor:Gp,getOwnPropertyNames:bp,getOwnPropertySymbols:zp}),Xf&&wt(wt.S+wt.F*(!kp||yo(function(){var Ap=Ff();return mp([Ap])!="[null]"||mp({a:Ap})!="{}"||mp(Object(Ap))!="{}"})),"JSON",{stringify:function(Ip){for(var jp=[Ip],Jp=1,sg,mg;arguments.length>Jp;)jp.push(arguments[Jp++]);if(mg=sg=jp[1],!(!gf(sg)&&Ip===void 0||Nf(Ip)))return po(sg)||(sg=function(kg,Eg){if(typeof mg=="function"&&(Eg=mg.call(this,kg,Eg)),!Nf(Eg))return Eg}),jp[1]=sg,mp.apply(Xf,jp)}}),Ff[fp][Np]||tt(19)(Ff[fp],Np,Ff[fp].valueOf),uf(Ff,"Symbol"),uf(Math,"Math",!0),uf(ot.JSON,"JSON",!0)},function(q,X,tt){var ot=tt(29)("meta"),at=tt(21),ut=tt(14),wt=tt(12).f,uo=0,mo=Object.isExtensible||function(){return!0},yo=!tt(22)(function(){return mo(Object.preventExtensions({}))}),lf=function(ls){wt(ls,ot,{value:{i:"O"+ ++uo,w:{}}})},uf=function(ls,_f){if(!at(ls))return typeof ls=="symbol"?ls:(typeof ls=="string"?"S":"P")+ls;if(!ut(ls,ot)){if(!mo(ls))return"F";if(!_f)return"E";lf(ls)}return ls[ot].i},df=function(ls,_f){if(!ut(ls,ot)){if(!mo(ls))return!0;if(!_f)return!1;lf(ls)}return ls[ot].w},wf=function(ls){return yo&&wo.NEED&&mo(ls)&&!ut(ls,ot)&&lf(ls),ls},wo=q.exports={KEY:ot,NEED:!1,fastKey:uf,getWeak:df,onFreeze:wf}},function(q,X,tt){var ot=tt(26),at=tt(50),ut=tt(32);q.exports=function(wt){var uo=ot(wt),mo=at.f;if(mo)for(var yo=mo(wt),lf=ut.f,uf=0,df;yo.length>uf;)lf.call(wt,df=yo[uf++])&&uo.push(df);return uo}},function(q,X,tt){var ot=tt(38);q.exports=Array.isArray||function(ut){return ot(ut)=="Array"}},function(q,X,tt){var ot=tt(18),at=tt(69).f,ut={}.toString,wt=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],uo=function(mo){try{return at(mo)}catch{return wt.slice()}};q.exports.f=function(yo){return wt&&ut.call(yo)=="[object Window]"?uo(yo):at(ot(yo))}},function(q,X){},function(q,X,tt){tt(49)("asyncIterator")},function(q,X,tt){tt(49)("observable")},function(q,X,tt){(function(ot){var at;//! moment.js
(function(ut,wt){ot.exports=wt()})(this,function(){var ut;function wt(){return ut.apply(null,arguments)}function uo(Mf){ut=Mf}function mo(Mf){return Mf instanceof Array||Object.prototype.toString.call(Mf)==="[object Array]"}function yo(Mf){return Mf!=null&&Object.prototype.toString.call(Mf)==="[object Object]"}function lf(Mf){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(Mf).length===0;var Vf;for(Vf in Mf)if(Mf.hasOwnProperty(Vf))return!1;return!0}function uf(Mf){return Mf===void 0}function df(Mf){return typeof Mf=="number"||Object.prototype.toString.call(Mf)==="[object Number]"}function wf(Mf){return Mf instanceof Date||Object.prototype.toString.call(Mf)==="[object Date]"}function wo(Mf,Vf){var tp=[],pp;for(pp=0;pp<Mf.length;++pp)tp.push(Vf(Mf[pp],pp));return tp}function ls(Mf,Vf){return Object.prototype.hasOwnProperty.call(Mf,Vf)}function _f(Mf,Vf){for(var tp in Vf)ls(Vf,tp)&&(Mf[tp]=Vf[tp]);return ls(Vf,"toString")&&(Mf.toString=Vf.toString),ls(Vf,"valueOf")&&(Mf.valueOf=Vf.valueOf),Mf}function po(Mf,Vf,tp,pp){return fb(Mf,Vf,tp,pp,!0).utc()}function xo(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function gf(Mf){return Mf._pf==null&&(Mf._pf=xo()),Mf._pf}var cf;Array.prototype.some?cf=Array.prototype.some:cf=function(Mf){for(var Vf=Object(this),tp=Vf.length>>>0,pp=0;pp<tp;pp++)if(pp in Vf&&Mf.call(this,Vf[pp],pp,Vf))return!0;return!1};function yf(Mf){if(Mf._isValid==null){var Vf=gf(Mf),tp=cf.call(Vf.parsedDateParts,function(Tp){return Tp!=null}),pp=!isNaN(Mf._d.getTime())&&Vf.overflow<0&&!Vf.empty&&!Vf.invalidMonth&&!Vf.invalidWeekday&&!Vf.weekdayMismatch&&!Vf.nullInput&&!Vf.invalidFormat&&!Vf.userInvalidated&&(!Vf.meridiem||Vf.meridiem&&tp);if(Mf._strict&&(pp=pp&&Vf.charsLeftOver===0&&Vf.unusedTokens.length===0&&Vf.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(Mf))Mf._isValid=pp;else return pp}return Mf._isValid}function Sf(Mf){var Vf=po(NaN);return Mf!=null?_f(gf(Vf),Mf):gf(Vf).userInvalidated=!0,Vf}var xf=wt.momentProperties=[];function bf(Mf,Vf){var tp,pp,Tp;if(uf(Vf._isAMomentObject)||(Mf._isAMomentObject=Vf._isAMomentObject),uf(Vf._i)||(Mf._i=Vf._i),uf(Vf._f)||(Mf._f=Vf._f),uf(Vf._l)||(Mf._l=Vf._l),uf(Vf._strict)||(Mf._strict=Vf._strict),uf(Vf._tzm)||(Mf._tzm=Vf._tzm),uf(Vf._isUTC)||(Mf._isUTC=Vf._isUTC),uf(Vf._offset)||(Mf._offset=Vf._offset),uf(Vf._pf)||(Mf._pf=gf(Vf)),uf(Vf._locale)||(Mf._locale=Vf._locale),xf.length>0)for(tp=0;tp<xf.length;tp++)pp=xf[tp],Tp=Vf[pp],uf(Tp)||(Mf[pp]=Tp);return Mf}var Af=!1;function Pf(Mf){bf(this,Mf),this._d=new Date(Mf._d!=null?Mf._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Af===!1&&(Af=!0,wt.updateOffset(this),Af=!1)}function Df(Mf){return Mf instanceof Pf||Mf!=null&&Mf._isAMomentObject!=null}function zf(Mf){return Mf<0?Math.ceil(Mf)||0:Math.floor(Mf)}function jf(Mf){var Vf=+Mf,tp=0;return Vf!==0&&isFinite(Vf)&&(tp=zf(Vf)),tp}function $f(Mf,Vf,tp){var pp=Math.min(Mf.length,Vf.length),Tp=Math.abs(Mf.length-Vf.length),Hp=0,np;for(np=0;np<pp;np++)(tp&&Mf[np]!==Vf[np]||!tp&&jf(Mf[np])!==jf(Vf[np]))&&Hp++;return Hp+Tp}function Ff(Mf){wt.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+Mf)}function Xf(Mf,Vf){var tp=!0;return _f(function(){if(wt.deprecationHandler!=null&&wt.deprecationHandler(null,Mf),tp){for(var pp=[],Tp,Hp=0;Hp<arguments.length;Hp++){if(Tp="",typeof arguments[Hp]=="object"){Tp+=`
[`+Hp+"] ";for(var np in arguments[0])Tp+=np+": "+arguments[0][np]+", ";Tp=Tp.slice(0,-2)}else Tp=arguments[Hp];pp.push(Tp)}Ff(Mf+`
Arguments: `+Array.prototype.slice.call(pp).join("")+`
`+new Error().stack),tp=!1}return Vf.apply(this,arguments)},Vf)}var mp={};function fp(Mf,Vf){wt.deprecationHandler!=null&&wt.deprecationHandler(Mf,Vf),mp[Mf]||(Ff(Vf),mp[Mf]=!0)}wt.suppressDeprecationWarnings=!1,wt.deprecationHandler=null;function Mp(Mf){return Mf instanceof Function||Object.prototype.toString.call(Mf)==="[object Function]"}function Np(Mf){var Vf,tp;for(tp in Mf)Vf=Mf[tp],Mp(Vf)?this[tp]=Vf:this["_"+tp]=Vf;this._config=Mf,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Pp(Mf,Vf){var tp=_f({},Mf),pp;for(pp in Vf)ls(Vf,pp)&&(yo(Mf[pp])&&yo(Vf[pp])?(tp[pp]={},_f(tp[pp],Mf[pp]),_f(tp[pp],Vf[pp])):Vf[pp]!=null?tp[pp]=Vf[pp]:delete tp[pp]);for(pp in Mf)ls(Mf,pp)&&!ls(Vf,pp)&&yo(Mf[pp])&&(tp[pp]=_f({},tp[pp]));return tp}function yp(Mf){Mf!=null&&this.set(Mf)}var Ep;Object.keys?Ep=Object.keys:Ep=function(Mf){var Vf,tp=[];for(Vf in Mf)ls(Mf,Vf)&&tp.push(Vf);return tp};var Cp={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function $p(Mf,Vf,tp){var pp=this._calendar[Mf]||this._calendar.sameElse;return Mp(pp)?pp.call(Vf,tp):pp}var kp={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Dp(Mf){var Vf=this._longDateFormat[Mf],tp=this._longDateFormat[Mf.toUpperCase()];return Vf||!tp?Vf:(this._longDateFormat[Mf]=tp.replace(/MMMM|MM|DD|dddd/g,function(pp){return pp.slice(1)}),this._longDateFormat[Mf])}var Fp="Invalid date";function Sp(){return this._invalidDate}var up="%d",Nf=/\d{1,2}/;function Jf(Mf){return this._ordinal.replace("%d",Mf)}var ip={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function ap(Mf,Vf,tp,pp){var Tp=this._relativeTime[tp];return Mp(Tp)?Tp(Mf,Vf,tp,pp):Tp.replace(/%d/i,Mf)}function Op(Mf,Vf){var tp=this._relativeTime[Mf>0?"future":"past"];return Mp(tp)?tp(Vf):tp.replace(/%s/i,Vf)}var Gp={};function bp(Mf,Vf){var tp=Mf.toLowerCase();Gp[tp]=Gp[tp+"s"]=Gp[Vf]=Mf}function zp(Mf){return typeof Mf=="string"?Gp[Mf]||Gp[Mf.toLowerCase()]:void 0}function Rp(Mf){var Vf={},tp,pp;for(pp in Mf)ls(Mf,pp)&&(tp=zp(pp),tp&&(Vf[tp]=Mf[pp]));return Vf}var Up={};function Zp(Mf,Vf){Up[Mf]=Vf}function og(Mf){var Vf=[];for(var tp in Mf)Vf.push({unit:tp,priority:Up[tp]});return Vf.sort(function(pp,Tp){return pp.priority-Tp.priority}),Vf}function Ap(Mf,Vf,tp){var pp=""+Math.abs(Mf),Tp=Vf-pp.length,Hp=Mf>=0;return(Hp?tp?"+":"":"-")+Math.pow(10,Math.max(0,Tp)).toString().substr(1)+pp}var Ip=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,jp=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Jp={},sg={};function mg(Mf,Vf,tp,pp){var Tp=pp;typeof pp=="string"&&(Tp=function(){return this[pp]()}),Mf&&(sg[Mf]=Tp),Vf&&(sg[Vf[0]]=function(){return Ap(Tp.apply(this,arguments),Vf[1],Vf[2])}),tp&&(sg[tp]=function(){return this.localeData().ordinal(Tp.apply(this,arguments),Mf)})}function kg(Mf){return Mf.match(/\[[\s\S]/)?Mf.replace(/^\[|\]$/g,""):Mf.replace(/\\/g,"")}function Eg(Mf){var Vf=Mf.match(Ip),tp,pp;for(tp=0,pp=Vf.length;tp<pp;tp++)sg[Vf[tp]]?Vf[tp]=sg[Vf[tp]]:Vf[tp]=kg(Vf[tp]);return function(Tp){var Hp="",np;for(np=0;np<pp;np++)Hp+=Mp(Vf[np])?Vf[np].call(Tp,Mf):Vf[np];return Hp}}function im(Mf,Vf){return Mf.isValid()?(Vf=hm(Vf,Mf.localeData()),Jp[Vf]=Jp[Vf]||Eg(Vf),Jp[Vf](Mf)):Mf.localeData().invalidDate()}function hm(Mf,Vf){var tp=5;function pp(Tp){return Vf.longDateFormat(Tp)||Tp}for(jp.lastIndex=0;tp>=0&&jp.test(Mf);)Mf=Mf.replace(jp,pp),jp.lastIndex=0,tp-=1;return Mf}var dp=/\d/,cp=/\d\d/,Vp=/\d{3}/,qp=/\d{4}/,Ag=/[+-]?\d{6}/,Dg=/\d\d?/,Ig=/\d\d\d\d?/,zg=/\d\d\d\d\d\d?/,Zg=/\d{1,3}/,wm=/\d{1,4}/,pm=/[+-]?\d{1,6}/,bv=/\d+/,um=/[+-]?\d+/,Y0=/Z|[+-]\d\d:?\d\d/gi,r0=/Z|[+-]\d\d(?::?\d\d)?/gi,_y=/[+-]?\d+(\.\d{1,3})?/,Wy=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,L0={};function em(Mf,Vf,tp){L0[Mf]=Mp(Vf)?Vf:function(pp,Tp){return pp&&tp?tp:Vf}}function R0(Mf,Vf){return ls(L0,Mf)?L0[Mf](Vf._strict,Vf._locale):new RegExp(tm(Mf))}function tm(Mf){return d0(Mf.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(Vf,tp,pp,Tp,Hp){return tp||pp||Tp||Hp}))}function d0(Mf){return Mf.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var $b={};function km(Mf,Vf){var tp,pp=Vf;for(typeof Mf=="string"&&(Mf=[Mf]),df(Vf)&&(pp=function(Tp,Hp){Hp[Vf]=jf(Tp)}),tp=0;tp<Mf.length;tp++)$b[Mf[tp]]=pp}function D0(Mf,Vf){km(Mf,function(tp,pp,Tp,Hp){Tp._w=Tp._w||{},Vf(tp,Tp._w,Tp,Hp)})}function ob(Mf,Vf,tp){Vf!=null&&ls($b,Mf)&&$b[Mf](Vf,tp._a,tp,Mf)}var Z0=0,Gv=1,cy=2,Hg=3,eg=4,Pg=5,Kg=6,Ev=7,jv=8;mg("Y",0,0,function(){var Mf=this.year();return Mf<=9999?""+Mf:"+"+Mf}),mg(0,["YY",2],0,function(){return this.year()%100}),mg(0,["YYYY",4],0,"year"),mg(0,["YYYYY",5],0,"year"),mg(0,["YYYYYY",6,!0],0,"year"),bp("year","y"),Zp("year",1),em("Y",um),em("YY",Dg,cp),em("YYYY",wm,qp),em("YYYYY",pm,Ag),em("YYYYYY",pm,Ag),km(["YYYYY","YYYYYY"],Z0),km("YYYY",function(Mf,Vf){Vf[Z0]=Mf.length===2?wt.parseTwoDigitYear(Mf):jf(Mf)}),km("YY",function(Mf,Vf){Vf[Z0]=wt.parseTwoDigitYear(Mf)}),km("Y",function(Mf,Vf){Vf[Z0]=parseInt(Mf,10)});function vv(Mf){return Hv(Mf)?366:365}function Hv(Mf){return Mf%4===0&&Mf%100!==0||Mf%400===0}wt.parseTwoDigitYear=function(Mf){return jf(Mf)+(jf(Mf)>68?1900:2e3)};var hy=Jv("FullYear",!0);function Ly(){return Hv(this.year())}function Jv(Mf,Vf){return function(tp){return tp!=null?(Ry(this,Mf,tp),wt.updateOffset(this,Vf),this):n1(this,Mf)}}function n1(Mf,Vf){return Mf.isValid()?Mf._d["get"+(Mf._isUTC?"UTC":"")+Vf]():NaN}function Ry(Mf,Vf,tp){Mf.isValid()&&!isNaN(tp)&&(Vf==="FullYear"&&Hv(Mf.year())&&Mf.month()===1&&Mf.date()===29?Mf._d["set"+(Mf._isUTC?"UTC":"")+Vf](tp,Mf.month(),Fm(tp,Mf.month())):Mf._d["set"+(Mf._isUTC?"UTC":"")+Vf](tp))}function N0(Mf){return Mf=zp(Mf),Mp(this[Mf])?this[Mf]():this}function Fb(Mf,Vf){if(typeof Mf=="object"){Mf=Rp(Mf);for(var tp=og(Mf),pp=0;pp<tp.length;pp++)this[tp[pp].unit](Mf[tp[pp].unit])}else if(Mf=zp(Mf),Mp(this[Mf]))return this[Mf](Vf);return this}function sb(Mf,Vf){return(Mf%Vf+Vf)%Vf}var ov;Array.prototype.indexOf?ov=Array.prototype.indexOf:ov=function(Mf){var Vf;for(Vf=0;Vf<this.length;++Vf)if(this[Vf]===Mf)return Vf;return-1};function Fm(Mf,Vf){if(isNaN(Mf)||isNaN(Vf))return NaN;var tp=sb(Vf,12);return Mf+=(Vf-tp)/12,tp===1?Hv(Mf)?29:28:31-tp%7%2}mg("M",["MM",2],"Mo",function(){return this.month()+1}),mg("MMM",0,0,function(Mf){return this.localeData().monthsShort(this,Mf)}),mg("MMMM",0,0,function(Mf){return this.localeData().months(this,Mf)}),bp("month","M"),Zp("month",8),em("M",Dg),em("MM",Dg,cp),em("MMM",function(Mf,Vf){return Vf.monthsShortRegex(Mf)}),em("MMMM",function(Mf,Vf){return Vf.monthsRegex(Mf)}),km(["M","MM"],function(Mf,Vf){Vf[Gv]=jf(Mf)-1}),km(["MMM","MMMM"],function(Mf,Vf,tp,pp){var Tp=tp._locale.monthsParse(Mf,pp,tp._strict);Tp!=null?Vf[Gv]=Tp:gf(tp).invalidMonth=Mf});var Xm=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,J0="January_February_March_April_May_June_July_August_September_October_November_December".split("_");function ab(Mf,Vf){return Mf?mo(this._months)?this._months[Mf.month()]:this._months[(this._months.isFormat||Xm).test(Vf)?"format":"standalone"][Mf.month()]:mo(this._months)?this._months:this._months.standalone}var Gy="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function lb(Mf,Vf){return Mf?mo(this._monthsShort)?this._monthsShort[Mf.month()]:this._monthsShort[Xm.test(Vf)?"format":"standalone"][Mf.month()]:mo(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function gm(Mf,Vf,tp){var pp,Tp,Hp,np=Mf.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],pp=0;pp<12;++pp)Hp=po([2e3,pp]),this._shortMonthsParse[pp]=this.monthsShort(Hp,"").toLocaleLowerCase(),this._longMonthsParse[pp]=this.months(Hp,"").toLocaleLowerCase();return tp?Vf==="MMM"?(Tp=ov.call(this._shortMonthsParse,np),Tp!==-1?Tp:null):(Tp=ov.call(this._longMonthsParse,np),Tp!==-1?Tp:null):Vf==="MMM"?(Tp=ov.call(this._shortMonthsParse,np),Tp!==-1?Tp:(Tp=ov.call(this._longMonthsParse,np),Tp!==-1?Tp:null)):(Tp=ov.call(this._longMonthsParse,np),Tp!==-1?Tp:(Tp=ov.call(this._shortMonthsParse,np),Tp!==-1?Tp:null))}function dm(Mf,Vf,tp){var pp,Tp,Hp;if(this._monthsParseExact)return gm.call(this,Mf,Vf,tp);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),pp=0;pp<12;pp++){if(Tp=po([2e3,pp]),tp&&!this._longMonthsParse[pp]&&(this._longMonthsParse[pp]=new RegExp("^"+this.months(Tp,"").replace(".","")+"$","i"),this._shortMonthsParse[pp]=new RegExp("^"+this.monthsShort(Tp,"").replace(".","")+"$","i")),!tp&&!this._monthsParse[pp]&&(Hp="^"+this.months(Tp,"")+"|^"+this.monthsShort(Tp,""),this._monthsParse[pp]=new RegExp(Hp.replace(".",""),"i")),tp&&Vf==="MMMM"&&this._longMonthsParse[pp].test(Mf))return pp;if(tp&&Vf==="MMM"&&this._shortMonthsParse[pp].test(Mf))return pp;if(!tp&&this._monthsParse[pp].test(Mf))return pp}}function o1(Mf,Vf){var tp;if(!Mf.isValid())return Mf;if(typeof Vf=="string"){if(/^\d+$/.test(Vf))Vf=jf(Vf);else if(Vf=Mf.localeData().monthsParse(Vf),!df(Vf))return Mf}return tp=Math.min(Mf.date(),Fm(Mf.year(),Vf)),Mf._d["set"+(Mf._isUTC?"UTC":"")+"Month"](Vf,tp),Mf}function nm(Mf){return Mf!=null?(o1(this,Mf),wt.updateOffset(this,!0),this):n1(this,"Month")}function Cm(){return Fm(this.year(),this.month())}var ub=Wy;function zb(Mf){return this._monthsParseExact?(ls(this,"_monthsRegex")||Iv.call(this),Mf?this._monthsShortStrictRegex:this._monthsShortRegex):(ls(this,"_monthsShortRegex")||(this._monthsShortRegex=ub),this._monthsShortStrictRegex&&Mf?this._monthsShortStrictRegex:this._monthsShortRegex)}var Q0=Wy;function Qv(Mf){return this._monthsParseExact?(ls(this,"_monthsRegex")||Iv.call(this),Mf?this._monthsStrictRegex:this._monthsRegex):(ls(this,"_monthsRegex")||(this._monthsRegex=Q0),this._monthsStrictRegex&&Mf?this._monthsStrictRegex:this._monthsRegex)}function Iv(){function Mf(np,jm){return jm.length-np.length}var Vf=[],tp=[],pp=[],Tp,Hp;for(Tp=0;Tp<12;Tp++)Hp=po([2e3,Tp]),Vf.push(this.monthsShort(Hp,"")),tp.push(this.months(Hp,"")),pp.push(this.months(Hp,"")),pp.push(this.monthsShort(Hp,""));for(Vf.sort(Mf),tp.sort(Mf),pp.sort(Mf),Tp=0;Tp<12;Tp++)Vf[Tp]=d0(Vf[Tp]),tp[Tp]=d0(tp[Tp]);for(Tp=0;Tp<24;Tp++)pp[Tp]=d0(pp[Tp]);this._monthsRegex=new RegExp("^("+pp.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+tp.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+Vf.join("|")+")","i")}function qy(Mf,Vf,tp,pp,Tp,Hp,np){var jm=new Date(Mf,Vf,tp,pp,Tp,Hp,np);return Mf<100&&Mf>=0&&isFinite(jm.getFullYear())&&jm.setFullYear(Mf),jm}function dy(Mf){var Vf=new Date(Date.UTC.apply(null,arguments));return Mf<100&&Mf>=0&&isFinite(Vf.getUTCFullYear())&&Vf.setUTCFullYear(Mf),Vf}function Eb(Mf,Vf,tp){var pp=7+Vf-tp,Tp=(7+dy(Mf,0,pp).getUTCDay()-Vf)%7;return-Tp+pp-1}function Dy(Mf,Vf,tp,pp,Tp){var Hp=(7+tp-pp)%7,np=Eb(Mf,pp,Tp),jm=1+7*(Vf-1)+Hp+np,Mv,a0;return jm<=0?(Mv=Mf-1,a0=vv(Mv)+jm):jm>vv(Mf)?(Mv=Mf+1,a0=jm-vv(Mf)):(Mv=Mf,a0=jm),{year:Mv,dayOfYear:a0}}function _p(Mf,Vf,tp){var pp=Eb(Mf.year(),Vf,tp),Tp=Math.floor((Mf.dayOfYear()-pp-1)/7)+1,Hp,np;return Tp<1?(np=Mf.year()-1,Hp=Tp+Lp(np,Vf,tp)):Tp>Lp(Mf.year(),Vf,tp)?(Hp=Tp-Lp(Mf.year(),Vf,tp),np=Mf.year()+1):(np=Mf.year(),Hp=Tp),{week:Hp,year:np}}function Lp(Mf,Vf,tp){var pp=Eb(Mf,Vf,tp),Tp=Eb(Mf+1,Vf,tp);return(vv(Mf)-pp+Tp)/7}mg("w",["ww",2],"wo","week"),mg("W",["WW",2],"Wo","isoWeek"),bp("week","w"),bp("isoWeek","W"),Zp("week",5),Zp("isoWeek",5),em("w",Dg),em("ww",Dg,cp),em("W",Dg),em("WW",Dg,cp),D0(["w","ww","W","WW"],function(Mf,Vf,tp,pp){Vf[pp.substr(0,1)]=jf(Mf)});function Xp(Mf){return _p(Mf,this._week.dow,this._week.doy).week}var vg={dow:0,doy:6};function Og(){return this._week.dow}function Xg(){return this._week.doy}function Dm(Mf){var Vf=this.localeData().week(this);return Mf==null?Vf:this.add((Mf-Vf)*7,"d")}function qv(Mf){var Vf=_p(this,1,4).week;return Mf==null?Vf:this.add((Mf-Vf)*7,"d")}mg("d",0,"do","day"),mg("dd",0,0,function(Mf){return this.localeData().weekdaysMin(this,Mf)}),mg("ddd",0,0,function(Mf){return this.localeData().weekdaysShort(this,Mf)}),mg("dddd",0,0,function(Mf){return this.localeData().weekdays(this,Mf)}),mg("e",0,0,"weekday"),mg("E",0,0,"isoWeekday"),bp("day","d"),bp("weekday","e"),bp("isoWeekday","E"),Zp("day",11),Zp("weekday",11),Zp("isoWeekday",11),em("d",Dg),em("e",Dg),em("E",Dg),em("dd",function(Mf,Vf){return Vf.weekdaysMinRegex(Mf)}),em("ddd",function(Mf,Vf){return Vf.weekdaysShortRegex(Mf)}),em("dddd",function(Mf,Vf){return Vf.weekdaysRegex(Mf)}),D0(["dd","ddd","dddd"],function(Mf,Vf,tp,pp){var Tp=tp._locale.weekdaysParse(Mf,pp,tp._strict);Tp!=null?Vf.d=Tp:gf(tp).invalidWeekday=Mf}),D0(["d","e","E"],function(Mf,Vf,tp,pp){Vf[pp]=jf(Mf)});function Yv(Mf,Vf){return typeof Mf!="string"?Mf:isNaN(Mf)?(Mf=Vf.weekdaysParse(Mf),typeof Mf=="number"?Mf:null):parseInt(Mf,10)}function cm(Mf,Vf){return typeof Mf=="string"?Vf.weekdaysParse(Mf)%7||7:isNaN(Mf)?null:Mf}var s0="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");function _m(Mf,Vf){return Mf?mo(this._weekdays)?this._weekdays[Mf.day()]:this._weekdays[this._weekdays.isFormat.test(Vf)?"format":"standalone"][Mf.day()]:mo(this._weekdays)?this._weekdays:this._weekdays.standalone}var Ny="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");function Sx(Mf){return Mf?this._weekdaysShort[Mf.day()]:this._weekdaysShort}var Tx="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function c_(Mf){return Mf?this._weekdaysMin[Mf.day()]:this._weekdaysMin}function tw(Mf,Vf,tp){var pp,Tp,Hp,np=Mf.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],pp=0;pp<7;++pp)Hp=po([2e3,1]).day(pp),this._minWeekdaysParse[pp]=this.weekdaysMin(Hp,"").toLocaleLowerCase(),this._shortWeekdaysParse[pp]=this.weekdaysShort(Hp,"").toLocaleLowerCase(),this._weekdaysParse[pp]=this.weekdays(Hp,"").toLocaleLowerCase();return tp?Vf==="dddd"?(Tp=ov.call(this._weekdaysParse,np),Tp!==-1?Tp:null):Vf==="ddd"?(Tp=ov.call(this._shortWeekdaysParse,np),Tp!==-1?Tp:null):(Tp=ov.call(this._minWeekdaysParse,np),Tp!==-1?Tp:null):Vf==="dddd"?(Tp=ov.call(this._weekdaysParse,np),Tp!==-1||(Tp=ov.call(this._shortWeekdaysParse,np),Tp!==-1)?Tp:(Tp=ov.call(this._minWeekdaysParse,np),Tp!==-1?Tp:null)):Vf==="ddd"?(Tp=ov.call(this._shortWeekdaysParse,np),Tp!==-1||(Tp=ov.call(this._weekdaysParse,np),Tp!==-1)?Tp:(Tp=ov.call(this._minWeekdaysParse,np),Tp!==-1?Tp:null)):(Tp=ov.call(this._minWeekdaysParse,np),Tp!==-1||(Tp=ov.call(this._weekdaysParse,np),Tp!==-1)?Tp:(Tp=ov.call(this._shortWeekdaysParse,np),Tp!==-1?Tp:null))}function Ax(Mf,Vf,tp){var pp,Tp,Hp;if(this._weekdaysParseExact)return tw.call(this,Mf,Vf,tp);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),pp=0;pp<7;pp++){if(Tp=po([2e3,1]).day(pp),tp&&!this._fullWeekdaysParse[pp]&&(this._fullWeekdaysParse[pp]=new RegExp("^"+this.weekdays(Tp,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[pp]=new RegExp("^"+this.weekdaysShort(Tp,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[pp]=new RegExp("^"+this.weekdaysMin(Tp,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[pp]||(Hp="^"+this.weekdays(Tp,"")+"|^"+this.weekdaysShort(Tp,"")+"|^"+this.weekdaysMin(Tp,""),this._weekdaysParse[pp]=new RegExp(Hp.replace(".",""),"i")),tp&&Vf==="dddd"&&this._fullWeekdaysParse[pp].test(Mf))return pp;if(tp&&Vf==="ddd"&&this._shortWeekdaysParse[pp].test(Mf))return pp;if(tp&&Vf==="dd"&&this._minWeekdaysParse[pp].test(Mf))return pp;if(!tp&&this._weekdaysParse[pp].test(Mf))return pp}}function cb(Mf){if(!this.isValid())return Mf!=null?this:NaN;var Vf=this._isUTC?this._d.getUTCDay():this._d.getDay();return Mf!=null?(Mf=Yv(Mf,this.localeData()),this.add(Mf-Vf,"d")):Vf}function f0(Mf){if(!this.isValid())return Mf!=null?this:NaN;var Vf=(this.day()+7-this.localeData()._week.dow)%7;return Mf==null?Vf:this.add(Mf-Vf,"d")}function A1(Mf){if(!this.isValid())return Mf!=null?this:NaN;if(Mf!=null){var Vf=cm(Mf,this.localeData());return this.day(this.day()%7?Vf:Vf-7)}else return this.day()||7}var Ox=Wy;function wE(Mf){return this._weekdaysParseExact?(ls(this,"_weekdaysRegex")||Iw.call(this),Mf?this._weekdaysStrictRegex:this._weekdaysRegex):(ls(this,"_weekdaysRegex")||(this._weekdaysRegex=Ox),this._weekdaysStrictRegex&&Mf?this._weekdaysStrictRegex:this._weekdaysRegex)}var yk=Wy;function _E(Mf){return this._weekdaysParseExact?(ls(this,"_weekdaysRegex")||Iw.call(this),Mf?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(ls(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=yk),this._weekdaysShortStrictRegex&&Mf?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}var hb=Wy;function xy(Mf){return this._weekdaysParseExact?(ls(this,"_weekdaysRegex")||Iw.call(this),Mf?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(ls(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=hb),this._weekdaysMinStrictRegex&&Mf?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Iw(){function Mf(qb,gw){return gw.length-qb.length}var Vf=[],tp=[],pp=[],Tp=[],Hp,np,jm,Mv,a0;for(Hp=0;Hp<7;Hp++)np=po([2e3,1]).day(Hp),jm=this.weekdaysMin(np,""),Mv=this.weekdaysShort(np,""),a0=this.weekdays(np,""),Vf.push(jm),tp.push(Mv),pp.push(a0),Tp.push(jm),Tp.push(Mv),Tp.push(a0);for(Vf.sort(Mf),tp.sort(Mf),pp.sort(Mf),Tp.sort(Mf),Hp=0;Hp<7;Hp++)tp[Hp]=d0(tp[Hp]),pp[Hp]=d0(pp[Hp]),Tp[Hp]=d0(Tp[Hp]);this._weekdaysRegex=new RegExp("^("+Tp.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+pp.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+tp.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+Vf.join("|")+")","i")}function Km(){return this.hours()%12||12}function bk(){return this.hours()||24}mg("H",["HH",2],0,"hour"),mg("h",["hh",2],0,Km),mg("k",["kk",2],0,bk),mg("hmm",0,0,function(){return""+Km.apply(this)+Ap(this.minutes(),2)}),mg("hmmss",0,0,function(){return""+Km.apply(this)+Ap(this.minutes(),2)+Ap(this.seconds(),2)}),mg("Hmm",0,0,function(){return""+this.hours()+Ap(this.minutes(),2)}),mg("Hmmss",0,0,function(){return""+this.hours()+Ap(this.minutes(),2)+Ap(this.seconds(),2)});function Ey(Mf,Vf){mg(Mf,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),Vf)})}Ey("a",!0),Ey("A",!1),bp("hour","h"),Zp("hour",13);function rw(Mf,Vf){return Vf._meridiemParse}em("a",rw),em("A",rw),em("H",Dg),em("h",Dg),em("k",Dg),em("HH",Dg,cp),em("hh",Dg,cp),em("kk",Dg,cp),em("hmm",Ig),em("hmmss",zg),em("Hmm",Ig),em("Hmmss",zg),km(["H","HH"],Hg),km(["k","kk"],function(Mf,Vf,tp){var pp=jf(Mf);Vf[Hg]=pp===24?0:pp}),km(["a","A"],function(Mf,Vf,tp){tp._isPm=tp._locale.isPM(Mf),tp._meridiem=Mf}),km(["h","hh"],function(Mf,Vf,tp){Vf[Hg]=jf(Mf),gf(tp).bigHour=!0}),km("hmm",function(Mf,Vf,tp){var pp=Mf.length-2;Vf[Hg]=jf(Mf.substr(0,pp)),Vf[eg]=jf(Mf.substr(pp)),gf(tp).bigHour=!0}),km("hmmss",function(Mf,Vf,tp){var pp=Mf.length-4,Tp=Mf.length-2;Vf[Hg]=jf(Mf.substr(0,pp)),Vf[eg]=jf(Mf.substr(pp,2)),Vf[Pg]=jf(Mf.substr(Tp)),gf(tp).bigHour=!0}),km("Hmm",function(Mf,Vf,tp){var pp=Mf.length-2;Vf[Hg]=jf(Mf.substr(0,pp)),Vf[eg]=jf(Mf.substr(pp))}),km("Hmmss",function(Mf,Vf,tp){var pp=Mf.length-4,Tp=Mf.length-2;Vf[Hg]=jf(Mf.substr(0,pp)),Vf[eg]=jf(Mf.substr(pp,2)),Vf[Pg]=jf(Mf.substr(Tp))});function h_(Mf){return(Mf+"").toLowerCase().charAt(0)==="p"}var d_=/[ap]\.?m?\.?/i;function f_(Mf,Vf,tp){return Mf>11?tp?"pm":"PM":tp?"am":"AM"}var wk=Jv("Hours",!0),Mx={calendar:Cp,longDateFormat:kp,invalidDate:Fp,ordinal:up,dayOfMonthOrdinalParse:Nf,relativeTime:ip,months:J0,monthsShort:Gy,week:vg,weekdays:s0,weekdaysMin:Tx,weekdaysShort:Ny,meridiemParse:d_},x0={},iw={},O1;function Px(Mf){return Mf&&Mf.toLowerCase().replace("_","-")}function B0(Mf){for(var Vf=0,tp,pp,Tp,Hp;Vf<Mf.length;){for(Hp=Px(Mf[Vf]).split("-"),tp=Hp.length,pp=Px(Mf[Vf+1]),pp=pp?pp.split("-"):null;tp>0;){if(Tp=Lw(Hp.slice(0,tp).join("-")),Tp)return Tp;if(pp&&pp.length>=tp&&$f(Hp,pp,!0)>=tp-1)break;tp--}Vf++}return O1}function Lw(Mf){var Vf=null;if(!x0[Mf]&&typeof ot<"u"&&ot&&ot.exports)try{Vf=O1._abbr;var tp=at;(function(){var Tp=new Error('Cannot find module "./locale"');throw Tp.code="MODULE_NOT_FOUND",Tp})(),ky(Vf)}catch{}return x0[Mf]}function ky(Mf,Vf){var tp;return Mf&&(uf(Vf)?tp=db(Mf):tp=Yy(Mf,Vf),tp?O1=tp:typeof console<"u"&&console.warn&&console.warn("Locale "+Mf+" not found. Did you forget to load it?")),O1._abbr}function Yy(Mf,Vf){if(Vf!==null){var tp,pp=Mx;if(Vf.abbr=Mf,x0[Mf]!=null)fp("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),pp=x0[Mf]._config;else if(Vf.parentLocale!=null)if(x0[Vf.parentLocale]!=null)pp=x0[Vf.parentLocale]._config;else if(tp=Lw(Vf.parentLocale),tp!=null)pp=tp._config;else return iw[Vf.parentLocale]||(iw[Vf.parentLocale]=[]),iw[Vf.parentLocale].push({name:Mf,config:Vf}),null;return x0[Mf]=new yp(Pp(pp,Vf)),iw[Mf]&&iw[Mf].forEach(function(Tp){Yy(Tp.name,Tp.config)}),ky(Mf),x0[Mf]}else return delete x0[Mf],null}function kb(Mf,Vf){if(Vf!=null){var tp,pp,Tp=Mx;pp=Lw(Mf),pp!=null&&(Tp=pp._config),Vf=Pp(Tp,Vf),tp=new yp(Vf),tp.parentLocale=x0[Mf],x0[Mf]=tp,ky(Mf)}else x0[Mf]!=null&&(x0[Mf].parentLocale!=null?x0[Mf]=x0[Mf].parentLocale:x0[Mf]!=null&&delete x0[Mf]);return x0[Mf]}function db(Mf){var Vf;if(Mf&&Mf._locale&&Mf._locale._abbr&&(Mf=Mf._locale._abbr),!Mf)return O1;if(!mo(Mf)){if(Vf=Lw(Mf),Vf)return Vf;Mf=[Mf]}return B0(Mf)}function G_(){return Ep(x0)}function Ix(Mf){var Vf,tp=Mf._a;return tp&&gf(Mf).overflow===-2&&(Vf=tp[Gv]<0||tp[Gv]>11?Gv:tp[cy]<1||tp[cy]>Fm(tp[Z0],tp[Gv])?cy:tp[Hg]<0||tp[Hg]>24||tp[Hg]===24&&(tp[eg]!==0||tp[Pg]!==0||tp[Kg]!==0)?Hg:tp[eg]<0||tp[eg]>59?eg:tp[Pg]<0||tp[Pg]>59?Pg:tp[Kg]<0||tp[Kg]>999?Kg:-1,gf(Mf)._overflowDayOfYear&&(Vf<Z0||Vf>cy)&&(Vf=cy),gf(Mf)._overflowWeeks&&Vf===-1&&(Vf=Ev),gf(Mf)._overflowWeekday&&Vf===-1&&(Vf=jv),gf(Mf).overflow=Vf),Mf}function jb(Mf,Vf,tp){return Mf??Vf??tp}function q_(Mf){var Vf=new Date(wt.now());return Mf._useUTC?[Vf.getUTCFullYear(),Vf.getUTCMonth(),Vf.getUTCDate()]:[Vf.getFullYear(),Vf.getMonth(),Vf.getDate()]}function M1(Mf){var Vf,tp,pp=[],Tp,Hp,np;if(!Mf._d){for(Tp=q_(Mf),Mf._w&&Mf._a[cy]==null&&Mf._a[Gv]==null&&By(Mf),Mf._dayOfYear!=null&&(np=jb(Mf._a[Z0],Tp[Z0]),(Mf._dayOfYear>vv(np)||Mf._dayOfYear===0)&&(gf(Mf)._overflowDayOfYear=!0),tp=dy(np,0,Mf._dayOfYear),Mf._a[Gv]=tp.getUTCMonth(),Mf._a[cy]=tp.getUTCDate()),Vf=0;Vf<3&&Mf._a[Vf]==null;++Vf)Mf._a[Vf]=pp[Vf]=Tp[Vf];for(;Vf<7;Vf++)Mf._a[Vf]=pp[Vf]=Mf._a[Vf]==null?Vf===2?1:0:Mf._a[Vf];Mf._a[Hg]===24&&Mf._a[eg]===0&&Mf._a[Pg]===0&&Mf._a[Kg]===0&&(Mf._nextDay=!0,Mf._a[Hg]=0),Mf._d=(Mf._useUTC?dy:qy).apply(null,pp),Hp=Mf._useUTC?Mf._d.getUTCDay():Mf._d.getDay(),Mf._tzm!=null&&Mf._d.setUTCMinutes(Mf._d.getUTCMinutes()-Mf._tzm),Mf._nextDay&&(Mf._a[Hg]=24),Mf._w&&typeof Mf._w.d<"u"&&Mf._w.d!==Hp&&(gf(Mf).weekdayMismatch=!0)}}function By(Mf){var Vf,tp,pp,Tp,Hp,np,jm,Mv;if(Vf=Mf._w,Vf.GG!=null||Vf.W!=null||Vf.E!=null)Hp=1,np=4,tp=jb(Vf.GG,Mf._a[Z0],_p(Vv(),1,4).year),pp=jb(Vf.W,1),Tp=jb(Vf.E,1),(Tp<1||Tp>7)&&(Mv=!0);else{Hp=Mf._locale._week.dow,np=Mf._locale._week.doy;var a0=_p(Vv(),Hp,np);tp=jb(Vf.gg,Mf._a[Z0],a0.year),pp=jb(Vf.w,a0.week),Vf.d!=null?(Tp=Vf.d,(Tp<0||Tp>6)&&(Mv=!0)):Vf.e!=null?(Tp=Vf.e+Hp,(Vf.e<0||Vf.e>6)&&(Mv=!0)):Tp=Hp}pp<1||pp>Lp(tp,Hp,np)?gf(Mf)._overflowWeeks=!0:Mv!=null?gf(Mf)._overflowWeekday=!0:(jm=Dy(tp,pp,Tp,Hp,np),Mf._a[Z0]=jm.year,Mf._dayOfYear=jm.dayOfYear)}var Cy=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Rw=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xE=/Z|[+-]\d\d(?::?\d\d)?/,p_=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Dw=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],nw=/^\/?Date\((\-?\d+)/i;function Y_(Mf){var Vf,tp,pp=Mf._i,Tp=Cy.exec(pp)||Rw.exec(pp),Hp,np,jm,Mv;if(Tp){for(gf(Mf).iso=!0,Vf=0,tp=p_.length;Vf<tp;Vf++)if(p_[Vf][1].exec(Tp[1])){np=p_[Vf][0],Hp=p_[Vf][2]!==!1;break}if(np==null){Mf._isValid=!1;return}if(Tp[3]){for(Vf=0,tp=Dw.length;Vf<tp;Vf++)if(Dw[Vf][1].exec(Tp[3])){jm=(Tp[2]||" ")+Dw[Vf][0];break}if(jm==null){Mf._isValid=!1;return}}if(!Hp&&jm!=null){Mf._isValid=!1;return}if(Tp[4])if(xE.exec(Tp[4]))Mv="Z";else{Mf._isValid=!1;return}Mf._f=np+(jm||"")+(Mv||""),k0(Mf)}else Mf._isValid=!1}var g_=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function ey(Mf,Vf,tp,pp,Tp,Hp){var np=[EE(Mf),Gy.indexOf(Vf),parseInt(tp,10),parseInt(pp,10),parseInt(Tp,10)];return Hp&&np.push(parseInt(Hp,10)),np}function EE(Mf){var Vf=parseInt(Mf,10);return Vf<=49?2e3+Vf:Vf<=999?1900+Vf:Vf}function E0(Mf){return Mf.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Hb(Mf,Vf,tp){if(Mf){var pp=Ny.indexOf(Mf),Tp=new Date(Vf[0],Vf[1],Vf[2]).getDay();if(pp!==Tp)return gf(tp).weekdayMismatch=!0,tp._isValid=!1,!1}return!0}var ow={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function sw(Mf,Vf,tp){if(Mf)return ow[Mf];if(Vf)return 0;var pp=parseInt(tp,10),Tp=pp%100,Hp=(pp-Tp)/100;return Hp*60+Tp}function aw(Mf){var Vf=g_.exec(E0(Mf._i));if(Vf){var tp=ey(Vf[4],Vf[3],Vf[2],Vf[5],Vf[6],Vf[7]);if(!Hb(Vf[1],tp,Mf))return;Mf._a=tp,Mf._tzm=sw(Vf[8],Vf[9],Vf[10]),Mf._d=dy.apply(null,Mf._a),Mf._d.setUTCMinutes(Mf._d.getUTCMinutes()-Mf._tzm),gf(Mf).rfc2822=!0}else Mf._isValid=!1}function Z_(Mf){var Vf=nw.exec(Mf._i);if(Vf!==null){Mf._d=new Date(+Vf[1]);return}if(Y_(Mf),Mf._isValid===!1)delete Mf._isValid;else return;if(aw(Mf),Mf._isValid===!1)delete Mf._isValid;else return;wt.createFromInputFallback(Mf)}wt.createFromInputFallback=Xf("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(Mf){Mf._d=new Date(Mf._i+(Mf._useUTC?" UTC":""))}),wt.ISO_8601=function(){},wt.RFC_2822=function(){};function k0(Mf){if(Mf._f===wt.ISO_8601){Y_(Mf);return}if(Mf._f===wt.RFC_2822){aw(Mf);return}Mf._a=[],gf(Mf).empty=!0;var Vf=""+Mf._i,tp,pp,Tp,Hp,np,jm=Vf.length,Mv=0;for(Tp=hm(Mf._f,Mf._locale).match(Ip)||[],tp=0;tp<Tp.length;tp++)Hp=Tp[tp],pp=(Vf.match(R0(Hp,Mf))||[])[0],pp&&(np=Vf.substr(0,Vf.indexOf(pp)),np.length>0&&gf(Mf).unusedInput.push(np),Vf=Vf.slice(Vf.indexOf(pp)+pp.length),Mv+=pp.length),sg[Hp]?(pp?gf(Mf).empty=!1:gf(Mf).unusedTokens.push(Hp),ob(Hp,pp,Mf)):Mf._strict&&!pp&&gf(Mf).unusedTokens.push(Hp);gf(Mf).charsLeftOver=jm-Mv,Vf.length>0&&gf(Mf).unusedInput.push(Vf),Mf._a[Hg]<=12&&gf(Mf).bigHour===!0&&Mf._a[Hg]>0&&(gf(Mf).bigHour=void 0),gf(Mf).parsedDateParts=Mf._a.slice(0),gf(Mf).meridiem=Mf._meridiem,Mf._a[Hg]=Lx(Mf._locale,Mf._a[Hg],Mf._meridiem),M1(Mf),Ix(Mf)}function Lx(Mf,Vf,tp){var pp;return tp==null?Vf:Mf.meridiemHour!=null?Mf.meridiemHour(Vf,tp):(Mf.isPM!=null&&(pp=Mf.isPM(tp),pp&&Vf<12&&(Vf+=12),!pp&&Vf===12&&(Vf=0)),Vf)}function Nv(Mf){var Vf,tp,pp,Tp,Hp;if(Mf._f.length===0){gf(Mf).invalidFormat=!0,Mf._d=new Date(NaN);return}for(Tp=0;Tp<Mf._f.length;Tp++)Hp=0,Vf=bf({},Mf),Mf._useUTC!=null&&(Vf._useUTC=Mf._useUTC),Vf._f=Mf._f[Tp],k0(Vf),yf(Vf)&&(Hp+=gf(Vf).charsLeftOver,Hp+=gf(Vf).unusedTokens.length*10,gf(Vf).score=Hp,(pp==null||Hp<pp)&&(pp=Hp,tp=Vf));_f(Mf,tp||Vf)}function Zy(Mf){if(!Mf._d){var Vf=Rp(Mf._i);Mf._a=wo([Vf.year,Vf.month,Vf.day||Vf.date,Vf.hour,Vf.minute,Vf.second,Vf.millisecond],function(tp){return tp&&parseInt(tp,10)}),M1(Mf)}}function Nw(Mf){var Vf=new Pf(Ix(C0(Mf)));return Vf._nextDay&&(Vf.add(1,"d"),Vf._nextDay=void 0),Vf}function C0(Mf){var Vf=Mf._i,tp=Mf._f;return Mf._locale=Mf._locale||db(Mf._l),Vf===null||tp===void 0&&Vf===""?Sf({nullInput:!0}):(typeof Vf=="string"&&(Mf._i=Vf=Mf._locale.preparse(Vf)),Df(Vf)?new Pf(Ix(Vf)):(wf(Vf)?Mf._d=Vf:mo(tp)?Nv(Mf):tp?k0(Mf):S0(Mf),yf(Mf)||(Mf._d=null),Mf))}function S0(Mf){var Vf=Mf._i;uf(Vf)?Mf._d=new Date(wt.now()):wf(Vf)?Mf._d=new Date(Vf.valueOf()):typeof Vf=="string"?Z_(Mf):mo(Vf)?(Mf._a=wo(Vf.slice(0),function(tp){return parseInt(tp,10)}),M1(Mf)):yo(Vf)?Zy(Mf):df(Vf)?Mf._d=new Date(Vf):wt.createFromInputFallback(Mf)}function fb(Mf,Vf,tp,pp,Tp){var Hp={};return(tp===!0||tp===!1)&&(pp=tp,tp=void 0),(yo(Mf)&&lf(Mf)||mo(Mf)&&Mf.length===0)&&(Mf=void 0),Hp._isAMomentObject=!0,Hp._useUTC=Hp._isUTC=Tp,Hp._l=tp,Hp._i=Mf,Hp._f=Vf,Hp._strict=pp,Nw(Hp)}function Vv(Mf,Vf,tp,pp){return fb(Mf,Vf,tp,pp,!1)}var Bw=Xf("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var Mf=Vv.apply(null,arguments);return this.isValid()&&Mf.isValid()?Mf<this?this:Mf:Sf()}),X_=Xf("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var Mf=Vv.apply(null,arguments);return this.isValid()&&Mf.isValid()?Mf>this?this:Mf:Sf()});function P1(Mf,Vf){var tp,pp;if(Vf.length===1&&mo(Vf[0])&&(Vf=Vf[0]),!Vf.length)return Vv();for(tp=Vf[0],pp=1;pp<Vf.length;++pp)(!Vf[pp].isValid()||Vf[pp][Mf](tp))&&(tp=Vf[pp]);return tp}function Rx(){var Mf=[].slice.call(arguments,0);return P1("isBefore",Mf)}function s1(){var Mf=[].slice.call(arguments,0);return P1("isAfter",Mf)}var K_=function(){return Date.now?Date.now():+new Date},m_=["year","quarter","month","week","day","hour","minute","second","millisecond"];function J_(Mf){for(var Vf in Mf)if(!(ov.call(m_,Vf)!==-1&&(Mf[Vf]==null||!isNaN(Mf[Vf]))))return!1;for(var tp=!1,pp=0;pp<m_.length;++pp)if(Mf[m_[pp]]){if(tp)return!1;parseFloat(Mf[m_[pp]])!==jf(Mf[m_[pp]])&&(tp=!0)}return!0}function _k(){return this._isValid}function a1(){return kv(NaN)}function $w(Mf){var Vf=Rp(Mf),tp=Vf.year||0,pp=Vf.quarter||0,Tp=Vf.month||0,Hp=Vf.week||Vf.isoWeek||0,np=Vf.day||0,jm=Vf.hour||0,Mv=Vf.minute||0,a0=Vf.second||0,qb=Vf.millisecond||0;this._isValid=J_(Vf),this._milliseconds=+qb+a0*1e3+Mv*6e4+jm*1e3*60*60,this._days=+np+Hp*7,this._months=+Tp+pp*3+tp*12,this._data={},this._locale=db(),this._bubble()}function I1(Mf){return Mf instanceof $w}function Dx(Mf){return Mf<0?Math.round(-1*Mf)*-1:Math.round(Mf)}function Zv(Mf,Vf){mg(Mf,0,0,function(){var tp=this.utcOffset(),pp="+";return tp<0&&(tp=-tp,pp="-"),pp+Ap(~~(tp/60),2)+Vf+Ap(~~tp%60,2)})}Zv("Z",":"),Zv("ZZ",""),em("Z",r0),em("ZZ",r0),km(["Z","ZZ"],function(Mf,Vf,tp){tp._useUTC=!0,tp._tzm=lw(r0,Mf)});var Q_=/([\+\-]|\d\d)/gi;function lw(Mf,Vf){var tp=(Vf||"").match(Mf);if(tp===null)return null;var pp=tp[tp.length-1]||[],Tp=(pp+"").match(Q_)||["-",0,0],Hp=+(Tp[1]*60)+jf(Tp[2]);return Hp===0?0:Tp[0]==="+"?Hp:-Hp}function fy(Mf,Vf){var tp,pp;return Vf._isUTC?(tp=Vf.clone(),pp=(Df(Mf)||wf(Mf)?Mf.valueOf():Vv(Mf).valueOf())-tp.valueOf(),tp._d.setTime(tp._d.valueOf()+pp),wt.updateOffset(tp,!1),tp):Vv(Mf).local()}function py(Mf){return-Math.round(Mf._d.getTimezoneOffset()/15)*15}wt.updateOffset=function(){};function Vb(Mf,Vf,tp){var pp=this._offset||0,Tp;if(!this.isValid())return Mf!=null?this:NaN;if(Mf!=null){if(typeof Mf=="string"){if(Mf=lw(r0,Mf),Mf===null)return this}else Math.abs(Mf)<16&&!tp&&(Mf=Mf*60);return!this._isUTC&&Vf&&(Tp=py(this)),this._offset=Mf,this._isUTC=!0,Tp!=null&&this.add(Tp,"m"),pp!==Mf&&(!Vf||this._changeInProgress?tx(this,kv(Mf-pp,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,wt.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?pp:py(this)}function uw(Mf,Vf){return Mf!=null?(typeof Mf!="string"&&(Mf=-Mf),this.utcOffset(Mf,Vf),this):-this.utcOffset()}function cw(Mf){return this.utcOffset(0,Mf)}function v_(Mf){return this._isUTC&&(this.utcOffset(0,Mf),this._isUTC=!1,Mf&&this.subtract(py(this),"m")),this}function y_(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var Mf=lw(Y0,this._i);Mf!=null?this.utcOffset(Mf):this.utcOffset(0,!0)}return this}function ex(Mf){return this.isValid()?(Mf=Mf?Vv(Mf).utcOffset():0,(this.utcOffset()-Mf)%60===0):!1}function xk(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function l1(){if(!uf(this._isDSTShifted))return this._isDSTShifted;var Mf={};if(bf(Mf,this),Mf=C0(Mf),Mf._a){var Vf=Mf._isUTC?po(Mf._a):Vv(Mf._a);this._isDSTShifted=this.isValid()&&$f(Mf._a,Vf.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ek(){return this.isValid()?!this._isUTC:!1}function Nx(){return this.isValid()?this._isUTC:!1}function b_(){return this.isValid()?this._isUTC&&this._offset===0:!1}var i0=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,kE=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function kv(Mf,Vf){var tp=Mf,pp=null,Tp,Hp,np;return I1(Mf)?tp={ms:Mf._milliseconds,d:Mf._days,M:Mf._months}:df(Mf)?(tp={},Vf?tp[Vf]=Mf:tp.milliseconds=Mf):(pp=i0.exec(Mf))?(Tp=pp[1]==="-"?-1:1,tp={y:0,d:jf(pp[cy])*Tp,h:jf(pp[Hg])*Tp,m:jf(pp[eg])*Tp,s:jf(pp[Pg])*Tp,ms:jf(Dx(pp[Kg]*1e3))*Tp}):(pp=kE.exec(Mf))?(Tp=pp[1]==="-"?-1:1,tp={y:pb(pp[2],Tp),M:pb(pp[3],Tp),w:pb(pp[4],Tp),d:pb(pp[5],Tp),h:pb(pp[6],Tp),m:pb(pp[7],Tp),s:pb(pp[8],Tp)}):tp==null?tp={}:typeof tp=="object"&&("from"in tp||"to"in tp)&&(np=L1(Vv(tp.from),Vv(tp.to)),tp={},tp.ms=np.milliseconds,tp.M=np.months),Hp=new $w(tp),I1(Mf)&&ls(Mf,"_locale")&&(Hp._locale=Mf._locale),Hp}kv.fn=$w.prototype,kv.invalid=a1;function pb(Mf,Vf){var tp=Mf&&parseFloat(Mf.replace(",","."));return(isNaN(tp)?0:tp)*Vf}function Cb(Mf,Vf){var tp={milliseconds:0,months:0};return tp.months=Vf.month()-Mf.month()+(Vf.year()-Mf.year())*12,Mf.clone().add(tp.months,"M").isAfter(Vf)&&--tp.months,tp.milliseconds=+Vf-+Mf.clone().add(tp.months,"M"),tp}function L1(Mf,Vf){var tp;return Mf.isValid()&&Vf.isValid()?(Vf=fy(Vf,Mf),Mf.isBefore(Vf)?tp=Cb(Mf,Vf):(tp=Cb(Vf,Mf),tp.milliseconds=-tp.milliseconds,tp.months=-tp.months),tp):{milliseconds:0,months:0}}function Bx(Mf,Vf){return function(tp,pp){var Tp,Hp;return pp!==null&&!isNaN(+pp)&&(fp(Vf,"moment()."+Vf+"(period, number) is deprecated. Please use moment()."+Vf+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Hp=tp,tp=pp,pp=Hp),tp=typeof tp=="string"?+tp:tp,Tp=kv(tp,pp),tx(this,Tp,Mf),this}}function tx(Mf,Vf,tp,pp){var Tp=Vf._milliseconds,Hp=Dx(Vf._days),np=Dx(Vf._months);Mf.isValid()&&(pp=pp??!0,np&&o1(Mf,n1(Mf,"Month")+np*tp),Hp&&Ry(Mf,"Date",n1(Mf,"Date")+Hp*tp),Tp&&Mf._d.setTime(Mf._d.valueOf()+Tp*tp),pp&&wt.updateOffset(Mf,Hp||np))}var rx=Bx(1,"add"),w_=Bx(-1,"subtract");function CE(Mf,Vf){var tp=Mf.diff(Vf,"days",!0);return tp<-6?"sameElse":tp<-1?"lastWeek":tp<0?"lastDay":tp<1?"sameDay":tp<2?"nextDay":tp<7?"nextWeek":"sameElse"}function R1(Mf,Vf){var tp=Mf||Vv(),pp=fy(tp,this).startOf("day"),Tp=wt.calendarFormat(this,pp)||"sameElse",Hp=Vf&&(Mp(Vf[Tp])?Vf[Tp].call(this,tp):Vf[Tp]);return this.format(Hp||this.localeData().calendar(Tp,this,Vv(tp)))}function __(){return new Pf(this)}function Fw(Mf,Vf){var tp=Df(Mf)?Mf:Vv(Mf);return this.isValid()&&tp.isValid()?(Vf=zp(Vf)||"millisecond",Vf==="millisecond"?this.valueOf()>tp.valueOf():tp.valueOf()<this.clone().startOf(Vf).valueOf()):!1}function $x(Mf,Vf){var tp=Df(Mf)?Mf:Vv(Mf);return this.isValid()&&tp.isValid()?(Vf=zp(Vf)||"millisecond",Vf==="millisecond"?this.valueOf()<tp.valueOf():this.clone().endOf(Vf).valueOf()<tp.valueOf()):!1}function Sb(Mf,Vf,tp,pp){var Tp=Df(Mf)?Mf:Vv(Mf),Hp=Df(Vf)?Vf:Vv(Vf);return this.isValid()&&Tp.isValid()&&Hp.isValid()?(pp=pp||"()",(pp[0]==="("?this.isAfter(Tp,tp):!this.isBefore(Tp,tp))&&(pp[1]===")"?this.isBefore(Hp,tp):!this.isAfter(Hp,tp))):!1}function ix(Mf,Vf){var tp=Df(Mf)?Mf:Vv(Mf),pp;return this.isValid()&&tp.isValid()?(Vf=zp(Vf)||"millisecond",Vf==="millisecond"?this.valueOf()===tp.valueOf():(pp=tp.valueOf(),this.clone().startOf(Vf).valueOf()<=pp&&pp<=this.clone().endOf(Vf).valueOf())):!1}function nx(Mf,Vf){return this.isSame(Mf,Vf)||this.isAfter(Mf,Vf)}function D1(Mf,Vf){return this.isSame(Mf,Vf)||this.isBefore(Mf,Vf)}function $y(Mf,Vf,tp){var pp,Tp,Hp;if(!this.isValid())return NaN;if(pp=fy(Mf,this),!pp.isValid())return NaN;switch(Tp=(pp.utcOffset()-this.utcOffset())*6e4,Vf=zp(Vf),Vf){case"year":Hp=zw(this,pp)/12;break;case"month":Hp=zw(this,pp);break;case"quarter":Hp=zw(this,pp)/3;break;case"second":Hp=(this-pp)/1e3;break;case"minute":Hp=(this-pp)/6e4;break;case"hour":Hp=(this-pp)/36e5;break;case"day":Hp=(this-pp-Tp)/864e5;break;case"week":Hp=(this-pp-Tp)/6048e5;break;default:Hp=this-pp}return tp?Hp:zf(Hp)}function zw(Mf,Vf){var tp=(Vf.year()-Mf.year())*12+(Vf.month()-Mf.month()),pp=Mf.clone().add(tp,"months"),Tp,Hp;return Vf-pp<0?(Tp=Mf.clone().add(tp-1,"months"),Hp=(Vf-pp)/(pp-Tp)):(Tp=Mf.clone().add(tp+1,"months"),Hp=(Vf-pp)/(Tp-pp)),-(tp+Hp)||0}wt.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",wt.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function jw(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Fx(Mf){if(!this.isValid())return null;var Vf=Mf!==!0,tp=Vf?this.clone().utc():this;return tp.year()<0||tp.year()>9999?im(tp,Vf?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Mp(Date.prototype.toISOString)?Vf?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",im(tp,"Z")):im(tp,Vf?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ox(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var Mf="moment",Vf="";this.isLocal()||(Mf=this.utcOffset()===0?"moment.utc":"moment.parseZone",Vf="Z");var tp="["+Mf+'("]',pp=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",Tp="-MM-DD[T]HH:mm:ss.SSS",Hp=Vf+'[")]';return this.format(tp+pp+Tp+Hp)}function SE(Mf){Mf||(Mf=this.isUtc()?wt.defaultFormatUtc:wt.defaultFormat);var Vf=im(this,Mf);return this.localeData().postformat(Vf)}function sx(Mf,Vf){return this.isValid()&&(Df(Mf)&&Mf.isValid()||Vv(Mf).isValid())?kv({to:this,from:Mf}).locale(this.locale()).humanize(!Vf):this.localeData().invalidDate()}function Hw(Mf){return this.from(Vv(),Mf)}function x_(Mf,Vf){return this.isValid()&&(Df(Mf)&&Mf.isValid()||Vv(Mf).isValid())?kv({from:this,to:Mf}).locale(this.locale()).humanize(!Vf):this.localeData().invalidDate()}function TE(Mf){return this.to(Vv(),Mf)}function N1(Mf){var Vf;return Mf===void 0?this._locale._abbr:(Vf=db(Mf),Vf!=null&&(this._locale=Vf),this)}var AE=Xf("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(Mf){return Mf===void 0?this.localeData():this.locale(Mf)});function ax(){return this._locale}function Vw(Mf){switch(Mf=zp(Mf),Mf){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return Mf==="week"&&this.weekday(0),Mf==="isoWeek"&&this.isoWeekday(1),Mf==="quarter"&&this.month(Math.floor(this.month()/3)*3),this}function Uw(Mf){return Mf=zp(Mf),Mf===void 0||Mf==="millisecond"?this:(Mf==="date"&&(Mf="day"),this.startOf(Mf).add(1,Mf==="isoWeek"?"week":Mf).subtract(1,"ms"))}function fo(){return this._d.valueOf()-(this._offset||0)*6e4}function Ef(){return Math.floor(this.valueOf()/1e3)}function Lf(){return new Date(this.valueOf())}function Wf(){var Mf=this;return[Mf.year(),Mf.month(),Mf.date(),Mf.hour(),Mf.minute(),Mf.second(),Mf.millisecond()]}function Qf(){var Mf=this;return{years:Mf.year(),months:Mf.month(),date:Mf.date(),hours:Mf.hours(),minutes:Mf.minutes(),seconds:Mf.seconds(),milliseconds:Mf.milliseconds()}}function wp(){return this.isValid()?this.toISOString():null}function Kp(){return yf(this)}function ug(){return _f({},gf(this))}function bg(){return gf(this).overflow}function Tg(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}mg(0,["gg",2],0,function(){return this.weekYear()%100}),mg(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Wg(Mf,Vf){mg(0,[Mf,Mf.length],0,Vf)}Wg("gggg","weekYear"),Wg("ggggg","weekYear"),Wg("GGGG","isoWeekYear"),Wg("GGGGG","isoWeekYear"),bp("weekYear","gg"),bp("isoWeekYear","GG"),Zp("weekYear",1),Zp("isoWeekYear",1),em("G",um),em("g",um),em("GG",Dg,cp),em("gg",Dg,cp),em("GGGG",wm,qp),em("gggg",wm,qp),em("GGGGG",pm,Ag),em("ggggg",pm,Ag),D0(["gggg","ggggg","GGGG","GGGGG"],function(Mf,Vf,tp,pp){Vf[pp.substr(0,2)]=jf(Mf)}),D0(["gg","GG"],function(Mf,Vf,tp,pp){Vf[pp]=wt.parseTwoDigitYear(Mf)});function xm(Mf){return ty.call(this,Mf,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Vm(Mf){return ty.call(this,Mf,this.isoWeek(),this.isoWeekday(),1,4)}function gy(){return Lp(this.year(),1,4)}function p0(){var Mf=this.localeData()._week;return Lp(this.year(),Mf.dow,Mf.doy)}function ty(Mf,Vf,tp,pp,Tp){var Hp;return Mf==null?_p(this,pp,Tp).year:(Hp=Lp(Mf,pp,Tp),Vf>Hp&&(Vf=Hp),Sy.call(this,Mf,Vf,tp,pp,Tp))}function Sy(Mf,Vf,tp,pp,Tp){var Hp=Dy(Mf,Vf,tp,pp,Tp),np=dy(Hp.year,0,Hp.dayOfYear);return this.year(np.getUTCFullYear()),this.month(np.getUTCMonth()),this.date(np.getUTCDate()),this}mg("Q",0,"Qo","quarter"),bp("quarter","Q"),Zp("quarter",7),em("Q",dp),km("Q",function(Mf,Vf){Vf[Gv]=(jf(Mf)-1)*3});function B1(Mf){return Mf==null?Math.ceil((this.month()+1)/3):this.month((Mf-1)*3+this.month()%3)}mg("D",["DD",2],"Do","date"),bp("date","D"),Zp("date",9),em("D",Dg),em("DD",Dg,cp),em("Do",function(Mf,Vf){return Mf?Vf._dayOfMonthOrdinalParse||Vf._ordinalParse:Vf._dayOfMonthOrdinalParseLenient}),km(["D","DD"],cy),km("Do",function(Mf,Vf){Vf[cy]=jf(Mf.match(Dg)[0])});var zx=Jv("Date",!0);mg("DDD",["DDDD",3],"DDDo","dayOfYear"),bp("dayOfYear","DDD"),Zp("dayOfYear",4),em("DDD",Zg),em("DDDD",Vp),km(["DDD","DDDD"],function(Mf,Vf,tp){tp._dayOfYear=jf(Mf)});function jx(Mf){var Vf=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return Mf==null?Vf:this.add(Mf-Vf,"d")}mg("m",["mm",2],0,"minute"),bp("minute","m"),Zp("minute",14),em("m",Dg),em("mm",Dg,cp),km(["m","mm"],eg);var hw=Jv("Minutes",!1);mg("s",["ss",2],0,"second"),bp("second","s"),Zp("second",15),em("s",Dg),em("ss",Dg,cp),km(["s","ss"],Pg);var dw=Jv("Seconds",!1);mg("S",0,0,function(){return~~(this.millisecond()/100)}),mg(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),mg(0,["SSS",3],0,"millisecond"),mg(0,["SSSS",4],0,function(){return this.millisecond()*10}),mg(0,["SSSSS",5],0,function(){return this.millisecond()*100}),mg(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),mg(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),mg(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),mg(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),bp("millisecond","ms"),Zp("millisecond",16),em("S",Zg,dp),em("SS",Zg,cp),em("SSS",Zg,Vp);var Ub;for(Ub="SSSS";Ub.length<=9;Ub+="S")em(Ub,bv);function u1(Mf,Vf){Vf[Kg]=jf(("0."+Mf)*1e3)}for(Ub="S";Ub.length<=9;Ub+="S")km(Ub,u1);var g0=Jv("Milliseconds",!1);mg("z",0,0,"zoneAbbr"),mg("zz",0,0,"zoneName");function E_(){return this._isUTC?"UTC":""}function OE(){return this._isUTC?"Coordinated Universal Time":""}var Ng=Pf.prototype;Ng.add=rx,Ng.calendar=R1,Ng.clone=__,Ng.diff=$y,Ng.endOf=Uw,Ng.format=SE,Ng.from=sx,Ng.fromNow=Hw,Ng.to=x_,Ng.toNow=TE,Ng.get=N0,Ng.invalidAt=bg,Ng.isAfter=Fw,Ng.isBefore=$x,Ng.isBetween=Sb,Ng.isSame=ix,Ng.isSameOrAfter=nx,Ng.isSameOrBefore=D1,Ng.isValid=Kp,Ng.lang=AE,Ng.locale=N1,Ng.localeData=ax,Ng.max=X_,Ng.min=Bw,Ng.parsingFlags=ug,Ng.set=Fb,Ng.startOf=Vw,Ng.subtract=w_,Ng.toArray=Wf,Ng.toObject=Qf,Ng.toDate=Lf,Ng.toISOString=Fx,Ng.inspect=ox,Ng.toJSON=wp,Ng.toString=jw,Ng.unix=Ef,Ng.valueOf=fo,Ng.creationData=Tg,Ng.year=hy,Ng.isLeapYear=Ly,Ng.weekYear=xm,Ng.isoWeekYear=Vm,Ng.quarter=Ng.quarters=B1,Ng.month=nm,Ng.daysInMonth=Cm,Ng.week=Ng.weeks=Dm,Ng.isoWeek=Ng.isoWeeks=qv,Ng.weeksInYear=p0,Ng.isoWeeksInYear=gy,Ng.date=zx,Ng.day=Ng.days=cb,Ng.weekday=f0,Ng.isoWeekday=A1,Ng.dayOfYear=jx,Ng.hour=Ng.hours=wk,Ng.minute=Ng.minutes=hw,Ng.second=Ng.seconds=dw,Ng.millisecond=Ng.milliseconds=g0,Ng.utcOffset=Vb,Ng.utc=cw,Ng.local=v_,Ng.parseZone=y_,Ng.hasAlignedHourOffset=ex,Ng.isDST=xk,Ng.isLocal=Ek,Ng.isUtcOffset=Nx,Ng.isUtc=b_,Ng.isUTC=b_,Ng.zoneAbbr=E_,Ng.zoneName=OE,Ng.dates=Xf("dates accessor is deprecated. Use date instead.",zx),Ng.months=Xf("months accessor is deprecated. Use month instead",nm),Ng.years=Xf("years accessor is deprecated. Use year instead",hy),Ng.zone=Xf("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",uw),Ng.isDSTShifted=Xf("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",l1);function lx(Mf){return Vv(Mf*1e3)}function k_(){return Vv.apply(null,arguments).parseZone()}function C_(Mf){return Mf}var Tv=yp.prototype;Tv.calendar=$p,Tv.longDateFormat=Dp,Tv.invalidDate=Sp,Tv.ordinal=Jf,Tv.preparse=C_,Tv.postformat=C_,Tv.relativeTime=ap,Tv.pastFuture=Op,Tv.set=Np,Tv.months=ab,Tv.monthsShort=lb,Tv.monthsParse=dm,Tv.monthsRegex=Qv,Tv.monthsShortRegex=zb,Tv.week=Xp,Tv.firstDayOfYear=Xg,Tv.firstDayOfWeek=Og,Tv.weekdays=_m,Tv.weekdaysMin=c_,Tv.weekdaysShort=Sx,Tv.weekdaysParse=Ax,Tv.weekdaysRegex=wE,Tv.weekdaysShortRegex=_E,Tv.weekdaysMinRegex=xy,Tv.isPM=h_,Tv.meridiem=f_;function ux(Mf,Vf,tp,pp){var Tp=db(),Hp=po().set(pp,Vf);return Tp[tp](Hp,Mf)}function S_(Mf,Vf,tp){if(df(Mf)&&(Vf=Mf,Mf=void 0),Mf=Mf||"",Vf!=null)return ux(Mf,Vf,tp,"month");var pp,Tp=[];for(pp=0;pp<12;pp++)Tp[pp]=ux(Mf,pp,tp,"month");return Tp}function Hx(Mf,Vf,tp,pp){typeof Mf=="boolean"?(df(Vf)&&(tp=Vf,Vf=void 0),Vf=Vf||""):(Vf=Mf,tp=Vf,Mf=!1,df(Vf)&&(tp=Vf,Vf=void 0),Vf=Vf||"");var Tp=db(),Hp=Mf?Tp._week.dow:0;if(tp!=null)return ux(Vf,(tp+Hp)%7,pp,"day");var np,jm=[];for(np=0;np<7;np++)jm[np]=ux(Vf,(np+Hp)%7,pp,"day");return jm}function Ov(Mf,Vf){return S_(Mf,Vf,"months")}function fw(Mf,Vf){return S_(Mf,Vf,"monthsShort")}function Vx(Mf,Vf,tp){return Hx(Mf,Vf,tp,"weekdays")}function pw(Mf,Vf,tp){return Hx(Mf,Vf,tp,"weekdaysShort")}function ME(Mf,Vf,tp){return Hx(Mf,Vf,tp,"weekdaysMin")}ky("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(Mf){var Vf=Mf%10,tp=jf(Mf%100/10)===1?"th":Vf===1?"st":Vf===2?"nd":Vf===3?"rd":"th";return Mf+tp}}),wt.lang=Xf("moment.lang is deprecated. Use moment.locale instead.",ky),wt.langData=Xf("moment.langData is deprecated. Use moment.localeData instead.",db);var Fy=Math.abs;function kk(){var Mf=this._data;return this._milliseconds=Fy(this._milliseconds),this._days=Fy(this._days),this._months=Fy(this._months),Mf.milliseconds=Fy(Mf.milliseconds),Mf.seconds=Fy(Mf.seconds),Mf.minutes=Fy(Mf.minutes),Mf.hours=Fy(Mf.hours),Mf.months=Fy(Mf.months),Mf.years=Fy(Mf.years),this}function Ck(Mf,Vf,tp,pp){var Tp=kv(Vf,tp);return Mf._milliseconds+=pp*Tp._milliseconds,Mf._days+=pp*Tp._days,Mf._months+=pp*Tp._months,Mf._bubble()}function Wb(Mf,Vf){return Ck(this,Mf,Vf,1)}function Ww(Mf,Vf){return Ck(this,Mf,Vf,-1)}function m0(Mf){return Mf<0?Math.floor(Mf):Math.ceil(Mf)}function c1(){var Mf=this._milliseconds,Vf=this._days,tp=this._months,pp=this._data,Tp,Hp,np,jm,Mv;return Mf>=0&&Vf>=0&&tp>=0||Mf<=0&&Vf<=0&&tp<=0||(Mf+=m0(Zm(tp)+Vf)*864e5,Vf=0,tp=0),pp.milliseconds=Mf%1e3,Tp=zf(Mf/1e3),pp.seconds=Tp%60,Hp=zf(Tp/60),pp.minutes=Hp%60,np=zf(Hp/60),pp.hours=np%24,Vf+=zf(np/24),Mv=zf(Nm(Vf)),tp+=Mv,Vf-=m0(Zm(Mv)),jm=zf(tp/12),tp%=12,pp.days=Vf,pp.months=tp,pp.years=jm,this}function Nm(Mf){return Mf*4800/146097}function Zm(Mf){return Mf*146097/4800}function Jm(Mf){if(!this.isValid())return NaN;var Vf,tp,pp=this._milliseconds;if(Mf=zp(Mf),Mf==="month"||Mf==="year")return Vf=this._days+pp/864e5,tp=this._months+Nm(Vf),Mf==="month"?tp:tp/12;switch(Vf=this._days+Math.round(Zm(this._months)),Mf){case"week":return Vf/7+pp/6048e5;case"day":return Vf+pp/864e5;case"hour":return Vf*24+pp/36e5;case"minute":return Vf*1440+pp/6e4;case"second":return Vf*86400+pp/1e3;case"millisecond":return Math.floor(Vf*864e5)+pp;default:throw new Error("Unknown unit "+Mf)}}function Um(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+jf(this._months/12)*31536e6:NaN}function Mm(Mf){return function(){return this.as(Mf)}}var sv=Mm("ms"),av=Mm("s"),Qm=Mm("m"),Wm=Mm("h"),lv=Mm("d"),uv=Mm("w"),cv=Mm("M"),hv=Mm("y");function bm(){return kv(this)}function ev(Mf){return Mf=zp(Mf),this.isValid()?this[Mf+"s"]():NaN}function Rm(Mf){return function(){return this.isValid()?this._data[Mf]:NaN}}var dv=Rm("milliseconds"),Bm=Rm("seconds"),fv=Rm("minutes"),pv=Rm("hours"),gv=Rm("days"),Gm=Rm("months"),mv=Rm("years");function tv(){return zf(this.days()/7)}var $1=Math.round,Gb={ss:44,s:45,m:45,h:22,d:26,M:11};function PE(Mf,Vf,tp,pp,Tp){return Tp.relativeTime(Vf||1,!!tp,Mf,pp)}function Sk(Mf,Vf,tp){var pp=kv(Mf).abs(),Tp=$1(pp.as("s")),Hp=$1(pp.as("m")),np=$1(pp.as("h")),jm=$1(pp.as("d")),Mv=$1(pp.as("M")),a0=$1(pp.as("y")),qb=Tp<=Gb.ss&&["s",Tp]||Tp<Gb.s&&["ss",Tp]||Hp<=1&&["m"]||Hp<Gb.m&&["mm",Hp]||np<=1&&["h"]||np<Gb.h&&["hh",np]||jm<=1&&["d"]||jm<Gb.d&&["dd",jm]||Mv<=1&&["M"]||Mv<Gb.M&&["MM",Mv]||a0<=1&&["y"]||["yy",a0];return qb[2]=Vf,qb[3]=+Mf>0,qb[4]=tp,PE.apply(null,qb)}function Tk(Mf){return Mf===void 0?$1:typeof Mf=="function"?($1=Mf,!0):!1}function Ak(Mf,Vf){return Gb[Mf]===void 0?!1:Vf===void 0?Gb[Mf]:(Gb[Mf]=Vf,Mf==="s"&&(Gb.ss=Vf-1),!0)}function Ok(Mf){if(!this.isValid())return this.localeData().invalidDate();var Vf=this.localeData(),tp=Sk(this,!Mf,Vf);return Mf&&(tp=Vf.pastFuture(+this,tp)),Vf.postformat(tp)}var Ux=Math.abs;function Gg(Mf){return(Mf>0)-(Mf<0)||+Mf}function qg(){if(!this.isValid())return this.localeData().invalidDate();var Mf=Ux(this._milliseconds)/1e3,Vf=Ux(this._days),tp=Ux(this._months),pp,Tp,Hp;pp=zf(Mf/60),Tp=zf(pp/60),Mf%=60,pp%=60,Hp=zf(tp/12),tp%=12;var np=Hp,jm=tp,Mv=Vf,a0=Tp,qb=pp,gw=Mf?Mf.toFixed(3).replace(/\.?0+$/,""):"",Wx=this.asSeconds();if(!Wx)return"P0D";var wC=Wx<0?"-":"",_C=Gg(this._months)!==Gg(Wx)?"-":"",xC=Gg(this._days)!==Gg(Wx)?"-":"",IE=Gg(this._milliseconds)!==Gg(Wx)?"-":"";return wC+"P"+(np?_C+np+"Y":"")+(jm?_C+jm+"M":"")+(Mv?xC+Mv+"D":"")+(a0||qb||gw?"T":"")+(a0?IE+a0+"H":"")+(qb?IE+qb+"M":"")+(gw?IE+gw+"S":"")}var Bg=$w.prototype;return Bg.isValid=_k,Bg.abs=kk,Bg.add=Wb,Bg.subtract=Ww,Bg.as=Jm,Bg.asMilliseconds=sv,Bg.asSeconds=av,Bg.asMinutes=Qm,Bg.asHours=Wm,Bg.asDays=lv,Bg.asWeeks=uv,Bg.asMonths=cv,Bg.asYears=hv,Bg.valueOf=Um,Bg._bubble=c1,Bg.clone=bm,Bg.get=ev,Bg.milliseconds=dv,Bg.seconds=Bm,Bg.minutes=fv,Bg.hours=pv,Bg.days=gv,Bg.weeks=tv,Bg.months=Gm,Bg.years=mv,Bg.humanize=Ok,Bg.toISOString=qg,Bg.toString=qg,Bg.toJSON=qg,Bg.locale=N1,Bg.localeData=ax,Bg.toIsoString=Xf("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",qg),Bg.lang=AE,mg("X",0,0,"unix"),mg("x",0,0,"valueOf"),em("x",um),em("X",_y),km("X",function(Mf,Vf,tp){tp._d=new Date(parseFloat(Mf,10)*1e3)}),km("x",function(Mf,Vf,tp){tp._d=new Date(jf(Mf))}),wt.version="2.23.0",uo(Vv),wt.fn=Ng,wt.min=Rx,wt.max=s1,wt.now=K_,wt.utc=po,wt.unix=lx,wt.months=Ov,wt.isDate=wf,wt.locale=ky,wt.invalid=Sf,wt.duration=kv,wt.isMoment=Df,wt.weekdays=Vx,wt.parseZone=k_,wt.localeData=db,wt.isDuration=I1,wt.monthsShort=fw,wt.weekdaysMin=ME,wt.defineLocale=Yy,wt.updateLocale=kb,wt.locales=G_,wt.weekdaysShort=pw,wt.normalizeUnits=zp,wt.relativeTimeRounding=Tk,wt.relativeTimeThreshold=Ak,wt.calendarFormat=CE,wt.prototype=Ng,wt.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},wt})}).call(X,tt(117)(q))},function(q,X){q.exports=function(tt){return tt.webpackPolyfill||(tt.deprecate=function(){},tt.paths=[],tt.children||(tt.children=[]),Object.defineProperty(tt,"loaded",{enumerable:!0,get:function(){return tt.l}}),Object.defineProperty(tt,"id",{enumerable:!0,get:function(){return tt.i}}),tt.webpackPolyfill=1),tt}},function(q,X){function tt(ot){throw new Error("Cannot find module '"+ot+"'.")}tt.keys=function(){return[]},tt.resolve=tt,q.exports=tt,tt.id=118},function(q,X,tt){(function(ot){var at,ut=typeof window<"u"?window:typeof ot<"u"?ot:null;if(ut&&ut.crypto&&crypto.getRandomValues){var wt=new Uint8Array(16);at=function(){return crypto.getRandomValues(wt),wt}}if(!at){var uo=new Array(16);at=function(){for(var Sf=0,xf;Sf<16;Sf++)Sf&3||(xf=Math.random()*4294967296),uo[Sf]=xf>>>((Sf&3)<<3)&255;return uo}}for(var mo=[],yo={},lf=0;lf<256;lf++)mo[lf]=(lf+256).toString(16).substr(1),yo[mo[lf]]=lf;function uf(yf,Sf,xf){var bf=Sf&&xf||0,Af=0;for(Sf=Sf||[],yf.toLowerCase().replace(/[0-9a-f]{2}/g,function(Pf){Af<16&&(Sf[bf+Af++]=yo[Pf])});Af<16;)Sf[bf+Af++]=0;return Sf}function df(yf,Sf){var xf=Sf||0,bf=mo;return bf[yf[xf++]]+bf[yf[xf++]]+bf[yf[xf++]]+bf[yf[xf++]]+"-"+bf[yf[xf++]]+bf[yf[xf++]]+"-"+bf[yf[xf++]]+bf[yf[xf++]]+"-"+bf[yf[xf++]]+bf[yf[xf++]]+"-"+bf[yf[xf++]]+bf[yf[xf++]]+bf[yf[xf++]]+bf[yf[xf++]]+bf[yf[xf++]]+bf[yf[xf++]]}var wf=at(),wo=[wf[0]|1,wf[1],wf[2],wf[3],wf[4],wf[5]],ls=(wf[6]<<8|wf[7])&16383,_f=0,po=0;function xo(yf,Sf,xf){var bf=Sf&&xf||0,Af=Sf||[];yf=yf||{};var Pf=yf.clockseq!==void 0?yf.clockseq:ls,Df=yf.msecs!==void 0?yf.msecs:new Date().getTime(),zf=yf.nsecs!==void 0?yf.nsecs:po+1,jf=Df-_f+(zf-po)/1e4;if(jf<0&&yf.clockseq===void 0&&(Pf=Pf+1&16383),(jf<0||Df>_f)&&yf.nsecs===void 0&&(zf=0),zf>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_f=Df,po=zf,ls=Pf,Df+=122192928e5;var $f=((Df&268435455)*1e4+zf)%4294967296;Af[bf++]=$f>>>24&255,Af[bf++]=$f>>>16&255,Af[bf++]=$f>>>8&255,Af[bf++]=$f&255;var Ff=Df/4294967296*1e4&268435455;Af[bf++]=Ff>>>8&255,Af[bf++]=Ff&255,Af[bf++]=Ff>>>24&15|16,Af[bf++]=Ff>>>16&255,Af[bf++]=Pf>>>8|128,Af[bf++]=Pf&255;for(var Xf=yf.node||wo,mp=0;mp<6;mp++)Af[bf+mp]=Xf[mp];return Sf||df(Af)}function gf(yf,Sf,xf){var bf=Sf&&xf||0;typeof yf=="string"&&(Sf=yf=="binary"?new Array(16):null,yf=null),yf=yf||{};var Af=yf.random||(yf.rng||at)();if(Af[6]=Af[6]&15|64,Af[8]=Af[8]&63|128,Sf)for(var Pf=0;Pf<16;Pf++)Sf[bf+Pf]=Af[Pf];return Sf||df(Af)}var cf=gf;cf.v1=xo,cf.v4=gf,cf.parse=uf,cf.unparse=df,q.exports=cf}).call(X,tt(120))},function(q,X){var tt;tt=function(){return this}();try{tt=tt||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(tt=window)}q.exports=tt},function(q,X,tt){X.util=tt(2),X.DOMutil=tt(122),X.DataSet=tt(33),X.DataView=tt(51),X.Queue=tt(72),X.Network=tt(124),X.network={Images:tt(76),dotparser:tt(74),gephiParser:tt(75),allOptions:tt(84)},X.network.convertDot=function(ot){return X.network.dotparser.DOTToGraph(ot)},X.network.convertGephi=function(ot,at){return X.network.gephiParser.parseGephi(ot,at)},X.moment=tt(71),X.Hammer=tt(24),X.keycharm=tt(52)},function(q,X,tt){X.prepareElements=function(ot){for(var at in ot)ot.hasOwnProperty(at)&&(ot[at].redundant=ot[at].used,ot[at].used=[])},X.cleanupElements=function(ot){for(var at in ot)if(ot.hasOwnProperty(at)&&ot[at].redundant){for(var ut=0;ut<ot[at].redundant.length;ut++)ot[at].redundant[ut].parentNode.removeChild(ot[at].redundant[ut]);ot[at].redundant=[]}},X.resetElements=function(ot){X.prepareElements(ot),X.cleanupElements(ot),X.prepareElements(ot)},X.getSVGElement=function(ot,at,ut){var wt;return at.hasOwnProperty(ot)?at[ot].redundant.length>0?(wt=at[ot].redundant[0],at[ot].redundant.shift()):(wt=document.createElementNS("http://www.w3.org/2000/svg",ot),ut.appendChild(wt)):(wt=document.createElementNS("http://www.w3.org/2000/svg",ot),at[ot]={used:[],redundant:[]},ut.appendChild(wt)),at[ot].used.push(wt),wt},X.getDOMElement=function(ot,at,ut,wt){var uo;return at.hasOwnProperty(ot)?at[ot].redundant.length>0?(uo=at[ot].redundant[0],at[ot].redundant.shift()):(uo=document.createElement(ot),wt!==void 0?ut.insertBefore(uo,wt):ut.appendChild(uo)):(uo=document.createElement(ot),at[ot]={used:[],redundant:[]},wt!==void 0?ut.insertBefore(uo,wt):ut.appendChild(uo)),at[ot].used.push(uo),uo},X.drawPoint=function(ot,at,ut,wt,uo,mo){var yo;if(ut.style=="circle"?(yo=X.getSVGElement("circle",wt,uo),yo.setAttributeNS(null,"cx",ot),yo.setAttributeNS(null,"cy",at),yo.setAttributeNS(null,"r",.5*ut.size)):(yo=X.getSVGElement("rect",wt,uo),yo.setAttributeNS(null,"x",ot-.5*ut.size),yo.setAttributeNS(null,"y",at-.5*ut.size),yo.setAttributeNS(null,"width",ut.size),yo.setAttributeNS(null,"height",ut.size)),ut.styles!==void 0&&yo.setAttributeNS(null,"style",ut.styles),yo.setAttributeNS(null,"class",ut.className+" vis-point"),mo){var lf=X.getSVGElement("text",wt,uo);mo.xOffset&&(ot=ot+mo.xOffset),mo.yOffset&&(at=at+mo.yOffset),mo.content&&(lf.textContent=mo.content),mo.className&&lf.setAttributeNS(null,"class",mo.className+" vis-label"),lf.setAttributeNS(null,"x",ot),lf.setAttributeNS(null,"y",at)}return yo},X.drawBar=function(ot,at,ut,wt,uo,mo,yo,lf){if(wt!=0){wt<0&&(wt*=-1,at-=wt);var uf=X.getSVGElement("rect",mo,yo);uf.setAttributeNS(null,"x",ot-.5*ut),uf.setAttributeNS(null,"y",at),uf.setAttributeNS(null,"width",ut),uf.setAttributeNS(null,"height",wt),uf.setAttributeNS(null,"class",uo),lf&&uf.setAttributeNS(null,"style",lf)}}},function(q,X,tt){var ot=tt(6),at=ot.JSON||(ot.JSON={stringify:JSON.stringify});q.exports=function(wt){return at.stringify.apply(at,arguments)}},function(q,X,tt){tt(125);var ot=tt(73),at=tt(2),ut=tt(74),wt=tt(75),uo=tt(126),mo=tt(129),yo=tt(76).default,lf=tt(134).default,uf=tt(135).default,df=tt(165).default,wf=tt(171).default,wo=tt(178).default,ls=tt(180).default,_f=tt(181).default,po=tt(182).default,xo=tt(183).default,gf=tt(186).default,cf=tt(187).default,yf=tt(190).default,Sf=tt(191).default,xf=tt(54).default,bf=tt(54),Af=bf.printStyle,Pf=tt(84),Df=Pf.allOptions,zf=Pf.configureOptions,jf=tt(193).default;function $f(Ff,Xf,mp){var fp=this;if(!(this instanceof $f))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:mo,clickToUse:!1},at.extend(this.options,this.defaultOptions),this.body={container:Ff,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}},this.bindEventListeners(),this.images=new yo(function(){return fp.body.emitter.emit("_requestRedraw")}),this.groups=new lf,this.canvas=new _f(this.body),this.selectionHandler=new gf(this.body,this.canvas),this.interactionHandler=new xo(this.body,this.canvas,this.selectionHandler),this.view=new po(this.body,this.canvas),this.renderer=new ls(this.body,this.canvas),this.physics=new wf(this.body),this.layoutEngine=new cf(this.body),this.clustering=new wo(this.body),this.manipulation=new yf(this.body,this.canvas,this.selectionHandler),this.nodesHandler=new uf(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new df(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new jf(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(mp),this.setData(Xf)}ot($f.prototype),$f.prototype.setOptions=function(Ff){var Xf=this;if(Ff===null&&(Ff=void 0),Ff!==void 0){var mp=xf.validate(Ff,Df);mp===!0&&console.log("%cErrors have been found in the supplied options object.",Af);var fp=["locale","locales","clickToUse"];if(at.selectiveDeepExtend(fp,this.options,Ff),Ff=this.layoutEngine.setOptions(Ff.layout,Ff),this.canvas.setOptions(Ff),this.groups.setOptions(Ff.groups),this.nodesHandler.setOptions(Ff.nodes),this.edgesHandler.setOptions(Ff.edges),this.physics.setOptions(Ff.physics),this.manipulation.setOptions(Ff.manipulation,Ff,this.options),this.interactionHandler.setOptions(Ff.interaction),this.renderer.setOptions(Ff.interaction),this.selectionHandler.setOptions(Ff.interaction),Ff.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in Ff&&(this.configurator||(this.configurator=new Sf(this,this.body.container,zf,this.canvas.pixelRatio)),this.configurator.setOptions(Ff.configure)),this.configurator&&this.configurator.options.enabled===!0){var Mp={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};at.deepExtend(Mp.nodes,this.nodesHandler.options),at.deepExtend(Mp.edges,this.edgesHandler.options),at.deepExtend(Mp.layout,this.layoutEngine.options),at.deepExtend(Mp.interaction,this.selectionHandler.options),at.deepExtend(Mp.interaction,this.renderer.options),at.deepExtend(Mp.interaction,this.interactionHandler.options),at.deepExtend(Mp.manipulation,this.manipulation.options),at.deepExtend(Mp.physics,this.physics.options),at.deepExtend(Mp.global,this.canvas.options),at.deepExtend(Mp.global,this.options),this.configurator.setModuleOptions(Mp)}Ff.clickToUse!==void 0?Ff.clickToUse===!0?this.activator===void 0&&(this.activator=new uo(this.canvas.frame),this.activator.on("change",function(){Xf.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},$f.prototype._updateVisibleIndices=function(){var Ff=this.body.nodes,Xf=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(var mp in Ff)Ff.hasOwnProperty(mp)&&!this.clustering._isClusteredNode(mp)&&Ff[mp].options.hidden===!1&&this.body.nodeIndices.push(Ff[mp].id);for(var fp in Xf)if(Xf.hasOwnProperty(fp)){var Mp=Xf[fp],Np=Ff[Mp.fromId],Pp=Ff[Mp.toId],yp=Np!==void 0&&Pp!==void 0,Ep=!this.clustering._isClusteredEdge(fp)&&Mp.options.hidden===!1&&yp&&Np.options.hidden===!1&&Pp.options.hidden===!1;Ep&&this.body.edgeIndices.push(Mp.id)}},$f.prototype.bindEventListeners=function(){var Ff=this;this.body.emitter.on("_dataChanged",function(){Ff.edgesHandler._updateState(),Ff.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){Ff.clustering._updateState(),Ff._updateVisibleIndices(),Ff._updateValueRange(Ff.body.nodes),Ff._updateValueRange(Ff.body.edges),Ff.body.emitter.emit("startSimulation"),Ff.body.emitter.emit("_requestRedraw")})},$f.prototype.setData=function(Ff){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),Ff&&Ff.dot&&(Ff.nodes||Ff.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(Ff&&Ff.options),Ff&&Ff.dot){console.log("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var Xf=ut.DOTToGraph(Ff.dot);this.setData(Xf);return}else if(Ff&&Ff.gephi){console.log("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var mp=wt.parseGephi(Ff.gephi);this.setData(mp);return}else this.nodesHandler.setData(Ff&&Ff.nodes,!0),this.edgesHandler.setData(Ff&&Ff.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},$f.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(var Ff in this.body.nodes)this.body.nodes.hasOwnProperty(Ff)&&delete this.body.nodes[Ff];for(var Xf in this.body.edges)this.body.edges.hasOwnProperty(Xf)&&delete this.body.edges[Xf];at.recursiveDOMDelete(this.body.container)},$f.prototype._updateValueRange=function(Ff){var Xf,mp=void 0,fp=void 0,Mp=0;for(Xf in Ff)if(Ff.hasOwnProperty(Xf)){var Np=Ff[Xf].getValue();Np!==void 0&&(mp=mp===void 0?Np:Math.min(Np,mp),fp=fp===void 0?Np:Math.max(Np,fp),Mp+=Np)}if(mp!==void 0&&fp!==void 0)for(Xf in Ff)Ff.hasOwnProperty(Xf)&&Ff[Xf].setValueRange(mp,fp,Mp)},$f.prototype.isActive=function(){return!this.activator||this.activator.active},$f.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},$f.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},$f.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},$f.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},$f.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},$f.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},$f.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},$f.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},$f.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},$f.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},$f.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},$f.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},$f.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},$f.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},$f.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},$f.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},$f.prototype.editNodeMode=function(){return console.log("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},$f.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},$f.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},$f.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},$f.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},$f.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},$f.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},$f.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},$f.prototype.getConnectedNodes=function(Ff){return this.body.nodes[Ff]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},$f.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},$f.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},$f.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},$f.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},$f.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},$f.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},$f.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)},$f.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)},$f.prototype.getNodeAt=function(){var Ff=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return Ff!==void 0&&Ff.id!==void 0?Ff.id:Ff},$f.prototype.getEdgeAt=function(){var Ff=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return Ff!==void 0&&Ff.id!==void 0?Ff.id:Ff},$f.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},$f.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},$f.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.redraw()},$f.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},$f.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},$f.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},$f.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},$f.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},$f.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},$f.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},$f.prototype.getOptionsFromConfigurator=function(){var Ff={};return this.configurator&&(Ff=this.configurator.getOptions.apply(this.configurator)),Ff},q.exports=$f},function(q,X,tt){typeof CanvasRenderingContext2D<"u"&&(CanvasRenderingContext2D.prototype.circle=function(ot,at,ut){this.beginPath(),this.arc(ot,at,ut,0,2*Math.PI,!1),this.closePath()},CanvasRenderingContext2D.prototype.square=function(ot,at,ut){this.beginPath(),this.rect(ot-ut,at-ut,ut*2,ut*2),this.closePath()},CanvasRenderingContext2D.prototype.triangle=function(ot,at,ut){this.beginPath(),ut*=1.15,at+=.275*ut;var wt=ut*2,uo=wt/2,mo=Math.sqrt(3)/6*wt,yo=Math.sqrt(wt*wt-uo*uo);this.moveTo(ot,at-(yo-mo)),this.lineTo(ot+uo,at+mo),this.lineTo(ot-uo,at+mo),this.lineTo(ot,at-(yo-mo)),this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(ot,at,ut){this.beginPath(),ut*=1.15,at-=.275*ut;var wt=ut*2,uo=wt/2,mo=Math.sqrt(3)/6*wt,yo=Math.sqrt(wt*wt-uo*uo);this.moveTo(ot,at+(yo-mo)),this.lineTo(ot+uo,at-mo),this.lineTo(ot-uo,at-mo),this.lineTo(ot,at+(yo-mo)),this.closePath()},CanvasRenderingContext2D.prototype.star=function(ot,at,ut){this.beginPath(),ut*=.82,at+=.1*ut;for(var wt=0;wt<10;wt++){var uo=wt%2===0?ut*1.3:ut*.5;this.lineTo(ot+uo*Math.sin(wt*2*Math.PI/10),at-uo*Math.cos(wt*2*Math.PI/10))}this.closePath()},CanvasRenderingContext2D.prototype.diamond=function(ot,at,ut){this.beginPath(),this.lineTo(ot,at+ut),this.lineTo(ot+ut,at),this.lineTo(ot,at-ut),this.lineTo(ot-ut,at),this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(ot,at,ut,wt,uo){var mo=Math.PI/180;ut-2*uo<0&&(uo=ut/2),wt-2*uo<0&&(uo=wt/2),this.beginPath(),this.moveTo(ot+uo,at),this.lineTo(ot+ut-uo,at),this.arc(ot+ut-uo,at+uo,uo,mo*270,mo*360,!1),this.lineTo(ot+ut,at+wt-uo),this.arc(ot+ut-uo,at+wt-uo,uo,0,mo*90,!1),this.lineTo(ot+uo,at+wt),this.arc(ot+uo,at+wt-uo,uo,mo*90,mo*180,!1),this.lineTo(ot,at+uo),this.arc(ot+uo,at+uo,uo,mo*180,mo*270,!1),this.closePath()},CanvasRenderingContext2D.prototype.ellipse_vis=function(ot,at,ut,wt){var uo=.5522848,mo=ut/2*uo,yo=wt/2*uo,lf=ot+ut,uf=at+wt,df=ot+ut/2,wf=at+wt/2;this.beginPath(),this.moveTo(ot,wf),this.bezierCurveTo(ot,wf-yo,df-mo,at,df,at),this.bezierCurveTo(df+mo,at,lf,wf-yo,lf,wf),this.bezierCurveTo(lf,wf+yo,df+mo,uf,df,uf),this.bezierCurveTo(df-mo,uf,ot,wf+yo,ot,wf),this.closePath()},CanvasRenderingContext2D.prototype.database=function(ot,at,ut,wt){var uo=.3333333333333333,mo=ut,yo=wt*uo,lf=.5522848,uf=mo/2*lf,df=yo/2*lf,wf=ot+mo,wo=at+yo,ls=ot+mo/2,_f=at+yo/2,po=at+(wt-yo/2),xo=at+wt;this.beginPath(),this.moveTo(wf,_f),this.bezierCurveTo(wf,_f+df,ls+uf,wo,ls,wo),this.bezierCurveTo(ls-uf,wo,ot,_f+df,ot,_f),this.bezierCurveTo(ot,_f-df,ls-uf,at,ls,at),this.bezierCurveTo(ls+uf,at,wf,_f-df,wf,_f),this.lineTo(wf,po),this.bezierCurveTo(wf,po+df,ls+uf,xo,ls,xo),this.bezierCurveTo(ls-uf,xo,ot,po+df,ot,po),this.lineTo(ot,_f)},CanvasRenderingContext2D.prototype.dashedLine=function(ot,at,ut,wt,uo){this.beginPath(),this.moveTo(ot,at);for(var mo=uo.length,yo=ut-ot,lf=wt-at,uf=lf/yo,df=Math.sqrt(yo*yo+lf*lf),wf=0,wo=!0,ls=0,_f=uo[0];df>=.1;)_f=uo[wf++%mo],_f>df&&(_f=df),ls=Math.sqrt(_f*_f/(1+uf*uf)),ls=yo<0?-ls:ls,ot+=ls,at+=uf*ls,wo===!0?this.lineTo(ot,at):this.moveTo(ot,at),df-=_f,wo=!wo},CanvasRenderingContext2D.prototype.hexagon=function(ot,at,ut){this.beginPath();var wt=6,uo=Math.PI*2/wt;this.moveTo(ot+ut,at);for(var mo=1;mo<wt;mo++)this.lineTo(ot+ut*Math.cos(uo*mo),at+ut*Math.sin(uo*mo));this.closePath()})},function(q,X,tt){var ot=tt(52),at=tt(73),ut=tt(24),wt=tt(2);function uo(yo){this.active=!1,this.dom={container:yo},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=ut(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var lf=this,uf=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];uf.forEach(function(df){lf.hammer.on(df,function(wf){wf.stopPropagation()})}),document&&document.body&&(this.onClick=function(df){mo(df.target,yo)||lf.deactivate()},document.body.addEventListener("click",this.onClick)),this.keycharm!==void 0&&this.keycharm.destroy(),this.keycharm=ot(),this.escListener=this.deactivate.bind(this)}at(uo.prototype),uo.current=null,uo.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.keycharm!==void 0&&this.keycharm.destroy(),this.keycharm=null,this.hammer.destroy(),this.hammer=null},uo.prototype.activate=function(){uo.current&&uo.current.deactivate(),uo.current=this,this.active=!0,this.dom.overlay.style.display="none",wt.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)},uo.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="",wt.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},uo.prototype._onTapOverlay=function(yo){this.activate(),yo.stopPropagation()};function mo(yo,lf){for(;yo;){if(yo===lf)return!0;yo=yo.parentNode}return!1}q.exports=uo},function(q,X,tt){var ot,at,ut;(function(wt){at=[],ot=wt,ut=typeof ot=="function"?ot.apply(X,at):ot,ut!==void 0&&(q.exports=ut)})(function(){var wt=null;return function uo(mo,yo){var lf=yo||{preventDefault:!1};if(mo.Manager){var uf=mo,df=function(po,xo){var gf=Object.create(lf);return xo&&uf.assign(gf,xo),uo(new uf(po,gf),gf)};return uf.assign(df,uf),df.Manager=function(po,xo){var gf=Object.create(lf);return xo&&uf.assign(gf,xo),uo(new uf.Manager(po,gf),gf)},df}var wf=Object.create(mo),wo=mo.element;wo.hammer||(wo.hammer=[]),wo.hammer.push(wf),mo.on("hammer.input",function(po){(lf.preventDefault===!0||lf.preventDefault===po.pointerType)&&po.preventDefault(),po.isFirst&&(wt=po.target)}),wf._handlers={},wf.on=function(po,xo){return ls(po).forEach(function(gf){var cf=wf._handlers[gf];cf||(wf._handlers[gf]=cf=[],mo.on(gf,_f)),cf.push(xo)}),wf},wf.off=function(po,xo){return ls(po).forEach(function(gf){var cf=wf._handlers[gf];cf&&(cf=xo?cf.filter(function(yf){return yf!==xo}):[],cf.length>0?wf._handlers[gf]=cf:(mo.off(gf,_f),delete wf._handlers[gf]))}),wf},wf.emit=function(po,xo){wt=xo.target,mo.emit(po,xo)},wf.destroy=function(){var po=mo.element.hammer,xo=po.indexOf(wf);xo!==-1&&po.splice(xo,1),po.length||delete mo.element.hammer,wf._handlers={},mo.destroy()};function ls(po){return po.match(/[^ ]+/g)}function _f(po){if(po.type!=="hammer.input"){if(po.srcEvent._handled||(po.srcEvent._handled={}),po.srcEvent._handled[po.type])return;po.srcEvent._handled[po.type]=!0}var xo=!1;po.stopPropagation=function(){xo=!0};var gf=po.srcEvent.stopPropagation.bind(po.srcEvent);typeof gf=="function"&&(po.srcEvent.stopPropagation=function(){gf(),po.stopPropagation()}),po.firstTarget=wt;for(var cf=wt;cf&&!xo;){var yf=cf.hammer;if(yf){for(var Sf,xf=0;xf<yf.length;xf++)if(Sf=yf[xf]._handlers[po.type],Sf)for(var bf=0;bf<Sf.length&&!xo;bf++)Sf[bf](po)}cf=cf.parentNode}}return wf}})},function(q,X,tt){var ot;/*! Hammer.JS - v2.0.7 - 2016-04-22
* http://hammerjs.github.io/
*
* Copyright (c) 2016 Jorik Tangelder;
* Licensed under the MIT license */(function(at,ut,wt,uo){var mo=["","webkit","Moz","MS","ms","o"],yo=ut.createElement("div"),lf="function",uf=Math.round,df=Math.abs,wf=Date.now;function wo(_p,Lp,Xp){return setTimeout(Sf(_p,Xp),Lp)}function ls(_p,Lp,Xp){return Array.isArray(_p)?(_f(_p,Xp[Lp],Xp),!0):!1}function _f(_p,Lp,Xp){var vg;if(_p)if(_p.forEach)_p.forEach(Lp,Xp);else if(_p.length!==uo)for(vg=0;vg<_p.length;)Lp.call(Xp,_p[vg],vg,_p),vg++;else for(vg in _p)_p.hasOwnProperty(vg)&&Lp.call(Xp,_p[vg],vg,_p)}function po(_p,Lp,Xp){var vg="DEPRECATED METHOD: "+Lp+`
`+Xp+` AT 
`;return function(){var Og=new Error("get-stack-trace"),Xg=Og&&Og.stack?Og.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Dm=at.console&&(at.console.warn||at.console.log);return Dm&&Dm.call(at.console,vg,Xg),_p.apply(this,arguments)}}var xo;typeof Object.assign!="function"?xo=function(Lp){if(Lp===uo||Lp===null)throw new TypeError("Cannot convert undefined or null to object");for(var Xp=Object(Lp),vg=1;vg<arguments.length;vg++){var Og=arguments[vg];if(Og!==uo&&Og!==null)for(var Xg in Og)Og.hasOwnProperty(Xg)&&(Xp[Xg]=Og[Xg])}return Xp}:xo=Object.assign;var gf=po(function(Lp,Xp,vg){for(var Og=Object.keys(Xp),Xg=0;Xg<Og.length;)(!vg||vg&&Lp[Og[Xg]]===uo)&&(Lp[Og[Xg]]=Xp[Og[Xg]]),Xg++;return Lp},"extend","Use `assign`."),cf=po(function(Lp,Xp){return gf(Lp,Xp,!0)},"merge","Use `assign`.");function yf(_p,Lp,Xp){var vg=Lp.prototype,Og;Og=_p.prototype=Object.create(vg),Og.constructor=_p,Og._super=vg,Xp&&xo(Og,Xp)}function Sf(_p,Lp){return function(){return _p.apply(Lp,arguments)}}function xf(_p,Lp){return typeof _p==lf?_p.apply(Lp&&Lp[0]||uo,Lp):_p}function bf(_p,Lp){return _p===uo?Lp:_p}function Af(_p,Lp,Xp){_f(jf(Lp),function(vg){_p.addEventListener(vg,Xp,!1)})}function Pf(_p,Lp,Xp){_f(jf(Lp),function(vg){_p.removeEventListener(vg,Xp,!1)})}function Df(_p,Lp){for(;_p;){if(_p==Lp)return!0;_p=_p.parentNode}return!1}function zf(_p,Lp){return _p.indexOf(Lp)>-1}function jf(_p){return _p.trim().split(/\s+/g)}function $f(_p,Lp,Xp){if(_p.indexOf&&!Xp)return _p.indexOf(Lp);for(var vg=0;vg<_p.length;){if(Xp&&_p[vg][Xp]==Lp||!Xp&&_p[vg]===Lp)return vg;vg++}return-1}function Ff(_p){return Array.prototype.slice.call(_p,0)}function Xf(_p,Lp,Xp){for(var vg=[],Og=[],Xg=0;Xg<_p.length;){var Dm=Lp?_p[Xg][Lp]:_p[Xg];$f(Og,Dm)<0&&vg.push(_p[Xg]),Og[Xg]=Dm,Xg++}return Xp&&(Lp?vg=vg.sort(function(Yv,cm){return Yv[Lp]>cm[Lp]}):vg=vg.sort()),vg}function mp(_p,Lp){for(var Xp,vg,Og=Lp[0].toUpperCase()+Lp.slice(1),Xg=0;Xg<mo.length;){if(Xp=mo[Xg],vg=Xp?Xp+Og:Lp,vg in _p)return vg;Xg++}return uo}var fp=1;function Mp(){return fp++}function Np(_p){var Lp=_p.ownerDocument||_p;return Lp.defaultView||Lp.parentWindow||at}var Pp=/mobile|tablet|ip(ad|hone|od)|android/i,yp="ontouchstart"in at,Ep=mp(at,"PointerEvent")!==uo,Cp=yp&&Pp.test(navigator.userAgent),$p="touch",kp="pen",Dp="mouse",Fp="kinect",Sp=25,up=1,Nf=2,Jf=4,ip=8,ap=1,Op=2,Gp=4,bp=8,zp=16,Rp=Op|Gp,Up=bp|zp,Zp=Rp|Up,og=["x","y"],Ap=["clientX","clientY"];function Ip(_p,Lp){var Xp=this;this.manager=_p,this.callback=Lp,this.element=_p.element,this.target=_p.options.inputTarget,this.domHandler=function(vg){xf(_p.options.enable,[_p])&&Xp.handler(vg)},this.init()}Ip.prototype={handler:function(){},init:function(){this.evEl&&Af(this.element,this.evEl,this.domHandler),this.evTarget&&Af(this.target,this.evTarget,this.domHandler),this.evWin&&Af(Np(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&Pf(this.element,this.evEl,this.domHandler),this.evTarget&&Pf(this.target,this.evTarget,this.domHandler),this.evWin&&Pf(Np(this.element),this.evWin,this.domHandler)}};function jp(_p){var Lp,Xp=_p.options.inputClass;return Xp?Lp=Xp:Ep?Lp=Y0:Cp?Lp=d0:yp?Lp=ob:Lp=Zg,new Lp(_p,Jp)}function Jp(_p,Lp,Xp){var vg=Xp.pointers.length,Og=Xp.changedPointers.length,Xg=Lp&up&&vg-Og===0,Dm=Lp&(Jf|ip)&&vg-Og===0;Xp.isFirst=!!Xg,Xp.isFinal=!!Dm,Xg&&(_p.session={}),Xp.eventType=Lp,sg(_p,Xp),_p.emit("hammer.input",Xp),_p.recognize(Xp),_p.session.prevInput=Xp}function sg(_p,Lp){var Xp=_p.session,vg=Lp.pointers,Og=vg.length;Xp.firstInput||(Xp.firstInput=Eg(Lp)),Og>1&&!Xp.firstMultiple?Xp.firstMultiple=Eg(Lp):Og===1&&(Xp.firstMultiple=!1);var Xg=Xp.firstInput,Dm=Xp.firstMultiple,qv=Dm?Dm.center:Xg.center,Yv=Lp.center=im(vg);Lp.timeStamp=wf(),Lp.deltaTime=Lp.timeStamp-Xg.timeStamp,Lp.angle=Vp(qv,Yv),Lp.distance=cp(qv,Yv),mg(Xp,Lp),Lp.offsetDirection=dp(Lp.deltaX,Lp.deltaY);var cm=hm(Lp.deltaTime,Lp.deltaX,Lp.deltaY);Lp.overallVelocityX=cm.x,Lp.overallVelocityY=cm.y,Lp.overallVelocity=df(cm.x)>df(cm.y)?cm.x:cm.y,Lp.scale=Dm?Ag(Dm.pointers,vg):1,Lp.rotation=Dm?qp(Dm.pointers,vg):0,Lp.maxPointers=Xp.prevInput?Lp.pointers.length>Xp.prevInput.maxPointers?Lp.pointers.length:Xp.prevInput.maxPointers:Lp.pointers.length,kg(Xp,Lp);var s0=_p.element;Df(Lp.srcEvent.target,s0)&&(s0=Lp.srcEvent.target),Lp.target=s0}function mg(_p,Lp){var Xp=Lp.center,vg=_p.offsetDelta||{},Og=_p.prevDelta||{},Xg=_p.prevInput||{};(Lp.eventType===up||Xg.eventType===Jf)&&(Og=_p.prevDelta={x:Xg.deltaX||0,y:Xg.deltaY||0},vg=_p.offsetDelta={x:Xp.x,y:Xp.y}),Lp.deltaX=Og.x+(Xp.x-vg.x),Lp.deltaY=Og.y+(Xp.y-vg.y)}function kg(_p,Lp){var Xp=_p.lastInterval||Lp,vg=Lp.timeStamp-Xp.timeStamp,Og,Xg,Dm,qv;if(Lp.eventType!=ip&&(vg>Sp||Xp.velocity===uo)){var Yv=Lp.deltaX-Xp.deltaX,cm=Lp.deltaY-Xp.deltaY,s0=hm(vg,Yv,cm);Xg=s0.x,Dm=s0.y,Og=df(s0.x)>df(s0.y)?s0.x:s0.y,qv=dp(Yv,cm),_p.lastInterval=Lp}else Og=Xp.velocity,Xg=Xp.velocityX,Dm=Xp.velocityY,qv=Xp.direction;Lp.velocity=Og,Lp.velocityX=Xg,Lp.velocityY=Dm,Lp.direction=qv}function Eg(_p){for(var Lp=[],Xp=0;Xp<_p.pointers.length;)Lp[Xp]={clientX:uf(_p.pointers[Xp].clientX),clientY:uf(_p.pointers[Xp].clientY)},Xp++;return{timeStamp:wf(),pointers:Lp,center:im(Lp),deltaX:_p.deltaX,deltaY:_p.deltaY}}function im(_p){var Lp=_p.length;if(Lp===1)return{x:uf(_p[0].clientX),y:uf(_p[0].clientY)};for(var Xp=0,vg=0,Og=0;Og<Lp;)Xp+=_p[Og].clientX,vg+=_p[Og].clientY,Og++;return{x:uf(Xp/Lp),y:uf(vg/Lp)}}function hm(_p,Lp,Xp){return{x:Lp/_p||0,y:Xp/_p||0}}function dp(_p,Lp){return _p===Lp?ap:df(_p)>=df(Lp)?_p<0?Op:Gp:Lp<0?bp:zp}function cp(_p,Lp,Xp){Xp||(Xp=og);var vg=Lp[Xp[0]]-_p[Xp[0]],Og=Lp[Xp[1]]-_p[Xp[1]];return Math.sqrt(vg*vg+Og*Og)}function Vp(_p,Lp,Xp){Xp||(Xp=og);var vg=Lp[Xp[0]]-_p[Xp[0]],Og=Lp[Xp[1]]-_p[Xp[1]];return Math.atan2(Og,vg)*180/Math.PI}function qp(_p,Lp){return Vp(Lp[1],Lp[0],Ap)+Vp(_p[1],_p[0],Ap)}function Ag(_p,Lp){return cp(Lp[0],Lp[1],Ap)/cp(_p[0],_p[1],Ap)}var Dg={mousedown:up,mousemove:Nf,mouseup:Jf},Ig="mousedown",zg="mousemove mouseup";function Zg(){this.evEl=Ig,this.evWin=zg,this.pressed=!1,Ip.apply(this,arguments)}yf(Zg,Ip,{handler:function(Lp){var Xp=Dg[Lp.type];Xp&up&&Lp.button===0&&(this.pressed=!0),Xp&Nf&&Lp.which!==1&&(Xp=Jf),this.pressed&&(Xp&Jf&&(this.pressed=!1),this.callback(this.manager,Xp,{pointers:[Lp],changedPointers:[Lp],pointerType:Dp,srcEvent:Lp}))}});var wm={pointerdown:up,pointermove:Nf,pointerup:Jf,pointercancel:ip,pointerout:ip},pm={2:$p,3:kp,4:Dp,5:Fp},bv="pointerdown",um="pointermove pointerup pointercancel";at.MSPointerEvent&&!at.PointerEvent&&(bv="MSPointerDown",um="MSPointerMove MSPointerUp MSPointerCancel");function Y0(){this.evEl=bv,this.evWin=um,Ip.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}yf(Y0,Ip,{handler:function(Lp){var Xp=this.store,vg=!1,Og=Lp.type.toLowerCase().replace("ms",""),Xg=wm[Og],Dm=pm[Lp.pointerType]||Lp.pointerType,qv=Dm==$p,Yv=$f(Xp,Lp.pointerId,"pointerId");Xg&up&&(Lp.button===0||qv)?Yv<0&&(Xp.push(Lp),Yv=Xp.length-1):Xg&(Jf|ip)&&(vg=!0),!(Yv<0)&&(Xp[Yv]=Lp,this.callback(this.manager,Xg,{pointers:Xp,changedPointers:[Lp],pointerType:Dm,srcEvent:Lp}),vg&&Xp.splice(Yv,1))}});var r0={touchstart:up,touchmove:Nf,touchend:Jf,touchcancel:ip},_y="touchstart",Wy="touchstart touchmove touchend touchcancel";function L0(){this.evTarget=_y,this.evWin=Wy,this.started=!1,Ip.apply(this,arguments)}yf(L0,Ip,{handler:function(Lp){var Xp=r0[Lp.type];if(Xp===up&&(this.started=!0),!!this.started){var vg=em.call(this,Lp,Xp);Xp&(Jf|ip)&&vg[0].length-vg[1].length===0&&(this.started=!1),this.callback(this.manager,Xp,{pointers:vg[0],changedPointers:vg[1],pointerType:$p,srcEvent:Lp})}}});function em(_p,Lp){var Xp=Ff(_p.touches),vg=Ff(_p.changedTouches);return Lp&(Jf|ip)&&(Xp=Xf(Xp.concat(vg),"identifier",!0)),[Xp,vg]}var R0={touchstart:up,touchmove:Nf,touchend:Jf,touchcancel:ip},tm="touchstart touchmove touchend touchcancel";function d0(){this.evTarget=tm,this.targetIds={},Ip.apply(this,arguments)}yf(d0,Ip,{handler:function(Lp){var Xp=R0[Lp.type],vg=$b.call(this,Lp,Xp);vg&&this.callback(this.manager,Xp,{pointers:vg[0],changedPointers:vg[1],pointerType:$p,srcEvent:Lp})}});function $b(_p,Lp){var Xp=Ff(_p.touches),vg=this.targetIds;if(Lp&(up|Nf)&&Xp.length===1)return vg[Xp[0].identifier]=!0,[Xp,Xp];var Og,Xg,Dm=Ff(_p.changedTouches),qv=[],Yv=this.target;if(Xg=Xp.filter(function(cm){return Df(cm.target,Yv)}),Lp===up)for(Og=0;Og<Xg.length;)vg[Xg[Og].identifier]=!0,Og++;for(Og=0;Og<Dm.length;)vg[Dm[Og].identifier]&&qv.push(Dm[Og]),Lp&(Jf|ip)&&delete vg[Dm[Og].identifier],Og++;if(qv.length)return[Xf(Xg.concat(qv),"identifier",!0),qv]}var km=2500,D0=25;function ob(){Ip.apply(this,arguments);var _p=Sf(this.handler,this);this.touch=new d0(this.manager,_p),this.mouse=new Zg(this.manager,_p),this.primaryTouch=null,this.lastTouches=[]}yf(ob,Ip,{handler:function(Lp,Xp,vg){var Og=vg.pointerType==$p,Xg=vg.pointerType==Dp;if(!(Xg&&vg.sourceCapabilities&&vg.sourceCapabilities.firesTouchEvents)){if(Og)Z0.call(this,Xp,vg);else if(Xg&&cy.call(this,vg))return;this.callback(Lp,Xp,vg)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function Z0(_p,Lp){_p&up?(this.primaryTouch=Lp.changedPointers[0].identifier,Gv.call(this,Lp)):_p&(Jf|ip)&&Gv.call(this,Lp)}function Gv(_p){var Lp=_p.changedPointers[0];if(Lp.identifier===this.primaryTouch){var Xp={x:Lp.clientX,y:Lp.clientY};this.lastTouches.push(Xp);var vg=this.lastTouches,Og=function(){var Xg=vg.indexOf(Xp);Xg>-1&&vg.splice(Xg,1)};setTimeout(Og,km)}}function cy(_p){for(var Lp=_p.srcEvent.clientX,Xp=_p.srcEvent.clientY,vg=0;vg<this.lastTouches.length;vg++){var Og=this.lastTouches[vg],Xg=Math.abs(Lp-Og.x),Dm=Math.abs(Xp-Og.y);if(Xg<=D0&&Dm<=D0)return!0}return!1}var Hg=mp(yo.style,"touchAction"),eg=Hg!==uo,Pg="compute",Kg="auto",Ev="manipulation",jv="none",vv="pan-x",Hv="pan-y",hy=n1();function Ly(_p,Lp){this.manager=_p,this.set(Lp)}Ly.prototype={set:function(_p){_p==Pg&&(_p=this.compute()),eg&&this.manager.element.style&&hy[_p]&&(this.manager.element.style[Hg]=_p),this.actions=_p.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var _p=[];return _f(this.manager.recognizers,function(Lp){xf(Lp.options.enable,[Lp])&&(_p=_p.concat(Lp.getTouchAction()))}),Jv(_p.join(" "))},preventDefaults:function(_p){var Lp=_p.srcEvent,Xp=_p.offsetDirection;if(this.manager.session.prevented){Lp.preventDefault();return}var vg=this.actions,Og=zf(vg,jv)&&!hy[jv],Xg=zf(vg,Hv)&&!hy[Hv],Dm=zf(vg,vv)&&!hy[vv];if(Og){var qv=_p.pointers.length===1,Yv=_p.distance<2,cm=_p.deltaTime<250;if(qv&&Yv&&cm)return}if(!(Dm&&Xg)&&(Og||Xg&&Xp&Rp||Dm&&Xp&Up))return this.preventSrc(Lp)},preventSrc:function(_p){this.manager.session.prevented=!0,_p.preventDefault()}};function Jv(_p){if(zf(_p,jv))return jv;var Lp=zf(_p,vv),Xp=zf(_p,Hv);return Lp&&Xp?jv:Lp||Xp?Lp?vv:Hv:zf(_p,Ev)?Ev:Kg}function n1(){if(!eg)return!1;var _p={},Lp=at.CSS&&at.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(Xp){_p[Xp]=Lp?at.CSS.supports("touch-action",Xp):!0}),_p}var Ry=1,N0=2,Fb=4,sb=8,ov=sb,Fm=16,Xm=32;function J0(_p){this.options=xo({},this.defaults,_p||{}),this.id=Mp(),this.manager=null,this.options.enable=bf(this.options.enable,!0),this.state=Ry,this.simultaneous={},this.requireFail=[]}J0.prototype={defaults:{},set:function(_p){return xo(this.options,_p),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(_p){if(ls(_p,"recognizeWith",this))return this;var Lp=this.simultaneous;return _p=lb(_p,this),Lp[_p.id]||(Lp[_p.id]=_p,_p.recognizeWith(this)),this},dropRecognizeWith:function(_p){return ls(_p,"dropRecognizeWith",this)?this:(_p=lb(_p,this),delete this.simultaneous[_p.id],this)},requireFailure:function(_p){if(ls(_p,"requireFailure",this))return this;var Lp=this.requireFail;return _p=lb(_p,this),$f(Lp,_p)===-1&&(Lp.push(_p),_p.requireFailure(this)),this},dropRequireFailure:function(_p){if(ls(_p,"dropRequireFailure",this))return this;_p=lb(_p,this);var Lp=$f(this.requireFail,_p);return Lp>-1&&this.requireFail.splice(Lp,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(_p){return!!this.simultaneous[_p.id]},emit:function(_p){var Lp=this,Xp=this.state;function vg(Og){Lp.manager.emit(Og,_p)}Xp<sb&&vg(Lp.options.event+ab(Xp)),vg(Lp.options.event),_p.additionalEvent&&vg(_p.additionalEvent),Xp>=sb&&vg(Lp.options.event+ab(Xp))},tryEmit:function(_p){if(this.canEmit())return this.emit(_p);this.state=Xm},canEmit:function(){for(var _p=0;_p<this.requireFail.length;){if(!(this.requireFail[_p].state&(Xm|Ry)))return!1;_p++}return!0},recognize:function(_p){var Lp=xo({},_p);if(!xf(this.options.enable,[this,Lp])){this.reset(),this.state=Xm;return}this.state&(ov|Fm|Xm)&&(this.state=Ry),this.state=this.process(Lp),this.state&(N0|Fb|sb|Fm)&&this.tryEmit(Lp)},process:function(_p){},getTouchAction:function(){},reset:function(){}};function ab(_p){return _p&Fm?"cancel":_p&sb?"end":_p&Fb?"move":_p&N0?"start":""}function Gy(_p){return _p==zp?"down":_p==bp?"up":_p==Op?"left":_p==Gp?"right":""}function lb(_p,Lp){var Xp=Lp.manager;return Xp?Xp.get(_p):_p}function gm(){J0.apply(this,arguments)}yf(gm,J0,{defaults:{pointers:1},attrTest:function(_p){var Lp=this.options.pointers;return Lp===0||_p.pointers.length===Lp},process:function(_p){var Lp=this.state,Xp=_p.eventType,vg=Lp&(N0|Fb),Og=this.attrTest(_p);return vg&&(Xp&ip||!Og)?Lp|Fm:vg||Og?Xp&Jf?Lp|sb:Lp&N0?Lp|Fb:N0:Xm}});function dm(){gm.apply(this,arguments),this.pX=null,this.pY=null}yf(dm,gm,{defaults:{event:"pan",threshold:10,pointers:1,direction:Zp},getTouchAction:function(){var _p=this.options.direction,Lp=[];return _p&Rp&&Lp.push(Hv),_p&Up&&Lp.push(vv),Lp},directionTest:function(_p){var Lp=this.options,Xp=!0,vg=_p.distance,Og=_p.direction,Xg=_p.deltaX,Dm=_p.deltaY;return Og&Lp.direction||(Lp.direction&Rp?(Og=Xg===0?ap:Xg<0?Op:Gp,Xp=Xg!=this.pX,vg=Math.abs(_p.deltaX)):(Og=Dm===0?ap:Dm<0?bp:zp,Xp=Dm!=this.pY,vg=Math.abs(_p.deltaY))),_p.direction=Og,Xp&&vg>Lp.threshold&&Og&Lp.direction},attrTest:function(_p){return gm.prototype.attrTest.call(this,_p)&&(this.state&N0||!(this.state&N0)&&this.directionTest(_p))},emit:function(_p){this.pX=_p.deltaX,this.pY=_p.deltaY;var Lp=Gy(_p.direction);Lp&&(_p.additionalEvent=this.options.event+Lp),this._super.emit.call(this,_p)}});function o1(){gm.apply(this,arguments)}yf(o1,gm,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[jv]},attrTest:function(_p){return this._super.attrTest.call(this,_p)&&(Math.abs(_p.scale-1)>this.options.threshold||this.state&N0)},emit:function(_p){if(_p.scale!==1){var Lp=_p.scale<1?"in":"out";_p.additionalEvent=this.options.event+Lp}this._super.emit.call(this,_p)}});function nm(){J0.apply(this,arguments),this._timer=null,this._input=null}yf(nm,J0,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Kg]},process:function(_p){var Lp=this.options,Xp=_p.pointers.length===Lp.pointers,vg=_p.distance<Lp.threshold,Og=_p.deltaTime>Lp.time;if(this._input=_p,!vg||!Xp||_p.eventType&(Jf|ip)&&!Og)this.reset();else if(_p.eventType&up)this.reset(),this._timer=wo(function(){this.state=ov,this.tryEmit()},Lp.time,this);else if(_p.eventType&Jf)return ov;return Xm},reset:function(){clearTimeout(this._timer)},emit:function(_p){this.state===ov&&(_p&&_p.eventType&Jf?this.manager.emit(this.options.event+"up",_p):(this._input.timeStamp=wf(),this.manager.emit(this.options.event,this._input)))}});function Cm(){gm.apply(this,arguments)}yf(Cm,gm,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[jv]},attrTest:function(_p){return this._super.attrTest.call(this,_p)&&(Math.abs(_p.rotation)>this.options.threshold||this.state&N0)}});function ub(){gm.apply(this,arguments)}yf(ub,gm,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Rp|Up,pointers:1},getTouchAction:function(){return dm.prototype.getTouchAction.call(this)},attrTest:function(_p){var Lp=this.options.direction,Xp;return Lp&(Rp|Up)?Xp=_p.overallVelocity:Lp&Rp?Xp=_p.overallVelocityX:Lp&Up&&(Xp=_p.overallVelocityY),this._super.attrTest.call(this,_p)&&Lp&_p.offsetDirection&&_p.distance>this.options.threshold&&_p.maxPointers==this.options.pointers&&df(Xp)>this.options.velocity&&_p.eventType&Jf},emit:function(_p){var Lp=Gy(_p.offsetDirection);Lp&&this.manager.emit(this.options.event+Lp,_p),this.manager.emit(this.options.event,_p)}});function zb(){J0.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}yf(zb,J0,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ev]},process:function(_p){var Lp=this.options,Xp=_p.pointers.length===Lp.pointers,vg=_p.distance<Lp.threshold,Og=_p.deltaTime<Lp.time;if(this.reset(),_p.eventType&up&&this.count===0)return this.failTimeout();if(vg&&Og&&Xp){if(_p.eventType!=Jf)return this.failTimeout();var Xg=this.pTime?_p.timeStamp-this.pTime<Lp.interval:!0,Dm=!this.pCenter||cp(this.pCenter,_p.center)<Lp.posThreshold;this.pTime=_p.timeStamp,this.pCenter=_p.center,!Dm||!Xg?this.count=1:this.count+=1,this._input=_p;var qv=this.count%Lp.taps;if(qv===0)return this.hasRequireFailures()?(this._timer=wo(function(){this.state=ov,this.tryEmit()},Lp.interval,this),N0):ov}return Xm},failTimeout:function(){return this._timer=wo(function(){this.state=Xm},this.options.interval,this),Xm},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ov&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Q0(_p,Lp){return Lp=Lp||{},Lp.recognizers=bf(Lp.recognizers,Q0.defaults.preset),new qy(_p,Lp)}Q0.VERSION="2.0.7",Q0.defaults={domEvents:!1,touchAction:Pg,enable:!0,inputTarget:null,inputClass:null,preset:[[Cm,{enable:!1}],[o1,{enable:!1},["rotate"]],[ub,{direction:Rp}],[dm,{direction:Rp},["swipe"]],[zb],[zb,{event:"doubletap",taps:2},["tap"]],[nm]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Qv=1,Iv=2;function qy(_p,Lp){this.options=xo({},Q0.defaults,Lp||{}),this.options.inputTarget=this.options.inputTarget||_p,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=_p,this.input=jp(this),this.touchAction=new Ly(this,this.options.touchAction),dy(this,!0),_f(this.options.recognizers,function(Xp){var vg=this.add(new Xp[0](Xp[1]));Xp[2]&&vg.recognizeWith(Xp[2]),Xp[3]&&vg.requireFailure(Xp[3])},this)}qy.prototype={set:function(_p){return xo(this.options,_p),_p.touchAction&&this.touchAction.update(),_p.inputTarget&&(this.input.destroy(),this.input.target=_p.inputTarget,this.input.init()),this},stop:function(_p){this.session.stopped=_p?Iv:Qv},recognize:function(_p){var Lp=this.session;if(!Lp.stopped){this.touchAction.preventDefaults(_p);var Xp,vg=this.recognizers,Og=Lp.curRecognizer;(!Og||Og&&Og.state&ov)&&(Og=Lp.curRecognizer=null);for(var Xg=0;Xg<vg.length;)Xp=vg[Xg],Lp.stopped!==Iv&&(!Og||Xp==Og||Xp.canRecognizeWith(Og))?Xp.recognize(_p):Xp.reset(),!Og&&Xp.state&(N0|Fb|sb)&&(Og=Lp.curRecognizer=Xp),Xg++}},get:function(_p){if(_p instanceof J0)return _p;for(var Lp=this.recognizers,Xp=0;Xp<Lp.length;Xp++)if(Lp[Xp].options.event==_p)return Lp[Xp];return null},add:function(_p){if(ls(_p,"add",this))return this;var Lp=this.get(_p.options.event);return Lp&&this.remove(Lp),this.recognizers.push(_p),_p.manager=this,this.touchAction.update(),_p},remove:function(_p){if(ls(_p,"remove",this))return this;if(_p=this.get(_p),_p){var Lp=this.recognizers,Xp=$f(Lp,_p);Xp!==-1&&(Lp.splice(Xp,1),this.touchAction.update())}return this},on:function(_p,Lp){if(_p!==uo&&Lp!==uo){var Xp=this.handlers;return _f(jf(_p),function(vg){Xp[vg]=Xp[vg]||[],Xp[vg].push(Lp)}),this}},off:function(_p,Lp){if(_p!==uo){var Xp=this.handlers;return _f(jf(_p),function(vg){Lp?Xp[vg]&&Xp[vg].splice($f(Xp[vg],Lp),1):delete Xp[vg]}),this}},emit:function(_p,Lp){this.options.domEvents&&Eb(_p,Lp);var Xp=this.handlers[_p]&&this.handlers[_p].slice();if(!(!Xp||!Xp.length)){Lp.type=_p,Lp.preventDefault=function(){Lp.srcEvent.preventDefault()};for(var vg=0;vg<Xp.length;)Xp[vg](Lp),vg++}},destroy:function(){this.element&&dy(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function dy(_p,Lp){var Xp=_p.element;if(Xp.style){var vg;_f(_p.options.cssProps,function(Og,Xg){vg=mp(Xp.style,Xg),Lp?(_p.oldCssProps[vg]=Xp.style[vg],Xp.style[vg]=Og):Xp.style[vg]=_p.oldCssProps[vg]||""}),Lp||(_p.oldCssProps={})}}function Eb(_p,Lp){var Xp=ut.createEvent("Event");Xp.initEvent(_p,!0,!0),Xp.gesture=Lp,Lp.target.dispatchEvent(Xp)}xo(Q0,{INPUT_START:up,INPUT_MOVE:Nf,INPUT_END:Jf,INPUT_CANCEL:ip,STATE_POSSIBLE:Ry,STATE_BEGAN:N0,STATE_CHANGED:Fb,STATE_ENDED:sb,STATE_RECOGNIZED:ov,STATE_CANCELLED:Fm,STATE_FAILED:Xm,DIRECTION_NONE:ap,DIRECTION_LEFT:Op,DIRECTION_RIGHT:Gp,DIRECTION_UP:bp,DIRECTION_DOWN:zp,DIRECTION_HORIZONTAL:Rp,DIRECTION_VERTICAL:Up,DIRECTION_ALL:Zp,Manager:qy,Input:Ip,TouchAction:Ly,TouchInput:d0,MouseInput:Zg,PointerEventInput:Y0,TouchMouseInput:ob,SingleTouchInput:L0,Recognizer:J0,AttrRecognizer:gm,Tap:zb,Pan:dm,Swipe:ub,Pinch:o1,Rotate:Cm,Press:nm,on:Af,off:Pf,each:_f,merge:cf,extend:gf,assign:xo,inherit:yf,bindFn:Sf,prefixed:mp});var Dy=typeof at<"u"?at:typeof self<"u"?self:{};Dy.Hammer=Q0,ot=(function(){return Q0}).call(X,tt,X,q),ot!==uo&&(q.exports=ot)})(window,document)},function(q,X,tt){X.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."},X.en_EN=X.en,X.en_US=X.en,X.de={edit:"Editieren",del:"Lösche Auswahl",back:"Zurück",addNode:"Knoten hinzufügen",addEdge:"Kante hinzufügen",editNode:"Knoten editieren",editEdge:"Kante editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht möglich, Kanten mit Clustern zu verbinden.",deleteClusterError:"Cluster können nicht gelöscht werden.",editClusterError:"Cluster können nicht editiert werden."},X.de_DE=X.de,X.es={edit:"Editar",del:"Eliminar selección",back:"Átras",addNode:"Añadir nodo",addEdge:"Añadir arista",editNode:"Editar nodo",editEdge:"Editar arista",addDescription:"Haga clic en un lugar vacío para colocar un nuevo nodo.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",createEdgeError:"No se puede conectar una arista a un grupo.",deleteClusterError:"No es posible eliminar grupos.",editClusterError:"No es posible editar grupos."},X.es_ES=X.es,X.it={edit:"Modifica",del:"Cancella la selezione",back:"Indietro",addNode:"Aggiungi un nodo",addEdge:"Aggiungi un vertice",editNode:"Modifica il nodo",editEdge:"Modifica il vertice",addDescription:"Clicca per aggiungere un nuovo nodo",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",createEdgeError:"Non si possono collegare vertici ad un cluster",deleteClusterError:"I cluster non possono essere cancellati",editClusterError:"I clusters non possono essere modificati."},X.it_IT=X.it,X.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."},X.nl_NL=X.nl,X.nl_BE=X.nl,X["pt-br"]={edit:"Editar",del:"Remover selecionado",back:"Voltar",addNode:"Adicionar nó",addEdge:"Adicionar aresta",editNode:"Editar nó",editEdge:"Editar aresta",addDescription:"Clique em um espaço em branco para adicionar um novo nó",edgeDescription:"Clique em um nó e arraste a aresta até outro nó para conectá-los",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nó para conectá-los",createEdgeError:"Não foi possível linkar arestas a um cluster.",deleteClusterError:"Clusters não puderam ser removidos.",editClusterError:"Clusters não puderam ser editados."},X["pt-BR"]=X["pt-br"],X.pt_BR=X["pt-br"],X.pt_br=X["pt-br"],X.ru={edit:"Редактировать",del:"Удалить выбранное",back:"Назад",addNode:"Добавить узел",addEdge:"Добавить ребро",editNode:"Редактировать узел",editEdge:"Редактировать ребро",addDescription:"Кликните в свободное место, чтобы добавить новый узел.",edgeDescription:"Кликните на узел и протяните ребро к другому узлу, чтобы соединить их.",editEdgeDescription:"Кликните на контрольные точки и перетащите их в узел, чтобы подключиться к нему.",createEdgeError:"Невозможно соединить ребра в кластер.",deleteClusterError:"Кластеры не могут быть удалены",editClusterError:"Кластеры недоступны для редактирования."},X.ru_RU=X.ru,X.cn={edit:"编辑",del:"删除选定",back:"返回",addNode:"添加节点",addEdge:"添加连接线",editNode:"编辑节点",editEdge:"编辑连接线",addDescription:"单击空白处放置新节点。",edgeDescription:"单击某个节点并将该连接线拖动到另一个节点以连接它们。",editEdgeDescription:"单击控制节点并将它们拖到节点上连接。",createEdgeError:"无法将连接线连接到群集。",deleteClusterError:"无法删除群集。",editClusterError:"无法编辑群集。"},X.zh_CN=X.cn,X.uk={edit:"Редагувати",del:"Видалити обране",back:"Назад",addNode:"Додати вузол",addEdge:"Додати край",editNode:"Редагувати вузол",editEdge:"Редагувати край",addDescription:"Kлікніть на вільне місце, щоб додати новий вузол.",edgeDescription:"Клікніть на вузол і перетягніть край до іншого вузла, щоб їх з'єднати.",editEdgeDescription:"Клікніть на контрольні точки і перетягніть їх у вузол, щоб підключитися до нього.",createEdgeError:"Не можливо об'єднати краї в групу.",deleteClusterError:"Групи не можуть бути видалені.",editClusterError:"Групи недоступні для редагування."},X.uk_UA=X.uk,X.fr={edit:"Editer",del:"Effacer la selection",back:"Retour",addNode:"Ajouter un noeud",addEdge:"Ajouter un lien",editNode:"Editer le noeud",editEdge:"Editer le lien",addDescription:"Cliquez dans un endroit vide pour placer un noeud.",edgeDescription:"Cliquez sur un noeud et glissez le lien vers un autre noeud pour les connecter.",editEdgeDescription:"Cliquez sur les points de contrôle et glissez-les pour connecter un noeud.",createEdgeError:"Impossible de créer un lien vers un cluster.",deleteClusterError:"Les clusters ne peuvent pas être éffacés.",editClusterError:"Les clusters ne peuvent pas être édites."},X.fr_FR=X.fr},function(q,X,tt){q.exports={default:tt(131),__esModule:!0}},function(q,X,tt){tt(132);var ot=tt(6).Object;q.exports=function(ut,wt,uo){return ot.defineProperty(ut,wt,uo)}},function(q,X,tt){var ot=tt(11);ot(ot.S+ot.F*!tt(13),"Object",{defineProperty:tt(12).f})},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(0),at=uo(ot),ut=tt(1),wt=uo(ut);function uo(yo){return yo&&yo.__esModule?yo:{default:yo}}var mo=function(){function yo(){(0,at.default)(this,yo),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return(0,wt.default)(yo,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var uf=this.image.width,df=this.image.height;this.width=uf,this.height=df;var wf=Math.floor(df/2),wo=Math.floor(df/4),ls=Math.floor(df/8),_f=Math.floor(df/16),po=Math.floor(uf/2),xo=Math.floor(uf/4),gf=Math.floor(uf/8),cf=Math.floor(uf/16);this.canvas.width=3*xo,this.canvas.height=wf,this.coordinates=[[0,0,po,wf],[po,0,xo,wo],[po,wo,gf,ls],[5*gf,wo,cf,_f]],this._fillMipMap()}}},{key:"initialized",value:function(){return this.coordinates!==void 0}},{key:"_fillMipMap",value:function(){var uf=this.canvas.getContext("2d"),df=this.coordinates[0];uf.drawImage(this.image,df[0],df[1],df[2],df[3]);for(var wf=1;wf<this.NUM_ITERATIONS;wf++){var wo=this.coordinates[wf-1],ls=this.coordinates[wf];uf.drawImage(this.canvas,wo[0],wo[1],wo[2],wo[3],ls[0],ls[1],ls[2],ls[3])}}},{key:"drawImageAtPosition",value:function(uf,df,wf,wo,ls,_f){if(this.initialized())if(df>2){df*=.5;for(var po=0;df>2&&po<this.NUM_ITERATIONS;)df*=.5,po+=1;po>=this.NUM_ITERATIONS&&(po=this.NUM_ITERATIONS-1);var xo=this.coordinates[po];uf.drawImage(this.canvas,xo[0],xo[1],xo[2],xo[3],wf,wo,ls,_f)}else uf.drawImage(this.image,wf,wo,ls,_f)}}]),yo}();X.default=mo},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(0),at=uo(ot),ut=tt(1),wt=uo(ut);function uo(lf){return lf&&lf.__esModule?lf:{default:lf}}var mo=tt(2),yo=function(){function lf(){(0,at.default)(this,lf),this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},mo.extend(this.options,this.defaultOptions)}return(0,wt.default)(lf,[{key:"setOptions",value:function(df){var wf=["useDefaultGroups"];if(df!==void 0){for(var wo in df)if(df.hasOwnProperty(wo)&&wf.indexOf(wo)===-1){var ls=df[wo];this.add(wo,ls)}}}},{key:"clear",value:function(){this.groups={},this.groupsArray=[]}},{key:"get",value:function(df){var wf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,wo=this.groups[df];if(wo===void 0&&wf)if(this.options.useDefaultGroups===!1&&this.groupsArray.length>0){var ls=this.groupIndex%this.groupsArray.length;this.groupIndex++,wo={},wo.color=this.groups[this.groupsArray[ls]],this.groups[df]=wo}else{var _f=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++,wo={},wo.color=this.defaultGroups[_f],this.groups[df]=wo}return wo}},{key:"add",value:function(df,wf){return this.groups[df]=wf,this.groupsArray.push(df),wf}}]),lf}();X.default=yo},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(0),at=uo(ot),ut=tt(1),wt=uo(ut);function uo(wf){return wf&&wf.__esModule?wf:{default:wf}}var mo=tt(2),yo=tt(33),lf=tt(51),uf=tt(34).default,df=function(){function wf(wo,ls,_f,po){var xo=this;if((0,at.default)(this,wf),this.body=wo,this.images=ls,this.groups=_f,this.layoutEngine=po,this.body.functions.createNode=this.create.bind(this),this.nodesListeners={add:function(cf,yf){xo.add(yf.items)},update:function(cf,yf){xo.update(yf.items,yf.data,yf.oldData)},remove:function(cf,yf){xo.remove(yf.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(cf,yf,Sf,xf){if(yf===cf)return .5;var bf=1/(yf-cf);return Math.max(0,(xf-cf)*bf)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=mo.bridgeObject(this.defaultOptions),this.bindEventListeners()}return(0,wt.default)(wf,[{key:"bindEventListeners",value:function(){var ls=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){mo.forEach(ls.nodesListeners,function(_f,po){ls.body.data.nodes&&ls.body.data.nodes.off(po,_f)}),delete ls.body.functions.createNode,delete ls.nodesListeners.add,delete ls.nodesListeners.update,delete ls.nodesListeners.remove,delete ls.nodesListeners})}},{key:"setOptions",value:function(ls){if(ls!==void 0){if(uf.parseOptions(this.options,ls),ls.shape!==void 0)for(var _f in this.body.nodes)this.body.nodes.hasOwnProperty(_f)&&this.body.nodes[_f].updateShape();if(ls.font!==void 0)for(var po in this.body.nodes)this.body.nodes.hasOwnProperty(po)&&(this.body.nodes[po].updateLabelModule(),this.body.nodes[po].needsRefresh());if(ls.size!==void 0)for(var xo in this.body.nodes)this.body.nodes.hasOwnProperty(xo)&&this.body.nodes[xo].needsRefresh();(ls.hidden!==void 0||ls.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(ls){var _f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,po=this.body.data.nodes;if(ls instanceof yo||ls instanceof lf)this.body.data.nodes=ls;else if(Array.isArray(ls))this.body.data.nodes=new yo,this.body.data.nodes.add(ls);else if(!ls)this.body.data.nodes=new yo;else throw new TypeError("Array or DataSet expected");if(po&&mo.forEach(this.nodesListeners,function(cf,yf){po.off(yf,cf)}),this.body.nodes={},this.body.data.nodes){var xo=this;mo.forEach(this.nodesListeners,function(cf,yf){xo.body.data.nodes.on(yf,cf)});var gf=this.body.data.nodes.getIds();this.add(gf,!0)}_f===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(ls){for(var _f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,po=void 0,xo=[],gf=0;gf<ls.length;gf++){po=ls[gf];var cf=this.body.data.nodes.get(po),yf=this.create(cf);xo.push(yf),this.body.nodes[po]=yf}this.layoutEngine.positionInitially(xo),_f===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(ls,_f,po){for(var xo=this.body.nodes,gf=!1,cf=0;cf<ls.length;cf++){var yf=ls[cf],Sf=xo[yf],xf=_f[cf];Sf!==void 0?Sf.setOptions(xf)&&(gf=!0):(gf=!0,Sf=this.create(xf),xo[yf]=Sf)}!gf&&po!==void 0&&(gf=_f.some(function(bf,Af){var Pf=po[Af];return Pf&&Pf.level!==bf.level})),gf===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(ls){for(var _f=this.body.nodes,po=0;po<ls.length;po++){var xo=ls[po];delete _f[xo]}this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(ls){var _f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:uf;return new _f(ls,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var ls=this,_f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;mo.forEach(this.body.nodes,function(po,xo){var gf=ls.body.data.nodes.get(xo);gf!==void 0&&(_f===!0&&po.setOptions({x:null,y:null}),po.setOptions({fixed:!1}),po.setOptions(gf))})}},{key:"getPositions",value:function(ls){var _f={};if(ls!==void 0){if(Array.isArray(ls)===!0){for(var po=0;po<ls.length;po++)if(this.body.nodes[ls[po]]!==void 0){var xo=this.body.nodes[ls[po]];_f[ls[po]]={x:Math.round(xo.x),y:Math.round(xo.y)}}}else if(this.body.nodes[ls]!==void 0){var gf=this.body.nodes[ls];_f[ls]={x:Math.round(gf.x),y:Math.round(gf.y)}}}else for(var cf=0;cf<this.body.nodeIndices.length;cf++){var yf=this.body.nodes[this.body.nodeIndices[cf]];_f[this.body.nodeIndices[cf]]={x:Math.round(yf.x),y:Math.round(yf.y)}}return _f}},{key:"storePositions",value:function(){var ls=[],_f=this.body.data.nodes.getDataSet();for(var po in _f._data)if(_f._data.hasOwnProperty(po)){var xo=this.body.nodes[po];(_f._data[po].x!=Math.round(xo.x)||_f._data[po].y!=Math.round(xo.y))&&ls.push({id:xo.id,x:Math.round(xo.x),y:Math.round(xo.y)})}_f.update(ls)}},{key:"getBoundingBox",value:function(ls){if(this.body.nodes[ls]!==void 0)return this.body.nodes[ls].shape.boundingBox}},{key:"getConnectedNodes",value:function(ls,_f){var po=[];if(this.body.nodes[ls]!==void 0)for(var xo=this.body.nodes[ls],gf={},cf=0;cf<xo.edges.length;cf++){var yf=xo.edges[cf];_f!=="to"&&yf.toId==xo.id?gf[yf.fromId]===void 0&&(po.push(yf.fromId),gf[yf.fromId]=!0):_f!=="from"&&yf.fromId==xo.id&&gf[yf.toId]===void 0&&(po.push(yf.toId),gf[yf.toId]=!0)}return po}},{key:"getConnectedEdges",value:function(ls){var _f=[];if(this.body.nodes[ls]!==void 0)for(var po=this.body.nodes[ls],xo=0;xo<po.edges.length;xo++)_f.push(po.edges[xo].id);else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",ls);return _f}},{key:"moveNode",value:function(ls,_f,po){var xo=this;this.body.nodes[ls]!==void 0?(this.body.nodes[ls].x=Number(_f),this.body.nodes[ls].y=Number(po),setTimeout(function(){xo.body.emitter.emit("startSimulation")},0)):console.log("Node id supplied to moveNode does not exist. Provided: ",ls)}}]),wf}();X.default=df},function(q,X,tt){q.exports={default:tt(137),__esModule:!0}},function(q,X,tt){tt(37),tt(47),q.exports=tt(138)},function(q,X,tt){var ot=tt(67),at=tt(8)("iterator"),ut=tt(25);q.exports=tt(6).isIterable=function(wt){var uo=Object(wt);return uo[at]!==void 0||"@@iterator"in uo||ut.hasOwnProperty(ot(uo))}},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(15),at=yo(ot),ut=tt(0),wt=yo(ut),uo=tt(1),mo=yo(uo);function yo(ls){return ls&&ls.__esModule?ls:{default:ls}}var lf=tt(140).default,uf=tt(35).default,df={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/\_/,"`":/`/,afterBold:/[^\*]/,afterItal:/[^_]/,afterMono:/[^`]/},wf=function(){function ls(_f){(0,wt.default)(this,ls),this.text=_f,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return(0,mo.default)(ls,[{key:"mod",value:function(){return this.modStack.length===0?"normal":this.modStack[0]}},{key:"modName",value:function(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(po){po===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),po!=" "&&(this.buffer+=po)}},{key:"parseWS",value:function(po){return/[ \t]/.test(po)?(this.mono?this.add(po):this.spacing=!0,!0):!1}},{key:"setTag",value:function(po){this.emitBlock(),this[po]=!0,this.modStack.unshift(po)}},{key:"unsetTag",value:function(po){this.emitBlock(),this[po]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(po,xo){return!this.mono&&!this[po]&&this.match(xo)?(this.setTag(po),!0):!1}},{key:"match",value:function(po){var xo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,gf=this.prepareRegExp(po),cf=(0,at.default)(gf,2),yf=cf[0],Sf=cf[1],xf=yf.test(this.text.substr(this.position,Sf));return xf&&xo&&(this.position+=Sf-1),xf}},{key:"parseEndTag",value:function(po,xo,gf){var cf=this.mod()===po;return po==="mono"?cf=cf&&this.mono:cf=cf&&!this.mono,cf&&this.match(xo)?(gf!==void 0?(this.position===this.text.length-1||this.match(gf,!1))&&this.unsetTag(po):this.unsetTag(po),!0):!1}},{key:"replace",value:function(po,xo){return this.match(po)?(this.add(xo),this.position+=length-1,!0):!1}},{key:"prepareRegExp",value:function(po){var xo=void 0,gf=void 0;if(po instanceof RegExp)gf=po,xo=1;else{var cf=df[po];cf!==void 0?gf=cf:gf=new RegExp(po),xo=po.length}return[gf,xo]}}]),ls}(),wo=function(){function ls(_f,po,xo,gf){var cf=this;(0,wt.default)(this,ls),this.ctx=_f,this.parent=po,this.selected=xo,this.hover=gf;var yf=function(xf,bf){if(xf===void 0)return 0;var Af=cf.parent.getFormattingValues(_f,xo,gf,bf),Pf=0;if(xf!==""){var Df=cf.ctx.measureText(xf);Pf=Df.width}return{width:Pf,values:Af}};this.lines=new lf(yf)}return(0,mo.default)(ls,[{key:"process",value:function(po){if(!uf.isValidLabel(po))return this.lines.finalize();var xo=this.parent.fontOptions;po=po.replace(/\r\n/g,`
`),po=po.replace(/\r/g,`
`);var gf=String(po).split(`
`),cf=gf.length;if(xo.multi)for(var yf=0;yf<cf;yf++){var Sf=this.splitBlocks(gf[yf],xo.multi);if(Sf!==void 0){if(Sf.length===0){this.lines.newLine("");continue}if(xo.maxWdt>0)for(var xf=0;xf<Sf.length;xf++){var bf=Sf[xf].mod,Af=Sf[xf].text;this.splitStringIntoLines(Af,bf,!0)}else for(var Pf=0;Pf<Sf.length;Pf++){var Df=Sf[Pf].mod,zf=Sf[Pf].text;this.lines.append(zf,Df)}this.lines.newLine()}}else if(xo.maxWdt>0)for(var jf=0;jf<cf;jf++)this.splitStringIntoLines(gf[jf]);else for(var $f=0;$f<cf;$f++)this.lines.newLine(gf[$f]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(po){var xo="none";return po==="markdown"||po==="md"?xo="markdown":(po===!0||po==="html")&&(xo="html"),xo}},{key:"splitHtmlBlocks",value:function(po){for(var xo=new wf(po),gf=function(xf){if(/&/.test(xf)){var bf=xo.replace(xo.text,"&lt;","<")||xo.replace(xo.text,"&amp;","&");return bf||xo.add("&"),!0}return!1};xo.position<xo.text.length;){var cf=xo.text.charAt(xo.position),yf=xo.parseWS(cf)||/</.test(cf)&&(xo.parseStartTag("bold","<b>")||xo.parseStartTag("ital","<i>")||xo.parseStartTag("mono","<code>")||xo.parseEndTag("bold","</b>")||xo.parseEndTag("ital","</i>")||xo.parseEndTag("mono","</code>"))||gf(cf);yf||xo.add(cf),xo.position++}return xo.emitBlock(),xo.blocks}},{key:"splitMarkdownBlocks",value:function(po){for(var xo=this,gf=new wf(po),cf=!0,yf=function(Af){return/\\/.test(Af)?(gf.position<xo.text.length+1&&(gf.position++,Af=xo.text.charAt(gf.position),/ \t/.test(Af)?gf.spacing=!0:(gf.add(Af),cf=!1)),!0):!1};gf.position<gf.text.length;){var Sf=gf.text.charAt(gf.position),xf=gf.parseWS(Sf)||yf(Sf)||(cf||gf.spacing)&&(gf.parseStartTag("bold","*")||gf.parseStartTag("ital","_")||gf.parseStartTag("mono","`"))||gf.parseEndTag("bold","*","afterBold")||gf.parseEndTag("ital","_","afterItal")||gf.parseEndTag("mono","`","afterMono");xf||(gf.add(Sf),cf=!1),gf.position++}return gf.emitBlock(),gf.blocks}},{key:"splitBlocks",value:function(po,xo){var gf=this.decodeMarkupSystem(xo);if(gf==="none")return[{text:po,mod:"normal"}];if(gf==="markdown")return this.splitMarkdownBlocks(po);if(gf==="html")return this.splitHtmlBlocks(po)}},{key:"overMaxWidth",value:function(po){var xo=this.ctx.measureText(po).width;return this.lines.curWidth()+xo>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(po){for(var xo="",gf=0;gf<po.length;){var cf=xo===""?"":" ",yf=xo+cf+po[gf];if(this.overMaxWidth(yf))break;xo=yf,gf++}return gf}},{key:"getLongestFitWord",value:function(po){for(var xo=0;xo<po.length&&!this.overMaxWidth(po.slice(0,xo));)xo++;return xo}},{key:"splitStringIntoLines",value:function(po){var xo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",gf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,xo),po=po.replace(/^( +)/g,"$1\r"),po=po.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");for(var cf=po.split("\r");cf.length>0;){var yf=this.getLongestFit(cf);if(yf===0){var Sf=cf[0],xf=this.getLongestFitWord(Sf);this.lines.newLine(Sf.slice(0,xf),xo),cf[0]=Sf.slice(xf)}else{var bf=yf;cf[yf-1]===" "?yf--:cf[bf]===" "&&bf++;var Af=cf.slice(0,yf).join("");yf==cf.length&&gf?this.lines.append(Af,xo):this.lines.newLine(Af,xo),cf=cf.slice(bf)}}}}]),ls}();X.default=wo},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(78),at=yo(ot),ut=tt(0),wt=yo(ut),uo=tt(1),mo=yo(uo);function yo(uf){return uf&&uf.__esModule?uf:{default:uf}}var lf=function(){function uf(df){(0,wt.default)(this,uf),this.measureText=df,this.current=0,this.width=0,this.height=0,this.lines=[]}return(0,mo.default)(uf,[{key:"_add",value:function(wf,wo){var ls=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[wf]===void 0&&(this.lines[wf]={width:0,height:0,blocks:[]});var _f=wo;(wo===void 0||wo==="")&&(_f=" ");var po=this.measureText(_f,ls),xo=(0,at.default)({},po.values);xo.text=wo,xo.width=po.width,xo.mod=ls,(wo===void 0||wo==="")&&(xo.width=0),this.lines[wf].blocks.push(xo),this.lines[wf].width+=xo.width}},{key:"curWidth",value:function(){var wf=this.lines[this.current];return wf===void 0?0:wf.width}},{key:"append",value:function(wf){var wo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,wf,wo)}},{key:"newLine",value:function(wf){var wo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,wf,wo),this.current++}},{key:"determineLineHeights",value:function(){for(var wf=0;wf<this.lines.length;wf++){var wo=this.lines[wf],ls=0;if(wo.blocks!==void 0)for(var _f=0;_f<wo.blocks.length;_f++){var po=wo.blocks[_f];ls<po.height&&(ls=po.height)}wo.height=ls}}},{key:"determineLabelSize",value:function(){for(var wf=0,wo=0,ls=0;ls<this.lines.length;ls++){var _f=this.lines[ls];_f.width>wf&&(wf=_f.width),wo+=_f.height}this.width=wf,this.height=wo}},{key:"removeEmptyBlocks",value:function(){for(var wf=[],wo=0;wo<this.lines.length;wo++){var ls=this.lines[wo];if(ls.blocks.length!==0&&!(wo===this.lines.length-1&&ls.width===0)){var _f={};(0,at.default)(_f,ls),_f.blocks=[];for(var po=void 0,xo=[],gf=0;gf<ls.blocks.length;gf++){var cf=ls.blocks[gf];cf.width!==0?xo.push(cf):po===void 0&&(po=cf)}xo.length===0&&po!==void 0&&xo.push(po),_f.blocks=xo,wf.push(_f)}}return wf}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var wf=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:wf}}}]),uf}();X.default=lf},function(q,X,tt){tt(142),q.exports=tt(6).Object.assign},function(q,X,tt){var ot=tt(11);ot(ot.S+ot.F,"Object",{assign:tt(143)})},function(q,X,tt){var ot=tt(26),at=tt(50),ut=tt(32),wt=tt(30),uo=tt(59),mo=Object.assign;q.exports=!mo||tt(22)(function(){var yo={},lf={},uf=Symbol(),df="abcdefghijklmnopqrst";return yo[uf]=7,df.split("").forEach(function(wf){lf[wf]=wf}),mo({},yo)[uf]!=7||Object.keys(mo({},lf)).join("")!=df})?function(lf,uf){for(var df=wt(lf),wf=arguments.length,wo=1,ls=at.f,_f=ut.f;wf>wo;)for(var po=uo(arguments[wo++]),xo=ls?ot(po).concat(ls(po)):ot(po),gf=xo.length,cf=0,yf;gf>cf;)_f.call(po,yf=xo[cf++])&&(df[yf]=po[yf]);return df}:mo},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=ls(ot),ut=tt(0),wt=ls(ut),uo=tt(1),mo=ls(uo),yo=tt(4),lf=ls(yo),uf=tt(5),df=ls(uf),wf=tt(16),wo=ls(wf);function ls(po){return po&&po.__esModule?po:{default:po}}var _f=function(po){(0,df.default)(xo,po);function xo(gf,cf,yf){(0,wt.default)(this,xo);var Sf=(0,lf.default)(this,(xo.__proto__||(0,at.default)(xo)).call(this,gf,cf,yf));return Sf._setMargins(yf),Sf}return(0,mo.default)(xo,[{key:"resize",value:function(cf){var yf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,Sf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(yf,Sf)){var xf=this.getDimensionsFromLabel(cf,yf,Sf);this.width=xf.width+this.margin.right+this.margin.left,this.height=xf.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(cf,yf,Sf,xf,bf,Af){this.resize(cf,xf,bf),this.left=yf-this.width/2,this.top=Sf-this.height/2,this.initContextForDraw(cf,Af),cf.roundRect(this.left,this.top,this.width,this.height,Af.borderRadius),this.performFill(cf,Af),this.updateBoundingBox(yf,Sf,cf,xf,bf),this.labelModule.draw(cf,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,xf,bf)}},{key:"updateBoundingBox",value:function(cf,yf,Sf,xf,bf){this._updateBoundingBox(cf,yf,Sf,xf,bf);var Af=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(Af)}},{key:"distanceToBorder",value:function(cf,yf){this.resize(cf);var Sf=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(yf)),Math.abs(this.height/2/Math.sin(yf)))+Sf}}]),xo}(wo.default);X.default=_f},function(q,X,tt){tt(146),q.exports=tt(6).Object.getPrototypeOf},function(q,X,tt){var ot=tt(30),at=tt(66);tt(68)("getPrototypeOf",function(){return function(wt){return at(ot(wt))}})},function(q,X,tt){q.exports={default:tt(148),__esModule:!0}},function(q,X,tt){tt(149),q.exports=tt(6).Object.setPrototypeOf},function(q,X,tt){var ot=tt(11);ot(ot.S,"Object",{setPrototypeOf:tt(150).set})},function(q,X,tt){var ot=tt(21),at=tt(20),ut=function(wt,uo){if(at(wt),!ot(uo)&&uo!==null)throw TypeError(uo+": can't set as prototype!")};q.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(wt,uo,mo){try{mo=tt(61)(Function.call,tt(70).f(Object.prototype,"__proto__").set,2),mo(wt,[]),uo=!(wt instanceof Array)}catch{uo=!0}return function(lf,uf){return ut(lf,uf),uo?lf.__proto__=uf:mo(lf,uf),lf}}({},!1):void 0),check:ut}},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=ls(ot),ut=tt(0),wt=ls(ut),uo=tt(1),mo=ls(uo),yo=tt(4),lf=ls(yo),uf=tt(5),df=ls(uf),wf=tt(53),wo=ls(wf);function ls(po){return po&&po.__esModule?po:{default:po}}var _f=function(po){(0,df.default)(xo,po);function xo(gf,cf,yf){(0,wt.default)(this,xo);var Sf=(0,lf.default)(this,(xo.__proto__||(0,at.default)(xo)).call(this,gf,cf,yf));return Sf._setMargins(yf),Sf}return(0,mo.default)(xo,[{key:"resize",value:function(cf){var yf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,Sf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(yf,Sf)){var xf=this.getDimensionsFromLabel(cf,yf,Sf),bf=Math.max(xf.width+this.margin.right+this.margin.left,xf.height+this.margin.top+this.margin.bottom);this.options.size=bf/2,this.width=bf,this.height=bf,this.radius=this.width/2}}},{key:"draw",value:function(cf,yf,Sf,xf,bf,Af){this.resize(cf,xf,bf),this.left=yf-this.width/2,this.top=Sf-this.height/2,this._drawRawCircle(cf,yf,Sf,Af),this.updateBoundingBox(yf,Sf),this.labelModule.draw(cf,this.left+this.textSize.width/2+this.margin.left,Sf,xf,bf)}},{key:"updateBoundingBox",value:function(cf,yf){this.boundingBox.top=yf-this.options.size,this.boundingBox.left=cf-this.options.size,this.boundingBox.right=cf+this.options.size,this.boundingBox.bottom=yf+this.options.size}},{key:"distanceToBorder",value:function(cf,yf){return this.resize(cf),this.width*.5}}]),xo}(wo.default);X.default=_f},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=ls(ot),ut=tt(0),wt=ls(ut),uo=tt(1),mo=ls(uo),yo=tt(4),lf=ls(yo),uf=tt(5),df=ls(uf),wf=tt(53),wo=ls(wf);function ls(po){return po&&po.__esModule?po:{default:po}}var _f=function(po){(0,df.default)(xo,po);function xo(gf,cf,yf,Sf,xf){(0,wt.default)(this,xo);var bf=(0,lf.default)(this,(xo.__proto__||(0,at.default)(xo)).call(this,gf,cf,yf));return bf.setImages(Sf,xf),bf}return(0,mo.default)(xo,[{key:"resize",value:function(cf){var yf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,Sf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,xf=this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0;if(xf){var bf=this.options.size*2;this.width=bf,this.height=bf,this.radius=.5*this.width;return}this.needsRefresh(yf,Sf)&&this._resizeImage()}},{key:"draw",value:function(cf,yf,Sf,xf,bf,Af){this.switchImages(xf),this.resize(),this.left=yf-this.width/2,this.top=Sf-this.height/2,this._drawRawCircle(cf,yf,Sf,Af),cf.save(),cf.clip(),this._drawImageAtPosition(cf,Af),cf.restore(),this._drawImageLabel(cf,yf,Sf,xf,bf),this.updateBoundingBox(yf,Sf)}},{key:"updateBoundingBox",value:function(cf,yf){this.boundingBox.top=yf-this.options.size,this.boundingBox.left=cf-this.options.size,this.boundingBox.right=cf+this.options.size,this.boundingBox.bottom=yf+this.options.size,this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(cf,yf){return this.resize(cf),this.width*.5}}]),xo}(wo.default);X.default=_f},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=ls(ot),ut=tt(0),wt=ls(ut),uo=tt(1),mo=ls(uo),yo=tt(4),lf=ls(yo),uf=tt(5),df=ls(uf),wf=tt(16),wo=ls(wf);function ls(po){return po&&po.__esModule?po:{default:po}}var _f=function(po){(0,df.default)(xo,po);function xo(gf,cf,yf){(0,wt.default)(this,xo);var Sf=(0,lf.default)(this,(xo.__proto__||(0,at.default)(xo)).call(this,gf,cf,yf));return Sf._setMargins(yf),Sf}return(0,mo.default)(xo,[{key:"resize",value:function(cf,yf,Sf){if(this.needsRefresh(yf,Sf)){var xf=this.getDimensionsFromLabel(cf,yf,Sf),bf=xf.width+this.margin.right+this.margin.left;this.width=bf,this.height=bf,this.radius=this.width/2}}},{key:"draw",value:function(cf,yf,Sf,xf,bf,Af){this.resize(cf,xf,bf),this.left=yf-this.width/2,this.top=Sf-this.height/2,this.initContextForDraw(cf,Af),cf.database(yf-this.width/2,Sf-this.height/2,this.width,this.height),this.performFill(cf,Af),this.updateBoundingBox(yf,Sf,cf,xf,bf),this.labelModule.draw(cf,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,xf,bf)}},{key:"distanceToBorder",value:function(cf,yf){return this._distanceToBorder(cf,yf)}}]),xo}(wo.default);X.default=_f},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=ls(ot),ut=tt(0),wt=ls(ut),uo=tt(1),mo=ls(uo),yo=tt(4),lf=ls(yo),uf=tt(5),df=ls(uf),wf=tt(17),wo=ls(wf);function ls(po){return po&&po.__esModule?po:{default:po}}var _f=function(po){(0,df.default)(xo,po);function xo(gf,cf,yf){return(0,wt.default)(this,xo),(0,lf.default)(this,(xo.__proto__||(0,at.default)(xo)).call(this,gf,cf,yf))}return(0,mo.default)(xo,[{key:"draw",value:function(cf,yf,Sf,xf,bf,Af){this._drawShape(cf,"diamond",4,yf,Sf,xf,bf,Af)}},{key:"distanceToBorder",value:function(cf,yf){return this._distanceToBorder(cf,yf)}}]),xo}(wo.default);X.default=_f},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=ls(ot),ut=tt(0),wt=ls(ut),uo=tt(1),mo=ls(uo),yo=tt(4),lf=ls(yo),uf=tt(5),df=ls(uf),wf=tt(17),wo=ls(wf);function ls(po){return po&&po.__esModule?po:{default:po}}var _f=function(po){(0,df.default)(xo,po);function xo(gf,cf,yf){return(0,wt.default)(this,xo),(0,lf.default)(this,(xo.__proto__||(0,at.default)(xo)).call(this,gf,cf,yf))}return(0,mo.default)(xo,[{key:"draw",value:function(cf,yf,Sf,xf,bf,Af){this._drawShape(cf,"circle",2,yf,Sf,xf,bf,Af)}},{key:"distanceToBorder",value:function(cf,yf){return this.resize(cf),this.options.size}}]),xo}(wo.default);X.default=_f},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=ls(ot),ut=tt(0),wt=ls(ut),uo=tt(1),mo=ls(uo),yo=tt(4),lf=ls(yo),uf=tt(5),df=ls(uf),wf=tt(16),wo=ls(wf);function ls(po){return po&&po.__esModule?po:{default:po}}var _f=function(po){(0,df.default)(xo,po);function xo(gf,cf,yf){return(0,wt.default)(this,xo),(0,lf.default)(this,(xo.__proto__||(0,at.default)(xo)).call(this,gf,cf,yf))}return(0,mo.default)(xo,[{key:"resize",value:function(cf){var yf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,Sf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(yf,Sf)){var xf=this.getDimensionsFromLabel(cf,yf,Sf);this.height=xf.height*2,this.width=xf.width+xf.height,this.radius=.5*this.width}}},{key:"draw",value:function(cf,yf,Sf,xf,bf,Af){this.resize(cf,xf,bf),this.left=yf-this.width*.5,this.top=Sf-this.height*.5,this.initContextForDraw(cf,Af),cf.ellipse_vis(this.left,this.top,this.width,this.height),this.performFill(cf,Af),this.updateBoundingBox(yf,Sf,cf,xf,bf),this.labelModule.draw(cf,yf,Sf,xf,bf)}},{key:"distanceToBorder",value:function(cf,yf){this.resize(cf);var Sf=this.width*.5,xf=this.height*.5,bf=Math.sin(yf)*Sf,Af=Math.cos(yf)*xf;return Sf*xf/Math.sqrt(bf*bf+Af*Af)}}]),xo}(wo.default);X.default=_f},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=ls(ot),ut=tt(0),wt=ls(ut),uo=tt(1),mo=ls(uo),yo=tt(4),lf=ls(yo),uf=tt(5),df=ls(uf),wf=tt(16),wo=ls(wf);function ls(po){return po&&po.__esModule?po:{default:po}}var _f=function(po){(0,df.default)(xo,po);function xo(gf,cf,yf){(0,wt.default)(this,xo);var Sf=(0,lf.default)(this,(xo.__proto__||(0,at.default)(xo)).call(this,gf,cf,yf));return Sf._setMargins(yf),Sf}return(0,mo.default)(xo,[{key:"resize",value:function(cf,yf,Sf){this.needsRefresh(yf,Sf)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(cf,yf,Sf,xf,bf,Af){if(this.resize(cf,xf,bf),this.options.icon.size=this.options.icon.size||50,this.left=yf-this.width/2,this.top=Sf-this.height/2,this._icon(cf,yf,Sf,xf,bf,Af),this.options.label!==void 0){var Pf=5;this.labelModule.draw(cf,this.left+this.iconSize.width/2+this.margin.left,Sf+this.height/2+Pf,xf)}this.updateBoundingBox(yf,Sf)}},{key:"updateBoundingBox",value:function(cf,yf){if(this.boundingBox.top=yf-this.options.icon.size*.5,this.boundingBox.left=cf-this.options.icon.size*.5,this.boundingBox.right=cf+this.options.icon.size*.5,this.boundingBox.bottom=yf+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0){var Sf=5;this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+Sf)}}},{key:"_icon",value:function(cf,yf,Sf,xf,bf,Af){var Pf=Number(this.options.icon.size);this.options.icon.code!==void 0?(cf.font=(xf?"bold ":"")+Pf+"px "+this.options.icon.face,cf.fillStyle=this.options.icon.color||"black",cf.textAlign="center",cf.textBaseline="middle",this.enableShadow(cf,Af),cf.fillText(this.options.icon.code,yf,Sf),this.disableShadow(cf,Af)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(cf,yf){return this._distanceToBorder(cf,yf)}}]),xo}(wo.default);X.default=_f},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=ls(ot),ut=tt(0),wt=ls(ut),uo=tt(1),mo=ls(uo),yo=tt(4),lf=ls(yo),uf=tt(5),df=ls(uf),wf=tt(53),wo=ls(wf);function ls(po){return po&&po.__esModule?po:{default:po}}var _f=function(po){(0,df.default)(xo,po);function xo(gf,cf,yf,Sf,xf){(0,wt.default)(this,xo);var bf=(0,lf.default)(this,(xo.__proto__||(0,at.default)(xo)).call(this,gf,cf,yf));return bf.setImages(Sf,xf),bf}return(0,mo.default)(xo,[{key:"resize",value:function(cf){var yf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,Sf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,xf=this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0;if(xf){var bf=this.options.size*2;this.width=bf,this.height=bf;return}this.needsRefresh(yf,Sf)&&this._resizeImage()}},{key:"draw",value:function(cf,yf,Sf,xf,bf,Af){if(this.switchImages(xf),this.resize(),this.left=yf-this.width/2,this.top=Sf-this.height/2,this.options.shapeProperties.useBorderWithImage===!0){var Pf=this.options.borderWidth,Df=this.options.borderWidthSelected||2*this.options.borderWidth,zf=(xf?Df:Pf)/this.body.view.scale;cf.lineWidth=Math.min(this.width,zf),cf.beginPath(),cf.strokeStyle=xf?this.options.color.highlight.border:bf?this.options.color.hover.border:this.options.color.border,cf.fillStyle=xf?this.options.color.highlight.background:bf?this.options.color.hover.background:this.options.color.background,cf.rect(this.left-.5*cf.lineWidth,this.top-.5*cf.lineWidth,this.width+cf.lineWidth,this.height+cf.lineWidth),cf.fill(),this.performStroke(cf,Af),cf.closePath()}this._drawImageAtPosition(cf,Af),this._drawImageLabel(cf,yf,Sf,xf,bf),this.updateBoundingBox(yf,Sf)}},{key:"updateBoundingBox",value:function(cf,yf){this.resize(),this._updateBoundingBox(cf,yf),this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(cf,yf){return this._distanceToBorder(cf,yf)}}]),xo}(wo.default);X.default=_f},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=ls(ot),ut=tt(0),wt=ls(ut),uo=tt(1),mo=ls(uo),yo=tt(4),lf=ls(yo),uf=tt(5),df=ls(uf),wf=tt(17),wo=ls(wf);function ls(po){return po&&po.__esModule?po:{default:po}}var _f=function(po){(0,df.default)(xo,po);function xo(gf,cf,yf){return(0,wt.default)(this,xo),(0,lf.default)(this,(xo.__proto__||(0,at.default)(xo)).call(this,gf,cf,yf))}return(0,mo.default)(xo,[{key:"draw",value:function(cf,yf,Sf,xf,bf,Af){this._drawShape(cf,"square",2,yf,Sf,xf,bf,Af)}},{key:"distanceToBorder",value:function(cf,yf){return this._distanceToBorder(cf,yf)}}]),xo}(wo.default);X.default=_f},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=ls(ot),ut=tt(0),wt=ls(ut),uo=tt(1),mo=ls(uo),yo=tt(4),lf=ls(yo),uf=tt(5),df=ls(uf),wf=tt(17),wo=ls(wf);function ls(po){return po&&po.__esModule?po:{default:po}}var _f=function(po){(0,df.default)(xo,po);function xo(gf,cf,yf){return(0,wt.default)(this,xo),(0,lf.default)(this,(xo.__proto__||(0,at.default)(xo)).call(this,gf,cf,yf))}return(0,mo.default)(xo,[{key:"draw",value:function(cf,yf,Sf,xf,bf,Af){this._drawShape(cf,"hexagon",4,yf,Sf,xf,bf,Af)}},{key:"distanceToBorder",value:function(cf,yf){return this._distanceToBorder(cf,yf)}}]),xo}(wo.default);X.default=_f},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=ls(ot),ut=tt(0),wt=ls(ut),uo=tt(1),mo=ls(uo),yo=tt(4),lf=ls(yo),uf=tt(5),df=ls(uf),wf=tt(17),wo=ls(wf);function ls(po){return po&&po.__esModule?po:{default:po}}var _f=function(po){(0,df.default)(xo,po);function xo(gf,cf,yf){return(0,wt.default)(this,xo),(0,lf.default)(this,(xo.__proto__||(0,at.default)(xo)).call(this,gf,cf,yf))}return(0,mo.default)(xo,[{key:"draw",value:function(cf,yf,Sf,xf,bf,Af){this._drawShape(cf,"star",4,yf,Sf,xf,bf,Af)}},{key:"distanceToBorder",value:function(cf,yf){return this._distanceToBorder(cf,yf)}}]),xo}(wo.default);X.default=_f},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=ls(ot),ut=tt(0),wt=ls(ut),uo=tt(1),mo=ls(uo),yo=tt(4),lf=ls(yo),uf=tt(5),df=ls(uf),wf=tt(16),wo=ls(wf);function ls(po){return po&&po.__esModule?po:{default:po}}var _f=function(po){(0,df.default)(xo,po);function xo(gf,cf,yf){(0,wt.default)(this,xo);var Sf=(0,lf.default)(this,(xo.__proto__||(0,at.default)(xo)).call(this,gf,cf,yf));return Sf._setMargins(yf),Sf}return(0,mo.default)(xo,[{key:"resize",value:function(cf,yf,Sf){this.needsRefresh(yf,Sf)&&(this.textSize=this.labelModule.getTextSize(cf,yf,Sf),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(cf,yf,Sf,xf,bf,Af){this.resize(cf,xf,bf),this.left=yf-this.width/2,this.top=Sf-this.height/2,this.enableShadow(cf,Af),this.labelModule.draw(cf,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,xf,bf),this.disableShadow(cf,Af),this.updateBoundingBox(yf,Sf,cf,xf,bf)}},{key:"distanceToBorder",value:function(cf,yf){return this._distanceToBorder(cf,yf)}}]),xo}(wo.default);X.default=_f},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=ls(ot),ut=tt(0),wt=ls(ut),uo=tt(1),mo=ls(uo),yo=tt(4),lf=ls(yo),uf=tt(5),df=ls(uf),wf=tt(17),wo=ls(wf);function ls(po){return po&&po.__esModule?po:{default:po}}var _f=function(po){(0,df.default)(xo,po);function xo(gf,cf,yf){return(0,wt.default)(this,xo),(0,lf.default)(this,(xo.__proto__||(0,at.default)(xo)).call(this,gf,cf,yf))}return(0,mo.default)(xo,[{key:"draw",value:function(cf,yf,Sf,xf,bf,Af){this._drawShape(cf,"triangle",3,yf,Sf,xf,bf,Af)}},{key:"distanceToBorder",value:function(cf,yf){return this._distanceToBorder(cf,yf)}}]),xo}(wo.default);X.default=_f},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=ls(ot),ut=tt(0),wt=ls(ut),uo=tt(1),mo=ls(uo),yo=tt(4),lf=ls(yo),uf=tt(5),df=ls(uf),wf=tt(17),wo=ls(wf);function ls(po){return po&&po.__esModule?po:{default:po}}var _f=function(po){(0,df.default)(xo,po);function xo(gf,cf,yf){return(0,wt.default)(this,xo),(0,lf.default)(this,(xo.__proto__||(0,at.default)(xo)).call(this,gf,cf,yf))}return(0,mo.default)(xo,[{key:"draw",value:function(cf,yf,Sf,xf,bf,Af){this._drawShape(cf,"triangleDown",3,yf,Sf,xf,bf,Af)}},{key:"distanceToBorder",value:function(cf,yf){return this._distanceToBorder(cf,yf)}}]),xo}(wo.default);X.default=_f},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(0),at=uo(ot),ut=tt(1),wt=uo(ut);function uo(wf){return wf&&wf.__esModule?wf:{default:wf}}var mo=tt(2),yo=tt(33),lf=tt(51),uf=tt(55).default,df=function(){function wf(wo,ls,_f){var po=this;(0,at.default)(this,wf),this.body=wo,this.images=ls,this.groups=_f,this.body.functions.createEdge=this.create.bind(this),this.edgesListeners={add:function(gf,cf){po.add(cf.items)},update:function(gf,cf){po.update(cf.items)},remove:function(gf,cf){po.remove(cf.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(gf,cf,yf,Sf){if(cf===gf)return .5;var xf=1/(cf-gf);return Math.max(0,(Sf-gf)*xf)}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},mo.deepExtend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,wt.default)(wf,[{key:"bindEventListeners",value:function(){var ls=this;this.body.emitter.on("_forceDisableDynamicCurves",function(_f){var po=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;_f==="dynamic"&&(_f="continuous");var xo=!1;for(var gf in ls.body.edges)if(ls.body.edges.hasOwnProperty(gf)){var cf=ls.body.edges[gf],yf=ls.body.data.edges._data[gf];if(yf!==void 0){var Sf=yf.smooth;Sf!==void 0&&Sf.enabled===!0&&Sf.type==="dynamic"&&(_f===void 0?cf.setOptions({smooth:!1}):cf.setOptions({smooth:{type:_f}}),xo=!0)}}po===!0&&xo===!0&&ls.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){ls.reconnectEdges()}),this.body.emitter.on("refreshEdges",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){mo.forEach(ls.edgesListeners,function(_f,po){ls.body.data.edges&&ls.body.data.edges.off(po,_f)}),delete ls.body.functions.createEdge,delete ls.edgesListeners.add,delete ls.edgesListeners.update,delete ls.edgesListeners.remove,delete ls.edgesListeners})}},{key:"setOptions",value:function(ls){if(ls!==void 0){uf.parseOptions(this.options,ls,!0,this.defaultOptions,!0);var _f=!1;if(ls.smooth!==void 0)for(var po in this.body.edges)this.body.edges.hasOwnProperty(po)&&(_f=this.body.edges[po].updateEdgeType()||_f);if(ls.font!==void 0)for(var xo in this.body.edges)this.body.edges.hasOwnProperty(xo)&&this.body.edges[xo].updateLabelModule();(ls.hidden!==void 0||ls.physics!==void 0||_f===!0)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(ls){var _f=this,po=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,xo=this.body.data.edges;if(ls instanceof yo||ls instanceof lf)this.body.data.edges=ls;else if(Array.isArray(ls))this.body.data.edges=new yo,this.body.data.edges.add(ls);else if(!ls)this.body.data.edges=new yo;else throw new TypeError("Array or DataSet expected");if(xo&&mo.forEach(this.edgesListeners,function(cf,yf){xo.off(yf,cf)}),this.body.edges={},this.body.data.edges){mo.forEach(this.edgesListeners,function(cf,yf){_f.body.data.edges.on(yf,cf)});var gf=this.body.data.edges.getIds();this.add(gf,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),po===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(ls){for(var _f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,po=this.body.edges,xo=this.body.data.edges,gf=0;gf<ls.length;gf++){var cf=ls[gf],yf=po[cf];yf&&yf.disconnect();var Sf=xo.get(cf,{showInternalIds:!0});po[cf]=this.create(Sf)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),_f===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(ls){for(var _f=this.body.edges,po=this.body.data.edges,xo=!1,gf=0;gf<ls.length;gf++){var cf=ls[gf],yf=po.get(cf),Sf=_f[cf];Sf!==void 0?(Sf.disconnect(),xo=Sf.setOptions(yf)||xo,Sf.connect()):(this.body.edges[cf]=this.create(yf),xo=!0)}xo===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(ls){var _f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(ls.length!==0){var po=this.body.edges;mo.forEach(ls,function(xo){var gf=po[xo];gf!==void 0&&gf.remove()}),_f&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var ls=this;mo.forEach(this.body.edges,function(_f,po){var xo=ls.body.data.edges._data[po];xo!==void 0&&_f.setOptions(xo)})}},{key:"create",value:function(ls){return new uf(ls,this.body,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var ls,_f=this.body.nodes,po=this.body.edges;for(ls in _f)_f.hasOwnProperty(ls)&&(_f[ls].edges=[]);for(ls in po)if(po.hasOwnProperty(ls)){var xo=po[ls];xo.from=null,xo.to=null,xo.connect()}}},{key:"getConnectedNodes",value:function(ls){var _f=[];if(this.body.edges[ls]!==void 0){var po=this.body.edges[ls];po.fromId!==void 0&&_f.push(po.fromId),po.toId!==void 0&&_f.push(po.toId)}return _f}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var ls=this,_f=[];mo.forEach(this.body.edges,function(po,xo){var gf=ls.body.nodes[po.toId],cf=ls.body.nodes[po.fromId];gf!==void 0&&gf.isCluster===!0||cf!==void 0&&cf.isCluster===!0||(gf===void 0||cf===void 0)&&_f.push(xo)}),this.remove(_f,!1)}},{key:"_addMissingEdges",value:function(){var ls=this.body.data.edges;if(ls!=null){var _f=this.body.edges,po=[];ls instanceof lf&&(ls=ls.getDataSet()),ls.forEach(function(xo,gf){var cf=_f[gf];cf===void 0&&po.push(gf)}),this.add(po,!0)}}}]),wf}();X.default=df},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(15),at=po(ot),ut=tt(3),wt=po(ut),uo=tt(0),mo=po(uo),yo=tt(1),lf=po(yo),uf=tt(4),df=po(uf),wf=tt(5),wo=po(wf),ls=tt(167),_f=po(ls);function po(gf){return gf&&gf.__esModule?gf:{default:gf}}var xo=function(gf){(0,wo.default)(cf,gf);function cf(yf,Sf,xf){return(0,mo.default)(this,cf),(0,df.default)(this,(cf.__proto__||(0,wt.default)(cf)).call(this,yf,Sf,xf))}return(0,lf.default)(cf,[{key:"_line",value:function(Sf,xf,bf){var Af=bf[0],Pf=bf[1];this._bezierCurve(Sf,xf,Af,Pf)}},{key:"_getViaCoordinates",value:function(){var Sf=this.from.x-this.to.x,xf=this.from.y-this.to.y,bf=void 0,Af=void 0,Pf=void 0,Df=void 0,zf=this.options.smooth.roundness;return(Math.abs(Sf)>Math.abs(xf)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(Af=this.from.y,Df=this.to.y,bf=this.from.x-zf*Sf,Pf=this.to.x+zf*Sf):(Af=this.from.y-zf*xf,Df=this.to.y+zf*xf,bf=this.from.x,Pf=this.to.x),[{x:bf,y:Af},{x:Pf,y:Df}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(Sf,xf){return this._findBorderPositionBezier(Sf,xf)}},{key:"_getDistanceToEdge",value:function(Sf,xf,bf,Af,Pf,Df){var zf=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates(),jf=(0,at.default)(zf,2),$f=jf[0],Ff=jf[1];return this._getDistanceToBezierEdge(Sf,xf,bf,Af,Pf,Df,$f,Ff)}},{key:"getPoint",value:function(Sf){var xf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates(),bf=(0,at.default)(xf,2),Af=bf[0],Pf=bf[1],Df=Sf,zf=[];zf[0]=Math.pow(1-Df,3),zf[1]=3*Df*Math.pow(1-Df,2),zf[2]=3*Math.pow(Df,2)*(1-Df),zf[3]=Math.pow(Df,3);var jf=zf[0]*this.fromPoint.x+zf[1]*Af.x+zf[2]*Pf.x+zf[3]*this.toPoint.x,$f=zf[0]*this.fromPoint.y+zf[1]*Af.y+zf[2]*Pf.y+zf[3]*this.toPoint.y;return{x:jf,y:$f}}}]),cf}(_f.default);X.default=xo},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=ls(ot),ut=tt(0),wt=ls(ut),uo=tt(1),mo=ls(uo),yo=tt(4),lf=ls(yo),uf=tt(5),df=ls(uf),wf=tt(56),wo=ls(wf);function ls(po){return po&&po.__esModule?po:{default:po}}var _f=function(po){(0,df.default)(xo,po);function xo(gf,cf,yf){return(0,wt.default)(this,xo),(0,lf.default)(this,(xo.__proto__||(0,at.default)(xo)).call(this,gf,cf,yf))}return(0,mo.default)(xo,[{key:"_getDistanceToBezierEdge",value:function(cf,yf,Sf,xf,bf,Af,Pf,Df){var zf=1e9,jf=void 0,$f=void 0,Ff=void 0,Xf=void 0,mp=void 0,fp=cf,Mp=yf,Np=[0,0,0,0];for($f=1;$f<10;$f++)Ff=.1*$f,Np[0]=Math.pow(1-Ff,3),Np[1]=3*Ff*Math.pow(1-Ff,2),Np[2]=3*Math.pow(Ff,2)*(1-Ff),Np[3]=Math.pow(Ff,3),Xf=Np[0]*cf+Np[1]*Pf.x+Np[2]*Df.x+Np[3]*Sf,mp=Np[0]*yf+Np[1]*Pf.y+Np[2]*Df.y+Np[3]*xf,$f>0&&(jf=this._getDistanceToLine(fp,Mp,Xf,mp,bf,Af),zf=jf<zf?jf:zf),fp=Xf,Mp=mp;return zf}}]),xo}(wo.default);X.default=_f},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(15),at=po(ot),ut=tt(3),wt=po(ut),uo=tt(0),mo=po(uo),yo=tt(1),lf=po(yo),uf=tt(4),df=po(uf),wf=tt(5),wo=po(wf),ls=tt(56),_f=po(ls);function po(gf){return gf&&gf.__esModule?gf:{default:gf}}var xo=function(gf){(0,wo.default)(cf,gf);function cf(yf,Sf,xf){(0,mo.default)(this,cf);var bf=(0,df.default)(this,(cf.__proto__||(0,wt.default)(cf)).call(this,yf,Sf,xf));return bf._boundFunction=function(){bf.positionBezierNode()},bf.body.emitter.on("_repositionBezierNodes",bf._boundFunction),bf}return(0,lf.default)(cf,[{key:"setOptions",value:function(Sf){var xf=!1;this.options.physics!==Sf.physics&&(xf=!0),this.options=Sf,this.id=this.options.id,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.setupSupportNode(),this.connect(),xf===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this.body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this.body.nodes[this.via.id],this.via=void 0,!0):!1}},{key:"setupSupportNode",value:function(){if(this.via===void 0){var Sf="edgeId:"+this.id,xf=this.body.functions.createNode({id:Sf,shape:"circle",physics:!0,hidden:!0});this.body.nodes[Sf]=xf,this.via=xf,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(Sf,xf,bf){this._bezierCurve(Sf,xf,bf)}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(Sf){var xf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via,bf=Sf,Af=void 0,Pf=void 0;if(this.from===this.to){var Df=this._getCircleData(this.from),zf=(0,at.default)(Df,3),jf=zf[0],$f=zf[1],Ff=zf[2],Xf=2*Math.PI*(1-bf);Af=jf+Ff*Math.sin(Xf),Pf=$f+Ff-Ff*(1-Math.cos(Xf))}else Af=Math.pow(1-bf,2)*this.fromPoint.x+2*bf*(1-bf)*xf.x+Math.pow(bf,2)*this.toPoint.x,Pf=Math.pow(1-bf,2)*this.fromPoint.y+2*bf*(1-bf)*xf.y+Math.pow(bf,2)*this.toPoint.y;return{x:Af,y:Pf}}},{key:"_findBorderPosition",value:function(Sf,xf){return this._findBorderPositionBezier(Sf,xf,this.via)}},{key:"_getDistanceToEdge",value:function(Sf,xf,bf,Af,Pf,Df){return this._getDistanceToBezierEdge(Sf,xf,bf,Af,Pf,Df,this.via)}}]),cf}(_f.default);X.default=xo},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=ls(ot),ut=tt(0),wt=ls(ut),uo=tt(1),mo=ls(uo),yo=tt(4),lf=ls(yo),uf=tt(5),df=ls(uf),wf=tt(56),wo=ls(wf);function ls(po){return po&&po.__esModule?po:{default:po}}var _f=function(po){(0,df.default)(xo,po);function xo(gf,cf,yf){return(0,wt.default)(this,xo),(0,lf.default)(this,(xo.__proto__||(0,at.default)(xo)).call(this,gf,cf,yf))}return(0,mo.default)(xo,[{key:"_line",value:function(cf,yf,Sf){this._bezierCurve(cf,yf,Sf)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var cf=void 0,yf=void 0,Sf=this.options.smooth.roundness,xf=this.options.smooth.type,bf=Math.abs(this.from.x-this.to.x),Af=Math.abs(this.from.y-this.to.y);if(xf==="discrete"||xf==="diagonalCross"){var Pf=void 0,Df=void 0;bf<=Af?Pf=Df=Sf*Af:Pf=Df=Sf*bf,this.from.x>this.to.x&&(Pf=-Pf),this.from.y>=this.to.y&&(Df=-Df),cf=this.from.x+Pf,yf=this.from.y+Df,xf==="discrete"&&(bf<=Af?cf=bf<Sf*Af?this.from.x:cf:yf=Af<Sf*bf?this.from.y:yf)}else if(xf==="straightCross"){var zf=(1-Sf)*bf,jf=(1-Sf)*Af;bf<=Af?(zf=0,this.from.y<this.to.y&&(jf=-jf)):(this.from.x<this.to.x&&(zf=-zf),jf=0),cf=this.to.x+zf,yf=this.to.y+jf}else if(xf==="horizontal"){var $f=(1-Sf)*bf;this.from.x<this.to.x&&($f=-$f),cf=this.to.x+$f,yf=this.from.y}else if(xf==="vertical"){var Ff=(1-Sf)*Af;this.from.y<this.to.y&&(Ff=-Ff),cf=this.from.x,yf=this.to.y+Ff}else if(xf==="curvedCW"){bf=this.to.x-this.from.x,Af=this.from.y-this.to.y;var Xf=Math.sqrt(bf*bf+Af*Af),mp=Math.PI,fp=Math.atan2(Af,bf),Mp=(fp+(Sf*.5+.5)*mp)%(2*mp);cf=this.from.x+(Sf*.5+.5)*Xf*Math.sin(Mp),yf=this.from.y+(Sf*.5+.5)*Xf*Math.cos(Mp)}else if(xf==="curvedCCW"){bf=this.to.x-this.from.x,Af=this.from.y-this.to.y;var Np=Math.sqrt(bf*bf+Af*Af),Pp=Math.PI,yp=Math.atan2(Af,bf),Ep=(yp+(-Sf*.5+.5)*Pp)%(2*Pp);cf=this.from.x+(Sf*.5+.5)*Np*Math.sin(Ep),yf=this.from.y+(Sf*.5+.5)*Np*Math.cos(Ep)}else{var Cp=void 0,$p=void 0;bf<=Af?Cp=$p=Sf*Af:Cp=$p=Sf*bf,this.from.x>this.to.x&&(Cp=-Cp),this.from.y>=this.to.y&&($p=-$p),cf=this.from.x+Cp,yf=this.from.y+$p,bf<=Af?this.from.x<=this.to.x?cf=this.to.x<cf?this.to.x:cf:cf=this.to.x>cf?this.to.x:cf:this.from.y>=this.to.y?yf=this.to.y>yf?this.to.y:yf:yf=this.to.y<yf?this.to.y:yf}return{x:cf,y:yf}}},{key:"_findBorderPosition",value:function(cf,yf){var Sf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(cf,yf,Sf.via)}},{key:"_getDistanceToEdge",value:function(cf,yf,Sf,xf,bf,Af){var Pf=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(cf,yf,Sf,xf,bf,Af,Pf)}},{key:"getPoint",value:function(cf){var yf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates(),Sf=cf,xf=Math.pow(1-Sf,2)*this.fromPoint.x+2*Sf*(1-Sf)*yf.x+Math.pow(Sf,2)*this.toPoint.x,bf=Math.pow(1-Sf,2)*this.fromPoint.y+2*Sf*(1-Sf)*yf.y+Math.pow(Sf,2)*this.toPoint.y;return{x:xf,y:bf}}}]),xo}(wo.default);X.default=_f},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=ls(ot),ut=tt(0),wt=ls(ut),uo=tt(1),mo=ls(uo),yo=tt(4),lf=ls(yo),uf=tt(5),df=ls(uf),wf=tt(79),wo=ls(wf);function ls(po){return po&&po.__esModule?po:{default:po}}var _f=function(po){(0,df.default)(xo,po);function xo(gf,cf,yf){return(0,wt.default)(this,xo),(0,lf.default)(this,(xo.__proto__||(0,at.default)(xo)).call(this,gf,cf,yf))}return(0,mo.default)(xo,[{key:"_line",value:function(cf,yf){cf.beginPath(),cf.moveTo(this.fromPoint.x,this.fromPoint.y),cf.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(cf,yf),cf.stroke(),this.disableShadow(cf,yf)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(cf){return{x:(1-cf)*this.fromPoint.x+cf*this.toPoint.x,y:(1-cf)*this.fromPoint.y+cf*this.toPoint.y}}},{key:"_findBorderPosition",value:function(cf,yf){var Sf=this.to,xf=this.from;cf.id===this.from.id&&(Sf=this.from,xf=this.to);var bf=Math.atan2(Sf.y-xf.y,Sf.x-xf.x),Af=Sf.x-xf.x,Pf=Sf.y-xf.y,Df=Math.sqrt(Af*Af+Pf*Pf),zf=cf.distanceToBorder(yf,bf),jf=(Df-zf)/Df,$f={};return $f.x=(1-jf)*xf.x+jf*Sf.x,$f.y=(1-jf)*xf.y+jf*Sf.y,$f}},{key:"_getDistanceToEdge",value:function(cf,yf,Sf,xf,bf,Af){return this._getDistanceToLine(cf,yf,Sf,xf,bf,Af)}}]),xo}(wo.default);X.default=_f},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(9),at=yo(ot),ut=tt(0),wt=yo(ut),uo=tt(1),mo=yo(uo);function yo(yf){return yf&&yf.__esModule?yf:{default:yf}}var lf=tt(81).default,uf=tt(172).default,df=tt(173).default,wf=tt(174).default,wo=tt(175).default,ls=tt(82).default,_f=tt(176).default,po=tt(177).default,xo=tt(2),gf=tt(80).default,cf=function(){function yf(Sf){(0,wt.default)(this,yf),this.body=Sf,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0},xo.extend(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return(0,mo.default)(yf,[{key:"bindEventListeners",value:function(){var xf=this;this.body.emitter.on("initPhysics",function(){xf.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){xf.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){xf.stopSimulation(),xf.ready=!1}),this.body.emitter.on("disablePhysics",function(){xf.physicsEnabled=!1,xf.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){xf.setOptions(xf.options),xf.ready===!0&&xf.startSimulation()}),this.body.emitter.on("startSimulation",function(){xf.ready===!0&&xf.startSimulation()}),this.body.emitter.on("stopSimulation",function(){xf.stopSimulation()}),this.body.emitter.on("destroy",function(){xf.stopSimulation(!1),xf.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){xf.updatePhysicsData()})}},{key:"setOptions",value:function(xf){xf!==void 0&&(xf===!1?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):xf===!0?(this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation()):(this.physicsEnabled=!0,xo.selectiveNotDeepExtend(["stabilization"],this.options,xf),xo.mergeOptions(this.options,xf,"stabilization"),xf.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation()),this.timestep=this.options.timestep)),this.init()}},{key:"init",value:function(){var xf;this.options.solver==="forceAtlas2Based"?(xf=this.options.forceAtlas2Based,this.nodesSolver=new _f(this.body,this.physicsBody,xf),this.edgesSolver=new wf(this.body,this.physicsBody,xf),this.gravitySolver=new po(this.body,this.physicsBody,xf)):this.options.solver==="repulsion"?(xf=this.options.repulsion,this.nodesSolver=new uf(this.body,this.physicsBody,xf),this.edgesSolver=new wf(this.body,this.physicsBody,xf),this.gravitySolver=new ls(this.body,this.physicsBody,xf)):this.options.solver==="hierarchicalRepulsion"?(xf=this.options.hierarchicalRepulsion,this.nodesSolver=new df(this.body,this.physicsBody,xf),this.edgesSolver=new wo(this.body,this.physicsBody,xf),this.gravitySolver=new ls(this.body,this.physicsBody,xf)):(xf=this.options.barnesHut,this.nodesSolver=new lf(this.body,this.physicsBody,xf),this.edgesSolver=new wf(this.body,this.physicsBody,xf),this.gravitySolver=new ls(this.body,this.physicsBody,xf)),this.modelOptions=xf}},{key:"initPhysics",value:function(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){this.physicsEnabled===!0&&this.options.enabled===!0?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0&&(this.viewFunction=this.simulationStep.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var xf=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,xf===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,xf===!0&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var xf=Date.now();this.physicsTick();var bf=Date.now()-xf;(bf<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var xf=this,bf=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&setTimeout(function(){xf.body.emitter.emit("stabilized",{iterations:bf}),xf.startedStabilization=!1,xf.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){var xf=1.2;this._evaluateStepQuality()===!0?this.timestep=xf*this.timestep:this.timestep/xf<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/xf))}},{key:"physicsTick",value:function(){if(this._startStabilizing(),this.stabilized!==!0){if(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0){var xf=this.adaptiveCounter%this.adaptiveInterval===0;xf?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1}else this.timestep=this.options.timestep,this.physicsStep();this.stabilized===!0&&this.revert(),this.stabilizationIterations++}}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var xf=this.body.nodes,bf=this.body.edges;for(var Af in xf)xf.hasOwnProperty(Af)&&xf[Af].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(xf[Af].id);for(var Pf in bf)bf.hasOwnProperty(Pf)&&bf[Pf].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(bf[Pf].id);for(var Df=0;Df<this.physicsBody.physicsNodeIndices.length;Df++){var zf=this.physicsBody.physicsNodeIndices[Df];this.physicsBody.forces[zf]={x:0,y:0},this.physicsBody.velocities[zf]===void 0&&(this.physicsBody.velocities[zf]={x:0,y:0})}for(var jf in this.physicsBody.velocities)xf[jf]===void 0&&delete this.physicsBody.velocities[jf]}},{key:"revert",value:function(){var xf=(0,at.default)(this.previousStates),bf=this.body.nodes,Af=this.physicsBody.velocities;this.referenceState={};for(var Pf=0;Pf<xf.length;Pf++){var Df=xf[Pf];bf[Df]!==void 0?bf[Df].options.physics===!0&&(this.referenceState[Df]={positions:{x:bf[Df].x,y:bf[Df].y}},Af[Df].x=this.previousStates[Df].vx,Af[Df].y=this.previousStates[Df].vy,bf[Df].x=this.previousStates[Df].x,bf[Df].y=this.previousStates[Df].y):delete this.previousStates[Df]}}},{key:"_evaluateStepQuality",value:function(){var xf=void 0,bf=void 0,Af=void 0,Pf=this.body.nodes,Df=this.referenceState,zf=.3;for(var jf in this.referenceState)if(this.referenceState.hasOwnProperty(jf)&&Pf[jf]!==void 0&&(xf=Pf[jf].x-Df[jf].positions.x,bf=Pf[jf].y-Df[jf].positions.y,Af=Math.sqrt(Math.pow(xf,2)+Math.pow(bf,2)),Af>zf))return!1;return!0}},{key:"moveNodes",value:function(){for(var xf=this.physicsBody.physicsNodeIndices,bf=0,Af=0,Pf=5,Df=0;Df<xf.length;Df++){var zf=xf[Df],jf=this._performStep(zf);bf=Math.max(bf,jf),Af+=jf}this.adaptiveTimestepEnabled=Af/xf.length<Pf,this.stabilized=bf<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(xf,bf,Af){var Pf=this.modelOptions.damping*xf,Df=(bf-Pf)/Af;xf+=Df*this.timestep;var zf=this.options.maxVelocity||1e9;return Math.abs(xf)>zf&&(xf=xf>0?zf:-zf),xf}},{key:"_performStep",value:function(xf){var bf=this.body.nodes[xf],Af=this.physicsBody.forces[xf],Pf=this.physicsBody.velocities[xf];this.previousStates[xf]={x:bf.x,y:bf.y,vx:Pf.x,vy:Pf.y},bf.options.fixed.x===!1?(Pf.x=this.calculateComponentVelocity(Pf.x,Af.x,bf.options.mass),bf.x+=Pf.x*this.timestep):(Af.x=0,Pf.x=0),bf.options.fixed.y===!1?(Pf.y=this.calculateComponentVelocity(Pf.y,Af.y,bf.options.mass),bf.y+=Pf.y*this.timestep):(Af.y=0,Pf.y=0);var Df=Math.sqrt(Math.pow(Pf.x,2)+Math.pow(Pf.y,2));return Df}},{key:"_freezeNodes",value:function(){var xf=this.body.nodes;for(var bf in xf)if(xf.hasOwnProperty(bf)&&xf[bf].x&&xf[bf].y){var Af=xf[bf].options.fixed;this.freezeCache[bf]={x:Af.x,y:Af.y},Af.x=!0,Af.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var xf=this.body.nodes;for(var bf in xf)xf.hasOwnProperty(bf)&&this.freezeCache[bf]!==void 0&&(xf[bf].options.fixed.x=this.freezeCache[bf].x,xf[bf].options.fixed.y=this.freezeCache[bf].y);this.freezeCache={}}},{key:"stabilize",value:function(){var xf=this,bf=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof bf!="number"&&(bf=this.options.stabilization.iterations,console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",bf)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=bf,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,setTimeout(function(){return xf._stabilizationBatch()},0)}},{key:"_startStabilizing",value:function(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var xf=this,bf=function(){return xf.stabilized===!1&&xf.stabilizationIterations<xf.targetIterations},Af=function(){xf.body.emitter.emit("stabilizationProgress",{iterations:xf.stabilizationIterations,total:xf.targetIterations})};this._startStabilizing()&&Af();for(var Pf=0;bf()&&Pf<this.options.stabilization.updateInterval;)this.physicsTick(),Pf++;Af(),bf()?setTimeout(this._stabilizationBatch.bind(this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(xf){for(var bf=0;bf<this.physicsBody.physicsNodeIndices.length;bf++){var Af=this.physicsBody.physicsNodeIndices[bf],Pf=this.body.nodes[Af],Df=this.physicsBody.forces[Af],zf=20,jf=.03,$f=Math.sqrt(Math.pow(Df.x,2)+Math.pow(Df.x,2)),Ff=Math.min(Math.max(5,$f),15),Xf=3*Ff,mp=xo.HSVToHex((180-Math.min(1,Math.max(0,jf*$f))*180)/360,1,1),fp={x:Pf.x+zf*Df.x,y:Pf.y+zf*Df.y};xf.lineWidth=Ff,xf.strokeStyle=mp,xf.beginPath(),xf.moveTo(Pf.x,Pf.y),xf.lineTo(fp.x,fp.y),xf.stroke();var Mp=Math.atan2(Df.y,Df.x);xf.fillStyle=mp,gf.draw(xf,{type:"arrow",point:fp,angle:Mp,length:Xf}),xf.fill()}}}]),yf}();X.default=cf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(0),at=uo(ot),ut=tt(1),wt=uo(ut);function uo(yo){return yo&&yo.__esModule?yo:{default:yo}}var mo=function(){function yo(lf,uf,df){(0,at.default)(this,yo),this.body=lf,this.physicsBody=uf,this.setOptions(df)}return(0,wt.default)(yo,[{key:"setOptions",value:function(uf){this.options=uf}},{key:"solve",value:function(){for(var uf,df,wf,wo,ls,_f,po,xo,gf=this.body.nodes,cf=this.physicsBody.physicsNodeIndices,yf=this.physicsBody.forces,Sf=this.options.nodeDistance,xf=-2/3/Sf,bf=4/3,Af=0;Af<cf.length-1;Af++){po=gf[cf[Af]];for(var Pf=Af+1;Pf<cf.length;Pf++)xo=gf[cf[Pf]],uf=xo.x-po.x,df=xo.y-po.y,wf=Math.sqrt(uf*uf+df*df),wf===0&&(wf=.1*Math.random(),uf=wf),wf<2*Sf&&(wf<.5*Sf?_f=1:_f=xf*wf+bf,_f=_f/wf,wo=uf*_f,ls=df*_f,yf[po.id].x-=wo,yf[po.id].y-=ls,yf[xo.id].x+=wo,yf[xo.id].y+=ls)}}}]),yo}();X.default=mo},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(0),at=uo(ot),ut=tt(1),wt=uo(ut);function uo(yo){return yo&&yo.__esModule?yo:{default:yo}}var mo=function(){function yo(lf,uf,df){(0,at.default)(this,yo),this.body=lf,this.physicsBody=uf,this.setOptions(df)}return(0,wt.default)(yo,[{key:"setOptions",value:function(uf){this.options=uf}},{key:"solve",value:function(){var uf,df,wf,wo,ls,_f,po,xo,gf,cf,yf=this.body.nodes,Sf=this.physicsBody.physicsNodeIndices,xf=this.physicsBody.forces,bf=this.options.nodeDistance;for(gf=0;gf<Sf.length-1;gf++)for(po=yf[Sf[gf]],cf=gf+1;cf<Sf.length;cf++)if(xo=yf[Sf[cf]],po.level===xo.level){uf=xo.x-po.x,df=xo.y-po.y,wf=Math.sqrt(uf*uf+df*df);var Af=.05;wf<bf?_f=-Math.pow(Af*wf,2)+Math.pow(Af*bf,2):_f=0,wf===0?wf=.01:_f=_f/wf,wo=uf*_f,ls=df*_f,xf[po.id].x-=wo,xf[po.id].y-=ls,xf[xo.id].x+=wo,xf[xo.id].y+=ls}}}]),yo}();X.default=mo},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(0),at=uo(ot),ut=tt(1),wt=uo(ut);function uo(yo){return yo&&yo.__esModule?yo:{default:yo}}var mo=function(){function yo(lf,uf,df){(0,at.default)(this,yo),this.body=lf,this.physicsBody=uf,this.setOptions(df)}return(0,wt.default)(yo,[{key:"setOptions",value:function(uf){this.options=uf}},{key:"solve",value:function(){for(var uf=void 0,df=void 0,wf=this.physicsBody.physicsEdgeIndices,wo=this.body.edges,ls=void 0,_f=void 0,po=void 0,xo=0;xo<wf.length;xo++)df=wo[wf[xo]],df.connected===!0&&df.toId!==df.fromId&&this.body.nodes[df.toId]!==void 0&&this.body.nodes[df.fromId]!==void 0&&(df.edgeType.via!==void 0?(uf=df.options.length===void 0?this.options.springLength:df.options.length,ls=df.to,_f=df.edgeType.via,po=df.from,this._calculateSpringForce(ls,_f,.5*uf),this._calculateSpringForce(_f,po,.5*uf)):(uf=df.options.length===void 0?this.options.springLength*1.5:df.options.length,this._calculateSpringForce(df.from,df.to,uf)))}},{key:"_calculateSpringForce",value:function(uf,df,wf){var wo=uf.x-df.x,ls=uf.y-df.y,_f=Math.max(Math.sqrt(wo*wo+ls*ls),.01),po=this.options.springConstant*(wf-_f)/_f,xo=wo*po,gf=ls*po;this.physicsBody.forces[uf.id]!==void 0&&(this.physicsBody.forces[uf.id].x+=xo,this.physicsBody.forces[uf.id].y+=gf),this.physicsBody.forces[df.id]!==void 0&&(this.physicsBody.forces[df.id].x-=xo,this.physicsBody.forces[df.id].y-=gf)}}]),yo}();X.default=mo},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(0),at=uo(ot),ut=tt(1),wt=uo(ut);function uo(yo){return yo&&yo.__esModule?yo:{default:yo}}var mo=function(){function yo(lf,uf,df){(0,at.default)(this,yo),this.body=lf,this.physicsBody=uf,this.setOptions(df)}return(0,wt.default)(yo,[{key:"setOptions",value:function(uf){this.options=uf}},{key:"solve",value:function(){for(var uf,df,wf,wo,ls,_f,po,xo,gf=this.body.edges,cf=.5,yf=this.physicsBody.physicsEdgeIndices,Sf=this.physicsBody.physicsNodeIndices,xf=this.physicsBody.forces,bf=0;bf<Sf.length;bf++){var Af=Sf[bf];xf[Af].springFx=0,xf[Af].springFy=0}for(var Pf=0;Pf<yf.length;Pf++)df=gf[yf[Pf]],df.connected===!0&&(uf=df.options.length===void 0?this.options.springLength:df.options.length,wf=df.from.x-df.to.x,wo=df.from.y-df.to.y,xo=Math.sqrt(wf*wf+wo*wo),xo=xo===0?.01:xo,po=this.options.springConstant*(uf-xo)/xo,ls=wf*po,_f=wo*po,df.to.level!=df.from.level?(xf[df.toId]!==void 0&&(xf[df.toId].springFx-=ls,xf[df.toId].springFy-=_f),xf[df.fromId]!==void 0&&(xf[df.fromId].springFx+=ls,xf[df.fromId].springFy+=_f)):(xf[df.toId]!==void 0&&(xf[df.toId].x-=cf*ls,xf[df.toId].y-=cf*_f),xf[df.fromId]!==void 0&&(xf[df.fromId].x+=cf*ls,xf[df.fromId].y+=cf*_f)));po=1;for(var Df,zf,jf=0;jf<Sf.length;jf++){var $f=Sf[jf];Df=Math.min(po,Math.max(-po,xf[$f].springFx)),zf=Math.min(po,Math.max(-po,xf[$f].springFy)),xf[$f].x+=Df,xf[$f].y+=zf}for(var Ff=0,Xf=0,mp=0;mp<Sf.length;mp++){var fp=Sf[mp];Ff+=xf[fp].x,Xf+=xf[fp].y}for(var Mp=Ff/Sf.length,Np=Xf/Sf.length,Pp=0;Pp<Sf.length;Pp++){var yp=Sf[Pp];xf[yp].x-=Mp,xf[yp].y-=Np}}}]),yo}();X.default=mo},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=ls(ot),ut=tt(0),wt=ls(ut),uo=tt(1),mo=ls(uo),yo=tt(4),lf=ls(yo),uf=tt(5),df=ls(uf),wf=tt(81),wo=ls(wf);function ls(po){return po&&po.__esModule?po:{default:po}}var _f=function(po){(0,df.default)(xo,po);function xo(gf,cf,yf){return(0,wt.default)(this,xo),(0,lf.default)(this,(xo.__proto__||(0,at.default)(xo)).call(this,gf,cf,yf))}return(0,mo.default)(xo,[{key:"_calculateForces",value:function(cf,yf,Sf,xf,bf){cf===0&&(cf=.1*Math.random(),yf=cf),this.overlapAvoidanceFactor<1&&xf.shape.radius&&(cf=Math.max(.1+this.overlapAvoidanceFactor*xf.shape.radius,cf-xf.shape.radius));var Af=xf.edges.length+1,Pf=this.options.gravitationalConstant*bf.mass*xf.options.mass*Af/Math.pow(cf,2),Df=yf*Pf,zf=Sf*Pf;this.physicsBody.forces[xf.id].x+=Df,this.physicsBody.forces[xf.id].y+=zf}}]),xo}(wo.default);X.default=_f},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=ls(ot),ut=tt(0),wt=ls(ut),uo=tt(1),mo=ls(uo),yo=tt(4),lf=ls(yo),uf=tt(5),df=ls(uf),wf=tt(82),wo=ls(wf);function ls(po){return po&&po.__esModule?po:{default:po}}var _f=function(po){(0,df.default)(xo,po);function xo(gf,cf,yf){return(0,wt.default)(this,xo),(0,lf.default)(this,(xo.__proto__||(0,at.default)(xo)).call(this,gf,cf,yf))}return(0,mo.default)(xo,[{key:"_calculateForces",value:function(cf,yf,Sf,xf,bf){if(cf>0){var Af=bf.edges.length+1,Pf=this.options.centralGravity*Af*bf.options.mass;xf[bf.id].x=yf*Pf,xf[bf.id].y=Sf*Pf}}}]),xo}(wo.default);X.default=_f},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(9),at=uf(ot),ut=tt(7),wt=uf(ut),uo=tt(0),mo=uf(uo),yo=tt(1),lf=uf(yo);function uf(xo){return xo&&xo.__esModule?xo:{default:xo}}var df=tt(2),wf=tt(57).default,wo=tt(179).default,ls=tt(55).default,_f=tt(34).default,po=function(){function xo(gf){var cf=this;(0,mo.default)(this,xo),this.body=gf,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},df.extend(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){cf.clusteredNodes={},cf.clusteredEdges={}})}return(0,lf.default)(xo,[{key:"clusterByHubsize",value:function(cf,yf){cf===void 0?cf=this._getHubSize():(typeof cf>"u"?"undefined":(0,wt.default)(cf))==="object"&&(yf=this._checkOptions(cf),cf=this._getHubSize());for(var Sf=[],xf=0;xf<this.body.nodeIndices.length;xf++){var bf=this.body.nodes[this.body.nodeIndices[xf]];bf.edges.length>=cf&&Sf.push(bf.id)}for(var Af=0;Af<Sf.length;Af++)this.clusterByConnection(Sf[Af],yf,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var cf=this,yf=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Sf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(yf.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");yf=this._checkOptions(yf);var xf={},bf={};df.forEach(this.body.nodes,function(Af,Pf){Af.options&&yf.joinCondition(Af.options)===!0&&(xf[Pf]=Af,df.forEach(Af.edges,function(Df){cf.clusteredEdges[Df.id]===void 0&&(bf[Df.id]=Df)}))}),this._cluster(xf,bf,yf,Sf)}},{key:"clusterByEdgeCount",value:function(cf,yf){var Sf=this,xf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;yf=this._checkOptions(yf);for(var bf=[],Af={},Pf=void 0,Df=void 0,zf=void 0,jf=function(Mp){var Np={},Pp={},yp=Sf.body.nodeIndices[Mp],Ep=Sf.body.nodes[yp];if(Af[yp]===void 0){zf=0,Df=[];for(var Cp=0;Cp<Ep.edges.length;Cp++)Pf=Ep.edges[Cp],Sf.clusteredEdges[Pf.id]===void 0&&(Pf.toId!==Pf.fromId&&zf++,Df.push(Pf));if(zf===cf){Ff=function(Nf){if(yf.joinCondition===void 0||yf.joinCondition===null)return!0;var Jf=wf.cloneOptions(Nf);return yf.joinCondition(Jf)};for(var $p=!0,kp=0;kp<Df.length;kp++){Pf=Df[kp];var Dp=Sf._getConnectedId(Pf,yp);if(Ff(Ep))Pp[Pf.id]=Pf,Np[yp]=Ep,Np[Dp]=Sf.body.nodes[Dp],Af[yp]=!0;else{$p=!1;break}}if((0,at.default)(Np).length>0&&(0,at.default)(Pp).length>0&&$p===!0)if(Xf=function(){for(var Nf=0;Nf<bf.length;++Nf)for(var Jf in Np)if(bf[Nf].nodes[Jf]!==void 0)return bf[Nf]},mp=Xf(),mp!==void 0){for(var Fp in Np)mp.nodes[Fp]===void 0&&(mp.nodes[Fp]=Np[Fp]);for(var Sp in Pp)mp.edges[Sp]===void 0&&(mp.edges[Sp]=Pp[Sp])}else bf.push({nodes:Np,edges:Pp})}}},$f=0;$f<this.body.nodeIndices.length;$f++){var Ff,Xf,mp;jf($f)}for(var $f=0;$f<bf.length;$f++)this._cluster(bf[$f].nodes,bf[$f].edges,yf,!1);xf===!0&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(cf){var yf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,cf,yf)}},{key:"clusterBridges",value:function(cf){var yf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,cf,yf)}},{key:"clusterByConnection",value:function(cf,yf){var Sf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(cf===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[cf]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");var xf=this.body.nodes[cf];yf=this._checkOptions(yf,xf),yf.clusterNodeProperties.x===void 0&&(yf.clusterNodeProperties.x=xf.x),yf.clusterNodeProperties.y===void 0&&(yf.clusterNodeProperties.y=xf.y),yf.clusterNodeProperties.fixed===void 0&&(yf.clusterNodeProperties.fixed={},yf.clusterNodeProperties.fixed.x=xf.options.fixed.x,yf.clusterNodeProperties.fixed.y=xf.options.fixed.y);var bf={},Af={},Pf=xf.id,Df=wf.cloneOptions(xf);bf[Pf]=xf;for(var zf=0;zf<xf.edges.length;zf++){var jf=xf.edges[zf];if(this.clusteredEdges[jf.id]===void 0){var $f=this._getConnectedId(jf,Pf);if(this.clusteredNodes[$f]===void 0)if($f!==Pf)if(yf.joinCondition===void 0)Af[jf.id]=jf,bf[$f]=this.body.nodes[$f];else{var Ff=wf.cloneOptions(this.body.nodes[$f]);yf.joinCondition(Df,Ff)===!0&&(Af[jf.id]=jf,bf[$f]=this.body.nodes[$f])}else Af[jf.id]=jf}}var Xf=(0,at.default)(bf).map(function(Np){return bf[Np].id});for(mp in bf)if(bf.hasOwnProperty(mp))for(var mp=bf[mp],fp=0;fp<mp.edges.length;fp++){var Mp=mp.edges[fp];Xf.indexOf(this._getConnectedId(Mp,mp.id))>-1&&(Af[Mp.id]=Mp)}this._cluster(bf,Af,yf,Sf)}},{key:"_createClusterEdges",value:function(cf,yf,Sf,xf){for(var bf=void 0,Af=void 0,Pf=void 0,Df=void 0,zf=void 0,jf=void 0,$f=(0,at.default)(cf),Ff=[],Xf=0;Xf<$f.length;Xf++){Af=$f[Xf],Pf=cf[Af];for(var mp=0;mp<Pf.edges.length;mp++)bf=Pf.edges[mp],this.clusteredEdges[bf.id]===void 0&&(bf.toId==bf.fromId?yf[bf.id]=bf:bf.toId==Af?(Df=Sf.id,zf=bf.fromId,jf=zf):(Df=bf.toId,zf=Sf.id,jf=Df),cf[jf]===void 0&&Ff.push({edge:bf,fromId:zf,toId:Df}))}for(var fp=[],Mp=function($p){for(var kp=0;kp<fp.length;kp++){var Dp=fp[kp],Fp=$p.fromId===Dp.fromId&&$p.toId===Dp.toId,Sp=$p.fromId===Dp.toId&&$p.toId===Dp.fromId;if(Fp||Sp)return Dp}return null},Np=0;Np<Ff.length;Np++){var Pp=Ff[Np],yp=Pp.edge,Ep=Mp(Pp);Ep===null?(Ep=this._createClusteredEdge(Pp.fromId,Pp.toId,yp,xf),fp.push(Ep)):Ep.clusteringEdgeReplacingIds.push(yp.id),this.body.edges[yp.id].edgeReplacedById=Ep.id,this._backupEdgeOptions(yp),yp.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var cf=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return cf.clusterEdgeProperties===void 0&&(cf.clusterEdgeProperties={}),cf.clusterNodeProperties===void 0&&(cf.clusterNodeProperties={}),cf}},{key:"_cluster",value:function(cf,yf,Sf){var xf=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,bf=[];for(var Af in cf)cf.hasOwnProperty(Af)&&this.clusteredNodes[Af]!==void 0&&bf.push(Af);for(var Pf=0;Pf<bf.length;++Pf)delete cf[bf[Pf]];if((0,at.default)(cf).length!=0&&!((0,at.default)(cf).length==1&&Sf.clusterNodeProperties.allowSingleNodeCluster!=!0)){var Df=df.deepExtend({},Sf.clusterNodeProperties);if(Sf.processProperties!==void 0){var zf=[];for(var jf in cf)if(cf.hasOwnProperty(jf)){var $f=wf.cloneOptions(cf[jf]);zf.push($f)}var Ff=[];for(var Xf in yf)if(yf.hasOwnProperty(Xf)&&Xf.substr(0,12)!=="clusterEdge:"){var mp=wf.cloneOptions(yf[Xf],"edge");Ff.push(mp)}if(Df=Sf.processProperties(Df,zf,Ff),!Df)throw new Error("The processProperties function does not return properties!")}Df.id===void 0&&(Df.id="cluster:"+df.randomUUID());var fp=Df.id;Df.label===void 0&&(Df.label="cluster");var Mp=void 0;Df.x===void 0&&(Mp=this._getClusterPosition(cf),Df.x=Mp.x),Df.y===void 0&&(Mp===void 0&&(Mp=this._getClusterPosition(cf)),Df.y=Mp.y),Df.id=fp;var Np=this.body.functions.createNode(Df,wo);Np.containedNodes=cf,Np.containedEdges=yf,Np.clusterEdgeProperties=Sf.clusterEdgeProperties,this.body.nodes[Df.id]=Np,this._clusterEdges(cf,yf,Df,Sf.clusterEdgeProperties),Df.id=void 0,xf===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(cf){this.clusteredEdges[cf.id]===void 0&&(this.clusteredEdges[cf.id]={physics:cf.options.physics})}},{key:"_restoreEdge",value:function(cf){var yf=this.clusteredEdges[cf.id];yf!==void 0&&(cf.setOptions({physics:yf.physics}),delete this.clusteredEdges[cf.id])}},{key:"isCluster",value:function(cf){return this.body.nodes[cf]!==void 0?this.body.nodes[cf].isCluster===!0:(console.log("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(cf){for(var yf=(0,at.default)(cf),Sf=cf[yf[0]].x,xf=cf[yf[0]].x,bf=cf[yf[0]].y,Af=cf[yf[0]].y,Pf=void 0,Df=1;Df<yf.length;Df++)Pf=cf[yf[Df]],Sf=Pf.x<Sf?Pf.x:Sf,xf=Pf.x>xf?Pf.x:xf,bf=Pf.y<bf?Pf.y:bf,Af=Pf.y>Af?Pf.y:Af;return{x:.5*(Sf+xf),y:.5*(bf+Af)}}},{key:"openCluster",value:function(cf,yf){var Sf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(cf===void 0)throw new Error("No clusterNodeId supplied to openCluster.");var xf=this.body.nodes[cf];if(xf===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(xf.isCluster!==!0||xf.containedNodes===void 0||xf.containedEdges===void 0)throw new Error("The node:"+cf+" is not a valid cluster.");var bf=this.findNode(cf),Af=bf.indexOf(cf)-1;if(Af>=0){var Pf=bf[Af],Df=this.body.nodes[Pf];Df._openChildCluster(cf),delete this.body.nodes[cf],Sf===!0&&this.body.emitter.emit("_dataChanged");return}var zf=xf.containedNodes,jf=xf.containedEdges;if(yf!==void 0&&yf.releaseFunction!==void 0&&typeof yf.releaseFunction=="function"){var $f={},Ff={x:xf.x,y:xf.y};for(var Xf in zf)if(zf.hasOwnProperty(Xf)){var mp=this.body.nodes[Xf];$f[Xf]={x:mp.x,y:mp.y}}var fp=yf.releaseFunction(Ff,$f);for(var Mp in zf)if(zf.hasOwnProperty(Mp)){var Np=this.body.nodes[Mp];fp[Mp]!==void 0&&(Np.x=fp[Mp].x===void 0?xf.x:fp[Mp].x,Np.y=fp[Mp].y===void 0?xf.y:fp[Mp].y)}}else df.forEach(zf,function(Gp){Gp.options.fixed.x===!1&&(Gp.x=xf.x),Gp.options.fixed.y===!1&&(Gp.y=xf.y)});for(var Pp in zf)if(zf.hasOwnProperty(Pp)){var yp=this.body.nodes[Pp];yp.vx=xf.vx,yp.vy=xf.vy,yp.setOptions({physics:!0}),delete this.clusteredNodes[Pp]}for(var Ep=[],Cp=0;Cp<xf.edges.length;Cp++)Ep.push(xf.edges[Cp]);for(var $p=0;$p<Ep.length;$p++){for(var kp=Ep[$p],Dp=this._getConnectedId(kp,cf),Fp=this.clusteredNodes[Dp],Sp=0;Sp<kp.clusteringEdgeReplacingIds.length;Sp++){var up=kp.clusteringEdgeReplacingIds[Sp],Nf=this.body.edges[up];if(Nf!==void 0)if(Fp!==void 0){var Jf=this.body.nodes[Fp.clusterId];Jf.containedEdges[Nf.id]=Nf,delete jf[Nf.id];var ip=Nf.fromId,ap=Nf.toId;Nf.toId==Dp?ap=Fp.clusterId:ip=Fp.clusterId,this._createClusteredEdge(ip,ap,Nf,Jf.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(Nf)}kp.remove()}for(var Op in jf)jf.hasOwnProperty(Op)&&this._restoreEdge(jf[Op]);delete this.body.nodes[cf],Sf===!0&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(cf){var yf=[];if(this.isCluster(cf)===!0){var Sf=this.body.nodes[cf].containedNodes;for(var xf in Sf)Sf.hasOwnProperty(xf)&&yf.push(this.body.nodes[xf].id)}return yf}},{key:"findNode",value:function(cf){for(var yf=[],Sf=100,xf=0,bf=void 0;this.clusteredNodes[cf]!==void 0&&xf<Sf;){if(bf=this.body.nodes[cf],bf===void 0)return[];yf.push(bf.id),cf=this.clusteredNodes[cf].clusterId,xf++}return bf=this.body.nodes[cf],bf===void 0?[]:(yf.push(bf.id),yf.reverse(),yf)}},{key:"updateClusteredNode",value:function(cf,yf){if(cf===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(yf===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[cf]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[cf].setOptions(yf),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(cf,yf){if(cf===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(yf===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[cf]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var Sf=this.getClusteredEdges(cf),xf=0;xf<Sf.length;xf++){var bf=this.body.edges[Sf[xf]];bf.setOptions(yf)}this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(cf){for(var yf=[],Sf=100,xf=0;cf!==void 0&&this.body.edges[cf]!==void 0&&xf<Sf;)yf.push(this.body.edges[cf].id),cf=this.body.edges[cf].edgeReplacedById,xf++;return yf.reverse(),yf}},{key:"getBaseEdge",value:function(cf){return this.getBaseEdges(cf)[0]}},{key:"getBaseEdges",value:function(cf){for(var yf=[cf],Sf=[],xf=[],bf=100,Af=0;yf.length>0&&Af<bf;){var Pf=yf.pop();if(Pf!==void 0){var Df=this.body.edges[Pf];if(Df!==void 0){Af++;var zf=Df.clusteringEdgeReplacingIds;if(zf===void 0)xf.push(Pf);else for(var jf=0;jf<zf.length;++jf){var $f=zf[jf];yf.indexOf(zf)!==-1||Sf.indexOf(zf)!==-1||yf.push($f)}Sf.push(Pf)}}}return xf}},{key:"_getConnectedId",value:function(cf,yf){return cf.toId!=yf?cf.toId:(cf.fromId!=yf,cf.fromId)}},{key:"_getHubSize",value:function(){for(var cf=0,yf=0,Sf=0,xf=0,bf=0;bf<this.body.nodeIndices.length;bf++){var Af=this.body.nodes[this.body.nodeIndices[bf]];Af.edges.length>xf&&(xf=Af.edges.length),cf+=Af.edges.length,yf+=Math.pow(Af.edges.length,2),Sf+=1}cf=cf/Sf,yf=yf/Sf;var Pf=yf-Math.pow(cf,2),Df=Math.sqrt(Pf),zf=Math.floor(cf+2*Df);return zf>xf&&(zf=xf),zf}},{key:"_createClusteredEdge",value:function(cf,yf,Sf,xf,bf){var Af=wf.cloneOptions(Sf,"edge");df.deepExtend(Af,xf),Af.from=cf,Af.to=yf,Af.id="clusterEdge:"+df.randomUUID(),bf!==void 0&&df.deepExtend(Af,bf);var Pf=this.body.functions.createEdge(Af);return Pf.clusteringEdgeReplacingIds=[Sf.id],Pf.connect(),this.body.edges[Pf.id]=Pf,Pf}},{key:"_clusterEdges",value:function(cf,yf,Sf,xf){if(yf instanceof ls){var bf=yf,Af={};Af[bf.id]=bf,yf=Af}if(cf instanceof _f){var Pf=cf,Df={};Df[Pf.id]=Pf,cf=Df}if(Sf==null)throw new Error("_clusterEdges: parameter clusterNode required");xf===void 0&&(xf=Sf.clusterEdgeProperties),this._createClusterEdges(cf,yf,Sf,xf);for(var zf in yf)if(yf.hasOwnProperty(zf)&&this.body.edges[zf]!==void 0){var jf=this.body.edges[zf];this._backupEdgeOptions(jf),jf.setOptions({physics:!1})}for(var $f in cf)cf.hasOwnProperty($f)&&(this.clusteredNodes[$f]={clusterId:Sf.id,node:this.body.nodes[$f]},this.body.nodes[$f].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(cf){if(cf!==void 0){var yf=this.clusteredNodes[cf];if(yf!==void 0){var Sf=yf.clusterId;if(Sf!==void 0)return this.body.nodes[Sf]}}}},{key:"_filter",value:function(cf,yf){var Sf=[];return df.forEach(cf,function(xf){yf(xf)&&Sf.push(xf)}),Sf}},{key:"_updateState",value:function(){var cf=this,yf=void 0,Sf=[],xf={},bf=function(Xf){df.forEach(cf.body.nodes,function(mp){mp.isCluster===!0&&Xf(mp)})};for(yf in this.clusteredNodes)if(this.clusteredNodes.hasOwnProperty(yf)){var Af=this.body.nodes[yf];Af===void 0&&Sf.push(yf)}bf(function(Ff){for(var Xf=0;Xf<Sf.length;Xf++)delete Ff.containedNodes[Sf[Xf]]});for(var Pf=0;Pf<Sf.length;Pf++)delete this.clusteredNodes[Sf[Pf]];df.forEach(this.clusteredEdges,function(Ff){var Xf=cf.body.edges[Ff];(Xf===void 0||!Xf.endPointsValid())&&(xf[Ff]=Ff)}),bf(function(Ff){df.forEach(Ff.containedEdges,function(Xf,mp){!Xf.endPointsValid()&&!xf[mp]&&(xf[mp]=mp)})}),df.forEach(this.body.edges,function(Ff,Xf){var mp=!0,fp=Ff.clusteringEdgeReplacingIds;if(fp!==void 0){var Mp=0;df.forEach(fp,function(Np){var Pp=cf.body.edges[Np];Pp!==void 0&&Pp.endPointsValid()&&(Mp+=1)}),mp=Mp>0}(!Ff.endPointsValid()||!mp)&&(xf[Xf]=Xf)}),bf(function(Ff){df.forEach(xf,function(Xf){delete Ff.containedEdges[Xf],df.forEach(Ff.edges,function(mp,fp){if(mp.id===Xf){Ff.edges[fp]=null;return}mp.clusteringEdgeReplacingIds=cf._filter(mp.clusteringEdgeReplacingIds,function(Mp){return!xf[Mp]})}),Ff.edges=cf._filter(Ff.edges,function(mp){return mp!==null})})}),df.forEach(xf,function(Ff){delete cf.clusteredEdges[Ff]}),df.forEach(xf,function(Ff){delete cf.body.edges[Ff]});var Df=(0,at.default)(this.body.edges);df.forEach(Df,function(Ff){var Xf=cf.body.edges[Ff],mp=cf._isClusteredNode(Xf.fromId)||cf._isClusteredNode(Xf.toId);if(mp!==cf._isClusteredEdge(Xf.id))if(mp){var fp=cf._getClusterNodeForNode(Xf.fromId);fp!==void 0&&cf._clusterEdges(cf.body.nodes[Xf.fromId],Xf,fp);var Mp=cf._getClusterNodeForNode(Xf.toId);Mp!==void 0&&cf._clusterEdges(cf.body.nodes[Xf.toId],Xf,Mp)}else delete cf._clusterEdges[Ff],cf._restoreEdge(Xf)});for(var zf=!1,jf=!0,$f=function(){var Xf=[];bf(function(fp){var Mp=(0,at.default)(fp.containedNodes).length,Np=fp.options.allowSingleNodeCluster===!0;(Np&&Mp<1||!Np&&Mp<2)&&Xf.push(fp.id)});for(var mp=0;mp<Xf.length;++mp)cf.openCluster(Xf[mp],{},!1);jf=Xf.length>0,zf=zf||jf};jf;)$f();zf&&this._updateState()}},{key:"_isClusteredNode",value:function(cf){return this.clusteredNodes[cf]!==void 0}},{key:"_isClusteredEdge",value:function(cf){return this.clusteredEdges[cf]!==void 0}}]),xo}();X.default=po},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=wf(ot),ut=tt(0),wt=wf(ut),uo=tt(1),mo=wf(uo),yo=tt(4),lf=wf(yo),uf=tt(5),df=wf(uf);function wf(po){return po&&po.__esModule?po:{default:po}}var wo=tt(2),ls=tt(34).default,_f=function(po){(0,df.default)(xo,po);function xo(gf,cf,yf,Sf,xf,bf){(0,wt.default)(this,xo);var Af=(0,lf.default)(this,(xo.__proto__||(0,at.default)(xo)).call(this,gf,cf,yf,Sf,xf,bf));return Af.isCluster=!0,Af.containedNodes={},Af.containedEdges={},Af}return(0,mo.default)(xo,[{key:"_openChildCluster",value:function(cf){var yf=this,Sf=this.body.nodes[cf];if(this.containedNodes[cf]===void 0)throw new Error("node with id: "+cf+" not in current cluster");if(!Sf.isCluster)throw new Error("node with id: "+cf+" is not a cluster");delete this.containedNodes[cf],wo.forEach(Sf.edges,function(xf){delete yf.containedEdges[xf.id]}),wo.forEach(Sf.containedNodes,function(xf,bf){yf.containedNodes[bf]=xf}),Sf.containedNodes={},wo.forEach(Sf.containedEdges,function(xf,bf){yf.containedEdges[bf]=xf}),Sf.containedEdges={},wo.forEach(Sf.edges,function(xf){wo.forEach(yf.edges,function(bf){var Af=bf.clusteringEdgeReplacingIds.indexOf(xf.id);Af!==-1&&(wo.forEach(xf.clusteringEdgeReplacingIds,function(Pf){bf.clusteringEdgeReplacingIds.push(Pf),yf.body.edges[Pf].edgeReplacedById=bf.id}),bf.clusteringEdgeReplacingIds.splice(Af,1))})}),Sf.edges=[]}}]),xo}(ls);X.default=_f},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(0),at=uo(ot),ut=tt(1),wt=uo(ut);function uo(uf){return uf&&uf.__esModule?uf:{default:uf}}function mo(){var uf;window!==void 0&&(uf=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),uf===void 0?window.requestAnimationFrame=function(df){df()}:window.requestAnimationFrame=uf}var yo=tt(2),lf=function(){function uf(df,wf){(0,at.default)(this,uf),mo(),this.body=df,this.canvas=wf,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},yo.extend(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return(0,wt.default)(uf,[{key:"bindEventListeners",value:function(){var wf=this;this.body.emitter.on("dragStart",function(){wf.dragging=!0}),this.body.emitter.on("dragEnd",function(){wf.dragging=!1}),this.body.emitter.on("zoom",function(){wf.zooming=!0,window.clearTimeout(wf.zoomTimeoutId),wf.zoomTimeoutId=window.setTimeout(function(){wf.zooming=!1,wf._requestRedraw.bind(wf)()},250)}),this.body.emitter.on("_resizeNodes",function(){wf._resizeNodes()}),this.body.emitter.on("_redraw",function(){wf.renderingActive===!1&&wf._redraw()}),this.body.emitter.on("_blockRedraw",function(){wf.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){wf.allowRedraw=!0,wf.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this)),this.body.emitter.on("_startRendering",function(){wf.renderRequests+=1,wf.renderingActive=!0,wf._startRendering()}),this.body.emitter.on("_stopRendering",function(){wf.renderRequests-=1,wf.renderingActive=wf.renderRequests>0,wf.renderTimer=void 0}),this.body.emitter.on("destroy",function(){wf.renderRequests=0,wf.allowRedraw=!1,wf.renderingActive=!1,wf.requiresTimeout===!0?clearTimeout(wf.renderTimer):window.cancelAnimationFrame(wf.renderTimer),wf.body.emitter.off()})}},{key:"setOptions",value:function(wf){if(wf!==void 0){var wo=["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"];yo.selectiveDeepExtend(wo,this.options,wf)}}},{key:"_requestNextFrame",value:function(wf,wo){if(!(typeof window>"u")){var ls=void 0,_f=window;return this.requiresTimeout===!0?ls=_f.setTimeout(wf,wo):_f.requestAnimationFrame&&(ls=_f.requestAnimationFrame(wf)),ls}}},{key:"_startRendering",value:function(){this.renderingActive===!0&&this.renderTimer===void 0&&(this.renderTimer=this._requestNextFrame(this._renderStep.bind(this),this.simulationInterval))}},{key:"_renderStep",value:function(){this.renderingActive===!0&&(this.renderTimer=void 0,this.requiresTimeout===!0&&this._startRendering(),this._redraw(),this.requiresTimeout===!1&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var wf=this;this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,this._requestNextFrame(function(){wf._redraw(!1)},0))}},{key:"_redraw",value:function(){var wf=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1,(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();var wo=this.canvas.getContext(),ls=this.canvas.frame.canvas.clientWidth,_f=this.canvas.frame.canvas.clientHeight;if(wo.clearRect(0,0,ls,_f),this.canvas.frame.clientWidth===0)return;wo.save(),wo.translate(this.body.view.translation.x,this.body.view.translation.y),wo.scale(this.body.view.scale,this.body.view.scale),wo.beginPath(),this.body.emitter.emit("beforeDrawing",wo),wo.closePath(),wf===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(wo),(this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1)&&this._drawNodes(wo,wf),wo.beginPath(),this.body.emitter.emit("afterDrawing",wo),wo.closePath(),wo.restore(),wf===!0&&wo.clearRect(0,0,ls,_f)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var wf=this.canvas.getContext();wf.save(),wf.translate(this.body.view.translation.x,this.body.view.translation.y),wf.scale(this.body.view.scale,this.body.view.scale);var wo=this.body.nodes,ls=void 0;for(var _f in wo)wo.hasOwnProperty(_f)&&(ls=wo[_f],ls.resize(wf),ls.updateBoundingBox(wf,ls.selected));wf.restore()}},{key:"_drawNodes",value:function(wf){for(var wo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ls=this.body.nodes,_f=this.body.nodeIndices,po=void 0,xo=[],gf=20,cf=this.canvas.DOMtoCanvas({x:-gf,y:-gf}),yf=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+gf,y:this.canvas.frame.canvas.clientHeight+gf}),Sf={top:cf.y,left:cf.x,bottom:yf.y,right:yf.x},xf=0;xf<_f.length;xf++)po=ls[_f[xf]],po.isSelected()?xo.push(_f[xf]):wo===!0||po.isBoundingBoxOverlappingWith(Sf)===!0?po.draw(wf):po.updateBoundingBox(wf,po.selected);for(var bf=0;bf<xo.length;bf++)po=ls[xo[bf]],po.draw(wf)}},{key:"_drawEdges",value:function(wf){for(var wo=this.body.edges,ls=this.body.edgeIndices,_f=void 0,po=0;po<ls.length;po++)_f=wo[ls[po]],_f.connected===!0&&_f.draw(wf)}},{key:"_determineBrowserMethod",value:function(){if(typeof window<"u"){var wf=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,wf.indexOf("msie 9.0")!=-1?this.requiresTimeout=!0:wf.indexOf("safari")!=-1&&wf.indexOf("chrome")<=-1&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}}]),uf}();X.default=lf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(0),at=uo(ot),ut=tt(1),wt=uo(ut);function uo(df){return df&&df.__esModule?df:{default:df}}var mo=tt(24),yo=tt(36),lf=tt(2),uf=function(){function df(wf){(0,at.default)(this,df),this.body=wf,this.pixelRatio=1,this.resizeTimer=void 0,this.resizeFunction=this._onResize.bind(this),this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},lf.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,wt.default)(df,[{key:"bindEventListeners",value:function(){var wo=this;this.body.emitter.once("resize",function(ls){ls.width!==0&&(wo.body.view.translation.x=ls.width*.5),ls.height!==0&&(wo.body.view.translation.y=ls.height*.5)}),this.body.emitter.on("setSize",this.setSize.bind(this)),this.body.emitter.on("destroy",function(){wo.hammerFrame.destroy(),wo.hammer.destroy(),wo._cleanUp()})}},{key:"setOptions",value:function(wo){var ls=this;if(wo!==void 0){var _f=["width","height","autoResize"];lf.selectiveDeepExtend(_f,this.options,wo)}this.options.autoResize===!0&&(this._cleanUp(),this.resizeTimer=setInterval(function(){var po=ls.setSize();po===!0&&ls.body.emitter.emit("_requestRedraw")},1e3),this.resizeFunction=this._onResize.bind(this),lf.addEventListener(window,"resize",this.resizeFunction))}},{key:"_cleanUp",value:function(){this.resizeTimer!==void 0&&clearInterval(this.resizeTimer),lf.removeEventListener(window,"resize",this.resizeFunction),this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var wo=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/wo,this.cameraState.previousHeight=this.frame.canvas.height/wo,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/wo,y:.5*this.frame.canvas.height/wo}))}},{key:"_setCameraState",value:function(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0){var wo=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,ls=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,_f=this.cameraState.scale;wo!=1&&ls!=1?_f=this.cameraState.scale*.5*(wo+ls):wo!=1?_f=this.cameraState.scale*wo:ls!=1&&(_f=this.cameraState.scale*ls),this.body.view.scale=_f;var po=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),xo={x:po.x-this.cameraState.position.x,y:po.y-this.cameraState.position.y};this.body.view.translation.x+=xo.x*this.body.view.scale,this.body.view.translation.y+=xo.y*this.body.view.scale}}},{key:"_prepareValue",value:function(wo){if(typeof wo=="number")return wo+"px";if(typeof wo=="string"){if(wo.indexOf("%")!==-1||wo.indexOf("px")!==-1)return wo;if(wo.indexOf("%")===-1)return wo+"px"}throw new Error("Could not use the value supplied for width or height:"+wo)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var wo=document.createElement("DIV");wo.style.color="red",wo.style.fontWeight="bold",wo.style.padding="10px",wo.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(wo)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var wo=this;this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new mo(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:mo.DIRECTION_ALL}),yo.onTouch(this.hammer,function(ls){wo.body.eventListeners.onTouch(ls)}),this.hammer.on("tap",function(ls){wo.body.eventListeners.onTap(ls)}),this.hammer.on("doubletap",function(ls){wo.body.eventListeners.onDoubleTap(ls)}),this.hammer.on("press",function(ls){wo.body.eventListeners.onHold(ls)}),this.hammer.on("panstart",function(ls){wo.body.eventListeners.onDragStart(ls)}),this.hammer.on("panmove",function(ls){wo.body.eventListeners.onDrag(ls)}),this.hammer.on("panend",function(ls){wo.body.eventListeners.onDragEnd(ls)}),this.hammer.on("pinch",function(ls){wo.body.eventListeners.onPinch(ls)}),this.frame.canvas.addEventListener("mousewheel",function(ls){wo.body.eventListeners.onMouseWheel(ls)}),this.frame.canvas.addEventListener("DOMMouseScroll",function(ls){wo.body.eventListeners.onMouseWheel(ls)}),this.frame.canvas.addEventListener("mousemove",function(ls){wo.body.eventListeners.onMouseMove(ls)}),this.frame.canvas.addEventListener("contextmenu",function(ls){wo.body.eventListeners.onContext(ls)}),this.hammerFrame=new mo(this.frame),yo.onRelease(this.hammerFrame,function(ls){wo.body.eventListeners.onRelease(ls)})}},{key:"setSize",value:function(){var wo=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,ls=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;wo=this._prepareValue(wo),ls=this._prepareValue(ls);var _f=!1,po=this.frame.canvas.width,xo=this.frame.canvas.height,gf=this.pixelRatio;if(this._setPixelRatio(),wo!=this.options.width||ls!=this.options.height||this.frame.style.width!=wo||this.frame.style.height!=ls)this._getCameraState(gf),this.frame.style.width=wo,this.frame.style.height=ls,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=wo,this.options.height=ls,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},_f=!0;else{var cf=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),yf=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==cf||this.frame.canvas.height!==yf)&&this._getCameraState(gf),this.frame.canvas.width!==cf&&(this.frame.canvas.width=cf,_f=!0),this.frame.canvas.height!==yf&&(this.frame.canvas.height=yf,_f=!0)}return _f===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(po/this.pixelRatio),oldHeight:Math.round(xo/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,_f}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var wo=this.getContext();if(wo===void 0)throw new Error("Could not get canvax context");var ls=1;typeof window<"u"&&(ls=window.devicePixelRatio||1);var _f=wo.webkitBackingStorePixelRatio||wo.mozBackingStorePixelRatio||wo.msBackingStorePixelRatio||wo.oBackingStorePixelRatio||wo.backingStorePixelRatio||1;return ls/_f}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var wo=this.getContext();if(wo===void 0)throw new Error("Could not get canvax context");wo.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(wo){return(wo-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(wo){return wo*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(wo){return(wo-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(wo){return wo*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(wo){return{x:this._XconvertCanvasToDOM(wo.x),y:this._YconvertCanvasToDOM(wo.y)}}},{key:"DOMtoCanvas",value:function(wo){return{x:this._XconvertDOMtoCanvas(wo.x),y:this._YconvertDOMtoCanvas(wo.y)}}}]),df}();X.default=uf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(78),at=yo(ot),ut=tt(0),wt=yo(ut),uo=tt(1),mo=yo(uo);function yo(wf){return wf&&wf.__esModule?wf:{default:wf}}var lf=tt(2),uf=tt(57).default,df=function(){function wf(wo,ls){var _f=this;(0,wt.default)(this,wf),this.body=wo,this.canvas=ls,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",this.fit.bind(this)),this.body.emitter.on("animationFinished",function(){_f.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}return(0,mo.default)(wf,[{key:"setOptions",value:function(){var ls=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=ls}},{key:"fit",value:function(){var ls=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{nodes:[]},_f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,po=void 0,xo=void 0;if(ls=(0,at.default)({},ls),(ls.nodes===void 0||ls.nodes.length===0)&&(ls.nodes=this.body.nodeIndices),_f===!0){var gf=0;for(var cf in this.body.nodes)if(this.body.nodes.hasOwnProperty(cf)){var yf=this.body.nodes[cf];yf.predefinedPosition===!0&&(gf+=1)}if(gf>.5*this.body.nodeIndices.length){this.fit(ls,!1);return}po=uf.getRange(this.body.nodes,ls.nodes);var Sf=this.body.nodeIndices.length;xo=12.662/(Sf+7.4147)+.0964822;var xf=Math.min(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600);xo*=xf}else{this.body.emitter.emit("_resizeNodes"),po=uf.getRange(this.body.nodes,ls.nodes);var bf=Math.abs(po.maxX-po.minX)*1.1,Af=Math.abs(po.maxY-po.minY)*1.1,Pf=this.canvas.frame.canvas.clientWidth/bf,Df=this.canvas.frame.canvas.clientHeight/Af;xo=Pf<=Df?Pf:Df}(xo>1||xo===0)&&(xo=1);var zf=uf.findCenter(po),jf={position:zf,scale:xo,animation:ls.animation};this.moveTo(jf)}},{key:"focus",value:function(ls){var _f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[ls]!==void 0){var po={x:this.body.nodes[ls].x,y:this.body.nodes[ls].y};_f.position=po,_f.lockedOnNode=ls,this.moveTo(_f)}else console.log("Node: "+ls+" cannot be found.")}},{key:"moveTo",value:function(ls){if(ls===void 0){ls={};return}ls.offset===void 0&&(ls.offset={x:0,y:0}),ls.offset.x===void 0&&(ls.offset.x=0),ls.offset.y===void 0&&(ls.offset.y=0),ls.scale===void 0&&(ls.scale=this.body.view.scale),ls.position===void 0&&(ls.position=this.getViewPosition()),ls.animation===void 0&&(ls.animation={duration:0}),ls.animation===!1&&(ls.animation={duration:0}),ls.animation===!0&&(ls.animation={}),ls.animation.duration===void 0&&(ls.animation.duration=1e3),ls.animation.easingFunction===void 0&&(ls.animation.easingFunction="easeInOutQuad"),this.animateView(ls)}},{key:"animateView",value:function(ls){if(ls!==void 0){this.animationEasingFunction=ls.animation.easingFunction,this.releaseNode(),ls.locked===!0&&(this.lockedOnNodeId=ls.lockedOnNode,this.lockedOnNodeOffset=ls.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=ls.scale,this.body.view.scale=this.targetScale;var _f=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),po={x:_f.x-ls.position.x,y:_f.y-ls.position.y};this.targetTranslation={x:this.sourceTranslation.x+po.x*this.targetScale+ls.offset.x,y:this.sourceTranslation.y+po.y*this.targetScale+ls.offset.y},ls.animation.duration===0?this.lockedOnNodeId!=null?(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*ls.animation.duration*.001)||1/60,this.animationEasingFunction=ls.animation.easingFunction,this.viewFunction=this._transitionRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var ls={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},_f=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),po={x:_f.x-ls.x,y:_f.y-ls.y},xo=this.body.view.translation,gf={x:xo.x+po.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:xo.y+po.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=gf}},{key:"releaseNode",value:function(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var ls=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=ls===!0?1:this.easingTime;var _f=lf.easingFunctions[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*_f,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*_f,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*_f},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null&&(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),wf}();X.default=df},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(0),at=uo(ot),ut=tt(1),wt=uo(ut);function uo(df){return df&&df.__esModule?df:{default:df}}var mo=tt(2),yo=tt(184).default,lf=tt(185).default,uf=function(){function df(wf,wo,ls){(0,at.default)(this,df),this.body=wf,this.canvas=wo,this.selectionHandler=ls,this.navigationHandler=new yo(wf,wo),this.body.eventListeners.onTap=this.onTap.bind(this),this.body.eventListeners.onTouch=this.onTouch.bind(this),this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this),this.body.eventListeners.onHold=this.onHold.bind(this),this.body.eventListeners.onDragStart=this.onDragStart.bind(this),this.body.eventListeners.onDrag=this.onDrag.bind(this),this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this),this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this),this.body.eventListeners.onPinch=this.onPinch.bind(this),this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this),this.body.eventListeners.onRelease=this.onRelease.bind(this),this.body.eventListeners.onContext=this.onContext.bind(this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=this.getPointer.bind(this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},mo.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,wt.default)(df,[{key:"bindEventListeners",value:function(){var wo=this;this.body.emitter.on("destroy",function(){clearTimeout(wo.popupTimer),delete wo.body.functions.getPointer})}},{key:"setOptions",value:function(wo){if(wo!==void 0){var ls=["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"];mo.selectiveNotDeepExtend(ls,this.options,wo),mo.mergeOptions(this.options,wo,"keyboard"),wo.tooltip&&(mo.extend(this.options.tooltip,wo.tooltip),wo.tooltip.color&&(this.options.tooltip.color=mo.parseColor(wo.tooltip.color)))}this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(wo){return{x:wo.x-mo.getAbsoluteLeft(this.canvas.frame.canvas),y:wo.y-mo.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(wo){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(wo.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}},{key:"onTap",value:function(wo){var ls=this.getPointer(wo.center),_f=this.selectionHandler.options.multiselect&&(wo.changedPointers[0].ctrlKey||wo.changedPointers[0].metaKey);this.checkSelectionChanges(ls,wo,_f),this.selectionHandler._generateClickEvent("click",wo,ls)}},{key:"onDoubleTap",value:function(wo){var ls=this.getPointer(wo.center);this.selectionHandler._generateClickEvent("doubleClick",wo,ls)}},{key:"onHold",value:function(wo){var ls=this.getPointer(wo.center),_f=this.selectionHandler.options.multiselect;this.checkSelectionChanges(ls,wo,_f),this.selectionHandler._generateClickEvent("click",wo,ls),this.selectionHandler._generateClickEvent("hold",wo,ls)}},{key:"onRelease",value:function(wo){if(new Date().valueOf()-this.touchTime>10){var ls=this.getPointer(wo.center);this.selectionHandler._generateClickEvent("release",wo,ls),this.touchTime=new Date().valueOf()}}},{key:"onContext",value:function(wo){var ls=this.getPointer({x:wo.clientX,y:wo.clientY});this.selectionHandler._generateClickEvent("oncontext",wo,ls)}},{key:"checkSelectionChanges",value:function(wo,ls){var _f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,po=this.selectionHandler.getSelection(),xo=!1;_f===!0?xo=this.selectionHandler.selectAdditionalOnPoint(wo):xo=this.selectionHandler.selectOnPoint(wo);var gf=this.selectionHandler.getSelection(),cf=this._determineDifference(po,gf),yf=this._determineDifference(gf,po);cf.edges.length>0&&(this.selectionHandler._generateClickEvent("deselectEdge",ls,wo,po),xo=!0),cf.nodes.length>0&&(this.selectionHandler._generateClickEvent("deselectNode",ls,wo,po),xo=!0),yf.nodes.length>0&&(this.selectionHandler._generateClickEvent("selectNode",ls,wo),xo=!0),yf.edges.length>0&&(this.selectionHandler._generateClickEvent("selectEdge",ls,wo),xo=!0),xo===!0&&this.selectionHandler._generateClickEvent("select",ls,wo)}},{key:"_determineDifference",value:function(wo,ls){var _f=function(xo,gf){for(var cf=[],yf=0;yf<xo.length;yf++){var Sf=xo[yf];gf.indexOf(Sf)===-1&&cf.push(Sf)}return cf};return{nodes:_f(wo.nodes,ls.nodes),edges:_f(wo.edges,ls.edges)}}},{key:"onDragStart",value:function(wo){this.drag.pointer===void 0&&this.onTouch(wo);var ls=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=mo.extend({},this.body.view.translation),this.drag.nodeId=void 0,ls!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=ls.id,ls.isSelected()===!1&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(ls)),this.selectionHandler._generateClickEvent("dragStart",wo,this.drag.pointer);var _f=this.selectionHandler.selectionObj.nodes;for(var po in _f)if(_f.hasOwnProperty(po)){var xo=_f[po],gf={id:xo.id,node:xo,x:xo.x,y:xo.y,xFixed:xo.options.fixed.x,yFixed:xo.options.fixed.y};xo.options.fixed.x=!0,xo.options.fixed.y=!0,this.drag.selection.push(gf)}}else this.selectionHandler._generateClickEvent("dragStart",wo,this.drag.pointer,void 0,!0)}},{key:"onDrag",value:function(wo){var ls=this;if(this.drag.pinched!==!0){this.body.emitter.emit("unlockNode");var _f=this.getPointer(wo.center),po=this.drag.selection;if(po&&po.length&&this.options.dragNodes===!0){this.selectionHandler._generateClickEvent("dragging",wo,_f);var xo=_f.x-this.drag.pointer.x,gf=_f.y-this.drag.pointer.y;po.forEach(function(Sf){var xf=Sf.node;Sf.xFixed===!1&&(xf.x=ls.canvas._XconvertDOMtoCanvas(ls.canvas._XconvertCanvasToDOM(Sf.x)+xo)),Sf.yFixed===!1&&(xf.y=ls.canvas._YconvertDOMtoCanvas(ls.canvas._YconvertCanvasToDOM(Sf.y)+gf))}),this.body.emitter.emit("startSimulation")}else if(this.options.dragView===!0){if(this.selectionHandler._generateClickEvent("dragging",wo,_f,void 0,!0),this.drag.pointer===void 0){this.onDragStart(wo);return}var cf=_f.x-this.drag.pointer.x,yf=_f.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+cf,y:this.drag.translation.y+yf},this.body.emitter.emit("_requestRedraw")}}}},{key:"onDragEnd",value:function(wo){this.drag.dragging=!1;var ls=this.drag.selection;ls&&ls.length?(ls.forEach(function(_f){_f.node.options.fixed.x=_f.xFixed,_f.node.options.fixed.y=_f.yFixed}),this.selectionHandler._generateClickEvent("dragEnd",wo,this.getPointer(wo.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler._generateClickEvent("dragEnd",wo,this.getPointer(wo.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}},{key:"onPinch",value:function(wo){var ls=this.getPointer(wo.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);var _f=this.pinch.scale*wo.scale;this.zoom(_f,ls)}},{key:"zoom",value:function(wo,ls){if(this.options.zoomView===!0){var _f=this.body.view.scale;wo<1e-5&&(wo=1e-5),wo>10&&(wo=10);var po=void 0;this.drag!==void 0&&this.drag.dragging===!0&&(po=this.canvas.DOMtoCanvas(this.drag.pointer));var xo=this.body.view.translation,gf=wo/_f,cf=(1-gf)*ls.x+xo.x*gf,yf=(1-gf)*ls.y+xo.y*gf;if(this.body.view.scale=wo,this.body.view.translation={x:cf,y:yf},po!=null){var Sf=this.canvas.canvasToDOM(po);this.drag.pointer.x=Sf.x,this.drag.pointer.y=Sf.y}this.body.emitter.emit("_requestRedraw"),_f<wo?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:ls}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:ls})}}},{key:"onMouseWheel",value:function(wo){if(this.options.zoomView===!0){var ls=0;if(wo.wheelDelta?ls=wo.wheelDelta/120:wo.detail&&(ls=-wo.detail/3),ls!==0){var _f=this.body.view.scale,po=ls*(this.options.zoomSpeed/10);ls<0&&(po=po/(1-po)),_f*=1+po;var xo=this.getPointer({x:wo.clientX,y:wo.clientY});this.zoom(_f,xo)}wo.preventDefault()}}},{key:"onMouseMove",value:function(wo){var ls=this,_f=this.getPointer({x:wo.clientX,y:wo.clientY}),po=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(_f),this.popup.hidden===!1&&(po=!0,this.popup.setPosition(_f.x+3,_f.y-5),this.popup.show())),this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),po===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=setTimeout(function(){return ls._checkShowPopup(_f)},this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(wo,_f)}},{key:"_checkShowPopup",value:function(wo){var ls=this.canvas._XconvertDOMtoCanvas(wo.x),_f=this.canvas._YconvertDOMtoCanvas(wo.y),po={left:ls,top:_f,right:ls,bottom:_f},xo=this.popupObj===void 0?void 0:this.popupObj.id,gf=!1,cf="node";if(this.popupObj===void 0){for(var yf=this.body.nodeIndices,Sf=this.body.nodes,xf=void 0,bf=[],Af=0;Af<yf.length;Af++)xf=Sf[yf[Af]],xf.isOverlappingWith(po)===!0&&(gf=!0,xf.getTitle()!==void 0&&bf.push(yf[Af]));bf.length>0&&(this.popupObj=Sf[bf[bf.length-1]],gf=!0)}if(this.popupObj===void 0&&gf===!1){for(var Pf=this.body.edgeIndices,Df=this.body.edges,zf=void 0,jf=[],$f=0;$f<Pf.length;$f++)zf=Df[Pf[$f]],zf.isOverlappingWith(po)===!0&&zf.connected===!0&&zf.getTitle()!==void 0&&jf.push(Pf[$f]);jf.length>0&&(this.popupObj=Df[jf[jf.length-1]],cf="edge")}this.popupObj!==void 0?this.popupObj.id!==xo&&(this.popup===void 0&&(this.popup=new lf(this.canvas.frame)),this.popup.popupTargetType=cf,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(wo.x+3,wo.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(wo){var ls=this.selectionHandler._pointerToPositionObject(wo),_f=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(_f=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(ls),_f===!0)){var po=this.selectionHandler.getNodeAt(wo);_f=po===void 0?!1:po.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(wo)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(_f=this.body.edges[this.popup.popupTargetId].isOverlappingWith(ls));_f===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),df}();X.default=uf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(0),at=uo(ot),ut=tt(1),wt=uo(ut);function uo(df){return df&&df.__esModule?df:{default:df}}var mo=tt(24),yo=tt(36),lf=tt(52),uf=function(){function df(wf,wo){var ls=this;(0,at.default)(this,df),this.body=wf,this.canvas=wo,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){ls.activated=!0,ls.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){ls.activated=!1,ls.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){ls.keycharm!==void 0&&ls.keycharm.destroy()}),this.options={}}return(0,wt.default)(df,[{key:"setOptions",value:function(wo){wo!==void 0&&(this.options=wo,this.create())}},{key:"create",value:function(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(this.navigationHammers.length!=0){for(var wo=0;wo<this.navigationHammers.length;wo++)this.navigationHammers[wo].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var wo=this;this.cleanNavigation(),this.navigationDOM={};var ls=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],_f=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var po=0;po<ls.length;po++){this.navigationDOM[ls[po]]=document.createElement("div"),this.navigationDOM[ls[po]].className="vis-button vis-"+ls[po],this.navigationDOM.wrapper.appendChild(this.navigationDOM[ls[po]]);var xo=new mo(this.navigationDOM[ls[po]]);_f[po]==="_fit"?yo.onTouch(xo,this._fit.bind(this)):yo.onTouch(xo,this.bindToRedraw.bind(this,_f[po])),this.navigationHammers.push(xo)}var gf=new mo(this.canvas.frame);yo.onRelease(gf,function(){wo._stopMovement()}),this.navigationHammers.push(gf),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(wo){this.boundFunctions[wo]===void 0&&(this.boundFunctions[wo]=this[wo].bind(this),this.body.emitter.on("initRedraw",this.boundFunctions[wo]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(wo){this.boundFunctions[wo]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[wo]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[wo])}},{key:"_fit",value:function(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}},{key:"_stopMovement",value:function(){for(var wo in this.boundFunctions)this.boundFunctions.hasOwnProperty(wo)&&(this.body.emitter.off("initRedraw",this.boundFunctions[wo]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var wo=this.body.view.scale,ls=this.body.view.scale*(1+this.options.keyboard.speed.zoom),_f=this.body.view.translation,po=ls/wo,xo=(1-po)*this.canvas.canvasViewCenter.x+_f.x*po,gf=(1-po)*this.canvas.canvasViewCenter.y+_f.y*po;this.body.view.scale=ls,this.body.view.translation={x:xo,y:gf},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var wo=this.body.view.scale,ls=this.body.view.scale/(1+this.options.keyboard.speed.zoom),_f=this.body.view.translation,po=ls/wo,xo=(1-po)*this.canvas.canvasViewCenter.x+_f.x*po,gf=(1-po)*this.canvas.canvasViewCenter.y+_f.y*po;this.body.view.scale=ls,this.body.view.translation={x:xo,y:gf},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var wo=this;this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=lf({container:window,preventDefault:!0}):this.keycharm=lf({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0&&(this.keycharm.bind("up",function(){wo.bindToRedraw("_moveUp")},"keydown"),this.keycharm.bind("down",function(){wo.bindToRedraw("_moveDown")},"keydown"),this.keycharm.bind("left",function(){wo.bindToRedraw("_moveLeft")},"keydown"),this.keycharm.bind("right",function(){wo.bindToRedraw("_moveRight")},"keydown"),this.keycharm.bind("=",function(){wo.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num+",function(){wo.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num-",function(){wo.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("-",function(){wo.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("[",function(){wo.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("]",function(){wo.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pageup",function(){wo.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pagedown",function(){wo.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("up",function(){wo.unbindFromRedraw("_moveUp")},"keyup"),this.keycharm.bind("down",function(){wo.unbindFromRedraw("_moveDown")},"keyup"),this.keycharm.bind("left",function(){wo.unbindFromRedraw("_moveLeft")},"keyup"),this.keycharm.bind("right",function(){wo.unbindFromRedraw("_moveRight")},"keyup"),this.keycharm.bind("=",function(){wo.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num+",function(){wo.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num-",function(){wo.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("-",function(){wo.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("[",function(){wo.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("]",function(){wo.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pageup",function(){wo.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pagedown",function(){wo.unbindFromRedraw("_zoomOut")},"keyup")))}}]),df}();X.default=uf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(0),at=uo(ot),ut=tt(1),wt=uo(ut);function uo(yo){return yo&&yo.__esModule?yo:{default:yo}}var mo=function(){function yo(lf,uf){(0,at.default)(this,yo),this.container=lf,this.overflowMethod=uf||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return(0,wt.default)(yo,[{key:"setPosition",value:function(uf,df){this.x=parseInt(uf),this.y=parseInt(df)}},{key:"setText",value:function(uf){uf instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(uf)):this.frame.innerHTML=uf}},{key:"show",value:function(uf){if(uf===void 0&&(uf=!0),uf===!0){var df=this.frame.clientHeight,wf=this.frame.clientWidth,wo=this.frame.parentNode.clientHeight,ls=this.frame.parentNode.clientWidth,_f=0,po=0;if(this.overflowMethod=="flip"){var xo=!1,gf=!0;this.y-df<this.padding&&(gf=!1),this.x+wf>ls-this.padding&&(xo=!0),xo?_f=this.x-wf:_f=this.x,gf?po=this.y-df:po=this.y}else po=this.y-df,po+df+this.padding>wo&&(po=wo-df-this.padding),po<this.padding&&(po=this.padding),_f=this.x,_f+wf+this.padding>ls&&(_f=ls-wf-this.padding),_f<this.padding&&(_f=this.padding);this.frame.style.left=_f+"px",this.frame.style.top=po+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),yo}();X.default=mo},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(9),at=yo(ot),ut=tt(0),wt=yo(ut),uo=tt(1),mo=yo(uo);function yo(wo){return wo&&wo.__esModule?wo:{default:wo}}var lf=tt(34).default,uf=tt(55).default,df=tt(2),wf=function(){function wo(ls,_f){var po=this;(0,wt.default)(this,wo),this.body=ls,this.canvas=_f,this.selectionObj={nodes:[],edges:[]},this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},df.extend(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){po.updateSelection()})}return(0,mo.default)(wo,[{key:"setOptions",value:function(_f){if(_f!==void 0){var po=["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"];df.selectiveDeepExtend(po,this.options,_f)}}},{key:"selectOnPoint",value:function(_f){var po=!1;if(this.options.selectable===!0){var xo=this.getNodeAt(_f)||this.getEdgeAt(_f);this.unselectAll(),xo!==void 0&&(po=this.selectObject(xo)),this.body.emitter.emit("_requestRedraw")}return po}},{key:"selectAdditionalOnPoint",value:function(_f){var po=!1;if(this.options.selectable===!0){var xo=this.getNodeAt(_f)||this.getEdgeAt(_f);xo!==void 0&&(po=!0,xo.isSelected()===!0?this.deselectObject(xo):this.selectObject(xo),this.body.emitter.emit("_requestRedraw"))}return po}},{key:"_initBaseEvent",value:function(_f,po){var xo={};return xo.pointer={DOM:{x:po.x,y:po.y},canvas:this.canvas.DOMtoCanvas(po)},xo.event=_f,xo}},{key:"_generateClickEvent",value:function(_f,po,xo,gf){var cf=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,yf=this._initBaseEvent(po,xo);if(cf===!0)yf.nodes=[],yf.edges=[];else{var Sf=this.getSelection();yf.nodes=Sf.nodes,yf.edges=Sf.edges}gf!==void 0&&(yf.previousSelection=gf),_f=="click"&&(yf.items=this.getClickedItems(xo)),po.controlEdge!==void 0&&(yf.controlEdge=po.controlEdge),this.body.emitter.emit(_f,yf)}},{key:"selectObject",value:function(_f){var po=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;return _f!==void 0?(_f instanceof lf&&po===!0&&this._selectConnectedEdges(_f),_f.select(),this._addToSelection(_f),!0):!1}},{key:"deselectObject",value:function(_f){_f.isSelected()===!0&&(_f.selected=!1,this._removeFromSelection(_f))}},{key:"_getAllNodesOverlappingWith",value:function(_f){for(var po=[],xo=this.body.nodes,gf=0;gf<this.body.nodeIndices.length;gf++){var cf=this.body.nodeIndices[gf];xo[cf].isOverlappingWith(_f)&&po.push(cf)}return po}},{key:"_pointerToPositionObject",value:function(_f){var po=this.canvas.DOMtoCanvas(_f);return{left:po.x-1,top:po.y+1,right:po.x+1,bottom:po.y-1}}},{key:"getNodeAt",value:function(_f){var po=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,xo=this._pointerToPositionObject(_f),gf=this._getAllNodesOverlappingWith(xo);if(gf.length>0)return po===!0?this.body.nodes[gf[gf.length-1]]:gf[gf.length-1]}},{key:"_getEdgesOverlappingWith",value:function(_f,po){for(var xo=this.body.edges,gf=0;gf<this.body.edgeIndices.length;gf++){var cf=this.body.edgeIndices[gf];xo[cf].isOverlappingWith(_f)&&po.push(cf)}}},{key:"_getAllEdgesOverlappingWith",value:function(_f){var po=[];return this._getEdgesOverlappingWith(_f,po),po}},{key:"getEdgeAt",value:function(_f){for(var po=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,xo=this.canvas.DOMtoCanvas(_f),gf=10,cf=null,yf=this.body.edges,Sf=0;Sf<this.body.edgeIndices.length;Sf++){var xf=this.body.edgeIndices[Sf],bf=yf[xf];if(bf.connected){var Af=bf.from.x,Pf=bf.from.y,Df=bf.to.x,zf=bf.to.y,jf=bf.edgeType.getDistanceToEdge(Af,Pf,Df,zf,xo.x,xo.y);jf<gf&&(cf=xf,gf=jf)}}if(cf!==null)return po===!0?this.body.edges[cf]:cf}},{key:"_addToSelection",value:function(_f){_f instanceof lf?this.selectionObj.nodes[_f.id]=_f:this.selectionObj.edges[_f.id]=_f}},{key:"_addToHover",value:function(_f){_f instanceof lf?this.hoverObj.nodes[_f.id]=_f:this.hoverObj.edges[_f.id]=_f}},{key:"_removeFromSelection",value:function(_f){_f instanceof lf?(delete this.selectionObj.nodes[_f.id],this._unselectConnectedEdges(_f)):delete this.selectionObj.edges[_f.id]}},{key:"unselectAll",value:function(){for(var _f in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(_f)&&this.selectionObj.nodes[_f].unselect();for(var po in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(po)&&this.selectionObj.edges[po].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var _f=0;for(var po in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(po)&&(_f+=1);return _f}},{key:"_getSelectedNode",value:function(){for(var _f in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(_f))return this.selectionObj.nodes[_f]}},{key:"_getSelectedEdge",value:function(){for(var _f in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(_f))return this.selectionObj.edges[_f]}},{key:"_getSelectedEdgeCount",value:function(){var _f=0;for(var po in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(po)&&(_f+=1);return _f}},{key:"_getSelectedObjectCount",value:function(){var _f=0;for(var po in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(po)&&(_f+=1);for(var xo in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(xo)&&(_f+=1);return _f}},{key:"_selectionIsEmpty",value:function(){for(var _f in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(_f))return!1;for(var po in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(po))return!1;return!0}},{key:"_clusterInSelection",value:function(){for(var _f in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(_f)&&this.selectionObj.nodes[_f].clusterSize>1)return!0;return!1}},{key:"_selectConnectedEdges",value:function(_f){for(var po=0;po<_f.edges.length;po++){var xo=_f.edges[po];xo.select(),this._addToSelection(xo)}}},{key:"_hoverConnectedEdges",value:function(_f){for(var po=0;po<_f.edges.length;po++){var xo=_f.edges[po];xo.hover=!0,this._addToHover(xo)}}},{key:"_unselectConnectedEdges",value:function(_f){for(var po=0;po<_f.edges.length;po++){var xo=_f.edges[po];xo.unselect(),this._removeFromSelection(xo)}}},{key:"emitBlurEvent",value:function(_f,po,xo){var gf=this._initBaseEvent(_f,po);xo.hover===!0&&(xo.hover=!1,xo instanceof lf?(gf.node=xo.id,this.body.emitter.emit("blurNode",gf)):(gf.edge=xo.id,this.body.emitter.emit("blurEdge",gf)))}},{key:"emitHoverEvent",value:function(_f,po,xo){var gf=this._initBaseEvent(_f,po),cf=!1;return xo.hover===!1&&(xo.hover=!0,this._addToHover(xo),cf=!0,xo instanceof lf?(gf.node=xo.id,this.body.emitter.emit("hoverNode",gf)):(gf.edge=xo.id,this.body.emitter.emit("hoverEdge",gf))),cf}},{key:"hoverObject",value:function(_f,po){var xo=this.getNodeAt(po);xo===void 0&&(xo=this.getEdgeAt(po));var gf=!1;for(var cf in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(cf)&&(xo===void 0||xo instanceof lf&&xo.id!=cf||xo instanceof uf)&&(this.emitBlurEvent(_f,po,this.hoverObj.nodes[cf]),delete this.hoverObj.nodes[cf],gf=!0);for(var yf in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(yf)&&(gf===!0?(this.hoverObj.edges[yf].hover=!1,delete this.hoverObj.edges[yf]):(xo===void 0||xo instanceof uf&&xo.id!=yf||xo instanceof lf&&!xo.hover)&&(this.emitBlurEvent(_f,po,this.hoverObj.edges[yf]),delete this.hoverObj.edges[yf],gf=!0));if(xo!==void 0){var Sf=(0,at.default)(this.hoverObj.edges).length,xf=(0,at.default)(this.hoverObj.nodes).length,bf=xo instanceof uf&&Sf===0&&xf===0,Af=xo instanceof lf&&Sf===0&&xf===0;(gf||bf||Af)&&(gf=this.emitHoverEvent(_f,po,xo)),xo instanceof lf&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(xo)}gf===!0&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){var _f=this.getSelectedNodes(),po=this.getSelectedEdges();return{nodes:_f,edges:po}}},{key:"getSelectedNodes",value:function(){var _f=[];if(this.options.selectable===!0)for(var po in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(po)&&_f.push(this.selectionObj.nodes[po].id);return _f}},{key:"getSelectedEdges",value:function(){var _f=[];if(this.options.selectable===!0)for(var po in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(po)&&_f.push(this.selectionObj.edges[po].id);return _f}},{key:"setSelection",value:function(_f){var po=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},xo=void 0,gf=void 0;if(!_f||!_f.nodes&&!_f.edges)throw"Selection must be an object with nodes and/or edges properties";if((po.unselectAll||po.unselectAll===void 0)&&this.unselectAll(),_f.nodes)for(xo=0;xo<_f.nodes.length;xo++){gf=_f.nodes[xo];var cf=this.body.nodes[gf];if(!cf)throw new RangeError('Node with id "'+gf+'" not found');this.selectObject(cf,po.highlightEdges)}if(_f.edges)for(xo=0;xo<_f.edges.length;xo++){gf=_f.edges[xo];var yf=this.body.edges[gf];if(!yf)throw new RangeError('Edge with id "'+gf+'" not found');this.selectObject(yf)}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function(_f){var po=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!_f||_f.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:_f},{highlightEdges:po})}},{key:"selectEdges",value:function(_f){if(!_f||_f.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:_f})}},{key:"updateSelection",value:function(){for(var _f in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(_f)&&(this.body.nodes.hasOwnProperty(_f)||delete this.selectionObj.nodes[_f]);for(var po in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(po)&&(this.body.edges.hasOwnProperty(po)||delete this.selectionObj.edges[po])}},{key:"getClickedItems",value:function(_f){for(var po=this.canvas.DOMtoCanvas(_f),xo=[],gf=this.body.nodeIndices,cf=this.body.nodes,yf=gf.length-1;yf>=0;yf--){var Sf=cf[gf[yf]],xf=Sf.getItemsOnPoint(po);xo.push.apply(xo,xf)}for(var bf=this.body.edgeIndices,Af=this.body.edges,Pf=bf.length-1;Pf>=0;Pf--){var Df=Af[bf[Pf]],zf=Df.getItemsOnPoint(po);xo.push.apply(xo,zf)}return xo}}]),wo}();X.default=wf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(15),at=wf(ot),ut=tt(7),wt=wf(ut),uo=tt(9),mo=wf(uo),yo=tt(0),lf=wf(yo),uf=tt(1),df=wf(uf);function wf(Sf){return Sf&&Sf.__esModule?Sf:{default:Sf}}var wo=tt(83),ls=tt(2),_f=tt(57).default,po=tt(189),xo=po.HorizontalStrategy,gf=po.VerticalStrategy,cf=function(){function Sf(){(0,lf.default)(this,Sf),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return(0,df.default)(Sf,[{key:"addRelation",value:function(bf,Af){this.childrenReference[bf]===void 0&&(this.childrenReference[bf]=[]),this.childrenReference[bf].push(Af),this.parentReference[Af]===void 0&&(this.parentReference[Af]=[]),this.parentReference[Af].push(bf)}},{key:"checkIfTree",value:function(){for(var bf in this.parentReference)if(this.parentReference[bf].length>1){this.isTree=!1;return}this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(bf,Af){Af!==void 0&&this.trees[bf.id]===void 0&&(this.trees[bf.id]=Af,this.treeIndex=Math.max(Af,this.treeIndex))}},{key:"ensureLevel",value:function(bf){this.levels[bf]===void 0&&(this.levels[bf]=0)}},{key:"getMaxLevel",value:function(bf){var Af=this,Pf={},Df=function zf(jf){if(Pf[jf]!==void 0)return Pf[jf];var $f=Af.levels[jf];if(Af.childrenReference[jf]){var Ff=Af.childrenReference[jf];if(Ff.length>0)for(var Xf=0;Xf<Ff.length;Xf++)$f=Math.max($f,zf(Ff[Xf]))}return Pf[jf]=$f,$f};return Df(bf)}},{key:"levelDownstream",value:function(bf,Af){this.levels[Af.id]===void 0&&(this.levels[bf.id]===void 0&&(this.levels[bf.id]=0),this.levels[Af.id]=this.levels[bf.id]+1)}},{key:"setMinLevelToZero",value:function(bf){var Af=1e9;for(var Pf in bf)bf.hasOwnProperty(Pf)&&this.levels[Pf]!==void 0&&(Af=Math.min(this.levels[Pf],Af));for(var Df in bf)bf.hasOwnProperty(Df)&&this.levels[Df]!==void 0&&(this.levels[Df]-=Af)}},{key:"getTreeSize",value:function(bf,Af){var Pf=1e9,Df=-1e9,zf=1e9,jf=-1e9;for(var $f in this.trees)if(this.trees.hasOwnProperty($f)&&this.trees[$f]===Af){var Ff=bf[$f];Pf=Math.min(Ff.x,Pf),Df=Math.max(Ff.x,Df),zf=Math.min(Ff.y,zf),jf=Math.max(Ff.y,jf)}return{min_x:Pf,max_x:Df,min_y:zf,max_y:jf}}},{key:"hasSameParent",value:function(bf,Af){var Pf=this.parentReference[bf.id],Df=this.parentReference[Af.id];if(Pf===void 0||Df===void 0)return!1;for(var zf=0;zf<Pf.length;zf++)for(var jf=0;jf<Df.length;jf++)if(Pf[zf]==Df[jf])return!0;return!1}},{key:"inSameSubNetwork",value:function(bf,Af){return this.trees[bf.id]===this.trees[Af.id]}},{key:"getLevels",value:function(){return(0,mo.default)(this.distributionOrdering)}},{key:"addToOrdering",value:function(bf,Af){this.distributionOrdering[Af]===void 0&&(this.distributionOrdering[Af]=[]);var Pf=!1,Df=this.distributionOrdering[Af];for(var zf in Df)if(Df[zf]===bf){Pf=!0;break}Pf||(this.distributionOrdering[Af].push(bf),this.distributionIndex[bf.id]=this.distributionOrdering[Af].length-1)}}]),Sf}(),yf=function(){function Sf(xf){(0,lf.default)(this,Sf),this.body=xf,this.initialRandomSeed=Math.round(Math.random()*1e6),this.randomSeed=this.initialRandomSeed,this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},ls.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,df.default)(Sf,[{key:"bindEventListeners",value:function(){var bf=this;this.body.emitter.on("_dataChanged",function(){bf.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){bf.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){bf.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(bf.options.hierarchical.enabled===!0){var Af=bf.direction.curveType();bf.body.emitter.emit("_forceDisableDynamicCurves",Af,!1)}})}},{key:"setOptions",value:function(bf,Af){if(bf!==void 0){var Pf=this.options.hierarchical,Df=Pf.enabled;if(ls.selectiveDeepExtend(["randomSeed","improvedLayout"],this.options,bf),ls.mergeOptions(this.options,bf,"hierarchical"),bf.randomSeed!==void 0&&(this.initialRandomSeed=bf.randomSeed),Pf.enabled===!0)return Df===!0&&this.body.emitter.emit("refresh",!0),Pf.direction==="RL"||Pf.direction==="DU"?Pf.levelSeparation>0&&(Pf.levelSeparation*=-1):Pf.levelSeparation<0&&(Pf.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(Af);if(Df===!0)return this.body.emitter.emit("refresh"),ls.deepExtend(Af,this.optionsBackup)}return Af}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(bf){if(this.options.hierarchical.enabled===!0){var Af=this.optionsBackup.physics;bf.physics===void 0||bf.physics===!0?(bf.physics={enabled:Af.enabled===void 0?!0:Af.enabled,solver:"hierarchicalRepulsion"},Af.enabled=Af.enabled===void 0?!0:Af.enabled,Af.solver=Af.solver||"barnesHut"):(0,wt.default)(bf.physics)==="object"?(Af.enabled=bf.physics.enabled===void 0?!0:bf.physics.enabled,Af.solver=bf.physics.solver||"barnesHut",bf.physics.solver="hierarchicalRepulsion"):bf.physics!==!1&&(Af.solver="barnesHut",bf.physics={solver:"hierarchicalRepulsion"});var Pf=this.direction.curveType();if(bf.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},bf.edges={smooth:!1};else if(bf.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},bf.edges.smooth=!1;else if(typeof bf.edges.smooth=="boolean")this.optionsBackup.edges={smooth:bf.edges.smooth},bf.edges.smooth={enabled:bf.edges.smooth,type:Pf};else{var Df=bf.edges.smooth;Df.type!==void 0&&Df.type!=="dynamic"&&(Pf=Df.type),this.optionsBackup.edges={smooth:Df.enabled===void 0?!0:Df.enabled,type:Df.type===void 0?"dynamic":Df.type,roundness:Df.roundness===void 0?.5:Df.roundness,forceDirection:Df.forceDirection===void 0?!1:Df.forceDirection},bf.edges.smooth={enabled:Df.enabled===void 0?!0:Df.enabled,type:Pf,roundness:Df.roundness===void 0?.5:Df.roundness,forceDirection:Df.forceDirection===void 0?!1:Df.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",Pf)}return bf}},{key:"seededRandom",value:function(){var bf=Math.sin(this.randomSeed++)*1e4;return bf-Math.floor(bf)}},{key:"positionInitially",value:function(bf){if(this.options.hierarchical.enabled!==!0){this.randomSeed=this.initialRandomSeed;for(var Af=bf.length+50,Pf=0;Pf<bf.length;Pf++){var Df=bf[Pf],zf=2*Math.PI*this.seededRandom();Df.x===void 0&&(Df.x=Af*Math.cos(zf)),Df.y===void 0&&(Df.y=Af*Math.sin(zf))}}}},{key:"layoutNetwork",value:function(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){for(var bf=this.body.nodeIndices,Af=0,Pf=0;Pf<bf.length;Pf++){var Df=this.body.nodes[bf[Pf]];Df.predefinedPosition===!0&&(Af+=1)}if(Af<.5*bf.length){var zf=10,jf=0,$f=150,Ff={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(bf.length>$f){for(var Xf=bf.length;bf.length>$f&&jf<=zf;){jf+=1;var mp=bf.length;jf%3===0?this.body.modules.clustering.clusterBridges(Ff):this.body.modules.clustering.clusterOutliers(Ff);var fp=bf.length;if(mp==fp&&jf%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*Xf)})}jf>zf&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(bf,this.body.edgeIndices,!0),this._shiftToCenter();for(var Mp=70,Np=0;Np<bf.length;Np++){var Pp=this.body.nodes[bf[Np]];Pp.predefinedPosition===!1&&(Pp.x+=(.5-this.seededRandom())*Mp,Pp.y+=(.5-this.seededRandom())*Mp)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var bf=_f.getRangeCore(this.body.nodes,this.body.nodeIndices),Af=_f.findCenter(bf),Pf=0;Pf<this.body.nodeIndices.length;Pf++){var Df=this.body.nodes[this.body.nodeIndices[Pf]];Df.x-=Af.x,Df.y-=Af.y}}},{key:"_declusterAll",value:function(){for(var bf=!0;bf===!0;){bf=!1;for(var Af=0;Af<this.body.nodeIndices.length;Af++)this.body.nodes[this.body.nodeIndices[Af]].isCluster===!0&&(bf=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[Af],{},!1));bf===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){var bf=void 0,Af=void 0,Pf=!1,Df=!1;this.lastNodeOnLevel={},this.hierarchical=new cf;for(Af in this.body.nodes)this.body.nodes.hasOwnProperty(Af)&&(bf=this.body.nodes[Af],bf.options.level!==void 0?(Pf=!0,this.hierarchical.levels[Af]=bf.options.level):Df=!0);if(Df===!0&&Pf===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(Df===!0){var zf=this.options.hierarchical.sortMethod;zf==="hubsize"?this._determineLevelsByHubsize():zf==="directed"?this._determineLevelsDirected():zf==="custom"&&this._determineLevelsCustomCallback()}for(var jf in this.body.nodes)this.body.nodes.hasOwnProperty(jf)&&this.hierarchical.ensureLevel(jf);var $f=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy($f),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var bf=this,Af=!1,Pf={},Df=function(){for(var $p=jf(),kp=0,Dp=0;Dp<$p.length-1;Dp++){var Fp=$p[Dp].max-$p[Dp+1].min;kp+=Fp+bf.options.hierarchical.treeSpacing,zf(Dp+1,kp)}},zf=function($p,kp){var Dp=bf.hierarchical.trees;for(var Fp in Dp)Dp.hasOwnProperty(Fp)&&Dp[Fp]===$p&&bf.direction.shift(Fp,kp)},jf=function(){for(var $p=[],kp=0;kp<bf.hierarchical.numTrees();kp++)$p.push(bf.direction.getTreeSize(kp));return $p},$f=function Cp($p,kp){if(!kp[$p.id]&&(kp[$p.id]=!0,bf.hierarchical.childrenReference[$p.id])){var Dp=bf.hierarchical.childrenReference[$p.id];if(Dp.length>0)for(var Fp=0;Fp<Dp.length;Fp++)Cp(bf.body.nodes[Dp[Fp]],kp)}},Ff=function($p){var kp=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,Dp=1e9,Fp=1e9,Sp=1e9,up=-1e9;for(var Nf in $p)if($p.hasOwnProperty(Nf)){var Jf=bf.body.nodes[Nf],ip=bf.hierarchical.levels[Jf.id],ap=bf.direction.getPosition(Jf),Op=bf._getSpaceAroundNode(Jf,$p),Gp=(0,at.default)(Op,2),bp=Gp[0],zp=Gp[1];Dp=Math.min(bp,Dp),Fp=Math.min(zp,Fp),ip<=kp&&(Sp=Math.min(ap,Sp),up=Math.max(ap,up))}return[Sp,up,Dp,Fp]},Xf=function($p,kp){var Dp=bf.hierarchical.getMaxLevel($p.id),Fp=bf.hierarchical.getMaxLevel(kp.id);return Math.min(Dp,Fp)},mp=function($p,kp,Dp){for(var Fp=bf.hierarchical,Sp=0;Sp<kp.length;Sp++){var up=kp[Sp],Nf=Fp.distributionOrdering[up];if(Nf.length>1)for(var Jf=0;Jf<Nf.length-1;Jf++){var ip=Nf[Jf],ap=Nf[Jf+1];Fp.hasSameParent(ip,ap)&&Fp.inSameSubNetwork(ip,ap)&&$p(ip,ap,Dp)}}},fp=function($p,kp){var Dp=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Fp=bf.direction.getPosition($p),Sp=bf.direction.getPosition(kp),up=Math.abs(Sp-Fp),Nf=bf.options.hierarchical.nodeSpacing;if(up>Nf){var Jf={},ip={};$f($p,Jf),$f(kp,ip);var ap=Xf($p,kp),Op=Ff(Jf,ap),Gp=Ff(ip,ap),bp=Op[1],zp=Gp[0],Rp=Gp[2],Up=Math.abs(bp-zp);if(Up>Nf){var Zp=bp-zp+Nf;Zp<-Rp+Nf&&(Zp=-Rp+Nf),Zp<0&&(bf._shiftBlock(kp.id,Zp),Af=!0,Dp===!0&&bf._centerParent(kp))}}},Mp=function($p,kp){for(var Dp=kp.id,Fp=kp.edges,Sp=bf.hierarchical.levels[kp.id],up=bf.options.hierarchical.levelSeparation*bf.options.hierarchical.levelSeparation,Nf={},Jf=[],ip=0;ip<Fp.length;ip++){var ap=Fp[ip];if(ap.toId!=ap.fromId){var Op=ap.toId==Dp?ap.from:ap.to;Nf[Fp[ip].id]=Op,bf.hierarchical.levels[Op.id]<Sp&&Jf.push(ap)}}var Gp=function(Ap,Ip){for(var jp=0,Jp=0;Jp<Ip.length;Jp++)if(Nf[Ip[Jp].id]!==void 0){var sg=bf.direction.getPosition(Nf[Ip[Jp].id])-Ap;jp+=sg/Math.sqrt(sg*sg+up)}return jp},bp=function(Ap,Ip){for(var jp=0,Jp=0;Jp<Ip.length;Jp++)if(Nf[Ip[Jp].id]!==void 0){var sg=bf.direction.getPosition(Nf[Ip[Jp].id])-Ap;jp-=up*Math.pow(sg*sg+up,-1.5)}return jp},zp=function(Ap,Ip){for(var jp=bf.direction.getPosition(kp),Jp={},sg=0;sg<Ap;sg++){var mg=Gp(jp,Ip),kg=bp(jp,Ip),Eg=40,im=Math.max(-Eg,Math.min(Eg,Math.round(mg/kg)));if(jp=jp-im,Jp[jp]!==void 0)break;Jp[jp]=sg}return jp},Rp=function(Ap){var Ip=bf.direction.getPosition(kp);if(Pf[kp.id]===void 0){var jp={};$f(kp,jp),Pf[kp.id]=jp}var Jp=Ff(Pf[kp.id]),sg=Jp[2],mg=Jp[3],kg=Ap-Ip,Eg=0;kg>0?Eg=Math.min(kg,mg-bf.options.hierarchical.nodeSpacing):kg<0&&(Eg=-Math.min(-kg,sg-bf.options.hierarchical.nodeSpacing)),Eg!=0&&(bf._shiftBlock(kp.id,Eg),Af=!0)},Up=function(Ap){var Ip=bf.direction.getPosition(kp),jp=bf._getSpaceAroundNode(kp),Jp=(0,at.default)(jp,2),sg=Jp[0],mg=Jp[1],kg=Ap-Ip,Eg=Ip;kg>0?Eg=Math.min(Ip+(mg-bf.options.hierarchical.nodeSpacing),Ap):kg<0&&(Eg=Math.max(Ip-(sg-bf.options.hierarchical.nodeSpacing),Ap)),Eg!==Ip&&(bf.direction.setPosition(kp,Eg),Af=!0)},Zp=zp($p,Jf);Rp(Zp),Zp=zp($p,Fp),Up(Zp)},Np=function($p){var kp=bf.hierarchical.getLevels();kp=kp.reverse();for(var Dp=0;Dp<$p;Dp++){Af=!1;for(var Fp=0;Fp<kp.length;Fp++)for(var Sp=kp[Fp],up=bf.hierarchical.distributionOrdering[Sp],Nf=0;Nf<up.length;Nf++)Mp(1e3,up[Nf]);if(Af!==!0)break}},Pp=function($p){var kp=bf.hierarchical.getLevels();kp=kp.reverse();for(var Dp=0;Dp<$p&&(Af=!1,mp(fp,kp,!0),Af===!0);Dp++);},yp=function(){for(var $p in bf.body.nodes)bf.body.nodes.hasOwnProperty($p)&&bf._centerParent(bf.body.nodes[$p])},Ep=function(){var $p=bf.hierarchical.getLevels();$p=$p.reverse();for(var kp=0;kp<$p.length;kp++)for(var Dp=$p[kp],Fp=bf.hierarchical.distributionOrdering[Dp],Sp=0;Sp<Fp.length;Sp++)bf._centerParent(Fp[Sp])};this.options.hierarchical.blockShifting===!0&&(Pp(5),yp()),this.options.hierarchical.edgeMinimization===!0&&Np(20),this.options.hierarchical.parentCentralization===!0&&Ep(),Df()}},{key:"_getSpaceAroundNode",value:function(bf,Af){var Pf=!0;Af===void 0&&(Pf=!1);var Df=this.hierarchical.levels[bf.id];if(Df!==void 0){var zf=this.hierarchical.distributionIndex[bf.id],jf=this.direction.getPosition(bf),$f=this.hierarchical.distributionOrdering[Df],Ff=1e9,Xf=1e9;if(zf!==0){var mp=$f[zf-1];if(Pf===!0&&Af[mp.id]===void 0||Pf===!1){var fp=this.direction.getPosition(mp);Ff=jf-fp}}if(zf!=$f.length-1){var Mp=$f[zf+1];if(Pf===!0&&Af[Mp.id]===void 0||Pf===!1){var Np=this.direction.getPosition(Mp);Xf=Math.min(Xf,Np-jf)}}return[Ff,Xf]}else return[0,0]}},{key:"_centerParent",value:function(bf){if(this.hierarchical.parentReference[bf.id])for(var Af=this.hierarchical.parentReference[bf.id],Pf=0;Pf<Af.length;Pf++){var Df=Af[Pf],zf=this.body.nodes[Df],jf=this.hierarchical.childrenReference[Df];if(jf!==void 0){var $f=this._getCenterPosition(jf),Ff=this.direction.getPosition(zf),Xf=this._getSpaceAroundNode(zf),mp=(0,at.default)(Xf,2),fp=mp[0],Mp=mp[1],Np=Ff-$f;(Np<0&&Math.abs(Np)<Mp-this.options.hierarchical.nodeSpacing||Np>0&&Math.abs(Np)<fp-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(zf,$f)}}}},{key:"_placeNodesByHierarchy",value:function(bf){this.positionedNodes={};for(var Af in bf)if(bf.hasOwnProperty(Af)){var Pf=(0,mo.default)(bf[Af]);Pf=this._indexArrayToNodes(Pf),this.direction.sort(Pf);for(var Df=0,zf=0;zf<Pf.length;zf++){var jf=Pf[zf];if(this.positionedNodes[jf.id]===void 0){var $f=this.options.hierarchical.nodeSpacing,Ff=$f*Df;Df>0&&(Ff=this.direction.getPosition(Pf[zf-1])+$f),this.direction.setPosition(jf,Ff,Af),this._validatePositionAndContinue(jf,Af,Ff),Df++}}}}},{key:"_placeBranchNodes",value:function(bf,Af){var Pf=this.hierarchical.childrenReference[bf];if(Pf!==void 0){for(var Df=[],zf=0;zf<Pf.length;zf++)Df.push(this.body.nodes[Pf[zf]]);this.direction.sort(Df);for(var jf=0;jf<Df.length;jf++){var $f=Df[jf],Ff=this.hierarchical.levels[$f.id];if(Ff>Af&&this.positionedNodes[$f.id]===void 0){var Xf=this.options.hierarchical.nodeSpacing,mp=void 0;jf===0?mp=this.direction.getPosition(this.body.nodes[bf]):mp=this.direction.getPosition(Df[jf-1])+Xf,this.direction.setPosition($f,mp,Ff),this._validatePositionAndContinue($f,Ff,mp)}else return}var fp=this._getCenterPosition(Df);this.direction.setPosition(this.body.nodes[bf],fp,Af)}}},{key:"_validatePositionAndContinue",value:function(bf,Af,Pf){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[Af]!==void 0){var Df=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[Af]]);if(Pf-Df<this.options.hierarchical.nodeSpacing){var zf=Df+this.options.hierarchical.nodeSpacing-Pf,jf=this._findCommonParent(this.lastNodeOnLevel[Af],bf.id);this._shiftBlock(jf.withChild,zf)}}this.lastNodeOnLevel[Af]=bf.id,this.positionedNodes[bf.id]=!0,this._placeBranchNodes(bf.id,Af)}}},{key:"_indexArrayToNodes",value:function(bf){for(var Af=[],Pf=0;Pf<bf.length;Pf++)Af.push(this.body.nodes[bf[Pf]]);return Af}},{key:"_getDistribution",value:function(){var bf={},Af=void 0,Pf=void 0;for(Af in this.body.nodes)if(this.body.nodes.hasOwnProperty(Af)){Pf=this.body.nodes[Af];var Df=this.hierarchical.levels[Af]===void 0?0:this.hierarchical.levels[Af];this.direction.fix(Pf,Df),bf[Df]===void 0&&(bf[Df]={}),bf[Df][Af]=Pf}return bf}},{key:"_getActiveEdges",value:function(bf){var Af=this,Pf=[];return ls.forEach(bf.edges,function(Df){Af.body.edgeIndices.indexOf(Df.id)!==-1&&Pf.push(Df)}),Pf}},{key:"_getHubSizes",value:function(){var bf=this,Af={},Pf=this.body.nodeIndices;ls.forEach(Pf,function(zf){var jf=bf.body.nodes[zf],$f=bf._getActiveEdges(jf).length;Af[$f]=!0});var Df=[];return ls.forEach(Af,function(zf){Df.push(Number(zf))}),wo.sort(Df,function(zf,jf){return jf-zf}),Df}},{key:"_determineLevelsByHubsize",value:function(){for(var bf=this,Af=function(Ff,Xf){bf.hierarchical.levelDownstream(Ff,Xf)},Pf=this._getHubSizes(),Df=function(Ff){var Xf=Pf[Ff];if(Xf===0)return"break";ls.forEach(bf.body.nodeIndices,function(mp){var fp=bf.body.nodes[mp];Xf===bf._getActiveEdges(fp).length&&bf._crawlNetwork(Af,mp)})},zf=0;zf<Pf.length;++zf){var jf=Df(zf);if(jf==="break")break}}},{key:"_determineLevelsCustomCallback",value:function(){var bf=this,Af=1e5,Pf=function(jf,$f,Ff){},Df=function(jf,$f,Ff){var Xf=bf.hierarchical.levels[jf.id];Xf===void 0&&(Xf=bf.hierarchical.levels[jf.id]=Af);var mp=Pf(_f.cloneOptions(jf,"node"),_f.cloneOptions($f,"node"),_f.cloneOptions(Ff,"edge"));bf.hierarchical.levels[$f.id]=Xf+mp};this._crawlNetwork(Df),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var bf=this,Af=1e4,Pf=function(jf){return ls.forEach(bf.body.edges,function($f){if($f.toId===jf.fromId&&$f.fromId===jf.toId)return!0}),!1},Df=function(jf,$f,Ff){var Xf=bf.hierarchical.levels[jf.id];bf.hierarchical.levels[$f.id],Pf(Ff),Xf===void 0&&(Xf=bf.hierarchical.levels[jf.id]=Af),Ff.toId==$f.id?bf.hierarchical.levels[$f.id]=Xf+1:bf.hierarchical.levels[$f.id]=Xf-1};this._crawlNetwork(Df),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var bf=this,Af=function(Df,zf){bf.hierarchical.levels[zf.id]>bf.hierarchical.levels[Df.id]&&bf.hierarchical.addRelation(Df.id,zf.id)};this._crawlNetwork(Af),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var bf=this,Af=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},Pf=arguments[1],Df={},zf=function fp(Mp,Np){if(Df[Mp.id]===void 0){bf.hierarchical.setTreeIndex(Mp,Np),Df[Mp.id]=!0;for(var Pp=void 0,yp=bf._getActiveEdges(Mp),Ep=0;Ep<yp.length;Ep++){var Cp=yp[Ep];Cp.connected===!0&&(Cp.toId==Mp.id?Pp=Cp.from:Pp=Cp.to,Mp.id!=Pp.id&&(Af(Mp,Pp,Cp),fp(Pp,Np)))}}};if(Pf===void 0)for(var jf=0,$f=0;$f<this.body.nodeIndices.length;$f++){var Ff=this.body.nodeIndices[$f];if(Df[Ff]===void 0){var Xf=this.body.nodes[Ff];zf(Xf,jf),jf+=1}}else{var mp=this.body.nodes[Pf];if(mp===void 0){console.error("Node not found:",Pf);return}zf(mp)}}},{key:"_shiftBlock",value:function(bf,Af){var Pf=this,Df={},zf=function jf($f){if(!Df[$f]){Df[$f]=!0,Pf.direction.shift($f,Af);var Ff=Pf.hierarchical.childrenReference[$f];if(Ff!==void 0)for(var Xf=0;Xf<Ff.length;Xf++)jf(Ff[Xf])}};zf(bf)}},{key:"_findCommonParent",value:function(bf,Af){var Pf=this,Df={},zf=function $f(Ff,Xf){var mp=Pf.hierarchical.parentReference[Xf];if(mp!==void 0)for(var fp=0;fp<mp.length;fp++){var Mp=mp[fp];Ff[Mp]=!0,$f(Ff,Mp)}},jf=function $f(Ff,Xf){var mp=Pf.hierarchical.parentReference[Xf];if(mp!==void 0)for(var fp=0;fp<mp.length;fp++){var Mp=mp[fp];if(Ff[Mp]!==void 0)return{foundParent:Mp,withChild:Xf};var Np=$f(Ff,Mp);if(Np.foundParent!==null)return Np}return{foundParent:null,withChild:Xf}};return zf(Df,bf),jf(Df,Af)}},{key:"setDirectionStrategy",value:function(){var bf=this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU";bf?this.direction=new gf(this):this.direction=new xo(this)}},{key:"_getCenterPosition",value:function(bf){for(var Af=1e9,Pf=-1e9,Df=0;Df<bf.length;Df++){var zf=void 0;if(bf[Df].id!==void 0)zf=bf[Df];else{var jf=bf[Df];zf=this.body.nodes[jf]}var $f=this.direction.getPosition(zf);Af=Math.min(Af,$f),Pf=Math.max(Pf,$f)}return .5*(Af+Pf)}}]),Sf}();X.default=yf},function(q,X,tt){var ot,at,ut;(function(wt,uo){at=[X],ot=uo,ut=typeof ot=="function"?ot.apply(X,at):ot,ut!==void 0&&(q.exports=ut)})(this,function(wt){wt.__esModule=!0,wt.sort=yf;function uo(Sf,xf){if(!(Sf instanceof xf))throw new TypeError("Cannot call a class as a function")}var mo=32,yo=7,lf=256,uf=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];function df(Sf){return Sf<1e5?Sf<100?Sf<10?0:1:Sf<1e4?Sf<1e3?2:3:4:Sf<1e7?Sf<1e6?5:6:Sf<1e9?Sf<1e8?7:8:9}function wf(Sf,xf){if(Sf===xf)return 0;if(~~Sf===Sf&&~~xf===xf){if(Sf===0||xf===0)return Sf<xf?-1:1;if(Sf<0||xf<0){if(xf>=0)return-1;if(Sf>=0)return 1;Sf=-Sf,xf=-xf}var bf=df(Sf),Af=df(xf),Pf=0;return bf<Af?(Sf*=uf[Af-bf-1],xf/=10,Pf=-1):bf>Af&&(xf*=uf[bf-Af-1],Sf/=10,Pf=1),Sf===xf?Pf:Sf<xf?-1:1}var Df=String(Sf),zf=String(xf);return Df===zf?0:Df<zf?-1:1}function wo(Sf){for(var xf=0;Sf>=mo;)xf|=Sf&1,Sf>>=1;return Sf+xf}function ls(Sf,xf,bf,Af){var Pf=xf+1;if(Pf===bf)return 1;if(Af(Sf[Pf++],Sf[xf])<0){for(;Pf<bf&&Af(Sf[Pf],Sf[Pf-1])<0;)Pf++;_f(Sf,xf,Pf)}else for(;Pf<bf&&Af(Sf[Pf],Sf[Pf-1])>=0;)Pf++;return Pf-xf}function _f(Sf,xf,bf){for(bf--;xf<bf;){var Af=Sf[xf];Sf[xf++]=Sf[bf],Sf[bf--]=Af}}function po(Sf,xf,bf,Af,Pf){for(Af===xf&&Af++;Af<bf;Af++){for(var Df=Sf[Af],zf=xf,jf=Af;zf<jf;){var $f=zf+jf>>>1;Pf(Df,Sf[$f])<0?jf=$f:zf=$f+1}var Ff=Af-zf;switch(Ff){case 3:Sf[zf+3]=Sf[zf+2];case 2:Sf[zf+2]=Sf[zf+1];case 1:Sf[zf+1]=Sf[zf];break;default:for(;Ff>0;)Sf[zf+Ff]=Sf[zf+Ff-1],Ff--}Sf[zf]=Df}}function xo(Sf,xf,bf,Af,Pf,Df){var zf=0,jf=0,$f=1;if(Df(Sf,xf[bf+Pf])>0){for(jf=Af-Pf;$f<jf&&Df(Sf,xf[bf+Pf+$f])>0;)zf=$f,$f=($f<<1)+1,$f<=0&&($f=jf);$f>jf&&($f=jf),zf+=Pf,$f+=Pf}else{for(jf=Pf+1;$f<jf&&Df(Sf,xf[bf+Pf-$f])<=0;)zf=$f,$f=($f<<1)+1,$f<=0&&($f=jf);$f>jf&&($f=jf);var Ff=zf;zf=Pf-$f,$f=Pf-Ff}for(zf++;zf<$f;){var Xf=zf+($f-zf>>>1);Df(Sf,xf[bf+Xf])>0?zf=Xf+1:$f=Xf}return $f}function gf(Sf,xf,bf,Af,Pf,Df){var zf=0,jf=0,$f=1;if(Df(Sf,xf[bf+Pf])<0){for(jf=Pf+1;$f<jf&&Df(Sf,xf[bf+Pf-$f])<0;)zf=$f,$f=($f<<1)+1,$f<=0&&($f=jf);$f>jf&&($f=jf);var Ff=zf;zf=Pf-$f,$f=Pf-Ff}else{for(jf=Af-Pf;$f<jf&&Df(Sf,xf[bf+Pf+$f])>=0;)zf=$f,$f=($f<<1)+1,$f<=0&&($f=jf);$f>jf&&($f=jf),zf+=Pf,$f+=Pf}for(zf++;zf<$f;){var Xf=zf+($f-zf>>>1);Df(Sf,xf[bf+Xf])<0?$f=Xf:zf=Xf+1}return $f}var cf=function(){function Sf(xf,bf){uo(this,Sf),this.array=null,this.compare=null,this.minGallop=yo,this.length=0,this.tmpStorageLength=lf,this.stackLength=0,this.runStart=null,this.runLength=null,this.stackSize=0,this.array=xf,this.compare=bf,this.length=xf.length,this.length<2*lf&&(this.tmpStorageLength=this.length>>>1),this.tmp=new Array(this.tmpStorageLength),this.stackLength=this.length<120?5:this.length<1542?10:this.length<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength)}return Sf.prototype.pushRun=function(bf,Af){this.runStart[this.stackSize]=bf,this.runLength[this.stackSize]=Af,this.stackSize+=1},Sf.prototype.mergeRuns=function(){for(;this.stackSize>1;){var bf=this.stackSize-2;if(bf>=1&&this.runLength[bf-1]<=this.runLength[bf]+this.runLength[bf+1]||bf>=2&&this.runLength[bf-2]<=this.runLength[bf]+this.runLength[bf-1])this.runLength[bf-1]<this.runLength[bf+1]&&bf--;else if(this.runLength[bf]>this.runLength[bf+1])break;this.mergeAt(bf)}},Sf.prototype.forceMergeRuns=function(){for(;this.stackSize>1;){var bf=this.stackSize-2;bf>0&&this.runLength[bf-1]<this.runLength[bf+1]&&bf--,this.mergeAt(bf)}},Sf.prototype.mergeAt=function(bf){var Af=this.compare,Pf=this.array,Df=this.runStart[bf],zf=this.runLength[bf],jf=this.runStart[bf+1],$f=this.runLength[bf+1];this.runLength[bf]=zf+$f,bf===this.stackSize-3&&(this.runStart[bf+1]=this.runStart[bf+2],this.runLength[bf+1]=this.runLength[bf+2]),this.stackSize--;var Ff=gf(Pf[jf],Pf,Df,zf,0,Af);Df+=Ff,zf-=Ff,zf!==0&&($f=xo(Pf[Df+zf-1],Pf,jf,$f,$f-1,Af),$f!==0&&(zf<=$f?this.mergeLow(Df,zf,jf,$f):this.mergeHigh(Df,zf,jf,$f)))},Sf.prototype.mergeLow=function(bf,Af,Pf,Df){var zf=this.compare,jf=this.array,$f=this.tmp,Ff=0;for(Ff=0;Ff<Af;Ff++)$f[Ff]=jf[bf+Ff];var Xf=0,mp=Pf,fp=bf;if(jf[fp++]=jf[mp++],--Df===0){for(Ff=0;Ff<Af;Ff++)jf[fp+Ff]=$f[Xf+Ff];return}if(Af===1){for(Ff=0;Ff<Df;Ff++)jf[fp+Ff]=jf[mp+Ff];jf[fp+Df]=$f[Xf];return}for(var Mp=this.minGallop;;){var Np=0,Pp=0,yp=!1;do if(zf(jf[mp],$f[Xf])<0){if(jf[fp++]=jf[mp++],Pp++,Np=0,--Df===0){yp=!0;break}}else if(jf[fp++]=$f[Xf++],Np++,Pp=0,--Af===1){yp=!0;break}while((Np|Pp)<Mp);if(yp)break;do{if(Np=gf(jf[mp],$f,Xf,Af,0,zf),Np!==0){for(Ff=0;Ff<Np;Ff++)jf[fp+Ff]=$f[Xf+Ff];if(fp+=Np,Xf+=Np,Af-=Np,Af<=1){yp=!0;break}}if(jf[fp++]=jf[mp++],--Df===0){yp=!0;break}if(Pp=xo($f[Xf],jf,mp,Df,0,zf),Pp!==0){for(Ff=0;Ff<Pp;Ff++)jf[fp+Ff]=jf[mp+Ff];if(fp+=Pp,mp+=Pp,Df-=Pp,Df===0){yp=!0;break}}if(jf[fp++]=$f[Xf++],--Af===1){yp=!0;break}Mp--}while(Np>=yo||Pp>=yo);if(yp)break;Mp<0&&(Mp=0),Mp+=2}if(this.minGallop=Mp,Mp<1&&(this.minGallop=1),Af===1){for(Ff=0;Ff<Df;Ff++)jf[fp+Ff]=jf[mp+Ff];jf[fp+Df]=$f[Xf]}else{if(Af===0)throw new Error("mergeLow preconditions were not respected");for(Ff=0;Ff<Af;Ff++)jf[fp+Ff]=$f[Xf+Ff]}},Sf.prototype.mergeHigh=function(bf,Af,Pf,Df){var zf=this.compare,jf=this.array,$f=this.tmp,Ff=0;for(Ff=0;Ff<Df;Ff++)$f[Ff]=jf[Pf+Ff];var Xf=bf+Af-1,mp=Df-1,fp=Pf+Df-1,Mp=0,Np=0;if(jf[fp--]=jf[Xf--],--Af===0){for(Mp=fp-(Df-1),Ff=0;Ff<Df;Ff++)jf[Mp+Ff]=$f[Ff];return}if(Df===1){for(fp-=Af,Xf-=Af,Np=fp+1,Mp=Xf+1,Ff=Af-1;Ff>=0;Ff--)jf[Np+Ff]=jf[Mp+Ff];jf[fp]=$f[mp];return}for(var Pp=this.minGallop;;){var yp=0,Ep=0,Cp=!1;do if(zf($f[mp],jf[Xf])<0){if(jf[fp--]=jf[Xf--],yp++,Ep=0,--Af===0){Cp=!0;break}}else if(jf[fp--]=$f[mp--],Ep++,yp=0,--Df===1){Cp=!0;break}while((yp|Ep)<Pp);if(Cp)break;do{if(yp=Af-gf($f[mp],jf,bf,Af,Af-1,zf),yp!==0){for(fp-=yp,Xf-=yp,Af-=yp,Np=fp+1,Mp=Xf+1,Ff=yp-1;Ff>=0;Ff--)jf[Np+Ff]=jf[Mp+Ff];if(Af===0){Cp=!0;break}}if(jf[fp--]=$f[mp--],--Df===1){Cp=!0;break}if(Ep=Df-xo(jf[Xf],$f,0,Df,Df-1,zf),Ep!==0){for(fp-=Ep,mp-=Ep,Df-=Ep,Np=fp+1,Mp=mp+1,Ff=0;Ff<Ep;Ff++)jf[Np+Ff]=$f[Mp+Ff];if(Df<=1){Cp=!0;break}}if(jf[fp--]=jf[Xf--],--Af===0){Cp=!0;break}Pp--}while(yp>=yo||Ep>=yo);if(Cp)break;Pp<0&&(Pp=0),Pp+=2}if(this.minGallop=Pp,Pp<1&&(this.minGallop=1),Df===1){for(fp-=Af,Xf-=Af,Np=fp+1,Mp=Xf+1,Ff=Af-1;Ff>=0;Ff--)jf[Np+Ff]=jf[Mp+Ff];jf[fp]=$f[mp]}else{if(Df===0)throw new Error("mergeHigh preconditions were not respected");for(Mp=fp-(Df-1),Ff=0;Ff<Df;Ff++)jf[Mp+Ff]=$f[Ff]}},Sf}();function yf(Sf,xf,bf,Af){if(!Array.isArray(Sf))throw new TypeError("Can only sort arrays");xf?typeof xf!="function"&&(Af=bf,bf=xf,xf=wf):xf=wf,bf||(bf=0),Af||(Af=Sf.length);var Pf=Af-bf;if(!(Pf<2)){var Df=0;if(Pf<mo){Df=ls(Sf,bf,Af,xf),po(Sf,bf,Af,bf+Df,xf);return}var zf=new cf(Sf,xf),jf=wo(Pf);do{if(Df=ls(Sf,bf,Af,xf),Df<jf){var $f=Pf;$f>jf&&($f=jf),po(Sf,bf,bf+$f,bf+Df,xf),Df=$f}zf.pushRun(bf,Df),zf.mergeRuns(),Pf-=Df,bf+=Df}while(Pf!==0);zf.forceMergeRuns()}}})},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0}),X.VerticalStrategy=X.HorizontalStrategy=void 0;var ot=tt(3),at=wf(ot),ut=tt(4),wt=wf(ut),uo=tt(5),mo=wf(uo),yo=tt(0),lf=wf(yo),uf=tt(1),df=wf(uf);function wf(xo){return xo&&xo.__esModule?xo:{default:xo}}var wo=tt(83),ls=function(){function xo(){(0,lf.default)(this,xo)}return(0,df.default)(xo,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(cf){return this.fake_use(cf),this.abstract()}},{key:"setPosition",value:function(cf,yf){var Sf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(cf,yf,Sf),this.abstract()}},{key:"getTreeSize",value:function(cf){return this.fake_use(cf),this.abstract()}},{key:"sort",value:function(cf){this.fake_use(cf),this.abstract()}},{key:"fix",value:function(cf,yf){this.fake_use(cf,yf),this.abstract()}},{key:"shift",value:function(cf,yf){this.fake_use(cf,yf),this.abstract()}}]),xo}(),_f=function(xo){(0,mo.default)(gf,xo);function gf(cf){(0,lf.default)(this,gf);var yf=(0,wt.default)(this,(gf.__proto__||(0,at.default)(gf)).call(this));return yf.layout=cf,yf}return(0,df.default)(gf,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(yf){return yf.x}},{key:"setPosition",value:function(yf,Sf){var xf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;xf!==void 0&&this.layout.hierarchical.addToOrdering(yf,xf),yf.x=Sf}},{key:"getTreeSize",value:function(yf){var Sf=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,yf);return{min:Sf.min_x,max:Sf.max_x}}},{key:"sort",value:function(yf){wo.sort(yf,function(Sf,xf){return Sf.x-xf.x})}},{key:"fix",value:function(yf,Sf){yf.y=this.layout.options.hierarchical.levelSeparation*Sf,yf.options.fixed.y=!0}},{key:"shift",value:function(yf,Sf){this.layout.body.nodes[yf].x+=Sf}}]),gf}(ls),po=function(xo){(0,mo.default)(gf,xo);function gf(cf){(0,lf.default)(this,gf);var yf=(0,wt.default)(this,(gf.__proto__||(0,at.default)(gf)).call(this));return yf.layout=cf,yf}return(0,df.default)(gf,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(yf){return yf.y}},{key:"setPosition",value:function(yf,Sf){var xf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;xf!==void 0&&this.layout.hierarchical.addToOrdering(yf,xf),yf.y=Sf}},{key:"getTreeSize",value:function(yf){var Sf=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,yf);return{min:Sf.min_y,max:Sf.max_y}}},{key:"sort",value:function(yf){wo.sort(yf,function(Sf,xf){return Sf.y-xf.y})}},{key:"fix",value:function(yf,Sf){yf.x=this.layout.options.hierarchical.levelSeparation*Sf,yf.options.fixed.x=!0}},{key:"shift",value:function(yf,Sf){this.layout.body.nodes[yf].y+=Sf}}]),gf}(ls);X.HorizontalStrategy=po,X.VerticalStrategy=_f},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(9),at=wf(ot),ut=tt(23),wt=wf(ut),uo=tt(7),mo=wf(uo),yo=tt(0),lf=wf(yo),uf=tt(1),df=wf(uf);function wf(xo){return xo&&xo.__esModule?xo:{default:xo}}var wo=tt(2),ls=tt(24),_f=tt(36),po=function(){function xo(gf,cf,yf){var Sf=this;(0,lf.default)(this,xo),this.body=gf,this.canvas=cf,this.selectionHandler=yf,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this.manipulationHammers=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},wo.extend(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){Sf._clean()}),this.body.emitter.on("_dataChanged",this._restore.bind(this)),this.body.emitter.on("_resetData",this._restore.bind(this))}return(0,df.default)(xo,[{key:"_restore",value:function(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(cf,yf,Sf){yf!==void 0&&(yf.locale!==void 0?this.options.locale=yf.locale:this.options.locale=Sf.locale,yf.locales!==void 0?this.options.locales=yf.locales:this.options.locales=Sf.locales),cf!==void 0&&(typeof cf=="boolean"?this.options.enabled=cf:(this.options.enabled=!0,wo.deepExtend(this.options,cf)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var cf=this.selectionHandler._getSelectedNodeCount(),yf=this.selectionHandler._getSelectedEdgeCount(),Sf=cf+yf,xf=this.options.locales[this.options.locale],bf=!1;this.options.addNode!==!1&&(this._createAddNodeButton(xf),bf=!0),this.options.addEdge!==!1&&(bf===!0?this._createSeperator(1):bf=!0,this._createAddEdgeButton(xf)),cf===1&&typeof this.options.editNode=="function"?(bf===!0?this._createSeperator(2):bf=!0,this._createEditNodeButton(xf)):yf===1&&cf===0&&this.options.editEdge!==!1&&(bf===!0?this._createSeperator(3):bf=!0,this._createEditEdgeButton(xf)),Sf!==0&&(cf>0&&this.options.deleteNode!==!1?(bf===!0&&this._createSeperator(4),this._createDeleteButton(xf)):cf===0&&this.options.deleteEdge!==!1&&(bf===!0&&this._createSeperator(4),this._createDeleteButton(xf))),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this)),this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var cf=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(cf),this._createSeperator(),this._createDescription(cf.addDescription||this.options.locales.en.addDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent("click",this._performAddNode.bind(this))}},{key:"editNode",value:function(){var cf=this;this.editMode!==!0&&this.enableEditMode(),this._clean();var yf=this.selectionHandler._getSelectedNode();if(yf!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(yf.isCluster!==!0){var Sf=wo.deepExtend({},yf.options,!1);if(Sf.x=yf.x,Sf.y=yf.y,this.options.editNode.length===2)this.options.editNode(Sf,function(xf){xf!=null&&cf.inMode==="editNode"&&cf.body.data.nodes.getDataSet().update(xf),cf.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var cf=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(cf),this._createSeperator(),this._createDescription(cf.edgeDescription||this.options.locales.en.edgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindUI("onTouch",this._handleConnect.bind(this)),this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this)),this._temporaryBindUI("onDrag",this._dragControlNode.bind(this)),this._temporaryBindUI("onRelease",this._finishConnect.bind(this)),this._temporaryBindUI("onDragStart",this._dragStartEdge.bind(this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",(0,mo.default)(this.options.editEdge)==="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],this.edgeBeingEditedId!==void 0)){var cf=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(cf.from,cf.to);return}if(this.guiEnabled===!0){var yf=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(yf),this._createSeperator(),this._createDescription(yf.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],this.edgeBeingEditedId!==void 0){var Sf=this.body.edges[this.edgeBeingEditedId],xf=this._getNewTargetNode(Sf.from.x,Sf.from.y),bf=this._getNewTargetNode(Sf.to.x,Sf.to.y);this.temporaryIds.nodes.push(xf.id),this.temporaryIds.nodes.push(bf.id),this.body.nodes[xf.id]=xf,this.body.nodeIndices.push(xf.id),this.body.nodes[bf.id]=bf,this.body.nodeIndices.push(bf.id),this._temporaryBindUI("onTouch",this._controlNodeTouch.bind(this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",this._controlNodeDragStart.bind(this)),this._temporaryBindUI("onDrag",this._controlNodeDrag.bind(this)),this._temporaryBindUI("onDragEnd",this._controlNodeDragEnd.bind(this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(Af){var Pf=Sf.edgeType.findBorderPositions(Af);xf.selected===!1&&(xf.x=Pf.from.x,xf.y=Pf.from.y),bf.selected===!1&&(bf.x=Pf.to.x,bf.y=Pf.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}},{key:"deleteSelected",value:function(){var cf=this;this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";var yf=this.selectionHandler.getSelectedNodes(),Sf=this.selectionHandler.getSelectedEdges(),xf=void 0;if(yf.length>0){for(var bf=0;bf<yf.length;bf++)if(this.body.nodes[yf[bf]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(xf=this.options.deleteNode)}else Sf.length>0&&typeof this.options.deleteEdge=="function"&&(xf=this.options.deleteEdge);if(typeof xf=="function"){var Af={nodes:yf,edges:Sf};if(xf.length===2)xf(Af,function(Pf){Pf!=null&&cf.inMode==="delete"?(cf.body.data.edges.getDataSet().remove(Pf.edges),cf.body.data.nodes.getDataSet().remove(Pf.nodes),cf.body.emitter.emit("startSimulation"),cf.showManipulatorToolbar()):(cf.body.emitter.emit("startSimulation"),cf.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(Sf),this.body.data.nodes.getDataSet().remove(yf),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(cf,yf){var Sf=wo.deepExtend({},this.options.controlNodeStyle);Sf.id="targetNode"+wo.randomUUID(),Sf.hidden=!1,Sf.physics=!1,Sf.x=cf,Sf.y=yf;var xf=this.body.functions.createNode(Sf);return xf.shape.boundingBox={left:cf,right:cf,top:yf,bottom:yf},xf}},{key:"_createEditButton",value:function(){this._clean(),this.manipulationDOM={},wo.recursiveDOMDelete(this.editModeDiv);var cf=this.options.locales[this.options.locale],yf=this._createButton("editMode","vis-button vis-edit vis-edit-mode",cf.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(yf),this._bindHammerToDiv(yf,this.toggleEditMode.bind(this))}},{key:"_clean",value:function(){this.inMode=!1,this.guiEnabled===!0&&(wo.recursiveDOMDelete(this.editModeDiv),wo.recursiveDOMDelete(this.manipulationDiv),this._cleanManipulatorHammers()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(this.manipulationHammers.length!=0){for(var cf=0;cf<this.manipulationHammers.length;cf++)this.manipulationHammers[cf].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean(),wo.recursiveDOMDelete(this.manipulationDiv),wo.recursiveDOMDelete(this.editModeDiv),wo.recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var cf=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+cf]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+cf].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+cf])}},{key:"_createAddNodeButton",value:function(cf){var yf=this._createButton("addNode","vis-button vis-add",cf.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(yf),this._bindHammerToDiv(yf,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function(cf){var yf=this._createButton("addEdge","vis-button vis-connect",cf.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(yf),this._bindHammerToDiv(yf,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function(cf){var yf=this._createButton("editNode","vis-button vis-edit",cf.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(yf),this._bindHammerToDiv(yf,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function(cf){var yf=this._createButton("editEdge","vis-button vis-edit",cf.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(yf),this._bindHammerToDiv(yf,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function(cf){var yf;this.options.rtl?yf="vis-button vis-delete-rtl":yf="vis-button vis-delete";var Sf=this._createButton("delete",yf,cf.del||this.options.locales.en.del);this.manipulationDiv.appendChild(Sf),this._bindHammerToDiv(Sf,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function(cf){var yf=this._createButton("back","vis-button vis-back",cf.back||this.options.locales.en.back);this.manipulationDiv.appendChild(yf),this._bindHammerToDiv(yf,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function(cf,yf,Sf){var xf=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[cf+"Div"]=document.createElement("div"),this.manipulationDOM[cf+"Div"].className=yf,this.manipulationDOM[cf+"Label"]=document.createElement("div"),this.manipulationDOM[cf+"Label"].className=xf,this.manipulationDOM[cf+"Label"].innerHTML=Sf,this.manipulationDOM[cf+"Div"].appendChild(this.manipulationDOM[cf+"Label"]),this.manipulationDOM[cf+"Div"]}},{key:"_createDescription",value:function(cf){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",cf))}},{key:"_temporaryBindEvent",value:function(cf,yf){this.temporaryEventFunctions.push({event:cf,boundFunction:yf}),this.body.emitter.on(cf,yf)}},{key:"_temporaryBindUI",value:function(cf,yf){if(this.body.eventListeners[cf]!==void 0)this.temporaryUIFunctions[cf]=this.body.eventListeners[cf],this.body.eventListeners[cf]=yf;else throw new Error("This UI function does not exist. Typo? You tried: "+cf+" possible are: "+(0,wt.default)((0,at.default)(this.body.eventListeners)))}},{key:"_unbindTemporaryUIs",value:function(){for(var cf in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(cf)&&(this.body.eventListeners[cf]=this.temporaryUIFunctions[cf],delete this.temporaryUIFunctions[cf]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var cf=0;cf<this.temporaryEventFunctions.length;cf++){var yf=this.temporaryEventFunctions[cf].event,Sf=this.temporaryEventFunctions[cf].boundFunction;this.body.emitter.off(yf,Sf)}this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(cf,yf){var Sf=new ls(cf,{});_f.onTouch(Sf,yf),this.manipulationHammers.push(Sf)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var cf=0;cf<this.temporaryIds.edges.length;cf++){this.body.edges[this.temporaryIds.edges[cf]].disconnect(),delete this.body.edges[this.temporaryIds.edges[cf]];var yf=this.body.edgeIndices.indexOf(this.temporaryIds.edges[cf]);yf!==-1&&this.body.edgeIndices.splice(yf,1)}for(var Sf=0;Sf<this.temporaryIds.nodes.length;Sf++){delete this.body.nodes[this.temporaryIds.nodes[Sf]];var xf=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[Sf]);xf!==-1&&this.body.nodeIndices.splice(xf,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(cf){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(cf.center),this.lastTouch.translation=wo.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var cf=this.lastTouch,yf=this.selectionHandler._pointerToPositionObject(cf),Sf=this.body.nodes[this.temporaryIds.nodes[0]],xf=this.body.nodes[this.temporaryIds.nodes[1]],bf=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var Af=Sf.isOverlappingWith(yf),Pf=xf.isOverlappingWith(yf);Af===!0?(this.selectedControlNode=Sf,bf.edgeType.from=Sf):Pf===!0&&(this.selectedControlNode=xf,bf.edgeType.to=xf),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(cf){this.body.emitter.emit("disablePhysics");var yf=this.body.functions.getPointer(cf.center),Sf=this.canvas.DOMtoCanvas(yf);if(this.selectedControlNode!==void 0)this.selectedControlNode.x=Sf.x,this.selectedControlNode.y=Sf.y;else{var xf=yf.x-this.lastTouch.x,bf=yf.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+xf,y:this.lastTouch.translation.y+bf}}this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(cf){var yf=this.body.functions.getPointer(cf.center),Sf=this.selectionHandler._pointerToPositionObject(yf),xf=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode!==void 0){this.selectionHandler.unselectAll();for(var bf=this.selectionHandler._getAllNodesOverlappingWith(Sf),Af=void 0,Pf=bf.length-1;Pf>=0;Pf--)if(bf[Pf]!==this.selectedControlNode.id){Af=this.body.nodes[bf[Pf]];break}if(Af!==void 0&&this.selectedControlNode!==void 0)if(Af.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var Df=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===Df.id?this._performEditEdge(Af.id,xf.to.id):this._performEditEdge(xf.from.id,Af.id)}else xf.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(cf){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(cf.center),this.lastTouch.translation=wo.extend({},this.body.view.translation);var yf=this.lastTouch,Sf=this.selectionHandler.getNodeAt(yf);if(Sf!==void 0)if(Sf.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var xf=this._getNewTargetNode(Sf.x,Sf.y);this.body.nodes[xf.id]=xf,this.body.nodeIndices.push(xf.id);var bf=this.body.functions.createEdge({id:"connectionEdge"+wo.randomUUID(),from:Sf.id,to:xf.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[bf.id]=bf,this.body.edgeIndices.push(bf.id),this.temporaryIds.nodes.push(xf.id),this.temporaryIds.edges.push(bf.id)}this.touchTime=new Date().valueOf()}}},{key:"_dragControlNode",value:function(cf){var yf=this.body.functions.getPointer(cf.center),Sf=this.selectionHandler._pointerToPositionObject(yf),xf=void 0;this.temporaryIds.edges[0]!==void 0&&(xf=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var bf=this.selectionHandler._getAllNodesOverlappingWith(Sf),Af=void 0,Pf=bf.length-1;Pf>=0;Pf--)if(this.temporaryIds.nodes.indexOf(bf[Pf])===-1){Af=this.body.nodes[bf[Pf]];break}if(cf.controlEdge={from:xf,to:Af?Af.id:void 0},this.selectionHandler._generateClickEvent("controlNodeDragging",cf,yf),this.temporaryIds.nodes[0]!==void 0){var Df=this.body.nodes[this.temporaryIds.nodes[0]];Df.x=this.canvas._XconvertDOMtoCanvas(yf.x),Df.y=this.canvas._YconvertDOMtoCanvas(yf.y),this.body.emitter.emit("_redraw")}else{var zf=yf.x-this.lastTouch.x,jf=yf.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+zf,y:this.lastTouch.translation.y+jf}}}},{key:"_finishConnect",value:function(cf){var yf=this.body.functions.getPointer(cf.center),Sf=this.selectionHandler._pointerToPositionObject(yf),xf=void 0;this.temporaryIds.edges[0]!==void 0&&(xf=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var bf=this.selectionHandler._getAllNodesOverlappingWith(Sf),Af=void 0,Pf=bf.length-1;Pf>=0;Pf--)if(this.temporaryIds.nodes.indexOf(bf[Pf])===-1){Af=this.body.nodes[bf[Pf]];break}this._cleanupTemporaryNodesAndEdges(),Af!==void 0&&(Af.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[xf]!==void 0&&this.body.nodes[Af.id]!==void 0&&this._performAddEdge(xf,Af.id)),cf.controlEdge={from:xf,to:Af?Af.id:void 0},this.selectionHandler._generateClickEvent("controlNodeDragEnd",cf,yf),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(cf){var yf=this.lastTouch;this.selectionHandler._generateClickEvent("dragStart",cf,yf,void 0,!0)}},{key:"_performAddNode",value:function(cf){var yf=this,Sf={id:wo.randomUUID(),x:cf.pointer.canvas.x,y:cf.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(Sf,function(xf){xf!=null&&yf.inMode==="addNode"&&yf.body.data.nodes.getDataSet().add(xf),yf.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(Sf),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(cf,yf){var Sf=this,xf={from:cf,to:yf};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(xf,function(bf){bf!=null&&Sf.inMode==="addEdge"&&(Sf.body.data.edges.getDataSet().add(bf),Sf.selectionHandler.unselectAll(),Sf.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(xf),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(cf,yf){var Sf=this,xf={id:this.edgeBeingEditedId,from:cf,to:yf,label:this.body.data.edges._data[this.edgeBeingEditedId].label},bf=this.options.editEdge;if((typeof bf>"u"?"undefined":(0,mo.default)(bf))==="object"&&(bf=bf.editWithoutDrag),typeof bf=="function")if(bf.length===2)bf(xf,function(Af){Af==null||Sf.inMode!=="editEdge"?(Sf.body.edges[xf.id].updateEdgeType(),Sf.body.emitter.emit("_redraw"),Sf.showManipulatorToolbar()):(Sf.body.data.edges.getDataSet().update(Af),Sf.selectionHandler.unselectAll(),Sf.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(xf),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),xo}();X.default=po},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(23),at=uf(ot),ut=tt(7),wt=uf(ut),uo=tt(0),mo=uf(uo),yo=tt(1),lf=uf(yo);function uf(ls){return ls&&ls.__esModule?ls:{default:ls}}var df=tt(2),wf=tt(192).default,wo=function(){function ls(_f,po,xo){var gf=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;(0,mo.default)(this,ls),this.parent=_f,this.changedOptions=[],this.container=po,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},df.extend(this.options,this.defaultOptions),this.configureOptions=xo,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new wf(gf),this.wrapper=void 0}return(0,lf.default)(ls,[{key:"setOptions",value:function(po){if(po!==void 0){this.popupHistory={},this._removePopup();var xo=!0;if(typeof po=="string")this.options.filter=po;else if(po instanceof Array)this.options.filter=po.join();else if((typeof po>"u"?"undefined":(0,wt.default)(po))==="object"){if(po==null)throw new TypeError("options cannot be null");po.container!==void 0&&(this.options.container=po.container),po.filter!==void 0&&(this.options.filter=po.filter),po.showButton!==void 0&&(this.options.showButton=po.showButton),po.enabled!==void 0&&(xo=po.enabled)}else typeof po=="boolean"?(this.options.filter=!0,xo=po):typeof po=="function"&&(this.options.filter=po,xo=!0);this.options.filter===!1&&(xo=!1),this.options.enabled=xo}this._clean()}},{key:"setModuleOptions",value:function(po){this.moduleOptions=po,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var po=this.options.filter,xo=0,gf=!1;for(var cf in this.configureOptions)this.configureOptions.hasOwnProperty(cf)&&(this.allowCreation=!1,gf=!1,typeof po=="function"?(gf=po(cf,[]),gf=gf||this._handleObject(this.configureOptions[cf],[cf],!0)):(po===!0||po.indexOf(cf)!==-1)&&(gf=!0),gf!==!1&&(this.allowCreation=!0,xo>0&&this._makeItem([]),this._makeHeader(cf),this._handleObject(this.configureOptions[cf],[cf])),xo++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var po=0;po<this.domElements.length;po++)this.wrapper.appendChild(this.domElements[po]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var po=0;po<this.domElements.length;po++)this.wrapper.removeChild(this.domElements[po]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(po){for(var xo=this.moduleOptions,gf=0;gf<po.length;gf++)if(xo[po[gf]]!==void 0)xo=xo[po[gf]];else{xo=void 0;break}return xo}},{key:"_makeItem",value:function(po){if(this.allowCreation===!0){var xo=document.createElement("div");xo.className="vis-configuration vis-config-item vis-config-s"+po.length;for(var gf=arguments.length,cf=Array(gf>1?gf-1:0),yf=1;yf<gf;yf++)cf[yf-1]=arguments[yf];return cf.forEach(function(Sf){xo.appendChild(Sf)}),this.domElements.push(xo),this.domElements.length}return 0}},{key:"_makeHeader",value:function(po){var xo=document.createElement("div");xo.className="vis-configuration vis-config-header",xo.innerHTML=po,this._makeItem([],xo)}},{key:"_makeLabel",value:function(po,xo){var gf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,cf=document.createElement("div");return cf.className="vis-configuration vis-config-label vis-config-s"+xo.length,gf===!0?cf.innerHTML="<i><b>"+po+":</b></i>":cf.innerHTML=po+":",cf}},{key:"_makeDropdown",value:function(po,xo,gf){var cf=document.createElement("select");cf.className="vis-configuration vis-config-select";var yf=0;xo!==void 0&&po.indexOf(xo)!==-1&&(yf=po.indexOf(xo));for(var Sf=0;Sf<po.length;Sf++){var xf=document.createElement("option");xf.value=po[Sf],Sf===yf&&(xf.selected="selected"),xf.innerHTML=po[Sf],cf.appendChild(xf)}var bf=this;cf.onchange=function(){bf._update(this.value,gf)};var Af=this._makeLabel(gf[gf.length-1],gf);this._makeItem(gf,Af,cf)}},{key:"_makeRange",value:function(po,xo,gf){var cf=po[0],yf=po[1],Sf=po[2],xf=po[3],bf=document.createElement("input");bf.className="vis-configuration vis-config-range";try{bf.type="range",bf.min=yf,bf.max=Sf}catch{}bf.step=xf;var Af="",Pf=0;if(xo!==void 0){var Df=1.2;xo<0&&xo*Df<yf?(bf.min=Math.ceil(xo*Df),Pf=bf.min,Af="range increased"):xo/Df<yf&&(bf.min=Math.ceil(xo/Df),Pf=bf.min,Af="range increased"),xo*Df>Sf&&Sf!==1&&(bf.max=Math.ceil(xo*Df),Pf=bf.max,Af="range increased"),bf.value=xo}else bf.value=cf;var zf=document.createElement("input");zf.className="vis-configuration vis-config-rangeinput",zf.value=bf.value;var jf=this;bf.onchange=function(){zf.value=this.value,jf._update(Number(this.value),gf)},bf.oninput=function(){zf.value=this.value};var $f=this._makeLabel(gf[gf.length-1],gf),Ff=this._makeItem(gf,$f,bf,zf);Af!==""&&this.popupHistory[Ff]!==Pf&&(this.popupHistory[Ff]=Pf,this._setupPopup(Af,Ff))}},{key:"_makeButton",value:function(){var po=this;if(this.options.showButton===!0){var xo=document.createElement("div");xo.className="vis-configuration vis-config-button",xo.innerHTML="generate options",xo.onclick=function(){po._printOptions()},xo.onmouseover=function(){xo.className="vis-configuration vis-config-button hover"},xo.onmouseout=function(){xo.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(xo)}}},{key:"_setupPopup",value:function(po,xo){var gf=this;if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){var cf=document.createElement("div");cf.id="vis-configuration-popup",cf.className="vis-configuration-popup",cf.innerHTML=po,cf.onclick=function(){gf._removePopup()},this.popupCounter+=1,this.popupDiv={html:cf,index:xo}}}},{key:"_removePopup",value:function(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var po=this;if(this.popupDiv.html!==void 0){var xo=this.domElements[this.popupDiv.index],gf=xo.getBoundingClientRect();this.popupDiv.html.style.left=gf.left+"px",this.popupDiv.html.style.top=gf.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(function(){po.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(function(){po._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(po,xo,gf){var cf=document.createElement("input");cf.type="checkbox",cf.className="vis-configuration vis-config-checkbox",cf.checked=po,xo!==void 0&&(cf.checked=xo,xo!==po&&((typeof po>"u"?"undefined":(0,wt.default)(po))==="object"?xo!==po.enabled&&this.changedOptions.push({path:gf,value:xo}):this.changedOptions.push({path:gf,value:xo})));var yf=this;cf.onchange=function(){yf._update(this.checked,gf)};var Sf=this._makeLabel(gf[gf.length-1],gf);this._makeItem(gf,Sf,cf)}},{key:"_makeTextInput",value:function(po,xo,gf){var cf=document.createElement("input");cf.type="text",cf.className="vis-configuration vis-config-text",cf.value=xo,xo!==po&&this.changedOptions.push({path:gf,value:xo});var yf=this;cf.onchange=function(){yf._update(this.value,gf)};var Sf=this._makeLabel(gf[gf.length-1],gf);this._makeItem(gf,Sf,cf)}},{key:"_makeColorField",value:function(po,xo,gf){var cf=this,yf=po[1],Sf=document.createElement("div");xo=xo===void 0?yf:xo,xo!=="none"?(Sf.className="vis-configuration vis-config-colorBlock",Sf.style.backgroundColor=xo):Sf.className="vis-configuration vis-config-colorBlock none",xo=xo===void 0?yf:xo,Sf.onclick=function(){cf._showColorPicker(xo,Sf,gf)};var xf=this._makeLabel(gf[gf.length-1],gf);this._makeItem(gf,xf,Sf)}},{key:"_showColorPicker",value:function(po,xo,gf){var cf=this;xo.onclick=function(){},this.colorPicker.insertTo(xo),this.colorPicker.show(),this.colorPicker.setColor(po),this.colorPicker.setUpdateCallback(function(yf){var Sf="rgba("+yf.r+","+yf.g+","+yf.b+","+yf.a+")";xo.style.backgroundColor=Sf,cf._update(Sf,gf)}),this.colorPicker.setCloseCallback(function(){xo.onclick=function(){cf._showColorPicker(po,xo,gf)}})}},{key:"_handleObject",value:function(po){var xo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],gf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,cf=!1,yf=this.options.filter,Sf=!1;for(var xf in po)if(po.hasOwnProperty(xf)){cf=!0;var bf=po[xf],Af=df.copyAndExtendArray(xo,xf);if(typeof yf=="function"&&(cf=yf(xf,xo),cf===!1&&!(bf instanceof Array)&&typeof bf!="string"&&typeof bf!="boolean"&&bf instanceof Object&&(this.allowCreation=!1,cf=this._handleObject(bf,Af,!0),this.allowCreation=gf===!1)),cf!==!1){Sf=!0;var Pf=this._getValue(Af);if(bf instanceof Array)this._handleArray(bf,Pf,Af);else if(typeof bf=="string")this._makeTextInput(bf,Pf,Af);else if(typeof bf=="boolean")this._makeCheckbox(bf,Pf,Af);else if(bf instanceof Object){var Df=!0;if(xo.indexOf("physics")!==-1&&this.moduleOptions.physics.solver!==xf&&(Df=!1),Df===!0)if(bf.enabled!==void 0){var zf=df.copyAndExtendArray(Af,"enabled"),jf=this._getValue(zf);if(jf===!0){var $f=this._makeLabel(xf,Af,!0);this._makeItem(Af,$f),Sf=this._handleObject(bf,Af)||Sf}else this._makeCheckbox(bf,jf,Af)}else{var Ff=this._makeLabel(xf,Af,!0);this._makeItem(Af,Ff),Sf=this._handleObject(bf,Af)||Sf}}else console.error("dont know how to handle",bf,xf,Af)}}return Sf}},{key:"_handleArray",value:function(po,xo,gf){typeof po[0]=="string"&&po[0]==="color"?(this._makeColorField(po,xo,gf),po[1]!==xo&&this.changedOptions.push({path:gf,value:xo})):typeof po[0]=="string"?(this._makeDropdown(po,xo,gf),po[0]!==xo&&this.changedOptions.push({path:gf,value:xo})):typeof po[0]=="number"&&(this._makeRange(po,xo,gf),po[0]!==xo&&this.changedOptions.push({path:gf,value:Number(xo)}))}},{key:"_update",value:function(po,xo){var gf=this._constructOptions(po,xo);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",gf),this.initialized=!0,this.parent.setOptions(gf)}},{key:"_constructOptions",value:function(po,xo){var gf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},cf=gf;po=po==="true"?!0:po,po=po==="false"?!1:po;for(var yf=0;yf<xo.length;yf++)xo[yf]!=="global"&&(cf[xo[yf]]===void 0&&(cf[xo[yf]]={}),yf!==xo.length-1?cf=cf[xo[yf]]:cf[xo[yf]]=po);return gf}},{key:"_printOptions",value:function(){var po=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+(0,at.default)(po,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var po={},xo=0;xo<this.changedOptions.length;xo++)this._constructOptions(this.changedOptions[xo].value,this.changedOptions[xo].path,po);return po}}]),ls}();X.default=wo},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(23),at=yo(ot),ut=tt(0),wt=yo(ut),uo=tt(1),mo=yo(uo);function yo(ls){return ls&&ls.__esModule?ls:{default:ls}}var lf=tt(24),uf=tt(36),df=tt(2),wf={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},wo=function(){function ls(){var _f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;(0,wt.default)(this,ls),this.pixelRatio=_f,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return(0,mo.default)(ls,[{key:"insertTo",value:function(po){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=po,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(po){if(typeof po=="function")this.updateCallback=po;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}},{key:"setCloseCallback",value:function(po){if(typeof po=="function")this.closeCallback=po;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}},{key:"_isColorString",value:function(po){if(typeof po=="string")return wf[po]}},{key:"setColor",value:function(po){var xo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(po!=="none"){var gf=void 0,cf=this._isColorString(po);if(cf!==void 0&&(po=cf),df.isString(po)===!0){if(df.isValidRGB(po)===!0){var yf=po.substr(4).substr(0,po.length-5).split(",");gf={r:yf[0],g:yf[1],b:yf[2],a:1}}else if(df.isValidRGBA(po)===!0){var Sf=po.substr(5).substr(0,po.length-6).split(",");gf={r:Sf[0],g:Sf[1],b:Sf[2],a:Sf[3]}}else if(df.isValidHex(po)===!0){var xf=df.hexToRGB(po);gf={r:xf.r,g:xf.g,b:xf.b,a:1}}}else if(po instanceof Object&&po.r!==void 0&&po.g!==void 0&&po.b!==void 0){var bf=po.a!==void 0?po.a:"1.0";gf={r:po.r,g:po.g,b:po.b,a:bf}}if(gf===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+(0,at.default)(po));this._setColor(gf,xo)}}},{key:"show",value:function(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var po=this,xo=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;xo===!0&&(this.previousColor=df.extend({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(function(){po.closeCallback!==void 0&&(po.closeCallback(),po.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(po){var xo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;xo===!0&&(this.initialColor=df.extend({},po)),this.color=po;var gf=df.RGBToHSV(po.r,po.g,po.b),cf=2*Math.PI,yf=this.r*gf.s,Sf=this.centerCoordinates.x+yf*Math.sin(cf*gf.h),xf=this.centerCoordinates.y+yf*Math.cos(cf*gf.h);this.colorPickerSelector.style.left=Sf-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=xf-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(po)}},{key:"_setOpacity",value:function(po){this.color.a=po/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(po){var xo=df.RGBToHSV(this.color.r,this.color.g,this.color.b);xo.v=po/100;var gf=df.HSVToRGB(xo.h,xo.s,xo.v);gf.a=this.color.a,this.color=gf,this._updatePicker()}},{key:"_updatePicker",value:function(){var po=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color,xo=df.RGBToHSV(po.r,po.g,po.b),gf=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(gf.webkitBackingStorePixelRatio||gf.mozBackingStorePixelRatio||gf.msBackingStorePixelRatio||gf.oBackingStorePixelRatio||gf.backingStorePixelRatio||1)),gf.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var cf=this.colorPickerCanvas.clientWidth,yf=this.colorPickerCanvas.clientHeight;gf.clearRect(0,0,cf,yf),gf.putImageData(this.hueCircle,0,0),gf.fillStyle="rgba(0,0,0,"+(1-xo.v)+")",gf.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),gf.fill(),this.brightnessRange.value=100*xo.v,this.opacityRange.value=100*po.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var xo=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(xo.webkitBackingStorePixelRatio||xo.mozBackingStorePixelRatio||xo.msBackingStorePixelRatio||xo.oBackingStorePixelRatio||xo.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var po=document.createElement("DIV");po.style.color="red",po.style.fontWeight="bold",po.style.padding="10px",po.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(po)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var gf=this;this.opacityRange.onchange=function(){gf._setOpacity(this.value)},this.opacityRange.oninput=function(){gf._setOpacity(this.value)},this.brightnessRange.onchange=function(){gf._setBrightness(this.value)},this.brightnessRange.oninput=function(){gf._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var po=this;this.drag={},this.pinch={},this.hammer=new lf(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),uf.onTouch(this.hammer,function(xo){po._moveSelector(xo)}),this.hammer.on("tap",function(xo){po._moveSelector(xo)}),this.hammer.on("panstart",function(xo){po._moveSelector(xo)}),this.hammer.on("panmove",function(xo){po._moveSelector(xo)}),this.hammer.on("panend",function(xo){po._moveSelector(xo)})}},{key:"_generateHueCircle",value:function(){if(this.generated===!1){var po=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(po.webkitBackingStorePixelRatio||po.mozBackingStorePixelRatio||po.msBackingStorePixelRatio||po.oBackingStorePixelRatio||po.backingStorePixelRatio||1)),po.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var xo=this.colorPickerCanvas.clientWidth,gf=this.colorPickerCanvas.clientHeight;po.clearRect(0,0,xo,gf);var cf=void 0,yf=void 0,Sf=void 0,xf=void 0;this.centerCoordinates={x:xo*.5,y:gf*.5},this.r=.49*xo;var bf=2*Math.PI/360,Af=1/360,Pf=1/this.r,Df=void 0;for(Sf=0;Sf<360;Sf++)for(xf=0;xf<this.r;xf++)cf=this.centerCoordinates.x+xf*Math.sin(bf*Sf),yf=this.centerCoordinates.y+xf*Math.cos(bf*Sf),Df=df.HSVToRGB(Sf*Af,xf*Pf,1),po.fillStyle="rgb("+Df.r+","+Df.g+","+Df.b+")",po.fillRect(cf-.5,yf-.5,2,2);po.strokeStyle="rgba(0,0,0,1)",po.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),po.stroke(),this.hueCircle=po.getImageData(0,0,xo,gf)}this.generated=!0}},{key:"_moveSelector",value:function(po){var xo=this.colorPickerDiv.getBoundingClientRect(),gf=po.center.x-xo.left,cf=po.center.y-xo.top,yf=.5*this.colorPickerDiv.clientHeight,Sf=.5*this.colorPickerDiv.clientWidth,xf=gf-Sf,bf=cf-yf,Af=Math.atan2(xf,bf),Pf=.98*Math.min(Math.sqrt(xf*xf+bf*bf),Sf),Df=Math.cos(Af)*Pf+yf,zf=Math.sin(Af)*Pf+Sf;this.colorPickerSelector.style.top=Df-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=zf-.5*this.colorPickerSelector.clientWidth+"px";var jf=Af/(2*Math.PI);jf=jf<0?jf+1:jf;var $f=Pf/this.r,Ff=df.RGBToHSV(this.color.r,this.color.g,this.color.b);Ff.h=jf,Ff.s=$f;var Xf=df.HSVToRGB(Ff.h,Ff.s,Ff.v);Xf.a=this.color.a,this.color=Xf,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),ls}();X.default=wo},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(15),at=uf(ot),ut=tt(0),wt=uf(ut),uo=tt(1),mo=uf(uo),yo=tt(194),lf=uf(yo);function uf(wf){return wf&&wf.__esModule?wf:{default:wf}}var df=function(){function wf(wo,ls,_f){(0,wt.default)(this,wf),this.body=wo,this.springLength=ls,this.springConstant=_f,this.distanceSolver=new lf.default}return(0,mo.default)(wf,[{key:"setOptions",value:function(ls){ls&&(ls.springLength&&(this.springLength=ls.springLength),ls.springConstant&&(this.springConstant=ls.springConstant))}},{key:"solve",value:function(ls,_f){var po=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,xo=this.distanceSolver.getDistances(this.body,ls,_f);this._createL_matrix(xo),this._createK_matrix(xo),this._createE_matrix();for(var gf=.01,cf=1,yf=0,Sf=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),xf=5,bf=1e9,Af=0,Pf=0,Df=0,zf=0,jf=0;bf>gf&&yf<Sf;){yf+=1;var $f=this._getHighestEnergyNode(po),Ff=(0,at.default)($f,4);for(Af=Ff[0],bf=Ff[1],Pf=Ff[2],Df=Ff[3],zf=bf,jf=0;zf>cf&&jf<xf;){jf+=1,this._moveNode(Af,Pf,Df);var Xf=this._getEnergy(Af),mp=(0,at.default)(Xf,3);zf=mp[0],Pf=mp[1],Df=mp[2]}}}},{key:"_getHighestEnergyNode",value:function(ls){for(var _f=this.body.nodeIndices,po=this.body.nodes,xo=0,gf=_f[0],cf=0,yf=0,Sf=0;Sf<_f.length;Sf++){var xf=_f[Sf];if(po[xf].predefinedPosition===!1||po[xf].isCluster===!0&&ls===!0||po[xf].options.fixed.x===!0||po[xf].options.fixed.y===!0){var bf=this._getEnergy(xf),Af=(0,at.default)(bf,3),Pf=Af[0],Df=Af[1],zf=Af[2];xo<Pf&&(xo=Pf,gf=xf,cf=Df,yf=zf)}}return[gf,xo,cf,yf]}},{key:"_getEnergy",value:function(ls){var _f=(0,at.default)(this.E_sums[ls],2),po=_f[0],xo=_f[1],gf=Math.sqrt(Math.pow(po,2)+Math.pow(xo,2));return[gf,po,xo]}},{key:"_moveNode",value:function(ls,_f,po){for(var xo=this.body.nodeIndices,gf=this.body.nodes,cf=0,yf=0,Sf=0,xf=gf[ls].x,bf=gf[ls].y,Af=this.K_matrix[ls],Pf=this.L_matrix[ls],Df=0;Df<xo.length;Df++){var zf=xo[Df];if(zf!==ls){var jf=gf[zf].x,$f=gf[zf].y,Ff=Af[zf],Xf=Pf[zf],mp=1/Math.pow(Math.pow(xf-jf,2)+Math.pow(bf-$f,2),1.5);cf+=Ff*(1-Xf*Math.pow(bf-$f,2)*mp),yf+=Ff*(Xf*(xf-jf)*(bf-$f)*mp),Sf+=Ff*(1-Xf*Math.pow(xf-jf,2)*mp)}}var fp=cf,Mp=yf,Np=_f,Pp=Sf,yp=po,Ep=(Np/fp+yp/Mp)/(Mp/fp-Pp/Mp),Cp=-(Mp*Ep+Np)/fp;gf[ls].x+=Cp,gf[ls].y+=Ep,this._updateE_matrix(ls)}},{key:"_createL_matrix",value:function(ls){var _f=this.body.nodeIndices,po=this.springLength;this.L_matrix=[];for(var xo=0;xo<_f.length;xo++){this.L_matrix[_f[xo]]={};for(var gf=0;gf<_f.length;gf++)this.L_matrix[_f[xo]][_f[gf]]=po*ls[_f[xo]][_f[gf]]}}},{key:"_createK_matrix",value:function(ls){var _f=this.body.nodeIndices,po=this.springConstant;this.K_matrix=[];for(var xo=0;xo<_f.length;xo++){this.K_matrix[_f[xo]]={};for(var gf=0;gf<_f.length;gf++)this.K_matrix[_f[xo]][_f[gf]]=po*Math.pow(ls[_f[xo]][_f[gf]],-2)}}},{key:"_createE_matrix",value:function(){var ls=this.body.nodeIndices,_f=this.body.nodes;this.E_matrix={},this.E_sums={};for(var po=0;po<ls.length;po++)this.E_matrix[ls[po]]=[];for(var xo=0;xo<ls.length;xo++){for(var gf=ls[xo],cf=_f[gf].x,yf=_f[gf].y,Sf=0,xf=0,bf=xo;bf<ls.length;bf++){var Af=ls[bf];if(Af!==gf){var Pf=_f[Af].x,Df=_f[Af].y,zf=1/Math.sqrt(Math.pow(cf-Pf,2)+Math.pow(yf-Df,2));this.E_matrix[gf][bf]=[this.K_matrix[gf][Af]*(cf-Pf-this.L_matrix[gf][Af]*(cf-Pf)*zf),this.K_matrix[gf][Af]*(yf-Df-this.L_matrix[gf][Af]*(yf-Df)*zf)],this.E_matrix[Af][xo]=this.E_matrix[gf][bf],Sf+=this.E_matrix[gf][bf][0],xf+=this.E_matrix[gf][bf][1]}}this.E_sums[gf]=[Sf,xf]}}},{key:"_updateE_matrix",value:function(ls){for(var _f=this.body.nodeIndices,po=this.body.nodes,xo=this.E_matrix[ls],gf=this.K_matrix[ls],cf=this.L_matrix[ls],yf=po[ls].x,Sf=po[ls].y,xf=0,bf=0,Af=0;Af<_f.length;Af++){var Pf=_f[Af];if(Pf!==ls){var Df=xo[Af],zf=Df[0],jf=Df[1],$f=po[Pf].x,Ff=po[Pf].y,Xf=1/Math.sqrt(Math.pow(yf-$f,2)+Math.pow(Sf-Ff,2)),mp=gf[Pf]*(yf-$f-cf[Pf]*(yf-$f)*Xf),fp=gf[Pf]*(Sf-Ff-cf[Pf]*(Sf-Ff)*Xf);xo[Af]=[mp,fp],xf+=mp,bf+=fp;var Mp=this.E_sums[Pf];Mp[0]+=mp-zf,Mp[1]+=fp-jf}}this.E_sums[ls]=[xf,bf]}}]),wf}();X.default=df},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(0),at=uo(ot),ut=tt(1),wt=uo(ut);function uo(yo){return yo&&yo.__esModule?yo:{default:yo}}var mo=function(){function yo(){(0,at.default)(this,yo)}return(0,wt.default)(yo,[{key:"getDistances",value:function(uf,df,wf){for(var wo={},ls=uf.edges,_f=0;_f<df.length;_f++){var po=df[_f],xo={};wo[po]=xo;for(var gf=0;gf<df.length;gf++)xo[df[gf]]=_f==gf?0:1e9}for(var cf=0;cf<wf.length;cf++){var yf=ls[wf[cf]];yf.connected===!0&&wo[yf.fromId]!==void 0&&wo[yf.toId]!==void 0&&(wo[yf.fromId][yf.toId]=1,wo[yf.toId][yf.fromId]=1)}for(var Sf=df.length,xf=0;xf<Sf;xf++)for(var bf=df[xf],Af=wo[bf],Pf=0;Pf<Sf-1;Pf++)for(var Df=df[Pf],zf=wo[Df],jf=Pf+1;jf<Sf;jf++){var $f=df[jf],Ff=wo[$f],Xf=Math.min(zf[$f],zf[bf]+Af[$f]);zf[$f]=Xf,Ff[Df]=Xf}return wo}}]),yo}();X.default=mo}])})})(vis$1);var visExports=vis$1.exports;const vis=getDefaultExportFromCjs(visExports),_sfc_main=defineComponent({__name:"VisJS.ce",props:{caption:{type:String},edges:{type:String},height:{type:Number},nodes:{type:String},url:{type:String},width:{type:Number}},setup(F){const W=F;watch$1(W,()=>{W.width&&(X.value.style.width=`${W.width}px`),W.height&&(X.value.style.height=`${W.height}px`)});const q=ref(null),X=computed(()=>{var wf,wo;return(wo=(wf=q.value)==null?void 0:wf.getRootNode())==null?void 0:wo.host}),tt=ref(null),ot=ref(null),at=computed(()=>W.caption);function ut(wf){let wo=document.getElementById(wf)||X.value.parentElement.querySelector(`#${wf}`),ls=Array.from((wo==null?void 0:wo.querySelectorAll("th"))||[]).map(_f=>{var po;return(po=_f.textContent)==null?void 0:po.trim()});return Array.from((wo==null?void 0:wo.querySelectorAll("tbody > tr"))||[]).map(_f=>Object.fromEntries(Array.from(_f.children).map((po,xo)=>{var gf;return[ls[xo],(gf=po.textContent)==null?void 0:gf.trim()]}).filter(([po,xo])=>po&&xo))).filter(_f=>Object.keys(_f).length>0)}function wt(wf,wo="	"){const ls=[],_f=wf.split(`
`).filter(po=>po.trim()!=="");if(_f.length>1){const po=_f[0].split(wo).map(cf=>cf.trim());_f.slice(1).forEach(cf=>{let yf={};cf.split(wo).map(Sf=>Sf.trim()).forEach((Sf,xf)=>{let bf=po[xf].split("."),Af=bf[0],Pf=bf.length===2?bf[1]:"id";yf[Af]||(yf[Af]={}),(Sf||Pf==="id")&&(yf[Af][Pf]=Sf)}),ls.push(yf)});let xo=0,gf={};ls.forEach(cf=>{Object.values(cf).forEach(yf=>{yf.id===""&&yf.label&&(gf[yf.label]||(gf[yf.label]=++xo),yf.id=gf[yf.label])})})}return ls}const uo=ref(),mo=ref(),yo=computed(()=>({nodes:uo.value,edges:mo.value}));watch$1(yo,wf=>new vis.Network(tt.value,wf,{}));function lf(){W.width||new ResizeObserver(()=>X.value.style.width=`${X.value.parentNode.clientWidth}px`).observe(X.value.parentNode);let wf=W.width||X.value.parentNode.clientWidth;wf&&(X.value.style.width=`${wf}px`)}function uf(){var wo;let wf=W.height?W.height:W.width?W.width:X.value.parentNode.clientWidth;X.value.style.height=`${wf}px`,tt.value&&(tt.value.style.height=`${wf-(((wo=ot.value)==null?void 0:wo.clientHeight)||0)}px`)}function df(wf){fetch(wf).then(wo=>wo.text()).then(wo=>{let ls=wt(wo),_f={};ls.forEach(po=>{_f[po.source.id]||(_f[po.source.id]={id:po.source.id,label:po.source.label}),_f[po.target.id]||(_f[po.target.id]={id:po.target.id,label:po.target.label})}),uo.value=new vis.DataSet(Object.values(_f)),mo.value=new vis.DataSet(ls.map(po=>({from:po.source.id,to:po.target.id})))})}return watch$1(tt,wf=>{wf&&(lf(),uf(),W.edges&&(mo.value=new vis.DataSet(ut(W.edges))),W.nodes&&(uo.value=new vis.DataSet(ut(W.nodes))),W.url&&df(W.url))}),(wf,wo)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:q,class:"content"},[createBaseVNode("div",{ref_key:"diagramEl",ref:tt,class:"diagram"},null,512),at.value?(openBlock(),createElementBlock("div",{key:0,ref_key:"captionEl",ref:ot,class:"caption"},toDisplayString(at.value),513)):createCommentVNode("",!0)],512))}}),_style_0=`*{box-sizing:border-box}.content{display:flex;flex-direction:column;justify-content:center;align-content:center;box-shadow:0 2px 4px #00000080!important;background-color:#fff}.diagram{display:block}.caption{text-align:start;padding:6px 12px;font-size:1.2em;border:1px solid #ddd}
`,VisJS=_export_sfc(_sfc_main,[["styles",[_style_0]]]);__vitePreload(()=>import("./preline-7d6f83a6.js").then(F=>F.p),[]);function defineCustomElements(){customElements.define("mdp-article",defineCustomElement(Article)),customElements.define("mdp-audio",defineCustomElement(Audio)),customElements.define("mdp-breadcrumbs",defineCustomElement(Breadcrumbs)),customElements.define("mdp-compare",defineCustomElement(Compare)),customElements.define("mdp-content-selector",defineCustomElement(ContentSelector)),customElements.define("mdp-entities",defineCustomElement(Entities)),customElements.define("mdp-entity-card",defineCustomElement(EntityCard)),customElements.define("mdp-entity-infobox",defineCustomElement(EntityInfobox)),customElements.define("mdp-footer",defineCustomElement(Footer)),customElements.define("mdp-gallery",defineCustomElement(Gallery)),customElements.define("mdp-header",defineCustomElement(Header)),customElements.define("mdp-iframe",defineCustomElement(IFrame)),customElements.define("mdp-image",defineCustomElement(Image$1)),customElements.define("mdp-caption",defineCustomElement(Caption)),customElements.define("mdp-info-card",defineCustomElement(InfoCard)),customElements.define("mdp-j1-viewers",defineCustomElement(Juncture1Viewers)),customElements.define("mdp-knightlab-timeline",defineCustomElement(KnightlabTimeline)),customElements.define("mdp-manifest",defineCustomElement(Manifest)),customElements.define("mdp-manifest-popup",defineCustomElement(ManifestPopup)),customElements.define("mdp-map",defineCustomElement(Map$3)),customElements.define("mdp-menu",defineCustomElement(Menu)),customElements.define("mdp-mermaid",defineCustomElement(Mermaid)),customElements.define("mdp-meta",defineCustomElement(_sfc_main$5)),customElements.define("mdp-modal",defineCustomElement(Modal)),customElements.define("mdp-plant-specimen",defineCustomElement(_sfc_main$3)),customElements.define("mdp-site-search",defineCustomElement(SiteSearch)),customElements.define("mdp-video",defineCustomElement(Video)),customElements.define("mdp-visjs",defineCustomElement(VisJS))}console.log("mdpress: version=0.3.4");defineCustomElements();export{constant$1 as $,isFunction as A,utils as B,rgba$1 as C,setDiagramTitle as D,getDiagramTitle as E,clear as F,curveBasis as G,parseGenericTypes as H,setupGraphViewbox as I,random as J,define$1 as K,extend$1 as L,Color$2 as M,rgbConvert as N,nogamma as O,hue as P,commonjsGlobal as Q,Rgb as R,Selection$1 as S,dayjs as T,selectSvgElement as U,tau as V,defaultConfig$2 as W,cleanAndMerge as X,parseFontSize as Y,getThemeVariables$2 as Z,getConfig$1 as _,getAccTitle as a,Stack as a$,interpolateNumber as a0,color as a1,interpolateRgb as a2,interpolateString as a3,hasKatex as a4,calculateMathMLDimensions as a5,ZERO_WIDTH_SPACE as a6,generateId as a7,isObject$1 as a8,setToString$1 as a9,epsilon as aA,sqrt as aB,min as aC,abs$1 as aD,atan2 as aE,asin as aF,acos as aG,max as aH,_ as aI,Color$1 as aJ,isObjectLike as aK,baseGetTag as aL,Symbol$2 as aM,arrayLikeKeys as aN,baseKeys as aO,memoize as aP,isArguments$1 as aQ,copyObject as aR,getPrototype$1 as aS,cloneArrayBuffer as aT,cloneTypedArray as aU,getTag$1 as aV,nodeUtil$1 as aW,copyArray as aX,isBuffer$1 as aY,cloneBuffer as aZ,initCloneObject as a_,overRest as aa,root$1 as ab,baseRest as ac,isIterateeCall as ad,keysIn as ae,eq as af,isArrayLike as ag,isArray$1 as ah,baseFor$1 as ai,baseAssignValue as aj,identity as ak,isIndex as al,assignValue as am,baseUnary as an,constant as ao,merge$2 as ap,lineBreakRegex as aq,defaultConfig as ar,commonDb as as,isDark$1 as at,lighten$1 as au,darken$1 as av,pi as aw,cos as ax,sin as ay,halfPi as az,getAccDescription as b,MapCache as b0,Uint8Array$2 as b1,isTypedArray$1 as b2,isLength as b3,Set$2 as b4,isArrayLikeObject as b5,isEmpty as b6,decodeEntities as b7,dedent as b8,setAccDescription as c,getConfig as d,sanitizeText$2 as e,assignWithDepth$1 as f,getDefaultExportFromCjs as g,calculateTextWidth as h,select as i,configureSvgSize as j,common$1 as k,log$1 as l,calculateTextHeight as m,dist$1 as n,curveLinear as o,getStylesFromArray as p,evaluate as q,renderKatex as r,setAccTitle as s,interpolateToCurve as t,setupGraphViewbox$1 as u,setConfig as v,wrapLabel as w,root$2 as x,array as y,isPlainObject as z};
