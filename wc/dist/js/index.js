var mL=Object.defineProperty;var vL=(i,r,t)=>r in i?mL(i,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[r]=t;var li=(i,r,t)=>(vL(i,typeof r!="symbol"?r+"":r,t),t),yL=(i,r,t)=>{if(!r.has(i))throw TypeError("Cannot "+t)};var hw=(i,r,t)=>{if(r.has(i))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(i):r.set(i,t)};var F0=(i,r,t)=>(yL(i,r,"access private method"),t);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function t(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=t(l);fetch(l.href,u)}})();const bL="modulepreload",wL=function(i){return"/mdpress/mdpress/dist/"+i},U2={},xL=function(r,t,o){if(!t||t.length===0)return r();const l=document.getElementsByTagName("link");return Promise.all(t.map(u=>{if(u=wL(u),u in U2)return;U2[u]=!0;const d=u.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(!!o)for(let x=l.length-1;x>=0;x--){const k=l[x];if(k.href===u&&(!d||k.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${p}`))return;const v=document.createElement("link");if(v.rel=d?"stylesheet":bL,d||(v.as="script",v.crossOrigin=""),v.href=u,document.head.appendChild(v),d)return new Promise((x,k)=>{v.addEventListener("load",x),v.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${u}`)))})})).then(()=>r()).catch(u=>{const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u})};function X1(i,r){const t=Object.create(null),o=i.split(",");for(let l=0;l<o.length;l++)t[o[l]]=!0;return r?l=>!!t[l.toLowerCase()]:l=>!!t[l]}const Fi={},op=[],Aa=()=>{},_L=()=>!1,kL=/^on[^a-z]/,py=i=>kL.test(i),K1=i=>i.startsWith("onUpdate:"),Ln=Object.assign,J1=(i,r)=>{const t=i.indexOf(r);t>-1&&i.splice(t,1)},EL=Object.prototype.hasOwnProperty,si=(i,r)=>EL.call(i,r),or=Array.isArray,sp=i=>fy(i)==="[object Map]",oS=i=>fy(i)==="[object Set]",Zr=i=>typeof i=="function",An=i=>typeof i=="string",Q1=i=>typeof i=="symbol",Yi=i=>i!==null&&typeof i=="object",sS=i=>Yi(i)&&Zr(i.then)&&Zr(i.catch),aS=Object.prototype.toString,fy=i=>aS.call(i),TL=i=>fy(i).slice(8,-1),lS=i=>fy(i)==="[object Object]",$1=i=>An(i)&&i!=="NaN"&&i[0]!=="-"&&""+parseInt(i,10)===i,pv=X1(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),gy=i=>{const r=Object.create(null);return t=>r[t]||(r[t]=i(t))},SL=/-(\w)/g,oc=gy(i=>i.replace(SL,(r,t)=>t?t.toUpperCase():"")),CL=/\B([A-Z])/g,Ca=gy(i=>i.replace(CL,"-$1").toLowerCase()),cS=gy(i=>i.charAt(0).toUpperCase()+i.slice(1)),dw=gy(i=>i?`on${cS(i)}`:""),Sg=(i,r)=>!Object.is(i,r),pw=(i,r)=>{for(let t=0;t<i.length;t++)i[t](r)},Cv=(i,r,t)=>{Object.defineProperty(i,r,{configurable:!0,enumerable:!1,value:t})},PL=i=>{const r=parseFloat(i);return isNaN(r)?i:r},G2=i=>{const r=An(i)?Number(i):NaN;return isNaN(r)?i:r};let q2;const Jw=()=>q2||(q2=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function cu(i){if(or(i)){const r={};for(let t=0;t<i.length;t++){const o=i[t],l=An(o)?AL(o):cu(o);if(l)for(const u in l)r[u]=l[u]}return r}else{if(An(i))return i;if(Yi(i))return i}}const ML=/;(?![^(]*\))/g,IL=/:([^]+)/,LL=/\/\*[^]*?\*\//g;function AL(i){const r={};return i.replace(LL,"").split(ML).forEach(t=>{if(t){const o=t.split(IL);o.length>1&&(r[o[0].trim()]=o[1].trim())}}),r}function rm(i){let r="";if(An(i))r=i;else if(or(i))for(let t=0;t<i.length;t++){const o=rm(i[t]);o&&(r+=o+" ")}else if(Yi(i))for(const t in i)i[t]&&(r+=t+" ");return r.trim()}const RL="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",OL=X1(RL);function uS(i){return!!i||i===""}const hp=i=>An(i)?i:i==null?"":or(i)||Yi(i)&&(i.toString===aS||!Zr(i.toString))?JSON.stringify(i,hS,2):String(i),hS=(i,r)=>r&&r.__v_isRef?hS(i,r.value):sp(r)?{[`Map(${r.size})`]:[...r.entries()].reduce((t,[o,l])=>(t[`${o} =>`]=l,t),{})}:oS(r)?{[`Set(${r.size})`]:[...r.values()]}:Yi(r)&&!or(r)&&!lS(r)?String(r):r;let Sa;class zL{constructor(r=!1){this.detached=r,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Sa,!r&&Sa&&(this.index=(Sa.scopes||(Sa.scopes=[])).push(this)-1)}get active(){return this._active}run(r){if(this._active){const t=Sa;try{return Sa=this,r()}finally{Sa=t}}}on(){Sa=this}off(){Sa=this.parent}stop(r){if(this._active){let t,o;for(t=0,o=this.effects.length;t<o;t++)this.effects[t].stop();for(t=0,o=this.cleanups.length;t<o;t++)this.cleanups[t]();if(this.scopes)for(t=0,o=this.scopes.length;t<o;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!r){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.parent=void 0,this._active=!1}}}function NL(i,r=Sa){r&&r.active&&r.effects.push(i)}function DL(){return Sa}const tx=i=>{const r=new Set(i);return r.w=0,r.n=0,r},dS=i=>(i.w&uu)>0,pS=i=>(i.n&uu)>0,FL=({deps:i})=>{if(i.length)for(let r=0;r<i.length;r++)i[r].w|=uu},BL=i=>{const{deps:r}=i;if(r.length){let t=0;for(let o=0;o<r.length;o++){const l=r[o];dS(l)&&!pS(l)?l.delete(i):r[t++]=l,l.w&=~uu,l.n&=~uu}r.length=t}},Qw=new WeakMap;let ag=0,uu=1;const $w=30;let Pa;const vh=Symbol(""),t1=Symbol("");class ex{constructor(r,t=null,o){this.fn=r,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,NL(this,o)}run(){if(!this.active)return this.fn();let r=Pa,t=ou;for(;r;){if(r===this)return;r=r.parent}try{return this.parent=Pa,Pa=this,ou=!0,uu=1<<++ag,ag<=$w?FL(this):V2(this),this.fn()}finally{ag<=$w&&BL(this),uu=1<<--ag,Pa=this.parent,ou=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Pa===this?this.deferStop=!0:this.active&&(V2(this),this.onStop&&this.onStop(),this.active=!1)}}function V2(i){const{deps:r}=i;if(r.length){for(let t=0;t<r.length;t++)r[t].delete(i);r.length=0}}let ou=!0;const fS=[];function Pp(){fS.push(ou),ou=!1}function Mp(){const i=fS.pop();ou=i===void 0?!0:i}function es(i,r,t){if(ou&&Pa){let o=Qw.get(i);o||Qw.set(i,o=new Map);let l=o.get(t);l||o.set(t,l=tx()),gS(l)}}function gS(i,r){let t=!1;ag<=$w?pS(i)||(i.n|=uu,t=!dS(i)):t=!i.has(Pa),t&&(i.add(Pa),Pa.deps.push(i))}function cc(i,r,t,o,l,u){const d=Qw.get(i);if(!d)return;let p=[];if(r==="clear")p=[...d.values()];else if(t==="length"&&or(i)){const m=Number(o);d.forEach((v,x)=>{(x==="length"||x>=m)&&p.push(v)})}else switch(t!==void 0&&p.push(d.get(t)),r){case"add":or(i)?$1(t)&&p.push(d.get("length")):(p.push(d.get(vh)),sp(i)&&p.push(d.get(t1)));break;case"delete":or(i)||(p.push(d.get(vh)),sp(i)&&p.push(d.get(t1)));break;case"set":sp(i)&&p.push(d.get(vh));break}if(p.length===1)p[0]&&e1(p[0]);else{const m=[];for(const v of p)v&&m.push(...v);e1(tx(m))}}function e1(i,r){const t=or(i)?i:[...i];for(const o of t)o.computed&&W2(o);for(const o of t)o.computed||W2(o)}function W2(i,r){(i!==Pa||i.allowRecurse)&&(i.scheduler?i.scheduler():i.run())}const jL=X1("__proto__,__v_isRef,__isVue"),mS=new Set(Object.getOwnPropertyNames(Symbol).filter(i=>i!=="arguments"&&i!=="caller").map(i=>Symbol[i]).filter(Q1)),HL=rx(),UL=rx(!1,!0),GL=rx(!0),Z2=qL();function qL(){const i={};return["includes","indexOf","lastIndexOf"].forEach(r=>{i[r]=function(...t){const o=ii(this);for(let u=0,d=this.length;u<d;u++)es(o,"get",u+"");const l=o[r](...t);return l===-1||l===!1?o[r](...t.map(ii)):l}}),["push","pop","shift","unshift","splice"].forEach(r=>{i[r]=function(...t){Pp();const o=ii(this)[r].apply(this,t);return Mp(),o}}),i}function VL(i){const r=ii(this);return es(r,"has",i),r.hasOwnProperty(i)}function rx(i=!1,r=!1){return function(o,l,u){if(l==="__v_isReactive")return!i;if(l==="__v_isReadonly")return i;if(l==="__v_isShallow")return r;if(l==="__v_raw"&&u===(i?r?aA:xS:r?wS:bS).get(o))return o;const d=or(o);if(!i){if(d&&si(Z2,l))return Reflect.get(Z2,l,u);if(l==="hasOwnProperty")return VL}const p=Reflect.get(o,l,u);return(Q1(l)?mS.has(l):jL(l))||(i||es(o,"get",l),r)?p:vo(p)?d&&$1(l)?p:p.value:Yi(p)?i?_S(p):ox(p):p}}const WL=vS(),ZL=vS(!0);function vS(i=!1){return function(t,o,l,u){let d=t[o];if(dp(d)&&vo(d)&&!vo(l))return!1;if(!i&&(!Pv(l)&&!dp(l)&&(d=ii(d),l=ii(l)),!or(t)&&vo(d)&&!vo(l)))return d.value=l,!0;const p=or(t)&&$1(o)?Number(o)<t.length:si(t,o),m=Reflect.set(t,o,l,u);return t===ii(u)&&(p?Sg(l,d)&&cc(t,"set",o,l):cc(t,"add",o,l)),m}}function YL(i,r){const t=si(i,r);i[r];const o=Reflect.deleteProperty(i,r);return o&&t&&cc(i,"delete",r,void 0),o}function XL(i,r){const t=Reflect.has(i,r);return(!Q1(r)||!mS.has(r))&&es(i,"has",r),t}function KL(i){return es(i,"iterate",or(i)?"length":vh),Reflect.ownKeys(i)}const yS={get:HL,set:WL,deleteProperty:YL,has:XL,ownKeys:KL},JL={get:GL,set(i,r){return!0},deleteProperty(i,r){return!0}},QL=Ln({},yS,{get:UL,set:ZL}),ix=i=>i,my=i=>Reflect.getPrototypeOf(i);function B0(i,r,t=!1,o=!1){i=i.__v_raw;const l=ii(i),u=ii(r);t||(r!==u&&es(l,"get",r),es(l,"get",u));const{has:d}=my(l),p=o?ix:t?ax:Cg;if(d.call(l,r))return p(i.get(r));if(d.call(l,u))return p(i.get(u));i!==l&&i.get(r)}function j0(i,r=!1){const t=this.__v_raw,o=ii(t),l=ii(i);return r||(i!==l&&es(o,"has",i),es(o,"has",l)),i===l?t.has(i):t.has(i)||t.has(l)}function H0(i,r=!1){return i=i.__v_raw,!r&&es(ii(i),"iterate",vh),Reflect.get(i,"size",i)}function Y2(i){i=ii(i);const r=ii(this);return my(r).has.call(r,i)||(r.add(i),cc(r,"add",i,i)),this}function X2(i,r){r=ii(r);const t=ii(this),{has:o,get:l}=my(t);let u=o.call(t,i);u||(i=ii(i),u=o.call(t,i));const d=l.call(t,i);return t.set(i,r),u?Sg(r,d)&&cc(t,"set",i,r):cc(t,"add",i,r),this}function K2(i){const r=ii(this),{has:t,get:o}=my(r);let l=t.call(r,i);l||(i=ii(i),l=t.call(r,i)),o&&o.call(r,i);const u=r.delete(i);return l&&cc(r,"delete",i,void 0),u}function J2(){const i=ii(this),r=i.size!==0,t=i.clear();return r&&cc(i,"clear",void 0,void 0),t}function U0(i,r){return function(o,l){const u=this,d=u.__v_raw,p=ii(d),m=r?ix:i?ax:Cg;return!i&&es(p,"iterate",vh),d.forEach((v,x)=>o.call(l,m(v),m(x),u))}}function G0(i,r,t){return function(...o){const l=this.__v_raw,u=ii(l),d=sp(u),p=i==="entries"||i===Symbol.iterator&&d,m=i==="keys"&&d,v=l[i](...o),x=t?ix:r?ax:Cg;return!r&&es(u,"iterate",m?t1:vh),{next(){const{value:k,done:C}=v.next();return C?{value:k,done:C}:{value:p?[x(k[0]),x(k[1])]:x(k),done:C}},[Symbol.iterator](){return this}}}}function tu(i){return function(...r){return i==="delete"?!1:this}}function $L(){const i={get(u){return B0(this,u)},get size(){return H0(this)},has:j0,add:Y2,set:X2,delete:K2,clear:J2,forEach:U0(!1,!1)},r={get(u){return B0(this,u,!1,!0)},get size(){return H0(this)},has:j0,add:Y2,set:X2,delete:K2,clear:J2,forEach:U0(!1,!0)},t={get(u){return B0(this,u,!0)},get size(){return H0(this,!0)},has(u){return j0.call(this,u,!0)},add:tu("add"),set:tu("set"),delete:tu("delete"),clear:tu("clear"),forEach:U0(!0,!1)},o={get(u){return B0(this,u,!0,!0)},get size(){return H0(this,!0)},has(u){return j0.call(this,u,!0)},add:tu("add"),set:tu("set"),delete:tu("delete"),clear:tu("clear"),forEach:U0(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{i[u]=G0(u,!1,!1),t[u]=G0(u,!0,!1),r[u]=G0(u,!1,!0),o[u]=G0(u,!0,!0)}),[i,t,r,o]}const[tA,eA,rA,iA]=$L();function nx(i,r){const t=r?i?iA:rA:i?eA:tA;return(o,l,u)=>l==="__v_isReactive"?!i:l==="__v_isReadonly"?i:l==="__v_raw"?o:Reflect.get(si(t,l)&&l in o?t:o,l,u)}const nA={get:nx(!1,!1)},oA={get:nx(!1,!0)},sA={get:nx(!0,!1)},bS=new WeakMap,wS=new WeakMap,xS=new WeakMap,aA=new WeakMap;function lA(i){switch(i){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function cA(i){return i.__v_skip||!Object.isExtensible(i)?0:lA(TL(i))}function ox(i){return dp(i)?i:sx(i,!1,yS,nA,bS)}function uA(i){return sx(i,!1,QL,oA,wS)}function _S(i){return sx(i,!0,JL,sA,xS)}function sx(i,r,t,o,l){if(!Yi(i)||i.__v_raw&&!(r&&i.__v_isReactive))return i;const u=l.get(i);if(u)return u;const d=cA(i);if(d===0)return i;const p=new Proxy(i,d===2?o:t);return l.set(i,p),p}function ap(i){return dp(i)?ap(i.__v_raw):!!(i&&i.__v_isReactive)}function dp(i){return!!(i&&i.__v_isReadonly)}function Pv(i){return!!(i&&i.__v_isShallow)}function kS(i){return ap(i)||dp(i)}function ii(i){const r=i&&i.__v_raw;return r?ii(r):i}function ES(i){return Cv(i,"__v_skip",!0),i}const Cg=i=>Yi(i)?ox(i):i,ax=i=>Yi(i)?_S(i):i;function TS(i){ou&&Pa&&(i=ii(i),gS(i.dep||(i.dep=tx())))}function SS(i,r){i=ii(i);const t=i.dep;t&&e1(t)}function vo(i){return!!(i&&i.__v_isRef===!0)}function se(i){return hA(i,!1)}function hA(i,r){return vo(i)?i:new dA(i,r)}class dA{constructor(r,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?r:ii(r),this._value=t?r:Cg(r)}get value(){return TS(this),this._value}set value(r){const t=this.__v_isShallow||Pv(r)||dp(r);r=t?r:ii(r),Sg(r,this._rawValue)&&(this._rawValue=r,this._value=t?r:Cg(r),SS(this))}}function pA(i){return vo(i)?i.value:i}const fA={get:(i,r,t)=>pA(Reflect.get(i,r,t)),set:(i,r,t,o)=>{const l=i[r];return vo(l)&&!vo(t)?(l.value=t,!0):Reflect.set(i,r,t,o)}};function CS(i){return ap(i)?i:new Proxy(i,fA)}class gA{constructor(r,t,o,l){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ex(r,()=>{this._dirty||(this._dirty=!0,SS(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!l,this.__v_isReadonly=o}get value(){const r=ii(this);return TS(r),(r._dirty||!r._cacheable)&&(r._dirty=!1,r._value=r.effect.run()),r._value}set value(r){this._setter(r)}}function mA(i,r,t=!1){let o,l;const u=Zr(i);return u?(o=i,l=Aa):(o=i.get,l=i.set),new gA(o,l,u||!l,t)}function su(i,r,t,o){let l;try{l=o?i(...o):i()}catch(u){vy(u,r,t)}return l}function Ra(i,r,t,o){if(Zr(i)){const u=su(i,r,t,o);return u&&sS(u)&&u.catch(d=>{vy(d,r,t)}),u}const l=[];for(let u=0;u<i.length;u++)l.push(Ra(i[u],r,t,o));return l}function vy(i,r,t,o=!0){const l=r?r.vnode:null;if(r){let u=r.parent;const d=r.proxy,p=t;for(;u;){const v=u.ec;if(v){for(let x=0;x<v.length;x++)if(v[x](i,d,p)===!1)return}u=u.parent}const m=r.appContext.config.errorHandler;if(m){su(m,null,10,[i,d,p]);return}}vA(i,t,l,o)}function vA(i,r,t,o=!0){console.error(i)}let Pg=!1,r1=!1;const go=[];let cl=0;const lp=[];let tc=null,ph=0;const PS=Promise.resolve();let lx=null;function cx(i){const r=lx||PS;return i?r.then(this?i.bind(this):i):r}function yA(i){let r=cl+1,t=go.length;for(;r<t;){const o=r+t>>>1;Mg(go[o])<i?r=o+1:t=o}return r}function ux(i){(!go.length||!go.includes(i,Pg&&i.allowRecurse?cl+1:cl))&&(i.id==null?go.push(i):go.splice(yA(i.id),0,i),MS())}function MS(){!Pg&&!r1&&(r1=!0,lx=PS.then(LS))}function bA(i){const r=go.indexOf(i);r>cl&&go.splice(r,1)}function wA(i){or(i)?lp.push(...i):(!tc||!tc.includes(i,i.allowRecurse?ph+1:ph))&&lp.push(i),MS()}function Q2(i,r=Pg?cl+1:0){for(;r<go.length;r++){const t=go[r];t&&t.pre&&(go.splice(r,1),r--,t())}}function IS(i){if(lp.length){const r=[...new Set(lp)];if(lp.length=0,tc){tc.push(...r);return}for(tc=r,tc.sort((t,o)=>Mg(t)-Mg(o)),ph=0;ph<tc.length;ph++)tc[ph]();tc=null,ph=0}}const Mg=i=>i.id==null?1/0:i.id,xA=(i,r)=>{const t=Mg(i)-Mg(r);if(t===0){if(i.pre&&!r.pre)return-1;if(r.pre&&!i.pre)return 1}return t};function LS(i){r1=!1,Pg=!0,go.sort(xA);const r=Aa;try{for(cl=0;cl<go.length;cl++){const t=go[cl];t&&t.active!==!1&&su(t,null,14)}}finally{cl=0,go.length=0,IS(),Pg=!1,lx=null,(go.length||lp.length)&&LS()}}function _A(i,r,...t){if(i.isUnmounted)return;const o=i.vnode.props||Fi;let l=t;const u=r.startsWith("update:"),d=u&&r.slice(7);if(d&&d in o){const x=`${d==="modelValue"?"model":d}Modifiers`,{number:k,trim:C}=o[x]||Fi;C&&(l=t.map(M=>An(M)?M.trim():M)),k&&(l=t.map(PL))}let p,m=o[p=dw(r)]||o[p=dw(oc(r))];!m&&u&&(m=o[p=dw(Ca(r))]),m&&Ra(m,i,6,l);const v=o[p+"Once"];if(v){if(!i.emitted)i.emitted={};else if(i.emitted[p])return;i.emitted[p]=!0,Ra(v,i,6,l)}}function AS(i,r,t=!1){const o=r.emitsCache,l=o.get(i);if(l!==void 0)return l;const u=i.emits;let d={},p=!1;if(!Zr(i)){const m=v=>{const x=AS(v,r,!0);x&&(p=!0,Ln(d,x))};!t&&r.mixins.length&&r.mixins.forEach(m),i.extends&&m(i.extends),i.mixins&&i.mixins.forEach(m)}return!u&&!p?(Yi(i)&&o.set(i,null),null):(or(u)?u.forEach(m=>d[m]=null):Ln(d,u),Yi(i)&&o.set(i,d),d)}function yy(i,r){return!i||!py(r)?!1:(r=r.slice(2).replace(/Once$/,""),si(i,r[0].toLowerCase()+r.slice(1))||si(i,Ca(r))||si(i,r))}let Jo=null,by=null;function Mv(i){const r=Jo;return Jo=i,by=i&&i.type.__scopeId||null,r}function kA(i){by=i}function EA(){by=null}function TA(i,r=Jo,t){if(!r||i._n)return i;const o=(...l)=>{o._d&&lE(-1);const u=Mv(r);let d;try{d=i(...l)}finally{Mv(u),o._d&&lE(1)}return d};return o._n=!0,o._c=!0,o._d=!0,o}function fw(i){const{type:r,vnode:t,proxy:o,withProxy:l,props:u,propsOptions:[d],slots:p,attrs:m,emit:v,render:x,renderCache:k,data:C,setupState:M,ctx:I,inheritAttrs:D}=i;let j,H;const J=Mv(i);try{if(t.shapeFlag&4){const W=l||o;j=ll(x.call(W,W,k,u,M,C,I)),H=m}else{const W=r;j=ll(W.length>1?W(u,{attrs:m,slots:p,emit:v}):W(u,null)),H=r.props?m:SA(m)}}catch(W){mg.length=0,vy(W,i,1),j=Oa(hu)}let q=j;if(H&&D!==!1){const W=Object.keys(H),{shapeFlag:st}=q;W.length&&st&7&&(d&&W.some(K1)&&(H=CA(H,d)),q=pp(q,H))}return t.dirs&&(q=pp(q),q.dirs=q.dirs?q.dirs.concat(t.dirs):t.dirs),t.transition&&(q.transition=t.transition),j=q,Mv(J),j}const SA=i=>{let r;for(const t in i)(t==="class"||t==="style"||py(t))&&((r||(r={}))[t]=i[t]);return r},CA=(i,r)=>{const t={};for(const o in i)(!K1(o)||!(o.slice(9)in r))&&(t[o]=i[o]);return t};function PA(i,r,t){const{props:o,children:l,component:u}=i,{props:d,children:p,patchFlag:m}=r,v=u.emitsOptions;if(r.dirs||r.transition)return!0;if(t&&m>=0){if(m&1024)return!0;if(m&16)return o?$2(o,d,v):!!d;if(m&8){const x=r.dynamicProps;for(let k=0;k<x.length;k++){const C=x[k];if(d[C]!==o[C]&&!yy(v,C))return!0}}}else return(l||p)&&(!p||!p.$stable)?!0:o===d?!1:o?d?$2(o,d,v):!0:!!d;return!1}function $2(i,r,t){const o=Object.keys(r);if(o.length!==Object.keys(i).length)return!0;for(let l=0;l<o.length;l++){const u=o[l];if(r[u]!==i[u]&&!yy(t,u))return!0}return!1}function MA({vnode:i,parent:r},t){for(;r&&r.subTree===i;)(i=r.vnode).el=t,r=r.parent}const IA=i=>i.__isSuspense;function LA(i,r){r&&r.pendingBranch?or(i)?r.effects.push(...i):r.effects.push(i):wA(i)}const q0={};function Ne(i,r,t){return RS(i,r,t)}function RS(i,r,{immediate:t,deep:o,flush:l,onTrack:u,onTrigger:d}=Fi){var p;const m=DL()===((p=mo)==null?void 0:p.scope)?mo:null;let v,x=!1,k=!1;if(vo(i)?(v=()=>i.value,x=Pv(i)):ap(i)?(v=()=>i,o=!0):or(i)?(k=!0,x=i.some(W=>ap(W)||Pv(W)),v=()=>i.map(W=>{if(vo(W))return W.value;if(ap(W))return tp(W);if(Zr(W))return su(W,m,2)})):Zr(i)?r?v=()=>su(i,m,2):v=()=>{if(!(m&&m.isUnmounted))return C&&C(),Ra(i,m,3,[M])}:v=Aa,r&&o){const W=v;v=()=>tp(W())}let C,M=W=>{C=J.onStop=()=>{su(W,m,4)}},I;if(Lg)if(M=Aa,r?t&&Ra(r,m,3,[v(),k?[]:void 0,M]):v(),l==="sync"){const W=E5();I=W.__watcherHandles||(W.__watcherHandles=[])}else return Aa;let D=k?new Array(i.length).fill(q0):q0;const j=()=>{if(J.active)if(r){const W=J.run();(o||x||(k?W.some((st,mt)=>Sg(st,D[mt])):Sg(W,D)))&&(C&&C(),Ra(r,m,3,[W,D===q0?void 0:k&&D[0]===q0?[]:D,M]),D=W)}else J.run()};j.allowRecurse=!!r;let H;l==="sync"?H=j:l==="post"?H=()=>Yo(j,m&&m.suspense):(j.pre=!0,m&&(j.id=m.uid),H=()=>ux(j));const J=new ex(v,H);r?t?j():D=J.run():l==="post"?Yo(J.run.bind(J),m&&m.suspense):J.run();const q=()=>{J.stop(),m&&m.scope&&J1(m.scope.effects,J)};return I&&I.push(q),q}function AA(i,r,t){const o=this.proxy,l=An(i)?i.includes(".")?OS(o,i):()=>o[i]:i.bind(o,o);let u;Zr(r)?u=r:(u=r.handler,t=r);const d=mo;fp(this);const p=RS(l,u.bind(o),t);return d?fp(d):yh(),p}function OS(i,r){const t=r.split(".");return()=>{let o=i;for(let l=0;l<t.length&&o;l++)o=o[t[l]];return o}}function tp(i,r){if(!Yi(i)||i.__v_skip||(r=r||new Set,r.has(i)))return i;if(r.add(i),vo(i))tp(i.value,r);else if(or(i))for(let t=0;t<i.length;t++)tp(i[t],r);else if(oS(i)||sp(i))i.forEach(t=>{tp(t,r)});else if(lS(i))for(const t in i)tp(i[t],r);return i}function uh(i,r,t,o){const l=i.dirs,u=r&&r.dirs;for(let d=0;d<l.length;d++){const p=l[d];u&&(p.oldValue=u[d].value);let m=p.dir[o];m&&(Pp(),Ra(m,t,8,[i.el,p,i,r]),Mp())}}function kn(i,r){return Zr(i)?(()=>Ln({name:i.name},r,{setup:i}))():i}const fg=i=>!!i.type.__asyncLoader,zS=i=>i.type.__isKeepAlive;function RA(i,r){NS(i,"a",r)}function OA(i,r){NS(i,"da",r)}function NS(i,r,t=mo){const o=i.__wdc||(i.__wdc=()=>{let l=t;for(;l;){if(l.isDeactivated)return;l=l.parent}return i()});if(wy(r,o,t),t){let l=t.parent;for(;l&&l.parent;)zS(l.parent.vnode)&&zA(o,r,t,l),l=l.parent}}function zA(i,r,t,o){const l=wy(r,i,o,!0);DS(()=>{J1(o[r],l)},t)}function wy(i,r,t=mo,o=!1){if(t){const l=t[i]||(t[i]=[]),u=r.__weh||(r.__weh=(...d)=>{if(t.isUnmounted)return;Pp(),fp(t);const p=Ra(r,t,i,d);return yh(),Mp(),p});return o?l.unshift(u):l.push(u),u}}const pc=i=>(r,t=mo)=>(!Lg||i==="sp")&&wy(i,(...o)=>r(...o),t),NA=pc("bm"),zo=pc("m"),DA=pc("bu"),FA=pc("u"),BA=pc("bum"),DS=pc("um"),jA=pc("sp"),HA=pc("rtg"),UA=pc("rtc");function GA(i,r=mo){wy("ec",i,r)}const qA=Symbol.for("v-ndc");function sc(i,r,t,o){let l;const u=t&&t[o];if(or(i)||An(i)){l=new Array(i.length);for(let d=0,p=i.length;d<p;d++)l[d]=r(i[d],d,void 0,u&&u[d])}else if(typeof i=="number"){l=new Array(i);for(let d=0;d<i;d++)l[d]=r(d+1,d,void 0,u&&u[d])}else if(Yi(i))if(i[Symbol.iterator])l=Array.from(i,(d,p)=>r(d,p,void 0,u&&u[p]));else{const d=Object.keys(i);l=new Array(d.length);for(let p=0,m=d.length;p<m;p++){const v=d[p];l[p]=r(i[v],v,p,u&&u[p])}}else l=[];return t&&(t[o]=l),l}function VA(i,r,t={},o,l){if(Jo.isCE||Jo.parent&&fg(Jo.parent)&&Jo.parent.isCE)return r!=="default"&&(t.name=r),Oa("slot",t,o&&o());let u=i[r];u&&u._c&&(u._d=!1),ce();const d=u&&FS(u(t)),p=YS(Mi,{key:t.key||d&&d.key||`_${r}`},d||(o?o():[]),d&&i._===1?64:-2);return!l&&p.scopeId&&(p.slotScopeIds=[p.scopeId+"-s"]),u&&u._c&&(u._d=!0),p}function FS(i){return i.some(r=>XS(r)?!(r.type===hu||r.type===Mi&&!FS(r.children)):!0)?i:null}const i1=i=>i?JS(i)?gx(i)||i.proxy:i1(i.parent):null,gg=Ln(Object.create(null),{$:i=>i,$el:i=>i.vnode.el,$data:i=>i.data,$props:i=>i.props,$attrs:i=>i.attrs,$slots:i=>i.slots,$refs:i=>i.refs,$parent:i=>i1(i.parent),$root:i=>i1(i.root),$emit:i=>i.emit,$options:i=>hx(i),$forceUpdate:i=>i.f||(i.f=()=>ux(i.update)),$nextTick:i=>i.n||(i.n=cx.bind(i.proxy)),$watch:i=>AA.bind(i)}),gw=(i,r)=>i!==Fi&&!i.__isScriptSetup&&si(i,r),WA={get({_:i},r){const{ctx:t,setupState:o,data:l,props:u,accessCache:d,type:p,appContext:m}=i;let v;if(r[0]!=="$"){const M=d[r];if(M!==void 0)switch(M){case 1:return o[r];case 2:return l[r];case 4:return t[r];case 3:return u[r]}else{if(gw(o,r))return d[r]=1,o[r];if(l!==Fi&&si(l,r))return d[r]=2,l[r];if((v=i.propsOptions[0])&&si(v,r))return d[r]=3,u[r];if(t!==Fi&&si(t,r))return d[r]=4,t[r];n1&&(d[r]=0)}}const x=gg[r];let k,C;if(x)return r==="$attrs"&&es(i,"get",r),x(i);if((k=p.__cssModules)&&(k=k[r]))return k;if(t!==Fi&&si(t,r))return d[r]=4,t[r];if(C=m.config.globalProperties,si(C,r))return C[r]},set({_:i},r,t){const{data:o,setupState:l,ctx:u}=i;return gw(l,r)?(l[r]=t,!0):o!==Fi&&si(o,r)?(o[r]=t,!0):si(i.props,r)||r[0]==="$"&&r.slice(1)in i?!1:(u[r]=t,!0)},has({_:{data:i,setupState:r,accessCache:t,ctx:o,appContext:l,propsOptions:u}},d){let p;return!!t[d]||i!==Fi&&si(i,d)||gw(r,d)||(p=u[0])&&si(p,d)||si(o,d)||si(gg,d)||si(l.config.globalProperties,d)},defineProperty(i,r,t){return t.get!=null?i._.accessCache[r]=0:si(t,"value")&&this.set(i,r,t.value,null),Reflect.defineProperty(i,r,t)}};function tE(i){return or(i)?i.reduce((r,t)=>(r[t]=null,r),{}):i}let n1=!0;function ZA(i){const r=hx(i),t=i.proxy,o=i.ctx;n1=!1,r.beforeCreate&&eE(r.beforeCreate,i,"bc");const{data:l,computed:u,methods:d,watch:p,provide:m,inject:v,created:x,beforeMount:k,mounted:C,beforeUpdate:M,updated:I,activated:D,deactivated:j,beforeDestroy:H,beforeUnmount:J,destroyed:q,unmounted:W,render:st,renderTracked:mt,renderTriggered:gt,errorCaptured:ot,serverPrefetch:U,expose:et,inheritAttrs:lt,components:ht,directives:Gt,filters:St}=r;if(v&&YA(v,o,null),d)for(const Dt in d){const zt=d[Dt];Zr(zt)&&(o[Dt]=zt.bind(t))}if(l){const Dt=l.call(t,t);Yi(Dt)&&(i.data=ox(Dt))}if(n1=!0,u)for(const Dt in u){const zt=u[Dt],fe=Zr(zt)?zt.bind(t,t):Zr(zt.get)?zt.get.bind(t,t):Aa,yt=!Zr(zt)&&Zr(zt.set)?zt.set.bind(t):Aa,At=Ce({get:fe,set:yt});Object.defineProperty(o,Dt,{enumerable:!0,configurable:!0,get:()=>At.value,set:Xt=>At.value=Xt})}if(p)for(const Dt in p)BS(p[Dt],o,t,Dt);if(m){const Dt=Zr(m)?m.call(t):m;Reflect.ownKeys(Dt).forEach(zt=>{t5(zt,Dt[zt])})}x&&eE(x,i,"c");function xt(Dt,zt){or(zt)?zt.forEach(fe=>Dt(fe.bind(t))):zt&&Dt(zt.bind(t))}if(xt(NA,k),xt(zo,C),xt(DA,M),xt(FA,I),xt(RA,D),xt(OA,j),xt(GA,ot),xt(UA,mt),xt(HA,gt),xt(BA,J),xt(DS,W),xt(jA,U),or(et))if(et.length){const Dt=i.exposed||(i.exposed={});et.forEach(zt=>{Object.defineProperty(Dt,zt,{get:()=>t[zt],set:fe=>t[zt]=fe})})}else i.exposed||(i.exposed={});st&&i.render===Aa&&(i.render=st),lt!=null&&(i.inheritAttrs=lt),ht&&(i.components=ht),Gt&&(i.directives=Gt)}function YA(i,r,t=Aa){or(i)&&(i=o1(i));for(const o in i){const l=i[o];let u;Yi(l)?"default"in l?u=fv(l.from||o,l.default,!0):u=fv(l.from||o):u=fv(l),vo(u)?Object.defineProperty(r,o,{enumerable:!0,configurable:!0,get:()=>u.value,set:d=>u.value=d}):r[o]=u}}function eE(i,r,t){Ra(or(i)?i.map(o=>o.bind(r.proxy)):i.bind(r.proxy),r,t)}function BS(i,r,t,o){const l=o.includes(".")?OS(t,o):()=>t[o];if(An(i)){const u=r[i];Zr(u)&&Ne(l,u)}else if(Zr(i))Ne(l,i.bind(t));else if(Yi(i))if(or(i))i.forEach(u=>BS(u,r,t,o));else{const u=Zr(i.handler)?i.handler.bind(t):r[i.handler];Zr(u)&&Ne(l,u,i)}}function hx(i){const r=i.type,{mixins:t,extends:o}=r,{mixins:l,optionsCache:u,config:{optionMergeStrategies:d}}=i.appContext,p=u.get(r);let m;return p?m=p:!l.length&&!t&&!o?m=r:(m={},l.length&&l.forEach(v=>Iv(m,v,d,!0)),Iv(m,r,d)),Yi(r)&&u.set(r,m),m}function Iv(i,r,t,o=!1){const{mixins:l,extends:u}=r;u&&Iv(i,u,t,!0),l&&l.forEach(d=>Iv(i,d,t,!0));for(const d in r)if(!(o&&d==="expose")){const p=XA[d]||t&&t[d];i[d]=p?p(i[d],r[d]):r[d]}return i}const XA={data:rE,props:iE,emits:iE,methods:lg,computed:lg,beforeCreate:Lo,created:Lo,beforeMount:Lo,mounted:Lo,beforeUpdate:Lo,updated:Lo,beforeDestroy:Lo,beforeUnmount:Lo,destroyed:Lo,unmounted:Lo,activated:Lo,deactivated:Lo,errorCaptured:Lo,serverPrefetch:Lo,components:lg,directives:lg,watch:JA,provide:rE,inject:KA};function rE(i,r){return r?i?function(){return Ln(Zr(i)?i.call(this,this):i,Zr(r)?r.call(this,this):r)}:r:i}function KA(i,r){return lg(o1(i),o1(r))}function o1(i){if(or(i)){const r={};for(let t=0;t<i.length;t++)r[i[t]]=i[t];return r}return i}function Lo(i,r){return i?[...new Set([].concat(i,r))]:r}function lg(i,r){return i?Ln(Object.create(null),i,r):r}function iE(i,r){return i?or(i)&&or(r)?[...new Set([...i,...r])]:Ln(Object.create(null),tE(i),tE(r??{})):r}function JA(i,r){if(!i)return r;if(!r)return i;const t=Ln(Object.create(null),i);for(const o in r)t[o]=Lo(i[o],r[o]);return t}function jS(){return{app:null,config:{isNativeTag:_L,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let QA=0;function $A(i,r){return function(o,l=null){Zr(o)||(o=Ln({},o)),l!=null&&!Yi(l)&&(l=null);const u=jS(),d=new Set;let p=!1;const m=u.app={_uid:QA++,_component:o,_props:l,_container:null,_context:u,_instance:null,version:T5,get config(){return u.config},set config(v){},use(v,...x){return d.has(v)||(v&&Zr(v.install)?(d.add(v),v.install(m,...x)):Zr(v)&&(d.add(v),v(m,...x))),m},mixin(v){return u.mixins.includes(v)||u.mixins.push(v),m},component(v,x){return x?(u.components[v]=x,m):u.components[v]},directive(v,x){return x?(u.directives[v]=x,m):u.directives[v]},mount(v,x,k){if(!p){const C=Oa(o,l);return C.appContext=u,x&&r?r(C,v):i(C,v,k),p=!0,m._container=v,v.__vue_app__=m,gx(C.component)||C.component.proxy}},unmount(){p&&(i(null,m._container),delete m._container.__vue_app__)},provide(v,x){return u.provides[v]=x,m},runWithContext(v){Lv=m;try{return v()}finally{Lv=null}}};return m}}let Lv=null;function t5(i,r){if(mo){let t=mo.provides;const o=mo.parent&&mo.parent.provides;o===t&&(t=mo.provides=Object.create(o)),t[i]=r}}function fv(i,r,t=!1){const o=mo||Jo;if(o||Lv){const l=o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:Lv._context.provides;if(l&&i in l)return l[i];if(arguments.length>1)return t&&Zr(r)?r.call(o&&o.proxy):r}}function e5(i,r,t,o=!1){const l={},u={};Cv(u,_y,1),i.propsDefaults=Object.create(null),HS(i,r,l,u);for(const d in i.propsOptions[0])d in l||(l[d]=void 0);t?i.props=o?l:uA(l):i.type.props?i.props=l:i.props=u,i.attrs=u}function r5(i,r,t,o){const{props:l,attrs:u,vnode:{patchFlag:d}}=i,p=ii(l),[m]=i.propsOptions;let v=!1;if((o||d>0)&&!(d&16)){if(d&8){const x=i.vnode.dynamicProps;for(let k=0;k<x.length;k++){let C=x[k];if(yy(i.emitsOptions,C))continue;const M=r[C];if(m)if(si(u,C))M!==u[C]&&(u[C]=M,v=!0);else{const I=oc(C);l[I]=s1(m,p,I,M,i,!1)}else M!==u[C]&&(u[C]=M,v=!0)}}}else{HS(i,r,l,u)&&(v=!0);let x;for(const k in p)(!r||!si(r,k)&&((x=Ca(k))===k||!si(r,x)))&&(m?t&&(t[k]!==void 0||t[x]!==void 0)&&(l[k]=s1(m,p,k,void 0,i,!0)):delete l[k]);if(u!==p)for(const k in u)(!r||!si(r,k))&&(delete u[k],v=!0)}v&&cc(i,"set","$attrs")}function HS(i,r,t,o){const[l,u]=i.propsOptions;let d=!1,p;if(r)for(let m in r){if(pv(m))continue;const v=r[m];let x;l&&si(l,x=oc(m))?!u||!u.includes(x)?t[x]=v:(p||(p={}))[x]=v:yy(i.emitsOptions,m)||(!(m in o)||v!==o[m])&&(o[m]=v,d=!0)}if(u){const m=ii(t),v=p||Fi;for(let x=0;x<u.length;x++){const k=u[x];t[k]=s1(l,m,k,v[k],i,!si(v,k))}}return d}function s1(i,r,t,o,l,u){const d=i[t];if(d!=null){const p=si(d,"default");if(p&&o===void 0){const m=d.default;if(d.type!==Function&&!d.skipFactory&&Zr(m)){const{propsDefaults:v}=l;t in v?o=v[t]:(fp(l),o=v[t]=m.call(null,r),yh())}else o=m}d[0]&&(u&&!p?o=!1:d[1]&&(o===""||o===Ca(t))&&(o=!0))}return o}function US(i,r,t=!1){const o=r.propsCache,l=o.get(i);if(l)return l;const u=i.props,d={},p=[];let m=!1;if(!Zr(i)){const x=k=>{m=!0;const[C,M]=US(k,r,!0);Ln(d,C),M&&p.push(...M)};!t&&r.mixins.length&&r.mixins.forEach(x),i.extends&&x(i.extends),i.mixins&&i.mixins.forEach(x)}if(!u&&!m)return Yi(i)&&o.set(i,op),op;if(or(u))for(let x=0;x<u.length;x++){const k=oc(u[x]);nE(k)&&(d[k]=Fi)}else if(u)for(const x in u){const k=oc(x);if(nE(k)){const C=u[x],M=d[k]=or(C)||Zr(C)?{type:C}:Ln({},C);if(M){const I=aE(Boolean,M.type),D=aE(String,M.type);M[0]=I>-1,M[1]=D<0||I<D,(I>-1||si(M,"default"))&&p.push(k)}}}const v=[d,p];return Yi(i)&&o.set(i,v),v}function nE(i){return i[0]!=="$"}function oE(i){const r=i&&i.toString().match(/^\s*(function|class) (\w+)/);return r?r[2]:i===null?"null":""}function sE(i,r){return oE(i)===oE(r)}function aE(i,r){return or(r)?r.findIndex(t=>sE(t,i)):Zr(r)&&sE(r,i)?0:-1}const GS=i=>i[0]==="_"||i==="$stable",dx=i=>or(i)?i.map(ll):[ll(i)],i5=(i,r,t)=>{if(r._n)return r;const o=TA((...l)=>dx(r(...l)),t);return o._c=!1,o},qS=(i,r,t)=>{const o=i._ctx;for(const l in i){if(GS(l))continue;const u=i[l];if(Zr(u))r[l]=i5(l,u,o);else if(u!=null){const d=dx(u);r[l]=()=>d}}},VS=(i,r)=>{const t=dx(r);i.slots.default=()=>t},n5=(i,r)=>{if(i.vnode.shapeFlag&32){const t=r._;t?(i.slots=ii(r),Cv(r,"_",t)):qS(r,i.slots={})}else i.slots={},r&&VS(i,r);Cv(i.slots,_y,1)},o5=(i,r,t)=>{const{vnode:o,slots:l}=i;let u=!0,d=Fi;if(o.shapeFlag&32){const p=r._;p?t&&p===1?u=!1:(Ln(l,r),!t&&p===1&&delete l._):(u=!r.$stable,qS(r,l)),d=r}else r&&(VS(i,r),d={default:1});if(u)for(const p in l)!GS(p)&&!(p in d)&&delete l[p]};function a1(i,r,t,o,l=!1){if(or(i)){i.forEach((C,M)=>a1(C,r&&(or(r)?r[M]:r),t,o,l));return}if(fg(o)&&!l)return;const u=o.shapeFlag&4?gx(o.component)||o.component.proxy:o.el,d=l?null:u,{i:p,r:m}=i,v=r&&r.r,x=p.refs===Fi?p.refs={}:p.refs,k=p.setupState;if(v!=null&&v!==m&&(An(v)?(x[v]=null,si(k,v)&&(k[v]=null)):vo(v)&&(v.value=null)),Zr(m))su(m,p,12,[d,x]);else{const C=An(m),M=vo(m);if(C||M){const I=()=>{if(i.f){const D=C?si(k,m)?k[m]:x[m]:m.value;l?or(D)&&J1(D,u):or(D)?D.includes(u)||D.push(u):C?(x[m]=[u],si(k,m)&&(k[m]=x[m])):(m.value=[u],i.k&&(x[i.k]=m.value))}else C?(x[m]=d,si(k,m)&&(k[m]=d)):M&&(m.value=d,i.k&&(x[i.k]=d))};d?(I.id=-1,Yo(I,t)):I()}}}const Yo=LA;function s5(i){return a5(i)}function a5(i,r){const t=Jw();t.__VUE__=!0;const{insert:o,remove:l,patchProp:u,createElement:d,createText:p,createComment:m,setText:v,setElementText:x,parentNode:k,nextSibling:C,setScopeId:M=Aa,insertStaticContent:I}=i,D=(bt,Et,Ht,A=null,G=null,at=null,ft=!1,pt=null,kt=!!Et.dynamicChildren)=>{if(bt===Et)return;bt&&!Kf(bt,Et)&&(A=rr(bt),Xt(bt,G,at,!0),bt=null),Et.patchFlag===-2&&(kt=!1,Et.dynamicChildren=null);const{type:dt,ref:Ot,shapeFlag:$t}=Et;switch(dt){case xy:j(bt,Et,Ht,A);break;case hu:H(bt,Et,Ht,A);break;case mw:bt==null&&J(Et,Ht,A,ft);break;case Mi:ht(bt,Et,Ht,A,G,at,ft,pt,kt);break;default:$t&1?st(bt,Et,Ht,A,G,at,ft,pt,kt):$t&6?Gt(bt,Et,Ht,A,G,at,ft,pt,kt):($t&64||$t&128)&&dt.process(bt,Et,Ht,A,G,at,ft,pt,kt,vi)}Ot!=null&&G&&a1(Ot,bt&&bt.ref,at,Et||bt,!Et)},j=(bt,Et,Ht,A)=>{if(bt==null)o(Et.el=p(Et.children),Ht,A);else{const G=Et.el=bt.el;Et.children!==bt.children&&v(G,Et.children)}},H=(bt,Et,Ht,A)=>{bt==null?o(Et.el=m(Et.children||""),Ht,A):Et.el=bt.el},J=(bt,Et,Ht,A)=>{[bt.el,bt.anchor]=I(bt.children,Et,Ht,A,bt.el,bt.anchor)},q=({el:bt,anchor:Et},Ht,A)=>{let G;for(;bt&&bt!==Et;)G=C(bt),o(bt,Ht,A),bt=G;o(Et,Ht,A)},W=({el:bt,anchor:Et})=>{let Ht;for(;bt&&bt!==Et;)Ht=C(bt),l(bt),bt=Ht;l(Et)},st=(bt,Et,Ht,A,G,at,ft,pt,kt)=>{ft=ft||Et.type==="svg",bt==null?mt(Et,Ht,A,G,at,ft,pt,kt):U(bt,Et,G,at,ft,pt,kt)},mt=(bt,Et,Ht,A,G,at,ft,pt)=>{let kt,dt;const{type:Ot,props:$t,shapeFlag:te,transition:re,dirs:be}=bt;if(kt=bt.el=d(bt.type,at,$t&&$t.is,$t),te&8?x(kt,bt.children):te&16&&ot(bt.children,kt,null,A,G,at&&Ot!=="foreignObject",ft,pt),be&&uh(bt,null,A,"created"),gt(kt,bt,bt.scopeId,ft,A),$t){for(const je in $t)je!=="value"&&!pv(je)&&u(kt,je,null,$t[je],at,bt.children,A,G,ue);"value"in $t&&u(kt,"value",null,$t.value),(dt=$t.onVnodeBeforeMount)&&nl(dt,A,bt)}be&&uh(bt,null,A,"beforeMount");const _e=(!G||G&&!G.pendingBranch)&&re&&!re.persisted;_e&&re.beforeEnter(kt),o(kt,Et,Ht),((dt=$t&&$t.onVnodeMounted)||_e||be)&&Yo(()=>{dt&&nl(dt,A,bt),_e&&re.enter(kt),be&&uh(bt,null,A,"mounted")},G)},gt=(bt,Et,Ht,A,G)=>{if(Ht&&M(bt,Ht),A)for(let at=0;at<A.length;at++)M(bt,A[at]);if(G){let at=G.subTree;if(Et===at){const ft=G.vnode;gt(bt,ft,ft.scopeId,ft.slotScopeIds,G.parent)}}},ot=(bt,Et,Ht,A,G,at,ft,pt,kt=0)=>{for(let dt=kt;dt<bt.length;dt++){const Ot=bt[dt]=pt?eu(bt[dt]):ll(bt[dt]);D(null,Ot,Et,Ht,A,G,at,ft,pt)}},U=(bt,Et,Ht,A,G,at,ft)=>{const pt=Et.el=bt.el;let{patchFlag:kt,dynamicChildren:dt,dirs:Ot}=Et;kt|=bt.patchFlag&16;const $t=bt.props||Fi,te=Et.props||Fi;let re;Ht&&hh(Ht,!1),(re=te.onVnodeBeforeUpdate)&&nl(re,Ht,Et,bt),Ot&&uh(Et,bt,Ht,"beforeUpdate"),Ht&&hh(Ht,!0);const be=G&&Et.type!=="foreignObject";if(dt?et(bt.dynamicChildren,dt,pt,Ht,A,be,at):ft||zt(bt,Et,pt,null,Ht,A,be,at,!1),kt>0){if(kt&16)lt(pt,Et,$t,te,Ht,A,G);else if(kt&2&&$t.class!==te.class&&u(pt,"class",null,te.class,G),kt&4&&u(pt,"style",$t.style,te.style,G),kt&8){const _e=Et.dynamicProps;for(let je=0;je<_e.length;je++){const $=_e[je],K=$t[$],ut=te[$];(ut!==K||$==="value")&&u(pt,$,K,ut,G,bt.children,Ht,A,ue)}}kt&1&&bt.children!==Et.children&&x(pt,Et.children)}else!ft&&dt==null&&lt(pt,Et,$t,te,Ht,A,G);((re=te.onVnodeUpdated)||Ot)&&Yo(()=>{re&&nl(re,Ht,Et,bt),Ot&&uh(Et,bt,Ht,"updated")},A)},et=(bt,Et,Ht,A,G,at,ft)=>{for(let pt=0;pt<Et.length;pt++){const kt=bt[pt],dt=Et[pt],Ot=kt.el&&(kt.type===Mi||!Kf(kt,dt)||kt.shapeFlag&70)?k(kt.el):Ht;D(kt,dt,Ot,null,A,G,at,ft,!0)}},lt=(bt,Et,Ht,A,G,at,ft)=>{if(Ht!==A){if(Ht!==Fi)for(const pt in Ht)!pv(pt)&&!(pt in A)&&u(bt,pt,Ht[pt],null,ft,Et.children,G,at,ue);for(const pt in A){if(pv(pt))continue;const kt=A[pt],dt=Ht[pt];kt!==dt&&pt!=="value"&&u(bt,pt,dt,kt,ft,Et.children,G,at,ue)}"value"in A&&u(bt,"value",Ht.value,A.value)}},ht=(bt,Et,Ht,A,G,at,ft,pt,kt)=>{const dt=Et.el=bt?bt.el:p(""),Ot=Et.anchor=bt?bt.anchor:p("");let{patchFlag:$t,dynamicChildren:te,slotScopeIds:re}=Et;re&&(pt=pt?pt.concat(re):re),bt==null?(o(dt,Ht,A),o(Ot,Ht,A),ot(Et.children,Ht,Ot,G,at,ft,pt,kt)):$t>0&&$t&64&&te&&bt.dynamicChildren?(et(bt.dynamicChildren,te,Ht,G,at,ft,pt),(Et.key!=null||G&&Et===G.subTree)&&WS(bt,Et,!0)):zt(bt,Et,Ht,Ot,G,at,ft,pt,kt)},Gt=(bt,Et,Ht,A,G,at,ft,pt,kt)=>{Et.slotScopeIds=pt,bt==null?Et.shapeFlag&512?G.ctx.activate(Et,Ht,A,ft,kt):St(Et,Ht,A,G,at,ft,kt):Lt(bt,Et,kt)},St=(bt,Et,Ht,A,G,at,ft)=>{const pt=bt.component=v5(bt,A,G);if(zS(bt)&&(pt.ctx.renderer=vi),y5(pt),pt.asyncDep){if(G&&G.registerDep(pt,xt),!bt.el){const kt=pt.subTree=Oa(hu);H(null,kt,Et,Ht)}return}xt(pt,bt,Et,Ht,G,at,ft)},Lt=(bt,Et,Ht)=>{const A=Et.component=bt.component;if(PA(bt,Et,Ht))if(A.asyncDep&&!A.asyncResolved){Dt(A,Et,Ht);return}else A.next=Et,bA(A.update),A.update();else Et.el=bt.el,A.vnode=Et},xt=(bt,Et,Ht,A,G,at,ft)=>{const pt=()=>{if(bt.isMounted){let{next:Ot,bu:$t,u:te,parent:re,vnode:be}=bt,_e=Ot,je;hh(bt,!1),Ot?(Ot.el=be.el,Dt(bt,Ot,ft)):Ot=be,$t&&pw($t),(je=Ot.props&&Ot.props.onVnodeBeforeUpdate)&&nl(je,re,Ot,be),hh(bt,!0);const $=fw(bt),K=bt.subTree;bt.subTree=$,D(K,$,k(K.el),rr(K),bt,G,at),Ot.el=$.el,_e===null&&MA(bt,$.el),te&&Yo(te,G),(je=Ot.props&&Ot.props.onVnodeUpdated)&&Yo(()=>nl(je,re,Ot,be),G)}else{let Ot;const{el:$t,props:te}=Et,{bm:re,m:be,parent:_e}=bt,je=fg(Et);if(hh(bt,!1),re&&pw(re),!je&&(Ot=te&&te.onVnodeBeforeMount)&&nl(Ot,_e,Et),hh(bt,!0),$t&&Bi){const $=()=>{bt.subTree=fw(bt),Bi($t,bt.subTree,bt,G,null)};je?Et.type.__asyncLoader().then(()=>!bt.isUnmounted&&$()):$()}else{const $=bt.subTree=fw(bt);D(null,$,Ht,A,bt,G,at),Et.el=$.el}if(be&&Yo(be,G),!je&&(Ot=te&&te.onVnodeMounted)){const $=Et;Yo(()=>nl(Ot,_e,$),G)}(Et.shapeFlag&256||_e&&fg(_e.vnode)&&_e.vnode.shapeFlag&256)&&bt.a&&Yo(bt.a,G),bt.isMounted=!0,Et=Ht=A=null}},kt=bt.effect=new ex(pt,()=>ux(dt),bt.scope),dt=bt.update=()=>kt.run();dt.id=bt.uid,hh(bt,!0),dt()},Dt=(bt,Et,Ht)=>{Et.component=bt;const A=bt.vnode.props;bt.vnode=Et,bt.next=null,r5(bt,Et.props,A,Ht),o5(bt,Et.children,Ht),Pp(),Q2(),Mp()},zt=(bt,Et,Ht,A,G,at,ft,pt,kt=!1)=>{const dt=bt&&bt.children,Ot=bt?bt.shapeFlag:0,$t=Et.children,{patchFlag:te,shapeFlag:re}=Et;if(te>0){if(te&128){yt(dt,$t,Ht,A,G,at,ft,pt,kt);return}else if(te&256){fe(dt,$t,Ht,A,G,at,ft,pt,kt);return}}re&8?(Ot&16&&ue(dt,G,at),$t!==dt&&x(Ht,$t)):Ot&16?re&16?yt(dt,$t,Ht,A,G,at,ft,pt,kt):ue(dt,G,at,!0):(Ot&8&&x(Ht,""),re&16&&ot($t,Ht,A,G,at,ft,pt,kt))},fe=(bt,Et,Ht,A,G,at,ft,pt,kt)=>{bt=bt||op,Et=Et||op;const dt=bt.length,Ot=Et.length,$t=Math.min(dt,Ot);let te;for(te=0;te<$t;te++){const re=Et[te]=kt?eu(Et[te]):ll(Et[te]);D(bt[te],re,Ht,null,G,at,ft,pt,kt)}dt>Ot?ue(bt,G,at,!0,!1,$t):ot(Et,Ht,A,G,at,ft,pt,kt,$t)},yt=(bt,Et,Ht,A,G,at,ft,pt,kt)=>{let dt=0;const Ot=Et.length;let $t=bt.length-1,te=Ot-1;for(;dt<=$t&&dt<=te;){const re=bt[dt],be=Et[dt]=kt?eu(Et[dt]):ll(Et[dt]);if(Kf(re,be))D(re,be,Ht,null,G,at,ft,pt,kt);else break;dt++}for(;dt<=$t&&dt<=te;){const re=bt[$t],be=Et[te]=kt?eu(Et[te]):ll(Et[te]);if(Kf(re,be))D(re,be,Ht,null,G,at,ft,pt,kt);else break;$t--,te--}if(dt>$t){if(dt<=te){const re=te+1,be=re<Ot?Et[re].el:A;for(;dt<=te;)D(null,Et[dt]=kt?eu(Et[dt]):ll(Et[dt]),Ht,be,G,at,ft,pt,kt),dt++}}else if(dt>te)for(;dt<=$t;)Xt(bt[dt],G,at,!0),dt++;else{const re=dt,be=dt,_e=new Map;for(dt=be;dt<=te;dt++){const Te=Et[dt]=kt?eu(Et[dt]):ll(Et[dt]);Te.key!=null&&_e.set(Te.key,dt)}let je,$=0;const K=te-be+1;let ut=!1,ct=0;const Kt=new Array(K);for(dt=0;dt<K;dt++)Kt[dt]=0;for(dt=re;dt<=$t;dt++){const Te=bt[dt];if($>=K){Xt(Te,G,at,!0);continue}let ar;if(Te.key!=null)ar=_e.get(Te.key);else for(je=be;je<=te;je++)if(Kt[je-be]===0&&Kf(Te,Et[je])){ar=je;break}ar===void 0?Xt(Te,G,at,!0):(Kt[ar-be]=dt+1,ar>=ct?ct=ar:ut=!0,D(Te,Et[ar],Ht,null,G,at,ft,pt,kt),$++)}const ne=ut?l5(Kt):op;for(je=ne.length-1,dt=K-1;dt>=0;dt--){const Te=be+dt,ar=Et[Te],De=Te+1<Ot?Et[Te+1].el:A;Kt[dt]===0?D(null,ar,Ht,De,G,at,ft,pt,kt):ut&&(je<0||dt!==ne[je]?At(ar,Ht,De,2):je--)}}},At=(bt,Et,Ht,A,G=null)=>{const{el:at,type:ft,transition:pt,children:kt,shapeFlag:dt}=bt;if(dt&6){At(bt.component.subTree,Et,Ht,A);return}if(dt&128){bt.suspense.move(Et,Ht,A);return}if(dt&64){ft.move(bt,Et,Ht,vi);return}if(ft===Mi){o(at,Et,Ht);for(let $t=0;$t<kt.length;$t++)At(kt[$t],Et,Ht,A);o(bt.anchor,Et,Ht);return}if(ft===mw){q(bt,Et,Ht);return}if(A!==2&&dt&1&&pt)if(A===0)pt.beforeEnter(at),o(at,Et,Ht),Yo(()=>pt.enter(at),G);else{const{leave:$t,delayLeave:te,afterLeave:re}=pt,be=()=>o(at,Et,Ht),_e=()=>{$t(at,()=>{be(),re&&re()})};te?te(at,be,_e):_e()}else o(at,Et,Ht)},Xt=(bt,Et,Ht,A=!1,G=!1)=>{const{type:at,props:ft,ref:pt,children:kt,dynamicChildren:dt,shapeFlag:Ot,patchFlag:$t,dirs:te}=bt;if(pt!=null&&a1(pt,null,Ht,bt,!0),Ot&256){Et.ctx.deactivate(bt);return}const re=Ot&1&&te,be=!fg(bt);let _e;if(be&&(_e=ft&&ft.onVnodeBeforeUnmount)&&nl(_e,Et,bt),Ot&6)ae(bt.component,Ht,A);else{if(Ot&128){bt.suspense.unmount(Ht,A);return}re&&uh(bt,null,Et,"beforeUnmount"),Ot&64?bt.type.remove(bt,Et,Ht,G,vi,A):dt&&(at!==Mi||$t>0&&$t&64)?ue(dt,Et,Ht,!1,!0):(at===Mi&&$t&384||!G&&Ot&16)&&ue(kt,Et,Ht),A&&ee(bt)}(be&&(_e=ft&&ft.onVnodeUnmounted)||re)&&Yo(()=>{_e&&nl(_e,Et,bt),re&&uh(bt,null,Et,"unmounted")},Ht)},ee=bt=>{const{type:Et,el:Ht,anchor:A,transition:G}=bt;if(Et===Mi){ge(Ht,A);return}if(Et===mw){W(bt);return}const at=()=>{l(Ht),G&&!G.persisted&&G.afterLeave&&G.afterLeave()};if(bt.shapeFlag&1&&G&&!G.persisted){const{leave:ft,delayLeave:pt}=G,kt=()=>ft(Ht,at);pt?pt(bt.el,at,kt):kt()}else at()},ge=(bt,Et)=>{let Ht;for(;bt!==Et;)Ht=C(bt),l(bt),bt=Ht;l(Et)},ae=(bt,Et,Ht)=>{const{bum:A,scope:G,update:at,subTree:ft,um:pt}=bt;A&&pw(A),G.stop(),at&&(at.active=!1,Xt(ft,bt,Et,Ht)),pt&&Yo(pt,Et),Yo(()=>{bt.isUnmounted=!0},Et),Et&&Et.pendingBranch&&!Et.isUnmounted&&bt.asyncDep&&!bt.asyncResolved&&bt.suspenseId===Et.pendingId&&(Et.deps--,Et.deps===0&&Et.resolve())},ue=(bt,Et,Ht,A=!1,G=!1,at=0)=>{for(let ft=at;ft<bt.length;ft++)Xt(bt[ft],Et,Ht,A,G)},rr=bt=>bt.shapeFlag&6?rr(bt.component.subTree):bt.shapeFlag&128?bt.suspense.next():C(bt.anchor||bt.el),mr=(bt,Et,Ht)=>{bt==null?Et._vnode&&Xt(Et._vnode,null,null,!0):D(Et._vnode||null,bt,Et,null,null,null,Ht),Q2(),IS(),Et._vnode=bt},vi={p:D,um:Xt,m:At,r:ee,mt:St,mc:ot,pc:zt,pbc:et,n:rr,o:i};let Xi,Bi;return r&&([Xi,Bi]=r(vi)),{render:mr,hydrate:Xi,createApp:$A(mr,Xi)}}function hh({effect:i,update:r},t){i.allowRecurse=r.allowRecurse=t}function WS(i,r,t=!1){const o=i.children,l=r.children;if(or(o)&&or(l))for(let u=0;u<o.length;u++){const d=o[u];let p=l[u];p.shapeFlag&1&&!p.dynamicChildren&&((p.patchFlag<=0||p.patchFlag===32)&&(p=l[u]=eu(l[u]),p.el=d.el),t||WS(d,p)),p.type===xy&&(p.el=d.el)}}function l5(i){const r=i.slice(),t=[0];let o,l,u,d,p;const m=i.length;for(o=0;o<m;o++){const v=i[o];if(v!==0){if(l=t[t.length-1],i[l]<v){r[o]=l,t.push(o);continue}for(u=0,d=t.length-1;u<d;)p=u+d>>1,i[t[p]]<v?u=p+1:d=p;v<i[t[u]]&&(u>0&&(r[o]=t[u-1]),t[u]=o)}}for(u=t.length,d=t[u-1];u-- >0;)t[u]=d,d=r[d];return t}const c5=i=>i.__isTeleport,Mi=Symbol.for("v-fgt"),xy=Symbol.for("v-txt"),hu=Symbol.for("v-cmt"),mw=Symbol.for("v-stc"),mg=[];let Ma=null;function ce(i=!1){mg.push(Ma=i?null:[])}function u5(){mg.pop(),Ma=mg[mg.length-1]||null}let Ig=1;function lE(i){Ig+=i}function ZS(i){return i.dynamicChildren=Ig>0?Ma||op:null,u5(),Ig>0&&Ma&&Ma.push(i),i}function de(i,r,t,o,l,u){return ZS(Jt(i,r,t,o,l,u,!0))}function YS(i,r,t,o,l){return ZS(Oa(i,r,t,o,l,!0))}function XS(i){return i?i.__v_isVNode===!0:!1}function Kf(i,r){return i.type===r.type&&i.key===r.key}const _y="__vInternal",KS=({key:i})=>i??null,gv=({ref:i,ref_key:r,ref_for:t})=>(typeof i=="number"&&(i=""+i),i!=null?An(i)||vo(i)||Zr(i)?{i:Jo,r:i,k:r,f:!!t}:i:null);function Jt(i,r=null,t=null,o=0,l=null,u=i===Mi?0:1,d=!1,p=!1){const m={__v_isVNode:!0,__v_skip:!0,type:i,props:r,key:r&&KS(r),ref:r&&gv(r),scopeId:by,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:o,dynamicProps:l,dynamicChildren:null,appContext:null,ctx:Jo};return p?(px(m,t),u&128&&i.normalize(m)):t&&(m.shapeFlag|=An(t)?8:16),Ig>0&&!d&&Ma&&(m.patchFlag>0||u&6)&&m.patchFlag!==32&&Ma.push(m),m}const Oa=h5;function h5(i,r=null,t=null,o=0,l=null,u=!1){if((!i||i===qA)&&(i=hu),XS(i)){const p=pp(i,r,!0);return t&&px(p,t),Ig>0&&!u&&Ma&&(p.shapeFlag&6?Ma[Ma.indexOf(i)]=p:Ma.push(p)),p.patchFlag|=-2,p}if(_5(i)&&(i=i.__vccOpts),r){r=d5(r);let{class:p,style:m}=r;p&&!An(p)&&(r.class=rm(p)),Yi(m)&&(kS(m)&&!or(m)&&(m=Ln({},m)),r.style=cu(m))}const d=An(i)?1:IA(i)?128:c5(i)?64:Yi(i)?4:Zr(i)?2:0;return Jt(i,r,t,o,l,d,u,!0)}function d5(i){return i?kS(i)||_y in i?Ln({},i):i:null}function pp(i,r,t=!1){const{props:o,ref:l,patchFlag:u,children:d}=i,p=r?f5(o||{},r):o;return{__v_isVNode:!0,__v_skip:!0,type:i.type,props:p,key:p&&KS(p),ref:r&&r.ref?t&&l?or(l)?l.concat(gv(r)):[l,gv(r)]:gv(r):l,scopeId:i.scopeId,slotScopeIds:i.slotScopeIds,children:d,target:i.target,targetAnchor:i.targetAnchor,staticCount:i.staticCount,shapeFlag:i.shapeFlag,patchFlag:r&&i.type!==Mi?u===-1?16:u|16:u,dynamicProps:i.dynamicProps,dynamicChildren:i.dynamicChildren,appContext:i.appContext,dirs:i.dirs,transition:i.transition,component:i.component,suspense:i.suspense,ssContent:i.ssContent&&pp(i.ssContent),ssFallback:i.ssFallback&&pp(i.ssFallback),el:i.el,anchor:i.anchor,ctx:i.ctx,ce:i.ce}}function p5(i=" ",r=0){return Oa(xy,null,i,r)}function ir(i="",r=!1){return r?(ce(),YS(hu,null,i)):Oa(hu,null,i)}function ll(i){return i==null||typeof i=="boolean"?Oa(hu):or(i)?Oa(Mi,null,i.slice()):typeof i=="object"?eu(i):Oa(xy,null,String(i))}function eu(i){return i.el===null&&i.patchFlag!==-1||i.memo?i:pp(i)}function px(i,r){let t=0;const{shapeFlag:o}=i;if(r==null)r=null;else if(or(r))t=16;else if(typeof r=="object")if(o&65){const l=r.default;l&&(l._c&&(l._d=!1),px(i,l()),l._c&&(l._d=!0));return}else{t=32;const l=r._;!l&&!(_y in r)?r._ctx=Jo:l===3&&Jo&&(Jo.slots._===1?r._=1:(r._=2,i.patchFlag|=1024))}else Zr(r)?(r={default:r,_ctx:Jo},t=32):(r=String(r),o&64?(t=16,r=[p5(r)]):t=8);i.children=r,i.shapeFlag|=t}function f5(...i){const r={};for(let t=0;t<i.length;t++){const o=i[t];for(const l in o)if(l==="class")r.class!==o.class&&(r.class=rm([r.class,o.class]));else if(l==="style")r.style=cu([r.style,o.style]);else if(py(l)){const u=r[l],d=o[l];d&&u!==d&&!(or(u)&&u.includes(d))&&(r[l]=u?[].concat(u,d):d)}else l!==""&&(r[l]=o[l])}return r}function nl(i,r,t,o=null){Ra(i,r,7,[t,o])}const g5=jS();let m5=0;function v5(i,r,t){const o=i.type,l=(r?r.appContext:i.appContext)||g5,u={uid:m5++,vnode:i,type:o,parent:r,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,scope:new zL(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(l.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:US(o,l),emitsOptions:AS(o,l),emit:null,emitted:null,propsDefaults:Fi,inheritAttrs:o.inheritAttrs,ctx:Fi,data:Fi,props:Fi,attrs:Fi,slots:Fi,refs:Fi,setupState:Fi,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=r?r.root:u,u.emit=_A.bind(null,u),i.ce&&i.ce(u),u}let mo=null,fx,qd,cE="__VUE_INSTANCE_SETTERS__";(qd=Jw()[cE])||(qd=Jw()[cE]=[]),qd.push(i=>mo=i),fx=i=>{qd.length>1?qd.forEach(r=>r(i)):qd[0](i)};const fp=i=>{fx(i),i.scope.on()},yh=()=>{mo&&mo.scope.off(),fx(null)};function JS(i){return i.vnode.shapeFlag&4}let Lg=!1;function y5(i,r=!1){Lg=r;const{props:t,children:o}=i.vnode,l=JS(i);e5(i,t,l,r),n5(i,o);const u=l?b5(i,r):void 0;return Lg=!1,u}function b5(i,r){const t=i.type;i.accessCache=Object.create(null),i.proxy=ES(new Proxy(i.ctx,WA));const{setup:o}=t;if(o){const l=i.setupContext=o.length>1?x5(i):null;fp(i),Pp();const u=su(o,i,0,[i.props,l]);if(Mp(),yh(),sS(u)){if(u.then(yh,yh),r)return u.then(d=>{uE(i,d,r)}).catch(d=>{vy(d,i,0)});i.asyncDep=u}else uE(i,u,r)}else QS(i,r)}function uE(i,r,t){Zr(r)?i.type.__ssrInlineRender?i.ssrRender=r:i.render=r:Yi(r)&&(i.setupState=CS(r)),QS(i,t)}let hE;function QS(i,r,t){const o=i.type;if(!i.render){if(!r&&hE&&!o.render){const l=o.template||hx(i).template;if(l){const{isCustomElement:u,compilerOptions:d}=i.appContext.config,{delimiters:p,compilerOptions:m}=o,v=Ln(Ln({isCustomElement:u,delimiters:p},d),m);o.render=hE(l,v)}}i.render=o.render||Aa}fp(i),Pp(),ZA(i),Mp(),yh()}function w5(i){return i.attrsProxy||(i.attrsProxy=new Proxy(i.attrs,{get(r,t){return es(i,"get","$attrs"),r[t]}}))}function x5(i){const r=t=>{i.exposed=t||{}};return{get attrs(){return w5(i)},slots:i.slots,emit:i.emit,expose:r}}function gx(i){if(i.exposed)return i.exposeProxy||(i.exposeProxy=new Proxy(CS(ES(i.exposed)),{get(r,t){if(t in r)return r[t];if(t in gg)return gg[t](i)},has(r,t){return t in r||t in gg}}))}function _5(i){return Zr(i)&&"__vccOpts"in i}const Ce=(i,r)=>mA(i,r,Lg),k5=Symbol.for("v-scx"),E5=()=>fv(k5),T5="3.3.4",S5="http://www.w3.org/2000/svg",fh=typeof document<"u"?document:null,dE=fh&&fh.createElement("template"),C5={insert:(i,r,t)=>{r.insertBefore(i,t||null)},remove:i=>{const r=i.parentNode;r&&r.removeChild(i)},createElement:(i,r,t,o)=>{const l=r?fh.createElementNS(S5,i):fh.createElement(i,t?{is:t}:void 0);return i==="select"&&o&&o.multiple!=null&&l.setAttribute("multiple",o.multiple),l},createText:i=>fh.createTextNode(i),createComment:i=>fh.createComment(i),setText:(i,r)=>{i.nodeValue=r},setElementText:(i,r)=>{i.textContent=r},parentNode:i=>i.parentNode,nextSibling:i=>i.nextSibling,querySelector:i=>fh.querySelector(i),setScopeId(i,r){i.setAttribute(r,"")},insertStaticContent(i,r,t,o,l,u){const d=t?t.previousSibling:r.lastChild;if(l&&(l===u||l.nextSibling))for(;r.insertBefore(l.cloneNode(!0),t),!(l===u||!(l=l.nextSibling)););else{dE.innerHTML=o?`<svg>${i}</svg>`:i;const p=dE.content;if(o){const m=p.firstChild;for(;m.firstChild;)p.appendChild(m.firstChild);p.removeChild(m)}r.insertBefore(p,t)}return[d?d.nextSibling:r.firstChild,t?t.previousSibling:r.lastChild]}};function P5(i,r,t){const o=i._vtc;o&&(r=(r?[r,...o]:[...o]).join(" ")),r==null?i.removeAttribute("class"):t?i.setAttribute("class",r):i.className=r}function M5(i,r,t){const o=i.style,l=An(t);if(t&&!l){if(r&&!An(r))for(const u in r)t[u]==null&&l1(o,u,"");for(const u in t)l1(o,u,t[u])}else{const u=o.display;l?r!==t&&(o.cssText=t):r&&i.removeAttribute("style"),"_vod"in i&&(o.display=u)}}const pE=/\s*!important$/;function l1(i,r,t){if(or(t))t.forEach(o=>l1(i,r,o));else if(t==null&&(t=""),r.startsWith("--"))i.setProperty(r,t);else{const o=I5(i,r);pE.test(t)?i.setProperty(Ca(o),t.replace(pE,""),"important"):i[o]=t}}const fE=["Webkit","Moz","ms"],vw={};function I5(i,r){const t=vw[r];if(t)return t;let o=oc(r);if(o!=="filter"&&o in i)return vw[r]=o;o=cS(o);for(let l=0;l<fE.length;l++){const u=fE[l]+o;if(u in i)return vw[r]=u}return r}const gE="http://www.w3.org/1999/xlink";function L5(i,r,t,o,l){if(o&&r.startsWith("xlink:"))t==null?i.removeAttributeNS(gE,r.slice(6,r.length)):i.setAttributeNS(gE,r,t);else{const u=OL(r);t==null||u&&!uS(t)?i.removeAttribute(r):i.setAttribute(r,u?"":t)}}function A5(i,r,t,o,l,u,d){if(r==="innerHTML"||r==="textContent"){o&&d(o,l,u),i[r]=t??"";return}const p=i.tagName;if(r==="value"&&p!=="PROGRESS"&&!p.includes("-")){i._value=t;const v=p==="OPTION"?i.getAttribute("value"):i.value,x=t??"";v!==x&&(i.value=x),t==null&&i.removeAttribute(r);return}let m=!1;if(t===""||t==null){const v=typeof i[r];v==="boolean"?t=uS(t):t==null&&v==="string"?(t="",m=!0):v==="number"&&(t=0,m=!0)}try{i[r]=t}catch{}m&&i.removeAttribute(r)}function R5(i,r,t,o){i.addEventListener(r,t,o)}function O5(i,r,t,o){i.removeEventListener(r,t,o)}function z5(i,r,t,o,l=null){const u=i._vei||(i._vei={}),d=u[r];if(o&&d)d.value=o;else{const[p,m]=N5(r);if(o){const v=u[r]=B5(o,l);R5(i,p,v,m)}else d&&(O5(i,p,d,m),u[r]=void 0)}}const mE=/(?:Once|Passive|Capture)$/;function N5(i){let r;if(mE.test(i)){r={};let o;for(;o=i.match(mE);)i=i.slice(0,i.length-o[0].length),r[o[0].toLowerCase()]=!0}return[i[2]===":"?i.slice(3):Ca(i.slice(2)),r]}let yw=0;const D5=Promise.resolve(),F5=()=>yw||(D5.then(()=>yw=0),yw=Date.now());function B5(i,r){const t=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=t.attached)return;Ra(j5(o,t.value),r,5,[o])};return t.value=i,t.attached=F5(),t}function j5(i,r){if(or(r)){const t=i.stopImmediatePropagation;return i.stopImmediatePropagation=()=>{t.call(i),i._stopped=!0},r.map(o=>l=>!l._stopped&&o&&o(l))}else return r}const vE=/^on[a-z]/,H5=(i,r,t,o,l=!1,u,d,p,m)=>{r==="class"?P5(i,o,l):r==="style"?M5(i,t,o):py(r)?K1(r)||z5(i,r,t,o,d):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):U5(i,r,o,l))?A5(i,r,o,u,d,p,m):(r==="true-value"?i._trueValue=o:r==="false-value"&&(i._falseValue=o),L5(i,r,o,l))};function U5(i,r,t,o){return o?!!(r==="innerHTML"||r==="textContent"||r in i&&vE.test(r)&&Zr(t)):r==="spellcheck"||r==="draggable"||r==="translate"||r==="form"||r==="list"&&i.tagName==="INPUT"||r==="type"&&i.tagName==="TEXTAREA"||vE.test(r)&&An(t)?!1:r in i}function Mn(i,r){const t=kn(i);class o extends mx{constructor(u){super(t,u,r)}}return o.def=t,o}const G5=typeof HTMLElement<"u"?HTMLElement:class{};class mx extends G5{constructor(r,t={},o){super(),this._def=r,this._props=t,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&o?o(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,cx(()=>{this._connected||(bE(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let o=0;o<this.attributes.length;o++)this._setAttr(this.attributes[o].name);new MutationObserver(o=>{for(const l of o)this._setAttr(l.attributeName)}).observe(this,{attributes:!0});const r=(o,l=!1)=>{const{props:u,styles:d}=o;let p;if(u&&!or(u))for(const m in u){const v=u[m];(v===Number||v&&v.type===Number)&&(m in this._props&&(this._props[m]=G2(this._props[m])),(p||(p=Object.create(null)))[oc(m)]=!0)}this._numberProps=p,l&&this._resolveProps(o),this._applyStyles(d),this._update()},t=this._def.__asyncLoader;t?t().then(o=>r(o,!0)):r(this._def)}_resolveProps(r){const{props:t}=r,o=or(t)?t:Object.keys(t||{});for(const l of Object.keys(this))l[0]!=="_"&&o.includes(l)&&this._setProp(l,this[l],!0,!1);for(const l of o.map(oc))Object.defineProperty(this,l,{get(){return this._getProp(l)},set(u){this._setProp(l,u)}})}_setAttr(r){let t=this.getAttribute(r);const o=oc(r);this._numberProps&&this._numberProps[o]&&(t=G2(t)),this._setProp(o,t,!1)}_getProp(r){return this._props[r]}_setProp(r,t,o=!0,l=!0){t!==this._props[r]&&(this._props[r]=t,l&&this._instance&&this._update(),o&&(t===!0?this.setAttribute(Ca(r),""):typeof t=="string"||typeof t=="number"?this.setAttribute(Ca(r),t+""):t||this.removeAttribute(Ca(r))))}_update(){bE(this._createVNode(),this.shadowRoot)}_createVNode(){const r=Oa(this._def,Ln({},this._props));return this._instance||(r.ce=t=>{this._instance=t,t.isCE=!0;const o=(u,d)=>{this.dispatchEvent(new CustomEvent(u,{detail:d}))};t.emit=(u,...d)=>{o(u,d),Ca(u)!==u&&o(Ca(u),d)};let l=this;for(;l=l&&(l.parentNode||l.host);)if(l instanceof mx){t.parent=l._instance,t.provides=l._instance.provides;break}}),r}_applyStyles(r){r&&r.forEach(t=>{const o=document.createElement("style");o.textContent=t,this.shadowRoot.appendChild(o)})}}const q5=Ln({patchProp:H5},C5);let yE;function V5(){return yE||(yE=s5(q5))}const bE=(...i)=>{V5().render(...i)};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const mv=globalThis,vx=mv.ShadowRoot&&(mv.ShadyCSS===void 0||mv.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,yx=Symbol(),wE=new WeakMap;let $S=class{constructor(r,t,o){if(this._$cssResult$=!0,o!==yx)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=r,this.t=t}get styleSheet(){let r=this.o;const t=this.t;if(vx&&r===void 0){const o=t!==void 0&&t.length===1;o&&(r=wE.get(t)),r===void 0&&((this.o=r=new CSSStyleSheet).replaceSync(this.cssText),o&&wE.set(t,r))}return r}toString(){return this.cssText}};const W5=i=>new $S(typeof i=="string"?i:i+"",void 0,yx),rs=(i,...r)=>{const t=i.length===1?i[0]:r.reduce((o,l,u)=>o+(d=>{if(d._$cssResult$===!0)return d.cssText;if(typeof d=="number")return d;throw Error("Value passed to 'css' function must be a 'css' function result: "+d+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(l)+i[u+1],i[0]);return new $S(t,i,yx)},Z5=(i,r)=>{if(vx)i.adoptedStyleSheets=r.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet);else for(const t of r){const o=document.createElement("style"),l=mv.litNonce;l!==void 0&&o.setAttribute("nonce",l),o.textContent=t.cssText,i.appendChild(o)}},xE=vx?i=>i:i=>i instanceof CSSStyleSheet?(r=>{let t="";for(const o of r.cssRules)t+=o.cssText;return W5(t)})(i):i;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:Y5,defineProperty:X5,getOwnPropertyDescriptor:K5,getOwnPropertyNames:J5,getOwnPropertySymbols:Q5,getPrototypeOf:$5}=Object,au=globalThis,_E=au.trustedTypes,tR=_E?_E.emptyScript:"",bw=au.reactiveElementPolyfillSupport,vg=(i,r)=>i,Av={toAttribute(i,r){switch(r){case Boolean:i=i?tR:null;break;case Object:case Array:i=i==null?i:JSON.stringify(i)}return i},fromAttribute(i,r){let t=i;switch(r){case Boolean:t=i!==null;break;case Number:t=i===null?null:Number(i);break;case Object:case Array:try{t=JSON.parse(i)}catch{t=null}}return t}},bx=(i,r)=>!Y5(i,r),kE={attribute:!0,type:String,converter:Av,reflect:!1,hasChanged:bx};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),au.litPropertyMetadata??(au.litPropertyMetadata=new WeakMap);class Xd extends HTMLElement{static addInitializer(r){this._$Ei(),(this.l??(this.l=[])).push(r)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(r,t=kE){if(t.state&&(t.attribute=!1),this._$Ei(),this.elementProperties.set(r,t),!t.noAccessor){const o=Symbol(),l=this.getPropertyDescriptor(r,o,t);l!==void 0&&X5(this.prototype,r,l)}}static getPropertyDescriptor(r,t,o){const{get:l,set:u}=K5(this.prototype,r)??{get(){return this[t]},set(d){this[t]=d}};return{get(){return l==null?void 0:l.call(this)},set(d){const p=l==null?void 0:l.call(this);u.call(this,d),this.requestUpdate(r,p,o)},configurable:!0,enumerable:!0}}static getPropertyOptions(r){return this.elementProperties.get(r)??kE}static _$Ei(){if(this.hasOwnProperty(vg("elementProperties")))return;const r=$5(this);r.finalize(),r.l!==void 0&&(this.l=[...r.l]),this.elementProperties=new Map(r.elementProperties)}static finalize(){if(this.hasOwnProperty(vg("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(vg("properties"))){const t=this.properties,o=[...J5(t),...Q5(t)];for(const l of o)this.createProperty(l,t[l])}const r=this[Symbol.metadata];if(r!==null){const t=litPropertyMetadata.get(r);if(t!==void 0)for(const[o,l]of t)this.elementProperties.set(o,l)}this._$Eh=new Map;for(const[t,o]of this.elementProperties){const l=this._$Eu(t,o);l!==void 0&&this._$Eh.set(l,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(r){const t=[];if(Array.isArray(r)){const o=new Set(r.flat(1/0).reverse());for(const l of o)t.unshift(xE(l))}else r!==void 0&&t.push(xE(r));return t}static _$Eu(r,t){const o=t.attribute;return o===!1?void 0:typeof o=="string"?o:typeof r=="string"?r.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var r;this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),(r=this.constructor.l)==null||r.forEach(t=>t(this))}addController(r){var t;(this._$EO??(this._$EO=new Set)).add(r),this.renderRoot!==void 0&&this.isConnected&&((t=r.hostConnected)==null||t.call(r))}removeController(r){var t;(t=this._$EO)==null||t.delete(r)}_$E_(){const r=new Map,t=this.constructor.elementProperties;for(const o of t.keys())this.hasOwnProperty(o)&&(r.set(o,this[o]),delete this[o]);r.size>0&&(this._$Ep=r)}createRenderRoot(){const r=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Z5(r,this.constructor.elementStyles),r}connectedCallback(){var r;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(r=this._$EO)==null||r.forEach(t=>{var o;return(o=t.hostConnected)==null?void 0:o.call(t)})}enableUpdating(r){}disconnectedCallback(){var r;(r=this._$EO)==null||r.forEach(t=>{var o;return(o=t.hostDisconnected)==null?void 0:o.call(t)})}attributeChangedCallback(r,t,o){this._$AK(r,o)}_$EC(r,t){var u;const o=this.constructor.elementProperties.get(r),l=this.constructor._$Eu(r,o);if(l!==void 0&&o.reflect===!0){const d=(((u=o.converter)==null?void 0:u.toAttribute)!==void 0?o.converter:Av).toAttribute(t,o.type);this._$Em=r,d==null?this.removeAttribute(l):this.setAttribute(l,d),this._$Em=null}}_$AK(r,t){var u;const o=this.constructor,l=o._$Eh.get(r);if(l!==void 0&&this._$Em!==l){const d=o.getPropertyOptions(l),p=typeof d.converter=="function"?{fromAttribute:d.converter}:((u=d.converter)==null?void 0:u.fromAttribute)!==void 0?d.converter:Av;this._$Em=l,this[l]=p.fromAttribute(t,d.type),this._$Em=null}}requestUpdate(r,t,o){if(r!==void 0){if(o??(o=this.constructor.getPropertyOptions(r)),!(o.hasChanged??bx)(this[r],t))return;this.P(r,t,o)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(r,t,o){this._$AL.has(r)||this._$AL.set(r,t),o.reflect===!0&&this._$Em!==r&&(this._$Ej??(this._$Ej=new Set)).add(r)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const r=this.scheduleUpdate();return r!=null&&await r,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var o;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[u,d]of this._$Ep)this[u]=d;this._$Ep=void 0}const l=this.constructor.elementProperties;if(l.size>0)for(const[u,d]of l)d.wrapped!==!0||this._$AL.has(u)||this[u]===void 0||this.P(u,this[u],d)}let r=!1;const t=this._$AL;try{r=this.shouldUpdate(t),r?(this.willUpdate(t),(o=this._$EO)==null||o.forEach(l=>{var u;return(u=l.hostUpdate)==null?void 0:u.call(l)}),this.update(t)):this._$EU()}catch(l){throw r=!1,this._$EU(),l}r&&this._$AE(t)}willUpdate(r){}_$AE(r){var t;(t=this._$EO)==null||t.forEach(o=>{var l;return(l=o.hostUpdated)==null?void 0:l.call(o)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(r)),this.updated(r)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(r){return!0}update(r){this._$Ej&&(this._$Ej=this._$Ej.forEach(t=>this._$EC(t,this[t]))),this._$EU()}updated(r){}firstUpdated(r){}}Xd.elementStyles=[],Xd.shadowRootOptions={mode:"open"},Xd[vg("elementProperties")]=new Map,Xd[vg("finalized")]=new Map,bw==null||bw({ReactiveElement:Xd}),(au.reactiveElementVersions??(au.reactiveElementVersions=[])).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const yg=globalThis,Rv=yg.trustedTypes,EE=Rv?Rv.createPolicy("lit-html",{createHTML:i=>i}):void 0,tC="$lit$",ru=`lit$${(Math.random()+"").slice(9)}$`,eC="?"+ru,eR=`<${eC}>`,kh=document,Ag=()=>kh.createComment(""),Rg=i=>i===null||typeof i!="object"&&typeof i!="function",rC=Array.isArray,rR=i=>rC(i)||typeof(i==null?void 0:i[Symbol.iterator])=="function",ww=`[ 	
\f\r]`,Jf=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,TE=/-->/g,SE=/>/g,dh=RegExp(`>|${ww}(?:([^\\s"'>=/]+)(${ww}*=${ww}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),CE=/'/g,PE=/"/g,iC=/^(?:script|style|textarea|title)$/i,iR=i=>(r,...t)=>({_$litType$:i,strings:r,values:t}),_n=iR(1),Eh=Symbol.for("lit-noChange"),an=Symbol.for("lit-nothing"),ME=new WeakMap,mh=kh.createTreeWalker(kh,129);function nC(i,r){if(!Array.isArray(i)||!i.hasOwnProperty("raw"))throw Error("invalid template strings array");return EE!==void 0?EE.createHTML(r):r}const nR=(i,r)=>{const t=i.length-1,o=[];let l,u=r===2?"<svg>":"",d=Jf;for(let p=0;p<t;p++){const m=i[p];let v,x,k=-1,C=0;for(;C<m.length&&(d.lastIndex=C,x=d.exec(m),x!==null);)C=d.lastIndex,d===Jf?x[1]==="!--"?d=TE:x[1]!==void 0?d=SE:x[2]!==void 0?(iC.test(x[2])&&(l=RegExp("</"+x[2],"g")),d=dh):x[3]!==void 0&&(d=dh):d===dh?x[0]===">"?(d=l??Jf,k=-1):x[1]===void 0?k=-2:(k=d.lastIndex-x[2].length,v=x[1],d=x[3]===void 0?dh:x[3]==='"'?PE:CE):d===PE||d===CE?d=dh:d===TE||d===SE?d=Jf:(d=dh,l=void 0);const M=d===dh&&i[p+1].startsWith("/>")?" ":"";u+=d===Jf?m+eR:k>=0?(o.push(v),m.slice(0,k)+tC+m.slice(k)+ru+M):m+ru+(k===-2?p:M)}return[nC(i,u+(i[t]||"<?>")+(r===2?"</svg>":"")),o]};class Og{constructor({strings:r,_$litType$:t},o){let l;this.parts=[];let u=0,d=0;const p=r.length-1,m=this.parts,[v,x]=nR(r,t);if(this.el=Og.createElement(v,o),mh.currentNode=this.el.content,t===2){const k=this.el.content.firstChild;k.replaceWith(...k.childNodes)}for(;(l=mh.nextNode())!==null&&m.length<p;){if(l.nodeType===1){if(l.hasAttributes())for(const k of l.getAttributeNames())if(k.endsWith(tC)){const C=x[d++],M=l.getAttribute(k).split(ru),I=/([.?@])?(.*)/.exec(C);m.push({type:1,index:u,name:I[2],strings:M,ctor:I[1]==="."?sR:I[1]==="?"?aR:I[1]==="@"?lR:ky}),l.removeAttribute(k)}else k.startsWith(ru)&&(m.push({type:6,index:u}),l.removeAttribute(k));if(iC.test(l.tagName)){const k=l.textContent.split(ru),C=k.length-1;if(C>0){l.textContent=Rv?Rv.emptyScript:"";for(let M=0;M<C;M++)l.append(k[M],Ag()),mh.nextNode(),m.push({type:2,index:++u});l.append(k[C],Ag())}}}else if(l.nodeType===8)if(l.data===eC)m.push({type:2,index:u});else{let k=-1;for(;(k=l.data.indexOf(ru,k+1))!==-1;)m.push({type:7,index:u}),k+=ru.length-1}u++}}static createElement(r,t){const o=kh.createElement("template");return o.innerHTML=r,o}}function gp(i,r,t=i,o){var d,p;if(r===Eh)return r;let l=o!==void 0?(d=t._$Co)==null?void 0:d[o]:t._$Cl;const u=Rg(r)?void 0:r._$litDirective$;return(l==null?void 0:l.constructor)!==u&&((p=l==null?void 0:l._$AO)==null||p.call(l,!1),u===void 0?l=void 0:(l=new u(i),l._$AT(i,t,o)),o!==void 0?(t._$Co??(t._$Co=[]))[o]=l:t._$Cl=l),l!==void 0&&(r=gp(i,l._$AS(i,r.values),l,o)),r}class oR{constructor(r,t){this._$AV=[],this._$AN=void 0,this._$AD=r,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(r){const{el:{content:t},parts:o}=this._$AD,l=((r==null?void 0:r.creationScope)??kh).importNode(t,!0);mh.currentNode=l;let u=mh.nextNode(),d=0,p=0,m=o[0];for(;m!==void 0;){if(d===m.index){let v;m.type===2?v=new im(u,u.nextSibling,this,r):m.type===1?v=new m.ctor(u,m.name,m.strings,this,r):m.type===6&&(v=new cR(u,this,r)),this._$AV.push(v),m=o[++p]}d!==(m==null?void 0:m.index)&&(u=mh.nextNode(),d++)}return mh.currentNode=kh,l}p(r){let t=0;for(const o of this._$AV)o!==void 0&&(o.strings!==void 0?(o._$AI(r,o,t),t+=o.strings.length-2):o._$AI(r[t])),t++}}class im{get _$AU(){var r;return((r=this._$AM)==null?void 0:r._$AU)??this._$Cv}constructor(r,t,o,l){this.type=2,this._$AH=an,this._$AN=void 0,this._$AA=r,this._$AB=t,this._$AM=o,this.options=l,this._$Cv=(l==null?void 0:l.isConnected)??!0}get parentNode(){let r=this._$AA.parentNode;const t=this._$AM;return t!==void 0&&(r==null?void 0:r.nodeType)===11&&(r=t.parentNode),r}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(r,t=this){r=gp(this,r,t),Rg(r)?r===an||r==null||r===""?(this._$AH!==an&&this._$AR(),this._$AH=an):r!==this._$AH&&r!==Eh&&this._(r):r._$litType$!==void 0?this.$(r):r.nodeType!==void 0?this.T(r):rR(r)?this.k(r):this._(r)}S(r){return this._$AA.parentNode.insertBefore(r,this._$AB)}T(r){this._$AH!==r&&(this._$AR(),this._$AH=this.S(r))}_(r){this._$AH!==an&&Rg(this._$AH)?this._$AA.nextSibling.data=r:this.T(kh.createTextNode(r)),this._$AH=r}$(r){var u;const{values:t,_$litType$:o}=r,l=typeof o=="number"?this._$AC(r):(o.el===void 0&&(o.el=Og.createElement(nC(o.h,o.h[0]),this.options)),o);if(((u=this._$AH)==null?void 0:u._$AD)===l)this._$AH.p(t);else{const d=new oR(l,this),p=d.u(this.options);d.p(t),this.T(p),this._$AH=d}}_$AC(r){let t=ME.get(r.strings);return t===void 0&&ME.set(r.strings,t=new Og(r)),t}k(r){rC(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let o,l=0;for(const u of r)l===t.length?t.push(o=new im(this.S(Ag()),this.S(Ag()),this,this.options)):o=t[l],o._$AI(u),l++;l<t.length&&(this._$AR(o&&o._$AB.nextSibling,l),t.length=l)}_$AR(r=this._$AA.nextSibling,t){var o;for((o=this._$AP)==null?void 0:o.call(this,!1,!0,t);r&&r!==this._$AB;){const l=r.nextSibling;r.remove(),r=l}}setConnected(r){var t;this._$AM===void 0&&(this._$Cv=r,(t=this._$AP)==null||t.call(this,r))}}let ky=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(r,t,o,l,u){this.type=1,this._$AH=an,this._$AN=void 0,this.element=r,this.name=t,this._$AM=l,this.options=u,o.length>2||o[0]!==""||o[1]!==""?(this._$AH=Array(o.length-1).fill(new String),this.strings=o):this._$AH=an}_$AI(r,t=this,o,l){const u=this.strings;let d=!1;if(u===void 0)r=gp(this,r,t,0),d=!Rg(r)||r!==this._$AH&&r!==Eh,d&&(this._$AH=r);else{const p=r;let m,v;for(r=u[0],m=0;m<u.length-1;m++)v=gp(this,p[o+m],t,m),v===Eh&&(v=this._$AH[m]),d||(d=!Rg(v)||v!==this._$AH[m]),v===an?r=an:r!==an&&(r+=(v??"")+u[m+1]),this._$AH[m]=v}d&&!l&&this.j(r)}j(r){r===an?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,r??"")}},sR=class extends ky{constructor(){super(...arguments),this.type=3}j(r){this.element[this.name]=r===an?void 0:r}},aR=class extends ky{constructor(){super(...arguments),this.type=4}j(r){this.element.toggleAttribute(this.name,!!r&&r!==an)}};class lR extends ky{constructor(r,t,o,l,u){super(r,t,o,l,u),this.type=5}_$AI(r,t=this){if((r=gp(this,r,t,0)??an)===Eh)return;const o=this._$AH,l=r===an&&o!==an||r.capture!==o.capture||r.once!==o.once||r.passive!==o.passive,u=r!==an&&(o===an||l);l&&this.element.removeEventListener(this.name,this,o),u&&this.element.addEventListener(this.name,this,r),this._$AH=r}handleEvent(r){var t;typeof this._$AH=="function"?this._$AH.call(((t=this.options)==null?void 0:t.host)??this.element,r):this._$AH.handleEvent(r)}}let cR=class{constructor(r,t,o){this.element=r,this.type=6,this._$AN=void 0,this._$AM=t,this.options=o}get _$AU(){return this._$AM._$AU}_$AI(r){gp(this,r)}};const xw=yg.litHtmlPolyfillSupport;xw==null||xw(Og,im),(yg.litHtmlVersions??(yg.litHtmlVersions=[])).push("3.1.2");const uR=(i,r,t)=>{const o=(t==null?void 0:t.renderBefore)??r;let l=o._$litPart$;if(l===void 0){const u=(t==null?void 0:t.renderBefore)??null;o._$litPart$=l=new im(r.insertBefore(Ag(),u),u,void 0,t??{})}return l._$AI(i),l};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let bg=class extends Xd{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t;const r=super.createRenderRoot();return(t=this.renderOptions).renderBefore??(t.renderBefore=r.firstChild),r}update(r){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(r),this._$Do=uR(t,this.renderRoot,this.renderOptions)}connectedCallback(){var r;super.connectedCallback(),(r=this._$Do)==null||r.setConnected(!0)}disconnectedCallback(){var r;super.disconnectedCallback(),(r=this._$Do)==null||r.setConnected(!1)}render(){return Eh}};var iS;bg._$litElement$=!0,bg.finalized=!0,(iS=globalThis.litElementHydrateSupport)==null||iS.call(globalThis,{LitElement:bg});const _w=globalThis.litElementPolyfillSupport;_w==null||_w({LitElement:bg});(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.0.4");var ks=rs`
  :host {
    box-sizing: border-box;
  }

  :host *,
  :host *::before,
  :host *::after {
    box-sizing: inherit;
  }

  [hidden] {
    display: none !important;
  }
`,hR=rs`
  ${ks}

  :host {
    --track-width: 2px;
    --track-color: rgb(128 128 128 / 25%);
    --indicator-color: var(--sl-color-primary-600);
    --speed: 2s;

    display: inline-flex;
    width: 1em;
    height: 1em;
    flex: none;
  }

  .spinner {
    flex: 1 1 auto;
    height: 100%;
    width: 100%;
  }

  .spinner__track,
  .spinner__indicator {
    fill: none;
    stroke-width: var(--track-width);
    r: calc(0.5em - var(--track-width) / 2);
    cx: 0.5em;
    cy: 0.5em;
    transform-origin: 50% 50%;
  }

  .spinner__track {
    stroke: var(--track-color);
    transform-origin: 0% 0%;
  }

  .spinner__indicator {
    stroke: var(--indicator-color);
    stroke-linecap: round;
    stroke-dasharray: 150% 75%;
    animation: spin var(--speed) linear infinite;
  }

  @keyframes spin {
    0% {
      transform: rotate(0deg);
      stroke-dasharray: 0.05em, 3em;
    }

    50% {
      transform: rotate(450deg);
      stroke-dasharray: 1.375em, 1.375em;
    }

    100% {
      transform: rotate(1080deg);
      stroke-dasharray: 0.05em, 3em;
    }
  }
`;const c1=new Set,dR=new MutationObserver(lC),ep=new Map;let oC=document.documentElement.dir||"ltr",sC=document.documentElement.lang||navigator.language,gh;dR.observe(document.documentElement,{attributes:!0,attributeFilter:["dir","lang"]});function aC(...i){i.map(r=>{const t=r.$code.toLowerCase();ep.has(t)?ep.set(t,Object.assign(Object.assign({},ep.get(t)),r)):ep.set(t,r),gh||(gh=r)}),lC()}function lC(){oC=document.documentElement.dir||"ltr",sC=document.documentElement.lang||navigator.language,[...c1.keys()].map(i=>{typeof i.requestUpdate=="function"&&i.requestUpdate()})}let pR=class{constructor(r){this.host=r,this.host.addController(this)}hostConnected(){c1.add(this.host)}hostDisconnected(){c1.delete(this.host)}dir(){return`${this.host.dir||oC}`.toLowerCase()}lang(){return`${this.host.lang||sC}`.toLowerCase()}getTranslationData(r){var t,o;const l=new Intl.Locale(r.replace(/_/g,"-")),u=l==null?void 0:l.language.toLowerCase(),d=(o=(t=l==null?void 0:l.region)===null||t===void 0?void 0:t.toLowerCase())!==null&&o!==void 0?o:"",p=ep.get(`${u}-${d}`),m=ep.get(u);return{locale:l,language:u,region:d,primary:p,secondary:m}}exists(r,t){var o;const{primary:l,secondary:u}=this.getTranslationData((o=t.lang)!==null&&o!==void 0?o:this.lang());return t=Object.assign({includeFallback:!1},t),!!(l&&l[r]||u&&u[r]||t.includeFallback&&gh&&gh[r])}term(r,...t){const{primary:o,secondary:l}=this.getTranslationData(this.lang());let u;if(o&&o[r])u=o[r];else if(l&&l[r])u=l[r];else if(gh&&gh[r])u=gh[r];else return console.error(`No translation found for: ${String(r)}`),String(r);return typeof u=="function"?u(...t):u}date(r,t){return r=new Date(r),new Intl.DateTimeFormat(this.lang(),t).format(r)}number(r,t){return r=Number(r),isNaN(r)?"":new Intl.NumberFormat(this.lang(),t).format(r)}relativeTime(r,t,o){return new Intl.RelativeTimeFormat(this.lang(),o).format(r,t)}};var cC={$code:"en",$name:"English",$dir:"ltr",carousel:"Carousel",clearEntry:"Clear entry",close:"Close",copied:"Copied",copy:"Copy",currentValue:"Current value",error:"Error",goToSlide:(i,r)=>`Go to slide ${i} of ${r}`,hidePassword:"Hide password",loading:"Loading",nextSlide:"Next slide",numOptionsSelected:i=>i===0?"No options selected":i===1?"1 option selected":`${i} options selected`,previousSlide:"Previous slide",progress:"Progress",remove:"Remove",resize:"Resize",scrollToEnd:"Scroll to end",scrollToStart:"Scroll to start",selectAColorFromTheScreen:"Select a color from the screen",showPassword:"Show password",slideNum:i=>`Slide ${i}`,toggleColorFormat:"Toggle color format"};aC(cC);var fR=cC,_u=class extends pR{};aC(fR);var uC=Object.defineProperty,gR=Object.defineProperties,mR=Object.getOwnPropertyDescriptor,vR=Object.getOwnPropertyDescriptors,IE=Object.getOwnPropertySymbols,yR=Object.prototype.hasOwnProperty,bR=Object.prototype.propertyIsEnumerable,kw=(i,r)=>(r=Symbol[i])?r:Symbol.for("Symbol."+i),LE=(i,r,t)=>r in i?uC(i,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[r]=t,ku=(i,r)=>{for(var t in r||(r={}))yR.call(r,t)&&LE(i,t,r[t]);if(IE)for(var t of IE(r))bR.call(r,t)&&LE(i,t,r[t]);return i},Ey=(i,r)=>gR(i,vR(r)),Qt=(i,r,t,o)=>{for(var l=o>1?void 0:o?mR(r,t):r,u=i.length-1,d;u>=0;u--)(d=i[u])&&(l=(o?d(r,t,l):d(l))||l);return o&&l&&uC(r,t,l),l},wR=function(i,r){this[0]=i,this[1]=r},xR=i=>{var r=i[kw("asyncIterator")],t=!1,o,l={};return r==null?(r=i[kw("iterator")](),o=u=>l[u]=d=>r[u](d)):(r=r.call(i),o=u=>l[u]=d=>{if(t){if(t=!1,u==="throw")throw d;return d}return t=!0,{done:!1,value:new wR(new Promise(p=>{var m=r[u](d);if(!(m instanceof Object))throw TypeError("Object expected");p(m)}),1)}}),l[kw("iterator")]=()=>l,o("next"),"throw"in r?o("throw"):l.throw=u=>{throw u},"return"in r&&o("return"),l};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const _R={attribute:!0,type:String,converter:Av,reflect:!1,hasChanged:bx},kR=(i=_R,r,t)=>{const{kind:o,metadata:l}=t;let u=globalThis.litPropertyMetadata.get(l);if(u===void 0&&globalThis.litPropertyMetadata.set(l,u=new Map),u.set(t.name,i),o==="accessor"){const{name:d}=t;return{set(p){const m=r.get.call(this);r.set.call(this,p),this.requestUpdate(d,m,i)},init(p){return p!==void 0&&this.P(d,void 0,i),p}}}if(o==="setter"){const{name:d}=t;return function(p){const m=this[d];r.call(this,p),this.requestUpdate(d,m,i)}}throw Error("Unsupported decorator location: "+o)};function pe(i){return(r,t)=>typeof t=="object"?kR(i,r,t):((o,l,u)=>{const d=l.hasOwnProperty(u);return l.constructor.createProperty(u,d?{...o,wrapped:!0}:o),d?Object.getOwnPropertyDescriptor(l,u):void 0})(i,r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function nm(i){return pe({...i,state:!0,attribute:!1})}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const AE=(i,r,t)=>(t.configurable=!0,t.enumerable=!0,Reflect.decorate&&typeof r!="object"&&Object.defineProperty(i,r,t),t);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function cn(i,r){return(t,o,l)=>{const u=d=>{var p;return((p=d.renderRoot)==null?void 0:p.querySelector(i))??null};if(r){const{get:d,set:p}=typeof o=="object"?t:l??(()=>{const m=Symbol();return{get(){return this[m]},set(v){this[m]=v}}})();return AE(t,o,{get(){let m=d.call(this);return m===void 0&&(m=u(this),(m!==null||this.hasUpdated)&&p.call(this,m)),m}})}return AE(t,o,{get(){return u(this)}})}}var ro=class extends bg{constructor(){super(),Object.entries(this.constructor.dependencies).forEach(([i,r])=>{this.constructor.define(i,r)})}emit(i,r){const t=new CustomEvent(i,ku({bubbles:!0,cancelable:!1,composed:!0,detail:{}},r));return this.dispatchEvent(t),t}static define(i,r=this,t={}){const o=customElements.get(i);if(!o){customElements.define(i,class extends r{},t);return}let l=" (unknown version)",u=l;"version"in r&&r.version&&(l=" v"+r.version),"version"in o&&o.version&&(u=" v"+o.version),!(l&&u&&l===u)&&console.warn(`Attempted to register <${i}>${l}, but <${i}>${u} has already been registered.`)}};ro.version="2.13.1";ro.dependencies={};Qt([pe()],ro.prototype,"dir",2);Qt([pe()],ro.prototype,"lang",2);var Ty=class extends ro{constructor(){super(...arguments),this.localize=new _u(this)}render(){return _n`
      <svg part="base" class="spinner" role="progressbar" aria-label=${this.localize.term("loading")}>
        <circle class="spinner__track"></circle>
        <circle class="spinner__indicator"></circle>
      </svg>
    `}};Ty.styles=hR;var Qf=new WeakMap,$f=new WeakMap,tg=new WeakMap,Ew=new WeakSet,V0=new WeakMap,ER=class{constructor(i,r){this.handleFormData=t=>{const o=this.options.disabled(this.host),l=this.options.name(this.host),u=this.options.value(this.host),d=this.host.tagName.toLowerCase()==="sl-button";this.host.isConnected&&!o&&!d&&typeof l=="string"&&l.length>0&&typeof u<"u"&&(Array.isArray(u)?u.forEach(p=>{t.formData.append(l,p.toString())}):t.formData.append(l,u.toString()))},this.handleFormSubmit=t=>{var o;const l=this.options.disabled(this.host),u=this.options.reportValidity;this.form&&!this.form.noValidate&&((o=Qf.get(this.form))==null||o.forEach(d=>{this.setUserInteracted(d,!0)})),this.form&&!this.form.noValidate&&!l&&!u(this.host)&&(t.preventDefault(),t.stopImmediatePropagation())},this.handleFormReset=()=>{this.options.setValue(this.host,this.options.defaultValue(this.host)),this.setUserInteracted(this.host,!1),V0.set(this.host,[])},this.handleInteraction=t=>{const o=V0.get(this.host);o.includes(t.type)||o.push(t.type),o.length===this.options.assumeInteractionOn.length&&this.setUserInteracted(this.host,!0)},this.checkFormValidity=()=>{if(this.form&&!this.form.noValidate){const t=this.form.querySelectorAll("*");for(const o of t)if(typeof o.checkValidity=="function"&&!o.checkValidity())return!1}return!0},this.reportFormValidity=()=>{if(this.form&&!this.form.noValidate){const t=this.form.querySelectorAll("*");for(const o of t)if(typeof o.reportValidity=="function"&&!o.reportValidity())return!1}return!0},(this.host=i).addController(this),this.options=ku({form:t=>{const o=t.form;if(o){const u=t.getRootNode().getElementById(o);if(u)return u}return t.closest("form")},name:t=>t.name,value:t=>t.value,defaultValue:t=>t.defaultValue,disabled:t=>{var o;return(o=t.disabled)!=null?o:!1},reportValidity:t=>typeof t.reportValidity=="function"?t.reportValidity():!0,checkValidity:t=>typeof t.checkValidity=="function"?t.checkValidity():!0,setValue:(t,o)=>t.value=o,assumeInteractionOn:["sl-input"]},r)}hostConnected(){const i=this.options.form(this.host);i&&this.attachForm(i),V0.set(this.host,[]),this.options.assumeInteractionOn.forEach(r=>{this.host.addEventListener(r,this.handleInteraction)})}hostDisconnected(){this.detachForm(),V0.delete(this.host),this.options.assumeInteractionOn.forEach(i=>{this.host.removeEventListener(i,this.handleInteraction)})}hostUpdated(){const i=this.options.form(this.host);i||this.detachForm(),i&&this.form!==i&&(this.detachForm(),this.attachForm(i)),this.host.hasUpdated&&this.setValidity(this.host.validity.valid)}attachForm(i){i?(this.form=i,Qf.has(this.form)?Qf.get(this.form).add(this.host):Qf.set(this.form,new Set([this.host])),this.form.addEventListener("formdata",this.handleFormData),this.form.addEventListener("submit",this.handleFormSubmit),this.form.addEventListener("reset",this.handleFormReset),$f.has(this.form)||($f.set(this.form,this.form.reportValidity),this.form.reportValidity=()=>this.reportFormValidity()),tg.has(this.form)||(tg.set(this.form,this.form.checkValidity),this.form.checkValidity=()=>this.checkFormValidity())):this.form=void 0}detachForm(){if(!this.form)return;const i=Qf.get(this.form);i&&(i.delete(this.host),i.size<=0&&(this.form.removeEventListener("formdata",this.handleFormData),this.form.removeEventListener("submit",this.handleFormSubmit),this.form.removeEventListener("reset",this.handleFormReset),$f.has(this.form)&&(this.form.reportValidity=$f.get(this.form),$f.delete(this.form)),tg.has(this.form)&&(this.form.checkValidity=tg.get(this.form),tg.delete(this.form)),this.form=void 0))}setUserInteracted(i,r){r?Ew.add(i):Ew.delete(i),i.requestUpdate()}doAction(i,r){if(this.form){const t=document.createElement("button");t.type=i,t.style.position="absolute",t.style.width="0",t.style.height="0",t.style.clipPath="inset(50%)",t.style.overflow="hidden",t.style.whiteSpace="nowrap",r&&(t.name=r.name,t.value=r.value,["formaction","formenctype","formmethod","formnovalidate","formtarget"].forEach(o=>{r.hasAttribute(o)&&t.setAttribute(o,r.getAttribute(o))})),this.form.append(t),t.click(),t.remove()}}getForm(){var i;return(i=this.form)!=null?i:null}reset(i){this.doAction("reset",i)}submit(i){this.doAction("submit",i)}setValidity(i){const r=this.host,t=!!Ew.has(r),o=!!r.required;r.toggleAttribute("data-required",o),r.toggleAttribute("data-optional",!o),r.toggleAttribute("data-invalid",!i),r.toggleAttribute("data-valid",i),r.toggleAttribute("data-user-invalid",!i&&t),r.toggleAttribute("data-user-valid",i&&t)}updateValidity(){const i=this.host;this.setValidity(i.validity.valid)}emitInvalidEvent(i){const r=new CustomEvent("sl-invalid",{bubbles:!1,composed:!1,cancelable:!0,detail:{}});i||r.preventDefault(),this.host.dispatchEvent(r)||i==null||i.preventDefault()}},wx=Object.freeze({badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valid:!0,valueMissing:!1});Object.freeze(Ey(ku({},wx),{valid:!1,valueMissing:!0}));Object.freeze(Ey(ku({},wx),{valid:!1,customError:!0}));var TR=rs`
  ${ks}

  :host {
    display: inline-block;
    position: relative;
    width: auto;
    cursor: pointer;
  }

  .button {
    display: inline-flex;
    align-items: stretch;
    justify-content: center;
    width: 100%;
    border-style: solid;
    border-width: var(--sl-input-border-width);
    font-family: var(--sl-input-font-family);
    font-weight: var(--sl-font-weight-semibold);
    text-decoration: none;
    user-select: none;
    -webkit-user-select: none;
    white-space: nowrap;
    vertical-align: middle;
    padding: 0;
    transition:
      var(--sl-transition-x-fast) background-color,
      var(--sl-transition-x-fast) color,
      var(--sl-transition-x-fast) border,
      var(--sl-transition-x-fast) box-shadow;
    cursor: inherit;
  }

  .button::-moz-focus-inner {
    border: 0;
  }

  .button:focus {
    outline: none;
  }

  .button:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .button--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  /* When disabled, prevent mouse events from bubbling up from children */
  .button--disabled * {
    pointer-events: none;
  }

  .button__prefix,
  .button__suffix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    pointer-events: none;
  }

  .button__label {
    display: inline-block;
  }

  .button__label::slotted(sl-icon) {
    vertical-align: -2px;
  }

  /*
   * Standard buttons
   */

  /* Default */
  .button--standard.button--default {
    background-color: var(--sl-color-neutral-0);
    border-color: var(--sl-color-neutral-300);
    color: var(--sl-color-neutral-700);
  }

  .button--standard.button--default:hover:not(.button--disabled) {
    background-color: var(--sl-color-primary-50);
    border-color: var(--sl-color-primary-300);
    color: var(--sl-color-primary-700);
  }

  .button--standard.button--default:active:not(.button--disabled) {
    background-color: var(--sl-color-primary-100);
    border-color: var(--sl-color-primary-400);
    color: var(--sl-color-primary-700);
  }

  /* Primary */
  .button--standard.button--primary {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--primary:hover:not(.button--disabled) {
    background-color: var(--sl-color-primary-500);
    border-color: var(--sl-color-primary-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--primary:active:not(.button--disabled) {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  /* Success */
  .button--standard.button--success {
    background-color: var(--sl-color-success-600);
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--success:hover:not(.button--disabled) {
    background-color: var(--sl-color-success-500);
    border-color: var(--sl-color-success-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--success:active:not(.button--disabled) {
    background-color: var(--sl-color-success-600);
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  /* Neutral */
  .button--standard.button--neutral {
    background-color: var(--sl-color-neutral-600);
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--neutral:hover:not(.button--disabled) {
    background-color: var(--sl-color-neutral-500);
    border-color: var(--sl-color-neutral-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--neutral:active:not(.button--disabled) {
    background-color: var(--sl-color-neutral-600);
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  /* Warning */
  .button--standard.button--warning {
    background-color: var(--sl-color-warning-600);
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }
  .button--standard.button--warning:hover:not(.button--disabled) {
    background-color: var(--sl-color-warning-500);
    border-color: var(--sl-color-warning-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--warning:active:not(.button--disabled) {
    background-color: var(--sl-color-warning-600);
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  /* Danger */
  .button--standard.button--danger {
    background-color: var(--sl-color-danger-600);
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--danger:hover:not(.button--disabled) {
    background-color: var(--sl-color-danger-500);
    border-color: var(--sl-color-danger-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--danger:active:not(.button--disabled) {
    background-color: var(--sl-color-danger-600);
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  /*
   * Outline buttons
   */

  .button--outline {
    background: none;
    border: solid 1px;
  }

  /* Default */
  .button--outline.button--default {
    border-color: var(--sl-color-neutral-300);
    color: var(--sl-color-neutral-700);
  }

  .button--outline.button--default:hover:not(.button--disabled),
  .button--outline.button--default.button--checked:not(.button--disabled) {
    border-color: var(--sl-color-primary-600);
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--default:active:not(.button--disabled) {
    border-color: var(--sl-color-primary-700);
    background-color: var(--sl-color-primary-700);
    color: var(--sl-color-neutral-0);
  }

  /* Primary */
  .button--outline.button--primary {
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-primary-600);
  }

  .button--outline.button--primary:hover:not(.button--disabled),
  .button--outline.button--primary.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--primary:active:not(.button--disabled) {
    border-color: var(--sl-color-primary-700);
    background-color: var(--sl-color-primary-700);
    color: var(--sl-color-neutral-0);
  }

  /* Success */
  .button--outline.button--success {
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-success-600);
  }

  .button--outline.button--success:hover:not(.button--disabled),
  .button--outline.button--success.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--success:active:not(.button--disabled) {
    border-color: var(--sl-color-success-700);
    background-color: var(--sl-color-success-700);
    color: var(--sl-color-neutral-0);
  }

  /* Neutral */
  .button--outline.button--neutral {
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-600);
  }

  .button--outline.button--neutral:hover:not(.button--disabled),
  .button--outline.button--neutral.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--neutral:active:not(.button--disabled) {
    border-color: var(--sl-color-neutral-700);
    background-color: var(--sl-color-neutral-700);
    color: var(--sl-color-neutral-0);
  }

  /* Warning */
  .button--outline.button--warning {
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-warning-600);
  }

  .button--outline.button--warning:hover:not(.button--disabled),
  .button--outline.button--warning.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--warning:active:not(.button--disabled) {
    border-color: var(--sl-color-warning-700);
    background-color: var(--sl-color-warning-700);
    color: var(--sl-color-neutral-0);
  }

  /* Danger */
  .button--outline.button--danger {
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-danger-600);
  }

  .button--outline.button--danger:hover:not(.button--disabled),
  .button--outline.button--danger.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--danger:active:not(.button--disabled) {
    border-color: var(--sl-color-danger-700);
    background-color: var(--sl-color-danger-700);
    color: var(--sl-color-neutral-0);
  }

  @media (forced-colors: active) {
    .button.button--outline.button--checked:not(.button--disabled) {
      outline: solid 2px transparent;
    }
  }

  /*
   * Text buttons
   */

  .button--text {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-600);
  }

  .button--text:hover:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-500);
  }

  .button--text:focus-visible:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-500);
  }

  .button--text:active:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-700);
  }

  /*
   * Size modifiers
   */

  .button--small {
    height: auto;
    min-height: var(--sl-input-height-small);
    font-size: var(--sl-button-font-size-small);
    line-height: calc(var(--sl-input-height-small) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-small);
  }

  .button--medium {
    height: auto;
    min-height: var(--sl-input-height-medium);
    font-size: var(--sl-button-font-size-medium);
    line-height: calc(var(--sl-input-height-medium) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-medium);
  }

  .button--large {
    height: auto;
    min-height: var(--sl-input-height-large);
    font-size: var(--sl-button-font-size-large);
    line-height: calc(var(--sl-input-height-large) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-large);
  }

  /*
   * Pill modifier
   */

  .button--pill.button--small {
    border-radius: var(--sl-input-height-small);
  }

  .button--pill.button--medium {
    border-radius: var(--sl-input-height-medium);
  }

  .button--pill.button--large {
    border-radius: var(--sl-input-height-large);
  }

  /*
   * Circle modifier
   */

  .button--circle {
    padding-left: 0;
    padding-right: 0;
  }

  .button--circle.button--small {
    width: var(--sl-input-height-small);
    border-radius: 50%;
  }

  .button--circle.button--medium {
    width: var(--sl-input-height-medium);
    border-radius: 50%;
  }

  .button--circle.button--large {
    width: var(--sl-input-height-large);
    border-radius: 50%;
  }

  .button--circle .button__prefix,
  .button--circle .button__suffix,
  .button--circle .button__caret {
    display: none;
  }

  /*
   * Caret modifier
   */

  .button--caret .button__suffix {
    display: none;
  }

  .button--caret .button__caret {
    height: auto;
  }

  /*
   * Loading modifier
   */

  .button--loading {
    position: relative;
    cursor: wait;
  }

  .button--loading .button__prefix,
  .button--loading .button__label,
  .button--loading .button__suffix,
  .button--loading .button__caret {
    visibility: hidden;
  }

  .button--loading sl-spinner {
    --indicator-color: currentColor;
    position: absolute;
    font-size: 1em;
    height: 1em;
    width: 1em;
    top: calc(50% - 0.5em);
    left: calc(50% - 0.5em);
  }

  /*
   * Badges
   */

  .button ::slotted(sl-badge) {
    position: absolute;
    top: 0;
    right: 0;
    translate: 50% -50%;
    pointer-events: none;
  }

  .button--rtl ::slotted(sl-badge) {
    right: auto;
    left: 0;
    translate: -50% -50%;
  }

  /*
   * Button spacing
   */

  .button--has-label.button--small .button__label {
    padding: 0 var(--sl-spacing-small);
  }

  .button--has-label.button--medium .button__label {
    padding: 0 var(--sl-spacing-medium);
  }

  .button--has-label.button--large .button__label {
    padding: 0 var(--sl-spacing-large);
  }

  .button--has-prefix.button--small {
    padding-inline-start: var(--sl-spacing-x-small);
  }

  .button--has-prefix.button--small .button__label {
    padding-inline-start: var(--sl-spacing-x-small);
  }

  .button--has-prefix.button--medium {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--medium .button__label {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--large {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--large .button__label {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-suffix.button--small,
  .button--caret.button--small {
    padding-inline-end: var(--sl-spacing-x-small);
  }

  .button--has-suffix.button--small .button__label,
  .button--caret.button--small .button__label {
    padding-inline-end: var(--sl-spacing-x-small);
  }

  .button--has-suffix.button--medium,
  .button--caret.button--medium {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--medium .button__label,
  .button--caret.button--medium .button__label {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--large,
  .button--caret.button--large {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--large .button__label,
  .button--caret.button--large .button__label {
    padding-inline-end: var(--sl-spacing-small);
  }

  /*
   * Button groups support a variety of button types (e.g. buttons with tooltips, buttons as dropdown triggers, etc.).
   * This means buttons aren't always direct descendants of the button group, thus we can't target them with the
   * ::slotted selector. To work around this, the button group component does some magic to add these special classes to
   * buttons and we style them here instead.
   */

  :host(.sl-button-group__button--first:not(.sl-button-group__button--last)) .button {
    border-start-end-radius: 0;
    border-end-end-radius: 0;
  }

  :host(.sl-button-group__button--inner) .button {
    border-radius: 0;
  }

  :host(.sl-button-group__button--last:not(.sl-button-group__button--first)) .button {
    border-start-start-radius: 0;
    border-end-start-radius: 0;
  }

  /* All except the first */
  :host(.sl-button-group__button:not(.sl-button-group__button--first)) {
    margin-inline-start: calc(-1 * var(--sl-input-border-width));
  }

  /* Add a visual separator between solid buttons */
  :host(
      .sl-button-group__button:not(
          .sl-button-group__button--first,
          .sl-button-group__button--radio,
          [variant='default']
        ):not(:hover)
    )
    .button:after {
    content: '';
    position: absolute;
    top: 0;
    inset-inline-start: 0;
    bottom: 0;
    border-left: solid 1px rgb(128 128 128 / 33%);
    mix-blend-mode: multiply;
  }

  /* Bump hovered, focused, and checked buttons up so their focus ring isn't clipped */
  :host(.sl-button-group__button--hover) {
    z-index: 1;
  }

  /* Focus and checked are always on top */
  :host(.sl-button-group__button--focus),
  :host(.sl-button-group__button[checked]) {
    z-index: 2;
  }
`,xx=class{constructor(i,...r){this.slotNames=[],this.handleSlotChange=t=>{const o=t.target;(this.slotNames.includes("[default]")&&!o.name||o.name&&this.slotNames.includes(o.name))&&this.host.requestUpdate()},(this.host=i).addController(this),this.slotNames=r}hasDefaultSlot(){return[...this.host.childNodes].some(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent.trim()!=="")return!0;if(i.nodeType===i.ELEMENT_NODE){const r=i;if(r.tagName.toLowerCase()==="sl-visually-hidden")return!1;if(!r.hasAttribute("slot"))return!0}return!1})}hasNamedSlot(i){return this.host.querySelector(`:scope > [slot="${i}"]`)!==null}test(i){return i==="[default]"?this.hasDefaultSlot():this.hasNamedSlot(i)}hostConnected(){this.host.shadowRoot.addEventListener("slotchange",this.handleSlotChange)}hostDisconnected(){this.host.shadowRoot.removeEventListener("slotchange",this.handleSlotChange)}};function SR(i){if(!i)return"";const r=i.assignedNodes({flatten:!0});let t="";return[...r].forEach(o=>{o.nodeType===Node.TEXT_NODE&&(t+=o.textContent)}),t}var u1="";function RE(i){u1=i}function CR(i=""){if(!u1){const r=[...document.getElementsByTagName("script")],t=r.find(o=>o.hasAttribute("data-shoelace"));if(t)RE(t.getAttribute("data-shoelace"));else{const o=r.find(u=>/shoelace(\.min)?\.js($|\?)/.test(u.src)||/shoelace-autoloader(\.min)?\.js($|\?)/.test(u.src));let l="";o&&(l=o.getAttribute("src")),RE(l.split("/").slice(0,-1).join("/"))}}return u1.replace(/\/$/,"")+(i?`/${i.replace(/^\//,"")}`:"")}var PR={name:"default",resolver:i=>CR(`assets/icons/${i}.svg`)},MR=PR,OE={caret:`
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <polyline points="6 9 12 15 18 9"></polyline>
    </svg>
  `,check:`
    <svg part="checked-icon" class="checkbox__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
        <g stroke="currentColor">
          <g transform="translate(3.428571, 3.428571)">
            <path d="M0,5.71428571 L3.42857143,9.14285714"></path>
            <path d="M9.14285714,0 L3.42857143,9.14285714"></path>
          </g>
        </g>
      </g>
    </svg>
  `,"chevron-down":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-down" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,"chevron-left":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-left" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
    </svg>
  `,"chevron-right":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,copy:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-copy" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M4 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V2Zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H6ZM2 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1h1v1a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1v1H2Z"/>
    </svg>
  `,eye:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">
      <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
      <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
    </svg>
  `,"eye-slash":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye-slash" viewBox="0 0 16 16">
      <path d="M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"/>
      <path d="M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z"/>
      <path d="M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12-.708.708z"/>
    </svg>
  `,eyedropper:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eyedropper" viewBox="0 0 16 16">
      <path d="M13.354.646a1.207 1.207 0 0 0-1.708 0L8.5 3.793l-.646-.647a.5.5 0 1 0-.708.708L8.293 5l-7.147 7.146A.5.5 0 0 0 1 12.5v1.793l-.854.853a.5.5 0 1 0 .708.707L1.707 15H3.5a.5.5 0 0 0 .354-.146L11 7.707l1.146 1.147a.5.5 0 0 0 .708-.708l-.647-.646 3.147-3.146a1.207 1.207 0 0 0 0-1.708l-2-2zM2 12.707l7-7L10.293 7l-7 7H2v-1.293z"></path>
    </svg>
  `,"grip-vertical":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-grip-vertical" viewBox="0 0 16 16">
      <path d="M7 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path>
    </svg>
  `,indeterminate:`
    <svg part="indeterminate-icon" class="checkbox__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
        <g stroke="currentColor" stroke-width="2">
          <g transform="translate(2.285714, 6.857143)">
            <path d="M10.2857143,1.14285714 L1.14285714,1.14285714"></path>
          </g>
        </g>
      </g>
    </svg>
  `,"person-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
      <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
    </svg>
  `,"play-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16">
      <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"></path>
    </svg>
  `,"pause-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pause-fill" viewBox="0 0 16 16">
      <path d="M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"></path>
    </svg>
  `,radio:`
    <svg part="checked-icon" class="radio__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g fill="currentColor">
          <circle cx="8" cy="8" r="3.42857143"></circle>
        </g>
      </g>
    </svg>
  `,"star-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
    </svg>
  `,"x-lg":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
      <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/>
    </svg>
  `,"x-circle-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle-fill" viewBox="0 0 16 16">
      <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"></path>
    </svg>
  `},IR={name:"system",resolver:i=>i in OE?`data:image/svg+xml,${encodeURIComponent(OE[i])}`:""},LR=IR,AR=[MR,LR],h1=[];function RR(i){h1.push(i)}function OR(i){h1=h1.filter(r=>r!==i)}function zE(i){return AR.find(r=>r.name===i)}var zR=rs`
  ${ks}

  :host {
    display: inline-block;
    width: 1em;
    height: 1em;
    box-sizing: content-box !important;
  }

  svg {
    display: block;
    height: 100%;
    width: 100%;
  }
`;function wo(i,r){const t=ku({waitUntilFirstUpdate:!1},r);return(o,l)=>{const{update:u}=o,d=Array.isArray(i)?i:[i];o.update=function(p){d.forEach(m=>{const v=m;if(p.has(v)){const x=p.get(v),k=this[v];x!==k&&(!t.waitUntilFirstUpdate||this.hasUpdated)&&this[l](x,k)}}),u.call(this,p)}}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const NR=(i,r)=>r===void 0?(i==null?void 0:i._$litType$)!==void 0:(i==null?void 0:i._$litType$)===r,DR=i=>i.strings===void 0;var eg=Symbol(),W0=Symbol(),Tw,Sw=new Map,ra=class extends ro{constructor(){super(...arguments),this.initialRender=!1,this.svg=null,this.label="",this.library="default"}async resolveIcon(i,r){var t;let o;if(r!=null&&r.spriteSheet)return _n`<svg part="svg">
        <use part="use" href="${i}"></use>
      </svg>`;try{if(o=await fetch(i,{mode:"cors"}),!o.ok)return o.status===410?eg:W0}catch{return W0}try{const l=document.createElement("div");l.innerHTML=await o.text();const u=l.firstElementChild;if(((t=u==null?void 0:u.tagName)==null?void 0:t.toLowerCase())!=="svg")return eg;Tw||(Tw=new DOMParser);const p=Tw.parseFromString(u.outerHTML,"text/html").body.querySelector("svg");return p?(p.part.add("svg"),document.adoptNode(p)):eg}catch{return eg}}connectedCallback(){super.connectedCallback(),RR(this)}firstUpdated(){this.initialRender=!0,this.setIcon()}disconnectedCallback(){super.disconnectedCallback(),OR(this)}getIconSource(){const i=zE(this.library);return this.name&&i?{url:i.resolver(this.name),fromLibrary:!0}:{url:this.src,fromLibrary:!1}}handleLabelChange(){typeof this.label=="string"&&this.label.length>0?(this.setAttribute("role","img"),this.setAttribute("aria-label",this.label),this.removeAttribute("aria-hidden")):(this.removeAttribute("role"),this.removeAttribute("aria-label"),this.setAttribute("aria-hidden","true"))}async setIcon(){var i;const{url:r,fromLibrary:t}=this.getIconSource(),o=t?zE(this.library):void 0;if(!r){this.svg=null;return}let l=Sw.get(r);if(l||(l=this.resolveIcon(r,o),Sw.set(r,l)),!this.initialRender)return;const u=await l;if(u===W0&&Sw.delete(r),r===this.getIconSource().url){if(NR(u)){this.svg=u;return}switch(u){case W0:case eg:this.svg=null,this.emit("sl-error");break;default:this.svg=u.cloneNode(!0),(i=o==null?void 0:o.mutator)==null||i.call(o,this.svg),this.emit("sl-load")}}}render(){return this.svg}};ra.styles=zR;Qt([nm()],ra.prototype,"svg",2);Qt([pe({reflect:!0})],ra.prototype,"name",2);Qt([pe()],ra.prototype,"src",2);Qt([pe()],ra.prototype,"label",2);Qt([pe({reflect:!0})],ra.prototype,"library",2);Qt([wo("label")],ra.prototype,"handleLabelChange",1);Qt([wo(["name","src","library"])],ra.prototype,"setIcon",1);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const hC={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},dC=i=>(...r)=>({_$litDirective$:i,values:r});let pC=class{constructor(r){}get _$AU(){return this._$AM._$AU}_$AT(r,t,o){this._$Ct=r,this._$AM=t,this._$Ci=o}_$AS(r,t){return this.update(r,t)}update(r,t){return this.render(...t)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Da=dC(class extends pC{constructor(i){var r;if(super(i),i.type!==hC.ATTRIBUTE||i.name!=="class"||((r=i.strings)==null?void 0:r.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(i){return" "+Object.keys(i).filter(r=>i[r]).join(" ")+" "}update(i,[r]){var o,l;if(this.st===void 0){this.st=new Set,i.strings!==void 0&&(this.nt=new Set(i.strings.join(" ").split(/\s/).filter(u=>u!=="")));for(const u in r)r[u]&&!((o=this.nt)!=null&&o.has(u))&&this.st.add(u);return this.render(r)}const t=i.element.classList;for(const u of this.st)u in r||(t.remove(u),this.st.delete(u));for(const u in r){const d=!!r[u];d===this.st.has(u)||(l=this.nt)!=null&&l.has(u)||(d?(t.add(u),this.st.add(u)):(t.remove(u),this.st.delete(u)))}return Eh}});/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const fC=Symbol.for(""),FR=i=>{if((i==null?void 0:i.r)===fC)return i==null?void 0:i._$litStatic$},Ov=(i,...r)=>({_$litStatic$:r.reduce((t,o,l)=>t+(u=>{if(u._$litStatic$!==void 0)return u._$litStatic$;throw Error(`Value passed to 'literal' function must be a 'literal' result: ${u}. Use 'unsafeStatic' to pass non-literal values, but
            take care to ensure page security.`)})(o)+i[l+1],i[0]),r:fC}),NE=new Map,BR=i=>(r,...t)=>{const o=t.length;let l,u;const d=[],p=[];let m,v=0,x=!1;for(;v<o;){for(m=r[v];v<o&&(u=t[v],(l=FR(u))!==void 0);)m+=l+r[++v],x=!0;v!==o&&p.push(u),d.push(m),v++}if(v===o&&d.push(r[o]),x){const k=d.join("$$lit$$");(r=NE.get(k))===void 0&&(d.raw=d,NE.set(k,r=d)),t=p}return i(r,...t)},vv=BR(_n);/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const sn=i=>i??an;var bi=class extends ro{constructor(){super(...arguments),this.formControlController=new ER(this,{assumeInteractionOn:["click"]}),this.hasSlotController=new xx(this,"[default]","prefix","suffix"),this.localize=new _u(this),this.hasFocus=!1,this.invalid=!1,this.title="",this.variant="default",this.size="medium",this.caret=!1,this.disabled=!1,this.loading=!1,this.outline=!1,this.pill=!1,this.circle=!1,this.type="button",this.name="",this.value="",this.href="",this.rel="noreferrer noopener"}get validity(){return this.isButton()?this.button.validity:wx}get validationMessage(){return this.isButton()?this.button.validationMessage:""}firstUpdated(){this.isButton()&&this.formControlController.updateValidity()}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleClick(){this.type==="submit"&&this.formControlController.submit(this),this.type==="reset"&&this.formControlController.reset(this)}handleInvalid(i){this.formControlController.setValidity(!1),this.formControlController.emitInvalidEvent(i)}isButton(){return!this.href}isLink(){return!!this.href}handleDisabledChange(){this.isButton()&&this.formControlController.setValidity(this.disabled)}click(){this.button.click()}focus(i){this.button.focus(i)}blur(){this.button.blur()}checkValidity(){return this.isButton()?this.button.checkValidity():!0}getForm(){return this.formControlController.getForm()}reportValidity(){return this.isButton()?this.button.reportValidity():!0}setCustomValidity(i){this.isButton()&&(this.button.setCustomValidity(i),this.formControlController.updateValidity())}render(){const i=this.isLink(),r=i?Ov`a`:Ov`button`;return vv`
      <${r}
        part="base"
        class=${Da({button:!0,"button--default":this.variant==="default","button--primary":this.variant==="primary","button--success":this.variant==="success","button--neutral":this.variant==="neutral","button--warning":this.variant==="warning","button--danger":this.variant==="danger","button--text":this.variant==="text","button--small":this.size==="small","button--medium":this.size==="medium","button--large":this.size==="large","button--caret":this.caret,"button--circle":this.circle,"button--disabled":this.disabled,"button--focused":this.hasFocus,"button--loading":this.loading,"button--standard":!this.outline,"button--outline":this.outline,"button--pill":this.pill,"button--rtl":this.localize.dir()==="rtl","button--has-label":this.hasSlotController.test("[default]"),"button--has-prefix":this.hasSlotController.test("prefix"),"button--has-suffix":this.hasSlotController.test("suffix")})}
        ?disabled=${sn(i?void 0:this.disabled)}
        type=${sn(i?void 0:this.type)}
        title=${this.title}
        name=${sn(i?void 0:this.name)}
        value=${sn(i?void 0:this.value)}
        href=${sn(i?this.href:void 0)}
        target=${sn(i?this.target:void 0)}
        download=${sn(i?this.download:void 0)}
        rel=${sn(i?this.rel:void 0)}
        role=${sn(i?void 0:"button")}
        aria-disabled=${this.disabled?"true":"false"}
        tabindex=${this.disabled?"-1":"0"}
        @blur=${this.handleBlur}
        @focus=${this.handleFocus}
        @invalid=${this.isButton()?this.handleInvalid:null}
        @click=${this.handleClick}
      >
        <slot name="prefix" part="prefix" class="button__prefix"></slot>
        <slot part="label" class="button__label"></slot>
        <slot name="suffix" part="suffix" class="button__suffix"></slot>
        ${this.caret?vv` <sl-icon part="caret" class="button__caret" library="system" name="caret"></sl-icon> `:""}
        ${this.loading?vv`<sl-spinner part="spinner"></sl-spinner>`:""}
      </${r}>
    `}};bi.styles=TR;bi.dependencies={"sl-icon":ra,"sl-spinner":Ty};Qt([cn(".button")],bi.prototype,"button",2);Qt([nm()],bi.prototype,"hasFocus",2);Qt([nm()],bi.prototype,"invalid",2);Qt([pe()],bi.prototype,"title",2);Qt([pe({reflect:!0})],bi.prototype,"variant",2);Qt([pe({reflect:!0})],bi.prototype,"size",2);Qt([pe({type:Boolean,reflect:!0})],bi.prototype,"caret",2);Qt([pe({type:Boolean,reflect:!0})],bi.prototype,"disabled",2);Qt([pe({type:Boolean,reflect:!0})],bi.prototype,"loading",2);Qt([pe({type:Boolean,reflect:!0})],bi.prototype,"outline",2);Qt([pe({type:Boolean,reflect:!0})],bi.prototype,"pill",2);Qt([pe({type:Boolean,reflect:!0})],bi.prototype,"circle",2);Qt([pe()],bi.prototype,"type",2);Qt([pe()],bi.prototype,"name",2);Qt([pe()],bi.prototype,"value",2);Qt([pe()],bi.prototype,"href",2);Qt([pe()],bi.prototype,"target",2);Qt([pe()],bi.prototype,"rel",2);Qt([pe()],bi.prototype,"download",2);Qt([pe()],bi.prototype,"form",2);Qt([pe({attribute:"formaction"})],bi.prototype,"formAction",2);Qt([pe({attribute:"formenctype"})],bi.prototype,"formEnctype",2);Qt([pe({attribute:"formmethod"})],bi.prototype,"formMethod",2);Qt([pe({attribute:"formnovalidate",type:Boolean})],bi.prototype,"formNoValidate",2);Qt([pe({attribute:"formtarget"})],bi.prototype,"formTarget",2);Qt([wo("disabled",{waitUntilFirstUpdate:!0})],bi.prototype,"handleDisabledChange",1);bi.define("sl-button");var DE=new WeakMap;function gC(i){let r=DE.get(i);return r||(r=window.getComputedStyle(i,null),DE.set(i,r)),r}function jR(i){if(typeof i.checkVisibility=="function")return i.checkVisibility({checkOpacity:!1,checkVisibilityCSS:!0});const r=gC(i);return r.visibility!=="hidden"&&r.display!=="none"}function HR(i){const r=gC(i),{overflowY:t,overflowX:o}=r;return t==="scroll"||o==="scroll"?!0:t!=="auto"||o!=="auto"?!1:i.scrollHeight>i.clientHeight&&t==="auto"||i.scrollWidth>i.clientWidth&&o==="auto"}function UR(i){const r=i.tagName.toLowerCase(),t=Number(i.getAttribute("tabindex"));return i.hasAttribute("tabindex")&&(isNaN(t)||t<=-1)||i.hasAttribute("disabled")||i.closest("[inert]")||r==="input"&&i.getAttribute("type")==="radio"&&!i.hasAttribute("checked")||!jR(i)?!1:(r==="audio"||r==="video")&&i.hasAttribute("controls")||i.hasAttribute("tabindex")||i.hasAttribute("contenteditable")&&i.getAttribute("contenteditable")!=="false"||["button","input","select","textarea","a","audio","video","summary","iframe"].includes(r)?!0:HR(i)}function GR(i){var r,t;const o=d1(i),l=(r=o[0])!=null?r:null,u=(t=o[o.length-1])!=null?t:null;return{start:l,end:u}}function qR(i,r){var t;return((t=i.getRootNode({composed:!0}))==null?void 0:t.host)!==r}function d1(i){const r=new WeakMap,t=[];function o(l){if(l instanceof Element){if(l.hasAttribute("inert")||l.closest("[inert]")||r.has(l))return;r.set(l,!0),!t.includes(l)&&UR(l)&&t.push(l),l instanceof HTMLSlotElement&&qR(l,i)&&l.assignedElements({flatten:!0}).forEach(u=>{o(u)}),l.shadowRoot!==null&&l.shadowRoot.mode==="open"&&o(l.shadowRoot)}for(const u of l.children)o(u)}return o(i),t.sort((l,u)=>{const d=Number(l.getAttribute("tabindex"))||0;return(Number(u.getAttribute("tabindex"))||0)-d})}function*_x(i=document.activeElement){i!=null&&(yield i,"shadowRoot"in i&&i.shadowRoot&&i.shadowRoot.mode!=="closed"&&(yield*xR(_x(i.shadowRoot.activeElement))))}function VR(){return[..._x()].pop()}var rg=[],WR=class{constructor(r){this.tabDirection="forward",this.handleFocusIn=()=>{this.isActive()&&this.checkFocus()},this.handleKeyDown=t=>{var o;if(t.key!=="Tab"||this.isExternalActivated||!this.isActive())return;const l=VR();if(this.previousFocus=l,this.previousFocus&&this.possiblyHasTabbableChildren(this.previousFocus))return;t.shiftKey?this.tabDirection="backward":this.tabDirection="forward";const u=d1(this.element);let d=u.findIndex(m=>m===l);this.previousFocus=this.currentFocus;const p=this.tabDirection==="forward"?1:-1;for(;;){d+p>=u.length?d=0:d+p<0?d=u.length-1:d+=p,this.previousFocus=this.currentFocus;const m=u[d];if(this.tabDirection==="backward"&&this.previousFocus&&this.possiblyHasTabbableChildren(this.previousFocus)||m&&this.possiblyHasTabbableChildren(m))return;t.preventDefault(),this.currentFocus=m,(o=this.currentFocus)==null||o.focus({preventScroll:!1});const v=[..._x()];if(v.includes(this.currentFocus)||!v.includes(this.previousFocus))break}setTimeout(()=>this.checkFocus())},this.handleKeyUp=()=>{this.tabDirection="forward"},this.element=r,this.elementsWithTabbableControls=["iframe"]}activate(){rg.push(this.element),document.addEventListener("focusin",this.handleFocusIn),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}deactivate(){rg=rg.filter(r=>r!==this.element),this.currentFocus=null,document.removeEventListener("focusin",this.handleFocusIn),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)}isActive(){return rg[rg.length-1]===this.element}activateExternal(){this.isExternalActivated=!0}deactivateExternal(){this.isExternalActivated=!1}checkFocus(){if(this.isActive()&&!this.isExternalActivated){const r=d1(this.element);if(!this.element.matches(":focus-within")){const t=r[0],o=r[r.length-1],l=this.tabDirection==="forward"?t:o;typeof(l==null?void 0:l.focus)=="function"&&(this.currentFocus=l,l.focus({preventScroll:!1}))}}}possiblyHasTabbableChildren(r){return this.elementsWithTabbableControls.includes(r.tagName.toLowerCase())||r.hasAttribute("controls")}};function ZR(i,r){return{top:Math.round(i.getBoundingClientRect().top-r.getBoundingClientRect().top),left:Math.round(i.getBoundingClientRect().left-r.getBoundingClientRect().left)}}var p1=new Set;function YR(){const i=document.documentElement.clientWidth;return Math.abs(window.innerWidth-i)}function FE(i){if(p1.add(i),!document.body.classList.contains("sl-scroll-lock")){const r=YR();document.body.classList.add("sl-scroll-lock"),document.body.style.setProperty("--sl-scroll-lock-size",`${r}px`)}}function BE(i){p1.delete(i),p1.size===0&&(document.body.classList.remove("sl-scroll-lock"),document.body.style.removeProperty("--sl-scroll-lock-size"))}function jE(i,r,t="vertical",o="smooth"){const l=ZR(i,r),u=l.top+r.scrollTop,d=l.left+r.scrollLeft,p=r.scrollLeft,m=r.scrollLeft+r.offsetWidth,v=r.scrollTop,x=r.scrollTop+r.offsetHeight;(t==="horizontal"||t==="both")&&(d<p?r.scrollTo({left:d,behavior:o}):d+i.clientWidth>m&&r.scrollTo({left:d-r.offsetWidth+i.clientWidth,behavior:o})),(t==="vertical"||t==="both")&&(u<v?r.scrollTo({top:u,behavior:o}):u+i.clientHeight>x&&r.scrollTo({top:u-r.offsetHeight+i.clientHeight,behavior:o}))}var XR=rs`
  ${ks}

  :host {
    --width: 31rem;
    --header-spacing: var(--sl-spacing-large);
    --body-spacing: var(--sl-spacing-large);
    --footer-spacing: var(--sl-spacing-large);

    display: contents;
  }

  .dialog {
    display: flex;
    align-items: center;
    justify-content: center;
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: var(--sl-z-index-dialog);
  }

  .dialog__panel {
    display: flex;
    flex-direction: column;
    z-index: 2;
    width: var(--width);
    max-width: calc(100% - var(--sl-spacing-2x-large));
    max-height: calc(100% - var(--sl-spacing-2x-large));
    background-color: var(--sl-panel-background-color);
    border-radius: var(--sl-border-radius-medium);
    box-shadow: var(--sl-shadow-x-large);
  }

  .dialog__panel:focus {
    outline: none;
  }

  /* Ensure there's enough vertical padding for phones that don't update vh when chrome appears (e.g. iPhone) */
  @media screen and (max-width: 420px) {
    .dialog__panel {
      max-height: 80vh;
    }
  }

  .dialog--open .dialog__panel {
    display: flex;
    opacity: 1;
  }

  .dialog__header {
    flex: 0 0 auto;
    display: flex;
  }

  .dialog__title {
    flex: 1 1 auto;
    font: inherit;
    font-size: var(--sl-font-size-large);
    line-height: var(--sl-line-height-dense);
    padding: var(--header-spacing);
    margin: 0;
  }

  .dialog__header-actions {
    flex-shrink: 0;
    display: flex;
    flex-wrap: wrap;
    justify-content: end;
    gap: var(--sl-spacing-2x-small);
    padding: 0 var(--header-spacing);
  }

  .dialog__header-actions sl-icon-button,
  .dialog__header-actions ::slotted(sl-icon-button) {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    font-size: var(--sl-font-size-medium);
  }

  .dialog__body {
    flex: 1 1 auto;
    display: block;
    padding: var(--body-spacing);
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }

  .dialog__footer {
    flex: 0 0 auto;
    text-align: right;
    padding: var(--footer-spacing);
  }

  .dialog__footer ::slotted(sl-button:not(:first-of-type)) {
    margin-inline-start: var(--sl-spacing-x-small);
  }

  .dialog:not(.dialog--has-footer) .dialog__footer {
    display: none;
  }

  .dialog__overlay {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-color: var(--sl-overlay-background-color);
  }

  @media (forced-colors: active) {
    .dialog__panel {
      border: solid 1px var(--sl-color-neutral-0);
    }
  }
`,KR=rs`
  ${ks}

  :host {
    display: inline-block;
    color: var(--sl-color-neutral-600);
  }

  .icon-button {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    background: none;
    border: none;
    border-radius: var(--sl-border-radius-medium);
    font-size: inherit;
    color: inherit;
    padding: var(--sl-spacing-x-small);
    cursor: pointer;
    transition: var(--sl-transition-x-fast) color;
    -webkit-appearance: none;
  }

  .icon-button:hover:not(.icon-button--disabled),
  .icon-button:focus-visible:not(.icon-button--disabled) {
    color: var(--sl-color-primary-600);
  }

  .icon-button:active:not(.icon-button--disabled) {
    color: var(--sl-color-primary-700);
  }

  .icon-button:focus {
    outline: none;
  }

  .icon-button--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .icon-button:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .icon-button__icon {
    pointer-events: none;
  }
`,No=class extends ro{constructor(){super(...arguments),this.hasFocus=!1,this.label="",this.disabled=!1}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleClick(i){this.disabled&&(i.preventDefault(),i.stopPropagation())}click(){this.button.click()}focus(i){this.button.focus(i)}blur(){this.button.blur()}render(){const i=!!this.href,r=i?Ov`a`:Ov`button`;return vv`
      <${r}
        part="base"
        class=${Da({"icon-button":!0,"icon-button--disabled":!i&&this.disabled,"icon-button--focused":this.hasFocus})}
        ?disabled=${sn(i?void 0:this.disabled)}
        type=${sn(i?void 0:"button")}
        href=${sn(i?this.href:void 0)}
        target=${sn(i?this.target:void 0)}
        download=${sn(i?this.download:void 0)}
        rel=${sn(i&&this.target?"noreferrer noopener":void 0)}
        role=${sn(i?void 0:"button")}
        aria-disabled=${this.disabled?"true":"false"}
        aria-label="${this.label}"
        tabindex=${this.disabled?"-1":"0"}
        @blur=${this.handleBlur}
        @focus=${this.handleFocus}
        @click=${this.handleClick}
      >
        <sl-icon
          class="icon-button__icon"
          name=${sn(this.name)}
          library=${sn(this.library)}
          src=${sn(this.src)}
          aria-hidden="true"
        ></sl-icon>
      </${r}>
    `}};No.styles=KR;No.dependencies={"sl-icon":ra};Qt([cn(".icon-button")],No.prototype,"button",2);Qt([nm()],No.prototype,"hasFocus",2);Qt([pe()],No.prototype,"name",2);Qt([pe()],No.prototype,"library",2);Qt([pe()],No.prototype,"src",2);Qt([pe()],No.prototype,"href",2);Qt([pe()],No.prototype,"target",2);Qt([pe()],No.prototype,"download",2);Qt([pe()],No.prototype,"label",2);Qt([pe({type:Boolean,reflect:!0})],No.prototype,"disabled",2);var mC=new Map,JR=new WeakMap;function QR(i){return i??{keyframes:[],options:{duration:0}}}function HE(i,r){return r.toLowerCase()==="rtl"?{keyframes:i.rtlKeyframes||i.keyframes,options:i.options}:i}function fc(i,r){mC.set(i,QR(r))}function rc(i,r,t){const o=JR.get(i);if(o!=null&&o[r])return HE(o[r],t.dir);const l=mC.get(r);return l?HE(l,t.dir):{keyframes:[],options:{duration:0}}}function mp(i,r){return new Promise(t=>{function o(l){l.target===i&&(i.removeEventListener(r,o),t())}i.addEventListener(r,o)})}function ic(i,r,t){return new Promise(o=>{if((t==null?void 0:t.duration)===1/0)throw new Error("Promise-based animations must be finite.");const l=i.animate(r,Ey(ku({},t),{duration:$R()?0:t.duration}));l.addEventListener("cancel",o,{once:!0}),l.addEventListener("finish",o,{once:!0})})}function UE(i){return i=i.toString().toLowerCase(),i.indexOf("ms")>-1?parseFloat(i):i.indexOf("s")>-1?parseFloat(i)*1e3:parseFloat(i)}function $R(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches}function nu(i){return Promise.all(i.getAnimations().map(r=>new Promise(t=>{r.cancel(),requestAnimationFrame(t)})))}var bl=class extends ro{constructor(){super(...arguments),this.hasSlotController=new xx(this,"footer"),this.localize=new _u(this),this.modal=new WR(this),this.open=!1,this.label="",this.noHeader=!1,this.handleDocumentKeyDown=i=>{i.key==="Escape"&&this.modal.isActive()&&this.open&&(i.stopPropagation(),this.requestClose("keyboard"))}}firstUpdated(){this.dialog.hidden=!this.open,this.open&&(this.addOpenListeners(),this.modal.activate(),FE(this))}disconnectedCallback(){var i;super.disconnectedCallback(),this.modal.deactivate(),BE(this),(i=this.closeWatcher)==null||i.destroy()}requestClose(i){if(this.emit("sl-request-close",{cancelable:!0,detail:{source:i}}).defaultPrevented){const t=rc(this,"dialog.denyClose",{dir:this.localize.dir()});ic(this.panel,t.keyframes,t.options);return}this.hide()}addOpenListeners(){var i;"CloseWatcher"in window?((i=this.closeWatcher)==null||i.destroy(),this.closeWatcher=new CloseWatcher,this.closeWatcher.onclose=()=>this.requestClose("keyboard")):document.addEventListener("keydown",this.handleDocumentKeyDown)}removeOpenListeners(){var i;(i=this.closeWatcher)==null||i.destroy(),document.removeEventListener("keydown",this.handleDocumentKeyDown)}async handleOpenChange(){if(this.open){this.emit("sl-show"),this.addOpenListeners(),this.originalTrigger=document.activeElement,this.modal.activate(),FE(this);const i=this.querySelector("[autofocus]");i&&i.removeAttribute("autofocus"),await Promise.all([nu(this.dialog),nu(this.overlay)]),this.dialog.hidden=!1,requestAnimationFrame(()=>{this.emit("sl-initial-focus",{cancelable:!0}).defaultPrevented||(i?i.focus({preventScroll:!0}):this.panel.focus({preventScroll:!0})),i&&i.setAttribute("autofocus","")});const r=rc(this,"dialog.show",{dir:this.localize.dir()}),t=rc(this,"dialog.overlay.show",{dir:this.localize.dir()});await Promise.all([ic(this.panel,r.keyframes,r.options),ic(this.overlay,t.keyframes,t.options)]),this.emit("sl-after-show")}else{this.emit("sl-hide"),this.removeOpenListeners(),this.modal.deactivate(),await Promise.all([nu(this.dialog),nu(this.overlay)]);const i=rc(this,"dialog.hide",{dir:this.localize.dir()}),r=rc(this,"dialog.overlay.hide",{dir:this.localize.dir()});await Promise.all([ic(this.overlay,r.keyframes,r.options).then(()=>{this.overlay.hidden=!0}),ic(this.panel,i.keyframes,i.options).then(()=>{this.panel.hidden=!0})]),this.dialog.hidden=!0,this.overlay.hidden=!1,this.panel.hidden=!1,BE(this);const t=this.originalTrigger;typeof(t==null?void 0:t.focus)=="function"&&setTimeout(()=>t.focus()),this.emit("sl-after-hide")}}async show(){if(!this.open)return this.open=!0,mp(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,mp(this,"sl-after-hide")}render(){return _n`
      <div
        part="base"
        class=${Da({dialog:!0,"dialog--open":this.open,"dialog--has-footer":this.hasSlotController.test("footer")})}
      >
        <div part="overlay" class="dialog__overlay" @click=${()=>this.requestClose("overlay")} tabindex="-1"></div>

        <div
          part="panel"
          class="dialog__panel"
          role="dialog"
          aria-modal="true"
          aria-hidden=${this.open?"false":"true"}
          aria-label=${sn(this.noHeader?this.label:void 0)}
          aria-labelledby=${sn(this.noHeader?void 0:"title")}
          tabindex="-1"
        >
          ${this.noHeader?"":_n`
                <header part="header" class="dialog__header">
                  <h2 part="title" class="dialog__title" id="title">
                    <slot name="label"> ${this.label.length>0?this.label:String.fromCharCode(65279)} </slot>
                  </h2>
                  <div part="header-actions" class="dialog__header-actions">
                    <slot name="header-actions"></slot>
                    <sl-icon-button
                      part="close-button"
                      exportparts="base:close-button__base"
                      class="dialog__close"
                      name="x-lg"
                      label=${this.localize.term("close")}
                      library="system"
                      @click="${()=>this.requestClose("close-button")}"
                    ></sl-icon-button>
                  </div>
                </header>
              `}
          ${""}
          <div part="body" class="dialog__body" tabindex="-1"><slot></slot></div>

          <footer part="footer" class="dialog__footer">
            <slot name="footer"></slot>
          </footer>
        </div>
      </div>
    `}};bl.styles=XR;bl.dependencies={"sl-icon-button":No};Qt([cn(".dialog")],bl.prototype,"dialog",2);Qt([cn(".dialog__panel")],bl.prototype,"panel",2);Qt([cn(".dialog__overlay")],bl.prototype,"overlay",2);Qt([pe({type:Boolean,reflect:!0})],bl.prototype,"open",2);Qt([pe({reflect:!0})],bl.prototype,"label",2);Qt([pe({attribute:"no-header",type:Boolean,reflect:!0})],bl.prototype,"noHeader",2);Qt([wo("open",{waitUntilFirstUpdate:!0})],bl.prototype,"handleOpenChange",1);fc("dialog.show",{keyframes:[{opacity:0,scale:.8},{opacity:1,scale:1}],options:{duration:250,easing:"ease"}});fc("dialog.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.8}],options:{duration:250,easing:"ease"}});fc("dialog.denyClose",{keyframes:[{scale:1},{scale:1.02},{scale:1}],options:{duration:250}});fc("dialog.overlay.show",{keyframes:[{opacity:0},{opacity:1}],options:{duration:250}});fc("dialog.overlay.hide",{keyframes:[{opacity:1},{opacity:0}],options:{duration:250}});bl.define("sl-dialog");var t3=rs`
  ${ks}

  :host {
    display: inline-block;
  }

  .dropdown::part(popup) {
    z-index: var(--sl-z-index-dropdown);
  }

  .dropdown[data-current-placement^='top']::part(popup) {
    transform-origin: bottom;
  }

  .dropdown[data-current-placement^='bottom']::part(popup) {
    transform-origin: top;
  }

  .dropdown[data-current-placement^='left']::part(popup) {
    transform-origin: right;
  }

  .dropdown[data-current-placement^='right']::part(popup) {
    transform-origin: left;
  }

  .dropdown__trigger {
    display: block;
  }

  .dropdown__panel {
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    box-shadow: var(--sl-shadow-large);
    border-radius: var(--sl-border-radius-medium);
    pointer-events: none;
  }

  .dropdown--open .dropdown__panel {
    display: block;
    pointer-events: all;
  }

  /* When users slot a menu, make sure it conforms to the popup's auto-size */
  ::slotted(sl-menu) {
    max-width: var(--auto-size-available-width) !important;
    max-height: var(--auto-size-available-height) !important;
  }
`,e3=rs`
  ${ks}

  :host {
    --arrow-color: var(--sl-color-neutral-1000);
    --arrow-size: 6px;

    /*
     * These properties are computed to account for the arrow's dimensions after being rotated 45º. The constant
     * 0.7071 is derived from sin(45), which is the diagonal size of the arrow's container after rotating.
     */
    --arrow-size-diagonal: calc(var(--arrow-size) * 0.7071);
    --arrow-padding-offset: calc(var(--arrow-size-diagonal) - var(--arrow-size));

    display: contents;
  }

  .popup {
    position: absolute;
    isolation: isolate;
    max-width: var(--auto-size-available-width, none);
    max-height: var(--auto-size-available-height, none);
  }

  .popup--fixed {
    position: fixed;
  }

  .popup:not(.popup--active) {
    display: none;
  }

  .popup__arrow {
    position: absolute;
    width: calc(var(--arrow-size-diagonal) * 2);
    height: calc(var(--arrow-size-diagonal) * 2);
    rotate: 45deg;
    background: var(--arrow-color);
    z-index: -1;
  }

  /* Hover bridge */
  .popup-hover-bridge:not(.popup-hover-bridge--visible) {
    display: none;
  }

  .popup-hover-bridge {
    position: fixed;
    z-index: calc(var(--sl-z-index-dropdown) - 1);
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    clip-path: polygon(
      var(--hover-bridge-top-left-x, 0) var(--hover-bridge-top-left-y, 0),
      var(--hover-bridge-top-right-x, 0) var(--hover-bridge-top-right-y, 0),
      var(--hover-bridge-bottom-right-x, 0) var(--hover-bridge-bottom-right-y, 0),
      var(--hover-bridge-bottom-left-x, 0) var(--hover-bridge-bottom-left-y, 0)
    );
  }
`;const du=Math.min,bs=Math.max,zv=Math.round,Z0=Math.floor,pu=i=>({x:i,y:i}),r3={left:"right",right:"left",bottom:"top",top:"bottom"},i3={start:"end",end:"start"};function f1(i,r,t){return bs(i,du(r,t))}function Ip(i,r){return typeof i=="function"?i(r):i}function fu(i){return i.split("-")[0]}function Lp(i){return i.split("-")[1]}function vC(i){return i==="x"?"y":"x"}function kx(i){return i==="y"?"height":"width"}function om(i){return["top","bottom"].includes(fu(i))?"y":"x"}function Ex(i){return vC(om(i))}function n3(i,r,t){t===void 0&&(t=!1);const o=Lp(i),l=Ex(i),u=kx(l);let d=l==="x"?o===(t?"end":"start")?"right":"left":o==="start"?"bottom":"top";return r.reference[u]>r.floating[u]&&(d=Nv(d)),[d,Nv(d)]}function o3(i){const r=Nv(i);return[g1(i),r,g1(r)]}function g1(i){return i.replace(/start|end/g,r=>i3[r])}function s3(i,r,t){const o=["left","right"],l=["right","left"],u=["top","bottom"],d=["bottom","top"];switch(i){case"top":case"bottom":return t?r?l:o:r?o:l;case"left":case"right":return r?u:d;default:return[]}}function a3(i,r,t,o){const l=Lp(i);let u=s3(fu(i),t==="start",o);return l&&(u=u.map(d=>d+"-"+l),r&&(u=u.concat(u.map(g1)))),u}function Nv(i){return i.replace(/left|right|bottom|top/g,r=>r3[r])}function l3(i){return{top:0,right:0,bottom:0,left:0,...i}}function yC(i){return typeof i!="number"?l3(i):{top:i,right:i,bottom:i,left:i}}function Dv(i){return{...i,top:i.y,left:i.x,right:i.x+i.width,bottom:i.y+i.height}}function GE(i,r,t){let{reference:o,floating:l}=i;const u=om(r),d=Ex(r),p=kx(d),m=fu(r),v=u==="y",x=o.x+o.width/2-l.width/2,k=o.y+o.height/2-l.height/2,C=o[p]/2-l[p]/2;let M;switch(m){case"top":M={x,y:o.y-l.height};break;case"bottom":M={x,y:o.y+o.height};break;case"right":M={x:o.x+o.width,y:k};break;case"left":M={x:o.x-l.width,y:k};break;default:M={x:o.x,y:o.y}}switch(Lp(r)){case"start":M[d]-=C*(t&&v?-1:1);break;case"end":M[d]+=C*(t&&v?-1:1);break}return M}const c3=async(i,r,t)=>{const{placement:o="bottom",strategy:l="absolute",middleware:u=[],platform:d}=t,p=u.filter(Boolean),m=await(d.isRTL==null?void 0:d.isRTL(r));let v=await d.getElementRects({reference:i,floating:r,strategy:l}),{x,y:k}=GE(v,o,m),C=o,M={},I=0;for(let D=0;D<p.length;D++){const{name:j,fn:H}=p[D],{x:J,y:q,data:W,reset:st}=await H({x,y:k,initialPlacement:o,placement:C,strategy:l,middlewareData:M,rects:v,platform:d,elements:{reference:i,floating:r}});x=J??x,k=q??k,M={...M,[j]:{...M[j],...W}},st&&I<=50&&(I++,typeof st=="object"&&(st.placement&&(C=st.placement),st.rects&&(v=st.rects===!0?await d.getElementRects({reference:i,floating:r,strategy:l}):st.rects),{x,y:k}=GE(v,C,m)),D=-1)}return{x,y:k,placement:C,strategy:l,middlewareData:M}};async function Tx(i,r){var t;r===void 0&&(r={});const{x:o,y:l,platform:u,rects:d,elements:p,strategy:m}=i,{boundary:v="clippingAncestors",rootBoundary:x="viewport",elementContext:k="floating",altBoundary:C=!1,padding:M=0}=Ip(r,i),I=yC(M),j=p[C?k==="floating"?"reference":"floating":k],H=Dv(await u.getClippingRect({element:(t=await(u.isElement==null?void 0:u.isElement(j)))==null||t?j:j.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(p.floating)),boundary:v,rootBoundary:x,strategy:m})),J=k==="floating"?{...d.floating,x:o,y:l}:d.reference,q=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p.floating)),W=await(u.isElement==null?void 0:u.isElement(q))?await(u.getScale==null?void 0:u.getScale(q))||{x:1,y:1}:{x:1,y:1},st=Dv(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:p,rect:J,offsetParent:q,strategy:m}):J);return{top:(H.top-st.top+I.top)/W.y,bottom:(st.bottom-H.bottom+I.bottom)/W.y,left:(H.left-st.left+I.left)/W.x,right:(st.right-H.right+I.right)/W.x}}const u3=i=>({name:"arrow",options:i,async fn(r){const{x:t,y:o,placement:l,rects:u,platform:d,elements:p,middlewareData:m}=r,{element:v,padding:x=0}=Ip(i,r)||{};if(v==null)return{};const k=yC(x),C={x:t,y:o},M=Ex(l),I=kx(M),D=await d.getDimensions(v),j=M==="y",H=j?"top":"left",J=j?"bottom":"right",q=j?"clientHeight":"clientWidth",W=u.reference[I]+u.reference[M]-C[M]-u.floating[I],st=C[M]-u.reference[M],mt=await(d.getOffsetParent==null?void 0:d.getOffsetParent(v));let gt=mt?mt[q]:0;(!gt||!await(d.isElement==null?void 0:d.isElement(mt)))&&(gt=p.floating[q]||u.floating[I]);const ot=W/2-st/2,U=gt/2-D[I]/2-1,et=du(k[H],U),lt=du(k[J],U),ht=et,Gt=gt-D[I]-lt,St=gt/2-D[I]/2+ot,Lt=f1(ht,St,Gt),xt=!m.arrow&&Lp(l)!=null&&St!==Lt&&u.reference[I]/2-(St<ht?et:lt)-D[I]/2<0,Dt=xt?St<ht?St-ht:St-Gt:0;return{[M]:C[M]+Dt,data:{[M]:Lt,centerOffset:St-Lt-Dt,...xt&&{alignmentOffset:Dt}},reset:xt}}}),h3=function(i){return i===void 0&&(i={}),{name:"flip",options:i,async fn(r){var t,o;const{placement:l,middlewareData:u,rects:d,initialPlacement:p,platform:m,elements:v}=r,{mainAxis:x=!0,crossAxis:k=!0,fallbackPlacements:C,fallbackStrategy:M="bestFit",fallbackAxisSideDirection:I="none",flipAlignment:D=!0,...j}=Ip(i,r);if((t=u.arrow)!=null&&t.alignmentOffset)return{};const H=fu(l),J=fu(p)===p,q=await(m.isRTL==null?void 0:m.isRTL(v.floating)),W=C||(J||!D?[Nv(p)]:o3(p));!C&&I!=="none"&&W.push(...a3(p,D,I,q));const st=[p,...W],mt=await Tx(r,j),gt=[];let ot=((o=u.flip)==null?void 0:o.overflows)||[];if(x&&gt.push(mt[H]),k){const ht=n3(l,d,q);gt.push(mt[ht[0]],mt[ht[1]])}if(ot=[...ot,{placement:l,overflows:gt}],!gt.every(ht=>ht<=0)){var U,et;const ht=(((U=u.flip)==null?void 0:U.index)||0)+1,Gt=st[ht];if(Gt)return{data:{index:ht,overflows:ot},reset:{placement:Gt}};let St=(et=ot.filter(Lt=>Lt.overflows[0]<=0).sort((Lt,xt)=>Lt.overflows[1]-xt.overflows[1])[0])==null?void 0:et.placement;if(!St)switch(M){case"bestFit":{var lt;const Lt=(lt=ot.map(xt=>[xt.placement,xt.overflows.filter(Dt=>Dt>0).reduce((Dt,zt)=>Dt+zt,0)]).sort((xt,Dt)=>xt[1]-Dt[1])[0])==null?void 0:lt[0];Lt&&(St=Lt);break}case"initialPlacement":St=p;break}if(l!==St)return{reset:{placement:St}}}return{}}}};async function d3(i,r){const{placement:t,platform:o,elements:l}=i,u=await(o.isRTL==null?void 0:o.isRTL(l.floating)),d=fu(t),p=Lp(t),m=om(t)==="y",v=["left","top"].includes(d)?-1:1,x=u&&m?-1:1,k=Ip(r,i);let{mainAxis:C,crossAxis:M,alignmentAxis:I}=typeof k=="number"?{mainAxis:k,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...k};return p&&typeof I=="number"&&(M=p==="end"?I*-1:I),m?{x:M*x,y:C*v}:{x:C*v,y:M*x}}const p3=function(i){return i===void 0&&(i=0),{name:"offset",options:i,async fn(r){var t,o;const{x:l,y:u,placement:d,middlewareData:p}=r,m=await d3(r,i);return d===((t=p.offset)==null?void 0:t.placement)&&(o=p.arrow)!=null&&o.alignmentOffset?{}:{x:l+m.x,y:u+m.y,data:{...m,placement:d}}}}},f3=function(i){return i===void 0&&(i={}),{name:"shift",options:i,async fn(r){const{x:t,y:o,placement:l}=r,{mainAxis:u=!0,crossAxis:d=!1,limiter:p={fn:j=>{let{x:H,y:J}=j;return{x:H,y:J}}},...m}=Ip(i,r),v={x:t,y:o},x=await Tx(r,m),k=om(fu(l)),C=vC(k);let M=v[C],I=v[k];if(u){const j=C==="y"?"top":"left",H=C==="y"?"bottom":"right",J=M+x[j],q=M-x[H];M=f1(J,M,q)}if(d){const j=k==="y"?"top":"left",H=k==="y"?"bottom":"right",J=I+x[j],q=I-x[H];I=f1(J,I,q)}const D=p.fn({...r,[C]:M,[k]:I});return{...D,data:{x:D.x-t,y:D.y-o}}}}},g3=function(i){return i===void 0&&(i={}),{name:"size",options:i,async fn(r){const{placement:t,rects:o,platform:l,elements:u}=r,{apply:d=()=>{},...p}=Ip(i,r),m=await Tx(r,p),v=fu(t),x=Lp(t),k=om(t)==="y",{width:C,height:M}=o.floating;let I,D;v==="top"||v==="bottom"?(I=v,D=x===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(D=v,I=x==="end"?"top":"bottom");const j=M-m[I],H=C-m[D],J=!r.middlewareData.shift;let q=j,W=H;if(k){const mt=C-m.left-m.right;W=x||J?du(H,mt):mt}else{const mt=M-m.top-m.bottom;q=x||J?du(j,mt):mt}if(J&&!x){const mt=bs(m.left,0),gt=bs(m.right,0),ot=bs(m.top,0),U=bs(m.bottom,0);k?W=C-2*(mt!==0||gt!==0?mt+gt:bs(m.left,m.right)):q=M-2*(ot!==0||U!==0?ot+U:bs(m.top,m.bottom))}await d({...r,availableWidth:W,availableHeight:q});const st=await l.getDimensions(u.floating);return C!==st.width||M!==st.height?{reset:{rects:!0}}:{}}}};function gu(i){return bC(i)?(i.nodeName||"").toLowerCase():"#document"}function ws(i){var r;return(i==null||(r=i.ownerDocument)==null?void 0:r.defaultView)||window}function gc(i){var r;return(r=(bC(i)?i.ownerDocument:i.document)||window.document)==null?void 0:r.documentElement}function bC(i){return i instanceof Node||i instanceof ws(i).Node}function uc(i){return i instanceof Element||i instanceof ws(i).Element}function fl(i){return i instanceof HTMLElement||i instanceof ws(i).HTMLElement}function qE(i){return typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof ws(i).ShadowRoot}function sm(i){const{overflow:r,overflowX:t,overflowY:o,display:l}=$s(i);return/auto|scroll|overlay|hidden|clip/.test(r+o+t)&&!["inline","contents"].includes(l)}function m3(i){return["table","td","th"].includes(gu(i))}function Sx(i){const r=Cx(),t=$s(i);return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!r&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!r&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(t.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(t.contain||"").includes(o))}function wC(i){let r=vp(i);for(;fl(r)&&!Sy(r);){if(Sx(r))return r;r=vp(r)}return null}function Cx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Sy(i){return["html","body","#document"].includes(gu(i))}function $s(i){return ws(i).getComputedStyle(i)}function Cy(i){return uc(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.pageXOffset,scrollTop:i.pageYOffset}}function vp(i){if(gu(i)==="html")return i;const r=i.assignedSlot||i.parentNode||qE(i)&&i.host||gc(i);return qE(r)?r.host:r}function xC(i){const r=vp(i);return Sy(r)?i.ownerDocument?i.ownerDocument.body:i.body:fl(r)&&sm(r)?r:xC(r)}function zg(i,r,t){var o;r===void 0&&(r=[]),t===void 0&&(t=!0);const l=xC(i),u=l===((o=i.ownerDocument)==null?void 0:o.body),d=ws(l);return u?r.concat(d,d.visualViewport||[],sm(l)?l:[],d.frameElement&&t?zg(d.frameElement):[]):r.concat(l,zg(l,[],t))}function _C(i){const r=$s(i);let t=parseFloat(r.width)||0,o=parseFloat(r.height)||0;const l=fl(i),u=l?i.offsetWidth:t,d=l?i.offsetHeight:o,p=zv(t)!==u||zv(o)!==d;return p&&(t=u,o=d),{width:t,height:o,$:p}}function Px(i){return uc(i)?i:i.contextElement}function cp(i){const r=Px(i);if(!fl(r))return pu(1);const t=r.getBoundingClientRect(),{width:o,height:l,$:u}=_C(r);let d=(u?zv(t.width):t.width)/o,p=(u?zv(t.height):t.height)/l;return(!d||!Number.isFinite(d))&&(d=1),(!p||!Number.isFinite(p))&&(p=1),{x:d,y:p}}const v3=pu(0);function kC(i){const r=ws(i);return!Cx()||!r.visualViewport?v3:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function y3(i,r,t){return r===void 0&&(r=!1),!t||r&&t!==ws(i)?!1:r}function Th(i,r,t,o){r===void 0&&(r=!1),t===void 0&&(t=!1);const l=i.getBoundingClientRect(),u=Px(i);let d=pu(1);r&&(o?uc(o)&&(d=cp(o)):d=cp(i));const p=y3(u,t,o)?kC(u):pu(0);let m=(l.left+p.x)/d.x,v=(l.top+p.y)/d.y,x=l.width/d.x,k=l.height/d.y;if(u){const C=ws(u),M=o&&uc(o)?ws(o):o;let I=C.frameElement;for(;I&&o&&M!==C;){const D=cp(I),j=I.getBoundingClientRect(),H=$s(I),J=j.left+(I.clientLeft+parseFloat(H.paddingLeft))*D.x,q=j.top+(I.clientTop+parseFloat(H.paddingTop))*D.y;m*=D.x,v*=D.y,x*=D.x,k*=D.y,m+=J,v+=q,I=ws(I).frameElement}}return Dv({width:x,height:k,x:m,y:v})}const b3=[":popover-open",":modal"];function EC(i){let r=!1,t=0,o=0;function l(u){try{r=r||i.matches(u)}catch{}}if(b3.forEach(u=>{l(u)}),r){const u=wC(i);if(u){const d=u.getBoundingClientRect();t=d.x,o=d.y}}return[r,t,o]}function w3(i){let{elements:r,rect:t,offsetParent:o,strategy:l}=i;const u=gc(o),[d]=r?EC(r.floating):[!1];if(o===u||d)return t;let p={scrollLeft:0,scrollTop:0},m=pu(1);const v=pu(0),x=fl(o);if((x||!x&&l!=="fixed")&&((gu(o)!=="body"||sm(u))&&(p=Cy(o)),fl(o))){const k=Th(o);m=cp(o),v.x=k.x+o.clientLeft,v.y=k.y+o.clientTop}return{width:t.width*m.x,height:t.height*m.y,x:t.x*m.x-p.scrollLeft*m.x+v.x,y:t.y*m.y-p.scrollTop*m.y+v.y}}function x3(i){return Array.from(i.getClientRects())}function TC(i){return Th(gc(i)).left+Cy(i).scrollLeft}function _3(i){const r=gc(i),t=Cy(i),o=i.ownerDocument.body,l=bs(r.scrollWidth,r.clientWidth,o.scrollWidth,o.clientWidth),u=bs(r.scrollHeight,r.clientHeight,o.scrollHeight,o.clientHeight);let d=-t.scrollLeft+TC(i);const p=-t.scrollTop;return $s(o).direction==="rtl"&&(d+=bs(r.clientWidth,o.clientWidth)-l),{width:l,height:u,x:d,y:p}}function k3(i,r){const t=ws(i),o=gc(i),l=t.visualViewport;let u=o.clientWidth,d=o.clientHeight,p=0,m=0;if(l){u=l.width,d=l.height;const v=Cx();(!v||v&&r==="fixed")&&(p=l.offsetLeft,m=l.offsetTop)}return{width:u,height:d,x:p,y:m}}function E3(i,r){const t=Th(i,!0,r==="fixed"),o=t.top+i.clientTop,l=t.left+i.clientLeft,u=fl(i)?cp(i):pu(1),d=i.clientWidth*u.x,p=i.clientHeight*u.y,m=l*u.x,v=o*u.y;return{width:d,height:p,x:m,y:v}}function VE(i,r,t){let o;if(r==="viewport")o=k3(i,t);else if(r==="document")o=_3(gc(i));else if(uc(r))o=E3(r,t);else{const l=kC(i);o={...r,x:r.x-l.x,y:r.y-l.y}}return Dv(o)}function SC(i,r){const t=vp(i);return t===r||!uc(t)||Sy(t)?!1:$s(t).position==="fixed"||SC(t,r)}function T3(i,r){const t=r.get(i);if(t)return t;let o=zg(i,[],!1).filter(p=>uc(p)&&gu(p)!=="body"),l=null;const u=$s(i).position==="fixed";let d=u?vp(i):i;for(;uc(d)&&!Sy(d);){const p=$s(d),m=Sx(d);!m&&p.position==="fixed"&&(l=null),(u?!m&&!l:!m&&p.position==="static"&&!!l&&["absolute","fixed"].includes(l.position)||sm(d)&&!m&&SC(i,d))?o=o.filter(x=>x!==d):l=p,d=vp(d)}return r.set(i,o),o}function S3(i){let{element:r,boundary:t,rootBoundary:o,strategy:l}=i;const d=[...t==="clippingAncestors"?T3(r,this._c):[].concat(t),o],p=d[0],m=d.reduce((v,x)=>{const k=VE(r,x,l);return v.top=bs(k.top,v.top),v.right=du(k.right,v.right),v.bottom=du(k.bottom,v.bottom),v.left=bs(k.left,v.left),v},VE(r,p,l));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function C3(i){const{width:r,height:t}=_C(i);return{width:r,height:t}}function P3(i,r,t,o){const l=fl(r),u=gc(r),d=t==="fixed",p=Th(i,!0,d,r);let m={scrollLeft:0,scrollTop:0};const v=pu(0);if(l||!l&&!d)if((gu(r)!=="body"||sm(u))&&(m=Cy(r)),l){const D=Th(r,!0,d,r);v.x=D.x+r.clientLeft,v.y=D.y+r.clientTop}else u&&(v.x=TC(u));let x=p.left+m.scrollLeft-v.x,k=p.top+m.scrollTop-v.y;const[C,M,I]=EC(o);return C&&(x+=M,k+=I,l&&(x+=r.clientLeft,k+=r.clientTop)),{x,y:k,width:p.width,height:p.height}}function WE(i,r){return!fl(i)||$s(i).position==="fixed"?null:r?r(i):i.offsetParent}function CC(i,r){const t=ws(i);if(!fl(i))return t;let o=WE(i,r);for(;o&&m3(o)&&$s(o).position==="static";)o=WE(o,r);return o&&(gu(o)==="html"||gu(o)==="body"&&$s(o).position==="static"&&!Sx(o))?t:o||wC(i)||t}const M3=async function(i){const r=this.getOffsetParent||CC,t=this.getDimensions;return{reference:P3(i.reference,await r(i.floating),i.strategy,i.floating),floating:{x:0,y:0,...await t(i.floating)}}};function I3(i){return $s(i).direction==="rtl"}const yv={convertOffsetParentRelativeRectToViewportRelativeRect:w3,getDocumentElement:gc,getClippingRect:S3,getOffsetParent:CC,getElementRects:M3,getClientRects:x3,getDimensions:C3,getScale:cp,isElement:uc,isRTL:I3};function L3(i,r){let t=null,o;const l=gc(i);function u(){var p;clearTimeout(o),(p=t)==null||p.disconnect(),t=null}function d(p,m){p===void 0&&(p=!1),m===void 0&&(m=1),u();const{left:v,top:x,width:k,height:C}=i.getBoundingClientRect();if(p||r(),!k||!C)return;const M=Z0(x),I=Z0(l.clientWidth-(v+k)),D=Z0(l.clientHeight-(x+C)),j=Z0(v),J={rootMargin:-M+"px "+-I+"px "+-D+"px "+-j+"px",threshold:bs(0,du(1,m))||1};let q=!0;function W(st){const mt=st[0].intersectionRatio;if(mt!==m){if(!q)return d();mt?d(!1,mt):o=setTimeout(()=>{d(!1,1e-7)},100)}q=!1}try{t=new IntersectionObserver(W,{...J,root:l.ownerDocument})}catch{t=new IntersectionObserver(W,J)}t.observe(i)}return d(!0),u}function A3(i,r,t,o){o===void 0&&(o={});const{ancestorScroll:l=!0,ancestorResize:u=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:p=typeof IntersectionObserver=="function",animationFrame:m=!1}=o,v=Px(i),x=l||u?[...v?zg(v):[],...zg(r)]:[];x.forEach(H=>{l&&H.addEventListener("scroll",t,{passive:!0}),u&&H.addEventListener("resize",t)});const k=v&&p?L3(v,t):null;let C=-1,M=null;d&&(M=new ResizeObserver(H=>{let[J]=H;J&&J.target===v&&M&&(M.unobserve(r),cancelAnimationFrame(C),C=requestAnimationFrame(()=>{var q;(q=M)==null||q.observe(r)})),t()}),v&&!m&&M.observe(v),M.observe(r));let I,D=m?Th(i):null;m&&j();function j(){const H=Th(i);D&&(H.x!==D.x||H.y!==D.y||H.width!==D.width||H.height!==D.height)&&t(),D=H,I=requestAnimationFrame(j)}return t(),()=>{var H;x.forEach(J=>{l&&J.removeEventListener("scroll",t),u&&J.removeEventListener("resize",t)}),k==null||k(),(H=M)==null||H.disconnect(),M=null,m&&cancelAnimationFrame(I)}}const R3=f3,O3=h3,ZE=g3,z3=u3,N3=(i,r,t)=>{const o=new Map,l={platform:yv,...t},u={...l.platform,_c:o};return c3(i,r,{...l,platform:u})};function D3(i){return F3(i)}function Cw(i){return i.assignedSlot?i.assignedSlot:i.parentNode instanceof ShadowRoot?i.parentNode.host:i.parentNode}function F3(i){for(let r=i;r;r=Cw(r))if(r instanceof Element&&getComputedStyle(r).display==="none")return null;for(let r=Cw(i);r;r=Cw(r)){if(!(r instanceof Element))continue;const t=getComputedStyle(r);if(t.display!=="contents"&&(t.position!=="static"||t.filter!=="none"||r.tagName==="BODY"))return r}return null}function B3(i){return i!==null&&typeof i=="object"&&"getBoundingClientRect"in i}var _i=class extends ro{constructor(){super(...arguments),this.active=!1,this.placement="top",this.strategy="absolute",this.distance=0,this.skidding=0,this.arrow=!1,this.arrowPlacement="anchor",this.arrowPadding=10,this.flip=!1,this.flipFallbackPlacements="",this.flipFallbackStrategy="best-fit",this.flipPadding=0,this.shift=!1,this.shiftPadding=0,this.autoSizePadding=0,this.hoverBridge=!1,this.updateHoverBridge=()=>{if(this.hoverBridge&&this.anchorEl){const i=this.anchorEl.getBoundingClientRect(),r=this.popup.getBoundingClientRect(),t=this.placement.includes("top")||this.placement.includes("bottom");let o=0,l=0,u=0,d=0,p=0,m=0,v=0,x=0;t?i.top<r.top?(o=i.left,l=i.bottom,u=i.right,d=i.bottom,p=r.left,m=r.top,v=r.right,x=r.top):(o=r.left,l=r.bottom,u=r.right,d=r.bottom,p=i.left,m=i.top,v=i.right,x=i.top):i.left<r.left?(o=i.right,l=i.top,u=r.left,d=r.top,p=i.right,m=i.bottom,v=r.left,x=r.bottom):(o=r.right,l=r.top,u=i.left,d=i.top,p=r.right,m=r.bottom,v=i.left,x=i.bottom),this.style.setProperty("--hover-bridge-top-left-x",`${o}px`),this.style.setProperty("--hover-bridge-top-left-y",`${l}px`),this.style.setProperty("--hover-bridge-top-right-x",`${u}px`),this.style.setProperty("--hover-bridge-top-right-y",`${d}px`),this.style.setProperty("--hover-bridge-bottom-left-x",`${p}px`),this.style.setProperty("--hover-bridge-bottom-left-y",`${m}px`),this.style.setProperty("--hover-bridge-bottom-right-x",`${v}px`),this.style.setProperty("--hover-bridge-bottom-right-y",`${x}px`)}}}async connectedCallback(){super.connectedCallback(),await this.updateComplete,this.start()}disconnectedCallback(){super.disconnectedCallback(),this.stop()}async updated(i){super.updated(i),i.has("active")&&(this.active?this.start():this.stop()),i.has("anchor")&&this.handleAnchorChange(),this.active&&(await this.updateComplete,this.reposition())}async handleAnchorChange(){if(await this.stop(),this.anchor&&typeof this.anchor=="string"){const i=this.getRootNode();this.anchorEl=i.getElementById(this.anchor)}else this.anchor instanceof Element||B3(this.anchor)?this.anchorEl=this.anchor:this.anchorEl=this.querySelector('[slot="anchor"]');this.anchorEl instanceof HTMLSlotElement&&(this.anchorEl=this.anchorEl.assignedElements({flatten:!0})[0]),this.anchorEl&&this.start()}start(){this.anchorEl&&(this.cleanup=A3(this.anchorEl,this.popup,()=>{this.reposition()}))}async stop(){return new Promise(i=>{this.cleanup?(this.cleanup(),this.cleanup=void 0,this.removeAttribute("data-current-placement"),this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height"),requestAnimationFrame(()=>i())):i()})}reposition(){if(!this.active||!this.anchorEl)return;const i=[p3({mainAxis:this.distance,crossAxis:this.skidding})];this.sync?i.push(ZE({apply:({rects:t})=>{const o=this.sync==="width"||this.sync==="both",l=this.sync==="height"||this.sync==="both";this.popup.style.width=o?`${t.reference.width}px`:"",this.popup.style.height=l?`${t.reference.height}px`:""}})):(this.popup.style.width="",this.popup.style.height=""),this.flip&&i.push(O3({boundary:this.flipBoundary,fallbackPlacements:this.flipFallbackPlacements,fallbackStrategy:this.flipFallbackStrategy==="best-fit"?"bestFit":"initialPlacement",padding:this.flipPadding})),this.shift&&i.push(R3({boundary:this.shiftBoundary,padding:this.shiftPadding})),this.autoSize?i.push(ZE({boundary:this.autoSizeBoundary,padding:this.autoSizePadding,apply:({availableWidth:t,availableHeight:o})=>{this.autoSize==="vertical"||this.autoSize==="both"?this.style.setProperty("--auto-size-available-height",`${o}px`):this.style.removeProperty("--auto-size-available-height"),this.autoSize==="horizontal"||this.autoSize==="both"?this.style.setProperty("--auto-size-available-width",`${t}px`):this.style.removeProperty("--auto-size-available-width")}})):(this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height")),this.arrow&&i.push(z3({element:this.arrowEl,padding:this.arrowPadding}));const r=this.strategy==="absolute"?t=>yv.getOffsetParent(t,D3):yv.getOffsetParent;N3(this.anchorEl,this.popup,{placement:this.placement,middleware:i,strategy:this.strategy,platform:Ey(ku({},yv),{getOffsetParent:r})}).then(({x:t,y:o,middlewareData:l,placement:u})=>{const d=getComputedStyle(this).direction==="rtl",p={top:"bottom",right:"left",bottom:"top",left:"right"}[u.split("-")[0]];if(this.setAttribute("data-current-placement",u),Object.assign(this.popup.style,{left:`${t}px`,top:`${o}px`}),this.arrow){const m=l.arrow.x,v=l.arrow.y;let x="",k="",C="",M="";if(this.arrowPlacement==="start"){const I=typeof m=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";x=typeof v=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"",k=d?I:"",M=d?"":I}else if(this.arrowPlacement==="end"){const I=typeof m=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";k=d?"":I,M=d?I:"",C=typeof v=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:""}else this.arrowPlacement==="center"?(M=typeof m=="number"?"calc(50% - var(--arrow-size-diagonal))":"",x=typeof v=="number"?"calc(50% - var(--arrow-size-diagonal))":""):(M=typeof m=="number"?`${m}px`:"",x=typeof v=="number"?`${v}px`:"");Object.assign(this.arrowEl.style,{top:x,right:k,bottom:C,left:M,[p]:"calc(var(--arrow-size-diagonal) * -1)"})}}),requestAnimationFrame(()=>this.updateHoverBridge()),this.emit("sl-reposition")}render(){return _n`
      <slot name="anchor" @slotchange=${this.handleAnchorChange}></slot>

      <span
        part="hover-bridge"
        class=${Da({"popup-hover-bridge":!0,"popup-hover-bridge--visible":this.hoverBridge&&this.active})}
      ></span>

      <div
        part="popup"
        class=${Da({popup:!0,"popup--active":this.active,"popup--fixed":this.strategy==="fixed","popup--has-arrow":this.arrow})}
      >
        <slot></slot>
        ${this.arrow?_n`<div part="arrow" class="popup__arrow" role="presentation"></div>`:""}
      </div>
    `}};_i.styles=e3;Qt([cn(".popup")],_i.prototype,"popup",2);Qt([cn(".popup__arrow")],_i.prototype,"arrowEl",2);Qt([pe()],_i.prototype,"anchor",2);Qt([pe({type:Boolean,reflect:!0})],_i.prototype,"active",2);Qt([pe({reflect:!0})],_i.prototype,"placement",2);Qt([pe({reflect:!0})],_i.prototype,"strategy",2);Qt([pe({type:Number})],_i.prototype,"distance",2);Qt([pe({type:Number})],_i.prototype,"skidding",2);Qt([pe({type:Boolean})],_i.prototype,"arrow",2);Qt([pe({attribute:"arrow-placement"})],_i.prototype,"arrowPlacement",2);Qt([pe({attribute:"arrow-padding",type:Number})],_i.prototype,"arrowPadding",2);Qt([pe({type:Boolean})],_i.prototype,"flip",2);Qt([pe({attribute:"flip-fallback-placements",converter:{fromAttribute:i=>i.split(" ").map(r=>r.trim()).filter(r=>r!==""),toAttribute:i=>i.join(" ")}})],_i.prototype,"flipFallbackPlacements",2);Qt([pe({attribute:"flip-fallback-strategy"})],_i.prototype,"flipFallbackStrategy",2);Qt([pe({type:Object})],_i.prototype,"flipBoundary",2);Qt([pe({attribute:"flip-padding",type:Number})],_i.prototype,"flipPadding",2);Qt([pe({type:Boolean})],_i.prototype,"shift",2);Qt([pe({type:Object})],_i.prototype,"shiftBoundary",2);Qt([pe({attribute:"shift-padding",type:Number})],_i.prototype,"shiftPadding",2);Qt([pe({attribute:"auto-size"})],_i.prototype,"autoSize",2);Qt([pe()],_i.prototype,"sync",2);Qt([pe({type:Object})],_i.prototype,"autoSizeBoundary",2);Qt([pe({attribute:"auto-size-padding",type:Number})],_i.prototype,"autoSizePadding",2);Qt([pe({attribute:"hover-bridge",type:Boolean})],_i.prototype,"hoverBridge",2);var Do=class extends ro{constructor(){super(...arguments),this.localize=new _u(this),this.open=!1,this.placement="bottom-start",this.disabled=!1,this.stayOpenOnSelect=!1,this.distance=0,this.skidding=0,this.hoist=!1,this.handleKeyDown=i=>{this.open&&i.key==="Escape"&&(i.stopPropagation(),this.hide(),this.focusOnTrigger())},this.handleDocumentKeyDown=i=>{var r;if(i.key==="Escape"&&this.open&&!this.closeWatcher){i.stopPropagation(),this.focusOnTrigger(),this.hide();return}if(i.key==="Tab"){if(this.open&&((r=document.activeElement)==null?void 0:r.tagName.toLowerCase())==="sl-menu-item"){i.preventDefault(),this.hide(),this.focusOnTrigger();return}setTimeout(()=>{var t,o,l;const u=((t=this.containingElement)==null?void 0:t.getRootNode())instanceof ShadowRoot?(l=(o=document.activeElement)==null?void 0:o.shadowRoot)==null?void 0:l.activeElement:document.activeElement;(!this.containingElement||(u==null?void 0:u.closest(this.containingElement.tagName.toLowerCase()))!==this.containingElement)&&this.hide()})}},this.handleDocumentMouseDown=i=>{const r=i.composedPath();this.containingElement&&!r.includes(this.containingElement)&&this.hide()},this.handlePanelSelect=i=>{const r=i.target;!this.stayOpenOnSelect&&r.tagName.toLowerCase()==="sl-menu"&&(this.hide(),this.focusOnTrigger())}}connectedCallback(){super.connectedCallback(),this.containingElement||(this.containingElement=this)}firstUpdated(){this.panel.hidden=!this.open,this.open&&(this.addOpenListeners(),this.popup.active=!0)}disconnectedCallback(){super.disconnectedCallback(),this.removeOpenListeners(),this.hide()}focusOnTrigger(){const i=this.trigger.assignedElements({flatten:!0})[0];typeof(i==null?void 0:i.focus)=="function"&&i.focus()}getMenu(){return this.panel.assignedElements({flatten:!0}).find(i=>i.tagName.toLowerCase()==="sl-menu")}handleTriggerClick(){this.open?this.hide():(this.show(),this.focusOnTrigger())}async handleTriggerKeyDown(i){if([" ","Enter"].includes(i.key)){i.preventDefault(),this.handleTriggerClick();return}const r=this.getMenu();if(r){const t=r.getAllItems(),o=t[0],l=t[t.length-1];["ArrowDown","ArrowUp","Home","End"].includes(i.key)&&(i.preventDefault(),this.open||(this.show(),await this.updateComplete),t.length>0&&this.updateComplete.then(()=>{(i.key==="ArrowDown"||i.key==="Home")&&(r.setCurrentItem(o),o.focus()),(i.key==="ArrowUp"||i.key==="End")&&(r.setCurrentItem(l),l.focus())}))}}handleTriggerKeyUp(i){i.key===" "&&i.preventDefault()}handleTriggerSlotChange(){this.updateAccessibleTrigger()}updateAccessibleTrigger(){const r=this.trigger.assignedElements({flatten:!0}).find(o=>GR(o).start);let t;if(r){switch(r.tagName.toLowerCase()){case"sl-button":case"sl-icon-button":t=r.button;break;default:t=r}t.setAttribute("aria-haspopup","true"),t.setAttribute("aria-expanded",this.open?"true":"false")}}async show(){if(!this.open)return this.open=!0,mp(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,mp(this,"sl-after-hide")}reposition(){this.popup.reposition()}addOpenListeners(){var i;this.panel.addEventListener("sl-select",this.handlePanelSelect),"CloseWatcher"in window?((i=this.closeWatcher)==null||i.destroy(),this.closeWatcher=new CloseWatcher,this.closeWatcher.onclose=()=>{this.hide(),this.focusOnTrigger()}):this.panel.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keydown",this.handleDocumentKeyDown),document.addEventListener("mousedown",this.handleDocumentMouseDown)}removeOpenListeners(){var i;this.panel&&(this.panel.removeEventListener("sl-select",this.handlePanelSelect),this.panel.removeEventListener("keydown",this.handleKeyDown)),document.removeEventListener("keydown",this.handleDocumentKeyDown),document.removeEventListener("mousedown",this.handleDocumentMouseDown),(i=this.closeWatcher)==null||i.destroy()}async handleOpenChange(){if(this.disabled){this.open=!1;return}if(this.updateAccessibleTrigger(),this.open){this.emit("sl-show"),this.addOpenListeners(),await nu(this),this.panel.hidden=!1,this.popup.active=!0;const{keyframes:i,options:r}=rc(this,"dropdown.show",{dir:this.localize.dir()});await ic(this.popup.popup,i,r),this.emit("sl-after-show")}else{this.emit("sl-hide"),this.removeOpenListeners(),await nu(this);const{keyframes:i,options:r}=rc(this,"dropdown.hide",{dir:this.localize.dir()});await ic(this.popup.popup,i,r),this.panel.hidden=!0,this.popup.active=!1,this.emit("sl-after-hide")}}render(){return _n`
      <sl-popup
        part="base"
        id="dropdown"
        placement=${this.placement}
        distance=${this.distance}
        skidding=${this.skidding}
        strategy=${this.hoist?"fixed":"absolute"}
        flip
        shift
        auto-size="vertical"
        auto-size-padding="10"
        class=${Da({dropdown:!0,"dropdown--open":this.open})}
      >
        <slot
          name="trigger"
          slot="anchor"
          part="trigger"
          class="dropdown__trigger"
          @click=${this.handleTriggerClick}
          @keydown=${this.handleTriggerKeyDown}
          @keyup=${this.handleTriggerKeyUp}
          @slotchange=${this.handleTriggerSlotChange}
        ></slot>

        <div aria-hidden=${this.open?"false":"true"} aria-labelledby="dropdown">
          <slot part="panel" class="dropdown__panel"></slot>
        </div>
      </sl-popup>
    `}};Do.styles=t3;Do.dependencies={"sl-popup":_i};Qt([cn(".dropdown")],Do.prototype,"popup",2);Qt([cn(".dropdown__trigger")],Do.prototype,"trigger",2);Qt([cn(".dropdown__panel")],Do.prototype,"panel",2);Qt([pe({type:Boolean,reflect:!0})],Do.prototype,"open",2);Qt([pe({reflect:!0})],Do.prototype,"placement",2);Qt([pe({type:Boolean,reflect:!0})],Do.prototype,"disabled",2);Qt([pe({attribute:"stay-open-on-select",type:Boolean,reflect:!0})],Do.prototype,"stayOpenOnSelect",2);Qt([pe({attribute:!1})],Do.prototype,"containingElement",2);Qt([pe({type:Number})],Do.prototype,"distance",2);Qt([pe({type:Number})],Do.prototype,"skidding",2);Qt([pe({type:Boolean})],Do.prototype,"hoist",2);Qt([wo("open",{waitUntilFirstUpdate:!0})],Do.prototype,"handleOpenChange",1);fc("dropdown.show",{keyframes:[{opacity:0,scale:.9},{opacity:1,scale:1}],options:{duration:100,easing:"ease"}});fc("dropdown.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.9}],options:{duration:100,easing:"ease"}});Do.define("sl-dropdown");ra.define("sl-icon");var j3=rs`
  ${ks}

  :host {
    display: block;
    position: relative;
    background: var(--sl-panel-background-color);
    border: solid var(--sl-panel-border-width) var(--sl-panel-border-color);
    border-radius: var(--sl-border-radius-medium);
    padding: var(--sl-spacing-x-small) 0;
    overflow: auto;
    overscroll-behavior: none;
  }

  ::slotted(sl-divider) {
    --spacing: var(--sl-spacing-x-small);
  }
`,Mx=class extends ro{connectedCallback(){super.connectedCallback(),this.setAttribute("role","menu")}handleClick(i){const r=["menuitem","menuitemcheckbox"],t=i.composedPath().find(l=>{var u;return r.includes(((u=l==null?void 0:l.getAttribute)==null?void 0:u.call(l,"role"))||"")});if(!t)return;const o=t;o.type==="checkbox"&&(o.checked=!o.checked),this.emit("sl-select",{detail:{item:o}})}handleKeyDown(i){if(i.key==="Enter"||i.key===" "){const r=this.getCurrentItem();i.preventDefault(),i.stopPropagation(),r==null||r.click()}else if(["ArrowDown","ArrowUp","Home","End"].includes(i.key)){const r=this.getAllItems(),t=this.getCurrentItem();let o=t?r.indexOf(t):0;r.length>0&&(i.preventDefault(),i.stopPropagation(),i.key==="ArrowDown"?o++:i.key==="ArrowUp"?o--:i.key==="Home"?o=0:i.key==="End"&&(o=r.length-1),o<0&&(o=r.length-1),o>r.length-1&&(o=0),this.setCurrentItem(r[o]),r[o].focus())}}handleMouseDown(i){const r=i.target;this.isMenuItem(r)&&this.setCurrentItem(r)}handleSlotChange(){const i=this.getAllItems();i.length>0&&this.setCurrentItem(i[0])}isMenuItem(i){var r;return i.tagName.toLowerCase()==="sl-menu-item"||["menuitem","menuitemcheckbox","menuitemradio"].includes((r=i.getAttribute("role"))!=null?r:"")}getAllItems(){return[...this.defaultSlot.assignedElements({flatten:!0})].filter(i=>!(i.inert||!this.isMenuItem(i)))}getCurrentItem(){return this.getAllItems().find(i=>i.getAttribute("tabindex")==="0")}setCurrentItem(i){this.getAllItems().forEach(t=>{t.setAttribute("tabindex",t===i?"0":"-1")})}render(){return _n`
      <slot
        @slotchange=${this.handleSlotChange}
        @click=${this.handleClick}
        @keydown=${this.handleKeyDown}
        @mousedown=${this.handleMouseDown}
      ></slot>
    `}};Mx.styles=j3;Qt([cn("slot")],Mx.prototype,"defaultSlot",2);Mx.define("sl-menu");var H3=rs`
  ${ks}

  :host {
    --submenu-offset: -2px;

    display: block;
  }

  :host([inert]) {
    display: none;
  }

  .menu-item {
    position: relative;
    display: flex;
    align-items: stretch;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    line-height: var(--sl-line-height-normal);
    letter-spacing: var(--sl-letter-spacing-normal);
    color: var(--sl-color-neutral-700);
    padding: var(--sl-spacing-2x-small) var(--sl-spacing-2x-small);
    transition: var(--sl-transition-fast) fill;
    user-select: none;
    -webkit-user-select: none;
    white-space: nowrap;
    cursor: pointer;
  }

  .menu-item.menu-item--disabled {
    outline: none;
    opacity: 0.5;
    cursor: not-allowed;
  }

  .menu-item.menu-item--loading {
    outline: none;
    cursor: wait;
  }

  .menu-item.menu-item--loading *:not(sl-spinner) {
    opacity: 0.5;
  }

  .menu-item--loading sl-spinner {
    --indicator-color: currentColor;
    --track-width: 1px;
    position: absolute;
    font-size: 0.75em;
    top: calc(50% - 0.5em);
    left: 0.65rem;
    opacity: 1;
  }

  .menu-item .menu-item__label {
    flex: 1 1 auto;
    display: inline-block;
    text-overflow: ellipsis;
    overflow: hidden;
  }

  .menu-item .menu-item__prefix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .menu-item .menu-item__prefix::slotted(*) {
    margin-inline-end: var(--sl-spacing-x-small);
  }

  .menu-item .menu-item__suffix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .menu-item .menu-item__suffix::slotted(*) {
    margin-inline-start: var(--sl-spacing-x-small);
  }

  /* Safe triangle */
  .menu-item--submenu-expanded::after {
    content: '';
    position: fixed;
    z-index: calc(var(--sl-z-index-dropdown) - 1);
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    clip-path: polygon(
      var(--safe-triangle-cursor-x, 0) var(--safe-triangle-cursor-y, 0),
      var(--safe-triangle-submenu-start-x, 0) var(--safe-triangle-submenu-start-y, 0),
      var(--safe-triangle-submenu-end-x, 0) var(--safe-triangle-submenu-end-y, 0)
    );
  }

  :host(:focus-visible) {
    outline: none;
  }

  :host(:hover:not([aria-disabled='true'], :focus-visible)) .menu-item,
  .menu-item--submenu-expanded {
    background-color: var(--sl-color-neutral-100);
    color: var(--sl-color-neutral-1000);
  }

  :host(:focus-visible) .menu-item {
    outline: none;
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
    opacity: 1;
  }

  .menu-item .menu-item__check,
  .menu-item .menu-item__chevron {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 1.5em;
    visibility: hidden;
  }

  .menu-item--checked .menu-item__check,
  .menu-item--has-submenu .menu-item__chevron {
    visibility: visible;
  }

  /* Add elevation and z-index to submenus */
  sl-popup::part(popup) {
    box-shadow: var(--sl-shadow-large);
    z-index: var(--sl-z-index-dropdown);
    margin-left: var(--submenu-offset);
  }

  .menu-item--rtl sl-popup::part(popup) {
    margin-left: calc(-1 * var(--submenu-offset));
  }

  @media (forced-colors: active) {
    :host(:hover:not([aria-disabled='true'])) .menu-item,
    :host(:focus-visible) .menu-item {
      outline: dashed 1px SelectedItem;
      outline-offset: -1px;
    }
  }
`;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const wg=(i,r)=>{var o;const t=i._$AN;if(t===void 0)return!1;for(const l of t)(o=l._$AO)==null||o.call(l,r,!1),wg(l,r);return!0},Fv=i=>{let r,t;do{if((r=i._$AM)===void 0)break;t=r._$AN,t.delete(i),i=r}while((t==null?void 0:t.size)===0)},PC=i=>{for(let r;r=i._$AM;i=r){let t=r._$AN;if(t===void 0)r._$AN=t=new Set;else if(t.has(i))break;t.add(i),q3(r)}};function U3(i){this._$AN!==void 0?(Fv(this),this._$AM=i,PC(this)):this._$AM=i}function G3(i,r=!1,t=0){const o=this._$AH,l=this._$AN;if(l!==void 0&&l.size!==0)if(r)if(Array.isArray(o))for(let u=t;u<o.length;u++)wg(o[u],!1),Fv(o[u]);else o!=null&&(wg(o,!1),Fv(o));else wg(this,i)}const q3=i=>{i.type==hC.CHILD&&(i._$AP??(i._$AP=G3),i._$AQ??(i._$AQ=U3))};class V3 extends pC{constructor(){super(...arguments),this._$AN=void 0}_$AT(r,t,o){super._$AT(r,t,o),PC(this),this.isConnected=r._$AU}_$AO(r,t=!0){var o,l;r!==this.isConnected&&(this.isConnected=r,r?(o=this.reconnected)==null||o.call(this):(l=this.disconnected)==null||l.call(this)),t&&(wg(this,r),Fv(this))}setValue(r){if(DR(this._$Ct))this._$Ct._$AI(r,this);else{const t=[...this._$Ct._$AH];t[this._$Ci]=r,this._$Ct._$AI(t,this,0)}}disconnected(){}reconnected(){}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const W3=()=>new Z3;class Z3{}const Pw=new WeakMap,Y3=dC(class extends V3{render(i){return an}update(i,[r]){var o;const t=r!==this.Y;return t&&this.Y!==void 0&&this.rt(void 0),(t||this.lt!==this.ct)&&(this.Y=r,this.ht=(o=i.options)==null?void 0:o.host,this.rt(this.ct=i.element)),an}rt(i){if(typeof this.Y=="function"){const r=this.ht??globalThis;let t=Pw.get(r);t===void 0&&(t=new WeakMap,Pw.set(r,t)),t.get(this.Y)!==void 0&&this.Y.call(this.ht,void 0),t.set(this.Y,i),i!==void 0&&this.Y.call(this.ht,i)}else this.Y.value=i}get lt(){var i,r;return typeof this.Y=="function"?(i=Pw.get(this.ht??globalThis))==null?void 0:i.get(this.Y):(r=this.Y)==null?void 0:r.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});var X3=class{constructor(i,r,t){this.popupRef=W3(),this.enableSubmenuTimer=-1,this.isConnected=!1,this.isPopupConnected=!1,this.skidding=0,this.submenuOpenDelay=100,this.handleMouseMove=o=>{this.host.style.setProperty("--safe-triangle-cursor-x",`${o.clientX}px`),this.host.style.setProperty("--safe-triangle-cursor-y",`${o.clientY}px`)},this.handleMouseOver=()=>{this.hasSlotController.test("submenu")&&this.enableSubmenu()},this.handleKeyDown=o=>{switch(o.key){case"Escape":case"Tab":this.disableSubmenu();break;case"ArrowLeft":o.target!==this.host&&(o.preventDefault(),o.stopPropagation(),this.host.focus(),this.disableSubmenu());break;case"ArrowRight":case"Enter":case" ":this.handleSubmenuEntry(o);break}},this.handleClick=o=>{var l;o.target===this.host?(o.preventDefault(),o.stopPropagation()):o.target instanceof Element&&(o.target.tagName==="sl-menu-item"||(l=o.target.role)!=null&&l.startsWith("menuitem"))&&this.disableSubmenu()},this.handleFocusOut=o=>{o.relatedTarget&&o.relatedTarget instanceof Element&&this.host.contains(o.relatedTarget)||this.disableSubmenu()},this.handlePopupMouseover=o=>{o.stopPropagation()},this.handlePopupReposition=()=>{const o=this.host.renderRoot.querySelector("slot[name='submenu']"),l=o==null?void 0:o.assignedElements({flatten:!0}).filter(x=>x.localName==="sl-menu")[0],u=this.localize.dir()==="rtl";if(!l)return;const{left:d,top:p,width:m,height:v}=l.getBoundingClientRect();this.host.style.setProperty("--safe-triangle-submenu-start-x",`${u?d+m:d}px`),this.host.style.setProperty("--safe-triangle-submenu-start-y",`${p}px`),this.host.style.setProperty("--safe-triangle-submenu-end-x",`${u?d+m:d}px`),this.host.style.setProperty("--safe-triangle-submenu-end-y",`${p+v}px`)},(this.host=i).addController(this),this.hasSlotController=r,this.localize=t}hostConnected(){this.hasSlotController.test("submenu")&&!this.host.disabled&&this.addListeners()}hostDisconnected(){this.removeListeners()}hostUpdated(){this.hasSlotController.test("submenu")&&!this.host.disabled?(this.addListeners(),this.updateSkidding()):this.removeListeners()}addListeners(){this.isConnected||(this.host.addEventListener("mousemove",this.handleMouseMove),this.host.addEventListener("mouseover",this.handleMouseOver),this.host.addEventListener("keydown",this.handleKeyDown),this.host.addEventListener("click",this.handleClick),this.host.addEventListener("focusout",this.handleFocusOut),this.isConnected=!0),this.isPopupConnected||this.popupRef.value&&(this.popupRef.value.addEventListener("mouseover",this.handlePopupMouseover),this.popupRef.value.addEventListener("sl-reposition",this.handlePopupReposition),this.isPopupConnected=!0)}removeListeners(){this.isConnected&&(this.host.removeEventListener("mousemove",this.handleMouseMove),this.host.removeEventListener("mouseover",this.handleMouseOver),this.host.removeEventListener("keydown",this.handleKeyDown),this.host.removeEventListener("click",this.handleClick),this.host.removeEventListener("focusout",this.handleFocusOut),this.isConnected=!1),this.isPopupConnected&&this.popupRef.value&&(this.popupRef.value.removeEventListener("mouseover",this.handlePopupMouseover),this.popupRef.value.removeEventListener("sl-reposition",this.handlePopupReposition),this.isPopupConnected=!1)}handleSubmenuEntry(i){const r=this.host.renderRoot.querySelector("slot[name='submenu']");if(!r){console.error("Cannot activate a submenu if no corresponding menuitem can be found.",this);return}let t=null;for(const o of r.assignedElements())if(t=o.querySelectorAll("sl-menu-item, [role^='menuitem']"),t.length!==0)break;if(!(!t||t.length===0)){t[0].setAttribute("tabindex","0");for(let o=1;o!==t.length;++o)t[o].setAttribute("tabindex","-1");this.popupRef.value&&(i.preventDefault(),i.stopPropagation(),this.popupRef.value.active?t[0]instanceof HTMLElement&&t[0].focus():(this.enableSubmenu(!1),this.host.updateComplete.then(()=>{t[0]instanceof HTMLElement&&t[0].focus()}),this.host.requestUpdate()))}}setSubmenuState(i){this.popupRef.value&&this.popupRef.value.active!==i&&(this.popupRef.value.active=i,this.host.requestUpdate())}enableSubmenu(i=!0){i?this.enableSubmenuTimer=window.setTimeout(()=>{this.setSubmenuState(!0)},this.submenuOpenDelay):this.setSubmenuState(!0)}disableSubmenu(){clearTimeout(this.enableSubmenuTimer),this.setSubmenuState(!1)}updateSkidding(){var i;if(!((i=this.host.parentElement)!=null&&i.computedStyleMap))return;const r=this.host.parentElement.computedStyleMap(),o=["padding-top","border-top-width","margin-top"].reduce((l,u)=>{var d;const p=(d=r.get(u))!=null?d:new CSSUnitValue(0,"px"),v=(p instanceof CSSUnitValue?p:new CSSUnitValue(0,"px")).to("px");return l-v.value},0);this.skidding=o}isExpanded(){return this.popupRef.value?this.popupRef.value.active:!1}renderSubmenu(){const i=this.localize.dir()==="ltr";return this.isConnected?_n`
      <sl-popup
        ${Y3(this.popupRef)}
        placement=${i?"right-start":"left-start"}
        anchor="anchor"
        flip
        flip-fallback-strategy="best-fit"
        skidding="${this.skidding}"
        strategy="fixed"
      >
        <slot name="submenu"></slot>
      </sl-popup>
    `:_n` <slot name="submenu" hidden></slot> `}},Es=class extends ro{constructor(){super(...arguments),this.type="normal",this.checked=!1,this.value="",this.loading=!1,this.disabled=!1,this.localize=new _u(this),this.hasSlotController=new xx(this,"submenu"),this.submenuController=new X3(this,this.hasSlotController,this.localize),this.handleHostClick=i=>{this.disabled&&(i.preventDefault(),i.stopImmediatePropagation())},this.handleMouseOver=i=>{this.focus(),i.stopPropagation()}}connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.handleHostClick),this.addEventListener("mouseover",this.handleMouseOver)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("click",this.handleHostClick),this.removeEventListener("mouseover",this.handleMouseOver)}handleDefaultSlotChange(){const i=this.getTextLabel();if(typeof this.cachedTextLabel>"u"){this.cachedTextLabel=i;return}i!==this.cachedTextLabel&&(this.cachedTextLabel=i,this.emit("slotchange",{bubbles:!0,composed:!1,cancelable:!1}))}handleCheckedChange(){if(this.checked&&this.type!=="checkbox"){this.checked=!1,console.error('The checked attribute can only be used on menu items with type="checkbox"',this);return}this.type==="checkbox"?this.setAttribute("aria-checked",this.checked?"true":"false"):this.removeAttribute("aria-checked")}handleDisabledChange(){this.setAttribute("aria-disabled",this.disabled?"true":"false")}handleTypeChange(){this.type==="checkbox"?(this.setAttribute("role","menuitemcheckbox"),this.setAttribute("aria-checked",this.checked?"true":"false")):(this.setAttribute("role","menuitem"),this.removeAttribute("aria-checked"))}getTextLabel(){return SR(this.defaultSlot)}isSubmenu(){return this.hasSlotController.test("submenu")}render(){const i=this.localize.dir()==="rtl",r=this.submenuController.isExpanded();return _n`
      <div
        id="anchor"
        part="base"
        class=${Da({"menu-item":!0,"menu-item--rtl":i,"menu-item--checked":this.checked,"menu-item--disabled":this.disabled,"menu-item--loading":this.loading,"menu-item--has-submenu":this.isSubmenu(),"menu-item--submenu-expanded":r})}
        ?aria-haspopup="${this.isSubmenu()}"
        ?aria-expanded="${!!r}"
      >
        <span part="checked-icon" class="menu-item__check">
          <sl-icon name="check" library="system" aria-hidden="true"></sl-icon>
        </span>

        <slot name="prefix" part="prefix" class="menu-item__prefix"></slot>

        <slot part="label" class="menu-item__label" @slotchange=${this.handleDefaultSlotChange}></slot>

        <slot name="suffix" part="suffix" class="menu-item__suffix"></slot>

        <span part="submenu-icon" class="menu-item__chevron">
          <sl-icon name=${i?"chevron-left":"chevron-right"} library="system" aria-hidden="true"></sl-icon>
        </span>

        ${this.submenuController.renderSubmenu()}
        ${this.loading?_n` <sl-spinner part="spinner" exportparts="base:spinner__base"></sl-spinner> `:""}
      </div>
    `}};Es.styles=H3;Es.dependencies={"sl-icon":ra,"sl-popup":_i,"sl-spinner":Ty};Qt([cn("slot:not([name])")],Es.prototype,"defaultSlot",2);Qt([cn(".menu-item")],Es.prototype,"menuItem",2);Qt([pe()],Es.prototype,"type",2);Qt([pe({type:Boolean,reflect:!0})],Es.prototype,"checked",2);Qt([pe()],Es.prototype,"value",2);Qt([pe({type:Boolean,reflect:!0})],Es.prototype,"loading",2);Qt([pe({type:Boolean,reflect:!0})],Es.prototype,"disabled",2);Qt([wo("checked")],Es.prototype,"handleCheckedChange",1);Qt([wo("disabled")],Es.prototype,"handleDisabledChange",1);Qt([wo("type")],Es.prototype,"handleTypeChange",1);Es.define("sl-menu-item");Ty.define("sl-spinner");var K3=rs`
  ${ks}

  :host {
    --indicator-color: var(--sl-color-primary-600);
    --track-color: var(--sl-color-neutral-200);
    --track-width: 2px;

    display: block;
  }

  .tab-group {
    display: flex;
    border-radius: 0;
  }

  .tab-group__tabs {
    display: flex;
    position: relative;
  }

  .tab-group__indicator {
    position: absolute;
    transition:
      var(--sl-transition-fast) translate ease,
      var(--sl-transition-fast) width ease;
  }

  .tab-group--has-scroll-controls .tab-group__nav-container {
    position: relative;
    padding: 0 var(--sl-spacing-x-large);
  }

  .tab-group__body {
    display: block;
    overflow: auto;
  }

  .tab-group__scroll-button {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 0;
    bottom: 0;
    width: var(--sl-spacing-x-large);
  }

  .tab-group__scroll-button--start {
    left: 0;
  }

  .tab-group__scroll-button--end {
    right: 0;
  }

  .tab-group--rtl .tab-group__scroll-button--start {
    left: auto;
    right: 0;
  }

  .tab-group--rtl .tab-group__scroll-button--end {
    left: 0;
    right: auto;
  }

  /*
   * Top
   */

  .tab-group--top {
    flex-direction: column;
  }

  .tab-group--top .tab-group__nav-container {
    order: 1;
  }

  .tab-group--top .tab-group__nav {
    display: flex;
    overflow-x: auto;

    /* Hide scrollbar in Firefox */
    scrollbar-width: none;
  }

  /* Hide scrollbar in Chrome/Safari */
  .tab-group--top .tab-group__nav::-webkit-scrollbar {
    width: 0;
    height: 0;
  }

  .tab-group--top .tab-group__tabs {
    flex: 1 1 auto;
    position: relative;
    flex-direction: row;
    border-bottom: solid var(--track-width) var(--track-color);
  }

  .tab-group--top .tab-group__indicator {
    bottom: calc(-1 * var(--track-width));
    border-bottom: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--top .tab-group__body {
    order: 2;
  }

  .tab-group--top ::slotted(sl-tab-panel) {
    --padding: var(--sl-spacing-medium) 0;
  }

  /*
   * Bottom
   */

  .tab-group--bottom {
    flex-direction: column;
  }

  .tab-group--bottom .tab-group__nav-container {
    order: 2;
  }

  .tab-group--bottom .tab-group__nav {
    display: flex;
    overflow-x: auto;

    /* Hide scrollbar in Firefox */
    scrollbar-width: none;
  }

  /* Hide scrollbar in Chrome/Safari */
  .tab-group--bottom .tab-group__nav::-webkit-scrollbar {
    width: 0;
    height: 0;
  }

  .tab-group--bottom .tab-group__tabs {
    flex: 1 1 auto;
    position: relative;
    flex-direction: row;
    border-top: solid var(--track-width) var(--track-color);
  }

  .tab-group--bottom .tab-group__indicator {
    top: calc(-1 * var(--track-width));
    border-top: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--bottom .tab-group__body {
    order: 1;
  }

  .tab-group--bottom ::slotted(sl-tab-panel) {
    --padding: var(--sl-spacing-medium) 0;
  }

  /*
   * Start
   */

  .tab-group--start {
    flex-direction: row;
  }

  .tab-group--start .tab-group__nav-container {
    order: 1;
  }

  .tab-group--start .tab-group__tabs {
    flex: 0 0 auto;
    flex-direction: column;
    border-inline-end: solid var(--track-width) var(--track-color);
  }

  .tab-group--start .tab-group__indicator {
    right: calc(-1 * var(--track-width));
    border-right: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--start.tab-group--rtl .tab-group__indicator {
    right: auto;
    left: calc(-1 * var(--track-width));
  }

  .tab-group--start .tab-group__body {
    flex: 1 1 auto;
    order: 2;
  }

  .tab-group--start ::slotted(sl-tab-panel) {
    --padding: 0 var(--sl-spacing-medium);
  }

  /*
   * End
   */

  .tab-group--end {
    flex-direction: row;
  }

  .tab-group--end .tab-group__nav-container {
    order: 2;
  }

  .tab-group--end .tab-group__tabs {
    flex: 0 0 auto;
    flex-direction: column;
    border-left: solid var(--track-width) var(--track-color);
  }

  .tab-group--end .tab-group__indicator {
    left: calc(-1 * var(--track-width));
    border-inline-start: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--end.tab-group--rtl .tab-group__indicator {
    right: calc(-1 * var(--track-width));
    left: auto;
  }

  .tab-group--end .tab-group__body {
    flex: 1 1 auto;
    order: 1;
  }

  .tab-group--end ::slotted(sl-tab-panel) {
    --padding: 0 var(--sl-spacing-medium);
  }
`,Ts=class extends ro{constructor(){super(...arguments),this.localize=new _u(this),this.tabs=[],this.panels=[],this.hasScrollControls=!1,this.placement="top",this.activation="auto",this.noScrollControls=!1}connectedCallback(){const i=Promise.all([customElements.whenDefined("sl-tab"),customElements.whenDefined("sl-tab-panel")]);super.connectedCallback(),this.resizeObserver=new ResizeObserver(()=>{this.repositionIndicator(),this.updateScrollControls()}),this.mutationObserver=new MutationObserver(r=>{r.some(t=>!["aria-labelledby","aria-controls"].includes(t.attributeName))&&setTimeout(()=>this.setAriaLabels()),r.some(t=>t.attributeName==="disabled")&&this.syncTabsAndPanels()}),this.updateComplete.then(()=>{this.syncTabsAndPanels(),this.mutationObserver.observe(this,{attributes:!0,childList:!0,subtree:!0}),this.resizeObserver.observe(this.nav),i.then(()=>{new IntersectionObserver((t,o)=>{var l;t[0].intersectionRatio>0&&(this.setAriaLabels(),this.setActiveTab((l=this.getActiveTab())!=null?l:this.tabs[0],{emitEvents:!1}),o.unobserve(t[0].target))}).observe(this.tabGroup)})})}disconnectedCallback(){super.disconnectedCallback(),this.mutationObserver.disconnect(),this.resizeObserver.unobserve(this.nav)}getAllTabs(i={includeDisabled:!0}){return[...this.shadowRoot.querySelector('slot[name="nav"]').assignedElements()].filter(t=>i.includeDisabled?t.tagName.toLowerCase()==="sl-tab":t.tagName.toLowerCase()==="sl-tab"&&!t.disabled)}getAllPanels(){return[...this.body.assignedElements()].filter(i=>i.tagName.toLowerCase()==="sl-tab-panel")}getActiveTab(){return this.tabs.find(i=>i.active)}handleClick(i){const t=i.target.closest("sl-tab");(t==null?void 0:t.closest("sl-tab-group"))===this&&t!==null&&this.setActiveTab(t,{scrollBehavior:"smooth"})}handleKeyDown(i){const t=i.target.closest("sl-tab");if((t==null?void 0:t.closest("sl-tab-group"))===this&&(["Enter"," "].includes(i.key)&&t!==null&&(this.setActiveTab(t,{scrollBehavior:"smooth"}),i.preventDefault()),["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(i.key))){const l=this.tabs.find(d=>d.matches(":focus")),u=this.localize.dir()==="rtl";if((l==null?void 0:l.tagName.toLowerCase())==="sl-tab"){let d=this.tabs.indexOf(l);i.key==="Home"?d=0:i.key==="End"?d=this.tabs.length-1:["top","bottom"].includes(this.placement)&&i.key===(u?"ArrowRight":"ArrowLeft")||["start","end"].includes(this.placement)&&i.key==="ArrowUp"?d--:(["top","bottom"].includes(this.placement)&&i.key===(u?"ArrowLeft":"ArrowRight")||["start","end"].includes(this.placement)&&i.key==="ArrowDown")&&d++,d<0&&(d=this.tabs.length-1),d>this.tabs.length-1&&(d=0),this.tabs[d].focus({preventScroll:!0}),this.activation==="auto"&&this.setActiveTab(this.tabs[d],{scrollBehavior:"smooth"}),["top","bottom"].includes(this.placement)&&jE(this.tabs[d],this.nav,"horizontal"),i.preventDefault()}}}handleScrollToStart(){this.nav.scroll({left:this.localize.dir()==="rtl"?this.nav.scrollLeft+this.nav.clientWidth:this.nav.scrollLeft-this.nav.clientWidth,behavior:"smooth"})}handleScrollToEnd(){this.nav.scroll({left:this.localize.dir()==="rtl"?this.nav.scrollLeft-this.nav.clientWidth:this.nav.scrollLeft+this.nav.clientWidth,behavior:"smooth"})}setActiveTab(i,r){if(r=ku({emitEvents:!0,scrollBehavior:"auto"},r),i!==this.activeTab&&!i.disabled){const t=this.activeTab;this.activeTab=i,this.tabs.forEach(o=>o.active=o===this.activeTab),this.panels.forEach(o=>{var l;return o.active=o.name===((l=this.activeTab)==null?void 0:l.panel)}),this.syncIndicator(),["top","bottom"].includes(this.placement)&&jE(this.activeTab,this.nav,"horizontal",r.scrollBehavior),r.emitEvents&&(t&&this.emit("sl-tab-hide",{detail:{name:t.panel}}),this.emit("sl-tab-show",{detail:{name:this.activeTab.panel}}))}}setAriaLabels(){this.tabs.forEach(i=>{const r=this.panels.find(t=>t.name===i.panel);r&&(i.setAttribute("aria-controls",r.getAttribute("id")),r.setAttribute("aria-labelledby",i.getAttribute("id")))})}repositionIndicator(){const i=this.getActiveTab();if(!i)return;const r=i.clientWidth,t=i.clientHeight,o=this.localize.dir()==="rtl",l=this.getAllTabs(),d=l.slice(0,l.indexOf(i)).reduce((p,m)=>({left:p.left+m.clientWidth,top:p.top+m.clientHeight}),{left:0,top:0});switch(this.placement){case"top":case"bottom":this.indicator.style.width=`${r}px`,this.indicator.style.height="auto",this.indicator.style.translate=o?`${-1*d.left}px`:`${d.left}px`;break;case"start":case"end":this.indicator.style.width="auto",this.indicator.style.height=`${t}px`,this.indicator.style.translate=`0 ${d.top}px`;break}}syncTabsAndPanels(){this.tabs=this.getAllTabs({includeDisabled:!1}),this.panels=this.getAllPanels(),this.syncIndicator(),this.updateComplete.then(()=>this.updateScrollControls())}updateScrollControls(){this.noScrollControls?this.hasScrollControls=!1:this.hasScrollControls=["top","bottom"].includes(this.placement)&&this.nav.scrollWidth>this.nav.clientWidth}syncIndicator(){this.getActiveTab()?(this.indicator.style.display="block",this.repositionIndicator()):this.indicator.style.display="none"}show(i){const r=this.tabs.find(t=>t.panel===i);r&&this.setActiveTab(r,{scrollBehavior:"smooth"})}render(){const i=this.localize.dir()==="rtl";return _n`
      <div
        part="base"
        class=${Da({"tab-group":!0,"tab-group--top":this.placement==="top","tab-group--bottom":this.placement==="bottom","tab-group--start":this.placement==="start","tab-group--end":this.placement==="end","tab-group--rtl":this.localize.dir()==="rtl","tab-group--has-scroll-controls":this.hasScrollControls})}
        @click=${this.handleClick}
        @keydown=${this.handleKeyDown}
      >
        <div class="tab-group__nav-container" part="nav">
          ${this.hasScrollControls?_n`
                <sl-icon-button
                  part="scroll-button scroll-button--start"
                  exportparts="base:scroll-button__base"
                  class="tab-group__scroll-button tab-group__scroll-button--start"
                  name=${i?"chevron-right":"chevron-left"}
                  library="system"
                  label=${this.localize.term("scrollToStart")}
                  @click=${this.handleScrollToStart}
                ></sl-icon-button>
              `:""}

          <div class="tab-group__nav">
            <div part="tabs" class="tab-group__tabs" role="tablist">
              <div part="active-tab-indicator" class="tab-group__indicator"></div>
              <slot name="nav" @slotchange=${this.syncTabsAndPanels}></slot>
            </div>
          </div>

          ${this.hasScrollControls?_n`
                <sl-icon-button
                  part="scroll-button scroll-button--end"
                  exportparts="base:scroll-button__base"
                  class="tab-group__scroll-button tab-group__scroll-button--end"
                  name=${i?"chevron-left":"chevron-right"}
                  library="system"
                  label=${this.localize.term("scrollToEnd")}
                  @click=${this.handleScrollToEnd}
                ></sl-icon-button>
              `:""}
        </div>

        <slot part="body" class="tab-group__body" @slotchange=${this.syncTabsAndPanels}></slot>
      </div>
    `}};Ts.styles=K3;Ts.dependencies={"sl-icon-button":No};Qt([cn(".tab-group")],Ts.prototype,"tabGroup",2);Qt([cn(".tab-group__body")],Ts.prototype,"body",2);Qt([cn(".tab-group__nav")],Ts.prototype,"nav",2);Qt([cn(".tab-group__indicator")],Ts.prototype,"indicator",2);Qt([nm()],Ts.prototype,"hasScrollControls",2);Qt([pe()],Ts.prototype,"placement",2);Qt([pe()],Ts.prototype,"activation",2);Qt([pe({attribute:"no-scroll-controls",type:Boolean})],Ts.prototype,"noScrollControls",2);Qt([wo("noScrollControls",{waitUntilFirstUpdate:!0})],Ts.prototype,"updateScrollControls",1);Qt([wo("placement",{waitUntilFirstUpdate:!0})],Ts.prototype,"syncIndicator",1);Ts.define("sl-tab-group");var J3=rs`
  ${ks}

  :host {
    --padding: 0;

    display: none;
  }

  :host([active]) {
    display: block;
  }

  .tab-panel {
    display: block;
    padding: var(--padding);
  }
`,Q3=0,am=class extends ro{constructor(){super(...arguments),this.attrId=++Q3,this.componentId=`sl-tab-panel-${this.attrId}`,this.name="",this.active=!1}connectedCallback(){super.connectedCallback(),this.id=this.id.length>0?this.id:this.componentId,this.setAttribute("role","tabpanel")}handleActiveChange(){this.setAttribute("aria-hidden",this.active?"false":"true")}render(){return _n`
      <slot
        part="base"
        class=${Da({"tab-panel":!0,"tab-panel--active":this.active})}
      ></slot>
    `}};am.styles=J3;Qt([pe({reflect:!0})],am.prototype,"name",2);Qt([pe({type:Boolean,reflect:!0})],am.prototype,"active",2);Qt([wo("active")],am.prototype,"handleActiveChange",1);am.define("sl-tab-panel");var $3=rs`
  ${ks}

  :host {
    display: inline-block;
  }

  .tab {
    display: inline-flex;
    align-items: center;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-small);
    font-weight: var(--sl-font-weight-semibold);
    border-radius: var(--sl-border-radius-medium);
    color: var(--sl-color-neutral-600);
    padding: var(--sl-spacing-medium) var(--sl-spacing-large);
    white-space: nowrap;
    user-select: none;
    -webkit-user-select: none;
    cursor: pointer;
    transition:
      var(--transition-speed) box-shadow,
      var(--transition-speed) color;
  }

  .tab:hover:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab:focus {
    outline: none;
  }

  .tab:focus-visible:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: calc(-1 * var(--sl-focus-ring-width) - var(--sl-focus-ring-offset));
  }

  .tab.tab--active:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab.tab--closable {
    padding-inline-end: var(--sl-spacing-small);
  }

  .tab.tab--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .tab__close-button {
    font-size: var(--sl-font-size-small);
    margin-inline-start: var(--sl-spacing-small);
  }

  .tab__close-button::part(base) {
    padding: var(--sl-spacing-3x-small);
  }

  @media (forced-colors: active) {
    .tab.tab--active:not(.tab--disabled) {
      outline: solid 1px transparent;
      outline-offset: -3px;
    }
  }
`,tO=0,wl=class extends ro{constructor(){super(...arguments),this.localize=new _u(this),this.attrId=++tO,this.componentId=`sl-tab-${this.attrId}`,this.panel="",this.active=!1,this.closable=!1,this.disabled=!1}connectedCallback(){super.connectedCallback(),this.setAttribute("role","tab")}handleCloseClick(i){i.stopPropagation(),this.emit("sl-close")}handleActiveChange(){this.setAttribute("aria-selected",this.active?"true":"false")}handleDisabledChange(){this.setAttribute("aria-disabled",this.disabled?"true":"false")}focus(i){this.tab.focus(i)}blur(){this.tab.blur()}render(){return this.id=this.id.length>0?this.id:this.componentId,_n`
      <div
        part="base"
        class=${Da({tab:!0,"tab--active":this.active,"tab--closable":this.closable,"tab--disabled":this.disabled})}
        tabindex=${this.disabled?"-1":"0"}
      >
        <slot></slot>
        ${this.closable?_n`
              <sl-icon-button
                part="close-button"
                exportparts="base:close-button__base"
                name="x-lg"
                library="system"
                label=${this.localize.term("close")}
                class="tab__close-button"
                @click=${this.handleCloseClick}
                tabindex="-1"
              ></sl-icon-button>
            `:""}
      </div>
    `}};wl.styles=$3;wl.dependencies={"sl-icon-button":No};Qt([cn(".tab")],wl.prototype,"tab",2);Qt([pe({reflect:!0})],wl.prototype,"panel",2);Qt([pe({type:Boolean,reflect:!0})],wl.prototype,"active",2);Qt([pe({type:Boolean})],wl.prototype,"closable",2);Qt([pe({type:Boolean,reflect:!0})],wl.prototype,"disabled",2);Qt([wo("active")],wl.prototype,"handleActiveChange",1);Qt([wo("disabled")],wl.prototype,"handleDisabledChange",1);wl.define("sl-tab");var eO=rs`
  ${ks}

  :host {
    --max-width: 20rem;
    --hide-delay: 0ms;
    --show-delay: 150ms;

    display: contents;
  }

  .tooltip {
    --arrow-size: var(--sl-tooltip-arrow-size);
    --arrow-color: var(--sl-tooltip-background-color);
  }

  .tooltip::part(popup) {
    z-index: var(--sl-z-index-tooltip);
  }

  .tooltip[placement^='top']::part(popup) {
    transform-origin: bottom;
  }

  .tooltip[placement^='bottom']::part(popup) {
    transform-origin: top;
  }

  .tooltip[placement^='left']::part(popup) {
    transform-origin: right;
  }

  .tooltip[placement^='right']::part(popup) {
    transform-origin: left;
  }

  .tooltip__body {
    display: block;
    width: max-content;
    max-width: var(--max-width);
    border-radius: var(--sl-tooltip-border-radius);
    background-color: var(--sl-tooltip-background-color);
    font-family: var(--sl-tooltip-font-family);
    font-size: var(--sl-tooltip-font-size);
    font-weight: var(--sl-tooltip-font-weight);
    line-height: var(--sl-tooltip-line-height);
    color: var(--sl-tooltip-color);
    padding: var(--sl-tooltip-padding);
    pointer-events: none;
    user-select: none;
    -webkit-user-select: none;
  }
`,io=class extends ro{constructor(){super(),this.localize=new _u(this),this.content="",this.placement="top",this.disabled=!1,this.distance=8,this.open=!1,this.skidding=0,this.trigger="hover focus",this.hoist=!1,this.handleBlur=()=>{this.hasTrigger("focus")&&this.hide()},this.handleClick=()=>{this.hasTrigger("click")&&(this.open?this.hide():this.show())},this.handleFocus=()=>{this.hasTrigger("focus")&&this.show()},this.handleDocumentKeyDown=i=>{i.key==="Escape"&&(i.stopPropagation(),this.hide())},this.handleMouseOver=()=>{if(this.hasTrigger("hover")){const i=UE(getComputedStyle(this).getPropertyValue("--show-delay"));clearTimeout(this.hoverTimeout),this.hoverTimeout=window.setTimeout(()=>this.show(),i)}},this.handleMouseOut=()=>{if(this.hasTrigger("hover")){const i=UE(getComputedStyle(this).getPropertyValue("--hide-delay"));clearTimeout(this.hoverTimeout),this.hoverTimeout=window.setTimeout(()=>this.hide(),i)}},this.addEventListener("blur",this.handleBlur,!0),this.addEventListener("focus",this.handleFocus,!0),this.addEventListener("click",this.handleClick),this.addEventListener("mouseover",this.handleMouseOver),this.addEventListener("mouseout",this.handleMouseOut)}disconnectedCallback(){var i;(i=this.closeWatcher)==null||i.destroy(),document.removeEventListener("keydown",this.handleDocumentKeyDown)}firstUpdated(){this.body.hidden=!this.open,this.open&&(this.popup.active=!0,this.popup.reposition())}hasTrigger(i){return this.trigger.split(" ").includes(i)}async handleOpenChange(){var i,r;if(this.open){if(this.disabled)return;this.emit("sl-show"),"CloseWatcher"in window?((i=this.closeWatcher)==null||i.destroy(),this.closeWatcher=new CloseWatcher,this.closeWatcher.onclose=()=>{this.hide()}):document.addEventListener("keydown",this.handleDocumentKeyDown),await nu(this.body),this.body.hidden=!1,this.popup.active=!0;const{keyframes:t,options:o}=rc(this,"tooltip.show",{dir:this.localize.dir()});await ic(this.popup.popup,t,o),this.popup.reposition(),this.emit("sl-after-show")}else{this.emit("sl-hide"),(r=this.closeWatcher)==null||r.destroy(),document.removeEventListener("keydown",this.handleDocumentKeyDown),await nu(this.body);const{keyframes:t,options:o}=rc(this,"tooltip.hide",{dir:this.localize.dir()});await ic(this.popup.popup,t,o),this.popup.active=!1,this.body.hidden=!0,this.emit("sl-after-hide")}}async handleOptionsChange(){this.hasUpdated&&(await this.updateComplete,this.popup.reposition())}handleDisabledChange(){this.disabled&&this.open&&this.hide()}async show(){if(!this.open)return this.open=!0,mp(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,mp(this,"sl-after-hide")}render(){return _n`
      <sl-popup
        part="base"
        exportparts="
          popup:base__popup,
          arrow:base__arrow
        "
        class=${Da({tooltip:!0,"tooltip--open":this.open})}
        placement=${this.placement}
        distance=${this.distance}
        skidding=${this.skidding}
        strategy=${this.hoist?"fixed":"absolute"}
        flip
        shift
        arrow
        hover-bridge
      >
        ${""}
        <slot slot="anchor" aria-describedby="tooltip"></slot>

        ${""}
        <div part="body" id="tooltip" class="tooltip__body" role="tooltip" aria-live=${this.open?"polite":"off"}>
          <slot name="content">${this.content}</slot>
        </div>
      </sl-popup>
    `}};io.styles=eO;io.dependencies={"sl-popup":_i};Qt([cn("slot:not([name])")],io.prototype,"defaultSlot",2);Qt([cn(".tooltip__body")],io.prototype,"body",2);Qt([cn("sl-popup")],io.prototype,"popup",2);Qt([pe()],io.prototype,"content",2);Qt([pe()],io.prototype,"placement",2);Qt([pe({type:Boolean,reflect:!0})],io.prototype,"disabled",2);Qt([pe({type:Number})],io.prototype,"distance",2);Qt([pe({type:Boolean,reflect:!0})],io.prototype,"open",2);Qt([pe({type:Number})],io.prototype,"skidding",2);Qt([pe()],io.prototype,"trigger",2);Qt([pe({type:Boolean})],io.prototype,"hoist",2);Qt([wo("open",{waitUntilFirstUpdate:!0})],io.prototype,"handleOpenChange",1);Qt([wo(["content","distance","hoist","placement","skidding"])],io.prototype,"handleOptionsChange",1);Qt([wo("disabled")],io.prototype,"handleDisabledChange",1);fc("tooltip.show",{keyframes:[{opacity:0,scale:.8},{opacity:1,scale:1}],options:{duration:150,easing:"ease"}});fc("tooltip.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.8}],options:{duration:150,easing:"ease"}});io.define("sl-tooltip");class on{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(r,t=!1){return this.onePassHasher.start().appendStr(r).end(t)}static hashAsciiStr(r,t=!1){return this.onePassHasher.start().appendAsciiStr(r).end(t)}static _hex(r){const t=on.hexChars,o=on.hexOut;let l,u,d,p;for(p=0;p<4;p+=1)for(u=p*8,l=r[p],d=0;d<8;d+=2)o[u+1+d]=t.charAt(l&15),l>>>=4,o[u+0+d]=t.charAt(l&15),l>>>=4;return o.join("")}static _md5cycle(r,t){let o=r[0],l=r[1],u=r[2],d=r[3];o+=(l&u|~l&d)+t[0]-680876936|0,o=(o<<7|o>>>25)+l|0,d+=(o&l|~o&u)+t[1]-389564586|0,d=(d<<12|d>>>20)+o|0,u+=(d&o|~d&l)+t[2]+606105819|0,u=(u<<17|u>>>15)+d|0,l+=(u&d|~u&o)+t[3]-1044525330|0,l=(l<<22|l>>>10)+u|0,o+=(l&u|~l&d)+t[4]-176418897|0,o=(o<<7|o>>>25)+l|0,d+=(o&l|~o&u)+t[5]+1200080426|0,d=(d<<12|d>>>20)+o|0,u+=(d&o|~d&l)+t[6]-1473231341|0,u=(u<<17|u>>>15)+d|0,l+=(u&d|~u&o)+t[7]-45705983|0,l=(l<<22|l>>>10)+u|0,o+=(l&u|~l&d)+t[8]+1770035416|0,o=(o<<7|o>>>25)+l|0,d+=(o&l|~o&u)+t[9]-1958414417|0,d=(d<<12|d>>>20)+o|0,u+=(d&o|~d&l)+t[10]-42063|0,u=(u<<17|u>>>15)+d|0,l+=(u&d|~u&o)+t[11]-1990404162|0,l=(l<<22|l>>>10)+u|0,o+=(l&u|~l&d)+t[12]+1804603682|0,o=(o<<7|o>>>25)+l|0,d+=(o&l|~o&u)+t[13]-40341101|0,d=(d<<12|d>>>20)+o|0,u+=(d&o|~d&l)+t[14]-1502002290|0,u=(u<<17|u>>>15)+d|0,l+=(u&d|~u&o)+t[15]+1236535329|0,l=(l<<22|l>>>10)+u|0,o+=(l&d|u&~d)+t[1]-165796510|0,o=(o<<5|o>>>27)+l|0,d+=(o&u|l&~u)+t[6]-1069501632|0,d=(d<<9|d>>>23)+o|0,u+=(d&l|o&~l)+t[11]+643717713|0,u=(u<<14|u>>>18)+d|0,l+=(u&o|d&~o)+t[0]-373897302|0,l=(l<<20|l>>>12)+u|0,o+=(l&d|u&~d)+t[5]-701558691|0,o=(o<<5|o>>>27)+l|0,d+=(o&u|l&~u)+t[10]+38016083|0,d=(d<<9|d>>>23)+o|0,u+=(d&l|o&~l)+t[15]-660478335|0,u=(u<<14|u>>>18)+d|0,l+=(u&o|d&~o)+t[4]-405537848|0,l=(l<<20|l>>>12)+u|0,o+=(l&d|u&~d)+t[9]+568446438|0,o=(o<<5|o>>>27)+l|0,d+=(o&u|l&~u)+t[14]-1019803690|0,d=(d<<9|d>>>23)+o|0,u+=(d&l|o&~l)+t[3]-187363961|0,u=(u<<14|u>>>18)+d|0,l+=(u&o|d&~o)+t[8]+1163531501|0,l=(l<<20|l>>>12)+u|0,o+=(l&d|u&~d)+t[13]-1444681467|0,o=(o<<5|o>>>27)+l|0,d+=(o&u|l&~u)+t[2]-51403784|0,d=(d<<9|d>>>23)+o|0,u+=(d&l|o&~l)+t[7]+1735328473|0,u=(u<<14|u>>>18)+d|0,l+=(u&o|d&~o)+t[12]-1926607734|0,l=(l<<20|l>>>12)+u|0,o+=(l^u^d)+t[5]-378558|0,o=(o<<4|o>>>28)+l|0,d+=(o^l^u)+t[8]-2022574463|0,d=(d<<11|d>>>21)+o|0,u+=(d^o^l)+t[11]+1839030562|0,u=(u<<16|u>>>16)+d|0,l+=(u^d^o)+t[14]-35309556|0,l=(l<<23|l>>>9)+u|0,o+=(l^u^d)+t[1]-1530992060|0,o=(o<<4|o>>>28)+l|0,d+=(o^l^u)+t[4]+1272893353|0,d=(d<<11|d>>>21)+o|0,u+=(d^o^l)+t[7]-155497632|0,u=(u<<16|u>>>16)+d|0,l+=(u^d^o)+t[10]-1094730640|0,l=(l<<23|l>>>9)+u|0,o+=(l^u^d)+t[13]+681279174|0,o=(o<<4|o>>>28)+l|0,d+=(o^l^u)+t[0]-358537222|0,d=(d<<11|d>>>21)+o|0,u+=(d^o^l)+t[3]-722521979|0,u=(u<<16|u>>>16)+d|0,l+=(u^d^o)+t[6]+76029189|0,l=(l<<23|l>>>9)+u|0,o+=(l^u^d)+t[9]-640364487|0,o=(o<<4|o>>>28)+l|0,d+=(o^l^u)+t[12]-421815835|0,d=(d<<11|d>>>21)+o|0,u+=(d^o^l)+t[15]+530742520|0,u=(u<<16|u>>>16)+d|0,l+=(u^d^o)+t[2]-995338651|0,l=(l<<23|l>>>9)+u|0,o+=(u^(l|~d))+t[0]-198630844|0,o=(o<<6|o>>>26)+l|0,d+=(l^(o|~u))+t[7]+1126891415|0,d=(d<<10|d>>>22)+o|0,u+=(o^(d|~l))+t[14]-1416354905|0,u=(u<<15|u>>>17)+d|0,l+=(d^(u|~o))+t[5]-57434055|0,l=(l<<21|l>>>11)+u|0,o+=(u^(l|~d))+t[12]+1700485571|0,o=(o<<6|o>>>26)+l|0,d+=(l^(o|~u))+t[3]-1894986606|0,d=(d<<10|d>>>22)+o|0,u+=(o^(d|~l))+t[10]-1051523|0,u=(u<<15|u>>>17)+d|0,l+=(d^(u|~o))+t[1]-2054922799|0,l=(l<<21|l>>>11)+u|0,o+=(u^(l|~d))+t[8]+1873313359|0,o=(o<<6|o>>>26)+l|0,d+=(l^(o|~u))+t[15]-30611744|0,d=(d<<10|d>>>22)+o|0,u+=(o^(d|~l))+t[6]-1560198380|0,u=(u<<15|u>>>17)+d|0,l+=(d^(u|~o))+t[13]+1309151649|0,l=(l<<21|l>>>11)+u|0,o+=(u^(l|~d))+t[4]-145523070|0,o=(o<<6|o>>>26)+l|0,d+=(l^(o|~u))+t[11]-1120210379|0,d=(d<<10|d>>>22)+o|0,u+=(o^(d|~l))+t[2]+718787259|0,u=(u<<15|u>>>17)+d|0,l+=(d^(u|~o))+t[9]-343485551|0,l=(l<<21|l>>>11)+u|0,r[0]=o+r[0]|0,r[1]=l+r[1]|0,r[2]=u+r[2]|0,r[3]=d+r[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(on.stateIdentity),this}appendStr(r){const t=this._buffer8,o=this._buffer32;let l=this._bufferLength,u,d;for(d=0;d<r.length;d+=1){if(u=r.charCodeAt(d),u<128)t[l++]=u;else if(u<2048)t[l++]=(u>>>6)+192,t[l++]=u&63|128;else if(u<55296||u>56319)t[l++]=(u>>>12)+224,t[l++]=u>>>6&63|128,t[l++]=u&63|128;else{if(u=(u-55296)*1024+(r.charCodeAt(++d)-56320)+65536,u>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");t[l++]=(u>>>18)+240,t[l++]=u>>>12&63|128,t[l++]=u>>>6&63|128,t[l++]=u&63|128}l>=64&&(this._dataLength+=64,on._md5cycle(this._state,o),l-=64,o[0]=o[16])}return this._bufferLength=l,this}appendAsciiStr(r){const t=this._buffer8,o=this._buffer32;let l=this._bufferLength,u,d=0;for(;;){for(u=Math.min(r.length-d,64-l);u--;)t[l++]=r.charCodeAt(d++);if(l<64)break;this._dataLength+=64,on._md5cycle(this._state,o),l=0}return this._bufferLength=l,this}appendByteArray(r){const t=this._buffer8,o=this._buffer32;let l=this._bufferLength,u,d=0;for(;;){for(u=Math.min(r.length-d,64-l);u--;)t[l++]=r[d++];if(l<64)break;this._dataLength+=64,on._md5cycle(this._state,o),l=0}return this._bufferLength=l,this}getState(){const r=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[r[0],r[1],r[2],r[3]]}}setState(r){const t=r.buffer,o=r.state,l=this._state;let u;for(this._dataLength=r.length,this._bufferLength=r.buflen,l[0]=o[0],l[1]=o[1],l[2]=o[2],l[3]=o[3],u=0;u<t.length;u+=1)this._buffer8[u]=t.charCodeAt(u)}end(r=!1){const t=this._bufferLength,o=this._buffer8,l=this._buffer32,u=(t>>2)+1;this._dataLength+=t;const d=this._dataLength*8;if(o[t]=128,o[t+1]=o[t+2]=o[t+3]=0,l.set(on.buffer32Identity.subarray(u),u),t>55&&(on._md5cycle(this._state,l),l.set(on.buffer32Identity)),d<=4294967295)l[14]=d;else{const p=d.toString(16).match(/(.*?)(.{0,8})$/);if(p===null)return;const m=parseInt(p[2],16),v=parseInt(p[1],16)||0;l[14]=m,l[15]=v}return on._md5cycle(this._state,l),r?this._state:on._hex(this._state)}}on.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]);on.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);on.hexChars="0123456789abcdef";on.hexOut=[];on.onePassHasher=new on;if(on.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592")throw new Error("Md5 self test failed.");/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function MC(i){return typeof i>"u"||i===null}function rO(i){return typeof i=="object"&&i!==null}function iO(i){return Array.isArray(i)?i:MC(i)?[]:[i]}function nO(i,r){var t,o,l,u;if(r)for(u=Object.keys(r),t=0,o=u.length;t<o;t+=1)l=u[t],i[l]=r[l];return i}function oO(i,r){var t="",o;for(o=0;o<r;o+=1)t+=i;return t}function sO(i){return i===0&&Number.NEGATIVE_INFINITY===1/i}var aO=MC,lO=rO,cO=iO,uO=oO,hO=sO,dO=nO,Ro={isNothing:aO,isObject:lO,toArray:cO,repeat:uO,isNegativeZero:hO,extend:dO};function IC(i,r){var t="",o=i.reason||"(unknown reason)";return i.mark?(i.mark.name&&(t+='in "'+i.mark.name+'" '),t+="("+(i.mark.line+1)+":"+(i.mark.column+1)+")",!r&&i.mark.snippet&&(t+=`

`+i.mark.snippet),o+" "+t):o}function Ng(i,r){Error.call(this),this.name="YAMLException",this.reason=i,this.mark=r,this.message=IC(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Ng.prototype=Object.create(Error.prototype);Ng.prototype.constructor=Ng;Ng.prototype.toString=function(r){return this.name+": "+IC(this,r)};var nc=Ng;function Mw(i,r,t,o,l){var u="",d="",p=Math.floor(l/2)-1;return o-r>p&&(u=" ... ",r=o-p+u.length),t-o>p&&(d=" ...",t=o+p-d.length),{str:u+i.slice(r,t).replace(/\t/g,"→")+d,pos:o-r+u.length}}function Iw(i,r){return Ro.repeat(" ",r-i.length)+i}function pO(i,r){if(r=Object.create(r||null),!i.buffer)return null;r.maxLength||(r.maxLength=79),typeof r.indent!="number"&&(r.indent=1),typeof r.linesBefore!="number"&&(r.linesBefore=3),typeof r.linesAfter!="number"&&(r.linesAfter=2);for(var t=/\r?\n|\r|\0/g,o=[0],l=[],u,d=-1;u=t.exec(i.buffer);)l.push(u.index),o.push(u.index+u[0].length),i.position<=u.index&&d<0&&(d=o.length-2);d<0&&(d=o.length-1);var p="",m,v,x=Math.min(i.line+r.linesAfter,l.length).toString().length,k=r.maxLength-(r.indent+x+3);for(m=1;m<=r.linesBefore&&!(d-m<0);m++)v=Mw(i.buffer,o[d-m],l[d-m],i.position-(o[d]-o[d-m]),k),p=Ro.repeat(" ",r.indent)+Iw((i.line-m+1).toString(),x)+" | "+v.str+`
`+p;for(v=Mw(i.buffer,o[d],l[d],i.position,k),p+=Ro.repeat(" ",r.indent)+Iw((i.line+1).toString(),x)+" | "+v.str+`
`,p+=Ro.repeat("-",r.indent+x+3+v.pos)+`^
`,m=1;m<=r.linesAfter&&!(d+m>=l.length);m++)v=Mw(i.buffer,o[d+m],l[d+m],i.position-(o[d]-o[d+m]),k),p+=Ro.repeat(" ",r.indent)+Iw((i.line+m+1).toString(),x)+" | "+v.str+`
`;return p.replace(/\n$/,"")}var fO=pO,gO=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],mO=["scalar","sequence","mapping"];function vO(i){var r={};return i!==null&&Object.keys(i).forEach(function(t){i[t].forEach(function(o){r[String(o)]=t})}),r}function yO(i,r){if(r=r||{},Object.keys(r).forEach(function(t){if(gO.indexOf(t)===-1)throw new nc('Unknown option "'+t+'" is met in definition of "'+i+'" YAML type.')}),this.options=r,this.tag=i,this.kind=r.kind||null,this.resolve=r.resolve||function(){return!0},this.construct=r.construct||function(t){return t},this.instanceOf=r.instanceOf||null,this.predicate=r.predicate||null,this.represent=r.represent||null,this.representName=r.representName||null,this.defaultStyle=r.defaultStyle||null,this.multi=r.multi||!1,this.styleAliases=vO(r.styleAliases||null),mO.indexOf(this.kind)===-1)throw new nc('Unknown kind "'+this.kind+'" is specified for "'+i+'" YAML type.')}var yo=yO;function YE(i,r){var t=[];return i[r].forEach(function(o){var l=t.length;t.forEach(function(u,d){u.tag===o.tag&&u.kind===o.kind&&u.multi===o.multi&&(l=d)}),t[l]=o}),t}function bO(){var i={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},r,t;function o(l){l.multi?(i.multi[l.kind].push(l),i.multi.fallback.push(l)):i[l.kind][l.tag]=i.fallback[l.tag]=l}for(r=0,t=arguments.length;r<t;r+=1)arguments[r].forEach(o);return i}function m1(i){return this.extend(i)}m1.prototype.extend=function(r){var t=[],o=[];if(r instanceof yo)o.push(r);else if(Array.isArray(r))o=o.concat(r);else if(r&&(Array.isArray(r.implicit)||Array.isArray(r.explicit)))r.implicit&&(t=t.concat(r.implicit)),r.explicit&&(o=o.concat(r.explicit));else throw new nc("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");t.forEach(function(u){if(!(u instanceof yo))throw new nc("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(u.loadKind&&u.loadKind!=="scalar")throw new nc("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(u.multi)throw new nc("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),o.forEach(function(u){if(!(u instanceof yo))throw new nc("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var l=Object.create(m1.prototype);return l.implicit=(this.implicit||[]).concat(t),l.explicit=(this.explicit||[]).concat(o),l.compiledImplicit=YE(l,"implicit"),l.compiledExplicit=YE(l,"explicit"),l.compiledTypeMap=bO(l.compiledImplicit,l.compiledExplicit),l};var wO=m1,xO=new yo("tag:yaml.org,2002:str",{kind:"scalar",construct:function(i){return i!==null?i:""}}),_O=new yo("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(i){return i!==null?i:[]}}),kO=new yo("tag:yaml.org,2002:map",{kind:"mapping",construct:function(i){return i!==null?i:{}}}),EO=new wO({explicit:[xO,_O,kO]});function TO(i){if(i===null)return!0;var r=i.length;return r===1&&i==="~"||r===4&&(i==="null"||i==="Null"||i==="NULL")}function SO(){return null}function CO(i){return i===null}var PO=new yo("tag:yaml.org,2002:null",{kind:"scalar",resolve:TO,construct:SO,predicate:CO,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function MO(i){if(i===null)return!1;var r=i.length;return r===4&&(i==="true"||i==="True"||i==="TRUE")||r===5&&(i==="false"||i==="False"||i==="FALSE")}function IO(i){return i==="true"||i==="True"||i==="TRUE"}function LO(i){return Object.prototype.toString.call(i)==="[object Boolean]"}var AO=new yo("tag:yaml.org,2002:bool",{kind:"scalar",resolve:MO,construct:IO,predicate:LO,represent:{lowercase:function(i){return i?"true":"false"},uppercase:function(i){return i?"TRUE":"FALSE"},camelcase:function(i){return i?"True":"False"}},defaultStyle:"lowercase"});function RO(i){return 48<=i&&i<=57||65<=i&&i<=70||97<=i&&i<=102}function OO(i){return 48<=i&&i<=55}function zO(i){return 48<=i&&i<=57}function NO(i){if(i===null)return!1;var r=i.length,t=0,o=!1,l;if(!r)return!1;if(l=i[t],(l==="-"||l==="+")&&(l=i[++t]),l==="0"){if(t+1===r)return!0;if(l=i[++t],l==="b"){for(t++;t<r;t++)if(l=i[t],l!=="_"){if(l!=="0"&&l!=="1")return!1;o=!0}return o&&l!=="_"}if(l==="x"){for(t++;t<r;t++)if(l=i[t],l!=="_"){if(!RO(i.charCodeAt(t)))return!1;o=!0}return o&&l!=="_"}if(l==="o"){for(t++;t<r;t++)if(l=i[t],l!=="_"){if(!OO(i.charCodeAt(t)))return!1;o=!0}return o&&l!=="_"}}if(l==="_")return!1;for(;t<r;t++)if(l=i[t],l!=="_"){if(!zO(i.charCodeAt(t)))return!1;o=!0}return!(!o||l==="_")}function DO(i){var r=i,t=1,o;if(r.indexOf("_")!==-1&&(r=r.replace(/_/g,"")),o=r[0],(o==="-"||o==="+")&&(o==="-"&&(t=-1),r=r.slice(1),o=r[0]),r==="0")return 0;if(o==="0"){if(r[1]==="b")return t*parseInt(r.slice(2),2);if(r[1]==="x")return t*parseInt(r.slice(2),16);if(r[1]==="o")return t*parseInt(r.slice(2),8)}return t*parseInt(r,10)}function FO(i){return Object.prototype.toString.call(i)==="[object Number]"&&i%1===0&&!Ro.isNegativeZero(i)}var BO=new yo("tag:yaml.org,2002:int",{kind:"scalar",resolve:NO,construct:DO,predicate:FO,represent:{binary:function(i){return i>=0?"0b"+i.toString(2):"-0b"+i.toString(2).slice(1)},octal:function(i){return i>=0?"0o"+i.toString(8):"-0o"+i.toString(8).slice(1)},decimal:function(i){return i.toString(10)},hexadecimal:function(i){return i>=0?"0x"+i.toString(16).toUpperCase():"-0x"+i.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),jO=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function HO(i){return!(i===null||!jO.test(i)||i[i.length-1]==="_")}function UO(i){var r,t;return r=i.replace(/_/g,"").toLowerCase(),t=r[0]==="-"?-1:1,"+-".indexOf(r[0])>=0&&(r=r.slice(1)),r===".inf"?t===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:r===".nan"?NaN:t*parseFloat(r,10)}var GO=/^[-+]?[0-9]+e/;function qO(i,r){var t;if(isNaN(i))switch(r){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===i)switch(r){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===i)switch(r){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Ro.isNegativeZero(i))return"-0.0";return t=i.toString(10),GO.test(t)?t.replace("e",".e"):t}function VO(i){return Object.prototype.toString.call(i)==="[object Number]"&&(i%1!==0||Ro.isNegativeZero(i))}var WO=new yo("tag:yaml.org,2002:float",{kind:"scalar",resolve:HO,construct:UO,predicate:VO,represent:qO,defaultStyle:"lowercase"}),ZO=EO.extend({implicit:[PO,AO,BO,WO]}),YO=ZO,LC=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),AC=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function XO(i){return i===null?!1:LC.exec(i)!==null||AC.exec(i)!==null}function KO(i){var r,t,o,l,u,d,p,m=0,v=null,x,k,C;if(r=LC.exec(i),r===null&&(r=AC.exec(i)),r===null)throw new Error("Date resolve error");if(t=+r[1],o=+r[2]-1,l=+r[3],!r[4])return new Date(Date.UTC(t,o,l));if(u=+r[4],d=+r[5],p=+r[6],r[7]){for(m=r[7].slice(0,3);m.length<3;)m+="0";m=+m}return r[9]&&(x=+r[10],k=+(r[11]||0),v=(x*60+k)*6e4,r[9]==="-"&&(v=-v)),C=new Date(Date.UTC(t,o,l,u,d,p,m)),v&&C.setTime(C.getTime()-v),C}function JO(i){return i.toISOString()}var QO=new yo("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:XO,construct:KO,instanceOf:Date,represent:JO});function $O(i){return i==="<<"||i===null}var tz=new yo("tag:yaml.org,2002:merge",{kind:"scalar",resolve:$O}),Ix=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function ez(i){if(i===null)return!1;var r,t,o=0,l=i.length,u=Ix;for(t=0;t<l;t++)if(r=u.indexOf(i.charAt(t)),!(r>64)){if(r<0)return!1;o+=6}return o%8===0}function rz(i){var r,t,o=i.replace(/[\r\n=]/g,""),l=o.length,u=Ix,d=0,p=[];for(r=0;r<l;r++)r%4===0&&r&&(p.push(d>>16&255),p.push(d>>8&255),p.push(d&255)),d=d<<6|u.indexOf(o.charAt(r));return t=l%4*6,t===0?(p.push(d>>16&255),p.push(d>>8&255),p.push(d&255)):t===18?(p.push(d>>10&255),p.push(d>>2&255)):t===12&&p.push(d>>4&255),new Uint8Array(p)}function iz(i){var r="",t=0,o,l,u=i.length,d=Ix;for(o=0;o<u;o++)o%3===0&&o&&(r+=d[t>>18&63],r+=d[t>>12&63],r+=d[t>>6&63],r+=d[t&63]),t=(t<<8)+i[o];return l=u%3,l===0?(r+=d[t>>18&63],r+=d[t>>12&63],r+=d[t>>6&63],r+=d[t&63]):l===2?(r+=d[t>>10&63],r+=d[t>>4&63],r+=d[t<<2&63],r+=d[64]):l===1&&(r+=d[t>>2&63],r+=d[t<<4&63],r+=d[64],r+=d[64]),r}function nz(i){return Object.prototype.toString.call(i)==="[object Uint8Array]"}var oz=new yo("tag:yaml.org,2002:binary",{kind:"scalar",resolve:ez,construct:rz,predicate:nz,represent:iz}),sz=Object.prototype.hasOwnProperty,az=Object.prototype.toString;function lz(i){if(i===null)return!0;var r=[],t,o,l,u,d,p=i;for(t=0,o=p.length;t<o;t+=1){if(l=p[t],d=!1,az.call(l)!=="[object Object]")return!1;for(u in l)if(sz.call(l,u))if(!d)d=!0;else return!1;if(!d)return!1;if(r.indexOf(u)===-1)r.push(u);else return!1}return!0}function cz(i){return i!==null?i:[]}var uz=new yo("tag:yaml.org,2002:omap",{kind:"sequence",resolve:lz,construct:cz}),hz=Object.prototype.toString;function dz(i){if(i===null)return!0;var r,t,o,l,u,d=i;for(u=new Array(d.length),r=0,t=d.length;r<t;r+=1){if(o=d[r],hz.call(o)!=="[object Object]"||(l=Object.keys(o),l.length!==1))return!1;u[r]=[l[0],o[l[0]]]}return!0}function pz(i){if(i===null)return[];var r,t,o,l,u,d=i;for(u=new Array(d.length),r=0,t=d.length;r<t;r+=1)o=d[r],l=Object.keys(o),u[r]=[l[0],o[l[0]]];return u}var fz=new yo("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:dz,construct:pz}),gz=Object.prototype.hasOwnProperty;function mz(i){if(i===null)return!0;var r,t=i;for(r in t)if(gz.call(t,r)&&t[r]!==null)return!1;return!0}function vz(i){return i!==null?i:{}}var yz=new yo("tag:yaml.org,2002:set",{kind:"mapping",resolve:mz,construct:vz}),bz=YO.extend({implicit:[QO,tz],explicit:[oz,uz,fz,yz]}),mu=Object.prototype.hasOwnProperty,Bv=1,RC=2,OC=3,jv=4,Lw=1,wz=2,XE=3,xz=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,_z=/[\x85\u2028\u2029]/,kz=/[,\[\]\{\}]/,zC=/^(?:!|!!|![a-z\-]+!)$/i,NC=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function KE(i){return Object.prototype.toString.call(i)}function dl(i){return i===10||i===13}function bh(i){return i===9||i===32}function Qo(i){return i===9||i===32||i===10||i===13}function rp(i){return i===44||i===91||i===93||i===123||i===125}function Ez(i){var r;return 48<=i&&i<=57?i-48:(r=i|32,97<=r&&r<=102?r-97+10:-1)}function Tz(i){return i===120?2:i===117?4:i===85?8:0}function Sz(i){return 48<=i&&i<=57?i-48:-1}function JE(i){return i===48?"\0":i===97?"\x07":i===98?"\b":i===116||i===9?"	":i===110?`
`:i===118?"\v":i===102?"\f":i===114?"\r":i===101?"\x1B":i===32?" ":i===34?'"':i===47?"/":i===92?"\\":i===78?"":i===95?" ":i===76?"\u2028":i===80?"\u2029":""}function Cz(i){return i<=65535?String.fromCharCode(i):String.fromCharCode((i-65536>>10)+55296,(i-65536&1023)+56320)}var DC=new Array(256),FC=new Array(256);for(var Vd=0;Vd<256;Vd++)DC[Vd]=JE(Vd)?1:0,FC[Vd]=JE(Vd);function Pz(i,r){this.input=i,this.filename=r.filename||null,this.schema=r.schema||bz,this.onWarning=r.onWarning||null,this.legacy=r.legacy||!1,this.json=r.json||!1,this.listener=r.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=i.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function BC(i,r){var t={name:i.filename,buffer:i.input.slice(0,-1),position:i.position,line:i.line,column:i.position-i.lineStart};return t.snippet=fO(t),new nc(r,t)}function qe(i,r){throw BC(i,r)}function Hv(i,r){i.onWarning&&i.onWarning.call(null,BC(i,r))}var QE={YAML:function(r,t,o){var l,u,d;r.version!==null&&qe(r,"duplication of %YAML directive"),o.length!==1&&qe(r,"YAML directive accepts exactly one argument"),l=/^([0-9]+)\.([0-9]+)$/.exec(o[0]),l===null&&qe(r,"ill-formed argument of the YAML directive"),u=parseInt(l[1],10),d=parseInt(l[2],10),u!==1&&qe(r,"unacceptable YAML version of the document"),r.version=o[0],r.checkLineBreaks=d<2,d!==1&&d!==2&&Hv(r,"unsupported YAML version of the document")},TAG:function(r,t,o){var l,u;o.length!==2&&qe(r,"TAG directive accepts exactly two arguments"),l=o[0],u=o[1],zC.test(l)||qe(r,"ill-formed tag handle (first argument) of the TAG directive"),mu.call(r.tagMap,l)&&qe(r,'there is a previously declared suffix for "'+l+'" tag handle'),NC.test(u)||qe(r,"ill-formed tag prefix (second argument) of the TAG directive");try{u=decodeURIComponent(u)}catch{qe(r,"tag prefix is malformed: "+u)}r.tagMap[l]=u}};function lu(i,r,t,o){var l,u,d,p;if(r<t){if(p=i.input.slice(r,t),o)for(l=0,u=p.length;l<u;l+=1)d=p.charCodeAt(l),d===9||32<=d&&d<=1114111||qe(i,"expected valid JSON character");else xz.test(p)&&qe(i,"the stream contains non-printable characters");i.result+=p}}function $E(i,r,t,o){var l,u,d,p;for(Ro.isObject(t)||qe(i,"cannot merge mappings; the provided source object is unacceptable"),l=Object.keys(t),d=0,p=l.length;d<p;d+=1)u=l[d],mu.call(r,u)||(r[u]=t[u],o[u]=!0)}function ip(i,r,t,o,l,u,d,p,m){var v,x;if(Array.isArray(l))for(l=Array.prototype.slice.call(l),v=0,x=l.length;v<x;v+=1)Array.isArray(l[v])&&qe(i,"nested arrays are not supported inside keys"),typeof l=="object"&&KE(l[v])==="[object Object]"&&(l[v]="[object Object]");if(typeof l=="object"&&KE(l)==="[object Object]"&&(l="[object Object]"),l=String(l),r===null&&(r={}),o==="tag:yaml.org,2002:merge")if(Array.isArray(u))for(v=0,x=u.length;v<x;v+=1)$E(i,r,u[v],t);else $E(i,r,u,t);else!i.json&&!mu.call(t,l)&&mu.call(r,l)&&(i.line=d||i.line,i.lineStart=p||i.lineStart,i.position=m||i.position,qe(i,"duplicated mapping key")),l==="__proto__"?Object.defineProperty(r,l,{configurable:!0,enumerable:!0,writable:!0,value:u}):r[l]=u,delete t[l];return r}function Lx(i){var r;r=i.input.charCodeAt(i.position),r===10?i.position++:r===13?(i.position++,i.input.charCodeAt(i.position)===10&&i.position++):qe(i,"a line break is expected"),i.line+=1,i.lineStart=i.position,i.firstTabInLine=-1}function xn(i,r,t){for(var o=0,l=i.input.charCodeAt(i.position);l!==0;){for(;bh(l);)l===9&&i.firstTabInLine===-1&&(i.firstTabInLine=i.position),l=i.input.charCodeAt(++i.position);if(r&&l===35)do l=i.input.charCodeAt(++i.position);while(l!==10&&l!==13&&l!==0);if(dl(l))for(Lx(i),l=i.input.charCodeAt(i.position),o++,i.lineIndent=0;l===32;)i.lineIndent++,l=i.input.charCodeAt(++i.position);else break}return t!==-1&&o!==0&&i.lineIndent<t&&Hv(i,"deficient indentation"),o}function Py(i){var r=i.position,t;return t=i.input.charCodeAt(r),!!((t===45||t===46)&&t===i.input.charCodeAt(r+1)&&t===i.input.charCodeAt(r+2)&&(r+=3,t=i.input.charCodeAt(r),t===0||Qo(t)))}function Ax(i,r){r===1?i.result+=" ":r>1&&(i.result+=Ro.repeat(`
`,r-1))}function Mz(i,r,t){var o,l,u,d,p,m,v,x,k=i.kind,C=i.result,M;if(M=i.input.charCodeAt(i.position),Qo(M)||rp(M)||M===35||M===38||M===42||M===33||M===124||M===62||M===39||M===34||M===37||M===64||M===96||(M===63||M===45)&&(l=i.input.charCodeAt(i.position+1),Qo(l)||t&&rp(l)))return!1;for(i.kind="scalar",i.result="",u=d=i.position,p=!1;M!==0;){if(M===58){if(l=i.input.charCodeAt(i.position+1),Qo(l)||t&&rp(l))break}else if(M===35){if(o=i.input.charCodeAt(i.position-1),Qo(o))break}else{if(i.position===i.lineStart&&Py(i)||t&&rp(M))break;if(dl(M))if(m=i.line,v=i.lineStart,x=i.lineIndent,xn(i,!1,-1),i.lineIndent>=r){p=!0,M=i.input.charCodeAt(i.position);continue}else{i.position=d,i.line=m,i.lineStart=v,i.lineIndent=x;break}}p&&(lu(i,u,d,!1),Ax(i,i.line-m),u=d=i.position,p=!1),bh(M)||(d=i.position+1),M=i.input.charCodeAt(++i.position)}return lu(i,u,d,!1),i.result?!0:(i.kind=k,i.result=C,!1)}function Iz(i,r){var t,o,l;if(t=i.input.charCodeAt(i.position),t!==39)return!1;for(i.kind="scalar",i.result="",i.position++,o=l=i.position;(t=i.input.charCodeAt(i.position))!==0;)if(t===39)if(lu(i,o,i.position,!0),t=i.input.charCodeAt(++i.position),t===39)o=i.position,i.position++,l=i.position;else return!0;else dl(t)?(lu(i,o,l,!0),Ax(i,xn(i,!1,r)),o=l=i.position):i.position===i.lineStart&&Py(i)?qe(i,"unexpected end of the document within a single quoted scalar"):(i.position++,l=i.position);qe(i,"unexpected end of the stream within a single quoted scalar")}function Lz(i,r){var t,o,l,u,d,p;if(p=i.input.charCodeAt(i.position),p!==34)return!1;for(i.kind="scalar",i.result="",i.position++,t=o=i.position;(p=i.input.charCodeAt(i.position))!==0;){if(p===34)return lu(i,t,i.position,!0),i.position++,!0;if(p===92){if(lu(i,t,i.position,!0),p=i.input.charCodeAt(++i.position),dl(p))xn(i,!1,r);else if(p<256&&DC[p])i.result+=FC[p],i.position++;else if((d=Tz(p))>0){for(l=d,u=0;l>0;l--)p=i.input.charCodeAt(++i.position),(d=Ez(p))>=0?u=(u<<4)+d:qe(i,"expected hexadecimal character");i.result+=Cz(u),i.position++}else qe(i,"unknown escape sequence");t=o=i.position}else dl(p)?(lu(i,t,o,!0),Ax(i,xn(i,!1,r)),t=o=i.position):i.position===i.lineStart&&Py(i)?qe(i,"unexpected end of the document within a double quoted scalar"):(i.position++,o=i.position)}qe(i,"unexpected end of the stream within a double quoted scalar")}function Az(i,r){var t=!0,o,l,u,d=i.tag,p,m=i.anchor,v,x,k,C,M,I=Object.create(null),D,j,H,J;if(J=i.input.charCodeAt(i.position),J===91)x=93,M=!1,p=[];else if(J===123)x=125,M=!0,p={};else return!1;for(i.anchor!==null&&(i.anchorMap[i.anchor]=p),J=i.input.charCodeAt(++i.position);J!==0;){if(xn(i,!0,r),J=i.input.charCodeAt(i.position),J===x)return i.position++,i.tag=d,i.anchor=m,i.kind=M?"mapping":"sequence",i.result=p,!0;t?J===44&&qe(i,"expected the node content, but found ','"):qe(i,"missed comma between flow collection entries"),j=D=H=null,k=C=!1,J===63&&(v=i.input.charCodeAt(i.position+1),Qo(v)&&(k=C=!0,i.position++,xn(i,!0,r))),o=i.line,l=i.lineStart,u=i.position,yp(i,r,Bv,!1,!0),j=i.tag,D=i.result,xn(i,!0,r),J=i.input.charCodeAt(i.position),(C||i.line===o)&&J===58&&(k=!0,J=i.input.charCodeAt(++i.position),xn(i,!0,r),yp(i,r,Bv,!1,!0),H=i.result),M?ip(i,p,I,j,D,H,o,l,u):k?p.push(ip(i,null,I,j,D,H,o,l,u)):p.push(D),xn(i,!0,r),J=i.input.charCodeAt(i.position),J===44?(t=!0,J=i.input.charCodeAt(++i.position)):t=!1}qe(i,"unexpected end of the stream within a flow collection")}function Rz(i,r){var t,o,l=Lw,u=!1,d=!1,p=r,m=0,v=!1,x,k;if(k=i.input.charCodeAt(i.position),k===124)o=!1;else if(k===62)o=!0;else return!1;for(i.kind="scalar",i.result="";k!==0;)if(k=i.input.charCodeAt(++i.position),k===43||k===45)Lw===l?l=k===43?XE:wz:qe(i,"repeat of a chomping mode identifier");else if((x=Sz(k))>=0)x===0?qe(i,"bad explicit indentation width of a block scalar; it cannot be less than one"):d?qe(i,"repeat of an indentation width identifier"):(p=r+x-1,d=!0);else break;if(bh(k)){do k=i.input.charCodeAt(++i.position);while(bh(k));if(k===35)do k=i.input.charCodeAt(++i.position);while(!dl(k)&&k!==0)}for(;k!==0;){for(Lx(i),i.lineIndent=0,k=i.input.charCodeAt(i.position);(!d||i.lineIndent<p)&&k===32;)i.lineIndent++,k=i.input.charCodeAt(++i.position);if(!d&&i.lineIndent>p&&(p=i.lineIndent),dl(k)){m++;continue}if(i.lineIndent<p){l===XE?i.result+=Ro.repeat(`
`,u?1+m:m):l===Lw&&u&&(i.result+=`
`);break}for(o?bh(k)?(v=!0,i.result+=Ro.repeat(`
`,u?1+m:m)):v?(v=!1,i.result+=Ro.repeat(`
`,m+1)):m===0?u&&(i.result+=" "):i.result+=Ro.repeat(`
`,m):i.result+=Ro.repeat(`
`,u?1+m:m),u=!0,d=!0,m=0,t=i.position;!dl(k)&&k!==0;)k=i.input.charCodeAt(++i.position);lu(i,t,i.position,!1)}return!0}function tT(i,r){var t,o=i.tag,l=i.anchor,u=[],d,p=!1,m;if(i.firstTabInLine!==-1)return!1;for(i.anchor!==null&&(i.anchorMap[i.anchor]=u),m=i.input.charCodeAt(i.position);m!==0&&(i.firstTabInLine!==-1&&(i.position=i.firstTabInLine,qe(i,"tab characters must not be used in indentation")),!(m!==45||(d=i.input.charCodeAt(i.position+1),!Qo(d))));){if(p=!0,i.position++,xn(i,!0,-1)&&i.lineIndent<=r){u.push(null),m=i.input.charCodeAt(i.position);continue}if(t=i.line,yp(i,r,OC,!1,!0),u.push(i.result),xn(i,!0,-1),m=i.input.charCodeAt(i.position),(i.line===t||i.lineIndent>r)&&m!==0)qe(i,"bad indentation of a sequence entry");else if(i.lineIndent<r)break}return p?(i.tag=o,i.anchor=l,i.kind="sequence",i.result=u,!0):!1}function Oz(i,r,t){var o,l,u,d,p,m,v=i.tag,x=i.anchor,k={},C=Object.create(null),M=null,I=null,D=null,j=!1,H=!1,J;if(i.firstTabInLine!==-1)return!1;for(i.anchor!==null&&(i.anchorMap[i.anchor]=k),J=i.input.charCodeAt(i.position);J!==0;){if(!j&&i.firstTabInLine!==-1&&(i.position=i.firstTabInLine,qe(i,"tab characters must not be used in indentation")),o=i.input.charCodeAt(i.position+1),u=i.line,(J===63||J===58)&&Qo(o))J===63?(j&&(ip(i,k,C,M,I,null,d,p,m),M=I=D=null),H=!0,j=!0,l=!0):j?(j=!1,l=!0):qe(i,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),i.position+=1,J=o;else{if(d=i.line,p=i.lineStart,m=i.position,!yp(i,t,RC,!1,!0))break;if(i.line===u){for(J=i.input.charCodeAt(i.position);bh(J);)J=i.input.charCodeAt(++i.position);if(J===58)J=i.input.charCodeAt(++i.position),Qo(J)||qe(i,"a whitespace character is expected after the key-value separator within a block mapping"),j&&(ip(i,k,C,M,I,null,d,p,m),M=I=D=null),H=!0,j=!1,l=!1,M=i.tag,I=i.result;else if(H)qe(i,"can not read an implicit mapping pair; a colon is missed");else return i.tag=v,i.anchor=x,!0}else if(H)qe(i,"can not read a block mapping entry; a multiline key may not be an implicit key");else return i.tag=v,i.anchor=x,!0}if((i.line===u||i.lineIndent>r)&&(j&&(d=i.line,p=i.lineStart,m=i.position),yp(i,r,jv,!0,l)&&(j?I=i.result:D=i.result),j||(ip(i,k,C,M,I,D,d,p,m),M=I=D=null),xn(i,!0,-1),J=i.input.charCodeAt(i.position)),(i.line===u||i.lineIndent>r)&&J!==0)qe(i,"bad indentation of a mapping entry");else if(i.lineIndent<r)break}return j&&ip(i,k,C,M,I,null,d,p,m),H&&(i.tag=v,i.anchor=x,i.kind="mapping",i.result=k),H}function zz(i){var r,t=!1,o=!1,l,u,d;if(d=i.input.charCodeAt(i.position),d!==33)return!1;if(i.tag!==null&&qe(i,"duplication of a tag property"),d=i.input.charCodeAt(++i.position),d===60?(t=!0,d=i.input.charCodeAt(++i.position)):d===33?(o=!0,l="!!",d=i.input.charCodeAt(++i.position)):l="!",r=i.position,t){do d=i.input.charCodeAt(++i.position);while(d!==0&&d!==62);i.position<i.length?(u=i.input.slice(r,i.position),d=i.input.charCodeAt(++i.position)):qe(i,"unexpected end of the stream within a verbatim tag")}else{for(;d!==0&&!Qo(d);)d===33&&(o?qe(i,"tag suffix cannot contain exclamation marks"):(l=i.input.slice(r-1,i.position+1),zC.test(l)||qe(i,"named tag handle cannot contain such characters"),o=!0,r=i.position+1)),d=i.input.charCodeAt(++i.position);u=i.input.slice(r,i.position),kz.test(u)&&qe(i,"tag suffix cannot contain flow indicator characters")}u&&!NC.test(u)&&qe(i,"tag name cannot contain such characters: "+u);try{u=decodeURIComponent(u)}catch{qe(i,"tag name is malformed: "+u)}return t?i.tag=u:mu.call(i.tagMap,l)?i.tag=i.tagMap[l]+u:l==="!"?i.tag="!"+u:l==="!!"?i.tag="tag:yaml.org,2002:"+u:qe(i,'undeclared tag handle "'+l+'"'),!0}function Nz(i){var r,t;if(t=i.input.charCodeAt(i.position),t!==38)return!1;for(i.anchor!==null&&qe(i,"duplication of an anchor property"),t=i.input.charCodeAt(++i.position),r=i.position;t!==0&&!Qo(t)&&!rp(t);)t=i.input.charCodeAt(++i.position);return i.position===r&&qe(i,"name of an anchor node must contain at least one character"),i.anchor=i.input.slice(r,i.position),!0}function Dz(i){var r,t,o;if(o=i.input.charCodeAt(i.position),o!==42)return!1;for(o=i.input.charCodeAt(++i.position),r=i.position;o!==0&&!Qo(o)&&!rp(o);)o=i.input.charCodeAt(++i.position);return i.position===r&&qe(i,"name of an alias node must contain at least one character"),t=i.input.slice(r,i.position),mu.call(i.anchorMap,t)||qe(i,'unidentified alias "'+t+'"'),i.result=i.anchorMap[t],xn(i,!0,-1),!0}function yp(i,r,t,o,l){var u,d,p,m=1,v=!1,x=!1,k,C,M,I,D,j;if(i.listener!==null&&i.listener("open",i),i.tag=null,i.anchor=null,i.kind=null,i.result=null,u=d=p=jv===t||OC===t,o&&xn(i,!0,-1)&&(v=!0,i.lineIndent>r?m=1:i.lineIndent===r?m=0:i.lineIndent<r&&(m=-1)),m===1)for(;zz(i)||Nz(i);)xn(i,!0,-1)?(v=!0,p=u,i.lineIndent>r?m=1:i.lineIndent===r?m=0:i.lineIndent<r&&(m=-1)):p=!1;if(p&&(p=v||l),(m===1||jv===t)&&(Bv===t||RC===t?D=r:D=r+1,j=i.position-i.lineStart,m===1?p&&(tT(i,j)||Oz(i,j,D))||Az(i,D)?x=!0:(d&&Rz(i,D)||Iz(i,D)||Lz(i,D)?x=!0:Dz(i)?(x=!0,(i.tag!==null||i.anchor!==null)&&qe(i,"alias node should not have any properties")):Mz(i,D,Bv===t)&&(x=!0,i.tag===null&&(i.tag="?")),i.anchor!==null&&(i.anchorMap[i.anchor]=i.result)):m===0&&(x=p&&tT(i,j))),i.tag===null)i.anchor!==null&&(i.anchorMap[i.anchor]=i.result);else if(i.tag==="?"){for(i.result!==null&&i.kind!=="scalar"&&qe(i,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+i.kind+'"'),k=0,C=i.implicitTypes.length;k<C;k+=1)if(I=i.implicitTypes[k],I.resolve(i.result)){i.result=I.construct(i.result),i.tag=I.tag,i.anchor!==null&&(i.anchorMap[i.anchor]=i.result);break}}else if(i.tag!=="!"){if(mu.call(i.typeMap[i.kind||"fallback"],i.tag))I=i.typeMap[i.kind||"fallback"][i.tag];else for(I=null,M=i.typeMap.multi[i.kind||"fallback"],k=0,C=M.length;k<C;k+=1)if(i.tag.slice(0,M[k].tag.length)===M[k].tag){I=M[k];break}I||qe(i,"unknown tag !<"+i.tag+">"),i.result!==null&&I.kind!==i.kind&&qe(i,"unacceptable node kind for !<"+i.tag+'> tag; it should be "'+I.kind+'", not "'+i.kind+'"'),I.resolve(i.result,i.tag)?(i.result=I.construct(i.result,i.tag),i.anchor!==null&&(i.anchorMap[i.anchor]=i.result)):qe(i,"cannot resolve a node with !<"+i.tag+"> explicit tag")}return i.listener!==null&&i.listener("close",i),i.tag!==null||i.anchor!==null||x}function Fz(i){var r=i.position,t,o,l,u=!1,d;for(i.version=null,i.checkLineBreaks=i.legacy,i.tagMap=Object.create(null),i.anchorMap=Object.create(null);(d=i.input.charCodeAt(i.position))!==0&&(xn(i,!0,-1),d=i.input.charCodeAt(i.position),!(i.lineIndent>0||d!==37));){for(u=!0,d=i.input.charCodeAt(++i.position),t=i.position;d!==0&&!Qo(d);)d=i.input.charCodeAt(++i.position);for(o=i.input.slice(t,i.position),l=[],o.length<1&&qe(i,"directive name must not be less than one character in length");d!==0;){for(;bh(d);)d=i.input.charCodeAt(++i.position);if(d===35){do d=i.input.charCodeAt(++i.position);while(d!==0&&!dl(d));break}if(dl(d))break;for(t=i.position;d!==0&&!Qo(d);)d=i.input.charCodeAt(++i.position);l.push(i.input.slice(t,i.position))}d!==0&&Lx(i),mu.call(QE,o)?QE[o](i,o,l):Hv(i,'unknown document directive "'+o+'"')}if(xn(i,!0,-1),i.lineIndent===0&&i.input.charCodeAt(i.position)===45&&i.input.charCodeAt(i.position+1)===45&&i.input.charCodeAt(i.position+2)===45?(i.position+=3,xn(i,!0,-1)):u&&qe(i,"directives end mark is expected"),yp(i,i.lineIndent-1,jv,!1,!0),xn(i,!0,-1),i.checkLineBreaks&&_z.test(i.input.slice(r,i.position))&&Hv(i,"non-ASCII line breaks are interpreted as content"),i.documents.push(i.result),i.position===i.lineStart&&Py(i)){i.input.charCodeAt(i.position)===46&&(i.position+=3,xn(i,!0,-1));return}if(i.position<i.length-1)qe(i,"end of the stream or a document separator is expected");else return}function jC(i,r){i=String(i),r=r||{},i.length!==0&&(i.charCodeAt(i.length-1)!==10&&i.charCodeAt(i.length-1)!==13&&(i+=`
`),i.charCodeAt(0)===65279&&(i=i.slice(1)));var t=new Pz(i,r),o=i.indexOf("\0");for(o!==-1&&(t.position=o,qe(t,"null byte is not allowed in input")),t.input+="\0";t.input.charCodeAt(t.position)===32;)t.lineIndent+=1,t.position+=1;for(;t.position<t.length-1;)Fz(t);return t.documents}function Bz(i,r,t){r!==null&&typeof r=="object"&&typeof t>"u"&&(t=r,r=null);var o=jC(i,t);if(typeof r!="function")return o;for(var l=0,u=o.length;l<u;l+=1)r(o[l])}function jz(i,r){var t=jC(i,r);if(t.length!==0){if(t.length===1)return t[0];throw new nc("expected a single document in the stream, but found more")}}var Hz=Bz,Uz=jz,Gz={loadAll:Hz,load:Uz},qz=Gz.load;const Vz=globalThis.window;let Aw=qz(Vz.options);var nS;const wh=((nS=Aw==null?void 0:Aw.defaults)==null?void 0:nS.iiifServer)||"iiif.mdpress.io";console.log(`iiifServer=${wh}`);function Rw(i){return/^Q\d+$/.test(i)}function Wz(i){return i.replace(/-([a-z])/g,function(r){return r[1].toUpperCase()})}function v1(){return"ontouchstart"in document.documentElement&&/mobi/i.test(navigator.userAgent)}let In={};async function HC(i=[],r="en"){let t=i.filter(o=>!In[o]).map(o=>`(<http://www.wikidata.org/entity/${o}>)`);if(t.length>0){let o=`
      SELECT ?item ?label ?description ?alias ?image ?logoImage ?coords ?pageBanner ?whosOnFirst ?wikipedia WHERE {
        VALUES (?item) { ${t.join(" ")} }
        ?item rdfs:label ?label . 
        FILTER (LANG(?label) = "${r}" || LANG(?label) = "en")
        OPTIONAL { ?item schema:description ?description . FILTER (LANG(?description) = "${r}" || LANG(?description) = "en")}
        OPTIONAL { ?item skos:altLabel ?alias . FILTER (LANG(?alias) = "${r}" || LANG(?alias) = "en")}
        OPTIONAL { ?item wdt:P625 ?coords . }
        OPTIONAL { ?item wdt:P18 ?image . }
        OPTIONAL { ?item wdt:P154 ?logoImage . }
        OPTIONAL { ?item wdt:P948 ?pageBanner . }
        OPTIONAL { ?item wdt:P6766 ?whosOnFirst . }
        OPTIONAL { ?wikipedia schema:about ?item; schema:isPartOf <https://${r}.wikipedia.org/> . }
    }`,l=await fetch("https://query.wikidata.org/sparql",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/sparql-results+json"},body:`query=${encodeURIComponent(o)}`});if(l.ok)return(await l.json()).results.bindings.forEach(d=>{let p=d.item.value.split("/").pop();In[p]?d.alias&&In[p].aliases.push(d.alias.value):(In[p]={id:p,label:d.label.value},d.description&&(In[p].description=d.description.value),d.alias&&(In[p].aliases=[d.alias.value]),d.coords&&(In[p].coords=d.coords.value.slice(6,-1).split(" ").reverse().join(",")),d.wikipedia&&(In[p].wikipedia=d.wikipedia.value),d.pageBanner&&(In[p].pageBanner=d.pageBanner.value),d.image&&(In[p].image=d.image.value,In[p].thumbnail=eT(d.image.value,300)),d.logoImage&&(In[p].logoImage=d.logoImage.value,In[p].thumbnail||(In[p].thumbnail=eT(d.logoImage.value,300))),d.whosOnFirst&&(In[p].geojson=Zz(d.whosOnFirst.value)))}),Object.fromEntries(i.filter(d=>In[d]).map(d=>[d,In[d]]))}return Object.fromEntries(i.filter(o=>In[o]).map(o=>[o,In[o]]))}function eT(i,r){i=(Array.isArray(i)?i[0]:i).replace(/Special:FilePath\//,"File:").split("File:").pop(),i=decodeURIComponent(i).replace(/ /g,"_");const t=on.hashStr(i),o=i.split(".").pop();let l=`https://upload.wikimedia.org/wikipedia/commons${r?"/thumb":""}`;return l+=`/${t.slice(0,1)}/${t.slice(0,2)}/${i}`,r&&(l+=`/${r}px-${i}`,o==="svg"?l+=".png":(o==="tif"||o==="tiff")&&(l+=".jpg")),l}function Zz(i){let r=[];for(let t=0;t<i.length;t+=3)r.push(i.slice(t,t+3));return`https://data.whosonfirst.org/${r.join("/")}/${i}.geojson`}async function Yz(i,r,t){return new Promise(o=>{let{x:l,y:u,w:d,h:p}=r,{width:m,height:v}=t,x=new Image;x.crossOrigin="anonymous",l=l?l/100:0,u=u?u/100:0,d=d?d/100:0,p=p?p/100:0,x.onload=()=>{let k=x.width,C=x.height,M=d>0?k*d:k-k*l,I=p>0?C*p:C-C*u,D=M/I;D>1?v=m/D:m=v*D;const j=document.createElement("canvas"),H=j.getContext("2d");j.width=m,j.height=v,l=l*k,u=u*C,H==null||H.drawImage(x,l,u,M,I,0,0,m,v);let J=j.toDataURL();o(J)},x.src=i})}async function Wd(i,r="en"){return(await HC([i],r))[i]}function UC(i,r,t=[]){if(t=t||[],r.items)for(let o=0;o<r.items.length;o++){let l=r.items[o];!Object.entries(i).find(([d,p])=>l[d]&&l[d]!==p)?t.push(l):UC(i,l,t)}return t}function GC(i,r,t=1){const o=UC(i,r);return o.length>=t?o[t-1]:null}function My(i,r=1){return GC({type:"Annotation",motivation:"painting"},i,r).body}function Xz(i){let r=(i==null?void 0:i.split("/"))||[],t="full",o="full",l="0",u="default",d="jpg",p=0;return{region:r.length>p&&r[p]?r[p]:t,size:r.length>p+1&&r[p+1]?r[p+1]:o,rotation:r.length>p+2&&r[p+2]?r[p+2]:l,quality:r.length>p+3&&r[p+3]?r[p+3]:u,format:r.length>p+4&&r[p+4]?r[p+4]:d}}const Y0={};async function Rx(i,r=!1){let t=i.map(l=>l.indexOf("http")===0?l:`https://${wh}/${l}/manifest.json`),o=t.filter(l=>!Y0[l]);if(console.log(`loadManifests: manifests=${t.length} cached=${t.length-o.length}`),o.length>0){let l=o.map(p=>(r&&["localhost",wh].includes(new URL(p).hostname)&&(p+="?refresh",console.log(p)),fetch(p))),u=await Promise.all(l),d=await Promise.all(u.map(p=>p.json()));if(l=d.filter(p=>!Array.isArray(p["@context"])&&parseFloat(p["@context"].split("/").slice(-2,-1).pop())<3).map(p=>fetch(`https://${wh}/prezi2to3/`,{method:"POST",body:JSON.stringify(p)})),l.length>0){u=await Promise.all(l);let p=await Promise.all(u.map(m=>m.json()));for(let m=0;m<d.length;m++){let v=d[m].id||d[m]["@id"],x=p.find(k=>(k.id||k["@id"])===v);x&&(d[m]=x)}}return d.forEach((p,m)=>Y0[o[m]]=p),t.map(p=>Y0[p])}else return t.map(l=>Y0[l])}async function gl(i,r=!1){let t=i.indexOf("http")===0?i:`https://${wh}/${i}/manifest.json`;return(await Rx([t],r))[0]}class Kz{constructor(){this.events={}}on(r,t){this.events[r]=this.events[r]||[],this.events[r].push(t)}off(r,t){if(this.events[r]){for(let o=0;o<this.events[r].length;o++)if(this.events[r][o]===t){this.events[r].splice(o,1);break}}}emit(r,t){this.events[r]&&this.events[r].forEach(function(o){o(t)})}}const Js=new Kz,Jz=["src","type"],Qz=kn({__name:"Audio.ce",props:{alt:{type:String},autoplay:{type:Boolean,default:!1},caption:{type:String},class:{type:String},end:{type:Number},muted:{type:Boolean,default:!0},noCaption:{type:Boolean},poster:{type:String},src:{type:String},start:{type:Number},sync:{type:Boolean,default:!1}},setup(i){const r=i,t=se(null),o=Ce(()=>{var U,et;return(et=(U=t.value)==null?void 0:U.getRootNode())==null?void 0:et.host}),l=se(null);Ne(l,async U=>{!u.value&&r.src&&(u.value=await gl(r.src)),x=U,j()});const u=se(null),d=Ce(()=>u.value?My(u.value):null),p=Ce(()=>{var U;return(U=d.value)==null?void 0:U.id}),m=Ce(()=>{var U;return(U=d.value)==null?void 0:U.format}),v=Ce(()=>{var U;return((U=o.value)==null?void 0:U.style.display)==="inline-block"});Ne(v,U=>{o.value.style.width=U?"250px":"100%"}),Ne(l,U=>{U&&v.value&&(U.style.height="24px",U.style.verticalAlign="middle")});let x;const k=se(!1),C=se(!1);Ne(o,async()=>{console.log(`audio: type=html5 src=${r.src}`),!u.value&&r.src&&(u.value=await gl(r.src)),I(),Js.on("seekto",U=>ot(U.start,U.end)),r.sync&&M()});function M(){let U=Array.from(document.querySelectorAll("p[data-head]")).map(et=>{let[lt,...ht]=et.dataset.head.split(/\s+/),Gt=document.createElement("a");if(Gt.classList.add("play"),Gt.href="javascript:;",Gt.textContent=lt,Gt.addEventListener("click",()=>{ot(et.dataset.head)}),et.insertBefore(document.createElement("br"),et.firstChild),ht.length>0){let St=document.createElement("span");St.classList.add("headline"),St.textContent=ht.join(" "),et.insertBefore(St,et.firstChild)}return et.insertBefore(Gt,et.firstChild),{start:st(et.dataset.head.split(/\s+/)[0]),id:et.id}});Js.on("video-at-time",et=>{let lt=et.time,ht=U.find(Gt=>{var St;return Gt.start<=lt&&(((St=U[U.indexOf(Gt)+1])==null?void 0:St.start)||1/0)>lt});if(ht&&x&&C.value){let Gt=document.getElementById(ht.id);Gt&&Gt.scrollIntoView({behavior:"smooth",block:"center"})}})}function I(){let U=o.value.parentElement;for(;U!=null&&U.parentElement&&U.tagName!=="MAIN";)Array.from(U.querySelectorAll("a")).forEach(et=>{let ht=new URL(et.href).pathname.split("/").filter(St=>St),Gt=ht.indexOf("play");if(Gt>=0&&ht.length>Gt+1&&D(et)){let Lt=ht[Gt+1],xt=ht.length>Gt+1?ht[Gt+2]:null;console.log(`Found play link: ${Lt} ${xt}`),et.classList.add("play"),et.href="javascript:;",et.setAttribute("data-play",xt?`${Lt} ${xt}`:Lt),et.addEventListener("click",Dt=>{var yt;let[zt,fe]=((yt=Dt.target.getAttribute("data-play"))==null?void 0:yt.split(/\s+/))||[];zt&&ot(zt,fe)})}}),U=U.parentElement}function D(U){function et(lt){let ht=lt.previousSibling;for(;ht;){if(ht.nodeName==="MDP-AUDIO")return ht===o.value?ht:null;ht=ht.previousSibling}}for(et(U);U.parentElement&&U.tagName!=="BODY";){U=U.parentElement;let lt=U.querySelector(":scope mdp-audio");if(lt)return lt===o.value?lt:null}}async function j(){W().then(U=>Js.emit("video-at-time",{time:Math.round(U)})),setInterval(async()=>{k.value=await J(),C.value=await H(),C.value&&W().then(U=>Js.emit("video-at-time",{time:Math.round(U)}))},1e3)}async function H(){return!(x.ended||x.paused)}async function J(){return await r.muted}function q(U){x.muted=U}async function W(){return x.currentTime}function st(U){var et=U.split(":").slice(0,3).map(Gt=>parseInt(Gt,10));let lt=0,ht=1;for(;et.length>0;){let Gt=et.pop()||0;lt+=ht*Gt,ht*=60}return lt}let mt=null,gt=!1;function ot(U,et=""){let lt=st(U),ht=et?st(et)+1:-1;console.log(`seekTo: start=${lt} end=${ht} isMuted=${k.value} forceMuteOnPlay=${gt}`),mt&&(clearTimeout(mt),mt=null);let Gt=k.value;setTimeout(()=>{x.play(),x.currentTime=lt,ht>=lt&&(mt=setTimeout(()=>{mt=null,x.pause(),!Gt&&gt&&q(!1)},ht===lt?200:(ht-lt)*1e3))},200)}return(U,et)=>(ce(),de("div",{ref_key:"root",ref:t},[u.value?(ce(),de("audio",{key:0,ref_key:"html5Player",ref:l,id:"html5-player",controls:""},[Jt("source",{src:p.value,type:m.value},null,8,Jz)],512)):ir("",!0)],512))}}),$z=`*{box-sizing:border-box}:host{display:block;width:100%}audio{width:100%}
`,no=(i,r)=>{const t=i.__vccOpts||i;for(const[o,l]of r)t[o]=l;return t},tN=no(Qz,[["styles",[$z]]]),eN=["href"],rN={key:1,class:"text-gray-500"},iN={key:2,class:"mx-2 text-gray-500"},nN=kn({__name:"Breadcrumbs.ce",setup(i){const r=se(null),t=Ce(()=>{var l;return(l=r==null?void 0:r.value)==null?void 0:l.parentNode});Ne(t,l=>{l.children[1].classList.remove("sticky")});const o=se();return zo(()=>{var d;let l=location.pathname,u=((d=window.config)==null?void 0:d.baseurl)||"";o.value=[...l.split("/").filter(p=>p).slice(u==null?void 0:u.split("/").filter(p=>p).length).map((p,m,v)=>({name:p,path:u+"/"+v.slice(0,m+1).join("/")}))]}),(l,u)=>{var d;return ce(),de("div",{class:"inline-flex items-center gap-1 w-full flex-wrap leading-6 mb-6",ref_key:"root",ref:r},[((d=o.value)==null?void 0:d.length)>1?(ce(!0),de(Mi,{key:0},sc(o.value,(p,m)=>(ce(),de(Mi,{key:p.path},[m<o.value.length-1?(ce(),de("a",{key:0,href:p.path,class:"text-[#0645ad] hover:underline"},hp(p.name),9,eN)):(ce(),de("span",rN,hp(p.name),1)),m<o.value.length-1?(ce(),de("span",iN," > ")):ir("",!0)],64))),128)):ir("",!0)],512)}}}),oN=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.mb-6{margin-bottom:1.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-\\[100\\%\\]{height:100%}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}mdp-header ul,mdp-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}
`,sN=no(nN,[["styles",[oN]]]),aN=["innerHTML"],lN=["qid"],cN=kn({__name:"Entities.ce",props:{class:{type:String}},setup(i){const r=se(0),t=se(null);Ne(t,p=>{let m=p?document.getElementById(p):null;document.querySelectorAll("p.active").forEach(v=>v.classList.remove("active")),m&&m.classList.add("active")});const o=Ce(()=>{var m;let p=t.value?document.getElementById(t.value):null;return p!=null&&p.dataset.qids?(m=p==null?void 0:p.dataset.qids)==null?void 0:m.split(/\s+/):[]});Ne(o,async p=>{p.length>0?l.value=await HC(p):l.value={}});const l=se({});zo(()=>{Js.on("video-at-time",m=>{r.value=m.time});let p=Array.from(document.querySelectorAll("p[data-head]")).map(m=>({start:u(m.dataset.head.split(/\s+/)[0]),id:m.id}));Js.on("video-at-time",m=>{var x;let v=m.time;t.value=(x=p.find(k=>{var C;return k.start<=v&&(((C=p[p.indexOf(k)+1])==null?void 0:C.start)||1/0)>v}))==null?void 0:x.id})});function u(p){var m=p.split(":").slice(0,3).map(k=>parseInt(k,10));let v=0,x=1;for(;m.length>0;){let k=m.pop()||0;v+=x*k,x*=60}return v}function d(p){let m=Math.floor(p/3600),v=Math.floor((p-m*3600)/60),x=p-m*3600-v*60;return m.toString().padStart(2,"0")+":"+v.toString().padStart(2,"0")+":"+x.toString().padStart(2,"0")}return(p,m)=>(ce(),de(Mi,null,[Jt("div",{innerHTML:d(r.value)},null,8,aN),Jt("div",null,[(ce(!0),de(Mi,null,sc(Object.values(l.value),v=>(ce(),de("mdp-entity-card",{key:v.id,qid:v.id},null,8,lN))),128))])],64))}}),uN={class:"card",hoist:""},hN=["src","alt"],dN={class:"content"},pN=["innerHTML"],fN=["innerHTML"],gN={slot:"footer"},mN=["href"],vN=kn({__name:"EntityCard.ce",props:{language:{type:String,default:"en"},qid:{type:String}},setup(i){const r=i;Ne(r,()=>{t.value=r.qid});const t=se(r.qid);Ne(t,()=>{m(t.value)});const o=se({}),l=Ce(()=>t.value&&o.value[t.value]),u=Ce(()=>{var x,k,C;return(C=(k=(x=l.value)==null?void 0:x.labels)==null?void 0:k[r.language])==null?void 0:C.value}),d=Ce(()=>{var x,k,C;return(C=(k=(x=l.value)==null?void 0:x.descriptions)==null?void 0:k[r.language])==null?void 0:C.value}),p=Ce(()=>{var x;return l.value&&((x=l.value.sitelinks[`${r.language}wiki`])==null?void 0:x.url)});zo(()=>{m(t.value)});async function m(x){if(!x||o.value[x])return;let k=`https://www.wikidata.org/wiki/Special:EntityData/${x}.json`;const M=await(await fetch(k)).json();Object.values(M.entities).forEach(I=>{I.summaryText={},I.claims.P18&&(I.image=I.claims.P18[0].mainsnak.datavalue.value,I.thumbnail=v(I.image))}),o.value={...o.value,...M.entities}}function v(x,k=400){Array.isArray(x)&&(x=x[0]),x=x.split("/").pop(),x=decodeURIComponent(x).replace(/ /g,"_");const C=on.hashStr(x),M=x.split(".").pop();let I=`https://upload.wikimedia.org/wikipedia/commons${k?"/thumb":""}`;return I+=`/${C.slice(0,1)}/${C.slice(0,2)}/${x}`,k&&(I+=`/${k}px-${x}`,M==="svg"?I+=".png":(M==="tif"||M==="tiff")&&(I+=".jpg")),I}return(x,k)=>{var C;return ce(),de("sl-card",uN,[Jt("img",{slot:"image",src:(C=l.value)==null?void 0:C.thumbnail,alt:u.value},null,8,hN),Jt("div",dN,[Jt("h2",{innerHTML:u.value},null,8,pN),d.value?(ce(),de("p",{key:0,class:"description",innerHTML:d.value},null,8,fN)):ir("",!0)]),Jt("div",gN,[Jt("a",{href:p.value,target:"_blank"},"Wikipedia",8,mN)])])}}}),yN=`.card{display:flex;flex-direction:column;max-width:300px;max-height:600px;background-color:#fff;margin:1em;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px;border:1px solid #ccc;border-radius:3px}img{max-height:375px;-o-object-fit:cover;object-fit:cover}.content{display:flex;flex-direction:column;flex:1;gap:.5em;padding:.5em}h2{margin:0}.description{margin:0;padding:0;font-style:italic;font-size:.9em}.card [slot=footer]{display:flex;justify-content:space-between;align-items:center;padding:.5em}
`,bN=no(vN,[["styles",[yN]]]),wN=["innerHTML"],xN=["qid","language"],_N=kn({__name:"EntityInfobox.ce",props:{language:{type:String,default:"en"},qid:{type:String}},setup(i){const r=i,t=se(null),o=Ce(()=>{var u,d;return(d=(u=t.value)==null?void 0:u.getRootNode())==null?void 0:d.host}),l=Ce(()=>{var u;return(u=o.value)==null?void 0:u.textContent});return(u,d)=>(ce(),de("sl-dropdown",{ref_key:"root",ref:t,distance:"12",placement:"top"},[Jt("div",{slot:"trigger",innerHTML:l.value},null,8,wN),Jt("mdp-entity-card",{qid:r.qid,language:r.language},null,8,xN)],512))}}),kN=`:host{cursor:pointer}sl-dropdown svg{width:1.2em;height:1.2em;cursor:pointer}
`,EN=no(_N,[["styles",[kN]]]);function Ox(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!1,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!1,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let Rh=Ox();function qC(i){Rh=i}const VC=/[&<>"']/,TN=new RegExp(VC.source,"g"),WC=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,SN=new RegExp(WC.source,"g"),CN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},rT=i=>CN[i];function po(i,r){if(r){if(VC.test(i))return i.replace(TN,rT)}else if(WC.test(i))return i.replace(SN,rT);return i}const PN=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function ZC(i){return i.replace(PN,(r,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const MN=/(^|[^\[])\^/g;function mi(i,r){i=typeof i=="string"?i:i.source,r=r||"";const t={replace:(o,l)=>(l=typeof l=="object"&&"source"in l?l.source:l,l=l.replace(MN,"$1"),i=i.replace(o,l),t),getRegex:()=>new RegExp(i,r)};return t}const IN=/[^\w:]/g,LN=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function iT(i,r,t){if(i){let o;try{o=decodeURIComponent(ZC(t)).replace(IN,"").toLowerCase()}catch{return null}if(o.indexOf("javascript:")===0||o.indexOf("vbscript:")===0||o.indexOf("data:")===0)return null}r&&!LN.test(t)&&(t=zN(r,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const X0={},AN=/^[^:]+:\/*[^/]*$/,RN=/^([^:]+:)[\s\S]*$/,ON=/^([^:]+:\/*[^/]*)[\s\S]*$/;function zN(i,r){X0[" "+i]||(AN.test(i)?X0[" "+i]=i+"/":X0[" "+i]=bv(i,"/",!0)),i=X0[" "+i];const t=i.indexOf(":")===-1;return r.substring(0,2)==="//"?t?r:i.replace(RN,"$1")+r:r.charAt(0)==="/"?t?r:i.replace(ON,"$1")+r:i+r}const Uv={exec:()=>null};function nT(i,r){const t=i.replace(/\|/g,(u,d,p)=>{let m=!1,v=d;for(;--v>=0&&p[v]==="\\";)m=!m;return m?"|":" |"}),o=t.split(/ \|/);let l=0;if(o[0].trim()||o.shift(),o.length>0&&!o[o.length-1].trim()&&o.pop(),r)if(o.length>r)o.splice(r);else for(;o.length<r;)o.push("");for(;l<o.length;l++)o[l]=o[l].trim().replace(/\\\|/g,"|");return o}function bv(i,r,t){const o=i.length;if(o===0)return"";let l=0;for(;l<o;){const u=i.charAt(o-l-1);if(u===r&&!t)l++;else if(u!==r&&t)l++;else break}return i.slice(0,o-l)}function NN(i,r){if(i.indexOf(r[1])===-1)return-1;let t=0;for(let o=0;o<i.length;o++)if(i[o]==="\\")o++;else if(i[o]===r[0])t++;else if(i[o]===r[1]&&(t--,t<0))return o;return-1}function DN(i,r){!i||i.silent||(r&&console.warn("marked(): callback is deprecated since version 5.0.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/using_pro#async"),(i.sanitize||i.sanitizer)&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options"),(i.highlight||i.langPrefix!=="language-")&&console.warn("marked(): highlight and langPrefix parameters are deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-highlight."),i.mangle&&console.warn("marked(): mangle parameter is enabled by default, but is deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install https://www.npmjs.com/package/marked-mangle, or disable by setting `{mangle: false}`."),i.baseUrl&&console.warn("marked(): baseUrl parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-base-url."),i.smartypants&&console.warn("marked(): smartypants parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-smartypants."),i.xhtml&&console.warn("marked(): xhtml parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-xhtml."),(i.headerIds||i.headerPrefix)&&console.warn("marked(): headerIds and headerPrefix parameters enabled by default, but are deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install  https://www.npmjs.com/package/marked-gfm-heading-id, or disable by setting `{headerIds: false}`."))}function oT(i,r,t,o){const l=r.href,u=r.title?po(r.title):null,d=i[1].replace(/\\([\[\]])/g,"$1");if(i[0].charAt(0)!=="!"){o.state.inLink=!0;const p={type:"link",raw:t,href:l,title:u,text:d,tokens:o.inlineTokens(d)};return o.state.inLink=!1,p}return{type:"image",raw:t,href:l,title:u,text:po(d)}}function FN(i,r){const t=i.match(/^(\s+)(?:```)/);if(t===null)return r;const o=t[1];return r.split(`
`).map(l=>{const u=l.match(/^\s+/);if(u===null)return l;const[d]=u;return d.length>=o.length?l.slice(o.length):l}).join(`
`)}class Gv{constructor(r){li(this,"options");li(this,"rules");li(this,"lexer");this.options=r||Rh}space(r){const t=this.rules.block.newline.exec(r);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(r){const t=this.rules.block.code.exec(r);if(t){const o=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?o:bv(o,`
`)}}}fences(r){const t=this.rules.block.fences.exec(r);if(t){const o=t[0],l=FN(o,t[3]||"");return{type:"code",raw:o,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:l}}}heading(r){const t=this.rules.block.heading.exec(r);if(t){let o=t[2].trim();if(/#$/.test(o)){const l=bv(o,"#");(this.options.pedantic||!l||/ $/.test(l))&&(o=l.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:o,tokens:this.lexer.inline(o)}}}hr(r){const t=this.rules.block.hr.exec(r);if(t)return{type:"hr",raw:t[0]}}blockquote(r){const t=this.rules.block.blockquote.exec(r);if(t){const o=t[0].replace(/^ *>[ \t]?/gm,""),l=this.lexer.state.top;this.lexer.state.top=!0;const u=this.lexer.blockTokens(o);return this.lexer.state.top=l,{type:"blockquote",raw:t[0],tokens:u,text:o}}}list(r){let t=this.rules.block.list.exec(r);if(t){let o=t[1].trim();const l=o.length>1,u={type:"list",raw:"",ordered:l,start:l?+o.slice(0,-1):"",loose:!1,items:[]};o=l?`\\d{1,9}\\${o.slice(-1)}`:`\\${o}`,this.options.pedantic&&(o=l?o:"[*+-]");const d=new RegExp(`^( {0,3}${o})((?:[	 ][^\\n]*)?(?:\\n|$))`);let p="",m="",v=!1;for(;r;){let x=!1;if(!(t=d.exec(r))||this.rules.block.hr.test(r))break;p=t[0],r=r.substring(p.length);let k=t[2].split(`
`,1)[0].replace(/^\t+/,H=>" ".repeat(3*H.length)),C=r.split(`
`,1)[0],M=0;this.options.pedantic?(M=2,m=k.trimLeft()):(M=t[2].search(/[^ ]/),M=M>4?1:M,m=k.slice(M),M+=t[1].length);let I=!1;if(!k&&/^ *$/.test(C)&&(p+=C+`
`,r=r.substring(C.length+1),x=!0),!x){const H=new RegExp(`^ {0,${Math.min(3,M-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),J=new RegExp(`^ {0,${Math.min(3,M-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),q=new RegExp(`^ {0,${Math.min(3,M-1)}}(?:\`\`\`|~~~)`),W=new RegExp(`^ {0,${Math.min(3,M-1)}}#`);for(;r;){const st=r.split(`
`,1)[0];if(C=st,this.options.pedantic&&(C=C.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),q.test(C)||W.test(C)||H.test(C)||J.test(r))break;if(C.search(/[^ ]/)>=M||!C.trim())m+=`
`+C.slice(M);else{if(I||k.search(/[^ ]/)>=4||q.test(k)||W.test(k)||J.test(k))break;m+=`
`+C}!I&&!C.trim()&&(I=!0),p+=st+`
`,r=r.substring(st.length+1),k=C.slice(M)}}u.loose||(v?u.loose=!0:/\n *\n *$/.test(p)&&(v=!0));let D=null,j;this.options.gfm&&(D=/^\[[ xX]\] /.exec(m),D&&(j=D[0]!=="[ ] ",m=m.replace(/^\[[ xX]\] +/,""))),u.items.push({type:"list_item",raw:p,task:!!D,checked:j,loose:!1,text:m,tokens:[]}),u.raw+=p}u.items[u.items.length-1].raw=p.trimRight(),u.items[u.items.length-1].text=m.trimRight(),u.raw=u.raw.trimRight();for(let x=0;x<u.items.length;x++)if(this.lexer.state.top=!1,u.items[x].tokens=this.lexer.blockTokens(u.items[x].text,[]),!u.loose){const k=u.items[x].tokens.filter(M=>M.type==="space"),C=k.length>0&&k.some(M=>/\n.*\n/.test(M.raw));u.loose=C}if(u.loose)for(let x=0;x<u.items.length;x++)u.items[x].loose=!0;return u}}html(r){const t=this.rules.block.html.exec(r);if(t){const o={type:"html",block:!0,raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};if(this.options.sanitize){const l=this.options.sanitizer?this.options.sanitizer(t[0]):po(t[0]),u=o;u.type="paragraph",u.text=l,u.tokens=this.lexer.inline(l)}return o}}def(r){const t=this.rules.block.def.exec(r);if(t){const o=t[1].toLowerCase().replace(/\s+/g," "),l=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",u=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:o,raw:t[0],href:l,title:u}}}table(r){const t=this.rules.block.table.exec(r);if(t){const o={type:"table",raw:t[0],header:nT(t[1]).map(l=>({text:l,tokens:[]})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(o.header.length===o.align.length){let l=o.align.length,u,d,p,m;for(u=0;u<l;u++){const v=o.align[u];v&&(/^ *-+: *$/.test(v)?o.align[u]="right":/^ *:-+: *$/.test(v)?o.align[u]="center":/^ *:-+ *$/.test(v)?o.align[u]="left":o.align[u]=null)}for(l=o.rows.length,u=0;u<l;u++)o.rows[u]=nT(o.rows[u],o.header.length).map(v=>({text:v,tokens:[]}));for(l=o.header.length,d=0;d<l;d++)o.header[d].tokens=this.lexer.inline(o.header[d].text);for(l=o.rows.length,d=0;d<l;d++)for(m=o.rows[d],p=0;p<m.length;p++)m[p].tokens=this.lexer.inline(m[p].text);return o}}}lheading(r){const t=this.rules.block.lheading.exec(r);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(r){const t=this.rules.block.paragraph.exec(r);if(t){const o=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:o,tokens:this.lexer.inline(o)}}}text(r){const t=this.rules.block.text.exec(r);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(r){const t=this.rules.inline.escape.exec(r);if(t)return{type:"escape",raw:t[0],text:po(t[1])}}tag(r){const t=this.rules.inline.tag.exec(r);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):po(t[0]):t[0]}}link(r){const t=this.rules.inline.link.exec(r);if(t){const o=t[2].trim();if(!this.options.pedantic&&/^</.test(o)){if(!/>$/.test(o))return;const d=bv(o.slice(0,-1),"\\");if((o.length-d.length)%2===0)return}else{const d=NN(t[2],"()");if(d>-1){const m=(t[0].indexOf("!")===0?5:4)+t[1].length+d;t[2]=t[2].substring(0,d),t[0]=t[0].substring(0,m).trim(),t[3]=""}}let l=t[2],u="";if(this.options.pedantic){const d=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(l);d&&(l=d[1],u=d[3])}else u=t[3]?t[3].slice(1,-1):"";return l=l.trim(),/^</.test(l)&&(this.options.pedantic&&!/>$/.test(o)?l=l.slice(1):l=l.slice(1,-1)),oT(t,{href:l&&l.replace(this.rules.inline._escapes,"$1"),title:u&&u.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(r,t){let o;if((o=this.rules.inline.reflink.exec(r))||(o=this.rules.inline.nolink.exec(r))){let l=(o[2]||o[1]).replace(/\s+/g," ");if(l=t[l.toLowerCase()],!l){const u=o[0].charAt(0);return{type:"text",raw:u,text:u}}return oT(o,l,o[0],this.lexer)}}emStrong(r,t,o=""){let l=this.rules.inline.emStrong.lDelim.exec(r);if(!l||l[3]&&o.match(/[\p{L}\p{N}]/u))return;if(!(l[1]||l[2]||"")||!o||this.rules.inline.punctuation.exec(o)){const d=[...l[0]].length-1;let p,m,v=d,x=0;const k=l[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(k.lastIndex=0,t=t.slice(-1*r.length+d);(l=k.exec(t))!=null;){if(p=l[1]||l[2]||l[3]||l[4]||l[5]||l[6],!p)continue;if(m=[...p].length,l[3]||l[4]){v+=m;continue}else if((l[5]||l[6])&&d%3&&!((d+m)%3)){x+=m;continue}if(v-=m,v>0)continue;m=Math.min(m,m+v+x);const C=[...r].slice(0,d+l.index+m+1).join("");if(Math.min(d,m)%2){const I=C.slice(1,-1);return{type:"em",raw:C,text:I,tokens:this.lexer.inlineTokens(I)}}const M=C.slice(2,-2);return{type:"strong",raw:C,text:M,tokens:this.lexer.inlineTokens(M)}}}}codespan(r){const t=this.rules.inline.code.exec(r);if(t){let o=t[2].replace(/\n/g," ");const l=/[^ ]/.test(o),u=/^ /.test(o)&&/ $/.test(o);return l&&u&&(o=o.substring(1,o.length-1)),o=po(o,!0),{type:"codespan",raw:t[0],text:o}}}br(r){const t=this.rules.inline.br.exec(r);if(t)return{type:"br",raw:t[0]}}del(r){const t=this.rules.inline.del.exec(r);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(r,t){const o=this.rules.inline.autolink.exec(r);if(o){let l,u;return o[2]==="@"?(l=po(this.options.mangle?t(o[1]):o[1]),u="mailto:"+l):(l=po(o[1]),u=l),{type:"link",raw:o[0],text:l,href:u,tokens:[{type:"text",raw:l,text:l}]}}}url(r,t){let o;if(o=this.rules.inline.url.exec(r)){let l,u;if(o[2]==="@")l=po(this.options.mangle?t(o[0]):o[0]),u="mailto:"+l;else{let d;do d=o[0],o[0]=this.rules.inline._backpedal.exec(o[0])[0];while(d!==o[0]);l=po(o[0]),o[1]==="www."?u="http://"+o[0]:u=o[0]}return{type:"link",raw:o[0],text:l,href:u,tokens:[{type:"text",raw:l,text:l}]}}}inlineText(r,t){const o=this.rules.inline.text.exec(r);if(o){let l;return this.lexer.state.inRawBlock?l=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):po(o[0]):o[0]:l=po(this.options.smartypants?t(o[0]):o[0]),{type:"text",raw:o[0],text:l}}}}const Ve={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Uv,lheading:/^((?:(?!^bull ).|\n(?!\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Ve._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;Ve._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;Ve.def=mi(Ve.def).replace("label",Ve._label).replace("title",Ve._title).getRegex();Ve.bullet=/(?:[*+-]|\d{1,9}[.)])/;Ve.listItemStart=mi(/^( *)(bull) */).replace("bull",Ve.bullet).getRegex();Ve.list=mi(Ve.list).replace(/bull/g,Ve.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Ve.def.source+")").getRegex();Ve._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";Ve._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;Ve.html=mi(Ve.html,"i").replace("comment",Ve._comment).replace("tag",Ve._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();Ve.lheading=mi(Ve.lheading).replace(/bull/g,Ve.bullet).getRegex();Ve.paragraph=mi(Ve._paragraph).replace("hr",Ve.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ve._tag).getRegex();Ve.blockquote=mi(Ve.blockquote).replace("paragraph",Ve.paragraph).getRegex();Ve.normal={...Ve};Ve.gfm={...Ve.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};Ve.gfm.table=mi(Ve.gfm.table).replace("hr",Ve.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ve._tag).getRegex();Ve.gfm.paragraph=mi(Ve._paragraph).replace("hr",Ve.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Ve.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ve._tag).getRegex();Ve.pedantic={...Ve.normal,html:mi(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Ve._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Uv,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:mi(Ve.normal._paragraph).replace("hr",Ve.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ve.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const Me={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Uv,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Uv,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};Me._punctuation="\\p{P}$+<=>`^|~";Me.punctuation=mi(Me.punctuation,"u").replace(/punctuation/g,Me._punctuation).getRegex();Me.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;Me.anyPunctuation=/\\[punct]/g;Me._escapes=/\\([punct])/g;Me._comment=mi(Ve._comment).replace("(?:-->|$)","-->").getRegex();Me.emStrong.lDelim=mi(Me.emStrong.lDelim,"u").replace(/punct/g,Me._punctuation).getRegex();Me.emStrong.rDelimAst=mi(Me.emStrong.rDelimAst,"gu").replace(/punct/g,Me._punctuation).getRegex();Me.emStrong.rDelimUnd=mi(Me.emStrong.rDelimUnd,"gu").replace(/punct/g,Me._punctuation).getRegex();Me.anyPunctuation=mi(Me.anyPunctuation,"gu").replace(/punct/g,Me._punctuation).getRegex();Me._escapes=mi(Me._escapes,"gu").replace(/punct/g,Me._punctuation).getRegex();Me._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;Me._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;Me.autolink=mi(Me.autolink).replace("scheme",Me._scheme).replace("email",Me._email).getRegex();Me._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;Me.tag=mi(Me.tag).replace("comment",Me._comment).replace("attribute",Me._attribute).getRegex();Me._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;Me._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;Me._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;Me.link=mi(Me.link).replace("label",Me._label).replace("href",Me._href).replace("title",Me._title).getRegex();Me.reflink=mi(Me.reflink).replace("label",Me._label).replace("ref",Ve._label).getRegex();Me.nolink=mi(Me.nolink).replace("ref",Ve._label).getRegex();Me.reflinkSearch=mi(Me.reflinkSearch,"g").replace("reflink",Me.reflink).replace("nolink",Me.nolink).getRegex();Me.normal={...Me};Me.pedantic={...Me.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:mi(/^!?\[(label)\]\((.*?)\)/).replace("label",Me._label).getRegex(),reflink:mi(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Me._label).getRegex()};Me.gfm={...Me.normal,escape:mi(Me.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};Me.gfm.url=mi(Me.gfm.url,"i").replace("email",Me.gfm._extended_email).getRegex();Me.breaks={...Me.gfm,br:mi(Me.br).replace("{2,}","*").getRegex(),text:mi(Me.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function BN(i){return i.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function sT(i){let r="";for(let t=0;t<i.length;t++){const o=Math.random()>.5?"x"+i.charCodeAt(t).toString(16):i.charCodeAt(t).toString();r+="&#"+o+";"}return r}class ul{constructor(r){li(this,"tokens");li(this,"options");li(this,"state");li(this,"tokenizer");li(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=r||Rh,this.options.tokenizer=this.options.tokenizer||new Gv,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Ve.normal,inline:Me.normal};this.options.pedantic?(t.block=Ve.pedantic,t.inline=Me.pedantic):this.options.gfm&&(t.block=Ve.gfm,this.options.breaks?t.inline=Me.breaks:t.inline=Me.gfm),this.tokenizer.rules=t}static get rules(){return{block:Ve,inline:Me}}static lex(r,t){return new ul(t).lex(r)}static lexInline(r,t){return new ul(t).inlineTokens(r)}lex(r){r=r.replace(/\r\n|\r/g,`
`),this.blockTokens(r,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(r,t=[]){this.options.pedantic?r=r.replace(/\t/g,"    ").replace(/^ +$/gm,""):r=r.replace(/^( *)(\t+)/gm,(p,m,v)=>m+"    ".repeat(v.length));let o,l,u,d;for(;r;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(p=>(o=p.call({lexer:this},r,t))?(r=r.substring(o.raw.length),t.push(o),!0):!1))){if(o=this.tokenizer.space(r)){r=r.substring(o.raw.length),o.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(o);continue}if(o=this.tokenizer.code(r)){r=r.substring(o.raw.length),l=t[t.length-1],l&&(l.type==="paragraph"||l.type==="text")?(l.raw+=`
`+o.raw,l.text+=`
`+o.text,this.inlineQueue[this.inlineQueue.length-1].src=l.text):t.push(o);continue}if(o=this.tokenizer.fences(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.heading(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.hr(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.blockquote(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.list(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.html(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.def(r)){r=r.substring(o.raw.length),l=t[t.length-1],l&&(l.type==="paragraph"||l.type==="text")?(l.raw+=`
`+o.raw,l.text+=`
`+o.raw,this.inlineQueue[this.inlineQueue.length-1].src=l.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title});continue}if(o=this.tokenizer.table(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.lheading(r)){r=r.substring(o.raw.length),t.push(o);continue}if(u=r,this.options.extensions&&this.options.extensions.startBlock){let p=1/0;const m=r.slice(1);let v;this.options.extensions.startBlock.forEach(x=>{v=x.call({lexer:this},m),typeof v=="number"&&v>=0&&(p=Math.min(p,v))}),p<1/0&&p>=0&&(u=r.substring(0,p+1))}if(this.state.top&&(o=this.tokenizer.paragraph(u))){l=t[t.length-1],d&&l.type==="paragraph"?(l.raw+=`
`+o.raw,l.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=l.text):t.push(o),d=u.length!==r.length,r=r.substring(o.raw.length);continue}if(o=this.tokenizer.text(r)){r=r.substring(o.raw.length),l=t[t.length-1],l&&l.type==="text"?(l.raw+=`
`+o.raw,l.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=l.text):t.push(o);continue}if(r){const p="Infinite loop on byte: "+r.charCodeAt(0);if(this.options.silent){console.error(p);break}else throw new Error(p)}}return this.state.top=!0,t}inline(r,t=[]){return this.inlineQueue.push({src:r,tokens:t}),t}inlineTokens(r,t=[]){let o,l,u,d=r,p,m,v;if(this.tokens.links){const x=Object.keys(this.tokens.links);if(x.length>0)for(;(p=this.tokenizer.rules.inline.reflinkSearch.exec(d))!=null;)x.includes(p[0].slice(p[0].lastIndexOf("[")+1,-1))&&(d=d.slice(0,p.index)+"["+"a".repeat(p[0].length-2)+"]"+d.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(p=this.tokenizer.rules.inline.blockSkip.exec(d))!=null;)d=d.slice(0,p.index)+"["+"a".repeat(p[0].length-2)+"]"+d.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(p=this.tokenizer.rules.inline.anyPunctuation.exec(d))!=null;)d=d.slice(0,p.index)+"++"+d.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;r;)if(m||(v=""),m=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(x=>(o=x.call({lexer:this},r,t))?(r=r.substring(o.raw.length),t.push(o),!0):!1))){if(o=this.tokenizer.escape(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.tag(r)){r=r.substring(o.raw.length),l=t[t.length-1],l&&o.type==="text"&&l.type==="text"?(l.raw+=o.raw,l.text+=o.text):t.push(o);continue}if(o=this.tokenizer.link(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.reflink(r,this.tokens.links)){r=r.substring(o.raw.length),l=t[t.length-1],l&&o.type==="text"&&l.type==="text"?(l.raw+=o.raw,l.text+=o.text):t.push(o);continue}if(o=this.tokenizer.emStrong(r,d,v)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.codespan(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.br(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.del(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.autolink(r,sT)){r=r.substring(o.raw.length),t.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(r,sT))){r=r.substring(o.raw.length),t.push(o);continue}if(u=r,this.options.extensions&&this.options.extensions.startInline){let x=1/0;const k=r.slice(1);let C;this.options.extensions.startInline.forEach(M=>{C=M.call({lexer:this},k),typeof C=="number"&&C>=0&&(x=Math.min(x,C))}),x<1/0&&x>=0&&(u=r.substring(0,x+1))}if(o=this.tokenizer.inlineText(u,BN)){r=r.substring(o.raw.length),o.raw.slice(-1)!=="_"&&(v=o.raw.slice(-1)),m=!0,l=t[t.length-1],l&&l.type==="text"?(l.raw+=o.raw,l.text+=o.text):t.push(o);continue}if(r){const x="Infinite loop on byte: "+r.charCodeAt(0);if(this.options.silent){console.error(x);break}else throw new Error(x)}}return t}}class qv{constructor(r){li(this,"options");this.options=r||Rh}code(r,t,o){var u;const l=(u=(t||"").match(/^\S*/))==null?void 0:u[0];if(this.options.highlight){const d=this.options.highlight(r,l);d!=null&&d!==r&&(o=!0,r=d)}return r=r.replace(/\n$/,"")+`
`,l?'<pre><code class="'+this.options.langPrefix+po(l)+'">'+(o?r:po(r,!0))+`</code></pre>
`:"<pre><code>"+(o?r:po(r,!0))+`</code></pre>
`}blockquote(r){return`<blockquote>
${r}</blockquote>
`}html(r,t){return r}heading(r,t,o,l){if(this.options.headerIds){const u=this.options.headerPrefix+l.slug(o);return`<h${t} id="${u}">${r}</h${t}>
`}return`<h${t}>${r}</h${t}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(r,t,o){const l=t?"ol":"ul",u=t&&o!==1?' start="'+o+'"':"";return"<"+l+u+`>
`+r+"</"+l+`>
`}listitem(r,t,o){return`<li>${r}</li>
`}checkbox(r){return"<input "+(r?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(r){return`<p>${r}</p>
`}table(r,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+t+`</table>
`}tablerow(r){return`<tr>
${r}</tr>
`}tablecell(r,t){const o=t.header?"th":"td";return(t.align?`<${o} align="${t.align}">`:`<${o}>`)+r+`</${o}>
`}strong(r){return`<strong>${r}</strong>`}em(r){return`<em>${r}</em>`}codespan(r){return`<code>${r}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(r){return`<del>${r}</del>`}link(r,t,o){const l=iT(this.options.sanitize,this.options.baseUrl,r);if(l===null)return o;r=l;let u='<a href="'+r+'"';return t&&(u+=' title="'+t+'"'),u+=">"+o+"</a>",u}image(r,t,o){const l=iT(this.options.sanitize,this.options.baseUrl,r);if(l===null)return o;r=l;let u=`<img src="${r}" alt="${o}"`;return t&&(u+=` title="${t}"`),u+=this.options.xhtml?"/>":">",u}text(r){return r}}class zx{strong(r){return r}em(r){return r}codespan(r){return r}del(r){return r}html(r){return r}text(r){return r}link(r,t,o){return""+o}image(r,t,o){return""+o}br(){return""}}class Nx{constructor(){li(this,"seen");this.seen={}}serialize(r){return r.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(r,t){let o=r,l=0;if(this.seen.hasOwnProperty(o)){l=this.seen[r];do l++,o=r+"-"+l;while(this.seen.hasOwnProperty(o))}return t||(this.seen[r]=l,this.seen[o]=0),o}slug(r,t={}){const o=this.serialize(r);return this.getNextSafeSlug(o,t.dryrun)}}class hl{constructor(r){li(this,"options");li(this,"renderer");li(this,"textRenderer");li(this,"slugger");this.options=r||Rh,this.options.renderer=this.options.renderer||new qv,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new zx,this.slugger=new Nx}static parse(r,t){return new hl(t).parse(r)}static parseInline(r,t){return new hl(t).parseInline(r)}parse(r,t=!0){let o="";for(let l=0;l<r.length;l++){const u=r[l];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[u.type]){const d=u,p=this.options.extensions.renderers[d.type].call({parser:this},d);if(p!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(d.type)){o+=p||"";continue}}switch(u.type){case"space":continue;case"hr":{o+=this.renderer.hr();continue}case"heading":{const d=u;o+=this.renderer.heading(this.parseInline(d.tokens),d.depth,ZC(this.parseInline(d.tokens,this.textRenderer)),this.slugger);continue}case"code":{const d=u;o+=this.renderer.code(d.text,d.lang,!!d.escaped);continue}case"table":{const d=u;let p="",m="";for(let x=0;x<d.header.length;x++)m+=this.renderer.tablecell(this.parseInline(d.header[x].tokens),{header:!0,align:d.align[x]});p+=this.renderer.tablerow(m);let v="";for(let x=0;x<d.rows.length;x++){const k=d.rows[x];m="";for(let C=0;C<k.length;C++)m+=this.renderer.tablecell(this.parseInline(k[C].tokens),{header:!1,align:d.align[C]});v+=this.renderer.tablerow(m)}o+=this.renderer.table(p,v);continue}case"blockquote":{const d=u,p=this.parse(d.tokens);o+=this.renderer.blockquote(p);continue}case"list":{const d=u,p=d.ordered,m=d.start,v=d.loose;let x="";for(let k=0;k<d.items.length;k++){const C=d.items[k],M=C.checked,I=C.task;let D="";if(C.task){const j=this.renderer.checkbox(!!M);v?C.tokens.length>0&&C.tokens[0].type==="paragraph"?(C.tokens[0].text=j+" "+C.tokens[0].text,C.tokens[0].tokens&&C.tokens[0].tokens.length>0&&C.tokens[0].tokens[0].type==="text"&&(C.tokens[0].tokens[0].text=j+" "+C.tokens[0].tokens[0].text)):C.tokens.unshift({type:"text",text:j}):D+=j}D+=this.parse(C.tokens,v),x+=this.renderer.listitem(D,I,!!M)}o+=this.renderer.list(x,p,m);continue}case"html":{const d=u;o+=this.renderer.html(d.text,d.block);continue}case"paragraph":{const d=u;o+=this.renderer.paragraph(this.parseInline(d.tokens));continue}case"text":{let d=u,p=d.tokens?this.parseInline(d.tokens):d.text;for(;l+1<r.length&&r[l+1].type==="text";)d=r[++l],p+=`
`+(d.tokens?this.parseInline(d.tokens):d.text);o+=t?this.renderer.paragraph(p):p;continue}default:{const d='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(d),"";throw new Error(d)}}}return o}parseInline(r,t){t=t||this.renderer;let o="";for(let l=0;l<r.length;l++){const u=r[l];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[u.type]){const d=this.options.extensions.renderers[u.type].call({parser:this},u);if(d!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(u.type)){o+=d||"";continue}}switch(u.type){case"escape":{const d=u;o+=t.text(d.text);break}case"html":{const d=u;o+=t.html(d.text);break}case"link":{const d=u;o+=t.link(d.href,d.title,this.parseInline(d.tokens,t));break}case"image":{const d=u;o+=t.image(d.href,d.title,d.text);break}case"strong":{const d=u;o+=t.strong(this.parseInline(d.tokens,t));break}case"em":{const d=u;o+=t.em(this.parseInline(d.tokens,t));break}case"codespan":{const d=u;o+=t.codespan(d.text);break}case"br":{o+=t.br();break}case"del":{const d=u;o+=t.del(this.parseInline(d.tokens,t));break}case"text":{const d=u;o+=t.text(d.text);break}default:{const d='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(d),"";throw new Error(d)}}}return o}}class xg{constructor(r){li(this,"options");this.options=r||Rh}preprocess(r){return r}postprocess(r){return r}}li(xg,"passThroughHooks",new Set(["preprocess","postprocess"]));var em,y1,dy,YC;class jN{constructor(...r){hw(this,em);hw(this,dy);li(this,"defaults",Ox());li(this,"options",this.setOptions);li(this,"parse",F0(this,em,y1).call(this,ul.lex,hl.parse));li(this,"parseInline",F0(this,em,y1).call(this,ul.lexInline,hl.parseInline));li(this,"Parser",hl);li(this,"parser",hl.parse);li(this,"Renderer",qv);li(this,"TextRenderer",zx);li(this,"Lexer",ul);li(this,"lexer",ul.lex);li(this,"Tokenizer",Gv);li(this,"Slugger",Nx);li(this,"Hooks",xg);this.use(...r)}walkTokens(r,t){var l,u;let o=[];for(const d of r)switch(o=o.concat(t.call(this,d)),d.type){case"table":{const p=d;for(const m of p.header)o=o.concat(this.walkTokens(m.tokens,t));for(const m of p.rows)for(const v of m)o=o.concat(this.walkTokens(v.tokens,t));break}case"list":{const p=d;o=o.concat(this.walkTokens(p.items,t));break}default:{const p=d;(u=(l=this.defaults.extensions)==null?void 0:l.childTokens)!=null&&u[p.type]?this.defaults.extensions.childTokens[p.type].forEach(m=>{o=o.concat(this.walkTokens(p[m],t))}):p.tokens&&(o=o.concat(this.walkTokens(p.tokens,t)))}}return o}use(...r){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return r.forEach(o=>{const l={...o};if(l.async=this.defaults.async||l.async||!1,o.extensions&&(o.extensions.forEach(u=>{if(!u.name)throw new Error("extension name required");if("renderer"in u){const d=t.renderers[u.name];d?t.renderers[u.name]=function(...p){let m=u.renderer.apply(this,p);return m===!1&&(m=d.apply(this,p)),m}:t.renderers[u.name]=u.renderer}if("tokenizer"in u){if(!u.level||u.level!=="block"&&u.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const d=t[u.level];d?d.unshift(u.tokenizer):t[u.level]=[u.tokenizer],u.start&&(u.level==="block"?t.startBlock?t.startBlock.push(u.start):t.startBlock=[u.start]:u.level==="inline"&&(t.startInline?t.startInline.push(u.start):t.startInline=[u.start]))}"childTokens"in u&&u.childTokens&&(t.childTokens[u.name]=u.childTokens)}),l.extensions=t),o.renderer){const u=this.defaults.renderer||new qv(this.defaults);for(const d in o.renderer){const p=o.renderer[d],m=d,v=u[m];u[m]=(...x)=>{let k=p.apply(u,x);return k===!1&&(k=v.apply(u,x)),k||""}}l.renderer=u}if(o.tokenizer){const u=this.defaults.tokenizer||new Gv(this.defaults);for(const d in o.tokenizer){const p=o.tokenizer[d],m=d,v=u[m];u[m]=(...x)=>{let k=p.apply(u,x);return k===!1&&(k=v.apply(u,x)),k}}l.tokenizer=u}if(o.hooks){const u=this.defaults.hooks||new xg;for(const d in o.hooks){const p=o.hooks[d],m=d,v=u[m];xg.passThroughHooks.has(d)?u[m]=x=>{if(this.defaults.async)return Promise.resolve(p.call(u,x)).then(C=>v.call(u,C));const k=p.call(u,x);return v.call(u,k)}:u[m]=(...x)=>{let k=p.apply(u,x);return k===!1&&(k=v.apply(u,x)),k}}l.hooks=u}if(o.walkTokens){const u=this.defaults.walkTokens,d=o.walkTokens;l.walkTokens=function(p){let m=[];return m.push(d.call(this,p)),u&&(m=m.concat(u.call(this,p))),m}}this.defaults={...this.defaults,...l}}),this}setOptions(r){return this.defaults={...this.defaults,...r},this}}em=new WeakSet,y1=function(r,t){return(o,l,u)=>{typeof l=="function"&&(u=l,l=null);const d={...l},p={...this.defaults,...d};this.defaults.async===!0&&d.async===!1&&(p.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),p.async=!0);const m=F0(this,dy,YC).call(this,!!p.silent,!!p.async,u);if(typeof o>"u"||o===null)return m(new Error("marked(): input parameter is undefined or null"));if(typeof o!="string")return m(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(o)+", string expected"));if(DN(p,u),p.hooks&&(p.hooks.options=p),u){const v=u,x=p.highlight;let k;try{p.hooks&&(o=p.hooks.preprocess(o)),k=r(o,p)}catch(I){return m(I)}const C=I=>{let D;if(!I)try{p.walkTokens&&this.walkTokens(k,p.walkTokens),D=t(k,p),p.hooks&&(D=p.hooks.postprocess(D))}catch(j){I=j}return p.highlight=x,I?m(I):v(null,D)};if(!x||x.length<3||(delete p.highlight,!k.length))return C();let M=0;this.walkTokens(k,I=>{I.type==="code"&&(M++,setTimeout(()=>{x(I.text,I.lang,(D,j)=>{if(D)return C(D);j!=null&&j!==I.text&&(I.text=j,I.escaped=!0),M--,M===0&&C()})},0))}),M===0&&C();return}if(p.async)return Promise.resolve(p.hooks?p.hooks.preprocess(o):o).then(v=>r(v,p)).then(v=>p.walkTokens?Promise.all(this.walkTokens(v,p.walkTokens)).then(()=>v):v).then(v=>t(v,p)).then(v=>p.hooks?p.hooks.postprocess(v):v).catch(m);try{p.hooks&&(o=p.hooks.preprocess(o));const v=r(o,p);p.walkTokens&&this.walkTokens(v,p.walkTokens);let x=t(v,p);return p.hooks&&(x=p.hooks.postprocess(x)),x}catch(v){return m(v)}}},dy=new WeakSet,YC=function(r,t,o){return l=>{if(l.message+=`
Please report this to https://github.com/markedjs/marked.`,r){const u="<p>An error occurred:</p><pre>"+po(l.message+"",!0)+"</pre>";if(t)return Promise.resolve(u);if(o){o(null,u);return}return u}if(t)return Promise.reject(l);if(o){o(l);return}throw l}};const Sh=new jN;function fi(i,r,t){return Sh.parse(i,r,t)}fi.options=fi.setOptions=function(i){return Sh.setOptions(i),fi.defaults=Sh.defaults,qC(fi.defaults),fi};fi.getDefaults=Ox;fi.defaults=Rh;fi.use=function(...i){return Sh.use(...i),fi.defaults=Sh.defaults,qC(fi.defaults),fi};fi.walkTokens=function(i,r){return Sh.walkTokens(i,r)};fi.parseInline=Sh.parseInline;fi.Parser=hl;fi.parser=hl.parse;fi.Renderer=qv;fi.TextRenderer=zx;fi.Lexer=ul;fi.lexer=ul.lex;fi.Tokenizer=Gv;fi.Slugger=Nx;fi.Hooks=xg;fi.parse=fi;fi.options;fi.setOptions;fi.use;fi.walkTokens;fi.parseInline;hl.parse;ul.lex;/*
 * Component
 * @version: 1.3.0
 * @author: HtmlStream
 * @license: Licensed under MIT (https://preline.co/docs/license.html)
 * Copyright 2023 Htmlstream
 */class XC{constructor(r,t){this.$collection=[],this.selector=r,this.config=t,this.events={}}_fireEvent(r,t=null){this.events.hasOwnProperty(r)&&this.events[r](t)}_dispatch(r,t,o=null){const l=new CustomEvent(r,{detail:{payload:o},bubbles:!0,cancelable:!0,composed:!1});t.dispatchEvent(l)}on(r,t){this.events[r]=t}afterTransition(r,t){const o=()=>{t(),r.removeEventListener("transitionend",o,!0)};window.getComputedStyle(r,null).getPropertyValue("transition")!=="all 0s ease 0s"?r.addEventListener("transitionend",o,!0):t()}getClassProperty(r,t,o=""){return(window.getComputedStyle(r).getPropertyValue(t)||o).replace(" ","")}}/*
 * HSOverlay
 * @version: 1.3.0
 * @author: HtmlStream
 * @license: Htmlstream Libraries (https://preline.co/docs/license.html)
 * Copyright 2023 Htmlstream
 */class Dx extends XC{constructor(t){super("[data-hs-overlay]");li(this,"root");this.root=t,this.openNextOverlay=!1}init(){this.root.addEventListener("click",t=>{const l=t.target.closest(this.selector),u=t.target.closest("[data-hs-overlay-close]"),d=t.target.getAttribute("aria-overlay")==="true";if(u)return this.close(u.closest(".hs-overlay.open"));if(l)return this.toggle(this.root.querySelector(l.getAttribute("data-hs-overlay")));d&&this._onBackdropClick(t.target)}),this.root.addEventListener("keydown",t=>{if(t.keyCode===27){const o=this.root.querySelector(".hs-overlay.open");if(!o)return;setTimeout(()=>{o.getAttribute("data-hs-overlay-keyboard")!=="false"&&this.close(o)})}})}toggle(t){t&&(t.classList.contains("hidden")?this.open(t):this.close(t))}open(t){if(!t)return;const o=this.root.querySelector(".hs-overlay.open"),l=this.getClassProperty(t,"--body-scroll","false")!=="true";if(o)return this.openNextOverlay=!0,this.close(o).then(()=>{this.open(t),this.openNextOverlay=!1});l&&(this.root.style.overflow="hidden"),this._buildBackdrop(t),this._checkTimer(t),this._autoHide(t),t.classList.remove("hidden"),t.setAttribute("aria-overlay","true"),t.setAttribute("tabindex","-1"),setTimeout(()=>{t.classList.contains("hidden")||(t.classList.add("open"),this._fireEvent("open",t),this._dispatch("open.hs.overlay",t,t),this._focusInput(t))},50)}close(t){return new Promise(o=>{t&&(t.classList.remove("open"),t.removeAttribute("aria-overlay"),t.removeAttribute("tabindex","-1"),this.afterTransition(t,()=>{t.classList.contains("open")||(t.classList.add("hidden"),this._destroyBackdrop(),this._fireEvent("close",t),this._dispatch("close.hs.overlay",t,t),this.root.style.overflow="",o(t))}))})}_autoHide(t){const o=parseInt(this.getClassProperty(t,"--auto-hide","0"));o&&(t.autoHide=setTimeout(()=>{this.close(t)},o))}_checkTimer(t){t.autoHide&&(clearTimeout(t.autoHide),delete t.autoHide)}_onBackdropClick(t){this.getClassProperty(t,"--overlay-backdrop","true")!=="static"&&this.close(t)}_buildBackdrop(t){const o=t.getAttribute("data-hs-overlay-backdrop-container")||!1;let l=document.createElement("div"),u="transition duration fixed inset-0 z-50 bg-gray-900 bg-opacity-50 dark:bg-opacity-80 hs-overlay-backdrop";for(const m of t.classList.values())m.startsWith("hs-overlay-backdrop-open:")&&(u+=` ${m}`);const d=this.getClassProperty(t,"--overlay-backdrop","true")!=="static";this.getClassProperty(t,"--overlay-backdrop","true")!=="false"&&(o&&(l=this.root.querySelector(o).cloneNode(!0),l.classList.remove("hidden"),u=l.classList,l.classList=""),d&&l.addEventListener("click",()=>this.close(t),!0),l.setAttribute("data-hs-overlay-backdrop-template",""),this.root.appendChild(l),setTimeout(()=>{l.classList=u}))}_destroyBackdrop(){const t=this.root.querySelector("[data-hs-overlay-backdrop-template]");t&&(this.openNextOverlay&&(t.style.transitionDuration=`${parseFloat(window.getComputedStyle(t).transitionDuration.replace(/[^\d.-]/g,""))*1.8}s`),t.classList.add("opacity-0"),this.afterTransition(t,()=>{t.remove()}))}_focusInput(t){const o=t.querySelector("[autofocus]");o&&o.focus()}}const HN=["innerHTML"],UN={class:"hs-overlay-open:mt-7 hs-overlay-open:opacity-100 hs-overlay-open:duration-500 mt-0 opacity-0 ease-out transition-all sm:max-w-lg sm:w-full m-3 sm:mx-auto min-h-[calc(100%-3.5rem)] flex items-center"},GN={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},qN={class:"p-4 overflow-y-auto flex items-center gap-4"},VN=Jt("sl-spinner",{style:{"font-size":"3rem","--indicator-color":"deeppink","--track-color":"pink"}},null,-1),WN=["innerHTML"],ZN=kn({__name:"Footer.ce",setup(i){const r=se([]),t=se(null),o=Ce(()=>{var M,I;return(I=(M=t.value)==null?void 0:M.getRootNode())==null?void 0:I.host}),l=se(null),u=Ce(()=>l==null?void 0:l.value),d=Ce(()=>new Dx(u.value)),p=se(null),m=Ce(()=>p==null?void 0:p.value),v=se("Generating PDF...");Ne(m,M=>{d.value.init(),M.addEventListener("open.hs.overlay",I=>x.value=!0),M.addEventListener("close.hs.overlay",I=>x.value=!1)});const x=se(!1);Ne(x,M=>{M?d.value.open(m.value):d.value.close(m.value)}),Ne(o,()=>{k()});function k(){function M(){return Array.from(o.value.querySelectorAll("li")).map(I=>{let D=document.createElement("li");D.innerHTML=fi.parse(I.textContent||"");let j=D.querySelector("code");if(j){let H=j.previousElementSibling,J=H||D,q=C(j.innerHTML);q.id&&(J.id=q.id),q.class&&q.class.split(" ").forEach(W=>J.classList.add(W)),q.style&&J.setAttribute("style",q.style),j.remove()}return D})}r.value=M(),new MutationObserver(I=>{for(let D of I)D.type==="childList"&&(r.value=M())}).observe(o.value,{childList:!0,subtree:!0})}function C(M){var H;let I=[];M=M.replace(/”/g,'"').replace(/”/g,'"').replace(/’/g,"'"),(H=M==null?void 0:M.match(/[^\s"]+|"([^"]*)"/gmi))==null||H.filter(J=>J).forEach(J=>{I.length>0&&I[I.length-1].indexOf("=")===I[I.length-1].length-1?I[I.length-1]=`${I[I.length-1]}${J}`:I.push(J)});let D={},j=0;for(;j<I.length;){let J=I[j];if(J.indexOf("=")>0){let[q,W]=J.split("=");W=W[0]==='"'&&W[W.length-1]==='"'?W.slice(1,-1):W,D[q]?D[q]+=` ${W}`:D[q]=W}else if(J[0]==="."){let q="class",W=J.slice(1);W=W[0]==='"'&&W[W.length-1]==='"'?W.slice(1,-1):W,D[q]?D[q]+=` ${W}`:D[q]=W}else if(J[0]===":"){let q="style",W;J.length===1&&j<J.length&&I[j+1][0]==='"'?(W=I[j+1].slice(1,-1),j++):W=J.slice(1),D[q]?D[q]+=` ${W}`:D[q]=W}else if(J[0]==='"'){let q="args",W=J.slice(1,-1);D[q]?D[q].push(W):D[q]=[W]}else J[0]==="#"?D.id=J.slice(1):D[J]=!0;j++}return D}return(M,I)=>(ce(),de(Mi,null,[Jt("ul",{ref_key:"footer",ref:t,id:"footer",class:"flex bg-slate-100 p-2 gap-3 mt-8 items-center w-full h-8"},[(ce(!0),de(Mi,null,sc(r.value,(D,j)=>(ce(),de("li",{key:`li-${j}`,innerHTML:D.innerHTML,class:rm(D.className),style:cu(D.getAttribute("style")||"")},null,14,HN))),128))],512),Jt("div",{ref_key:"overlayRef",ref:l},[Jt("div",{ref_key:"modalRef",ref:p,id:"hs-basic-modal",class:"hs-overlay hidden w-full h-full fixed top-0 start-0 z-[80] overflow-x-hidden overflow-y-auto pointer-events-none"},[Jt("div",UN,[Jt("div",GN,[Jt("div",qN,[VN,Jt("p",{innerHTML:v.value},null,8,WN)])])])],512)],512)],64))}}),YN=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.mb-6{margin-bottom:1.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-\\[100\\%\\]{height:100%}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}mdp-header ul,mdp-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}img,svg{height:36px}.push{margin-left:auto}@media only screen and (max-width: 768px){#footer{font-size:.8em}li{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}}.overlay{position:fixed;display:none;width:100%;height:100%;top:0;left:0;right:0;bottom:0;background-color:#00000080;z-index:2;cursor:pointer}
`,XN=no(ZN,[["styles",[YN]]]),KN=["id"],JN=["src","onClick"],QN=["innerHTML"],$N=["src"],t4={slot:"footer",class:"footer"},e4=["manifest"],r4={class:"controls push"},i4={key:0,class:"toolbar"},n4=Jt("svg",{class:"push edit",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[Jt("path",{d:"M441 58.9L453.1 71c9.4 9.4 9.4 24.6 0 33.9L424 134.1 377.9 88 407 58.9c9.4-9.4 24.6-9.4 33.9 0zM209.8 256.2L344 121.9 390.1 168 255.8 302.2c-2.9 2.9-6.5 5-10.4 6.1l-58.5 16.7 16.7-58.5c1.1-3.9 3.2-7.5 6.1-10.4zM373.1 25L175.8 222.2c-8.7 8.7-15 19.4-18.3 31.1l-28.6 100c-2.4 8.4-.1 17.4 6.1 23.6s15.2 8.5 23.6 6.1l100-28.6c11.8-3.4 22.5-9.7 31.1-18.3L487 138.9c28.1-28.1 28.1-73.7 0-101.8L474.9 25C446.8-3.1 401.2-3.1 373.1 25zM88 64C39.4 64 0 103.4 0 152V424c0 48.6 39.4 88 88 88H360c48.6 0 88-39.4 88-88V312c0-13.3-10.7-24-24-24s-24 10.7-24 24V424c0 22.1-17.9 40-40 40H88c-22.1 0-40-17.9-40-40V152c0-22.1 17.9-40 40-40H200c13.3 0 24-10.7 24-24s-10.7-24-24-24H88z"})],-1),o4=Jt("svg",{class:"delete",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},[Jt("path",{d:"M170.5 51.6L151.5 80h145l-19-28.4c-1.5-2.2-4-3.6-6.7-3.6H177.1c-2.7 0-5.2 1.3-6.7 3.6zm147-26.6L354.2 80H368h48 8c13.3 0 24 10.7 24 24s-10.7 24-24 24h-8V432c0 44.2-35.8 80-80 80H112c-44.2 0-80-35.8-80-80V128H24c-13.3 0-24-10.7-24-24S10.7 80 24 80h8H80 93.8l36.7-55.1C140.9 9.4 158.4 0 177.1 0h93.7c18.7 0 36.2 9.4 46.6 24.9zM80 128V432c0 17.7 14.3 32 32 32H336c17.7 0 32-14.3 32-32V128H80zm80 64V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16z"})],-1),s4=[n4,o4],a4=kn({__name:"Gallery.ce",props:{data:{type:String},dialogWidth:{type:String,default:"100vw"},ghDir:{type:String},caption:{type:Boolean,default:!1}},setup(i){const r=i,t=se(null),o=Ce(()=>{var ot,U;return(U=(ot=t.value)==null?void 0:ot.getRootNode())==null?void 0:U.host});Ne(o,()=>{W()});const l=Ce(()=>{var ot;return(ot=t==null?void 0:t.value)==null?void 0:ot.parentNode}),u=self.window,d=se(u.config||{}),p=se(null);Ne(p,async()=>{var ot,U,et,lt;(ot=d.value)!=null&&ot.github&&((U=p.value)!=null&&U.token)&&(m.value=await gt((et=d.value)==null?void 0:et.github.owner_name,(lt=d.value)==null?void 0:lt.github.repository_name,p.value.username,p.value.token))});const m=se(!1);Ne(m,()=>console.log("userCanUpdateRepo",m.value));const v=se([]);Ne(v,async ot=>{k.value=await Rx(ot)});function x(ot){var U;return Object.fromEntries((U=ot.metadata)==null?void 0:U.map(et=>[(et.label.en||et.label.none||Object.keys(et.label)[0])[0],(et.value.en||et.value.none||Object.keys(et.value)[0])[0]]))}const k=se([]);Ne(k,ot=>{C.value=ot.map(U=>{var xt;let et=x(U),lt=[et.camera,et.exposure,et.mode].filter(Dt=>Dt).join(", "),ht=GC({type:"Annotation",motivation:"painting"},U,1).body,Gt=((xt=U.metadata)==null?void 0:xt.filter(Dt=>(Dt.label.en||Dt.label.none)[0]==="orientation").map(Dt=>(Dt.value.en||Dt.value.none)[0])[0])||1;Gt=Array.isArray(Gt)?Gt[0]:Gt;let St=Gt===1||Gt===3?ht.width:ht.height,Lt=Gt===1||Gt===3?ht.height:ht.width;return{id:U.id,label:U.label?U.label.en||U.label.none||Object.values(U.label)[0]:null,summary:U.summary?U.summary.en||U.summary.none||Object.values(U.summary)[0]:null,width:St,height:Lt,format:ht.format,orientation:Gt,aspect_ratio:Number((St/Lt).toFixed(4)),thumbnail:U.thumbnail[0].id,photoDetails:lt}})});const C=se([]);Ne(C,ot=>{st()});const M=se(null);Ne(M,()=>{J.value=M.value!==null});const I=se(0),D=se([]);let j,H;const J=se(!1);Ne(J,()=>{H.open=J.value});function q(ot){let U=ot.split("/"),et=U[U.length-1],lt=et.lastIndexOf("."),ht=et.slice(0,lt),Gt=et.slice(lt+1);return U[U.length-1]=`${encodeURIComponent(ht)}.${Gt}`,ot=U.join("/"),ot.indexOf("http")===0?ot:`https://iiif.mdpress.io/${ot}/manifest.json`}function W(){if(r.data){let ot=document.getElementById(r.data);v.value=Array.from(ot.querySelectorAll("li")).map(U=>U.textContent).map(U=>q(U))}else if(r.ghDir){let ot=r.ghDir[0]==="/"?r.ghDir.slice(1):r.ghDir;fetch(`https://iiif.mdpress.io/gh-dir/${ot}?filter=images`).then(U=>U.json()).then(U=>{v.value=U.map(et=>q(`gh:${r.ghDir}/${et.name}`))})}else{let ot=function(){v.value=Array.from(U.querySelectorAll("li")).map(et=>et.innerText).map(et=>q(et))},U=o.value.parentElement;ot(),new MutationObserver(et=>{for(let lt of et)lt.type==="childList"&&ot()}).observe(U,{childList:!0,subtree:!0})}}function st(){if(C.value.length===0)return;let ot=r.caption?32:0,U=C.value.length;const et=I.value<=640?2:I.value<=960?3:I.value<=1280?4:I.value<=1920?5:6;let lt=[],ht=v1()?8:16,Gt=[],St=0,Lt=0,xt=0;C.value.forEach((Dt,zt)=>{if(xt+=Dt.aspect_ratio,Gt.push(Dt),xt>=et||zt+1===U){xt=Math.max(xt,et);const yt=(I.value-ht*(Gt.length-1))/xt;Gt.forEach(At=>{const Xt=yt*At.aspect_ratio;lt.push({width:`${Math.round(Xt)}px`,height:`${Math.round(yt+ot)}px`,transform:`translate3d(${Math.round(St)}px, ${Math.round(Lt)}px, 0)`}),St+=Xt+ht}),Gt=[],xt=0,Lt+=yt+ht+ot,St=0}}),t.value&&(t.value.style.height=`${Lt-ht}px`),D.value=lt}function mt(ot){M.value=k.value[ot]}zo(()=>{var ot;p.value=localStorage.getItem("auth-user")&&JSON.parse(localStorage.getItem("auth-user")||"{}"),H=(ot=l.value)==null?void 0:ot.querySelector(".dialog"),H.addEventListener("sl-hide",U=>J.value=!1)}),Ne(t,()=>{var ot;t.value&&(I.value=((ot=t.value)==null?void 0:ot.clientWidth)||0,new ResizeObserver(()=>{var et,lt,ht;(et=t.value)!=null&&et.clientWidth&&((lt=t.value)==null?void 0:lt.clientWidth)!==I.value&&(I.value=(ht=t.value)==null?void 0:ht.clientWidth,clearTimeout(j),j=setTimeout(st,10))}).observe(t.value))});async function gt(ot,U,et,lt){console.log(`GithubClient.isCollaborator: owner=${ot} repo=${U} username=${et}`);let ht=`https://api.github.com/repos/${ot}/${U}/collaborators/${et}`,Gt=await fetch(ht,{headers:{Accept:"application/vnd.github+json",Authorization:`token ${lt}`}});return Gt.ok&&Gt.status===204}return(ot,U)=>(ce(),de(Mi,null,[Jt("div",{ref_key:"root",ref:t,id:"gallery"},[D.value.length>0?(ce(!0),de(Mi,{key:0},sc(C.value,(et,lt)=>(ce(),de("div",{class:"gallery-item",id:C.value.id,style:cu(D.value[lt])},[Jt("img",{class:"image fade-in",onload:"this.style.opacity = 1",src:C.value[lt].thumbnail,onClick:ht=>mt(lt)},null,8,JN),i.caption?(ce(),de("div",{key:0,style:{height:"32px",display:"flex","align-items":"center","margin-left":"0.25em"},innerHTML:C.value[lt].label},null,8,QN)):ir("",!0)],12,KN))),256)):ir("",!0)],512),Jt("sl-dialog",{class:"dialog","no-header":"",style:cu({"--width":i.dialogWidth,"--body-spacing":0,"--footer-spacing":"0.5em"})},[M.value?(ce(),de("mdp-image",{key:0,"no-caption":"",src:M.value.id,fit:"cover"},null,8,$N)):ir("",!0),Jt("div",t4,[Jt("mdp-caption",{manifest:M.value},null,8,e4),Jt("div",r4,[m.value?(ce(),de("div",i4,s4)):ir("",!0),Jt("sl-button",{variant:"primary",onClick:U[0]||(U[0]=et=>M.value=null)},"Close")])])],4)],64))}}),l4=`:root,:host,.sl-theme-light{color-scheme:light;--sl-color-gray-50: hsl(0 0% 97.5%);--sl-color-gray-100: hsl(240 4.8% 95.9%);--sl-color-gray-200: hsl(240 5.9% 90%);--sl-color-gray-300: hsl(240 4.9% 83.9%);--sl-color-gray-400: hsl(240 5% 64.9%);--sl-color-gray-500: hsl(240 3.8% 46.1%);--sl-color-gray-600: hsl(240 5.2% 33.9%);--sl-color-gray-700: hsl(240 5.3% 26.1%);--sl-color-gray-800: hsl(240 3.7% 15.9%);--sl-color-gray-900: hsl(240 5.9% 10%);--sl-color-gray-950: hsl(240 7.3% 8%);--sl-color-red-50: hsl(0 85.7% 97.3%);--sl-color-red-100: hsl(0 93.3% 94.1%);--sl-color-red-200: hsl(0 96.3% 89.4%);--sl-color-red-300: hsl(0 93.5% 81.8%);--sl-color-red-400: hsl(0 90.6% 70.8%);--sl-color-red-500: hsl(0 84.2% 60.2%);--sl-color-red-600: hsl(0 72.2% 50.6%);--sl-color-red-700: hsl(0 73.7% 41.8%);--sl-color-red-800: hsl(0 70% 35.3%);--sl-color-red-900: hsl(0 62.8% 30.6%);--sl-color-red-950: hsl(0 60% 19.6%);--sl-color-orange-50: hsl(33.3 100% 96.5%);--sl-color-orange-100: hsl(34.3 100% 91.8%);--sl-color-orange-200: hsl(32.1 97.7% 83.1%);--sl-color-orange-300: hsl(30.7 97.2% 72.4%);--sl-color-orange-400: hsl(27 96% 61%);--sl-color-orange-500: hsl(24.6 95% 53.1%);--sl-color-orange-600: hsl(20.5 90.2% 48.2%);--sl-color-orange-700: hsl(17.5 88.3% 40.4%);--sl-color-orange-800: hsl(15 79.1% 33.7%);--sl-color-orange-900: hsl(15.3 74.6% 27.8%);--sl-color-orange-950: hsl(15.2 69.1% 19%);--sl-color-amber-50: hsl(48 100% 96.1%);--sl-color-amber-100: hsl(48 96.5% 88.8%);--sl-color-amber-200: hsl(48 96.6% 76.7%);--sl-color-amber-300: hsl(45.9 96.7% 64.5%);--sl-color-amber-400: hsl(43.3 96.4% 56.3%);--sl-color-amber-500: hsl(37.7 92.1% 50.2%);--sl-color-amber-600: hsl(32.1 94.6% 43.7%);--sl-color-amber-700: hsl(26 90.5% 37.1%);--sl-color-amber-800: hsl(22.7 82.5% 31.4%);--sl-color-amber-900: hsl(21.7 77.8% 26.5%);--sl-color-amber-950: hsl(22.9 74.1% 16.7%);--sl-color-yellow-50: hsl(54.5 91.7% 95.3%);--sl-color-yellow-100: hsl(54.9 96.7% 88%);--sl-color-yellow-200: hsl(52.8 98.3% 76.9%);--sl-color-yellow-300: hsl(50.4 97.8% 63.5%);--sl-color-yellow-400: hsl(47.9 95.8% 53.1%);--sl-color-yellow-500: hsl(45.4 93.4% 47.5%);--sl-color-yellow-600: hsl(40.6 96.1% 40.4%);--sl-color-yellow-700: hsl(35.5 91.7% 32.9%);--sl-color-yellow-800: hsl(31.8 81% 28.8%);--sl-color-yellow-900: hsl(28.4 72.5% 25.7%);--sl-color-yellow-950: hsl(33.1 69% 13.9%);--sl-color-lime-50: hsl(78.3 92% 95.1%);--sl-color-lime-100: hsl(79.6 89.1% 89.2%);--sl-color-lime-200: hsl(80.9 88.5% 79.6%);--sl-color-lime-300: hsl(82 84.5% 67.1%);--sl-color-lime-400: hsl(82.7 78% 55.5%);--sl-color-lime-500: hsl(83.7 80.5% 44.3%);--sl-color-lime-600: hsl(84.8 85.2% 34.5%);--sl-color-lime-700: hsl(85.9 78.4% 27.3%);--sl-color-lime-800: hsl(86.3 69% 22.7%);--sl-color-lime-900: hsl(87.6 61.2% 20.2%);--sl-color-lime-950: hsl(86.5 60.6% 13.9%);--sl-color-green-50: hsl(138.5 76.5% 96.7%);--sl-color-green-100: hsl(140.6 84.2% 92.5%);--sl-color-green-200: hsl(141 78.9% 85.1%);--sl-color-green-300: hsl(141.7 76.6% 73.1%);--sl-color-green-400: hsl(141.9 69.2% 58%);--sl-color-green-500: hsl(142.1 70.6% 45.3%);--sl-color-green-600: hsl(142.1 76.2% 36.3%);--sl-color-green-700: hsl(142.4 71.8% 29.2%);--sl-color-green-800: hsl(142.8 64.2% 24.1%);--sl-color-green-900: hsl(143.8 61.2% 20.2%);--sl-color-green-950: hsl(144.3 60.7% 12%);--sl-color-emerald-50: hsl(151.8 81% 95.9%);--sl-color-emerald-100: hsl(149.3 80.4% 90%);--sl-color-emerald-200: hsl(152.4 76% 80.4%);--sl-color-emerald-300: hsl(156.2 71.6% 66.9%);--sl-color-emerald-400: hsl(158.1 64.4% 51.6%);--sl-color-emerald-500: hsl(160.1 84.1% 39.4%);--sl-color-emerald-600: hsl(161.4 93.5% 30.4%);--sl-color-emerald-700: hsl(162.9 93.5% 24.3%);--sl-color-emerald-800: hsl(163.1 88.1% 19.8%);--sl-color-emerald-900: hsl(164.2 85.7% 16.5%);--sl-color-emerald-950: hsl(164.3 87.5% 9.4%);--sl-color-teal-50: hsl(166.2 76.5% 96.7%);--sl-color-teal-100: hsl(167.2 85.5% 89.2%);--sl-color-teal-200: hsl(168.4 83.8% 78.2%);--sl-color-teal-300: hsl(170.6 76.9% 64.3%);--sl-color-teal-400: hsl(172.5 66% 50.4%);--sl-color-teal-500: hsl(173.4 80.4% 40%);--sl-color-teal-600: hsl(174.7 83.9% 31.6%);--sl-color-teal-700: hsl(175.3 77.4% 26.1%);--sl-color-teal-800: hsl(176.1 69.4% 21.8%);--sl-color-teal-900: hsl(175.9 60.8% 19%);--sl-color-teal-950: hsl(176.5 58.6% 11.4%);--sl-color-cyan-50: hsl(183.2 100% 96.3%);--sl-color-cyan-100: hsl(185.1 95.9% 90.4%);--sl-color-cyan-200: hsl(186.2 93.5% 81.8%);--sl-color-cyan-300: hsl(187 92.4% 69%);--sl-color-cyan-400: hsl(187.9 85.7% 53.3%);--sl-color-cyan-500: hsl(188.7 94.5% 42.7%);--sl-color-cyan-600: hsl(191.6 91.4% 36.5%);--sl-color-cyan-700: hsl(192.9 82.3% 31%);--sl-color-cyan-800: hsl(194.4 69.6% 27.1%);--sl-color-cyan-900: hsl(196.4 63.6% 23.7%);--sl-color-cyan-950: hsl(196.8 61% 16.1%);--sl-color-sky-50: hsl(204 100% 97.1%);--sl-color-sky-100: hsl(204 93.8% 93.7%);--sl-color-sky-200: hsl(200.6 94.4% 86.1%);--sl-color-sky-300: hsl(199.4 95.5% 73.9%);--sl-color-sky-400: hsl(198.4 93.2% 59.6%);--sl-color-sky-500: hsl(198.6 88.7% 48.4%);--sl-color-sky-600: hsl(200.4 98% 39.4%);--sl-color-sky-700: hsl(201.3 96.3% 32.2%);--sl-color-sky-800: hsl(201 90% 27.5%);--sl-color-sky-900: hsl(202 80.3% 23.9%);--sl-color-sky-950: hsl(202.3 73.8% 16.5%);--sl-color-blue-50: hsl(213.8 100% 96.9%);--sl-color-blue-100: hsl(214.3 94.6% 92.7%);--sl-color-blue-200: hsl(213.3 96.9% 87.3%);--sl-color-blue-300: hsl(211.7 96.4% 78.4%);--sl-color-blue-400: hsl(213.1 93.9% 67.8%);--sl-color-blue-500: hsl(217.2 91.2% 59.8%);--sl-color-blue-600: hsl(221.2 83.2% 53.3%);--sl-color-blue-700: hsl(224.3 76.3% 48%);--sl-color-blue-800: hsl(225.9 70.7% 40.2%);--sl-color-blue-900: hsl(224.4 64.3% 32.9%);--sl-color-blue-950: hsl(226.2 55.3% 18.4%);--sl-color-indigo-50: hsl(225.9 100% 96.7%);--sl-color-indigo-100: hsl(226.5 100% 93.9%);--sl-color-indigo-200: hsl(228 96.5% 88.8%);--sl-color-indigo-300: hsl(229.7 93.5% 81.8%);--sl-color-indigo-400: hsl(234.5 89.5% 73.9%);--sl-color-indigo-500: hsl(238.7 83.5% 66.7%);--sl-color-indigo-600: hsl(243.4 75.4% 58.6%);--sl-color-indigo-700: hsl(244.5 57.9% 50.6%);--sl-color-indigo-800: hsl(243.7 54.5% 41.4%);--sl-color-indigo-900: hsl(242.2 47.4% 34.3%);--sl-color-indigo-950: hsl(243.5 43.6% 22.9%);--sl-color-violet-50: hsl(250 100% 97.6%);--sl-color-violet-100: hsl(251.4 91.3% 95.5%);--sl-color-violet-200: hsl(250.5 95.2% 91.8%);--sl-color-violet-300: hsl(252.5 94.7% 85.1%);--sl-color-violet-400: hsl(255.1 91.7% 76.3%);--sl-color-violet-500: hsl(258.3 89.5% 66.3%);--sl-color-violet-600: hsl(262.1 83.3% 57.8%);--sl-color-violet-700: hsl(263.4 70% 50.4%);--sl-color-violet-800: hsl(263.4 69.3% 42.2%);--sl-color-violet-900: hsl(263.5 67.4% 34.9%);--sl-color-violet-950: hsl(265.1 61.5% 21.4%);--sl-color-purple-50: hsl(270 100% 98%);--sl-color-purple-100: hsl(268.7 100% 95.5%);--sl-color-purple-200: hsl(268.6 100% 91.8%);--sl-color-purple-300: hsl(269.2 97.4% 85.1%);--sl-color-purple-400: hsl(270 95.2% 75.3%);--sl-color-purple-500: hsl(270.7 91% 65.1%);--sl-color-purple-600: hsl(271.5 81.3% 55.9%);--sl-color-purple-700: hsl(272.1 71.7% 47.1%);--sl-color-purple-800: hsl(272.9 67.2% 39.4%);--sl-color-purple-900: hsl(273.6 65.6% 32%);--sl-color-purple-950: hsl(276 59.5% 16.5%);--sl-color-fuchsia-50: hsl(289.1 100% 97.8%);--sl-color-fuchsia-100: hsl(287 100% 95.5%);--sl-color-fuchsia-200: hsl(288.3 95.8% 90.6%);--sl-color-fuchsia-300: hsl(291.1 93.1% 82.9%);--sl-color-fuchsia-400: hsl(292 91.4% 72.5%);--sl-color-fuchsia-500: hsl(292.2 84.1% 60.6%);--sl-color-fuchsia-600: hsl(293.4 69.5% 48.8%);--sl-color-fuchsia-700: hsl(294.7 72.4% 39.8%);--sl-color-fuchsia-800: hsl(295.4 70.2% 32.9%);--sl-color-fuchsia-900: hsl(296.7 63.6% 28%);--sl-color-fuchsia-950: hsl(297.1 56.8% 14.5%);--sl-color-pink-50: hsl(327.3 73.3% 97.1%);--sl-color-pink-100: hsl(325.7 77.8% 94.7%);--sl-color-pink-200: hsl(325.9 84.6% 89.8%);--sl-color-pink-300: hsl(327.4 87.1% 81.8%);--sl-color-pink-400: hsl(328.6 85.5% 70.2%);--sl-color-pink-500: hsl(330.4 81.2% 60.4%);--sl-color-pink-600: hsl(333.3 71.4% 50.6%);--sl-color-pink-700: hsl(335.1 77.6% 42%);--sl-color-pink-800: hsl(335.8 74.4% 35.3%);--sl-color-pink-900: hsl(335.9 69% 30.4%);--sl-color-pink-950: hsl(336.2 65.4% 15.9%);--sl-color-rose-50: hsl(355.7 100% 97.3%);--sl-color-rose-100: hsl(355.6 100% 94.7%);--sl-color-rose-200: hsl(352.7 96.1% 90%);--sl-color-rose-300: hsl(352.6 95.7% 81.8%);--sl-color-rose-400: hsl(351.3 94.5% 71.4%);--sl-color-rose-500: hsl(349.7 89.2% 60.2%);--sl-color-rose-600: hsl(346.8 77.2% 49.8%);--sl-color-rose-700: hsl(345.3 82.7% 40.8%);--sl-color-rose-800: hsl(343.4 79.7% 34.7%);--sl-color-rose-900: hsl(341.5 75.5% 30.4%);--sl-color-rose-950: hsl(341.3 70.1% 17.1%);--sl-color-primary-50: var(--sl-color-sky-50);--sl-color-primary-100: var(--sl-color-sky-100);--sl-color-primary-200: var(--sl-color-sky-200);--sl-color-primary-300: var(--sl-color-sky-300);--sl-color-primary-400: var(--sl-color-sky-400);--sl-color-primary-500: var(--sl-color-sky-500);--sl-color-primary-600: var(--sl-color-sky-600);--sl-color-primary-700: var(--sl-color-sky-700);--sl-color-primary-800: var(--sl-color-sky-800);--sl-color-primary-900: var(--sl-color-sky-900);--sl-color-primary-950: var(--sl-color-sky-950);--sl-color-success-50: var(--sl-color-green-50);--sl-color-success-100: var(--sl-color-green-100);--sl-color-success-200: var(--sl-color-green-200);--sl-color-success-300: var(--sl-color-green-300);--sl-color-success-400: var(--sl-color-green-400);--sl-color-success-500: var(--sl-color-green-500);--sl-color-success-600: var(--sl-color-green-600);--sl-color-success-700: var(--sl-color-green-700);--sl-color-success-800: var(--sl-color-green-800);--sl-color-success-900: var(--sl-color-green-900);--sl-color-success-950: var(--sl-color-green-950);--sl-color-warning-50: var(--sl-color-amber-50);--sl-color-warning-100: var(--sl-color-amber-100);--sl-color-warning-200: var(--sl-color-amber-200);--sl-color-warning-300: var(--sl-color-amber-300);--sl-color-warning-400: var(--sl-color-amber-400);--sl-color-warning-500: var(--sl-color-amber-500);--sl-color-warning-600: var(--sl-color-amber-600);--sl-color-warning-700: var(--sl-color-amber-700);--sl-color-warning-800: var(--sl-color-amber-800);--sl-color-warning-900: var(--sl-color-amber-900);--sl-color-warning-950: var(--sl-color-amber-950);--sl-color-danger-50: var(--sl-color-red-50);--sl-color-danger-100: var(--sl-color-red-100);--sl-color-danger-200: var(--sl-color-red-200);--sl-color-danger-300: var(--sl-color-red-300);--sl-color-danger-400: var(--sl-color-red-400);--sl-color-danger-500: var(--sl-color-red-500);--sl-color-danger-600: var(--sl-color-red-600);--sl-color-danger-700: var(--sl-color-red-700);--sl-color-danger-800: var(--sl-color-red-800);--sl-color-danger-900: var(--sl-color-red-900);--sl-color-danger-950: var(--sl-color-red-950);--sl-color-neutral-50: var(--sl-color-gray-50);--sl-color-neutral-100: var(--sl-color-gray-100);--sl-color-neutral-200: var(--sl-color-gray-200);--sl-color-neutral-300: var(--sl-color-gray-300);--sl-color-neutral-400: var(--sl-color-gray-400);--sl-color-neutral-500: var(--sl-color-gray-500);--sl-color-neutral-600: var(--sl-color-gray-600);--sl-color-neutral-700: var(--sl-color-gray-700);--sl-color-neutral-800: var(--sl-color-gray-800);--sl-color-neutral-900: var(--sl-color-gray-900);--sl-color-neutral-950: var(--sl-color-gray-950);--sl-color-neutral-0: hsl(0, 0%, 100%);--sl-color-neutral-1000: hsl(0, 0%, 0%);--sl-border-radius-small: .1875rem;--sl-border-radius-medium: .25rem;--sl-border-radius-large: .5rem;--sl-border-radius-x-large: 1rem;--sl-border-radius-circle: 50%;--sl-border-radius-pill: 9999px;--sl-shadow-x-small: 0 1px 2px hsl(240 3.8% 46.1% / 6%);--sl-shadow-small: 0 1px 2px hsl(240 3.8% 46.1% / 12%);--sl-shadow-medium: 0 2px 4px hsl(240 3.8% 46.1% / 12%);--sl-shadow-large: 0 2px 8px hsl(240 3.8% 46.1% / 12%);--sl-shadow-x-large: 0 4px 16px hsl(240 3.8% 46.1% / 12%);--sl-spacing-3x-small: .125rem;--sl-spacing-2x-small: .25rem;--sl-spacing-x-small: .5rem;--sl-spacing-small: .75rem;--sl-spacing-medium: 1rem;--sl-spacing-large: 1.25rem;--sl-spacing-x-large: 1.75rem;--sl-spacing-2x-large: 2.25rem;--sl-spacing-3x-large: 3rem;--sl-spacing-4x-large: 4.5rem;--sl-transition-x-slow: 1s;--sl-transition-slow: .5s;--sl-transition-medium: .25s;--sl-transition-fast: .15s;--sl-transition-x-fast: 50ms;--sl-font-mono: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;--sl-font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--sl-font-serif: Georgia, "Times New Roman", serif;--sl-font-size-2x-small: .625rem;--sl-font-size-x-small: .75rem;--sl-font-size-small: .875rem;--sl-font-size-medium: 1rem;--sl-font-size-large: 1.25rem;--sl-font-size-x-large: 1.5rem;--sl-font-size-2x-large: 2.25rem;--sl-font-size-3x-large: 3rem;--sl-font-size-4x-large: 4.5rem;--sl-font-weight-light: 300;--sl-font-weight-normal: 400;--sl-font-weight-semibold: 500;--sl-font-weight-bold: 700;--sl-letter-spacing-denser: -.03em;--sl-letter-spacing-dense: -.015em;--sl-letter-spacing-normal: normal;--sl-letter-spacing-loose: .075em;--sl-letter-spacing-looser: .15em;--sl-line-height-denser: 1;--sl-line-height-dense: 1.4;--sl-line-height-normal: 1.8;--sl-line-height-loose: 2.2;--sl-line-height-looser: 2.6;--sl-focus-ring-color: var(--sl-color-primary-600);--sl-focus-ring-style: solid;--sl-focus-ring-width: 3px;--sl-focus-ring: var(--sl-focus-ring-style) var(--sl-focus-ring-width) var(--sl-focus-ring-color);--sl-focus-ring-offset: 1px;--sl-button-font-size-small: var(--sl-font-size-x-small);--sl-button-font-size-medium: var(--sl-font-size-small);--sl-button-font-size-large: var(--sl-font-size-medium);--sl-input-height-small: 1.875rem;--sl-input-height-medium: 2.5rem;--sl-input-height-large: 3.125rem;--sl-input-background-color: var(--sl-color-neutral-0);--sl-input-background-color-hover: var(--sl-input-background-color);--sl-input-background-color-focus: var(--sl-input-background-color);--sl-input-background-color-disabled: var(--sl-color-neutral-100);--sl-input-border-color: var(--sl-color-neutral-300);--sl-input-border-color-hover: var(--sl-color-neutral-400);--sl-input-border-color-focus: var(--sl-color-primary-500);--sl-input-border-color-disabled: var(--sl-color-neutral-300);--sl-input-border-width: 1px;--sl-input-required-content: "*";--sl-input-required-content-offset: -2px;--sl-input-required-content-color: var(--sl-input-label-color);--sl-input-border-radius-small: var(--sl-border-radius-medium);--sl-input-border-radius-medium: var(--sl-border-radius-medium);--sl-input-border-radius-large: var(--sl-border-radius-medium);--sl-input-font-family: var(--sl-font-sans);--sl-input-font-weight: var(--sl-font-weight-normal);--sl-input-font-size-small: var(--sl-font-size-small);--sl-input-font-size-medium: var(--sl-font-size-medium);--sl-input-font-size-large: var(--sl-font-size-large);--sl-input-letter-spacing: var(--sl-letter-spacing-normal);--sl-input-color: var(--sl-color-neutral-700);--sl-input-color-hover: var(--sl-color-neutral-700);--sl-input-color-focus: var(--sl-color-neutral-700);--sl-input-color-disabled: var(--sl-color-neutral-900);--sl-input-icon-color: var(--sl-color-neutral-500);--sl-input-icon-color-hover: var(--sl-color-neutral-600);--sl-input-icon-color-focus: var(--sl-color-neutral-600);--sl-input-placeholder-color: var(--sl-color-neutral-500);--sl-input-placeholder-color-disabled: var(--sl-color-neutral-600);--sl-input-spacing-small: var(--sl-spacing-small);--sl-input-spacing-medium: var(--sl-spacing-medium);--sl-input-spacing-large: var(--sl-spacing-large);--sl-input-focus-ring-color: hsl(198.6 88.7% 48.4% / 40%);--sl-input-focus-ring-offset: 0;--sl-input-filled-background-color: var(--sl-color-neutral-100);--sl-input-filled-background-color-hover: var(--sl-color-neutral-100);--sl-input-filled-background-color-focus: var(--sl-color-neutral-100);--sl-input-filled-background-color-disabled: var(--sl-color-neutral-100);--sl-input-filled-color: var(--sl-color-neutral-800);--sl-input-filled-color-hover: var(--sl-color-neutral-800);--sl-input-filled-color-focus: var(--sl-color-neutral-700);--sl-input-filled-color-disabled: var(--sl-color-neutral-800);--sl-input-label-font-size-small: var(--sl-font-size-small);--sl-input-label-font-size-medium: var(--sl-font-size-medium);--sl-input-label-font-size-large: var(--sl-font-size-large);--sl-input-label-color: inherit;--sl-input-help-text-font-size-small: var(--sl-font-size-x-small);--sl-input-help-text-font-size-medium: var(--sl-font-size-small);--sl-input-help-text-font-size-large: var(--sl-font-size-medium);--sl-input-help-text-color: var(--sl-color-neutral-500);--sl-toggle-size-small: .875rem;--sl-toggle-size-medium: 1.125rem;--sl-toggle-size-large: 1.375rem;--sl-overlay-background-color: hsl(240 3.8% 46.1% / 33%);--sl-panel-background-color: var(--sl-color-neutral-0);--sl-panel-border-color: var(--sl-color-neutral-200);--sl-panel-border-width: 1px;--sl-tooltip-border-radius: var(--sl-border-radius-medium);--sl-tooltip-background-color: var(--sl-color-neutral-800);--sl-tooltip-color: var(--sl-color-neutral-0);--sl-tooltip-font-family: var(--sl-font-sans);--sl-tooltip-font-weight: var(--sl-font-weight-normal);--sl-tooltip-font-size: var(--sl-font-size-small);--sl-tooltip-line-height: var(--sl-line-height-dense);--sl-tooltip-padding: var(--sl-spacing-2x-small) var(--sl-spacing-x-small);--sl-tooltip-arrow-size: 6px;--sl-z-index-drawer: 700;--sl-z-index-dialog: 800;--sl-z-index-dropdown: 900;--sl-z-index-toast: 950;--sl-z-index-tooltip: 1000}@supports (scrollbar-gutter: stable){.sl-scroll-lock{scrollbar-gutter:stable!important;overflow:hidden!important}}@supports not (scrollbar-gutter: stable){.sl-scroll-lock{padding-right:var(--sl-scroll-lock-size)!important;overflow:hidden!important}}.sl-toast-stack{position:fixed;top:0;inset-inline-end:0;z-index:var(--sl-z-index-toast);width:28rem;max-width:100%;max-height:100%;overflow:auto}.sl-toast-stack sl-alert{margin:var(--sl-spacing-medium)}.sl-toast-stack sl-alert::part(base){box-shadow:var(--sl-shadow-large)}*{box-sizing:border-box}#gallery{position:relative;margin:1rem}@media only screen and (max-width: 768px){#gallery{margin:0}}sl-dialog::part(panel){max-width:unset;max-height:unset;height:100dvh}sl-dialog::part(overlay){--sl-overlay-background-color: rgba(100, 100, 100, .8)}sl-dialog::part(footer){background-color:#64646480}.gallery-item{position:absolute;display:flex;flex-direction:column;width:100px;box-shadow:2px 2px 4px #ccc}.gallery-item:hover{box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px}.image{left:0;top:0;width:100%;height:100%;opacity:0;background-color:#d5d5d5}.fade-in{opacity:0;-webkit-transition:all 1s ease;-moz-transition:all 1s ease;-ms-transition:all 1s ease;-o-transition:all 1s ease}.image:hover{cursor:pointer}.icons{display:flex;align-items:center;gap:6px}.size{width:100%;font-size:.8em;margin-top:3px}.provider-logo{height:20px}.license{cursor:pointer;display:inline-block}.image-card{font-size:.85em;display:flex;flex-direction:column}.title{display:flex;align-items:center;gap:6px;font-size:.9em}.title img{width:16px;opacity:1}.clamp{display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.text{margin:6px 0;height:50px}.text p{margin:0;padding:0}.license{display:flex;align-items:center;gap:3px;font-size:.8em;margin-left:.5rem}a.license{color:#000;text-decoration:none;font-size:.9rem}sl-icon{font-size:1.2rem}.push{margin-left:auto}.controls{display:flex;align-items:center;gap:1em}.toolbar{height:32px;justify-content:flex-end;display:flex;align-items:center;gap:.5em;padding:0 .2em}.toolbar svg{width:20px;height:20px;cursor:pointer;fill:#777}.toolbar svg:hover{fill:#444}.dialog .footer{display:flex;align-items:center;gap:.5em;padding:.5em;text-align:left}
`,c4=no(a4,[["styles",[l4]]]),u4={key:0,class:"logo"},h4=["href"],d4=["src"],p4={class:"branding"},f4={key:0,class:"title"},g4=["href","innerHTML"],m4=["innerHTML"],v4={class:"search-and-menu"},y4=["search-domain","search-cx","search-key"],b4=["contact","pdf-download-enabled","innerHTML"],w4={key:0},x4=["manifest"],_4=kn({__name:"Header.ce",props:{alpha:{type:Number},background:{type:String},breadcrumbs:{type:Boolean,default:!1},color:{type:String},contact:{type:String},height:{type:Number},iconFilter:{type:String},logo:{type:String},options:{type:String},pdfDownloadEnabled:{type:Boolean,default:!1},position:{type:String,default:"center"},subtitle:{type:String},searchDomain:{type:String},searchCx:{type:String},searchKey:{type:String},title:{type:String},top:{type:Number,default:0}},setup(i){const r=i,t=self.window,o=se(null),l=Ce(()=>{var U,et;return(et=(U=o.value)==null?void 0:U.getRootNode())==null?void 0:et.host}),u=se(null),d=se(null),p=se(),m=se(t.config||{});Ne(m,U=>{console.log("watch.config",U)});const v=Ce(()=>{var U;return r.title||((U=m.value.meta)==null?void 0:U.title)}),x=Ce(()=>{var U,et;return r.background||((et=(U=m.value.defaults)==null?void 0:U.header)==null?void 0:et.backgroundImage)}),k=Ce(()=>{var et,lt;let U=r.logo||((lt=(et=m.value.defaults)==null?void 0:et.header)==null?void 0:lt.logo);return U&&((U==null?void 0:U.indexOf("http"))===0?U:`${m.value.baseurl}/${U[0]==="/"?U.slice(1):U}`)}),C=Ce(()=>{var U,et;return r.iconFilter===void 0?(et=(U=m.value.defaults)==null?void 0:U.header)==null?void 0:et.iconFilter:r.iconFilter}),M=Ce(()=>r.color||(x.value?"black":"#ddd")),I=Ce(()=>{var U,et;return r.contact||((et=(U=m.value.defaults)==null?void 0:U.header)==null?void 0:et.contact)}),D=Ce(()=>{var U,et;return r.breadcrumbs||((et=(U=m.value.defaults)==null?void 0:U.header)==null?void 0:et.breadcrumbs)}),j=Ce(()=>{var U,et;return r.pdfDownloadEnabled||((et=(U=m.value.defaults)==null?void 0:U.header)==null?void 0:et.pdfDownloadEnabled)});Ne(d,U=>{U&&(U.style.backgroundColor=ot(M.value,r.alpha||(x.value?.3:1)))});const H=se(!1),J=se(),q=se(),W=se(),st=se();Ne(l,U=>{var et,lt;if(m.value=t.config||{},q.value=Xz(r.options||""),x.value&&gl(x.value).then(ht=>J.value=ht),u.value&&(u.value.style.height=r.height?`${r.height}px`:x.value?"400px":"100px"),(lt=(et=m.value.defaults)==null?void 0:et.header)!=null&&lt.class&&m.value.defaults.header.class.split(" ").forEach(ht=>U.classList.add(ht)),H.value=U.classList.contains("sticky"),H.value){let ht=parseInt(U.style.top.replace(/px/,"")),Gt=r.top?r.top:ht||(x.value?-300:0);U.style.top=`${Gt}px`}}),zo(()=>{cx(()=>{var et,lt,ht,Gt;let U=l.value.querySelector("ul");!U&&((lt=(et=m.value.defaults)==null?void 0:et.header)!=null&&lt.nav)&&(U=document.createElement("ul"),(Gt=(ht=m.value.defaults)==null?void 0:ht.header)==null||Gt.nav.forEach(St=>{const Lt=document.createElement("li"),xt=document.createElement("a");xt.href=St.href,xt.innerHTML=St.label,St.icon&&(xt.innerHTML+=St.icon),Lt.appendChild(xt),U.appendChild(Lt)})),p.value=U==null?void 0:U.innerHTML})}),Ne(J,(U,et)=>{U!==et&&(W.value=My(U))}),Ne(W,async(U,et)=>{U!==et&&(st.value=U.service?mt(U.service[0].id||U.service[0]["@id"],q.value):await Yz(W.value.id,q.value.region,{width:l.value.clientWidth,height:r.height}))}),Ne(st,()=>{u.value&&(u.value.style.backgroundImage=`url("${st.value}")`,u.value.style.backgroundPosition=r.position)});function mt(U,et){let lt=W.value,ht=Number((lt.width/lt.height).toFixed(4)),Gt=Math.min(800,l.value.getBoundingClientRect().width),St=Number(Gt/ht).toFixed(0),Lt=`${Gt},${St}`;return`${U.replace(/\/info.json$/,"")}/${et.region}/${Lt}/${et.rotation}/${et.quality}.${et.format}`}const gt={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#964B00",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8B4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function ot(U,et=1){let lt=U[0]==="#"?U:gt[U.toLowerCase()];if(lt.length===4){let ht=lt.slice(1,2),Gt=lt.slice(2,3),St=lt.slice(3,4);return ht=parseInt(ht+ht,16),Gt=parseInt(Gt+Gt,16),St=parseInt(St+St,16),`rgba(${ht}, ${Gt}, ${St}, ${et})`}else{const ht=parseInt(lt.slice(1,3),16),Gt=parseInt(lt.slice(3,5),16),St=parseInt(lt.slice(5,7),16);return`rgba(${ht}, ${Gt}, ${St}, ${et})`}}return(U,et)=>(ce(),de("div",{class:"header",ref_key:"root",ref:o},[Jt("div",{class:"background",ref_key:"background",ref:u},null,512),Jt("div",{class:"navbar",ref_key:"navbar",ref:d},[k.value?(ce(),de("div",u4,[Jt("a",{href:`${m.value.baseurl}/`},[Jt("img",{src:k.value,class:rm(`${C.value?"icon-"+C.value:""}`),alt:"logo"},null,10,d4)],8,h4)])):ir("",!0),Jt("div",p4,[v.value?(ce(),de("div",f4,[Jt("a",{href:`${m.value.baseurl}/`,innerHTML:v.value},null,8,g4)])):ir("",!0),i.subtitle?(ce(),de("div",{key:1,class:"subtitle clamp1",innerHTML:i.subtitle},null,8,m4)):ir("",!0)]),Jt("div",v4,[r.searchDomain?(ce(),de("mdp-site-search",{key:0,"search-domain":r.searchDomain,"search-cx":r.searchCx,"search-key":r.searchKey},null,8,y4)):ir("",!0),p.value!==void 0?(ce(),de("mdp-menu",{key:1,contact:I.value,"pdf-download-enabled":j.value?"":null,innerHTML:p.value},null,8,b4)):ir("",!0)])],512),D.value?(ce(),de("mdp-breadcrumbs",w4)):ir("",!0),J.value?(ce(),de("mdp-manifest-popup",{key:1,manifest:J.value},null,8,x4)):ir("",!0)],512))}}),k4=`:host{display:block}.header{display:grid;grid-template-rows:1fr 100px auto;grid-template-columns:1fr}.background{grid-area:1 / 1 / 3 / 2;background-repeat:no-repeat;background-size:cover;background-position:center;z-index:1;position:relative}.navbar{grid-area:2 / 1 / 3 / 2;background-color:#0006;color:#fff;z-index:2;display:flex;align-items:center;gap:1.5em;padding:0 20px}mdp-manifest-popup{visibility:hidden;position:absolute;top:1em;right:1em;z-index:10}.header:hover mdp-manifest-popup{visibility:visible;transition:all .5s ease-in}mdp-breadcrumbs{grid-area:3 / 1 / 4 / 2;background-color:inherit;color:#fff;z-index:1}.branding{display:flex;flex-direction:column;gap:6px}.title a{font-size:2em;line-height:1;font-weight:500;text-decoration:none;color:inherit}.subtitle{font-size:1.2em;line-height:1;font-weight:300}.logo{display:flex;align-items:center;justify-content:center;height:50%}.logo a{height:100%}.logo img{-o-object-fit:contain;object-fit:contain;vertical-align:middle;height:100%}.search-and-menu{margin-left:auto;display:flex;align-items:center;gap:1em}.clamp1{display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}@media only screen and (max-width: 768px){.navbar{gap:.75em;padding:0 1em}.title a{font-size:1.3em}.subtitle{font-size:1em}.logo img{max-width:40px}mdp-breadcrumbs{padding-left:.5rem}}.icon-white{filter:invert(100%) sepia(0%) saturate(7487%) hue-rotate(339deg) brightness(115%) contrast(100%)}
`,E4=no(_4,[["styles",[k4]]]);var Fx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bx(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var KC={exports:{}};(function(i){//! openseadragon 4.0.0
//! Built on 2022-12-16
//! Git commit: v4.0.0-0-8e6196a
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function r(t){return new r.Viewer(t)}(function(t){t.version={versionStr:"4.0.0",major:parseInt("4",10),minor:parseInt("0",10),revision:parseInt("0",10)};var o={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},l=Object.prototype.toString,u=Object.prototype.hasOwnProperty;t.isFunction=function(d){return t.type(d)==="function"},t.isArray=Array.isArray||function(d){return t.type(d)==="array"},t.isWindow=function(d){return d&&typeof d=="object"&&"setInterval"in d},t.type=function(d){return d==null?String(d):o[l.call(d)]||"object"},t.isPlainObject=function(d){if(!d||r.type(d)!=="object"||d.nodeType||t.isWindow(d)||d.constructor&&!u.call(d,"constructor")&&!u.call(d.constructor.prototype,"isPrototypeOf"))return!1;var p;for(var m in d)p=m;return p===void 0||u.call(d,p)},t.isEmptyObject=function(d){for(var p in d)return!1;return!0},t.freezeObject=function(d){return Object.freeze?t.freezeObject=Object.freeze:t.freezeObject=function(p){return p},t.freezeObject(d)},t.supportsCanvas=function(){var d=document.createElement("canvas");return!!(t.isFunction(d.getContext)&&d.getContext("2d"))}(),t.isCanvasTainted=function(d){var p=!1;try{d.getContext("2d").getImageData(0,0,1,1)}catch{p=!0}return p},t.supportsAddEventListener=function(){return!!(document.documentElement.addEventListener&&document.addEventListener)}(),t.supportsRemoveEventListener=function(){return!!(document.documentElement.removeEventListener&&document.removeEventListener)}(),t.supportsEventListenerOptions=function(){var d=0;if(t.supportsAddEventListener)try{var p={get capture(){return d++,!1},get once(){return d++,!1},get passive(){return d++,!1}};window.addEventListener("test",null,p),window.removeEventListener("test",null,p)}catch{d=0}return d>=3}(),t.getCurrentPixelDensityRatio=function(){if(t.supportsCanvas){var d=document.createElement("canvas").getContext("2d"),p=window.devicePixelRatio||1,m=d.webkitBackingStorePixelRatio||d.mozBackingStorePixelRatio||d.msBackingStorePixelRatio||d.oBackingStorePixelRatio||d.backingStorePixelRatio||1;return Math.max(p,1)/m}else return 1},t.pixelDensityRatio=t.getCurrentPixelDensityRatio()})(r),function(t){t.extend=function(){var m,v,x,k,C,M,I=arguments[0]||{},D=arguments.length,j=!1,H=1;for(typeof I=="boolean"&&(j=I,I=arguments[1]||{},H=2),typeof I!="object"&&!r.isFunction(I)&&(I={}),D===H&&(I=this,--H);H<D;H++)if(m=arguments[H],m!==null||m!==void 0)for(v in m){var J=Object.getOwnPropertyDescriptor(m,v);if(J!==void 0){if(J.get||J.set){Object.defineProperty(I,v,J);continue}k=J.value}else{t.console.warn('Could not copy inherited property "'+v+'".');continue}I!==k&&(j&&k&&(r.isPlainObject(k)||(C=r.isArray(k)))?(x=I[v],C?(C=!1,M=x&&r.isArray(x)?x:[]):M=x&&r.isPlainObject(x)?x:{},I[v]=r.extend(j,M,k)):k!==void 0&&(I[v]=k))}return I};var o=function(){if(typeof navigator!="object")return!1;var m=navigator.userAgent;return typeof m!="string"?!1:m.indexOf("iPhone")!==-1||m.indexOf("iPad")!==-1||m.indexOf("iPod")!==-1};t.extend(t,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},splitHashDataForPost:!1,panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{dragToPan:!0,scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!1,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerDblClickDrag:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:o(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorElement:null,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,subPixelRoundingForTransparency:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"],silenceMultiImageWarnings:!1},SIGNAL:"----seadragon----",delegate:function(m,v){return function(){var x=arguments;return x===void 0&&(x=[]),v.apply(m,x)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5,EDGE:6,CHROMEEDGE:7},SUBPIXEL_ROUNDING_OCCURRENCES:{NEVER:0,ONLY_AT_REST:1,ALWAYS:2},_viewers:new Map,getViewer:function(m){return t._viewers.get(this.getElement(m))},getElement:function(m){return typeof m=="string"&&(m=document.getElementById(m)),m},getElementPosition:function(m){var v=new t.Point,x,k;for(m=t.getElement(m),x=t.getElementStyle(m).position==="fixed",k=p(m,x);k;)v.x+=m.offsetLeft,v.y+=m.offsetTop,x&&(v=v.plus(t.getPageScroll())),m=k,x=t.getElementStyle(m).position==="fixed",k=p(m,x);return v},getElementOffset:function(m){m=t.getElement(m);var v=m&&m.ownerDocument,x,k,C={top:0,left:0};return v?(x=v.documentElement,typeof m.getBoundingClientRect<"u"&&(C=m.getBoundingClientRect()),k=v===v.window?v:v.nodeType===9?v.defaultView||v.parentWindow:!1,new t.Point(C.left+(k.pageXOffset||x.scrollLeft)-(x.clientLeft||0),C.top+(k.pageYOffset||x.scrollTop)-(x.clientTop||0))):new t.Point},getElementSize:function(m){return m=t.getElement(m),new t.Point(m.clientWidth,m.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(m){return m=t.getElement(m),m.currentStyle}:function(m){return m=t.getElement(m),window.getComputedStyle(m,"")},getCssPropertyWithVendorPrefix:function(m){var v={};return t.getCssPropertyWithVendorPrefix=function(x){if(v[x]!==void 0)return v[x];var k=document.createElement("div").style,C=null;if(k[x]!==void 0)C=x;else for(var M=["Webkit","Moz","MS","O","webkit","moz","ms","o"],I=t.capitalizeFirstLetter(x),D=0;D<M.length;D++){var j=M[D]+I;if(k[j]!==void 0){C=j;break}}return v[x]=C,C},t.getCssPropertyWithVendorPrefix(m)},capitalizeFirstLetter:function(m){return m.charAt(0).toUpperCase()+m.slice(1)},positiveModulo:function(m,v){var x=m%v;return x<0&&(x+=v),x},pointInElement:function(m,v){m=t.getElement(m);var x=t.getElementOffset(m),k=t.getElementSize(m);return v.x>=x.x&&v.x<x.x+k.x&&v.y<x.y+k.y&&v.y>=x.y},getMousePosition:function(m){if(typeof m.pageX=="number")t.getMousePosition=function(v){var x=new t.Point;return x.x=v.pageX,x.y=v.pageY,x};else if(typeof m.clientX=="number")t.getMousePosition=function(v){var x=new t.Point;return x.x=v.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,x.y=v.clientY+document.body.scrollTop+document.documentElement.scrollTop,x};else throw new Error("Unknown event mouse position, no known technique.");return t.getMousePosition(m)},getPageScroll:function(){var m=document.documentElement||{},v=document.body||{};if(typeof window.pageXOffset=="number")t.getPageScroll=function(){return new t.Point(window.pageXOffset,window.pageYOffset)};else if(v.scrollLeft||v.scrollTop)t.getPageScroll=function(){return new t.Point(document.body.scrollLeft,document.body.scrollTop)};else if(m.scrollLeft||m.scrollTop)t.getPageScroll=function(){return new t.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)};else return new t.Point(0,0);return t.getPageScroll()},setPageScroll:function(m){if(typeof window.scrollTo<"u")t.setPageScroll=function(k){window.scrollTo(k.x,k.y)};else{var v=t.getPageScroll();if(v.x===m.x&&v.y===m.y)return;document.body.scrollLeft=m.x,document.body.scrollTop=m.y;var x=t.getPageScroll();if(x.x!==v.x&&x.y!==v.y){t.setPageScroll=function(k){document.body.scrollLeft=k.x,document.body.scrollTop=k.y};return}if(document.documentElement.scrollLeft=m.x,document.documentElement.scrollTop=m.y,x=t.getPageScroll(),x.x!==v.x&&x.y!==v.y){t.setPageScroll=function(k){document.documentElement.scrollLeft=k.x,document.documentElement.scrollTop=k.y};return}t.setPageScroll=function(k){}}t.setPageScroll(m)},getWindowSize:function(){var m=document.documentElement||{},v=document.body||{};if(typeof window.innerWidth=="number")t.getWindowSize=function(){return new t.Point(window.innerWidth,window.innerHeight)};else if(m.clientWidth||m.clientHeight)t.getWindowSize=function(){return new t.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else if(v.clientWidth||v.clientHeight)t.getWindowSize=function(){return new t.Point(document.body.clientWidth,document.body.clientHeight)};else throw new Error("Unknown window size, no known technique.");return t.getWindowSize()},makeCenteredNode:function(m){m=t.getElement(m);var v=[t.makeNeutralElement("div"),t.makeNeutralElement("div"),t.makeNeutralElement("div")];return t.extend(v[0].style,{display:"table",height:"100%",width:"100%"}),t.extend(v[1].style,{display:"table-row"}),t.extend(v[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),v[0].appendChild(v[1]),v[1].appendChild(v[2]),v[2].appendChild(m),v[0]},makeNeutralElement:function(m){var v=document.createElement(m),x=v.style;return x.background="transparent none",x.border="none",x.margin="0px",x.padding="0px",x.position="static",v},now:function(){return Date.now?t.now=Date.now:t.now=function(){return new Date().getTime()},t.now()},makeTransparentImage:function(m){var v=t.makeNeutralElement("img");return v.src=m,v},setElementOpacity:function(m,v,x){var k,C;m=t.getElement(m),x&&!t.Browser.alpha&&(v=Math.round(v)),t.Browser.opacity?m.style.opacity=v<1?v:"":v<1?(k=Math.round(100*v),C="alpha(opacity="+k+")",m.style.filter=C):m.style.filter=""},setElementTouchActionNone:function(m){m=t.getElement(m),typeof m.style.touchAction<"u"?m.style.touchAction="none":typeof m.style.msTouchAction<"u"&&(m.style.msTouchAction="none")},setElementPointerEvents:function(m,v){m=t.getElement(m),typeof m.style<"u"&&typeof m.style.pointerEvents<"u"&&(m.style.pointerEvents=v)},setElementPointerEventsNone:function(m){t.setElementPointerEvents(m,"none")},addClass:function(m,v){m=t.getElement(m),m.className?(" "+m.className+" ").indexOf(" "+v+" ")===-1&&(m.className+=" "+v):m.className=v},indexOf:function(m,v,x){return Array.prototype.indexOf?this.indexOf=function(k,C,M){return k.indexOf(C,M)}:this.indexOf=function(k,C,M){var I,D=M||0,j;if(!k)throw new TypeError;if(j=k.length,j===0||D>=j)return-1;for(D<0&&(D=j-Math.abs(D)),I=D;I<j;I++)if(k[I]===C)return I;return-1},this.indexOf(m,v,x)},removeClass:function(m,v){var x,k=[],C;for(m=t.getElement(m),x=m.className.split(/\s+/),C=0;C<x.length;C++)x[C]&&x[C]!==v&&k.push(x[C]);m.className=k.join(" ")},normalizeEventListenerOptions:function(m){var v;return typeof m<"u"?typeof m=="boolean"?v=t.supportsEventListenerOptions?{capture:m}:m:v=t.supportsEventListenerOptions?m:typeof m.capture<"u"?m.capture:!1:v=t.supportsEventListenerOptions?{capture:!1}:!1,v},addEvent:function(){if(t.supportsAddEventListener)return function(m,v,x,k){k=t.normalizeEventListenerOptions(k),m=t.getElement(m),m.addEventListener(v,x,k)};if(document.documentElement.attachEvent&&document.attachEvent)return function(m,v,x){m=t.getElement(m),m.attachEvent("on"+v,x)};throw new Error("No known event model.")}(),removeEvent:function(){if(t.supportsRemoveEventListener)return function(m,v,x,k){k=t.normalizeEventListenerOptions(k),m=t.getElement(m),m.removeEventListener(v,x,k)};if(document.documentElement.detachEvent&&document.detachEvent)return function(m,v,x){m=t.getElement(m),m.detachEvent("on"+v,x)};throw new Error("No known event model.")}(),cancelEvent:function(m){m.preventDefault()},eventIsCanceled:function(m){return m.defaultPrevented},stopEvent:function(m){m.stopPropagation()},createCallback:function(m,v){var x=[],k;for(k=2;k<arguments.length;k++)x.push(arguments[k]);return function(){var C=x.concat([]),M;for(M=0;M<arguments.length;M++)C.push(arguments[M]);return v.apply(m,C)}},getUrlParameter:function(m){var v=d[m];return v||null},getUrlProtocol:function(m){var v=m.match(/^([a-z]+:)\/\//i);return v===null?window.location.protocol:v[1].toLowerCase()},createAjaxRequest:function(m){var v;try{v=!!new ActiveXObject("Microsoft.XMLHTTP")}catch{v=!1}if(v)window.XMLHttpRequest?t.createAjaxRequest=function(x){return x?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:t.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else if(window.XMLHttpRequest)t.createAjaxRequest=function(){return new XMLHttpRequest};else throw new Error("Browser doesn't support XMLHttpRequest.");return t.createAjaxRequest(m)},makeAjaxRequest:function(m,v,x){var k,C,M,I;t.isPlainObject(m)&&(v=m.success,x=m.error,k=m.withCredentials,C=m.headers,M=m.responseType||null,I=m.postData||null,m=m.url);var D=t.getUrlProtocol(m),j=t.createAjaxRequest(D==="file:");if(!t.isFunction(v))throw new Error("makeAjaxRequest requires a success callback");j.onreadystatechange=function(){j.readyState===4&&(j.onreadystatechange=function(){},j.status>=200&&j.status<300||j.status===0&&D!=="http:"&&D!=="https:"?v(j):t.isFunction(x)?x(j):t.console.error("AJAX request returned %d: %s",j.status,m))};var H=I?"POST":"GET";try{if(j.open(H,m,!0),M&&(j.responseType=M),C)for(var J in C)Object.prototype.hasOwnProperty.call(C,J)&&C[J]&&j.setRequestHeader(J,C[J]);k&&(j.withCredentials=!0),j.send(I)}catch(q){t.console.error("%s while making AJAX request: %s",q.name,q.message),j.onreadystatechange=function(){},t.isFunction(x)&&x(j,q)}return j},jsonp:function(m){var v,x=m.url,k=document.head||document.getElementsByTagName("head")[0]||document.documentElement,C=m.callbackName||"openseadragon"+t.now(),M=window[C],I="$1"+C+"$2",D=m.param||"callback",j=m.callback;x=x.replace(/(=)\?(&|$)|\?\?/i,I),x+=(/\?/.test(x)?"&":"?")+D+"="+C,window[C]=function(H){if(M)window[C]=M;else try{delete window[C]}catch{}j&&t.isFunction(j)&&j(H)},v=document.createElement("script"),(m.async!==void 0||m.async!==!1)&&(v.async="async"),m.scriptCharset&&(v.charset=m.scriptCharset),v.src=x,v.onload=v.onreadystatechange=function(H,J){(J||!v.readyState||/loaded|complete/.test(v.readyState))&&(v.onload=v.onreadystatechange=null,k&&v.parentNode&&k.removeChild(v),v=void 0)},k.insertBefore(v,k.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(m){if(window.DOMParser)t.parseXml=function(v){var x=null,k;return k=new DOMParser,x=k.parseFromString(v,"text/xml"),x};else if(window.ActiveXObject)t.parseXml=function(v){var x=null;return x=new ActiveXObject("Microsoft.XMLDOM"),x.async=!1,x.loadXML(v),x};else throw new Error("Browser doesn't support XML DOM.");return t.parseXml(m)},parseJSON:function(m){return t.parseJSON=window.JSON.parse,t.parseJSON(m)},imageFormatSupported:function(m){return m=m||"",!!u[m.toLowerCase()]},setImageFormatsSupported:function(m){t.extend(u,m)}});var l=function(m){};t.console=window.console||{log:l,debug:l,info:l,warn:l,error:l,assert:l},t.Browser={vendor:t.BROWSERS.UNKNOWN,version:0,alpha:!0};var u={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},d={};(function(){var m=navigator.appVersion,v=navigator.userAgent,x;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&(t.Browser.vendor=t.BROWSERS.IE,t.Browser.version=parseFloat(v.substring(v.indexOf("MSIE")+5,v.indexOf(";",v.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(v.indexOf("Edge")>=0?(t.Browser.vendor=t.BROWSERS.EDGE,t.Browser.version=parseFloat(v.substring(v.indexOf("Edge")+5))):v.indexOf("Edg")>=0?(t.Browser.vendor=t.BROWSERS.CHROMEEDGE,t.Browser.version=parseFloat(v.substring(v.indexOf("Edg")+4))):v.indexOf("Firefox")>=0?(t.Browser.vendor=t.BROWSERS.FIREFOX,t.Browser.version=parseFloat(v.substring(v.indexOf("Firefox")+8))):v.indexOf("Safari")>=0?(t.Browser.vendor=v.indexOf("Chrome")>=0?t.BROWSERS.CHROME:t.BROWSERS.SAFARI,t.Browser.version=parseFloat(v.substring(v.substring(0,v.indexOf("Safari")).lastIndexOf("/")+1,v.indexOf("Safari")))):(x=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),x.exec(v)!==null&&(t.Browser.vendor=t.BROWSERS.IE,t.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":t.Browser.vendor=t.BROWSERS.OPERA,t.Browser.version=parseFloat(m);break}var k=window.location.search.substring(1),C=k.split("&"),M,I,D;for(D=0;D<C.length;D++)if(M=C[D],I=M.indexOf("="),I>0){var j=M.substring(0,I),H=M.substring(I+1);try{d[j]=decodeURIComponent(H)}catch{t.console.error("Ignoring malformed URL parameter: %s=%s",j,H)}}t.Browser.alpha=!(t.Browser.vendor===t.BROWSERS.CHROME&&t.Browser.version<2),t.Browser.opacity=!0,t.Browser.vendor===t.BROWSERS.IE&&t.Browser.version<11&&t.console.error("Internet Explorer versions < 11 are not supported by OpenSeadragon")})(),function(m){var v=m.requestAnimationFrame||m.mozRequestAnimationFrame||m.webkitRequestAnimationFrame||m.msRequestAnimationFrame,x=m.cancelAnimationFrame||m.mozCancelAnimationFrame||m.webkitCancelAnimationFrame||m.msCancelAnimationFrame;if(v&&x)t.requestAnimationFrame=function(){return v.apply(m,arguments)},t.cancelAnimationFrame=function(){return x.apply(m,arguments)};else{var k=[],C=[],M=0,I;t.requestAnimationFrame=function(D){return k.push([++M,D]),I||(I=setInterval(function(){if(k.length){var j=t.now(),H=C;for(C=k,k=H;C.length;)C.shift()[1](j)}else clearInterval(I),I=void 0},1e3/50)),M},t.cancelAnimationFrame=function(D){var j,H;for(j=0,H=k.length;j<H;j+=1)if(k[j][0]===D){k.splice(j,1);return}for(j=0,H=C.length;j<H;j+=1)if(C[j][0]===D){C.splice(j,1);return}}}}(window);function p(m,v){return v&&m!==document.body?document.body:m.offsetParent}}(r),function(t,o){i.exports?i.exports=o():t.OpenSeadragon=o()}(Fx,function(){return r}),function(t){var o={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(o.supportsFullScreen=!0,o.getFullScreenElement=function(){return document.fullscreenElement},o.requestFullScreen=function(l){return l.requestFullscreen()},o.exitFullScreen=function(){document.exitFullscreen()},o.fullScreenEventName="fullscreenchange",o.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(o.supportsFullScreen=!0,o.getFullScreenElement=function(){return document.msFullscreenElement},o.requestFullScreen=function(l){return l.msRequestFullscreen()},o.exitFullScreen=function(){document.msExitFullscreen()},o.fullScreenEventName="MSFullscreenChange",o.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(o.supportsFullScreen=!0,o.getFullScreenElement=function(){return document.webkitFullscreenElement},o.requestFullScreen=function(l){return l.webkitRequestFullscreen()},o.exitFullScreen=function(){document.webkitExitFullscreen()},o.fullScreenEventName="webkitfullscreenchange",o.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(o.supportsFullScreen=!0,o.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},o.requestFullScreen=function(l){return l.webkitRequestFullScreen()},o.exitFullScreen=function(){document.webkitCancelFullScreen()},o.fullScreenEventName="webkitfullscreenchange",o.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(o.supportsFullScreen=!0,o.getFullScreenElement=function(){return document.mozFullScreenElement},o.requestFullScreen=function(l){return l.mozRequestFullScreen()},o.exitFullScreen=function(){document.mozCancelFullScreen()},o.fullScreenEventName="mozfullscreenchange",o.fullScreenErrorEventName="mozfullscreenerror"),o.isFullScreen=function(){return o.getFullScreenElement()!==null},o.cancelFullScreen=function(){t.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),o.exitFullScreen()},t.extend(t,o)}(r),function(t){t.EventSource=function(){this.events={}},t.EventSource.prototype={addOnceHandler:function(o,l,u,d){var p=this;d=d||1;var m=0,v=function(x){m++,m===d&&p.removeHandler(o,v),l(x)};this.addHandler(o,v,u)},addHandler:function(o,l,u){var d=this.events[o];d||(this.events[o]=d=[]),l&&t.isFunction(l)&&(d[d.length]={handler:l,userData:u||null})},removeHandler:function(o,l){var u=this.events[o],d=[],p;if(u&&t.isArray(u)){for(p=0;p<u.length;p++)u[p].handler!==l&&d.push(u[p]);this.events[o]=d}},numberOfHandlers:function(o){var l=this.events[o];return l?l.length:0},removeAllHandlers:function(o){if(o)this.events[o]=[];else for(var l in this.events)this.events[l]=[]},getHandler:function(o){var l=this.events[o];return!l||!l.length?null:(l=l.length===1?[l[0]]:Array.apply(null,l),function(u,d){var p,m=l.length;for(p=0;p<m;p++)l[p]&&(d.eventSource=u,d.userData=l[p].userData,l[p].handler(d))})},raiseEvent:function(o,l){var u=this.getHandler(o);u&&(l||(l={}),u(this,l))}}}(r),function(t){var o={};t.MouseTracker=function($){var K=arguments;t.isPlainObject($)||($={element:K[0],clickTimeThreshold:K[1],clickDistThreshold:K[2]}),this.hash=Math.random(),this.element=t.getElement($.element),this.clickTimeThreshold=$.clickTimeThreshold||t.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=$.clickDistThreshold||t.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=$.dblClickTimeThreshold||t.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=$.dblClickDistThreshold||t.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=$.userData||null,this.stopDelay=$.stopDelay||50,this.preProcessEventHandler=$.preProcessEventHandler||null,this.contextMenuHandler=$.contextMenuHandler||null,this.enterHandler=$.enterHandler||null,this.leaveHandler=$.leaveHandler||null,this.exitHandler=$.exitHandler||null,this.overHandler=$.overHandler||null,this.outHandler=$.outHandler||null,this.pressHandler=$.pressHandler||null,this.nonPrimaryPressHandler=$.nonPrimaryPressHandler||null,this.releaseHandler=$.releaseHandler||null,this.nonPrimaryReleaseHandler=$.nonPrimaryReleaseHandler||null,this.moveHandler=$.moveHandler||null,this.scrollHandler=$.scrollHandler||null,this.clickHandler=$.clickHandler||null,this.dblClickHandler=$.dblClickHandler||null,this.dragHandler=$.dragHandler||null,this.dragEndHandler=$.dragEndHandler||null,this.pinchHandler=$.pinchHandler||null,this.stopHandler=$.stopHandler||null,this.keyDownHandler=$.keyDownHandler||null,this.keyUpHandler=$.keyUpHandler||null,this.keyHandler=$.keyHandler||null,this.focusHandler=$.focusHandler||null,this.blurHandler=$.blurHandler||null;var ut=this;o[this.hash]={click:function(ct){q(ut,ct)},dblclick:function(ct){W(ut,ct)},keydown:function(ct){st(ut,ct)},keyup:function(ct){mt(ut,ct)},keypress:function(ct){gt(ut,ct)},focus:function(ct){ot(ut,ct)},blur:function(ct){U(ut,ct)},contextmenu:function(ct){et(ut,ct)},wheel:function(ct){lt(ut,ct)},mousewheel:function(ct){ht(ut,ct)},DOMMouseScroll:function(ct){ht(ut,ct)},MozMousePixelScroll:function(ct){ht(ut,ct)},losecapture:function(ct){St(ut,ct)},mouseenter:function(ct){ee(ut,ct)},mouseleave:function(ct){ge(ut,ct)},mouseover:function(ct){ae(ut,ct)},mouseout:function(ct){ue(ut,ct)},mousedown:function(ct){rr(ut,ct)},mouseup:function(ct){mr(ut,ct)},mousemove:function(ct){Bi(ut,ct)},touchstart:function(ct){Lt(ut,ct)},touchend:function(ct){xt(ut,ct)},touchmove:function(ct){Dt(ut,ct)},touchcancel:function(ct){zt(ut,ct)},gesturestart:function(ct){fe(ut,ct)},gesturechange:function(ct){yt(ut,ct)},gotpointercapture:function(ct){At(ut,ct)},lostpointercapture:function(ct){Xt(ut,ct)},pointerenter:function(ct){ee(ut,ct)},pointerleave:function(ct){ge(ut,ct)},pointerover:function(ct){ae(ut,ct)},pointerout:function(ct){ue(ut,ct)},pointerdown:function(ct){rr(ut,ct)},pointerup:function(ct){mr(ut,ct)},pointermove:function(ct){Bi(ut,ct)},pointercancel:function(ct){Ht(ut,ct)},pointerupcaptured:function(ct){vi(ut,ct)},pointermovecaptured:function(ct){bt(ut,ct)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null,sentDragEvent:!1},this.hasGestureHandlers=!!(this.pressHandler||this.nonPrimaryPressHandler||this.releaseHandler||this.nonPrimaryReleaseHandler||this.clickHandler||this.dblClickHandler||this.dragHandler||this.dragEndHandler||this.pinchHandler),this.hasScrollHandler=!!this.scrollHandler,t.MouseTracker.havePointerEvents&&t.setElementPointerEvents(this.element,"auto"),this.exitHandler&&t.console.error("MouseTracker.exitHandler is deprecated. Use MouseTracker.leaveHandler instead."),$.startDisabled||this.setTracking(!0)},t.MouseTracker.prototype={destroy:function(){m(this),this.element=null,o[this.hash]=null,delete o[this.hash]},isTracking:function(){return o[this.hash].tracking},setTracking:function($){return $?p(this):m(this),this},getActivePointersListByType:function($){var K=o[this.hash],ut,ct=K.activePointersLists.length,Kt;for(ut=0;ut<ct;ut++)if(K.activePointersLists[ut].type===$)return K.activePointersLists[ut];return Kt=new t.MouseTracker.GesturePointList($),K.activePointersLists.push(Kt),Kt},getActivePointerCount:function(){var $=o[this.hash],K,ut=$.activePointersLists.length,ct=0;for(K=0;K<ut;K++)ct+=$.activePointersLists[K].getLength();return ct},preProcessEventHandler:function(){},contextMenuHandler:function(){},enterHandler:function(){},leaveHandler:function(){},exitHandler:function(){},overHandler:function(){},outHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};var l=function(){try{return window.self!==window.top}catch{return!0}}();function u($){try{return $.addEventListener&&$.removeEventListener}catch{return!1}}t.MouseTracker.gesturePointVelocityTracker=function(){var $=[],K=0,ut=0,ct=function(ar,De){return ar.hash.toString()+De.type+De.id.toString()},Kt=function(){var ar,De=$.length,Wn,ji,Ss=t.now(),ia,Tu,Ji;for(ia=Ss-ut,ut=Ss,ar=0;ar<De;ar++)Wn=$[ar],ji=Wn.gPoint,ji.direction=Math.atan2(ji.currentPos.y-Wn.lastPos.y,ji.currentPos.x-Wn.lastPos.x),Tu=Wn.lastPos.distanceTo(ji.currentPos),Wn.lastPos=ji.currentPos,Ji=1e3*Tu/(ia+1),ji.speed=.75*Ji+.25*ji.speed},ne=function(ar,De){var Wn=ct(ar,De);$.push({guid:Wn,gPoint:De,lastPos:De.currentPos}),$.length===1&&(ut=t.now(),K=window.setInterval(Kt,50))},Te=function(ar,De){var Wn=ct(ar,De),ji,Ss=$.length;for(ji=0;ji<Ss;ji++)if($[ji].guid===Wn){$.splice(ji,1),Ss--,Ss===0&&window.clearInterval(K);break}};return{addPoint:ne,removePoint:Te}}(),t.MouseTracker.captureElement=document,t.MouseTracker.wheelEventName=t.Browser.vendor===t.BROWSERS.IE&&t.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll",t.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur","contextmenu",t.MouseTracker.wheelEventName],t.MouseTracker.wheelEventName==="DOMMouseScroll"&&t.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent?(t.MouseTracker.havePointerEvents=!0,t.MouseTracker.subscribeEvents.push("pointerenter","pointerleave","pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),t.MouseTracker.havePointerCapture=function(){var $=document.createElement("div");return t.isFunction($.setPointerCapture)&&t.isFunction($.releasePointerCapture)}(),t.MouseTracker.havePointerCapture&&t.MouseTracker.subscribeEvents.push("gotpointercapture","lostpointercapture")):(t.MouseTracker.havePointerEvents=!1,t.MouseTracker.subscribeEvents.push("mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","mousemove"),t.MouseTracker.mousePointerId="legacy-mouse",t.MouseTracker.havePointerCapture=function(){var $=document.createElement("div");return t.isFunction($.setCapture)&&t.isFunction($.releaseCapture)}(),t.MouseTracker.havePointerCapture&&t.MouseTracker.subscribeEvents.push("losecapture"),"ontouchstart"in window&&t.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&t.MouseTracker.subscribeEvents.push("gesturestart","gesturechange")),t.MouseTracker.GesturePointList=function($){this._gPoints=[],this.type=$,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},t.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function($){return this._gPoints.push($)},removeById:function($){var K,ut=this._gPoints.length;for(K=0;K<ut;K++)if(this._gPoints[K].id===$){this._gPoints.splice(K,1);break}return this._gPoints.length},getByIndex:function($){return $<this._gPoints.length?this._gPoints[$]:null},getById:function($){var K,ut=this._gPoints.length;for(K=0;K<ut;K++)if(this._gPoints[K].id===$)return this._gPoints[K];return null},getPrimary:function($){var K,ut=this._gPoints.length;for(K=0;K<ut;K++)if(this._gPoints[K].isPrimary)return this._gPoints[K];return null},addContact:function(){++this.contacts,this.contacts>1&&(this.type==="mouse"||this.type==="pen")&&(t.console.warn("GesturePointList.addContact() Implausible contacts value"),this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}};function d($){var K=o[$.hash],ut,ct,Kt,ne,Te,ar=K.activePointersLists.length;for(ut=0;ut<ar;ut++)if(Kt=K.activePointersLists[ut],Kt.getLength()>0){for(Te=[],ne=Kt.asArray(),ct=0;ct<ne.length;ct++)Te.push(ne[ct]);for(ct=0;ct<Te.length;ct++)G($,Kt,Te[ct])}for(ut=0;ut<ar;ut++)K.activePointersLists.pop();K.sentDragEvent=!1}function p($){var K=o[$.hash],ut,ct;if(!K.tracking){for(ct=0;ct<t.MouseTracker.subscribeEvents.length;ct++)ut=t.MouseTracker.subscribeEvents[ct],t.addEvent($.element,ut,K[ut],ut===t.MouseTracker.wheelEventName?{passive:!1,capture:!1}:!1);d($),K.tracking=!0}}function m($){var K=o[$.hash],ut,ct;if(K.tracking){for(ct=0;ct<t.MouseTracker.subscribeEvents.length;ct++)ut=t.MouseTracker.subscribeEvents[ct],t.removeEvent($.element,ut,K[ut],!1);d($),K.tracking=!1}}function v($,K){var ut=o[$.hash];if(K==="pointerevent")return{upName:"pointerup",upHandler:ut.pointerupcaptured,moveName:"pointermove",moveHandler:ut.pointermovecaptured};if(K==="mouse")return{upName:"pointerup",upHandler:ut.pointerupcaptured,moveName:"pointermove",moveHandler:ut.pointermovecaptured};if(K==="touch")return{upName:"touchend",upHandler:ut.touchendcaptured,moveName:"touchmove",moveHandler:ut.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function x($,K){var ut;if(t.MouseTracker.havePointerCapture)if(t.MouseTracker.havePointerEvents)try{$.element.setPointerCapture(K.id)}catch{t.console.warn("setPointerCapture() called on invalid pointer ID");return}else $.element.setCapture(!0);else ut=v($,t.MouseTracker.havePointerEvents?"pointerevent":K.type),l&&u(window.top)&&t.addEvent(window.top,ut.upName,ut.upHandler,!0),t.addEvent(t.MouseTracker.captureElement,ut.upName,ut.upHandler,!0),t.addEvent(t.MouseTracker.captureElement,ut.moveName,ut.moveHandler,!0);pt($,K,!0)}function k($,K){var ut,ct,Kt;if(t.MouseTracker.havePointerCapture)if(t.MouseTracker.havePointerEvents){if(ct=$.getActivePointersListByType(K.type),Kt=ct.getById(K.id),!Kt||!Kt.captured)return;try{$.element.releasePointerCapture(K.id)}catch{}}else $.element.releaseCapture();else ut=v($,t.MouseTracker.havePointerEvents?"pointerevent":K.type),l&&u(window.top)&&t.removeEvent(window.top,ut.upName,ut.upHandler,!0),t.removeEvent(t.MouseTracker.captureElement,ut.moveName,ut.moveHandler,!0),t.removeEvent(t.MouseTracker.captureElement,ut.upName,ut.upHandler,!0);pt($,K,!1)}function C($){return t.MouseTracker.havePointerEvents?$.pointerId:t.MouseTracker.mousePointerId}function M($){return t.MouseTracker.havePointerEvents?$.pointerType||(t.Browser.vendor===t.BROWSERS.IE?"mouse":""):"mouse"}function I($){return t.MouseTracker.havePointerEvents?$.isPrimary:!0}function D($){return t.getMousePosition($)}function j($,K){return H(D($),K)}function H($,K){var ut=t.getElementOffset(K);return $.minus(ut)}function J($,K){return new t.Point(($.x+K.x)/2,($.y+K.y)/2)}function q($,K){var ut={originalEvent:K,eventType:"click",pointerType:"mouse",isEmulated:!1};ft($,ut),ut.preventDefault&&!ut.defaultPrevented&&t.cancelEvent(K),ut.stopPropagation&&t.stopEvent(K)}function W($,K){var ut={originalEvent:K,eventType:"dblclick",pointerType:"mouse",isEmulated:!1};ft($,ut),ut.preventDefault&&!ut.defaultPrevented&&t.cancelEvent(K),ut.stopPropagation&&t.stopEvent(K)}function st($,K){var ut=null,ct={originalEvent:K,eventType:"keydown",pointerType:"",isEmulated:!1};ft($,ct),$.keyDownHandler&&!ct.preventGesture&&!ct.defaultPrevented&&(ut={eventSource:$,keyCode:K.keyCode?K.keyCode:K.charCode,ctrl:K.ctrlKey,shift:K.shiftKey,alt:K.altKey,meta:K.metaKey,originalEvent:K,preventDefault:ct.preventDefault||ct.defaultPrevented,userData:$.userData},$.keyDownHandler(ut)),(ut&&ut.preventDefault||ct.preventDefault&&!ct.defaultPrevented)&&t.cancelEvent(K),ct.stopPropagation&&t.stopEvent(K)}function mt($,K){var ut=null,ct={originalEvent:K,eventType:"keyup",pointerType:"",isEmulated:!1};ft($,ct),$.keyUpHandler&&!ct.preventGesture&&!ct.defaultPrevented&&(ut={eventSource:$,keyCode:K.keyCode?K.keyCode:K.charCode,ctrl:K.ctrlKey,shift:K.shiftKey,alt:K.altKey,meta:K.metaKey,originalEvent:K,preventDefault:ct.preventDefault||ct.defaultPrevented,userData:$.userData},$.keyUpHandler(ut)),(ut&&ut.preventDefault||ct.preventDefault&&!ct.defaultPrevented)&&t.cancelEvent(K),ct.stopPropagation&&t.stopEvent(K)}function gt($,K){var ut=null,ct={originalEvent:K,eventType:"keypress",pointerType:"",isEmulated:!1};ft($,ct),$.keyHandler&&!ct.preventGesture&&!ct.defaultPrevented&&(ut={eventSource:$,keyCode:K.keyCode?K.keyCode:K.charCode,ctrl:K.ctrlKey,shift:K.shiftKey,alt:K.altKey,meta:K.metaKey,originalEvent:K,preventDefault:ct.preventDefault||ct.defaultPrevented,userData:$.userData},$.keyHandler(ut)),(ut&&ut.preventDefault||ct.preventDefault&&!ct.defaultPrevented)&&t.cancelEvent(K),ct.stopPropagation&&t.stopEvent(K)}function ot($,K){var ut={originalEvent:K,eventType:"focus",pointerType:"",isEmulated:!1};ft($,ut),$.focusHandler&&!ut.preventGesture&&$.focusHandler({eventSource:$,originalEvent:K,userData:$.userData})}function U($,K){var ut={originalEvent:K,eventType:"blur",pointerType:"",isEmulated:!1};ft($,ut),$.blurHandler&&!ut.preventGesture&&$.blurHandler({eventSource:$,originalEvent:K,userData:$.userData})}function et($,K){var ut=null,ct={originalEvent:K,eventType:"contextmenu",pointerType:"mouse",isEmulated:!1};ft($,ct),$.contextMenuHandler&&!ct.preventGesture&&!ct.defaultPrevented&&(ut={eventSource:$,position:H(D(K),$.element),originalEvent:ct.originalEvent,preventDefault:ct.preventDefault||ct.defaultPrevented,userData:$.userData},$.contextMenuHandler(ut)),(ut&&ut.preventDefault||ct.preventDefault&&!ct.defaultPrevented)&&t.cancelEvent(K),ct.stopPropagation&&t.stopEvent(K)}function lt($,K){Gt($,K,K)}function ht($,K){var ut={target:K.target||K.srcElement,type:"wheel",shiftKey:K.shiftKey||!1,clientX:K.clientX,clientY:K.clientY,pageX:K.pageX?K.pageX:K.clientX,pageY:K.pageY?K.pageY:K.clientY,deltaMode:K.type==="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0};t.MouseTracker.wheelEventName==="mousewheel"?ut.deltaY=-K.wheelDelta/t.DEFAULT_SETTINGS.pixelsPerWheelLine:ut.deltaY=K.detail,Gt($,ut,K)}function Gt($,K,ut){var ct=0,Kt,ne=null;ct=K.deltaY<0?1:-1,Kt={originalEvent:K,eventType:"wheel",pointerType:"mouse",isEmulated:K!==ut},ft($,Kt),$.scrollHandler&&!Kt.preventGesture&&!Kt.defaultPrevented&&(ne={eventSource:$,pointerType:"mouse",position:j(K,$.element),scroll:ct,shift:K.shiftKey,isTouchEvent:!1,originalEvent:ut,preventDefault:Kt.preventDefault||Kt.defaultPrevented,userData:$.userData},$.scrollHandler(ne)),Kt.stopPropagation&&t.stopEvent(ut),(ne&&ne.preventDefault||Kt.preventDefault&&!Kt.defaultPrevented)&&t.cancelEvent(ut)}function St($,K){var ut={id:t.MouseTracker.mousePointerId,type:"mouse"},ct={originalEvent:K,eventType:"lostpointercapture",pointerType:"mouse",isEmulated:!1};ft($,ct),K.target===$.element&&pt($,ut,!1),ct.stopPropagation&&t.stopEvent(K)}function Lt($,K){var ut,ct,Kt=K.changedTouches.length,ne,Te=$.getActivePointersListByType("touch");ut=t.now(),Te.getLength()>K.touches.length-Kt&&t.console.warn("Tracked touch contact count doesn't match event.touches.length");var ar={originalEvent:K,eventType:"pointerdown",pointerType:"touch",isEmulated:!1};for(ft($,ar),ct=0;ct<Kt;ct++)ne={id:K.changedTouches[ct].identifier,type:"touch",isPrimary:Te.getLength()===0,currentPos:D(K.changedTouches[ct]),currentTime:ut},kt($,ar,ne),te($,ar,ne,0),pt($,ne,!0);ar.preventDefault&&!ar.defaultPrevented&&t.cancelEvent(K),ar.stopPropagation&&t.stopEvent(K)}function xt($,K){var ut,ct,Kt=K.changedTouches.length,ne;ut=t.now();var Te={originalEvent:K,eventType:"pointerup",pointerType:"touch",isEmulated:!1};for(ft($,Te),ct=0;ct<Kt;ct++)ne={id:K.changedTouches[ct].identifier,type:"touch",currentPos:D(K.changedTouches[ct]),currentTime:ut},re($,Te,ne,0),pt($,ne,!1),dt($,Te,ne);Te.preventDefault&&!Te.defaultPrevented&&t.cancelEvent(K),Te.stopPropagation&&t.stopEvent(K)}function Dt($,K){var ut,ct,Kt=K.changedTouches.length,ne;ut=t.now();var Te={originalEvent:K,eventType:"pointermove",pointerType:"touch",isEmulated:!1};for(ft($,Te),ct=0;ct<Kt;ct++)ne={id:K.changedTouches[ct].identifier,type:"touch",currentPos:D(K.changedTouches[ct]),currentTime:ut},be($,Te,ne);Te.preventDefault&&!Te.defaultPrevented&&t.cancelEvent(K),Te.stopPropagation&&t.stopEvent(K)}function zt($,K){var ut=K.changedTouches.length,ct,Kt,ne={originalEvent:K,eventType:"pointercancel",pointerType:"touch",isEmulated:!1};for(ft($,ne),ct=0;ct<ut;ct++)Kt={id:K.changedTouches[ct].identifier,type:"touch"},_e($,ne,Kt);ne.stopPropagation&&t.stopEvent(K)}function fe($,K){return t.eventIsCanceled(K)||K.preventDefault(),!1}function yt($,K){return t.eventIsCanceled(K)||K.preventDefault(),!1}function At($,K){var ut={originalEvent:K,eventType:"gotpointercapture",pointerType:M(K),isEmulated:!1};ft($,ut),K.target===$.element&&pt($,{id:K.pointerId,type:M(K)},!0),ut.stopPropagation&&t.stopEvent(K)}function Xt($,K){var ut={originalEvent:K,eventType:"lostpointercapture",pointerType:M(K),isEmulated:!1};ft($,ut),K.target===$.element&&pt($,{id:K.pointerId,type:M(K)},!1),ut.stopPropagation&&t.stopEvent(K)}function ee($,K){var ut={id:C(K),type:M(K),isPrimary:I(K),currentPos:D(K),currentTime:t.now()},ct={originalEvent:K,eventType:"pointerenter",pointerType:ut.type,isEmulated:!1};ft($,ct),kt($,ct,ut)}function ge($,K){var ut={id:C(K),type:M(K),isPrimary:I(K),currentPos:D(K),currentTime:t.now()},ct={originalEvent:K,eventType:"pointerleave",pointerType:ut.type,isEmulated:!1};ft($,ct),dt($,ct,ut)}function ae($,K){var ut={id:C(K),type:M(K),isPrimary:I(K),currentPos:D(K),currentTime:t.now()},ct={originalEvent:K,eventType:"pointerover",pointerType:ut.type,isEmulated:!1};ft($,ct),Ot($,ct,ut),ct.preventDefault&&!ct.defaultPrevented&&t.cancelEvent(K),ct.stopPropagation&&t.stopEvent(K)}function ue($,K){var ut={id:C(K),type:M(K),isPrimary:I(K),currentPos:D(K),currentTime:t.now()},ct={originalEvent:K,eventType:"pointerout",pointerType:ut.type,isEmulated:!1};ft($,ct),$t($,ct,ut),ct.preventDefault&&!ct.defaultPrevented&&t.cancelEvent(K),ct.stopPropagation&&t.stopEvent(K)}function rr($,K){var ut={id:C(K),type:M(K),isPrimary:I(K),currentPos:D(K),currentTime:t.now()},ct=t.MouseTracker.havePointerEvents&&ut.type==="touch"&&t.Browser.vendor!==t.BROWSERS.IE,Kt={originalEvent:K,eventType:"pointerdown",pointerType:ut.type,isEmulated:!1};ft($,Kt),te($,Kt,ut,K.button),Kt.preventDefault&&!Kt.defaultPrevented&&t.cancelEvent(K),Kt.stopPropagation&&t.stopEvent(K),Kt.shouldCapture&&(ct?pt($,ut,!0):x($,ut))}function mr($,K){Xi($,K)}function vi($,K){var ut=$.getActivePointersListByType(M(K));ut.getById(K.pointerId)&&Xi($,K),t.stopEvent(K)}function Xi($,K){var ut;ut={id:C(K),type:M(K),isPrimary:I(K),currentPos:D(K),currentTime:t.now()};var ct={originalEvent:K,eventType:"pointerup",pointerType:ut.type,isEmulated:!1};ft($,ct),re($,ct,ut,K.button),ct.preventDefault&&!ct.defaultPrevented&&t.cancelEvent(K),ct.stopPropagation&&t.stopEvent(K),ct.shouldReleaseCapture&&(K.target===$.element?k($,ut):pt($,ut,!1))}function Bi($,K){Et($,K)}function bt($,K){var ut=$.getActivePointersListByType(M(K));ut.getById(K.pointerId)&&Et($,K),t.stopEvent(K)}function Et($,K){var ut={id:C(K),type:M(K),isPrimary:I(K),currentPos:D(K),currentTime:t.now()},ct={originalEvent:K,eventType:"pointermove",pointerType:ut.type,isEmulated:!1};ft($,ct),be($,ct,ut),ct.preventDefault&&!ct.defaultPrevented&&t.cancelEvent(K),ct.stopPropagation&&t.stopEvent(K)}function Ht($,K){var ut={id:K.pointerId,type:M(K)},ct={originalEvent:K,eventType:"pointercancel",pointerType:ut.type,isEmulated:!1};ft($,ct),_e($,ct,ut),ct.stopPropagation&&t.stopEvent(K)}function A($,K){return K.speed=0,K.direction=0,K.contactPos=K.currentPos,K.contactTime=K.currentTime,K.lastPos=K.currentPos,K.lastTime=K.currentTime,$.add(K)}function G($,K,ut){var ct,Kt=K.getById(ut.id);return Kt?(Kt.captured&&(t.console.warn("stopTrackingPointer() called on captured pointer"),k($,Kt)),K.removeContact(),ct=K.removeById(ut.id)):ct=K.getLength(),ct}function at($,K){switch(K.eventType){case"pointermove":K.isStoppable=!0,K.isCancelable=!0,K.preventDefault=!1,K.preventGesture=!$.hasGestureHandlers,K.stopPropagation=!1;break;case"pointerover":case"pointerout":case"contextmenu":case"keydown":case"keyup":case"keypress":K.isStoppable=!0,K.isCancelable=!0,K.preventDefault=!1,K.preventGesture=!1,K.stopPropagation=!1;break;case"pointerdown":K.isStoppable=!0,K.isCancelable=!0,K.preventDefault=!1,K.preventGesture=!$.hasGestureHandlers,K.stopPropagation=!1;break;case"pointerup":K.isStoppable=!0,K.isCancelable=!0,K.preventDefault=!1,K.preventGesture=!$.hasGestureHandlers,K.stopPropagation=!1;break;case"wheel":K.isStoppable=!0,K.isCancelable=!0,K.preventDefault=!1,K.preventGesture=!$.hasScrollHandler,K.stopPropagation=!1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":K.isStoppable=!0,K.isCancelable=!1,K.preventDefault=!1,K.preventGesture=!1,K.stopPropagation=!1;break;case"click":K.isStoppable=!0,K.isCancelable=!0,K.preventDefault=!!$.clickHandler,K.preventGesture=!1,K.stopPropagation=!1;break;case"dblclick":K.isStoppable=!0,K.isCancelable=!0,K.preventDefault=!!$.dblClickHandler,K.preventGesture=!1,K.stopPropagation=!1;break;case"focus":case"blur":case"pointerenter":case"pointerleave":default:K.isStoppable=!1,K.isCancelable=!1,K.preventDefault=!1,K.preventGesture=!1,K.stopPropagation=!1;break}}function ft($,K){K.eventSource=$,K.eventPhase=K.originalEvent&&typeof K.originalEvent.eventPhase<"u"?K.originalEvent.eventPhase:0,K.defaultPrevented=t.eventIsCanceled(K.originalEvent),K.shouldCapture=!1,K.shouldReleaseCapture=!1,K.userData=$.userData,at($,K),$.preProcessEventHandler&&$.preProcessEventHandler(K)}function pt($,K,ut){var ct=$.getActivePointersListByType(K.type),Kt=ct.getById(K.id);Kt?ut&&!Kt.captured?(Kt.captured=!0,ct.captureCount++):!ut&&Kt.captured&&(Kt.captured=!1,ct.captureCount--,ct.captureCount<0&&(ct.captureCount=0,t.console.warn("updatePointerCaptured() - pointsList.captureCount went negative"))):t.console.warn("updatePointerCaptured() called on untracked pointer")}function kt($,K,ut){var ct=$.getActivePointersListByType(ut.type),Kt;Kt=ct.getById(ut.id),Kt?(Kt.insideElement=!0,Kt.lastPos=Kt.currentPos,Kt.lastTime=Kt.currentTime,Kt.currentPos=ut.currentPos,Kt.currentTime=ut.currentTime,ut=Kt):(ut.captured=!1,ut.insideElementPressed=!1,ut.insideElement=!0,A(ct,ut)),$.enterHandler&&$.enterHandler({eventSource:$,pointerType:ut.type,position:H(ut.currentPos,$.element),buttons:ct.buttons,pointers:$.getActivePointerCount(),insideElementPressed:ut.insideElementPressed,buttonDownAny:ct.buttons!==0,isTouchEvent:ut.type==="touch",originalEvent:K.originalEvent,userData:$.userData})}function dt($,K,ut){var ct=$.getActivePointersListByType(ut.type),Kt,ne;Kt=ct.getById(ut.id),Kt?(Kt.captured?(Kt.insideElement=!1,Kt.lastPos=Kt.currentPos,Kt.lastTime=Kt.currentTime,Kt.currentPos=ut.currentPos,Kt.currentTime=ut.currentTime):G($,ct,Kt),ut=Kt):(ut.captured=!1,ut.insideElementPressed=!1),($.leaveHandler||$.exitHandler)&&(ne={eventSource:$,pointerType:ut.type,position:ut.currentPos&&H(ut.currentPos,$.element),buttons:ct.buttons,pointers:$.getActivePointerCount(),insideElementPressed:ut.insideElementPressed,buttonDownAny:ct.buttons!==0,isTouchEvent:ut.type==="touch",originalEvent:K.originalEvent,userData:$.userData},$.leaveHandler&&$.leaveHandler(ne),$.exitHandler&&$.exitHandler(ne))}function Ot($,K,ut){var ct,Kt;ct=$.getActivePointersListByType(ut.type),Kt=ct.getById(ut.id),Kt?ut=Kt:(ut.captured=!1,ut.insideElementPressed=!1),$.overHandler&&$.overHandler({eventSource:$,pointerType:ut.type,position:H(ut.currentPos,$.element),buttons:ct.buttons,pointers:$.getActivePointerCount(),insideElementPressed:ut.insideElementPressed,buttonDownAny:ct.buttons!==0,isTouchEvent:ut.type==="touch",originalEvent:K.originalEvent,userData:$.userData})}function $t($,K,ut){var ct,Kt;ct=$.getActivePointersListByType(ut.type),Kt=ct.getById(ut.id),Kt?ut=Kt:(ut.captured=!1,ut.insideElementPressed=!1),$.outHandler&&$.outHandler({eventSource:$,pointerType:ut.type,position:ut.currentPos&&H(ut.currentPos,$.element),buttons:ct.buttons,pointers:$.getActivePointerCount(),insideElementPressed:ut.insideElementPressed,buttonDownAny:ct.buttons!==0,isTouchEvent:ut.type==="touch",originalEvent:K.originalEvent,userData:$.userData})}function te($,K,ut,ct){var Kt=o[$.hash],ne=$.getActivePointersListByType(ut.type),Te;if(typeof K.originalEvent.buttons<"u"?ne.buttons=K.originalEvent.buttons:ct===0?ne.buttons|=1:ct===1?ne.buttons|=4:ct===2?ne.buttons|=2:ct===3?ne.buttons|=8:ct===4?ne.buttons|=16:ct===5&&(ne.buttons|=32),ct!==0){K.shouldCapture=!1,K.shouldReleaseCapture=!1,$.nonPrimaryPressHandler&&!K.preventGesture&&!K.defaultPrevented&&(K.preventDefault=!0,$.nonPrimaryPressHandler({eventSource:$,pointerType:ut.type,position:H(ut.currentPos,$.element),button:ct,buttons:ne.buttons,isTouchEvent:ut.type==="touch",originalEvent:K.originalEvent,userData:$.userData}));return}Te=ne.getById(ut.id),Te?(Te.insideElementPressed=!0,Te.insideElement=!0,Te.originalTarget=K.originalEvent.target,Te.contactPos=ut.currentPos,Te.contactTime=ut.currentTime,Te.lastPos=Te.currentPos,Te.lastTime=Te.currentTime,Te.currentPos=ut.currentPos,Te.currentTime=ut.currentTime,ut=Te):(ut.captured=!1,ut.insideElementPressed=!0,ut.insideElement=!0,ut.originalTarget=K.originalEvent.target,A(ne,ut)),ne.addContact(),!K.preventGesture&&!K.defaultPrevented?(K.shouldCapture=!0,K.shouldReleaseCapture=!1,K.preventDefault=!0,($.dragHandler||$.dragEndHandler||$.pinchHandler)&&t.MouseTracker.gesturePointVelocityTracker.addPoint($,ut),ne.contacts===1?$.pressHandler&&!K.preventGesture&&$.pressHandler({eventSource:$,pointerType:ut.type,position:H(ut.contactPos,$.element),buttons:ne.buttons,isTouchEvent:ut.type==="touch",originalEvent:K.originalEvent,userData:$.userData}):ne.contacts===2&&$.pinchHandler&&ut.type==="touch"&&(Kt.pinchGPoints=ne.asArray(),Kt.lastPinchDist=Kt.currentPinchDist=Kt.pinchGPoints[0].currentPos.distanceTo(Kt.pinchGPoints[1].currentPos),Kt.lastPinchCenter=Kt.currentPinchCenter=J(Kt.pinchGPoints[0].currentPos,Kt.pinchGPoints[1].currentPos))):(K.shouldCapture=!1,K.shouldReleaseCapture=!1)}function re($,K,ut,ct){var Kt=o[$.hash],ne=$.getActivePointersListByType(ut.type),Te,ar,De,Wn=!1,ji;if(typeof K.originalEvent.buttons<"u"?ne.buttons=K.originalEvent.buttons:ct===0?ne.buttons^=-2:ct===1?ne.buttons^=-5:ct===2?ne.buttons^=-3:ct===3?ne.buttons^=-9:ct===4?ne.buttons^=-17:ct===5&&(ne.buttons^=-33),K.shouldCapture=!1,ct!==0){K.shouldReleaseCapture=!1,$.nonPrimaryReleaseHandler&&!K.preventGesture&&!K.defaultPrevented&&(K.preventDefault=!0,$.nonPrimaryReleaseHandler({eventSource:$,pointerType:ut.type,position:H(ut.currentPos,$.element),button:ct,buttons:ne.buttons,isTouchEvent:ut.type==="touch",originalEvent:K.originalEvent,userData:$.userData}));return}De=ne.getById(ut.id),De?(ne.removeContact(),De.captured&&(Wn=!0),De.lastPos=De.currentPos,De.lastTime=De.currentTime,De.currentPos=ut.currentPos,De.currentTime=ut.currentTime,De.insideElement||G($,ne,De),Te=De.currentPos,ar=De.currentTime):(ut.captured=!1,ut.insideElementPressed=!1,ut.insideElement=!0,A(ne,ut),De=ut),!K.preventGesture&&!K.defaultPrevented&&(Wn?(K.shouldReleaseCapture=!0,K.preventDefault=!0,($.dragHandler||$.dragEndHandler||$.pinchHandler)&&t.MouseTracker.gesturePointVelocityTracker.removePoint($,De),ne.contacts===0?($.releaseHandler&&Te&&$.releaseHandler({eventSource:$,pointerType:De.type,position:H(Te,$.element),buttons:ne.buttons,insideElementPressed:De.insideElementPressed,insideElementReleased:De.insideElement,isTouchEvent:De.type==="touch",originalEvent:K.originalEvent,userData:$.userData}),$.dragEndHandler&&Kt.sentDragEvent&&$.dragEndHandler({eventSource:$,pointerType:De.type,position:H(De.currentPos,$.element),speed:De.speed,direction:De.direction,shift:K.originalEvent.shiftKey,isTouchEvent:De.type==="touch",originalEvent:K.originalEvent,userData:$.userData}),Kt.sentDragEvent=!1,($.clickHandler||$.dblClickHandler)&&De.insideElement&&(ji=ar-De.contactTime<=$.clickTimeThreshold&&De.contactPos.distanceTo(Te)<=$.clickDistThreshold,$.clickHandler&&$.clickHandler({eventSource:$,pointerType:De.type,position:H(De.currentPos,$.element),quick:ji,shift:K.originalEvent.shiftKey,isTouchEvent:De.type==="touch",originalEvent:K.originalEvent,originalTarget:De.originalTarget,userData:$.userData}),$.dblClickHandler&&ji&&(ne.clicks++,ne.clicks===1?(Kt.lastClickPos=Te,Kt.dblClickTimeOut=setTimeout(function(){ne.clicks=0},$.dblClickTimeThreshold)):ne.clicks===2&&(clearTimeout(Kt.dblClickTimeOut),ne.clicks=0,Kt.lastClickPos.distanceTo(Te)<=$.dblClickDistThreshold&&$.dblClickHandler({eventSource:$,pointerType:De.type,position:H(De.currentPos,$.element),shift:K.originalEvent.shiftKey,isTouchEvent:De.type==="touch",originalEvent:K.originalEvent,userData:$.userData}),Kt.lastClickPos=null)))):ne.contacts===2&&$.pinchHandler&&De.type==="touch"&&(Kt.pinchGPoints=ne.asArray(),Kt.lastPinchDist=Kt.currentPinchDist=Kt.pinchGPoints[0].currentPos.distanceTo(Kt.pinchGPoints[1].currentPos),Kt.lastPinchCenter=Kt.currentPinchCenter=J(Kt.pinchGPoints[0].currentPos,Kt.pinchGPoints[1].currentPos))):(K.shouldReleaseCapture=!1,$.releaseHandler&&Te&&($.releaseHandler({eventSource:$,pointerType:De.type,position:H(Te,$.element),buttons:ne.buttons,insideElementPressed:De.insideElementPressed,insideElementReleased:De.insideElement,isTouchEvent:De.type==="touch",originalEvent:K.originalEvent,userData:$.userData}),K.preventDefault=!0)))}function be($,K,ut){var ct=o[$.hash],Kt=$.getActivePointersListByType(ut.type),ne,Te,ar;if(typeof K.originalEvent.buttons<"u"&&(Kt.buttons=K.originalEvent.buttons),ne=Kt.getById(ut.id),ne)ne.lastPos=ne.currentPos,ne.lastTime=ne.currentTime,ne.currentPos=ut.currentPos,ne.currentTime=ut.currentTime;else return;K.shouldCapture=!1,K.shouldReleaseCapture=!1,$.stopHandler&&ut.type==="mouse"&&(clearTimeout($.stopTimeOut),$.stopTimeOut=setTimeout(function(){je($,K.originalEvent,ut.type)},$.stopDelay)),Kt.contacts===0?$.moveHandler&&$.moveHandler({eventSource:$,pointerType:ut.type,position:H(ut.currentPos,$.element),buttons:Kt.buttons,isTouchEvent:ut.type==="touch",originalEvent:K.originalEvent,userData:$.userData}):Kt.contacts===1?($.moveHandler&&(ne=Kt.asArray()[0],$.moveHandler({eventSource:$,pointerType:ne.type,position:H(ne.currentPos,$.element),buttons:Kt.buttons,isTouchEvent:ne.type==="touch",originalEvent:K.originalEvent,userData:$.userData})),$.dragHandler&&!K.preventGesture&&!K.defaultPrevented&&(ne=Kt.asArray()[0],ar=ne.currentPos.minus(ne.lastPos),$.dragHandler({eventSource:$,pointerType:ne.type,position:H(ne.currentPos,$.element),buttons:Kt.buttons,delta:ar,speed:ne.speed,direction:ne.direction,shift:K.originalEvent.shiftKey,isTouchEvent:ne.type==="touch",originalEvent:K.originalEvent,userData:$.userData}),K.preventDefault=!0,ct.sentDragEvent=!0)):Kt.contacts===2&&($.moveHandler&&(Te=Kt.asArray(),$.moveHandler({eventSource:$,pointerType:Te[0].type,position:H(J(Te[0].currentPos,Te[1].currentPos),$.element),buttons:Kt.buttons,isTouchEvent:Te[0].type==="touch",originalEvent:K.originalEvent,userData:$.userData})),$.pinchHandler&&ut.type==="touch"&&!K.preventGesture&&!K.defaultPrevented&&(ar=ct.pinchGPoints[0].currentPos.distanceTo(ct.pinchGPoints[1].currentPos),ar!==ct.currentPinchDist&&(ct.lastPinchDist=ct.currentPinchDist,ct.currentPinchDist=ar,ct.lastPinchCenter=ct.currentPinchCenter,ct.currentPinchCenter=J(ct.pinchGPoints[0].currentPos,ct.pinchGPoints[1].currentPos),$.pinchHandler({eventSource:$,pointerType:"touch",gesturePoints:ct.pinchGPoints,lastCenter:H(ct.lastPinchCenter,$.element),center:H(ct.currentPinchCenter,$.element),lastDistance:ct.lastPinchDist,distance:ct.currentPinchDist,shift:K.originalEvent.shiftKey,originalEvent:K.originalEvent,userData:$.userData}),K.preventDefault=!0)))}function _e($,K,ut){var ct=$.getActivePointersListByType(ut.type),Kt;Kt=ct.getById(ut.id),Kt&&G($,ct,Kt)}function je($,K,ut){$.stopHandler&&$.stopHandler({eventSource:$,pointerType:ut,position:j(K,$.element),buttons:$.getActivePointersListByType(ut).buttons,isTouchEvent:ut==="touch",originalEvent:K,userData:$.userData})}}(r),function(t){t.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},t.Control=function(o,l,u){var d=o.parentNode;typeof l=="number"&&(t.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),l={anchor:l}),l.attachToViewer=typeof l.attachToViewer>"u"?!0:l.attachToViewer,this.autoFade=typeof l.autoFade>"u"?!0:l.autoFade,this.element=o,this.anchor=l.anchor,this.container=u,this.anchor===t.ControlAnchor.ABSOLUTE?(this.wrapper=t.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top=typeof l.top=="number"?l.top+"px":l.top,this.wrapper.style.left=typeof l.left=="number"?l.left+"px":l.left,this.wrapper.style.height=typeof l.height=="number"?l.height+"px":l.height,this.wrapper.style.width=typeof l.width=="number"?l.width+"px":l.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=t.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor===t.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),l.attachToViewer?this.anchor===t.ControlAnchor.TOP_RIGHT||this.anchor===t.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):d.appendChild(this.wrapper)},t.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.anchor!==t.ControlAnchor.NONE&&this.container.removeChild(this.wrapper)},isVisible:function(){return this.wrapper.style.display!=="none"},setVisible:function(o){this.wrapper.style.display=o?this.anchor===t.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(o){this.element[t.SIGNAL]&&t.Browser.vendor===t.BROWSERS.IE?t.setElementOpacity(this.element,o,!0):t.setElementOpacity(this.wrapper,o,!0)}}}(r),function(t){t.ControlDock=function(l){var u=["topleft","topright","bottomright","bottomleft"],d,p;for(t.extend(!0,this,{id:"controldock-"+t.now()+"-"+Math.floor(Math.random()*1e6),container:t.makeNeutralElement("div"),controls:[]},l),this.container.onsubmit=function(){return!1},this.element&&(this.element=t.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),p=0;p<u.length;p++)d=u[p],this.controls[d]=t.makeNeutralElement("div"),this.controls[d].style.position="absolute",d.match("left")&&(this.controls[d].style.left="0px"),d.match("right")&&(this.controls[d].style.right="0px"),d.match("top")&&(this.controls[d].style.top="0px"),d.match("bottom")&&(this.controls[d].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},t.ControlDock.prototype={addControl:function(l,u){l=t.getElement(l);var d=null;if(!(o(this,l)>=0)){switch(u.anchor){case t.ControlAnchor.TOP_RIGHT:d=this.controls.topright,l.style.position="relative",l.style.paddingRight="0px",l.style.paddingTop="0px";break;case t.ControlAnchor.BOTTOM_RIGHT:d=this.controls.bottomright,l.style.position="relative",l.style.paddingRight="0px",l.style.paddingBottom="0px";break;case t.ControlAnchor.BOTTOM_LEFT:d=this.controls.bottomleft,l.style.position="relative",l.style.paddingLeft="0px",l.style.paddingBottom="0px";break;case t.ControlAnchor.TOP_LEFT:d=this.controls.topleft,l.style.position="relative",l.style.paddingLeft="0px",l.style.paddingTop="0px";break;case t.ControlAnchor.ABSOLUTE:d=this.container,l.style.margin="0px",l.style.padding="0px";break;default:case t.ControlAnchor.NONE:d=this.container,l.style.margin="0px",l.style.padding="0px";break}this.controls.push(new t.Control(l,u,d)),l.style.display="inline-block"}},removeControl:function(l){l=t.getElement(l);var u=o(this,l);return u>=0&&(this.controls[u].destroy(),this.controls.splice(u,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var l;for(l=this.controls.length-1;l>=0;l--)if(this.controls[l].isVisible())return!0;return!1},setControlsEnabled:function(l){var u;for(u=this.controls.length-1;u>=0;u--)this.controls[u].setVisible(l);return this}};function o(l,u){var d=l.controls,p;for(p=d.length-1;p>=0;p--)if(d[p].element===u)return p;return-1}}(r),function(t){t.Placement=t.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(r),function(t){var o={},l=1;t.Viewer=function(A){var G=arguments,at=this,ft;if(t.isPlainObject(A)||(A={id:G[0],xmlPath:G.length>1?G[1]:void 0,prefixUrl:G.length>2?G[2]:void 0,controls:G.length>3?G[3]:void 0,overlays:G.length>4?G[4]:void 0}),A.config&&(t.extend(!0,A,A.config),delete A.config),t.extend(!0,this,{id:A.id,hash:A.hash||l++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttonGroup:null,profiler:null},t.DEFAULT_SETTINGS,A),typeof this.hash>"u")throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(typeof o[this.hash]<"u"&&t.console.warn("Hash "+this.hash+" has already been used."),o[this.hash]={fsBoundsDelta:new t.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,needsResize:!1,forceResize:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null,lastClickTime:null,draggingToZoom:!1},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._updatePixelDensityRatioBind=null,this._lastScrollTime=t.now(),t.EventSource.call(this),this.addHandler("open-failed",function(pt){var kt=t.getString("Errors.OpenFailed",pt.eventSource,pt.message);at._showMessage(kt)}),t.ControlDock.call(this,A),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=t.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(pt){pt.width="100%",pt.height="100%",pt.overflow="hidden",pt.position="absolute",pt.top="0px",pt.left="0px"}(this.canvas.style),t.setElementTouchActionNone(this.canvas),A.tabIndex!==""&&(this.canvas.tabIndex=A.tabIndex===void 0?0:A.tabIndex),this.container.className="openseadragon-container",function(pt){pt.width="100%",pt.height="100%",pt.position="relative",pt.overflow="hidden",pt.left="0px",pt.top="0px",pt.textAlign="left"}(this.container.style),t.setElementTouchActionNone(this.container),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new t.MouseTracker({userData:"Viewer.innerTracker",element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,contextMenuHandler:t.delegate(this,j),keyDownHandler:t.delegate(this,H),keyHandler:t.delegate(this,J),clickHandler:t.delegate(this,q),dblClickHandler:t.delegate(this,W),dragHandler:t.delegate(this,st),dragEndHandler:t.delegate(this,mt),enterHandler:t.delegate(this,gt),leaveHandler:t.delegate(this,ot),pressHandler:t.delegate(this,U),releaseHandler:t.delegate(this,et),nonPrimaryPressHandler:t.delegate(this,lt),nonPrimaryReleaseHandler:t.delegate(this,ht),scrollHandler:t.delegate(this,St),pinchHandler:t.delegate(this,Gt)}),this.outerTracker=new t.MouseTracker({userData:"Viewer.outerTracker",element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:t.delegate(this,Lt),leaveHandler:t.delegate(this,xt)}),this.toolbar&&(this.toolbar=new t.ControlDock({element:this.toolbar})),this.bindStandardControls(),o[this.hash].prevContainerSize=u(this.container),window.ResizeObserver?(this._autoResizePolling=!1,this._resizeObserver=new ResizeObserver(function(){o[at.hash].needsResize=!0}),this._resizeObserver.observe(this.container,{})):this._autoResizePolling=!0,this.world=new t.World({viewer:this}),this.world.addHandler("add-item",function(pt){at.source=at.world.getItemAt(0).source,o[at.hash].forceRedraw=!0,at._updateRequestId||(at._updateRequestId=v(at,Dt))}),this.world.addHandler("remove-item",function(pt){at.world.getItemCount()?at.source=at.world.getItemAt(0).source:at.source=null,o[at.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(pt){at.viewport&&at.viewport._setContentBounds(at.world.getHomeBounds(),at.world.getContentFactor())}),this.world.addHandler("item-index-change",function(pt){at.source=at.world.getItemAt(0).source}),this.viewport=new t.Viewport({containerSize:o[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins,silenceMultiImageWarnings:this.silenceMultiImageWarnings}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new t.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:A.timeout}),this.tileCache=new t.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new t.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=t.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(ft=this.buttonGroup.buttons.indexOf(this.rotateLeft),this.buttonGroup.buttons.splice(ft,1),this.buttonGroup.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(ft=this.buttonGroup.buttons.indexOf(this.rotateRight),this.buttonGroup.buttons.splice(ft,1),this.buttonGroup.element.removeChild(this.rotateRight.element))),this._addUpdatePixelDensityRatioEvent(),this.showNavigator&&(this.navigator=new t.Navigator({element:this.navigatorElement,id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy,animationTime:this.animationTime})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),ft=0;ft<this.customControls.length;ft++)this.addControl(this.customControls[ft].id,{anchor:this.customControls[ft].anchor});t.requestAnimationFrame(function(){k(at)}),this.imageSmoothingEnabled!==void 0&&!this.imageSmoothingEnabled&&this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled),t._viewers.set(this.element,this)},t.extend(t.Viewer.prototype,t.EventSource.prototype,t.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(A){return t.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(A)},openTileSource:function(A){return t.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(A)},get buttons(){return t.console.warn("Viewer.buttons is deprecated; Please use Viewer.buttonGroup"),this.buttonGroup},open:function(A,G){var at=this;if(this.close(),!A)return this;if(this.sequenceMode&&t.isArray(A))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),typeof G<"u"&&!isNaN(G)&&(this.initialPage=G),this.tileSources=A,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex),this;if(t.isArray(A)||(A=[A]),!A.length)return this;this._opening=!0;for(var ft=A.length,pt=0,kt=0,dt,Ot=function(){if(pt+kt===ft)if(pt){(at._firstOpen||!at.preserveViewport)&&(at.viewport.goHome(!0),at.viewport.update()),at._firstOpen=!1;var re=A[0];if(re.tileSource&&(re=re.tileSource),at.overlays&&!at.preserveOverlays)for(var be=0;be<at.overlays.length;be++)at.currentOverlays[be]=p(at,at.overlays[be]);at._drawOverlays(),at._opening=!1,at.raiseEvent("open",{source:re})}else at._opening=!1,at.raiseEvent("open-failed",dt)},$t=function(re){(!t.isPlainObject(re)||!re.tileSource)&&(re={tileSource:re}),re.index!==void 0&&(t.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete re.index),re.collectionImmediately===void 0&&(re.collectionImmediately=!0);var be=re.success;re.success=function(je){if(pt++,re.tileSource.overlays)for(var $=0;$<re.tileSource.overlays.length;$++)at.addOverlay(re.tileSource.overlays[$]);be&&be(je),Ot()};var _e=re.error;re.error=function(je){kt++,dt||(dt=je),_e&&_e(je),Ot()},at.addTiledImage(re)},te=0;te<A.length;te++)$t(A[te]);return this},close:function(){return o[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),o[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(o[this.hash]){if(this.raiseEvent("before-destroy"),this._removeUpdatePixelDensityRatioEvent(),this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this._resizeObserver&&this._resizeObserver.disconnect(),this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),this._updateRequestId!==null&&(t.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.navigator&&(this.navigator.destroy(),o[this.navigator.hash]=null,delete o[this.navigator.hash],this.navigator=null),this.buttonGroup)this.buttonGroup.destroy();else if(this.customButtons)for(;this.customButtons.length;)this.customButtons.pop().destroy();if(this.paging&&this.paging.destroy(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.container.onsubmit=null,this.clearControls(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),o[this.hash]=null,delete o[this.hash],this.canvas=null,this.container=null,t._viewers.delete(this.element),this.element=null,this.raiseEvent("destroy"),this.removeAllHandlers()}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(A){return this.innerTracker.setTracking(A),this.outerTracker.setTracking(A),this.raiseEvent("mouse-enabled",{enabled:A}),this},areControlsEnabled:function(){var A=this.controls.length,G;for(G=0;G<this.controls.length;G++)A=A&&this.controls[G].isVisible();return A},setControlsEnabled:function(A){return A?M(this):k(this),this.raiseEvent("controls-enabled",{enabled:A}),this},setDebugMode:function(A){for(var G=0;G<this.world.getItemCount();G++)this.world.getItemAt(G).debugMode=A;this.debugMode=A,this.forceRedraw()},isFullPage:function(){return o[this.hash].fullPage},setFullPage:function(A){var G=document.body,at=G.style,ft=document.documentElement.style,pt=this,kt,dt;if(A===this.isFullPage())return this;var Ot={fullPage:A,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",Ot),Ot.preventDefaultAction)return this;if(A){for(this.elementSize=t.getElementSize(this.element),this.pageScroll=t.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=at.margin,this.docMargin=ft.margin,at.margin="0",ft.margin="0",this.bodyPadding=at.padding,this.docPadding=ft.padding,at.padding="0",ft.padding="0",this.bodyWidth=at.width,this.docWidth=ft.width,at.width="100%",ft.width="100%",this.bodyHeight=at.height,this.docHeight=ft.height,at.height="100%",ft.height="100%",this.bodyDisplay=at.display,at.display="block",this.previousBody=[],o[this.hash].prevElementParent=this.element.parentNode,o[this.hash].prevNextSibling=this.element.nextSibling,o[this.hash].prevElementWidth=this.element.style.width,o[this.hash].prevElementHeight=this.element.style.height,kt=G.childNodes.length,dt=0;dt<kt;dt++)this.previousBody.push(G.childNodes[0]),G.removeChild(G.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,G.appendChild(this.toolbar.element),t.addClass(this.toolbar.element,"fullpage")),t.addClass(this.element,"fullpage"),G.appendChild(this.element),this.element.style.height="100vh",this.element.style.width="100vw",this.toolbar&&this.toolbar.element&&(this.element.style.height=t.getElementSize(this.element).y-t.getElementSize(this.toolbar.element).y+"px"),o[this.hash].fullPage=!0,t.delegate(this,Lt)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,at.margin=this.bodyMargin,ft.margin=this.docMargin,at.padding=this.bodyPadding,ft.padding=this.docPadding,at.width=this.bodyWidth,ft.width=this.docWidth,at.height=this.bodyHeight,ft.height=this.docHeight,at.display=this.bodyDisplay,G.removeChild(this.element),kt=this.previousBody.length,dt=0;dt<kt;dt++)G.appendChild(this.previousBody.shift());t.removeClass(this.element,"fullpage"),o[this.hash].prevElementParent.insertBefore(this.element,o[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(G.removeChild(this.toolbar.element),t.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=o[this.hash].prevElementWidth,this.element.style.height=o[this.hash].prevElementHeight;var $t=0,te=function(){t.setPageScroll(pt.pageScroll);var re=t.getPageScroll();$t++,$t<10&&(re.x!==pt.pageScroll.x||re.y!==pt.pageScroll.y)&&t.requestAnimationFrame(te)};t.requestAnimationFrame(te),o[this.hash].fullPage=!1,t.delegate(this,xt)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:A}),this},setFullScreen:function(A){var G=this;if(!t.supportsFullScreen)return this.setFullPage(A);if(t.isFullScreen()===A)return this;var at={fullScreen:A,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",at),at.preventDefaultAction)return this;if(A){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var ft=function(){var pt=t.isFullScreen();pt||(t.removeEvent(document,t.fullScreenEventName,ft),t.removeEvent(document,t.fullScreenErrorEventName,ft),G.setFullPage(!1),G.isFullPage()&&(G.element.style.width=G.fullPageStyleWidth,G.element.style.height=G.fullPageStyleHeight)),G.navigator&&G.viewport&&setTimeout(function(){G.navigator.update(G.viewport)}),G.raiseEvent("full-screen",{fullScreen:pt})};t.addEvent(document,t.fullScreenEventName,ft),t.addEvent(document,t.fullScreenErrorEventName,ft),t.requestFullScreen(document.body)}else t.exitFullScreen();return this},isVisible:function(){return this.container.style.visibility!=="hidden"},isFullScreen:function(){return t.isFullScreen()&&this.isFullPage()},setVisible:function(A){return this.container.style.visibility=A?"":"hidden",this.raiseEvent("visible",{visible:A}),this},addTiledImage:function(A){t.console.assert(A,"[Viewer.addTiledImage] options is required"),t.console.assert(A.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),t.console.assert(!A.replace||A.index>-1&&A.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var G=this;A.replace&&(A.replaceItem=G.world.getItemAt(A.index)),this._hideMessage(),A.placeholderFillStyle===void 0&&(A.placeholderFillStyle=this.placeholderFillStyle),A.opacity===void 0&&(A.opacity=this.opacity),A.preload===void 0&&(A.preload=this.preload),A.compositeOperation===void 0&&(A.compositeOperation=this.compositeOperation),A.crossOriginPolicy===void 0&&(A.crossOriginPolicy=A.tileSource.crossOriginPolicy!==void 0?A.tileSource.crossOriginPolicy:this.crossOriginPolicy),A.ajaxWithCredentials===void 0&&(A.ajaxWithCredentials=this.ajaxWithCredentials),A.loadTilesWithAjax===void 0&&(A.loadTilesWithAjax=this.loadTilesWithAjax),A.ajaxHeaders===void 0||A.ajaxHeaders===null?A.ajaxHeaders=this.ajaxHeaders:t.isPlainObject(A.ajaxHeaders)&&t.isPlainObject(this.ajaxHeaders)&&(A.ajaxHeaders=t.extend({},this.ajaxHeaders,A.ajaxHeaders));var at={options:A};function ft(dt){for(var Ot=0;Ot<G._loadQueue.length;Ot++)if(G._loadQueue[Ot]===at){G._loadQueue.splice(Ot,1);break}G._loadQueue.length===0&&pt(at),G.raiseEvent("add-item-failed",dt),A.error&&A.error(dt)}function pt(dt){G.collectionMode&&(G.world.arrange({immediately:dt.options.collectionImmediately,rows:G.collectionRows,columns:G.collectionColumns,layout:G.collectionLayout,tileSize:G.collectionTileSize,tileMargin:G.collectionTileMargin}),G.world.setAutoRefigureSizes(!0))}if(t.isArray(A.tileSource)){setTimeout(function(){ft({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:A.tileSource,options:A})});return}this._loadQueue.push(at);function kt(){for(var dt,Ot,$t;G._loadQueue.length&&(dt=G._loadQueue[0],!!dt.tileSource);){if(G._loadQueue.splice(0,1),dt.options.replace){var te=G.world.getIndexOfItem(dt.options.replaceItem);te!==-1&&(dt.options.index=te),G.world.removeItem(dt.options.replaceItem)}Ot=new t.TiledImage({viewer:G,source:dt.tileSource,viewport:G.viewport,drawer:G.drawer,tileCache:G.tileCache,imageLoader:G.imageLoader,x:dt.options.x,y:dt.options.y,width:dt.options.width,height:dt.options.height,fitBounds:dt.options.fitBounds,fitBoundsPlacement:dt.options.fitBoundsPlacement,clip:dt.options.clip,placeholderFillStyle:dt.options.placeholderFillStyle,opacity:dt.options.opacity,preload:dt.options.preload,degrees:dt.options.degrees,flipped:dt.options.flipped,compositeOperation:dt.options.compositeOperation,springStiffness:G.springStiffness,animationTime:G.animationTime,minZoomImageRatio:G.minZoomImageRatio,wrapHorizontal:G.wrapHorizontal,wrapVertical:G.wrapVertical,immediateRender:G.immediateRender,blendTime:G.blendTime,alwaysBlend:G.alwaysBlend,minPixelRatio:G.minPixelRatio,smoothTileEdgesMinZoom:G.smoothTileEdgesMinZoom,iOSDevice:G.iOSDevice,crossOriginPolicy:dt.options.crossOriginPolicy,ajaxWithCredentials:dt.options.ajaxWithCredentials,loadTilesWithAjax:dt.options.loadTilesWithAjax,ajaxHeaders:dt.options.ajaxHeaders,debugMode:G.debugMode,subPixelRoundingForTransparency:G.subPixelRoundingForTransparency}),G.collectionMode&&G.world.setAutoRefigureSizes(!1),G.navigator&&($t=t.extend({},dt.options,{replace:!1,originalTiledImage:Ot,tileSource:dt.tileSource}),G.navigator.addTiledImage($t)),G.world.addItem(Ot,{index:dt.options.index}),G._loadQueue.length===0&&pt(dt),G.world.getItemCount()===1&&!G.preserveViewport&&G.viewport.goHome(!0),dt.options.success&&dt.options.success({item:Ot})}}d(this,A.tileSource,A,function(dt){at.tileSource=dt,kt()},function(dt){dt.options=A,ft(dt),kt()})},addSimpleImage:function(A){t.console.assert(A,"[Viewer.addSimpleImage] options is required"),t.console.assert(A.url,"[Viewer.addSimpleImage] options.url is required");var G=t.extend({},A,{tileSource:{type:"image",url:A.url}});delete G.url,this.addTiledImage(G)},addLayer:function(A){var G=this;t.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var at=t.extend({},A,{success:function(ft){G.raiseEvent("add-layer",{options:A,drawer:ft.item})},error:function(ft){G.raiseEvent("add-layer-failed",ft)}});return this.addTiledImage(at),this},getLayerAtLevel:function(A){return t.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(A)},getLevelOfLayer:function(A){return t.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(A)},getLayersCount:function(){return t.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(A,G){return t.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(A,G)},removeLayer:function(A){return t.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(A)},forceRedraw:function(){return o[this.hash].forceRedraw=!0,this},forceResize:function(){o[this.hash].needsResize=!0,o[this.hash].forceResize=!0},bindSequenceControls:function(){var A=t.delegate(this,I),G=t.delegate(this,D),at=t.delegate(this,this.goToNextPage),ft=t.delegate(this,this.goToPreviousPage),pt=this.navImages,kt=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(kt=!1),this.previousButton=new t.Button({element:this.previousButton?t.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.PreviousPage"),srcRest:At(this.prefixUrl,pt.previous.REST),srcGroup:At(this.prefixUrl,pt.previous.GROUP),srcHover:At(this.prefixUrl,pt.previous.HOVER),srcDown:At(this.prefixUrl,pt.previous.DOWN),onRelease:ft,onFocus:A,onBlur:G}),this.nextButton=new t.Button({element:this.nextButton?t.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.NextPage"),srcRest:At(this.prefixUrl,pt.next.REST),srcGroup:At(this.prefixUrl,pt.next.GROUP),srcHover:At(this.prefixUrl,pt.next.HOVER),srcDown:At(this.prefixUrl,pt.next.DOWN),onRelease:at,onFocus:A,onBlur:G}),this.navPrevNextWrap||this.previousButton.disable(),(!this.tileSources||!this.tileSources.length)&&this.nextButton.disable(),kt&&(this.paging=new t.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:t.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||t.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var A=t.delegate(this,Xt),G=t.delegate(this,ge),at=t.delegate(this,rr),ft=t.delegate(this,ee),pt=t.delegate(this,mr),kt=t.delegate(this,Xi),dt=t.delegate(this,Bi),Ot=t.delegate(this,bt),$t=t.delegate(this,Et),te=t.delegate(this,Ht),re=t.delegate(this,I),be=t.delegate(this,D),_e=this.navImages,je=[],$=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&($=!1),this.showZoomControl&&(je.push(this.zoomInButton=new t.Button({element:this.zoomInButton?t.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.ZoomIn"),srcRest:At(this.prefixUrl,_e.zoomIn.REST),srcGroup:At(this.prefixUrl,_e.zoomIn.GROUP),srcHover:At(this.prefixUrl,_e.zoomIn.HOVER),srcDown:At(this.prefixUrl,_e.zoomIn.DOWN),onPress:A,onRelease:G,onClick:at,onEnter:A,onExit:G,onFocus:re,onBlur:be})),je.push(this.zoomOutButton=new t.Button({element:this.zoomOutButton?t.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.ZoomOut"),srcRest:At(this.prefixUrl,_e.zoomOut.REST),srcGroup:At(this.prefixUrl,_e.zoomOut.GROUP),srcHover:At(this.prefixUrl,_e.zoomOut.HOVER),srcDown:At(this.prefixUrl,_e.zoomOut.DOWN),onPress:ft,onRelease:G,onClick:pt,onEnter:ft,onExit:G,onFocus:re,onBlur:be}))),this.showHomeControl&&je.push(this.homeButton=new t.Button({element:this.homeButton?t.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.Home"),srcRest:At(this.prefixUrl,_e.home.REST),srcGroup:At(this.prefixUrl,_e.home.GROUP),srcHover:At(this.prefixUrl,_e.home.HOVER),srcDown:At(this.prefixUrl,_e.home.DOWN),onRelease:kt,onFocus:re,onBlur:be})),this.showFullPageControl&&je.push(this.fullPageButton=new t.Button({element:this.fullPageButton?t.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.FullPage"),srcRest:At(this.prefixUrl,_e.fullpage.REST),srcGroup:At(this.prefixUrl,_e.fullpage.GROUP),srcHover:At(this.prefixUrl,_e.fullpage.HOVER),srcDown:At(this.prefixUrl,_e.fullpage.DOWN),onRelease:dt,onFocus:re,onBlur:be})),this.showRotationControl&&(je.push(this.rotateLeftButton=new t.Button({element:this.rotateLeftButton?t.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.RotateLeft"),srcRest:At(this.prefixUrl,_e.rotateleft.REST),srcGroup:At(this.prefixUrl,_e.rotateleft.GROUP),srcHover:At(this.prefixUrl,_e.rotateleft.HOVER),srcDown:At(this.prefixUrl,_e.rotateleft.DOWN),onRelease:Ot,onFocus:re,onBlur:be})),je.push(this.rotateRightButton=new t.Button({element:this.rotateRightButton?t.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.RotateRight"),srcRest:At(this.prefixUrl,_e.rotateright.REST),srcGroup:At(this.prefixUrl,_e.rotateright.GROUP),srcHover:At(this.prefixUrl,_e.rotateright.HOVER),srcDown:At(this.prefixUrl,_e.rotateright.DOWN),onRelease:$t,onFocus:re,onBlur:be}))),this.showFlipControl&&je.push(this.flipButton=new t.Button({element:this.flipButton?t.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.Flip"),srcRest:At(this.prefixUrl,_e.flip.REST),srcGroup:At(this.prefixUrl,_e.flip.GROUP),srcHover:At(this.prefixUrl,_e.flip.HOVER),srcDown:At(this.prefixUrl,_e.flip.DOWN),onRelease:te,onFocus:re,onBlur:be})),$?(this.buttonGroup=new t.ButtonGroup({buttons:je,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttonGroup.element,this.addHandler("open",t.delegate(this,vi)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||t.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||t.ControlAnchor.TOP_LEFT})):this.customButtons=je),this},currentPage:function(){return this._sequenceIndex},goToPage:function(A){return this.tileSources&&A>=0&&A<this.tileSources.length&&(this._sequenceIndex=A,this._updateSequenceButtons(A),this.open(this.tileSources[A]),this.referenceStrip&&this.referenceStrip.setFocus(A),this.raiseEvent("page",{page:A})),this},addOverlay:function(A,G,at,ft){var pt;if(t.isPlainObject(A)?pt=A:pt={element:A,location:G,placement:at,onDraw:ft},A=t.getElement(pt.element),m(this.currentOverlays,A)>=0)return this;var kt=p(this,pt);return this.currentOverlays.push(kt),kt.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:A,location:pt.location,placement:pt.placement}),this},updateOverlay:function(A,G,at){var ft;return A=t.getElement(A),ft=m(this.currentOverlays,A),ft>=0&&(this.currentOverlays[ft].update(G,at),o[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:A,location:G,placement:at})),this},removeOverlay:function(A){var G;return A=t.getElement(A),G=m(this.currentOverlays,A),G>=0&&(this.currentOverlays[G].destroy(),this.currentOverlays.splice(G,1),o[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:A})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return o[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(A){var G;return A=t.getElement(A),G=m(this.currentOverlays,A),G>=0?this.currentOverlays[G]:null},_updateSequenceButtons:function(A){this.nextButton&&(!this.tileSources||this.tileSources.length-1===A?this.navPrevNextWrap||this.nextButton.disable():this.nextButton.enable()),this.previousButton&&(A>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(A){this._hideMessage();var G=t.makeNeutralElement("div");G.appendChild(document.createTextNode(A)),this.messageDiv=t.makeCenteredNode(G),t.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var A=this.messageDiv;A&&(A.parentNode.removeChild(A),delete this.messageDiv)},gestureSettingsByDeviceType:function(A){switch(A){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var A,G=this.currentOverlays.length;for(A=0;A<G;A++)this.currentOverlays[A].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new t.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,useCanvas:this.useCanvas,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else t.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')},_addUpdatePixelDensityRatioEvent:function(){this._updatePixelDensityRatioBind=this._updatePixelDensityRatio.bind(this),t.addEvent(window,"resize",this._updatePixelDensityRatioBind)},_removeUpdatePixelDensityRatioEvent:function(){t.removeEvent(window,"resize",this._updatePixelDensityRatioBind)},_updatePixelDensityRatio:function(){var A=t.pixelDensityRatio,G=t.getCurrentPixelDensityRatio();A!==G&&(t.pixelDensityRatio=G,this.world.resetItems(),this.forceRedraw())},goToPreviousPage:function(){var A=this._sequenceIndex-1;this.navPrevNextWrap&&A<0&&(A+=this.tileSources.length),this.goToPage(A)},goToNextPage:function(){var A=this._sequenceIndex+1;this.navPrevNextWrap&&A>=this.tileSources.length&&(A=0),this.goToPage(A)},isAnimating:function(){return o[this.hash].animating}});function u(A){return A=t.getElement(A),new t.Point(A.clientWidth===0?1:A.clientWidth,A.clientHeight===0?1:A.clientHeight)}function d(A,G,at,ft,pt){var kt=A;if(t.type(G)==="string"){if(G.match(/^\s*<.*>\s*$/))G=t.parseXml(G);else if(G.match(/^\s*[{[].*[}\]]\s*$/))try{var dt=t.parseJSON(G);G=dt}catch{}}function Ot($t,te){$t.ready?ft($t):($t.addHandler("ready",function(){ft($t)}),$t.addHandler("open-failed",function(re){pt({message:re.message,source:te})}))}setTimeout(function(){if(t.type(G)==="string")G=new t.TileSource({url:G,crossOriginPolicy:at.crossOriginPolicy!==void 0?at.crossOriginPolicy:A.crossOriginPolicy,ajaxWithCredentials:A.ajaxWithCredentials,ajaxHeaders:at.ajaxHeaders?at.ajaxHeaders:A.ajaxHeaders,splitHashDataForPost:A.splitHashDataForPost,useCanvas:A.useCanvas,success:function(be){ft(be.tileSource)}}),G.addHandler("open-failed",function(be){pt(be)});else if(t.isPlainObject(G)||G.nodeType)if(G.crossOriginPolicy===void 0&&(at.crossOriginPolicy!==void 0||A.crossOriginPolicy!==void 0)&&(G.crossOriginPolicy=at.crossOriginPolicy!==void 0?at.crossOriginPolicy:A.crossOriginPolicy),G.ajaxWithCredentials===void 0&&(G.ajaxWithCredentials=A.ajaxWithCredentials),G.useCanvas===void 0&&(G.useCanvas=A.useCanvas),t.isFunction(G.getTileUrl)){var $t=new t.TileSource(G);$t.getTileUrl=G.getTileUrl,ft($t)}else{var te=t.TileSource.determineType(kt,G);if(!te){pt({message:"Unable to load TileSource",source:G});return}var re=te.prototype.configure.apply(kt,[G]);Ot(new te(re),G)}else Ot(G,G)})}function p(A,G){if(G instanceof t.Overlay)return G;var at=null;if(G.element)at=t.getElement(G.element);else{var ft=G.id?G.id:"openseadragon-overlay-"+Math.floor(Math.random()*1e7);at=t.getElement(G.id),at||(at=document.createElement("a"),at.href="#/overlay/"+ft),at.id=ft,t.addClass(at,G.className?G.className:"openseadragon-overlay")}var pt=G.location,kt=G.width,dt=G.height;if(!pt){var Ot=G.x,$t=G.y;if(G.px!==void 0){var te=A.viewport.imageToViewportRectangle(new t.Rect(G.px,G.py,kt||0,dt||0));Ot=te.x,$t=te.y,kt=kt!==void 0?te.width:void 0,dt=dt!==void 0?te.height:void 0}pt=new t.Point(Ot,$t)}var re=G.placement;return re&&t.type(re)==="string"&&(re=t.Placement[G.placement.toUpperCase()]),new t.Overlay({element:at,location:pt,placement:re,onDraw:G.onDraw,checkResize:G.checkResize,width:kt,height:dt,rotationMode:G.rotationMode})}function m(A,G){var at;for(at=A.length-1;at>=0;at--)if(A[at].element===G)return at;return-1}function v(A,G){return t.requestAnimationFrame(function(){G(A)})}function x(A){t.requestAnimationFrame(function(){C(A)})}function k(A){A.autoHideControls&&(A.controlsShouldFade=!0,A.controlsFadeBeginTime=t.now()+A.controlsFadeDelay,window.setTimeout(function(){x(A)},A.controlsFadeDelay))}function C(A){var G,at,ft,pt;if(A.controlsShouldFade){for(G=t.now(),at=G-A.controlsFadeBeginTime,ft=1-at/A.controlsFadeLength,ft=Math.min(1,ft),ft=Math.max(0,ft),pt=A.controls.length-1;pt>=0;pt--)A.controls[pt].autoFade&&A.controls[pt].setOpacity(ft);ft>0&&x(A)}}function M(A){var G;for(A.controlsShouldFade=!1,G=A.controls.length-1;G>=0;G--)A.controls[G].setOpacity(1)}function I(){M(this)}function D(){k(this)}function j(A){var G={tracker:A.eventSource,position:A.position,originalEvent:A.originalEvent,preventDefault:A.preventDefault};this.raiseEvent("canvas-contextmenu",G),A.preventDefault=G.preventDefault}function H(A){var G={originalEvent:A.originalEvent,preventDefaultAction:!1,preventVerticalPan:A.preventVerticalPan||!this.panVertical,preventHorizontalPan:A.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",G),!G.preventDefaultAction&&!A.ctrl&&!A.alt&&!A.meta)switch(A.keyCode){case 38:G.preventVerticalPan||(A.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),A.preventDefault=!0;break;case 40:G.preventVerticalPan||(A.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),A.preventDefault=!0;break;case 37:G.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),A.preventDefault=!0;break;case 39:G.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),A.preventDefault=!0;break;default:A.preventDefault=!1;break}else A.preventDefault=!1}function J(A){var G={originalEvent:A.originalEvent,preventDefaultAction:!1,preventVerticalPan:A.preventVerticalPan||!this.panVertical,preventHorizontalPan:A.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",G),!G.preventDefaultAction&&!A.ctrl&&!A.alt&&!A.meta)switch(A.keyCode){case 43:case 61:this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),A.preventDefault=!0;break;case 45:this.viewport.zoomBy(.9),this.viewport.applyConstraints(),A.preventDefault=!0;break;case 48:this.viewport.goHome(),this.viewport.applyConstraints(),A.preventDefault=!0;break;case 119:case 87:G.preventVerticalPan||(A.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,-40))),this.viewport.applyConstraints()),A.preventDefault=!0;break;case 115:case 83:G.preventVerticalPan||(A.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,40))),this.viewport.applyConstraints()),A.preventDefault=!0;break;case 97:G.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(-40,0))),this.viewport.applyConstraints()),A.preventDefault=!0;break;case 100:G.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(40,0))),this.viewport.applyConstraints()),A.preventDefault=!0;break;case 114:this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement),this.viewport.applyConstraints(),A.preventDefault=!0;break;case 82:this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement),this.viewport.applyConstraints(),A.preventDefault=!0;break;case 102:this.viewport.toggleFlip(),A.preventDefault=!0;break;case 106:this.goToPreviousPage();break;case 107:this.goToNextPage();break;default:A.preventDefault=!1;break}else A.preventDefault=!1}function q(A){var G,at=document.activeElement===this.canvas;at||this.canvas.focus(),this.viewport.flipped&&(A.position.x=this.viewport.getContainerSize().x-A.position.x);var ft={tracker:A.eventSource,position:A.position,quick:A.quick,shift:A.shift,originalEvent:A.originalEvent,originalTarget:A.originalTarget,preventDefaultAction:!1};this.raiseEvent("canvas-click",ft),!ft.preventDefaultAction&&this.viewport&&A.quick&&(G=this.gestureSettingsByDeviceType(A.pointerType),G.clickToZoom===!0&&(this.viewport.zoomBy(A.shift?1/this.zoomPerClick:this.zoomPerClick,G.zoomToRefPoint?this.viewport.pointFromPixel(A.position,!0):null),this.viewport.applyConstraints()),G.dblClickDragToZoom&&(o[this.hash].draggingToZoom===!0?(o[this.hash].lastClickTime=null,o[this.hash].draggingToZoom=!1):o[this.hash].lastClickTime=t.now()))}function W(A){var G,at={tracker:A.eventSource,position:A.position,shift:A.shift,originalEvent:A.originalEvent,preventDefaultAction:!1};this.raiseEvent("canvas-double-click",at),!at.preventDefaultAction&&this.viewport&&(G=this.gestureSettingsByDeviceType(A.pointerType),G.dblClickToZoom&&(this.viewport.zoomBy(A.shift?1/this.zoomPerClick:this.zoomPerClick,G.zoomToRefPoint?this.viewport.pointFromPixel(A.position,!0):null),this.viewport.applyConstraints()))}function st(A){var G,at={tracker:A.eventSource,pointerType:A.pointerType,position:A.position,delta:A.delta,speed:A.speed,direction:A.direction,shift:A.shift,originalEvent:A.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag",at),G=this.gestureSettingsByDeviceType(A.pointerType),!at.preventDefaultAction&&this.viewport){if(G.dblClickDragToZoom&&o[this.hash].draggingToZoom){var ft=Math.pow(this.zoomPerDblClickDrag,A.delta.y/50);this.viewport.zoomBy(ft)}else if(G.dragToPan&&!o[this.hash].draggingToZoom){if(this.panHorizontal||(A.delta.x=0),this.panVertical||(A.delta.y=0),this.viewport.flipped&&(A.delta.x=-A.delta.x),this.constrainDuringPan){var pt=this.viewport.deltaPointsFromPixels(A.delta.negate());this.viewport.centerSpringX.target.value+=pt.x,this.viewport.centerSpringY.target.value+=pt.y;var kt=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=pt.x,this.viewport.centerSpringY.target.value-=pt.y,kt.xConstrained&&(A.delta.x=0),kt.yConstrained&&(A.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(A.delta.negate()),G.flickEnabled&&!this.constrainDuringPan)}}}function mt(A){var G,at={tracker:A.eventSource,pointerType:A.pointerType,position:A.position,speed:A.speed,direction:A.direction,shift:A.shift,originalEvent:A.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag-end",at),G=this.gestureSettingsByDeviceType(A.pointerType),!at.preventDefaultAction&&this.viewport){if(!o[this.hash].draggingToZoom&&G.flickEnabled&&A.speed>=G.flickMinSpeed){var ft=0;this.panHorizontal&&(ft=G.flickMomentum*A.speed*Math.cos(A.direction));var pt=0;this.panVertical&&(pt=G.flickMomentum*A.speed*Math.sin(A.direction));var kt=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),dt=this.viewport.pointFromPixel(new t.Point(kt.x-ft,kt.y-pt));this.viewport.panTo(dt,!1)}this.viewport.applyConstraints()}G.dblClickDragToZoom&&o[this.hash].draggingToZoom===!0&&(o[this.hash].draggingToZoom=!1)}function gt(A){this.raiseEvent("canvas-enter",{tracker:A.eventSource,pointerType:A.pointerType,position:A.position,buttons:A.buttons,pointers:A.pointers,insideElementPressed:A.insideElementPressed,buttonDownAny:A.buttonDownAny,originalEvent:A.originalEvent})}function ot(A){this.raiseEvent("canvas-exit",{tracker:A.eventSource,pointerType:A.pointerType,position:A.position,buttons:A.buttons,pointers:A.pointers,insideElementPressed:A.insideElementPressed,buttonDownAny:A.buttonDownAny,originalEvent:A.originalEvent})}function U(A){var G;if(this.raiseEvent("canvas-press",{tracker:A.eventSource,pointerType:A.pointerType,position:A.position,insideElementPressed:A.insideElementPressed,insideElementReleased:A.insideElementReleased,originalEvent:A.originalEvent}),G=this.gestureSettingsByDeviceType(A.pointerType),G.dblClickDragToZoom){var at=o[this.hash].lastClickTime,ft=t.now();if(at===null)return;ft-at<this.dblClickTimeThreshold&&(o[this.hash].draggingToZoom=!0),o[this.hash].lastClickTime=null}}function et(A){this.raiseEvent("canvas-release",{tracker:A.eventSource,pointerType:A.pointerType,position:A.position,insideElementPressed:A.insideElementPressed,insideElementReleased:A.insideElementReleased,originalEvent:A.originalEvent})}function lt(A){this.raiseEvent("canvas-nonprimary-press",{tracker:A.eventSource,position:A.position,pointerType:A.pointerType,button:A.button,buttons:A.buttons,originalEvent:A.originalEvent})}function ht(A){this.raiseEvent("canvas-nonprimary-release",{tracker:A.eventSource,position:A.position,pointerType:A.pointerType,button:A.button,buttons:A.buttons,originalEvent:A.originalEvent})}function Gt(A){var G,at,ft,pt,kt={tracker:A.eventSource,pointerType:A.pointerType,gesturePoints:A.gesturePoints,lastCenter:A.lastCenter,center:A.center,lastDistance:A.lastDistance,distance:A.distance,shift:A.shift,originalEvent:A.originalEvent,preventDefaultPanAction:!1,preventDefaultZoomAction:!1,preventDefaultRotateAction:!1};if(this.raiseEvent("canvas-pinch",kt),this.viewport&&(G=this.gestureSettingsByDeviceType(A.pointerType),G.pinchToZoom&&(!kt.preventDefaultPanAction||!kt.preventDefaultZoomAction)&&(at=this.viewport.pointFromPixel(A.center,!0),G.zoomToRefPoint&&!kt.preventDefaultPanAction&&(ft=this.viewport.pointFromPixel(A.lastCenter,!0),pt=ft.minus(at),this.panHorizontal||(pt.x=0),this.panVertical||(pt.y=0),this.viewport.panBy(pt,!0)),kt.preventDefaultZoomAction||this.viewport.zoomBy(A.distance/A.lastDistance,at,!0),this.viewport.applyConstraints()),G.pinchRotate&&!kt.preventDefaultRotateAction)){var dt=Math.atan2(A.gesturePoints[0].currentPos.y-A.gesturePoints[1].currentPos.y,A.gesturePoints[0].currentPos.x-A.gesturePoints[1].currentPos.x),Ot=Math.atan2(A.gesturePoints[0].lastPos.y-A.gesturePoints[1].lastPos.y,A.gesturePoints[0].lastPos.x-A.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(dt-Ot)*(180/Math.PI))}}function St(A){var G,at,ft,pt,kt;pt=t.now(),kt=pt-this._lastScrollTime,kt>this.minScrollDeltaTime?(this._lastScrollTime=pt,G={tracker:A.eventSource,position:A.position,scroll:A.scroll,shift:A.shift,originalEvent:A.originalEvent,preventDefaultAction:!1,preventDefault:!0},this.raiseEvent("canvas-scroll",G),!G.preventDefaultAction&&this.viewport&&(this.viewport.flipped&&(A.position.x=this.viewport.getContainerSize().x-A.position.x),at=this.gestureSettingsByDeviceType(A.pointerType),at.scrollToZoom&&(ft=Math.pow(this.zoomPerScroll,A.scroll),this.viewport.zoomBy(ft,at.zoomToRefPoint?this.viewport.pointFromPixel(A.position,!0):null),this.viewport.applyConstraints())),A.preventDefault=G.preventDefault):A.preventDefault=!0}function Lt(A){o[this.hash].mouseInside=!0,M(this),this.raiseEvent("container-enter",{tracker:A.eventSource,pointerType:A.pointerType,position:A.position,buttons:A.buttons,pointers:A.pointers,insideElementPressed:A.insideElementPressed,buttonDownAny:A.buttonDownAny,originalEvent:A.originalEvent})}function xt(A){A.pointers<1&&(o[this.hash].mouseInside=!1,o[this.hash].animating||k(this)),this.raiseEvent("container-exit",{tracker:A.eventSource,pointerType:A.pointerType,position:A.position,buttons:A.buttons,pointers:A.pointers,insideElementPressed:A.insideElementPressed,buttonDownAny:A.buttonDownAny,originalEvent:A.originalEvent})}function Dt(A){fe(A),A.isOpen()?A._updateRequestId=v(A,Dt):A._updateRequestId=!1}function zt(A,G){var at=A.viewport,ft=at.getZoom(),pt=at.getCenter();at.resize(G,A.preserveImageSizeOnResize),at.panTo(pt,!0);var kt;if(A.preserveImageSizeOnResize)kt=o[A.hash].prevContainerSize.x/G.x;else{var dt=new t.Point(0,0),Ot=new t.Point(o[A.hash].prevContainerSize.x,o[A.hash].prevContainerSize.y).distanceTo(dt),$t=new t.Point(G.x,G.y).distanceTo(dt);kt=$t/Ot*o[A.hash].prevContainerSize.x/G.x}at.zoomTo(ft*kt,null,!0),o[A.hash].prevContainerSize=G,o[A.hash].forceRedraw=!0,o[A.hash].needsResize=!1,o[A.hash].forceResize=!1}function fe(A){if(!(A._opening||!o[A.hash])){if(A.autoResize||o[A.hash].forceResize){var G;if(A._autoResizePolling){G=u(A.container);var at=o[A.hash].prevContainerSize;G.equals(at)||(o[A.hash].needsResize=!0)}o[A.hash].needsResize&&zt(A,G||u(A.container))}var ft=A.viewport.update(),pt=A.world.update()||ft;ft&&A.raiseEvent("viewport-change"),A.referenceStrip&&(pt=A.referenceStrip.update(A.viewport)||pt);var kt=o[A.hash].animating;!kt&&pt&&(A.raiseEvent("animation-start"),M(A));var dt=kt&&!pt;dt&&(o[A.hash].animating=!1),(pt||dt||o[A.hash].forceRedraw||A.world.needsDraw())&&(yt(A),A._drawOverlays(),A.navigator&&A.navigator.update(A.viewport),o[A.hash].forceRedraw=!1,pt&&A.raiseEvent("animation")),dt&&(A.raiseEvent("animation-finish"),o[A.hash].mouseInside||k(A)),o[A.hash].animating=pt}}function yt(A){A.imageLoader.clear(),A.drawer.clear(),A.world.draw(),A.raiseEvent("update-viewport",{})}function At(A,G){return A?A+G:G}function Xt(){o[this.hash].lastZoomTime=t.now(),o[this.hash].zoomFactor=this.zoomPerSecond,o[this.hash].zooming=!0,ae(this)}function ee(){o[this.hash].lastZoomTime=t.now(),o[this.hash].zoomFactor=1/this.zoomPerSecond,o[this.hash].zooming=!0,ae(this)}function ge(){o[this.hash].zooming=!1}function ae(A){t.requestAnimationFrame(t.delegate(A,ue))}function ue(){var A,G,at;o[this.hash].zooming&&this.viewport&&(A=t.now(),G=A-o[this.hash].lastZoomTime,at=Math.pow(o[this.hash].zoomFactor,G/1e3),this.viewport.zoomBy(at),this.viewport.applyConstraints(),o[this.hash].lastZoomTime=A,ae(this))}function rr(){this.viewport&&(o[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function mr(){this.viewport&&(o[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function vi(){this.buttonGroup&&(this.buttonGroup.emulateEnter(),this.buttonGroup.emulateLeave())}function Xi(){this.viewport&&this.viewport.goHome()}function Bi(){this.isFullPage()&&!t.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttonGroup&&this.buttonGroup.emulateLeave(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function bt(){if(this.viewport){var A=this.viewport.getRotation();this.viewport.flipped?A+=this.rotationIncrement:A-=this.rotationIncrement,this.viewport.setRotation(A)}}function Et(){if(this.viewport){var A=this.viewport.getRotation();this.viewport.flipped?A-=this.rotationIncrement:A+=this.rotationIncrement,this.viewport.setRotation(A)}}function Ht(){this.viewport.toggleFlip()}}(r),function(t){t.Navigator=function(v){var x=v.viewer,k=this,C,M;v.element||v.id?(v.element?(v.id&&t.console.warn("Given option.id for Navigator was ignored since option.element was provided and is being used instead."),v.element.id?v.id=v.element.id:v.id="navigator-"+t.now(),this.element=v.element):this.element=document.getElementById(v.id),v.controlOptions={anchor:t.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(v.id="navigator-"+t.now(),this.element=t.makeNeutralElement("div"),v.controlOptions={anchor:t.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:v.autoFade},v.position&&(v.position==="BOTTOM_RIGHT"?v.controlOptions.anchor=t.ControlAnchor.BOTTOM_RIGHT:v.position==="BOTTOM_LEFT"?v.controlOptions.anchor=t.ControlAnchor.BOTTOM_LEFT:v.position==="TOP_RIGHT"?v.controlOptions.anchor=t.ControlAnchor.TOP_RIGHT:v.position==="TOP_LEFT"?v.controlOptions.anchor=t.ControlAnchor.TOP_LEFT:v.position==="ABSOLUTE"&&(v.controlOptions.anchor=t.ControlAnchor.ABSOLUTE,v.controlOptions.top=v.top,v.controlOptions.left=v.left,v.controlOptions.height=v.height,v.controlOptions.width=v.width))),this.element.id=v.id,this.element.className+=" navigator",v=t.extend(!0,{sizeRatio:t.DEFAULT_SETTINGS.navigatorSizeRatio},v,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:v.animationTime,autoResize:!1,minZoomImageRatio:1,background:v.background,opacity:v.opacity,borderColor:v.borderColor,displayRegionColor:v.displayRegionColor}),v.minPixelRatio=this.minPixelRatio=x.minPixelRatio,t.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new t.Point(1,1),this.totalBorderWidths=new t.Point(this.borderWidth*2,this.borderWidth*2).minus(this.fudge),v.controlOptions.anchor!==t.ControlAnchor.NONE&&function(j,H){j.margin="0px",j.border=H+"px solid "+v.borderColor,j.padding="0px",j.background=v.background,j.opacity=v.opacity,j.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=t.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(j,H){j.position="relative",j.top="0px",j.left="0px",j.fontSize="0px",j.overflow="hidden",j.border=H+"px solid "+v.displayRegionColor,j.margin="0px",j.padding="0px",j.background="transparent",j.float="left",j.cssFloat="left",j.styleFloat="left",j.zIndex=999999999,j.cursor="default"}(this.displayRegion.style,this.borderWidth),t.setElementPointerEventsNone(this.displayRegion),t.setElementTouchActionNone(this.displayRegion),this.displayRegionContainer=t.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",t.setElementPointerEventsNone(this.displayRegionContainer),t.setElementTouchActionNone(this.displayRegionContainer),x.addControl(this.element,v.controlOptions),this._resizeWithViewer=v.controlOptions.anchor!==t.ControlAnchor.ABSOLUTE&&v.controlOptions.anchor!==t.ControlAnchor.NONE,v.width&&v.height?(this.setWidth(v.width),this.setHeight(v.height)):this._resizeWithViewer&&(C=t.getElementSize(x.element),this.element.style.height=Math.round(C.y*v.sizeRatio)+"px",this.element.style.width=Math.round(C.x*v.sizeRatio)+"px",this.oldViewerSize=C,M=t.getElementSize(this.element),this.elementArea=M.x*M.y),this.oldContainerSize=new t.Point(0,0),t.Viewer.apply(this,[v]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer);function I(j){p(k.displayRegionContainer,j),p(k.displayRegion,-j),k.viewport.setRotation(j)}if(v.navigatorRotate){var D=v.viewer.viewport?v.viewer.viewport.getRotation():v.viewer.degrees||0;I(D),v.viewer.addHandler("rotate",function(j){I(j.degrees)})}this.innerTracker.destroy(),this.innerTracker=new t.MouseTracker({userData:"Navigator.innerTracker",element:this.element,dragHandler:t.delegate(this,l),clickHandler:t.delegate(this,o),releaseHandler:t.delegate(this,u),scrollHandler:t.delegate(this,d),preProcessEventHandler:function(j){j.eventType==="wheel"&&(j.preventDefault=!0)}}),this.outerTracker.userData="Navigator.outerTracker",t.setElementPointerEventsNone(this.canvas),t.setElementPointerEventsNone(this.container),this.addHandler("reset-size",function(){k.viewport&&k.viewport.goHome(!0)}),x.world.addHandler("item-index-change",function(j){window.setTimeout(function(){var H=k.world.getItemAt(j.previousIndex);k.world.setItemIndex(H,j.newIndex)},1)}),x.world.addHandler("remove-item",function(j){var H=j.item,J=k._getMatchingItem(H);J&&k.world.removeItem(J)}),this.update(x.viewport)},t.extend(t.Navigator.prototype,t.EventSource.prototype,t.Viewer.prototype,{updateSize:function(){if(this.viewport){var v=new t.Point(this.container.clientWidth===0?1:this.container.clientWidth,this.container.clientHeight===0?1:this.container.clientHeight);v.equals(this.oldContainerSize)||(this.viewport.resize(v,!0),this.viewport.goHome(!0),this.oldContainerSize=v,this.drawer.clear(),this.world.draw())}},setWidth:function(v){this.width=v,this.element.style.width=typeof v=="number"?v+"px":v,this._resizeWithViewer=!1},setHeight:function(v){this.height=v,this.element.style.height=typeof v=="number"?v+"px":v,this._resizeWithViewer=!1},setFlip:function(v){return this.viewport.setFlip(v),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(v){m(this.displayRegion,v),m(this.canvas,v),m(this.element,v)},update:function(v){var x,k,C,M,I,D;if(x=t.getElementSize(this.viewer.element),this._resizeWithViewer&&x.x&&x.y&&!x.equals(this.oldViewerSize)&&(this.oldViewerSize=x,this.maintainSizeRatio||!this.elementArea?(k=x.x*this.sizeRatio,C=x.y*this.sizeRatio):(k=Math.sqrt(this.elementArea*(x.x/x.y)),C=this.elementArea/k),this.element.style.width=Math.round(k)+"px",this.element.style.height=Math.round(C)+"px",this.elementArea||(this.elementArea=k*C),this.updateSize()),v&&this.viewport){M=v.getBoundsNoRotate(!0),I=this.viewport.pixelFromPointNoRotate(M.getTopLeft(),!1),D=this.viewport.pixelFromPointNoRotate(M.getBottomRight(),!1).minus(this.totalBorderWidths);var j=this.displayRegion.style;j.display=this.world.getItemCount()?"block":"none",j.top=Math.round(I.y)+"px",j.left=Math.round(I.x)+"px";var H=Math.abs(I.x-D.x),J=Math.abs(I.y-D.y);j.width=Math.round(Math.max(H,0))+"px",j.height=Math.round(Math.max(J,0))+"px"}},addTiledImage:function(v){var x=this,k=v.originalTiledImage;delete v.original;var C=t.extend({},v,{success:function(M){var I=M.item;I._originalForNavigator=k,x._matchBounds(I,k,!0),x._matchOpacity(I,k),x._matchCompositeOperation(I,k);function D(){x._matchBounds(I,k)}function j(){x._matchOpacity(I,k)}function H(){x._matchCompositeOperation(I,k)}k.addHandler("bounds-change",D),k.addHandler("clip-change",D),k.addHandler("opacity-change",j),k.addHandler("composite-operation-change",H)}});return t.Viewer.prototype.addTiledImage.apply(this,[C])},destroy:function(){return t.Viewer.prototype.destroy.apply(this)},_getMatchingItem:function(v){for(var x=this.world.getItemCount(),k,C=0;C<x;C++)if(k=this.world.getItemAt(C),k._originalForNavigator===v)return k;return null},_matchBounds:function(v,x,k){var C=x.getBoundsNoRotate();v.setPosition(C.getTopLeft(),k),v.setWidth(C.width,k),v.setRotation(x.getRotation(),k),v.setClip(x.getClip()),v.setFlip(x.getFlip())},_matchOpacity:function(v,x){v.setOpacity(x.opacity)},_matchCompositeOperation:function(v,x){v.setCompositeOperation(x.compositeOperation)}});function o(v){var x={tracker:v.eventSource,position:v.position,quick:v.quick,shift:v.shift,originalEvent:v.originalEvent,preventDefaultAction:!1};if(this.viewer.raiseEvent("navigator-click",x),!x.preventDefaultAction&&v.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(v.position.x=this.viewport.getContainerSize().x-v.position.x);var k=this.viewport.pointFromPixel(v.position);this.panVertical?this.panHorizontal||(k.x=this.viewer.viewport.getCenter(!0).x):k.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(k),this.viewer.viewport.applyConstraints()}}function l(v){var x={tracker:v.eventSource,position:v.position,delta:v.delta,speed:v.speed,direction:v.direction,shift:v.shift,originalEvent:v.originalEvent,preventDefaultAction:!1};this.viewer.raiseEvent("navigator-drag",x),!x.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(v.delta.x=0),this.panVertical||(v.delta.y=0),this.viewer.viewport.flipped&&(v.delta.x=-v.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(v.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function u(v){v.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function d(v){var x={tracker:v.eventSource,position:v.position,scroll:v.scroll,shift:v.shift,originalEvent:v.originalEvent,preventDefault:v.preventDefault};this.viewer.raiseEvent("navigator-scroll",x),v.preventDefault=x.preventDefault}function p(v,x){m(v,"rotate("+x+"deg)")}function m(v,x){v.style.webkitTransform=x,v.style.mozTransform=x,v.style.msTransform=x,v.style.oTransform=x,v.style.transform=x}}(r),function(t){var o={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};t.extend(t,{getString:function(l){var u=l.split("."),d=null,p=arguments,m=o,v;for(v=0;v<u.length-1;v++)m=m[u[v]]||{};return d=m[u[v]],typeof d!="string"&&(t.console.error("Untranslated source string:",l),d=""),d.replace(/\{\d+\}/g,function(x){var k=parseInt(x.match(/\d+/),10)+1;return k<p.length?p[k]:""})},setString:function(l,u){var d=l.split("."),p=o,m;for(m=0;m<d.length-1;m++)p[d[m]]||(p[d[m]]={}),p=p[d[m]];p[d[m]]=u}})}(r),function(t){t.Point=function(o,l){this.x=typeof o=="number"?o:0,this.y=typeof l=="number"?l:0},t.Point.prototype={clone:function(){return new t.Point(this.x,this.y)},plus:function(o){return new t.Point(this.x+o.x,this.y+o.y)},minus:function(o){return new t.Point(this.x-o.x,this.y-o.y)},times:function(o){return new t.Point(this.x*o,this.y*o)},divide:function(o){return new t.Point(this.x/o,this.y/o)},negate:function(){return new t.Point(-this.x,-this.y)},distanceTo:function(o){return Math.sqrt(Math.pow(this.x-o.x,2)+Math.pow(this.y-o.y,2))},squaredDistanceTo:function(o){return Math.pow(this.x-o.x,2)+Math.pow(this.y-o.y,2)},apply:function(o){return new t.Point(o(this.x),o(this.y))},equals:function(o){return o instanceof t.Point&&this.x===o.x&&this.y===o.y},rotate:function(o,l){l=l||new t.Point(0,0);var u,d;if(o%90===0){var p=t.positiveModulo(o,360);switch(p){case 0:u=1,d=0;break;case 90:u=0,d=1;break;case 180:u=-1,d=0;break;case 270:u=0,d=-1;break}}else{var m=o*Math.PI/180;u=Math.cos(m),d=Math.sin(m)}var v=u*(this.x-l.x)-d*(this.y-l.y)+l.x,x=d*(this.x-l.x)+u*(this.y-l.y)+l.y;return new t.Point(v,x)},toString:function(){return"("+Math.round(this.x*100)/100+","+Math.round(this.y*100)/100+")"}}}(r),function(t){t.TileSource=function(l,u,d,p,m,v){var x=this,k=arguments,C,M;if(t.isPlainObject(l)?C=l:C={width:k[0],height:k[1],tileSize:k[2],tileOverlap:k[3],minLevel:k[4],maxLevel:k[5]},t.EventSource.call(this),t.extend(!0,this,C),!this.success){for(M=0;M<arguments.length;M++)if(t.isFunction(arguments[M])){this.success=arguments[M];break}}this.success&&this.addHandler("ready",function(I){x.success(I)}),t.type(arguments[0])==="string"&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new t.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=C.width&&C.height?C.width/C.height:1,this.dimensions=new t.Point(C.width,C.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=C.tileOverlap?C.tileOverlap:0,this.minLevel=C.minLevel?C.minLevel:0,this.maxLevel=C.maxLevel!==void 0&&C.maxLevel!==null?C.maxLevel:C.width&&C.height?Math.ceil(Math.log(Math.max(C.width,C.height))/Math.log(2)):0,this.success&&t.isFunction(this.success)&&this.success(this))},t.TileSource.prototype={getTileSize:function(l){return t.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(l){return this._tileWidth?this._tileWidth:this.getTileSize(l)},getTileHeight:function(l){return this._tileHeight?this._tileHeight:this.getTileSize(l)},setMaxLevel:function(l){this.maxLevel=l,this._memoizeLevelScale()},getLevelScale:function(l){return this._memoizeLevelScale(),this.getLevelScale(l)},_memoizeLevelScale:function(){var l={},u;for(u=0;u<=this.maxLevel;u++)l[u]=1/Math.pow(2,this.maxLevel-u);this.getLevelScale=function(d){return l[d]}},getNumTiles:function(l){var u=this.getLevelScale(l),d=Math.ceil(u*this.dimensions.x/this.getTileWidth(l)),p=Math.ceil(u*this.dimensions.y/this.getTileHeight(l));return new t.Point(d,p)},getPixelRatio:function(l){var u=this.dimensions.times(this.getLevelScale(l)),d=1/u.x*t.pixelDensityRatio,p=1/u.y*t.pixelDensityRatio;return new t.Point(d,p)},getClosestLevel:function(){var l,u;for(l=this.minLevel+1;l<=this.maxLevel&&(u=this.getNumTiles(l),!(u.x>1||u.y>1));l++);return l-1},getTileAtPoint:function(l,u){var d=u.x>=0&&u.x<=1&&u.y>=0&&u.y<=1/this.aspectRatio;t.console.assert(d,"[TileSource.getTileAtPoint] must be called with a valid point.");var p=this.dimensions.x*this.getLevelScale(l),m=u.x*p,v=u.y*p,x=Math.floor(m/this.getTileWidth(l)),k=Math.floor(v/this.getTileHeight(l));u.x>=1&&(x=this.getNumTiles(l).x-1);var C=1e-15;return u.y>=1/this.aspectRatio-C&&(k=this.getNumTiles(l).y-1),new t.Point(x,k)},getTileBounds:function(l,u,d,p){var m=this.dimensions.times(this.getLevelScale(l)),v=this.getTileWidth(l),x=this.getTileHeight(l),k=u===0?0:v*u-this.tileOverlap,C=d===0?0:x*d-this.tileOverlap,M=v+(u===0?1:2)*this.tileOverlap,I=x+(d===0?1:2)*this.tileOverlap,D=1/m.x;return M=Math.min(M,m.x-k),I=Math.min(I,m.y-C),p?new t.Rect(0,0,M,I):new t.Rect(k*D,C*D,M*D,I*D)},getImageInfo:function(l){var u=this,d,p,m,v,x,k,C;l&&(x=l.split("/"),k=x[x.length-1],C=k.lastIndexOf("."),C>-1&&(x[x.length-1]=k.slice(0,C)));var M=null;if(this.splitHashDataForPost){var I=l.indexOf("#");I!==-1&&(M=l.substring(I+1),l=l.substr(0,I))}p=function(D){typeof D=="string"&&(D=t.parseXml(D));var j=t.TileSource.determineType(u,D,l);if(!j){u.raiseEvent("open-failed",{message:"Unable to load TileSource",source:l});return}v=j.prototype.configure.apply(u,[D,l,M]),v.ajaxWithCredentials===void 0&&(v.ajaxWithCredentials=u.ajaxWithCredentials),m=new j(v),u.ready=!0,u.raiseEvent("ready",{tileSource:m})},l.match(/\.js$/)?(d=l.split("/").pop().replace(".js",""),t.jsonp({url:l,async:!1,callbackName:d,callback:p})):t.makeAjaxRequest({url:l,postData:M,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(D){var j=o(D);p(j)},error:function(D,j){var H;try{H="HTTP "+D.status+" attempting to load TileSource: "+l}catch{var J;typeof j>"u"||!j.toString?J="Unknown error":J=j.toString(),H=J+" attempting to load TileSource: "+l}t.console.error(H),u.raiseEvent("open-failed",{message:H,source:l,postData:M})}})},supports:function(l,u){return!1},configure:function(l,u,d){throw new Error("Method not implemented.")},getTileUrl:function(l,u,d){throw new Error("Method not implemented.")},getTilePostData:function(l,u,d){return null},getTileAjaxHeaders:function(l,u,d){return{}},getTileHashKey:function(l,u,d,p,m,v){function x(k){return m?k+"+"+JSON.stringify(m):k}return x(typeof p!="string"?l+"/"+u+"_"+d:p)},tileExists:function(l,u,d){var p=this.getNumTiles(l);return l>=this.minLevel&&l<=this.maxLevel&&u>=0&&d>=0&&u<p.x&&d<p.y},hasTransparency:function(l,u,d,p){return!!l||u.match(".png")},downloadTileStart:function(l){var u=l.userData,d=new Image;u.image=d,u.request=null;var p=function(m){if(!d){l.finish(null,u.request,"Image load failed: undefined Image instance.");return}d.onload=d.onerror=d.onabort=null,l.finish(m?null:d,u.request,m)};d.onload=function(){p()},d.onabort=d.onerror=function(){p("Image load aborted.")},l.loadWithAjax?u.request=t.makeAjaxRequest({url:l.src,withCredentials:l.ajaxWithCredentials,headers:l.ajaxHeaders,responseType:"arraybuffer",postData:l.postData,success:function(m){var v;try{v=new window.Blob([m.response])}catch(C){var x=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(C.name==="TypeError"&&x){var k=new x;k.append(m.response),v=k.getBlob()}}v.size===0?p("Empty image response."):d.src=(window.URL||window.webkitURL).createObjectURL(v)},error:function(m){p("Image load aborted - XHR error")}}):(l.crossOriginPolicy!==!1&&(d.crossOrigin=l.crossOriginPolicy),d.src=l.src)},downloadTileAbort:function(l){l.userData.request&&l.userData.request.abort();var u=l.userData.image;l.userData.image&&(u.onload=u.onerror=u.onabort=null)},createTileCache:function(l,u,d){l._data=u},destroyTileCache:function(l){l._data=null,l._renderedContext=null},getTileCacheData:function(l){return l._data},getTileCacheDataAsImage:function(l){return l._data},getTileCacheDataAsContext2D:function(l){if(!l._renderedContext){var u=document.createElement("canvas");u.width=l._data.width,u.height=l._data.height,l._renderedContext=u.getContext("2d"),l._renderedContext.drawImage(l._data,0,0),l._data=null}return l._renderedContext}},t.extend(!0,t.TileSource.prototype,t.EventSource.prototype);function o(l){var u=l.responseText,d=l.status,p,m;if(l){if(l.status!==200&&l.status!==0)throw d=l.status,p=d===404?"Not Found":l.statusText,new Error(t.getString("Errors.Status",d,p))}else throw new Error(t.getString("Errors.Security"));if(u.match(/\s*<.*/))try{m=l.responseXML&&l.responseXML.documentElement?l.responseXML:t.parseXml(u)}catch{m=l.responseText}else if(u.match(/\s*[{[].*/))try{m=t.parseJSON(u)}catch{m=u}else m=u;return m}t.TileSource.determineType=function(l,u,d){var p;for(p in r)if(p.match(/.+TileSource$/)&&t.isFunction(r[p])&&t.isFunction(r[p].prototype.supports)&&r[p].prototype.supports.call(l,u,d))return r[p];return t.console.error("No TileSource was able to open %s %s",d,u),null}}(r),function(t){t.DziTileSource=function(u,d,p,m,v,x,k,C,M){var I,D,j,H;if(t.isPlainObject(u)?H=u:H={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=H.tilesUrl,this.fileFormat=H.fileFormat,this.displayRects=H.displayRects,this.displayRects)for(I=this.displayRects.length-1;I>=0;I--)for(D=this.displayRects[I],j=D.minLevel;j<=D.maxLevel;j++)this._levelRects[j]||(this._levelRects[j]=[]),this._levelRects[j].push(D);t.TileSource.apply(this,[H])},t.extend(t.DziTileSource.prototype,t.TileSource.prototype,{supports:function(u,d){var p;return u.Image?p=u.Image.xmlns:u.documentElement&&(u.documentElement.localName==="Image"||u.documentElement.tagName==="Image")&&(p=u.documentElement.namespaceURI),p=(p||"").toLowerCase(),p.indexOf("schemas.microsoft.com/deepzoom/2008")!==-1||p.indexOf("schemas.microsoft.com/deepzoom/2009")!==-1},configure:function(u,d,p){var m;return t.isPlainObject(u)?m=l(this,u):m=o(this,u),d&&!m.tilesUrl&&(m.tilesUrl=d.replace(/([^/]+?)(\.(dzi|xml|js)?(\?[^/]*)?)?\/?$/,"$1_files/"),d.search(/\.(dzi|xml|js)\?/)!==-1?m.queryParams=d.match(/\?.*/):m.queryParams=""),m},getTileUrl:function(u,d,p){return[this.tilesUrl,u,"/",d,"_",p,".",this.fileFormat,this.queryParams].join("")},tileExists:function(u,d,p){var m=this._levelRects[u],v,x,k,C,M,I,D;if(this.minLevel&&u<this.minLevel||this.maxLevel&&u>this.maxLevel)return!1;if(!m||!m.length)return!0;for(D=m.length-1;D>=0;D--)if(v=m[D],!(u<v.minLevel||u>v.maxLevel)&&(x=this.getLevelScale(u),k=v.x*x,C=v.y*x,M=k+v.width*x,I=C+v.height*x,k=Math.floor(k/this._tileWidth),C=Math.floor(C/this._tileWidth),M=Math.ceil(M/this._tileWidth),I=Math.ceil(I/this._tileWidth),k<=d&&d<M&&C<=p&&p<I))return!0;return!1}});function o(u,d){if(!d||!d.documentElement)throw new Error(t.getString("Errors.Xml"));var p=d.documentElement,m=p.localName||p.tagName,v=d.documentElement.namespaceURI,x=null,k=[],C,M,I,D,j;if(m==="Image")try{if(D=p.getElementsByTagName("Size")[0],D===void 0&&(D=p.getElementsByTagNameNS(v,"Size")[0]),x={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:p.getAttribute("Url"),Format:p.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(p.getAttribute("Overlap"),10),TileSize:parseInt(p.getAttribute("TileSize"),10),Size:{Height:parseInt(D.getAttribute("Height"),10),Width:parseInt(D.getAttribute("Width"),10)}}},!t.imageFormatSupported(x.Image.Format))throw new Error(t.getString("Errors.ImageFormat",x.Image.Format.toUpperCase()));for(C=p.getElementsByTagName("DisplayRect"),C===void 0&&(C=p.getElementsByTagNameNS(v,"DisplayRect")[0]),j=0;j<C.length;j++)M=C[j],I=M.getElementsByTagName("Rect")[0],I===void 0&&(I=M.getElementsByTagNameNS(v,"Rect")[0]),k.push({Rect:{X:parseInt(I.getAttribute("X"),10),Y:parseInt(I.getAttribute("Y"),10),Width:parseInt(I.getAttribute("Width"),10),Height:parseInt(I.getAttribute("Height"),10),MinLevel:parseInt(M.getAttribute("MinLevel"),10),MaxLevel:parseInt(M.getAttribute("MaxLevel"),10)}});return k.length&&(x.Image.DisplayRect=k),l(u,x)}catch(q){throw q instanceof Error?q:new Error(t.getString("Errors.Dzi"))}else{if(m==="Collection")throw new Error(t.getString("Errors.Dzc"));if(m==="Error"){var H=p.getElementsByTagName("Message")[0],J=H.firstChild.nodeValue;throw new Error(J)}}throw new Error(t.getString("Errors.Dzi"))}function l(u,d){var p=d.Image,m=p.Url,v=p.Format,x=p.Size,k=p.DisplayRect||[],C=parseInt(x.Width,10),M=parseInt(x.Height,10),I=parseInt(p.TileSize,10),D=parseInt(p.Overlap,10),j=[],H,J;for(J=0;J<k.length;J++)H=k[J].Rect,j.push(new t.DisplayRect(parseInt(H.X,10),parseInt(H.Y,10),parseInt(H.Width,10),parseInt(H.Height,10),parseInt(H.MinLevel,10),parseInt(H.MaxLevel,10)));return t.extend(!0,{width:C,height:M,tileSize:I,tileOverlap:D,minLevel:null,maxLevel:null,tilesUrl:m,fileFormat:v,displayRects:j},d)}}(r),function(t){t.IIIFTileSource=function(p){if(t.extend(!0,this,p),this._id=this["@id"]||this.id||this.identifier||null,!(this.height&&this.width&&this._id))throw new Error("IIIF required parameters (width, height, or id) not provided.");if(p.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=p.version,this.tile_width&&this.tile_height)p.tileWidth=this.tile_width,p.tileHeight=this.tile_height;else if(this.tile_width)p.tileSize=this.tile_width;else if(this.tile_height)p.tileSize=this.tile_height;else if(this.tiles)if(this.tiles.length===1)p.tileWidth=this.tiles[0].width,p.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var m=0;m<this.tiles.length;m++)for(var v=0;v<this.tiles[m].scaleFactors.length;v++){var x=this.tiles[m].scaleFactors[v];this.scale_factors.push(x),p.tileSizePerScaleFactor[x]={width:this.tiles[m].width,height:this.tiles[m].height||this.tiles[m].width}}}else if(o(p)){for(var k=Math.min(this.height,this.width),C=[256,512,1024],M=[],I=0;I<C.length;I++)C[I]<=k&&M.push(C[I]);M.length>0?p.tileSize=Math.max.apply(null,M):p.tileSize=k}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,p.levels=l(this),t.extend(!0,p,{width:p.levels[p.levels.length-1].width,height:p.levels[p.levels.length-1].height,tileSize:Math.max(p.height,p.width),tileOverlap:0,minLevel:0,maxLevel:p.levels.length-1}),this.levels=p.levels):t.console.error("Nothing in the info.json to construct image pyramids from");if(!p.maxLevel&&!this.emulateLegacyImagePyramid)if(!this.scale_factors)p.maxLevel=Number(Math.round(Math.log(Math.max(this.width,this.height),2)));else{var D=Math.max.apply(null,this.scale_factors);p.maxLevel=Math.round(Math.log(D)*Math.LOG2E)}t.TileSource.apply(this,[p])},t.extend(t.IIIFTileSource.prototype,t.TileSource.prototype,{supports:function(p,m){return p.protocol&&p.protocol==="http://iiif.io/api/image"||p["@context"]&&(p["@context"]==="http://library.stanford.edu/iiif/image-api/1.1/context.json"||p["@context"]==="http://iiif.io/api/image/1/context.json")||p.profile&&p.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")===0||p.identifier&&p.width&&p.height?!0:!!(p.documentElement&&p.documentElement.tagName==="info"&&p.documentElement.namespaceURI==="http://library.stanford.edu/iiif/image-api/ns/")},configure:function(p,m,v){if(t.isPlainObject(p)){if(!p["@context"])p["@context"]="http://iiif.io/api/image/1.0/context.json",p["@id"]=m.replace("/info.json",""),p.version=1;else{var k=p["@context"];if(Array.isArray(k)){for(var C=0;C<k.length;C++)if(typeof k[C]=="string"&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(k[C])||k[C]==="http://library.stanford.edu/iiif/image-api/1.1/context.json")){k=k[C];break}}switch(k){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":p.version=1;break;case"http://iiif.io/api/image/2/context.json":p.version=2;break;case"http://iiif.io/api/image/3/context.json":p.version=3;break;default:t.console.error("Data has a @context property which contains no known IIIF context URI.")}}if(p.preferredFormats){for(var M=0;M<p.preferredFormats.length;M++)if(r.imageFormatSupported(p.preferredFormats[M])){p.tileFormat=p.preferredFormats[M];break}}return p}else{var x=u(p);return x["@context"]="http://iiif.io/api/image/1.0/context.json",x["@id"]=m.replace("/info.xml",""),x.version=1,x}},getTileWidth:function(p){if(this.emulateLegacyImagePyramid)return t.TileSource.prototype.getTileWidth.call(this,p);var m=Math.pow(2,this.maxLevel-p);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[m]?this.tileSizePerScaleFactor[m].width:this._tileWidth},getTileHeight:function(p){if(this.emulateLegacyImagePyramid)return t.TileSource.prototype.getTileHeight.call(this,p);var m=Math.pow(2,this.maxLevel-p);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[m]?this.tileSizePerScaleFactor[m].height:this._tileHeight},getLevelScale:function(p){if(this.emulateLegacyImagePyramid){var m=NaN;return this.levels.length>0&&p>=this.minLevel&&p<=this.maxLevel&&(m=this.levels[p].width/this.levels[this.maxLevel].width),m}return t.TileSource.prototype.getLevelScale.call(this,p)},getNumTiles:function(p){if(this.emulateLegacyImagePyramid){var m=this.getLevelScale(p);return m?new t.Point(1,1):new t.Point(0,0)}return t.TileSource.prototype.getNumTiles.call(this,p)},getTileAtPoint:function(p,m){return this.emulateLegacyImagePyramid?new t.Point(0,0):t.TileSource.prototype.getTileAtPoint.call(this,p,m)},getTileUrl:function(p,m,v){if(this.emulateLegacyImagePyramid){var x=null;return this.levels.length>0&&p>=this.minLevel&&p<=this.maxLevel&&(x=this.levels[p].url),x}var k="0",C=Math.pow(.5,this.maxLevel-p),M=Math.round(this.width*C),I=Math.round(this.height*C),D,j,H,J,q,W,st,mt,gt,ot,U,et,lt,ht;return D=this.getTileWidth(p),j=this.getTileHeight(p),H=Math.round(D/C),J=Math.round(j/C),this.version===1?lt="native."+this.tileFormat:lt="default."+this.tileFormat,M<D&&I<j?(this.version===2&&M===this.width?ot="full":this.version===3&&M===this.width&&I===this.height?ot="max":this.version===3?ot=M+","+I:ot=M+",",q="full"):(W=m*H,st=v*J,mt=Math.min(H,this.width-W),gt=Math.min(J,this.height-st),m===0&&v===0&&mt===this.width&&gt===this.height?q="full":q=[W,st,mt,gt].join(","),U=Math.round(mt*C),et=Math.round(gt*C),this.version===2&&U===this.width?ot="full":this.version===3&&U===this.width&&et===this.height?ot="max":this.version===3?ot=U+","+et:ot=U+","),ht=[this._id,q,ot,k,lt].join("/"),ht},__testonly__:{canBeTiled:o,constructLevels:l}});function o(p){var m=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"],v=Array.isArray(p.profile)?p.profile[0]:p.profile,x=m.indexOf(v)!==-1,k=!1;return p.version===2&&p.profile.length>1&&p.profile[1].supports&&(k=p.profile[1].supports.indexOf("sizeByW")!==-1),p.version===3&&p.extraFeatures&&(k=p.extraFeatures.indexOf("sizeByWh")!==-1),!x||k}function l(p){for(var m=[],v=0;v<p.sizes.length;v++)m.push({url:p._id+"/full/"+p.sizes[v].width+","+(p.version===3?p.sizes[v].height:"")+"/0/default."+p.tileFormat,width:p.sizes[v].width,height:p.sizes[v].height});return m.sort(function(x,k){return x.width-k.width})}function u(p){if(!p||!p.documentElement)throw new Error(t.getString("Errors.Xml"));var m=p.documentElement,v=m.tagName,x=null;if(v==="info")try{return x={},d(m,x),x}catch(k){throw k instanceof Error?k:new Error(t.getString("Errors.IIIF"))}throw new Error(t.getString("Errors.IIIF"))}function d(p,m,v){var x,k;if(p.nodeType===3&&v)k=p.nodeValue.trim(),k.match(/^\d*$/)&&(k=Number(k)),m[v]?(t.isArray(m[v])||(m[v]=[m[v]]),m[v].push(k)):m[v]=k;else if(p.nodeType===1)for(x=0;x<p.childNodes.length;x++)d(p.childNodes[x],m,p.nodeName)}}(r),function(t){t.OsmTileSource=function(o,l,u,d,p){var m;t.isPlainObject(o)?m=o:m={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},(!m.width||!m.height)&&(m.width=65572864,m.height=65572864),m.tileSize||(m.tileSize=256,m.tileOverlap=0),m.tilesUrl||(m.tilesUrl="http://tile.openstreetmap.org/"),m.minLevel=8,t.TileSource.apply(this,[m])},t.extend(t.OsmTileSource.prototype,t.TileSource.prototype,{supports:function(o,l){return o.type&&o.type==="openstreetmaps"},configure:function(o,l,u){return o},getTileUrl:function(o,l,u){return this.tilesUrl+(o-8)+"/"+l+"/"+u+".png"}})}(r),function(t){t.TmsTileSource=function(o,l,u,d,p){var m;t.isPlainObject(o)?m=o:m={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var v=Math.ceil(m.width/256)*256,x=Math.ceil(m.height/256)*256,k;v>x?k=v/256:k=x/256,m.maxLevel=Math.ceil(Math.log(k)/Math.log(2))-1,m.tileSize=256,m.width=v,m.height=x,t.TileSource.apply(this,[m])},t.extend(t.TmsTileSource.prototype,t.TileSource.prototype,{supports:function(o,l){return o.type&&o.type==="tiledmapservice"},configure:function(o,l,u){return o},getTileUrl:function(o,l,u){var d=this.getNumTiles(o).y-1;return this.tilesUrl+o+"/"+l+"/"+(d-u)+".png"}})}(r),function(t){t.ZoomifyTileSource=function(o){typeof o.tileSize>"u"&&(o.tileSize=256),typeof o.fileFormat>"u"&&(o.fileFormat="jpg",this.fileFormat=o.fileFormat);var l={x:o.width,y:o.height};for(o.imageSizes=[{x:o.width,y:o.height}],o.gridSize=[this._getGridSize(o.width,o.height,o.tileSize)];parseInt(l.x,10)>o.tileSize||parseInt(l.y,10)>o.tileSize;)l.x=Math.floor(l.x/2),l.y=Math.floor(l.y/2),o.imageSizes.push({x:l.x,y:l.y}),o.gridSize.push(this._getGridSize(l.x,l.y,o.tileSize));o.imageSizes.reverse(),o.gridSize.reverse(),o.minLevel=0,o.maxLevel=o.gridSize.length-1,r.TileSource.apply(this,[o])},t.extend(t.ZoomifyTileSource.prototype,t.TileSource.prototype,{_getGridSize:function(o,l,u){return{x:Math.ceil(o/u),y:Math.ceil(l/u)}},_calculateAbsoluteTileNumber:function(o,l,u){for(var d=0,p={},m=0;m<o;m++)p=this.gridSize[m],d+=p.x*p.y;return p=this.gridSize[o],d+=p.x*u+l,d},supports:function(o,l){return o.type&&o.type==="zoomifytileservice"},configure:function(o,l,u){return o},getTileUrl:function(o,l,u){var d=0,p=this._calculateAbsoluteTileNumber(o,l,u);return d=Math.floor(p/256),this.tilesUrl+"TileGroup"+d+"/"+o+"-"+l+"-"+u+"."+this.fileFormat}})}(r),function(t){t.LegacyTileSource=function(d){var p,m,v;t.isArray(d)&&(p={type:"legacy-image-pyramid",levels:d}),p.levels=o(p.levels),p.levels.length>0?(m=p.levels[p.levels.length-1].width,v=p.levels[p.levels.length-1].height):(m=0,v=0,t.console.error("No supported image formats found")),t.extend(!0,p,{width:m,height:v,tileSize:Math.max(v,m),tileOverlap:0,minLevel:0,maxLevel:p.levels.length>0?p.levels.length-1:0}),t.TileSource.apply(this,[p]),this.levels=p.levels},t.extend(t.LegacyTileSource.prototype,t.TileSource.prototype,{supports:function(d,p){return d.type&&d.type==="legacy-image-pyramid"||d.documentElement&&d.documentElement.getAttribute("type")==="legacy-image-pyramid"},configure:function(d,p,m){var v;return t.isPlainObject(d)?v=u(this,d):v=l(this,d),v},getLevelScale:function(d){var p=NaN;return this.levels.length>0&&d>=this.minLevel&&d<=this.maxLevel&&(p=this.levels[d].width/this.levels[this.maxLevel].width),p},getNumTiles:function(d){var p=this.getLevelScale(d);return p?new t.Point(1,1):new t.Point(0,0)},getTileUrl:function(d,p,m){var v=null;return this.levels.length>0&&d>=this.minLevel&&d<=this.maxLevel&&(v=this.levels[d].url),v}});function o(d){var p=[],m,v;for(v=0;v<d.length;v++)m=d[v],m.height&&m.width&&m.url?p.push({url:m.url,width:Number(m.width),height:Number(m.height)}):t.console.error("Unsupported image format: %s",m.url?m.url:"<no URL>");return p.sort(function(x,k){return x.height-k.height})}function l(d,p){if(!p||!p.documentElement)throw new Error(t.getString("Errors.Xml"));var m=p.documentElement,v=m.tagName,x=null,k=[],C,M;if(v==="image")try{for(x={type:m.getAttribute("type"),levels:[]},k=m.getElementsByTagName("level"),M=0;M<k.length;M++)C=k[M],x.levels.push({url:C.getAttribute("url"),width:parseInt(C.getAttribute("width"),10),height:parseInt(C.getAttribute("height"),10)});return u(d,x)}catch(I){throw I instanceof Error?I:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if(v==="collection")throw new Error("Legacy Image Pyramid Collections not yet supported.");if(v==="error")throw new Error("Error: "+p)}throw new Error("Unknown element "+v)}function u(d,p){return p.levels}}(r),function(t){t.ImageTileSource=function(o){o=t.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},o),t.TileSource.apply(this,[o])},t.extend(t.ImageTileSource.prototype,t.TileSource.prototype,{supports:function(o,l){return o.type&&o.type==="image"},configure:function(o,l,u){return o},getImageInfo:function(o){var l=this._image=new Image,u=this;this.crossOriginPolicy&&(l.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(l.useCredentials=this.ajaxWithCredentials),t.addEvent(l,"load",function(){u.width=l.naturalWidth,u.height=l.naturalHeight,u.aspectRatio=u.width/u.height,u.dimensions=new t.Point(u.width,u.height),u._tileWidth=u.width,u._tileHeight=u.height,u.tileOverlap=0,u.minLevel=0,u.levels=u._buildLevels(),u.maxLevel=u.levels.length-1,u.ready=!0,u.raiseEvent("ready",{tileSource:u})}),t.addEvent(l,"error",function(){u.raiseEvent("open-failed",{message:"Error loading image at "+o,source:o})}),l.src=o},getLevelScale:function(o){var l=NaN;return o>=this.minLevel&&o<=this.maxLevel&&(l=this.levels[o].width/this.levels[this.maxLevel].width),l},getNumTiles:function(o){var l=this.getLevelScale(o);return l?new t.Point(1,1):new t.Point(0,0)},getTileUrl:function(o,l,u){var d=null;return o>=this.minLevel&&o<=this.maxLevel&&(d=this.levels[o].url),d},getContext2D:function(o,l,u){var d=null;return o>=this.minLevel&&o<=this.maxLevel&&(d=this.levels[o].context2D),d},destroy:function(){this._freeupCanvasMemory()},_buildLevels:function(){var o=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!t.supportsCanvas||!this.useCanvas)return delete this._image,o;var l=this._image.naturalWidth,u=this._image.naturalHeight,d=document.createElement("canvas"),p=d.getContext("2d");if(d.width=l,d.height=u,p.drawImage(this._image,0,0,l,u),o[0].context2D=p,delete this._image,t.isCanvasTainted(d))return o;for(;l>=2&&u>=2;){l=Math.floor(l/2),u=Math.floor(u/2);var m=document.createElement("canvas"),v=m.getContext("2d");m.width=l,m.height=u,v.drawImage(d,0,0,l,u),o.splice(0,0,{context2D:v,width:l,height:u}),d=m,p=v}return o},_freeupCanvasMemory:function(){for(var o=0;o<this.levels.length;o++)this.levels[o].context2D&&(this.levels[o].context2D.canvas.height=0,this.levels[o].context2D.canvas.width=0)}})}(r),function(t){t.TileSourceCollection=function(o,l,u,d){t.console.error("TileSourceCollection is deprecated; use World instead")}}(r),function(t){t.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},t.Button=function(v){var x=this;t.EventSource.call(this),t.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:t.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null,userData:null},v),this.element=v.element||t.makeNeutralElement("div"),v.element||(this.imgRest=t.makeTransparentImage(this.srcRest),this.imgGroup=t.makeTransparentImage(this.srcGroup),this.imgHover=t.makeTransparentImage(this.srcHover),this.imgDown=t.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,t.setElementPointerEventsNone(this.imgRest),t.setElementPointerEventsNone(this.imgGroup),t.setElementPointerEventsNone(this.imgHover),t.setElementPointerEventsNone(this.imgDown),this.element.style.position="relative",t.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",t.Browser.vendor===t.BROWSERS.FIREFOX&&t.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=t.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new t.MouseTracker({userData:"Button.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(k){k.insideElementPressed?(p(x,t.ButtonState.DOWN),x.raiseEvent("enter",{originalEvent:k.originalEvent})):k.buttonDownAny||p(x,t.ButtonState.HOVER)},focusHandler:function(k){x.tracker.enterHandler(k),x.raiseEvent("focus",{originalEvent:k.originalEvent})},leaveHandler:function(k){m(x,t.ButtonState.GROUP),k.insideElementPressed&&x.raiseEvent("exit",{originalEvent:k.originalEvent})},blurHandler:function(k){x.tracker.leaveHandler(k),x.raiseEvent("blur",{originalEvent:k.originalEvent})},pressHandler:function(k){p(x,t.ButtonState.DOWN),x.raiseEvent("press",{originalEvent:k.originalEvent})},releaseHandler:function(k){k.insideElementPressed&&k.insideElementReleased?(m(x,t.ButtonState.HOVER),x.raiseEvent("release",{originalEvent:k.originalEvent})):k.insideElementPressed?m(x,t.ButtonState.GROUP):p(x,t.ButtonState.HOVER)},clickHandler:function(k){k.quick&&x.raiseEvent("click",{originalEvent:k.originalEvent})},keyHandler:function(k){k.keyCode===13?(x.raiseEvent("click",{originalEvent:k.originalEvent}),x.raiseEvent("release",{originalEvent:k.originalEvent}),k.preventDefault=!0):k.preventDefault=!1}}),m(this,t.ButtonState.REST)},t.extend(t.Button.prototype,t.EventSource.prototype,{notifyGroupEnter:function(){p(this,t.ButtonState.GROUP)},notifyGroupExit:function(){m(this,t.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,this.tracker.setTracking(!1),t.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,this.tracker.setTracking(!0),t.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()},destroy:function(){this.imgRest&&(this.element.removeChild(this.imgRest),this.imgRest=null),this.imgGroup&&(this.element.removeChild(this.imgGroup),this.imgGroup=null),this.imgHover&&(this.element.removeChild(this.imgHover),this.imgHover=null),this.imgDown&&(this.element.removeChild(this.imgDown),this.imgDown=null),this.removeAllHandlers(),this.tracker.destroy(),this.element=null}});function o(v){t.requestAnimationFrame(function(){l(v)})}function l(v){var x,k,C;v.shouldFade&&(x=t.now(),k=x-v.fadeBeginTime,C=1-k/v.fadeLength,C=Math.min(1,C),C=Math.max(0,C),v.imgGroup&&t.setElementOpacity(v.imgGroup,C,!0),C>0&&o(v))}function u(v){v.shouldFade=!0,v.fadeBeginTime=t.now()+v.fadeDelay,window.setTimeout(function(){o(v)},v.fadeDelay)}function d(v){v.shouldFade=!1,v.imgGroup&&t.setElementOpacity(v.imgGroup,1,!0)}function p(v,x){v.element.disabled||(x>=t.ButtonState.GROUP&&v.currentState===t.ButtonState.REST&&(d(v),v.currentState=t.ButtonState.GROUP),x>=t.ButtonState.HOVER&&v.currentState===t.ButtonState.GROUP&&(v.imgHover&&(v.imgHover.style.visibility=""),v.currentState=t.ButtonState.HOVER),x>=t.ButtonState.DOWN&&v.currentState===t.ButtonState.HOVER&&(v.imgDown&&(v.imgDown.style.visibility=""),v.currentState=t.ButtonState.DOWN))}function m(v,x){v.element.disabled||(x<=t.ButtonState.HOVER&&v.currentState===t.ButtonState.DOWN&&(v.imgDown&&(v.imgDown.style.visibility="hidden"),v.currentState=t.ButtonState.HOVER),x<=t.ButtonState.GROUP&&v.currentState===t.ButtonState.HOVER&&(v.imgHover&&(v.imgHover.style.visibility="hidden"),v.currentState=t.ButtonState.GROUP),x<=t.ButtonState.REST&&v.currentState===t.ButtonState.GROUP&&(u(v),v.currentState=t.ButtonState.REST))}}(r),function(t){t.ButtonGroup=function(o){t.extend(!0,this,{buttons:[],clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:t.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},o);var l=this.buttons.concat([]),u=this,d;if(this.element=o.element||t.makeNeutralElement("div"),!o.group)for(this.element.style.display="inline-block",d=0;d<l.length;d++)this.element.appendChild(l[d].element);t.setElementTouchActionNone(this.element),this.tracker=new t.MouseTracker({userData:"ButtonGroup.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(p){var m;for(m=0;m<u.buttons.length;m++)u.buttons[m].notifyGroupEnter()},leaveHandler:function(p){var m;if(!p.insideElementPressed)for(m=0;m<u.buttons.length;m++)u.buttons[m].notifyGroupExit()}})},t.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateLeave:function(){this.tracker.leaveHandler({eventSource:this.tracker})},destroy:function(){for(;this.buttons.length;){var o=this.buttons.pop();this.element.removeChild(o.element),o.destroy()}this.tracker.destroy(),this.element=null}}}(r),function(t){t.Rect=function(o,l,u,d,p){this.x=typeof o=="number"?o:0,this.y=typeof l=="number"?l:0,this.width=typeof u=="number"?u:0,this.height=typeof d=="number"?d:0,this.degrees=typeof p=="number"?p:0,this.degrees=t.positiveModulo(this.degrees,360);var m,v;this.degrees>=270?(m=this.getTopRight(),this.x=m.x,this.y=m.y,v=this.height,this.height=this.width,this.width=v,this.degrees-=270):this.degrees>=180?(m=this.getBottomRight(),this.x=m.x,this.y=m.y,this.degrees-=180):this.degrees>=90&&(m=this.getBottomLeft(),this.x=m.x,this.y=m.y,v=this.height,this.height=this.width,this.width=v,this.degrees-=90)},t.Rect.fromSummits=function(o,l,u){var d=o.distanceTo(l),p=o.distanceTo(u),m=l.minus(o),v=Math.atan(m.y/m.x);return m.x<0?v+=Math.PI:m.y<0&&(v+=2*Math.PI),new t.Rect(o.x,o.y,d,p,v/Math.PI*180)},t.Rect.prototype={clone:function(){return new t.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new t.Point(this.x,this.y)},getBottomRight:function(){return new t.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new t.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new t.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new t.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new t.Point(this.width,this.height)},equals:function(o){return o instanceof t.Rect&&this.x===o.x&&this.y===o.y&&this.width===o.width&&this.height===o.height&&this.degrees===o.degrees},times:function(o){return new t.Rect(this.x*o,this.y*o,this.width*o,this.height*o,this.degrees)},translate:function(o){return new t.Rect(this.x+o.x,this.y+o.y,this.width,this.height,this.degrees)},union:function(o){var l=this.getBoundingBox(),u=o.getBoundingBox(),d=Math.min(l.x,u.x),p=Math.min(l.y,u.y),m=Math.max(l.x+l.width,u.x+u.width),v=Math.max(l.y+l.height,u.y+u.height);return new t.Rect(d,p,m-d,v-p)},intersection:function(o){var l=1e-10,u=[],d=this.getTopLeft();o.containsPoint(d,l)&&u.push(d);var p=this.getTopRight();o.containsPoint(p,l)&&u.push(p);var m=this.getBottomLeft();o.containsPoint(m,l)&&u.push(m);var v=this.getBottomRight();o.containsPoint(v,l)&&u.push(v);var x=o.getTopLeft();this.containsPoint(x,l)&&u.push(x);var k=o.getTopRight();this.containsPoint(k,l)&&u.push(k);var C=o.getBottomLeft();this.containsPoint(C,l)&&u.push(C);var M=o.getBottomRight();this.containsPoint(M,l)&&u.push(M);for(var I=this._getSegments(),D=o._getSegments(),j=0;j<I.length;j++)for(var H=I[j],J=0;J<D.length;J++){var q=D[J],W=st(H[0],H[1],q[0],q[1]);W&&u.push(W)}function st(ht,Gt,St,Lt){var xt=Gt.minus(ht),Dt=Lt.minus(St),zt=-Dt.x*xt.y+xt.x*Dt.y;if(zt===0)return null;var fe=(xt.x*(ht.y-St.y)-xt.y*(ht.x-St.x))/zt,yt=(Dt.x*(ht.y-St.y)-Dt.y*(ht.x-St.x))/zt;return-l<=fe&&fe<=1-l&&-l<=yt&&yt<=1-l?new t.Point(ht.x+yt*xt.x,ht.y+yt*xt.y):null}if(u.length===0)return null;for(var mt=u[0].x,gt=u[0].x,ot=u[0].y,U=u[0].y,et=1;et<u.length;et++){var lt=u[et];lt.x<mt&&(mt=lt.x),lt.x>gt&&(gt=lt.x),lt.y<ot&&(ot=lt.y),lt.y>U&&(U=lt.y)}return new t.Rect(mt,ot,gt-mt,U-ot)},_getSegments:function(){var o=this.getTopLeft(),l=this.getTopRight(),u=this.getBottomLeft(),d=this.getBottomRight();return[[o,l],[l,d],[d,u],[u,o]]},rotate:function(o,l){if(o=t.positiveModulo(o,360),o===0)return this.clone();l=l||this.getCenter();var u=this.getTopLeft().rotate(o,l),d=this.getTopRight().rotate(o,l),p=d.minus(u);p=p.apply(function(v){var x=1e-15;return Math.abs(v)<x?0:v});var m=Math.atan(p.y/p.x);return p.x<0?m+=Math.PI:p.y<0&&(m+=2*Math.PI),new t.Rect(u.x,u.y,this.width,this.height,m/Math.PI*180)},getBoundingBox:function(){if(this.degrees===0)return this.clone();var o=this.getTopLeft(),l=this.getTopRight(),u=this.getBottomLeft(),d=this.getBottomRight(),p=Math.min(o.x,l.x,u.x,d.x),m=Math.max(o.x,l.x,u.x,d.x),v=Math.min(o.y,l.y,u.y,d.y),x=Math.max(o.y,l.y,u.y,d.y);return new t.Rect(p,v,m-p,x-v)},getIntegerBoundingBox:function(){var o=this.getBoundingBox(),l=Math.floor(o.x),u=Math.floor(o.y),d=Math.ceil(o.width+o.x-l),p=Math.ceil(o.height+o.y-u);return new t.Rect(l,u,d,p)},containsPoint:function(o,l){l=l||0;var u=this.getTopLeft(),d=this.getTopRight(),p=this.getBottomLeft(),m=d.minus(u),v=p.minus(u);return(o.x-u.x)*m.x+(o.y-u.y)*m.y>=-l&&(o.x-d.x)*m.x+(o.y-d.y)*m.y<=l&&(o.x-u.x)*v.x+(o.y-u.y)*v.y>=-l&&(o.x-p.x)*v.x+(o.y-p.y)*v.y<=l},toString:function(){return"["+Math.round(this.x*100)/100+", "+Math.round(this.y*100)/100+", "+Math.round(this.width*100)/100+"x"+Math.round(this.height*100)/100+", "+Math.round(this.degrees*100)/100+"deg]"}}}(r),function(t){var o={};t.ReferenceStrip=function(C){var M=this,I=C.viewer,D=t.getElementSize(I.element),j,H,J;for(C.id||(C.id="referencestrip-"+t.now(),this.element=t.makeNeutralElement("div"),this.element.id=C.id,this.element.className="referencestrip"),C=t.extend(!0,{sizeRatio:t.DEFAULT_SETTINGS.referenceStripSizeRatio,position:t.DEFAULT_SETTINGS.referenceStripPosition,scroll:t.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold},C,{element:this.element}),t.extend(this,C),o[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,this.element.tabIndex=0,H=this.element.style,H.marginTop="0px",H.marginRight="0px",H.marginBottom="0px",H.marginLeft="0px",H.left="0px",H.bottom="0px",H.border="0px",H.background="#000",H.position="relative",t.setElementTouchActionNone(this.element),t.setElementOpacity(this.element,.8),this.viewer=I,this.tracker=new t.MouseTracker({userData:"ReferenceStrip.tracker",element:this.element,clickHandler:t.delegate(this,l),dragHandler:t.delegate(this,u),scrollHandler:t.delegate(this,d),enterHandler:t.delegate(this,m),leaveHandler:t.delegate(this,v),keyDownHandler:t.delegate(this,x),keyHandler:t.delegate(this,k),preProcessEventHandler:function(q){q.eventType==="wheel"&&(q.preventDefault=!0)}}),C.width&&C.height?(this.element.style.width=C.width+"px",this.element.style.height=C.height+"px",I.addControl(this.element,{anchor:t.ControlAnchor.BOTTOM_LEFT})):C.scroll==="horizontal"?(this.element.style.width=D.x*C.sizeRatio*I.tileSources.length+12*I.tileSources.length+"px",this.element.style.height=D.y*C.sizeRatio+"px",I.addControl(this.element,{anchor:t.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=D.y*C.sizeRatio*I.tileSources.length+12*I.tileSources.length+"px",this.element.style.width=D.x*C.sizeRatio+"px",I.addControl(this.element,{anchor:t.ControlAnchor.TOP_LEFT})),this.panelWidth=D.x*this.sizeRatio+8,this.panelHeight=D.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},J=0;J<I.tileSources.length;J++)j=t.makeNeutralElement("div"),j.id=this.element.id+"-"+J,j.style.width=M.panelWidth+"px",j.style.height=M.panelHeight+"px",j.style.display="inline",j.style.float="left",j.style.cssFloat="left",j.style.styleFloat="left",j.style.padding="2px",t.setElementTouchActionNone(j),t.setElementPointerEventsNone(j),this.element.appendChild(j),j.activePanel=!1,this.panels.push(j);p(this,this.scroll==="vertical"?D.y:D.x,0),this.setFocus(0)},t.ReferenceStrip.prototype={setFocus:function(C){var M=this.element.querySelector("#"+this.element.id+"-"+C),I=t.getElementSize(this.viewer.canvas),D=Number(this.element.style.width.replace("px","")),j=Number(this.element.style.height.replace("px","")),H=-Number(this.element.style.marginLeft.replace("px","")),J=-Number(this.element.style.marginTop.replace("px","")),q;this.currentSelected!==M&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=M,this.currentSelected.style.background="#999",this.scroll==="horizontal"?(q=Number(C)*(this.panelWidth+3),q>H+I.x-this.panelWidth?(q=Math.min(q,D-I.x),this.element.style.marginLeft=-q+"px",p(this,I.x,-q)):q<H&&(q=Math.max(0,q-I.x/2),this.element.style.marginLeft=-q+"px",p(this,I.x,-q))):(q=Number(C)*(this.panelHeight+3),q>J+I.y-this.panelHeight?(q=Math.min(q,j-I.y),this.element.style.marginTop=-q+"px",p(this,I.y,-q)):q<J&&(q=Math.max(0,q-I.y/2),this.element.style.marginTop=-q+"px",p(this,I.y,-q))),this.currentPage=C,m.call(this,{eventSource:this.tracker}))},update:function(){return!!o[this.id].animating},destroy:function(){if(this.miniViewers)for(var C in this.miniViewers)this.miniViewers[C].destroy();this.tracker.destroy(),this.element&&this.viewer.removeControl(this.element)}};function l(C){if(C.quick){var M;this.scroll==="horizontal"?M=Math.floor(C.position.x/this.panelWidth):M=Math.floor(C.position.y/this.panelHeight),this.viewer.goToPage(M)}this.element.focus()}function u(C){if(this.dragging=!0,this.element){var M=Number(this.element.style.marginLeft.replace("px","")),I=Number(this.element.style.marginTop.replace("px","")),D=Number(this.element.style.width.replace("px","")),j=Number(this.element.style.height.replace("px","")),H=t.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?-C.delta.x>0?M>-(D-H.x)&&(this.element.style.marginLeft=M+C.delta.x*2+"px",p(this,H.x,M+C.delta.x*2)):-C.delta.x<0&&M<0&&(this.element.style.marginLeft=M+C.delta.x*2+"px",p(this,H.x,M+C.delta.x*2)):-C.delta.y>0?I>-(j-H.y)&&(this.element.style.marginTop=I+C.delta.y*2+"px",p(this,H.y,I+C.delta.y*2)):-C.delta.y<0&&I<0&&(this.element.style.marginTop=I+C.delta.y*2+"px",p(this,H.y,I+C.delta.y*2))}}function d(C){if(this.element){var M=Number(this.element.style.marginLeft.replace("px","")),I=Number(this.element.style.marginTop.replace("px","")),D=Number(this.element.style.width.replace("px","")),j=Number(this.element.style.height.replace("px","")),H=t.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?C.scroll>0?M>-(D-H.x)&&(this.element.style.marginLeft=M-C.scroll*60+"px",p(this,H.x,M-C.scroll*60)):C.scroll<0&&M<0&&(this.element.style.marginLeft=M-C.scroll*60+"px",p(this,H.x,M-C.scroll*60)):C.scroll<0?I>H.y-j&&(this.element.style.marginTop=I+C.scroll*60+"px",p(this,H.y,I+C.scroll*60)):C.scroll>0&&I<0&&(this.element.style.marginTop=I+C.scroll*60+"px",p(this,H.y,I+C.scroll*60)),C.preventDefault=!0}}function p(C,M,I){var D,j,H,J,q,W;for(C.scroll==="horizontal"?D=C.panelWidth:D=C.panelHeight,j=Math.ceil(M/D)+5,H=Math.ceil((Math.abs(I)+M)/D)+1,j=H-j,j=j<0?0:j,q=j;q<H&&q<C.panels.length;q++)if(W=C.panels[q],!W.activePanel){var st,mt=C.viewer.tileSources[q];mt.referenceStripThumbnailUrl?st={type:"image",url:mt.referenceStripThumbnailUrl}:st=mt,J=new t.Viewer({id:W.id,tileSources:[st],element:W,navigatorSizeRatio:C.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:C.viewer.loadTilesWithAjax,ajaxHeaders:C.viewer.ajaxHeaders,useCanvas:C.useCanvas}),t.setElementPointerEventsNone(J.canvas),t.setElementPointerEventsNone(J.container),J.innerTracker.setTracking(!1),J.outerTracker.setTracking(!1),C.miniViewers[W.id]=J,W.activePanel=!0}}function m(C){var M=C.eventSource.element;this.scroll==="horizontal"?M.style.marginBottom="0px":M.style.marginLeft="0px"}function v(C){var M=C.eventSource.element;this.scroll==="horizontal"?M.style.marginBottom="-"+t.getElementSize(M).y/2+"px":M.style.marginLeft="-"+t.getElementSize(M).x/2+"px"}function x(C){if(!C.ctrl&&!C.alt&&!C.meta)switch(C.keyCode){case 38:d.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;case 40:d.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 37:d.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 39:d.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;default:C.preventDefault=!1;break}else C.preventDefault=!1}function k(C){if(!C.ctrl&&!C.alt&&!C.meta)switch(C.keyCode){case 61:d.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;case 45:d.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 48:case 119:case 87:d.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;case 115:case 83:d.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 97:d.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 100:d.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;default:C.preventDefault=!1;break}else C.preventDefault=!1}}(r),function(t){t.DisplayRect=function(o,l,u,d,p,m){t.Rect.apply(this,[o,l,u,d]),this.minLevel=p,this.maxLevel=m},t.extend(t.DisplayRect.prototype,t.Rect.prototype)}(r),function(t){t.Spring=function(l){var u=arguments;typeof l!="object"&&(l={initial:u.length&&typeof u[0]=="number"?u[0]:void 0,springStiffness:u.length>1?u[1].springStiffness:5,animationTime:u.length>1?u[1].animationTime:1.5}),t.console.assert(typeof l.springStiffness=="number"&&l.springStiffness!==0,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),t.console.assert(typeof l.animationTime=="number"&&l.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),l.exponential&&(this._exponential=!0,delete l.exponential),t.extend(!0,this,l),this.current={value:typeof this.initial=="number"?this.initial:this._exponential?0:1,time:t.now()},t.console.assert(!this._exponential||this.current.value!==0,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},t.Spring.prototype={resetTo:function(l){t.console.assert(!this._exponential||l!==0,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=l,this.start.time=this.target.time=this.current.time=t.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(l){t.console.assert(!this._exponential||l!==0,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=l,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(l){this.start.value+=l,this.target.value+=l,this._exponential&&(t.console.assert(this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(l){this._exponential=l,this._exponential&&(t.console.assert(this.current.value!==0&&this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){this.current.time=t.now();var l,u;this._exponential?(l=this.start._logValue,u=this.target._logValue):(l=this.start.value,u=this.target.value);var d=this.current.time>=this.target.time?u:l+(u-l)*o(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),p=this.current.value;return this._exponential?this.current.value=Math.exp(d):this.current.value=d,p!==this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}};function o(l,u){return(1-Math.exp(l*-u))/(1-Math.exp(-l))}}(r),function(t){t.ImageJob=function(l){t.extend(!0,this,{timeout:t.DEFAULT_SETTINGS.timeout,jobId:null},l),this.data=null,this.userData={},this.errorMsg=null},t.ImageJob.prototype={start:function(){var l=this,u=this.abort;this.jobId=window.setTimeout(function(){l.finish(null,null,"Image load exceeded timeout ("+l.timeout+" ms)")},this.timeout),this.abort=function(){l.source.downloadTileAbort(l),typeof u=="function"&&u()},this.source.downloadTileStart(this)},finish:function(l,u,d){this.data=l,this.request=u,this.errorMsg=d,this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},t.ImageLoader=function(l){t.extend(!0,this,{jobLimit:t.DEFAULT_SETTINGS.imageLoaderLimit,timeout:t.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},l)},t.ImageLoader.prototype={addJob:function(l){if(!l.source){t.console.error("ImageLoader.prototype.addJob() requires [options.source]. TileSource since new API defines how images are fetched. Creating a dummy TileSource.");var u=t.TileSource.prototype;l.source={downloadTileStart:u.downloadTileStart,downloadTileAbort:u.downloadTileAbort}}var d=this,p=function(x){o(d,x,l.callback)},m={src:l.src,tile:l.tile||{},source:l.source,loadWithAjax:l.loadWithAjax,ajaxHeaders:l.loadWithAjax?l.ajaxHeaders:null,crossOriginPolicy:l.crossOriginPolicy,ajaxWithCredentials:l.ajaxWithCredentials,postData:l.postData,callback:p,abort:l.abort,timeout:this.timeout},v=new t.ImageJob(m);!this.jobLimit||this.jobsInProgress<this.jobLimit?(v.start(),this.jobsInProgress++):this.jobQueue.push(v)},clear:function(){for(var l=0;l<this.jobQueue.length;l++){var u=this.jobQueue[l];typeof u.abort=="function"&&u.abort()}this.jobQueue=[]}};function o(l,u,d){var p;l.jobsInProgress--,(!l.jobLimit||l.jobsInProgress<l.jobLimit)&&l.jobQueue.length>0&&(p=l.jobQueue.shift(),p.start(),l.jobsInProgress++),d(u.data,u.errorMsg,u.request)}}(r),function(t){t.Tile=function(o,l,u,d,p,m,v,x,k,C,M,I){this.level=o,this.x=l,this.y=u,this.bounds=d,this.sourceBounds=C,this.exists=p,this._url=m,this.postData=M,this.context2D=v,this.loadWithAjax=x,this.ajaxHeaders=k,I===void 0&&(t.console.warn("Tile constructor needs 'cacheKey' variable: creation tile cache in Tile class is deprecated. TileSource.prototype.getTileHashKey will be used."),I=t.TileSource.prototype.getTileHashKey(o,l,u,m,k,M)),this.cacheKey=I,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.style=null,this.position=null,this.size=null,this.flipped=!1,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.hasTransparency=!1,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},t.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return console.warn("Tile.prototype._hasTransparencyChannel() has been deprecated and will be removed in the future. Use TileSource.prototype.hasTransparency() instead."),!!this.context2D||this.getUrl().match(".png")},drawHTML:function(o){if(!this.cacheImageRecord){t.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString());return}if(!this.loaded){t.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}if(!this.element){var l=this.getImage();if(!l)return;this.element=t.makeNeutralElement("div"),this.imgElement=l.cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"}this.element.parentNode!==o&&o.appendChild(this.element),this.imgElement.parentNode!==this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",this.flipped&&(this.style.transform="scaleX(-1)"),t.setElementOpacity(this.element,this.opacity)},get image(){return t.console.error("[Tile.image] property has been deprecated. Use [Tile.prototype.getImage] instead."),this.getImage()},get url(){return t.console.error("[Tile.url] property has been deprecated. Use [Tile.prototype.getUrl] instead."),this.getUrl()},getImage:function(){return this.cacheImageRecord.getImage()},getUrl:function(){return typeof this._url=="function"?this._url():this._url},getCanvasContext:function(){return this.context2D||this.cacheImageRecord.getRenderedContext()},drawCanvas:function(o,l,u,d,p,m){var v=this.position.times(t.pixelDensityRatio),x=this.size.times(t.pixelDensityRatio),k;if(!this.context2D&&!this.cacheImageRecord){t.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString());return}if(k=this.getCanvasContext(),!this.loaded||!k){t.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}o.save(),o.globalAlpha=this.opacity,typeof u=="number"&&u!==1&&(v=v.times(u),x=x.times(u)),d instanceof t.Point&&(v=v.plus(d)),o.globalAlpha===1&&this.hasTransparency&&(p&&(v.x=Math.round(v.x),v.y=Math.round(v.y),x.x=Math.round(x.x),x.y=Math.round(x.y)),o.clearRect(v.x,v.y,x.x,x.y)),l({context:o,tile:this,rendered:k});var C,M;this.sourceBounds?(C=Math.min(this.sourceBounds.width,k.canvas.width),M=Math.min(this.sourceBounds.height,k.canvas.height)):(C=k.canvas.width,M=k.canvas.height),o.translate(v.x+x.x/2,0),this.flipped&&o.scale(-1,1),o.drawImage(k.canvas,0,0,C,M,-x.x/2,v.y,x.x,x.y),o.restore()},getScaleForEdgeSmoothing:function(){var o;if(this.cacheImageRecord)o=this.cacheImageRecord.getRenderedContext();else if(this.context2D)o=this.context2D;else return t.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;return o.canvas.width/(this.size.x*t.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(o,l,u){var d=Math.max(1,Math.ceil((u.x-l.x)/2)),p=Math.max(1,Math.ceil((u.y-l.y)/2));return new t.Point(d,p).minus(this.position.times(t.pixelDensityRatio).times(o||1).apply(function(m){return m%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(r),function(t){t.OverlayPlacement=t.Placement,t.OverlayRotationMode=t.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),t.Overlay=function(o,l,u){var d;t.isPlainObject(o)?d=o:d={element:o,location:l,placement:u},this.element=d.element,this.style=d.element.style,this._init(d)},t.Overlay.prototype={_init:function(o){this.location=o.location,this.placement=o.placement===void 0?t.Placement.TOP_LEFT:o.placement,this.onDraw=o.onDraw,this.checkResize=o.checkResize===void 0?!0:o.checkResize,this.width=o.width===void 0?null:o.width,this.height=o.height===void 0?null:o.height,this.rotationMode=o.rotationMode||t.OverlayRotationMode.EXACT,this.location instanceof t.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=t.Placement.TOP_LEFT),this.scales=this.width!==null&&this.height!==null,this.bounds=new t.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(o,l){var u=t.Placement.properties[this.placement];u&&(u.isHorizontallyCentered?o.x-=l.x/2:u.isRight&&(o.x-=l.x),u.isVerticallyCentered?o.y-=l.y/2:u.isBottom&&(o.y-=l.y))},destroy:function(){var o=this.element,l=this.style;o.parentNode&&(o.parentNode.removeChild(o),o.prevElementParent&&(l.display="none",document.body.appendChild(o))),this.onDraw=null,l.top="",l.left="",l.position="",this.width!==null&&(l.width=""),this.height!==null&&(l.height="");var u=t.getCssPropertyWithVendorPrefix("transformOrigin"),d=t.getCssPropertyWithVendorPrefix("transform");u&&d&&(l[u]="",l[d]="")},drawHTML:function(o,l){var u=this.element;u.parentNode!==o&&(u.prevElementParent=u.parentNode,u.prevNextSibling=u.nextSibling,o.appendChild(u),this.style.position="absolute",this.size=t.getElementSize(u));var d=this._getOverlayPositionAndSize(l),p=d.position,m=this.size=d.size,v=d.rotate;if(this.onDraw)this.onDraw(p,m,this.element);else{var x=this.style;x.left=p.x+"px",x.top=p.y+"px",this.width!==null&&(x.width=m.x+"px"),this.height!==null&&(x.height=m.y+"px");var k=t.getCssPropertyWithVendorPrefix("transformOrigin"),C=t.getCssPropertyWithVendorPrefix("transform");k&&C&&(v?(x[k]=this._getTransformOrigin(),x[C]="rotate("+v+"deg)"):(x[k]="",x[C]="")),x.display="block"}},_getOverlayPositionAndSize:function(o){var l=o.pixelFromPoint(this.location,!0),u=this._getSizeInPixels(o);this.adjust(l,u);var d=0;if(o.getRotation(!0)&&this.rotationMode!==t.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===t.OverlayRotationMode.BOUNDING_BOX&&this.width!==null&&this.height!==null){var p=new t.Rect(l.x,l.y,u.x,u.y),m=this._getBoundingBox(p,o.getRotation(!0));l=m.getTopLeft(),u=m.getSize()}else d=o.getRotation(!0);return{position:l,size:u,rotate:d}},_getSizeInPixels:function(o){var l=this.size.x,u=this.size.y;if(this.width!==null||this.height!==null){var d=o.deltaPixelsFromPointsNoRotate(new t.Point(this.width||0,this.height||0),!0);this.width!==null&&(l=d.x),this.height!==null&&(u=d.y)}if(this.checkResize&&(this.width===null||this.height===null)){var p=this.size=t.getElementSize(this.element);this.width===null&&(l=p.x),this.height===null&&(u=p.y)}return new t.Point(l,u)},_getBoundingBox:function(o,l){var u=this._getPlacementPoint(o);return o.rotate(l,u).getBoundingBox()},_getPlacementPoint:function(o){var l=new t.Point(o.x,o.y),u=t.Placement.properties[this.placement];return u&&(u.isHorizontallyCentered?l.x+=o.width/2:u.isRight&&(l.x+=o.width),u.isVerticallyCentered?l.y+=o.height/2:u.isBottom&&(l.y+=o.height)),l},_getTransformOrigin:function(){var o="",l=t.Placement.properties[this.placement];return l&&(l.isLeft?o="left":l.isRight&&(o="right"),l.isTop?o+=" top":l.isBottom&&(o+=" bottom")),o},update:function(o,l){var u=t.isPlainObject(o)?o:{location:o,placement:l};this._init({location:u.location||this.location,placement:u.placement!==void 0?u.placement:this.placement,onDraw:u.onDraw||this.onDraw,checkResize:u.checkResize||this.checkResize,width:u.width!==void 0?u.width:this.width,height:u.height!==void 0?u.height:this.height,rotationMode:u.rotationMode||this.rotationMode})},getBounds:function(o){t.console.assert(o,"A viewport must now be passed to Overlay.getBounds.");var l=this.width,u=this.height;if(l===null||u===null){var d=o.deltaPointsFromPixelsNoRotate(this.size,!0);l===null&&(l=d.x),u===null&&(u=d.y)}var p=this.location.clone();return this.adjust(p,new t.Point(l,u)),this._adjustBoundsForRotation(o,new t.Rect(p.x,p.y,l,u))},_adjustBoundsForRotation:function(o,l){if(!o||o.getRotation(!0)===0||this.rotationMode===t.OverlayRotationMode.EXACT)return l;if(this.rotationMode===t.OverlayRotationMode.BOUNDING_BOX){if(this.width===null||this.height===null)return l;var u=this._getOverlayPositionAndSize(o);return o.viewerElementToViewportRectangle(new t.Rect(u.position.x,u.position.y,u.size.x,u.size.y))}return l.rotate(-o.getRotation(!0),this._getPlacementPoint(l))}}}(r),function(t){t.Drawer=function(o){t.console.assert(o.viewer,"[Drawer] options.viewer is required");var l=arguments;if(t.isPlainObject(o)||(o={source:l[0],viewport:l[1],element:l[2]}),t.console.assert(o.viewport,"[Drawer] options.viewport is required"),t.console.assert(o.element,"[Drawer] options.element is required"),o.source&&t.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=o.viewer,this.viewport=o.viewport,this.debugGridColor=typeof o.debugGridColor=="string"?[o.debugGridColor]:o.debugGridColor||t.DEFAULT_SETTINGS.debugGridColor,o.opacity&&t.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=t.supportsCanvas&&(this.viewer?this.viewer.useCanvas:!0),this.container=t.getElement(o.element),this.canvas=t.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var u=this._calculateCanvasSize();this.canvas.width=u.x,this.canvas.height=u.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",t.setElementOpacity(this.canvas,this.opacity,!0),t.setElementPointerEventsNone(this.canvas),t.setElementTouchActionNone(this.canvas),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},t.Drawer.prototype={addOverlay:function(o,l,u,d){return t.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(o,l,u,d),this},updateOverlay:function(o,l,u){return t.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(o,l,u),this},removeOverlay:function(o){return t.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(o),this},clearOverlays:function(){return t.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},viewportCoordToDrawerCoord:function(o){var l=this.viewport.pixelFromPointNoRotate(o,!0);return new t.Point(l.x*t.pixelDensityRatio,l.y*t.pixelDensityRatio)},clipWithPolygons:function(o,l){if(this.useCanvas){var u=this._getContext(l);u.beginPath(),o.forEach(function(d){d.forEach(function(p,m){u[m===0?"moveTo":"lineTo"](p.x,p.y)})}),u.clip()}},setOpacity:function(o){t.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var l=this.viewer.world,u=0;u<l.getItemCount();u++)l.getItemAt(u).setOpacity(o);return this},getOpacity:function(){t.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var o=this.viewer.world,l=0,u=0;u<o.getItemCount();u++){var d=o.getItemAt(u).getOpacity();d>l&&(l=d)}return l},needsUpdate:function(){return t.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return t.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return t.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return t.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var o=this._calculateCanvasSize();if((this.canvas.width!==o.x||this.canvas.height!==o.y)&&(this.canvas.width=o.x,this.canvas.height=o.y,this._updateImageSmoothingEnabled(this.context),this.sketchCanvas!==null)){var l=this._calculateSketchCanvasSize();this.sketchCanvas.width=l.x,this.sketchCanvas.height=l.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(o,l){if(this.useCanvas){var u=this._getContext(o);if(l)u.clearRect(l.x,l.y,l.width,l.height);else{var d=u.canvas;u.clearRect(0,0,d.width,d.height)}}},viewportToDrawerRectangle:function(o){var l=this.viewport.pixelFromPointNoRotate(o.getTopLeft(),!0),u=this.viewport.deltaPixelsFromPointsNoRotate(o.getSize(),!0);return new t.Rect(l.x*t.pixelDensityRatio,l.y*t.pixelDensityRatio,u.x*t.pixelDensityRatio,u.y*t.pixelDensityRatio)},drawTile:function(o,l,u,d,p,m,v){if(t.console.assert(o,"[Drawer.drawTile] tile is required"),t.console.assert(l,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var x=this._getContext(u);d=d||1,o.drawCanvas(x,l,d,p,m,v)}else o.drawHTML(this.canvas)},_getContext:function(o){var l=this.context;if(o){if(this.sketchCanvas===null){this.sketchCanvas=document.createElement("canvas");var u=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=u.x,this.sketchCanvas.height=u.y,this.sketchContext=this.sketchCanvas.getContext("2d"),this.viewport.getRotation()===0){var d=this;this.viewer.addHandler("rotate",function p(){if(d.viewport.getRotation()!==0){d.viewer.removeHandler("rotate",p);var m=d._calculateSketchCanvasSize();d.sketchCanvas.width=m.x,d.sketchCanvas.height=m.y}})}this._updateImageSmoothingEnabled(this.sketchContext)}l=this.sketchContext}return l},saveContext:function(o){this.useCanvas&&this._getContext(o).save()},restoreContext:function(o){this.useCanvas&&this._getContext(o).restore()},setClip:function(o,l){if(this.useCanvas){var u=this._getContext(l);u.beginPath(),u.rect(o.x,o.y,o.width,o.height),u.clip()}},drawRectangle:function(o,l,u){if(this.useCanvas){var d=this._getContext(u);d.save(),d.fillStyle=l,d.fillRect(o.x,o.y,o.width,o.height),d.restore()}},blendSketch:function(o,l,u,d){var p=o;if(t.isPlainObject(p)||(p={opacity:o,scale:l,translate:u,compositeOperation:d}),!(!this.useCanvas||!this.sketchCanvas)){o=p.opacity,d=p.compositeOperation;var m=p.bounds;if(this.context.save(),this.context.globalAlpha=o,d&&(this.context.globalCompositeOperation=d),m)m.x<0&&(m.width+=m.x,m.x=0),m.x+m.width>this.canvas.width&&(m.width=this.canvas.width-m.x),m.y<0&&(m.height+=m.y,m.y=0),m.y+m.height>this.canvas.height&&(m.height=this.canvas.height-m.y),this.context.drawImage(this.sketchCanvas,m.x,m.y,m.width,m.height,m.x,m.y,m.width,m.height);else{l=p.scale||1,u=p.translate;var v=u instanceof t.Point?u:new t.Point(0,0),x=0,k=0;if(u){var C=this.sketchCanvas.width-this.canvas.width,M=this.sketchCanvas.height-this.canvas.height;x=Math.round(C/2),k=Math.round(M/2)}this.context.drawImage(this.sketchCanvas,v.x-x*l,v.y-k*l,(this.canvas.width+2*x)*l,(this.canvas.height+2*k)*l,-x,-k,this.canvas.width+2*x,this.canvas.height+2*k)}this.context.restore()}},drawDebugInfo:function(o,l,u,d){if(this.useCanvas){var p=this.viewer.world.getIndexOfItem(d)%this.debugGridColor.length,m=this.context;m.save(),m.lineWidth=2*t.pixelDensityRatio,m.font="small-caps bold "+13*t.pixelDensityRatio+"px arial",m.strokeStyle=this.debugGridColor[p],m.fillStyle=this.debugGridColor[p],this.viewport.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:this.viewport.getRotation(!0)}),d.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:d.getRotation(!0),point:d.viewport.pixelFromPointNoRotate(d._getRotationPoint(!0),!0)}),d.viewport.getRotation(!0)%360===0&&d.getRotation(!0)%360===0&&d._drawer.viewer.viewport.getFlip()&&d._drawer._flip(),m.strokeRect(o.position.x*t.pixelDensityRatio,o.position.y*t.pixelDensityRatio,o.size.x*t.pixelDensityRatio,o.size.y*t.pixelDensityRatio);var v=(o.position.x+o.size.x/2)*t.pixelDensityRatio,x=(o.position.y+o.size.y/2)*t.pixelDensityRatio;m.translate(v,x),m.rotate(Math.PI/180*-this.viewport.getRotation(!0)),m.translate(-v,-x),o.x===0&&o.y===0&&(m.fillText("Zoom: "+this.viewport.getZoom(),o.position.x*t.pixelDensityRatio,(o.position.y-30)*t.pixelDensityRatio),m.fillText("Pan: "+this.viewport.getBounds().toString(),o.position.x*t.pixelDensityRatio,(o.position.y-20)*t.pixelDensityRatio)),m.fillText("Level: "+o.level,(o.position.x+10)*t.pixelDensityRatio,(o.position.y+20)*t.pixelDensityRatio),m.fillText("Column: "+o.x,(o.position.x+10)*t.pixelDensityRatio,(o.position.y+30)*t.pixelDensityRatio),m.fillText("Row: "+o.y,(o.position.x+10)*t.pixelDensityRatio,(o.position.y+40)*t.pixelDensityRatio),m.fillText("Order: "+u+" of "+l,(o.position.x+10)*t.pixelDensityRatio,(o.position.y+50)*t.pixelDensityRatio),m.fillText("Size: "+o.size.toString(),(o.position.x+10)*t.pixelDensityRatio,(o.position.y+60)*t.pixelDensityRatio),m.fillText("Position: "+o.position.toString(),(o.position.x+10)*t.pixelDensityRatio,(o.position.y+70)*t.pixelDensityRatio),this.viewport.getRotation(!0)%360!==0&&this._restoreRotationChanges(),d.getRotation(!0)%360!==0&&this._restoreRotationChanges(),d.viewport.getRotation(!0)%360===0&&d.getRotation(!0)%360===0&&d._drawer.viewer.viewport.getFlip()&&d._drawer._flip(),m.restore()}},debugRect:function(o){if(this.useCanvas){var l=this.context;l.save(),l.lineWidth=2*t.pixelDensityRatio,l.strokeStyle=this.debugGridColor[0],l.fillStyle=this.debugGridColor[0],l.strokeRect(o.x*t.pixelDensityRatio,o.y*t.pixelDensityRatio,o.width*t.pixelDensityRatio,o.height*t.pixelDensityRatio),l.restore()}},setImageSmoothingEnabled:function(o){this.useCanvas&&(this._imageSmoothingEnabled=o,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(o){o.msImageSmoothingEnabled=this._imageSmoothingEnabled,o.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(o){var l=this._getContext(o).canvas;return new t.Point(l.width,l.height)},getCanvasCenter:function(){return new t.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(o){var l=o.point?o.point.times(t.pixelDensityRatio):this.getCanvasCenter(),u=this._getContext(o.useSketch);u.save(),u.translate(l.x,l.y),this.viewer.viewport.flipped?(u.rotate(Math.PI/180*-o.degrees),u.scale(-1,1)):u.rotate(Math.PI/180*o.degrees),u.translate(-l.x,-l.y)},_flip:function(o){o=o||{};var l=o.point?o.point.times(t.pixelDensityRatio):this.getCanvasCenter(),u=this._getContext(o.useSketch);u.translate(l.x,0),u.scale(-1,1),u.translate(-l.x,0)},_restoreRotationChanges:function(o){var l=this._getContext(o);l.restore()},_calculateCanvasSize:function(){var o=t.pixelDensityRatio,l=this.viewport.getContainerSize();return{x:Math.round(l.x*o),y:Math.round(l.y*o)}},_calculateSketchCanvasSize:function(){var o=this._calculateCanvasSize();if(this.viewport.getRotation()===0)return o;var l=Math.ceil(Math.sqrt(o.x*o.x+o.y*o.y));return{x:l,y:l}}}}(r),function(t){t.Viewport=function(o){var l=arguments;l.length&&l[0]instanceof t.Point&&(o={containerSize:l[0],contentSize:l[1],config:l[2]}),o.config&&(t.extend(!0,o,o.config),delete o.config),this._margins=t.extend({left:0,top:0,right:0,bottom:0},o.margins||{}),delete o.margins,o.initialDegrees=o.degrees,delete o.degrees,t.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,rotationPivot:null,viewer:null,springStiffness:t.DEFAULT_SETTINGS.springStiffness,animationTime:t.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:t.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:t.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:t.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:t.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:t.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:t.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:t.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:t.DEFAULT_SETTINGS.maxZoomLevel,initialDegrees:t.DEFAULT_SETTINGS.degrees,flipped:t.DEFAULT_SETTINGS.flipped,homeFillsViewer:t.DEFAULT_SETTINGS.homeFillsViewer,silenceMultiImageWarnings:t.DEFAULT_SETTINGS.silenceMultiImageWarnings},o),this._updateContainerInnerSize(),this.centerSpringX=new t.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new t.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new t.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.degreesSpring=new t.Spring({initial:o.initialDegrees,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,this._setContentBounds(new t.Rect(0,0,1,1),1),this.goHome(!0),this.update()},t.Viewport.prototype={get degrees(){return t.console.warn("Accessing [Viewport.degrees] is deprecated. Use viewport.getRotation instead."),this.getRotation()},set degrees(o){t.console.warn("Setting [Viewport.degrees] is deprecated. Use viewport.rotateTo, viewport.rotateBy, or viewport.setRotation instead."),this.rotateTo(o)},resetContentSize:function(o){return t.console.assert(o,"[Viewport.resetContentSize] contentSize is required"),t.console.assert(o instanceof t.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),t.console.assert(o.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),t.console.assert(o.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new t.Rect(0,0,1,o.y/o.x),o.x),this},setHomeBounds:function(o,l){t.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(o,l)},_setContentBounds:function(o,l){t.console.assert(o,"[Viewport._setContentBounds] bounds is required"),t.console.assert(o instanceof t.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),t.console.assert(o.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),t.console.assert(o.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=o.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(l),this._contentBounds=o.rotate(this.getRotation()).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(l),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:l,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var o=this._contentAspectRatio/this.getAspectRatio(),l;return this.homeFillsViewer?l=o>=1?o:1:l=o>=1?1:o,l/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var o=this._contentBounds.getCenter(),l=1/this.getHomeZoom(),u=l/this.getAspectRatio();return new t.Rect(o.x-l/2,o.y-u/2,l,u)},goHome:function(o){return this.viewer&&this.viewer.raiseEvent("home",{immediately:o}),this.fitBounds(this.getHomeBounds(),o)},getMinZoom:function(){var o=this.getHomeZoom(),l=this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*o;return l},getMaxZoom:function(){var o=this.maxZoomLevel;return o||(o=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,o/=this._contentBounds.width),Math.max(o,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new t.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return t.extend({},this._margins)},setMargins:function(o){t.console.assert(t.type(o)==="object","[Viewport.setMargins] margins must be an object"),this._margins=t.extend({left:0,top:0,right:0,bottom:0},o),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(o){return this.getBoundsNoRotate(o).rotate(-this.getRotation(o))},getBoundsNoRotate:function(o){var l=this.getCenter(o),u=1/this.getZoom(o),d=u/this.getAspectRatio();return new t.Rect(l.x-u/2,l.y-d/2,u,d)},getBoundsWithMargins:function(o){return this.getBoundsNoRotateWithMargins(o).rotate(-this.getRotation(o),this.getCenter(o))},getBoundsNoRotateWithMargins:function(o){var l=this.getBoundsNoRotate(o),u=this._containerInnerSize.x*this.getZoom(o);return l.x-=this._margins.left/u,l.y-=this._margins.top/u,l.width+=(this._margins.left+this._margins.right)/u,l.height+=(this._margins.top+this._margins.bottom)/u,l},getCenter:function(o){var l=new t.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),u=new t.Point(this.centerSpringX.target.value,this.centerSpringY.target.value),d,p,m,v,x,k,C,M;return o?l:this.zoomPoint?(d=this.pixelFromPoint(this.zoomPoint,!0),p=this.getZoom(),m=1/p,v=m/this.getAspectRatio(),x=new t.Rect(l.x-m/2,l.y-v/2,m,v),k=this._pixelFromPoint(this.zoomPoint,x),C=k.minus(d).rotate(-this.getRotation(!0)),M=C.divide(this._containerInnerSize.x*p),u.plus(M)):u},getZoom:function(o){return o?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(o){return Math.max(Math.min(o,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(o){var l=this.viewportToViewerElementRectangle(o).getBoundingBox(),u=this.viewportToViewerElementRectangle(this._contentBoundsNoRotate).getBoundingBox(),d=!1,p=!1;if(!this.wrapHorizontal){var m=l.x+l.width,v=u.x+u.width,x,k,C;l.width>u.width?x=this.visibilityRatio*u.width:x=this.visibilityRatio*l.width,k=u.x-m+x,C=v-l.x-x,x>u.width?(l.x+=(k+C)/2,d=!0):C<0?(l.x+=C,d=!0):k>0&&(l.x+=k,d=!0)}if(!this.wrapVertical){var M=l.y+l.height,I=u.y+u.height,D,j,H;l.height>u.height?D=this.visibilityRatio*u.height:D=this.visibilityRatio*l.height,j=u.y-M+D,H=I-l.y-D,D>u.height?(l.y+=(j+H)/2,p=!0):H<0?(l.y+=H,p=!0):j>0&&(l.y+=j,p=!0)}var J=d||p,q=J?this.viewerElementToViewportRectangle(l):o.clone();return q.xConstrained=d,q.yConstrained=p,q.constraintApplied=J,q},_raiseConstraintsEvent:function(o){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:o})},applyConstraints:function(o){var l=this.getZoom(),u=this._applyZoomConstraints(l);l!==u&&this.zoomTo(u,this.zoomPoint,o);var d=this.getConstrainedBounds(!1);return d.constraintApplied&&(this.fitBounds(d,o),this._raiseConstraintsEvent(o)),this},ensureVisible:function(o){return this.applyConstraints(o)},_fitBounds:function(o,l){l=l||{};var u=l.immediately||!1,d=l.constraints||!1,p=this.getAspectRatio(),m=o.getCenter(),v=new t.Rect(o.x,o.y,o.width,o.height,o.degrees+this.getRotation()).getBoundingBox();v.getAspectRatio()>=p?v.height=v.width/p:v.width=v.height*p,v.x=m.x-v.width/2,v.y=m.y-v.height/2;var x=1/v.width;if(u)return this.panTo(m,!0),this.zoomTo(x,null,!0),d&&this.applyConstraints(!0),this;var k=this.getCenter(!0),C=this.getZoom(!0);this.panTo(k,!0),this.zoomTo(C,null,!0);var M=this.getBounds(),I=this.getZoom();if(I===0||Math.abs(x/I-1)<1e-8)return this.zoomTo(x,null,!0),this.panTo(m,u),d&&this.applyConstraints(!1),this;if(d){this.panTo(m,!1),this.zoomTo(x,null,!1);var D=this.getConstrainedBounds();this.panTo(k,!0),this.zoomTo(C,null,!0),this.fitBounds(D)}else{var j=v.rotate(-this.getRotation()),H=j.getTopLeft().times(x).minus(M.getTopLeft().times(I)).divide(x-I);this.zoomTo(x,H,u)}return this},fitBounds:function(o,l){return this._fitBounds(o,{immediately:l,constraints:!1})},fitBoundsWithConstraints:function(o,l){return this._fitBounds(o,{immediately:l,constraints:!0})},fitVertically:function(o){var l=new t.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(l,o)},fitHorizontally:function(o){var l=new t.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(l,o)},getConstrainedBounds:function(o){var l,u;return l=this.getBounds(o),u=this._applyBoundaryConstraints(l),u},panBy:function(o,l){var u=new t.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(u.plus(o),l)},panTo:function(o,l){return l?(this.centerSpringX.resetTo(o.x),this.centerSpringY.resetTo(o.y)):(this.centerSpringX.springTo(o.x),this.centerSpringY.springTo(o.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:o,immediately:l}),this},zoomBy:function(o,l,u){return this.zoomTo(this.zoomSpring.target.value*o,l,u)},zoomTo:function(o,l,u){var d=this;return this.zoomPoint=l instanceof t.Point&&!isNaN(l.x)&&!isNaN(l.y)?l:null,u?this._adjustCenterSpringsForZoomPoint(function(){d.zoomSpring.resetTo(o)}):this.zoomSpring.springTo(o),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:o,refPoint:l,immediately:u}),this},setRotation:function(o,l){return this.rotateTo(o,null,l)},getRotation:function(o){return o?this.degreesSpring.current.value:this.degreesSpring.target.value},setRotationWithPivot:function(o,l,u){return this.rotateTo(o,l,u)},rotateTo:function(o,l,u){if(!this.viewer||!this.viewer.drawer.canRotate())return this;if(this.degreesSpring.target.value===o&&this.degreesSpring.isAtTargetValue())return this;if(this.rotationPivot=l instanceof t.Point&&!isNaN(l.x)&&!isNaN(l.y)?l:null,u)if(this.rotationPivot){var d=o-this._oldDegrees;if(!d)return this.rotationPivot=null,this;this._rotateAboutPivot(o)}else this.degreesSpring.resetTo(o);else{var p=t.positiveModulo(this.degreesSpring.current.value,360),m=t.positiveModulo(o,360),v=m-p;v>180?m-=360:v<-180&&(m+=360);var x=p-m;this.degreesSpring.resetTo(o+x),this.degreesSpring.springTo(o)}return this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:o,immediately:!!u,pivot:this.rotationPivot||this.getCenter()}),this},rotateBy:function(o,l,u){return this.rotateTo(this.degreesSpring.target.value+o,l,u)},resize:function(o,l){var u=this.getBoundsNoRotate(),d=u,p;return this.containerSize.x=o.x,this.containerSize.y=o.y,this._updateContainerInnerSize(),l&&(p=o.x/this.containerSize.x,d.width=u.width*p,d.height=d.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:o,maintain:l}),this.fitBounds(d,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new t.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var o=this;this._adjustCenterSpringsForZoomPoint(function(){o.zoomSpring.update()}),this.degreesSpring.isAtTargetValue()&&(this.rotationPivot=null),this.centerSpringX.update(),this.centerSpringY.update(),this.rotationPivot?this._rotateAboutPivot(!0):this.degreesSpring.update();var l=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom||this.degreesSpring.current.value!==this._oldDegrees;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,l},_rotateAboutPivot:function(o){var l=o===!0,u=this.rotationPivot.minus(this.getCenter());this.centerSpringX.shiftBy(u.x),this.centerSpringY.shiftBy(u.y),l?this.degreesSpring.update():this.degreesSpring.resetTo(o);var d=this.degreesSpring.current.value-this._oldDegrees,p=u.rotate(d*-1).times(-1);this.centerSpringX.shiftBy(p.x),this.centerSpringY.shiftBy(p.y)},_adjustCenterSpringsForZoomPoint:function(o){if(this.zoomPoint){var l=this.pixelFromPoint(this.zoomPoint,!0);o();var u=this.pixelFromPoint(this.zoomPoint,!0),d=u.minus(l),p=this.deltaPointsFromPixels(d,!0);this.centerSpringX.shiftBy(p.x),this.centerSpringY.shiftBy(p.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else o()},deltaPixelsFromPointsNoRotate:function(o,l){return o.times(this._containerInnerSize.x*this.getZoom(l))},deltaPixelsFromPoints:function(o,l){return this.deltaPixelsFromPointsNoRotate(o.rotate(this.getRotation(l)),l)},deltaPointsFromPixelsNoRotate:function(o,l){return o.divide(this._containerInnerSize.x*this.getZoom(l))},deltaPointsFromPixels:function(o,l){return this.deltaPointsFromPixelsNoRotate(o,l).rotate(-this.getRotation(l))},pixelFromPointNoRotate:function(o,l){return this._pixelFromPointNoRotate(o,this.getBoundsNoRotate(l))},pixelFromPoint:function(o,l){return this._pixelFromPoint(o,this.getBoundsNoRotate(l))},_pixelFromPointNoRotate:function(o,l){return o.minus(l.getTopLeft()).times(this._containerInnerSize.x/l.width).plus(new t.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(o,l){return this._pixelFromPointNoRotate(o.rotate(this.getRotation(!0),this.getCenter(!0)),l)},pointFromPixelNoRotate:function(o,l){var u=this.getBoundsNoRotate(l);return o.minus(new t.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/u.width).plus(u.getTopLeft())},pointFromPixel:function(o,l){return this.pointFromPixelNoRotate(o,l).rotate(-this.getRotation(l),this.getCenter(l))},_viewportToImageDelta:function(o,l){var u=this._contentBoundsNoRotate.width;return new t.Point(o*this._contentSizeNoRotate.x/u,l*this._contentSizeNoRotate.x/u)},viewportToImageCoordinates:function(o,l){if(o instanceof t.Point)return this.viewportToImageCoordinates(o.x,o.y);if(this.viewer){var u=this.viewer.world.getItemCount();if(u>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(u===1){var d=this.viewer.world.getItemAt(0);return d.viewportToImageCoordinates(o,l,!0)}}return this._viewportToImageDelta(o-this._contentBoundsNoRotate.x,l-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(o,l){var u=this._contentBoundsNoRotate.width;return new t.Point(o/this._contentSizeNoRotate.x*u,l/this._contentSizeNoRotate.x*u)},imageToViewportCoordinates:function(o,l){if(o instanceof t.Point)return this.imageToViewportCoordinates(o.x,o.y);if(this.viewer){var u=this.viewer.world.getItemCount();if(u>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(u===1){var d=this.viewer.world.getItemAt(0);return d.imageToViewportCoordinates(o,l,!0)}}var p=this._imageToViewportDelta(o,l);return p.x+=this._contentBoundsNoRotate.x,p.y+=this._contentBoundsNoRotate.y,p},imageToViewportRectangle:function(o,l,u,d){var p=o;if(p instanceof t.Rect||(p=new t.Rect(o,l,u,d)),this.viewer){var m=this.viewer.world.getItemCount();if(m>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(m===1){var v=this.viewer.world.getItemAt(0);return v.imageToViewportRectangle(o,l,u,d,!0)}}var x=this.imageToViewportCoordinates(p.x,p.y),k=this._imageToViewportDelta(p.width,p.height);return new t.Rect(x.x,x.y,k.x,k.y,p.degrees)},viewportToImageRectangle:function(o,l,u,d){var p=o;if(p instanceof t.Rect||(p=new t.Rect(o,l,u,d)),this.viewer){var m=this.viewer.world.getItemCount();if(m>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(m===1){var v=this.viewer.world.getItemAt(0);return v.viewportToImageRectangle(o,l,u,d,!0)}}var x=this.viewportToImageCoordinates(p.x,p.y),k=this._viewportToImageDelta(p.width,p.height);return new t.Rect(x.x,x.y,k.x,k.y,p.degrees)},viewerElementToImageCoordinates:function(o){var l=this.pointFromPixel(o,!0);return this.viewportToImageCoordinates(l)},imageToViewerElementCoordinates:function(o){var l=this.imageToViewportCoordinates(o);return this.pixelFromPoint(l,!0)},windowToImageCoordinates:function(o){t.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var l=o.minus(t.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(l)},imageToWindowCoordinates:function(o){t.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer.");var l=this.imageToViewerElementCoordinates(o);return l.plus(t.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(o){return this.pointFromPixel(o,!0)},viewportToViewerElementCoordinates:function(o){return this.pixelFromPoint(o,!0)},viewerElementToViewportRectangle:function(o){return t.Rect.fromSummits(this.pointFromPixel(o.getTopLeft(),!0),this.pointFromPixel(o.getTopRight(),!0),this.pointFromPixel(o.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(o){return t.Rect.fromSummits(this.pixelFromPoint(o.getTopLeft(),!0),this.pixelFromPoint(o.getTopRight(),!0),this.pixelFromPoint(o.getBottomLeft(),!0))},windowToViewportCoordinates:function(o){t.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var l=o.minus(t.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(l)},viewportToWindowCoordinates:function(o){t.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer.");var l=this.viewportToViewerElementCoordinates(o);return l.plus(t.getElementPosition(this.viewer.element))},viewportToImageZoom:function(o){if(this.viewer){var l=this.viewer.world.getItemCount();if(l>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(l===1){var u=this.viewer.world.getItemAt(0);return u.viewportToImageZoom(o)}}var d=this._contentSizeNoRotate.x,p=this._containerInnerSize.x,m=this._contentBoundsNoRotate.width,v=p/d*m;return o*v},imageToViewportZoom:function(o){if(this.viewer){var l=this.viewer.world.getItemCount();if(l>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(l===1){var u=this.viewer.world.getItemAt(0);return u.imageToViewportZoom(o)}}var d=this._contentSizeNoRotate.x,p=this._containerInnerSize.x,m=this._contentBoundsNoRotate.width,v=d/p/m;return o*v},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(o){return this.flipped===o?this:(this.flipped=o,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:o}),this)}}}(r),function(t){t.TiledImage=function(p){var m=this;t.console.assert(p.tileCache,"[TiledImage] options.tileCache is required"),t.console.assert(p.drawer,"[TiledImage] options.drawer is required"),t.console.assert(p.viewer,"[TiledImage] options.viewer is required"),t.console.assert(p.imageLoader,"[TiledImage] options.imageLoader is required"),t.console.assert(p.source,"[TiledImage] options.source is required"),t.console.assert(!p.clip||p.clip instanceof t.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),t.EventSource.call(this),this._tileCache=p.tileCache,delete p.tileCache,this._drawer=p.drawer,delete p.drawer,this._imageLoader=p.imageLoader,delete p.imageLoader,p.clip instanceof t.Rect&&(this._clip=p.clip.clone()),delete p.clip;var v=p.x||0;delete p.x;var x=p.y||0;delete p.y,this.normHeight=p.source.dimensions.y/p.source.dimensions.x,this.contentAspectX=p.source.dimensions.x/p.source.dimensions.y;var k=1;p.width?(k=p.width,delete p.width,p.height&&(t.console.error("specifying both width and height to a tiledImage is not supported"),delete p.height)):p.height&&(k=p.height/this.normHeight,delete p.height);var C=p.fitBounds;delete p.fitBounds;var M=p.fitBoundsPlacement||r.Placement.CENTER;delete p.fitBoundsPlacement;var I=p.degrees||0;delete p.degrees,t.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:t.DEFAULT_SETTINGS.springStiffness,animationTime:t.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:t.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:t.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:t.DEFAULT_SETTINGS.wrapVertical,immediateRender:t.DEFAULT_SETTINGS.immediateRender,blendTime:t.DEFAULT_SETTINGS.blendTime,alwaysBlend:t.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:t.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:t.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:t.DEFAULT_SETTINGS.iOSDevice,debugMode:t.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:t.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:t.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:t.DEFAULT_SETTINGS.placeholderFillStyle,opacity:t.DEFAULT_SETTINGS.opacity,preload:t.DEFAULT_SETTINGS.preload,compositeOperation:t.DEFAULT_SETTINGS.compositeOperation,subPixelRoundingForTransparency:t.DEFAULT_SETTINGS.subPixelRoundingForTransparency},p),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new t.Spring({initial:v,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new t.Spring({initial:x,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new t.Spring({initial:k,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new t.Spring({initial:I,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),C&&this.fitBounds(C,M,!0),this._drawingHandler=function(D){m.viewer.raiseEvent("tile-drawing",t.extend({tiledImage:m},D))}},t.extend(t.TiledImage.prototype,t.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(p){p!==this._fullyLoaded&&(this._fullyLoaded=p,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=t.now(),this._needsDraw=!0},update:function(){var p=this._xSpring.update(),m=this._ySpring.update(),v=this._scaleSpring.update(),x=this._degreesSpring.update();return p||m||v||x?(this._updateForScale(),this._needsDraw=!0,!0):!1},draw:function(){this.opacity!==0||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset(),this.source.destroy&&this.source.destroy()},getBounds:function(p){return this.getBoundsNoRotate(p).rotate(this.getRotation(p),this._getRotationPoint(p))},getBoundsNoRotate:function(p){return p?new t.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new t.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return t.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(p){var m=this.getBoundsNoRotate(p);if(this._clip){var v=p?this._worldWidthCurrent:this._worldWidthTarget,x=v/this.source.dimensions.x,k=this._clip.times(x);m=new t.Rect(m.x+k.x,m.y+k.y,k.width,k.height)}return m.rotate(this.getRotation(p),this._getRotationPoint(p))},getTileBounds:function(p,m,v){var x=this.source.getNumTiles(p),k=(x.x+m%x.x)%x.x,C=(x.y+v%x.y)%x.y,M=this.source.getTileBounds(p,k,C);return this.getFlip()&&(M.x=1-M.x-M.width),M.x+=(m-k)/x.x,M.y+=this._worldHeightCurrent/this._worldWidthCurrent*((v-C)/x.y),M},getContentSize:function(){return new t.Point(this.source.dimensions.x,this.source.dimensions.y)},getSizeInWindowCoordinates:function(){var p=this.imageToWindowCoordinates(new t.Point(0,0)),m=this.imageToWindowCoordinates(this.getContentSize());return new t.Point(m.x-p.x,m.y-p.y)},_viewportToImageDelta:function(p,m,v){var x=v?this._scaleSpring.current.value:this._scaleSpring.target.value;return new t.Point(p*(this.source.dimensions.x/x),m*(this.source.dimensions.y*this.contentAspectX/x))},viewportToImageCoordinates:function(p,m,v){var x;return p instanceof t.Point?(v=m,x=p):x=new t.Point(p,m),x=x.rotate(-this.getRotation(v),this._getRotationPoint(v)),v?this._viewportToImageDelta(x.x-this._xSpring.current.value,x.y-this._ySpring.current.value):this._viewportToImageDelta(x.x-this._xSpring.target.value,x.y-this._ySpring.target.value)},_imageToViewportDelta:function(p,m,v){var x=v?this._scaleSpring.current.value:this._scaleSpring.target.value;return new t.Point(p/this.source.dimensions.x*x,m/this.source.dimensions.y/this.contentAspectX*x)},imageToViewportCoordinates:function(p,m,v){p instanceof t.Point&&(v=m,m=p.y,p=p.x);var x=this._imageToViewportDelta(p,m);return v?(x.x+=this._xSpring.current.value,x.y+=this._ySpring.current.value):(x.x+=this._xSpring.target.value,x.y+=this._ySpring.target.value),x.rotate(this.getRotation(v),this._getRotationPoint(v))},imageToViewportRectangle:function(p,m,v,x,k){var C=p;C instanceof t.Rect?k=m:C=new t.Rect(p,m,v,x);var M=this.imageToViewportCoordinates(C.getTopLeft(),k),I=this._imageToViewportDelta(C.width,C.height,k);return new t.Rect(M.x,M.y,I.x,I.y,C.degrees+this.getRotation(k))},viewportToImageRectangle:function(p,m,v,x,k){var C=p;p instanceof t.Rect?k=m:C=new t.Rect(p,m,v,x);var M=this.viewportToImageCoordinates(C.getTopLeft(),k),I=this._viewportToImageDelta(C.width,C.height,k);return new t.Rect(M.x,M.y,I.x,I.y,C.degrees-this.getRotation(k))},viewerElementToImageCoordinates:function(p){var m=this.viewport.pointFromPixel(p,!0);return this.viewportToImageCoordinates(m)},imageToViewerElementCoordinates:function(p){var m=this.imageToViewportCoordinates(p);return this.viewport.pixelFromPoint(m,!0)},windowToImageCoordinates:function(p){var m=p.minus(r.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(m)},imageToWindowCoordinates:function(p){var m=this.imageToViewerElementCoordinates(p);return m.plus(r.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(p){var m=this._scaleSpring.current.value;return p=p.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new t.Rect((p.x-this._xSpring.current.value)/m,(p.y-this._ySpring.current.value)/m,p.width/m,p.height/m,p.degrees)},viewportToImageZoom:function(p){var m=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return m*p},imageToViewportZoom:function(p){var m=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return p/m},setPosition:function(p,m){var v=this._xSpring.target.value===p.x&&this._ySpring.target.value===p.y;if(m){if(v&&this._xSpring.current.value===p.x&&this._ySpring.current.value===p.y)return;this._xSpring.resetTo(p.x),this._ySpring.resetTo(p.y),this._needsDraw=!0}else{if(v)return;this._xSpring.springTo(p.x),this._ySpring.springTo(p.y),this._needsDraw=!0}v||this._raiseBoundsChange()},setWidth:function(p,m){this._setScale(p,m)},setHeight:function(p,m){this._setScale(p/this.normHeight,m)},setCroppingPolygons:function(p){var m=function(x){return x instanceof t.Point||typeof x.x=="number"&&typeof x.y=="number"},v=function(x){return x.map(function(k){try{if(m(k))return{x:k.x,y:k.y};throw new Error}catch{throw new Error("A Provided cropping polygon point is not supported")}})};try{if(!t.isArray(p))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=p.map(function(x){return v(x)})}catch(x){t.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),t.console.error(x),this._croppingPolygons=null}},resetCroppingPolygons:function(){this._croppingPolygons=null},fitBounds:function(p,m,v){m=m||t.Placement.CENTER;var x=t.Placement.properties[m],k=this.contentAspectX,C=0,M=0,I=1,D=1;if(this._clip&&(k=this._clip.getAspectRatio(),I=this._clip.width/this.source.dimensions.x,D=this._clip.height/this.source.dimensions.y,p.getAspectRatio()>k?(C=this._clip.x/this._clip.height*p.height,M=this._clip.y/this._clip.height*p.height):(C=this._clip.x/this._clip.width*p.width,M=this._clip.y/this._clip.width*p.width)),p.getAspectRatio()>k){var j=p.height/D,H=0;x.isHorizontallyCentered?H=(p.width-p.height*k)/2:x.isRight&&(H=p.width-p.height*k),this.setPosition(new t.Point(p.x-C+H,p.y-M),v),this.setHeight(j,v)}else{var J=p.width/I,q=0;x.isVerticallyCentered?q=(p.height-p.width/k)/2:x.isBottom&&(q=p.height-p.width/k),this.setPosition(new t.Point(p.x-C,p.y-M+q),v),this.setWidth(J,v)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(p){t.console.assert(!p||p instanceof t.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),p instanceof t.Rect?this._clip=p.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getFlip:function(){return!!this.flipped},setFlip:function(p){this.flipped=!!p,this._needsDraw=!0,this._raiseBoundsChange()},getOpacity:function(){return this.opacity},setOpacity:function(p){p!==this.opacity&&(this.opacity=p,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(p){this._preload=!!p,this._needsDraw=!0},getRotation:function(p){return p?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(p,m){this._degreesSpring.target.value===p&&this._degreesSpring.isAtTargetValue()||(m?this._degreesSpring.resetTo(p):this._degreesSpring.springTo(p),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(p){return this.getBoundsNoRotate(p).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(p){p!==this.compositeOperation&&(this.compositeOperation=p,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(p,m){var v=this._scaleSpring.target.value===p;if(m){if(v&&this._scaleSpring.current.value===p)return;this._scaleSpring.resetTo(p),this._updateForScale(),this._needsDraw=!0}else{if(v)return;this._scaleSpring.springTo(p),this._updateForScale(),this._needsDraw=!0}v||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var p=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),m=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,v=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(m/this.minPixelRatio)/Math.log(2))));return v=Math.max(v,this.source.minLevel||0),p=Math.min(p,v),{lowestLevel:p,highestLevel:v}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;){var p=this.lastDrawn.pop();p.beingDrawn=!1}var m=this.viewport,v=this._viewportToTiledImageRectangle(m.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var x=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(v=v.intersection(x),v===null)return}for(var k=this._getLevelsInterval(),C=k.lowestLevel,M=k.highestLevel,I=null,D=!1,j=t.now(),H=M;H>=C;H--){var J=!1,q=m.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(H),!0).x*this._scaleSpring.current.value;if(H===C||!D&&q>=this.minPixelRatio)J=!0,D=!0;else if(!D)continue;var W=m.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(H),!1).x*this._scaleSpring.current.value,st=m.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,mt=this.immediateRender?1:st,gt=Math.min(1,(q-.5)/.5),ot=mt/Math.abs(mt-W);if(I=this._updateLevel(D,J,H,gt,ot,v,j,I),this._providesCoverage(this.coverage,H))break}this._drawTiles(this.lastDrawn),I&&!I.context2D?(this._loadTile(I,j),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(this._tilesLoading===0)},_getCornerTiles:function(p,m,v){var x,k;this.wrapHorizontal?(x=t.positiveModulo(m.x,1),k=t.positiveModulo(v.x,1)):(x=Math.max(0,m.x),k=Math.min(1,v.x));var C,M,I=1/this.source.aspectRatio;this.wrapVertical?(C=t.positiveModulo(m.y,I),M=t.positiveModulo(v.y,I)):(C=Math.max(0,m.y),M=Math.min(I,v.y));var D=this.source.getTileAtPoint(p,new t.Point(x,C)),j=this.source.getTileAtPoint(p,new t.Point(k,M)),H=this.source.getNumTiles(p);return this.wrapHorizontal&&(D.x+=H.x*Math.floor(m.x),j.x+=H.x*Math.floor(v.x)),this.wrapVertical&&(D.y+=H.y*Math.floor(m.y/I),j.y+=H.y*Math.floor(v.y/I)),{topLeft:D,bottomRight:j}},_updateLevel:function(p,m,v,x,k,C,M,I){var D=C.getBoundingBox().getTopLeft(),j=C.getBoundingBox().getBottomRight();this.viewer&&this.viewer.raiseEvent("update-level",{tiledImage:this,havedrawn:p,level:v,opacity:x,visibility:k,drawArea:C,topleft:D,bottomright:j,currenttime:M,best:I}),this._resetCoverage(this.coverage,v),this._resetCoverage(this.loadingCoverage,v);var H=this._getCornerTiles(v,D,j),J=H.topLeft,q=H.bottomRight,W=this.source.getNumTiles(v),st=this.viewport.pixelFromPoint(this.viewport.getCenter());this.getFlip()&&(q.x+=1,this.wrapHorizontal||(q.x=Math.min(q.x,W.x-1)));for(var mt=J.x;mt<=q.x;mt++)for(var gt=J.y;gt<=q.y;gt++){var ot;if(this.getFlip()){var U=(W.x+mt%W.x)%W.x;ot=mt+W.x-U-U-1}else ot=mt;C.intersection(this.getTileBounds(v,ot,gt))!==null&&(I=this._updateTile(m,p,ot,gt,v,x,k,st,W,M,I))}return I},_updateTile:function(p,m,v,x,k,C,M,I,D,j,H){var J=this._getTile(v,x,k,j,D,this._worldWidthCurrent,this._worldHeightCurrent),q=m;this.viewer&&this.viewer.raiseEvent("update-tile",{tiledImage:this,tile:J}),this._setCoverage(this.coverage,k,v,x,!1);var W=J.loaded||J.loading||this._isCovered(this.loadingCoverage,k,v,x);if(this._setCoverage(this.loadingCoverage,k,v,x,W),!J.exists||(p&&!q&&(this._isCovered(this.coverage,k,v,x)?this._setCoverage(this.coverage,k,v,x,!0):q=!0),!q))return H;if(this._positionTile(J,this.source.tileOverlap,this.viewport,I,M),!J.loaded)if(J.context2D)this._setTileLoaded(J);else{var st=this._tileCache.getImageRecord(J.cacheKey);st&&this._setTileLoaded(J,st.getData())}if(J.loaded){var mt=this._blendTile(J,v,x,k,C,j);mt&&(this._needsDraw=!0)}else J.loading?this._tilesLoading++:W||(H=this._compareTiles(H,J));return H},_getTile:function(p,m,v,x,k,C,M){var I,D,j,H,J,q,W,st,mt,gt,ot=this.tilesMatrix,U=this.source;return ot[v]||(ot[v]={}),ot[v][p]||(ot[v][p]={}),(!ot[v][p][m]||!ot[v][p][m].flipped!=!this.flipped)&&(I=(k.x+p%k.x)%k.x,D=(k.y+m%k.y)%k.y,j=this.getTileBounds(v,p,m),H=U.getTileBounds(v,I,D,!0),J=U.tileExists(v,I,D),q=U.getTileUrl(v,I,D),W=U.getTilePostData(v,I,D),this.loadTilesWithAjax?(st=U.getTileAjaxHeaders(v,I,D),t.isPlainObject(this.ajaxHeaders)&&(st=t.extend({},this.ajaxHeaders,st))):st=null,mt=U.getContext2D?U.getContext2D(v,I,D):void 0,gt=new t.Tile(v,p,m,j,J,q,mt,this.loadTilesWithAjax,st,H,W,U.getTileHashKey(v,I,D,q,st,W)),this.getFlip()?I===0&&(gt.isRightMost=!0):I===k.x-1&&(gt.isRightMost=!0),D===k.y-1&&(gt.isBottomMost=!0),gt.flipped=this.flipped,ot[v][p][m]=gt),gt=ot[v][p][m],gt.lastTouchTime=x,gt},_loadTile:function(p,m){var v=this;p.loading=!0,this._imageLoader.addJob({src:p.getUrl(),tile:p,source:this.source,postData:p.postData,loadWithAjax:p.loadWithAjax,ajaxHeaders:p.ajaxHeaders,crossOriginPolicy:this.crossOriginPolicy,ajaxWithCredentials:this.ajaxWithCredentials,callback:function(x,k,C){v._onTileLoad(p,m,x,k,C)},abort:function(){p.loading=!1}})},_onTileLoad:function(p,m,v,x,k){if(!v){t.console.error("Tile %s failed to load: %s - error: %s",p,p.getUrl(),x),this.viewer.raiseEvent("tile-load-failed",{tile:p,tiledImage:this,time:m,message:x,tileRequest:k}),p.loading=!1,p.exists=!1;return}if(m<this.lastResetTime){t.console.warn("Ignoring tile %s loaded before reset: %s",p,p.getUrl()),p.loading=!1;return}var C=this,M=function(){var I=C.source,D=I.getClosestLevel();C._setTileLoaded(p,v,D,k)};this._midDraw?window.setTimeout(M,1):M()},_setTileLoaded:function(p,m,v,x){var k=0,C=this;function M(){return k++,I}function I(){k--,k===0&&(p.loading=!1,p.loaded=!0,p.hasTransparency=C.source.hasTransparency(p.context2D,p.getUrl(),p.ajaxHeaders,p.postData),p.context2D||C._tileCache.cacheTile({data:m,tile:p,cutoff:v,tiledImage:C}),C._needsDraw=!0)}this.viewer.raiseEvent("tile-loaded",{tile:p,tiledImage:this,tileRequest:x,get image(){return t.console.error("[tile-loaded] event 'image' has been deprecated. Use 'data' property instead."),m},data:m,getCompletionCallback:M}),M()()},_positionTile:function(p,m,v,x,k){var C=p.bounds.getTopLeft();C.x*=this._scaleSpring.current.value,C.y*=this._scaleSpring.current.value,C.x+=this._xSpring.current.value,C.y+=this._ySpring.current.value;var M=p.bounds.getSize();M.x*=this._scaleSpring.current.value,M.y*=this._scaleSpring.current.value;var I=v.pixelFromPointNoRotate(C,!0),D=v.pixelFromPointNoRotate(C,!1),j=v.deltaPixelsFromPointsNoRotate(M,!0),H=v.deltaPixelsFromPointsNoRotate(M,!1),J=D.plus(H.divide(2)),q=x.squaredDistanceTo(J);m||(j=j.plus(new t.Point(1,1))),p.isRightMost&&this.wrapHorizontal&&(j.x+=.75),p.isBottomMost&&this.wrapVertical&&(j.y+=.75),p.position=I,p.size=j,p.squaredDistance=q,p.visibility=k},_blendTile:function(p,m,v,x,k,C){var M=1e3*this.blendTime,I,D;if(p.blendStart||(p.blendStart=C),I=C-p.blendStart,D=M?Math.min(1,I/M):1,this.alwaysBlend&&(D*=k),p.opacity=D,this.lastDrawn.push(p),D===1)this._setCoverage(this.coverage,x,m,v,!0),this._hasOpaqueTile=!0;else if(I<M)return!0;return!1},_compareTiles:function(p,m){return!p||m.visibility>p.visibility||m.visibility===p.visibility&&m.squaredDistance<p.squaredDistance?m:p},_drawTiles:function(p){if(!(this.opacity===0||p.length===0&&!this.placeholderFillStyle)){var m=p[0],v;m&&(v=this.opacity<1||this.compositeOperation&&this.compositeOperation!=="source-over"||!this._isBottomItem()&&this.source.hasTransparency(m.context2D,m.getUrl(),m.ajaxHeaders,m.postData));var x,k,C=this.viewport.getZoom(!0),M=this.viewportToImageZoom(C);p.length>1&&M>this.smoothTileEdgesMinZoom&&!this.iOSDevice&&this.getRotation(!0)%360===0&&t.supportsCanvas&&this.viewer.useCanvas&&(v=!0,x=m.getScaleForEdgeSmoothing(),k=m.getTranslationForEdgeSmoothing(x,this._drawer.getCanvasSize(!1),this._drawer.getCanvasSize(!0)));var I;v&&(x||(I=this.viewport.viewportToViewerElementRectangle(this.getClippedBounds(!0)).getIntegerBoundingBox(),this._drawer.viewer.viewport.getFlip()&&(this.viewport.getRotation(!0)%360!==0||this.getRotation(!0)%360!==0)&&(I.x=this._drawer.viewer.container.clientWidth-(I.x+I.width)),I=I.times(t.pixelDensityRatio)),this._drawer._clear(!0,I)),x||(this.viewport.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.viewport.getRotation(!0),useSketch:v}),this.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(this._getRotationPoint(!0),!0),useSketch:v}),this.viewport.getRotation(!0)%360===0&&this.getRotation(!0)%360===0&&this._drawer.viewer.viewport.getFlip()&&this._drawer._flip());var D=!1;if(this._clip){this._drawer.saveContext(v);var j=this.imageToViewportRectangle(this._clip,!0);j=j.rotate(-this.getRotation(!0),this._getRotationPoint(!0));var H=this._drawer.viewportToDrawerRectangle(j);x&&(H=H.times(x)),k&&(H=H.translate(k)),this._drawer.setClip(H,v),D=!0}if(this._croppingPolygons){var J=this;this._drawer.saveContext(v);try{var q=this._croppingPolygons.map(function(et){return et.map(function(lt){var ht=J.imageToViewportCoordinates(lt.x,lt.y,!0).rotate(-J.getRotation(!0),J._getRotationPoint(!0)),Gt=J._drawer.viewportCoordToDrawerCoord(ht);return x&&(Gt=Gt.times(x)),Gt})});this._drawer.clipWithPolygons(q,v)}catch(et){t.console.error(et)}D=!0}if(this.placeholderFillStyle&&this._hasOpaqueTile===!1){var W=this._drawer.viewportToDrawerRectangle(this.getBounds(!0));x&&(W=W.times(x)),k&&(W=W.translate(k));var st=null;typeof this.placeholderFillStyle=="function"?st=this.placeholderFillStyle(this,this._drawer.context):st=this.placeholderFillStyle,this._drawer.drawRectangle(W,st,v)}var mt=d(this.subPixelRoundingForTransparency),gt=!1;if(mt===t.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS)gt=!0;else if(mt===t.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST){var ot=this.viewer&&this.viewer.isAnimating();gt=!ot}for(var U=p.length-1;U>=0;U--)m=p[U],this._drawer.drawTile(m,this._drawingHandler,v,x,k,gt,this.source),m.beingDrawn=!0,this.viewer&&this.viewer.raiseEvent("tile-drawn",{tiledImage:this,tile:m});D&&this._drawer.restoreContext(v),x||(this.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(v),this.viewport.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(v)),v&&(x&&(this.viewport.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.viewport.getRotation(!0),useSketch:!1}),this.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(this._getRotationPoint(!0),!0),useSketch:!1})),this._drawer.blendSketch({opacity:this.opacity,scale:x,translate:k,compositeOperation:this.compositeOperation,bounds:I}),x&&(this.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(!1),this.viewport.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(!1))),x||this.viewport.getRotation(!0)%360===0&&this.getRotation(!0)%360===0&&this._drawer.viewer.viewport.getFlip()&&this._drawer._flip(),this._drawDebugInfo(p)}},_drawDebugInfo:function(p){if(this.debugMode)for(var m=p.length-1;m>=0;m--){var v=p[m];try{this._drawer.drawDebugInfo(v,p.length,m,this)}catch(x){t.console.error(x)}}},_providesCoverage:function(p,m,v,x){var k,C,M,I;if(!p[m])return!1;if(v===void 0||x===void 0){k=p[m];for(M in k)if(Object.prototype.hasOwnProperty.call(k,M)){C=k[M];for(I in C)if(Object.prototype.hasOwnProperty.call(C,I)&&!C[I])return!1}return!0}return p[m][v]===void 0||p[m][v][x]===void 0||p[m][v][x]===!0},_isCovered:function(p,m,v,x){return v===void 0||x===void 0?this._providesCoverage(p,m+1):this._providesCoverage(p,m+1,2*v,2*x)&&this._providesCoverage(p,m+1,2*v,2*x+1)&&this._providesCoverage(p,m+1,2*v+1,2*x)&&this._providesCoverage(p,m+1,2*v+1,2*x+1)},_setCoverage:function(p,m,v,x,k){if(!p[m]){t.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",m);return}p[m][v]||(p[m][v]={}),p[m][v][x]=k},_resetCoverage:function(p,m){p[m]={}}});var o=t.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER;function l(p){return p!==t.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS&&p!==t.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST&&p!==t.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER}function u(p){return l(p)?o:p}function d(p){if(typeof p=="number")return u(p);if(!p||!t.Browser)return o;var m=p[t.Browser.vendor];return l(m)&&(m=p["*"]),u(m)}}(r),function(t){var o=function(u){t.console.assert(u,"[TileCache.cacheTile] options is required"),t.console.assert(u.tile,"[TileCache.cacheTile] options.tile is required"),t.console.assert(u.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=u.tile,this.tiledImage=u.tiledImage},l=function(u){t.console.assert(u,"[ImageRecord] options is required"),t.console.assert(u.data,"[ImageRecord] options.data is required"),this._tiles=[],u.create.apply(null,[this,u.data,u.ownerTile]),this._destroyImplementation=u.destroy.bind(null,this),this.getImage=u.getImage.bind(null,this),this.getData=u.getData.bind(null,this),this.getRenderedContext=u.getRenderedContext.bind(null,this)};l.prototype={destroy:function(){this._destroyImplementation(),this._tiles=null},addTile:function(u){t.console.assert(u,"[ImageRecord.addTile] tile is required"),this._tiles.push(u)},removeTile:function(u){for(var d=0;d<this._tiles.length;d++)if(this._tiles[d]===u){this._tiles.splice(d,1);return}t.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",u)},getTileCount:function(){return this._tiles.length}},t.TileCache=function(u){u=u||{},this._maxImageCacheCount=u.maxImageCacheCount||t.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},t.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(u){t.console.assert(u,"[TileCache.cacheTile] options is required"),t.console.assert(u.tile,"[TileCache.cacheTile] options.tile is required"),t.console.assert(u.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),t.console.assert(u.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var d=u.cutoff||0,p=this._tilesLoaded.length,m=this._imagesLoaded[u.tile.cacheKey];if(m||(u.data||(t.console.error("[TileCache.cacheTile] options.image was renamed to options.data. '.image' attribute has been deprecated and will be removed in the future."),u.data=u.image),t.console.assert(u.data,"[TileCache.cacheTile] options.data is required to create an ImageRecord"),m=this._imagesLoaded[u.tile.cacheKey]=new l({data:u.data,ownerTile:u.tile,create:u.tiledImage.source.createTileCache,destroy:u.tiledImage.source.destroyTileCache,getImage:u.tiledImage.source.getTileCacheDataAsImage,getData:u.tiledImage.source.getTileCacheData,getRenderedContext:u.tiledImage.source.getTileCacheDataAsContext2D}),this._imagesLoadedCount++),m.addTile(u.tile),u.tile.cacheImageRecord=m,this._imagesLoadedCount>this._maxImageCacheCount){for(var v=null,x=-1,k=null,C,M,I,D,j,H,J=this._tilesLoaded.length-1;J>=0;J--)if(H=this._tilesLoaded[J],C=H.tile,!(C.level<=d||C.beingDrawn)){if(!v){v=C,x=J,k=H;continue}D=C.lastTouchTime,M=v.lastTouchTime,j=C.level,I=v.level,(D<M||D===M&&j>I)&&(v=C,x=J,k=H)}v&&x>=0&&(this._unloadTile(k),p=x)}this._tilesLoaded[p]=new o({tile:u.tile,tiledImage:u.tiledImage})},clearTilesFor:function(u){t.console.assert(u,"[TileCache.clearTilesFor] tiledImage is required");for(var d,p=0;p<this._tilesLoaded.length;++p)d=this._tilesLoaded[p],d.tiledImage===u&&(this._unloadTile(d),this._tilesLoaded.splice(p,1),p--)},getImageRecord:function(u){return t.console.assert(u,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[u]},_unloadTile:function(u){t.console.assert(u,"[TileCache._unloadTile] tileRecord is required");var d=u.tile,p=u.tiledImage;d.unload(),d.cacheImageRecord=null;var m=this._imagesLoaded[d.cacheKey];m.removeTile(d),m.getTileCount()||(m.destroy(),delete this._imagesLoaded[d.cacheKey],this._imagesLoadedCount--),p.viewer.raiseEvent("tile-unloaded",{tile:d,tiledImage:p})}}}(r),function(t){t.World=function(o){var l=this;t.console.assert(o.viewer,"[World] options.viewer is required"),t.EventSource.call(this),this.viewer=o.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(u){l._autoRefigureSizes?l._figureSizes():l._needsSizesFigured=!0},this._figureSizes()},t.extend(t.World.prototype,t.EventSource.prototype,{addItem:function(o,l){if(t.console.assert(o,"[World.addItem] item is required"),t.console.assert(o instanceof t.TiledImage,"[World.addItem] only TiledImages supported at this time"),l=l||{},l.index!==void 0){var u=Math.max(0,Math.min(this._items.length,l.index));this._items.splice(u,0,o)}else this._items.push(o);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,o.addHandler("bounds-change",this._delegatedFigureSizes),o.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:o})},getItemAt:function(o){return t.console.assert(o!==void 0,"[World.getItemAt] index is required"),this._items[o]},getIndexOfItem:function(o){return t.console.assert(o,"[World.getIndexOfItem] item is required"),t.indexOf(this._items,o)},getItemCount:function(){return this._items.length},setItemIndex:function(o,l){t.console.assert(o,"[World.setItemIndex] item is required"),t.console.assert(l!==void 0,"[World.setItemIndex] index is required");var u=this.getIndexOfItem(o);if(l>=this._items.length)throw new Error("Index bigger than number of layers.");l===u||u===-1||(this._items.splice(u,1),this._items.splice(l,0,o),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:o,previousIndex:u,newIndex:l}))},removeItem:function(o){t.console.assert(o,"[World.removeItem] item is required");var l=t.indexOf(this._items,o);l!==-1&&(o.removeHandler("bounds-change",this._delegatedFigureSizes),o.removeHandler("clip-change",this._delegatedFigureSizes),o.destroy(),this._items.splice(l,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(o))},removeAll:function(){this.viewer._cancelPendingImages();var o,l;for(l=0;l<this._items.length;l++)o=this._items[l],o.removeHandler("bounds-change",this._delegatedFigureSizes),o.removeHandler("clip-change",this._delegatedFigureSizes),o.destroy();var u=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,l=0;l<u.length;l++)o=u[l],this._raiseRemoveItem(o)},resetItems:function(){for(var o=0;o<this._items.length;o++)this._items[o].reset()},update:function(){for(var o=!1,l=0;l<this._items.length;l++)o=this._items[l].update()||o;return o},draw:function(){for(var o=0;o<this._items.length;o++)this._items[o].draw();this._needsDraw=!1},needsDraw:function(){for(var o=0;o<this._items.length;o++)if(this._items[o].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(o){this._autoRefigureSizes=o,o&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(o){o=o||{};var l=o.immediately||!1,u=o.layout||t.DEFAULT_SETTINGS.collectionLayout,d=o.rows||t.DEFAULT_SETTINGS.collectionRows,p=o.columns||t.DEFAULT_SETTINGS.collectionColumns,m=o.tileSize||t.DEFAULT_SETTINGS.collectionTileSize,v=o.tileMargin||t.DEFAULT_SETTINGS.collectionTileMargin,x=m+v,k;!o.rows&&p?k=p:k=Math.ceil(this._items.length/d);var C=0,M=0,I,D,j,H,J;this.setAutoRefigureSizes(!1);for(var q=0;q<this._items.length;q++)q&&q%k===0&&(u==="horizontal"?(M+=x,C=0):(C+=x,M=0)),I=this._items[q],D=I.getBounds(),D.width>D.height?j=m:j=m*(D.width/D.height),H=j*(D.height/D.width),J=new t.Point(C+(m-j)/2,M+(m-H)/2),I.setPosition(J,l),I.setWidth(j,l),u==="horizontal"?C+=x:M+=x;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var o=this._homeBounds?this._homeBounds.clone():null,l=this._contentSize?this._contentSize.clone():null,u=this._contentFactor||0;if(!this._items.length)this._homeBounds=new t.Rect(0,0,1,1),this._contentSize=new t.Point(1,1),this._contentFactor=1;else{var d=this._items[0],p=d.getBounds();this._contentFactor=d.getContentSize().x/p.width;for(var m=d.getClippedBounds().getBoundingBox(),v=m.x,x=m.y,k=m.x+m.width,C=m.y+m.height,M=1;M<this._items.length;M++)d=this._items[M],p=d.getBounds(),this._contentFactor=Math.max(this._contentFactor,d.getContentSize().x/p.width),m=d.getClippedBounds().getBoundingBox(),v=Math.min(v,m.x),x=Math.min(x,m.y),k=Math.max(k,m.x+m.width),C=Math.max(C,m.y+m.height);this._homeBounds=new t.Rect(v,x,k-v,C-x),this._contentSize=new t.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}(this._contentFactor!==u||!this._homeBounds.equals(o)||!this._contentSize.equals(l))&&this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(o){this.raiseEvent("remove-item",{item:o})}})}(r)})(KC);var T4=KC.exports;const S4=Bx(T4),C4=["aria-label","alt"],P4={key:1,class:"group relative h-10 p-2"},M4=["manifest"],I4=["innerHTML"],L4=kn({__name:"Image.ce",props:{caption:{type:String},cover:{type:Boolean,default:!1},data:{type:String},fit:{type:String,default:"contain"},height:{type:Number},noCaption:{type:Boolean,default:!1},src:{type:String,required:!0},width:{type:Number}},setup(i){const r=i,t=se(null),o=se(null),l=Ce(()=>{var yt,At;return(At=(yt=t.value)==null?void 0:yt.getRootNode())==null?void 0:At.host}),u=Ce(()=>{var yt;return(yt=t==null?void 0:t.value)==null?void 0:yt.parentNode});Ne(u,yt=>{yt.children[1].classList.remove("sticky")});const d=se();Ne(d,()=>{U()});const p=se(),m=Ce(()=>{var yt,At;return Number(((((yt=p.value)==null?void 0:yt.width)||1)/(((At=p.value)==null?void 0:At.height)||1)).toFixed(4))});Ne(m,()=>{U(),o.value&&et()}),Ne(o,()=>{var yt;o.value&&(r.width?((yt=t.value)==null||yt.setAttribute("style",`width: ${r.width}px;margin: auto`),d.value=r.width):new ResizeObserver(()=>{var At;d.value=(At=o.value)==null?void 0:At.clientWidth}).observe(o.value),p.value&&et())}),Ne(r,()=>{j()});const v=se(),x=se();Ne(x,()=>{var yt;(yt=v.value)==null||yt.open(x.value)});const k=se();Ne(k,()=>{q(k.value)});function C(yt){if(v.value&&(x.value=null),/upload\.wikimedia\.org/.test(yt)){let At=yt.split("/"),Xt=At[5]==="thumb"?At[8]:At[7];k.value=`https://${wh}/wc:${Xt.replace(/ /g,"_")}/manifest.json`}else k.value=/^http/.test(yt)?yt:/^\w+:/.test(yt)?`https://${wh}/${yt.replace(/ /g,"_")}/manifest.json`:yt}const M=se(),I=Ce(()=>{var yt,At,Xt;return r.caption||M.value&&((Xt=(At=(yt=M.value)==null?void 0:yt.label)==null?void 0:At.en)==null?void 0:Xt[0])}),D=se();function j(){C(r.src)}zo(()=>{j(),lt()});async function H(yt){var Xt;return yt.indexOf("manifest.json")>0?!0:((Xt=(await fetch(yt,{method:"HEAD"})).headers.get("Content-Type"))==null?void 0:Xt.indexOf("image"))===-1}async function J(yt){let At=await fetch("https://${iiifServer}/prezi2to3/",{method:"POST",body:JSON.stringify(yt)});if(At.ok)return(await At).json()}async function q(yt){if(await H(yt)){let At=await mt(yt),Xt=W({type:"Annotation",motivation:"painting"},At).body;p.value={width:Xt.width,height:Xt.height},x.value=Xt.service?`${Xt.service[0].id||Xt.service[0]["@id"]}/info.json`:{url:Xt.id,type:"image",buildPyramid:!0}}else gt(yt).then(At=>{p.value=At}),x.value={url:yt,type:"image",buildPyramid:!0}}function W(yt,At,Xt=1){const ee=st(yt,At);return ee.length>=Xt?ee[Xt-1]:null}function st(yt,At,Xt=[]){if(Xt=Xt||[],At.items)for(let ee=0;ee<At.items.length;ee++){let ge=At.items[ee];!Object.entries(yt).find(([ue,rr])=>ge[ue]&&ge[ue]!==rr)?Xt.push(ge):st(yt,ge,Xt)}return Xt}async function mt(yt){let At=await fetch(yt);if(At.ok){let Xt=await At.json(),ee=Array.isArray(Xt["@context"])?Xt["@context"].find(ae=>ae.indexOf("/presentation/")>0):Xt["@context"],ge=parseFloat(ee.split("/").slice(-2,-1).pop());return M.value=ge<3?await J(M):Xt,M.value}}async function gt(yt){return new Promise((At,Xt)=>{let ee=new Image;ee.onload=()=>At({width:ee.width,height:ee.height}),ee.onerror=()=>Xt(),ee.src=yt})}function ot(){var yt,At;(yt=o.value)!=null&&yt.clientWidth&&(r.height||Number(((At=o.value)==null?void 0:At.clientWidth)/m.value).toFixed(0))}function U(){ot(),setTimeout(()=>{var yt,At;return(At=(yt=v.value)==null?void 0:yt.viewport)==null?void 0:At.goHome(!0)},100)}function et(){if(!o.value)return;let yt=u.value.querySelector("#osd");ot();const At={element:yt,prefixUrl:"https://openseadragon.github.io/openseadragon/images/",tileSources:x.value,homeFillsViewer:r.cover||r.fit==="cover",maxZoomPixelRatio:10};v.value=S4(At),v.value.addHandler("viewport-change",()=>zt()),setTimeout(()=>xt(),500)}function lt(){let yt=l.value.parentElement;for(;yt!=null&&yt.parentElement&&yt.tagName!=="MAIN";)Array.from(yt.querySelectorAll("a")).forEach(At=>{let ee=new URL(At.href).pathname.split("/").filter(ae=>ae),ge=ee.indexOf("zoom");if(ge>=0&&ee.length>ge+1&&ht(At)){let ue=ee[ge+1];At.classList.add("zoom"),At.href="javascript:;",At.setAttribute("data-region",ue),At.addEventListener("click",rr=>{let mr=rr.target.getAttribute("data-region");mr&&St(mr)})}}),yt=yt.parentElement}function ht(yt){function At(Xt){let ee=Xt.previousSibling;for(;ee;){if(ee.nodeName==="MDP-IMAGE")return ee===l.value?ee:null;ee=ee.previousSibling}}for(At(yt);yt.parentElement&&yt.tagName!=="BODY";){yt=yt.parentElement;let Xt=yt.querySelector(":scope mdp-image");if(Xt)return Xt===l.value?Xt:null}}let Gt="";function St(yt){var Xt,ee,ge;yt=yt.replace(/^zoom\|/i,"");const At=yt==null?void 0:yt.match(/^(?<region>(pct:|pixel:|px:)?[\d.]+,[\d.]+,[\d.]+,[\d.]+)?$/);if(At){let ae=(Xt=At==null?void 0:At.groups)==null?void 0:Xt.region;ae&&(Gt===ae?((ee=v.value)==null||ee.viewport.goHome(),Gt=""):(Gt=ae,(ge=v.value)==null||ge.viewport.fitBounds(Lt(ae,v.value),!1)))}}function Lt(yt,At){let Xt;const ee=yt.split(":");let[ge,ae,ue,rr]=ee[ee.length-1].split(",").map(vi=>parseInt(vi));const mr=At.world.getItemAt(0).getContentSize();return ee.length===2&&(ee[0]==="pct"||ee[0]==="percent")&&(ge=Math.round(mr.x*ge/100),ae=Math.round(mr.y*ae/100),ue=Math.round(mr.x*ue/100),rr=Math.round(mr.y*rr/100)),Xt=At.viewport.imageToViewportRectangle(ge,ae,ue,rr),Xt}function xt(){var At,Xt;const yt=(At=v.value)==null?void 0:At.world.getItemAt(0);if(yt){let ee=(Xt=v.value)==null?void 0:Xt.viewport.getBounds();const ge=ee?yt.viewportToImageRectangle(ee):null;D.value=ge?`${Math.ceil(ge.x)},${Math.ceil(ge.y)},${Math.ceil(ge.width)},${Math.ceil(ge.height)}`:""}}let Dt=null;function zt(){Dt!==null&&(clearTimeout(Dt),Dt=null),Dt=window.setTimeout(()=>xt(),100)}function fe(yt){navigator.clipboard&&navigator.clipboard.writeText(yt)}return(yt,At)=>(ce(),de("div",{ref_key:"root",ref:t,class:"h-[100%] image flex flex-col relative rounded overflow-hidden shadow-lg"},[x.value?(ce(),de("div",{key:0,ref_key:"osdEl",ref:o,id:"osd",class:"w-full h-[100%]",role:"img","aria-label":I.value,alt:I.value},null,8,C4)):ir("",!0),x.value&&I.value&&!i.noCaption?(ce(),de("div",P4,[M.value&&!i.noCaption?(ce(),de("mdp-caption",{key:0,manifest:M.value},null,8,M4)):ir("",!0),D.value?(ce(),de("div",{key:1,class:"invisible group-hover:visible absolute pr-4 pl-4 pt-2 pb-2 mt-24 bottom-0 right-0 cursor-copy ml-4 bg-slate-100 text-black",innerHTML:D.value,onClick:At[0]||(At[0]=Xt=>fe(D.value||""))},null,8,I4)):ir("",!0)])):ir("",!0)],512))}}),A4=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.mb-6{margin-bottom:1.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-\\[100\\%\\]{height:100%}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}mdp-header ul,mdp-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}mdp-manifest-popup{visibility:hidden;position:absolute;top:1em;right:1em;z-index:10}.image:hover mdp-manifest-popup{visibility:visible;transition:all .5s ease-in}
`,R4=no(L4,[["styles",[A4]]]),O4={class:"label"},z4=Jt("div",{slot:"trigger",style:{display:"flex","flex-direction":"column"}},[Jt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[Jt("path",{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"})])],-1),N4={class:"details"},D4=["innerHTML"],F4=["innerHTML"],B4={key:1,class:"photo-details"},j4={slot:"trigger",style:{cursor:"pointer"}},H4=["innerHTML"],U4={class:"location",style:{width:"200px"}},G4=["center"],q4=kn({__name:"Caption.ce",props:{language:{type:String,default:"en"},manifest:{type:Object},src:{type:String}},setup(i){const r=i,t=se(null),o=se(null);Ne(o,()=>{var I;console.log(o.value),(I=o.value)==null||I.addEventListener("sl-hide",D=>{console.log("hide",D),D.stopPropagation(),D.preventDefault()})});const l=se();Ne(l,I=>{console.log(ii(I))});const u=Ce(()=>{var I;return(I=l.value)!=null&&I.metadata?Object.fromEntries(l.value.metadata.map(D=>[(D.label.en||D.label.none||Object.keys(D.label)[0])[0],(D.value.en||D.value.none||Object.keys(D.value)[0])[0]])):{}}),d=Ce(()=>{var I;return(I=l.value)!=null&&I.label?(l.value.label[r.language]||l.value.label.none||l.value.label.en||Object.values(l.value.label)[0])[0]:null});Ce(()=>{var I;return(I=l.value)!=null&&I.summary?(l.value.summary[r.language]||l.value.summary.none||l.value.summary.en||Object.values(l.value.summary)[0])[0]:null});const p=Ce(()=>{var I;return(I=l.value)==null?void 0:I.requiredStatement}),m=Ce(()=>{let I=p.value?C(p.value.label,r.language):"";return(I?p.value.label[I][0].toLowerCase():"")==="attribution"?p.value.value[C(p.value.value,I)][0]:null}),v=Ce(()=>{var I;return[u.value.camera,u.value.exposure,(I=u.value.mode)==null?void 0:I.split(",").map(D=>M(D.trim()).replace(/[_-]/," ")).join(", ")].filter(D=>D).join(", ")}),x=Ce(()=>{var I;return(I=l.value)==null?void 0:I.navPlace}),k=Ce(()=>{var I,D;return(D=(I=x.value)==null?void 0:I.features[0])==null?void 0:D.geometry.coordinates.join(",")});Ne(r,()=>{r.manifest?l.value=r.manifest:r.src&&gl(r.src).then(I=>l.value=I)});function C(I,D=r.language){return I[r.language]?D:I.none?"none":I.en?"en":Object.keys(I)[0]}function M(I){return I[0].toUpperCase()+I.slice(1).toLowerCase()}return zo(()=>{r.manifest?l.value=r.manifest:r.src&&gl(r.src).then(I=>l.value=I)}),(I,D)=>(ce(),de("div",{class:"caption",ref_key:"root",ref:t},[Jt("div",O4,hp(d.value),1),Jt("sl-dropdown",{ref_key:"details",ref:o,distance:"12",skidding:"-30"},[z4,Jt("div",N4,[Jt("div",{class:"label",innerHTML:d.value},null,8,D4),m.value?(ce(),de("div",{key:0,class:"attribution",innerHTML:m.value},null,8,F4)):ir("",!0),v.value?(ce(),de("div",B4,hp(v.value),1)):ir("",!0),k.value?(ce(),de("sl-dropdown",{key:2,ref_key:"details",ref:o,distance:"12",skidding:"-30",placement:"top"},[Jt("div",j4,[Jt("span",{innerHTML:k.value},null,8,H4)]),Jt("div",U4,[k.value?(ce(),de("mdp-map",{key:0,center:k.value,zoom:"6",marker:""},null,8,G4)):ir("",!0)])],512)):ir("",!0)])],512)],512))}}),V4=`.caption{display:flex;align-items:center;gap:1em}.label{font-size:1.4em;font-weight:700}.summary{font-size:1em;font-weight:400}.photo-details,.attribution{font-size:.8em;font-weight:400}.details,.location{display:flex;flex-direction:column;gap:.5em;background-color:#fff;padding:.5em;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px;border:1px solid #ccc;border-radius:3px;max-width:300px}sl-dropdown svg{width:1.2em;height:1.2em;cursor:pointer}
`,W4=no(q4,[["styles",[V4]]]),Z4=["innerHTML"],Y4=["innerHTML"],X4=kn({__name:"InfoCard.ce",props:{data:{type:String},description:{type:String},dialogWidth:{type:String,default:"100vw"},image:{type:String},href:{type:String},label:{type:String}},setup(i){const r=i;function t(){Js.emit("imageSelected",{src:d.value})}const o=se(null),l=Ce(()=>{var D,j;return(j=(D=o.value)==null?void 0:D.getRootNode())==null?void 0:j.host});Ce(()=>{var D;return(D=o==null?void 0:o.value)==null?void 0:D.parentNode});const u=Ce(()=>r.data?JSON.parse(r.data):{}),d=Ce(()=>u.value.id),p=Ce(()=>u.value.label||r.label),m=Ce(()=>u.value.description||r.description),v=Ce(()=>u.value.image||r.image);Ce(()=>u.value.href||r.href);const x=Ce(()=>v.value&&`url('${I(v.value)}')`),k=Ce(()=>{var D;return`${((D=l.value)==null?void 0:D.clientWidth)*.33}px`});let C;const M=se(!1);Ne(M,()=>{C.open=M.value});function I(D){let j=D.split("/");return`${j.slice(0,-1).join("/")}/${encodeURIComponent(j[j.length-1])}`}return zo(()=>{}),(D,j)=>(ce(),de("div",{ref_key:"root",ref:o,id:"card",class:"card"},[Jt("div",{class:"label",innerHTML:p.value},null,8,Z4),Jt("div",{class:"description",innerHTML:m.value},null,8,Y4),v.value?(ce(),de("div",{key:0,class:"image",style:cu({backgroundImage:x.value,width:k.value}),onClick:t},null,4)):ir("",!0)],512))}}),K4=`*{box-sizing:border-box}:host{display:inline-block;width:100%}.card{display:grid;grid-template-columns:1fr auto;grid-template-rows:auto auto auto 1fr auto;border-radius:6px;min-height:80px;max-height:100px;overflow-y:hidden;background-color:#fff;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px}.label,.description,.summary,.links{margin:6px;font-size:1rem}.label{grid-area:1 / 1 / 2 / 2;font-size:130%;font-weight:700}.description{grid-area:2 / 1 / 3 / 2;font-size:110%;font-weight:400;height:100%}.summary{grid-area:3 / 1 / 4 / 2;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:6;overflow:hidden;line-height:1.2rem;font-weight:300}.spacer{grid-area:4 / 1 / 5 / 2;height:100%}.links{grid-area:5 / 1 / 6 / 2}.image{grid-area:1 / 2 / 6 / 3;height:100%;max-height:100px;-o-object-fit:cover;object-fit:cover;background-repeat:no-repeat;background-size:cover;background-position:center}.logo img{height:24px;margin-right:12px;cursor:pointer}sl-dialog::part(panel){max-width:unset;max-height:unset;height:100dvh}sl-dialog::part(overlay){--sl-overlay-background-color: rgba(100, 100, 100, .8)}sl-dialog::part(footer){background-color:#64646480}
`,J4=no(X4,[["styles",[K4]]]),Ba=i=>(kA("data-v-4827c438"),i=i(),EA(),i),Q4={class:"main"},$4=["src"],tD=["innerHTML"],eD=["innerHTML"],rD=["href","innerHTML"],iD={class:"links"},nD={class:"detail"},oD={key:0,class:"provider"},sD=Ba(()=>Jt("span",{class:"label"},"provider",-1)),aD={key:0,style:{display:"flex","align-items":"center"}},lD=["src"],cD=["href","innerHTML"],uD={key:1},hD=["src"],dD=["href","innerHTML"],pD={key:1,class:"requiredStatement"},fD=["innerHTML"],gD={key:2,class:"rights"},mD=Ba(()=>Jt("span",{class:"label"},"Reuse rights",-1)),vD=["href","innerHTML"],yD={key:3,class:"metadata"},bD=Ba(()=>Jt("span",{class:"label"},"metadata",-1)),wD=["innerHTML"],xD=["innerHTML"],_D={key:1},kD=["innerHTML"],ED={key:4,class:"navDate"},TD=Ba(()=>Jt("span",{class:"label"},"navDate",-1)),SD=["innerHTML"],CD={key:5,class:"homepage"},PD=Ba(()=>Jt("span",{class:"label"},"homepage",-1)),MD=["href","innerHTML"],ID={key:6,class:"seeAlso"},LD=Ba(()=>Jt("span",{class:"label"},"seeAlso",-1)),AD=["href","innerHTML"],RD={key:7,class:"logo"},OD=Ba(()=>Jt("span",{class:"label"},"logo",-1)),zD=["href","innerHTML"],ND={key:8,class:"imageData"},DD=Ba(()=>Jt("span",{class:"label"},"source",-1)),FD=["href","innerHTML"],BD=Ba(()=>Jt("span",{class:"label"},"format",-1)),jD=["innerHTML"],HD=Ba(()=>Jt("span",{class:"label"},"width",-1)),UD=["innerHTML"],GD=Ba(()=>Jt("span",{class:"label"},"height",-1)),qD=["innerHTML"],VD=kn({__name:"Manifest.ce",props:{manifest:{type:Object,required:!0}},setup(i){const r=i;Ne(r,()=>o.value=r.manifest);const t=se(null),o=se(null),l=se(null);Ne(o,()=>l.value=m(o.value));const u=Ce(()=>l.value&&x(l.value));zo(()=>d());function d(){typeof r.manifest=="object"?o.value=r.manifest:gl(r.manifest).then(k=>o.value=k)}function p(k,C="en"){return typeof k=="object"&&!Array.isArray(k)?k[C]||k.none||k[Object.keys(k).sort()[0]]:k}function m(k){let C={};if(C.id=p(k.id),C.label=p(k.label),k.summary&&(C.summary=p(k.summary)),k.rights&&(C.rights=k.rights),k.thumbnail&&(C.thumbnail=k.thumbnail[0].id||k.thumbnail),k.metadata){C.metadata=k.metadata.map(D=>({label:p(D.label)[0],value:p(D.value)}));let M=C.metadata.find(D=>D.label=="source_url");C.sourceUrl=M?M.value[0]:null;let I=C.metadata.find(D=>D.label==="depicts");I&&(C.depicts=I.value)}if(k.provider&&(C.provider=k.provider.map(M=>{let I={label:p(M.label),href:M.id};return M.logo&&(I.logo={src:M.logo[0].id}),I})),k.logo&&(C.logo=k.logo.map(M=>{let I={src:typeof M=="object"?M.id||M["@id"]:M};return typeof M=="object"&&(M.width&&(I.width=M.width),M.height&&(I.height=M.height)),I})),C.imageData=My(k),C.service=C.imageData.service&&`${(C.imageData.service[0].id||C.imageData.service[0]["@id"]).replace(/\/info\.json$/,"")}/info.json`,k.requiredStatement){let M=k.requiredStatement;C.requiredStatement={label:p(M.label),value:p(M.value)}}return k.homepage&&(C.homepage={label:k.homepage.label?p(k.homepage.label):k.homepage.id,href:k.homepage.id}),k.seeAlso&&(C.seeAlso=k.seeAlso.map(M=>({label:M.label?p(M.label):M.id,href:M.id}))),C}function v(k){navigator.clipboard&&navigator.clipboard.writeText(k)}function x(k){let C={cc:{badgeWidth:88,badgeHeight:31,badgeTemplate:'https://licensebuttons.net/l/${this.rightsCode}${this.rightsCode === "publicdomain" ? "" : "/"+this.version}/${this.badgeWidth}x${this.badgeHeight}.png'},rs:{badgeTemplate:"https://rightsstatements.org/files/buttons/${this.rightsCode}.white.svg",backgroundColor:"318ac7"}};const M=function(W,st){return new Function("return `"+W+"`;").call(st)};let I=k.rights||"",D="",[j,H,J,q]=I.split("/").slice(2);return j==="creativecommons.org"?(J=J==="zero"?"publicdomain":J,D=`<img src="${M(C.cc.badgeTemplate,{...C.cc,rightsCode:J,version:q})}"/>`):j==="rightsstatements.org"&&(D=`<div style="display:inline-block;height:25px;padding:3px;background-color:#${C.rs.backgroundColor};"><img style="height:100%;" src="${M(C.rs.badgeTemplate,{...C.rs,rightsCode:J})}"/></div>`),D}return(k,C)=>{var M,I,D,j,H,J,q,W,st,mt,gt,ot,U,et,lt;return ce(),de("div",{ref_key:"root",ref:t,class:"manifest"},[Jt("div",Q4,[Jt("img",{class:"thumbnail",src:(M=l.value)==null?void 0:M.thumbnail},null,8,$4),Jt("div",{class:"label",innerHTML:(I=l.value)==null?void 0:I.label},null,8,tD),(D=l.value)!=null&&D.summary?(ce(),de("div",{key:0,class:"summary",innerHTML:(j=l.value)==null?void 0:j.summary},null,8,eD)):ir("",!0),(H=l.value)!=null&&H.rights?(ce(),de("a",{key:1,href:(J=l.value)==null?void 0:J.rights,innerHTML:u.value},null,8,rD)):ir("",!0),Jt("div",iD,[Jt("img",{src:"https://mdpress.io/images/iiif.png",class:"iiif",alt:"IIIF manifest icon",onClick:C[0]||(C[0]=ht=>v(o.value.id))})])]),Jt("div",nD,[(q=l.value)!=null&&q.provider?(ce(),de("div",oD,[sD,l.value.provider.length===1?(ce(),de("div",aD,[l.value.provider[0].logo?(ce(),de("img",{key:0,class:"logo",src:l.value.provider[0].logo.src},null,8,lD)):ir("",!0),Jt("a",{class:"value",href:l.value.provider[0].href,innerHTML:l.value.provider[0].label},null,8,cD)])):(ce(),de("ul",uD,[(ce(!0),de(Mi,null,sc(l.value.provider,(ht,Gt)=>(ce(),de("li",{key:`provider-${Gt}`},[ht.logo?(ce(),de("img",{key:0,class:"logo",src:ht.logo.src},null,8,hD)):ir("",!0),Jt("a",{class:"value",href:ht.href,innerHTML:ht.label},null,8,dD)]))),128))]))])):ir("",!0),(W=l.value)!=null&&W.requiredStatement?(ce(),de("div",pD,[Jt("span",{class:"value",innerHTML:l.value.requiredStatement.value},null,8,fD)])):ir("",!0),(st=l.value)!=null&&st.rights?(ce(),de("div",gD,[mD,Jt("a",{class:"value",href:l.value.rights,innerHTML:l.value.rights},null,8,vD)])):ir("",!0),(mt=l.value)!=null&&mt.metadata?(ce(),de("div",yD,[bD,Jt("ul",null,[(ce(!0),de(Mi,null,sc(l.value.metadata,(ht,Gt)=>(ce(),de("li",{key:`md-${Gt}`},[Jt("span",{class:"label",innerHTML:ht.label},null,8,wD),ht.value.length===1?(ce(),de("span",{key:0,class:"value",innerHTML:ht.value[0]},null,8,xD)):(ce(),de("ul",_D,[(ce(!0),de(Mi,null,sc(ht.value,St=>(ce(),de("li",{class:"value",innerHTML:St},null,8,kD))),256))]))]))),128))])])):ir("",!0),(gt=l.value)!=null&&gt.navDate?(ce(),de("div",ED,[TD,Jt("span",{class:"value",innerHTML:l.value.navDate},null,8,SD)])):ir("",!0),(ot=l.value)!=null&&ot.homepage?(ce(),de("div",CD,[PD,Jt("a",{class:"value",href:l.value.homepage.href,innerHTML:l.value.homepage.label},null,8,MD)])):ir("",!0),(U=l.value)!=null&&U.seeAlso?(ce(),de("div",ID,[LD,Jt("a",{class:"value",href:l.value.seeAlso[0].href,innerHTML:l.value.seeAlso[0].label},null,8,AD)])):ir("",!0),(et=l.value)!=null&&et.logo?(ce(),de("div",RD,[OD,Jt("a",{class:"value",href:l.value.logo[0].src,innerHTML:l.value.logo[0].src},null,8,zD)])):ir("",!0),(lt=l.value)!=null&&lt.imageData?(ce(),de("div",ND,[Jt("div",null,[DD,Jt("a",{class:"value",href:l.value.imageData.id,innerHTML:l.value.imageData.id.split("/").pop()},null,8,FD)]),Jt("div",null,[BD,Jt("span",{class:"value",innerHTML:l.value.imageData.format},null,8,jD)]),Jt("div",null,[HD,Jt("span",{class:"value",innerHTML:l.value.imageData.width},null,8,UD)]),Jt("div",null,[GD,Jt("span",{class:"value",innerHTML:l.value.imageData.height},null,8,qD)])])):ir("",!0)])],512)}}}),WD=`*[data-v-4827c438]{box-sizing:border-box}.manifest[data-v-4827c438]{width:100%;height:100%;overflow-y:scroll;background-color:#fff;font-size:.8em}.main[data-v-4827c438],.detail[data-v-4827c438]{display:flow-root;margin:6px}.main>*[data-v-4827c438]{margin-bottom:6px}.detail>div[data-v-4827c438]{margin-top:12px}.main .label[data-v-4827c438]{font-size:1.2em;font-weight:700}.thumbnail[data-v-4827c438]{float:left;max-width:45%;max-height:200px;margin:0 6px 6px 0}.links[data-v-4827c438]{margin-top:6px}img.iiif[data-v-4827c438]{height:24px;cursor:copy}ul[data-v-4827c438]{list-style:none;padding-left:12px;margin-top:0}.detail .label[data-v-4827c438]{font-size:1.1em;font-weight:700;min-width:80px;margin-right:6px}.detail .label[data-v-4827c438]:after{content:":"}.detail .value[data-v-4827c438],.main .label[data-v-4827c438]{white-space:pre-wrap;overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}.logo[data-v-4827c438]{padding-right:6px}img.logo[data-v-4827c438]{height:40px}.manifest-id[data-v-4827c438],.manifest-label[data-v-4827c438],.summary[data-v-4827c438],.provider[data-v-4827c438],.rights[data-v-4827c438],.service[data-v-4827c438],.imageData div[data-v-4827c438],.thumbnail[data-v-4827c438]{display:flex;align-items:flex-start}.metadata>ul[data-v-4827c438],.requiredStatement ul[data-v-4827c438]{padding-left:24px}.metadata ul li[data-v-4827c438],.requiredStatement ul li[data-v-4827c438]{display:flex}.metadata ul ul[data-v-4827c438]{padding-left:0}a[data-v-4827c438]:link,a[data-v-4827c438]:visited{color:#00e}
`,ZD=no(VD,[["styles",[WD]],["__scopeId","data-v-4827c438"]]);var $o="top",ta="bottom",ea="right",ts="left",jx="auto",lm=[$o,ta,ea,ts],bp="start",Dg="end",YD="clippingParents",JC="viewport",ig="popper",XD="reference",aT=lm.reduce(function(i,r){return i.concat([r+"-"+bp,r+"-"+Dg])},[]),QC=[].concat(lm,[jx]).reduce(function(i,r){return i.concat([r,r+"-"+bp,r+"-"+Dg])},[]),KD="beforeRead",JD="read",QD="afterRead",$D="beforeMain",t6="main",e6="afterMain",r6="beforeWrite",i6="write",n6="afterWrite",o6=[KD,JD,QD,$D,t6,e6,r6,i6,n6];function ml(i){return i?(i.nodeName||"").toLowerCase():null}function xs(i){if(i==null)return window;if(i.toString()!=="[object Window]"){var r=i.ownerDocument;return r&&r.defaultView||window}return i}function Ch(i){var r=xs(i).Element;return i instanceof r||i instanceof Element}function Qs(i){var r=xs(i).HTMLElement;return i instanceof r||i instanceof HTMLElement}function Hx(i){if(typeof ShadowRoot>"u")return!1;var r=xs(i).ShadowRoot;return i instanceof r||i instanceof ShadowRoot}function s6(i){var r=i.state;Object.keys(r.elements).forEach(function(t){var o=r.styles[t]||{},l=r.attributes[t]||{},u=r.elements[t];!Qs(u)||!ml(u)||(Object.assign(u.style,o),Object.keys(l).forEach(function(d){var p=l[d];p===!1?u.removeAttribute(d):u.setAttribute(d,p===!0?"":p)}))})}function a6(i){var r=i.state,t={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(r.elements.popper.style,t.popper),r.styles=t,r.elements.arrow&&Object.assign(r.elements.arrow.style,t.arrow),function(){Object.keys(r.elements).forEach(function(o){var l=r.elements[o],u=r.attributes[o]||{},d=Object.keys(r.styles.hasOwnProperty(o)?r.styles[o]:t[o]),p=d.reduce(function(m,v){return m[v]="",m},{});!Qs(l)||!ml(l)||(Object.assign(l.style,p),Object.keys(u).forEach(function(m){l.removeAttribute(m)}))})}}const l6={name:"applyStyles",enabled:!0,phase:"write",fn:s6,effect:a6,requires:["computeStyles"]};function pl(i){return i.split("-")[0]}var xh=Math.max,Vv=Math.min,wp=Math.round;function b1(){var i=navigator.userAgentData;return i!=null&&i.brands&&Array.isArray(i.brands)?i.brands.map(function(r){return r.brand+"/"+r.version}).join(" "):navigator.userAgent}function $C(){return!/^((?!chrome|android).)*safari/i.test(b1())}function xp(i,r,t){r===void 0&&(r=!1),t===void 0&&(t=!1);var o=i.getBoundingClientRect(),l=1,u=1;r&&Qs(i)&&(l=i.offsetWidth>0&&wp(o.width)/i.offsetWidth||1,u=i.offsetHeight>0&&wp(o.height)/i.offsetHeight||1);var d=Ch(i)?xs(i):window,p=d.visualViewport,m=!$C()&&t,v=(o.left+(m&&p?p.offsetLeft:0))/l,x=(o.top+(m&&p?p.offsetTop:0))/u,k=o.width/l,C=o.height/u;return{width:k,height:C,top:x,right:v+k,bottom:x+C,left:v,x:v,y:x}}function Ux(i){var r=xp(i),t=i.offsetWidth,o=i.offsetHeight;return Math.abs(r.width-t)<=1&&(t=r.width),Math.abs(r.height-o)<=1&&(o=r.height),{x:i.offsetLeft,y:i.offsetTop,width:t,height:o}}function tP(i,r){var t=r.getRootNode&&r.getRootNode();if(i.contains(r))return!0;if(t&&Hx(t)){var o=r;do{if(o&&i.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function hc(i){return xs(i).getComputedStyle(i)}function c6(i){return["table","td","th"].indexOf(ml(i))>=0}function Eu(i){return((Ch(i)?i.ownerDocument:i.document)||window.document).documentElement}function Iy(i){return ml(i)==="html"?i:i.assignedSlot||i.parentNode||(Hx(i)?i.host:null)||Eu(i)}function lT(i){return!Qs(i)||hc(i).position==="fixed"?null:i.offsetParent}function u6(i){var r=/firefox/i.test(b1()),t=/Trident/i.test(b1());if(t&&Qs(i)){var o=hc(i);if(o.position==="fixed")return null}var l=Iy(i);for(Hx(l)&&(l=l.host);Qs(l)&&["html","body"].indexOf(ml(l))<0;){var u=hc(l);if(u.transform!=="none"||u.perspective!=="none"||u.contain==="paint"||["transform","perspective"].indexOf(u.willChange)!==-1||r&&u.willChange==="filter"||r&&u.filter&&u.filter!=="none")return l;l=l.parentNode}return null}function cm(i){for(var r=xs(i),t=lT(i);t&&c6(t)&&hc(t).position==="static";)t=lT(t);return t&&(ml(t)==="html"||ml(t)==="body"&&hc(t).position==="static")?r:t||u6(i)||r}function Gx(i){return["top","bottom"].indexOf(i)>=0?"x":"y"}function _g(i,r,t){return xh(i,Vv(r,t))}function h6(i,r,t){var o=_g(i,r,t);return o>t?t:o}function eP(){return{top:0,right:0,bottom:0,left:0}}function rP(i){return Object.assign({},eP(),i)}function iP(i,r){return r.reduce(function(t,o){return t[o]=i,t},{})}var d6=function(r,t){return r=typeof r=="function"?r(Object.assign({},t.rects,{placement:t.placement})):r,rP(typeof r!="number"?r:iP(r,lm))};function p6(i){var r,t=i.state,o=i.name,l=i.options,u=t.elements.arrow,d=t.modifiersData.popperOffsets,p=pl(t.placement),m=Gx(p),v=[ts,ea].indexOf(p)>=0,x=v?"height":"width";if(!(!u||!d)){var k=d6(l.padding,t),C=Ux(u),M=m==="y"?$o:ts,I=m==="y"?ta:ea,D=t.rects.reference[x]+t.rects.reference[m]-d[m]-t.rects.popper[x],j=d[m]-t.rects.reference[m],H=cm(u),J=H?m==="y"?H.clientHeight||0:H.clientWidth||0:0,q=D/2-j/2,W=k[M],st=J-C[x]-k[I],mt=J/2-C[x]/2+q,gt=_g(W,mt,st),ot=m;t.modifiersData[o]=(r={},r[ot]=gt,r.centerOffset=gt-mt,r)}}function f6(i){var r=i.state,t=i.options,o=t.element,l=o===void 0?"[data-popper-arrow]":o;l!=null&&(typeof l=="string"&&(l=r.elements.popper.querySelector(l),!l)||tP(r.elements.popper,l)&&(r.elements.arrow=l))}const g6={name:"arrow",enabled:!0,phase:"main",fn:p6,effect:f6,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function _p(i){return i.split("-")[1]}var m6={top:"auto",right:"auto",bottom:"auto",left:"auto"};function v6(i,r){var t=i.x,o=i.y,l=r.devicePixelRatio||1;return{x:wp(t*l)/l||0,y:wp(o*l)/l||0}}function cT(i){var r,t=i.popper,o=i.popperRect,l=i.placement,u=i.variation,d=i.offsets,p=i.position,m=i.gpuAcceleration,v=i.adaptive,x=i.roundOffsets,k=i.isFixed,C=d.x,M=C===void 0?0:C,I=d.y,D=I===void 0?0:I,j=typeof x=="function"?x({x:M,y:D}):{x:M,y:D};M=j.x,D=j.y;var H=d.hasOwnProperty("x"),J=d.hasOwnProperty("y"),q=ts,W=$o,st=window;if(v){var mt=cm(t),gt="clientHeight",ot="clientWidth";if(mt===xs(t)&&(mt=Eu(t),hc(mt).position!=="static"&&p==="absolute"&&(gt="scrollHeight",ot="scrollWidth")),mt=mt,l===$o||(l===ts||l===ea)&&u===Dg){W=ta;var U=k&&mt===st&&st.visualViewport?st.visualViewport.height:mt[gt];D-=U-o.height,D*=m?1:-1}if(l===ts||(l===$o||l===ta)&&u===Dg){q=ea;var et=k&&mt===st&&st.visualViewport?st.visualViewport.width:mt[ot];M-=et-o.width,M*=m?1:-1}}var lt=Object.assign({position:p},v&&m6),ht=x===!0?v6({x:M,y:D},xs(t)):{x:M,y:D};if(M=ht.x,D=ht.y,m){var Gt;return Object.assign({},lt,(Gt={},Gt[W]=J?"0":"",Gt[q]=H?"0":"",Gt.transform=(st.devicePixelRatio||1)<=1?"translate("+M+"px, "+D+"px)":"translate3d("+M+"px, "+D+"px, 0)",Gt))}return Object.assign({},lt,(r={},r[W]=J?D+"px":"",r[q]=H?M+"px":"",r.transform="",r))}function y6(i){var r=i.state,t=i.options,o=t.gpuAcceleration,l=o===void 0?!0:o,u=t.adaptive,d=u===void 0?!0:u,p=t.roundOffsets,m=p===void 0?!0:p,v={placement:pl(r.placement),variation:_p(r.placement),popper:r.elements.popper,popperRect:r.rects.popper,gpuAcceleration:l,isFixed:r.options.strategy==="fixed"};r.modifiersData.popperOffsets!=null&&(r.styles.popper=Object.assign({},r.styles.popper,cT(Object.assign({},v,{offsets:r.modifiersData.popperOffsets,position:r.options.strategy,adaptive:d,roundOffsets:m})))),r.modifiersData.arrow!=null&&(r.styles.arrow=Object.assign({},r.styles.arrow,cT(Object.assign({},v,{offsets:r.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:m})))),r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-placement":r.placement})}const b6={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:y6,data:{}};var K0={passive:!0};function w6(i){var r=i.state,t=i.instance,o=i.options,l=o.scroll,u=l===void 0?!0:l,d=o.resize,p=d===void 0?!0:d,m=xs(r.elements.popper),v=[].concat(r.scrollParents.reference,r.scrollParents.popper);return u&&v.forEach(function(x){x.addEventListener("scroll",t.update,K0)}),p&&m.addEventListener("resize",t.update,K0),function(){u&&v.forEach(function(x){x.removeEventListener("scroll",t.update,K0)}),p&&m.removeEventListener("resize",t.update,K0)}}const x6={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:w6,data:{}};var _6={left:"right",right:"left",bottom:"top",top:"bottom"};function wv(i){return i.replace(/left|right|bottom|top/g,function(r){return _6[r]})}var k6={start:"end",end:"start"};function uT(i){return i.replace(/start|end/g,function(r){return k6[r]})}function qx(i){var r=xs(i),t=r.pageXOffset,o=r.pageYOffset;return{scrollLeft:t,scrollTop:o}}function Vx(i){return xp(Eu(i)).left+qx(i).scrollLeft}function E6(i,r){var t=xs(i),o=Eu(i),l=t.visualViewport,u=o.clientWidth,d=o.clientHeight,p=0,m=0;if(l){u=l.width,d=l.height;var v=$C();(v||!v&&r==="fixed")&&(p=l.offsetLeft,m=l.offsetTop)}return{width:u,height:d,x:p+Vx(i),y:m}}function T6(i){var r,t=Eu(i),o=qx(i),l=(r=i.ownerDocument)==null?void 0:r.body,u=xh(t.scrollWidth,t.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),d=xh(t.scrollHeight,t.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),p=-o.scrollLeft+Vx(i),m=-o.scrollTop;return hc(l||t).direction==="rtl"&&(p+=xh(t.clientWidth,l?l.clientWidth:0)-u),{width:u,height:d,x:p,y:m}}function Wx(i){var r=hc(i),t=r.overflow,o=r.overflowX,l=r.overflowY;return/auto|scroll|overlay|hidden/.test(t+l+o)}function nP(i){return["html","body","#document"].indexOf(ml(i))>=0?i.ownerDocument.body:Qs(i)&&Wx(i)?i:nP(Iy(i))}function kg(i,r){var t;r===void 0&&(r=[]);var o=nP(i),l=o===((t=i.ownerDocument)==null?void 0:t.body),u=xs(o),d=l?[u].concat(u.visualViewport||[],Wx(o)?o:[]):o,p=r.concat(d);return l?p:p.concat(kg(Iy(d)))}function w1(i){return Object.assign({},i,{left:i.x,top:i.y,right:i.x+i.width,bottom:i.y+i.height})}function S6(i,r){var t=xp(i,!1,r==="fixed");return t.top=t.top+i.clientTop,t.left=t.left+i.clientLeft,t.bottom=t.top+i.clientHeight,t.right=t.left+i.clientWidth,t.width=i.clientWidth,t.height=i.clientHeight,t.x=t.left,t.y=t.top,t}function hT(i,r,t){return r===JC?w1(E6(i,t)):Ch(r)?S6(r,t):w1(T6(Eu(i)))}function C6(i){var r=kg(Iy(i)),t=["absolute","fixed"].indexOf(hc(i).position)>=0,o=t&&Qs(i)?cm(i):i;return Ch(o)?r.filter(function(l){return Ch(l)&&tP(l,o)&&ml(l)!=="body"}):[]}function P6(i,r,t,o){var l=r==="clippingParents"?C6(i):[].concat(r),u=[].concat(l,[t]),d=u[0],p=u.reduce(function(m,v){var x=hT(i,v,o);return m.top=xh(x.top,m.top),m.right=Vv(x.right,m.right),m.bottom=Vv(x.bottom,m.bottom),m.left=xh(x.left,m.left),m},hT(i,d,o));return p.width=p.right-p.left,p.height=p.bottom-p.top,p.x=p.left,p.y=p.top,p}function oP(i){var r=i.reference,t=i.element,o=i.placement,l=o?pl(o):null,u=o?_p(o):null,d=r.x+r.width/2-t.width/2,p=r.y+r.height/2-t.height/2,m;switch(l){case $o:m={x:d,y:r.y-t.height};break;case ta:m={x:d,y:r.y+r.height};break;case ea:m={x:r.x+r.width,y:p};break;case ts:m={x:r.x-t.width,y:p};break;default:m={x:r.x,y:r.y}}var v=l?Gx(l):null;if(v!=null){var x=v==="y"?"height":"width";switch(u){case bp:m[v]=m[v]-(r[x]/2-t[x]/2);break;case Dg:m[v]=m[v]+(r[x]/2-t[x]/2);break}}return m}function Fg(i,r){r===void 0&&(r={});var t=r,o=t.placement,l=o===void 0?i.placement:o,u=t.strategy,d=u===void 0?i.strategy:u,p=t.boundary,m=p===void 0?YD:p,v=t.rootBoundary,x=v===void 0?JC:v,k=t.elementContext,C=k===void 0?ig:k,M=t.altBoundary,I=M===void 0?!1:M,D=t.padding,j=D===void 0?0:D,H=rP(typeof j!="number"?j:iP(j,lm)),J=C===ig?XD:ig,q=i.rects.popper,W=i.elements[I?J:C],st=P6(Ch(W)?W:W.contextElement||Eu(i.elements.popper),m,x,d),mt=xp(i.elements.reference),gt=oP({reference:mt,element:q,strategy:"absolute",placement:l}),ot=w1(Object.assign({},q,gt)),U=C===ig?ot:mt,et={top:st.top-U.top+H.top,bottom:U.bottom-st.bottom+H.bottom,left:st.left-U.left+H.left,right:U.right-st.right+H.right},lt=i.modifiersData.offset;if(C===ig&&lt){var ht=lt[l];Object.keys(et).forEach(function(Gt){var St=[ea,ta].indexOf(Gt)>=0?1:-1,Lt=[$o,ta].indexOf(Gt)>=0?"y":"x";et[Gt]+=ht[Lt]*St})}return et}function M6(i,r){r===void 0&&(r={});var t=r,o=t.placement,l=t.boundary,u=t.rootBoundary,d=t.padding,p=t.flipVariations,m=t.allowedAutoPlacements,v=m===void 0?QC:m,x=_p(o),k=x?p?aT:aT.filter(function(I){return _p(I)===x}):lm,C=k.filter(function(I){return v.indexOf(I)>=0});C.length===0&&(C=k);var M=C.reduce(function(I,D){return I[D]=Fg(i,{placement:D,boundary:l,rootBoundary:u,padding:d})[pl(D)],I},{});return Object.keys(M).sort(function(I,D){return M[I]-M[D]})}function I6(i){if(pl(i)===jx)return[];var r=wv(i);return[uT(i),r,uT(r)]}function L6(i){var r=i.state,t=i.options,o=i.name;if(!r.modifiersData[o]._skip){for(var l=t.mainAxis,u=l===void 0?!0:l,d=t.altAxis,p=d===void 0?!0:d,m=t.fallbackPlacements,v=t.padding,x=t.boundary,k=t.rootBoundary,C=t.altBoundary,M=t.flipVariations,I=M===void 0?!0:M,D=t.allowedAutoPlacements,j=r.options.placement,H=pl(j),J=H===j,q=m||(J||!I?[wv(j)]:I6(j)),W=[j].concat(q).reduce(function(ge,ae){return ge.concat(pl(ae)===jx?M6(r,{placement:ae,boundary:x,rootBoundary:k,padding:v,flipVariations:I,allowedAutoPlacements:D}):ae)},[]),st=r.rects.reference,mt=r.rects.popper,gt=new Map,ot=!0,U=W[0],et=0;et<W.length;et++){var lt=W[et],ht=pl(lt),Gt=_p(lt)===bp,St=[$o,ta].indexOf(ht)>=0,Lt=St?"width":"height",xt=Fg(r,{placement:lt,boundary:x,rootBoundary:k,altBoundary:C,padding:v}),Dt=St?Gt?ea:ts:Gt?ta:$o;st[Lt]>mt[Lt]&&(Dt=wv(Dt));var zt=wv(Dt),fe=[];if(u&&fe.push(xt[ht]<=0),p&&fe.push(xt[Dt]<=0,xt[zt]<=0),fe.every(function(ge){return ge})){U=lt,ot=!1;break}gt.set(lt,fe)}if(ot)for(var yt=I?3:1,At=function(ae){var ue=W.find(function(rr){var mr=gt.get(rr);if(mr)return mr.slice(0,ae).every(function(vi){return vi})});if(ue)return U=ue,"break"},Xt=yt;Xt>0;Xt--){var ee=At(Xt);if(ee==="break")break}r.placement!==U&&(r.modifiersData[o]._skip=!0,r.placement=U,r.reset=!0)}}const A6={name:"flip",enabled:!0,phase:"main",fn:L6,requiresIfExists:["offset"],data:{_skip:!1}};function dT(i,r,t){return t===void 0&&(t={x:0,y:0}),{top:i.top-r.height-t.y,right:i.right-r.width+t.x,bottom:i.bottom-r.height+t.y,left:i.left-r.width-t.x}}function pT(i){return[$o,ea,ta,ts].some(function(r){return i[r]>=0})}function R6(i){var r=i.state,t=i.name,o=r.rects.reference,l=r.rects.popper,u=r.modifiersData.preventOverflow,d=Fg(r,{elementContext:"reference"}),p=Fg(r,{altBoundary:!0}),m=dT(d,o),v=dT(p,l,u),x=pT(m),k=pT(v);r.modifiersData[t]={referenceClippingOffsets:m,popperEscapeOffsets:v,isReferenceHidden:x,hasPopperEscaped:k},r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-reference-hidden":x,"data-popper-escaped":k})}const O6={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:R6};function z6(i,r,t){var o=pl(i),l=[ts,$o].indexOf(o)>=0?-1:1,u=typeof t=="function"?t(Object.assign({},r,{placement:i})):t,d=u[0],p=u[1];return d=d||0,p=(p||0)*l,[ts,ea].indexOf(o)>=0?{x:p,y:d}:{x:d,y:p}}function N6(i){var r=i.state,t=i.options,o=i.name,l=t.offset,u=l===void 0?[0,0]:l,d=QC.reduce(function(x,k){return x[k]=z6(k,r.rects,u),x},{}),p=d[r.placement],m=p.x,v=p.y;r.modifiersData.popperOffsets!=null&&(r.modifiersData.popperOffsets.x+=m,r.modifiersData.popperOffsets.y+=v),r.modifiersData[o]=d}const D6={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:N6};function F6(i){var r=i.state,t=i.name;r.modifiersData[t]=oP({reference:r.rects.reference,element:r.rects.popper,strategy:"absolute",placement:r.placement})}const B6={name:"popperOffsets",enabled:!0,phase:"read",fn:F6,data:{}};function j6(i){return i==="x"?"y":"x"}function H6(i){var r=i.state,t=i.options,o=i.name,l=t.mainAxis,u=l===void 0?!0:l,d=t.altAxis,p=d===void 0?!1:d,m=t.boundary,v=t.rootBoundary,x=t.altBoundary,k=t.padding,C=t.tether,M=C===void 0?!0:C,I=t.tetherOffset,D=I===void 0?0:I,j=Fg(r,{boundary:m,rootBoundary:v,padding:k,altBoundary:x}),H=pl(r.placement),J=_p(r.placement),q=!J,W=Gx(H),st=j6(W),mt=r.modifiersData.popperOffsets,gt=r.rects.reference,ot=r.rects.popper,U=typeof D=="function"?D(Object.assign({},r.rects,{placement:r.placement})):D,et=typeof U=="number"?{mainAxis:U,altAxis:U}:Object.assign({mainAxis:0,altAxis:0},U),lt=r.modifiersData.offset?r.modifiersData.offset[r.placement]:null,ht={x:0,y:0};if(mt){if(u){var Gt,St=W==="y"?$o:ts,Lt=W==="y"?ta:ea,xt=W==="y"?"height":"width",Dt=mt[W],zt=Dt+j[St],fe=Dt-j[Lt],yt=M?-ot[xt]/2:0,At=J===bp?gt[xt]:ot[xt],Xt=J===bp?-ot[xt]:-gt[xt],ee=r.elements.arrow,ge=M&&ee?Ux(ee):{width:0,height:0},ae=r.modifiersData["arrow#persistent"]?r.modifiersData["arrow#persistent"].padding:eP(),ue=ae[St],rr=ae[Lt],mr=_g(0,gt[xt],ge[xt]),vi=q?gt[xt]/2-yt-mr-ue-et.mainAxis:At-mr-ue-et.mainAxis,Xi=q?-gt[xt]/2+yt+mr+rr+et.mainAxis:Xt+mr+rr+et.mainAxis,Bi=r.elements.arrow&&cm(r.elements.arrow),bt=Bi?W==="y"?Bi.clientTop||0:Bi.clientLeft||0:0,Et=(Gt=lt==null?void 0:lt[W])!=null?Gt:0,Ht=Dt+vi-Et-bt,A=Dt+Xi-Et,G=_g(M?Vv(zt,Ht):zt,Dt,M?xh(fe,A):fe);mt[W]=G,ht[W]=G-Dt}if(p){var at,ft=W==="x"?$o:ts,pt=W==="x"?ta:ea,kt=mt[st],dt=st==="y"?"height":"width",Ot=kt+j[ft],$t=kt-j[pt],te=[$o,ts].indexOf(H)!==-1,re=(at=lt==null?void 0:lt[st])!=null?at:0,be=te?Ot:kt-gt[dt]-ot[dt]-re+et.altAxis,_e=te?kt+gt[dt]+ot[dt]-re-et.altAxis:$t,je=M&&te?h6(be,kt,_e):_g(M?be:Ot,kt,M?_e:$t);mt[st]=je,ht[st]=je-kt}r.modifiersData[o]=ht}}const U6={name:"preventOverflow",enabled:!0,phase:"main",fn:H6,requiresIfExists:["offset"]};function G6(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}}function q6(i){return i===xs(i)||!Qs(i)?qx(i):G6(i)}function V6(i){var r=i.getBoundingClientRect(),t=wp(r.width)/i.offsetWidth||1,o=wp(r.height)/i.offsetHeight||1;return t!==1||o!==1}function W6(i,r,t){t===void 0&&(t=!1);var o=Qs(r),l=Qs(r)&&V6(r),u=Eu(r),d=xp(i,l,t),p={scrollLeft:0,scrollTop:0},m={x:0,y:0};return(o||!o&&!t)&&((ml(r)!=="body"||Wx(u))&&(p=q6(r)),Qs(r)?(m=xp(r,!0),m.x+=r.clientLeft,m.y+=r.clientTop):u&&(m.x=Vx(u))),{x:d.left+p.scrollLeft-m.x,y:d.top+p.scrollTop-m.y,width:d.width,height:d.height}}function Z6(i){var r=new Map,t=new Set,o=[];i.forEach(function(u){r.set(u.name,u)});function l(u){t.add(u.name);var d=[].concat(u.requires||[],u.requiresIfExists||[]);d.forEach(function(p){if(!t.has(p)){var m=r.get(p);m&&l(m)}}),o.push(u)}return i.forEach(function(u){t.has(u.name)||l(u)}),o}function Y6(i){var r=Z6(i);return o6.reduce(function(t,o){return t.concat(r.filter(function(l){return l.phase===o}))},[])}function X6(i){var r;return function(){return r||(r=new Promise(function(t){Promise.resolve().then(function(){r=void 0,t(i())})})),r}}function K6(i){var r=i.reduce(function(t,o){var l=t[o.name];return t[o.name]=l?Object.assign({},l,o,{options:Object.assign({},l.options,o.options),data:Object.assign({},l.data,o.data)}):o,t},{});return Object.keys(r).map(function(t){return r[t]})}var fT={placement:"bottom",modifiers:[],strategy:"absolute"};function gT(){for(var i=arguments.length,r=new Array(i),t=0;t<i;t++)r[t]=arguments[t];return!r.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function J6(i){i===void 0&&(i={});var r=i,t=r.defaultModifiers,o=t===void 0?[]:t,l=r.defaultOptions,u=l===void 0?fT:l;return function(p,m,v){v===void 0&&(v=u);var x={placement:"bottom",orderedModifiers:[],options:Object.assign({},fT,u),modifiersData:{},elements:{reference:p,popper:m},attributes:{},styles:{}},k=[],C=!1,M={state:x,setOptions:function(H){var J=typeof H=="function"?H(x.options):H;D(),x.options=Object.assign({},u,x.options,J),x.scrollParents={reference:Ch(p)?kg(p):p.contextElement?kg(p.contextElement):[],popper:kg(m)};var q=Y6(K6([].concat(o,x.options.modifiers)));return x.orderedModifiers=q.filter(function(W){return W.enabled}),I(),M.update()},forceUpdate:function(){if(!C){var H=x.elements,J=H.reference,q=H.popper;if(gT(J,q)){x.rects={reference:W6(J,cm(q),x.options.strategy==="fixed"),popper:Ux(q)},x.reset=!1,x.placement=x.options.placement,x.orderedModifiers.forEach(function(et){return x.modifiersData[et.name]=Object.assign({},et.data)});for(var W=0;W<x.orderedModifiers.length;W++){if(x.reset===!0){x.reset=!1,W=-1;continue}var st=x.orderedModifiers[W],mt=st.fn,gt=st.options,ot=gt===void 0?{}:gt,U=st.name;typeof mt=="function"&&(x=mt({state:x,options:ot,name:U,instance:M})||x)}}}},update:X6(function(){return new Promise(function(j){M.forceUpdate(),j(x)})}),destroy:function(){D(),C=!0}};if(!gT(p,m))return M;M.setOptions(v).then(function(j){!C&&v.onFirstUpdate&&v.onFirstUpdate(j)});function I(){x.orderedModifiers.forEach(function(j){var H=j.name,J=j.options,q=J===void 0?{}:J,W=j.effect;if(typeof W=="function"){var st=W({state:x,name:H,instance:M,options:q}),mt=function(){};k.push(st||mt)}})}function D(){k.forEach(function(j){return j()}),k=[]}return M}}var Q6=[x6,B6,b6,l6,D6,A6,U6,g6,O6],Ow=J6({defaultModifiers:Q6});/*
* HSTooltips
* @version: 1.4.0
* @author: HtmlStream
* @requires: @popperjs/core ^2.11.2
* @license: Licensed under MIT (https://preline.co/docs/license.html)
* Copyright 2023 Htmlstream
*/class $6 extends XC{constructor(t){super(".hs-tooltip");li(this,"root");this.root=t}init(){var t;(t=this.root)==null||t.addEventListener("click",o=>{const u=o.target.closest(this.selector);u&&this.getClassProperty(u,"--trigger")==="focus"&&this._focus(u),u&&this.getClassProperty(u,"--trigger")==="click"&&this._click(u)}),this.root.addEventListener("mousemove",o=>{const u=o.target.closest(this.selector);u&&this.getClassProperty(u,"--trigger")!=="focus"&&this.getClassProperty(u,"--trigger")!=="click"&&this._hover(u)})}_hover(t){if(t.classList.contains("show"))return;const o=t.querySelector(".hs-tooltip-toggle"),l=t.querySelector(".hs-tooltip-content"),u=this.getClassProperty(t,"--placement");Ow(o,l,{placement:u||"top",strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]}),this.show(t);const d=p=>{p.relatedTarget.closest(this.selector)&&p.relatedTarget.closest(this.selector)==t||(this.hide(t),t.removeEventListener("mouseleave",d,!0))};t.addEventListener("mouseleave",d,!0)}_focus(t){const o=t.querySelector(".hs-tooltip-toggle"),l=t.querySelector(".hs-tooltip-content"),u=this.getClassProperty(t,"--placement"),d=this.getClassProperty(t,"--strategy");Ow(o,l,{placement:u||"top",strategy:d||"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]}),this.show(t);const p=()=>{this.hide(t),t.removeEventListener("blur",p,!0)};t.addEventListener("blur",p,!0)}_click(t){if(t.classList.contains("show"))return;const o=t.querySelector(".hs-tooltip-toggle"),l=t.querySelector(".hs-tooltip-content"),u=this.getClassProperty(t,"--placement"),d=this.getClassProperty(t,"--strategy");Ow(o,l,{placement:u||"top",strategy:d||"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]}),this.show(t);const p=m=>{setTimeout(()=>{this.hide(t),t.removeEventListener("click",p,!0),t.removeEventListener("blur",p,!0)})};t.addEventListener("blur",p,!0),t.addEventListener("click",p,!0)}show(t){t.querySelector(".hs-tooltip-content").classList.remove("hidden"),setTimeout(()=>{t.classList.add("show"),this._fireEvent("show",t),this._dispatch("show.hs.tooltip",t,t)})}hide(t){const o=t.querySelector(".hs-tooltip-content");t.classList.remove("show"),this._fireEvent("hide",t),this._dispatch("hide.hs.tooltip",t,t),this.afterTransition(o,()=>{t.classList.contains("show")||o.classList.add("hidden")})}}const t8={class:"hs-tooltip-toggle block text-center",href:"javascript:;",title:"Click for more information"},e8=Jt("div",{class:"icon-wrapper"},[Jt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[Jt("path",{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"})])],-1),r8={class:"hs-tooltip-content z-30 hs-tooltip-shown:opacity-100 hs-tooltip-shown:visible hidden opacity-0 transition-opacity absolute invisible max-w-xs bg-white border border-gray-100 text-left rounded-lg shadow-md dark:bg-gray-800 dark:border-gray-700",role:"tooltip"},i8={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},n8={class:"p-4 md:p-5"},o8=["manifest"],s8=kn({__name:"ManifestPopup.ce",props:{manifest:{type:Object,required:!0}},setup(i){const r=i,t=se(null),o=Ce(()=>{var u;return(u=t==null?void 0:t.value)==null?void 0:u.parentNode});Ne(o,()=>{new $6(o.value).init()});const l=se(null);return Ne(r,()=>l.value=r.manifest),zo(()=>l.value=r.manifest),(u,d)=>(ce(),de("div",{ref_key:"root",ref:t,class:"hs-tooltip inline-block [--trigger:click] [--placement:bottom]"},[Jt("a",t8,[e8,Jt("div",r8,[Jt("div",i8,[Jt("div",n8,[l.value?(ce(),de("mdp-manifest",{key:0,manifest:l.value},null,8,o8)):ir("",!0)])])])])],512))}}),a8=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.mb-6{margin-bottom:1.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-\\[100\\%\\]{height:100%}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}mdp-header ul,mdp-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}svg{filter:invert(100%) sepia(0%) saturate(7487%) hue-rotate(339deg) brightness(115%) contrast(100%)}.icon-wrapper{background:rgba(0,0,0,.4);width:28px;height:28px;border-radius:50%;text-align:center;vertical-align:middle;padding:5px}
`,l8=no(s8,[["styles",[a8]]]);var x1={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(i,r){(function(t,o){o(r)})(Fx,function(t){var o="1.9.4";function l(f){var b,S,O,V;for(S=1,O=arguments.length;S<O;S++){V=arguments[S];for(b in V)f[b]=V[b]}return f}var u=Object.create||function(){function f(){}return function(b){return f.prototype=b,new f}}();function d(f,b){var S=Array.prototype.slice;if(f.bind)return f.bind.apply(f,S.call(arguments,1));var O=S.call(arguments,2);return function(){return f.apply(b,O.length?O.concat(S.call(arguments)):arguments)}}var p=0;function m(f){return"_leaflet_id"in f||(f._leaflet_id=++p),f._leaflet_id}function v(f,b,S){var O,V,it,wt;return wt=function(){O=!1,V&&(it.apply(S,V),V=!1)},it=function(){O?V=arguments:(f.apply(S,arguments),setTimeout(wt,b),O=!0)},it}function x(f,b,S){var O=b[1],V=b[0],it=O-V;return f===O&&S?f:((f-V)%it+it)%it+V}function k(){return!1}function C(f,b){if(b===!1)return f;var S=Math.pow(10,b===void 0?6:b);return Math.round(f*S)/S}function M(f){return f.trim?f.trim():f.replace(/^\s+|\s+$/g,"")}function I(f){return M(f).split(/\s+/)}function D(f,b){Object.prototype.hasOwnProperty.call(f,"options")||(f.options=f.options?u(f.options):{});for(var S in b)f.options[S]=b[S];return f.options}function j(f,b,S){var O=[];for(var V in f)O.push(encodeURIComponent(S?V.toUpperCase():V)+"="+encodeURIComponent(f[V]));return(!b||b.indexOf("?")===-1?"?":"&")+O.join("&")}var H=/\{ *([\w_ -]+) *\}/g;function J(f,b){return f.replace(H,function(S,O){var V=b[O];if(V===void 0)throw new Error("No value provided for variable "+S);return typeof V=="function"&&(V=V(b)),V})}var q=Array.isArray||function(f){return Object.prototype.toString.call(f)==="[object Array]"};function W(f,b){for(var S=0;S<f.length;S++)if(f[S]===b)return S;return-1}var st="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function mt(f){return window["webkit"+f]||window["moz"+f]||window["ms"+f]}var gt=0;function ot(f){var b=+new Date,S=Math.max(0,16-(b-gt));return gt=b+S,window.setTimeout(f,S)}var U=window.requestAnimationFrame||mt("RequestAnimationFrame")||ot,et=window.cancelAnimationFrame||mt("CancelAnimationFrame")||mt("CancelRequestAnimationFrame")||function(f){window.clearTimeout(f)};function lt(f,b,S){if(S&&U===ot)f.call(b);else return U.call(window,d(f,b))}function ht(f){f&&et.call(window,f)}var Gt={__proto__:null,extend:l,create:u,bind:d,get lastId(){return p},stamp:m,throttle:v,wrapNum:x,falseFn:k,formatNum:C,trim:M,splitWords:I,setOptions:D,getParamString:j,template:J,isArray:q,indexOf:W,emptyImageUrl:st,requestFn:U,cancelFn:et,requestAnimFrame:lt,cancelAnimFrame:ht};function St(){}St.extend=function(f){var b=function(){D(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},S=b.__super__=this.prototype,O=u(S);O.constructor=b,b.prototype=O;for(var V in this)Object.prototype.hasOwnProperty.call(this,V)&&V!=="prototype"&&V!=="__super__"&&(b[V]=this[V]);return f.statics&&l(b,f.statics),f.includes&&(Lt(f.includes),l.apply(null,[O].concat(f.includes))),l(O,f),delete O.statics,delete O.includes,O.options&&(O.options=S.options?u(S.options):{},l(O.options,f.options)),O._initHooks=[],O.callInitHooks=function(){if(!this._initHooksCalled){S.callInitHooks&&S.callInitHooks.call(this),this._initHooksCalled=!0;for(var it=0,wt=O._initHooks.length;it<wt;it++)O._initHooks[it].call(this)}},b},St.include=function(f){var b=this.prototype.options;return l(this.prototype,f),f.options&&(this.prototype.options=b,this.mergeOptions(f.options)),this},St.mergeOptions=function(f){return l(this.prototype.options,f),this},St.addInitHook=function(f){var b=Array.prototype.slice.call(arguments,1),S=typeof f=="function"?f:function(){this[f].apply(this,b)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(S),this};function Lt(f){if(!(typeof L>"u"||!L||!L.Mixin)){f=q(f)?f:[f];for(var b=0;b<f.length;b++)f[b]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var xt={on:function(f,b,S){if(typeof f=="object")for(var O in f)this._on(O,f[O],b);else{f=I(f);for(var V=0,it=f.length;V<it;V++)this._on(f[V],b,S)}return this},off:function(f,b,S){if(!arguments.length)delete this._events;else if(typeof f=="object")for(var O in f)this._off(O,f[O],b);else{f=I(f);for(var V=arguments.length===1,it=0,wt=f.length;it<wt;it++)V?this._off(f[it]):this._off(f[it],b,S)}return this},_on:function(f,b,S,O){if(typeof b!="function"){console.warn("wrong listener type: "+typeof b);return}if(this._listens(f,b,S)===!1){S===this&&(S=void 0);var V={fn:b,ctx:S};O&&(V.once=!0),this._events=this._events||{},this._events[f]=this._events[f]||[],this._events[f].push(V)}},_off:function(f,b,S){var O,V,it;if(this._events&&(O=this._events[f],!!O)){if(arguments.length===1){if(this._firingCount)for(V=0,it=O.length;V<it;V++)O[V].fn=k;delete this._events[f];return}if(typeof b!="function"){console.warn("wrong listener type: "+typeof b);return}var wt=this._listens(f,b,S);if(wt!==!1){var Ft=O[wt];this._firingCount&&(Ft.fn=k,this._events[f]=O=O.slice()),O.splice(wt,1)}}},fire:function(f,b,S){if(!this.listens(f,S))return this;var O=l({},b,{type:f,target:this,sourceTarget:b&&b.sourceTarget||this});if(this._events){var V=this._events[f];if(V){this._firingCount=this._firingCount+1||1;for(var it=0,wt=V.length;it<wt;it++){var Ft=V[it],Zt=Ft.fn;Ft.once&&this.off(f,Zt,Ft.ctx),Zt.call(Ft.ctx||this,O)}this._firingCount--}}return S&&this._propagateEvent(O),this},listens:function(f,b,S,O){typeof f!="string"&&console.warn('"string" type argument expected');var V=b;typeof b!="function"&&(O=!!b,V=void 0,S=void 0);var it=this._events&&this._events[f];if(it&&it.length&&this._listens(f,V,S)!==!1)return!0;if(O){for(var wt in this._eventParents)if(this._eventParents[wt].listens(f,b,S,O))return!0}return!1},_listens:function(f,b,S){if(!this._events)return!1;var O=this._events[f]||[];if(!b)return!!O.length;S===this&&(S=void 0);for(var V=0,it=O.length;V<it;V++)if(O[V].fn===b&&O[V].ctx===S)return V;return!1},once:function(f,b,S){if(typeof f=="object")for(var O in f)this._on(O,f[O],b,!0);else{f=I(f);for(var V=0,it=f.length;V<it;V++)this._on(f[V],b,S,!0)}return this},addEventParent:function(f){return this._eventParents=this._eventParents||{},this._eventParents[m(f)]=f,this},removeEventParent:function(f){return this._eventParents&&delete this._eventParents[m(f)],this},_propagateEvent:function(f){for(var b in this._eventParents)this._eventParents[b].fire(f.type,l({layer:f.target,propagatedFrom:f.target},f),!0)}};xt.addEventListener=xt.on,xt.removeEventListener=xt.clearAllEventListeners=xt.off,xt.addOneTimeEventListener=xt.once,xt.fireEvent=xt.fire,xt.hasEventListeners=xt.listens;var Dt=St.extend(xt);function zt(f,b,S){this.x=S?Math.round(f):f,this.y=S?Math.round(b):b}var fe=Math.trunc||function(f){return f>0?Math.floor(f):Math.ceil(f)};zt.prototype={clone:function(){return new zt(this.x,this.y)},add:function(f){return this.clone()._add(yt(f))},_add:function(f){return this.x+=f.x,this.y+=f.y,this},subtract:function(f){return this.clone()._subtract(yt(f))},_subtract:function(f){return this.x-=f.x,this.y-=f.y,this},divideBy:function(f){return this.clone()._divideBy(f)},_divideBy:function(f){return this.x/=f,this.y/=f,this},multiplyBy:function(f){return this.clone()._multiplyBy(f)},_multiplyBy:function(f){return this.x*=f,this.y*=f,this},scaleBy:function(f){return new zt(this.x*f.x,this.y*f.y)},unscaleBy:function(f){return new zt(this.x/f.x,this.y/f.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=fe(this.x),this.y=fe(this.y),this},distanceTo:function(f){f=yt(f);var b=f.x-this.x,S=f.y-this.y;return Math.sqrt(b*b+S*S)},equals:function(f){return f=yt(f),f.x===this.x&&f.y===this.y},contains:function(f){return f=yt(f),Math.abs(f.x)<=Math.abs(this.x)&&Math.abs(f.y)<=Math.abs(this.y)},toString:function(){return"Point("+C(this.x)+", "+C(this.y)+")"}};function yt(f,b,S){return f instanceof zt?f:q(f)?new zt(f[0],f[1]):f==null?f:typeof f=="object"&&"x"in f&&"y"in f?new zt(f.x,f.y):new zt(f,b,S)}function At(f,b){if(f)for(var S=b?[f,b]:f,O=0,V=S.length;O<V;O++)this.extend(S[O])}At.prototype={extend:function(f){var b,S;if(!f)return this;if(f instanceof zt||typeof f[0]=="number"||"x"in f)b=S=yt(f);else if(f=Xt(f),b=f.min,S=f.max,!b||!S)return this;return!this.min&&!this.max?(this.min=b.clone(),this.max=S.clone()):(this.min.x=Math.min(b.x,this.min.x),this.max.x=Math.max(S.x,this.max.x),this.min.y=Math.min(b.y,this.min.y),this.max.y=Math.max(S.y,this.max.y)),this},getCenter:function(f){return yt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,f)},getBottomLeft:function(){return yt(this.min.x,this.max.y)},getTopRight:function(){return yt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(f){var b,S;return typeof f[0]=="number"||f instanceof zt?f=yt(f):f=Xt(f),f instanceof At?(b=f.min,S=f.max):b=S=f,b.x>=this.min.x&&S.x<=this.max.x&&b.y>=this.min.y&&S.y<=this.max.y},intersects:function(f){f=Xt(f);var b=this.min,S=this.max,O=f.min,V=f.max,it=V.x>=b.x&&O.x<=S.x,wt=V.y>=b.y&&O.y<=S.y;return it&&wt},overlaps:function(f){f=Xt(f);var b=this.min,S=this.max,O=f.min,V=f.max,it=V.x>b.x&&O.x<S.x,wt=V.y>b.y&&O.y<S.y;return it&&wt},isValid:function(){return!!(this.min&&this.max)},pad:function(f){var b=this.min,S=this.max,O=Math.abs(b.x-S.x)*f,V=Math.abs(b.y-S.y)*f;return Xt(yt(b.x-O,b.y-V),yt(S.x+O,S.y+V))},equals:function(f){return f?(f=Xt(f),this.min.equals(f.getTopLeft())&&this.max.equals(f.getBottomRight())):!1}};function Xt(f,b){return!f||f instanceof At?f:new At(f,b)}function ee(f,b){if(f)for(var S=b?[f,b]:f,O=0,V=S.length;O<V;O++)this.extend(S[O])}ee.prototype={extend:function(f){var b=this._southWest,S=this._northEast,O,V;if(f instanceof ae)O=f,V=f;else if(f instanceof ee){if(O=f._southWest,V=f._northEast,!O||!V)return this}else return f?this.extend(ue(f)||ge(f)):this;return!b&&!S?(this._southWest=new ae(O.lat,O.lng),this._northEast=new ae(V.lat,V.lng)):(b.lat=Math.min(O.lat,b.lat),b.lng=Math.min(O.lng,b.lng),S.lat=Math.max(V.lat,S.lat),S.lng=Math.max(V.lng,S.lng)),this},pad:function(f){var b=this._southWest,S=this._northEast,O=Math.abs(b.lat-S.lat)*f,V=Math.abs(b.lng-S.lng)*f;return new ee(new ae(b.lat-O,b.lng-V),new ae(S.lat+O,S.lng+V))},getCenter:function(){return new ae((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ae(this.getNorth(),this.getWest())},getSouthEast:function(){return new ae(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(f){typeof f[0]=="number"||f instanceof ae||"lat"in f?f=ue(f):f=ge(f);var b=this._southWest,S=this._northEast,O,V;return f instanceof ee?(O=f.getSouthWest(),V=f.getNorthEast()):O=V=f,O.lat>=b.lat&&V.lat<=S.lat&&O.lng>=b.lng&&V.lng<=S.lng},intersects:function(f){f=ge(f);var b=this._southWest,S=this._northEast,O=f.getSouthWest(),V=f.getNorthEast(),it=V.lat>=b.lat&&O.lat<=S.lat,wt=V.lng>=b.lng&&O.lng<=S.lng;return it&&wt},overlaps:function(f){f=ge(f);var b=this._southWest,S=this._northEast,O=f.getSouthWest(),V=f.getNorthEast(),it=V.lat>b.lat&&O.lat<S.lat,wt=V.lng>b.lng&&O.lng<S.lng;return it&&wt},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(f,b){return f?(f=ge(f),this._southWest.equals(f.getSouthWest(),b)&&this._northEast.equals(f.getNorthEast(),b)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ge(f,b){return f instanceof ee?f:new ee(f,b)}function ae(f,b,S){if(isNaN(f)||isNaN(b))throw new Error("Invalid LatLng object: ("+f+", "+b+")");this.lat=+f,this.lng=+b,S!==void 0&&(this.alt=+S)}ae.prototype={equals:function(f,b){if(!f)return!1;f=ue(f);var S=Math.max(Math.abs(this.lat-f.lat),Math.abs(this.lng-f.lng));return S<=(b===void 0?1e-9:b)},toString:function(f){return"LatLng("+C(this.lat,f)+", "+C(this.lng,f)+")"},distanceTo:function(f){return mr.distance(this,ue(f))},wrap:function(){return mr.wrapLatLng(this)},toBounds:function(f){var b=180*f/40075017,S=b/Math.cos(Math.PI/180*this.lat);return ge([this.lat-b,this.lng-S],[this.lat+b,this.lng+S])},clone:function(){return new ae(this.lat,this.lng,this.alt)}};function ue(f,b,S){return f instanceof ae?f:q(f)&&typeof f[0]!="object"?f.length===3?new ae(f[0],f[1],f[2]):f.length===2?new ae(f[0],f[1]):null:f==null?f:typeof f=="object"&&"lat"in f?new ae(f.lat,"lng"in f?f.lng:f.lon,f.alt):b===void 0?null:new ae(f,b,S)}var rr={latLngToPoint:function(f,b){var S=this.projection.project(f),O=this.scale(b);return this.transformation._transform(S,O)},pointToLatLng:function(f,b){var S=this.scale(b),O=this.transformation.untransform(f,S);return this.projection.unproject(O)},project:function(f){return this.projection.project(f)},unproject:function(f){return this.projection.unproject(f)},scale:function(f){return 256*Math.pow(2,f)},zoom:function(f){return Math.log(f/256)/Math.LN2},getProjectedBounds:function(f){if(this.infinite)return null;var b=this.projection.bounds,S=this.scale(f),O=this.transformation.transform(b.min,S),V=this.transformation.transform(b.max,S);return new At(O,V)},infinite:!1,wrapLatLng:function(f){var b=this.wrapLng?x(f.lng,this.wrapLng,!0):f.lng,S=this.wrapLat?x(f.lat,this.wrapLat,!0):f.lat,O=f.alt;return new ae(S,b,O)},wrapLatLngBounds:function(f){var b=f.getCenter(),S=this.wrapLatLng(b),O=b.lat-S.lat,V=b.lng-S.lng;if(O===0&&V===0)return f;var it=f.getSouthWest(),wt=f.getNorthEast(),Ft=new ae(it.lat-O,it.lng-V),Zt=new ae(wt.lat-O,wt.lng-V);return new ee(Ft,Zt)}},mr=l({},rr,{wrapLng:[-180,180],R:6371e3,distance:function(f,b){var S=Math.PI/180,O=f.lat*S,V=b.lat*S,it=Math.sin((b.lat-f.lat)*S/2),wt=Math.sin((b.lng-f.lng)*S/2),Ft=it*it+Math.cos(O)*Math.cos(V)*wt*wt,Zt=2*Math.atan2(Math.sqrt(Ft),Math.sqrt(1-Ft));return this.R*Zt}}),vi=6378137,Xi={R:vi,MAX_LATITUDE:85.0511287798,project:function(f){var b=Math.PI/180,S=this.MAX_LATITUDE,O=Math.max(Math.min(S,f.lat),-S),V=Math.sin(O*b);return new zt(this.R*f.lng*b,this.R*Math.log((1+V)/(1-V))/2)},unproject:function(f){var b=180/Math.PI;return new ae((2*Math.atan(Math.exp(f.y/this.R))-Math.PI/2)*b,f.x*b/this.R)},bounds:function(){var f=vi*Math.PI;return new At([-f,-f],[f,f])}()};function Bi(f,b,S,O){if(q(f)){this._a=f[0],this._b=f[1],this._c=f[2],this._d=f[3];return}this._a=f,this._b=b,this._c=S,this._d=O}Bi.prototype={transform:function(f,b){return this._transform(f.clone(),b)},_transform:function(f,b){return b=b||1,f.x=b*(this._a*f.x+this._b),f.y=b*(this._c*f.y+this._d),f},untransform:function(f,b){return b=b||1,new zt((f.x/b-this._b)/this._a,(f.y/b-this._d)/this._c)}};function bt(f,b,S,O){return new Bi(f,b,S,O)}var Et=l({},mr,{code:"EPSG:3857",projection:Xi,transformation:function(){var f=.5/(Math.PI*Xi.R);return bt(f,.5,-f,.5)}()}),Ht=l({},Et,{code:"EPSG:900913"});function A(f){return document.createElementNS("http://www.w3.org/2000/svg",f)}function G(f,b){var S="",O,V,it,wt,Ft,Zt;for(O=0,it=f.length;O<it;O++){for(Ft=f[O],V=0,wt=Ft.length;V<wt;V++)Zt=Ft[V],S+=(V?"L":"M")+Zt.x+" "+Zt.y;S+=b?Fe.svg?"z":"x":""}return S||"M0 0"}var at=document.documentElement.style,ft="ActiveXObject"in window,pt=ft&&!document.addEventListener,kt="msLaunchUri"in navigator&&!("documentMode"in document),dt=Fo("webkit"),Ot=Fo("android"),$t=Fo("android 2")||Fo("android 3"),te=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),re=Ot&&Fo("Google")&&te<537&&!("AudioNode"in window),be=!!window.opera,_e=!kt&&Fo("chrome"),je=Fo("gecko")&&!dt&&!be&&!ft,$=!_e&&Fo("safari"),K=Fo("phantom"),ut="OTransition"in at,ct=navigator.platform.indexOf("Win")===0,Kt=ft&&"transition"in at,ne="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!$t,Te="MozPerspective"in at,ar=!window.L_DISABLE_3D&&(Kt||ne||Te)&&!ut&&!K,De=typeof orientation<"u"||Fo("mobile"),Wn=De&&dt,ji=De&&ne,Ss=!window.PointerEvent&&window.MSPointerEvent,ia=!!(window.PointerEvent||Ss),Tu="ontouchstart"in window||!!window.TouchEvent,Ji=!window.L_NO_TOUCH&&(Tu||ia),qy=De&&be,Su=De&&je,Vy=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,vc=function(){var f=!1;try{var b=Object.defineProperty({},"passive",{get:function(){f=!0}});window.addEventListener("testPassiveEventSupport",k,b),window.removeEventListener("testPassiveEventSupport",k,b)}catch{}return f}(),Cu=function(){return!!document.createElement("canvas").getContext}(),_l=!!(document.createElementNS&&A("svg").createSVGRect),fm=!!_l&&function(){var f=document.createElement("div");return f.innerHTML="<svg/>",(f.firstChild&&f.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),gm=!_l&&function(){try{var f=document.createElement("div");f.innerHTML='<v:shape adj="1"/>';var b=f.firstChild;return b.style.behavior="url(#default#VML)",b&&typeof b.adj=="object"}catch{return!1}}(),Op=navigator.platform.indexOf("Mac")===0,Oh=navigator.platform.indexOf("Linux")===0;function Fo(f){return navigator.userAgent.toLowerCase().indexOf(f)>=0}var Fe={ie:ft,ielt9:pt,edge:kt,webkit:dt,android:Ot,android23:$t,androidStock:re,opera:be,chrome:_e,gecko:je,safari:$,phantom:K,opera12:ut,win:ct,ie3d:Kt,webkit3d:ne,gecko3d:Te,any3d:ar,mobile:De,mobileWebkit:Wn,mobileWebkit3d:ji,msPointer:Ss,pointer:ia,touch:Ji,touchNative:Tu,mobileOpera:qy,mobileGecko:Su,retina:Vy,passiveEvents:vc,canvas:Cu,svg:_l,vml:gm,inlineSvg:fm,mac:Op,linux:Oh},kl=Fe.msPointer?"MSPointerDown":"pointerdown",zp=Fe.msPointer?"MSPointerMove":"pointermove",is=Fe.msPointer?"MSPointerUp":"pointerup",Pu=Fe.msPointer?"MSPointerCancel":"pointercancel",zh={touchstart:kl,touchmove:zp,touchend:is,touchcancel:Pu},mm={touchstart:Xy,touchmove:ja,touchend:ja,touchcancel:ja},yc={},vm=!1;function Wy(f,b,S){return b==="touchstart"&&Yy(),mm[b]?(S=mm[b].bind(this,S),f.addEventListener(zh[b],S,!1),S):(console.warn("wrong event specified:",b),k)}function ym(f,b,S){if(!zh[b]){console.warn("wrong event specified:",b);return}f.removeEventListener(zh[b],S,!1)}function Zy(f){yc[f.pointerId]=f}function bm(f){yc[f.pointerId]&&(yc[f.pointerId]=f)}function Np(f){delete yc[f.pointerId]}function Yy(){vm||(document.addEventListener(kl,Zy,!0),document.addEventListener(zp,bm,!0),document.addEventListener(is,Np,!0),document.addEventListener(Pu,Np,!0),vm=!0)}function ja(f,b){if(b.pointerType!==(b.MSPOINTER_TYPE_MOUSE||"mouse")){b.touches=[];for(var S in yc)b.touches.push(yc[S]);b.changedTouches=[b],f(b)}}function Xy(f,b){b.MSPOINTER_TYPE_TOUCH&&b.pointerType===b.MSPOINTER_TYPE_TOUCH&&Qi(b),ja(f,b)}function Ky(f){var b={},S,O;for(O in f)S=f[O],b[O]=S&&S.bind?S.bind(f):S;return f=b,b.type="dblclick",b.detail=2,b.isTrusted=!1,b._simulated=!0,b}var Nh=200;function wm(f,b){f.addEventListener("dblclick",b);var S=0,O;function V(it){if(it.detail!==1){O=it.detail;return}if(!(it.pointerType==="mouse"||it.sourceCapabilities&&!it.sourceCapabilities.firesTouchEvents)){var wt=Em(it);if(!(wt.some(function(Zt){return Zt instanceof HTMLLabelElement&&Zt.attributes.for})&&!wt.some(function(Zt){return Zt instanceof HTMLInputElement||Zt instanceof HTMLSelectElement}))){var Ft=Date.now();Ft-S<=Nh?(O++,O===2&&b(Ky(it))):O=1,S=Ft}}}return f.addEventListener("click",V),{dblclick:b,simDblclick:V}}function Jy(f,b){f.removeEventListener("dblclick",b.dblclick),f.removeEventListener("click",b.simDblclick)}var Dh=Lu(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Mu=Lu(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),xm=Mu==="webkitTransition"||Mu==="OTransition"?Mu+"End":"transitionend";function _m(f){return typeof f=="string"?document.getElementById(f):f}function bc(f,b){var S=f.style[b]||f.currentStyle&&f.currentStyle[b];if((!S||S==="auto")&&document.defaultView){var O=document.defaultView.getComputedStyle(f,null);S=O?O[b]:null}return S==="auto"?null:S}function ei(f,b,S){var O=document.createElement(f);return O.className=b||"",S&&S.appendChild(O),O}function ki(f){var b=f.parentNode;b&&b.removeChild(f)}function Iu(f){for(;f.firstChild;)f.removeChild(f.firstChild)}function Ha(f){var b=f.parentNode;b&&b.lastChild!==f&&b.appendChild(f)}function Ua(f){var b=f.parentNode;b&&b.firstChild!==f&&b.insertBefore(f,b.firstChild)}function wc(f,b){if(f.classList!==void 0)return f.classList.contains(b);var S=xc(f);return S.length>0&&new RegExp("(^|\\s)"+b+"(\\s|$)").test(S)}function ur(f,b){if(f.classList!==void 0)for(var S=I(b),O=0,V=S.length;O<V;O++)f.classList.add(S[O]);else if(!wc(f,b)){var it=xc(f);Fh(f,(it?it+" ":"")+b)}}function Je(f,b){f.classList!==void 0?f.classList.remove(b):Fh(f,M((" "+xc(f)+" ").replace(" "+b+" "," ")))}function Fh(f,b){f.className.baseVal===void 0?f.className=b:f.className.baseVal=b}function xc(f){return f.correspondingElement&&(f=f.correspondingElement),f.className.baseVal===void 0?f.className:f.className.baseVal}function nr(f,b){"opacity"in f.style?f.style.opacity=b:"filter"in f.style&&km(f,b)}function km(f,b){var S=!1,O="DXImageTransform.Microsoft.Alpha";try{S=f.filters.item(O)}catch{if(b===1)return}b=Math.round(b*100),S?(S.Enabled=b!==100,S.Opacity=b):f.style.filter+=" progid:"+O+"(opacity="+b+")"}function Lu(f){for(var b=document.documentElement.style,S=0;S<f.length;S++)if(f[S]in b)return f[S];return!1}function El(f,b,S){var O=b||new zt(0,0);f.style[Dh]=(Fe.ie3d?"translate("+O.x+"px,"+O.y+"px)":"translate3d("+O.x+"px,"+O.y+"px,0)")+(S?" scale("+S+")":"")}function Ki(f,b){f._leaflet_pos=b,Fe.any3d?El(f,b):(f.style.left=b.x+"px",f.style.top=b.y+"px")}function Si(f){return f._leaflet_pos||new zt(0,0)}var _c,kc,Au;if("onselectstart"in document)_c=function(){sr(window,"selectstart",Qi)},kc=function(){ui(window,"selectstart",Qi)};else{var Ec=Lu(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);_c=function(){if(Ec){var f=document.documentElement.style;Au=f[Ec],f[Ec]="none"}},kc=function(){Ec&&(document.documentElement.style[Ec]=Au,Au=void 0)}}function Dp(){sr(window,"dragstart",Qi)}function Tc(){ui(window,"dragstart",Qi)}var Bh,jh;function Fp(f){for(;f.tabIndex===-1;)f=f.parentNode;f.style&&(Hh(),Bh=f,jh=f.style.outlineStyle,f.style.outlineStyle="none",sr(window,"keydown",Hh))}function Hh(){Bh&&(Bh.style.outlineStyle=jh,Bh=void 0,jh=void 0,ui(window,"keydown",Hh))}function Ru(f){do f=f.parentNode;while((!f.offsetWidth||!f.offsetHeight)&&f!==document.body);return f}function Ou(f){var b=f.getBoundingClientRect();return{x:b.width/f.offsetWidth||1,y:b.height/f.offsetHeight||1,boundingClientRect:b}}var Tl={__proto__:null,TRANSFORM:Dh,TRANSITION:Mu,TRANSITION_END:xm,get:_m,getStyle:bc,create:ei,remove:ki,empty:Iu,toFront:Ha,toBack:Ua,hasClass:wc,addClass:ur,removeClass:Je,setClass:Fh,getClass:xc,setOpacity:nr,testProp:Lu,setTransform:El,setPosition:Ki,getPosition:Si,get disableTextSelection(){return _c},get enableTextSelection(){return kc},disableImageDrag:Dp,enableImageDrag:Tc,preventOutline:Fp,restoreOutline:Hh,getSizedParentNode:Ru,getScale:Ou};function sr(f,b,S,O){if(b&&typeof b=="object")for(var V in b)jp(f,V,b[V],S);else{b=I(b);for(var it=0,wt=b.length;it<wt;it++)jp(f,b[it],S,O)}return this}var ns="_leaflet_events";function ui(f,b,S,O){if(arguments.length===1)Uh(f),delete f[ns];else if(b&&typeof b=="object")for(var V in b)zu(f,V,b[V],S);else if(b=I(b),arguments.length===2)Uh(f,function(Ft){return W(b,Ft)!==-1});else for(var it=0,wt=b.length;it<wt;it++)zu(f,b[it],S,O);return this}function Uh(f,b){for(var S in f[ns]){var O=S.split(/\d/)[0];(!b||b(O))&&zu(f,O,null,null,S)}}var Bp={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function jp(f,b,S,O){var V=b+m(S)+(O?"_"+m(O):"");if(f[ns]&&f[ns][V])return this;var it=function(Ft){return S.call(O||f,Ft||window.event)},wt=it;!Fe.touchNative&&Fe.pointer&&b.indexOf("touch")===0?it=Wy(f,b,it):Fe.touch&&b==="dblclick"?it=wm(f,it):"addEventListener"in f?b==="touchstart"||b==="touchmove"||b==="wheel"||b==="mousewheel"?f.addEventListener(Bp[b]||b,it,Fe.passiveEvents?{passive:!1}:!1):b==="mouseenter"||b==="mouseleave"?(it=function(Ft){Ft=Ft||window.event,na(f,Ft)&&wt(Ft)},f.addEventListener(Bp[b],it,!1)):f.addEventListener(b,wt,!1):f.attachEvent("on"+b,it),f[ns]=f[ns]||{},f[ns][V]=it}function zu(f,b,S,O,V){V=V||b+m(S)+(O?"_"+m(O):"");var it=f[ns]&&f[ns][V];if(!it)return this;!Fe.touchNative&&Fe.pointer&&b.indexOf("touch")===0?ym(f,b,it):Fe.touch&&b==="dblclick"?Jy(f,it):"removeEventListener"in f?f.removeEventListener(Bp[b]||b,it,!1):f.detachEvent("on"+b,it),f[ns][V]=null}function Sl(f){return f.stopPropagation?f.stopPropagation():f.originalEvent?f.originalEvent._stopped=!0:f.cancelBubble=!0,this}function Hp(f){return jp(f,"wheel",Sl),this}function Sc(f){return sr(f,"mousedown touchstart dblclick contextmenu",Sl),f._leaflet_disable_click=!0,this}function Qi(f){return f.preventDefault?f.preventDefault():f.returnValue=!1,this}function Cl(f){return Qi(f),Sl(f),this}function Em(f){if(f.composedPath)return f.composedPath();for(var b=[],S=f.target;S;)b.push(S),S=S.parentNode;return b}function Tm(f,b){if(!b)return new zt(f.clientX,f.clientY);var S=Ou(b),O=S.boundingClientRect;return new zt((f.clientX-O.left)/S.x-b.clientLeft,(f.clientY-O.top)/S.y-b.clientTop)}var Qy=Fe.linux&&Fe.chrome?window.devicePixelRatio:Fe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Sm(f){return Fe.edge?f.wheelDeltaY/2:f.deltaY&&f.deltaMode===0?-f.deltaY/Qy:f.deltaY&&f.deltaMode===1?-f.deltaY*20:f.deltaY&&f.deltaMode===2?-f.deltaY*60:f.deltaX||f.deltaZ?0:f.wheelDelta?(f.wheelDeltaY||f.wheelDelta)/2:f.detail&&Math.abs(f.detail)<32765?-f.detail*20:f.detail?f.detail/-32765*60:0}function na(f,b){var S=b.relatedTarget;if(!S)return!0;try{for(;S&&S!==f;)S=S.parentNode}catch{return!1}return S!==f}var Up={__proto__:null,on:sr,off:ui,stopPropagation:Sl,disableScrollPropagation:Hp,disableClickPropagation:Sc,preventDefault:Qi,stop:Cl,getPropagationPath:Em,getMousePosition:Tm,getWheelDelta:Sm,isExternalTarget:na,addListener:sr,removeListener:ui},Gp=Dt.extend({run:function(f,b,S,O){this.stop(),this._el=f,this._inProgress=!0,this._duration=S||.25,this._easeOutPower=1/Math.max(O||.5,.2),this._startPos=Si(f),this._offset=b.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=lt(this._animate,this),this._step()},_step:function(f){var b=+new Date-this._startTime,S=this._duration*1e3;b<S?this._runFrame(this._easeOut(b/S),f):(this._runFrame(1),this._complete())},_runFrame:function(f,b){var S=this._startPos.add(this._offset.multiplyBy(f));b&&S._round(),Ki(this._el,S),this.fire("step")},_complete:function(){ht(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(f){return 1-Math.pow(1-f,this._easeOutPower)}}),Yr=Dt.extend({options:{crs:Et,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(f,b){b=D(this,b),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(f),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),b.maxBounds&&this.setMaxBounds(b.maxBounds),b.zoom!==void 0&&(this._zoom=this._limitZoom(b.zoom)),b.center&&b.zoom!==void 0&&this.setView(ue(b.center),b.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Mu&&Fe.any3d&&!Fe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),sr(this._proxy,xm,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(f,b,S){if(b=b===void 0?this._zoom:this._limitZoom(b),f=this._limitCenter(ue(f),b,this.options.maxBounds),S=S||{},this._stop(),this._loaded&&!S.reset&&S!==!0){S.animate!==void 0&&(S.zoom=l({animate:S.animate},S.zoom),S.pan=l({animate:S.animate,duration:S.duration},S.pan));var O=this._zoom!==b?this._tryAnimatedZoom&&this._tryAnimatedZoom(f,b,S.zoom):this._tryAnimatedPan(f,S.pan);if(O)return clearTimeout(this._sizeTimer),this}return this._resetView(f,b,S.pan&&S.pan.noMoveStart),this},setZoom:function(f,b){return this._loaded?this.setView(this.getCenter(),f,{zoom:b}):(this._zoom=f,this)},zoomIn:function(f,b){return f=f||(Fe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+f,b)},zoomOut:function(f,b){return f=f||(Fe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-f,b)},setZoomAround:function(f,b,S){var O=this.getZoomScale(b),V=this.getSize().divideBy(2),it=f instanceof zt?f:this.latLngToContainerPoint(f),wt=it.subtract(V).multiplyBy(1-1/O),Ft=this.containerPointToLatLng(V.add(wt));return this.setView(Ft,b,{zoom:S})},_getBoundsCenterZoom:function(f,b){b=b||{},f=f.getBounds?f.getBounds():ge(f);var S=yt(b.paddingTopLeft||b.padding||[0,0]),O=yt(b.paddingBottomRight||b.padding||[0,0]),V=this.getBoundsZoom(f,!1,S.add(O));if(V=typeof b.maxZoom=="number"?Math.min(b.maxZoom,V):V,V===1/0)return{center:f.getCenter(),zoom:V};var it=O.subtract(S).divideBy(2),wt=this.project(f.getSouthWest(),V),Ft=this.project(f.getNorthEast(),V),Zt=this.unproject(wt.add(Ft).divideBy(2).add(it),V);return{center:Zt,zoom:V}},fitBounds:function(f,b){if(f=ge(f),!f.isValid())throw new Error("Bounds are not valid.");var S=this._getBoundsCenterZoom(f,b);return this.setView(S.center,S.zoom,b)},fitWorld:function(f){return this.fitBounds([[-90,-180],[90,180]],f)},panTo:function(f,b){return this.setView(f,this._zoom,{pan:b})},panBy:function(f,b){if(f=yt(f).round(),b=b||{},!f.x&&!f.y)return this.fire("moveend");if(b.animate!==!0&&!this.getSize().contains(f))return this._resetView(this.unproject(this.project(this.getCenter()).add(f)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Gp,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),b.noMoveStart||this.fire("movestart"),b.animate!==!1){ur(this._mapPane,"leaflet-pan-anim");var S=this._getMapPanePos().subtract(f).round();this._panAnim.run(this._mapPane,S,b.duration||.25,b.easeLinearity)}else this._rawPanBy(f),this.fire("move").fire("moveend");return this},flyTo:function(f,b,S){if(S=S||{},S.animate===!1||!Fe.any3d)return this.setView(f,b,S);this._stop();var O=this.project(this.getCenter()),V=this.project(f),it=this.getSize(),wt=this._zoom;f=ue(f),b=b===void 0?wt:b;var Ft=Math.max(it.x,it.y),Zt=Ft*this.getZoomScale(wt,b),ie=V.distanceTo(O)||1,ke=1.42,Xe=ke*ke;function dr(Hi){var Vu=Hi?-1:1,Ym=Hi?Zt:Ft,zc=Zt*Zt-Ft*Ft+Vu*Xe*Xe*ie*ie,Xm=2*Ym*Xe*ie,cd=zc/Xm,hf=Math.sqrt(cd*cd+1)-cd,Dl=hf<1e-9?-18:Math.log(hf);return Dl}function On(Hi){return(Math.exp(Hi)-Math.exp(-Hi))/2}function tn(Hi){return(Math.exp(Hi)+Math.exp(-Hi))/2}function zn(Hi){return On(Hi)/tn(Hi)}var Yn=dr(0);function zl(Hi){return Ft*(tn(Yn)/tn(Yn+ke*Hi))}function qm(Hi){return Ft*(tn(Yn)*zn(Yn+ke*Hi)-On(Yn))/Xe}function Vm(Hi){return 1-Math.pow(1-Hi,1.5)}var Wm=Date.now(),Zm=(dr(1)-Yn)/ke,uf=S.duration?1e3*S.duration:1e3*Zm*.8;function Nl(){var Hi=(Date.now()-Wm)/uf,Vu=Vm(Hi)*Zm;Hi<=1?(this._flyToFrame=lt(Nl,this),this._move(this.unproject(O.add(V.subtract(O).multiplyBy(qm(Vu)/ie)),wt),this.getScaleZoom(Ft/zl(Vu),wt),{flyTo:!0})):this._move(f,b)._moveEnd(!0)}return this._moveStart(!0,S.noMoveStart),Nl.call(this),this},flyToBounds:function(f,b){var S=this._getBoundsCenterZoom(f,b);return this.flyTo(S.center,S.zoom,b)},setMaxBounds:function(f){return f=ge(f),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),f.isValid()?(this.options.maxBounds=f,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(f){var b=this.options.minZoom;return this.options.minZoom=f,this._loaded&&b!==f&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(f):this},setMaxZoom:function(f){var b=this.options.maxZoom;return this.options.maxZoom=f,this._loaded&&b!==f&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(f):this},panInsideBounds:function(f,b){this._enforcingBounds=!0;var S=this.getCenter(),O=this._limitCenter(S,this._zoom,ge(f));return S.equals(O)||this.panTo(O,b),this._enforcingBounds=!1,this},panInside:function(f,b){b=b||{};var S=yt(b.paddingTopLeft||b.padding||[0,0]),O=yt(b.paddingBottomRight||b.padding||[0,0]),V=this.project(this.getCenter()),it=this.project(f),wt=this.getPixelBounds(),Ft=Xt([wt.min.add(S),wt.max.subtract(O)]),Zt=Ft.getSize();if(!Ft.contains(it)){this._enforcingBounds=!0;var ie=it.subtract(Ft.getCenter()),ke=Ft.extend(it).getSize().subtract(Zt);V.x+=ie.x<0?-ke.x:ke.x,V.y+=ie.y<0?-ke.y:ke.y,this.panTo(this.unproject(V),b),this._enforcingBounds=!1}return this},invalidateSize:function(f){if(!this._loaded)return this;f=l({animate:!1,pan:!0},f===!0?{animate:!0}:f);var b=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var S=this.getSize(),O=b.divideBy(2).round(),V=S.divideBy(2).round(),it=O.subtract(V);return!it.x&&!it.y?this:(f.animate&&f.pan?this.panBy(it):(f.pan&&this._rawPanBy(it),this.fire("move"),f.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:b,newSize:S}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(f){if(f=this._locateOptions=l({timeout:1e4,watch:!1},f),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var b=d(this._handleGeolocationResponse,this),S=d(this._handleGeolocationError,this);return f.watch?this._locationWatchId=navigator.geolocation.watchPosition(b,S,f):navigator.geolocation.getCurrentPosition(b,S,f),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(f){if(this._container._leaflet_id){var b=f.code,S=f.message||(b===1?"permission denied":b===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:b,message:"Geolocation error: "+S+"."})}},_handleGeolocationResponse:function(f){if(this._container._leaflet_id){var b=f.coords.latitude,S=f.coords.longitude,O=new ae(b,S),V=O.toBounds(f.coords.accuracy*2),it=this._locateOptions;if(it.setView){var wt=this.getBoundsZoom(V);this.setView(O,it.maxZoom?Math.min(wt,it.maxZoom):wt)}var Ft={latlng:O,bounds:V,timestamp:f.timestamp};for(var Zt in f.coords)typeof f.coords[Zt]=="number"&&(Ft[Zt]=f.coords[Zt]);this.fire("locationfound",Ft)}},addHandler:function(f,b){if(!b)return this;var S=this[f]=new b(this);return this._handlers.push(S),this.options[f]&&S.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ki(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ht(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var f;for(f in this._layers)this._layers[f].remove();for(f in this._panes)ki(this._panes[f]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(f,b){var S="leaflet-pane"+(f?" leaflet-"+f.replace("Pane","")+"-pane":""),O=ei("div",S,b||this._mapPane);return f&&(this._panes[f]=O),O},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var f=this.getPixelBounds(),b=this.unproject(f.getBottomLeft()),S=this.unproject(f.getTopRight());return new ee(b,S)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(f,b,S){f=ge(f),S=yt(S||[0,0]);var O=this.getZoom()||0,V=this.getMinZoom(),it=this.getMaxZoom(),wt=f.getNorthWest(),Ft=f.getSouthEast(),Zt=this.getSize().subtract(S),ie=Xt(this.project(Ft,O),this.project(wt,O)).getSize(),ke=Fe.any3d?this.options.zoomSnap:1,Xe=Zt.x/ie.x,dr=Zt.y/ie.y,On=b?Math.max(Xe,dr):Math.min(Xe,dr);return O=this.getScaleZoom(On,O),ke&&(O=Math.round(O/(ke/100))*(ke/100),O=b?Math.ceil(O/ke)*ke:Math.floor(O/ke)*ke),Math.max(V,Math.min(it,O))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new zt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(f,b){var S=this._getTopLeftPoint(f,b);return new At(S,S.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(f){return this.options.crs.getProjectedBounds(f===void 0?this.getZoom():f)},getPane:function(f){return typeof f=="string"?this._panes[f]:f},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(f,b){var S=this.options.crs;return b=b===void 0?this._zoom:b,S.scale(f)/S.scale(b)},getScaleZoom:function(f,b){var S=this.options.crs;b=b===void 0?this._zoom:b;var O=S.zoom(f*S.scale(b));return isNaN(O)?1/0:O},project:function(f,b){return b=b===void 0?this._zoom:b,this.options.crs.latLngToPoint(ue(f),b)},unproject:function(f,b){return b=b===void 0?this._zoom:b,this.options.crs.pointToLatLng(yt(f),b)},layerPointToLatLng:function(f){var b=yt(f).add(this.getPixelOrigin());return this.unproject(b)},latLngToLayerPoint:function(f){var b=this.project(ue(f))._round();return b._subtract(this.getPixelOrigin())},wrapLatLng:function(f){return this.options.crs.wrapLatLng(ue(f))},wrapLatLngBounds:function(f){return this.options.crs.wrapLatLngBounds(ge(f))},distance:function(f,b){return this.options.crs.distance(ue(f),ue(b))},containerPointToLayerPoint:function(f){return yt(f).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(f){return yt(f).add(this._getMapPanePos())},containerPointToLatLng:function(f){var b=this.containerPointToLayerPoint(yt(f));return this.layerPointToLatLng(b)},latLngToContainerPoint:function(f){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ue(f)))},mouseEventToContainerPoint:function(f){return Tm(f,this._container)},mouseEventToLayerPoint:function(f){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(f))},mouseEventToLatLng:function(f){return this.layerPointToLatLng(this.mouseEventToLayerPoint(f))},_initContainer:function(f){var b=this._container=_m(f);if(b){if(b._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");sr(b,"scroll",this._onScroll,this),this._containerId=m(b)},_initLayout:function(){var f=this._container;this._fadeAnimated=this.options.fadeAnimation&&Fe.any3d,ur(f,"leaflet-container"+(Fe.touch?" leaflet-touch":"")+(Fe.retina?" leaflet-retina":"")+(Fe.ielt9?" leaflet-oldie":"")+(Fe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var b=bc(f,"position");b!=="absolute"&&b!=="relative"&&b!=="fixed"&&b!=="sticky"&&(f.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var f=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ki(this._mapPane,new zt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ur(f.markerPane,"leaflet-zoom-hide"),ur(f.shadowPane,"leaflet-zoom-hide"))},_resetView:function(f,b,S){Ki(this._mapPane,new zt(0,0));var O=!this._loaded;this._loaded=!0,b=this._limitZoom(b),this.fire("viewprereset");var V=this._zoom!==b;this._moveStart(V,S)._move(f,b)._moveEnd(V),this.fire("viewreset"),O&&this.fire("load")},_moveStart:function(f,b){return f&&this.fire("zoomstart"),b||this.fire("movestart"),this},_move:function(f,b,S,O){b===void 0&&(b=this._zoom);var V=this._zoom!==b;return this._zoom=b,this._lastCenter=f,this._pixelOrigin=this._getNewPixelOrigin(f),O?S&&S.pinch&&this.fire("zoom",S):((V||S&&S.pinch)&&this.fire("zoom",S),this.fire("move",S)),this},_moveEnd:function(f){return f&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ht(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(f){Ki(this._mapPane,this._getMapPanePos().subtract(f))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(f){this._targets={},this._targets[m(this._container)]=this;var b=f?ui:sr;b(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&b(window,"resize",this._onResize,this),Fe.any3d&&this.options.transform3DLimit&&(f?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ht(this._resizeRequest),this._resizeRequest=lt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var f=this._getMapPanePos();Math.max(Math.abs(f.x),Math.abs(f.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(f,b){for(var S=[],O,V=b==="mouseout"||b==="mouseover",it=f.target||f.srcElement,wt=!1;it;){if(O=this._targets[m(it)],O&&(b==="click"||b==="preclick")&&this._draggableMoved(O)){wt=!0;break}if(O&&O.listens(b,!0)&&(V&&!na(it,f)||(S.push(O),V))||it===this._container)break;it=it.parentNode}return!S.length&&!wt&&!V&&this.listens(b,!0)&&(S=[this]),S},_isClickDisabled:function(f){for(;f&&f!==this._container;){if(f._leaflet_disable_click)return!0;f=f.parentNode}},_handleDOMEvent:function(f){var b=f.target||f.srcElement;if(!(!this._loaded||b._leaflet_disable_events||f.type==="click"&&this._isClickDisabled(b))){var S=f.type;S==="mousedown"&&Fp(b),this._fireDOMEvent(f,S)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(f,b,S){if(f.type==="click"){var O=l({},f);O.type="preclick",this._fireDOMEvent(O,O.type,S)}var V=this._findEventTargets(f,b);if(S){for(var it=[],wt=0;wt<S.length;wt++)S[wt].listens(b,!0)&&it.push(S[wt]);V=it.concat(V)}if(V.length){b==="contextmenu"&&Qi(f);var Ft=V[0],Zt={originalEvent:f};if(f.type!=="keypress"&&f.type!=="keydown"&&f.type!=="keyup"){var ie=Ft.getLatLng&&(!Ft._radius||Ft._radius<=10);Zt.containerPoint=ie?this.latLngToContainerPoint(Ft.getLatLng()):this.mouseEventToContainerPoint(f),Zt.layerPoint=this.containerPointToLayerPoint(Zt.containerPoint),Zt.latlng=ie?Ft.getLatLng():this.layerPointToLatLng(Zt.layerPoint)}for(wt=0;wt<V.length;wt++)if(V[wt].fire(b,Zt,!0),Zt.originalEvent._stopped||V[wt].options.bubblingMouseEvents===!1&&W(this._mouseEvents,b)!==-1)return}},_draggableMoved:function(f){return f=f.dragging&&f.dragging.enabled()?f:this,f.dragging&&f.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var f=0,b=this._handlers.length;f<b;f++)this._handlers[f].disable()},whenReady:function(f,b){return this._loaded?f.call(b||this,{target:this}):this.on("load",f,b),this},_getMapPanePos:function(){return Si(this._mapPane)||new zt(0,0)},_moved:function(){var f=this._getMapPanePos();return f&&!f.equals([0,0])},_getTopLeftPoint:function(f,b){var S=f&&b!==void 0?this._getNewPixelOrigin(f,b):this.getPixelOrigin();return S.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(f,b){var S=this.getSize()._divideBy(2);return this.project(f,b)._subtract(S)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(f,b,S){var O=this._getNewPixelOrigin(S,b);return this.project(f,b)._subtract(O)},_latLngBoundsToNewLayerBounds:function(f,b,S){var O=this._getNewPixelOrigin(S,b);return Xt([this.project(f.getSouthWest(),b)._subtract(O),this.project(f.getNorthWest(),b)._subtract(O),this.project(f.getSouthEast(),b)._subtract(O),this.project(f.getNorthEast(),b)._subtract(O)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(f){return this.latLngToLayerPoint(f).subtract(this._getCenterLayerPoint())},_limitCenter:function(f,b,S){if(!S)return f;var O=this.project(f,b),V=this.getSize().divideBy(2),it=new At(O.subtract(V),O.add(V)),wt=this._getBoundsOffset(it,S,b);return Math.abs(wt.x)<=1&&Math.abs(wt.y)<=1?f:this.unproject(O.add(wt),b)},_limitOffset:function(f,b){if(!b)return f;var S=this.getPixelBounds(),O=new At(S.min.add(f),S.max.add(f));return f.add(this._getBoundsOffset(O,b))},_getBoundsOffset:function(f,b,S){var O=Xt(this.project(b.getNorthEast(),S),this.project(b.getSouthWest(),S)),V=O.min.subtract(f.min),it=O.max.subtract(f.max),wt=this._rebound(V.x,-it.x),Ft=this._rebound(V.y,-it.y);return new zt(wt,Ft)},_rebound:function(f,b){return f+b>0?Math.round(f-b)/2:Math.max(0,Math.ceil(f))-Math.max(0,Math.floor(b))},_limitZoom:function(f){var b=this.getMinZoom(),S=this.getMaxZoom(),O=Fe.any3d?this.options.zoomSnap:1;return O&&(f=Math.round(f/O)*O),Math.max(b,Math.min(S,f))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Je(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(f,b){var S=this._getCenterOffset(f)._trunc();return(b&&b.animate)!==!0&&!this.getSize().contains(S)?!1:(this.panBy(S,b),!0)},_createAnimProxy:function(){var f=this._proxy=ei("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(f),this.on("zoomanim",function(b){var S=Dh,O=this._proxy.style[S];El(this._proxy,this.project(b.center,b.zoom),this.getZoomScale(b.zoom,1)),O===this._proxy.style[S]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ki(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var f=this.getCenter(),b=this.getZoom();El(this._proxy,this.project(f,b),this.getZoomScale(b,1))},_catchTransitionEnd:function(f){this._animatingZoom&&f.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(f,b,S){if(this._animatingZoom)return!0;if(S=S||{},!this._zoomAnimated||S.animate===!1||this._nothingToAnimate()||Math.abs(b-this._zoom)>this.options.zoomAnimationThreshold)return!1;var O=this.getZoomScale(b),V=this._getCenterOffset(f)._divideBy(1-1/O);return S.animate!==!0&&!this.getSize().contains(V)?!1:(lt(function(){this._moveStart(!0,S.noMoveStart||!1)._animateZoom(f,b,!0)},this),!0)},_animateZoom:function(f,b,S,O){this._mapPane&&(S&&(this._animatingZoom=!0,this._animateToCenter=f,this._animateToZoom=b,ur(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:f,zoom:b,noUpdate:O}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Je(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function $y(f,b){return new Yr(f,b)}var xo=St.extend({options:{position:"topright"},initialize:function(f){D(this,f)},getPosition:function(){return this.options.position},setPosition:function(f){var b=this._map;return b&&b.removeControl(this),this.options.position=f,b&&b.addControl(this),this},getContainer:function(){return this._container},addTo:function(f){this.remove(),this._map=f;var b=this._container=this.onAdd(f),S=this.getPosition(),O=f._controlCorners[S];return ur(b,"leaflet-control"),S.indexOf("bottom")!==-1?O.insertBefore(b,O.firstChild):O.appendChild(b),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ki(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(f){this._map&&f&&f.screenX>0&&f.screenY>0&&this._map.getContainer().focus()}}),Nu=function(f){return new xo(f)};Yr.include({addControl:function(f){return f.addTo(this),this},removeControl:function(f){return f.remove(),this},_initControlPos:function(){var f=this._controlCorners={},b="leaflet-",S=this._controlContainer=ei("div",b+"control-container",this._container);function O(V,it){var wt=b+V+" "+b+it;f[V+it]=ei("div",wt,S)}O("top","left"),O("top","right"),O("bottom","left"),O("bottom","right")},_clearControlPos:function(){for(var f in this._controlCorners)ki(this._controlCorners[f]);ki(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Gh=xo.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(f,b,S,O){return S<O?-1:O<S?1:0}},initialize:function(f,b,S){D(this,S),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var O in f)this._addLayer(f[O],O);for(O in b)this._addLayer(b[O],O,!0)},onAdd:function(f){this._initLayout(),this._update(),this._map=f,f.on("zoomend",this._checkDisabledLayers,this);for(var b=0;b<this._layers.length;b++)this._layers[b].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(f){return xo.prototype.addTo.call(this,f),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(f,b){return this._addLayer(f,b),this._map?this._update():this},addOverlay:function(f,b){return this._addLayer(f,b,!0),this._map?this._update():this},removeLayer:function(f){f.off("add remove",this._onLayerChange,this);var b=this._getLayer(m(f));return b&&this._layers.splice(this._layers.indexOf(b),1),this._map?this._update():this},expand:function(){ur(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var f=this._map.getSize().y-(this._container.offsetTop+50);return f<this._section.clientHeight?(ur(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=f+"px"):Je(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Je(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var f="leaflet-control-layers",b=this._container=ei("div",f),S=this.options.collapsed;b.setAttribute("aria-haspopup",!0),Sc(b),Hp(b);var O=this._section=ei("section",f+"-list");S&&(this._map.on("click",this.collapse,this),sr(b,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var V=this._layersLink=ei("a",f+"-toggle",b);V.href="#",V.title="Layers",V.setAttribute("role","button"),sr(V,{keydown:function(it){it.keyCode===13&&this._expandSafely()},click:function(it){Qi(it),this._expandSafely()}},this),S||this.expand(),this._baseLayersList=ei("div",f+"-base",O),this._separator=ei("div",f+"-separator",O),this._overlaysList=ei("div",f+"-overlays",O),b.appendChild(O)},_getLayer:function(f){for(var b=0;b<this._layers.length;b++)if(this._layers[b]&&m(this._layers[b].layer)===f)return this._layers[b]},_addLayer:function(f,b,S){this._map&&f.on("add remove",this._onLayerChange,this),this._layers.push({layer:f,name:b,overlay:S}),this.options.sortLayers&&this._layers.sort(d(function(O,V){return this.options.sortFunction(O.layer,V.layer,O.name,V.name)},this)),this.options.autoZIndex&&f.setZIndex&&(this._lastZIndex++,f.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Iu(this._baseLayersList),Iu(this._overlaysList),this._layerControlInputs=[];var f,b,S,O,V=0;for(S=0;S<this._layers.length;S++)O=this._layers[S],this._addItem(O),b=b||O.overlay,f=f||!O.overlay,V+=O.overlay?0:1;return this.options.hideSingleBase&&(f=f&&V>1,this._baseLayersList.style.display=f?"":"none"),this._separator.style.display=b&&f?"":"none",this},_onLayerChange:function(f){this._handlingClick||this._update();var b=this._getLayer(m(f.target)),S=b.overlay?f.type==="add"?"overlayadd":"overlayremove":f.type==="add"?"baselayerchange":null;S&&this._map.fire(S,b)},_createRadioElement:function(f,b){var S='<input type="radio" class="leaflet-control-layers-selector" name="'+f+'"'+(b?' checked="checked"':"")+"/>",O=document.createElement("div");return O.innerHTML=S,O.firstChild},_addItem:function(f){var b=document.createElement("label"),S=this._map.hasLayer(f.layer),O;f.overlay?(O=document.createElement("input"),O.type="checkbox",O.className="leaflet-control-layers-selector",O.defaultChecked=S):O=this._createRadioElement("leaflet-base-layers_"+m(this),S),this._layerControlInputs.push(O),O.layerId=m(f.layer),sr(O,"click",this._onInputClick,this);var V=document.createElement("span");V.innerHTML=" "+f.name;var it=document.createElement("span");b.appendChild(it),it.appendChild(O),it.appendChild(V);var wt=f.overlay?this._overlaysList:this._baseLayersList;return wt.appendChild(b),this._checkDisabledLayers(),b},_onInputClick:function(){if(!this._preventClick){var f=this._layerControlInputs,b,S,O=[],V=[];this._handlingClick=!0;for(var it=f.length-1;it>=0;it--)b=f[it],S=this._getLayer(b.layerId).layer,b.checked?O.push(S):b.checked||V.push(S);for(it=0;it<V.length;it++)this._map.hasLayer(V[it])&&this._map.removeLayer(V[it]);for(it=0;it<O.length;it++)this._map.hasLayer(O[it])||this._map.addLayer(O[it]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var f=this._layerControlInputs,b,S,O=this._map.getZoom(),V=f.length-1;V>=0;V--)b=f[V],S=this._getLayer(b.layerId).layer,b.disabled=S.options.minZoom!==void 0&&O<S.options.minZoom||S.options.maxZoom!==void 0&&O>S.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var f=this._section;this._preventClick=!0,sr(f,"click",Qi),this.expand();var b=this;setTimeout(function(){ui(f,"click",Qi),b._preventClick=!1})}}),Cm=function(f,b,S){return new Gh(f,b,S)},qh=xo.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(f){var b="leaflet-control-zoom",S=ei("div",b+" leaflet-bar"),O=this.options;return this._zoomInButton=this._createButton(O.zoomInText,O.zoomInTitle,b+"-in",S,this._zoomIn),this._zoomOutButton=this._createButton(O.zoomOutText,O.zoomOutTitle,b+"-out",S,this._zoomOut),this._updateDisabled(),f.on("zoomend zoomlevelschange",this._updateDisabled,this),S},onRemove:function(f){f.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(f){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(f.shiftKey?3:1))},_zoomOut:function(f){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(f.shiftKey?3:1))},_createButton:function(f,b,S,O,V){var it=ei("a",S,O);return it.innerHTML=f,it.href="#",it.title=b,it.setAttribute("role","button"),it.setAttribute("aria-label",b),Sc(it),sr(it,"click",Cl),sr(it,"click",V,this),sr(it,"click",this._refocusOnMap,this),it},_updateDisabled:function(){var f=this._map,b="leaflet-disabled";Je(this._zoomInButton,b),Je(this._zoomOutButton,b),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||f._zoom===f.getMinZoom())&&(ur(this._zoomOutButton,b),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||f._zoom===f.getMaxZoom())&&(ur(this._zoomInButton,b),this._zoomInButton.setAttribute("aria-disabled","true"))}});Yr.mergeOptions({zoomControl:!0}),Yr.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new qh,this.addControl(this.zoomControl))});var tb=function(f){return new qh(f)},Pm=xo.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(f){var b="leaflet-control-scale",S=ei("div",b),O=this.options;return this._addScales(O,b+"-line",S),f.on(O.updateWhenIdle?"moveend":"move",this._update,this),f.whenReady(this._update,this),S},onRemove:function(f){f.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(f,b,S){f.metric&&(this._mScale=ei("div",b,S)),f.imperial&&(this._iScale=ei("div",b,S))},_update:function(){var f=this._map,b=f.getSize().y/2,S=f.distance(f.containerPointToLatLng([0,b]),f.containerPointToLatLng([this.options.maxWidth,b]));this._updateScales(S)},_updateScales:function(f){this.options.metric&&f&&this._updateMetric(f),this.options.imperial&&f&&this._updateImperial(f)},_updateMetric:function(f){var b=this._getRoundNum(f),S=b<1e3?b+" m":b/1e3+" km";this._updateScale(this._mScale,S,b/f)},_updateImperial:function(f){var b=f*3.2808399,S,O,V;b>5280?(S=b/5280,O=this._getRoundNum(S),this._updateScale(this._iScale,O+" mi",O/S)):(V=this._getRoundNum(b),this._updateScale(this._iScale,V+" ft",V/b))},_updateScale:function(f,b,S){f.style.width=Math.round(this.options.maxWidth*S)+"px",f.innerHTML=b},_getRoundNum:function(f){var b=Math.pow(10,(Math.floor(f)+"").length-1),S=f/b;return S=S>=10?10:S>=5?5:S>=3?3:S>=2?2:1,b*S}}),Mm=function(f){return new Pm(f)},qp='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Vh=xo.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Fe.inlineSvg?qp+" ":"")+"Leaflet</a>"},initialize:function(f){D(this,f),this._attributions={}},onAdd:function(f){f.attributionControl=this,this._container=ei("div","leaflet-control-attribution"),Sc(this._container);for(var b in f._layers)f._layers[b].getAttribution&&this.addAttribution(f._layers[b].getAttribution());return this._update(),f.on("layeradd",this._addAttribution,this),this._container},onRemove:function(f){f.off("layeradd",this._addAttribution,this)},_addAttribution:function(f){f.layer.getAttribution&&(this.addAttribution(f.layer.getAttribution()),f.layer.once("remove",function(){this.removeAttribution(f.layer.getAttribution())},this))},setPrefix:function(f){return this.options.prefix=f,this._update(),this},addAttribution:function(f){return f?(this._attributions[f]||(this._attributions[f]=0),this._attributions[f]++,this._update(),this):this},removeAttribution:function(f){return f?(this._attributions[f]&&(this._attributions[f]--,this._update()),this):this},_update:function(){if(this._map){var f=[];for(var b in this._attributions)this._attributions[b]&&f.push(b);var S=[];this.options.prefix&&S.push(this.options.prefix),f.length&&S.push(f.join(", ")),this._container.innerHTML=S.join(' <span aria-hidden="true">|</span> ')}}});Yr.mergeOptions({attributionControl:!0}),Yr.addInitHook(function(){this.options.attributionControl&&new Vh().addTo(this)});var Im=function(f){return new Vh(f)};xo.Layers=Gh,xo.Zoom=qh,xo.Scale=Pm,xo.Attribution=Vh,Nu.layers=Cm,Nu.zoom=tb,Nu.scale=Mm,Nu.attribution=Im;var $i=St.extend({initialize:function(f){this._map=f},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});$i.addTo=function(f,b){return f.addHandler(b,this),this};var Vp={Events:xt},Cs=Fe.touch?"touchstart mousedown":"mousedown",os=Dt.extend({options:{clickTolerance:3},initialize:function(f,b,S,O){D(this,O),this._element=f,this._dragStartTarget=b||f,this._preventOutline=S},enable:function(){this._enabled||(sr(this._dragStartTarget,Cs,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(os._dragging===this&&this.finishDrag(!0),ui(this._dragStartTarget,Cs,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(f){if(this._enabled&&(this._moved=!1,!wc(this._element,"leaflet-zoom-anim"))){if(f.touches&&f.touches.length!==1){os._dragging===this&&this.finishDrag();return}if(!(os._dragging||f.shiftKey||f.which!==1&&f.button!==1&&!f.touches)&&(os._dragging=this,this._preventOutline&&Fp(this._element),Dp(),_c(),!this._moving)){this.fire("down");var b=f.touches?f.touches[0]:f,S=Ru(this._element);this._startPoint=new zt(b.clientX,b.clientY),this._startPos=Si(this._element),this._parentScale=Ou(S);var O=f.type==="mousedown";sr(document,O?"mousemove":"touchmove",this._onMove,this),sr(document,O?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(f){if(this._enabled){if(f.touches&&f.touches.length>1){this._moved=!0;return}var b=f.touches&&f.touches.length===1?f.touches[0]:f,S=new zt(b.clientX,b.clientY)._subtract(this._startPoint);!S.x&&!S.y||Math.abs(S.x)+Math.abs(S.y)<this.options.clickTolerance||(S.x/=this._parentScale.x,S.y/=this._parentScale.y,Qi(f),this._moved||(this.fire("dragstart"),this._moved=!0,ur(document.body,"leaflet-dragging"),this._lastTarget=f.target||f.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ur(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(S),this._moving=!0,this._lastEvent=f,this._updatePosition())}},_updatePosition:function(){var f={originalEvent:this._lastEvent};this.fire("predrag",f),Ki(this._element,this._newPos),this.fire("drag",f)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(f){Je(document.body,"leaflet-dragging"),this._lastTarget&&(Je(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ui(document,"mousemove touchmove",this._onMove,this),ui(document,"mouseup touchend touchcancel",this._onUp,this),Tc(),kc();var b=this._moved&&this._moving;this._moving=!1,os._dragging=!1,b&&this.fire("dragend",{noInertia:f,distance:this._newPos.distanceTo(this._startPos)})}});function oa(f,b,S){var O,V=[1,4,2,8],it,wt,Ft,Zt,ie,ke,Xe,dr;for(it=0,ke=f.length;it<ke;it++)f[it]._code=Pl(f[it],b);for(Ft=0;Ft<4;Ft++){for(Xe=V[Ft],O=[],it=0,ke=f.length,wt=ke-1;it<ke;wt=it++)Zt=f[it],ie=f[wt],Zt._code&Xe?ie._code&Xe||(dr=Zh(ie,Zt,Xe,b,S),dr._code=Pl(dr,b),O.push(dr)):(ie._code&Xe&&(dr=Zh(ie,Zt,Xe,b,S),dr._code=Pl(dr,b),O.push(dr)),O.push(Zt));f=O}return f}function Du(f,b){var S,O,V,it,wt,Ft,Zt,ie,ke;if(!f||f.length===0)throw new Error("latlngs not passed");En(f)||(console.warn("latlngs are not flat! Only the first ring will be used"),f=f[0]);var Xe=ue([0,0]),dr=ge(f),On=dr.getNorthWest().distanceTo(dr.getSouthWest())*dr.getNorthEast().distanceTo(dr.getNorthWest());On<1700&&(Xe=Wh(f));var tn=f.length,zn=[];for(S=0;S<tn;S++){var Yn=ue(f[S]);zn.push(b.project(ue([Yn.lat-Xe.lat,Yn.lng-Xe.lng])))}for(Ft=Zt=ie=0,S=0,O=tn-1;S<tn;O=S++)V=zn[S],it=zn[O],wt=V.y*it.x-it.y*V.x,Zt+=(V.x+it.x)*wt,ie+=(V.y+it.y)*wt,Ft+=wt*3;Ft===0?ke=zn[0]:ke=[Zt/Ft,ie/Ft];var zl=b.unproject(yt(ke));return ue([zl.lat+Xe.lat,zl.lng+Xe.lng])}function Wh(f){for(var b=0,S=0,O=0,V=0;V<f.length;V++){var it=ue(f[V]);b+=it.lat,S+=it.lng,O++}return ue([b/O,S/O])}var eb={__proto__:null,clipPolygon:oa,polygonCenter:Du,centroid:Wh};function Fu(f,b){if(!b||!f.length)return f.slice();var S=b*b;return f=rb(f,S),f=ju(f,S),f}function Wp(f,b,S){return Math.sqrt(Hu(f,b,S,!0))}function Bu(f,b,S){return Hu(f,b,S)}function ju(f,b){var S=f.length,O=typeof Uint8Array!=void 0+""?Uint8Array:Array,V=new O(S);V[0]=V[S-1]=1,Zp(f,V,b,0,S-1);var it,wt=[];for(it=0;it<S;it++)V[it]&&wt.push(f[it]);return wt}function Zp(f,b,S,O,V){var it=0,wt,Ft,Zt;for(Ft=O+1;Ft<=V-1;Ft++)Zt=Hu(f[Ft],f[O],f[V],!0),Zt>it&&(wt=Ft,it=Zt);it>S&&(b[wt]=1,Zp(f,b,S,O,wt),Zp(f,b,S,wt,V))}function rb(f,b){for(var S=[f[0]],O=1,V=0,it=f.length;O<it;O++)Yp(f[O],f[V])>b&&(S.push(f[O]),V=O);return V<it-1&&S.push(f[it-1]),S}var Lm;function Am(f,b,S,O,V){var it=O?Lm:Pl(f,S),wt=Pl(b,S),Ft,Zt,ie;for(Lm=wt;;){if(!(it|wt))return[f,b];if(it&wt)return!1;Ft=it||wt,Zt=Zh(f,b,Ft,S,V),ie=Pl(Zt,S),Ft===it?(f=Zt,it=ie):(b=Zt,wt=ie)}}function Zh(f,b,S,O,V){var it=b.x-f.x,wt=b.y-f.y,Ft=O.min,Zt=O.max,ie,ke;return S&8?(ie=f.x+it*(Zt.y-f.y)/wt,ke=Zt.y):S&4?(ie=f.x+it*(Ft.y-f.y)/wt,ke=Ft.y):S&2?(ie=Zt.x,ke=f.y+wt*(Zt.x-f.x)/it):S&1&&(ie=Ft.x,ke=f.y+wt*(Ft.x-f.x)/it),new zt(ie,ke,V)}function Pl(f,b){var S=0;return f.x<b.min.x?S|=1:f.x>b.max.x&&(S|=2),f.y<b.min.y?S|=4:f.y>b.max.y&&(S|=8),S}function Yp(f,b){var S=b.x-f.x,O=b.y-f.y;return S*S+O*O}function Hu(f,b,S,O){var V=b.x,it=b.y,wt=S.x-V,Ft=S.y-it,Zt=wt*wt+Ft*Ft,ie;return Zt>0&&(ie=((f.x-V)*wt+(f.y-it)*Ft)/Zt,ie>1?(V=S.x,it=S.y):ie>0&&(V+=wt*ie,it+=Ft*ie)),wt=f.x-V,Ft=f.y-it,O?wt*wt+Ft*Ft:new zt(V,it)}function En(f){return!q(f[0])||typeof f[0][0]!="object"&&typeof f[0][0]<"u"}function Rm(f){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),En(f)}function un(f,b){var S,O,V,it,wt,Ft,Zt,ie;if(!f||f.length===0)throw new Error("latlngs not passed");En(f)||(console.warn("latlngs are not flat! Only the first ring will be used"),f=f[0]);var ke=ue([0,0]),Xe=ge(f),dr=Xe.getNorthWest().distanceTo(Xe.getSouthWest())*Xe.getNorthEast().distanceTo(Xe.getNorthWest());dr<1700&&(ke=Wh(f));var On=f.length,tn=[];for(S=0;S<On;S++){var zn=ue(f[S]);tn.push(b.project(ue([zn.lat-ke.lat,zn.lng-ke.lng])))}for(S=0,O=0;S<On-1;S++)O+=tn[S].distanceTo(tn[S+1])/2;if(O===0)ie=tn[0];else for(S=0,it=0;S<On-1;S++)if(wt=tn[S],Ft=tn[S+1],V=wt.distanceTo(Ft),it+=V,it>O){Zt=(it-O)/V,ie=[Ft.x-Zt*(Ft.x-wt.x),Ft.y-Zt*(Ft.y-wt.y)];break}var Yn=b.unproject(yt(ie));return ue([Yn.lat+ke.lat,Yn.lng+ke.lng])}var Ml={__proto__:null,simplify:Fu,pointToSegmentDistance:Wp,closestPointOnSegment:Bu,clipSegment:Am,_getEdgeIntersection:Zh,_getBitCode:Pl,_sqClosestPointOnSegment:Hu,isFlat:En,_flat:Rm,polylineCenter:un},Yh={project:function(f){return new zt(f.lng,f.lat)},unproject:function(f){return new ae(f.y,f.x)},bounds:new At([-180,-90],[180,90])},Il={R:6378137,R_MINOR:6356752314245179e-9,bounds:new At([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(f){var b=Math.PI/180,S=this.R,O=f.lat*b,V=this.R_MINOR/S,it=Math.sqrt(1-V*V),wt=it*Math.sin(O),Ft=Math.tan(Math.PI/4-O/2)/Math.pow((1-wt)/(1+wt),it/2);return O=-S*Math.log(Math.max(Ft,1e-10)),new zt(f.lng*b*S,O)},unproject:function(f){for(var b=180/Math.PI,S=this.R,O=this.R_MINOR/S,V=Math.sqrt(1-O*O),it=Math.exp(-f.y/S),wt=Math.PI/2-2*Math.atan(it),Ft=0,Zt=.1,ie;Ft<15&&Math.abs(Zt)>1e-7;Ft++)ie=V*Math.sin(wt),ie=Math.pow((1-ie)/(1+ie),V/2),Zt=Math.PI/2-2*Math.atan(it*ie)-wt,wt+=Zt;return new ae(wt*b,f.x*b/S)}},Om={__proto__:null,LonLat:Yh,Mercator:Il,SphericalMercator:Xi},zm=l({},mr,{code:"EPSG:3395",projection:Il,transformation:function(){var f=.5/(Math.PI*Il.R);return bt(f,.5,-f,.5)}()}),Cc=l({},mr,{code:"EPSG:4326",projection:Yh,transformation:bt(1/180,1,-1/180,.5)}),Xp=l({},rr,{projection:Yh,transformation:bt(1,0,-1,0),scale:function(f){return Math.pow(2,f)},zoom:function(f){return Math.log(f)/Math.LN2},distance:function(f,b){var S=b.lng-f.lng,O=b.lat-f.lat;return Math.sqrt(S*S+O*O)},infinite:!0});rr.Earth=mr,rr.EPSG3395=zm,rr.EPSG3857=Et,rr.EPSG900913=Ht,rr.EPSG4326=Cc,rr.Simple=Xp;var _o=Dt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(f){return f.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(f){return f&&f.removeLayer(this),this},getPane:function(f){return this._map.getPane(f?this.options[f]||f:this.options.pane)},addInteractiveTarget:function(f){return this._map._targets[m(f)]=this,this},removeInteractiveTarget:function(f){return delete this._map._targets[m(f)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(f){var b=f.target;if(b.hasLayer(this)){if(this._map=b,this._zoomAnimated=b._zoomAnimated,this.getEvents){var S=this.getEvents();b.on(S,this),this.once("remove",function(){b.off(S,this)},this)}this.onAdd(b),this.fire("add"),b.fire("layeradd",{layer:this})}}});Yr.include({addLayer:function(f){if(!f._layerAdd)throw new Error("The provided object is not a Layer.");var b=m(f);return this._layers[b]?this:(this._layers[b]=f,f._mapToAdd=this,f.beforeAdd&&f.beforeAdd(this),this.whenReady(f._layerAdd,f),this)},removeLayer:function(f){var b=m(f);return this._layers[b]?(this._loaded&&f.onRemove(this),delete this._layers[b],this._loaded&&(this.fire("layerremove",{layer:f}),f.fire("remove")),f._map=f._mapToAdd=null,this):this},hasLayer:function(f){return m(f)in this._layers},eachLayer:function(f,b){for(var S in this._layers)f.call(b,this._layers[S]);return this},_addLayers:function(f){f=f?q(f)?f:[f]:[];for(var b=0,S=f.length;b<S;b++)this.addLayer(f[b])},_addZoomLimit:function(f){(!isNaN(f.options.maxZoom)||!isNaN(f.options.minZoom))&&(this._zoomBoundLayers[m(f)]=f,this._updateZoomLevels())},_removeZoomLimit:function(f){var b=m(f);this._zoomBoundLayers[b]&&(delete this._zoomBoundLayers[b],this._updateZoomLevels())},_updateZoomLevels:function(){var f=1/0,b=-1/0,S=this._getZoomSpan();for(var O in this._zoomBoundLayers){var V=this._zoomBoundLayers[O].options;f=V.minZoom===void 0?f:Math.min(f,V.minZoom),b=V.maxZoom===void 0?b:Math.max(b,V.maxZoom)}this._layersMaxZoom=b===-1/0?void 0:b,this._layersMinZoom=f===1/0?void 0:f,S!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ll=_o.extend({initialize:function(f,b){D(this,b),this._layers={};var S,O;if(f)for(S=0,O=f.length;S<O;S++)this.addLayer(f[S])},addLayer:function(f){var b=this.getLayerId(f);return this._layers[b]=f,this._map&&this._map.addLayer(f),this},removeLayer:function(f){var b=f in this._layers?f:this.getLayerId(f);return this._map&&this._layers[b]&&this._map.removeLayer(this._layers[b]),delete this._layers[b],this},hasLayer:function(f){var b=typeof f=="number"?f:this.getLayerId(f);return b in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(f){var b=Array.prototype.slice.call(arguments,1),S,O;for(S in this._layers)O=this._layers[S],O[f]&&O[f].apply(O,b);return this},onAdd:function(f){this.eachLayer(f.addLayer,f)},onRemove:function(f){this.eachLayer(f.removeLayer,f)},eachLayer:function(f,b){for(var S in this._layers)f.call(b,this._layers[S]);return this},getLayer:function(f){return this._layers[f]},getLayers:function(){var f=[];return this.eachLayer(f.push,f),f},setZIndex:function(f){return this.invoke("setZIndex",f)},getLayerId:function(f){return m(f)}}),Xh=function(f,b){return new Ll(f,b)},Zn=Ll.extend({addLayer:function(f){return this.hasLayer(f)?this:(f.addEventParent(this),Ll.prototype.addLayer.call(this,f),this.fire("layeradd",{layer:f}))},removeLayer:function(f){return this.hasLayer(f)?(f in this._layers&&(f=this._layers[f]),f.removeEventParent(this),Ll.prototype.removeLayer.call(this,f),this.fire("layerremove",{layer:f})):this},setStyle:function(f){return this.invoke("setStyle",f)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var f=new ee;for(var b in this._layers){var S=this._layers[b];f.extend(S.getBounds?S.getBounds():S.getLatLng())}return f}}),hn=function(f,b){return new Zn(f,b)},Ps=St.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(f){D(this,f)},createIcon:function(f){return this._createIcon("icon",f)},createShadow:function(f){return this._createIcon("shadow",f)},_createIcon:function(f,b){var S=this._getIconUrl(f);if(!S){if(f==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var O=this._createImg(S,b&&b.tagName==="IMG"?b:null);return this._setIconStyles(O,f),(this.options.crossOrigin||this.options.crossOrigin==="")&&(O.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),O},_setIconStyles:function(f,b){var S=this.options,O=S[b+"Size"];typeof O=="number"&&(O=[O,O]);var V=yt(O),it=yt(b==="shadow"&&S.shadowAnchor||S.iconAnchor||V&&V.divideBy(2,!0));f.className="leaflet-marker-"+b+" "+(S.className||""),it&&(f.style.marginLeft=-it.x+"px",f.style.marginTop=-it.y+"px"),V&&(f.style.width=V.x+"px",f.style.height=V.y+"px")},_createImg:function(f,b){return b=b||document.createElement("img"),b.src=f,b},_getIconUrl:function(f){return Fe.retina&&this.options[f+"RetinaUrl"]||this.options[f+"Url"]}});function Nm(f){return new Ps(f)}var Pc=Ps.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(f){return typeof Pc.imagePath!="string"&&(Pc.imagePath=this._detectIconPath()),(this.options.imagePath||Pc.imagePath)+Ps.prototype._getIconUrl.call(this,f)},_stripUrl:function(f){var b=function(S,O,V){var it=O.exec(S);return it&&it[V]};return f=b(f,/^url\((['"])?(.+)\1\)$/,2),f&&b(f,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var f=ei("div","leaflet-default-icon-path",document.body),b=bc(f,"background-image")||bc(f,"backgroundImage");if(document.body.removeChild(f),b=this._stripUrl(b),b)return b;var S=document.querySelector('link[href$="leaflet.css"]');return S?S.href.substring(0,S.href.length-11-1):""}}),Kh=$i.extend({initialize:function(f){this._marker=f},addHooks:function(){var f=this._marker._icon;this._draggable||(this._draggable=new os(f,f,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ur(f,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Je(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(f){var b=this._marker,S=b._map,O=this._marker.options.autoPanSpeed,V=this._marker.options.autoPanPadding,it=Si(b._icon),wt=S.getPixelBounds(),Ft=S.getPixelOrigin(),Zt=Xt(wt.min._subtract(Ft).add(V),wt.max._subtract(Ft).subtract(V));if(!Zt.contains(it)){var ie=yt((Math.max(Zt.max.x,it.x)-Zt.max.x)/(wt.max.x-Zt.max.x)-(Math.min(Zt.min.x,it.x)-Zt.min.x)/(wt.min.x-Zt.min.x),(Math.max(Zt.max.y,it.y)-Zt.max.y)/(wt.max.y-Zt.max.y)-(Math.min(Zt.min.y,it.y)-Zt.min.y)/(wt.min.y-Zt.min.y)).multiplyBy(O);S.panBy(ie,{animate:!1}),this._draggable._newPos._add(ie),this._draggable._startPos._add(ie),Ki(b._icon,this._draggable._newPos),this._onDrag(f),this._panRequest=lt(this._adjustPan.bind(this,f))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(f){this._marker.options.autoPan&&(ht(this._panRequest),this._panRequest=lt(this._adjustPan.bind(this,f)))},_onDrag:function(f){var b=this._marker,S=b._shadow,O=Si(b._icon),V=b._map.layerPointToLatLng(O);S&&Ki(S,O),b._latlng=V,f.latlng=V,f.oldLatLng=this._oldLatLng,b.fire("move",f).fire("drag",f)},_onDragEnd:function(f){ht(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",f)}}),Al=_o.extend({options:{icon:new Pc,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(f,b){D(this,b),this._latlng=ue(f)},onAdd:function(f){this._zoomAnimated=this._zoomAnimated&&f.options.markerZoomAnimation,this._zoomAnimated&&f.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(f){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&f.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(f){var b=this._latlng;return this._latlng=ue(f),this.update(),this.fire("move",{oldLatLng:b,latlng:this._latlng})},setZIndexOffset:function(f){return this.options.zIndexOffset=f,this.update()},getIcon:function(){return this.options.icon},setIcon:function(f){return this.options.icon=f,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var f=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(f)}return this},_initIcon:function(){var f=this.options,b="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),S=f.icon.createIcon(this._icon),O=!1;S!==this._icon&&(this._icon&&this._removeIcon(),O=!0,f.title&&(S.title=f.title),S.tagName==="IMG"&&(S.alt=f.alt||"")),ur(S,b),f.keyboard&&(S.tabIndex="0",S.setAttribute("role","button")),this._icon=S,f.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&sr(S,"focus",this._panOnFocus,this);var V=f.icon.createShadow(this._shadow),it=!1;V!==this._shadow&&(this._removeShadow(),it=!0),V&&(ur(V,b),V.alt=""),this._shadow=V,f.opacity<1&&this._updateOpacity(),O&&this.getPane().appendChild(this._icon),this._initInteraction(),V&&it&&this.getPane(f.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ui(this._icon,"focus",this._panOnFocus,this),ki(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ki(this._shadow),this._shadow=null},_setPos:function(f){this._icon&&Ki(this._icon,f),this._shadow&&Ki(this._shadow,f),this._zIndex=f.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(f){this._icon&&(this._icon.style.zIndex=this._zIndex+f)},_animateZoom:function(f){var b=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center).round();this._setPos(b)},_initInteraction:function(){if(this.options.interactive&&(ur(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Kh)){var f=this.options.draggable;this.dragging&&(f=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Kh(this),f&&this.dragging.enable()}},setOpacity:function(f){return this.options.opacity=f,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var f=this.options.opacity;this._icon&&nr(this._icon,f),this._shadow&&nr(this._shadow,f)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var f=this._map;if(f){var b=this.options.icon.options,S=b.iconSize?yt(b.iconSize):yt(0,0),O=b.iconAnchor?yt(b.iconAnchor):yt(0,0);f.panInside(this._latlng,{paddingTopLeft:O,paddingBottomRight:S.subtract(O)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Dm(f,b){return new Al(f,b)}var sa=_o.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(f){this._renderer=f.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(f){return D(this,f),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&f&&Object.prototype.hasOwnProperty.call(f,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Jh=sa.extend({options:{fill:!0,radius:10},initialize:function(f,b){D(this,b),this._latlng=ue(f),this._radius=this.options.radius},setLatLng:function(f){var b=this._latlng;return this._latlng=ue(f),this.redraw(),this.fire("move",{oldLatLng:b,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(f){return this.options.radius=this._radius=f,this.redraw()},getRadius:function(){return this._radius},setStyle:function(f){var b=f&&f.radius||this._radius;return sa.prototype.setStyle.call(this,f),this.setRadius(b),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var f=this._radius,b=this._radiusY||f,S=this._clickTolerance(),O=[f+S,b+S];this._pxBounds=new At(this._point.subtract(O),this._point.add(O))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(f){return f.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ib(f,b){return new Jh(f,b)}var Kp=Jh.extend({initialize:function(f,b,S){if(typeof b=="number"&&(b=l({},S,{radius:b})),D(this,b),this._latlng=ue(f),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(f){return this._mRadius=f,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var f=[this._radius,this._radiusY||this._radius];return new ee(this._map.layerPointToLatLng(this._point.subtract(f)),this._map.layerPointToLatLng(this._point.add(f)))},setStyle:sa.prototype.setStyle,_project:function(){var f=this._latlng.lng,b=this._latlng.lat,S=this._map,O=S.options.crs;if(O.distance===mr.distance){var V=Math.PI/180,it=this._mRadius/mr.R/V,wt=S.project([b+it,f]),Ft=S.project([b-it,f]),Zt=wt.add(Ft).divideBy(2),ie=S.unproject(Zt).lat,ke=Math.acos((Math.cos(it*V)-Math.sin(b*V)*Math.sin(ie*V))/(Math.cos(b*V)*Math.cos(ie*V)))/V;(isNaN(ke)||ke===0)&&(ke=it/Math.cos(Math.PI/180*b)),this._point=Zt.subtract(S.getPixelOrigin()),this._radius=isNaN(ke)?0:Zt.x-S.project([ie,f-ke]).x,this._radiusY=Zt.y-wt.y}else{var Xe=O.unproject(O.project(this._latlng).subtract([this._mRadius,0]));this._point=S.latLngToLayerPoint(this._latlng),this._radius=this._point.x-S.latLngToLayerPoint(Xe).x}this._updateBounds()}});function nb(f,b,S){return new Kp(f,b,S)}var aa=sa.extend({options:{smoothFactor:1,noClip:!1},initialize:function(f,b){D(this,b),this._setLatLngs(f)},getLatLngs:function(){return this._latlngs},setLatLngs:function(f){return this._setLatLngs(f),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(f){for(var b=1/0,S=null,O=Hu,V,it,wt=0,Ft=this._parts.length;wt<Ft;wt++)for(var Zt=this._parts[wt],ie=1,ke=Zt.length;ie<ke;ie++){V=Zt[ie-1],it=Zt[ie];var Xe=O(f,V,it,!0);Xe<b&&(b=Xe,S=O(f,V,it))}return S&&(S.distance=Math.sqrt(b)),S},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return un(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(f,b){return b=b||this._defaultShape(),f=ue(f),b.push(f),this._bounds.extend(f),this.redraw()},_setLatLngs:function(f){this._bounds=new ee,this._latlngs=this._convertLatLngs(f)},_defaultShape:function(){return En(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(f){for(var b=[],S=En(f),O=0,V=f.length;O<V;O++)S?(b[O]=ue(f[O]),this._bounds.extend(b[O])):b[O]=this._convertLatLngs(f[O]);return b},_project:function(){var f=new At;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,f),this._bounds.isValid()&&f.isValid()&&(this._rawPxBounds=f,this._updateBounds())},_updateBounds:function(){var f=this._clickTolerance(),b=new zt(f,f);this._rawPxBounds&&(this._pxBounds=new At([this._rawPxBounds.min.subtract(b),this._rawPxBounds.max.add(b)]))},_projectLatlngs:function(f,b,S){var O=f[0]instanceof ae,V=f.length,it,wt;if(O){for(wt=[],it=0;it<V;it++)wt[it]=this._map.latLngToLayerPoint(f[it]),S.extend(wt[it]);b.push(wt)}else for(it=0;it<V;it++)this._projectLatlngs(f[it],b,S)},_clipPoints:function(){var f=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(f))){if(this.options.noClip){this._parts=this._rings;return}var b=this._parts,S,O,V,it,wt,Ft,Zt;for(S=0,V=0,it=this._rings.length;S<it;S++)for(Zt=this._rings[S],O=0,wt=Zt.length;O<wt-1;O++)Ft=Am(Zt[O],Zt[O+1],f,O,!0),Ft&&(b[V]=b[V]||[],b[V].push(Ft[0]),(Ft[1]!==Zt[O+1]||O===wt-2)&&(b[V].push(Ft[1]),V++))}},_simplifyPoints:function(){for(var f=this._parts,b=this.options.smoothFactor,S=0,O=f.length;S<O;S++)f[S]=Fu(f[S],b)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(f,b){var S,O,V,it,wt,Ft,Zt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(f))return!1;for(S=0,it=this._parts.length;S<it;S++)for(Ft=this._parts[S],O=0,wt=Ft.length,V=wt-1;O<wt;V=O++)if(!(!b&&O===0)&&Wp(f,Ft[V],Ft[O])<=Zt)return!0;return!1}});function ob(f,b){return new aa(f,b)}aa._flat=Rm;var Mc=aa.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Du(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(f){var b=aa.prototype._convertLatLngs.call(this,f),S=b.length;return S>=2&&b[0]instanceof ae&&b[0].equals(b[S-1])&&b.pop(),b},_setLatLngs:function(f){aa.prototype._setLatLngs.call(this,f),En(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return En(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var f=this._renderer._bounds,b=this.options.weight,S=new zt(b,b);if(f=new At(f.min.subtract(S),f.max.add(S)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(f))){if(this.options.noClip){this._parts=this._rings;return}for(var O=0,V=this._rings.length,it;O<V;O++)it=oa(this._rings[O],f,!0),it.length&&this._parts.push(it)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(f){var b=!1,S,O,V,it,wt,Ft,Zt,ie;if(!this._pxBounds||!this._pxBounds.contains(f))return!1;for(it=0,Zt=this._parts.length;it<Zt;it++)for(S=this._parts[it],wt=0,ie=S.length,Ft=ie-1;wt<ie;Ft=wt++)O=S[wt],V=S[Ft],O.y>f.y!=V.y>f.y&&f.x<(V.x-O.x)*(f.y-O.y)/(V.y-O.y)+O.x&&(b=!b);return b||aa.prototype._containsPoint.call(this,f,!0)}});function sb(f,b){return new Mc(f,b)}var la=Zn.extend({initialize:function(f,b){D(this,b),this._layers={},f&&this.addData(f)},addData:function(f){var b=q(f)?f:f.features,S,O,V;if(b){for(S=0,O=b.length;S<O;S++)V=b[S],(V.geometries||V.geometry||V.features||V.coordinates)&&this.addData(V);return this}var it=this.options;if(it.filter&&!it.filter(f))return this;var wt=Qh(f,it);return wt?(wt.feature=ed(f),wt.defaultOptions=wt.options,this.resetStyle(wt),it.onEachFeature&&it.onEachFeature(f,wt),this.addLayer(wt)):this},resetStyle:function(f){return f===void 0?this.eachLayer(this.resetStyle,this):(f.options=l({},f.defaultOptions),this._setLayerStyle(f,this.options.style),this)},setStyle:function(f){return this.eachLayer(function(b){this._setLayerStyle(b,f)},this)},_setLayerStyle:function(f,b){f.setStyle&&(typeof b=="function"&&(b=b(f.feature)),f.setStyle(b))}});function Qh(f,b){var S=f.type==="Feature"?f.geometry:f,O=S?S.coordinates:null,V=[],it=b&&b.pointToLayer,wt=b&&b.coordsToLatLng||Jp,Ft,Zt,ie,ke;if(!O&&!S)return null;switch(S.type){case"Point":return Ft=wt(O),Fm(it,f,Ft,b);case"MultiPoint":for(ie=0,ke=O.length;ie<ke;ie++)Ft=wt(O[ie]),V.push(Fm(it,f,Ft,b));return new Zn(V);case"LineString":case"MultiLineString":return Zt=$h(O,S.type==="LineString"?0:1,wt),new aa(Zt,b);case"Polygon":case"MultiPolygon":return Zt=$h(O,S.type==="Polygon"?1:2,wt),new Mc(Zt,b);case"GeometryCollection":for(ie=0,ke=S.geometries.length;ie<ke;ie++){var Xe=Qh({geometry:S.geometries[ie],type:"Feature",properties:f.properties},b);Xe&&V.push(Xe)}return new Zn(V);case"FeatureCollection":for(ie=0,ke=S.features.length;ie<ke;ie++){var dr=Qh(S.features[ie],b);dr&&V.push(dr)}return new Zn(V);default:throw new Error("Invalid GeoJSON object.")}}function Fm(f,b,S,O){return f?f(b,S):new Al(S,O&&O.markersInheritOptions&&O)}function Jp(f){return new ae(f[1],f[0],f[2])}function $h(f,b,S){for(var O=[],V=0,it=f.length,wt;V<it;V++)wt=b?$h(f[V],b-1,S):(S||Jp)(f[V]),O.push(wt);return O}function Qp(f,b){return f=ue(f),f.alt!==void 0?[C(f.lng,b),C(f.lat,b),C(f.alt,b)]:[C(f.lng,b),C(f.lat,b)]}function td(f,b,S,O){for(var V=[],it=0,wt=f.length;it<wt;it++)V.push(b?td(f[it],En(f[it])?0:b-1,S,O):Qp(f[it],O));return!b&&S&&V.length>0&&V.push(V[0].slice()),V}function Ic(f,b){return f.feature?l({},f.feature,{geometry:b}):ed(b)}function ed(f){return f.type==="Feature"||f.type==="FeatureCollection"?f:{type:"Feature",properties:{},geometry:f}}var Uu={toGeoJSON:function(f){return Ic(this,{type:"Point",coordinates:Qp(this.getLatLng(),f)})}};Al.include(Uu),Kp.include(Uu),Jh.include(Uu),aa.include({toGeoJSON:function(f){var b=!En(this._latlngs),S=td(this._latlngs,b?1:0,!1,f);return Ic(this,{type:(b?"Multi":"")+"LineString",coordinates:S})}}),Mc.include({toGeoJSON:function(f){var b=!En(this._latlngs),S=b&&!En(this._latlngs[0]),O=td(this._latlngs,S?2:b?1:0,!0,f);return b||(O=[O]),Ic(this,{type:(S?"Multi":"")+"Polygon",coordinates:O})}}),Ll.include({toMultiPoint:function(f){var b=[];return this.eachLayer(function(S){b.push(S.toGeoJSON(f).geometry.coordinates)}),Ic(this,{type:"MultiPoint",coordinates:b})},toGeoJSON:function(f){var b=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(b==="MultiPoint")return this.toMultiPoint(f);var S=b==="GeometryCollection",O=[];return this.eachLayer(function(V){if(V.toGeoJSON){var it=V.toGeoJSON(f);if(S)O.push(it.geometry);else{var wt=ed(it);wt.type==="FeatureCollection"?O.push.apply(O,wt.features):O.push(wt)}}}),S?Ic(this,{geometries:O,type:"GeometryCollection"}):{type:"FeatureCollection",features:O}}});function rd(f,b){return new la(f,b)}var ab=rd,ca=_o.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(f,b,S){this._url=f,this._bounds=ge(b),D(this,S)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ur(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ki(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(f){return this.options.opacity=f,this._image&&this._updateOpacity(),this},setStyle:function(f){return f.opacity&&this.setOpacity(f.opacity),this},bringToFront:function(){return this._map&&Ha(this._image),this},bringToBack:function(){return this._map&&Ua(this._image),this},setUrl:function(f){return this._url=f,this._image&&(this._image.src=f),this},setBounds:function(f){return this._bounds=ge(f),this._map&&this._reset(),this},getEvents:function(){var f={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},setZIndex:function(f){return this.options.zIndex=f,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var f=this._url.tagName==="IMG",b=this._image=f?this._url:ei("img");if(ur(b,"leaflet-image-layer"),this._zoomAnimated&&ur(b,"leaflet-zoom-animated"),this.options.className&&ur(b,this.options.className),b.onselectstart=k,b.onmousemove=k,b.onload=d(this.fire,this,"load"),b.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),f){this._url=b.src;return}b.src=this._url,b.alt=this.options.alt},_animateZoom:function(f){var b=this._map.getZoomScale(f.zoom),S=this._map._latLngBoundsToNewLayerBounds(this._bounds,f.zoom,f.center).min;El(this._image,S,b)},_reset:function(){var f=this._image,b=new At(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),S=b.getSize();Ki(f,b.min),f.style.width=S.x+"px",f.style.height=S.y+"px"},_updateOpacity:function(){nr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var f=this.options.errorOverlayUrl;f&&this._url!==f&&(this._url=f,this._image.src=f)},getCenter:function(){return this._bounds.getCenter()}}),lb=function(f,b,S){return new ca(f,b,S)},$p=ca.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var f=this._url.tagName==="VIDEO",b=this._image=f?this._url:ei("video");if(ur(b,"leaflet-image-layer"),this._zoomAnimated&&ur(b,"leaflet-zoom-animated"),this.options.className&&ur(b,this.options.className),b.onselectstart=k,b.onmousemove=k,b.onloadeddata=d(this.fire,this,"load"),f){for(var S=b.getElementsByTagName("source"),O=[],V=0;V<S.length;V++)O.push(S[V].src);this._url=S.length>0?O:[b.src];return}q(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(b.style,"objectFit")&&(b.style.objectFit="fill"),b.autoplay=!!this.options.autoplay,b.loop=!!this.options.loop,b.muted=!!this.options.muted,b.playsInline=!!this.options.playsInline;for(var it=0;it<this._url.length;it++){var wt=ei("source");wt.src=this._url[it],b.appendChild(wt)}}});function Bm(f,b,S){return new $p(f,b,S)}var Lc=ca.extend({_initImage:function(){var f=this._image=this._url;ur(f,"leaflet-image-layer"),this._zoomAnimated&&ur(f,"leaflet-zoom-animated"),this.options.className&&ur(f,this.options.className),f.onselectstart=k,f.onmousemove=k}});function cb(f,b,S){return new Lc(f,b,S)}var dn=_o.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(f,b){f&&(f instanceof ae||q(f))?(this._latlng=ue(f),D(this,b)):(D(this,f),this._source=b),this.options.content&&(this._content=this.options.content)},openOn:function(f){return f=arguments.length?f:this._source._map,f.hasLayer(this)||f.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(f){return this._map?this.close():(arguments.length?this._source=f:f=this._source,this._prepareOpen(),this.openOn(f._map)),this},onAdd:function(f){this._zoomAnimated=f._zoomAnimated,this._container||this._initLayout(),f._fadeAnimated&&nr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),f._fadeAnimated&&nr(this._container,1),this.bringToFront(),this.options.interactive&&(ur(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(f){f._fadeAnimated?(nr(this._container,0),this._removeTimeout=setTimeout(d(ki,void 0,this._container),200)):ki(this._container),this.options.interactive&&(Je(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(f){return this._latlng=ue(f),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(f){return this._content=f,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var f={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ha(this._container),this},bringToBack:function(){return this._map&&Ua(this._container),this},_prepareOpen:function(f){var b=this._source;if(!b._map)return!1;if(b instanceof Zn){b=null;var S=this._source._layers;for(var O in S)if(S[O]._map){b=S[O];break}if(!b)return!1;this._source=b}if(!f)if(b.getCenter)f=b.getCenter();else if(b.getLatLng)f=b.getLatLng();else if(b.getBounds)f=b.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(f),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var f=this._contentNode,b=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof b=="string")f.innerHTML=b;else{for(;f.hasChildNodes();)f.removeChild(f.firstChild);f.appendChild(b)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var f=this._map.latLngToLayerPoint(this._latlng),b=yt(this.options.offset),S=this._getAnchor();this._zoomAnimated?Ki(this._container,f.add(S)):b=b.add(f).add(S);var O=this._containerBottom=-b.y,V=this._containerLeft=-Math.round(this._containerWidth/2)+b.x;this._container.style.bottom=O+"px",this._container.style.left=V+"px"}},_getAnchor:function(){return[0,0]}});Yr.include({_initOverlay:function(f,b,S,O){var V=b;return V instanceof f||(V=new f(O).setContent(b)),S&&V.setLatLng(S),V}}),_o.include({_initOverlay:function(f,b,S,O){var V=S;return V instanceof f?(D(V,O),V._source=this):(V=b&&!O?b:new f(O,this),V.setContent(S)),V}});var Gu=dn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(f){return f=arguments.length?f:this._source._map,!f.hasLayer(this)&&f._popup&&f._popup.options.autoClose&&f.removeLayer(f._popup),f._popup=this,dn.prototype.openOn.call(this,f)},onAdd:function(f){dn.prototype.onAdd.call(this,f),f.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof sa||this._source.on("preclick",Sl))},onRemove:function(f){dn.prototype.onRemove.call(this,f),f.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof sa||this._source.off("preclick",Sl))},getEvents:function(){var f=dn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(f.preclick=this.close),this.options.keepInView&&(f.moveend=this._adjustPan),f},_initLayout:function(){var f="leaflet-popup",b=this._container=ei("div",f+" "+(this.options.className||"")+" leaflet-zoom-animated"),S=this._wrapper=ei("div",f+"-content-wrapper",b);if(this._contentNode=ei("div",f+"-content",S),Sc(b),Hp(this._contentNode),sr(b,"contextmenu",Sl),this._tipContainer=ei("div",f+"-tip-container",b),this._tip=ei("div",f+"-tip",this._tipContainer),this.options.closeButton){var O=this._closeButton=ei("a",f+"-close-button",b);O.setAttribute("role","button"),O.setAttribute("aria-label","Close popup"),O.href="#close",O.innerHTML='<span aria-hidden="true">&#215;</span>',sr(O,"click",function(V){Qi(V),this.close()},this)}},_updateLayout:function(){var f=this._contentNode,b=f.style;b.width="",b.whiteSpace="nowrap";var S=f.offsetWidth;S=Math.min(S,this.options.maxWidth),S=Math.max(S,this.options.minWidth),b.width=S+1+"px",b.whiteSpace="",b.height="";var O=f.offsetHeight,V=this.options.maxHeight,it="leaflet-popup-scrolled";V&&O>V?(b.height=V+"px",ur(f,it)):Je(f,it),this._containerWidth=this._container.offsetWidth},_animateZoom:function(f){var b=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center),S=this._getAnchor();Ki(this._container,b.add(S))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var f=this._map,b=parseInt(bc(this._container,"marginBottom"),10)||0,S=this._container.offsetHeight+b,O=this._containerWidth,V=new zt(this._containerLeft,-S-this._containerBottom);V._add(Si(this._container));var it=f.layerPointToContainerPoint(V),wt=yt(this.options.autoPanPadding),Ft=yt(this.options.autoPanPaddingTopLeft||wt),Zt=yt(this.options.autoPanPaddingBottomRight||wt),ie=f.getSize(),ke=0,Xe=0;it.x+O+Zt.x>ie.x&&(ke=it.x+O-ie.x+Zt.x),it.x-ke-Ft.x<0&&(ke=it.x-Ft.x),it.y+S+Zt.y>ie.y&&(Xe=it.y+S-ie.y+Zt.y),it.y-Xe-Ft.y<0&&(Xe=it.y-Ft.y),(ke||Xe)&&(this.options.keepInView&&(this._autopanning=!0),f.fire("autopanstart").panBy([ke,Xe]))}},_getAnchor:function(){return yt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ua=function(f,b){return new Gu(f,b)};Yr.mergeOptions({closePopupOnClick:!0}),Yr.include({openPopup:function(f,b,S){return this._initOverlay(Gu,f,b,S).openOn(this),this},closePopup:function(f){return f=arguments.length?f:this._popup,f&&f.close(),this}}),_o.include({bindPopup:function(f,b){return this._popup=this._initOverlay(Gu,this._popup,f,b),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(f){return this._popup&&(this instanceof Zn||(this._popup._source=this),this._popup._prepareOpen(f||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(f){return this._popup&&this._popup.setContent(f),this},getPopup:function(){return this._popup},_openPopup:function(f){if(!(!this._popup||!this._map)){Cl(f);var b=f.layer||f.target;if(this._popup._source===b&&!(b instanceof sa)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(f.latlng);return}this._popup._source=b,this.openPopup(f.latlng)}},_movePopup:function(f){this._popup.setLatLng(f.latlng)},_onKeyPress:function(f){f.originalEvent.keyCode===13&&this._openPopup(f)}});var Rl=dn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(f){dn.prototype.onAdd.call(this,f),this.setOpacity(this.options.opacity),f.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(f){dn.prototype.onRemove.call(this,f),f.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var f=dn.prototype.getEvents.call(this);return this.options.permanent||(f.preclick=this.close),f},_initLayout:function(){var f="leaflet-tooltip",b=f+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ei("div",b),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(f){var b,S,O=this._map,V=this._container,it=O.latLngToContainerPoint(O.getCenter()),wt=O.layerPointToContainerPoint(f),Ft=this.options.direction,Zt=V.offsetWidth,ie=V.offsetHeight,ke=yt(this.options.offset),Xe=this._getAnchor();Ft==="top"?(b=Zt/2,S=ie):Ft==="bottom"?(b=Zt/2,S=0):Ft==="center"?(b=Zt/2,S=ie/2):Ft==="right"?(b=0,S=ie/2):Ft==="left"?(b=Zt,S=ie/2):wt.x<it.x?(Ft="right",b=0,S=ie/2):(Ft="left",b=Zt+(ke.x+Xe.x)*2,S=ie/2),f=f.subtract(yt(b,S,!0)).add(ke).add(Xe),Je(V,"leaflet-tooltip-right"),Je(V,"leaflet-tooltip-left"),Je(V,"leaflet-tooltip-top"),Je(V,"leaflet-tooltip-bottom"),ur(V,"leaflet-tooltip-"+Ft),Ki(V,f)},_updatePosition:function(){var f=this._map.latLngToLayerPoint(this._latlng);this._setPosition(f)},setOpacity:function(f){this.options.opacity=f,this._container&&nr(this._container,f)},_animateZoom:function(f){var b=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center);this._setPosition(b)},_getAnchor:function(){return yt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),jm=function(f,b){return new Rl(f,b)};Yr.include({openTooltip:function(f,b,S){return this._initOverlay(Rl,f,b,S).openOn(this),this},closeTooltip:function(f){return f.close(),this}}),_o.include({bindTooltip:function(f,b){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Rl,this._tooltip,f,b),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(f){if(!(!f&&this._tooltipHandlersAdded)){var b=f?"off":"on",S={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?S.add=this._openTooltip:(S.mouseover=this._openTooltip,S.mouseout=this.closeTooltip,S.click=this._openTooltip,this._map?this._addFocusListeners():S.add=this._addFocusListeners),this._tooltip.options.sticky&&(S.mousemove=this._moveTooltip),this[b](S),this._tooltipHandlersAdded=!f}},openTooltip:function(f){return this._tooltip&&(this instanceof Zn||(this._tooltip._source=this),this._tooltip._prepareOpen(f)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(f){return this._tooltip&&this._tooltip.setContent(f),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(f){var b=typeof f.getElement=="function"&&f.getElement();b&&(sr(b,"focus",function(){this._tooltip._source=f,this.openTooltip()},this),sr(b,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(f){var b=typeof f.getElement=="function"&&f.getElement();b&&b.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(f){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var b=this;this._map.once("moveend",function(){b._openOnceFlag=!1,b._openTooltip(f)});return}this._tooltip._source=f.layer||f.target,this.openTooltip(this._tooltip.options.sticky?f.latlng:void 0)}},_moveTooltip:function(f){var b=f.latlng,S,O;this._tooltip.options.sticky&&f.originalEvent&&(S=this._map.mouseEventToContainerPoint(f.originalEvent),O=this._map.containerPointToLayerPoint(S),b=this._map.layerPointToLatLng(O)),this._tooltip.setLatLng(b)}});var tf=Ps.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(f){var b=f&&f.tagName==="DIV"?f:document.createElement("div"),S=this.options;if(S.html instanceof Element?(Iu(b),b.appendChild(S.html)):b.innerHTML=S.html!==!1?S.html:"",S.bgPos){var O=yt(S.bgPos);b.style.backgroundPosition=-O.x+"px "+-O.y+"px"}return this._setIconStyles(b,"icon"),b},createShadow:function(){return null}});function ef(f){return new tf(f)}Ps.Default=Pc;var qu=_o.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Fe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(f){D(this,f)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(f){f._addZoomLimit(this)},onRemove:function(f){this._removeAllTiles(),ki(this._container),f._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ha(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ua(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(f){return this.options.opacity=f,this._updateOpacity(),this},setZIndex:function(f){return this.options.zIndex=f,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var f=this._clampZoom(this._map.getZoom());f!==this._tileZoom&&(this._tileZoom=f,this._updateLevels()),this._update()}return this},getEvents:function(){var f={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),f.move=this._onMove),this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},createTile:function(){return document.createElement("div")},getTileSize:function(){var f=this.options.tileSize;return f instanceof zt?f:new zt(f,f)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(f){for(var b=this.getPane().children,S=-f(-1/0,1/0),O=0,V=b.length,it;O<V;O++)it=b[O].style.zIndex,b[O]!==this._container&&it&&(S=f(S,+it));isFinite(S)&&(this.options.zIndex=S+f(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Fe.ielt9){nr(this._container,this.options.opacity);var f=+new Date,b=!1,S=!1;for(var O in this._tiles){var V=this._tiles[O];if(!(!V.current||!V.loaded)){var it=Math.min(1,(f-V.loaded)/200);nr(V.el,it),it<1?b=!0:(V.active?S=!0:this._onOpaqueTile(V),V.active=!0)}}S&&!this._noPrune&&this._pruneTiles(),b&&(ht(this._fadeFrame),this._fadeFrame=lt(this._updateOpacity,this))}},_onOpaqueTile:k,_initContainer:function(){this._container||(this._container=ei("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var f=this._tileZoom,b=this.options.maxZoom;if(f!==void 0){for(var S in this._levels)S=Number(S),this._levels[S].el.children.length||S===f?(this._levels[S].el.style.zIndex=b-Math.abs(f-S),this._onUpdateLevel(S)):(ki(this._levels[S].el),this._removeTilesAtZoom(S),this._onRemoveLevel(S),delete this._levels[S]);var O=this._levels[f],V=this._map;return O||(O=this._levels[f]={},O.el=ei("div","leaflet-tile-container leaflet-zoom-animated",this._container),O.el.style.zIndex=b,O.origin=V.project(V.unproject(V.getPixelOrigin()),f).round(),O.zoom=f,this._setZoomTransform(O,V.getCenter(),V.getZoom()),k(O.el.offsetWidth),this._onCreateLevel(O)),this._level=O,O}},_onUpdateLevel:k,_onRemoveLevel:k,_onCreateLevel:k,_pruneTiles:function(){if(this._map){var f,b,S=this._map.getZoom();if(S>this.options.maxZoom||S<this.options.minZoom){this._removeAllTiles();return}for(f in this._tiles)b=this._tiles[f],b.retain=b.current;for(f in this._tiles)if(b=this._tiles[f],b.current&&!b.active){var O=b.coords;this._retainParent(O.x,O.y,O.z,O.z-5)||this._retainChildren(O.x,O.y,O.z,O.z+2)}for(f in this._tiles)this._tiles[f].retain||this._removeTile(f)}},_removeTilesAtZoom:function(f){for(var b in this._tiles)this._tiles[b].coords.z===f&&this._removeTile(b)},_removeAllTiles:function(){for(var f in this._tiles)this._removeTile(f)},_invalidateAll:function(){for(var f in this._levels)ki(this._levels[f].el),this._onRemoveLevel(Number(f)),delete this._levels[f];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(f,b,S,O){var V=Math.floor(f/2),it=Math.floor(b/2),wt=S-1,Ft=new zt(+V,+it);Ft.z=+wt;var Zt=this._tileCoordsToKey(Ft),ie=this._tiles[Zt];return ie&&ie.active?(ie.retain=!0,!0):(ie&&ie.loaded&&(ie.retain=!0),wt>O?this._retainParent(V,it,wt,O):!1)},_retainChildren:function(f,b,S,O){for(var V=2*f;V<2*f+2;V++)for(var it=2*b;it<2*b+2;it++){var wt=new zt(V,it);wt.z=S+1;var Ft=this._tileCoordsToKey(wt),Zt=this._tiles[Ft];if(Zt&&Zt.active){Zt.retain=!0;continue}else Zt&&Zt.loaded&&(Zt.retain=!0);S+1<O&&this._retainChildren(V,it,S+1,O)}},_resetView:function(f){var b=f&&(f.pinch||f.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),b,b)},_animateZoom:function(f){this._setView(f.center,f.zoom,!0,f.noUpdate)},_clampZoom:function(f){var b=this.options;return b.minNativeZoom!==void 0&&f<b.minNativeZoom?b.minNativeZoom:b.maxNativeZoom!==void 0&&b.maxNativeZoom<f?b.maxNativeZoom:f},_setView:function(f,b,S,O){var V=Math.round(b);this.options.maxZoom!==void 0&&V>this.options.maxZoom||this.options.minZoom!==void 0&&V<this.options.minZoom?V=void 0:V=this._clampZoom(V);var it=this.options.updateWhenZooming&&V!==this._tileZoom;(!O||it)&&(this._tileZoom=V,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),V!==void 0&&this._update(f),S||this._pruneTiles(),this._noPrune=!!S),this._setZoomTransforms(f,b)},_setZoomTransforms:function(f,b){for(var S in this._levels)this._setZoomTransform(this._levels[S],f,b)},_setZoomTransform:function(f,b,S){var O=this._map.getZoomScale(S,f.zoom),V=f.origin.multiplyBy(O).subtract(this._map._getNewPixelOrigin(b,S)).round();Fe.any3d?El(f.el,V,O):Ki(f.el,V)},_resetGrid:function(){var f=this._map,b=f.options.crs,S=this._tileSize=this.getTileSize(),O=this._tileZoom,V=this._map.getPixelWorldBounds(this._tileZoom);V&&(this._globalTileRange=this._pxBoundsToTileRange(V)),this._wrapX=b.wrapLng&&!this.options.noWrap&&[Math.floor(f.project([0,b.wrapLng[0]],O).x/S.x),Math.ceil(f.project([0,b.wrapLng[1]],O).x/S.y)],this._wrapY=b.wrapLat&&!this.options.noWrap&&[Math.floor(f.project([b.wrapLat[0],0],O).y/S.x),Math.ceil(f.project([b.wrapLat[1],0],O).y/S.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(f){var b=this._map,S=b._animatingZoom?Math.max(b._animateToZoom,b.getZoom()):b.getZoom(),O=b.getZoomScale(S,this._tileZoom),V=b.project(f,this._tileZoom).floor(),it=b.getSize().divideBy(O*2);return new At(V.subtract(it),V.add(it))},_update:function(f){var b=this._map;if(b){var S=this._clampZoom(b.getZoom());if(f===void 0&&(f=b.getCenter()),this._tileZoom!==void 0){var O=this._getTiledPixelBounds(f),V=this._pxBoundsToTileRange(O),it=V.getCenter(),wt=[],Ft=this.options.keepBuffer,Zt=new At(V.getBottomLeft().subtract([Ft,-Ft]),V.getTopRight().add([Ft,-Ft]));if(!(isFinite(V.min.x)&&isFinite(V.min.y)&&isFinite(V.max.x)&&isFinite(V.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ie in this._tiles){var ke=this._tiles[ie].coords;(ke.z!==this._tileZoom||!Zt.contains(new zt(ke.x,ke.y)))&&(this._tiles[ie].current=!1)}if(Math.abs(S-this._tileZoom)>1){this._setView(f,S);return}for(var Xe=V.min.y;Xe<=V.max.y;Xe++)for(var dr=V.min.x;dr<=V.max.x;dr++){var On=new zt(dr,Xe);if(On.z=this._tileZoom,!!this._isValidTile(On)){var tn=this._tiles[this._tileCoordsToKey(On)];tn?tn.current=!0:wt.push(On)}}if(wt.sort(function(Yn,zl){return Yn.distanceTo(it)-zl.distanceTo(it)}),wt.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var zn=document.createDocumentFragment();for(dr=0;dr<wt.length;dr++)this._addTile(wt[dr],zn);this._level.el.appendChild(zn)}}}},_isValidTile:function(f){var b=this._map.options.crs;if(!b.infinite){var S=this._globalTileRange;if(!b.wrapLng&&(f.x<S.min.x||f.x>S.max.x)||!b.wrapLat&&(f.y<S.min.y||f.y>S.max.y))return!1}if(!this.options.bounds)return!0;var O=this._tileCoordsToBounds(f);return ge(this.options.bounds).overlaps(O)},_keyToBounds:function(f){return this._tileCoordsToBounds(this._keyToTileCoords(f))},_tileCoordsToNwSe:function(f){var b=this._map,S=this.getTileSize(),O=f.scaleBy(S),V=O.add(S),it=b.unproject(O,f.z),wt=b.unproject(V,f.z);return[it,wt]},_tileCoordsToBounds:function(f){var b=this._tileCoordsToNwSe(f),S=new ee(b[0],b[1]);return this.options.noWrap||(S=this._map.wrapLatLngBounds(S)),S},_tileCoordsToKey:function(f){return f.x+":"+f.y+":"+f.z},_keyToTileCoords:function(f){var b=f.split(":"),S=new zt(+b[0],+b[1]);return S.z=+b[2],S},_removeTile:function(f){var b=this._tiles[f];b&&(ki(b.el),delete this._tiles[f],this.fire("tileunload",{tile:b.el,coords:this._keyToTileCoords(f)}))},_initTile:function(f){ur(f,"leaflet-tile");var b=this.getTileSize();f.style.width=b.x+"px",f.style.height=b.y+"px",f.onselectstart=k,f.onmousemove=k,Fe.ielt9&&this.options.opacity<1&&nr(f,this.options.opacity)},_addTile:function(f,b){var S=this._getTilePos(f),O=this._tileCoordsToKey(f),V=this.createTile(this._wrapCoords(f),d(this._tileReady,this,f));this._initTile(V),this.createTile.length<2&&lt(d(this._tileReady,this,f,null,V)),Ki(V,S),this._tiles[O]={el:V,coords:f,current:!0},b.appendChild(V),this.fire("tileloadstart",{tile:V,coords:f})},_tileReady:function(f,b,S){b&&this.fire("tileerror",{error:b,tile:S,coords:f});var O=this._tileCoordsToKey(f);S=this._tiles[O],S&&(S.loaded=+new Date,this._map._fadeAnimated?(nr(S.el,0),ht(this._fadeFrame),this._fadeFrame=lt(this._updateOpacity,this)):(S.active=!0,this._pruneTiles()),b||(ur(S.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:S.el,coords:f})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Fe.ielt9||!this._map._fadeAnimated?lt(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(f){return f.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(f){var b=new zt(this._wrapX?x(f.x,this._wrapX):f.x,this._wrapY?x(f.y,this._wrapY):f.y);return b.z=f.z,b},_pxBoundsToTileRange:function(f){var b=this.getTileSize();return new At(f.min.unscaleBy(b).floor(),f.max.unscaleBy(b).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var f in this._tiles)if(!this._tiles[f].loaded)return!1;return!0}});function Hm(f){return new qu(f)}var Ol=qu.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(f,b){this._url=f,b=D(this,b),b.detectRetina&&Fe.retina&&b.maxZoom>0?(b.tileSize=Math.floor(b.tileSize/2),b.zoomReverse?(b.zoomOffset--,b.minZoom=Math.min(b.maxZoom,b.minZoom+1)):(b.zoomOffset++,b.maxZoom=Math.max(b.minZoom,b.maxZoom-1)),b.minZoom=Math.max(0,b.minZoom)):b.zoomReverse?b.minZoom=Math.min(b.maxZoom,b.minZoom):b.maxZoom=Math.max(b.minZoom,b.maxZoom),typeof b.subdomains=="string"&&(b.subdomains=b.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(f,b){return this._url===f&&b===void 0&&(b=!0),this._url=f,b||this.redraw(),this},createTile:function(f,b){var S=document.createElement("img");return sr(S,"load",d(this._tileOnLoad,this,b,S)),sr(S,"error",d(this._tileOnError,this,b,S)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(S.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(S.referrerPolicy=this.options.referrerPolicy),S.alt="",S.src=this.getTileUrl(f),S},getTileUrl:function(f){var b={r:Fe.retina?"@2x":"",s:this._getSubdomain(f),x:f.x,y:f.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var S=this._globalTileRange.max.y-f.y;this.options.tms&&(b.y=S),b["-y"]=S}return J(this._url,l(b,this.options))},_tileOnLoad:function(f,b){Fe.ielt9?setTimeout(d(f,this,null,b),0):f(null,b)},_tileOnError:function(f,b,S){var O=this.options.errorTileUrl;O&&b.getAttribute("src")!==O&&(b.src=O),f(S,b)},_onTileRemove:function(f){f.tile.onload=null},_getZoomForUrl:function(){var f=this._tileZoom,b=this.options.maxZoom,S=this.options.zoomReverse,O=this.options.zoomOffset;return S&&(f=b-f),f+O},_getSubdomain:function(f){var b=Math.abs(f.x+f.y)%this.options.subdomains.length;return this.options.subdomains[b]},_abortLoading:function(){var f,b;for(f in this._tiles)if(this._tiles[f].coords.z!==this._tileZoom&&(b=this._tiles[f].el,b.onload=k,b.onerror=k,!b.complete)){b.src=st;var S=this._tiles[f].coords;ki(b),delete this._tiles[f],this.fire("tileabort",{tile:b,coords:S})}},_removeTile:function(f){var b=this._tiles[f];if(b)return b.el.setAttribute("src",st),qu.prototype._removeTile.call(this,f)},_tileReady:function(f,b,S){if(!(!this._map||S&&S.getAttribute("src")===st))return qu.prototype._tileReady.call(this,f,b,S)}});function rf(f,b){return new Ol(f,b)}var id=Ol.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(f,b){this._url=f;var S=l({},this.defaultWmsParams);for(var O in b)O in this.options||(S[O]=b[O]);b=D(this,b);var V=b.detectRetina&&Fe.retina?2:1,it=this.getTileSize();S.width=it.x*V,S.height=it.y*V,this.wmsParams=S},onAdd:function(f){this._crs=this.options.crs||f.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var b=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[b]=this._crs.code,Ol.prototype.onAdd.call(this,f)},getTileUrl:function(f){var b=this._tileCoordsToNwSe(f),S=this._crs,O=Xt(S.project(b[0]),S.project(b[1])),V=O.min,it=O.max,wt=(this._wmsVersion>=1.3&&this._crs===Cc?[V.y,V.x,it.y,it.x]:[V.x,V.y,it.x,it.y]).join(","),Ft=Ol.prototype.getTileUrl.call(this,f);return Ft+j(this.wmsParams,Ft,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+wt},setParams:function(f,b){return l(this.wmsParams,f),b||this.redraw(),this}});function Um(f,b){return new id(f,b)}Ol.WMS=id,rf.wms=Um;var Ms=_o.extend({options:{padding:.1},initialize:function(f){D(this,f),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ur(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var f={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(f.zoomanim=this._onAnimZoom),f},_onAnimZoom:function(f){this._updateTransform(f.center,f.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(f,b){var S=this._map.getZoomScale(b,this._zoom),O=this._map.getSize().multiplyBy(.5+this.options.padding),V=this._map.project(this._center,b),it=O.multiplyBy(-S).add(V).subtract(this._map._getNewPixelOrigin(f,b));Fe.any3d?El(this._container,it,S):Ki(this._container,it)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var f in this._layers)this._layers[f]._reset()},_onZoomEnd:function(){for(var f in this._layers)this._layers[f]._project()},_updatePaths:function(){for(var f in this._layers)this._layers[f]._update()},_update:function(){var f=this.options.padding,b=this._map.getSize(),S=this._map.containerPointToLayerPoint(b.multiplyBy(-f)).round();this._bounds=new At(S,S.add(b.multiplyBy(1+f*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),nd=Ms.extend({options:{tolerance:0},getEvents:function(){var f=Ms.prototype.getEvents.call(this);return f.viewprereset=this._onViewPreReset,f},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ms.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var f=this._container=document.createElement("canvas");sr(f,"mousemove",this._onMouseMove,this),sr(f,"click dblclick mousedown mouseup contextmenu",this._onClick,this),sr(f,"mouseout",this._handleMouseOut,this),f._leaflet_disable_events=!0,this._ctx=f.getContext("2d")},_destroyContainer:function(){ht(this._redrawRequest),delete this._ctx,ki(this._container),ui(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var f;this._redrawBounds=null;for(var b in this._layers)f=this._layers[b],f._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ms.prototype._update.call(this);var f=this._bounds,b=this._container,S=f.getSize(),O=Fe.retina?2:1;Ki(b,f.min),b.width=O*S.x,b.height=O*S.y,b.style.width=S.x+"px",b.style.height=S.y+"px",Fe.retina&&this._ctx.scale(2,2),this._ctx.translate(-f.min.x,-f.min.y),this.fire("update")}},_reset:function(){Ms.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(f){this._updateDashArray(f),this._layers[m(f)]=f;var b=f._order={layer:f,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=b),this._drawLast=b,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(f){this._requestRedraw(f)},_removePath:function(f){var b=f._order,S=b.next,O=b.prev;S?S.prev=O:this._drawLast=O,O?O.next=S:this._drawFirst=S,delete f._order,delete this._layers[m(f)],this._requestRedraw(f)},_updatePath:function(f){this._extendRedrawBounds(f),f._project(),f._update(),this._requestRedraw(f)},_updateStyle:function(f){this._updateDashArray(f),this._requestRedraw(f)},_updateDashArray:function(f){if(typeof f.options.dashArray=="string"){var b=f.options.dashArray.split(/[, ]+/),S=[],O,V;for(V=0;V<b.length;V++){if(O=Number(b[V]),isNaN(O))return;S.push(O)}f.options._dashArray=S}else f.options._dashArray=f.options.dashArray},_requestRedraw:function(f){this._map&&(this._extendRedrawBounds(f),this._redrawRequest=this._redrawRequest||lt(this._redraw,this))},_extendRedrawBounds:function(f){if(f._pxBounds){var b=(f.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new At,this._redrawBounds.extend(f._pxBounds.min.subtract([b,b])),this._redrawBounds.extend(f._pxBounds.max.add([b,b]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var f=this._redrawBounds;if(f){var b=f.getSize();this._ctx.clearRect(f.min.x,f.min.y,b.x,b.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var f,b=this._redrawBounds;if(this._ctx.save(),b){var S=b.getSize();this._ctx.beginPath(),this._ctx.rect(b.min.x,b.min.y,S.x,S.y),this._ctx.clip()}this._drawing=!0;for(var O=this._drawFirst;O;O=O.next)f=O.layer,(!b||f._pxBounds&&f._pxBounds.intersects(b))&&f._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(f,b){if(this._drawing){var S,O,V,it,wt=f._parts,Ft=wt.length,Zt=this._ctx;if(Ft){for(Zt.beginPath(),S=0;S<Ft;S++){for(O=0,V=wt[S].length;O<V;O++)it=wt[S][O],Zt[O?"lineTo":"moveTo"](it.x,it.y);b&&Zt.closePath()}this._fillStroke(Zt,f)}}},_updateCircle:function(f){if(!(!this._drawing||f._empty())){var b=f._point,S=this._ctx,O=Math.max(Math.round(f._radius),1),V=(Math.max(Math.round(f._radiusY),1)||O)/O;V!==1&&(S.save(),S.scale(1,V)),S.beginPath(),S.arc(b.x,b.y/V,O,0,Math.PI*2,!1),V!==1&&S.restore(),this._fillStroke(S,f)}},_fillStroke:function(f,b){var S=b.options;S.fill&&(f.globalAlpha=S.fillOpacity,f.fillStyle=S.fillColor||S.color,f.fill(S.fillRule||"evenodd")),S.stroke&&S.weight!==0&&(f.setLineDash&&f.setLineDash(b.options&&b.options._dashArray||[]),f.globalAlpha=S.opacity,f.lineWidth=S.weight,f.strokeStyle=S.color,f.lineCap=S.lineCap,f.lineJoin=S.lineJoin,f.stroke())},_onClick:function(f){for(var b=this._map.mouseEventToLayerPoint(f),S,O,V=this._drawFirst;V;V=V.next)S=V.layer,S.options.interactive&&S._containsPoint(b)&&(!(f.type==="click"||f.type==="preclick")||!this._map._draggableMoved(S))&&(O=S);this._fireEvent(O?[O]:!1,f)},_onMouseMove:function(f){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var b=this._map.mouseEventToLayerPoint(f);this._handleMouseHover(f,b)}},_handleMouseOut:function(f){var b=this._hoveredLayer;b&&(Je(this._container,"leaflet-interactive"),this._fireEvent([b],f,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(f,b){if(!this._mouseHoverThrottled){for(var S,O,V=this._drawFirst;V;V=V.next)S=V.layer,S.options.interactive&&S._containsPoint(b)&&(O=S);O!==this._hoveredLayer&&(this._handleMouseOut(f),O&&(ur(this._container,"leaflet-interactive"),this._fireEvent([O],f,"mouseover"),this._hoveredLayer=O)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,f),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(f,b,S){this._map._fireDOMEvent(b,S||b.type,f)},_bringToFront:function(f){var b=f._order;if(b){var S=b.next,O=b.prev;if(S)S.prev=O;else return;O?O.next=S:S&&(this._drawFirst=S),b.prev=this._drawLast,this._drawLast.next=b,b.next=null,this._drawLast=b,this._requestRedraw(f)}},_bringToBack:function(f){var b=f._order;if(b){var S=b.next,O=b.prev;if(O)O.next=S;else return;S?S.prev=O:O&&(this._drawLast=O),b.prev=null,b.next=this._drawFirst,this._drawFirst.prev=b,this._drawFirst=b,this._requestRedraw(f)}}});function od(f){return Fe.canvas?new nd(f):null}var Ac=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(f){return document.createElement("<lvml:"+f+' class="lvml">')}}catch{}return function(f){return document.createElement("<"+f+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),oo={_initContainer:function(){this._container=ei("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ms.prototype._update.call(this),this.fire("update"))},_initPath:function(f){var b=f._container=Ac("shape");ur(b,"leaflet-vml-shape "+(this.options.className||"")),b.coordsize="1 1",f._path=Ac("path"),b.appendChild(f._path),this._updateStyle(f),this._layers[m(f)]=f},_addPath:function(f){var b=f._container;this._container.appendChild(b),f.options.interactive&&f.addInteractiveTarget(b)},_removePath:function(f){var b=f._container;ki(b),f.removeInteractiveTarget(b),delete this._layers[m(f)]},_updateStyle:function(f){var b=f._stroke,S=f._fill,O=f.options,V=f._container;V.stroked=!!O.stroke,V.filled=!!O.fill,O.stroke?(b||(b=f._stroke=Ac("stroke")),V.appendChild(b),b.weight=O.weight+"px",b.color=O.color,b.opacity=O.opacity,O.dashArray?b.dashStyle=q(O.dashArray)?O.dashArray.join(" "):O.dashArray.replace(/( *, *)/g," "):b.dashStyle="",b.endcap=O.lineCap.replace("butt","flat"),b.joinstyle=O.lineJoin):b&&(V.removeChild(b),f._stroke=null),O.fill?(S||(S=f._fill=Ac("fill")),V.appendChild(S),S.color=O.fillColor||O.color,S.opacity=O.fillOpacity):S&&(V.removeChild(S),f._fill=null)},_updateCircle:function(f){var b=f._point.round(),S=Math.round(f._radius),O=Math.round(f._radiusY||S);this._setPath(f,f._empty()?"M0 0":"AL "+b.x+","+b.y+" "+S+","+O+" 0,"+65535*360)},_setPath:function(f,b){f._path.v=b},_bringToFront:function(f){Ha(f._container)},_bringToBack:function(f){Ua(f._container)}},sd=Fe.vml?Ac:A,Rc=Ms.extend({_initContainer:function(){this._container=sd("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=sd("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ki(this._container),ui(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ms.prototype._update.call(this);var f=this._bounds,b=f.getSize(),S=this._container;(!this._svgSize||!this._svgSize.equals(b))&&(this._svgSize=b,S.setAttribute("width",b.x),S.setAttribute("height",b.y)),Ki(S,f.min),S.setAttribute("viewBox",[f.min.x,f.min.y,b.x,b.y].join(" ")),this.fire("update")}},_initPath:function(f){var b=f._path=sd("path");f.options.className&&ur(b,f.options.className),f.options.interactive&&ur(b,"leaflet-interactive"),this._updateStyle(f),this._layers[m(f)]=f},_addPath:function(f){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(f._path),f.addInteractiveTarget(f._path)},_removePath:function(f){ki(f._path),f.removeInteractiveTarget(f._path),delete this._layers[m(f)]},_updatePath:function(f){f._project(),f._update()},_updateStyle:function(f){var b=f._path,S=f.options;b&&(S.stroke?(b.setAttribute("stroke",S.color),b.setAttribute("stroke-opacity",S.opacity),b.setAttribute("stroke-width",S.weight),b.setAttribute("stroke-linecap",S.lineCap),b.setAttribute("stroke-linejoin",S.lineJoin),S.dashArray?b.setAttribute("stroke-dasharray",S.dashArray):b.removeAttribute("stroke-dasharray"),S.dashOffset?b.setAttribute("stroke-dashoffset",S.dashOffset):b.removeAttribute("stroke-dashoffset")):b.setAttribute("stroke","none"),S.fill?(b.setAttribute("fill",S.fillColor||S.color),b.setAttribute("fill-opacity",S.fillOpacity),b.setAttribute("fill-rule",S.fillRule||"evenodd")):b.setAttribute("fill","none"))},_updatePoly:function(f,b){this._setPath(f,G(f._parts,b))},_updateCircle:function(f){var b=f._point,S=Math.max(Math.round(f._radius),1),O=Math.max(Math.round(f._radiusY),1)||S,V="a"+S+","+O+" 0 1,0 ",it=f._empty()?"M0 0":"M"+(b.x-S)+","+b.y+V+S*2+",0 "+V+-S*2+",0 ";this._setPath(f,it)},_setPath:function(f,b){f._path.setAttribute("d",b)},_bringToFront:function(f){Ha(f._path)},_bringToBack:function(f){Ua(f._path)}});Fe.vml&&Rc.include(oo);function nf(f){return Fe.svg||Fe.vml?new Rc(f):null}Yr.include({getRenderer:function(f){var b=f.options.renderer||this._getPaneRenderer(f.options.pane)||this.options.renderer||this._renderer;return b||(b=this._renderer=this._createRenderer()),this.hasLayer(b)||this.addLayer(b),b},_getPaneRenderer:function(f){if(f==="overlayPane"||f===void 0)return!1;var b=this._paneRenderers[f];return b===void 0&&(b=this._createRenderer({pane:f}),this._paneRenderers[f]=b),b},_createRenderer:function(f){return this.options.preferCanvas&&od(f)||nf(f)}});var of=Mc.extend({initialize:function(f,b){Mc.prototype.initialize.call(this,this._boundsToLatLngs(f),b)},setBounds:function(f){return this.setLatLngs(this._boundsToLatLngs(f))},_boundsToLatLngs:function(f){return f=ge(f),[f.getSouthWest(),f.getNorthWest(),f.getNorthEast(),f.getSouthEast()]}});function ub(f,b){return new of(f,b)}Rc.create=sd,Rc.pointsToPath=G,la.geometryToLayer=Qh,la.coordsToLatLng=Jp,la.coordsToLatLngs=$h,la.latLngToCoords=Qp,la.latLngsToCoords=td,la.getFeature=Ic,la.asFeature=ed,Yr.mergeOptions({boxZoom:!0});var sf=$i.extend({initialize:function(f){this._map=f,this._container=f._container,this._pane=f._panes.overlayPane,this._resetStateTimeout=0,f.on("unload",this._destroy,this)},addHooks:function(){sr(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ui(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ki(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(f){if(!f.shiftKey||f.which!==1&&f.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),_c(),Dp(),this._startPoint=this._map.mouseEventToContainerPoint(f),sr(document,{contextmenu:Cl,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(f){this._moved||(this._moved=!0,this._box=ei("div","leaflet-zoom-box",this._container),ur(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(f);var b=new At(this._point,this._startPoint),S=b.getSize();Ki(this._box,b.min),this._box.style.width=S.x+"px",this._box.style.height=S.y+"px"},_finish:function(){this._moved&&(ki(this._box),Je(this._container,"leaflet-crosshair")),kc(),Tc(),ui(document,{contextmenu:Cl,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(f){if(!(f.which!==1&&f.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var b=new ee(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(b).fire("boxzoomend",{boxZoomBounds:b})}},_onKeyDown:function(f){f.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Yr.addInitHook("addHandler","boxZoom",sf),Yr.mergeOptions({doubleClickZoom:!0});var af=$i.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(f){var b=this._map,S=b.getZoom(),O=b.options.zoomDelta,V=f.originalEvent.shiftKey?S-O:S+O;b.options.doubleClickZoom==="center"?b.setZoom(V):b.setZoomAround(f.containerPoint,V)}});Yr.addInitHook("addHandler","doubleClickZoom",af),Yr.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ad=$i.extend({addHooks:function(){if(!this._draggable){var f=this._map;this._draggable=new os(f._mapPane,f._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),f.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),f.on("zoomend",this._onZoomEnd,this),f.whenReady(this._onZoomEnd,this))}ur(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Je(this._map._container,"leaflet-grab"),Je(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var f=this._map;if(f._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var b=ge(this._map.options.maxBounds);this._offsetLimit=Xt(this._map.latLngToContainerPoint(b.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(b.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;f.fire("movestart").fire("dragstart"),f.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(f){if(this._map.options.inertia){var b=this._lastTime=+new Date,S=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(S),this._times.push(b),this._prunePositions(b)}this._map.fire("move",f).fire("drag",f)},_prunePositions:function(f){for(;this._positions.length>1&&f-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var f=this._map.getSize().divideBy(2),b=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=b.subtract(f).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(f,b){return f-(f-b)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var f=this._draggable._newPos.subtract(this._draggable._startPos),b=this._offsetLimit;f.x<b.min.x&&(f.x=this._viscousLimit(f.x,b.min.x)),f.y<b.min.y&&(f.y=this._viscousLimit(f.y,b.min.y)),f.x>b.max.x&&(f.x=this._viscousLimit(f.x,b.max.x)),f.y>b.max.y&&(f.y=this._viscousLimit(f.y,b.max.y)),this._draggable._newPos=this._draggable._startPos.add(f)}},_onPreDragWrap:function(){var f=this._worldWidth,b=Math.round(f/2),S=this._initialWorldOffset,O=this._draggable._newPos.x,V=(O-b+S)%f+b-S,it=(O+b+S)%f-b-S,wt=Math.abs(V+S)<Math.abs(it+S)?V:it;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=wt},_onDragEnd:function(f){var b=this._map,S=b.options,O=!S.inertia||f.noInertia||this._times.length<2;if(b.fire("dragend",f),O)b.fire("moveend");else{this._prunePositions(+new Date);var V=this._lastPos.subtract(this._positions[0]),it=(this._lastTime-this._times[0])/1e3,wt=S.easeLinearity,Ft=V.multiplyBy(wt/it),Zt=Ft.distanceTo([0,0]),ie=Math.min(S.inertiaMaxSpeed,Zt),ke=Ft.multiplyBy(ie/Zt),Xe=ie/(S.inertiaDeceleration*wt),dr=ke.multiplyBy(-Xe/2).round();!dr.x&&!dr.y?b.fire("moveend"):(dr=b._limitOffset(dr,b.options.maxBounds),lt(function(){b.panBy(dr,{duration:Xe,easeLinearity:wt,noMoveStart:!0,animate:!0})}))}}});Yr.addInitHook("addHandler","dragging",ad),Yr.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Gm=$i.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(f){this._map=f,this._setPanDelta(f.options.keyboardPanDelta),this._setZoomDelta(f.options.zoomDelta)},addHooks:function(){var f=this._map._container;f.tabIndex<=0&&(f.tabIndex="0"),sr(f,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ui(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var f=document.body,b=document.documentElement,S=f.scrollTop||b.scrollTop,O=f.scrollLeft||b.scrollLeft;this._map._container.focus(),window.scrollTo(O,S)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(f){var b=this._panKeys={},S=this.keyCodes,O,V;for(O=0,V=S.left.length;O<V;O++)b[S.left[O]]=[-1*f,0];for(O=0,V=S.right.length;O<V;O++)b[S.right[O]]=[f,0];for(O=0,V=S.down.length;O<V;O++)b[S.down[O]]=[0,f];for(O=0,V=S.up.length;O<V;O++)b[S.up[O]]=[0,-1*f]},_setZoomDelta:function(f){var b=this._zoomKeys={},S=this.keyCodes,O,V;for(O=0,V=S.zoomIn.length;O<V;O++)b[S.zoomIn[O]]=f;for(O=0,V=S.zoomOut.length;O<V;O++)b[S.zoomOut[O]]=-f},_addHooks:function(){sr(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ui(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(f){if(!(f.altKey||f.ctrlKey||f.metaKey)){var b=f.keyCode,S=this._map,O;if(b in this._panKeys){if(!S._panAnim||!S._panAnim._inProgress)if(O=this._panKeys[b],f.shiftKey&&(O=yt(O).multiplyBy(3)),S.options.maxBounds&&(O=S._limitOffset(yt(O),S.options.maxBounds)),S.options.worldCopyJump){var V=S.wrapLatLng(S.unproject(S.project(S.getCenter()).add(O)));S.panTo(V)}else S.panBy(O)}else if(b in this._zoomKeys)S.setZoom(S.getZoom()+(f.shiftKey?3:1)*this._zoomKeys[b]);else if(b===27&&S._popup&&S._popup.options.closeOnEscapeKey)S.closePopup();else return;Cl(f)}}});Yr.addInitHook("addHandler","keyboard",Gm),Yr.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Oc=$i.extend({addHooks:function(){sr(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ui(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(f){var b=Sm(f),S=this._map.options.wheelDebounceTime;this._delta+=b,this._lastMousePos=this._map.mouseEventToContainerPoint(f),this._startTime||(this._startTime=+new Date);var O=Math.max(S-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),O),Cl(f)},_performZoom:function(){var f=this._map,b=f.getZoom(),S=this._map.options.zoomSnap||0;f._stop();var O=this._delta/(this._map.options.wheelPxPerZoomLevel*4),V=4*Math.log(2/(1+Math.exp(-Math.abs(O))))/Math.LN2,it=S?Math.ceil(V/S)*S:V,wt=f._limitZoom(b+(this._delta>0?it:-it))-b;this._delta=0,this._startTime=null,wt&&(f.options.scrollWheelZoom==="center"?f.setZoom(b+wt):f.setZoomAround(this._lastMousePos,b+wt))}});Yr.addInitHook("addHandler","scrollWheelZoom",Oc);var hb=600;Yr.mergeOptions({tapHold:Fe.touchNative&&Fe.safari&&Fe.mobile,tapTolerance:15});var lf=$i.extend({addHooks:function(){sr(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ui(this._map._container,"touchstart",this._onDown,this)},_onDown:function(f){if(clearTimeout(this._holdTimeout),f.touches.length===1){var b=f.touches[0];this._startPos=this._newPos=new zt(b.clientX,b.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(sr(document,"touchend",Qi),sr(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",b))},this),hb),sr(document,"touchend touchcancel contextmenu",this._cancel,this),sr(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function f(){ui(document,"touchend",Qi),ui(document,"touchend touchcancel",f)},_cancel:function(){clearTimeout(this._holdTimeout),ui(document,"touchend touchcancel contextmenu",this._cancel,this),ui(document,"touchmove",this._onMove,this)},_onMove:function(f){var b=f.touches[0];this._newPos=new zt(b.clientX,b.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(f,b){var S=new MouseEvent(f,{bubbles:!0,cancelable:!0,view:window,screenX:b.screenX,screenY:b.screenY,clientX:b.clientX,clientY:b.clientY});S._simulated=!0,b.target.dispatchEvent(S)}});Yr.addInitHook("addHandler","tapHold",lf),Yr.mergeOptions({touchZoom:Fe.touch,bounceAtZoomLimits:!0});var cf=$i.extend({addHooks:function(){ur(this._map._container,"leaflet-touch-zoom"),sr(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Je(this._map._container,"leaflet-touch-zoom"),ui(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(f){var b=this._map;if(!(!f.touches||f.touches.length!==2||b._animatingZoom||this._zooming)){var S=b.mouseEventToContainerPoint(f.touches[0]),O=b.mouseEventToContainerPoint(f.touches[1]);this._centerPoint=b.getSize()._divideBy(2),this._startLatLng=b.containerPointToLatLng(this._centerPoint),b.options.touchZoom!=="center"&&(this._pinchStartLatLng=b.containerPointToLatLng(S.add(O)._divideBy(2))),this._startDist=S.distanceTo(O),this._startZoom=b.getZoom(),this._moved=!1,this._zooming=!0,b._stop(),sr(document,"touchmove",this._onTouchMove,this),sr(document,"touchend touchcancel",this._onTouchEnd,this),Qi(f)}},_onTouchMove:function(f){if(!(!f.touches||f.touches.length!==2||!this._zooming)){var b=this._map,S=b.mouseEventToContainerPoint(f.touches[0]),O=b.mouseEventToContainerPoint(f.touches[1]),V=S.distanceTo(O)/this._startDist;if(this._zoom=b.getScaleZoom(V,this._startZoom),!b.options.bounceAtZoomLimits&&(this._zoom<b.getMinZoom()&&V<1||this._zoom>b.getMaxZoom()&&V>1)&&(this._zoom=b._limitZoom(this._zoom)),b.options.touchZoom==="center"){if(this._center=this._startLatLng,V===1)return}else{var it=S._add(O)._divideBy(2)._subtract(this._centerPoint);if(V===1&&it.x===0&&it.y===0)return;this._center=b.unproject(b.project(this._pinchStartLatLng,this._zoom).subtract(it),this._zoom)}this._moved||(b._moveStart(!0,!1),this._moved=!0),ht(this._animRequest);var wt=d(b._move,b,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=lt(wt,this,!0),Qi(f)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ht(this._animRequest),ui(document,"touchmove",this._onTouchMove,this),ui(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Yr.addInitHook("addHandler","touchZoom",cf),Yr.BoxZoom=sf,Yr.DoubleClickZoom=af,Yr.Drag=ad,Yr.Keyboard=Gm,Yr.ScrollWheelZoom=Oc,Yr.TapHold=lf,Yr.TouchZoom=cf,t.Bounds=At,t.Browser=Fe,t.CRS=rr,t.Canvas=nd,t.Circle=Kp,t.CircleMarker=Jh,t.Class=St,t.Control=xo,t.DivIcon=tf,t.DivOverlay=dn,t.DomEvent=Up,t.DomUtil=Tl,t.Draggable=os,t.Evented=Dt,t.FeatureGroup=Zn,t.GeoJSON=la,t.GridLayer=qu,t.Handler=$i,t.Icon=Ps,t.ImageOverlay=ca,t.LatLng=ae,t.LatLngBounds=ee,t.Layer=_o,t.LayerGroup=Ll,t.LineUtil=Ml,t.Map=Yr,t.Marker=Al,t.Mixin=Vp,t.Path=sa,t.Point=zt,t.PolyUtil=eb,t.Polygon=Mc,t.Polyline=aa,t.Popup=Gu,t.PosAnimation=Gp,t.Projection=Om,t.Rectangle=of,t.Renderer=Ms,t.SVG=Rc,t.SVGOverlay=Lc,t.TileLayer=Ol,t.Tooltip=Rl,t.Transformation=Bi,t.Util=Gt,t.VideoOverlay=$p,t.bind=d,t.bounds=Xt,t.canvas=od,t.circle=nb,t.circleMarker=ib,t.control=Nu,t.divIcon=ef,t.extend=l,t.featureGroup=hn,t.geoJSON=rd,t.geoJson=ab,t.gridLayer=Hm,t.icon=Nm,t.imageOverlay=lb,t.latLng=ue,t.latLngBounds=ge,t.layerGroup=Xh,t.map=$y,t.marker=Dm,t.point=yt,t.polygon=sb,t.polyline=ob,t.popup=ua,t.rectangle=ub,t.setOptions=D,t.stamp=m,t.svg=nf,t.svgOverlay=cb,t.tileLayer=rf,t.tooltip=jm,t.transformation=bt,t.version=o,t.videoOverlay=Bm;var ld=window.L;t.noConflict=function(){return window.L=ld,this},window.L=t})})(x1,x1.exports);var eo=x1.exports;const ys=Bx(eo);var _1={exports:{}};(function(i,r){(function(t,o){o(r)})(Fx,function(t){var o={ar:{touch:"استخدم إصبعين لتحريك الخريطة",scroll:"‏استخدم ctrl + scroll لتصغير/تكبير الخريطة",scrollMac:"يمكنك استخدام ⌘ + التمرير لتكبير/تصغير الخريطة"},bg:{touch:"Използвайте два пръста, за да преместите картата",scroll:"Задръжте бутона Ctrl натиснат, докато превъртате, за да промените мащаба на картата",scrollMac:"Задръжте бутона ⌘ натиснат, докато превъртате, за да промените мащаба на картата"},bn:{touch:"মানচিত্রটিকে সরাতে দুটি আঙ্গুল ব্যবহার করুন",scroll:"ম্যাপ জুম করতে ctrl + scroll ব্যবহার করুন",scrollMac:"ম্যাপে জুম করতে ⌘ বোতাম টিপে স্ক্রল করুন"},ca:{touch:"Fes servir dos dits per moure el mapa",scroll:"Prem la tecla Control mentre et desplaces per apropar i allunyar el mapa",scrollMac:"Prem la tecla ⌘ mentre et desplaces per apropar i allunyar el mapa"},cs:{touch:"K posunutí mapy použijte dva prsty",scroll:"Velikost zobrazení mapy změňte podržením klávesy Ctrl a posouváním kolečka myši",scrollMac:"Velikost zobrazení mapy změníte podržením klávesy ⌘ a posunutím kolečka myši / touchpadu"},da:{touch:"Brug to fingre til at flytte kortet",scroll:"Brug ctrl + rullefunktionen til at zoome ind og ud på kortet",scrollMac:"Brug ⌘ + rullefunktionen til at zoome ind og ud på kortet"},de:{touch:"Verschieben der Karte mit zwei Fingern",scroll:"Verwende Strg+Scrollen zum Zoomen der Karte",scrollMac:"⌘"},el:{touch:"Χρησιμοποιήστε δύο δάχτυλα για μετακίνηση στον χάρτη",scroll:"Χρησιμοποιήστε το πλήκτρο Ctrl και κύλιση, για να μεγεθύνετε τον χάρτη",scrollMac:"Χρησιμοποιήστε το πλήκτρο ⌘ + κύλιση για εστίαση στον χάρτη"},en:{touch:"Use two fingers to move the map",scroll:"Use ctrl + scroll to zoom the map",scrollMac:"Use ⌘ + scroll to zoom the map"},"en-AU":{touch:"Use two fingers to move the map",scroll:"Use ctrl + scroll to zoom the map",scrollMac:"Use ⌘ + scroll to zoom the map"},"en-GB":{touch:"Use two fingers to move the map",scroll:"Use ctrl + scroll to zoom the map",scrollMac:"Use ⌘ + scroll to zoom the map"},es:{touch:"Para mover el mapa, utiliza dos dedos",scroll:"Mantén pulsada la tecla Ctrl mientras te desplazas para acercar o alejar el mapa",scrollMac:"Mantén pulsada la tecla ⌘ mientras te desplazas para acercar o alejar el mapa"},eu:{touch:"Erabili bi hatz mapa mugitzeko",scroll:"Mapan zooma aplikatzeko, sakatu Ktrl eta egin gora edo behera",scrollMac:"Eduki sakatuta ⌘ eta egin gora eta behera mapa handitu eta txikitzeko"},fa:{touch:"برای حرکت دادن نقشه از دو انگشت استفاده کنید.",scroll:"‏برای بزرگ‌نمایی نقشه از ctrl + scroll استفاده کنید",scrollMac:"برای بزرگ‌نمایی نقشه، از ⌘ + پیمایش استفاده کنید."},fi:{touch:"Siirrä karttaa kahdella sormella.",scroll:"Zoomaa karttaa painamalla Ctrl-painiketta ja vierittämällä.",scrollMac:"Zoomaa karttaa pitämällä painike ⌘ painettuna ja vierittämällä."},fil:{touch:"Gumamit ng dalawang daliri upang iusog ang mapa",scroll:"Gamitin ang ctrl + scroll upang i-zoom ang mapa",scrollMac:"Gamitin ang ⌘ + scroll upang i-zoom ang mapa"},fr:{touch:"Utilisez deux doigts pour déplacer la carte",scroll:"Vous pouvez zoomer sur la carte à l'aide de CTRL+Molette de défilement",scrollMac:"Vous pouvez zoomer sur la carte à l'aide de ⌘+Molette de défilement"},gl:{touch:"Utiliza dous dedos para mover o mapa",scroll:"Preme Ctrl mentres te desprazas para ampliar o mapa",scrollMac:"Preme ⌘ e desprázate para ampliar o mapa"},gu:{touch:"નકશો ખસેડવા બે આંગળીઓનો ઉપયોગ કરો",scroll:"નકશાને ઝૂમ કરવા માટે ctrl + સ્ક્રોલનો ઉપયોગ કરો",scrollMac:"નકશાને ઝૂમ કરવા ⌘ + સ્ક્રોલનો ઉપયોગ કરો"},hi:{touch:"मैप एक जगह से दूसरी जगह ले जाने के लिए दो उंगलियों का इस्तेमाल करें",scroll:"मैप को ज़ूम करने के लिए ctrl + स्क्रोल का उपयोग करें",scrollMac:"मैप को ज़ूम करने के लिए ⌘ + स्क्रोल का उपयोग करें"},hr:{touch:"Pomičite kartu pomoću dva prsta",scroll:"Upotrijebite Ctrl i klizač miša da biste zumirali kartu",scrollMac:"Upotrijebite gumb ⌘ dok se pomičete za zumiranje karte"},hu:{touch:"Két ujjal mozgassa a térképet",scroll:"A térkép a ctrl + görgetés használatával nagyítható",scrollMac:"A térkép a ⌘ + görgetés használatával nagyítható"},id:{touch:"Gunakan dua jari untuk menggerakkan peta",scroll:"Gunakan ctrl + scroll untuk memperbesar atau memperkecil peta",scrollMac:"Gunakan ⌘ + scroll untuk memperbesar atau memperkecil peta"},it:{touch:"Utilizza due dita per spostare la mappa",scroll:"Utilizza CTRL + scorrimento per eseguire lo zoom della mappa",scrollMac:"Utilizza ⌘ + scorrimento per eseguire lo zoom della mappa"},iw:{touch:"הזז את המפה באמצעות שתי אצבעות",scroll:"‏אפשר לשנות את מרחק התצוגה במפה באמצעות מקש ctrl וגלילה",scrollMac:"אפשר לשנות את מרחק התצוגה במפה באמצעות מקש ⌘ וגלילה"},ja:{touch:"地図を移動させるには指 2 本で操作します",scroll:"地図をズームするには、Ctrl キーを押しながらスクロールしてください",scrollMac:"地図をズームするには、⌘ キーを押しながらスクロールしてください"},kn:{touch:"Use two fingers to move the map",scroll:"Use Ctrl + scroll to zoom the map",scrollMac:"Use ⌘ + scroll to zoom the map"},ko:{touch:"지도를 움직이려면 두 손가락을 사용하세요.",scroll:"지도를 확대/축소하려면 Ctrl을 누른 채 스크롤하세요.",scrollMac:"지도를 확대하려면 ⌘ + 스크롤 사용"},lt:{touch:"Perkelkite žemėlapį dviem pirštais",scroll:"Slinkite nuspaudę klavišą „Ctrl“, kad pakeistumėte žemėlapio mastelį",scrollMac:"Paspauskite klavišą ⌘ ir slinkite, kad priartintumėte žemėlapį"},lv:{touch:"Lai pārvietotu karti, bīdiet to ar diviem pirkstiem",scroll:"Kartes tālummaiņai izmantojiet ctrl + ritināšanu",scrollMac:"Lai veiktu kartes tālummaiņu, izmantojiet ⌘ + ritināšanu"},ml:{touch:"മാപ്പ് നീക്കാൻ രണ്ട് വിരലുകൾ ഉപയോഗിക്കുക",scroll:"കൺട്രോൾ + സ്‌ക്രോൾ ഉപയോഗിച്ച് ‌മാപ്പ് ‌സൂം ചെയ്യുക",scrollMac:"⌘ + സ്‌ക്രോൾ ഉപയോഗിച്ച് ‌മാപ്പ് ‌സൂം ചെയ്യുക"},mr:{touch:"नकाशा हलविण्यासाठी दोन बोटे वापरा",scroll:"नकाशा झूम करण्यासाठी ctrl + scroll वापरा",scrollMac:"नकाशावर झूम करण्यासाठी ⌘ + स्क्रोल वापरा"},nl:{touch:"Gebruik twee vingers om de kaart te verplaatsen",scroll:"Gebruik Ctrl + scrollen om in- en uit te zoomen op de kaart",scrollMac:"Gebruik ⌘ + scrollen om in en uit te zoomen op de kaart"},no:{touch:"Bruk to fingre for å flytte kartet",scroll:"Hold ctrl-tasten inne og rull for å zoome på kartet",scrollMac:"Hold inne ⌘-tasten og rull for å zoome på kartet"},pl:{touch:"Przesuń mapę dwoma palcami",scroll:"Naciśnij CTRL i przewiń, by przybliżyć mapę",scrollMac:"Naciśnij ⌘ i przewiń, by przybliżyć mapę"},pt:{touch:"Use dois dedos para mover o mapa",scroll:"Pressione Ctrl e role a tela simultaneamente para aplicar zoom no mapa",scrollMac:"Use ⌘ e role a tela simultaneamente para aplicar zoom no mapa"},"pt-BR":{touch:"Use dois dedos para mover o mapa",scroll:"Pressione Ctrl e role a tela simultaneamente para aplicar zoom no mapa",scrollMac:"Use ⌘ e role a tela simultaneamente para aplicar zoom no mapa"},"pt-PT":{touch:"Utilize dois dedos para mover o mapa",scroll:"Utilizar ctrl + deslocar para aumentar/diminuir zoom do mapa",scrollMac:"Utilize ⌘ + deslocar para aumentar/diminuir o zoom do mapa"},ro:{touch:"Folosiți două degete pentru a deplasa harta",scroll:"Apăsați tasta ctrl și derulați simultan pentru a mări harta",scrollMac:"Folosiți ⌘ și derulați pentru a mări/micșora harta"},ru:{touch:"Чтобы переместить карту, проведите по ней двумя пальцами",scroll:"Чтобы изменить масштаб, прокручивайте карту, удерживая клавишу Ctrl.",scrollMac:"Чтобы изменить масштаб, нажмите ⌘ + прокрутка"},sk:{touch:"Mapu môžete posunúť dvoma prstami",scroll:"Ak chcete priblížiť mapu, stlačte kláves ctrl a posúvajte",scrollMac:"Ak chcete priblížiť mapu, stlačte kláves ⌘ a posúvajte kolieskom myši"},sl:{touch:"Premaknite zemljevid z dvema prstoma",scroll:"Zemljevid povečate tako, da držite tipko Ctrl in vrtite kolesce na miški",scrollMac:"Uporabite ⌘ + funkcijo pomika, da povečate ali pomanjšate zemljevid"},sr:{touch:"Мапу померајте помоћу два прста",scroll:"Притисните ctrl тастер док померате да бисте зумирали мапу",scrollMac:"Притисните тастер ⌘ док померате да бисте зумирали мапу"},sv:{touch:"Använd två fingrar för att flytta kartan",scroll:"Använd ctrl + rulla för att zooma kartan",scrollMac:"Använd ⌘ + rulla för att zooma på kartan"},ta:{touch:"மேப்பை நகர்த்த இரண்டு விரல்களைப் பயன்படுத்தவும்",scroll:"மேப்பை பெரிதாக்கி/சிறிதாக்கிப் பார்க்க, ctrl பட்டனைப் பிடித்தபடி, மேலே/கீழே ஸ்க்ரால் செய்யவும்",scrollMac:"மேப்பை பெரிதாக்கி/சிறிதாக்கிப் பார்க்க, ⌘ பட்டனைப் பிடித்தபடி, மேலே/கீழே ஸ்க்ரால் செய்யவும்"},te:{touch:"మ్యాప్‌ని తరలించడం కోసం రెండు వేళ్లను ఉపయోగించండి",scroll:"మ్యాప్‌ని జూమ్ చేయడానికి ctrl బటన్‌ను నొక్కి ఉంచి, స్క్రోల్ చేయండి",scrollMac:"మ్యాప్ జూమ్ చేయాలంటే ⌘ + స్క్రోల్ ఉపయోగించండి"},th:{touch:"ใช้ 2 นิ้วเพื่อเลื่อนแผนที่",scroll:"กด Ctrl ค้างไว้ แล้วเลื่อนหน้าจอเพื่อซูมแผนที่",scrollMac:"กด ⌘ แล้วเลื่อนหน้าจอเพื่อซูมแผนที่"},tl:{touch:"Gumamit ng dalawang daliri upang iusog ang mapa",scroll:"Gamitin ang ctrl + scroll upang i-zoom ang mapa",scrollMac:"Gamitin ang ⌘ + scroll upang i-zoom ang mapa"},tr:{touch:"Haritada gezinmek için iki parmağınızı kullanın",scroll:"Haritayı yakınlaştırmak için ctrl + kaydırma kombinasyonunu kullanın",scrollMac:"Haritayı yakınlaştırmak için ⌘ tuşuna basıp ekranı kaydırın"},uk:{touch:"Переміщуйте карту двома пальцями",scroll:"Щоб змінювати масштаб карти, прокручуйте коліщатко миші, утримуючи клавішу Ctrl",scrollMac:"Щоб змінити масштаб карти, використовуйте ⌘ + прокручування"},vi:{touch:"Sử dụng hai ngón tay để di chuyển bản đồ",scroll:"Sử dụng ctrl + cuộn để thu phóng bản đồ",scrollMac:"Sử dụng ⌘ + cuộn để thu phóng bản đồ"},"zh-CN":{touch:"使用双指移动地图",scroll:"按住 Ctrl 并滚动鼠标滚轮才可缩放地图",scrollMac:"按住 ⌘ 并滚动鼠标滚轮才可缩放地图"},"zh-TW":{touch:"同時以兩指移動地圖",scroll:"按住 ctrl 鍵加上捲動滑鼠可以縮放地圖",scrollMac:"按 ⌘ 加上滾動捲軸可以縮放地圖"}};L.Map.mergeOptions({gestureHandlingOptions:{text:{},duration:1e3}});var l=!1,u=L.Handler.extend({addHooks:function(){this._handleTouch=this._handleTouch.bind(this),this._setupPluginOptions(),this._setLanguageContent(),this._disableInteractions(),this._map._container.addEventListener("touchstart",this._handleTouch),this._map._container.addEventListener("touchmove",this._handleTouch),this._map._container.addEventListener("touchend",this._handleTouch),this._map._container.addEventListener("touchcancel",this._handleTouch),this._map._container.addEventListener("click",this._handleTouch),L.DomEvent.on(this._map._container,"wheel",this._handleScroll,this),L.DomEvent.on(this._map,"mouseover",this._handleMouseOver,this),L.DomEvent.on(this._map,"mouseout",this._handleMouseOut,this),L.DomEvent.on(this._map,"movestart",this._handleDragging,this),L.DomEvent.on(this._map,"move",this._handleDragging,this),L.DomEvent.on(this._map,"moveend",this._handleDragging,this)},removeHooks:function(){this._enableInteractions(),this._map._container.removeEventListener("touchstart",this._handleTouch),this._map._container.removeEventListener("touchmove",this._handleTouch),this._map._container.removeEventListener("touchend",this._handleTouch),this._map._container.removeEventListener("touchcancel",this._handleTouch),this._map._container.removeEventListener("click",this._handleTouch),L.DomEvent.off(this._map._container,"wheel",this._handleScroll,this),L.DomEvent.off(this._map,"mouseover",this._handleMouseOver,this),L.DomEvent.off(this._map,"mouseout",this._handleMouseOut,this),L.DomEvent.off(this._map,"movestart",this._handleDragging,this),L.DomEvent.off(this._map,"move",this._handleDragging,this),L.DomEvent.off(this._map,"moveend",this._handleDragging,this)},_handleDragging:function(d){d.type=="movestart"||d.type=="move"?l=!0:d.type=="moveend"&&(l=!1)},_disableInteractions:function(){this._map.dragging.disable(),this._map.scrollWheelZoom.disable(),this._map.tap&&this._map.tap.disable()},_enableInteractions:function(){this._map.dragging.enable(),this._map.scrollWheelZoom.enable(),this._map.tap&&this._map.tap.enable()},_setupPluginOptions:function(){this._map.options.gestureHandlingText&&(this._map.options.gestureHandlingOptions.text=this._map.options.gestureHandlingText)},_setLanguageContent:function(){var d;if(this._map.options.gestureHandlingOptions&&this._map.options.gestureHandlingOptions.text&&this._map.options.gestureHandlingOptions.text.touch&&this._map.options.gestureHandlingOptions.text.scroll&&this._map.options.gestureHandlingOptions.text.scrollMac)d=this._map.options.gestureHandlingOptions.text;else{var p=this._getUserLanguage();p||(p="en"),o[p]&&(d=o[p]),d||p.indexOf("-")===-1||(p=p.split("-")[0],d=o[p]),d||(d=o[p="en"])}var m=!1;0<=navigator.platform.toUpperCase().indexOf("MAC")&&(m=!0);var v=d.scroll;m&&(v=d.scrollMac),this._map._container.setAttribute("data-gesture-handling-touch-content",d.touch),this._map._container.setAttribute("data-gesture-handling-scroll-content",v)},_getUserLanguage:function(){return navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage},_handleTouch:function(d){for(var p=["leaflet-control-minimap","leaflet-interactive","leaflet-popup-content","leaflet-popup-content-wrapper","leaflet-popup-close-button","leaflet-control-zoom-in","leaflet-control-zoom-out"],m=!1,v=0;v<p.length;v++)L.DomUtil.hasClass(d.target,p[v])&&(m=!0);m?L.DomUtil.hasClass(d.target,"leaflet-interactive")&&d.type==="touchmove"&&d.touches.length===1?(L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling-touch-warning"),this._disableInteractions()):L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-touch-warning"):d.type==="touchmove"||d.type==="touchstart"?d.touches.length===1?(L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling-touch-warning"),this._disableInteractions()):(d.preventDefault(),this._enableInteractions(),L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-touch-warning")):L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-touch-warning")},_isScrolling:!1,_handleScroll:function(d){d.metaKey||d.ctrlKey?(d.preventDefault(),L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-scroll-warning"),this._map.scrollWheelZoom.enable()):(L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling-scroll-warning"),this._map.scrollWheelZoom.disable(),clearTimeout(this._isScrolling),this._isScrolling=setTimeout(function(){for(var p=document.getElementsByClassName("leaflet-gesture-handling-scroll-warning"),m=0;m<p.length;m++)L.DomUtil.removeClass(p[m],"leaflet-gesture-handling-scroll-warning")},this._map.options.gestureHandlingOptions.duration))},_handleMouseOver:function(d){this._enableInteractions()},_handleMouseOut:function(d){l||this._disableInteractions()}});L.Map.addInitHook("addHandler","gestureHandling",u),t.GestureHandling=u,t.default=u,Object.defineProperty(t,"__esModule",{value:!0})})})(_1,_1.exports);var c8=_1.exports;L.Control.Opacity=L.Control.extend({options:{collapsed:!1,position:"topright",label:null},initialize:function(i,r){for(const t in L.Util.setOptions(this,r),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,i)this._addLayer(i[t],t,!0)},onAdd:function(i){return this._initLayout(),this._update(),this._container},expand:function(){L.DomUtil.addClass(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._form.clientHeight?(L.DomUtil.addClass(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=i+"px"):L.DomUtil.removeClass(this._form,"leaflet-control-layers-scrollbar"),this},collapse:function(){return L.DomUtil.removeClass(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){const i="leaflet-control-layers",r=this._container=L.DomUtil.create("div",i),t=this.options.collapsed;if(r.setAttribute("aria-haspopup",!0),L.DomEvent.disableClickPropagation(r),L.DomEvent.disableScrollPropagation(r),this.options.label){const u=L.DomUtil.create("p",i+"-label");u.innerHTML=this.options.label,r.appendChild(u)}var o=this._form=L.DomUtil.create("form",i+"-list");t&&(this._map.on("click zoom move",this.collapse,this),L.Browser.android||L.DomEvent.on(r,{mouseenter:this.expand,mouseleave:this.collapse},this));const l=this._layersLink=L.DomUtil.create("a",i+"-toggle",r);l.href="#",l.title="Layers",L.Browser.touch?(L.DomEvent.on(l,"click",L.DomEvent.stop),L.DomEvent.on(l,"click",this.expand,this)):L.DomEvent.on(l,"focus",this.expand,this),t||this.expand(),this._baseLayersList=L.DomUtil.create("div",i+"-base",o),this._separator=L.DomUtil.create("div",i+"-separator",o),this._overlaysList=L.DomUtil.create("div",i+"-overlays",o),r.appendChild(o)},_getLayer:function(i){for(let r=0;r<this._layers.length;r++)if(this._layers[r]&&L.Util.stamp(this._layers[r].layer)===i)return this._layers[r]},_addLayer:function(i,r,t){this._layers.push({layer:i,name:r,overlay:t})},_update:function(){if(!this._container)return this;L.DomUtil.empty(this._baseLayersList),L.DomUtil.empty(this._overlaysList),this._layerControlInputs=[];let i,r,t,o,l=0;for(t=0;t<this._layers.length;t++)o=this._layers[t],this._addItem(o),r=r||o.overlay,i=i||!o.overlay,l+=o.overlay?0:1;this.options.hideSingleBase&&(i=i&&1<l,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=r&&i?"":"none"},_addItem:function(i){let r=document.createElement("label"),t=document.createElement("input");i.overlay?(t.type="range",t.className="leaflet-control-layers-range",t.min=0,t.max=100,t.value=100*i.layer.options.opacity):t=this._createRadioElement("leaflet-base-layers",checked),this._layerControlInputs.push(t),t.layerId=L.Util.stamp(i.layer),t.addEventListener("input",p=>{p=p.target.value;const m=this._getLayer(t.layerId).layer;m._url===void 0||m.setOpacity(Number(p/100))});const o=document.createElement("span");o.innerHTML=" "+i.name;const l=document.createElement("div"),u=document.createElement("div");r.appendChild(l),l.appendChild(o),r.appendChild(u),u.appendChild(t),(i.overlay?this._overlaysList:this._baseLayersList).appendChild(r)}}),L.control.opacity=function(i,r){return new L.Control.Opacity(i,r)};(function(i,r){typeof exports=="object"&&typeof module<"u"?r(exports):typeof define=="function"&&define.amd?define(["exports"],r):r((i=typeof globalThis<"u"?globalThis:i||self).turf={})})(globalThis,function(i){var r=63710088e-1,t={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260511392e-6,inches:39.37*r,kilometers:6371.0088,kilometres:6371.0088,meters:r,metres:r,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:r/1852,radians:1,yards:6967335223679999e-9},o={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/r,yards:1.0936133},l={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function u(e,n,s){s===void 0&&(s={});var a={type:"Feature"};return(s.id===0||s.id)&&(a.id=s.id),s.bbox&&(a.bbox=s.bbox),a.properties=n||{},a.geometry=e,a}function d(e,n,s){switch(e){case"Point":return p(n).geometry;case"LineString":return k(n).geometry;case"Polygon":return v(n).geometry;case"MultiPoint":return D(n).geometry;case"MultiLineString":return I(n).geometry;case"MultiPolygon":return j(n).geometry;default:throw new Error(e+" is invalid")}}function p(e,n,s){if(s===void 0&&(s={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!lt(e[0])||!lt(e[1]))throw new Error("coordinates must contain numbers");return u({type:"Point",coordinates:e},n,s)}function m(e,n,s){return s===void 0&&(s={}),M(e.map(function(a){return p(a,n)}),s)}function v(e,n,s){s===void 0&&(s={});for(var a=0,c=e;a<c.length;a++){var h=c[a];if(h.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var g=0;g<h[h.length-1].length;g++)if(h[h.length-1][g]!==h[0][g])throw new Error("First and last Position are not equivalent.")}return u({type:"Polygon",coordinates:e},n,s)}function x(e,n,s){return s===void 0&&(s={}),M(e.map(function(a){return v(a,n)}),s)}function k(e,n,s){if(s===void 0&&(s={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return u({type:"LineString",coordinates:e},n,s)}function C(e,n,s){return s===void 0&&(s={}),M(e.map(function(a){return k(a,n)}),s)}function M(e,n){n===void 0&&(n={});var s={type:"FeatureCollection"};return n.id&&(s.id=n.id),n.bbox&&(s.bbox=n.bbox),s.features=e,s}function I(e,n,s){return s===void 0&&(s={}),u({type:"MultiLineString",coordinates:e},n,s)}function D(e,n,s){return s===void 0&&(s={}),u({type:"MultiPoint",coordinates:e},n,s)}function j(e,n,s){return s===void 0&&(s={}),u({type:"MultiPolygon",coordinates:e},n,s)}function H(e,n,s){return s===void 0&&(s={}),u({type:"GeometryCollection",geometries:e},n,s)}function J(e,n){if(n===void 0&&(n=0),n&&!(n>=0))throw new Error("precision must be a positive number");var s=Math.pow(10,n||0);return Math.round(e*s)/s}function q(e,n){n===void 0&&(n="kilometers");var s=t[n];if(!s)throw new Error(n+" units is invalid");return e*s}function W(e,n){n===void 0&&(n="kilometers");var s=t[n];if(!s)throw new Error(n+" units is invalid");return e/s}function st(e,n){return gt(W(e,n))}function mt(e){var n=e%360;return n<0&&(n+=360),n}function gt(e){return 180*(e%(2*Math.PI))/Math.PI}function ot(e){return e%360*Math.PI/180}function U(e,n,s){if(n===void 0&&(n="kilometers"),s===void 0&&(s="kilometers"),!(e>=0))throw new Error("length must be a positive number");return q(W(e,n),s)}function et(e,n,s){if(n===void 0&&(n="meters"),s===void 0&&(s="kilometers"),!(e>=0))throw new Error("area must be a positive number");var a=l[n];if(!a)throw new Error("invalid original units");var c=l[s];if(!c)throw new Error("invalid final units");return e/a*c}function lt(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function ht(e){return!!e&&e.constructor===Object}function Gt(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(e.length!==4&&e.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach(function(n){if(!lt(n))throw new Error("bbox must only contain numbers")})}function St(e){if(!e)throw new Error("id is required");if(["string","number"].indexOf(typeof e)===-1)throw new Error("id must be a number or a string")}var Lt=Object.freeze({__proto__:null,earthRadius:r,factors:t,unitsFactors:o,areaFactors:l,feature:u,geometry:d,point:p,points:m,polygon:v,polygons:x,lineString:k,lineStrings:C,featureCollection:M,multiLineString:I,multiPoint:D,multiPolygon:j,geometryCollection:H,round:J,radiansToLength:q,lengthToRadians:W,lengthToDegrees:st,bearingToAzimuth:mt,radiansToDegrees:gt,degreesToRadians:ot,convertLength:U,convertArea:et,isNumber:lt,isObject:ht,validateBBox:Gt,validateId:St});function xt(e,n,s){if(e!==null)for(var a,c,h,g,y,w,_,T,E=0,P=0,z=e.type,N=z==="FeatureCollection",B=z==="Feature",R=N?e.features.length:1,Y=0;Y<R;Y++){y=(T=!!(_=N?e.features[Y].geometry:B?e.geometry:e)&&_.type==="GeometryCollection")?_.geometries.length:1;for(var nt=0;nt<y;nt++){var F=0,Z=0;if((g=T?_.geometries[nt]:_)!==null){w=g.coordinates;var X=g.type;switch(E=!s||X!=="Polygon"&&X!=="MultiPolygon"?0:1,X){case null:break;case"Point":if(n(w,P,Y,F,Z)===!1)return!1;P++,F++;break;case"LineString":case"MultiPoint":for(a=0;a<w.length;a++){if(n(w[a],P,Y,F,Z)===!1)return!1;P++,X==="MultiPoint"&&F++}X==="LineString"&&F++;break;case"Polygon":case"MultiLineString":for(a=0;a<w.length;a++){for(c=0;c<w[a].length-E;c++){if(n(w[a][c],P,Y,F,Z)===!1)return!1;P++}X==="MultiLineString"&&F++,X==="Polygon"&&Z++}X==="Polygon"&&F++;break;case"MultiPolygon":for(a=0;a<w.length;a++){for(Z=0,c=0;c<w[a].length;c++){for(h=0;h<w[a][c].length-E;h++){if(n(w[a][c][h],P,Y,F,Z)===!1)return!1;P++}Z++}F++}break;case"GeometryCollection":for(a=0;a<g.geometries.length;a++)if(xt(g.geometries[a],n,s)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Dt(e,n,s,a){var c=s;return xt(e,function(h,g,y,w,_){c=g===0&&s===void 0?h:n(c,h,g,y,w,_)},a),c}function zt(e,n){var s;switch(e.type){case"FeatureCollection":for(s=0;s<e.features.length&&n(e.features[s].properties,s)!==!1;s++);break;case"Feature":n(e.properties,0)}}function fe(e,n,s){var a=s;return zt(e,function(c,h){a=h===0&&s===void 0?c:n(a,c,h)}),a}function yt(e,n){if(e.type==="Feature")n(e,0);else if(e.type==="FeatureCollection")for(var s=0;s<e.features.length&&n(e.features[s],s)!==!1;s++);}function At(e,n,s){var a=s;return yt(e,function(c,h){a=h===0&&s===void 0?c:n(a,c,h)}),a}function Xt(e){var n=[];return xt(e,function(s){n.push(s)}),n}function ee(e,n){var s,a,c,h,g,y,w,_,T,E,P=0,z=e.type==="FeatureCollection",N=e.type==="Feature",B=z?e.features.length:1;for(s=0;s<B;s++){for(y=z?e.features[s].geometry:N?e.geometry:e,_=z?e.features[s].properties:N?e.properties:{},T=z?e.features[s].bbox:N?e.bbox:void 0,E=z?e.features[s].id:N?e.id:void 0,g=(w=!!y&&y.type==="GeometryCollection")?y.geometries.length:1,c=0;c<g;c++)if((h=w?y.geometries[c]:y)!==null)switch(h.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(n(h,P,_,T,E)===!1)return!1;break;case"GeometryCollection":for(a=0;a<h.geometries.length;a++)if(n(h.geometries[a],P,_,T,E)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(n(null,P,_,T,E)===!1)return!1;P++}}function ge(e,n,s){var a=s;return ee(e,function(c,h,g,y,w){a=h===0&&s===void 0?c:n(a,c,h,g,y,w)}),a}function ae(e,n){ee(e,function(s,a,c,h,g){var y,w=s===null?null:s.type;switch(w){case null:case"Point":case"LineString":case"Polygon":return n(u(s,c,{bbox:h,id:g}),a,0)!==!1&&void 0}switch(w){case"MultiPoint":y="Point";break;case"MultiLineString":y="LineString";break;case"MultiPolygon":y="Polygon"}for(var _=0;_<s.coordinates.length;_++){var T=s.coordinates[_];if(n(u({type:y,coordinates:T},c),a,_)===!1)return!1}})}function ue(e,n,s){var a=s;return ae(e,function(c,h,g){a=h===0&&g===0&&s===void 0?c:n(a,c,h,g)}),a}function rr(e,n){ae(e,function(s,a,c){var h=0;if(s.geometry){var g=s.geometry.type;if(g!=="Point"&&g!=="MultiPoint"){var y,w=0,_=0,T=0;return xt(s,function(E,P,z,N,B){if(y===void 0||a>w||N>_||B>T)return y=E,w=a,_=N,T=B,void(h=0);var R=k([y,E],s.properties);if(n(R,a,c,B,h)===!1)return!1;h++,y=E})!==!1&&void 0}}})}function mr(e,n,s){var a=s,c=!1;return rr(e,function(h,g,y,w,_){a=c===!1&&s===void 0?h:n(a,h,g,y,w,_),c=!0}),a}function vi(e,n){if(!e)throw new Error("geojson is required");ae(e,function(s,a,c){if(s.geometry!==null){var h=s.geometry.type,g=s.geometry.coordinates;switch(h){case"LineString":if(n(s,a,c,0,0)===!1)return!1;break;case"Polygon":for(var y=0;y<g.length;y++)if(n(k(g[y],s.properties),a,c,y)===!1)return!1}}})}function Xi(e,n,s){var a=s;return vi(e,function(c,h,g,y){a=h===0&&s===void 0?c:n(a,c,h,g,y)}),a}function Bi(e,n){if(!ht(n=n||{}))throw new Error("options is invalid");var s,a=n.featureIndex||0,c=n.multiFeatureIndex||0,h=n.geometryIndex||0,g=n.segmentIndex||0,y=n.properties;switch(e.type){case"FeatureCollection":a<0&&(a=e.features.length+a),y=y||e.features[a].properties,s=e.features[a].geometry;break;case"Feature":y=y||e.properties,s=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":s=e;break;default:throw new Error("geojson is invalid")}if(s===null)return null;var w=s.coordinates;switch(s.type){case"Point":case"MultiPoint":return null;case"LineString":return g<0&&(g=w.length+g-1),k([w[g],w[g+1]],y,n);case"Polygon":return h<0&&(h=w.length+h),g<0&&(g=w[h].length+g-1),k([w[h][g],w[h][g+1]],y,n);case"MultiLineString":return c<0&&(c=w.length+c),g<0&&(g=w[c].length+g-1),k([w[c][g],w[c][g+1]],y,n);case"MultiPolygon":return c<0&&(c=w.length+c),h<0&&(h=w[c].length+h),g<0&&(g=w[c][h].length-g-1),k([w[c][h][g],w[c][h][g+1]],y,n)}throw new Error("geojson is invalid")}function bt(e,n){if(!ht(n=n||{}))throw new Error("options is invalid");var s,a=n.featureIndex||0,c=n.multiFeatureIndex||0,h=n.geometryIndex||0,g=n.coordIndex||0,y=n.properties;switch(e.type){case"FeatureCollection":a<0&&(a=e.features.length+a),y=y||e.features[a].properties,s=e.features[a].geometry;break;case"Feature":y=y||e.properties,s=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":s=e;break;default:throw new Error("geojson is invalid")}if(s===null)return null;var w=s.coordinates;switch(s.type){case"Point":return p(w,y,n);case"MultiPoint":return c<0&&(c=w.length+c),p(w[c],y,n);case"LineString":return g<0&&(g=w.length+g),p(w[g],y,n);case"Polygon":return h<0&&(h=w.length+h),g<0&&(g=w[h].length+g),p(w[h][g],y,n);case"MultiLineString":return c<0&&(c=w.length+c),g<0&&(g=w[c].length+g),p(w[c][g],y,n);case"MultiPolygon":return c<0&&(c=w.length+c),h<0&&(h=w[c].length+h),g<0&&(g=w[c][h].length-g),p(w[c][h][g],y,n)}throw new Error("geojson is invalid")}var Et=Object.freeze({__proto__:null,coordAll:Xt,coordEach:xt,coordReduce:Dt,featureEach:yt,featureReduce:At,findPoint:bt,findSegment:Bi,flattenEach:ae,flattenReduce:ue,geomEach:ee,geomReduce:ge,lineEach:vi,lineReduce:Xi,propEach:zt,propReduce:fe,segmentEach:rr,segmentReduce:mr});function Ht(e){var n=[1/0,1/0,-1/0,-1/0];return xt(e,function(s){n[0]>s[0]&&(n[0]=s[0]),n[1]>s[1]&&(n[1]=s[1]),n[2]<s[0]&&(n[2]=s[0]),n[3]<s[1]&&(n[3]=s[1])}),n}function A(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return e.geometry.coordinates;if(e.type==="Point")return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function G(e){if(Array.isArray(e))return e;if(e.type==="Feature"){if(e.geometry!==null)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function at(e){if(e.length>1&&lt(e[0])&&lt(e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return at(e[0]);throw new Error("coordinates must only contain numbers")}function ft(e,n,s){if(!n||!s)throw new Error("type and name required");if(!e||e.type!==n)throw new Error("Invalid input to "+s+": must be a "+n+", given "+e.type)}function pt(e,n,s){if(!e)throw new Error("No feature passed");if(!s)throw new Error(".featureOf() requires a name");if(!e||e.type!=="Feature"||!e.geometry)throw new Error("Invalid input to "+s+", Feature with geometry required");if(!e.geometry||e.geometry.type!==n)throw new Error("Invalid input to "+s+": must be a "+n+", given "+e.geometry.type)}function kt(e,n,s){if(!e)throw new Error("No featureCollection passed");if(!s)throw new Error(".collectionOf() requires a name");if(!e||e.type!=="FeatureCollection")throw new Error("Invalid input to "+s+", FeatureCollection required");for(var a=0,c=e.features;a<c.length;a++){var h=c[a];if(!h||h.type!=="Feature"||!h.geometry)throw new Error("Invalid input to "+s+", Feature with geometry required");if(!h.geometry||h.geometry.type!==n)throw new Error("Invalid input to "+s+": must be a "+n+", given "+h.geometry.type)}}function dt(e){return e.type==="Feature"?e.geometry:e}function Ot(e,n){return e.type==="FeatureCollection"?"FeatureCollection":e.type==="GeometryCollection"?"GeometryCollection":e.type==="Feature"&&e.geometry!==null?e.geometry.type:e.type}Ht.default=Ht;var $t=Object.freeze({__proto__:null,getCoord:A,getCoords:G,containsNumber:at,geojsonType:ft,featureOf:pt,collectionOf:kt,getGeom:dt,getType:Ot}),te=Object.getOwnPropertySymbols,re=Object.prototype.hasOwnProperty,be=Object.prototype.propertyIsEnumerable;/*
    object-assign
    (c) Sindre Sorhus
    @license MIT
    */function _e(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var je=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var n={},s=0;s<10;s++)n["_"+String.fromCharCode(s)]=s;if(Object.getOwnPropertyNames(n).map(function(c){return n[c]}).join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(c){a[c]=c}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(e,n){for(var s,a,c=_e(e),h=1;h<arguments.length;h++){for(var g in s=Object(arguments[h]))re.call(s,g)&&(c[g]=s[g]);if(te){a=te(s);for(var y=0;y<a.length;y++)be.call(s,a[y])&&(c[a[y]]=s[a[y]])}}return c},$={successCallback:null,verbose:!1},K={};/**
     * @license GNU Affero General Public License.
     * Copyright (c) 2015, 2015 Ronny Lorenz <ronny@tbi.univie.ac.at>
     * v. 1.2.0
     * https://github.com/RaumZeit/MarchingSquares.js
     *
     * MarchingSquaresJS is free software: you can redistribute it and/or modify
     * it under the terms of the GNU Affero General Public License as published by
     * the Free Software Foundation, either version 3 of the License, or
     * (at your option) any later version.
     *
     * MarchingSquaresJS is distributed in the hope that it will be useful,
     * but WITHOUT ANY WARRANTY; without even the implied warranty of
     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
     * GNU Affero General Public License for more details.
     *
     * As additional permission under GNU Affero General Public License version 3
     * section 7, third-party projects (personal or commercial) may distribute,
     * include, or link against UNMODIFIED VERSIONS of MarchingSquaresJS without the
     * requirement that said third-party project for that reason alone becomes
     * subject to any requirement of the GNU Affero General Public License version 3.
     * Any modifications to MarchingSquaresJS, however, must be shared with the public
     * and made available.
     *
     * In summary this:
     * - allows you to use MarchingSquaresJS at no cost
     * - allows you to use MarchingSquaresJS for both personal and commercial purposes
     * - allows you to distribute UNMODIFIED VERSIONS of MarchingSquaresJS under any
     *   license as long as this license notice is included
     * - enables you to keep the source code of your program that uses MarchingSquaresJS
     *   undisclosed
     * - forces you to share any modifications you have made to MarchingSquaresJS,
     *   e.g. bug-fixes
     *
     * You should have received a copy of the GNU Affero General Public License
     * along with MarchingSquaresJS.  If not, see <http://www.gnu.org/licenses/>.
     */function ut(e,n,s){s=s||{};for(var a=Object.keys($),c=0;c<a.length;c++){var h=a[c],g=s[h];g=g??$[h],K[h]=g}K.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+n);var y=function(w){var _=[],T=0,E=1e-7;return w.cells.forEach(function(P,z){P.forEach(function(N,B){if(N!==void 0&&(tt=N).cval!==5&&tt.cval!==10&&!Kt(N)){var R=function(Q,Bt,Tt){var Ut,Ct,Wt=Q.length,Rt=[],It=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],Pt=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],qt=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"],Nt=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],Yt=Q[Bt][Tt],vt=Yt.cval,Le=qt[vt],le=Te(Yt,Le);Rt.push([Tt+le[0],Bt+le[1]]),Le=Nt[vt],le=Te(Yt,Le),Rt.push([Tt+le[0],Bt+le[1]]),ne(Yt);for(var tr=Tt+It[vt],xe=Bt+Pt[vt],Ue=vt;tr>=0&&xe>=0&&xe<Wt&&(tr!=Tt||xe!=Bt)&&(Yt=Q[xe][tr])!==void 0;){if((vt=Yt.cval)===0||vt===15)return{path:Rt,info:"mergeable"};Le=Nt[vt],Ut=It[vt],Ct=Pt[vt],vt!==5&&vt!==10||(vt===5?Yt.flipped?Pt[Ue]===-1?(Le="left",Ut=-1,Ct=0):(Le="right",Ut=1,Ct=0):It[Ue]===-1&&(Le="bottom",Ut=0,Ct=-1):vt===10&&(Yt.flipped?It[Ue]===-1?(Le="top",Ut=0,Ct=1):(Le="bottom",Ut=0,Ct=-1):Pt[Ue]===1&&(Le="left",Ut=-1,Ct=0))),le=Te(Yt,Le),Rt.push([tr+le[0],xe+le[1]]),ne(Yt),tr+=Ut,xe+=Ct,Ue=vt}return{path:Rt,info:"closed"}}(w.cells,z,B),Y=!1;if(R.info==="mergeable"){for(var nt=R.path[R.path.length-1][0],F=R.path[R.path.length-1][1],Z=T-1;Z>=0;Z--)if(Math.abs(_[Z][0][0]-nt)<=E&&Math.abs(_[Z][0][1]-F)<=E){for(var X=R.path.length-2;X>=0;--X)_[Z].unshift(R.path[X]);Y=!0;break}}Y||(_[T++]=R.path)}var tt})}),_}(function(w,_){for(var T=w.length-1,E=w[0].length-1,P={rows:T,cols:E,cells:[]},z=0;z<T;++z){P.cells[z]=[];for(var N=0;N<E;++N){var B=0,R=w[z+1][N],Y=w[z+1][N+1],nt=w[z][N+1],F=w[z][N];if(!(isNaN(R)||isNaN(Y)||isNaN(nt)||isNaN(F))){B|=R>=_?8:0,B|=Y>=_?4:0,B|=nt>=_?2:0;var Z,X,tt,Q,Bt=!1;if((B|=F>=_?1:0)===5||B===10){var Tt=(R+Y+nt+F)/4;B===5&&Tt<_?(B=10,Bt=!0):B===10&&Tt<_&&(B=5,Bt=!0)}B!==0&&B!==15&&(Z=X=tt=Q=.5,B===1?(tt=1-ct(_,R,F),X=1-ct(_,nt,F)):B===2?(X=ct(_,F,nt),Q=1-ct(_,Y,nt)):B===3?(tt=1-ct(_,R,F),Q=1-ct(_,Y,nt)):B===4?(Z=ct(_,R,Y),Q=ct(_,nt,Y)):B===5?(Z=ct(_,R,Y),Q=ct(_,nt,Y),X=1-ct(_,nt,F),tt=1-ct(_,R,F)):B===6?(X=ct(_,F,nt),Z=ct(_,R,Y)):B===7?(tt=1-ct(_,R,F),Z=ct(_,R,Y)):B===8?(tt=ct(_,F,R),Z=1-ct(_,Y,R)):B===9?(X=1-ct(_,nt,F),Z=1-ct(_,Y,R)):B===10?(Z=1-ct(_,Y,R),Q=1-ct(_,Y,nt),X=ct(_,F,nt),tt=ct(_,F,R)):B===11?(Z=1-ct(_,Y,R),Q=1-ct(_,Y,nt)):B===12?(tt=ct(_,F,R),Q=ct(_,nt,Y)):B===13?(X=1-ct(_,nt,F),Q=ct(_,nt,Y)):B===14?(tt=ct(_,F,R),X=ct(_,F,nt)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+B),P.cells[z][N]={cval:B,flipped:Bt,top:Z,right:Q,bottom:X,left:tt})}}}return P}(e,n));return typeof K.successCallback=="function"&&K.successCallback(y),y}function ct(e,n,s){return(e-n)/(s-n)}function Kt(e){return e.cval===0||e.cval===15}function ne(e){Kt(e)||e.cval===5||e.cval===10||(e.cval=15)}function Te(e,n){return n==="top"?[e.top,1]:n==="bottom"?[e.bottom,0]:n==="right"?[1,e.right]:n==="left"?[0,e.left]:void 0}function ar(e,n){if(!ht(n=n||{}))throw new Error("options is invalid");var s=n.zProperty||"elevation",a=n.flip,c=n.flags;kt(e,"Point","input must contain Points");for(var h=function(P,z){var N={};return yt(P,function(B){var R=G(B)[1];N[R]||(N[R]=[]),N[R].push(B)}),Object.keys(N).map(function(B){return N[B].sort(function(R,Y){return G(R)[0]-G(Y)[0]})}).sort(function(B,R){return z?G(B[0])[1]-G(R[0])[1]:G(R[0])[1]-G(B[0])[1]})}(e,a),g=[],y=0;y<h.length;y++){for(var w=h[y],_=[],T=0;T<w.length;T++){var E=w[T];E.properties[s]?_.push(E.properties[s]):_.push(0),c===!0&&(E.properties.matrixPosition=[y,T])}g.push(_)}return g}var De=ji,Wn=ji;function ji(e,n,s,a,c){Ss(e,n,s||0,a||e.length-1,c||Tu)}function Ss(e,n,s,a,c){for(;a>s;){if(a-s>600){var h=a-s+1,g=n-s+1,y=Math.log(h),w=.5*Math.exp(2*y/3),_=.5*Math.sqrt(y*w*(h-w)/h)*(g-h/2<0?-1:1);Ss(e,n,Math.max(s,Math.floor(n-g*w/h+_)),Math.min(a,Math.floor(n+(h-g)*w/h+_)),c)}var T=e[n],E=s,P=a;for(ia(e,s,n),c(e[a],T)>0&&ia(e,s,a);E<P;){for(ia(e,E,P),E++,P--;c(e[E],T)<0;)E++;for(;c(e[P],T)>0;)P--}c(e[s],T)===0?ia(e,s,P):ia(e,++P,a),P<=n&&(s=P+1),n<=P&&(a=P-1)}}function ia(e,n,s){var a=e[n];e[n]=e[s],e[s]=a}function Tu(e,n){return e<n?-1:e>n?1:0}De.default=Wn;var Ji=Su,qy=Su;function Su(e,n){if(!(this instanceof Su))return new Su(e,n);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),n&&this._initFormat(n),this.clear()}function Vy(e,n,s){if(!s)return n.indexOf(e);for(var a=0;a<n.length;a++)if(s(e,n[a]))return a;return-1}function vc(e,n){Cu(e,0,e.children.length,n,e)}function Cu(e,n,s,a,c){c||(c=kl(null)),c.minX=1/0,c.minY=1/0,c.maxX=-1/0,c.maxY=-1/0;for(var h,g=n;g<s;g++)h=e.children[g],_l(c,e.leaf?a(h):h);return c}function _l(e,n){return e.minX=Math.min(e.minX,n.minX),e.minY=Math.min(e.minY,n.minY),e.maxX=Math.max(e.maxX,n.maxX),e.maxY=Math.max(e.maxY,n.maxY),e}function fm(e,n){return e.minX-n.minX}function gm(e,n){return e.minY-n.minY}function Op(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function Oh(e){return e.maxX-e.minX+(e.maxY-e.minY)}function Fo(e,n){return e.minX<=n.minX&&e.minY<=n.minY&&n.maxX<=e.maxX&&n.maxY<=e.maxY}function Fe(e,n){return n.minX<=e.maxX&&n.minY<=e.maxY&&n.maxX>=e.minX&&n.maxY>=e.minY}function kl(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function zp(e,n,s,a,c){for(var h,g=[n,s];g.length;)(s=g.pop())-(n=g.pop())<=a||(h=n+Math.ceil((s-n)/a/2)*a,De(e,h,n,s,c),g.push(n,h,h,s))}function is(e){var n={exports:{}};return e(n,n.exports),n.exports}Su.prototype={all:function(){return this._all(this.data,[])},search:function(e){var n=this.data,s=[],a=this.toBBox;if(!Fe(e,n))return s;for(var c,h,g,y,w=[];n;){for(c=0,h=n.children.length;c<h;c++)g=n.children[c],Fe(e,y=n.leaf?a(g):g)&&(n.leaf?s.push(g):Fo(e,y)?this._all(g,s):w.push(g));n=w.pop()}return s},collides:function(e){var n=this.data,s=this.toBBox;if(!Fe(e,n))return!1;for(var a,c,h,g,y=[];n;){for(a=0,c=n.children.length;a<c;a++)if(h=n.children[a],Fe(e,g=n.leaf?s(h):h)){if(n.leaf||Fo(e,g))return!0;y.push(h)}n=y.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var n=0,s=e.length;n<s;n++)this.insert(e[n]);return this}var a=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===a.height)this._splitRoot(this.data,a);else{if(this.data.height<a.height){var c=this.data;this.data=a,a=c}this._insert(a,this.data.height-a.height-1,!0)}else this.data=a;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=kl([]),this},remove:function(e,n){if(!e)return this;for(var s,a,c,h,g=this.data,y=this.toBBox(e),w=[],_=[];g||w.length;){if(g||(g=w.pop(),a=w[w.length-1],s=_.pop(),h=!0),g.leaf&&(c=Vy(e,g.children,n))!==-1)return g.children.splice(c,1),w.push(g),this._condense(w),this;h||g.leaf||!Fo(g,y)?a?(s++,g=a.children[s],h=!1):g=null:(w.push(g),_.push(s),s=0,a=g,g=g.children[0])}return this},toBBox:function(e){return e},compareMinX:fm,compareMinY:gm,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,n){for(var s=[];e;)e.leaf?n.push.apply(n,e.children):s.push.apply(s,e.children),e=s.pop();return n},_build:function(e,n,s,a){var c,h=s-n+1,g=this._maxEntries;if(h<=g)return vc(c=kl(e.slice(n,s+1)),this.toBBox),c;a||(a=Math.ceil(Math.log(h)/Math.log(g)),g=Math.ceil(h/Math.pow(g,a-1))),(c=kl([])).leaf=!1,c.height=a;var y,w,_,T,E=Math.ceil(h/g),P=E*Math.ceil(Math.sqrt(g));for(zp(e,n,s,P,this.compareMinX),y=n;y<=s;y+=P)for(zp(e,y,_=Math.min(y+P-1,s),E,this.compareMinY),w=y;w<=_;w+=E)T=Math.min(w+E-1,_),c.children.push(this._build(e,w,T,a-1));return vc(c,this.toBBox),c},_chooseSubtree:function(e,n,s,a){for(var c,h,g,y,w,_,T,E,P,z;a.push(n),!n.leaf&&a.length-1!==s;){for(T=E=1/0,c=0,h=n.children.length;c<h;c++)w=Op(g=n.children[c]),P=e,z=g,(_=(Math.max(z.maxX,P.maxX)-Math.min(z.minX,P.minX))*(Math.max(z.maxY,P.maxY)-Math.min(z.minY,P.minY))-w)<E?(E=_,T=w<T?w:T,y=g):_===E&&w<T&&(T=w,y=g);n=y||n.children[0]}return n},_insert:function(e,n,s){var a=this.toBBox,c=s?e:a(e),h=[],g=this._chooseSubtree(c,this.data,n,h);for(g.children.push(e),_l(g,c);n>=0&&h[n].children.length>this._maxEntries;)this._split(h,n),n--;this._adjustParentBBoxes(c,h,n)},_split:function(e,n){var s=e[n],a=s.children.length,c=this._minEntries;this._chooseSplitAxis(s,c,a);var h=this._chooseSplitIndex(s,c,a),g=kl(s.children.splice(h,s.children.length-h));g.height=s.height,g.leaf=s.leaf,vc(s,this.toBBox),vc(g,this.toBBox),n?e[n-1].children.push(g):this._splitRoot(s,g)},_splitRoot:function(e,n){this.data=kl([e,n]),this.data.height=e.height+1,this.data.leaf=!1,vc(this.data,this.toBBox)},_chooseSplitIndex:function(e,n,s){var a,c,h,g,y,w,_,T,E,P,z,N,B,R;for(w=_=1/0,a=n;a<=s-n;a++)c=Cu(e,0,a,this.toBBox),h=Cu(e,a,s,this.toBBox),E=c,P=h,z=void 0,N=void 0,B=void 0,R=void 0,z=Math.max(E.minX,P.minX),N=Math.max(E.minY,P.minY),B=Math.min(E.maxX,P.maxX),R=Math.min(E.maxY,P.maxY),g=Math.max(0,B-z)*Math.max(0,R-N),y=Op(c)+Op(h),g<w?(w=g,T=a,_=y<_?y:_):g===w&&y<_&&(_=y,T=a);return T},_chooseSplitAxis:function(e,n,s){var a=e.leaf?this.compareMinX:fm,c=e.leaf?this.compareMinY:gm;this._allDistMargin(e,n,s,a)<this._allDistMargin(e,n,s,c)&&e.children.sort(a)},_allDistMargin:function(e,n,s,a){e.children.sort(a);var c,h,g=this.toBBox,y=Cu(e,0,n,g),w=Cu(e,s-n,s,g),_=Oh(y)+Oh(w);for(c=n;c<s-n;c++)h=e.children[c],_l(y,e.leaf?g(h):h),_+=Oh(y);for(c=s-n-1;c>=n;c--)h=e.children[c],_l(w,e.leaf?g(h):h),_+=Oh(w);return _},_adjustParentBBoxes:function(e,n,s){for(var a=s;a>=0;a--)_l(n[a],e)},_condense:function(e){for(var n,s=e.length-1;s>=0;s--)e[s].children.length===0?s>0?(n=e[s-1].children).splice(n.indexOf(e[s]),1):this.clear():vc(e[s],this.toBBox)},_initFormat:function(e){var n=["return a"," - b",";"];this.compareMinX=new Function("a","b",n.join(e[0])),this.compareMinY=new Function("a","b",n.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}},Ji.default=qy;var Pu=function(e,n,s){var a=e*n,c=zh*e,h=c-(c-e),g=e-h,y=zh*n,w=y-(y-n),_=n-w,T=g*_-(a-h*w-g*w-h*_);return s?(s[0]=T,s[1]=a,s):[T,a]},zh=+(Math.pow(2,27)+1),mm=function(e,n){var s=0|e.length,a=0|n.length;if(s===1&&a===1)return function(tt,Q){var Bt=tt+Q,Tt=Bt-tt,Ut=tt-(Bt-Tt)+(Q-Tt);return Ut?[Ut,Bt]:[Bt]}(e[0],n[0]);var c,h,g=new Array(s+a),y=0,w=0,_=0,T=Math.abs,E=e[w],P=T(E),z=n[_],N=T(z);P<N?(h=E,(w+=1)<s&&(E=e[w],P=T(E))):(h=z,(_+=1)<a&&(z=n[_],N=T(z))),w<s&&P<N||_>=a?(c=E,(w+=1)<s&&(E=e[w],P=T(E))):(c=z,(_+=1)<a&&(z=n[_],N=T(z)));for(var B,R,Y=c+h,nt=Y-c,F=h-nt,Z=F,X=Y;w<s&&_<a;)P<N?(c=E,(w+=1)<s&&(E=e[w],P=T(E))):(c=z,(_+=1)<a&&(z=n[_],N=T(z))),(F=(h=Z)-(nt=(Y=c+h)-c))&&(g[y++]=F),Z=X-((B=X+Y)-(R=B-X))+(Y-R),X=B;for(;w<s;)(F=(h=Z)-(nt=(Y=(c=E)+h)-c))&&(g[y++]=F),Z=X-((B=X+Y)-(R=B-X))+(Y-R),X=B,(w+=1)<s&&(E=e[w]);for(;_<a;)(F=(h=Z)-(nt=(Y=(c=z)+h)-c))&&(g[y++]=F),Z=X-((B=X+Y)-(R=B-X))+(Y-R),X=B,(_+=1)<a&&(z=n[_]);return Z&&(g[y++]=Z),X&&(g[y++]=X),y||(g[y++]=0),g.length=y,g},yc=function(e,n,s){var a=e+n,c=a-e,h=n-c,g=e-(a-c);return s?(s[0]=g+h,s[1]=a,s):[g+h,a]},vm=function(e,n){var s=e.length;if(s===1){var a=Pu(e[0],n);return a[0]?a:[a[1]]}var c=new Array(2*s),h=[.1,.1],g=[.1,.1],y=0;Pu(e[0],n,h),h[0]&&(c[y++]=h[0]);for(var w=1;w<s;++w){Pu(e[w],n,g);var _=h[1];yc(_,g[0],h),h[0]&&(c[y++]=h[0]);var T=g[1],E=h[1],P=T+E,z=E-(P-T);h[1]=P,z&&(c[y++]=z)}return h[1]&&(c[y++]=h[1]),y===0&&(c[y++]=0),c.length=y,c},Wy=function(e,n){var s=0|e.length,a=0|n.length;if(s===1&&a===1)return function(tt,Q){var Bt=tt+Q,Tt=Bt-tt,Ut=tt-(Bt-Tt)+(Q-Tt);return Ut?[Ut,Bt]:[Bt]}(e[0],-n[0]);var c,h,g=new Array(s+a),y=0,w=0,_=0,T=Math.abs,E=e[w],P=T(E),z=-n[_],N=T(z);P<N?(h=E,(w+=1)<s&&(E=e[w],P=T(E))):(h=z,(_+=1)<a&&(z=-n[_],N=T(z))),w<s&&P<N||_>=a?(c=E,(w+=1)<s&&(E=e[w],P=T(E))):(c=z,(_+=1)<a&&(z=-n[_],N=T(z)));for(var B,R,Y=c+h,nt=Y-c,F=h-nt,Z=F,X=Y;w<s&&_<a;)P<N?(c=E,(w+=1)<s&&(E=e[w],P=T(E))):(c=z,(_+=1)<a&&(z=-n[_],N=T(z))),(F=(h=Z)-(nt=(Y=c+h)-c))&&(g[y++]=F),Z=X-((B=X+Y)-(R=B-X))+(Y-R),X=B;for(;w<s;)(F=(h=Z)-(nt=(Y=(c=E)+h)-c))&&(g[y++]=F),Z=X-((B=X+Y)-(R=B-X))+(Y-R),X=B,(w+=1)<s&&(E=e[w]);for(;_<a;)(F=(h=Z)-(nt=(Y=(c=z)+h)-c))&&(g[y++]=F),Z=X-((B=X+Y)-(R=B-X))+(Y-R),X=B,(_+=1)<a&&(z=-n[_]);return Z&&(g[y++]=Z),X&&(g[y++]=X),y||(g[y++]=0),g.length=y,g},ym=is(function(e){function n(_,T){for(var E=new Array(_.length-1),P=1;P<_.length;++P)for(var z=E[P-1]=new Array(_.length-1),N=0,B=0;N<_.length;++N)N!==T&&(z[B++]=_[P][N]);return E}function s(_){if(_.length===1)return _[0];if(_.length===2)return["sum(",_[0],",",_[1],")"].join("");var T=_.length>>1;return["sum(",s(_.slice(0,T)),",",s(_.slice(T)),")"].join("")}function a(_){if(_.length===2)return[["sum(prod(",_[0][0],",",_[1][1],"),prod(-",_[0][1],",",_[1][0],"))"].join("")];for(var T=[],E=0;E<_.length;++E)T.push(["scale(",s(a(n(_,E))),",",(P=E,1&P?"-":""),_[0][E],")"].join(""));return T;var P}function c(_){for(var T=[],E=[],P=function(F){for(var Z=new Array(F),X=0;X<F;++X){Z[X]=new Array(F);for(var tt=0;tt<F;++tt)Z[X][tt]=["m",tt,"[",F-X-1,"]"].join("")}return Z}(_),z=[],N=0;N<_;++N)1&N?E.push.apply(E,a(n(P,N))):T.push.apply(T,a(n(P,N))),z.push("m"+N);var B=s(T),R=s(E),Y="orientation"+_+"Exact",nt=["function ",Y,"(",z.join(),"){var p=",B,",n=",R,",d=sub(p,n);return d[d.length-1];};return ",Y].join("");return new Function("sum","prod","scale","sub",nt)(mm,Pu,vm,Wy)}var h=c(3),g=c(4),y=[function(){return 0},function(){return 0},function(_,T){return T[0]-_[0]},function(_,T,E){var P,z=(_[1]-E[1])*(T[0]-E[0]),N=(_[0]-E[0])*(T[1]-E[1]),B=z-N;if(z>0){if(N<=0)return B;P=z+N}else{if(!(z<0)||N>=0)return B;P=-(z+N)}var R=33306690738754716e-32*P;return B>=R||B<=-R?B:h(_,T,E)},function(_,T,E,P){var z=_[0]-P[0],N=T[0]-P[0],B=E[0]-P[0],R=_[1]-P[1],Y=T[1]-P[1],nt=E[1]-P[1],F=_[2]-P[2],Z=T[2]-P[2],X=E[2]-P[2],tt=N*nt,Q=B*Y,Bt=B*R,Tt=z*nt,Ut=z*Y,Ct=N*R,Wt=F*(tt-Q)+Z*(Bt-Tt)+X*(Ut-Ct),Rt=7771561172376103e-31*((Math.abs(tt)+Math.abs(Q))*Math.abs(F)+(Math.abs(Bt)+Math.abs(Tt))*Math.abs(Z)+(Math.abs(Ut)+Math.abs(Ct))*Math.abs(X));return Wt>Rt||-Wt>Rt?Wt:g(_,T,E,P)}];function w(_){var T=y[_.length];return T||(T=y[_.length]=c(_.length)),T.apply(void 0,_)}(function(){for(;y.length<=5;)y.push(c(y.length));for(var _=[],T=["slow"],E=0;E<=5;++E)_.push("a"+E),T.push("o"+E);var P=["function getOrientation(",_.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(E=2;E<=5;++E)P.push("case ",E,":return o",E,"(",_.slice(0,E).join(),");");P.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),T.push(P.join(""));var z=Function.apply(void 0,T);for(e.exports=z.apply(void 0,[w].concat(y)),E=0;E<=5;++E)e.exports[E]=y[E]})()}),Zy=function(e){var n=e.length;if(n<3){for(var s=new Array(n),a=0;a<n;++a)s[a]=a;return n===2&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]?[0]:s}var c=new Array(n);for(a=0;a<n;++a)c[a]=a;c.sort(function(z,N){var B=e[z][0]-e[N][0];return B||e[z][1]-e[N][1]});var h=[c[0],c[1]],g=[c[0],c[1]];for(a=2;a<n;++a){for(var y=c[a],w=e[y],_=h.length;_>1&&bm(e[h[_-2]],e[h[_-1]],w)<=0;)_-=1,h.pop();for(h.push(y),_=g.length;_>1&&bm(e[g[_-2]],e[g[_-1]],w)>=0;)_-=1,g.pop();g.push(y)}s=new Array(g.length+h.length-2);for(var T=0,E=(a=0,h.length);a<E;++a)s[T++]=h[a];for(var P=g.length-2;P>0;--P)s[T++]=g[P];return s},bm=ym[3],Np=ja,Yy=ja;function ja(e,n){if(!(this instanceof ja))return new ja(e,n);if(this.data=e||[],this.length=this.data.length,this.compare=n||Xy,this.length>0)for(var s=(this.length>>1)-1;s>=0;s--)this._down(s)}function Xy(e,n){return e<n?-1:e>n?1:0}ja.prototype={push:function(e){this.data.push(e),this.length++,this._up(this.length-1)},pop:function(){if(this.length!==0){var e=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),e}},peek:function(){return this.data[0]},_up:function(e){for(var n=this.data,s=this.compare,a=n[e];e>0;){var c=e-1>>1,h=n[c];if(s(a,h)>=0)break;n[e]=h,e=c}n[e]=a},_down:function(e){for(var n=this.data,s=this.compare,a=this.length>>1,c=n[e];e<a;){var h=1+(e<<1),g=h+1,y=n[h];if(g<this.length&&s(n[g],y)<0&&(h=g,y=n[g]),s(y,c)>=0)break;n[e]=y,e=h}n[e]=c}},Np.default=Yy;var Ky=function(e,n){for(var s=e[0],a=e[1],c=!1,h=0,g=n.length-1;h<n.length;g=h++){var y=n[h][0],w=n[h][1],_=n[g][0],T=n[g][1];w>a!=T>a&&s<(_-y)*(a-w)/(T-w)+y&&(c=!c)}return c},Nh=ym[3],wm=Dh,Jy=Dh;function Dh(e,n,s){n=Math.max(0,n===void 0?2:n),s=s||0;for(var a,c=function(nt){for(var F=nt[0],Z=nt[0],X=nt[0],tt=nt[0],Q=0;Q<nt.length;Q++){var Bt=nt[Q];Bt[0]<F[0]&&(F=Bt),Bt[0]>X[0]&&(X=Bt),Bt[1]<Z[1]&&(Z=Bt),Bt[1]>tt[1]&&(tt=Bt)}var Tt=[F,Z,X,tt],Ut=Tt.slice();for(Q=0;Q<nt.length;Q++)Ky(nt[Q],Tt)||Ut.push(nt[Q]);var Ct=Zy(Ut),Wt=[];for(Q=0;Q<Ct.length;Q++)Wt.push(Ut[Ct[Q]]);return Wt}(e),h=Ji(16,["[0]","[1]","[0]","[1]"]).load(e),g=[],y=0;y<c.length;y++){var w=c[y];h.remove(w),a=Iu(w,a),g.push(a)}var _=Ji(16);for(y=0;y<g.length;y++)_.insert(ki(g[y]));for(var T=n*n,E=s*s;g.length;){var P=g.shift(),z=P.p,N=P.next.p,B=Ha(z,N);if(!(B<E)){var R=B/T;(w=Mu(h,P.prev.p,z,N,P.next.next.p,R,_))&&Math.min(Ha(w,z),Ha(w,N))<=R&&(g.push(P),g.push(Iu(w,P)),h.remove(w),_.remove(P),_.insert(ki(P)),_.insert(ki(P.next)))}}P=a;var Y=[];do Y.push(P.p),P=P.next;while(P!==a);return Y.push(P.p),Y}function Mu(e,n,s,a,c,h,g){for(var y=new Np(null,xm),w=e.data;w;){for(var _=0;_<w.children.length;_++){var T=w.children[_],E=w.leaf?Ua(T,s,a):_m(s,a,T);E>h||y.push({node:T,dist:E})}for(;y.length&&!y.peek().node.children;){var P=y.pop(),z=P.node,N=Ua(z,n,s),B=Ua(z,a,c);if(P.dist<N&&P.dist<B&&ei(s,z,g)&&ei(a,z,g))return z}(w=y.pop())&&(w=w.node)}return null}function xm(e,n){return e.dist-n.dist}function _m(e,n,s){if(bc(e,s)||bc(n,s))return 0;var a=wc(e[0],e[1],n[0],n[1],s.minX,s.minY,s.maxX,s.minY);if(a===0)return 0;var c=wc(e[0],e[1],n[0],n[1],s.minX,s.minY,s.minX,s.maxY);if(c===0)return 0;var h=wc(e[0],e[1],n[0],n[1],s.maxX,s.minY,s.maxX,s.maxY);if(h===0)return 0;var g=wc(e[0],e[1],n[0],n[1],s.minX,s.maxY,s.maxX,s.maxY);return g===0?0:Math.min(a,c,h,g)}function bc(e,n){return e[0]>=n.minX&&e[0]<=n.maxX&&e[1]>=n.minY&&e[1]<=n.maxY}function ei(e,n,s){for(var a,c,h,g,y=Math.min(e[0],n[0]),w=Math.min(e[1],n[1]),_=Math.max(e[0],n[0]),T=Math.max(e[1],n[1]),E=s.search({minX:y,minY:w,maxX:_,maxY:T}),P=0;P<E.length;P++)if(a=E[P].p,c=E[P].next.p,h=e,a!==(g=n)&&c!==h&&Nh(a,c,h)>0!=Nh(a,c,g)>0&&Nh(h,g,a)>0!=Nh(h,g,c)>0)return!1;return!0}function ki(e){var n=e.p,s=e.next.p;return e.minX=Math.min(n[0],s[0]),e.minY=Math.min(n[1],s[1]),e.maxX=Math.max(n[0],s[0]),e.maxY=Math.max(n[1],s[1]),e}function Iu(e,n){var s={p:e,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return n?(s.next=n.next,s.prev=n,n.next.prev=s,n.next=s):(s.prev=s,s.next=s),s}function Ha(e,n){var s=e[0]-n[0],a=e[1]-n[1];return s*s+a*a}function Ua(e,n,s){var a=n[0],c=n[1],h=s[0]-a,g=s[1]-c;if(h!==0||g!==0){var y=((e[0]-a)*h+(e[1]-c)*g)/(h*h+g*g);y>1?(a=s[0],c=s[1]):y>0&&(a+=h*y,c+=g*y)}return(h=e[0]-a)*h+(g=e[1]-c)*g}function wc(e,n,s,a,c,h,g,y){var w,_,T,E,P=s-e,z=a-n,N=g-c,B=y-h,R=e-c,Y=n-h,nt=P*P+z*z,F=P*N+z*B,Z=N*N+B*B,X=P*R+z*Y,tt=N*R+B*Y,Q=nt*Z-F*F,Bt=Q,Tt=Q;Q===0?(_=0,Bt=1,E=tt,Tt=Z):(E=nt*tt-F*X,(_=F*tt-Z*X)<0?(_=0,E=tt,Tt=Z):_>Bt&&(_=Bt,E=tt+F,Tt=Z)),E<0?(E=0,-X<0?_=0:-X>nt?_=Bt:(_=-X,Bt=nt)):E>Tt&&(E=Tt,-X+F<0?_=0:-X+F>nt?_=Bt:(_=-X+F,Bt=nt));var Ut=(1-(T=E===0?0:E/Tt))*c+T*g-((1-(w=_===0?0:_/Bt))*e+w*s),Ct=(1-T)*h+T*y-((1-w)*n+w*a);return Ut*Ut+Ct*Ct}function ur(e,n){n===void 0&&(n={}),n.concavity=n.concavity||1/0;var s=[];if(xt(e,function(c){s.push([c[0],c[1]])}),!s.length)return null;var a=wm(s,n.concavity);return a.length>3?v([a]):null}function Je(e,n,s){if(s===void 0&&(s={}),!e)throw new Error("point is required");if(!n)throw new Error("polygon is required");var a=A(e),c=dt(n),h=c.type,g=n.bbox,y=c.coordinates;if(g&&function(P,z){return z[0]<=P[0]&&z[1]<=P[1]&&z[2]>=P[0]&&z[3]>=P[1]}(a,g)===!1)return!1;h==="Polygon"&&(y=[y]);for(var w=!1,_=0;_<y.length&&!w;_++)if(Fh(a,y[_][0],s.ignoreBoundary)){for(var T=!1,E=1;E<y[_].length&&!T;)Fh(a,y[_][E],!s.ignoreBoundary)&&(T=!0),E++;T||(w=!0)}return w}function Fh(e,n,s){var a=!1;n[0][0]===n[n.length-1][0]&&n[0][1]===n[n.length-1][1]&&(n=n.slice(0,n.length-1));for(var c=0,h=n.length-1;c<n.length;h=c++){var g=n[c][0],y=n[c][1],w=n[h][0],_=n[h][1];if(e[1]*(g-w)+y*(w-e[0])+_*(e[0]-g)==0&&(g-e[0])*(w-e[0])<=0&&(y-e[1])*(_-e[1])<=0)return!s;y>e[1]!=_>e[1]&&e[0]<(w-g)*(e[1]-y)/(_-y)+g&&(a=!a)}return a}function xc(e,n){var s=[];return yt(e,function(a){var c=!1;if(a.geometry.type==="Point")ee(n,function(g){Je(a,g)&&(c=!0)}),c&&s.push(a);else{if(a.geometry.type!=="MultiPoint")throw new Error("Input geometry must be a Point or MultiPoint");var h=[];ee(n,function(g){xt(a,function(y){Je(y,g)&&(c=!0,h.push(y))})}),c&&s.push(D(h))}}),M(s)}function nr(e,n,s){s===void 0&&(s={});var a=A(e),c=A(n),h=ot(c[1]-a[1]),g=ot(c[0]-a[0]),y=ot(a[1]),w=ot(c[1]),_=Math.pow(Math.sin(h/2),2)+Math.pow(Math.sin(g/2),2)*Math.cos(y)*Math.cos(w);return q(2*Math.atan2(Math.sqrt(_),Math.sqrt(1-_)),s.units)}function km(e,n){var s=!1;return M(function(a){if(a.length<3)return[];a.sort(El);for(var c,h,g,y,w,_,T=a.length-1,E=a[T].x,P=a[0].x,z=a[T].y,N=z,B=1e-12;T--;)a[T].y<z&&(z=a[T].y),a[T].y>N&&(N=a[T].y);var R,Y=P-E,nt=N-z,F=Y>nt?Y:nt,Z=.5*(P+E),X=.5*(N+z),tt=[new Lu({__sentinel:!0,x:Z-20*F,y:X-F},{__sentinel:!0,x:Z,y:X+20*F},{__sentinel:!0,x:Z+20*F,y:X-F})],Q=[],Bt=[];for(T=a.length;T--;){for(Bt.length=0,R=tt.length;R--;)(Y=a[T].x-tt[R].x)>0&&Y*Y>tt[R].r?(Q.push(tt[R]),tt.splice(R,1)):Y*Y+(nt=a[T].y-tt[R].y)*nt>tt[R].r||(Bt.push(tt[R].a,tt[R].b,tt[R].b,tt[R].c,tt[R].c,tt[R].a),tt.splice(R,1));for(Ki(Bt),R=Bt.length;R;)h=Bt[--R],c=Bt[--R],g=a[T],y=h.x-c.x,w=h.y-c.y,_=2*(y*(g.y-h.y)-w*(g.x-h.x)),Math.abs(_)>B&&tt.push(new Lu(c,h,g))}for(Array.prototype.push.apply(Q,tt),T=Q.length;T--;)(Q[T].a.__sentinel||Q[T].b.__sentinel||Q[T].c.__sentinel)&&Q.splice(T,1);return Q}(e.features.map(function(a){var c={x:a.geometry.coordinates[0],y:a.geometry.coordinates[1]};return n?c.z=a.properties[n]:a.geometry.coordinates.length===3&&(s=!0,c.z=a.geometry.coordinates[2]),c})).map(function(a){var c=[a.a.x,a.a.y],h=[a.b.x,a.b.y],g=[a.c.x,a.c.y],y={};return s?(c.push(a.a.z),h.push(a.b.z),g.push(a.c.z)):y={a:a.a.z,b:a.b.z,c:a.c.z},v([[c,h,g,c]],y)}))}wm.default=Jy;var Lu=function(e,n,s){this.a=e,this.b=n,this.c=s;var a,c,h=n.x-e.x,g=n.y-e.y,y=s.x-e.x,w=s.y-e.y,_=h*(e.x+n.x)+g*(e.y+n.y),T=y*(e.x+s.x)+w*(e.y+s.y),E=2*(h*(s.y-n.y)-g*(s.x-n.x));this.x=(w*_-g*T)/E,this.y=(h*T-y*_)/E,a=this.x-e.x,c=this.y-e.y,this.r=a*a+c*c};function El(e,n){return n.x-e.x}function Ki(e){var n,s,a,c,h,g=e.length;t:for(;g;)for(s=e[--g],n=e[--g],a=g;a;)if(h=e[--a],n===(c=e[--a])&&s===h||n===h&&s===c){e.splice(g,2),e.splice(a,2),g-=2;continue t}}function Si(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return _c(e);case"FeatureCollection":return function(n){var s={type:"FeatureCollection"};return Object.keys(n).forEach(function(a){switch(a){case"type":case"features":return;default:s[a]=n[a]}}),s.features=n.features.map(function(a){return _c(a)}),s}(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Au(e);default:throw new Error("unknown GeoJSON type")}}function _c(e){var n={type:"Feature"};return Object.keys(e).forEach(function(s){switch(s){case"type":case"properties":case"geometry":return;default:n[s]=e[s]}}),n.properties=kc(e.properties),n.geometry=Au(e.geometry),n}function kc(e){var n={};return e&&Object.keys(e).forEach(function(s){var a=e[s];typeof a=="object"?a===null?n[s]=null:Array.isArray(a)?n[s]=a.map(function(c){return c}):n[s]=kc(a):n[s]=a}),n}function Au(e){var n={type:e.type};return e.bbox&&(n.bbox=e.bbox),e.type==="GeometryCollection"?(n.geometries=e.geometries.map(function(s){return Au(s)}),n):(n.coordinates=Ec(e.coordinates),n)}function Ec(e){var n=e;return typeof n[0]!="object"?n.slice():n.map(function(s){return Ec(s)})}function Dp(e,n){if(n===void 0&&(n={}),!ht(n=n||{}))throw new Error("options is invalid");var s=n.mutate;if(Ot(e)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");s!==!1&&s!==void 0||(e=Si(e));var a=[],c=Xi(e,function(h,g){var y=function(w,_){var T,E=w.geometry.coordinates,P=_.geometry.coordinates,z=Tc(E[0]),N=Tc(E[E.length-1]),B=Tc(P[0]),R=Tc(P[P.length-1]);if(z===R)T=P.concat(E.slice(1));else if(B===N)T=E.concat(P.slice(1));else if(z===B)T=E.slice(1).reverse().concat(P);else{if(N!==R)return null;T=E.concat(P.reverse().slice(1))}return k(T)}(h,g);return y||(a.push(h),g)});return c&&a.push(c),a.length?a.length===1?a[0]:I(a.map(function(h){return h.coordinates})):null}function Tc(e){return e[0].toString()+","+e[1].toString()}function Bh(e){return e}function jh(e,n){var s=function(_){if(_==null)return Bh;var T,E,P=_.scale[0],z=_.scale[1],N=_.translate[0],B=_.translate[1];return function(R,Y){Y||(T=E=0);var nt=2,F=R.length,Z=new Array(F);for(Z[0]=(T+=R[0])*P+N,Z[1]=(E+=R[1])*z+B;nt<F;)Z[nt]=R[nt],++nt;return Z}}(e.transform),a=e.arcs;function c(_,T){T.length&&T.pop();for(var E=a[_<0?~_:_],P=0,z=E.length;P<z;++P)T.push(s(E[P],P));_<0&&function(N,B){for(var R,Y=N.length,nt=Y-B;nt<--Y;)R=N[nt],N[nt++]=N[Y],N[Y]=R}(T,z)}function h(_){return s(_)}function g(_){for(var T=[],E=0,P=_.length;E<P;++E)c(_[E],T);return T.length<2&&T.push(T[0]),T}function y(_){for(var T=g(_);T.length<4;)T.push(T[0]);return T}function w(_){return _.map(y)}return function _(T){var E,P=T.type;switch(P){case"GeometryCollection":return{type:P,geometries:T.geometries.map(_)};case"Point":E=h(T.coordinates);break;case"MultiPoint":E=T.coordinates.map(h);break;case"LineString":E=g(T.arcs);break;case"MultiLineString":E=T.arcs.map(g);break;case"Polygon":E=w(T.arcs);break;case"MultiPolygon":E=T.arcs.map(w);break;default:return null}return{type:P,coordinates:E}}(n)}function Fp(e,n){var s={},a={},c={},h=[],g=-1;function y(w,_){for(var T in w){var E=w[T];delete _[E.start],delete E.start,delete E.end,E.forEach(function(P){s[P<0?~P:P]=1}),h.push(E)}}return n.forEach(function(w,_){var T,E=e.arcs[w<0?~w:w];E.length<3&&!E[1][0]&&!E[1][1]&&(T=n[++g],n[g]=w,n[_]=T)}),n.forEach(function(w){var _,T,E=function(R){var Y,nt=e.arcs[R<0?~R:R],F=nt[0];return e.transform?(Y=[0,0],nt.forEach(function(Z){Y[0]+=Z[0],Y[1]+=Z[1]})):Y=nt[nt.length-1],R<0?[Y,F]:[F,Y]}(w),P=E[0],z=E[1];if(_=c[P])if(delete c[_.end],_.push(w),_.end=z,T=a[z]){delete a[T.start];var N=T===_?_:_.concat(T);a[N.start=_.start]=c[N.end=T.end]=N}else a[_.start]=c[_.end]=_;else if(_=a[z])if(delete a[_.start],_.unshift(w),_.start=P,T=c[P]){delete c[T.end];var B=T===_?_:T.concat(_);a[B.start=T.start]=c[B.end=_.end]=B}else a[_.start]=c[_.end]=_;else a[(_=[w]).start=P]=c[_.end=z]=_}),y(c,a),y(a,c),n.forEach(function(w){s[w<0?~w:w]||h.push([w])}),h}function Hh(e,n){var s={},a=[],c=[];function h(y){y.forEach(function(w){w.forEach(function(_){(s[_=_<0?~_:_]||(s[_]=[])).push(y)})}),a.push(y)}function g(y){return function(w){for(var _,T=-1,E=w.length,P=w[E-1],z=0;++T<E;)_=P,P=w[T],z+=_[0]*P[1]-_[1]*P[0];return Math.abs(z)}(jh(e,{type:"Polygon",arcs:[y]}).coordinates[0])}return n.forEach(function y(w){switch(w.type){case"GeometryCollection":w.geometries.forEach(y);break;case"Polygon":h(w.arcs);break;case"MultiPolygon":w.arcs.forEach(h)}}),a.forEach(function(y){if(!y._){var w=[],_=[y];for(y._=1,c.push(w);y=_.pop();)w.push(y),y.forEach(function(T){T.forEach(function(E){s[E<0?~E:E].forEach(function(P){P._||(P._=1,_.push(P))})})})}}),a.forEach(function(y){delete y._}),{type:"MultiPolygon",arcs:c.map(function(y){var w,_=[];if(y.forEach(function(N){N.forEach(function(B){B.forEach(function(R){s[R<0?~R:R].length<2&&_.push(R)})})}),(w=(_=Fp(e,_)).length)>1)for(var T,E,P=1,z=g(_[0]);P<w;++P)(T=g(_[P]))>z&&(E=_[0],_[0]=_[P],_[P]=E,z=T);return _}).filter(function(y){return y.length>0})}}var Ru=Object.prototype.hasOwnProperty;function Ou(e,n,s,a,c,h){arguments.length===3&&(a=h=Array,c=null);for(var g=new a(e=1<<Math.max(4,Math.ceil(Math.log(e)/Math.LN2))),y=new h(e),w=e-1,_=0;_<e;++_)g[_]=c;function T(N,B){for(var R=n(N)&w,Y=g[R],nt=0;Y!=c;){if(s(Y,N))return y[R]=B;if(++nt>=e)throw new Error("full hashmap");Y=g[R=R+1&w]}return g[R]=N,y[R]=B,B}function E(N,B){for(var R=n(N)&w,Y=g[R],nt=0;Y!=c;){if(s(Y,N))return y[R];if(++nt>=e)throw new Error("full hashmap");Y=g[R=R+1&w]}return g[R]=N,y[R]=B,B}function P(N,B){for(var R=n(N)&w,Y=g[R],nt=0;Y!=c;){if(s(Y,N))return y[R];if(++nt>=e)break;Y=g[R=R+1&w]}return B}function z(){for(var N=[],B=0,R=g.length;B<R;++B){var Y=g[B];Y!=c&&N.push(Y)}return N}return{set:T,maybeSet:E,get:P,keys:z}}function Tl(e,n){return e[0]===n[0]&&e[1]===n[1]}var sr=new ArrayBuffer(16),ns=new Float64Array(sr),ui=new Uint32Array(sr);function Uh(e){ns[0]=e[0],ns[1]=e[1];var n=ui[0]^ui[1];return 2147483647&(n=n<<5^n>>7^ui[2]^ui[3])}function Bp(e){var n,s,a,c,h=e.coordinates,g=e.lines,y=e.rings,w=function(){for(var Tt=Ou(1.4*h.length,X,tt,Int32Array,-1,Int32Array),Ut=new Int32Array(h.length),Ct=0,Wt=h.length;Ct<Wt;++Ct)Ut[Ct]=Tt.maybeSet(Ct,Ct);return Ut}(),_=new Int32Array(h.length),T=new Int32Array(h.length),E=new Int32Array(h.length),P=new Int8Array(h.length),z=0;for(n=0,s=h.length;n<s;++n)_[n]=T[n]=E[n]=-1;for(n=0,s=g.length;n<s;++n){var N=g[n],B=N[0],R=N[1];for(a=w[B],c=w[++B],++z,P[a]=1;++B<=R;)Z(n,a,a=c,c=w[B]);++z,P[c]=1}for(n=0,s=h.length;n<s;++n)_[n]=-1;for(n=0,s=y.length;n<s;++n){var Y=y[n],nt=Y[0]+1,F=Y[1];for(Z(n,w[F-1],a=w[nt-1],c=w[nt]);++nt<=F;)Z(n,a,a=c,c=w[nt])}function Z(Tt,Ut,Ct,Wt){if(_[Ct]!==Tt){_[Ct]=Tt;var Rt=T[Ct];if(Rt>=0){var It=E[Ct];Rt===Ut&&It===Wt||Rt===Wt&&It===Ut||(++z,P[Ct]=1)}else T[Ct]=Ut,E[Ct]=Wt}}function X(Tt){return Uh(h[Tt])}function tt(Tt,Ut){return Tl(h[Tt],h[Ut])}_=T=E=null;var Q,Bt=function(Tt,Ut,Ct,Wt,Rt){arguments.length===3&&(Wt=Array,Rt=null);for(var It=new Wt(Tt=1<<Math.max(4,Math.ceil(Math.log(Tt)/Math.LN2))),Pt=Tt-1,qt=0;qt<Tt;++qt)It[qt]=Rt;function Nt(Le){for(var le=Ut(Le)&Pt,tr=It[le],xe=0;tr!=Rt;){if(Ct(tr,Le))return!0;if(++xe>=Tt)throw new Error("full hashset");tr=It[le=le+1&Pt]}return It[le]=Le,!0}function Yt(Le){for(var le=Ut(Le)&Pt,tr=It[le],xe=0;tr!=Rt;){if(Ct(tr,Le))return!0;if(++xe>=Tt)break;tr=It[le=le+1&Pt]}return!1}function vt(){for(var Le=[],le=0,tr=It.length;le<tr;++le){var xe=It[le];xe!=Rt&&Le.push(xe)}return Le}return{add:Nt,has:Yt,values:vt}}(1.4*z,Uh,Tl);for(n=0,s=h.length;n<s;++n)P[Q=w[n]]&&Bt.add(h[Q]);return Bt}function jp(e,n,s,a){zu(e,n,s),zu(e,n,n+a),zu(e,n+a,s)}function zu(e,n,s){for(var a,c=n+(s---n>>1);n<c;++n,--s)a=e[n],e[n]=e[s],e[s]=a}function Sl(e){var n,s,a={};for(n in e)a[n]=(s=e[n])==null?{type:null}:(s.type==="FeatureCollection"?Hp:s.type==="Feature"?Sc:Qi)(s);return a}function Hp(e){var n={type:"GeometryCollection",geometries:e.features.map(Sc)};return e.bbox!=null&&(n.bbox=e.bbox),n}function Sc(e){var n,s=Qi(e.geometry);for(n in e.id!=null&&(s.id=e.id),e.bbox!=null&&(s.bbox=e.bbox),e.properties){s.properties=e.properties;break}return s}function Qi(e){if(e==null)return{type:null};var n=e.type==="GeometryCollection"?{type:"GeometryCollection",geometries:e.geometries.map(Qi)}:e.type==="Point"||e.type==="MultiPoint"?{type:e.type,coordinates:e.coordinates}:{type:e.type,arcs:e.coordinates};return e.bbox!=null&&(n.bbox=e.bbox),n}function Cl(e,n){var s=function(P){var z=1/0,N=1/0,B=-1/0,R=-1/0;function Y(Q){Q!=null&&Ru.call(nt,Q.type)&&nt[Q.type](Q)}var nt={GeometryCollection:function(Q){Q.geometries.forEach(Y)},Point:function(Q){F(Q.coordinates)},MultiPoint:function(Q){Q.coordinates.forEach(F)},LineString:function(Q){Z(Q.arcs)},MultiLineString:function(Q){Q.arcs.forEach(Z)},Polygon:function(Q){Q.arcs.forEach(Z)},MultiPolygon:function(Q){Q.arcs.forEach(X)}};function F(Q){var Bt=Q[0],Tt=Q[1];Bt<z&&(z=Bt),Bt>B&&(B=Bt),Tt<N&&(N=Tt),Tt>R&&(R=Tt)}function Z(Q){Q.forEach(F)}function X(Q){Q.forEach(Z)}for(var tt in P)Y(P[tt]);return B>=z&&R>=N?[z,N,B,R]:void 0}(e=Sl(e)),a=n>0&&s&&function(P,z,N){var B=z[0],R=z[1],Y=z[2],nt=z[3],F=Y-B?(N-1)/(Y-B):1,Z=nt-R?(N-1)/(nt-R):1;function X(Rt){return[Math.round((Rt[0]-B)*F),Math.round((Rt[1]-R)*Z)]}function tt(Rt,It){for(var Pt,qt,Nt,Yt,vt,Le=-1,le=0,tr=Rt.length,xe=new Array(tr);++Le<tr;)Pt=Rt[Le],Yt=Math.round((Pt[0]-B)*F),vt=Math.round((Pt[1]-R)*Z),Yt===qt&&vt===Nt||(xe[le++]=[qt=Yt,Nt=vt]);for(xe.length=le;le<It;)le=xe.push([xe[0][0],xe[0][1]]);return xe}function Q(Rt){return tt(Rt,2)}function Bt(Rt){return tt(Rt,4)}function Tt(Rt){return Rt.map(Bt)}function Ut(Rt){Rt!=null&&Ru.call(Ct,Rt.type)&&Ct[Rt.type](Rt)}var Ct={GeometryCollection:function(Rt){Rt.geometries.forEach(Ut)},Point:function(Rt){Rt.coordinates=X(Rt.coordinates)},MultiPoint:function(Rt){Rt.coordinates=Rt.coordinates.map(X)},LineString:function(Rt){Rt.arcs=Q(Rt.arcs)},MultiLineString:function(Rt){Rt.arcs=Rt.arcs.map(Q)},Polygon:function(Rt){Rt.arcs=Tt(Rt.arcs)},MultiPolygon:function(Rt){Rt.arcs=Rt.arcs.map(Tt)}};for(var Wt in P)Ut(P[Wt]);return{scale:[1/F,1/Z],translate:[B,R]}}(e,s,n),c=function(P){var z,N,B,R,Y=P.coordinates,nt=P.lines,F=P.rings,Z=nt.length+F.length;for(delete P.lines,delete P.rings,B=0,R=nt.length;B<R;++B)for(z=nt[B];z=z.next;)++Z;for(B=0,R=F.length;B<R;++B)for(N=F[B];N=N.next;)++Z;var X=Ou(2*Z*1.4,Uh,Tl),tt=P.arcs=[];for(B=0,R=nt.length;B<R;++B){z=nt[B];do Q(z);while(z=z.next)}for(B=0,R=F.length;B<R;++B)if((N=F[B]).next)do Q(N);while(N=N.next);else Bt(N);function Q(It){var Pt,qt,Nt,Yt,vt,Le,le,tr;if(Nt=X.get(Pt=Y[It[0]])){for(le=0,tr=Nt.length;le<tr;++le)if(Tt(Yt=Nt[le],It))return It[0]=Yt[0],void(It[1]=Yt[1])}if(vt=X.get(qt=Y[It[1]])){for(le=0,tr=vt.length;le<tr;++le)if(Ut(Le=vt[le],It))return It[1]=Le[0],void(It[0]=Le[1])}Nt?Nt.push(It):X.set(Pt,[It]),vt?vt.push(It):X.set(qt,[It]),tt.push(It)}function Bt(It){var Pt,qt,Nt,Yt,vt;if(qt=X.get(Y[It[0]]))for(Yt=0,vt=qt.length;Yt<vt;++Yt){if(Ct(Nt=qt[Yt],It))return It[0]=Nt[0],void(It[1]=Nt[1]);if(Wt(Nt,It))return It[0]=Nt[1],void(It[1]=Nt[0])}if(qt=X.get(Pt=Y[It[0]+Rt(It)]))for(Yt=0,vt=qt.length;Yt<vt;++Yt){if(Ct(Nt=qt[Yt],It))return It[0]=Nt[0],void(It[1]=Nt[1]);if(Wt(Nt,It))return It[0]=Nt[1],void(It[1]=Nt[0])}qt?qt.push(It):X.set(Pt,[It]),tt.push(It)}function Tt(It,Pt){var qt=It[0],Nt=Pt[0],Yt=It[1];if(qt-Yt!=Nt-Pt[1])return!1;for(;qt<=Yt;++qt,++Nt)if(!Tl(Y[qt],Y[Nt]))return!1;return!0}function Ut(It,Pt){var qt=It[0],Nt=Pt[0],Yt=It[1],vt=Pt[1];if(qt-Yt!=Nt-vt)return!1;for(;qt<=Yt;++qt,--vt)if(!Tl(Y[qt],Y[vt]))return!1;return!0}function Ct(It,Pt){var qt=It[0],Nt=Pt[0],Yt=It[1]-qt;if(Yt!==Pt[1]-Nt)return!1;for(var vt=Rt(It),Le=Rt(Pt),le=0;le<Yt;++le)if(!Tl(Y[qt+(le+vt)%Yt],Y[Nt+(le+Le)%Yt]))return!1;return!0}function Wt(It,Pt){var qt=It[0],Nt=Pt[0],Yt=It[1],vt=Pt[1],Le=Yt-qt;if(Le!==vt-Nt)return!1;for(var le=Rt(It),tr=Le-Rt(Pt),xe=0;xe<Le;++xe)if(!Tl(Y[qt+(xe+le)%Le],Y[vt-(xe+tr)%Le]))return!1;return!0}function Rt(It){for(var Pt=It[0],qt=It[1],Nt=Pt,Yt=Nt,vt=Y[Nt];++Nt<qt;){var Le=Y[Nt];(Le[0]<vt[0]||Le[0]===vt[0]&&Le[1]<vt[1])&&(Yt=Nt,vt=Le)}return Yt-Pt}return P}(function(P){var z,N,B,R=Bp(P),Y=P.coordinates,nt=P.lines,F=P.rings;for(N=0,B=nt.length;N<B;++N)for(var Z=nt[N],X=Z[0],tt=Z[1];++X<tt;)R.has(Y[X])&&(z={0:X,1:Z[1]},Z[1]=X,Z=Z.next=z);for(N=0,B=F.length;N<B;++N)for(var Q=F[N],Bt=Q[0],Tt=Bt,Ut=Q[1],Ct=R.has(Y[Bt]);++Tt<Ut;)R.has(Y[Tt])&&(Ct?(z={0:Tt,1:Q[1]},Q[1]=Tt,Q=Q.next=z):(jp(Y,Bt,Ut,Ut-Tt),Y[Ut]=Y[Bt],Ct=!0,Tt=Bt));return P}(function(P){var z=-1,N=[],B=[],R=[];function Y(Q){Q&&Ru.call(nt,Q.type)&&nt[Q.type](Q)}var nt={GeometryCollection:function(Q){Q.geometries.forEach(Y)},LineString:function(Q){Q.arcs=F(Q.arcs)},MultiLineString:function(Q){Q.arcs=Q.arcs.map(F)},Polygon:function(Q){Q.arcs=Q.arcs.map(Z)},MultiPolygon:function(Q){Q.arcs=Q.arcs.map(X)}};function F(Q){for(var Bt=0,Tt=Q.length;Bt<Tt;++Bt)R[++z]=Q[Bt];var Ut={0:z-Tt+1,1:z};return N.push(Ut),Ut}function Z(Q){for(var Bt=0,Tt=Q.length;Bt<Tt;++Bt)R[++z]=Q[Bt];var Ut={0:z-Tt+1,1:z};return B.push(Ut),Ut}function X(Q){return Q.map(Z)}for(var tt in P)Y(P[tt]);return{type:"Topology",coordinates:R,lines:N,rings:B,objects:P}}(e))),h=c.coordinates,g=Ou(1.4*c.arcs.length,Em,Tm);function y(P){P&&Ru.call(w,P.type)&&w[P.type](P)}e=c.objects,c.bbox=s,c.arcs=c.arcs.map(function(P,z){return g.set(P,z),h.slice(P[0],P[1]+1)}),delete c.coordinates,h=null;var w={GeometryCollection:function(P){P.geometries.forEach(y)},LineString:function(P){P.arcs=_(P.arcs)},MultiLineString:function(P){P.arcs=P.arcs.map(_)},Polygon:function(P){P.arcs=P.arcs.map(_)},MultiPolygon:function(P){P.arcs=P.arcs.map(T)}};function _(P){var z=[];do{var N=g.get(P);z.push(P[0]<P[1]?N:~N)}while(P=P.next);return z}function T(P){return P.map(_)}for(var E in e)y(e[E]);return a&&(c.transform=a,c.arcs=function(P){for(var z=-1,N=P.length;++z<N;){for(var B,R,Y=P[z],nt=0,F=1,Z=Y.length,X=Y[0],tt=X[0],Q=X[1];++nt<Z;)B=(X=Y[nt])[0],R=X[1],B===tt&&R===Q||(Y[F++]=[B-tt,R-Q],tt=B,Q=R);F===1&&(Y[F++]=[0,0]),Y.length=F}return P}(c.arcs)),c}function Em(e){var n,s=e[0],a=e[1];return a<s&&(n=s,s=a,a=n),s+31*a}function Tm(e,n){var s,a=e[0],c=e[1],h=n[0],g=n[1];return c<a&&(s=a,a=c,c=s),g<h&&(s=h,h=g,g=s),a===h&&c===g}function Qy(e,n){if(n===void 0&&(n={}),Ot(e)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");n.mutate!==!1&&n.mutate!==void 0||(e=Si(e));var s=[];ae(e,function(c){s.push(c.geometry)});var a=Cl({geoms:H(s).geometry});return function(c){return jh(c,Hh.apply(this,arguments))}(a,a.objects.geoms.geometries)}function Sm(e,n){if(n===void 0&&(n={}),!ht(n=n||{}))throw new Error("options is invalid");var s=n.mutate;if(Ot(e)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");s!==!1&&s!==void 0||(e=Si(e));var a=function(h){var g={};ae(h,function(w){g[w.geometry.type]=!0});var y=Object.keys(g);return y.length===1?y[0]:null}(e);if(!a)throw new Error("geojson must be homogenous");var c=e;switch(a){case"LineString":return Dp(c,n);case"Polygon":return Qy(c,n);default:throw new Error(a+" is not supported")}}function na(e,n){n===void 0&&(n={});var s=typeof n=="object"?n.mutate:n;if(!e)throw new Error("geojson is required");var a=Ot(e),c=[];switch(a){case"LineString":c=Up(e);break;case"MultiLineString":case"Polygon":G(e).forEach(function(g){c.push(Up(g))});break;case"MultiPolygon":G(e).forEach(function(g){var y=[];g.forEach(function(w){y.push(Up(w))}),c.push(y)});break;case"Point":return e;case"MultiPoint":var h={};G(e).forEach(function(g){var y=g.join("-");Object.prototype.hasOwnProperty.call(h,y)||(c.push(g),h[y]=!0)});break;default:throw new Error(a+" geometry not supported")}return e.coordinates?s===!0?(e.coordinates=c,e):{type:a,coordinates:c}:s===!0?(e.geometry.coordinates=c,e):u({type:a,coordinates:c},e.properties,{bbox:e.bbox,id:e.id})}function Up(e){var n=G(e);if(n.length===2&&!Gp(n[0],n[1]))return n;var s=[],a=n.length-1,c=s.length;s.push(n[0]);for(var h=1;h<a;h++){var g=s[s.length-1];n[h][0]===g[0]&&n[h][1]===g[1]||(s.push(n[h]),(c=s.length)>2&&Yr(s[c-3],s[c-1],s[c-2])&&s.splice(s.length-2,1))}if(s.push(n[n.length-1]),c=s.length,Gp(n[0],n[n.length-1])&&c<4)throw new Error("invalid polygon");return Yr(s[c-3],s[c-1],s[c-2])&&s.splice(s.length-2,1),s}function Gp(e,n){return e[0]===n[0]&&e[1]===n[1]}function Yr(e,n,s){var a=s[0],c=s[1],h=e[0],g=e[1],y=n[0],w=n[1],_=y-h,T=w-g;return(a-h)*T-(c-g)*_===0&&(Math.abs(_)>=Math.abs(T)?_>0?h<=a&&a<=y:y<=a&&a<=h:T>0?g<=c&&c<=w:w<=c&&c<=g)}function $y(e,n,s){var a=n.x,c=n.y,h=s.x-a,g=s.y-c;if(h!==0||g!==0){var y=((e.x-a)*h+(e.y-c)*g)/(h*h+g*g);y>1?(a=s.x,c=s.y):y>0&&(a+=h*y,c+=g*y)}return(h=e.x-a)*h+(g=e.y-c)*g}function xo(e,n,s,a,c){for(var h,g=a,y=n+1;y<s;y++){var w=$y(e[y],e[n],e[s]);w>g&&(h=y,g=w)}g>a&&(h-n>1&&xo(e,n,h,a,c),c.push(e[h]),s-h>1&&xo(e,h,s,a,c))}function Nu(e,n){var s=e.length-1,a=[e[0]];return xo(e,0,s,n,a),a.push(e[s]),a}function Gh(e,n,s){if(e.length<=2)return e;var a=n!==void 0?n*n:1;return e=Nu(e=s?e:function(c,h){for(var g,y,w,_,T,E=c[0],P=[E],z=1,N=c.length;z<N;z++)g=c[z],w=E,_=void 0,T=void 0,_=(y=g).x-w.x,T=y.y-w.y,_*_+T*T>h&&(P.push(g),E=g);return E!==g&&P.push(g),P}(e,a),a)}function Cm(e,n,s){return Gh(e.map(function(a){return{x:a[0],y:a[1],z:a[2]}}),n,s).map(function(a){return a.z?[a.x,a.y,a.z]:[a.x,a.y]})}function qh(e,n,s){return e.map(function(a){var c=a.map(function(g){return{x:g[0],y:g[1]}});if(c.length<4)throw new Error("invalid polygon");for(var h=Gh(c,n,s).map(function(g){return[g.x,g.y]});!tb(h);)h=Gh(c,n-=.01*n,s).map(function(g){return[g.x,g.y]});return h[h.length-1][0]===h[0][0]&&h[h.length-1][1]===h[0][1]||h.push(h[0]),h})}function tb(e){return!(e.length<3)&&!(e.length===3&&e[2][0]===e[0][0]&&e[2][1]===e[0][1])}var Pm=function(){function e(n){this.points=n.points||[],this.duration=n.duration||1e4,this.sharpness=n.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=n.stepLength||60,this.length=this.points.length,this.delay=0;for(var s=0;s<this.length;s++)this.points[s].z=this.points[s].z||0;for(s=0;s<this.length-1;s++){var a=this.points[s],c=this.points[s+1];this.centers.push({x:(a.x+c.x)/2,y:(a.y+c.y)/2,z:(a.z+c.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),s=0;s<this.centers.length-1;s++){var h=this.points[s+1].x-(this.centers[s].x+this.centers[s+1].x)/2,g=this.points[s+1].y-(this.centers[s].y+this.centers[s+1].y)/2,y=this.points[s+1].z-(this.centers[s].y+this.centers[s+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[s+1].x+this.sharpness*(this.centers[s].x+h),y:(1-this.sharpness)*this.points[s+1].y+this.sharpness*(this.centers[s].y+g),z:(1-this.sharpness)*this.points[s+1].z+this.sharpness*(this.centers[s].z+y)},{x:(1-this.sharpness)*this.points[s+1].x+this.sharpness*(this.centers[s+1].x+h),y:(1-this.sharpness)*this.points[s+1].y+this.sharpness*(this.centers[s+1].y+g),z:(1-this.sharpness)*this.points[s+1].z+this.sharpness*(this.centers[s+1].z+y)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}return e.prototype.cacheSteps=function(n){var s=[],a=this.pos(0);s.push(0);for(var c=0;c<this.duration;c+=10){var h=this.pos(c);Math.sqrt((h.x-a.x)*(h.x-a.x)+(h.y-a.y)*(h.y-a.y)+(h.z-a.z)*(h.z-a.z))>n&&(s.push(c),a=h)}return s},e.prototype.vector=function(n){var s=this.pos(n+10),a=this.pos(n-10);return{angle:180*Math.atan2(s.y-a.y,s.x-a.x)/3.14,speed:Math.sqrt((a.x-s.x)*(a.x-s.x)+(a.y-s.y)*(a.y-s.y)+(a.z-s.z)*(a.z-s.z))}},e.prototype.pos=function(n){var s=n-this.delay;s<0&&(s=0),s>this.duration&&(s=this.duration-1);var a=s/this.duration;if(a>=1)return this.points[this.length-1];var c=Math.floor((this.points.length-1)*a);return function(h,g,y,w,_){var T=function(E){var P=E*E;return[P*E,3*P*(1-E),3*E*(1-E)*(1-E),(1-E)*(1-E)*(1-E)]}(h);return{x:_.x*T[0]+w.x*T[1]+y.x*T[2]+g.x*T[3],y:_.y*T[0]+w.y*T[1]+y.y*T[2]+g.y*T[3],z:_.z*T[0]+w.z*T[1]+y.z*T[2]+g.z*T[3]}}((this.length-1)*a-c,this.points[c],this.controls[c][1],this.controls[c+1][0],this.points[c+1])},e}();function Mm(e,n){n===void 0&&(n={});for(var s=n.resolution||1e4,a=n.sharpness||.85,c=[],h=dt(e).coordinates.map(function(_){return{x:_[0],y:_[1]}}),g=new Pm({duration:s,points:h,sharpness:a}),y=function(_){var T=g.pos(_);Math.floor(_/100)%2==0&&c.push([T.x,T.y])},w=0;w<g.duration;w+=10)y(w);return y(g.duration),k(c,n.properties)}function qp(e,n){n===void 0&&(n={});var s=Number(e[0]),a=Number(e[1]),c=Number(e[2]),h=Number(e[3]);if(e.length===6)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var g=[s,a];return v([[g,[c,a],[c,h],[s,h],g]],n.properties,{bbox:e,id:n.id})}function Vh(e){return qp(Ht(e))}function Im(e){var n=e[0],s=e[1],a=e[2],c=e[3];if(nr(e.slice(0,2),[a,s])>=nr(e.slice(0,2),[n,c])){var h=(s+c)/2;return[n,h-(a-n)/2,a,h+(a-n)/2]}var g=(n+a)/2;return[g-(c-s)/2,s,g+(c-s)/2,c]}function $i(e,n,s,a){a===void 0&&(a={});var c=A(e),h=ot(c[0]),g=ot(c[1]),y=ot(s),w=W(n,a.units),_=Math.asin(Math.sin(g)*Math.cos(w)+Math.cos(g)*Math.sin(w)*Math.cos(y));return p([gt(h+Math.atan2(Math.sin(y)*Math.sin(w)*Math.cos(g),Math.cos(w)-Math.sin(g)*Math.sin(_))),gt(_)],a.properties)}function Vp(e,n,s){s===void 0&&(s={});for(var a=s.steps||64,c=s.properties?s.properties:!Array.isArray(e)&&e.type==="Feature"&&e.properties?e.properties:{},h=[],g=0;g<a;g++)h.push($i(e,n,-360*g/a,s).geometry.coordinates);return h.push(h[0]),v([h],c)}function Cs(e,n,s){if(s===void 0&&(s={}),s.final===!0)return function(E,P){var z=Cs(P,E);return z=(z+180)%360}(e,n);var a=A(e),c=A(n),h=ot(a[0]),g=ot(c[0]),y=ot(a[1]),w=ot(c[1]),_=Math.sin(g-h)*Math.cos(w),T=Math.cos(y)*Math.sin(w)-Math.sin(y)*Math.cos(w)*Math.cos(g-h);return gt(Math.atan2(_,T))}function os(e,n){n===void 0&&(n={});var s=Ht(e);return p([(s[0]+s[2])/2,(s[1]+s[3])/2],n.properties,n)}function oa(e,n){n===void 0&&(n={});var s=0,a=0,c=0;return xt(e,function(h){s+=h[0],a+=h[1],c++},!0),p([s/c,a/c],n.properties)}function Du(e){var n=[];return e.type==="FeatureCollection"?yt(e,function(s){xt(s,function(a){n.push(p(a,s.properties))})}):xt(e,function(s){n.push(p(s,e.properties))}),M(n)}var Wh=Fu,eb=Fu;function Fu(e,n,s){s=s||2;var a,c,h,g,y,w,_,T=n&&n.length,E=T?n[0]*s:e.length,P=Wp(e,0,E,s,!0),z=[];if(!P)return z;if(T&&(P=function(B,R,Y,nt){var F,Z,X,tt=[];for(F=0,Z=R.length;F<Z;F++)(X=Wp(B,R[F]*nt,F<Z-1?R[F+1]*nt:B.length,nt,!1))===X.next&&(X.steiner=!0),tt.push(Hu(X));for(tt.sort(Zh),F=0;F<tt.length;F++)Pl(tt[F],Y),Y=Bu(Y,Y.next);return Y}(e,n,P,s)),e.length>80*s){a=h=e[0],c=g=e[1];for(var N=s;N<E;N+=s)(y=e[N])<a&&(a=y),(w=e[N+1])<c&&(c=w),y>h&&(h=y),w>g&&(g=w);_=(_=Math.max(h-a,g-c))!==0?1/_:0}return ju(P,z,s,a,c,_),z}function Wp(e,n,s,a,c){var h,g;if(c===_o(e,n,s,a)>0)for(h=n;h<s;h+=a)g=zm(h,e[h],e[h+1],g);else for(h=s-a;h>=n;h-=a)g=zm(h,e[h],e[h+1],g);return g&&Ml(g,g.next)&&(Cc(g),g=g.next),g}function Bu(e,n){if(!e)return e;n||(n=e);var s,a=e;do if(s=!1,a.steiner||!Ml(a,a.next)&&un(a.prev,a,a.next)!==0)a=a.next;else{if(Cc(a),(a=n=a.prev)===a.next)break;s=!0}while(s||a!==n);return n}function ju(e,n,s,a,c,h,g){if(e){!g&&h&&function(T,E,P,z){var N=T;do N.z===null&&(N.z=Yp(N.x,N.y,E,P,z)),N.prevZ=N.prev,N.nextZ=N.next,N=N.next;while(N!==T);N.prevZ.nextZ=null,N.prevZ=null,function(B){var R,Y,nt,F,Z,X,tt,Q,Bt=1;do{for(Y=B,B=null,Z=null,X=0;Y;){for(X++,nt=Y,tt=0,R=0;R<Bt&&(tt++,nt=nt.nextZ);R++);for(Q=Bt;tt>0||Q>0&&nt;)tt!==0&&(Q===0||!nt||Y.z<=nt.z)?(F=Y,Y=Y.nextZ,tt--):(F=nt,nt=nt.nextZ,Q--),Z?Z.nextZ=F:B=F,F.prevZ=Z,Z=F;Y=nt}Z.nextZ=null,Bt*=2}while(X>1)}(N)}(e,a,c,h);for(var y,w,_=e;e.prev!==e.next;)if(y=e.prev,w=e.next,h?rb(e,a,c,h):Zp(e))n.push(y.i/s),n.push(e.i/s),n.push(w.i/s),Cc(e),e=w.next,_=w.next;else if((e=w)===_){g?g===1?ju(e=Lm(e,n,s),n,s,a,c,h,2):g===2&&Am(e,n,s,a,c,h):ju(Bu(e),n,s,a,c,h,1);break}}}function Zp(e){var n=e.prev,s=e,a=e.next;if(un(n,s,a)>=0)return!1;for(var c=e.next.next;c!==e.prev;){if(En(n.x,n.y,s.x,s.y,a.x,a.y,c.x,c.y)&&un(c.prev,c,c.next)>=0)return!1;c=c.next}return!0}function rb(e,n,s,a){var c=e.prev,h=e,g=e.next;if(un(c,h,g)>=0)return!1;for(var y=c.x<h.x?c.x<g.x?c.x:g.x:h.x<g.x?h.x:g.x,w=c.y<h.y?c.y<g.y?c.y:g.y:h.y<g.y?h.y:g.y,_=c.x>h.x?c.x>g.x?c.x:g.x:h.x>g.x?h.x:g.x,T=c.y>h.y?c.y>g.y?c.y:g.y:h.y>g.y?h.y:g.y,E=Yp(y,w,n,s,a),P=Yp(_,T,n,s,a),z=e.prevZ,N=e.nextZ;z&&z.z>=E&&N&&N.z<=P;){if(z!==e.prev&&z!==e.next&&En(c.x,c.y,h.x,h.y,g.x,g.y,z.x,z.y)&&un(z.prev,z,z.next)>=0||(z=z.prevZ,N!==e.prev&&N!==e.next&&En(c.x,c.y,h.x,h.y,g.x,g.y,N.x,N.y)&&un(N.prev,N,N.next)>=0))return!1;N=N.nextZ}for(;z&&z.z>=E;){if(z!==e.prev&&z!==e.next&&En(c.x,c.y,h.x,h.y,g.x,g.y,z.x,z.y)&&un(z.prev,z,z.next)>=0)return!1;z=z.prevZ}for(;N&&N.z<=P;){if(N!==e.prev&&N!==e.next&&En(c.x,c.y,h.x,h.y,g.x,g.y,N.x,N.y)&&un(N.prev,N,N.next)>=0)return!1;N=N.nextZ}return!0}function Lm(e,n,s){var a=e;do{var c=a.prev,h=a.next.next;!Ml(c,h)&&Yh(c,a,a.next,h)&&Il(c,h)&&Il(h,c)&&(n.push(c.i/s),n.push(a.i/s),n.push(h.i/s),Cc(a),Cc(a.next),a=e=h),a=a.next}while(a!==e);return a}function Am(e,n,s,a,c,h){var g=e;do{for(var y=g.next.next;y!==g.prev;){if(g.i!==y.i&&Rm(g,y)){var w=Om(g,y);return g=Bu(g,g.next),w=Bu(w,w.next),ju(g,n,s,a,c,h),void ju(w,n,s,a,c,h)}y=y.next}g=g.next}while(g!==e)}function Zh(e,n){return e.x-n.x}function Pl(e,n){if(n=function(a,c){var h,g=c,y=a.x,w=a.y,_=-1/0;do{if(w<=g.y&&w>=g.next.y&&g.next.y!==g.y){var T=g.x+(w-g.y)*(g.next.x-g.x)/(g.next.y-g.y);if(T<=y&&T>_){if(_=T,T===y){if(w===g.y)return g;if(w===g.next.y)return g.next}h=g.x<g.next.x?g:g.next}}g=g.next}while(g!==c);if(!h)return null;if(y===_)return h.prev;var E,P=h,z=h.x,N=h.y,B=1/0;for(g=h.next;g!==P;)y>=g.x&&g.x>=z&&y!==g.x&&En(w<N?y:_,w,z,N,w<N?_:y,w,g.x,g.y)&&((E=Math.abs(w-g.y)/(y-g.x))<B||E===B&&g.x>h.x)&&Il(g,a)&&(h=g,B=E),g=g.next;return h}(e,n)){var s=Om(n,e);Bu(s,s.next)}}function Yp(e,n,s,a,c){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-s)*c)|e<<8))|e<<4))|e<<2))|e<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-a)*c)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function Hu(e){var n=e,s=e;do n.x<s.x&&(s=n),n=n.next;while(n!==e);return s}function En(e,n,s,a,c,h,g,y){return(c-g)*(n-y)-(e-g)*(h-y)>=0&&(e-g)*(a-y)-(s-g)*(n-y)>=0&&(s-g)*(h-y)-(c-g)*(a-y)>=0}function Rm(e,n){return e.next.i!==n.i&&e.prev.i!==n.i&&!function(s,a){var c=s;do{if(c.i!==s.i&&c.next.i!==s.i&&c.i!==a.i&&c.next.i!==a.i&&Yh(c,c.next,s,a))return!0;c=c.next}while(c!==s);return!1}(e,n)&&Il(e,n)&&Il(n,e)&&function(s,a){var c=s,h=!1,g=(s.x+a.x)/2,y=(s.y+a.y)/2;do c.y>y!=c.next.y>y&&c.next.y!==c.y&&g<(c.next.x-c.x)*(y-c.y)/(c.next.y-c.y)+c.x&&(h=!h),c=c.next;while(c!==s);return h}(e,n)}function un(e,n,s){return(n.y-e.y)*(s.x-n.x)-(n.x-e.x)*(s.y-n.y)}function Ml(e,n){return e.x===n.x&&e.y===n.y}function Yh(e,n,s,a){return!!(Ml(e,n)&&Ml(s,a)||Ml(e,a)&&Ml(s,n))||un(e,n,s)>0!=un(e,n,a)>0&&un(s,a,e)>0!=un(s,a,n)>0}function Il(e,n){return un(e.prev,e,e.next)<0?un(e,n,e.next)>=0&&un(e,e.prev,n)>=0:un(e,n,e.prev)<0||un(e,e.next,n)<0}function Om(e,n){var s=new Xp(e.i,e.x,e.y),a=new Xp(n.i,n.x,n.y),c=e.next,h=n.prev;return e.next=n,n.prev=e,s.next=c,c.prev=s,a.next=s,s.prev=a,h.next=a,a.prev=h,a}function zm(e,n,s,a){var c=new Xp(e,n,s);return a?(c.next=a.next,c.prev=a,a.next.prev=c,a.next=c):(c.prev=c,c.next=c),c}function Cc(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Xp(e,n,s){this.i=e,this.x=n,this.y=s,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function _o(e,n,s,a){for(var c=0,h=n,g=s-a;h<s;h+=a)c+=(e[g]-e[h])*(e[h+1]+e[g+1]),g=h;return c}function Ll(e){var n=function(y){for(var w=y[0][0].length,_={vertices:[],holes:[],dimensions:w},T=0,E=0;E<y.length;E++){for(var P=0;P<y[E].length;P++)for(var z=0;z<w;z++)_.vertices.push(y[E][P][z]);E>0&&(T+=y[E-1].length,_.holes.push(T))}return _}(e),s=Wh(n.vertices,n.holes,2),a=[],c=[];s.forEach(function(y,w){var _=s[w];c.push([n.vertices[2*_],n.vertices[2*_+1]])});for(var h=0;h<c.length;h+=3){var g=c.slice(h,h+3);g.push(c[h]),a.push(v([g]))}return a}function Xh(e,n){if(!e)throw new Error("targetPoint is required");if(!n)throw new Error("points is required");var s,a=1/0,c=0;return yt(n,function(h,g){var y=nr(e,h);y<a&&(c=g,a=y)}),(s=Si(n.features[c])).properties.featureIndex=c,s.properties.distanceToPoint=a,s}function Zn(e){if(!e)throw new Error("geojson is required");var n=[];return ae(e,function(s){(function(a,c){var h=[],g=a.geometry;if(g!==null){switch(g.type){case"Polygon":h=G(g);break;case"LineString":h=[G(g)]}h.forEach(function(y){(function(w,_){var T=[];return w.reduce(function(E,P){var z=k([E,P],_);return z.bbox=function(N,B){var R=N[0],Y=N[1],nt=B[0],F=B[1];return[R<nt?R:nt,Y<F?Y:F,R>nt?R:nt,Y>F?Y:F]}(E,P),T.push(z),P}),T})(y,a.properties).forEach(function(w){w.id=c.length,c.push(w)})})}})(s,n)}),M(n)}Fu.deviation=function(e,n,s,a){var c=n&&n.length,h=c?n[0]*s:e.length,g=Math.abs(_o(e,0,h,s));if(c)for(var y=0,w=n.length;y<w;y++){var _=n[y]*s,T=y<w-1?n[y+1]*s:e.length;g-=Math.abs(_o(e,_,T,s))}var E=0;for(y=0;y<a.length;y+=3){var P=a[y]*s,z=a[y+1]*s,N=a[y+2]*s;E+=Math.abs((e[P]-e[N])*(e[z+1]-e[P+1])-(e[P]-e[z])*(e[N+1]-e[P+1]))}return g===0&&E===0?0:Math.abs((E-g)/g)},Fu.flatten=function(e){for(var n=e[0][0].length,s={vertices:[],holes:[],dimensions:n},a=0,c=0;c<e.length;c++){for(var h=0;h<e[c].length;h++)for(var g=0;g<n;g++)s.vertices.push(e[c][h][g]);c>0&&(a+=e[c-1].length,s.holes.push(a))}return s},Wh.default=eb;var hn=is(function(e,n){function s(N,B,R){R===void 0&&(R={});var Y={type:"Feature"};return(R.id===0||R.id)&&(Y.id=R.id),R.bbox&&(Y.bbox=R.bbox),Y.properties=B||{},Y.geometry=N,Y}function a(N,B,R){if(R===void 0&&(R={}),!N)throw new Error("coordinates is required");if(!Array.isArray(N))throw new Error("coordinates must be an Array");if(N.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!z(N[0])||!z(N[1]))throw new Error("coordinates must contain numbers");return s({type:"Point",coordinates:N},B,R)}function c(N,B,R){R===void 0&&(R={});for(var Y=0,nt=N;Y<nt.length;Y++){var F=nt[Y];if(F.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var Z=0;Z<F[F.length-1].length;Z++)if(F[F.length-1][Z]!==F[0][Z])throw new Error("First and last Position are not equivalent.")}return s({type:"Polygon",coordinates:N},B,R)}function h(N,B,R){if(R===void 0&&(R={}),N.length<2)throw new Error("coordinates must be an array of two or more positions");return s({type:"LineString",coordinates:N},B,R)}function g(N,B){B===void 0&&(B={});var R={type:"FeatureCollection"};return B.id&&(R.id=B.id),B.bbox&&(R.bbox=B.bbox),R.features=N,R}function y(N,B,R){return R===void 0&&(R={}),s({type:"MultiLineString",coordinates:N},B,R)}function w(N,B,R){return R===void 0&&(R={}),s({type:"MultiPoint",coordinates:N},B,R)}function _(N,B,R){return R===void 0&&(R={}),s({type:"MultiPolygon",coordinates:N},B,R)}function T(N,B){B===void 0&&(B="kilometers");var R=n.factors[B];if(!R)throw new Error(B+" units is invalid");return N*R}function E(N,B){B===void 0&&(B="kilometers");var R=n.factors[B];if(!R)throw new Error(B+" units is invalid");return N/R}function P(N){return 180*(N%(2*Math.PI))/Math.PI}function z(N){return!isNaN(N)&&N!==null&&!Array.isArray(N)}Object.defineProperty(n,"__esModule",{value:!0}),n.earthRadius=63710088e-1,n.factors={centimeters:100*n.earthRadius,centimetres:100*n.earthRadius,degrees:n.earthRadius/111325,feet:3.28084*n.earthRadius,inches:39.37*n.earthRadius,kilometers:n.earthRadius/1e3,kilometres:n.earthRadius/1e3,meters:n.earthRadius,metres:n.earthRadius,miles:n.earthRadius/1609.344,millimeters:1e3*n.earthRadius,millimetres:1e3*n.earthRadius,nauticalmiles:n.earthRadius/1852,radians:1,yards:1.0936*n.earthRadius},n.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/n.earthRadius,yards:1.0936133},n.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},n.feature=s,n.geometry=function(N,B,R){switch(N){case"Point":return a(B).geometry;case"LineString":return h(B).geometry;case"Polygon":return c(B).geometry;case"MultiPoint":return w(B).geometry;case"MultiLineString":return y(B).geometry;case"MultiPolygon":return _(B).geometry;default:throw new Error(N+" is invalid")}},n.point=a,n.points=function(N,B,R){return R===void 0&&(R={}),g(N.map(function(Y){return a(Y,B)}),R)},n.polygon=c,n.polygons=function(N,B,R){return R===void 0&&(R={}),g(N.map(function(Y){return c(Y,B)}),R)},n.lineString=h,n.lineStrings=function(N,B,R){return R===void 0&&(R={}),g(N.map(function(Y){return h(Y,B)}),R)},n.featureCollection=g,n.multiLineString=y,n.multiPoint=w,n.multiPolygon=_,n.geometryCollection=function(N,B,R){return R===void 0&&(R={}),s({type:"GeometryCollection",geometries:N},B,R)},n.round=function(N,B){if(B===void 0&&(B=0),B&&!(B>=0))throw new Error("precision must be a positive number");var R=Math.pow(10,B||0);return Math.round(N*R)/R},n.radiansToLength=T,n.lengthToRadians=E,n.lengthToDegrees=function(N,B){return P(E(N,B))},n.bearingToAzimuth=function(N){var B=N%360;return B<0&&(B+=360),B},n.radiansToDegrees=P,n.degreesToRadians=function(N){return N%360*Math.PI/180},n.convertLength=function(N,B,R){if(B===void 0&&(B="kilometers"),R===void 0&&(R="kilometers"),!(N>=0))throw new Error("length must be a positive number");return T(E(N,B),R)},n.convertArea=function(N,B,R){if(B===void 0&&(B="meters"),R===void 0&&(R="kilometers"),!(N>=0))throw new Error("area must be a positive number");var Y=n.areaFactors[B];if(!Y)throw new Error("invalid original units");var nt=n.areaFactors[R];if(!nt)throw new Error("invalid final units");return N/Y*nt},n.isNumber=z,n.isObject=function(N){return!!N&&N.constructor===Object},n.validateBBox=function(N){if(!N)throw new Error("bbox is required");if(!Array.isArray(N))throw new Error("bbox must be an Array");if(N.length!==4&&N.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");N.forEach(function(B){if(!z(B))throw new Error("bbox must only contain numbers")})},n.validateId=function(N){if(!N)throw new Error("id is required");if(["string","number"].indexOf(typeof N)===-1)throw new Error("id must be a number or a string")}});function Ps(e,n,s){if(e!==null)for(var a,c,h,g,y,w,_,T,E=0,P=0,z=e.type,N=z==="FeatureCollection",B=z==="Feature",R=N?e.features.length:1,Y=0;Y<R;Y++){y=(T=!!(_=N?e.features[Y].geometry:B?e.geometry:e)&&_.type==="GeometryCollection")?_.geometries.length:1;for(var nt=0;nt<y;nt++){var F=0,Z=0;if((g=T?_.geometries[nt]:_)!==null){w=g.coordinates;var X=g.type;switch(E=!s||X!=="Polygon"&&X!=="MultiPolygon"?0:1,X){case null:break;case"Point":if(n(w,P,Y,F,Z)===!1)return!1;P++,F++;break;case"LineString":case"MultiPoint":for(a=0;a<w.length;a++){if(n(w[a],P,Y,F,Z)===!1)return!1;P++,X==="MultiPoint"&&F++}X==="LineString"&&F++;break;case"Polygon":case"MultiLineString":for(a=0;a<w.length;a++){for(c=0;c<w[a].length-E;c++){if(n(w[a][c],P,Y,F,Z)===!1)return!1;P++}X==="MultiLineString"&&F++,X==="Polygon"&&Z++}X==="Polygon"&&F++;break;case"MultiPolygon":for(a=0;a<w.length;a++){for(Z=0,c=0;c<w[a].length;c++){for(h=0;h<w[a][c].length-E;h++){if(n(w[a][c][h],P,Y,F,Z)===!1)return!1;P++}Z++}F++}break;case"GeometryCollection":for(a=0;a<g.geometries.length;a++)if(Ps(g.geometries[a],n,s)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Nm(e,n){var s;switch(e.type){case"FeatureCollection":for(s=0;s<e.features.length&&n(e.features[s].properties,s)!==!1;s++);break;case"Feature":n(e.properties,0)}}function Pc(e,n){if(e.type==="Feature")n(e,0);else if(e.type==="FeatureCollection")for(var s=0;s<e.features.length&&n(e.features[s],s)!==!1;s++);}function Kh(e,n){var s,a,c,h,g,y,w,_,T,E,P=0,z=e.type==="FeatureCollection",N=e.type==="Feature",B=z?e.features.length:1;for(s=0;s<B;s++){for(y=z?e.features[s].geometry:N?e.geometry:e,_=z?e.features[s].properties:N?e.properties:{},T=z?e.features[s].bbox:N?e.bbox:void 0,E=z?e.features[s].id:N?e.id:void 0,g=(w=!!y&&y.type==="GeometryCollection")?y.geometries.length:1,c=0;c<g;c++)if((h=w?y.geometries[c]:y)!==null)switch(h.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(n(h,P,_,T,E)===!1)return!1;break;case"GeometryCollection":for(a=0;a<h.geometries.length;a++)if(n(h.geometries[a],P,_,T,E)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(n(null,P,_,T,E)===!1)return!1;P++}}function Al(e,n){Kh(e,function(s,a,c,h,g){var y,w=s===null?null:s.type;switch(w){case null:case"Point":case"LineString":case"Polygon":return n(hn.feature(s,c,{bbox:h,id:g}),a,0)!==!1&&void 0}switch(w){case"MultiPoint":y="Point";break;case"MultiLineString":y="LineString";break;case"MultiPolygon":y="Polygon"}for(var _=0;_<s.coordinates.length;_++){var T={type:y,coordinates:s.coordinates[_]};if(n(hn.feature(T,c),a,_)===!1)return!1}})}function Dm(e,n){Al(e,function(s,a,c){var h=0;if(s.geometry){var g=s.geometry.type;if(g!=="Point"&&g!=="MultiPoint"){var y,w=0,_=0,T=0;return Ps(s,function(E,P,z,N,B){if(y===void 0||a>w||N>_||B>T)return y=E,w=a,_=N,T=B,void(h=0);var R=hn.lineString([y,E],s.properties);if(n(R,a,c,B,h)===!1)return!1;h++,y=E})!==!1&&void 0}}})}function sa(e,n){if(!e)throw new Error("geojson is required");Al(e,function(s,a,c){if(s.geometry!==null){var h=s.geometry.type,g=s.geometry.coordinates;switch(h){case"LineString":if(n(s,a,c,0,0)===!1)return!1;break;case"Polygon":for(var y=0;y<g.length;y++)if(n(hn.lineString(g[y],s.properties),a,c,y)===!1)return!1}}})}var Jh=function(e){var n=[];return Ps(e,function(s){n.push(s)}),n},ib=Ps,Kp=function(e,n,s,a){var c=s;return Ps(e,function(h,g,y,w,_){c=g===0&&s===void 0?h:n(c,h,g,y,w,_)},a),c},nb=Pc,aa=function(e,n,s){var a=s;return Pc(e,function(c,h){a=h===0&&s===void 0?c:n(a,c,h)}),a},ob=function(e,n){if(n=n||{},!hn.isObject(n))throw new Error("options is invalid");var s,a=n.featureIndex||0,c=n.multiFeatureIndex||0,h=n.geometryIndex||0,g=n.coordIndex||0,y=n.properties;switch(e.type){case"FeatureCollection":a<0&&(a=e.features.length+a),y=y||e.features[a].properties,s=e.features[a].geometry;break;case"Feature":y=y||e.properties,s=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":s=e;break;default:throw new Error("geojson is invalid")}if(s===null)return null;var w=s.coordinates;switch(s.type){case"Point":return hn.point(w,y,n);case"MultiPoint":return c<0&&(c=w.length+c),hn.point(w[c],y,n);case"LineString":return g<0&&(g=w.length+g),hn.point(w[g],y,n);case"Polygon":return h<0&&(h=w.length+h),g<0&&(g=w[h].length+g),hn.point(w[h][g],y,n);case"MultiLineString":return c<0&&(c=w.length+c),g<0&&(g=w[c].length+g),hn.point(w[c][g],y,n);case"MultiPolygon":return c<0&&(c=w.length+c),h<0&&(h=w[c].length+h),g<0&&(g=w[c][h].length-g),hn.point(w[c][h][g],y,n)}throw new Error("geojson is invalid")},Mc=function(e,n){if(n=n||{},!hn.isObject(n))throw new Error("options is invalid");var s,a=n.featureIndex||0,c=n.multiFeatureIndex||0,h=n.geometryIndex||0,g=n.segmentIndex||0,y=n.properties;switch(e.type){case"FeatureCollection":a<0&&(a=e.features.length+a),y=y||e.features[a].properties,s=e.features[a].geometry;break;case"Feature":y=y||e.properties,s=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":s=e;break;default:throw new Error("geojson is invalid")}if(s===null)return null;var w=s.coordinates;switch(s.type){case"Point":case"MultiPoint":return null;case"LineString":return g<0&&(g=w.length+g-1),hn.lineString([w[g],w[g+1]],y,n);case"Polygon":return h<0&&(h=w.length+h),g<0&&(g=w[h].length+g-1),hn.lineString([w[h][g],w[h][g+1]],y,n);case"MultiLineString":return c<0&&(c=w.length+c),g<0&&(g=w[c].length+g-1),hn.lineString([w[c][g],w[c][g+1]],y,n);case"MultiPolygon":return c<0&&(c=w.length+c),h<0&&(h=w[c].length+h),g<0&&(g=w[c][h].length-g-1),hn.lineString([w[c][h][g],w[c][h][g+1]],y,n)}throw new Error("geojson is invalid")},sb=Al,la=function(e,n,s){var a=s;return Al(e,function(c,h,g){a=h===0&&g===0&&s===void 0?c:n(a,c,h,g)}),a},Qh=Kh,Fm=function(e,n,s){var a=s;return Kh(e,function(c,h,g,y,w){a=h===0&&s===void 0?c:n(a,c,h,g,y,w)}),a},Jp=sa,$h=function(e,n,s){var a=s;return sa(e,function(c,h,g,y){a=h===0&&s===void 0?c:n(a,c,h,g,y)}),a},Qp=Nm,td=function(e,n,s){var a=s;return Nm(e,function(c,h){a=h===0&&s===void 0?c:n(a,c,h)}),a},Ic=Dm,ed=function(e,n,s){var a=s,c=!1;return Dm(e,function(h,g,y,w,_){a=c===!1&&s===void 0?h:n(a,h,g,y,w,_),c=!0}),a},Uu=Object.defineProperty({coordAll:Jh,coordEach:ib,coordReduce:Kp,featureEach:nb,featureReduce:aa,findPoint:ob,findSegment:Mc,flattenEach:sb,flattenReduce:la,geomEach:Qh,geomReduce:Fm,lineEach:Jp,lineReduce:$h,propEach:Qp,propReduce:td,segmentEach:Ic,segmentReduce:ed},"__esModule",{value:!0});function rd(e){var n=[1/0,1/0,-1/0,-1/0];return Uu.coordEach(e,function(s){n[0]>s[0]&&(n[0]=s[0]),n[1]>s[1]&&(n[1]=s[1]),n[2]<s[0]&&(n[2]=s[0]),n[3]<s[1]&&(n[3]=s[1])}),n}rd.default=rd;var ab=rd,ca=Object.defineProperty({default:ab},"__esModule",{value:!0}).default,lb=Uu.featureEach,$p=(Uu.coordEach,hn.polygon,hn.featureCollection);function Bm(e){var n=Ji(e);return n.insert=function(s){if(s.type!=="Feature")throw new Error("invalid feature");return s.bbox=s.bbox?s.bbox:ca(s),Ji.prototype.insert.call(this,s)},n.load=function(s){var a=[];return Array.isArray(s)?s.forEach(function(c){if(c.type!=="Feature")throw new Error("invalid features");c.bbox=c.bbox?c.bbox:ca(c),a.push(c)}):lb(s,function(c){if(c.type!=="Feature")throw new Error("invalid features");c.bbox=c.bbox?c.bbox:ca(c),a.push(c)}),Ji.prototype.load.call(this,a)},n.remove=function(s,a){if(s.type!=="Feature")throw new Error("invalid feature");return s.bbox=s.bbox?s.bbox:ca(s),Ji.prototype.remove.call(this,s,a)},n.clear=function(){return Ji.prototype.clear.call(this)},n.search=function(s){var a=Ji.prototype.search.call(this,this.toBBox(s));return $p(a)},n.collides=function(s){return Ji.prototype.collides.call(this,this.toBBox(s))},n.all=function(){var s=Ji.prototype.all.call(this);return $p(s)},n.toJSON=function(){return Ji.prototype.toJSON.call(this)},n.fromJSON=function(s){return Ji.prototype.fromJSON.call(this,s)},n.toBBox=function(s){var a;if(s.bbox)a=s.bbox;else if(Array.isArray(s)&&s.length===4)a=s;else if(Array.isArray(s)&&s.length===6)a=[s[0],s[1],s[3],s[4]];else if(s.type==="Feature")a=ca(s);else{if(s.type!=="FeatureCollection")throw new Error("invalid geojson");a=ca(s)}return{minX:a[0],minY:a[1],maxX:a[2],maxY:a[3]}},n}var Lc=Bm,cb=Bm;function dn(e,n){var s={},a=[];if(e.type==="LineString"&&(e=u(e)),n.type==="LineString"&&(n=u(n)),e.type==="Feature"&&n.type==="Feature"&&e.geometry!==null&&n.geometry!==null&&e.geometry.type==="LineString"&&n.geometry.type==="LineString"&&e.geometry.coordinates.length===2&&n.geometry.coordinates.length===2){var c=Gu(e,n);return c&&a.push(c),M(a)}var h=Lc();return h.load(Zn(n)),yt(Zn(e),function(g){yt(h.search(g),function(y){var w=Gu(g,y);if(w){var _=G(w).join(",");s[_]||(s[_]=!0,a.push(w))}})}),M(a)}function Gu(e,n){var s=G(e),a=G(n);if(s.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(a.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var c=s[0][0],h=s[0][1],g=s[1][0],y=s[1][1],w=a[0][0],_=a[0][1],T=a[1][0],E=a[1][1],P=(E-_)*(g-c)-(T-w)*(y-h),z=(T-w)*(h-_)-(E-_)*(c-w),N=(g-c)*(h-_)-(y-h)*(c-w);if(P===0)return null;var B=z/P,R=N/P;return B>=0&&B<=1&&R>=0&&R<=1?p([c+B*(g-c),h+B*(y-h)]):null}function ua(e,n,s){s===void 0&&(s={});var a=p([1/0,1/0],{dist:1/0}),c=0;return ae(e,function(h){for(var g=G(h),y=0;y<g.length-1;y++){var w=p(g[y]);w.properties.dist=nr(n,w,s);var _=p(g[y+1]);_.properties.dist=nr(n,_,s);var T=nr(w,_,s),E=Math.max(w.properties.dist,_.properties.dist),P=Cs(w,_),z=$i(n,E,P+90,s),N=$i(n,E,P-90,s),B=dn(k([z.geometry.coordinates,N.geometry.coordinates]),k([w.geometry.coordinates,_.geometry.coordinates])),R=null;B.features.length>0&&((R=B.features[0]).properties.dist=nr(n,R,s),R.properties.location=c+nr(w,R,s)),w.properties.dist<a.properties.dist&&((a=w).properties.index=y,a.properties.location=c),_.properties.dist<a.properties.dist&&((a=_).properties.index=y+1,a.properties.location=c+T),R&&R.properties.dist<a.properties.dist&&((a=R).properties.index=y),c+=T}}),a}function Rl(e,n,s){s===void 0&&(s={});var a=A(e),c=A(n);return c[0]+=c[0]-a[0]>180?-360:a[0]-c[0]>180?360:0,U(function(h,g,y){var w=y=y===void 0?r:Number(y),_=h[1]*Math.PI/180,T=g[1]*Math.PI/180,E=T-_,P=Math.abs(g[0]-h[0])*Math.PI/180;P>Math.PI&&(P-=2*Math.PI);var z=Math.log(Math.tan(T/2+Math.PI/4)/Math.tan(_/2+Math.PI/4)),N=Math.abs(z)>1e-11?E/z:Math.cos(_);return Math.sqrt(E*E+N*N*P*P)*w}(a,c),"meters",s.units)}function jm(e,n,s){if(s===void 0&&(s={}),s.method||(s.method="geodesic"),s.units||(s.units="kilometers"),!e)throw new Error("pt is required");if(Array.isArray(e)?e=p(e):e.type==="Point"?e=u(e):pt(e,"Point","point"),!n)throw new Error("line is required");Array.isArray(n)?n=k(n):n.type==="LineString"?n=u(n):pt(n,"LineString","line");var a=1/0,c=e.geometry.coordinates;return rr(n,function(h){var g=h.geometry.coordinates[0],y=h.geometry.coordinates[1],w=function(_,T,E,P){var z=[E[0]-T[0],E[1]-T[1]],N=tf([_[0]-T[0],_[1]-T[1]],z);if(N<=0)return ef(_,T,{method:P.method,units:"degrees"});var B=tf(z,z);if(B<=N)return ef(_,E,{method:P.method,units:"degrees"});var R=N/B,Y=[T[0]+R*z[0],T[1]+R*z[1]];return ef(_,Y,{method:P.method,units:"degrees"})}(c,g,y,s);w<a&&(a=w)}),U(a,"degrees",s.units)}function tf(e,n){return e[0]*n[0]+e[1]*n[1]}function ef(e,n,s){return s.method==="planar"?Rl(e,n,s):nr(e,n,s)}function qu(e,n,s,a,c,h,g,y){var w,_,T,E,P={x:null,y:null,onLine1:!1,onLine2:!1};return(w=(y-h)*(s-e)-(g-c)*(a-n))===0?P.x!==null&&P.y!==null&&P:(E=(s-e)*(_=n-h)-(a-n)*(T=e-c),_=((g-c)*_-(y-h)*T)/w,T=E/w,P.x=e+_*(s-e),P.y=n+_*(a-n),_>=0&&_<=1&&(P.onLine1=!0),T>=0&&T<=1&&(P.onLine2=!0),!(!P.onLine1||!P.onLine2)&&[P.x,P.y])}function Hm(e){for(var n=function(P){return P.type!=="FeatureCollection"?P.type!=="Feature"?M([u(P)]):M([P]):P}(e),s=os(n),a=!1,c=0;!a&&c<n.features.length;){var h,g=n.features[c].geometry,y=!1;if(g.type==="Point")s.geometry.coordinates[0]===g.coordinates[0]&&s.geometry.coordinates[1]===g.coordinates[1]&&(a=!0);else if(g.type==="MultiPoint"){var w=!1;for(h=0;!w&&h<g.coordinates.length;)s.geometry.coordinates[0]===g.coordinates[h][0]&&s.geometry.coordinates[1]===g.coordinates[h][1]&&(a=!0,w=!0),h++}else if(g.type==="LineString")for(h=0;!y&&h<g.coordinates.length-1;)Ol(s.geometry.coordinates[0],s.geometry.coordinates[1],g.coordinates[h][0],g.coordinates[h][1],g.coordinates[h+1][0],g.coordinates[h+1][1])&&(y=!0,a=!0),h++;else if(g.type==="MultiLineString")for(var _=0;_<g.coordinates.length;){y=!1,h=0;for(var T=g.coordinates[_];!y&&h<T.length-1;)Ol(s.geometry.coordinates[0],s.geometry.coordinates[1],T[h][0],T[h][1],T[h+1][0],T[h+1][1])&&(y=!0,a=!0),h++;_++}else g.type!=="Polygon"&&g.type!=="MultiPolygon"||Je(s,g)&&(a=!0);c++}if(a)return s;var E=M([]);for(c=0;c<n.features.length;c++)E.features=E.features.concat(Du(n.features[c]).features);return p(Xh(s,E).geometry.coordinates)}function Ol(e,n,s,a,c,h){return Math.sqrt((c-s)*(c-s)+(h-a)*(h-a))===Math.sqrt((e-s)*(e-s)+(n-a)*(n-a))+Math.sqrt((c-e)*(c-e)+(h-n)*(h-n))}Lc.default=cb;var rf=6378137;function id(e){return ge(e,function(n,s){return n+function(a){var c,h=0;switch(a.type){case"Polygon":return Um(a.coordinates);case"MultiPolygon":for(c=0;c<a.coordinates.length;c++)h+=Um(a.coordinates[c]);return h;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(s)},0)}function Um(e){var n=0;if(e&&e.length>0){n+=Math.abs(Ms(e[0]));for(var s=1;s<e.length;s++)n-=Math.abs(Ms(e[s]))}return n}function Ms(e){var n,s,a,c,h,g,y=0,w=e.length;if(w>2){for(g=0;g<w;g++)g===w-2?(a=w-2,c=w-1,h=0):g===w-1?(a=w-1,c=0,h=1):(a=g,c=g+1,h=g+2),n=e[a],s=e[c],y+=(nd(e[h][0])-nd(n[0]))*Math.sin(nd(s[1]));y=y*rf*rf/2}return y}function nd(e){return e*Math.PI/180}function od(e,n){return n===void 0&&(n={}),mr(e,function(s,a){var c=a.geometry.coordinates;return s+nr(c[0],c[1],n)},0)}function Ac(e,n,s,a){if(!ht(a=a||{}))throw new Error("options is invalid");var c,h=[];if(e.type==="Feature")c=e.geometry.coordinates;else{if(e.type!=="LineString")throw new Error("input must be a LineString Feature or Geometry");c=e.coordinates}for(var g,y,w,_=c.length,T=0,E=0;E<c.length&&!(n>=T&&E===c.length-1);E++){if(T>n&&h.length===0){if(!(g=n-T))return h.push(c[E]),k(h);y=Cs(c[E],c[E-1])-180,w=$i(c[E],g,y,a),h.push(w.geometry.coordinates)}if(T>=s)return(g=s-T)?(y=Cs(c[E],c[E-1])-180,w=$i(c[E],g,y,a),h.push(w.geometry.coordinates),k(h)):(h.push(c[E]),k(h));if(T>=n&&h.push(c[E]),E===c.length-1)return k(h);T+=nr(c[E],c[E+1],a)}if(T<n&&c.length===_)throw new Error("Start position is beyond line");var P=c[c.length-1];return k([P,P])}function oo(e,n,s){s===void 0&&(s={});for(var a=A(e),c=G(n),h=0;h<c.length-1;h++){var g=!1;if(s.ignoreEndVertices&&(h===0&&(g="start"),h===c.length-2&&(g="end"),h===0&&h+1===c.length-1&&(g="both")),sd(c[h],c[h+1],a,g,s.epsilon===void 0?null:s.epsilon))return!0}return!1}function sd(e,n,s,a,c){var h=s[0],g=s[1],y=e[0],w=e[1],_=n[0],T=n[1],E=_-y,P=T-w,z=(s[0]-y)*P-(s[1]-w)*E;if(c!==null){if(Math.abs(z)>c)return!1}else if(z!==0)return!1;return a?a==="start"?Math.abs(E)>=Math.abs(P)?E>0?y<h&&h<=_:_<=h&&h<y:P>0?w<g&&g<=T:T<=g&&g<w:a==="end"?Math.abs(E)>=Math.abs(P)?E>0?y<=h&&h<_:_<h&&h<=y:P>0?w<=g&&g<T:T<g&&g<=w:a==="both"&&(Math.abs(E)>=Math.abs(P)?E>0?y<h&&h<_:_<h&&h<y:P>0?w<g&&g<T:T<g&&g<w):Math.abs(E)>=Math.abs(P)?E>0?y<=h&&h<=_:_<=h&&h<=y:P>0?w<=g&&g<=T:T<=g&&g<=w}function Rc(e,n){var s=dt(e),a=dt(n),c=s.type,h=a.type;switch(c){case"Point":switch(h){case"MultiPoint":return function(g,y){var w,_=!1;for(w=0;w<y.coordinates.length;w++)if(of(y.coordinates[w],g.coordinates)){_=!0;break}return _}(s,a);case"LineString":return oo(s,a,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return Je(s,a,{ignoreBoundary:!0});default:throw new Error("feature2 "+h+" geometry not supported")}case"MultiPoint":switch(h){case"MultiPoint":return function(g,y){for(var w=0;w<g.coordinates.length;w++){for(var _=!1,T=0;T<y.coordinates.length;T++)of(g.coordinates[w],y.coordinates[T])&&(_=!0);if(!_)return!1}return!0}(s,a);case"LineString":return function(g,y){for(var w=!1,_=0;_<g.coordinates.length;_++){if(!oo(g.coordinates[_],y))return!1;w||(w=oo(g.coordinates[_],y,{ignoreEndVertices:!0}))}return w}(s,a);case"Polygon":case"MultiPolygon":return function(g,y){for(var w=!0,_=!1,T=0;T<g.coordinates.length;T++){if(!(_=Je(g.coordinates[1],y))){w=!1;break}_=Je(g.coordinates[1],y,{ignoreBoundary:!0})}return w&&_}(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}case"LineString":switch(h){case"LineString":return function(g,y){for(var w=0;w<g.coordinates.length;w++)if(!oo(g.coordinates[w],y))return!1;return!0}(s,a);case"Polygon":case"MultiPolygon":return function(g,y){var w=Ht(y),_=Ht(g);if(!nf(w,_))return!1;for(var T=!1,E=0;E<g.coordinates.length-1;E++){if(!Je(g.coordinates[E],y))return!1;T||(T=Je(g.coordinates[E],y,{ignoreBoundary:!0})),!T&&(T=Je(ub(g.coordinates[E],g.coordinates[E+1]),y,{ignoreBoundary:!0}))}return T}(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}case"Polygon":switch(h){case"Polygon":case"MultiPolygon":return function(g,y){var w=Ht(g);if(!nf(Ht(y),w))return!1;for(var _=0;_<g.coordinates[0].length;_++)if(!Je(g.coordinates[0][_],y))return!1;return!0}(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}default:throw new Error("feature1 "+c+" geometry not supported")}}function nf(e,n){return!(e[0]>n[0])&&!(e[2]<n[2])&&!(e[1]>n[1])&&!(e[3]<n[3])}function of(e,n){return e[0]===n[0]&&e[1]===n[1]}function ub(e,n){return[(e[0]+n[0])/2,(e[1]+n[1])/2]}function sf(e,n,s){s===void 0&&(s={}),s.mask&&!s.units&&(s.units="kilometers");for(var a=[],c=e[0],h=e[1],g=e[2],y=e[3],w=n/nr([c,h],[g,h],s)*(g-c),_=n/nr([c,h],[c,y],s)*(y-h),T=g-c,E=y-h,P=Math.floor(T/w),z=(E-Math.floor(E/_)*_)/2,N=c+(T-P*w)/2;N<=g;){for(var B=h+z;B<=y;){var R=p([N,B],s.properties);s.mask?Rc(R,s.mask)&&a.push(R):a.push(R),B+=_}N+=w}return M(a)}function af(e,n){n===void 0&&(n={});var s=n.precision,a=n.coordinates,c=n.mutate;if(s=s==null||isNaN(s)?6:s,a=a==null||isNaN(a)?3:a,!e)throw new Error("<geojson> is required");if(typeof s!="number")throw new Error("<precision> must be a number");if(typeof a!="number")throw new Error("<coordinates> must be a number");c!==!1&&c!==void 0||(e=JSON.parse(JSON.stringify(e)));var h=Math.pow(10,s);return xt(e,function(g){(function(y,w,_){y.length>_&&y.splice(_,y.length);for(var T=0;T<y.length;T++)y[T]=Math.round(y[T]*w)/w})(g,h,a)}),e}function ad(e){if(!e)throw new Error("geojson is required");var n=[];return ae(e,function(s){n.push(s)}),M(n)}function Gm(e,n,s){if(e.geometry.type!=="Polygon")throw new Error("The input feature must be a Polygon");s===void 0&&(s=1);var a=e.geometry.coordinates,c=[],h={};if(s){for(var g=[],y=0;y<a.length;y++)for(var w=0;w<a[y].length-1;w++)g.push(B(y,w));var _=Ji();_.load(g)}for(var T=0;T<a.length;T++)for(var E=0;E<a[T].length-1;E++)if(s)_.search(B(T,E)).forEach(function(R){var Y=R.ring,nt=R.edge;N(T,E,Y,nt)});else for(var P=0;P<a.length;P++)for(var z=0;z<a[P].length-1;z++)N(T,E,P,z);return n||(c={type:"Feature",geometry:{type:"MultiPoint",coordinates:c}}),c;function N(R,Y,nt,F){var Z,X,tt=a[R][Y],Q=a[R][Y+1],Bt=a[nt][F],Tt=a[nt][F+1],Ut=function(Rt,It,Pt,qt){if(Oc(Rt,Pt)||Oc(Rt,qt)||Oc(It,Pt)||Oc(qt,Pt))return null;var Nt=Rt[0],Yt=Rt[1],vt=It[0],Le=It[1],le=Pt[0],tr=Pt[1],xe=qt[0],Ue=qt[1],pr=(Nt-vt)*(tr-Ue)-(Yt-Le)*(le-xe);return pr===0?null:[((Nt*Le-Yt*vt)*(le-xe)-(Nt-vt)*(le*Ue-tr*xe))/pr,((Nt*Le-Yt*vt)*(tr-Ue)-(Yt-Le)*(le*Ue-tr*xe))/pr]}(tt,Q,Bt,Tt);if(Ut!==null&&(Z=Q[0]!==tt[0]?(Ut[0]-tt[0])/(Q[0]-tt[0]):(Ut[1]-tt[1])/(Q[1]-tt[1]),X=Tt[0]!==Bt[0]?(Ut[0]-Bt[0])/(Tt[0]-Bt[0]):(Ut[1]-Bt[1])/(Tt[1]-Bt[1]),!(Z>=1||Z<=0||X>=1||X<=0))){var Ct=Ut,Wt=!h[Ct];Wt&&(h[Ct]=!0),n?c.push(n(Ut,R,Y,tt,Q,Z,nt,F,Bt,Tt,X,Wt)):c.push(Ut)}}function B(R,Y){var nt,F,Z,X,tt=a[R][Y],Q=a[R][Y+1];return tt[0]<Q[0]?(nt=tt[0],F=Q[0]):(nt=Q[0],F=tt[0]),tt[1]<Q[1]?(Z=tt[1],X=Q[1]):(Z=Q[1],X=tt[1]),{minX:nt,minY:Z,maxX:F,maxY:X,ring:R,edge:Y}}}function Oc(e,n){if(!e||!n||e.length!==n.length)return!1;for(var s=0,a=e.length;s<a;s++)if(e[s]instanceof Array&&n[s]instanceof Array){if(!Oc(e[s],n[s]))return!1}else if(e[s]!==n[s])return!1;return!0}function hb(e){if(e.type!="Feature")throw new Error("The input must a geojson object of type Feature");if(e.geometry===void 0||e.geometry==null)throw new Error("The input must a geojson object with a non-empty geometry");if(e.geometry.type!="Polygon")throw new Error("The input must be a geojson Polygon");for(var n=e.geometry.coordinates.length,s=[],a=0;a<n;a++){var c=e.geometry.coordinates[a];b(c[0],c[c.length-1])||c.push(c[0]),s.push.apply(s,c.slice(0,c.length-1))}if(!function(xe){for(var Ue={},pr=1,oi=0,wn=xe.length;oi<wn;++oi){if(Object.prototype.hasOwnProperty.call(Ue,xe[oi])){pr=0;break}Ue[xe[oi]]=1}return pr}(s))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var h=s.length,g=Gm(e,function(xe,Ue,pr,oi,wn,N0,$c,Yf,Xf,Ud,D0,Gd){return[xe,Ue,pr,oi,wn,N0,$c,Yf,Xf,Ud,D0,Gd]}),y=g.length;if(y==0){var w=[];for(a=0;a<n;a++)w.push(v([e.geometry.coordinates[a]],{parent:-1,winding:f(e.geometry.coordinates[a])}));var _=M(w);return Le(),le(),_}var T=[],E=[];for(a=0;a<n;a++){T.push([]);for(var P=0;P<e.geometry.coordinates[a].length-1;P++)T[a].push([new lf(e.geometry.coordinates[a][S(P+1,e.geometry.coordinates[a].length-1)],1,[a,P],[a,S(P+1,e.geometry.coordinates[a].length-1)],void 0)]),E.push(new cf(e.geometry.coordinates[a][P],[a,S(P-1,e.geometry.coordinates[a].length-1)],[a,P],void 0,void 0,!1,!0))}for(a=0;a<y;a++)T[g[a][1]][g[a][2]].push(new lf(g[a][0],g[a][5],[g[a][1],g[a][2]],[g[a][6],g[a][7]],void 0)),g[a][11]&&E.push(new cf(g[a][0],[g[a][1],g[a][2]],[g[a][6],g[a][7]],void 0,void 0,!0,!0));var z=E.length;for(a=0;a<T.length;a++)for(P=0;P<T[a].length;P++)T[a][P].sort(function(xe,Ue){return xe.param<Ue.param?-1:1});var N=[];for(a=0;a<z;a++)N.push({minX:E[a].coord[0],minY:E[a].coord[1],maxX:E[a].coord[0],maxY:E[a].coord[1],index:a});var B=Ji();for(B.load(N),a=0;a<T.length;a++)for(P=0;P<T[a].length;P++)for(var R=0;R<T[a][P].length;R++){nt=R==T[a][P].length-1?T[a][S(P+1,e.geometry.coordinates[a].length-1)][0].coord:T[a][P][R+1].coord;var Y=B.search({minX:nt[0],minY:nt[1],maxX:nt[0],maxY:nt[1]})[0];T[a][P][R].nxtIsectAlongEdgeIn=Y.index}for(a=0;a<T.length;a++)for(P=0;P<T[a].length;P++)for(R=0;R<T[a][P].length;R++){var nt=T[a][P][R].coord,F=(Y=B.search({minX:nt[0],minY:nt[1],maxX:nt[0],maxY:nt[1]})[0]).index;F<h?E[F].nxtIsectAlongRingAndEdge2=T[a][P][R].nxtIsectAlongEdgeIn:b(E[F].ringAndEdge1,T[a][P][R].ringAndEdgeIn)?E[F].nxtIsectAlongRingAndEdge1=T[a][P][R].nxtIsectAlongEdgeIn:E[F].nxtIsectAlongRingAndEdge2=T[a][P][R].nxtIsectAlongEdgeIn}var Z=[];for(a=0,P=0;P<n;P++){var X=a;for(R=0;R<e.geometry.coordinates[P].length-1;R++)E[a].coord[0]<E[X].coord[0]&&(X=a),a++;var tt=E[X].nxtIsectAlongRingAndEdge2;for(R=0;R<E.length;R++)if(E[R].nxtIsectAlongRingAndEdge1==X||E[R].nxtIsectAlongRingAndEdge2==X){var Q=R;break}var Bt=ld([E[Q].coord,E[X].coord,E[tt].coord],!0)?1:-1;Z.push({isect:X,parent:-1,winding:Bt})}for(Z.sort(function(xe,Ue){return E[xe.isect].coord>E[Ue.isect].coord?-1:1}),w=[];Z.length>0;){var Tt=Z.pop(),Ut=Tt.isect,Ct=Tt.parent,Wt=Tt.winding,Rt=w.length,It=[E[Ut].coord],Pt=Ut;if(E[Ut].ringAndEdge1Walkable)var qt=E[Ut].ringAndEdge1,Nt=E[Ut].nxtIsectAlongRingAndEdge1;else qt=E[Ut].ringAndEdge2,Nt=E[Ut].nxtIsectAlongRingAndEdge2;for(;!b(E[Ut].coord,E[Nt].coord);){It.push(E[Nt].coord);var Yt=void 0;for(a=0;a<Z.length;a++)if(Z[a].isect==Nt){Yt=a;break}if(Yt!=null&&Z.splice(Yt,1),b(qt,E[Nt].ringAndEdge1)){if(qt=E[Nt].ringAndEdge2,E[Nt].ringAndEdge2Walkable=!1,E[Nt].ringAndEdge1Walkable){var vt={isect:Nt};ld([E[Pt].coord,E[Nt].coord,E[E[Nt].nxtIsectAlongRingAndEdge2].coord],Wt==1)?(vt.parent=Ct,vt.winding=-Wt):(vt.parent=Rt,vt.winding=Wt),Z.push(vt)}Pt=Nt,Nt=E[Nt].nxtIsectAlongRingAndEdge2}else qt=E[Nt].ringAndEdge1,E[Nt].ringAndEdge1Walkable=!1,E[Nt].ringAndEdge2Walkable&&(vt={isect:Nt},ld([E[Pt].coord,E[Nt].coord,E[E[Nt].nxtIsectAlongRingAndEdge1].coord],Wt==1)?(vt.parent=Ct,vt.winding=-Wt):(vt.parent=Rt,vt.winding=Wt),Z.push(vt)),Pt=Nt,Nt=E[Nt].nxtIsectAlongRingAndEdge1}It.push(E[Nt].coord),w.push(v([It],{index:Rt,parent:Ct,winding:Wt,netWinding:void 0}))}_=M(w);function Le(){for(var xe=[],Ue=0;Ue<_.features.length;Ue++)_.features[Ue].properties.parent==-1&&xe.push(Ue);if(xe.length>1)for(Ue=0;Ue<xe.length;Ue++){for(var pr=-1,oi=0;oi<_.features.length;oi++)xe[Ue]!=oi&&Je(_.features[xe[Ue]].geometry.coordinates[0][0],_.features[oi],{ignoreBoundary:!0})&&id(_.features[oi])<1/0&&(pr=oi);_.features[xe[Ue]].properties.parent=pr}}function le(){for(var xe=0;xe<_.features.length;xe++)if(_.features[xe].properties.parent==-1){var Ue=_.features[xe].properties.winding;_.features[xe].properties.netWinding=Ue,tr(xe,Ue)}}function tr(xe,Ue){for(var pr=0;pr<_.features.length;pr++)if(_.features[pr].properties.parent==xe){var oi=Ue+_.features[pr].properties.winding;_.features[pr].properties.netWinding=oi,tr(pr,oi)}}return Le(),le(),_}var lf=function(e,n,s,a,c){this.coord=e,this.param=n,this.ringAndEdgeIn=s,this.ringAndEdgeOut=a,this.nxtIsectAlongEdgeIn=c},cf=function(e,n,s,a,c,h,g){this.coord=e,this.ringAndEdge1=n,this.ringAndEdge2=s,this.nxtIsectAlongRingAndEdge1=a,this.nxtIsectAlongRingAndEdge2=c,this.ringAndEdge1Walkable=h,this.ringAndEdge2Walkable=g};function ld(e,n){if(n===void 0&&(n=!0),e.length!=3)throw new Error("This function requires an array of three points [x,y]");return(e[1][0]-e[0][0])*(e[2][1]-e[0][1])-(e[1][1]-e[0][1])*(e[2][0]-e[0][0])>=0==n}function f(e){for(var n=0,s=0;s<e.length-1;s++)e[s][0]<e[n][0]&&(n=s);if(ld([e[S(n-1,e.length-1)],e[n],e[S(n+1,e.length-1)]],!0))var a=1;else a=-1;return a}function b(e,n){if(!e||!n||e.length!=n.length)return!1;for(var s=0,a=e.length;s<a;s++)if(e[s]instanceof Array&&n[s]instanceof Array){if(!b(e[s],n[s]))return!1}else if(e[s]!=n[s])return!1;return!0}function S(e,n){return(e%n+n)%n}var O=Math.PI/180,V=180/Math.PI,it=function(e,n){this.lon=e,this.lat=n,this.x=O*e,this.y=O*n};it.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},it.prototype.antipode=function(){var e=-1*this.lat,n=this.lon<0?180+this.lon:-1*(180-this.lon);return new it(n,e)};var wt=function(){this.coords=[],this.length=0};wt.prototype.move_to=function(e){this.length++,this.coords.push(e)};var Ft=function(e){this.properties=e||{},this.geometries=[]};Ft.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(this.geometries.length===1)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var e=[],n=0;n<this.geometries.length;n++)e.push(this.geometries[n].coords);return{geometry:{type:"MultiLineString",coordinates:e},type:"Feature",properties:this.properties}},Ft.prototype.wkt=function(){for(var e="",n="LINESTRING(",s=function(c){n+=c[0]+" "+c[1]+","},a=0;a<this.geometries.length;a++){if(this.geometries[a].coords.length===0)return"LINESTRING(empty)";this.geometries[a].coords.forEach(s),e+=n.substring(0,n.length-1)+")"}return e};var Zt=function(e,n,s){if(!e||e.x===void 0||e.y===void 0)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!n||n.x===void 0||n.y===void 0)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new it(e.x,e.y),this.end=new it(n.x,n.y),this.properties=s||{};var a=this.start.x-this.end.x,c=this.start.y-this.end.y,h=Math.pow(Math.sin(c/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(a/2),2);if(this.g=2*Math.asin(Math.sqrt(h)),this.g===Math.PI)throw new Error("it appears "+e.view()+" and "+n.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+e+" and "+n)};function ie(e,n){var s=[],a=Lc();return ae(n,function(c){if(s.forEach(function(y,w){y.id=w}),s.length){var h=a.search(c);if(h.features.length){var g=Xe(c,h);s=s.filter(function(y){return y.id!==g.id}),a.remove(g),yt(ke(g,c),function(y){s.push(y),a.insert(y)})}}else(s=ke(e,c).features).forEach(function(y){y.bbox||(y.bbox=Im(Ht(y)))}),a.load(M(s))}),M(s)}function ke(e,n){var s=[],a=G(e)[0],c=G(e)[e.geometry.coordinates.length-1];if(dr(a,A(n))||dr(c,A(n)))return M([e]);var h=Lc(),g=Zn(e);h.load(g);var y=h.search(n);if(!y.features.length)return M([e]);var w=Xe(n,y),_=At(g,function(T,E,P){var z=G(E)[1],N=A(n);return P===w.id?(T.push(N),s.push(k(T)),dr(N,z)?[N]:[N,z]):(T.push(z),T)},[a]);return _.length>1&&s.push(k(_)),M(s)}function Xe(e,n){if(!n.features.length)throw new Error("lines must contain features");if(n.features.length===1)return n.features[0];var s,a=1/0;return yt(n,function(c){var h=ua(c,e).properties.dist;h<a&&(s=c,a=h)}),s}function dr(e,n){return e[0]===n[0]&&e[1]===n[1]}function On(e,n,s,a,c){c===void 0&&(c={});var h=c.steps||64,g=tn(s),y=tn(a),w=Array.isArray(e)||e.type!=="Feature"?{}:e.properties;if(g===y)return k(Vp(e,n,c).geometry.coordinates[0],w);for(var _=g,T=g<y?y:y+360,E=_,P=[],z=0;E<T;)P.push($i(e,n,E,c).geometry.coordinates),E=_+360*++z/h;return E>T&&P.push($i(e,n,T,c).geometry.coordinates),k(P,w)}function tn(e){var n=e%360;return n<0&&(n+=360),n}function zn(e,n){n===void 0&&(n={});var s=dt(e);switch(n.properties||e.type!=="Feature"||(n.properties=e.properties),s.type){case"Polygon":return Yn(s,n);case"MultiPolygon":return function(a,c){c===void 0&&(c={});var h=dt(a).coordinates,g=c.properties?c.properties:a.type==="Feature"?a.properties:{},y=[];return h.forEach(function(w){y.push(zl(w,g))}),M(y)}(s,n);default:throw new Error("invalid poly")}}function Yn(e,n){return n===void 0&&(n={}),zl(dt(e).coordinates,n.properties?n.properties:e.type==="Feature"?e.properties:{})}function zl(e,n){return e.length>1?I(e,n):k(e[0],n)}function qm(e,n){var s,a,c;n===void 0&&(n={});var h=n.properties,g=(s=n.autoComplete)===null||s===void 0||s,y=(a=n.orderCoords)===null||a===void 0||a;switch((c=n.mutate)!==null&&c!==void 0&&c||(e=Si(e)),e.type){case"FeatureCollection":var w=[];return e.features.forEach(function(_){w.push(G(Vm(_,{},g,y)))}),j(w,h);default:return Vm(e,h,g,y)}}function Vm(e,n,s,a){n=n||(e.type==="Feature"?e.properties:{});var c=dt(e),h=c.coordinates,g=c.type;if(!h.length)throw new Error("line must contain coordinates");switch(g){case"LineString":return s&&(h=Wm(h)),v([h],n);case"MultiLineString":var y=[],w=0;return h.forEach(function(_){if(s&&(_=Wm(_)),a){var T=function(E){var P=E[0],z=E[1],N=E[2],B=E[3];return Math.abs(P-N)*Math.abs(z-B)}(Ht(k(_)));T>w?(y.unshift(_),w=T):y.push(_)}else y.push(_)}),v(y,n);default:throw new Error("geometry type "+g+" is not supported")}}function Wm(e){var n=e[0],s=n[0],a=n[1],c=e[e.length-1],h=c[0],g=c[1];return s===h&&a===g||e.push(n),e}function Zm(e,n){var s,a,c,h,g,y,w;for(a=1;a<=8;a*=2){for(s=[],h=!(Nl(c=e[e.length-1],n)&a),g=0;g<e.length;g++)(w=!(Nl(y=e[g],n)&a))!==h&&s.push(uf(c,y,a,n)),w&&s.push(y),c=y,h=w;if(!(e=s).length)break}return s}function uf(e,n,s,a){return 8&s?[e[0]+(n[0]-e[0])*(a[3]-e[1])/(n[1]-e[1]),a[3]]:4&s?[e[0]+(n[0]-e[0])*(a[1]-e[1])/(n[1]-e[1]),a[1]]:2&s?[a[2],e[1]+(n[1]-e[1])*(a[2]-e[0])/(n[0]-e[0])]:1&s?[a[0],e[1]+(n[1]-e[1])*(a[0]-e[0])/(n[0]-e[0])]:null}function Nl(e,n){var s=0;return e[0]<n[0]?s|=1:e[0]>n[2]&&(s|=2),e[1]<n[1]?s|=4:e[1]>n[3]&&(s|=8),s}function Hi(e,n){for(var s=[],a=0,c=e;a<c.length;a++){var h=Zm(c[a],n);h.length>0&&(h[0][0]===h[h.length-1][0]&&h[0][1]===h[h.length-1][1]||h.push(h[0]),h.length>=4&&s.push(h))}return s}Zt.prototype.interpolate=function(e){var n=Math.sin((1-e)*this.g)/Math.sin(this.g),s=Math.sin(e*this.g)/Math.sin(this.g),a=n*Math.cos(this.start.y)*Math.cos(this.start.x)+s*Math.cos(this.end.y)*Math.cos(this.end.x),c=n*Math.cos(this.start.y)*Math.sin(this.start.x)+s*Math.cos(this.end.y)*Math.sin(this.end.x),h=n*Math.sin(this.start.y)+s*Math.sin(this.end.y),g=V*Math.atan2(h,Math.sqrt(Math.pow(a,2)+Math.pow(c,2)));return[V*Math.atan2(c,a),g]},Zt.prototype.Arc=function(e,n){var s=[];if(!e||e<=2)s.push([this.start.lon,this.start.lat]),s.push([this.end.lon,this.end.lat]);else for(var a=1/(e-1),c=0;c<e;++c){var h=a*c,g=this.interpolate(h);s.push(g)}for(var y=!1,w=0,_=n&&n.offset?n.offset:10,T=180-_,E=-180+_,P=360-_,z=1;z<s.length;++z){var N=s[z-1][0],B=s[z][0],R=Math.abs(B-N);R>P&&(B>T&&N<E||N>T&&B<E)?y=!0:R>w&&(w=R)}var Y=[];if(y&&w<_){var nt=[];Y.push(nt);for(var F=0;F<s.length;++F){var Z=parseFloat(s[F][0]);if(F>0&&Math.abs(Z-s[F-1][0])>P){var X=parseFloat(s[F-1][0]),tt=parseFloat(s[F-1][1]),Q=parseFloat(s[F][0]),Bt=parseFloat(s[F][1]);if(X>-180&&X<E&&Q===180&&F+1<s.length&&s[F-1][0]>-180&&s[F-1][0]<E){nt.push([-180,s[F][1]]),F++,nt.push([s[F][0],s[F][1]]);continue}if(X>T&&X<180&&Q===-180&&F+1<s.length&&s[F-1][0]>T&&s[F-1][0]<180){nt.push([180,s[F][1]]),F++,nt.push([s[F][0],s[F][1]]);continue}if(X<E&&Q>T){var Tt=X;X=Q,Q=Tt;var Ut=tt;tt=Bt,Bt=Ut}if(X>T&&Q<E&&(Q+=360),X<=180&&Q>=180&&X<Q){var Ct=(180-X)/(Q-X),Wt=Ct*Bt+(1-Ct)*tt;nt.push([s[F-1][0]>T?180:-180,Wt]),(nt=[]).push([s[F-1][0]>T?-180:180,Wt]),Y.push(nt)}else nt=[],Y.push(nt);nt.push([Z,s[F][1]])}else nt.push([s[F][0],s[F][1]])}}else{var Rt=[];Y.push(Rt);for(var It=0;It<s.length;++It)Rt.push([s[It][0],s[It][1]])}for(var Pt=new Ft(this.properties),qt=0;qt<Y.length;++qt){var Nt=new wt;Pt.geometries.push(Nt);for(var Yt=Y[qt],vt=0;vt<Yt.length;++vt)Nt.move_to(Yt[vt])}return Pt};var Vu=is(function(e,n){function s(a){var c=[];for(var h in a)c.push(h);return c}(e.exports=typeof Object.keys=="function"?Object.keys:s).shim=s}),Ym=is(function(e,n){var s=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";function a(h){return Object.prototype.toString.call(h)=="[object Arguments]"}function c(h){return h&&typeof h=="object"&&typeof h.length=="number"&&Object.prototype.hasOwnProperty.call(h,"callee")&&!Object.prototype.propertyIsEnumerable.call(h,"callee")||!1}(n=e.exports=s?a:c).supported=a,n.unsupported=c}),zc=is(function(e){var n=Array.prototype.slice,s=e.exports=function(h,g,y){return y||(y={}),h===g||(h instanceof Date&&g instanceof Date?h.getTime()===g.getTime():!h||!g||typeof h!="object"&&typeof g!="object"?y.strict?h===g:h==g:function(w,_,T){var E,P;if(a(w)||a(_)||w.prototype!==_.prototype)return!1;if(Ym(w))return!!Ym(_)&&(w=n.call(w),_=n.call(_),s(w,_,T));if(c(w)){if(!c(_)||w.length!==_.length)return!1;for(E=0;E<w.length;E++)if(w[E]!==_[E])return!1;return!0}try{var z=Vu(w),N=Vu(_)}catch{return!1}if(z.length!=N.length)return!1;for(z.sort(),N.sort(),E=z.length-1;E>=0;E--)if(z[E]!=N[E])return!1;for(E=z.length-1;E>=0;E--)if(P=z[E],!s(w[P],_[P],T))return!1;return typeof w==typeof _}(h,g,y))};function a(h){return h==null}function c(h){return!(!h||typeof h!="object"||typeof h.length!="number")&&typeof h.copy=="function"&&typeof h.slice=="function"&&!(h.length>0&&typeof h[0]!="number")}});function Xm(e,n,s){if(s===void 0&&(s={}),!ht(s=s||{}))throw new Error("options is invalid");var a,c=s.tolerance||0,h=[],g=Lc(),y=Zn(e);return g.load(y),rr(n,function(w){var _=!1;w&&(yt(g.search(w),function(T){if(_===!1){var E=G(w).sort(),P=G(T).sort();zc(E,P)||(c===0?oo(E[0],T)&&oo(E[1],T):ua(T,E[0]).properties.dist<=c&&ua(T,E[1]).properties.dist<=c)?(_=!0,a=a?cd(a,w):w):(c===0?oo(P[0],w)&&oo(P[1],w):ua(w,P[0]).properties.dist<=c&&ua(w,P[1]).properties.dist<=c)&&(a=a?cd(a,T):T)}}),_===!1&&a&&(h.push(a),a=void 0))}),a&&h.push(a),M(h)}function cd(e,n){var s=G(n),a=G(e),c=a[0],h=a[a.length-1],g=e.geometry.coordinates;return zc(s[0],c)?g.unshift(s[1]):zc(s[0],h)?g.push(s[1]):zc(s[1],c)?g.unshift(s[0]):zc(s[1],h)&&g.push(s[0]),e}function hf(e){var n=e%360;return n<0&&(n+=360),n}function Dl(e,n,s){var a;return s===void 0&&(s={}),(a=s.final?y_(A(n),A(e)):y_(A(e),A(n)))>180?-(360-a):a}function y_(e,n){var s=ot(e[1]),a=ot(n[1]),c=ot(n[0]-e[0]);c>Math.PI&&(c-=2*Math.PI),c<-Math.PI&&(c+=2*Math.PI);var h=Math.log(Math.tan(a/2+Math.PI/4)/Math.tan(s/2+Math.PI/4));return(gt(Math.atan2(c,h))+360)%360}function ud(e,n,s,a){a===void 0&&(a={});var c=n<0,h=U(Math.abs(n),a.units,"meters");c&&(h=-Math.abs(h));var g=A(e),y=function(w,_,T,E){E=E===void 0?r:Number(E);var P=_/E,z=w[0]*Math.PI/180,N=ot(w[1]),B=ot(T),R=P*Math.cos(B),Y=N+R;Math.abs(Y)>Math.PI/2&&(Y=Y>0?Math.PI-Y:-Math.PI-Y);var nt=Math.log(Math.tan(Y/2+Math.PI/4)/Math.tan(N/2+Math.PI/4)),F=Math.abs(nt)>1e-11?R/nt:Math.cos(N),Z=P*Math.sin(B)/F;return[(180*(z+Z)/Math.PI+540)%360-180,180*Y/Math.PI]}(g,h,s);return y[0]+=y[0]-g[0]>180?-360:g[0]-y[0]>180?360:0,p(y,a.properties)}function b_(e,n,s,a,c,h){for(var g=0;g<e.length;g++){var y=e[g],w=e[g+1];g===e.length-1&&(w=e[0]),a=df(y,w,n),s<=0&&a>0?df(n,y,c)<0||(c=y):s>0&&a<=0&&(NM(n,y,h)||(h=y)),s=a}return[c,h]}function NM(e,n,s){return df(e,n,s)>0}function df(e,n,s){return(n[0]-e[0])*(s[1]-e[1])-(s[0]-e[0])*(n[1]-e[1])}function Km(e){for(var n,s,a=G(e),c=0,h=1;h<a.length;)n=s||a[0],c+=((s=a[h])[0]-n[0])*(s[1]+n[1]),h++;return c>0}function Jm(e,n){switch(e.type==="Feature"?e.geometry.type:e.type){case"GeometryCollection":return ee(e,function(s){Jm(s,n)}),e;case"LineString":return w_(G(e),n),e;case"Polygon":return x_(G(e),n),e;case"MultiLineString":return G(e).forEach(function(s){w_(s,n)}),e;case"MultiPolygon":return G(e).forEach(function(s){x_(s,n)}),e;case"Point":case"MultiPoint":return e}}function w_(e,n){Km(e)===n&&e.reverse()}function x_(e,n){Km(e[0])!==n&&e[0].reverse();for(var s=1;s<e.length;s++)Km(e[s])===n&&e[s].reverse()}function DM(e,n){if(!ht(n=n||{}))throw new Error("options is invalid");var s=n.zProperty||"elevation",a=n.flip,c=n.flags;kt(e,"Point","input must contain Points");for(var h=function(P,z){var N={};return yt(P,function(B){var R=G(B)[1];N[R]||(N[R]=[]),N[R].push(B)}),Object.keys(N).map(function(B){return N[B].sort(function(R,Y){return G(R)[0]-G(Y)[0]})}).sort(function(B,R){return z?G(B[0])[1]-G(R[0])[1]:G(R[0])[1]-G(B[0])[1]})}(e,a),g=[],y=0;y<h.length;y++){for(var w=h[y],_=[],T=0;T<w.length;T++){var E=w[T];E.properties[s]?_.push(E.properties[s]):_.push(0),c===!0&&(E.properties.matrixPosition=[y,T])}g.push(_)}return g}var __={successCallback:null,verbose:!1,polygons:!1},Wu={};function FM(e,n,s,a){a=a||{};for(var c=Object.keys(__),h=0;h<c.length;h++){var g=c[h],y=a[g];y=y??__[g],Wu[g]=y}Wu.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+n+":"+(n+s)+"]");var w,_=function(T,E,P){for(var z=T.length-1,N=T[0].length-1,B={rows:z,cols:N,cells:[]},R=E+Math.abs(P),Y=0;Y<z;++Y){B.cells[Y]=[];for(var nt=0;nt<N;++nt){var F=0,Z=T[Y+1][nt],X=T[Y+1][nt+1],tt=T[Y][nt+1],Q=T[Y][nt];if(!(isNaN(Z)||isNaN(X)||isNaN(tt)||isNaN(Q))){F|=Z<E?0:Z>R?128:64,F|=X<E?0:X>R?32:16,F|=tt<E?0:tt>R?8:4;var Bt=+(F|=Q<E?0:Q>R?2:1),Tt=0;if(F===17||F===18||F===33||F===34||F===38||F===68||F===72||F===98||F===102||F===132||F===136||F===137||F===152||F===153){var Ut=(Z+X+tt+Q)/4;Tt=Ut>R?2:Ut<E?0:1,F===34?Tt===1?F=35:Tt===0&&(F=136):F===136?Tt===1?(F=35,Tt=4):Tt===0&&(F=34):F===17?Tt===1?(F=155,Tt=4):Tt===0&&(F=153):F===68?Tt===1?(F=103,Tt=4):Tt===0&&(F=102):F===153?Tt===1&&(F=155):F===102?Tt===1&&(F=103):F===152?Tt<2&&(F=156,Tt=1):F===137?Tt<2&&(F=139,Tt=1):F===98?Tt<2&&(F=99,Tt=1):F===38?Tt<2&&(F=39,Tt=1):F===18?Tt>0?(F=156,Tt=4):F=152:F===33?Tt>0?(F=139,Tt=4):F=137:F===72?Tt>0?(F=99,Tt=4):F=98:F===132&&(Tt>0?(F=39,Tt=4):F=38)}if(F!=0&&F!=170){var Ct,Wt,Rt,It,Pt,qt,Nt,Yt;Ct=Wt=Rt=It=Pt=qt=Nt=Yt=.5;var vt=[];F===1?(Rt=1-rt(E,tt,Q),Yt=1-rt(E,Z,Q),vt.push(ze[F])):F===169?(Rt=rt(R,Q,tt),Yt=rt(R,Q,Z),vt.push(ze[F])):F===4?(qt=1-rt(E,X,tt),It=rt(E,Q,tt),vt.push(Ee[F])):F===166?(qt=rt(R,tt,X),It=1-rt(R,tt,Q),vt.push(Ee[F])):F===16?(Pt=rt(E,tt,X),Wt=rt(E,Z,X),vt.push(Pe[F])):F===154?(Pt=1-rt(R,X,tt),Wt=1-rt(R,X,Z),vt.push(Pe[F])):F===64?(Nt=rt(E,Q,Z),Ct=1-rt(E,X,Z),vt.push(We[F])):F===106?(Nt=1-rt(R,Z,Q),Ct=rt(R,Z,X),vt.push(We[F])):F===168?(It=rt(R,Q,tt),Rt=rt(E,Q,tt),Yt=rt(E,Q,Z),Nt=rt(R,Q,Z),vt.push(Be[F]),vt.push(ze[F])):F===2?(It=1-rt(E,tt,Q),Rt=1-rt(R,tt,Q),Yt=1-rt(R,Z,Q),Nt=1-rt(E,Z,Q),vt.push(Be[F]),vt.push(ze[F])):F===162?(Pt=rt(R,tt,X),qt=rt(E,tt,X),It=1-rt(E,tt,Q),Rt=1-rt(R,tt,Q),vt.push(Be[F]),vt.push(ze[F])):F===8?(Pt=1-rt(E,X,tt),qt=1-rt(R,X,tt),It=rt(R,Q,tt),Rt=rt(E,Q,tt),vt.push(Pe[F]),vt.push(Ee[F])):F===138?(Pt=1-rt(E,X,tt),qt=1-rt(R,X,tt),Ct=1-rt(R,X,Z),Wt=1-rt(E,X,Z),vt.push(Pe[F]),vt.push(Ee[F])):F===32?(Pt=rt(R,tt,X),qt=rt(E,tt,X),Ct=rt(E,Z,X),Wt=rt(R,Z,X),vt.push(Pe[F]),vt.push(Ee[F])):F===42?(Yt=1-rt(R,Z,Q),Nt=1-rt(E,Z,Q),Ct=rt(E,Z,X),Wt=rt(R,Z,X),vt.push(Ze[F]),vt.push(We[F])):F===128&&(Yt=rt(E,Q,Z),Nt=rt(R,Q,Z),Ct=1-rt(R,X,Z),Wt=1-rt(E,X,Z),vt.push(Ze[F]),vt.push(We[F])),F===5?(qt=1-rt(E,X,tt),Yt=1-rt(E,Z,Q),vt.push(Ee[F])):F===165?(qt=rt(R,tt,X),Yt=rt(R,Q,Z),vt.push(Ee[F])):F===20?(It=rt(E,Q,tt),Wt=rt(E,Z,X),vt.push(Be[F])):F===150?(It=1-rt(R,tt,Q),Wt=1-rt(R,X,Z),vt.push(Be[F])):F===80?(Pt=rt(E,tt,X),Nt=rt(E,Q,Z),vt.push(Pe[F])):F===90?(Pt=1-rt(R,X,tt),Nt=1-rt(R,Z,Q),vt.push(Pe[F])):F===65?(Rt=1-rt(E,tt,Q),Ct=1-rt(E,X,Z),vt.push(ze[F])):F===105?(Rt=rt(R,Q,tt),Ct=rt(R,Z,X),vt.push(ze[F])):F===160?(Pt=rt(R,tt,X),qt=rt(E,tt,X),Yt=rt(E,Q,Z),Nt=rt(R,Q,Z),vt.push(Pe[F]),vt.push(Ee[F])):F===10?(Pt=1-rt(E,X,tt),qt=1-rt(R,X,tt),Yt=1-rt(R,Z,Q),Nt=1-rt(E,Z,Q),vt.push(Pe[F]),vt.push(Ee[F])):F===130?(It=1-rt(E,tt,Q),Rt=1-rt(R,tt,Q),Ct=1-rt(R,X,Z),Wt=1-rt(E,X,Z),vt.push(Be[F]),vt.push(ze[F])):F===40?(It=rt(R,Q,tt),Rt=rt(E,Q,tt),Ct=rt(E,Z,X),Wt=rt(R,Z,X),vt.push(Be[F]),vt.push(ze[F])):F===101?(qt=rt(R,tt,X),Ct=rt(R,Z,X),vt.push(Ee[F])):F===69?(qt=1-rt(E,X,tt),Ct=1-rt(E,X,Z),vt.push(Ee[F])):F===149?(Yt=rt(R,Q,Z),Wt=1-rt(R,X,Z),vt.push(Ze[F])):F===21?(Yt=1-rt(E,Z,Q),Wt=rt(E,Z,X),vt.push(Ze[F])):F===86?(It=1-rt(R,tt,Q),Nt=1-rt(R,Z,Q),vt.push(Be[F])):F===84?(It=rt(E,Q,tt),Nt=rt(E,Q,Z),vt.push(Be[F])):F===89?(Pt=1-rt(R,X,tt),Rt=rt(R,Q,tt),vt.push(ze[F])):F===81?(Pt=rt(E,tt,X),Rt=1-rt(E,tt,Q),vt.push(ze[F])):F===96?(Pt=rt(R,tt,X),qt=rt(E,tt,X),Nt=rt(E,Q,Z),Ct=rt(R,Z,X),vt.push(Pe[F]),vt.push(Ee[F])):F===74?(Pt=1-rt(E,X,tt),qt=1-rt(R,X,tt),Nt=1-rt(R,Z,Q),Ct=1-rt(E,X,Z),vt.push(Pe[F]),vt.push(Ee[F])):F===24?(Pt=1-rt(R,X,tt),It=rt(R,Q,tt),Rt=rt(E,Q,tt),Wt=rt(E,Z,X),vt.push(Pe[F]),vt.push(ze[F])):F===146?(Pt=rt(E,tt,X),It=1-rt(E,tt,Q),Rt=1-rt(R,tt,Q),Wt=1-rt(R,X,Z),vt.push(Pe[F]),vt.push(ze[F])):F===6?(qt=1-rt(E,X,tt),It=1-rt(R,tt,Q),Yt=1-rt(R,Z,Q),Nt=1-rt(E,Z,Q),vt.push(Ee[F]),vt.push(Be[F])):F===164?(qt=rt(R,tt,X),It=rt(E,Q,tt),Yt=rt(E,Q,Z),Nt=rt(R,Q,Z),vt.push(Ee[F]),vt.push(Be[F])):F===129?(Rt=1-rt(E,tt,Q),Yt=rt(R,Q,Z),Ct=1-rt(R,X,Z),Wt=1-rt(E,X,Z),vt.push(ze[F]),vt.push(Ze[F])):F===41?(Rt=rt(R,Q,tt),Yt=1-rt(E,Z,Q),Ct=rt(E,Z,X),Wt=rt(R,Z,X),vt.push(ze[F]),vt.push(Ze[F])):F===66?(It=1-rt(E,tt,Q),Rt=1-rt(R,tt,Q),Nt=1-rt(R,Z,Q),Ct=1-rt(E,X,Z),vt.push(Be[F]),vt.push(ze[F])):F===104?(It=rt(R,Q,tt),Rt=rt(E,Q,tt),Nt=rt(E,Q,Z),Ct=rt(R,Z,X),vt.push(ze[F]),vt.push(qr[F])):F===144?(Pt=rt(E,tt,X),Yt=rt(E,Q,Z),Nt=rt(R,Q,Z),Wt=1-rt(R,X,Z),vt.push(Pe[F]),vt.push(We[F])):F===26?(Pt=1-rt(R,X,tt),Yt=1-rt(R,Z,Q),Nt=1-rt(E,Z,Q),Wt=rt(E,Z,X),vt.push(Pe[F]),vt.push(We[F])):F===36?(qt=rt(R,tt,X),It=rt(E,Q,tt),Ct=rt(E,Z,X),Wt=rt(R,Z,X),vt.push(Ee[F]),vt.push(Be[F])):F===134?(qt=1-rt(E,X,tt),It=1-rt(R,tt,Q),Ct=1-rt(R,X,Z),Wt=1-rt(E,X,Z),vt.push(Ee[F]),vt.push(Be[F])):F===9?(Pt=1-rt(E,X,tt),qt=1-rt(R,X,tt),Rt=rt(R,Q,tt),Yt=1-rt(E,Z,Q),vt.push(Pe[F]),vt.push(Ee[F])):F===161?(Pt=rt(R,tt,X),qt=rt(E,tt,X),Rt=1-rt(E,tt,Q),Yt=rt(R,Q,Z),vt.push(Pe[F]),vt.push(Ee[F])):F===37?(qt=rt(R,tt,X),Yt=1-rt(E,Z,Q),Ct=rt(E,Z,X),Wt=rt(R,Z,X),vt.push(Ee[F]),vt.push(Ze[F])):F===133?(qt=1-rt(E,X,tt),Yt=rt(R,Q,Z),Ct=1-rt(R,X,Z),Wt=1-rt(E,X,Z),vt.push(Ee[F]),vt.push(Ze[F])):F===148?(It=rt(E,Q,tt),Yt=rt(E,Q,Z),Nt=rt(R,Q,Z),Wt=1-rt(R,X,Z),vt.push(Be[F]),vt.push(We[F])):F===22?(It=1-rt(R,tt,Q),Yt=1-rt(R,Z,Q),Nt=1-rt(E,Z,Q),Wt=rt(E,Z,X),vt.push(Be[F]),vt.push(We[F])):F===82?(Pt=rt(E,tt,X),It=1-rt(E,tt,Q),Rt=1-rt(R,tt,Q),Nt=1-rt(R,Z,Q),vt.push(Pe[F]),vt.push(ze[F])):F===88?(Pt=1-rt(R,X,tt),It=rt(R,Q,tt),Rt=rt(E,Q,tt),Nt=rt(E,Q,Z),vt.push(Pe[F]),vt.push(ze[F])):F===73?(Pt=1-rt(E,X,tt),qt=1-rt(R,X,tt),Rt=rt(R,Q,tt),Ct=1-rt(E,X,Z),vt.push(Pe[F]),vt.push(Ee[F])):F===97?(Pt=rt(R,tt,X),qt=rt(E,tt,X),Rt=1-rt(E,tt,Q),Ct=rt(R,Z,X),vt.push(Pe[F]),vt.push(Ee[F])):F===145?(Pt=rt(E,tt,X),Rt=1-rt(E,tt,Q),Yt=rt(R,Q,Z),Wt=1-rt(R,X,Z),vt.push(Pe[F]),vt.push(Ze[F])):F===25?(Pt=1-rt(R,X,tt),Rt=rt(R,Q,tt),Yt=1-rt(E,Z,Q),Wt=rt(E,Z,X),vt.push(Pe[F]),vt.push(Ze[F])):F===70?(qt=1-rt(E,X,tt),It=1-rt(R,tt,Q),Nt=1-rt(R,Z,Q),Ct=1-rt(E,X,Z),vt.push(Ee[F]),vt.push(Be[F])):F===100?(qt=rt(R,tt,X),It=rt(E,Q,tt),Nt=rt(E,Q,Z),Ct=rt(R,Z,X),vt.push(Ee[F]),vt.push(Be[F])):F===34?(Tt===0?(Pt=1-rt(E,X,tt),qt=1-rt(R,X,tt),It=rt(R,Q,tt),Rt=rt(E,Q,tt),Yt=rt(E,Q,Z),Nt=rt(R,Q,Z),Ct=1-rt(R,X,Z),Wt=1-rt(E,X,Z)):(Pt=rt(R,tt,X),qt=rt(E,tt,X),It=1-rt(E,tt,Q),Rt=1-rt(R,tt,Q),Yt=1-rt(R,Z,Q),Nt=1-rt(E,Z,Q),Ct=rt(E,Z,X),Wt=rt(R,Z,X)),vt.push(Pe[F]),vt.push(Ee[F]),vt.push(Ze[F]),vt.push(We[F])):F===35?(Tt===4?(Pt=1-rt(E,X,tt),qt=1-rt(R,X,tt),It=rt(R,Q,tt),Rt=rt(E,Q,tt),Yt=rt(E,Q,Z),Nt=rt(R,Q,Z),Ct=1-rt(R,X,Z),Wt=1-rt(E,X,Z)):(Pt=rt(R,tt,X),qt=rt(E,tt,X),It=1-rt(E,tt,Q),Rt=1-rt(R,tt,Q),Yt=1-rt(R,Z,Q),Nt=1-rt(E,Z,Q),Ct=rt(E,Z,X),Wt=rt(R,Z,X)),vt.push(Pe[F]),vt.push(Ee[F]),vt.push(ze[F]),vt.push(We[F])):F===136?(Tt===0?(Pt=rt(R,tt,X),qt=rt(E,tt,X),It=1-rt(E,tt,Q),Rt=1-rt(R,tt,Q),Yt=1-rt(R,Z,Q),Nt=1-rt(E,Z,Q),Ct=rt(E,Z,X),Wt=rt(R,Z,X)):(Pt=1-rt(E,X,tt),qt=1-rt(R,X,tt),It=rt(R,Q,tt),Rt=rt(E,Q,tt),Yt=rt(E,Q,Z),Nt=rt(R,Q,Z),Ct=1-rt(R,X,Z),Wt=1-rt(E,X,Z)),vt.push(Pe[F]),vt.push(Ee[F]),vt.push(Ze[F]),vt.push(We[F])):F===153?(Tt===0?(Pt=rt(E,tt,X),Rt=1-rt(E,tt,Q),Yt=1-rt(E,Z,Q),Wt=rt(E,Z,X)):(Pt=1-rt(R,X,tt),Rt=rt(R,Q,tt),Yt=rt(R,Q,Z),Wt=1-rt(R,X,Z)),vt.push(Pe[F]),vt.push(ze[F])):F===102?(Tt===0?(qt=1-rt(E,X,tt),It=rt(E,Q,tt),Nt=rt(E,Q,Z),Ct=1-rt(E,X,Z)):(qt=rt(R,tt,X),It=1-rt(R,tt,Q),Nt=1-rt(R,Z,Q),Ct=rt(R,Z,X)),vt.push(Ee[F]),vt.push(We[F])):F===155?(Tt===4?(Pt=rt(E,tt,X),Rt=1-rt(E,tt,Q),Yt=1-rt(E,Z,Q),Wt=rt(E,Z,X)):(Pt=1-rt(R,X,tt),Rt=rt(R,Q,tt),Yt=rt(R,Q,Z),Wt=1-rt(R,X,Z)),vt.push(Pe[F]),vt.push(Ze[F])):F===103?(Tt===4?(qt=1-rt(E,X,tt),It=rt(E,Q,tt),Nt=rt(E,Q,Z),Ct=1-rt(E,X,Z)):(qt=rt(R,tt,X),It=1-rt(R,tt,Q),Nt=1-rt(R,Z,Q),Ct=rt(R,Z,X)),vt.push(Ee[F]),vt.push(Be[F])):F===152?(Tt===0?(Pt=rt(E,tt,X),It=1-rt(E,tt,Q),Rt=1-rt(R,tt,Q),Yt=1-rt(R,Z,Q),Nt=1-rt(E,Z,Q),Wt=rt(E,Z,X)):(Pt=1-rt(R,X,tt),It=rt(R,Q,tt),Rt=rt(E,Q,tt),Yt=rt(E,Q,Z),Nt=rt(R,Q,Z),Wt=1-rt(R,X,Z)),vt.push(Pe[F]),vt.push(Be[F]),vt.push(ze[F])):F===156?(Tt===4?(Pt=rt(E,tt,X),It=1-rt(E,tt,Q),Rt=1-rt(R,tt,Q),Yt=1-rt(R,Z,Q),Nt=1-rt(E,Z,Q),Wt=rt(E,Z,X)):(Pt=1-rt(R,X,tt),It=rt(R,Q,tt),Rt=rt(E,Q,tt),Yt=rt(E,Q,Z),Nt=rt(R,Q,Z),Wt=1-rt(R,X,Z)),vt.push(Pe[F]),vt.push(ze[F]),vt.push(We[F])):F===137?(Tt===0?(Pt=rt(R,tt,X),qt=rt(E,tt,X),Rt=1-rt(E,tt,Q),Yt=1-rt(E,Z,Q),Ct=rt(E,Z,X),Wt=rt(R,Z,X)):(Pt=1-rt(E,X,tt),qt=1-rt(R,X,tt),Rt=rt(R,Q,tt),Yt=rt(R,Q,Z),Ct=1-rt(R,X,Z),Wt=1-rt(E,X,Z)),vt.push(Pe[F]),vt.push(Ee[F]),vt.push(ze[F])):F===139?(Tt===4?(Pt=rt(R,tt,X),qt=rt(E,tt,X),Rt=1-rt(E,tt,Q),Yt=1-rt(E,Z,Q),Ct=rt(E,Z,X),Wt=rt(R,Z,X)):(Pt=1-rt(E,X,tt),qt=1-rt(R,X,tt),Rt=rt(R,Q,tt),Yt=rt(R,Q,Z),Ct=1-rt(R,X,Z),Wt=1-rt(E,X,Z)),vt.push(Pe[F]),vt.push(Ee[F]),vt.push(Ze[F])):F===98?(Tt===0?(Pt=1-rt(E,X,tt),qt=1-rt(R,X,tt),It=rt(R,Q,tt),Rt=rt(E,Q,tt),Nt=rt(E,Q,Z),Ct=1-rt(E,X,Z)):(Pt=rt(R,tt,X),qt=rt(E,tt,X),It=1-rt(E,tt,Q),Rt=1-rt(R,tt,Q),Nt=1-rt(R,Z,Q),Ct=rt(R,Z,X)),vt.push(Pe[F]),vt.push(Ee[F]),vt.push(We[F])):F===99?(Tt===4?(Pt=1-rt(E,X,tt),qt=1-rt(R,X,tt),It=rt(R,Q,tt),Rt=rt(E,Q,tt),Nt=rt(E,Q,Z),Ct=1-rt(E,X,Z)):(Pt=rt(R,tt,X),qt=rt(E,tt,X),It=1-rt(E,tt,Q),Rt=1-rt(R,tt,Q),Nt=1-rt(R,Z,Q),Ct=rt(R,Z,X)),vt.push(Pe[F]),vt.push(Ee[F]),vt.push(ze[F])):F===38?(Tt===0?(qt=1-rt(E,X,tt),It=rt(E,Q,tt),Yt=rt(E,Q,Z),Nt=rt(R,Q,Z),Ct=1-rt(R,X,Z),Wt=1-rt(E,X,Z)):(qt=rt(R,tt,X),It=1-rt(R,tt,Q),Yt=1-rt(R,Z,Q),Nt=1-rt(E,Z,Q),Ct=rt(E,Z,X),Wt=rt(R,Z,X)),vt.push(Ee[F]),vt.push(Ze[F]),vt.push(We[F])):F===39?(Tt===4?(qt=1-rt(E,X,tt),It=rt(E,Q,tt),Yt=rt(E,Q,Z),Nt=rt(R,Q,Z),Ct=1-rt(R,X,Z),Wt=1-rt(E,X,Z)):(qt=rt(R,tt,X),It=1-rt(R,tt,Q),Yt=1-rt(R,Z,Q),Nt=1-rt(E,Z,Q),Ct=rt(E,Z,X),Wt=rt(R,Z,X)),vt.push(Ee[F]),vt.push(Be[F]),vt.push(We[F])):F===85&&(Pt=1,qt=0,It=1,Rt=0,Yt=0,Nt=1,Ct=0,Wt=1),(Ct<0||Ct>1||Wt<0||Wt>1||Pt<0||Pt>1||It<0||It>1||Yt<0||Yt>1||Nt<0||Nt>1)&&console.log("MarchingSquaresJS-isoBands: "+F+" "+Bt+" "+Z+","+X+","+tt+","+Q+" "+Tt+" "+Ct+" "+Wt+" "+Pt+" "+qt+" "+It+" "+Rt+" "+Yt+" "+Nt),B.cells[Y][nt]={cval:F,cval_real:Bt,flipped:Tt,topleft:Ct,topright:Wt,righttop:Pt,rightbottom:qt,bottomright:It,bottomleft:Rt,leftbottom:Yt,lefttop:Nt,edges:vt}}}}}return B}(e,n,s);return Wu.polygons?(Wu.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),w=function(T){var E=[],P=0;return T.cells.forEach(function(z,N){z.forEach(function(B,R){if(B!==void 0){var Y=ye[B.cval](B);typeof Y=="object"&&wb(Y)?typeof Y[0]=="object"&&wb(Y[0])?typeof Y[0][0]=="object"&&wb(Y[0][0])?Y.forEach(function(nt){nt.forEach(function(F){F[0]+=R,F[1]+=N}),E[P++]=nt}):(Y.forEach(function(nt){nt[0]+=R,nt[1]+=N}),E[P++]=Y):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}})}),E}(_)):(Wu.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),w=function(T){for(var E=[],P=T.rows,z=T.cols,N=[],B=0;B<P;B++)for(var R=0;R<z;R++)if(T.cells[B][R]!==void 0&&T.cells[B][R].edges.length>0){var Y=jM(T.cells[B][R]),nt=null,F=R,Z=B;Y!==null&&N.push([Y.p[0]+F,Y.p[1]+Z]);do{if((nt=HM(T.cells[Z][F],Y.x,Y.y,Y.o))===null)break;if(N.push([nt.p[0]+F,nt.p[1]+Z]),F+=nt.x,Y=nt,(Z+=nt.y)<0||Z>=P||F<0||F>=z||T.cells[Z][F]===void 0){var X=BM(T,F-=nt.x,Z-=nt.y,nt.x,nt.y,nt.o);if(X===null)break;X.path.forEach(function(tt){N.push(tt)}),F=X.i,Z=X.j,Y=X}}while(T.cells[Z][F]!==void 0&&T.cells[Z][F].edges.length>0);E.push(N),N=[],T.cells[B][R].edges.length>0&&R--}return E}(_)),typeof Wu.successCallback=="function"&&Wu.successCallback(w),w}var Xn=64,ha=16,wr=[],xr=[],_r=[],kr=[],Er=[],Tr=[],Sr=[],Cr=[],Pr=[],Mr=[],Ir=[],Lr=[],Ar=[],Rr=[],Or=[],zr=[],Nr=[],Dr=[],Fr=[],Br=[],jr=[],Hr=[],Ur=[],Gr=[];Sr[85]=Mr[85]=-1,Cr[85]=Ir[85]=0,Pr[85]=Lr[85]=1,Fr[85]=Hr[85]=1,Br[85]=Ur[85]=0,jr[85]=Gr[85]=1,wr[85]=kr[85]=0,xr[85]=Er[85]=-1,_r[85]=Or[85]=0,zr[85]=Ar[85]=0,Nr[85]=Rr[85]=1,Tr[85]=Dr[85]=1,Hr[1]=Hr[169]=0,Ur[1]=Ur[169]=-1,Gr[1]=Gr[169]=0,Ar[1]=Ar[169]=-1,Rr[1]=Rr[169]=0,Or[1]=Or[169]=0,Mr[4]=Mr[166]=0,Ir[4]=Ir[166]=-1,Lr[4]=Lr[166]=1,zr[4]=zr[166]=1,Nr[4]=Nr[166]=0,Dr[4]=Dr[166]=0,Sr[16]=Sr[154]=0,Cr[16]=Cr[154]=1,Pr[16]=Pr[154]=1,kr[16]=kr[154]=1,Er[16]=Er[154]=0,Tr[16]=Tr[154]=1,Fr[64]=Fr[106]=0,Br[64]=Br[106]=1,jr[64]=jr[106]=0,wr[64]=wr[106]=-1,xr[64]=xr[106]=0,_r[64]=_r[106]=1,Fr[2]=Fr[168]=0,Br[2]=Br[168]=-1,jr[2]=jr[168]=1,Hr[2]=Hr[168]=0,Ur[2]=Ur[168]=-1,Gr[2]=Gr[168]=0,Ar[2]=Ar[168]=-1,Rr[2]=Rr[168]=0,Or[2]=Or[168]=0,zr[2]=zr[168]=-1,Nr[2]=Nr[168]=0,Dr[2]=Dr[168]=1,Sr[8]=Sr[162]=0,Cr[8]=Cr[162]=-1,Pr[8]=Pr[162]=0,Mr[8]=Mr[162]=0,Ir[8]=Ir[162]=-1,Lr[8]=Lr[162]=1,Ar[8]=Ar[162]=1,Rr[8]=Rr[162]=0,Or[8]=Or[162]=1,zr[8]=zr[162]=1,Nr[8]=Nr[162]=0,Dr[8]=Dr[162]=0,Sr[32]=Sr[138]=0,Cr[32]=Cr[138]=1,Pr[32]=Pr[138]=1,Mr[32]=Mr[138]=0,Ir[32]=Ir[138]=1,Lr[32]=Lr[138]=0,wr[32]=wr[138]=1,xr[32]=xr[138]=0,_r[32]=_r[138]=0,kr[32]=kr[138]=1,Er[32]=Er[138]=0,Tr[32]=Tr[138]=1,Hr[128]=Hr[42]=0,Ur[128]=Ur[42]=1,Gr[128]=Gr[42]=1,Fr[128]=Fr[42]=0,Br[128]=Br[42]=1,jr[128]=jr[42]=0,wr[128]=wr[42]=-1,xr[128]=xr[42]=0,_r[128]=_r[42]=1,kr[128]=kr[42]=-1,Er[128]=Er[42]=0,Tr[128]=Tr[42]=0,Mr[5]=Mr[165]=-1,Ir[5]=Ir[165]=0,Lr[5]=Lr[165]=0,Hr[5]=Hr[165]=1,Ur[5]=Ur[165]=0,Gr[5]=Gr[165]=0,zr[20]=zr[150]=0,Nr[20]=Nr[150]=1,Dr[20]=Dr[150]=1,kr[20]=kr[150]=0,Er[20]=Er[150]=-1,Tr[20]=Tr[150]=1,Sr[80]=Sr[90]=-1,Cr[80]=Cr[90]=0,Pr[80]=Pr[90]=1,Fr[80]=Fr[90]=1,Br[80]=Br[90]=0,jr[80]=jr[90]=1,Ar[65]=Ar[105]=0,Rr[65]=Rr[105]=1,Or[65]=Or[105]=0,wr[65]=wr[105]=0,xr[65]=xr[105]=-1,_r[65]=_r[105]=0,Sr[160]=Sr[10]=-1,Cr[160]=Cr[10]=0,Pr[160]=Pr[10]=1,Mr[160]=Mr[10]=-1,Ir[160]=Ir[10]=0,Lr[160]=Lr[10]=0,Hr[160]=Hr[10]=1,Ur[160]=Ur[10]=0,Gr[160]=Gr[10]=0,Fr[160]=Fr[10]=1,Br[160]=Br[10]=0,jr[160]=jr[10]=1,zr[130]=zr[40]=0,Nr[130]=Nr[40]=1,Dr[130]=Dr[40]=1,Ar[130]=Ar[40]=0,Rr[130]=Rr[40]=1,Or[130]=Or[40]=0,wr[130]=wr[40]=0,xr[130]=xr[40]=-1,_r[130]=_r[40]=0,kr[130]=kr[40]=0,Er[130]=Er[40]=-1,Tr[130]=Tr[40]=1,Mr[37]=Mr[133]=0,Ir[37]=Ir[133]=1,Lr[37]=Lr[133]=1,Hr[37]=Hr[133]=0,Ur[37]=Ur[133]=1,Gr[37]=Gr[133]=0,wr[37]=wr[133]=-1,xr[37]=xr[133]=0,_r[37]=_r[133]=0,kr[37]=kr[133]=1,Er[37]=Er[133]=0,Tr[37]=Tr[133]=0,zr[148]=zr[22]=-1,Nr[148]=Nr[22]=0,Dr[148]=Dr[22]=0,Hr[148]=Hr[22]=0,Ur[148]=Ur[22]=-1,Gr[148]=Gr[22]=1,Fr[148]=Fr[22]=0,Br[148]=Br[22]=1,jr[148]=jr[22]=1,kr[148]=kr[22]=-1,Er[148]=Er[22]=0,Tr[148]=Tr[22]=1,Sr[82]=Sr[88]=0,Cr[82]=Cr[88]=-1,Pr[82]=Pr[88]=1,zr[82]=zr[88]=1,Nr[82]=Nr[88]=0,Dr[82]=Dr[88]=1,Ar[82]=Ar[88]=-1,Rr[82]=Rr[88]=0,Or[82]=Or[88]=1,Fr[82]=Fr[88]=0,Br[82]=Br[88]=-1,jr[82]=jr[88]=0,Sr[73]=Sr[97]=0,Cr[73]=Cr[97]=1,Pr[73]=Pr[97]=0,Mr[73]=Mr[97]=0,Ir[73]=Ir[97]=-1,Lr[73]=Lr[97]=0,Ar[73]=Ar[97]=1,Rr[73]=Rr[97]=0,Or[73]=Or[97]=0,wr[73]=wr[97]=1,xr[73]=xr[97]=0,_r[73]=_r[97]=1,Sr[145]=Sr[25]=0,Cr[145]=Cr[25]=-1,Pr[145]=Pr[25]=0,Ar[145]=Ar[25]=1,Rr[145]=Rr[25]=0,Or[145]=Or[25]=1,Hr[145]=Hr[25]=0,Ur[145]=Ur[25]=1,Gr[145]=Gr[25]=1,kr[145]=kr[25]=-1,Er[145]=Er[25]=0,Tr[145]=Tr[25]=0,Mr[70]=Mr[100]=0,Ir[70]=Ir[100]=1,Lr[70]=Lr[100]=0,zr[70]=zr[100]=-1,Nr[70]=Nr[100]=0,Dr[70]=Dr[100]=1,Fr[70]=Fr[100]=0,Br[70]=Br[100]=-1,jr[70]=jr[100]=1,wr[70]=wr[100]=1,xr[70]=xr[100]=0,_r[70]=_r[100]=0,Mr[101]=Mr[69]=0,Ir[101]=Ir[69]=1,Lr[101]=Lr[69]=0,wr[101]=wr[69]=1,xr[101]=xr[69]=0,_r[101]=_r[69]=0,Hr[149]=Hr[21]=0,Ur[149]=Ur[21]=1,Gr[149]=Gr[21]=1,kr[149]=kr[21]=-1,Er[149]=Er[21]=0,Tr[149]=Tr[21]=0,zr[86]=zr[84]=-1,Nr[86]=Nr[84]=0,Dr[86]=Dr[84]=1,Fr[86]=Fr[84]=0,Br[86]=Br[84]=-1,jr[86]=jr[84]=1,Sr[89]=Sr[81]=0,Cr[89]=Cr[81]=-1,Pr[89]=Pr[81]=0,Ar[89]=Ar[81]=1,Rr[89]=Rr[81]=0,Or[89]=Or[81]=1,Sr[96]=Sr[74]=0,Cr[96]=Cr[74]=1,Pr[96]=Pr[74]=0,Mr[96]=Mr[74]=-1,Ir[96]=Ir[74]=0,Lr[96]=Lr[74]=1,Fr[96]=Fr[74]=1,Br[96]=Br[74]=0,jr[96]=jr[74]=0,wr[96]=wr[74]=1,xr[96]=xr[74]=0,_r[96]=_r[74]=1,Sr[24]=Sr[146]=0,Cr[24]=Cr[146]=-1,Pr[24]=Pr[146]=1,zr[24]=zr[146]=1,Nr[24]=Nr[146]=0,Dr[24]=Dr[146]=1,Ar[24]=Ar[146]=0,Rr[24]=Rr[146]=1,Or[24]=Or[146]=1,kr[24]=kr[146]=0,Er[24]=Er[146]=-1,Tr[24]=Tr[146]=0,Mr[6]=Mr[164]=-1,Ir[6]=Ir[164]=0,Lr[6]=Lr[164]=1,zr[6]=zr[164]=-1,Nr[6]=Nr[164]=0,Dr[6]=Dr[164]=0,Hr[6]=Hr[164]=0,Ur[6]=Ur[164]=-1,Gr[6]=Gr[164]=1,Fr[6]=Fr[164]=1,Br[6]=Br[164]=0,jr[6]=jr[164]=0,Ar[129]=Ar[41]=0,Rr[129]=Rr[41]=1,Or[129]=Or[41]=1,Hr[129]=Hr[41]=0,Ur[129]=Ur[41]=1,Gr[129]=Gr[41]=0,wr[129]=wr[41]=-1,xr[129]=xr[41]=0,_r[129]=_r[41]=0,kr[129]=kr[41]=0,Er[129]=Er[41]=-1,Tr[129]=Tr[41]=0,zr[66]=zr[104]=0,Nr[66]=Nr[104]=1,Dr[66]=Dr[104]=0,Ar[66]=Ar[104]=-1,Rr[66]=Rr[104]=0,Or[66]=Or[104]=1,Fr[66]=Fr[104]=0,Br[66]=Br[104]=-1,jr[66]=jr[104]=0,wr[66]=wr[104]=0,xr[66]=xr[104]=-1,_r[66]=_r[104]=1,Sr[144]=Sr[26]=-1,Cr[144]=Cr[26]=0,Pr[144]=Pr[26]=0,Hr[144]=Hr[26]=1,Ur[144]=Ur[26]=0,Gr[144]=Gr[26]=1,Fr[144]=Fr[26]=0,Br[144]=Br[26]=1,jr[144]=jr[26]=1,kr[144]=kr[26]=-1,Er[144]=Er[26]=0,Tr[144]=Tr[26]=1,Mr[36]=Mr[134]=0,Ir[36]=Ir[134]=1,Lr[36]=Lr[134]=1,zr[36]=zr[134]=0,Nr[36]=Nr[134]=1,Dr[36]=Dr[134]=0,wr[36]=wr[134]=0,xr[36]=xr[134]=-1,_r[36]=_r[134]=1,kr[36]=kr[134]=1,Er[36]=Er[134]=0,Tr[36]=Tr[134]=0,Sr[9]=Sr[161]=-1,Cr[9]=Cr[161]=0,Pr[9]=Pr[161]=0,Mr[9]=Mr[161]=0,Ir[9]=Ir[161]=-1,Lr[9]=Lr[161]=0,Ar[9]=Ar[161]=1,Rr[9]=Rr[161]=0,Or[9]=Or[161]=0,Hr[9]=Hr[161]=1,Ur[9]=Ur[161]=0,Gr[9]=Gr[161]=1,Sr[136]=0,Cr[136]=1,Pr[136]=1,Mr[136]=0,Ir[136]=1,Lr[136]=0,zr[136]=-1,Nr[136]=0,Dr[136]=1,Ar[136]=-1,Rr[136]=0,Or[136]=0,Hr[136]=0,Ur[136]=-1,Gr[136]=0,Fr[136]=0,Br[136]=-1,jr[136]=1,wr[136]=1,xr[136]=0,_r[136]=0,kr[136]=1,Er[136]=0,Tr[136]=1,Sr[34]=0,Cr[34]=-1,Pr[34]=0,Mr[34]=0,Ir[34]=-1,Lr[34]=1,zr[34]=1,Nr[34]=0,Dr[34]=0,Ar[34]=1,Rr[34]=0,Or[34]=1,Hr[34]=0,Ur[34]=1,Gr[34]=1,Fr[34]=0,Br[34]=1,jr[34]=0,wr[34]=-1,xr[34]=0,_r[34]=1,kr[34]=-1,Er[34]=0,Tr[34]=0,Sr[35]=0,Cr[35]=1,Pr[35]=1,Mr[35]=0,Ir[35]=-1,Lr[35]=1,zr[35]=1,Nr[35]=0,Dr[35]=0,Ar[35]=-1,Rr[35]=0,Or[35]=0,Hr[35]=0,Ur[35]=-1,Gr[35]=0,Fr[35]=0,Br[35]=1,jr[35]=0,wr[35]=-1,xr[35]=0,_r[35]=1,kr[35]=1,Er[35]=0,Tr[35]=1,Sr[153]=0,Cr[153]=1,Pr[153]=1,Ar[153]=-1,Rr[153]=0,Or[153]=0,Hr[153]=0,Ur[153]=-1,Gr[153]=0,kr[153]=1,Er[153]=0,Tr[153]=1,Mr[102]=0,Ir[102]=-1,Lr[102]=1,zr[102]=1,Nr[102]=0,Dr[102]=0,Fr[102]=0,Br[102]=1,jr[102]=0,wr[102]=-1,xr[102]=0,_r[102]=1,Sr[155]=0,Cr[155]=-1,Pr[155]=0,Ar[155]=1,Rr[155]=0,Or[155]=1,Hr[155]=0,Ur[155]=1,Gr[155]=1,kr[155]=-1,Er[155]=0,Tr[155]=0,Mr[103]=0,Ir[103]=1,Lr[103]=0,zr[103]=-1,Nr[103]=0,Dr[103]=1,Fr[103]=0,Br[103]=-1,jr[103]=1,wr[103]=1,xr[103]=0,_r[103]=0,Sr[152]=0,Cr[152]=1,Pr[152]=1,zr[152]=-1,Nr[152]=0,Dr[152]=1,Ar[152]=-1,Rr[152]=0,Or[152]=0,Hr[152]=0,Ur[152]=-1,Gr[152]=0,Fr[152]=0,Br[152]=-1,jr[152]=1,kr[152]=1,Er[152]=0,Tr[152]=1,Sr[156]=0,Cr[156]=-1,Pr[156]=1,zr[156]=1,Nr[156]=0,Dr[156]=1,Ar[156]=-1,Rr[156]=0,Or[156]=0,Hr[156]=0,Ur[156]=-1,Gr[156]=0,Fr[156]=0,Br[156]=1,jr[156]=1,kr[156]=-1,Er[156]=0,Tr[156]=1,Sr[137]=0,Cr[137]=1,Pr[137]=1,Mr[137]=0,Ir[137]=1,Lr[137]=0,Ar[137]=-1,Rr[137]=0,Or[137]=0,Hr[137]=0,Ur[137]=-1,Gr[137]=0,wr[137]=1,xr[137]=0,_r[137]=0,kr[137]=1,Er[137]=0,Tr[137]=1,Sr[139]=0,Cr[139]=1,Pr[139]=1,Mr[139]=0,Ir[139]=-1,Lr[139]=0,Ar[139]=1,Rr[139]=0,Or[139]=0,Hr[139]=0,Ur[139]=1,Gr[139]=0,wr[139]=-1,xr[139]=0,_r[139]=0,kr[139]=1,Er[139]=0,Tr[139]=1,Sr[98]=0,Cr[98]=-1,Pr[98]=0,Mr[98]=0,Ir[98]=-1,Lr[98]=1,zr[98]=1,Nr[98]=0,Dr[98]=0,Ar[98]=1,Rr[98]=0,Or[98]=1,Fr[98]=0,Br[98]=1,jr[98]=0,wr[98]=-1,xr[98]=0,_r[98]=1,Sr[99]=0,Cr[99]=1,Pr[99]=0,Mr[99]=0,Ir[99]=-1,Lr[99]=1,zr[99]=1,Nr[99]=0,Dr[99]=0,Ar[99]=-1,Rr[99]=0,Or[99]=1,Fr[99]=0,Br[99]=-1,jr[99]=0,wr[99]=1,xr[99]=0,_r[99]=1,Mr[38]=0,Ir[38]=-1,Lr[38]=1,zr[38]=1,Nr[38]=0,Dr[38]=0,Hr[38]=0,Ur[38]=1,Gr[38]=1,Fr[38]=0,Br[38]=1,jr[38]=0,wr[38]=-1,xr[38]=0,_r[38]=1,kr[38]=-1,Er[38]=0,Tr[38]=0,Mr[39]=0,Ir[39]=1,Lr[39]=1,zr[39]=-1,Nr[39]=0,Dr[39]=0,Hr[39]=0,Ur[39]=-1,Gr[39]=1,Fr[39]=0,Br[39]=1,jr[39]=0,wr[39]=-1,xr[39]=0,_r[39]=1,kr[39]=1,Er[39]=0,Tr[39]=0;var db=function(e){return[[e.bottomleft,0],[0,0],[0,e.leftbottom]]},pb=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0]]},fb=function(e){return[[e.topright,1],[1,1],[1,e.righttop]]},gb=function(e){return[[0,e.lefttop],[0,1],[e.topleft,1]]},mb=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop]]},vb=function(e){return[[e.bottomright,0],[e.bottomleft,0],[1,e.righttop],[1,e.rightbottom]]},yb=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.topleft,1],[e.topright,1]]},bb=function(e){return[[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},Pe=[],Ee=[],Be=[],ze=[],Ze=[],We=[],qr=[],Vr=[];ze[1]=Ze[1]=18,ze[169]=Ze[169]=18,Be[4]=Ee[4]=12,Be[166]=Ee[166]=12,Pe[16]=Vr[16]=4,Pe[154]=Vr[154]=4,We[64]=qr[64]=22,We[106]=qr[106]=22,Be[2]=We[2]=17,ze[2]=Ze[2]=18,Be[168]=We[168]=17,ze[168]=Ze[168]=18,Pe[8]=ze[8]=9,Ee[8]=Be[8]=12,Pe[162]=ze[162]=9,Ee[162]=Be[162]=12,Pe[32]=Vr[32]=4,Ee[32]=qr[32]=1,Pe[138]=Vr[138]=4,Ee[138]=qr[138]=1,Ze[128]=Vr[128]=21,We[128]=qr[128]=22,Ze[42]=Vr[42]=21,We[42]=qr[42]=22,Ee[5]=Ze[5]=14,Ee[165]=Ze[165]=14,Be[20]=Vr[20]=6,Be[150]=Vr[150]=6,Pe[80]=We[80]=11,Pe[90]=We[90]=11,ze[65]=qr[65]=3,ze[105]=qr[105]=3,Pe[160]=We[160]=11,Ee[160]=Ze[160]=14,Pe[10]=We[10]=11,Ee[10]=Ze[10]=14,Be[130]=Vr[130]=6,ze[130]=qr[130]=3,Be[40]=Vr[40]=6,ze[40]=qr[40]=3,Ee[101]=qr[101]=1,Ee[69]=qr[69]=1,Ze[149]=Vr[149]=21,Ze[21]=Vr[21]=21,Be[86]=We[86]=17,Be[84]=We[84]=17,Pe[89]=ze[89]=9,Pe[81]=ze[81]=9,Pe[96]=qr[96]=0,Ee[96]=We[96]=15,Pe[74]=qr[74]=0,Ee[74]=We[74]=15,Pe[24]=Be[24]=8,ze[24]=Vr[24]=7,Pe[146]=Be[146]=8,ze[146]=Vr[146]=7,Ee[6]=We[6]=15,Be[6]=Ze[6]=16,Ee[164]=We[164]=15,Be[164]=Ze[164]=16,ze[129]=Vr[129]=7,Ze[129]=qr[129]=20,ze[41]=Vr[41]=7,Ze[41]=qr[41]=20,Be[66]=qr[66]=2,ze[66]=We[66]=19,Be[104]=qr[104]=2,ze[104]=We[104]=19,Pe[144]=Ze[144]=10,We[144]=Vr[144]=23,Pe[26]=Ze[26]=10,We[26]=Vr[26]=23,Ee[36]=Vr[36]=5,Be[36]=qr[36]=2,Ee[134]=Vr[134]=5,Be[134]=qr[134]=2,Pe[9]=Ze[9]=10,Ee[9]=ze[9]=13,Pe[161]=Ze[161]=10,Ee[161]=ze[161]=13,Ee[37]=Vr[37]=5,Ze[37]=qr[37]=20,Ee[133]=Vr[133]=5,Ze[133]=qr[133]=20,Be[148]=Ze[148]=16,We[148]=Vr[148]=23,Be[22]=Ze[22]=16,We[22]=Vr[22]=23,Pe[82]=Be[82]=8,ze[82]=We[82]=19,Pe[88]=Be[88]=8,ze[88]=We[88]=19,Pe[73]=qr[73]=0,Ee[73]=ze[73]=13,Pe[97]=qr[97]=0,Ee[97]=ze[97]=13,Pe[145]=ze[145]=9,Ze[145]=Vr[145]=21,Pe[25]=ze[25]=9,Ze[25]=Vr[25]=21,Ee[70]=qr[70]=1,Be[70]=We[70]=17,Ee[100]=qr[100]=1,Be[100]=We[100]=17,Pe[34]=ze[34]=9,Ee[34]=Be[34]=12,Ze[34]=Vr[34]=21,We[34]=qr[34]=22,Pe[136]=Vr[136]=4,Ee[136]=qr[136]=1,Be[136]=We[136]=17,ze[136]=Ze[136]=18,Pe[35]=Vr[35]=4,Ee[35]=Be[35]=12,ze[35]=Ze[35]=18,We[35]=qr[35]=22,Pe[153]=Vr[153]=4,ze[153]=Ze[153]=18,Ee[102]=Be[102]=12,We[102]=qr[102]=22,Pe[155]=ze[155]=9,Ze[155]=Vr[155]=23,Ee[103]=qr[103]=1,Be[103]=We[103]=17,Pe[152]=Vr[152]=4,Be[152]=We[152]=17,ze[152]=Ze[152]=18,Pe[156]=Be[156]=8,ze[156]=Ze[156]=18,We[156]=Vr[156]=23,Pe[137]=Vr[137]=4,Ee[137]=qr[137]=1,ze[137]=Ze[137]=18,Pe[139]=Vr[139]=4,Ee[139]=ze[139]=13,Ze[139]=qr[139]=20,Pe[98]=ze[98]=9,Ee[98]=Be[98]=12,We[98]=qr[98]=22,Pe[99]=qr[99]=0,Ee[99]=Be[99]=12,ze[99]=We[99]=19,Ee[38]=Be[38]=12,Ze[38]=Vr[38]=21,We[38]=qr[38]=22,Ee[39]=Vr[39]=5,Be[39]=Ze[39]=16,We[39]=qr[39]=22;var ye=[];function rt(e,n,s){return(e-n)/(s-n)}function wb(e){return e.constructor.toString().indexOf("Array")>-1}function BM(e,n,s,a,c,h){for(var g=e.cells[s][n],y=g.cval_real,w=n+a,_=s+c,T=[],E=!1;!E;){if(e.cells[_]===void 0||e.cells[_][w]===void 0)if(_-=c,w-=a,y=(g=e.cells[_][w]).cval_real,c===-1)if(h===0)if(1&y)T.push([w,_]),a=-1,c=0,h=0;else{if(!(4&y)){T.push([w+g.bottomright,_]),a=0,c=1,h=1,E=!0;break}T.push([w+1,_]),a=1,c=0,h=0}else{if(!(1&y)){if(4&y){T.push([w+g.bottomright,_]),a=0,c=1,h=1,E=!0;break}T.push([w+g.bottomleft,_]),a=0,c=1,h=0,E=!0;break}T.push([w,_]),a=-1,c=0,h=0}else if(c===1)if(h===0){if(!(y&ha)){if(y&Xn){T.push([w+g.topleft,_+1]),a=0,c=-1,h=0,E=!0;break}T.push([w+g.topright,_+1]),a=0,c=-1,h=1,E=!0;break}T.push([w+1,_+1]),a=1,c=0,h=1}else T.push([w+1,_+1]),a=1,c=0,h=1;else if(a===-1)if(h===0){if(!(y&Xn)){if(1&y){T.push([w,_+g.leftbottom]),a=1,c=0,h=0,E=!0;break}T.push([w,_+g.lefttop]),a=1,c=0,h=1,E=!0;break}T.push([w,_+1]),a=0,c=1,h=0}else{if(!(y&Xn)){console.log("MarchingSquaresJS-isoBands: wtf");break}T.push([w,_+1]),a=0,c=1,h=0}else{if(a!==1){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(h===0){if(!(4&y)){T.push([w+1,_+g.rightbottom]),a=-1,c=0,h=0,E=!0;break}T.push([w+1,_]),a=0,c=-1,h=1}else{if(!(4&y)){if(y&ha){T.push([w+1,_+g.righttop]),a=-1,c=0,h=1;break}T.push([w+1,_+g.rightbottom]),a=-1,c=0,h=0,E=!0;break}T.push([w+1,_]),a=0,c=-1,h=1}}else if(y=(g=e.cells[_][w]).cval_real,a===-1)if(h===0)if(e.cells[_-1]!==void 0&&e.cells[_-1][w]!==void 0)a=0,c=-1,h=1;else{if(!(1&y)){T.push([w+g.bottomright,_]),a=0,c=1,h=1,E=!0;break}T.push([w,_])}else{if(!(y&Xn)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+w+","+_);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(a===1){if(h===0){console.log("MarchingSquaresJS-isoBands: wtf");break}if(e.cells[_+1]!==void 0&&e.cells[_+1][w]!==void 0)a=0,c=1,h=0;else{if(!(y&ha)){T.push([w+g.topleft,_+1]),a=0,c=-1,h=0,E=!0;break}T.push([w+1,_+1]),a=1,c=0,h=1}}else if(c===-1){if(h!==1){console.log("MarchingSquaresJS-isoBands: wtf");break}if(e.cells[_][w+1]!==void 0)a=1,c=0,h=1;else{if(!(4&y)){T.push([w+1,_+g.righttop]),a=-1,c=0,h=1,E=!0;break}T.push([w+1,_]),a=0,c=-1,h=1}}else{if(c!==1){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(h!==0){console.log("MarchingSquaresJS-isoBands: wtf");break}if(e.cells[_][w-1]!==void 0)a=-1,c=0,h=0;else{if(!(y&Xn)){T.push([w,_+g.leftbottom]),a=1,c=0,h=0,E=!0;break}T.push([w,_+1]),a=0,c=1,h=0}}if(_+=c,(w+=a)===n&&_===s)break}return{path:T,i:w,j:_,x:a,y:c,o:h}}function jM(e){if(e.edges.length>0){var n=e.edges[e.edges.length-1],s=e.cval_real;switch(n){case 0:return s&ha?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.topleft,1],x:0,y:-1,o:0};case 1:return 4&s?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 2:return 4&s?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[e.topleft,1],x:0,y:-1,o:0};case 3:return 1&s?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 4:return s&ha?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};case 5:return 4&s?{p:[e.topright,1],x:0,y:-1,o:1}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 6:return 4&s?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};case 7:return 1&s?{p:[e.topright,1],x:0,y:-1,o:1}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 8:return 4&s?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[1,e.righttop],x:-1,y:0,o:1};case 9:return 1&s?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 10:return 1&s?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[1,e.righttop],x:-1,y:0,o:1};case 11:return s&Xn?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[0,e.lefttop],x:1,y:0,o:1};case 12:return 4&s?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 13:return 1&s?{p:[1,e.rightbottom],x:-1,y:0,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 14:return 1&s?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 15:return s&Xn?{p:[1,e.rightbottom],x:-1,y:0,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 16:return 4&s?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[0,e.leftbottom],x:1,y:0,o:0};case 17:return s&Xn?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[0,e.lefttop],x:1,y:0,o:1};case 18:return 1&s?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 19:return s&Xn?{p:[e.bottomleft,0],x:0,y:1,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 20:return s&Xn?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[0,e.leftbottom],x:1,y:0,o:0};case 21:return s&ha?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[e.topright,1],x:0,y:-1,o:1};case 22:return s&Xn?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 23:return s&ha?{p:[0,e.lefttop],x:1,y:0,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(e)}}return null}function HM(e,n,s,a){var c,h,g,y,w,_=e.cval;switch(n){case-1:switch(a){case 0:c=Ee[_],g=Mr[_],y=Ir[_],w=Lr[_];break;default:c=Pe[_],g=Sr[_],y=Cr[_],w=Pr[_]}break;case 1:switch(a){case 0:c=Ze[_],g=Hr[_],y=Ur[_],w=Gr[_];break;default:c=We[_],g=Fr[_],y=Br[_],w=jr[_]}break;default:switch(s){case-1:switch(a){case 0:c=qr[_],g=wr[_],y=xr[_],w=_r[_];break;default:c=Vr[_],g=kr[_],y=Er[_],w=Tr[_]}break;case 1:switch(a){case 0:c=ze[_],g=Ar[_],y=Rr[_],w=Or[_];break;default:c=Be[_],g=zr[_],y=Nr[_],w=Dr[_]}}}if(h=e.edges.indexOf(c),e.edges[h]===void 0)return null;switch(function(T,E){delete T.edges[E];for(var P=E+1;P<T.edges.length;P++)T.edges[P-1]=T.edges[P];T.edges.pop()}(e,h),_=e.cval_real,c){case 0:_&ha?(n=e.topleft,s=1):(n=1,s=e.righttop);break;case 1:4&_?(n=1,s=e.rightbottom):(n=e.topleft,s=1);break;case 2:4&_?(n=e.topleft,s=1):(n=e.bottomright,s=0);break;case 3:1&_?(n=e.bottomleft,s=0):(n=e.topleft,s=1);break;case 4:_&ha?(n=e.topright,s=1):(n=1,s=e.righttop);break;case 5:4&_?(n=1,s=e.rightbottom):(n=e.topright,s=1);break;case 6:4&_?(n=e.topright,s=1):(n=e.bottomright,s=0);break;case 7:1&_?(n=e.bottomleft,s=0):(n=e.topright,s=1);break;case 8:4&_?(n=1,s=e.righttop):(n=e.bottomright,s=0);break;case 9:1&_?(n=e.bottomleft,s=0):(n=1,s=e.righttop);break;case 10:1&_?(n=1,s=e.righttop):(n=0,s=e.leftbottom);break;case 11:_&Xn?(n=0,s=e.lefttop):(n=1,s=e.righttop);break;case 12:4&_?(n=1,s=e.rightbottom):(n=e.bottomright,s=0);break;case 13:1&_?(n=e.bottomleft,s=0):(n=1,s=e.rightbottom);break;case 14:1&_?(n=1,s=e.rightbottom):(n=0,s=e.leftbottom);break;case 15:_&Xn?(n=0,s=e.lefttop):(n=1,s=e.rightbottom);break;case 16:4&_?(n=0,s=e.leftbottom):(n=e.bottomright,s=0);break;case 17:_&Xn?(n=0,s=e.lefttop):(n=e.bottomright,s=0);break;case 18:1&_?(n=e.bottomleft,s=0):(n=0,s=e.leftbottom);break;case 19:_&Xn?(n=0,s=e.lefttop):(n=e.bottomleft,s=0);break;case 20:_&Xn?(n=0,s=e.leftbottom):(n=e.topleft,s=1);break;case 21:_&ha?(n=e.topright,s=1):(n=0,s=e.leftbottom);break;case 22:_&Xn?(n=0,s=e.lefttop):(n=e.topleft,s=1);break;case 23:_&ha?(n=e.topright,s=1):(n=0,s=e.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(e),null}return n!==void 0&&s!==void 0&&g!==void 0&&y!==void 0&&w!==void 0||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(e),console.log(n+" "+s+" "+g+" "+y+" "+w)),{p:[n,s],x:g,y,o:w}}function UM(e){var n=[],s=[];e.forEach(function(c){var h=id(v([c]));s.push(h),n.push({ring:c,area:h})}),s.sort(function(c,h){return h-c});var a=[];return s.forEach(function(c){for(var h=0;h<n.length;h++)if(n[h].area===c){a.push(n[h].ring),n.splice(h,1);break}}),a}function GM(e){for(var n=e.map(function(y){return{lrCoordinates:y,grouped:!1}}),s=[];!VM(n);)for(var a=0;a<n.length;a++)if(!n[a].grouped){var c=[];c.push(n[a].lrCoordinates),n[a].grouped=!0;for(var h=v([n[a].lrCoordinates]),g=a+1;g<n.length;g++)n[g].grouped||qM(v([n[g].lrCoordinates]),h)&&(c.push(n[g].lrCoordinates),n[g].grouped=!0);s.push(c)}return s}function qM(e,n){for(var s=Du(e),a=0;a<s.features.length;a++)if(!Je(s.features[a],n))return!1;return!0}function VM(e){for(var n=0;n<e.length;n++)if(e[n].grouped===!1)return!1;return!0}function k_(e,n,s){if(!ht(s=s||{}))throw new Error("options is invalid");var a=s.pivot,c=s.mutate;if(!e)throw new Error("geojson is required");if(n==null||isNaN(n))throw new Error("angle is required");return n===0||(a||(a=oa(e)),c!==!1&&c!==void 0||(e=Si(e)),xt(e,function(h){var g=Dl(a,h)+n,y=Rl(a,h),w=G(ud(a,y,g));h[0]=w[0],h[1]=w[1]})),e}function E_(e,n,s){if(!ht(s=s||{}))throw new Error("options is invalid");var a=s.origin,c=s.mutate;if(!e)throw new Error("geojson required");if(typeof n!="number"||n===0)throw new Error("invalid factor");var h=Array.isArray(a)||typeof a=="object";return c!==!0&&(e=Si(e)),e.type!=="FeatureCollection"||h?T_(e,n,a):(yt(e,function(g,y){e.features[y]=T_(g,n,a)}),e)}function T_(e,n,s){var a=Ot(e)==="Point";return s=function(c,h){if(h==null&&(h="centroid"),Array.isArray(h)||typeof h=="object")return A(h);var g=c.bbox?c.bbox:Ht(c),y=g[0],w=g[1],_=g[2],T=g[3];switch(h){case"sw":case"southwest":case"westsouth":case"bottomleft":return p([y,w]);case"se":case"southeast":case"eastsouth":case"bottomright":return p([_,w]);case"nw":case"northwest":case"westnorth":case"topleft":return p([y,T]);case"ne":case"northeast":case"eastnorth":case"topright":return p([_,T]);case"center":return os(c);case void 0:case null:case"centroid":return oa(c);default:throw new Error("invalid origin")}}(e,s),n===1||a||xt(e,function(c){var h=Rl(s,c),g=Dl(s,c),y=G(ud(s,h*n,g));c[0]=y[0],c[1]=y[1],c.length===3&&(c[2]*=n)}),e}function Qm(e){var n=e[0],s=e[1];return[s[0]-n[0],s[1]-n[1]]}function xb(e,n){return e[0]*n[1]-n[0]*e[1]}function WM(e,n){return!function(s,a){return xb(Qm(s),Qm(a))===0}(e,n)&&function(s,a){var c,h,g=s[0],y=Qm(s),w=a[0],_=Qm(a),T=xb(y,_);return function(E,P){return[E[0]+P[0],E[1]+P[1]]}(g,function(E,P){return[E*P[0],E*P[1]]}(xb((h=g,[(c=w)[0]-h[0],c[1]-h[1]]),_)/T,y))}(e,n)}function S_(e,n,s){var a=[],c=st(n,s),h=G(e),g=[];return h.forEach(function(y,w){if(w!==h.length-1){var _=(P=y,z=h[w+1],N=c,B=Math.sqrt((P[0]-z[0])*(P[0]-z[0])+(P[1]-z[1])*(P[1]-z[1])),R=P[0]+N*(z[1]-P[1])/B,Y=z[0]+N*(z[1]-P[1])/B,nt=P[1]+N*(P[0]-z[0])/B,F=z[1]+N*(P[0]-z[0])/B,[[R,nt],[Y,F]]);if(a.push(_),w>0){var T=a[w-1],E=WM(_,T);E!==!1&&(T[1]=E,_[0]=E),g.push(T[0]),w===h.length-2&&(g.push(_[0]),g.push(_[1]))}h.length===2&&(g.push(_[0]),g.push(_[1]))}var P,z,N,B,R,Y,nt,F}),k(g,e.properties)}function _b(e,n,s){var a=n[0]-e[0],c=n[1]-e[1],h=s[0]-n[0];return function(g){return(g>0)-(g<0)||+g}(a*(s[1]-n[1])-h*c)}function C_(e,n){return n.geometry.coordinates[0].every(function(s){return Je(p(s),e)})}ye[1]=ye[169]=db,ye[4]=ye[166]=pb,ye[16]=ye[154]=fb,ye[64]=ye[106]=gb,ye[168]=ye[2]=mb,ye[162]=ye[8]=vb,ye[138]=ye[32]=yb,ye[42]=ye[128]=bb,ye[5]=ye[165]=function(e){return[[0,0],[0,e.leftbottom],[1,e.rightbottom],[1,0]]},ye[20]=ye[150]=function(e){return[[1,0],[e.bottomright,0],[e.topright,1],[1,1]]},ye[80]=ye[90]=function(e){return[[1,1],[1,e.righttop],[0,e.lefttop],[0,1]]},ye[65]=ye[105]=function(e){return[[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},ye[160]=ye[10]=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.leftbottom],[0,e.lefttop]]},ye[130]=ye[40]=function(e){return[[e.topleft,1],[e.topright,1],[e.bottomright,0],[e.bottomleft,0]]},ye[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},ye[101]=ye[69]=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,1],[e.topleft,1]]},ye[149]=ye[21]=function(e){return[[e.topright,1],[1,1],[1,0],[0,0],[0,e.leftbottom]]},ye[86]=ye[84]=function(e){return[[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[1,1]]},ye[89]=ye[81]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,1]]},ye[96]=ye[74]=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.lefttop],[0,1],[e.topleft,1]]},ye[24]=ye[146]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[e.topright,1]]},ye[6]=ye[164]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop]]},ye[129]=ye[41]=function(e){return[[e.topright,1],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1]]},ye[66]=ye[104]=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},ye[144]=ye[26]=function(e){return[[1,1],[1,e.righttop],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},ye[36]=ye[134]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[e.topleft,1],[e.topright,1]]},ye[9]=ye[161]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom]]},ye[37]=ye[133]=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},ye[148]=ye[22]=function(e){return[[1,1],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},ye[82]=ye[88]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1]]},ye[73]=ye[97]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},ye[145]=ye[25]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},ye[70]=ye[100]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},ye[34]=function(e){return[bb(e),vb(e)]},ye[35]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},ye[136]=function(e){return[yb(e),mb(e)]},ye[153]=function(e){return[fb(e),db(e)]},ye[102]=function(e){return[pb(e),gb(e)]},ye[155]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},ye[103]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},ye[152]=function(e){return[fb(e),mb(e)]},ye[156]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},ye[137]=function(e){return[yb(e),db(e)]},ye[139]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},ye[98]=function(e){return[vb(e),gb(e)]},ye[99]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},ye[38]=function(e){return[pb(e),bb(e)]},ye[39]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]};var P_=function(){function e(n){this.id=e.buildId(n),this.coordinates=n,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return e.buildId=function(n){return n.join(",")},e.prototype.removeInnerEdge=function(n){this.innerEdges=this.innerEdges.filter(function(s){return s.from.id!==n.from.id})},e.prototype.removeOuterEdge=function(n){this.outerEdges=this.outerEdges.filter(function(s){return s.to.id!==n.to.id})},e.prototype.addOuterEdge=function(n){this.outerEdges.push(n),this.outerEdgesSorted=!1},e.prototype.sortOuterEdges=function(){var n=this;this.outerEdgesSorted||(this.outerEdges.sort(function(s,a){var c=s.to,h=a.to;if(c.coordinates[0]-n.coordinates[0]>=0&&h.coordinates[0]-n.coordinates[0]<0)return 1;if(c.coordinates[0]-n.coordinates[0]<0&&h.coordinates[0]-n.coordinates[0]>=0)return-1;if(c.coordinates[0]-n.coordinates[0]==0&&h.coordinates[0]-n.coordinates[0]==0)return c.coordinates[1]-n.coordinates[1]>=0||h.coordinates[1]-n.coordinates[1]>=0?c.coordinates[1]-h.coordinates[1]:h.coordinates[1]-c.coordinates[1];var g=_b(n.coordinates,c.coordinates,h.coordinates);return g<0?1:g>0?-1:Math.pow(c.coordinates[0]-n.coordinates[0],2)+Math.pow(c.coordinates[1]-n.coordinates[1],2)-(Math.pow(h.coordinates[0]-n.coordinates[0],2)+Math.pow(h.coordinates[1]-n.coordinates[1],2))}),this.outerEdgesSorted=!0)},e.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},e.prototype.getOuterEdge=function(n){return this.sortOuterEdges(),this.outerEdges[n]},e.prototype.addInnerEdge=function(n){this.innerEdges.push(n)},e}(),ZM=function(){function e(n,s){this.from=n,this.to=s,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return e.prototype.getSymetric=function(){return this.symetric||(this.symetric=new e(this.to,this.from),this.symetric.symetric=this),this.symetric},e.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},e.prototype.isEqual=function(n){return this.from.id===n.from.id&&this.to.id===n.to.id},e.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},e.prototype.toLineString=function(){return k([this.from.coordinates,this.to.coordinates])},e.prototype.compareTo=function(n){return _b(n.from.coordinates,n.to.coordinates,this.to.coordinates)},e}(),M_=function(){function e(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return e.prototype.push=function(n){this.edges.push(n),this.polygon=this.envelope=void 0},e.prototype.get=function(n){return this.edges[n]},Object.defineProperty(e.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),e.prototype.forEach=function(n){this.edges.forEach(n)},e.prototype.map=function(n){return this.edges.map(n)},e.prototype.some=function(n){return this.edges.some(n)},e.prototype.isValid=function(){return!0},e.prototype.isHole=function(){var n=this,s=this.edges.reduce(function(g,y,w){return y.from.coordinates[1]>n.edges[g].from.coordinates[1]&&(g=w),g},0),a=(s===0?this.length:s)-1,c=(s+1)%this.length,h=_b(this.edges[a].from.coordinates,this.edges[s].from.coordinates,this.edges[c].from.coordinates);return h===0?this.edges[a].from.coordinates[0]>this.edges[c].from.coordinates[0]:h>0},e.prototype.toMultiPoint=function(){return D(this.edges.map(function(n){return n.from.coordinates}))},e.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var n=this.edges.map(function(s){return s.from.coordinates});return n.push(this.edges[0].from.coordinates),this.polygon=v([n])},e.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=Vh(this.toPolygon())},e.findEdgeRingContaining=function(n,s){var a,c,h=n.getEnvelope();return s.forEach(function(g){var y,w,_,T,E,P,z=g.getEnvelope();if(c&&(a=c.getEnvelope()),w=h,_=(y=z).geometry.coordinates[0].map(function(F){return F[0]}),T=y.geometry.coordinates[0].map(function(F){return F[1]}),E=w.geometry.coordinates[0].map(function(F){return F[0]}),P=w.geometry.coordinates[0].map(function(F){return F[1]}),(Math.max.apply(null,_)!==Math.max.apply(null,E)||Math.max.apply(null,T)!==Math.max.apply(null,P)||Math.min.apply(null,_)!==Math.min.apply(null,E)||Math.min.apply(null,T)!==Math.min.apply(null,P))&&C_(z,h)){for(var N=n.map(function(F){return F.from.coordinates}),B=void 0,R=function(F){g.some(function(Z){return X=F,tt=Z.from.coordinates,X[0]===tt[0]&&X[1]===tt[1];var X,tt})||(B=F)},Y=0,nt=N;Y<nt.length;Y++)R(nt[Y]);B&&g.inside(p(B))&&(c&&!C_(a,z)||(c=g))}}),c},e.prototype.inside=function(n){return Je(n,this.toPolygon())},e}(),YM=function(){function e(){this.edges=[],this.nodes={}}return e.fromGeoJson=function(n){(function(a){if(!a)throw new Error("No geojson passed");if(a.type!=="FeatureCollection"&&a.type!=="GeometryCollection"&&a.type!=="MultiLineString"&&a.type!=="LineString"&&a.type!=="Feature")throw new Error("Invalid input type '"+a.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")})(n);var s=new e;return ae(n,function(a){pt(a,"LineString","Graph::fromGeoJson"),Dt(a,function(c,h){if(c){var g=s.getNode(c),y=s.getNode(h);s.addEdge(g,y)}return h})}),s},e.prototype.getNode=function(n){var s=P_.buildId(n),a=this.nodes[s];return a||(a=this.nodes[s]=new P_(n)),a},e.prototype.addEdge=function(n,s){var a=new ZM(n,s),c=a.getSymetric();this.edges.push(a),this.edges.push(c)},e.prototype.deleteDangles=function(){var n=this;Object.keys(this.nodes).map(function(s){return n.nodes[s]}).forEach(function(s){return n._removeIfDangle(s)})},e.prototype._removeIfDangle=function(n){var s=this;if(n.innerEdges.length<=1){var a=n.getOuterEdges().map(function(c){return c.to});this.removeNode(n),a.forEach(function(c){return s._removeIfDangle(c)})}},e.prototype.deleteCutEdges=function(){var n=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(s){s.label===s.symetric.label&&(n.removeEdge(s.symetric),n.removeEdge(s))})},e.prototype._computeNextCWEdges=function(n){var s=this;n===void 0?Object.keys(this.nodes).forEach(function(a){return s._computeNextCWEdges(s.nodes[a])}):n.getOuterEdges().forEach(function(a,c){n.getOuterEdge((c===0?n.getOuterEdges().length:c)-1).symetric.next=a})},e.prototype._computeNextCCWEdges=function(n,s){for(var a,c,h=n.getOuterEdges(),g=h.length-1;g>=0;--g){var y=h[g],w=y.symetric,_=void 0,T=void 0;y.label===s&&(_=y),w.label===s&&(T=w),_&&T&&(T&&(c=T),_&&(c&&(c.next=_,c=void 0),a||(a=_)))}c&&(c.next=a)},e.prototype._findLabeledEdgeRings=function(){var n=[],s=0;return this.edges.forEach(function(a){if(!(a.label>=0)){n.push(a);var c=a;do c.label=s,c=c.next;while(!a.isEqual(c));s++}}),n},e.prototype.getEdgeRings=function(){var n=this;this._computeNextCWEdges(),this.edges.forEach(function(a){a.label=void 0}),this._findLabeledEdgeRings().forEach(function(a){n._findIntersectionNodes(a).forEach(function(c){n._computeNextCCWEdges(c,a.label)})});var s=[];return this.edges.forEach(function(a){a.ring||s.push(n._findEdgeRing(a))}),s},e.prototype._findIntersectionNodes=function(n){var s=[],a=n,c=function(){var h=0;a.from.getOuterEdges().forEach(function(g){g.label===n.label&&++h}),h>1&&s.push(a.from),a=a.next};do c();while(!n.isEqual(a));return s},e.prototype._findEdgeRing=function(n){var s=n,a=new M_;do a.push(s),s.ring=a,s=s.next;while(!n.isEqual(s));return a},e.prototype.removeNode=function(n){var s=this;n.getOuterEdges().forEach(function(a){return s.removeEdge(a)}),n.innerEdges.forEach(function(a){return s.removeEdge(a)}),delete this.nodes[n.id]},e.prototype.removeEdge=function(n){this.edges=this.edges.filter(function(s){return!s.isEqual(n)}),n.deleteEdge()},e}();function I_(e,n){var s=!0;return ae(e,function(a){ae(n,function(c){if(s===!1)return!1;s=function(h,g){switch(h.type){case"Point":switch(g.type){case"Point":return y=h.coordinates,w=g.coordinates,!(y[0]===w[0]&&y[1]===w[1]);case"LineString":return!L_(g,h);case"Polygon":return!Je(h,g)}break;case"LineString":switch(g.type){case"Point":return!L_(h,g);case"LineString":return!function(_,T){return dn(_,T).features.length>0}(h,g);case"Polygon":return!A_(g,h)}break;case"Polygon":switch(g.type){case"Point":return!Je(g,h);case"LineString":return!A_(h,g);case"Polygon":return!function(_,T){for(var E=0,P=_.coordinates[0];E<P.length;E++)if(Je(P[E],T))return!0;for(var z=0,N=T.coordinates[0];z<N.length;z++)if(Je(N[z],_))return!0;return dn(zn(_),zn(T)).features.length>0}(g,h)}}var y,w;return!1}(a.geometry,c.geometry)})}),s}function L_(e,n){for(var s=0;s<e.coordinates.length-1;s++)if(XM(e.coordinates[s],e.coordinates[s+1],n.coordinates))return!0;return!1}function A_(e,n){for(var s=0,a=n.coordinates;s<a.length;s++)if(Je(a[s],e))return!0;return dn(n,zn(e)).features.length>0}function XM(e,n,s){var a=s[0]-e[0],c=s[1]-e[1],h=n[0]-e[0],g=n[1]-e[1];return a*g-c*h==0&&(Math.abs(h)>=Math.abs(g)?h>0?e[0]<=s[0]&&s[0]<=n[0]:n[0]<=s[0]&&s[0]<=e[0]:g>0?e[1]<=s[1]&&s[1]<=n[1]:n[1]<=s[1]&&s[1]<=e[1])}function R_(e,n){return!(e[0]>n[0])&&!(e[2]<n[2])&&!(e[1]>n[1])&&!(e[3]<n[3])}function kb(e,n){return e[0]===n[0]&&e[1]===n[1]}function KM(e,n){return[(e[0]+n[0])/2,(e[1]+n[1])/2]}function O_(e,n){for(var s=!1,a=!1,c=e.coordinates.length,h=0;h<c&&!s&&!a;){for(var g=0;g<n.coordinates.length-1;g++){var y=!0;g!==0&&g!==n.coordinates.length-2||(y=!1),D_(n.coordinates[g],n.coordinates[g+1],e.coordinates[h],y)?s=!0:a=!0}h++}return s&&a}function z_(e,n){return dn(e,Yn(n)).features.length>0}function N_(e,n){for(var s=!1,a=!1,c=e.coordinates.length,h=0;h<c&&(!s||!a);h++)Je(p(e.coordinates[h]),n)?s=!0:a=!0;return a&&s}function D_(e,n,s,a){var c=s[0]-e[0],h=s[1]-e[1],g=n[0]-e[0],y=n[1]-e[1];return c*y-h*g==0&&(a?Math.abs(g)>=Math.abs(y)?g>0?e[0]<=s[0]&&s[0]<=n[0]:n[0]<=s[0]&&s[0]<=e[0]:y>0?e[1]<=s[1]&&s[1]<=n[1]:n[1]<=s[1]&&s[1]<=e[1]:Math.abs(g)>=Math.abs(y)?g>0?e[0]<s[0]&&s[0]<n[0]:n[0]<s[0]&&s[0]<e[0]:y>0?e[1]<s[1]&&s[1]<n[1]:n[1]<s[1]&&s[1]<e[1])}var Ga=function(e){this.precision=e&&e.precision?e.precision:17,this.direction=!(!e||!e.direction)&&e.direction,this.pseudoNode=!(!e||!e.pseudoNode)&&e.pseudoNode,this.objectComparator=e&&e.objectComparator?e.objectComparator:JM};function F_(e){return e.coordinates.map(function(n){return{type:e.type.replace("Multi",""),coordinates:n}})}function B_(e,n){return e.hasOwnProperty("coordinates")?e.coordinates.length===n.coordinates.length:e.length===n.length}function JM(e,n){return zc(e,n,{strict:!0})}Ga.prototype.compare=function(e,n){if(e.type!==n.type||!B_(e,n))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,n.coordinates);case"LineString":return this.compareLine(e.coordinates,n.coordinates,0,!1);case"Polygon":return this.comparePolygon(e,n);case"Feature":return this.compareFeature(e,n);default:if(e.type.indexOf("Multi")===0){var s=this,a=F_(e),c=F_(n);return a.every(function(h){return this.some(function(g){return s.compare(h,g)})},c)}}return!1},Ga.prototype.compareCoord=function(e,n){if(e.length!==n.length)return!1;for(var s=0;s<e.length;s++)if(e[s].toFixed(this.precision)!==n[s].toFixed(this.precision))return!1;return!0},Ga.prototype.compareLine=function(e,n,s,a){if(!B_(e,n))return!1;var c=this.pseudoNode?e:this.removePseudo(e),h=this.pseudoNode?n:this.removePseudo(n);if(!a||this.compareCoord(c[0],h[0])||(h=this.fixStartIndex(h,c))){var g=this.compareCoord(c[s],h[s]);return this.direction||g?this.comparePath(c,h):!!this.compareCoord(c[s],h[h.length-(1+s)])&&this.comparePath(c.slice().reverse(),h)}},Ga.prototype.fixStartIndex=function(e,n){for(var s,a=-1,c=0;c<e.length;c++)if(this.compareCoord(e[c],n[0])){a=c;break}return a>=0&&(s=[].concat(e.slice(a,e.length),e.slice(1,a+1))),s},Ga.prototype.comparePath=function(e,n){var s=this;return e.every(function(a,c){return s.compareCoord(a,this[c])},n)},Ga.prototype.comparePolygon=function(e,n){if(this.compareLine(e.coordinates[0],n.coordinates[0],1,!0)){var s=e.coordinates.slice(1,e.coordinates.length),a=n.coordinates.slice(1,n.coordinates.length),c=this;return s.every(function(h){return this.some(function(g){return c.compareLine(h,g,1,!0)})},a)}return!1},Ga.prototype.compareFeature=function(e,n){return!(e.id!==n.id||!this.objectComparator(e.properties,n.properties)||!this.compareBBox(e,n))&&this.compare(e.geometry,n.geometry)},Ga.prototype.compareBBox=function(e,n){return!!(!e.bbox&&!n.bbox||e.bbox&&n.bbox&&this.compareCoord(e.bbox,n.bbox))},Ga.prototype.removePseudo=function(e){return e};var j_=Ga;function H_(e,n){var s=!1;return ae(e,function(a){ae(n,function(c){if(s===!0)return!0;s=!I_(a.geometry,c.geometry)})}),s}var QM=is(function(e){function n(s,a,c,h){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(s,a,c,h)}n.prototype.run=function(s,a,c,h){this._init(s,a,c,h);for(var g=0;g<this._datasetLength;g++)if(this._visited[g]!==1){this._visited[g]=1;var y=this._regionQuery(g);if(y.length<this.minPts)this.noise.push(g);else{var w=this.clusters.length;this.clusters.push([]),this._addToCluster(g,w),this._expandCluster(w,y)}}return this.clusters},n.prototype._init=function(s,a,c,h){if(s){if(!(s instanceof Array))throw Error("Dataset must be of type array, "+typeof s+" given");this.dataset=s,this.clusters=[],this.noise=[],this._datasetLength=s.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}a&&(this.epsilon=a),c&&(this.minPts=c),h&&(this.distance=h)},n.prototype._expandCluster=function(s,a){for(var c=0;c<a.length;c++){var h=a[c];if(this._visited[h]!==1){this._visited[h]=1;var g=this._regionQuery(h);g.length>=this.minPts&&(a=this._mergeArrays(a,g))}this._assigned[h]!==1&&this._addToCluster(h,s)}},n.prototype._addToCluster=function(s,a){this.clusters[a].push(s),this._assigned[s]=1},n.prototype._regionQuery=function(s){for(var a=[],c=0;c<this._datasetLength;c++)this.distance(this.dataset[s],this.dataset[c])<this.epsilon&&a.push(c);return a},n.prototype._mergeArrays=function(s,a){for(var c=a.length,h=0;h<c;h++){var g=a[h];s.indexOf(g)<0&&s.push(g)}return s},n.prototype._euclideanDistance=function(s,a){for(var c=0,h=Math.min(s.length,a.length);h--;)c+=(s[h]-a[h])*(s[h]-a[h]);return Math.sqrt(c)},e.exports&&(e.exports=n)}),$M=is(function(e){function n(s,a,c){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(s,a,c)}n.prototype.init=function(s,a,c){this.assignments=[],this.centroids=[],s!==void 0&&(this.dataset=s),a!==void 0&&(this.k=a),c!==void 0&&(this.distance=c)},n.prototype.run=function(s,a){this.init(s,a);for(var c=this.dataset.length,h=0;h<this.k;h++)this.centroids[h]=this.randomCentroid();for(var g=!0;g;){g=this.assign();for(var y=0;y<this.k;y++){for(var w=new Array(P),_=0,T=0;T<P;T++)w[T]=0;for(var E=0;E<c;E++){var P=this.dataset[E].length;if(y===this.assignments[E]){for(T=0;T<P;T++)w[T]+=this.dataset[E][T];_++}}if(_>0){for(T=0;T<P;T++)w[T]/=_;this.centroids[y]=w}else this.centroids[y]=this.randomCentroid(),g=!0}}return this.getClusters()},n.prototype.randomCentroid=function(){var s,a,c=this.dataset.length-1;do a=Math.round(Math.random()*c),s=this.dataset[a];while(this.centroids.indexOf(s)>=0);return s},n.prototype.assign=function(){for(var s,a=!1,c=this.dataset.length,h=0;h<c;h++)(s=this.argmin(this.dataset[h],this.centroids,this.distance))!=this.assignments[h]&&(this.assignments[h]=s,a=!0);return a},n.prototype.getClusters=function(){for(var s,a=new Array(this.k),c=0;c<this.assignments.length;c++)a[s=this.assignments[c]]===void 0&&(a[s]=[]),a[s].push(c);return a},n.prototype.argmin=function(s,a,c){for(var h,g=Number.MAX_VALUE,y=0,w=a.length,_=0;_<w;_++)(h=c(s,a[_]))<g&&(g=h,y=_);return y},n.prototype.distance=function(s,a){for(var c=0,h=Math.min(s.length,a.length);h--;){var g=s[h]-a[h];c+=g*g}return Math.sqrt(c)},e.exports&&(e.exports=n)}),U_=is(function(e){function n(s,a,c){this._queue=[],this._priorities=[],this._sorting="desc",this._init(s,a,c)}n.prototype.insert=function(s,a){for(var c=this._queue.length,h=c;h--;){var g=this._priorities[h];this._sorting==="desc"?a>g&&(c=h):a<g&&(c=h)}this._insertAt(s,a,c)},n.prototype.remove=function(s){for(var a=this._queue.length;a--;)if(s===this._queue[a]){this._queue.splice(a,1),this._priorities.splice(a,1);break}},n.prototype.forEach=function(s){this._queue.forEach(s)},n.prototype.getElements=function(){return this._queue},n.prototype.getElementPriority=function(s){return this._priorities[s]},n.prototype.getPriorities=function(){return this._priorities},n.prototype.getElementsWithPriorities=function(){for(var s=[],a=0,c=this._queue.length;a<c;a++)s.push([this._queue[a],this._priorities[a]]);return s},n.prototype._init=function(s,a,c){if(s&&a){if(this._queue=[],this._priorities=[],s.length!==a.length)throw new Error("Arrays must have the same length");for(var h=0;h<s.length;h++)this.insert(s[h],a[h])}c&&(this._sorting=c)},n.prototype._insertAt=function(s,a,c){this._queue.length===c?(this._queue.push(s),this._priorities.push(a)):(this._queue.splice(c,0,s),this._priorities.splice(c,0,a))},e.exports&&(e.exports=n)}),tI=is(function(e){if(e.exports)var n=U_;function s(a,c,h,g){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(a,c,h,g)}s.prototype.run=function(a,c,h,g){this._init(a,c,h,g);for(var y=0,w=this.dataset.length;y<w;y++)if(this._processed[y]!==1){this._processed[y]=1,this.clusters.push([y]);var _=this.clusters.length-1;this._orderedList.push(y);var T=new n(null,null,"asc"),E=this._regionQuery(y);this._distanceToCore(y)!==void 0&&(this._updateQueue(y,E,T),this._expandCluster(_,T))}return this.clusters},s.prototype.getReachabilityPlot=function(){for(var a=[],c=0,h=this._orderedList.length;c<h;c++){var g=this._orderedList[c],y=this._reachability[g];a.push([g,y])}return a},s.prototype._init=function(a,c,h,g){if(a){if(!(a instanceof Array))throw Error("Dataset must be of type array, "+typeof a+" given");this.dataset=a,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}c&&(this.epsilon=c),h&&(this.minPts=h),g&&(this.distance=g)},s.prototype._updateQueue=function(a,c,h){var g=this;this._coreDistance=this._distanceToCore(a),c.forEach(function(y){if(g._processed[y]===void 0){var w=g.distance(g.dataset[a],g.dataset[y]),_=Math.max(g._coreDistance,w);g._reachability[y]===void 0?(g._reachability[y]=_,h.insert(y,_)):_<g._reachability[y]&&(g._reachability[y]=_,h.remove(y),h.insert(y,_))}})},s.prototype._expandCluster=function(a,c){for(var h=c.getElements(),g=0,y=h.length;g<y;g++){var w=h[g];if(this._processed[w]===void 0){var _=this._regionQuery(w);this._processed[w]=1,this.clusters[a].push(w),this._orderedList.push(w),this._distanceToCore(w)!==void 0&&(this._updateQueue(w,_,c),this._expandCluster(a,c))}}},s.prototype._distanceToCore=function(a){for(var c=this.epsilon,h=0;h<c;h++)if(this._regionQuery(a,h).length>=this.minPts)return h},s.prototype._regionQuery=function(a,c){c=c||this.epsilon;for(var h=[],g=0,y=this.dataset.length;g<y;g++)this.distance(this.dataset[a],this.dataset[g])<c&&h.push(g);return h},s.prototype._euclideanDistance=function(a,c){for(var h=0,g=Math.min(a.length,c.length);g--;)h+=(a[g]-c[g])*(a[g]-c[g]);return Math.sqrt(h)},e.exports&&(e.exports=s)}),eI=is(function(e){e.exports&&(e.exports={DBSCAN:QM,KMEANS:$M,OPTICS:tI,PriorityQueue:U_})}),G_=function(e,n,s){for(var a=e.length,c=0,h=0;h<a;h++){var g=(e[h]||0)-(n[h]||0);c+=g*g}return s?Math.sqrt(c):c},rI=G_,iI=function(e,n,s){var a=Math.abs(e-n);return s?a:a*a},nI=G_,oI=function(e,n){for(var s={},a=[],c=n<<2,h=e.length,g=e[0].length>0;a.length<n&&c-- >0;){var y=e[Math.floor(Math.random()*h)],w=g?y.join("_"):""+y;s[w]||(s[w]=!0,a.push(y))}if(a.length<n)throw new Error("Error initializating clusters");return a},sI=function(e,n){var s=e[0].length?rI:iI,a=[],c=e.length,h=e[0].length>0,g=e[Math.floor(Math.random()*c)];for(h&&g.join("_"),a.push(g);a.length<n;){for(var y=[],w=a.length,_=0,T=[],E=0;E<c;E++){for(var P=1/0,z=0;z<w;z++){var N=s(e[E],a[z]);N<=P&&(P=N)}y[E]=P}for(var B=0;B<c;B++)_+=y[B];for(var R=0;R<c;R++)T[R]={i:R,v:e[R],pr:y[R]/_,cs:0};T.sort(function(Z,X){return Z.pr-X.pr}),T[0].cs=T[0].pr;for(var Y=1;Y<c;Y++)T[Y].cs=T[Y-1].cs+T[Y].pr;for(var nt=Math.random(),F=0;F<c-1&&T[F++].cs<nt;);a.push(T[F-1].v)}return a};function q_(e,n,s){s=s||[];for(var a=0;a<e;a++)s[a]=n;return s}var aI=function(e,n,s,a){var c=[],h=[],g=[],y=[],w=!1,_=a||1e4,T=e.length,E=e[0].length,P=E>0,z=[];if(s)c=s=="kmrand"?oI(e,n):s=="kmpp"?sI(e,n):s;else for(var N={};c.length<n;){var B=Math.floor(Math.random()*T);N[B]||(N[B]=!0,c.push(e[B]))}do{q_(n,0,z);for(var R=0;R<T;R++){for(var Y=1/0,nt=0,F=0;F<n;F++)(y=P?nI(e[R],c[F]):Math.abs(e[R]-c[F]))<=Y&&(Y=y,nt=F);g[R]=nt,z[nt]++}for(var Z=[],X=(h=[],0);X<n;X++)Z[X]=P?q_(E,0,Z[X]):0,h[X]=c[X];if(P){for(var tt=0;tt<n;tt++)c[tt]=[];for(var Q=0;Q<T;Q++)for(var Bt=Z[g[Q]],Tt=e[Q],Ut=0;Ut<E;Ut++)Bt[Ut]+=Tt[Ut];w=!0;for(var Ct=0;Ct<n;Ct++){for(var Wt=c[Ct],Rt=Z[Ct],It=h[Ct],Pt=z[Ct],qt=0;qt<E;qt++)Wt[qt]=Rt[qt]/Pt||0;if(w){for(var Nt=0;Nt<E;Nt++)if(It[Nt]!=Wt[Nt]){w=!1;break}}}}else{for(var Yt=0;Yt<T;Yt++)Z[g[Yt]]+=e[Yt];for(var vt=0;vt<n;vt++)c[vt]=Z[vt]/z[vt]||0;w=!0;for(var Le=0;Le<n;Le++)if(h[Le]!=c[Le]){w=!1;break}}w=w||--_<=0}while(!w);return{it:1e4-_,k:n,idxs:g,centroids:c}};function lI(e,n){return mt(Dl(e[0],e[1]))===mt(Dl(n[0],n[1]))}function V_(e,n){if(e.geometry&&e.geometry.type)return e.geometry.type;if(e.type)return e.type;throw new Error("Invalid GeoJSON object for "+n)}function W_(e){for(var n=e,s=[];n.parent;)s.unshift(n),n=n.parent;return s}var $m={search:function(e,n,s,a){e.cleanDirty();var c=(a=a||{}).heuristic||$m.heuristics.manhattan,h=a.closest||!1,g=new Z_(function(B){return B.f}),y=n;for(n.h=c(n,s),g.push(n);g.size()>0;){var w=g.pop();if(w===s)return W_(w);w.closed=!0;for(var _=e.neighbors(w),T=0,E=_.length;T<E;++T){var P=_[T];if(!P.closed&&!P.isWall()){var z=w.g+P.getCost(w),N=P.visited;(!N||z<P.g)&&(P.visited=!0,P.parent=w,P.h=P.h||c(P,s),P.g=z,P.f=P.g+P.h,e.markDirty(P),h&&(P.h<y.h||P.h===y.h&&P.g<y.g)&&(y=P),N?g.rescoreElement(P):g.push(P))}}}return h?W_(y):[]},heuristics:{manhattan:function(e,n){return Math.abs(n.x-e.x)+Math.abs(n.y-e.y)},diagonal:function(e,n){var s=Math.sqrt(2),a=Math.abs(n.x-e.x),c=Math.abs(n.y-e.y);return 1*(a+c)+(s-2)*Math.min(a,c)}},cleanNode:function(e){e.f=0,e.g=0,e.h=0,e.visited=!1,e.closed=!1,e.parent=null}};function hd(e,n){n=n||{},this.nodes=[],this.diagonal=!!n.diagonal,this.grid=[];for(var s=0;s<e.length;s++){this.grid[s]=[];for(var a=0,c=e[s];a<c.length;a++){var h=new t0(s,a,c[a]);this.grid[s][a]=h,this.nodes.push(h)}}this.init()}function t0(e,n,s){this.x=e,this.y=n,this.weight=s}function Z_(e){this.content=[],this.scoreFunction=e}function cI(e,n){for(var s=0;s<n.features.length;s++)if(Je(e,n.features[s]))return!0;return!1}function Y_(e){return function(){return e}}function uI(e){return e[0]}function hI(e){return e[1]}function e0(){this._=null}function r0(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function pf(e,n){var s=n,a=n.R,c=s.U;c?c.L===s?c.L=a:c.R=a:e._=a,a.U=c,s.U=a,s.R=a.L,s.R&&(s.R.U=s),a.L=s}function ff(e,n){var s=n,a=n.L,c=s.U;c?c.L===s?c.L=a:c.R=a:e._=a,a.U=c,s.U=a,s.L=a.R,s.L&&(s.L.U=s),a.R=s}function X_(e){for(;e.L;)e=e.L;return e}function gf(e,n,s,a){var c=[null,null],h=so.push(c)-1;return c.left=e,c.right=n,s&&i0(c,e,n,s),a&&i0(c,n,e,a),ss[e.index].halfedges.push(h),ss[n.index].halfedges.push(h),c}function mf(e,n,s){var a=[n,s];return a.left=e,a}function i0(e,n,s,a){e[0]||e[1]?e.left===s?e[1]=a:e[0]=a:(e[0]=a,e.left=n,e.right=s)}function dI(e,n,s,a,c){var h,g=e[0],y=e[1],w=g[0],_=g[1],T=0,E=1,P=y[0]-w,z=y[1]-_;if(h=n-w,P||!(h>0)){if(h/=P,P<0){if(h<T)return;h<E&&(E=h)}else if(P>0){if(h>E)return;h>T&&(T=h)}if(h=a-w,P||!(h<0)){if(h/=P,P<0){if(h>E)return;h>T&&(T=h)}else if(P>0){if(h<T)return;h<E&&(E=h)}if(h=s-_,z||!(h>0)){if(h/=z,z<0){if(h<T)return;h<E&&(E=h)}else if(z>0){if(h>E)return;h>T&&(T=h)}if(h=c-_,z||!(h<0)){if(h/=z,z<0){if(h>E)return;h>T&&(T=h)}else if(z>0){if(h<T)return;h<E&&(E=h)}return!(T>0||E<1)||(T>0&&(e[0]=[w+T*P,_+T*z]),E<1&&(e[1]=[w+E*P,_+E*z]),!0)}}}}}function pI(e,n,s,a,c){var h=e[1];if(h)return!0;var g,y,w=e[0],_=e.left,T=e.right,E=_[0],P=_[1],z=T[0],N=T[1],B=(E+z)/2,R=(P+N)/2;if(N===P){if(B<n||B>=a)return;if(E>z){if(w){if(w[1]>=c)return}else w=[B,s];h=[B,c]}else{if(w){if(w[1]<s)return}else w=[B,c];h=[B,s]}}else if(y=R-(g=(E-z)/(N-P))*B,g<-1||g>1)if(E>z){if(w){if(w[1]>=c)return}else w=[(s-y)/g,s];h=[(c-y)/g,c]}else{if(w){if(w[1]<s)return}else w=[(c-y)/g,c];h=[(s-y)/g,s]}else if(P<N){if(w){if(w[0]>=a)return}else w=[n,g*n+y];h=[a,g*a+y]}else{if(w){if(w[0]<n)return}else w=[a,g*a+y];h=[n,g*n+y]}return e[0]=w,e[1]=h,!0}function fI(e,n){var s=e.site,a=n.left,c=n.right;return s===c&&(c=a,a=s),c?Math.atan2(c[1]-a[1],c[0]-a[0]):(s===a?(a=n[1],c=n[0]):(a=n[0],c=n[1]),Math.atan2(a[0]-c[0],c[1]-a[1]))}function K_(e,n){return n[+(n.left!==e.site)]}function gI(e,n){return n[+(n.left===e.site)]}hd.prototype.init=function(){this.dirtyNodes=[];for(var e=0;e<this.nodes.length;e++)$m.cleanNode(this.nodes[e])},hd.prototype.cleanDirty=function(){for(var e=0;e<this.dirtyNodes.length;e++)$m.cleanNode(this.dirtyNodes[e]);this.dirtyNodes=[]},hd.prototype.markDirty=function(e){this.dirtyNodes.push(e)},hd.prototype.neighbors=function(e){var n=[],s=e.x,a=e.y,c=this.grid;return c[s-1]&&c[s-1][a]&&n.push(c[s-1][a]),c[s+1]&&c[s+1][a]&&n.push(c[s+1][a]),c[s]&&c[s][a-1]&&n.push(c[s][a-1]),c[s]&&c[s][a+1]&&n.push(c[s][a+1]),this.diagonal&&(c[s-1]&&c[s-1][a-1]&&n.push(c[s-1][a-1]),c[s+1]&&c[s+1][a-1]&&n.push(c[s+1][a-1]),c[s-1]&&c[s-1][a+1]&&n.push(c[s-1][a+1]),c[s+1]&&c[s+1][a+1]&&n.push(c[s+1][a+1])),n},hd.prototype.toString=function(){for(var e,n,s,a,c=[],h=this.grid,g=0,y=h.length;g<y;g++){for(e=[],s=0,a=(n=h[g]).length;s<a;s++)e.push(n[s].weight);c.push(e.join(" "))}return c.join(`
`)},t0.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},t0.prototype.getCost=function(e){return e&&e.x!==this.x&&e.y!==this.y?1.41421*this.weight:this.weight},t0.prototype.isWall=function(){return this.weight===0},Z_.prototype={push:function(e){this.content.push(e),this.sinkDown(this.content.length-1)},pop:function(){var e=this.content[0],n=this.content.pop();return this.content.length>0&&(this.content[0]=n,this.bubbleUp(0)),e},remove:function(e){var n=this.content.indexOf(e),s=this.content.pop();n!==this.content.length-1&&(this.content[n]=s,this.scoreFunction(s)<this.scoreFunction(e)?this.sinkDown(n):this.bubbleUp(n))},size:function(){return this.content.length},rescoreElement:function(e){this.sinkDown(this.content.indexOf(e))},sinkDown:function(e){for(var n=this.content[e];e>0;){var s=(e+1>>1)-1,a=this.content[s];if(!(this.scoreFunction(n)<this.scoreFunction(a)))break;this.content[s]=n,this.content[e]=a,e=s}},bubbleUp:function(e){for(var n=this.content.length,s=this.content[e],a=this.scoreFunction(s);;){var c,h=e+1<<1,g=h-1,y=null;if(g<n){var w=this.content[g];(c=this.scoreFunction(w))<a&&(y=g)}if(h<n){var _=this.content[h];this.scoreFunction(_)<(y===null?a:c)&&(y=h)}if(y===null)break;this.content[e]=this.content[y],this.content[y]=s,e=y}}},e0.prototype={constructor:e0,insert:function(e,n){var s,a,c;if(e){if(n.P=e,n.N=e.N,e.N&&(e.N.P=n),e.N=n,e.R){for(e=e.R;e.L;)e=e.L;e.L=n}else e.R=n;s=e}else this._?(e=X_(this._),n.P=null,n.N=e,e.P=e.L=n,s=e):(n.P=n.N=null,this._=n,s=null);for(n.L=n.R=null,n.U=s,n.C=!0,e=n;s&&s.C;)s===(a=s.U).L?(c=a.R)&&c.C?(s.C=c.C=!1,a.C=!0,e=a):(e===s.R&&(pf(this,s),s=(e=s).U),s.C=!1,a.C=!0,ff(this,a)):(c=a.L)&&c.C?(s.C=c.C=!1,a.C=!0,e=a):(e===s.L&&(ff(this,s),s=(e=s).U),s.C=!1,a.C=!0,pf(this,a)),s=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var n,s,a,c=e.U,h=e.L,g=e.R;if(s=h?g?X_(g):h:g,c?c.L===e?c.L=s:c.R=s:this._=s,h&&g?(a=s.C,s.C=e.C,s.L=h,h.U=s,s!==g?(c=s.U,s.U=e.U,e=s.R,c.L=e,s.R=g,g.U=s):(s.U=c,c=s,e=s.R)):(a=e.C,e=s),e&&(e.U=c),!a)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===c.L){if((n=c.R).C&&(n.C=!1,c.C=!0,pf(this,c),n=c.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,ff(this,n),n=c.R),n.C=c.C,c.C=n.R.C=!1,pf(this,c),e=this._;break}}else if((n=c.L).C&&(n.C=!1,c.C=!0,ff(this,c),n=c.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,pf(this,n),n=c.L),n.C=c.C,c.C=n.L.C=!1,ff(this,c),e=this._;break}n.C=!0,e=c,c=c.U}while(!e.C);e&&(e.C=!1)}}};var Eb,J_=[];function mI(){r0(this),this.x=this.y=this.arc=this.site=this.cy=null}function dd(e){var n=e.P,s=e.N;if(n&&s){var a=n.site,c=e.site,h=s.site;if(a!==h){var g=c[0],y=c[1],w=a[0]-g,_=a[1]-y,T=h[0]-g,E=h[1]-y,P=2*(w*E-_*T);if(!(P>=-xI)){var z=w*w+_*_,N=T*T+E*E,B=(E*z-_*N)/P,R=(w*N-T*z)/P,Y=J_.pop()||new mI;Y.arc=e,Y.site=c,Y.x=B+g,Y.y=(Y.cy=R+y)+Math.sqrt(B*B+R*R),e.circle=Y;for(var nt=null,F=vf._;F;)if(Y.y<F.y||Y.y===F.y&&Y.x<=F.x){if(!F.L){nt=F.P;break}F=F.L}else{if(!F.R){nt=F;break}F=F.R}vf.insert(nt,Y),nt||(Eb=Y)}}}}function pd(e){var n=e.circle;n&&(n.P||(Eb=n.N),vf.remove(n),J_.push(n),r0(n),e.circle=null)}var Q_=[];function vI(){r0(this),this.edge=this.site=this.circle=null}function $_(e){var n=Q_.pop()||new vI;return n.site=e,n}function Tb(e){pd(e),fd.remove(e),Q_.push(e),r0(e)}function yI(e){var n=e.circle,s=n.x,a=n.cy,c=[s,a],h=e.P,g=e.N,y=[e];Tb(e);for(var w=h;w.circle&&Math.abs(s-w.circle.x)<wi&&Math.abs(a-w.circle.cy)<wi;)h=w.P,y.unshift(w),Tb(w),w=h;y.unshift(w),pd(w);for(var _=g;_.circle&&Math.abs(s-_.circle.x)<wi&&Math.abs(a-_.circle.cy)<wi;)g=_.N,y.push(_),Tb(_),_=g;y.push(_),pd(_);var T,E=y.length;for(T=1;T<E;++T)_=y[T],w=y[T-1],i0(_.edge,w.site,_.site,c);w=y[0],(_=y[E-1]).edge=gf(w.site,_.site,null,c),dd(w),dd(_)}function bI(e){for(var n,s,a,c,h=e[0],g=e[1],y=fd._;y;)if((a=tk(y,g)-h)>wi)y=y.L;else{if(!((c=h-wI(y,g))>wi)){a>-wi?(n=y.P,s=y):c>-wi?(n=y,s=y.N):n=s=y;break}if(!y.R){n=y;break}y=y.R}(function(X){ss[X.index]={site:X,halfedges:[]}})(e);var w=$_(e);if(fd.insert(n,w),n||s){if(n===s)return pd(n),s=$_(n.site),fd.insert(w,s),w.edge=s.edge=gf(n.site,w.site),dd(n),void dd(s);if(s){pd(n),pd(s);var _=n.site,T=_[0],E=_[1],P=e[0]-T,z=e[1]-E,N=s.site,B=N[0]-T,R=N[1]-E,Y=2*(P*R-z*B),nt=P*P+z*z,F=B*B+R*R,Z=[(R*nt-z*F)/Y+T,(P*F-B*nt)/Y+E];i0(s.edge,_,N,Z),w.edge=gf(_,e,null,Z),s.edge=gf(e,N,null,Z),dd(n),dd(s)}else w.edge=gf(n.site,w.site)}}function tk(e,n){var s=e.site,a=s[0],c=s[1],h=c-n;if(!h)return a;var g=e.P;if(!g)return-1/0;var y=(s=g.site)[0],w=s[1],_=w-n;if(!_)return y;var T=y-a,E=1/h-1/_,P=T/_;return E?(-P+Math.sqrt(P*P-2*E*(T*T/(-2*_)-w+_/2+c-h/2)))/E+a:(a+y)/2}function wI(e,n){var s=e.N;if(s)return tk(s,n);var a=e.site;return a[1]===n?a[0]:1/0}var fd,ss,vf,so,wi=1e-6,xI=1e-12;function _I(e,n){return n[1]-e[1]||n[0]-e[0]}function Sb(e,n){var s,a,c,h=e.sort(_I).pop();for(so=[],ss=new Array(e.length),fd=new e0,vf=new e0;;)if(c=Eb,h&&(!c||h[1]<c.y||h[1]===c.y&&h[0]<c.x))h[0]===s&&h[1]===a||(bI(h),s=h[0],a=h[1]),h=e.pop();else{if(!c)break;yI(c.arc)}if(function(){for(var T,E,P,z,N=0,B=ss.length;N<B;++N)if((T=ss[N])&&(z=(E=T.halfedges).length)){var R=new Array(z),Y=new Array(z);for(P=0;P<z;++P)R[P]=P,Y[P]=fI(T,so[E[P]]);for(R.sort(function(nt,F){return Y[F]-Y[nt]}),P=0;P<z;++P)Y[P]=E[R[P]];for(P=0;P<z;++P)E[P]=Y[P]}}(),n){var g=+n[0][0],y=+n[0][1],w=+n[1][0],_=+n[1][1];(function(T,E,P,z){for(var N,B=so.length;B--;)pI(N=so[B],T,E,P,z)&&dI(N,T,E,P,z)&&(Math.abs(N[0][0]-N[1][0])>wi||Math.abs(N[0][1]-N[1][1])>wi)||delete so[B]})(g,y,w,_),function(T,E,P,z){var N,B,R,Y,nt,F,Z,X,tt,Q,Bt,Tt,Ut=ss.length,Ct=!0;for(N=0;N<Ut;++N)if(B=ss[N]){for(R=B.site,Y=(nt=B.halfedges).length;Y--;)so[nt[Y]]||nt.splice(Y,1);for(Y=0,F=nt.length;Y<F;)Bt=(Q=gI(B,so[nt[Y]]))[0],Tt=Q[1],X=(Z=K_(B,so[nt[++Y%F]]))[0],tt=Z[1],(Math.abs(Bt-X)>wi||Math.abs(Tt-tt)>wi)&&(nt.splice(Y,0,so.push(mf(R,Q,Math.abs(Bt-T)<wi&&z-Tt>wi?[T,Math.abs(X-T)<wi?tt:z]:Math.abs(Tt-z)<wi&&P-Bt>wi?[Math.abs(tt-z)<wi?X:P,z]:Math.abs(Bt-P)<wi&&Tt-E>wi?[P,Math.abs(X-P)<wi?tt:E]:Math.abs(Tt-E)<wi&&Bt-T>wi?[Math.abs(tt-E)<wi?X:T,E]:null))-1),++F);F&&(Ct=!1)}if(Ct){var Wt,Rt,It,Pt=1/0;for(N=0,Ct=null;N<Ut;++N)(B=ss[N])&&(It=(Wt=(R=B.site)[0]-T)*Wt+(Rt=R[1]-E)*Rt)<Pt&&(Pt=It,Ct=B);if(Ct){var qt=[T,E],Nt=[T,z],Yt=[P,z],vt=[P,E];Ct.halfedges.push(so.push(mf(R=Ct.site,qt,Nt))-1,so.push(mf(R,Nt,Yt))-1,so.push(mf(R,Yt,vt))-1,so.push(mf(R,vt,qt))-1)}}for(N=0;N<Ut;++N)(B=ss[N])&&(B.halfedges.length||delete ss[N])}(g,y,w,_)}this.edges=so,this.cells=ss,fd=vf=so=ss=null}function kI(e){return(e=e.slice()).push(e[0]),v([e])}function ek(e,n,s,a){var c=(a=a||{}).steps||64,h=a.units||"kilometers",g=a.angle||0,y=a.pivot||e,w=a.properties||e.properties||{};if(!e)throw new Error("center is required");if(!n)throw new Error("xSemiAxis is required");if(!s)throw new Error("ySemiAxis is required");if(!ht(a))throw new Error("options must be an object");if(!lt(c))throw new Error("steps must be a number");if(!lt(g))throw new Error("angle must be a number");var _=A(e);if(h==="degrees")var T=ot(g);else n=ud(e,n,90,{units:h}),s=ud(e,s,0,{units:h}),n=A(n)[0]-_[0],s=A(s)[1]-_[1];for(var E=[],P=0;P<c;P+=1){var z=-360*P/c,N=n*s/Math.sqrt(Math.pow(s,2)+Math.pow(n,2)*Math.pow(rk(z),2)),B=n*s/Math.sqrt(Math.pow(n,2)+Math.pow(s,2)/Math.pow(rk(z),2));if(z<-90&&z>=-270&&(N=-N),z<-180&&z>=-360&&(B=-B),h==="degrees"){var R=N*Math.cos(T)+B*Math.sin(T),Y=B*Math.cos(T)-N*Math.sin(T);N=R,B=Y}E.push([N+_[0],B+_[1]])}return E.push(E[0]),h==="degrees"?v([E],w):k_(v([E],w),g,{pivot:y})}function rk(e){var n=e*Math.PI/180;return Math.tan(n)}function Cb(e,n){n===void 0&&(n={});var s=0,a=0,c=0;return ee(e,function(h,g,y){var w=n.weight?y==null?void 0:y[n.weight]:void 0;if(!lt(w=w??1))throw new Error("weight value must be a number for feature index "+g);(w=Number(w))>0&&xt(h,function(_){s+=_[0]*w,a+=_[1]*w,c+=w})}),p([s/c,a/c],n.properties,n)}function ik(e,n,s,a,c){var h=a.tolerance||.001,g=0,y=0,w=0,_=0;if(yt(s,function(P){var z,N=(z=P.properties)===null||z===void 0?void 0:z.weight,B=N??1;if(!lt(B=Number(B)))throw new Error("weight value must be a number");if(B>0){_+=1;var R=B*nr(P,e);R===0&&(R=1);var Y=B/R;g+=P.geometry.coordinates[0]*Y,y+=P.geometry.coordinates[1]*Y,w+=Y}}),_<1)throw new Error("no features to measure");var T=g/w,E=y/w;return _===1||c===0||Math.abs(T-n[0])<h&&Math.abs(E-n[1])<h?p([T,E],{medianCandidates:a.medianCandidates}):(a.medianCandidates.push([T,E]),ik([T,E],e,s,a,c-1))}function nk(e,n){return{x:e[0]-n[0],y:e[1]-n[1]}}function EI(e,n){var s=0,a=0;xt(e,function(c,h,g,y,w){w>s&&(s=w,a=h,n.push([]));var _=h-a,T=e.coordinates[w][_+1],E=c[0],P=c[1],z=T[0],N=T[1];n[w].push([.75*E+.25*z,.75*P+.25*N]),n[w].push([.25*E+.75*z,.25*P+.75*N])},!0),n.forEach(function(c){c.push(c[0])})}function TI(e,n){var s=0,a=0,c=0;xt(e,function(h,g,y,w,_){w>c&&(c=w,a=g,n.push([[]])),_>s&&(s=_,a=g,n[w].push([]));var T=g-a,E=e.coordinates[w][_][T+1],P=h[0],z=h[1],N=E[0],B=E[1];n[w][_].push([.75*P+.25*N,.75*z+.25*B]),n[w][_].push([.25*P+.75*N,.25*z+.75*B])},!0),n.forEach(function(h){h.forEach(function(g){g.push(g[0])})})}function SI(e,n,s){s===void 0&&(s=2);var a=A(e),c=A(n),h=a[0]-c[0],g=a[1]-c[1];return s===1?Math.abs(h)+Math.abs(g):Math.pow(Math.pow(h,s)+Math.pow(g,s),1/s)}function ok(e,n){var s=(n=n||{}).threshold||1e4,a=n.p||2,c=n.binary||!1,h=n.alpha||-1,g=n.standardization||!1,y=[];yt(e,function(z){y.push(oa(z))});for(var w=[],_=0;_<y.length;_++)w[_]=[];for(_=0;_<y.length;_++)for(var T=_;T<y.length;T++){_===T&&(w[_][T]=0);var E=SI(y[_],y[T],a);w[_][T]=E,w[T][_]=E}for(_=0;_<y.length;_++)for(T=0;T<y.length;T++)(E=w[_][T])!==0&&(w[_][T]=c?E<=s?1:0:E<=s?Math.pow(E,h):0);if(g)for(_=0;_<y.length;_++){var P=w[_].reduce(function(z,N){return z+N},0);for(T=0;T<y.length;T++)w[_][T]=w[_][T]/P}return w}function sk(e){for(var n=0,s=0,a=e;s<a.length;s++)n+=a[s];return n/e.length}function ak(e,n){return n===void 0&&(n={}),ck(e,"mercator",n)}function lk(e,n){return n===void 0&&(n={}),ck(e,"wgs84",n)}function ck(e,n,s){s===void 0&&(s={});var a=(s=s||{}).mutate;if(!e)throw new Error("geojson is required");return Array.isArray(e)&&lt(e[0])?e=n==="mercator"?uk(e):hk(e):(a!==!0&&(e=Si(e)),xt(e,function(c){var h=n==="mercator"?uk(c):hk(c);c[0]=h[0],c[1]=h[1]})),e}function uk(e){var n=Math.PI/180,s=6378137,a=20037508342789244e-9,c=[s*(Math.abs(e[0])<=180?e[0]:e[0]-360*function(h){return h<0?-1:h>0?1:0}(e[0]))*n,s*Math.log(Math.tan(.25*Math.PI+.5*e[1]*n))];return c[0]>a&&(c[0]=a),c[0]<-a&&(c[0]=-a),c[1]>a&&(c[1]=a),c[1]<-a&&(c[1]=-a),c}function hk(e){var n=180/Math.PI,s=6378137;return[e[0]*n/s,(.5*Math.PI-2*Math.atan(Math.exp(-e[1]/s)))*n]}Sb.prototype={constructor:Sb,polygons:function(){var e=this.edges;return this.cells.map(function(n){var s=n.halfedges.map(function(a){return K_(n,e[a])});return s.data=n.site.data,s})},triangles:function(){var e=[],n=this.edges;return this.cells.forEach(function(s,a){if(h=(c=s.halfedges).length)for(var c,h,g,y,w,_,T=s.site,E=-1,P=n[c[h-1]],z=P.left===T?P.right:P.left;++E<h;)g=z,z=(P=n[c[E]]).left===T?P.right:P.left,g&&z&&a<g.index&&a<z.index&&(w=g,_=z,((y=T)[0]-_[0])*(w[1]-y[1])-(y[0]-w[0])*(_[1]-y[1])<0)&&e.push([T.data,g.data,z.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,n,s){for(var a,c,h=this,g=h._found||0,y=h.cells.length;!(c=h.cells[g]);)if(++g>=y)return null;var w=e-c.site[0],_=n-c.site[1],T=w*w+_*_;do c=h.cells[a=g],g=null,c.halfedges.forEach(function(E){var P=h.edges[E],z=P.left;if(z!==c.site&&z||(z=P.right)){var N=e-z[0],B=n-z[1],R=N*N+B*B;R<T&&(T=R,g=z.index)}});while(g!==null);return h._found=a,s==null||T<=s*s?c.site:null}};var CI=Object.freeze({__proto__:null,toMercator:ak,toWgs84:lk}),PI=function(){for(var e=0,n=0,s=arguments.length;n<s;n++)e+=arguments[n].length;var a=Array(e),c=0;for(n=0;n<s;n++)for(var h=arguments[n],g=0,y=h.length;g<y;g++,c++)a[c]=h[g];return a};function yf(e){return Array.isArray(e)?mk(e):e&&e.bbox?mk(e.bbox):[360*gk(),180*gk()]}function dk(e,n){n===void 0&&(n={}),e==null&&(e=1);for(var s=[],a=0;a<e;a++)s.push(p(yf(n.bbox)));return M(s)}function pk(e,n){n===void 0&&(n={}),e==null&&(e=1),lt(n.num_vertices)&&n.num_vertices!==void 0||(n.num_vertices=10),lt(n.max_radial_length)&&n.max_radial_length!==void 0||(n.max_radial_length=10);for(var s=[],a=function(h){var g,y=[],w=PI(Array(n.num_vertices+1)).map(Math.random);w.forEach(function(_,T,E){E[T]=T>0?_+E[T-1]:_}),w.forEach(function(_){_=2*_*Math.PI/w[w.length-1];var T=Math.random();y.push([T*(n.max_radial_length||10)*Math.sin(_),T*(n.max_radial_length||10)*Math.cos(_)])}),y[y.length-1]=y[0],y=y.map((g=yf(n.bbox),function(_){return[_[0]+g[0],_[1]+g[1]]})),s.push(v([y]))},c=0;c<e;c++)a();return M(s)}function fk(e,n){if(n===void 0&&(n={}),!ht(n=n||{}))throw new Error("options is invalid");var s=n.bbox,a=n.num_vertices,c=n.max_length,h=n.max_rotation;e==null&&(e=1),(!lt(a)||a===void 0||a<2)&&(a=10),lt(c)&&c!==void 0||(c=1e-4),lt(h)&&h!==void 0||(h=Math.PI/8);for(var g=[],y=0;y<e;y++){for(var w=[yf(s)],_=0;_<a-1;_++){var T=(_===0?2*Math.random()*Math.PI:Math.tan((w[_][1]-w[_-1][1])/(w[_][0]-w[_-1][0])))+(Math.random()-.5)*h*2,E=Math.random()*c;w.push([w[_][0]+E*Math.cos(T),w[_][1]+E*Math.sin(T)])}g.push(k(w))}return M(g)}function gk(){return Math.random()-.5}function mk(e){return[Math.random()*(e[2]-e[0])+e[0],Math.random()*(e[3]-e[1])+e[1]]}var MI=Object.freeze({__proto__:null,randomPosition:yf,randomPoint:dk,randomPolygon:pk,randomLineString:fk});function vk(e,n){if(!e)throw new Error("geojson is required");if(e.type!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(n==null)throw new Error("filter is required");var s=[];return yt(e,function(a){n0(a.properties,n)&&s.push(a)}),M(s)}function Pb(e,n,s){if(!e)throw new Error("geojson is required");if(e.type!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(n==null)throw new Error("property is required");for(var a=Mb(e,n),c=Object.keys(a),h=0;h<c.length;h++){for(var g=c[h],y=a[g],w=[],_=0;_<y.length;_++)w.push(e.features[y[_]]);s(M(w),g,h)}}function yk(e,n,s,a){var c=a;return Pb(e,n,function(h,g,y){c=y===0&&a===void 0?h:s(c,h,g,y)}),c}function Mb(e,n){var s={};return yt(e,function(a,c){var h=a.properties||{};if(Object.prototype.hasOwnProperty.call(h,String(n))){var g=h[n];Object.prototype.hasOwnProperty.call(s,g)?s[g].push(c):s[g]=[c]}}),s}function n0(e,n){if(e===void 0)return!1;var s=typeof n;if(s==="number"||s==="string")return Object.prototype.hasOwnProperty.call(e,n);if(Array.isArray(n)){for(var a=0;a<n.length;a++)if(!n0(e,n[a]))return!1;return!0}return Ib(e,n)}function Ib(e,n){for(var s=Object.keys(n),a=0;a<s.length;a++){var c=s[a];if(e[c]!==n[c])return!1}return!0}function bk(e,n){if(!n)return{};if(!n.length)return{};for(var s={},a=0;a<n.length;a++){var c=n[a];Object.prototype.hasOwnProperty.call(e,c)&&(s[c]=e[c])}return s}var II=Object.freeze({__proto__:null,getCluster:vk,clusterEach:Pb,clusterReduce:yk,createBins:Mb,applyFilter:n0,propertiesContainsFilter:Ib,filterProperties:bk}),Nc=function(e,n){this.next=null,this.key=e,this.data=n,this.left=null,this.right=null};/**
     * splaytree v3.1.0
     * Fast Splay tree for Node and browser
     *
     * @author Alexander Milevski <info@w8r.name>
     * @license MIT
     * @preserve
     */function LI(e,n){return e>n?1:e<n?-1:0}function Dc(e,n,s){for(var a=new Nc(null,null),c=a,h=a;;){var g=s(e,n.key);if(g<0){if(n.left===null)break;if(s(e,n.left.key)<0){var y=n.left;if(n.left=y.right,y.right=n,(n=y).left===null)break}h.left=n,h=n,n=n.left}else{if(!(g>0)||n.right===null||s(e,n.right.key)>0&&(y=n.right,n.right=y.left,y.left=n,(n=y).right===null))break;c.right=n,c=n,n=n.right}}return c.right=n.left,h.left=n.right,n.left=a.right,n.right=a.left,n}function Lb(e,n,s,a){var c=new Nc(e,n);if(s===null)return c.left=c.right=null,c;var h=a(e,(s=Dc(e,s,a)).key);return h<0?(c.left=s.left,c.right=s,s.left=null):h>=0&&(c.right=s.right,c.left=s,s.right=null),c}function wk(e,n,s){var a=null,c=null;if(n){var h=s((n=Dc(e,n,s)).key,e);h===0?(a=n.left,c=n.right):h<0?(c=n.right,n.right=null,a=n):(a=n.left,n.left=null,c=n)}return{left:a,right:c}}function Ab(e,n,s,a,c){if(e){a(n+(s?"└── ":"├── ")+c(e)+`
`);var h=n+(s?"    ":"│   ");e.left&&Ab(e.left,h,!1,a,c),e.right&&Ab(e.right,h,!0,a,c)}}var Rb=function(){function e(n){n===void 0&&(n=LI),this._root=null,this._size=0,this._comparator=n}return e.prototype.insert=function(n,s){return this._size++,this._root=Lb(n,s,this._root,this._comparator)},e.prototype.add=function(n,s){var a=new Nc(n,s);this._root===null&&(a.left=a.right=null,this._size++,this._root=a);var c=this._comparator,h=Dc(n,this._root,c),g=c(n,h.key);return g===0?this._root=h:(g<0?(a.left=h.left,a.right=h,h.left=null):g>0&&(a.right=h.right,a.left=h,h.right=null),this._size++,this._root=a),this._root},e.prototype.remove=function(n){this._root=this._remove(n,this._root,this._comparator)},e.prototype._remove=function(n,s,a){var c;return s===null?null:a(n,(s=Dc(n,s,a)).key)===0?(s.left===null?c=s.right:(c=Dc(n,s.left,a)).right=s.right,this._size--,c):s},e.prototype.pop=function(){var n=this._root;if(n){for(;n.left;)n=n.left;return this._root=Dc(n.key,this._root,this._comparator),this._root=this._remove(n.key,this._root,this._comparator),{key:n.key,data:n.data}}return null},e.prototype.findStatic=function(n){for(var s=this._root,a=this._comparator;s;){var c=a(n,s.key);if(c===0)return s;s=c<0?s.left:s.right}return null},e.prototype.find=function(n){return this._root&&(this._root=Dc(n,this._root,this._comparator),this._comparator(n,this._root.key)!==0)?null:this._root},e.prototype.contains=function(n){for(var s=this._root,a=this._comparator;s;){var c=a(n,s.key);if(c===0)return!0;s=c<0?s.left:s.right}return!1},e.prototype.forEach=function(n,s){for(var a=this._root,c=[],h=!1;!h;)a!==null?(c.push(a),a=a.left):c.length!==0?(a=c.pop(),n.call(s,a),a=a.right):h=!0;return this},e.prototype.range=function(n,s,a,c){for(var h=[],g=this._comparator,y=this._root;h.length!==0||y;)if(y)h.push(y),y=y.left;else{if(g((y=h.pop()).key,s)>0)break;if(g(y.key,n)>=0&&a.call(c,y))return this;y=y.right}return this},e.prototype.keys=function(){var n=[];return this.forEach(function(s){var a=s.key;return n.push(a)}),n},e.prototype.values=function(){var n=[];return this.forEach(function(s){var a=s.data;return n.push(a)}),n},e.prototype.min=function(){return this._root?this.minNode(this._root).key:null},e.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},e.prototype.minNode=function(n){if(n===void 0&&(n=this._root),n)for(;n.left;)n=n.left;return n},e.prototype.maxNode=function(n){if(n===void 0&&(n=this._root),n)for(;n.right;)n=n.right;return n},e.prototype.at=function(n){for(var s=this._root,a=!1,c=0,h=[];!a;)if(s)h.push(s),s=s.left;else if(h.length>0){if(s=h.pop(),c===n)return s;c++,s=s.right}else a=!0;return null},e.prototype.next=function(n){var s=this._root,a=null;if(n.right){for(a=n.right;a.left;)a=a.left;return a}for(var c=this._comparator;s;){var h=c(n.key,s.key);if(h===0)break;h<0?(a=s,s=s.left):s=s.right}return a},e.prototype.prev=function(n){var s=this._root,a=null;if(n.left!==null){for(a=n.left;a.right;)a=a.right;return a}for(var c=this._comparator;s;){var h=c(n.key,s.key);if(h===0)break;h<0?s=s.left:(a=s,s=s.right)}return a},e.prototype.clear=function(){return this._root=null,this._size=0,this},e.prototype.toList=function(){return function(n){for(var s=n,a=[],c=!1,h=new Nc(null,null),g=h;!c;)s?(a.push(s),s=s.left):a.length>0?s=(s=g=g.next=a.pop()).right:c=!0;return g.next=null,h.next}(this._root)},e.prototype.load=function(n,s,a){s===void 0&&(s=[]),a===void 0&&(a=!1);var c=n.length,h=this._comparator;if(a&&Nb(n,s,0,c-1,h),this._root===null)this._root=Ob(n,s,0,c),this._size=c;else{var g=function(y,w,_){for(var T=new Nc(null,null),E=T,P=y,z=w;P!==null&&z!==null;)_(P.key,z.key)<0?(E.next=P,P=P.next):(E.next=z,z=z.next),E=E.next;return P!==null?E.next=P:z!==null&&(E.next=z),T.next}(this.toList(),function(y,w){for(var _=new Nc(null,null),T=_,E=0;E<y.length;E++)T=T.next=new Nc(y[E],w[E]);return T.next=null,_.next}(n,s),h);c=this._size+c,this._root=zb({head:g},0,c)}return this},e.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),e.prototype.toString=function(n){n===void 0&&(n=function(a){return String(a.key)});var s=[];return Ab(this._root,"",!0,function(a){return s.push(a)},n),s.join("")},e.prototype.update=function(n,s,a){var c=this._comparator,h=wk(n,this._root,c),g=h.left,y=h.right;c(n,s)<0?y=Lb(s,a,y,c):g=Lb(s,a,g,c),this._root=function(w,_,T){return _===null?w:(w===null||((_=Dc(w.key,_,T)).left=w),_)}(g,y,c)},e.prototype.split=function(n){return wk(n,this._root,this._comparator)},e}();function Ob(e,n,s,a){var c=a-s;if(c>0){var h=s+Math.floor(c/2),g=e[h],y=n[h],w=new Nc(g,y);return w.left=Ob(e,n,s,h),w.right=Ob(e,n,h+1,a),w}return null}function zb(e,n,s){var a=s-n;if(a>0){var c=n+Math.floor(a/2),h=zb(e,n,c),g=e.head;return g.left=h,e.head=e.head.next,g.right=zb(e,c+1,s),g}return null}function Nb(e,n,s,a,c){if(!(s>=a)){for(var h=e[s+a>>1],g=s-1,y=a+1;;){do g++;while(c(e[g],h)<0);do y--;while(c(e[y],h)>0);if(g>=y)break;var w=e[g];e[g]=e[y],e[y]=w,w=n[g],n[g]=n[y],n[y]=w}Nb(e,n,s,y,c),Nb(e,n,y+1,a,c)}}function Is(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function xk(e,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ko(e,n,s){return n&&xk(e.prototype,n),s&&xk(e,s),e}var bf=function(e,n){return e.ll.x<=n.x&&n.x<=e.ur.x&&e.ll.y<=n.y&&n.y<=e.ur.y},Db=function(e,n){if(n.ur.x<e.ll.x||e.ur.x<n.ll.x||n.ur.y<e.ll.y||e.ur.y<n.ll.y)return null;var s=e.ll.x<n.ll.x?n.ll.x:e.ll.x,a=e.ur.x<n.ur.x?e.ur.x:n.ur.x;return{ll:{x:s,y:e.ll.y<n.ll.y?n.ll.y:e.ll.y},ur:{x:a,y:e.ur.y<n.ur.y?e.ur.y:n.ur.y}}},Fc=Number.EPSILON;Fc===void 0&&(Fc=Math.pow(2,-52));var AI=Fc*Fc,Fb=function(e,n){if(-Fc<e&&e<Fc&&-Fc<n&&n<Fc)return 0;var s=e-n;return s*s<AI*e*n?0:e<n?-1:1},RI=function(){function e(){Is(this,e),this.reset()}return ko(e,[{key:"reset",value:function(){this.xRounder=new _k,this.yRounder=new _k}},{key:"round",value:function(n,s){return{x:this.xRounder.round(n),y:this.yRounder.round(s)}}}]),e}(),_k=function(){function e(){Is(this,e),this.tree=new Rb,this.round(0)}return ko(e,[{key:"round",value:function(n){var s=this.tree.add(n),a=this.tree.prev(s);if(a!==null&&Fb(s.key,a.key)===0)return this.tree.remove(n),a.key;var c=this.tree.next(s);return c!==null&&Fb(s.key,c.key)===0?(this.tree.remove(n),c.key):n}}]),e}(),wf=new RI,xf=function(e,n){return e.x*n.y-e.y*n.x},kk=function(e,n){return e.x*n.x+e.y*n.y},Ek=function(e,n,s){var a={x:n.x-e.x,y:n.y-e.y},c={x:s.x-e.x,y:s.y-e.y},h=xf(a,c);return Fb(h,0)},o0=function(e){return Math.sqrt(kk(e,e))},OI=function(e,n,s){var a={x:n.x-e.x,y:n.y-e.y},c={x:s.x-e.x,y:s.y-e.y};return kk(c,a)/o0(c)/o0(a)},Tk=function(e,n,s){return n.y===0?null:{x:e.x+n.x/n.y*(s-e.y),y:s}},Sk=function(e,n,s){return n.x===0?null:{x:s,y:e.y+n.y/n.x*(s-e.x)}},qa=function(){function e(n,s){Is(this,e),n.events===void 0?n.events=[this]:n.events.push(this),this.point=n,this.isLeft=s}return ko(e,null,[{key:"compare",value:function(n,s){var a=e.comparePoints(n.point,s.point);return a!==0?a:(n.point!==s.point&&n.link(s),n.isLeft!==s.isLeft?n.isLeft?1:-1:s0.compare(n.segment,s.segment))}},{key:"comparePoints",value:function(n,s){return n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0}}]),ko(e,[{key:"link",value:function(n){if(n.point===this.point)throw new Error("Tried to link already linked events");for(var s=n.point.events,a=0,c=s.length;a<c;a++){var h=s[a];this.point.events.push(h),h.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var n=this.point.events.length,s=0;s<n;s++){var a=this.point.events[s];if(a.segment.consumedBy===void 0)for(var c=s+1;c<n;c++){var h=this.point.events[c];h.consumedBy===void 0&&a.otherSE.point.events===h.otherSE.point.events&&a.segment.consume(h.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var n=[],s=0,a=this.point.events.length;s<a;s++){var c=this.point.events[s];c!==this&&!c.segment.ringOut&&c.segment.isInResult()&&n.push(c)}return n}},{key:"getLeftmostComparator",value:function(n){var s=this,a=new Map,c=function(h){var g,y,w,_,T,E=h.otherSE;a.set(h,{sine:(g=s.point,y=n.point,w=E.point,_={x:y.x-g.x,y:y.y-g.y},T={x:w.x-g.x,y:w.y-g.y},xf(T,_)/o0(T)/o0(_)),cosine:OI(s.point,n.point,E.point)})};return function(h,g){a.has(h)||c(h),a.has(g)||c(g);var y=a.get(h),w=y.sine,_=y.cosine,T=a.get(g),E=T.sine,P=T.cosine;return w>=0&&E>=0?_<P?1:_>P?-1:0:w<0&&E<0?_<P?-1:_>P?1:0:E<w?-1:E>w?1:0}}}]),e}(),zI=0,s0=function(){function e(n,s,a,c){Is(this,e),this.id=++zI,this.leftSE=n,n.segment=this,n.otherSE=s,this.rightSE=s,s.segment=this,s.otherSE=n,this.rings=a,this.windings=c}return ko(e,null,[{key:"compare",value:function(n,s){var a=n.leftSE.point.x,c=s.leftSE.point.x,h=n.rightSE.point.x,g=s.rightSE.point.x;if(g<a)return 1;if(h<c)return-1;var y=n.leftSE.point.y,w=s.leftSE.point.y,_=n.rightSE.point.y,T=s.rightSE.point.y;if(a<c){if(w<y&&w<_)return 1;if(w>y&&w>_)return-1;var E=n.comparePoint(s.leftSE.point);if(E<0)return 1;if(E>0)return-1;var P=s.comparePoint(n.rightSE.point);return P!==0?P:-1}if(a>c){if(y<w&&y<T)return-1;if(y>w&&y>T)return 1;var z=s.comparePoint(n.leftSE.point);if(z!==0)return z;var N=n.comparePoint(s.rightSE.point);return N<0?1:N>0?-1:1}if(y<w)return-1;if(y>w)return 1;if(h<g){var B=s.comparePoint(n.rightSE.point);if(B!==0)return B}if(h>g){var R=n.comparePoint(s.rightSE.point);if(R<0)return 1;if(R>0)return-1}if(h!==g){var Y=_-y,nt=h-a,F=T-w,Z=g-c;if(Y>nt&&F<Z)return 1;if(Y<nt&&F>Z)return-1}return h>g?1:h<g||_<T?-1:_>T?1:n.id<s.id?-1:n.id>s.id?1:0}}]),ko(e,[{key:"replaceRightSE",value:function(n){this.rightSE=n,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var n=this.leftSE.point.y,s=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:n<s?n:s},ur:{x:this.rightSE.point.x,y:n>s?n:s}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(n){return n.x===this.leftSE.point.x&&n.y===this.leftSE.point.y||n.x===this.rightSE.point.x&&n.y===this.rightSE.point.y}},{key:"comparePoint",value:function(n){if(this.isAnEndpoint(n))return 0;var s=this.leftSE.point,a=this.rightSE.point,c=this.vector();if(s.x===a.x)return n.x===s.x?0:n.x<s.x?1:-1;var h=(n.y-s.y)/c.y,g=s.x+h*c.x;if(n.x===g)return 0;var y=(n.x-s.x)/c.x,w=s.y+y*c.y;return n.y===w?0:n.y<w?-1:1}},{key:"getIntersection",value:function(n){var s=this.bbox(),a=n.bbox(),c=Db(s,a);if(c===null)return null;var h=this.leftSE.point,g=this.rightSE.point,y=n.leftSE.point,w=n.rightSE.point,_=bf(s,y)&&this.comparePoint(y)===0,T=bf(a,h)&&n.comparePoint(h)===0,E=bf(s,w)&&this.comparePoint(w)===0,P=bf(a,g)&&n.comparePoint(g)===0;if(T&&_)return P&&!E?g:!P&&E?w:null;if(T)return E&&h.x===w.x&&h.y===w.y?null:h;if(_)return P&&g.x===y.x&&g.y===y.y?null:y;if(P&&E)return null;if(P)return g;if(E)return w;var z=function(N,B,R,Y){if(B.x===0)return Sk(R,Y,N.x);if(Y.x===0)return Sk(N,B,R.x);if(B.y===0)return Tk(R,Y,N.y);if(Y.y===0)return Tk(N,B,R.y);var nt=xf(B,Y);if(nt==0)return null;var F={x:R.x-N.x,y:R.y-N.y},Z=xf(F,B)/nt,X=xf(F,Y)/nt;return{x:(N.x+X*B.x+(R.x+Z*Y.x))/2,y:(N.y+X*B.y+(R.y+Z*Y.y))/2}}(h,this.vector(),y,n.vector());return z===null?null:bf(c,z)?wf.round(z.x,z.y):null}},{key:"split",value:function(n){var s=[],a=n.events!==void 0,c=new qa(n,!0),h=new qa(n,!1),g=this.rightSE;this.replaceRightSE(h),s.push(h),s.push(c);var y=new e(c,g,this.rings.slice(),this.windings.slice());return qa.comparePoints(y.leftSE.point,y.rightSE.point)>0&&y.swapEvents(),qa.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),a&&(c.checkForConsuming(),h.checkForConsuming()),s}},{key:"swapEvents",value:function(){var n=this.rightSE;this.rightSE=this.leftSE,this.leftSE=n,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var s=0,a=this.windings.length;s<a;s++)this.windings[s]*=-1}},{key:"consume",value:function(n){for(var s=this,a=n;s.consumedBy;)s=s.consumedBy;for(;a.consumedBy;)a=a.consumedBy;var c=e.compare(s,a);if(c!==0){if(c>0){var h=s;s=a,a=h}if(s.prev===a){var g=s;s=a,a=g}for(var y=0,w=a.rings.length;y<w;y++){var _=a.rings[y],T=a.windings[y],E=s.rings.indexOf(_);E===-1?(s.rings.push(_),s.windings.push(T)):s.windings[E]+=T}a.rings=null,a.windings=null,a.consumedBy=s,a.leftSE.consumedBy=s.leftSE,a.rightSE.consumedBy=s.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(this.prev){var n=this.prev.consumedBy||this.prev;this._beforeState=n.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var n=this.beforeState();this._afterState={rings:n.rings.slice(0),windings:n.windings.slice(0),multiPolys:[]};for(var s=this._afterState.rings,a=this._afterState.windings,c=this._afterState.multiPolys,h=0,g=this.rings.length;h<g;h++){var y=this.rings[h],w=this.windings[h],_=s.indexOf(y);_===-1?(s.push(y),a.push(w)):a[_]+=w}for(var T=[],E=[],P=0,z=s.length;P<z;P++)if(a[P]!==0){var N=s[P],B=N.poly;if(E.indexOf(B)===-1)if(N.isExterior)T.push(B);else{E.indexOf(B)===-1&&E.push(B);var R=T.indexOf(N.poly);R!==-1&&T.splice(R,1)}}for(var Y=0,nt=T.length;Y<nt;Y++){var F=T[Y].multiPoly;c.indexOf(F)===-1&&c.push(F)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var n=this.beforeState().multiPolys,s=this.afterState().multiPolys;switch(da.type){case"union":var a=n.length===0,c=s.length===0;this._isInResult=a!==c;break;case"intersection":var h,g;n.length<s.length?(h=n.length,g=s.length):(h=s.length,g=n.length),this._isInResult=g===da.numMultiPolys&&h<g;break;case"xor":var y=Math.abs(n.length-s.length);this._isInResult=y%2==1;break;case"difference":var w=function(_){return _.length===1&&_[0].isSubject};this._isInResult=w(n)!==w(s);break;default:throw new Error("Unrecognized operation type found ".concat(da.type))}return this._isInResult}}],[{key:"fromRing",value:function(n,s,a){var c,h,g,y=qa.comparePoints(n,s);if(y<0)c=n,h=s,g=1;else{if(!(y>0))throw new Error("Tried to create degenerate segment at [".concat(n.x,", ").concat(n.y,"]"));c=s,h=n,g=-1}return new e(new qa(c,!0),new qa(h,!1),[a],[g])}}]),e}(),Ck=function(){function e(n,s,a){if(Is(this,e),!Array.isArray(n)||n.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=s,this.isExterior=a,this.segments=[],typeof n[0][0]!="number"||typeof n[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var c=wf.round(n[0][0],n[0][1]);this.bbox={ll:{x:c.x,y:c.y},ur:{x:c.x,y:c.y}};for(var h=c,g=1,y=n.length;g<y;g++){if(typeof n[g][0]!="number"||typeof n[g][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var w=wf.round(n[g][0],n[g][1]);w.x===h.x&&w.y===h.y||(this.segments.push(s0.fromRing(h,w,this)),w.x<this.bbox.ll.x&&(this.bbox.ll.x=w.x),w.y<this.bbox.ll.y&&(this.bbox.ll.y=w.y),w.x>this.bbox.ur.x&&(this.bbox.ur.x=w.x),w.y>this.bbox.ur.y&&(this.bbox.ur.y=w.y),h=w)}c.x===h.x&&c.y===h.y||this.segments.push(s0.fromRing(h,c,this))}return ko(e,[{key:"getSweepEvents",value:function(){for(var n=[],s=0,a=this.segments.length;s<a;s++){var c=this.segments[s];n.push(c.leftSE),n.push(c.rightSE)}return n}}]),e}(),NI=function(){function e(n,s){if(Is(this,e),!Array.isArray(n))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Ck(n[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var a=1,c=n.length;a<c;a++){var h=new Ck(n[a],this,!1);h.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=h.bbox.ll.x),h.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=h.bbox.ll.y),h.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=h.bbox.ur.x),h.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=h.bbox.ur.y),this.interiorRings.push(h)}this.multiPoly=s}return ko(e,[{key:"getSweepEvents",value:function(){for(var n=this.exteriorRing.getSweepEvents(),s=0,a=this.interiorRings.length;s<a;s++)for(var c=this.interiorRings[s].getSweepEvents(),h=0,g=c.length;h<g;h++)n.push(c[h]);return n}}]),e}(),Pk=function(){function e(n,s){if(Is(this,e),!Array.isArray(n))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof n[0][0][0]=="number"&&(n=[n])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var a=0,c=n.length;a<c;a++){var h=new NI(n[a],this);h.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=h.bbox.ll.x),h.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=h.bbox.ll.y),h.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=h.bbox.ur.x),h.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=h.bbox.ur.y),this.polys.push(h)}this.isSubject=s}return ko(e,[{key:"getSweepEvents",value:function(){for(var n=[],s=0,a=this.polys.length;s<a;s++)for(var c=this.polys[s].getSweepEvents(),h=0,g=c.length;h<g;h++)n.push(c[h]);return n}}]),e}(),DI=function(){function e(n){Is(this,e),this.events=n;for(var s=0,a=n.length;s<a;s++)n[s].segment.ringOut=this;this.poly=null}return ko(e,null,[{key:"factory",value:function(n){for(var s=[],a=0,c=n.length;a<c;a++){var h=n[a];if(h.isInResult()&&!h.ringOut){for(var g=null,y=h.leftSE,w=h.rightSE,_=[y],T=y.point,E=[];g=y,y=w,_.push(y),y.point!==T;)for(;;){var P=y.getAvailableLinkedEvents();if(P.length===0){var z=_[0].point,N=_[_.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(z.x,",")+" ".concat(z.y,"]. Last matching segment found ends at")+" [".concat(N.x,", ").concat(N.y,"]."))}if(P.length===1){w=P[0].otherSE;break}for(var B=null,R=0,Y=E.length;R<Y;R++)if(E[R].point===y.point){B=R;break}if(B===null){E.push({index:_.length,point:y.point});var nt=y.getLeftmostComparator(g);w=P.sort(nt)[0].otherSE;break}var F=E.splice(B)[0],Z=_.splice(F.index);Z.unshift(Z[0].otherSE),s.push(new e(Z.reverse()))}s.push(new e(_))}}return s}}]),ko(e,[{key:"getGeom",value:function(){for(var n=this.events[0].point,s=[n],a=1,c=this.events.length-1;a<c;a++){var h=this.events[a].point,g=this.events[a+1].point;Ek(h,n,g)!==0&&(s.push(h),n=h)}if(s.length===1)return null;var y=s[0],w=s[1];Ek(y,n,w)===0&&s.shift(),s.push(s[0]);for(var _=this.isExteriorRing()?1:-1,T=this.isExteriorRing()?0:s.length-1,E=this.isExteriorRing()?s.length:-1,P=[],z=T;z!=E;z+=_)P.push([s[z].x,s[z].y]);return P}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var n=this.enclosingRing();this._isExteriorRing=!n||!n.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var n=this.events[0],s=1,a=this.events.length;s<a;s++){var c=this.events[s];qa.compare(n,c)>0&&(n=c)}for(var h=n.segment.prevInResult(),g=h?h.prevInResult():null;;){if(!h)return null;if(!g)return h.ringOut;if(g.ringOut!==h.ringOut)return g.ringOut.enclosingRing()!==h.ringOut?h.ringOut:h.ringOut.enclosingRing();h=g.prevInResult(),g=h?h.prevInResult():null}}}]),e}(),Mk=function(){function e(n){Is(this,e),this.exteriorRing=n,n.poly=this,this.interiorRings=[]}return ko(e,[{key:"addInterior",value:function(n){this.interiorRings.push(n),n.poly=this}},{key:"getGeom",value:function(){var n=[this.exteriorRing.getGeom()];if(n[0]===null)return null;for(var s=0,a=this.interiorRings.length;s<a;s++){var c=this.interiorRings[s].getGeom();c!==null&&n.push(c)}return n}}]),e}(),FI=function(){function e(n){Is(this,e),this.rings=n,this.polys=this._composePolys(n)}return ko(e,[{key:"getGeom",value:function(){for(var n=[],s=0,a=this.polys.length;s<a;s++){var c=this.polys[s].getGeom();c!==null&&n.push(c)}return n}},{key:"_composePolys",value:function(n){for(var s=[],a=0,c=n.length;a<c;a++){var h=n[a];if(!h.poly)if(h.isExteriorRing())s.push(new Mk(h));else{var g=h.enclosingRing();g.poly||s.push(new Mk(g)),g.poly.addInterior(h)}}return s}}]),e}(),BI=function(){function e(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s0.compare;Is(this,e),this.queue=n,this.tree=new Rb(s),this.segments=[]}return ko(e,[{key:"process",value:function(n){var s=n.segment,a=[];if(n.consumedBy)return n.isLeft?this.queue.remove(n.otherSE):this.tree.remove(s),a;var c=n.isLeft?this.tree.insert(s):this.tree.find(s);if(!c)throw new Error("Unable to find segment #".concat(s.id," ")+"[".concat(s.leftSE.point.x,", ").concat(s.leftSE.point.y,"] -> ")+"[".concat(s.rightSE.point.x,", ").concat(s.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var h=c,g=c,y=void 0,w=void 0;y===void 0;)(h=this.tree.prev(h))===null?y=null:h.key.consumedBy===void 0&&(y=h.key);for(;w===void 0;)(g=this.tree.next(g))===null?w=null:g.key.consumedBy===void 0&&(w=g.key);if(n.isLeft){var _=null;if(y){var T=y.getIntersection(s);if(T!==null&&(s.isAnEndpoint(T)||(_=T),!y.isAnEndpoint(T)))for(var E=this._splitSafely(y,T),P=0,z=E.length;P<z;P++)a.push(E[P])}var N=null;if(w){var B=w.getIntersection(s);if(B!==null&&(s.isAnEndpoint(B)||(N=B),!w.isAnEndpoint(B)))for(var R=this._splitSafely(w,B),Y=0,nt=R.length;Y<nt;Y++)a.push(R[Y])}if(_!==null||N!==null){var F=null;_===null?F=N:N===null?F=_:F=qa.comparePoints(_,N)<=0?_:N,this.queue.remove(s.rightSE),a.push(s.rightSE);for(var Z=s.split(F),X=0,tt=Z.length;X<tt;X++)a.push(Z[X])}a.length>0?(this.tree.remove(s),a.push(n)):(this.segments.push(s),s.prev=y)}else{if(y&&w){var Q=y.getIntersection(w);if(Q!==null){if(!y.isAnEndpoint(Q))for(var Bt=this._splitSafely(y,Q),Tt=0,Ut=Bt.length;Tt<Ut;Tt++)a.push(Bt[Tt]);if(!w.isAnEndpoint(Q))for(var Ct=this._splitSafely(w,Q),Wt=0,Rt=Ct.length;Wt<Rt;Wt++)a.push(Ct[Wt])}}this.tree.remove(s)}return a}},{key:"_splitSafely",value:function(n,s){this.tree.remove(n);var a=n.rightSE;this.queue.remove(a);var c=n.split(s);return c.push(a),n.consumedBy===void 0&&this.tree.insert(n),c}}]),e}(),Ik=typeof process<"u"&&{version:"0.1.0"}.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,jI=typeof process<"u"&&{version:"0.1.0"}.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,da=new(function(){function e(){Is(this,e)}return ko(e,[{key:"run",value:function(n,s,a){da.type=n,wf.reset();for(var c=[new Pk(s,!0)],h=0,g=a.length;h<g;h++)c.push(new Pk(a[h],!1));if(da.numMultiPolys=c.length,da.type==="difference")for(var y=c[0],w=1;w<c.length;)Db(c[w].bbox,y.bbox)!==null?w++:c.splice(w,1);if(da.type==="intersection"){for(var _=0,T=c.length;_<T;_++)for(var E=c[_],P=_+1,z=c.length;P<z;P++)if(Db(E.bbox,c[P].bbox)===null)return[]}for(var N=new Rb(qa.compare),B=0,R=c.length;B<R;B++)for(var Y=c[B].getSweepEvents(),nt=0,F=Y.length;nt<F;nt++)if(N.insert(Y[nt]),N.size>Ik)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var Z=new BI(N),X=N.size,tt=N.pop();tt;){var Q=tt.key;if(N.size===X){var Bt=Q.segment;throw new Error("Unable to pop() ".concat(Q.isLeft?"left":"right"," SweepEvent ")+"[".concat(Q.point.x,", ").concat(Q.point.y,"] from segment #").concat(Bt.id," ")+"[".concat(Bt.leftSE.point.x,", ").concat(Bt.leftSE.point.y,"] -> ")+"[".concat(Bt.rightSE.point.x,", ").concat(Bt.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(N.size>Ik)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(Z.segments.length>jI)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var Tt=Z.process(Q),Ut=0,Ct=Tt.length;Ut<Ct;Ut++){var Wt=Tt[Ut];Wt.consumedBy===void 0&&N.insert(Wt)}X=N.size,tt=N.pop()}wf.reset();var Rt=DI.factory(Z.segments);return new FI(Rt).getGeom()}}]),e}()),Fl={union:function(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return da.run("union",e,s)},intersection:function(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return da.run("intersection",e,s)},xor:function(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return da.run("xor",e,s)},difference:function(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return da.run("difference",e,s)}};"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(e){if(this==null)throw new TypeError(this+" is not an object");var n=Object(this),s=Math.max(Math.min(n.length,9007199254740991),0)||0,a=1 in arguments&&parseInt(Number(arguments[1]),10)||0;a=a<0?Math.max(s+a,0):Math.min(a,s);var c=2 in arguments&&arguments[2]!==void 0?parseInt(Number(arguments[2]),10)||0:s;for(c=c<0?Math.max(s+arguments[2],0):Math.min(c,s);a<c;)n[a]=e,++a;return n},writable:!0}),Number.isFinite=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},Number.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(e){return e!=e},Math.trunc=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};var Zu=function(){};Zu.prototype.interfaces_=function(){return[]},Zu.prototype.getClass=function(){return Zu},Zu.prototype.equalsWithTolerance=function(e,n,s){return Math.abs(e-n)<=s};var xi=function(e){function n(s){e.call(this,s),this.name="IllegalArgumentException",this.message=s,this.stack=new e().stack}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n}(Error),Ke=function(){},Lk={MAX_VALUE:{configurable:!0}};Ke.isNaN=function(e){return Number.isNaN(e)},Ke.doubleToLongBits=function(e){return e},Ke.longBitsToDouble=function(e){return e},Ke.isInfinite=function(e){return!Number.isFinite(e)},Lk.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(Ke,Lk);var Bo=function(){},a0=function(){},gd=function(){};function jo(){}var Mt=function e(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)this.x=0,this.y=0,this.z=e.NULL_ORDINATE;else if(arguments.length===1){var n=arguments[0];this.x=n.x,this.y=n.y,this.z=n.z}else arguments.length===2?(this.x=arguments[0],this.y=arguments[1],this.z=e.NULL_ORDINATE):arguments.length===3&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},Yu={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};Mt.prototype.setOrdinate=function(e,n){switch(e){case Mt.X:this.x=n;break;case Mt.Y:this.y=n;break;case Mt.Z:this.z=n;break;default:throw new xi("Invalid ordinate index: "+e)}},Mt.prototype.equals2D=function(){if(arguments.length===1){var e=arguments[0];return this.x===e.x&&this.y===e.y}if(arguments.length===2){var n=arguments[0],s=arguments[1];return!!Zu.equalsWithTolerance(this.x,n.x,s)&&!!Zu.equalsWithTolerance(this.y,n.y,s)}},Mt.prototype.getOrdinate=function(e){switch(e){case Mt.X:return this.x;case Mt.Y:return this.y;case Mt.Z:return this.z}throw new xi("Invalid ordinate index: "+e)},Mt.prototype.equals3D=function(e){return this.x===e.x&&this.y===e.y&&(this.z===e.z||Ke.isNaN(this.z))&&Ke.isNaN(e.z)},Mt.prototype.equals=function(e){return e instanceof Mt&&this.equals2D(e)},Mt.prototype.equalInZ=function(e,n){return Zu.equalsWithTolerance(this.z,e.z,n)},Mt.prototype.compareTo=function(e){var n=e;return this.x<n.x?-1:this.x>n.x?1:this.y<n.y?-1:this.y>n.y?1:0},Mt.prototype.clone=function(){},Mt.prototype.copy=function(){return new Mt(this)},Mt.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},Mt.prototype.distance3D=function(e){var n=this.x-e.x,s=this.y-e.y,a=this.z-e.z;return Math.sqrt(n*n+s*s+a*a)},Mt.prototype.distance=function(e){var n=this.x-e.x,s=this.y-e.y;return Math.sqrt(n*n+s*s)},Mt.prototype.hashCode=function(){var e=17;return e=37*(e=37*e+Mt.hashCode(this.x))+Mt.hashCode(this.y)},Mt.prototype.setCoordinate=function(e){this.x=e.x,this.y=e.y,this.z=e.z},Mt.prototype.interfaces_=function(){return[Bo,a0,jo]},Mt.prototype.getClass=function(){return Mt},Mt.hashCode=function(){if(arguments.length===1){var e=arguments[0],n=Ke.doubleToLongBits(e);return Math.trunc((n^n)>>>32)}},Yu.DimensionalComparator.get=function(){return Bl},Yu.serialVersionUID.get=function(){return 6683108902428367e3},Yu.NULL_ORDINATE.get=function(){return Ke.NaN},Yu.X.get=function(){return 0},Yu.Y.get=function(){return 1},Yu.Z.get=function(){return 2},Object.defineProperties(Mt,Yu);var Bl=function(e){if(this._dimensionsToTest=2,arguments.length!==0){if(arguments.length===1){var n=arguments[0];if(n!==2&&n!==3)throw new xi("only 2 or 3 dimensions may be specified");this._dimensionsToTest=n}}};Bl.prototype.compare=function(e,n){var s=e,a=n,c=Bl.compare(s.x,a.x);if(c!==0)return c;var h=Bl.compare(s.y,a.y);return h!==0?h:this._dimensionsToTest<=2?0:Bl.compare(s.z,a.z)},Bl.prototype.interfaces_=function(){return[gd]},Bl.prototype.getClass=function(){return Bl},Bl.compare=function(e,n){return e<n?-1:e>n?1:Ke.isNaN(e)?Ke.isNaN(n)?0:-1:Ke.isNaN(n)?1:0};var md=function(){};md.prototype.create=function(){},md.prototype.interfaces_=function(){return[]},md.prototype.getClass=function(){return md};var jt=function(){},_f={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};jt.prototype.interfaces_=function(){return[]},jt.prototype.getClass=function(){return jt},jt.toLocationSymbol=function(e){switch(e){case jt.EXTERIOR:return"e";case jt.BOUNDARY:return"b";case jt.INTERIOR:return"i";case jt.NONE:return"-"}throw new xi("Unknown location value: "+e)},_f.INTERIOR.get=function(){return 0},_f.BOUNDARY.get=function(){return 1},_f.EXTERIOR.get=function(){return 2},_f.NONE.get=function(){return-1},Object.defineProperties(jt,_f);var Ge=function(e,n){return e.interfaces_&&e.interfaces_().indexOf(n)>-1},Eo=function(){},Ak={LOG_10:{configurable:!0}};Eo.prototype.interfaces_=function(){return[]},Eo.prototype.getClass=function(){return Eo},Eo.log10=function(e){var n=Math.log(e);return Ke.isInfinite(n)||Ke.isNaN(n)?n:n/Eo.LOG_10},Eo.min=function(e,n,s,a){var c=e;return n<c&&(c=n),s<c&&(c=s),a<c&&(c=a),c},Eo.clamp=function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],n=arguments[1],s=arguments[2];return e<n?n:e>s?s:e}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var a=arguments[0],c=arguments[1],h=arguments[2];return a<c?c:a>h?h:a}},Eo.wrap=function(e,n){return e<0?n- -e%n:e%n},Eo.max=function(){if(arguments.length===3){var e=arguments[0],n=arguments[1],s=arguments[2],a=e;return n>a&&(a=n),s>a&&(a=s),a}if(arguments.length===4){var c=arguments[0],h=arguments[1],g=arguments[2],y=arguments[3],w=c;return h>w&&(w=h),g>w&&(w=g),y>w&&(w=y),w}},Eo.average=function(e,n){return(e+n)/2},Ak.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(Eo,Ak);var Ls=function(e){this.str=e};Ls.prototype.append=function(e){this.str+=e},Ls.prototype.setCharAt=function(e,n){this.str=this.str.substr(0,e)+n+this.str.substr(e+1)},Ls.prototype.toString=function(e){return this.str};var As=function(e){this.value=e};As.prototype.intValue=function(){return this.value},As.prototype.compareTo=function(e){return this.value<e?-1:this.value>e?1:0},As.isNaN=function(e){return Number.isNaN(e)};var kf=function(){};kf.isWhitespace=function(e){return e<=32&&e>=0||e===127},kf.toUpperCase=function(e){return e.toUpperCase()};var Vt=function e(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var n=arguments[0];this.init(n)}else if(arguments[0]instanceof e){var s=arguments[0];this.init(s)}else if(typeof arguments[0]=="string"){var a=arguments[0];e.call(this,e.parse(a))}}else if(arguments.length===2){var c=arguments[0],h=arguments[1];this.init(c,h)}},as={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};Vt.prototype.le=function(e){return(this._hi<e._hi||this._hi===e._hi)&&this._lo<=e._lo},Vt.prototype.extractSignificantDigits=function(e,n){var s=this.abs(),a=Vt.magnitude(s._hi),c=Vt.TEN.pow(a);(s=s.divide(c)).gt(Vt.TEN)?(s=s.divide(Vt.TEN),a+=1):s.lt(Vt.ONE)&&(s=s.multiply(Vt.TEN),a-=1);for(var h=a+1,g=new Ls,y=Vt.MAX_PRINT_DIGITS-1,w=0;w<=y;w++){e&&w===h&&g.append(".");var _=Math.trunc(s._hi);if(_<0)break;var T=!1,E=0;_>9?(T=!0,E="9"):E="0"+_,g.append(E),s=s.subtract(Vt.valueOf(_)).multiply(Vt.TEN),T&&s.selfAdd(Vt.TEN);var P=!0,z=Vt.magnitude(s._hi);if(z<0&&Math.abs(z)>=y-w&&(P=!1),!P)break}return n[0]=a,g.toString()},Vt.prototype.sqr=function(){return this.multiply(this)},Vt.prototype.doubleValue=function(){return this._hi+this._lo},Vt.prototype.subtract=function(){if(arguments[0]instanceof Vt){var e=arguments[0];return this.add(e.negate())}if(typeof arguments[0]=="number"){var n=arguments[0];return this.add(-n)}},Vt.prototype.equals=function(){if(arguments.length===1){var e=arguments[0];return this._hi===e._hi&&this._lo===e._lo}},Vt.prototype.isZero=function(){return this._hi===0&&this._lo===0},Vt.prototype.selfSubtract=function(){if(arguments[0]instanceof Vt){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e._hi,-e._lo)}if(typeof arguments[0]=="number"){var n=arguments[0];return this.isNaN()?this:this.selfAdd(-n,0)}},Vt.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},Vt.prototype.min=function(e){return this.le(e)?this:e},Vt.prototype.selfDivide=function(){if(arguments.length===1){if(arguments[0]instanceof Vt){var e=arguments[0];return this.selfDivide(e._hi,e._lo)}if(typeof arguments[0]=="number"){var n=arguments[0];return this.selfDivide(n,0)}}else if(arguments.length===2){var s=arguments[0],a=arguments[1],c=null,h=null,g=null,y=null,w=null,_=null,T=null,E=null;return w=this._hi/s,E=(c=(_=Vt.SPLIT*w)-(c=_-w))*(g=(E=Vt.SPLIT*s)-(g=E-s))-(T=w*s)+c*(y=s-g)+(h=w-c)*g+h*y,E=w+(_=(this._hi-T-E+this._lo-w*a)/s),this._hi=E,this._lo=w-E+_,this}},Vt.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},Vt.prototype.divide=function(){if(arguments[0]instanceof Vt){var e=arguments[0],n=null,s=null,a=null,c=null,h=null,g=null,y=null,w=null;s=(h=this._hi/e._hi)-(n=(g=Vt.SPLIT*h)-(n=g-h)),w=n*(a=(w=Vt.SPLIT*e._hi)-(a=w-e._hi))-(y=h*e._hi)+n*(c=e._hi-a)+s*a+s*c;var _=w=h+(g=(this._hi-y-w+this._lo-h*e._lo)/e._hi),T=h-w+g;return new Vt(_,T)}if(typeof arguments[0]=="number"){var E=arguments[0];return Ke.isNaN(E)?Vt.createNaN():Vt.copy(this).selfDivide(E,0)}},Vt.prototype.ge=function(e){return(this._hi>e._hi||this._hi===e._hi)&&this._lo>=e._lo},Vt.prototype.pow=function(e){if(e===0)return Vt.valueOf(1);var n=new Vt(this),s=Vt.valueOf(1),a=Math.abs(e);if(a>1)for(;a>0;)a%2==1&&s.selfMultiply(n),(a/=2)>0&&(n=n.sqr());else s=n;return e<0?s.reciprocal():s},Vt.prototype.ceil=function(){if(this.isNaN())return Vt.NaN;var e=Math.ceil(this._hi),n=0;return e===this._hi&&(n=Math.ceil(this._lo)),new Vt(e,n)},Vt.prototype.compareTo=function(e){var n=e;return this._hi<n._hi?-1:this._hi>n._hi?1:this._lo<n._lo?-1:this._lo>n._lo?1:0},Vt.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},Vt.prototype.setValue=function(){if(arguments[0]instanceof Vt){var e=arguments[0];return this.init(e),this}if(typeof arguments[0]=="number"){var n=arguments[0];return this.init(n),this}},Vt.prototype.max=function(e){return this.ge(e)?this:e},Vt.prototype.sqrt=function(){if(this.isZero())return Vt.valueOf(0);if(this.isNegative())return Vt.NaN;var e=1/Math.sqrt(this._hi),n=this._hi*e,s=Vt.valueOf(n),a=this.subtract(s.sqr())._hi*(.5*e);return s.add(a)},Vt.prototype.selfAdd=function(){if(arguments.length===1){if(arguments[0]instanceof Vt){var e=arguments[0];return this.selfAdd(e._hi,e._lo)}if(typeof arguments[0]=="number"){var n=arguments[0],s=null,a=null,c=null,h=null,g=null,y=null;return h=(c=this._hi+n)-(g=c-this._hi),a=(y=(h=n-g+(this._hi-h))+this._lo)+(c-(s=c+y)),this._hi=s+a,this._lo=a+(s-this._hi),this}}else if(arguments.length===2){var w=arguments[0],_=arguments[1],T=null,E=null,P=null,z=null,N=null,B=null,R=null;z=this._hi+w,E=this._lo+_,N=z-(B=z-this._hi),P=E-(R=E-this._lo);var Y=(T=z+(B=(N=w-B+(this._hi-N))+E))+(B=(P=_-R+(this._lo-P))+(B+(z-T))),nt=B+(T-Y);return this._hi=Y,this._lo=nt,this}},Vt.prototype.selfMultiply=function(){if(arguments.length===1){if(arguments[0]instanceof Vt){var e=arguments[0];return this.selfMultiply(e._hi,e._lo)}if(typeof arguments[0]=="number"){var n=arguments[0];return this.selfMultiply(n,0)}}else if(arguments.length===2){var s=arguments[0],a=arguments[1],c=null,h=null,g=null,y=null,w=null,_=null;c=(w=Vt.SPLIT*this._hi)-this._hi,_=Vt.SPLIT*s,c=w-c,h=this._hi-c,g=_-s;var T=(w=this._hi*s)+(_=c*(g=_-g)-w+c*(y=s-g)+h*g+h*y+(this._hi*a+this._lo*s)),E=_+(c=w-T);return this._hi=T,this._lo=E,this}},Vt.prototype.selfSqr=function(){return this.selfMultiply(this)},Vt.prototype.floor=function(){if(this.isNaN())return Vt.NaN;var e=Math.floor(this._hi),n=0;return e===this._hi&&(n=Math.floor(this._lo)),new Vt(e,n)},Vt.prototype.negate=function(){return this.isNaN()?this:new Vt(-this._hi,-this._lo)},Vt.prototype.clone=function(){},Vt.prototype.multiply=function(){if(arguments[0]instanceof Vt){var e=arguments[0];return e.isNaN()?Vt.createNaN():Vt.copy(this).selfMultiply(e)}if(typeof arguments[0]=="number"){var n=arguments[0];return Ke.isNaN(n)?Vt.createNaN():Vt.copy(this).selfMultiply(n,0)}},Vt.prototype.isNaN=function(){return Ke.isNaN(this._hi)},Vt.prototype.intValue=function(){return Math.trunc(this._hi)},Vt.prototype.toString=function(){var e=Vt.magnitude(this._hi);return e>=-3&&e<=20?this.toStandardNotation():this.toSciNotation()},Vt.prototype.toStandardNotation=function(){var e=this.getSpecialNumberString();if(e!==null)return e;var n=new Array(1).fill(null),s=this.extractSignificantDigits(!0,n),a=n[0]+1,c=s;if(s.charAt(0)===".")c="0"+s;else if(a<0)c="0."+Vt.stringOfChar("0",-a)+s;else if(s.indexOf(".")===-1){var h=a-s.length;c=s+Vt.stringOfChar("0",h)+".0"}return this.isNegative()?"-"+c:c},Vt.prototype.reciprocal=function(){var e,n,s,a,c=null,h=null,g=null,y=null;e=(s=1/this._hi)-(c=(g=Vt.SPLIT*s)-(c=g-s)),h=(y=Vt.SPLIT*this._hi)-this._hi;var w=s+(g=(1-(a=s*this._hi)-(y=c*(h=y-h)-a+c*(n=this._hi-h)+e*h+e*n)-s*this._lo)/this._hi);return new Vt(w,s-w+g)},Vt.prototype.toSciNotation=function(){if(this.isZero())return Vt.SCI_NOT_ZERO;var e=this.getSpecialNumberString();if(e!==null)return e;var n=new Array(1).fill(null),s=this.extractSignificantDigits(!1,n),a=Vt.SCI_NOT_EXPONENT_CHAR+n[0];if(s.charAt(0)==="0")throw new Error("Found leading zero: "+s);var c="";s.length>1&&(c=s.substring(1));var h=s.charAt(0)+"."+c;return this.isNegative()?"-"+h+a:h+a},Vt.prototype.abs=function(){return this.isNaN()?Vt.NaN:this.isNegative()?this.negate():new Vt(this)},Vt.prototype.isPositive=function(){return(this._hi>0||this._hi===0)&&this._lo>0},Vt.prototype.lt=function(e){return(this._hi<e._hi||this._hi===e._hi)&&this._lo<e._lo},Vt.prototype.add=function(){if(arguments[0]instanceof Vt){var e=arguments[0];return Vt.copy(this).selfAdd(e)}if(typeof arguments[0]=="number"){var n=arguments[0];return Vt.copy(this).selfAdd(n)}},Vt.prototype.init=function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var e=arguments[0];this._hi=e,this._lo=0}else if(arguments[0]instanceof Vt){var n=arguments[0];this._hi=n._hi,this._lo=n._lo}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];this._hi=s,this._lo=a}},Vt.prototype.gt=function(e){return(this._hi>e._hi||this._hi===e._hi)&&this._lo>e._lo},Vt.prototype.isNegative=function(){return(this._hi<0||this._hi===0)&&this._lo<0},Vt.prototype.trunc=function(){return this.isNaN()?Vt.NaN:this.isPositive()?this.floor():this.ceil()},Vt.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},Vt.prototype.interfaces_=function(){return[jo,Bo,a0]},Vt.prototype.getClass=function(){return Vt},Vt.sqr=function(e){return Vt.valueOf(e).selfMultiply(e)},Vt.valueOf=function(){if(typeof arguments[0]=="string"){var e=arguments[0];return Vt.parse(e)}if(typeof arguments[0]=="number"){var n=arguments[0];return new Vt(n)}},Vt.sqrt=function(e){return Vt.valueOf(e).sqrt()},Vt.parse=function(e){for(var n=0,s=e.length;kf.isWhitespace(e.charAt(n));)n++;var a=!1;if(n<s){var c=e.charAt(n);c!=="-"&&c!=="+"||(n++,c==="-"&&(a=!0))}for(var h=new Vt,g=0,y=0,w=0;!(n>=s);){var _=e.charAt(n);if(n++,kf.isDigit(_)){var T=_-"0";h.selfMultiply(Vt.TEN),h.selfAdd(T),g++}else{if(_!=="."){if(_==="e"||_==="E"){var E=e.substring(n);try{w=As.parseInt(E)}catch(R){throw R instanceof Error?new Error("Invalid exponent "+E+" in string "+e):R}break}throw new Error("Unexpected character '"+_+"' at position "+n+" in string "+e)}y=g}}var P=h,z=g-y-w;if(z===0)P=h;else if(z>0){var N=Vt.TEN.pow(z);P=h.divide(N)}else if(z<0){var B=Vt.TEN.pow(-z);P=h.multiply(B)}return a?P.negate():P},Vt.createNaN=function(){return new Vt(Ke.NaN,Ke.NaN)},Vt.copy=function(e){return new Vt(e)},Vt.magnitude=function(e){var n=Math.abs(e),s=Math.log(n)/Math.log(10),a=Math.trunc(Math.floor(s));return 10*Math.pow(10,a)<=n&&(a+=1),a},Vt.stringOfChar=function(e,n){for(var s=new Ls,a=0;a<n;a++)s.append(e);return s.toString()},as.PI.get=function(){return new Vt(3.141592653589793,12246467991473532e-32)},as.TWO_PI.get=function(){return new Vt(6.283185307179586,24492935982947064e-32)},as.PI_2.get=function(){return new Vt(1.5707963267948966,6123233995736766e-32)},as.E.get=function(){return new Vt(2.718281828459045,14456468917292502e-32)},as.NaN.get=function(){return new Vt(Ke.NaN,Ke.NaN)},as.EPS.get=function(){return 123259516440783e-46},as.SPLIT.get=function(){return 134217729},as.MAX_PRINT_DIGITS.get=function(){return 32},as.TEN.get=function(){return Vt.valueOf(10)},as.ONE.get=function(){return Vt.valueOf(1)},as.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},as.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(Vt,as);var Kn=function(){},Rk={DP_SAFE_EPSILON:{configurable:!0}};Kn.prototype.interfaces_=function(){return[]},Kn.prototype.getClass=function(){return Kn},Kn.orientationIndex=function(e,n,s){var a=Kn.orientationIndexFilter(e,n,s);if(a<=1)return a;var c=Vt.valueOf(n.x).selfAdd(-e.x),h=Vt.valueOf(n.y).selfAdd(-e.y),g=Vt.valueOf(s.x).selfAdd(-n.x),y=Vt.valueOf(s.y).selfAdd(-n.y);return c.selfMultiply(y).selfSubtract(h.selfMultiply(g)).signum()},Kn.signOfDet2x2=function(e,n,s,a){return e.multiply(a).selfSubtract(n.multiply(s)).signum()},Kn.intersection=function(e,n,s,a){var c=Vt.valueOf(a.y).selfSubtract(s.y).selfMultiply(Vt.valueOf(n.x).selfSubtract(e.x)),h=Vt.valueOf(a.x).selfSubtract(s.x).selfMultiply(Vt.valueOf(n.y).selfSubtract(e.y)),g=c.subtract(h),y=Vt.valueOf(a.x).selfSubtract(s.x).selfMultiply(Vt.valueOf(e.y).selfSubtract(s.y)),w=Vt.valueOf(a.y).selfSubtract(s.y).selfMultiply(Vt.valueOf(e.x).selfSubtract(s.x)),_=y.subtract(w).selfDivide(g).doubleValue(),T=Vt.valueOf(e.x).selfAdd(Vt.valueOf(n.x).selfSubtract(e.x).selfMultiply(_)).doubleValue(),E=Vt.valueOf(n.x).selfSubtract(e.x).selfMultiply(Vt.valueOf(e.y).selfSubtract(s.y)),P=Vt.valueOf(n.y).selfSubtract(e.y).selfMultiply(Vt.valueOf(e.x).selfSubtract(s.x)),z=E.subtract(P).selfDivide(g).doubleValue(),N=Vt.valueOf(s.y).selfAdd(Vt.valueOf(a.y).selfSubtract(s.y).selfMultiply(z)).doubleValue();return new Mt(T,N)},Kn.orientationIndexFilter=function(e,n,s){var a=null,c=(e.x-s.x)*(n.y-s.y),h=(e.y-s.y)*(n.x-s.x),g=c-h;if(c>0){if(h<=0)return Kn.signum(g);a=c+h}else{if(!(c<0)||h>=0)return Kn.signum(g);a=-c-h}var y=Kn.DP_SAFE_EPSILON*a;return g>=y||-g>=y?Kn.signum(g):2},Kn.signum=function(e){return e>0?1:e<0?-1:0},Rk.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(Kn,Rk);var yr=function(){},Ef={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};Ef.X.get=function(){return 0},Ef.Y.get=function(){return 1},Ef.Z.get=function(){return 2},Ef.M.get=function(){return 3},yr.prototype.setOrdinate=function(e,n,s){},yr.prototype.size=function(){},yr.prototype.getOrdinate=function(e,n){},yr.prototype.getCoordinate=function(){},yr.prototype.getCoordinateCopy=function(e){},yr.prototype.getDimension=function(){},yr.prototype.getX=function(e){},yr.prototype.clone=function(){},yr.prototype.expandEnvelope=function(e){},yr.prototype.copy=function(){},yr.prototype.getY=function(e){},yr.prototype.toCoordinateArray=function(){},yr.prototype.interfaces_=function(){return[a0]},yr.prototype.getClass=function(){return yr},Object.defineProperties(yr,Ef);var Ok=function(){},vd=function(e){function n(){e.call(this,"Projective point not representable on the Cartesian plane.")}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(Ok),pn=function(){};pn.arraycopy=function(e,n,s,a,c){for(var h=0,g=n;g<n+c;g++)s[a+h]=e[g],h++},pn.getProperty=function(e){return{"line.separator":`
`}[e]};var ls=function e(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var n=arguments[0];this.x=n.x,this.y=n.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var s=arguments[0],a=arguments[1];this.x=s,this.y=a,this.w=1}else if(arguments[0]instanceof e&&arguments[1]instanceof e){var c=arguments[0],h=arguments[1];this.x=c.y*h.w-h.y*c.w,this.y=h.x*c.w-c.x*h.w,this.w=c.x*h.y-h.x*c.y}else if(arguments[0]instanceof Mt&&arguments[1]instanceof Mt){var g=arguments[0],y=arguments[1];this.x=g.y-y.y,this.y=y.x-g.x,this.w=g.x*y.y-y.x*g.y}}else if(arguments.length===3){var w=arguments[0],_=arguments[1],T=arguments[2];this.x=w,this.y=_,this.w=T}else if(arguments.length===4){var E=arguments[0],P=arguments[1],z=arguments[2],N=arguments[3],B=E.y-P.y,R=P.x-E.x,Y=E.x*P.y-P.x*E.y,nt=z.y-N.y,F=N.x-z.x,Z=z.x*N.y-N.x*z.y;this.x=R*Z-F*Y,this.y=nt*Y-B*Z,this.w=B*F-nt*R}};ls.prototype.getY=function(){var e=this.y/this.w;if(Ke.isNaN(e)||Ke.isInfinite(e))throw new vd;return e},ls.prototype.getX=function(){var e=this.x/this.w;if(Ke.isNaN(e)||Ke.isInfinite(e))throw new vd;return e},ls.prototype.getCoordinate=function(){var e=new Mt;return e.x=this.getX(),e.y=this.getY(),e},ls.prototype.interfaces_=function(){return[]},ls.prototype.getClass=function(){return ls},ls.intersection=function(e,n,s,a){var c=e.y-n.y,h=n.x-e.x,g=e.x*n.y-n.x*e.y,y=s.y-a.y,w=a.x-s.x,_=s.x*a.y-a.x*s.y,T=c*w-y*h,E=(h*_-w*g)/T,P=(y*g-c*_)/T;if(Ke.isNaN(E)||Ke.isInfinite(E)||Ke.isNaN(P)||Ke.isInfinite(P))throw new vd;return new Mt(E,P)};var Re=function e(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof Mt){var n=arguments[0];this.init(n.x,n.x,n.y,n.y)}else if(arguments[0]instanceof e){var s=arguments[0];this.init(s)}}else if(arguments.length===2){var a=arguments[0],c=arguments[1];this.init(a.x,c.x,a.y,c.y)}else if(arguments.length===4){var h=arguments[0],g=arguments[1],y=arguments[2],w=arguments[3];this.init(h,g,y,w)}},zk={serialVersionUID:{configurable:!0}};Re.prototype.getArea=function(){return this.getWidth()*this.getHeight()},Re.prototype.equals=function(e){if(!(e instanceof Re))return!1;var n=e;return this.isNull()?n.isNull():this._maxx===n.getMaxX()&&this._maxy===n.getMaxY()&&this._minx===n.getMinX()&&this._miny===n.getMinY()},Re.prototype.intersection=function(e){if(this.isNull()||e.isNull()||!this.intersects(e))return new Re;var n=this._minx>e._minx?this._minx:e._minx,s=this._miny>e._miny?this._miny:e._miny,a=this._maxx<e._maxx?this._maxx:e._maxx,c=this._maxy<e._maxy?this._maxy:e._maxy;return new Re(n,a,s,c)},Re.prototype.isNull=function(){return this._maxx<this._minx},Re.prototype.getMaxX=function(){return this._maxx},Re.prototype.covers=function(){if(arguments.length===1){if(arguments[0]instanceof Mt){var e=arguments[0];return this.covers(e.x,e.y)}if(arguments[0]instanceof Re){var n=arguments[0];return!this.isNull()&&!n.isNull()&&n.getMinX()>=this._minx&&n.getMaxX()<=this._maxx&&n.getMinY()>=this._miny&&n.getMaxY()<=this._maxy}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];return!this.isNull()&&s>=this._minx&&s<=this._maxx&&a>=this._miny&&a<=this._maxy}},Re.prototype.intersects=function(){if(arguments.length===1){if(arguments[0]instanceof Re){var e=arguments[0];return!this.isNull()&&!e.isNull()&&!(e._minx>this._maxx||e._maxx<this._minx||e._miny>this._maxy||e._maxy<this._miny)}if(arguments[0]instanceof Mt){var n=arguments[0];return this.intersects(n.x,n.y)}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];return!this.isNull()&&!(s>this._maxx||s<this._minx||a>this._maxy||a<this._miny)}},Re.prototype.getMinY=function(){return this._miny},Re.prototype.getMinX=function(){return this._minx},Re.prototype.expandToInclude=function(){if(arguments.length===1){if(arguments[0]instanceof Mt){var e=arguments[0];this.expandToInclude(e.x,e.y)}else if(arguments[0]instanceof Re){var n=arguments[0];if(n.isNull())return null;this.isNull()?(this._minx=n.getMinX(),this._maxx=n.getMaxX(),this._miny=n.getMinY(),this._maxy=n.getMaxY()):(n._minx<this._minx&&(this._minx=n._minx),n._maxx>this._maxx&&(this._maxx=n._maxx),n._miny<this._miny&&(this._miny=n._miny),n._maxy>this._maxy&&(this._maxy=n._maxy))}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];this.isNull()?(this._minx=s,this._maxx=s,this._miny=a,this._maxy=a):(s<this._minx&&(this._minx=s),s>this._maxx&&(this._maxx=s),a<this._miny&&(this._miny=a),a>this._maxy&&(this._maxy=a))}},Re.prototype.minExtent=function(){if(this.isNull())return 0;var e=this.getWidth(),n=this.getHeight();return e<n?e:n},Re.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},Re.prototype.compareTo=function(e){var n=e;return this.isNull()?n.isNull()?0:-1:n.isNull()?1:this._minx<n._minx?-1:this._minx>n._minx?1:this._miny<n._miny?-1:this._miny>n._miny?1:this._maxx<n._maxx?-1:this._maxx>n._maxx?1:this._maxy<n._maxy?-1:this._maxy>n._maxy?1:0},Re.prototype.translate=function(e,n){if(this.isNull())return null;this.init(this.getMinX()+e,this.getMaxX()+e,this.getMinY()+n,this.getMaxY()+n)},Re.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},Re.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},Re.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},Re.prototype.maxExtent=function(){if(this.isNull())return 0;var e=this.getWidth(),n=this.getHeight();return e>n?e:n},Re.prototype.expandBy=function(){if(arguments.length===1){var e=arguments[0];this.expandBy(e,e)}else if(arguments.length===2){var n=arguments[0],s=arguments[1];if(this.isNull())return null;this._minx-=n,this._maxx+=n,this._miny-=s,this._maxy+=s,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},Re.prototype.contains=function(){if(arguments.length===1){if(arguments[0]instanceof Re){var e=arguments[0];return this.covers(e)}if(arguments[0]instanceof Mt){var n=arguments[0];return this.covers(n)}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];return this.covers(s,a)}},Re.prototype.centre=function(){return this.isNull()?null:new Mt((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},Re.prototype.init=function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof Mt){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof Re){var n=arguments[0];this._minx=n._minx,this._maxx=n._maxx,this._miny=n._miny,this._maxy=n._maxy}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];this.init(s.x,a.x,s.y,a.y)}else if(arguments.length===4){var c=arguments[0],h=arguments[1],g=arguments[2],y=arguments[3];c<h?(this._minx=c,this._maxx=h):(this._minx=h,this._maxx=c),g<y?(this._miny=g,this._maxy=y):(this._miny=y,this._maxy=g)}},Re.prototype.getMaxY=function(){return this._maxy},Re.prototype.distance=function(e){if(this.intersects(e))return 0;var n=0;this._maxx<e._minx?n=e._minx-this._maxx:this._minx>e._maxx&&(n=this._minx-e._maxx);var s=0;return this._maxy<e._miny?s=e._miny-this._maxy:this._miny>e._maxy&&(s=this._miny-e._maxy),n===0?s:s===0?n:Math.sqrt(n*n+s*s)},Re.prototype.hashCode=function(){var e=17;return e=37*(e=37*(e=37*(e=37*e+Mt.hashCode(this._minx))+Mt.hashCode(this._maxx))+Mt.hashCode(this._miny))+Mt.hashCode(this._maxy)},Re.prototype.interfaces_=function(){return[Bo,jo]},Re.prototype.getClass=function(){return Re},Re.intersects=function(){if(arguments.length===3){var e=arguments[0],n=arguments[1],s=arguments[2];return s.x>=(e.x<n.x?e.x:n.x)&&s.x<=(e.x>n.x?e.x:n.x)&&s.y>=(e.y<n.y?e.y:n.y)&&s.y<=(e.y>n.y?e.y:n.y)}if(arguments.length===4){var a=arguments[0],c=arguments[1],h=arguments[2],g=arguments[3],y=Math.min(h.x,g.x),w=Math.max(h.x,g.x),_=Math.min(a.x,c.x),T=Math.max(a.x,c.x);return!(_>w)&&!(T<y)&&(y=Math.min(h.y,g.y),w=Math.max(h.y,g.y),_=Math.min(a.y,c.y),T=Math.max(a.y,c.y),!(_>w)&&!(T<y))}},zk.serialVersionUID.get=function(){return 5873921885273102e3},Object.defineProperties(Re,zk);var Rs={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},l0=function(e){this.geometryFactory=e||new cr};l0.prototype.read=function(e){var n,s,a;e=e.replace(/[\n\r]/g," ");var c=Rs.typeStr.exec(e);if(e.search("EMPTY")!==-1&&((c=Rs.emptyTypeStr.exec(e))[2]=void 0),c&&(s=c[1].toLowerCase(),a=c[2],yd[s]&&(n=yd[s].apply(this,[a]))),n===void 0)throw new Error("Could not parse WKT "+e);return n},l0.prototype.write=function(e){return this.extractGeometry(e)},l0.prototype.extractGeometry=function(e){var n=e.getGeometryType().toLowerCase();if(!Va[n])return null;var s=n.toUpperCase();return e.isEmpty()?s+" EMPTY":s+"("+Va[n].apply(this,[e])+")"};var Va={coordinate:function(e){return e.x+" "+e.y},point:function(e){return Va.coordinate.call(this,e._coordinates._coordinates[0])},multipoint:function(e){for(var n=[],s=0,a=e._geometries.length;s<a;++s)n.push("("+Va.point.apply(this,[e._geometries[s]])+")");return n.join(",")},linestring:function(e){for(var n=[],s=0,a=e._points._coordinates.length;s<a;++s)n.push(Va.coordinate.apply(this,[e._points._coordinates[s]]));return n.join(",")},linearring:function(e){for(var n=[],s=0,a=e._points._coordinates.length;s<a;++s)n.push(Va.coordinate.apply(this,[e._points._coordinates[s]]));return n.join(",")},multilinestring:function(e){for(var n=[],s=0,a=e._geometries.length;s<a;++s)n.push("("+Va.linestring.apply(this,[e._geometries[s]])+")");return n.join(",")},polygon:function(e){var n=[];n.push("("+Va.linestring.apply(this,[e._shell])+")");for(var s=0,a=e._holes.length;s<a;++s)n.push("("+Va.linestring.apply(this,[e._holes[s]])+")");return n.join(",")},multipolygon:function(e){for(var n=[],s=0,a=e._geometries.length;s<a;++s)n.push("("+Va.polygon.apply(this,[e._geometries[s]])+")");return n.join(",")},geometrycollection:function(e){for(var n=[],s=0,a=e._geometries.length;s<a;++s)n.push(this.extractGeometry(e._geometries[s]));return n.join(",")}},yd={point:function(e){if(e===void 0)return this.geometryFactory.createPoint();var n=e.trim().split(Rs.spaces);return this.geometryFactory.createPoint(new Mt(Number.parseFloat(n[0]),Number.parseFloat(n[1])))},multipoint:function(e){var n;if(e===void 0)return this.geometryFactory.createMultiPoint();for(var s=e.trim().split(","),a=[],c=0,h=s.length;c<h;++c)n=s[c].replace(Rs.trimParens,"$1"),a.push(yd.point.apply(this,[n]));return this.geometryFactory.createMultiPoint(a)},linestring:function(e){if(e===void 0)return this.geometryFactory.createLineString();for(var n,s=e.trim().split(","),a=[],c=0,h=s.length;c<h;++c)n=s[c].trim().split(Rs.spaces),a.push(new Mt(Number.parseFloat(n[0]),Number.parseFloat(n[1])));return this.geometryFactory.createLineString(a)},linearring:function(e){if(e===void 0)return this.geometryFactory.createLinearRing();for(var n,s=e.trim().split(","),a=[],c=0,h=s.length;c<h;++c)n=s[c].trim().split(Rs.spaces),a.push(new Mt(Number.parseFloat(n[0]),Number.parseFloat(n[1])));return this.geometryFactory.createLinearRing(a)},multilinestring:function(e){var n;if(e===void 0)return this.geometryFactory.createMultiLineString();for(var s=e.trim().split(Rs.parenComma),a=[],c=0,h=s.length;c<h;++c)n=s[c].replace(Rs.trimParens,"$1"),a.push(yd.linestring.apply(this,[n]));return this.geometryFactory.createMultiLineString(a)},polygon:function(e){var n,s,a;if(e===void 0)return this.geometryFactory.createPolygon();for(var c,h=e.trim().split(Rs.parenComma),g=[],y=0,w=h.length;y<w;++y)n=h[y].replace(Rs.trimParens,"$1"),s=yd.linestring.apply(this,[n]),a=this.geometryFactory.createLinearRing(s._points),y===0?c=a:g.push(a);return this.geometryFactory.createPolygon(c,g)},multipolygon:function(e){var n;if(e===void 0)return this.geometryFactory.createMultiPolygon();for(var s=e.trim().split(Rs.doubleParenComma),a=[],c=0,h=s.length;c<h;++c)n=s[c].replace(Rs.trimParens,"$1"),a.push(yd.polygon.apply(this,[n]));return this.geometryFactory.createMultiPolygon(a)},geometrycollection:function(e){if(e===void 0)return this.geometryFactory.createGeometryCollection();for(var n=(e=e.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),s=[],a=0,c=n.length;a<c;++a)s.push(this.read(n[a]));return this.geometryFactory.createGeometryCollection(s)}},cs=function(e){this.parser=new l0(e)};cs.prototype.write=function(e){return this.parser.write(e)},cs.toLineString=function(e,n){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+e.x+" "+e.y+", "+n.x+" "+n.y+" )"};var Wa=function(e){function n(s){e.call(this,s),this.name="RuntimeException",this.message=s,this.stack=new e().stack}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n}(Error),c0=function(e){function n(){if(e.call(this),arguments.length===0)e.call(this);else if(arguments.length===1){var s=arguments[0];e.call(this,s)}}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(Wa),$e=function(){};$e.prototype.interfaces_=function(){return[]},$e.prototype.getClass=function(){return $e},$e.shouldNeverReachHere=function(){if(arguments.length===0)$e.shouldNeverReachHere(null);else if(arguments.length===1){var e=arguments[0];throw new c0("Should never reach here"+(e!==null?": "+e:""))}},$e.isTrue=function(){var e;if(arguments.length===1)$e.isTrue(arguments[0],null);else if(arguments.length===2&&(e=arguments[1],!arguments[0]))throw e===null?new c0:new c0(e)},$e.equals=function(){var e,n,s;if(arguments.length===2)$e.equals(e=arguments[0],n=arguments[1],null);else if(arguments.length===3&&(e=arguments[0],s=arguments[2],!(n=arguments[1]).equals(e)))throw new c0("Expected "+e+" but encountered "+n+(s!==null?": "+s:""))};var Ei=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new Mt,this._intPt[1]=new Mt,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},Xu={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};Ei.prototype.getIndexAlongSegment=function(e,n){return this.computeIntLineIndex(),this._intLineIndex[e][n]},Ei.prototype.getTopologySummary=function(){var e=new Ls;return this.isEndPoint()&&e.append(" endpoint"),this._isProper&&e.append(" proper"),this.isCollinear()&&e.append(" collinear"),e.toString()},Ei.prototype.computeIntersection=function(e,n,s,a){this._inputLines[0][0]=e,this._inputLines[0][1]=n,this._inputLines[1][0]=s,this._inputLines[1][1]=a,this._result=this.computeIntersect(e,n,s,a)},Ei.prototype.getIntersectionNum=function(){return this._result},Ei.prototype.computeIntLineIndex=function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var e=arguments[0],n=this.getEdgeDistance(e,0),s=this.getEdgeDistance(e,1);n>s?(this._intLineIndex[e][0]=0,this._intLineIndex[e][1]=1):(this._intLineIndex[e][0]=1,this._intLineIndex[e][1]=0)}},Ei.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},Ei.prototype.setPrecisionModel=function(e){this._precisionModel=e},Ei.prototype.isInteriorIntersection=function(){var e=this;if(arguments.length===0)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(arguments.length===1){for(var n=arguments[0],s=0;s<this._result;s++)if(!e._intPt[s].equals2D(e._inputLines[n][0])&&!e._intPt[s].equals2D(e._inputLines[n][1]))return!0;return!1}},Ei.prototype.getIntersection=function(e){return this._intPt[e]},Ei.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},Ei.prototype.hasIntersection=function(){return this._result!==Ei.NO_INTERSECTION},Ei.prototype.getEdgeDistance=function(e,n){return Ei.computeEdgeDistance(this._intPt[n],this._inputLines[e][0],this._inputLines[e][1])},Ei.prototype.isCollinear=function(){return this._result===Ei.COLLINEAR_INTERSECTION},Ei.prototype.toString=function(){return cs.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+cs.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},Ei.prototype.getEndpoint=function(e,n){return this._inputLines[e][n]},Ei.prototype.isIntersection=function(e){for(var n=0;n<this._result;n++)if(this._intPt[n].equals2D(e))return!0;return!1},Ei.prototype.getIntersectionAlongSegment=function(e,n){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[e][n]]},Ei.prototype.interfaces_=function(){return[]},Ei.prototype.getClass=function(){return Ei},Ei.computeEdgeDistance=function(e,n,s){var a=Math.abs(s.x-n.x),c=Math.abs(s.y-n.y),h=-1;if(e.equals(n))h=0;else if(e.equals(s))h=a>c?a:c;else{var g=Math.abs(e.x-n.x),y=Math.abs(e.y-n.y);(h=a>c?g:y)!==0||e.equals(n)||(h=Math.max(g,y))}return $e.isTrue(!(h===0&&!e.equals(n)),"Bad distance calculation"),h},Ei.nonRobustComputeEdgeDistance=function(e,n,s){var a=e.x-n.x,c=e.y-n.y,h=Math.sqrt(a*a+c*c);return $e.isTrue(!(h===0&&!e.equals(n)),"Invalid distance calculation"),h},Xu.DONT_INTERSECT.get=function(){return 0},Xu.DO_INTERSECT.get=function(){return 1},Xu.COLLINEAR.get=function(){return 2},Xu.NO_INTERSECTION.get=function(){return 0},Xu.POINT_INTERSECTION.get=function(){return 1},Xu.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(Ei,Xu);var Bc=function(e){function n(){e.apply(this,arguments)}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.isInSegmentEnvelopes=function(s){var a=new Re(this._inputLines[0][0],this._inputLines[0][1]),c=new Re(this._inputLines[1][0],this._inputLines[1][1]);return a.contains(s)&&c.contains(s)},n.prototype.computeIntersection=function(){if(arguments.length!==3)return e.prototype.computeIntersection.apply(this,arguments);var s=arguments[0],a=arguments[1],c=arguments[2];if(this._isProper=!1,Re.intersects(a,c,s)&&ve.orientationIndex(a,c,s)===0&&ve.orientationIndex(c,a,s)===0)return this._isProper=!0,(s.equals(a)||s.equals(c))&&(this._isProper=!1),this._result=e.POINT_INTERSECTION,null;this._result=e.NO_INTERSECTION},n.prototype.normalizeToMinimum=function(s,a,c,h,g){g.x=this.smallestInAbsValue(s.x,a.x,c.x,h.x),g.y=this.smallestInAbsValue(s.y,a.y,c.y,h.y),s.x-=g.x,s.y-=g.y,a.x-=g.x,a.y-=g.y,c.x-=g.x,c.y-=g.y,h.x-=g.x,h.y-=g.y},n.prototype.safeHCoordinateIntersection=function(s,a,c,h){var g=null;try{g=ls.intersection(s,a,c,h)}catch(y){if(!(y instanceof vd))throw y;g=n.nearestEndpoint(s,a,c,h)}return g},n.prototype.intersection=function(s,a,c,h){var g=this.intersectionWithNormalization(s,a,c,h);return this.isInSegmentEnvelopes(g)||(g=new Mt(n.nearestEndpoint(s,a,c,h))),this._precisionModel!==null&&this._precisionModel.makePrecise(g),g},n.prototype.smallestInAbsValue=function(s,a,c,h){var g=s,y=Math.abs(g);return Math.abs(a)<y&&(g=a,y=Math.abs(a)),Math.abs(c)<y&&(g=c,y=Math.abs(c)),Math.abs(h)<y&&(g=h),g},n.prototype.checkDD=function(s,a,c,h,g){var y=Kn.intersection(s,a,c,h),w=this.isInSegmentEnvelopes(y);pn.out.println("DD in env = "+w+"  --------------------- "+y),g.distance(y)>1e-4&&pn.out.println("Distance = "+g.distance(y))},n.prototype.intersectionWithNormalization=function(s,a,c,h){var g=new Mt(s),y=new Mt(a),w=new Mt(c),_=new Mt(h),T=new Mt;this.normalizeToEnvCentre(g,y,w,_,T);var E=this.safeHCoordinateIntersection(g,y,w,_);return E.x+=T.x,E.y+=T.y,E},n.prototype.computeCollinearIntersection=function(s,a,c,h){var g=Re.intersects(s,a,c),y=Re.intersects(s,a,h),w=Re.intersects(c,h,s),_=Re.intersects(c,h,a);return g&&y?(this._intPt[0]=c,this._intPt[1]=h,e.COLLINEAR_INTERSECTION):w&&_?(this._intPt[0]=s,this._intPt[1]=a,e.COLLINEAR_INTERSECTION):g&&w?(this._intPt[0]=c,this._intPt[1]=s,!c.equals(s)||y||_?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):g&&_?(this._intPt[0]=c,this._intPt[1]=a,!c.equals(a)||y||w?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):y&&w?(this._intPt[0]=h,this._intPt[1]=s,!h.equals(s)||g||_?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):y&&_?(this._intPt[0]=h,this._intPt[1]=a,!h.equals(a)||g||w?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):e.NO_INTERSECTION},n.prototype.normalizeToEnvCentre=function(s,a,c,h,g){var y=s.x<a.x?s.x:a.x,w=s.y<a.y?s.y:a.y,_=s.x>a.x?s.x:a.x,T=s.y>a.y?s.y:a.y,E=c.x<h.x?c.x:h.x,P=c.y<h.y?c.y:h.y,z=c.x>h.x?c.x:h.x,N=c.y>h.y?c.y:h.y,B=((y>E?y:E)+(_<z?_:z))/2,R=((w>P?w:P)+(T<N?T:N))/2;g.x=B,g.y=R,s.x-=g.x,s.y-=g.y,a.x-=g.x,a.y-=g.y,c.x-=g.x,c.y-=g.y,h.x-=g.x,h.y-=g.y},n.prototype.computeIntersect=function(s,a,c,h){if(this._isProper=!1,!Re.intersects(s,a,c,h))return e.NO_INTERSECTION;var g=ve.orientationIndex(s,a,c),y=ve.orientationIndex(s,a,h);if(g>0&&y>0||g<0&&y<0)return e.NO_INTERSECTION;var w=ve.orientationIndex(c,h,s),_=ve.orientationIndex(c,h,a);return w>0&&_>0||w<0&&_<0?e.NO_INTERSECTION:g===0&&y===0&&w===0&&_===0?this.computeCollinearIntersection(s,a,c,h):(g===0||y===0||w===0||_===0?(this._isProper=!1,s.equals2D(c)||s.equals2D(h)?this._intPt[0]=s:a.equals2D(c)||a.equals2D(h)?this._intPt[0]=a:g===0?this._intPt[0]=new Mt(c):y===0?this._intPt[0]=new Mt(h):w===0?this._intPt[0]=new Mt(s):_===0&&(this._intPt[0]=new Mt(a))):(this._isProper=!0,this._intPt[0]=this.intersection(s,a,c,h)),e.POINT_INTERSECTION)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n.nearestEndpoint=function(s,a,c,h){var g=s,y=ve.distancePointLine(s,c,h),w=ve.distancePointLine(a,c,h);return w<y&&(y=w,g=a),(w=ve.distancePointLine(c,s,a))<y&&(y=w,g=c),(w=ve.distancePointLine(h,s,a))<y&&(y=w,g=h),g},n}(Ei),Ku=function(){};Ku.prototype.interfaces_=function(){return[]},Ku.prototype.getClass=function(){return Ku},Ku.orientationIndex=function(e,n,s){var a=n.x-e.x,c=n.y-e.y,h=s.x-n.x,g=s.y-n.y;return Ku.signOfDet2x2(a,c,h,g)},Ku.signOfDet2x2=function(e,n,s,a){var c=null,h=null,g=null;if(c=1,e===0||a===0)return n===0||s===0?0:n>0?s>0?-c:c:s>0?c:-c;if(n===0||s===0)return a>0?e>0?c:-c:e>0?-c:c;if(n>0?a>0?n<=a||(c=-c,h=e,e=s,s=h,h=n,n=a,a=h):n<=-a?(c=-c,s=-s,a=-a):(h=e,e=-s,s=h,h=n,n=-a,a=h):a>0?-n<=a?(c=-c,e=-e,n=-n):(h=-e,e=s,s=h,h=-n,n=a,a=h):n>=a?(e=-e,n=-n,s=-s,a=-a):(c=-c,h=-e,e=-s,s=h,h=-n,n=-a,a=h),e>0){if(!(s>0)||!(e<=s))return c}else{if(s>0||!(e>=s))return-c;c=-c,e=-e,s=-s}for(;;){if((a-=(g=Math.floor(s/e))*n)<0)return-c;if(a>n)return c;if(e>(s-=g*e)+s){if(n<a+a)return c}else{if(n>a+a)return-c;s=e-s,a=n-a,c=-c}if(a===0)return s===0?0:-c;if(s===0||(n-=(g=Math.floor(e/s))*a)<0)return c;if(n>a)return-c;if(s>(e-=g*s)+e){if(a<n+n)return-c}else{if(a>n+n)return c;e=s-e,n=a-n,c=-c}if(n===0)return e===0?0:c;if(e===0)return-c}};var Os=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var e=arguments[0];this._p=e};Os.prototype.countSegment=function(e,n){if(e.x<this._p.x&&n.x<this._p.x)return null;if(this._p.x===n.x&&this._p.y===n.y)return this._isPointOnSegment=!0,null;if(e.y===this._p.y&&n.y===this._p.y){var s=e.x,a=n.x;return s>a&&(s=n.x,a=e.x),this._p.x>=s&&this._p.x<=a&&(this._isPointOnSegment=!0),null}if(e.y>this._p.y&&n.y<=this._p.y||n.y>this._p.y&&e.y<=this._p.y){var c=e.x-this._p.x,h=e.y-this._p.y,g=n.x-this._p.x,y=n.y-this._p.y,w=Ku.signOfDet2x2(c,h,g,y);if(w===0)return this._isPointOnSegment=!0,null;y<h&&(w=-w),w>0&&this._crossingCount++}},Os.prototype.isPointInPolygon=function(){return this.getLocation()!==jt.EXTERIOR},Os.prototype.getLocation=function(){return this._isPointOnSegment?jt.BOUNDARY:this._crossingCount%2==1?jt.INTERIOR:jt.EXTERIOR},Os.prototype.isOnSegment=function(){return this._isPointOnSegment},Os.prototype.interfaces_=function(){return[]},Os.prototype.getClass=function(){return Os},Os.locatePointInRing=function(){if(arguments[0]instanceof Mt&&Ge(arguments[1],yr)){for(var e=arguments[0],n=arguments[1],s=new Os(e),a=new Mt,c=new Mt,h=1;h<n.size();h++)if(n.getCoordinate(h,a),n.getCoordinate(h-1,c),s.countSegment(a,c),s.isOnSegment())return s.getLocation();return s.getLocation()}if(arguments[0]instanceof Mt&&arguments[1]instanceof Array){for(var g=arguments[0],y=arguments[1],w=new Os(g),_=1;_<y.length;_++){var T=y[_],E=y[_-1];if(w.countSegment(T,E),w.isOnSegment())return w.getLocation()}return w.getLocation()}};var ve=function(){},Ju={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};ve.prototype.interfaces_=function(){return[]},ve.prototype.getClass=function(){return ve},ve.orientationIndex=function(e,n,s){return Kn.orientationIndex(e,n,s)},ve.signedArea=function(){if(arguments[0]instanceof Array){var e=arguments[0];if(e.length<3)return 0;for(var n=0,s=e[0].x,a=1;a<e.length-1;a++){var c=e[a].x-s,h=e[a+1].y,g=e[a-1].y;n+=c*(g-h)}return n/2}if(Ge(arguments[0],yr)){var y=arguments[0],w=y.size();if(w<3)return 0;var _=new Mt,T=new Mt,E=new Mt;y.getCoordinate(0,T),y.getCoordinate(1,E);var P=T.x;E.x-=P;for(var z=0,N=1;N<w-1;N++)_.y=T.y,T.x=E.x,T.y=E.y,y.getCoordinate(N+1,E),E.x-=P,z+=T.x*(_.y-E.y);return z/2}},ve.distanceLineLine=function(e,n,s,a){if(e.equals(n))return ve.distancePointLine(e,s,a);if(s.equals(a))return ve.distancePointLine(a,e,n);var c=!1;if(Re.intersects(e,n,s,a)){var h=(n.x-e.x)*(a.y-s.y)-(n.y-e.y)*(a.x-s.x);if(h===0)c=!0;else{var g=(e.y-s.y)*(a.x-s.x)-(e.x-s.x)*(a.y-s.y),y=((e.y-s.y)*(n.x-e.x)-(e.x-s.x)*(n.y-e.y))/h,w=g/h;(w<0||w>1||y<0||y>1)&&(c=!0)}}else c=!0;return c?Eo.min(ve.distancePointLine(e,s,a),ve.distancePointLine(n,s,a),ve.distancePointLine(s,e,n),ve.distancePointLine(a,e,n)):0},ve.isPointInRing=function(e,n){return ve.locatePointInRing(e,n)!==jt.EXTERIOR},ve.computeLength=function(e){var n=e.size();if(n<=1)return 0;var s=0,a=new Mt;e.getCoordinate(0,a);for(var c=a.x,h=a.y,g=1;g<n;g++){e.getCoordinate(g,a);var y=a.x,w=a.y,_=y-c,T=w-h;s+=Math.sqrt(_*_+T*T),c=y,h=w}return s},ve.isCCW=function(e){var n=e.length-1;if(n<3)throw new xi("Ring has fewer than 4 points, so orientation cannot be determined");for(var s=e[0],a=0,c=1;c<=n;c++){var h=e[c];h.y>s.y&&(s=h,a=c)}var g=a;do(g-=1)<0&&(g=n);while(e[g].equals2D(s)&&g!==a);var y=a;do y=(y+1)%n;while(e[y].equals2D(s)&&y!==a);var w=e[g],_=e[y];if(w.equals2D(s)||_.equals2D(s)||w.equals2D(_))return!1;var T=ve.computeOrientation(w,s,_),E=!1;return E=T===0?w.x>_.x:T>0,E},ve.locatePointInRing=function(e,n){return Os.locatePointInRing(e,n)},ve.distancePointLinePerpendicular=function(e,n,s){var a=(s.x-n.x)*(s.x-n.x)+(s.y-n.y)*(s.y-n.y),c=((n.y-e.y)*(s.x-n.x)-(n.x-e.x)*(s.y-n.y))/a;return Math.abs(c)*Math.sqrt(a)},ve.computeOrientation=function(e,n,s){return ve.orientationIndex(e,n,s)},ve.distancePointLine=function(){if(arguments.length===2){var e=arguments[0],n=arguments[1];if(n.length===0)throw new xi("Line array must contain at least one vertex");for(var s=e.distance(n[0]),a=0;a<n.length-1;a++){var c=ve.distancePointLine(e,n[a],n[a+1]);c<s&&(s=c)}return s}if(arguments.length===3){var h=arguments[0],g=arguments[1],y=arguments[2];if(g.x===y.x&&g.y===y.y)return h.distance(g);var w=(y.x-g.x)*(y.x-g.x)+(y.y-g.y)*(y.y-g.y),_=((h.x-g.x)*(y.x-g.x)+(h.y-g.y)*(y.y-g.y))/w;if(_<=0)return h.distance(g);if(_>=1)return h.distance(y);var T=((g.y-h.y)*(y.x-g.x)-(g.x-h.x)*(y.y-g.y))/w;return Math.abs(T)*Math.sqrt(w)}},ve.isOnLine=function(e,n){for(var s=new Bc,a=1;a<n.length;a++){var c=n[a-1],h=n[a];if(s.computeIntersection(e,c,h),s.hasIntersection())return!0}return!1},Ju.CLOCKWISE.get=function(){return-1},Ju.RIGHT.get=function(){return ve.CLOCKWISE},Ju.COUNTERCLOCKWISE.get=function(){return 1},Ju.LEFT.get=function(){return ve.COUNTERCLOCKWISE},Ju.COLLINEAR.get=function(){return 0},Ju.STRAIGHT.get=function(){return ve.COLLINEAR},Object.defineProperties(ve,Ju);var Za=function(){};Za.prototype.filter=function(e){},Za.prototype.interfaces_=function(){return[]},Za.prototype.getClass=function(){return Za};var He=function(){var e=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=e,this._SRID=e.getSRID()},pa={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};He.prototype.isGeometryCollection=function(){return this.getSortIndex()===He.SORTINDEX_GEOMETRYCOLLECTION},He.prototype.getFactory=function(){return this._factory},He.prototype.getGeometryN=function(e){return this},He.prototype.getArea=function(){return 0},He.prototype.isRectangle=function(){return!1},He.prototype.equals=function(){if(arguments[0]instanceof He){var e=arguments[0];return e!==null&&this.equalsTopo(e)}if(arguments[0]instanceof Object){var n=arguments[0];if(!(n instanceof He))return!1;var s=n;return this.equalsExact(s)}},He.prototype.equalsExact=function(e){return this===e||this.equalsExact(e,0)},He.prototype.geometryChanged=function(){this.apply(He.geometryChangedFilter)},He.prototype.geometryChangedAction=function(){this._envelope=null},He.prototype.equalsNorm=function(e){return e!==null&&this.norm().equalsExact(e.norm())},He.prototype.getLength=function(){return 0},He.prototype.getNumGeometries=function(){return 1},He.prototype.compareTo=function(){if(arguments.length===1){var e=arguments[0],n=e;return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(e)}if(arguments.length===2){var s=arguments[0],a=arguments[1];return this.getSortIndex()!==s.getSortIndex()?this.getSortIndex()-s.getSortIndex():this.isEmpty()&&s.isEmpty()?0:this.isEmpty()?-1:s.isEmpty()?1:this.compareToSameClass(s,a)}},He.prototype.getUserData=function(){return this._userData},He.prototype.getSRID=function(){return this._SRID},He.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},He.prototype.checkNotGeometryCollection=function(e){if(e.getSortIndex()===He.SORTINDEX_GEOMETRYCOLLECTION)throw new xi("This method does not support GeometryCollection arguments")},He.prototype.equal=function(e,n,s){return s===0?e.equals(n):e.distance(n)<=s},He.prototype.norm=function(){var e=this.copy();return e.normalize(),e},He.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},He.prototype.getEnvelopeInternal=function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new Re(this._envelope)},He.prototype.setSRID=function(e){this._SRID=e},He.prototype.setUserData=function(e){this._userData=e},He.prototype.compare=function(e,n){for(var s=e.iterator(),a=n.iterator();s.hasNext()&&a.hasNext();){var c=s.next(),h=a.next(),g=c.compareTo(h);if(g!==0)return g}return s.hasNext()?1:a.hasNext()?-1:0},He.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},He.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===He.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===He.SORTINDEX_MULTIPOINT||this.getSortIndex()===He.SORTINDEX_MULTILINESTRING||this.getSortIndex()===He.SORTINDEX_MULTIPOLYGON},He.prototype.interfaces_=function(){return[a0,Bo,jo]},He.prototype.getClass=function(){return He},He.hasNonEmptyElements=function(e){for(var n=0;n<e.length;n++)if(!e[n].isEmpty())return!0;return!1},He.hasNullElements=function(e){for(var n=0;n<e.length;n++)if(e[n]===null)return!0;return!1},pa.serialVersionUID.get=function(){return 8763622679187377e3},pa.SORTINDEX_POINT.get=function(){return 0},pa.SORTINDEX_MULTIPOINT.get=function(){return 1},pa.SORTINDEX_LINESTRING.get=function(){return 2},pa.SORTINDEX_LINEARRING.get=function(){return 3},pa.SORTINDEX_MULTILINESTRING.get=function(){return 4},pa.SORTINDEX_POLYGON.get=function(){return 5},pa.SORTINDEX_MULTIPOLYGON.get=function(){return 6},pa.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},pa.geometryChangedFilter.get=function(){return Bb},Object.defineProperties(He,pa);var Bb=function(){};Bb.interfaces_=function(){return[Za]},Bb.filter=function(e){e.geometryChangedAction()};var fa=function(){};fa.prototype.filter=function(e){},fa.prototype.interfaces_=function(){return[]},fa.prototype.getClass=function(){return fa};var Ho=function(){},Ya={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};Ho.prototype.isInBoundary=function(e){},Ho.prototype.interfaces_=function(){return[]},Ho.prototype.getClass=function(){return Ho},Ya.Mod2BoundaryNodeRule.get=function(){return bd},Ya.EndPointBoundaryNodeRule.get=function(){return wd},Ya.MultiValentEndPointBoundaryNodeRule.get=function(){return xd},Ya.MonoValentEndPointBoundaryNodeRule.get=function(){return _d},Ya.MOD2_BOUNDARY_RULE.get=function(){return new bd},Ya.ENDPOINT_BOUNDARY_RULE.get=function(){return new wd},Ya.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new xd},Ya.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new _d},Ya.OGC_SFS_BOUNDARY_RULE.get=function(){return Ho.MOD2_BOUNDARY_RULE},Object.defineProperties(Ho,Ya);var bd=function(){};bd.prototype.isInBoundary=function(e){return e%2==1},bd.prototype.interfaces_=function(){return[Ho]},bd.prototype.getClass=function(){return bd};var wd=function(){};wd.prototype.isInBoundary=function(e){return e>0},wd.prototype.interfaces_=function(){return[Ho]},wd.prototype.getClass=function(){return wd};var xd=function(){};xd.prototype.isInBoundary=function(e){return e>1},xd.prototype.interfaces_=function(){return[Ho]},xd.prototype.getClass=function(){return xd};var _d=function(){};_d.prototype.isInBoundary=function(e){return e===1},_d.prototype.interfaces_=function(){return[Ho]},_d.prototype.getClass=function(){return _d};var Ui=function(){};function jb(e){this.message=e||""}Ui.prototype.add=function(){},Ui.prototype.addAll=function(){},Ui.prototype.isEmpty=function(){},Ui.prototype.iterator=function(){},Ui.prototype.size=function(){},Ui.prototype.toArray=function(){},Ui.prototype.remove=function(){},jb.prototype=new Error,jb.prototype.name="IndexOutOfBoundsException";var kd=function(){};kd.prototype.hasNext=function(){},kd.prototype.next=function(){},kd.prototype.remove=function(){};var us=function(e){function n(){e.apply(this,arguments)}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.get=function(){},n.prototype.set=function(){},n.prototype.isEmpty=function(){},n}(Ui);function Ed(e){this.message=e||""}Ed.prototype=new Error,Ed.prototype.name="NoSuchElementException";var he=function(e){function n(){e.call(this),this.array_=[],arguments[0]instanceof Ui&&this.addAll(arguments[0])}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.ensureCapacity=function(){},n.prototype.interfaces_=function(){return[e,Ui]},n.prototype.add=function(s){return arguments.length===1?this.array_.push(s):this.array_.splice(arguments[0],arguments[1]),!0},n.prototype.clear=function(){this.array_=[]},n.prototype.addAll=function(s){for(var a=s.iterator();a.hasNext();)this.add(a.next());return!0},n.prototype.set=function(s,a){var c=this.array_[s];return this.array_[s]=a,c},n.prototype.iterator=function(){return new HI(this)},n.prototype.get=function(s){if(s<0||s>=this.size())throw new jb;return this.array_[s]},n.prototype.isEmpty=function(){return this.array_.length===0},n.prototype.size=function(){return this.array_.length},n.prototype.toArray=function(){for(var s=[],a=0,c=this.array_.length;a<c;a++)s.push(this.array_[a]);return s},n.prototype.remove=function(s){for(var a=!1,c=0,h=this.array_.length;c<h;c++)if(this.array_[c]===s){this.array_.splice(c,1),a=!0;break}return a},n}(us),HI=function(e){function n(s){e.call(this),this.arrayList_=s,this.position_=0}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new Ed;return this.arrayList_.get(this.position_++)},n.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},n.prototype.set=function(s){return this.arrayList_.set(this.position_-1,s)},n.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},n}(kd),Tf=function(e){function n(){if(e.call(this),arguments.length!==0){if(arguments.length===1){var a=arguments[0];this.ensureCapacity(a.length),this.add(a,!0)}else if(arguments.length===2){var c=arguments[0],h=arguments[1];this.ensureCapacity(c.length),this.add(c,h)}}}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var s={coordArrayType:{configurable:!0}};return s.coordArrayType.get=function(){return new Array(0).fill(null)},n.prototype.getCoordinate=function(a){return this.get(a)},n.prototype.addAll=function(){var a=this;if(arguments.length===2){for(var c=arguments[0],h=arguments[1],g=!1,y=c.iterator();y.hasNext();)a.add(y.next(),h),g=!0;return g}return e.prototype.addAll.apply(this,arguments)},n.prototype.clone=function(){for(var a=e.prototype.clone.call(this),c=0;c<this.size();c++)a.add(c,this.get(c).copy());return a},n.prototype.toCoordinateArray=function(){return this.toArray(n.coordArrayType)},n.prototype.add=function(){var a=this;if(arguments.length===1){var c=arguments[0];e.prototype.add.call(this,c)}else if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var h=arguments[0],g=arguments[1];return this.add(h,g,!0),!0}if(arguments[0]instanceof Mt&&typeof arguments[1]=="boolean"){var y=arguments[0],w=arguments[1];if(!w&&this.size()>=1){var _=this.get(this.size()-1);if(_.equals2D(y))return null}e.prototype.add.call(this,y)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var T=arguments[0],E=arguments[1];return this.add(T,E),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var P=arguments[0],z=arguments[1],N=arguments[2];if(N)for(var B=0;B<P.length;B++)a.add(P[B],z);else for(var R=P.length-1;R>=0;R--)a.add(P[R],z);return!0}if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof Mt){var Y=arguments[0],nt=arguments[1],F=arguments[2];if(!F){var Z=this.size();if(Z>0){if(Y>0){var X=this.get(Y-1);if(X.equals2D(nt))return null}if(Y<Z){var tt=this.get(Y);if(tt.equals2D(nt))return null}}}e.prototype.add.call(this,Y,nt)}}else if(arguments.length===4){var Q=arguments[0],Bt=arguments[1],Tt=arguments[2],Ut=arguments[3],Ct=1;Tt>Ut&&(Ct=-1);for(var Wt=Tt;Wt!==Ut;Wt+=Ct)a.add(Q[Wt],Bt);return!0}},n.prototype.closeRing=function(){this.size()>0&&this.add(new Mt(this.get(0)),!1)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},Object.defineProperties(n,s),n}(he),lr=function(){},u0={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};u0.ForwardComparator.get=function(){return Sf},u0.BidirectionalComparator.get=function(){return Td},u0.coordArrayType.get=function(){return new Array(0).fill(null)},lr.prototype.interfaces_=function(){return[]},lr.prototype.getClass=function(){return lr},lr.isRing=function(e){return!(e.length<4)&&!!e[0].equals2D(e[e.length-1])},lr.ptNotInList=function(e,n){for(var s=0;s<e.length;s++){var a=e[s];if(lr.indexOf(a,n)<0)return a}return null},lr.scroll=function(e,n){var s=lr.indexOf(n,e);if(s<0)return null;var a=new Array(e.length).fill(null);pn.arraycopy(e,s,a,0,e.length-s),pn.arraycopy(e,0,a,e.length-s,s),pn.arraycopy(a,0,e,0,e.length)},lr.equals=function(){if(arguments.length===2){var e=arguments[0],n=arguments[1];if(e===n)return!0;if(e===null||n===null||e.length!==n.length)return!1;for(var s=0;s<e.length;s++)if(!e[s].equals(n[s]))return!1;return!0}if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2];if(a===c)return!0;if(a===null||c===null||a.length!==c.length)return!1;for(var g=0;g<a.length;g++)if(h.compare(a[g],c[g])!==0)return!1;return!0}},lr.intersection=function(e,n){for(var s=new Tf,a=0;a<e.length;a++)n.intersects(e[a])&&s.add(e[a],!0);return s.toCoordinateArray()},lr.hasRepeatedPoints=function(e){for(var n=1;n<e.length;n++)if(e[n-1].equals(e[n]))return!0;return!1},lr.removeRepeatedPoints=function(e){return lr.hasRepeatedPoints(e)?new Tf(e,!1).toCoordinateArray():e},lr.reverse=function(e){for(var n=e.length-1,s=Math.trunc(n/2),a=0;a<=s;a++){var c=e[a];e[a]=e[n-a],e[n-a]=c}},lr.removeNull=function(e){for(var n=0,s=0;s<e.length;s++)e[s]!==null&&n++;var a=new Array(n).fill(null);if(n===0)return a;for(var c=0,h=0;h<e.length;h++)e[h]!==null&&(a[c++]=e[h]);return a},lr.copyDeep=function(){if(arguments.length===1){for(var e=arguments[0],n=new Array(e.length).fill(null),s=0;s<e.length;s++)n[s]=new Mt(e[s]);return n}if(arguments.length===5)for(var a=arguments[0],c=arguments[1],h=arguments[2],g=arguments[3],y=arguments[4],w=0;w<y;w++)h[g+w]=new Mt(a[c+w])},lr.isEqualReversed=function(e,n){for(var s=0;s<e.length;s++){var a=e[s],c=n[e.length-s-1];if(a.compareTo(c)!==0)return!1}return!0},lr.envelope=function(e){for(var n=new Re,s=0;s<e.length;s++)n.expandToInclude(e[s]);return n},lr.toCoordinateArray=function(e){return e.toArray(lr.coordArrayType)},lr.atLeastNCoordinatesOrNothing=function(e,n){return n.length>=e?n:[]},lr.indexOf=function(e,n){for(var s=0;s<n.length;s++)if(e.equals(n[s]))return s;return-1},lr.increasingDirection=function(e){for(var n=0;n<Math.trunc(e.length/2);n++){var s=e.length-1-n,a=e[n].compareTo(e[s]);if(a!==0)return a}return 1},lr.compare=function(e,n){for(var s=0;s<e.length&&s<n.length;){var a=e[s].compareTo(n[s]);if(a!==0)return a;s++}return s<n.length?-1:s<e.length?1:0},lr.minCoordinate=function(e){for(var n=null,s=0;s<e.length;s++)(n===null||n.compareTo(e[s])>0)&&(n=e[s]);return n},lr.extract=function(e,n,s){n=Eo.clamp(n,0,e.length);var a=(s=Eo.clamp(s,-1,e.length))-n+1;s<0&&(a=0),n>=e.length&&(a=0),s<n&&(a=0);var c=new Array(a).fill(null);if(a===0)return c;for(var h=0,g=n;g<=s;g++)c[h++]=e[g];return c},Object.defineProperties(lr,u0);var Sf=function(){};Sf.prototype.compare=function(e,n){return lr.compare(e,n)},Sf.prototype.interfaces_=function(){return[gd]},Sf.prototype.getClass=function(){return Sf};var Td=function(){};Td.prototype.compare=function(e,n){var s=e,a=n;if(s.length<a.length)return-1;if(s.length>a.length)return 1;if(s.length===0)return 0;var c=lr.compare(s,a);return lr.isEqualReversed(s,a)?0:c},Td.prototype.OLDcompare=function(e,n){var s=e,a=n;if(s.length<a.length)return-1;if(s.length>a.length)return 1;if(s.length===0)return 0;for(var c=lr.increasingDirection(s),h=lr.increasingDirection(a),g=c>0?0:s.length-1,y=h>0?0:s.length-1,w=0;w<s.length;w++){var _=s[g].compareTo(a[y]);if(_!==0)return _;g+=c,y+=h}return 0},Td.prototype.interfaces_=function(){return[gd]},Td.prototype.getClass=function(){return Td};var Qu=function(){};Qu.prototype.get=function(){},Qu.prototype.put=function(){},Qu.prototype.size=function(){},Qu.prototype.values=function(){},Qu.prototype.entrySet=function(){};var UI=function(e){function n(){e.apply(this,arguments)}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n}(Qu);function Cf(e){this.message=e||""}function h0(){}Cf.prototype=new Error,Cf.prototype.name="OperationNotSupported",h0.prototype=new Ui,h0.prototype.contains=function(){};var Hb=function(e){function n(){e.call(this),this.array_=[],arguments[0]instanceof Ui&&this.addAll(arguments[0])}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.contains=function(s){for(var a=0,c=this.array_.length;a<c;a++)if(this.array_[a]===s)return!0;return!1},n.prototype.add=function(s){return!this.contains(s)&&(this.array_.push(s),!0)},n.prototype.addAll=function(s){for(var a=s.iterator();a.hasNext();)this.add(a.next());return!0},n.prototype.remove=function(s){throw new Error},n.prototype.size=function(){return this.array_.length},n.prototype.isEmpty=function(){return this.array_.length===0},n.prototype.toArray=function(){for(var s=[],a=0,c=this.array_.length;a<c;a++)s.push(this.array_[a]);return s},n.prototype.iterator=function(){return new GI(this)},n}(h0),GI=function(e){function n(s){e.call(this),this.hashSet_=s,this.position_=0}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new Ed;return this.hashSet_.array_[this.position_++]},n.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},n.prototype.remove=function(){throw new Cf},n}(kd);function Nk(e){return e===null?0:e.color}function hi(e){return e===null?null:e.parent}function Xa(e,n){e!==null&&(e.color=n)}function Ub(e){return e===null?null:e.left}function Dk(e){return e===null?null:e.right}function Tn(){this.root_=null,this.size_=0}Tn.prototype=new UI,Tn.prototype.get=function(e){for(var n=this.root_;n!==null;){var s=e.compareTo(n.key);if(s<0)n=n.left;else{if(!(s>0))return n.value;n=n.right}}return null},Tn.prototype.put=function(e,n){if(this.root_===null)return this.root_={key:e,value:n,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var s,a,c=this.root_;do if(s=c,(a=e.compareTo(c.key))<0)c=c.left;else{if(!(a>0)){var h=c.value;return c.value=n,h}c=c.right}while(c!==null);var g={key:e,left:null,right:null,value:n,parent:s,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return a<0?s.left=g:s.right=g,this.fixAfterInsertion(g),this.size_++,null},Tn.prototype.fixAfterInsertion=function(e){var n=this;for(e.color=1;e!=null&&e!==this.root_&&e.parent.color===1;)if(hi(e)===Ub(hi(hi(e)))){var s=Dk(hi(hi(e)));Nk(s)===1?(Xa(hi(e),0),Xa(s,0),Xa(hi(hi(e)),1),e=hi(hi(e))):(e===Dk(hi(e))&&(e=hi(e),n.rotateLeft(e)),Xa(hi(e),0),Xa(hi(hi(e)),1),n.rotateRight(hi(hi(e))))}else{var a=Ub(hi(hi(e)));Nk(a)===1?(Xa(hi(e),0),Xa(a,0),Xa(hi(hi(e)),1),e=hi(hi(e))):(e===Ub(hi(e))&&(e=hi(e),n.rotateRight(e)),Xa(hi(e),0),Xa(hi(hi(e)),1),n.rotateLeft(hi(hi(e))))}this.root_.color=0},Tn.prototype.values=function(){var e=new he,n=this.getFirstEntry();if(n!==null)for(e.add(n.value);(n=Tn.successor(n))!==null;)e.add(n.value);return e},Tn.prototype.entrySet=function(){var e=new Hb,n=this.getFirstEntry();if(n!==null)for(e.add(n);(n=Tn.successor(n))!==null;)e.add(n);return e},Tn.prototype.rotateLeft=function(e){if(e!=null){var n=e.right;e.right=n.left,n.left!=null&&(n.left.parent=e),n.parent=e.parent,e.parent===null?this.root_=n:e.parent.left===e?e.parent.left=n:e.parent.right=n,n.left=e,e.parent=n}},Tn.prototype.rotateRight=function(e){if(e!=null){var n=e.left;e.left=n.right,n.right!=null&&(n.right.parent=e),n.parent=e.parent,e.parent===null?this.root_=n:e.parent.right===e?e.parent.right=n:e.parent.left=n,n.right=e,e.parent=n}},Tn.prototype.getFirstEntry=function(){var e=this.root_;if(e!=null)for(;e.left!=null;)e=e.left;return e},Tn.successor=function(e){if(e===null)return null;if(e.right!==null){for(var n=e.right;n.left!==null;)n=n.left;return n}for(var s=e.parent,a=e;s!==null&&a===s.right;)a=s,s=s.parent;return s},Tn.prototype.size=function(){return this.size_};var Pf=function(){};function Fk(){}function zs(){this.array_=[],arguments[0]instanceof Ui&&this.addAll(arguments[0])}Pf.prototype.interfaces_=function(){return[]},Pf.prototype.getClass=function(){return Pf},Fk.prototype=new h0,zs.prototype=new Fk,zs.prototype.contains=function(e){for(var n=0,s=this.array_.length;n<s;n++)if(this.array_[n].compareTo(e)===0)return!0;return!1},zs.prototype.add=function(e){if(this.contains(e))return!1;for(var n=0,s=this.array_.length;n<s;n++)if(this.array_[n].compareTo(e)===1)return this.array_.splice(n,0,e),!0;return this.array_.push(e),!0},zs.prototype.addAll=function(e){for(var n=e.iterator();n.hasNext();)this.add(n.next());return!0},zs.prototype.remove=function(e){throw new Cf},zs.prototype.size=function(){return this.array_.length},zs.prototype.isEmpty=function(){return this.array_.length===0},zs.prototype.toArray=function(){for(var e=[],n=0,s=this.array_.length;n<s;n++)e.push(this.array_[n]);return e},zs.prototype.iterator=function(){return new d0(this)};var d0=function(e){this.treeSet_=e,this.position_=0};d0.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new Ed;return this.treeSet_.array_[this.position_++]},d0.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},d0.prototype.remove=function(){throw new Cf};var jc=function(){};jc.sort=function(){var e,n,s,a,c=arguments[0];if(arguments.length===1)a=function(g,y){return g.compareTo(y)},c.sort(a);else if(arguments.length===2)s=arguments[1],a=function(g,y){return s.compare(g,y)},c.sort(a);else if(arguments.length===3){(n=c.slice(arguments[1],arguments[2])).sort();var h=c.slice(0,arguments[1]).concat(n,c.slice(arguments[2],c.length));for(c.splice(0,c.length),e=0;e<h.length;e++)c.push(h[e])}else if(arguments.length===4)for(n=c.slice(arguments[1],arguments[2]),s=arguments[3],a=function(g,y){return s.compare(g,y)},n.sort(a),h=c.slice(0,arguments[1]).concat(n,c.slice(arguments[2],c.length)),c.splice(0,c.length),e=0;e<h.length;e++)c.push(h[e])},jc.asList=function(e){for(var n=new he,s=0,a=e.length;s<a;s++)n.add(e[s]);return n};var Xr=function(){},hs={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};hs.P.get=function(){return 0},hs.L.get=function(){return 1},hs.A.get=function(){return 2},hs.FALSE.get=function(){return-1},hs.TRUE.get=function(){return-2},hs.DONTCARE.get=function(){return-3},hs.SYM_FALSE.get=function(){return"F"},hs.SYM_TRUE.get=function(){return"T"},hs.SYM_DONTCARE.get=function(){return"*"},hs.SYM_P.get=function(){return"0"},hs.SYM_L.get=function(){return"1"},hs.SYM_A.get=function(){return"2"},Xr.prototype.interfaces_=function(){return[]},Xr.prototype.getClass=function(){return Xr},Xr.toDimensionSymbol=function(e){switch(e){case Xr.FALSE:return Xr.SYM_FALSE;case Xr.TRUE:return Xr.SYM_TRUE;case Xr.DONTCARE:return Xr.SYM_DONTCARE;case Xr.P:return Xr.SYM_P;case Xr.L:return Xr.SYM_L;case Xr.A:return Xr.SYM_A}throw new xi("Unknown dimension value: "+e)},Xr.toDimensionValue=function(e){switch(kf.toUpperCase(e)){case Xr.SYM_FALSE:return Xr.FALSE;case Xr.SYM_TRUE:return Xr.TRUE;case Xr.SYM_DONTCARE:return Xr.DONTCARE;case Xr.SYM_P:return Xr.P;case Xr.SYM_L:return Xr.L;case Xr.SYM_A:return Xr.A}throw new xi("Unknown dimension symbol: "+e)},Object.defineProperties(Xr,hs);var Ns=function(){};Ns.prototype.filter=function(e){},Ns.prototype.interfaces_=function(){return[]},Ns.prototype.getClass=function(){return Ns};var ds=function(){};ds.prototype.filter=function(e,n){},ds.prototype.isDone=function(){},ds.prototype.isGeometryChanged=function(){},ds.prototype.interfaces_=function(){return[]},ds.prototype.getClass=function(){return ds};var Nn=function(e){function n(a,c){if(e.call(this,c),this._geometries=a||[],e.hasNullElements(this._geometries))throw new xi("geometries must not contain null elements")}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var s={serialVersionUID:{configurable:!0}};return n.prototype.computeEnvelopeInternal=function(){for(var a=new Re,c=0;c<this._geometries.length;c++)a.expandToInclude(this._geometries[c].getEnvelopeInternal());return a},n.prototype.getGeometryN=function(a){return this._geometries[a]},n.prototype.getSortIndex=function(){return e.SORTINDEX_GEOMETRYCOLLECTION},n.prototype.getCoordinates=function(){for(var a=new Array(this.getNumPoints()).fill(null),c=-1,h=0;h<this._geometries.length;h++)for(var g=this._geometries[h].getCoordinates(),y=0;y<g.length;y++)a[++c]=g[y];return a},n.prototype.getArea=function(){for(var a=0,c=0;c<this._geometries.length;c++)a+=this._geometries[c].getArea();return a},n.prototype.equalsExact=function(){var a=this;if(arguments.length===2){var c=arguments[0],h=arguments[1];if(!this.isEquivalentClass(c))return!1;var g=c;if(this._geometries.length!==g._geometries.length)return!1;for(var y=0;y<this._geometries.length;y++)if(!a._geometries[y].equalsExact(g._geometries[y],h))return!1;return!0}return e.prototype.equalsExact.apply(this,arguments)},n.prototype.normalize=function(){for(var a=0;a<this._geometries.length;a++)this._geometries[a].normalize();jc.sort(this._geometries)},n.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},n.prototype.getBoundaryDimension=function(){for(var a=Xr.FALSE,c=0;c<this._geometries.length;c++)a=Math.max(a,this._geometries[c].getBoundaryDimension());return a},n.prototype.getDimension=function(){for(var a=Xr.FALSE,c=0;c<this._geometries.length;c++)a=Math.max(a,this._geometries[c].getDimension());return a},n.prototype.getLength=function(){for(var a=0,c=0;c<this._geometries.length;c++)a+=this._geometries[c].getLength();return a},n.prototype.getNumPoints=function(){for(var a=0,c=0;c<this._geometries.length;c++)a+=this._geometries[c].getNumPoints();return a},n.prototype.getNumGeometries=function(){return this._geometries.length},n.prototype.reverse=function(){for(var a=this._geometries.length,c=new Array(a).fill(null),h=0;h<this._geometries.length;h++)c[h]=this._geometries[h].reverse();return this.getFactory().createGeometryCollection(c)},n.prototype.compareToSameClass=function(){var a=this;if(arguments.length===1){var c=arguments[0],h=new zs(jc.asList(this._geometries)),g=new zs(jc.asList(c._geometries));return this.compare(h,g)}if(arguments.length===2){for(var y=arguments[0],w=arguments[1],_=y,T=this.getNumGeometries(),E=_.getNumGeometries(),P=0;P<T&&P<E;){var z=a.getGeometryN(P),N=_.getGeometryN(P),B=z.compareToSameClass(N,w);if(B!==0)return B;P++}return P<T?1:P<E?-1:0}},n.prototype.apply=function(){var a=this;if(Ge(arguments[0],fa))for(var c=arguments[0],h=0;h<this._geometries.length;h++)a._geometries[h].apply(c);else if(Ge(arguments[0],ds)){var g=arguments[0];if(this._geometries.length===0)return null;for(var y=0;y<this._geometries.length&&(a._geometries[y].apply(g),!g.isDone());y++);g.isGeometryChanged()&&this.geometryChanged()}else if(Ge(arguments[0],Ns)){var w=arguments[0];w.filter(this);for(var _=0;_<this._geometries.length;_++)a._geometries[_].apply(w)}else if(Ge(arguments[0],Za)){var T=arguments[0];T.filter(this);for(var E=0;E<this._geometries.length;E++)a._geometries[E].apply(T)}},n.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),$e.shouldNeverReachHere(),null},n.prototype.clone=function(){var a=e.prototype.clone.call(this);a._geometries=new Array(this._geometries.length).fill(null);for(var c=0;c<this._geometries.length;c++)a._geometries[c]=this._geometries[c].clone();return a},n.prototype.getGeometryType=function(){return"GeometryCollection"},n.prototype.copy=function(){for(var a=new Array(this._geometries.length).fill(null),c=0;c<a.length;c++)a[c]=this._geometries[c].copy();return new n(a,this._factory)},n.prototype.isEmpty=function(){for(var a=0;a<this._geometries.length;a++)if(!this._geometries[a].isEmpty())return!1;return!0},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},s.serialVersionUID.get=function(){return-5694727726395021e3},Object.defineProperties(n,s),n}(He),Hc=function(e){function n(){e.apply(this,arguments)}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var s={serialVersionUID:{configurable:!0}};return n.prototype.getSortIndex=function(){return He.SORTINDEX_MULTILINESTRING},n.prototype.equalsExact=function(){if(arguments.length===2){var a=arguments[0],c=arguments[1];return!!this.isEquivalentClass(a)&&e.prototype.equalsExact.call(this,a,c)}return e.prototype.equalsExact.apply(this,arguments)},n.prototype.getBoundaryDimension=function(){return this.isClosed()?Xr.FALSE:0},n.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var a=0;a<this._geometries.length;a++)if(!this._geometries[a].isClosed())return!1;return!0},n.prototype.getDimension=function(){return 1},n.prototype.reverse=function(){for(var a=this._geometries.length,c=new Array(a).fill(null),h=0;h<this._geometries.length;h++)c[a-1-h]=this._geometries[h].reverse();return this.getFactory().createMultiLineString(c)},n.prototype.getBoundary=function(){return new Uo(this).getBoundary()},n.prototype.getGeometryType=function(){return"MultiLineString"},n.prototype.copy=function(){for(var a=new Array(this._geometries.length).fill(null),c=0;c<a.length;c++)a[c]=this._geometries[c].copy();return new n(a,this._factory)},n.prototype.interfaces_=function(){return[Pf]},n.prototype.getClass=function(){return n},s.serialVersionUID.get=function(){return 8166665132445434e3},Object.defineProperties(n,s),n}(Nn),Uo=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,arguments.length===1){var e=arguments[0],n=Ho.MOD2_BOUNDARY_RULE;this._geom=e,this._geomFact=e.getFactory(),this._bnRule=n}else if(arguments.length===2){var s=arguments[0],a=arguments[1];this._geom=s,this._geomFact=s.getFactory(),this._bnRule=a}};Uo.prototype.boundaryMultiLineString=function(e){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var n=this.computeBoundaryCoordinates(e);return n.length===1?this._geomFact.createPoint(n[0]):this._geomFact.createMultiPointFromCoords(n)},Uo.prototype.getBoundary=function(){return this._geom instanceof Ci?this.boundaryLineString(this._geom):this._geom instanceof Hc?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Uo.prototype.boundaryLineString=function(e){return this._geom.isEmpty()?this.getEmptyMultiPoint():e.isClosed()?this._bnRule.isInBoundary(2)?e.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([e.getStartPoint(),e.getEndPoint()])},Uo.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Uo.prototype.computeBoundaryCoordinates=function(e){var n=this,s=new he;this._endpointMap=new Tn;for(var a=0;a<e.getNumGeometries();a++){var c=e.getGeometryN(a);c.getNumPoints()!==0&&(n.addEndpoint(c.getCoordinateN(0)),n.addEndpoint(c.getCoordinateN(c.getNumPoints()-1)))}for(var h=this._endpointMap.entrySet().iterator();h.hasNext();){var g=h.next(),y=g.getValue().count;n._bnRule.isInBoundary(y)&&s.add(g.getKey())}return lr.toCoordinateArray(s)},Uo.prototype.addEndpoint=function(e){var n=this._endpointMap.get(e);n===null&&(n=new p0,this._endpointMap.put(e,n)),n.count++},Uo.prototype.interfaces_=function(){return[]},Uo.prototype.getClass=function(){return Uo},Uo.getBoundary=function(){if(arguments.length===1){var e=arguments[0],n=new Uo(e);return n.getBoundary()}if(arguments.length===2){var s=arguments[0],a=arguments[1],c=new Uo(s,a);return c.getBoundary()}};var p0=function(){this.count=null};function qI(){}function VI(){}p0.prototype.interfaces_=function(){return[]},p0.prototype.getClass=function(){return p0};var WI=function(){};function ZI(){}function YI(){}function XI(){}var Go=function(){},Gb={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Go.prototype.interfaces_=function(){return[]},Go.prototype.getClass=function(){return Go},Go.chars=function(e,n){for(var s=new Array(n).fill(null),a=0;a<n;a++)s[a]=e;return String(s)},Go.getStackTrace=function(){if(arguments.length===1){var e=arguments[0],n=new ZI,s=new qI;return e.printStackTrace(s),n.toString()}if(arguments.length===2){for(var a=arguments[0],c=arguments[1],h="",g=new VI(Go.getStackTrace(a)),y=new XI,w=0;w<c;w++)try{h+=y.readLine()+Go.NEWLINE}catch(_){if(!(_ instanceof YI))throw _;$e.shouldNeverReachHere()}return h}},Go.split=function(e,n){for(var s=n.length,a=new he,c=""+e,h=c.indexOf(n);h>=0;){var g=c.substring(0,h);a.add(g),h=(c=c.substring(h+s)).indexOf(n)}c.length>0&&a.add(c);for(var y=new Array(a.size()).fill(null),w=0;w<y.length;w++)y[w]=a.get(w);return y},Go.toString=function(){if(arguments.length===1){var e=arguments[0];return Go.SIMPLE_ORDINATE_FORMAT.format(e)}},Go.spaces=function(e){return Go.chars(" ",e)},Gb.NEWLINE.get=function(){return pn.getProperty("line.separator")},Gb.SIMPLE_ORDINATE_FORMAT.get=function(){return new WI},Object.defineProperties(Go,Gb);var Ii=function(){};Ii.prototype.interfaces_=function(){return[]},Ii.prototype.getClass=function(){return Ii},Ii.copyCoord=function(e,n,s,a){for(var c=Math.min(e.getDimension(),s.getDimension()),h=0;h<c;h++)s.setOrdinate(a,h,e.getOrdinate(n,h))},Ii.isRing=function(e){var n=e.size();return n===0||!(n<=3)&&e.getOrdinate(0,yr.X)===e.getOrdinate(n-1,yr.X)&&e.getOrdinate(0,yr.Y)===e.getOrdinate(n-1,yr.Y)},Ii.isEqual=function(e,n){var s=e.size();if(s!==n.size())return!1;for(var a=Math.min(e.getDimension(),n.getDimension()),c=0;c<s;c++)for(var h=0;h<a;h++){var g=e.getOrdinate(c,h),y=n.getOrdinate(c,h);if(e.getOrdinate(c,h)!==n.getOrdinate(c,h)&&(!Ke.isNaN(g)||!Ke.isNaN(y)))return!1}return!0},Ii.extend=function(e,n,s){var a=e.create(s,n.getDimension()),c=n.size();if(Ii.copy(n,0,a,0,c),c>0)for(var h=c;h<s;h++)Ii.copy(n,c-1,a,h,1);return a},Ii.reverse=function(e){for(var n=e.size()-1,s=Math.trunc(n/2),a=0;a<=s;a++)Ii.swap(e,a,n-a)},Ii.swap=function(e,n,s){if(n===s)return null;for(var a=0;a<e.getDimension();a++){var c=e.getOrdinate(n,a);e.setOrdinate(n,a,e.getOrdinate(s,a)),e.setOrdinate(s,a,c)}},Ii.copy=function(e,n,s,a,c){for(var h=0;h<c;h++)Ii.copyCoord(e,n+h,s,a+h)},Ii.toString=function(){if(arguments.length===1){var e=arguments[0],n=e.size();if(n===0)return"()";var s=e.getDimension(),a=new Ls;a.append("(");for(var c=0;c<n;c++){c>0&&a.append(" ");for(var h=0;h<s;h++)h>0&&a.append(","),a.append(Go.toString(e.getOrdinate(c,h)))}return a.append(")"),a.toString()}},Ii.ensureValidRing=function(e,n){var s=n.size();return s===0?n:s<=3?Ii.createClosedRing(e,n,4):n.getOrdinate(0,yr.X)===n.getOrdinate(s-1,yr.X)&&n.getOrdinate(0,yr.Y)===n.getOrdinate(s-1,yr.Y)?n:Ii.createClosedRing(e,n,s+1)},Ii.createClosedRing=function(e,n,s){var a=e.create(s,n.getDimension()),c=n.size();Ii.copy(n,0,a,0,c);for(var h=c;h<s;h++)Ii.copy(n,0,a,h,1);return a};var Ci=function(e){function n(a,c){e.call(this,c),this._points=null,this.init(a)}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var s={serialVersionUID:{configurable:!0}};return n.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new Re:this._points.expandEnvelope(new Re)},n.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},n.prototype.getSortIndex=function(){return e.SORTINDEX_LINESTRING},n.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},n.prototype.equalsExact=function(){var a=this;if(arguments.length===2){var c=arguments[0],h=arguments[1];if(!this.isEquivalentClass(c))return!1;var g=c;if(this._points.size()!==g._points.size())return!1;for(var y=0;y<this._points.size();y++)if(!a.equal(a._points.getCoordinate(y),g._points.getCoordinate(y),h))return!1;return!0}return e.prototype.equalsExact.apply(this,arguments)},n.prototype.normalize=function(){for(var a=this,c=0;c<Math.trunc(this._points.size()/2);c++){var h=a._points.size()-1-c;if(!a._points.getCoordinate(c).equals(a._points.getCoordinate(h)))return a._points.getCoordinate(c).compareTo(a._points.getCoordinate(h))>0&&Ii.reverse(a._points),null}},n.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},n.prototype.getBoundaryDimension=function(){return this.isClosed()?Xr.FALSE:0},n.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},n.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},n.prototype.getDimension=function(){return 1},n.prototype.getLength=function(){return ve.computeLength(this._points)},n.prototype.getNumPoints=function(){return this._points.size()},n.prototype.reverse=function(){var a=this._points.copy();return Ii.reverse(a),this.getFactory().createLineString(a)},n.prototype.compareToSameClass=function(){var a=this;if(arguments.length===1){for(var c=arguments[0],h=c,g=0,y=0;g<this._points.size()&&y<h._points.size();){var w=a._points.getCoordinate(g).compareTo(h._points.getCoordinate(y));if(w!==0)return w;g++,y++}return g<this._points.size()?1:y<h._points.size()?-1:0}if(arguments.length===2){var _=arguments[0],T=arguments[1],E=_;return T.compare(this._points,E._points)}},n.prototype.apply=function(){var a=this;if(Ge(arguments[0],fa))for(var c=arguments[0],h=0;h<this._points.size();h++)c.filter(a._points.getCoordinate(h));else if(Ge(arguments[0],ds)){var g=arguments[0];if(this._points.size()===0)return null;for(var y=0;y<this._points.size()&&(g.filter(a._points,y),!g.isDone());y++);g.isGeometryChanged()&&this.geometryChanged()}else if(Ge(arguments[0],Ns)){var w=arguments[0];w.filter(this)}else if(Ge(arguments[0],Za)){var _=arguments[0];_.filter(this)}},n.prototype.getBoundary=function(){return new Uo(this).getBoundary()},n.prototype.isEquivalentClass=function(a){return a instanceof n},n.prototype.clone=function(){var a=e.prototype.clone.call(this);return a._points=this._points.clone(),a},n.prototype.getCoordinateN=function(a){return this._points.getCoordinate(a)},n.prototype.getGeometryType=function(){return"LineString"},n.prototype.copy=function(){return new n(this._points.copy(),this._factory)},n.prototype.getCoordinateSequence=function(){return this._points},n.prototype.isEmpty=function(){return this._points.size()===0},n.prototype.init=function(a){if(a===null&&(a=this.getFactory().getCoordinateSequenceFactory().create([])),a.size()===1)throw new xi("Invalid number of points in LineString (found "+a.size()+" - must be 0 or >= 2)");this._points=a},n.prototype.isCoordinate=function(a){for(var c=0;c<this._points.size();c++)if(this._points.getCoordinate(c).equals(a))return!0;return!1},n.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},n.prototype.getPointN=function(a){return this.getFactory().createPoint(this._points.getCoordinate(a))},n.prototype.interfaces_=function(){return[Pf]},n.prototype.getClass=function(){return n},s.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(n,s),n}(He),Mf=function(){};Mf.prototype.interfaces_=function(){return[]},Mf.prototype.getClass=function(){return Mf};var ao=function(e){function n(a,c){e.call(this,c),this._coordinates=a||null,this.init(this._coordinates)}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var s={serialVersionUID:{configurable:!0}};return n.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new Re;var a=new Re;return a.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),a},n.prototype.getSortIndex=function(){return e.SORTINDEX_POINT},n.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},n.prototype.equalsExact=function(){if(arguments.length===2){var a=arguments[0],c=arguments[1];return!!this.isEquivalentClass(a)&&(!(!this.isEmpty()||!a.isEmpty())||this.isEmpty()===a.isEmpty()&&this.equal(a.getCoordinate(),this.getCoordinate(),c))}return e.prototype.equalsExact.apply(this,arguments)},n.prototype.normalize=function(){},n.prototype.getCoordinate=function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null},n.prototype.getBoundaryDimension=function(){return Xr.FALSE},n.prototype.getDimension=function(){return 0},n.prototype.getNumPoints=function(){return this.isEmpty()?0:1},n.prototype.reverse=function(){return this.copy()},n.prototype.getX=function(){if(this.getCoordinate()===null)throw new Error("getX called on empty Point");return this.getCoordinate().x},n.prototype.compareToSameClass=function(){if(arguments.length===1){var a=arguments[0],c=a;return this.getCoordinate().compareTo(c.getCoordinate())}if(arguments.length===2){var h=arguments[0],g=arguments[1],y=h;return g.compare(this._coordinates,y._coordinates)}},n.prototype.apply=function(){if(Ge(arguments[0],fa)){var a=arguments[0];if(this.isEmpty())return null;a.filter(this.getCoordinate())}else if(Ge(arguments[0],ds)){var c=arguments[0];if(this.isEmpty())return null;c.filter(this._coordinates,0),c.isGeometryChanged()&&this.geometryChanged()}else if(Ge(arguments[0],Ns)){var h=arguments[0];h.filter(this)}else if(Ge(arguments[0],Za)){var g=arguments[0];g.filter(this)}},n.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},n.prototype.clone=function(){var a=e.prototype.clone.call(this);return a._coordinates=this._coordinates.clone(),a},n.prototype.getGeometryType=function(){return"Point"},n.prototype.copy=function(){return new n(this._coordinates.copy(),this._factory)},n.prototype.getCoordinateSequence=function(){return this._coordinates},n.prototype.getY=function(){if(this.getCoordinate()===null)throw new Error("getY called on empty Point");return this.getCoordinate().y},n.prototype.isEmpty=function(){return this._coordinates.size()===0},n.prototype.init=function(a){a===null&&(a=this.getFactory().getCoordinateSequenceFactory().create([])),$e.isTrue(a.size()<=1),this._coordinates=a},n.prototype.isSimple=function(){return!0},n.prototype.interfaces_=function(){return[Mf]},n.prototype.getClass=function(){return n},s.serialVersionUID.get=function(){return 4902022702746615e3},Object.defineProperties(n,s),n}(He),jl=function(){};jl.prototype.interfaces_=function(){return[]},jl.prototype.getClass=function(){return jl};var Gi=function(e){function n(a,c,h){if(e.call(this,h),this._shell=null,this._holes=null,a===null&&(a=this.getFactory().createLinearRing()),c===null&&(c=[]),e.hasNullElements(c))throw new xi("holes must not contain null elements");if(a.isEmpty()&&e.hasNonEmptyElements(c))throw new xi("shell is empty but holes are not");this._shell=a,this._holes=c}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var s={serialVersionUID:{configurable:!0}};return n.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},n.prototype.getSortIndex=function(){return e.SORTINDEX_POLYGON},n.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var a=new Array(this.getNumPoints()).fill(null),c=-1,h=this._shell.getCoordinates(),g=0;g<h.length;g++)a[++c]=h[g];for(var y=0;y<this._holes.length;y++)for(var w=this._holes[y].getCoordinates(),_=0;_<w.length;_++)a[++c]=w[_];return a},n.prototype.getArea=function(){var a=0;a+=Math.abs(ve.signedArea(this._shell.getCoordinateSequence()));for(var c=0;c<this._holes.length;c++)a-=Math.abs(ve.signedArea(this._holes[c].getCoordinateSequence()));return a},n.prototype.isRectangle=function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var a=this._shell.getCoordinateSequence(),c=this.getEnvelopeInternal(),h=0;h<5;h++){var g=a.getX(h);if(g!==c.getMinX()&&g!==c.getMaxX())return!1;var y=a.getY(h);if(y!==c.getMinY()&&y!==c.getMaxY())return!1}for(var w=a.getX(0),_=a.getY(0),T=1;T<=4;T++){var E=a.getX(T),P=a.getY(T);if(E!==w==(P!==_))return!1;w=E,_=P}return!0},n.prototype.equalsExact=function(){var a=this;if(arguments.length===2){var c=arguments[0],h=arguments[1];if(!this.isEquivalentClass(c))return!1;var g=c,y=this._shell,w=g._shell;if(!y.equalsExact(w,h)||this._holes.length!==g._holes.length)return!1;for(var _=0;_<this._holes.length;_++)if(!a._holes[_].equalsExact(g._holes[_],h))return!1;return!0}return e.prototype.equalsExact.apply(this,arguments)},n.prototype.normalize=function(){var a=this;if(arguments.length===0){this.normalize(this._shell,!0);for(var c=0;c<this._holes.length;c++)a.normalize(a._holes[c],!1);jc.sort(this._holes)}else if(arguments.length===2){var h=arguments[0],g=arguments[1];if(h.isEmpty())return null;var y=new Array(h.getCoordinates().length-1).fill(null);pn.arraycopy(h.getCoordinates(),0,y,0,y.length);var w=lr.minCoordinate(h.getCoordinates());lr.scroll(y,w),pn.arraycopy(y,0,h.getCoordinates(),0,y.length),h.getCoordinates()[y.length]=y[0],ve.isCCW(h.getCoordinates())===g&&lr.reverse(h.getCoordinates())}},n.prototype.getCoordinate=function(){return this._shell.getCoordinate()},n.prototype.getNumInteriorRing=function(){return this._holes.length},n.prototype.getBoundaryDimension=function(){return 1},n.prototype.getDimension=function(){return 2},n.prototype.getLength=function(){var a=0;a+=this._shell.getLength();for(var c=0;c<this._holes.length;c++)a+=this._holes[c].getLength();return a},n.prototype.getNumPoints=function(){for(var a=this._shell.getNumPoints(),c=0;c<this._holes.length;c++)a+=this._holes[c].getNumPoints();return a},n.prototype.reverse=function(){var a=this.copy();a._shell=this._shell.copy().reverse(),a._holes=new Array(this._holes.length).fill(null);for(var c=0;c<this._holes.length;c++)a._holes[c]=this._holes[c].copy().reverse();return a},n.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},n.prototype.compareToSameClass=function(){var a=this;if(arguments.length===1){var c=arguments[0],h=this._shell,g=c._shell;return h.compareToSameClass(g)}if(arguments.length===2){var y=arguments[0],w=arguments[1],_=y,T=this._shell,E=_._shell,P=T.compareToSameClass(E,w);if(P!==0)return P;for(var z=this.getNumInteriorRing(),N=_.getNumInteriorRing(),B=0;B<z&&B<N;){var R=a.getInteriorRingN(B),Y=_.getInteriorRingN(B),nt=R.compareToSameClass(Y,w);if(nt!==0)return nt;B++}return B<z?1:B<N?-1:0}},n.prototype.apply=function(a){var c=this;if(Ge(a,fa)){this._shell.apply(a);for(var h=0;h<this._holes.length;h++)c._holes[h].apply(a)}else if(Ge(a,ds)){if(this._shell.apply(a),!a.isDone())for(var g=0;g<this._holes.length&&(c._holes[g].apply(a),!a.isDone());g++);a.isGeometryChanged()&&this.geometryChanged()}else if(Ge(a,Ns))a.filter(this);else if(Ge(a,Za)){a.filter(this),this._shell.apply(a);for(var y=0;y<this._holes.length;y++)c._holes[y].apply(a)}},n.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var a=new Array(this._holes.length+1).fill(null);a[0]=this._shell;for(var c=0;c<this._holes.length;c++)a[c+1]=this._holes[c];return a.length<=1?this.getFactory().createLinearRing(a[0].getCoordinateSequence()):this.getFactory().createMultiLineString(a)},n.prototype.clone=function(){var a=e.prototype.clone.call(this);a._shell=this._shell.clone(),a._holes=new Array(this._holes.length).fill(null);for(var c=0;c<this._holes.length;c++)a._holes[c]=this._holes[c].clone();return a},n.prototype.getGeometryType=function(){return"Polygon"},n.prototype.copy=function(){for(var a=this._shell.copy(),c=new Array(this._holes.length).fill(null),h=0;h<c.length;h++)c[h]=this._holes[h].copy();return new n(a,c,this._factory)},n.prototype.getExteriorRing=function(){return this._shell},n.prototype.isEmpty=function(){return this._shell.isEmpty()},n.prototype.getInteriorRingN=function(a){return this._holes[a]},n.prototype.interfaces_=function(){return[jl]},n.prototype.getClass=function(){return n},s.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(n,s),n}(He),Sd=function(e){function n(){e.apply(this,arguments)}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var s={serialVersionUID:{configurable:!0}};return n.prototype.getSortIndex=function(){return He.SORTINDEX_MULTIPOINT},n.prototype.isValid=function(){return!0},n.prototype.equalsExact=function(){if(arguments.length===2){var a=arguments[0],c=arguments[1];return!!this.isEquivalentClass(a)&&e.prototype.equalsExact.call(this,a,c)}return e.prototype.equalsExact.apply(this,arguments)},n.prototype.getCoordinate=function(){if(arguments.length===1){var a=arguments[0];return this._geometries[a].getCoordinate()}return e.prototype.getCoordinate.apply(this,arguments)},n.prototype.getBoundaryDimension=function(){return Xr.FALSE},n.prototype.getDimension=function(){return 0},n.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},n.prototype.getGeometryType=function(){return"MultiPoint"},n.prototype.copy=function(){for(var a=new Array(this._geometries.length).fill(null),c=0;c<a.length;c++)a[c]=this._geometries[c].copy();return new n(a,this._factory)},n.prototype.interfaces_=function(){return[Mf]},n.prototype.getClass=function(){return n},s.serialVersionUID.get=function(){return-8048474874175356e3},Object.defineProperties(n,s),n}(Nn),ga=function(e){function n(a,c){a instanceof Mt&&c instanceof cr&&(a=c.getCoordinateSequenceFactory().create(a)),e.call(this,a,c),this.validateConstruction()}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var s={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return n.prototype.getSortIndex=function(){return He.SORTINDEX_LINEARRING},n.prototype.getBoundaryDimension=function(){return Xr.FALSE},n.prototype.isClosed=function(){return!!this.isEmpty()||e.prototype.isClosed.call(this)},n.prototype.reverse=function(){var a=this._points.copy();return Ii.reverse(a),this.getFactory().createLinearRing(a)},n.prototype.validateConstruction=function(){if(!this.isEmpty()&&!e.prototype.isClosed.call(this))throw new xi("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<n.MINIMUM_VALID_SIZE)throw new xi("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},n.prototype.getGeometryType=function(){return"LinearRing"},n.prototype.copy=function(){return new n(this._points.copy(),this._factory)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},s.MINIMUM_VALID_SIZE.get=function(){return 4},s.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(n,s),n}(Ci),ma=function(e){function n(){e.apply(this,arguments)}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var s={serialVersionUID:{configurable:!0}};return n.prototype.getSortIndex=function(){return He.SORTINDEX_MULTIPOLYGON},n.prototype.equalsExact=function(){if(arguments.length===2){var a=arguments[0],c=arguments[1];return!!this.isEquivalentClass(a)&&e.prototype.equalsExact.call(this,a,c)}return e.prototype.equalsExact.apply(this,arguments)},n.prototype.getBoundaryDimension=function(){return 1},n.prototype.getDimension=function(){return 2},n.prototype.reverse=function(){for(var a=this._geometries.length,c=new Array(a).fill(null),h=0;h<this._geometries.length;h++)c[h]=this._geometries[h].reverse();return this.getFactory().createMultiPolygon(c)},n.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var a=new he,c=0;c<this._geometries.length;c++)for(var h=this._geometries[c].getBoundary(),g=0;g<h.getNumGeometries();g++)a.add(h.getGeometryN(g));var y=new Array(a.size()).fill(null);return this.getFactory().createMultiLineString(a.toArray(y))},n.prototype.getGeometryType=function(){return"MultiPolygon"},n.prototype.copy=function(){for(var a=new Array(this._geometries.length).fill(null),c=0;c<a.length;c++)a[c]=this._geometries[c].copy();return new n(a,this._factory)},n.prototype.interfaces_=function(){return[jl]},n.prototype.getClass=function(){return n},s.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(n,s),n}(Nn),qo=function(e){this._factory=e||null,this._isUserDataCopied=!1},f0={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};qo.prototype.setCopyUserData=function(e){this._isUserDataCopied=e},qo.prototype.edit=function(e,n){if(e===null)return null;var s=this.editInternal(e,n);return this._isUserDataCopied&&s.setUserData(e.getUserData()),s},qo.prototype.editInternal=function(e,n){return this._factory===null&&(this._factory=e.getFactory()),e instanceof Nn?this.editGeometryCollection(e,n):e instanceof Gi?this.editPolygon(e,n):e instanceof ao||e instanceof Ci?n.edit(e,this._factory):($e.shouldNeverReachHere("Unsupported Geometry class: "+e.getClass().getName()),null)},qo.prototype.editGeometryCollection=function(e,n){for(var s=n.edit(e,this._factory),a=new he,c=0;c<s.getNumGeometries();c++){var h=this.edit(s.getGeometryN(c),n);h===null||h.isEmpty()||a.add(h)}return s.getClass()===Sd?this._factory.createMultiPoint(a.toArray([])):s.getClass()===Hc?this._factory.createMultiLineString(a.toArray([])):s.getClass()===ma?this._factory.createMultiPolygon(a.toArray([])):this._factory.createGeometryCollection(a.toArray([]))},qo.prototype.editPolygon=function(e,n){var s=n.edit(e,this._factory);if(s===null&&(s=this._factory.createPolygon(null)),s.isEmpty())return s;var a=this.edit(s.getExteriorRing(),n);if(a===null||a.isEmpty())return this._factory.createPolygon();for(var c=new he,h=0;h<s.getNumInteriorRing();h++){var g=this.edit(s.getInteriorRingN(h),n);g===null||g.isEmpty()||c.add(g)}return this._factory.createPolygon(a,c.toArray([]))},qo.prototype.interfaces_=function(){return[]},qo.prototype.getClass=function(){return qo},qo.GeometryEditorOperation=function(){},f0.NoOpGeometryOperation.get=function(){return If},f0.CoordinateOperation.get=function(){return Lf},f0.CoordinateSequenceOperation.get=function(){return Af},Object.defineProperties(qo,f0);var If=function(){};If.prototype.edit=function(e,n){return e},If.prototype.interfaces_=function(){return[qo.GeometryEditorOperation]},If.prototype.getClass=function(){return If};var Lf=function(){};Lf.prototype.edit=function(e,n){var s=this.editCoordinates(e.getCoordinates(),e);return s===null?e:e instanceof ga?n.createLinearRing(s):e instanceof Ci?n.createLineString(s):e instanceof ao?s.length>0?n.createPoint(s[0]):n.createPoint():e},Lf.prototype.interfaces_=function(){return[qo.GeometryEditorOperation]},Lf.prototype.getClass=function(){return Lf};var Af=function(){};Af.prototype.edit=function(e,n){return e instanceof ga?n.createLinearRing(this.edit(e.getCoordinateSequence(),e)):e instanceof Ci?n.createLineString(this.edit(e.getCoordinateSequence(),e)):e instanceof ao?n.createPoint(this.edit(e.getCoordinateSequence(),e)):e},Af.prototype.interfaces_=function(){return[qo.GeometryEditorOperation]},Af.prototype.getClass=function(){return Af};var Li=function(){var e=this;if(this._dimension=3,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var n=arguments[0];this._coordinates=new Array(n).fill(null);for(var s=0;s<n;s++)e._coordinates[s]=new Mt}else if(Ge(arguments[0],yr)){var a=arguments[0];if(a===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=a.getDimension(),this._coordinates=new Array(a.size()).fill(null);for(var c=0;c<this._coordinates.length;c++)e._coordinates[c]=a.getCoordinateCopy(c)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var h=arguments[0],g=arguments[1];this._coordinates=h,this._dimension=g,h===null&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var y=arguments[0],w=arguments[1];this._coordinates=new Array(y).fill(null),this._dimension=w;for(var _=0;_<y;_++)e._coordinates[_]=new Mt}}},Bk={serialVersionUID:{configurable:!0}};Li.prototype.setOrdinate=function(e,n,s){switch(n){case yr.X:this._coordinates[e].x=s;break;case yr.Y:this._coordinates[e].y=s;break;case yr.Z:this._coordinates[e].z=s;break;default:throw new xi("invalid ordinateIndex")}},Li.prototype.size=function(){return this._coordinates.length},Li.prototype.getOrdinate=function(e,n){switch(n){case yr.X:return this._coordinates[e].x;case yr.Y:return this._coordinates[e].y;case yr.Z:return this._coordinates[e].z}return Ke.NaN},Li.prototype.getCoordinate=function(){if(arguments.length===1){var e=arguments[0];return this._coordinates[e]}if(arguments.length===2){var n=arguments[0],s=arguments[1];s.x=this._coordinates[n].x,s.y=this._coordinates[n].y,s.z=this._coordinates[n].z}},Li.prototype.getCoordinateCopy=function(e){return new Mt(this._coordinates[e])},Li.prototype.getDimension=function(){return this._dimension},Li.prototype.getX=function(e){return this._coordinates[e].x},Li.prototype.clone=function(){for(var e=new Array(this.size()).fill(null),n=0;n<this._coordinates.length;n++)e[n]=this._coordinates[n].clone();return new Li(e,this._dimension)},Li.prototype.expandEnvelope=function(e){for(var n=0;n<this._coordinates.length;n++)e.expandToInclude(this._coordinates[n]);return e},Li.prototype.copy=function(){for(var e=new Array(this.size()).fill(null),n=0;n<this._coordinates.length;n++)e[n]=this._coordinates[n].copy();return new Li(e,this._dimension)},Li.prototype.toString=function(){if(this._coordinates.length>0){var e=new Ls(17*this._coordinates.length);e.append("("),e.append(this._coordinates[0]);for(var n=1;n<this._coordinates.length;n++)e.append(", "),e.append(this._coordinates[n]);return e.append(")"),e.toString()}return"()"},Li.prototype.getY=function(e){return this._coordinates[e].y},Li.prototype.toCoordinateArray=function(){return this._coordinates},Li.prototype.interfaces_=function(){return[yr,jo]},Li.prototype.getClass=function(){return Li},Bk.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(Li,Bk);var va=function(){},qb={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};va.prototype.readResolve=function(){return va.instance()},va.prototype.create=function(){if(arguments.length===1){if(arguments[0]instanceof Array){var e=arguments[0];return new Li(e)}if(Ge(arguments[0],yr)){var n=arguments[0];return new Li(n)}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];return a>3&&(a=3),a<2?new Li(s):new Li(s,a)}},va.prototype.interfaces_=function(){return[md,jo]},va.prototype.getClass=function(){return va},va.instance=function(){return va.instanceObject},qb.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},qb.instanceObject.get=function(){return new va},Object.defineProperties(va,qb);var jk=function(e){function n(){e.call(this),this.map_=new Map}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.get=function(s){return this.map_.get(s)||null},n.prototype.put=function(s,a){return this.map_.set(s,a),a},n.prototype.values=function(){for(var s=new he,a=this.map_.values(),c=a.next();!c.done;)s.add(c.value),c=a.next();return s},n.prototype.entrySet=function(){var s=new Hb;return this.map_.entries().forEach(function(a){return s.add(a)}),s},n.prototype.size=function(){return this.map_.size()},n}(Qu),Kr=function e(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=e.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof Ds){var n=arguments[0];this._modelType=n,n===e.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var s=arguments[0];this._modelType=e.FIXED,this.setScale(s)}else if(arguments[0]instanceof e){var a=arguments[0];this._modelType=a._modelType,this._scale=a._scale}}},Vb={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};Kr.prototype.equals=function(e){if(!(e instanceof Kr))return!1;var n=e;return this._modelType===n._modelType&&this._scale===n._scale},Kr.prototype.compareTo=function(e){var n=e,s=this.getMaximumSignificantDigits(),a=n.getMaximumSignificantDigits();return new As(s).compareTo(new As(a))},Kr.prototype.getScale=function(){return this._scale},Kr.prototype.isFloating=function(){return this._modelType===Kr.FLOATING||this._modelType===Kr.FLOATING_SINGLE},Kr.prototype.getType=function(){return this._modelType},Kr.prototype.toString=function(){var e="UNKNOWN";return this._modelType===Kr.FLOATING?e="Floating":this._modelType===Kr.FLOATING_SINGLE?e="Floating-Single":this._modelType===Kr.FIXED&&(e="Fixed (Scale="+this.getScale()+")"),e},Kr.prototype.makePrecise=function(){if(typeof arguments[0]=="number"){var e=arguments[0];return Ke.isNaN(e)||this._modelType===Kr.FLOATING_SINGLE?e:this._modelType===Kr.FIXED?Math.round(e*this._scale)/this._scale:e}if(arguments[0]instanceof Mt){var n=arguments[0];if(this._modelType===Kr.FLOATING)return null;n.x=this.makePrecise(n.x),n.y=this.makePrecise(n.y)}},Kr.prototype.getMaximumSignificantDigits=function(){var e=16;return this._modelType===Kr.FLOATING?e=16:this._modelType===Kr.FLOATING_SINGLE?e=6:this._modelType===Kr.FIXED&&(e=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),e},Kr.prototype.setScale=function(e){this._scale=Math.abs(e)},Kr.prototype.interfaces_=function(){return[jo,Bo]},Kr.prototype.getClass=function(){return Kr},Kr.mostPrecise=function(e,n){return e.compareTo(n)>=0?e:n},Vb.serialVersionUID.get=function(){return 7777263578777804e3},Vb.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(Kr,Vb);var Ds=function e(n){this._name=n||null,e.nameToTypeMap.put(n,this)},Wb={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};Ds.prototype.readResolve=function(){return Ds.nameToTypeMap.get(this._name)},Ds.prototype.toString=function(){return this._name},Ds.prototype.interfaces_=function(){return[jo]},Ds.prototype.getClass=function(){return Ds},Wb.serialVersionUID.get=function(){return-552860263173159e4},Wb.nameToTypeMap.get=function(){return new jk},Object.defineProperties(Ds,Wb),Kr.Type=Ds,Kr.FIXED=new Ds("FIXED"),Kr.FLOATING=new Ds("FLOATING"),Kr.FLOATING_SINGLE=new Ds("FLOATING SINGLE");var cr=function e(){this._precisionModel=new Kr,this._SRID=0,this._coordinateSequenceFactory=e.getDefaultCoordinateSequenceFactory(),arguments.length===0||(arguments.length===1?Ge(arguments[0],md)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof Kr&&(this._precisionModel=arguments[0]):arguments.length===2?(this._precisionModel=arguments[0],this._SRID=arguments[1]):arguments.length===3&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},Hk={serialVersionUID:{configurable:!0}};cr.prototype.toGeometry=function(e){return e.isNull()?this.createPoint(null):e.getMinX()===e.getMaxX()&&e.getMinY()===e.getMaxY()?this.createPoint(new Mt(e.getMinX(),e.getMinY())):e.getMinX()===e.getMaxX()||e.getMinY()===e.getMaxY()?this.createLineString([new Mt(e.getMinX(),e.getMinY()),new Mt(e.getMaxX(),e.getMaxY())]):this.createPolygon(this.createLinearRing([new Mt(e.getMinX(),e.getMinY()),new Mt(e.getMinX(),e.getMaxY()),new Mt(e.getMaxX(),e.getMaxY()),new Mt(e.getMaxX(),e.getMinY()),new Mt(e.getMinX(),e.getMinY())]),null)},cr.prototype.createLineString=function(e){return e?e instanceof Array?new Ci(this.getCoordinateSequenceFactory().create(e),this):Ge(e,yr)?new Ci(e,this):void 0:new Ci(this.getCoordinateSequenceFactory().create([]),this)},cr.prototype.createMultiLineString=function(){if(arguments.length===0)return new Hc(null,this);if(arguments.length===1){var e=arguments[0];return new Hc(e,this)}},cr.prototype.buildGeometry=function(e){for(var n=null,s=!1,a=!1,c=e.iterator();c.hasNext();){var h=c.next(),g=h.getClass();n===null&&(n=g),g!==n&&(s=!0),h.isGeometryCollectionOrDerived()&&(a=!0)}if(n===null)return this.createGeometryCollection();if(s||a)return this.createGeometryCollection(cr.toGeometryArray(e));var y=e.iterator().next();if(e.size()>1){if(y instanceof Gi)return this.createMultiPolygon(cr.toPolygonArray(e));if(y instanceof Ci)return this.createMultiLineString(cr.toLineStringArray(e));if(y instanceof ao)return this.createMultiPoint(cr.toPointArray(e));$e.shouldNeverReachHere("Unhandled class: "+y.getClass().getName())}return y},cr.prototype.createMultiPointFromCoords=function(e){return this.createMultiPoint(e!==null?this.getCoordinateSequenceFactory().create(e):null)},cr.prototype.createPoint=function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Mt){var e=arguments[0];return this.createPoint(e!==null?this.getCoordinateSequenceFactory().create([e]):null)}if(Ge(arguments[0],yr)){var n=arguments[0];return new ao(n,this)}}},cr.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},cr.prototype.createPolygon=function(){if(arguments.length===0)return new Gi(null,null,this);if(arguments.length===1){if(Ge(arguments[0],yr)){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Array){var n=arguments[0];return this.createPolygon(this.createLinearRing(n))}if(arguments[0]instanceof ga){var s=arguments[0];return this.createPolygon(s,null)}}else if(arguments.length===2){var a=arguments[0],c=arguments[1];return new Gi(a,c,this)}},cr.prototype.getSRID=function(){return this._SRID},cr.prototype.createGeometryCollection=function(){if(arguments.length===0)return new Nn(null,this);if(arguments.length===1){var e=arguments[0];return new Nn(e,this)}},cr.prototype.createGeometry=function(e){return new qo(this).edit(e,{edit:function(){if(arguments.length===2){var n=arguments[0];return this._coordinateSequenceFactory.create(n)}}})},cr.prototype.getPrecisionModel=function(){return this._precisionModel},cr.prototype.createLinearRing=function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var e=arguments[0];return this.createLinearRing(e!==null?this.getCoordinateSequenceFactory().create(e):null)}if(Ge(arguments[0],yr)){var n=arguments[0];return new ga(n,this)}}},cr.prototype.createMultiPolygon=function(){if(arguments.length===0)return new ma(null,this);if(arguments.length===1){var e=arguments[0];return new ma(e,this)}},cr.prototype.createMultiPoint=function(){var e=this;if(arguments.length===0)return new Sd(null,this);if(arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];return new Sd(n,this)}if(arguments[0]instanceof Array){var s=arguments[0];return this.createMultiPoint(s!==null?this.getCoordinateSequenceFactory().create(s):null)}if(Ge(arguments[0],yr)){var a=arguments[0];if(a===null)return this.createMultiPoint(new Array(0).fill(null));for(var c=new Array(a.size()).fill(null),h=0;h<a.size();h++){var g=e.getCoordinateSequenceFactory().create(1,a.getDimension());Ii.copy(a,h,g,0,1),c[h]=e.createPoint(g)}return this.createMultiPoint(c)}}},cr.prototype.interfaces_=function(){return[jo]},cr.prototype.getClass=function(){return cr},cr.toMultiPolygonArray=function(e){var n=new Array(e.size()).fill(null);return e.toArray(n)},cr.toGeometryArray=function(e){if(e===null)return null;var n=new Array(e.size()).fill(null);return e.toArray(n)},cr.getDefaultCoordinateSequenceFactory=function(){return va.instance()},cr.toMultiLineStringArray=function(e){var n=new Array(e.size()).fill(null);return e.toArray(n)},cr.toLineStringArray=function(e){var n=new Array(e.size()).fill(null);return e.toArray(n)},cr.toMultiPointArray=function(e){var n=new Array(e.size()).fill(null);return e.toArray(n)},cr.toLinearRingArray=function(e){var n=new Array(e.size()).fill(null);return e.toArray(n)},cr.toPointArray=function(e){var n=new Array(e.size()).fill(null);return e.toArray(n)},cr.toPolygonArray=function(e){var n=new Array(e.size()).fill(null);return e.toArray(n)},cr.createPointFromInternalCoord=function(e,n){return n.getPrecisionModel().makePrecise(e),n.getFactory().createPoint(e)},Hk.serialVersionUID.get=function(){return-6820524753094096e3},Object.defineProperties(cr,Hk);var KI=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],g0=function(e){this.geometryFactory=e||new cr};g0.prototype.read=function(e){var n,s=(n=typeof e=="string"?JSON.parse(e):e).type;if(!Fs[s])throw new Error("Unknown GeoJSON type: "+n.type);return KI.indexOf(s)!==-1?Fs[s].apply(this,[n.coordinates]):s==="GeometryCollection"?Fs[s].apply(this,[n.geometries]):Fs[s].apply(this,[n])},g0.prototype.write=function(e){var n=e.getGeometryType();if(!Ka[n])throw new Error("Geometry is not supported");return Ka[n].apply(this,[e])};var Fs={Feature:function(e){var n={};for(var s in e)n[s]=e[s];if(e.geometry){var a=e.geometry.type;if(!Fs[a])throw new Error("Unknown GeoJSON type: "+e.type);n.geometry=this.read(e.geometry)}return e.bbox&&(n.bbox=Fs.bbox.apply(this,[e.bbox])),n},FeatureCollection:function(e){var n={};if(e.features){n.features=[];for(var s=0;s<e.features.length;++s)n.features.push(this.read(e.features[s]))}return e.bbox&&(n.bbox=this.parse.bbox.apply(this,[e.bbox])),n},coordinates:function(e){for(var n=[],s=0;s<e.length;++s){var a=e[s];n.push(new Mt(a[0],a[1]))}return n},bbox:function(e){return this.geometryFactory.createLinearRing([new Mt(e[0],e[1]),new Mt(e[2],e[1]),new Mt(e[2],e[3]),new Mt(e[0],e[3]),new Mt(e[0],e[1])])},Point:function(e){var n=new Mt(e[0],e[1]);return this.geometryFactory.createPoint(n)},MultiPoint:function(e){for(var n=[],s=0;s<e.length;++s)n.push(Fs.Point.apply(this,[e[s]]));return this.geometryFactory.createMultiPoint(n)},LineString:function(e){var n=Fs.coordinates.apply(this,[e]);return this.geometryFactory.createLineString(n)},MultiLineString:function(e){for(var n=[],s=0;s<e.length;++s)n.push(Fs.LineString.apply(this,[e[s]]));return this.geometryFactory.createMultiLineString(n)},Polygon:function(e){for(var n=Fs.coordinates.apply(this,[e[0]]),s=this.geometryFactory.createLinearRing(n),a=[],c=1;c<e.length;++c){var h=e[c],g=Fs.coordinates.apply(this,[h]),y=this.geometryFactory.createLinearRing(g);a.push(y)}return this.geometryFactory.createPolygon(s,a)},MultiPolygon:function(e){for(var n=[],s=0;s<e.length;++s){var a=e[s];n.push(Fs.Polygon.apply(this,[a]))}return this.geometryFactory.createMultiPolygon(n)},GeometryCollection:function(e){for(var n=[],s=0;s<e.length;++s){var a=e[s];n.push(this.read(a))}return this.geometryFactory.createGeometryCollection(n)}},Ka={coordinate:function(e){return[e.x,e.y]},Point:function(e){return{type:"Point",coordinates:Ka.coordinate.apply(this,[e.getCoordinate()])}},MultiPoint:function(e){for(var n=[],s=0;s<e._geometries.length;++s){var a=e._geometries[s],c=Ka.Point.apply(this,[a]);n.push(c.coordinates)}return{type:"MultiPoint",coordinates:n}},LineString:function(e){for(var n=[],s=e.getCoordinates(),a=0;a<s.length;++a){var c=s[a];n.push(Ka.coordinate.apply(this,[c]))}return{type:"LineString",coordinates:n}},MultiLineString:function(e){for(var n=[],s=0;s<e._geometries.length;++s){var a=e._geometries[s],c=Ka.LineString.apply(this,[a]);n.push(c.coordinates)}return{type:"MultiLineString",coordinates:n}},Polygon:function(e){var n=[],s=Ka.LineString.apply(this,[e._shell]);n.push(s.coordinates);for(var a=0;a<e._holes.length;++a){var c=e._holes[a],h=Ka.LineString.apply(this,[c]);n.push(h.coordinates)}return{type:"Polygon",coordinates:n}},MultiPolygon:function(e){for(var n=[],s=0;s<e._geometries.length;++s){var a=e._geometries[s],c=Ka.Polygon.apply(this,[a]);n.push(c.coordinates)}return{type:"MultiPolygon",coordinates:n}},GeometryCollection:function(e){for(var n=[],s=0;s<e._geometries.length;++s){var a=e._geometries[s],c=a.getGeometryType();n.push(Ka[c].apply(this,[a]))}return{type:"GeometryCollection",geometries:n}}},Zb=function(e){this.geometryFactory=e||new cr,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new g0(this.geometryFactory)};Zb.prototype.read=function(e){var n=this.parser.read(e);return this.precisionModel.getType()===Kr.FIXED&&this.reducePrecision(n),n},Zb.prototype.reducePrecision=function(e){var n,s;if(e.coordinate)this.precisionModel.makePrecise(e.coordinate);else if(e.points)for(n=0,s=e.points.length;n<s;n++)this.precisionModel.makePrecise(e.points[n]);else if(e.geometries)for(n=0,s=e.geometries.length;n<s;n++)this.reducePrecision(e.geometries[n])};var Uk=function(){this.parser=new g0(this.geometryFactory)};Uk.prototype.write=function(e){return this.parser.write(e)};var oe=function(){},m0={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};function v0(e){this.message=e||""}function Bs(){this.array_=[]}oe.prototype.interfaces_=function(){return[]},oe.prototype.getClass=function(){return oe},oe.opposite=function(e){return e===oe.LEFT?oe.RIGHT:e===oe.RIGHT?oe.LEFT:e},m0.ON.get=function(){return 0},m0.LEFT.get=function(){return 1},m0.RIGHT.get=function(){return 2},Object.defineProperties(oe,m0),v0.prototype=new Error,v0.prototype.name="EmptyStackException",Bs.prototype=new us,Bs.prototype.add=function(e){return this.array_.push(e),!0},Bs.prototype.get=function(e){if(e<0||e>=this.size())throw new Error;return this.array_[e]},Bs.prototype.push=function(e){return this.array_.push(e),e},Bs.prototype.pop=function(e){if(this.array_.length===0)throw new v0;return this.array_.pop()},Bs.prototype.peek=function(){if(this.array_.length===0)throw new v0;return this.array_[this.array_.length-1]},Bs.prototype.empty=function(){return this.array_.length===0},Bs.prototype.isEmpty=function(){return this.empty()},Bs.prototype.search=function(e){return this.array_.indexOf(e)},Bs.prototype.size=function(){return this.array_.length},Bs.prototype.toArray=function(){for(var e=[],n=0,s=this.array_.length;n<s;n++)e.push(this.array_[n]);return e};var js=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};js.prototype.getCoordinate=function(){return this._minCoord},js.prototype.getRightmostSide=function(e,n){var s=this.getRightmostSideOfSegment(e,n);return s<0&&(s=this.getRightmostSideOfSegment(e,n-1)),s<0&&(this._minCoord=null,this.checkForRightmostCoordinate(e)),s},js.prototype.findRightmostEdgeAtVertex=function(){var e=this._minDe.getEdge().getCoordinates();$e.isTrue(this._minIndex>0&&this._minIndex<e.length,"rightmost point expected to be interior vertex of edge");var n=e[this._minIndex-1],s=e[this._minIndex+1],a=ve.computeOrientation(this._minCoord,s,n),c=!1;(n.y<this._minCoord.y&&s.y<this._minCoord.y&&a===ve.COUNTERCLOCKWISE||n.y>this._minCoord.y&&s.y>this._minCoord.y&&a===ve.CLOCKWISE)&&(c=!0),c&&(this._minIndex=this._minIndex-1)},js.prototype.getRightmostSideOfSegment=function(e,n){var s=e.getEdge().getCoordinates();if(n<0||n+1>=s.length||s[n].y===s[n+1].y)return-1;var a=oe.LEFT;return s[n].y<s[n+1].y&&(a=oe.RIGHT),a},js.prototype.getEdge=function(){return this._orientedDe},js.prototype.checkForRightmostCoordinate=function(e){for(var n=this,s=e.getEdge().getCoordinates(),a=0;a<s.length-1;a++)(n._minCoord===null||s[a].x>n._minCoord.x)&&(n._minDe=e,n._minIndex=a,n._minCoord=s[a])},js.prototype.findRightmostEdgeAtNode=function(){var e=this._minDe.getNode().getEdges();this._minDe=e.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},js.prototype.findEdge=function(e){for(var n=e.iterator();n.hasNext();){var s=n.next();s.isForward()&&this.checkForRightmostCoordinate(s)}$e.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===oe.LEFT&&(this._orientedDe=this._minDe.getSym())},js.prototype.interfaces_=function(){return[]},js.prototype.getClass=function(){return js};var Ja=function(e){function n(s,a){e.call(this,n.msgWithCoord(s,a)),this.pt=a?new Mt(a):null,this.name="TopologyException"}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.getCoordinate=function(){return this.pt},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n.msgWithCoord=function(s,a){return a?s:s+" [ "+a+" ]"},n}(Wa),y0=function(){this.array_=[]};y0.prototype.addLast=function(e){this.array_.push(e)},y0.prototype.removeFirst=function(){return this.array_.shift()},y0.prototype.isEmpty=function(){return this.array_.length===0};var Dn=function(){this._finder=null,this._dirEdgeList=new he,this._nodes=new he,this._rightMostCoord=null,this._env=null,this._finder=new js};Dn.prototype.clearVisitedEdges=function(){for(var e=this._dirEdgeList.iterator();e.hasNext();)e.next().setVisited(!1)},Dn.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Dn.prototype.computeNodeDepth=function(e){for(var n=null,s=e.getEdges().iterator();s.hasNext();){var a=s.next();if(a.isVisited()||a.getSym().isVisited()){n=a;break}}if(n===null)throw new Ja("unable to find edge to compute depths at "+e.getCoordinate());e.getEdges().computeDepths(n);for(var c=e.getEdges().iterator();c.hasNext();){var h=c.next();h.setVisited(!0),this.copySymDepths(h)}},Dn.prototype.computeDepth=function(e){this.clearVisitedEdges();var n=this._finder.getEdge();n.setEdgeDepths(oe.RIGHT,e),this.copySymDepths(n),this.computeDepths(n)},Dn.prototype.create=function(e){this.addReachable(e),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Dn.prototype.findResultEdges=function(){for(var e=this._dirEdgeList.iterator();e.hasNext();){var n=e.next();n.getDepth(oe.RIGHT)>=1&&n.getDepth(oe.LEFT)<=0&&!n.isInteriorAreaEdge()&&n.setInResult(!0)}},Dn.prototype.computeDepths=function(e){var n=new Hb,s=new y0,a=e.getNode();for(s.addLast(a),n.add(a),e.setVisited(!0);!s.isEmpty();){var c=s.removeFirst();n.add(c),this.computeNodeDepth(c);for(var h=c.getEdges().iterator();h.hasNext();){var g=h.next().getSym();if(!g.isVisited()){var y=g.getNode();n.contains(y)||(s.addLast(y),n.add(y))}}}},Dn.prototype.compareTo=function(e){var n=e;return this._rightMostCoord.x<n._rightMostCoord.x?-1:this._rightMostCoord.x>n._rightMostCoord.x?1:0},Dn.prototype.getEnvelope=function(){if(this._env===null){for(var e=new Re,n=this._dirEdgeList.iterator();n.hasNext();)for(var s=n.next().getEdge().getCoordinates(),a=0;a<s.length-1;a++)e.expandToInclude(s[a]);this._env=e}return this._env},Dn.prototype.addReachable=function(e){var n=new Bs;for(n.add(e);!n.empty();){var s=n.pop();this.add(s,n)}},Dn.prototype.copySymDepths=function(e){var n=e.getSym();n.setDepth(oe.LEFT,e.getDepth(oe.RIGHT)),n.setDepth(oe.RIGHT,e.getDepth(oe.LEFT))},Dn.prototype.add=function(e,n){e.setVisited(!0),this._nodes.add(e);for(var s=e.getEdges().iterator();s.hasNext();){var a=s.next();this._dirEdgeList.add(a);var c=a.getSym().getNode();c.isVisited()||n.push(c)}},Dn.prototype.getNodes=function(){return this._nodes},Dn.prototype.getDirectedEdges=function(){return this._dirEdgeList},Dn.prototype.interfaces_=function(){return[Bo]},Dn.prototype.getClass=function(){return Dn};var di=function e(){var n=this;if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var s=arguments[0];this.init(s.length)}else if(Number.isInteger(arguments[0])){var a=arguments[0];this.init(1),this.location[oe.ON]=a}else if(arguments[0]instanceof e){var c=arguments[0];if(this.init(c.location.length),c!==null)for(var h=0;h<this.location.length;h++)n.location[h]=c.location[h]}}else if(arguments.length===3){var g=arguments[0],y=arguments[1],w=arguments[2];this.init(3),this.location[oe.ON]=g,this.location[oe.LEFT]=y,this.location[oe.RIGHT]=w}};di.prototype.setAllLocations=function(e){for(var n=0;n<this.location.length;n++)this.location[n]=e},di.prototype.isNull=function(){for(var e=0;e<this.location.length;e++)if(this.location[e]!==jt.NONE)return!1;return!0},di.prototype.setAllLocationsIfNull=function(e){for(var n=0;n<this.location.length;n++)this.location[n]===jt.NONE&&(this.location[n]=e)},di.prototype.isLine=function(){return this.location.length===1},di.prototype.merge=function(e){if(e.location.length>this.location.length){var n=new Array(3).fill(null);n[oe.ON]=this.location[oe.ON],n[oe.LEFT]=jt.NONE,n[oe.RIGHT]=jt.NONE,this.location=n}for(var s=0;s<this.location.length;s++)this.location[s]===jt.NONE&&s<e.location.length&&(this.location[s]=e.location[s])},di.prototype.getLocations=function(){return this.location},di.prototype.flip=function(){if(this.location.length<=1)return null;var e=this.location[oe.LEFT];this.location[oe.LEFT]=this.location[oe.RIGHT],this.location[oe.RIGHT]=e},di.prototype.toString=function(){var e=new Ls;return this.location.length>1&&e.append(jt.toLocationSymbol(this.location[oe.LEFT])),e.append(jt.toLocationSymbol(this.location[oe.ON])),this.location.length>1&&e.append(jt.toLocationSymbol(this.location[oe.RIGHT])),e.toString()},di.prototype.setLocations=function(e,n,s){this.location[oe.ON]=e,this.location[oe.LEFT]=n,this.location[oe.RIGHT]=s},di.prototype.get=function(e){return e<this.location.length?this.location[e]:jt.NONE},di.prototype.isArea=function(){return this.location.length>1},di.prototype.isAnyNull=function(){for(var e=0;e<this.location.length;e++)if(this.location[e]===jt.NONE)return!0;return!1},di.prototype.setLocation=function(){if(arguments.length===1){var e=arguments[0];this.setLocation(oe.ON,e)}else if(arguments.length===2){var n=arguments[0],s=arguments[1];this.location[n]=s}},di.prototype.init=function(e){this.location=new Array(e).fill(null),this.setAllLocations(jt.NONE)},di.prototype.isEqualOnSide=function(e,n){return this.location[n]===e.location[n]},di.prototype.allPositionsEqual=function(e){for(var n=0;n<this.location.length;n++)if(this.location[n]!==e)return!1;return!0},di.prototype.interfaces_=function(){return[]},di.prototype.getClass=function(){return di};var ri=function e(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var n=arguments[0];this.elt[0]=new di(n),this.elt[1]=new di(n)}else if(arguments[0]instanceof e){var s=arguments[0];this.elt[0]=new di(s.elt[0]),this.elt[1]=new di(s.elt[1])}}else if(arguments.length===2){var a=arguments[0],c=arguments[1];this.elt[0]=new di(jt.NONE),this.elt[1]=new di(jt.NONE),this.elt[a].setLocation(c)}else if(arguments.length===3){var h=arguments[0],g=arguments[1],y=arguments[2];this.elt[0]=new di(h,g,y),this.elt[1]=new di(h,g,y)}else if(arguments.length===4){var w=arguments[0],_=arguments[1],T=arguments[2],E=arguments[3];this.elt[0]=new di(jt.NONE,jt.NONE,jt.NONE),this.elt[1]=new di(jt.NONE,jt.NONE,jt.NONE),this.elt[w].setLocations(_,T,E)}};ri.prototype.getGeometryCount=function(){var e=0;return this.elt[0].isNull()||e++,this.elt[1].isNull()||e++,e},ri.prototype.setAllLocations=function(e,n){this.elt[e].setAllLocations(n)},ri.prototype.isNull=function(e){return this.elt[e].isNull()},ri.prototype.setAllLocationsIfNull=function(){if(arguments.length===1){var e=arguments[0];this.setAllLocationsIfNull(0,e),this.setAllLocationsIfNull(1,e)}else if(arguments.length===2){var n=arguments[0],s=arguments[1];this.elt[n].setAllLocationsIfNull(s)}},ri.prototype.isLine=function(e){return this.elt[e].isLine()},ri.prototype.merge=function(e){for(var n=this,s=0;s<2;s++)n.elt[s]===null&&e.elt[s]!==null?n.elt[s]=new di(e.elt[s]):n.elt[s].merge(e.elt[s])},ri.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},ri.prototype.getLocation=function(){if(arguments.length===1){var e=arguments[0];return this.elt[e].get(oe.ON)}if(arguments.length===2){var n=arguments[0],s=arguments[1];return this.elt[n].get(s)}},ri.prototype.toString=function(){var e=new Ls;return this.elt[0]!==null&&(e.append("A:"),e.append(this.elt[0].toString())),this.elt[1]!==null&&(e.append(" B:"),e.append(this.elt[1].toString())),e.toString()},ri.prototype.isArea=function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var e=arguments[0];return this.elt[e].isArea()}},ri.prototype.isAnyNull=function(e){return this.elt[e].isAnyNull()},ri.prototype.setLocation=function(){if(arguments.length===2){var e=arguments[0],n=arguments[1];this.elt[e].setLocation(oe.ON,n)}else if(arguments.length===3){var s=arguments[0],a=arguments[1],c=arguments[2];this.elt[s].setLocation(a,c)}},ri.prototype.isEqualOnSide=function(e,n){return this.elt[0].isEqualOnSide(e.elt[0],n)&&this.elt[1].isEqualOnSide(e.elt[1],n)},ri.prototype.allPositionsEqual=function(e,n){return this.elt[e].allPositionsEqual(n)},ri.prototype.toLine=function(e){this.elt[e].isArea()&&(this.elt[e]=new di(this.elt[e].location[0]))},ri.prototype.interfaces_=function(){return[]},ri.prototype.getClass=function(){return ri},ri.toLineLabel=function(e){for(var n=new ri(jt.NONE),s=0;s<2;s++)n.setLocation(s,e.getLocation(s));return n};var Oi=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new he,this._pts=new he,this._label=new ri(jt.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new he,this._geometryFactory=null;var e=arguments[0],n=arguments[1];this._geometryFactory=n,this.computePoints(e),this.computeRing()};Oi.prototype.computeRing=function(){if(this._ring!==null)return null;for(var e=new Array(this._pts.size()).fill(null),n=0;n<this._pts.size();n++)e[n]=this._pts.get(n);this._ring=this._geometryFactory.createLinearRing(e),this._isHole=ve.isCCW(this._ring.getCoordinates())},Oi.prototype.isIsolated=function(){return this._label.getGeometryCount()===1},Oi.prototype.computePoints=function(e){var n=this;this._startDe=e;var s=e,a=!0;do{if(s===null)throw new Ja("Found null DirectedEdge");if(s.getEdgeRing()===n)throw new Ja("Directed Edge visited twice during ring-building at "+s.getCoordinate());n._edges.add(s);var c=s.getLabel();$e.isTrue(c.isArea()),n.mergeLabel(c),n.addPoints(s.getEdge(),s.isForward(),a),a=!1,n.setEdgeRing(s,n),s=n.getNext(s)}while(s!==this._startDe)},Oi.prototype.getLinearRing=function(){return this._ring},Oi.prototype.getCoordinate=function(e){return this._pts.get(e)},Oi.prototype.computeMaxNodeDegree=function(){var e=this;this._maxNodeDegree=0;var n=this._startDe;do{var s=n.getNode().getEdges().getOutgoingDegree(e);s>e._maxNodeDegree&&(e._maxNodeDegree=s),n=e.getNext(n)}while(n!==this._startDe);this._maxNodeDegree*=2},Oi.prototype.addPoints=function(e,n,s){var a=e.getCoordinates();if(n){var c=1;s&&(c=0);for(var h=c;h<a.length;h++)this._pts.add(a[h])}else{var g=a.length-2;s&&(g=a.length-1);for(var y=g;y>=0;y--)this._pts.add(a[y])}},Oi.prototype.isHole=function(){return this._isHole},Oi.prototype.setInResult=function(){var e=this._startDe;do e.getEdge().setInResult(!0),e=e.getNext();while(e!==this._startDe)},Oi.prototype.containsPoint=function(e){var n=this.getLinearRing();if(!n.getEnvelopeInternal().contains(e)||!ve.isPointInRing(e,n.getCoordinates()))return!1;for(var s=this._holes.iterator();s.hasNext();)if(s.next().containsPoint(e))return!1;return!0},Oi.prototype.addHole=function(e){this._holes.add(e)},Oi.prototype.isShell=function(){return this._shell===null},Oi.prototype.getLabel=function(){return this._label},Oi.prototype.getEdges=function(){return this._edges},Oi.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},Oi.prototype.getShell=function(){return this._shell},Oi.prototype.mergeLabel=function(){if(arguments.length===1){var e=arguments[0];this.mergeLabel(e,0),this.mergeLabel(e,1)}else if(arguments.length===2){var n=arguments[0],s=arguments[1],a=n.getLocation(s,oe.RIGHT);if(a===jt.NONE)return null;if(this._label.getLocation(s)===jt.NONE)return this._label.setLocation(s,a),null}},Oi.prototype.setShell=function(e){this._shell=e,e!==null&&e.addHole(this)},Oi.prototype.toPolygon=function(e){for(var n=new Array(this._holes.size()).fill(null),s=0;s<this._holes.size();s++)n[s]=this._holes.get(s).getLinearRing();return e.createPolygon(this.getLinearRing(),n)},Oi.prototype.interfaces_=function(){return[]},Oi.prototype.getClass=function(){return Oi};var JI=function(e){function n(){var s=arguments[0],a=arguments[1];e.call(this,s,a)}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.setEdgeRing=function(s,a){s.setMinEdgeRing(a)},n.prototype.getNext=function(s){return s.getNextMin()},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(Oi),QI=function(e){function n(){var s=arguments[0],a=arguments[1];e.call(this,s,a)}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.buildMinimalRings=function(){var s=new he,a=this._startDe;do{if(a.getMinEdgeRing()===null){var c=new JI(a,this._geometryFactory);s.add(c)}a=a.getNext()}while(a!==this._startDe);return s},n.prototype.setEdgeRing=function(s,a){s.setEdgeRing(a)},n.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var s=this._startDe;do s.getNode().getEdges().linkMinimalDirectedEdges(this),s=s.getNext();while(s!==this._startDe)},n.prototype.getNext=function(s){return s.getNext()},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(Oi),To=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var e=arguments[0];this._label=e}}};To.prototype.setVisited=function(e){this._isVisited=e},To.prototype.setInResult=function(e){this._isInResult=e},To.prototype.isCovered=function(){return this._isCovered},To.prototype.isCoveredSet=function(){return this._isCoveredSet},To.prototype.setLabel=function(e){this._label=e},To.prototype.getLabel=function(){return this._label},To.prototype.setCovered=function(e){this._isCovered=e,this._isCoveredSet=!0},To.prototype.updateIM=function(e){$e.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(e)},To.prototype.isInResult=function(){return this._isInResult},To.prototype.isVisited=function(){return this._isVisited},To.prototype.interfaces_=function(){return[]},To.prototype.getClass=function(){return To};var b0=function(e){function n(){e.call(this),this._coord=null,this._edges=null;var s=arguments[0],a=arguments[1];this._coord=s,this._edges=a,this._label=new ri(0,jt.NONE)}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.isIncidentEdgeInResult=function(){for(var s=this.getEdges().getEdges().iterator();s.hasNext();)if(s.next().getEdge().isInResult())return!0;return!1},n.prototype.isIsolated=function(){return this._label.getGeometryCount()===1},n.prototype.getCoordinate=function(){return this._coord},n.prototype.print=function(s){s.println("node "+this._coord+" lbl: "+this._label)},n.prototype.computeIM=function(s){},n.prototype.computeMergedLocation=function(s,a){var c=jt.NONE;if(c=this._label.getLocation(a),!s.isNull(a)){var h=s.getLocation(a);c!==jt.BOUNDARY&&(c=h)}return c},n.prototype.setLabel=function(){if(arguments.length!==2)return e.prototype.setLabel.apply(this,arguments);var s=arguments[0],a=arguments[1];this._label===null?this._label=new ri(s,a):this._label.setLocation(s,a)},n.prototype.getEdges=function(){return this._edges},n.prototype.mergeLabel=function(){var s=this;if(arguments[0]instanceof n){var a=arguments[0];this.mergeLabel(a._label)}else if(arguments[0]instanceof ri)for(var c=arguments[0],h=0;h<2;h++){var g=s.computeMergedLocation(c,h),y=s._label.getLocation(h);y===jt.NONE&&s._label.setLocation(h,g)}},n.prototype.add=function(s){this._edges.insert(s),s.setNode(this)},n.prototype.setLabelBoundary=function(s){if(this._label===null)return null;var a=jt.NONE;this._label!==null&&(a=this._label.getLocation(s));var c=null;switch(a){case jt.BOUNDARY:c=jt.INTERIOR;break;case jt.INTERIOR:default:c=jt.BOUNDARY}this._label.setLocation(s,c)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(To),Hs=function(){this.nodeMap=new Tn,this.nodeFact=null;var e=arguments[0];this.nodeFact=e};Hs.prototype.find=function(e){return this.nodeMap.get(e)},Hs.prototype.addNode=function(){if(arguments[0]instanceof Mt){var e=arguments[0],n=this.nodeMap.get(e);return n===null&&(n=this.nodeFact.createNode(e),this.nodeMap.put(e,n)),n}if(arguments[0]instanceof b0){var s=arguments[0],a=this.nodeMap.get(s.getCoordinate());return a===null?(this.nodeMap.put(s.getCoordinate(),s),s):(a.mergeLabel(s),a)}},Hs.prototype.print=function(e){for(var n=this.iterator();n.hasNext();)n.next().print(e)},Hs.prototype.iterator=function(){return this.nodeMap.values().iterator()},Hs.prototype.values=function(){return this.nodeMap.values()},Hs.prototype.getBoundaryNodes=function(e){for(var n=new he,s=this.iterator();s.hasNext();){var a=s.next();a.getLabel().getLocation(e)===jt.BOUNDARY&&n.add(a)}return n},Hs.prototype.add=function(e){var n=e.getCoordinate();this.addNode(n).add(e)},Hs.prototype.interfaces_=function(){return[]},Hs.prototype.getClass=function(){return Hs};var ni=function(){},Rf={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};ni.prototype.interfaces_=function(){return[]},ni.prototype.getClass=function(){return ni},ni.isNorthern=function(e){return e===ni.NE||e===ni.NW},ni.isOpposite=function(e,n){return e!==n&&(e-n+4)%4===2},ni.commonHalfPlane=function(e,n){if(e===n)return e;if((e-n+4)%4===2)return-1;var s=e<n?e:n;return s===0&&(e>n?e:n)===3?3:s},ni.isInHalfPlane=function(e,n){return n===ni.SE?e===ni.SE||e===ni.SW:e===n||e===n+1},ni.quadrant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],n=arguments[1];if(e===0&&n===0)throw new xi("Cannot compute the quadrant for point ( "+e+", "+n+" )");return e>=0?n>=0?ni.NE:ni.SE:n>=0?ni.NW:ni.SW}if(arguments[0]instanceof Mt&&arguments[1]instanceof Mt){var s=arguments[0],a=arguments[1];if(a.x===s.x&&a.y===s.y)throw new xi("Cannot compute the quadrant for two identical points "+s);return a.x>=s.x?a.y>=s.y?ni.NE:ni.SE:a.y>=s.y?ni.NW:ni.SW}},Rf.NE.get=function(){return 0},Rf.NW.get=function(){return 1},Rf.SW.get=function(){return 2},Rf.SE.get=function(){return 3},Object.defineProperties(ni,Rf);var Sn=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var e=arguments[0];this._edge=e}else if(arguments.length===3){var n=arguments[0],s=arguments[1],a=arguments[2],c=null;this._edge=n,this.init(s,a),this._label=c}else if(arguments.length===4){var h=arguments[0],g=arguments[1],y=arguments[2],w=arguments[3];this._edge=h,this.init(g,y),this._label=w}};Sn.prototype.compareDirection=function(e){return this._dx===e._dx&&this._dy===e._dy?0:this._quadrant>e._quadrant?1:this._quadrant<e._quadrant?-1:ve.computeOrientation(e._p0,e._p1,this._p1)},Sn.prototype.getDy=function(){return this._dy},Sn.prototype.getCoordinate=function(){return this._p0},Sn.prototype.setNode=function(e){this._node=e},Sn.prototype.print=function(e){var n=Math.atan2(this._dy,this._dx),s=this.getClass().getName(),a=s.lastIndexOf("."),c=s.substring(a+1);e.print("  "+c+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+n+"   "+this._label)},Sn.prototype.compareTo=function(e){var n=e;return this.compareDirection(n)},Sn.prototype.getDirectedCoordinate=function(){return this._p1},Sn.prototype.getDx=function(){return this._dx},Sn.prototype.getLabel=function(){return this._label},Sn.prototype.getEdge=function(){return this._edge},Sn.prototype.getQuadrant=function(){return this._quadrant},Sn.prototype.getNode=function(){return this._node},Sn.prototype.toString=function(){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),s=n.lastIndexOf(".");return"  "+n.substring(s+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label},Sn.prototype.computeLabel=function(e){},Sn.prototype.init=function(e,n){this._p0=e,this._p1=n,this._dx=n.x-e.x,this._dy=n.y-e.y,this._quadrant=ni.quadrant(this._dx,this._dy),$e.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")},Sn.prototype.interfaces_=function(){return[Bo]},Sn.prototype.getClass=function(){return Sn};var Yb=function(e){function n(){var s=arguments[0],a=arguments[1];if(e.call(this,s),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=a,a)this.init(s.getCoordinate(0),s.getCoordinate(1));else{var c=s.getNumPoints()-1;this.init(s.getCoordinate(c),s.getCoordinate(c-1))}this.computeDirectedLabel()}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.getNextMin=function(){return this._nextMin},n.prototype.getDepth=function(s){return this._depth[s]},n.prototype.setVisited=function(s){this._isVisited=s},n.prototype.computeDirectedLabel=function(){this._label=new ri(this._edge.getLabel()),this._isForward||this._label.flip()},n.prototype.getNext=function(){return this._next},n.prototype.setDepth=function(s,a){if(this._depth[s]!==-999&&this._depth[s]!==a)throw new Ja("assigned depths do not match",this.getCoordinate());this._depth[s]=a},n.prototype.isInteriorAreaEdge=function(){for(var s=this,a=!0,c=0;c<2;c++)s._label.isArea(c)&&s._label.getLocation(c,oe.LEFT)===jt.INTERIOR&&s._label.getLocation(c,oe.RIGHT)===jt.INTERIOR||(a=!1);return a},n.prototype.setNextMin=function(s){this._nextMin=s},n.prototype.print=function(s){e.prototype.print.call(this,s),s.print(" "+this._depth[oe.LEFT]+"/"+this._depth[oe.RIGHT]),s.print(" ("+this.getDepthDelta()+")"),this._isInResult&&s.print(" inResult")},n.prototype.setMinEdgeRing=function(s){this._minEdgeRing=s},n.prototype.isLineEdge=function(){var s=this._label.isLine(0)||this._label.isLine(1),a=!this._label.isArea(0)||this._label.allPositionsEqual(0,jt.EXTERIOR),c=!this._label.isArea(1)||this._label.allPositionsEqual(1,jt.EXTERIOR);return s&&a&&c},n.prototype.setEdgeRing=function(s){this._edgeRing=s},n.prototype.getMinEdgeRing=function(){return this._minEdgeRing},n.prototype.getDepthDelta=function(){var s=this._edge.getDepthDelta();return this._isForward||(s=-s),s},n.prototype.setInResult=function(s){this._isInResult=s},n.prototype.getSym=function(){return this._sym},n.prototype.isForward=function(){return this._isForward},n.prototype.getEdge=function(){return this._edge},n.prototype.printEdge=function(s){this.print(s),s.print(" "),this._isForward?this._edge.print(s):this._edge.printReverse(s)},n.prototype.setSym=function(s){this._sym=s},n.prototype.setVisitedEdge=function(s){this.setVisited(s),this._sym.setVisited(s)},n.prototype.setEdgeDepths=function(s,a){var c=this.getEdge().getDepthDelta();this._isForward||(c=-c);var h=1;s===oe.LEFT&&(h=-1);var g=oe.opposite(s),y=a+c*h;this.setDepth(s,a),this.setDepth(g,y)},n.prototype.getEdgeRing=function(){return this._edgeRing},n.prototype.isInResult=function(){return this._isInResult},n.prototype.setNext=function(s){this._next=s},n.prototype.isVisited=function(){return this._isVisited},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n.depthFactor=function(s,a){return s===jt.EXTERIOR&&a===jt.INTERIOR?1:s===jt.INTERIOR&&a===jt.EXTERIOR?-1:0},n}(Sn),Cd=function(){};Cd.prototype.createNode=function(e){return new b0(e,null)},Cd.prototype.interfaces_=function(){return[]},Cd.prototype.getClass=function(){return Cd};var Ti=function(){if(this._edges=new he,this._nodes=null,this._edgeEndList=new he,arguments.length===0)this._nodes=new Hs(new Cd);else if(arguments.length===1){var e=arguments[0];this._nodes=new Hs(e)}};Ti.prototype.printEdges=function(e){e.println("Edges:");for(var n=0;n<this._edges.size();n++){e.println("edge "+n+":");var s=this._edges.get(n);s.print(e),s.eiList.print(e)}},Ti.prototype.find=function(e){return this._nodes.find(e)},Ti.prototype.addNode=function(){if(arguments[0]instanceof b0){var e=arguments[0];return this._nodes.addNode(e)}if(arguments[0]instanceof Mt){var n=arguments[0];return this._nodes.addNode(n)}},Ti.prototype.getNodeIterator=function(){return this._nodes.iterator()},Ti.prototype.linkResultDirectedEdges=function(){for(var e=this._nodes.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()},Ti.prototype.debugPrintln=function(e){pn.out.println(e)},Ti.prototype.isBoundaryNode=function(e,n){var s=this._nodes.find(n);if(s===null)return!1;var a=s.getLabel();return a!==null&&a.getLocation(e)===jt.BOUNDARY},Ti.prototype.linkAllDirectedEdges=function(){for(var e=this._nodes.iterator();e.hasNext();)e.next().getEdges().linkAllDirectedEdges()},Ti.prototype.matchInSameDirection=function(e,n,s,a){return!!e.equals(s)&&ve.computeOrientation(e,n,a)===ve.COLLINEAR&&ni.quadrant(e,n)===ni.quadrant(s,a)},Ti.prototype.getEdgeEnds=function(){return this._edgeEndList},Ti.prototype.debugPrint=function(e){pn.out.print(e)},Ti.prototype.getEdgeIterator=function(){return this._edges.iterator()},Ti.prototype.findEdgeInSameDirection=function(e,n){for(var s=this,a=0;a<this._edges.size();a++){var c=s._edges.get(a),h=c.getCoordinates();if(s.matchInSameDirection(e,n,h[0],h[1])||s.matchInSameDirection(e,n,h[h.length-1],h[h.length-2]))return c}return null},Ti.prototype.insertEdge=function(e){this._edges.add(e)},Ti.prototype.findEdgeEnd=function(e){for(var n=this.getEdgeEnds().iterator();n.hasNext();){var s=n.next();if(s.getEdge()===e)return s}return null},Ti.prototype.addEdges=function(e){for(var n=this,s=e.iterator();s.hasNext();){var a=s.next();n._edges.add(a);var c=new Yb(a,!0),h=new Yb(a,!1);c.setSym(h),h.setSym(c),n.add(c),n.add(h)}},Ti.prototype.add=function(e){this._nodes.add(e),this._edgeEndList.add(e)},Ti.prototype.getNodes=function(){return this._nodes.values()},Ti.prototype.findEdge=function(e,n){for(var s=0;s<this._edges.size();s++){var a=this._edges.get(s),c=a.getCoordinates();if(e.equals(c[0])&&n.equals(c[1]))return a}return null},Ti.prototype.interfaces_=function(){return[]},Ti.prototype.getClass=function(){return Ti},Ti.linkResultDirectedEdges=function(e){for(var n=e.iterator();n.hasNext();)n.next().getEdges().linkResultDirectedEdges()};var lo=function(){this._geometryFactory=null,this._shellList=new he;var e=arguments[0];this._geometryFactory=e};lo.prototype.sortShellsAndHoles=function(e,n,s){for(var a=e.iterator();a.hasNext();){var c=a.next();c.isHole()?s.add(c):n.add(c)}},lo.prototype.computePolygons=function(e){for(var n=new he,s=e.iterator();s.hasNext();){var a=s.next().toPolygon(this._geometryFactory);n.add(a)}return n},lo.prototype.placeFreeHoles=function(e,n){for(var s=n.iterator();s.hasNext();){var a=s.next();if(a.getShell()===null){var c=this.findEdgeRingContaining(a,e);if(c===null)throw new Ja("unable to assign hole to a shell",a.getCoordinate(0));a.setShell(c)}}},lo.prototype.buildMinimalEdgeRings=function(e,n,s){for(var a=new he,c=e.iterator();c.hasNext();){var h=c.next();if(h.getMaxNodeDegree()>2){h.linkDirectedEdgesForMinimalEdgeRings();var g=h.buildMinimalRings(),y=this.findShell(g);y!==null?(this.placePolygonHoles(y,g),n.add(y)):s.addAll(g)}else a.add(h)}return a},lo.prototype.containsPoint=function(e){for(var n=this._shellList.iterator();n.hasNext();)if(n.next().containsPoint(e))return!0;return!1},lo.prototype.buildMaximalEdgeRings=function(e){for(var n=new he,s=e.iterator();s.hasNext();){var a=s.next();if(a.isInResult()&&a.getLabel().isArea()&&a.getEdgeRing()===null){var c=new QI(a,this._geometryFactory);n.add(c),c.setInResult()}}return n},lo.prototype.placePolygonHoles=function(e,n){for(var s=n.iterator();s.hasNext();){var a=s.next();a.isHole()&&a.setShell(e)}},lo.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},lo.prototype.findEdgeRingContaining=function(e,n){for(var s=e.getLinearRing(),a=s.getEnvelopeInternal(),c=s.getCoordinateN(0),h=null,g=null,y=n.iterator();y.hasNext();){var w=y.next(),_=w.getLinearRing(),T=_.getEnvelopeInternal();h!==null&&(g=h.getLinearRing().getEnvelopeInternal());var E=!1;T.contains(a)&&ve.isPointInRing(c,_.getCoordinates())&&(E=!0),E&&(h===null||g.contains(T))&&(h=w)}return h},lo.prototype.findShell=function(e){for(var n=0,s=null,a=e.iterator();a.hasNext();){var c=a.next();c.isHole()||(s=c,n++)}return $e.isTrue(n<=1,"found two shells in MinimalEdgeRing list"),s},lo.prototype.add=function(){if(arguments.length===1){var e=arguments[0];this.add(e.getEdgeEnds(),e.getNodes())}else if(arguments.length===2){var n=arguments[0],s=arguments[1];Ti.linkResultDirectedEdges(s);var a=this.buildMaximalEdgeRings(n),c=new he,h=this.buildMinimalEdgeRings(a,this._shellList,c);this.sortShellsAndHoles(h,this._shellList,c),this.placeFreeHoles(this._shellList,c)}},lo.prototype.interfaces_=function(){return[]},lo.prototype.getClass=function(){return lo};var Pd=function(){};Pd.prototype.getBounds=function(){},Pd.prototype.interfaces_=function(){return[]},Pd.prototype.getClass=function(){return Pd};var ps=function(){this._bounds=null,this._item=null;var e=arguments[0],n=arguments[1];this._bounds=e,this._item=n};ps.prototype.getItem=function(){return this._item},ps.prototype.getBounds=function(){return this._bounds},ps.prototype.interfaces_=function(){return[Pd,jo]},ps.prototype.getClass=function(){return ps};var Qa=function(){this._size=null,this._items=null,this._size=0,this._items=new he,this._items.add(null)};Qa.prototype.poll=function(){if(this.isEmpty())return null;var e=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),e},Qa.prototype.size=function(){return this._size},Qa.prototype.reorder=function(e){for(var n=this,s=null,a=this._items.get(e);2*e<=this._size&&((s=2*e)!==n._size&&n._items.get(s+1).compareTo(n._items.get(s))<0&&s++,n._items.get(s).compareTo(a)<0);e=s)n._items.set(e,n._items.get(s));this._items.set(e,a)},Qa.prototype.clear=function(){this._size=0,this._items.clear()},Qa.prototype.isEmpty=function(){return this._size===0},Qa.prototype.add=function(e){this._items.add(null),this._size+=1;var n=this._size;for(this._items.set(0,e);e.compareTo(this._items.get(Math.trunc(n/2)))<0;n/=2)this._items.set(n,this._items.get(Math.trunc(n/2)));this._items.set(n,e)},Qa.prototype.interfaces_=function(){return[]},Qa.prototype.getClass=function(){return Qa};var Hl=function(){};Hl.prototype.visitItem=function(e){},Hl.prototype.interfaces_=function(){return[]},Hl.prototype.getClass=function(){return Hl};var $u=function(){};$u.prototype.insert=function(e,n){},$u.prototype.remove=function(e,n){},$u.prototype.query=function(){},$u.prototype.interfaces_=function(){return[]},$u.prototype.getClass=function(){return $u};var qi=function(){if(this._childBoundables=new he,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var e=arguments[0];this._level=e}}},Gk={serialVersionUID:{configurable:!0}};qi.prototype.getLevel=function(){return this._level},qi.prototype.size=function(){return this._childBoundables.size()},qi.prototype.getChildBoundables=function(){return this._childBoundables},qi.prototype.addChildBoundable=function(e){$e.isTrue(this._bounds===null),this._childBoundables.add(e)},qi.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},qi.prototype.getBounds=function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds},qi.prototype.interfaces_=function(){return[Pd,jo]},qi.prototype.getClass=function(){return qi},Gk.serialVersionUID.get=function(){return 6493722185909574e3},Object.defineProperties(qi,Gk);var fs=function(){};fs.reverseOrder=function(){return{compare:function(e,n){return n.compareTo(e)}}},fs.min=function(e){return fs.sort(e),e.get(0)},fs.sort=function(e,n){var s=e.toArray();n?jc.sort(s,n):jc.sort(s);for(var a=e.iterator(),c=0,h=s.length;c<h;c++)a.next(),a.set(s[c])},fs.singletonList=function(e){var n=new he;return n.add(e),n};var zi=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var e=arguments[0],n=arguments[1],s=arguments[2];this._boundable1=e,this._boundable2=n,this._itemDistance=s,this._distance=this.distance()};zi.prototype.expandToQueue=function(e,n){var s=zi.isComposite(this._boundable1),a=zi.isComposite(this._boundable2);if(s&&a)return zi.area(this._boundable1)>zi.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,e,n),null):(this.expand(this._boundable2,this._boundable1,e,n),null);if(s)return this.expand(this._boundable1,this._boundable2,e,n),null;if(a)return this.expand(this._boundable2,this._boundable1,e,n),null;throw new xi("neither boundable is composite")},zi.prototype.isLeaves=function(){return!(zi.isComposite(this._boundable1)||zi.isComposite(this._boundable2))},zi.prototype.compareTo=function(e){var n=e;return this._distance<n._distance?-1:this._distance>n._distance?1:0},zi.prototype.expand=function(e,n,s,a){for(var c=e.getChildBoundables().iterator();c.hasNext();){var h=c.next(),g=new zi(h,n,this._itemDistance);g.getDistance()<a&&s.add(g)}},zi.prototype.getBoundable=function(e){return e===0?this._boundable1:this._boundable2},zi.prototype.getDistance=function(){return this._distance},zi.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},zi.prototype.interfaces_=function(){return[Bo]},zi.prototype.getClass=function(){return zi},zi.area=function(e){return e.getBounds().getArea()},zi.isComposite=function(e){return e instanceof qi};var en=function e(){if(this._root=null,this._built=!1,this._itemBoundables=new he,this._nodeCapacity=null,arguments.length===0){var n=e.DEFAULT_NODE_CAPACITY;this._nodeCapacity=n}else if(arguments.length===1){var s=arguments[0];$e.isTrue(s>1,"Node capacity must be greater than 1"),this._nodeCapacity=s}},w0={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};en.prototype.getNodeCapacity=function(){return this._nodeCapacity},en.prototype.lastNode=function(e){return e.get(e.size()-1)},en.prototype.size=function(){var e=this;if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var n=arguments[0],s=0,a=n.getChildBoundables().iterator();a.hasNext();){var c=a.next();c instanceof qi?s+=e.size(c):c instanceof ps&&(s+=1)}return s}},en.prototype.removeItem=function(e,n){for(var s=null,a=e.getChildBoundables().iterator();a.hasNext();){var c=a.next();c instanceof ps&&c.getItem()===n&&(s=c)}return s!==null&&(e.getChildBoundables().remove(s),!0)},en.prototype.itemsTree=function(){var e=this;if(arguments.length===0){this.build();var n=this.itemsTree(this._root);return n===null?new he:n}if(arguments.length===1){for(var s=arguments[0],a=new he,c=s.getChildBoundables().iterator();c.hasNext();){var h=c.next();if(h instanceof qi){var g=e.itemsTree(h);g!==null&&a.add(g)}else h instanceof ps?a.add(h.getItem()):$e.shouldNeverReachHere()}return a.size()<=0?null:a}},en.prototype.insert=function(e,n){$e.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new ps(e,n))},en.prototype.boundablesAtLevel=function(){var e=this;if(arguments.length===1){var n=arguments[0],s=new he;return this.boundablesAtLevel(n,this._root,s),s}if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2];if($e.isTrue(a>-2),c.getLevel()===a)return h.add(c),null;for(var g=c.getChildBoundables().iterator();g.hasNext();){var y=g.next();y instanceof qi?e.boundablesAtLevel(a,y,h):($e.isTrue(y instanceof ps),a===-1&&h.add(y))}return null}},en.prototype.query=function(){var e=this;if(arguments.length===1){var n=arguments[0];this.build();var s=new he;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,s),s}if(arguments.length===2){var a=arguments[0],c=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),a)&&this.query(a,this._root,c)}else if(arguments.length===3){if(Ge(arguments[2],Hl)&&arguments[0]instanceof Object&&arguments[1]instanceof qi)for(var h=arguments[0],g=arguments[1],y=arguments[2],w=g.getChildBoundables(),_=0;_<w.size();_++){var T=w.get(_);e.getIntersectsOp().intersects(T.getBounds(),h)&&(T instanceof qi?e.query(h,T,y):T instanceof ps?y.visitItem(T.getItem()):$e.shouldNeverReachHere())}else if(Ge(arguments[2],us)&&arguments[0]instanceof Object&&arguments[1]instanceof qi)for(var E=arguments[0],P=arguments[1],z=arguments[2],N=P.getChildBoundables(),B=0;B<N.size();B++){var R=N.get(B);e.getIntersectsOp().intersects(R.getBounds(),E)&&(R instanceof qi?e.query(E,R,z):R instanceof ps?z.add(R.getItem()):$e.shouldNeverReachHere())}}},en.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},en.prototype.getRoot=function(){return this.build(),this._root},en.prototype.remove=function(){var e=this;if(arguments.length===2){var n=arguments[0],s=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.remove(n,this._root,s)}if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2],g=this.removeItem(c,h);if(g)return!0;for(var y=null,w=c.getChildBoundables().iterator();w.hasNext();){var _=w.next();if(e.getIntersectsOp().intersects(_.getBounds(),a)&&_ instanceof qi&&(g=e.remove(a,_,h))){y=_;break}}return y!==null&&y.getChildBoundables().isEmpty()&&c.getChildBoundables().remove(y),g}},en.prototype.createHigherLevels=function(e,n){$e.isTrue(!e.isEmpty());var s=this.createParentBoundables(e,n+1);return s.size()===1?s.get(0):this.createHigherLevels(s,n+1)},en.prototype.depth=function(){var e=this;if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var n=arguments[0],s=0,a=n.getChildBoundables().iterator();a.hasNext();){var c=a.next();if(c instanceof qi){var h=e.depth(c);h>s&&(s=h)}}return s+1}},en.prototype.createParentBoundables=function(e,n){var s=this;$e.isTrue(!e.isEmpty());var a=new he;a.add(this.createNode(n));var c=new he(e);fs.sort(c,this.getComparator());for(var h=c.iterator();h.hasNext();){var g=h.next();s.lastNode(a).getChildBoundables().size()===s.getNodeCapacity()&&a.add(s.createNode(n)),s.lastNode(a).addChildBoundable(g)}return a},en.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},en.prototype.interfaces_=function(){return[jo]},en.prototype.getClass=function(){return en},en.compareDoubles=function(e,n){return e>n?1:e<n?-1:0},w0.IntersectsOp.get=function(){return $I},w0.serialVersionUID.get=function(){return-3886435814360241e3},w0.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(en,w0);var $I=function(){},Md=function(){};Md.prototype.distance=function(e,n){},Md.prototype.interfaces_=function(){return[]},Md.prototype.getClass=function(){return Md};var qk=function(e){function n(a){a=a||n.DEFAULT_NODE_CAPACITY,e.call(this,a)}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var s={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return n.prototype.createParentBoundablesFromVerticalSlices=function(a,c){$e.isTrue(a.length>0);for(var h=new he,g=0;g<a.length;g++)h.addAll(this.createParentBoundablesFromVerticalSlice(a[g],c));return h},n.prototype.createNode=function(a){return new Vk(a)},n.prototype.size=function(){return arguments.length===0?e.prototype.size.call(this):e.prototype.size.apply(this,arguments)},n.prototype.insert=function(){if(arguments.length!==2)return e.prototype.insert.apply(this,arguments);var a=arguments[0],c=arguments[1];if(a.isNull())return null;e.prototype.insert.call(this,a,c)},n.prototype.getIntersectsOp=function(){return n.intersectsOp},n.prototype.verticalSlices=function(a,c){for(var h=Math.trunc(Math.ceil(a.size()/c)),g=new Array(c).fill(null),y=a.iterator(),w=0;w<c;w++){g[w]=new he;for(var _=0;y.hasNext()&&_<h;){var T=y.next();g[w].add(T),_++}}return g},n.prototype.query=function(){if(arguments.length===1){var a=arguments[0];return e.prototype.query.call(this,a)}if(arguments.length===2){var c=arguments[0],h=arguments[1];e.prototype.query.call(this,c,h)}else if(arguments.length===3){if(Ge(arguments[2],Hl)&&arguments[0]instanceof Object&&arguments[1]instanceof qi){var g=arguments[0],y=arguments[1],w=arguments[2];e.prototype.query.call(this,g,y,w)}else if(Ge(arguments[2],us)&&arguments[0]instanceof Object&&arguments[1]instanceof qi){var _=arguments[0],T=arguments[1],E=arguments[2];e.prototype.query.call(this,_,T,E)}}},n.prototype.getComparator=function(){return n.yComparator},n.prototype.createParentBoundablesFromVerticalSlice=function(a,c){return e.prototype.createParentBoundables.call(this,a,c)},n.prototype.remove=function(){if(arguments.length===2){var a=arguments[0],c=arguments[1];return e.prototype.remove.call(this,a,c)}return e.prototype.remove.apply(this,arguments)},n.prototype.depth=function(){return arguments.length===0?e.prototype.depth.call(this):e.prototype.depth.apply(this,arguments)},n.prototype.createParentBoundables=function(a,c){$e.isTrue(!a.isEmpty());var h=Math.trunc(Math.ceil(a.size()/this.getNodeCapacity())),g=new he(a);fs.sort(g,n.xComparator);var y=this.verticalSlices(g,Math.trunc(Math.ceil(Math.sqrt(h))));return this.createParentBoundablesFromVerticalSlices(y,c)},n.prototype.nearestNeighbour=function(){if(arguments.length===1){if(Ge(arguments[0],Md)){var a=arguments[0],c=new zi(this.getRoot(),this.getRoot(),a);return this.nearestNeighbour(c)}if(arguments[0]instanceof zi){var h=arguments[0];return this.nearestNeighbour(h,Ke.POSITIVE_INFINITY)}}else if(arguments.length===2){if(arguments[0]instanceof n&&Ge(arguments[1],Md)){var g=arguments[0],y=arguments[1],w=new zi(this.getRoot(),g.getRoot(),y);return this.nearestNeighbour(w)}if(arguments[0]instanceof zi&&typeof arguments[1]=="number"){var _=arguments[0],T=arguments[1],E=T,P=null,z=new Qa;for(z.add(_);!z.isEmpty()&&E>0;){var N=z.poll(),B=N.getDistance();if(B>=E)break;N.isLeaves()?(E=B,P=N):N.expandToQueue(z,E)}return[P.getBoundable(0).getItem(),P.getBoundable(1).getItem()]}}else if(arguments.length===3){var R=arguments[0],Y=arguments[1],nt=arguments[2],F=new ps(R,Y),Z=new zi(this.getRoot(),F,nt);return this.nearestNeighbour(Z)[0]}},n.prototype.interfaces_=function(){return[$u,jo]},n.prototype.getClass=function(){return n},n.centreX=function(a){return n.avg(a.getMinX(),a.getMaxX())},n.avg=function(a,c){return(a+c)/2},n.centreY=function(a){return n.avg(a.getMinY(),a.getMaxY())},s.STRtreeNode.get=function(){return Vk},s.serialVersionUID.get=function(){return 0x39920f7d5f261e0},s.xComparator.get=function(){return{interfaces_:function(){return[gd]},compare:function(a,c){return e.compareDoubles(n.centreX(a.getBounds()),n.centreX(c.getBounds()))}}},s.yComparator.get=function(){return{interfaces_:function(){return[gd]},compare:function(a,c){return e.compareDoubles(n.centreY(a.getBounds()),n.centreY(c.getBounds()))}}},s.intersectsOp.get=function(){return{interfaces_:function(){return[e.IntersectsOp]},intersects:function(a,c){return a.intersects(c)}}},s.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(n,s),n}(en),Vk=function(e){function n(){var s=arguments[0];e.call(this,s)}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.computeBounds=function(){for(var s=null,a=this.getChildBoundables().iterator();a.hasNext();){var c=a.next();s===null?s=new Re(c.getBounds()):s.expandToInclude(c.getBounds())}return s},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(qi),Jn=function(){};Jn.prototype.interfaces_=function(){return[]},Jn.prototype.getClass=function(){return Jn},Jn.relativeSign=function(e,n){return e<n?-1:e>n?1:0},Jn.compare=function(e,n,s){if(n.equals2D(s))return 0;var a=Jn.relativeSign(n.x,s.x),c=Jn.relativeSign(n.y,s.y);switch(e){case 0:return Jn.compareValue(a,c);case 1:return Jn.compareValue(c,a);case 2:return Jn.compareValue(c,-a);case 3:return Jn.compareValue(-a,c);case 4:return Jn.compareValue(-a,-c);case 5:return Jn.compareValue(-c,-a);case 6:return Jn.compareValue(-c,a);case 7:return Jn.compareValue(a,-c)}return $e.shouldNeverReachHere("invalid octant value"),0},Jn.compareValue=function(e,n){return e<0?-1:e>0?1:n<0?-1:n>0?1:0};var Ul=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var e=arguments[0],n=arguments[1],s=arguments[2],a=arguments[3];this._segString=e,this.coord=new Mt(n),this.segmentIndex=s,this._segmentOctant=a,this._isInterior=!n.equals2D(e.getCoordinate(s))};Ul.prototype.getCoordinate=function(){return this.coord},Ul.prototype.print=function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex)},Ul.prototype.compareTo=function(e){var n=e;return this.segmentIndex<n.segmentIndex?-1:this.segmentIndex>n.segmentIndex?1:this.coord.equals2D(n.coord)?0:Jn.compare(this._segmentOctant,this.coord,n.coord)},Ul.prototype.isEndPoint=function(e){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===e},Ul.prototype.isInterior=function(){return this._isInterior},Ul.prototype.interfaces_=function(){return[Bo]},Ul.prototype.getClass=function(){return Ul};var Fn=function(){this._nodeMap=new Tn,this._edge=null;var e=arguments[0];this._edge=e};Fn.prototype.getSplitCoordinates=function(){var e=new Tf;this.addEndpoints();for(var n=this.iterator(),s=n.next();n.hasNext();){var a=n.next();this.addEdgeCoordinates(s,a,e),s=a}return e.toCoordinateArray()},Fn.prototype.addCollapsedNodes=function(){var e=new he;this.findCollapsesFromInsertedNodes(e),this.findCollapsesFromExistingVertices(e);for(var n=e.iterator();n.hasNext();){var s=n.next().intValue();this.add(this._edge.getCoordinate(s),s)}},Fn.prototype.print=function(e){e.println("Intersections:");for(var n=this.iterator();n.hasNext();)n.next().print(e)},Fn.prototype.findCollapsesFromExistingVertices=function(e){for(var n=0;n<this._edge.size()-2;n++){var s=this._edge.getCoordinate(n),a=this._edge.getCoordinate(n+2);s.equals2D(a)&&e.add(new As(n+1))}},Fn.prototype.addEdgeCoordinates=function(e,n,s){var a=this._edge.getCoordinate(n.segmentIndex),c=n.isInterior()||!n.coord.equals2D(a);s.add(new Mt(e.coord),!1);for(var h=e.segmentIndex+1;h<=n.segmentIndex;h++)s.add(this._edge.getCoordinate(h));c&&s.add(new Mt(n.coord))},Fn.prototype.iterator=function(){return this._nodeMap.values().iterator()},Fn.prototype.addSplitEdges=function(e){this.addEndpoints(),this.addCollapsedNodes();for(var n=this.iterator(),s=n.next();n.hasNext();){var a=n.next(),c=this.createSplitEdge(s,a);e.add(c),s=a}},Fn.prototype.findCollapseIndex=function(e,n,s){if(!e.coord.equals2D(n.coord))return!1;var a=n.segmentIndex-e.segmentIndex;return n.isInterior()||a--,a===1&&(s[0]=e.segmentIndex+1,!0)},Fn.prototype.findCollapsesFromInsertedNodes=function(e){for(var n=new Array(1).fill(null),s=this.iterator(),a=s.next();s.hasNext();){var c=s.next();this.findCollapseIndex(a,c,n)&&e.add(new As(n[0])),a=c}},Fn.prototype.getEdge=function(){return this._edge},Fn.prototype.addEndpoints=function(){var e=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(e),e)},Fn.prototype.createSplitEdge=function(e,n){var s=n.segmentIndex-e.segmentIndex+2,a=this._edge.getCoordinate(n.segmentIndex),c=n.isInterior()||!n.coord.equals2D(a);c||s--;var h=new Array(s).fill(null),g=0;h[g++]=new Mt(e.coord);for(var y=e.segmentIndex+1;y<=n.segmentIndex;y++)h[g++]=this._edge.getCoordinate(y);return c&&(h[g]=new Mt(n.coord)),new Ai(h,this._edge.getData())},Fn.prototype.add=function(e,n){var s=new Ul(this._edge,e,n,this._edge.getSegmentOctant(n)),a=this._nodeMap.get(s);return a!==null?($e.isTrue(a.coord.equals2D(e),"Found equal nodes with different coordinates"),a):(this._nodeMap.put(s,s),s)},Fn.prototype.checkSplitEdgesCorrectness=function(e){var n=this._edge.getCoordinates(),s=e.get(0).getCoordinate(0);if(!s.equals2D(n[0]))throw new Wa("bad split edge start point at "+s);var a=e.get(e.size()-1).getCoordinates(),c=a[a.length-1];if(!c.equals2D(n[n.length-1]))throw new Wa("bad split edge end point at "+c)},Fn.prototype.interfaces_=function(){return[]},Fn.prototype.getClass=function(){return Fn};var th=function(){};th.prototype.interfaces_=function(){return[]},th.prototype.getClass=function(){return th},th.octant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],n=arguments[1];if(e===0&&n===0)throw new xi("Cannot compute the octant for point ( "+e+", "+n+" )");var s=Math.abs(e),a=Math.abs(n);return e>=0?n>=0?s>=a?0:1:s>=a?7:6:n>=0?s>=a?3:2:s>=a?4:5}if(arguments[0]instanceof Mt&&arguments[1]instanceof Mt){var c=arguments[0],h=arguments[1],g=h.x-c.x,y=h.y-c.y;if(g===0&&y===0)throw new xi("Cannot compute the octant for two identical points "+c);return th.octant(g,y)}};var ya=function(){};ya.prototype.getCoordinates=function(){},ya.prototype.size=function(){},ya.prototype.getCoordinate=function(e){},ya.prototype.isClosed=function(){},ya.prototype.setData=function(e){},ya.prototype.getData=function(){},ya.prototype.interfaces_=function(){return[]},ya.prototype.getClass=function(){return ya};var Of=function(){};Of.prototype.addIntersection=function(e,n){},Of.prototype.interfaces_=function(){return[ya]},Of.prototype.getClass=function(){return Of};var Ai=function(){this._nodeList=new Fn(this),this._pts=null,this._data=null;var e=arguments[0],n=arguments[1];this._pts=e,this._data=n};Ai.prototype.getCoordinates=function(){return this._pts},Ai.prototype.size=function(){return this._pts.length},Ai.prototype.getCoordinate=function(e){return this._pts[e]},Ai.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Ai.prototype.getSegmentOctant=function(e){return e===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(e),this.getCoordinate(e+1))},Ai.prototype.setData=function(e){this._data=e},Ai.prototype.safeOctant=function(e,n){return e.equals2D(n)?0:th.octant(e,n)},Ai.prototype.getData=function(){return this._data},Ai.prototype.addIntersection=function(){if(arguments.length===2){var e=arguments[0],n=arguments[1];this.addIntersectionNode(e,n)}else if(arguments.length===4){var s=arguments[0],a=arguments[1],c=arguments[3],h=new Mt(s.getIntersection(c));this.addIntersection(h,a)}},Ai.prototype.toString=function(){return cs.toLineString(new Li(this._pts))},Ai.prototype.getNodeList=function(){return this._nodeList},Ai.prototype.addIntersectionNode=function(e,n){var s=n,a=s+1;if(a<this._pts.length){var c=this._pts[a];e.equals2D(c)&&(s=a)}return this._nodeList.add(e,s)},Ai.prototype.addIntersections=function(e,n,s){for(var a=0;a<e.getIntersectionNum();a++)this.addIntersection(e,n,s,a)},Ai.prototype.interfaces_=function(){return[Of]},Ai.prototype.getClass=function(){return Ai},Ai.getNodedSubstrings=function(){if(arguments.length===1){var e=arguments[0],n=new he;return Ai.getNodedSubstrings(e,n),n}if(arguments.length===2)for(var s=arguments[0],a=arguments[1],c=s.iterator();c.hasNext();){var h=c.next();h.getNodeList().addSplitEdges(a)}};var Oe=function(){if(this.p0=null,this.p1=null,arguments.length===0)this.p0=new Mt,this.p1=new Mt;else if(arguments.length===1){var e=arguments[0];this.p0=new Mt(e.p0),this.p1=new Mt(e.p1)}else if(arguments.length===2)this.p0=arguments[0],this.p1=arguments[1];else if(arguments.length===4){var n=arguments[0],s=arguments[1],a=arguments[2],c=arguments[3];this.p0=new Mt(n,s),this.p1=new Mt(a,c)}},Wk={serialVersionUID:{configurable:!0}};Oe.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},Oe.prototype.orientationIndex=function(){if(arguments[0]instanceof Oe){var e=arguments[0],n=ve.orientationIndex(this.p0,this.p1,e.p0),s=ve.orientationIndex(this.p0,this.p1,e.p1);return n>=0&&s>=0||n<=0&&s<=0?Math.max(n,s):0}if(arguments[0]instanceof Mt){var a=arguments[0];return ve.orientationIndex(this.p0,this.p1,a)}},Oe.prototype.toGeometry=function(e){return e.createLineString([this.p0,this.p1])},Oe.prototype.isVertical=function(){return this.p0.x===this.p1.x},Oe.prototype.equals=function(e){if(!(e instanceof Oe))return!1;var n=e;return this.p0.equals(n.p0)&&this.p1.equals(n.p1)},Oe.prototype.intersection=function(e){var n=new Bc;return n.computeIntersection(this.p0,this.p1,e.p0,e.p1),n.hasIntersection()?n.getIntersection(0):null},Oe.prototype.project=function(){if(arguments[0]instanceof Mt){var e=arguments[0];if(e.equals(this.p0)||e.equals(this.p1))return new Mt(e);var n=this.projectionFactor(e),s=new Mt;return s.x=this.p0.x+n*(this.p1.x-this.p0.x),s.y=this.p0.y+n*(this.p1.y-this.p0.y),s}if(arguments[0]instanceof Oe){var a=arguments[0],c=this.projectionFactor(a.p0),h=this.projectionFactor(a.p1);if(c>=1&&h>=1||c<=0&&h<=0)return null;var g=this.project(a.p0);c<0&&(g=this.p0),c>1&&(g=this.p1);var y=this.project(a.p1);return h<0&&(y=this.p0),h>1&&(y=this.p1),new Oe(g,y)}},Oe.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},Oe.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},Oe.prototype.getCoordinate=function(e){return e===0?this.p0:this.p1},Oe.prototype.distancePerpendicular=function(e){return ve.distancePointLinePerpendicular(e,this.p0,this.p1)},Oe.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},Oe.prototype.midPoint=function(){return Oe.midPoint(this.p0,this.p1)},Oe.prototype.projectionFactor=function(e){if(e.equals(this.p0))return 0;if(e.equals(this.p1))return 1;var n=this.p1.x-this.p0.x,s=this.p1.y-this.p0.y,a=n*n+s*s;return a<=0?Ke.NaN:((e.x-this.p0.x)*n+(e.y-this.p0.y)*s)/a},Oe.prototype.closestPoints=function(e){var n=this.intersection(e);if(n!==null)return[n,n];var s=new Array(2).fill(null),a=Ke.MAX_VALUE,c=null,h=this.closestPoint(e.p0);a=h.distance(e.p0),s[0]=h,s[1]=e.p0;var g=this.closestPoint(e.p1);(c=g.distance(e.p1))<a&&(a=c,s[0]=g,s[1]=e.p1);var y=e.closestPoint(this.p0);(c=y.distance(this.p0))<a&&(a=c,s[0]=this.p0,s[1]=y);var w=e.closestPoint(this.p1);return(c=w.distance(this.p1))<a&&(a=c,s[0]=this.p1,s[1]=w),s},Oe.prototype.closestPoint=function(e){var n=this.projectionFactor(e);return n>0&&n<1?this.project(e):this.p0.distance(e)<this.p1.distance(e)?this.p0:this.p1},Oe.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},Oe.prototype.getLength=function(){return this.p0.distance(this.p1)},Oe.prototype.compareTo=function(e){var n=e,s=this.p0.compareTo(n.p0);return s!==0?s:this.p1.compareTo(n.p1)},Oe.prototype.reverse=function(){var e=this.p0;this.p0=this.p1,this.p1=e},Oe.prototype.equalsTopo=function(e){return this.p0.equals(e.p0)&&(this.p1.equals(e.p1)||this.p0.equals(e.p1))&&this.p1.equals(e.p0)},Oe.prototype.lineIntersection=function(e){try{return ls.intersection(this.p0,this.p1,e.p0,e.p1)}catch(n){if(!(n instanceof vd))throw n}return null},Oe.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},Oe.prototype.pointAlongOffset=function(e,n){var s=this.p0.x+e*(this.p1.x-this.p0.x),a=this.p0.y+e*(this.p1.y-this.p0.y),c=this.p1.x-this.p0.x,h=this.p1.y-this.p0.y,g=Math.sqrt(c*c+h*h),y=0,w=0;if(n!==0){if(g<=0)throw new Error("Cannot compute offset from zero-length line segment");y=n*c/g,w=n*h/g}return new Mt(s-w,a+y)},Oe.prototype.setCoordinates=function(){if(arguments.length===1){var e=arguments[0];this.setCoordinates(e.p0,e.p1)}else if(arguments.length===2){var n=arguments[0],s=arguments[1];this.p0.x=n.x,this.p0.y=n.y,this.p1.x=s.x,this.p1.y=s.y}},Oe.prototype.segmentFraction=function(e){var n=this.projectionFactor(e);return n<0?n=0:(n>1||Ke.isNaN(n))&&(n=1),n},Oe.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},Oe.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},Oe.prototype.distance=function(){if(arguments[0]instanceof Oe){var e=arguments[0];return ve.distanceLineLine(this.p0,this.p1,e.p0,e.p1)}if(arguments[0]instanceof Mt){var n=arguments[0];return ve.distancePointLine(n,this.p0,this.p1)}},Oe.prototype.pointAlong=function(e){var n=new Mt;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n},Oe.prototype.hashCode=function(){var e=Ke.doubleToLongBits(this.p0.x);e^=31*Ke.doubleToLongBits(this.p0.y);var n=Math.trunc(e)^Math.trunc(e>>32),s=Ke.doubleToLongBits(this.p1.x);return s^=31*Ke.doubleToLongBits(this.p1.y),n^(Math.trunc(s)^Math.trunc(s>>32))},Oe.prototype.interfaces_=function(){return[Bo,jo]},Oe.prototype.getClass=function(){return Oe},Oe.midPoint=function(e,n){return new Mt((e.x+n.x)/2,(e.y+n.y)/2)},Wk.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(Oe,Wk);var zf=function(){this.tempEnv1=new Re,this.tempEnv2=new Re,this._overlapSeg1=new Oe,this._overlapSeg2=new Oe};zf.prototype.overlap=function(){if(arguments.length!==2){if(arguments.length===4){var e=arguments[0],n=arguments[1],s=arguments[2],a=arguments[3];e.getLineSegment(n,this._overlapSeg1),s.getLineSegment(a,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}},zf.prototype.interfaces_=function(){return[]},zf.prototype.getClass=function(){return zf};var co=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var e=arguments[0],n=arguments[1],s=arguments[2],a=arguments[3];this._pts=e,this._start=n,this._end=s,this._context=a};co.prototype.getLineSegment=function(e,n){n.p0=this._pts[e],n.p1=this._pts[e+1]},co.prototype.computeSelect=function(e,n,s,a){var c=this._pts[n],h=this._pts[s];if(a.tempEnv1.init(c,h),s-n==1)return a.select(this,n),null;if(!e.intersects(a.tempEnv1))return null;var g=Math.trunc((n+s)/2);n<g&&this.computeSelect(e,n,g,a),g<s&&this.computeSelect(e,g,s,a)},co.prototype.getCoordinates=function(){for(var e=new Array(this._end-this._start+1).fill(null),n=0,s=this._start;s<=this._end;s++)e[n++]=this._pts[s];return e},co.prototype.computeOverlaps=function(e,n){this.computeOverlapsInternal(this._start,this._end,e,e._start,e._end,n)},co.prototype.setId=function(e){this._id=e},co.prototype.select=function(e,n){this.computeSelect(e,this._start,this._end,n)},co.prototype.getEnvelope=function(){if(this._env===null){var e=this._pts[this._start],n=this._pts[this._end];this._env=new Re(e,n)}return this._env},co.prototype.getEndIndex=function(){return this._end},co.prototype.getStartIndex=function(){return this._start},co.prototype.getContext=function(){return this._context},co.prototype.getId=function(){return this._id},co.prototype.computeOverlapsInternal=function(e,n,s,a,c,h){var g=this._pts[e],y=this._pts[n],w=s._pts[a],_=s._pts[c];if(n-e==1&&c-a==1)return h.overlap(this,e,s,a),null;if(h.tempEnv1.init(g,y),h.tempEnv2.init(w,_),!h.tempEnv1.intersects(h.tempEnv2))return null;var T=Math.trunc((e+n)/2),E=Math.trunc((a+c)/2);e<T&&(a<E&&this.computeOverlapsInternal(e,T,s,a,E,h),E<c&&this.computeOverlapsInternal(e,T,s,E,c,h)),T<n&&(a<E&&this.computeOverlapsInternal(T,n,s,a,E,h),E<c&&this.computeOverlapsInternal(T,n,s,E,c,h))},co.prototype.interfaces_=function(){return[]},co.prototype.getClass=function(){return co};var Us=function(){};Us.prototype.interfaces_=function(){return[]},Us.prototype.getClass=function(){return Us},Us.getChainStartIndices=function(e){var n=0,s=new he;s.add(new As(n));do{var a=Us.findChainEnd(e,n);s.add(new As(a)),n=a}while(n<e.length-1);return Us.toIntArray(s)},Us.findChainEnd=function(e,n){for(var s=n;s<e.length-1&&e[s].equals2D(e[s+1]);)s++;if(s>=e.length-1)return e.length-1;for(var a=ni.quadrant(e[s],e[s+1]),c=n+1;c<e.length&&!(!e[c-1].equals2D(e[c])&&ni.quadrant(e[c-1],e[c])!==a);)c++;return c-1},Us.getChains=function(){if(arguments.length===1){var e=arguments[0];return Us.getChains(e,null)}if(arguments.length===2){for(var n=arguments[0],s=arguments[1],a=new he,c=Us.getChainStartIndices(n),h=0;h<c.length-1;h++){var g=new co(n,c[h],c[h+1],s);a.add(g)}return a}},Us.toIntArray=function(e){for(var n=new Array(e.size()).fill(null),s=0;s<n.length;s++)n[s]=e.get(s).intValue();return n};var Uc=function(){};Uc.prototype.computeNodes=function(e){},Uc.prototype.getNodedSubstrings=function(){},Uc.prototype.interfaces_=function(){return[]},Uc.prototype.getClass=function(){return Uc};var Nf=function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var e=arguments[0];this.setSegmentIntersector(e)}}};Nf.prototype.setSegmentIntersector=function(e){this._segInt=e},Nf.prototype.interfaces_=function(){return[Uc]},Nf.prototype.getClass=function(){return Nf};var Xb=function(e){function n(a){a?e.call(this,a):e.call(this),this._monoChains=new he,this._index=new qk,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var s={SegmentOverlapAction:{configurable:!0}};return n.prototype.getMonotoneChains=function(){return this._monoChains},n.prototype.getNodedSubstrings=function(){return Ai.getNodedSubstrings(this._nodedSegStrings)},n.prototype.getIndex=function(){return this._index},n.prototype.add=function(a){for(var c=this,h=Us.getChains(a.getCoordinates(),a).iterator();h.hasNext();){var g=h.next();g.setId(c._idCounter++),c._index.insert(g.getEnvelope(),g),c._monoChains.add(g)}},n.prototype.computeNodes=function(a){this._nodedSegStrings=a;for(var c=a.iterator();c.hasNext();)this.add(c.next());this.intersectChains()},n.prototype.intersectChains=function(){for(var a=this,c=new Zk(this._segInt),h=this._monoChains.iterator();h.hasNext();)for(var g=h.next(),y=a._index.query(g.getEnvelope()).iterator();y.hasNext();){var w=y.next();if(w.getId()>g.getId()&&(g.computeOverlaps(w,c),a._nOverlaps++),a._segInt.isDone())return null}},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},s.SegmentOverlapAction.get=function(){return Zk},Object.defineProperties(n,s),n}(Nf),Zk=function(e){function n(){e.call(this),this._si=null;var s=arguments[0];this._si=s}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.overlap=function(){if(arguments.length!==4)return e.prototype.overlap.apply(this,arguments);var s=arguments[0],a=arguments[1],c=arguments[2],h=arguments[3],g=s.getContext(),y=c.getContext();this._si.processIntersections(g,a,y,h)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(zf),Jr=function e(){if(this._quadrantSegments=e.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=e.CAP_ROUND,this._joinStyle=e.JOIN_ROUND,this._mitreLimit=e.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=e.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var n=arguments[0];this.setQuadrantSegments(n)}else if(arguments.length===2){var s=arguments[0],a=arguments[1];this.setQuadrantSegments(s),this.setEndCapStyle(a)}else if(arguments.length===4){var c=arguments[0],h=arguments[1],g=arguments[2],y=arguments[3];this.setQuadrantSegments(c),this.setEndCapStyle(h),this.setJoinStyle(g),this.setMitreLimit(y)}}},$a={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};Jr.prototype.getEndCapStyle=function(){return this._endCapStyle},Jr.prototype.isSingleSided=function(){return this._isSingleSided},Jr.prototype.setQuadrantSegments=function(e){this._quadrantSegments=e,this._quadrantSegments===0&&(this._joinStyle=Jr.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=Jr.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),e<=0&&(this._quadrantSegments=1),this._joinStyle!==Jr.JOIN_ROUND&&(this._quadrantSegments=Jr.DEFAULT_QUADRANT_SEGMENTS)},Jr.prototype.getJoinStyle=function(){return this._joinStyle},Jr.prototype.setJoinStyle=function(e){this._joinStyle=e},Jr.prototype.setSimplifyFactor=function(e){this._simplifyFactor=e<0?0:e},Jr.prototype.getSimplifyFactor=function(){return this._simplifyFactor},Jr.prototype.getQuadrantSegments=function(){return this._quadrantSegments},Jr.prototype.setEndCapStyle=function(e){this._endCapStyle=e},Jr.prototype.getMitreLimit=function(){return this._mitreLimit},Jr.prototype.setMitreLimit=function(e){this._mitreLimit=e},Jr.prototype.setSingleSided=function(e){this._isSingleSided=e},Jr.prototype.interfaces_=function(){return[]},Jr.prototype.getClass=function(){return Jr},Jr.bufferDistanceError=function(e){var n=Math.PI/2/e;return 1-Math.cos(n/2)},$a.CAP_ROUND.get=function(){return 1},$a.CAP_FLAT.get=function(){return 2},$a.CAP_SQUARE.get=function(){return 3},$a.JOIN_ROUND.get=function(){return 1},$a.JOIN_MITRE.get=function(){return 2},$a.JOIN_BEVEL.get=function(){return 3},$a.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},$a.DEFAULT_MITRE_LIMIT.get=function(){return 5},$a.DEFAULT_SIMPLIFY_FACTOR.get=function(){return .01},Object.defineProperties(Jr,$a);var Pi=function(e){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=ve.COUNTERCLOCKWISE,this._inputLine=e||null},Df={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Pi.prototype.isDeletable=function(e,n,s,a){var c=this._inputLine[e],h=this._inputLine[n],g=this._inputLine[s];return!!this.isConcave(c,h,g)&&!!this.isShallow(c,h,g,a)&&this.isShallowSampled(c,h,e,s,a)},Pi.prototype.deleteShallowConcavities=function(){for(var e=this,n=1,s=this.findNextNonDeletedIndex(n),a=this.findNextNonDeletedIndex(s),c=!1;a<this._inputLine.length;){var h=!1;e.isDeletable(n,s,a,e._distanceTol)&&(e._isDeleted[s]=Pi.DELETE,h=!0,c=!0),n=h?a:s,s=e.findNextNonDeletedIndex(n),a=e.findNextNonDeletedIndex(s)}return c},Pi.prototype.isShallowConcavity=function(e,n,s,a){return ve.computeOrientation(e,n,s)===this._angleOrientation&&ve.distancePointLine(n,e,s)<a},Pi.prototype.isShallowSampled=function(e,n,s,a,c){var h=Math.trunc((a-s)/Pi.NUM_PTS_TO_CHECK);h<=0&&(h=1);for(var g=s;g<a;g+=h)if(!this.isShallow(e,n,this._inputLine[g],c))return!1;return!0},Pi.prototype.isConcave=function(e,n,s){var a=ve.computeOrientation(e,n,s)===this._angleOrientation;return a},Pi.prototype.simplify=function(e){this._distanceTol=Math.abs(e),e<0&&(this._angleOrientation=ve.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var n=!1;do n=this.deleteShallowConcavities();while(n);return this.collapseLine()},Pi.prototype.findNextNonDeletedIndex=function(e){for(var n=e+1;n<this._inputLine.length&&this._isDeleted[n]===Pi.DELETE;)n++;return n},Pi.prototype.isShallow=function(e,n,s,a){return ve.distancePointLine(n,e,s)<a},Pi.prototype.collapseLine=function(){for(var e=new Tf,n=0;n<this._inputLine.length;n++)this._isDeleted[n]!==Pi.DELETE&&e.add(this._inputLine[n]);return e.toCoordinateArray()},Pi.prototype.interfaces_=function(){return[]},Pi.prototype.getClass=function(){return Pi},Pi.simplify=function(e,n){return new Pi(e).simplify(n)},Df.INIT.get=function(){return 0},Df.DELETE.get=function(){return 1},Df.KEEP.get=function(){return 1},Df.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Pi,Df);var So=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new he},Yk={COORDINATE_ARRAY_TYPE:{configurable:!0}};So.prototype.getCoordinates=function(){return this._ptList.toArray(So.COORDINATE_ARRAY_TYPE)},So.prototype.setPrecisionModel=function(e){this._precisionModel=e},So.prototype.addPt=function(e){var n=new Mt(e);if(this._precisionModel.makePrecise(n),this.isRedundant(n))return null;this._ptList.add(n)},So.prototype.revere=function(){},So.prototype.addPts=function(e,n){if(n)for(var s=0;s<e.length;s++)this.addPt(e[s]);else for(var a=e.length-1;a>=0;a--)this.addPt(e[a])},So.prototype.isRedundant=function(e){if(this._ptList.size()<1)return!1;var n=this._ptList.get(this._ptList.size()-1);return e.distance(n)<this._minimimVertexDistance},So.prototype.toString=function(){return new cr().createLineString(this.getCoordinates()).toString()},So.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var e=new Mt(this._ptList.get(0)),n=this._ptList.get(this._ptList.size()-1);if(e.equals(n))return null;this._ptList.add(e)},So.prototype.setMinimumVertexDistance=function(e){this._minimimVertexDistance=e},So.prototype.interfaces_=function(){return[]},So.prototype.getClass=function(){return So},Yk.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(So,Yk);var vr=function(){},eh={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};vr.prototype.interfaces_=function(){return[]},vr.prototype.getClass=function(){return vr},vr.toDegrees=function(e){return 180*e/Math.PI},vr.normalize=function(e){for(;e>Math.PI;)e-=vr.PI_TIMES_2;for(;e<=-Math.PI;)e+=vr.PI_TIMES_2;return e},vr.angle=function(){if(arguments.length===1){var e=arguments[0];return Math.atan2(e.y,e.x)}if(arguments.length===2){var n=arguments[0],s=arguments[1],a=s.x-n.x,c=s.y-n.y;return Math.atan2(c,a)}},vr.isAcute=function(e,n,s){var a=e.x-n.x,c=e.y-n.y;return a*(s.x-n.x)+c*(s.y-n.y)>0},vr.isObtuse=function(e,n,s){var a=e.x-n.x,c=e.y-n.y;return a*(s.x-n.x)+c*(s.y-n.y)<0},vr.interiorAngle=function(e,n,s){var a=vr.angle(n,e),c=vr.angle(n,s);return Math.abs(c-a)},vr.normalizePositive=function(e){if(e<0){for(;e<0;)e+=vr.PI_TIMES_2;e>=vr.PI_TIMES_2&&(e=0)}else{for(;e>=vr.PI_TIMES_2;)e-=vr.PI_TIMES_2;e<0&&(e=0)}return e},vr.angleBetween=function(e,n,s){var a=vr.angle(n,e),c=vr.angle(n,s);return vr.diff(a,c)},vr.diff=function(e,n){var s=null;return(s=e<n?n-e:e-n)>Math.PI&&(s=2*Math.PI-s),s},vr.toRadians=function(e){return e*Math.PI/180},vr.getTurn=function(e,n){var s=Math.sin(n-e);return s>0?vr.COUNTERCLOCKWISE:s<0?vr.CLOCKWISE:vr.NONE},vr.angleBetweenOriented=function(e,n,s){var a=vr.angle(n,e),c=vr.angle(n,s)-a;return c<=-Math.PI?c+vr.PI_TIMES_2:c>Math.PI?c-vr.PI_TIMES_2:c},eh.PI_TIMES_2.get=function(){return 2*Math.PI},eh.PI_OVER_2.get=function(){return Math.PI/2},eh.PI_OVER_4.get=function(){return Math.PI/4},eh.COUNTERCLOCKWISE.get=function(){return ve.COUNTERCLOCKWISE},eh.CLOCKWISE.get=function(){return ve.CLOCKWISE},eh.NONE.get=function(){return ve.COLLINEAR},Object.defineProperties(vr,eh);var yi=function e(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Oe,this._seg1=new Oe,this._offset0=new Oe,this._offset1=new Oe,this._side=0,this._hasNarrowConcaveAngle=!1;var n=arguments[0],s=arguments[1],a=arguments[2];this._precisionModel=n,this._bufParams=s,this._li=new Bc,this._filletAngleQuantum=Math.PI/2/s.getQuadrantSegments(),s.getQuadrantSegments()>=8&&s.getJoinStyle()===Jr.JOIN_ROUND&&(this._closingSegLengthFactor=e.MAX_CLOSING_SEG_LEN_FACTOR),this.init(a)},Ff={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};yi.prototype.addNextSegment=function(e,n){if(this._s0=this._s1,this._s1=this._s2,this._s2=e,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var s=ve.computeOrientation(this._s0,this._s1,this._s2),a=s===ve.CLOCKWISE&&this._side===oe.LEFT||s===ve.COUNTERCLOCKWISE&&this._side===oe.RIGHT;s===0?this.addCollinear(n):a?this.addOutsideTurn(s,n):this.addInsideTurn(s,n)},yi.prototype.addLineEndCap=function(e,n){var s=new Oe(e,n),a=new Oe;this.computeOffsetSegment(s,oe.LEFT,this._distance,a);var c=new Oe;this.computeOffsetSegment(s,oe.RIGHT,this._distance,c);var h=n.x-e.x,g=n.y-e.y,y=Math.atan2(g,h);switch(this._bufParams.getEndCapStyle()){case Jr.CAP_ROUND:this._segList.addPt(a.p1),this.addFilletArc(n,y+Math.PI/2,y-Math.PI/2,ve.CLOCKWISE,this._distance),this._segList.addPt(c.p1);break;case Jr.CAP_FLAT:this._segList.addPt(a.p1),this._segList.addPt(c.p1);break;case Jr.CAP_SQUARE:var w=new Mt;w.x=Math.abs(this._distance)*Math.cos(y),w.y=Math.abs(this._distance)*Math.sin(y);var _=new Mt(a.p1.x+w.x,a.p1.y+w.y),T=new Mt(c.p1.x+w.x,c.p1.y+w.y);this._segList.addPt(_),this._segList.addPt(T)}},yi.prototype.getCoordinates=function(){return this._segList.getCoordinates()},yi.prototype.addMitreJoin=function(e,n,s,a){var c=!0,h=null;try{h=ls.intersection(n.p0,n.p1,s.p0,s.p1),(a<=0?1:h.distance(e)/Math.abs(a))>this._bufParams.getMitreLimit()&&(c=!1)}catch(g){if(!(g instanceof vd))throw g;h=new Mt(0,0),c=!1}c?this._segList.addPt(h):this.addLimitedMitreJoin(n,s,a,this._bufParams.getMitreLimit())},yi.prototype.addFilletCorner=function(e,n,s,a,c){var h=n.x-e.x,g=n.y-e.y,y=Math.atan2(g,h),w=s.x-e.x,_=s.y-e.y,T=Math.atan2(_,w);a===ve.CLOCKWISE?y<=T&&(y+=2*Math.PI):y>=T&&(y-=2*Math.PI),this._segList.addPt(n),this.addFilletArc(e,y,T,a,c),this._segList.addPt(s)},yi.prototype.addOutsideTurn=function(e,n){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*yi.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===Jr.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Jr.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(n&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,e,this._distance),this._segList.addPt(this._offset1.p0))},yi.prototype.createSquare=function(e){this._segList.addPt(new Mt(e.x+this._distance,e.y+this._distance)),this._segList.addPt(new Mt(e.x+this._distance,e.y-this._distance)),this._segList.addPt(new Mt(e.x-this._distance,e.y-this._distance)),this._segList.addPt(new Mt(e.x-this._distance,e.y+this._distance)),this._segList.closeRing()},yi.prototype.addSegments=function(e,n){this._segList.addPts(e,n)},yi.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},yi.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},yi.prototype.initSideSegments=function(e,n,s){this._s1=e,this._s2=n,this._side=s,this._seg1.setCoordinates(e,n),this.computeOffsetSegment(this._seg1,s,this._distance,this._offset1)},yi.prototype.addLimitedMitreJoin=function(e,n,s,a){var c=this._seg0.p1,h=vr.angle(c,this._seg0.p0),g=vr.angleBetweenOriented(this._seg0.p0,c,this._seg1.p1)/2,y=vr.normalize(h+g),w=vr.normalize(y+Math.PI),_=a*s,T=s-_*Math.abs(Math.sin(g)),E=c.x+_*Math.cos(w),P=c.y+_*Math.sin(w),z=new Mt(E,P),N=new Oe(c,z),B=N.pointAlongOffset(1,T),R=N.pointAlongOffset(1,-T);this._side===oe.LEFT?(this._segList.addPt(B),this._segList.addPt(R)):(this._segList.addPt(R),this._segList.addPt(B))},yi.prototype.computeOffsetSegment=function(e,n,s,a){var c=n===oe.LEFT?1:-1,h=e.p1.x-e.p0.x,g=e.p1.y-e.p0.y,y=Math.sqrt(h*h+g*g),w=c*s*h/y,_=c*s*g/y;a.p0.x=e.p0.x-_,a.p0.y=e.p0.y+w,a.p1.x=e.p1.x-_,a.p1.y=e.p1.y+w},yi.prototype.addFilletArc=function(e,n,s,a,c){var h=a===ve.CLOCKWISE?-1:1,g=Math.abs(n-s),y=Math.trunc(g/this._filletAngleQuantum+.5);if(y<1)return null;for(var w=g/y,_=0,T=new Mt;_<g;){var E=n+h*_;T.x=e.x+c*Math.cos(E),T.y=e.y+c*Math.sin(E),this._segList.addPt(T),_+=w}},yi.prototype.addInsideTurn=function(e,n){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*yi.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var s=new Mt((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(s);var a=new Mt((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(a)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},yi.prototype.createCircle=function(e){var n=new Mt(e.x+this._distance,e.y);this._segList.addPt(n),this.addFilletArc(e,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},yi.prototype.addBevelJoin=function(e,n){this._segList.addPt(e.p1),this._segList.addPt(n.p0)},yi.prototype.init=function(e){this._distance=e,this._maxCurveSegmentError=e*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new So,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(e*yi.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},yi.prototype.addCollinear=function(e){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===Jr.JOIN_BEVEL||this._bufParams.getJoinStyle()===Jr.JOIN_MITRE?(e&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,ve.CLOCKWISE,this._distance))},yi.prototype.closeRing=function(){this._segList.closeRing()},yi.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},yi.prototype.interfaces_=function(){return[]},yi.prototype.getClass=function(){return yi},Ff.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return .001},Ff.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return .001},Ff.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},Ff.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(yi,Ff);var Qn=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var e=arguments[0],n=arguments[1];this._precisionModel=e,this._bufParams=n};Qn.prototype.getOffsetCurve=function(e,n){if(this._distance=n,n===0)return null;var s=n<0,a=Math.abs(n),c=this.getSegGen(a);e.length<=1?this.computePointCurve(e[0],c):this.computeOffsetCurve(e,s,c);var h=c.getCoordinates();return s&&lr.reverse(h),h},Qn.prototype.computeSingleSidedBufferCurve=function(e,n,s){var a=this.simplifyTolerance(this._distance);if(n){s.addSegments(e,!0);var c=Pi.simplify(e,-a),h=c.length-1;s.initSideSegments(c[h],c[h-1],oe.LEFT),s.addFirstSegment();for(var g=h-2;g>=0;g--)s.addNextSegment(c[g],!0)}else{s.addSegments(e,!1);var y=Pi.simplify(e,a),w=y.length-1;s.initSideSegments(y[0],y[1],oe.LEFT),s.addFirstSegment();for(var _=2;_<=w;_++)s.addNextSegment(y[_],!0)}s.addLastSegment(),s.closeRing()},Qn.prototype.computeRingBufferCurve=function(e,n,s){var a=this.simplifyTolerance(this._distance);n===oe.RIGHT&&(a=-a);var c=Pi.simplify(e,a),h=c.length-1;s.initSideSegments(c[h-1],c[0],n);for(var g=1;g<=h;g++){var y=g!==1;s.addNextSegment(c[g],y)}s.closeRing()},Qn.prototype.computeLineBufferCurve=function(e,n){var s=this.simplifyTolerance(this._distance),a=Pi.simplify(e,s),c=a.length-1;n.initSideSegments(a[0],a[1],oe.LEFT);for(var h=2;h<=c;h++)n.addNextSegment(a[h],!0);n.addLastSegment(),n.addLineEndCap(a[c-1],a[c]);var g=Pi.simplify(e,-s),y=g.length-1;n.initSideSegments(g[y],g[y-1],oe.LEFT);for(var w=y-2;w>=0;w--)n.addNextSegment(g[w],!0);n.addLastSegment(),n.addLineEndCap(g[1],g[0]),n.closeRing()},Qn.prototype.computePointCurve=function(e,n){switch(this._bufParams.getEndCapStyle()){case Jr.CAP_ROUND:n.createCircle(e);break;case Jr.CAP_SQUARE:n.createSquare(e)}},Qn.prototype.getLineCurve=function(e,n){if(this._distance=n,n<0&&!this._bufParams.isSingleSided()||n===0)return null;var s=Math.abs(n),a=this.getSegGen(s);if(e.length<=1)this.computePointCurve(e[0],a);else if(this._bufParams.isSingleSided()){var c=n<0;this.computeSingleSidedBufferCurve(e,c,a)}else this.computeLineBufferCurve(e,a);return a.getCoordinates()},Qn.prototype.getBufferParameters=function(){return this._bufParams},Qn.prototype.simplifyTolerance=function(e){return e*this._bufParams.getSimplifyFactor()},Qn.prototype.getRingCurve=function(e,n,s){if(this._distance=s,e.length<=2)return this.getLineCurve(e,s);if(s===0)return Qn.copyCoordinates(e);var a=this.getSegGen(s);return this.computeRingBufferCurve(e,n,a),a.getCoordinates()},Qn.prototype.computeOffsetCurve=function(e,n,s){var a=this.simplifyTolerance(this._distance);if(n){var c=Pi.simplify(e,-a),h=c.length-1;s.initSideSegments(c[h],c[h-1],oe.LEFT),s.addFirstSegment();for(var g=h-2;g>=0;g--)s.addNextSegment(c[g],!0)}else{var y=Pi.simplify(e,a),w=y.length-1;s.initSideSegments(y[0],y[1],oe.LEFT),s.addFirstSegment();for(var _=2;_<=w;_++)s.addNextSegment(y[_],!0)}s.addLastSegment()},Qn.prototype.getSegGen=function(e){return new yi(this._precisionModel,this._bufParams,e)},Qn.prototype.interfaces_=function(){return[]},Qn.prototype.getClass=function(){return Qn},Qn.copyCoordinates=function(e){for(var n=new Array(e.length).fill(null),s=0;s<n.length;s++)n[s]=new Mt(e[s]);return n};var rh=function(){this._subgraphs=null,this._seg=new Oe,this._cga=new ve;var e=arguments[0];this._subgraphs=e},Xk={DepthSegment:{configurable:!0}};rh.prototype.findStabbedSegments=function(){var e=this;if(arguments.length===1){for(var n=arguments[0],s=new he,a=this._subgraphs.iterator();a.hasNext();){var c=a.next(),h=c.getEnvelope();n.y<h.getMinY()||n.y>h.getMaxY()||e.findStabbedSegments(n,c.getDirectedEdges(),s)}return s}if(arguments.length===3){if(Ge(arguments[2],us)&&arguments[0]instanceof Mt&&arguments[1]instanceof Yb)for(var g=arguments[0],y=arguments[1],w=arguments[2],_=y.getEdge().getCoordinates(),T=0;T<_.length-1;T++){e._seg.p0=_[T],e._seg.p1=_[T+1],e._seg.p0.y>e._seg.p1.y&&e._seg.reverse();var E=Math.max(e._seg.p0.x,e._seg.p1.x);if(!(E<g.x)&&!(e._seg.isHorizontal()||g.y<e._seg.p0.y||g.y>e._seg.p1.y||ve.computeOrientation(e._seg.p0,e._seg.p1,g)===ve.RIGHT)){var P=y.getDepth(oe.LEFT);e._seg.p0.equals(_[T])||(P=y.getDepth(oe.RIGHT));var z=new Gc(e._seg,P);w.add(z)}}else if(Ge(arguments[2],us)&&arguments[0]instanceof Mt&&Ge(arguments[1],us))for(var N=arguments[0],B=arguments[1],R=arguments[2],Y=B.iterator();Y.hasNext();){var nt=Y.next();nt.isForward()&&e.findStabbedSegments(N,nt,R)}}},rh.prototype.getDepth=function(e){var n=this.findStabbedSegments(e);return n.size()===0?0:fs.min(n)._leftDepth},rh.prototype.interfaces_=function(){return[]},rh.prototype.getClass=function(){return rh},Xk.DepthSegment.get=function(){return Gc},Object.defineProperties(rh,Xk);var Gc=function(){this._upwardSeg=null,this._leftDepth=null;var e=arguments[0],n=arguments[1];this._upwardSeg=new Oe(e),this._leftDepth=n};Gc.prototype.compareTo=function(e){var n=e;if(this._upwardSeg.minX()>=n._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=n._upwardSeg.minX())return-1;var s=this._upwardSeg.orientationIndex(n._upwardSeg);return s!==0||(s=-1*n._upwardSeg.orientationIndex(this._upwardSeg))!==0?s:this._upwardSeg.compareTo(n._upwardSeg)},Gc.prototype.compareX=function(e,n){var s=e.p0.compareTo(n.p0);return s!==0?s:e.p1.compareTo(n.p1)},Gc.prototype.toString=function(){return this._upwardSeg.toString()},Gc.prototype.interfaces_=function(){return[Bo]},Gc.prototype.getClass=function(){return Gc};var Qr=function(e,n,s){this.p0=e||null,this.p1=n||null,this.p2=s||null};Qr.prototype.area=function(){return Qr.area(this.p0,this.p1,this.p2)},Qr.prototype.signedArea=function(){return Qr.signedArea(this.p0,this.p1,this.p2)},Qr.prototype.interpolateZ=function(e){if(e===null)throw new xi("Supplied point is null.");return Qr.interpolateZ(e,this.p0,this.p1,this.p2)},Qr.prototype.longestSideLength=function(){return Qr.longestSideLength(this.p0,this.p1,this.p2)},Qr.prototype.isAcute=function(){return Qr.isAcute(this.p0,this.p1,this.p2)},Qr.prototype.circumcentre=function(){return Qr.circumcentre(this.p0,this.p1,this.p2)},Qr.prototype.area3D=function(){return Qr.area3D(this.p0,this.p1,this.p2)},Qr.prototype.centroid=function(){return Qr.centroid(this.p0,this.p1,this.p2)},Qr.prototype.inCentre=function(){return Qr.inCentre(this.p0,this.p1,this.p2)},Qr.prototype.interfaces_=function(){return[]},Qr.prototype.getClass=function(){return Qr},Qr.area=function(e,n,s){return Math.abs(((s.x-e.x)*(n.y-e.y)-(n.x-e.x)*(s.y-e.y))/2)},Qr.signedArea=function(e,n,s){return((s.x-e.x)*(n.y-e.y)-(n.x-e.x)*(s.y-e.y))/2},Qr.det=function(e,n,s,a){return e*a-n*s},Qr.interpolateZ=function(e,n,s,a){var c=n.x,h=n.y,g=s.x-c,y=a.x-c,w=s.y-h,_=a.y-h,T=g*_-y*w,E=e.x-c,P=e.y-h,z=(_*E-y*P)/T,N=(-w*E+g*P)/T;return n.z+z*(s.z-n.z)+N*(a.z-n.z)},Qr.longestSideLength=function(e,n,s){var a=e.distance(n),c=n.distance(s),h=s.distance(e),g=a;return c>g&&(g=c),h>g&&(g=h),g},Qr.isAcute=function(e,n,s){return!!vr.isAcute(e,n,s)&&!!vr.isAcute(n,s,e)&&!!vr.isAcute(s,e,n)},Qr.circumcentre=function(e,n,s){var a=s.x,c=s.y,h=e.x-a,g=e.y-c,y=n.x-a,w=n.y-c,_=2*Qr.det(h,g,y,w),T=Qr.det(g,h*h+g*g,w,y*y+w*w),E=Qr.det(h,h*h+g*g,y,y*y+w*w);return new Mt(a-T/_,c+E/_)},Qr.perpendicularBisector=function(e,n){var s=n.x-e.x,a=n.y-e.y,c=new ls(e.x+s/2,e.y+a/2,1),h=new ls(e.x-a+s/2,e.y+s+a/2,1);return new ls(c,h)},Qr.angleBisector=function(e,n,s){var a=n.distance(e),c=a/(a+n.distance(s)),h=s.x-e.x,g=s.y-e.y;return new Mt(e.x+c*h,e.y+c*g)},Qr.area3D=function(e,n,s){var a=n.x-e.x,c=n.y-e.y,h=n.z-e.z,g=s.x-e.x,y=s.y-e.y,w=s.z-e.z,_=c*w-h*y,T=h*g-a*w,E=a*y-c*g,P=_*_+T*T+E*E,z=Math.sqrt(P)/2;return z},Qr.centroid=function(e,n,s){var a=(e.x+n.x+s.x)/3,c=(e.y+n.y+s.y)/3;return new Mt(a,c)},Qr.inCentre=function(e,n,s){var a=n.distance(s),c=e.distance(s),h=e.distance(n),g=a+c+h,y=(a*e.x+c*n.x+h*s.x)/g,w=(a*e.y+c*n.y+h*s.y)/g;return new Mt(y,w)};var Vo=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new he;var e=arguments[0],n=arguments[1],s=arguments[2];this._inputGeom=e,this._distance=n,this._curveBuilder=s};Vo.prototype.addPoint=function(e){if(this._distance<=0)return null;var n=e.getCoordinates(),s=this._curveBuilder.getLineCurve(n,this._distance);this.addCurve(s,jt.EXTERIOR,jt.INTERIOR)},Vo.prototype.addPolygon=function(e){var n=this,s=this._distance,a=oe.LEFT;this._distance<0&&(s=-this._distance,a=oe.RIGHT);var c=e.getExteriorRing(),h=lr.removeRepeatedPoints(c.getCoordinates());if(this._distance<0&&this.isErodedCompletely(c,this._distance)||this._distance<=0&&h.length<3)return null;this.addPolygonRing(h,s,a,jt.EXTERIOR,jt.INTERIOR);for(var g=0;g<e.getNumInteriorRing();g++){var y=e.getInteriorRingN(g),w=lr.removeRepeatedPoints(y.getCoordinates());n._distance>0&&n.isErodedCompletely(y,-n._distance)||n.addPolygonRing(w,s,oe.opposite(a),jt.INTERIOR,jt.EXTERIOR)}},Vo.prototype.isTriangleErodedCompletely=function(e,n){var s=new Qr(e[0],e[1],e[2]),a=s.inCentre();return ve.distancePointLine(a,s.p0,s.p1)<Math.abs(n)},Vo.prototype.addLineString=function(e){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var n=lr.removeRepeatedPoints(e.getCoordinates()),s=this._curveBuilder.getLineCurve(n,this._distance);this.addCurve(s,jt.EXTERIOR,jt.INTERIOR)},Vo.prototype.addCurve=function(e,n,s){if(e===null||e.length<2)return null;var a=new Ai(e,new ri(0,jt.BOUNDARY,n,s));this._curveList.add(a)},Vo.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},Vo.prototype.addPolygonRing=function(e,n,s,a,c){if(n===0&&e.length<ga.MINIMUM_VALID_SIZE)return null;var h=a,g=c;e.length>=ga.MINIMUM_VALID_SIZE&&ve.isCCW(e)&&(h=c,g=a,s=oe.opposite(s));var y=this._curveBuilder.getRingCurve(e,s,n);this.addCurve(y,h,g)},Vo.prototype.add=function(e){if(e.isEmpty())return null;e instanceof Gi?this.addPolygon(e):e instanceof Ci?this.addLineString(e):e instanceof ao?this.addPoint(e):(e instanceof Sd||e instanceof Hc||e instanceof ma||e instanceof Nn)&&this.addCollection(e)},Vo.prototype.isErodedCompletely=function(e,n){var s=e.getCoordinates();if(s.length<4)return n<0;if(s.length===4)return this.isTriangleErodedCompletely(s,n);var a=e.getEnvelopeInternal(),c=Math.min(a.getHeight(),a.getWidth());return n<0&&2*Math.abs(n)>c},Vo.prototype.addCollection=function(e){for(var n=0;n<e.getNumGeometries();n++){var s=e.getGeometryN(n);this.add(s)}},Vo.prototype.interfaces_=function(){return[]},Vo.prototype.getClass=function(){return Vo};var Id=function(){};Id.prototype.locate=function(e){},Id.prototype.interfaces_=function(){return[]},Id.prototype.getClass=function(){return Id};var ba=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var e=arguments[0];this._parent=e,this._atStart=!0,this._index=0,this._max=e.getNumGeometries()};ba.prototype.next=function(){if(this._atStart)return this._atStart=!1,ba.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new Ed;var e=this._parent.getGeometryN(this._index++);return e instanceof Nn?(this._subcollectionIterator=new ba(e),this._subcollectionIterator.next()):e},ba.prototype.remove=function(){throw new Error(this.getClass().getName())},ba.prototype.hasNext=function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},ba.prototype.interfaces_=function(){return[kd]},ba.prototype.getClass=function(){return ba},ba.isAtomic=function(e){return!(e instanceof Nn)};var Co=function(){this._geom=null;var e=arguments[0];this._geom=e};Co.prototype.locate=function(e){return Co.locate(e,this._geom)},Co.prototype.interfaces_=function(){return[Id]},Co.prototype.getClass=function(){return Co},Co.isPointInRing=function(e,n){return!!n.getEnvelopeInternal().intersects(e)&&ve.isPointInRing(e,n.getCoordinates())},Co.containsPointInPolygon=function(e,n){if(n.isEmpty())return!1;var s=n.getExteriorRing();if(!Co.isPointInRing(e,s))return!1;for(var a=0;a<n.getNumInteriorRing();a++){var c=n.getInteriorRingN(a);if(Co.isPointInRing(e,c))return!1}return!0},Co.containsPoint=function(e,n){if(n instanceof Gi)return Co.containsPointInPolygon(e,n);if(n instanceof Nn)for(var s=new ba(n);s.hasNext();){var a=s.next();if(a!==n&&Co.containsPoint(e,a))return!0}return!1},Co.locate=function(e,n){return n.isEmpty()?jt.EXTERIOR:Co.containsPoint(e,n)?jt.INTERIOR:jt.EXTERIOR};var Cn=function(){this._edgeMap=new Tn,this._edgeList=null,this._ptInAreaLocation=[jt.NONE,jt.NONE]};Cn.prototype.getNextCW=function(e){this.getEdges();var n=this._edgeList.indexOf(e),s=n-1;return n===0&&(s=this._edgeList.size()-1),this._edgeList.get(s)},Cn.prototype.propagateSideLabels=function(e){for(var n=jt.NONE,s=this.iterator();s.hasNext();){var a=s.next().getLabel();a.isArea(e)&&a.getLocation(e,oe.LEFT)!==jt.NONE&&(n=a.getLocation(e,oe.LEFT))}if(n===jt.NONE)return null;for(var c=n,h=this.iterator();h.hasNext();){var g=h.next(),y=g.getLabel();if(y.getLocation(e,oe.ON)===jt.NONE&&y.setLocation(e,oe.ON,c),y.isArea(e)){var w=y.getLocation(e,oe.LEFT),_=y.getLocation(e,oe.RIGHT);if(_!==jt.NONE){if(_!==c)throw new Ja("side location conflict",g.getCoordinate());w===jt.NONE&&$e.shouldNeverReachHere("found single null side (at "+g.getCoordinate()+")"),c=w}else $e.isTrue(y.getLocation(e,oe.LEFT)===jt.NONE,"found single null side"),y.setLocation(e,oe.RIGHT,c),y.setLocation(e,oe.LEFT,c)}}},Cn.prototype.getCoordinate=function(){var e=this.iterator();return e.hasNext()?e.next().getCoordinate():null},Cn.prototype.print=function(e){pn.out.println("EdgeEndStar:   "+this.getCoordinate());for(var n=this.iterator();n.hasNext();)n.next().print(e)},Cn.prototype.isAreaLabelsConsistent=function(e){return this.computeEdgeEndLabels(e.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},Cn.prototype.checkAreaLabelsConsistent=function(e){var n=this.getEdges();if(n.size()<=0)return!0;var s=n.size()-1,a=n.get(s).getLabel().getLocation(e,oe.LEFT);$e.isTrue(a!==jt.NONE,"Found unlabelled area edge");for(var c=a,h=this.iterator();h.hasNext();){var g=h.next().getLabel();$e.isTrue(g.isArea(e),"Found non-area edge");var y=g.getLocation(e,oe.LEFT),w=g.getLocation(e,oe.RIGHT);if(y===w||w!==c)return!1;c=y}return!0},Cn.prototype.findIndex=function(e){this.iterator();for(var n=0;n<this._edgeList.size();n++)if(this._edgeList.get(n)===e)return n;return-1},Cn.prototype.iterator=function(){return this.getEdges().iterator()},Cn.prototype.getEdges=function(){return this._edgeList===null&&(this._edgeList=new he(this._edgeMap.values())),this._edgeList},Cn.prototype.getLocation=function(e,n,s){return this._ptInAreaLocation[e]===jt.NONE&&(this._ptInAreaLocation[e]=Co.locate(n,s[e].getGeometry())),this._ptInAreaLocation[e]},Cn.prototype.toString=function(){var e=new Ls;e.append("EdgeEndStar:   "+this.getCoordinate()),e.append(`
`);for(var n=this.iterator();n.hasNext();){var s=n.next();e.append(s),e.append(`
`)}return e.toString()},Cn.prototype.computeEdgeEndLabels=function(e){for(var n=this.iterator();n.hasNext();)n.next().computeLabel(e)},Cn.prototype.computeLabelling=function(e){this.computeEdgeEndLabels(e[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var n=[!1,!1],s=this.iterator();s.hasNext();)for(var a=s.next().getLabel(),c=0;c<2;c++)a.isLine(c)&&a.getLocation(c)===jt.BOUNDARY&&(n[c]=!0);for(var h=this.iterator();h.hasNext();)for(var g=h.next(),y=g.getLabel(),w=0;w<2;w++)if(y.isAnyNull(w)){var _=jt.NONE;if(n[w])_=jt.EXTERIOR;else{var T=g.getCoordinate();_=this.getLocation(w,T,e)}y.setAllLocationsIfNull(w,_)}},Cn.prototype.getDegree=function(){return this._edgeMap.size()},Cn.prototype.insertEdgeEnd=function(e,n){this._edgeMap.put(e,n),this._edgeList=null},Cn.prototype.interfaces_=function(){return[]},Cn.prototype.getClass=function(){return Cn};var tL=function(e){function n(){e.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.linkResultDirectedEdges=function(){var s=this;this.getResultAreaEdges();for(var a=null,c=null,h=this._SCANNING_FOR_INCOMING,g=0;g<this._resultAreaEdgeList.size();g++){var y=s._resultAreaEdgeList.get(g),w=y.getSym();if(y.getLabel().isArea())switch(a===null&&y.isInResult()&&(a=y),h){case s._SCANNING_FOR_INCOMING:if(!w.isInResult())continue;c=w,h=s._LINKING_TO_OUTGOING;break;case s._LINKING_TO_OUTGOING:if(!y.isInResult())continue;c.setNext(y),h=s._SCANNING_FOR_INCOMING}}if(h===this._LINKING_TO_OUTGOING){if(a===null)throw new Ja("no outgoing dirEdge found",this.getCoordinate());$e.isTrue(a.isInResult(),"unable to link last incoming dirEdge"),c.setNext(a)}},n.prototype.insert=function(s){var a=s;this.insertEdgeEnd(a,a)},n.prototype.getRightmostEdge=function(){var s=this.getEdges(),a=s.size();if(a<1)return null;var c=s.get(0);if(a===1)return c;var h=s.get(a-1),g=c.getQuadrant(),y=h.getQuadrant();return ni.isNorthern(g)&&ni.isNorthern(y)?c:ni.isNorthern(g)||ni.isNorthern(y)?c.getDy()!==0?c:h.getDy()!==0?h:($e.shouldNeverReachHere("found two horizontal edges incident on node"),null):h},n.prototype.print=function(s){pn.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var a=this.iterator();a.hasNext();){var c=a.next();s.print("out "),c.print(s),s.println(),s.print("in "),c.getSym().print(s),s.println()}},n.prototype.getResultAreaEdges=function(){if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new he;for(var s=this.iterator();s.hasNext();){var a=s.next();(a.isInResult()||a.getSym().isInResult())&&this._resultAreaEdgeList.add(a)}return this._resultAreaEdgeList},n.prototype.updateLabelling=function(s){for(var a=this.iterator();a.hasNext();){var c=a.next().getLabel();c.setAllLocationsIfNull(0,s.getLocation(0)),c.setAllLocationsIfNull(1,s.getLocation(1))}},n.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var s=null,a=null,c=this._edgeList.size()-1;c>=0;c--){var h=this._edgeList.get(c),g=h.getSym();a===null&&(a=g),s!==null&&g.setNext(s),s=h}a.setNext(s)},n.prototype.computeDepths=function(){var s=this;if(arguments.length===1){var a=arguments[0],c=this.findIndex(a),h=a.getDepth(oe.LEFT),g=a.getDepth(oe.RIGHT),y=this.computeDepths(c+1,this._edgeList.size(),h),w=this.computeDepths(0,c,y);if(w!==g)throw new Ja("depth mismatch at "+a.getCoordinate())}else if(arguments.length===3){for(var _=arguments[0],T=arguments[1],E=arguments[2],P=E,z=_;z<T;z++){var N=s._edgeList.get(z);N.setEdgeDepths(oe.RIGHT,P),P=N.getDepth(oe.LEFT)}return P}},n.prototype.mergeSymLabels=function(){for(var s=this.iterator();s.hasNext();){var a=s.next();a.getLabel().merge(a.getSym().getLabel())}},n.prototype.linkMinimalDirectedEdges=function(s){for(var a=this,c=null,h=null,g=this._SCANNING_FOR_INCOMING,y=this._resultAreaEdgeList.size()-1;y>=0;y--){var w=a._resultAreaEdgeList.get(y),_=w.getSym();switch(c===null&&w.getEdgeRing()===s&&(c=w),g){case a._SCANNING_FOR_INCOMING:if(_.getEdgeRing()!==s)continue;h=_,g=a._LINKING_TO_OUTGOING;break;case a._LINKING_TO_OUTGOING:if(w.getEdgeRing()!==s)continue;h.setNextMin(w),g=a._SCANNING_FOR_INCOMING}}g===this._LINKING_TO_OUTGOING&&($e.isTrue(c!==null,"found null for first outgoing dirEdge"),$e.isTrue(c.getEdgeRing()===s,"unable to link last incoming dirEdge"),h.setNextMin(c))},n.prototype.getOutgoingDegree=function(){if(arguments.length===0){for(var s=0,a=this.iterator();a.hasNext();){var c=a.next();c.isInResult()&&s++}return s}if(arguments.length===1){for(var h=arguments[0],g=0,y=this.iterator();y.hasNext();){var w=y.next();w.getEdgeRing()===h&&g++}return g}},n.prototype.getLabel=function(){return this._label},n.prototype.findCoveredLineEdges=function(){for(var s=jt.NONE,a=this.iterator();a.hasNext();){var c=a.next(),h=c.getSym();if(!c.isLineEdge()){if(c.isInResult()){s=jt.INTERIOR;break}if(h.isInResult()){s=jt.EXTERIOR;break}}}if(s===jt.NONE)return null;for(var g=s,y=this.iterator();y.hasNext();){var w=y.next(),_=w.getSym();w.isLineEdge()?w.getEdge().setCovered(g===jt.INTERIOR):(w.isInResult()&&(g=jt.EXTERIOR),_.isInResult()&&(g=jt.INTERIOR))}},n.prototype.computeLabelling=function(s){e.prototype.computeLabelling.call(this,s),this._label=new ri(jt.NONE);for(var a=this.iterator();a.hasNext();)for(var c=a.next().getEdge().getLabel(),h=0;h<2;h++){var g=c.getLocation(h);g!==jt.INTERIOR&&g!==jt.BOUNDARY||this._label.setLocation(h,jt.INTERIOR)}},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(Cn),Kk=function(e){function n(){e.apply(this,arguments)}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.createNode=function(s){return new b0(s,new tL)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(Cd),Gl=function e(){this._pts=null,this._orientation=null;var n=arguments[0];this._pts=n,this._orientation=e.orientation(n)};Gl.prototype.compareTo=function(e){var n=e;return Gl.compareOriented(this._pts,this._orientation,n._pts,n._orientation)},Gl.prototype.interfaces_=function(){return[Bo]},Gl.prototype.getClass=function(){return Gl},Gl.orientation=function(e){return lr.increasingDirection(e)===1},Gl.compareOriented=function(e,n,s,a){for(var c=n?1:-1,h=a?1:-1,g=n?e.length:-1,y=a?s.length:-1,w=n?0:e.length-1,_=a?0:s.length-1;;){var T=e[w].compareTo(s[_]);if(T!==0)return T;var E=(w+=c)===g,P=(_+=h)===y;if(E&&!P)return-1;if(!E&&P)return 1;if(E&&P)return 0}};var gs=function(){this._edges=new he,this._ocaMap=new Tn};gs.prototype.print=function(e){e.print("MULTILINESTRING ( ");for(var n=0;n<this._edges.size();n++){var s=this._edges.get(n);n>0&&e.print(","),e.print("(");for(var a=s.getCoordinates(),c=0;c<a.length;c++)c>0&&e.print(","),e.print(a[c].x+" "+a[c].y);e.println(")")}e.print(")  ")},gs.prototype.addAll=function(e){for(var n=e.iterator();n.hasNext();)this.add(n.next())},gs.prototype.findEdgeIndex=function(e){for(var n=0;n<this._edges.size();n++)if(this._edges.get(n).equals(e))return n;return-1},gs.prototype.iterator=function(){return this._edges.iterator()},gs.prototype.getEdges=function(){return this._edges},gs.prototype.get=function(e){return this._edges.get(e)},gs.prototype.findEqualEdge=function(e){var n=new Gl(e.getCoordinates());return this._ocaMap.get(n)},gs.prototype.add=function(e){this._edges.add(e);var n=new Gl(e.getCoordinates());this._ocaMap.put(n,e)},gs.prototype.interfaces_=function(){return[]},gs.prototype.getClass=function(){return gs};var qc=function(){};qc.prototype.processIntersections=function(e,n,s,a){},qc.prototype.isDone=function(){},qc.prototype.interfaces_=function(){return[]},qc.prototype.getClass=function(){return qc};var Po=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var e=arguments[0];this._li=e};Po.prototype.isTrivialIntersection=function(e,n,s,a){if(e===s&&this._li.getIntersectionNum()===1){if(Po.isAdjacentSegments(n,a))return!0;if(e.isClosed()){var c=e.size()-1;if(n===0&&a===c||a===0&&n===c)return!0}}return!1},Po.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Po.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Po.prototype.getLineIntersector=function(){return this._li},Po.prototype.hasProperIntersection=function(){return this._hasProper},Po.prototype.processIntersections=function(e,n,s,a){if(e===s&&n===a)return null;this.numTests++;var c=e.getCoordinates()[n],h=e.getCoordinates()[n+1],g=s.getCoordinates()[a],y=s.getCoordinates()[a+1];this._li.computeIntersection(c,h,g,y),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(e,n,s,a)||(this._hasIntersection=!0,e.addIntersections(this._li,n,0),s.addIntersections(this._li,a,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Po.prototype.hasIntersection=function(){return this._hasIntersection},Po.prototype.isDone=function(){return!1},Po.prototype.hasInteriorIntersection=function(){return this._hasInterior},Po.prototype.interfaces_=function(){return[qc]},Po.prototype.getClass=function(){return Po},Po.isAdjacentSegments=function(e,n){return Math.abs(e-n)===1};var Gs=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var e=arguments[0],n=arguments[1],s=arguments[2];this.coord=new Mt(e),this.segmentIndex=n,this.dist=s};Gs.prototype.getSegmentIndex=function(){return this.segmentIndex},Gs.prototype.getCoordinate=function(){return this.coord},Gs.prototype.print=function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex),e.println(" dist = "+this.dist)},Gs.prototype.compareTo=function(e){var n=e;return this.compare(n.segmentIndex,n.dist)},Gs.prototype.isEndPoint=function(e){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===e},Gs.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Gs.prototype.getDistance=function(){return this.dist},Gs.prototype.compare=function(e,n){return this.segmentIndex<e?-1:this.segmentIndex>e?1:this.dist<n?-1:this.dist>n?1:0},Gs.prototype.interfaces_=function(){return[Bo]},Gs.prototype.getClass=function(){return Gs};var wa=function(){this._nodeMap=new Tn,this.edge=null;var e=arguments[0];this.edge=e};wa.prototype.print=function(e){e.println("Intersections:");for(var n=this.iterator();n.hasNext();)n.next().print(e)},wa.prototype.iterator=function(){return this._nodeMap.values().iterator()},wa.prototype.addSplitEdges=function(e){this.addEndpoints();for(var n=this.iterator(),s=n.next();n.hasNext();){var a=n.next(),c=this.createSplitEdge(s,a);e.add(c),s=a}},wa.prototype.addEndpoints=function(){var e=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[e],e,0)},wa.prototype.createSplitEdge=function(e,n){var s=n.segmentIndex-e.segmentIndex+2,a=this.edge.pts[n.segmentIndex],c=n.dist>0||!n.coord.equals2D(a);c||s--;var h=new Array(s).fill(null),g=0;h[g++]=new Mt(e.coord);for(var y=e.segmentIndex+1;y<=n.segmentIndex;y++)h[g++]=this.edge.pts[y];return c&&(h[g]=n.coord),new x0(h,new ri(this.edge._label))},wa.prototype.add=function(e,n,s){var a=new Gs(e,n,s),c=this._nodeMap.get(a);return c!==null?c:(this._nodeMap.put(a,a),a)},wa.prototype.isIntersection=function(e){for(var n=this.iterator();n.hasNext();)if(n.next().coord.equals(e))return!0;return!1},wa.prototype.interfaces_=function(){return[]},wa.prototype.getClass=function(){return wa};var Vc=function(){};Vc.prototype.getChainStartIndices=function(e){var n=0,s=new he;s.add(new As(n));do{var a=this.findChainEnd(e,n);s.add(new As(a)),n=a}while(n<e.length-1);return Vc.toIntArray(s)},Vc.prototype.findChainEnd=function(e,n){for(var s=ni.quadrant(e[n],e[n+1]),a=n+1;a<e.length&&ni.quadrant(e[a-1],e[a])===s;)a++;return a-1},Vc.prototype.interfaces_=function(){return[]},Vc.prototype.getClass=function(){return Vc},Vc.toIntArray=function(e){for(var n=new Array(e.size()).fill(null),s=0;s<n.length;s++)n[s]=e.get(s).intValue();return n};var tl=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new Re,this.env2=new Re;var e=arguments[0];this.e=e,this.pts=e.getCoordinates();var n=new Vc;this.startIndex=n.getChainStartIndices(this.pts)};tl.prototype.getCoordinates=function(){return this.pts},tl.prototype.getMaxX=function(e){var n=this.pts[this.startIndex[e]].x,s=this.pts[this.startIndex[e+1]].x;return n>s?n:s},tl.prototype.getMinX=function(e){var n=this.pts[this.startIndex[e]].x,s=this.pts[this.startIndex[e+1]].x;return n<s?n:s},tl.prototype.computeIntersectsForChain=function(){if(arguments.length===4){var e=arguments[0],n=arguments[1],s=arguments[2],a=arguments[3];this.computeIntersectsForChain(this.startIndex[e],this.startIndex[e+1],n,n.startIndex[s],n.startIndex[s+1],a)}else if(arguments.length===6){var c=arguments[0],h=arguments[1],g=arguments[2],y=arguments[3],w=arguments[4],_=arguments[5],T=this.pts[c],E=this.pts[h],P=g.pts[y],z=g.pts[w];if(h-c==1&&w-y==1)return _.addIntersections(this.e,c,g.e,y),null;if(this.env1.init(T,E),this.env2.init(P,z),!this.env1.intersects(this.env2))return null;var N=Math.trunc((c+h)/2),B=Math.trunc((y+w)/2);c<N&&(y<B&&this.computeIntersectsForChain(c,N,g,y,B,_),B<w&&this.computeIntersectsForChain(c,N,g,B,w,_)),N<h&&(y<B&&this.computeIntersectsForChain(N,h,g,y,B,_),B<w&&this.computeIntersectsForChain(N,h,g,B,w,_))}},tl.prototype.getStartIndexes=function(){return this.startIndex},tl.prototype.computeIntersects=function(e,n){for(var s=0;s<this.startIndex.length-1;s++)for(var a=0;a<e.startIndex.length-1;a++)this.computeIntersectsForChain(s,e,a,n)},tl.prototype.interfaces_=function(){return[]},tl.prototype.getClass=function(){return tl};var fn=function e(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var n=0;n<2;n++)for(var s=0;s<3;s++)this._depth[n][s]=e.NULL_VALUE},Jk={NULL_VALUE:{configurable:!0}};fn.prototype.getDepth=function(e,n){return this._depth[e][n]},fn.prototype.setDepth=function(e,n,s){this._depth[e][n]=s},fn.prototype.isNull=function(){var e=this;if(arguments.length===0){for(var n=0;n<2;n++)for(var s=0;s<3;s++)if(e._depth[n][s]!==fn.NULL_VALUE)return!1;return!0}if(arguments.length===1){var a=arguments[0];return this._depth[a][1]===fn.NULL_VALUE}if(arguments.length===2){var c=arguments[0],h=arguments[1];return this._depth[c][h]===fn.NULL_VALUE}},fn.prototype.normalize=function(){for(var e=this,n=0;n<2;n++)if(!e.isNull(n)){var s=e._depth[n][1];e._depth[n][2]<s&&(s=e._depth[n][2]),s<0&&(s=0);for(var a=1;a<3;a++){var c=0;e._depth[n][a]>s&&(c=1),e._depth[n][a]=c}}},fn.prototype.getDelta=function(e){return this._depth[e][oe.RIGHT]-this._depth[e][oe.LEFT]},fn.prototype.getLocation=function(e,n){return this._depth[e][n]<=0?jt.EXTERIOR:jt.INTERIOR},fn.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},fn.prototype.add=function(){var e=this;if(arguments.length===1)for(var n=arguments[0],s=0;s<2;s++)for(var a=1;a<3;a++){var c=n.getLocation(s,a);c!==jt.EXTERIOR&&c!==jt.INTERIOR||(e.isNull(s,a)?e._depth[s][a]=fn.depthAtLocation(c):e._depth[s][a]+=fn.depthAtLocation(c))}else if(arguments.length===3){var h=arguments[0],g=arguments[1],y=arguments[2];y===jt.INTERIOR&&this._depth[h][g]++}},fn.prototype.interfaces_=function(){return[]},fn.prototype.getClass=function(){return fn},fn.depthAtLocation=function(e){return e===jt.EXTERIOR?0:e===jt.INTERIOR?1:fn.NULL_VALUE},Jk.NULL_VALUE.get=function(){return-1},Object.defineProperties(fn,Jk);var x0=function(e){function n(){if(e.call(this),this.pts=null,this._env=null,this.eiList=new wa(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new fn,this._depthDelta=0,arguments.length===1){var s=arguments[0];n.call(this,s,null)}else if(arguments.length===2){var a=arguments[0],c=arguments[1];this.pts=a,this._label=c}}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.getDepth=function(){return this._depth},n.prototype.getCollapsedEdge=function(){var s=new Array(2).fill(null);return s[0]=this.pts[0],s[1]=this.pts[1],new n(s,ri.toLineLabel(this._label))},n.prototype.isIsolated=function(){return this._isIsolated},n.prototype.getCoordinates=function(){return this.pts},n.prototype.setIsolated=function(s){this._isIsolated=s},n.prototype.setName=function(s){this._name=s},n.prototype.equals=function(s){if(!(s instanceof n))return!1;var a=s;if(this.pts.length!==a.pts.length)return!1;for(var c=!0,h=!0,g=this.pts.length,y=0;y<this.pts.length;y++)if(this.pts[y].equals2D(a.pts[y])||(c=!1),this.pts[y].equals2D(a.pts[--g])||(h=!1),!c&&!h)return!1;return!0},n.prototype.getCoordinate=function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var s=arguments[0];return this.pts[s]}},n.prototype.print=function(s){s.print("edge "+this._name+": "),s.print("LINESTRING (");for(var a=0;a<this.pts.length;a++)a>0&&s.print(","),s.print(this.pts[a].x+" "+this.pts[a].y);s.print(")  "+this._label+" "+this._depthDelta)},n.prototype.computeIM=function(s){n.updateIM(this._label,s)},n.prototype.isCollapsed=function(){return!!this._label.isArea()&&this.pts.length===3&&!!this.pts[0].equals(this.pts[2])},n.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},n.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},n.prototype.getDepthDelta=function(){return this._depthDelta},n.prototype.getNumPoints=function(){return this.pts.length},n.prototype.printReverse=function(s){s.print("edge "+this._name+": ");for(var a=this.pts.length-1;a>=0;a--)s.print(this.pts[a]+" ");s.println("")},n.prototype.getMonotoneChainEdge=function(){return this._mce===null&&(this._mce=new tl(this)),this._mce},n.prototype.getEnvelope=function(){if(this._env===null){this._env=new Re;for(var s=0;s<this.pts.length;s++)this._env.expandToInclude(this.pts[s])}return this._env},n.prototype.addIntersection=function(s,a,c,h){var g=new Mt(s.getIntersection(h)),y=a,w=s.getEdgeDistance(c,h),_=y+1;if(_<this.pts.length){var T=this.pts[_];g.equals2D(T)&&(y=_,w=0)}this.eiList.add(g,y,w)},n.prototype.toString=function(){var s=new Ls;s.append("edge "+this._name+": "),s.append("LINESTRING (");for(var a=0;a<this.pts.length;a++)a>0&&s.append(","),s.append(this.pts[a].x+" "+this.pts[a].y);return s.append(")  "+this._label+" "+this._depthDelta),s.toString()},n.prototype.isPointwiseEqual=function(s){if(this.pts.length!==s.pts.length)return!1;for(var a=0;a<this.pts.length;a++)if(!this.pts[a].equals2D(s.pts[a]))return!1;return!0},n.prototype.setDepthDelta=function(s){this._depthDelta=s},n.prototype.getEdgeIntersectionList=function(){return this.eiList},n.prototype.addIntersections=function(s,a,c){for(var h=0;h<s.getIntersectionNum();h++)this.addIntersection(s,a,c,h)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n.updateIM=function(){if(arguments.length!==2)return e.prototype.updateIM.apply(this,arguments);var s=arguments[0],a=arguments[1];a.setAtLeastIfValid(s.getLocation(0,oe.ON),s.getLocation(1,oe.ON),1),s.isArea()&&(a.setAtLeastIfValid(s.getLocation(0,oe.LEFT),s.getLocation(1,oe.LEFT),2),a.setAtLeastIfValid(s.getLocation(0,oe.RIGHT),s.getLocation(1,oe.RIGHT),2))},n}(To),Bn=function(e){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new gs,this._bufParams=e||null};Bn.prototype.setWorkingPrecisionModel=function(e){this._workingPrecisionModel=e},Bn.prototype.insertUniqueEdge=function(e){var n=this._edgeList.findEqualEdge(e);if(n!==null){var s=n.getLabel(),a=e.getLabel();n.isPointwiseEqual(e)||(a=new ri(e.getLabel())).flip(),s.merge(a);var c=Bn.depthDelta(a),h=n.getDepthDelta()+c;n.setDepthDelta(h)}else this._edgeList.add(e),e.setDepthDelta(Bn.depthDelta(e.getLabel()))},Bn.prototype.buildSubgraphs=function(e,n){for(var s=new he,a=e.iterator();a.hasNext();){var c=a.next(),h=c.getRightmostCoordinate(),g=new rh(s).getDepth(h);c.computeDepth(g),c.findResultEdges(),s.add(c),n.add(c.getDirectedEdges(),c.getNodes())}},Bn.prototype.createSubgraphs=function(e){for(var n=new he,s=e.getNodes().iterator();s.hasNext();){var a=s.next();if(!a.isVisited()){var c=new Dn;c.create(a),n.add(c)}}return fs.sort(n,fs.reverseOrder()),n},Bn.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},Bn.prototype.getNoder=function(e){if(this._workingNoder!==null)return this._workingNoder;var n=new Xb,s=new Bc;return s.setPrecisionModel(e),n.setSegmentIntersector(new Po(s)),n},Bn.prototype.buffer=function(e,n){var s=this._workingPrecisionModel;s===null&&(s=e.getPrecisionModel()),this._geomFact=e.getFactory();var a=new Qn(s,this._bufParams),c=new Vo(e,n,a).getCurves();if(c.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(c,s),this._graph=new Ti(new Kk),this._graph.addEdges(this._edgeList.getEdges());var h=this.createSubgraphs(this._graph),g=new lo(this._geomFact);this.buildSubgraphs(h,g);var y=g.getPolygons();return y.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(y)},Bn.prototype.computeNodedEdges=function(e,n){var s=this.getNoder(n);s.computeNodes(e);for(var a=s.getNodedSubstrings().iterator();a.hasNext();){var c=a.next(),h=c.getCoordinates();if(h.length!==2||!h[0].equals2D(h[1])){var g=c.getData(),y=new x0(c.getCoordinates(),new ri(g));this.insertUniqueEdge(y)}}},Bn.prototype.setNoder=function(e){this._workingNoder=e},Bn.prototype.interfaces_=function(){return[]},Bn.prototype.getClass=function(){return Bn},Bn.depthDelta=function(e){var n=e.getLocation(0,oe.LEFT),s=e.getLocation(0,oe.RIGHT);return n===jt.INTERIOR&&s===jt.EXTERIOR?1:n===jt.EXTERIOR&&s===jt.INTERIOR?-1:0},Bn.convertSegStrings=function(e){for(var n=new cr,s=new he;e.hasNext();){var a=e.next(),c=n.createLineString(a.getCoordinates());s.add(c)}return n.buildGeometry(s)};var ql=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var e=arguments[0],n=arguments[1];this._noder=e,this._scaleFactor=n,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(arguments.length===4){var s=arguments[0],a=arguments[1],c=arguments[2],h=arguments[3];this._noder=s,this._scaleFactor=a,this._offsetX=c,this._offsetY=h,this._isScaled=!this.isIntegerPrecision()}};ql.prototype.rescale=function(){var e=this;if(Ge(arguments[0],Ui))for(var n=arguments[0],s=n.iterator();s.hasNext();){var a=s.next();e.rescale(a.getCoordinates())}else if(arguments[0]instanceof Array){for(var c=arguments[0],h=0;h<c.length;h++)c[h].x=c[h].x/e._scaleFactor+e._offsetX,c[h].y=c[h].y/e._scaleFactor+e._offsetY;c.length===2&&c[0].equals2D(c[1])&&pn.out.println(c)}},ql.prototype.scale=function(){var e=this;if(Ge(arguments[0],Ui)){for(var n=arguments[0],s=new he,a=n.iterator();a.hasNext();){var c=a.next();s.add(new Ai(e.scale(c.getCoordinates()),c.getData()))}return s}if(arguments[0]instanceof Array){for(var h=arguments[0],g=new Array(h.length).fill(null),y=0;y<h.length;y++)g[y]=new Mt(Math.round((h[y].x-e._offsetX)*e._scaleFactor),Math.round((h[y].y-e._offsetY)*e._scaleFactor),h[y].z);var w=lr.removeRepeatedPoints(g);return w}},ql.prototype.isIntegerPrecision=function(){return this._scaleFactor===1},ql.prototype.getNodedSubstrings=function(){var e=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(e),e},ql.prototype.computeNodes=function(e){var n=e;this._isScaled&&(n=this.scale(e)),this._noder.computeNodes(n)},ql.prototype.interfaces_=function(){return[Uc]},ql.prototype.getClass=function(){return ql};var qs=function(){this._li=new Bc,this._segStrings=null;var e=arguments[0];this._segStrings=e},Qk={fact:{configurable:!0}};qs.prototype.checkEndPtVertexIntersections=function(){var e=this;if(arguments.length===0)for(var n=this._segStrings.iterator();n.hasNext();){var s=n.next(),a=s.getCoordinates();e.checkEndPtVertexIntersections(a[0],e._segStrings),e.checkEndPtVertexIntersections(a[a.length-1],e._segStrings)}else if(arguments.length===2){for(var c=arguments[0],h=arguments[1],g=h.iterator();g.hasNext();)for(var y=g.next(),w=y.getCoordinates(),_=1;_<w.length-1;_++)if(w[_].equals(c))throw new Wa("found endpt/interior pt intersection at index "+_+" :pt "+c)}},qs.prototype.checkInteriorIntersections=function(){var e=this;if(arguments.length===0)for(var n=this._segStrings.iterator();n.hasNext();)for(var s=n.next(),a=this._segStrings.iterator();a.hasNext();){var c=a.next();e.checkInteriorIntersections(s,c)}else if(arguments.length===2)for(var h=arguments[0],g=arguments[1],y=h.getCoordinates(),w=g.getCoordinates(),_=0;_<y.length-1;_++)for(var T=0;T<w.length-1;T++)e.checkInteriorIntersections(h,_,g,T);else if(arguments.length===4){var E=arguments[0],P=arguments[1],z=arguments[2],N=arguments[3];if(E===z&&P===N)return null;var B=E.getCoordinates()[P],R=E.getCoordinates()[P+1],Y=z.getCoordinates()[N],nt=z.getCoordinates()[N+1];if(this._li.computeIntersection(B,R,Y,nt),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,B,R)||this.hasInteriorIntersection(this._li,Y,nt)))throw new Wa("found non-noded intersection at "+B+"-"+R+" and "+Y+"-"+nt)}},qs.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},qs.prototype.checkCollapses=function(){var e=this;if(arguments.length===0)for(var n=this._segStrings.iterator();n.hasNext();){var s=n.next();e.checkCollapses(s)}else if(arguments.length===1)for(var a=arguments[0],c=a.getCoordinates(),h=0;h<c.length-2;h++)e.checkCollapse(c[h],c[h+1],c[h+2])},qs.prototype.hasInteriorIntersection=function(e,n,s){for(var a=0;a<e.getIntersectionNum();a++){var c=e.getIntersection(a);if(!c.equals(n)&&!c.equals(s))return!0}return!1},qs.prototype.checkCollapse=function(e,n,s){if(e.equals(s))throw new Wa("found non-noded collapse at "+qs.fact.createLineString([e,n,s]))},qs.prototype.interfaces_=function(){return[]},qs.prototype.getClass=function(){return qs},Qk.fact.get=function(){return new cr},Object.defineProperties(qs,Qk);var $n=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var e=arguments[0],n=arguments[1],s=arguments[2];if(this._originalPt=e,this._pt=e,this._scaleFactor=n,this._li=s,n<=0)throw new xi("Scale factor must be non-zero");n!==1&&(this._pt=new Mt(this.scale(e.x),this.scale(e.y)),this._p0Scaled=new Mt,this._p1Scaled=new Mt),this.initCorners(this._pt)},$k={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};$n.prototype.intersectsScaled=function(e,n){var s=Math.min(e.x,n.x),a=Math.max(e.x,n.x),c=Math.min(e.y,n.y),h=Math.max(e.y,n.y),g=this._maxx<s||this._minx>a||this._maxy<c||this._miny>h;if(g)return!1;var y=this.intersectsToleranceSquare(e,n);return $e.isTrue(!(g&&y),"Found bad envelope test"),y},$n.prototype.initCorners=function(e){var n=.5;this._minx=e.x-n,this._maxx=e.x+n,this._miny=e.y-n,this._maxy=e.y+n,this._corner[0]=new Mt(this._maxx,this._maxy),this._corner[1]=new Mt(this._minx,this._maxy),this._corner[2]=new Mt(this._minx,this._miny),this._corner[3]=new Mt(this._maxx,this._miny)},$n.prototype.intersects=function(e,n){return this._scaleFactor===1?this.intersectsScaled(e,n):(this.copyScaled(e,this._p0Scaled),this.copyScaled(n,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},$n.prototype.scale=function(e){return Math.round(e*this._scaleFactor)},$n.prototype.getCoordinate=function(){return this._originalPt},$n.prototype.copyScaled=function(e,n){n.x=this.scale(e.x),n.y=this.scale(e.y)},$n.prototype.getSafeEnvelope=function(){if(this._safeEnv===null){var e=$n.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Re(this._originalPt.x-e,this._originalPt.x+e,this._originalPt.y-e,this._originalPt.y+e)}return this._safeEnv},$n.prototype.intersectsPixelClosure=function(e,n){return this._li.computeIntersection(e,n,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,n,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,n,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,n,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))},$n.prototype.intersectsToleranceSquare=function(e,n){var s=!1,a=!1;return this._li.computeIntersection(e,n,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(e,n,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(s=!0),this._li.computeIntersection(e,n,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(a=!0),this._li.computeIntersection(e,n,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!s||!a)||!!e.equals(this._pt)||!!n.equals(this._pt))))},$n.prototype.addSnappedNode=function(e,n){var s=e.getCoordinate(n),a=e.getCoordinate(n+1);return!!this.intersects(s,a)&&(e.addIntersection(this.getCoordinate(),n),!0)},$n.prototype.interfaces_=function(){return[]},$n.prototype.getClass=function(){return $n},$k.SAFE_ENV_EXPANSION_FACTOR.get=function(){return .75},Object.defineProperties($n,$k);var Bf=function(){this.tempEnv1=new Re,this.selectedSegment=new Oe};Bf.prototype.select=function(){if(arguments.length!==1){if(arguments.length===2){var e=arguments[0],n=arguments[1];e.getLineSegment(n,this.selectedSegment),this.select(this.selectedSegment)}}},Bf.prototype.interfaces_=function(){return[]},Bf.prototype.getClass=function(){return Bf};var Ld=function(){this._index=null;var e=arguments[0];this._index=e},t2={HotPixelSnapAction:{configurable:!0}};Ld.prototype.snap=function(){if(arguments.length===1){var e=arguments[0];return this.snap(e,null,-1)}if(arguments.length===3){var n=arguments[0],s=arguments[1],a=arguments[2],c=n.getSafeEnvelope(),h=new e2(n,s,a);return this._index.query(c,{interfaces_:function(){return[Hl]},visitItem:function(g){g.select(c,h)}}),h.isNodeAdded()}},Ld.prototype.interfaces_=function(){return[]},Ld.prototype.getClass=function(){return Ld},t2.HotPixelSnapAction.get=function(){return e2},Object.defineProperties(Ld,t2);var e2=function(e){function n(){e.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var s=arguments[0],a=arguments[1],c=arguments[2];this._hotPixel=s,this._parentEdge=a,this._hotPixelVertexIndex=c}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.isNodeAdded=function(){return this._isNodeAdded},n.prototype.select=function(){if(arguments.length!==2)return e.prototype.select.apply(this,arguments);var s=arguments[0],a=arguments[1],c=s.getContext();if(this._parentEdge!==null&&c===this._parentEdge&&a===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(c,a)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(Bf),ih=function(){this._li=null,this._interiorIntersections=null;var e=arguments[0];this._li=e,this._interiorIntersections=new he};ih.prototype.processIntersections=function(e,n,s,a){if(e===s&&n===a)return null;var c=e.getCoordinates()[n],h=e.getCoordinates()[n+1],g=s.getCoordinates()[a],y=s.getCoordinates()[a+1];if(this._li.computeIntersection(c,h,g,y),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var w=0;w<this._li.getIntersectionNum();w++)this._interiorIntersections.add(this._li.getIntersection(w));e.addIntersections(this._li,n,0),s.addIntersections(this._li,a,1)}},ih.prototype.isDone=function(){return!1},ih.prototype.getInteriorIntersections=function(){return this._interiorIntersections},ih.prototype.interfaces_=function(){return[qc]},ih.prototype.getClass=function(){return ih};var xa=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var e=arguments[0];this._pm=e,this._li=new Bc,this._li.setPrecisionModel(e),this._scaleFactor=e.getScale()};xa.prototype.checkCorrectness=function(e){var n=Ai.getNodedSubstrings(e),s=new qs(n);try{s.checkValid()}catch(a){if(!(a instanceof Ok))throw a;a.printStackTrace()}},xa.prototype.getNodedSubstrings=function(){return Ai.getNodedSubstrings(this._nodedSegStrings)},xa.prototype.snapRound=function(e,n){var s=this.findInteriorIntersections(e,n);this.computeIntersectionSnaps(s),this.computeVertexSnaps(e)},xa.prototype.findInteriorIntersections=function(e,n){var s=new ih(n);return this._noder.setSegmentIntersector(s),this._noder.computeNodes(e),s.getInteriorIntersections()},xa.prototype.computeVertexSnaps=function(){var e=this;if(Ge(arguments[0],Ui))for(var n=arguments[0],s=n.iterator();s.hasNext();){var a=s.next();e.computeVertexSnaps(a)}else if(arguments[0]instanceof Ai)for(var c=arguments[0],h=c.getCoordinates(),g=0;g<h.length;g++){var y=new $n(h[g],e._scaleFactor,e._li),w=e._pointSnapper.snap(y,c,g);w&&c.addIntersection(h[g],g)}},xa.prototype.computeNodes=function(e){this._nodedSegStrings=e,this._noder=new Xb,this._pointSnapper=new Ld(this._noder.getIndex()),this.snapRound(e,this._li)},xa.prototype.computeIntersectionSnaps=function(e){for(var n=this,s=e.iterator();s.hasNext();){var a=s.next(),c=new $n(a,n._scaleFactor,n._li);n._pointSnapper.snap(c)}},xa.prototype.interfaces_=function(){return[Uc]},xa.prototype.getClass=function(){return xa};var gn=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Jr,this._resultGeometry=null,this._saveException=null,arguments.length===1){var e=arguments[0];this._argGeom=e}else if(arguments.length===2){var n=arguments[0],s=arguments[1];this._argGeom=n,this._bufParams=s}},Ad={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};gn.prototype.bufferFixedPrecision=function(e){var n=new ql(new xa(new Kr(1)),e.getScale()),s=new Bn(this._bufParams);s.setWorkingPrecisionModel(e),s.setNoder(n),this._resultGeometry=s.buffer(this._argGeom,this._distance)},gn.prototype.bufferReducedPrecision=function(){var e=this;if(arguments.length===0){for(var n=gn.MAX_PRECISION_DIGITS;n>=0;n--){try{e.bufferReducedPrecision(n)}catch(h){if(!(h instanceof Ja))throw h;e._saveException=h}if(e._resultGeometry!==null)return null}throw this._saveException}if(arguments.length===1){var s=arguments[0],a=gn.precisionScaleFactor(this._argGeom,this._distance,s),c=new Kr(a);this.bufferFixedPrecision(c)}},gn.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var e=this._argGeom.getFactory().getPrecisionModel();e.getType()===Kr.FIXED?this.bufferFixedPrecision(e):this.bufferReducedPrecision()},gn.prototype.setQuadrantSegments=function(e){this._bufParams.setQuadrantSegments(e)},gn.prototype.bufferOriginalPrecision=function(){try{var e=new Bn(this._bufParams);this._resultGeometry=e.buffer(this._argGeom,this._distance)}catch(n){if(!(n instanceof Wa))throw n;this._saveException=n}},gn.prototype.getResultGeometry=function(e){return this._distance=e,this.computeGeometry(),this._resultGeometry},gn.prototype.setEndCapStyle=function(e){this._bufParams.setEndCapStyle(e)},gn.prototype.interfaces_=function(){return[]},gn.prototype.getClass=function(){return gn},gn.bufferOp=function(){if(arguments.length===2){var e=arguments[0],n=arguments[1],s=new gn(e),a=s.getResultGeometry(n);return a}if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof He&&typeof arguments[1]=="number"){var c=arguments[0],h=arguments[1],g=arguments[2],y=new gn(c);y.setQuadrantSegments(g);var w=y.getResultGeometry(h);return w}if(arguments[2]instanceof Jr&&arguments[0]instanceof He&&typeof arguments[1]=="number"){var _=arguments[0],T=arguments[1],E=arguments[2],P=new gn(_,E),z=P.getResultGeometry(T);return z}}else if(arguments.length===4){var N=arguments[0],B=arguments[1],R=arguments[2],Y=arguments[3],nt=new gn(N);nt.setQuadrantSegments(R),nt.setEndCapStyle(Y);var F=nt.getResultGeometry(B);return F}},gn.precisionScaleFactor=function(e,n,s){var a=e.getEnvelopeInternal(),c=Eo.max(Math.abs(a.getMaxX()),Math.abs(a.getMaxY()),Math.abs(a.getMinX()),Math.abs(a.getMinY()))+2*(n>0?n:0),h=s-Math.trunc(Math.log(c)/Math.log(10)+1);return Math.pow(10,h)},Ad.CAP_ROUND.get=function(){return Jr.CAP_ROUND},Ad.CAP_BUTT.get=function(){return Jr.CAP_FLAT},Ad.CAP_FLAT.get=function(){return Jr.CAP_FLAT},Ad.CAP_SQUARE.get=function(){return Jr.CAP_SQUARE},Ad.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(gn,Ad);var jn=function(){this._pt=[new Mt,new Mt],this._distance=Ke.NaN,this._isNull=!0};jn.prototype.getCoordinates=function(){return this._pt},jn.prototype.getCoordinate=function(e){return this._pt[e]},jn.prototype.setMinimum=function(){if(arguments.length===1){var e=arguments[0];this.setMinimum(e._pt[0],e._pt[1])}else if(arguments.length===2){var n=arguments[0],s=arguments[1];if(this._isNull)return this.initialize(n,s),null;var a=n.distance(s);a<this._distance&&this.initialize(n,s,a)}},jn.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var e=arguments[0],n=arguments[1];this._pt[0].setCoordinate(e),this._pt[1].setCoordinate(n),this._distance=e.distance(n),this._isNull=!1}else if(arguments.length===3){var s=arguments[0],a=arguments[1],c=arguments[2];this._pt[0].setCoordinate(s),this._pt[1].setCoordinate(a),this._distance=c,this._isNull=!1}},jn.prototype.getDistance=function(){return this._distance},jn.prototype.setMaximum=function(){if(arguments.length===1){var e=arguments[0];this.setMaximum(e._pt[0],e._pt[1])}else if(arguments.length===2){var n=arguments[0],s=arguments[1];if(this._isNull)return this.initialize(n,s),null;var a=n.distance(s);a>this._distance&&this.initialize(n,s,a)}},jn.prototype.interfaces_=function(){return[]},jn.prototype.getClass=function(){return jn};var _a=function(){};_a.prototype.interfaces_=function(){return[]},_a.prototype.getClass=function(){return _a},_a.computeDistance=function(){if(arguments[2]instanceof jn&&arguments[0]instanceof Ci&&arguments[1]instanceof Mt)for(var e=arguments[0],n=arguments[1],s=arguments[2],a=e.getCoordinates(),c=new Oe,h=0;h<a.length-1;h++){c.setCoordinates(a[h],a[h+1]);var g=c.closestPoint(n);s.setMinimum(g,n)}else if(arguments[2]instanceof jn&&arguments[0]instanceof Gi&&arguments[1]instanceof Mt){var y=arguments[0],w=arguments[1],_=arguments[2];_a.computeDistance(y.getExteriorRing(),w,_);for(var T=0;T<y.getNumInteriorRing();T++)_a.computeDistance(y.getInteriorRingN(T),w,_)}else if(arguments[2]instanceof jn&&arguments[0]instanceof He&&arguments[1]instanceof Mt){var E=arguments[0],P=arguments[1],z=arguments[2];if(E instanceof Ci)_a.computeDistance(E,P,z);else if(E instanceof Gi)_a.computeDistance(E,P,z);else if(E instanceof Nn)for(var N=E,B=0;B<N.getNumGeometries();B++){var R=N.getGeometryN(B);_a.computeDistance(R,P,z)}else z.setMinimum(E.getCoordinate(),P)}else if(arguments[2]instanceof jn&&arguments[0]instanceof Oe&&arguments[1]instanceof Mt){var Y=arguments[0],nt=arguments[1],F=arguments[2],Z=Y.closestPoint(nt);F.setMinimum(Z,nt)}};var Wc=function(e){this._maxPtDist=new jn,this._inputGeom=e||null},Kb={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};Wc.prototype.computeMaxMidpointDistance=function(e){var n=new Vl(this._inputGeom);e.apply(n),this._maxPtDist.setMaximum(n.getMaxPointDistance())},Wc.prototype.computeMaxVertexDistance=function(e){var n=new nh(this._inputGeom);e.apply(n),this._maxPtDist.setMaximum(n.getMaxPointDistance())},Wc.prototype.findDistance=function(e){return this.computeMaxVertexDistance(e),this.computeMaxMidpointDistance(e),this._maxPtDist.getDistance()},Wc.prototype.getDistancePoints=function(){return this._maxPtDist},Wc.prototype.interfaces_=function(){return[]},Wc.prototype.getClass=function(){return Wc},Kb.MaxPointDistanceFilter.get=function(){return nh},Kb.MaxMidpointDistanceFilter.get=function(){return Vl},Object.defineProperties(Wc,Kb);var nh=function(e){this._maxPtDist=new jn,this._minPtDist=new jn,this._geom=e||null};nh.prototype.filter=function(e){this._minPtDist.initialize(),_a.computeDistance(this._geom,e,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},nh.prototype.getMaxPointDistance=function(){return this._maxPtDist},nh.prototype.interfaces_=function(){return[fa]},nh.prototype.getClass=function(){return nh};var Vl=function(e){this._maxPtDist=new jn,this._minPtDist=new jn,this._geom=e||null};Vl.prototype.filter=function(e,n){if(n===0)return null;var s=e.getCoordinate(n-1),a=e.getCoordinate(n),c=new Mt((s.x+a.x)/2,(s.y+a.y)/2);this._minPtDist.initialize(),_a.computeDistance(this._geom,c,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Vl.prototype.isDone=function(){return!1},Vl.prototype.isGeometryChanged=function(){return!1},Vl.prototype.getMaxPointDistance=function(){return this._maxPtDist},Vl.prototype.interfaces_=function(){return[ds]},Vl.prototype.getClass=function(){return Vl};var el=function(e){this._comps=e||null};el.prototype.filter=function(e){e instanceof Gi&&this._comps.add(e)},el.prototype.interfaces_=function(){return[Ns]},el.prototype.getClass=function(){return el},el.getPolygons=function(){if(arguments.length===1){var e=arguments[0];return el.getPolygons(e,new he)}if(arguments.length===2){var n=arguments[0],s=arguments[1];return n instanceof Gi?s.add(n):n instanceof Nn&&n.apply(new el(s)),s}};var mn=function(){if(this._lines=null,this._isForcedToLineString=!1,arguments.length===1){var e=arguments[0];this._lines=e}else if(arguments.length===2){var n=arguments[0],s=arguments[1];this._lines=n,this._isForcedToLineString=s}};mn.prototype.filter=function(e){if(this._isForcedToLineString&&e instanceof ga){var n=e.getFactory().createLineString(e.getCoordinateSequence());return this._lines.add(n),null}e instanceof Ci&&this._lines.add(e)},mn.prototype.setForceToLineString=function(e){this._isForcedToLineString=e},mn.prototype.interfaces_=function(){return[Za]},mn.prototype.getClass=function(){return mn},mn.getGeometry=function(){if(arguments.length===1){var e=arguments[0];return e.getFactory().buildGeometry(mn.getLines(e))}if(arguments.length===2){var n=arguments[0],s=arguments[1];return n.getFactory().buildGeometry(mn.getLines(n,s))}},mn.getLines=function(){if(arguments.length===1){var e=arguments[0];return mn.getLines(e,!1)}if(arguments.length===2){if(Ge(arguments[0],Ui)&&Ge(arguments[1],Ui)){for(var n=arguments[0],s=arguments[1],a=n.iterator();a.hasNext();){var c=a.next();mn.getLines(c,s)}return s}if(arguments[0]instanceof He&&typeof arguments[1]=="boolean"){var h=arguments[0],g=arguments[1],y=new he;return h.apply(new mn(y,g)),y}if(arguments[0]instanceof He&&Ge(arguments[1],Ui)){var w=arguments[0],_=arguments[1];return w instanceof Ci?_.add(w):w.apply(new mn(_)),_}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&Ge(arguments[0],Ui)&&Ge(arguments[1],Ui)){for(var T=arguments[0],E=arguments[1],P=arguments[2],z=T.iterator();z.hasNext();){var N=z.next();mn.getLines(N,E,P)}return E}if(typeof arguments[2]=="boolean"&&arguments[0]instanceof He&&Ge(arguments[1],Ui)){var B=arguments[0],R=arguments[1],Y=arguments[2];return B.apply(new mn(R,Y)),R}}};var ms=function(){if(this._boundaryRule=Ho.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,arguments.length!==0){if(arguments.length===1){var e=arguments[0];if(e===null)throw new xi("Rule must be non-null");this._boundaryRule=e}}};ms.prototype.locateInternal=function(){var e=this;if(arguments[0]instanceof Mt&&arguments[1]instanceof Gi){var n=arguments[0],s=arguments[1];if(s.isEmpty())return jt.EXTERIOR;var a=s.getExteriorRing(),c=this.locateInPolygonRing(n,a);if(c===jt.EXTERIOR)return jt.EXTERIOR;if(c===jt.BOUNDARY)return jt.BOUNDARY;for(var h=0;h<s.getNumInteriorRing();h++){var g=s.getInteriorRingN(h),y=e.locateInPolygonRing(n,g);if(y===jt.INTERIOR)return jt.EXTERIOR;if(y===jt.BOUNDARY)return jt.BOUNDARY}return jt.INTERIOR}if(arguments[0]instanceof Mt&&arguments[1]instanceof Ci){var w=arguments[0],_=arguments[1];if(!_.getEnvelopeInternal().intersects(w))return jt.EXTERIOR;var T=_.getCoordinates();return _.isClosed()||!w.equals(T[0])&&!w.equals(T[T.length-1])?ve.isOnLine(w,T)?jt.INTERIOR:jt.EXTERIOR:jt.BOUNDARY}if(arguments[0]instanceof Mt&&arguments[1]instanceof ao){var E=arguments[0],P=arguments[1],z=P.getCoordinate();return z.equals2D(E)?jt.INTERIOR:jt.EXTERIOR}},ms.prototype.locateInPolygonRing=function(e,n){return n.getEnvelopeInternal().intersects(e)?ve.locatePointInRing(e,n.getCoordinates()):jt.EXTERIOR},ms.prototype.intersects=function(e,n){return this.locate(e,n)!==jt.EXTERIOR},ms.prototype.updateLocationInfo=function(e){e===jt.INTERIOR&&(this._isIn=!0),e===jt.BOUNDARY&&this._numBoundaries++},ms.prototype.computeLocation=function(e,n){var s=this;if(n instanceof ao&&this.updateLocationInfo(this.locateInternal(e,n)),n instanceof Ci)this.updateLocationInfo(this.locateInternal(e,n));else if(n instanceof Gi)this.updateLocationInfo(this.locateInternal(e,n));else if(n instanceof Hc)for(var a=n,c=0;c<a.getNumGeometries();c++){var h=a.getGeometryN(c);s.updateLocationInfo(s.locateInternal(e,h))}else if(n instanceof ma)for(var g=n,y=0;y<g.getNumGeometries();y++){var w=g.getGeometryN(y);s.updateLocationInfo(s.locateInternal(e,w))}else if(n instanceof Nn)for(var _=new ba(n);_.hasNext();){var T=_.next();T!==n&&s.computeLocation(e,T)}},ms.prototype.locate=function(e,n){return n.isEmpty()?jt.EXTERIOR:n instanceof Ci||n instanceof Gi?this.locateInternal(e,n):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(e,n),this._boundaryRule.isInBoundary(this._numBoundaries)?jt.BOUNDARY:this._numBoundaries>0||this._isIn?jt.INTERIOR:jt.EXTERIOR)},ms.prototype.interfaces_=function(){return[]},ms.prototype.getClass=function(){return ms};var Hn=function e(){if(this._component=null,this._segIndex=null,this._pt=null,arguments.length===2){var n=arguments[0],s=arguments[1];e.call(this,n,e.INSIDE_AREA,s)}else if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2];this._component=a,this._segIndex=c,this._pt=h}},r2={INSIDE_AREA:{configurable:!0}};Hn.prototype.isInsideArea=function(){return this._segIndex===Hn.INSIDE_AREA},Hn.prototype.getCoordinate=function(){return this._pt},Hn.prototype.getGeometryComponent=function(){return this._component},Hn.prototype.getSegmentIndex=function(){return this._segIndex},Hn.prototype.interfaces_=function(){return[]},Hn.prototype.getClass=function(){return Hn},r2.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Hn,r2);var Wl=function(e){this._pts=e||null};Wl.prototype.filter=function(e){e instanceof ao&&this._pts.add(e)},Wl.prototype.interfaces_=function(){return[Ns]},Wl.prototype.getClass=function(){return Wl},Wl.getPoints=function(){if(arguments.length===1){var e=arguments[0];return e instanceof ao?fs.singletonList(e):Wl.getPoints(e,new he)}if(arguments.length===2){var n=arguments[0],s=arguments[1];return n instanceof ao?s.add(n):n instanceof Nn&&n.apply(new Wl(s)),s}};var oh=function(){this._locations=null;var e=arguments[0];this._locations=e};oh.prototype.filter=function(e){(e instanceof ao||e instanceof Ci||e instanceof Gi)&&this._locations.add(new Hn(e,0,e.getCoordinate()))},oh.prototype.interfaces_=function(){return[Ns]},oh.prototype.getClass=function(){return oh},oh.getLocations=function(e){var n=new he;return e.apply(new oh(n)),n};var vn=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new ms,this._minDistanceLocation=null,this._minDistance=Ke.MAX_VALUE,arguments.length===2){var e=arguments[0],n=arguments[1];this._geom=[e,n],this._terminateDistance=0}else if(arguments.length===3){var s=arguments[0],a=arguments[1],c=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=s,this._geom[1]=a,this._terminateDistance=c}};vn.prototype.computeContainmentDistance=function(){var e=this;if(arguments.length===0){var n=new Array(2).fill(null);if(this.computeContainmentDistance(0,n),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,n)}else if(arguments.length===2){var s=arguments[0],a=arguments[1],c=1-s,h=el.getPolygons(this._geom[s]);if(h.size()>0){var g=oh.getLocations(this._geom[c]);if(this.computeContainmentDistance(g,h,a),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[c]=a[0],this._minDistanceLocation[s]=a[1],null}}else if(arguments.length===3){if(arguments[2]instanceof Array&&Ge(arguments[0],us)&&Ge(arguments[1],us)){for(var y=arguments[0],w=arguments[1],_=arguments[2],T=0;T<y.size();T++)for(var E=y.get(T),P=0;P<w.size();P++)if(e.computeContainmentDistance(E,w.get(P),_),e._minDistance<=e._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Hn&&arguments[1]instanceof Gi){var z=arguments[0],N=arguments[1],B=arguments[2],R=z.getCoordinate();if(jt.EXTERIOR!==this._ptLocator.locate(R,N))return this._minDistance=0,B[0]=z,B[1]=new Hn(N,R),null}}},vn.prototype.computeMinDistanceLinesPoints=function(e,n,s){for(var a=this,c=0;c<e.size();c++)for(var h=e.get(c),g=0;g<n.size();g++){var y=n.get(g);if(a.computeMinDistance(h,y,s),a._minDistance<=a._terminateDistance)return null}},vn.prototype.computeFacetDistance=function(){var e=new Array(2).fill(null),n=mn.getLines(this._geom[0]),s=mn.getLines(this._geom[1]),a=Wl.getPoints(this._geom[0]),c=Wl.getPoints(this._geom[1]);return this.computeMinDistanceLines(n,s,e),this.updateMinDistance(e,!1),this._minDistance<=this._terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistanceLinesPoints(n,c,e),this.updateMinDistance(e,!1),this._minDistance<=this._terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistanceLinesPoints(s,a,e),this.updateMinDistance(e,!0),this._minDistance<=this._terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistancePoints(a,c,e),void this.updateMinDistance(e,!1))))},vn.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},vn.prototype.updateMinDistance=function(e,n){if(e[0]===null)return null;n?(this._minDistanceLocation[0]=e[1],this._minDistanceLocation[1]=e[0]):(this._minDistanceLocation[0]=e[0],this._minDistanceLocation[1]=e[1])},vn.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},vn.prototype.computeMinDistance=function(){var e=this;if(arguments.length===0){if(this._minDistanceLocation!==null||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance))return null;this.computeFacetDistance()}else if(arguments.length===3){if(arguments[2]instanceof Array&&arguments[0]instanceof Ci&&arguments[1]instanceof ao){var n=arguments[0],s=arguments[1],a=arguments[2];if(n.getEnvelopeInternal().distance(s.getEnvelopeInternal())>this._minDistance)return null;for(var c=n.getCoordinates(),h=s.getCoordinate(),g=0;g<c.length-1;g++){var y=ve.distancePointLine(h,c[g],c[g+1]);if(y<e._minDistance){e._minDistance=y;var w=new Oe(c[g],c[g+1]),_=w.closestPoint(h);a[0]=new Hn(n,g,_),a[1]=new Hn(s,0,h)}if(e._minDistance<=e._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Ci&&arguments[1]instanceof Ci){var T=arguments[0],E=arguments[1],P=arguments[2];if(T.getEnvelopeInternal().distance(E.getEnvelopeInternal())>this._minDistance)return null;for(var z=T.getCoordinates(),N=E.getCoordinates(),B=0;B<z.length-1;B++)for(var R=0;R<N.length-1;R++){var Y=ve.distanceLineLine(z[B],z[B+1],N[R],N[R+1]);if(Y<e._minDistance){e._minDistance=Y;var nt=new Oe(z[B],z[B+1]),F=new Oe(N[R],N[R+1]),Z=nt.closestPoints(F);P[0]=new Hn(T,B,Z[0]),P[1]=new Hn(E,R,Z[1])}if(e._minDistance<=e._terminateDistance)return null}}}},vn.prototype.computeMinDistancePoints=function(e,n,s){for(var a=this,c=0;c<e.size();c++)for(var h=e.get(c),g=0;g<n.size();g++){var y=n.get(g),w=h.getCoordinate().distance(y.getCoordinate());if(w<a._minDistance&&(a._minDistance=w,s[0]=new Hn(h,0,h.getCoordinate()),s[1]=new Hn(y,0,y.getCoordinate())),a._minDistance<=a._terminateDistance)return null}},vn.prototype.distance=function(){if(this._geom[0]===null||this._geom[1]===null)throw new xi("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},vn.prototype.computeMinDistanceLines=function(e,n,s){for(var a=this,c=0;c<e.size();c++)for(var h=e.get(c),g=0;g<n.size();g++){var y=n.get(g);if(a.computeMinDistance(h,y,s),a._minDistance<=a._terminateDistance)return null}},vn.prototype.interfaces_=function(){return[]},vn.prototype.getClass=function(){return vn},vn.distance=function(e,n){return new vn(e,n).distance()},vn.isWithinDistance=function(e,n,s){return new vn(e,n,s).distance()<=s},vn.nearestPoints=function(e,n){return new vn(e,n).nearestPoints()};var Pn=function(){this._pt=[new Mt,new Mt],this._distance=Ke.NaN,this._isNull=!0};Pn.prototype.getCoordinates=function(){return this._pt},Pn.prototype.getCoordinate=function(e){return this._pt[e]},Pn.prototype.setMinimum=function(){if(arguments.length===1){var e=arguments[0];this.setMinimum(e._pt[0],e._pt[1])}else if(arguments.length===2){var n=arguments[0],s=arguments[1];if(this._isNull)return this.initialize(n,s),null;var a=n.distance(s);a<this._distance&&this.initialize(n,s,a)}},Pn.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var e=arguments[0],n=arguments[1];this._pt[0].setCoordinate(e),this._pt[1].setCoordinate(n),this._distance=e.distance(n),this._isNull=!1}else if(arguments.length===3){var s=arguments[0],a=arguments[1],c=arguments[2];this._pt[0].setCoordinate(s),this._pt[1].setCoordinate(a),this._distance=c,this._isNull=!1}},Pn.prototype.toString=function(){return cs.toLineString(this._pt[0],this._pt[1])},Pn.prototype.getDistance=function(){return this._distance},Pn.prototype.setMaximum=function(){if(arguments.length===1){var e=arguments[0];this.setMaximum(e._pt[0],e._pt[1])}else if(arguments.length===2){var n=arguments[0],s=arguments[1];if(this._isNull)return this.initialize(n,s),null;var a=n.distance(s);a>this._distance&&this.initialize(n,s,a)}},Pn.prototype.interfaces_=function(){return[]},Pn.prototype.getClass=function(){return Pn};var Vs=function(){};Vs.prototype.interfaces_=function(){return[]},Vs.prototype.getClass=function(){return Vs},Vs.computeDistance=function(){if(arguments[2]instanceof Pn&&arguments[0]instanceof Ci&&arguments[1]instanceof Mt)for(var e=arguments[0],n=arguments[1],s=arguments[2],a=new Oe,c=e.getCoordinates(),h=0;h<c.length-1;h++){a.setCoordinates(c[h],c[h+1]);var g=a.closestPoint(n);s.setMinimum(g,n)}else if(arguments[2]instanceof Pn&&arguments[0]instanceof Gi&&arguments[1]instanceof Mt){var y=arguments[0],w=arguments[1],_=arguments[2];Vs.computeDistance(y.getExteriorRing(),w,_);for(var T=0;T<y.getNumInteriorRing();T++)Vs.computeDistance(y.getInteriorRingN(T),w,_)}else if(arguments[2]instanceof Pn&&arguments[0]instanceof He&&arguments[1]instanceof Mt){var E=arguments[0],P=arguments[1],z=arguments[2];if(E instanceof Ci)Vs.computeDistance(E,P,z);else if(E instanceof Gi)Vs.computeDistance(E,P,z);else if(E instanceof Nn)for(var N=E,B=0;B<N.getNumGeometries();B++){var R=N.getGeometryN(B);Vs.computeDistance(R,P,z)}else z.setMinimum(E.getCoordinate(),P)}else if(arguments[2]instanceof Pn&&arguments[0]instanceof Oe&&arguments[1]instanceof Mt){var Y=arguments[0],nt=arguments[1],F=arguments[2],Z=Y.closestPoint(nt);F.setMinimum(Z,nt)}};var Wo=function(){this._g0=null,this._g1=null,this._ptDist=new Pn,this._densifyFrac=0;var e=arguments[0],n=arguments[1];this._g0=e,this._g1=n},Jb={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Wo.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Wo.prototype.setDensifyFraction=function(e){if(e>1||e<=0)throw new xi("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=e},Wo.prototype.compute=function(e,n){this.computeOrientedDistance(e,n,this._ptDist),this.computeOrientedDistance(n,e,this._ptDist)},Wo.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Wo.prototype.computeOrientedDistance=function(e,n,s){var a=new sh(n);if(e.apply(a),s.setMaximum(a.getMaxPointDistance()),this._densifyFrac>0){var c=new Zl(n,this._densifyFrac);e.apply(c),s.setMaximum(c.getMaxPointDistance())}},Wo.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Wo.prototype.interfaces_=function(){return[]},Wo.prototype.getClass=function(){return Wo},Wo.distance=function(){if(arguments.length===2){var e=arguments[0],n=arguments[1],s=new Wo(e,n);return s.distance()}if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2],g=new Wo(a,c);return g.setDensifyFraction(h),g.distance()}},Jb.MaxPointDistanceFilter.get=function(){return sh},Jb.MaxDensifiedByFractionDistanceFilter.get=function(){return Zl},Object.defineProperties(Wo,Jb);var sh=function(){this._maxPtDist=new Pn,this._minPtDist=new Pn,this._euclideanDist=new Vs,this._geom=null;var e=arguments[0];this._geom=e};sh.prototype.filter=function(e){this._minPtDist.initialize(),Vs.computeDistance(this._geom,e,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},sh.prototype.getMaxPointDistance=function(){return this._maxPtDist},sh.prototype.interfaces_=function(){return[fa]},sh.prototype.getClass=function(){return sh};var Zl=function(){this._maxPtDist=new Pn,this._minPtDist=new Pn,this._geom=null,this._numSubSegs=0;var e=arguments[0],n=arguments[1];this._geom=e,this._numSubSegs=Math.trunc(Math.round(1/n))};Zl.prototype.filter=function(e,n){var s=this;if(n===0)return null;for(var a=e.getCoordinate(n-1),c=e.getCoordinate(n),h=(c.x-a.x)/this._numSubSegs,g=(c.y-a.y)/this._numSubSegs,y=0;y<this._numSubSegs;y++){var w=a.x+y*h,_=a.y+y*g,T=new Mt(w,_);s._minPtDist.initialize(),Vs.computeDistance(s._geom,T,s._minPtDist),s._maxPtDist.setMaximum(s._minPtDist)}},Zl.prototype.isDone=function(){return!1},Zl.prototype.isGeometryChanged=function(){return!1},Zl.prototype.getMaxPointDistance=function(){return this._maxPtDist},Zl.prototype.interfaces_=function(){return[ds]},Zl.prototype.getClass=function(){return Zl};var uo=function(e,n,s){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=e||null,this._bufDistance=n||null,this._result=s||null},Qb={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};uo.prototype.checkMaximumDistance=function(e,n,s){var a=new Wo(n,e);if(a.setDensifyFraction(.25),this._maxDistanceFound=a.orientedDistance(),this._maxDistanceFound>s){this._isValid=!1;var c=a.getCoordinates();this._errorLocation=c[1],this._errorIndicator=e.getFactory().createLineString(c),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+cs.toLineString(c[0],c[1])+")"}},uo.prototype.isValid=function(){var e=Math.abs(this._bufDistance),n=uo.MAX_DISTANCE_DIFF_FRAC*e;return this._minValidDistance=e-n,this._maxValidDistance=e+n,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),uo.VERBOSE&&pn.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},uo.prototype.checkNegativeValid=function(){if(!(this._input instanceof Gi||this._input instanceof ma||this._input instanceof Nn))return null;var e=this.getPolygonLines(this._input);if(this.checkMinimumDistance(e,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(e,this._result,this._maxValidDistance)},uo.prototype.getErrorIndicator=function(){return this._errorIndicator},uo.prototype.checkMinimumDistance=function(e,n,s){var a=new vn(e,n,s);if(this._minDistanceFound=a.distance(),this._minDistanceFound<s){this._isValid=!1;var c=a.nearestPoints();this._errorLocation=a.nearestPoints()[1],this._errorIndicator=e.getFactory().createLineString(c),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+cs.toLineString(c[0],c[1])+" )"}},uo.prototype.checkPositiveValid=function(){var e=this._result.getBoundary();if(this.checkMinimumDistance(this._input,e,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,e,this._maxValidDistance)},uo.prototype.getErrorLocation=function(){return this._errorLocation},uo.prototype.getPolygonLines=function(e){for(var n=new he,s=new mn(n),a=el.getPolygons(e).iterator();a.hasNext();)a.next().apply(s);return e.getFactory().buildGeometry(n)},uo.prototype.getErrorMessage=function(){return this._errMsg},uo.prototype.interfaces_=function(){return[]},uo.prototype.getClass=function(){return uo},Qb.VERBOSE.get=function(){return!1},Qb.MAX_DISTANCE_DIFF_FRAC.get=function(){return .012},Object.defineProperties(uo,Qb);var yn=function(e,n,s){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=e||null,this._distance=n||null,this._result=s||null},$b={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};yn.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},yn.prototype.checkEnvelope=function(){if(this._distance<0)return null;var e=this._distance*yn.MAX_ENV_DIFF_FRAC;e===0&&(e=.001);var n=new Re(this._input.getEnvelopeInternal());n.expandBy(this._distance);var s=new Re(this._result.getEnvelopeInternal());s.expandBy(e),s.contains(n)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(s)),this.report("Envelope")},yn.prototype.checkDistance=function(){var e=new uo(this._input,this._distance,this._result);e.isValid()||(this._isValid=!1,this._errorMsg=e.getErrorMessage(),this._errorLocation=e.getErrorLocation(),this._errorIndicator=e.getErrorIndicator()),this.report("Distance")},yn.prototype.checkArea=function(){var e=this._input.getArea(),n=this._result.getArea();this._distance>0&&e>n&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&e<n&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},yn.prototype.checkPolygonal=function(){this._result instanceof Gi||this._result instanceof ma||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},yn.prototype.getErrorIndicator=function(){return this._errorIndicator},yn.prototype.getErrorLocation=function(){return this._errorLocation},yn.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},yn.prototype.report=function(e){if(!yn.VERBOSE)return null;pn.out.println("Check "+e+": "+(this._isValid?"passed":"FAILED"))},yn.prototype.getErrorMessage=function(){return this._errorMsg},yn.prototype.interfaces_=function(){return[]},yn.prototype.getClass=function(){return yn},yn.isValidMsg=function(e,n,s){var a=new yn(e,n,s);return a.isValid()?null:a.getErrorMessage()},yn.isValid=function(e,n,s){return!!new yn(e,n,s).isValid()},$b.VERBOSE.get=function(){return!1},$b.MAX_ENV_DIFF_FRAC.get=function(){return .012},Object.defineProperties(yn,$b);var Ws=function(){this._pts=null,this._data=null;var e=arguments[0],n=arguments[1];this._pts=e,this._data=n};Ws.prototype.getCoordinates=function(){return this._pts},Ws.prototype.size=function(){return this._pts.length},Ws.prototype.getCoordinate=function(e){return this._pts[e]},Ws.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Ws.prototype.getSegmentOctant=function(e){return e===this._pts.length-1?-1:th.octant(this.getCoordinate(e),this.getCoordinate(e+1))},Ws.prototype.setData=function(e){this._data=e},Ws.prototype.getData=function(){return this._data},Ws.prototype.toString=function(){return cs.toLineString(new Li(this._pts))},Ws.prototype.interfaces_=function(){return[ya]},Ws.prototype.getClass=function(){return Ws};var rn=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new he,this._intersectionCount=0,this._keepIntersections=!0;var e=arguments[0];this._li=e,this._interiorIntersection=null};rn.prototype.getInteriorIntersection=function(){return this._interiorIntersection},rn.prototype.setCheckEndSegmentsOnly=function(e){this._isCheckEndSegmentsOnly=e},rn.prototype.getIntersectionSegments=function(){return this._intSegments},rn.prototype.count=function(){return this._intersectionCount},rn.prototype.getIntersections=function(){return this._intersections},rn.prototype.setFindAllIntersections=function(e){this._findAllIntersections=e},rn.prototype.setKeepIntersections=function(e){this._keepIntersections=e},rn.prototype.processIntersections=function(e,n,s,a){if(!this._findAllIntersections&&this.hasIntersection()||e===s&&n===a||this._isCheckEndSegmentsOnly&&!(this.isEndSegment(e,n)||this.isEndSegment(s,a)))return null;var c=e.getCoordinates()[n],h=e.getCoordinates()[n+1],g=s.getCoordinates()[a],y=s.getCoordinates()[a+1];this._li.computeIntersection(c,h,g,y),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=c,this._intSegments[1]=h,this._intSegments[2]=g,this._intSegments[3]=y,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},rn.prototype.isEndSegment=function(e,n){return n===0||n>=e.size()-2},rn.prototype.hasIntersection=function(){return this._interiorIntersection!==null},rn.prototype.isDone=function(){return!this._findAllIntersections&&this._interiorIntersection!==null},rn.prototype.interfaces_=function(){return[qc]},rn.prototype.getClass=function(){return rn},rn.createAllIntersectionsFinder=function(e){var n=new rn(e);return n.setFindAllIntersections(!0),n},rn.createAnyIntersectionFinder=function(e){return new rn(e)},rn.createIntersectionCounter=function(e){var n=new rn(e);return n.setFindAllIntersections(!0),n.setKeepIntersections(!1),n};var vs=function(){this._li=new Bc,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var e=arguments[0];this._segStrings=e};vs.prototype.execute=function(){if(this._segInt!==null)return null;this.checkInteriorIntersections()},vs.prototype.getIntersections=function(){return this._segInt.getIntersections()},vs.prototype.isValid=function(){return this.execute(),this._isValid},vs.prototype.setFindAllIntersections=function(e){this._findAllIntersections=e},vs.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new rn(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var e=new Xb;if(e.setSegmentIntersector(this._segInt),e.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},vs.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Ja(this.getErrorMessage(),this._segInt.getInteriorIntersection())},vs.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var e=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+cs.toLineString(e[0],e[1])+" and "+cs.toLineString(e[2],e[3])},vs.prototype.interfaces_=function(){return[]},vs.prototype.getClass=function(){return vs},vs.computeIntersections=function(e){var n=new vs(e);return n.setFindAllIntersections(!0),n.isValid(),n.getIntersections()};var Zc=function e(){this._nv=null;var n=arguments[0];this._nv=new vs(e.toSegmentStrings(n))};Zc.prototype.checkValid=function(){this._nv.checkValid()},Zc.prototype.interfaces_=function(){return[]},Zc.prototype.getClass=function(){return Zc},Zc.toSegmentStrings=function(e){for(var n=new he,s=e.iterator();s.hasNext();){var a=s.next();n.add(new Ws(a.getCoordinates(),a))}return n},Zc.checkValid=function(e){new Zc(e).checkValid()};var ah=function(e){this._mapOp=e};ah.prototype.map=function(e){for(var n=new he,s=0;s<e.getNumGeometries();s++){var a=this._mapOp.map(e.getGeometryN(s));a.isEmpty()||n.add(a)}return e.getFactory().createGeometryCollection(cr.toGeometryArray(n))},ah.prototype.interfaces_=function(){return[]},ah.prototype.getClass=function(){return ah},ah.map=function(e,n){return new ah(n).map(e)};var Zs=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new he,this._resultLineList=new he;var e=arguments[0],n=arguments[1],s=arguments[2];this._op=e,this._geometryFactory=n,this._ptLocator=s};Zs.prototype.collectLines=function(e){for(var n=this,s=this._op.getGraph().getEdgeEnds().iterator();s.hasNext();){var a=s.next();n.collectLineEdge(a,e,n._lineEdgesList),n.collectBoundaryTouchEdge(a,e,n._lineEdgesList)}},Zs.prototype.labelIsolatedLine=function(e,n){var s=this._ptLocator.locate(e.getCoordinate(),this._op.getArgGeometry(n));e.getLabel().setLocation(n,s)},Zs.prototype.build=function(e){return this.findCoveredLineEdges(),this.collectLines(e),this.buildLines(e),this._resultLineList},Zs.prototype.collectLineEdge=function(e,n,s){var a=e.getLabel(),c=e.getEdge();e.isLineEdge()&&(e.isVisited()||!Qe.isResultOfOp(a,n)||c.isCovered()||(s.add(c),e.setVisitedEdge(!0)))},Zs.prototype.findCoveredLineEdges=function(){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();)e.next().getEdges().findCoveredLineEdges();for(var n=this._op.getGraph().getEdgeEnds().iterator();n.hasNext();){var s=n.next(),a=s.getEdge();if(s.isLineEdge()&&!a.isCoveredSet()){var c=this._op.isCoveredByA(s.getCoordinate());a.setCovered(c)}}},Zs.prototype.labelIsolatedLines=function(e){for(var n=e.iterator();n.hasNext();){var s=n.next(),a=s.getLabel();s.isIsolated()&&(a.isNull(0)?this.labelIsolatedLine(s,0):this.labelIsolatedLine(s,1))}},Zs.prototype.buildLines=function(e){for(var n=this._lineEdgesList.iterator();n.hasNext();){var s=n.next(),a=this._geometryFactory.createLineString(s.getCoordinates());this._resultLineList.add(a),s.setInResult(!0)}},Zs.prototype.collectBoundaryTouchEdge=function(e,n,s){var a=e.getLabel();return e.isLineEdge()||e.isVisited()||e.isInteriorAreaEdge()||e.getEdge().isInResult()?null:($e.isTrue(!(e.isInResult()||e.getSym().isInResult())||!e.getEdge().isInResult()),void(Qe.isResultOfOp(a,n)&&n===Qe.INTERSECTION&&(s.add(e.getEdge()),e.setVisitedEdge(!0))))},Zs.prototype.interfaces_=function(){return[]},Zs.prototype.getClass=function(){return Zs};var lh=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new he;var e=arguments[0],n=arguments[1];this._op=e,this._geometryFactory=n};lh.prototype.filterCoveredNodeToPoint=function(e){var n=e.getCoordinate();if(!this._op.isCoveredByLA(n)){var s=this._geometryFactory.createPoint(n);this._resultPointList.add(s)}},lh.prototype.extractNonCoveredResultNodes=function(e){for(var n=this._op.getGraph().getNodes().iterator();n.hasNext();){var s=n.next();if(!s.isInResult()&&!s.isIncidentEdgeInResult()&&(s.getEdges().getDegree()===0||e===Qe.INTERSECTION)){var a=s.getLabel();Qe.isResultOfOp(a,e)&&this.filterCoveredNodeToPoint(s)}}},lh.prototype.build=function(e){return this.extractNonCoveredResultNodes(e),this._resultPointList},lh.prototype.interfaces_=function(){return[]},lh.prototype.getClass=function(){return lh};var to=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};to.prototype.transformPoint=function(e,n){return this._factory.createPoint(this.transformCoordinates(e.getCoordinateSequence(),e))},to.prototype.transformPolygon=function(e,n){var s=!0,a=this.transformLinearRing(e.getExteriorRing(),e);a!==null&&a instanceof ga&&!a.isEmpty()||(s=!1);for(var c=new he,h=0;h<e.getNumInteriorRing();h++){var g=this.transformLinearRing(e.getInteriorRingN(h),e);g===null||g.isEmpty()||(g instanceof ga||(s=!1),c.add(g))}if(s)return this._factory.createPolygon(a,c.toArray([]));var y=new he;return a!==null&&y.add(a),y.addAll(c),this._factory.buildGeometry(y)},to.prototype.createCoordinateSequence=function(e){return this._factory.getCoordinateSequenceFactory().create(e)},to.prototype.getInputGeometry=function(){return this._inputGeom},to.prototype.transformMultiLineString=function(e,n){for(var s=new he,a=0;a<e.getNumGeometries();a++){var c=this.transformLineString(e.getGeometryN(a),e);c!==null&&(c.isEmpty()||s.add(c))}return this._factory.buildGeometry(s)},to.prototype.transformCoordinates=function(e,n){return this.copy(e)},to.prototype.transformLineString=function(e,n){return this._factory.createLineString(this.transformCoordinates(e.getCoordinateSequence(),e))},to.prototype.transformMultiPoint=function(e,n){for(var s=new he,a=0;a<e.getNumGeometries();a++){var c=this.transformPoint(e.getGeometryN(a),e);c!==null&&(c.isEmpty()||s.add(c))}return this._factory.buildGeometry(s)},to.prototype.transformMultiPolygon=function(e,n){for(var s=new he,a=0;a<e.getNumGeometries();a++){var c=this.transformPolygon(e.getGeometryN(a),e);c!==null&&(c.isEmpty()||s.add(c))}return this._factory.buildGeometry(s)},to.prototype.copy=function(e){return e.copy()},to.prototype.transformGeometryCollection=function(e,n){for(var s=new he,a=0;a<e.getNumGeometries();a++){var c=this.transform(e.getGeometryN(a));c!==null&&(this._pruneEmptyGeometry&&c.isEmpty()||s.add(c))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(cr.toGeometryArray(s)):this._factory.buildGeometry(s)},to.prototype.transform=function(e){if(this._inputGeom=e,this._factory=e.getFactory(),e instanceof ao)return this.transformPoint(e,null);if(e instanceof Sd)return this.transformMultiPoint(e,null);if(e instanceof ga)return this.transformLinearRing(e,null);if(e instanceof Ci)return this.transformLineString(e,null);if(e instanceof Hc)return this.transformMultiLineString(e,null);if(e instanceof Gi)return this.transformPolygon(e,null);if(e instanceof ma)return this.transformMultiPolygon(e,null);if(e instanceof Nn)return this.transformGeometryCollection(e,null);throw new xi("Unknown Geometry subtype: "+e.getClass().getName())},to.prototype.transformLinearRing=function(e,n){var s=this.transformCoordinates(e.getCoordinateSequence(),e);if(s===null)return this._factory.createLinearRing(null);var a=s.size();return a>0&&a<4&&!this._preserveType?this._factory.createLineString(s):this._factory.createLinearRing(s)},to.prototype.interfaces_=function(){return[]},to.prototype.getClass=function(){return to};var ka=function e(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new Oe,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Ci&&typeof arguments[1]=="number"){var n=arguments[0],s=arguments[1];e.call(this,n.getCoordinates(),s)}else if(arguments[0]instanceof Array&&typeof arguments[1]=="number"){var a=arguments[0],c=arguments[1];this._srcPts=a,this._isClosed=e.isClosed(a),this._snapTolerance=c}};ka.prototype.snapVertices=function(e,n){for(var s=this._isClosed?e.size()-1:e.size(),a=0;a<s;a++){var c=e.get(a),h=this.findSnapForVertex(c,n);h!==null&&(e.set(a,new Mt(h)),a===0&&this._isClosed&&e.set(e.size()-1,new Mt(h)))}},ka.prototype.findSnapForVertex=function(e,n){for(var s=0;s<n.length;s++){if(e.equals2D(n[s]))return null;if(e.distance(n[s])<this._snapTolerance)return n[s]}return null},ka.prototype.snapTo=function(e){var n=new Tf(this._srcPts);return this.snapVertices(n,e),this.snapSegments(n,e),n.toCoordinateArray()},ka.prototype.snapSegments=function(e,n){if(n.length===0)return null;var s=n.length;n[0].equals2D(n[n.length-1])&&(s=n.length-1);for(var a=0;a<s;a++){var c=n[a],h=this.findSegmentIndexToSnap(c,e);h>=0&&e.add(h+1,new Mt(c),!1)}},ka.prototype.findSegmentIndexToSnap=function(e,n){for(var s=this,a=Ke.MAX_VALUE,c=-1,h=0;h<n.size()-1;h++){if(s._seg.p0=n.get(h),s._seg.p1=n.get(h+1),s._seg.p0.equals2D(e)||s._seg.p1.equals2D(e)){if(s._allowSnappingToSourceVertices)continue;return-1}var g=s._seg.distance(e);g<s._snapTolerance&&g<a&&(a=g,c=h)}return c},ka.prototype.setAllowSnappingToSourceVertices=function(e){this._allowSnappingToSourceVertices=e},ka.prototype.interfaces_=function(){return[]},ka.prototype.getClass=function(){return ka},ka.isClosed=function(e){return!(e.length<=1)&&e[0].equals2D(e[e.length-1])};var Ri=function(e){this._srcGeom=e||null},i2={SNAP_PRECISION_FACTOR:{configurable:!0}};Ri.prototype.snapTo=function(e,n){var s=this.extractTargetCoordinates(e);return new n2(n,s).transform(this._srcGeom)},Ri.prototype.snapToSelf=function(e,n){var s=this.extractTargetCoordinates(this._srcGeom),a=new n2(e,s,!0).transform(this._srcGeom),c=a;return n&&Ge(c,jl)&&(c=a.buffer(0)),c},Ri.prototype.computeSnapTolerance=function(e){return this.computeMinimumSegmentLength(e)/10},Ri.prototype.extractTargetCoordinates=function(e){for(var n=new zs,s=e.getCoordinates(),a=0;a<s.length;a++)n.add(s[a]);return n.toArray(new Array(0).fill(null))},Ri.prototype.computeMinimumSegmentLength=function(e){for(var n=Ke.MAX_VALUE,s=0;s<e.length-1;s++){var a=e[s].distance(e[s+1]);a<n&&(n=a)}return n},Ri.prototype.interfaces_=function(){return[]},Ri.prototype.getClass=function(){return Ri},Ri.snap=function(e,n,s){var a=new Array(2).fill(null),c=new Ri(e);a[0]=c.snapTo(n,s);var h=new Ri(n);return a[1]=h.snapTo(a[0],s),a},Ri.computeOverlaySnapTolerance=function(){if(arguments.length===1){var e=arguments[0],n=Ri.computeSizeBasedSnapTolerance(e),s=e.getPrecisionModel();if(s.getType()===Kr.FIXED){var a=1/s.getScale()*2/1.415;a>n&&(n=a)}return n}if(arguments.length===2){var c=arguments[0],h=arguments[1];return Math.min(Ri.computeOverlaySnapTolerance(c),Ri.computeOverlaySnapTolerance(h))}},Ri.computeSizeBasedSnapTolerance=function(e){var n=e.getEnvelopeInternal();return Math.min(n.getHeight(),n.getWidth())*Ri.SNAP_PRECISION_FACTOR},Ri.snapToSelf=function(e,n,s){return new Ri(e).snapToSelf(n,s)},i2.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(Ri,i2);var n2=function(e){function n(s,a,c){e.call(this),this._snapTolerance=s||null,this._snapPts=a||null,this._isSelfSnap=c!==void 0&&c}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.snapLine=function(s,a){var c=new ka(s,this._snapTolerance);return c.setAllowSnappingToSourceVertices(this._isSelfSnap),c.snapTo(a)},n.prototype.transformCoordinates=function(s,a){var c=s.toCoordinateArray(),h=this.snapLine(c,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(h)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(to),Un=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Un.prototype.getCommon=function(){return Ke.longBitsToDouble(this._commonBits)},Un.prototype.add=function(e){var n=Ke.doubleToLongBits(e);return this._isFirst?(this._commonBits=n,this._commonSignExp=Un.signExpBits(this._commonBits),this._isFirst=!1,null):Un.signExpBits(n)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=Un.numCommonMostSigMantissaBits(this._commonBits,n),void(this._commonBits=Un.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},Un.prototype.toString=function(){if(arguments.length===1){var e=arguments[0],n=Ke.longBitsToDouble(e),s=Ke.toBinaryString(e),a="0000000000000000000000000000000000000000000000000000000000000000"+s,c=a.substring(a.length-64),h=c.substring(0,1)+"  "+c.substring(1,12)+"(exp) "+c.substring(12)+" [ "+n+" ]";return h}},Un.prototype.interfaces_=function(){return[]},Un.prototype.getClass=function(){return Un},Un.getBit=function(e,n){return e&1<<n?1:0},Un.signExpBits=function(e){return e>>52},Un.zeroLowerBits=function(e,n){return e&~((1<<n)-1)},Un.numCommonMostSigMantissaBits=function(e,n){for(var s=0,a=52;a>=0;a--){if(Un.getBit(e,a)!==Un.getBit(n,a))return s;s++}return 52};var Yl=function(){this._commonCoord=null,this._ccFilter=new ch},tw={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};Yl.prototype.addCommonBits=function(e){var n=new Xl(this._commonCoord);e.apply(n),e.geometryChanged()},Yl.prototype.removeCommonBits=function(e){if(this._commonCoord.x===0&&this._commonCoord.y===0)return e;var n=new Mt(this._commonCoord);n.x=-n.x,n.y=-n.y;var s=new Xl(n);return e.apply(s),e.geometryChanged(),e},Yl.prototype.getCommonCoordinate=function(){return this._commonCoord},Yl.prototype.add=function(e){e.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},Yl.prototype.interfaces_=function(){return[]},Yl.prototype.getClass=function(){return Yl},tw.CommonCoordinateFilter.get=function(){return ch},tw.Translater.get=function(){return Xl},Object.defineProperties(Yl,tw);var ch=function(){this._commonBitsX=new Un,this._commonBitsY=new Un};ch.prototype.filter=function(e){this._commonBitsX.add(e.x),this._commonBitsY.add(e.y)},ch.prototype.getCommonCoordinate=function(){return new Mt(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},ch.prototype.interfaces_=function(){return[fa]},ch.prototype.getClass=function(){return ch};var Xl=function(){this.trans=null;var e=arguments[0];this.trans=e};Xl.prototype.filter=function(e,n){var s=e.getOrdinate(n,0)+this.trans.x,a=e.getOrdinate(n,1)+this.trans.y;e.setOrdinate(n,0,s),e.setOrdinate(n,1,a)},Xl.prototype.isDone=function(){return!1},Xl.prototype.isGeometryChanged=function(){return!0},Xl.prototype.interfaces_=function(){return[ds]},Xl.prototype.getClass=function(){return Xl};var nn=function(e,n){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=e,this._geom[1]=n,this.computeSnapTolerance()};nn.prototype.selfSnap=function(e){return new Ri(e).snapTo(e,this._snapTolerance)},nn.prototype.removeCommonBits=function(e){this._cbr=new Yl,this._cbr.add(e[0]),this._cbr.add(e[1]);var n=new Array(2).fill(null);return n[0]=this._cbr.removeCommonBits(e[0].copy()),n[1]=this._cbr.removeCommonBits(e[1].copy()),n},nn.prototype.prepareResult=function(e){return this._cbr.addCommonBits(e),e},nn.prototype.getResultGeometry=function(e){var n=this.snap(this._geom),s=Qe.overlayOp(n[0],n[1],e);return this.prepareResult(s)},nn.prototype.checkValid=function(e){e.isValid()||pn.out.println("Snapped geometry is invalid")},nn.prototype.computeSnapTolerance=function(){this._snapTolerance=Ri.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},nn.prototype.snap=function(e){var n=this.removeCommonBits(e);return Ri.snap(n[0],n[1],this._snapTolerance)},nn.prototype.interfaces_=function(){return[]},nn.prototype.getClass=function(){return nn},nn.overlayOp=function(e,n,s){return new nn(e,n).getResultGeometry(s)},nn.union=function(e,n){return nn.overlayOp(e,n,Qe.UNION)},nn.intersection=function(e,n){return nn.overlayOp(e,n,Qe.INTERSECTION)},nn.symDifference=function(e,n){return nn.overlayOp(e,n,Qe.SYMDIFFERENCE)},nn.difference=function(e,n){return nn.overlayOp(e,n,Qe.DIFFERENCE)};var Gn=function(e,n){this._geom=new Array(2).fill(null),this._geom[0]=e,this._geom[1]=n};Gn.prototype.getResultGeometry=function(e){var n=null,s=!1,a=null;try{n=Qe.overlayOp(this._geom[0],this._geom[1],e),s=!0}catch(c){if(!(c instanceof Wa))throw c;a=c}if(!s)try{n=nn.overlayOp(this._geom[0],this._geom[1],e)}catch(c){throw c instanceof Wa?a:c}return n},Gn.prototype.interfaces_=function(){return[]},Gn.prototype.getClass=function(){return Gn},Gn.overlayOp=function(e,n,s){return new Gn(e,n).getResultGeometry(s)},Gn.union=function(e,n){return Gn.overlayOp(e,n,Qe.UNION)},Gn.intersection=function(e,n){return Gn.overlayOp(e,n,Qe.INTERSECTION)},Gn.symDifference=function(e,n){return Gn.overlayOp(e,n,Qe.SYMDIFFERENCE)},Gn.difference=function(e,n){return Gn.overlayOp(e,n,Qe.DIFFERENCE)};var jf=function(){this.mce=null,this.chainIndex=null;var e=arguments[0],n=arguments[1];this.mce=e,this.chainIndex=n};jf.prototype.computeIntersections=function(e,n){this.mce.computeIntersectsForChain(this.chainIndex,e.mce,e.chainIndex,n)},jf.prototype.interfaces_=function(){return[]},jf.prototype.getClass=function(){return jf};var ho=function e(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,arguments.length===2){var n=arguments[0],s=arguments[1];this._eventType=e.DELETE,this._xValue=n,this._insertEvent=s}else if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2];this._eventType=e.INSERT,this._label=a,this._xValue=c,this._obj=h}},ew={INSERT:{configurable:!0},DELETE:{configurable:!0}};ho.prototype.isDelete=function(){return this._eventType===ho.DELETE},ho.prototype.setDeleteEventIndex=function(e){this._deleteEventIndex=e},ho.prototype.getObject=function(){return this._obj},ho.prototype.compareTo=function(e){var n=e;return this._xValue<n._xValue?-1:this._xValue>n._xValue?1:this._eventType<n._eventType?-1:this._eventType>n._eventType?1:0},ho.prototype.getInsertEvent=function(){return this._insertEvent},ho.prototype.isInsert=function(){return this._eventType===ho.INSERT},ho.prototype.isSameLabel=function(e){return this._label!==null&&this._label===e._label},ho.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},ho.prototype.interfaces_=function(){return[Bo]},ho.prototype.getClass=function(){return ho},ew.INSERT.get=function(){return 1},ew.DELETE.get=function(){return 2},Object.defineProperties(ho,ew);var _0=function(){};_0.prototype.interfaces_=function(){return[]},_0.prototype.getClass=function(){return _0};var bn=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var e=arguments[0],n=arguments[1],s=arguments[2];this._li=e,this._includeProper=n,this._recordIsolated=s};bn.prototype.isTrivialIntersection=function(e,n,s,a){if(e===s&&this._li.getIntersectionNum()===1){if(bn.isAdjacentSegments(n,a))return!0;if(e.isClosed()){var c=e.getNumPoints()-1;if(n===0&&a===c||a===0&&n===c)return!0}}return!1},bn.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},bn.prototype.setIsDoneIfProperInt=function(e){this._isDoneWhenProperInt=e},bn.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},bn.prototype.isBoundaryPointInternal=function(e,n){for(var s=n.iterator();s.hasNext();){var a=s.next().getCoordinate();if(e.isIntersection(a))return!0}return!1},bn.prototype.hasProperIntersection=function(){return this._hasProper},bn.prototype.hasIntersection=function(){return this._hasIntersection},bn.prototype.isDone=function(){return this._isDone},bn.prototype.isBoundaryPoint=function(e,n){return n!==null&&(!!this.isBoundaryPointInternal(e,n[0])||!!this.isBoundaryPointInternal(e,n[1]))},bn.prototype.setBoundaryNodes=function(e,n){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=e,this._bdyNodes[1]=n},bn.prototype.addIntersections=function(e,n,s,a){if(e===s&&n===a)return null;this.numTests++;var c=e.getCoordinates()[n],h=e.getCoordinates()[n+1],g=s.getCoordinates()[a],y=s.getCoordinates()[a+1];this._li.computeIntersection(c,h,g,y),this._li.hasIntersection()&&(this._recordIsolated&&(e.setIsolated(!1),s.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(e,n,s,a)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(e.addIntersections(this._li,n,0),s.addIntersections(this._li,a,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},bn.prototype.interfaces_=function(){return[]},bn.prototype.getClass=function(){return bn},bn.isAdjacentSegments=function(e,n){return Math.abs(e-n)===1};var eL=function(e){function n(){e.call(this),this.events=new he,this.nOverlaps=null}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.prepareEvents=function(){fs.sort(this.events);for(var s=0;s<this.events.size();s++){var a=this.events.get(s);a.isDelete()&&a.getInsertEvent().setDeleteEventIndex(s)}},n.prototype.computeIntersections=function(){var s=this;if(arguments.length===1){var a=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var c=0;c<this.events.size();c++){var h=s.events.get(c);if(h.isInsert()&&s.processOverlaps(c,h.getDeleteEventIndex(),h,a),a.isDone())break}}else if(arguments.length===3){if(arguments[2]instanceof bn&&Ge(arguments[0],us)&&Ge(arguments[1],us)){var g=arguments[0],y=arguments[1],w=arguments[2];this.addEdges(g,g),this.addEdges(y,y),this.computeIntersections(w)}else if(typeof arguments[2]=="boolean"&&Ge(arguments[0],us)&&arguments[1]instanceof bn){var _=arguments[0],T=arguments[1],E=arguments[2];E?this.addEdges(_,null):this.addEdges(_),this.computeIntersections(T)}}},n.prototype.addEdge=function(s,a){for(var c=s.getMonotoneChainEdge(),h=c.getStartIndexes(),g=0;g<h.length-1;g++){var y=new jf(c,g),w=new ho(a,c.getMinX(g),y);this.events.add(w),this.events.add(new ho(c.getMaxX(g),w))}},n.prototype.processOverlaps=function(s,a,c,h){for(var g=c.getObject(),y=s;y<a;y++){var w=this.events.get(y);if(w.isInsert()){var _=w.getObject();c.isSameLabel(w)||(g.computeIntersections(_,h),this.nOverlaps++)}}},n.prototype.addEdges=function(){var s=this;if(arguments.length===1)for(var a=arguments[0],c=a.iterator();c.hasNext();){var h=c.next();s.addEdge(h,h)}else if(arguments.length===2)for(var g=arguments[0],y=arguments[1],w=g.iterator();w.hasNext();){var _=w.next();s.addEdge(_,y)}},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(_0),Ea=function(){this._min=Ke.POSITIVE_INFINITY,this._max=Ke.NEGATIVE_INFINITY},o2={NodeComparator:{configurable:!0}};Ea.prototype.getMin=function(){return this._min},Ea.prototype.intersects=function(e,n){return!(this._min>n||this._max<e)},Ea.prototype.getMax=function(){return this._max},Ea.prototype.toString=function(){return cs.toLineString(new Mt(this._min,0),new Mt(this._max,0))},Ea.prototype.interfaces_=function(){return[]},Ea.prototype.getClass=function(){return Ea},o2.NodeComparator.get=function(){return Hf},Object.defineProperties(Ea,o2);var Hf=function(){};Hf.prototype.compare=function(e,n){var s=e,a=n,c=(s._min+s._max)/2,h=(a._min+a._max)/2;return c<h?-1:c>h?1:0},Hf.prototype.interfaces_=function(){return[gd]},Hf.prototype.getClass=function(){return Hf};var rL=function(e){function n(){e.call(this),this._item=null;var s=arguments[0],a=arguments[1],c=arguments[2];this._min=s,this._max=a,this._item=c}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.query=function(s,a,c){if(!this.intersects(s,a))return null;c.visitItem(this._item)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(Ea),iL=function(e){function n(){e.call(this),this._node1=null,this._node2=null;var s=arguments[0],a=arguments[1];this._node1=s,this._node2=a,this.buildExtent(this._node1,this._node2)}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.buildExtent=function(s,a){this._min=Math.min(s._min,a._min),this._max=Math.max(s._max,a._max)},n.prototype.query=function(s,a,c){if(!this.intersects(s,a))return null;this._node1!==null&&this._node1.query(s,a,c),this._node2!==null&&this._node2.query(s,a,c)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(Ea),Ta=function(){this._leaves=new he,this._root=null,this._level=0};Ta.prototype.buildTree=function(){fs.sort(this._leaves,new Ea.NodeComparator);for(var e=this._leaves,n=null,s=new he;;){if(this.buildLevel(e,s),s.size()===1)return s.get(0);n=e,e=s,s=n}},Ta.prototype.insert=function(e,n,s){if(this._root!==null)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new rL(e,n,s))},Ta.prototype.query=function(e,n,s){this.init(),this._root.query(e,n,s)},Ta.prototype.buildRoot=function(){if(this._root!==null)return null;this._root=this.buildTree()},Ta.prototype.printNode=function(e){pn.out.println(cs.toLineString(new Mt(e._min,this._level),new Mt(e._max,this._level)))},Ta.prototype.init=function(){if(this._root!==null)return null;this.buildRoot()},Ta.prototype.buildLevel=function(e,n){this._level++,n.clear();for(var s=0;s<e.size();s+=2){var a=e.get(s);if((s+1<e.size()?e.get(s):null)===null)n.add(a);else{var c=new iL(e.get(s),e.get(s+1));n.add(c)}}},Ta.prototype.interfaces_=function(){return[]},Ta.prototype.getClass=function(){return Ta};var Rd=function(){this._items=new he};Rd.prototype.visitItem=function(e){this._items.add(e)},Rd.prototype.getItems=function(){return this._items},Rd.prototype.interfaces_=function(){return[Hl]},Rd.prototype.getClass=function(){return Rd};var Od=function(){this._index=null;var e=arguments[0];if(!Ge(e,jl))throw new xi("Argument must be Polygonal");this._index=new Yc(e)},rw={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};Od.prototype.locate=function(e){var n=new Os(e),s=new zd(n);return this._index.query(e.y,e.y,s),n.getLocation()},Od.prototype.interfaces_=function(){return[Id]},Od.prototype.getClass=function(){return Od},rw.SegmentVisitor.get=function(){return zd},rw.IntervalIndexedGeometry.get=function(){return Yc},Object.defineProperties(Od,rw);var zd=function(){this._counter=null;var e=arguments[0];this._counter=e};zd.prototype.visitItem=function(e){var n=e;this._counter.countSegment(n.getCoordinate(0),n.getCoordinate(1))},zd.prototype.interfaces_=function(){return[Hl]},zd.prototype.getClass=function(){return zd};var Yc=function(){this._index=new Ta;var e=arguments[0];this.init(e)};Yc.prototype.init=function(e){for(var n=mn.getLines(e).iterator();n.hasNext();){var s=n.next().getCoordinates();this.addLine(s)}},Yc.prototype.addLine=function(e){for(var n=1;n<e.length;n++){var s=new Oe(e[n-1],e[n]),a=Math.min(s.p0.y,s.p1.y),c=Math.max(s.p0.y,s.p1.y);this._index.insert(a,c,s)}},Yc.prototype.query=function(){if(arguments.length===2){var e=arguments[0],n=arguments[1],s=new Rd;return this._index.query(e,n,s),s.getItems()}if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2];this._index.query(a,c,h)}},Yc.prototype.interfaces_=function(){return[]},Yc.prototype.getClass=function(){return Yc};var Uf=function(e){function n(){if(e.call(this),this._parentGeom=null,this._lineEdgeMap=new jk,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new ms,arguments.length===2){var s=arguments[0],a=arguments[1],c=Ho.OGC_SFS_BOUNDARY_RULE;this._argIndex=s,this._parentGeom=a,this._boundaryNodeRule=c,a!==null&&this.add(a)}else if(arguments.length===3){var h=arguments[0],g=arguments[1],y=arguments[2];this._argIndex=h,this._parentGeom=g,this._boundaryNodeRule=y,g!==null&&this.add(g)}}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.insertBoundaryPoint=function(s,a){var c=this._nodes.addNode(a).getLabel(),h=1;c.getLocation(s,oe.ON)===jt.BOUNDARY&&h++;var g=n.determineBoundary(this._boundaryNodeRule,h);c.setLocation(s,g)},n.prototype.computeSelfNodes=function(){if(arguments.length===2){var s=arguments[0],a=arguments[1];return this.computeSelfNodes(s,a,!1)}if(arguments.length===3){var c=arguments[0],h=arguments[1],g=arguments[2],y=new bn(c,!0,!1);y.setIsDoneIfProperInt(g);var w=this.createEdgeSetIntersector(),_=this._parentGeom instanceof ga||this._parentGeom instanceof Gi||this._parentGeom instanceof ma,T=h||!_;return w.computeIntersections(this._edges,y,T),this.addSelfIntersectionNodes(this._argIndex),y}},n.prototype.computeSplitEdges=function(s){for(var a=this._edges.iterator();a.hasNext();)a.next().eiList.addSplitEdges(s)},n.prototype.computeEdgeIntersections=function(s,a,c){var h=new bn(a,c,!0);return h.setBoundaryNodes(this.getBoundaryNodes(),s.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,s._edges,h),h},n.prototype.getGeometry=function(){return this._parentGeom},n.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},n.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},n.prototype.addPoint=function(){if(arguments[0]instanceof ao){var s=arguments[0],a=s.getCoordinate();this.insertPoint(this._argIndex,a,jt.INTERIOR)}else if(arguments[0]instanceof Mt){var c=arguments[0];this.insertPoint(this._argIndex,c,jt.INTERIOR)}},n.prototype.addPolygon=function(s){this.addPolygonRing(s.getExteriorRing(),jt.EXTERIOR,jt.INTERIOR);for(var a=0;a<s.getNumInteriorRing();a++){var c=s.getInteriorRingN(a);this.addPolygonRing(c,jt.INTERIOR,jt.EXTERIOR)}},n.prototype.addEdge=function(s){this.insertEdge(s);var a=s.getCoordinates();this.insertPoint(this._argIndex,a[0],jt.BOUNDARY),this.insertPoint(this._argIndex,a[a.length-1],jt.BOUNDARY)},n.prototype.addLineString=function(s){var a=lr.removeRepeatedPoints(s.getCoordinates());if(a.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=a[0],null;var c=new x0(a,new ri(this._argIndex,jt.INTERIOR));this._lineEdgeMap.put(s,c),this.insertEdge(c),$e.isTrue(a.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,a[0]),this.insertBoundaryPoint(this._argIndex,a[a.length-1])},n.prototype.getInvalidPoint=function(){return this._invalidPoint},n.prototype.getBoundaryPoints=function(){for(var s=this.getBoundaryNodes(),a=new Array(s.size()).fill(null),c=0,h=s.iterator();h.hasNext();){var g=h.next();a[c++]=g.getCoordinate().copy()}return a},n.prototype.getBoundaryNodes=function(){return this._boundaryNodes===null&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},n.prototype.addSelfIntersectionNode=function(s,a,c){if(this.isBoundaryNode(s,a))return null;c===jt.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(s,a):this.insertPoint(s,a,c)},n.prototype.addPolygonRing=function(s,a,c){if(s.isEmpty())return null;var h=lr.removeRepeatedPoints(s.getCoordinates());if(h.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=h[0],null;var g=a,y=c;ve.isCCW(h)&&(g=c,y=a);var w=new x0(h,new ri(this._argIndex,jt.BOUNDARY,g,y));this._lineEdgeMap.put(s,w),this.insertEdge(w),this.insertPoint(this._argIndex,h[0],jt.BOUNDARY)},n.prototype.insertPoint=function(s,a,c){var h=this._nodes.addNode(a),g=h.getLabel();g===null?h._label=new ri(s,c):g.setLocation(s,c)},n.prototype.createEdgeSetIntersector=function(){return new eL},n.prototype.addSelfIntersectionNodes=function(s){for(var a=this._edges.iterator();a.hasNext();)for(var c=a.next(),h=c.getLabel().getLocation(s),g=c.eiList.iterator();g.hasNext();){var y=g.next();this.addSelfIntersectionNode(s,y.coord,h)}},n.prototype.add=function(){if(arguments.length!==1)return e.prototype.add.apply(this,arguments);var s=arguments[0];if(s.isEmpty())return null;if(s instanceof ma&&(this._useBoundaryDeterminationRule=!1),s instanceof Gi)this.addPolygon(s);else if(s instanceof Ci)this.addLineString(s);else if(s instanceof ao)this.addPoint(s);else if(s instanceof Sd)this.addCollection(s);else if(s instanceof Hc)this.addCollection(s);else if(s instanceof ma)this.addCollection(s);else{if(!(s instanceof Nn))throw new Error(s.getClass().getName());this.addCollection(s)}},n.prototype.addCollection=function(s){for(var a=0;a<s.getNumGeometries();a++){var c=s.getGeometryN(a);this.add(c)}},n.prototype.locate=function(s){return Ge(this._parentGeom,jl)&&this._parentGeom.getNumGeometries()>50?(this._areaPtLocator===null&&(this._areaPtLocator=new Od(this._parentGeom)),this._areaPtLocator.locate(s)):this._ptLocator.locate(s,this._parentGeom)},n.prototype.findEdge=function(){if(arguments.length===1){var s=arguments[0];return this._lineEdgeMap.get(s)}return e.prototype.findEdge.apply(this,arguments)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n.determineBoundary=function(s,a){return s.isInBoundary(a)?jt.BOUNDARY:jt.INTERIOR},n}(Ti),Nd=function(){if(this._li=new Bc,this._resultPrecisionModel=null,this._arg=null,arguments.length===1){var e=arguments[0];this.setComputationPrecision(e.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new Uf(0,e)}else if(arguments.length===2){var n=arguments[0],s=arguments[1],a=Ho.OGC_SFS_BOUNDARY_RULE;n.getPrecisionModel().compareTo(s.getPrecisionModel())>=0?this.setComputationPrecision(n.getPrecisionModel()):this.setComputationPrecision(s.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Uf(0,n,a),this._arg[1]=new Uf(1,s,a)}else if(arguments.length===3){var c=arguments[0],h=arguments[1],g=arguments[2];c.getPrecisionModel().compareTo(h.getPrecisionModel())>=0?this.setComputationPrecision(c.getPrecisionModel()):this.setComputationPrecision(h.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Uf(0,c,g),this._arg[1]=new Uf(1,h,g)}};Nd.prototype.getArgGeometry=function(e){return this._arg[e].getGeometry()},Nd.prototype.setComputationPrecision=function(e){this._resultPrecisionModel=e,this._li.setPrecisionModel(this._resultPrecisionModel)},Nd.prototype.interfaces_=function(){return[]},Nd.prototype.getClass=function(){return Nd};var Xc=function(){};Xc.prototype.interfaces_=function(){return[]},Xc.prototype.getClass=function(){return Xc},Xc.map=function(){if(arguments[0]instanceof He&&Ge(arguments[1],Xc.MapOp)){for(var e=arguments[0],n=arguments[1],s=new he,a=0;a<e.getNumGeometries();a++){var c=n.map(e.getGeometryN(a));c!==null&&s.add(c)}return e.getFactory().buildGeometry(s)}if(Ge(arguments[0],Ui)&&Ge(arguments[1],Xc.MapOp)){for(var h=arguments[0],g=arguments[1],y=new he,w=h.iterator();w.hasNext();){var _=w.next(),T=g.map(_);T!==null&&y.add(T)}return y}},Xc.MapOp=function(){};var Qe=function(e){function n(){var s=arguments[0],a=arguments[1];e.call(this,s,a),this._ptLocator=new ms,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new gs,this._resultPolyList=new he,this._resultLineList=new he,this._resultPointList=new he,this._graph=new Ti(new Kk),this._geomFact=s.getFactory()}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.insertUniqueEdge=function(s){var a=this._edgeList.findEqualEdge(s);if(a!==null){var c=a.getLabel(),h=s.getLabel();a.isPointwiseEqual(s)||(h=new ri(s.getLabel())).flip();var g=a.getDepth();g.isNull()&&g.add(c),g.add(h),c.merge(h)}else this._edgeList.add(s)},n.prototype.getGraph=function(){return this._graph},n.prototype.cancelDuplicateResultEdges=function(){for(var s=this._graph.getEdgeEnds().iterator();s.hasNext();){var a=s.next(),c=a.getSym();a.isInResult()&&c.isInResult()&&(a.setInResult(!1),c.setInResult(!1))}},n.prototype.isCoveredByLA=function(s){return!!this.isCovered(s,this._resultLineList)||!!this.isCovered(s,this._resultPolyList)},n.prototype.computeGeometry=function(s,a,c,h){var g=new he;return g.addAll(s),g.addAll(a),g.addAll(c),g.isEmpty()?n.createEmptyResult(h,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(g)},n.prototype.mergeSymLabels=function(){for(var s=this._graph.getNodes().iterator();s.hasNext();)s.next().getEdges().mergeSymLabels()},n.prototype.isCovered=function(s,a){for(var c=a.iterator();c.hasNext();){var h=c.next();if(this._ptLocator.locate(s,h)!==jt.EXTERIOR)return!0}return!1},n.prototype.replaceCollapsedEdges=function(){for(var s=new he,a=this._edgeList.iterator();a.hasNext();){var c=a.next();c.isCollapsed()&&(a.remove(),s.add(c.getCollapsedEdge()))}this._edgeList.addAll(s)},n.prototype.updateNodeLabelling=function(){for(var s=this._graph.getNodes().iterator();s.hasNext();){var a=s.next(),c=a.getEdges().getLabel();a.getLabel().merge(c)}},n.prototype.getResultGeometry=function(s){return this.computeOverlay(s),this._resultGeom},n.prototype.insertUniqueEdges=function(s){for(var a=s.iterator();a.hasNext();){var c=a.next();this.insertUniqueEdge(c)}},n.prototype.computeOverlay=function(s){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var a=new he;this._arg[0].computeSplitEdges(a),this._arg[1].computeSplitEdges(a),this.insertUniqueEdges(a),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Zc.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(s),this.cancelDuplicateResultEdges();var c=new lo(this._geomFact);c.add(this._graph),this._resultPolyList=c.getPolygons();var h=new Zs(this,this._geomFact,this._ptLocator);this._resultLineList=h.build(s);var g=new lh(this,this._geomFact,this._ptLocator);this._resultPointList=g.build(s),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,s)},n.prototype.labelIncompleteNode=function(s,a){var c=this._ptLocator.locate(s.getCoordinate(),this._arg[a].getGeometry());s.getLabel().setLocation(a,c)},n.prototype.copyPoints=function(s){for(var a=this._arg[s].getNodeIterator();a.hasNext();){var c=a.next();this._graph.addNode(c.getCoordinate()).setLabel(s,c.getLabel().getLocation(s))}},n.prototype.findResultAreaEdges=function(s){for(var a=this._graph.getEdgeEnds().iterator();a.hasNext();){var c=a.next(),h=c.getLabel();h.isArea()&&!c.isInteriorAreaEdge()&&n.isResultOfOp(h.getLocation(0,oe.RIGHT),h.getLocation(1,oe.RIGHT),s)&&c.setInResult(!0)}},n.prototype.computeLabelsFromDepths=function(){for(var s=this._edgeList.iterator();s.hasNext();){var a=s.next(),c=a.getLabel(),h=a.getDepth();if(!h.isNull()){h.normalize();for(var g=0;g<2;g++)c.isNull(g)||!c.isArea()||h.isNull(g)||(h.getDelta(g)===0?c.toLine(g):($e.isTrue(!h.isNull(g,oe.LEFT),"depth of LEFT side has not been initialized"),c.setLocation(g,oe.LEFT,h.getLocation(g,oe.LEFT)),$e.isTrue(!h.isNull(g,oe.RIGHT),"depth of RIGHT side has not been initialized"),c.setLocation(g,oe.RIGHT,h.getLocation(g,oe.RIGHT))))}}},n.prototype.computeLabelling=function(){for(var s=this._graph.getNodes().iterator();s.hasNext();)s.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},n.prototype.labelIncompleteNodes=function(){for(var s=this._graph.getNodes().iterator();s.hasNext();){var a=s.next(),c=a.getLabel();a.isIsolated()&&(c.isNull(0)?this.labelIncompleteNode(a,0):this.labelIncompleteNode(a,1)),a.getEdges().updateLabelling(c)}},n.prototype.isCoveredByA=function(s){return!!this.isCovered(s,this._resultPolyList)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(Nd);Qe.overlayOp=function(e,n,s){return new Qe(e,n).getResultGeometry(s)},Qe.intersection=function(e,n){if(e.isEmpty()||n.isEmpty())return Qe.createEmptyResult(Qe.INTERSECTION,e,n,e.getFactory());if(e.isGeometryCollection()){var s=n;return ah.map(e,{interfaces_:function(){return[Xc.MapOp]},map:function(a){return a.intersection(s)}})}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(n),Gn.overlayOp(e,n,Qe.INTERSECTION)},Qe.symDifference=function(e,n){if(e.isEmpty()||n.isEmpty()){if(e.isEmpty()&&n.isEmpty())return Qe.createEmptyResult(Qe.SYMDIFFERENCE,e,n,e.getFactory());if(e.isEmpty())return n.copy();if(n.isEmpty())return e.copy()}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(n),Gn.overlayOp(e,n,Qe.SYMDIFFERENCE)},Qe.resultDimension=function(e,n,s){var a=n.getDimension(),c=s.getDimension(),h=-1;switch(e){case Qe.INTERSECTION:h=Math.min(a,c);break;case Qe.UNION:h=Math.max(a,c);break;case Qe.DIFFERENCE:h=a;break;case Qe.SYMDIFFERENCE:h=Math.max(a,c)}return h},Qe.createEmptyResult=function(e,n,s,a){var c=null;switch(Qe.resultDimension(e,n,s)){case-1:c=a.createGeometryCollection(new Array(0).fill(null));break;case 0:c=a.createPoint();break;case 1:c=a.createLineString();break;case 2:c=a.createPolygon()}return c},Qe.difference=function(e,n){return e.isEmpty()?Qe.createEmptyResult(Qe.DIFFERENCE,e,n,e.getFactory()):n.isEmpty()?e.copy():(e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(n),Gn.overlayOp(e,n,Qe.DIFFERENCE))},Qe.isResultOfOp=function(){if(arguments.length===2){var e=arguments[0],n=arguments[1],s=e.getLocation(0),a=e.getLocation(1);return Qe.isResultOfOp(s,a,n)}if(arguments.length===3){var c=arguments[0],h=arguments[1],g=arguments[2];switch(c===jt.BOUNDARY&&(c=jt.INTERIOR),h===jt.BOUNDARY&&(h=jt.INTERIOR),g){case Qe.INTERSECTION:return c===jt.INTERIOR&&h===jt.INTERIOR;case Qe.UNION:return c===jt.INTERIOR||h===jt.INTERIOR;case Qe.DIFFERENCE:return c===jt.INTERIOR&&h!==jt.INTERIOR;case Qe.SYMDIFFERENCE:return c===jt.INTERIOR&&h!==jt.INTERIOR||c!==jt.INTERIOR&&h===jt.INTERIOR}return!1}},Qe.INTERSECTION=1,Qe.UNION=2,Qe.DIFFERENCE=3,Qe.SYMDIFFERENCE=4;var Kl=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new ms,this._seg=new Oe;var e=arguments[0],n=arguments[1];this._g=e,this._boundaryDistanceTolerance=n,this._linework=this.extractLinework(e)};Kl.prototype.isWithinToleranceOfBoundary=function(e){for(var n=this,s=0;s<this._linework.getNumGeometries();s++)for(var a=n._linework.getGeometryN(s).getCoordinateSequence(),c=0;c<a.size()-1;c++)if(a.getCoordinate(c,n._seg.p0),a.getCoordinate(c+1,n._seg.p1),n._seg.distance(e)<=n._boundaryDistanceTolerance)return!0;return!1},Kl.prototype.getLocation=function(e){return this.isWithinToleranceOfBoundary(e)?jt.BOUNDARY:this._ptLocator.locate(e,this._g)},Kl.prototype.extractLinework=function(e){var n=new Dd;e.apply(n);var s=n.getLinework(),a=cr.toLineStringArray(s);return e.getFactory().createMultiLineString(a)},Kl.prototype.interfaces_=function(){return[]},Kl.prototype.getClass=function(){return Kl};var Dd=function(){this._linework=null,this._linework=new he};Dd.prototype.getLinework=function(){return this._linework},Dd.prototype.filter=function(e){if(e instanceof Gi){var n=e;this._linework.add(n.getExteriorRing());for(var s=0;s<n.getNumInteriorRing();s++)this._linework.add(n.getInteriorRingN(s))}},Dd.prototype.interfaces_=function(){return[Ns]},Dd.prototype.getClass=function(){return Dd};var Kc=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var e=arguments[0];this._g=e};Kc.prototype.extractPoints=function(e,n,s){for(var a=e.getCoordinates(),c=0;c<a.length-1;c++)this.computeOffsetPoints(a[c],a[c+1],n,s)},Kc.prototype.setSidesToGenerate=function(e,n){this._doLeft=e,this._doRight=n},Kc.prototype.getPoints=function(e){for(var n=new he,s=mn.getLines(this._g).iterator();s.hasNext();){var a=s.next();this.extractPoints(a,e,n)}return n},Kc.prototype.computeOffsetPoints=function(e,n,s,a){var c=n.x-e.x,h=n.y-e.y,g=Math.sqrt(c*c+h*h),y=s*c/g,w=s*h/g,_=(n.x+e.x)/2,T=(n.y+e.y)/2;if(this._doLeft){var E=new Mt(_-w,T+y);a.add(E)}if(this._doRight){var P=new Mt(_+w,T-y);a.add(P)}},Kc.prototype.interfaces_=function(){return[]},Kc.prototype.getClass=function(){return Kc};var Mo=function e(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=e.TOLERANCE,this._testCoords=new he;var n=arguments[0],s=arguments[1],a=arguments[2];this._boundaryDistanceTolerance=e.computeBoundaryDistanceTolerance(n,s),this._geom=[n,s,a],this._locFinder=[new Kl(this._geom[0],this._boundaryDistanceTolerance),new Kl(this._geom[1],this._boundaryDistanceTolerance),new Kl(this._geom[2],this._boundaryDistanceTolerance)]},s2={TOLERANCE:{configurable:!0}};Mo.prototype.reportResult=function(e,n,s){pn.out.println("Overlay result invalid - A:"+jt.toLocationSymbol(n[0])+" B:"+jt.toLocationSymbol(n[1])+" expected:"+(s?"i":"e")+" actual:"+jt.toLocationSymbol(n[2]))},Mo.prototype.isValid=function(e){this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]);var n=this.checkValid(e);return n},Mo.prototype.checkValid=function(){var e=this;if(arguments.length===1){for(var n=arguments[0],s=0;s<this._testCoords.size();s++){var a=e._testCoords.get(s);if(!e.checkValid(n,a))return e._invalidLocation=a,!1}return!0}if(arguments.length===2){var c=arguments[0],h=arguments[1];return this._location[0]=this._locFinder[0].getLocation(h),this._location[1]=this._locFinder[1].getLocation(h),this._location[2]=this._locFinder[2].getLocation(h),!!Mo.hasLocation(this._location,jt.BOUNDARY)||this.isValidResult(c,this._location)}},Mo.prototype.addTestPts=function(e){var n=new Kc(e);this._testCoords.addAll(n.getPoints(5*this._boundaryDistanceTolerance))},Mo.prototype.isValidResult=function(e,n){var s=Qe.isResultOfOp(n[0],n[1],e),a=!(s^n[2]===jt.INTERIOR);return a||this.reportResult(e,n,s),a},Mo.prototype.getInvalidLocation=function(){return this._invalidLocation},Mo.prototype.interfaces_=function(){return[]},Mo.prototype.getClass=function(){return Mo},Mo.hasLocation=function(e,n){for(var s=0;s<3;s++)if(e[s]===n)return!0;return!1},Mo.computeBoundaryDistanceTolerance=function(e,n){return Math.min(Ri.computeSizeBasedSnapTolerance(e),Ri.computeSizeBasedSnapTolerance(n))},Mo.isValid=function(e,n,s,a){return new Mo(e,n,a).isValid(s)},s2.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Mo,s2);var Io=function e(n){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=e.extractFactory(n),this._inputGeoms=n};Io.prototype.extractElements=function(e,n){if(e===null)return null;for(var s=0;s<e.getNumGeometries();s++){var a=e.getGeometryN(s);this._skipEmpty&&a.isEmpty()||n.add(a)}},Io.prototype.combine=function(){for(var e=new he,n=this._inputGeoms.iterator();n.hasNext();){var s=n.next();this.extractElements(s,e)}return e.size()===0?this._geomFactory!==null?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(e)},Io.prototype.interfaces_=function(){return[]},Io.prototype.getClass=function(){return Io},Io.combine=function(){if(arguments.length===1){var e=arguments[0],n=new Io(e);return n.combine()}if(arguments.length===2){var s=arguments[0],a=arguments[1],c=new Io(Io.createList(s,a));return c.combine()}if(arguments.length===3){var h=arguments[0],g=arguments[1],y=arguments[2],w=new Io(Io.createList(h,g,y));return w.combine()}},Io.extractFactory=function(e){return e.isEmpty()?null:e.iterator().next().getFactory()},Io.createList=function(){if(arguments.length===2){var e=arguments[0],n=arguments[1],s=new he;return s.add(e),s.add(n),s}if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2],g=new he;return g.add(a),g.add(c),g.add(h),g}};var Ni=function(){this._inputPolys=null,this._geomFactory=null;var e=arguments[0];this._inputPolys=e,this._inputPolys===null&&(this._inputPolys=new he)},a2={STRTREE_NODE_CAPACITY:{configurable:!0}};Ni.prototype.reduceToGeometries=function(e){for(var n=new he,s=e.iterator();s.hasNext();){var a=s.next(),c=null;Ge(a,us)?c=this.unionTree(a):a instanceof He&&(c=a),n.add(c)}return n},Ni.prototype.extractByEnvelope=function(e,n,s){for(var a=new he,c=0;c<n.getNumGeometries();c++){var h=n.getGeometryN(c);h.getEnvelopeInternal().intersects(e)?a.add(h):s.add(h)}return this._geomFactory.buildGeometry(a)},Ni.prototype.unionOptimized=function(e,n){var s=e.getEnvelopeInternal(),a=n.getEnvelopeInternal();if(!s.intersects(a))return Io.combine(e,n);if(e.getNumGeometries()<=1&&n.getNumGeometries()<=1)return this.unionActual(e,n);var c=s.intersection(a);return this.unionUsingEnvelopeIntersection(e,n,c)},Ni.prototype.union=function(){if(this._inputPolys===null)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var e=new qk(Ni.STRTREE_NODE_CAPACITY),n=this._inputPolys.iterator();n.hasNext();){var s=n.next();e.insert(s.getEnvelopeInternal(),s)}this._inputPolys=null;var a=e.itemsTree();return this.unionTree(a)},Ni.prototype.binaryUnion=function(){if(arguments.length===1){var e=arguments[0];return this.binaryUnion(e,0,e.size())}if(arguments.length===3){var n=arguments[0],s=arguments[1],a=arguments[2];if(a-s<=1){var c=Ni.getGeometry(n,s);return this.unionSafe(c,null)}if(a-s==2)return this.unionSafe(Ni.getGeometry(n,s),Ni.getGeometry(n,s+1));var h=Math.trunc((a+s)/2),g=this.binaryUnion(n,s,h),y=this.binaryUnion(n,h,a);return this.unionSafe(g,y)}},Ni.prototype.repeatedUnion=function(e){for(var n=null,s=e.iterator();s.hasNext();){var a=s.next();n=n===null?a.copy():n.union(a)}return n},Ni.prototype.unionSafe=function(e,n){return e===null&&n===null?null:e===null?n.copy():n===null?e.copy():this.unionOptimized(e,n)},Ni.prototype.unionActual=function(e,n){return Ni.restrictToPolygons(e.union(n))},Ni.prototype.unionTree=function(e){var n=this.reduceToGeometries(e);return this.binaryUnion(n)},Ni.prototype.unionUsingEnvelopeIntersection=function(e,n,s){var a=new he,c=this.extractByEnvelope(s,e,a),h=this.extractByEnvelope(s,n,a),g=this.unionActual(c,h);return a.add(g),Io.combine(a)},Ni.prototype.bufferUnion=function(){if(arguments.length===1){var e=arguments[0],n=e.get(0).getFactory(),s=n.buildGeometry(e),a=s.buffer(0);return a}if(arguments.length===2){var c=arguments[0],h=arguments[1],g=c.getFactory(),y=g.createGeometryCollection([c,h]),w=y.buffer(0);return w}},Ni.prototype.interfaces_=function(){return[]},Ni.prototype.getClass=function(){return Ni},Ni.restrictToPolygons=function(e){if(Ge(e,jl))return e;var n=el.getPolygons(e);return n.size()===1?n.get(0):e.getFactory().createMultiPolygon(cr.toPolygonArray(n))},Ni.getGeometry=function(e,n){return n>=e.size()?null:e.get(n)},Ni.union=function(e){return new Ni(e).union()},a2.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(Ni,a2);var k0=function(){};function Jc(){return new E0}function E0(){this.reset()}k0.prototype.interfaces_=function(){return[]},k0.prototype.getClass=function(){return k0},k0.union=function(e,n){if(e.isEmpty()||n.isEmpty()){if(e.isEmpty()&&n.isEmpty())return Qe.createEmptyResult(Qe.UNION,e,n,e.getFactory());if(e.isEmpty())return n.copy();if(n.isEmpty())return e.copy()}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(n),Gn.overlayOp(e,n,Qe.UNION)},E0.prototype={constructor:E0,reset:function(){this.s=this.t=0},add:function(e){l2(T0,e,this.t),l2(this,T0.s,this.s),this.s?this.t+=T0.t:this.s=T0.t},valueOf:function(){return this.s}};var T0=new E0;function l2(e,n,s){var a=e.s=n+s,c=a-n,h=a-c;e.t=n-h+(s-c)}var Di=1e-6,ai=Math.PI,rl=ai/2,c2=ai/4,il=2*ai,Qc=180/ai,Ys=ai/180,qn=Math.abs,nL=Math.atan,Fd=Math.atan2,Vi=Math.cos,Wi=Math.sin,Gf=Math.sqrt;function u2(e){return e>1?0:e<-1?ai:Math.acos(e)}function Bd(e){return e>1?rl:e<-1?-rl:Math.asin(e)}function qf(){}function S0(e,n){e&&d2.hasOwnProperty(e.type)&&d2[e.type](e,n)}var h2={Feature:function(e,n){S0(e.geometry,n)},FeatureCollection:function(e,n){for(var s=e.features,a=-1,c=s.length;++a<c;)S0(s[a].geometry,n)}},d2={Sphere:function(e,n){n.sphere()},Point:function(e,n){e=e.coordinates,n.point(e[0],e[1],e[2])},MultiPoint:function(e,n){for(var s=e.coordinates,a=-1,c=s.length;++a<c;)e=s[a],n.point(e[0],e[1],e[2])},LineString:function(e,n){iw(e.coordinates,n,0)},MultiLineString:function(e,n){for(var s=e.coordinates,a=-1,c=s.length;++a<c;)iw(s[a],n,0)},Polygon:function(e,n){p2(e.coordinates,n)},MultiPolygon:function(e,n){for(var s=e.coordinates,a=-1,c=s.length;++a<c;)p2(s[a],n)},GeometryCollection:function(e,n){for(var s=e.geometries,a=-1,c=s.length;++a<c;)S0(s[a],n)}};function iw(e,n,s){var a,c=-1,h=e.length-s;for(n.lineStart();++c<h;)a=e[c],n.point(a[0],a[1],a[2]);n.lineEnd()}function p2(e,n){var s=-1,a=e.length;for(n.polygonStart();++s<a;)iw(e[s],n,1);n.polygonEnd()}Jc(),Jc();function nw(e){return[Fd(e[1],e[0]),Bd(e[2])]}function jd(e){var n=e[0],s=e[1],a=Vi(s);return[a*Vi(n),a*Wi(n),Wi(s)]}function C0(e,n){return e[0]*n[0]+e[1]*n[1]+e[2]*n[2]}function P0(e,n){return[e[1]*n[2]-e[2]*n[1],e[2]*n[0]-e[0]*n[2],e[0]*n[1]-e[1]*n[0]]}function ow(e,n){e[0]+=n[0],e[1]+=n[1],e[2]+=n[2]}function M0(e,n){return[e[0]*n,e[1]*n,e[2]*n]}function sw(e){var n=Gf(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=n,e[1]/=n,e[2]/=n}Jc();function f2(e,n){function s(a,c){return a=e(a,c),n(a[0],a[1])}return e.invert&&n.invert&&(s.invert=function(a,c){return(a=n.invert(a,c))&&e.invert(a[0],a[1])}),s}function aw(e,n){return[e>ai?e-il:e<-ai?e+il:e,n]}function g2(e){return function(n,s){return[(n+=e)>ai?n-il:n<-ai?n+il:n,s]}}function m2(e){var n=g2(e);return n.invert=g2(-e),n}function v2(e,n){var s=Vi(e),a=Wi(e),c=Vi(n),h=Wi(n);function g(y,w){var _=Vi(w),T=Vi(y)*_,E=Wi(y)*_,P=Wi(w),z=P*s+T*a;return[Fd(E*c-z*h,T*s-P*a),Bd(z*c+E*h)]}return g.invert=function(y,w){var _=Vi(w),T=Vi(y)*_,E=Wi(y)*_,P=Wi(w),z=P*c-E*h;return[Fd(E*c+P*h,T*s+z*a),Bd(z*s-T*a)]},g}function y2(e,n){(n=jd(n))[0]-=e,sw(n);var s=u2(-n[1]);return((-n[2]<0?-s:s)+il-Di)%il}function b2(){var e,n=[];return{point:function(s,a){e.push([s,a])},lineStart:function(){n.push(e=[])},lineEnd:qf,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var s=n;return n=[],e=null,s}}}function I0(e,n){return qn(e[0]-n[0])<Di&&qn(e[1]-n[1])<Di}function L0(e,n,s,a){this.x=e,this.z=n,this.o=s,this.e=a,this.v=!1,this.n=this.p=null}function w2(e,n,s,a,c){var h,g,y=[],w=[];if(e.forEach(function(N){if(!((B=N.length-1)<=0)){var B,R,Y=N[0],nt=N[B];if(I0(Y,nt)){for(c.lineStart(),h=0;h<B;++h)c.point((Y=N[h])[0],Y[1]);c.lineEnd()}else y.push(R=new L0(Y,N,null,!0)),w.push(R.o=new L0(Y,null,R,!1)),y.push(R=new L0(nt,N,null,!1)),w.push(R.o=new L0(nt,null,R,!0))}}),y.length){for(w.sort(n),x2(y),x2(w),h=0,g=w.length;h<g;++h)w[h].e=s=!s;for(var _,T,E=y[0];;){for(var P=E,z=!0;P.v;)if((P=P.n)===E)return;_=P.z,c.lineStart();do{if(P.v=P.o.v=!0,P.e){if(z)for(h=0,g=_.length;h<g;++h)c.point((T=_[h])[0],T[1]);else a(P.x,P.n.x,1,c);P=P.n}else{if(z)for(_=P.p.z,h=_.length-1;h>=0;--h)c.point((T=_[h])[0],T[1]);else a(P.x,P.p.x,-1,c);P=P.p}_=(P=P.o).z,z=!z}while(!P.v);c.lineEnd()}}}function x2(e){if(n=e.length){for(var n,s,a=0,c=e[0];++a<n;)c.n=s=e[a],s.p=c,c=s;c.n=s=e[0],s.p=c}}function _2(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}aw.invert=aw;var lw,k2;(lw=_2).length===1&&(k2=lw,lw=function(e,n){return _2(k2(e),n)});function E2(e){for(var n,s,a,c=e.length,h=-1,g=0;++h<c;)g+=e[h].length;for(s=new Array(g);--c>=0;)for(n=(a=e[c]).length;--n>=0;)s[--g]=a[n];return s}var Vf=1e9,A0=-Vf;function oL(e,n,s,a){function c(_,T){return e<=_&&_<=s&&n<=T&&T<=a}function h(_,T,E,P){var z=0,N=0;if(_==null||(z=g(_,E))!==(N=g(T,E))||w(_,T)<0^E>0)do P.point(z===0||z===3?e:s,z>1?a:n);while((z=(z+E+4)%4)!==N);else P.point(T[0],T[1])}function g(_,T){return qn(_[0]-e)<Di?T>0?0:3:qn(_[0]-s)<Di?T>0?2:1:qn(_[1]-n)<Di?T>0?1:0:T>0?3:2}function y(_,T){return w(_.x,T.x)}function w(_,T){var E=g(_,1),P=g(T,1);return E!==P?E-P:E===0?T[1]-_[1]:E===1?_[0]-T[0]:E===2?_[1]-T[1]:T[0]-_[0]}return function(_){var T,E,P,z,N,B,R,Y,nt,F,Z,X=_,tt=b2(),Q={point:Bt,lineStart:function(){Q.point=Tt,E&&E.push(P=[]),F=!0,nt=!1,R=Y=NaN},lineEnd:function(){T&&(Tt(z,N),B&&nt&&tt.rejoin(),T.push(tt.result())),Q.point=Bt,nt&&X.lineEnd()},polygonStart:function(){X=tt,T=[],E=[],Z=!0},polygonEnd:function(){var Ut=function(){for(var Rt=0,It=0,Pt=E.length;It<Pt;++It)for(var qt,Nt,Yt=E[It],vt=1,Le=Yt.length,le=Yt[0],tr=le[0],xe=le[1];vt<Le;++vt)qt=tr,Nt=xe,tr=(le=Yt[vt])[0],xe=le[1],Nt<=a?xe>a&&(tr-qt)*(a-Nt)>(xe-Nt)*(e-qt)&&++Rt:xe<=a&&(tr-qt)*(a-Nt)<(xe-Nt)*(e-qt)&&--Rt;return Rt}(),Ct=Z&&Ut,Wt=(T=E2(T)).length;(Ct||Wt)&&(_.polygonStart(),Ct&&(_.lineStart(),h(null,null,1,_),_.lineEnd()),Wt&&w2(T,y,Ut,h,_),_.polygonEnd()),X=_,T=E=P=null}};function Bt(Ut,Ct){c(Ut,Ct)&&X.point(Ut,Ct)}function Tt(Ut,Ct){var Wt=c(Ut,Ct);if(E&&P.push([Ut,Ct]),F)z=Ut,N=Ct,B=Wt,F=!1,Wt&&(X.lineStart(),X.point(Ut,Ct));else if(Wt&&nt)X.point(Ut,Ct);else{var Rt=[R=Math.max(A0,Math.min(Vf,R)),Y=Math.max(A0,Math.min(Vf,Y))],It=[Ut=Math.max(A0,Math.min(Vf,Ut)),Ct=Math.max(A0,Math.min(Vf,Ct))];(function(Pt,qt,Nt,Yt,vt,Le){var le,tr=Pt[0],xe=Pt[1],Ue=0,pr=1,oi=qt[0]-tr,wn=qt[1]-xe;if(le=Nt-tr,oi||!(le>0)){if(le/=oi,oi<0){if(le<Ue)return;le<pr&&(pr=le)}else if(oi>0){if(le>pr)return;le>Ue&&(Ue=le)}if(le=vt-tr,oi||!(le<0)){if(le/=oi,oi<0){if(le>pr)return;le>Ue&&(Ue=le)}else if(oi>0){if(le<Ue)return;le<pr&&(pr=le)}if(le=Yt-xe,wn||!(le>0)){if(le/=wn,wn<0){if(le<Ue)return;le<pr&&(pr=le)}else if(wn>0){if(le>pr)return;le>Ue&&(Ue=le)}if(le=Le-xe,wn||!(le<0)){if(le/=wn,wn<0){if(le>pr)return;le>Ue&&(Ue=le)}else if(wn>0){if(le<Ue)return;le<pr&&(pr=le)}return Ue>0&&(Pt[0]=tr+Ue*oi,Pt[1]=xe+Ue*wn),pr<1&&(qt[0]=tr+pr*oi,qt[1]=xe+pr*wn),!0}}}}})(Rt,It,e,n,s,a)?(nt||(X.lineStart(),X.point(Rt[0],Rt[1])),X.point(It[0],It[1]),Wt||X.lineEnd(),Z=!1):Wt&&(X.lineStart(),X.point(Ut,Ct),Z=!1)}R=Ut,Y=Ct,nt=Wt}return Q}}var cw=Jc();Jc();function T2(e){return e}Jc(),Jc();var Hd=1/0,R0=Hd,Wf=-Hd,O0=Wf,S2={point:function(e,n){e<Hd&&(Hd=e),e>Wf&&(Wf=e),n<R0&&(R0=n),n>O0&&(O0=n)},lineStart:qf,lineEnd:qf,polygonStart:qf,polygonEnd:qf,result:function(){var e=[[Hd,R0],[Wf,O0]];return Wf=O0=-(R0=Hd=1/0),e}};Jc();function C2(e,n,s,a){return function(c,h){var g,y,w,_=n(h),T=c.invert(a[0],a[1]),E=b2(),P=n(E),z=!1,N={point:B,lineStart:Y,lineEnd:nt,polygonStart:function(){N.point=F,N.lineStart=Z,N.lineEnd=X,y=[],g=[]},polygonEnd:function(){N.point=B,N.lineStart=Y,N.lineEnd=nt,y=E2(y);var tt=function(Q,Bt){var Tt=Bt[0],Ut=Bt[1],Ct=[Wi(Tt),-Vi(Tt),0],Wt=0,Rt=0;cw.reset();for(var It=0,Pt=Q.length;It<Pt;++It)if(Nt=(qt=Q[It]).length)for(var qt,Nt,Yt=qt[Nt-1],vt=Yt[0],Le=Yt[1]/2+c2,le=Wi(Le),tr=Vi(Le),xe=0;xe<Nt;++xe,vt=pr,le=wn,tr=N0,Yt=Ue){var Ue=qt[xe],pr=Ue[0],oi=Ue[1]/2+c2,wn=Wi(oi),N0=Vi(oi),$c=pr-vt,Yf=$c>=0?1:-1,Xf=Yf*$c,Ud=Xf>ai,D0=le*wn;if(cw.add(Fd(D0*Yf*Wi(Xf),tr*N0+D0*Vi(Xf))),Wt+=Ud?$c+Yf*il:$c,Ud^vt>=Tt^pr>=Tt){var Gd=P0(jd(Yt),jd(Ue));sw(Gd);var j2=P0(Ct,Gd);sw(j2);var H2=(Ud^$c>=0?-1:1)*Bd(j2[2]);(Ut>H2||Ut===H2&&(Gd[0]||Gd[1]))&&(Rt+=Ud^$c>=0?1:-1)}}return(Wt<-1e-6||Wt<Di&&cw<-1e-6)^1&Rt}(g,T);y.length?(z||(h.polygonStart(),z=!0),w2(y,aL,tt,s,h)):tt&&(z||(h.polygonStart(),z=!0),h.lineStart(),s(null,null,1,h),h.lineEnd()),z&&(h.polygonEnd(),z=!1),y=g=null},sphere:function(){h.polygonStart(),h.lineStart(),s(null,null,1,h),h.lineEnd(),h.polygonEnd()}};function B(tt,Q){var Bt=c(tt,Q);e(tt=Bt[0],Q=Bt[1])&&h.point(tt,Q)}function R(tt,Q){var Bt=c(tt,Q);_.point(Bt[0],Bt[1])}function Y(){N.point=R,_.lineStart()}function nt(){N.point=B,_.lineEnd()}function F(tt,Q){w.push([tt,Q]);var Bt=c(tt,Q);P.point(Bt[0],Bt[1])}function Z(){P.lineStart(),w=[]}function X(){F(w[0][0],w[0][1]),P.lineEnd();var tt,Q,Bt,Tt,Ut=P.clean(),Ct=E.result(),Wt=Ct.length;if(w.pop(),g.push(w),w=null,Wt)if(1&Ut){if((Q=(Bt=Ct[0]).length-1)>0){for(z||(h.polygonStart(),z=!0),h.lineStart(),tt=0;tt<Q;++tt)h.point((Tt=Bt[tt])[0],Tt[1]);h.lineEnd()}}else Wt>1&&2&Ut&&Ct.push(Ct.pop().concat(Ct.shift())),y.push(Ct.filter(sL))}return N}}function sL(e){return e.length>1}function aL(e,n){return((e=e.x)[0]<0?e[1]-rl-Di:rl-e[1])-((n=n.x)[0]<0?n[1]-rl-Di:rl-n[1])}var P2=C2(function(){return!0},function(e){var n,s=NaN,a=NaN,c=NaN;return{lineStart:function(){e.lineStart(),n=1},point:function(h,g){var y=h>0?ai:-ai,w=qn(h-s);qn(w-ai)<Di?(e.point(s,a=(a+g)/2>0?rl:-rl),e.point(c,a),e.lineEnd(),e.lineStart(),e.point(y,a),e.point(h,a),n=0):c!==y&&w>=ai&&(qn(s-c)<Di&&(s-=c*Di),qn(h-y)<Di&&(h-=y*Di),a=function(_,T,E,P){var z,N,B=Wi(_-E);return qn(B)>Di?nL((Wi(T)*(N=Vi(P))*Wi(E)-Wi(P)*(z=Vi(T))*Wi(_))/(z*N*B)):(T+P)/2}(s,a,h,g),e.point(c,a),e.lineEnd(),e.lineStart(),e.point(y,a),n=0),e.point(s=h,a=g),c=y},lineEnd:function(){e.lineEnd(),s=a=NaN},clean:function(){return 2-n}}},function(e,n,s,a){var c;if(e==null)c=s*rl,a.point(-ai,c),a.point(0,c),a.point(ai,c),a.point(ai,0),a.point(ai,-c),a.point(0,-c),a.point(-ai,-c),a.point(-ai,0),a.point(-ai,c);else if(qn(e[0]-n[0])>Di){var h=e[0]<n[0]?ai:-ai;c=s*h/2,a.point(-h,c),a.point(0,c),a.point(h,c)}else a.point(n[0],n[1])},[-ai,-rl]);function lL(e,n){var s=Vi(e),a=s>0,c=qn(s)>Di;function h(w,_){return Vi(w)*Vi(_)>s}function g(w,_,T){var E=[1,0,0],P=P0(jd(w),jd(_)),z=C0(P,P),N=P[0],B=z-N*N;if(!B)return!T&&w;var R=s*z/B,Y=-s*N/B,nt=P0(E,P),F=M0(E,R);ow(F,M0(P,Y));var Z=nt,X=C0(F,Z),tt=C0(Z,Z),Q=X*X-tt*(C0(F,F)-1);if(!(Q<0)){var Bt=Gf(Q),Tt=M0(Z,(-X-Bt)/tt);if(ow(Tt,F),Tt=nw(Tt),!T)return Tt;var Ut,Ct=w[0],Wt=_[0],Rt=w[1],It=_[1];Wt<Ct&&(Ut=Ct,Ct=Wt,Wt=Ut);var Pt=Wt-Ct,qt=qn(Pt-ai)<Di;if(!qt&&It<Rt&&(Ut=Rt,Rt=It,It=Ut),qt||Pt<Di?qt?Rt+It>0^Tt[1]<(qn(Tt[0]-Ct)<Di?Rt:It):Rt<=Tt[1]&&Tt[1]<=It:Pt>ai^(Ct<=Tt[0]&&Tt[0]<=Wt)){var Nt=M0(Z,(-X+Bt)/tt);return ow(Nt,F),[Tt,nw(Nt)]}}}function y(w,_){var T=a?e:ai-e,E=0;return w<-T?E|=1:w>T&&(E|=2),_<-T?E|=4:_>T&&(E|=8),E}return C2(h,function(w){var _,T,E,P,z;return{lineStart:function(){P=E=!1,z=1},point:function(N,B){var R,Y=[N,B],nt=h(N,B),F=a?nt?0:y(N,B):nt?y(N+(N<0?ai:-ai),B):0;if(!_&&(P=E=nt)&&w.lineStart(),nt!==E&&(!(R=g(_,Y))||I0(_,R)||I0(Y,R))&&(Y[0]+=Di,Y[1]+=Di,nt=h(Y[0],Y[1])),nt!==E)z=0,nt?(w.lineStart(),R=g(Y,_),w.point(R[0],R[1])):(R=g(_,Y),w.point(R[0],R[1]),w.lineEnd()),_=R;else if(c&&_&&a^nt){var Z;F&T||!(Z=g(Y,_,!0))||(z=0,a?(w.lineStart(),w.point(Z[0][0],Z[0][1]),w.point(Z[1][0],Z[1][1]),w.lineEnd()):(w.point(Z[1][0],Z[1][1]),w.lineEnd(),w.lineStart(),w.point(Z[0][0],Z[0][1])))}!nt||_&&I0(_,Y)||w.point(Y[0],Y[1]),_=Y,E=nt,T=F},lineEnd:function(){E&&w.lineEnd(),_=null},clean:function(){return z|(P&&E)<<1}}},function(w,_,T,E){(function(P,z,N,B,R,Y){if(N){var nt=Vi(z),F=Wi(z),Z=B*N;R==null?(R=z+B*il,Y=z-Z/2):(R=y2(nt,R),Y=y2(nt,Y),(B>0?R<Y:R>Y)&&(R+=B*il));for(var X,tt=R;B>0?tt>Y:tt<Y;tt-=Z)X=nw([nt,-F*Vi(tt),-F*Wi(tt)]),P.point(X[0],X[1])}})(E,e,n,T,w,_)},a?[0,-e]:[-ai,e-ai])}function M2(e){return function(n){var s=new uw;for(var a in e)s[a]=e[a];return s.stream=n,s}}function uw(){}function I2(e,n,s){var a=n[1][0]-n[0][0],c=n[1][1]-n[0][1],h=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),h!=null&&e.clipExtent(null),function(T,E){T&&h2.hasOwnProperty(T.type)?h2[T.type](T,E):S0(T,E)}(s,e.stream(S2));var g=S2.result(),y=Math.min(a/(g[1][0]-g[0][0]),c/(g[1][1]-g[0][1])),w=+n[0][0]+(a-y*(g[1][0]+g[0][0]))/2,_=+n[0][1]+(c-y*(g[1][1]+g[0][1]))/2;return h!=null&&e.clipExtent(h),e.scale(150*y).translate([w,_])}uw.prototype={constructor:uw,point:function(e,n){this.stream.point(e,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var cL=Vi(30*Ys);function L2(e,n){return+n?function(s,a){function c(h,g,y,w,_,T,E,P,z,N,B,R,Y,nt){var F=E-h,Z=P-g,X=F*F+Z*Z;if(X>4*a&&Y--){var tt=w+N,Q=_+B,Bt=T+R,Tt=Gf(tt*tt+Q*Q+Bt*Bt),Ut=Bd(Bt/=Tt),Ct=qn(qn(Bt)-1)<Di||qn(y-z)<Di?(y+z)/2:Fd(Q,tt),Wt=s(Ct,Ut),Rt=Wt[0],It=Wt[1],Pt=Rt-h,qt=It-g,Nt=Z*Pt-F*qt;(Nt*Nt/X>a||qn((F*Pt+Z*qt)/X-.5)>.3||w*N+_*B+T*R<cL)&&(c(h,g,y,w,_,T,Rt,It,Ct,tt/=Tt,Q/=Tt,Bt,Y,nt),nt.point(Rt,It),c(Rt,It,Ct,tt,Q,Bt,E,P,z,N,B,R,Y,nt))}}return function(h){var g,y,w,_,T,E,P,z,N,B,R,Y,nt={point:F,lineStart:Z,lineEnd:tt,polygonStart:function(){h.polygonStart(),nt.lineStart=Q},polygonEnd:function(){h.polygonEnd(),nt.lineStart=Z}};function F(Ut,Ct){Ut=s(Ut,Ct),h.point(Ut[0],Ut[1])}function Z(){z=NaN,nt.point=X,h.lineStart()}function X(Ut,Ct){var Wt=jd([Ut,Ct]),Rt=s(Ut,Ct);c(z,N,P,B,R,Y,z=Rt[0],N=Rt[1],P=Ut,B=Wt[0],R=Wt[1],Y=Wt[2],16,h),h.point(z,N)}function tt(){nt.point=F,h.lineEnd()}function Q(){Z(),nt.point=Bt,nt.lineEnd=Tt}function Bt(Ut,Ct){X(g=Ut,Ct),y=z,w=N,_=B,T=R,E=Y,nt.point=X}function Tt(){c(z,N,P,B,R,Y,y,w,g,_,T,E,16,h),nt.lineEnd=tt,tt()}return nt}}(e,n):function(s){return M2({point:function(a,c){a=s(a,c),this.stream.point(a[0],a[1])}})}(e)}var uL=M2({point:function(e,n){this.stream.point(e*Ys,n*Ys)}});function hL(e){return function(n){var s,a,c,h,g,y,w,_,T,E,P=150,z=480,N=250,B=0,R=0,Y=0,nt=0,F=0,Z=null,X=P2,tt=null,Q=T2,Bt=.5,Tt=L2(Wt,Bt);function Ut(Pt){return[(Pt=g(Pt[0]*Ys,Pt[1]*Ys))[0]*P+a,c-Pt[1]*P]}function Ct(Pt){return(Pt=g.invert((Pt[0]-a)/P,(c-Pt[1])/P))&&[Pt[0]*Qc,Pt[1]*Qc]}function Wt(Pt,qt){return[(Pt=s(Pt,qt))[0]*P+a,c-Pt[1]*P]}function Rt(){g=f2(h=function(qt,Nt,Yt){return(qt%=il)?Nt||Yt?f2(m2(qt),v2(Nt,Yt)):m2(qt):Nt||Yt?v2(Nt,Yt):aw}(Y,nt,F),s);var Pt=s(B,R);return a=z-Pt[0]*P,c=N+Pt[1]*P,It()}function It(){return T=E=null,Ut}return Ut.stream=function(Pt){return T&&E===Pt?T:T=uL(X(h,Tt(Q(E=Pt))))},Ut.clipAngle=function(Pt){return arguments.length?(X=+Pt?lL(Z=Pt*Ys,6*Ys):(Z=null,P2),It()):Z*Qc},Ut.clipExtent=function(Pt){return arguments.length?(Q=Pt==null?(tt=y=w=_=null,T2):oL(tt=+Pt[0][0],y=+Pt[0][1],w=+Pt[1][0],_=+Pt[1][1]),It()):tt==null?null:[[tt,y],[w,_]]},Ut.scale=function(Pt){return arguments.length?(P=+Pt,Rt()):P},Ut.translate=function(Pt){return arguments.length?(z=+Pt[0],N=+Pt[1],Rt()):[z,N]},Ut.center=function(Pt){return arguments.length?(B=Pt[0]%360*Ys,R=Pt[1]%360*Ys,Rt()):[B*Qc,R*Qc]},Ut.rotate=function(Pt){return arguments.length?(Y=Pt[0]%360*Ys,nt=Pt[1]%360*Ys,F=Pt.length>2?Pt[2]%360*Ys:0,Rt()):[Y*Qc,nt*Qc,F*Qc]},Ut.precision=function(Pt){return arguments.length?(Tt=L2(Wt,Bt=Pt*Pt),It()):Gf(Bt)},Ut.fitExtent=function(Pt,qt){return I2(Ut,Pt,qt)},Ut.fitSize=function(Pt,qt){return function(Nt,Yt,vt){return I2(Nt,[[0,0],Yt],vt)}(Ut,Pt,qt)},function(){return s=n.apply(this,arguments),Ut.invert=s.invert&&Ct,Rt()}}(function(){return e})()}var A2=function(e){return function(n,s){var a=Vi(n),c=Vi(s),h=e(a*c);return[h*c*Wi(n),h*Wi(s)]}}(function(e){return(e=u2(e))&&e/Wi(e)});function dL(){return hL(A2).scale(79.4188).clipAngle(179.999)}function z0(e,n,s,a){var c=e.properties||{},h=e.type==="Feature"?e.geometry:e;if(h.type==="GeometryCollection"){var g=[];return ee(e,function(P){var z=z0(P,n,s,a);z&&g.push(z)}),M(g)}var y=function(P){var z=os(P).geometry.coordinates,N=[-z[0],-z[1]];return dL().rotate(N).scale(r)}(h),w={type:h.type,coordinates:O2(h.coordinates,y)},_=new Zb().read(w),T=q(W(n,s),"meters"),E=gn.bufferOp(_,T,a);if(!R2((E=new Uk().write(E)).coordinates))return u({type:E.type,coordinates:z2(E.coordinates,y)},c)}function R2(e){return Array.isArray(e[0])?R2(e[0]):isNaN(e[0])}function O2(e,n){return typeof e[0]!="object"?n(e):e.map(function(s){return O2(s,n)})}function z2(e,n){return typeof e[0]!="object"?n.invert(e):e.map(function(s){return z2(s,n)})}function Zf(e,n,s){s===void 0&&(s={});var a=dt(e),c=dt(n),h=Fl.intersection(a.coordinates,c.coordinates);return h.length===0?null:h.length===1?v(h[0],s.properties):j(h,s.properties)}function N2(e,n,s){s===void 0&&(s={});var a=JSON.stringify(s.properties||{}),c=e[0],h=e[1],g=e[2],y=e[3],w=(h+y)/2,_=(c+g)/2,T=2*n/nr([c,w],[g,w],s)*(g-c),E=2*n/nr([_,h],[_,y],s)*(y-h),P=T/2,z=2*P,N=Math.sqrt(3)/2*E,B=g-c,R=y-h,Y=3/4*z,nt=N,F=(B-z)/(z-P/2),Z=Math.floor(F),X=(Z*Y-P/2-B)/2-P/2+Y/2,tt=Math.floor((R-N)/N),Q=(R-tt*N)/2,Bt=tt*N-R>N/2;Bt&&(Q-=N/4);for(var Tt=[],Ut=[],Ct=0;Ct<6;Ct++){var Wt=2*Math.PI/6*Ct;Tt.push(Math.cos(Wt)),Ut.push(Math.sin(Wt))}for(var Rt=[],It=0;It<=Z;It++)for(var Pt=0;Pt<=tt;Pt++){var qt=It%2==1;if((Pt!==0||!qt)&&(Pt!==0||!Bt)){var Nt=It*Y+c-X,Yt=Pt*nt+h+Q;if(qt&&(Yt-=N/2),s.triangles===!0)fL([Nt,Yt],T/2,E/2,JSON.parse(a),Tt,Ut).forEach(function(Le){s.mask?Zf(s.mask,Le)&&Rt.push(Le):Rt.push(Le)});else{var vt=pL([Nt,Yt],T/2,E/2,JSON.parse(a),Tt,Ut);s.mask?Zf(s.mask,vt)&&Rt.push(vt):Rt.push(vt)}}}return M(Rt)}function pL(e,n,s,a,c,h){for(var g=[],y=0;y<6;y++){var w=e[0]+n*c[y],_=e[1]+s*h[y];g.push([w,_])}return g.push(g[0].slice()),v([g],a)}function fL(e,n,s,a,c,h){for(var g=[],y=0;y<6;y++){var w=[];w.push(e),w.push([e[0]+n*c[y],e[1]+s*h[y]]),w.push([e[0]+n*c[(y+1)%6],e[1]+s*h[(y+1)%6]]),w.push(e),g.push(v([w],a))}return g}function D2(e){return j(e)}function gL(e){return v(e&&e.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]])}function F2(e,n,s){return s===void 0&&(s={}),function(a,c,h,g){g===void 0&&(g={});for(var y=[],w=a[0],_=a[1],T=a[2],E=a[3],P=c/nr([w,_],[T,_],g)*(T-w),z=h/nr([w,_],[w,E],g)*(E-_),N=T-w,B=E-_,R=Math.floor(N/P),Y=Math.floor(B/z),nt=(B-Y*z)/2,F=w+(N-R*P)/2,Z=0;Z<R;Z++){for(var X=_+nt,tt=0;tt<Y;tt++){var Q=v([[[F,X],[F,X+z],[F+P,X+z],[F+P,X],[F,X]]],g.properties);g.mask?H_(g.mask,Q)&&y.push(Q):y.push(Q),X+=z}F+=P}return M(y)}(e,n,n,s)}function B2(e,n,s){s===void 0&&(s={});for(var a=[],c=n/nr([e[0],e[1]],[e[2],e[1]],s)*(e[2]-e[0]),h=n/nr([e[0],e[1]],[e[0],e[3]],s)*(e[3]-e[1]),g=0,y=e[0];y<=e[2];){for(var w=0,_=e[1];_<=e[3];){var T=null,E=null;g%2==0&&w%2==0?(T=v([[[y,_],[y,_+h],[y+c,_],[y,_]]],s.properties),E=v([[[y,_+h],[y+c,_+h],[y+c,_],[y,_+h]]],s.properties)):g%2==0&&w%2==1?(T=v([[[y,_],[y+c,_+h],[y+c,_],[y,_]]],s.properties),E=v([[[y,_],[y,_+h],[y+c,_+h],[y,_]]],s.properties)):w%2==0&&g%2==1?(T=v([[[y,_],[y,_+h],[y+c,_+h],[y,_]]],s.properties),E=v([[[y,_],[y+c,_+h],[y+c,_],[y,_]]],s.properties)):w%2==1&&g%2==1&&(T=v([[[y,_],[y,_+h],[y+c,_],[y,_]]],s.properties),E=v([[[y,_+h],[y+c,_+h],[y+c,_],[y,_+h]]],s.properties)),s.mask?(Zf(s.mask,T)&&a.push(T),Zf(s.mask,E)&&a.push(E)):(a.push(T),a.push(E)),_+=h,w++}g++,y+=c}return M(a)}A2.invert=function(e){return function(n,s){var a=Gf(n*n+s*s),c=e(a),h=Wi(c),g=Vi(c);return[Fd(n*h,a*g),Bd(a&&s*h/a)]}}(function(e){return e}),i.along=function(e,n,s){s===void 0&&(s={});for(var a=dt(e).coordinates,c=0,h=0;h<a.length&&!(n>=c&&h===a.length-1);h++){if(c>=n){var g=n-c;if(g){var y=Cs(a[h],a[h-1])-180;return $i(a[h],g,y,s)}return p(a[h])}c+=nr(a[h],a[h+1],s)}return p(a[a.length-1])},i.angle=function(e,n,s,a){if(a===void 0&&(a={}),!ht(a))throw new Error("options is invalid");if(!e)throw new Error("startPoint is required");if(!n)throw new Error("midPoint is required");if(!s)throw new Error("endPoint is required");var c=e,h=n,g=s,y=mt(a.mercator!==!0?Cs(c,h):Dl(c,h)),w=mt(a.mercator!==!0?Cs(g,h):Dl(g,h)),_=Math.abs(y-w);return a.explementary===!0?360-_:_},i.applyFilter=n0,i.area=id,i.areaFactors=l,i.bbox=Ht,i.bboxClip=function(e,n){var s=dt(e),a=s.type,c=e.type==="Feature"?e.properties:{},h=s.coordinates;switch(a){case"LineString":case"MultiLineString":var g=[];return a==="LineString"&&(h=[h]),h.forEach(function(y){(function(w,_,T){var E,P,z,N,B,R=w.length,Y=Nl(w[0],_),nt=[];for(T||(T=[]),E=1;E<R;E++){for(N=w[E-1],P=z=Nl(B=w[E],_);;){if(!(Y|P)){nt.push(N),P!==z?(nt.push(B),E<R-1&&(T.push(nt),nt=[])):E===R-1&&nt.push(B);break}if(Y&P)break;Y?Y=Nl(N=uf(N,B,Y,_),_):P=Nl(B=uf(N,B,P,_),_)}Y=z}nt.length&&T.push(nt)})(y,n,g)}),g.length===1?k(g[0],c):I(g,c);case"Polygon":return v(Hi(h,n),c);case"MultiPolygon":return j(h.map(function(y){return Hi(y,n)}),c);default:throw new Error("geometry "+a+" not supported")}},i.bboxPolygon=qp,i.bearing=Cs,i.bearingToAngle=mt,i.bearingToAzimuth=mt,i.bezier=Mm,i.bezierSpline=Mm,i.booleanClockwise=Km,i.booleanContains=function(e,n){var s=dt(e),a=dt(n),c=s.type,h=a.type,g=s.coordinates,y=a.coordinates;switch(c){case"Point":switch(h){case"Point":return kb(g,y);default:throw new Error("feature2 "+h+" geometry not supported")}case"MultiPoint":switch(h){case"Point":return function(w,_){var T,E=!1;for(T=0;T<w.coordinates.length;T++)if(kb(w.coordinates[T],_.coordinates)){E=!0;break}return E}(s,a);case"MultiPoint":return function(w,_){for(var T=0,E=_.coordinates;T<E.length;T++){for(var P=E[T],z=!1,N=0,B=w.coordinates;N<B.length;N++)if(kb(P,B[N])){z=!0;break}if(!z)return!1}return!0}(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}case"LineString":switch(h){case"Point":return oo(a,s,{ignoreEndVertices:!0});case"LineString":return function(w,_){for(var T=!1,E=0,P=_.coordinates;E<P.length;E++){var z=P[E];if(oo({type:"Point",coordinates:z},w,{ignoreEndVertices:!0})&&(T=!0),!oo({type:"Point",coordinates:z},w,{ignoreEndVertices:!1}))return!1}return T}(s,a);case"MultiPoint":return function(w,_){for(var T=!1,E=0,P=_.coordinates;E<P.length;E++){var z=P[E];if(oo(z,w,{ignoreEndVertices:!0})&&(T=!0),!oo(z,w))return!1}return!!T}(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}case"Polygon":switch(h){case"Point":return Je(a,s,{ignoreBoundary:!0});case"LineString":return function(w,_){var T=!1,E=0,P=Ht(w),z=Ht(_);if(!R_(P,z))return!1;for(;E<_.coordinates.length-1;E++)if(Je({type:"Point",coordinates:KM(_.coordinates[E],_.coordinates[E+1])},w,{ignoreBoundary:!0})){T=!0;break}return T}(s,a);case"Polygon":return function(w,_){if(w.type==="Feature"&&w.geometry===null||_.type==="Feature"&&_.geometry===null)return!1;var T=Ht(w),E=Ht(_);if(!R_(T,E))return!1;for(var P=dt(_).coordinates,z=0,N=P;z<N.length;z++)for(var B=0,R=N[z];B<R.length;B++)if(!Je(R[B],w))return!1;return!0}(s,a);case"MultiPoint":return function(w,_){for(var T=0,E=_.coordinates;T<E.length;T++)if(!Je(E[T],w,{ignoreBoundary:!0}))return!1;return!0}(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}default:throw new Error("feature1 "+c+" geometry not supported")}},i.booleanCrosses=function(e,n){var s=dt(e),a=dt(n),c=s.type,h=a.type;switch(c){case"MultiPoint":switch(h){case"LineString":return O_(s,a);case"Polygon":return N_(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}case"LineString":switch(h){case"MultiPoint":return O_(a,s);case"LineString":return function(g,y){if(dn(g,y).features.length>0)for(var w=0;w<g.coordinates.length-1;w++)for(var _=0;_<y.coordinates.length-1;_++){var T=!0;if(_!==0&&_!==y.coordinates.length-2||(T=!1),D_(g.coordinates[w],g.coordinates[w+1],y.coordinates[_],T))return!0}return!1}(s,a);case"Polygon":return z_(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}case"Polygon":switch(h){case"MultiPoint":return N_(a,s);case"LineString":return z_(a,s);default:throw new Error("feature2 "+h+" geometry not supported")}default:throw new Error("feature1 "+c+" geometry not supported")}},i.booleanDisjoint=I_,i.booleanEqual=function(e,n){return dt(e).type===dt(n).type&&new j_({precision:6}).compare(na(e),na(n))},i.booleanIntersects=H_,i.booleanOverlap=function(e,n){var s=dt(e),a=dt(n),c=s.type,h=a.type;if(c==="MultiPoint"&&h!=="MultiPoint"||(c==="LineString"||c==="MultiLineString")&&h!=="LineString"&&h!=="MultiLineString"||(c==="Polygon"||c==="MultiPolygon")&&h!=="Polygon"&&h!=="MultiPolygon")throw new Error("features must be of the same type");if(c==="Point")throw new Error("Point geometry not supported");if(new j_({precision:6}).compare(e,n))return!1;var g=0;switch(c){case"MultiPoint":for(var y=0;y<s.coordinates.length;y++)for(var w=0;w<a.coordinates.length;w++){var _=s.coordinates[y],T=a.coordinates[w];if(_[0]===T[0]&&_[1]===T[1])return!0}return!1;case"LineString":case"MultiLineString":rr(e,function(E){rr(n,function(P){Xm(E,P).features.length&&g++})});break;case"Polygon":case"MultiPolygon":rr(e,function(E){rr(n,function(P){dn(E,P).features.length&&g++})})}return g>0},i.booleanParallel=function(e,n){if(!e)throw new Error("line1 is required");if(!n)throw new Error("line2 is required");if(V_(e,"line1")!=="LineString")throw new Error("line1 must be a LineString");if(V_(n,"line2")!=="LineString")throw new Error("line2 must be a LineString");for(var s=Zn(na(e)).features,a=Zn(na(n)).features,c=0;c<s.length;c++){var h=s[c].geometry.coordinates;if(!a[c])break;if(!lI(h,a[c].geometry.coordinates))return!1}return!0},i.booleanPointInPolygon=Je,i.booleanPointOnLine=oo,i.booleanWithin=Rc,i.buffer=function(e,n,s){var a=(s=s||{}).units||"kilometers",c=s.steps||8;if(!e)throw new Error("geojson is required");if(typeof s!="object")throw new Error("options must be an object");if(typeof c!="number")throw new Error("steps must be an number");if(n===void 0)throw new Error("radius is required");if(c<=0)throw new Error("steps must be greater than 0");var h=[];switch(e.type){case"GeometryCollection":return ee(e,function(g){var y=z0(g,n,a,c);y&&h.push(y)}),M(h);case"FeatureCollection":return yt(e,function(g){var y=z0(g,n,a,c);y&&yt(y,function(w){w&&h.push(w)})}),M(h)}return z0(e,n,a,c)},i.center=os,i.centerMean=Cb,i.centerMedian=function(e,n){if(n===void 0&&(n={}),!ht(n=n||{}))throw new Error("options is invalid");var s=n.counter||10;if(!lt(s))throw new Error("counter must be a number");var a=n.weight,c=Cb(e,{weight:n.weight}),h=M([]);yt(e,function(y){var w;h.features.push(oa(y,{properties:{weight:(w=y.properties)===null||w===void 0?void 0:w[a]}}))});var g={tolerance:n.tolerance,medianCandidates:[]};return ik(c.geometry.coordinates,[0,0],h,g,s)},i.centerOfMass=function e(n,s){switch(s===void 0&&(s={}),Ot(n)){case"Point":return p(A(n),s.properties);case"Polygon":var a=[];xt(n,function(Z){a.push(Z)});var c,h,g,y,w,_,T,E,P=oa(n,{properties:s.properties}),z=P.geometry.coordinates,N=0,B=0,R=0,Y=a.map(function(Z){return[Z[0]-z[0],Z[1]-z[1]]});for(c=0;c<a.length-1;c++)y=(h=Y[c])[0],_=h[1],w=(g=Y[c+1])[0],R+=E=y*(T=g[1])-w*_,N+=(y+w)*E,B+=(_+T)*E;if(R===0)return P;var nt=1/(6*(.5*R));return p([z[0]+nt*N,z[1]+nt*B],s.properties);default:var F=ur(n);return F?e(F,{properties:s.properties}):oa(n,{properties:s.properties})}},i.centroid=oa,i.circle=Vp,i.cleanCoords=na,i.clone=Si,i.clusterEach=Pb,i.clusterReduce=yk,i.clusters=II,i.clustersDbscan=function(e,n,s){s===void 0&&(s={}),s.mutate!==!0&&(e=Si(e)),s.minPoints=s.minPoints||3;var a=new eI.DBSCAN,c=a.run(Xt(e),U(n,s.units),s.minPoints,nr),h=-1;return c.forEach(function(g){h++,g.forEach(function(y){var w=e.features[y];w.properties||(w.properties={}),w.properties.cluster=h,w.properties.dbscan="core"})}),a.noise.forEach(function(g){var y=e.features[g];y.properties||(y.properties={}),y.properties.cluster?y.properties.dbscan="edge":y.properties.dbscan="noise"}),e},i.clustersKmeans=function(e,n){n===void 0&&(n={});var s=e.features.length;n.numberOfClusters=n.numberOfClusters||Math.round(Math.sqrt(s/2)),n.numberOfClusters>s&&(n.numberOfClusters=s),n.mutate!==!0&&(e=Si(e));var a=Xt(e),c=a.slice(0,n.numberOfClusters),h=aI(a,n.numberOfClusters,c),g={};return h.centroids.forEach(function(y,w){g[w]=y}),yt(e,function(y,w){var _=h.idxs[w];y.properties.cluster=_,y.properties.centroid=g[_]}),e},i.collect=function(e,n,s,a){var c=Ji(6),h=n.features.map(function(g){var y;return{minX:g.geometry.coordinates[0],minY:g.geometry.coordinates[1],maxX:g.geometry.coordinates[0],maxY:g.geometry.coordinates[1],property:(y=g.properties)===null||y===void 0?void 0:y[s]}});return c.load(h),e.features.forEach(function(g){g.properties||(g.properties={});var y=Ht(g),w=c.search({minX:y[0],minY:y[1],maxX:y[2],maxY:y[3]}),_=[];w.forEach(function(T){Je([T.minX,T.minY],g)&&_.push(T.property)}),g.properties[a]=_}),e},i.collectionOf=kt,i.combine=function(e){var n={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}};return yt(e,function(s){var a,c,h,g;switch((g=s.geometry)===null||g===void 0?void 0:g.type){case"Point":n.MultiPoint.coordinates.push(s.geometry.coordinates),n.MultiPoint.properties.push(s.properties);break;case"MultiPoint":(a=n.MultiPoint.coordinates).push.apply(a,s.geometry.coordinates),n.MultiPoint.properties.push(s.properties);break;case"LineString":n.MultiLineString.coordinates.push(s.geometry.coordinates),n.MultiLineString.properties.push(s.properties);break;case"MultiLineString":(c=n.MultiLineString.coordinates).push.apply(c,s.geometry.coordinates),n.MultiLineString.properties.push(s.properties);break;case"Polygon":n.MultiPolygon.coordinates.push(s.geometry.coordinates),n.MultiPolygon.properties.push(s.properties);break;case"MultiPolygon":(h=n.MultiPolygon.coordinates).push.apply(h,s.geometry.coordinates),n.MultiPolygon.properties.push(s.properties)}}),M(Object.keys(n).filter(function(s){return n[s].coordinates.length}).sort().map(function(s){return u({type:s,coordinates:n[s].coordinates},{collectedProperties:n[s].properties})}))},i.concave=function(e,n){n===void 0&&(n={});var s=n.maxEdge||1/0,a=km(function(h){var g=[],y={};return yt(h,function(w){if(w.geometry){var _=w.geometry.coordinates.join("-");Object.prototype.hasOwnProperty.call(y,_)||(g.push(w),y[_]=!0)}}),M(g)}(e));if(a.features=a.features.filter(function(h){var g=h.geometry.coordinates[0][0],y=h.geometry.coordinates[0][1],w=h.geometry.coordinates[0][2],_=nr(g,y,n),T=nr(y,w,n),E=nr(g,w,n);return _<=s&&T<=s&&E<=s}),a.features.length<1)return null;var c=Sm(a);return c.coordinates.length===1&&(c.coordinates=c.coordinates[0],c.type="Polygon"),u(c)},i.containsNumber=at,i.convertArea=et,i.convertDistance=U,i.convertLength=U,i.convex=ur,i.coordAll=Xt,i.coordEach=xt,i.coordReduce=Dt,i.createBins=Mb,i.degrees2radians=ot,i.degreesToRadians=ot,i.destination=$i,i.difference=function(e,n){var s=dt(e),a=dt(n),c=e.properties||{},h=Fl.difference(s.coordinates,a.coordinates);return h.length===0?null:h.length===1?v(h[0],c):j(h,c)},i.dissolve=function(e,n){if(!ht(n=n||{}))throw new Error("options is invalid");var s=n.propertyName;kt(e,"Polygon","dissolve");var a=[];if(!n.propertyName)return ad(j(Fl.union.apply(null,e.features.map(function(w){return w.geometry.coordinates}))));var c={};yt(e,function(w){Object.prototype.hasOwnProperty.call(c,w.properties[s])||(c[w.properties[s]]=[]),c[w.properties[s]].push(w)});for(var h=Object.keys(c),g=0;g<h.length;g++){var y=j(Fl.union.apply(null,c[h[g]].map(function(w){return w.geometry.coordinates})));y.properties[s]=h[g],a.push(y)}return ad(M(a))},i.distance=nr,i.distanceToDegrees=st,i.distanceToRadians=W,i.distanceWeight=ok,i.earthRadius=r,i.ellipse=ek,i.envelope=Vh,i.explode=Du,i.factors=t,i.feature=u,i.featureCollection=M,i.featureEach=yt,i.featureOf=pt,i.featureReduce=At,i.filterProperties=bk,i.findPoint=bt,i.findSegment=Bi,i.flatten=ad,i.flattenEach=ae,i.flattenReduce=ue,i.flip=function(e,n){if(!ht(n=n||{}))throw new Error("options is invalid");var s=n.mutate;if(!e)throw new Error("geojson is required");return s!==!1&&s!==void 0||(e=Si(e)),xt(e,function(a){var c=a[0],h=a[1];a[0]=h,a[1]=c}),e},i.geojsonType=ft,i.geomEach=ee,i.geomReduce=ge,i.geometry=d,i.geometryCollection=H,i.getCluster=vk,i.getCoord=A,i.getCoords=G,i.getGeom=dt,i.getType=Ot,i.greatCircle=function(e,n,s){if(typeof(s=s||{})!="object")throw new Error("options is invalid");var a=s.properties,c=s.npoints,h=s.offset;return e=A(e),n=A(n),a=a||{},c=c||100,h=h||10,new Zt({x:e[0],y:e[1]},{x:n[0],y:n[1]},a).Arc(c,{offset:h}).json()},i.helpers=Lt,i.hexGrid=N2,i.inside=Je,i.interpolate=function(e,n,s){if(typeof(s=s||{})!="object")throw new Error("options is invalid");var a=s.gridType,c=s.property,h=s.weight;if(!e)throw new Error("points is required");if(kt(e,"Point","input must contain Points"),!n)throw new Error("cellSize is required");if(h!==void 0&&typeof h!="number")throw new Error("weight must be a number");c=c||"elevation",a=a||"square",h=h||1;var g,y=Ht(e);switch(a){case"point":case"points":g=sf(y,n,s);break;case"square":case"squares":g=F2(y,n,s);break;case"hex":case"hexes":g=N2(y,n,s);break;case"triangle":case"triangles":g=B2(y,n,s);break;default:throw new Error("invalid gridType")}var w=[];return yt(g,function(_){var T=0,E=0;yt(e,function(z){var N,B=nr(a==="point"?_:oa(_),z,s);if(c!==void 0&&(N=z.properties[c]),N===void 0&&(N=z.geometry.coordinates[2]),N===void 0)throw new Error("zValue is missing");B===0&&(T=N);var R=1/Math.pow(B,h);E+=R,T+=R*N});var P=Si(_);P.properties[c]=T/E,w.push(P)}),M(w)},i.intersect=Zf,i.invariant=$t,i.isNumber=lt,i.isObject=ht,i.isobands=function(e,n,s){if(!ht(s=s||{}))throw new Error("options is invalid");var a=s.zProperty||"elevation",c=s.commonProperties||{},h=s.breaksProperties||[];if(kt(e,"Point","Input must contain Points"),!n)throw new Error("breaks is required");if(!Array.isArray(n))throw new Error("breaks is not an Array");if(!ht(c))throw new Error("commonProperties is not an Object");if(!Array.isArray(h))throw new Error("breaksProperties is not an Array");var g=DM(e,{zProperty:a,flip:!0}),y=function(w,_,T){for(var E=[],P=1;P<_.length;P++){var z=+_[P-1],N=+_[P],B=GM(UM(FM(w,z,N-z))),R={};R.groupedRings=B,R[T]=z+"-"+N,E.push(R)}return E}(g,n,a);return M((y=function(w,_,T){var E=Ht(T),P=E[2]-E[0],z=E[3]-E[1],N=E[0],B=E[1],R=_[0].length-1,Y=_.length-1,nt=P/R,F=z/Y,Z=function(X){X[0]=X[0]*nt+N,X[1]=X[1]*F+B};return w.forEach(function(X){X.groupedRings.forEach(function(tt){tt.forEach(function(Q){Q.forEach(Z)})})}),w}(y,g,e)).map(function(w,_){if(h[_]&&!ht(h[_]))throw new Error("Each mappedProperty is required to be an Object");var T=je({},c,h[_]);return T[a]=w[a],j(w.groupedRings,T)}))},i.isolines=function(e,n,s){if(!ht(s=s||{}))throw new Error("options is invalid");var a=s.zProperty||"elevation",c=s.commonProperties||{},h=s.breaksProperties||[];if(kt(e,"Point","Input must contain Points"),!n)throw new Error("breaks is required");if(!Array.isArray(n))throw new Error("breaks must be an Array");if(!ht(c))throw new Error("commonProperties must be an Object");if(!Array.isArray(h))throw new Error("breaksProperties must be an Array");var g=ar(e,{zProperty:a,flip:!0});return M(function(y,w,_){var T=Ht(_),E=T[2]-T[0],P=T[3]-T[1],z=T[0],N=T[1],B=w[0].length-1,R=w.length-1,Y=E/B,nt=P/R,F=function(Z){Z[0]=Z[0]*Y+z,Z[1]=Z[1]*nt+N};return y.forEach(function(Z){xt(Z,F)}),y}(function(y,w,_,T,E){for(var P=[],z=1;z<w.length;z++){var N=+w[z],B=je({},T,E[z]);B[_]=N;var R=I(ut(y,N),B);P.push(R)}return P}(g,n,a,c,h),g,e))},i.kinks=function(e){var n,s,a={type:"FeatureCollection",features:[]};if((s=e.type==="Feature"?e.geometry:e).type==="LineString")n=[s.coordinates];else if(s.type==="MultiLineString")n=s.coordinates;else if(s.type==="MultiPolygon")n=[].concat.apply([],s.coordinates);else{if(s.type!=="Polygon")throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");n=s.coordinates}return n.forEach(function(c){n.forEach(function(h){for(var g=0;g<c.length-1;g++)for(var y=g;y<h.length-1;y++)if(!(c===h&&(Math.abs(g-y)===1||g===0&&y===c.length-2&&c[g][0]===c[c.length-1][0]&&c[g][1]===c[c.length-1][1]))){var w=qu(c[g][0],c[g][1],c[g+1][0],c[g+1][1],h[y][0],h[y][1],h[y+1][0],h[y+1][1]);w&&a.features.push(p([w[0],w[1]]))}})}),a},i.length=od,i.lengthToDegrees=st,i.lengthToRadians=W,i.lineArc=On,i.lineChunk=function(e,n,s){if(!ht(s=s||{}))throw new Error("options is invalid");var a=s.units,c=s.reverse;if(!e)throw new Error("geojson is required");if(n<=0)throw new Error("segmentLength must be greater than 0");var h=[];return ae(e,function(g){c&&(g.geometry.coordinates=g.geometry.coordinates.reverse()),function(y,w,_,T){var E=od(y,{units:_});if(E<=w)return T(y);var P=E/w;Number.isInteger(P)||(P=Math.floor(P)+1);for(var z=0;z<P;z++)T(Ac(y,w*z,w*(z+1),{units:_}),z)}(g,n,a,function(y){h.push(y)})}),M(h)},i.lineDistance=od,i.lineEach=vi,i.lineIntersect=dn,i.lineOffset=function(e,n,s){if(!ht(s=s||{}))throw new Error("options is invalid");var a=s.units;if(!e)throw new Error("geojson is required");if(n==null||isNaN(n))throw new Error("distance is required");var c=Ot(e),h=e.properties;switch(c){case"LineString":return S_(e,n,a);case"MultiLineString":var g=[];return ae(e,function(y){g.push(S_(y,n,a).geometry.coordinates)}),I(g,h);default:throw new Error("geometry "+c+" is not supported")}},i.lineOverlap=Xm,i.lineReduce=Xi,i.lineSegment=Zn,i.lineSlice=function(e,n,s){var a=G(s);if(Ot(s)!=="LineString")throw new Error("line must be a LineString");for(var c,h=ua(s,e),g=ua(s,n),y=[(c=h.properties.index<=g.properties.index?[h,g]:[g,h])[0].geometry.coordinates],w=c[0].properties.index+1;w<c[1].properties.index+1;w++)y.push(a[w]);return y.push(c[1].geometry.coordinates),k(y,s.properties)},i.lineSliceAlong=Ac,i.lineSplit=function(e,n){if(!e)throw new Error("line is required");if(!n)throw new Error("splitter is required");var s=Ot(e),a=Ot(n);if(s!=="LineString")throw new Error("line must be LineString");if(a==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(a==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var c=af(n,{precision:7});switch(a){case"Point":return ke(e,c);case"MultiPoint":return ie(e,c);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return ie(e,dn(e,c))}},i.lineString=k,i.lineStringToPolygon=qm,i.lineStrings=C,i.lineToPolygon=qm,i.mask=function(e,n){var s,a=gL(n),c=null;return e.type==="FeatureCollection"?c=D2((s=e).features.length===2?Fl.union(s.features[0].geometry.coordinates,s.features[1].geometry.coordinates):Fl.union.apply(Fl,s.features.map(function(h){return h.geometry.coordinates}))):c=D2(Fl.union(e.geometry.coordinates)),c.geometry.coordinates.forEach(function(h){a.geometry.coordinates.push(h[0])}),a},i.meta=Et,i.midpoint=function(e,n){return $i(e,nr(e,n)/2,Cs(e,n))},i.moranIndex=function(e,n){var s=n.inputField,a=n.threshold||1e5,c=n.p||2,h=n.binary||!1,g=ok(e,{alpha:n.alpha||-1,binary:h,p:c,standardization:n.standardization||!0,threshold:a}),y=[];yt(e,function(tt){var Q=tt.properties||{};y.push(Q[s])});for(var w=sk(y),_=function(tt){for(var Q=sk(tt),Bt=0,Tt=0,Ut=tt;Tt<Ut.length;Tt++){var Ct=Ut[Tt];Bt+=Math.pow(Ct-Q,2)}return Bt/tt.length}(y),T=0,E=0,P=0,z=0,N=g.length,B=0;B<N;B++){for(var R=0,Y=0;Y<N;Y++)T+=g[B][Y]*(y[B]-w)*(y[Y]-w),E+=g[B][Y],P+=Math.pow(g[B][Y]+g[Y][B],2),R+=g[B][Y]+g[Y][B];z+=Math.pow(R,2)}var nt=T/E/_,F=-1/(N-1),Z=(N*N*(P*=.5)-N*z+E*E*3)/((N-1)*(N+1)*(E*E))-F*F,X=Math.sqrt(Z);return{expectedMoranIndex:F,moranIndex:nt,stdNorm:X,zNorm:(nt-F)/X}},i.multiLineString=I,i.multiPoint=D,i.multiPolygon=j,i.nearest=Xh,i.nearestPoint=Xh,i.nearestPointOnLine=ua,i.nearestPointToLine=function(e,n,s){s===void 0&&(s={});var a=s.units,c=s.properties||{},h=function(w){var _=[];switch(w.geometry?w.geometry.type:w.type){case"GeometryCollection":return ee(w,function(T){T.type==="Point"&&_.push({type:"Feature",properties:{},geometry:T})}),{type:"FeatureCollection",features:_};case"FeatureCollection":return w.features=w.features.filter(function(T){return T.geometry.type==="Point"}),w;default:throw new Error("points must be a Point Collection")}}(e);if(!h.features.length)throw new Error("points must contain features");if(!n)throw new Error("line is required");if(Ot(n)!=="LineString")throw new Error("line must be a LineString");var g=1/0,y=null;return yt(h,function(w){var _=jm(w,n,{units:a});_<g&&(g=_,y=w)}),y&&(y.properties=je({dist:g},y.properties,c)),y},i.planepoint=function(e,n){var s=A(e),a=dt(n).coordinates[0];if(a.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var c=n.properties||{},h=c.a,g=c.b,y=c.c,w=s[0],_=s[1],T=a[0][0],E=a[0][1],P=h!==void 0?h:a[0][2],z=a[1][0],N=a[1][1],B=g!==void 0?g:a[1][2],R=a[2][0],Y=a[2][1],nt=y!==void 0?y:a[2][2];return(nt*(w-T)*(_-N)+P*(w-z)*(_-Y)+B*(w-R)*(_-E)-B*(w-T)*(_-Y)-nt*(w-z)*(_-E)-P*(w-R)*(_-N))/((w-T)*(_-N)+(w-z)*(_-Y)+(w-R)*(_-E)-(w-T)*(_-Y)-(w-z)*(_-E)-(w-R)*(_-N))},i.point=p,i.pointGrid=sf,i.pointOnFeature=Hm,i.pointOnLine=ua,i.pointOnSurface=Hm,i.pointToLineDistance=jm,i.points=m,i.pointsWithinPolygon=xc,i.polygon=v,i.polygonSmooth=function(e,n){var s=[],a=n.iterations||1;if(!e)throw new Error("inputPolys is required");return ee(e,function(c,h,g){var y,w,_;switch(c.type){case"Polygon":y=[[]];for(var T=0;T<a;T++)_=[[]],w=c,T>0&&(w=v(y).geometry),EI(w,_),y=_.slice(0);s.push(v(y,g));break;case"MultiPolygon":y=[[[]]];for(var E=0;E<a;E++)_=[[[]]],w=c,E>0&&(w=j(y).geometry),TI(w,_),y=_.slice(0);s.push(j(y,g));break;default:throw new Error("geometry is invalid, must be Polygon or MultiPolygon")}}),M(s)},i.polygonTangents=function(e,n){var s,a,c,h,g=G(e),y=G(n),w=Ht(n),_=0,T=null;switch(g[0]>w[0]&&g[0]<w[2]&&g[1]>w[1]&&g[1]<w[3]&&(_=(T=Xh(e,Du(n))).properties.featureIndex),Ot(n)){case"Polygon":s=y[0][_],a=y[0][0],T!==null&&T.geometry.coordinates[1]<g[1]&&(a=y[0][_]),h=df(y[0][0],y[0][y[0].length-1],g);var E=b_(y[0],g,h,c,s,a);s=E[0],a=E[1];break;case"MultiPolygon":for(var P=0,z=0,N=0,B=0;B<y[0].length;B++){P=B;for(var R=!1,Y=0;Y<y[0][B].length;Y++){if(z=Y,N===_){R=!0;break}N++}if(R)break}s=y[0][P][z],a=y[0][P][z],h=df(y[0][0][0],y[0][0][y[0][0].length-1],g),y.forEach(function(nt){var F=b_(nt[0],g,h,c,s,a);s=F[0],a=F[1]})}return M([p(s),p(a)])},i.polygonToLine=zn,i.polygonToLineString=zn,i.polygonize=function(e){var n=YM.fromGeoJson(e);n.deleteDangles(),n.deleteCutEdges();var s=[],a=[];return n.getEdgeRings().filter(function(c){return c.isValid()}).forEach(function(c){c.isHole()?s.push(c):a.push(c)}),s.forEach(function(c){M_.findEdgeRingContaining(c,a)&&a.push(c)}),M(a.map(function(c){return c.toPolygon()}))},i.polygons=x,i.projection=CI,i.propEach=zt,i.propReduce=fe,i.propertiesContainsFilter=Ib,i.radians2degrees=gt,i.radiansToDegrees=gt,i.radiansToDistance=q,i.radiansToLength=q,i.random=MI,i.randomLineString=fk,i.randomPoint=dk,i.randomPolygon=pk,i.randomPosition=yf,i.rewind=function(e,n){if(!ht(n=n||{}))throw new Error("options is invalid");var s=n.reverse||!1,a=n.mutate||!1;if(!e)throw new Error("<geojson> is required");if(typeof s!="boolean")throw new Error("<reverse> must be a boolean");if(typeof a!="boolean")throw new Error("<mutate> must be a boolean");a===!1&&(e=Si(e));var c=[];switch(e.type){case"GeometryCollection":return ee(e,function(h){Jm(h,s)}),e;case"FeatureCollection":return yt(e,function(h){yt(Jm(h,s),function(g){c.push(g)})}),M(c)}return Jm(e,s)},i.rhumbBearing=Dl,i.rhumbDestination=ud,i.rhumbDistance=Rl,i.round=J,i.sample=function(e,n){if(!e)throw new Error("featurecollection is required");if(n==null)throw new Error("num is required");if(typeof n!="number")throw new Error("num must be a number");return M(function(s,a){for(var c,h,g=s.slice(0),y=s.length,w=y-a;y-- >w;)c=g[h=Math.floor((y+1)*Math.random())],g[h]=g[y],g[y]=c;return g.slice(w)}(e.features,n))},i.sector=function(e,n,s,a,c){if(!ht(c=c||{}))throw new Error("options is invalid");var h=c.properties;if(!e)throw new Error("center is required");if(s==null)throw new Error("bearing1 is required");if(a==null)throw new Error("bearing2 is required");if(!n)throw new Error("radius is required");if(typeof c!="object")throw new Error("options must be an object");if(hf(s)===hf(a))return Vp(e,n,c);var g=G(e),y=On(e,n,s,a,c),w=[[g]];return xt(y,function(_){w[0].push(_)}),w[0].push(g),v(w,h)},i.segmentEach=rr,i.segmentReduce=mr,i.shortestPath=function(e,n,s){if(!ht(s=s||{}))throw new Error("options is invalid");var a=s.resolution,c=s.minDistance,h=s.obstacles||M([]);if(!e)throw new Error("start is required");if(!n)throw new Error("end is required");if(a&&!lt(a)||a<=0)throw new Error("options.resolution must be a number, greater than 0");if(c)throw new Error("options.minDistance is not yet implemented");var g=A(e),y=A(n);switch(e=p(g),n=p(y),Ot(h)){case"FeatureCollection":if(h.features.length===0)return k([g,y]);break;case"Polygon":h=M([u(dt(h))]);break;default:throw new Error("invalid obstacles")}var w=h;w.features.push(e),w.features.push(n);var _=Ht(E_(qp(Ht(w)),1.15));a||(a=nr([_[0],_[1]],[_[2],_[1]],s)/100),w.features.pop(),w.features.pop();for(var T=_[0],E=_[1],P=_[2],z=_[3],N=a/nr([T,E],[P,E],s)*(P-T),B=a/nr([T,E],[T,z],s)*(z-E),R=P-T,Y=z-E,nt=Math.floor(R/N),F=Math.floor(Y/B),Z=(R-nt*N)/2,X=[],tt=[],Q=[],Bt=[],Tt=1/0,Ut=1/0,Ct=z-(Y-F*B)/2,Wt=0;Ct>=E;){for(var Rt=[],It=[],Pt=T+Z,qt=0;Pt<=P;){var Nt=p([Pt,Ct]),Yt=cI(Nt,h);Rt.push(Yt?0:1),It.push(Pt+"|"+Ct);var vt=nr(Nt,e);!Yt&&vt<Tt&&(Tt=vt,Q={x:qt,y:Wt});var Le=nr(Nt,n);!Yt&&Le<Ut&&(Ut=Le,Bt={x:qt,y:Wt}),Pt+=N,qt++}tt.push(Rt),X.push(It),Ct-=B,Wt++}var le=new hd(tt,{diagonal:!0}),tr=le.grid[Q.y][Q.x],xe=le.grid[Bt.y][Bt.x],Ue=$m.search(le,tr,xe),pr=[g];return Ue.forEach(function(oi){var wn=X[oi.x][oi.y].split("|");pr.push([+wn[0],+wn[1]])}),pr.push(y),na(k(pr))},i.simplify=function(e,n){if(!ht(n=n||{}))throw new Error("options is invalid");var s=n.tolerance!==void 0?n.tolerance:1,a=n.highQuality||!1,c=n.mutate||!1;if(!e)throw new Error("geojson is required");if(s&&s<0)throw new Error("invalid tolerance");return c!==!0&&(e=Si(e)),ee(e,function(h){(function(g,y,w){var _=g.type;if(_==="Point"||_==="MultiPoint")return g;na(g,!0);var T=g.coordinates;switch(_){case"LineString":g.coordinates=Cm(T,y,w);break;case"MultiLineString":g.coordinates=T.map(function(E){return Cm(E,y,w)});break;case"Polygon":g.coordinates=qh(T,y,w);break;case"MultiPolygon":g.coordinates=T.map(function(E){return qh(E,y,w)})}})(h,s,a)}),e},i.square=Im,i.squareGrid=F2,i.standardDeviationalEllipse=function(e,n){if(!ht(n=n||{}))throw new Error("options is invalid");var s=n.steps||64,a=n.weight,c=n.properties||{};if(!lt(s))throw new Error("steps must be a number");if(!ht(c))throw new Error("properties must be a number");var h=Xt(e).length,g=Cb(e,{weight:a}),y=0,w=0,_=0;yt(e,function(Q){var Bt=Q.properties[a]||1,Tt=nk(G(Q),G(g));y+=Math.pow(Tt.x,2)*Bt,w+=Math.pow(Tt.y,2)*Bt,_+=Tt.x*Tt.y*Bt});var T=y-w,E=Math.sqrt(Math.pow(T,2)+4*Math.pow(_,2)),P=2*_,z=Math.atan((T+E)/P),N=180*z/Math.PI,B=0,R=0,Y=0;yt(e,function(Q){var Bt=Q.properties[a]||1,Tt=nk(G(Q),G(g));B+=Math.pow(Tt.x*Math.cos(z)-Tt.y*Math.sin(z),2)*Bt,R+=Math.pow(Tt.x*Math.sin(z)+Tt.y*Math.cos(z),2)*Bt,Y+=Bt});var nt=Math.sqrt(2*B/Y),F=Math.sqrt(2*R/Y),Z=ek(g,nt,F,{units:"degrees",angle:N,steps:s,properties:c}),X=xc(e,M([Z])),tt={meanCenterCoordinates:G(g),semiMajorAxis:nt,semiMinorAxis:F,numberOfFeatures:h,angle:N,percentageWithinEllipse:100*Xt(X).length/h};return Z.properties.standardDeviationalEllipse=tt,Z},i.tag=function(e,n,s,a){return e=Si(e),n=Si(n),yt(e,function(c){c.properties||(c.properties={}),yt(n,function(h){c.properties[a]===void 0&&Je(c,h)&&(c.properties[a]=h.properties[s])})}),e},i.tesselate=function(e){if(!e.geometry||e.geometry.type!=="Polygon"&&e.geometry.type!=="MultiPolygon")throw new Error("input must be a Polygon or MultiPolygon");var n={type:"FeatureCollection",features:[]};return e.geometry.type==="Polygon"?n.features=Ll(e.geometry.coordinates):e.geometry.coordinates.forEach(function(s){n.features=n.features.concat(Ll(s))}),n},i.tin=km,i.toMercator=ak,i.toWgs84=lk,i.transformRotate=k_,i.transformScale=E_,i.transformTranslate=function(e,n,s,a){if(!ht(a=a||{}))throw new Error("options is invalid");var c=a.units,h=a.zTranslation,g=a.mutate;if(!e)throw new Error("geojson is required");if(n==null||isNaN(n))throw new Error("distance is required");if(h&&typeof h!="number"&&isNaN(h))throw new Error("zTranslation is not a number");if(h=h!==void 0?h:0,n===0&&h===0)return e;if(s==null||isNaN(s))throw new Error("direction is required");return n<0&&(n=-n,s+=180),g!==!1&&g!==void 0||(e=Si(e)),xt(e,function(y){var w=G(ud(y,n,s,{units:c}));y[0]=w[0],y[1]=w[1],h&&y.length===3&&(y[2]+=h)}),e},i.triangleGrid=B2,i.truncate=af,i.union=function(e,n,s){s===void 0&&(s={});var a=dt(e),c=dt(n),h=Fl.union(a.coordinates,c.coordinates);return h.length===0?null:h.length===1?v(h[0],s.properties):j(h,s.properties)},i.unitsFactors=o,i.unkinkPolygon=function(e){var n=[];return ae(e,function(s){s.geometry.type==="Polygon"&&yt(hb(s),function(a){n.push(v(a.geometry.coordinates,s.properties))})}),M(n)},i.validateBBox=Gt,i.validateId=St,i.voronoi=function(e,n){if(!ht(n=n||{}))throw new Error("options is invalid");var s=n.bbox||[-180,-85,180,85];if(!e)throw new Error("points is required");if(!Array.isArray(s))throw new Error("bbox is invalid");return kt(e,"Point","points"),M(function(){var a=uI,c=hI,h=null;function g(y){return new Sb(y.map(function(w,_){var T=[Math.round(a(w,_,y)/wi)*wi,Math.round(c(w,_,y)/wi)*wi];return T.index=_,T.data=w,T}),h)}return g.polygons=function(y){return g(y).polygons()},g.links=function(y){return g(y).links()},g.triangles=function(y){return g(y).triangles()},g.x=function(y){return arguments.length?(a=typeof y=="function"?y:Y_(+y),g):a},g.y=function(y){return arguments.length?(c=typeof y=="function"?y:Y_(+y),g):c},g.extent=function(y){return arguments.length?(h=y==null?null:[[+y[0][0],+y[0][1]],[+y[1][0],+y[1][1]]],g):h&&[[h[0][0],h[0][1]],[h[1][0],h[1][1]]]},g.size=function(y){return arguments.length?(h=y==null?null:[[0,0],[+y[0],+y[1]]],g):h&&[h[1][0]-h[0][0],h[1][1]-h[0][1]]},g}().x(function(a){return a.geometry.coordinates[0]}).y(function(a){return a.geometry.coordinates[1]}).extent([[s[0],s[1]],[s[2],s[3]]]).polygons(e.features).map(kI))},i.within=xc,Object.defineProperty(i,"__esModule",{value:!0})});var u8={exports:{}};(function(i){(function(r){i.exports=r(eo)})(function(r){r.Map.mergeOptions({smoothWheelZoom:!0,smoothSensitivity:1}),r.Map.SmoothWheelZoom=r.Handler.extend({addHooks:function(){r.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this)},removeHooks:function(){r.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){this._isWheeling||this._onWheelStart(t),this._onWheeling(t)},_onWheelStart:function(t){var o=this._map;this._isWheeling=!0,this._wheelMousePosition=o.mouseEventToContainerPoint(t),this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),this._wheelStartLatLng=o.containerPointToLatLng(this._wheelMousePosition),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),o._panAnim&&o._panAnim.stop(),this._goalZoom=o.getZoom(),this._prevCenter=o.getCenter(),this._prevZoom=o.getZoom(),this._zoomAnimationId=requestAnimationFrame(this._updateWheelZoom.bind(this))},_onWheeling:function(t){var o=this._map;this._goalZoom=this._goalZoom-t.deltaY*.003*o.options.smoothSensitivity,(this._goalZoom<o.getMinZoom()||this._goalZoom>o.getMaxZoom())&&(this._goalZoom=o._limitZoom(this._goalZoom)),this._wheelMousePosition=this._map.mouseEventToContainerPoint(t),clearTimeout(this._timeoutId),this._timeoutId=setTimeout(this._onWheelEnd.bind(this),200),r.DomEvent.preventDefault(t),r.DomEvent.stopPropagation(t)},_onWheelEnd:function(t){this._isWheeling=!1,cancelAnimationFrame(this._zoomAnimationId),this._map.fire("zoomend")},_updateWheelZoom:function(){var t=this._map;if(!(!t.getCenter().equals(this._prevCenter)||t.getZoom()!=this._prevZoom)){this._zoom=t.getZoom()+(this._goalZoom-t.getZoom())*.3,this._zoom=Math.floor(this._zoom*100)/100;var o=this._wheelMousePosition.subtract(this._centerPoint);o.x===0&&o.y===0||(t.options.smoothWheelZoom==="center"?this._center=this._startLatLng:this._center=t.unproject(t.project(this._wheelStartLatLng,this._zoom).subtract(o),this._zoom),this._moved||(t._moveStart(!0,!1),this._moved=!0),t._move(this._center,this._zoom),this._prevCenter=t.getCenter(),this._prevZoom=t.getZoom(),t.fire("viewreset"),this._zoomAnimationId=requestAnimationFrame(this._updateWheelZoom.bind(this)))}}}),r.Map.addInitHook("addHandler","smoothWheelZoom",r.Map.SmoothWheelZoom)})})(u8);function k1(i){return Array.isArray(i)?`[${i.map(r=>k1(r)).join(",")}]`:typeof i=="number"?`${i}`:typeof i=="string"?`"${i}"`:typeof i=="object"&&i!==null?Object.keys(i).sort().map(r=>`${r}:${k1(i[r])}`).join("|"):String(i)}async function h8(i){const r=await crypto.subtle.digest("SHA-1",new TextEncoder().encode(i));return Array.from(new Uint8Array(r)).map(t=>t.toString(16).padStart(2,"0")).join("")}async function sP(i,r=16){return(await h8(String(i))).slice(0,r)}async function d8(i,r){return await sP(k1(i),r)}var ci;(function(i){i.assertEqual=l=>l;function r(l){}i.assertIs=r;function t(l){throw new Error}i.assertNever=t,i.arrayToEnum=l=>{const u={};for(const d of l)u[d]=d;return u},i.getValidEnumValues=l=>{const u=i.objectKeys(l).filter(p=>typeof l[l[p]]!="number"),d={};for(const p of u)d[p]=l[p];return i.objectValues(d)},i.objectValues=l=>i.objectKeys(l).map(function(u){return l[u]}),i.objectKeys=typeof Object.keys=="function"?l=>Object.keys(l):l=>{const u=[];for(const d in l)Object.prototype.hasOwnProperty.call(l,d)&&u.push(d);return u},i.find=(l,u)=>{for(const d of l)if(u(d))return d},i.isInteger=typeof Number.isInteger=="function"?l=>Number.isInteger(l):l=>typeof l=="number"&&isFinite(l)&&Math.floor(l)===l;function o(l,u=" | "){return l.map(d=>typeof d=="string"?`'${d}'`:d).join(u)}i.joinValues=o,i.jsonStringifyReplacer=(l,u)=>typeof u=="bigint"?u.toString():u})(ci||(ci={}));var E1;(function(i){i.mergeShapes=(r,t)=>({...r,...t})})(E1||(E1={}));const Ie=ci.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),iu=i=>{switch(typeof i){case"undefined":return Ie.undefined;case"string":return Ie.string;case"number":return isNaN(i)?Ie.nan:Ie.number;case"boolean":return Ie.boolean;case"function":return Ie.function;case"bigint":return Ie.bigint;case"symbol":return Ie.symbol;case"object":return Array.isArray(i)?Ie.array:i===null?Ie.null:i.then&&typeof i.then=="function"&&i.catch&&typeof i.catch=="function"?Ie.promise:typeof Map<"u"&&i instanceof Map?Ie.map:typeof Set<"u"&&i instanceof Set?Ie.set:typeof Date<"u"&&i instanceof Date?Ie.date:Ie.object;default:return Ie.unknown}},me=ci.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),p8=i=>JSON.stringify(i,null,2).replace(/"([^"]+)":/g,"$1:");class za extends Error{constructor(r){super(),this.issues=[],this.addIssue=o=>{this.issues=[...this.issues,o]},this.addIssues=(o=[])=>{this.issues=[...this.issues,...o]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=r}get errors(){return this.issues}format(r){const t=r||function(u){return u.message},o={_errors:[]},l=u=>{for(const d of u.issues)if(d.code==="invalid_union")d.unionErrors.map(l);else if(d.code==="invalid_return_type")l(d.returnTypeError);else if(d.code==="invalid_arguments")l(d.argumentsError);else if(d.path.length===0)o._errors.push(t(d));else{let p=o,m=0;for(;m<d.path.length;){const v=d.path[m];m===d.path.length-1?(p[v]=p[v]||{_errors:[]},p[v]._errors.push(t(d))):p[v]=p[v]||{_errors:[]},p=p[v],m++}}};return l(this),o}toString(){return this.message}get message(){return JSON.stringify(this.issues,ci.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(r=t=>t.message){const t={},o=[];for(const l of this.issues)l.path.length>0?(t[l.path[0]]=t[l.path[0]]||[],t[l.path[0]].push(r(l))):o.push(r(l));return{formErrors:o,fieldErrors:t}}get formErrors(){return this.flatten()}}za.create=i=>new za(i);const Bg=(i,r)=>{let t;switch(i.code){case me.invalid_type:i.received===Ie.undefined?t="Required":t=`Expected ${i.expected}, received ${i.received}`;break;case me.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(i.expected,ci.jsonStringifyReplacer)}`;break;case me.unrecognized_keys:t=`Unrecognized key(s) in object: ${ci.joinValues(i.keys,", ")}`;break;case me.invalid_union:t="Invalid input";break;case me.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${ci.joinValues(i.options)}`;break;case me.invalid_enum_value:t=`Invalid enum value. Expected ${ci.joinValues(i.options)}, received '${i.received}'`;break;case me.invalid_arguments:t="Invalid function arguments";break;case me.invalid_return_type:t="Invalid function return type";break;case me.invalid_date:t="Invalid date";break;case me.invalid_string:typeof i.validation=="object"?"includes"in i.validation?(t=`Invalid input: must include "${i.validation.includes}"`,typeof i.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${i.validation.position}`)):"startsWith"in i.validation?t=`Invalid input: must start with "${i.validation.startsWith}"`:"endsWith"in i.validation?t=`Invalid input: must end with "${i.validation.endsWith}"`:ci.assertNever(i.validation):i.validation!=="regex"?t=`Invalid ${i.validation}`:t="Invalid";break;case me.too_small:i.type==="array"?t=`Array must contain ${i.exact?"exactly":i.inclusive?"at least":"more than"} ${i.minimum} element(s)`:i.type==="string"?t=`String must contain ${i.exact?"exactly":i.inclusive?"at least":"over"} ${i.minimum} character(s)`:i.type==="number"?t=`Number must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${i.minimum}`:i.type==="date"?t=`Date must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(i.minimum))}`:t="Invalid input";break;case me.too_big:i.type==="array"?t=`Array must contain ${i.exact?"exactly":i.inclusive?"at most":"less than"} ${i.maximum} element(s)`:i.type==="string"?t=`String must contain ${i.exact?"exactly":i.inclusive?"at most":"under"} ${i.maximum} character(s)`:i.type==="number"?t=`Number must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`:i.type==="bigint"?t=`BigInt must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`:i.type==="date"?t=`Date must be ${i.exact?"exactly":i.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(i.maximum))}`:t="Invalid input";break;case me.custom:t="Invalid input";break;case me.invalid_intersection_types:t="Intersection results could not be merged";break;case me.not_multiple_of:t=`Number must be a multiple of ${i.multipleOf}`;break;case me.not_finite:t="Number must be finite";break;default:t=r.defaultError,ci.assertNever(i)}return{message:t}};let aP=Bg;function f8(i){aP=i}function Wv(){return aP}const Zv=i=>{const{data:r,path:t,errorMaps:o,issueData:l}=i,u=[...t,...l.path||[]],d={...l,path:u};let p="";const m=o.filter(v=>!!v).slice().reverse();for(const v of m)p=v(d,{data:r,defaultError:p}).message;return{...l,path:u,message:l.message||p}},g8=[];function Ae(i,r){const t=Zv({issueData:r,data:i.data,path:i.path,errorMaps:[i.common.contextualErrorMap,i.schemaErrorMap,Wv(),Bg].filter(o=>!!o)});i.common.issues.push(t)}class bo{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(r,t){const o=[];for(const l of t){if(l.status==="aborted")return hr;l.status==="dirty"&&r.dirty(),o.push(l.value)}return{status:r.value,value:o}}static async mergeObjectAsync(r,t){const o=[];for(const l of t)o.push({key:await l.key,value:await l.value});return bo.mergeObjectSync(r,o)}static mergeObjectSync(r,t){const o={};for(const l of t){const{key:u,value:d}=l;if(u.status==="aborted"||d.status==="aborted")return hr;u.status==="dirty"&&r.dirty(),d.status==="dirty"&&r.dirty(),u.value!=="__proto__"&&(typeof d.value<"u"||l.alwaysSet)&&(o[u.value]=d.value)}return{status:r.value,value:o}}}const hr=Object.freeze({status:"aborted"}),lP=i=>({status:"dirty",value:i}),Oo=i=>({status:"valid",value:i}),T1=i=>i.status==="aborted",S1=i=>i.status==="dirty",jg=i=>i.status==="valid",Yv=i=>typeof Promise<"u"&&i instanceof Promise;var Ye;(function(i){i.errToObj=r=>typeof r=="string"?{message:r}:r||{},i.toString=r=>typeof r=="string"?r:r==null?void 0:r.message})(Ye||(Ye={}));class vl{constructor(r,t,o,l){this._cachedPath=[],this.parent=r,this.data=t,this._path=o,this._key=l}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const mT=(i,r)=>{if(jg(r))return{success:!0,data:r.value};if(!i.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new za(i.common.issues);return this._error=t,this._error}}};function gr(i){if(!i)return{};const{errorMap:r,invalid_type_error:t,required_error:o,description:l}=i;if(r&&(t||o))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return r?{errorMap:r,description:l}:{errorMap:(u,d)=>u.code!=="invalid_type"?{message:d.defaultError}:typeof d.data>"u"?{message:o??d.defaultError}:{message:t??d.defaultError},description:l}}class br{constructor(r){this.spa=this.safeParseAsync,this._def=r,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(r){return iu(r.data)}_getOrReturnCtx(r,t){return t||{common:r.parent.common,data:r.data,parsedType:iu(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}_processInputParams(r){return{status:new bo,ctx:{common:r.parent.common,data:r.data,parsedType:iu(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}}_parseSync(r){const t=this._parse(r);if(Yv(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(r){const t=this._parse(r);return Promise.resolve(t)}parse(r,t){const o=this.safeParse(r,t);if(o.success)return o.data;throw o.error}safeParse(r,t){var o;const l={common:{issues:[],async:(o=t==null?void 0:t.async)!==null&&o!==void 0?o:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:iu(r)},u=this._parseSync({data:r,path:l.path,parent:l});return mT(l,u)}async parseAsync(r,t){const o=await this.safeParseAsync(r,t);if(o.success)return o.data;throw o.error}async safeParseAsync(r,t){const o={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:iu(r)},l=this._parse({data:r,path:o.path,parent:o}),u=await(Yv(l)?l:Promise.resolve(l));return mT(o,u)}refine(r,t){const o=l=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(l):t;return this._refinement((l,u)=>{const d=r(l),p=()=>u.addIssue({code:me.custom,...o(l)});return typeof Promise<"u"&&d instanceof Promise?d.then(m=>m?!0:(p(),!1)):d?!0:(p(),!1)})}refinement(r,t){return this._refinement((o,l)=>r(o)?!0:(l.addIssue(typeof t=="function"?t(o,l):t),!1))}_refinement(r){return new Fa({schema:this,typeName:er.ZodEffects,effect:{type:"refinement",refinement:r}})}superRefine(r){return this._refinement(r)}optional(){return ac.create(this,this._def)}nullable(){return Ih.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Na.create(this,this._def)}promise(){return Ep.create(this,this._def)}or(r){return qg.create([this,r],this._def)}and(r){return Vg.create(this,r,this._def)}transform(r){return new Fa({...gr(this._def),schema:this,typeName:er.ZodEffects,effect:{type:"transform",transform:r}})}default(r){const t=typeof r=="function"?r:()=>r;return new Kg({...gr(this._def),innerType:this,defaultValue:t,typeName:er.ZodDefault})}brand(){return new uP({typeName:er.ZodBranded,type:this,...gr(this._def)})}catch(r){const t=typeof r=="function"?r:()=>r;return new Qv({...gr(this._def),innerType:this,catchValue:t,typeName:er.ZodCatch})}describe(r){const t=this.constructor;return new t({...this._def,description:r})}pipe(r){return um.create(this,r)}readonly(){return ty.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const m8=/^c[^\s-]{8,}$/i,v8=/^[a-z][a-z0-9]*$/,y8=/^[0-9A-HJKMNP-TV-Z]{26}$/,b8=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,w8=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,x8="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let zw;const _8=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,k8=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,E8=i=>i.precision?i.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${i.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${i.precision}}Z$`):i.precision===0?i.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):i.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function T8(i,r){return!!((r==="v4"||!r)&&_8.test(i)||(r==="v6"||!r)&&k8.test(i))}class Ia extends br{_parse(r){if(this._def.coerce&&(r.data=String(r.data)),this._getType(r)!==Ie.string){const l=this._getOrReturnCtx(r);return Ae(l,{code:me.invalid_type,expected:Ie.string,received:l.parsedType}),hr}const t=new bo;let o;for(const l of this._def.checks)if(l.kind==="min")r.data.length<l.value&&(o=this._getOrReturnCtx(r,o),Ae(o,{code:me.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),t.dirty());else if(l.kind==="max")r.data.length>l.value&&(o=this._getOrReturnCtx(r,o),Ae(o,{code:me.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),t.dirty());else if(l.kind==="length"){const u=r.data.length>l.value,d=r.data.length<l.value;(u||d)&&(o=this._getOrReturnCtx(r,o),u?Ae(o,{code:me.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):d&&Ae(o,{code:me.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),t.dirty())}else if(l.kind==="email")w8.test(r.data)||(o=this._getOrReturnCtx(r,o),Ae(o,{validation:"email",code:me.invalid_string,message:l.message}),t.dirty());else if(l.kind==="emoji")zw||(zw=new RegExp(x8,"u")),zw.test(r.data)||(o=this._getOrReturnCtx(r,o),Ae(o,{validation:"emoji",code:me.invalid_string,message:l.message}),t.dirty());else if(l.kind==="uuid")b8.test(r.data)||(o=this._getOrReturnCtx(r,o),Ae(o,{validation:"uuid",code:me.invalid_string,message:l.message}),t.dirty());else if(l.kind==="cuid")m8.test(r.data)||(o=this._getOrReturnCtx(r,o),Ae(o,{validation:"cuid",code:me.invalid_string,message:l.message}),t.dirty());else if(l.kind==="cuid2")v8.test(r.data)||(o=this._getOrReturnCtx(r,o),Ae(o,{validation:"cuid2",code:me.invalid_string,message:l.message}),t.dirty());else if(l.kind==="ulid")y8.test(r.data)||(o=this._getOrReturnCtx(r,o),Ae(o,{validation:"ulid",code:me.invalid_string,message:l.message}),t.dirty());else if(l.kind==="url")try{new URL(r.data)}catch{o=this._getOrReturnCtx(r,o),Ae(o,{validation:"url",code:me.invalid_string,message:l.message}),t.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(r.data)||(o=this._getOrReturnCtx(r,o),Ae(o,{validation:"regex",code:me.invalid_string,message:l.message}),t.dirty())):l.kind==="trim"?r.data=r.data.trim():l.kind==="includes"?r.data.includes(l.value,l.position)||(o=this._getOrReturnCtx(r,o),Ae(o,{code:me.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),t.dirty()):l.kind==="toLowerCase"?r.data=r.data.toLowerCase():l.kind==="toUpperCase"?r.data=r.data.toUpperCase():l.kind==="startsWith"?r.data.startsWith(l.value)||(o=this._getOrReturnCtx(r,o),Ae(o,{code:me.invalid_string,validation:{startsWith:l.value},message:l.message}),t.dirty()):l.kind==="endsWith"?r.data.endsWith(l.value)||(o=this._getOrReturnCtx(r,o),Ae(o,{code:me.invalid_string,validation:{endsWith:l.value},message:l.message}),t.dirty()):l.kind==="datetime"?E8(l).test(r.data)||(o=this._getOrReturnCtx(r,o),Ae(o,{code:me.invalid_string,validation:"datetime",message:l.message}),t.dirty()):l.kind==="ip"?T8(r.data,l.version)||(o=this._getOrReturnCtx(r,o),Ae(o,{validation:"ip",code:me.invalid_string,message:l.message}),t.dirty()):ci.assertNever(l);return{status:t.value,value:r.data}}_regex(r,t,o){return this.refinement(l=>r.test(l),{validation:t,code:me.invalid_string,...Ye.errToObj(o)})}_addCheck(r){return new Ia({...this._def,checks:[...this._def.checks,r]})}email(r){return this._addCheck({kind:"email",...Ye.errToObj(r)})}url(r){return this._addCheck({kind:"url",...Ye.errToObj(r)})}emoji(r){return this._addCheck({kind:"emoji",...Ye.errToObj(r)})}uuid(r){return this._addCheck({kind:"uuid",...Ye.errToObj(r)})}cuid(r){return this._addCheck({kind:"cuid",...Ye.errToObj(r)})}cuid2(r){return this._addCheck({kind:"cuid2",...Ye.errToObj(r)})}ulid(r){return this._addCheck({kind:"ulid",...Ye.errToObj(r)})}ip(r){return this._addCheck({kind:"ip",...Ye.errToObj(r)})}datetime(r){var t;return typeof r=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:r}):this._addCheck({kind:"datetime",precision:typeof(r==null?void 0:r.precision)>"u"?null:r==null?void 0:r.precision,offset:(t=r==null?void 0:r.offset)!==null&&t!==void 0?t:!1,...Ye.errToObj(r==null?void 0:r.message)})}regex(r,t){return this._addCheck({kind:"regex",regex:r,...Ye.errToObj(t)})}includes(r,t){return this._addCheck({kind:"includes",value:r,position:t==null?void 0:t.position,...Ye.errToObj(t==null?void 0:t.message)})}startsWith(r,t){return this._addCheck({kind:"startsWith",value:r,...Ye.errToObj(t)})}endsWith(r,t){return this._addCheck({kind:"endsWith",value:r,...Ye.errToObj(t)})}min(r,t){return this._addCheck({kind:"min",value:r,...Ye.errToObj(t)})}max(r,t){return this._addCheck({kind:"max",value:r,...Ye.errToObj(t)})}length(r,t){return this._addCheck({kind:"length",value:r,...Ye.errToObj(t)})}nonempty(r){return this.min(1,Ye.errToObj(r))}trim(){return new Ia({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ia({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ia({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(r=>r.kind==="datetime")}get isEmail(){return!!this._def.checks.find(r=>r.kind==="email")}get isURL(){return!!this._def.checks.find(r=>r.kind==="url")}get isEmoji(){return!!this._def.checks.find(r=>r.kind==="emoji")}get isUUID(){return!!this._def.checks.find(r=>r.kind==="uuid")}get isCUID(){return!!this._def.checks.find(r=>r.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(r=>r.kind==="cuid2")}get isULID(){return!!this._def.checks.find(r=>r.kind==="ulid")}get isIP(){return!!this._def.checks.find(r=>r.kind==="ip")}get minLength(){let r=null;for(const t of this._def.checks)t.kind==="min"&&(r===null||t.value>r)&&(r=t.value);return r}get maxLength(){let r=null;for(const t of this._def.checks)t.kind==="max"&&(r===null||t.value<r)&&(r=t.value);return r}}Ia.create=i=>{var r;return new Ia({checks:[],typeName:er.ZodString,coerce:(r=i==null?void 0:i.coerce)!==null&&r!==void 0?r:!1,...gr(i)})};function S8(i,r){const t=(i.toString().split(".")[1]||"").length,o=(r.toString().split(".")[1]||"").length,l=t>o?t:o,u=parseInt(i.toFixed(l).replace(".","")),d=parseInt(r.toFixed(l).replace(".",""));return u%d/Math.pow(10,l)}class vu extends br{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(r){if(this._def.coerce&&(r.data=Number(r.data)),this._getType(r)!==Ie.number){const l=this._getOrReturnCtx(r);return Ae(l,{code:me.invalid_type,expected:Ie.number,received:l.parsedType}),hr}let t;const o=new bo;for(const l of this._def.checks)l.kind==="int"?ci.isInteger(r.data)||(t=this._getOrReturnCtx(r,t),Ae(t,{code:me.invalid_type,expected:"integer",received:"float",message:l.message}),o.dirty()):l.kind==="min"?(l.inclusive?r.data<l.value:r.data<=l.value)&&(t=this._getOrReturnCtx(r,t),Ae(t,{code:me.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),o.dirty()):l.kind==="max"?(l.inclusive?r.data>l.value:r.data>=l.value)&&(t=this._getOrReturnCtx(r,t),Ae(t,{code:me.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),o.dirty()):l.kind==="multipleOf"?S8(r.data,l.value)!==0&&(t=this._getOrReturnCtx(r,t),Ae(t,{code:me.not_multiple_of,multipleOf:l.value,message:l.message}),o.dirty()):l.kind==="finite"?Number.isFinite(r.data)||(t=this._getOrReturnCtx(r,t),Ae(t,{code:me.not_finite,message:l.message}),o.dirty()):ci.assertNever(l);return{status:o.value,value:r.data}}gte(r,t){return this.setLimit("min",r,!0,Ye.toString(t))}gt(r,t){return this.setLimit("min",r,!1,Ye.toString(t))}lte(r,t){return this.setLimit("max",r,!0,Ye.toString(t))}lt(r,t){return this.setLimit("max",r,!1,Ye.toString(t))}setLimit(r,t,o,l){return new vu({...this._def,checks:[...this._def.checks,{kind:r,value:t,inclusive:o,message:Ye.toString(l)}]})}_addCheck(r){return new vu({...this._def,checks:[...this._def.checks,r]})}int(r){return this._addCheck({kind:"int",message:Ye.toString(r)})}positive(r){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ye.toString(r)})}negative(r){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ye.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ye.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ye.toString(r)})}multipleOf(r,t){return this._addCheck({kind:"multipleOf",value:r,message:Ye.toString(t)})}finite(r){return this._addCheck({kind:"finite",message:Ye.toString(r)})}safe(r){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ye.toString(r)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ye.toString(r)})}get minValue(){let r=null;for(const t of this._def.checks)t.kind==="min"&&(r===null||t.value>r)&&(r=t.value);return r}get maxValue(){let r=null;for(const t of this._def.checks)t.kind==="max"&&(r===null||t.value<r)&&(r=t.value);return r}get isInt(){return!!this._def.checks.find(r=>r.kind==="int"||r.kind==="multipleOf"&&ci.isInteger(r.value))}get isFinite(){let r=null,t=null;for(const o of this._def.checks){if(o.kind==="finite"||o.kind==="int"||o.kind==="multipleOf")return!0;o.kind==="min"?(t===null||o.value>t)&&(t=o.value):o.kind==="max"&&(r===null||o.value<r)&&(r=o.value)}return Number.isFinite(t)&&Number.isFinite(r)}}vu.create=i=>new vu({checks:[],typeName:er.ZodNumber,coerce:(i==null?void 0:i.coerce)||!1,...gr(i)});class yu extends br{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(r){if(this._def.coerce&&(r.data=BigInt(r.data)),this._getType(r)!==Ie.bigint){const l=this._getOrReturnCtx(r);return Ae(l,{code:me.invalid_type,expected:Ie.bigint,received:l.parsedType}),hr}let t;const o=new bo;for(const l of this._def.checks)l.kind==="min"?(l.inclusive?r.data<l.value:r.data<=l.value)&&(t=this._getOrReturnCtx(r,t),Ae(t,{code:me.too_small,type:"bigint",minimum:l.value,inclusive:l.inclusive,message:l.message}),o.dirty()):l.kind==="max"?(l.inclusive?r.data>l.value:r.data>=l.value)&&(t=this._getOrReturnCtx(r,t),Ae(t,{code:me.too_big,type:"bigint",maximum:l.value,inclusive:l.inclusive,message:l.message}),o.dirty()):l.kind==="multipleOf"?r.data%l.value!==BigInt(0)&&(t=this._getOrReturnCtx(r,t),Ae(t,{code:me.not_multiple_of,multipleOf:l.value,message:l.message}),o.dirty()):ci.assertNever(l);return{status:o.value,value:r.data}}gte(r,t){return this.setLimit("min",r,!0,Ye.toString(t))}gt(r,t){return this.setLimit("min",r,!1,Ye.toString(t))}lte(r,t){return this.setLimit("max",r,!0,Ye.toString(t))}lt(r,t){return this.setLimit("max",r,!1,Ye.toString(t))}setLimit(r,t,o,l){return new yu({...this._def,checks:[...this._def.checks,{kind:r,value:t,inclusive:o,message:Ye.toString(l)}]})}_addCheck(r){return new yu({...this._def,checks:[...this._def.checks,r]})}positive(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ye.toString(r)})}negative(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ye.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ye.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ye.toString(r)})}multipleOf(r,t){return this._addCheck({kind:"multipleOf",value:r,message:Ye.toString(t)})}get minValue(){let r=null;for(const t of this._def.checks)t.kind==="min"&&(r===null||t.value>r)&&(r=t.value);return r}get maxValue(){let r=null;for(const t of this._def.checks)t.kind==="max"&&(r===null||t.value<r)&&(r=t.value);return r}}yu.create=i=>{var r;return new yu({checks:[],typeName:er.ZodBigInt,coerce:(r=i==null?void 0:i.coerce)!==null&&r!==void 0?r:!1,...gr(i)})};class Hg extends br{_parse(r){if(this._def.coerce&&(r.data=!!r.data),this._getType(r)!==Ie.boolean){const t=this._getOrReturnCtx(r);return Ae(t,{code:me.invalid_type,expected:Ie.boolean,received:t.parsedType}),hr}return Oo(r.data)}}Hg.create=i=>new Hg({typeName:er.ZodBoolean,coerce:(i==null?void 0:i.coerce)||!1,...gr(i)});class Ph extends br{_parse(r){if(this._def.coerce&&(r.data=new Date(r.data)),this._getType(r)!==Ie.date){const l=this._getOrReturnCtx(r);return Ae(l,{code:me.invalid_type,expected:Ie.date,received:l.parsedType}),hr}if(isNaN(r.data.getTime())){const l=this._getOrReturnCtx(r);return Ae(l,{code:me.invalid_date}),hr}const t=new bo;let o;for(const l of this._def.checks)l.kind==="min"?r.data.getTime()<l.value&&(o=this._getOrReturnCtx(r,o),Ae(o,{code:me.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),t.dirty()):l.kind==="max"?r.data.getTime()>l.value&&(o=this._getOrReturnCtx(r,o),Ae(o,{code:me.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),t.dirty()):ci.assertNever(l);return{status:t.value,value:new Date(r.data.getTime())}}_addCheck(r){return new Ph({...this._def,checks:[...this._def.checks,r]})}min(r,t){return this._addCheck({kind:"min",value:r.getTime(),message:Ye.toString(t)})}max(r,t){return this._addCheck({kind:"max",value:r.getTime(),message:Ye.toString(t)})}get minDate(){let r=null;for(const t of this._def.checks)t.kind==="min"&&(r===null||t.value>r)&&(r=t.value);return r!=null?new Date(r):null}get maxDate(){let r=null;for(const t of this._def.checks)t.kind==="max"&&(r===null||t.value<r)&&(r=t.value);return r!=null?new Date(r):null}}Ph.create=i=>new Ph({checks:[],coerce:(i==null?void 0:i.coerce)||!1,typeName:er.ZodDate,...gr(i)});class Xv extends br{_parse(r){if(this._getType(r)!==Ie.symbol){const t=this._getOrReturnCtx(r);return Ae(t,{code:me.invalid_type,expected:Ie.symbol,received:t.parsedType}),hr}return Oo(r.data)}}Xv.create=i=>new Xv({typeName:er.ZodSymbol,...gr(i)});class Ug extends br{_parse(r){if(this._getType(r)!==Ie.undefined){const t=this._getOrReturnCtx(r);return Ae(t,{code:me.invalid_type,expected:Ie.undefined,received:t.parsedType}),hr}return Oo(r.data)}}Ug.create=i=>new Ug({typeName:er.ZodUndefined,...gr(i)});class Gg extends br{_parse(r){if(this._getType(r)!==Ie.null){const t=this._getOrReturnCtx(r);return Ae(t,{code:me.invalid_type,expected:Ie.null,received:t.parsedType}),hr}return Oo(r.data)}}Gg.create=i=>new Gg({typeName:er.ZodNull,...gr(i)});class kp extends br{constructor(){super(...arguments),this._any=!0}_parse(r){return Oo(r.data)}}kp.create=i=>new kp({typeName:er.ZodAny,...gr(i)});class _h extends br{constructor(){super(...arguments),this._unknown=!0}_parse(r){return Oo(r.data)}}_h.create=i=>new _h({typeName:er.ZodUnknown,...gr(i)});class dc extends br{_parse(r){const t=this._getOrReturnCtx(r);return Ae(t,{code:me.invalid_type,expected:Ie.never,received:t.parsedType}),hr}}dc.create=i=>new dc({typeName:er.ZodNever,...gr(i)});class Kv extends br{_parse(r){if(this._getType(r)!==Ie.undefined){const t=this._getOrReturnCtx(r);return Ae(t,{code:me.invalid_type,expected:Ie.void,received:t.parsedType}),hr}return Oo(r.data)}}Kv.create=i=>new Kv({typeName:er.ZodVoid,...gr(i)});class Na extends br{_parse(r){const{ctx:t,status:o}=this._processInputParams(r),l=this._def;if(t.parsedType!==Ie.array)return Ae(t,{code:me.invalid_type,expected:Ie.array,received:t.parsedType}),hr;if(l.exactLength!==null){const d=t.data.length>l.exactLength.value,p=t.data.length<l.exactLength.value;(d||p)&&(Ae(t,{code:d?me.too_big:me.too_small,minimum:p?l.exactLength.value:void 0,maximum:d?l.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:l.exactLength.message}),o.dirty())}if(l.minLength!==null&&t.data.length<l.minLength.value&&(Ae(t,{code:me.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,exact:!1,message:l.minLength.message}),o.dirty()),l.maxLength!==null&&t.data.length>l.maxLength.value&&(Ae(t,{code:me.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,exact:!1,message:l.maxLength.message}),o.dirty()),t.common.async)return Promise.all([...t.data].map((d,p)=>l.type._parseAsync(new vl(t,d,t.path,p)))).then(d=>bo.mergeArray(o,d));const u=[...t.data].map((d,p)=>l.type._parseSync(new vl(t,d,t.path,p)));return bo.mergeArray(o,u)}get element(){return this._def.type}min(r,t){return new Na({...this._def,minLength:{value:r,message:Ye.toString(t)}})}max(r,t){return new Na({...this._def,maxLength:{value:r,message:Ye.toString(t)}})}length(r,t){return new Na({...this._def,exactLength:{value:r,message:Ye.toString(t)}})}nonempty(r){return this.min(1,r)}}Na.create=(i,r)=>new Na({type:i,minLength:null,maxLength:null,exactLength:null,typeName:er.ZodArray,...gr(r)});function Kd(i){if(i instanceof Zi){const r={};for(const t in i.shape){const o=i.shape[t];r[t]=ac.create(Kd(o))}return new Zi({...i._def,shape:()=>r})}else return i instanceof Na?new Na({...i._def,type:Kd(i.element)}):i instanceof ac?ac.create(Kd(i.unwrap())):i instanceof Ih?Ih.create(Kd(i.unwrap())):i instanceof yl?yl.create(i.items.map(r=>Kd(r))):i}class Zi extends br{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const r=this._def.shape(),t=ci.objectKeys(r);return this._cached={shape:r,keys:t}}_parse(r){if(this._getType(r)!==Ie.object){const m=this._getOrReturnCtx(r);return Ae(m,{code:me.invalid_type,expected:Ie.object,received:m.parsedType}),hr}const{status:t,ctx:o}=this._processInputParams(r),{shape:l,keys:u}=this._getCached(),d=[];if(!(this._def.catchall instanceof dc&&this._def.unknownKeys==="strip"))for(const m in o.data)u.includes(m)||d.push(m);const p=[];for(const m of u){const v=l[m],x=o.data[m];p.push({key:{status:"valid",value:m},value:v._parse(new vl(o,x,o.path,m)),alwaysSet:m in o.data})}if(this._def.catchall instanceof dc){const m=this._def.unknownKeys;if(m==="passthrough")for(const v of d)p.push({key:{status:"valid",value:v},value:{status:"valid",value:o.data[v]}});else if(m==="strict")d.length>0&&(Ae(o,{code:me.unrecognized_keys,keys:d}),t.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const v of d){const x=o.data[v];p.push({key:{status:"valid",value:v},value:m._parse(new vl(o,x,o.path,v)),alwaysSet:v in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const m=[];for(const v of p){const x=await v.key;m.push({key:x,value:await v.value,alwaysSet:v.alwaysSet})}return m}).then(m=>bo.mergeObjectSync(t,m)):bo.mergeObjectSync(t,p)}get shape(){return this._def.shape()}strict(r){return Ye.errToObj,new Zi({...this._def,unknownKeys:"strict",...r!==void 0?{errorMap:(t,o)=>{var l,u,d,p;const m=(d=(u=(l=this._def).errorMap)===null||u===void 0?void 0:u.call(l,t,o).message)!==null&&d!==void 0?d:o.defaultError;return t.code==="unrecognized_keys"?{message:(p=Ye.errToObj(r).message)!==null&&p!==void 0?p:m}:{message:m}}}:{}})}strip(){return new Zi({...this._def,unknownKeys:"strip"})}passthrough(){return new Zi({...this._def,unknownKeys:"passthrough"})}extend(r){return new Zi({...this._def,shape:()=>({...this._def.shape(),...r})})}merge(r){return new Zi({unknownKeys:r._def.unknownKeys,catchall:r._def.catchall,shape:()=>({...this._def.shape(),...r._def.shape()}),typeName:er.ZodObject})}setKey(r,t){return this.augment({[r]:t})}catchall(r){return new Zi({...this._def,catchall:r})}pick(r){const t={};return ci.objectKeys(r).forEach(o=>{r[o]&&this.shape[o]&&(t[o]=this.shape[o])}),new Zi({...this._def,shape:()=>t})}omit(r){const t={};return ci.objectKeys(this.shape).forEach(o=>{r[o]||(t[o]=this.shape[o])}),new Zi({...this._def,shape:()=>t})}deepPartial(){return Kd(this)}partial(r){const t={};return ci.objectKeys(this.shape).forEach(o=>{const l=this.shape[o];r&&!r[o]?t[o]=l:t[o]=l.optional()}),new Zi({...this._def,shape:()=>t})}required(r){const t={};return ci.objectKeys(this.shape).forEach(o=>{if(r&&!r[o])t[o]=this.shape[o];else{let l=this.shape[o];for(;l instanceof ac;)l=l._def.innerType;t[o]=l}}),new Zi({...this._def,shape:()=>t})}keyof(){return cP(ci.objectKeys(this.shape))}}Zi.create=(i,r)=>new Zi({shape:()=>i,unknownKeys:"strip",catchall:dc.create(),typeName:er.ZodObject,...gr(r)});Zi.strictCreate=(i,r)=>new Zi({shape:()=>i,unknownKeys:"strict",catchall:dc.create(),typeName:er.ZodObject,...gr(r)});Zi.lazycreate=(i,r)=>new Zi({shape:i,unknownKeys:"strip",catchall:dc.create(),typeName:er.ZodObject,...gr(r)});class qg extends br{_parse(r){const{ctx:t}=this._processInputParams(r),o=this._def.options;function l(u){for(const p of u)if(p.result.status==="valid")return p.result;for(const p of u)if(p.result.status==="dirty")return t.common.issues.push(...p.ctx.common.issues),p.result;const d=u.map(p=>new za(p.ctx.common.issues));return Ae(t,{code:me.invalid_union,unionErrors:d}),hr}if(t.common.async)return Promise.all(o.map(async u=>{const d={...t,common:{...t.common,issues:[]},parent:null};return{result:await u._parseAsync({data:t.data,path:t.path,parent:d}),ctx:d}})).then(l);{let u;const d=[];for(const m of o){const v={...t,common:{...t.common,issues:[]},parent:null},x=m._parseSync({data:t.data,path:t.path,parent:v});if(x.status==="valid")return x;x.status==="dirty"&&!u&&(u={result:x,ctx:v}),v.common.issues.length&&d.push(v.common.issues)}if(u)return t.common.issues.push(...u.ctx.common.issues),u.result;const p=d.map(m=>new za(m));return Ae(t,{code:me.invalid_union,unionErrors:p}),hr}}get options(){return this._def.options}}qg.create=(i,r)=>new qg({options:i,typeName:er.ZodUnion,...gr(r)});const xv=i=>i instanceof Zg?xv(i.schema):i instanceof Fa?xv(i.innerType()):i instanceof Yg?[i.value]:i instanceof bu?i.options:i instanceof Xg?Object.keys(i.enum):i instanceof Kg?xv(i._def.innerType):i instanceof Ug?[void 0]:i instanceof Gg?[null]:null;class Ly extends br{_parse(r){const{ctx:t}=this._processInputParams(r);if(t.parsedType!==Ie.object)return Ae(t,{code:me.invalid_type,expected:Ie.object,received:t.parsedType}),hr;const o=this.discriminator,l=t.data[o],u=this.optionsMap.get(l);return u?t.common.async?u._parseAsync({data:t.data,path:t.path,parent:t}):u._parseSync({data:t.data,path:t.path,parent:t}):(Ae(t,{code:me.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[o]}),hr)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(r,t,o){const l=new Map;for(const u of t){const d=xv(u.shape[r]);if(!d)throw new Error(`A discriminator value for key \`${r}\` could not be extracted from all schema options`);for(const p of d){if(l.has(p))throw new Error(`Discriminator property ${String(r)} has duplicate value ${String(p)}`);l.set(p,u)}}return new Ly({typeName:er.ZodDiscriminatedUnion,discriminator:r,options:t,optionsMap:l,...gr(o)})}}function C1(i,r){const t=iu(i),o=iu(r);if(i===r)return{valid:!0,data:i};if(t===Ie.object&&o===Ie.object){const l=ci.objectKeys(r),u=ci.objectKeys(i).filter(p=>l.indexOf(p)!==-1),d={...i,...r};for(const p of u){const m=C1(i[p],r[p]);if(!m.valid)return{valid:!1};d[p]=m.data}return{valid:!0,data:d}}else if(t===Ie.array&&o===Ie.array){if(i.length!==r.length)return{valid:!1};const l=[];for(let u=0;u<i.length;u++){const d=i[u],p=r[u],m=C1(d,p);if(!m.valid)return{valid:!1};l.push(m.data)}return{valid:!0,data:l}}else return t===Ie.date&&o===Ie.date&&+i==+r?{valid:!0,data:i}:{valid:!1}}class Vg extends br{_parse(r){const{status:t,ctx:o}=this._processInputParams(r),l=(u,d)=>{if(T1(u)||T1(d))return hr;const p=C1(u.value,d.value);return p.valid?((S1(u)||S1(d))&&t.dirty(),{status:t.value,value:p.data}):(Ae(o,{code:me.invalid_intersection_types}),hr)};return o.common.async?Promise.all([this._def.left._parseAsync({data:o.data,path:o.path,parent:o}),this._def.right._parseAsync({data:o.data,path:o.path,parent:o})]).then(([u,d])=>l(u,d)):l(this._def.left._parseSync({data:o.data,path:o.path,parent:o}),this._def.right._parseSync({data:o.data,path:o.path,parent:o}))}}Vg.create=(i,r,t)=>new Vg({left:i,right:r,typeName:er.ZodIntersection,...gr(t)});class yl extends br{_parse(r){const{status:t,ctx:o}=this._processInputParams(r);if(o.parsedType!==Ie.array)return Ae(o,{code:me.invalid_type,expected:Ie.array,received:o.parsedType}),hr;if(o.data.length<this._def.items.length)return Ae(o,{code:me.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),hr;!this._def.rest&&o.data.length>this._def.items.length&&(Ae(o,{code:me.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const l=[...o.data].map((u,d)=>{const p=this._def.items[d]||this._def.rest;return p?p._parse(new vl(o,u,o.path,d)):null}).filter(u=>!!u);return o.common.async?Promise.all(l).then(u=>bo.mergeArray(t,u)):bo.mergeArray(t,l)}get items(){return this._def.items}rest(r){return new yl({...this._def,rest:r})}}yl.create=(i,r)=>{if(!Array.isArray(i))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new yl({items:i,typeName:er.ZodTuple,rest:null,...gr(r)})};class Wg extends br{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:t,ctx:o}=this._processInputParams(r);if(o.parsedType!==Ie.object)return Ae(o,{code:me.invalid_type,expected:Ie.object,received:o.parsedType}),hr;const l=[],u=this._def.keyType,d=this._def.valueType;for(const p in o.data)l.push({key:u._parse(new vl(o,p,o.path,p)),value:d._parse(new vl(o,o.data[p],o.path,p))});return o.common.async?bo.mergeObjectAsync(t,l):bo.mergeObjectSync(t,l)}get element(){return this._def.valueType}static create(r,t,o){return t instanceof br?new Wg({keyType:r,valueType:t,typeName:er.ZodRecord,...gr(o)}):new Wg({keyType:Ia.create(),valueType:r,typeName:er.ZodRecord,...gr(t)})}}class Jv extends br{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:t,ctx:o}=this._processInputParams(r);if(o.parsedType!==Ie.map)return Ae(o,{code:me.invalid_type,expected:Ie.map,received:o.parsedType}),hr;const l=this._def.keyType,u=this._def.valueType,d=[...o.data.entries()].map(([p,m],v)=>({key:l._parse(new vl(o,p,o.path,[v,"key"])),value:u._parse(new vl(o,m,o.path,[v,"value"]))}));if(o.common.async){const p=new Map;return Promise.resolve().then(async()=>{for(const m of d){const v=await m.key,x=await m.value;if(v.status==="aborted"||x.status==="aborted")return hr;(v.status==="dirty"||x.status==="dirty")&&t.dirty(),p.set(v.value,x.value)}return{status:t.value,value:p}})}else{const p=new Map;for(const m of d){const v=m.key,x=m.value;if(v.status==="aborted"||x.status==="aborted")return hr;(v.status==="dirty"||x.status==="dirty")&&t.dirty(),p.set(v.value,x.value)}return{status:t.value,value:p}}}}Jv.create=(i,r,t)=>new Jv({valueType:r,keyType:i,typeName:er.ZodMap,...gr(t)});class Mh extends br{_parse(r){const{status:t,ctx:o}=this._processInputParams(r);if(o.parsedType!==Ie.set)return Ae(o,{code:me.invalid_type,expected:Ie.set,received:o.parsedType}),hr;const l=this._def;l.minSize!==null&&o.data.size<l.minSize.value&&(Ae(o,{code:me.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,exact:!1,message:l.minSize.message}),t.dirty()),l.maxSize!==null&&o.data.size>l.maxSize.value&&(Ae(o,{code:me.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,exact:!1,message:l.maxSize.message}),t.dirty());const u=this._def.valueType;function d(m){const v=new Set;for(const x of m){if(x.status==="aborted")return hr;x.status==="dirty"&&t.dirty(),v.add(x.value)}return{status:t.value,value:v}}const p=[...o.data.values()].map((m,v)=>u._parse(new vl(o,m,o.path,v)));return o.common.async?Promise.all(p).then(m=>d(m)):d(p)}min(r,t){return new Mh({...this._def,minSize:{value:r,message:Ye.toString(t)}})}max(r,t){return new Mh({...this._def,maxSize:{value:r,message:Ye.toString(t)}})}size(r,t){return this.min(r,t).max(r,t)}nonempty(r){return this.min(1,r)}}Mh.create=(i,r)=>new Mh({valueType:i,minSize:null,maxSize:null,typeName:er.ZodSet,...gr(r)});class up extends br{constructor(){super(...arguments),this.validate=this.implement}_parse(r){const{ctx:t}=this._processInputParams(r);if(t.parsedType!==Ie.function)return Ae(t,{code:me.invalid_type,expected:Ie.function,received:t.parsedType}),hr;function o(p,m){return Zv({data:p,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Wv(),Bg].filter(v=>!!v),issueData:{code:me.invalid_arguments,argumentsError:m}})}function l(p,m){return Zv({data:p,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Wv(),Bg].filter(v=>!!v),issueData:{code:me.invalid_return_type,returnTypeError:m}})}const u={errorMap:t.common.contextualErrorMap},d=t.data;if(this._def.returns instanceof Ep){const p=this;return Oo(async function(...m){const v=new za([]),x=await p._def.args.parseAsync(m,u).catch(C=>{throw v.addIssue(o(m,C)),v}),k=await Reflect.apply(d,this,x);return await p._def.returns._def.type.parseAsync(k,u).catch(C=>{throw v.addIssue(l(k,C)),v})})}else{const p=this;return Oo(function(...m){const v=p._def.args.safeParse(m,u);if(!v.success)throw new za([o(m,v.error)]);const x=Reflect.apply(d,this,v.data),k=p._def.returns.safeParse(x,u);if(!k.success)throw new za([l(x,k.error)]);return k.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...r){return new up({...this._def,args:yl.create(r).rest(_h.create())})}returns(r){return new up({...this._def,returns:r})}implement(r){return this.parse(r)}strictImplement(r){return this.parse(r)}static create(r,t,o){return new up({args:r||yl.create([]).rest(_h.create()),returns:t||_h.create(),typeName:er.ZodFunction,...gr(o)})}}class Zg extends br{get schema(){return this._def.getter()}_parse(r){const{ctx:t}=this._processInputParams(r);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Zg.create=(i,r)=>new Zg({getter:i,typeName:er.ZodLazy,...gr(r)});class Yg extends br{_parse(r){if(r.data!==this._def.value){const t=this._getOrReturnCtx(r);return Ae(t,{received:t.data,code:me.invalid_literal,expected:this._def.value}),hr}return{status:"valid",value:r.data}}get value(){return this._def.value}}Yg.create=(i,r)=>new Yg({value:i,typeName:er.ZodLiteral,...gr(r)});function cP(i,r){return new bu({values:i,typeName:er.ZodEnum,...gr(r)})}class bu extends br{_parse(r){if(typeof r.data!="string"){const t=this._getOrReturnCtx(r),o=this._def.values;return Ae(t,{expected:ci.joinValues(o),received:t.parsedType,code:me.invalid_type}),hr}if(this._def.values.indexOf(r.data)===-1){const t=this._getOrReturnCtx(r),o=this._def.values;return Ae(t,{received:t.data,code:me.invalid_enum_value,options:o}),hr}return Oo(r.data)}get options(){return this._def.values}get enum(){const r={};for(const t of this._def.values)r[t]=t;return r}get Values(){const r={};for(const t of this._def.values)r[t]=t;return r}get Enum(){const r={};for(const t of this._def.values)r[t]=t;return r}extract(r){return bu.create(r)}exclude(r){return bu.create(this.options.filter(t=>!r.includes(t)))}}bu.create=cP;class Xg extends br{_parse(r){const t=ci.getValidEnumValues(this._def.values),o=this._getOrReturnCtx(r);if(o.parsedType!==Ie.string&&o.parsedType!==Ie.number){const l=ci.objectValues(t);return Ae(o,{expected:ci.joinValues(l),received:o.parsedType,code:me.invalid_type}),hr}if(t.indexOf(r.data)===-1){const l=ci.objectValues(t);return Ae(o,{received:o.data,code:me.invalid_enum_value,options:l}),hr}return Oo(r.data)}get enum(){return this._def.values}}Xg.create=(i,r)=>new Xg({values:i,typeName:er.ZodNativeEnum,...gr(r)});class Ep extends br{unwrap(){return this._def.type}_parse(r){const{ctx:t}=this._processInputParams(r);if(t.parsedType!==Ie.promise&&t.common.async===!1)return Ae(t,{code:me.invalid_type,expected:Ie.promise,received:t.parsedType}),hr;const o=t.parsedType===Ie.promise?t.data:Promise.resolve(t.data);return Oo(o.then(l=>this._def.type.parseAsync(l,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Ep.create=(i,r)=>new Ep({type:i,typeName:er.ZodPromise,...gr(r)});class Fa extends br{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===er.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(r){const{status:t,ctx:o}=this._processInputParams(r),l=this._def.effect||null,u={addIssue:d=>{Ae(o,d),d.fatal?t.abort():t.dirty()},get path(){return o.path}};if(u.addIssue=u.addIssue.bind(u),l.type==="preprocess"){const d=l.transform(o.data,u);return o.common.issues.length?{status:"dirty",value:o.data}:o.common.async?Promise.resolve(d).then(p=>this._def.schema._parseAsync({data:p,path:o.path,parent:o})):this._def.schema._parseSync({data:d,path:o.path,parent:o})}if(l.type==="refinement"){const d=p=>{const m=l.refinement(p,u);if(o.common.async)return Promise.resolve(m);if(m instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return p};if(o.common.async===!1){const p=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});return p.status==="aborted"?hr:(p.status==="dirty"&&t.dirty(),d(p.value),{status:t.value,value:p.value})}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(p=>p.status==="aborted"?hr:(p.status==="dirty"&&t.dirty(),d(p.value).then(()=>({status:t.value,value:p.value}))))}if(l.type==="transform")if(o.common.async===!1){const d=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});if(!jg(d))return d;const p=l.transform(d.value,u);if(p instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:p}}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(d=>jg(d)?Promise.resolve(l.transform(d.value,u)).then(p=>({status:t.value,value:p})):d);ci.assertNever(l)}}Fa.create=(i,r,t)=>new Fa({schema:i,typeName:er.ZodEffects,effect:r,...gr(t)});Fa.createWithPreprocess=(i,r,t)=>new Fa({schema:r,effect:{type:"preprocess",transform:i},typeName:er.ZodEffects,...gr(t)});class ac extends br{_parse(r){return this._getType(r)===Ie.undefined?Oo(void 0):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}ac.create=(i,r)=>new ac({innerType:i,typeName:er.ZodOptional,...gr(r)});class Ih extends br{_parse(r){return this._getType(r)===Ie.null?Oo(null):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}Ih.create=(i,r)=>new Ih({innerType:i,typeName:er.ZodNullable,...gr(r)});class Kg extends br{_parse(r){const{ctx:t}=this._processInputParams(r);let o=t.data;return t.parsedType===Ie.undefined&&(o=this._def.defaultValue()),this._def.innerType._parse({data:o,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Kg.create=(i,r)=>new Kg({innerType:i,typeName:er.ZodDefault,defaultValue:typeof r.default=="function"?r.default:()=>r.default,...gr(r)});class Qv extends br{_parse(r){const{ctx:t}=this._processInputParams(r),o={...t,common:{...t.common,issues:[]}},l=this._def.innerType._parse({data:o.data,path:o.path,parent:{...o}});return Yv(l)?l.then(u=>({status:"valid",value:u.status==="valid"?u.value:this._def.catchValue({get error(){return new za(o.common.issues)},input:o.data})})):{status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new za(o.common.issues)},input:o.data})}}removeCatch(){return this._def.innerType}}Qv.create=(i,r)=>new Qv({innerType:i,typeName:er.ZodCatch,catchValue:typeof r.catch=="function"?r.catch:()=>r.catch,...gr(r)});class $v extends br{_parse(r){if(this._getType(r)!==Ie.nan){const t=this._getOrReturnCtx(r);return Ae(t,{code:me.invalid_type,expected:Ie.nan,received:t.parsedType}),hr}return{status:"valid",value:r.data}}}$v.create=i=>new $v({typeName:er.ZodNaN,...gr(i)});const C8=Symbol("zod_brand");class uP extends br{_parse(r){const{ctx:t}=this._processInputParams(r),o=t.data;return this._def.type._parse({data:o,path:t.path,parent:t})}unwrap(){return this._def.type}}class um extends br{_parse(r){const{status:t,ctx:o}=this._processInputParams(r);if(o.common.async)return(async()=>{const l=await this._def.in._parseAsync({data:o.data,path:o.path,parent:o});return l.status==="aborted"?hr:l.status==="dirty"?(t.dirty(),lP(l.value)):this._def.out._parseAsync({data:l.value,path:o.path,parent:o})})();{const l=this._def.in._parseSync({data:o.data,path:o.path,parent:o});return l.status==="aborted"?hr:l.status==="dirty"?(t.dirty(),{status:"dirty",value:l.value}):this._def.out._parseSync({data:l.value,path:o.path,parent:o})}}static create(r,t){return new um({in:r,out:t,typeName:er.ZodPipeline})}}class ty extends br{_parse(r){const t=this._def.innerType._parse(r);return jg(t)&&(t.value=Object.freeze(t.value)),t}}ty.create=(i,r)=>new ty({innerType:i,typeName:er.ZodReadonly,...gr(r)});const hP=(i,r={},t)=>i?kp.create().superRefine((o,l)=>{var u,d;if(!i(o)){const p=typeof r=="function"?r(o):typeof r=="string"?{message:r}:r,m=(d=(u=p.fatal)!==null&&u!==void 0?u:t)!==null&&d!==void 0?d:!0,v=typeof p=="string"?{message:p}:p;l.addIssue({code:"custom",...v,fatal:m})}}):kp.create(),P8={object:Zi.lazycreate};var er;(function(i){i.ZodString="ZodString",i.ZodNumber="ZodNumber",i.ZodNaN="ZodNaN",i.ZodBigInt="ZodBigInt",i.ZodBoolean="ZodBoolean",i.ZodDate="ZodDate",i.ZodSymbol="ZodSymbol",i.ZodUndefined="ZodUndefined",i.ZodNull="ZodNull",i.ZodAny="ZodAny",i.ZodUnknown="ZodUnknown",i.ZodNever="ZodNever",i.ZodVoid="ZodVoid",i.ZodArray="ZodArray",i.ZodObject="ZodObject",i.ZodUnion="ZodUnion",i.ZodDiscriminatedUnion="ZodDiscriminatedUnion",i.ZodIntersection="ZodIntersection",i.ZodTuple="ZodTuple",i.ZodRecord="ZodRecord",i.ZodMap="ZodMap",i.ZodSet="ZodSet",i.ZodFunction="ZodFunction",i.ZodLazy="ZodLazy",i.ZodLiteral="ZodLiteral",i.ZodEnum="ZodEnum",i.ZodEffects="ZodEffects",i.ZodNativeEnum="ZodNativeEnum",i.ZodOptional="ZodOptional",i.ZodNullable="ZodNullable",i.ZodDefault="ZodDefault",i.ZodCatch="ZodCatch",i.ZodPromise="ZodPromise",i.ZodBranded="ZodBranded",i.ZodPipeline="ZodPipeline",i.ZodReadonly="ZodReadonly"})(er||(er={}));const M8=(i,r={message:`Input not instance of ${i.name}`})=>hP(t=>t instanceof i,r),dP=Ia.create,pP=vu.create,I8=$v.create,L8=yu.create,fP=Hg.create,A8=Ph.create,R8=Xv.create,O8=Ug.create,z8=Gg.create,N8=kp.create,D8=_h.create,F8=dc.create,B8=Kv.create,j8=Na.create,H8=Zi.create,U8=Zi.strictCreate,G8=qg.create,q8=Ly.create,V8=Vg.create,W8=yl.create,Z8=Wg.create,Y8=Jv.create,X8=Mh.create,K8=up.create,J8=Zg.create,Q8=Yg.create,$8=bu.create,tF=Xg.create,eF=Ep.create,vT=Fa.create,rF=ac.create,iF=Ih.create,nF=Fa.createWithPreprocess,oF=um.create,sF=()=>dP().optional(),aF=()=>pP().optional(),lF=()=>fP().optional(),cF={string:i=>Ia.create({...i,coerce:!0}),number:i=>vu.create({...i,coerce:!0}),boolean:i=>Hg.create({...i,coerce:!0}),bigint:i=>yu.create({...i,coerce:!0}),date:i=>Ph.create({...i,coerce:!0})},uF=hr;var _t=Object.freeze({__proto__:null,defaultErrorMap:Bg,setErrorMap:f8,getErrorMap:Wv,makeIssue:Zv,EMPTY_PATH:g8,addIssueToContext:Ae,ParseStatus:bo,INVALID:hr,DIRTY:lP,OK:Oo,isAborted:T1,isDirty:S1,isValid:jg,isAsync:Yv,get util(){return ci},get objectUtil(){return E1},ZodParsedType:Ie,getParsedType:iu,ZodType:br,ZodString:Ia,ZodNumber:vu,ZodBigInt:yu,ZodBoolean:Hg,ZodDate:Ph,ZodSymbol:Xv,ZodUndefined:Ug,ZodNull:Gg,ZodAny:kp,ZodUnknown:_h,ZodNever:dc,ZodVoid:Kv,ZodArray:Na,ZodObject:Zi,ZodUnion:qg,ZodDiscriminatedUnion:Ly,ZodIntersection:Vg,ZodTuple:yl,ZodRecord:Wg,ZodMap:Jv,ZodSet:Mh,ZodFunction:up,ZodLazy:Zg,ZodLiteral:Yg,ZodEnum:bu,ZodNativeEnum:Xg,ZodPromise:Ep,ZodEffects:Fa,ZodTransformer:Fa,ZodOptional:ac,ZodNullable:Ih,ZodDefault:Kg,ZodCatch:Qv,ZodNaN:$v,BRAND:C8,ZodBranded:uP,ZodPipeline:um,ZodReadonly:ty,custom:hP,Schema:br,ZodSchema:br,late:P8,get ZodFirstPartyTypeKind(){return er},coerce:cF,any:N8,array:j8,bigint:L8,boolean:fP,date:A8,discriminatedUnion:q8,effect:vT,enum:$8,function:K8,instanceof:M8,intersection:V8,lazy:J8,literal:Q8,map:Y8,nan:I8,nativeEnum:tF,never:F8,null:z8,nullable:iF,number:pP,object:H8,oboolean:lF,onumber:aF,optional:rF,ostring:sF,pipeline:oF,preprocess:nF,promise:eF,record:Z8,set:X8,strictObject:U8,string:dP,symbol:R8,transformer:vT,tuple:W8,undefined:O8,union:G8,unknown:D8,void:B8,NEVER:uF,ZodIssueCode:me,quotelessJson:p8,ZodError:za});const Ay=/^https?:\/\/library.stanford.edu\/iiif\/image-api\/1.1\/compliance.html#level(?<level>[012])$/,gP=_t.string().regex(Ay),hF=gP,ey="http://library.stanford.edu/iiif/image-api/1.1/context.json",mP="http://iiif.io/api/image/1/context.json",vP=_t.literal(ey),yP=_t.object({"@context":vP,"@id":_t.string().url(),profile:gP.optional(),width:_t.number().int(),height:_t.number().int(),scale_factors:_t.number().array().optional(),tile_width:_t.number().optional(),tile_height:_t.number().optional()}),bP=_t.object({width:_t.number().int(),height:_t.number().int()}),wP=_t.object({width:_t.number().int(),height:_t.number().int().optional(),scaleFactors:_t.array(_t.number().int())}),Ry=/^https?:\/\/iiif.io\/api\/image\/2.*level(?<level>[012])(.json)?$/,yT=_t.string().regex(Ry),dF=_t.object({formats:_t.string().array().optional(),maxArea:_t.number().int().optional(),maxHeight:_t.number().int().optional(),maxWidth:_t.number().int().optional(),qualities:_t.string().array().optional(),supports:_t.string().array().optional()}),ry=yT.or(_t.array(_t.union([yT,dF,_t.any()]))),iy="http://iiif.io/api/image/2/context.json",xP=_t.literal(iy).or(_t.literal("https://iiif.io/api/image/2/context.json")),Zx=_t.object({"@id":_t.string().url(),"@type":_t.literal("iiif:Image").optional(),"@context":xP,protocol:_t.literal("http://iiif.io/api/image"),width:_t.number().int(),height:_t.number().int(),profile:ry,sizes:bP.array().optional(),tiles:wP.array().optional()}),pF=["level0","level1","level2"],Yx=_t.object({id:_t.string().url(),type:_t.literal("ImageService3"),protocol:_t.literal("http://iiif.io/api/image"),profile:_t.enum(pF),width:_t.number().int(),height:_t.number().int(),maxWidth:_t.number().int().optional(),maxHeight:_t.number().int().optional(),maxArea:_t.number().int().optional(),sizes:bP.array().optional(),tiles:wP.array().optional(),extraFeatures:_t.string().array().optional()}),fF=_t.object({"@id":_t.string().url(),profile:hF.or(ry),width:_t.number().int().optional(),height:_t.number().int().optional(),"@context":vP.or(_t.literal("http://iiif.io/api/image/1/context.json")).or(xP).optional()}),gF=["level0","level1","level2"],mF=["ImageService1","ImageService2","ImageService3"],vF=_t.object({id:_t.string().url(),type:_t.literal("ImageService2"),profile:ry}).or(_t.object({"@id":_t.string().url(),"@type":_t.literal("ImageService2"),profile:ry})),yF=_t.object({id:_t.string().url(),type:_t.enum(mF),profile:_t.enum(gF)}),bF=_t.union([vF,yF]),_P=fF.or(bF),bT=_t.string().or(_t.number()).or(_t.boolean()),kP=bT.or(bT.array()),wT=_t.object({"@language":_t.string().optional(),"@value":kP}),Lh=kP.or(wT).or(wT.array()),wF=_t.object({label:Lh.optional(),value:Lh.optional()}),EP=wF.array(),xF=_t.object({width:_t.number().int().optional(),height:_t.number().int().optional(),service:_P}),_F=_t.object({resource:xF}),TP=_t.object({"@id":_t.string().url(),"@type":_t.literal("sc:Canvas"),width:_t.number().int(),height:_t.number().int(),images:_F.array().length(1),label:Lh.optional(),metadata:EP.optional()}),kF=_t.object({canvases:TP.array().nonempty()}),SP=_t.object({"@id":_t.string().url(),"@type":_t.literal("sc:Manifest"),sequences:kF.array().length(1),label:Lh.optional(),description:Lh.optional(),metadata:EP.optional()}),xT=_t.lazy(()=>_t.object({"@id":_t.string().url(),"@type":_t.literal("sc:Manifest"),label:Lh.optional()})),P1=_t.lazy(()=>_t.object({"@id":_t.string().url(),"@type":_t.literal("sc:Collection"),label:Lh.optional(),manifests:xT.array().optional(),collections:P1.array().optional(),members:xT.or(P1).array().optional()})),EF=_t.string().or(_t.number()).or(_t.boolean()),Ah=_t.record(_t.string(),EF.array()),TF=_t.object({label:Ah.optional(),value:Ah.optional()}),CP=TF.array(),_T=_t.object({type:_t.literal("Image"),width:_t.number().int().optional(),height:_t.number().int().optional(),service:_P.array()}),SF=_t.object({type:_t.literal("Annotation"),body:_T.or(_T.array().length(1))}),CF=_t.object({type:_t.literal("AnnotationPage"),items:SF.array().length(1)}),PP=_t.object({id:_t.string().url(),type:_t.literal("Canvas"),width:_t.number().int(),height:_t.number().int(),items:CF.array().length(1),label:Ah.optional(),metadata:CP.optional()}),MP=_t.object({id:_t.string().url(),type:_t.literal("Manifest"),items:PP.array().nonempty(),label:Ah.optional(),description:Ah.optional(),metadata:CP.optional()}),PF=_t.lazy(()=>_t.object({id:_t.string().url(),type:_t.literal("Manifest"),label:Ah.optional()})),IP=_t.lazy(()=>_t.object({id:_t.string().url(),type:_t.literal("Collection"),label:Ah.optional(),items:PF.or(IP).array()})),LP=yP.or(Zx).or(Yx);TP.or(PP);const MF=SP.or(MP);P1.or(IP);SP.or(Zx);MP.or(Yx);MF.or(LP);function AP({width:i,height:r},t,o,l){const u=o*t.originalWidth,d=l*t.originalHeight,p=o*t.originalWidth+t.width*t.scaleFactor>i?i-o*t.originalWidth:t.width*t.scaleFactor,m=l*t.originalHeight+t.height*t.scaleFactor>r?r-l*t.originalHeight:t.height*t.scaleFactor;let v=t.width,x=t.height;return u+t.width*t.scaleFactor>i&&(v=Math.floor((i-u+t.scaleFactor-1)/t.scaleFactor)),d+t.height*t.scaleFactor>r&&(x=Math.floor((r-d+t.scaleFactor-1)/t.scaleFactor)),{region:{x:u,y:d,width:p,height:m},size:{width:v,height:x}}}function IF({width:i,height:r},t=768){const o=Math.max(i,r)/t,l=Math.ceil(Math.log(o)/Math.log(2));return{scaleFactors:Array.from({length:l},(u,d)=>2**d),width:t}}function LF({width:i,height:r},t,o){const l=t.height||t.width,u=t.width*o,d=l*o;return{scaleFactor:o,width:t.width,height:l,originalWidth:u,originalHeight:d,columns:Math.ceil(i/u),rows:Math.ceil(r/d)}}function AF(i,r){return r.map(t=>t.scaleFactors.map(o=>LF(i,t,o))).flat()}function RF(i){return!!i.some(r=>r.width&&r.scaleFactors&&r.scaleFactors.length)}function OF(i,r,t){if(!r||!RF(r))if(t)r=[IF(i)];else throw new Error("Image does not support tiles or custom regions and sizes.");return AF(i,r)}function zF(i,r,t="cover"){if(t==="cover"||t==="contain"){const o=r.width/i.width,l=r.height/i.height,u=t==="cover"?Math.max(o,l):Math.min(o,l),d=i.width*u,p=i.height*u;return{width:d,height:p}}else throw new Error('Mode must be either "cover" or "contain"')}const NF=.8,DF=1.5;function RP(i,r,t="cover",{sizes:o,tileZoomLevels:l,supportsAnyRegionAndSize:u,maxWidth:d,maxHeight:p,maxArea:m}){let{width:v,height:x}=zF(i,r,t);if(d&&v>d&&(x=x/v*d,v=d),p&&x>p&&(v=v/x*p,x=p),m&&v*x>m){const C=x/v,M=Math.floor(Math.sqrt(m/C))*C;v=Math.floor(M)/C,x=v*C}const k=i.width/i.height;if(v=Math.floor(v),x=Math.round(v/k),o){let C;for(const M of o){const I=M.width/v;if(I>=NF&&I<=DF){C=M;break}}if(C)return{size:C}}if(u)return{size:{width:Math.round(v),height:Math.round(x)}};if(l){const C=i.width/v,M=l.map(({scaleFactor:J},q)=>({index:q,scaleFactor:J,diff:Math.abs(J-C)})).sort((J,q)=>J.diff-q.diff),I=l[M[0].index],D=Math.ceil(i.width/(I.scaleFactor*l[0].width)),j=Math.ceil(i.height/(I.scaleFactor*l[0].height)),H=[];for(let J=0;J<j;J++){const q=[];for(let W=0;W<D;W++){const st=AP(i,I,W,J);q.push(st)}H.push(q)}return H}throw new Error("Unable to create thumbnail")}const OP=["regionByPx","sizeByWh"];function FF(i){const r=i.match(Ay);if(r&&r.groups)return parseInt(r.groups.level)}function kT(i){const r=i.match(Ry);if(r&&r.groups)return parseInt(r.groups.level)}function BF(i){return{maxWidth:i==null?void 0:i.maxWidth,maxHeight:i==null?void 0:i.maxHeight,maxArea:i==null?void 0:i.maxArea,supportsAnyRegionAndSize:OP.every(r=>{var t;return(i==null?void 0:i.supports)&&((t=i==null?void 0:i.supports)==null?void 0:t.includes(r))})}}function jF(i){if("type"in i&&i.type==="ImageService3")return 3;if("type"in i&&i.type==="ImageService2"||"@type"in i&&i["@type"]==="ImageService2"||"@context"in i&&i["@context"]===iy)return 2;if("@context"in i&&(i["@context"]===ey||i["@context"]===mP))return 1;if("profile"in i){let r;return Array.isArray(i.profile)?r=i.profile[0]:r=i.profile,r.match(Ay)?1:r.match(Ry)?2:3}else throw new Error("Unsupported IIIF Image Service")}function M1(i){if("type"in i){const r=i.profile;let t=!1;return r==="level0"||typeof r=="string"&&r.endsWith("level0.json")?"extraFeatures"in i&&(t=OP.every(o=>i.extraFeatures&&i.extraFeatures.includes(o))):t=!0,{maxWidth:"maxWidth"in i?i.maxWidth:void 0,maxHeight:"maxHeight"in i?i.maxHeight:void 0,maxArea:"maxArea"in i?i.maxArea:void 0,supportsAnyRegionAndSize:t}}else if(Array.isArray(i.profile)){let r=!1,t=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY;return i.profile.forEach(u=>{if(typeof u=="string"){const d=kT(u);d&&(r=r||d>=1)}else{const{maxWidth:d,maxHeight:p,maxArea:m,supportsAnyRegionAndSize:v}=BF(u);d!==void 0&&(o=Math.max(d,o)),p!==void 0&&(t=Math.max(p,t)),m!==void 0&&(l=Math.max(m,l)),r=r||v}}),{maxWidth:o>=0?o:void 0,maxHeight:t>=0?t:void 0,maxArea:l>=0?l:void 0,supportsAnyRegionAndSize:r}}else if("profile"in i&&i.profile){const r=FF(i.profile),t=kT(i.profile);return r?{supportsAnyRegionAndSize:r>=1}:t?{supportsAnyRegionAndSize:t>=1}:{supportsAnyRegionAndSize:!1}}else throw new Error("Invalid Image")}const HF="image";class UF{constructor(r,t){if(this.embedded=!0,this.type=HF,t){const o=r;let l,u;if(Array.isArray(o.service)?o.service.forEach(d=>{try{const p=jF(d);(!u||p>u)&&(u=p,l=d)}catch{}}):l=o.service,!l)throw new Error("Unsupported IIIF Image Service");if("@id"in l)this.uri=l["@id"];else if("id"in l)this.uri=l.id;else throw new Error("Unsupported IIIF Image Service");if("type"in l&&l.type==="ImageService3")this.majorVersion=3;else if("type"in l&&l.type==="ImageService2"||"@type"in l&&l["@type"]==="ImageService2"||"@context"in l&&l["@context"]===iy)this.majorVersion=2;else if("@context"in l&&(l["@context"]===ey||l["@context"]===mP))this.majorVersion=1;else if("profile"in l){let d;Array.isArray(l.profile)?d=l.profile[0]:d=l.profile,d.match(Ay)?this.majorVersion=1:d.match(Ry)?this.majorVersion=2:this.majorVersion=3}else throw new Error("Unsupported IIIF Image Service");if("profile"in l){const d=M1(l);this.supportsAnyRegionAndSize=d.supportsAnyRegionAndSize,this.maxWidth=d.maxWidth,this.maxHeight=d.maxHeight,this.maxArea=d.maxArea}else this.supportsAnyRegionAndSize=!1}else{if("@id"in r)this.uri=r["@id"];else if("id"in r)this.uri=r.id;else throw new Error("Unsupported IIIF Image");if("type"in r&&r.type==="ImageService3")this.majorVersion=3;else if("@type"in r&&r["@type"]==="iiif:Image"||"@context"in r&&r["@context"]===iy)this.majorVersion=2;else if("@context"in r&&r["@context"]===ey)this.majorVersion=1;else throw new Error("Unsupported IIIF Image");if("profile"in r){const o=M1(r);this.supportsAnyRegionAndSize=o.supportsAnyRegionAndSize,this.maxWidth=o.maxWidth,this.maxHeight=o.maxHeight,this.maxArea=o.maxArea}else this.supportsAnyRegionAndSize=!1}if(r.width!==void 0)this.width=r.width;else if(t)this.width=t.width;else throw new Error("Width not present on either Canvas or Image Resource");if(r.height!==void 0)this.height=r.height;else if(t)this.height=t.height;else throw new Error("Height not present on either Canvas or Image Resource")}getImageUrl(r){const{region:t,size:o}=r;let l,u,d,p,m;t?(m=`${t.x},${t.y},${t.width},${t.height}`,d=t.height,p=t.width):(m="full",d=this.height,p=this.width);let v;if(o){l=Math.round(o.width),u=Math.round(o.height);const C=String(l);let M=String(u);const I=p/d,D=u*I/I;u===Math.round(D)&&(M=""),v=`${C},${M}`}else l=this.width,u=this.height,v=this.majorVersion===2?"full":"max";const x=l*u;if(this.maxWidth!==void 0&&l>this.maxWidth)throw new Error(`Width of requested image is too large: ${l} > ${this.maxWidth}`);if(this.maxHeight!==void 0&&u>this.maxHeight)throw new Error(`Height of requested image is too large: ${u} > ${this.maxHeight}`);if(this.maxArea!==void 0&&x>this.maxArea)throw new Error(`Area of requested image is too large: ${x} > ${this.maxArea}`);const k=this.majorVersion===1?"native":"default";return`${this.uri}/${m}/${v}/0/${k}.jpg`}getThumbnail(r,t="cover"){return RP({width:this.width,height:this.height},r,t,{supportsAnyRegionAndSize:this.supportsAnyRegionAndSize,maxWidth:this.maxWidth,maxHeight:this.maxHeight,maxArea:this.maxArea})}}let GF=class zP extends UF{constructor(r){super(r),this.embedded=!1;const t=M1(r);let o;"tiles"in r&&(o=r.tiles),this.tileZoomLevels=OF({width:this.width,height:this.height},o,t.supportsAnyRegionAndSize),"sizes"in r&&(this.sizes=r.sizes)}static parse(r,t=null){let o;return t===1?o=yP.parse(r):t===2?o=Zx.parse(r):t===3?o=Yx.parse(r):o=LP.parse(r),new zP(o)}getIiifTile(r,t,o){return AP({width:this.width,height:this.height},r,t,o)}getThumbnail(r,t="cover"){return RP({width:this.width,height:this.height},r,t,{supportsAnyRegionAndSize:this.supportsAnyRegionAndSize,sizes:this.sizes,tileZoomLevels:this.tileZoomLevels,maxWidth:this.maxWidth,maxHeight:this.maxHeight,maxArea:this.maxArea})}};const ET=_t.record(_t.string(),_t.string().array());_t.object({label:ET.optional(),value:ET.optional()});var Zo=63710088e-1,NP={centimeters:Zo*100,centimetres:Zo*100,degrees:Zo/111325,feet:Zo*3.28084,inches:Zo*39.37,kilometers:Zo/1e3,kilometres:Zo/1e3,meters:Zo,metres:Zo,miles:Zo/1609.344,millimeters:Zo*1e3,millimetres:Zo*1e3,nauticalmiles:Zo/1852,radians:1,yards:Zo*1.0936};function qF(i,r,t){t===void 0&&(t={});var o={type:"Feature"};return(t.id===0||t.id)&&(o.id=t.id),t.bbox&&(o.bbox=t.bbox),o.properties=r||{},o.geometry=i,o}function VF(i,r,t){if(t===void 0&&(t={}),!i)throw new Error("coordinates is required");if(!Array.isArray(i))throw new Error("coordinates must be an Array");if(i.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!TT(i[0])||!TT(i[1]))throw new Error("coordinates must contain numbers");var o={type:"Point",coordinates:i};return qF(o,r,t)}function WF(i,r){r===void 0&&(r="kilometers");var t=NP[r];if(!t)throw new Error(r+" units is invalid");return i*t}function ZF(i,r){r===void 0&&(r="kilometers");var t=NP[r];if(!t)throw new Error(r+" units is invalid");return i/t}function I1(i){var r=i%(2*Math.PI);return r*180/Math.PI}function La(i){var r=i%360;return r*Math.PI/180}function TT(i){return!isNaN(i)&&i!==null&&!Array.isArray(i)}function Tp(i){if(!i)throw new Error("coord is required");if(!Array.isArray(i)){if(i.type==="Feature"&&i.geometry!==null&&i.geometry.type==="Point")return i.geometry.coordinates;if(i.type==="Point")return i.coordinates}if(Array.isArray(i)&&i.length>=2&&!Array.isArray(i[0])&&!Array.isArray(i[1]))return i;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function YF(i){return i.type==="Feature"?i.geometry:i}function DP(i,r,t){if(t===void 0&&(t={}),t.final===!0)return XF(i,r);var o=Tp(i),l=Tp(r),u=La(o[0]),d=La(l[0]),p=La(o[1]),m=La(l[1]),v=Math.sin(d-u)*Math.cos(m),x=Math.cos(p)*Math.sin(m)-Math.sin(p)*Math.cos(m)*Math.cos(d-u);return I1(Math.atan2(v,x))}function XF(i,r){var t=DP(r,i);return t=(t+180)%360,t}function KF(i,r,t,o){o===void 0&&(o={});var l=Tp(i),u=La(l[0]),d=La(l[1]),p=La(t),m=ZF(r,o.units),v=Math.asin(Math.sin(d)*Math.cos(m)+Math.cos(d)*Math.sin(m)*Math.cos(p)),x=u+Math.atan2(Math.sin(p)*Math.sin(m)*Math.cos(d),Math.cos(m)-Math.sin(d)*Math.sin(v)),k=I1(x),C=I1(v);return VF([k,C],o.properties)}function Xx(i,r,t){t===void 0&&(t={});var o=Tp(i),l=Tp(r),u=La(l[1]-o[1]),d=La(l[0]-o[0]),p=La(o[1]),m=La(l[1]),v=Math.pow(Math.sin(u/2),2)+Math.pow(Math.sin(d/2),2)*Math.cos(p)*Math.cos(m);return WF(2*Math.atan2(Math.sqrt(v),Math.sqrt(1-v)),t.units)}function ny(i,r){var t=Xx(i,r),o=DP(i,r),l=KF(i,t/2,o);return l}async function FP(i,r={}){let t;if(r.cache&&(t=await r.cache.match(i)),t||(t=await fetch(i,{signal:r.abortSignal}),r.cache&&r.cache.put(i,t.clone())),!t.ok)throw new Error(t.statusText);return t}async function JF(i,r={}){return await(await FP(i,r)).json()}async function QF(i,r={}){return await JF(`${i}/info.json`,r)}function $F(i,r){return new Promise((t,o)=>{const l=new Image;let u=!1;l.addEventListener("load",()=>t(l)),l.addEventListener("error",async()=>{if(u)o(new DOMException("Loading image aborted by user","AbortError"));else try{throw await FP(i,{abortSignal:r}),new Error("Image failed to load by setting Image src but downloaded successfully using fetch")}catch(d){o(d)}}),l.crossOrigin="anonymous",l.src=i,r&&r.addEventListener("abort",()=>{u=!0,l.src=""})})}function BP(i,r=!1){switch(i.type){case"Polygon":return i.coordinates?{...i,coordinates:ST(i.coordinates,r)}:i;case"MultiPolygon":return i.coordinates?{...i,coordinates:i.coordinates.map(t=>ST(t,r))}:i;case"GeometryCollection":return{...i,geometries:i.geometries.map(t=>BP(t,r))};default:return i}}function ST(i,r){if(i.length===0)return i;const t=[];for(let o=0;o<i.length;o++)t.push(tB(i[o],o===0?r:!r));return t}function tB(i,r){let t=0,o=0;for(let l=0,u=i.length,d=u-1;l<u;d=l++){const p=(i[l][0]-i[d][0])*(i[d][1]+i[l][1]),m=t+p;o+=Math.abs(t)>=Math.abs(p)?t-m+p:p-m+t,t=m}return t+o>=0!=!!r?i.slice().reverse():i}function Xo(i){return Array.isArray(i)&&i.length===2&&typeof i[0]=="number"&&typeof i[1]=="number"}function sl(i){return Array.isArray(i)&&i.every(Xo)}function eB(i){return Array.isArray(i)&&i.every(Xo)}function al(i){return Array.isArray(i)&&i.every(eB)}function jP(i){if(i=i.filter(function(r,t,o){return t===0||!Jx(r,o[t-1])}),i.length<2)throw new Error("LineString should contain at least 2 points");return i}function Kx(i){if(i=i.filter(function(r,t,o){return t===0||!Jx(r,o[t-1])}),iB(i)&&i.splice(-1),i.length<3)throw new Error("Ring should contain at least 3 points");return i}function rB(i){return i.map(r=>Kx(r))}function J0(i){return{type:"Point",coordinates:i}}function Q0(i){return{type:"LineString",coordinates:i}}function $0(i,r=!0){const t={type:"Polygon",coordinates:r?i.map(o=>[...o,o[0]]):i};return BP(t)}function iB(i){return Array.isArray(i)&&i.length>=2&&Jx(i[0],i[i.length-1])}function Jx(i,r){return i===r?!0:i==null||r==null?!1:i[0]==r[0]&&i[1]==r[1]}function oy(i,r){return[(r[0]-i[0])/2+i[0],(r[1]-i[1])/2+i[1]]}function nB(i,r,t){return[i[0]*t+r[0]*(1-t),i[1]*t+r[1]*(1-t)]}function lc(i,r){if(sl(i)&&i.length==2)return lc(i[0],i[1]);if(Xo(i)&&Xo(r))return Math.sqrt((r[0]-i[0])**2+(r[1]-i[1])**2);throw new Error("Input type not supported")}function oB(i){return i*(Math.PI/180)}function Jl(i){return typeof i=="object"&&i!==null&&i.type==="Point"&&Xo(i.coordinates)}function Ql(i){return typeof i=="object"&&i!==null&&i.type==="LineString"&&sl(i.coordinates)}function $l(i){return typeof i=="object"&&i!==null&&i.type==="Polygon"&&Array.isArray(i.coordinates)&&al(i.coordinates)}function sB(i){const r=typeof i=="object"&&i!==null,t=r&&"type"in i&&typeof i.type=="string"&&(i.type==="Point"||i.type==="LineString"||i.type==="Polygon"),o=r&&"coordinates"in i&&Array.isArray(i.coordinates);return t&&o}function cg(i){return i.coordinates}function ug(i){return i.coordinates}function hg(i,r=!1){let t=i.coordinates;return t=rB(t),r?t.map(o=>[...o,o[0]]):t}function aB(i){if(Jl(i))return cg(i);if(Ql(i))return ug(i);if($l(i))return hg(i);throw new Error("Geometry type not supported")}function CT(i){let r=Number.POSITIVE_INFINITY,t=Number.NEGATIVE_INFINITY;for(const o of i)r===void 0?o>=o&&(r=t=o):(r>o&&(r=o),t<o&&(t=o));return[r,t]}function Vn(i){if(Xo(i)&&(i=[i]),al(i)&&(i=i.flat()),sB(i))return Vn(aB(i));const r=[],t=[];for(const p of i)r.push(p[0]),t.push(p[1]);const[o,l]=CT(r),[u,d]=CT(t);return[o,u,l,d]}function PT(i,r){return[Math.min(i[0],r[0]),Math.min(i[1],r[1]),Math.max(i[2],r[2]),Math.max(i[3],r[3])]}function lB(i,r){const t=i[2]>=r[0]&&r[2]>=i[0],o=i[3]>=r[1]&&r[3]>=i[1];return t&&o}function Jg(i){return[[i[0],i[1]],[i[2],i[1]],[i[2],i[3]],[i[0],i[3]]]}function cB(i){return[Jg(i)]}function HP(i){return[[i[0],i[1]],[i[2],i[3]]]}function uB(i){return lc(HP(i))}function hB(i){return lc(HP(Vn(i)))}function L1(i){return[(i[0]+i[2])/2,(i[1]+i[3])/2]}function sy(i){return[i[2]-i[0],i[3]-i[1]]}function UP(i,r){const t=i[0]/r[0],o=i[1]/r[1];return Math.min(t,o)}function Nw(i,r){return UP(sy(i),sy(r))}function dB(i){const r=parseInt(i.replace(/^#/,""),16),t=r>>16&255,o=r>>8&255,l=r&255;return[t,o,l]}function MT(i){return dB(i).map(r=>r/255)}function pB(i,r){return!i||!r||i.size!==r.size?!1:[...i].every(t=>r.has(t))}function IT(i,r){if(i!==void 0&&r!==void 0)return Math.max(i,r);if(i!==void 0)return i;if(r!==void 0)return r}function fB(i){let r;try{r=new URL(i)}catch{return!1}return r.protocol==="http:"||r.protocol==="https:"}function gB([i,r]){const t=6378137*oB(i),o=t/i,l=180/Math.PI*Math.log(Math.tan(Math.PI/4+r*(Math.PI/180)/2))*o;return[t,l]}function LT([i,r]){const t=Math.PI*6378137,o=i/t*180;let l=r/t*180;return l=180/Math.PI*(2*Math.atan(Math.exp(l*Math.PI/180))-Math.PI/2),[o,l]}var mB=Object.defineProperty,vB=(i,r,t)=>r in i?mB(i,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[r]=t,yB=(i,r,t)=>(vB(i,typeof r!="symbol"?r+"":r,t),t),Qx=(i,r,t)=>{if(!r.has(i))throw TypeError("Cannot "+t)},ol=(i,r,t)=>(Qx(i,r,"read from private field"),t?t.call(i):r.get(i)),Eg=(i,r,t)=>{if(r.has(i))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(i):r.set(i,t)},Dw=(i,r,t,o)=>(Qx(i,r,"write to private field"),o?o.call(i,t):r.set(i,t),t),Sp=(i,r,t)=>(Qx(i,r,"access private method"),t);function GP(i){if(i.__esModule)return i;var r=i.default;if(typeof r=="function"){var t=function o(){return this instanceof o?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};t.prototype=r.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(o){var l=Object.getOwnPropertyDescriptor(i,o);Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:function(){return i[o]}})}),t}var ti={};const bB=Object.prototype.toString;function Qg(i){const r=bB.call(i);return r.endsWith("Array]")&&!r.includes("Big")}const wB=Object.freeze(Object.defineProperty({__proto__:null,isAnyArray:Qg},Symbol.toStringTag,{value:"Module"})),xB=GP(wB);function _B(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Qg(i))throw new TypeError("input must be an array");if(i.length===0)throw new TypeError("input must not be empty");var t=r.fromIndex,o=t===void 0?0:t,l=r.toIndex,u=l===void 0?i.length:l;if(o<0||o>=i.length||!Number.isInteger(o))throw new Error("fromIndex must be a positive integer smaller than length");if(u<=o||u>i.length||!Number.isInteger(u))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var d=i[o],p=o+1;p<u;p++)i[p]>d&&(d=i[p]);return d}function kB(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Qg(i))throw new TypeError("input must be an array");if(i.length===0)throw new TypeError("input must not be empty");var t=r.fromIndex,o=t===void 0?0:t,l=r.toIndex,u=l===void 0?i.length:l;if(o<0||o>=i.length||!Number.isInteger(o))throw new Error("fromIndex must be a positive integer smaller than length");if(u<=o||u>i.length||!Number.isInteger(u))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var d=i[o],p=o+1;p<u;p++)i[p]<d&&(d=i[p]);return d}function EB(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Qg(i)){if(i.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var t;if(r.output!==void 0){if(!Qg(r.output))throw new TypeError("output option must be an array if specified");t=r.output}else t=new Array(i.length);var o=kB(i),l=_B(i);if(o===l)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var u=r.min,d=u===void 0?r.autoMinMax?o:0:u,p=r.max,m=p===void 0?r.autoMinMax?l:1:p;if(d>=m)throw new RangeError("min option must be smaller than max option");for(var v=(m-d)/(l-o),x=0;x<i.length;x++)t[x]=(i[x]-o)*v+d;return t}const TB=Object.freeze(Object.defineProperty({__proto__:null,default:EB},Symbol.toStringTag,{value:"Module"})),SB=GP(TB);Object.defineProperty(ti,"__esModule",{value:!0});var Ko=xB,AT=SB;const tv=" ".repeat(2),qP=" ".repeat(4);function CB(){return VP(this)}function VP(i,r={}){const{maxRows:t=15,maxColumns:o=10,maxNumSize:l=8,padMinus:u="auto"}=r;return`${i.constructor.name} {
${tv}[
${qP}${PB(i,t,o,l,u)}
${tv}]
${tv}rows: ${i.rows}
${tv}columns: ${i.columns}
}`}function PB(i,r,t,o,l){const{rows:u,columns:d}=i,p=Math.min(u,r),m=Math.min(d,t),v=[];if(l==="auto"){l=!1;t:for(let x=0;x<p;x++)for(let k=0;k<m;k++)if(i.get(x,k)<0){l=!0;break t}}for(let x=0;x<p;x++){let k=[];for(let C=0;C<m;C++)k.push(MB(i.get(x,C),o,l));v.push(`${k.join(" ")}`)}return m!==d&&(v[v.length-1]+=` ... ${d-t} more columns`),p!==u&&v.push(`... ${u-r} more rows`),v.join(`
${qP}`)}function MB(i,r,t){return(i>=0&&t?` ${RT(i,r-1)}`:RT(i,r)).padEnd(r)}function RT(i,r){let t=i.toString();if(t.length<=r)return t;let o=i.toFixed(r);if(o.length>r&&(o=i.toFixed(Math.max(0,r-(o.length-r)))),o.length<=r&&!o.startsWith("0.000")&&!o.startsWith("-0.000"))return o;let l=i.toExponential(r);return l.length>r&&(l=i.toExponential(Math.max(0,r-(l.length-r)))),l.slice(0)}function IB(i,r){i.prototype.add=function(t){return typeof t=="number"?this.addS(t):this.addM(t)},i.prototype.addS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)+t);return this},i.prototype.addM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)+t.get(o,l));return this},i.add=function(t,o){return new r(t).add(o)},i.prototype.sub=function(t){return typeof t=="number"?this.subS(t):this.subM(t)},i.prototype.subS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)-t);return this},i.prototype.subM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)-t.get(o,l));return this},i.sub=function(t,o){return new r(t).sub(o)},i.prototype.subtract=i.prototype.sub,i.prototype.subtractS=i.prototype.subS,i.prototype.subtractM=i.prototype.subM,i.subtract=i.sub,i.prototype.mul=function(t){return typeof t=="number"?this.mulS(t):this.mulM(t)},i.prototype.mulS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)*t);return this},i.prototype.mulM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)*t.get(o,l));return this},i.mul=function(t,o){return new r(t).mul(o)},i.prototype.multiply=i.prototype.mul,i.prototype.multiplyS=i.prototype.mulS,i.prototype.multiplyM=i.prototype.mulM,i.multiply=i.mul,i.prototype.div=function(t){return typeof t=="number"?this.divS(t):this.divM(t)},i.prototype.divS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)/t);return this},i.prototype.divM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)/t.get(o,l));return this},i.div=function(t,o){return new r(t).div(o)},i.prototype.divide=i.prototype.div,i.prototype.divideS=i.prototype.divS,i.prototype.divideM=i.prototype.divM,i.divide=i.div,i.prototype.mod=function(t){return typeof t=="number"?this.modS(t):this.modM(t)},i.prototype.modS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)%t);return this},i.prototype.modM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)%t.get(o,l));return this},i.mod=function(t,o){return new r(t).mod(o)},i.prototype.modulus=i.prototype.mod,i.prototype.modulusS=i.prototype.modS,i.prototype.modulusM=i.prototype.modM,i.modulus=i.mod,i.prototype.and=function(t){return typeof t=="number"?this.andS(t):this.andM(t)},i.prototype.andS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)&t);return this},i.prototype.andM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)&t.get(o,l));return this},i.and=function(t,o){return new r(t).and(o)},i.prototype.or=function(t){return typeof t=="number"?this.orS(t):this.orM(t)},i.prototype.orS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)|t);return this},i.prototype.orM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)|t.get(o,l));return this},i.or=function(t,o){return new r(t).or(o)},i.prototype.xor=function(t){return typeof t=="number"?this.xorS(t):this.xorM(t)},i.prototype.xorS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)^t);return this},i.prototype.xorM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)^t.get(o,l));return this},i.xor=function(t,o){return new r(t).xor(o)},i.prototype.leftShift=function(t){return typeof t=="number"?this.leftShiftS(t):this.leftShiftM(t)},i.prototype.leftShiftS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)<<t);return this},i.prototype.leftShiftM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)<<t.get(o,l));return this},i.leftShift=function(t,o){return new r(t).leftShift(o)},i.prototype.signPropagatingRightShift=function(t){return typeof t=="number"?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},i.prototype.signPropagatingRightShiftS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)>>t);return this},i.prototype.signPropagatingRightShiftM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)>>t.get(o,l));return this},i.signPropagatingRightShift=function(t,o){return new r(t).signPropagatingRightShift(o)},i.prototype.rightShift=function(t){return typeof t=="number"?this.rightShiftS(t):this.rightShiftM(t)},i.prototype.rightShiftS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)>>>t);return this},i.prototype.rightShiftM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)>>>t.get(o,l));return this},i.rightShift=function(t,o){return new r(t).rightShift(o)},i.prototype.zeroFillRightShift=i.prototype.rightShift,i.prototype.zeroFillRightShiftS=i.prototype.rightShiftS,i.prototype.zeroFillRightShiftM=i.prototype.rightShiftM,i.zeroFillRightShift=i.rightShift,i.prototype.not=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,~this.get(t,o));return this},i.not=function(t){return new r(t).not()},i.prototype.abs=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.abs(this.get(t,o)));return this},i.abs=function(t){return new r(t).abs()},i.prototype.acos=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.acos(this.get(t,o)));return this},i.acos=function(t){return new r(t).acos()},i.prototype.acosh=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.acosh(this.get(t,o)));return this},i.acosh=function(t){return new r(t).acosh()},i.prototype.asin=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.asin(this.get(t,o)));return this},i.asin=function(t){return new r(t).asin()},i.prototype.asinh=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.asinh(this.get(t,o)));return this},i.asinh=function(t){return new r(t).asinh()},i.prototype.atan=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.atan(this.get(t,o)));return this},i.atan=function(t){return new r(t).atan()},i.prototype.atanh=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.atanh(this.get(t,o)));return this},i.atanh=function(t){return new r(t).atanh()},i.prototype.cbrt=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.cbrt(this.get(t,o)));return this},i.cbrt=function(t){return new r(t).cbrt()},i.prototype.ceil=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.ceil(this.get(t,o)));return this},i.ceil=function(t){return new r(t).ceil()},i.prototype.clz32=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.clz32(this.get(t,o)));return this},i.clz32=function(t){return new r(t).clz32()},i.prototype.cos=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.cos(this.get(t,o)));return this},i.cos=function(t){return new r(t).cos()},i.prototype.cosh=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.cosh(this.get(t,o)));return this},i.cosh=function(t){return new r(t).cosh()},i.prototype.exp=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.exp(this.get(t,o)));return this},i.exp=function(t){return new r(t).exp()},i.prototype.expm1=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.expm1(this.get(t,o)));return this},i.expm1=function(t){return new r(t).expm1()},i.prototype.floor=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.floor(this.get(t,o)));return this},i.floor=function(t){return new r(t).floor()},i.prototype.fround=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.fround(this.get(t,o)));return this},i.fround=function(t){return new r(t).fround()},i.prototype.log=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.log(this.get(t,o)));return this},i.log=function(t){return new r(t).log()},i.prototype.log1p=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.log1p(this.get(t,o)));return this},i.log1p=function(t){return new r(t).log1p()},i.prototype.log10=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.log10(this.get(t,o)));return this},i.log10=function(t){return new r(t).log10()},i.prototype.log2=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.log2(this.get(t,o)));return this},i.log2=function(t){return new r(t).log2()},i.prototype.round=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.round(this.get(t,o)));return this},i.round=function(t){return new r(t).round()},i.prototype.sign=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.sign(this.get(t,o)));return this},i.sign=function(t){return new r(t).sign()},i.prototype.sin=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.sin(this.get(t,o)));return this},i.sin=function(t){return new r(t).sin()},i.prototype.sinh=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.sinh(this.get(t,o)));return this},i.sinh=function(t){return new r(t).sinh()},i.prototype.sqrt=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.sqrt(this.get(t,o)));return this},i.sqrt=function(t){return new r(t).sqrt()},i.prototype.tan=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.tan(this.get(t,o)));return this},i.tan=function(t){return new r(t).tan()},i.prototype.tanh=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.tanh(this.get(t,o)));return this},i.tanh=function(t){return new r(t).tanh()},i.prototype.trunc=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.trunc(this.get(t,o)));return this},i.trunc=function(t){return new r(t).trunc()},i.pow=function(t,o){return new r(t).pow(o)},i.prototype.pow=function(t){return typeof t=="number"?this.powS(t):this.powM(t)},i.prototype.powS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,Math.pow(this.get(o,l),t));return this},i.prototype.powM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,Math.pow(this.get(o,l),t.get(o,l)));return this}}function Xs(i,r,t){let o=t?i.rows:i.rows-1;if(r<0||r>o)throw new RangeError("Row index out of range")}function Ks(i,r,t){let o=t?i.columns:i.columns-1;if(r<0||r>o)throw new RangeError("Column index out of range")}function Jd(i,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==i.columns)throw new RangeError("vector size must be the same as the number of columns");return r}function Qd(i,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==i.rows)throw new RangeError("vector size must be the same as the number of rows");return r}function $x(i,r){if(!Ko.isAnyArray(r))throw new TypeError("row indices must be an array");for(let t=0;t<r.length;t++)if(r[t]<0||r[t]>=i.rows)throw new RangeError("row indices are out of range")}function t_(i,r){if(!Ko.isAnyArray(r))throw new TypeError("column indices must be an array");for(let t=0;t<r.length;t++)if(r[t]<0||r[t]>=i.columns)throw new RangeError("column indices are out of range")}function A1(i,r,t,o,l){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(ev("startRow",r),ev("endRow",t),ev("startColumn",o),ev("endColumn",l),r>t||o>l||r<0||r>=i.rows||t<0||t>=i.rows||o<0||o>=i.columns||l<0||l>=i.columns)throw new RangeError("Submatrix indices are out of range")}function Oy(i,r=0){let t=[];for(let o=0;o<i;o++)t.push(r);return t}function ev(i,r){if(typeof r!="number")throw new TypeError(`${i} must be a number`)}function Zd(i){if(i.isEmpty())throw new Error("Empty matrix has no elements to index")}function LB(i){let r=Oy(i.rows);for(let t=0;t<i.rows;++t)for(let o=0;o<i.columns;++o)r[t]+=i.get(t,o);return r}function AB(i){let r=Oy(i.columns);for(let t=0;t<i.rows;++t)for(let o=0;o<i.columns;++o)r[o]+=i.get(t,o);return r}function RB(i){let r=0;for(let t=0;t<i.rows;t++)for(let o=0;o<i.columns;o++)r+=i.get(t,o);return r}function OB(i){let r=Oy(i.rows,1);for(let t=0;t<i.rows;++t)for(let o=0;o<i.columns;++o)r[t]*=i.get(t,o);return r}function zB(i){let r=Oy(i.columns,1);for(let t=0;t<i.rows;++t)for(let o=0;o<i.columns;++o)r[o]*=i.get(t,o);return r}function NB(i){let r=1;for(let t=0;t<i.rows;t++)for(let o=0;o<i.columns;o++)r*=i.get(t,o);return r}function DB(i,r,t){const o=i.rows,l=i.columns,u=[];for(let d=0;d<o;d++){let p=0,m=0,v=0;for(let x=0;x<l;x++)v=i.get(d,x)-t[d],p+=v,m+=v*v;r?u.push((m-p*p/l)/(l-1)):u.push((m-p*p/l)/l)}return u}function FB(i,r,t){const o=i.rows,l=i.columns,u=[];for(let d=0;d<l;d++){let p=0,m=0,v=0;for(let x=0;x<o;x++)v=i.get(x,d)-t[d],p+=v,m+=v*v;r?u.push((m-p*p/o)/(o-1)):u.push((m-p*p/o)/o)}return u}function BB(i,r,t){const o=i.rows,l=i.columns,u=o*l;let d=0,p=0,m=0;for(let v=0;v<o;v++)for(let x=0;x<l;x++)m=i.get(v,x)-t,d+=m,p+=m*m;return r?(p-d*d/u)/(u-1):(p-d*d/u)/u}function jB(i,r){for(let t=0;t<i.rows;t++)for(let o=0;o<i.columns;o++)i.set(t,o,i.get(t,o)-r[t])}function HB(i,r){for(let t=0;t<i.rows;t++)for(let o=0;o<i.columns;o++)i.set(t,o,i.get(t,o)-r[o])}function UB(i,r){for(let t=0;t<i.rows;t++)for(let o=0;o<i.columns;o++)i.set(t,o,i.get(t,o)-r)}function GB(i){const r=[];for(let t=0;t<i.rows;t++){let o=0;for(let l=0;l<i.columns;l++)o+=Math.pow(i.get(t,l),2)/(i.columns-1);r.push(Math.sqrt(o))}return r}function qB(i,r){for(let t=0;t<i.rows;t++)for(let o=0;o<i.columns;o++)i.set(t,o,i.get(t,o)/r[t])}function VB(i){const r=[];for(let t=0;t<i.columns;t++){let o=0;for(let l=0;l<i.rows;l++)o+=Math.pow(i.get(l,t),2)/(i.rows-1);r.push(Math.sqrt(o))}return r}function WB(i,r){for(let t=0;t<i.rows;t++)for(let o=0;o<i.columns;o++)i.set(t,o,i.get(t,o)/r[o])}function ZB(i){const r=i.size-1;let t=0;for(let o=0;o<i.columns;o++)for(let l=0;l<i.rows;l++)t+=Math.pow(i.get(l,o),2)/r;return Math.sqrt(t)}function YB(i,r){for(let t=0;t<i.rows;t++)for(let o=0;o<i.columns;o++)i.set(t,o,i.get(t,o)/r)}class fr{static from1DArray(r,t,o){if(r*t!==o.length)throw new RangeError("data length does not match given dimensions");let l=new we(r,t);for(let u=0;u<r;u++)for(let d=0;d<t;d++)l.set(u,d,o[u*t+d]);return l}static rowVector(r){let t=new we(1,r.length);for(let o=0;o<r.length;o++)t.set(0,o,r[o]);return t}static columnVector(r){let t=new we(r.length,1);for(let o=0;o<r.length;o++)t.set(o,0,r[o]);return t}static zeros(r,t){return new we(r,t)}static ones(r,t){return new we(r,t).fill(1)}static rand(r,t,o={}){if(typeof o!="object")throw new TypeError("options must be an object");const{random:l=Math.random}=o;let u=new we(r,t);for(let d=0;d<r;d++)for(let p=0;p<t;p++)u.set(d,p,l());return u}static randInt(r,t,o={}){if(typeof o!="object")throw new TypeError("options must be an object");const{min:l=0,max:u=1e3,random:d=Math.random}=o;if(!Number.isInteger(l))throw new TypeError("min must be an integer");if(!Number.isInteger(u))throw new TypeError("max must be an integer");if(l>=u)throw new RangeError("min must be smaller than max");let p=u-l,m=new we(r,t);for(let v=0;v<r;v++)for(let x=0;x<t;x++){let k=l+Math.round(d()*p);m.set(v,x,k)}return m}static eye(r,t,o){t===void 0&&(t=r),o===void 0&&(o=1);let l=Math.min(r,t),u=this.zeros(r,t);for(let d=0;d<l;d++)u.set(d,d,o);return u}static diag(r,t,o){let l=r.length;t===void 0&&(t=l),o===void 0&&(o=t);let u=Math.min(l,t,o),d=this.zeros(t,o);for(let p=0;p<u;p++)d.set(p,p,r[p]);return d}static min(r,t){r=this.checkMatrix(r),t=this.checkMatrix(t);let o=r.rows,l=r.columns,u=new we(o,l);for(let d=0;d<o;d++)for(let p=0;p<l;p++)u.set(d,p,Math.min(r.get(d,p),t.get(d,p)));return u}static max(r,t){r=this.checkMatrix(r),t=this.checkMatrix(t);let o=r.rows,l=r.columns,u=new this(o,l);for(let d=0;d<o;d++)for(let p=0;p<l;p++)u.set(d,p,Math.max(r.get(d,p),t.get(d,p)));return u}static checkMatrix(r){return fr.isMatrix(r)?r:new we(r)}static isMatrix(r){return r!=null&&r.klass==="Matrix"}get size(){return this.rows*this.columns}apply(r){if(typeof r!="function")throw new TypeError("callback must be a function");for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)r.call(this,t,o);return this}to1DArray(){let r=[];for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)r.push(this.get(t,o));return r}to2DArray(){let r=[];for(let t=0;t<this.rows;t++){r.push([]);for(let o=0;o<this.columns;o++)r[t].push(this.get(t,o))}return r}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let r=0;r<this.rows;r++)for(let t=0;t<=r;t++)if(this.get(r,t)!==this.get(t,r))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let r=0;r<this.rows;r++)if(this.get(r,r)!==0)return!1;return!0}isEchelonForm(){let r=0,t=0,o=-1,l=!0,u=!1;for(;r<this.rows&&l;){for(t=0,u=!1;t<this.columns&&u===!1;)this.get(r,t)===0?t++:this.get(r,t)===1&&t>o?(u=!0,o=t):(l=!1,u=!0);r++}return l}isReducedEchelonForm(){let r=0,t=0,o=-1,l=!0,u=!1;for(;r<this.rows&&l;){for(t=0,u=!1;t<this.columns&&u===!1;)this.get(r,t)===0?t++:this.get(r,t)===1&&t>o?(u=!0,o=t):(l=!1,u=!0);for(let d=t+1;d<this.rows;d++)this.get(r,d)!==0&&(l=!1);r++}return l}echelonForm(){let r=this.clone(),t=0,o=0;for(;t<r.rows&&o<r.columns;){let l=t;for(let u=t;u<r.rows;u++)r.get(u,o)>r.get(l,o)&&(l=u);if(r.get(l,o)===0)o++;else{r.swapRows(t,l);let u=r.get(t,o);for(let d=o;d<r.columns;d++)r.set(t,d,r.get(t,d)/u);for(let d=t+1;d<r.rows;d++){let p=r.get(d,o)/r.get(t,o);r.set(d,o,0);for(let m=o+1;m<r.columns;m++)r.set(d,m,r.get(d,m)-r.get(t,m)*p)}t++,o++}}return r}reducedEchelonForm(){let r=this.echelonForm(),t=r.columns,o=r.rows,l=o-1;for(;l>=0;)if(r.maxRow(l)===0)l--;else{let u=0,d=!1;for(;u<o&&d===!1;)r.get(l,u)===1?d=!0:u++;for(let p=0;p<l;p++){let m=r.get(p,u);for(let v=u;v<t;v++){let x=r.get(p,v)-m*r.get(l,v);r.set(p,v,x)}}l--}return r}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{rows:t=1,columns:o=1}=r;if(!Number.isInteger(t)||t<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(o)||o<=0)throw new TypeError("columns must be a positive integer");let l=new we(this.rows*t,this.columns*o);for(let u=0;u<t;u++)for(let d=0;d<o;d++)l.setSubMatrix(this,this.rows*u,this.columns*d);return l}fill(r){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,r);return this}neg(){return this.mulS(-1)}getRow(r){Xs(this,r);let t=[];for(let o=0;o<this.columns;o++)t.push(this.get(r,o));return t}getRowVector(r){return we.rowVector(this.getRow(r))}setRow(r,t){Xs(this,r),t=Jd(this,t);for(let o=0;o<this.columns;o++)this.set(r,o,t[o]);return this}swapRows(r,t){Xs(this,r),Xs(this,t);for(let o=0;o<this.columns;o++){let l=this.get(r,o);this.set(r,o,this.get(t,o)),this.set(t,o,l)}return this}getColumn(r){Ks(this,r);let t=[];for(let o=0;o<this.rows;o++)t.push(this.get(o,r));return t}getColumnVector(r){return we.columnVector(this.getColumn(r))}setColumn(r,t){Ks(this,r),t=Qd(this,t);for(let o=0;o<this.rows;o++)this.set(o,r,t[o]);return this}swapColumns(r,t){Ks(this,r),Ks(this,t);for(let o=0;o<this.rows;o++){let l=this.get(o,r);this.set(o,r,this.get(o,t)),this.set(o,t,l)}return this}addRowVector(r){r=Jd(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)+r[o]);return this}subRowVector(r){r=Jd(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)-r[o]);return this}mulRowVector(r){r=Jd(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)*r[o]);return this}divRowVector(r){r=Jd(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)/r[o]);return this}addColumnVector(r){r=Qd(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)+r[t]);return this}subColumnVector(r){r=Qd(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)-r[t]);return this}mulColumnVector(r){r=Qd(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)*r[t]);return this}divColumnVector(r){r=Qd(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)/r[t]);return this}mulRow(r,t){Xs(this,r);for(let o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)*t);return this}mulColumn(r,t){Ks(this,r);for(let o=0;o<this.rows;o++)this.set(o,r,this.get(o,r)*t);return this}max(r){if(this.isEmpty())return NaN;switch(r){case"row":{const t=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)>t[o]&&(t[o]=this.get(o,l));return t}case"column":{const t=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)>t[l]&&(t[l]=this.get(o,l));return t}case void 0:{let t=this.get(0,0);for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)>t&&(t=this.get(o,l));return t}default:throw new Error(`invalid option: ${r}`)}}maxIndex(){Zd(this);let r=this.get(0,0),t=[0,0];for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)>r&&(r=this.get(o,l),t[0]=o,t[1]=l);return t}min(r){if(this.isEmpty())return NaN;switch(r){case"row":{const t=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)<t[o]&&(t[o]=this.get(o,l));return t}case"column":{const t=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)<t[l]&&(t[l]=this.get(o,l));return t}case void 0:{let t=this.get(0,0);for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)<t&&(t=this.get(o,l));return t}default:throw new Error(`invalid option: ${r}`)}}minIndex(){Zd(this);let r=this.get(0,0),t=[0,0];for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)<r&&(r=this.get(o,l),t[0]=o,t[1]=l);return t}maxRow(r){if(Xs(this,r),this.isEmpty())return NaN;let t=this.get(r,0);for(let o=1;o<this.columns;o++)this.get(r,o)>t&&(t=this.get(r,o));return t}maxRowIndex(r){Xs(this,r),Zd(this);let t=this.get(r,0),o=[r,0];for(let l=1;l<this.columns;l++)this.get(r,l)>t&&(t=this.get(r,l),o[1]=l);return o}minRow(r){if(Xs(this,r),this.isEmpty())return NaN;let t=this.get(r,0);for(let o=1;o<this.columns;o++)this.get(r,o)<t&&(t=this.get(r,o));return t}minRowIndex(r){Xs(this,r),Zd(this);let t=this.get(r,0),o=[r,0];for(let l=1;l<this.columns;l++)this.get(r,l)<t&&(t=this.get(r,l),o[1]=l);return o}maxColumn(r){if(Ks(this,r),this.isEmpty())return NaN;let t=this.get(0,r);for(let o=1;o<this.rows;o++)this.get(o,r)>t&&(t=this.get(o,r));return t}maxColumnIndex(r){Ks(this,r),Zd(this);let t=this.get(0,r),o=[0,r];for(let l=1;l<this.rows;l++)this.get(l,r)>t&&(t=this.get(l,r),o[0]=l);return o}minColumn(r){if(Ks(this,r),this.isEmpty())return NaN;let t=this.get(0,r);for(let o=1;o<this.rows;o++)this.get(o,r)<t&&(t=this.get(o,r));return t}minColumnIndex(r){Ks(this,r),Zd(this);let t=this.get(0,r),o=[0,r];for(let l=1;l<this.rows;l++)this.get(l,r)<t&&(t=this.get(l,r),o[0]=l);return o}diag(){let r=Math.min(this.rows,this.columns),t=[];for(let o=0;o<r;o++)t.push(this.get(o,o));return t}norm(r="frobenius"){switch(r){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${r}`)}}cumulativeSum(){let r=0;for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)r+=this.get(t,o),this.set(t,o,r);return this}dot(r){fr.isMatrix(r)&&(r=r.to1DArray());let t=this.to1DArray();if(t.length!==r.length)throw new RangeError("vectors do not have the same size");let o=0;for(let l=0;l<t.length;l++)o+=t[l]*r[l];return o}mmul(r){r=we.checkMatrix(r);let t=this.rows,o=this.columns,l=r.columns,u=new we(t,l),d=new Float64Array(o);for(let p=0;p<l;p++){for(let m=0;m<o;m++)d[m]=r.get(m,p);for(let m=0;m<t;m++){let v=0;for(let x=0;x<o;x++)v+=this.get(m,x)*d[x];u.set(m,p,v)}}return u}strassen2x2(r){r=we.checkMatrix(r);let t=new we(2,2);const o=this.get(0,0),l=r.get(0,0),u=this.get(0,1),d=r.get(0,1),p=this.get(1,0),m=r.get(1,0),v=this.get(1,1),x=r.get(1,1),k=(o+v)*(l+x),C=(p+v)*l,M=o*(d-x),I=v*(m-l),D=(o+u)*x,j=(p-o)*(l+d),H=(u-v)*(m+x),J=k+I-D+H,q=M+D,W=C+I,st=k-C+M+j;return t.set(0,0,J),t.set(0,1,q),t.set(1,0,W),t.set(1,1,st),t}strassen3x3(r){r=we.checkMatrix(r);let t=new we(3,3);const o=this.get(0,0),l=this.get(0,1),u=this.get(0,2),d=this.get(1,0),p=this.get(1,1),m=this.get(1,2),v=this.get(2,0),x=this.get(2,1),k=this.get(2,2),C=r.get(0,0),M=r.get(0,1),I=r.get(0,2),D=r.get(1,0),j=r.get(1,1),H=r.get(1,2),J=r.get(2,0),q=r.get(2,1),W=r.get(2,2),st=(o+l+u-d-p-x-k)*j,mt=(o-d)*(-M+j),gt=p*(-C+M+D-j-H-J+W),ot=(-o+d+p)*(C-M+j),U=(d+p)*(-C+M),et=o*C,lt=(-o+v+x)*(C-I+H),ht=(-o+v)*(I-H),Gt=(v+x)*(-C+I),St=(o+l+u-p-m-v-x)*H,Lt=x*(-C+I+D-j-H-J+q),xt=(-u+x+k)*(j+J-q),Dt=(u-k)*(j-q),zt=u*J,fe=(x+k)*(-J+q),yt=(-u+p+m)*(H+J-W),At=(u-m)*(H-W),Xt=(p+m)*(-J+W),ee=l*D,ge=m*q,ae=d*I,ue=v*M,rr=k*W,mr=et+zt+ee,vi=st+ot+U+et+xt+zt+fe,Xi=et+lt+Gt+St+zt+yt+Xt,Bi=mt+gt+ot+et+zt+yt+At,bt=mt+ot+U+et+ge,Et=zt+yt+At+Xt+ae,Ht=et+lt+ht+Lt+xt+Dt+zt,A=xt+Dt+zt+fe+ue,G=et+lt+ht+Gt+rr;return t.set(0,0,mr),t.set(0,1,vi),t.set(0,2,Xi),t.set(1,0,Bi),t.set(1,1,bt),t.set(1,2,Et),t.set(2,0,Ht),t.set(2,1,A),t.set(2,2,G),t}mmulStrassen(r){r=we.checkMatrix(r);let t=this.clone(),o=t.rows,l=t.columns,u=r.rows,d=r.columns;l!==u&&console.warn(`Multiplying ${o} x ${l} and ${u} x ${d} matrix: dimensions do not match.`);function p(k,C,M){let I=k.rows,D=k.columns;if(I===C&&D===M)return k;{let j=fr.zeros(C,M);return j=j.setSubMatrix(k,0,0),j}}let m=Math.max(o,u),v=Math.max(l,d);t=p(t,m,v),r=p(r,m,v);function x(k,C,M,I){if(M<=512||I<=512)return k.mmul(C);M%2===1&&I%2===1?(k=p(k,M+1,I+1),C=p(C,M+1,I+1)):M%2===1?(k=p(k,M+1,I),C=p(C,M+1,I)):I%2===1&&(k=p(k,M,I+1),C=p(C,M,I+1));let D=parseInt(k.rows/2,10),j=parseInt(k.columns/2,10),H=k.subMatrix(0,D-1,0,j-1),J=C.subMatrix(0,D-1,0,j-1),q=k.subMatrix(0,D-1,j,k.columns-1),W=C.subMatrix(0,D-1,j,C.columns-1),st=k.subMatrix(D,k.rows-1,0,j-1),mt=C.subMatrix(D,C.rows-1,0,j-1),gt=k.subMatrix(D,k.rows-1,j,k.columns-1),ot=C.subMatrix(D,C.rows-1,j,C.columns-1),U=x(fr.add(H,gt),fr.add(J,ot),D,j),et=x(fr.add(st,gt),J,D,j),lt=x(H,fr.sub(W,ot),D,j),ht=x(gt,fr.sub(mt,J),D,j),Gt=x(fr.add(H,q),ot,D,j),St=x(fr.sub(st,H),fr.add(J,W),D,j),Lt=x(fr.sub(q,gt),fr.add(mt,ot),D,j),xt=fr.add(U,ht);xt.sub(Gt),xt.add(Lt);let Dt=fr.add(lt,Gt),zt=fr.add(et,ht),fe=fr.sub(U,et);fe.add(lt),fe.add(St);let yt=fr.zeros(2*xt.rows,2*xt.columns);return yt=yt.setSubMatrix(xt,0,0),yt=yt.setSubMatrix(Dt,xt.rows,0),yt=yt.setSubMatrix(zt,0,xt.columns),yt=yt.setSubMatrix(fe,xt.rows,xt.columns),yt.subMatrix(0,M-1,0,I-1)}return x(t,r,m,v)}scaleRows(r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{min:t=0,max:o=1}=r;if(!Number.isFinite(t))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(t>=o)throw new RangeError("min must be smaller than max");let l=new we(this.rows,this.columns);for(let u=0;u<this.rows;u++){const d=this.getRow(u);d.length>0&&AT(d,{min:t,max:o,output:d}),l.setRow(u,d)}return l}scaleColumns(r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{min:t=0,max:o=1}=r;if(!Number.isFinite(t))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(t>=o)throw new RangeError("min must be smaller than max");let l=new we(this.rows,this.columns);for(let u=0;u<this.columns;u++){const d=this.getColumn(u);d.length&&AT(d,{min:t,max:o,output:d}),l.setColumn(u,d)}return l}flipRows(){const r=Math.ceil(this.columns/2);for(let t=0;t<this.rows;t++)for(let o=0;o<r;o++){let l=this.get(t,o),u=this.get(t,this.columns-1-o);this.set(t,o,u),this.set(t,this.columns-1-o,l)}return this}flipColumns(){const r=Math.ceil(this.rows/2);for(let t=0;t<this.columns;t++)for(let o=0;o<r;o++){let l=this.get(o,t),u=this.get(this.rows-1-o,t);this.set(o,t,u),this.set(this.rows-1-o,t,l)}return this}kroneckerProduct(r){r=we.checkMatrix(r);let t=this.rows,o=this.columns,l=r.rows,u=r.columns,d=new we(t*l,o*u);for(let p=0;p<t;p++)for(let m=0;m<o;m++)for(let v=0;v<l;v++)for(let x=0;x<u;x++)d.set(l*p+v,u*m+x,this.get(p,m)*r.get(v,x));return d}kroneckerSum(r){if(r=we.checkMatrix(r),!this.isSquare()||!r.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let t=this.rows,o=r.rows,l=this.kroneckerProduct(we.eye(o,o)),u=we.eye(t,t).kroneckerProduct(r);return l.add(u)}transpose(){let r=new we(this.columns,this.rows);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)r.set(o,t,this.get(t,o));return r}sortRows(r=OT){for(let t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(r));return this}sortColumns(r=OT){for(let t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(r));return this}subMatrix(r,t,o,l){A1(this,r,t,o,l);let u=new we(t-r+1,l-o+1);for(let d=r;d<=t;d++)for(let p=o;p<=l;p++)u.set(d-r,p-o,this.get(d,p));return u}subMatrixRow(r,t,o){if(t===void 0&&(t=0),o===void 0&&(o=this.columns-1),t>o||t<0||t>=this.columns||o<0||o>=this.columns)throw new RangeError("Argument out of range");let l=new we(r.length,o-t+1);for(let u=0;u<r.length;u++)for(let d=t;d<=o;d++){if(r[u]<0||r[u]>=this.rows)throw new RangeError(`Row index out of range: ${r[u]}`);l.set(u,d-t,this.get(r[u],d))}return l}subMatrixColumn(r,t,o){if(t===void 0&&(t=0),o===void 0&&(o=this.rows-1),t>o||t<0||t>=this.rows||o<0||o>=this.rows)throw new RangeError("Argument out of range");let l=new we(o-t+1,r.length);for(let u=0;u<r.length;u++)for(let d=t;d<=o;d++){if(r[u]<0||r[u]>=this.columns)throw new RangeError(`Column index out of range: ${r[u]}`);l.set(d-t,u,this.get(d,r[u]))}return l}setSubMatrix(r,t,o){if(r=we.checkMatrix(r),r.isEmpty())return this;let l=t+r.rows-1,u=o+r.columns-1;A1(this,t,l,o,u);for(let d=0;d<r.rows;d++)for(let p=0;p<r.columns;p++)this.set(t+d,o+p,r.get(d,p));return this}selection(r,t){$x(this,r),t_(this,t);let o=new we(r.length,t.length);for(let l=0;l<r.length;l++){let u=r[l];for(let d=0;d<t.length;d++){let p=t[d];o.set(l,d,this.get(u,p))}}return o}trace(){let r=Math.min(this.rows,this.columns),t=0;for(let o=0;o<r;o++)t+=this.get(o,o);return t}clone(){return this.constructor.copy(this,new we(this.rows,this.columns))}static copy(r,t){for(const[o,l,u]of r.entries())t.set(o,l,u);return t}sum(r){switch(r){case"row":return LB(this);case"column":return AB(this);case void 0:return RB(this);default:throw new Error(`invalid option: ${r}`)}}product(r){switch(r){case"row":return OB(this);case"column":return zB(this);case void 0:return NB(this);default:throw new Error(`invalid option: ${r}`)}}mean(r){const t=this.sum(r);switch(r){case"row":{for(let o=0;o<this.rows;o++)t[o]/=this.columns;return t}case"column":{for(let o=0;o<this.columns;o++)t[o]/=this.rows;return t}case void 0:return t/this.size;default:throw new Error(`invalid option: ${r}`)}}variance(r,t={}){if(typeof r=="object"&&(t=r,r=void 0),typeof t!="object")throw new TypeError("options must be an object");const{unbiased:o=!0,mean:l=this.mean(r)}=t;if(typeof o!="boolean")throw new TypeError("unbiased must be a boolean");switch(r){case"row":{if(!Ko.isAnyArray(l))throw new TypeError("mean must be an array");return DB(this,o,l)}case"column":{if(!Ko.isAnyArray(l))throw new TypeError("mean must be an array");return FB(this,o,l)}case void 0:{if(typeof l!="number")throw new TypeError("mean must be a number");return BB(this,o,l)}default:throw new Error(`invalid option: ${r}`)}}standardDeviation(r,t){typeof r=="object"&&(t=r,r=void 0);const o=this.variance(r,t);if(r===void 0)return Math.sqrt(o);for(let l=0;l<o.length;l++)o[l]=Math.sqrt(o[l]);return o}center(r,t={}){if(typeof r=="object"&&(t=r,r=void 0),typeof t!="object")throw new TypeError("options must be an object");const{center:o=this.mean(r)}=t;switch(r){case"row":{if(!Ko.isAnyArray(o))throw new TypeError("center must be an array");return jB(this,o),this}case"column":{if(!Ko.isAnyArray(o))throw new TypeError("center must be an array");return HB(this,o),this}case void 0:{if(typeof o!="number")throw new TypeError("center must be a number");return UB(this,o),this}default:throw new Error(`invalid option: ${r}`)}}scale(r,t={}){if(typeof r=="object"&&(t=r,r=void 0),typeof t!="object")throw new TypeError("options must be an object");let o=t.scale;switch(r){case"row":{if(o===void 0)o=GB(this);else if(!Ko.isAnyArray(o))throw new TypeError("scale must be an array");return qB(this,o),this}case"column":{if(o===void 0)o=VB(this);else if(!Ko.isAnyArray(o))throw new TypeError("scale must be an array");return WB(this,o),this}case void 0:{if(o===void 0)o=ZB(this);else if(typeof o!="number")throw new TypeError("scale must be a number");return YB(this,o),this}default:throw new Error(`invalid option: ${r}`)}}toString(r){return VP(this,r)}[Symbol.iterator](){return this.entries()}*entries(){for(let r=0;r<this.rows;r++)for(let t=0;t<this.columns;t++)yield[r,t,this.get(r,t)]}*values(){for(let r=0;r<this.rows;r++)for(let t=0;t<this.columns;t++)yield this.get(r,t)}}fr.prototype.klass="Matrix";typeof Symbol<"u"&&(fr.prototype[Symbol.for("nodejs.util.inspect.custom")]=CB);function OT(i,r){return i-r}function XB(i){return i.every(r=>typeof r=="number")}fr.random=fr.rand;fr.randomInt=fr.randInt;fr.diagonal=fr.diag;fr.prototype.diagonal=fr.prototype.diag;fr.identity=fr.eye;fr.prototype.negate=fr.prototype.neg;fr.prototype.tensorProduct=fr.prototype.kroneckerProduct;var rv,Fw,iv;let we=(iv=class extends fr{constructor(i,r){if(super(),Eg(this,rv),yB(this,"data"),iv.isMatrix(i))Sp(this,rv,Fw).call(this,i.rows,i.columns),iv.copy(i,this);else if(Number.isInteger(i)&&i>=0)Sp(this,rv,Fw).call(this,i,r);else if(Ko.isAnyArray(i)){const t=i;if(i=t.length,r=i?t[0].length:0,typeof r!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let o=0;o<i;o++){if(t[o].length!==r)throw new RangeError("Inconsistent array dimensions");if(!XB(t[o]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(t[o]))}this.rows=i,this.columns=r}else throw new TypeError("First argument must be a positive number or an array")}set(i,r,t){return this.data[i][r]=t,this}get(i,r){return this.data[i][r]}removeRow(i){return Xs(this,i),this.data.splice(i,1),this.rows-=1,this}addRow(i,r){return r===void 0&&(r=i,i=this.rows),Xs(this,i,!0),r=Float64Array.from(Jd(this,r)),this.data.splice(i,0,r),this.rows+=1,this}removeColumn(i){Ks(this,i);for(let r=0;r<this.rows;r++){const t=new Float64Array(this.columns-1);for(let o=0;o<i;o++)t[o]=this.data[r][o];for(let o=i+1;o<this.columns;o++)t[o-1]=this.data[r][o];this.data[r]=t}return this.columns-=1,this}addColumn(i,r){typeof r>"u"&&(r=i,i=this.columns),Ks(this,i,!0),r=Qd(this,r);for(let t=0;t<this.rows;t++){const o=new Float64Array(this.columns+1);let l=0;for(;l<i;l++)o[l]=this.data[t][l];for(o[l++]=r[t];l<this.columns+1;l++)o[l]=this.data[t][l-1];this.data[t]=o}return this.columns+=1,this}},rv=new WeakSet,Fw=function(i,r){if(this.data=[],Number.isInteger(r)&&r>=0)for(let t=0;t<i;t++)this.data.push(new Float64Array(r));else throw new TypeError("nColumns must be a positive integer");this.rows=i,this.columns=r},iv);IB(fr,we);var Ao;const KB=class R1 extends fr{constructor(r){if(super(),Eg(this,Ao,void 0),we.isMatrix(r)){if(!r.isSymmetric())throw new TypeError("not symmetric data");Dw(this,Ao,we.copy(r,new we(r.rows,r.rows)))}else if(Number.isInteger(r)&&r>=0)Dw(this,Ao,new we(r,r));else if(Dw(this,Ao,new we(r)),!this.isSymmetric())throw new TypeError("not symmetric data")}get size(){return ol(this,Ao).size}get rows(){return ol(this,Ao).rows}get columns(){return ol(this,Ao).columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(r){return we.isMatrix(r)&&r.klassType==="SymmetricMatrix"}static zeros(r){return new this(r)}static ones(r){return new this(r).fill(1)}clone(){const r=new R1(this.diagonalSize);for(const[t,o,l]of this.upperRightEntries())r.set(t,o,l);return r}toMatrix(){return new we(this)}get(r,t){return ol(this,Ao).get(r,t)}set(r,t,o){return ol(this,Ao).set(r,t,o),ol(this,Ao).set(t,r,o),this}removeCross(r){return ol(this,Ao).removeRow(r),ol(this,Ao).removeColumn(r),this}addCross(r,t){t===void 0&&(t=r,r=this.diagonalSize);const o=t.slice();return o.splice(r,1),ol(this,Ao).addRow(r,o),ol(this,Ao).addColumn(r,t),this}applyMask(r){if(r.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const t=[];for(const[o,l]of r.entries())l||t.push(o);t.reverse();for(const o of t)this.removeCross(o);return this}toCompact(){const{diagonalSize:r}=this,t=new Array(r*(r+1)/2);for(let o=0,l=0,u=0;u<t.length;u++)t[u]=this.get(l,o),++o>=r&&(o=++l);return t}static fromCompact(r){const t=r.length,o=(Math.sqrt(8*t+1)-1)/2;if(!Number.isInteger(o))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(r)}`);const l=new R1(o);for(let u=0,d=0,p=0;p<t;p++)l.set(u,d,r[p]),++u>=o&&(u=++d);return l}*upperRightEntries(){for(let r=0,t=0;r<this.diagonalSize;void 0){const o=this.get(r,t);yield[r,t,o],++t>=this.diagonalSize&&(t=++r)}}*upperRightValues(){for(let r=0,t=0;r<this.diagonalSize;void 0)yield this.get(r,t),++t>=this.diagonalSize&&(t=++r)}};Ao=new WeakMap;let Tg=KB;Tg.prototype.klassType="SymmetricMatrix";class zy extends Tg{static isDistanceMatrix(r){return Tg.isSymmetricMatrix(r)&&r.klassSubType==="DistanceMatrix"}constructor(r){if(super(r),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(r,t,o){return r===t&&(o=0),super.set(r,t,o)}addCross(r,t){return t===void 0&&(t=r,r=this.diagonalSize),t=t.slice(),t[r]=0,super.addCross(r,t)}toSymmetricMatrix(){return new Tg(this)}clone(){const r=new zy(this.diagonalSize);for(const[t,o,l]of this.upperRightEntries())t!==o&&r.set(t,o,l);return r}toCompact(){const{diagonalSize:r}=this,t=(r-1)*r/2,o=new Array(t);for(let l=1,u=0,d=0;d<o.length;d++)o[d]=this.get(u,l),++l>=r&&(l=++u+1);return o}static fromCompact(r){const t=r.length,o=(Math.sqrt(8*t+1)+1)/2;if(!Number.isInteger(o))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(r)}`);const l=new this(o);for(let u=1,d=0,p=0;p<t;p++)l.set(u,d,r[p]),++u>=o&&(u=++d+1);return l}}zy.prototype.klassSubType="DistanceMatrix";class mc extends fr{constructor(r,t,o){super(),this.matrix=r,this.rows=t,this.columns=o}}class JB extends mc{constructor(r,t){Ks(r,t),super(r,r.rows,1),this.column=t}set(r,t,o){return this.matrix.set(r,this.column,o),this}get(r){return this.matrix.get(r,this.column)}}class QB extends mc{constructor(r,t){t_(r,t),super(r,r.rows,t.length),this.columnIndices=t}set(r,t,o){return this.matrix.set(r,this.columnIndices[t],o),this}get(r,t){return this.matrix.get(r,this.columnIndices[t])}}class $B extends mc{constructor(r){super(r,r.rows,r.columns)}set(r,t,o){return this.matrix.set(r,this.columns-t-1,o),this}get(r,t){return this.matrix.get(r,this.columns-t-1)}}class t9 extends mc{constructor(r){super(r,r.rows,r.columns)}set(r,t,o){return this.matrix.set(this.rows-r-1,t,o),this}get(r,t){return this.matrix.get(this.rows-r-1,t)}}class e9 extends mc{constructor(r,t){Xs(r,t),super(r,1,r.columns),this.row=t}set(r,t,o){return this.matrix.set(this.row,t,o),this}get(r,t){return this.matrix.get(this.row,t)}}class r9 extends mc{constructor(r,t){$x(r,t),super(r,t.length,r.columns),this.rowIndices=t}set(r,t,o){return this.matrix.set(this.rowIndices[r],t,o),this}get(r,t){return this.matrix.get(this.rowIndices[r],t)}}class _v extends mc{constructor(r,t,o){$x(r,t),t_(r,o),super(r,t.length,o.length),this.rowIndices=t,this.columnIndices=o}set(r,t,o){return this.matrix.set(this.rowIndices[r],this.columnIndices[t],o),this}get(r,t){return this.matrix.get(this.rowIndices[r],this.columnIndices[t])}}class i9 extends mc{constructor(r,t,o,l,u){A1(r,t,o,l,u),super(r,o-t+1,u-l+1),this.startRow=t,this.startColumn=l}set(r,t,o){return this.matrix.set(this.startRow+r,this.startColumn+t,o),this}get(r,t){return this.matrix.get(this.startRow+r,this.startColumn+t)}}class n9 extends mc{constructor(r){super(r,r.columns,r.rows)}set(r,t,o){return this.matrix.set(t,r,o),this}get(r,t){return this.matrix.get(t,r)}}class WP extends fr{constructor(r,t={}){const{rows:o=1}=t;if(r.length%o!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=o,this.columns=r.length/o,this.data=r}set(r,t,o){let l=this._calculateIndex(r,t);return this.data[l]=o,this}get(r,t){let o=this._calculateIndex(r,t);return this.data[o]}_calculateIndex(r,t){return r*this.columns+t}}class _s extends fr{constructor(r){super(),this.data=r,this.rows=r.length,this.columns=r[0].length}set(r,t,o){return this.data[r][t]=o,this}get(r,t){return this.data[r][t]}}function o9(i,r){if(Ko.isAnyArray(i))return i[0]&&Ko.isAnyArray(i[0])?new _s(i):new WP(i,r);throw new Error("the argument is not an array")}class Ny{constructor(r){r=_s.checkMatrix(r);let t=r.clone(),o=t.rows,l=t.columns,u=new Float64Array(o),d=1,p,m,v,x,k,C,M,I,D;for(p=0;p<o;p++)u[p]=p;for(I=new Float64Array(o),m=0;m<l;m++){for(p=0;p<o;p++)I[p]=t.get(p,m);for(p=0;p<o;p++){for(D=Math.min(p,m),k=0,v=0;v<D;v++)k+=t.get(p,v)*I[v];I[p]-=k,t.set(p,m,I[p])}for(x=m,p=m+1;p<o;p++)Math.abs(I[p])>Math.abs(I[x])&&(x=p);if(x!==m){for(v=0;v<l;v++)C=t.get(x,v),t.set(x,v,t.get(m,v)),t.set(m,v,C);M=u[x],u[x]=u[m],u[m]=M,d=-d}if(m<o&&t.get(m,m)!==0)for(p=m+1;p<o;p++)t.set(p,m,t.get(p,m)/t.get(m,m))}this.LU=t,this.pivotVector=u,this.pivotSign=d}isSingular(){let r=this.LU,t=r.columns;for(let o=0;o<t;o++)if(r.get(o,o)===0)return!0;return!1}solve(r){r=we.checkMatrix(r);let t=this.LU;if(t.rows!==r.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let o=r.columns,l=r.subMatrixRow(this.pivotVector,0,o-1),u=t.columns,d,p,m;for(m=0;m<u;m++)for(d=m+1;d<u;d++)for(p=0;p<o;p++)l.set(d,p,l.get(d,p)-l.get(m,p)*t.get(d,m));for(m=u-1;m>=0;m--){for(p=0;p<o;p++)l.set(m,p,l.get(m,p)/t.get(m,m));for(d=0;d<m;d++)for(p=0;p<o;p++)l.set(d,p,l.get(d,p)-l.get(m,p)*t.get(d,m))}return l}get determinant(){let r=this.LU;if(!r.isSquare())throw new Error("Matrix must be square");let t=this.pivotSign,o=r.columns;for(let l=0;l<o;l++)t*=r.get(l,l);return t}get lowerTriangularMatrix(){let r=this.LU,t=r.rows,o=r.columns,l=new we(t,o);for(let u=0;u<t;u++)for(let d=0;d<o;d++)u>d?l.set(u,d,r.get(u,d)):u===d?l.set(u,d,1):l.set(u,d,0);return l}get upperTriangularMatrix(){let r=this.LU,t=r.rows,o=r.columns,l=new we(t,o);for(let u=0;u<t;u++)for(let d=0;d<o;d++)u<=d?l.set(u,d,r.get(u,d)):l.set(u,d,0);return l}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function ec(i,r){let t=0;return Math.abs(i)>Math.abs(r)?(t=r/i,Math.abs(i)*Math.sqrt(1+t*t)):r!==0?(t=i/r,Math.abs(r)*Math.sqrt(1+t*t)):0}class e_{constructor(r){r=_s.checkMatrix(r);let t=r.clone(),o=r.rows,l=r.columns,u=new Float64Array(l),d,p,m,v;for(m=0;m<l;m++){let x=0;for(d=m;d<o;d++)x=ec(x,t.get(d,m));if(x!==0){for(t.get(m,m)<0&&(x=-x),d=m;d<o;d++)t.set(d,m,t.get(d,m)/x);for(t.set(m,m,t.get(m,m)+1),p=m+1;p<l;p++){for(v=0,d=m;d<o;d++)v+=t.get(d,m)*t.get(d,p);for(v=-v/t.get(m,m),d=m;d<o;d++)t.set(d,p,t.get(d,p)+v*t.get(d,m))}}u[m]=-x}this.QR=t,this.Rdiag=u}solve(r){r=we.checkMatrix(r);let t=this.QR,o=t.rows;if(r.rows!==o)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let l=r.columns,u=r.clone(),d=t.columns,p,m,v,x;for(v=0;v<d;v++)for(m=0;m<l;m++){for(x=0,p=v;p<o;p++)x+=t.get(p,v)*u.get(p,m);for(x=-x/t.get(v,v),p=v;p<o;p++)u.set(p,m,u.get(p,m)+x*t.get(p,v))}for(v=d-1;v>=0;v--){for(m=0;m<l;m++)u.set(v,m,u.get(v,m)/this.Rdiag[v]);for(p=0;p<v;p++)for(m=0;m<l;m++)u.set(p,m,u.get(p,m)-u.get(v,m)*t.get(p,v))}return u.subMatrix(0,d-1,0,l-1)}isFullRank(){let r=this.QR.columns;for(let t=0;t<r;t++)if(this.Rdiag[t]===0)return!1;return!0}get upperTriangularMatrix(){let r=this.QR,t=r.columns,o=new we(t,t),l,u;for(l=0;l<t;l++)for(u=0;u<t;u++)l<u?o.set(l,u,r.get(l,u)):l===u?o.set(l,u,this.Rdiag[l]):o.set(l,u,0);return o}get orthogonalMatrix(){let r=this.QR,t=r.rows,o=r.columns,l=new we(t,o),u,d,p,m;for(p=o-1;p>=0;p--){for(u=0;u<t;u++)l.set(u,p,0);for(l.set(p,p,1),d=p;d<o;d++)if(r.get(p,p)!==0){for(m=0,u=p;u<t;u++)m+=r.get(u,p)*l.get(u,d);for(m=-m/r.get(p,p),u=p;u<t;u++)l.set(u,d,l.get(u,d)+m*r.get(u,p))}}return l}}let Ap=class{constructor(i,r={}){if(i=_s.checkMatrix(i),i.isEmpty())throw new Error("Matrix must be non-empty");let t=i.rows,o=i.columns;const{computeLeftSingularVectors:l=!0,computeRightSingularVectors:u=!0,autoTranspose:d=!1}=r;let p=!!l,m=!!u,v=!1,x;if(t<o)if(!d)x=i.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{x=i.transpose(),t=x.rows,o=x.columns,v=!0;let U=p;p=m,m=U}else x=i.clone();let k=Math.min(t,o),C=Math.min(t+1,o),M=new Float64Array(C),I=new we(t,k),D=new we(o,o),j=new Float64Array(o),H=new Float64Array(t),J=new Float64Array(C);for(let U=0;U<C;U++)J[U]=U;let q=Math.min(t-1,o),W=Math.max(0,Math.min(o-2,t)),st=Math.max(q,W);for(let U=0;U<st;U++){if(U<q){M[U]=0;for(let et=U;et<t;et++)M[U]=ec(M[U],x.get(et,U));if(M[U]!==0){x.get(U,U)<0&&(M[U]=-M[U]);for(let et=U;et<t;et++)x.set(et,U,x.get(et,U)/M[U]);x.set(U,U,x.get(U,U)+1)}M[U]=-M[U]}for(let et=U+1;et<o;et++){if(U<q&&M[U]!==0){let lt=0;for(let ht=U;ht<t;ht++)lt+=x.get(ht,U)*x.get(ht,et);lt=-lt/x.get(U,U);for(let ht=U;ht<t;ht++)x.set(ht,et,x.get(ht,et)+lt*x.get(ht,U))}j[et]=x.get(U,et)}if(p&&U<q)for(let et=U;et<t;et++)I.set(et,U,x.get(et,U));if(U<W){j[U]=0;for(let et=U+1;et<o;et++)j[U]=ec(j[U],j[et]);if(j[U]!==0){j[U+1]<0&&(j[U]=0-j[U]);for(let et=U+1;et<o;et++)j[et]/=j[U];j[U+1]+=1}if(j[U]=-j[U],U+1<t&&j[U]!==0){for(let et=U+1;et<t;et++)H[et]=0;for(let et=U+1;et<t;et++)for(let lt=U+1;lt<o;lt++)H[et]+=j[lt]*x.get(et,lt);for(let et=U+1;et<o;et++){let lt=-j[et]/j[U+1];for(let ht=U+1;ht<t;ht++)x.set(ht,et,x.get(ht,et)+lt*H[ht])}}if(m)for(let et=U+1;et<o;et++)D.set(et,U,j[et])}}let mt=Math.min(o,t+1);if(q<o&&(M[q]=x.get(q,q)),t<mt&&(M[mt-1]=0),W+1<mt&&(j[W]=x.get(W,mt-1)),j[mt-1]=0,p){for(let U=q;U<k;U++){for(let et=0;et<t;et++)I.set(et,U,0);I.set(U,U,1)}for(let U=q-1;U>=0;U--)if(M[U]!==0){for(let et=U+1;et<k;et++){let lt=0;for(let ht=U;ht<t;ht++)lt+=I.get(ht,U)*I.get(ht,et);lt=-lt/I.get(U,U);for(let ht=U;ht<t;ht++)I.set(ht,et,I.get(ht,et)+lt*I.get(ht,U))}for(let et=U;et<t;et++)I.set(et,U,-I.get(et,U));I.set(U,U,1+I.get(U,U));for(let et=0;et<U-1;et++)I.set(et,U,0)}else{for(let et=0;et<t;et++)I.set(et,U,0);I.set(U,U,1)}}if(m)for(let U=o-1;U>=0;U--){if(U<W&&j[U]!==0)for(let et=U+1;et<o;et++){let lt=0;for(let ht=U+1;ht<o;ht++)lt+=D.get(ht,U)*D.get(ht,et);lt=-lt/D.get(U+1,U);for(let ht=U+1;ht<o;ht++)D.set(ht,et,D.get(ht,et)+lt*D.get(ht,U))}for(let et=0;et<o;et++)D.set(et,U,0);D.set(U,U,1)}let gt=mt-1,ot=Number.EPSILON;for(;mt>0;){let U,et;for(U=mt-2;U>=-1&&U!==-1;U--){const lt=Number.MIN_VALUE+ot*Math.abs(M[U]+Math.abs(M[U+1]));if(Math.abs(j[U])<=lt||Number.isNaN(j[U])){j[U]=0;break}}if(U===mt-2)et=4;else{let lt;for(lt=mt-1;lt>=U&&lt!==U;lt--){let ht=(lt!==mt?Math.abs(j[lt]):0)+(lt!==U+1?Math.abs(j[lt-1]):0);if(Math.abs(M[lt])<=ot*ht){M[lt]=0;break}}lt===U?et=3:lt===mt-1?et=1:(et=2,U=lt)}switch(U++,et){case 1:{let lt=j[mt-2];j[mt-2]=0;for(let ht=mt-2;ht>=U;ht--){let Gt=ec(M[ht],lt),St=M[ht]/Gt,Lt=lt/Gt;if(M[ht]=Gt,ht!==U&&(lt=-Lt*j[ht-1],j[ht-1]=St*j[ht-1]),m)for(let xt=0;xt<o;xt++)Gt=St*D.get(xt,ht)+Lt*D.get(xt,mt-1),D.set(xt,mt-1,-Lt*D.get(xt,ht)+St*D.get(xt,mt-1)),D.set(xt,ht,Gt)}break}case 2:{let lt=j[U-1];j[U-1]=0;for(let ht=U;ht<mt;ht++){let Gt=ec(M[ht],lt),St=M[ht]/Gt,Lt=lt/Gt;if(M[ht]=Gt,lt=-Lt*j[ht],j[ht]=St*j[ht],p)for(let xt=0;xt<t;xt++)Gt=St*I.get(xt,ht)+Lt*I.get(xt,U-1),I.set(xt,U-1,-Lt*I.get(xt,ht)+St*I.get(xt,U-1)),I.set(xt,ht,Gt)}break}case 3:{const lt=Math.max(Math.abs(M[mt-1]),Math.abs(M[mt-2]),Math.abs(j[mt-2]),Math.abs(M[U]),Math.abs(j[U])),ht=M[mt-1]/lt,Gt=M[mt-2]/lt,St=j[mt-2]/lt,Lt=M[U]/lt,xt=j[U]/lt,Dt=((Gt+ht)*(Gt-ht)+St*St)/2,zt=ht*St*(ht*St);let fe=0;(Dt!==0||zt!==0)&&(Dt<0?fe=0-Math.sqrt(Dt*Dt+zt):fe=Math.sqrt(Dt*Dt+zt),fe=zt/(Dt+fe));let yt=(Lt+ht)*(Lt-ht)+fe,At=Lt*xt;for(let Xt=U;Xt<mt-1;Xt++){let ee=ec(yt,At);ee===0&&(ee=Number.MIN_VALUE);let ge=yt/ee,ae=At/ee;if(Xt!==U&&(j[Xt-1]=ee),yt=ge*M[Xt]+ae*j[Xt],j[Xt]=ge*j[Xt]-ae*M[Xt],At=ae*M[Xt+1],M[Xt+1]=ge*M[Xt+1],m)for(let ue=0;ue<o;ue++)ee=ge*D.get(ue,Xt)+ae*D.get(ue,Xt+1),D.set(ue,Xt+1,-ae*D.get(ue,Xt)+ge*D.get(ue,Xt+1)),D.set(ue,Xt,ee);if(ee=ec(yt,At),ee===0&&(ee=Number.MIN_VALUE),ge=yt/ee,ae=At/ee,M[Xt]=ee,yt=ge*j[Xt]+ae*M[Xt+1],M[Xt+1]=-ae*j[Xt]+ge*M[Xt+1],At=ae*j[Xt+1],j[Xt+1]=ge*j[Xt+1],p&&Xt<t-1)for(let ue=0;ue<t;ue++)ee=ge*I.get(ue,Xt)+ae*I.get(ue,Xt+1),I.set(ue,Xt+1,-ae*I.get(ue,Xt)+ge*I.get(ue,Xt+1)),I.set(ue,Xt,ee)}j[mt-2]=yt;break}case 4:{if(M[U]<=0&&(M[U]=M[U]<0?-M[U]:0,m))for(let lt=0;lt<=gt;lt++)D.set(lt,U,-D.get(lt,U));for(;U<gt&&!(M[U]>=M[U+1]);){let lt=M[U];if(M[U]=M[U+1],M[U+1]=lt,m&&U<o-1)for(let ht=0;ht<o;ht++)lt=D.get(ht,U+1),D.set(ht,U+1,D.get(ht,U)),D.set(ht,U,lt);if(p&&U<t-1)for(let ht=0;ht<t;ht++)lt=I.get(ht,U+1),I.set(ht,U+1,I.get(ht,U)),I.set(ht,U,lt);U++}mt--;break}}}if(v){let U=D;D=I,I=U}this.m=t,this.n=o,this.s=M,this.U=I,this.V=D}solve(i){let r=i,t=this.threshold,o=this.s.length,l=we.zeros(o,o);for(let k=0;k<o;k++)Math.abs(this.s[k])<=t?l.set(k,k,0):l.set(k,k,1/this.s[k]);let u=this.U,d=this.rightSingularVectors,p=d.mmul(l),m=d.rows,v=u.rows,x=we.zeros(m,v);for(let k=0;k<m;k++)for(let C=0;C<v;C++){let M=0;for(let I=0;I<o;I++)M+=p.get(k,I)*u.get(C,I);x.set(k,C,M)}return x.mmul(r)}solveForDiagonal(i){return this.solve(we.diag(i))}inverse(){let i=this.V,r=this.threshold,t=i.rows,o=i.columns,l=new we(t,this.s.length);for(let v=0;v<t;v++)for(let x=0;x<o;x++)Math.abs(this.s[x])>r&&l.set(v,x,i.get(v,x)/this.s[x]);let u=this.U,d=u.rows,p=u.columns,m=new we(t,d);for(let v=0;v<t;v++)for(let x=0;x<d;x++){let k=0;for(let C=0;C<p;C++)k+=l.get(v,C)*u.get(x,C);m.set(v,x,k)}return m}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let i=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,r=0,t=this.s;for(let o=0,l=t.length;o<l;o++)t[o]>i&&r++;return r}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return we.diag(this.s)}};function s9(i,r=!1){return i=_s.checkMatrix(i),r?new Ap(i).inverse():ZP(i,we.eye(i.rows))}function ZP(i,r,t=!1){return i=_s.checkMatrix(i),r=_s.checkMatrix(r),t?new Ap(i).solve(r):i.isSquare()?new Ny(i).solve(r):new e_(i).solve(r)}function kv(i){if(i=we.checkMatrix(i),i.isSquare()){if(i.columns===0)return 1;let r,t,o,l;if(i.columns===2)return r=i.get(0,0),t=i.get(0,1),o=i.get(1,0),l=i.get(1,1),r*l-t*o;if(i.columns===3){let u,d,p;return u=new _v(i,[1,2],[1,2]),d=new _v(i,[1,2],[0,2]),p=new _v(i,[1,2],[0,1]),r=i.get(0,0),t=i.get(0,1),o=i.get(0,2),r*kv(u)-t*kv(d)+o*kv(p)}else return new Ny(i).determinant}else throw Error("determinant can only be calculated for a square matrix")}function a9(i,r){let t=[];for(let o=0;o<i;o++)o!==r&&t.push(o);return t}function l9(i,r,t,o=1e-9,l=1e-9){if(i>l)return new Array(r.rows+1).fill(0);{let u=r.addRow(t,[0]);for(let d=0;d<u.rows;d++)Math.abs(u.get(d,0))<o&&u.set(d,0,0);return u.to1DArray()}}function c9(i,r={}){const{thresholdValue:t=1e-9,thresholdError:o=1e-9}=r;i=we.checkMatrix(i);let l=i.rows,u=new we(l,l);for(let d=0;d<l;d++){let p=we.columnVector(i.getRow(d)),m=i.subMatrixRow(a9(l,d)).transpose(),v=new Ap(m).solve(p),x=we.sub(p,m.mmul(v)).abs().max();u.setRow(d,l9(x,v,d,t,o))}return u}function u9(i,r=Number.EPSILON){if(i=we.checkMatrix(i),i.isEmpty())return i.transpose();let t=new Ap(i,{autoTranspose:!0}),o=t.leftSingularVectors,l=t.rightSingularVectors,u=t.diagonal;for(let d=0;d<u.length;d++)Math.abs(u[d])>r?u[d]=1/u[d]:u[d]=0;return l.mmul(we.diag(u).mmul(o.transpose()))}function h9(i,r=i,t={}){i=new we(i);let o=!1;if(typeof r=="object"&&!we.isMatrix(r)&&!Ko.isAnyArray(r)?(t=r,r=i,o=!0):r=new we(r),i.rows!==r.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:l=!0}=t;l&&(i=i.center("column"),o||(r=r.center("column")));const u=i.transpose().mmul(r);for(let d=0;d<u.rows;d++)for(let p=0;p<u.columns;p++)u.set(d,p,u.get(d,p)*(1/(i.rows-1)));return u}function d9(i,r=i,t={}){i=new we(i);let o=!1;if(typeof r=="object"&&!we.isMatrix(r)&&!Ko.isAnyArray(r)?(t=r,r=i,o=!0):r=new we(r),i.rows!==r.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:l=!0,scale:u=!0}=t;l&&(i.center("column"),o||r.center("column")),u&&(i.scale("column"),o||r.scale("column"));const d=i.standardDeviation("column",{unbiased:!0}),p=o?d:r.standardDeviation("column",{unbiased:!0}),m=i.transpose().mmul(r);for(let v=0;v<m.rows;v++)for(let x=0;x<m.columns;x++)m.set(v,x,m.get(v,x)*(1/(d[v]*p[x]))*(1/(i.rows-1)));return m}class YP{constructor(r,t={}){const{assumeSymmetric:o=!1}=t;if(r=_s.checkMatrix(r),!r.isSquare())throw new Error("Matrix is not a square matrix");if(r.isEmpty())throw new Error("Matrix must be non-empty");let l=r.columns,u=new we(l,l),d=new Float64Array(l),p=new Float64Array(l),m=r,v,x,k=!1;if(o?k=!0:k=r.isSymmetric(),k){for(v=0;v<l;v++)for(x=0;x<l;x++)u.set(v,x,m.get(v,x));p9(l,p,d,u),f9(l,p,d,u)}else{let C=new we(l,l),M=new Float64Array(l);for(x=0;x<l;x++)for(v=0;v<l;v++)C.set(v,x,m.get(v,x));g9(l,C,M,u),m9(l,p,d,u,C)}this.n=l,this.e=p,this.d=d,this.V=u}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let r=this.n,t=this.e,o=this.d,l=new we(r,r),u,d;for(u=0;u<r;u++){for(d=0;d<r;d++)l.set(u,d,0);l.set(u,u,o[u]),t[u]>0?l.set(u,u+1,t[u]):t[u]<0&&l.set(u,u-1,t[u])}return l}}function p9(i,r,t,o){let l,u,d,p,m,v,x,k;for(m=0;m<i;m++)t[m]=o.get(i-1,m);for(p=i-1;p>0;p--){for(k=0,d=0,v=0;v<p;v++)k=k+Math.abs(t[v]);if(k===0)for(r[p]=t[p-1],m=0;m<p;m++)t[m]=o.get(p-1,m),o.set(p,m,0),o.set(m,p,0);else{for(v=0;v<p;v++)t[v]/=k,d+=t[v]*t[v];for(l=t[p-1],u=Math.sqrt(d),l>0&&(u=-u),r[p]=k*u,d=d-l*u,t[p-1]=l-u,m=0;m<p;m++)r[m]=0;for(m=0;m<p;m++){for(l=t[m],o.set(m,p,l),u=r[m]+o.get(m,m)*l,v=m+1;v<=p-1;v++)u+=o.get(v,m)*t[v],r[v]+=o.get(v,m)*l;r[m]=u}for(l=0,m=0;m<p;m++)r[m]/=d,l+=r[m]*t[m];for(x=l/(d+d),m=0;m<p;m++)r[m]-=x*t[m];for(m=0;m<p;m++){for(l=t[m],u=r[m],v=m;v<=p-1;v++)o.set(v,m,o.get(v,m)-(l*r[v]+u*t[v]));t[m]=o.get(p-1,m),o.set(p,m,0)}}t[p]=d}for(p=0;p<i-1;p++){if(o.set(i-1,p,o.get(p,p)),o.set(p,p,1),d=t[p+1],d!==0){for(v=0;v<=p;v++)t[v]=o.get(v,p+1)/d;for(m=0;m<=p;m++){for(u=0,v=0;v<=p;v++)u+=o.get(v,p+1)*o.get(v,m);for(v=0;v<=p;v++)o.set(v,m,o.get(v,m)-u*t[v])}}for(v=0;v<=p;v++)o.set(v,p+1,0)}for(m=0;m<i;m++)t[m]=o.get(i-1,m),o.set(i-1,m,0);o.set(i-1,i-1,1),r[0]=0}function f9(i,r,t,o){let l,u,d,p,m,v,x,k,C,M,I,D,j,H,J,q;for(d=1;d<i;d++)r[d-1]=r[d];r[i-1]=0;let W=0,st=0,mt=Number.EPSILON;for(v=0;v<i;v++){for(st=Math.max(st,Math.abs(t[v])+Math.abs(r[v])),x=v;x<i&&!(Math.abs(r[x])<=mt*st);)x++;if(x>v)do{for(l=t[v],k=(t[v+1]-l)/(2*r[v]),C=ec(k,1),k<0&&(C=-C),t[v]=r[v]/(k+C),t[v+1]=r[v]*(k+C),M=t[v+1],u=l-t[v],d=v+2;d<i;d++)t[d]-=u;for(W=W+u,k=t[x],I=1,D=I,j=I,H=r[v+1],J=0,q=0,d=x-1;d>=v;d--)for(j=D,D=I,q=J,l=I*r[d],u=I*k,C=ec(k,r[d]),r[d+1]=J*C,J=r[d]/C,I=k/C,k=I*t[d]-J*l,t[d+1]=u+J*(I*l+J*t[d]),m=0;m<i;m++)u=o.get(m,d+1),o.set(m,d+1,J*o.get(m,d)+I*u),o.set(m,d,I*o.get(m,d)-J*u);k=-J*q*j*H*r[v]/M,r[v]=J*k,t[v]=I*k}while(Math.abs(r[v])>mt*st);t[v]=t[v]+W,r[v]=0}for(d=0;d<i-1;d++){for(m=d,k=t[d],p=d+1;p<i;p++)t[p]<k&&(m=p,k=t[p]);if(m!==d)for(t[m]=t[d],t[d]=k,p=0;p<i;p++)k=o.get(p,d),o.set(p,d,o.get(p,m)),o.set(p,m,k)}}function g9(i,r,t,o){let l=0,u=i-1,d,p,m,v,x,k,C;for(k=l+1;k<=u-1;k++){for(C=0,v=k;v<=u;v++)C=C+Math.abs(r.get(v,k-1));if(C!==0){for(m=0,v=u;v>=k;v--)t[v]=r.get(v,k-1)/C,m+=t[v]*t[v];for(p=Math.sqrt(m),t[k]>0&&(p=-p),m=m-t[k]*p,t[k]=t[k]-p,x=k;x<i;x++){for(d=0,v=u;v>=k;v--)d+=t[v]*r.get(v,x);for(d=d/m,v=k;v<=u;v++)r.set(v,x,r.get(v,x)-d*t[v])}for(v=0;v<=u;v++){for(d=0,x=u;x>=k;x--)d+=t[x]*r.get(v,x);for(d=d/m,x=k;x<=u;x++)r.set(v,x,r.get(v,x)-d*t[x])}t[k]=C*t[k],r.set(k,k-1,C*p)}}for(v=0;v<i;v++)for(x=0;x<i;x++)o.set(v,x,v===x?1:0);for(k=u-1;k>=l+1;k--)if(r.get(k,k-1)!==0){for(v=k+1;v<=u;v++)t[v]=r.get(v,k-1);for(x=k;x<=u;x++){for(p=0,v=k;v<=u;v++)p+=t[v]*o.get(v,x);for(p=p/t[k]/r.get(k,k-1),v=k;v<=u;v++)o.set(v,x,o.get(v,x)+p*t[v])}}}function m9(i,r,t,o,l){let u=i-1,d=0,p=i-1,m=Number.EPSILON,v=0,x=0,k=0,C=0,M=0,I=0,D=0,j=0,H,J,q,W,st,mt,gt,ot,U,et,lt,ht,Gt,St,Lt;for(H=0;H<i;H++)for((H<d||H>p)&&(t[H]=l.get(H,H),r[H]=0),J=Math.max(H-1,0);J<i;J++)x=x+Math.abs(l.get(H,J));for(;u>=d;){for(W=u;W>d&&(I=Math.abs(l.get(W-1,W-1))+Math.abs(l.get(W,W)),I===0&&(I=x),!(Math.abs(l.get(W,W-1))<m*I));)W--;if(W===u)l.set(u,u,l.get(u,u)+v),t[u]=l.get(u,u),r[u]=0,u--,j=0;else if(W===u-1){if(gt=l.get(u,u-1)*l.get(u-1,u),k=(l.get(u-1,u-1)-l.get(u,u))/2,C=k*k+gt,D=Math.sqrt(Math.abs(C)),l.set(u,u,l.get(u,u)+v),l.set(u-1,u-1,l.get(u-1,u-1)+v),ot=l.get(u,u),C>=0){for(D=k>=0?k+D:k-D,t[u-1]=ot+D,t[u]=t[u-1],D!==0&&(t[u]=ot-gt/D),r[u-1]=0,r[u]=0,ot=l.get(u,u-1),I=Math.abs(ot)+Math.abs(D),k=ot/I,C=D/I,M=Math.sqrt(k*k+C*C),k=k/M,C=C/M,J=u-1;J<i;J++)D=l.get(u-1,J),l.set(u-1,J,C*D+k*l.get(u,J)),l.set(u,J,C*l.get(u,J)-k*D);for(H=0;H<=u;H++)D=l.get(H,u-1),l.set(H,u-1,C*D+k*l.get(H,u)),l.set(H,u,C*l.get(H,u)-k*D);for(H=d;H<=p;H++)D=o.get(H,u-1),o.set(H,u-1,C*D+k*o.get(H,u)),o.set(H,u,C*o.get(H,u)-k*D)}else t[u-1]=ot+k,t[u]=ot+k,r[u-1]=D,r[u]=-D;u=u-2,j=0}else{if(ot=l.get(u,u),U=0,gt=0,W<u&&(U=l.get(u-1,u-1),gt=l.get(u,u-1)*l.get(u-1,u)),j===10){for(v+=ot,H=d;H<=u;H++)l.set(H,H,l.get(H,H)-ot);I=Math.abs(l.get(u,u-1))+Math.abs(l.get(u-1,u-2)),ot=U=.75*I,gt=-.4375*I*I}if(j===30&&(I=(U-ot)/2,I=I*I+gt,I>0)){for(I=Math.sqrt(I),U<ot&&(I=-I),I=ot-gt/((U-ot)/2+I),H=d;H<=u;H++)l.set(H,H,l.get(H,H)-I);v+=I,ot=U=gt=.964}for(j=j+1,st=u-2;st>=W&&(D=l.get(st,st),M=ot-D,I=U-D,k=(M*I-gt)/l.get(st+1,st)+l.get(st,st+1),C=l.get(st+1,st+1)-D-M-I,M=l.get(st+2,st+1),I=Math.abs(k)+Math.abs(C)+Math.abs(M),k=k/I,C=C/I,M=M/I,!(st===W||Math.abs(l.get(st,st-1))*(Math.abs(C)+Math.abs(M))<m*(Math.abs(k)*(Math.abs(l.get(st-1,st-1))+Math.abs(D)+Math.abs(l.get(st+1,st+1))))));)st--;for(H=st+2;H<=u;H++)l.set(H,H-2,0),H>st+2&&l.set(H,H-3,0);for(q=st;q<=u-1&&(St=q!==u-1,q!==st&&(k=l.get(q,q-1),C=l.get(q+1,q-1),M=St?l.get(q+2,q-1):0,ot=Math.abs(k)+Math.abs(C)+Math.abs(M),ot!==0&&(k=k/ot,C=C/ot,M=M/ot)),ot!==0);q++)if(I=Math.sqrt(k*k+C*C+M*M),k<0&&(I=-I),I!==0){for(q!==st?l.set(q,q-1,-I*ot):W!==st&&l.set(q,q-1,-l.get(q,q-1)),k=k+I,ot=k/I,U=C/I,D=M/I,C=C/k,M=M/k,J=q;J<i;J++)k=l.get(q,J)+C*l.get(q+1,J),St&&(k=k+M*l.get(q+2,J),l.set(q+2,J,l.get(q+2,J)-k*D)),l.set(q,J,l.get(q,J)-k*ot),l.set(q+1,J,l.get(q+1,J)-k*U);for(H=0;H<=Math.min(u,q+3);H++)k=ot*l.get(H,q)+U*l.get(H,q+1),St&&(k=k+D*l.get(H,q+2),l.set(H,q+2,l.get(H,q+2)-k*M)),l.set(H,q,l.get(H,q)-k),l.set(H,q+1,l.get(H,q+1)-k*C);for(H=d;H<=p;H++)k=ot*o.get(H,q)+U*o.get(H,q+1),St&&(k=k+D*o.get(H,q+2),o.set(H,q+2,o.get(H,q+2)-k*M)),o.set(H,q,o.get(H,q)-k),o.set(H,q+1,o.get(H,q+1)-k*C)}}}if(x!==0){for(u=i-1;u>=0;u--)if(k=t[u],C=r[u],C===0)for(W=u,l.set(u,u,1),H=u-1;H>=0;H--){for(gt=l.get(H,H)-k,M=0,J=W;J<=u;J++)M=M+l.get(H,J)*l.get(J,u);if(r[H]<0)D=gt,I=M;else if(W=H,r[H]===0?l.set(H,u,gt!==0?-M/gt:-M/(m*x)):(ot=l.get(H,H+1),U=l.get(H+1,H),C=(t[H]-k)*(t[H]-k)+r[H]*r[H],mt=(ot*I-D*M)/C,l.set(H,u,mt),l.set(H+1,u,Math.abs(ot)>Math.abs(D)?(-M-gt*mt)/ot:(-I-U*mt)/D)),mt=Math.abs(l.get(H,u)),m*mt*mt>1)for(J=H;J<=u;J++)l.set(J,u,l.get(J,u)/mt)}else if(C<0)for(W=u-1,Math.abs(l.get(u,u-1))>Math.abs(l.get(u-1,u))?(l.set(u-1,u-1,C/l.get(u,u-1)),l.set(u-1,u,-(l.get(u,u)-k)/l.get(u,u-1))):(Lt=nv(0,-l.get(u-1,u),l.get(u-1,u-1)-k,C),l.set(u-1,u-1,Lt[0]),l.set(u-1,u,Lt[1])),l.set(u,u-1,0),l.set(u,u,1),H=u-2;H>=0;H--){for(et=0,lt=0,J=W;J<=u;J++)et=et+l.get(H,J)*l.get(J,u-1),lt=lt+l.get(H,J)*l.get(J,u);if(gt=l.get(H,H)-k,r[H]<0)D=gt,M=et,I=lt;else if(W=H,r[H]===0?(Lt=nv(-et,-lt,gt,C),l.set(H,u-1,Lt[0]),l.set(H,u,Lt[1])):(ot=l.get(H,H+1),U=l.get(H+1,H),ht=(t[H]-k)*(t[H]-k)+r[H]*r[H]-C*C,Gt=(t[H]-k)*2*C,ht===0&&Gt===0&&(ht=m*x*(Math.abs(gt)+Math.abs(C)+Math.abs(ot)+Math.abs(U)+Math.abs(D))),Lt=nv(ot*M-D*et+C*lt,ot*I-D*lt-C*et,ht,Gt),l.set(H,u-1,Lt[0]),l.set(H,u,Lt[1]),Math.abs(ot)>Math.abs(D)+Math.abs(C)?(l.set(H+1,u-1,(-et-gt*l.get(H,u-1)+C*l.get(H,u))/ot),l.set(H+1,u,(-lt-gt*l.get(H,u)-C*l.get(H,u-1))/ot)):(Lt=nv(-M-U*l.get(H,u-1),-I-U*l.get(H,u),D,C),l.set(H+1,u-1,Lt[0]),l.set(H+1,u,Lt[1]))),mt=Math.max(Math.abs(l.get(H,u-1)),Math.abs(l.get(H,u))),m*mt*mt>1)for(J=H;J<=u;J++)l.set(J,u-1,l.get(J,u-1)/mt),l.set(J,u,l.get(J,u)/mt)}for(H=0;H<i;H++)if(H<d||H>p)for(J=H;J<i;J++)o.set(H,J,l.get(H,J));for(J=i-1;J>=d;J--)for(H=d;H<=p;H++){for(D=0,q=d;q<=Math.min(J,p);q++)D=D+o.get(H,q)*l.get(q,J);o.set(H,J,D)}}}function nv(i,r,t,o){let l,u;return Math.abs(t)>Math.abs(o)?(l=o/t,u=t+l*o,[(i+l*r)/u,(r-l*i)/u]):(l=t/o,u=o+l*t,[(l*i+r)/u,(l*r-i)/u])}class XP{constructor(r){if(r=_s.checkMatrix(r),!r.isSymmetric())throw new Error("Matrix is not symmetric");let t=r,o=t.rows,l=new we(o,o),u=!0,d,p,m;for(p=0;p<o;p++){let v=0;for(m=0;m<p;m++){let x=0;for(d=0;d<m;d++)x+=l.get(m,d)*l.get(p,d);x=(t.get(p,m)-x)/l.get(m,m),l.set(p,m,x),v=v+x*x}for(v=t.get(p,p)-v,u&=v>0,l.set(p,p,Math.sqrt(Math.max(v,0))),m=p+1;m<o;m++)l.set(p,m,0)}this.L=l,this.positiveDefinite=!!u}isPositiveDefinite(){return this.positiveDefinite}solve(r){r=_s.checkMatrix(r);let t=this.L,o=t.rows;if(r.rows!==o)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");let l=r.columns,u=r.clone(),d,p,m;for(m=0;m<o;m++)for(p=0;p<l;p++){for(d=0;d<m;d++)u.set(m,p,u.get(m,p)-u.get(d,p)*t.get(m,d));u.set(m,p,u.get(m,p)/t.get(m,m))}for(m=o-1;m>=0;m--)for(p=0;p<l;p++){for(d=m+1;d<o;d++)u.set(m,p,u.get(m,p)-u.get(d,p)*t.get(d,m));u.set(m,p,u.get(m,p)/t.get(m,m))}return u}get lowerTriangularMatrix(){return this.L}}class KP{constructor(r,t={}){r=_s.checkMatrix(r);let{Y:o}=t;const{scaleScores:l=!1,maxIterations:u=1e3,terminationCriteria:d=1e-10}=t;let p;if(o){if(Ko.isAnyArray(o)&&typeof o[0]=="number"?o=we.columnVector(o):o=_s.checkMatrix(o),o.rows!==r.rows)throw new Error("Y should have the same number of rows as X");p=o.getColumnVector(0)}else p=r.getColumnVector(0);let m=1,v,x,k,C;for(let M=0;M<u&&m>d;M++)k=r.transpose().mmul(p).div(p.transpose().mmul(p).get(0,0)),k=k.div(k.norm()),v=r.mmul(k).div(k.transpose().mmul(k).get(0,0)),M>0&&(m=v.clone().sub(C).pow(2).sum()),C=v.clone(),o?(x=o.transpose().mmul(v).div(v.transpose().mmul(v).get(0,0)),x=x.div(x.norm()),p=o.mmul(x).div(x.transpose().mmul(x).get(0,0))):p=v;if(o){let M=r.transpose().mmul(v).div(v.transpose().mmul(v).get(0,0));M=M.div(M.norm());let I=r.clone().sub(v.clone().mmul(M.transpose())),D=p.transpose().mmul(v).div(v.transpose().mmul(v).get(0,0)),j=o.clone().sub(v.clone().mulS(D.get(0,0)).mmul(x.transpose()));this.t=v,this.p=M.transpose(),this.w=k.transpose(),this.q=x,this.u=p,this.s=v.transpose().mmul(v),this.xResidual=I,this.yResidual=j,this.betas=D}else this.w=k.transpose(),this.s=v.transpose().mmul(v).sqrt(),l?this.t=v.clone().div(this.s.get(0,0)):this.t=v,this.xResidual=r.sub(v.mmul(k.transpose()))}}ti.AbstractMatrix=fr;ti.CHO=XP;ti.CholeskyDecomposition=XP;ti.DistanceMatrix=zy;ti.EVD=YP;ti.EigenvalueDecomposition=YP;ti.LU=Ny;ti.LuDecomposition=Ny;var v9=ti.Matrix=we;ti.MatrixColumnSelectionView=QB;ti.MatrixColumnView=JB;ti.MatrixFlipColumnView=$B;ti.MatrixFlipRowView=t9;ti.MatrixRowSelectionView=r9;ti.MatrixRowView=e9;ti.MatrixSelectionView=_v;ti.MatrixSubView=i9;ti.MatrixTransposeView=n9;ti.NIPALS=KP;ti.Nipals=KP;ti.QR=e_;ti.QrDecomposition=e_;ti.SVD=Ap;var y9=ti.SingularValueDecomposition=Ap;ti.SymmetricMatrix=Tg;ti.WrapperMatrix1D=WP;ti.WrapperMatrix2D=_s;ti.correlation=d9;ti.covariance=h9;var zT=ti.default=we;ti.determinant=kv;var b9=ti.inverse=s9;ti.linearDependencies=c9;var w9=ti.pseudoInverse=u9;ti.solve=ZP;ti.wrap=o9;const fo=v9,x9=y9;zT.Matrix&&zT.Matrix;const _9=b9,JP=w9;class k9{constructor(r,t){if(this.sourcePoints=r,this.destinationPoints=t,this.pointCount=this.sourcePoints.length,this.pointCount<2)throw new Error("Not enough control points. A helmert transformation requires a minimum of 2 points, but "+this.pointCount+" are given.");const o=fo.columnVector(t.flat()),l=fo.zeros(2*this.pointCount,4);for(let d=0;d<this.pointCount;d++)l.set(2*d,0,1),l.set(2*d,1,0),l.set(2*d,2,r[d][0]),l.set(2*d,3,-r[d][1]),l.set(2*d+1,0,0),l.set(2*d+1,1,1),l.set(2*d+1,2,r[d][1]),l.set(2*d+1,3,r[d][0]);const u=JP(l);this.helmertParametersMatrix=u.mmul(o)}interpolate(r){if(!this.helmertParametersMatrix)throw new Error("Helmert parameters not computed");return[this.helmertParametersMatrix.get(0,0)+this.helmertParametersMatrix.get(2,0)*r[0]-this.helmertParametersMatrix.get(3,0)*r[1],this.helmertParametersMatrix.get(1,0)+this.helmertParametersMatrix.get(3,0)*r[0]+this.helmertParametersMatrix.get(2,0)*r[1]]}}class Bw{constructor(r,t,o){if(this.sourcePoints=r,this.destinationPoints=t,this.pointCount=this.sourcePoints.length,this.order=o||1,this.nCoefs=(this.order+1)*(this.order+2)/2,this.pointCount<this.nCoefs)throw new Error("Not enough control points. A polynomial transformation of order "+this.order+" requires a minimum of "+this.nCoefs+" points, but "+this.pointCount+" are given.");if(this.order<1||this.order>3)throw new Error("Only polynomial transformations of order 1, 2 or 3 are supported");const l=[fo.columnVector(t.map(p=>p[0])),fo.columnVector(t.map(p=>p[1]))],u=fo.zeros(this.pointCount,this.nCoefs);for(let p=0;p<this.pointCount;p++)switch(this.order){case 1:u.set(p,0,1),u.set(p,1,r[p][0]),u.set(p,2,r[p][1]);break;case 2:u.set(p,0,1),u.set(p,1,r[p][0]),u.set(p,2,r[p][1]),u.set(p,3,r[p][0]**2),u.set(p,4,r[p][1]**2),u.set(p,5,r[p][0]*r[p][1]);break;case 3:u.set(p,0,1),u.set(p,1,r[p][0]),u.set(p,2,r[p][1]),u.set(p,3,r[p][0]**2),u.set(p,4,r[p][1]**2),u.set(p,5,r[p][0]*r[p][1]),u.set(p,6,r[p][0]**3),u.set(p,7,r[p][1]**3),u.set(p,8,r[p][0]**2*r[p][1]),u.set(p,9,r[p][0]*r[p][1]**2);break}const d=JP(u);this.polynomialParametersMatrices=[d.mmul(l[0]),d.mmul(l[1])]}interpolate(r){if(!this.polynomialParametersMatrices)throw new Error("Polynomial parameters not computed");const t=[0,0];for(let o=0;o<2;o++)switch(this.order){case 1:t[o]+=this.polynomialParametersMatrices[o].get(0,0)+this.polynomialParametersMatrices[o].get(1,0)*r[0]+this.polynomialParametersMatrices[o].get(2,0)*r[1];break;case 2:t[o]+=this.polynomialParametersMatrices[o].get(0,0)+this.polynomialParametersMatrices[o].get(1,0)*r[0]+this.polynomialParametersMatrices[o].get(2,0)*r[1]+this.polynomialParametersMatrices[o].get(3,0)*r[0]**2+this.polynomialParametersMatrices[o].get(4,0)*r[1]**2+this.polynomialParametersMatrices[o].get(5,0)*r[0]*r[1];break;case 3:t[o]+=this.polynomialParametersMatrices[o].get(0,0)+this.polynomialParametersMatrices[o].get(1,0)*r[0]+this.polynomialParametersMatrices[o].get(2,0)*r[1]+this.polynomialParametersMatrices[o].get(3,0)*r[0]**2+this.polynomialParametersMatrices[o].get(4,0)*r[1]**2+this.polynomialParametersMatrices[o].get(5,0)*r[0]*r[1]+this.polynomialParametersMatrices[o].get(6,0)*r[0]**3+this.polynomialParametersMatrices[o].get(7,0)*r[1]**3+this.polynomialParametersMatrices[o].get(8,0)*r[0]**2*r[1]+this.polynomialParametersMatrices[o].get(9,0)*r[0]*r[1]**2;break}return t}}class E9{constructor(r,t){if(this.sourcePoints=r,this.destinationPoints=t,this.pointCount=this.sourcePoints.length,this.pointCount<4)throw new Error("Not enough control points. A projective transformation requires a minimum of 4 points, but "+this.pointCount+" are given.");const o=fo.zeros(2*this.pointCount,9);for(let u=0;u<this.pointCount;u++)o.set(2*u,0,-r[u][0]),o.set(2*u,1,-r[u][1]),o.set(2*u,2,-1),o.set(2*u,3,0),o.set(2*u,4,0),o.set(2*u,5,0),o.set(2*u,6,t[u][0]*r[u][0]),o.set(2*u,7,t[u][0]*r[u][1]),o.set(2*u,8,t[u][0]),o.set(2*u+1,0,0),o.set(2*u+1,1,0),o.set(2*u+1,2,0),o.set(2*u+1,3,-r[u][0]),o.set(2*u+1,4,-r[u][1]),o.set(2*u+1,5,-1),o.set(2*u+1,6,t[u][1]*r[u][0]),o.set(2*u+1,7,t[u][1]*r[u][1]),o.set(2*u+1,8,t[u][1]);const l=new x9(o);this.projectiveParametersMatrix=fo.from1DArray(3,3,l.rightSingularVectors.getColumn(8)).transpose()}interpolate(r){if(!this.projectiveParametersMatrix)throw new Error("projective parameters not computed");const t=this.projectiveParametersMatrix.get(0,2)*r[0]+this.projectiveParametersMatrix.get(1,2)*r[1]+this.projectiveParametersMatrix.get(2,2);return[(this.projectiveParametersMatrix.get(0,0)*r[0]+this.projectiveParametersMatrix.get(1,0)*r[1]+this.projectiveParametersMatrix.get(2,0))/t,(this.projectiveParametersMatrix.get(0,1)*r[0]+this.projectiveParametersMatrix.get(1,1)*r[1]+this.projectiveParametersMatrix.get(2,1))/t]}}function T9(i,r){if(i=fo.checkMatrix(i),r=fo.checkMatrix(r),i.rows!=r.rows||i.columns!=r.columns)throw new Error("Matrices have different dimensions");const t=fo.zeros(i.rows,i.columns);for(let o=0;o<i.rows;o++)for(let l=0;l<i.columns;l++)t.set(o,l,i.get(o,l)*r.get(o,l));return t}class S9{constructor(r,t,o,l,u){if(this.sourcePoints=r,this.destinationPoints=t,this.kernelFunction=o,this.normFunction=l,this.pointCount=this.sourcePoints.length,this.pointCount<3)throw new Error(`Not enough control points. A thin plate spline transformation (with affine component) requires a minimum of 3 points, but ${this.pointCount} are given.`);const d=[fo.columnVector([...t,[0,0],[0,0],[0,0]].map(k=>k[0])),fo.columnVector([...t,[0,0],[0,0],[0,0]].map(k=>k[1]))],p=fo.zeros(this.pointCount,this.pointCount);for(let k=0;k<this.pointCount;k++)for(let C=0;C<this.pointCount;C++)p.set(k,C,l(r[k],r[C]));u===void 0&&(u=p.sum()/(Math.pow(this.pointCount,2)-this.pointCount)),this.epsilon=u;for(let k=0;k<this.pointCount;k++)for(let C=0;C<this.pointCount;C++)p.set(k,C,o(p.get(k,C),u));const m=fo.zeros(this.pointCount,3),v=fo.zeros(this.pointCount+3,this.pointCount+3);for(let k=0;k<this.pointCount;k++)m.set(k,0,1),m.set(k,1,r[k][0]),m.set(k,2,r[k][1]);for(let k=0;k<this.pointCount+3;k++)for(let C=0;C<this.pointCount+3;C++)k<this.pointCount&&C<this.pointCount?v.set(k,C,p.get(k,C)):k>=this.pointCount&&C<this.pointCount?v.set(k,C,m.transpose().get(k-this.pointCount,C)):k<this.pointCount&&C>=this.pointCount&&v.set(k,C,m.get(k,C-this.pointCount));const x=_9(v);this.weightsMatrices=[x.mmul(d[0]),x.mmul(d[1])]}interpolate(r){if(!this.weightsMatrices)throw new Error("Weights not computed");const t=fo.zeros(this.pointCount,1);for(let l=0;l<this.pointCount;l++)t.set(l,0,this.kernelFunction(this.normFunction(r,this.sourcePoints[l]),this.epsilon));const o=[0,0];for(let l=0;l<2;l++){o[l]=T9(t,this.weightsMatrices[l].selection([...Array(this.pointCount).keys()],[0])).sum();const u=this.weightsMatrices[l].get(this.pointCount,0),d=this.weightsMatrices[l].get(this.pointCount+1,0),p=this.weightsMatrices[l].get(this.pointCount+2,0);o[l]+=u+d*r[0]+p*r[1]}return o}}function C9(i){return i===0?0:Math.pow(i,2)*Math.log(i)}function P9(i,r){const t=[r[0]-i[0],r[1]-i[1]];return Math.sqrt(t[0]**2+t[1]**2)}function Dy(i){const r={close:!1,maxOffsetRatio:0,maxDepth:0,destinationIsGeographic:!1,sourceIsGeographic:!1};return i&&i.maxDepth!==void 0&&(r.maxDepth=i.maxDepth),i&&i.maxOffsetRatio!==void 0&&(r.maxOffsetRatio=i.maxOffsetRatio),i&&i.destinationIsGeographic!==void 0&&(r.destinationIsGeographic=i.destinationIsGeographic),i&&i.sourceIsGeographic!==void 0&&(r.sourceIsGeographic=i.sourceIsGeographic),r}function ov(i,r,t){const o=Dy(t);r=jP(r);const l=r.map(p=>({source:p,destination:i.transformForward(p)})),u=Fy(l,!1),d=QP(i,u,o);return By(d,!0).map(p=>p.destination)}function sv(i,r,t){const o=Dy(t);r=jP(r);const l=r.map(p=>({source:i.transformBackward(p),destination:p})),u=Fy(l,!1),d=$P(i,u,o);return By(d,!0).map(p=>p.source)}function M9(i,r,t){const o=Dy(t);r=Kx(r);const l=r.map(p=>({source:p,destination:i.transformForward(p)})),u=Fy(l,!0),d=QP(i,u,o);return By(d,!1).map(p=>p.destination)}function I9(i,r,t){const o=Dy(t);r=Kx(r);const l=r.map(p=>({source:i.transformBackward(p),destination:p})),u=Fy(l,!0),d=$P(i,u,o);return By(d,!1).map(p=>p.source)}function av(i,r,t){return r.map(o=>M9(i,o,t))}function lv(i,r,t){return r.map(o=>I9(i,o,t))}function Fy(i,r=!1){const t=i.length-(r?0:1),o=[];for(let l=0;l<t;l++)o.push({from:i[l],to:i[(l+1)%i.length]});return o}function By(i,r=!1){const t=i.map(o=>o.from);return r&&t.push(i[i.length-1].to),t}function QP(i,r,t){return t.maxDepth<=0||t.maxOffsetRatio<=0?r:r.map(o=>O1(i,o,t,0)).flat(1)}function $P(i,r,t){return t.maxDepth<=0||t.maxOffsetRatio<=0?r:r.map(o=>z1(i,o,t,0)).flat(1)}function O1(i,r,t,o){const l=(t.sourceIsGeographic?(x,k)=>ny(x,k).geometry.coordinates:oy)(r.from.source,r.to.source),u=(t.destinationIsGeographic?(x,k)=>ny(x,k).geometry.coordinates:oy)(r.from.destination,r.to.destination),d=i.transformForward(l),p=t.destinationIsGeographic?Xx:lc,m=p(r.from.destination,r.to.destination),v=p(u,d);if(o<t.maxDepth&&t.maxOffsetRatio&&v/m>t.maxOffsetRatio&&m>0){const x={source:l,destination:d};return[O1(i,{from:r.from,to:x},t,o+1),O1(i,{from:x,to:r.to},t,o+1)].flat(1)}else return r}function z1(i,r,t,o){const l=(t.destinationIsGeographic?(x,k)=>ny(x,k).geometry.coordinates:oy)(r.from.destination,r.to.destination),u=(t.sourceIsGeographic?(x,k)=>ny(x,k).geometry.coordinates:oy)(r.from.source,r.to.source),d=i.transformBackward(l),p=t.sourceIsGeographic?Xx:lc,m=p(r.from.source,r.to.source),v=p(u,d);if(o<t.maxDepth&&t.maxOffsetRatio&&v/m>t.maxOffsetRatio&&m>0){const x={source:d,destination:l};return[z1(i,{from:r.from,to:x},t,o+1),z1(i,{from:x,to:r.to},t,o+1)].flat(1)}else return r}var N1,tM,D1,eM,Ev,jw;class NT{constructor(r,t="polynomial"){if(Eg(this,N1),Eg(this,D1),Eg(this,Ev),r.length==0)throw new Error("No control points.");this.gcps=r.map(o=>{if("resource"in o&&"geo"in o)return{source:o.resource,destination:o.geo};if("source"in o&&"destination"in o)return o;throw new Error("Unsupported GCP type")}),this.sourcePoints=this.gcps.map(o=>o.source),this.destinationPoints=this.gcps.map(o=>o.destination),this.type=t}transformForward(r,t){if(Xo(r))return this.forwardTransformation||(this.forwardTransformation=Sp(this,N1,tM).call(this)),this.forwardTransformation.interpolate(r);if(Jl(r))return this.transformForward(cg(r));if(sl(r))return ov(this,r,t);if(Ql(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),ov(this,ug(r),t);if(al(r))return av(this,r,t);if($l(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),av(this,hg(r),t);throw new Error("Input type not supported")}transformForwardAsGeojson(r,t){if(Xo(r))return J0(this.transformForward(r));if(Jl(r))return J0(this.transformForward(cg(r)));if(sl(r))return t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),Q0(ov(this,r,t));if(Ql(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),Q0(ov(this,ug(r),t));if(al(r))return t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),$0(av(this,r,t));if($l(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),$0(av(this,hg(r),t));throw new Error("Input type not supported")}transformBackward(r,t){if(Xo(r))return this.backwardTransformation||(this.backwardTransformation=Sp(this,D1,eM).call(this)),this.backwardTransformation.interpolate(r);if(Jl(r))return this.transformBackward(cg(r));if(sl(r))return sv(this,r,t);if(Ql(r))return t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),sv(this,ug(r),t);if(al(r))return lv(this,r,t);if($l(r))return t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),lv(this,hg(r),t);throw new Error("Input type not supported")}transformBackwardAsGeojson(r,t){if(Xo(r))return J0(this.transformBackward(r));if(Jl(r))return J0(this.transformBackward(cg(r)));if(sl(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),Q0(sv(this,r,t));if(Ql(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),Q0(sv(this,ug(r),t));if(al(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),$0(lv(this,r,t));if($l(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),$0(lv(this,hg(r),t));throw new Error("Input type not supported")}transformToGeo(r,t){if(Xo(r))return this.transformForward(r,t);if(Jl(r))return this.transformForward(r,t);if(sl(r))return this.transformForward(r,t);if(Ql(r))return this.transformForward(r,t);if(al(r))return this.transformForward(r,t);if($l(r))return this.transformForward(r,t);throw new Error("Input type not supported")}transformToGeoAsGeojson(r,t){if(Xo(r))return this.transformForwardAsGeojson(r,t);if(Jl(r))return this.transformForwardAsGeojson(r,t);if(sl(r))return this.transformForwardAsGeojson(r,t);if(Ql(r))return this.transformForwardAsGeojson(r,t);if(al(r))return this.transformForwardAsGeojson(r,t);if($l(r))return this.transformForwardAsGeojson(r,t);throw new Error("Input type not supported")}transformToResource(r,t){if(Xo(r))return this.transformBackward(r,t);if(Jl(r))return this.transformBackward(r,t);if(sl(r))return this.transformBackward(r,t);if(Ql(r))return this.transformBackward(r,t);if(al(r))return this.transformBackward(r,t);if($l(r))return this.transformBackward(r,t);throw new Error("Input type not supported")}transformToResourceAsGeojson(r,t){if(Xo(r))return this.transformBackwardAsGeojson(r,t);if(Jl(r))return this.transformBackwardAsGeojson(r,t);if(sl(r))return this.transformBackwardAsGeojson(r,t);if(Ql(r))return this.transformBackwardAsGeojson(r,t);if(al(r))return this.transformBackwardAsGeojson(r,t);if($l(r))return this.transformBackwardAsGeojson(r,t);throw new Error("Input type not supported")}transformSvgToGeojson(r,t){if(r.type==="circle")return this.transformForwardAsGeojson(r.coordinates);if(r.type==="line")return this.transformForwardAsGeojson(r.coordinates,t);if(r.type==="polyline")return this.transformForwardAsGeojson(r.coordinates,t);if(r.type==="rect")return this.transformForwardAsGeojson([r.coordinates],t);if(r.type==="polygon")return this.transformForwardAsGeojson([r.coordinates],t);throw new Error("Unsupported SVG geometry")}transformGeojsonToSvg(r,t){if(r.type==="Point")return{type:"circle",coordinates:this.transformBackward(r)};if(r.type==="LineString")return{type:"polyline",coordinates:this.transformBackward(r,t)};if(r.type==="Polygon")return{type:"polygon",coordinates:this.transformBackward(r,t)[0]};throw new Error("Unsupported GeoJSON geometry")}}N1=new WeakSet,tM=function(){return Sp(this,Ev,jw).call(this,this.sourcePoints,this.destinationPoints)},D1=new WeakSet,eM=function(){return Sp(this,Ev,jw).call(this,this.destinationPoints,this.sourcePoints)},Ev=new WeakSet,jw=function(i,r){if(this.type==="helmert")return new k9(i,r);if(this.type==="polynomial1"||this.type==="polynomial")return new Bw(i,r);if(this.type==="polynomial2")return new Bw(i,r,2);if(this.type==="polynomial3")return new Bw(i,r,3);if(this.type==="projective")return new E9(i,r);if(this.type==="thinPlateSpline")return new S9(i,r,C9,P9);throw new Error(`Unsupported transformation type: ${this.type}`)};function L9(i){return Math.sqrt(Math.pow(i[1][0]-i[0][0],2)+Math.pow(i[1][1]-i[0][1],2))}function A9(i){return Math.atan2(i[1][1]-i[0][1],i[1][0]-i[0][0])}function R9(i,r,t){return[i[0]+Math.cos(t)*r,i[1]+Math.sin(t)*r]}function O9(i,r){let t=i[0];const o=[t];for(;L9([t,i[1]])>r;){const l=R9(t,r,A9(i));o.push(l),t=l}return o}function z9(i,r){i=[...i,i[0]];let t=[];for(let o=0;o<i.length-1;o++)t=t.concat(O9([i[o],i[o+1]],r));return t}function N9(i,r){const t=[],o=Vn(i);for(let l=o[0]+r,u=0;l<=o[2];u++,l+=r)for(let d=o[1]+r,p=0;d<=o[3];p++,d+=r)t.push([l,d]);return t}var F1={},D9={get exports(){return F1},set exports(i){F1=i}},rM=F9,DT=+(Math.pow(2,27)+1);function F9(i,r,t){var o=i*r,l=DT*i,u=l-i,d=l-u,p=i-d,m=DT*r,v=m-r,x=m-v,k=r-x,C=o-d*x,M=C-p*x,I=M-d*k,D=p*k-I;return t?(t[0]=D,t[1]=o,t):[D,o]}var B9=H9;function j9(i,r){var t=i+r,o=t-i,l=t-o,u=r-o,d=i-l,p=d+u;return p?[p,t]:[t]}function H9(i,r){var t=i.length|0,o=r.length|0;if(t===1&&o===1)return j9(i[0],r[0]);var l=t+o,u=new Array(l),d=0,p=0,m=0,v=Math.abs,x=i[p],k=v(x),C=r[m],M=v(C),I,D;k<M?(D=x,p+=1,p<t&&(x=i[p],k=v(x))):(D=C,m+=1,m<o&&(C=r[m],M=v(C))),p<t&&k<M||m>=o?(I=x,p+=1,p<t&&(x=i[p],k=v(x))):(I=C,m+=1,m<o&&(C=r[m],M=v(C)));for(var j=I+D,H=j-I,J=D-H,q=J,W=j,st,mt,gt,ot,U;p<t&&m<o;)k<M?(I=x,p+=1,p<t&&(x=i[p],k=v(x))):(I=C,m+=1,m<o&&(C=r[m],M=v(C))),D=q,j=I+D,H=j-I,J=D-H,J&&(u[d++]=J),st=W+j,mt=st-W,gt=st-mt,ot=j-mt,U=W-gt,q=U+ot,W=st;for(;p<t;)I=x,D=q,j=I+D,H=j-I,J=D-H,J&&(u[d++]=J),st=W+j,mt=st-W,gt=st-mt,ot=j-mt,U=W-gt,q=U+ot,W=st,p+=1,p<t&&(x=i[p]);for(;m<o;)I=C,D=q,j=I+D,H=j-I,J=D-H,J&&(u[d++]=J),st=W+j,mt=st-W,gt=st-mt,ot=j-mt,U=W-gt,q=U+ot,W=st,m+=1,m<o&&(C=r[m]);return q&&(u[d++]=q),W&&(u[d++]=W),d||(u[d++]=0),u.length=d,u}var U9=G9;function G9(i,r,t){var o=i+r,l=o-i,u=o-l,d=r-l,p=i-u;return t?(t[0]=p+d,t[1]=o,t):[p+d,o]}var Hw=rM,q9=U9,V9=W9;function W9(i,r){var t=i.length;if(t===1){var o=Hw(i[0],r);return o[0]?o:[o[1]]}var l=new Array(2*t),u=[.1,.1],d=[.1,.1],p=0;Hw(i[0],r,u),u[0]&&(l[p++]=u[0]);for(var m=1;m<t;++m){Hw(i[m],r,d);var v=u[1];q9(v,d[0],u),u[0]&&(l[p++]=u[0]);var x=d[1],k=u[1],C=x+k,M=C-x,I=k-M;u[1]=C,I&&(l[p++]=I)}return u[1]&&(l[p++]=u[1]),p===0&&(l[p++]=0),l.length=p,l}var Z9=X9;function Y9(i,r){var t=i+r,o=t-i,l=t-o,u=r-o,d=i-l,p=d+u;return p?[p,t]:[t]}function X9(i,r){var t=i.length|0,o=r.length|0;if(t===1&&o===1)return Y9(i[0],-r[0]);var l=t+o,u=new Array(l),d=0,p=0,m=0,v=Math.abs,x=i[p],k=v(x),C=-r[m],M=v(C),I,D;k<M?(D=x,p+=1,p<t&&(x=i[p],k=v(x))):(D=C,m+=1,m<o&&(C=-r[m],M=v(C))),p<t&&k<M||m>=o?(I=x,p+=1,p<t&&(x=i[p],k=v(x))):(I=C,m+=1,m<o&&(C=-r[m],M=v(C)));for(var j=I+D,H=j-I,J=D-H,q=J,W=j,st,mt,gt,ot,U;p<t&&m<o;)k<M?(I=x,p+=1,p<t&&(x=i[p],k=v(x))):(I=C,m+=1,m<o&&(C=-r[m],M=v(C))),D=q,j=I+D,H=j-I,J=D-H,J&&(u[d++]=J),st=W+j,mt=st-W,gt=st-mt,ot=j-mt,U=W-gt,q=U+ot,W=st;for(;p<t;)I=x,D=q,j=I+D,H=j-I,J=D-H,J&&(u[d++]=J),st=W+j,mt=st-W,gt=st-mt,ot=j-mt,U=W-gt,q=U+ot,W=st,p+=1,p<t&&(x=i[p]);for(;m<o;)I=C,D=q,j=I+D,H=j-I,J=D-H,J&&(u[d++]=J),st=W+j,mt=st-W,gt=st-mt,ot=j-mt,U=W-gt,q=U+ot,W=st,m+=1,m<o&&(C=-r[m]);return q&&(u[d++]=q),W&&(u[d++]=W),d||(u[d++]=0),u.length=d,u}(function(i){var r=rM,t=B9,o=V9,l=Z9,u=5,d=11102230246251565e-32,p=(3+16*d)*d,m=(7+56*d)*d;function v(q,W,st,mt){return function(gt,ot,U){var et=q(q(W(ot[1],U[0]),W(-U[1],ot[0])),q(W(gt[1],ot[0]),W(-ot[1],gt[0]))),lt=q(W(gt[1],U[0]),W(-U[1],gt[0])),ht=mt(et,lt);return ht[ht.length-1]}}function x(q,W,st,mt){return function(gt,ot,U,et){var lt=q(q(st(q(W(U[1],et[0]),W(-et[1],U[0])),ot[2]),q(st(q(W(ot[1],et[0]),W(-et[1],ot[0])),-U[2]),st(q(W(ot[1],U[0]),W(-U[1],ot[0])),et[2]))),q(st(q(W(ot[1],et[0]),W(-et[1],ot[0])),gt[2]),q(st(q(W(gt[1],et[0]),W(-et[1],gt[0])),-ot[2]),st(q(W(gt[1],ot[0]),W(-ot[1],gt[0])),et[2])))),ht=q(q(st(q(W(U[1],et[0]),W(-et[1],U[0])),gt[2]),q(st(q(W(gt[1],et[0]),W(-et[1],gt[0])),-U[2]),st(q(W(gt[1],U[0]),W(-U[1],gt[0])),et[2]))),q(st(q(W(ot[1],U[0]),W(-U[1],ot[0])),gt[2]),q(st(q(W(gt[1],U[0]),W(-U[1],gt[0])),-ot[2]),st(q(W(gt[1],ot[0]),W(-ot[1],gt[0])),U[2])))),Gt=mt(lt,ht);return Gt[Gt.length-1]}}function k(q,W,st,mt){return function(gt,ot,U,et,lt){var ht=q(q(q(st(q(st(q(W(et[1],lt[0]),W(-lt[1],et[0])),U[2]),q(st(q(W(U[1],lt[0]),W(-lt[1],U[0])),-et[2]),st(q(W(U[1],et[0]),W(-et[1],U[0])),lt[2]))),ot[3]),q(st(q(st(q(W(et[1],lt[0]),W(-lt[1],et[0])),ot[2]),q(st(q(W(ot[1],lt[0]),W(-lt[1],ot[0])),-et[2]),st(q(W(ot[1],et[0]),W(-et[1],ot[0])),lt[2]))),-U[3]),st(q(st(q(W(U[1],lt[0]),W(-lt[1],U[0])),ot[2]),q(st(q(W(ot[1],lt[0]),W(-lt[1],ot[0])),-U[2]),st(q(W(ot[1],U[0]),W(-U[1],ot[0])),lt[2]))),et[3]))),q(st(q(st(q(W(U[1],et[0]),W(-et[1],U[0])),ot[2]),q(st(q(W(ot[1],et[0]),W(-et[1],ot[0])),-U[2]),st(q(W(ot[1],U[0]),W(-U[1],ot[0])),et[2]))),-lt[3]),q(st(q(st(q(W(et[1],lt[0]),W(-lt[1],et[0])),ot[2]),q(st(q(W(ot[1],lt[0]),W(-lt[1],ot[0])),-et[2]),st(q(W(ot[1],et[0]),W(-et[1],ot[0])),lt[2]))),gt[3]),st(q(st(q(W(et[1],lt[0]),W(-lt[1],et[0])),gt[2]),q(st(q(W(gt[1],lt[0]),W(-lt[1],gt[0])),-et[2]),st(q(W(gt[1],et[0]),W(-et[1],gt[0])),lt[2]))),-ot[3])))),q(q(st(q(st(q(W(ot[1],lt[0]),W(-lt[1],ot[0])),gt[2]),q(st(q(W(gt[1],lt[0]),W(-lt[1],gt[0])),-ot[2]),st(q(W(gt[1],ot[0]),W(-ot[1],gt[0])),lt[2]))),et[3]),q(st(q(st(q(W(ot[1],et[0]),W(-et[1],ot[0])),gt[2]),q(st(q(W(gt[1],et[0]),W(-et[1],gt[0])),-ot[2]),st(q(W(gt[1],ot[0]),W(-ot[1],gt[0])),et[2]))),-lt[3]),st(q(st(q(W(U[1],et[0]),W(-et[1],U[0])),ot[2]),q(st(q(W(ot[1],et[0]),W(-et[1],ot[0])),-U[2]),st(q(W(ot[1],U[0]),W(-U[1],ot[0])),et[2]))),gt[3]))),q(st(q(st(q(W(U[1],et[0]),W(-et[1],U[0])),gt[2]),q(st(q(W(gt[1],et[0]),W(-et[1],gt[0])),-U[2]),st(q(W(gt[1],U[0]),W(-U[1],gt[0])),et[2]))),-ot[3]),q(st(q(st(q(W(ot[1],et[0]),W(-et[1],ot[0])),gt[2]),q(st(q(W(gt[1],et[0]),W(-et[1],gt[0])),-ot[2]),st(q(W(gt[1],ot[0]),W(-ot[1],gt[0])),et[2]))),U[3]),st(q(st(q(W(ot[1],U[0]),W(-U[1],ot[0])),gt[2]),q(st(q(W(gt[1],U[0]),W(-U[1],gt[0])),-ot[2]),st(q(W(gt[1],ot[0]),W(-ot[1],gt[0])),U[2]))),-et[3]))))),Gt=q(q(q(st(q(st(q(W(et[1],lt[0]),W(-lt[1],et[0])),U[2]),q(st(q(W(U[1],lt[0]),W(-lt[1],U[0])),-et[2]),st(q(W(U[1],et[0]),W(-et[1],U[0])),lt[2]))),gt[3]),st(q(st(q(W(et[1],lt[0]),W(-lt[1],et[0])),gt[2]),q(st(q(W(gt[1],lt[0]),W(-lt[1],gt[0])),-et[2]),st(q(W(gt[1],et[0]),W(-et[1],gt[0])),lt[2]))),-U[3])),q(st(q(st(q(W(U[1],lt[0]),W(-lt[1],U[0])),gt[2]),q(st(q(W(gt[1],lt[0]),W(-lt[1],gt[0])),-U[2]),st(q(W(gt[1],U[0]),W(-U[1],gt[0])),lt[2]))),et[3]),st(q(st(q(W(U[1],et[0]),W(-et[1],U[0])),gt[2]),q(st(q(W(gt[1],et[0]),W(-et[1],gt[0])),-U[2]),st(q(W(gt[1],U[0]),W(-U[1],gt[0])),et[2]))),-lt[3]))),q(q(st(q(st(q(W(U[1],lt[0]),W(-lt[1],U[0])),ot[2]),q(st(q(W(ot[1],lt[0]),W(-lt[1],ot[0])),-U[2]),st(q(W(ot[1],U[0]),W(-U[1],ot[0])),lt[2]))),gt[3]),st(q(st(q(W(U[1],lt[0]),W(-lt[1],U[0])),gt[2]),q(st(q(W(gt[1],lt[0]),W(-lt[1],gt[0])),-U[2]),st(q(W(gt[1],U[0]),W(-U[1],gt[0])),lt[2]))),-ot[3])),q(st(q(st(q(W(ot[1],lt[0]),W(-lt[1],ot[0])),gt[2]),q(st(q(W(gt[1],lt[0]),W(-lt[1],gt[0])),-ot[2]),st(q(W(gt[1],ot[0]),W(-ot[1],gt[0])),lt[2]))),U[3]),st(q(st(q(W(ot[1],U[0]),W(-U[1],ot[0])),gt[2]),q(st(q(W(gt[1],U[0]),W(-U[1],gt[0])),-ot[2]),st(q(W(gt[1],ot[0]),W(-ot[1],gt[0])),U[2]))),-lt[3])))),St=mt(ht,Gt);return St[St.length-1]}}function C(q){var W=q===3?v:q===4?x:k;return W(t,r,o,l)}var M=C(3),I=C(4),D=[function(){return 0},function(){return 0},function(q,W){return W[0]-q[0]},function(q,W,st){var mt=(q[1]-st[1])*(W[0]-st[0]),gt=(q[0]-st[0])*(W[1]-st[1]),ot=mt-gt,U;if(mt>0){if(gt<=0)return ot;U=mt+gt}else if(mt<0){if(gt>=0)return ot;U=-(mt+gt)}else return ot;var et=p*U;return ot>=et||ot<=-et?ot:M(q,W,st)},function(q,W,st,mt){var gt=q[0]-mt[0],ot=W[0]-mt[0],U=st[0]-mt[0],et=q[1]-mt[1],lt=W[1]-mt[1],ht=st[1]-mt[1],Gt=q[2]-mt[2],St=W[2]-mt[2],Lt=st[2]-mt[2],xt=ot*ht,Dt=U*lt,zt=U*et,fe=gt*ht,yt=gt*lt,At=ot*et,Xt=Gt*(xt-Dt)+St*(zt-fe)+Lt*(yt-At),ee=(Math.abs(xt)+Math.abs(Dt))*Math.abs(Gt)+(Math.abs(zt)+Math.abs(fe))*Math.abs(St)+(Math.abs(yt)+Math.abs(At))*Math.abs(Lt),ge=m*ee;return Xt>ge||-Xt>ge?Xt:I(q,W,st,mt)}];function j(q){var W=D[q.length];return W||(W=D[q.length]=C(q.length)),W.apply(void 0,q)}function H(q,W,st,mt,gt,ot,U){return function(et,lt,ht,Gt,St){switch(arguments.length){case 0:case 1:return 0;case 2:return mt(et,lt);case 3:return gt(et,lt,ht);case 4:return ot(et,lt,ht,Gt);case 5:return U(et,lt,ht,Gt,St)}for(var Lt=new Array(arguments.length),xt=0;xt<arguments.length;++xt)Lt[xt]=arguments[xt];return q(Lt)}}function J(){for(;D.length<=u;)D.push(C(D.length));i.exports=H.apply(void 0,[j].concat(D));for(var q=0;q<=u;++q)i.exports[q]=D[q]}J()})(D9);var K9=J9,cv=F1;function J9(i,r){for(var t=r[0],o=r[1],l=i.length,u=1,d=l,p=0,m=l-1;p<d;m=p++){var v=i[p],x=i[m],k=v[1],C=x[1];if(C<k){if(C<o&&o<k){var M=cv(v,x,r);if(M===0)return 0;u^=0<M|0}else if(o===k){var I=i[(p+1)%l],D=I[1];if(k<D){var M=cv(v,x,r);if(M===0)return 0;u^=0<M|0}}}else if(k<C){if(k<o&&o<C){var M=cv(v,x,r);if(M===0)return 0;u^=M<0|0}else if(o===k){var I=i[(p+1)%l],D=I[1];if(D<k){var M=cv(v,x,r);if(M===0)return 0;u^=M<0|0}}}else if(o===k){var j=Math.min(v[0],x[0]),H=Math.max(v[0],x[0]);if(p===0){for(;m>0;){var J=(m+l-1)%l,q=i[J];if(q[1]!==o)break;var W=q[0];j=Math.min(j,W),H=Math.max(H,W),m=J}if(m===0)return j<=t&&t<=H?0:1;d=m+1}for(var st=i[(m+l-1)%l][1];p+1<d;){var q=i[p+1];if(q[1]!==o)break;var W=q[0];j=Math.min(j,W),H=Math.max(H,W),p+=1}if(j<=t&&t<=H)return 0;var mt=i[(p+1)%l][1];t<j&&st<o!=mt<o&&(u^=1)}}return 2*u-1}var Tv={};const Q9="1.5.0",$9={version:Q9};function iM(i){return"("+i.x+";"+i.y+")"}function t7(i){var r=i.toString();return r==="[object Object]"?iM(i):r}function e7(i,r){return i.y===r.y?i.x-r.x:i.y-r.y}function r7(i,r){return i.x===r.x&&i.y===r.y}var r_={toString:t7,toStringBase:iM,compare:e7,equals:r7},i7=r_,ay=function(i,r){this.name="PointError",this.points=r=r||[],this.message=i||"Invalid Points!";for(var t=0;t<r.length;t++)this.message+=" "+i7.toString(r[t])};ay.prototype=new Error;ay.prototype.constructor=ay;var i_=ay,hm=r_,gi=function(i,r){this.x=+i||0,this.y=+r||0,this._p2t_edge_list=null};gi.prototype.toString=function(){return hm.toStringBase(this)};gi.prototype.toJSON=function(){return{x:this.x,y:this.y}};gi.prototype.clone=function(){return new gi(this.x,this.y)};gi.prototype.set_zero=function(){return this.x=0,this.y=0,this};gi.prototype.set=function(i,r){return this.x=+i||0,this.y=+r||0,this};gi.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this};gi.prototype.add=function(i){return this.x+=i.x,this.y+=i.y,this};gi.prototype.sub=function(i){return this.x-=i.x,this.y-=i.y,this};gi.prototype.mul=function(i){return this.x*=i,this.y*=i,this};gi.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};gi.prototype.normalize=function(){var i=this.length();return this.x/=i,this.y/=i,i};gi.prototype.equals=function(i){return this.x===i.x&&this.y===i.y};gi.negate=function(i){return new gi(-i.x,-i.y)};gi.add=function(i,r){return new gi(i.x+r.x,i.y+r.y)};gi.sub=function(i,r){return new gi(i.x-r.x,i.y-r.y)};gi.mul=function(i,r){return new gi(i*r.x,i*r.y)};gi.cross=function(i,r){return typeof i=="number"?typeof r=="number"?i*r:new gi(-i*r.y,i*r.x):typeof r=="number"?new gi(r*i.y,-r*i.x):i.x*r.y-i.y*r.x};gi.toString=hm.toString;gi.compare=hm.compare;gi.cmp=hm.compare;gi.equals=hm.equals;gi.dot=function(i,r){return i.x*r.x+i.y*r.y};var nM=gi,n7=r_,$r=function(i,r,t){this.points_=[i,r,t],this.neighbors_=[null,null,null],this.interior_=!1,this.constrained_edge=[!1,!1,!1],this.delaunay_edge=[!1,!1,!1]},Uw=n7.toString;$r.prototype.toString=function(){return"["+Uw(this.points_[0])+Uw(this.points_[1])+Uw(this.points_[2])+"]"};$r.prototype.getPoint=function(i){return this.points_[i]};$r.prototype.GetPoint=$r.prototype.getPoint;$r.prototype.getPoints=function(){return this.points_};$r.prototype.getNeighbor=function(i){return this.neighbors_[i]};$r.prototype.containsPoint=function(i){var r=this.points_;return i===r[0]||i===r[1]||i===r[2]};$r.prototype.containsEdge=function(i){return this.containsPoint(i.p)&&this.containsPoint(i.q)};$r.prototype.containsPoints=function(i,r){return this.containsPoint(i)&&this.containsPoint(r)};$r.prototype.isInterior=function(){return this.interior_};$r.prototype.setInterior=function(i){return this.interior_=i,this};$r.prototype.markNeighborPointers=function(i,r,t){var o=this.points_;if(i===o[2]&&r===o[1]||i===o[1]&&r===o[2])this.neighbors_[0]=t;else if(i===o[0]&&r===o[2]||i===o[2]&&r===o[0])this.neighbors_[1]=t;else if(i===o[0]&&r===o[1]||i===o[1]&&r===o[0])this.neighbors_[2]=t;else throw new Error("poly2tri Invalid Triangle.markNeighborPointers() call")};$r.prototype.markNeighbor=function(i){var r=this.points_;i.containsPoints(r[1],r[2])?(this.neighbors_[0]=i,i.markNeighborPointers(r[1],r[2],this)):i.containsPoints(r[0],r[2])?(this.neighbors_[1]=i,i.markNeighborPointers(r[0],r[2],this)):i.containsPoints(r[0],r[1])&&(this.neighbors_[2]=i,i.markNeighborPointers(r[0],r[1],this))};$r.prototype.clearNeighbors=function(){this.neighbors_[0]=null,this.neighbors_[1]=null,this.neighbors_[2]=null};$r.prototype.clearDelaunayEdges=function(){this.delaunay_edge[0]=!1,this.delaunay_edge[1]=!1,this.delaunay_edge[2]=!1};$r.prototype.pointCW=function(i){var r=this.points_;return i===r[0]?r[2]:i===r[1]?r[0]:i===r[2]?r[1]:null};$r.prototype.pointCCW=function(i){var r=this.points_;return i===r[0]?r[1]:i===r[1]?r[2]:i===r[2]?r[0]:null};$r.prototype.neighborCW=function(i){return i===this.points_[0]?this.neighbors_[1]:i===this.points_[1]?this.neighbors_[2]:this.neighbors_[0]};$r.prototype.neighborCCW=function(i){return i===this.points_[0]?this.neighbors_[2]:i===this.points_[1]?this.neighbors_[0]:this.neighbors_[1]};$r.prototype.getConstrainedEdgeCW=function(i){return i===this.points_[0]?this.constrained_edge[1]:i===this.points_[1]?this.constrained_edge[2]:this.constrained_edge[0]};$r.prototype.getConstrainedEdgeCCW=function(i){return i===this.points_[0]?this.constrained_edge[2]:i===this.points_[1]?this.constrained_edge[0]:this.constrained_edge[1]};$r.prototype.getConstrainedEdgeAcross=function(i){return i===this.points_[0]?this.constrained_edge[0]:i===this.points_[1]?this.constrained_edge[1]:this.constrained_edge[2]};$r.prototype.setConstrainedEdgeCW=function(i,r){i===this.points_[0]?this.constrained_edge[1]=r:i===this.points_[1]?this.constrained_edge[2]=r:this.constrained_edge[0]=r};$r.prototype.setConstrainedEdgeCCW=function(i,r){i===this.points_[0]?this.constrained_edge[2]=r:i===this.points_[1]?this.constrained_edge[0]=r:this.constrained_edge[1]=r};$r.prototype.getDelaunayEdgeCW=function(i){return i===this.points_[0]?this.delaunay_edge[1]:i===this.points_[1]?this.delaunay_edge[2]:this.delaunay_edge[0]};$r.prototype.getDelaunayEdgeCCW=function(i){return i===this.points_[0]?this.delaunay_edge[2]:i===this.points_[1]?this.delaunay_edge[0]:this.delaunay_edge[1]};$r.prototype.setDelaunayEdgeCW=function(i,r){i===this.points_[0]?this.delaunay_edge[1]=r:i===this.points_[1]?this.delaunay_edge[2]=r:this.delaunay_edge[0]=r};$r.prototype.setDelaunayEdgeCCW=function(i,r){i===this.points_[0]?this.delaunay_edge[2]=r:i===this.points_[1]?this.delaunay_edge[0]=r:this.delaunay_edge[1]=r};$r.prototype.neighborAcross=function(i){return i===this.points_[0]?this.neighbors_[0]:i===this.points_[1]?this.neighbors_[1]:this.neighbors_[2]};$r.prototype.oppositePoint=function(i,r){var t=i.pointCW(r);return this.pointCW(t)};$r.prototype.legalize=function(i,r){var t=this.points_;if(i===t[0])t[1]=t[0],t[0]=t[2],t[2]=r;else if(i===t[1])t[2]=t[1],t[1]=t[0],t[0]=r;else if(i===t[2])t[0]=t[2],t[2]=t[1],t[1]=r;else throw new Error("poly2tri Invalid Triangle.legalize() call")};$r.prototype.index=function(i){var r=this.points_;if(i===r[0])return 0;if(i===r[1])return 1;if(i===r[2])return 2;throw new Error("poly2tri Invalid Triangle.index() call")};$r.prototype.edgeIndex=function(i,r){var t=this.points_;if(i===t[0]){if(r===t[1])return 2;if(r===t[2])return 1}else if(i===t[1]){if(r===t[2])return 0;if(r===t[0])return 2}else if(i===t[2]){if(r===t[0])return 1;if(r===t[1])return 0}return-1};$r.prototype.markConstrainedEdgeByIndex=function(i){this.constrained_edge[i]=!0};$r.prototype.markConstrainedEdgeByEdge=function(i){this.markConstrainedEdgeByPoints(i.p,i.q)};$r.prototype.markConstrainedEdgeByPoints=function(i,r){var t=this.points_;r===t[0]&&i===t[1]||r===t[1]&&i===t[0]?this.constrained_edge[2]=!0:r===t[0]&&i===t[2]||r===t[2]&&i===t[0]?this.constrained_edge[1]=!0:(r===t[1]&&i===t[2]||r===t[2]&&i===t[1])&&(this.constrained_edge[0]=!0)};var n_=$r,o_={};function o7(i,r){if(!i)throw new Error(r||"Assert Failed")}var s7=o7,$g={},a7={get exports(){return $g},set exports(i){$g=i}},l7=function(i,r){this.point=i,this.triangle=r||null,this.next=null,this.prev=null,this.value=i.x},xl=function(i,r){this.head_=i,this.tail_=r,this.search_node_=i};xl.prototype.head=function(){return this.head_};xl.prototype.setHead=function(i){this.head_=i};xl.prototype.tail=function(){return this.tail_};xl.prototype.setTail=function(i){this.tail_=i};xl.prototype.search=function(){return this.search_node_};xl.prototype.setSearch=function(i){this.search_node_=i};xl.prototype.findSearchNode=function(){return this.search_node_};xl.prototype.locateNode=function(i){var r=this.search_node_;if(i<r.value){for(;r=r.prev;)if(i>=r.value)return this.search_node_=r,r}else for(;r=r.next;)if(i<r.value)return this.search_node_=r.prev,r.prev;return null};xl.prototype.locatePoint=function(i){var r=i.x,t=this.findSearchNode(r),o=t.point.x;if(r===o){if(i!==t.point)if(i===t.prev.point)t=t.prev;else if(i===t.next.point)t=t.next;else throw new Error("poly2tri Invalid AdvancingFront.locatePoint() call")}else if(r<o)for(;(t=t.prev)&&i!==t.point;);else for(;(t=t.next)&&i!==t.point;);return t&&(this.search_node_=t),t};a7.exports=xl;$g.Node=l7;var Rp={},tm=1e-12;Rp.EPSILON=tm;var Sv={CW:1,CCW:-1,COLLINEAR:0};Rp.Orientation=Sv;function c7(i,r,t){var o=(i.x-t.x)*(r.y-t.y),l=(i.y-t.y)*(r.x-t.x),u=o-l;return u>-tm&&u<tm?Sv.COLLINEAR:u>0?Sv.CCW:Sv.CW}Rp.orient2d=c7;function u7(i,r,t,o){var l=(i.x-r.x)*(o.y-r.y)-(o.x-r.x)*(i.y-r.y);if(l>=-tm)return!1;var u=(i.x-t.x)*(o.y-t.y)-(o.x-t.x)*(i.y-t.y);return!(u<=tm)}Rp.inScanArea=u7;function h7(i,r,t){var o=r.x-i.x,l=r.y-i.y,u=t.x-i.x,d=t.y-i.y;return o*u+l*d<0}Rp.isAngleObtuse=h7;var s_=s7,ly=i_,oM=n_,d7=$g.Node,dm=Rp,p7=dm.EPSILON,ln=dm.Orientation,Rn=dm.orient2d,sM=dm.inScanArea,FT=dm.isAngleObtuse;function f7(i){i.initTriangulation(),i.createAdvancingFront(),g7(i),m7(i)}function g7(i){var r,t=i.pointCount();for(r=1;r<t;++r)for(var o=i.getPoint(r),l=v7(i,o),u=o._p2t_edge_list,d=0;u&&d<u.length;++d)y7(i,u[d],l)}function m7(i){for(var r=i.front().head().next.triangle,t=i.front().head().next.point;!r.getConstrainedEdgeCW(t);)r=r.neighborCCW(t);i.meshClean(r)}function v7(i,r){var t=i.locateNode(r),o=b7(i,r,t);return r.x<=t.point.x+p7&&Cp(i,t),w7(i,o),o}function y7(i,r,t){i.edge_event.constrained_edge=r,i.edge_event.right=r.p.x>r.q.x,!aM(t.triangle,r.p,r.q)&&(T7(i,r,t),a_(i,r.p,r.q,t.triangle,r.q))}function a_(i,r,t,o,l){if(!aM(o,r,t)){var u=o.pointCCW(l),d=Rn(t,u,r);if(d===ln.COLLINEAR)throw new ly("poly2tri EdgeEvent: Collinear not supported!",[t,u,r]);var p=o.pointCW(l),m=Rn(t,p,r);if(m===ln.COLLINEAR)throw new ly("poly2tri EdgeEvent: Collinear not supported!",[t,p,r]);d===m?(d===ln.CW?o=o.neighborCCW(l):o=o.neighborCW(l),a_(i,r,t,o,l)):u_(i,r,t,o,l)}}function aM(i,r,t){var o=i.edgeIndex(r,t);if(o!==-1){i.markConstrainedEdgeByIndex(o);var l=i.getNeighbor(o);return l&&l.markConstrainedEdgeByPoints(r,t),!0}return!1}function b7(i,r,t){var o=new oM(r,t.point,t.next.point);o.markNeighbor(t.triangle),i.addToMap(o);var l=new d7(r);return l.next=t.next,l.prev=t,t.next.prev=l,t.next=l,wu(i,o)||i.mapTriangleToNodes(o),l}function Cp(i,r){var t=new oM(r.prev.point,r.point,r.next.point);t.markNeighbor(r.prev.triangle),t.markNeighbor(r.triangle),i.addToMap(t),r.prev.next=r.next,r.next.prev=r.prev,wu(i,t)||i.mapTriangleToNodes(t)}function w7(i,r){for(var t=r.next;t.next&&!FT(t.point,t.next.point,t.prev.point);)Cp(i,t),t=t.next;for(t=r.prev;t.prev&&!FT(t.point,t.next.point,t.prev.point);)Cp(i,t),t=t.prev;r.next&&r.next.next&&x7(r)&&k7(i,r)}function x7(i){var r=i.point.x-i.next.next.point.x,t=i.point.y-i.next.next.point.y;return s_(t>=0,"unordered y"),r>=0||Math.abs(r)<t}function wu(i,r){for(var t=0;t<3;++t)if(!r.delaunay_edge[t]){var o=r.getNeighbor(t);if(o){var l=r.getPoint(t),u=o.oppositePoint(r,l),d=o.index(u);if(o.constrained_edge[d]||o.delaunay_edge[d]){r.constrained_edge[t]=o.constrained_edge[d];continue}var p=_7(l,r.pointCCW(l),r.pointCW(l),u);if(p){r.delaunay_edge[t]=!0,o.delaunay_edge[d]=!0,lM(r,l,o,u);var m=!wu(i,r);return m&&i.mapTriangleToNodes(r),m=!wu(i,o),m&&i.mapTriangleToNodes(o),r.delaunay_edge[t]=!1,o.delaunay_edge[d]=!1,!0}}}return!1}function _7(i,r,t,o){var l=i.x-o.x,u=i.y-o.y,d=r.x-o.x,p=r.y-o.y,m=l*p,v=d*u,x=m-v;if(x<=0)return!1;var k=t.x-o.x,C=t.y-o.y,M=k*u,I=l*C,D=M-I;if(D<=0)return!1;var j=d*C,H=k*p,J=l*l+u*u,q=d*d+p*p,W=k*k+C*C,st=J*(j-H)+q*D+W*x;return st>0}function lM(i,r,t,o){var l,u,d,p;l=i.neighborCCW(r),u=i.neighborCW(r),d=t.neighborCCW(o),p=t.neighborCW(o);var m,v,x,k;m=i.getConstrainedEdgeCCW(r),v=i.getConstrainedEdgeCW(r),x=t.getConstrainedEdgeCCW(o),k=t.getConstrainedEdgeCW(o);var C,M,I,D;C=i.getDelaunayEdgeCCW(r),M=i.getDelaunayEdgeCW(r),I=t.getDelaunayEdgeCCW(o),D=t.getDelaunayEdgeCW(o),i.legalize(r,o),t.legalize(o,r),t.setDelaunayEdgeCCW(r,C),i.setDelaunayEdgeCW(r,M),i.setDelaunayEdgeCCW(o,I),t.setDelaunayEdgeCW(o,D),t.setConstrainedEdgeCCW(r,m),i.setConstrainedEdgeCW(r,v),i.setConstrainedEdgeCCW(o,x),t.setConstrainedEdgeCW(o,k),i.clearNeighbors(),t.clearNeighbors(),l&&t.markNeighbor(l),u&&i.markNeighbor(u),d&&i.markNeighbor(d),p&&t.markNeighbor(p),i.markNeighbor(t)}function k7(i,r){for(Rn(r.point,r.next.point,r.next.next.point)===ln.CCW?i.basin.left_node=r.next.next:i.basin.left_node=r.next,i.basin.bottom_node=i.basin.left_node;i.basin.bottom_node.next&&i.basin.bottom_node.point.y>=i.basin.bottom_node.next.point.y;)i.basin.bottom_node=i.basin.bottom_node.next;if(i.basin.bottom_node!==i.basin.left_node){for(i.basin.right_node=i.basin.bottom_node;i.basin.right_node.next&&i.basin.right_node.point.y<i.basin.right_node.next.point.y;)i.basin.right_node=i.basin.right_node.next;i.basin.right_node!==i.basin.bottom_node&&(i.basin.width=i.basin.right_node.point.x-i.basin.left_node.point.x,i.basin.left_highest=i.basin.left_node.point.y>i.basin.right_node.point.y,cM(i,i.basin.bottom_node))}}function cM(i,r){if(!E7(i,r)){Cp(i,r);var t;if(!(r.prev===i.basin.left_node&&r.next===i.basin.right_node)){if(r.prev===i.basin.left_node){if(t=Rn(r.point,r.next.point,r.next.next.point),t===ln.CW)return;r=r.next}else if(r.next===i.basin.right_node){if(t=Rn(r.point,r.prev.point,r.prev.prev.point),t===ln.CCW)return;r=r.prev}else r.prev.point.y<r.next.point.y?r=r.prev:r=r.next;cM(i,r)}}}function E7(i,r){var t;return i.basin.left_highest?t=i.basin.left_node.point.y-r.point.y:t=i.basin.right_node.point.y-r.point.y,i.basin.width>t}function T7(i,r,t){i.edge_event.right?S7(i,r,t):C7(i,r,t)}function S7(i,r,t){for(;t.next.point.x<r.p.x;)Rn(r.q,t.next.point,r.p)===ln.CCW?uM(i,r,t):t=t.next}function uM(i,r,t){t.point.x<r.p.x&&(Rn(t.point,t.next.point,t.next.next.point)===ln.CCW?l_(i,r,t):(hM(i,r,t),uM(i,r,t)))}function l_(i,r,t){Cp(i,t.next),t.next.point!==r.p&&Rn(r.q,t.next.point,r.p)===ln.CCW&&Rn(t.point,t.next.point,t.next.next.point)===ln.CCW&&l_(i,r,t)}function hM(i,r,t){Rn(t.next.point,t.next.next.point,t.next.next.next.point)===ln.CCW?l_(i,r,t.next):Rn(r.q,t.next.next.point,r.p)===ln.CCW&&hM(i,r,t.next)}function C7(i,r,t){for(;t.prev.point.x>r.p.x;)Rn(r.q,t.prev.point,r.p)===ln.CW?dM(i,r,t):t=t.prev}function dM(i,r,t){t.point.x>r.p.x&&(Rn(t.point,t.prev.point,t.prev.prev.point)===ln.CW?c_(i,r,t):(pM(i,r,t),dM(i,r,t)))}function pM(i,r,t){Rn(t.prev.point,t.prev.prev.point,t.prev.prev.prev.point)===ln.CW?c_(i,r,t.prev):Rn(r.q,t.prev.prev.point,r.p)===ln.CW&&pM(i,r,t.prev)}function c_(i,r,t){Cp(i,t.prev),t.prev.point!==r.p&&Rn(r.q,t.prev.point,r.p)===ln.CW&&Rn(t.point,t.prev.point,t.prev.prev.point)===ln.CW&&c_(i,r,t)}function u_(i,r,t,o,l){var u=o.neighborAcross(l);s_(u,"FLIP failed due to missing triangle!");var d=u.oppositePoint(o,l);if(o.getConstrainedEdgeAcross(l)){var p=o.index(l);throw new ly("poly2tri Intersecting Constraints",[l,d,o.getPoint((p+1)%3),o.getPoint((p+2)%3)])}if(sM(l,o.pointCCW(l),o.pointCW(l),d))if(lM(o,l,u,d),i.mapTriangleToNodes(o),i.mapTriangleToNodes(u),l===t&&d===r)t===i.edge_event.constrained_edge.q&&r===i.edge_event.constrained_edge.p&&(o.markConstrainedEdgeByPoints(r,t),u.markConstrainedEdgeByPoints(r,t),wu(i,o),wu(i,u));else{var m=Rn(t,d,r);o=P7(i,m,o,u,l,d),u_(i,r,t,o,l)}else{var v=fM(r,t,u,d);gM(i,r,t,o,u,v),a_(i,r,t,o,l)}}function P7(i,r,t,o,l,u){var d;return r===ln.CCW?(d=o.edgeIndex(l,u),o.delaunay_edge[d]=!0,wu(i,o),o.clearDelaunayEdges(),t):(d=t.edgeIndex(l,u),t.delaunay_edge[d]=!0,wu(i,t),t.clearDelaunayEdges(),o)}function fM(i,r,t,o){var l=Rn(r,o,i);if(l===ln.CW)return t.pointCCW(o);if(l===ln.CCW)return t.pointCW(o);throw new ly("poly2tri [Unsupported] nextFlipPoint: opposing point on constrained edge!",[r,o,i])}function gM(i,r,t,o,l,u){var d=l.neighborAcross(u);s_(d,"FLIP failed due to missing triangle");var p=d.oppositePoint(l,u);if(sM(t,o.pointCCW(t),o.pointCW(t),p))u_(i,t,p,d,p);else{var m=fM(r,t,d,p);gM(i,r,t,o,d,m)}}o_.triangulate=f7;var M7=i_,ng=nM,I7=n_,L7=o_,mM=$g,Gw=mM.Node,BT=.3,A7=function(i,r){if(this.p=i,this.q=r,i.y>r.y)this.q=i,this.p=r;else if(i.y===r.y){if(i.x>r.x)this.q=i,this.p=r;else if(i.x===r.x)throw new M7("poly2tri Invalid Edge constructor: repeated points!",[i])}this.q._p2t_edge_list||(this.q._p2t_edge_list=[]),this.q._p2t_edge_list.push(this)},vM=function(){this.left_node=null,this.bottom_node=null,this.right_node=null,this.width=0,this.left_highest=!1};vM.prototype.clear=function(){this.left_node=null,this.bottom_node=null,this.right_node=null,this.width=0,this.left_highest=!1};var R7=function(){this.constrained_edge=null,this.right=!1},pi=function(i,r){r=r||{},this.triangles_=[],this.map_=[],this.points_=r.cloneArrays?i.slice(0):i,this.edge_list=[],this.pmin_=this.pmax_=null,this.front_=null,this.head_=null,this.tail_=null,this.af_head_=null,this.af_middle_=null,this.af_tail_=null,this.basin=new vM,this.edge_event=new R7,this.initEdges(this.points_)};pi.prototype.addHole=function(i){this.initEdges(i);var r,t=i.length;for(r=0;r<t;r++)this.points_.push(i[r]);return this};pi.prototype.AddHole=pi.prototype.addHole;pi.prototype.addHoles=function(i){var r,t=i.length;for(r=0;r<t;r++)this.initEdges(i[r]);return this.points_=this.points_.concat.apply(this.points_,i),this};pi.prototype.addPoint=function(i){return this.points_.push(i),this};pi.prototype.AddPoint=pi.prototype.addPoint;pi.prototype.addPoints=function(i){return this.points_=this.points_.concat(i),this};pi.prototype.triangulate=function(){return L7.triangulate(this),this};pi.prototype.getBoundingBox=function(){return{min:this.pmin_,max:this.pmax_}};pi.prototype.getTriangles=function(){return this.triangles_};pi.prototype.GetTriangles=pi.prototype.getTriangles;pi.prototype.front=function(){return this.front_};pi.prototype.pointCount=function(){return this.points_.length};pi.prototype.head=function(){return this.head_};pi.prototype.setHead=function(i){this.head_=i};pi.prototype.tail=function(){return this.tail_};pi.prototype.setTail=function(i){this.tail_=i};pi.prototype.getMap=function(){return this.map_};pi.prototype.initTriangulation=function(){var i=this.points_[0].x,r=this.points_[0].x,t=this.points_[0].y,o=this.points_[0].y,l,u=this.points_.length;for(l=1;l<u;l++){var d=this.points_[l];d.x>i&&(i=d.x),d.x<r&&(r=d.x),d.y>t&&(t=d.y),d.y<o&&(o=d.y)}this.pmin_=new ng(r,o),this.pmax_=new ng(i,t);var p=BT*(i-r),m=BT*(t-o);this.head_=new ng(i+p,o-m),this.tail_=new ng(r-p,o-m),this.points_.sort(ng.compare)};pi.prototype.initEdges=function(i){var r,t=i.length;for(r=0;r<t;++r)this.edge_list.push(new A7(i[r],i[(r+1)%t]))};pi.prototype.getPoint=function(i){return this.points_[i]};pi.prototype.addToMap=function(i){this.map_.push(i)};pi.prototype.locateNode=function(i){return this.front_.locateNode(i.x)};pi.prototype.createAdvancingFront=function(){var i,r,t,o=new I7(this.points_[0],this.tail_,this.head_);this.map_.push(o),i=new Gw(o.getPoint(1),o),r=new Gw(o.getPoint(0),o),t=new Gw(o.getPoint(2)),this.front_=new mM(i,t),i.next=r,r.next=t,r.prev=i,t.prev=r};pi.prototype.removeNode=function(i){};pi.prototype.mapTriangleToNodes=function(i){for(var r=0;r<3;++r)if(!i.getNeighbor(r)){var t=this.front_.locatePoint(i.pointCW(i.getPoint(r)));t&&(t.triangle=i)}};pi.prototype.removeFromMap=function(i){var r,t=this.map_,o=t.length;for(r=0;r<o;r++)if(t[r]===i){t.splice(r,1);break}};pi.prototype.meshClean=function(i){for(var r=[i],t,o;t=r.pop();)if(!t.isInterior())for(t.setInterior(!0),this.triangles_.push(t),o=0;o<3;o++)t.constrained_edge[o]||r.push(t.getNeighbor(o))};var O7=pi;(function(i){var r=globalThis.poly2tri;i.noConflict=function(){return globalThis.poly2tri=r,i},i.VERSION=$9.version,i.PointError=i_,i.Point=nM,i.Triangle=n_,i.SweepContext=O7;var t=o_;i.triangulate=t.triangulate,i.sweep={Triangulate:t.triangulate}})(Tv);function z7(i,r){const t=N9(i,r),o=new Tv.SweepContext(z9(i,r).map(l=>new Tv.Point(l[0],l[1])));for(let l=0;l<t.length;l++)K9(i,t[l])===-1&&o.addPoint(new Tv.Point(t[l][0],t[l][1]));try{o.triangulate()}catch{throw new Error("A Point Error occured during resource mask triangulation. This is typically because the resource mask contains duplicate or collinear points, or is self-intersecting.")}return o.getTriangles()}function N7(i,r){return z7(i,r).map(t=>t.getPoints().map(o=>[o.x,o.y]))}function np(i,r){const t=r[0],o=r[1];return[i[0]*t+i[2]*o+i[4],i[1]*t+i[3]*o+i[5]]}function D7(){return[1,0,0,1,0,0]}function F7(i,r){const t=i[0],o=i[1],l=i[2],u=i[3],d=i[4],p=i[5],m=r[0],v=r[1],x=r[2],k=r[3],C=r[4],M=r[5];return[t*m+l*v,o*m+u*v,t*x+l*k,o*x+u*k,t*C+l*M+d,o*C+u*M+p]}function jT(i,r,t,o,l,u,d){const p=Math.sin(l),m=Math.cos(l);return[t*m,o*p,-t*p,o*m,u*t*m-d*t*p+i,u*o*p+d*o*m+r]}function B7(i){const r=j7(i),t=i[0],o=i[1],l=i[2],u=i[3],d=i[4],p=i[5];return[u/r,-o/r,-l/r,t/r,(l*p-u*d)/r,-(t*p-o*d)/r]}function j7(i){return i[0]*i[3]-i[1]*i[2]}function H7(i){const r=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return r[0]=i[0],r[1]=i[1],r[4]=i[2],r[5]=i[3],r[12]=i[4],r[13]=i[5],r}var Se;(function(i){i.GEOREFERENCEANNOTATIONADDED="georeferenceannotationadded",i.GEOREFERENCEANNOTATIONREMOVED="georeferenceannotationremoved",i.WARPEDMAPADDED="warpedmapadded",i.WARPEDMAPREMOVED="warpedmapremoved",i.WARPEDMAPENTER="warpedmapenter",i.WARPEDMAPLEAVE="warpedmapleave",i.IMAGEINFOLOADED="imageinfoloaded",i.TILEFETCHED="tilefetched",i.TILEFETCHERROR="tilefetcherror",i.MAPTILELOADED="maptileloaded",i.MAPTILEREMOVED="maptileremoved",i.FIRSTMAPTILELOADED="firstmaptileloaded",i.ALLREQUESTEDTILESLOADED="allrequestedtilesloaded",i.TEXTURESUPDATED="texturesupdated",i.ZINDICESCHANGES="zindiceschanged",i.RESOURCEMASKUPDATED="resourcemaskupdated",i.VISIBILITYCHANGED="visibilitychanged",i.TRANSFORMATIONCHANGED="transformationchanged",i.CHANGED="changed",i.CLEARED="cleared"})(Se||(Se={}));class Wr extends Event{constructor(r,t){super(r),this.data=t}}const U7=80,HT={maxOffsetRatio:.05,maxDepth:2},UT={maxOffsetRatio:.05,maxDepth:2};class G7 extends EventTarget{constructor(r,t,o,l=!0){var u;super(),this.resourceViewportRing=[],this.resourceTrianglePoints=[],this.resourceTrianglePointsByBestScaleFactor=new Map,this.projectedGeoCurrentTrianglePoints=[],this.projectedGeoNewTrianglePoints=[],this.mapId=r,this.georeferencedMap=t,this.gcps=this.georeferencedMap.gcps,this.projectedGcps=this.gcps.map(({geo:d,resource:p})=>({geo:gB(d),resource:p})),this.resourceMask=this.georeferencedMap.resourceMask,this.resourceMaskBbox=Vn(this.resourceMask),this.resourceFullMask=[[0,0],[this.georeferencedMap.resource.width,0],[this.georeferencedMap.resource.width,this.georeferencedMap.resource.height],[0,this.georeferencedMap.resource.height]],this.resourceFullMaskBbox=Vn(this.resourceFullMask),this.imageInfoCache=o,this.visible=l,this.transformationType=((u=this.georeferencedMap.transformation)==null?void 0:u.type)||"polynomial",this.updateTransformerProperties()}getViewportMask(r){return this.projectedGeoMask.map(t=>np(r.projectedGeoToViewportTransform,t))}getViewportMaskBbox(r){return Vn(this.getViewportMask(r))}getApproxViewportMaskBbox(r){return Vn(Jg(this.projectedGeoMaskBbox).map(t=>np(r.projectedGeoToViewportTransform,t)))}getViewportFullMask(r){return this.projectedGeoFullMask.map(t=>np(r.projectedGeoToViewportTransform,t))}getViewportFullMaskBbox(r){return Vn(this.getViewportFullMask(r))}getApproxViewportFullMaskBbox(r){return Vn(Jg(this.projectedGeoFullMaskBbox).map(t=>np(r.projectedGeoToViewportTransform,t)))}getResourceToViewportScale(r){return Nw(this.resourceMaskBbox,this.getViewportMaskBbox(r))}getResourceToCanvasScale(r){return this.getResourceToViewportScale(r)/r.devicePixelRatio}getApproxResourceToViewportScale(r){return Nw(this.resourceMaskBbox,this.getApproxViewportMaskBbox(r))}getApproxResourceToCanvasScale(r){return this.getApproxResourceToViewportScale(r)/r.devicePixelRatio}setResourceViewportRing(r){this.resourceViewportRing=r,this.resourceViewportRingBbox=Vn(r)}setResourceMask(r){this.resourceMask=r,this.updateGeoMask(),this.updateProjectedGeoMask()}setTransformationType(r){this.transformationType=r,this.updateTransformerProperties()}setGcps(r){this.gcps=r,this.updateTransformerProperties()}updateBestScaleFactor(r){this.bestScaleFactor!=r&&(this.bestScaleFactor=r,this.updateTriangulation(!0))}updateTriangulation(r=!1){if(this.resourceTrianglePointsByBestScaleFactor.has(this.bestScaleFactor))this.resourceTrianglePoints=this.resourceTrianglePointsByBestScaleFactor.get(this.bestScaleFactor);else{const t=hB(this.resourceMask)*this.bestScaleFactor/U7;this.resourceTrianglePoints=N7(this.resourceMask,t).flat(),this.resourceTrianglePointsByBestScaleFactor.set(this.bestScaleFactor,this.resourceTrianglePoints)}this.updateProjectedGeoTrianglePoints(r)}updateProjectedGeoTrianglePoints(r=!1){this.projectedGeoNewTrianglePoints=this.resourceTrianglePoints.map(t=>this.projectedTransformer.transformToGeo(t)),(r||!this.projectedGeoCurrentTrianglePoints.length)&&(this.projectedGeoCurrentTrianglePoints=this.projectedGeoNewTrianglePoints)}resetCurrentTrianglePoints(){this.projectedGeoCurrentTrianglePoints=this.projectedGeoNewTrianglePoints}clearResourceTrianglePointsByBestScaleFactor(){this.resourceTrianglePointsByBestScaleFactor=new Map}mixProjectedGeoCurrentAndNewTrianglePoints(r){this.projectedGeoCurrentTrianglePoints=this.projectedGeoNewTrianglePoints.map((t,o)=>nB(t,this.projectedGeoCurrentTrianglePoints[o],r))}hasImageInfo(){return this.imageId!==void 0&&this.parsedImage!==void 0}async loadImageInfo(){const r=this.georeferencedMap.resource.id,t=await QF(r,{cache:this.imageInfoCache});this.parsedImage=GF.parse(t),this.imageId=await sP(r),this.dispatchEvent(new Wr(Se.IMAGEINFOLOADED))}dispose(){this.resourceTrianglePoints=[],this.projectedGeoCurrentTrianglePoints=[],this.projectedGeoNewTrianglePoints=[]}updateTransformerProperties(){this.updateTransformer(),this.updateProjectedTransformer(),this.updateGeoMask(),this.updateFullGeoMask(),this.updateProjectedGeoMask(),this.updateProjectedFullGeoMask(),this.updateResourceToProjectedGeoScale()}updateTransformer(){this.transformer=new NT(this.gcps,this.transformationType)}updateProjectedTransformer(){this.projectedTransformer=new NT(this.projectedGcps,this.transformationType)}updateGeoMask(){this.geoMask=this.transformer.transformForwardAsGeojson([this.resourceMask],HT),this.geoMaskBbox=Vn(this.geoMask)}updateFullGeoMask(){this.geoFullMask=this.transformer.transformForwardAsGeojson([this.resourceFullMask],HT),this.geoFullMaskBbox=Vn(this.geoFullMask)}updateProjectedGeoMask(){this.projectedGeoMask=this.projectedTransformer.transformForward([this.resourceMask],UT)[0],this.projectedGeoMaskBbox=Vn(this.projectedGeoMask)}updateProjectedFullGeoMask(){this.projectedGeoFullMask=this.projectedTransformer.transformForward([this.resourceFullMask],UT)[0],this.projectedGeoFullMaskBbox=Vn(this.projectedGeoFullMask)}updateResourceToProjectedGeoScale(){this.resourceToProjectedGeoScale=Nw(this.resourceMaskBbox,this.projectedGeoMaskBbox)}}const q7=_t.string().or(_t.number()).or(_t.boolean()),V7=_t.record(_t.string(),q7.array()),xu=_t.tuple([_t.number(),_t.number()]),yM=_t.object({type:_t.literal("Point"),coordinates:xu}),bM=xu.array().min(3),pm=_t.enum(["ImageService1","ImageService2","ImageService3"]),W7=_t.object({id:_t.string().url(),type:_t.string(),label:V7.optional()}),jy=W7.extend({partOf:_t.lazy(()=>jy.array()).optional()}),Z7=_t.object({type:_t.literal("polynomial"),options:_t.object({order:_t.number().min(1).max(3)}).optional()}),Y7=_t.object({type:_t.literal("thinPlateSpline")}),Hy=Z7.or(Y7),X7=/^<svg\s+width="\d+"\s+height="\d+"\s*>\s*<polygon\s+points="\s*(-?\d+(\.\d+)?,-?\d+(\.\d+)?\s+){2,}-?\d+(\.\d+)?,-?\d+(\.\d+)?\s*"\s*\/>\s*<\/svg>$/,K7=_t.object({type:_t.literal("SvgSelector"),value:_t.string().regex(X7)}),J7=_t.object({source:_t.string().url(),service:_t.array(_t.object({"@id":_t.string().url(),type:pm})).length(1),selector:K7}),wM=_t.object({pixelCoords:xu}),Q7=_t.object({type:_t.literal("FeatureCollection"),transformation:Hy.optional(),features:_t.array(_t.object({type:_t.literal("Feature"),properties:wM,geometry:yM}))}),h_=_t.object({id:_t.string().optional(),type:_t.literal("Annotation"),"@context":_t.string().url().array().optional(),motivation:_t.string().default("georeferencing").optional(),target:J7,body:Q7}),xM=_t.object({id:_t.string().optional(),type:_t.literal("AnnotationPage"),"@context":_t.string().url().array().optional(),items:_t.array(h_)}),d_=/<polygon\s+points="\s*(-?\d+(\.\d+)?,-?\d+(\.\d+)?\s+){2,}-?\d+(\.\d+)?,-?\d+(\.\d+)?\s*"\s*\/>/,$7=new RegExp(`^<svg\\s+width="\\d+"\\s+height="\\d+"\\s*>\\s*${d_.source}\\s*</svg>$`),tj=new RegExp(`^<svg\\s+height="\\d+"\\s+width="\\d+"\\s*>\\s*${d_.source}\\s*</svg>$`),ej=new RegExp(`^<svg\\s*>\\s*${d_.source}\\s*</svg>$`),rj=_t.string().regex(ej),ij=_t.string().regex($7),nj=_t.string().regex(tj),oj=_t.object({type:_t.literal("SvgSelector"),value:rj.or(ij).or(nj)}),sj=_t.object({"@id":_t.string().url(),type:pm,height:_t.number().positive(),width:_t.number().positive(),partOf:jy.array().optional()}),aj=_t.object({id:_t.string().url(),type:pm,height:_t.number().positive(),width:_t.number().positive(),partOf:jy.array().optional()}),lj=_t.object({type:_t.literal("SpecificResource"),source:sj.or(aj),selector:oj}),_M=_t.object({resourceCoords:xu}),cj=_t.object({type:_t.literal("FeatureCollection"),transformation:Hy.optional(),features:_t.array(_t.object({type:_t.literal("Feature"),properties:_M,geometry:yM}))}),p_=_t.object({id:_t.string().optional(),type:_t.literal("Annotation"),"@context":_t.string().url().array().optional(),motivation:_t.string().default("georeferencing").optional(),target:lj,body:cj}),kM=_t.object({id:_t.string().optional(),type:_t.literal("AnnotationPage"),"@context":_t.string().url().array().optional(),items:_t.array(p_)});h_.or(p_);xM.or(kM);wM.or(_M);function EM(i){return Array.isArray(i)}function uj(i){return!!(i&&typeof i=="object"&&"type"in i&&i.type==="AnnotationPage")}function cy(i){return!!(i&&typeof i=="object"&&"type"in i&&i.type==="GeoreferencedMap")}function GT(i){return!!(i&&typeof i=="object"&&"target"in i&&i.target&&typeof i.target=="object"&&"source"in i.target&&typeof i.target.source=="string")}function f_(i){return"type"in i&&i.type==="GeoreferencedMap"}function g_(i){return"source"in i.target&&typeof i.target.source=="object"}function hj(i){return{id:dj(i),...vj(i),type:pj(i),partOf:fj(i)}}function dj(i){if(g_(i)){const r=i.target.source;return"id"in r?r.id:r["@id"]}else return i.target.service[0]["@id"]}function pj(i){return"service"in i.target?i.target.service[0].type:i.target.source.type}function fj(i){if(g_(i))return i.target.source.partOf}function gj(i){return"pixelCoords"in i?i.pixelCoords:i.resourceCoords}function mj(i){return i.body.features.map(r=>({resource:gj(r.properties),geo:r.geometry.coordinates}))}function vj(i){var d,p;if(g_(i))return{width:i.target.source.width,height:i.target.source.height};const r=i.target.selector.value,t=/width="(?<width>\d+)"/.exec(r),o=/height="(?<height>\d+)"/.exec(r),l=(d=t==null?void 0:t.groups)==null?void 0:d.width,u=(p=o==null?void 0:o.groups)==null?void 0:p.height;if(!l||!u)throw new Error("Could not parse image dimensions");return{width:parseInt(l),height:parseInt(u)}}function yj(i){var o;const r=i.target.selector.value,t=(o=/points="(?<points>.+)"/.exec(r))==null?void 0:o.groups;if(t&&t.points){const l=t.points.trim().split(/\s+/);if(l[0]===l[l.length-1]&&l.splice(-1),l.length>=3)return l.map(u=>{const d=u.split(",");if(d.length===2)return[parseFloat(d[0]),parseFloat(d[1])];throw new Error("Could not parse resource mask")});throw new Error("Could not parse resource mask")}else throw new Error("Could not parse resource mask")}function qT(i){return{"@context":"https://schemas.allmaps.org/map/2/context.json",type:"GeoreferencedMap",id:i.id,resource:hj(i),gcps:mj(i),resourceMask:yj(i),transformation:i.body.transformation}}function B1(i){if(uj(i)){let r;return"items"in i&&Array.isArray(i.items)&&GT(i.items[0])?r=xM.parse(i):r=kM.parse(i),r.items.map(t=>qT(t))}else{let r;return GT(i)?r=h_.parse(i):r=p_.parse(i),[qT(r)]}}const TM=_t.object({image:xu,world:xu}),bj=_t.object({uri:_t.string().url(),width:_t.number(),height:_t.number(),type:pm}),Uy=_t.object({id:_t.string().optional(),version:_t.number().min(1).max(1).default(1),image:bj,gcps:TM.array(),pixelMask:bM,transformation:Hy.optional()}),m_=_t.array(Uy),SM=_t.object({resource:xu,geo:xu}),wj=_t.object({id:_t.string().url(),width:_t.number(),height:_t.number(),type:pm,partOf:jy.array().optional()}),Gy=_t.object({"@context":_t.literal("https://schemas.allmaps.org/map/2/context.json").optional(),type:_t.literal("GeoreferencedMap"),id:_t.string().optional(),resource:wj,gcps:SM.array(),resourceMask:bM,transformation:Hy.optional()}),v_=_t.array(Gy);Uy.or(Gy);m_.or(v_);TM.or(SM);function xj(i){let r,t,o;return f_(i)?(r=i.resource.width,t=i.resource.height,o=i.resourceMask):(r=i.image.width,t=i.image.height,o=i.pixelMask),{type:"SvgSelector",value:`<svg width="${r}" height="${t}"><polygon points="${o.map(l=>l.join(",")).join(" ")}" /></svg>`}}function _j(i){let r,t,o,l,u;return f_(i)?(r=i.resource.id,t=i.resource.type,o=i.resource.width,l=i.resource.height,u=i.resource.partOf):(r=i.image.uri,t=i.image.type,o=i.image.width,l=i.image.height),{id:r,type:t,height:l,width:o,partOf:u}}function CM(){return["http://iiif.io/api/extension/georef/1/context.json","http://iiif.io/api/presentation/3/context.json"]}function kj(i){let r,t;return"resource"in i?(r=i.resource,t=i.geo):(r=i.image,t=i.world),{type:"Feature",properties:{resourceCoords:r},geometry:{type:"Point",coordinates:t}}}function VT(i,r=!0){const t={type:"SpecificResource",source:_j(i),selector:xj(i)},o={type:"FeatureCollection",transformation:i.transformation,features:i.gcps.map(l=>kj(l))};return{id:i.id,type:"Annotation","@context":r?CM():void 0,motivation:"georeferencing",target:t,body:o}}function Ej(i){if(EM(i)){let r;cy(i[0])?r=v_.parse(i):r=m_.parse(i);const t=r.map(o=>VT(o,!1));return{type:"AnnotationPage","@context":CM(),items:t}}else{let r;return cy(i)?r=Gy.parse(i):r=Uy.parse(i),VT(r)}}function PM(i){return f_(i)?i:B1(Ej(i))[0]}function Tj(i){return i.map(PM)}function WT(i){if(EM(i)){let r;return cy(i[0])?r=v_.parse(i):r=m_.parse(i),Tj(r)}else{let r;return cy(i)?r=Gy.parse(i):r=Uy.parse(i),PM(r)}}function Sj(i,r,t,o,l){MM(i,r,t||0,o||i.length-1,l||Cj)}function MM(i,r,t,o,l){for(;o>t;){if(o-t>600){var u=o-t+1,d=r-t+1,p=Math.log(u),m=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*m*(u-m)/u)*(d-u/2<0?-1:1),x=Math.max(t,Math.floor(r-d*m/u+v)),k=Math.min(o,Math.floor(r+(u-d)*m/u+v));MM(i,r,x,k,l)}var C=i[r],M=t,I=o;for(og(i,t,r),l(i[o],C)>0&&og(i,t,o);M<I;){for(og(i,M,I),M++,I--;l(i[M],C)<0;)M++;for(;l(i[I],C)>0;)I--}l(i[t],C)===0?og(i,t,I):(I++,og(i,I,o)),I<=r&&(t=I+1),r<=I&&(o=I-1)}}function og(i,r,t){var o=i[r];i[r]=i[t],i[t]=o}function Cj(i,r){return i<r?-1:i>r?1:0}class Pj{constructor(r=9){this._maxEntries=Math.max(4,r),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(r){let t=this.data;const o=[];if(!hv(r,t))return o;const l=this.toBBox,u=[];for(;t;){for(let d=0;d<t.children.length;d++){const p=t.children[d],m=t.leaf?l(p):p;hv(r,m)&&(t.leaf?o.push(p):Vw(r,m)?this._all(p,o):u.push(p))}t=u.pop()}return o}collides(r){let t=this.data;if(!hv(r,t))return!1;const o=[];for(;t;){for(let l=0;l<t.children.length;l++){const u=t.children[l],d=t.leaf?this.toBBox(u):u;if(hv(r,d)){if(t.leaf||Vw(r,d))return!0;o.push(u)}}t=o.pop()}return!1}load(r){if(!(r&&r.length))return this;if(r.length<this._minEntries){for(let o=0;o<r.length;o++)this.insert(r[o]);return this}let t=this._build(r.slice(),0,r.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const o=this.data;this.data=t,t=o}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(r){return r&&this._insert(r,this.data.height-1),this}clear(){return this.data=$d([]),this}remove(r,t){if(!r)return this;let o=this.data;const l=this.toBBox(r),u=[],d=[];let p,m,v;for(;o||u.length;){if(o||(o=u.pop(),m=u[u.length-1],p=d.pop(),v=!0),o.leaf){const x=Mj(r,o.children,t);if(x!==-1)return o.children.splice(x,1),u.push(o),this._condense(u),this}!v&&!o.leaf&&Vw(o,l)?(u.push(o),d.push(p),p=0,m=o,o=o.children[0]):m?(p++,o=m.children[p],v=!1):o=null}return this}toBBox(r){return r}compareMinX(r,t){return r.minX-t.minX}compareMinY(r,t){return r.minY-t.minY}toJSON(){return this.data}fromJSON(r){return this.data=r,this}_all(r,t){const o=[];for(;r;)r.leaf?t.push(...r.children):o.push(...r.children),r=o.pop();return t}_build(r,t,o,l){const u=o-t+1;let d=this._maxEntries,p;if(u<=d)return p=$d(r.slice(t,o+1)),Yd(p,this.toBBox),p;l||(l=Math.ceil(Math.log(u)/Math.log(d)),d=Math.ceil(u/Math.pow(d,l-1))),p=$d([]),p.leaf=!1,p.height=l;const m=Math.ceil(u/d),v=m*Math.ceil(Math.sqrt(d));ZT(r,t,o,v,this.compareMinX);for(let x=t;x<=o;x+=v){const k=Math.min(x+v-1,o);ZT(r,x,k,m,this.compareMinY);for(let C=x;C<=k;C+=m){const M=Math.min(C+m-1,k);p.children.push(this._build(r,C,M,l-1))}}return Yd(p,this.toBBox),p}_chooseSubtree(r,t,o,l){for(;l.push(t),!(t.leaf||l.length-1===o);){let u=1/0,d=1/0,p;for(let m=0;m<t.children.length;m++){const v=t.children[m],x=qw(v),k=Aj(r,v)-x;k<d?(d=k,u=x<u?x:u,p=v):k===d&&x<u&&(u=x,p=v)}t=p||t.children[0]}return t}_insert(r,t,o){const l=o?r:this.toBBox(r),u=[],d=this._chooseSubtree(l,this.data,t,u);for(d.children.push(r),pg(d,l);t>=0&&u[t].children.length>this._maxEntries;)this._split(u,t),t--;this._adjustParentBBoxes(l,u,t)}_split(r,t){const o=r[t],l=o.children.length,u=this._minEntries;this._chooseSplitAxis(o,u,l);const d=this._chooseSplitIndex(o,u,l),p=$d(o.children.splice(d,o.children.length-d));p.height=o.height,p.leaf=o.leaf,Yd(o,this.toBBox),Yd(p,this.toBBox),t?r[t-1].children.push(p):this._splitRoot(o,p)}_splitRoot(r,t){this.data=$d([r,t]),this.data.height=r.height+1,this.data.leaf=!1,Yd(this.data,this.toBBox)}_chooseSplitIndex(r,t,o){let l,u=1/0,d=1/0;for(let p=t;p<=o-t;p++){const m=dg(r,0,p,this.toBBox),v=dg(r,p,o,this.toBBox),x=Rj(m,v),k=qw(m)+qw(v);x<u?(u=x,l=p,d=k<d?k:d):x===u&&k<d&&(d=k,l=p)}return l||o-t}_chooseSplitAxis(r,t,o){const l=r.leaf?this.compareMinX:Ij,u=r.leaf?this.compareMinY:Lj,d=this._allDistMargin(r,t,o,l),p=this._allDistMargin(r,t,o,u);d<p&&r.children.sort(l)}_allDistMargin(r,t,o,l){r.children.sort(l);const u=this.toBBox,d=dg(r,0,t,u),p=dg(r,o-t,o,u);let m=uv(d)+uv(p);for(let v=t;v<o-t;v++){const x=r.children[v];pg(d,r.leaf?u(x):x),m+=uv(d)}for(let v=o-t-1;v>=t;v--){const x=r.children[v];pg(p,r.leaf?u(x):x),m+=uv(p)}return m}_adjustParentBBoxes(r,t,o){for(let l=o;l>=0;l--)pg(t[l],r)}_condense(r){for(let t=r.length-1,o;t>=0;t--)r[t].children.length===0?t>0?(o=r[t-1].children,o.splice(o.indexOf(r[t]),1)):this.clear():Yd(r[t],this.toBBox)}}function Mj(i,r,t){if(!t)return r.indexOf(i);for(let o=0;o<r.length;o++)if(t(i,r[o]))return o;return-1}function Yd(i,r){dg(i,0,i.children.length,r,i)}function dg(i,r,t,o,l){l||(l=$d(null)),l.minX=1/0,l.minY=1/0,l.maxX=-1/0,l.maxY=-1/0;for(let u=r;u<t;u++){const d=i.children[u];pg(l,i.leaf?o(d):d)}return l}function pg(i,r){return i.minX=Math.min(i.minX,r.minX),i.minY=Math.min(i.minY,r.minY),i.maxX=Math.max(i.maxX,r.maxX),i.maxY=Math.max(i.maxY,r.maxY),i}function Ij(i,r){return i.minX-r.minX}function Lj(i,r){return i.minY-r.minY}function qw(i){return(i.maxX-i.minX)*(i.maxY-i.minY)}function uv(i){return i.maxX-i.minX+(i.maxY-i.minY)}function Aj(i,r){return(Math.max(r.maxX,i.maxX)-Math.min(r.minX,i.minX))*(Math.max(r.maxY,i.maxY)-Math.min(r.minY,i.minY))}function Rj(i,r){const t=Math.max(i.minX,r.minX),o=Math.max(i.minY,r.minY),l=Math.min(i.maxX,r.maxX),u=Math.min(i.maxY,r.maxY);return Math.max(0,l-t)*Math.max(0,u-o)}function Vw(i,r){return i.minX<=r.minX&&i.minY<=r.minY&&r.maxX<=i.maxX&&r.maxY<=i.maxY}function hv(i,r){return r.minX<=i.maxX&&r.minY<=i.maxY&&r.maxX>=i.minX&&r.maxY>=i.minY}function $d(i){return{children:i,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function ZT(i,r,t,o,l){const u=[r,t];for(;u.length;){if(t=u.pop(),r=u.pop(),t-r<=o)continue;const d=r+Math.ceil((t-r)/o/2)*o;Sj(i,d,r,t,l),u.push(r,d,d,t)}}function Oj(i,r,t){if(t===void 0&&(t={}),!i)throw new Error("point is required");if(!r)throw new Error("polygon is required");var o=Tp(i),l=YF(r),u=l.type,d=r.bbox,p=l.coordinates;if(d&&zj(o,d)===!1)return!1;u==="Polygon"&&(p=[p]);for(var m=!1,v=0;v<p.length&&!m;v++)if(YT(o,p[v][0],t.ignoreBoundary)){for(var x=!1,k=1;k<p[v].length&&!x;)YT(o,p[v][k],!t.ignoreBoundary)&&(x=!0),k++;x||(m=!0)}return m}function YT(i,r,t){var o=!1;r[0][0]===r[r.length-1][0]&&r[0][1]===r[r.length-1][1]&&(r=r.slice(0,r.length-1));for(var l=0,u=r.length-1;l<r.length;u=l++){var d=r[l][0],p=r[l][1],m=r[u][0],v=r[u][1],x=i[1]*(d-m)+p*(m-i[0])+v*(i[0]-d)===0&&(d-i[0])*(m-i[0])<=0&&(p-i[1])*(v-i[1])<=0;if(x)return!t;var k=p>i[1]!=v>i[1]&&i[0]<(m-d)*(i[1]-p)/(v-p)+d;k&&(o=!o)}return o}function zj(i,r){return r[0]<=i[0]&&r[1]<=i[1]&&r[2]>=i[0]&&r[3]>=i[1]}const Nj=!0;class Dj{constructor(){this.rbush=new Pj,this.polygonsById=new Map,this.bboxesById=new Map,this.itemsById=new Map}addItem(r,t){this.removeItem(r);const o=Vn(t),l={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],id:r};this.polygonsById.set(r,t),this.bboxesById.set(r,o),this.itemsById.set(r,l),this.rbush.insert(l)}removeItem(r){const t=this.itemsById.get(r);t&&(this.rbush.remove(t),this.polygonsById.delete(r),this.bboxesById.delete(r),this.itemsById.delete(r))}clear(){this.rbush.clear()}search(r,t,o,l){return this.rbush.search({minX:r,minY:t,maxX:o,maxY:l})}getBbox(r){return this.bboxesById.get(r)}getPolygon(r){return this.polygonsById.get(r)}searchFromBbox(r){const[t,o,l,u]=r;return this.search(t,o,l,u).map(d=>d.id)}searchFromPoint(r,t=Nj){const[o,l,u,d]=[r[0],r[1],r[0],r[1]],p=this.search(o,l,u,d);return t?p.filter(m=>{const v=this.polygonsById.get(m.id);return v?Oj(r,v):!1}).map(m=>m.id):p.map(m=>m.id)}}class Fj extends EventTarget{constructor(r,t){super(),this.warpedMapsById=new Map,this.zIndices=new Map,t=Object.assign({createRTree:!0},t),this.imageInfoCache=r,t.createRTree&&(this.rtree=new Dj)}getMaps(){return this.warpedMapsById.keys()}getWarpedMaps(r){if(r===void 0)return this.warpedMapsById.values();{const t=[];for(const o of r){const l=this.warpedMapsById.get(o);l&&t.push(l)}return t}}getWarpedMap(r){return this.warpedMapsById.get(r)}getMapZIndex(r){return this.zIndices.get(r)}getTotalBbox(){let r;for(const t of this.getWarpedMaps())t.visible&&(r?r=PT(r,t.geoMaskBbox):r=t.geoMaskBbox);return r}getTotalProjectedGeoMaskBbox(){let r;for(const t of this.getWarpedMaps())t.visible&&(r?r=PT(r,t.projectedGeoMaskBbox):r=t.projectedGeoMaskBbox);return r}getMapsByGeoBbox(r){return this.rtree?this.rtree.searchFromBbox(r):Array.from(this.warpedMapsById.keys())}setImageInfoCache(r){this.imageInfoCache=r}setMapResourceMask(r,t){const o=this.warpedMapsById.get(r);o&&(o.setResourceMask(t),this.addToOrUpdateRtree(o),this.dispatchEvent(new Wr(Se.RESOURCEMASKUPDATED,r)))}setMapsTransformationType(r,t){for(const o of r){const l=this.warpedMapsById.get(o);l&&(l.setTransformationType(t),this.addToOrUpdateRtree(l))}this.dispatchEvent(new Wr(Se.TRANSFORMATIONCHANGED,r))}bringMapsToFront(r){let t=this.warpedMapsById.size;for(const o of r)this.zIndices.has(o)&&(this.zIndices.set(o,t),t++);this.removeZIndexHoles(),this.dispatchEvent(new Wr(Se.ZINDICESCHANGES))}sendMapsToBack(r){let t=-Array.from(r).length;for(const o of r)this.zIndices.has(o)&&(this.zIndices.set(o,t),t++);this.removeZIndexHoles(),this.dispatchEvent(new Wr(Se.ZINDICESCHANGES))}bringMapsForward(r){for(const[t,o]of this.zIndices.entries())this.zIndices.set(t,o*2);for(const t of r){const o=this.zIndices.get(t);o!==void 0&&this.zIndices.set(t,o+3)}this.removeZIndexHoles(),this.dispatchEvent(new Wr(Se.ZINDICESCHANGES))}sendMapsBackward(r){for(const[t,o]of this.zIndices.entries())this.zIndices.set(t,o*2);for(const t of r){const o=this.zIndices.get(t);o!==void 0&&this.zIndices.set(t,o-3)}this.removeZIndexHoles(),this.dispatchEvent(new Wr(Se.ZINDICESCHANGES))}showMaps(r){for(const t of r){const o=this.warpedMapsById.get(t);o&&(o.visible=!0)}this.dispatchEvent(new Wr(Se.VISIBILITYCHANGED,r))}hideMaps(r){for(const t of r){const o=this.warpedMapsById.get(t);o&&(o.visible=!1)}this.dispatchEvent(new Wr(Se.VISIBILITYCHANGED,r))}async addGeoreferencedMap(r){const t=WT(r),o=Array.isArray(t)?t[0]:t;return this.addGeoreferencedMapInternal(o)}async removeGeoreferencedMap(r){const t=WT(r),o=Array.isArray(t)?t[0]:t;return this.removeGeoreferencedMapInternal(o)}async addGeoreferenceAnnotation(r){const t=[],o=B1(r),l=await Promise.allSettled(o.map(u=>this.addGeoreferencedMapInternal(u)));for(const u of l)u.status==="fulfilled"?t.push(u.value):t.push(u.reason);return this.dispatchEvent(new Wr(Se.GEOREFERENCEANNOTATIONADDED)),this.dispatchEvent(new Wr(Se.ZINDICESCHANGES)),t}async removeGeoreferenceAnnotation(r){const t=[],o=B1(r);for(const l of o){const u=await this.removeGeoreferencedMapInternal(l);t.push(u)}return this.dispatchEvent(new Wr(Se.GEOREFERENCEANNOTATIONREMOVED)),t}clear(){var r;this.warpedMapsById=new Map,this.zIndices=new Map,(r=this.rtree)==null||r.clear(),this.dispatchEvent(new Wr(Se.CLEARED))}dispose(){for(const r of this.getWarpedMaps())this.removeEventListenersFromWarpedMap(r),r.dispose()}async addGeoreferencedMapInternal(r){const t=await this.getOrComputeMapId(r),o=new G7(t,r,this.imageInfoCache);return this.warpedMapsById.set(t,o),this.zIndices.set(t,this.warpedMapsById.size-1),this.addToOrUpdateRtree(o),this.addEventListenersToWarpedMap(o),this.dispatchEvent(new Wr(Se.WARPEDMAPADDED,t)),t}async removeGeoreferencedMapInternal(r){const t=await this.getOrComputeMapId(r),o=this.warpedMapsById.get(t);if(o)this.warpedMapsById.delete(t),this.zIndices.delete(t),this.removeFromRtree(o),this.dispatchEvent(new Wr(Se.WARPEDMAPREMOVED,t)),this.removeZIndexHoles(),this.dispatchEvent(new Wr(Se.ZINDICESCHANGES));else throw new Error(`No map found with ID ${t}`);return t}async getOrComputeMapId(r){return r.id||await d8(r)}addToOrUpdateRtree(r){this.rtree&&(this.rtree.removeItem(r.mapId),this.rtree.addItem(r.mapId,r.geoMask))}removeFromRtree(r){this.rtree&&this.rtree.removeItem(r.mapId)}removeZIndexHoles(){const r=[...this.zIndices.entries()].sort((o,l)=>o[1]-l[1]);let t=0;for(const o of r){const l=o[0];this.zIndices.set(l,t),t++}}imageInfoLoaded(){this.dispatchEvent(new Wr(Se.IMAGEINFOLOADED))}addEventListenersToWarpedMap(r){r.addEventListener(Se.IMAGEINFOLOADED,this.imageInfoLoaded.bind(this))}removeEventListenersFromWarpedMap(r){r.removeEventListener(Se.IMAGEINFOLOADED,this.imageInfoLoaded.bind(this))}}class Bj extends EventTarget{constructor(r,t,o,l,u=1){super(),this.projectedGeoToViewportTransform=[1,0,0,1,0,0],this.projectedGeoToClipTransform=[1,0,0,1,0,0],this.projectedGeoCenter=r,this.projectedGeoPerViewportScale=l,this.rotation=o,this.viewportSize=t,this.devicePixelRatio=u,this.projectedGeoRectangle=this.computeProjectedGeoRectangle(this.projectedGeoCenter,this.projectedGeoPerViewportScale,this.rotation,this.viewportSize),this.projectedGeoBbox=Vn(this.projectedGeoRectangle),this.projectedGeoSize=[this.viewportSize[0]*l,this.viewportSize[1]*l],this.geoCenter=LT(this.projectedGeoCenter),this.geoRectangle=this.projectedGeoRectangle.map(d=>LT(d)),this.geoBbox=Vn(this.geoRectangle),this.geoSize=sy(this.geoBbox),this.viewportCenter=[this.viewportSize[0]/2,this.viewportSize[1]/2],this.viewportBbox=[0,0,...this.viewportSize],this.viewportRectangle=Jg(this.viewportBbox),this.canvasCenter=[this.viewportCenter[0]*this.devicePixelRatio,this.viewportSize[1]*this.devicePixelRatio],this.canvasSize=[this.viewportSize[0]*this.devicePixelRatio,this.viewportSize[1]*this.devicePixelRatio],this.canvasBbox=[0,0,...this.canvasSize],this.canvasRectangle=Jg(this.canvasBbox),this.projectedGeoPerCanvasScale=this.projectedGeoPerViewportScale/this.devicePixelRatio,this.projectedGeoToViewportTransform=this.composeProjectedGeoToViewportTransform(),this.projectedGeoToClipTransform=this.composeProjectedGeoToClipTransform()}composeProjectedGeoToViewportTransform(){return jT(this.viewportSize[0]/2,this.viewportSize[1]/2,1/this.projectedGeoPerViewportScale,-1/this.projectedGeoPerViewportScale,-this.rotation,-this.projectedGeoCenter[0],-this.projectedGeoCenter[1])}composeProjectedGeoToClipTransform(){return jT(0,0,2/(this.projectedGeoPerViewportScale*this.viewportSize[0]),2/(this.projectedGeoPerViewportScale*this.viewportSize[1]),-this.rotation,-this.projectedGeoCenter[0],-this.projectedGeoCenter[1])}computeProjectedGeoRectangle(r,t,o,l){const u=t*l[0]/2,d=t*l[1]/2,p=Math.cos(o),m=Math.sin(o),v=u*p,x=u*m,k=d*p,C=d*m,M=r[0],I=r[1];return[[M-v+C,I-x-k],[M-v-C,I-x+k],[M+v-C,I+x+k],[M+v+C,I+x-k]]}}class jj extends EventTarget{constructor(r){super(),this.tile=r.tile,this.imageRequest=r.imageRequest,this.tileUrl=r.tileUrl,this.abortController=new AbortController}async fetch(){try{const r=await $F(this.tileUrl,this.abortController.signal);return this.imageBitmap=await createImageBitmap(r),this.dispatchEvent(new Wr(Se.TILEFETCHED,this.tileUrl)),this.imageBitmap}catch(r){r instanceof Error&&r.name==="AbortError"||this.dispatchEvent(new Wr(Se.TILEFETCHERROR,this.tileUrl))}}isCachedTile(){return this.imageBitmap!==void 0}abort(){this.abortController.signal.aborted||this.abortController.abort()}}const Hj=.75;function IM(i,r){return`${i}:${r}`}function LM(i){return IM(i.mapId,i.tileUrl)}function Ww(i){return new Set(i.map(r=>LM(r)))}function Uj(i,r,t={maxOffsetRatio:1e-5,maxDepth:2}){const o=cB(r)[0];return i.transformBackward(o,t)}function Gj(i,r,t=Hj){let o=Number.POSITIVE_INFINITY,l=i.tileZoomLevels.at(-1);for(const u of i.tileZoomLevels){const d=Math.abs(Math.log(u.scaleFactor)-(Math.log(r)-Math.log(t)));d<o&&(o=d,l=u)}return l}function qj(i,r,t){const o=Vj(i,r),l=Wj(o),u=Yj(l,t,r),d=L1(Vn(i));return u.sort((p,m)=>XT(p,d)-XT(m,d)),u}function Vj(i,r){return i.map(t=>[t[0]/r.originalWidth,t[1]/r.originalHeight])}function Wj(i){const r={};for(let t=0;t<i.length;t++){const o=[i[t],i[(t+1)%i.length]];Zj(o).forEach(([l,u])=>{r[l]||(r[l]=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]),u<r[l][0]&&(r[l][0]=u),u>r[l][1]&&(r[l][1]=u)})}return r}function Zj([i,r]){let t=Math.floor(i[0]),o=Math.floor(i[1]);const l=Math.floor(r[0]),u=Math.floor(r[1]),d=[[t,o]];if(t===l&&o===u)return d;const p=Math.sign(r[0]-i[0]),m=Math.sign(r[1]-i[1]),v=Math.abs(i[0]-t-Math.max(0,p)),x=Math.abs(i[1]-o-Math.max(0,m)),k=Math.abs(i[0]-r[0]),C=Math.abs(i[1]-r[1]);let M=v/k,I=x/C;const D=1/k,j=1/C;for(;!(t===l&&o===u);)M<I?(M=M+D,t=t+p):(I=I+j,o=o+m),d.push([t,o]);return d}function Yj(i,r,t){const o=[];for(const l in i){const u=parseInt(l);if(u<0||u>=t.columns)break;const d=Math.max(i[u][0],0),p=Math.min(i[u][1],t.rows-1);for(let m=d;m<=p;m++)o.push({column:u,row:m,tileZoomLevel:t,imageSize:[r.width,r.height]})}return o}function Xj(i){var r,t;return(((r=i.imageRequest.size)==null?void 0:r.height)||0)*(((t=i.imageRequest.size)==null?void 0:t.width)||0)*3}function XT(i,r){return lc(Kj(i),r)}function Kj(i){const r=AM(i);return[(r[2]-r[0])/2+r[0],(r[3]-r[1])/2+r[1]]}function Jj(i){const r=i.column*i.tileZoomLevel.originalWidth,t=i.row*i.tileZoomLevel.originalHeight;return[r,t]}function AM(i){const r=Jj(i),t=Math.min(r[0]+i.tileZoomLevel.originalWidth,i.imageSize[0]),o=Math.min(r[1]+i.tileZoomLevel.originalHeight,i.imageSize[1]);return[r[0],r[1],t,o]}const Qj=50,$j=32*1e3*1e3;class tH extends EventTarget{constructor(){super(...arguments),this.tilesByTileUrl=new Map,this.mapIdsByTileUrl=new Map,this.tileUrlsByMapId=new Map,this.tilesFetchingCount=0,this.previousRequestedTiles=[],this.outgoingTilesHistory=[]}getCacheableTile(r){return this.tilesByTileUrl.get(r)}getCachedTile(r){const t=this.tilesByTileUrl.get(r);if(t&&t.isCachedTile())return t}getCacheableTiles(){return this.tilesByTileUrl.values()}getCachedTiles(){const r=Array.from(this.tilesByTileUrl.values()),t=[];return r.forEach(o=>{o.isCachedTile()&&t.push(o)}),t}getTileUrls(){return this.tilesByTileUrl.keys()}requestFetcableMapTiles(r){const t=Ww(this.previousRequestedTiles),o=Ww(r);if(pB(t,o))return;const l=[];for(const p of this.previousRequestedTiles)o.has(LM(p))||l.push(p);this.updateOutgoingTilesHistory(l,r.length);const u=Ww(this.outgoingTilesHistory),d=new Set([...o,...u]);for(const[p,m]of this.mapIdsByTileUrl)for(const v of m)d.has(IM(v,p))||this.removeMapTile(v,p);for(const p of r)this.addMapTile(p);this.previousRequestedTiles=r}clear(){this.tilesByTileUrl=new Map,this.mapIdsByTileUrl=new Map,this.tileUrlsByMapId=new Map,this.tilesFetchingCount=0,this.outgoingTilesHistory=[]}dispose(){for(const r of this.getCacheableTiles())this.removeEventListenersFromTile(r)}addMapTile(r){const t=r.mapId,o=r.tileUrl;if(this.tilesByTileUrl.has(o))this.dispatchEvent(new Wr(Se.MAPTILELOADED,{mapId:t,tileUrl:o}));else{const l=new jj(r);this.addEventListenersToTile(l),this.tilesByTileUrl.set(o,l),this.updateTilesFetchingCount(1),l.fetch()}this.addTileUrlForMapId(t,o),this.addMapIdForTileUrl(t,o)}removeMapTile(r,t){const o=this.tilesByTileUrl.get(t);if(!o)return;const l=this.removeMapIdForTileUrl(r,t);this.removeTileUrlForMapId(r,t),l.size||(o.isCachedTile()||(o.abort(),this.updateTilesFetchingCount(-1)),this.tilesByTileUrl.delete(t)),this.dispatchEvent(new Wr(Se.MAPTILEREMOVED,{mapId:r,tileUrl:t}))}updateOutgoingTilesHistory(r,t){for(let d=r.length-1;d>=0;d--){const p=r[d];this.outgoingTilesHistory.unshift(p)}this.outgoingTilesHistory=Array.from(new Set(this.outgoingTilesHistory));let o=0,l=0,u=0;for(const d of this.outgoingTilesHistory){if(o+=1,u=Xj(d),l+=u,o+t>Qj){o-=1,l-=u;break}if(l>$j){o-=1,l-=u;break}}this.outgoingTilesHistory=this.outgoingTilesHistory.slice(0,o)}tileFetched(r){var t;if(r instanceof Wr){const o=r.data;this.updateTilesFetchingCount(-1);for(const l of this.mapIdsByTileUrl.get(o)||[])this.dispatchEvent(new Wr(Se.MAPTILELOADED,{mapId:l,tileUrl:o})),((t=this.tileUrlsByMapId.get(l))==null?void 0:t.values().next().value)===o&&this.dispatchEvent(new Wr(Se.FIRSTMAPTILELOADED,{mapId:l,tileUrl:o}))}}tileFetchError(r){if(r instanceof Wr){const t=r.data;this.tilesByTileUrl.has(t)||(this.updateTilesFetchingCount(-1),this.tilesByTileUrl.delete(t))}}addMapIdForTileUrl(r,t){let o=this.mapIdsByTileUrl.get(t);return o?o.add(r):o=new Set([r]),this.mapIdsByTileUrl.set(t,o),o}removeMapIdForTileUrl(r,t){const o=this.mapIdsByTileUrl.get(t);if(o)o.delete(r);else return new Set;return o.size?this.mapIdsByTileUrl.set(t,o):this.mapIdsByTileUrl.delete(t),o}addTileUrlForMapId(r,t){let o=this.tileUrlsByMapId.get(r);return o?o.add(t):o=new Set([t]),this.tileUrlsByMapId.set(r,o),o}removeTileUrlForMapId(r,t){const o=this.tileUrlsByMapId.get(r);return o?(o.delete(t),o.size?this.tileUrlsByMapId.set(r,o):this.tileUrlsByMapId.delete(r),o):new Set}updateTilesFetchingCount(r){this.tilesFetchingCount+=r,this.tilesFetchingCount===0&&this.dispatchEvent(new Wr(Se.ALLREQUESTEDTILESLOADED))}addEventListenersToTile(r){r.addEventListener(Se.TILEFETCHED,this.tileFetched.bind(this)),r.addEventListener(Se.TILEFETCHERROR,this.tileFetchError.bind(this))}removeEventListenersFromTile(r){r.removeEventListener(Se.TILEFETCHED,this.tileFetched.bind(this)),r.removeEventListener(Se.TILEFETCHERROR,this.tileFetchError.bind(this))}}class eH{constructor(r,t){this.mapId=t.mapId,this.tile=r;const o=t.parsedImage.getIiifTile(r.tileZoomLevel,r.column,r.row);this.imageRequest=o;const l=t.parsedImage.getImageUrl(o);this.tileUrl=l}}var rH=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis;const iH=rH;var nH=typeof self=="object"&&self&&self.Object===Object&&self,oH=iH||nH||Function("return this")();const RM=oH;var sH=RM.Symbol;const uy=sH;var OM=Object.prototype,aH=OM.hasOwnProperty,lH=OM.toString,sg=uy?uy.toStringTag:void 0;function cH(i){var r=aH.call(i,sg),t=i[sg];try{i[sg]=void 0;var o=!0}catch{}var l=lH.call(i);return o&&(r?i[sg]=t:delete i[sg]),l}var uH=Object.prototype,hH=uH.toString;function dH(i){return hH.call(i)}var pH="[object Null]",fH="[object Undefined]",KT=uy?uy.toStringTag:void 0;function gH(i){return i==null?i===void 0?fH:pH:KT&&KT in Object(i)?cH(i):dH(i)}function mH(i){return i!=null&&typeof i=="object"}var vH="[object Symbol]";function yH(i){return typeof i=="symbol"||mH(i)&&gH(i)==vH}var bH=/\s/;function wH(i){for(var r=i.length;r--&&bH.test(i.charAt(r)););return r}var xH=/^\s+/;function _H(i){return i&&i.slice(0,wH(i)+1).replace(xH,"")}function hy(i){var r=typeof i;return i!=null&&(r=="object"||r=="function")}var JT=0/0,kH=/^[-+]0x[0-9a-f]+$/i,EH=/^0b[01]+$/i,TH=/^0o[0-7]+$/i,SH=parseInt;function QT(i){if(typeof i=="number")return i;if(yH(i))return JT;if(hy(i)){var r=typeof i.valueOf=="function"?i.valueOf():i;i=hy(r)?r+"":r}if(typeof i!="string")return i===0?i:+i;i=_H(i);var t=EH.test(i);return t||TH.test(i)?SH(i.slice(2),t?2:8):kH.test(i)?JT:+i}var CH=function(){return RM.Date.now()};const Zw=CH;var PH="Expected a function",MH=Math.max,IH=Math.min;function LH(i,r,t){var o,l,u,d,p,m,v=0,x=!1,k=!1,C=!0;if(typeof i!="function")throw new TypeError(PH);r=QT(r)||0,hy(t)&&(x=!!t.leading,k="maxWait"in t,u=k?MH(QT(t.maxWait)||0,r):u,C="trailing"in t?!!t.trailing:C);function M(mt){var gt=o,ot=l;return o=l=void 0,v=mt,d=i.apply(ot,gt),d}function I(mt){return v=mt,p=setTimeout(H,r),x?M(mt):d}function D(mt){var gt=mt-m,ot=mt-v,U=r-gt;return k?IH(U,u-ot):U}function j(mt){var gt=mt-m,ot=mt-v;return m===void 0||gt>=r||gt<0||k&&ot>=u}function H(){var mt=Zw();if(j(mt))return J(mt);p=setTimeout(H,D(mt))}function J(mt){return p=void 0,C&&o?M(mt):(o=l=void 0,d)}function q(){p!==void 0&&clearTimeout(p),v=0,o=m=l=p=void 0}function W(){return p===void 0?d:J(Zw())}function st(){var mt=Zw(),gt=j(mt);if(o=arguments,l=this,m=mt,gt){if(p===void 0)return I(m);if(k)return clearTimeout(p),p=setTimeout(H,r),M(m)}return p===void 0&&(p=setTimeout(H,r)),d}return st.cancel=q,st.flush=W,st}var AH="Expected a function";function j1(i,r,t){var o=!0,l=!0;if(typeof i!="function")throw new TypeError(AH);return hy(t)&&(o="leading"in t?!!t.leading:o,l="trailing"in t?!!t.trailing:l),LH(i,r,{leading:o,maxWait:r,trailing:l})}function RH(i){let r=0,t=0;for(const d of i)r+=d.w*d.h,t=Math.max(t,d.w);i.sort((d,p)=>p.h-d.h);const o=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(r/.95)),t),h:1/0}];let l=0,u=0;for(const d of i)for(let p=o.length-1;p>=0;p--){const m=o[p];if(!(d.w>m.w||d.h>m.h)){if(d.x=m.x,d.y=m.y,u=Math.max(u,d.y+d.h),l=Math.max(l,d.x+d.w),d.w===m.w&&d.h===m.h){const v=o.pop();p<o.length&&(o[p]=v)}else d.h===m.h?(m.x+=d.w,m.w-=d.w):d.w===m.w?(m.y+=d.h,m.h-=d.h):(o.push({x:m.x+d.w,y:m.y,w:m.w-d.w,h:d.h}),m.y+=d.h,m.h-=d.h);break}}return{w:l,h:u,fill:r/(l*u)||0}}function $T(i,r,t){const o=i.createShader(r);if(o){if(i.shaderSource(o,t),i.compileShader(o),i.getShaderParameter(o,i.COMPILE_STATUS))return o;{const l=i.getShaderInfoLog(o);throw i.deleteShader(o),new Error("Failed to compile shader: "+l)}}else throw new Error("Failed to create shader")}function OH(i,r,t){const o=i.createProgram();if(o){if(i.attachShader(o,r),i.attachShader(o,t),i.linkProgram(o),i.getProgramParameter(o,i.LINK_STATUS))return o;{const l=i.getProgramInfoLog(o);throw i.deleteProgram(o),new Error("Failed to link program: "+l)}}else throw new Error("Failed to create program")}function dv(i,r,t,o,l){const u=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,u),i.bufferData(i.ARRAY_BUFFER,t,i.STATIC_DRAW);const d=i.FLOAT,p=!1,m=0,v=0,x=i.getAttribLocation(r,l);i.vertexAttribPointer(x,o,d,p,m,v),i.enableVertexAttribArray(x)}const zH=250,NH={leading:!0,trailing:!0},DH=1,FH=1;class BH extends EventTarget{constructor(r,t,o){super(),this.CachedTilesByTileUrl=new Map,this.opacity=DH,this.saturation=FH,this.renderOptions={},this.warpedMap=o,this.gl=r,this.program=t,this.vao=r.createVertexArray(),this.packedTilesTexture=r.createTexture(),this.packedTilesScaleFactorsTexture=r.createTexture(),this.packedTilesPositionsTexture=r.createTexture(),this.packedTilesResourcePositionsAndDimensionsTexture=r.createTexture(),this.throttledUpdateTextures=j1(this.updateTextures.bind(this),zH,NH)}updateVertexBuffers(r){this.projectedGeoToClipTransform=r,this.updateVertexBuffersInternal()}addCachedTileAndUpdateTextures(r){this.CachedTilesByTileUrl.set(r.tileUrl,r),this.throttledUpdateTextures()}removeCachedTileAndUpdateTextures(r){this.CachedTilesByTileUrl.delete(r),this.throttledUpdateTextures()}dispose(){this.gl.deleteVertexArray(this.vao),this.gl.deleteTexture(this.packedTilesTexture),this.gl.deleteTexture(this.packedTilesScaleFactorsTexture),this.gl.deleteTexture(this.packedTilesPositionsTexture),this.gl.deleteTexture(this.packedTilesResourcePositionsAndDimensionsTexture)}updateVertexBuffersInternal(){if(!this.vao||!this.projectedGeoToClipTransform)return;this.gl.bindVertexArray(this.vao),dv(this.gl,this.program,new Float32Array(this.warpedMap.resourceTrianglePoints.flat()),2,"a_resourceTrianglePoint");const r=this.warpedMap.projectedGeoCurrentTrianglePoints.map(l=>np(this.projectedGeoToClipTransform,l));dv(this.gl,this.program,new Float32Array(r.flat()),2,"a_clipCurrentTrianglePoint");const t=this.warpedMap.projectedGeoNewTrianglePoints.map(l=>np(this.projectedGeoToClipTransform,l));dv(this.gl,this.program,new Float32Array(t.flat()),2,"a_clipNewTrianglePoint");let o=new Float32Array(this.warpedMap.resourceTrianglePoints.length);o=o.map((l,u)=>Math.round((u-1)/3)),dv(this.gl,this.program,o,1,"a_triangleIndex")}async updateTextures(){const r=this.gl;if(this.CachedTilesByTileUrl.size===0)return;let t=[...this.CachedTilesByTileUrl.values()];t=t.filter(x=>this.warpedMap.resourceViewportRingBbox?lB(AM(x.tile),this.warpedMap.resourceViewportRingBbox):!0);const o=t.length,l=t.map((x,k)=>({w:x.imageBitmap.width,h:x.imageBitmap.height,x:0,y:0,index:k})),{w:u,h:d}=RH(l);r.pixelStorei(r.UNPACK_ALIGNMENT,4),r.bindTexture(r.TEXTURE_2D,this.packedTilesTexture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,u,d,0,r.RGBA,r.UNSIGNED_BYTE,null);for(const x of l){const k=t[x.index].imageBitmap;r.texSubImage2D(r.TEXTURE_2D,0,x.x,x.y,k.width,k.height,r.RGBA,r.UNSIGNED_BYTE,k)}r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE);const p=l.map(x=>[x.x,x.y]);r.bindTexture(r.TEXTURE_2D,this.packedTilesPositionsTexture),r.texImage2D(r.TEXTURE_2D,0,r.RG32I,1,o,0,r.RG_INTEGER,r.INT,new Int32Array(p.flat())),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE);const m=l.map(x=>{const k=t[x.index];if(k&&k.imageRequest&&k.imageRequest.region)return[k.imageRequest.region.x,k.imageRequest.region.y,k.imageRequest.region.width,k.imageRequest.region.height]});r.bindTexture(r.TEXTURE_2D,this.packedTilesResourcePositionsAndDimensionsTexture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA32I,1,o,0,r.RGBA_INTEGER,r.INT,new Int32Array(m.flat())),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE);const v=l.map(({index:x})=>t[x].tile.tileZoomLevel.scaleFactor);r.bindTexture(r.TEXTURE_2D,this.packedTilesScaleFactorsTexture),r.texImage2D(r.TEXTURE_2D,0,r.R32I,1,o,0,r.RED_INTEGER,r.INT,new Int32Array(v)),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),this.dispatchEvent(new Wr(Se.TEXTURESUPDATED))}}const jH=`#version 300 es

precision highp float;

uniform mat4 u_renderTransform;

uniform float u_animationProgress;

in vec2 a_clipCurrentTrianglePoint;
in vec2 a_clipNewTrianglePoint;
in vec2 a_resourceTrianglePoint;
in float a_triangleIndex;

out vec2 v_resourceTrianglePoint;
out float v_triangleIndex;

float cubicInOut(float t) {
  return t < 0.5f ? 4.0f * t * t * t : 0.5f * pow(2.0f * t - 2.0f, 3.0f) + 1.0f;
}

void main() {
  // Pass attributes as varyings to fragment shader
  v_resourceTrianglePoint = a_resourceTrianglePoint;
  v_triangleIndex = a_triangleIndex;

  // Compute triangle vertex coordinates by mixing current and new
  vec2 clipTrianglePoint = mix(a_clipCurrentTrianglePoint, a_clipNewTrianglePoint, cubicInOut(u_animationProgress));

  // Set triangle points coordinates
  // Variables that start with gl_ are special globalThis variables
  // gl_Position stores the vertex (or 'point') positions (or 'coordinates') in clip coordinates (which go from -1 to 1.)

  gl_Position = u_renderTransform * vec4(clipTrianglePoint, 0.0f, 1.0f);
}
`,HH=`#version 300 es

precision highp float;
precision highp isampler2D;

uniform bool u_removeColor;
uniform vec3 u_removeColorOptionsColor;
uniform float u_removeColorOptionsThreshold;
uniform float u_removeColorOptionsHardness;

uniform bool u_colorize;
uniform vec3 u_colorizeOptionsColor;

uniform float u_opacity;
uniform float u_saturation;

uniform int u_bestScaleFactor;

uniform sampler2D u_packedTilesTexture;
uniform isampler2D u_packedTilesPositionsTexture;
uniform isampler2D u_packedTilesResourcePositionsAndDimensionsTexture;
uniform isampler2D u_packedTilesScaleFactorsTexture;

in vec2 v_resourceTrianglePoint;
in float v_triangleIndex;

out vec4 color;

void main() {
  // The treated triangle point
  int resourceTrianglePointX = int(round(v_resourceTrianglePoint.x));
  int resourceTrianglePointY = int(round(v_resourceTrianglePoint.y));

  // Reading information on packed tiles from textures
  int packedTilesCount = textureSize(u_packedTilesPositionsTexture, 0).y;
  ivec2 packedTilesTextureSize = textureSize(u_packedTilesTexture, 0);

  // Setting references for the for loop
  int smallestScaleFactorDiff = 256 * 256; // Starting with very high number
  int bestScaleFactor = 0;

  // Prepare storage for the resulting packed tiles texture point that corresponds to the treated triangle point
  vec2 packedTilesTexturePoint = vec2(0.0f, 0.0f);

  color = vec4(0.0f, 0.0f, 0.0f, 0.0f);

  bool found = false;

  // Loop through all packed tiles
  for(int index = 0; index < packedTilesCount; index += 1) {

    // Read the information of the tile
    ivec2 packedTilePosition = texelFetch(u_packedTilesPositionsTexture, ivec2(0, index), 0).rg;
    ivec4 packedTileResourcePositionAndDimension = texelFetch(u_packedTilesResourcePositionsAndDimensionsTexture, ivec2(0, index), 0);
    int packedTileScaleFactor = texelFetch(u_packedTilesScaleFactorsTexture, ivec2(0, index), 0).r;

    float packedTilePositionX = float(packedTilePosition.r);
    float packedTilePositionY = float(packedTilePosition.g);

    int packedTileResourcePositionX = packedTileResourcePositionAndDimension.r;
    int packedTileResourcePositionY = packedTileResourcePositionAndDimension.g;

    int packedTileDimensionWidth = packedTileResourcePositionAndDimension.b;
    int packedTileDimensionHeight = packedTileResourcePositionAndDimension.a;

    // If the treated triangle point is inside the tile, consider to use the tile:
    // if the scale factor is closer to the best scale factor for this map then currently known one
    // update the smallest scale factor diff
    // and compute the packed tiles texture point that corresponds to the treated triangle point
    if(resourceTrianglePointX >= packedTileResourcePositionX &&
      resourceTrianglePointX < packedTileResourcePositionX + packedTileDimensionWidth &&
      resourceTrianglePointY >= packedTileResourcePositionY &&
      resourceTrianglePointY < packedTileResourcePositionY + packedTileDimensionHeight) {
      found = true;

      int scaleFactorDiff = abs(u_bestScaleFactor - packedTileScaleFactor);

      if(scaleFactorDiff < smallestScaleFactorDiff || bestScaleFactor == 0) {

        smallestScaleFactorDiff = scaleFactorDiff;
        bestScaleFactor = packedTileScaleFactor;

        float packedTilePointX = float(resourceTrianglePointX - packedTileResourcePositionX) / float(bestScaleFactor);
        float packedTilePointY = float(resourceTrianglePointY - packedTileResourcePositionY) / float(bestScaleFactor);

        float packedTilesPointX = packedTilePositionX + packedTilePointX;
        float packedTilesPointY = packedTilePositionY + packedTilePointY;

        float packedTilesTexturePointX = round(packedTilesPointX) / float(packedTilesTextureSize.x);
        float packedTilesTexturePointY = round(packedTilesPointY) / float(packedTilesTextureSize.y);

        packedTilesTexturePoint = vec2(packedTilesTexturePointX, packedTilesTexturePointY);
      }
    }
  }

  if(found == true) {
    // Read color of the treated point at it's packed tiles texture point coordinates in the packed tiles texture
    color = texture(u_packedTilesTexture, packedTilesTexturePoint);

    // Remove background color
    if(u_removeColorOptionsThreshold > 0.0f) {
      vec3 backgroundColorDiff = color.rgb - u_removeColorOptionsColor.rgb;
      float backgroundColorDistance = length(backgroundColorDiff);
      if(u_removeColor && backgroundColorDistance < u_removeColorOptionsThreshold) {
        float amount = smoothstep(u_removeColorOptionsThreshold - u_removeColorOptionsThreshold * (1.0f - u_removeColorOptionsHardness), u_removeColorOptionsThreshold, backgroundColorDistance);
        color = vec4(color.rgb * amount, amount);
      }
    }

    // Saturation
    float gray = 0.21f * color.r + 0.71f * color.g + 0.07f * color.b;
    color = vec4(color.rgb * (u_saturation) + (gray * (1.0f - u_saturation)), color.a);

    // Colorize
    if(u_colorize) {
      color = vec4((u_colorizeOptionsColor + color.rgb) * color.a, color.a);
    }

    // Opacity
    color = vec4(color.rgb * u_opacity, color.a * u_opacity);

    // Debugging: uncomment to override color of the treated point with a color made from the point's triangle index
    // vec4 debugColor = vec4(abs(sin(v_triangleIndex)), abs(sin(v_triangleIndex + 1.0f)), abs(sin(v_triangleIndex + 2.0f)), 1);
    // color = debugColor;
  }
}
`,UH=500,GH={leading:!0,trailing:!0},qH=50,VH={leading:!0,trailing:!0},Yw=1,Xw=1,WH=0,ZH=.7,YH=5,XH=5,tS=750;class KH extends EventTarget{constructor(r,t){super(),this.webgl2WarpedMapsById=new Map,this.tileCache=new tH,this.mapsInViewport=new Set,this.opacity=Yw,this.saturation=Xw,this.renderOptions={},this.animating=!1,this.animationProgress=1,this.warpedMapList=t,this.gl=r;const o=$T(r,r.VERTEX_SHADER,jH),l=$T(r,r.FRAGMENT_SHADER,HH);this.program=OH(r,o,l),r.deleteShader(o),r.deleteShader(l),r.disable(r.DEPTH_TEST),this.invertedRenderTransform=D7(),this.addEventListeners(),this.throttledPrepareRenderInternal=j1(this.prepareRenderInternal.bind(this),UH,GH),this.throttledChanged=j1(this.changed.bind(this),qH,VH)}getOpacity(){return this.opacity}setOpacity(r){this.opacity=r}resetOpacity(){this.opacity=Yw}getMapOpacity(r){const t=this.webgl2WarpedMapsById.get(r);if(t)return t.opacity}setMapOpacity(r,t){const o=this.webgl2WarpedMapsById.get(r);o&&(o.opacity=Math.min(Math.max(t,0),1))}resetMapOpacity(r){const t=this.webgl2WarpedMapsById.get(r);t&&(t.opacity=Yw)}getRemoveColorOptions(){return this.renderOptions.removeColorOptions}setRemoveColorOptions(r){this.renderOptions.removeColorOptions=r}resetRemoveColorOptions(){this.renderOptions.removeColorOptions=void 0}getMapRemoveColorOptions(r){const t=this.webgl2WarpedMapsById.get(r);if(t)return t.renderOptions.removeColorOptions}setMapRemoveColorOptions(r,t){const o=this.webgl2WarpedMapsById.get(r);o&&(o.renderOptions.removeColorOptions=t)}resetMapRemoveColorOptions(r){const t=this.webgl2WarpedMapsById.get(r);t&&(t.renderOptions.removeColorOptions=void 0)}getColorizeOptions(){return this.renderOptions.colorizeOptions}setColorizeOptions(r){this.renderOptions.colorizeOptions=r}resetColorizeOptions(){this.renderOptions.colorizeOptions=void 0}getMapColorizeOptions(r){const t=this.webgl2WarpedMapsById.get(r);if(t)return t.renderOptions.colorizeOptions}setMapColorizeOptions(r,t){const o=this.webgl2WarpedMapsById.get(r);o&&(o.renderOptions.colorizeOptions=t)}resetMapColorizeOptions(r){const t=this.webgl2WarpedMapsById.get(r);t&&(t.renderOptions.colorizeOptions=void 0)}getSaturation(){return this.saturation}setSaturation(r){this.saturation=r}resetSaturation(){this.saturation=Xw}getMapSaturation(r){const t=this.webgl2WarpedMapsById.get(r);if(t)return t.saturation}setMapSaturation(r,t){const o=this.webgl2WarpedMapsById.get(r);o&&(o.saturation=t)}resetMapSaturation(r){const t=this.webgl2WarpedMapsById.get(r);t&&(t.saturation=Xw)}render(r){this.viewport=r,this.throttledPrepareRenderInternal(),this.renderInternal()}clear(){this.webgl2WarpedMapsById=new Map,this.mapsInViewport=new Set,this.gl.clear(this.gl.DEPTH_BUFFER_BIT|this.gl.COLOR_BUFFER_BIT),this.tileCache.clear()}dispose(){for(const r of this.webgl2WarpedMapsById.values())this.removeEventListenersFromWebGL2WarpedMap(r),r.dispose();this.tileCache.clear(),this.tileCache.dispose(),this.removeEventListeners(),this.gl.deleteProgram(this.program)}startTransformationTransition(){this.lastAnimationFrameRequestId!==void 0&&cancelAnimationFrame(this.lastAnimationFrameRequestId),this.animating=!0,this.transformationTransitionStart=void 0,this.lastAnimationFrameRequestId=requestAnimationFrame(this.transformationTransitionFrame.bind(this))}transformationTransitionFrame(r){if(this.transformationTransitionStart||(this.transformationTransitionStart=r),r-this.transformationTransitionStart<tS)this.animationProgress=(r-this.transformationTransitionStart)/tS,this.renderInternal(),this.lastAnimationFrameRequestId=requestAnimationFrame(this.transformationTransitionFrame.bind(this));else{for(const t of this.warpedMapList.getWarpedMaps())t.resetCurrentTrianglePoints();this.updateVertexBuffers(),this.animating=!1,this.animationProgress=0,this.transformationTransitionStart=void 0}}prepareRenderInternal(){this.updateRequestedTiles(),this.updateVertexBuffers()}updateVertexBuffers(){if(this.viewport){this.invertedRenderTransform=B7(this.viewport.projectedGeoToClipTransform);for(const r of this.mapsInViewport){const t=this.webgl2WarpedMapsById.get(r);if(!t)break;t.updateVertexBuffers(this.viewport.projectedGeoToClipTransform)}}}updateRequestedTiles(){if(!this.viewport||!this.viewportMovedSignificantly())return;const r=Array.from(this.warpedMapList.getMapsByGeoBbox(this.viewport.geoBbox)).sort((o,l)=>lc(L1(this.warpedMapList.getWarpedMap(o).geoMaskBbox),this.viewport.geoCenter)-lc(L1(this.warpedMapList.getWarpedMap(l).geoMaskBbox),this.viewport.geoCenter)),t=[];for(const o of r){const l=this.warpedMapList.getWarpedMap(o);if(!l||!l.visible)continue;if(!l.hasImageInfo()){l.loadImageInfo();continue}if(uB(l.getApproxViewportMaskBbox(this.viewport))<YH)continue;const u=Gj(l.parsedImage,l.getApproxResourceToCanvasScale(this.viewport));l.updateBestScaleFactor(u.scaleFactor);const d={maxDepth:0},p=Uj(l.projectedTransformer,this.viewport.projectedGeoBbox,d);l.setResourceViewportRing(p);const m=qj(p,u,l.parsedImage);for(const v of m)t.push(new eH(v,l))}this.tileCache.requestFetcableMapTiles(t),this.updateMapsInViewport(t)}viewportMovedSignificantly(){if(!this.viewport)return!1;if(this.previousSignificantViewport){const r=[];for(let o=0;o<4;o++)r.push(lc(this.previousSignificantViewport.projectedGeoRectangle[o],this.viewport.projectedGeoRectangle[o])/this.viewport.projectedGeoPerViewportScale);const t=Math.max(...r);return t==0?!0:t>XH?(this.previousSignificantViewport=this.viewport,!0):!1}else return this.previousSignificantViewport=this.viewport,!1}updateMapsInViewport(r){const t=Array.from(this.mapsInViewport),o=r.map(d=>d.mapId).filter((d,p,m)=>m.indexOf(d)===p);this.mapsInViewport=new Set(o.sort((d,p)=>{const m=this.warpedMapList.getMapZIndex(d),v=this.warpedMapList.getMapZIndex(p);return m!==void 0&&v!==void 0?m-v:0}));const l=o.filter(d=>!t.includes(d)),u=t.filter(d=>!o.includes(d));for(const d in l)this.dispatchEvent(new Wr(Se.WARPEDMAPENTER,d));for(const d in u)this.dispatchEvent(new Wr(Se.WARPEDMAPLEAVE,d))}renderInternal(){if(!this.viewport)return;const r=F7(this.viewport.projectedGeoToClipTransform,this.invertedRenderTransform),t=this.gl;t.viewport(0,0,t.canvas.width,t.canvas.height),t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.useProgram(this.program);const o=t.getUniformLocation(this.program,"u_renderTransform");t.uniformMatrix4fv(o,!1,H7(r));const l=t.getUniformLocation(this.program,"u_animationProgress");t.uniform1f(l,this.animationProgress);for(const u of this.mapsInViewport){const d=this.webgl2WarpedMapsById.get(u);if(!d)continue;this.setRenderOptionsUniforms(this.renderOptions,d.renderOptions);const p=t.getUniformLocation(this.program,"u_opacity");t.uniform1f(p,this.opacity*d.opacity);const m=t.getUniformLocation(this.program,"u_saturation");t.uniform1f(m,this.saturation*d.saturation);const v=t.getUniformLocation(this.program,"u_bestScaleFactor"),x=d.warpedMap.bestScaleFactor;t.uniform1i(v,x);const k=t.getUniformLocation(this.program,"u_packedTilesTexture");t.uniform1i(k,0),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,d.packedTilesTexture);const C=t.getUniformLocation(this.program,"u_packedTilesPositionsTexture");t.uniform1i(C,1),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,d.packedTilesPositionsTexture);const M=t.getUniformLocation(this.program,"u_packedTilesResourcePositionsAndDimensionsTexture");t.uniform1i(M,2),t.activeTexture(t.TEXTURE2),t.bindTexture(t.TEXTURE_2D,d.packedTilesResourcePositionsAndDimensionsTexture);const I=t.getUniformLocation(this.program,"u_packedTilesScaleFactorsTexture");t.uniform1i(I,3),t.activeTexture(t.TEXTURE3),t.bindTexture(t.TEXTURE_2D,d.packedTilesScaleFactorsTexture);const D=d.vao,j=d.warpedMap.resourceTrianglePoints.length,H=this.gl.TRIANGLES,J=0;t.bindVertexArray(D),t.drawArrays(H,J,j)}}setRenderOptionsUniforms(r,t){var v,x,k,C,M,I,D,j,H,J;const o=this.gl,l={removeColorOptions:{color:((v=t.removeColorOptions)==null?void 0:v.color)||((x=r.removeColorOptions)==null?void 0:x.color),hardness:IT((k=t.removeColorOptions)==null?void 0:k.hardness,(C=r.removeColorOptions)==null?void 0:C.hardness),threshold:IT((M=t.removeColorOptions)==null?void 0:M.threshold,(I=r.removeColorOptions)==null?void 0:I.threshold)},colorizeOptions:{...r.colorizeOptions,...t.colorizeOptions}},u=(D=l.removeColorOptions)==null?void 0:D.color,d=o.getUniformLocation(this.program,"u_removeColor");if(o.uniform1f(d,u?1:0),u){const q=o.getUniformLocation(this.program,"u_removeColorOptionsColor");o.uniform3fv(q,u);const W=o.getUniformLocation(this.program,"u_removeColorOptionsThreshold");o.uniform1f(W,((j=l.removeColorOptions)==null?void 0:j.threshold)||WH);const st=o.getUniformLocation(this.program,"u_removeColorOptionsHardness");o.uniform1f(st,((H=l.removeColorOptions)==null?void 0:H.hardness)||ZH)}const p=(J=l.colorizeOptions)==null?void 0:J.color,m=o.getUniformLocation(this.program,"u_colorize");if(o.uniform1f(m,p?1:0),p){const q=o.getUniformLocation(this.program,"u_colorizeOptionsColor");o.uniform3fv(q,p)}}changed(){this.dispatchEvent(new Wr(Se.CHANGED))}imageInfoLoaded(r){r instanceof Wr&&this.dispatchEvent(new Wr(Se.IMAGEINFOLOADED))}mapTileLoaded(r){if(r instanceof Wr){const{mapId:t,tileUrl:o}=r.data,l=this.tileCache.getCacheableTile(o);if(!l||!l.isCachedTile())return;const u=this.webgl2WarpedMapsById.get(t);if(!u)return;u.addCachedTileAndUpdateTextures(l)}}mapTileRemoved(r){if(r instanceof Wr){const{mapId:t,tileUrl:o}=r.data,l=this.webgl2WarpedMapsById.get(t);if(!l)return;l.removeCachedTileAndUpdateTextures(o)}}warpedMapAdded(r){if(r instanceof Wr){const t=r.data,o=this.warpedMapList.getWarpedMap(t);if(o){const l=new BH(this.gl,this.program,o);this.webgl2WarpedMapsById.set(o.mapId,l),this.addEventListenersToWebGL2WarpedMap(l)}}}transformationChanged(r){if(r instanceof Wr){const t=r.data;for(const o of this.warpedMapList.getWarpedMaps(t))this.animating&&o.mixProjectedGeoCurrentAndNewTrianglePoints(this.animationProgress),o.updateProjectedGeoTrianglePoints(!1);this.updateVertexBuffers(),this.startTransformationTransition()}}resourceMaskUpdated(r){if(r instanceof Wr){const t=r.data,o=this.warpedMapList.getWarpedMap(t);o&&(o.clearResourceTrianglePointsByBestScaleFactor(),o.updateTriangulation(!1))}}addEventListenersToWebGL2WarpedMap(r){r.addEventListener(Se.TEXTURESUPDATED,this.throttledChanged.bind(this))}removeEventListenersFromWebGL2WarpedMap(r){r.removeEventListener(Se.TEXTURESUPDATED,this.throttledChanged.bind(this))}addEventListeners(){this.tileCache.addEventListener(Se.MAPTILELOADED,this.mapTileLoaded.bind(this)),this.tileCache.addEventListener(Se.MAPTILEREMOVED,this.mapTileRemoved.bind(this)),this.warpedMapList.addEventListener(Se.IMAGEINFOLOADED,this.imageInfoLoaded.bind(this)),this.warpedMapList.addEventListener(Se.WARPEDMAPADDED,this.warpedMapAdded.bind(this)),this.warpedMapList.addEventListener(Se.TRANSFORMATIONCHANGED,this.transformationChanged.bind(this)),this.warpedMapList.addEventListener(Se.RESOURCEMASKUPDATED,this.resourceMaskUpdated.bind(this)),this.warpedMapList.addEventListener(Se.CLEARED,this.clear.bind(this))}removeEventListeners(){this.tileCache.removeEventListener(Se.MAPTILELOADED,this.mapTileLoaded.bind(this)),this.tileCache.removeEventListener(Se.MAPTILEREMOVED,this.mapTileRemoved.bind(this)),this.warpedMapList.removeEventListener(Se.IMAGEINFOLOADED,this.imageInfoLoaded.bind(this)),this.warpedMapList.removeEventListener(Se.WARPEDMAPADDED,this.warpedMapAdded.bind(this)),this.warpedMapList.removeEventListener(Se.TRANSFORMATIONCHANGED,this.transformationChanged.bind(this)),this.warpedMapList.removeEventListener(Se.RESOURCEMASKUPDATED,this.resourceMaskUpdated.bind(this)),this.warpedMapList.removeEventListener(Se.CLEARED,this.clear.bind(this))}}const JH=eo.Layer.extend({options:{opacity:1,interactive:!1,className:"",pane:"tilePane",zIndex:"1"},initialize(i,r){this._annotation=i,eo.setOptions(this,r),this._initGl()},async onAdd(i){const r=this.getPaneName();return this._map.getPane(r).appendChild(this.container),i.on("zoomend viewreset move",this._update,this),i.on("zoomanim",this._animateZoom,this),i.on("unload",this._unload,this),this.resizeObserver=new ResizeObserver(this._resized.bind(this)),this.resizeObserver.observe(this._map.getContainer(),{box:"content-box"}),this._annotation&&(fB(this._annotation)?await this.addGeoreferenceAnnotationByUrl(this._annotation):await this.addGeoreferenceAnnotation(this._annotation)),this._update(),this},onRemove(i){this.container.remove(),i.off("zoomend viewreset move",this._update,this),i.off("zoomanim",this._animateZoom,this)},async addGeoreferenceAnnotation(i){const r=await this.renderer.warpedMapList.addGeoreferenceAnnotation(i);return this._update(),r},async removeGeoreferenceAnnotation(i){const r=await this.renderer.warpedMapList.removeGeoreferenceAnnotation(i);return this._update(),r},async addGeoreferenceAnnotationByUrl(i){const r=await fetch(i).then(t=>t.json());return this.addGeoreferenceAnnotation(r)},async removeGeoreferenceAnnotationByUrl(i){const r=await fetch(i).then(t=>t.json());return this.removeGeoreferenceAnnotation(r)},async addGeoreferencedMap(i){const r=this.renderer.warpedMapList.addGeoreferencedMap(i);return this._update(),r},async removeGeoreferencedMap(i){const r=this.renderer.warpedMapList.removeGeoreferencedMap(i);return this._update(),r},getContainer(){return this.container},getCanvas(){return this.canvas},getWarpedMapList(){return this.renderer.warpedMapList},getWarpedMap(i){return this.renderer.warpedMapList.getWarpedMap(i)},showMap(i){this.renderer.warpedMapList.showMaps([i]),this._update()},showMaps(i){this.renderer.warpedMapList.showMaps(i),this._update()},hideMap(i){this.renderer.warpedMapList.hideMaps([i]),this._update()},hideMaps(i){this.renderer.warpedMapList.hideMaps(i),this._update()},isMapVisible(i){var r;return(r=this.renderer.warpedMapList.getWarpedMap(i))==null?void 0:r.visible},setMapResourceMask(i,r){this.renderer.warpedMapList.setMapResourceMask(i,r),this._update()},setMapsTransformationType(i,r){this.renderer.warpedMapList.setMapsTransformationType(i,r),this._update()},getTotalBbox(){return this.renderer.warpedMapList.getBbox()},getTotalProjectedBbox(){return this.renderer.warpedMapList.getProjectedBbox()},getTotalBounds(){const i=this.getTotalBbox();return eo.latLngBounds(eo.latLng(i[1],i[0]),eo.latLng(i[3],i[2]))},getTotalProjectedBounds(){const i=this.getTotalProjectedBbox();return eo.latLngBounds(eo.latLng(i[1],i[0]),eo.latLng(i[3],i[2]))},bringMapsToFront(i){this.renderer.warpedMapList.bringMapsToFront(i),this._update()},sendMapsToBack(i){this.renderer.warpedMapList.sendMapsToBack(i),this._update()},bringMapsForward(i){this.renderer.warpedMapList.bringMapsForward(i),this._update()},sendMapsBackward(i){this.renderer.warpedMapList.sendMapsBackward(i),this._update()},bringToFront(){return this._map&&eo.DomUtil.toFront(this.container),this},bringToBack(){return this._map&&eo.DomUtil.toBack(this.container),this},getMapZIndex(i){return this.renderer.warpedMapList.getMapZIndex(i)},getZIndex(){return this.options.zIndex},setZIndex(i){return this.options.zIndex=i,this._updateZIndex(),this},setImageInfoCache(i){this.renderer.warpedMapList.setImageInfoCache(i)},getPaneName(){return this._map.getPane(this.options.pane)?this.options.pane:"tilePane"},getOpacity(){return this.options.opacity},setOpacity(i){return this.options.opacity=i,this._update(),this},resetOpacity(){return this.options.opacity=1,this._update(),this},getMapOpacity(i){return this.renderer.getMapOpacity(i)},setMapOpacity(i,r){return this.renderer.setMapOpacity(i,r),this._update(),this},resetMapOpacity(i){return this.renderer.resetMapOpacity(i),this._update(),this},setSaturation(i){return this.renderer.setSaturation(i),this._update(),this},resetSaturation(){return this.renderer.resetSaturation(),this._update(),this},setMapSaturation(i,r){return this.renderer.setMapSaturation(i,r),this._update(),this},resetMapSaturation(i){return this.renderer.resetMapSaturation(i),this._update(),this},setRemoveColor(i){const r=i.hexColor?MT(i.hexColor):void 0;return this.renderer.setRemoveColorOptions({color:r,threshold:i.threshold,hardness:i.hardness}),this._update(),this},resetRemoveColor(){return this.renderer.resetRemoveColorOptions(),this._update(),this},setMapRemoveColor(i,r){const t=r.hexColor?MT(r.hexColor):void 0;return this.renderer.setMapRemoveColorOptions(i,{color:t,threshold:r.threshold,hardness:r.hardness}),this._update(),this},resetMapRemoveColor(i){return this.renderer.resetMapRemoveColorOptions(i),this},setColorize(i){const r=this.hexToRgb(i);return r&&(this.renderer.setColorizeOptions({color:r}),this._update()),this},resetColorize(){return this.renderer.resetColorizeOptions(),this._update(),this},setMapColorize(i,r){const t=this.hexToRgb(r);return t&&(this.renderer.setMapColorizeOptions(i,{color:t}),this._update()),this},resetMapColorize(i){return this.renderer.resetMapColorizeOptions(i),this._update(),this},_initGl(){if(this.container=eo.DomUtil.create("div"),this.container.classList.add("leaflet-layer"),this.container.classList.add("allmaps-warped-map-layer"),this.options.zIndex&&this._updateZIndex(),this.canvas=eo.DomUtil.create("canvas",void 0,this.container),this.canvas.classList.add("leaflet-zoom-animated"),this.canvas.classList.add("leaflet-image-layer"),this.options.interactive&&this.canvas.classList.add("leaflet-interactive"),this.options.className&&this.canvas.classList.add(this.options.className),this.gl=this.canvas.getContext("webgl2",{premultipliedAlpha:!0}),!this.gl)throw new Error("WebGL 2 not available");const i=new Fj(this.options.imageInfoCache);this.renderer=new KH(this.gl,i),this._addEventListeners()},_resized(i){for(const r of i){const t=r.contentRect.width,o=r.contentRect.height,l=window.devicePixelRatio,u=Math.round(t*l),d=Math.round(o*l);this.canvas.width=u,this.canvas.height=d,this.canvas.style.width=t+"px",this.canvas.style.height=o+"px"}this._update()},_animateZoom(i){const r=this._map.getZoomScale(i.zoom),t=this._map._latLngBoundsToNewLayerBounds(this._map.getBounds(),i.zoom,i.center).min;eo.DomUtil.setTransform(this.canvas,t,r)},_updateZIndex(){this.container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this.container.style.zIndex=this.options.zIndex)},_update(){if(!this._map)return;const i=this._map.containerPointToLayerPoint([0,0]);eo.DomUtil.setPosition(this.canvas,i),this.renderer.setOpacity(this.getOpacity());const r=this._map.getCenter(),t=this._map.options.crs.project(r),o=[t.x,t.y],l=this._map.getSize(),u=[l.x,l.y],d=this._map.getBounds(),p=this._map.options.crs.project(d.getNorthEast()),m=this._map.options.crs.project(d.getSouthWest()),v=[m.x,m.y,p.x,p.y],x=sy(v),k=UP(x,u),C=new Bj(o,u,0,k,window.devicePixelRatio);return this.renderer.render(C),this.container},_addEventListeners(){this.renderer.addEventListener(Se.CHANGED,this._update.bind(this)),this.renderer.addEventListener(Se.IMAGEINFOLOADED,this._update.bind(this)),this.renderer.addEventListener(Se.WARPEDMAPENTER,this._passWarpedMapEvent.bind(this)),this.renderer.addEventListener(Se.WARPEDMAPLEAVE,this._passWarpedMapEvent.bind(this)),this.renderer.tileCache.addEventListener(Se.FIRSTMAPTILELOADED,this._passWarpedMapEvent.bind(this)),this.renderer.tileCache.addEventListener(Se.ALLREQUESTEDTILESLOADED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.addEventListener(Se.WARPEDMAPADDED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.addEventListener(Se.WARPEDMAPREMOVED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.addEventListener(Se.VISIBILITYCHANGED,this._update.bind(this)),this.renderer.warpedMapList.addEventListener(Se.CLEARED,this._update.bind(this))},_removeEventListeners(){this.renderer.removeEventListener(Se.CHANGED,this._update.bind(this)),this.renderer.removeEventListener(Se.IMAGEINFOLOADED,this._update.bind(this)),this.renderer.removeEventListener(Se.WARPEDMAPENTER,this._passWarpedMapEvent.bind(this)),this.renderer.removeEventListener(Se.WARPEDMAPLEAVE,this._passWarpedMapEvent.bind(this)),this.renderer.tileCache.removeEventListener(Se.FIRSTMAPTILELOADED,this._passWarpedMapEvent.bind(this)),this.renderer.tileCache.removeEventListener(Se.ALLREQUESTEDTILESLOADED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.removeEventListener(Se.WARPEDMAPADDED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.removeEventListener(Se.WARPEDMAPREMOVED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.removeEventListener(Se.VISIBILITYCHANGED,this._update.bind(this)),this.renderer.warpedMapList.removeEventListener(Se.CLEARED,this._update.bind(this))},_passWarpedMapEvent(i){i instanceof Wr&&this._map&&this._map.fire(i.type,i.data)},_unload(){this.renderer.dispose();const i=this.gl.getExtension("WEBGL_lose_context");i&&i.loseContext();const r=this.gl.canvas;r.width=1,r.height=1,this.resizeObserver.disconnect(),this._removeEventListeners()}}),QH={class:"content",ref:"content"},$H=["innerHTML"],tU=["innerHTML"],eU=["src"],rU={slot:"footer",class:"footer"},iU=["src"],nU={class:"push"},oU=kn({__name:"Map.ce",props:{basemaps:{type:String,default:"OpenStreetMap"},center:{type:String,default:"32.32347,-80.97122"},caption:{type:String},data:{type:String},entities:{type:String},essayBase:{type:String},gestureHandling:{type:Boolean,default:v1()},ghDir:{type:String},marker:{type:Boolean},overlay:{type:String},popupOnHover:{type:Boolean},preferGeojson:{type:Boolean},scrollWheelZoom:{type:Boolean,default:!1},zoom:{type:Number,default:2},zoomOnClick:{type:Boolean}},setup(i){const r=i,t=window.turf;let o;const l=se(!1);Ne(l,()=>{o.open=l.value});const u=se("100vw"),d=se();zo(()=>{var A;o=(A=C.value)==null?void 0:A.querySelector(".dialog"),o.addEventListener("sl-hide",G=>l.value=!1),Js.on("imageSelected",G=>{d.value=G.src,l.value=!0})});const p={iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-icon.png",iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-icon-2x.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",shadowSize:[41,41]},m={CartoDB_DarkMatter:["https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_DarkMatterNoLabels:["https://{s}.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_DarkMatterOnlyLabels:["https://{s}.basemaps.cartocdn.com/dark_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_Positron:["https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_PositronNoLabels:["https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_PositronOnlyLabels:["https://{s}.basemaps.cartocdn.com/light_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_Voyager:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_VoyagerNoLabels:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager_nolabels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_VoyagerOnlyLabels:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_VoyagerLabelsUnder:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager_labels_under/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],Esri_DeLorme:["https://server.arcgisonline.com/ArcGIS/rest/services/Specialty/DeLorme_World_Base_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Copyright: &copy;2012 DeLorme",minZoom:1,maxZoom:11}],Esri_NatGeoWorldMap:["https://server.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC",maxZoom:16}],Esri_OceanBasemap:["https://server.arcgisonline.com/ArcGIS/rest/services/Ocean/World_Ocean_Base/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri",maxZoom:13}],Esri_WorldGrayCanvas:["https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ",maxZoom:16}],Esri_WorldImagery:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}],Esri_WorldPhysical:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Physical_Map/MapServer/tile/{z}/{y}/{x}",{maxZoom:8,attribution:"Tiles &copy; Esri &mdash; Source: US National Park Service"}],Esri_WorldShadedRelief:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri",maxZoom:13}],Esri_WorldStreetMap:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"}],Esri_WorldTerrain:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: USGS, Esri, TANA, DeLorme, and NPS",maxZoom:13}],Esri_WorldTopoMap:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community"}],MtbMap:["http://tile.mtbmap.cz/mtbmap_tiles/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &amp; USGS'}],OpenStreetMap:["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}],OpenStreetMap_DE:["https://{s}.tile.openstreetmap.de/{z}/{x}/{y}.png",{maxZoom:18,attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}],OpenStreetMap_France:["https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",{maxZoom:20,attribution:'&copy; OpenStreetMap France | &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}],OpenStreetMap_HOT:["https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Tiles style by <a href="https://www.hotosm.org/" target="_blank">Humanitarian OpenStreetMap Team</a> hosted by <a href="https://openstreetmap.fr/" target="_blank">OpenStreetMap France</a>',maxZoom:19}],OpenStreetMap_Mapnik:["https://tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:19}],OpenTopoMap:["https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",{maxZoom:17,attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}],OPNVKarte:["https://tileserver.memomaps.de/tilegen/{z}/{x}/{y}.png",{attribution:'Map <a href="https://memomaps.de/">memomaps.de</a> <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:18}],Stadia_AlidadeSmooth:["https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:20}],Stadia_AlidadeSmoothDark:["https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:20}],Stadia_OSMBright:["https://tiles.stadiamaps.com/tiles/osm_bright/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:20}],Stadia_Outdoors:["https://tiles.stadiamaps.com/tiles/outdoors/{z}/{x}/{y}{r}.png",{maxZoom:20,attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'}],Stamen_Terrain:["https://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:18,ext:"png"}],Stamen_TerrainBackground:["https://stamen-tiles-{s}.a.ssl.fastly.net/terrain-background/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:18,ext:"png"}],Stamen_TerrainLabels:["https://stamen-tiles-{s}.a.ssl.fastly.net/terrain-labels/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:18,ext:"png"}],Stamen_Toner:["https://stamen-tiles-{s}.a.ssl.fastly.net/toner/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"}],Stamen_TonerBackground:["https://stamen-tiles-{s}.a.ssl.fastly.net/toner-background/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"}],Stamen_TonerLite:["https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"}],Stamen_Watercolor:["https://stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.{ext}",{subdomains:"abcd",minZoom:1,maxZoom:16,ext:"jpg",attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}],USGS_USTopo:["https://basemap.nationalmap.gov/arcgis/rest/services/USGSTopo/MapServer/tile/{z}/{y}/{x}",{maxZoom:20,attribution:'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'}],USGS_USImagery:["https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryOnly/MapServer/tile/{z}/{y}/{x}",{maxZoom:20,attribution:'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'}],USGS_USImageryTopo:["https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryTopo/MapServer/tile/{z}/{y}/{x}",{maxZoom:20,attribution:'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'}]},v=se(null),x=Ce(()=>{var A,G;return(G=(A=v.value)==null?void 0:A.getRootNode())==null?void 0:G.host}),k=se(null),C=Ce(()=>{var A;return(A=v==null?void 0:v.value)==null?void 0:A.parentNode}),M=se(1),I=se(),D=se([]),j=se(),H=se([]),J=se(),q=se(),W=se(),st=se(10),mt=se(),gt=se(),ot=se();Ne(k,A=>{A&&(A.clientHeight===0&&(A.style.height=`${A.clientWidth*M.value}px`),new ResizeObserver(G=>{A.style.height=`${G[0].contentRect.width*M.value}px`,!I.value&&A.clientHeight>0&&U()}).observe(A),A.clientHeight>0&&U())}),Ne(H,async()=>{let A=await Promise.all(H.value);A.length>0&&console.log(A.map(dt=>ii(dt)));let G=A.filter(dt=>dt.geojson&&dt.preferGeojson).map(dt=>{if(dt.geojson.indexOf("http")!==0)if(dt.geojson[0]==="/"){let[Ot,$t,...te]=dt.geojson.split("/").filter(_e=>_e),re=te.join("/"),be="main";dt.geojson=`https://raw.githubusercontent.com/${Ot}/${$t}/${be}/${re}`}else dt.geojson=`https://raw.githubusercontent.com/${r.essayBase}/${dt.geojson}`;return dt}).map(dt=>({url:dt.geojson,item:dt})),at=await Promise.all(G.map(dt=>fetch(dt.url))),ft=await Promise.all(at.map(dt=>dt.json())),pt={};for(let dt=0;dt<G.length;dt++){G[dt].item.id&&/^Q[0-9]+$/.test(G[dt].item.id)&&(G[dt].item.qid=G[dt].item.id,delete G[dt].item.id),ft[dt].type==="FeatureCollection"?ft[dt].features.forEach($t=>$t.properties={...$t.properties,...G[dt].item}):ft[dt].properties={...ft[dt].properties,...G[dt].item};let Ot=G[dt].item.layer||"Locations";pt[Ot]||(pt[Ot]=[]),pt[Ot].push(ft[dt])}let kt={};A.filter(dt=>!dt.geojson||!dt.preferGeojson).filter(dt=>!dt.allmaps).forEach(dt=>{let Ot=dt.layer||"Locations";kt[Ot]||(kt[Ot]=[]),kt[Ot].push(dt)}),A.filter(dt=>!dt.allmaps).forEach(dt=>{let Ot=dt.layer||"Locations";pt[Ot]?kt[Ot]&&(pt[Ot].push(xt(kt[Ot])),delete kt[Ot]):(pt[Ot]=[xt(kt[Ot])],delete kt[Ot])}),W.value=pt,q.value=A.filter(dt=>dt.allmaps).map(dt=>{let Ot=new JH(`https://annotations.allmaps.org/images/${dt.allmaps}`);return{name:dt.layer||"Image layer",type:"allmaps",disabled:dt.disabled,opacity:dt.opacity||100,layer:Ot}})}),Ne(W,()=>Lt()),Ne(q,()=>Lt()),Ne(I,()=>Lt());function U(){D.value=r.entities?r.entities.split(/\s+/).filter(A=>A):[],zt(),fe(),et(),Xi()}async function et(){console.log(ii(r)),st.value=r.zoom;let A;if(r.center)if(Rw(r.center)){let ft=await Wd(r.center);A=ue(ft.coords)}else A=ue(r.center);else if(r.entities){let ft=await Wd(D.value[0]);A=ue(ft.coords),st.value=9}else A=new ys.LatLng(0,0),st.value=6;if(I.value&&(I.value.off(),I.value.remove()),console.log(`initMap: center=${A} zoom=${st.value}`),!k.value)return;r.gestureHandling===!0&&(console.log("add gestureHandling"),ys.Map.addInitHook("addHandler","gestureHandling",c8.GestureHandling)),k.value.style.cursor="default";let G=r.basemaps.split(",").map(ft=>{let[pt,kt]=m[ft];return[ft.replace(/_/," "),ys.tileLayer(pt,kt)]}),at={preferCanvas:!1,smoothWheelZoom:!0,smoothSensitivity:1.5,zoomSnap:.1,center:A,zoom:st.value,zoomAnimation:!0,scrollWheelZoom:r.scrollWheelZoom,gestureHandling:r.gestureHandling===!0,layers:[G[0][1]]};console.log(at),I.value=ys.map(k.value,at),(G.length>1||Object.keys(W.value||{}).length>1)&&(J.value=ys.control.layers(Object.fromEntries(G),{}).addTo(I.value)),I.value.on("click",ft=>{var pt;lt(ft),j.value&&rr((pt=j.value)==null?void 0:pt.split(" ")[0]),r.zoomOnClick&&Ht()}),I.value.on("zoomend",ft=>{lt(ft),ot.value&&ot.value.layer.openPopup()}),I.value.on("movestart",()=>{k.value&&(k.value.style.cursor="move")}),I.value.on("moveend",ft=>{k.value&&(k.value.style.cursor="default"),lt(ft)}),I.value.on("layeradd",ft=>{var pt,kt;if(ft.layer.feature){let dt=ft.layer;((pt=dt.feature)==null?void 0:pt.type)=="Feature"&&((kt=dt.feature)!=null&&kt.properties.qid)&&dt.feature}}),j.value=`${Number(A.lat.toFixed(5))},${Number(A.lng.toFixed(5))} ${st.value}`,mt.value=`${Number(A.lat.toFixed(5))},${Number(A.lng.toFixed(5))},${st.value}`}function lt(A){let G=A.type==="click"?A.latlng:A.target.getCenter(),at=A.target.getZoom(),ft=[G.lat,G.lng,at];return j.value=`${Number(G.lat.toFixed(5))},${Number(G.lng.toFixed(5))} ${at}`,gt.value||(mt.value=`${Number(G.lat.toFixed(5))},${Number(G.lng.toFixed(5))},${at}`),ft}function ht(A){return ys.geoJSON(A,{pointToLayer:(G,at)=>{const ft=G.properties;let pt={...p};return G.properties.icon&&(pt.iconUrl=G.properties.icon),G.properties.shadowUrl&&(pt.shadowUrl=G.properties.shadowUrl),G.properties.iconRetinaUrl&&(pt.iconRetinaUrl=G.properties.iconRetinaUrl),ft.markerType==="circle"?ys.circleMarker(at,{radius:ft.radius||4}):ys.marker(at,{icon:new ys.Icon(pt)})},onEachFeature:async(G,at)=>{var pt;let ft=at;if(!G.properties.coords){if((pt=ft.feature)!=null&&pt.bbox){let kt=ft.getBounds().getCenter();G.properties.coords=`${kt.lat},${kt.lng}`}else if(G.geometry.type==="Polygon"){let kt=t.centroid(G);G.properties.coords=`${kt.geometry.coordinates[1]},${kt.geometry.coordinates[0]}`}}if(G.properties.qid){let kt=await Wd(G.properties.qid);G.properties.entityData=kt;let Ot=`<mdp-info-card data="${JSON.stringify(kt).replace(/"/g,"&quot;")}"></mdp-info-card>`;at.bindPopup(Ot)}else{let dt=`<mdp-info-card data="${JSON.stringify(G.properties).replace(/"/g,"&quot;")}"></mdp-info-card>`;at.bindPopup(dt)}r.popupOnHover&&(at.on("mouseover",()=>at.openPopup()),at.on("mouseout",()=>at.closePopup())),at.on("click",()=>{gt.value?(at.closePopup(),gt.value=void 0):(at.openPopup(),gt.value={},r.zoomOnClick&&Et(G.properties.coords))})},style:G=>{const at=G==null?void 0:G.properties,ft=G==null?void 0:G.geometry.type;for(let[kt,dt]of Object.entries(at))dt==="null"&&(at[kt]=null);return{color:at.color||"#FB683F",weight:at.weight||(ft==="Polygon"||ft==="MultiPolygon"?0:4),opacity:at.opacity||1,fillColor:at.fillColor||"#32C125",fillOpacity:at.fillOpacity||.5}}})}let Gt=()=>{var G;let A=Object.values(W.value).map(at=>at[0].features.map(ft=>ft.geometry.coordinates)).flat();A.length>1&&((G=I.value)==null||G.fitBounds(A.map(at=>[at[1],at[0]]),{padding:[100,100]}))},St=!1;function Lt(){var A;if(I.value&&W.value&&q.value&&!St){let G=Object.keys(W.value||{}),at=q.value?q.value.length:0;console.log(`updateMap: geoJsonLayers=${G.length} warpedMapLayers=${at}`),!J.value&&(G.length>1||G.length===1&&G[0]!=="Locations"||at>0)&&(J.value=ys.control.layers(Object.fromEntries([]),{}).addTo(I.value));let ft={};if((A=q.value)==null||A.forEach(pt=>{var kt;J.value&&J.value.addOverlay(pt.layer,pt.name),pt.disabled||(kt=I.value)==null||kt.addLayer(pt.layer),ft[pt.name]=pt.layer}),Object.keys(W.value||{}).forEach(pt=>{var Ot;let kt=new ys.LayerGroup,dt=!1;W.value[pt].forEach($t=>{var re;let te=ht($t);kt.addLayer(te),(re=$t.properties)!=null&&re.disabled&&(dt=!0)}),dt||(Ot=I.value)==null||Ot.addLayer(kt),J.value&&J.value.addOverlay(kt,pt)}),Object.keys(ft).length>0){let pt=ys.control.opacity(ft,{label:null,collapsed:!0,position:"topright"});pt.addTo(I.value),Array.from(pt.getContainer().querySelectorAll(".leaflet-control-layers-overlays label")).forEach(kt=>{var $t;let dt=kt.children[0].textContent.trim(),Ot;if(($t=q.value)==null||$t.forEach(te=>{te.name===dt&&(Ot=te)}),Ot){let te=Ot.opacity,re=kt.children[1].children[0];re.value=te,Ot.layer.setOpacity(te/100),re.addEventListener("input",be=>{be.preventDefault(),be.stopPropagation(),Ot.layer.setOpacity(parseInt(re.value)/100)})}})}Gt()}}function xt(A){const G={type:"FeatureCollection",features:[]};return A.filter(at=>at.coords).forEach(at=>{let[ft,pt]=at.coords.split(",").map(kt=>parseFloat(kt.trim()));G.features.push({type:"Feature",properties:at,geometry:{type:"Point",coordinates:[pt,ft]}})}),G}async function Dt(A){let G=await fetch(`https://iiif.mdpress.io/gh-dir/${A}?filter=images`).then(ft=>ft.json()).then(ft=>ft.map(pt=>`https://iiif.mdpress.io/gh:${A}/${pt.name}/manifest.json`));return(await Rx(G)).filter(ft=>ft.navPlace).map(ft=>ee(ft,ft.id))}async function zt(){r.ghDir&&(H.value=[...H.value,...await Dt(r.ghDir)]);let A=r.data?document.getElementById(r.data):x.value,G=Array.from(A.querySelectorAll("li")).map(at=>{var ft;return ae((ft=at.firstChild)==null?void 0:ft.textContent)});if(r.marker&&r.center)if(Rw(r.center)){let at=await Wd(r.center);G.push(Promise.resolve(ge(at)))}else G.push(Promise.resolve({coords:r.center,zoom:r.zoom||10}));H.value=[...H.value,...G]}function fe(){const A=at=>{for(let ft of at)ft.type==="childList"&&Array.from(ft.target.classList).indexOf("hydrated")>=0&&zt()};new MutationObserver(A).observe(x.value,{childList:!0,subtree:!0,characterData:!0})}function yt(A){return/^[+-]?\d+(.\d*|\d*),{1}[+-]?\d+(.\d*|\d*)$/.test(A)}function At(A){return/^\d{1,2}(\.\d{1})?$/.test(A)}function Xt(A){A=A||"";let G=[];A=A.replace(/“/,'"').replace(/”/,'"').replace(/’/,"'");let at=A.match(/[^\s"]+|"([^"]*)"/gmi);return at&&at.forEach(ft=>{G.length>0&&G[G.length-1].indexOf("=")===G[G.length-1].length-1?G[G.length-1]=`${G[G.length-1]}${ft}`:G.push(ft)}),G}function ee(A,G){let at={id:G};return A.navPlace&&(at.coords=A.navPlace.features[0].geometry.coordinates.map(ft=>ft.toFixed(5)).join(",")),A.label&&(at.label=A.label.en),A.summary&&(at.description=A.summary.en[0]),A.thumbnail&&(at.image=A.thumbnail[0].id),at}function ge(A,G=""){let at={id:G||A.id};return A.coords&&(at.coords=A.coords),A.geojson&&(at.geojson=A.geojson),A.label&&(at.label=A.label),A.description&&(at.description=A.description),A.thumbnail&&(at.image=A.thumbnail),at}async function ae(A){let G=Xt(A),at=/\.(geo)?json$/i,ft=/^[a-z0-9\-]+:.+/,pt={},kt=new Set(["disabled","prefer-geojson"]);for(let dt=0;dt<G.length;dt++){let Ot=G[dt];if(Ot.indexOf("=")>0){let[$t,...te]=Ot.split("="),re=te.join("=");if(re=re[re.length-1]==='"'?re.slice(1,-1):re,$t==="qid"){let be=await Wd(Ot);pt={...ge(be,Ot),...pt}}else if($t==="iiif"){let be=await gl(Ot);pt={...ee(be,Ot),...pt}}else pt[$t]=re}else if(At(Ot))pt.zoom=parseInt(Ot);else if(yt(Ot))pt.coords=Ot,pt.id=Ot;else if(Rw(Ot)){let $t=await Wd(Ot);pt={...ge($t,Ot),...pt}}else if(at.test(Ot))pt.geojson=Ot;else if(ft.test(Ot)){let $t=await gl(Ot);pt={...ee($t,Ot),...pt}}else if(kt.has(Ot))pt[Wz(Ot)]=!0;else{let $t=Ot[0]==='"'&&Ot[Ot.length-1]==='"'?Ot.slice(1,-1):Ot;pt.label?pt.description=$t:pt.label=$t}}return pt.preferGeojson=pt.preferGeojson||r.preferGeojson&&pt.geojson||pt.geojson&&!pt.coords,pt}function ue(A){let[G,at]=A.split(",").map(ft=>parseFloat(ft.trim()));return new eo.LatLng(G,at)}function rr(A){navigator.clipboard&&navigator.clipboard.writeText(A)}function mr(A="",G=""){return Object.values(W.value).map(ft=>{let pt=ft[0];return pt.type==="FeatureCollection"?pt.features:[pt]}).flat().find(ft=>{var pt,kt;return ft.id===A||((pt=ft.properties)==null?void 0:pt.id)===A||((kt=ft.properties)==null?void 0:kt.coords)===G})}function vi(A=""){var kt,dt,Ot,$t;A=A.replace(/^flyto\|/i,"");let G="",at=10,ft=A.split(",");if(ft.length===1){G=ft[0];let te=mr(G);at=((kt=te==null?void 0:te.properties)==null?void 0:kt.zoom)||at}else if(ft.length===2)if(/^[+-]?\d+(.\d*|\d*)$/.test(ft[0])){G=ft.join(",");let te=mr("",G);at=((dt=te==null?void 0:te.properties)==null?void 0:dt.zoom)||at}else G=ft[0],at=parseFloat(ft[1]);else G=ft.slice(0,2).join(","),at=parseFloat(ft[2]);let pt;return(Ot=I.value)==null||Ot.eachLayer(te=>{var re,be,_e,je;(((be=(re=te==null?void 0:te.feature)==null?void 0:re.properties)==null?void 0:be.id)===G||((je=(_e=te==null?void 0:te.feature)==null?void 0:_e.properties)==null?void 0:je.coords)===G)&&(pt=te)}),pt||($t=I.value)==null||$t.eachLayer(te=>pt=te),{id:G,zoom:at,layer:pt}}function Xi(){let A=x.value.parentElement,G=new Set;for(;A!=null&&A.parentElement&&A.tagName!=="MAIN";)A=A.parentElement,Array.from(A.querySelectorAll("[enter],[exit]")).forEach(ft=>{bt(ft)&&!G.has(ft)&&(Bi(ft),G.add(ft))});let at=x.value.parentElement;for(;at!=null&&at.parentElement&&at.tagName!=="BODY";)at=at.parentElement;at&&Array.from(at.querySelectorAll("mark")).forEach(ft=>{let pt=Array.from(ft.attributes).find(kt=>kt.name==="flyto");if(pt&&bt(ft.parentElement)){let dt=pt==null?void 0:pt.value;ft.classList.add(pt.name),ft.addEventListener("click",()=>Et(dt)),r.popupOnHover&&(ft.addEventListener("mouseover",()=>{let Ot=vi(dt).layer;Ot.openPopup(),v1()&&setTimeout(()=>Ot.closePopup(),2e3)}),ft.addEventListener("mouseleave",()=>{var Ot;ot.value=vi(dt),ot.value.id!==gt.value&&((Ot=ot.value.layer)==null||Ot.closePopup())}))}})}function Bi(A){let G=A.classList.contains("active");new MutationObserver(ft=>{ft.forEach(pt=>{if(pt.attributeName=="class"){let kt=pt.target.classList.contains("active");if(G!==kt){G=kt;let dt=A.attributes.getNamedItem(kt?"enter":"exit");if(dt){const[Ot,...$t]=dt.value.split(":");let te=$t.join(":");Ot==="flyto"&&Et(te,!0),dt.name==="exit"&&Ht()}}}})}).observe(A,{attributes:!0,childList:!0,subtree:!0,characterData:!0})}function bt(A){let G=A.previousSibling;for(;G;){if(G.nodeName==="VE-MAP")return G===x.value?G:null;G=G.previousSibling}for(;A.parentElement&&A.tagName!=="MAIN";){A=A.parentElement;let at=A.querySelector(":scope > ve-map, :scope > p > ve-map, :scope > section > ve-map");if(at)return at===x.value?at:null}}async function Et(A,G=!1){var at,ft;if(ot.value=vi(A),ot.value.layer){if(ot.value.id===gt.value&&!G)ot.value.layer.closePopup(),Ht();else if(gt.value=ot.value.id,(at=ot.value.layer.feature)!=null&&at.properties){let pt=ue(ot.value.layer.feature.properties.coords);(ft=I.value)==null||ft.flyTo(pt,ot.value.zoom)}}else Ht()}function Ht(){var A,G;if(ot.value=null,mt.value){let[at,ft,pt]=mt.value.split(",").map(dt=>parseFloat(dt)),kt=new ys.LatLng(at,ft);(A=I.value)==null||A.flyTo(kt,pt),(G=I.value)==null||G.closePopup()}gt.value=void 0}return(A,G)=>(ce(),de(Mi,null,[Jt("div",{ref_key:"root",ref:v,style:{width:"100%",height:"100%"}},[Jt("div",QH,[Jt("div",{id:"lat-lng-zoom",innerHTML:j.value,onClick:G[0]||(G[0]=at=>rr(`${j.value}`))},null,8,$H),Jt("div",{id:"map",ref_key:"mapEl",ref:k},null,512),i.caption?(ce(),de("div",{key:0,id:"caption",innerHTML:i.caption},null,8,tU)):ir("",!0)],512)],512),Jt("sl-dialog",{class:"dialog","no-header":"",style:cu({"--width":u.value,"--body-spacing":0,"--footer-spacing":"0.5em"})},[d.value?(ce(),de("mdp-image",{key:0,"no-caption":"",src:d.value,fit:"cover"},null,8,eU)):ir("",!0),Jt("div",rU,[Jt("mdp-caption",{src:d.value},null,8,iU),Jt("div",nU,[Jt("sl-button",{variant:"primary",onClick:G[1]||(G[1]=at=>d.value=null)},"Close")])])],4)],64))}}),sU=`.leaflet-pane,.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-tile-container,.leaflet-pane>svg,.leaflet-pane>canvas,.leaflet-zoom-box,.leaflet-image-layer,.leaflet-layer{position:absolute;left:0;top:0}.leaflet-container{overflow:hidden}.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none}.leaflet-tile::-moz-selection{background:transparent}.leaflet-tile::selection{background:transparent}.leaflet-safari .leaflet-tile{image-rendering:-webkit-optimize-contrast}.leaflet-safari .leaflet-tile-container{width:1600px;height:1600px;-webkit-transform-origin:0 0}.leaflet-marker-icon,.leaflet-marker-shadow{display:block}.leaflet-container .leaflet-overlay-pane svg{max-width:none!important;max-height:none!important}.leaflet-container .leaflet-marker-pane img,.leaflet-container .leaflet-shadow-pane img,.leaflet-container .leaflet-tile-pane img,.leaflet-container img.leaflet-image-layer,.leaflet-container .leaflet-tile{max-width:none!important;max-height:none!important;width:auto;padding:0}.leaflet-container img.leaflet-tile{mix-blend-mode:plus-lighter}.leaflet-container.leaflet-touch-zoom{touch-action:pan-x pan-y}.leaflet-container.leaflet-touch-drag{touch-action:none;touch-action:pinch-zoom}.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom{touch-action:none}.leaflet-container{-webkit-tap-highlight-color:transparent}.leaflet-container a{-webkit-tap-highlight-color:rgba(51,181,229,.4)}.leaflet-tile{filter:inherit;visibility:hidden}.leaflet-tile-loaded{visibility:inherit}.leaflet-zoom-box{width:0;height:0;box-sizing:border-box;z-index:800}.leaflet-overlay-pane svg{-moz-user-select:none}.leaflet-pane{z-index:400}.leaflet-tile-pane{z-index:200}.leaflet-overlay-pane{z-index:400}.leaflet-shadow-pane{z-index:500}.leaflet-marker-pane{z-index:600}.leaflet-tooltip-pane{z-index:650}.leaflet-popup-pane{z-index:700}.leaflet-map-pane canvas{z-index:100}.leaflet-map-pane svg{z-index:200}.leaflet-vml-shape{width:1px;height:1px}.lvml{behavior:url(#default#VML);display:inline-block;position:absolute}.leaflet-control{position:relative;z-index:800;pointer-events:visiblePainted;pointer-events:auto}.leaflet-top,.leaflet-bottom{position:absolute;z-index:1000;pointer-events:none}.leaflet-top{top:0}.leaflet-right{right:0}.leaflet-bottom{bottom:0}.leaflet-left{left:0}.leaflet-control{float:left;clear:both}.leaflet-right .leaflet-control{float:right}.leaflet-top .leaflet-control{margin-top:10px}.leaflet-bottom .leaflet-control{margin-bottom:10px}.leaflet-left .leaflet-control{margin-left:10px}.leaflet-right .leaflet-control{margin-right:10px}.leaflet-fade-anim .leaflet-popup{opacity:0;transition:opacity .2s linear}.leaflet-fade-anim .leaflet-map-pane .leaflet-popup{opacity:1}.leaflet-zoom-animated{transform-origin:0 0}svg.leaflet-zoom-animated{will-change:transform}.leaflet-zoom-anim .leaflet-zoom-animated{transition:transform .25s cubic-bezier(0,0,.25,1)}.leaflet-zoom-anim .leaflet-tile,.leaflet-pan-anim .leaflet-tile{transition:none}.leaflet-zoom-anim .leaflet-zoom-hide{visibility:hidden}.leaflet-interactive{cursor:pointer}.leaflet-grab{cursor:grab}.leaflet-crosshair,.leaflet-crosshair .leaflet-interactive{cursor:crosshair}.leaflet-popup-pane,.leaflet-control{cursor:auto}.leaflet-dragging .leaflet-grab,.leaflet-dragging .leaflet-grab .leaflet-interactive,.leaflet-dragging .leaflet-marker-draggable{cursor:move;cursor:grabbing}.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-image-layer,.leaflet-pane>svg path,.leaflet-tile-container{pointer-events:none}.leaflet-marker-icon.leaflet-interactive,.leaflet-image-layer.leaflet-interactive,.leaflet-pane>svg path.leaflet-interactive,svg.leaflet-image-layer.leaflet-interactive path{pointer-events:visiblePainted;pointer-events:auto}.leaflet-container{background:#ddd;outline-offset:1px}.leaflet-container a{color:#0078a8}.leaflet-zoom-box{border:2px dotted #38f;background:rgba(255,255,255,.5)}.leaflet-container{font-family:Helvetica Neue,Arial,Helvetica,sans-serif;font-size:12px;font-size:.75rem;line-height:1.5}.leaflet-bar{box-shadow:0 1px 5px #000000a6;border-radius:4px}.leaflet-bar a{background-color:#fff;border-bottom:1px solid #ccc;width:26px;height:26px;line-height:26px;display:block;text-align:center;text-decoration:none;color:#000}.leaflet-bar a,.leaflet-control-layers-toggle{background-position:50% 50%;background-repeat:no-repeat;display:block}.leaflet-bar a:hover,.leaflet-bar a:focus{background-color:#f4f4f4}.leaflet-bar a:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.leaflet-bar a:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-bottom:none}.leaflet-bar a.leaflet-disabled{cursor:default;background-color:#f4f4f4;color:#bbb}.leaflet-touch .leaflet-bar a{width:30px;height:30px;line-height:30px}.leaflet-touch .leaflet-bar a:first-child{border-top-left-radius:2px;border-top-right-radius:2px}.leaflet-touch .leaflet-bar a:last-child{border-bottom-left-radius:2px;border-bottom-right-radius:2px}.leaflet-control-zoom-in,.leaflet-control-zoom-out{font:700 18px Lucida Console,Monaco,monospace;text-indent:1px}.leaflet-touch .leaflet-control-zoom-in,.leaflet-touch .leaflet-control-zoom-out{font-size:22px}.leaflet-control-layers{box-shadow:0 1px 5px #0006;background:#fff;border-radius:5px}.leaflet-control-layers-toggle{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAQAAAADQ4RFAAACf0lEQVR4AY1UM3gkARTePdvdoTxXKc+qTl3aU5U6b2Kbkz3Gtq3Zw6ziLGNPzrYx7946Tr6/ee/XeCQ4D3ykPtL5tHno4n0d/h3+xfuWHGLX81cn7r0iTNzjr7LrlxCqPtkbTQEHeqOrTy4Yyt3VCi/IOB0v7rVC7q45Q3Gr5K6jt+3Gl5nCoDD4MtO+j96Wu8atmhGqcNGHObuf8OM/x3AMx38+4Z2sPqzCxRFK2aF2e5Jol56XTLyggAMTL56XOMoS1W4pOyjUcGGQdZxU6qRh7B9Zp+PfpOFlqt0zyDZckPi1ttmIp03jX8gyJ8a/PG2yutpS/Vol7peZIbZcKBAEEheEIAgFbDkz5H6Zrkm2hVWGiXKiF4Ycw0RWKdtC16Q7qe3X4iOMxruonzegJzWaXFrU9utOSsLUmrc0YjeWYjCW4PDMADElpJSSQ0vQvA1Tm6/JlKnqFs1EGyZiFCqnRZTEJJJiKRYzVYzJck2Rm6P4iH+cmSY0YzimYa8l0EtTODFWhcMIMVqdsI2uiTvKmTisIDHJ3od5GILVhBCarCfVRmo4uTjkhrhzkiBV7SsaqS+TzrzM1qpGGUFt28pIySQHR6h7F6KSwGWm97ay+Z+ZqMcEjEWebE7wxCSQwpkhJqoZA5ivCdZDjJepuJ9IQjGGUmuXJdBFUygxVqVsxFsLMbDe8ZbDYVCGKxs+W080max1hFCarCfV+C1KATwcnvE9gRRuMP2prdbWGowm1KB1y+zwMMENkM755cJ2yPDtqhTI6ED1M/82yIDtC/4j4BijjeObflpO9I9MwXTCsSX8jWAFeHr05WoLTJ5G8IQVS/7vwR6ohirYM7f6HzYpogfS3R2OAAAAAElFTkSuQmCC);width:36px;height:36px}.leaflet-retina .leaflet-control-layers-toggle{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAQAAABvcdNgAAAEsklEQVR4AWL4TydIhpZK1kpWOlg0w3ZXP6D2soBtG42jeI6ZmQTHzAxiTbSJsYLjO9HhP+WOmcuhciVnmHVQcJnp7DFvScowZorad/+V/fVzMdMT2g9Cv9guXGv/7pYOrXh2U+RRR3dSd9JRx6bIFc/ekqHI29JC6pJ5ZEh1yWkhkbcFeSjxgx3L2m1cb1C7bceyxA+CNjT/Ifff+/kDk2u/w/33/IeCMOSaWZ4glosqT3DNnNZQ7Cs58/3Ce5HL78iZH/vKVIaYlqzfdLu8Vi7dnvUbEza5Idt36tquZFldl6N5Z/POLof0XLK61mZCmJSWjVF9tEjUluu74IUXvgttuVIHE7YxSkaYhJZam7yiM9Pv82JYfl9nptxZaxMJE4YSPty+vF0+Y2up9d3wwijfjZbabqm/3bZ9ecKHsiGmRflnn1MW4pjHf9oLufyn2z3y1D6n8g8TZhxyzipLNPnAUpsOiuWimg52psrTZYnOWYNDTMuWBWa0tJb4rgq1UvmutpaYEbZlwU3CLJm/ayYjHW5/h7xWLn9Hh1vepDkyf7dE7MtT5LR4e7yYpHrkhOUpEfssBLq2pPhAqoSWKUkk7EDqkmK6RrCEzqDjhNDWNE+XSMvkJRDWlZTmCW0l0PHQGRZY5t1L83kT0Y3l2SItk5JAWHl2dCOBm+fPu3fo5/3v61RMCO9Jx2EEYYhb0rmNQMX/vm7gqOEJLcXTGw3CAuRNeyaPWwjR8PRqKQ1PDA/dpv+on9Shox52WFnx0KY8onHayrJzm87i5h9xGw/tfkev0jGsQizqezUKjk12hBMKJ4kbCqGPVNXudyyrShovGw5CgxsRICxF6aRmSjlBnHRzg7Gx8fKqEubI2rahQYdR1YgDIRQO7JvQyD52hoIQx0mxa0ODtW2Iozn1le2iIRdzwWewedyZzewidueOGqlsn1MvcnQpuVwLGG3/IR1hIKxCjelIDZ8ldqWz25jWAsnldEnK0Zxro19TGVb2ffIZEsIO89EIEDvKMPrzmBOQcKQ+rroye6NgRRxqR4U8EAkz0CL6uSGOm6KQCdWjvjRiSP1BPalCRS5iQYiEIvxuBMJEWgzSoHADcVMuN7IuqqTeyUPq22qFimFtxDyBBJEwNyt6TM88blFHao/6tWWhuuOM4SAK4EI4QmFHA+SEyWlp4EQoJ13cYGzMu7yszEIBOm2rVmHUNqwAIQabISNMRstmdhNWcFLsSm+0tjJH1MdRxO5Nx0WDMhCtgD6OKgZeljJqJKc9po8juskR9XN0Y1lZ3mWjLR9JCO1jRDMd0fpYC2VnvjBSEFg7wBENc0R9HFlb0xvF1+TBEpF68d+DHR6IOWVv2BECtxo46hOFUBd/APU57WIoEwJhIi2CdpyZX0m93BZicktMj1AS9dClteUFAUNUIEygRZCtik5zSxI9MubTBH1GOiHsiLJ3OCoSZkILa9PxiN0EbvhsAo8tdAf9Seepd36lGWHmtNANTv5Jd0z4QYyeo/UEJqxKRpg5LZx6btLPsOaEmdMyxYdlc8LMaJnikDlhclqmPiQnTEpLUIZEwkRagjYkEibQErwhkTAKCLQEbUgkzJQWc/0PstHHcfEdQ+UAAAAASUVORK5CYII=);background-size:26px 26px}.leaflet-touch .leaflet-control-layers-toggle{width:44px;height:44px}.leaflet-control-layers .leaflet-control-layers-list,.leaflet-control-layers-expanded .leaflet-control-layers-toggle{display:none}.leaflet-control-layers-expanded .leaflet-control-layers-list{display:block;position:relative}.leaflet-control-layers-expanded{padding:6px 10px 6px 6px;color:#333;background:#fff}.leaflet-control-layers-scrollbar{overflow-y:scroll;overflow-x:hidden;padding-right:5px}.leaflet-control-layers-selector{margin-top:2px;position:relative;top:1px}.leaflet-control-layers label{display:block;font-size:13px;font-size:1.08333em}.leaflet-control-layers-separator{height:0;border-top:1px solid #ddd;margin:5px -10px 5px -6px}.leaflet-default-icon-path{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=)}.leaflet-container .leaflet-control-attribution{background:#fff;background:rgba(255,255,255,.8);margin:0}.leaflet-control-attribution,.leaflet-control-scale-line{padding:0 5px;color:#333;line-height:1.4}.leaflet-control-attribution a{text-decoration:none}.leaflet-control-attribution a:hover,.leaflet-control-attribution a:focus{text-decoration:underline}.leaflet-attribution-flag{display:inline!important;vertical-align:baseline!important;width:1em;height:.6669em}.leaflet-left .leaflet-control-scale{margin-left:5px}.leaflet-bottom .leaflet-control-scale{margin-bottom:5px}.leaflet-control-scale-line{border:2px solid #777;border-top:none;line-height:1.1;padding:2px 5px 1px;white-space:nowrap;box-sizing:border-box;background:rgba(255,255,255,.8);text-shadow:1px 1px #fff}.leaflet-control-scale-line:not(:first-child){border-top:2px solid #777;border-bottom:none;margin-top:-2px}.leaflet-control-scale-line:not(:first-child):not(:last-child){border-bottom:2px solid #777}.leaflet-touch .leaflet-control-attribution,.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{box-shadow:none}.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{border:2px solid rgba(0,0,0,.2);background-clip:padding-box}.leaflet-popup{position:absolute;text-align:center;margin-bottom:20px}.leaflet-popup-content-wrapper{padding:1px;text-align:left;border-radius:12px}.leaflet-popup-content{margin:13px 24px 13px 20px;line-height:1.3;font-size:13px;font-size:1.08333em;min-height:1px}.leaflet-popup-content p{margin:1.3em 0}.leaflet-popup-tip-container{width:40px;height:20px;position:absolute;left:50%;margin-top:-1px;margin-left:-20px;overflow:hidden;pointer-events:none}.leaflet-popup-tip{width:17px;height:17px;padding:1px;margin:-10px auto 0;pointer-events:auto;transform:rotate(45deg)}.leaflet-popup-content-wrapper,.leaflet-popup-tip{background:white;color:#333;box-shadow:0 3px 14px #0006}.leaflet-container a.leaflet-popup-close-button{position:absolute;top:0;right:0;border:none;text-align:center;width:24px;height:24px;font:16px/24px Tahoma,Verdana,sans-serif;color:#757575;text-decoration:none;background:transparent}.leaflet-container a.leaflet-popup-close-button:hover,.leaflet-container a.leaflet-popup-close-button:focus{color:#585858}.leaflet-popup-scrolled{overflow:auto}.leaflet-oldie .leaflet-popup-content-wrapper{-ms-zoom:1}.leaflet-oldie .leaflet-popup-tip{width:24px;margin:0 auto;-ms-filter:"progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)";filter:progid:DXImageTransform.Microsoft.Matrix(M11=.70710678,M12=.70710678,M21=-.70710678,M22=.70710678)}.leaflet-oldie .leaflet-control-zoom,.leaflet-oldie .leaflet-control-layers,.leaflet-oldie .leaflet-popup-content-wrapper,.leaflet-oldie .leaflet-popup-tip{border:1px solid #999}.leaflet-div-icon{background:#fff;border:1px solid #666}.leaflet-tooltip{position:absolute;padding:6px;background-color:#fff;border:1px solid #fff;border-radius:3px;color:#222;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:none;box-shadow:0 1px 3px #0006}.leaflet-tooltip.leaflet-interactive{cursor:pointer;pointer-events:auto}.leaflet-tooltip-top:before,.leaflet-tooltip-bottom:before,.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{position:absolute;pointer-events:none;border:6px solid transparent;background:transparent;content:""}.leaflet-tooltip-bottom{margin-top:6px}.leaflet-tooltip-top{margin-top:-6px}.leaflet-tooltip-bottom:before,.leaflet-tooltip-top:before{left:50%;margin-left:-6px}.leaflet-tooltip-top:before{bottom:0;margin-bottom:-12px;border-top-color:#fff}.leaflet-tooltip-bottom:before{top:0;margin-top:-12px;margin-left:-6px;border-bottom-color:#fff}.leaflet-tooltip-left{margin-left:-6px}.leaflet-tooltip-right{margin-left:6px}.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{top:50%;margin-top:-6px}.leaflet-tooltip-left:before{right:0;margin-right:-12px;border-left-color:#fff}.leaflet-tooltip-right:before{left:0;margin-left:-12px;border-right-color:#fff}@media print{.leaflet-control{-webkit-print-color-adjust:exact;print-color-adjust:exact}}input[type=range]{-webkit-appearance:none;-webkit-tap-highlight-color:rgba(255,255,255,0);width:110px;height:10px;margin:0;border:none;padding:1px 2px;border-radius:30px;background:#f1f0ee;outline:none}input[type=range]::-ms-track{border:inherit;color:transparent;background:transparent}input[type=range]::-ms-fill-lower,input[type=range]::-ms-fill-upper{background:transparent}input[type=range]::-ms-tooltip{display:none}input[type=range]::-ms-thumb{width:15px;height:18px;border-radius:12px;border:0;background-image:linear-gradient(to bottom,#1253a4 0,#1253a4 100%)}.leaflet-control-layers-label{margin:0 0 8px 1px}@keyframes leaflet-gestures-fadein{0%{opacity:0}to{opacity:1}}.leaflet-container:after{animation:leaflet-gestures-fadein .8s backwards;color:#fff;font-family:Roboto,Arial,sans-serif;font-size:22px;justify-content:center;display:flex;align-items:center;padding:15px;position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:461;pointer-events:none}.leaflet-gesture-handling-touch-warning:after,.leaflet-gesture-handling-scroll-warning:after{animation:leaflet-gestures-fadein .8s forwards}.leaflet-gesture-handling-touch-warning:after{content:attr(data-gesture-handling-touch-content)}.leaflet-gesture-handling-scroll-warning:after{content:attr(data-gesture-handling-scroll-content)}:root,:host,.sl-theme-light{color-scheme:light;--sl-color-gray-50: hsl(0 0% 97.5%);--sl-color-gray-100: hsl(240 4.8% 95.9%);--sl-color-gray-200: hsl(240 5.9% 90%);--sl-color-gray-300: hsl(240 4.9% 83.9%);--sl-color-gray-400: hsl(240 5% 64.9%);--sl-color-gray-500: hsl(240 3.8% 46.1%);--sl-color-gray-600: hsl(240 5.2% 33.9%);--sl-color-gray-700: hsl(240 5.3% 26.1%);--sl-color-gray-800: hsl(240 3.7% 15.9%);--sl-color-gray-900: hsl(240 5.9% 10%);--sl-color-gray-950: hsl(240 7.3% 8%);--sl-color-red-50: hsl(0 85.7% 97.3%);--sl-color-red-100: hsl(0 93.3% 94.1%);--sl-color-red-200: hsl(0 96.3% 89.4%);--sl-color-red-300: hsl(0 93.5% 81.8%);--sl-color-red-400: hsl(0 90.6% 70.8%);--sl-color-red-500: hsl(0 84.2% 60.2%);--sl-color-red-600: hsl(0 72.2% 50.6%);--sl-color-red-700: hsl(0 73.7% 41.8%);--sl-color-red-800: hsl(0 70% 35.3%);--sl-color-red-900: hsl(0 62.8% 30.6%);--sl-color-red-950: hsl(0 60% 19.6%);--sl-color-orange-50: hsl(33.3 100% 96.5%);--sl-color-orange-100: hsl(34.3 100% 91.8%);--sl-color-orange-200: hsl(32.1 97.7% 83.1%);--sl-color-orange-300: hsl(30.7 97.2% 72.4%);--sl-color-orange-400: hsl(27 96% 61%);--sl-color-orange-500: hsl(24.6 95% 53.1%);--sl-color-orange-600: hsl(20.5 90.2% 48.2%);--sl-color-orange-700: hsl(17.5 88.3% 40.4%);--sl-color-orange-800: hsl(15 79.1% 33.7%);--sl-color-orange-900: hsl(15.3 74.6% 27.8%);--sl-color-orange-950: hsl(15.2 69.1% 19%);--sl-color-amber-50: hsl(48 100% 96.1%);--sl-color-amber-100: hsl(48 96.5% 88.8%);--sl-color-amber-200: hsl(48 96.6% 76.7%);--sl-color-amber-300: hsl(45.9 96.7% 64.5%);--sl-color-amber-400: hsl(43.3 96.4% 56.3%);--sl-color-amber-500: hsl(37.7 92.1% 50.2%);--sl-color-amber-600: hsl(32.1 94.6% 43.7%);--sl-color-amber-700: hsl(26 90.5% 37.1%);--sl-color-amber-800: hsl(22.7 82.5% 31.4%);--sl-color-amber-900: hsl(21.7 77.8% 26.5%);--sl-color-amber-950: hsl(22.9 74.1% 16.7%);--sl-color-yellow-50: hsl(54.5 91.7% 95.3%);--sl-color-yellow-100: hsl(54.9 96.7% 88%);--sl-color-yellow-200: hsl(52.8 98.3% 76.9%);--sl-color-yellow-300: hsl(50.4 97.8% 63.5%);--sl-color-yellow-400: hsl(47.9 95.8% 53.1%);--sl-color-yellow-500: hsl(45.4 93.4% 47.5%);--sl-color-yellow-600: hsl(40.6 96.1% 40.4%);--sl-color-yellow-700: hsl(35.5 91.7% 32.9%);--sl-color-yellow-800: hsl(31.8 81% 28.8%);--sl-color-yellow-900: hsl(28.4 72.5% 25.7%);--sl-color-yellow-950: hsl(33.1 69% 13.9%);--sl-color-lime-50: hsl(78.3 92% 95.1%);--sl-color-lime-100: hsl(79.6 89.1% 89.2%);--sl-color-lime-200: hsl(80.9 88.5% 79.6%);--sl-color-lime-300: hsl(82 84.5% 67.1%);--sl-color-lime-400: hsl(82.7 78% 55.5%);--sl-color-lime-500: hsl(83.7 80.5% 44.3%);--sl-color-lime-600: hsl(84.8 85.2% 34.5%);--sl-color-lime-700: hsl(85.9 78.4% 27.3%);--sl-color-lime-800: hsl(86.3 69% 22.7%);--sl-color-lime-900: hsl(87.6 61.2% 20.2%);--sl-color-lime-950: hsl(86.5 60.6% 13.9%);--sl-color-green-50: hsl(138.5 76.5% 96.7%);--sl-color-green-100: hsl(140.6 84.2% 92.5%);--sl-color-green-200: hsl(141 78.9% 85.1%);--sl-color-green-300: hsl(141.7 76.6% 73.1%);--sl-color-green-400: hsl(141.9 69.2% 58%);--sl-color-green-500: hsl(142.1 70.6% 45.3%);--sl-color-green-600: hsl(142.1 76.2% 36.3%);--sl-color-green-700: hsl(142.4 71.8% 29.2%);--sl-color-green-800: hsl(142.8 64.2% 24.1%);--sl-color-green-900: hsl(143.8 61.2% 20.2%);--sl-color-green-950: hsl(144.3 60.7% 12%);--sl-color-emerald-50: hsl(151.8 81% 95.9%);--sl-color-emerald-100: hsl(149.3 80.4% 90%);--sl-color-emerald-200: hsl(152.4 76% 80.4%);--sl-color-emerald-300: hsl(156.2 71.6% 66.9%);--sl-color-emerald-400: hsl(158.1 64.4% 51.6%);--sl-color-emerald-500: hsl(160.1 84.1% 39.4%);--sl-color-emerald-600: hsl(161.4 93.5% 30.4%);--sl-color-emerald-700: hsl(162.9 93.5% 24.3%);--sl-color-emerald-800: hsl(163.1 88.1% 19.8%);--sl-color-emerald-900: hsl(164.2 85.7% 16.5%);--sl-color-emerald-950: hsl(164.3 87.5% 9.4%);--sl-color-teal-50: hsl(166.2 76.5% 96.7%);--sl-color-teal-100: hsl(167.2 85.5% 89.2%);--sl-color-teal-200: hsl(168.4 83.8% 78.2%);--sl-color-teal-300: hsl(170.6 76.9% 64.3%);--sl-color-teal-400: hsl(172.5 66% 50.4%);--sl-color-teal-500: hsl(173.4 80.4% 40%);--sl-color-teal-600: hsl(174.7 83.9% 31.6%);--sl-color-teal-700: hsl(175.3 77.4% 26.1%);--sl-color-teal-800: hsl(176.1 69.4% 21.8%);--sl-color-teal-900: hsl(175.9 60.8% 19%);--sl-color-teal-950: hsl(176.5 58.6% 11.4%);--sl-color-cyan-50: hsl(183.2 100% 96.3%);--sl-color-cyan-100: hsl(185.1 95.9% 90.4%);--sl-color-cyan-200: hsl(186.2 93.5% 81.8%);--sl-color-cyan-300: hsl(187 92.4% 69%);--sl-color-cyan-400: hsl(187.9 85.7% 53.3%);--sl-color-cyan-500: hsl(188.7 94.5% 42.7%);--sl-color-cyan-600: hsl(191.6 91.4% 36.5%);--sl-color-cyan-700: hsl(192.9 82.3% 31%);--sl-color-cyan-800: hsl(194.4 69.6% 27.1%);--sl-color-cyan-900: hsl(196.4 63.6% 23.7%);--sl-color-cyan-950: hsl(196.8 61% 16.1%);--sl-color-sky-50: hsl(204 100% 97.1%);--sl-color-sky-100: hsl(204 93.8% 93.7%);--sl-color-sky-200: hsl(200.6 94.4% 86.1%);--sl-color-sky-300: hsl(199.4 95.5% 73.9%);--sl-color-sky-400: hsl(198.4 93.2% 59.6%);--sl-color-sky-500: hsl(198.6 88.7% 48.4%);--sl-color-sky-600: hsl(200.4 98% 39.4%);--sl-color-sky-700: hsl(201.3 96.3% 32.2%);--sl-color-sky-800: hsl(201 90% 27.5%);--sl-color-sky-900: hsl(202 80.3% 23.9%);--sl-color-sky-950: hsl(202.3 73.8% 16.5%);--sl-color-blue-50: hsl(213.8 100% 96.9%);--sl-color-blue-100: hsl(214.3 94.6% 92.7%);--sl-color-blue-200: hsl(213.3 96.9% 87.3%);--sl-color-blue-300: hsl(211.7 96.4% 78.4%);--sl-color-blue-400: hsl(213.1 93.9% 67.8%);--sl-color-blue-500: hsl(217.2 91.2% 59.8%);--sl-color-blue-600: hsl(221.2 83.2% 53.3%);--sl-color-blue-700: hsl(224.3 76.3% 48%);--sl-color-blue-800: hsl(225.9 70.7% 40.2%);--sl-color-blue-900: hsl(224.4 64.3% 32.9%);--sl-color-blue-950: hsl(226.2 55.3% 18.4%);--sl-color-indigo-50: hsl(225.9 100% 96.7%);--sl-color-indigo-100: hsl(226.5 100% 93.9%);--sl-color-indigo-200: hsl(228 96.5% 88.8%);--sl-color-indigo-300: hsl(229.7 93.5% 81.8%);--sl-color-indigo-400: hsl(234.5 89.5% 73.9%);--sl-color-indigo-500: hsl(238.7 83.5% 66.7%);--sl-color-indigo-600: hsl(243.4 75.4% 58.6%);--sl-color-indigo-700: hsl(244.5 57.9% 50.6%);--sl-color-indigo-800: hsl(243.7 54.5% 41.4%);--sl-color-indigo-900: hsl(242.2 47.4% 34.3%);--sl-color-indigo-950: hsl(243.5 43.6% 22.9%);--sl-color-violet-50: hsl(250 100% 97.6%);--sl-color-violet-100: hsl(251.4 91.3% 95.5%);--sl-color-violet-200: hsl(250.5 95.2% 91.8%);--sl-color-violet-300: hsl(252.5 94.7% 85.1%);--sl-color-violet-400: hsl(255.1 91.7% 76.3%);--sl-color-violet-500: hsl(258.3 89.5% 66.3%);--sl-color-violet-600: hsl(262.1 83.3% 57.8%);--sl-color-violet-700: hsl(263.4 70% 50.4%);--sl-color-violet-800: hsl(263.4 69.3% 42.2%);--sl-color-violet-900: hsl(263.5 67.4% 34.9%);--sl-color-violet-950: hsl(265.1 61.5% 21.4%);--sl-color-purple-50: hsl(270 100% 98%);--sl-color-purple-100: hsl(268.7 100% 95.5%);--sl-color-purple-200: hsl(268.6 100% 91.8%);--sl-color-purple-300: hsl(269.2 97.4% 85.1%);--sl-color-purple-400: hsl(270 95.2% 75.3%);--sl-color-purple-500: hsl(270.7 91% 65.1%);--sl-color-purple-600: hsl(271.5 81.3% 55.9%);--sl-color-purple-700: hsl(272.1 71.7% 47.1%);--sl-color-purple-800: hsl(272.9 67.2% 39.4%);--sl-color-purple-900: hsl(273.6 65.6% 32%);--sl-color-purple-950: hsl(276 59.5% 16.5%);--sl-color-fuchsia-50: hsl(289.1 100% 97.8%);--sl-color-fuchsia-100: hsl(287 100% 95.5%);--sl-color-fuchsia-200: hsl(288.3 95.8% 90.6%);--sl-color-fuchsia-300: hsl(291.1 93.1% 82.9%);--sl-color-fuchsia-400: hsl(292 91.4% 72.5%);--sl-color-fuchsia-500: hsl(292.2 84.1% 60.6%);--sl-color-fuchsia-600: hsl(293.4 69.5% 48.8%);--sl-color-fuchsia-700: hsl(294.7 72.4% 39.8%);--sl-color-fuchsia-800: hsl(295.4 70.2% 32.9%);--sl-color-fuchsia-900: hsl(296.7 63.6% 28%);--sl-color-fuchsia-950: hsl(297.1 56.8% 14.5%);--sl-color-pink-50: hsl(327.3 73.3% 97.1%);--sl-color-pink-100: hsl(325.7 77.8% 94.7%);--sl-color-pink-200: hsl(325.9 84.6% 89.8%);--sl-color-pink-300: hsl(327.4 87.1% 81.8%);--sl-color-pink-400: hsl(328.6 85.5% 70.2%);--sl-color-pink-500: hsl(330.4 81.2% 60.4%);--sl-color-pink-600: hsl(333.3 71.4% 50.6%);--sl-color-pink-700: hsl(335.1 77.6% 42%);--sl-color-pink-800: hsl(335.8 74.4% 35.3%);--sl-color-pink-900: hsl(335.9 69% 30.4%);--sl-color-pink-950: hsl(336.2 65.4% 15.9%);--sl-color-rose-50: hsl(355.7 100% 97.3%);--sl-color-rose-100: hsl(355.6 100% 94.7%);--sl-color-rose-200: hsl(352.7 96.1% 90%);--sl-color-rose-300: hsl(352.6 95.7% 81.8%);--sl-color-rose-400: hsl(351.3 94.5% 71.4%);--sl-color-rose-500: hsl(349.7 89.2% 60.2%);--sl-color-rose-600: hsl(346.8 77.2% 49.8%);--sl-color-rose-700: hsl(345.3 82.7% 40.8%);--sl-color-rose-800: hsl(343.4 79.7% 34.7%);--sl-color-rose-900: hsl(341.5 75.5% 30.4%);--sl-color-rose-950: hsl(341.3 70.1% 17.1%);--sl-color-primary-50: var(--sl-color-sky-50);--sl-color-primary-100: var(--sl-color-sky-100);--sl-color-primary-200: var(--sl-color-sky-200);--sl-color-primary-300: var(--sl-color-sky-300);--sl-color-primary-400: var(--sl-color-sky-400);--sl-color-primary-500: var(--sl-color-sky-500);--sl-color-primary-600: var(--sl-color-sky-600);--sl-color-primary-700: var(--sl-color-sky-700);--sl-color-primary-800: var(--sl-color-sky-800);--sl-color-primary-900: var(--sl-color-sky-900);--sl-color-primary-950: var(--sl-color-sky-950);--sl-color-success-50: var(--sl-color-green-50);--sl-color-success-100: var(--sl-color-green-100);--sl-color-success-200: var(--sl-color-green-200);--sl-color-success-300: var(--sl-color-green-300);--sl-color-success-400: var(--sl-color-green-400);--sl-color-success-500: var(--sl-color-green-500);--sl-color-success-600: var(--sl-color-green-600);--sl-color-success-700: var(--sl-color-green-700);--sl-color-success-800: var(--sl-color-green-800);--sl-color-success-900: var(--sl-color-green-900);--sl-color-success-950: var(--sl-color-green-950);--sl-color-warning-50: var(--sl-color-amber-50);--sl-color-warning-100: var(--sl-color-amber-100);--sl-color-warning-200: var(--sl-color-amber-200);--sl-color-warning-300: var(--sl-color-amber-300);--sl-color-warning-400: var(--sl-color-amber-400);--sl-color-warning-500: var(--sl-color-amber-500);--sl-color-warning-600: var(--sl-color-amber-600);--sl-color-warning-700: var(--sl-color-amber-700);--sl-color-warning-800: var(--sl-color-amber-800);--sl-color-warning-900: var(--sl-color-amber-900);--sl-color-warning-950: var(--sl-color-amber-950);--sl-color-danger-50: var(--sl-color-red-50);--sl-color-danger-100: var(--sl-color-red-100);--sl-color-danger-200: var(--sl-color-red-200);--sl-color-danger-300: var(--sl-color-red-300);--sl-color-danger-400: var(--sl-color-red-400);--sl-color-danger-500: var(--sl-color-red-500);--sl-color-danger-600: var(--sl-color-red-600);--sl-color-danger-700: var(--sl-color-red-700);--sl-color-danger-800: var(--sl-color-red-800);--sl-color-danger-900: var(--sl-color-red-900);--sl-color-danger-950: var(--sl-color-red-950);--sl-color-neutral-50: var(--sl-color-gray-50);--sl-color-neutral-100: var(--sl-color-gray-100);--sl-color-neutral-200: var(--sl-color-gray-200);--sl-color-neutral-300: var(--sl-color-gray-300);--sl-color-neutral-400: var(--sl-color-gray-400);--sl-color-neutral-500: var(--sl-color-gray-500);--sl-color-neutral-600: var(--sl-color-gray-600);--sl-color-neutral-700: var(--sl-color-gray-700);--sl-color-neutral-800: var(--sl-color-gray-800);--sl-color-neutral-900: var(--sl-color-gray-900);--sl-color-neutral-950: var(--sl-color-gray-950);--sl-color-neutral-0: hsl(0, 0%, 100%);--sl-color-neutral-1000: hsl(0, 0%, 0%);--sl-border-radius-small: .1875rem;--sl-border-radius-medium: .25rem;--sl-border-radius-large: .5rem;--sl-border-radius-x-large: 1rem;--sl-border-radius-circle: 50%;--sl-border-radius-pill: 9999px;--sl-shadow-x-small: 0 1px 2px hsl(240 3.8% 46.1% / 6%);--sl-shadow-small: 0 1px 2px hsl(240 3.8% 46.1% / 12%);--sl-shadow-medium: 0 2px 4px hsl(240 3.8% 46.1% / 12%);--sl-shadow-large: 0 2px 8px hsl(240 3.8% 46.1% / 12%);--sl-shadow-x-large: 0 4px 16px hsl(240 3.8% 46.1% / 12%);--sl-spacing-3x-small: .125rem;--sl-spacing-2x-small: .25rem;--sl-spacing-x-small: .5rem;--sl-spacing-small: .75rem;--sl-spacing-medium: 1rem;--sl-spacing-large: 1.25rem;--sl-spacing-x-large: 1.75rem;--sl-spacing-2x-large: 2.25rem;--sl-spacing-3x-large: 3rem;--sl-spacing-4x-large: 4.5rem;--sl-transition-x-slow: 1s;--sl-transition-slow: .5s;--sl-transition-medium: .25s;--sl-transition-fast: .15s;--sl-transition-x-fast: 50ms;--sl-font-mono: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;--sl-font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--sl-font-serif: Georgia, "Times New Roman", serif;--sl-font-size-2x-small: .625rem;--sl-font-size-x-small: .75rem;--sl-font-size-small: .875rem;--sl-font-size-medium: 1rem;--sl-font-size-large: 1.25rem;--sl-font-size-x-large: 1.5rem;--sl-font-size-2x-large: 2.25rem;--sl-font-size-3x-large: 3rem;--sl-font-size-4x-large: 4.5rem;--sl-font-weight-light: 300;--sl-font-weight-normal: 400;--sl-font-weight-semibold: 500;--sl-font-weight-bold: 700;--sl-letter-spacing-denser: -.03em;--sl-letter-spacing-dense: -.015em;--sl-letter-spacing-normal: normal;--sl-letter-spacing-loose: .075em;--sl-letter-spacing-looser: .15em;--sl-line-height-denser: 1;--sl-line-height-dense: 1.4;--sl-line-height-normal: 1.8;--sl-line-height-loose: 2.2;--sl-line-height-looser: 2.6;--sl-focus-ring-color: var(--sl-color-primary-600);--sl-focus-ring-style: solid;--sl-focus-ring-width: 3px;--sl-focus-ring: var(--sl-focus-ring-style) var(--sl-focus-ring-width) var(--sl-focus-ring-color);--sl-focus-ring-offset: 1px;--sl-button-font-size-small: var(--sl-font-size-x-small);--sl-button-font-size-medium: var(--sl-font-size-small);--sl-button-font-size-large: var(--sl-font-size-medium);--sl-input-height-small: 1.875rem;--sl-input-height-medium: 2.5rem;--sl-input-height-large: 3.125rem;--sl-input-background-color: var(--sl-color-neutral-0);--sl-input-background-color-hover: var(--sl-input-background-color);--sl-input-background-color-focus: var(--sl-input-background-color);--sl-input-background-color-disabled: var(--sl-color-neutral-100);--sl-input-border-color: var(--sl-color-neutral-300);--sl-input-border-color-hover: var(--sl-color-neutral-400);--sl-input-border-color-focus: var(--sl-color-primary-500);--sl-input-border-color-disabled: var(--sl-color-neutral-300);--sl-input-border-width: 1px;--sl-input-required-content: "*";--sl-input-required-content-offset: -2px;--sl-input-required-content-color: var(--sl-input-label-color);--sl-input-border-radius-small: var(--sl-border-radius-medium);--sl-input-border-radius-medium: var(--sl-border-radius-medium);--sl-input-border-radius-large: var(--sl-border-radius-medium);--sl-input-font-family: var(--sl-font-sans);--sl-input-font-weight: var(--sl-font-weight-normal);--sl-input-font-size-small: var(--sl-font-size-small);--sl-input-font-size-medium: var(--sl-font-size-medium);--sl-input-font-size-large: var(--sl-font-size-large);--sl-input-letter-spacing: var(--sl-letter-spacing-normal);--sl-input-color: var(--sl-color-neutral-700);--sl-input-color-hover: var(--sl-color-neutral-700);--sl-input-color-focus: var(--sl-color-neutral-700);--sl-input-color-disabled: var(--sl-color-neutral-900);--sl-input-icon-color: var(--sl-color-neutral-500);--sl-input-icon-color-hover: var(--sl-color-neutral-600);--sl-input-icon-color-focus: var(--sl-color-neutral-600);--sl-input-placeholder-color: var(--sl-color-neutral-500);--sl-input-placeholder-color-disabled: var(--sl-color-neutral-600);--sl-input-spacing-small: var(--sl-spacing-small);--sl-input-spacing-medium: var(--sl-spacing-medium);--sl-input-spacing-large: var(--sl-spacing-large);--sl-input-focus-ring-color: hsl(198.6 88.7% 48.4% / 40%);--sl-input-focus-ring-offset: 0;--sl-input-filled-background-color: var(--sl-color-neutral-100);--sl-input-filled-background-color-hover: var(--sl-color-neutral-100);--sl-input-filled-background-color-focus: var(--sl-color-neutral-100);--sl-input-filled-background-color-disabled: var(--sl-color-neutral-100);--sl-input-filled-color: var(--sl-color-neutral-800);--sl-input-filled-color-hover: var(--sl-color-neutral-800);--sl-input-filled-color-focus: var(--sl-color-neutral-700);--sl-input-filled-color-disabled: var(--sl-color-neutral-800);--sl-input-label-font-size-small: var(--sl-font-size-small);--sl-input-label-font-size-medium: var(--sl-font-size-medium);--sl-input-label-font-size-large: var(--sl-font-size-large);--sl-input-label-color: inherit;--sl-input-help-text-font-size-small: var(--sl-font-size-x-small);--sl-input-help-text-font-size-medium: var(--sl-font-size-small);--sl-input-help-text-font-size-large: var(--sl-font-size-medium);--sl-input-help-text-color: var(--sl-color-neutral-500);--sl-toggle-size-small: .875rem;--sl-toggle-size-medium: 1.125rem;--sl-toggle-size-large: 1.375rem;--sl-overlay-background-color: hsl(240 3.8% 46.1% / 33%);--sl-panel-background-color: var(--sl-color-neutral-0);--sl-panel-border-color: var(--sl-color-neutral-200);--sl-panel-border-width: 1px;--sl-tooltip-border-radius: var(--sl-border-radius-medium);--sl-tooltip-background-color: var(--sl-color-neutral-800);--sl-tooltip-color: var(--sl-color-neutral-0);--sl-tooltip-font-family: var(--sl-font-sans);--sl-tooltip-font-weight: var(--sl-font-weight-normal);--sl-tooltip-font-size: var(--sl-font-size-small);--sl-tooltip-line-height: var(--sl-line-height-dense);--sl-tooltip-padding: var(--sl-spacing-2x-small) var(--sl-spacing-x-small);--sl-tooltip-arrow-size: 6px;--sl-z-index-drawer: 700;--sl-z-index-dialog: 800;--sl-z-index-dropdown: 900;--sl-z-index-toast: 950;--sl-z-index-tooltip: 1000}@supports (scrollbar-gutter: stable){.sl-scroll-lock{scrollbar-gutter:stable!important;overflow:hidden!important}}@supports not (scrollbar-gutter: stable){.sl-scroll-lock{padding-right:var(--sl-scroll-lock-size)!important;overflow:hidden!important}}.sl-toast-stack{position:fixed;top:0;inset-inline-end:0;z-index:var(--sl-z-index-toast);width:28rem;max-width:100%;max-height:100%;overflow:auto}.sl-toast-stack sl-alert{margin:var(--sl-spacing-medium)}.sl-toast-stack sl-alert::part(base){box-shadow:var(--sl-shadow-large)}*{box-sizing:border-box}:host{display:flex;align-content:center;justify-content:center;position:relative;background-color:inherit}.content{width:100%;height:100%;margin:auto}#map{width:100%;height:100%}#caption{font-family:sans-serif;width:100%;white-space:nowrap;background-color:#555;color:#fff;padding:4px 6px;bottom:0;height:32px;text-overflow:ellipsis;overflow:hidden}#lat-lng-zoom{position:absolute;font-family:sans-serif;bottom:24px;right:0;width:150px;height:32px;padding:3px 6px;font-size:.8rem;background-color:#ffffff80;color:#000;z-index:2;opacity:0;text-align:right}#lat-lng-zoom:hover{visibility:visible;opacity:1;transition:all .3s ease-in;cursor:copy;z-index:1000}.card{display:grid;grid-template-columns:1fr;grid-template-rows:auto auto auto 1fr 0px;border-radius:4px;padding:0}.card p{border:none}.card-image{grid-area:1 / 1 / 2 / 2;width:100%;height:190px}.card-title{grid-area:2 / 1 / 3 / 2;font-weight:700;font-size:1.5rem;line-height:1;padding:1.3rem .5rem .2rem;text-decoration:none}.card-metadata{grid-area:3 / 1 / 4 / 2;list-style:none;padding:.2rem .5rem;margin:0;font-size:.9rem;font-weight:400}.card-abstract{grid-area:4 / 1 / 5 / 2;align-self:flex-end;height:110px;line-height:1.4;font-size:1rem;padding:.5rem .5rem 0;overflow:hidden;display:-webkit-box;-webkit-line-clamp:5;-webkit-box-orient:vertical;margin:0 0 .5rem}.leaflet-popup-content{width:280px;margin:0}.leaflet-control-layers-toggle{background-image:url(https://unpkg.com/leaflet@1.9.3/dist/images/layers.png)}.leaflet-retina .leaflet-control-layers-toggle{background-image:url(https://unpkg.com/leaflet@1.9.3/dist/images/layers-2x.png)}sl-dialog::part(panel){max-width:unset;max-height:unset;height:100dvh}sl-dialog::part(overlay){--sl-overlay-background-color: rgba(100, 100, 100, .8)}sl-dialog::part(footer){background-color:#64646480}.leaflet-top,.leaflet-bottom{z-index:unset}.dialog .footer{display:flex;align-items:center;gap:.5em;padding:.5em;text-align:left}.push{margin-left:auto}
`,aU=no(oU,[["styles",[sU]]]),lU=Jt("sl-button",{slot:"trigger"},[Jt("svg",{xmlns:"http://www.w3.org/2000/svg",slot:"prefix",width:"16",height:"16",fill:"currentColor",class:"bi bi-list",viewBox:"0 0 16 16"},[Jt("path",{"fill-rule":"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"})])],-1),cU=["onClick"],uU=["innerHTML"],hU=["innerHTML"],dU={key:1,slot:"prefix",style:{width:"1em","margin-right":"1em"}},pU=Jt("span",null,"Download as PDF",-1),fU=Jt("img",{slot:"prefix",width:"16",src:"https://upload.wikimedia.org/wikipedia/commons/2/2a/Noun_Project_PDF_icon_117327_cc.svg",alt:"PDF Download Icon"},null,-1),gU=[pU,fU],mU={class:"font-medium"},vU=Jt("span",{class:"font-medium"}," Logout",-1),yU=["innerHTML"],bU={class:"font-medium"},wU=["innerHTML"],xU={class:"hs-overlay-open:mt-7 hs-overlay-open:opacity-100 hs-overlay-open:duration-500 mt-0 opacity-0 ease-out transition-all sm:max-w-lg sm:w-full m-3 sm:mx-auto min-h-[calc(100%-3.5rem)] flex items-center"},_U={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},kU={class:"p-4 overflow-y-auto flex items-center gap-4 text-black"},EU=Jt("sl-spinner",{style:{"font-size":"3rem","--indicator-color":"deeppink","--track-color":"pink"}},null,-1),TU=["innerHTML"],SU=kn({__name:"Menu.ce",props:{auth:{type:String},contact:{type:String},pdfDownloadEnabled:{type:Boolean,default:!1}},setup(i){const r=i,t=se(null),o=Ce(()=>{var Lt,xt;return(xt=(Lt=t.value)==null?void 0:Lt.getRootNode())==null?void 0:xt.host});Ne(o,()=>{C()});const l=se(null),u=Ce(()=>l==null?void 0:l.value),d=Ce(()=>new Dx(u.value)),p=se(null),m=Ce(()=>p==null?void 0:p.value),v=se("Generating PDF...");Ne(m,Lt=>{d.value.init(),Lt.addEventListener("open.hs.overlay",xt=>x.value=!0),Lt.addEventListener("close.hs.overlay",xt=>x.value=!1)});const x=se(!1);Ne(x,Lt=>{Lt?d.value.open(m.value):d.value.close(m.value)}),zo(async()=>{r.auth==="github"&&et()});const k=se([]);function C(){function Lt(){let xt=Array.from(o.value.querySelectorAll("li")).map(Dt=>{var At,Xt;const zt=Dt.querySelector("a");let fe=zt.innerText.trim(),yt=(At=Dt.querySelector("svg"))==null?void 0:At.outerHTML;if(!yt){let ee=((Xt=zt.href.split("/").filter(ge=>ge).pop())==null?void 0:Xt.toLowerCase())||"";ee=location.host===ee?"home":ee,j[ee]&&(yt=j[ee])}return{label:fe,icon:yt,href:zt.href}});r.contact&&xt.push({label:"Contact Us",icon:j.contact,href:"/contact"}),k.value=xt}Lt(),new MutationObserver(xt=>{for(let Dt of xt)Dt.type==="childList"&&Lt()}).observe(o.value,{childList:!0,subtree:!0})}function M(Lt,xt){var zt;let Dt=Lt.href.split("/").filter(fe=>fe).pop().toLowerCase();if(Dt=location.host===Dt?"home":Dt,Dt==="contact")I();else{let fe=new URL(Lt.href);if(fe.origin===location.origin){let At=`${((zt=(H==null?void 0:H.config)||{})==null?void 0:zt.baseurl)||""}${fe.pathname}`;location.pathname=At}else location.href=Lt.href}}function I(){const Lt=r.contact,xt=`${H.config.title} Contact`,zt=`mailto:${Lt}?subject=${xt}&body=`;H.open(zt,"_blank")}async function D(){console.log(`Generating PDF for ${location.href}`),v.value="Generating PDF...",x.value=!x.value;let Lt=await fetch(`https://ezsitepdf-drnxe7pzjq-uc.a.run.app/pdf?url=${location.href}`);if(Lt.ok){v.value="Downloading PDF...";let xt=await Lt.blob();const Dt=document.createElement("a");Dt.setAttribute("download","resume.pdf");const zt=URL.createObjectURL(xt);Dt.href=zt,Dt.setAttribute("target","_blank"),Dt.click(),Dt.addEventListener,URL.revokeObjectURL(zt)}setTimeout(()=>x.value=!1,2e3)}const j={about:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"/></svg>',contact:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"/></svg>',home:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 576 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"/></svg>',login:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M304 128a80 80 0 1 0 -160 0 80 80 0 1 0 160 0zM96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM49.3 464H398.7c-8.9-63.3-63.3-112-129-112H178.3c-65.7 0-120.1 48.7-129 112zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3z"/></svg>',user:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"/></svg>'},H=self.window,J=se(H.config||{}),q=se(null),W=se(!1);Ne(q,()=>{q.value?localStorage.setItem("auth-user",JSON.stringify(q.value)):localStorage.getItem("auth-user")&&localStorage.removeItem("auth-user")});const st=Ce(()=>{var Lt,xt;return((Lt=q.value)==null?void 0:Lt.token)||((xt=q.value)==null?void 0:xt.token)||!1});Ne(st,()=>{st.value||(W.value=!1)});function mt(Lt){return Lt[0].toUpperCase()+Lt.slice(1).toLowerCase()}function gt(Lt){Lt.preventDefault(),lt()}function ot(Lt){Lt.preventDefault(),q.value=null,ht()}const U={"iiif.mdpress.io":"9baccef56771878fd304","www.mdpress.io":"226eaf757c87b5be8379"};async function et(){var Dt,zt;let Lt=localStorage.getItem("auth-user")&&JSON.parse(localStorage.getItem("auth-user")||"{}");(Lt==null?void 0:Lt.provider)==="github"?q.value=Lt:q.value=null;let xt=new URL(H.location.href).searchParams.get("code");if(xt){let fe=`${location.pathname}${location.hash}`;H.history.replaceState({},"",fe);let yt=`https://iiif.mdpress.io/gh-token?code=${xt}&hostname=${H.location.hostname}`,At=await fetch(yt);if(At.ok){let Xt=await At.text(),ee=await Gt(Xt);q.value=ee}}q.value&&(W.value=await St((Dt=J.value)==null?void 0:Dt.github.owner_name,(zt=J.value)==null?void 0:zt.github.repository_name,q.value.username,q.value.token))}async function lt(){var Dt,zt;let Lt=new URL(H.location.href).hostname;if(Lt==="localhost"||Lt.indexOf("192.168.")===0){let fe=await fetch("http://localhost:8088/gh-token?hostname=localhost&code=testing");if(fe.ok){let yt=await fe.text(),At=await Gt(yt);q.value=At,W.value=await St((Dt=J.value)==null?void 0:Dt.github.owner_name,(zt=J.value)==null?void 0:zt.github.repository_name,q.value.username,yt),location.reload()}}else{let fe=`${H.location.href}`,yt=U[location.hostname]!==void 0?`https://github.com/login/oauth/authorize?client_id=${U[location.hostname]}&scope=repo&state=mdpress&redirect_uri=${fe}`:null;yt&&(H.location.href=yt)}}function ht(){Object.keys(localStorage).forEach(Lt=>localStorage.removeItem(Lt)),q.value=null,location.reload()}async function Gt(Lt){let xt=await fetch("https://api.github.com/user",{headers:{Accept:"application/vnd.github+json",Authorization:`token ${Lt}`}});if(xt.ok){let Dt=await xt.json();return{provider:"github",username:Dt.login,name:Dt.name,email:Dt.email,token:Lt}}}async function St(Lt,xt,Dt,zt){let fe=`https://api.github.com/repos/${Lt}/${xt}/collaborators/${Dt}`,yt=await fetch(fe,{headers:{Accept:"application/vnd.github+json",Authorization:`token ${zt}`}});return yt.ok&&yt.status===204}return(Lt,xt)=>{var Dt,zt;return ce(),de(Mi,null,[Jt("sl-dropdown",{ref_key:"root",ref:t},[lU,Jt("sl-menu",null,[(ce(!0),de(Mi,null,sc(k.value,fe=>(ce(),de("sl-menu-item",{onClick:yt=>M(fe)},[Jt("span",{innerHTML:fe.label},null,8,uU),fe.icon?(ce(),de("svg",{key:0,slot:"prefix",innerHTML:fe.icon},null,8,hU)):(ce(),de("span",dU))],8,cU))),256)),i.pdfDownloadEnabled?(ce(),de("sl-menu-item",{key:0,onClick:D},gU)):ir("",!0),r.auth&&st.value?(ce(),de("sl-menu-item",{key:1,onClick:ot},[Jt("span",mU,"("+hp(((Dt=q.value)==null?void 0:Dt.name)||((zt=q.value)==null?void 0:zt.email))+")",1),vU,(ce(),de("svg",{slot:"prefix",innerHTML:j.user},null,8,yU))])):ir("",!0),r.auth&&!st.value?(ce(),de("sl-menu-item",{key:2,onClick:gt},[Jt("span",bU,"Login with "+hp(mt(r.auth)),1),(ce(),de("svg",{slot:"prefix",innerHTML:j.login},null,8,wU))])):ir("",!0)])],512),Jt("div",{ref_key:"overlayRef",ref:l},[Jt("div",{ref_key:"modalRef",ref:p,id:"hs-basic-modal",class:"hs-overlay hidden w-full h-full fixed top-0 start-0 z-[80] overflow-x-hidden overflow-y-auto pointer-events-none"},[Jt("div",xU,[Jt("div",_U,[Jt("div",kU,[EU,Jt("p",{innerHTML:v.value},null,8,TU)])])])],512)],512)],64)}}}),CU=`:root,:host,.sl-theme-light{color-scheme:light;--sl-color-gray-50: hsl(0 0% 97.5%);--sl-color-gray-100: hsl(240 4.8% 95.9%);--sl-color-gray-200: hsl(240 5.9% 90%);--sl-color-gray-300: hsl(240 4.9% 83.9%);--sl-color-gray-400: hsl(240 5% 64.9%);--sl-color-gray-500: hsl(240 3.8% 46.1%);--sl-color-gray-600: hsl(240 5.2% 33.9%);--sl-color-gray-700: hsl(240 5.3% 26.1%);--sl-color-gray-800: hsl(240 3.7% 15.9%);--sl-color-gray-900: hsl(240 5.9% 10%);--sl-color-gray-950: hsl(240 7.3% 8%);--sl-color-red-50: hsl(0 85.7% 97.3%);--sl-color-red-100: hsl(0 93.3% 94.1%);--sl-color-red-200: hsl(0 96.3% 89.4%);--sl-color-red-300: hsl(0 93.5% 81.8%);--sl-color-red-400: hsl(0 90.6% 70.8%);--sl-color-red-500: hsl(0 84.2% 60.2%);--sl-color-red-600: hsl(0 72.2% 50.6%);--sl-color-red-700: hsl(0 73.7% 41.8%);--sl-color-red-800: hsl(0 70% 35.3%);--sl-color-red-900: hsl(0 62.8% 30.6%);--sl-color-red-950: hsl(0 60% 19.6%);--sl-color-orange-50: hsl(33.3 100% 96.5%);--sl-color-orange-100: hsl(34.3 100% 91.8%);--sl-color-orange-200: hsl(32.1 97.7% 83.1%);--sl-color-orange-300: hsl(30.7 97.2% 72.4%);--sl-color-orange-400: hsl(27 96% 61%);--sl-color-orange-500: hsl(24.6 95% 53.1%);--sl-color-orange-600: hsl(20.5 90.2% 48.2%);--sl-color-orange-700: hsl(17.5 88.3% 40.4%);--sl-color-orange-800: hsl(15 79.1% 33.7%);--sl-color-orange-900: hsl(15.3 74.6% 27.8%);--sl-color-orange-950: hsl(15.2 69.1% 19%);--sl-color-amber-50: hsl(48 100% 96.1%);--sl-color-amber-100: hsl(48 96.5% 88.8%);--sl-color-amber-200: hsl(48 96.6% 76.7%);--sl-color-amber-300: hsl(45.9 96.7% 64.5%);--sl-color-amber-400: hsl(43.3 96.4% 56.3%);--sl-color-amber-500: hsl(37.7 92.1% 50.2%);--sl-color-amber-600: hsl(32.1 94.6% 43.7%);--sl-color-amber-700: hsl(26 90.5% 37.1%);--sl-color-amber-800: hsl(22.7 82.5% 31.4%);--sl-color-amber-900: hsl(21.7 77.8% 26.5%);--sl-color-amber-950: hsl(22.9 74.1% 16.7%);--sl-color-yellow-50: hsl(54.5 91.7% 95.3%);--sl-color-yellow-100: hsl(54.9 96.7% 88%);--sl-color-yellow-200: hsl(52.8 98.3% 76.9%);--sl-color-yellow-300: hsl(50.4 97.8% 63.5%);--sl-color-yellow-400: hsl(47.9 95.8% 53.1%);--sl-color-yellow-500: hsl(45.4 93.4% 47.5%);--sl-color-yellow-600: hsl(40.6 96.1% 40.4%);--sl-color-yellow-700: hsl(35.5 91.7% 32.9%);--sl-color-yellow-800: hsl(31.8 81% 28.8%);--sl-color-yellow-900: hsl(28.4 72.5% 25.7%);--sl-color-yellow-950: hsl(33.1 69% 13.9%);--sl-color-lime-50: hsl(78.3 92% 95.1%);--sl-color-lime-100: hsl(79.6 89.1% 89.2%);--sl-color-lime-200: hsl(80.9 88.5% 79.6%);--sl-color-lime-300: hsl(82 84.5% 67.1%);--sl-color-lime-400: hsl(82.7 78% 55.5%);--sl-color-lime-500: hsl(83.7 80.5% 44.3%);--sl-color-lime-600: hsl(84.8 85.2% 34.5%);--sl-color-lime-700: hsl(85.9 78.4% 27.3%);--sl-color-lime-800: hsl(86.3 69% 22.7%);--sl-color-lime-900: hsl(87.6 61.2% 20.2%);--sl-color-lime-950: hsl(86.5 60.6% 13.9%);--sl-color-green-50: hsl(138.5 76.5% 96.7%);--sl-color-green-100: hsl(140.6 84.2% 92.5%);--sl-color-green-200: hsl(141 78.9% 85.1%);--sl-color-green-300: hsl(141.7 76.6% 73.1%);--sl-color-green-400: hsl(141.9 69.2% 58%);--sl-color-green-500: hsl(142.1 70.6% 45.3%);--sl-color-green-600: hsl(142.1 76.2% 36.3%);--sl-color-green-700: hsl(142.4 71.8% 29.2%);--sl-color-green-800: hsl(142.8 64.2% 24.1%);--sl-color-green-900: hsl(143.8 61.2% 20.2%);--sl-color-green-950: hsl(144.3 60.7% 12%);--sl-color-emerald-50: hsl(151.8 81% 95.9%);--sl-color-emerald-100: hsl(149.3 80.4% 90%);--sl-color-emerald-200: hsl(152.4 76% 80.4%);--sl-color-emerald-300: hsl(156.2 71.6% 66.9%);--sl-color-emerald-400: hsl(158.1 64.4% 51.6%);--sl-color-emerald-500: hsl(160.1 84.1% 39.4%);--sl-color-emerald-600: hsl(161.4 93.5% 30.4%);--sl-color-emerald-700: hsl(162.9 93.5% 24.3%);--sl-color-emerald-800: hsl(163.1 88.1% 19.8%);--sl-color-emerald-900: hsl(164.2 85.7% 16.5%);--sl-color-emerald-950: hsl(164.3 87.5% 9.4%);--sl-color-teal-50: hsl(166.2 76.5% 96.7%);--sl-color-teal-100: hsl(167.2 85.5% 89.2%);--sl-color-teal-200: hsl(168.4 83.8% 78.2%);--sl-color-teal-300: hsl(170.6 76.9% 64.3%);--sl-color-teal-400: hsl(172.5 66% 50.4%);--sl-color-teal-500: hsl(173.4 80.4% 40%);--sl-color-teal-600: hsl(174.7 83.9% 31.6%);--sl-color-teal-700: hsl(175.3 77.4% 26.1%);--sl-color-teal-800: hsl(176.1 69.4% 21.8%);--sl-color-teal-900: hsl(175.9 60.8% 19%);--sl-color-teal-950: hsl(176.5 58.6% 11.4%);--sl-color-cyan-50: hsl(183.2 100% 96.3%);--sl-color-cyan-100: hsl(185.1 95.9% 90.4%);--sl-color-cyan-200: hsl(186.2 93.5% 81.8%);--sl-color-cyan-300: hsl(187 92.4% 69%);--sl-color-cyan-400: hsl(187.9 85.7% 53.3%);--sl-color-cyan-500: hsl(188.7 94.5% 42.7%);--sl-color-cyan-600: hsl(191.6 91.4% 36.5%);--sl-color-cyan-700: hsl(192.9 82.3% 31%);--sl-color-cyan-800: hsl(194.4 69.6% 27.1%);--sl-color-cyan-900: hsl(196.4 63.6% 23.7%);--sl-color-cyan-950: hsl(196.8 61% 16.1%);--sl-color-sky-50: hsl(204 100% 97.1%);--sl-color-sky-100: hsl(204 93.8% 93.7%);--sl-color-sky-200: hsl(200.6 94.4% 86.1%);--sl-color-sky-300: hsl(199.4 95.5% 73.9%);--sl-color-sky-400: hsl(198.4 93.2% 59.6%);--sl-color-sky-500: hsl(198.6 88.7% 48.4%);--sl-color-sky-600: hsl(200.4 98% 39.4%);--sl-color-sky-700: hsl(201.3 96.3% 32.2%);--sl-color-sky-800: hsl(201 90% 27.5%);--sl-color-sky-900: hsl(202 80.3% 23.9%);--sl-color-sky-950: hsl(202.3 73.8% 16.5%);--sl-color-blue-50: hsl(213.8 100% 96.9%);--sl-color-blue-100: hsl(214.3 94.6% 92.7%);--sl-color-blue-200: hsl(213.3 96.9% 87.3%);--sl-color-blue-300: hsl(211.7 96.4% 78.4%);--sl-color-blue-400: hsl(213.1 93.9% 67.8%);--sl-color-blue-500: hsl(217.2 91.2% 59.8%);--sl-color-blue-600: hsl(221.2 83.2% 53.3%);--sl-color-blue-700: hsl(224.3 76.3% 48%);--sl-color-blue-800: hsl(225.9 70.7% 40.2%);--sl-color-blue-900: hsl(224.4 64.3% 32.9%);--sl-color-blue-950: hsl(226.2 55.3% 18.4%);--sl-color-indigo-50: hsl(225.9 100% 96.7%);--sl-color-indigo-100: hsl(226.5 100% 93.9%);--sl-color-indigo-200: hsl(228 96.5% 88.8%);--sl-color-indigo-300: hsl(229.7 93.5% 81.8%);--sl-color-indigo-400: hsl(234.5 89.5% 73.9%);--sl-color-indigo-500: hsl(238.7 83.5% 66.7%);--sl-color-indigo-600: hsl(243.4 75.4% 58.6%);--sl-color-indigo-700: hsl(244.5 57.9% 50.6%);--sl-color-indigo-800: hsl(243.7 54.5% 41.4%);--sl-color-indigo-900: hsl(242.2 47.4% 34.3%);--sl-color-indigo-950: hsl(243.5 43.6% 22.9%);--sl-color-violet-50: hsl(250 100% 97.6%);--sl-color-violet-100: hsl(251.4 91.3% 95.5%);--sl-color-violet-200: hsl(250.5 95.2% 91.8%);--sl-color-violet-300: hsl(252.5 94.7% 85.1%);--sl-color-violet-400: hsl(255.1 91.7% 76.3%);--sl-color-violet-500: hsl(258.3 89.5% 66.3%);--sl-color-violet-600: hsl(262.1 83.3% 57.8%);--sl-color-violet-700: hsl(263.4 70% 50.4%);--sl-color-violet-800: hsl(263.4 69.3% 42.2%);--sl-color-violet-900: hsl(263.5 67.4% 34.9%);--sl-color-violet-950: hsl(265.1 61.5% 21.4%);--sl-color-purple-50: hsl(270 100% 98%);--sl-color-purple-100: hsl(268.7 100% 95.5%);--sl-color-purple-200: hsl(268.6 100% 91.8%);--sl-color-purple-300: hsl(269.2 97.4% 85.1%);--sl-color-purple-400: hsl(270 95.2% 75.3%);--sl-color-purple-500: hsl(270.7 91% 65.1%);--sl-color-purple-600: hsl(271.5 81.3% 55.9%);--sl-color-purple-700: hsl(272.1 71.7% 47.1%);--sl-color-purple-800: hsl(272.9 67.2% 39.4%);--sl-color-purple-900: hsl(273.6 65.6% 32%);--sl-color-purple-950: hsl(276 59.5% 16.5%);--sl-color-fuchsia-50: hsl(289.1 100% 97.8%);--sl-color-fuchsia-100: hsl(287 100% 95.5%);--sl-color-fuchsia-200: hsl(288.3 95.8% 90.6%);--sl-color-fuchsia-300: hsl(291.1 93.1% 82.9%);--sl-color-fuchsia-400: hsl(292 91.4% 72.5%);--sl-color-fuchsia-500: hsl(292.2 84.1% 60.6%);--sl-color-fuchsia-600: hsl(293.4 69.5% 48.8%);--sl-color-fuchsia-700: hsl(294.7 72.4% 39.8%);--sl-color-fuchsia-800: hsl(295.4 70.2% 32.9%);--sl-color-fuchsia-900: hsl(296.7 63.6% 28%);--sl-color-fuchsia-950: hsl(297.1 56.8% 14.5%);--sl-color-pink-50: hsl(327.3 73.3% 97.1%);--sl-color-pink-100: hsl(325.7 77.8% 94.7%);--sl-color-pink-200: hsl(325.9 84.6% 89.8%);--sl-color-pink-300: hsl(327.4 87.1% 81.8%);--sl-color-pink-400: hsl(328.6 85.5% 70.2%);--sl-color-pink-500: hsl(330.4 81.2% 60.4%);--sl-color-pink-600: hsl(333.3 71.4% 50.6%);--sl-color-pink-700: hsl(335.1 77.6% 42%);--sl-color-pink-800: hsl(335.8 74.4% 35.3%);--sl-color-pink-900: hsl(335.9 69% 30.4%);--sl-color-pink-950: hsl(336.2 65.4% 15.9%);--sl-color-rose-50: hsl(355.7 100% 97.3%);--sl-color-rose-100: hsl(355.6 100% 94.7%);--sl-color-rose-200: hsl(352.7 96.1% 90%);--sl-color-rose-300: hsl(352.6 95.7% 81.8%);--sl-color-rose-400: hsl(351.3 94.5% 71.4%);--sl-color-rose-500: hsl(349.7 89.2% 60.2%);--sl-color-rose-600: hsl(346.8 77.2% 49.8%);--sl-color-rose-700: hsl(345.3 82.7% 40.8%);--sl-color-rose-800: hsl(343.4 79.7% 34.7%);--sl-color-rose-900: hsl(341.5 75.5% 30.4%);--sl-color-rose-950: hsl(341.3 70.1% 17.1%);--sl-color-primary-50: var(--sl-color-sky-50);--sl-color-primary-100: var(--sl-color-sky-100);--sl-color-primary-200: var(--sl-color-sky-200);--sl-color-primary-300: var(--sl-color-sky-300);--sl-color-primary-400: var(--sl-color-sky-400);--sl-color-primary-500: var(--sl-color-sky-500);--sl-color-primary-600: var(--sl-color-sky-600);--sl-color-primary-700: var(--sl-color-sky-700);--sl-color-primary-800: var(--sl-color-sky-800);--sl-color-primary-900: var(--sl-color-sky-900);--sl-color-primary-950: var(--sl-color-sky-950);--sl-color-success-50: var(--sl-color-green-50);--sl-color-success-100: var(--sl-color-green-100);--sl-color-success-200: var(--sl-color-green-200);--sl-color-success-300: var(--sl-color-green-300);--sl-color-success-400: var(--sl-color-green-400);--sl-color-success-500: var(--sl-color-green-500);--sl-color-success-600: var(--sl-color-green-600);--sl-color-success-700: var(--sl-color-green-700);--sl-color-success-800: var(--sl-color-green-800);--sl-color-success-900: var(--sl-color-green-900);--sl-color-success-950: var(--sl-color-green-950);--sl-color-warning-50: var(--sl-color-amber-50);--sl-color-warning-100: var(--sl-color-amber-100);--sl-color-warning-200: var(--sl-color-amber-200);--sl-color-warning-300: var(--sl-color-amber-300);--sl-color-warning-400: var(--sl-color-amber-400);--sl-color-warning-500: var(--sl-color-amber-500);--sl-color-warning-600: var(--sl-color-amber-600);--sl-color-warning-700: var(--sl-color-amber-700);--sl-color-warning-800: var(--sl-color-amber-800);--sl-color-warning-900: var(--sl-color-amber-900);--sl-color-warning-950: var(--sl-color-amber-950);--sl-color-danger-50: var(--sl-color-red-50);--sl-color-danger-100: var(--sl-color-red-100);--sl-color-danger-200: var(--sl-color-red-200);--sl-color-danger-300: var(--sl-color-red-300);--sl-color-danger-400: var(--sl-color-red-400);--sl-color-danger-500: var(--sl-color-red-500);--sl-color-danger-600: var(--sl-color-red-600);--sl-color-danger-700: var(--sl-color-red-700);--sl-color-danger-800: var(--sl-color-red-800);--sl-color-danger-900: var(--sl-color-red-900);--sl-color-danger-950: var(--sl-color-red-950);--sl-color-neutral-50: var(--sl-color-gray-50);--sl-color-neutral-100: var(--sl-color-gray-100);--sl-color-neutral-200: var(--sl-color-gray-200);--sl-color-neutral-300: var(--sl-color-gray-300);--sl-color-neutral-400: var(--sl-color-gray-400);--sl-color-neutral-500: var(--sl-color-gray-500);--sl-color-neutral-600: var(--sl-color-gray-600);--sl-color-neutral-700: var(--sl-color-gray-700);--sl-color-neutral-800: var(--sl-color-gray-800);--sl-color-neutral-900: var(--sl-color-gray-900);--sl-color-neutral-950: var(--sl-color-gray-950);--sl-color-neutral-0: hsl(0, 0%, 100%);--sl-color-neutral-1000: hsl(0, 0%, 0%);--sl-border-radius-small: .1875rem;--sl-border-radius-medium: .25rem;--sl-border-radius-large: .5rem;--sl-border-radius-x-large: 1rem;--sl-border-radius-circle: 50%;--sl-border-radius-pill: 9999px;--sl-shadow-x-small: 0 1px 2px hsl(240 3.8% 46.1% / 6%);--sl-shadow-small: 0 1px 2px hsl(240 3.8% 46.1% / 12%);--sl-shadow-medium: 0 2px 4px hsl(240 3.8% 46.1% / 12%);--sl-shadow-large: 0 2px 8px hsl(240 3.8% 46.1% / 12%);--sl-shadow-x-large: 0 4px 16px hsl(240 3.8% 46.1% / 12%);--sl-spacing-3x-small: .125rem;--sl-spacing-2x-small: .25rem;--sl-spacing-x-small: .5rem;--sl-spacing-small: .75rem;--sl-spacing-medium: 1rem;--sl-spacing-large: 1.25rem;--sl-spacing-x-large: 1.75rem;--sl-spacing-2x-large: 2.25rem;--sl-spacing-3x-large: 3rem;--sl-spacing-4x-large: 4.5rem;--sl-transition-x-slow: 1s;--sl-transition-slow: .5s;--sl-transition-medium: .25s;--sl-transition-fast: .15s;--sl-transition-x-fast: 50ms;--sl-font-mono: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;--sl-font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--sl-font-serif: Georgia, "Times New Roman", serif;--sl-font-size-2x-small: .625rem;--sl-font-size-x-small: .75rem;--sl-font-size-small: .875rem;--sl-font-size-medium: 1rem;--sl-font-size-large: 1.25rem;--sl-font-size-x-large: 1.5rem;--sl-font-size-2x-large: 2.25rem;--sl-font-size-3x-large: 3rem;--sl-font-size-4x-large: 4.5rem;--sl-font-weight-light: 300;--sl-font-weight-normal: 400;--sl-font-weight-semibold: 500;--sl-font-weight-bold: 700;--sl-letter-spacing-denser: -.03em;--sl-letter-spacing-dense: -.015em;--sl-letter-spacing-normal: normal;--sl-letter-spacing-loose: .075em;--sl-letter-spacing-looser: .15em;--sl-line-height-denser: 1;--sl-line-height-dense: 1.4;--sl-line-height-normal: 1.8;--sl-line-height-loose: 2.2;--sl-line-height-looser: 2.6;--sl-focus-ring-color: var(--sl-color-primary-600);--sl-focus-ring-style: solid;--sl-focus-ring-width: 3px;--sl-focus-ring: var(--sl-focus-ring-style) var(--sl-focus-ring-width) var(--sl-focus-ring-color);--sl-focus-ring-offset: 1px;--sl-button-font-size-small: var(--sl-font-size-x-small);--sl-button-font-size-medium: var(--sl-font-size-small);--sl-button-font-size-large: var(--sl-font-size-medium);--sl-input-height-small: 1.875rem;--sl-input-height-medium: 2.5rem;--sl-input-height-large: 3.125rem;--sl-input-background-color: var(--sl-color-neutral-0);--sl-input-background-color-hover: var(--sl-input-background-color);--sl-input-background-color-focus: var(--sl-input-background-color);--sl-input-background-color-disabled: var(--sl-color-neutral-100);--sl-input-border-color: var(--sl-color-neutral-300);--sl-input-border-color-hover: var(--sl-color-neutral-400);--sl-input-border-color-focus: var(--sl-color-primary-500);--sl-input-border-color-disabled: var(--sl-color-neutral-300);--sl-input-border-width: 1px;--sl-input-required-content: "*";--sl-input-required-content-offset: -2px;--sl-input-required-content-color: var(--sl-input-label-color);--sl-input-border-radius-small: var(--sl-border-radius-medium);--sl-input-border-radius-medium: var(--sl-border-radius-medium);--sl-input-border-radius-large: var(--sl-border-radius-medium);--sl-input-font-family: var(--sl-font-sans);--sl-input-font-weight: var(--sl-font-weight-normal);--sl-input-font-size-small: var(--sl-font-size-small);--sl-input-font-size-medium: var(--sl-font-size-medium);--sl-input-font-size-large: var(--sl-font-size-large);--sl-input-letter-spacing: var(--sl-letter-spacing-normal);--sl-input-color: var(--sl-color-neutral-700);--sl-input-color-hover: var(--sl-color-neutral-700);--sl-input-color-focus: var(--sl-color-neutral-700);--sl-input-color-disabled: var(--sl-color-neutral-900);--sl-input-icon-color: var(--sl-color-neutral-500);--sl-input-icon-color-hover: var(--sl-color-neutral-600);--sl-input-icon-color-focus: var(--sl-color-neutral-600);--sl-input-placeholder-color: var(--sl-color-neutral-500);--sl-input-placeholder-color-disabled: var(--sl-color-neutral-600);--sl-input-spacing-small: var(--sl-spacing-small);--sl-input-spacing-medium: var(--sl-spacing-medium);--sl-input-spacing-large: var(--sl-spacing-large);--sl-input-focus-ring-color: hsl(198.6 88.7% 48.4% / 40%);--sl-input-focus-ring-offset: 0;--sl-input-filled-background-color: var(--sl-color-neutral-100);--sl-input-filled-background-color-hover: var(--sl-color-neutral-100);--sl-input-filled-background-color-focus: var(--sl-color-neutral-100);--sl-input-filled-background-color-disabled: var(--sl-color-neutral-100);--sl-input-filled-color: var(--sl-color-neutral-800);--sl-input-filled-color-hover: var(--sl-color-neutral-800);--sl-input-filled-color-focus: var(--sl-color-neutral-700);--sl-input-filled-color-disabled: var(--sl-color-neutral-800);--sl-input-label-font-size-small: var(--sl-font-size-small);--sl-input-label-font-size-medium: var(--sl-font-size-medium);--sl-input-label-font-size-large: var(--sl-font-size-large);--sl-input-label-color: inherit;--sl-input-help-text-font-size-small: var(--sl-font-size-x-small);--sl-input-help-text-font-size-medium: var(--sl-font-size-small);--sl-input-help-text-font-size-large: var(--sl-font-size-medium);--sl-input-help-text-color: var(--sl-color-neutral-500);--sl-toggle-size-small: .875rem;--sl-toggle-size-medium: 1.125rem;--sl-toggle-size-large: 1.375rem;--sl-overlay-background-color: hsl(240 3.8% 46.1% / 33%);--sl-panel-background-color: var(--sl-color-neutral-0);--sl-panel-border-color: var(--sl-color-neutral-200);--sl-panel-border-width: 1px;--sl-tooltip-border-radius: var(--sl-border-radius-medium);--sl-tooltip-background-color: var(--sl-color-neutral-800);--sl-tooltip-color: var(--sl-color-neutral-0);--sl-tooltip-font-family: var(--sl-font-sans);--sl-tooltip-font-weight: var(--sl-font-weight-normal);--sl-tooltip-font-size: var(--sl-font-size-small);--sl-tooltip-line-height: var(--sl-line-height-dense);--sl-tooltip-padding: var(--sl-spacing-2x-small) var(--sl-spacing-x-small);--sl-tooltip-arrow-size: 6px;--sl-z-index-drawer: 700;--sl-z-index-dialog: 800;--sl-z-index-dropdown: 900;--sl-z-index-toast: 950;--sl-z-index-tooltip: 1000}@supports (scrollbar-gutter: stable){.sl-scroll-lock{scrollbar-gutter:stable!important;overflow:hidden!important}}@supports not (scrollbar-gutter: stable){.sl-scroll-lock{padding-right:var(--sl-scroll-lock-size)!important;overflow:hidden!important}}.sl-toast-stack{position:fixed;top:0;inset-inline-end:0;z-index:var(--sl-z-index-toast);width:28rem;max-width:100%;max-height:100%;overflow:auto}.sl-toast-stack sl-alert{margin:var(--sl-spacing-medium)}.sl-toast-stack sl-alert::part(base){box-shadow:var(--sl-shadow-large)}*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.mb-6{margin-bottom:1.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-\\[100\\%\\]{height:100%}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}mdp-header ul,mdp-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}sl-menu-item svg{width:1em;height:1em;vertical-align:middle;margin-right:1em}
`,PU=no(SU,[["styles",[CU]]]),MU=kn({__name:"Meta.ce",props:{title:{type:String},description:{type:String},author:{type:String},viewport:{type:String},robots:{type:String}},setup(i){return()=>{}}}),IU={class:"hs-overlay-open:mt-7 hs-overlay-open:opacity-100 hs-overlay-open:duration-500 mt-0 opacity-0 ease-out transition-all sm:max-w-lg sm:w-full m-3 sm:mx-auto min-h-[calc(100%-3.5rem)] flex items-center"},LU={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},AU={class:"p-4 overflow-y-auto"},RU={class:"mt-1 text-gray-800 dark:text-gray-400"},OU=kn({__name:"Modal.ce",props:{open:{type:Boolean,default:!1}},setup(i){const r=i,t=se(null),o=se(null),l=Ce(()=>{var v,x;return(x=(v=t.value)==null?void 0:v.getRootNode())==null?void 0:x.host}),u=Ce(()=>t==null?void 0:t.value),d=Ce(()=>o==null?void 0:o.value),p=Ce(()=>new Dx(u.value));Ne(d,()=>{p.value.init(),d.value.addEventListener("open.hs.overlay",v=>m.value=!0),d.value.addEventListener("close.hs.overlay",v=>m.value=!1)});const m=se(!1);return Ne(m,v=>{v?(p.value.open(d.value),l.value.setAttribute("open","")):(p.value.close(d.value),l.value.removeAttribute("open"))}),Ne(r,()=>{m.value=r.open}),zo(()=>{m.value=r.open}),(v,x)=>(ce(),de("div",{ref_key:"overlayRef",ref:t},[Jt("div",{ref_key:"modalRef",ref:o,id:"hs-basic-modal",class:"hs-overlay hidden w-full h-full fixed top-0 start-0 z-[80] overflow-x-hidden overflow-y-auto pointer-events-none"},[Jt("div",IU,[Jt("div",LU,[Jt("div",AU,[Jt("p",RU,[VA(v.$slots,"default")])])])])],512)],512))}}),zU=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.mb-6{margin-bottom:1.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-\\[100\\%\\]{height:100%}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}mdp-header ul,mdp-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}
`,NU=no(OU,[["styles",[zU]]]),DU=Jt("input",{class:"search-btn",type:"checkbox",id:"search-btn"},null,-1),FU={class:"wrapper"},BU={class:"search-form"},jU={class:"input-wrapper relative"},HU=Jt("path",{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"},null,-1),UU=[HU],GU={key:0,class:"search-results"},qU=["href"],VU=["innerHTML"],WU=["innerHTML"],ZU={key:0},YU=Jt("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 512 512",fill:"#fff"},[Jt("path",{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"})],-1),XU=[YU],KU="https://www.googleapis.com/customsearch/v1",JU=kn({__name:"SiteSearch.ce",props:{searchDomain:{type:String},searchKey:{type:String},searchCx:{type:String}},setup(i){const r=i,t=se(j(r.searchDomain||"",r.searchKey||"")),o=se(null),l=Ce(()=>{var H;return(H=o==null?void 0:o.value)==null?void 0:H.parentNode}),u=se(),d=se(),p=se(""),m=se([]),v=se(0),x=se(!1);zo(()=>C());function k(H){console.log("open",H),H.preventDefault(),x.value=!0}function C(){var H,J;u.value=(H=l.value)==null?void 0:H.querySelector("#search-input"),u.value.value="",d.value=(J=l.value)==null?void 0:J.querySelector("#search-btn"),m.value=[]}Ne(x,()=>{var H;d.value&&(d.value.checked=x.value),x&&((H=u.value)==null||H.focus())});function M(){var st;let H=(st=u.value)==null?void 0:st.value.replace(/ /,"%20"),J={q:H,start:H===p.value?m.value.length+1:1,key:t.value,cx:r.searchCx},q=Object.keys(J).map(mt=>`${mt}=${J[mt]}`).join("&"),W=`${KU}?${q}`;fetch(W).then(mt=>mt.json()).then(mt=>{v.value=parseInt(mt.searchInformation.totalResults);let gt=mt.items.map(ot=>{var et;let U=new URL(ot.link);return ot.link=`${location.origin}${((et=window.config)==null?void 0:et.baseurl)||""}${U.pathname}`,ot});m.value=H!==p.value?gt:[...m.value,...gt],p.value=H||""})}function I(H){H.key==="Enter"&&M()}function D(H){H.preventDefault(),H.stopPropagation(),x.value=!1,u.value&&(u.value.value=""),p.value="",v.value=0,m.value=[]}function j(H,J){const q=gt=>gt.split("").map(ot=>ot.charCodeAt(0)),W=gt=>q(H).reduce((ot,U)=>ot^U,gt);let st=J.match(/.{1,2}/g);return st?st.map(gt=>parseInt(gt,16)).map(W).map(gt=>String.fromCharCode(gt)).join(""):""}return(H,J)=>(ce(),de("div",{ref_key:"root",ref:o,class:"search"},[DU,Jt("div",FU,[Jt("div",BU,[Jt("div",jU,[Jt("input",{type:"text",id:"search-input",class:"search-input",onKeyup:I,autocomplete:"off",role:"textbox",placeholder:"Search site"},null,32)]),(ce(),de("svg",{onClick:D,class:"absolute top-[12px] right-[10px] z-10 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 384 512",fill:"#000"},UU))]),m.value.length>0?(ce(),de("ul",GU,[(ce(!0),de(Mi,null,sc(m.value,(q,W)=>(ce(),de("li",{key:`sr=${W}`},[Jt("a",{href:q.link},[Jt("h3",{innerHTML:q.htmlTitle},null,8,VU),Jt("p",{innerHTML:q.htmlSnippet},null,8,WU)],8,qU)]))),128)),v.value>m.value.length?(ce(),de("li",ZU,[Jt("div",{class:"more",onClick:M},"More")])):ir("",!0)])):ir("",!0)]),Jt("label",{class:"search-icon",htmlFor:"search-btn"},[Jt("span",{onClick:k},XU)])],512))}}),QU=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.mb-6{margin-bottom:1.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-\\[100\\%\\]{height:100%}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}mdp-header ul,mdp-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}*{box-sizing:border-box}.search-icon{color:#fff;font-size:28px}.search-icon:hover{cursor:pointer}.search{position:relative;display:flex;align-items:center;gap:10px}.search-btn,.search-form,.wrapper{display:none}.wrapper{flex-direction:column;position:absolute;right:-4px}.search-form{display:flex;align-items:center}.search-input{height:42px;width:250px;border-radius:6px;padding:3px 10px;font-size:1rem;color:#000}.search-submit{background-color:#fff;border-radius:6px;padding:8px 8px 4px;height:24px;z-index:4}.search-submit:hover{background-color:#ddd;cursor:pointer}.search-results{position:absolute;top:42px;left:0;width:326px;max-height:50vh;overflow-y:scroll;z-index:2;background-color:#fff;margin:0 0 0 2px;list-style:none;padding:6px;border-radius:6px;font-size:.9rem;box-shadow:0 6px 20px #00000030}.search-results li:nth-of-type(2n){background-color:#e6e6df}.search-results li{padding:6px;margin:3px;border:1px solid #E6E6DF}.search-results li h3,.search-results li p{margin:8px 0}.search-results li a{text-decoration:none;color:#444}.search-results li a h3{font-weight:700}.search-results li a p{font-weight:300}.search-results li:hover{cursor:pointer;box-shadow:0 4px 8px #0003}.search-btn:checked~.wrapper .search-form{display:flex;width:100%}.search-btn:checked~.wrapper{display:flex}.input-wrapper{display:inline-block;position:relative}
`,$U=no(JU,[["styles",[QU]]]);var H1={exports:{}},zM;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/zM=function(){var i={},r={};return i.on=function(t,o){var l={name:t,handler:o};return r[t]=r[t]||[],r[t].unshift(l),l},i.off=function(t){var o=r[t.name].indexOf(t);o!==-1&&r[t.name].splice(o,1)},i.trigger=function(t,o){var l=r[t],u;if(l)for(u=l.length;u--;)l[u].handler(o)},i};var tG=zM,U1={exports:{}},G1={exports:{}},Kw,eS;function eG(){if(eS)return Kw;eS=1;var i=1e3,r=i*60,t=r*60,o=t*24,l=o*7,u=o*365.25;Kw=function(x,k){k=k||{};var C=typeof x;if(C==="string"&&x.length>0)return d(x);if(C==="number"&&isFinite(x))return k.long?m(x):p(x);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(x))};function d(x){if(x=String(x),!(x.length>100)){var k=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(x);if(k){var C=parseFloat(k[1]),M=(k[2]||"ms").toLowerCase();switch(M){case"years":case"year":case"yrs":case"yr":case"y":return C*u;case"weeks":case"week":case"w":return C*l;case"days":case"day":case"d":return C*o;case"hours":case"hour":case"hrs":case"hr":case"h":return C*t;case"minutes":case"minute":case"mins":case"min":case"m":return C*r;case"seconds":case"second":case"secs":case"sec":case"s":return C*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return C;default:return}}}}function p(x){var k=Math.abs(x);return k>=o?Math.round(x/o)+"d":k>=t?Math.round(x/t)+"h":k>=r?Math.round(x/r)+"m":k>=i?Math.round(x/i)+"s":x+"ms"}function m(x){var k=Math.abs(x);return k>=o?v(x,k,o,"day"):k>=t?v(x,k,t,"hour"):k>=r?v(x,k,r,"minute"):k>=i?v(x,k,i,"second"):x+" ms"}function v(x,k,C,M){var I=k>=C*1.5;return Math.round(x/C)+" "+M+(I?"s":"")}return Kw}function rG(i){t.debug=t,t.default=t,t.coerce=m,t.disable=u,t.enable=l,t.enabled=d,t.humanize=eG(),t.destroy=v,Object.keys(i).forEach(x=>{t[x]=i[x]}),t.names=[],t.skips=[],t.formatters={};function r(x){let k=0;for(let C=0;C<x.length;C++)k=(k<<5)-k+x.charCodeAt(C),k|=0;return t.colors[Math.abs(k)%t.colors.length]}t.selectColor=r;function t(x){let k,C=null,M,I;function D(...j){if(!D.enabled)return;const H=D,J=Number(new Date),q=J-(k||J);H.diff=q,H.prev=k,H.curr=J,k=J,j[0]=t.coerce(j[0]),typeof j[0]!="string"&&j.unshift("%O");let W=0;j[0]=j[0].replace(/%([a-zA-Z%])/g,(mt,gt)=>{if(mt==="%%")return"%";W++;const ot=t.formatters[gt];if(typeof ot=="function"){const U=j[W];mt=ot.call(H,U),j.splice(W,1),W--}return mt}),t.formatArgs.call(H,j),(H.log||t.log).apply(H,j)}return D.namespace=x,D.useColors=t.useColors(),D.color=t.selectColor(x),D.extend=o,D.destroy=t.destroy,Object.defineProperty(D,"enabled",{enumerable:!0,configurable:!1,get:()=>C!==null?C:(M!==t.namespaces&&(M=t.namespaces,I=t.enabled(x)),I),set:j=>{C=j}}),typeof t.init=="function"&&t.init(D),D}function o(x,k){const C=t(this.namespace+(typeof k>"u"?":":k)+x);return C.log=this.log,C}function l(x){t.save(x),t.namespaces=x,t.names=[],t.skips=[];let k;const C=(typeof x=="string"?x:"").split(/[\s,]+/),M=C.length;for(k=0;k<M;k++)C[k]&&(x=C[k].replace(/\*/g,".*?"),x[0]==="-"?t.skips.push(new RegExp("^"+x.slice(1)+"$")):t.names.push(new RegExp("^"+x+"$")))}function u(){const x=[...t.names.map(p),...t.skips.map(p).map(k=>"-"+k)].join(",");return t.enable(""),x}function d(x){if(x[x.length-1]==="*")return!0;let k,C;for(k=0,C=t.skips.length;k<C;k++)if(t.skips[k].test(x))return!1;for(k=0,C=t.names.length;k<C;k++)if(t.names[k].test(x))return!0;return!1}function p(x){return x.toString().substring(2,x.toString().length-2).replace(/\.\*\?$/,"*")}function m(x){return x instanceof Error?x.stack||x.message:x}function v(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}var iG=rG;(function(i,r){r.formatArgs=o,r.save=l,r.load=u,r.useColors=t,r.storage=d(),r.destroy=(()=>{let m=!1;return()=>{m||(m=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function t(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(m){if(m[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+m[0]+(this.useColors?"%c ":" ")+"+"+i.exports.humanize(this.diff),!this.useColors)return;const v="color: "+this.color;m.splice(1,0,v,"color: inherit");let x=0,k=0;m[0].replace(/%[a-zA-Z%]/g,C=>{C!=="%%"&&(x++,C==="%c"&&(k=x))}),m.splice(k,0,v)}r.log=console.debug||console.log||(()=>{});function l(m){try{m?r.storage.setItem("debug",m):r.storage.removeItem("debug")}catch{}}function u(){let m;try{m=r.storage.getItem("debug")}catch{}return!m&&typeof process<"u"&&"env"in process&&(m={version:"0.1.0"}.DEBUG),m}function d(){try{return localStorage}catch{}}i.exports=iG(r);const{formatters:p}=i.exports;p.j=function(m){try{return JSON.stringify(m)}catch(v){return"[UnexpectedJSONParseError]: "+v.message}}})(G1,G1.exports);var nG=G1.exports,q1={exports:{}},V1={exports:{}};(function(i,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},i.exports=r.default})(V1,V1.exports);var oG=V1.exports;(function(i,r){Object.defineProperty(r,"__esModule",{value:!0});var t=oG,o=l(t);function l(u){return u&&u.__esModule?u:{default:u}}r.default={pauseVideo:{acceptableStates:[o.default.ENDED,o.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[o.default.ENDED,o.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[o.default.ENDED,o.default.PLAYING,o.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},i.exports=r.default})(q1,q1.exports);var sG=q1.exports,W1={exports:{}};(function(i,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],i.exports=r.default})(W1,W1.exports);var aG=W1.exports,Z1={exports:{}};(function(i,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe","getSphericalProperties","setSphericalProperties"],i.exports=r.default})(Z1,Z1.exports);var lG=Z1.exports;(function(i,r){Object.defineProperty(r,"__esModule",{value:!0});var t=nG,o=x(t),l=sG,u=x(l),d=aG,p=x(d),m=lG,v=x(m);function x(M){return M&&M.__esModule?M:{default:M}}const k=(0,o.default)("youtube-player"),C={};C.proxyEvents=M=>{const I={};for(const D of p.default){const j="on"+D.slice(0,1).toUpperCase()+D.slice(1);I[j]=H=>{k('event "%s"',j,H),M.trigger(D,H)}}return I},C.promisifyPlayer=(M,I=!1)=>{const D={};for(const j of v.default)I&&u.default[j]?D[j]=(...H)=>M.then(J=>{const q=u.default[j],W=J.getPlayerState(),st=J[j].apply(J,H);return q.stateChangeRequired||Array.isArray(q.acceptableStates)&&!q.acceptableStates.includes(W)?new Promise(mt=>{const gt=()=>{const ot=J.getPlayerState();let U;typeof q.timeout=="number"&&(U=setTimeout(()=>{J.removeEventListener("onStateChange",gt),mt()},q.timeout)),Array.isArray(q.acceptableStates)&&q.acceptableStates.includes(ot)&&(J.removeEventListener("onStateChange",gt),clearTimeout(U),mt())};J.addEventListener("onStateChange",gt)}).then(()=>st):st}):D[j]=(...H)=>M.then(J=>J[j].apply(J,H));return D},r.default=C,i.exports=r.default})(U1,U1.exports);var cG=U1.exports,Y1={exports:{}},uG=function(r,t,o){var l=document.head||document.getElementsByTagName("head")[0],u=document.createElement("script");typeof t=="function"&&(o=t,t={}),t=t||{},o=o||function(){},u.type=t.type||"text/javascript",u.charset=t.charset||"utf8",u.async="async"in t?!!t.async:!0,u.src=r,t.attrs&&hG(u,t.attrs),t.text&&(u.text=""+t.text);var d="onload"in u?rS:dG;d(u,o),u.onload||rS(u,o),l.appendChild(u)};function hG(i,r){for(var t in r)i.setAttribute(t,r[t])}function rS(i,r){i.onload=function(){this.onerror=this.onload=null,r(null,i)},i.onerror=function(){this.onerror=this.onload=null,r(new Error("Failed to load "+this.src),i)}}function dG(i,r){i.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,r(null,i))}}(function(i,r){Object.defineProperty(r,"__esModule",{value:!0});var t=uG,o=l(t);function l(u){return u&&u.__esModule?u:{default:u}}r.default=u=>new Promise(p=>{if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){p(window.YT);return}else{const v=window.location.protocol==="http:"?"http:":"https:";(0,o.default)(v+"//www.youtube.com/iframe_api",x=>{x&&u.trigger("error",x)})}const m=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{m&&m(),p(window.YT)}}),i.exports=r.default})(Y1,Y1.exports);var pG=Y1.exports;(function(i,r){Object.defineProperty(r,"__esModule",{value:!0});var t=tG,o=m(t),l=cG,u=m(l),d=pG,p=m(d);function m(x){return x&&x.__esModule?x:{default:x}}let v;r.default=(x,k={},C=!1)=>{const M=(0,o.default)();if(v||(v=(0,p.default)(M)),k.events)throw new Error("Event handlers cannot be overwritten.");if(typeof x=="string"&&!document.getElementById(x))throw new Error('Element "'+x+'" does not exist.');k.events=u.default.proxyEvents(M);const I=new Promise(j=>{typeof x=="object"&&x.playVideo instanceof Function?j(x):v.then(H=>{const J=new H.Player(x,k);return M.on("ready",()=>{j(J)}),null})}),D=u.default.promisifyPlayer(I,C);return D.on=M.on,D.off=M.off,D},i.exports=r.default})(H1,H1.exports);var fG=H1.exports;const gG=Bx(fG),mG={key:0,id:"youtube-player",style:{width:"100%"}},vG=["muted","autoplay","poster"],yG=["src","type"],bG=kn({__name:"Video.ce",props:{alt:{type:String},autoplay:{type:Boolean,default:!1},caption:{type:String},class:{type:String},end:{type:Number},muted:{type:Boolean,default:!0},noCaption:{type:Boolean},poster:{type:String},src:{type:String},start:{type:Number},sync:{type:Boolean,default:!1}},setup(i){const r=i,t=se(null),o=Ce(()=>{var St;return(St=t==null?void 0:t.value)==null?void 0:St.parentNode}),l=Ce(()=>{var St,Lt;return(Lt=(St=t.value)==null?void 0:St.getRootNode())==null?void 0:Lt.host}),u=se(null);Ne(u,St=>{M=St,W()});const d=Ce(()=>{var St;return(St=r.src)==null?void 0:St.includes("youtube.com")}),p=Ce(()=>{var St;return(St=r.src)==null?void 0:St.includes("vimeo.com")}),m=Ce(()=>!d.value&&!p.value);Ne(m,async()=>{!v.value&&r.src&&(v.value=await gl(r.src))});const v=se(null),x=Ce(()=>v.value?My(v.value):null),k=Ce(()=>{var St;return(St=x.value)==null?void 0:St.id}),C=Ce(()=>{var Lt;let St=(Lt=k.value)==null?void 0:Lt.split("#")[0].split(".").pop();return St==="mp4"?"video/mp4":St==="webm"?"video/webm":"application/ogg"});let M;const I=se(!1),D=se(!1);Ne(l,async()=>{let St=d.value?"youtube":p.value?"vimeo":"html5";console.log(`video: type=${St} src=${r.src}`),St==="html5"&&!v.value&&r.src&&(v.value=await gl(r.src)),H(),Js.on("seekto",Lt=>Gt(Lt.start,Lt.end)),d.value&&await q(),r.sync&&j()});function j(){let St=Array.from(document.querySelectorAll("p[data-head]")).map(Lt=>{let[xt,...Dt]=Lt.dataset.head.split(/\s+/),zt=document.createElement("a");if(zt.classList.add("play"),zt.href="javascript:;",zt.textContent=xt,zt.addEventListener("click",()=>{Gt(Lt.dataset.head)}),Lt.insertBefore(document.createElement("br"),Lt.firstChild),Dt.length>0){let fe=document.createElement("span");fe.classList.add("headline"),fe.textContent=Dt.join(" "),Lt.insertBefore(fe,Lt.firstChild)}return Lt.insertBefore(zt,Lt.firstChild),{start:et(Lt.dataset.head.split(/\s+/)[0]),id:Lt.id}});Js.on("video-at-time",Lt=>{let xt=Lt.time,Dt=St.find(zt=>{var fe;return zt.start<=xt&&(((fe=St[St.indexOf(zt)+1])==null?void 0:fe.start)||1/0)>xt});if(Dt&&M&&D.value){let zt=document.getElementById(Dt.id);zt&&zt.scrollIntoView({behavior:"smooth",block:"center"})}})}function H(){let St=l.value.parentElement;for(;St!=null&&St.parentElement&&St.tagName!=="MAIN";)Array.from(St.querySelectorAll("a")).forEach(Lt=>{let Dt=new URL(Lt.href).pathname.split("/").filter(fe=>fe),zt=Dt.indexOf("play");if(zt>=0&&Dt.length>zt+1&&J(Lt)){let yt=Dt[zt+1],At=Dt.length>zt+1?Dt[zt+2]:null;Lt.classList.add("play"),Lt.href="javascript:;",Lt.setAttribute("data-play",At?`${yt} ${At}`:yt),Lt.addEventListener("click",Xt=>{var ae;let[ee,ge]=((ae=Xt.target.getAttribute("data-play"))==null?void 0:ae.split(/\s+/))||[];ee&&Gt(ee,ge)})}}),St=St.parentElement}function J(St){function Lt(xt){let Dt=xt.previousSibling;for(;Dt;){if(Dt.nodeName==="MDP-VIDEO")return Dt===l.value?Dt:null;Dt=Dt.previousSibling}}for(Lt(St);St.parentElement&&St.tagName!=="BODY";){St=St.parentElement;let xt=St.querySelector(":scope mdp-video");if(xt)return xt===l.value?xt:null}}async function q(){var Lt;let St=(Lt=o.value)==null?void 0:Lt.querySelector("#youtube-player");if(r.src&&St){let Dt=new URL(r.src).searchParams.get("v")||"",zt=await U(Dt);l.value&&new ResizeObserver(()=>{var At;St=(At=o.value)==null?void 0:At.querySelector("#youtube-player");let fe=St==null?void 0:St.clientWidth,yt=Math.round(fe/zt.aspect);St.style.height=`${yt}px`}).observe(l.value),M=gG(St,{videoId:Dt,width:St==null?void 0:St.clientWidth,playerVars:{color:"white",rel:0,modestbranding:1,playsinline:1}}),M.on("ready",fe=>W())}}async function W(){ot().then(St=>Js.emit("video-at-time",{time:Math.round(St)})),setInterval(async()=>{I.value=await mt(),D.value=await st(),D.value&&ot().then(St=>Js.emit("video-at-time",{time:Math.round(St)}))},1e3)}async function st(){return d.value?await M.getPlayerState()===1:p.value?!(await M.getEnded()||await M.getPaused()):m?!(M.ended||M.paused):!1}async function mt(){return d.value?await M.isMuted():p.value?await M.getMuted():await r.muted}function gt(St){d.value?St?M.mute():M.unMute():p.value?M.setMuted(St):m.value&&(M.muted=St)}async function ot(){if(d.value)return M.getCurrentTime();if(p.value)return await M.getCurrentTime();if(m.value)return M.currentTime}async function U(St){let xt=`https://youtube.com/oembed?url=${encodeURI(`https://www.youtube.com/watch?v=${St}`)}&format=json`,zt=await(await fetch(xt)).json();return zt.aspect=zt.width/zt.height,zt}function et(St){var Lt=St.split(":").slice(0,3).map(zt=>parseInt(zt,10));let xt=0,Dt=1;for(;Lt.length>0;){let zt=Lt.pop()||0;xt+=Dt*zt,Dt*=60}return xt}let lt=null,ht=!1;function Gt(St,Lt=""){let xt=et(St),Dt=Lt?et(Lt)+1:-1;console.log(`seekTo: start=${xt} end=${Dt} isMuted=${I.value} forceMuteOnPlay=${ht}`),lt&&(clearTimeout(lt),lt=null);let zt=I.value;d.value?(M.playVideo(),M.seekTo(xt).then(fe=>{Dt>=xt&&(lt=setTimeout(()=>{M.pauseVideo().then(yt=>{lt=null,!zt&&ht&&gt(!1)})},Dt===xt?200:(Dt-xt)*1e3))})):p.value?(M.setCurrentTime(xt),M.play().then(fe=>{Dt>=xt&&(lt=setTimeout(()=>{M.pause().then(yt=>{lt=null,!zt&&ht&&gt(!1)})},Dt===xt?200:(Dt-xt)*1e3))})):m.value&&setTimeout(()=>{M.play(),M.currentTime=xt,Dt>=xt&&(lt=setTimeout(()=>{lt=null,M.pause(),!zt&&ht&&gt(!1)},Dt===xt?200:(Dt-xt)*1e3))},200)}return(St,Lt)=>(ce(),de("div",{ref_key:"root",ref:t},[d.value?(ce(),de("div",mG)):ir("",!0),v.value?(ce(),de("video",{key:1,ref_key:"html5Player",ref:u,id:"html5-player",controls:"",playsinline:"",muted:r.muted,autoplay:r.autoplay,poster:r.poster},[Jt("source",{src:k.value,type:C.value},null,8,yG)],8,vG)):ir("",!0)],512))}}),wG=`*{box-sizing:border-box}:host{display:block;background-color:inherit}video{width:100%;height:auto}
`,xG=no(bG,[["styles",[wG]]]);xL(()=>import("./preline-7d6f83a6.js").then(i=>i.p),[]);function _G(){customElements.define("mdp-audio",Mn(tN)),customElements.define("mdp-breadcrumbs",Mn(sN)),customElements.define("mdp-entities",Mn(cN)),customElements.define("mdp-entity-card",Mn(bN)),customElements.define("mdp-entity-infobox",Mn(EN)),customElements.define("mdp-footer",Mn(XN)),customElements.define("mdp-gallery",Mn(c4)),customElements.define("mdp-header",Mn(E4)),customElements.define("mdp-image",Mn(R4)),customElements.define("mdp-caption",Mn(W4)),customElements.define("mdp-info-card",Mn(J4)),customElements.define("mdp-manifest",Mn(ZD)),customElements.define("mdp-manifest-popup",Mn(l8)),customElements.define("mdp-map",Mn(aU)),customElements.define("mdp-menu",Mn(PU)),customElements.define("mdp-meta",Mn(MU)),customElements.define("mdp-modal",Mn(NU)),customElements.define("mdp-site-search",Mn($U)),customElements.define("mdp-video",Mn(xG))}console.log("mdpress: version=0.1.0");_G();export{Bx as g};
