var WI=Object.defineProperty;var ZI=(n,r,t)=>r in n?WI(n,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[r]=t;var ci=(n,r,t)=>(ZI(n,typeof r!="symbol"?r+"":r,t),t),YI=(n,r,t)=>{if(!r.has(n))throw TypeError("Cannot "+t)};var ew=(n,r,t)=>{if(r.has(n))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(n):r.set(n,t)};var Sv=(n,r,t)=>(YI(n,r,"access private method"),t);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function t(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=t(l);fetch(l.href,u)}})();const XI="modulepreload",KI=function(n){return"/mdpress/mdpress/dist/"+n},mE={},JI=function(r,t,o){if(!t||t.length===0)return r();const l=document.getElementsByTagName("link");return Promise.all(t.map(u=>{if(u=KI(u),u in mE)return;mE[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(!!o)for(let _=l.length-1;_>=0;_--){const k=l[_];if(k.href===u&&(!d||k.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const v=document.createElement("link");if(v.rel=d?"stylesheet":XI,d||(v.as="script",v.crossOrigin=""),v.href=u,document.head.appendChild(v),d)return new Promise((_,k)=>{v.addEventListener("load",_),v.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${u}`)))})})).then(()=>r()).catch(u=>{const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u})};function C1(n,r){const t=Object.create(null),o=n.split(",");for(let l=0;l<o.length;l++)t[o[l]]=!0;return r?l=>!!t[l.toLowerCase()]:l=>!!t[l]}const Bi={},Xd=[],Sa=()=>{},QI=()=>!1,$I=/^on[^a-z]/,iy=n=>$I.test(n),P1=n=>n.startsWith("onUpdate:"),Cn=Object.assign,M1=(n,r)=>{const t=n.indexOf(r);t>-1&&n.splice(t,1)},tL=Object.prototype.hasOwnProperty,ai=(n,r)=>tL.call(n,r),sr=Array.isArray,Kd=n=>ny(n)==="[object Map]",AT=n=>ny(n)==="[object Set]",Yr=n=>typeof n=="function",Pn=n=>typeof n=="string",I1=n=>typeof n=="symbol",Yi=n=>n!==null&&typeof n=="object",OT=n=>Yi(n)&&Yr(n.then)&&Yr(n.catch),zT=Object.prototype.toString,ny=n=>zT.call(n),eL=n=>ny(n).slice(8,-1),NT=n=>ny(n)==="[object Object]",L1=n=>Pn(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,e0=C1(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),oy=n=>{const r=Object.create(null);return t=>r[t]||(r[t]=n(t))},rL=/-(\w)/g,Jl=oy(n=>n.replace(rL,(r,t)=>t?t.toUpperCase():"")),iL=/\B([A-Z])/g,xa=oy(n=>n.replace(iL,"-$1").toLowerCase()),DT=oy(n=>n.charAt(0).toUpperCase()+n.slice(1)),rw=oy(n=>n?`on${DT(n)}`:""),fg=(n,r)=>!Object.is(n,r),iw=(n,r)=>{for(let t=0;t<n.length;t++)n[t](r)},g0=(n,r,t)=>{Object.defineProperty(n,r,{configurable:!0,enumerable:!1,value:t})},nL=n=>{const r=parseFloat(n);return isNaN(r)?n:r},vE=n=>{const r=Pn(n)?Number(n):NaN;return isNaN(r)?n:r};let yE;const jw=()=>yE||(yE=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function sy(n){if(sr(n)){const r={};for(let t=0;t<n.length;t++){const o=n[t],l=Pn(o)?lL(o):sy(o);if(l)for(const u in l)r[u]=l[u]}return r}else{if(Pn(n))return n;if(Yi(n))return n}}const oL=/;(?![^(]*\))/g,sL=/:([^]+)/,aL=/\/\*[^]*?\*\//g;function lL(n){const r={};return n.replace(aL,"").split(oL).forEach(t=>{if(t){const o=t.split(sL);o.length>1&&(r[o[0].trim()]=o[1].trim())}}),r}function qg(n){let r="";if(Pn(n))r=n;else if(sr(n))for(let t=0;t<n.length;t++){const o=qg(n[t]);o&&(r+=o+" ")}else if(Yi(n))for(const t in n)n[t]&&(r+=t+" ");return r.trim()}const cL="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",uL=C1(cL);function FT(n){return!!n||n===""}const m0=n=>Pn(n)?n:n==null?"":sr(n)||Yi(n)&&(n.toString===zT||!Yr(n.toString))?JSON.stringify(n,BT,2):String(n),BT=(n,r)=>r&&r.__v_isRef?BT(n,r.value):Kd(r)?{[`Map(${r.size})`]:[...r.entries()].reduce((t,[o,l])=>(t[`${o} =>`]=l,t),{})}:AT(r)?{[`Set(${r.size})`]:[...r.values()]}:Yi(r)&&!sr(r)&&!NT(r)?String(r):r;let wa;class hL{constructor(r=!1){this.detached=r,this._active=!0,this.effects=[],this.cleanups=[],this.parent=wa,!r&&wa&&(this.index=(wa.scopes||(wa.scopes=[])).push(this)-1)}get active(){return this._active}run(r){if(this._active){const t=wa;try{return wa=this,r()}finally{wa=t}}}on(){wa=this}off(){wa=this.parent}stop(r){if(this._active){let t,o;for(t=0,o=this.effects.length;t<o;t++)this.effects[t].stop();for(t=0,o=this.cleanups.length;t<o;t++)this.cleanups[t]();if(this.scopes)for(t=0,o=this.scopes.length;t<o;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!r){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.parent=void 0,this._active=!1}}}function dL(n,r=wa){r&&r.active&&r.effects.push(n)}function pL(){return wa}const R1=n=>{const r=new Set(n);return r.w=0,r.n=0,r},jT=n=>(n.w&$c)>0,HT=n=>(n.n&$c)>0,fL=({deps:n})=>{if(n.length)for(let r=0;r<n.length;r++)n[r].w|=$c},gL=n=>{const{deps:r}=n;if(r.length){let t=0;for(let o=0;o<r.length;o++){const l=r[o];jT(l)&&!HT(l)?l.delete(n):r[t++]=l,l.w&=~$c,l.n&=~$c}r.length=t}},Hw=new WeakMap;let Xf=0,$c=1;const Uw=30;let _a;const sh=Symbol(""),Gw=Symbol("");class A1{constructor(r,t=null,o){this.fn=r,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,dL(this,o)}run(){if(!this.active)return this.fn();let r=_a,t=Xc;for(;r;){if(r===this)return;r=r.parent}try{return this.parent=_a,_a=this,Xc=!0,$c=1<<++Xf,Xf<=Uw?fL(this):bE(this),this.fn()}finally{Xf<=Uw&&gL(this),$c=1<<--Xf,_a=this.parent,Xc=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){_a===this?this.deferStop=!0:this.active&&(bE(this),this.onStop&&this.onStop(),this.active=!1)}}function bE(n){const{deps:r}=n;if(r.length){for(let t=0;t<r.length;t++)r[t].delete(n);r.length=0}}let Xc=!0;const UT=[];function mp(){UT.push(Xc),Xc=!1}function vp(){const n=UT.pop();Xc=n===void 0?!0:n}function Yo(n,r,t){if(Xc&&_a){let o=Hw.get(n);o||Hw.set(n,o=new Map);let l=o.get(t);l||o.set(t,l=R1()),GT(l)}}function GT(n,r){let t=!1;Xf<=Uw?HT(n)||(n.n|=$c,t=!jT(n)):t=!n.has(_a),t&&(n.add(_a),_a.deps.push(n))}function tc(n,r,t,o,l,u){const d=Hw.get(n);if(!d)return;let f=[];if(r==="clear")f=[...d.values()];else if(t==="length"&&sr(n)){const m=Number(o);d.forEach((v,_)=>{(_==="length"||_>=m)&&f.push(v)})}else switch(t!==void 0&&f.push(d.get(t)),r){case"add":sr(n)?L1(t)&&f.push(d.get("length")):(f.push(d.get(sh)),Kd(n)&&f.push(d.get(Gw)));break;case"delete":sr(n)||(f.push(d.get(sh)),Kd(n)&&f.push(d.get(Gw)));break;case"set":Kd(n)&&f.push(d.get(sh));break}if(f.length===1)f[0]&&qw(f[0]);else{const m=[];for(const v of f)v&&m.push(...v);qw(R1(m))}}function qw(n,r){const t=sr(n)?n:[...n];for(const o of t)o.computed&&wE(o);for(const o of t)o.computed||wE(o)}function wE(n,r){(n!==_a||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const mL=C1("__proto__,__v_isRef,__isVue"),qT=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(I1)),vL=O1(),yL=O1(!1,!0),bL=O1(!0),xE=wL();function wL(){const n={};return["includes","indexOf","lastIndexOf"].forEach(r=>{n[r]=function(...t){const o=hi(this);for(let u=0,d=this.length;u<d;u++)Yo(o,"get",u+"");const l=o[r](...t);return l===-1||l===!1?o[r](...t.map(hi)):l}}),["push","pop","shift","unshift","splice"].forEach(r=>{n[r]=function(...t){mp();const o=hi(this)[r].apply(this,t);return vp(),o}}),n}function xL(n){const r=hi(this);return Yo(r,"has",n),r.hasOwnProperty(n)}function O1(n=!1,r=!1){return function(o,l,u){if(l==="__v_isReactive")return!n;if(l==="__v_isReadonly")return n;if(l==="__v_isShallow")return r;if(l==="__v_raw"&&u===(n?r?DL:XT:r?YT:ZT).get(o))return o;const d=sr(o);if(!n){if(d&&ai(xE,l))return Reflect.get(xE,l,u);if(l==="hasOwnProperty")return xL}const f=Reflect.get(o,l,u);return(I1(l)?qT.has(l):mL(l))||(n||Yo(o,"get",l),r)?f:uo(f)?d&&L1(l)?f:f.value:Yi(f)?n?KT(f):D1(f):f}}const _L=VT(),kL=VT(!0);function VT(n=!1){return function(t,o,l,u){let d=t[o];if(ep(d)&&uo(d)&&!uo(l))return!1;if(!n&&(!v0(l)&&!ep(l)&&(d=hi(d),l=hi(l)),!sr(t)&&uo(d)&&!uo(l)))return d.value=l,!0;const f=sr(t)&&L1(o)?Number(o)<t.length:ai(t,o),m=Reflect.set(t,o,l,u);return t===hi(u)&&(f?fg(l,d)&&tc(t,"set",o,l):tc(t,"add",o,l)),m}}function EL(n,r){const t=ai(n,r);n[r];const o=Reflect.deleteProperty(n,r);return o&&t&&tc(n,"delete",r,void 0),o}function TL(n,r){const t=Reflect.has(n,r);return(!I1(r)||!qT.has(r))&&Yo(n,"has",r),t}function SL(n){return Yo(n,"iterate",sr(n)?"length":sh),Reflect.ownKeys(n)}const WT={get:vL,set:_L,deleteProperty:EL,has:TL,ownKeys:SL},CL={get:bL,set(n,r){return!0},deleteProperty(n,r){return!0}},PL=Cn({},WT,{get:yL,set:kL}),z1=n=>n,ay=n=>Reflect.getPrototypeOf(n);function Cv(n,r,t=!1,o=!1){n=n.__v_raw;const l=hi(n),u=hi(r);t||(r!==u&&Yo(l,"get",r),Yo(l,"get",u));const{has:d}=ay(l),f=o?z1:t?B1:gg;if(d.call(l,r))return f(n.get(r));if(d.call(l,u))return f(n.get(u));n!==l&&n.get(r)}function Pv(n,r=!1){const t=this.__v_raw,o=hi(t),l=hi(n);return r||(n!==l&&Yo(o,"has",n),Yo(o,"has",l)),n===l?t.has(n):t.has(n)||t.has(l)}function Mv(n,r=!1){return n=n.__v_raw,!r&&Yo(hi(n),"iterate",sh),Reflect.get(n,"size",n)}function _E(n){n=hi(n);const r=hi(this);return ay(r).has.call(r,n)||(r.add(n),tc(r,"add",n,n)),this}function kE(n,r){r=hi(r);const t=hi(this),{has:o,get:l}=ay(t);let u=o.call(t,n);u||(n=hi(n),u=o.call(t,n));const d=l.call(t,n);return t.set(n,r),u?fg(r,d)&&tc(t,"set",n,r):tc(t,"add",n,r),this}function EE(n){const r=hi(this),{has:t,get:o}=ay(r);let l=t.call(r,n);l||(n=hi(n),l=t.call(r,n)),o&&o.call(r,n);const u=r.delete(n);return l&&tc(r,"delete",n,void 0),u}function TE(){const n=hi(this),r=n.size!==0,t=n.clear();return r&&tc(n,"clear",void 0,void 0),t}function Iv(n,r){return function(o,l){const u=this,d=u.__v_raw,f=hi(d),m=r?z1:n?B1:gg;return!n&&Yo(f,"iterate",sh),d.forEach((v,_)=>o.call(l,m(v),m(_),u))}}function Lv(n,r,t){return function(...o){const l=this.__v_raw,u=hi(l),d=Kd(u),f=n==="entries"||n===Symbol.iterator&&d,m=n==="keys"&&d,v=l[n](...o),_=t?z1:r?B1:gg;return!r&&Yo(u,"iterate",m?Gw:sh),{next(){const{value:k,done:C}=v.next();return C?{value:k,done:C}:{value:f?[_(k[0]),_(k[1])]:_(k),done:C}},[Symbol.iterator](){return this}}}}function Vc(n){return function(...r){return n==="delete"?!1:this}}function ML(){const n={get(u){return Cv(this,u)},get size(){return Mv(this)},has:Pv,add:_E,set:kE,delete:EE,clear:TE,forEach:Iv(!1,!1)},r={get(u){return Cv(this,u,!1,!0)},get size(){return Mv(this)},has:Pv,add:_E,set:kE,delete:EE,clear:TE,forEach:Iv(!1,!0)},t={get(u){return Cv(this,u,!0)},get size(){return Mv(this,!0)},has(u){return Pv.call(this,u,!0)},add:Vc("add"),set:Vc("set"),delete:Vc("delete"),clear:Vc("clear"),forEach:Iv(!0,!1)},o={get(u){return Cv(this,u,!0,!0)},get size(){return Mv(this,!0)},has(u){return Pv.call(this,u,!0)},add:Vc("add"),set:Vc("set"),delete:Vc("delete"),clear:Vc("clear"),forEach:Iv(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{n[u]=Lv(u,!1,!1),t[u]=Lv(u,!0,!1),r[u]=Lv(u,!1,!0),o[u]=Lv(u,!0,!0)}),[n,t,r,o]}const[IL,LL,RL,AL]=ML();function N1(n,r){const t=r?n?AL:RL:n?LL:IL;return(o,l,u)=>l==="__v_isReactive"?!n:l==="__v_isReadonly"?n:l==="__v_raw"?o:Reflect.get(ai(t,l)&&l in o?t:o,l,u)}const OL={get:N1(!1,!1)},zL={get:N1(!1,!0)},NL={get:N1(!0,!1)},ZT=new WeakMap,YT=new WeakMap,XT=new WeakMap,DL=new WeakMap;function FL(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function BL(n){return n.__v_skip||!Object.isExtensible(n)?0:FL(eL(n))}function D1(n){return ep(n)?n:F1(n,!1,WT,OL,ZT)}function jL(n){return F1(n,!1,PL,zL,YT)}function KT(n){return F1(n,!0,CL,NL,XT)}function F1(n,r,t,o,l){if(!Yi(n)||n.__v_raw&&!(r&&n.__v_isReactive))return n;const u=l.get(n);if(u)return u;const d=BL(n);if(d===0)return n;const f=new Proxy(n,d===2?o:t);return l.set(n,f),f}function Jd(n){return ep(n)?Jd(n.__v_raw):!!(n&&n.__v_isReactive)}function ep(n){return!!(n&&n.__v_isReadonly)}function v0(n){return!!(n&&n.__v_isShallow)}function JT(n){return Jd(n)||ep(n)}function hi(n){const r=n&&n.__v_raw;return r?hi(r):n}function QT(n){return g0(n,"__v_skip",!0),n}const gg=n=>Yi(n)?D1(n):n,B1=n=>Yi(n)?KT(n):n;function $T(n){Xc&&_a&&(n=hi(n),GT(n.dep||(n.dep=R1())))}function tS(n,r){n=hi(n);const t=n.dep;t&&qw(t)}function uo(n){return!!(n&&n.__v_isRef===!0)}function Ne(n){return HL(n,!1)}function HL(n,r){return uo(n)?n:new UL(n,r)}class UL{constructor(r,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?r:hi(r),this._value=t?r:gg(r)}get value(){return $T(this),this._value}set value(r){const t=this.__v_isShallow||v0(r)||ep(r);r=t?r:hi(r),fg(r,this._rawValue)&&(this._rawValue=r,this._value=t?r:gg(r),tS(this))}}function GL(n){return uo(n)?n.value:n}const qL={get:(n,r,t)=>GL(Reflect.get(n,r,t)),set:(n,r,t,o)=>{const l=n[r];return uo(l)&&!uo(t)?(l.value=t,!0):Reflect.set(n,r,t,o)}};function eS(n){return Jd(n)?n:new Proxy(n,qL)}class VL{constructor(r,t,o,l){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new A1(r,()=>{this._dirty||(this._dirty=!0,tS(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!l,this.__v_isReadonly=o}get value(){const r=hi(this);return $T(r),(r._dirty||!r._cacheable)&&(r._dirty=!1,r._value=r.effect.run()),r._value}set value(r){this._setter(r)}}function WL(n,r,t=!1){let o,l;const u=Yr(n);return u?(o=n,l=Sa):(o=n.get,l=n.set),new VL(o,l,u||!l,t)}function Kc(n,r,t,o){let l;try{l=o?n(...o):n()}catch(u){ly(u,r,t)}return l}function Ca(n,r,t,o){if(Yr(n)){const u=Kc(n,r,t,o);return u&&OT(u)&&u.catch(d=>{ly(d,r,t)}),u}const l=[];for(let u=0;u<n.length;u++)l.push(Ca(n[u],r,t,o));return l}function ly(n,r,t,o=!0){const l=r?r.vnode:null;if(r){let u=r.parent;const d=r.proxy,f=t;for(;u;){const v=u.ec;if(v){for(let _=0;_<v.length;_++)if(v[_](n,d,f)===!1)return}u=u.parent}const m=r.appContext.config.errorHandler;if(m){Kc(m,null,10,[n,d,f]);return}}ZL(n,t,l,o)}function ZL(n,r,t,o=!0){console.error(n)}let mg=!1,Vw=!1;const lo=[];let ol=0;const Qd=[];let Yl=null,rh=0;const rS=Promise.resolve();let j1=null;function H1(n){const r=j1||rS;return n?r.then(this?n.bind(this):n):r}function YL(n){let r=ol+1,t=lo.length;for(;r<t;){const o=r+t>>>1;vg(lo[o])<n?r=o+1:t=o}return r}function U1(n){(!lo.length||!lo.includes(n,mg&&n.allowRecurse?ol+1:ol))&&(n.id==null?lo.push(n):lo.splice(YL(n.id),0,n),iS())}function iS(){!mg&&!Vw&&(Vw=!0,j1=rS.then(oS))}function XL(n){const r=lo.indexOf(n);r>ol&&lo.splice(r,1)}function KL(n){sr(n)?Qd.push(...n):(!Yl||!Yl.includes(n,n.allowRecurse?rh+1:rh))&&Qd.push(n),iS()}function SE(n,r=mg?ol+1:0){for(;r<lo.length;r++){const t=lo[r];t&&t.pre&&(lo.splice(r,1),r--,t())}}function nS(n){if(Qd.length){const r=[...new Set(Qd)];if(Qd.length=0,Yl){Yl.push(...r);return}for(Yl=r,Yl.sort((t,o)=>vg(t)-vg(o)),rh=0;rh<Yl.length;rh++)Yl[rh]();Yl=null,rh=0}}const vg=n=>n.id==null?1/0:n.id,JL=(n,r)=>{const t=vg(n)-vg(r);if(t===0){if(n.pre&&!r.pre)return-1;if(r.pre&&!n.pre)return 1}return t};function oS(n){Vw=!1,mg=!0,lo.sort(JL);const r=Sa;try{for(ol=0;ol<lo.length;ol++){const t=lo[ol];t&&t.active!==!1&&Kc(t,null,14)}}finally{ol=0,lo.length=0,nS(),mg=!1,j1=null,(lo.length||Qd.length)&&oS()}}function QL(n,r,...t){if(n.isUnmounted)return;const o=n.vnode.props||Bi;let l=t;const u=r.startsWith("update:"),d=u&&r.slice(7);if(d&&d in o){const _=`${d==="modelValue"?"model":d}Modifiers`,{number:k,trim:C}=o[_]||Bi;C&&(l=t.map(M=>Pn(M)?M.trim():M)),k&&(l=t.map(nL))}let f,m=o[f=rw(r)]||o[f=rw(Jl(r))];!m&&u&&(m=o[f=rw(xa(r))]),m&&Ca(m,n,6,l);const v=o[f+"Once"];if(v){if(!n.emitted)n.emitted={};else if(n.emitted[f])return;n.emitted[f]=!0,Ca(v,n,6,l)}}function sS(n,r,t=!1){const o=r.emitsCache,l=o.get(n);if(l!==void 0)return l;const u=n.emits;let d={},f=!1;if(!Yr(n)){const m=v=>{const _=sS(v,r,!0);_&&(f=!0,Cn(d,_))};!t&&r.mixins.length&&r.mixins.forEach(m),n.extends&&m(n.extends),n.mixins&&n.mixins.forEach(m)}return!u&&!f?(Yi(n)&&o.set(n,null),null):(sr(u)?u.forEach(m=>d[m]=null):Cn(d,u),Yi(n)&&o.set(n,d),d)}function cy(n,r){return!n||!iy(r)?!1:(r=r.slice(2).replace(/Once$/,""),ai(n,r[0].toLowerCase()+r.slice(1))||ai(n,xa(r))||ai(n,r))}let qo=null,uy=null;function y0(n){const r=qo;return qo=n,uy=n&&n.type.__scopeId||null,r}function $L(n){uy=n}function tR(){uy=null}function eR(n,r=qo,t){if(!r||n._n)return n;const o=(...l)=>{o._d&&NE(-1);const u=y0(r);let d;try{d=n(...l)}finally{y0(u),o._d&&NE(1)}return d};return o._n=!0,o._c=!0,o._d=!0,o}function nw(n){const{type:r,vnode:t,proxy:o,withProxy:l,props:u,propsOptions:[d],slots:f,attrs:m,emit:v,render:_,renderCache:k,data:C,setupState:M,ctx:A,inheritAttrs:F}=n;let U,j;const J=y0(n);try{if(t.shapeFlag&4){const V=l||o;U=nl(_.call(V,V,k,u,M,C,A)),j=m}else{const V=r;U=nl(V.length>1?V(u,{attrs:m,slots:f,emit:v}):V(u,null)),j=r.props?m:rR(m)}}catch(V){ng.length=0,ly(V,n,1),U=Pa(tu)}let H=U;if(j&&F!==!1){const V=Object.keys(j),{shapeFlag:ot}=H;V.length&&ot&7&&(d&&V.some(P1)&&(j=iR(j,d)),H=rp(H,j))}return t.dirs&&(H=rp(H),H.dirs=H.dirs?H.dirs.concat(t.dirs):t.dirs),t.transition&&(H.transition=t.transition),U=H,y0(J),U}const rR=n=>{let r;for(const t in n)(t==="class"||t==="style"||iy(t))&&((r||(r={}))[t]=n[t]);return r},iR=(n,r)=>{const t={};for(const o in n)(!P1(o)||!(o.slice(9)in r))&&(t[o]=n[o]);return t};function nR(n,r,t){const{props:o,children:l,component:u}=n,{props:d,children:f,patchFlag:m}=r,v=u.emitsOptions;if(r.dirs||r.transition)return!0;if(t&&m>=0){if(m&1024)return!0;if(m&16)return o?CE(o,d,v):!!d;if(m&8){const _=r.dynamicProps;for(let k=0;k<_.length;k++){const C=_[k];if(d[C]!==o[C]&&!cy(v,C))return!0}}}else return(l||f)&&(!f||!f.$stable)?!0:o===d?!1:o?d?CE(o,d,v):!0:!!d;return!1}function CE(n,r,t){const o=Object.keys(r);if(o.length!==Object.keys(n).length)return!0;for(let l=0;l<o.length;l++){const u=o[l];if(r[u]!==n[u]&&!cy(t,u))return!0}return!1}function oR({vnode:n,parent:r},t){for(;r&&r.subTree===n;)(n=r.vnode).el=t,r=r.parent}const sR=n=>n.__isSuspense;function aR(n,r){r&&r.pendingBranch?sr(n)?r.effects.push(...n):r.effects.push(n):KL(n)}const Rv={};function ri(n,r,t){return aS(n,r,t)}function aS(n,r,{immediate:t,deep:o,flush:l,onTrack:u,onTrigger:d}=Bi){var f;const m=pL()===((f=co)==null?void 0:f.scope)?co:null;let v,_=!1,k=!1;if(uo(n)?(v=()=>n.value,_=v0(n)):Jd(n)?(v=()=>n,o=!0):sr(n)?(k=!0,_=n.some(V=>Jd(V)||v0(V)),v=()=>n.map(V=>{if(uo(V))return V.value;if(Jd(V))return qd(V);if(Yr(V))return Kc(V,m,2)})):Yr(n)?r?v=()=>Kc(n,m,2):v=()=>{if(!(m&&m.isUnmounted))return C&&C(),Ca(n,m,3,[M])}:v=Sa,r&&o){const V=v;v=()=>qd(V())}let C,M=V=>{C=J.onStop=()=>{Kc(V,m,4)}},A;if(bg)if(M=Sa,r?t&&Ca(r,m,3,[v(),k?[]:void 0,M]):v(),l==="sync"){const V=tA();A=V.__watcherHandles||(V.__watcherHandles=[])}else return Sa;let F=k?new Array(n.length).fill(Rv):Rv;const U=()=>{if(J.active)if(r){const V=J.run();(o||_||(k?V.some((ot,ft)=>fg(ot,F[ft])):fg(V,F)))&&(C&&C(),Ca(r,m,3,[V,F===Rv?void 0:k&&F[0]===Rv?[]:F,M]),F=V)}else J.run()};U.allowRecurse=!!r;let j;l==="sync"?j=U:l==="post"?j=()=>Ho(U,m&&m.suspense):(U.pre=!0,m&&(U.id=m.uid),j=()=>U1(U));const J=new A1(v,j);r?t?U():F=J.run():l==="post"?Ho(J.run.bind(J),m&&m.suspense):J.run();const H=()=>{J.stop(),m&&m.scope&&M1(m.scope.effects,J)};return A&&A.push(H),H}function lR(n,r,t){const o=this.proxy,l=Pn(n)?n.includes(".")?lS(o,n):()=>o[n]:n.bind(o,o);let u;Yr(r)?u=r:(u=r.handler,t=r);const d=co;ip(this);const f=aS(l,u.bind(o),t);return d?ip(d):lh(),f}function lS(n,r){const t=r.split(".");return()=>{let o=n;for(let l=0;l<t.length&&o;l++)o=o[t[l]];return o}}function qd(n,r){if(!Yi(n)||n.__v_skip||(r=r||new Set,r.has(n)))return n;if(r.add(n),uo(n))qd(n.value,r);else if(sr(n))for(let t=0;t<n.length;t++)qd(n[t],r);else if(AT(n)||Kd(n))n.forEach(t=>{qd(t,r)});else if(NT(n))for(const t in n)qd(n[t],r);return n}function $u(n,r,t,o){const l=n.dirs,u=r&&r.dirs;for(let d=0;d<l.length;d++){const f=l[d];u&&(f.oldValue=u[d].value);let m=f.dir[o];m&&(mp(),Ca(m,t,8,[n.el,f,n,r]),vp())}}function ms(n,r){return Yr(n)?(()=>Cn({name:n.name},r,{setup:n}))():n}const rg=n=>!!n.type.__asyncLoader,cS=n=>n.type.__isKeepAlive;function cR(n,r){uS(n,"a",r)}function uR(n,r){uS(n,"da",r)}function uS(n,r,t=co){const o=n.__wdc||(n.__wdc=()=>{let l=t;for(;l;){if(l.isDeactivated)return;l=l.parent}return n()});if(hy(r,o,t),t){let l=t.parent;for(;l&&l.parent;)cS(l.parent.vnode)&&hR(o,r,t,l),l=l.parent}}function hR(n,r,t,o){const l=hy(r,n,o,!0);hS(()=>{M1(o[r],l)},t)}function hy(n,r,t=co,o=!1){if(t){const l=t[n]||(t[n]=[]),u=r.__weh||(r.__weh=(...d)=>{if(t.isUnmounted)return;mp(),ip(t);const f=Ca(r,t,n,d);return lh(),vp(),f});return o?l.unshift(u):l.push(u),u}}const oc=n=>(r,t=co)=>(!bg||n==="sp")&&hy(n,(...o)=>r(...o),t),dR=oc("bm"),hu=oc("m"),pR=oc("bu"),fR=oc("u"),gR=oc("bum"),hS=oc("um"),mR=oc("sp"),vR=oc("rtg"),yR=oc("rtc");function bR(n,r=co){hy("ec",n,r)}const wR=Symbol.for("v-ndc");function ah(n,r,t,o){let l;const u=t&&t[o];if(sr(n)||Pn(n)){l=new Array(n.length);for(let d=0,f=n.length;d<f;d++)l[d]=r(n[d],d,void 0,u&&u[d])}else if(typeof n=="number"){l=new Array(n);for(let d=0;d<n;d++)l[d]=r(d+1,d,void 0,u&&u[d])}else if(Yi(n))if(n[Symbol.iterator])l=Array.from(n,(d,f)=>r(d,f,void 0,u&&u[f]));else{const d=Object.keys(n);l=new Array(d.length);for(let f=0,m=d.length;f<m;f++){const v=d[f];l[f]=r(n[v],v,f,u&&u[f])}}else l=[];return t&&(t[o]=l),l}function xR(n,r,t={},o,l){if(qo.isCE||qo.parent&&rg(qo.parent)&&qo.parent.isCE)return r!=="default"&&(t.name=r),Pa("slot",t,o&&o());let u=n[r];u&&u._c&&(u._d=!1),Oe();const d=u&&dS(u(t)),f=_S(on,{key:t.key||d&&d.key||`_${r}`},d||(o?o():[]),d&&n._===1?64:-2);return!l&&f.scopeId&&(f.slotScopeIds=[f.scopeId+"-s"]),u&&u._c&&(u._d=!0),f}function dS(n){return n.some(r=>kS(r)?!(r.type===tu||r.type===on&&!dS(r.children)):!0)?n:null}const Ww=n=>n?TS(n)?Z1(n)||n.proxy:Ww(n.parent):null,ig=Cn(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>Ww(n.parent),$root:n=>Ww(n.root),$emit:n=>n.emit,$options:n=>G1(n),$forceUpdate:n=>n.f||(n.f=()=>U1(n.update)),$nextTick:n=>n.n||(n.n=H1.bind(n.proxy)),$watch:n=>lR.bind(n)}),ow=(n,r)=>n!==Bi&&!n.__isScriptSetup&&ai(n,r),_R={get({_:n},r){const{ctx:t,setupState:o,data:l,props:u,accessCache:d,type:f,appContext:m}=n;let v;if(r[0]!=="$"){const M=d[r];if(M!==void 0)switch(M){case 1:return o[r];case 2:return l[r];case 4:return t[r];case 3:return u[r]}else{if(ow(o,r))return d[r]=1,o[r];if(l!==Bi&&ai(l,r))return d[r]=2,l[r];if((v=n.propsOptions[0])&&ai(v,r))return d[r]=3,u[r];if(t!==Bi&&ai(t,r))return d[r]=4,t[r];Zw&&(d[r]=0)}}const _=ig[r];let k,C;if(_)return r==="$attrs"&&Yo(n,"get",r),_(n);if((k=f.__cssModules)&&(k=k[r]))return k;if(t!==Bi&&ai(t,r))return d[r]=4,t[r];if(C=m.config.globalProperties,ai(C,r))return C[r]},set({_:n},r,t){const{data:o,setupState:l,ctx:u}=n;return ow(l,r)?(l[r]=t,!0):o!==Bi&&ai(o,r)?(o[r]=t,!0):ai(n.props,r)||r[0]==="$"&&r.slice(1)in n?!1:(u[r]=t,!0)},has({_:{data:n,setupState:r,accessCache:t,ctx:o,appContext:l,propsOptions:u}},d){let f;return!!t[d]||n!==Bi&&ai(n,d)||ow(r,d)||(f=u[0])&&ai(f,d)||ai(o,d)||ai(ig,d)||ai(l.config.globalProperties,d)},defineProperty(n,r,t){return t.get!=null?n._.accessCache[r]=0:ai(t,"value")&&this.set(n,r,t.value,null),Reflect.defineProperty(n,r,t)}};function PE(n){return sr(n)?n.reduce((r,t)=>(r[t]=null,r),{}):n}let Zw=!0;function kR(n){const r=G1(n),t=n.proxy,o=n.ctx;Zw=!1,r.beforeCreate&&ME(r.beforeCreate,n,"bc");const{data:l,computed:u,methods:d,watch:f,provide:m,inject:v,created:_,beforeMount:k,mounted:C,beforeUpdate:M,updated:A,activated:F,deactivated:U,beforeDestroy:j,beforeUnmount:J,destroyed:H,unmounted:V,render:ot,renderTracked:ft,renderTriggered:ht,errorCaptured:ct,serverPrefetch:Z,expose:lt,inheritAttrs:ut,components:mt,directives:re,filters:ne}=r;if(v&&ER(v,o,null),d)for(const pe in d){const Jt=d[pe];Yr(Jt)&&(o[pe]=Jt.bind(t))}if(l){const pe=l.call(t,t);Yi(pe)&&(n.data=D1(pe))}if(Zw=!0,u)for(const pe in u){const Jt=u[pe],Wt=Yr(Jt)?Jt.bind(t,t):Yr(Jt.get)?Jt.get.bind(t,t):Sa,Et=!Yr(Jt)&&Yr(Jt.set)?Jt.set.bind(t):Sa,qt=Vr({get:Wt,set:Et});Object.defineProperty(o,pe,{enumerable:!0,configurable:!0,get:()=>qt.value,set:Zt=>qt.value=Zt})}if(f)for(const pe in f)pS(f[pe],o,t,pe);if(m){const pe=Yr(m)?m.call(t):m;Reflect.ownKeys(pe).forEach(Jt=>{IR(Jt,pe[Jt])})}_&&ME(_,n,"c");function Bt(pe,Jt){sr(Jt)?Jt.forEach(Wt=>pe(Wt.bind(t))):Jt&&pe(Jt.bind(t))}if(Bt(dR,k),Bt(hu,C),Bt(pR,M),Bt(fR,A),Bt(cR,F),Bt(uR,U),Bt(bR,ct),Bt(yR,ft),Bt(vR,ht),Bt(gR,J),Bt(hS,V),Bt(mR,Z),sr(lt))if(lt.length){const pe=n.exposed||(n.exposed={});lt.forEach(Jt=>{Object.defineProperty(pe,Jt,{get:()=>t[Jt],set:Wt=>t[Jt]=Wt})})}else n.exposed||(n.exposed={});ot&&n.render===Sa&&(n.render=ot),ut!=null&&(n.inheritAttrs=ut),mt&&(n.components=mt),re&&(n.directives=re)}function ER(n,r,t=Sa){sr(n)&&(n=Yw(n));for(const o in n){const l=n[o];let u;Yi(l)?"default"in l?u=r0(l.from||o,l.default,!0):u=r0(l.from||o):u=r0(l),uo(u)?Object.defineProperty(r,o,{enumerable:!0,configurable:!0,get:()=>u.value,set:d=>u.value=d}):r[o]=u}}function ME(n,r,t){Ca(sr(n)?n.map(o=>o.bind(r.proxy)):n.bind(r.proxy),r,t)}function pS(n,r,t,o){const l=o.includes(".")?lS(t,o):()=>t[o];if(Pn(n)){const u=r[n];Yr(u)&&ri(l,u)}else if(Yr(n))ri(l,n.bind(t));else if(Yi(n))if(sr(n))n.forEach(u=>pS(u,r,t,o));else{const u=Yr(n.handler)?n.handler.bind(t):r[n.handler];Yr(u)&&ri(l,u,n)}}function G1(n){const r=n.type,{mixins:t,extends:o}=r,{mixins:l,optionsCache:u,config:{optionMergeStrategies:d}}=n.appContext,f=u.get(r);let m;return f?m=f:!l.length&&!t&&!o?m=r:(m={},l.length&&l.forEach(v=>b0(m,v,d,!0)),b0(m,r,d)),Yi(r)&&u.set(r,m),m}function b0(n,r,t,o=!1){const{mixins:l,extends:u}=r;u&&b0(n,u,t,!0),l&&l.forEach(d=>b0(n,d,t,!0));for(const d in r)if(!(o&&d==="expose")){const f=TR[d]||t&&t[d];n[d]=f?f(n[d],r[d]):r[d]}return n}const TR={data:IE,props:LE,emits:LE,methods:Kf,computed:Kf,beforeCreate:Eo,created:Eo,beforeMount:Eo,mounted:Eo,beforeUpdate:Eo,updated:Eo,beforeDestroy:Eo,beforeUnmount:Eo,destroyed:Eo,unmounted:Eo,activated:Eo,deactivated:Eo,errorCaptured:Eo,serverPrefetch:Eo,components:Kf,directives:Kf,watch:CR,provide:IE,inject:SR};function IE(n,r){return r?n?function(){return Cn(Yr(n)?n.call(this,this):n,Yr(r)?r.call(this,this):r)}:r:n}function SR(n,r){return Kf(Yw(n),Yw(r))}function Yw(n){if(sr(n)){const r={};for(let t=0;t<n.length;t++)r[n[t]]=n[t];return r}return n}function Eo(n,r){return n?[...new Set([].concat(n,r))]:r}function Kf(n,r){return n?Cn(Object.create(null),n,r):r}function LE(n,r){return n?sr(n)&&sr(r)?[...new Set([...n,...r])]:Cn(Object.create(null),PE(n),PE(r??{})):r}function CR(n,r){if(!n)return r;if(!r)return n;const t=Cn(Object.create(null),n);for(const o in r)t[o]=Eo(n[o],r[o]);return t}function fS(){return{app:null,config:{isNativeTag:QI,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let PR=0;function MR(n,r){return function(o,l=null){Yr(o)||(o=Cn({},o)),l!=null&&!Yi(l)&&(l=null);const u=fS(),d=new Set;let f=!1;const m=u.app={_uid:PR++,_component:o,_props:l,_container:null,_context:u,_instance:null,version:eA,get config(){return u.config},set config(v){},use(v,..._){return d.has(v)||(v&&Yr(v.install)?(d.add(v),v.install(m,..._)):Yr(v)&&(d.add(v),v(m,..._))),m},mixin(v){return u.mixins.includes(v)||u.mixins.push(v),m},component(v,_){return _?(u.components[v]=_,m):u.components[v]},directive(v,_){return _?(u.directives[v]=_,m):u.directives[v]},mount(v,_,k){if(!f){const C=Pa(o,l);return C.appContext=u,_&&r?r(C,v):n(C,v,k),f=!0,m._container=v,v.__vue_app__=m,Z1(C.component)||C.component.proxy}},unmount(){f&&(n(null,m._container),delete m._container.__vue_app__)},provide(v,_){return u.provides[v]=_,m},runWithContext(v){w0=m;try{return v()}finally{w0=null}}};return m}}let w0=null;function IR(n,r){if(co){let t=co.provides;const o=co.parent&&co.parent.provides;o===t&&(t=co.provides=Object.create(o)),t[n]=r}}function r0(n,r,t=!1){const o=co||qo;if(o||w0){const l=o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:w0._context.provides;if(l&&n in l)return l[n];if(arguments.length>1)return t&&Yr(r)?r.call(o&&o.proxy):r}}function LR(n,r,t,o=!1){const l={},u={};g0(u,py,1),n.propsDefaults=Object.create(null),gS(n,r,l,u);for(const d in n.propsOptions[0])d in l||(l[d]=void 0);t?n.props=o?l:jL(l):n.type.props?n.props=l:n.props=u,n.attrs=u}function RR(n,r,t,o){const{props:l,attrs:u,vnode:{patchFlag:d}}=n,f=hi(l),[m]=n.propsOptions;let v=!1;if((o||d>0)&&!(d&16)){if(d&8){const _=n.vnode.dynamicProps;for(let k=0;k<_.length;k++){let C=_[k];if(cy(n.emitsOptions,C))continue;const M=r[C];if(m)if(ai(u,C))M!==u[C]&&(u[C]=M,v=!0);else{const A=Jl(C);l[A]=Xw(m,f,A,M,n,!1)}else M!==u[C]&&(u[C]=M,v=!0)}}}else{gS(n,r,l,u)&&(v=!0);let _;for(const k in f)(!r||!ai(r,k)&&((_=xa(k))===k||!ai(r,_)))&&(m?t&&(t[k]!==void 0||t[_]!==void 0)&&(l[k]=Xw(m,f,k,void 0,n,!0)):delete l[k]);if(u!==f)for(const k in u)(!r||!ai(r,k))&&(delete u[k],v=!0)}v&&tc(n,"set","$attrs")}function gS(n,r,t,o){const[l,u]=n.propsOptions;let d=!1,f;if(r)for(let m in r){if(e0(m))continue;const v=r[m];let _;l&&ai(l,_=Jl(m))?!u||!u.includes(_)?t[_]=v:(f||(f={}))[_]=v:cy(n.emitsOptions,m)||(!(m in o)||v!==o[m])&&(o[m]=v,d=!0)}if(u){const m=hi(t),v=f||Bi;for(let _=0;_<u.length;_++){const k=u[_];t[k]=Xw(l,m,k,v[k],n,!ai(v,k))}}return d}function Xw(n,r,t,o,l,u){const d=n[t];if(d!=null){const f=ai(d,"default");if(f&&o===void 0){const m=d.default;if(d.type!==Function&&!d.skipFactory&&Yr(m)){const{propsDefaults:v}=l;t in v?o=v[t]:(ip(l),o=v[t]=m.call(null,r),lh())}else o=m}d[0]&&(u&&!f?o=!1:d[1]&&(o===""||o===xa(t))&&(o=!0))}return o}function mS(n,r,t=!1){const o=r.propsCache,l=o.get(n);if(l)return l;const u=n.props,d={},f=[];let m=!1;if(!Yr(n)){const _=k=>{m=!0;const[C,M]=mS(k,r,!0);Cn(d,C),M&&f.push(...M)};!t&&r.mixins.length&&r.mixins.forEach(_),n.extends&&_(n.extends),n.mixins&&n.mixins.forEach(_)}if(!u&&!m)return Yi(n)&&o.set(n,Xd),Xd;if(sr(u))for(let _=0;_<u.length;_++){const k=Jl(u[_]);RE(k)&&(d[k]=Bi)}else if(u)for(const _ in u){const k=Jl(_);if(RE(k)){const C=u[_],M=d[k]=sr(C)||Yr(C)?{type:C}:Cn({},C);if(M){const A=zE(Boolean,M.type),F=zE(String,M.type);M[0]=A>-1,M[1]=F<0||A<F,(A>-1||ai(M,"default"))&&f.push(k)}}}const v=[d,f];return Yi(n)&&o.set(n,v),v}function RE(n){return n[0]!=="$"}function AE(n){const r=n&&n.toString().match(/^\s*(function|class) (\w+)/);return r?r[2]:n===null?"null":""}function OE(n,r){return AE(n)===AE(r)}function zE(n,r){return sr(r)?r.findIndex(t=>OE(t,n)):Yr(r)&&OE(r,n)?0:-1}const vS=n=>n[0]==="_"||n==="$stable",q1=n=>sr(n)?n.map(nl):[nl(n)],AR=(n,r,t)=>{if(r._n)return r;const o=eR((...l)=>q1(r(...l)),t);return o._c=!1,o},yS=(n,r,t)=>{const o=n._ctx;for(const l in n){if(vS(l))continue;const u=n[l];if(Yr(u))r[l]=AR(l,u,o);else if(u!=null){const d=q1(u);r[l]=()=>d}}},bS=(n,r)=>{const t=q1(r);n.slots.default=()=>t},OR=(n,r)=>{if(n.vnode.shapeFlag&32){const t=r._;t?(n.slots=hi(r),g0(r,"_",t)):yS(r,n.slots={})}else n.slots={},r&&bS(n,r);g0(n.slots,py,1)},zR=(n,r,t)=>{const{vnode:o,slots:l}=n;let u=!0,d=Bi;if(o.shapeFlag&32){const f=r._;f?t&&f===1?u=!1:(Cn(l,r),!t&&f===1&&delete l._):(u=!r.$stable,yS(r,l)),d=r}else r&&(bS(n,r),d={default:1});if(u)for(const f in l)!vS(f)&&!(f in d)&&delete l[f]};function Kw(n,r,t,o,l=!1){if(sr(n)){n.forEach((C,M)=>Kw(C,r&&(sr(r)?r[M]:r),t,o,l));return}if(rg(o)&&!l)return;const u=o.shapeFlag&4?Z1(o.component)||o.component.proxy:o.el,d=l?null:u,{i:f,r:m}=n,v=r&&r.r,_=f.refs===Bi?f.refs={}:f.refs,k=f.setupState;if(v!=null&&v!==m&&(Pn(v)?(_[v]=null,ai(k,v)&&(k[v]=null)):uo(v)&&(v.value=null)),Yr(m))Kc(m,f,12,[d,_]);else{const C=Pn(m),M=uo(m);if(C||M){const A=()=>{if(n.f){const F=C?ai(k,m)?k[m]:_[m]:m.value;l?sr(F)&&M1(F,u):sr(F)?F.includes(u)||F.push(u):C?(_[m]=[u],ai(k,m)&&(k[m]=_[m])):(m.value=[u],n.k&&(_[n.k]=m.value))}else C?(_[m]=d,ai(k,m)&&(k[m]=d)):M&&(m.value=d,n.k&&(_[n.k]=d))};d?(A.id=-1,Ho(A,t)):A()}}}const Ho=aR;function NR(n){return DR(n)}function DR(n,r){const t=jw();t.__VUE__=!0;const{insert:o,remove:l,patchProp:u,createElement:d,createText:f,createComment:m,setText:v,setElementText:_,parentNode:k,nextSibling:C,setScopeId:M=Sa,insertStaticContent:A}=n,F=(nt,pt,vt,O=null,Y=null,dt=null,_t=!1,wt=null,Ot=!!pt.dynamicChildren)=>{if(nt===pt)return;nt&&!Bf(nt,pt)&&(O=er(nt),Zt(nt,Y,dt,!0),nt=null),pt.patchFlag===-2&&(Ot=!1,pt.dynamicChildren=null);const{type:xt,ref:te,shapeFlag:ae}=pt;switch(xt){case dy:U(nt,pt,vt,O);break;case tu:j(nt,pt,vt,O);break;case sw:nt==null&&J(pt,vt,O,_t);break;case on:mt(nt,pt,vt,O,Y,dt,_t,wt,Ot);break;default:ae&1?ot(nt,pt,vt,O,Y,dt,_t,wt,Ot):ae&6?re(nt,pt,vt,O,Y,dt,_t,wt,Ot):(ae&64||ae&128)&&xt.process(nt,pt,vt,O,Y,dt,_t,wt,Ot,Gt)}te!=null&&Y&&Kw(te,nt&&nt.ref,dt,pt||nt,!pt)},U=(nt,pt,vt,O)=>{if(nt==null)o(pt.el=f(pt.children),vt,O);else{const Y=pt.el=nt.el;pt.children!==nt.children&&v(Y,pt.children)}},j=(nt,pt,vt,O)=>{nt==null?o(pt.el=m(pt.children||""),vt,O):pt.el=nt.el},J=(nt,pt,vt,O)=>{[nt.el,nt.anchor]=A(nt.children,pt,vt,O,nt.el,nt.anchor)},H=({el:nt,anchor:pt},vt,O)=>{let Y;for(;nt&&nt!==pt;)Y=C(nt),o(nt,vt,O),nt=Y;o(pt,vt,O)},V=({el:nt,anchor:pt})=>{let vt;for(;nt&&nt!==pt;)vt=C(nt),l(nt),nt=vt;l(pt)},ot=(nt,pt,vt,O,Y,dt,_t,wt,Ot)=>{_t=_t||pt.type==="svg",nt==null?ft(pt,vt,O,Y,dt,_t,wt,Ot):Z(nt,pt,Y,dt,_t,wt,Ot)},ft=(nt,pt,vt,O,Y,dt,_t,wt)=>{let Ot,xt;const{type:te,props:ae,shapeFlag:he,transition:se,dirs:Ie}=nt;if(Ot=nt.el=d(nt.type,dt,ae&&ae.is,ae),he&8?_(Ot,nt.children):he&16&&ct(nt.children,Ot,null,O,Y,dt&&te!=="foreignObject",_t,wt),Ie&&$u(nt,null,O,"created"),ht(Ot,nt,nt.scopeId,_t,O),ae){for(const We in ae)We!=="value"&&!e0(We)&&u(Ot,We,null,ae[We],dt,nt.children,O,Y,ue);"value"in ae&&u(Ot,"value",null,ae.value),(xt=ae.onVnodeBeforeMount)&&tl(xt,O,nt)}Ie&&$u(nt,null,O,"beforeMount");const Pe=(!Y||Y&&!Y.pendingBranch)&&se&&!se.persisted;Pe&&se.beforeEnter(Ot),o(Ot,pt,vt),((xt=ae&&ae.onVnodeMounted)||Pe||Ie)&&Ho(()=>{xt&&tl(xt,O,nt),Pe&&se.enter(Ot),Ie&&$u(nt,null,O,"mounted")},Y)},ht=(nt,pt,vt,O,Y)=>{if(vt&&M(nt,vt),O)for(let dt=0;dt<O.length;dt++)M(nt,O[dt]);if(Y){let dt=Y.subTree;if(pt===dt){const _t=Y.vnode;ht(nt,_t,_t.scopeId,_t.slotScopeIds,Y.parent)}}},ct=(nt,pt,vt,O,Y,dt,_t,wt,Ot=0)=>{for(let xt=Ot;xt<nt.length;xt++){const te=nt[xt]=wt?Wc(nt[xt]):nl(nt[xt]);F(null,te,pt,vt,O,Y,dt,_t,wt)}},Z=(nt,pt,vt,O,Y,dt,_t)=>{const wt=pt.el=nt.el;let{patchFlag:Ot,dynamicChildren:xt,dirs:te}=pt;Ot|=nt.patchFlag&16;const ae=nt.props||Bi,he=pt.props||Bi;let se;vt&&th(vt,!1),(se=he.onVnodeBeforeUpdate)&&tl(se,vt,pt,nt),te&&$u(pt,nt,vt,"beforeUpdate"),vt&&th(vt,!0);const Ie=Y&&pt.type!=="foreignObject";if(xt?lt(nt.dynamicChildren,xt,wt,vt,O,Ie,dt):_t||Jt(nt,pt,wt,null,vt,O,Ie,dt,!1),Ot>0){if(Ot&16)ut(wt,pt,ae,he,vt,O,Y);else if(Ot&2&&ae.class!==he.class&&u(wt,"class",null,he.class,Y),Ot&4&&u(wt,"style",ae.style,he.style,Y),Ot&8){const Pe=pt.dynamicProps;for(let We=0;We<Pe.length;We++){const $=Pe[We],K=ae[$],at=he[$];(at!==K||$==="value")&&u(wt,$,K,at,Y,nt.children,vt,O,ue)}}Ot&1&&nt.children!==pt.children&&_(wt,pt.children)}else!_t&&xt==null&&ut(wt,pt,ae,he,vt,O,Y);((se=he.onVnodeUpdated)||te)&&Ho(()=>{se&&tl(se,vt,pt,nt),te&&$u(pt,nt,vt,"updated")},O)},lt=(nt,pt,vt,O,Y,dt,_t)=>{for(let wt=0;wt<pt.length;wt++){const Ot=nt[wt],xt=pt[wt],te=Ot.el&&(Ot.type===on||!Bf(Ot,xt)||Ot.shapeFlag&70)?k(Ot.el):vt;F(Ot,xt,te,null,O,Y,dt,_t,!0)}},ut=(nt,pt,vt,O,Y,dt,_t)=>{if(vt!==O){if(vt!==Bi)for(const wt in vt)!e0(wt)&&!(wt in O)&&u(nt,wt,vt[wt],null,_t,pt.children,Y,dt,ue);for(const wt in O){if(e0(wt))continue;const Ot=O[wt],xt=vt[wt];Ot!==xt&&wt!=="value"&&u(nt,wt,xt,Ot,_t,pt.children,Y,dt,ue)}"value"in O&&u(nt,"value",vt.value,O.value)}},mt=(nt,pt,vt,O,Y,dt,_t,wt,Ot)=>{const xt=pt.el=nt?nt.el:f(""),te=pt.anchor=nt?nt.anchor:f("");let{patchFlag:ae,dynamicChildren:he,slotScopeIds:se}=pt;se&&(wt=wt?wt.concat(se):se),nt==null?(o(xt,vt,O),o(te,vt,O),ct(pt.children,vt,te,Y,dt,_t,wt,Ot)):ae>0&&ae&64&&he&&nt.dynamicChildren?(lt(nt.dynamicChildren,he,vt,Y,dt,_t,wt),(pt.key!=null||Y&&pt===Y.subTree)&&wS(nt,pt,!0)):Jt(nt,pt,vt,te,Y,dt,_t,wt,Ot)},re=(nt,pt,vt,O,Y,dt,_t,wt,Ot)=>{pt.slotScopeIds=wt,nt==null?pt.shapeFlag&512?Y.ctx.activate(pt,vt,O,_t,Ot):ne(pt,vt,O,Y,dt,_t,Ot):ye(nt,pt,Ot)},ne=(nt,pt,vt,O,Y,dt,_t)=>{const wt=nt.component=ZR(nt,O,Y);if(cS(nt)&&(wt.ctx.renderer=Gt),YR(wt),wt.asyncDep){if(Y&&Y.registerDep(wt,Bt),!nt.el){const Ot=wt.subTree=Pa(tu);j(null,Ot,pt,vt)}return}Bt(wt,nt,pt,vt,Y,dt,_t)},ye=(nt,pt,vt)=>{const O=pt.component=nt.component;if(nR(nt,pt,vt))if(O.asyncDep&&!O.asyncResolved){pe(O,pt,vt);return}else O.next=pt,XL(O.update),O.update();else pt.el=nt.el,O.vnode=pt},Bt=(nt,pt,vt,O,Y,dt,_t)=>{const wt=()=>{if(nt.isMounted){let{next:te,bu:ae,u:he,parent:se,vnode:Ie}=nt,Pe=te,We;th(nt,!1),te?(te.el=Ie.el,pe(nt,te,_t)):te=Ie,ae&&iw(ae),(We=te.props&&te.props.onVnodeBeforeUpdate)&&tl(We,se,te,Ie),th(nt,!0);const $=nw(nt),K=nt.subTree;nt.subTree=$,F(K,$,k(K.el),er(K),nt,Y,dt),te.el=$.el,Pe===null&&oR(nt,$.el),he&&Ho(he,Y),(We=te.props&&te.props.onVnodeUpdated)&&Ho(()=>tl(We,se,te,Ie),Y)}else{let te;const{el:ae,props:he}=pt,{bm:se,m:Ie,parent:Pe}=nt,We=rg(pt);if(th(nt,!1),se&&iw(se),!We&&(te=he&&he.onVnodeBeforeMount)&&tl(te,Pe,pt),th(nt,!0),ae&&Xt){const $=()=>{nt.subTree=nw(nt),Xt(ae,nt.subTree,nt,Y,null)};We?pt.type.__asyncLoader().then(()=>!nt.isUnmounted&&$()):$()}else{const $=nt.subTree=nw(nt);F(null,$,vt,O,nt,Y,dt),pt.el=$.el}if(Ie&&Ho(Ie,Y),!We&&(te=he&&he.onVnodeMounted)){const $=pt;Ho(()=>tl(te,Pe,$),Y)}(pt.shapeFlag&256||Pe&&rg(Pe.vnode)&&Pe.vnode.shapeFlag&256)&&nt.a&&Ho(nt.a,Y),nt.isMounted=!0,pt=vt=O=null}},Ot=nt.effect=new A1(wt,()=>U1(xt),nt.scope),xt=nt.update=()=>Ot.run();xt.id=nt.uid,th(nt,!0),xt()},pe=(nt,pt,vt)=>{pt.component=nt;const O=nt.vnode.props;nt.vnode=pt,nt.next=null,RR(nt,pt.props,O,vt),zR(nt,pt.children,vt),mp(),SE(),vp()},Jt=(nt,pt,vt,O,Y,dt,_t,wt,Ot=!1)=>{const xt=nt&&nt.children,te=nt?nt.shapeFlag:0,ae=pt.children,{patchFlag:he,shapeFlag:se}=pt;if(he>0){if(he&128){Et(xt,ae,vt,O,Y,dt,_t,wt,Ot);return}else if(he&256){Wt(xt,ae,vt,O,Y,dt,_t,wt,Ot);return}}se&8?(te&16&&ue(xt,Y,dt),ae!==xt&&_(vt,ae)):te&16?se&16?Et(xt,ae,vt,O,Y,dt,_t,wt,Ot):ue(xt,Y,dt,!0):(te&8&&_(vt,""),se&16&&ct(ae,vt,O,Y,dt,_t,wt,Ot))},Wt=(nt,pt,vt,O,Y,dt,_t,wt,Ot)=>{nt=nt||Xd,pt=pt||Xd;const xt=nt.length,te=pt.length,ae=Math.min(xt,te);let he;for(he=0;he<ae;he++){const se=pt[he]=Ot?Wc(pt[he]):nl(pt[he]);F(nt[he],se,vt,null,Y,dt,_t,wt,Ot)}xt>te?ue(nt,Y,dt,!0,!1,ae):ct(pt,vt,O,Y,dt,_t,wt,Ot,ae)},Et=(nt,pt,vt,O,Y,dt,_t,wt,Ot)=>{let xt=0;const te=pt.length;let ae=nt.length-1,he=te-1;for(;xt<=ae&&xt<=he;){const se=nt[xt],Ie=pt[xt]=Ot?Wc(pt[xt]):nl(pt[xt]);if(Bf(se,Ie))F(se,Ie,vt,null,Y,dt,_t,wt,Ot);else break;xt++}for(;xt<=ae&&xt<=he;){const se=nt[ae],Ie=pt[he]=Ot?Wc(pt[he]):nl(pt[he]);if(Bf(se,Ie))F(se,Ie,vt,null,Y,dt,_t,wt,Ot);else break;ae--,he--}if(xt>ae){if(xt<=he){const se=he+1,Ie=se<te?pt[se].el:O;for(;xt<=he;)F(null,pt[xt]=Ot?Wc(pt[xt]):nl(pt[xt]),vt,Ie,Y,dt,_t,wt,Ot),xt++}}else if(xt>he)for(;xt<=ae;)Zt(nt[xt],Y,dt,!0),xt++;else{const se=xt,Ie=xt,Pe=new Map;for(xt=Ie;xt<=he;xt++){const ke=pt[xt]=Ot?Wc(pt[xt]):nl(pt[xt]);ke.key!=null&&Pe.set(ke.key,xt)}let We,$=0;const K=he-Ie+1;let at=!1,st=0;const Vt=new Array(K);for(xt=0;xt<K;xt++)Vt[xt]=0;for(xt=se;xt<=ae;xt++){const ke=nt[xt];if($>=K){Zt(ke,Y,dt,!0);continue}let lr;if(ke.key!=null)lr=Pe.get(ke.key);else for(We=Ie;We<=he;We++)if(Vt[We-Ie]===0&&Bf(ke,pt[We])){lr=We;break}lr===void 0?Zt(ke,Y,dt,!0):(Vt[lr-Ie]=xt+1,lr>=st?st=lr:at=!0,F(ke,pt[lr],vt,null,Y,dt,_t,wt,Ot),$++)}const ee=at?FR(Vt):Xd;for(We=ee.length-1,xt=K-1;xt>=0;xt--){const ke=Ie+xt,lr=pt[ke],Be=ke+1<te?pt[ke+1].el:O;Vt[xt]===0?F(null,lr,vt,Be,Y,dt,_t,wt,Ot):at&&(We<0||xt!==ee[We]?qt(lr,vt,Be,2):We--)}}},qt=(nt,pt,vt,O,Y=null)=>{const{el:dt,type:_t,transition:wt,children:Ot,shapeFlag:xt}=nt;if(xt&6){qt(nt.component.subTree,pt,vt,O);return}if(xt&128){nt.suspense.move(pt,vt,O);return}if(xt&64){_t.move(nt,pt,vt,Gt);return}if(_t===on){o(dt,pt,vt);for(let ae=0;ae<Ot.length;ae++)qt(Ot[ae],pt,vt,O);o(nt.anchor,pt,vt);return}if(_t===sw){H(nt,pt,vt);return}if(O!==2&&xt&1&&wt)if(O===0)wt.beforeEnter(dt),o(dt,pt,vt),Ho(()=>wt.enter(dt),Y);else{const{leave:ae,delayLeave:he,afterLeave:se}=wt,Ie=()=>o(dt,pt,vt),Pe=()=>{ae(dt,()=>{Ie(),se&&se()})};he?he(dt,Ie,Pe):Pe()}else o(dt,pt,vt)},Zt=(nt,pt,vt,O=!1,Y=!1)=>{const{type:dt,props:_t,ref:wt,children:Ot,dynamicChildren:xt,shapeFlag:te,patchFlag:ae,dirs:he}=nt;if(wt!=null&&Kw(wt,null,vt,nt,!0),te&256){pt.ctx.deactivate(nt);return}const se=te&1&&he,Ie=!rg(nt);let Pe;if(Ie&&(Pe=_t&&_t.onVnodeBeforeUnmount)&&tl(Pe,pt,nt),te&6)le(nt.component,vt,O);else{if(te&128){nt.suspense.unmount(vt,O);return}se&&$u(nt,null,pt,"beforeUnmount"),te&64?nt.type.remove(nt,pt,vt,Y,Gt,O):xt&&(dt!==on||ae>0&&ae&64)?ue(xt,pt,vt,!1,!0):(dt===on&&ae&384||!Y&&te&16)&&ue(Ot,pt,vt),O&&fe(nt)}(Ie&&(Pe=_t&&_t.onVnodeUnmounted)||se)&&Ho(()=>{Pe&&tl(Pe,pt,nt),se&&$u(nt,null,pt,"unmounted")},vt)},fe=nt=>{const{type:pt,el:vt,anchor:O,transition:Y}=nt;if(pt===on){Ce(vt,O);return}if(pt===sw){V(nt);return}const dt=()=>{l(vt),Y&&!Y.persisted&&Y.afterLeave&&Y.afterLeave()};if(nt.shapeFlag&1&&Y&&!Y.persisted){const{leave:_t,delayLeave:wt}=Y,Ot=()=>_t(vt,dt);wt?wt(nt.el,dt,Ot):Ot()}else dt()},Ce=(nt,pt)=>{let vt;for(;nt!==pt;)vt=C(nt),l(nt),nt=vt;l(pt)},le=(nt,pt,vt)=>{const{bum:O,scope:Y,update:dt,subTree:_t,um:wt}=nt;O&&iw(O),Y.stop(),dt&&(dt.active=!1,Zt(_t,nt,pt,vt)),wt&&Ho(wt,pt),Ho(()=>{nt.isUnmounted=!0},pt),pt&&pt.pendingBranch&&!pt.isUnmounted&&nt.asyncDep&&!nt.asyncResolved&&nt.suspenseId===pt.pendingId&&(pt.deps--,pt.deps===0&&pt.resolve())},ue=(nt,pt,vt,O=!1,Y=!1,dt=0)=>{for(let _t=dt;_t<nt.length;_t++)Zt(nt[_t],pt,vt,O,Y)},er=nt=>nt.shapeFlag&6?er(nt.component.subTree):nt.shapeFlag&128?nt.suspense.next():C(nt.anchor||nt.el),Ut=(nt,pt,vt)=>{nt==null?pt._vnode&&Zt(pt._vnode,null,null,!0):F(pt._vnode||null,nt,pt,null,null,null,vt),SE(),nS(),pt._vnode=nt},Gt={p:F,um:Zt,m:qt,r:fe,mt:ne,mc:ct,pc:Jt,pbc:lt,n:er,o:n};let Yt,Xt;return r&&([Yt,Xt]=r(Gt)),{render:Ut,hydrate:Yt,createApp:MR(Ut,Yt)}}function th({effect:n,update:r},t){n.allowRecurse=r.allowRecurse=t}function wS(n,r,t=!1){const o=n.children,l=r.children;if(sr(o)&&sr(l))for(let u=0;u<o.length;u++){const d=o[u];let f=l[u];f.shapeFlag&1&&!f.dynamicChildren&&((f.patchFlag<=0||f.patchFlag===32)&&(f=l[u]=Wc(l[u]),f.el=d.el),t||wS(d,f)),f.type===dy&&(f.el=d.el)}}function FR(n){const r=n.slice(),t=[0];let o,l,u,d,f;const m=n.length;for(o=0;o<m;o++){const v=n[o];if(v!==0){if(l=t[t.length-1],n[l]<v){r[o]=l,t.push(o);continue}for(u=0,d=t.length-1;u<d;)f=u+d>>1,n[t[f]]<v?u=f+1:d=f;v<n[t[u]]&&(u>0&&(r[o]=t[u-1]),t[u]=o)}}for(u=t.length,d=t[u-1];u-- >0;)t[u]=d,d=r[d];return t}const BR=n=>n.__isTeleport,on=Symbol.for("v-fgt"),dy=Symbol.for("v-txt"),tu=Symbol.for("v-cmt"),sw=Symbol.for("v-stc"),ng=[];let ka=null;function Oe(n=!1){ng.push(ka=n?null:[])}function jR(){ng.pop(),ka=ng[ng.length-1]||null}let yg=1;function NE(n){yg+=n}function xS(n){return n.dynamicChildren=yg>0?ka||Xd:null,jR(),yg>0&&ka&&ka.push(n),n}function De(n,r,t,o,l,u){return xS(Qt(n,r,t,o,l,u,!0))}function _S(n,r,t,o,l){return xS(Pa(n,r,t,o,l,!0))}function kS(n){return n?n.__v_isVNode===!0:!1}function Bf(n,r){return n.type===r.type&&n.key===r.key}const py="__vInternal",ES=({key:n})=>n??null,i0=({ref:n,ref_key:r,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?Pn(n)||uo(n)||Yr(n)?{i:qo,r:n,k:r,f:!!t}:n:null);function Qt(n,r=null,t=null,o=0,l=null,u=n===on?0:1,d=!1,f=!1){const m={__v_isVNode:!0,__v_skip:!0,type:n,props:r,key:r&&ES(r),ref:r&&i0(r),scopeId:uy,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:o,dynamicProps:l,dynamicChildren:null,appContext:null,ctx:qo};return f?(V1(m,t),u&128&&n.normalize(m)):t&&(m.shapeFlag|=Pn(t)?8:16),yg>0&&!d&&ka&&(m.patchFlag>0||u&6)&&m.patchFlag!==32&&ka.push(m),m}const Pa=HR;function HR(n,r=null,t=null,o=0,l=null,u=!1){if((!n||n===wR)&&(n=tu),kS(n)){const f=rp(n,r,!0);return t&&V1(f,t),yg>0&&!u&&ka&&(f.shapeFlag&6?ka[ka.indexOf(n)]=f:ka.push(f)),f.patchFlag|=-2,f}if(QR(n)&&(n=n.__vccOpts),r){r=UR(r);let{class:f,style:m}=r;f&&!Pn(f)&&(r.class=qg(f)),Yi(m)&&(JT(m)&&!sr(m)&&(m=Cn({},m)),r.style=sy(m))}const d=Pn(n)?1:sR(n)?128:BR(n)?64:Yi(n)?4:Yr(n)?2:0;return Qt(n,r,t,o,l,d,u,!0)}function UR(n){return n?JT(n)||py in n?Cn({},n):n:null}function rp(n,r,t=!1){const{props:o,ref:l,patchFlag:u,children:d}=n,f=r?qR(o||{},r):o;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:f,key:f&&ES(f),ref:r&&r.ref?t&&l?sr(l)?l.concat(i0(r)):[l,i0(r)]:i0(r):l,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:d,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:r&&n.type!==on?u===-1?16:u|16:u,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&rp(n.ssContent),ssFallback:n.ssFallback&&rp(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce}}function GR(n=" ",r=0){return Pa(dy,null,n,r)}function gi(n="",r=!1){return r?(Oe(),_S(tu,null,n)):Pa(tu,null,n)}function nl(n){return n==null||typeof n=="boolean"?Pa(tu):sr(n)?Pa(on,null,n.slice()):typeof n=="object"?Wc(n):Pa(dy,null,String(n))}function Wc(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:rp(n)}function V1(n,r){let t=0;const{shapeFlag:o}=n;if(r==null)r=null;else if(sr(r))t=16;else if(typeof r=="object")if(o&65){const l=r.default;l&&(l._c&&(l._d=!1),V1(n,l()),l._c&&(l._d=!0));return}else{t=32;const l=r._;!l&&!(py in r)?r._ctx=qo:l===3&&qo&&(qo.slots._===1?r._=1:(r._=2,n.patchFlag|=1024))}else Yr(r)?(r={default:r,_ctx:qo},t=32):(r=String(r),o&64?(t=16,r=[GR(r)]):t=8);n.children=r,n.shapeFlag|=t}function qR(...n){const r={};for(let t=0;t<n.length;t++){const o=n[t];for(const l in o)if(l==="class")r.class!==o.class&&(r.class=qg([r.class,o.class]));else if(l==="style")r.style=sy([r.style,o.style]);else if(iy(l)){const u=r[l],d=o[l];d&&u!==d&&!(sr(u)&&u.includes(d))&&(r[l]=u?[].concat(u,d):d)}else l!==""&&(r[l]=o[l])}return r}function tl(n,r,t,o=null){Ca(n,r,7,[t,o])}const VR=fS();let WR=0;function ZR(n,r,t){const o=n.type,l=(r?r.appContext:n.appContext)||VR,u={uid:WR++,vnode:n,type:o,parent:r,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,scope:new hL(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(l.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:mS(o,l),emitsOptions:sS(o,l),emit:null,emitted:null,propsDefaults:Bi,inheritAttrs:o.inheritAttrs,ctx:Bi,data:Bi,props:Bi,attrs:Bi,slots:Bi,refs:Bi,setupState:Bi,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=r?r.root:u,u.emit=QL.bind(null,u),n.ce&&n.ce(u),u}let co=null,W1,Od,DE="__VUE_INSTANCE_SETTERS__";(Od=jw()[DE])||(Od=jw()[DE]=[]),Od.push(n=>co=n),W1=n=>{Od.length>1?Od.forEach(r=>r(n)):Od[0](n)};const ip=n=>{W1(n),n.scope.on()},lh=()=>{co&&co.scope.off(),W1(null)};function TS(n){return n.vnode.shapeFlag&4}let bg=!1;function YR(n,r=!1){bg=r;const{props:t,children:o}=n.vnode,l=TS(n);LR(n,t,l,r),OR(n,o);const u=l?XR(n,r):void 0;return bg=!1,u}function XR(n,r){const t=n.type;n.accessCache=Object.create(null),n.proxy=QT(new Proxy(n.ctx,_R));const{setup:o}=t;if(o){const l=n.setupContext=o.length>1?JR(n):null;ip(n),mp();const u=Kc(o,n,0,[n.props,l]);if(vp(),lh(),OT(u)){if(u.then(lh,lh),r)return u.then(d=>{FE(n,d,r)}).catch(d=>{ly(d,n,0)});n.asyncDep=u}else FE(n,u,r)}else SS(n,r)}function FE(n,r,t){Yr(r)?n.type.__ssrInlineRender?n.ssrRender=r:n.render=r:Yi(r)&&(n.setupState=eS(r)),SS(n,t)}let BE;function SS(n,r,t){const o=n.type;if(!n.render){if(!r&&BE&&!o.render){const l=o.template||G1(n).template;if(l){const{isCustomElement:u,compilerOptions:d}=n.appContext.config,{delimiters:f,compilerOptions:m}=o,v=Cn(Cn({isCustomElement:u,delimiters:f},d),m);o.render=BE(l,v)}}n.render=o.render||Sa}ip(n),mp(),kR(n),vp(),lh()}function KR(n){return n.attrsProxy||(n.attrsProxy=new Proxy(n.attrs,{get(r,t){return Yo(n,"get","$attrs"),r[t]}}))}function JR(n){const r=t=>{n.exposed=t||{}};return{get attrs(){return KR(n)},slots:n.slots,emit:n.emit,expose:r}}function Z1(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(eS(QT(n.exposed)),{get(r,t){if(t in r)return r[t];if(t in ig)return ig[t](n)},has(r,t){return t in r||t in ig}}))}function QR(n){return Yr(n)&&"__vccOpts"in n}const Vr=(n,r)=>WL(n,r,bg),$R=Symbol.for("v-scx"),tA=()=>r0($R),eA="3.3.4",rA="http://www.w3.org/2000/svg",ih=typeof document<"u"?document:null,jE=ih&&ih.createElement("template"),iA={insert:(n,r,t)=>{r.insertBefore(n,t||null)},remove:n=>{const r=n.parentNode;r&&r.removeChild(n)},createElement:(n,r,t,o)=>{const l=r?ih.createElementNS(rA,n):ih.createElement(n,t?{is:t}:void 0);return n==="select"&&o&&o.multiple!=null&&l.setAttribute("multiple",o.multiple),l},createText:n=>ih.createTextNode(n),createComment:n=>ih.createComment(n),setText:(n,r)=>{n.nodeValue=r},setElementText:(n,r)=>{n.textContent=r},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>ih.querySelector(n),setScopeId(n,r){n.setAttribute(r,"")},insertStaticContent(n,r,t,o,l,u){const d=t?t.previousSibling:r.lastChild;if(l&&(l===u||l.nextSibling))for(;r.insertBefore(l.cloneNode(!0),t),!(l===u||!(l=l.nextSibling)););else{jE.innerHTML=o?`<svg>${n}</svg>`:n;const f=jE.content;if(o){const m=f.firstChild;for(;m.firstChild;)f.appendChild(m.firstChild);f.removeChild(m)}r.insertBefore(f,t)}return[d?d.nextSibling:r.firstChild,t?t.previousSibling:r.lastChild]}};function nA(n,r,t){const o=n._vtc;o&&(r=(r?[r,...o]:[...o]).join(" ")),r==null?n.removeAttribute("class"):t?n.setAttribute("class",r):n.className=r}function oA(n,r,t){const o=n.style,l=Pn(t);if(t&&!l){if(r&&!Pn(r))for(const u in r)t[u]==null&&Jw(o,u,"");for(const u in t)Jw(o,u,t[u])}else{const u=o.display;l?r!==t&&(o.cssText=t):r&&n.removeAttribute("style"),"_vod"in n&&(o.display=u)}}const HE=/\s*!important$/;function Jw(n,r,t){if(sr(t))t.forEach(o=>Jw(n,r,o));else if(t==null&&(t=""),r.startsWith("--"))n.setProperty(r,t);else{const o=sA(n,r);HE.test(t)?n.setProperty(xa(o),t.replace(HE,""),"important"):n[o]=t}}const UE=["Webkit","Moz","ms"],aw={};function sA(n,r){const t=aw[r];if(t)return t;let o=Jl(r);if(o!=="filter"&&o in n)return aw[r]=o;o=DT(o);for(let l=0;l<UE.length;l++){const u=UE[l]+o;if(u in n)return aw[r]=u}return r}const GE="http://www.w3.org/1999/xlink";function aA(n,r,t,o,l){if(o&&r.startsWith("xlink:"))t==null?n.removeAttributeNS(GE,r.slice(6,r.length)):n.setAttributeNS(GE,r,t);else{const u=uL(r);t==null||u&&!FT(t)?n.removeAttribute(r):n.setAttribute(r,u?"":t)}}function lA(n,r,t,o,l,u,d){if(r==="innerHTML"||r==="textContent"){o&&d(o,l,u),n[r]=t??"";return}const f=n.tagName;if(r==="value"&&f!=="PROGRESS"&&!f.includes("-")){n._value=t;const v=f==="OPTION"?n.getAttribute("value"):n.value,_=t??"";v!==_&&(n.value=_),t==null&&n.removeAttribute(r);return}let m=!1;if(t===""||t==null){const v=typeof n[r];v==="boolean"?t=FT(t):t==null&&v==="string"?(t="",m=!0):v==="number"&&(t=0,m=!0)}try{n[r]=t}catch{}m&&n.removeAttribute(r)}function cA(n,r,t,o){n.addEventListener(r,t,o)}function uA(n,r,t,o){n.removeEventListener(r,t,o)}function hA(n,r,t,o,l=null){const u=n._vei||(n._vei={}),d=u[r];if(o&&d)d.value=o;else{const[f,m]=dA(r);if(o){const v=u[r]=gA(o,l);cA(n,f,v,m)}else d&&(uA(n,f,d,m),u[r]=void 0)}}const qE=/(?:Once|Passive|Capture)$/;function dA(n){let r;if(qE.test(n)){r={};let o;for(;o=n.match(qE);)n=n.slice(0,n.length-o[0].length),r[o[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):xa(n.slice(2)),r]}let lw=0;const pA=Promise.resolve(),fA=()=>lw||(pA.then(()=>lw=0),lw=Date.now());function gA(n,r){const t=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=t.attached)return;Ca(mA(o,t.value),r,5,[o])};return t.value=n,t.attached=fA(),t}function mA(n,r){if(sr(r)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},r.map(o=>l=>!l._stopped&&o&&o(l))}else return r}const VE=/^on[a-z]/,vA=(n,r,t,o,l=!1,u,d,f,m)=>{r==="class"?nA(n,o,l):r==="style"?oA(n,t,o):iy(r)?P1(r)||hA(n,r,t,o,d):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):yA(n,r,o,l))?lA(n,r,o,u,d,f,m):(r==="true-value"?n._trueValue=o:r==="false-value"&&(n._falseValue=o),aA(n,r,o,l))};function yA(n,r,t,o){return o?!!(r==="innerHTML"||r==="textContent"||r in n&&VE.test(r)&&Yr(t)):r==="spellcheck"||r==="draggable"||r==="translate"||r==="form"||r==="list"&&n.tagName==="INPUT"||r==="type"&&n.tagName==="TEXTAREA"||VE.test(r)&&Pn(t)?!1:r in n}function Us(n,r){const t=ms(n);class o extends Y1{constructor(u){super(t,u,r)}}return o.def=t,o}const bA=typeof HTMLElement<"u"?HTMLElement:class{};class Y1 extends bA{constructor(r,t={},o){super(),this._def=r,this._props=t,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&o?o(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,H1(()=>{this._connected||(ZE(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let o=0;o<this.attributes.length;o++)this._setAttr(this.attributes[o].name);new MutationObserver(o=>{for(const l of o)this._setAttr(l.attributeName)}).observe(this,{attributes:!0});const r=(o,l=!1)=>{const{props:u,styles:d}=o;let f;if(u&&!sr(u))for(const m in u){const v=u[m];(v===Number||v&&v.type===Number)&&(m in this._props&&(this._props[m]=vE(this._props[m])),(f||(f=Object.create(null)))[Jl(m)]=!0)}this._numberProps=f,l&&this._resolveProps(o),this._applyStyles(d),this._update()},t=this._def.__asyncLoader;t?t().then(o=>r(o,!0)):r(this._def)}_resolveProps(r){const{props:t}=r,o=sr(t)?t:Object.keys(t||{});for(const l of Object.keys(this))l[0]!=="_"&&o.includes(l)&&this._setProp(l,this[l],!0,!1);for(const l of o.map(Jl))Object.defineProperty(this,l,{get(){return this._getProp(l)},set(u){this._setProp(l,u)}})}_setAttr(r){let t=this.getAttribute(r);const o=Jl(r);this._numberProps&&this._numberProps[o]&&(t=vE(t)),this._setProp(o,t,!1)}_getProp(r){return this._props[r]}_setProp(r,t,o=!0,l=!0){t!==this._props[r]&&(this._props[r]=t,l&&this._instance&&this._update(),o&&(t===!0?this.setAttribute(xa(r),""):typeof t=="string"||typeof t=="number"?this.setAttribute(xa(r),t+""):t||this.removeAttribute(xa(r))))}_update(){ZE(this._createVNode(),this.shadowRoot)}_createVNode(){const r=Pa(this._def,Cn({},this._props));return this._instance||(r.ce=t=>{this._instance=t,t.isCE=!0;const o=(u,d)=>{this.dispatchEvent(new CustomEvent(u,{detail:d}))};t.emit=(u,...d)=>{o(u,d),xa(u)!==u&&o(xa(u),d)};let l=this;for(;l=l&&(l.parentNode||l.host);)if(l instanceof Y1){t.parent=l._instance,t.provides=l._instance.provides;break}}),r}_applyStyles(r){r&&r.forEach(t=>{const o=document.createElement("style");o.textContent=t,this.shadowRoot.appendChild(o)})}}const wA=Cn({patchProp:vA},iA);let WE;function xA(){return WE||(WE=NR(wA))}const ZE=(...n)=>{xA().render(...n)};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const n0=globalThis,X1=n0.ShadowRoot&&(n0.ShadyCSS===void 0||n0.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,K1=Symbol(),YE=new WeakMap;let CS=class{constructor(r,t,o){if(this._$cssResult$=!0,o!==K1)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=r,this.t=t}get styleSheet(){let r=this.o;const t=this.t;if(X1&&r===void 0){const o=t!==void 0&&t.length===1;o&&(r=YE.get(t)),r===void 0&&((this.o=r=new CSSStyleSheet).replaceSync(this.cssText),o&&YE.set(t,r))}return r}toString(){return this.cssText}};const _A=n=>new CS(typeof n=="string"?n:n+"",void 0,K1),Xs=(n,...r)=>{const t=n.length===1?n[0]:r.reduce((o,l,u)=>o+(d=>{if(d._$cssResult$===!0)return d.cssText;if(typeof d=="number")return d;throw Error("Value passed to 'css' function must be a 'css' function result: "+d+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(l)+n[u+1],n[0]);return new CS(t,n,K1)},kA=(n,r)=>{if(X1)n.adoptedStyleSheets=r.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet);else for(const t of r){const o=document.createElement("style"),l=n0.litNonce;l!==void 0&&o.setAttribute("nonce",l),o.textContent=t.cssText,n.appendChild(o)}},XE=X1?n=>n:n=>n instanceof CSSStyleSheet?(r=>{let t="";for(const o of r.cssRules)t+=o.cssText;return _A(t)})(n):n;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:EA,defineProperty:TA,getOwnPropertyDescriptor:SA,getOwnPropertyNames:CA,getOwnPropertySymbols:PA,getPrototypeOf:MA}=Object,Jc=globalThis,KE=Jc.trustedTypes,IA=KE?KE.emptyScript:"",cw=Jc.reactiveElementPolyfillSupport,og=(n,r)=>n,x0={toAttribute(n,r){switch(r){case Boolean:n=n?IA:null;break;case Object:case Array:n=n==null?n:JSON.stringify(n)}return n},fromAttribute(n,r){let t=n;switch(r){case Boolean:t=n!==null;break;case Number:t=n===null?null:Number(n);break;case Object:case Array:try{t=JSON.parse(n)}catch{t=null}}return t}},J1=(n,r)=>!EA(n,r),JE={attribute:!0,type:String,converter:x0,reflect:!1,hasChanged:J1};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Jc.litPropertyMetadata??(Jc.litPropertyMetadata=new WeakMap);class Bd extends HTMLElement{static addInitializer(r){this._$Ei(),(this.l??(this.l=[])).push(r)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(r,t=JE){if(t.state&&(t.attribute=!1),this._$Ei(),this.elementProperties.set(r,t),!t.noAccessor){const o=Symbol(),l=this.getPropertyDescriptor(r,o,t);l!==void 0&&TA(this.prototype,r,l)}}static getPropertyDescriptor(r,t,o){const{get:l,set:u}=SA(this.prototype,r)??{get(){return this[t]},set(d){this[t]=d}};return{get(){return l==null?void 0:l.call(this)},set(d){const f=l==null?void 0:l.call(this);u.call(this,d),this.requestUpdate(r,f,o)},configurable:!0,enumerable:!0}}static getPropertyOptions(r){return this.elementProperties.get(r)??JE}static _$Ei(){if(this.hasOwnProperty(og("elementProperties")))return;const r=MA(this);r.finalize(),r.l!==void 0&&(this.l=[...r.l]),this.elementProperties=new Map(r.elementProperties)}static finalize(){if(this.hasOwnProperty(og("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(og("properties"))){const t=this.properties,o=[...CA(t),...PA(t)];for(const l of o)this.createProperty(l,t[l])}const r=this[Symbol.metadata];if(r!==null){const t=litPropertyMetadata.get(r);if(t!==void 0)for(const[o,l]of t)this.elementProperties.set(o,l)}this._$Eh=new Map;for(const[t,o]of this.elementProperties){const l=this._$Eu(t,o);l!==void 0&&this._$Eh.set(l,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(r){const t=[];if(Array.isArray(r)){const o=new Set(r.flat(1/0).reverse());for(const l of o)t.unshift(XE(l))}else r!==void 0&&t.push(XE(r));return t}static _$Eu(r,t){const o=t.attribute;return o===!1?void 0:typeof o=="string"?o:typeof r=="string"?r.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var r;this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),(r=this.constructor.l)==null||r.forEach(t=>t(this))}addController(r){var t;(this._$EO??(this._$EO=new Set)).add(r),this.renderRoot!==void 0&&this.isConnected&&((t=r.hostConnected)==null||t.call(r))}removeController(r){var t;(t=this._$EO)==null||t.delete(r)}_$E_(){const r=new Map,t=this.constructor.elementProperties;for(const o of t.keys())this.hasOwnProperty(o)&&(r.set(o,this[o]),delete this[o]);r.size>0&&(this._$Ep=r)}createRenderRoot(){const r=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return kA(r,this.constructor.elementStyles),r}connectedCallback(){var r;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(r=this._$EO)==null||r.forEach(t=>{var o;return(o=t.hostConnected)==null?void 0:o.call(t)})}enableUpdating(r){}disconnectedCallback(){var r;(r=this._$EO)==null||r.forEach(t=>{var o;return(o=t.hostDisconnected)==null?void 0:o.call(t)})}attributeChangedCallback(r,t,o){this._$AK(r,o)}_$EC(r,t){var u;const o=this.constructor.elementProperties.get(r),l=this.constructor._$Eu(r,o);if(l!==void 0&&o.reflect===!0){const d=(((u=o.converter)==null?void 0:u.toAttribute)!==void 0?o.converter:x0).toAttribute(t,o.type);this._$Em=r,d==null?this.removeAttribute(l):this.setAttribute(l,d),this._$Em=null}}_$AK(r,t){var u;const o=this.constructor,l=o._$Eh.get(r);if(l!==void 0&&this._$Em!==l){const d=o.getPropertyOptions(l),f=typeof d.converter=="function"?{fromAttribute:d.converter}:((u=d.converter)==null?void 0:u.fromAttribute)!==void 0?d.converter:x0;this._$Em=l,this[l]=f.fromAttribute(t,d.type),this._$Em=null}}requestUpdate(r,t,o){if(r!==void 0){if(o??(o=this.constructor.getPropertyOptions(r)),!(o.hasChanged??J1)(this[r],t))return;this.P(r,t,o)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(r,t,o){this._$AL.has(r)||this._$AL.set(r,t),o.reflect===!0&&this._$Em!==r&&(this._$Ej??(this._$Ej=new Set)).add(r)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const r=this.scheduleUpdate();return r!=null&&await r,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var o;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[u,d]of this._$Ep)this[u]=d;this._$Ep=void 0}const l=this.constructor.elementProperties;if(l.size>0)for(const[u,d]of l)d.wrapped!==!0||this._$AL.has(u)||this[u]===void 0||this.P(u,this[u],d)}let r=!1;const t=this._$AL;try{r=this.shouldUpdate(t),r?(this.willUpdate(t),(o=this._$EO)==null||o.forEach(l=>{var u;return(u=l.hostUpdate)==null?void 0:u.call(l)}),this.update(t)):this._$EU()}catch(l){throw r=!1,this._$EU(),l}r&&this._$AE(t)}willUpdate(r){}_$AE(r){var t;(t=this._$EO)==null||t.forEach(o=>{var l;return(l=o.hostUpdated)==null?void 0:l.call(o)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(r)),this.updated(r)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(r){return!0}update(r){this._$Ej&&(this._$Ej=this._$Ej.forEach(t=>this._$EC(t,this[t]))),this._$EU()}updated(r){}firstUpdated(r){}}Bd.elementStyles=[],Bd.shadowRootOptions={mode:"open"},Bd[og("elementProperties")]=new Map,Bd[og("finalized")]=new Map,cw==null||cw({ReactiveElement:Bd}),(Jc.reactiveElementVersions??(Jc.reactiveElementVersions=[])).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const sg=globalThis,_0=sg.trustedTypes,QE=_0?_0.createPolicy("lit-html",{createHTML:n=>n}):void 0,PS="$lit$",Zc=`lit$${(Math.random()+"").slice(9)}$`,MS="?"+Zc,LA=`<${MS}>`,ph=document,wg=()=>ph.createComment(""),xg=n=>n===null||typeof n!="object"&&typeof n!="function",IS=Array.isArray,RA=n=>IS(n)||typeof(n==null?void 0:n[Symbol.iterator])=="function",uw=`[ 	
\f\r]`,jf=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,$E=/-->/g,t2=/>/g,eh=RegExp(`>|${uw}(?:([^\\s"'>=/]+)(${uw}*=${uw}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),e2=/'/g,r2=/"/g,LS=/^(?:script|style|textarea|title)$/i,AA=n=>(r,...t)=>({_$litType$:n,strings:r,values:t}),Qn=AA(1),fh=Symbol.for("lit-noChange"),sn=Symbol.for("lit-nothing"),i2=new WeakMap,oh=ph.createTreeWalker(ph,129);function RS(n,r){if(!Array.isArray(n)||!n.hasOwnProperty("raw"))throw Error("invalid template strings array");return QE!==void 0?QE.createHTML(r):r}const OA=(n,r)=>{const t=n.length-1,o=[];let l,u=r===2?"<svg>":"",d=jf;for(let f=0;f<t;f++){const m=n[f];let v,_,k=-1,C=0;for(;C<m.length&&(d.lastIndex=C,_=d.exec(m),_!==null);)C=d.lastIndex,d===jf?_[1]==="!--"?d=$E:_[1]!==void 0?d=t2:_[2]!==void 0?(LS.test(_[2])&&(l=RegExp("</"+_[2],"g")),d=eh):_[3]!==void 0&&(d=eh):d===eh?_[0]===">"?(d=l??jf,k=-1):_[1]===void 0?k=-2:(k=d.lastIndex-_[2].length,v=_[1],d=_[3]===void 0?eh:_[3]==='"'?r2:e2):d===r2||d===e2?d=eh:d===$E||d===t2?d=jf:(d=eh,l=void 0);const M=d===eh&&n[f+1].startsWith("/>")?" ":"";u+=d===jf?m+LA:k>=0?(o.push(v),m.slice(0,k)+PS+m.slice(k)+Zc+M):m+Zc+(k===-2?f:M)}return[RS(n,u+(n[t]||"<?>")+(r===2?"</svg>":"")),o]};class _g{constructor({strings:r,_$litType$:t},o){let l;this.parts=[];let u=0,d=0;const f=r.length-1,m=this.parts,[v,_]=OA(r,t);if(this.el=_g.createElement(v,o),oh.currentNode=this.el.content,t===2){const k=this.el.content.firstChild;k.replaceWith(...k.childNodes)}for(;(l=oh.nextNode())!==null&&m.length<f;){if(l.nodeType===1){if(l.hasAttributes())for(const k of l.getAttributeNames())if(k.endsWith(PS)){const C=_[d++],M=l.getAttribute(k).split(Zc),A=/([.?@])?(.*)/.exec(C);m.push({type:1,index:u,name:A[2],strings:M,ctor:A[1]==="."?NA:A[1]==="?"?DA:A[1]==="@"?FA:fy}),l.removeAttribute(k)}else k.startsWith(Zc)&&(m.push({type:6,index:u}),l.removeAttribute(k));if(LS.test(l.tagName)){const k=l.textContent.split(Zc),C=k.length-1;if(C>0){l.textContent=_0?_0.emptyScript:"";for(let M=0;M<C;M++)l.append(k[M],wg()),oh.nextNode(),m.push({type:2,index:++u});l.append(k[C],wg())}}}else if(l.nodeType===8)if(l.data===MS)m.push({type:2,index:u});else{let k=-1;for(;(k=l.data.indexOf(Zc,k+1))!==-1;)m.push({type:7,index:u}),k+=Zc.length-1}u++}}static createElement(r,t){const o=ph.createElement("template");return o.innerHTML=r,o}}function np(n,r,t=n,o){var d,f;if(r===fh)return r;let l=o!==void 0?(d=t._$Co)==null?void 0:d[o]:t._$Cl;const u=xg(r)?void 0:r._$litDirective$;return(l==null?void 0:l.constructor)!==u&&((f=l==null?void 0:l._$AO)==null||f.call(l,!1),u===void 0?l=void 0:(l=new u(n),l._$AT(n,t,o)),o!==void 0?(t._$Co??(t._$Co=[]))[o]=l:t._$Cl=l),l!==void 0&&(r=np(n,l._$AS(n,r.values),l,o)),r}class zA{constructor(r,t){this._$AV=[],this._$AN=void 0,this._$AD=r,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(r){const{el:{content:t},parts:o}=this._$AD,l=((r==null?void 0:r.creationScope)??ph).importNode(t,!0);oh.currentNode=l;let u=oh.nextNode(),d=0,f=0,m=o[0];for(;m!==void 0;){if(d===m.index){let v;m.type===2?v=new Vg(u,u.nextSibling,this,r):m.type===1?v=new m.ctor(u,m.name,m.strings,this,r):m.type===6&&(v=new BA(u,this,r)),this._$AV.push(v),m=o[++f]}d!==(m==null?void 0:m.index)&&(u=oh.nextNode(),d++)}return oh.currentNode=ph,l}p(r){let t=0;for(const o of this._$AV)o!==void 0&&(o.strings!==void 0?(o._$AI(r,o,t),t+=o.strings.length-2):o._$AI(r[t])),t++}}class Vg{get _$AU(){var r;return((r=this._$AM)==null?void 0:r._$AU)??this._$Cv}constructor(r,t,o,l){this.type=2,this._$AH=sn,this._$AN=void 0,this._$AA=r,this._$AB=t,this._$AM=o,this.options=l,this._$Cv=(l==null?void 0:l.isConnected)??!0}get parentNode(){let r=this._$AA.parentNode;const t=this._$AM;return t!==void 0&&(r==null?void 0:r.nodeType)===11&&(r=t.parentNode),r}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(r,t=this){r=np(this,r,t),xg(r)?r===sn||r==null||r===""?(this._$AH!==sn&&this._$AR(),this._$AH=sn):r!==this._$AH&&r!==fh&&this._(r):r._$litType$!==void 0?this.$(r):r.nodeType!==void 0?this.T(r):RA(r)?this.k(r):this._(r)}S(r){return this._$AA.parentNode.insertBefore(r,this._$AB)}T(r){this._$AH!==r&&(this._$AR(),this._$AH=this.S(r))}_(r){this._$AH!==sn&&xg(this._$AH)?this._$AA.nextSibling.data=r:this.T(ph.createTextNode(r)),this._$AH=r}$(r){var u;const{values:t,_$litType$:o}=r,l=typeof o=="number"?this._$AC(r):(o.el===void 0&&(o.el=_g.createElement(RS(o.h,o.h[0]),this.options)),o);if(((u=this._$AH)==null?void 0:u._$AD)===l)this._$AH.p(t);else{const d=new zA(l,this),f=d.u(this.options);d.p(t),this.T(f),this._$AH=d}}_$AC(r){let t=i2.get(r.strings);return t===void 0&&i2.set(r.strings,t=new _g(r)),t}k(r){IS(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let o,l=0;for(const u of r)l===t.length?t.push(o=new Vg(this.S(wg()),this.S(wg()),this,this.options)):o=t[l],o._$AI(u),l++;l<t.length&&(this._$AR(o&&o._$AB.nextSibling,l),t.length=l)}_$AR(r=this._$AA.nextSibling,t){var o;for((o=this._$AP)==null?void 0:o.call(this,!1,!0,t);r&&r!==this._$AB;){const l=r.nextSibling;r.remove(),r=l}}setConnected(r){var t;this._$AM===void 0&&(this._$Cv=r,(t=this._$AP)==null||t.call(this,r))}}let fy=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(r,t,o,l,u){this.type=1,this._$AH=sn,this._$AN=void 0,this.element=r,this.name=t,this._$AM=l,this.options=u,o.length>2||o[0]!==""||o[1]!==""?(this._$AH=Array(o.length-1).fill(new String),this.strings=o):this._$AH=sn}_$AI(r,t=this,o,l){const u=this.strings;let d=!1;if(u===void 0)r=np(this,r,t,0),d=!xg(r)||r!==this._$AH&&r!==fh,d&&(this._$AH=r);else{const f=r;let m,v;for(r=u[0],m=0;m<u.length-1;m++)v=np(this,f[o+m],t,m),v===fh&&(v=this._$AH[m]),d||(d=!xg(v)||v!==this._$AH[m]),v===sn?r=sn:r!==sn&&(r+=(v??"")+u[m+1]),this._$AH[m]=v}d&&!l&&this.j(r)}j(r){r===sn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,r??"")}},NA=class extends fy{constructor(){super(...arguments),this.type=3}j(r){this.element[this.name]=r===sn?void 0:r}},DA=class extends fy{constructor(){super(...arguments),this.type=4}j(r){this.element.toggleAttribute(this.name,!!r&&r!==sn)}};class FA extends fy{constructor(r,t,o,l,u){super(r,t,o,l,u),this.type=5}_$AI(r,t=this){if((r=np(this,r,t,0)??sn)===fh)return;const o=this._$AH,l=r===sn&&o!==sn||r.capture!==o.capture||r.once!==o.once||r.passive!==o.passive,u=r!==sn&&(o===sn||l);l&&this.element.removeEventListener(this.name,this,o),u&&this.element.addEventListener(this.name,this,r),this._$AH=r}handleEvent(r){var t;typeof this._$AH=="function"?this._$AH.call(((t=this.options)==null?void 0:t.host)??this.element,r):this._$AH.handleEvent(r)}}let BA=class{constructor(r,t,o){this.element=r,this.type=6,this._$AN=void 0,this._$AM=t,this.options=o}get _$AU(){return this._$AM._$AU}_$AI(r){np(this,r)}};const hw=sg.litHtmlPolyfillSupport;hw==null||hw(_g,Vg),(sg.litHtmlVersions??(sg.litHtmlVersions=[])).push("3.1.2");const jA=(n,r,t)=>{const o=(t==null?void 0:t.renderBefore)??r;let l=o._$litPart$;if(l===void 0){const u=(t==null?void 0:t.renderBefore)??null;o._$litPart$=l=new Vg(r.insertBefore(wg(),u),u,void 0,t??{})}return l._$AI(n),l};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let ag=class extends Bd{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t;const r=super.createRenderRoot();return(t=this.renderOptions).renderBefore??(t.renderBefore=r.firstChild),r}update(r){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(r),this._$Do=jA(t,this.renderRoot,this.renderOptions)}connectedCallback(){var r;super.connectedCallback(),(r=this._$Do)==null||r.setConnected(!0)}disconnectedCallback(){var r;super.disconnectedCallback(),(r=this._$Do)==null||r.setConnected(!1)}render(){return fh}};var LT;ag._$litElement$=!0,ag.finalized=!0,(LT=globalThis.litElementHydrateSupport)==null||LT.call(globalThis,{LitElement:ag});const dw=globalThis.litElementPolyfillSupport;dw==null||dw({LitElement:ag});(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.0.4");var Ra=Xs`
  :host {
    box-sizing: border-box;
  }

  :host *,
  :host *::before,
  :host *::after {
    box-sizing: inherit;
  }

  [hidden] {
    display: none !important;
  }
`,HA=Xs`
  ${Ra}

  :host {
    --track-width: 2px;
    --track-color: rgb(128 128 128 / 25%);
    --indicator-color: var(--sl-color-primary-600);
    --speed: 2s;

    display: inline-flex;
    width: 1em;
    height: 1em;
    flex: none;
  }

  .spinner {
    flex: 1 1 auto;
    height: 100%;
    width: 100%;
  }

  .spinner__track,
  .spinner__indicator {
    fill: none;
    stroke-width: var(--track-width);
    r: calc(0.5em - var(--track-width) / 2);
    cx: 0.5em;
    cy: 0.5em;
    transform-origin: 50% 50%;
  }

  .spinner__track {
    stroke: var(--track-color);
    transform-origin: 0% 0%;
  }

  .spinner__indicator {
    stroke: var(--indicator-color);
    stroke-linecap: round;
    stroke-dasharray: 150% 75%;
    animation: spin var(--speed) linear infinite;
  }

  @keyframes spin {
    0% {
      transform: rotate(0deg);
      stroke-dasharray: 0.05em, 3em;
    }

    50% {
      transform: rotate(450deg);
      stroke-dasharray: 1.375em, 1.375em;
    }

    100% {
      transform: rotate(1080deg);
      stroke-dasharray: 0.05em, 3em;
    }
  }
`;const Qw=new Set,UA=new MutationObserver(NS),Vd=new Map;let AS=document.documentElement.dir||"ltr",OS=document.documentElement.lang||navigator.language,nh;UA.observe(document.documentElement,{attributes:!0,attributeFilter:["dir","lang"]});function zS(...n){n.map(r=>{const t=r.$code.toLowerCase();Vd.has(t)?Vd.set(t,Object.assign(Object.assign({},Vd.get(t)),r)):Vd.set(t,r),nh||(nh=r)}),NS()}function NS(){AS=document.documentElement.dir||"ltr",OS=document.documentElement.lang||navigator.language,[...Qw.keys()].map(n=>{typeof n.requestUpdate=="function"&&n.requestUpdate()})}let GA=class{constructor(r){this.host=r,this.host.addController(this)}hostConnected(){Qw.add(this.host)}hostDisconnected(){Qw.delete(this.host)}dir(){return`${this.host.dir||AS}`.toLowerCase()}lang(){return`${this.host.lang||OS}`.toLowerCase()}getTranslationData(r){var t,o;const l=new Intl.Locale(r.replace(/_/g,"-")),u=l==null?void 0:l.language.toLowerCase(),d=(o=(t=l==null?void 0:l.region)===null||t===void 0?void 0:t.toLowerCase())!==null&&o!==void 0?o:"",f=Vd.get(`${u}-${d}`),m=Vd.get(u);return{locale:l,language:u,region:d,primary:f,secondary:m}}exists(r,t){var o;const{primary:l,secondary:u}=this.getTranslationData((o=t.lang)!==null&&o!==void 0?o:this.lang());return t=Object.assign({includeFallback:!1},t),!!(l&&l[r]||u&&u[r]||t.includeFallback&&nh&&nh[r])}term(r,...t){const{primary:o,secondary:l}=this.getTranslationData(this.lang());let u;if(o&&o[r])u=o[r];else if(l&&l[r])u=l[r];else if(nh&&nh[r])u=nh[r];else return console.error(`No translation found for: ${String(r)}`),String(r);return typeof u=="function"?u(...t):u}date(r,t){return r=new Date(r),new Intl.DateTimeFormat(this.lang(),t).format(r)}number(r,t){return r=Number(r),isNaN(r)?"":new Intl.NumberFormat(this.lang(),t).format(r)}relativeTime(r,t,o){return new Intl.RelativeTimeFormat(this.lang(),o).format(r,t)}};var DS={$code:"en",$name:"English",$dir:"ltr",carousel:"Carousel",clearEntry:"Clear entry",close:"Close",copied:"Copied",copy:"Copy",currentValue:"Current value",error:"Error",goToSlide:(n,r)=>`Go to slide ${n} of ${r}`,hidePassword:"Hide password",loading:"Loading",nextSlide:"Next slide",numOptionsSelected:n=>n===0?"No options selected":n===1?"1 option selected":`${n} options selected`,previousSlide:"Previous slide",progress:"Progress",remove:"Remove",resize:"Resize",scrollToEnd:"Scroll to end",scrollToStart:"Scroll to start",selectAColorFromTheScreen:"Select a color from the screen",showPassword:"Show password",slideNum:n=>`Slide ${n}`,toggleColorFormat:"Toggle color format"};zS(DS);var qA=DS,yp=class extends GA{};zS(qA);var FS=Object.defineProperty,VA=Object.defineProperties,WA=Object.getOwnPropertyDescriptor,ZA=Object.getOwnPropertyDescriptors,n2=Object.getOwnPropertySymbols,YA=Object.prototype.hasOwnProperty,XA=Object.prototype.propertyIsEnumerable,o2=(n,r,t)=>r in n?FS(n,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[r]=t,du=(n,r)=>{for(var t in r||(r={}))YA.call(r,t)&&o2(n,t,r[t]);if(n2)for(var t of n2(r))XA.call(r,t)&&o2(n,t,r[t]);return n},gy=(n,r)=>VA(n,ZA(r)),Kt=(n,r,t,o)=>{for(var l=o>1?void 0:o?WA(r,t):r,u=n.length-1,d;u>=0;u--)(d=n[u])&&(l=(o?d(r,t,l):d(l))||l);return o&&l&&FS(r,t,l),l};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const KA={attribute:!0,type:String,converter:x0,reflect:!1,hasChanged:J1},JA=(n=KA,r,t)=>{const{kind:o,metadata:l}=t;let u=globalThis.litPropertyMetadata.get(l);if(u===void 0&&globalThis.litPropertyMetadata.set(l,u=new Map),u.set(t.name,n),o==="accessor"){const{name:d}=t;return{set(f){const m=r.get.call(this);r.set.call(this,f),this.requestUpdate(d,m,n)},init(f){return f!==void 0&&this.P(d,void 0,n),f}}}if(o==="setter"){const{name:d}=t;return function(f){const m=this[d];r.call(this,f),this.requestUpdate(d,m,n)}}throw Error("Unsupported decorator location: "+o)};function ve(n){return(r,t)=>typeof t=="object"?JA(n,r,t):((o,l,u)=>{const d=l.hasOwnProperty(u);return l.constructor.createProperty(u,d?{...o,wrapped:!0}:o),d?Object.getOwnPropertyDescriptor(l,u):void 0})(n,r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Wg(n){return ve({...n,state:!0,attribute:!1})}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const s2=(n,r,t)=>(t.configurable=!0,t.enumerable=!0,Reflect.decorate&&typeof r!="object"&&Object.defineProperty(n,r,t),t);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Po(n,r){return(t,o,l)=>{const u=d=>{var f;return((f=d.renderRoot)==null?void 0:f.querySelector(n))??null};if(r){const{get:d,set:f}=typeof o=="object"?t:l??(()=>{const m=Symbol();return{get(){return this[m]},set(v){this[m]=v}}})();return s2(t,o,{get(){let m=d.call(this);return m===void 0&&(m=u(this),(m!==null||this.hasUpdated)&&f.call(this,m)),m}})}return s2(t,o,{get(){return u(this)}})}}var Mo=class extends ag{constructor(){super(),Object.entries(this.constructor.dependencies).forEach(([n,r])=>{this.constructor.define(n,r)})}emit(n,r){const t=new CustomEvent(n,du({bubbles:!0,cancelable:!1,composed:!0,detail:{}},r));return this.dispatchEvent(t),t}static define(n,r=this,t={}){const o=customElements.get(n);if(!o){customElements.define(n,class extends r{},t);return}let l=" (unknown version)",u=l;"version"in r&&r.version&&(l=" v"+r.version),"version"in o&&o.version&&(u=" v"+o.version),!(l&&u&&l===u)&&console.warn(`Attempted to register <${n}>${l}, but <${n}>${u} has already been registered.`)}};Mo.version="2.13.1";Mo.dependencies={};Kt([ve()],Mo.prototype,"dir",2);Kt([ve()],Mo.prototype,"lang",2);var my=class extends Mo{constructor(){super(...arguments),this.localize=new yp(this)}render(){return Qn`
      <svg part="base" class="spinner" role="progressbar" aria-label=${this.localize.term("loading")}>
        <circle class="spinner__track"></circle>
        <circle class="spinner__indicator"></circle>
      </svg>
    `}};my.styles=HA;var Hf=new WeakMap,Uf=new WeakMap,Gf=new WeakMap,pw=new WeakSet,Av=new WeakMap,QA=class{constructor(n,r){this.handleFormData=t=>{const o=this.options.disabled(this.host),l=this.options.name(this.host),u=this.options.value(this.host),d=this.host.tagName.toLowerCase()==="sl-button";this.host.isConnected&&!o&&!d&&typeof l=="string"&&l.length>0&&typeof u<"u"&&(Array.isArray(u)?u.forEach(f=>{t.formData.append(l,f.toString())}):t.formData.append(l,u.toString()))},this.handleFormSubmit=t=>{var o;const l=this.options.disabled(this.host),u=this.options.reportValidity;this.form&&!this.form.noValidate&&((o=Hf.get(this.form))==null||o.forEach(d=>{this.setUserInteracted(d,!0)})),this.form&&!this.form.noValidate&&!l&&!u(this.host)&&(t.preventDefault(),t.stopImmediatePropagation())},this.handleFormReset=()=>{this.options.setValue(this.host,this.options.defaultValue(this.host)),this.setUserInteracted(this.host,!1),Av.set(this.host,[])},this.handleInteraction=t=>{const o=Av.get(this.host);o.includes(t.type)||o.push(t.type),o.length===this.options.assumeInteractionOn.length&&this.setUserInteracted(this.host,!0)},this.checkFormValidity=()=>{if(this.form&&!this.form.noValidate){const t=this.form.querySelectorAll("*");for(const o of t)if(typeof o.checkValidity=="function"&&!o.checkValidity())return!1}return!0},this.reportFormValidity=()=>{if(this.form&&!this.form.noValidate){const t=this.form.querySelectorAll("*");for(const o of t)if(typeof o.reportValidity=="function"&&!o.reportValidity())return!1}return!0},(this.host=n).addController(this),this.options=du({form:t=>{const o=t.form;if(o){const u=t.getRootNode().getElementById(o);if(u)return u}return t.closest("form")},name:t=>t.name,value:t=>t.value,defaultValue:t=>t.defaultValue,disabled:t=>{var o;return(o=t.disabled)!=null?o:!1},reportValidity:t=>typeof t.reportValidity=="function"?t.reportValidity():!0,checkValidity:t=>typeof t.checkValidity=="function"?t.checkValidity():!0,setValue:(t,o)=>t.value=o,assumeInteractionOn:["sl-input"]},r)}hostConnected(){const n=this.options.form(this.host);n&&this.attachForm(n),Av.set(this.host,[]),this.options.assumeInteractionOn.forEach(r=>{this.host.addEventListener(r,this.handleInteraction)})}hostDisconnected(){this.detachForm(),Av.delete(this.host),this.options.assumeInteractionOn.forEach(n=>{this.host.removeEventListener(n,this.handleInteraction)})}hostUpdated(){const n=this.options.form(this.host);n||this.detachForm(),n&&this.form!==n&&(this.detachForm(),this.attachForm(n)),this.host.hasUpdated&&this.setValidity(this.host.validity.valid)}attachForm(n){n?(this.form=n,Hf.has(this.form)?Hf.get(this.form).add(this.host):Hf.set(this.form,new Set([this.host])),this.form.addEventListener("formdata",this.handleFormData),this.form.addEventListener("submit",this.handleFormSubmit),this.form.addEventListener("reset",this.handleFormReset),Uf.has(this.form)||(Uf.set(this.form,this.form.reportValidity),this.form.reportValidity=()=>this.reportFormValidity()),Gf.has(this.form)||(Gf.set(this.form,this.form.checkValidity),this.form.checkValidity=()=>this.checkFormValidity())):this.form=void 0}detachForm(){if(!this.form)return;const n=Hf.get(this.form);n&&(n.delete(this.host),n.size<=0&&(this.form.removeEventListener("formdata",this.handleFormData),this.form.removeEventListener("submit",this.handleFormSubmit),this.form.removeEventListener("reset",this.handleFormReset),Uf.has(this.form)&&(this.form.reportValidity=Uf.get(this.form),Uf.delete(this.form)),Gf.has(this.form)&&(this.form.checkValidity=Gf.get(this.form),Gf.delete(this.form)),this.form=void 0))}setUserInteracted(n,r){r?pw.add(n):pw.delete(n),n.requestUpdate()}doAction(n,r){if(this.form){const t=document.createElement("button");t.type=n,t.style.position="absolute",t.style.width="0",t.style.height="0",t.style.clipPath="inset(50%)",t.style.overflow="hidden",t.style.whiteSpace="nowrap",r&&(t.name=r.name,t.value=r.value,["formaction","formenctype","formmethod","formnovalidate","formtarget"].forEach(o=>{r.hasAttribute(o)&&t.setAttribute(o,r.getAttribute(o))})),this.form.append(t),t.click(),t.remove()}}getForm(){var n;return(n=this.form)!=null?n:null}reset(n){this.doAction("reset",n)}submit(n){this.doAction("submit",n)}setValidity(n){const r=this.host,t=!!pw.has(r),o=!!r.required;r.toggleAttribute("data-required",o),r.toggleAttribute("data-optional",!o),r.toggleAttribute("data-invalid",!n),r.toggleAttribute("data-valid",n),r.toggleAttribute("data-user-invalid",!n&&t),r.toggleAttribute("data-user-valid",n&&t)}updateValidity(){const n=this.host;this.setValidity(n.validity.valid)}emitInvalidEvent(n){const r=new CustomEvent("sl-invalid",{bubbles:!1,composed:!1,cancelable:!0,detail:{}});n||r.preventDefault(),this.host.dispatchEvent(r)||n==null||n.preventDefault()}},Q1=Object.freeze({badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valid:!0,valueMissing:!1});Object.freeze(gy(du({},Q1),{valid:!1,valueMissing:!0}));Object.freeze(gy(du({},Q1),{valid:!1,customError:!0}));var $A=Xs`
  ${Ra}

  :host {
    display: inline-block;
    position: relative;
    width: auto;
    cursor: pointer;
  }

  .button {
    display: inline-flex;
    align-items: stretch;
    justify-content: center;
    width: 100%;
    border-style: solid;
    border-width: var(--sl-input-border-width);
    font-family: var(--sl-input-font-family);
    font-weight: var(--sl-font-weight-semibold);
    text-decoration: none;
    user-select: none;
    -webkit-user-select: none;
    white-space: nowrap;
    vertical-align: middle;
    padding: 0;
    transition:
      var(--sl-transition-x-fast) background-color,
      var(--sl-transition-x-fast) color,
      var(--sl-transition-x-fast) border,
      var(--sl-transition-x-fast) box-shadow;
    cursor: inherit;
  }

  .button::-moz-focus-inner {
    border: 0;
  }

  .button:focus {
    outline: none;
  }

  .button:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .button--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  /* When disabled, prevent mouse events from bubbling up from children */
  .button--disabled * {
    pointer-events: none;
  }

  .button__prefix,
  .button__suffix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    pointer-events: none;
  }

  .button__label {
    display: inline-block;
  }

  .button__label::slotted(sl-icon) {
    vertical-align: -2px;
  }

  /*
   * Standard buttons
   */

  /* Default */
  .button--standard.button--default {
    background-color: var(--sl-color-neutral-0);
    border-color: var(--sl-color-neutral-300);
    color: var(--sl-color-neutral-700);
  }

  .button--standard.button--default:hover:not(.button--disabled) {
    background-color: var(--sl-color-primary-50);
    border-color: var(--sl-color-primary-300);
    color: var(--sl-color-primary-700);
  }

  .button--standard.button--default:active:not(.button--disabled) {
    background-color: var(--sl-color-primary-100);
    border-color: var(--sl-color-primary-400);
    color: var(--sl-color-primary-700);
  }

  /* Primary */
  .button--standard.button--primary {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--primary:hover:not(.button--disabled) {
    background-color: var(--sl-color-primary-500);
    border-color: var(--sl-color-primary-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--primary:active:not(.button--disabled) {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  /* Success */
  .button--standard.button--success {
    background-color: var(--sl-color-success-600);
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--success:hover:not(.button--disabled) {
    background-color: var(--sl-color-success-500);
    border-color: var(--sl-color-success-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--success:active:not(.button--disabled) {
    background-color: var(--sl-color-success-600);
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  /* Neutral */
  .button--standard.button--neutral {
    background-color: var(--sl-color-neutral-600);
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--neutral:hover:not(.button--disabled) {
    background-color: var(--sl-color-neutral-500);
    border-color: var(--sl-color-neutral-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--neutral:active:not(.button--disabled) {
    background-color: var(--sl-color-neutral-600);
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  /* Warning */
  .button--standard.button--warning {
    background-color: var(--sl-color-warning-600);
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }
  .button--standard.button--warning:hover:not(.button--disabled) {
    background-color: var(--sl-color-warning-500);
    border-color: var(--sl-color-warning-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--warning:active:not(.button--disabled) {
    background-color: var(--sl-color-warning-600);
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  /* Danger */
  .button--standard.button--danger {
    background-color: var(--sl-color-danger-600);
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--danger:hover:not(.button--disabled) {
    background-color: var(--sl-color-danger-500);
    border-color: var(--sl-color-danger-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--danger:active:not(.button--disabled) {
    background-color: var(--sl-color-danger-600);
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  /*
   * Outline buttons
   */

  .button--outline {
    background: none;
    border: solid 1px;
  }

  /* Default */
  .button--outline.button--default {
    border-color: var(--sl-color-neutral-300);
    color: var(--sl-color-neutral-700);
  }

  .button--outline.button--default:hover:not(.button--disabled),
  .button--outline.button--default.button--checked:not(.button--disabled) {
    border-color: var(--sl-color-primary-600);
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--default:active:not(.button--disabled) {
    border-color: var(--sl-color-primary-700);
    background-color: var(--sl-color-primary-700);
    color: var(--sl-color-neutral-0);
  }

  /* Primary */
  .button--outline.button--primary {
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-primary-600);
  }

  .button--outline.button--primary:hover:not(.button--disabled),
  .button--outline.button--primary.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--primary:active:not(.button--disabled) {
    border-color: var(--sl-color-primary-700);
    background-color: var(--sl-color-primary-700);
    color: var(--sl-color-neutral-0);
  }

  /* Success */
  .button--outline.button--success {
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-success-600);
  }

  .button--outline.button--success:hover:not(.button--disabled),
  .button--outline.button--success.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--success:active:not(.button--disabled) {
    border-color: var(--sl-color-success-700);
    background-color: var(--sl-color-success-700);
    color: var(--sl-color-neutral-0);
  }

  /* Neutral */
  .button--outline.button--neutral {
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-600);
  }

  .button--outline.button--neutral:hover:not(.button--disabled),
  .button--outline.button--neutral.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--neutral:active:not(.button--disabled) {
    border-color: var(--sl-color-neutral-700);
    background-color: var(--sl-color-neutral-700);
    color: var(--sl-color-neutral-0);
  }

  /* Warning */
  .button--outline.button--warning {
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-warning-600);
  }

  .button--outline.button--warning:hover:not(.button--disabled),
  .button--outline.button--warning.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--warning:active:not(.button--disabled) {
    border-color: var(--sl-color-warning-700);
    background-color: var(--sl-color-warning-700);
    color: var(--sl-color-neutral-0);
  }

  /* Danger */
  .button--outline.button--danger {
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-danger-600);
  }

  .button--outline.button--danger:hover:not(.button--disabled),
  .button--outline.button--danger.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--danger:active:not(.button--disabled) {
    border-color: var(--sl-color-danger-700);
    background-color: var(--sl-color-danger-700);
    color: var(--sl-color-neutral-0);
  }

  @media (forced-colors: active) {
    .button.button--outline.button--checked:not(.button--disabled) {
      outline: solid 2px transparent;
    }
  }

  /*
   * Text buttons
   */

  .button--text {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-600);
  }

  .button--text:hover:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-500);
  }

  .button--text:focus-visible:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-500);
  }

  .button--text:active:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-700);
  }

  /*
   * Size modifiers
   */

  .button--small {
    height: auto;
    min-height: var(--sl-input-height-small);
    font-size: var(--sl-button-font-size-small);
    line-height: calc(var(--sl-input-height-small) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-small);
  }

  .button--medium {
    height: auto;
    min-height: var(--sl-input-height-medium);
    font-size: var(--sl-button-font-size-medium);
    line-height: calc(var(--sl-input-height-medium) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-medium);
  }

  .button--large {
    height: auto;
    min-height: var(--sl-input-height-large);
    font-size: var(--sl-button-font-size-large);
    line-height: calc(var(--sl-input-height-large) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-large);
  }

  /*
   * Pill modifier
   */

  .button--pill.button--small {
    border-radius: var(--sl-input-height-small);
  }

  .button--pill.button--medium {
    border-radius: var(--sl-input-height-medium);
  }

  .button--pill.button--large {
    border-radius: var(--sl-input-height-large);
  }

  /*
   * Circle modifier
   */

  .button--circle {
    padding-left: 0;
    padding-right: 0;
  }

  .button--circle.button--small {
    width: var(--sl-input-height-small);
    border-radius: 50%;
  }

  .button--circle.button--medium {
    width: var(--sl-input-height-medium);
    border-radius: 50%;
  }

  .button--circle.button--large {
    width: var(--sl-input-height-large);
    border-radius: 50%;
  }

  .button--circle .button__prefix,
  .button--circle .button__suffix,
  .button--circle .button__caret {
    display: none;
  }

  /*
   * Caret modifier
   */

  .button--caret .button__suffix {
    display: none;
  }

  .button--caret .button__caret {
    height: auto;
  }

  /*
   * Loading modifier
   */

  .button--loading {
    position: relative;
    cursor: wait;
  }

  .button--loading .button__prefix,
  .button--loading .button__label,
  .button--loading .button__suffix,
  .button--loading .button__caret {
    visibility: hidden;
  }

  .button--loading sl-spinner {
    --indicator-color: currentColor;
    position: absolute;
    font-size: 1em;
    height: 1em;
    width: 1em;
    top: calc(50% - 0.5em);
    left: calc(50% - 0.5em);
  }

  /*
   * Badges
   */

  .button ::slotted(sl-badge) {
    position: absolute;
    top: 0;
    right: 0;
    translate: 50% -50%;
    pointer-events: none;
  }

  .button--rtl ::slotted(sl-badge) {
    right: auto;
    left: 0;
    translate: -50% -50%;
  }

  /*
   * Button spacing
   */

  .button--has-label.button--small .button__label {
    padding: 0 var(--sl-spacing-small);
  }

  .button--has-label.button--medium .button__label {
    padding: 0 var(--sl-spacing-medium);
  }

  .button--has-label.button--large .button__label {
    padding: 0 var(--sl-spacing-large);
  }

  .button--has-prefix.button--small {
    padding-inline-start: var(--sl-spacing-x-small);
  }

  .button--has-prefix.button--small .button__label {
    padding-inline-start: var(--sl-spacing-x-small);
  }

  .button--has-prefix.button--medium {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--medium .button__label {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--large {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--large .button__label {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-suffix.button--small,
  .button--caret.button--small {
    padding-inline-end: var(--sl-spacing-x-small);
  }

  .button--has-suffix.button--small .button__label,
  .button--caret.button--small .button__label {
    padding-inline-end: var(--sl-spacing-x-small);
  }

  .button--has-suffix.button--medium,
  .button--caret.button--medium {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--medium .button__label,
  .button--caret.button--medium .button__label {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--large,
  .button--caret.button--large {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--large .button__label,
  .button--caret.button--large .button__label {
    padding-inline-end: var(--sl-spacing-small);
  }

  /*
   * Button groups support a variety of button types (e.g. buttons with tooltips, buttons as dropdown triggers, etc.).
   * This means buttons aren't always direct descendants of the button group, thus we can't target them with the
   * ::slotted selector. To work around this, the button group component does some magic to add these special classes to
   * buttons and we style them here instead.
   */

  :host(.sl-button-group__button--first:not(.sl-button-group__button--last)) .button {
    border-start-end-radius: 0;
    border-end-end-radius: 0;
  }

  :host(.sl-button-group__button--inner) .button {
    border-radius: 0;
  }

  :host(.sl-button-group__button--last:not(.sl-button-group__button--first)) .button {
    border-start-start-radius: 0;
    border-end-start-radius: 0;
  }

  /* All except the first */
  :host(.sl-button-group__button:not(.sl-button-group__button--first)) {
    margin-inline-start: calc(-1 * var(--sl-input-border-width));
  }

  /* Add a visual separator between solid buttons */
  :host(
      .sl-button-group__button:not(
          .sl-button-group__button--first,
          .sl-button-group__button--radio,
          [variant='default']
        ):not(:hover)
    )
    .button:after {
    content: '';
    position: absolute;
    top: 0;
    inset-inline-start: 0;
    bottom: 0;
    border-left: solid 1px rgb(128 128 128 / 33%);
    mix-blend-mode: multiply;
  }

  /* Bump hovered, focused, and checked buttons up so their focus ring isn't clipped */
  :host(.sl-button-group__button--hover) {
    z-index: 1;
  }

  /* Focus and checked are always on top */
  :host(.sl-button-group__button--focus),
  :host(.sl-button-group__button[checked]) {
    z-index: 2;
  }
`,BS=class{constructor(n,...r){this.slotNames=[],this.handleSlotChange=t=>{const o=t.target;(this.slotNames.includes("[default]")&&!o.name||o.name&&this.slotNames.includes(o.name))&&this.host.requestUpdate()},(this.host=n).addController(this),this.slotNames=r}hasDefaultSlot(){return[...this.host.childNodes].some(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent.trim()!=="")return!0;if(n.nodeType===n.ELEMENT_NODE){const r=n;if(r.tagName.toLowerCase()==="sl-visually-hidden")return!1;if(!r.hasAttribute("slot"))return!0}return!1})}hasNamedSlot(n){return this.host.querySelector(`:scope > [slot="${n}"]`)!==null}test(n){return n==="[default]"?this.hasDefaultSlot():this.hasNamedSlot(n)}hostConnected(){this.host.shadowRoot.addEventListener("slotchange",this.handleSlotChange)}hostDisconnected(){this.host.shadowRoot.removeEventListener("slotchange",this.handleSlotChange)}};function tO(n){if(!n)return"";const r=n.assignedNodes({flatten:!0});let t="";return[...r].forEach(o=>{o.nodeType===Node.TEXT_NODE&&(t+=o.textContent)}),t}var $w="";function a2(n){$w=n}function eO(n=""){if(!$w){const r=[...document.getElementsByTagName("script")],t=r.find(o=>o.hasAttribute("data-shoelace"));if(t)a2(t.getAttribute("data-shoelace"));else{const o=r.find(u=>/shoelace(\.min)?\.js($|\?)/.test(u.src)||/shoelace-autoloader(\.min)?\.js($|\?)/.test(u.src));let l="";o&&(l=o.getAttribute("src")),a2(l.split("/").slice(0,-1).join("/"))}}return $w.replace(/\/$/,"")+(n?`/${n.replace(/^\//,"")}`:"")}var rO={name:"default",resolver:n=>eO(`assets/icons/${n}.svg`)},iO=rO,l2={caret:`
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <polyline points="6 9 12 15 18 9"></polyline>
    </svg>
  `,check:`
    <svg part="checked-icon" class="checkbox__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
        <g stroke="currentColor">
          <g transform="translate(3.428571, 3.428571)">
            <path d="M0,5.71428571 L3.42857143,9.14285714"></path>
            <path d="M9.14285714,0 L3.42857143,9.14285714"></path>
          </g>
        </g>
      </g>
    </svg>
  `,"chevron-down":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-down" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,"chevron-left":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-left" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
    </svg>
  `,"chevron-right":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,copy:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-copy" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M4 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V2Zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H6ZM2 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1h1v1a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1v1H2Z"/>
    </svg>
  `,eye:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">
      <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
      <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
    </svg>
  `,"eye-slash":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye-slash" viewBox="0 0 16 16">
      <path d="M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"/>
      <path d="M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z"/>
      <path d="M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12-.708.708z"/>
    </svg>
  `,eyedropper:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eyedropper" viewBox="0 0 16 16">
      <path d="M13.354.646a1.207 1.207 0 0 0-1.708 0L8.5 3.793l-.646-.647a.5.5 0 1 0-.708.708L8.293 5l-7.147 7.146A.5.5 0 0 0 1 12.5v1.793l-.854.853a.5.5 0 1 0 .708.707L1.707 15H3.5a.5.5 0 0 0 .354-.146L11 7.707l1.146 1.147a.5.5 0 0 0 .708-.708l-.647-.646 3.147-3.146a1.207 1.207 0 0 0 0-1.708l-2-2zM2 12.707l7-7L10.293 7l-7 7H2v-1.293z"></path>
    </svg>
  `,"grip-vertical":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-grip-vertical" viewBox="0 0 16 16">
      <path d="M7 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path>
    </svg>
  `,indeterminate:`
    <svg part="indeterminate-icon" class="checkbox__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
        <g stroke="currentColor" stroke-width="2">
          <g transform="translate(2.285714, 6.857143)">
            <path d="M10.2857143,1.14285714 L1.14285714,1.14285714"></path>
          </g>
        </g>
      </g>
    </svg>
  `,"person-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
      <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
    </svg>
  `,"play-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16">
      <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"></path>
    </svg>
  `,"pause-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pause-fill" viewBox="0 0 16 16">
      <path d="M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"></path>
    </svg>
  `,radio:`
    <svg part="checked-icon" class="radio__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g fill="currentColor">
          <circle cx="8" cy="8" r="3.42857143"></circle>
        </g>
      </g>
    </svg>
  `,"star-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
    </svg>
  `,"x-lg":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
      <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/>
    </svg>
  `,"x-circle-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle-fill" viewBox="0 0 16 16">
      <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"></path>
    </svg>
  `},nO={name:"system",resolver:n=>n in l2?`data:image/svg+xml,${encodeURIComponent(l2[n])}`:""},oO=nO,sO=[iO,oO],t1=[];function aO(n){t1.push(n)}function lO(n){t1=t1.filter(r=>r!==n)}function c2(n){return sO.find(r=>r.name===n)}var cO=Xs`
  ${Ra}

  :host {
    display: inline-block;
    width: 1em;
    height: 1em;
    box-sizing: content-box !important;
  }

  svg {
    display: block;
    height: 100%;
    width: 100%;
  }
`;function Ks(n,r){const t=du({waitUntilFirstUpdate:!1},r);return(o,l)=>{const{update:u}=o,d=Array.isArray(n)?n:[n];o.update=function(f){d.forEach(m=>{const v=m;if(f.has(v)){const _=f.get(v),k=this[v];_!==k&&(!t.waitUntilFirstUpdate||this.hasUpdated)&&this[l](_,k)}}),u.call(this,f)}}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const uO=(n,r)=>r===void 0?(n==null?void 0:n._$litType$)!==void 0:(n==null?void 0:n._$litType$)===r,hO=n=>n.strings===void 0;var qf=Symbol(),Ov=Symbol(),fw,gw=new Map,Aa=class extends Mo{constructor(){super(...arguments),this.initialRender=!1,this.svg=null,this.label="",this.library="default"}async resolveIcon(n,r){var t;let o;if(r!=null&&r.spriteSheet)return Qn`<svg part="svg">
        <use part="use" href="${n}"></use>
      </svg>`;try{if(o=await fetch(n,{mode:"cors"}),!o.ok)return o.status===410?qf:Ov}catch{return Ov}try{const l=document.createElement("div");l.innerHTML=await o.text();const u=l.firstElementChild;if(((t=u==null?void 0:u.tagName)==null?void 0:t.toLowerCase())!=="svg")return qf;fw||(fw=new DOMParser);const f=fw.parseFromString(u.outerHTML,"text/html").body.querySelector("svg");return f?(f.part.add("svg"),document.adoptNode(f)):qf}catch{return qf}}connectedCallback(){super.connectedCallback(),aO(this)}firstUpdated(){this.initialRender=!0,this.setIcon()}disconnectedCallback(){super.disconnectedCallback(),lO(this)}getIconSource(){const n=c2(this.library);return this.name&&n?{url:n.resolver(this.name),fromLibrary:!0}:{url:this.src,fromLibrary:!1}}handleLabelChange(){typeof this.label=="string"&&this.label.length>0?(this.setAttribute("role","img"),this.setAttribute("aria-label",this.label),this.removeAttribute("aria-hidden")):(this.removeAttribute("role"),this.removeAttribute("aria-label"),this.setAttribute("aria-hidden","true"))}async setIcon(){var n;const{url:r,fromLibrary:t}=this.getIconSource(),o=t?c2(this.library):void 0;if(!r){this.svg=null;return}let l=gw.get(r);if(l||(l=this.resolveIcon(r,o),gw.set(r,l)),!this.initialRender)return;const u=await l;if(u===Ov&&gw.delete(r),r===this.getIconSource().url){if(uO(u)){this.svg=u;return}switch(u){case Ov:case qf:this.svg=null,this.emit("sl-error");break;default:this.svg=u.cloneNode(!0),(n=o==null?void 0:o.mutator)==null||n.call(o,this.svg),this.emit("sl-load")}}}render(){return this.svg}};Aa.styles=cO;Kt([Wg()],Aa.prototype,"svg",2);Kt([ve({reflect:!0})],Aa.prototype,"name",2);Kt([ve()],Aa.prototype,"src",2);Kt([ve()],Aa.prototype,"label",2);Kt([ve({reflect:!0})],Aa.prototype,"library",2);Kt([Ks("label")],Aa.prototype,"handleLabelChange",1);Kt([Ks(["name","src","library"])],Aa.prototype,"setIcon",1);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const jS={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},HS=n=>(...r)=>({_$litDirective$:n,values:r});let US=class{constructor(r){}get _$AU(){return this._$AM._$AU}_$AT(r,t,o){this._$Ct=r,this._$AM=t,this._$Ci=o}_$AS(r,t){return this.update(r,t)}update(r,t){return this.render(...t)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ec=HS(class extends US{constructor(n){var r;if(super(n),n.type!==jS.ATTRIBUTE||n.name!=="class"||((r=n.strings)==null?void 0:r.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(n){return" "+Object.keys(n).filter(r=>n[r]).join(" ")+" "}update(n,[r]){var o,l;if(this.st===void 0){this.st=new Set,n.strings!==void 0&&(this.nt=new Set(n.strings.join(" ").split(/\s/).filter(u=>u!=="")));for(const u in r)r[u]&&!((o=this.nt)!=null&&o.has(u))&&this.st.add(u);return this.render(r)}const t=n.element.classList;for(const u of this.st)u in r||(t.remove(u),this.st.delete(u));for(const u in r){const d=!!r[u];d===this.st.has(u)||(l=this.nt)!=null&&l.has(u)||(d?(t.add(u),this.st.add(u)):(t.remove(u),this.st.delete(u)))}return fh}});/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const GS=Symbol.for(""),dO=n=>{if((n==null?void 0:n.r)===GS)return n==null?void 0:n._$litStatic$},k0=(n,...r)=>({_$litStatic$:r.reduce((t,o,l)=>t+(u=>{if(u._$litStatic$!==void 0)return u._$litStatic$;throw Error(`Value passed to 'literal' function must be a 'literal' result: ${u}. Use 'unsafeStatic' to pass non-literal values, but
            take care to ensure page security.`)})(o)+n[l+1],n[0]),r:GS}),u2=new Map,pO=n=>(r,...t)=>{const o=t.length;let l,u;const d=[],f=[];let m,v=0,_=!1;for(;v<o;){for(m=r[v];v<o&&(u=t[v],(l=dO(u))!==void 0);)m+=l+r[++v],_=!0;v!==o&&f.push(u),d.push(m),v++}if(v===o&&d.push(r[o]),_){const k=d.join("$$lit$$");(r=u2.get(k))===void 0&&(d.raw=d,u2.set(k,r=d)),t=f}return n(r,...t)},o0=pO(Qn);/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Sn=n=>n??sn;var xi=class extends Mo{constructor(){super(...arguments),this.formControlController=new QA(this,{assumeInteractionOn:["click"]}),this.hasSlotController=new BS(this,"[default]","prefix","suffix"),this.localize=new yp(this),this.hasFocus=!1,this.invalid=!1,this.title="",this.variant="default",this.size="medium",this.caret=!1,this.disabled=!1,this.loading=!1,this.outline=!1,this.pill=!1,this.circle=!1,this.type="button",this.name="",this.value="",this.href="",this.rel="noreferrer noopener"}get validity(){return this.isButton()?this.button.validity:Q1}get validationMessage(){return this.isButton()?this.button.validationMessage:""}firstUpdated(){this.isButton()&&this.formControlController.updateValidity()}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleClick(){this.type==="submit"&&this.formControlController.submit(this),this.type==="reset"&&this.formControlController.reset(this)}handleInvalid(n){this.formControlController.setValidity(!1),this.formControlController.emitInvalidEvent(n)}isButton(){return!this.href}isLink(){return!!this.href}handleDisabledChange(){this.isButton()&&this.formControlController.setValidity(this.disabled)}click(){this.button.click()}focus(n){this.button.focus(n)}blur(){this.button.blur()}checkValidity(){return this.isButton()?this.button.checkValidity():!0}getForm(){return this.formControlController.getForm()}reportValidity(){return this.isButton()?this.button.reportValidity():!0}setCustomValidity(n){this.isButton()&&(this.button.setCustomValidity(n),this.formControlController.updateValidity())}render(){const n=this.isLink(),r=n?k0`a`:k0`button`;return o0`
      <${r}
        part="base"
        class=${ec({button:!0,"button--default":this.variant==="default","button--primary":this.variant==="primary","button--success":this.variant==="success","button--neutral":this.variant==="neutral","button--warning":this.variant==="warning","button--danger":this.variant==="danger","button--text":this.variant==="text","button--small":this.size==="small","button--medium":this.size==="medium","button--large":this.size==="large","button--caret":this.caret,"button--circle":this.circle,"button--disabled":this.disabled,"button--focused":this.hasFocus,"button--loading":this.loading,"button--standard":!this.outline,"button--outline":this.outline,"button--pill":this.pill,"button--rtl":this.localize.dir()==="rtl","button--has-label":this.hasSlotController.test("[default]"),"button--has-prefix":this.hasSlotController.test("prefix"),"button--has-suffix":this.hasSlotController.test("suffix")})}
        ?disabled=${Sn(n?void 0:this.disabled)}
        type=${Sn(n?void 0:this.type)}
        title=${this.title}
        name=${Sn(n?void 0:this.name)}
        value=${Sn(n?void 0:this.value)}
        href=${Sn(n?this.href:void 0)}
        target=${Sn(n?this.target:void 0)}
        download=${Sn(n?this.download:void 0)}
        rel=${Sn(n?this.rel:void 0)}
        role=${Sn(n?void 0:"button")}
        aria-disabled=${this.disabled?"true":"false"}
        tabindex=${this.disabled?"-1":"0"}
        @blur=${this.handleBlur}
        @focus=${this.handleFocus}
        @invalid=${this.isButton()?this.handleInvalid:null}
        @click=${this.handleClick}
      >
        <slot name="prefix" part="prefix" class="button__prefix"></slot>
        <slot part="label" class="button__label"></slot>
        <slot name="suffix" part="suffix" class="button__suffix"></slot>
        ${this.caret?o0` <sl-icon part="caret" class="button__caret" library="system" name="caret"></sl-icon> `:""}
        ${this.loading?o0`<sl-spinner part="spinner"></sl-spinner>`:""}
      </${r}>
    `}};xi.styles=$A;xi.dependencies={"sl-icon":Aa,"sl-spinner":my};Kt([Po(".button")],xi.prototype,"button",2);Kt([Wg()],xi.prototype,"hasFocus",2);Kt([Wg()],xi.prototype,"invalid",2);Kt([ve()],xi.prototype,"title",2);Kt([ve({reflect:!0})],xi.prototype,"variant",2);Kt([ve({reflect:!0})],xi.prototype,"size",2);Kt([ve({type:Boolean,reflect:!0})],xi.prototype,"caret",2);Kt([ve({type:Boolean,reflect:!0})],xi.prototype,"disabled",2);Kt([ve({type:Boolean,reflect:!0})],xi.prototype,"loading",2);Kt([ve({type:Boolean,reflect:!0})],xi.prototype,"outline",2);Kt([ve({type:Boolean,reflect:!0})],xi.prototype,"pill",2);Kt([ve({type:Boolean,reflect:!0})],xi.prototype,"circle",2);Kt([ve()],xi.prototype,"type",2);Kt([ve()],xi.prototype,"name",2);Kt([ve()],xi.prototype,"value",2);Kt([ve()],xi.prototype,"href",2);Kt([ve()],xi.prototype,"target",2);Kt([ve()],xi.prototype,"rel",2);Kt([ve()],xi.prototype,"download",2);Kt([ve()],xi.prototype,"form",2);Kt([ve({attribute:"formaction"})],xi.prototype,"formAction",2);Kt([ve({attribute:"formenctype"})],xi.prototype,"formEnctype",2);Kt([ve({attribute:"formmethod"})],xi.prototype,"formMethod",2);Kt([ve({attribute:"formnovalidate",type:Boolean})],xi.prototype,"formNoValidate",2);Kt([ve({attribute:"formtarget"})],xi.prototype,"formTarget",2);Kt([Ks("disabled",{waitUntilFirstUpdate:!0})],xi.prototype,"handleDisabledChange",1);xi.define("sl-button");var fO=Xs`
  ${Ra}

  :host {
    display: inline-block;
  }

  .dropdown::part(popup) {
    z-index: var(--sl-z-index-dropdown);
  }

  .dropdown[data-current-placement^='top']::part(popup) {
    transform-origin: bottom;
  }

  .dropdown[data-current-placement^='bottom']::part(popup) {
    transform-origin: top;
  }

  .dropdown[data-current-placement^='left']::part(popup) {
    transform-origin: right;
  }

  .dropdown[data-current-placement^='right']::part(popup) {
    transform-origin: left;
  }

  .dropdown__trigger {
    display: block;
  }

  .dropdown__panel {
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    box-shadow: var(--sl-shadow-large);
    border-radius: var(--sl-border-radius-medium);
    pointer-events: none;
  }

  .dropdown--open .dropdown__panel {
    display: block;
    pointer-events: all;
  }

  /* When users slot a menu, make sure it conforms to the popup's auto-size */
  ::slotted(sl-menu) {
    max-width: var(--auto-size-available-width) !important;
    max-height: var(--auto-size-available-height) !important;
  }
`,h2=new WeakMap;function qS(n){let r=h2.get(n);return r||(r=window.getComputedStyle(n,null),h2.set(n,r)),r}function gO(n){if(typeof n.checkVisibility=="function")return n.checkVisibility({checkOpacity:!1,checkVisibilityCSS:!0});const r=qS(n);return r.visibility!=="hidden"&&r.display!=="none"}function mO(n){const r=qS(n),{overflowY:t,overflowX:o}=r;return t==="scroll"||o==="scroll"?!0:t!=="auto"||o!=="auto"?!1:n.scrollHeight>n.clientHeight&&t==="auto"||n.scrollWidth>n.clientWidth&&o==="auto"}function vO(n){const r=n.tagName.toLowerCase(),t=Number(n.getAttribute("tabindex"));return n.hasAttribute("tabindex")&&(isNaN(t)||t<=-1)||n.hasAttribute("disabled")||n.closest("[inert]")||r==="input"&&n.getAttribute("type")==="radio"&&!n.hasAttribute("checked")||!gO(n)?!1:(r==="audio"||r==="video")&&n.hasAttribute("controls")||n.hasAttribute("tabindex")||n.hasAttribute("contenteditable")&&n.getAttribute("contenteditable")!=="false"||["button","input","select","textarea","a","audio","video","summary","iframe"].includes(r)?!0:mO(n)}function yO(n){var r,t;const o=wO(n),l=(r=o[0])!=null?r:null,u=(t=o[o.length-1])!=null?t:null;return{start:l,end:u}}function bO(n,r){var t;return((t=n.getRootNode({composed:!0}))==null?void 0:t.host)!==r}function wO(n){const r=new WeakMap,t=[];function o(l){if(l instanceof Element){if(l.hasAttribute("inert")||l.closest("[inert]")||r.has(l))return;r.set(l,!0),!t.includes(l)&&vO(l)&&t.push(l),l instanceof HTMLSlotElement&&bO(l,n)&&l.assignedElements({flatten:!0}).forEach(u=>{o(u)}),l.shadowRoot!==null&&l.shadowRoot.mode==="open"&&o(l.shadowRoot)}for(const u of l.children)o(u)}return o(n),t.sort((l,u)=>{const d=Number(l.getAttribute("tabindex"))||0;return(Number(u.getAttribute("tabindex"))||0)-d})}var xO=Xs`
  ${Ra}

  :host {
    --arrow-color: var(--sl-color-neutral-1000);
    --arrow-size: 6px;

    /*
     * These properties are computed to account for the arrow's dimensions after being rotated 45º. The constant
     * 0.7071 is derived from sin(45), which is the diagonal size of the arrow's container after rotating.
     */
    --arrow-size-diagonal: calc(var(--arrow-size) * 0.7071);
    --arrow-padding-offset: calc(var(--arrow-size-diagonal) - var(--arrow-size));

    display: contents;
  }

  .popup {
    position: absolute;
    isolation: isolate;
    max-width: var(--auto-size-available-width, none);
    max-height: var(--auto-size-available-height, none);
  }

  .popup--fixed {
    position: fixed;
  }

  .popup:not(.popup--active) {
    display: none;
  }

  .popup__arrow {
    position: absolute;
    width: calc(var(--arrow-size-diagonal) * 2);
    height: calc(var(--arrow-size-diagonal) * 2);
    rotate: 45deg;
    background: var(--arrow-color);
    z-index: -1;
  }

  /* Hover bridge */
  .popup-hover-bridge:not(.popup-hover-bridge--visible) {
    display: none;
  }

  .popup-hover-bridge {
    position: fixed;
    z-index: calc(var(--sl-z-index-dropdown) - 1);
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    clip-path: polygon(
      var(--hover-bridge-top-left-x, 0) var(--hover-bridge-top-left-y, 0),
      var(--hover-bridge-top-right-x, 0) var(--hover-bridge-top-right-y, 0),
      var(--hover-bridge-bottom-right-x, 0) var(--hover-bridge-bottom-right-y, 0),
      var(--hover-bridge-bottom-left-x, 0) var(--hover-bridge-bottom-left-y, 0)
    );
  }
`;const eu=Math.min,ds=Math.max,E0=Math.round,zv=Math.floor,ru=n=>({x:n,y:n}),_O={left:"right",right:"left",bottom:"top",top:"bottom"},kO={start:"end",end:"start"};function e1(n,r,t){return ds(n,eu(r,t))}function bp(n,r){return typeof n=="function"?n(r):n}function iu(n){return n.split("-")[0]}function wp(n){return n.split("-")[1]}function VS(n){return n==="x"?"y":"x"}function $1(n){return n==="y"?"height":"width"}function Zg(n){return["top","bottom"].includes(iu(n))?"y":"x"}function tx(n){return VS(Zg(n))}function EO(n,r,t){t===void 0&&(t=!1);const o=wp(n),l=tx(n),u=$1(l);let d=l==="x"?o===(t?"end":"start")?"right":"left":o==="start"?"bottom":"top";return r.reference[u]>r.floating[u]&&(d=T0(d)),[d,T0(d)]}function TO(n){const r=T0(n);return[r1(n),r,r1(r)]}function r1(n){return n.replace(/start|end/g,r=>kO[r])}function SO(n,r,t){const o=["left","right"],l=["right","left"],u=["top","bottom"],d=["bottom","top"];switch(n){case"top":case"bottom":return t?r?l:o:r?o:l;case"left":case"right":return r?u:d;default:return[]}}function CO(n,r,t,o){const l=wp(n);let u=SO(iu(n),t==="start",o);return l&&(u=u.map(d=>d+"-"+l),r&&(u=u.concat(u.map(r1)))),u}function T0(n){return n.replace(/left|right|bottom|top/g,r=>_O[r])}function PO(n){return{top:0,right:0,bottom:0,left:0,...n}}function WS(n){return typeof n!="number"?PO(n):{top:n,right:n,bottom:n,left:n}}function S0(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}function d2(n,r,t){let{reference:o,floating:l}=n;const u=Zg(r),d=tx(r),f=$1(d),m=iu(r),v=u==="y",_=o.x+o.width/2-l.width/2,k=o.y+o.height/2-l.height/2,C=o[f]/2-l[f]/2;let M;switch(m){case"top":M={x:_,y:o.y-l.height};break;case"bottom":M={x:_,y:o.y+o.height};break;case"right":M={x:o.x+o.width,y:k};break;case"left":M={x:o.x-l.width,y:k};break;default:M={x:o.x,y:o.y}}switch(wp(r)){case"start":M[d]-=C*(t&&v?-1:1);break;case"end":M[d]+=C*(t&&v?-1:1);break}return M}const MO=async(n,r,t)=>{const{placement:o="bottom",strategy:l="absolute",middleware:u=[],platform:d}=t,f=u.filter(Boolean),m=await(d.isRTL==null?void 0:d.isRTL(r));let v=await d.getElementRects({reference:n,floating:r,strategy:l}),{x:_,y:k}=d2(v,o,m),C=o,M={},A=0;for(let F=0;F<f.length;F++){const{name:U,fn:j}=f[F],{x:J,y:H,data:V,reset:ot}=await j({x:_,y:k,initialPlacement:o,placement:C,strategy:l,middlewareData:M,rects:v,platform:d,elements:{reference:n,floating:r}});_=J??_,k=H??k,M={...M,[U]:{...M[U],...V}},ot&&A<=50&&(A++,typeof ot=="object"&&(ot.placement&&(C=ot.placement),ot.rects&&(v=ot.rects===!0?await d.getElementRects({reference:n,floating:r,strategy:l}):ot.rects),{x:_,y:k}=d2(v,C,m)),F=-1)}return{x:_,y:k,placement:C,strategy:l,middlewareData:M}};async function ex(n,r){var t;r===void 0&&(r={});const{x:o,y:l,platform:u,rects:d,elements:f,strategy:m}=n,{boundary:v="clippingAncestors",rootBoundary:_="viewport",elementContext:k="floating",altBoundary:C=!1,padding:M=0}=bp(r,n),A=WS(M),U=f[C?k==="floating"?"reference":"floating":k],j=S0(await u.getClippingRect({element:(t=await(u.isElement==null?void 0:u.isElement(U)))==null||t?U:U.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(f.floating)),boundary:v,rootBoundary:_,strategy:m})),J=k==="floating"?{...d.floating,x:o,y:l}:d.reference,H=await(u.getOffsetParent==null?void 0:u.getOffsetParent(f.floating)),V=await(u.isElement==null?void 0:u.isElement(H))?await(u.getScale==null?void 0:u.getScale(H))||{x:1,y:1}:{x:1,y:1},ot=S0(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:J,offsetParent:H,strategy:m}):J);return{top:(j.top-ot.top+A.top)/V.y,bottom:(ot.bottom-j.bottom+A.bottom)/V.y,left:(j.left-ot.left+A.left)/V.x,right:(ot.right-j.right+A.right)/V.x}}const IO=n=>({name:"arrow",options:n,async fn(r){const{x:t,y:o,placement:l,rects:u,platform:d,elements:f,middlewareData:m}=r,{element:v,padding:_=0}=bp(n,r)||{};if(v==null)return{};const k=WS(_),C={x:t,y:o},M=tx(l),A=$1(M),F=await d.getDimensions(v),U=M==="y",j=U?"top":"left",J=U?"bottom":"right",H=U?"clientHeight":"clientWidth",V=u.reference[A]+u.reference[M]-C[M]-u.floating[A],ot=C[M]-u.reference[M],ft=await(d.getOffsetParent==null?void 0:d.getOffsetParent(v));let ht=ft?ft[H]:0;(!ht||!await(d.isElement==null?void 0:d.isElement(ft)))&&(ht=f.floating[H]||u.floating[A]);const ct=V/2-ot/2,Z=ht/2-F[A]/2-1,lt=eu(k[j],Z),ut=eu(k[J],Z),mt=lt,re=ht-F[A]-ut,ne=ht/2-F[A]/2+ct,ye=e1(mt,ne,re),Bt=!m.arrow&&wp(l)!=null&&ne!==ye&&u.reference[A]/2-(ne<mt?lt:ut)-F[A]/2<0,pe=Bt?ne<mt?ne-mt:ne-re:0;return{[M]:C[M]+pe,data:{[M]:ye,centerOffset:ne-ye-pe,...Bt&&{alignmentOffset:pe}},reset:Bt}}}),LO=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(r){var t,o;const{placement:l,middlewareData:u,rects:d,initialPlacement:f,platform:m,elements:v}=r,{mainAxis:_=!0,crossAxis:k=!0,fallbackPlacements:C,fallbackStrategy:M="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:F=!0,...U}=bp(n,r);if((t=u.arrow)!=null&&t.alignmentOffset)return{};const j=iu(l),J=iu(f)===f,H=await(m.isRTL==null?void 0:m.isRTL(v.floating)),V=C||(J||!F?[T0(f)]:TO(f));!C&&A!=="none"&&V.push(...CO(f,F,A,H));const ot=[f,...V],ft=await ex(r,U),ht=[];let ct=((o=u.flip)==null?void 0:o.overflows)||[];if(_&&ht.push(ft[j]),k){const mt=EO(l,d,H);ht.push(ft[mt[0]],ft[mt[1]])}if(ct=[...ct,{placement:l,overflows:ht}],!ht.every(mt=>mt<=0)){var Z,lt;const mt=(((Z=u.flip)==null?void 0:Z.index)||0)+1,re=ot[mt];if(re)return{data:{index:mt,overflows:ct},reset:{placement:re}};let ne=(lt=ct.filter(ye=>ye.overflows[0]<=0).sort((ye,Bt)=>ye.overflows[1]-Bt.overflows[1])[0])==null?void 0:lt.placement;if(!ne)switch(M){case"bestFit":{var ut;const ye=(ut=ct.map(Bt=>[Bt.placement,Bt.overflows.filter(pe=>pe>0).reduce((pe,Jt)=>pe+Jt,0)]).sort((Bt,pe)=>Bt[1]-pe[1])[0])==null?void 0:ut[0];ye&&(ne=ye);break}case"initialPlacement":ne=f;break}if(l!==ne)return{reset:{placement:ne}}}return{}}}};async function RO(n,r){const{placement:t,platform:o,elements:l}=n,u=await(o.isRTL==null?void 0:o.isRTL(l.floating)),d=iu(t),f=wp(t),m=Zg(t)==="y",v=["left","top"].includes(d)?-1:1,_=u&&m?-1:1,k=bp(r,n);let{mainAxis:C,crossAxis:M,alignmentAxis:A}=typeof k=="number"?{mainAxis:k,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...k};return f&&typeof A=="number"&&(M=f==="end"?A*-1:A),m?{x:M*_,y:C*v}:{x:C*v,y:M*_}}const AO=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(r){var t,o;const{x:l,y:u,placement:d,middlewareData:f}=r,m=await RO(r,n);return d===((t=f.offset)==null?void 0:t.placement)&&(o=f.arrow)!=null&&o.alignmentOffset?{}:{x:l+m.x,y:u+m.y,data:{...m,placement:d}}}}},OO=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(r){const{x:t,y:o,placement:l}=r,{mainAxis:u=!0,crossAxis:d=!1,limiter:f={fn:U=>{let{x:j,y:J}=U;return{x:j,y:J}}},...m}=bp(n,r),v={x:t,y:o},_=await ex(r,m),k=Zg(iu(l)),C=VS(k);let M=v[C],A=v[k];if(u){const U=C==="y"?"top":"left",j=C==="y"?"bottom":"right",J=M+_[U],H=M-_[j];M=e1(J,M,H)}if(d){const U=k==="y"?"top":"left",j=k==="y"?"bottom":"right",J=A+_[U],H=A-_[j];A=e1(J,A,H)}const F=f.fn({...r,[C]:M,[k]:A});return{...F,data:{x:F.x-t,y:F.y-o}}}}},zO=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(r){const{placement:t,rects:o,platform:l,elements:u}=r,{apply:d=()=>{},...f}=bp(n,r),m=await ex(r,f),v=iu(t),_=wp(t),k=Zg(t)==="y",{width:C,height:M}=o.floating;let A,F;v==="top"||v==="bottom"?(A=v,F=_===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(F=v,A=_==="end"?"top":"bottom");const U=M-m[A],j=C-m[F],J=!r.middlewareData.shift;let H=U,V=j;if(k){const ft=C-m.left-m.right;V=_||J?eu(j,ft):ft}else{const ft=M-m.top-m.bottom;H=_||J?eu(U,ft):ft}if(J&&!_){const ft=ds(m.left,0),ht=ds(m.right,0),ct=ds(m.top,0),Z=ds(m.bottom,0);k?V=C-2*(ft!==0||ht!==0?ft+ht:ds(m.left,m.right)):H=M-2*(ct!==0||Z!==0?ct+Z:ds(m.top,m.bottom))}await d({...r,availableWidth:V,availableHeight:H});const ot=await l.getDimensions(u.floating);return C!==ot.width||M!==ot.height?{reset:{rects:!0}}:{}}}};function nu(n){return ZS(n)?(n.nodeName||"").toLowerCase():"#document"}function ps(n){var r;return(n==null||(r=n.ownerDocument)==null?void 0:r.defaultView)||window}function sc(n){var r;return(r=(ZS(n)?n.ownerDocument:n.document)||window.document)==null?void 0:r.documentElement}function ZS(n){return n instanceof Node||n instanceof ps(n).Node}function rc(n){return n instanceof Element||n instanceof ps(n).Element}function ul(n){return n instanceof HTMLElement||n instanceof ps(n).HTMLElement}function p2(n){return typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ps(n).ShadowRoot}function Yg(n){const{overflow:r,overflowX:t,overflowY:o,display:l}=Ws(n);return/auto|scroll|overlay|hidden|clip/.test(r+o+t)&&!["inline","contents"].includes(l)}function NO(n){return["table","td","th"].includes(nu(n))}function rx(n){const r=ix(),t=Ws(n);return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!r&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!r&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(t.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(t.contain||"").includes(o))}function YS(n){let r=op(n);for(;ul(r)&&!vy(r);){if(rx(r))return r;r=op(r)}return null}function ix(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function vy(n){return["html","body","#document"].includes(nu(n))}function Ws(n){return ps(n).getComputedStyle(n)}function yy(n){return rc(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function op(n){if(nu(n)==="html")return n;const r=n.assignedSlot||n.parentNode||p2(n)&&n.host||sc(n);return p2(r)?r.host:r}function XS(n){const r=op(n);return vy(r)?n.ownerDocument?n.ownerDocument.body:n.body:ul(r)&&Yg(r)?r:XS(r)}function kg(n,r,t){var o;r===void 0&&(r=[]),t===void 0&&(t=!0);const l=XS(n),u=l===((o=n.ownerDocument)==null?void 0:o.body),d=ps(l);return u?r.concat(d,d.visualViewport||[],Yg(l)?l:[],d.frameElement&&t?kg(d.frameElement):[]):r.concat(l,kg(l,[],t))}function KS(n){const r=Ws(n);let t=parseFloat(r.width)||0,o=parseFloat(r.height)||0;const l=ul(n),u=l?n.offsetWidth:t,d=l?n.offsetHeight:o,f=E0(t)!==u||E0(o)!==d;return f&&(t=u,o=d),{width:t,height:o,$:f}}function nx(n){return rc(n)?n:n.contextElement}function $d(n){const r=nx(n);if(!ul(r))return ru(1);const t=r.getBoundingClientRect(),{width:o,height:l,$:u}=KS(r);let d=(u?E0(t.width):t.width)/o,f=(u?E0(t.height):t.height)/l;return(!d||!Number.isFinite(d))&&(d=1),(!f||!Number.isFinite(f))&&(f=1),{x:d,y:f}}const DO=ru(0);function JS(n){const r=ps(n);return!ix()||!r.visualViewport?DO:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function FO(n,r,t){return r===void 0&&(r=!1),!t||r&&t!==ps(n)?!1:r}function gh(n,r,t,o){r===void 0&&(r=!1),t===void 0&&(t=!1);const l=n.getBoundingClientRect(),u=nx(n);let d=ru(1);r&&(o?rc(o)&&(d=$d(o)):d=$d(n));const f=FO(u,t,o)?JS(u):ru(0);let m=(l.left+f.x)/d.x,v=(l.top+f.y)/d.y,_=l.width/d.x,k=l.height/d.y;if(u){const C=ps(u),M=o&&rc(o)?ps(o):o;let A=C.frameElement;for(;A&&o&&M!==C;){const F=$d(A),U=A.getBoundingClientRect(),j=Ws(A),J=U.left+(A.clientLeft+parseFloat(j.paddingLeft))*F.x,H=U.top+(A.clientTop+parseFloat(j.paddingTop))*F.y;m*=F.x,v*=F.y,_*=F.x,k*=F.y,m+=J,v+=H,A=ps(A).frameElement}}return S0({width:_,height:k,x:m,y:v})}const BO=[":popover-open",":modal"];function QS(n){let r=!1,t=0,o=0;function l(u){try{r=r||n.matches(u)}catch{}}if(BO.forEach(u=>{l(u)}),r){const u=YS(n);if(u){const d=u.getBoundingClientRect();t=d.x,o=d.y}}return[r,t,o]}function jO(n){let{elements:r,rect:t,offsetParent:o,strategy:l}=n;const u=sc(o),[d]=r?QS(r.floating):[!1];if(o===u||d)return t;let f={scrollLeft:0,scrollTop:0},m=ru(1);const v=ru(0),_=ul(o);if((_||!_&&l!=="fixed")&&((nu(o)!=="body"||Yg(u))&&(f=yy(o)),ul(o))){const k=gh(o);m=$d(o),v.x=k.x+o.clientLeft,v.y=k.y+o.clientTop}return{width:t.width*m.x,height:t.height*m.y,x:t.x*m.x-f.scrollLeft*m.x+v.x,y:t.y*m.y-f.scrollTop*m.y+v.y}}function HO(n){return Array.from(n.getClientRects())}function $S(n){return gh(sc(n)).left+yy(n).scrollLeft}function UO(n){const r=sc(n),t=yy(n),o=n.ownerDocument.body,l=ds(r.scrollWidth,r.clientWidth,o.scrollWidth,o.clientWidth),u=ds(r.scrollHeight,r.clientHeight,o.scrollHeight,o.clientHeight);let d=-t.scrollLeft+$S(n);const f=-t.scrollTop;return Ws(o).direction==="rtl"&&(d+=ds(r.clientWidth,o.clientWidth)-l),{width:l,height:u,x:d,y:f}}function GO(n,r){const t=ps(n),o=sc(n),l=t.visualViewport;let u=o.clientWidth,d=o.clientHeight,f=0,m=0;if(l){u=l.width,d=l.height;const v=ix();(!v||v&&r==="fixed")&&(f=l.offsetLeft,m=l.offsetTop)}return{width:u,height:d,x:f,y:m}}function qO(n,r){const t=gh(n,!0,r==="fixed"),o=t.top+n.clientTop,l=t.left+n.clientLeft,u=ul(n)?$d(n):ru(1),d=n.clientWidth*u.x,f=n.clientHeight*u.y,m=l*u.x,v=o*u.y;return{width:d,height:f,x:m,y:v}}function f2(n,r,t){let o;if(r==="viewport")o=GO(n,t);else if(r==="document")o=UO(sc(n));else if(rc(r))o=qO(r,t);else{const l=JS(n);o={...r,x:r.x-l.x,y:r.y-l.y}}return S0(o)}function tC(n,r){const t=op(n);return t===r||!rc(t)||vy(t)?!1:Ws(t).position==="fixed"||tC(t,r)}function VO(n,r){const t=r.get(n);if(t)return t;let o=kg(n,[],!1).filter(f=>rc(f)&&nu(f)!=="body"),l=null;const u=Ws(n).position==="fixed";let d=u?op(n):n;for(;rc(d)&&!vy(d);){const f=Ws(d),m=rx(d);!m&&f.position==="fixed"&&(l=null),(u?!m&&!l:!m&&f.position==="static"&&!!l&&["absolute","fixed"].includes(l.position)||Yg(d)&&!m&&tC(n,d))?o=o.filter(_=>_!==d):l=f,d=op(d)}return r.set(n,o),o}function WO(n){let{element:r,boundary:t,rootBoundary:o,strategy:l}=n;const d=[...t==="clippingAncestors"?VO(r,this._c):[].concat(t),o],f=d[0],m=d.reduce((v,_)=>{const k=f2(r,_,l);return v.top=ds(k.top,v.top),v.right=eu(k.right,v.right),v.bottom=eu(k.bottom,v.bottom),v.left=ds(k.left,v.left),v},f2(r,f,l));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function ZO(n){const{width:r,height:t}=KS(n);return{width:r,height:t}}function YO(n,r,t,o){const l=ul(r),u=sc(r),d=t==="fixed",f=gh(n,!0,d,r);let m={scrollLeft:0,scrollTop:0};const v=ru(0);if(l||!l&&!d)if((nu(r)!=="body"||Yg(u))&&(m=yy(r)),l){const F=gh(r,!0,d,r);v.x=F.x+r.clientLeft,v.y=F.y+r.clientTop}else u&&(v.x=$S(u));let _=f.left+m.scrollLeft-v.x,k=f.top+m.scrollTop-v.y;const[C,M,A]=QS(o);return C&&(_+=M,k+=A,l&&(_+=r.clientLeft,k+=r.clientTop)),{x:_,y:k,width:f.width,height:f.height}}function g2(n,r){return!ul(n)||Ws(n).position==="fixed"?null:r?r(n):n.offsetParent}function eC(n,r){const t=ps(n);if(!ul(n))return t;let o=g2(n,r);for(;o&&NO(o)&&Ws(o).position==="static";)o=g2(o,r);return o&&(nu(o)==="html"||nu(o)==="body"&&Ws(o).position==="static"&&!rx(o))?t:o||YS(n)||t}const XO=async function(n){const r=this.getOffsetParent||eC,t=this.getDimensions;return{reference:YO(n.reference,await r(n.floating),n.strategy,n.floating),floating:{x:0,y:0,...await t(n.floating)}}};function KO(n){return Ws(n).direction==="rtl"}const s0={convertOffsetParentRelativeRectToViewportRelativeRect:jO,getDocumentElement:sc,getClippingRect:WO,getOffsetParent:eC,getElementRects:XO,getClientRects:HO,getDimensions:ZO,getScale:$d,isElement:rc,isRTL:KO};function JO(n,r){let t=null,o;const l=sc(n);function u(){var f;clearTimeout(o),(f=t)==null||f.disconnect(),t=null}function d(f,m){f===void 0&&(f=!1),m===void 0&&(m=1),u();const{left:v,top:_,width:k,height:C}=n.getBoundingClientRect();if(f||r(),!k||!C)return;const M=zv(_),A=zv(l.clientWidth-(v+k)),F=zv(l.clientHeight-(_+C)),U=zv(v),J={rootMargin:-M+"px "+-A+"px "+-F+"px "+-U+"px",threshold:ds(0,eu(1,m))||1};let H=!0;function V(ot){const ft=ot[0].intersectionRatio;if(ft!==m){if(!H)return d();ft?d(!1,ft):o=setTimeout(()=>{d(!1,1e-7)},100)}H=!1}try{t=new IntersectionObserver(V,{...J,root:l.ownerDocument})}catch{t=new IntersectionObserver(V,J)}t.observe(n)}return d(!0),u}function QO(n,r,t,o){o===void 0&&(o={});const{ancestorScroll:l=!0,ancestorResize:u=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:m=!1}=o,v=nx(n),_=l||u?[...v?kg(v):[],...kg(r)]:[];_.forEach(j=>{l&&j.addEventListener("scroll",t,{passive:!0}),u&&j.addEventListener("resize",t)});const k=v&&f?JO(v,t):null;let C=-1,M=null;d&&(M=new ResizeObserver(j=>{let[J]=j;J&&J.target===v&&M&&(M.unobserve(r),cancelAnimationFrame(C),C=requestAnimationFrame(()=>{var H;(H=M)==null||H.observe(r)})),t()}),v&&!m&&M.observe(v),M.observe(r));let A,F=m?gh(n):null;m&&U();function U(){const j=gh(n);F&&(j.x!==F.x||j.y!==F.y||j.width!==F.width||j.height!==F.height)&&t(),F=j,A=requestAnimationFrame(U)}return t(),()=>{var j;_.forEach(J=>{l&&J.removeEventListener("scroll",t),u&&J.removeEventListener("resize",t)}),k==null||k(),(j=M)==null||j.disconnect(),M=null,m&&cancelAnimationFrame(A)}}const $O=OO,t5=LO,m2=zO,e5=IO,r5=(n,r,t)=>{const o=new Map,l={platform:s0,...t},u={...l.platform,_c:o};return MO(n,r,{...l,platform:u})};function i5(n){return n5(n)}function mw(n){return n.assignedSlot?n.assignedSlot:n.parentNode instanceof ShadowRoot?n.parentNode.host:n.parentNode}function n5(n){for(let r=n;r;r=mw(r))if(r instanceof Element&&getComputedStyle(r).display==="none")return null;for(let r=mw(n);r;r=mw(r)){if(!(r instanceof Element))continue;const t=getComputedStyle(r);if(t.display!=="contents"&&(t.position!=="static"||t.filter!=="none"||r.tagName==="BODY"))return r}return null}function o5(n){return n!==null&&typeof n=="object"&&"getBoundingClientRect"in n}var Ci=class extends Mo{constructor(){super(...arguments),this.active=!1,this.placement="top",this.strategy="absolute",this.distance=0,this.skidding=0,this.arrow=!1,this.arrowPlacement="anchor",this.arrowPadding=10,this.flip=!1,this.flipFallbackPlacements="",this.flipFallbackStrategy="best-fit",this.flipPadding=0,this.shift=!1,this.shiftPadding=0,this.autoSizePadding=0,this.hoverBridge=!1,this.updateHoverBridge=()=>{if(this.hoverBridge&&this.anchorEl){const n=this.anchorEl.getBoundingClientRect(),r=this.popup.getBoundingClientRect(),t=this.placement.includes("top")||this.placement.includes("bottom");let o=0,l=0,u=0,d=0,f=0,m=0,v=0,_=0;t?n.top<r.top?(o=n.left,l=n.bottom,u=n.right,d=n.bottom,f=r.left,m=r.top,v=r.right,_=r.top):(o=r.left,l=r.bottom,u=r.right,d=r.bottom,f=n.left,m=n.top,v=n.right,_=n.top):n.left<r.left?(o=n.right,l=n.top,u=r.left,d=r.top,f=n.right,m=n.bottom,v=r.left,_=r.bottom):(o=r.right,l=r.top,u=n.left,d=n.top,f=r.right,m=r.bottom,v=n.left,_=n.bottom),this.style.setProperty("--hover-bridge-top-left-x",`${o}px`),this.style.setProperty("--hover-bridge-top-left-y",`${l}px`),this.style.setProperty("--hover-bridge-top-right-x",`${u}px`),this.style.setProperty("--hover-bridge-top-right-y",`${d}px`),this.style.setProperty("--hover-bridge-bottom-left-x",`${f}px`),this.style.setProperty("--hover-bridge-bottom-left-y",`${m}px`),this.style.setProperty("--hover-bridge-bottom-right-x",`${v}px`),this.style.setProperty("--hover-bridge-bottom-right-y",`${_}px`)}}}async connectedCallback(){super.connectedCallback(),await this.updateComplete,this.start()}disconnectedCallback(){super.disconnectedCallback(),this.stop()}async updated(n){super.updated(n),n.has("active")&&(this.active?this.start():this.stop()),n.has("anchor")&&this.handleAnchorChange(),this.active&&(await this.updateComplete,this.reposition())}async handleAnchorChange(){if(await this.stop(),this.anchor&&typeof this.anchor=="string"){const n=this.getRootNode();this.anchorEl=n.getElementById(this.anchor)}else this.anchor instanceof Element||o5(this.anchor)?this.anchorEl=this.anchor:this.anchorEl=this.querySelector('[slot="anchor"]');this.anchorEl instanceof HTMLSlotElement&&(this.anchorEl=this.anchorEl.assignedElements({flatten:!0})[0]),this.anchorEl&&this.start()}start(){this.anchorEl&&(this.cleanup=QO(this.anchorEl,this.popup,()=>{this.reposition()}))}async stop(){return new Promise(n=>{this.cleanup?(this.cleanup(),this.cleanup=void 0,this.removeAttribute("data-current-placement"),this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height"),requestAnimationFrame(()=>n())):n()})}reposition(){if(!this.active||!this.anchorEl)return;const n=[AO({mainAxis:this.distance,crossAxis:this.skidding})];this.sync?n.push(m2({apply:({rects:t})=>{const o=this.sync==="width"||this.sync==="both",l=this.sync==="height"||this.sync==="both";this.popup.style.width=o?`${t.reference.width}px`:"",this.popup.style.height=l?`${t.reference.height}px`:""}})):(this.popup.style.width="",this.popup.style.height=""),this.flip&&n.push(t5({boundary:this.flipBoundary,fallbackPlacements:this.flipFallbackPlacements,fallbackStrategy:this.flipFallbackStrategy==="best-fit"?"bestFit":"initialPlacement",padding:this.flipPadding})),this.shift&&n.push($O({boundary:this.shiftBoundary,padding:this.shiftPadding})),this.autoSize?n.push(m2({boundary:this.autoSizeBoundary,padding:this.autoSizePadding,apply:({availableWidth:t,availableHeight:o})=>{this.autoSize==="vertical"||this.autoSize==="both"?this.style.setProperty("--auto-size-available-height",`${o}px`):this.style.removeProperty("--auto-size-available-height"),this.autoSize==="horizontal"||this.autoSize==="both"?this.style.setProperty("--auto-size-available-width",`${t}px`):this.style.removeProperty("--auto-size-available-width")}})):(this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height")),this.arrow&&n.push(e5({element:this.arrowEl,padding:this.arrowPadding}));const r=this.strategy==="absolute"?t=>s0.getOffsetParent(t,i5):s0.getOffsetParent;r5(this.anchorEl,this.popup,{placement:this.placement,middleware:n,strategy:this.strategy,platform:gy(du({},s0),{getOffsetParent:r})}).then(({x:t,y:o,middlewareData:l,placement:u})=>{const d=getComputedStyle(this).direction==="rtl",f={top:"bottom",right:"left",bottom:"top",left:"right"}[u.split("-")[0]];if(this.setAttribute("data-current-placement",u),Object.assign(this.popup.style,{left:`${t}px`,top:`${o}px`}),this.arrow){const m=l.arrow.x,v=l.arrow.y;let _="",k="",C="",M="";if(this.arrowPlacement==="start"){const A=typeof m=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";_=typeof v=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"",k=d?A:"",M=d?"":A}else if(this.arrowPlacement==="end"){const A=typeof m=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";k=d?"":A,M=d?A:"",C=typeof v=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:""}else this.arrowPlacement==="center"?(M=typeof m=="number"?"calc(50% - var(--arrow-size-diagonal))":"",_=typeof v=="number"?"calc(50% - var(--arrow-size-diagonal))":""):(M=typeof m=="number"?`${m}px`:"",_=typeof v=="number"?`${v}px`:"");Object.assign(this.arrowEl.style,{top:_,right:k,bottom:C,left:M,[f]:"calc(var(--arrow-size-diagonal) * -1)"})}}),requestAnimationFrame(()=>this.updateHoverBridge()),this.emit("sl-reposition")}render(){return Qn`
      <slot name="anchor" @slotchange=${this.handleAnchorChange}></slot>

      <span
        part="hover-bridge"
        class=${ec({"popup-hover-bridge":!0,"popup-hover-bridge--visible":this.hoverBridge&&this.active})}
      ></span>

      <div
        part="popup"
        class=${ec({popup:!0,"popup--active":this.active,"popup--fixed":this.strategy==="fixed","popup--has-arrow":this.arrow})}
      >
        <slot></slot>
        ${this.arrow?Qn`<div part="arrow" class="popup__arrow" role="presentation"></div>`:""}
      </div>
    `}};Ci.styles=xO;Kt([Po(".popup")],Ci.prototype,"popup",2);Kt([Po(".popup__arrow")],Ci.prototype,"arrowEl",2);Kt([ve()],Ci.prototype,"anchor",2);Kt([ve({type:Boolean,reflect:!0})],Ci.prototype,"active",2);Kt([ve({reflect:!0})],Ci.prototype,"placement",2);Kt([ve({reflect:!0})],Ci.prototype,"strategy",2);Kt([ve({type:Number})],Ci.prototype,"distance",2);Kt([ve({type:Number})],Ci.prototype,"skidding",2);Kt([ve({type:Boolean})],Ci.prototype,"arrow",2);Kt([ve({attribute:"arrow-placement"})],Ci.prototype,"arrowPlacement",2);Kt([ve({attribute:"arrow-padding",type:Number})],Ci.prototype,"arrowPadding",2);Kt([ve({type:Boolean})],Ci.prototype,"flip",2);Kt([ve({attribute:"flip-fallback-placements",converter:{fromAttribute:n=>n.split(" ").map(r=>r.trim()).filter(r=>r!==""),toAttribute:n=>n.join(" ")}})],Ci.prototype,"flipFallbackPlacements",2);Kt([ve({attribute:"flip-fallback-strategy"})],Ci.prototype,"flipFallbackStrategy",2);Kt([ve({type:Object})],Ci.prototype,"flipBoundary",2);Kt([ve({attribute:"flip-padding",type:Number})],Ci.prototype,"flipPadding",2);Kt([ve({type:Boolean})],Ci.prototype,"shift",2);Kt([ve({type:Object})],Ci.prototype,"shiftBoundary",2);Kt([ve({attribute:"shift-padding",type:Number})],Ci.prototype,"shiftPadding",2);Kt([ve({attribute:"auto-size"})],Ci.prototype,"autoSize",2);Kt([ve()],Ci.prototype,"sync",2);Kt([ve({type:Object})],Ci.prototype,"autoSizeBoundary",2);Kt([ve({attribute:"auto-size-padding",type:Number})],Ci.prototype,"autoSizePadding",2);Kt([ve({attribute:"hover-bridge",type:Boolean})],Ci.prototype,"hoverBridge",2);var rC=new Map,s5=new WeakMap;function a5(n){return n??{keyframes:[],options:{duration:0}}}function v2(n,r){return r.toLowerCase()==="rtl"?{keyframes:n.rtlKeyframes||n.keyframes,options:n.options}:n}function iC(n,r){rC.set(n,a5(r))}function y2(n,r,t){const o=s5.get(n);if(o!=null&&o[r])return v2(o[r],t.dir);const l=rC.get(r);return l?v2(l,t.dir):{keyframes:[],options:{duration:0}}}function b2(n,r){return new Promise(t=>{function o(l){l.target===n&&(n.removeEventListener(r,o),t())}n.addEventListener(r,o)})}function w2(n,r,t){return new Promise(o=>{if((t==null?void 0:t.duration)===1/0)throw new Error("Promise-based animations must be finite.");const l=n.animate(r,gy(du({},t),{duration:l5()?0:t.duration}));l.addEventListener("cancel",o,{once:!0}),l.addEventListener("finish",o,{once:!0})})}function l5(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches}function x2(n){return Promise.all(n.getAnimations().map(r=>new Promise(t=>{r.cancel(),requestAnimationFrame(t)})))}var Io=class extends Mo{constructor(){super(...arguments),this.localize=new yp(this),this.open=!1,this.placement="bottom-start",this.disabled=!1,this.stayOpenOnSelect=!1,this.distance=0,this.skidding=0,this.hoist=!1,this.handleKeyDown=n=>{this.open&&n.key==="Escape"&&(n.stopPropagation(),this.hide(),this.focusOnTrigger())},this.handleDocumentKeyDown=n=>{var r;if(n.key==="Escape"&&this.open&&!this.closeWatcher){n.stopPropagation(),this.focusOnTrigger(),this.hide();return}if(n.key==="Tab"){if(this.open&&((r=document.activeElement)==null?void 0:r.tagName.toLowerCase())==="sl-menu-item"){n.preventDefault(),this.hide(),this.focusOnTrigger();return}setTimeout(()=>{var t,o,l;const u=((t=this.containingElement)==null?void 0:t.getRootNode())instanceof ShadowRoot?(l=(o=document.activeElement)==null?void 0:o.shadowRoot)==null?void 0:l.activeElement:document.activeElement;(!this.containingElement||(u==null?void 0:u.closest(this.containingElement.tagName.toLowerCase()))!==this.containingElement)&&this.hide()})}},this.handleDocumentMouseDown=n=>{const r=n.composedPath();this.containingElement&&!r.includes(this.containingElement)&&this.hide()},this.handlePanelSelect=n=>{const r=n.target;!this.stayOpenOnSelect&&r.tagName.toLowerCase()==="sl-menu"&&(this.hide(),this.focusOnTrigger())}}connectedCallback(){super.connectedCallback(),this.containingElement||(this.containingElement=this)}firstUpdated(){this.panel.hidden=!this.open,this.open&&(this.addOpenListeners(),this.popup.active=!0)}disconnectedCallback(){super.disconnectedCallback(),this.removeOpenListeners(),this.hide()}focusOnTrigger(){const n=this.trigger.assignedElements({flatten:!0})[0];typeof(n==null?void 0:n.focus)=="function"&&n.focus()}getMenu(){return this.panel.assignedElements({flatten:!0}).find(n=>n.tagName.toLowerCase()==="sl-menu")}handleTriggerClick(){this.open?this.hide():(this.show(),this.focusOnTrigger())}async handleTriggerKeyDown(n){if([" ","Enter"].includes(n.key)){n.preventDefault(),this.handleTriggerClick();return}const r=this.getMenu();if(r){const t=r.getAllItems(),o=t[0],l=t[t.length-1];["ArrowDown","ArrowUp","Home","End"].includes(n.key)&&(n.preventDefault(),this.open||(this.show(),await this.updateComplete),t.length>0&&this.updateComplete.then(()=>{(n.key==="ArrowDown"||n.key==="Home")&&(r.setCurrentItem(o),o.focus()),(n.key==="ArrowUp"||n.key==="End")&&(r.setCurrentItem(l),l.focus())}))}}handleTriggerKeyUp(n){n.key===" "&&n.preventDefault()}handleTriggerSlotChange(){this.updateAccessibleTrigger()}updateAccessibleTrigger(){const r=this.trigger.assignedElements({flatten:!0}).find(o=>yO(o).start);let t;if(r){switch(r.tagName.toLowerCase()){case"sl-button":case"sl-icon-button":t=r.button;break;default:t=r}t.setAttribute("aria-haspopup","true"),t.setAttribute("aria-expanded",this.open?"true":"false")}}async show(){if(!this.open)return this.open=!0,b2(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,b2(this,"sl-after-hide")}reposition(){this.popup.reposition()}addOpenListeners(){var n;this.panel.addEventListener("sl-select",this.handlePanelSelect),"CloseWatcher"in window?((n=this.closeWatcher)==null||n.destroy(),this.closeWatcher=new CloseWatcher,this.closeWatcher.onclose=()=>{this.hide(),this.focusOnTrigger()}):this.panel.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keydown",this.handleDocumentKeyDown),document.addEventListener("mousedown",this.handleDocumentMouseDown)}removeOpenListeners(){var n;this.panel&&(this.panel.removeEventListener("sl-select",this.handlePanelSelect),this.panel.removeEventListener("keydown",this.handleKeyDown)),document.removeEventListener("keydown",this.handleDocumentKeyDown),document.removeEventListener("mousedown",this.handleDocumentMouseDown),(n=this.closeWatcher)==null||n.destroy()}async handleOpenChange(){if(this.disabled){this.open=!1;return}if(this.updateAccessibleTrigger(),this.open){this.emit("sl-show"),this.addOpenListeners(),await x2(this),this.panel.hidden=!1,this.popup.active=!0;const{keyframes:n,options:r}=y2(this,"dropdown.show",{dir:this.localize.dir()});await w2(this.popup.popup,n,r),this.emit("sl-after-show")}else{this.emit("sl-hide"),this.removeOpenListeners(),await x2(this);const{keyframes:n,options:r}=y2(this,"dropdown.hide",{dir:this.localize.dir()});await w2(this.popup.popup,n,r),this.panel.hidden=!0,this.popup.active=!1,this.emit("sl-after-hide")}}render(){return Qn`
      <sl-popup
        part="base"
        id="dropdown"
        placement=${this.placement}
        distance=${this.distance}
        skidding=${this.skidding}
        strategy=${this.hoist?"fixed":"absolute"}
        flip
        shift
        auto-size="vertical"
        auto-size-padding="10"
        class=${ec({dropdown:!0,"dropdown--open":this.open})}
      >
        <slot
          name="trigger"
          slot="anchor"
          part="trigger"
          class="dropdown__trigger"
          @click=${this.handleTriggerClick}
          @keydown=${this.handleTriggerKeyDown}
          @keyup=${this.handleTriggerKeyUp}
          @slotchange=${this.handleTriggerSlotChange}
        ></slot>

        <div aria-hidden=${this.open?"false":"true"} aria-labelledby="dropdown">
          <slot part="panel" class="dropdown__panel"></slot>
        </div>
      </sl-popup>
    `}};Io.styles=fO;Io.dependencies={"sl-popup":Ci};Kt([Po(".dropdown")],Io.prototype,"popup",2);Kt([Po(".dropdown__trigger")],Io.prototype,"trigger",2);Kt([Po(".dropdown__panel")],Io.prototype,"panel",2);Kt([ve({type:Boolean,reflect:!0})],Io.prototype,"open",2);Kt([ve({reflect:!0})],Io.prototype,"placement",2);Kt([ve({type:Boolean,reflect:!0})],Io.prototype,"disabled",2);Kt([ve({attribute:"stay-open-on-select",type:Boolean,reflect:!0})],Io.prototype,"stayOpenOnSelect",2);Kt([ve({attribute:!1})],Io.prototype,"containingElement",2);Kt([ve({type:Number})],Io.prototype,"distance",2);Kt([ve({type:Number})],Io.prototype,"skidding",2);Kt([ve({type:Boolean})],Io.prototype,"hoist",2);Kt([Ks("open",{waitUntilFirstUpdate:!0})],Io.prototype,"handleOpenChange",1);iC("dropdown.show",{keyframes:[{opacity:0,scale:.9},{opacity:1,scale:1}],options:{duration:100,easing:"ease"}});iC("dropdown.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.9}],options:{duration:100,easing:"ease"}});Io.define("sl-dropdown");var c5=Xs`
  ${Ra}

  :host {
    display: block;
    position: relative;
    background: var(--sl-panel-background-color);
    border: solid var(--sl-panel-border-width) var(--sl-panel-border-color);
    border-radius: var(--sl-border-radius-medium);
    padding: var(--sl-spacing-x-small) 0;
    overflow: auto;
    overscroll-behavior: none;
  }

  ::slotted(sl-divider) {
    --spacing: var(--sl-spacing-x-small);
  }
`,ox=class extends Mo{connectedCallback(){super.connectedCallback(),this.setAttribute("role","menu")}handleClick(n){const r=["menuitem","menuitemcheckbox"],t=n.composedPath().find(l=>{var u;return r.includes(((u=l==null?void 0:l.getAttribute)==null?void 0:u.call(l,"role"))||"")});if(!t)return;const o=t;o.type==="checkbox"&&(o.checked=!o.checked),this.emit("sl-select",{detail:{item:o}})}handleKeyDown(n){if(n.key==="Enter"||n.key===" "){const r=this.getCurrentItem();n.preventDefault(),n.stopPropagation(),r==null||r.click()}else if(["ArrowDown","ArrowUp","Home","End"].includes(n.key)){const r=this.getAllItems(),t=this.getCurrentItem();let o=t?r.indexOf(t):0;r.length>0&&(n.preventDefault(),n.stopPropagation(),n.key==="ArrowDown"?o++:n.key==="ArrowUp"?o--:n.key==="Home"?o=0:n.key==="End"&&(o=r.length-1),o<0&&(o=r.length-1),o>r.length-1&&(o=0),this.setCurrentItem(r[o]),r[o].focus())}}handleMouseDown(n){const r=n.target;this.isMenuItem(r)&&this.setCurrentItem(r)}handleSlotChange(){const n=this.getAllItems();n.length>0&&this.setCurrentItem(n[0])}isMenuItem(n){var r;return n.tagName.toLowerCase()==="sl-menu-item"||["menuitem","menuitemcheckbox","menuitemradio"].includes((r=n.getAttribute("role"))!=null?r:"")}getAllItems(){return[...this.defaultSlot.assignedElements({flatten:!0})].filter(n=>!(n.inert||!this.isMenuItem(n)))}getCurrentItem(){return this.getAllItems().find(n=>n.getAttribute("tabindex")==="0")}setCurrentItem(n){this.getAllItems().forEach(t=>{t.setAttribute("tabindex",t===n?"0":"-1")})}render(){return Qn`
      <slot
        @slotchange=${this.handleSlotChange}
        @click=${this.handleClick}
        @keydown=${this.handleKeyDown}
        @mousedown=${this.handleMouseDown}
      ></slot>
    `}};ox.styles=c5;Kt([Po("slot")],ox.prototype,"defaultSlot",2);ox.define("sl-menu");var u5=Xs`
  ${Ra}

  :host {
    --submenu-offset: -2px;

    display: block;
  }

  :host([inert]) {
    display: none;
  }

  .menu-item {
    position: relative;
    display: flex;
    align-items: stretch;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    line-height: var(--sl-line-height-normal);
    letter-spacing: var(--sl-letter-spacing-normal);
    color: var(--sl-color-neutral-700);
    padding: var(--sl-spacing-2x-small) var(--sl-spacing-2x-small);
    transition: var(--sl-transition-fast) fill;
    user-select: none;
    -webkit-user-select: none;
    white-space: nowrap;
    cursor: pointer;
  }

  .menu-item.menu-item--disabled {
    outline: none;
    opacity: 0.5;
    cursor: not-allowed;
  }

  .menu-item.menu-item--loading {
    outline: none;
    cursor: wait;
  }

  .menu-item.menu-item--loading *:not(sl-spinner) {
    opacity: 0.5;
  }

  .menu-item--loading sl-spinner {
    --indicator-color: currentColor;
    --track-width: 1px;
    position: absolute;
    font-size: 0.75em;
    top: calc(50% - 0.5em);
    left: 0.65rem;
    opacity: 1;
  }

  .menu-item .menu-item__label {
    flex: 1 1 auto;
    display: inline-block;
    text-overflow: ellipsis;
    overflow: hidden;
  }

  .menu-item .menu-item__prefix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .menu-item .menu-item__prefix::slotted(*) {
    margin-inline-end: var(--sl-spacing-x-small);
  }

  .menu-item .menu-item__suffix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .menu-item .menu-item__suffix::slotted(*) {
    margin-inline-start: var(--sl-spacing-x-small);
  }

  /* Safe triangle */
  .menu-item--submenu-expanded::after {
    content: '';
    position: fixed;
    z-index: calc(var(--sl-z-index-dropdown) - 1);
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    clip-path: polygon(
      var(--safe-triangle-cursor-x, 0) var(--safe-triangle-cursor-y, 0),
      var(--safe-triangle-submenu-start-x, 0) var(--safe-triangle-submenu-start-y, 0),
      var(--safe-triangle-submenu-end-x, 0) var(--safe-triangle-submenu-end-y, 0)
    );
  }

  :host(:focus-visible) {
    outline: none;
  }

  :host(:hover:not([aria-disabled='true'], :focus-visible)) .menu-item,
  .menu-item--submenu-expanded {
    background-color: var(--sl-color-neutral-100);
    color: var(--sl-color-neutral-1000);
  }

  :host(:focus-visible) .menu-item {
    outline: none;
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
    opacity: 1;
  }

  .menu-item .menu-item__check,
  .menu-item .menu-item__chevron {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 1.5em;
    visibility: hidden;
  }

  .menu-item--checked .menu-item__check,
  .menu-item--has-submenu .menu-item__chevron {
    visibility: visible;
  }

  /* Add elevation and z-index to submenus */
  sl-popup::part(popup) {
    box-shadow: var(--sl-shadow-large);
    z-index: var(--sl-z-index-dropdown);
    margin-left: var(--submenu-offset);
  }

  .menu-item--rtl sl-popup::part(popup) {
    margin-left: calc(-1 * var(--submenu-offset));
  }

  @media (forced-colors: active) {
    :host(:hover:not([aria-disabled='true'])) .menu-item,
    :host(:focus-visible) .menu-item {
      outline: dashed 1px SelectedItem;
      outline-offset: -1px;
    }
  }
`;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const lg=(n,r)=>{var o;const t=n._$AN;if(t===void 0)return!1;for(const l of t)(o=l._$AO)==null||o.call(l,r,!1),lg(l,r);return!0},C0=n=>{let r,t;do{if((r=n._$AM)===void 0)break;t=r._$AN,t.delete(n),n=r}while((t==null?void 0:t.size)===0)},nC=n=>{for(let r;r=n._$AM;n=r){let t=r._$AN;if(t===void 0)r._$AN=t=new Set;else if(t.has(n))break;t.add(n),p5(r)}};function h5(n){this._$AN!==void 0?(C0(this),this._$AM=n,nC(this)):this._$AM=n}function d5(n,r=!1,t=0){const o=this._$AH,l=this._$AN;if(l!==void 0&&l.size!==0)if(r)if(Array.isArray(o))for(let u=t;u<o.length;u++)lg(o[u],!1),C0(o[u]);else o!=null&&(lg(o,!1),C0(o));else lg(this,n)}const p5=n=>{n.type==jS.CHILD&&(n._$AP??(n._$AP=d5),n._$AQ??(n._$AQ=h5))};class f5 extends US{constructor(){super(...arguments),this._$AN=void 0}_$AT(r,t,o){super._$AT(r,t,o),nC(this),this.isConnected=r._$AU}_$AO(r,t=!0){var o,l;r!==this.isConnected&&(this.isConnected=r,r?(o=this.reconnected)==null||o.call(this):(l=this.disconnected)==null||l.call(this)),t&&(lg(this,r),C0(this))}setValue(r){if(hO(this._$Ct))this._$Ct._$AI(r,this);else{const t=[...this._$Ct._$AH];t[this._$Ci]=r,this._$Ct._$AI(t,this,0)}}disconnected(){}reconnected(){}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const g5=()=>new m5;class m5{}const vw=new WeakMap,v5=HS(class extends f5{render(n){return sn}update(n,[r]){var o;const t=r!==this.Y;return t&&this.Y!==void 0&&this.rt(void 0),(t||this.lt!==this.ct)&&(this.Y=r,this.ht=(o=n.options)==null?void 0:o.host,this.rt(this.ct=n.element)),sn}rt(n){if(typeof this.Y=="function"){const r=this.ht??globalThis;let t=vw.get(r);t===void 0&&(t=new WeakMap,vw.set(r,t)),t.get(this.Y)!==void 0&&this.Y.call(this.ht,void 0),t.set(this.Y,n),n!==void 0&&this.Y.call(this.ht,n)}else this.Y.value=n}get lt(){var n,r;return typeof this.Y=="function"?(n=vw.get(this.ht??globalThis))==null?void 0:n.get(this.Y):(r=this.Y)==null?void 0:r.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});var y5=class{constructor(n,r,t){this.popupRef=g5(),this.enableSubmenuTimer=-1,this.isConnected=!1,this.isPopupConnected=!1,this.skidding=0,this.submenuOpenDelay=100,this.handleMouseMove=o=>{this.host.style.setProperty("--safe-triangle-cursor-x",`${o.clientX}px`),this.host.style.setProperty("--safe-triangle-cursor-y",`${o.clientY}px`)},this.handleMouseOver=()=>{this.hasSlotController.test("submenu")&&this.enableSubmenu()},this.handleKeyDown=o=>{switch(o.key){case"Escape":case"Tab":this.disableSubmenu();break;case"ArrowLeft":o.target!==this.host&&(o.preventDefault(),o.stopPropagation(),this.host.focus(),this.disableSubmenu());break;case"ArrowRight":case"Enter":case" ":this.handleSubmenuEntry(o);break}},this.handleClick=o=>{var l;o.target===this.host?(o.preventDefault(),o.stopPropagation()):o.target instanceof Element&&(o.target.tagName==="sl-menu-item"||(l=o.target.role)!=null&&l.startsWith("menuitem"))&&this.disableSubmenu()},this.handleFocusOut=o=>{o.relatedTarget&&o.relatedTarget instanceof Element&&this.host.contains(o.relatedTarget)||this.disableSubmenu()},this.handlePopupMouseover=o=>{o.stopPropagation()},this.handlePopupReposition=()=>{const o=this.host.renderRoot.querySelector("slot[name='submenu']"),l=o==null?void 0:o.assignedElements({flatten:!0}).filter(_=>_.localName==="sl-menu")[0],u=this.localize.dir()==="rtl";if(!l)return;const{left:d,top:f,width:m,height:v}=l.getBoundingClientRect();this.host.style.setProperty("--safe-triangle-submenu-start-x",`${u?d+m:d}px`),this.host.style.setProperty("--safe-triangle-submenu-start-y",`${f}px`),this.host.style.setProperty("--safe-triangle-submenu-end-x",`${u?d+m:d}px`),this.host.style.setProperty("--safe-triangle-submenu-end-y",`${f+v}px`)},(this.host=n).addController(this),this.hasSlotController=r,this.localize=t}hostConnected(){this.hasSlotController.test("submenu")&&!this.host.disabled&&this.addListeners()}hostDisconnected(){this.removeListeners()}hostUpdated(){this.hasSlotController.test("submenu")&&!this.host.disabled?(this.addListeners(),this.updateSkidding()):this.removeListeners()}addListeners(){this.isConnected||(this.host.addEventListener("mousemove",this.handleMouseMove),this.host.addEventListener("mouseover",this.handleMouseOver),this.host.addEventListener("keydown",this.handleKeyDown),this.host.addEventListener("click",this.handleClick),this.host.addEventListener("focusout",this.handleFocusOut),this.isConnected=!0),this.isPopupConnected||this.popupRef.value&&(this.popupRef.value.addEventListener("mouseover",this.handlePopupMouseover),this.popupRef.value.addEventListener("sl-reposition",this.handlePopupReposition),this.isPopupConnected=!0)}removeListeners(){this.isConnected&&(this.host.removeEventListener("mousemove",this.handleMouseMove),this.host.removeEventListener("mouseover",this.handleMouseOver),this.host.removeEventListener("keydown",this.handleKeyDown),this.host.removeEventListener("click",this.handleClick),this.host.removeEventListener("focusout",this.handleFocusOut),this.isConnected=!1),this.isPopupConnected&&this.popupRef.value&&(this.popupRef.value.removeEventListener("mouseover",this.handlePopupMouseover),this.popupRef.value.removeEventListener("sl-reposition",this.handlePopupReposition),this.isPopupConnected=!1)}handleSubmenuEntry(n){const r=this.host.renderRoot.querySelector("slot[name='submenu']");if(!r){console.error("Cannot activate a submenu if no corresponding menuitem can be found.",this);return}let t=null;for(const o of r.assignedElements())if(t=o.querySelectorAll("sl-menu-item, [role^='menuitem']"),t.length!==0)break;if(!(!t||t.length===0)){t[0].setAttribute("tabindex","0");for(let o=1;o!==t.length;++o)t[o].setAttribute("tabindex","-1");this.popupRef.value&&(n.preventDefault(),n.stopPropagation(),this.popupRef.value.active?t[0]instanceof HTMLElement&&t[0].focus():(this.enableSubmenu(!1),this.host.updateComplete.then(()=>{t[0]instanceof HTMLElement&&t[0].focus()}),this.host.requestUpdate()))}}setSubmenuState(n){this.popupRef.value&&this.popupRef.value.active!==n&&(this.popupRef.value.active=n,this.host.requestUpdate())}enableSubmenu(n=!0){n?this.enableSubmenuTimer=window.setTimeout(()=>{this.setSubmenuState(!0)},this.submenuOpenDelay):this.setSubmenuState(!0)}disableSubmenu(){clearTimeout(this.enableSubmenuTimer),this.setSubmenuState(!1)}updateSkidding(){var n;if(!((n=this.host.parentElement)!=null&&n.computedStyleMap))return;const r=this.host.parentElement.computedStyleMap(),o=["padding-top","border-top-width","margin-top"].reduce((l,u)=>{var d;const f=(d=r.get(u))!=null?d:new CSSUnitValue(0,"px"),v=(f instanceof CSSUnitValue?f:new CSSUnitValue(0,"px")).to("px");return l-v.value},0);this.skidding=o}isExpanded(){return this.popupRef.value?this.popupRef.value.active:!1}renderSubmenu(){const n=this.localize.dir()==="ltr";return this.isConnected?Qn`
      <sl-popup
        ${v5(this.popupRef)}
        placement=${n?"right-start":"left-start"}
        anchor="anchor"
        flip
        flip-fallback-strategy="best-fit"
        skidding="${this.skidding}"
        strategy="fixed"
      >
        <slot name="submenu"></slot>
      </sl-popup>
    `:Qn` <slot name="submenu" hidden></slot> `}},vs=class extends Mo{constructor(){super(...arguments),this.type="normal",this.checked=!1,this.value="",this.loading=!1,this.disabled=!1,this.localize=new yp(this),this.hasSlotController=new BS(this,"submenu"),this.submenuController=new y5(this,this.hasSlotController,this.localize),this.handleHostClick=n=>{this.disabled&&(n.preventDefault(),n.stopImmediatePropagation())},this.handleMouseOver=n=>{this.focus(),n.stopPropagation()}}connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.handleHostClick),this.addEventListener("mouseover",this.handleMouseOver)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("click",this.handleHostClick),this.removeEventListener("mouseover",this.handleMouseOver)}handleDefaultSlotChange(){const n=this.getTextLabel();if(typeof this.cachedTextLabel>"u"){this.cachedTextLabel=n;return}n!==this.cachedTextLabel&&(this.cachedTextLabel=n,this.emit("slotchange",{bubbles:!0,composed:!1,cancelable:!1}))}handleCheckedChange(){if(this.checked&&this.type!=="checkbox"){this.checked=!1,console.error('The checked attribute can only be used on menu items with type="checkbox"',this);return}this.type==="checkbox"?this.setAttribute("aria-checked",this.checked?"true":"false"):this.removeAttribute("aria-checked")}handleDisabledChange(){this.setAttribute("aria-disabled",this.disabled?"true":"false")}handleTypeChange(){this.type==="checkbox"?(this.setAttribute("role","menuitemcheckbox"),this.setAttribute("aria-checked",this.checked?"true":"false")):(this.setAttribute("role","menuitem"),this.removeAttribute("aria-checked"))}getTextLabel(){return tO(this.defaultSlot)}isSubmenu(){return this.hasSlotController.test("submenu")}render(){const n=this.localize.dir()==="rtl",r=this.submenuController.isExpanded();return Qn`
      <div
        id="anchor"
        part="base"
        class=${ec({"menu-item":!0,"menu-item--rtl":n,"menu-item--checked":this.checked,"menu-item--disabled":this.disabled,"menu-item--loading":this.loading,"menu-item--has-submenu":this.isSubmenu(),"menu-item--submenu-expanded":r})}
        ?aria-haspopup="${this.isSubmenu()}"
        ?aria-expanded="${!!r}"
      >
        <span part="checked-icon" class="menu-item__check">
          <sl-icon name="check" library="system" aria-hidden="true"></sl-icon>
        </span>

        <slot name="prefix" part="prefix" class="menu-item__prefix"></slot>

        <slot part="label" class="menu-item__label" @slotchange=${this.handleDefaultSlotChange}></slot>

        <slot name="suffix" part="suffix" class="menu-item__suffix"></slot>

        <span part="submenu-icon" class="menu-item__chevron">
          <sl-icon name=${n?"chevron-left":"chevron-right"} library="system" aria-hidden="true"></sl-icon>
        </span>

        ${this.submenuController.renderSubmenu()}
        ${this.loading?Qn` <sl-spinner part="spinner" exportparts="base:spinner__base"></sl-spinner> `:""}
      </div>
    `}};vs.styles=u5;vs.dependencies={"sl-icon":Aa,"sl-popup":Ci,"sl-spinner":my};Kt([Po("slot:not([name])")],vs.prototype,"defaultSlot",2);Kt([Po(".menu-item")],vs.prototype,"menuItem",2);Kt([ve()],vs.prototype,"type",2);Kt([ve({type:Boolean,reflect:!0})],vs.prototype,"checked",2);Kt([ve()],vs.prototype,"value",2);Kt([ve({type:Boolean,reflect:!0})],vs.prototype,"loading",2);Kt([ve({type:Boolean,reflect:!0})],vs.prototype,"disabled",2);Kt([Ks("checked")],vs.prototype,"handleCheckedChange",1);Kt([Ks("disabled")],vs.prototype,"handleDisabledChange",1);Kt([Ks("type")],vs.prototype,"handleTypeChange",1);vs.define("sl-menu-item");my.define("sl-spinner");var b5=Xs`
  ${Ra}

  :host {
    --indicator-color: var(--sl-color-primary-600);
    --track-color: var(--sl-color-neutral-200);
    --track-width: 2px;

    display: block;
  }

  .tab-group {
    display: flex;
    border-radius: 0;
  }

  .tab-group__tabs {
    display: flex;
    position: relative;
  }

  .tab-group__indicator {
    position: absolute;
    transition:
      var(--sl-transition-fast) translate ease,
      var(--sl-transition-fast) width ease;
  }

  .tab-group--has-scroll-controls .tab-group__nav-container {
    position: relative;
    padding: 0 var(--sl-spacing-x-large);
  }

  .tab-group__body {
    display: block;
    overflow: auto;
  }

  .tab-group__scroll-button {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 0;
    bottom: 0;
    width: var(--sl-spacing-x-large);
  }

  .tab-group__scroll-button--start {
    left: 0;
  }

  .tab-group__scroll-button--end {
    right: 0;
  }

  .tab-group--rtl .tab-group__scroll-button--start {
    left: auto;
    right: 0;
  }

  .tab-group--rtl .tab-group__scroll-button--end {
    left: 0;
    right: auto;
  }

  /*
   * Top
   */

  .tab-group--top {
    flex-direction: column;
  }

  .tab-group--top .tab-group__nav-container {
    order: 1;
  }

  .tab-group--top .tab-group__nav {
    display: flex;
    overflow-x: auto;

    /* Hide scrollbar in Firefox */
    scrollbar-width: none;
  }

  /* Hide scrollbar in Chrome/Safari */
  .tab-group--top .tab-group__nav::-webkit-scrollbar {
    width: 0;
    height: 0;
  }

  .tab-group--top .tab-group__tabs {
    flex: 1 1 auto;
    position: relative;
    flex-direction: row;
    border-bottom: solid var(--track-width) var(--track-color);
  }

  .tab-group--top .tab-group__indicator {
    bottom: calc(-1 * var(--track-width));
    border-bottom: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--top .tab-group__body {
    order: 2;
  }

  .tab-group--top ::slotted(sl-tab-panel) {
    --padding: var(--sl-spacing-medium) 0;
  }

  /*
   * Bottom
   */

  .tab-group--bottom {
    flex-direction: column;
  }

  .tab-group--bottom .tab-group__nav-container {
    order: 2;
  }

  .tab-group--bottom .tab-group__nav {
    display: flex;
    overflow-x: auto;

    /* Hide scrollbar in Firefox */
    scrollbar-width: none;
  }

  /* Hide scrollbar in Chrome/Safari */
  .tab-group--bottom .tab-group__nav::-webkit-scrollbar {
    width: 0;
    height: 0;
  }

  .tab-group--bottom .tab-group__tabs {
    flex: 1 1 auto;
    position: relative;
    flex-direction: row;
    border-top: solid var(--track-width) var(--track-color);
  }

  .tab-group--bottom .tab-group__indicator {
    top: calc(-1 * var(--track-width));
    border-top: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--bottom .tab-group__body {
    order: 1;
  }

  .tab-group--bottom ::slotted(sl-tab-panel) {
    --padding: var(--sl-spacing-medium) 0;
  }

  /*
   * Start
   */

  .tab-group--start {
    flex-direction: row;
  }

  .tab-group--start .tab-group__nav-container {
    order: 1;
  }

  .tab-group--start .tab-group__tabs {
    flex: 0 0 auto;
    flex-direction: column;
    border-inline-end: solid var(--track-width) var(--track-color);
  }

  .tab-group--start .tab-group__indicator {
    right: calc(-1 * var(--track-width));
    border-right: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--start.tab-group--rtl .tab-group__indicator {
    right: auto;
    left: calc(-1 * var(--track-width));
  }

  .tab-group--start .tab-group__body {
    flex: 1 1 auto;
    order: 2;
  }

  .tab-group--start ::slotted(sl-tab-panel) {
    --padding: 0 var(--sl-spacing-medium);
  }

  /*
   * End
   */

  .tab-group--end {
    flex-direction: row;
  }

  .tab-group--end .tab-group__nav-container {
    order: 2;
  }

  .tab-group--end .tab-group__tabs {
    flex: 0 0 auto;
    flex-direction: column;
    border-left: solid var(--track-width) var(--track-color);
  }

  .tab-group--end .tab-group__indicator {
    left: calc(-1 * var(--track-width));
    border-inline-start: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--end.tab-group--rtl .tab-group__indicator {
    right: calc(-1 * var(--track-width));
    left: auto;
  }

  .tab-group--end .tab-group__body {
    flex: 1 1 auto;
    order: 1;
  }

  .tab-group--end ::slotted(sl-tab-panel) {
    --padding: 0 var(--sl-spacing-medium);
  }
`;function w5(n,r){return{top:Math.round(n.getBoundingClientRect().top-r.getBoundingClientRect().top),left:Math.round(n.getBoundingClientRect().left-r.getBoundingClientRect().left)}}function _2(n,r,t="vertical",o="smooth"){const l=w5(n,r),u=l.top+r.scrollTop,d=l.left+r.scrollLeft,f=r.scrollLeft,m=r.scrollLeft+r.offsetWidth,v=r.scrollTop,_=r.scrollTop+r.offsetHeight;(t==="horizontal"||t==="both")&&(d<f?r.scrollTo({left:d,behavior:o}):d+n.clientWidth>m&&r.scrollTo({left:d-r.offsetWidth+n.clientWidth,behavior:o})),(t==="vertical"||t==="both")&&(u<v?r.scrollTo({top:u,behavior:o}):u+n.clientHeight>_&&r.scrollTo({top:u-r.offsetHeight+n.clientHeight,behavior:o}))}var x5=Xs`
  ${Ra}

  :host {
    display: inline-block;
    color: var(--sl-color-neutral-600);
  }

  .icon-button {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    background: none;
    border: none;
    border-radius: var(--sl-border-radius-medium);
    font-size: inherit;
    color: inherit;
    padding: var(--sl-spacing-x-small);
    cursor: pointer;
    transition: var(--sl-transition-x-fast) color;
    -webkit-appearance: none;
  }

  .icon-button:hover:not(.icon-button--disabled),
  .icon-button:focus-visible:not(.icon-button--disabled) {
    color: var(--sl-color-primary-600);
  }

  .icon-button:active:not(.icon-button--disabled) {
    color: var(--sl-color-primary-700);
  }

  .icon-button:focus {
    outline: none;
  }

  .icon-button--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .icon-button:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .icon-button__icon {
    pointer-events: none;
  }
`,Xo=class extends Mo{constructor(){super(...arguments),this.hasFocus=!1,this.label="",this.disabled=!1}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleClick(n){this.disabled&&(n.preventDefault(),n.stopPropagation())}click(){this.button.click()}focus(n){this.button.focus(n)}blur(){this.button.blur()}render(){const n=!!this.href,r=n?k0`a`:k0`button`;return o0`
      <${r}
        part="base"
        class=${ec({"icon-button":!0,"icon-button--disabled":!n&&this.disabled,"icon-button--focused":this.hasFocus})}
        ?disabled=${Sn(n?void 0:this.disabled)}
        type=${Sn(n?void 0:"button")}
        href=${Sn(n?this.href:void 0)}
        target=${Sn(n?this.target:void 0)}
        download=${Sn(n?this.download:void 0)}
        rel=${Sn(n&&this.target?"noreferrer noopener":void 0)}
        role=${Sn(n?void 0:"button")}
        aria-disabled=${this.disabled?"true":"false"}
        aria-label="${this.label}"
        tabindex=${this.disabled?"-1":"0"}
        @blur=${this.handleBlur}
        @focus=${this.handleFocus}
        @click=${this.handleClick}
      >
        <sl-icon
          class="icon-button__icon"
          name=${Sn(this.name)}
          library=${Sn(this.library)}
          src=${Sn(this.src)}
          aria-hidden="true"
        ></sl-icon>
      </${r}>
    `}};Xo.styles=x5;Xo.dependencies={"sl-icon":Aa};Kt([Po(".icon-button")],Xo.prototype,"button",2);Kt([Wg()],Xo.prototype,"hasFocus",2);Kt([ve()],Xo.prototype,"name",2);Kt([ve()],Xo.prototype,"library",2);Kt([ve()],Xo.prototype,"src",2);Kt([ve()],Xo.prototype,"href",2);Kt([ve()],Xo.prototype,"target",2);Kt([ve()],Xo.prototype,"download",2);Kt([ve()],Xo.prototype,"label",2);Kt([ve({type:Boolean,reflect:!0})],Xo.prototype,"disabled",2);var ys=class extends Mo{constructor(){super(...arguments),this.localize=new yp(this),this.tabs=[],this.panels=[],this.hasScrollControls=!1,this.placement="top",this.activation="auto",this.noScrollControls=!1}connectedCallback(){const n=Promise.all([customElements.whenDefined("sl-tab"),customElements.whenDefined("sl-tab-panel")]);super.connectedCallback(),this.resizeObserver=new ResizeObserver(()=>{this.repositionIndicator(),this.updateScrollControls()}),this.mutationObserver=new MutationObserver(r=>{r.some(t=>!["aria-labelledby","aria-controls"].includes(t.attributeName))&&setTimeout(()=>this.setAriaLabels()),r.some(t=>t.attributeName==="disabled")&&this.syncTabsAndPanels()}),this.updateComplete.then(()=>{this.syncTabsAndPanels(),this.mutationObserver.observe(this,{attributes:!0,childList:!0,subtree:!0}),this.resizeObserver.observe(this.nav),n.then(()=>{new IntersectionObserver((t,o)=>{var l;t[0].intersectionRatio>0&&(this.setAriaLabels(),this.setActiveTab((l=this.getActiveTab())!=null?l:this.tabs[0],{emitEvents:!1}),o.unobserve(t[0].target))}).observe(this.tabGroup)})})}disconnectedCallback(){super.disconnectedCallback(),this.mutationObserver.disconnect(),this.resizeObserver.unobserve(this.nav)}getAllTabs(n={includeDisabled:!0}){return[...this.shadowRoot.querySelector('slot[name="nav"]').assignedElements()].filter(t=>n.includeDisabled?t.tagName.toLowerCase()==="sl-tab":t.tagName.toLowerCase()==="sl-tab"&&!t.disabled)}getAllPanels(){return[...this.body.assignedElements()].filter(n=>n.tagName.toLowerCase()==="sl-tab-panel")}getActiveTab(){return this.tabs.find(n=>n.active)}handleClick(n){const t=n.target.closest("sl-tab");(t==null?void 0:t.closest("sl-tab-group"))===this&&t!==null&&this.setActiveTab(t,{scrollBehavior:"smooth"})}handleKeyDown(n){const t=n.target.closest("sl-tab");if((t==null?void 0:t.closest("sl-tab-group"))===this&&(["Enter"," "].includes(n.key)&&t!==null&&(this.setActiveTab(t,{scrollBehavior:"smooth"}),n.preventDefault()),["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(n.key))){const l=this.tabs.find(d=>d.matches(":focus")),u=this.localize.dir()==="rtl";if((l==null?void 0:l.tagName.toLowerCase())==="sl-tab"){let d=this.tabs.indexOf(l);n.key==="Home"?d=0:n.key==="End"?d=this.tabs.length-1:["top","bottom"].includes(this.placement)&&n.key===(u?"ArrowRight":"ArrowLeft")||["start","end"].includes(this.placement)&&n.key==="ArrowUp"?d--:(["top","bottom"].includes(this.placement)&&n.key===(u?"ArrowLeft":"ArrowRight")||["start","end"].includes(this.placement)&&n.key==="ArrowDown")&&d++,d<0&&(d=this.tabs.length-1),d>this.tabs.length-1&&(d=0),this.tabs[d].focus({preventScroll:!0}),this.activation==="auto"&&this.setActiveTab(this.tabs[d],{scrollBehavior:"smooth"}),["top","bottom"].includes(this.placement)&&_2(this.tabs[d],this.nav,"horizontal"),n.preventDefault()}}}handleScrollToStart(){this.nav.scroll({left:this.localize.dir()==="rtl"?this.nav.scrollLeft+this.nav.clientWidth:this.nav.scrollLeft-this.nav.clientWidth,behavior:"smooth"})}handleScrollToEnd(){this.nav.scroll({left:this.localize.dir()==="rtl"?this.nav.scrollLeft-this.nav.clientWidth:this.nav.scrollLeft+this.nav.clientWidth,behavior:"smooth"})}setActiveTab(n,r){if(r=du({emitEvents:!0,scrollBehavior:"auto"},r),n!==this.activeTab&&!n.disabled){const t=this.activeTab;this.activeTab=n,this.tabs.forEach(o=>o.active=o===this.activeTab),this.panels.forEach(o=>{var l;return o.active=o.name===((l=this.activeTab)==null?void 0:l.panel)}),this.syncIndicator(),["top","bottom"].includes(this.placement)&&_2(this.activeTab,this.nav,"horizontal",r.scrollBehavior),r.emitEvents&&(t&&this.emit("sl-tab-hide",{detail:{name:t.panel}}),this.emit("sl-tab-show",{detail:{name:this.activeTab.panel}}))}}setAriaLabels(){this.tabs.forEach(n=>{const r=this.panels.find(t=>t.name===n.panel);r&&(n.setAttribute("aria-controls",r.getAttribute("id")),r.setAttribute("aria-labelledby",n.getAttribute("id")))})}repositionIndicator(){const n=this.getActiveTab();if(!n)return;const r=n.clientWidth,t=n.clientHeight,o=this.localize.dir()==="rtl",l=this.getAllTabs(),d=l.slice(0,l.indexOf(n)).reduce((f,m)=>({left:f.left+m.clientWidth,top:f.top+m.clientHeight}),{left:0,top:0});switch(this.placement){case"top":case"bottom":this.indicator.style.width=`${r}px`,this.indicator.style.height="auto",this.indicator.style.translate=o?`${-1*d.left}px`:`${d.left}px`;break;case"start":case"end":this.indicator.style.width="auto",this.indicator.style.height=`${t}px`,this.indicator.style.translate=`0 ${d.top}px`;break}}syncTabsAndPanels(){this.tabs=this.getAllTabs({includeDisabled:!1}),this.panels=this.getAllPanels(),this.syncIndicator(),this.updateComplete.then(()=>this.updateScrollControls())}updateScrollControls(){this.noScrollControls?this.hasScrollControls=!1:this.hasScrollControls=["top","bottom"].includes(this.placement)&&this.nav.scrollWidth>this.nav.clientWidth}syncIndicator(){this.getActiveTab()?(this.indicator.style.display="block",this.repositionIndicator()):this.indicator.style.display="none"}show(n){const r=this.tabs.find(t=>t.panel===n);r&&this.setActiveTab(r,{scrollBehavior:"smooth"})}render(){const n=this.localize.dir()==="rtl";return Qn`
      <div
        part="base"
        class=${ec({"tab-group":!0,"tab-group--top":this.placement==="top","tab-group--bottom":this.placement==="bottom","tab-group--start":this.placement==="start","tab-group--end":this.placement==="end","tab-group--rtl":this.localize.dir()==="rtl","tab-group--has-scroll-controls":this.hasScrollControls})}
        @click=${this.handleClick}
        @keydown=${this.handleKeyDown}
      >
        <div class="tab-group__nav-container" part="nav">
          ${this.hasScrollControls?Qn`
                <sl-icon-button
                  part="scroll-button scroll-button--start"
                  exportparts="base:scroll-button__base"
                  class="tab-group__scroll-button tab-group__scroll-button--start"
                  name=${n?"chevron-right":"chevron-left"}
                  library="system"
                  label=${this.localize.term("scrollToStart")}
                  @click=${this.handleScrollToStart}
                ></sl-icon-button>
              `:""}

          <div class="tab-group__nav">
            <div part="tabs" class="tab-group__tabs" role="tablist">
              <div part="active-tab-indicator" class="tab-group__indicator"></div>
              <slot name="nav" @slotchange=${this.syncTabsAndPanels}></slot>
            </div>
          </div>

          ${this.hasScrollControls?Qn`
                <sl-icon-button
                  part="scroll-button scroll-button--end"
                  exportparts="base:scroll-button__base"
                  class="tab-group__scroll-button tab-group__scroll-button--end"
                  name=${n?"chevron-left":"chevron-right"}
                  library="system"
                  label=${this.localize.term("scrollToEnd")}
                  @click=${this.handleScrollToEnd}
                ></sl-icon-button>
              `:""}
        </div>

        <slot part="body" class="tab-group__body" @slotchange=${this.syncTabsAndPanels}></slot>
      </div>
    `}};ys.styles=b5;ys.dependencies={"sl-icon-button":Xo};Kt([Po(".tab-group")],ys.prototype,"tabGroup",2);Kt([Po(".tab-group__body")],ys.prototype,"body",2);Kt([Po(".tab-group__nav")],ys.prototype,"nav",2);Kt([Po(".tab-group__indicator")],ys.prototype,"indicator",2);Kt([Wg()],ys.prototype,"hasScrollControls",2);Kt([ve()],ys.prototype,"placement",2);Kt([ve()],ys.prototype,"activation",2);Kt([ve({attribute:"no-scroll-controls",type:Boolean})],ys.prototype,"noScrollControls",2);Kt([Ks("noScrollControls",{waitUntilFirstUpdate:!0})],ys.prototype,"updateScrollControls",1);Kt([Ks("placement",{waitUntilFirstUpdate:!0})],ys.prototype,"syncIndicator",1);ys.define("sl-tab-group");var _5=Xs`
  ${Ra}

  :host {
    --padding: 0;

    display: none;
  }

  :host([active]) {
    display: block;
  }

  .tab-panel {
    display: block;
    padding: var(--padding);
  }
`,k5=0,Xg=class extends Mo{constructor(){super(...arguments),this.attrId=++k5,this.componentId=`sl-tab-panel-${this.attrId}`,this.name="",this.active=!1}connectedCallback(){super.connectedCallback(),this.id=this.id.length>0?this.id:this.componentId,this.setAttribute("role","tabpanel")}handleActiveChange(){this.setAttribute("aria-hidden",this.active?"false":"true")}render(){return Qn`
      <slot
        part="base"
        class=${ec({"tab-panel":!0,"tab-panel--active":this.active})}
      ></slot>
    `}};Xg.styles=_5;Kt([ve({reflect:!0})],Xg.prototype,"name",2);Kt([ve({type:Boolean,reflect:!0})],Xg.prototype,"active",2);Kt([Ks("active")],Xg.prototype,"handleActiveChange",1);Xg.define("sl-tab-panel");var E5=Xs`
  ${Ra}

  :host {
    display: inline-block;
  }

  .tab {
    display: inline-flex;
    align-items: center;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-small);
    font-weight: var(--sl-font-weight-semibold);
    border-radius: var(--sl-border-radius-medium);
    color: var(--sl-color-neutral-600);
    padding: var(--sl-spacing-medium) var(--sl-spacing-large);
    white-space: nowrap;
    user-select: none;
    -webkit-user-select: none;
    cursor: pointer;
    transition:
      var(--transition-speed) box-shadow,
      var(--transition-speed) color;
  }

  .tab:hover:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab:focus {
    outline: none;
  }

  .tab:focus-visible:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: calc(-1 * var(--sl-focus-ring-width) - var(--sl-focus-ring-offset));
  }

  .tab.tab--active:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab.tab--closable {
    padding-inline-end: var(--sl-spacing-small);
  }

  .tab.tab--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .tab__close-button {
    font-size: var(--sl-font-size-small);
    margin-inline-start: var(--sl-spacing-small);
  }

  .tab__close-button::part(base) {
    padding: var(--sl-spacing-3x-small);
  }

  @media (forced-colors: active) {
    .tab.tab--active:not(.tab--disabled) {
      outline: solid 1px transparent;
      outline-offset: -3px;
    }
  }
`,T5=0,fl=class extends Mo{constructor(){super(...arguments),this.localize=new yp(this),this.attrId=++T5,this.componentId=`sl-tab-${this.attrId}`,this.panel="",this.active=!1,this.closable=!1,this.disabled=!1}connectedCallback(){super.connectedCallback(),this.setAttribute("role","tab")}handleCloseClick(n){n.stopPropagation(),this.emit("sl-close")}handleActiveChange(){this.setAttribute("aria-selected",this.active?"true":"false")}handleDisabledChange(){this.setAttribute("aria-disabled",this.disabled?"true":"false")}focus(n){this.tab.focus(n)}blur(){this.tab.blur()}render(){return this.id=this.id.length>0?this.id:this.componentId,Qn`
      <div
        part="base"
        class=${ec({tab:!0,"tab--active":this.active,"tab--closable":this.closable,"tab--disabled":this.disabled})}
        tabindex=${this.disabled?"-1":"0"}
      >
        <slot></slot>
        ${this.closable?Qn`
              <sl-icon-button
                part="close-button"
                exportparts="base:close-button__base"
                name="x-lg"
                library="system"
                label=${this.localize.term("close")}
                class="tab__close-button"
                @click=${this.handleCloseClick}
                tabindex="-1"
              ></sl-icon-button>
            `:""}
      </div>
    `}};fl.styles=E5;fl.dependencies={"sl-icon-button":Xo};Kt([Po(".tab")],fl.prototype,"tab",2);Kt([ve({reflect:!0})],fl.prototype,"panel",2);Kt([ve({type:Boolean,reflect:!0})],fl.prototype,"active",2);Kt([ve({type:Boolean})],fl.prototype,"closable",2);Kt([ve({type:Boolean,reflect:!0})],fl.prototype,"disabled",2);Kt([Ks("active")],fl.prototype,"handleActiveChange",1);Kt([Ks("disabled")],fl.prototype,"handleDisabledChange",1);fl.define("sl-tab");const S5=["href"],C5={key:1,class:"text-gray-500"},P5={key:2,class:"mx-2 text-gray-500"},M5=ms({__name:"Breadcrumbs.ce",setup(n){const r=Ne(null),t=Vr(()=>{var l;return(l=r==null?void 0:r.value)==null?void 0:l.parentNode});ri(t,l=>{l.children[1].classList.remove("sticky")});const o=Ne();return hu(()=>{var d;let l=location.pathname,u=((d=window.config)==null?void 0:d.baseurl)||"";o.value=[...l.split("/").filter(f=>f).slice(u==null?void 0:u.split("/").filter(f=>f).length).map((f,m,v)=>({name:f,path:u+"/"+v.slice(0,m+1).join("/")}))]}),(l,u)=>{var d;return Oe(),De("div",{class:"inline-flex items-center gap-1 w-full flex-wrap leading-6",ref_key:"root",ref:r},[((d=o.value)==null?void 0:d.length)>1?(Oe(!0),De(on,{key:0},ah(o.value,(f,m)=>(Oe(),De(on,{key:f.path},[m<o.value.length-1?(Oe(),De("a",{key:0,href:f.path,class:"text-[#0645ad] hover:underline"},m0(f.name),9,S5)):(Oe(),De("span",C5,m0(f.name),1)),m<o.value.length-1?(Oe(),De("span",P5," > ")):gi("",!0)],64))),128)):gi("",!0)],512)}}}),I5=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}ez-header ul,ez-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}
`,Oa=(n,r)=>{const t=n.__vccOpts||n;for(const[o,l]of r)t[o]=l;return t},L5=Oa(M5,[["styles",[I5]]]);class nn{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(r,t=!1){return this.onePassHasher.start().appendStr(r).end(t)}static hashAsciiStr(r,t=!1){return this.onePassHasher.start().appendAsciiStr(r).end(t)}static _hex(r){const t=nn.hexChars,o=nn.hexOut;let l,u,d,f;for(f=0;f<4;f+=1)for(u=f*8,l=r[f],d=0;d<8;d+=2)o[u+1+d]=t.charAt(l&15),l>>>=4,o[u+0+d]=t.charAt(l&15),l>>>=4;return o.join("")}static _md5cycle(r,t){let o=r[0],l=r[1],u=r[2],d=r[3];o+=(l&u|~l&d)+t[0]-680876936|0,o=(o<<7|o>>>25)+l|0,d+=(o&l|~o&u)+t[1]-389564586|0,d=(d<<12|d>>>20)+o|0,u+=(d&o|~d&l)+t[2]+606105819|0,u=(u<<17|u>>>15)+d|0,l+=(u&d|~u&o)+t[3]-1044525330|0,l=(l<<22|l>>>10)+u|0,o+=(l&u|~l&d)+t[4]-176418897|0,o=(o<<7|o>>>25)+l|0,d+=(o&l|~o&u)+t[5]+1200080426|0,d=(d<<12|d>>>20)+o|0,u+=(d&o|~d&l)+t[6]-1473231341|0,u=(u<<17|u>>>15)+d|0,l+=(u&d|~u&o)+t[7]-45705983|0,l=(l<<22|l>>>10)+u|0,o+=(l&u|~l&d)+t[8]+1770035416|0,o=(o<<7|o>>>25)+l|0,d+=(o&l|~o&u)+t[9]-1958414417|0,d=(d<<12|d>>>20)+o|0,u+=(d&o|~d&l)+t[10]-42063|0,u=(u<<17|u>>>15)+d|0,l+=(u&d|~u&o)+t[11]-1990404162|0,l=(l<<22|l>>>10)+u|0,o+=(l&u|~l&d)+t[12]+1804603682|0,o=(o<<7|o>>>25)+l|0,d+=(o&l|~o&u)+t[13]-40341101|0,d=(d<<12|d>>>20)+o|0,u+=(d&o|~d&l)+t[14]-1502002290|0,u=(u<<17|u>>>15)+d|0,l+=(u&d|~u&o)+t[15]+1236535329|0,l=(l<<22|l>>>10)+u|0,o+=(l&d|u&~d)+t[1]-165796510|0,o=(o<<5|o>>>27)+l|0,d+=(o&u|l&~u)+t[6]-1069501632|0,d=(d<<9|d>>>23)+o|0,u+=(d&l|o&~l)+t[11]+643717713|0,u=(u<<14|u>>>18)+d|0,l+=(u&o|d&~o)+t[0]-373897302|0,l=(l<<20|l>>>12)+u|0,o+=(l&d|u&~d)+t[5]-701558691|0,o=(o<<5|o>>>27)+l|0,d+=(o&u|l&~u)+t[10]+38016083|0,d=(d<<9|d>>>23)+o|0,u+=(d&l|o&~l)+t[15]-660478335|0,u=(u<<14|u>>>18)+d|0,l+=(u&o|d&~o)+t[4]-405537848|0,l=(l<<20|l>>>12)+u|0,o+=(l&d|u&~d)+t[9]+568446438|0,o=(o<<5|o>>>27)+l|0,d+=(o&u|l&~u)+t[14]-1019803690|0,d=(d<<9|d>>>23)+o|0,u+=(d&l|o&~l)+t[3]-187363961|0,u=(u<<14|u>>>18)+d|0,l+=(u&o|d&~o)+t[8]+1163531501|0,l=(l<<20|l>>>12)+u|0,o+=(l&d|u&~d)+t[13]-1444681467|0,o=(o<<5|o>>>27)+l|0,d+=(o&u|l&~u)+t[2]-51403784|0,d=(d<<9|d>>>23)+o|0,u+=(d&l|o&~l)+t[7]+1735328473|0,u=(u<<14|u>>>18)+d|0,l+=(u&o|d&~o)+t[12]-1926607734|0,l=(l<<20|l>>>12)+u|0,o+=(l^u^d)+t[5]-378558|0,o=(o<<4|o>>>28)+l|0,d+=(o^l^u)+t[8]-2022574463|0,d=(d<<11|d>>>21)+o|0,u+=(d^o^l)+t[11]+1839030562|0,u=(u<<16|u>>>16)+d|0,l+=(u^d^o)+t[14]-35309556|0,l=(l<<23|l>>>9)+u|0,o+=(l^u^d)+t[1]-1530992060|0,o=(o<<4|o>>>28)+l|0,d+=(o^l^u)+t[4]+1272893353|0,d=(d<<11|d>>>21)+o|0,u+=(d^o^l)+t[7]-155497632|0,u=(u<<16|u>>>16)+d|0,l+=(u^d^o)+t[10]-1094730640|0,l=(l<<23|l>>>9)+u|0,o+=(l^u^d)+t[13]+681279174|0,o=(o<<4|o>>>28)+l|0,d+=(o^l^u)+t[0]-358537222|0,d=(d<<11|d>>>21)+o|0,u+=(d^o^l)+t[3]-722521979|0,u=(u<<16|u>>>16)+d|0,l+=(u^d^o)+t[6]+76029189|0,l=(l<<23|l>>>9)+u|0,o+=(l^u^d)+t[9]-640364487|0,o=(o<<4|o>>>28)+l|0,d+=(o^l^u)+t[12]-421815835|0,d=(d<<11|d>>>21)+o|0,u+=(d^o^l)+t[15]+530742520|0,u=(u<<16|u>>>16)+d|0,l+=(u^d^o)+t[2]-995338651|0,l=(l<<23|l>>>9)+u|0,o+=(u^(l|~d))+t[0]-198630844|0,o=(o<<6|o>>>26)+l|0,d+=(l^(o|~u))+t[7]+1126891415|0,d=(d<<10|d>>>22)+o|0,u+=(o^(d|~l))+t[14]-1416354905|0,u=(u<<15|u>>>17)+d|0,l+=(d^(u|~o))+t[5]-57434055|0,l=(l<<21|l>>>11)+u|0,o+=(u^(l|~d))+t[12]+1700485571|0,o=(o<<6|o>>>26)+l|0,d+=(l^(o|~u))+t[3]-1894986606|0,d=(d<<10|d>>>22)+o|0,u+=(o^(d|~l))+t[10]-1051523|0,u=(u<<15|u>>>17)+d|0,l+=(d^(u|~o))+t[1]-2054922799|0,l=(l<<21|l>>>11)+u|0,o+=(u^(l|~d))+t[8]+1873313359|0,o=(o<<6|o>>>26)+l|0,d+=(l^(o|~u))+t[15]-30611744|0,d=(d<<10|d>>>22)+o|0,u+=(o^(d|~l))+t[6]-1560198380|0,u=(u<<15|u>>>17)+d|0,l+=(d^(u|~o))+t[13]+1309151649|0,l=(l<<21|l>>>11)+u|0,o+=(u^(l|~d))+t[4]-145523070|0,o=(o<<6|o>>>26)+l|0,d+=(l^(o|~u))+t[11]-1120210379|0,d=(d<<10|d>>>22)+o|0,u+=(o^(d|~l))+t[2]+718787259|0,u=(u<<15|u>>>17)+d|0,l+=(d^(u|~o))+t[9]-343485551|0,l=(l<<21|l>>>11)+u|0,r[0]=o+r[0]|0,r[1]=l+r[1]|0,r[2]=u+r[2]|0,r[3]=d+r[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(nn.stateIdentity),this}appendStr(r){const t=this._buffer8,o=this._buffer32;let l=this._bufferLength,u,d;for(d=0;d<r.length;d+=1){if(u=r.charCodeAt(d),u<128)t[l++]=u;else if(u<2048)t[l++]=(u>>>6)+192,t[l++]=u&63|128;else if(u<55296||u>56319)t[l++]=(u>>>12)+224,t[l++]=u>>>6&63|128,t[l++]=u&63|128;else{if(u=(u-55296)*1024+(r.charCodeAt(++d)-56320)+65536,u>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");t[l++]=(u>>>18)+240,t[l++]=u>>>12&63|128,t[l++]=u>>>6&63|128,t[l++]=u&63|128}l>=64&&(this._dataLength+=64,nn._md5cycle(this._state,o),l-=64,o[0]=o[16])}return this._bufferLength=l,this}appendAsciiStr(r){const t=this._buffer8,o=this._buffer32;let l=this._bufferLength,u,d=0;for(;;){for(u=Math.min(r.length-d,64-l);u--;)t[l++]=r.charCodeAt(d++);if(l<64)break;this._dataLength+=64,nn._md5cycle(this._state,o),l=0}return this._bufferLength=l,this}appendByteArray(r){const t=this._buffer8,o=this._buffer32;let l=this._bufferLength,u,d=0;for(;;){for(u=Math.min(r.length-d,64-l);u--;)t[l++]=r[d++];if(l<64)break;this._dataLength+=64,nn._md5cycle(this._state,o),l=0}return this._bufferLength=l,this}getState(){const r=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[r[0],r[1],r[2],r[3]]}}setState(r){const t=r.buffer,o=r.state,l=this._state;let u;for(this._dataLength=r.length,this._bufferLength=r.buflen,l[0]=o[0],l[1]=o[1],l[2]=o[2],l[3]=o[3],u=0;u<t.length;u+=1)this._buffer8[u]=t.charCodeAt(u)}end(r=!1){const t=this._bufferLength,o=this._buffer8,l=this._buffer32,u=(t>>2)+1;this._dataLength+=t;const d=this._dataLength*8;if(o[t]=128,o[t+1]=o[t+2]=o[t+3]=0,l.set(nn.buffer32Identity.subarray(u),u),t>55&&(nn._md5cycle(this._state,l),l.set(nn.buffer32Identity)),d<=4294967295)l[14]=d;else{const f=d.toString(16).match(/(.*?)(.{0,8})$/);if(f===null)return;const m=parseInt(f[2],16),v=parseInt(f[1],16)||0;l[14]=m,l[15]=v}return nn._md5cycle(this._state,l),r?this._state:nn._hex(this._state)}}nn.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]);nn.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);nn.hexChars="0123456789abcdef";nn.hexOut=[];nn.onePassHasher=new nn;if(nn.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592")throw new Error("Md5 self test failed.");/*
 * Component
 * @version: 1.3.0
 * @author: HtmlStream
 * @license: Licensed under MIT (https://preline.co/docs/license.html)
 * Copyright 2023 Htmlstream
 */class oC{constructor(r,t){this.$collection=[],this.selector=r,this.config=t,this.events={}}_fireEvent(r,t=null){this.events.hasOwnProperty(r)&&this.events[r](t)}_dispatch(r,t,o=null){const l=new CustomEvent(r,{detail:{payload:o},bubbles:!0,cancelable:!0,composed:!1});t.dispatchEvent(l)}on(r,t){this.events[r]=t}afterTransition(r,t){const o=()=>{t(),r.removeEventListener("transitionend",o,!0)};window.getComputedStyle(r,null).getPropertyValue("transition")!=="all 0s ease 0s"?r.addEventListener("transitionend",o,!0):t()}getClassProperty(r,t,o=""){return(window.getComputedStyle(r).getPropertyValue(t)||o).replace(" ","")}}var Wo="top",Zs="bottom",Ys="right",Zo="left",sx="auto",Kg=[Wo,Zs,Ys,Zo],sp="start",Eg="end",R5="clippingParents",sC="viewport",Vf="popper",A5="reference",k2=Kg.reduce(function(n,r){return n.concat([r+"-"+sp,r+"-"+Eg])},[]),aC=[].concat(Kg,[sx]).reduce(function(n,r){return n.concat([r,r+"-"+sp,r+"-"+Eg])},[]),O5="beforeRead",z5="read",N5="afterRead",D5="beforeMain",F5="main",B5="afterMain",j5="beforeWrite",H5="write",U5="afterWrite",G5=[O5,z5,N5,D5,F5,B5,j5,H5,U5];function hl(n){return n?(n.nodeName||"").toLowerCase():null}function fs(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var r=n.ownerDocument;return r&&r.defaultView||window}return n}function mh(n){var r=fs(n).Element;return n instanceof r||n instanceof Element}function Vs(n){var r=fs(n).HTMLElement;return n instanceof r||n instanceof HTMLElement}function ax(n){if(typeof ShadowRoot>"u")return!1;var r=fs(n).ShadowRoot;return n instanceof r||n instanceof ShadowRoot}function q5(n){var r=n.state;Object.keys(r.elements).forEach(function(t){var o=r.styles[t]||{},l=r.attributes[t]||{},u=r.elements[t];!Vs(u)||!hl(u)||(Object.assign(u.style,o),Object.keys(l).forEach(function(d){var f=l[d];f===!1?u.removeAttribute(d):u.setAttribute(d,f===!0?"":f)}))})}function V5(n){var r=n.state,t={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(r.elements.popper.style,t.popper),r.styles=t,r.elements.arrow&&Object.assign(r.elements.arrow.style,t.arrow),function(){Object.keys(r.elements).forEach(function(o){var l=r.elements[o],u=r.attributes[o]||{},d=Object.keys(r.styles.hasOwnProperty(o)?r.styles[o]:t[o]),f=d.reduce(function(m,v){return m[v]="",m},{});!Vs(l)||!hl(l)||(Object.assign(l.style,f),Object.keys(u).forEach(function(m){l.removeAttribute(m)}))})}}const W5={name:"applyStyles",enabled:!0,phase:"write",fn:q5,effect:V5,requires:["computeStyles"]};function ll(n){return n.split("-")[0]}var ch=Math.max,P0=Math.min,ap=Math.round;function i1(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(r){return r.brand+"/"+r.version}).join(" "):navigator.userAgent}function lC(){return!/^((?!chrome|android).)*safari/i.test(i1())}function lp(n,r,t){r===void 0&&(r=!1),t===void 0&&(t=!1);var o=n.getBoundingClientRect(),l=1,u=1;r&&Vs(n)&&(l=n.offsetWidth>0&&ap(o.width)/n.offsetWidth||1,u=n.offsetHeight>0&&ap(o.height)/n.offsetHeight||1);var d=mh(n)?fs(n):window,f=d.visualViewport,m=!lC()&&t,v=(o.left+(m&&f?f.offsetLeft:0))/l,_=(o.top+(m&&f?f.offsetTop:0))/u,k=o.width/l,C=o.height/u;return{width:k,height:C,top:_,right:v+k,bottom:_+C,left:v,x:v,y:_}}function lx(n){var r=lp(n),t=n.offsetWidth,o=n.offsetHeight;return Math.abs(r.width-t)<=1&&(t=r.width),Math.abs(r.height-o)<=1&&(o=r.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:o}}function cC(n,r){var t=r.getRootNode&&r.getRootNode();if(n.contains(r))return!0;if(t&&ax(t)){var o=r;do{if(o&&n.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function ic(n){return fs(n).getComputedStyle(n)}function Z5(n){return["table","td","th"].indexOf(hl(n))>=0}function pu(n){return((mh(n)?n.ownerDocument:n.document)||window.document).documentElement}function by(n){return hl(n)==="html"?n:n.assignedSlot||n.parentNode||(ax(n)?n.host:null)||pu(n)}function E2(n){return!Vs(n)||ic(n).position==="fixed"?null:n.offsetParent}function Y5(n){var r=/firefox/i.test(i1()),t=/Trident/i.test(i1());if(t&&Vs(n)){var o=ic(n);if(o.position==="fixed")return null}var l=by(n);for(ax(l)&&(l=l.host);Vs(l)&&["html","body"].indexOf(hl(l))<0;){var u=ic(l);if(u.transform!=="none"||u.perspective!=="none"||u.contain==="paint"||["transform","perspective"].indexOf(u.willChange)!==-1||r&&u.willChange==="filter"||r&&u.filter&&u.filter!=="none")return l;l=l.parentNode}return null}function Jg(n){for(var r=fs(n),t=E2(n);t&&Z5(t)&&ic(t).position==="static";)t=E2(t);return t&&(hl(t)==="html"||hl(t)==="body"&&ic(t).position==="static")?r:t||Y5(n)||r}function cx(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function cg(n,r,t){return ch(n,P0(r,t))}function X5(n,r,t){var o=cg(n,r,t);return o>t?t:o}function uC(){return{top:0,right:0,bottom:0,left:0}}function hC(n){return Object.assign({},uC(),n)}function dC(n,r){return r.reduce(function(t,o){return t[o]=n,t},{})}var K5=function(r,t){return r=typeof r=="function"?r(Object.assign({},t.rects,{placement:t.placement})):r,hC(typeof r!="number"?r:dC(r,Kg))};function J5(n){var r,t=n.state,o=n.name,l=n.options,u=t.elements.arrow,d=t.modifiersData.popperOffsets,f=ll(t.placement),m=cx(f),v=[Zo,Ys].indexOf(f)>=0,_=v?"height":"width";if(!(!u||!d)){var k=K5(l.padding,t),C=lx(u),M=m==="y"?Wo:Zo,A=m==="y"?Zs:Ys,F=t.rects.reference[_]+t.rects.reference[m]-d[m]-t.rects.popper[_],U=d[m]-t.rects.reference[m],j=Jg(u),J=j?m==="y"?j.clientHeight||0:j.clientWidth||0:0,H=F/2-U/2,V=k[M],ot=J-C[_]-k[A],ft=J/2-C[_]/2+H,ht=cg(V,ft,ot),ct=m;t.modifiersData[o]=(r={},r[ct]=ht,r.centerOffset=ht-ft,r)}}function Q5(n){var r=n.state,t=n.options,o=t.element,l=o===void 0?"[data-popper-arrow]":o;l!=null&&(typeof l=="string"&&(l=r.elements.popper.querySelector(l),!l)||cC(r.elements.popper,l)&&(r.elements.arrow=l))}const $5={name:"arrow",enabled:!0,phase:"main",fn:J5,effect:Q5,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function cp(n){return n.split("-")[1]}var tz={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ez(n,r){var t=n.x,o=n.y,l=r.devicePixelRatio||1;return{x:ap(t*l)/l||0,y:ap(o*l)/l||0}}function T2(n){var r,t=n.popper,o=n.popperRect,l=n.placement,u=n.variation,d=n.offsets,f=n.position,m=n.gpuAcceleration,v=n.adaptive,_=n.roundOffsets,k=n.isFixed,C=d.x,M=C===void 0?0:C,A=d.y,F=A===void 0?0:A,U=typeof _=="function"?_({x:M,y:F}):{x:M,y:F};M=U.x,F=U.y;var j=d.hasOwnProperty("x"),J=d.hasOwnProperty("y"),H=Zo,V=Wo,ot=window;if(v){var ft=Jg(t),ht="clientHeight",ct="clientWidth";if(ft===fs(t)&&(ft=pu(t),ic(ft).position!=="static"&&f==="absolute"&&(ht="scrollHeight",ct="scrollWidth")),ft=ft,l===Wo||(l===Zo||l===Ys)&&u===Eg){V=Zs;var Z=k&&ft===ot&&ot.visualViewport?ot.visualViewport.height:ft[ht];F-=Z-o.height,F*=m?1:-1}if(l===Zo||(l===Wo||l===Zs)&&u===Eg){H=Ys;var lt=k&&ft===ot&&ot.visualViewport?ot.visualViewport.width:ft[ct];M-=lt-o.width,M*=m?1:-1}}var ut=Object.assign({position:f},v&&tz),mt=_===!0?ez({x:M,y:F},fs(t)):{x:M,y:F};if(M=mt.x,F=mt.y,m){var re;return Object.assign({},ut,(re={},re[V]=J?"0":"",re[H]=j?"0":"",re.transform=(ot.devicePixelRatio||1)<=1?"translate("+M+"px, "+F+"px)":"translate3d("+M+"px, "+F+"px, 0)",re))}return Object.assign({},ut,(r={},r[V]=J?F+"px":"",r[H]=j?M+"px":"",r.transform="",r))}function rz(n){var r=n.state,t=n.options,o=t.gpuAcceleration,l=o===void 0?!0:o,u=t.adaptive,d=u===void 0?!0:u,f=t.roundOffsets,m=f===void 0?!0:f,v={placement:ll(r.placement),variation:cp(r.placement),popper:r.elements.popper,popperRect:r.rects.popper,gpuAcceleration:l,isFixed:r.options.strategy==="fixed"};r.modifiersData.popperOffsets!=null&&(r.styles.popper=Object.assign({},r.styles.popper,T2(Object.assign({},v,{offsets:r.modifiersData.popperOffsets,position:r.options.strategy,adaptive:d,roundOffsets:m})))),r.modifiersData.arrow!=null&&(r.styles.arrow=Object.assign({},r.styles.arrow,T2(Object.assign({},v,{offsets:r.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:m})))),r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-placement":r.placement})}const iz={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:rz,data:{}};var Nv={passive:!0};function nz(n){var r=n.state,t=n.instance,o=n.options,l=o.scroll,u=l===void 0?!0:l,d=o.resize,f=d===void 0?!0:d,m=fs(r.elements.popper),v=[].concat(r.scrollParents.reference,r.scrollParents.popper);return u&&v.forEach(function(_){_.addEventListener("scroll",t.update,Nv)}),f&&m.addEventListener("resize",t.update,Nv),function(){u&&v.forEach(function(_){_.removeEventListener("scroll",t.update,Nv)}),f&&m.removeEventListener("resize",t.update,Nv)}}const oz={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:nz,data:{}};var sz={left:"right",right:"left",bottom:"top",top:"bottom"};function a0(n){return n.replace(/left|right|bottom|top/g,function(r){return sz[r]})}var az={start:"end",end:"start"};function S2(n){return n.replace(/start|end/g,function(r){return az[r]})}function ux(n){var r=fs(n),t=r.pageXOffset,o=r.pageYOffset;return{scrollLeft:t,scrollTop:o}}function hx(n){return lp(pu(n)).left+ux(n).scrollLeft}function lz(n,r){var t=fs(n),o=pu(n),l=t.visualViewport,u=o.clientWidth,d=o.clientHeight,f=0,m=0;if(l){u=l.width,d=l.height;var v=lC();(v||!v&&r==="fixed")&&(f=l.offsetLeft,m=l.offsetTop)}return{width:u,height:d,x:f+hx(n),y:m}}function cz(n){var r,t=pu(n),o=ux(n),l=(r=n.ownerDocument)==null?void 0:r.body,u=ch(t.scrollWidth,t.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),d=ch(t.scrollHeight,t.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),f=-o.scrollLeft+hx(n),m=-o.scrollTop;return ic(l||t).direction==="rtl"&&(f+=ch(t.clientWidth,l?l.clientWidth:0)-u),{width:u,height:d,x:f,y:m}}function dx(n){var r=ic(n),t=r.overflow,o=r.overflowX,l=r.overflowY;return/auto|scroll|overlay|hidden/.test(t+l+o)}function pC(n){return["html","body","#document"].indexOf(hl(n))>=0?n.ownerDocument.body:Vs(n)&&dx(n)?n:pC(by(n))}function ug(n,r){var t;r===void 0&&(r=[]);var o=pC(n),l=o===((t=n.ownerDocument)==null?void 0:t.body),u=fs(o),d=l?[u].concat(u.visualViewport||[],dx(o)?o:[]):o,f=r.concat(d);return l?f:f.concat(ug(by(d)))}function n1(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function uz(n,r){var t=lp(n,!1,r==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function C2(n,r,t){return r===sC?n1(lz(n,t)):mh(r)?uz(r,t):n1(cz(pu(n)))}function hz(n){var r=ug(by(n)),t=["absolute","fixed"].indexOf(ic(n).position)>=0,o=t&&Vs(n)?Jg(n):n;return mh(o)?r.filter(function(l){return mh(l)&&cC(l,o)&&hl(l)!=="body"}):[]}function dz(n,r,t,o){var l=r==="clippingParents"?hz(n):[].concat(r),u=[].concat(l,[t]),d=u[0],f=u.reduce(function(m,v){var _=C2(n,v,o);return m.top=ch(_.top,m.top),m.right=P0(_.right,m.right),m.bottom=P0(_.bottom,m.bottom),m.left=ch(_.left,m.left),m},C2(n,d,o));return f.width=f.right-f.left,f.height=f.bottom-f.top,f.x=f.left,f.y=f.top,f}function fC(n){var r=n.reference,t=n.element,o=n.placement,l=o?ll(o):null,u=o?cp(o):null,d=r.x+r.width/2-t.width/2,f=r.y+r.height/2-t.height/2,m;switch(l){case Wo:m={x:d,y:r.y-t.height};break;case Zs:m={x:d,y:r.y+r.height};break;case Ys:m={x:r.x+r.width,y:f};break;case Zo:m={x:r.x-t.width,y:f};break;default:m={x:r.x,y:r.y}}var v=l?cx(l):null;if(v!=null){var _=v==="y"?"height":"width";switch(u){case sp:m[v]=m[v]-(r[_]/2-t[_]/2);break;case Eg:m[v]=m[v]+(r[_]/2-t[_]/2);break}}return m}function Tg(n,r){r===void 0&&(r={});var t=r,o=t.placement,l=o===void 0?n.placement:o,u=t.strategy,d=u===void 0?n.strategy:u,f=t.boundary,m=f===void 0?R5:f,v=t.rootBoundary,_=v===void 0?sC:v,k=t.elementContext,C=k===void 0?Vf:k,M=t.altBoundary,A=M===void 0?!1:M,F=t.padding,U=F===void 0?0:F,j=hC(typeof U!="number"?U:dC(U,Kg)),J=C===Vf?A5:Vf,H=n.rects.popper,V=n.elements[A?J:C],ot=dz(mh(V)?V:V.contextElement||pu(n.elements.popper),m,_,d),ft=lp(n.elements.reference),ht=fC({reference:ft,element:H,strategy:"absolute",placement:l}),ct=n1(Object.assign({},H,ht)),Z=C===Vf?ct:ft,lt={top:ot.top-Z.top+j.top,bottom:Z.bottom-ot.bottom+j.bottom,left:ot.left-Z.left+j.left,right:Z.right-ot.right+j.right},ut=n.modifiersData.offset;if(C===Vf&&ut){var mt=ut[l];Object.keys(lt).forEach(function(re){var ne=[Ys,Zs].indexOf(re)>=0?1:-1,ye=[Wo,Zs].indexOf(re)>=0?"y":"x";lt[re]+=mt[ye]*ne})}return lt}function pz(n,r){r===void 0&&(r={});var t=r,o=t.placement,l=t.boundary,u=t.rootBoundary,d=t.padding,f=t.flipVariations,m=t.allowedAutoPlacements,v=m===void 0?aC:m,_=cp(o),k=_?f?k2:k2.filter(function(A){return cp(A)===_}):Kg,C=k.filter(function(A){return v.indexOf(A)>=0});C.length===0&&(C=k);var M=C.reduce(function(A,F){return A[F]=Tg(n,{placement:F,boundary:l,rootBoundary:u,padding:d})[ll(F)],A},{});return Object.keys(M).sort(function(A,F){return M[A]-M[F]})}function fz(n){if(ll(n)===sx)return[];var r=a0(n);return[S2(n),r,S2(r)]}function gz(n){var r=n.state,t=n.options,o=n.name;if(!r.modifiersData[o]._skip){for(var l=t.mainAxis,u=l===void 0?!0:l,d=t.altAxis,f=d===void 0?!0:d,m=t.fallbackPlacements,v=t.padding,_=t.boundary,k=t.rootBoundary,C=t.altBoundary,M=t.flipVariations,A=M===void 0?!0:M,F=t.allowedAutoPlacements,U=r.options.placement,j=ll(U),J=j===U,H=m||(J||!A?[a0(U)]:fz(U)),V=[U].concat(H).reduce(function(Ce,le){return Ce.concat(ll(le)===sx?pz(r,{placement:le,boundary:_,rootBoundary:k,padding:v,flipVariations:A,allowedAutoPlacements:F}):le)},[]),ot=r.rects.reference,ft=r.rects.popper,ht=new Map,ct=!0,Z=V[0],lt=0;lt<V.length;lt++){var ut=V[lt],mt=ll(ut),re=cp(ut)===sp,ne=[Wo,Zs].indexOf(mt)>=0,ye=ne?"width":"height",Bt=Tg(r,{placement:ut,boundary:_,rootBoundary:k,altBoundary:C,padding:v}),pe=ne?re?Ys:Zo:re?Zs:Wo;ot[ye]>ft[ye]&&(pe=a0(pe));var Jt=a0(pe),Wt=[];if(u&&Wt.push(Bt[mt]<=0),f&&Wt.push(Bt[pe]<=0,Bt[Jt]<=0),Wt.every(function(Ce){return Ce})){Z=ut,ct=!1;break}ht.set(ut,Wt)}if(ct)for(var Et=A?3:1,qt=function(le){var ue=V.find(function(er){var Ut=ht.get(er);if(Ut)return Ut.slice(0,le).every(function(Gt){return Gt})});if(ue)return Z=ue,"break"},Zt=Et;Zt>0;Zt--){var fe=qt(Zt);if(fe==="break")break}r.placement!==Z&&(r.modifiersData[o]._skip=!0,r.placement=Z,r.reset=!0)}}const mz={name:"flip",enabled:!0,phase:"main",fn:gz,requiresIfExists:["offset"],data:{_skip:!1}};function P2(n,r,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-r.height-t.y,right:n.right-r.width+t.x,bottom:n.bottom-r.height+t.y,left:n.left-r.width-t.x}}function M2(n){return[Wo,Ys,Zs,Zo].some(function(r){return n[r]>=0})}function vz(n){var r=n.state,t=n.name,o=r.rects.reference,l=r.rects.popper,u=r.modifiersData.preventOverflow,d=Tg(r,{elementContext:"reference"}),f=Tg(r,{altBoundary:!0}),m=P2(d,o),v=P2(f,l,u),_=M2(m),k=M2(v);r.modifiersData[t]={referenceClippingOffsets:m,popperEscapeOffsets:v,isReferenceHidden:_,hasPopperEscaped:k},r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-reference-hidden":_,"data-popper-escaped":k})}const yz={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:vz};function bz(n,r,t){var o=ll(n),l=[Zo,Wo].indexOf(o)>=0?-1:1,u=typeof t=="function"?t(Object.assign({},r,{placement:n})):t,d=u[0],f=u[1];return d=d||0,f=(f||0)*l,[Zo,Ys].indexOf(o)>=0?{x:f,y:d}:{x:d,y:f}}function wz(n){var r=n.state,t=n.options,o=n.name,l=t.offset,u=l===void 0?[0,0]:l,d=aC.reduce(function(_,k){return _[k]=bz(k,r.rects,u),_},{}),f=d[r.placement],m=f.x,v=f.y;r.modifiersData.popperOffsets!=null&&(r.modifiersData.popperOffsets.x+=m,r.modifiersData.popperOffsets.y+=v),r.modifiersData[o]=d}const xz={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:wz};function _z(n){var r=n.state,t=n.name;r.modifiersData[t]=fC({reference:r.rects.reference,element:r.rects.popper,strategy:"absolute",placement:r.placement})}const kz={name:"popperOffsets",enabled:!0,phase:"read",fn:_z,data:{}};function Ez(n){return n==="x"?"y":"x"}function Tz(n){var r=n.state,t=n.options,o=n.name,l=t.mainAxis,u=l===void 0?!0:l,d=t.altAxis,f=d===void 0?!1:d,m=t.boundary,v=t.rootBoundary,_=t.altBoundary,k=t.padding,C=t.tether,M=C===void 0?!0:C,A=t.tetherOffset,F=A===void 0?0:A,U=Tg(r,{boundary:m,rootBoundary:v,padding:k,altBoundary:_}),j=ll(r.placement),J=cp(r.placement),H=!J,V=cx(j),ot=Ez(V),ft=r.modifiersData.popperOffsets,ht=r.rects.reference,ct=r.rects.popper,Z=typeof F=="function"?F(Object.assign({},r.rects,{placement:r.placement})):F,lt=typeof Z=="number"?{mainAxis:Z,altAxis:Z}:Object.assign({mainAxis:0,altAxis:0},Z),ut=r.modifiersData.offset?r.modifiersData.offset[r.placement]:null,mt={x:0,y:0};if(ft){if(u){var re,ne=V==="y"?Wo:Zo,ye=V==="y"?Zs:Ys,Bt=V==="y"?"height":"width",pe=ft[V],Jt=pe+U[ne],Wt=pe-U[ye],Et=M?-ct[Bt]/2:0,qt=J===sp?ht[Bt]:ct[Bt],Zt=J===sp?-ct[Bt]:-ht[Bt],fe=r.elements.arrow,Ce=M&&fe?lx(fe):{width:0,height:0},le=r.modifiersData["arrow#persistent"]?r.modifiersData["arrow#persistent"].padding:uC(),ue=le[ne],er=le[ye],Ut=cg(0,ht[Bt],Ce[Bt]),Gt=H?ht[Bt]/2-Et-Ut-ue-lt.mainAxis:qt-Ut-ue-lt.mainAxis,Yt=H?-ht[Bt]/2+Et+Ut+er+lt.mainAxis:Zt+Ut+er+lt.mainAxis,Xt=r.elements.arrow&&Jg(r.elements.arrow),nt=Xt?V==="y"?Xt.clientTop||0:Xt.clientLeft||0:0,pt=(re=ut==null?void 0:ut[V])!=null?re:0,vt=pe+Gt-pt-nt,O=pe+Yt-pt,Y=cg(M?P0(Jt,vt):Jt,pe,M?ch(Wt,O):Wt);ft[V]=Y,mt[V]=Y-pe}if(f){var dt,_t=V==="x"?Wo:Zo,wt=V==="x"?Zs:Ys,Ot=ft[ot],xt=ot==="y"?"height":"width",te=Ot+U[_t],ae=Ot-U[wt],he=[Wo,Zo].indexOf(j)!==-1,se=(dt=ut==null?void 0:ut[ot])!=null?dt:0,Ie=he?te:Ot-ht[xt]-ct[xt]-se+lt.altAxis,Pe=he?Ot+ht[xt]+ct[xt]-se-lt.altAxis:ae,We=M&&he?X5(Ie,Ot,Pe):cg(M?Ie:te,Ot,M?Pe:ae);ft[ot]=We,mt[ot]=We-Ot}r.modifiersData[o]=mt}}const Sz={name:"preventOverflow",enabled:!0,phase:"main",fn:Tz,requiresIfExists:["offset"]};function Cz(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function Pz(n){return n===fs(n)||!Vs(n)?ux(n):Cz(n)}function Mz(n){var r=n.getBoundingClientRect(),t=ap(r.width)/n.offsetWidth||1,o=ap(r.height)/n.offsetHeight||1;return t!==1||o!==1}function Iz(n,r,t){t===void 0&&(t=!1);var o=Vs(r),l=Vs(r)&&Mz(r),u=pu(r),d=lp(n,l,t),f={scrollLeft:0,scrollTop:0},m={x:0,y:0};return(o||!o&&!t)&&((hl(r)!=="body"||dx(u))&&(f=Pz(r)),Vs(r)?(m=lp(r,!0),m.x+=r.clientLeft,m.y+=r.clientTop):u&&(m.x=hx(u))),{x:d.left+f.scrollLeft-m.x,y:d.top+f.scrollTop-m.y,width:d.width,height:d.height}}function Lz(n){var r=new Map,t=new Set,o=[];n.forEach(function(u){r.set(u.name,u)});function l(u){t.add(u.name);var d=[].concat(u.requires||[],u.requiresIfExists||[]);d.forEach(function(f){if(!t.has(f)){var m=r.get(f);m&&l(m)}}),o.push(u)}return n.forEach(function(u){t.has(u.name)||l(u)}),o}function Rz(n){var r=Lz(n);return G5.reduce(function(t,o){return t.concat(r.filter(function(l){return l.phase===o}))},[])}function Az(n){var r;return function(){return r||(r=new Promise(function(t){Promise.resolve().then(function(){r=void 0,t(n())})})),r}}function Oz(n){var r=n.reduce(function(t,o){var l=t[o.name];return t[o.name]=l?Object.assign({},l,o,{options:Object.assign({},l.options,o.options),data:Object.assign({},l.data,o.data)}):o,t},{});return Object.keys(r).map(function(t){return r[t]})}var I2={placement:"bottom",modifiers:[],strategy:"absolute"};function L2(){for(var n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];return!r.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function zz(n){n===void 0&&(n={});var r=n,t=r.defaultModifiers,o=t===void 0?[]:t,l=r.defaultOptions,u=l===void 0?I2:l;return function(f,m,v){v===void 0&&(v=u);var _={placement:"bottom",orderedModifiers:[],options:Object.assign({},I2,u),modifiersData:{},elements:{reference:f,popper:m},attributes:{},styles:{}},k=[],C=!1,M={state:_,setOptions:function(j){var J=typeof j=="function"?j(_.options):j;F(),_.options=Object.assign({},u,_.options,J),_.scrollParents={reference:mh(f)?ug(f):f.contextElement?ug(f.contextElement):[],popper:ug(m)};var H=Rz(Oz([].concat(o,_.options.modifiers)));return _.orderedModifiers=H.filter(function(V){return V.enabled}),A(),M.update()},forceUpdate:function(){if(!C){var j=_.elements,J=j.reference,H=j.popper;if(L2(J,H)){_.rects={reference:Iz(J,Jg(H),_.options.strategy==="fixed"),popper:lx(H)},_.reset=!1,_.placement=_.options.placement,_.orderedModifiers.forEach(function(lt){return _.modifiersData[lt.name]=Object.assign({},lt.data)});for(var V=0;V<_.orderedModifiers.length;V++){if(_.reset===!0){_.reset=!1,V=-1;continue}var ot=_.orderedModifiers[V],ft=ot.fn,ht=ot.options,ct=ht===void 0?{}:ht,Z=ot.name;typeof ft=="function"&&(_=ft({state:_,options:ct,name:Z,instance:M})||_)}}}},update:Az(function(){return new Promise(function(U){M.forceUpdate(),U(_)})}),destroy:function(){F(),C=!0}};if(!L2(f,m))return M;M.setOptions(v).then(function(U){!C&&v.onFirstUpdate&&v.onFirstUpdate(U)});function A(){_.orderedModifiers.forEach(function(U){var j=U.name,J=U.options,H=J===void 0?{}:J,V=U.effect;if(typeof V=="function"){var ot=V({state:_,name:j,instance:M,options:H}),ft=function(){};k.push(ot||ft)}})}function F(){k.forEach(function(U){return U()}),k=[]}return M}}var Nz=[oz,kz,iz,W5,xz,mz,Sz,$5,yz],yw=zz({defaultModifiers:Nz});/*
* HSTooltips
* @version: 1.4.0
* @author: HtmlStream
* @requires: @popperjs/core ^2.11.2
* @license: Licensed under MIT (https://preline.co/docs/license.html)
* Copyright 2023 Htmlstream
*/class gC extends oC{constructor(t){super(".hs-tooltip");ci(this,"root");this.root=t}init(){var t;(t=this.root)==null||t.addEventListener("click",o=>{const u=o.target.closest(this.selector);u&&this.getClassProperty(u,"--trigger")==="focus"&&this._focus(u),u&&this.getClassProperty(u,"--trigger")==="click"&&this._click(u)}),this.root.addEventListener("mousemove",o=>{const u=o.target.closest(this.selector);u&&this.getClassProperty(u,"--trigger")!=="focus"&&this.getClassProperty(u,"--trigger")!=="click"&&this._hover(u)})}_hover(t){if(t.classList.contains("show"))return;const o=t.querySelector(".hs-tooltip-toggle"),l=t.querySelector(".hs-tooltip-content"),u=this.getClassProperty(t,"--placement");yw(o,l,{placement:u||"top",strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]}),this.show(t);const d=f=>{f.relatedTarget.closest(this.selector)&&f.relatedTarget.closest(this.selector)==t||(this.hide(t),t.removeEventListener("mouseleave",d,!0))};t.addEventListener("mouseleave",d,!0)}_focus(t){const o=t.querySelector(".hs-tooltip-toggle"),l=t.querySelector(".hs-tooltip-content"),u=this.getClassProperty(t,"--placement"),d=this.getClassProperty(t,"--strategy");yw(o,l,{placement:u||"top",strategy:d||"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]}),this.show(t);const f=()=>{this.hide(t),t.removeEventListener("blur",f,!0)};t.addEventListener("blur",f,!0)}_click(t){if(t.classList.contains("show"))return;const o=t.querySelector(".hs-tooltip-toggle"),l=t.querySelector(".hs-tooltip-content"),u=this.getClassProperty(t,"--placement"),d=this.getClassProperty(t,"--strategy");yw(o,l,{placement:u||"top",strategy:d||"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]}),this.show(t);const f=m=>{setTimeout(()=>{this.hide(t),t.removeEventListener("click",f,!0),t.removeEventListener("blur",f,!0)})};t.addEventListener("blur",f,!0),t.addEventListener("click",f,!0)}show(t){t.querySelector(".hs-tooltip-content").classList.remove("hidden"),setTimeout(()=>{t.classList.add("show"),this._fireEvent("show",t),this._dispatch("show.hs.tooltip",t,t)})}hide(t){const o=t.querySelector(".hs-tooltip-content");t.classList.remove("show"),this._fireEvent("hide",t),this._dispatch("hide.hs.tooltip",t,t),this.afterTransition(o,()=>{t.classList.contains("show")||o.classList.add("hidden")})}}const Dz={class:"hs-tooltip-toggle block text-center",href:"javascript:;",title:"Click for more information"},Fz=["innerHTML"],Bz={class:"hs-tooltip-content z-30 hs-tooltip-shown:opacity-100 hs-tooltip-shown:visible hidden opacity-0 transition-opacity absolute invisible max-w-xs bg-white border border-gray-100 text-left rounded-lg shadow-md dark:bg-gray-800 dark:border-gray-700",role:"tooltip"},jz={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},Hz=["src"],Uz={class:"p-4 md:p-5"},Gz={class:"text-lg font-bold text-gray-800 dark:text-white"},qz={class:"mt-1 text-gray-800 dark:text-gray-400"},Vz={class:"mt-5 text-xs text-gray-500 dark:text-gray-500"},Wz=["href"],Zz=Qt("img",{class:"max-w-[24px]",src:"https://upload.wikimedia.org/wikipedia/commons/7/77/Wikipedia_svg_logo.svg"},null,-1),Yz=Qt("span",{class:"ml-1"},"Wikipedia",-1),Xz=[Zz,Yz],Kz=ms({__name:"EntityInfobox.ce",props:{qid:{type:String},label:{type:String},description:{type:String},language:{type:String,default:"en"}},setup(n){const r=n;ri(r,()=>{d.value=r.qid});const t=Ne(null),o=Vr(()=>{var A,F;return(F=(A=t.value)==null?void 0:A.getRootNode())==null?void 0:F.host}),l=Vr(()=>{var A;return(A=o.value)==null?void 0:A.textContent}),u=Vr(()=>{var A;return(A=t==null?void 0:t.value)==null?void 0:A.parentNode});ri(u,()=>{new gC(u.value).init()});const d=Ne(r.qid);ri(d,()=>{C(d.value)});const f=Ne({}),m=Vr(()=>d.value&&f.value[d.value]),v=Vr(()=>{var A,F,U;return(U=(F=(A=m.value)==null?void 0:A.labels)==null?void 0:F[r.language])==null?void 0:U.value}),_=Vr(()=>{var A,F,U;return(U=(F=(A=m.value)==null?void 0:A.descriptions)==null?void 0:F[r.language])==null?void 0:U.value}),k=Vr(()=>{var A;return m.value&&((A=m.value.sitelinks[`${r.language}wiki`])==null?void 0:A.url)});hu(()=>{C(d.value)});async function C(A){if(!A||f.value[A])return;let F=`https://www.wikidata.org/wiki/Special:EntityData/${A}.json`;const j=await(await fetch(F)).json();Object.values(j.entities).forEach(J=>{J.summaryText={},J.claims.P18&&(J.image=J.claims.P18[0].mainsnak.datavalue.value,J.thumbnail=M(J.image))}),f.value={...f.value,...j.entities}}function M(A,F=300){Array.isArray(A)&&(A=A[0]),A=A.split("/").pop(),A=decodeURIComponent(A).replace(/ /g,"_");const U=nn.hashStr(A),j=A.split(".").pop();let J=`https://upload.wikimedia.org/wikipedia/commons${F?"/thumb":""}`;return J+=`/${U.slice(0,1)}/${U.slice(0,2)}/${A}`,F&&(J+=`/${F}px-${A}`,j==="svg"?J+=".png":(j==="tif"||j==="tiff")&&(J+=".jpg")),J}return(A,F)=>{var U;return Oe(),De("div",{ref_key:"root",ref:t,class:"hs-tooltip inline-block [--trigger:click] [--placement:top]"},[Qt("a",Dz,[Qt("span",{innerHTML:l.value,class:"bg-yellow-100"},null,8,Fz),Qt("div",Bz,[Qt("div",jz,[Qt("img",{class:"w-full h-auto rounded-t-xl",src:(U=m.value)==null?void 0:U.thumbnail,alt:"Image Description"},null,8,Hz),Qt("div",Uz,[Qt("h3",Gz,m0(v.value),1),Qt("p",qz,m0(_.value),1),Qt("div",Vz,[Qt("a",{class:"inline-flex items-center gap-2 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all text-sm",target:"_blank",href:k.value},Xz,8,Wz)])])])])])],512)}}}),Jz=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}ez-header ul,ez-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}
`,Qz=Oa(Kz,[["styles",[Jz]]]);function px(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!1,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!1,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let kh=px();function mC(n){kh=n}const vC=/[&<>"']/,$z=new RegExp(vC.source,"g"),yC=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,tN=new RegExp(yC.source,"g"),eN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},R2=n=>eN[n];function so(n,r){if(r){if(vC.test(n))return n.replace($z,R2)}else if(yC.test(n))return n.replace(tN,R2);return n}const rN=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function bC(n){return n.replace(rN,(r,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const iN=/(^|[^\[])\^/g;function bi(n,r){n=typeof n=="string"?n:n.source,r=r||"";const t={replace:(o,l)=>(l=typeof l=="object"&&"source"in l?l.source:l,l=l.replace(iN,"$1"),n=n.replace(o,l),t),getRegex:()=>new RegExp(n,r)};return t}const nN=/[^\w:]/g,oN=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function A2(n,r,t){if(n){let o;try{o=decodeURIComponent(bC(t)).replace(nN,"").toLowerCase()}catch{return null}if(o.indexOf("javascript:")===0||o.indexOf("vbscript:")===0||o.indexOf("data:")===0)return null}r&&!oN.test(t)&&(t=cN(r,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const Dv={},sN=/^[^:]+:\/*[^/]*$/,aN=/^([^:]+:)[\s\S]*$/,lN=/^([^:]+:\/*[^/]*)[\s\S]*$/;function cN(n,r){Dv[" "+n]||(sN.test(n)?Dv[" "+n]=n+"/":Dv[" "+n]=l0(n,"/",!0)),n=Dv[" "+n];const t=n.indexOf(":")===-1;return r.substring(0,2)==="//"?t?r:n.replace(aN,"$1")+r:r.charAt(0)==="/"?t?r:n.replace(lN,"$1")+r:n+r}const M0={exec:()=>null};function O2(n,r){const t=n.replace(/\|/g,(u,d,f)=>{let m=!1,v=d;for(;--v>=0&&f[v]==="\\";)m=!m;return m?"|":" |"}),o=t.split(/ \|/);let l=0;if(o[0].trim()||o.shift(),o.length>0&&!o[o.length-1].trim()&&o.pop(),r)if(o.length>r)o.splice(r);else for(;o.length<r;)o.push("");for(;l<o.length;l++)o[l]=o[l].trim().replace(/\\\|/g,"|");return o}function l0(n,r,t){const o=n.length;if(o===0)return"";let l=0;for(;l<o;){const u=n.charAt(o-l-1);if(u===r&&!t)l++;else if(u!==r&&t)l++;else break}return n.slice(0,o-l)}function uN(n,r){if(n.indexOf(r[1])===-1)return-1;let t=0;for(let o=0;o<n.length;o++)if(n[o]==="\\")o++;else if(n[o]===r[0])t++;else if(n[o]===r[1]&&(t--,t<0))return o;return-1}function hN(n,r){!n||n.silent||(r&&console.warn("marked(): callback is deprecated since version 5.0.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/using_pro#async"),(n.sanitize||n.sanitizer)&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options"),(n.highlight||n.langPrefix!=="language-")&&console.warn("marked(): highlight and langPrefix parameters are deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-highlight."),n.mangle&&console.warn("marked(): mangle parameter is enabled by default, but is deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install https://www.npmjs.com/package/marked-mangle, or disable by setting `{mangle: false}`."),n.baseUrl&&console.warn("marked(): baseUrl parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-base-url."),n.smartypants&&console.warn("marked(): smartypants parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-smartypants."),n.xhtml&&console.warn("marked(): xhtml parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-xhtml."),(n.headerIds||n.headerPrefix)&&console.warn("marked(): headerIds and headerPrefix parameters enabled by default, but are deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install  https://www.npmjs.com/package/marked-gfm-heading-id, or disable by setting `{headerIds: false}`."))}function z2(n,r,t,o){const l=r.href,u=r.title?so(r.title):null,d=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){o.state.inLink=!0;const f={type:"link",raw:t,href:l,title:u,text:d,tokens:o.inlineTokens(d)};return o.state.inLink=!1,f}return{type:"image",raw:t,href:l,title:u,text:so(d)}}function dN(n,r){const t=n.match(/^(\s+)(?:```)/);if(t===null)return r;const o=t[1];return r.split(`
`).map(l=>{const u=l.match(/^\s+/);if(u===null)return l;const[d]=u;return d.length>=o.length?l.slice(o.length):l}).join(`
`)}class I0{constructor(r){ci(this,"options");ci(this,"rules");ci(this,"lexer");this.options=r||kh}space(r){const t=this.rules.block.newline.exec(r);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(r){const t=this.rules.block.code.exec(r);if(t){const o=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?o:l0(o,`
`)}}}fences(r){const t=this.rules.block.fences.exec(r);if(t){const o=t[0],l=dN(o,t[3]||"");return{type:"code",raw:o,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:l}}}heading(r){const t=this.rules.block.heading.exec(r);if(t){let o=t[2].trim();if(/#$/.test(o)){const l=l0(o,"#");(this.options.pedantic||!l||/ $/.test(l))&&(o=l.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:o,tokens:this.lexer.inline(o)}}}hr(r){const t=this.rules.block.hr.exec(r);if(t)return{type:"hr",raw:t[0]}}blockquote(r){const t=this.rules.block.blockquote.exec(r);if(t){const o=t[0].replace(/^ *>[ \t]?/gm,""),l=this.lexer.state.top;this.lexer.state.top=!0;const u=this.lexer.blockTokens(o);return this.lexer.state.top=l,{type:"blockquote",raw:t[0],tokens:u,text:o}}}list(r){let t=this.rules.block.list.exec(r);if(t){let o=t[1].trim();const l=o.length>1,u={type:"list",raw:"",ordered:l,start:l?+o.slice(0,-1):"",loose:!1,items:[]};o=l?`\\d{1,9}\\${o.slice(-1)}`:`\\${o}`,this.options.pedantic&&(o=l?o:"[*+-]");const d=new RegExp(`^( {0,3}${o})((?:[	 ][^\\n]*)?(?:\\n|$))`);let f="",m="",v=!1;for(;r;){let _=!1;if(!(t=d.exec(r))||this.rules.block.hr.test(r))break;f=t[0],r=r.substring(f.length);let k=t[2].split(`
`,1)[0].replace(/^\t+/,j=>" ".repeat(3*j.length)),C=r.split(`
`,1)[0],M=0;this.options.pedantic?(M=2,m=k.trimLeft()):(M=t[2].search(/[^ ]/),M=M>4?1:M,m=k.slice(M),M+=t[1].length);let A=!1;if(!k&&/^ *$/.test(C)&&(f+=C+`
`,r=r.substring(C.length+1),_=!0),!_){const j=new RegExp(`^ {0,${Math.min(3,M-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),J=new RegExp(`^ {0,${Math.min(3,M-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),H=new RegExp(`^ {0,${Math.min(3,M-1)}}(?:\`\`\`|~~~)`),V=new RegExp(`^ {0,${Math.min(3,M-1)}}#`);for(;r;){const ot=r.split(`
`,1)[0];if(C=ot,this.options.pedantic&&(C=C.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),H.test(C)||V.test(C)||j.test(C)||J.test(r))break;if(C.search(/[^ ]/)>=M||!C.trim())m+=`
`+C.slice(M);else{if(A||k.search(/[^ ]/)>=4||H.test(k)||V.test(k)||J.test(k))break;m+=`
`+C}!A&&!C.trim()&&(A=!0),f+=ot+`
`,r=r.substring(ot.length+1),k=C.slice(M)}}u.loose||(v?u.loose=!0:/\n *\n *$/.test(f)&&(v=!0));let F=null,U;this.options.gfm&&(F=/^\[[ xX]\] /.exec(m),F&&(U=F[0]!=="[ ] ",m=m.replace(/^\[[ xX]\] +/,""))),u.items.push({type:"list_item",raw:f,task:!!F,checked:U,loose:!1,text:m,tokens:[]}),u.raw+=f}u.items[u.items.length-1].raw=f.trimRight(),u.items[u.items.length-1].text=m.trimRight(),u.raw=u.raw.trimRight();for(let _=0;_<u.items.length;_++)if(this.lexer.state.top=!1,u.items[_].tokens=this.lexer.blockTokens(u.items[_].text,[]),!u.loose){const k=u.items[_].tokens.filter(M=>M.type==="space"),C=k.length>0&&k.some(M=>/\n.*\n/.test(M.raw));u.loose=C}if(u.loose)for(let _=0;_<u.items.length;_++)u.items[_].loose=!0;return u}}html(r){const t=this.rules.block.html.exec(r);if(t){const o={type:"html",block:!0,raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};if(this.options.sanitize){const l=this.options.sanitizer?this.options.sanitizer(t[0]):so(t[0]),u=o;u.type="paragraph",u.text=l,u.tokens=this.lexer.inline(l)}return o}}def(r){const t=this.rules.block.def.exec(r);if(t){const o=t[1].toLowerCase().replace(/\s+/g," "),l=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",u=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:o,raw:t[0],href:l,title:u}}}table(r){const t=this.rules.block.table.exec(r);if(t){const o={type:"table",raw:t[0],header:O2(t[1]).map(l=>({text:l,tokens:[]})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(o.header.length===o.align.length){let l=o.align.length,u,d,f,m;for(u=0;u<l;u++){const v=o.align[u];v&&(/^ *-+: *$/.test(v)?o.align[u]="right":/^ *:-+: *$/.test(v)?o.align[u]="center":/^ *:-+ *$/.test(v)?o.align[u]="left":o.align[u]=null)}for(l=o.rows.length,u=0;u<l;u++)o.rows[u]=O2(o.rows[u],o.header.length).map(v=>({text:v,tokens:[]}));for(l=o.header.length,d=0;d<l;d++)o.header[d].tokens=this.lexer.inline(o.header[d].text);for(l=o.rows.length,d=0;d<l;d++)for(m=o.rows[d],f=0;f<m.length;f++)m[f].tokens=this.lexer.inline(m[f].text);return o}}}lheading(r){const t=this.rules.block.lheading.exec(r);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(r){const t=this.rules.block.paragraph.exec(r);if(t){const o=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:o,tokens:this.lexer.inline(o)}}}text(r){const t=this.rules.block.text.exec(r);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(r){const t=this.rules.inline.escape.exec(r);if(t)return{type:"escape",raw:t[0],text:so(t[1])}}tag(r){const t=this.rules.inline.tag.exec(r);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):so(t[0]):t[0]}}link(r){const t=this.rules.inline.link.exec(r);if(t){const o=t[2].trim();if(!this.options.pedantic&&/^</.test(o)){if(!/>$/.test(o))return;const d=l0(o.slice(0,-1),"\\");if((o.length-d.length)%2===0)return}else{const d=uN(t[2],"()");if(d>-1){const m=(t[0].indexOf("!")===0?5:4)+t[1].length+d;t[2]=t[2].substring(0,d),t[0]=t[0].substring(0,m).trim(),t[3]=""}}let l=t[2],u="";if(this.options.pedantic){const d=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(l);d&&(l=d[1],u=d[3])}else u=t[3]?t[3].slice(1,-1):"";return l=l.trim(),/^</.test(l)&&(this.options.pedantic&&!/>$/.test(o)?l=l.slice(1):l=l.slice(1,-1)),z2(t,{href:l&&l.replace(this.rules.inline._escapes,"$1"),title:u&&u.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(r,t){let o;if((o=this.rules.inline.reflink.exec(r))||(o=this.rules.inline.nolink.exec(r))){let l=(o[2]||o[1]).replace(/\s+/g," ");if(l=t[l.toLowerCase()],!l){const u=o[0].charAt(0);return{type:"text",raw:u,text:u}}return z2(o,l,o[0],this.lexer)}}emStrong(r,t,o=""){let l=this.rules.inline.emStrong.lDelim.exec(r);if(!l||l[3]&&o.match(/[\p{L}\p{N}]/u))return;if(!(l[1]||l[2]||"")||!o||this.rules.inline.punctuation.exec(o)){const d=[...l[0]].length-1;let f,m,v=d,_=0;const k=l[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(k.lastIndex=0,t=t.slice(-1*r.length+d);(l=k.exec(t))!=null;){if(f=l[1]||l[2]||l[3]||l[4]||l[5]||l[6],!f)continue;if(m=[...f].length,l[3]||l[4]){v+=m;continue}else if((l[5]||l[6])&&d%3&&!((d+m)%3)){_+=m;continue}if(v-=m,v>0)continue;m=Math.min(m,m+v+_);const C=[...r].slice(0,d+l.index+m+1).join("");if(Math.min(d,m)%2){const A=C.slice(1,-1);return{type:"em",raw:C,text:A,tokens:this.lexer.inlineTokens(A)}}const M=C.slice(2,-2);return{type:"strong",raw:C,text:M,tokens:this.lexer.inlineTokens(M)}}}}codespan(r){const t=this.rules.inline.code.exec(r);if(t){let o=t[2].replace(/\n/g," ");const l=/[^ ]/.test(o),u=/^ /.test(o)&&/ $/.test(o);return l&&u&&(o=o.substring(1,o.length-1)),o=so(o,!0),{type:"codespan",raw:t[0],text:o}}}br(r){const t=this.rules.inline.br.exec(r);if(t)return{type:"br",raw:t[0]}}del(r){const t=this.rules.inline.del.exec(r);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(r,t){const o=this.rules.inline.autolink.exec(r);if(o){let l,u;return o[2]==="@"?(l=so(this.options.mangle?t(o[1]):o[1]),u="mailto:"+l):(l=so(o[1]),u=l),{type:"link",raw:o[0],text:l,href:u,tokens:[{type:"text",raw:l,text:l}]}}}url(r,t){let o;if(o=this.rules.inline.url.exec(r)){let l,u;if(o[2]==="@")l=so(this.options.mangle?t(o[0]):o[0]),u="mailto:"+l;else{let d;do d=o[0],o[0]=this.rules.inline._backpedal.exec(o[0])[0];while(d!==o[0]);l=so(o[0]),o[1]==="www."?u="http://"+o[0]:u=o[0]}return{type:"link",raw:o[0],text:l,href:u,tokens:[{type:"text",raw:l,text:l}]}}}inlineText(r,t){const o=this.rules.inline.text.exec(r);if(o){let l;return this.lexer.state.inRawBlock?l=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):so(o[0]):o[0]:l=so(this.options.smartypants?t(o[0]):o[0]),{type:"text",raw:o[0],text:l}}}}const Ze={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:M0,lheading:/^((?:(?!^bull ).|\n(?!\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Ze._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;Ze._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;Ze.def=bi(Ze.def).replace("label",Ze._label).replace("title",Ze._title).getRegex();Ze.bullet=/(?:[*+-]|\d{1,9}[.)])/;Ze.listItemStart=bi(/^( *)(bull) */).replace("bull",Ze.bullet).getRegex();Ze.list=bi(Ze.list).replace(/bull/g,Ze.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Ze.def.source+")").getRegex();Ze._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";Ze._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;Ze.html=bi(Ze.html,"i").replace("comment",Ze._comment).replace("tag",Ze._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();Ze.lheading=bi(Ze.lheading).replace(/bull/g,Ze.bullet).getRegex();Ze.paragraph=bi(Ze._paragraph).replace("hr",Ze.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ze._tag).getRegex();Ze.blockquote=bi(Ze.blockquote).replace("paragraph",Ze.paragraph).getRegex();Ze.normal={...Ze};Ze.gfm={...Ze.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};Ze.gfm.table=bi(Ze.gfm.table).replace("hr",Ze.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ze._tag).getRegex();Ze.gfm.paragraph=bi(Ze._paragraph).replace("hr",Ze.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Ze.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ze._tag).getRegex();Ze.pedantic={...Ze.normal,html:bi(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Ze._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:M0,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:bi(Ze.normal._paragraph).replace("hr",Ze.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ze.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const Se={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:M0,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:M0,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};Se._punctuation="\\p{P}$+<=>`^|~";Se.punctuation=bi(Se.punctuation,"u").replace(/punctuation/g,Se._punctuation).getRegex();Se.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;Se.anyPunctuation=/\\[punct]/g;Se._escapes=/\\([punct])/g;Se._comment=bi(Ze._comment).replace("(?:-->|$)","-->").getRegex();Se.emStrong.lDelim=bi(Se.emStrong.lDelim,"u").replace(/punct/g,Se._punctuation).getRegex();Se.emStrong.rDelimAst=bi(Se.emStrong.rDelimAst,"gu").replace(/punct/g,Se._punctuation).getRegex();Se.emStrong.rDelimUnd=bi(Se.emStrong.rDelimUnd,"gu").replace(/punct/g,Se._punctuation).getRegex();Se.anyPunctuation=bi(Se.anyPunctuation,"gu").replace(/punct/g,Se._punctuation).getRegex();Se._escapes=bi(Se._escapes,"gu").replace(/punct/g,Se._punctuation).getRegex();Se._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;Se._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;Se.autolink=bi(Se.autolink).replace("scheme",Se._scheme).replace("email",Se._email).getRegex();Se._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;Se.tag=bi(Se.tag).replace("comment",Se._comment).replace("attribute",Se._attribute).getRegex();Se._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;Se._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;Se._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;Se.link=bi(Se.link).replace("label",Se._label).replace("href",Se._href).replace("title",Se._title).getRegex();Se.reflink=bi(Se.reflink).replace("label",Se._label).replace("ref",Ze._label).getRegex();Se.nolink=bi(Se.nolink).replace("ref",Ze._label).getRegex();Se.reflinkSearch=bi(Se.reflinkSearch,"g").replace("reflink",Se.reflink).replace("nolink",Se.nolink).getRegex();Se.normal={...Se};Se.pedantic={...Se.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:bi(/^!?\[(label)\]\((.*?)\)/).replace("label",Se._label).getRegex(),reflink:bi(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Se._label).getRegex()};Se.gfm={...Se.normal,escape:bi(Se.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};Se.gfm.url=bi(Se.gfm.url,"i").replace("email",Se.gfm._extended_email).getRegex();Se.breaks={...Se.gfm,br:bi(Se.br).replace("{2,}","*").getRegex(),text:bi(Se.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function pN(n){return n.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function N2(n){let r="";for(let t=0;t<n.length;t++){const o=Math.random()>.5?"x"+n.charCodeAt(t).toString(16):n.charCodeAt(t).toString();r+="&#"+o+";"}return r}class sl{constructor(r){ci(this,"tokens");ci(this,"options");ci(this,"state");ci(this,"tokenizer");ci(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=r||kh,this.options.tokenizer=this.options.tokenizer||new I0,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Ze.normal,inline:Se.normal};this.options.pedantic?(t.block=Ze.pedantic,t.inline=Se.pedantic):this.options.gfm&&(t.block=Ze.gfm,this.options.breaks?t.inline=Se.breaks:t.inline=Se.gfm),this.tokenizer.rules=t}static get rules(){return{block:Ze,inline:Se}}static lex(r,t){return new sl(t).lex(r)}static lexInline(r,t){return new sl(t).inlineTokens(r)}lex(r){r=r.replace(/\r\n|\r/g,`
`),this.blockTokens(r,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(r,t=[]){this.options.pedantic?r=r.replace(/\t/g,"    ").replace(/^ +$/gm,""):r=r.replace(/^( *)(\t+)/gm,(f,m,v)=>m+"    ".repeat(v.length));let o,l,u,d;for(;r;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(f=>(o=f.call({lexer:this},r,t))?(r=r.substring(o.raw.length),t.push(o),!0):!1))){if(o=this.tokenizer.space(r)){r=r.substring(o.raw.length),o.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(o);continue}if(o=this.tokenizer.code(r)){r=r.substring(o.raw.length),l=t[t.length-1],l&&(l.type==="paragraph"||l.type==="text")?(l.raw+=`
`+o.raw,l.text+=`
`+o.text,this.inlineQueue[this.inlineQueue.length-1].src=l.text):t.push(o);continue}if(o=this.tokenizer.fences(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.heading(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.hr(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.blockquote(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.list(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.html(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.def(r)){r=r.substring(o.raw.length),l=t[t.length-1],l&&(l.type==="paragraph"||l.type==="text")?(l.raw+=`
`+o.raw,l.text+=`
`+o.raw,this.inlineQueue[this.inlineQueue.length-1].src=l.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title});continue}if(o=this.tokenizer.table(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.lheading(r)){r=r.substring(o.raw.length),t.push(o);continue}if(u=r,this.options.extensions&&this.options.extensions.startBlock){let f=1/0;const m=r.slice(1);let v;this.options.extensions.startBlock.forEach(_=>{v=_.call({lexer:this},m),typeof v=="number"&&v>=0&&(f=Math.min(f,v))}),f<1/0&&f>=0&&(u=r.substring(0,f+1))}if(this.state.top&&(o=this.tokenizer.paragraph(u))){l=t[t.length-1],d&&l.type==="paragraph"?(l.raw+=`
`+o.raw,l.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=l.text):t.push(o),d=u.length!==r.length,r=r.substring(o.raw.length);continue}if(o=this.tokenizer.text(r)){r=r.substring(o.raw.length),l=t[t.length-1],l&&l.type==="text"?(l.raw+=`
`+o.raw,l.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=l.text):t.push(o);continue}if(r){const f="Infinite loop on byte: "+r.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return this.state.top=!0,t}inline(r,t=[]){return this.inlineQueue.push({src:r,tokens:t}),t}inlineTokens(r,t=[]){let o,l,u,d=r,f,m,v;if(this.tokens.links){const _=Object.keys(this.tokens.links);if(_.length>0)for(;(f=this.tokenizer.rules.inline.reflinkSearch.exec(d))!=null;)_.includes(f[0].slice(f[0].lastIndexOf("[")+1,-1))&&(d=d.slice(0,f.index)+"["+"a".repeat(f[0].length-2)+"]"+d.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(f=this.tokenizer.rules.inline.blockSkip.exec(d))!=null;)d=d.slice(0,f.index)+"["+"a".repeat(f[0].length-2)+"]"+d.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(f=this.tokenizer.rules.inline.anyPunctuation.exec(d))!=null;)d=d.slice(0,f.index)+"++"+d.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;r;)if(m||(v=""),m=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(_=>(o=_.call({lexer:this},r,t))?(r=r.substring(o.raw.length),t.push(o),!0):!1))){if(o=this.tokenizer.escape(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.tag(r)){r=r.substring(o.raw.length),l=t[t.length-1],l&&o.type==="text"&&l.type==="text"?(l.raw+=o.raw,l.text+=o.text):t.push(o);continue}if(o=this.tokenizer.link(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.reflink(r,this.tokens.links)){r=r.substring(o.raw.length),l=t[t.length-1],l&&o.type==="text"&&l.type==="text"?(l.raw+=o.raw,l.text+=o.text):t.push(o);continue}if(o=this.tokenizer.emStrong(r,d,v)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.codespan(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.br(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.del(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.autolink(r,N2)){r=r.substring(o.raw.length),t.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(r,N2))){r=r.substring(o.raw.length),t.push(o);continue}if(u=r,this.options.extensions&&this.options.extensions.startInline){let _=1/0;const k=r.slice(1);let C;this.options.extensions.startInline.forEach(M=>{C=M.call({lexer:this},k),typeof C=="number"&&C>=0&&(_=Math.min(_,C))}),_<1/0&&_>=0&&(u=r.substring(0,_+1))}if(o=this.tokenizer.inlineText(u,pN)){r=r.substring(o.raw.length),o.raw.slice(-1)!=="_"&&(v=o.raw.slice(-1)),m=!0,l=t[t.length-1],l&&l.type==="text"?(l.raw+=o.raw,l.text+=o.text):t.push(o);continue}if(r){const _="Infinite loop on byte: "+r.charCodeAt(0);if(this.options.silent){console.error(_);break}else throw new Error(_)}}return t}}class L0{constructor(r){ci(this,"options");this.options=r||kh}code(r,t,o){var u;const l=(u=(t||"").match(/^\S*/))==null?void 0:u[0];if(this.options.highlight){const d=this.options.highlight(r,l);d!=null&&d!==r&&(o=!0,r=d)}return r=r.replace(/\n$/,"")+`
`,l?'<pre><code class="'+this.options.langPrefix+so(l)+'">'+(o?r:so(r,!0))+`</code></pre>
`:"<pre><code>"+(o?r:so(r,!0))+`</code></pre>
`}blockquote(r){return`<blockquote>
${r}</blockquote>
`}html(r,t){return r}heading(r,t,o,l){if(this.options.headerIds){const u=this.options.headerPrefix+l.slug(o);return`<h${t} id="${u}">${r}</h${t}>
`}return`<h${t}>${r}</h${t}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(r,t,o){const l=t?"ol":"ul",u=t&&o!==1?' start="'+o+'"':"";return"<"+l+u+`>
`+r+"</"+l+`>
`}listitem(r,t,o){return`<li>${r}</li>
`}checkbox(r){return"<input "+(r?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(r){return`<p>${r}</p>
`}table(r,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+t+`</table>
`}tablerow(r){return`<tr>
${r}</tr>
`}tablecell(r,t){const o=t.header?"th":"td";return(t.align?`<${o} align="${t.align}">`:`<${o}>`)+r+`</${o}>
`}strong(r){return`<strong>${r}</strong>`}em(r){return`<em>${r}</em>`}codespan(r){return`<code>${r}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(r){return`<del>${r}</del>`}link(r,t,o){const l=A2(this.options.sanitize,this.options.baseUrl,r);if(l===null)return o;r=l;let u='<a href="'+r+'"';return t&&(u+=' title="'+t+'"'),u+=">"+o+"</a>",u}image(r,t,o){const l=A2(this.options.sanitize,this.options.baseUrl,r);if(l===null)return o;r=l;let u=`<img src="${r}" alt="${o}"`;return t&&(u+=` title="${t}"`),u+=this.options.xhtml?"/>":">",u}text(r){return r}}class fx{strong(r){return r}em(r){return r}codespan(r){return r}del(r){return r}html(r){return r}text(r){return r}link(r,t,o){return""+o}image(r,t,o){return""+o}br(){return""}}class gx{constructor(){ci(this,"seen");this.seen={}}serialize(r){return r.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(r,t){let o=r,l=0;if(this.seen.hasOwnProperty(o)){l=this.seen[r];do l++,o=r+"-"+l;while(this.seen.hasOwnProperty(o))}return t||(this.seen[r]=l,this.seen[o]=0),o}slug(r,t={}){const o=this.serialize(r);return this.getNextSafeSlug(o,t.dryrun)}}class al{constructor(r){ci(this,"options");ci(this,"renderer");ci(this,"textRenderer");ci(this,"slugger");this.options=r||kh,this.options.renderer=this.options.renderer||new L0,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new fx,this.slugger=new gx}static parse(r,t){return new al(t).parse(r)}static parseInline(r,t){return new al(t).parseInline(r)}parse(r,t=!0){let o="";for(let l=0;l<r.length;l++){const u=r[l];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[u.type]){const d=u,f=this.options.extensions.renderers[d.type].call({parser:this},d);if(f!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(d.type)){o+=f||"";continue}}switch(u.type){case"space":continue;case"hr":{o+=this.renderer.hr();continue}case"heading":{const d=u;o+=this.renderer.heading(this.parseInline(d.tokens),d.depth,bC(this.parseInline(d.tokens,this.textRenderer)),this.slugger);continue}case"code":{const d=u;o+=this.renderer.code(d.text,d.lang,!!d.escaped);continue}case"table":{const d=u;let f="",m="";for(let _=0;_<d.header.length;_++)m+=this.renderer.tablecell(this.parseInline(d.header[_].tokens),{header:!0,align:d.align[_]});f+=this.renderer.tablerow(m);let v="";for(let _=0;_<d.rows.length;_++){const k=d.rows[_];m="";for(let C=0;C<k.length;C++)m+=this.renderer.tablecell(this.parseInline(k[C].tokens),{header:!1,align:d.align[C]});v+=this.renderer.tablerow(m)}o+=this.renderer.table(f,v);continue}case"blockquote":{const d=u,f=this.parse(d.tokens);o+=this.renderer.blockquote(f);continue}case"list":{const d=u,f=d.ordered,m=d.start,v=d.loose;let _="";for(let k=0;k<d.items.length;k++){const C=d.items[k],M=C.checked,A=C.task;let F="";if(C.task){const U=this.renderer.checkbox(!!M);v?C.tokens.length>0&&C.tokens[0].type==="paragraph"?(C.tokens[0].text=U+" "+C.tokens[0].text,C.tokens[0].tokens&&C.tokens[0].tokens.length>0&&C.tokens[0].tokens[0].type==="text"&&(C.tokens[0].tokens[0].text=U+" "+C.tokens[0].tokens[0].text)):C.tokens.unshift({type:"text",text:U}):F+=U}F+=this.parse(C.tokens,v),_+=this.renderer.listitem(F,A,!!M)}o+=this.renderer.list(_,f,m);continue}case"html":{const d=u;o+=this.renderer.html(d.text,d.block);continue}case"paragraph":{const d=u;o+=this.renderer.paragraph(this.parseInline(d.tokens));continue}case"text":{let d=u,f=d.tokens?this.parseInline(d.tokens):d.text;for(;l+1<r.length&&r[l+1].type==="text";)d=r[++l],f+=`
`+(d.tokens?this.parseInline(d.tokens):d.text);o+=t?this.renderer.paragraph(f):f;continue}default:{const d='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(d),"";throw new Error(d)}}}return o}parseInline(r,t){t=t||this.renderer;let o="";for(let l=0;l<r.length;l++){const u=r[l];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[u.type]){const d=this.options.extensions.renderers[u.type].call({parser:this},u);if(d!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(u.type)){o+=d||"";continue}}switch(u.type){case"escape":{const d=u;o+=t.text(d.text);break}case"html":{const d=u;o+=t.html(d.text);break}case"link":{const d=u;o+=t.link(d.href,d.title,this.parseInline(d.tokens,t));break}case"image":{const d=u;o+=t.image(d.href,d.title,d.text);break}case"strong":{const d=u;o+=t.strong(this.parseInline(d.tokens,t));break}case"em":{const d=u;o+=t.em(this.parseInline(d.tokens,t));break}case"codespan":{const d=u;o+=t.codespan(d.text);break}case"br":{o+=t.br();break}case"del":{const d=u;o+=t.del(this.parseInline(d.tokens,t));break}case"text":{const d=u;o+=t.text(d.text);break}default:{const d='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(d),"";throw new Error(d)}}}return o}}class hg{constructor(r){ci(this,"options");this.options=r||kh}preprocess(r){return r}postprocess(r){return r}}ci(hg,"passThroughHooks",new Set(["preprocess","postprocess"]));var Gg,o1,ry,wC;class fN{constructor(...r){ew(this,Gg);ew(this,ry);ci(this,"defaults",px());ci(this,"options",this.setOptions);ci(this,"parse",Sv(this,Gg,o1).call(this,sl.lex,al.parse));ci(this,"parseInline",Sv(this,Gg,o1).call(this,sl.lexInline,al.parseInline));ci(this,"Parser",al);ci(this,"parser",al.parse);ci(this,"Renderer",L0);ci(this,"TextRenderer",fx);ci(this,"Lexer",sl);ci(this,"lexer",sl.lex);ci(this,"Tokenizer",I0);ci(this,"Slugger",gx);ci(this,"Hooks",hg);this.use(...r)}walkTokens(r,t){var l,u;let o=[];for(const d of r)switch(o=o.concat(t.call(this,d)),d.type){case"table":{const f=d;for(const m of f.header)o=o.concat(this.walkTokens(m.tokens,t));for(const m of f.rows)for(const v of m)o=o.concat(this.walkTokens(v.tokens,t));break}case"list":{const f=d;o=o.concat(this.walkTokens(f.items,t));break}default:{const f=d;(u=(l=this.defaults.extensions)==null?void 0:l.childTokens)!=null&&u[f.type]?this.defaults.extensions.childTokens[f.type].forEach(m=>{o=o.concat(this.walkTokens(f[m],t))}):f.tokens&&(o=o.concat(this.walkTokens(f.tokens,t)))}}return o}use(...r){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return r.forEach(o=>{const l={...o};if(l.async=this.defaults.async||l.async||!1,o.extensions&&(o.extensions.forEach(u=>{if(!u.name)throw new Error("extension name required");if("renderer"in u){const d=t.renderers[u.name];d?t.renderers[u.name]=function(...f){let m=u.renderer.apply(this,f);return m===!1&&(m=d.apply(this,f)),m}:t.renderers[u.name]=u.renderer}if("tokenizer"in u){if(!u.level||u.level!=="block"&&u.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const d=t[u.level];d?d.unshift(u.tokenizer):t[u.level]=[u.tokenizer],u.start&&(u.level==="block"?t.startBlock?t.startBlock.push(u.start):t.startBlock=[u.start]:u.level==="inline"&&(t.startInline?t.startInline.push(u.start):t.startInline=[u.start]))}"childTokens"in u&&u.childTokens&&(t.childTokens[u.name]=u.childTokens)}),l.extensions=t),o.renderer){const u=this.defaults.renderer||new L0(this.defaults);for(const d in o.renderer){const f=o.renderer[d],m=d,v=u[m];u[m]=(..._)=>{let k=f.apply(u,_);return k===!1&&(k=v.apply(u,_)),k||""}}l.renderer=u}if(o.tokenizer){const u=this.defaults.tokenizer||new I0(this.defaults);for(const d in o.tokenizer){const f=o.tokenizer[d],m=d,v=u[m];u[m]=(..._)=>{let k=f.apply(u,_);return k===!1&&(k=v.apply(u,_)),k}}l.tokenizer=u}if(o.hooks){const u=this.defaults.hooks||new hg;for(const d in o.hooks){const f=o.hooks[d],m=d,v=u[m];hg.passThroughHooks.has(d)?u[m]=_=>{if(this.defaults.async)return Promise.resolve(f.call(u,_)).then(C=>v.call(u,C));const k=f.call(u,_);return v.call(u,k)}:u[m]=(..._)=>{let k=f.apply(u,_);return k===!1&&(k=v.apply(u,_)),k}}l.hooks=u}if(o.walkTokens){const u=this.defaults.walkTokens,d=o.walkTokens;l.walkTokens=function(f){let m=[];return m.push(d.call(this,f)),u&&(m=m.concat(u.call(this,f))),m}}this.defaults={...this.defaults,...l}}),this}setOptions(r){return this.defaults={...this.defaults,...r},this}}Gg=new WeakSet,o1=function(r,t){return(o,l,u)=>{typeof l=="function"&&(u=l,l=null);const d={...l},f={...this.defaults,...d};this.defaults.async===!0&&d.async===!1&&(f.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),f.async=!0);const m=Sv(this,ry,wC).call(this,!!f.silent,!!f.async,u);if(typeof o>"u"||o===null)return m(new Error("marked(): input parameter is undefined or null"));if(typeof o!="string")return m(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(o)+", string expected"));if(hN(f,u),f.hooks&&(f.hooks.options=f),u){const v=u,_=f.highlight;let k;try{f.hooks&&(o=f.hooks.preprocess(o)),k=r(o,f)}catch(A){return m(A)}const C=A=>{let F;if(!A)try{f.walkTokens&&this.walkTokens(k,f.walkTokens),F=t(k,f),f.hooks&&(F=f.hooks.postprocess(F))}catch(U){A=U}return f.highlight=_,A?m(A):v(null,F)};if(!_||_.length<3||(delete f.highlight,!k.length))return C();let M=0;this.walkTokens(k,A=>{A.type==="code"&&(M++,setTimeout(()=>{_(A.text,A.lang,(F,U)=>{if(F)return C(F);U!=null&&U!==A.text&&(A.text=U,A.escaped=!0),M--,M===0&&C()})},0))}),M===0&&C();return}if(f.async)return Promise.resolve(f.hooks?f.hooks.preprocess(o):o).then(v=>r(v,f)).then(v=>f.walkTokens?Promise.all(this.walkTokens(v,f.walkTokens)).then(()=>v):v).then(v=>t(v,f)).then(v=>f.hooks?f.hooks.postprocess(v):v).catch(m);try{f.hooks&&(o=f.hooks.preprocess(o));const v=r(o,f);f.walkTokens&&this.walkTokens(v,f.walkTokens);let _=t(v,f);return f.hooks&&(_=f.hooks.postprocess(_)),_}catch(v){return m(v)}}},ry=new WeakSet,wC=function(r,t,o){return l=>{if(l.message+=`
Please report this to https://github.com/markedjs/marked.`,r){const u="<p>An error occurred:</p><pre>"+so(l.message+"",!0)+"</pre>";if(t)return Promise.resolve(u);if(o){o(null,u);return}return u}if(t)return Promise.reject(l);if(o){o(l);return}throw l}};const vh=new fN;function vi(n,r,t){return vh.parse(n,r,t)}vi.options=vi.setOptions=function(n){return vh.setOptions(n),vi.defaults=vh.defaults,mC(vi.defaults),vi};vi.getDefaults=px;vi.defaults=kh;vi.use=function(...n){return vh.use(...n),vi.defaults=vh.defaults,mC(vi.defaults),vi};vi.walkTokens=function(n,r){return vh.walkTokens(n,r)};vi.parseInline=vh.parseInline;vi.Parser=al;vi.parser=al.parse;vi.Renderer=L0;vi.TextRenderer=fx;vi.Lexer=sl;vi.lexer=sl.lex;vi.Tokenizer=I0;vi.Slugger=gx;vi.Hooks=hg;vi.parse=vi;vi.options;vi.setOptions;vi.use;vi.walkTokens;vi.parseInline;al.parse;sl.lex;/*
 * HSOverlay
 * @version: 1.3.0
 * @author: HtmlStream
 * @license: Htmlstream Libraries (https://preline.co/docs/license.html)
 * Copyright 2023 Htmlstream
 */class mx extends oC{constructor(t){super("[data-hs-overlay]");ci(this,"root");this.root=t,this.openNextOverlay=!1}init(){this.root.addEventListener("click",t=>{const l=t.target.closest(this.selector),u=t.target.closest("[data-hs-overlay-close]"),d=t.target.getAttribute("aria-overlay")==="true";if(u)return this.close(u.closest(".hs-overlay.open"));if(l)return this.toggle(this.root.querySelector(l.getAttribute("data-hs-overlay")));d&&this._onBackdropClick(t.target)}),this.root.addEventListener("keydown",t=>{if(t.keyCode===27){const o=this.root.querySelector(".hs-overlay.open");if(!o)return;setTimeout(()=>{o.getAttribute("data-hs-overlay-keyboard")!=="false"&&this.close(o)})}})}toggle(t){t&&(t.classList.contains("hidden")?this.open(t):this.close(t))}open(t){if(!t)return;const o=this.root.querySelector(".hs-overlay.open"),l=this.getClassProperty(t,"--body-scroll","false")!=="true";if(o)return this.openNextOverlay=!0,this.close(o).then(()=>{this.open(t),this.openNextOverlay=!1});l&&(this.root.style.overflow="hidden"),this._buildBackdrop(t),this._checkTimer(t),this._autoHide(t),t.classList.remove("hidden"),t.setAttribute("aria-overlay","true"),t.setAttribute("tabindex","-1"),setTimeout(()=>{t.classList.contains("hidden")||(t.classList.add("open"),this._fireEvent("open",t),this._dispatch("open.hs.overlay",t,t),this._focusInput(t))},50)}close(t){return new Promise(o=>{t&&(t.classList.remove("open"),t.removeAttribute("aria-overlay"),t.removeAttribute("tabindex","-1"),this.afterTransition(t,()=>{t.classList.contains("open")||(t.classList.add("hidden"),this._destroyBackdrop(),this._fireEvent("close",t),this._dispatch("close.hs.overlay",t,t),this.root.style.overflow="",o(t))}))})}_autoHide(t){const o=parseInt(this.getClassProperty(t,"--auto-hide","0"));o&&(t.autoHide=setTimeout(()=>{this.close(t)},o))}_checkTimer(t){t.autoHide&&(clearTimeout(t.autoHide),delete t.autoHide)}_onBackdropClick(t){this.getClassProperty(t,"--overlay-backdrop","true")!=="static"&&this.close(t)}_buildBackdrop(t){const o=t.getAttribute("data-hs-overlay-backdrop-container")||!1;let l=document.createElement("div"),u="transition duration fixed inset-0 z-50 bg-gray-900 bg-opacity-50 dark:bg-opacity-80 hs-overlay-backdrop";for(const m of t.classList.values())m.startsWith("hs-overlay-backdrop-open:")&&(u+=` ${m}`);const d=this.getClassProperty(t,"--overlay-backdrop","true")!=="static";this.getClassProperty(t,"--overlay-backdrop","true")!=="false"&&(o&&(l=this.root.querySelector(o).cloneNode(!0),l.classList.remove("hidden"),u=l.classList,l.classList=""),d&&l.addEventListener("click",()=>this.close(t),!0),l.setAttribute("data-hs-overlay-backdrop-template",""),this.root.appendChild(l),setTimeout(()=>{l.classList=u}))}_destroyBackdrop(){const t=this.root.querySelector("[data-hs-overlay-backdrop-template]");t&&(this.openNextOverlay&&(t.style.transitionDuration=`${parseFloat(window.getComputedStyle(t).transitionDuration.replace(/[^\d.-]/g,""))*1.8}s`),t.classList.add("opacity-0"),this.afterTransition(t,()=>{t.remove()}))}_focusInput(t){const o=t.querySelector("[autofocus]");o&&o.focus()}}const gN=["innerHTML"],mN={class:"hs-overlay-open:mt-7 hs-overlay-open:opacity-100 hs-overlay-open:duration-500 mt-0 opacity-0 ease-out transition-all sm:max-w-lg sm:w-full m-3 sm:mx-auto min-h-[calc(100%-3.5rem)] flex items-center"},vN={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},yN={class:"p-4 overflow-y-auto flex items-center gap-4"},bN=Qt("sl-spinner",{style:{"font-size":"3rem","--indicator-color":"deeppink","--track-color":"pink"}},null,-1),wN=["innerHTML"],xN=ms({__name:"Footer.ce",setup(n){const r=Ne([]),t=Ne(null),o=Vr(()=>{var M,A;return(A=(M=t.value)==null?void 0:M.getRootNode())==null?void 0:A.host}),l=Ne(null),u=Vr(()=>l==null?void 0:l.value),d=Vr(()=>new mx(u.value)),f=Ne(null),m=Vr(()=>f==null?void 0:f.value),v=Ne("Generating PDF...");ri(m,M=>{d.value.init(),M.addEventListener("open.hs.overlay",A=>_.value=!0),M.addEventListener("close.hs.overlay",A=>_.value=!1)});const _=Ne(!1);ri(_,M=>{M?d.value.open(m.value):d.value.close(m.value)}),ri(o,()=>{k()});function k(){function M(){return Array.from(o.value.querySelectorAll("li")).map(A=>{let F=document.createElement("li");F.innerHTML=vi.parse(A.textContent||"");let U=F.querySelector("code");if(U){let j=U.previousElementSibling,J=j||F,H=C(U.innerHTML);H.id&&(J.id=H.id),H.class&&H.class.split(" ").forEach(V=>J.classList.add(V)),H.style&&J.setAttribute("style",H.style),U.remove()}return F})}r.value=M(),new MutationObserver(A=>{for(let F of A)F.type==="childList"&&(r.value=M())}).observe(o.value,{childList:!0,subtree:!0})}function C(M){var j;let A=[];M=M.replace(/”/g,'"').replace(/”/g,'"').replace(/’/g,"'"),(j=M==null?void 0:M.match(/[^\s"]+|"([^"]*)"/gmi))==null||j.filter(J=>J).forEach(J=>{A.length>0&&A[A.length-1].indexOf("=")===A[A.length-1].length-1?A[A.length-1]=`${A[A.length-1]}${J}`:A.push(J)});let F={},U=0;for(;U<A.length;){let J=A[U];if(J.indexOf("=")>0){let[H,V]=J.split("=");V=V[0]==='"'&&V[V.length-1]==='"'?V.slice(1,-1):V,F[H]?F[H]+=` ${V}`:F[H]=V}else if(J[0]==="."){let H="class",V=J.slice(1);V=V[0]==='"'&&V[V.length-1]==='"'?V.slice(1,-1):V,F[H]?F[H]+=` ${V}`:F[H]=V}else if(J[0]===":"){let H="style",V;J.length===1&&U<J.length&&A[U+1][0]==='"'?(V=A[U+1].slice(1,-1),U++):V=J.slice(1),F[H]?F[H]+=` ${V}`:F[H]=V}else if(J[0]==='"'){let H="args",V=J.slice(1,-1);F[H]?F[H].push(V):F[H]=[V]}else J[0]==="#"?F.id=J.slice(1):F[J]=!0;U++}return F}return(M,A)=>(Oe(),De(on,null,[Qt("ul",{ref_key:"footer",ref:t,id:"footer",class:"flex bg-slate-100 p-2 gap-3 mt-8 items-center w-full h-8"},[(Oe(!0),De(on,null,ah(r.value,(F,U)=>(Oe(),De("li",{key:`li-${U}`,innerHTML:F.innerHTML,class:qg(F.className),style:sy(F.getAttribute("style")||"")},null,14,gN))),128))],512),Qt("div",{ref_key:"overlayRef",ref:l},[Qt("div",{ref_key:"modalRef",ref:f,id:"hs-basic-modal",class:"hs-overlay hidden w-full h-full fixed top-0 start-0 z-[80] overflow-x-hidden overflow-y-auto pointer-events-none"},[Qt("div",mN,[Qt("div",vN,[Qt("div",yN,[bN,Qt("p",{innerHTML:v.value},null,8,wN)])])])],512)],512)],64))}}),_N=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}ez-header ul,ez-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}img,svg{height:36px}.push{margin-left:auto}@media only screen and (max-width: 768px){#footer{font-size:.8em}li{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}}.overlay{position:fixed;display:none;width:100%;height:100%;top:0;left:0;right:0;bottom:0;background-color:#00000080;z-index:2;cursor:pointer}
`,kN=Oa(xN,[["styles",[_N]]]);/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function xC(n){return typeof n>"u"||n===null}function EN(n){return typeof n=="object"&&n!==null}function TN(n){return Array.isArray(n)?n:xC(n)?[]:[n]}function SN(n,r){var t,o,l,u;if(r)for(u=Object.keys(r),t=0,o=u.length;t<o;t+=1)l=u[t],n[l]=r[l];return n}function CN(n,r){var t="",o;for(o=0;o<r;o+=1)t+=n;return t}function PN(n){return n===0&&Number.NEGATIVE_INFINITY===1/n}var MN=xC,IN=EN,LN=TN,RN=CN,AN=PN,ON=SN,So={isNothing:MN,isObject:IN,toArray:LN,repeat:RN,isNegativeZero:AN,extend:ON};function _C(n,r){var t="",o=n.reason||"(unknown reason)";return n.mark?(n.mark.name&&(t+='in "'+n.mark.name+'" '),t+="("+(n.mark.line+1)+":"+(n.mark.column+1)+")",!r&&n.mark.snippet&&(t+=`

`+n.mark.snippet),o+" "+t):o}function Sg(n,r){Error.call(this),this.name="YAMLException",this.reason=n,this.mark=r,this.message=_C(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Sg.prototype=Object.create(Error.prototype);Sg.prototype.constructor=Sg;Sg.prototype.toString=function(r){return this.name+": "+_C(this,r)};var Kl=Sg;function bw(n,r,t,o,l){var u="",d="",f=Math.floor(l/2)-1;return o-r>f&&(u=" ... ",r=o-f+u.length),t-o>f&&(d=" ...",t=o+f-d.length),{str:u+n.slice(r,t).replace(/\t/g,"→")+d,pos:o-r+u.length}}function ww(n,r){return So.repeat(" ",r-n.length)+n}function zN(n,r){if(r=Object.create(r||null),!n.buffer)return null;r.maxLength||(r.maxLength=79),typeof r.indent!="number"&&(r.indent=1),typeof r.linesBefore!="number"&&(r.linesBefore=3),typeof r.linesAfter!="number"&&(r.linesAfter=2);for(var t=/\r?\n|\r|\0/g,o=[0],l=[],u,d=-1;u=t.exec(n.buffer);)l.push(u.index),o.push(u.index+u[0].length),n.position<=u.index&&d<0&&(d=o.length-2);d<0&&(d=o.length-1);var f="",m,v,_=Math.min(n.line+r.linesAfter,l.length).toString().length,k=r.maxLength-(r.indent+_+3);for(m=1;m<=r.linesBefore&&!(d-m<0);m++)v=bw(n.buffer,o[d-m],l[d-m],n.position-(o[d]-o[d-m]),k),f=So.repeat(" ",r.indent)+ww((n.line-m+1).toString(),_)+" | "+v.str+`
`+f;for(v=bw(n.buffer,o[d],l[d],n.position,k),f+=So.repeat(" ",r.indent)+ww((n.line+1).toString(),_)+" | "+v.str+`
`,f+=So.repeat("-",r.indent+_+3+v.pos)+`^
`,m=1;m<=r.linesAfter&&!(d+m>=l.length);m++)v=bw(n.buffer,o[d+m],l[d+m],n.position-(o[d]-o[d+m]),k),f+=So.repeat(" ",r.indent)+ww((n.line+m+1).toString(),_)+" | "+v.str+`
`;return f.replace(/\n$/,"")}var NN=zN,DN=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],FN=["scalar","sequence","mapping"];function BN(n){var r={};return n!==null&&Object.keys(n).forEach(function(t){n[t].forEach(function(o){r[String(o)]=t})}),r}function jN(n,r){if(r=r||{},Object.keys(r).forEach(function(t){if(DN.indexOf(t)===-1)throw new Kl('Unknown option "'+t+'" is met in definition of "'+n+'" YAML type.')}),this.options=r,this.tag=n,this.kind=r.kind||null,this.resolve=r.resolve||function(){return!0},this.construct=r.construct||function(t){return t},this.instanceOf=r.instanceOf||null,this.predicate=r.predicate||null,this.represent=r.represent||null,this.representName=r.representName||null,this.defaultStyle=r.defaultStyle||null,this.multi=r.multi||!1,this.styleAliases=BN(r.styleAliases||null),FN.indexOf(this.kind)===-1)throw new Kl('Unknown kind "'+this.kind+'" is specified for "'+n+'" YAML type.')}var ho=jN;function D2(n,r){var t=[];return n[r].forEach(function(o){var l=t.length;t.forEach(function(u,d){u.tag===o.tag&&u.kind===o.kind&&u.multi===o.multi&&(l=d)}),t[l]=o}),t}function HN(){var n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},r,t;function o(l){l.multi?(n.multi[l.kind].push(l),n.multi.fallback.push(l)):n[l.kind][l.tag]=n.fallback[l.tag]=l}for(r=0,t=arguments.length;r<t;r+=1)arguments[r].forEach(o);return n}function s1(n){return this.extend(n)}s1.prototype.extend=function(r){var t=[],o=[];if(r instanceof ho)o.push(r);else if(Array.isArray(r))o=o.concat(r);else if(r&&(Array.isArray(r.implicit)||Array.isArray(r.explicit)))r.implicit&&(t=t.concat(r.implicit)),r.explicit&&(o=o.concat(r.explicit));else throw new Kl("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");t.forEach(function(u){if(!(u instanceof ho))throw new Kl("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(u.loadKind&&u.loadKind!=="scalar")throw new Kl("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(u.multi)throw new Kl("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),o.forEach(function(u){if(!(u instanceof ho))throw new Kl("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var l=Object.create(s1.prototype);return l.implicit=(this.implicit||[]).concat(t),l.explicit=(this.explicit||[]).concat(o),l.compiledImplicit=D2(l,"implicit"),l.compiledExplicit=D2(l,"explicit"),l.compiledTypeMap=HN(l.compiledImplicit,l.compiledExplicit),l};var UN=s1,GN=new ho("tag:yaml.org,2002:str",{kind:"scalar",construct:function(n){return n!==null?n:""}}),qN=new ho("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(n){return n!==null?n:[]}}),VN=new ho("tag:yaml.org,2002:map",{kind:"mapping",construct:function(n){return n!==null?n:{}}}),WN=new UN({explicit:[GN,qN,VN]});function ZN(n){if(n===null)return!0;var r=n.length;return r===1&&n==="~"||r===4&&(n==="null"||n==="Null"||n==="NULL")}function YN(){return null}function XN(n){return n===null}var KN=new ho("tag:yaml.org,2002:null",{kind:"scalar",resolve:ZN,construct:YN,predicate:XN,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function JN(n){if(n===null)return!1;var r=n.length;return r===4&&(n==="true"||n==="True"||n==="TRUE")||r===5&&(n==="false"||n==="False"||n==="FALSE")}function QN(n){return n==="true"||n==="True"||n==="TRUE"}function $N(n){return Object.prototype.toString.call(n)==="[object Boolean]"}var t3=new ho("tag:yaml.org,2002:bool",{kind:"scalar",resolve:JN,construct:QN,predicate:$N,represent:{lowercase:function(n){return n?"true":"false"},uppercase:function(n){return n?"TRUE":"FALSE"},camelcase:function(n){return n?"True":"False"}},defaultStyle:"lowercase"});function e3(n){return 48<=n&&n<=57||65<=n&&n<=70||97<=n&&n<=102}function r3(n){return 48<=n&&n<=55}function i3(n){return 48<=n&&n<=57}function n3(n){if(n===null)return!1;var r=n.length,t=0,o=!1,l;if(!r)return!1;if(l=n[t],(l==="-"||l==="+")&&(l=n[++t]),l==="0"){if(t+1===r)return!0;if(l=n[++t],l==="b"){for(t++;t<r;t++)if(l=n[t],l!=="_"){if(l!=="0"&&l!=="1")return!1;o=!0}return o&&l!=="_"}if(l==="x"){for(t++;t<r;t++)if(l=n[t],l!=="_"){if(!e3(n.charCodeAt(t)))return!1;o=!0}return o&&l!=="_"}if(l==="o"){for(t++;t<r;t++)if(l=n[t],l!=="_"){if(!r3(n.charCodeAt(t)))return!1;o=!0}return o&&l!=="_"}}if(l==="_")return!1;for(;t<r;t++)if(l=n[t],l!=="_"){if(!i3(n.charCodeAt(t)))return!1;o=!0}return!(!o||l==="_")}function o3(n){var r=n,t=1,o;if(r.indexOf("_")!==-1&&(r=r.replace(/_/g,"")),o=r[0],(o==="-"||o==="+")&&(o==="-"&&(t=-1),r=r.slice(1),o=r[0]),r==="0")return 0;if(o==="0"){if(r[1]==="b")return t*parseInt(r.slice(2),2);if(r[1]==="x")return t*parseInt(r.slice(2),16);if(r[1]==="o")return t*parseInt(r.slice(2),8)}return t*parseInt(r,10)}function s3(n){return Object.prototype.toString.call(n)==="[object Number]"&&n%1===0&&!So.isNegativeZero(n)}var a3=new ho("tag:yaml.org,2002:int",{kind:"scalar",resolve:n3,construct:o3,predicate:s3,represent:{binary:function(n){return n>=0?"0b"+n.toString(2):"-0b"+n.toString(2).slice(1)},octal:function(n){return n>=0?"0o"+n.toString(8):"-0o"+n.toString(8).slice(1)},decimal:function(n){return n.toString(10)},hexadecimal:function(n){return n>=0?"0x"+n.toString(16).toUpperCase():"-0x"+n.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),l3=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function c3(n){return!(n===null||!l3.test(n)||n[n.length-1]==="_")}function u3(n){var r,t;return r=n.replace(/_/g,"").toLowerCase(),t=r[0]==="-"?-1:1,"+-".indexOf(r[0])>=0&&(r=r.slice(1)),r===".inf"?t===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:r===".nan"?NaN:t*parseFloat(r,10)}var h3=/^[-+]?[0-9]+e/;function d3(n,r){var t;if(isNaN(n))switch(r){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===n)switch(r){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===n)switch(r){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(So.isNegativeZero(n))return"-0.0";return t=n.toString(10),h3.test(t)?t.replace("e",".e"):t}function p3(n){return Object.prototype.toString.call(n)==="[object Number]"&&(n%1!==0||So.isNegativeZero(n))}var f3=new ho("tag:yaml.org,2002:float",{kind:"scalar",resolve:c3,construct:u3,predicate:p3,represent:d3,defaultStyle:"lowercase"}),g3=WN.extend({implicit:[KN,t3,a3,f3]}),m3=g3,kC=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),EC=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function v3(n){return n===null?!1:kC.exec(n)!==null||EC.exec(n)!==null}function y3(n){var r,t,o,l,u,d,f,m=0,v=null,_,k,C;if(r=kC.exec(n),r===null&&(r=EC.exec(n)),r===null)throw new Error("Date resolve error");if(t=+r[1],o=+r[2]-1,l=+r[3],!r[4])return new Date(Date.UTC(t,o,l));if(u=+r[4],d=+r[5],f=+r[6],r[7]){for(m=r[7].slice(0,3);m.length<3;)m+="0";m=+m}return r[9]&&(_=+r[10],k=+(r[11]||0),v=(_*60+k)*6e4,r[9]==="-"&&(v=-v)),C=new Date(Date.UTC(t,o,l,u,d,f,m)),v&&C.setTime(C.getTime()-v),C}function b3(n){return n.toISOString()}var w3=new ho("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:v3,construct:y3,instanceOf:Date,represent:b3});function x3(n){return n==="<<"||n===null}var _3=new ho("tag:yaml.org,2002:merge",{kind:"scalar",resolve:x3}),vx=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function k3(n){if(n===null)return!1;var r,t,o=0,l=n.length,u=vx;for(t=0;t<l;t++)if(r=u.indexOf(n.charAt(t)),!(r>64)){if(r<0)return!1;o+=6}return o%8===0}function E3(n){var r,t,o=n.replace(/[\r\n=]/g,""),l=o.length,u=vx,d=0,f=[];for(r=0;r<l;r++)r%4===0&&r&&(f.push(d>>16&255),f.push(d>>8&255),f.push(d&255)),d=d<<6|u.indexOf(o.charAt(r));return t=l%4*6,t===0?(f.push(d>>16&255),f.push(d>>8&255),f.push(d&255)):t===18?(f.push(d>>10&255),f.push(d>>2&255)):t===12&&f.push(d>>4&255),new Uint8Array(f)}function T3(n){var r="",t=0,o,l,u=n.length,d=vx;for(o=0;o<u;o++)o%3===0&&o&&(r+=d[t>>18&63],r+=d[t>>12&63],r+=d[t>>6&63],r+=d[t&63]),t=(t<<8)+n[o];return l=u%3,l===0?(r+=d[t>>18&63],r+=d[t>>12&63],r+=d[t>>6&63],r+=d[t&63]):l===2?(r+=d[t>>10&63],r+=d[t>>4&63],r+=d[t<<2&63],r+=d[64]):l===1&&(r+=d[t>>2&63],r+=d[t<<4&63],r+=d[64],r+=d[64]),r}function S3(n){return Object.prototype.toString.call(n)==="[object Uint8Array]"}var C3=new ho("tag:yaml.org,2002:binary",{kind:"scalar",resolve:k3,construct:E3,predicate:S3,represent:T3}),P3=Object.prototype.hasOwnProperty,M3=Object.prototype.toString;function I3(n){if(n===null)return!0;var r=[],t,o,l,u,d,f=n;for(t=0,o=f.length;t<o;t+=1){if(l=f[t],d=!1,M3.call(l)!=="[object Object]")return!1;for(u in l)if(P3.call(l,u))if(!d)d=!0;else return!1;if(!d)return!1;if(r.indexOf(u)===-1)r.push(u);else return!1}return!0}function L3(n){return n!==null?n:[]}var R3=new ho("tag:yaml.org,2002:omap",{kind:"sequence",resolve:I3,construct:L3}),A3=Object.prototype.toString;function O3(n){if(n===null)return!0;var r,t,o,l,u,d=n;for(u=new Array(d.length),r=0,t=d.length;r<t;r+=1){if(o=d[r],A3.call(o)!=="[object Object]"||(l=Object.keys(o),l.length!==1))return!1;u[r]=[l[0],o[l[0]]]}return!0}function z3(n){if(n===null)return[];var r,t,o,l,u,d=n;for(u=new Array(d.length),r=0,t=d.length;r<t;r+=1)o=d[r],l=Object.keys(o),u[r]=[l[0],o[l[0]]];return u}var N3=new ho("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:O3,construct:z3}),D3=Object.prototype.hasOwnProperty;function F3(n){if(n===null)return!0;var r,t=n;for(r in t)if(D3.call(t,r)&&t[r]!==null)return!1;return!0}function B3(n){return n!==null?n:{}}var j3=new ho("tag:yaml.org,2002:set",{kind:"mapping",resolve:F3,construct:B3}),H3=m3.extend({implicit:[w3,_3],explicit:[C3,R3,N3,j3]}),ou=Object.prototype.hasOwnProperty,R0=1,TC=2,SC=3,A0=4,xw=1,U3=2,F2=3,G3=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,q3=/[\x85\u2028\u2029]/,V3=/[,\[\]\{\}]/,CC=/^(?:!|!!|![a-z\-]+!)$/i,PC=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function B2(n){return Object.prototype.toString.call(n)}function cl(n){return n===10||n===13}function uh(n){return n===9||n===32}function Vo(n){return n===9||n===32||n===10||n===13}function Wd(n){return n===44||n===91||n===93||n===123||n===125}function W3(n){var r;return 48<=n&&n<=57?n-48:(r=n|32,97<=r&&r<=102?r-97+10:-1)}function Z3(n){return n===120?2:n===117?4:n===85?8:0}function Y3(n){return 48<=n&&n<=57?n-48:-1}function j2(n){return n===48?"\0":n===97?"\x07":n===98?"\b":n===116||n===9?"	":n===110?`
`:n===118?"\v":n===102?"\f":n===114?"\r":n===101?"\x1B":n===32?" ":n===34?'"':n===47?"/":n===92?"\\":n===78?"":n===95?" ":n===76?"\u2028":n===80?"\u2029":""}function X3(n){return n<=65535?String.fromCharCode(n):String.fromCharCode((n-65536>>10)+55296,(n-65536&1023)+56320)}var MC=new Array(256),IC=new Array(256);for(var zd=0;zd<256;zd++)MC[zd]=j2(zd)?1:0,IC[zd]=j2(zd);function K3(n,r){this.input=n,this.filename=r.filename||null,this.schema=r.schema||H3,this.onWarning=r.onWarning||null,this.legacy=r.legacy||!1,this.json=r.json||!1,this.listener=r.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=n.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function LC(n,r){var t={name:n.filename,buffer:n.input.slice(0,-1),position:n.position,line:n.line,column:n.position-n.lineStart};return t.snippet=NN(t),new Kl(r,t)}function Ve(n,r){throw LC(n,r)}function O0(n,r){n.onWarning&&n.onWarning.call(null,LC(n,r))}var H2={YAML:function(r,t,o){var l,u,d;r.version!==null&&Ve(r,"duplication of %YAML directive"),o.length!==1&&Ve(r,"YAML directive accepts exactly one argument"),l=/^([0-9]+)\.([0-9]+)$/.exec(o[0]),l===null&&Ve(r,"ill-formed argument of the YAML directive"),u=parseInt(l[1],10),d=parseInt(l[2],10),u!==1&&Ve(r,"unacceptable YAML version of the document"),r.version=o[0],r.checkLineBreaks=d<2,d!==1&&d!==2&&O0(r,"unsupported YAML version of the document")},TAG:function(r,t,o){var l,u;o.length!==2&&Ve(r,"TAG directive accepts exactly two arguments"),l=o[0],u=o[1],CC.test(l)||Ve(r,"ill-formed tag handle (first argument) of the TAG directive"),ou.call(r.tagMap,l)&&Ve(r,'there is a previously declared suffix for "'+l+'" tag handle'),PC.test(u)||Ve(r,"ill-formed tag prefix (second argument) of the TAG directive");try{u=decodeURIComponent(u)}catch{Ve(r,"tag prefix is malformed: "+u)}r.tagMap[l]=u}};function Qc(n,r,t,o){var l,u,d,f;if(r<t){if(f=n.input.slice(r,t),o)for(l=0,u=f.length;l<u;l+=1)d=f.charCodeAt(l),d===9||32<=d&&d<=1114111||Ve(n,"expected valid JSON character");else G3.test(f)&&Ve(n,"the stream contains non-printable characters");n.result+=f}}function U2(n,r,t,o){var l,u,d,f;for(So.isObject(t)||Ve(n,"cannot merge mappings; the provided source object is unacceptable"),l=Object.keys(t),d=0,f=l.length;d<f;d+=1)u=l[d],ou.call(r,u)||(r[u]=t[u],o[u]=!0)}function Zd(n,r,t,o,l,u,d,f,m){var v,_;if(Array.isArray(l))for(l=Array.prototype.slice.call(l),v=0,_=l.length;v<_;v+=1)Array.isArray(l[v])&&Ve(n,"nested arrays are not supported inside keys"),typeof l=="object"&&B2(l[v])==="[object Object]"&&(l[v]="[object Object]");if(typeof l=="object"&&B2(l)==="[object Object]"&&(l="[object Object]"),l=String(l),r===null&&(r={}),o==="tag:yaml.org,2002:merge")if(Array.isArray(u))for(v=0,_=u.length;v<_;v+=1)U2(n,r,u[v],t);else U2(n,r,u,t);else!n.json&&!ou.call(t,l)&&ou.call(r,l)&&(n.line=d||n.line,n.lineStart=f||n.lineStart,n.position=m||n.position,Ve(n,"duplicated mapping key")),l==="__proto__"?Object.defineProperty(r,l,{configurable:!0,enumerable:!0,writable:!0,value:u}):r[l]=u,delete t[l];return r}function yx(n){var r;r=n.input.charCodeAt(n.position),r===10?n.position++:r===13?(n.position++,n.input.charCodeAt(n.position)===10&&n.position++):Ve(n,"a line break is expected"),n.line+=1,n.lineStart=n.position,n.firstTabInLine=-1}function bn(n,r,t){for(var o=0,l=n.input.charCodeAt(n.position);l!==0;){for(;uh(l);)l===9&&n.firstTabInLine===-1&&(n.firstTabInLine=n.position),l=n.input.charCodeAt(++n.position);if(r&&l===35)do l=n.input.charCodeAt(++n.position);while(l!==10&&l!==13&&l!==0);if(cl(l))for(yx(n),l=n.input.charCodeAt(n.position),o++,n.lineIndent=0;l===32;)n.lineIndent++,l=n.input.charCodeAt(++n.position);else break}return t!==-1&&o!==0&&n.lineIndent<t&&O0(n,"deficient indentation"),o}function wy(n){var r=n.position,t;return t=n.input.charCodeAt(r),!!((t===45||t===46)&&t===n.input.charCodeAt(r+1)&&t===n.input.charCodeAt(r+2)&&(r+=3,t=n.input.charCodeAt(r),t===0||Vo(t)))}function bx(n,r){r===1?n.result+=" ":r>1&&(n.result+=So.repeat(`
`,r-1))}function J3(n,r,t){var o,l,u,d,f,m,v,_,k=n.kind,C=n.result,M;if(M=n.input.charCodeAt(n.position),Vo(M)||Wd(M)||M===35||M===38||M===42||M===33||M===124||M===62||M===39||M===34||M===37||M===64||M===96||(M===63||M===45)&&(l=n.input.charCodeAt(n.position+1),Vo(l)||t&&Wd(l)))return!1;for(n.kind="scalar",n.result="",u=d=n.position,f=!1;M!==0;){if(M===58){if(l=n.input.charCodeAt(n.position+1),Vo(l)||t&&Wd(l))break}else if(M===35){if(o=n.input.charCodeAt(n.position-1),Vo(o))break}else{if(n.position===n.lineStart&&wy(n)||t&&Wd(M))break;if(cl(M))if(m=n.line,v=n.lineStart,_=n.lineIndent,bn(n,!1,-1),n.lineIndent>=r){f=!0,M=n.input.charCodeAt(n.position);continue}else{n.position=d,n.line=m,n.lineStart=v,n.lineIndent=_;break}}f&&(Qc(n,u,d,!1),bx(n,n.line-m),u=d=n.position,f=!1),uh(M)||(d=n.position+1),M=n.input.charCodeAt(++n.position)}return Qc(n,u,d,!1),n.result?!0:(n.kind=k,n.result=C,!1)}function Q3(n,r){var t,o,l;if(t=n.input.charCodeAt(n.position),t!==39)return!1;for(n.kind="scalar",n.result="",n.position++,o=l=n.position;(t=n.input.charCodeAt(n.position))!==0;)if(t===39)if(Qc(n,o,n.position,!0),t=n.input.charCodeAt(++n.position),t===39)o=n.position,n.position++,l=n.position;else return!0;else cl(t)?(Qc(n,o,l,!0),bx(n,bn(n,!1,r)),o=l=n.position):n.position===n.lineStart&&wy(n)?Ve(n,"unexpected end of the document within a single quoted scalar"):(n.position++,l=n.position);Ve(n,"unexpected end of the stream within a single quoted scalar")}function $3(n,r){var t,o,l,u,d,f;if(f=n.input.charCodeAt(n.position),f!==34)return!1;for(n.kind="scalar",n.result="",n.position++,t=o=n.position;(f=n.input.charCodeAt(n.position))!==0;){if(f===34)return Qc(n,t,n.position,!0),n.position++,!0;if(f===92){if(Qc(n,t,n.position,!0),f=n.input.charCodeAt(++n.position),cl(f))bn(n,!1,r);else if(f<256&&MC[f])n.result+=IC[f],n.position++;else if((d=Z3(f))>0){for(l=d,u=0;l>0;l--)f=n.input.charCodeAt(++n.position),(d=W3(f))>=0?u=(u<<4)+d:Ve(n,"expected hexadecimal character");n.result+=X3(u),n.position++}else Ve(n,"unknown escape sequence");t=o=n.position}else cl(f)?(Qc(n,t,o,!0),bx(n,bn(n,!1,r)),t=o=n.position):n.position===n.lineStart&&wy(n)?Ve(n,"unexpected end of the document within a double quoted scalar"):(n.position++,o=n.position)}Ve(n,"unexpected end of the stream within a double quoted scalar")}function tD(n,r){var t=!0,o,l,u,d=n.tag,f,m=n.anchor,v,_,k,C,M,A=Object.create(null),F,U,j,J;if(J=n.input.charCodeAt(n.position),J===91)_=93,M=!1,f=[];else if(J===123)_=125,M=!0,f={};else return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=f),J=n.input.charCodeAt(++n.position);J!==0;){if(bn(n,!0,r),J=n.input.charCodeAt(n.position),J===_)return n.position++,n.tag=d,n.anchor=m,n.kind=M?"mapping":"sequence",n.result=f,!0;t?J===44&&Ve(n,"expected the node content, but found ','"):Ve(n,"missed comma between flow collection entries"),U=F=j=null,k=C=!1,J===63&&(v=n.input.charCodeAt(n.position+1),Vo(v)&&(k=C=!0,n.position++,bn(n,!0,r))),o=n.line,l=n.lineStart,u=n.position,up(n,r,R0,!1,!0),U=n.tag,F=n.result,bn(n,!0,r),J=n.input.charCodeAt(n.position),(C||n.line===o)&&J===58&&(k=!0,J=n.input.charCodeAt(++n.position),bn(n,!0,r),up(n,r,R0,!1,!0),j=n.result),M?Zd(n,f,A,U,F,j,o,l,u):k?f.push(Zd(n,null,A,U,F,j,o,l,u)):f.push(F),bn(n,!0,r),J=n.input.charCodeAt(n.position),J===44?(t=!0,J=n.input.charCodeAt(++n.position)):t=!1}Ve(n,"unexpected end of the stream within a flow collection")}function eD(n,r){var t,o,l=xw,u=!1,d=!1,f=r,m=0,v=!1,_,k;if(k=n.input.charCodeAt(n.position),k===124)o=!1;else if(k===62)o=!0;else return!1;for(n.kind="scalar",n.result="";k!==0;)if(k=n.input.charCodeAt(++n.position),k===43||k===45)xw===l?l=k===43?F2:U3:Ve(n,"repeat of a chomping mode identifier");else if((_=Y3(k))>=0)_===0?Ve(n,"bad explicit indentation width of a block scalar; it cannot be less than one"):d?Ve(n,"repeat of an indentation width identifier"):(f=r+_-1,d=!0);else break;if(uh(k)){do k=n.input.charCodeAt(++n.position);while(uh(k));if(k===35)do k=n.input.charCodeAt(++n.position);while(!cl(k)&&k!==0)}for(;k!==0;){for(yx(n),n.lineIndent=0,k=n.input.charCodeAt(n.position);(!d||n.lineIndent<f)&&k===32;)n.lineIndent++,k=n.input.charCodeAt(++n.position);if(!d&&n.lineIndent>f&&(f=n.lineIndent),cl(k)){m++;continue}if(n.lineIndent<f){l===F2?n.result+=So.repeat(`
`,u?1+m:m):l===xw&&u&&(n.result+=`
`);break}for(o?uh(k)?(v=!0,n.result+=So.repeat(`
`,u?1+m:m)):v?(v=!1,n.result+=So.repeat(`
`,m+1)):m===0?u&&(n.result+=" "):n.result+=So.repeat(`
`,m):n.result+=So.repeat(`
`,u?1+m:m),u=!0,d=!0,m=0,t=n.position;!cl(k)&&k!==0;)k=n.input.charCodeAt(++n.position);Qc(n,t,n.position,!1)}return!0}function G2(n,r){var t,o=n.tag,l=n.anchor,u=[],d,f=!1,m;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=u),m=n.input.charCodeAt(n.position);m!==0&&(n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,Ve(n,"tab characters must not be used in indentation")),!(m!==45||(d=n.input.charCodeAt(n.position+1),!Vo(d))));){if(f=!0,n.position++,bn(n,!0,-1)&&n.lineIndent<=r){u.push(null),m=n.input.charCodeAt(n.position);continue}if(t=n.line,up(n,r,SC,!1,!0),u.push(n.result),bn(n,!0,-1),m=n.input.charCodeAt(n.position),(n.line===t||n.lineIndent>r)&&m!==0)Ve(n,"bad indentation of a sequence entry");else if(n.lineIndent<r)break}return f?(n.tag=o,n.anchor=l,n.kind="sequence",n.result=u,!0):!1}function rD(n,r,t){var o,l,u,d,f,m,v=n.tag,_=n.anchor,k={},C=Object.create(null),M=null,A=null,F=null,U=!1,j=!1,J;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=k),J=n.input.charCodeAt(n.position);J!==0;){if(!U&&n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,Ve(n,"tab characters must not be used in indentation")),o=n.input.charCodeAt(n.position+1),u=n.line,(J===63||J===58)&&Vo(o))J===63?(U&&(Zd(n,k,C,M,A,null,d,f,m),M=A=F=null),j=!0,U=!0,l=!0):U?(U=!1,l=!0):Ve(n,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),n.position+=1,J=o;else{if(d=n.line,f=n.lineStart,m=n.position,!up(n,t,TC,!1,!0))break;if(n.line===u){for(J=n.input.charCodeAt(n.position);uh(J);)J=n.input.charCodeAt(++n.position);if(J===58)J=n.input.charCodeAt(++n.position),Vo(J)||Ve(n,"a whitespace character is expected after the key-value separator within a block mapping"),U&&(Zd(n,k,C,M,A,null,d,f,m),M=A=F=null),j=!0,U=!1,l=!1,M=n.tag,A=n.result;else if(j)Ve(n,"can not read an implicit mapping pair; a colon is missed");else return n.tag=v,n.anchor=_,!0}else if(j)Ve(n,"can not read a block mapping entry; a multiline key may not be an implicit key");else return n.tag=v,n.anchor=_,!0}if((n.line===u||n.lineIndent>r)&&(U&&(d=n.line,f=n.lineStart,m=n.position),up(n,r,A0,!0,l)&&(U?A=n.result:F=n.result),U||(Zd(n,k,C,M,A,F,d,f,m),M=A=F=null),bn(n,!0,-1),J=n.input.charCodeAt(n.position)),(n.line===u||n.lineIndent>r)&&J!==0)Ve(n,"bad indentation of a mapping entry");else if(n.lineIndent<r)break}return U&&Zd(n,k,C,M,A,null,d,f,m),j&&(n.tag=v,n.anchor=_,n.kind="mapping",n.result=k),j}function iD(n){var r,t=!1,o=!1,l,u,d;if(d=n.input.charCodeAt(n.position),d!==33)return!1;if(n.tag!==null&&Ve(n,"duplication of a tag property"),d=n.input.charCodeAt(++n.position),d===60?(t=!0,d=n.input.charCodeAt(++n.position)):d===33?(o=!0,l="!!",d=n.input.charCodeAt(++n.position)):l="!",r=n.position,t){do d=n.input.charCodeAt(++n.position);while(d!==0&&d!==62);n.position<n.length?(u=n.input.slice(r,n.position),d=n.input.charCodeAt(++n.position)):Ve(n,"unexpected end of the stream within a verbatim tag")}else{for(;d!==0&&!Vo(d);)d===33&&(o?Ve(n,"tag suffix cannot contain exclamation marks"):(l=n.input.slice(r-1,n.position+1),CC.test(l)||Ve(n,"named tag handle cannot contain such characters"),o=!0,r=n.position+1)),d=n.input.charCodeAt(++n.position);u=n.input.slice(r,n.position),V3.test(u)&&Ve(n,"tag suffix cannot contain flow indicator characters")}u&&!PC.test(u)&&Ve(n,"tag name cannot contain such characters: "+u);try{u=decodeURIComponent(u)}catch{Ve(n,"tag name is malformed: "+u)}return t?n.tag=u:ou.call(n.tagMap,l)?n.tag=n.tagMap[l]+u:l==="!"?n.tag="!"+u:l==="!!"?n.tag="tag:yaml.org,2002:"+u:Ve(n,'undeclared tag handle "'+l+'"'),!0}function nD(n){var r,t;if(t=n.input.charCodeAt(n.position),t!==38)return!1;for(n.anchor!==null&&Ve(n,"duplication of an anchor property"),t=n.input.charCodeAt(++n.position),r=n.position;t!==0&&!Vo(t)&&!Wd(t);)t=n.input.charCodeAt(++n.position);return n.position===r&&Ve(n,"name of an anchor node must contain at least one character"),n.anchor=n.input.slice(r,n.position),!0}function oD(n){var r,t,o;if(o=n.input.charCodeAt(n.position),o!==42)return!1;for(o=n.input.charCodeAt(++n.position),r=n.position;o!==0&&!Vo(o)&&!Wd(o);)o=n.input.charCodeAt(++n.position);return n.position===r&&Ve(n,"name of an alias node must contain at least one character"),t=n.input.slice(r,n.position),ou.call(n.anchorMap,t)||Ve(n,'unidentified alias "'+t+'"'),n.result=n.anchorMap[t],bn(n,!0,-1),!0}function up(n,r,t,o,l){var u,d,f,m=1,v=!1,_=!1,k,C,M,A,F,U;if(n.listener!==null&&n.listener("open",n),n.tag=null,n.anchor=null,n.kind=null,n.result=null,u=d=f=A0===t||SC===t,o&&bn(n,!0,-1)&&(v=!0,n.lineIndent>r?m=1:n.lineIndent===r?m=0:n.lineIndent<r&&(m=-1)),m===1)for(;iD(n)||nD(n);)bn(n,!0,-1)?(v=!0,f=u,n.lineIndent>r?m=1:n.lineIndent===r?m=0:n.lineIndent<r&&(m=-1)):f=!1;if(f&&(f=v||l),(m===1||A0===t)&&(R0===t||TC===t?F=r:F=r+1,U=n.position-n.lineStart,m===1?f&&(G2(n,U)||rD(n,U,F))||tD(n,F)?_=!0:(d&&eD(n,F)||Q3(n,F)||$3(n,F)?_=!0:oD(n)?(_=!0,(n.tag!==null||n.anchor!==null)&&Ve(n,"alias node should not have any properties")):J3(n,F,R0===t)&&(_=!0,n.tag===null&&(n.tag="?")),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):m===0&&(_=f&&G2(n,U))),n.tag===null)n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);else if(n.tag==="?"){for(n.result!==null&&n.kind!=="scalar"&&Ve(n,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+n.kind+'"'),k=0,C=n.implicitTypes.length;k<C;k+=1)if(A=n.implicitTypes[k],A.resolve(n.result)){n.result=A.construct(n.result),n.tag=A.tag,n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);break}}else if(n.tag!=="!"){if(ou.call(n.typeMap[n.kind||"fallback"],n.tag))A=n.typeMap[n.kind||"fallback"][n.tag];else for(A=null,M=n.typeMap.multi[n.kind||"fallback"],k=0,C=M.length;k<C;k+=1)if(n.tag.slice(0,M[k].tag.length)===M[k].tag){A=M[k];break}A||Ve(n,"unknown tag !<"+n.tag+">"),n.result!==null&&A.kind!==n.kind&&Ve(n,"unacceptable node kind for !<"+n.tag+'> tag; it should be "'+A.kind+'", not "'+n.kind+'"'),A.resolve(n.result,n.tag)?(n.result=A.construct(n.result,n.tag),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):Ve(n,"cannot resolve a node with !<"+n.tag+"> explicit tag")}return n.listener!==null&&n.listener("close",n),n.tag!==null||n.anchor!==null||_}function sD(n){var r=n.position,t,o,l,u=!1,d;for(n.version=null,n.checkLineBreaks=n.legacy,n.tagMap=Object.create(null),n.anchorMap=Object.create(null);(d=n.input.charCodeAt(n.position))!==0&&(bn(n,!0,-1),d=n.input.charCodeAt(n.position),!(n.lineIndent>0||d!==37));){for(u=!0,d=n.input.charCodeAt(++n.position),t=n.position;d!==0&&!Vo(d);)d=n.input.charCodeAt(++n.position);for(o=n.input.slice(t,n.position),l=[],o.length<1&&Ve(n,"directive name must not be less than one character in length");d!==0;){for(;uh(d);)d=n.input.charCodeAt(++n.position);if(d===35){do d=n.input.charCodeAt(++n.position);while(d!==0&&!cl(d));break}if(cl(d))break;for(t=n.position;d!==0&&!Vo(d);)d=n.input.charCodeAt(++n.position);l.push(n.input.slice(t,n.position))}d!==0&&yx(n),ou.call(H2,o)?H2[o](n,o,l):O0(n,'unknown document directive "'+o+'"')}if(bn(n,!0,-1),n.lineIndent===0&&n.input.charCodeAt(n.position)===45&&n.input.charCodeAt(n.position+1)===45&&n.input.charCodeAt(n.position+2)===45?(n.position+=3,bn(n,!0,-1)):u&&Ve(n,"directives end mark is expected"),up(n,n.lineIndent-1,A0,!1,!0),bn(n,!0,-1),n.checkLineBreaks&&q3.test(n.input.slice(r,n.position))&&O0(n,"non-ASCII line breaks are interpreted as content"),n.documents.push(n.result),n.position===n.lineStart&&wy(n)){n.input.charCodeAt(n.position)===46&&(n.position+=3,bn(n,!0,-1));return}if(n.position<n.length-1)Ve(n,"end of the stream or a document separator is expected");else return}function RC(n,r){n=String(n),r=r||{},n.length!==0&&(n.charCodeAt(n.length-1)!==10&&n.charCodeAt(n.length-1)!==13&&(n+=`
`),n.charCodeAt(0)===65279&&(n=n.slice(1)));var t=new K3(n,r),o=n.indexOf("\0");for(o!==-1&&(t.position=o,Ve(t,"null byte is not allowed in input")),t.input+="\0";t.input.charCodeAt(t.position)===32;)t.lineIndent+=1,t.position+=1;for(;t.position<t.length-1;)sD(t);return t.documents}function aD(n,r,t){r!==null&&typeof r=="object"&&typeof t>"u"&&(t=r,r=null);var o=RC(n,t);if(typeof r!="function")return o;for(var l=0,u=o.length;l<u;l+=1)r(o[l])}function lD(n,r){var t=RC(n,r);if(t.length!==0){if(t.length===1)return t[0];throw new Kl("expected a single document in the stream, but found more")}}var cD=aD,uD=lD,hD={loadAll:cD,load:uD},dD=hD.load;const pD=globalThis.window;let _w=dD(pD.options);var RT;const hh=((RT=_w==null?void 0:_w.defaults)==null?void 0:RT.iiifServer)||"iiif.mdpress.io";console.log(`iiifServer=${hh}`);function kw(n){return/^Q\d+$/.test(n)}function fD(n){return n.replace(/-([a-z])/g,function(r){return r[1].toUpperCase()})}function q2(n,r="en"){return typeof n=="object"?n[r]||n.none||n[Object.keys(n).sort()[0]]:n}function gD(n,r="en"){let t=[];return n.metadata&&n.metadata.forEach(o=>{t.push({label:q2(o.label,r)[0],value:q2(o.value,r)})}),t}function mD(n,r="en"){return Object.fromEntries(gD(n,r).map(t=>[t.label,t.value]))}function Ew(){return"ontouchstart"in document.documentElement&&/mobi/i.test(navigator.userAgent)}let Tn={};async function vD(n=[],r="en"){let t=n.filter(o=>!Tn[o]).map(o=>`(<http://www.wikidata.org/entity/${o}>)`);if(t.length>0){let o=`
      SELECT ?item ?label ?description ?alias ?image ?logoImage ?coords ?pageBanner ?whosOnFirst ?wikipedia WHERE {
        VALUES (?item) { ${t.join(" ")} }
        ?item rdfs:label ?label . 
        FILTER (LANG(?label) = "${r}" || LANG(?label) = "en")
        OPTIONAL { ?item schema:description ?description . FILTER (LANG(?description) = "${r}" || LANG(?description) = "en")}
        OPTIONAL { ?item skos:altLabel ?alias . FILTER (LANG(?alias) = "${r}" || LANG(?alias) = "en")}
        OPTIONAL { ?item wdt:P625 ?coords . }
        OPTIONAL { ?item wdt:P18 ?image . }
        OPTIONAL { ?item wdt:P154 ?logoImage . }
        OPTIONAL { ?item wdt:P948 ?pageBanner . }
        OPTIONAL { ?item wdt:P6766 ?whosOnFirst . }
        OPTIONAL { ?wikipedia schema:about ?item; schema:isPartOf <https://${r}.wikipedia.org/> . }
    }`,l=await fetch("https://query.wikidata.org/sparql",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/sparql-results+json"},body:`query=${encodeURIComponent(o)}`});if(l.ok)return(await l.json()).results.bindings.forEach(d=>{let f=d.item.value.split("/").pop();Tn[f]?d.alias&&Tn[f].aliases.push(d.alias.value):(Tn[f]={id:f,label:d.label.value},d.description&&(Tn[f].description=d.description.value),d.alias&&(Tn[f].aliases=[d.alias.value]),d.coords&&(Tn[f].coords=d.coords.value.slice(6,-1).split(" ").reverse().join(",")),d.wikipedia&&(Tn[f].wikipedia=d.wikipedia.value),d.pageBanner&&(Tn[f].pageBanner=d.pageBanner.value),d.image&&(Tn[f].image=d.image.value,Tn[f].thumbnail=V2(d.image.value,300)),d.logoImage&&(Tn[f].logoImage=d.logoImage.value,Tn[f].thumbnail||(Tn[f].thumbnail=V2(d.logoImage.value,300))),d.whosOnFirst&&(Tn[f].geojson=yD(d.whosOnFirst.value)))}),Object.fromEntries(n.filter(d=>Tn[d]).map(d=>[d,Tn[d]]))}return Object.fromEntries(n.filter(o=>Tn[o]).map(o=>[o,Tn[o]]))}function V2(n,r){n=(Array.isArray(n)?n[0]:n).replace(/Special:FilePath\//,"File:").split("File:").pop(),n=decodeURIComponent(n).replace(/ /g,"_");const t=nn.hashStr(n),o=n.split(".").pop();let l=`https://upload.wikimedia.org/wikipedia/commons${r?"/thumb":""}`;return l+=`/${t.slice(0,1)}/${t.slice(0,2)}/${n}`,r&&(l+=`/${r}px-${n}`,o==="svg"?l+=".png":(o==="tif"||o==="tiff")&&(l+=".jpg")),l}function yD(n){let r=[];for(let t=0;t<n.length;t+=3)r.push(n.slice(t,t+3));return`https://data.whosonfirst.org/${r.join("/")}/${n}.geojson`}async function bD(n,r,t){return new Promise(o=>{let{x:l,y:u,w:d,h:f}=r,{width:m,height:v}=t,_=new Image;_.crossOrigin="anonymous",l=l?l/100:0,u=u?u/100:0,d=d?d/100:0,f=f?f/100:0,_.onload=()=>{let k=_.width,C=_.height,M=d>0?k*d:k-k*l,A=f>0?C*f:C-C*u,F=M/A;F>1?v=m/F:m=v*F;const U=document.createElement("canvas"),j=U.getContext("2d");U.width=m,U.height=v,l=l*k,u=u*C,j==null||j.drawImage(_,l,u,M,A,0,0,m,v);let J=U.toDataURL();o(J)},_.src=n})}async function Nd(n,r="en"){return(await vD([n],r))[n]}function AC(n,r,t=[]){if(t=t||[],r.items)for(let o=0;o<r.items.length;o++){let l=r.items[o];!Object.entries(n).find(([d,f])=>l[d]&&l[d]!==f)?t.push(l):AC(n,l,t)}return t}function wD(n,r,t=1){const o=AC(n,r);return o.length>=t?o[t-1]:null}function OC(n,r=1){return wD({type:"Annotation",motivation:"painting"},n,r).body}function xD(n){let r=(n==null?void 0:n.split("/"))||[],t="full",o="full",l="0",u="default",d="jpg",f=0;return{region:r.length>f&&r[f]?r[f]:t,size:r.length>f+1&&r[f+1]?r[f+1]:o,rotation:r.length>f+2&&r[f+2]?r[f+2]:l,quality:r.length>f+3&&r[f+3]?r[f+3]:u,format:r.length>f+4&&r[f+4]?r[f+4]:d}}const Fv={};async function _D(n,r=!1){let t=n.map(l=>l.indexOf("http")===0?l:`https://${hh}/${l}/manifest.json`),o=t.filter(l=>!Fv[l]);if(o.length>0){let l=o.map(f=>(r&&["localhost",hh].includes(new URL(f).hostname)&&(f+="?refresh"),fetch(f))),u=await Promise.all(l),d=await Promise.all(u.map(f=>f.json()));if(l=d.filter(f=>!Array.isArray(f["@context"])&&parseFloat(f["@context"].split("/").slice(-2,-1).pop())<3).map(f=>fetch(`https://${hh}/prezi2to3/`,{method:"POST",body:JSON.stringify(f)})),l.length>0){u=await Promise.all(l);let f=await Promise.all(u.map(m=>m.json()));for(let m=0;m<d.length;m++){let v=d[m].id||d[m]["@id"],_=f.find(k=>(k.id||k["@id"])===v);_&&(d[m]=_)}}return d.forEach((f,m)=>Fv[o[m]]=f),t.map(f=>Fv[f])}else return t.map(l=>Fv[l])}async function z0(n,r=!1){let t=n.indexOf("http")===0?n:`https://${hh}/${n}/manifest.json`;return(await _D([t],r))[0]}const kD={key:0,class:"logo"},ED=["href"],TD=["src"],SD={class:"branding"},CD={key:0,class:"title"},PD=["href","innerHTML"],MD=["innerHTML"],ID={class:"search-and-menu"},LD=["search-domain","search-cx","search-key"],RD=["contact","pdf-download-enabled","innerHTML"],AD={key:0},OD=["manifest"],zD=ms({__name:"Header.ce",props:{alpha:{type:Number},background:{type:String},breadcrumbs:{type:Boolean,default:!1},color:{type:String},contact:{type:String},height:{type:Number},iconFilter:{type:String},logo:{type:String},options:{type:String},pdfDownloadEnabled:{type:Boolean,default:!1},position:{type:String,default:"center"},subtitle:{type:String},searchDomain:{type:String},searchCx:{type:String},searchKey:{type:String},title:{type:String},top:{type:Number,default:0}},setup(n){const r=n,t=self.window,o=Ne(null),l=Vr(()=>{var Z,lt;return(lt=(Z=o.value)==null?void 0:Z.getRootNode())==null?void 0:lt.host}),u=Ne(null),d=Ne(null),f=Ne(),m=Ne(t.config||{});ri(m,Z=>{console.log("watch.config",Z)});const v=Vr(()=>{var Z;return r.title||((Z=m.value.meta)==null?void 0:Z.title)}),_=Vr(()=>{var Z,lt;return r.background||((lt=(Z=m.value.defaults)==null?void 0:Z.header)==null?void 0:lt.backgroundImage)}),k=Vr(()=>{var lt,ut;let Z=r.logo||((ut=(lt=m.value.defaults)==null?void 0:lt.header)==null?void 0:ut.logo);return Z&&((Z==null?void 0:Z.indexOf("http"))===0?Z:`${m.value.baseurl}/${Z[0]==="/"?Z.slice(1):Z}`)}),C=Vr(()=>{var Z,lt;return r.iconFilter===void 0?(lt=(Z=m.value.defaults)==null?void 0:Z.header)==null?void 0:lt.iconFilter:r.iconFilter}),M=Vr(()=>r.color||(_.value?"black":"#ddd")),A=Vr(()=>{var Z,lt;return r.contact||((lt=(Z=m.value.defaults)==null?void 0:Z.header)==null?void 0:lt.contact)}),F=Vr(()=>{var Z,lt;return r.breadcrumbs||((lt=(Z=m.value.defaults)==null?void 0:Z.header)==null?void 0:lt.breadcrumbs)}),U=Vr(()=>{var Z,lt;return r.pdfDownloadEnabled||((lt=(Z=m.value.defaults)==null?void 0:Z.header)==null?void 0:lt.pdfDownloadEnabled)});ri(d,Z=>{Z&&(Z.style.backgroundColor=ct(M.value,r.alpha||(_.value?.3:1)))});const j=Ne(!1),J=Ne(),H=Ne(),V=Ne(),ot=Ne();ri(l,Z=>{var lt,ut;if(m.value=t.config||{},H.value=xD(r.options||""),_.value&&z0(_.value).then(mt=>J.value=mt),u.value&&(u.value.style.height=r.height?`${r.height}px`:_.value?"400px":"100px"),(ut=(lt=m.value.defaults)==null?void 0:lt.header)!=null&&ut.class&&m.value.defaults.header.class.split(" ").forEach(mt=>Z.classList.add(mt)),j.value=Z.classList.contains("sticky"),j.value){let mt=parseInt(Z.style.top.replace(/px/,"")),re=r.top?r.top:mt||(_.value?-300:0);Z.style.top=`${re}px`}}),hu(()=>{H1(()=>{var lt,ut,mt,re;let Z=l.value.querySelector("ul");!Z&&((ut=(lt=m.value.defaults)==null?void 0:lt.header)!=null&&ut.nav)&&(Z=document.createElement("ul"),(re=(mt=m.value.defaults)==null?void 0:mt.header)==null||re.nav.forEach(ne=>{const ye=document.createElement("li"),Bt=document.createElement("a");Bt.href=ne.href,Bt.innerHTML=ne.label,ne.icon&&(Bt.innerHTML+=ne.icon),ye.appendChild(Bt),Z.appendChild(ye)})),f.value=Z==null?void 0:Z.innerHTML})}),ri(J,(Z,lt)=>{Z!==lt&&(V.value=OC(Z))}),ri(V,async(Z,lt)=>{Z!==lt&&(ot.value=Z.service?ft(Z.service[0].id||Z.service[0]["@id"],H.value):await bD(V.value.id,H.value.region,{width:l.value.clientWidth,height:r.height}))}),ri(ot,()=>{u.value&&(u.value.style.backgroundImage=`url("${ot.value}")`,u.value.style.backgroundPosition=r.position)});function ft(Z,lt){let ut=V.value,mt=Number((ut.width/ut.height).toFixed(4)),re=Math.min(800,l.value.getBoundingClientRect().width),ne=Number(re/mt).toFixed(0),ye=`${re},${ne}`;return`${Z.replace(/\/info.json$/,"")}/${lt.region}/${ye}/${lt.rotation}/${lt.quality}.${lt.format}`}const ht={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#964B00",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8B4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function ct(Z,lt=1){let ut=Z[0]==="#"?Z:ht[Z.toLowerCase()];if(ut.length===4){let mt=ut.slice(1,2),re=ut.slice(2,3),ne=ut.slice(3,4);return mt=parseInt(mt+mt,16),re=parseInt(re+re,16),ne=parseInt(ne+ne,16),`rgba(${mt}, ${re}, ${ne}, ${lt})`}else{const mt=parseInt(ut.slice(1,3),16),re=parseInt(ut.slice(3,5),16),ne=parseInt(ut.slice(5,7),16);return`rgba(${mt}, ${re}, ${ne}, ${lt})`}}return(Z,lt)=>(Oe(),De("div",{class:"header",ref_key:"root",ref:o},[Qt("div",{class:"background",ref_key:"background",ref:u},null,512),Qt("div",{class:"navbar",ref_key:"navbar",ref:d},[k.value?(Oe(),De("div",kD,[Qt("a",{href:`${m.value.baseurl}/`},[Qt("img",{src:k.value,class:qg(`${C.value?"icon-"+C.value:""}`),alt:"logo"},null,10,TD)],8,ED)])):gi("",!0),Qt("div",SD,[v.value?(Oe(),De("div",CD,[Qt("a",{href:`${m.value.baseurl}/`,innerHTML:v.value},null,8,PD)])):gi("",!0),n.subtitle?(Oe(),De("div",{key:1,class:"subtitle clamp1",innerHTML:n.subtitle},null,8,MD)):gi("",!0)]),Qt("div",ID,[r.searchDomain?(Oe(),De("ez-site-search",{key:0,"search-domain":r.searchDomain,"search-cx":r.searchCx,"search-key":r.searchKey},null,8,LD)):gi("",!0),f.value!==void 0?(Oe(),De("ez-menu",{key:1,contact:A.value,"pdf-download-enabled":U.value?"":null,innerHTML:f.value},null,8,RD)):gi("",!0)])],512),F.value?(Oe(),De("ez-breadcrumbs",AD)):gi("",!0),J.value?(Oe(),De("ez-manifest-popup",{key:1,manifest:J.value},null,8,OD)):gi("",!0)],512))}}),ND=`:host{display:block}.header{display:grid;grid-template-rows:1fr 100px auto;grid-template-columns:1fr}.background{grid-area:1 / 1 / 3 / 2;background-repeat:no-repeat;background-size:cover;background-position:center;z-index:1;position:relative}.navbar{grid-area:2 / 1 / 3 / 2;background-color:#0006;color:#fff;z-index:2;display:flex;align-items:center;gap:1.5em;padding:0 20px}ez-manifest-popup{visibility:hidden;position:absolute;top:1em;right:1em;z-index:10}.header:hover ez-manifest-popup{visibility:visible;transition:all .5s ease-in}ez-breadcrumbs{grid-area:3 / 1 / 4 / 2;background-color:inherit;color:#fff;z-index:1}.branding{display:flex;flex-direction:column;gap:6px}.title a{font-size:2em;line-height:1;font-weight:500;text-decoration:none;color:inherit}.subtitle{font-size:1.2em;line-height:1;font-weight:300}.logo{display:flex;align-items:center;justify-content:center;height:50%}.logo a{height:100%}.logo img{-o-object-fit:contain;object-fit:contain;vertical-align:middle;height:100%}.search-and-menu{margin-left:auto;display:flex;align-items:center;gap:1em}.clamp1{display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}@media only screen and (max-width: 768px){.navbar{gap:.75em;padding:0 1em}.title a{font-size:1.3em}.subtitle{font-size:1em}.logo img{max-width:40px}ez-breadcrumbs{padding-left:.5rem}}.icon-white{filter:invert(100%) sepia(0%) saturate(7487%) hue-rotate(339deg) brightness(115%) contrast(100%)}
`,DD=Oa(zD,[["styles",[ND]]]);var wx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zC(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var NC={exports:{}};(function(n){//! openseadragon 4.0.0
//! Built on 2022-12-16
//! Git commit: v4.0.0-0-8e6196a
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function r(t){return new r.Viewer(t)}(function(t){t.version={versionStr:"4.0.0",major:parseInt("4",10),minor:parseInt("0",10),revision:parseInt("0",10)};var o={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},l=Object.prototype.toString,u=Object.prototype.hasOwnProperty;t.isFunction=function(d){return t.type(d)==="function"},t.isArray=Array.isArray||function(d){return t.type(d)==="array"},t.isWindow=function(d){return d&&typeof d=="object"&&"setInterval"in d},t.type=function(d){return d==null?String(d):o[l.call(d)]||"object"},t.isPlainObject=function(d){if(!d||r.type(d)!=="object"||d.nodeType||t.isWindow(d)||d.constructor&&!u.call(d,"constructor")&&!u.call(d.constructor.prototype,"isPrototypeOf"))return!1;var f;for(var m in d)f=m;return f===void 0||u.call(d,f)},t.isEmptyObject=function(d){for(var f in d)return!1;return!0},t.freezeObject=function(d){return Object.freeze?t.freezeObject=Object.freeze:t.freezeObject=function(f){return f},t.freezeObject(d)},t.supportsCanvas=function(){var d=document.createElement("canvas");return!!(t.isFunction(d.getContext)&&d.getContext("2d"))}(),t.isCanvasTainted=function(d){var f=!1;try{d.getContext("2d").getImageData(0,0,1,1)}catch{f=!0}return f},t.supportsAddEventListener=function(){return!!(document.documentElement.addEventListener&&document.addEventListener)}(),t.supportsRemoveEventListener=function(){return!!(document.documentElement.removeEventListener&&document.removeEventListener)}(),t.supportsEventListenerOptions=function(){var d=0;if(t.supportsAddEventListener)try{var f={get capture(){return d++,!1},get once(){return d++,!1},get passive(){return d++,!1}};window.addEventListener("test",null,f),window.removeEventListener("test",null,f)}catch{d=0}return d>=3}(),t.getCurrentPixelDensityRatio=function(){if(t.supportsCanvas){var d=document.createElement("canvas").getContext("2d"),f=window.devicePixelRatio||1,m=d.webkitBackingStorePixelRatio||d.mozBackingStorePixelRatio||d.msBackingStorePixelRatio||d.oBackingStorePixelRatio||d.backingStorePixelRatio||1;return Math.max(f,1)/m}else return 1},t.pixelDensityRatio=t.getCurrentPixelDensityRatio()})(r),function(t){t.extend=function(){var m,v,_,k,C,M,A=arguments[0]||{},F=arguments.length,U=!1,j=1;for(typeof A=="boolean"&&(U=A,A=arguments[1]||{},j=2),typeof A!="object"&&!r.isFunction(A)&&(A={}),F===j&&(A=this,--j);j<F;j++)if(m=arguments[j],m!==null||m!==void 0)for(v in m){var J=Object.getOwnPropertyDescriptor(m,v);if(J!==void 0){if(J.get||J.set){Object.defineProperty(A,v,J);continue}k=J.value}else{t.console.warn('Could not copy inherited property "'+v+'".');continue}A!==k&&(U&&k&&(r.isPlainObject(k)||(C=r.isArray(k)))?(_=A[v],C?(C=!1,M=_&&r.isArray(_)?_:[]):M=_&&r.isPlainObject(_)?_:{},A[v]=r.extend(U,M,k)):k!==void 0&&(A[v]=k))}return A};var o=function(){if(typeof navigator!="object")return!1;var m=navigator.userAgent;return typeof m!="string"?!1:m.indexOf("iPhone")!==-1||m.indexOf("iPad")!==-1||m.indexOf("iPod")!==-1};t.extend(t,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},splitHashDataForPost:!1,panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{dragToPan:!0,scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!1,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerDblClickDrag:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:o(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorElement:null,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,subPixelRoundingForTransparency:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"],silenceMultiImageWarnings:!1},SIGNAL:"----seadragon----",delegate:function(m,v){return function(){var _=arguments;return _===void 0&&(_=[]),v.apply(m,_)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5,EDGE:6,CHROMEEDGE:7},SUBPIXEL_ROUNDING_OCCURRENCES:{NEVER:0,ONLY_AT_REST:1,ALWAYS:2},_viewers:new Map,getViewer:function(m){return t._viewers.get(this.getElement(m))},getElement:function(m){return typeof m=="string"&&(m=document.getElementById(m)),m},getElementPosition:function(m){var v=new t.Point,_,k;for(m=t.getElement(m),_=t.getElementStyle(m).position==="fixed",k=f(m,_);k;)v.x+=m.offsetLeft,v.y+=m.offsetTop,_&&(v=v.plus(t.getPageScroll())),m=k,_=t.getElementStyle(m).position==="fixed",k=f(m,_);return v},getElementOffset:function(m){m=t.getElement(m);var v=m&&m.ownerDocument,_,k,C={top:0,left:0};return v?(_=v.documentElement,typeof m.getBoundingClientRect<"u"&&(C=m.getBoundingClientRect()),k=v===v.window?v:v.nodeType===9?v.defaultView||v.parentWindow:!1,new t.Point(C.left+(k.pageXOffset||_.scrollLeft)-(_.clientLeft||0),C.top+(k.pageYOffset||_.scrollTop)-(_.clientTop||0))):new t.Point},getElementSize:function(m){return m=t.getElement(m),new t.Point(m.clientWidth,m.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(m){return m=t.getElement(m),m.currentStyle}:function(m){return m=t.getElement(m),window.getComputedStyle(m,"")},getCssPropertyWithVendorPrefix:function(m){var v={};return t.getCssPropertyWithVendorPrefix=function(_){if(v[_]!==void 0)return v[_];var k=document.createElement("div").style,C=null;if(k[_]!==void 0)C=_;else for(var M=["Webkit","Moz","MS","O","webkit","moz","ms","o"],A=t.capitalizeFirstLetter(_),F=0;F<M.length;F++){var U=M[F]+A;if(k[U]!==void 0){C=U;break}}return v[_]=C,C},t.getCssPropertyWithVendorPrefix(m)},capitalizeFirstLetter:function(m){return m.charAt(0).toUpperCase()+m.slice(1)},positiveModulo:function(m,v){var _=m%v;return _<0&&(_+=v),_},pointInElement:function(m,v){m=t.getElement(m);var _=t.getElementOffset(m),k=t.getElementSize(m);return v.x>=_.x&&v.x<_.x+k.x&&v.y<_.y+k.y&&v.y>=_.y},getMousePosition:function(m){if(typeof m.pageX=="number")t.getMousePosition=function(v){var _=new t.Point;return _.x=v.pageX,_.y=v.pageY,_};else if(typeof m.clientX=="number")t.getMousePosition=function(v){var _=new t.Point;return _.x=v.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,_.y=v.clientY+document.body.scrollTop+document.documentElement.scrollTop,_};else throw new Error("Unknown event mouse position, no known technique.");return t.getMousePosition(m)},getPageScroll:function(){var m=document.documentElement||{},v=document.body||{};if(typeof window.pageXOffset=="number")t.getPageScroll=function(){return new t.Point(window.pageXOffset,window.pageYOffset)};else if(v.scrollLeft||v.scrollTop)t.getPageScroll=function(){return new t.Point(document.body.scrollLeft,document.body.scrollTop)};else if(m.scrollLeft||m.scrollTop)t.getPageScroll=function(){return new t.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)};else return new t.Point(0,0);return t.getPageScroll()},setPageScroll:function(m){if(typeof window.scrollTo<"u")t.setPageScroll=function(k){window.scrollTo(k.x,k.y)};else{var v=t.getPageScroll();if(v.x===m.x&&v.y===m.y)return;document.body.scrollLeft=m.x,document.body.scrollTop=m.y;var _=t.getPageScroll();if(_.x!==v.x&&_.y!==v.y){t.setPageScroll=function(k){document.body.scrollLeft=k.x,document.body.scrollTop=k.y};return}if(document.documentElement.scrollLeft=m.x,document.documentElement.scrollTop=m.y,_=t.getPageScroll(),_.x!==v.x&&_.y!==v.y){t.setPageScroll=function(k){document.documentElement.scrollLeft=k.x,document.documentElement.scrollTop=k.y};return}t.setPageScroll=function(k){}}t.setPageScroll(m)},getWindowSize:function(){var m=document.documentElement||{},v=document.body||{};if(typeof window.innerWidth=="number")t.getWindowSize=function(){return new t.Point(window.innerWidth,window.innerHeight)};else if(m.clientWidth||m.clientHeight)t.getWindowSize=function(){return new t.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else if(v.clientWidth||v.clientHeight)t.getWindowSize=function(){return new t.Point(document.body.clientWidth,document.body.clientHeight)};else throw new Error("Unknown window size, no known technique.");return t.getWindowSize()},makeCenteredNode:function(m){m=t.getElement(m);var v=[t.makeNeutralElement("div"),t.makeNeutralElement("div"),t.makeNeutralElement("div")];return t.extend(v[0].style,{display:"table",height:"100%",width:"100%"}),t.extend(v[1].style,{display:"table-row"}),t.extend(v[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),v[0].appendChild(v[1]),v[1].appendChild(v[2]),v[2].appendChild(m),v[0]},makeNeutralElement:function(m){var v=document.createElement(m),_=v.style;return _.background="transparent none",_.border="none",_.margin="0px",_.padding="0px",_.position="static",v},now:function(){return Date.now?t.now=Date.now:t.now=function(){return new Date().getTime()},t.now()},makeTransparentImage:function(m){var v=t.makeNeutralElement("img");return v.src=m,v},setElementOpacity:function(m,v,_){var k,C;m=t.getElement(m),_&&!t.Browser.alpha&&(v=Math.round(v)),t.Browser.opacity?m.style.opacity=v<1?v:"":v<1?(k=Math.round(100*v),C="alpha(opacity="+k+")",m.style.filter=C):m.style.filter=""},setElementTouchActionNone:function(m){m=t.getElement(m),typeof m.style.touchAction<"u"?m.style.touchAction="none":typeof m.style.msTouchAction<"u"&&(m.style.msTouchAction="none")},setElementPointerEvents:function(m,v){m=t.getElement(m),typeof m.style<"u"&&typeof m.style.pointerEvents<"u"&&(m.style.pointerEvents=v)},setElementPointerEventsNone:function(m){t.setElementPointerEvents(m,"none")},addClass:function(m,v){m=t.getElement(m),m.className?(" "+m.className+" ").indexOf(" "+v+" ")===-1&&(m.className+=" "+v):m.className=v},indexOf:function(m,v,_){return Array.prototype.indexOf?this.indexOf=function(k,C,M){return k.indexOf(C,M)}:this.indexOf=function(k,C,M){var A,F=M||0,U;if(!k)throw new TypeError;if(U=k.length,U===0||F>=U)return-1;for(F<0&&(F=U-Math.abs(F)),A=F;A<U;A++)if(k[A]===C)return A;return-1},this.indexOf(m,v,_)},removeClass:function(m,v){var _,k=[],C;for(m=t.getElement(m),_=m.className.split(/\s+/),C=0;C<_.length;C++)_[C]&&_[C]!==v&&k.push(_[C]);m.className=k.join(" ")},normalizeEventListenerOptions:function(m){var v;return typeof m<"u"?typeof m=="boolean"?v=t.supportsEventListenerOptions?{capture:m}:m:v=t.supportsEventListenerOptions?m:typeof m.capture<"u"?m.capture:!1:v=t.supportsEventListenerOptions?{capture:!1}:!1,v},addEvent:function(){if(t.supportsAddEventListener)return function(m,v,_,k){k=t.normalizeEventListenerOptions(k),m=t.getElement(m),m.addEventListener(v,_,k)};if(document.documentElement.attachEvent&&document.attachEvent)return function(m,v,_){m=t.getElement(m),m.attachEvent("on"+v,_)};throw new Error("No known event model.")}(),removeEvent:function(){if(t.supportsRemoveEventListener)return function(m,v,_,k){k=t.normalizeEventListenerOptions(k),m=t.getElement(m),m.removeEventListener(v,_,k)};if(document.documentElement.detachEvent&&document.detachEvent)return function(m,v,_){m=t.getElement(m),m.detachEvent("on"+v,_)};throw new Error("No known event model.")}(),cancelEvent:function(m){m.preventDefault()},eventIsCanceled:function(m){return m.defaultPrevented},stopEvent:function(m){m.stopPropagation()},createCallback:function(m,v){var _=[],k;for(k=2;k<arguments.length;k++)_.push(arguments[k]);return function(){var C=_.concat([]),M;for(M=0;M<arguments.length;M++)C.push(arguments[M]);return v.apply(m,C)}},getUrlParameter:function(m){var v=d[m];return v||null},getUrlProtocol:function(m){var v=m.match(/^([a-z]+:)\/\//i);return v===null?window.location.protocol:v[1].toLowerCase()},createAjaxRequest:function(m){var v;try{v=!!new ActiveXObject("Microsoft.XMLHTTP")}catch{v=!1}if(v)window.XMLHttpRequest?t.createAjaxRequest=function(_){return _?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:t.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else if(window.XMLHttpRequest)t.createAjaxRequest=function(){return new XMLHttpRequest};else throw new Error("Browser doesn't support XMLHttpRequest.");return t.createAjaxRequest(m)},makeAjaxRequest:function(m,v,_){var k,C,M,A;t.isPlainObject(m)&&(v=m.success,_=m.error,k=m.withCredentials,C=m.headers,M=m.responseType||null,A=m.postData||null,m=m.url);var F=t.getUrlProtocol(m),U=t.createAjaxRequest(F==="file:");if(!t.isFunction(v))throw new Error("makeAjaxRequest requires a success callback");U.onreadystatechange=function(){U.readyState===4&&(U.onreadystatechange=function(){},U.status>=200&&U.status<300||U.status===0&&F!=="http:"&&F!=="https:"?v(U):t.isFunction(_)?_(U):t.console.error("AJAX request returned %d: %s",U.status,m))};var j=A?"POST":"GET";try{if(U.open(j,m,!0),M&&(U.responseType=M),C)for(var J in C)Object.prototype.hasOwnProperty.call(C,J)&&C[J]&&U.setRequestHeader(J,C[J]);k&&(U.withCredentials=!0),U.send(A)}catch(H){t.console.error("%s while making AJAX request: %s",H.name,H.message),U.onreadystatechange=function(){},t.isFunction(_)&&_(U,H)}return U},jsonp:function(m){var v,_=m.url,k=document.head||document.getElementsByTagName("head")[0]||document.documentElement,C=m.callbackName||"openseadragon"+t.now(),M=window[C],A="$1"+C+"$2",F=m.param||"callback",U=m.callback;_=_.replace(/(=)\?(&|$)|\?\?/i,A),_+=(/\?/.test(_)?"&":"?")+F+"="+C,window[C]=function(j){if(M)window[C]=M;else try{delete window[C]}catch{}U&&t.isFunction(U)&&U(j)},v=document.createElement("script"),(m.async!==void 0||m.async!==!1)&&(v.async="async"),m.scriptCharset&&(v.charset=m.scriptCharset),v.src=_,v.onload=v.onreadystatechange=function(j,J){(J||!v.readyState||/loaded|complete/.test(v.readyState))&&(v.onload=v.onreadystatechange=null,k&&v.parentNode&&k.removeChild(v),v=void 0)},k.insertBefore(v,k.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(m){if(window.DOMParser)t.parseXml=function(v){var _=null,k;return k=new DOMParser,_=k.parseFromString(v,"text/xml"),_};else if(window.ActiveXObject)t.parseXml=function(v){var _=null;return _=new ActiveXObject("Microsoft.XMLDOM"),_.async=!1,_.loadXML(v),_};else throw new Error("Browser doesn't support XML DOM.");return t.parseXml(m)},parseJSON:function(m){return t.parseJSON=window.JSON.parse,t.parseJSON(m)},imageFormatSupported:function(m){return m=m||"",!!u[m.toLowerCase()]},setImageFormatsSupported:function(m){t.extend(u,m)}});var l=function(m){};t.console=window.console||{log:l,debug:l,info:l,warn:l,error:l,assert:l},t.Browser={vendor:t.BROWSERS.UNKNOWN,version:0,alpha:!0};var u={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},d={};(function(){var m=navigator.appVersion,v=navigator.userAgent,_;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&(t.Browser.vendor=t.BROWSERS.IE,t.Browser.version=parseFloat(v.substring(v.indexOf("MSIE")+5,v.indexOf(";",v.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(v.indexOf("Edge")>=0?(t.Browser.vendor=t.BROWSERS.EDGE,t.Browser.version=parseFloat(v.substring(v.indexOf("Edge")+5))):v.indexOf("Edg")>=0?(t.Browser.vendor=t.BROWSERS.CHROMEEDGE,t.Browser.version=parseFloat(v.substring(v.indexOf("Edg")+4))):v.indexOf("Firefox")>=0?(t.Browser.vendor=t.BROWSERS.FIREFOX,t.Browser.version=parseFloat(v.substring(v.indexOf("Firefox")+8))):v.indexOf("Safari")>=0?(t.Browser.vendor=v.indexOf("Chrome")>=0?t.BROWSERS.CHROME:t.BROWSERS.SAFARI,t.Browser.version=parseFloat(v.substring(v.substring(0,v.indexOf("Safari")).lastIndexOf("/")+1,v.indexOf("Safari")))):(_=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),_.exec(v)!==null&&(t.Browser.vendor=t.BROWSERS.IE,t.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":t.Browser.vendor=t.BROWSERS.OPERA,t.Browser.version=parseFloat(m);break}var k=window.location.search.substring(1),C=k.split("&"),M,A,F;for(F=0;F<C.length;F++)if(M=C[F],A=M.indexOf("="),A>0){var U=M.substring(0,A),j=M.substring(A+1);try{d[U]=decodeURIComponent(j)}catch{t.console.error("Ignoring malformed URL parameter: %s=%s",U,j)}}t.Browser.alpha=!(t.Browser.vendor===t.BROWSERS.CHROME&&t.Browser.version<2),t.Browser.opacity=!0,t.Browser.vendor===t.BROWSERS.IE&&t.Browser.version<11&&t.console.error("Internet Explorer versions < 11 are not supported by OpenSeadragon")})(),function(m){var v=m.requestAnimationFrame||m.mozRequestAnimationFrame||m.webkitRequestAnimationFrame||m.msRequestAnimationFrame,_=m.cancelAnimationFrame||m.mozCancelAnimationFrame||m.webkitCancelAnimationFrame||m.msCancelAnimationFrame;if(v&&_)t.requestAnimationFrame=function(){return v.apply(m,arguments)},t.cancelAnimationFrame=function(){return _.apply(m,arguments)};else{var k=[],C=[],M=0,A;t.requestAnimationFrame=function(F){return k.push([++M,F]),A||(A=setInterval(function(){if(k.length){var U=t.now(),j=C;for(C=k,k=j;C.length;)C.shift()[1](U)}else clearInterval(A),A=void 0},1e3/50)),M},t.cancelAnimationFrame=function(F){var U,j;for(U=0,j=k.length;U<j;U+=1)if(k[U][0]===F){k.splice(U,1);return}for(U=0,j=C.length;U<j;U+=1)if(C[U][0]===F){C.splice(U,1);return}}}}(window);function f(m,v){return v&&m!==document.body?document.body:m.offsetParent}}(r),function(t,o){n.exports?n.exports=o():t.OpenSeadragon=o()}(wx,function(){return r}),function(t){var o={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(o.supportsFullScreen=!0,o.getFullScreenElement=function(){return document.fullscreenElement},o.requestFullScreen=function(l){return l.requestFullscreen()},o.exitFullScreen=function(){document.exitFullscreen()},o.fullScreenEventName="fullscreenchange",o.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(o.supportsFullScreen=!0,o.getFullScreenElement=function(){return document.msFullscreenElement},o.requestFullScreen=function(l){return l.msRequestFullscreen()},o.exitFullScreen=function(){document.msExitFullscreen()},o.fullScreenEventName="MSFullscreenChange",o.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(o.supportsFullScreen=!0,o.getFullScreenElement=function(){return document.webkitFullscreenElement},o.requestFullScreen=function(l){return l.webkitRequestFullscreen()},o.exitFullScreen=function(){document.webkitExitFullscreen()},o.fullScreenEventName="webkitfullscreenchange",o.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(o.supportsFullScreen=!0,o.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},o.requestFullScreen=function(l){return l.webkitRequestFullScreen()},o.exitFullScreen=function(){document.webkitCancelFullScreen()},o.fullScreenEventName="webkitfullscreenchange",o.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(o.supportsFullScreen=!0,o.getFullScreenElement=function(){return document.mozFullScreenElement},o.requestFullScreen=function(l){return l.mozRequestFullScreen()},o.exitFullScreen=function(){document.mozCancelFullScreen()},o.fullScreenEventName="mozfullscreenchange",o.fullScreenErrorEventName="mozfullscreenerror"),o.isFullScreen=function(){return o.getFullScreenElement()!==null},o.cancelFullScreen=function(){t.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),o.exitFullScreen()},t.extend(t,o)}(r),function(t){t.EventSource=function(){this.events={}},t.EventSource.prototype={addOnceHandler:function(o,l,u,d){var f=this;d=d||1;var m=0,v=function(_){m++,m===d&&f.removeHandler(o,v),l(_)};this.addHandler(o,v,u)},addHandler:function(o,l,u){var d=this.events[o];d||(this.events[o]=d=[]),l&&t.isFunction(l)&&(d[d.length]={handler:l,userData:u||null})},removeHandler:function(o,l){var u=this.events[o],d=[],f;if(u&&t.isArray(u)){for(f=0;f<u.length;f++)u[f].handler!==l&&d.push(u[f]);this.events[o]=d}},numberOfHandlers:function(o){var l=this.events[o];return l?l.length:0},removeAllHandlers:function(o){if(o)this.events[o]=[];else for(var l in this.events)this.events[l]=[]},getHandler:function(o){var l=this.events[o];return!l||!l.length?null:(l=l.length===1?[l[0]]:Array.apply(null,l),function(u,d){var f,m=l.length;for(f=0;f<m;f++)l[f]&&(d.eventSource=u,d.userData=l[f].userData,l[f].handler(d))})},raiseEvent:function(o,l){var u=this.getHandler(o);u&&(l||(l={}),u(this,l))}}}(r),function(t){var o={};t.MouseTracker=function($){var K=arguments;t.isPlainObject($)||($={element:K[0],clickTimeThreshold:K[1],clickDistThreshold:K[2]}),this.hash=Math.random(),this.element=t.getElement($.element),this.clickTimeThreshold=$.clickTimeThreshold||t.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=$.clickDistThreshold||t.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=$.dblClickTimeThreshold||t.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=$.dblClickDistThreshold||t.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=$.userData||null,this.stopDelay=$.stopDelay||50,this.preProcessEventHandler=$.preProcessEventHandler||null,this.contextMenuHandler=$.contextMenuHandler||null,this.enterHandler=$.enterHandler||null,this.leaveHandler=$.leaveHandler||null,this.exitHandler=$.exitHandler||null,this.overHandler=$.overHandler||null,this.outHandler=$.outHandler||null,this.pressHandler=$.pressHandler||null,this.nonPrimaryPressHandler=$.nonPrimaryPressHandler||null,this.releaseHandler=$.releaseHandler||null,this.nonPrimaryReleaseHandler=$.nonPrimaryReleaseHandler||null,this.moveHandler=$.moveHandler||null,this.scrollHandler=$.scrollHandler||null,this.clickHandler=$.clickHandler||null,this.dblClickHandler=$.dblClickHandler||null,this.dragHandler=$.dragHandler||null,this.dragEndHandler=$.dragEndHandler||null,this.pinchHandler=$.pinchHandler||null,this.stopHandler=$.stopHandler||null,this.keyDownHandler=$.keyDownHandler||null,this.keyUpHandler=$.keyUpHandler||null,this.keyHandler=$.keyHandler||null,this.focusHandler=$.focusHandler||null,this.blurHandler=$.blurHandler||null;var at=this;o[this.hash]={click:function(st){H(at,st)},dblclick:function(st){V(at,st)},keydown:function(st){ot(at,st)},keyup:function(st){ft(at,st)},keypress:function(st){ht(at,st)},focus:function(st){ct(at,st)},blur:function(st){Z(at,st)},contextmenu:function(st){lt(at,st)},wheel:function(st){ut(at,st)},mousewheel:function(st){mt(at,st)},DOMMouseScroll:function(st){mt(at,st)},MozMousePixelScroll:function(st){mt(at,st)},losecapture:function(st){ne(at,st)},mouseenter:function(st){fe(at,st)},mouseleave:function(st){Ce(at,st)},mouseover:function(st){le(at,st)},mouseout:function(st){ue(at,st)},mousedown:function(st){er(at,st)},mouseup:function(st){Ut(at,st)},mousemove:function(st){Xt(at,st)},touchstart:function(st){ye(at,st)},touchend:function(st){Bt(at,st)},touchmove:function(st){pe(at,st)},touchcancel:function(st){Jt(at,st)},gesturestart:function(st){Wt(at,st)},gesturechange:function(st){Et(at,st)},gotpointercapture:function(st){qt(at,st)},lostpointercapture:function(st){Zt(at,st)},pointerenter:function(st){fe(at,st)},pointerleave:function(st){Ce(at,st)},pointerover:function(st){le(at,st)},pointerout:function(st){ue(at,st)},pointerdown:function(st){er(at,st)},pointerup:function(st){Ut(at,st)},pointermove:function(st){Xt(at,st)},pointercancel:function(st){vt(at,st)},pointerupcaptured:function(st){Gt(at,st)},pointermovecaptured:function(st){nt(at,st)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null,sentDragEvent:!1},this.hasGestureHandlers=!!(this.pressHandler||this.nonPrimaryPressHandler||this.releaseHandler||this.nonPrimaryReleaseHandler||this.clickHandler||this.dblClickHandler||this.dragHandler||this.dragEndHandler||this.pinchHandler),this.hasScrollHandler=!!this.scrollHandler,t.MouseTracker.havePointerEvents&&t.setElementPointerEvents(this.element,"auto"),this.exitHandler&&t.console.error("MouseTracker.exitHandler is deprecated. Use MouseTracker.leaveHandler instead."),$.startDisabled||this.setTracking(!0)},t.MouseTracker.prototype={destroy:function(){m(this),this.element=null,o[this.hash]=null,delete o[this.hash]},isTracking:function(){return o[this.hash].tracking},setTracking:function($){return $?f(this):m(this),this},getActivePointersListByType:function($){var K=o[this.hash],at,st=K.activePointersLists.length,Vt;for(at=0;at<st;at++)if(K.activePointersLists[at].type===$)return K.activePointersLists[at];return Vt=new t.MouseTracker.GesturePointList($),K.activePointersLists.push(Vt),Vt},getActivePointerCount:function(){var $=o[this.hash],K,at=$.activePointersLists.length,st=0;for(K=0;K<at;K++)st+=$.activePointersLists[K].getLength();return st},preProcessEventHandler:function(){},contextMenuHandler:function(){},enterHandler:function(){},leaveHandler:function(){},exitHandler:function(){},overHandler:function(){},outHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};var l=function(){try{return window.self!==window.top}catch{return!0}}();function u($){try{return $.addEventListener&&$.removeEventListener}catch{return!1}}t.MouseTracker.gesturePointVelocityTracker=function(){var $=[],K=0,at=0,st=function(lr,Be){return lr.hash.toString()+Be.type+Be.id.toString()},Vt=function(){var lr,Be=$.length,Un,ji,bs=t.now(),Js,fu,Ki;for(Js=bs-at,at=bs,lr=0;lr<Be;lr++)Un=$[lr],ji=Un.gPoint,ji.direction=Math.atan2(ji.currentPos.y-Un.lastPos.y,ji.currentPos.x-Un.lastPos.x),fu=Un.lastPos.distanceTo(ji.currentPos),Un.lastPos=ji.currentPos,Ki=1e3*fu/(Js+1),ji.speed=.75*Ki+.25*ji.speed},ee=function(lr,Be){var Un=st(lr,Be);$.push({guid:Un,gPoint:Be,lastPos:Be.currentPos}),$.length===1&&(at=t.now(),K=window.setInterval(Vt,50))},ke=function(lr,Be){var Un=st(lr,Be),ji,bs=$.length;for(ji=0;ji<bs;ji++)if($[ji].guid===Un){$.splice(ji,1),bs--,bs===0&&window.clearInterval(K);break}};return{addPoint:ee,removePoint:ke}}(),t.MouseTracker.captureElement=document,t.MouseTracker.wheelEventName=t.Browser.vendor===t.BROWSERS.IE&&t.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll",t.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur","contextmenu",t.MouseTracker.wheelEventName],t.MouseTracker.wheelEventName==="DOMMouseScroll"&&t.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent?(t.MouseTracker.havePointerEvents=!0,t.MouseTracker.subscribeEvents.push("pointerenter","pointerleave","pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),t.MouseTracker.havePointerCapture=function(){var $=document.createElement("div");return t.isFunction($.setPointerCapture)&&t.isFunction($.releasePointerCapture)}(),t.MouseTracker.havePointerCapture&&t.MouseTracker.subscribeEvents.push("gotpointercapture","lostpointercapture")):(t.MouseTracker.havePointerEvents=!1,t.MouseTracker.subscribeEvents.push("mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","mousemove"),t.MouseTracker.mousePointerId="legacy-mouse",t.MouseTracker.havePointerCapture=function(){var $=document.createElement("div");return t.isFunction($.setCapture)&&t.isFunction($.releaseCapture)}(),t.MouseTracker.havePointerCapture&&t.MouseTracker.subscribeEvents.push("losecapture"),"ontouchstart"in window&&t.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&t.MouseTracker.subscribeEvents.push("gesturestart","gesturechange")),t.MouseTracker.GesturePointList=function($){this._gPoints=[],this.type=$,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},t.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function($){return this._gPoints.push($)},removeById:function($){var K,at=this._gPoints.length;for(K=0;K<at;K++)if(this._gPoints[K].id===$){this._gPoints.splice(K,1);break}return this._gPoints.length},getByIndex:function($){return $<this._gPoints.length?this._gPoints[$]:null},getById:function($){var K,at=this._gPoints.length;for(K=0;K<at;K++)if(this._gPoints[K].id===$)return this._gPoints[K];return null},getPrimary:function($){var K,at=this._gPoints.length;for(K=0;K<at;K++)if(this._gPoints[K].isPrimary)return this._gPoints[K];return null},addContact:function(){++this.contacts,this.contacts>1&&(this.type==="mouse"||this.type==="pen")&&(t.console.warn("GesturePointList.addContact() Implausible contacts value"),this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}};function d($){var K=o[$.hash],at,st,Vt,ee,ke,lr=K.activePointersLists.length;for(at=0;at<lr;at++)if(Vt=K.activePointersLists[at],Vt.getLength()>0){for(ke=[],ee=Vt.asArray(),st=0;st<ee.length;st++)ke.push(ee[st]);for(st=0;st<ke.length;st++)Y($,Vt,ke[st])}for(at=0;at<lr;at++)K.activePointersLists.pop();K.sentDragEvent=!1}function f($){var K=o[$.hash],at,st;if(!K.tracking){for(st=0;st<t.MouseTracker.subscribeEvents.length;st++)at=t.MouseTracker.subscribeEvents[st],t.addEvent($.element,at,K[at],at===t.MouseTracker.wheelEventName?{passive:!1,capture:!1}:!1);d($),K.tracking=!0}}function m($){var K=o[$.hash],at,st;if(K.tracking){for(st=0;st<t.MouseTracker.subscribeEvents.length;st++)at=t.MouseTracker.subscribeEvents[st],t.removeEvent($.element,at,K[at],!1);d($),K.tracking=!1}}function v($,K){var at=o[$.hash];if(K==="pointerevent")return{upName:"pointerup",upHandler:at.pointerupcaptured,moveName:"pointermove",moveHandler:at.pointermovecaptured};if(K==="mouse")return{upName:"pointerup",upHandler:at.pointerupcaptured,moveName:"pointermove",moveHandler:at.pointermovecaptured};if(K==="touch")return{upName:"touchend",upHandler:at.touchendcaptured,moveName:"touchmove",moveHandler:at.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function _($,K){var at;if(t.MouseTracker.havePointerCapture)if(t.MouseTracker.havePointerEvents)try{$.element.setPointerCapture(K.id)}catch{t.console.warn("setPointerCapture() called on invalid pointer ID");return}else $.element.setCapture(!0);else at=v($,t.MouseTracker.havePointerEvents?"pointerevent":K.type),l&&u(window.top)&&t.addEvent(window.top,at.upName,at.upHandler,!0),t.addEvent(t.MouseTracker.captureElement,at.upName,at.upHandler,!0),t.addEvent(t.MouseTracker.captureElement,at.moveName,at.moveHandler,!0);wt($,K,!0)}function k($,K){var at,st,Vt;if(t.MouseTracker.havePointerCapture)if(t.MouseTracker.havePointerEvents){if(st=$.getActivePointersListByType(K.type),Vt=st.getById(K.id),!Vt||!Vt.captured)return;try{$.element.releasePointerCapture(K.id)}catch{}}else $.element.releaseCapture();else at=v($,t.MouseTracker.havePointerEvents?"pointerevent":K.type),l&&u(window.top)&&t.removeEvent(window.top,at.upName,at.upHandler,!0),t.removeEvent(t.MouseTracker.captureElement,at.moveName,at.moveHandler,!0),t.removeEvent(t.MouseTracker.captureElement,at.upName,at.upHandler,!0);wt($,K,!1)}function C($){return t.MouseTracker.havePointerEvents?$.pointerId:t.MouseTracker.mousePointerId}function M($){return t.MouseTracker.havePointerEvents?$.pointerType||(t.Browser.vendor===t.BROWSERS.IE?"mouse":""):"mouse"}function A($){return t.MouseTracker.havePointerEvents?$.isPrimary:!0}function F($){return t.getMousePosition($)}function U($,K){return j(F($),K)}function j($,K){var at=t.getElementOffset(K);return $.minus(at)}function J($,K){return new t.Point(($.x+K.x)/2,($.y+K.y)/2)}function H($,K){var at={originalEvent:K,eventType:"click",pointerType:"mouse",isEmulated:!1};_t($,at),at.preventDefault&&!at.defaultPrevented&&t.cancelEvent(K),at.stopPropagation&&t.stopEvent(K)}function V($,K){var at={originalEvent:K,eventType:"dblclick",pointerType:"mouse",isEmulated:!1};_t($,at),at.preventDefault&&!at.defaultPrevented&&t.cancelEvent(K),at.stopPropagation&&t.stopEvent(K)}function ot($,K){var at=null,st={originalEvent:K,eventType:"keydown",pointerType:"",isEmulated:!1};_t($,st),$.keyDownHandler&&!st.preventGesture&&!st.defaultPrevented&&(at={eventSource:$,keyCode:K.keyCode?K.keyCode:K.charCode,ctrl:K.ctrlKey,shift:K.shiftKey,alt:K.altKey,meta:K.metaKey,originalEvent:K,preventDefault:st.preventDefault||st.defaultPrevented,userData:$.userData},$.keyDownHandler(at)),(at&&at.preventDefault||st.preventDefault&&!st.defaultPrevented)&&t.cancelEvent(K),st.stopPropagation&&t.stopEvent(K)}function ft($,K){var at=null,st={originalEvent:K,eventType:"keyup",pointerType:"",isEmulated:!1};_t($,st),$.keyUpHandler&&!st.preventGesture&&!st.defaultPrevented&&(at={eventSource:$,keyCode:K.keyCode?K.keyCode:K.charCode,ctrl:K.ctrlKey,shift:K.shiftKey,alt:K.altKey,meta:K.metaKey,originalEvent:K,preventDefault:st.preventDefault||st.defaultPrevented,userData:$.userData},$.keyUpHandler(at)),(at&&at.preventDefault||st.preventDefault&&!st.defaultPrevented)&&t.cancelEvent(K),st.stopPropagation&&t.stopEvent(K)}function ht($,K){var at=null,st={originalEvent:K,eventType:"keypress",pointerType:"",isEmulated:!1};_t($,st),$.keyHandler&&!st.preventGesture&&!st.defaultPrevented&&(at={eventSource:$,keyCode:K.keyCode?K.keyCode:K.charCode,ctrl:K.ctrlKey,shift:K.shiftKey,alt:K.altKey,meta:K.metaKey,originalEvent:K,preventDefault:st.preventDefault||st.defaultPrevented,userData:$.userData},$.keyHandler(at)),(at&&at.preventDefault||st.preventDefault&&!st.defaultPrevented)&&t.cancelEvent(K),st.stopPropagation&&t.stopEvent(K)}function ct($,K){var at={originalEvent:K,eventType:"focus",pointerType:"",isEmulated:!1};_t($,at),$.focusHandler&&!at.preventGesture&&$.focusHandler({eventSource:$,originalEvent:K,userData:$.userData})}function Z($,K){var at={originalEvent:K,eventType:"blur",pointerType:"",isEmulated:!1};_t($,at),$.blurHandler&&!at.preventGesture&&$.blurHandler({eventSource:$,originalEvent:K,userData:$.userData})}function lt($,K){var at=null,st={originalEvent:K,eventType:"contextmenu",pointerType:"mouse",isEmulated:!1};_t($,st),$.contextMenuHandler&&!st.preventGesture&&!st.defaultPrevented&&(at={eventSource:$,position:j(F(K),$.element),originalEvent:st.originalEvent,preventDefault:st.preventDefault||st.defaultPrevented,userData:$.userData},$.contextMenuHandler(at)),(at&&at.preventDefault||st.preventDefault&&!st.defaultPrevented)&&t.cancelEvent(K),st.stopPropagation&&t.stopEvent(K)}function ut($,K){re($,K,K)}function mt($,K){var at={target:K.target||K.srcElement,type:"wheel",shiftKey:K.shiftKey||!1,clientX:K.clientX,clientY:K.clientY,pageX:K.pageX?K.pageX:K.clientX,pageY:K.pageY?K.pageY:K.clientY,deltaMode:K.type==="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0};t.MouseTracker.wheelEventName==="mousewheel"?at.deltaY=-K.wheelDelta/t.DEFAULT_SETTINGS.pixelsPerWheelLine:at.deltaY=K.detail,re($,at,K)}function re($,K,at){var st=0,Vt,ee=null;st=K.deltaY<0?1:-1,Vt={originalEvent:K,eventType:"wheel",pointerType:"mouse",isEmulated:K!==at},_t($,Vt),$.scrollHandler&&!Vt.preventGesture&&!Vt.defaultPrevented&&(ee={eventSource:$,pointerType:"mouse",position:U(K,$.element),scroll:st,shift:K.shiftKey,isTouchEvent:!1,originalEvent:at,preventDefault:Vt.preventDefault||Vt.defaultPrevented,userData:$.userData},$.scrollHandler(ee)),Vt.stopPropagation&&t.stopEvent(at),(ee&&ee.preventDefault||Vt.preventDefault&&!Vt.defaultPrevented)&&t.cancelEvent(at)}function ne($,K){var at={id:t.MouseTracker.mousePointerId,type:"mouse"},st={originalEvent:K,eventType:"lostpointercapture",pointerType:"mouse",isEmulated:!1};_t($,st),K.target===$.element&&wt($,at,!1),st.stopPropagation&&t.stopEvent(K)}function ye($,K){var at,st,Vt=K.changedTouches.length,ee,ke=$.getActivePointersListByType("touch");at=t.now(),ke.getLength()>K.touches.length-Vt&&t.console.warn("Tracked touch contact count doesn't match event.touches.length");var lr={originalEvent:K,eventType:"pointerdown",pointerType:"touch",isEmulated:!1};for(_t($,lr),st=0;st<Vt;st++)ee={id:K.changedTouches[st].identifier,type:"touch",isPrimary:ke.getLength()===0,currentPos:F(K.changedTouches[st]),currentTime:at},Ot($,lr,ee),he($,lr,ee,0),wt($,ee,!0);lr.preventDefault&&!lr.defaultPrevented&&t.cancelEvent(K),lr.stopPropagation&&t.stopEvent(K)}function Bt($,K){var at,st,Vt=K.changedTouches.length,ee;at=t.now();var ke={originalEvent:K,eventType:"pointerup",pointerType:"touch",isEmulated:!1};for(_t($,ke),st=0;st<Vt;st++)ee={id:K.changedTouches[st].identifier,type:"touch",currentPos:F(K.changedTouches[st]),currentTime:at},se($,ke,ee,0),wt($,ee,!1),xt($,ke,ee);ke.preventDefault&&!ke.defaultPrevented&&t.cancelEvent(K),ke.stopPropagation&&t.stopEvent(K)}function pe($,K){var at,st,Vt=K.changedTouches.length,ee;at=t.now();var ke={originalEvent:K,eventType:"pointermove",pointerType:"touch",isEmulated:!1};for(_t($,ke),st=0;st<Vt;st++)ee={id:K.changedTouches[st].identifier,type:"touch",currentPos:F(K.changedTouches[st]),currentTime:at},Ie($,ke,ee);ke.preventDefault&&!ke.defaultPrevented&&t.cancelEvent(K),ke.stopPropagation&&t.stopEvent(K)}function Jt($,K){var at=K.changedTouches.length,st,Vt,ee={originalEvent:K,eventType:"pointercancel",pointerType:"touch",isEmulated:!1};for(_t($,ee),st=0;st<at;st++)Vt={id:K.changedTouches[st].identifier,type:"touch"},Pe($,ee,Vt);ee.stopPropagation&&t.stopEvent(K)}function Wt($,K){return t.eventIsCanceled(K)||K.preventDefault(),!1}function Et($,K){return t.eventIsCanceled(K)||K.preventDefault(),!1}function qt($,K){var at={originalEvent:K,eventType:"gotpointercapture",pointerType:M(K),isEmulated:!1};_t($,at),K.target===$.element&&wt($,{id:K.pointerId,type:M(K)},!0),at.stopPropagation&&t.stopEvent(K)}function Zt($,K){var at={originalEvent:K,eventType:"lostpointercapture",pointerType:M(K),isEmulated:!1};_t($,at),K.target===$.element&&wt($,{id:K.pointerId,type:M(K)},!1),at.stopPropagation&&t.stopEvent(K)}function fe($,K){var at={id:C(K),type:M(K),isPrimary:A(K),currentPos:F(K),currentTime:t.now()},st={originalEvent:K,eventType:"pointerenter",pointerType:at.type,isEmulated:!1};_t($,st),Ot($,st,at)}function Ce($,K){var at={id:C(K),type:M(K),isPrimary:A(K),currentPos:F(K),currentTime:t.now()},st={originalEvent:K,eventType:"pointerleave",pointerType:at.type,isEmulated:!1};_t($,st),xt($,st,at)}function le($,K){var at={id:C(K),type:M(K),isPrimary:A(K),currentPos:F(K),currentTime:t.now()},st={originalEvent:K,eventType:"pointerover",pointerType:at.type,isEmulated:!1};_t($,st),te($,st,at),st.preventDefault&&!st.defaultPrevented&&t.cancelEvent(K),st.stopPropagation&&t.stopEvent(K)}function ue($,K){var at={id:C(K),type:M(K),isPrimary:A(K),currentPos:F(K),currentTime:t.now()},st={originalEvent:K,eventType:"pointerout",pointerType:at.type,isEmulated:!1};_t($,st),ae($,st,at),st.preventDefault&&!st.defaultPrevented&&t.cancelEvent(K),st.stopPropagation&&t.stopEvent(K)}function er($,K){var at={id:C(K),type:M(K),isPrimary:A(K),currentPos:F(K),currentTime:t.now()},st=t.MouseTracker.havePointerEvents&&at.type==="touch"&&t.Browser.vendor!==t.BROWSERS.IE,Vt={originalEvent:K,eventType:"pointerdown",pointerType:at.type,isEmulated:!1};_t($,Vt),he($,Vt,at,K.button),Vt.preventDefault&&!Vt.defaultPrevented&&t.cancelEvent(K),Vt.stopPropagation&&t.stopEvent(K),Vt.shouldCapture&&(st?wt($,at,!0):_($,at))}function Ut($,K){Yt($,K)}function Gt($,K){var at=$.getActivePointersListByType(M(K));at.getById(K.pointerId)&&Yt($,K),t.stopEvent(K)}function Yt($,K){var at;at={id:C(K),type:M(K),isPrimary:A(K),currentPos:F(K),currentTime:t.now()};var st={originalEvent:K,eventType:"pointerup",pointerType:at.type,isEmulated:!1};_t($,st),se($,st,at,K.button),st.preventDefault&&!st.defaultPrevented&&t.cancelEvent(K),st.stopPropagation&&t.stopEvent(K),st.shouldReleaseCapture&&(K.target===$.element?k($,at):wt($,at,!1))}function Xt($,K){pt($,K)}function nt($,K){var at=$.getActivePointersListByType(M(K));at.getById(K.pointerId)&&pt($,K),t.stopEvent(K)}function pt($,K){var at={id:C(K),type:M(K),isPrimary:A(K),currentPos:F(K),currentTime:t.now()},st={originalEvent:K,eventType:"pointermove",pointerType:at.type,isEmulated:!1};_t($,st),Ie($,st,at),st.preventDefault&&!st.defaultPrevented&&t.cancelEvent(K),st.stopPropagation&&t.stopEvent(K)}function vt($,K){var at={id:K.pointerId,type:M(K)},st={originalEvent:K,eventType:"pointercancel",pointerType:at.type,isEmulated:!1};_t($,st),Pe($,st,at),st.stopPropagation&&t.stopEvent(K)}function O($,K){return K.speed=0,K.direction=0,K.contactPos=K.currentPos,K.contactTime=K.currentTime,K.lastPos=K.currentPos,K.lastTime=K.currentTime,$.add(K)}function Y($,K,at){var st,Vt=K.getById(at.id);return Vt?(Vt.captured&&(t.console.warn("stopTrackingPointer() called on captured pointer"),k($,Vt)),K.removeContact(),st=K.removeById(at.id)):st=K.getLength(),st}function dt($,K){switch(K.eventType){case"pointermove":K.isStoppable=!0,K.isCancelable=!0,K.preventDefault=!1,K.preventGesture=!$.hasGestureHandlers,K.stopPropagation=!1;break;case"pointerover":case"pointerout":case"contextmenu":case"keydown":case"keyup":case"keypress":K.isStoppable=!0,K.isCancelable=!0,K.preventDefault=!1,K.preventGesture=!1,K.stopPropagation=!1;break;case"pointerdown":K.isStoppable=!0,K.isCancelable=!0,K.preventDefault=!1,K.preventGesture=!$.hasGestureHandlers,K.stopPropagation=!1;break;case"pointerup":K.isStoppable=!0,K.isCancelable=!0,K.preventDefault=!1,K.preventGesture=!$.hasGestureHandlers,K.stopPropagation=!1;break;case"wheel":K.isStoppable=!0,K.isCancelable=!0,K.preventDefault=!1,K.preventGesture=!$.hasScrollHandler,K.stopPropagation=!1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":K.isStoppable=!0,K.isCancelable=!1,K.preventDefault=!1,K.preventGesture=!1,K.stopPropagation=!1;break;case"click":K.isStoppable=!0,K.isCancelable=!0,K.preventDefault=!!$.clickHandler,K.preventGesture=!1,K.stopPropagation=!1;break;case"dblclick":K.isStoppable=!0,K.isCancelable=!0,K.preventDefault=!!$.dblClickHandler,K.preventGesture=!1,K.stopPropagation=!1;break;case"focus":case"blur":case"pointerenter":case"pointerleave":default:K.isStoppable=!1,K.isCancelable=!1,K.preventDefault=!1,K.preventGesture=!1,K.stopPropagation=!1;break}}function _t($,K){K.eventSource=$,K.eventPhase=K.originalEvent&&typeof K.originalEvent.eventPhase<"u"?K.originalEvent.eventPhase:0,K.defaultPrevented=t.eventIsCanceled(K.originalEvent),K.shouldCapture=!1,K.shouldReleaseCapture=!1,K.userData=$.userData,dt($,K),$.preProcessEventHandler&&$.preProcessEventHandler(K)}function wt($,K,at){var st=$.getActivePointersListByType(K.type),Vt=st.getById(K.id);Vt?at&&!Vt.captured?(Vt.captured=!0,st.captureCount++):!at&&Vt.captured&&(Vt.captured=!1,st.captureCount--,st.captureCount<0&&(st.captureCount=0,t.console.warn("updatePointerCaptured() - pointsList.captureCount went negative"))):t.console.warn("updatePointerCaptured() called on untracked pointer")}function Ot($,K,at){var st=$.getActivePointersListByType(at.type),Vt;Vt=st.getById(at.id),Vt?(Vt.insideElement=!0,Vt.lastPos=Vt.currentPos,Vt.lastTime=Vt.currentTime,Vt.currentPos=at.currentPos,Vt.currentTime=at.currentTime,at=Vt):(at.captured=!1,at.insideElementPressed=!1,at.insideElement=!0,O(st,at)),$.enterHandler&&$.enterHandler({eventSource:$,pointerType:at.type,position:j(at.currentPos,$.element),buttons:st.buttons,pointers:$.getActivePointerCount(),insideElementPressed:at.insideElementPressed,buttonDownAny:st.buttons!==0,isTouchEvent:at.type==="touch",originalEvent:K.originalEvent,userData:$.userData})}function xt($,K,at){var st=$.getActivePointersListByType(at.type),Vt,ee;Vt=st.getById(at.id),Vt?(Vt.captured?(Vt.insideElement=!1,Vt.lastPos=Vt.currentPos,Vt.lastTime=Vt.currentTime,Vt.currentPos=at.currentPos,Vt.currentTime=at.currentTime):Y($,st,Vt),at=Vt):(at.captured=!1,at.insideElementPressed=!1),($.leaveHandler||$.exitHandler)&&(ee={eventSource:$,pointerType:at.type,position:at.currentPos&&j(at.currentPos,$.element),buttons:st.buttons,pointers:$.getActivePointerCount(),insideElementPressed:at.insideElementPressed,buttonDownAny:st.buttons!==0,isTouchEvent:at.type==="touch",originalEvent:K.originalEvent,userData:$.userData},$.leaveHandler&&$.leaveHandler(ee),$.exitHandler&&$.exitHandler(ee))}function te($,K,at){var st,Vt;st=$.getActivePointersListByType(at.type),Vt=st.getById(at.id),Vt?at=Vt:(at.captured=!1,at.insideElementPressed=!1),$.overHandler&&$.overHandler({eventSource:$,pointerType:at.type,position:j(at.currentPos,$.element),buttons:st.buttons,pointers:$.getActivePointerCount(),insideElementPressed:at.insideElementPressed,buttonDownAny:st.buttons!==0,isTouchEvent:at.type==="touch",originalEvent:K.originalEvent,userData:$.userData})}function ae($,K,at){var st,Vt;st=$.getActivePointersListByType(at.type),Vt=st.getById(at.id),Vt?at=Vt:(at.captured=!1,at.insideElementPressed=!1),$.outHandler&&$.outHandler({eventSource:$,pointerType:at.type,position:at.currentPos&&j(at.currentPos,$.element),buttons:st.buttons,pointers:$.getActivePointerCount(),insideElementPressed:at.insideElementPressed,buttonDownAny:st.buttons!==0,isTouchEvent:at.type==="touch",originalEvent:K.originalEvent,userData:$.userData})}function he($,K,at,st){var Vt=o[$.hash],ee=$.getActivePointersListByType(at.type),ke;if(typeof K.originalEvent.buttons<"u"?ee.buttons=K.originalEvent.buttons:st===0?ee.buttons|=1:st===1?ee.buttons|=4:st===2?ee.buttons|=2:st===3?ee.buttons|=8:st===4?ee.buttons|=16:st===5&&(ee.buttons|=32),st!==0){K.shouldCapture=!1,K.shouldReleaseCapture=!1,$.nonPrimaryPressHandler&&!K.preventGesture&&!K.defaultPrevented&&(K.preventDefault=!0,$.nonPrimaryPressHandler({eventSource:$,pointerType:at.type,position:j(at.currentPos,$.element),button:st,buttons:ee.buttons,isTouchEvent:at.type==="touch",originalEvent:K.originalEvent,userData:$.userData}));return}ke=ee.getById(at.id),ke?(ke.insideElementPressed=!0,ke.insideElement=!0,ke.originalTarget=K.originalEvent.target,ke.contactPos=at.currentPos,ke.contactTime=at.currentTime,ke.lastPos=ke.currentPos,ke.lastTime=ke.currentTime,ke.currentPos=at.currentPos,ke.currentTime=at.currentTime,at=ke):(at.captured=!1,at.insideElementPressed=!0,at.insideElement=!0,at.originalTarget=K.originalEvent.target,O(ee,at)),ee.addContact(),!K.preventGesture&&!K.defaultPrevented?(K.shouldCapture=!0,K.shouldReleaseCapture=!1,K.preventDefault=!0,($.dragHandler||$.dragEndHandler||$.pinchHandler)&&t.MouseTracker.gesturePointVelocityTracker.addPoint($,at),ee.contacts===1?$.pressHandler&&!K.preventGesture&&$.pressHandler({eventSource:$,pointerType:at.type,position:j(at.contactPos,$.element),buttons:ee.buttons,isTouchEvent:at.type==="touch",originalEvent:K.originalEvent,userData:$.userData}):ee.contacts===2&&$.pinchHandler&&at.type==="touch"&&(Vt.pinchGPoints=ee.asArray(),Vt.lastPinchDist=Vt.currentPinchDist=Vt.pinchGPoints[0].currentPos.distanceTo(Vt.pinchGPoints[1].currentPos),Vt.lastPinchCenter=Vt.currentPinchCenter=J(Vt.pinchGPoints[0].currentPos,Vt.pinchGPoints[1].currentPos))):(K.shouldCapture=!1,K.shouldReleaseCapture=!1)}function se($,K,at,st){var Vt=o[$.hash],ee=$.getActivePointersListByType(at.type),ke,lr,Be,Un=!1,ji;if(typeof K.originalEvent.buttons<"u"?ee.buttons=K.originalEvent.buttons:st===0?ee.buttons^=-2:st===1?ee.buttons^=-5:st===2?ee.buttons^=-3:st===3?ee.buttons^=-9:st===4?ee.buttons^=-17:st===5&&(ee.buttons^=-33),K.shouldCapture=!1,st!==0){K.shouldReleaseCapture=!1,$.nonPrimaryReleaseHandler&&!K.preventGesture&&!K.defaultPrevented&&(K.preventDefault=!0,$.nonPrimaryReleaseHandler({eventSource:$,pointerType:at.type,position:j(at.currentPos,$.element),button:st,buttons:ee.buttons,isTouchEvent:at.type==="touch",originalEvent:K.originalEvent,userData:$.userData}));return}Be=ee.getById(at.id),Be?(ee.removeContact(),Be.captured&&(Un=!0),Be.lastPos=Be.currentPos,Be.lastTime=Be.currentTime,Be.currentPos=at.currentPos,Be.currentTime=at.currentTime,Be.insideElement||Y($,ee,Be),ke=Be.currentPos,lr=Be.currentTime):(at.captured=!1,at.insideElementPressed=!1,at.insideElement=!0,O(ee,at),Be=at),!K.preventGesture&&!K.defaultPrevented&&(Un?(K.shouldReleaseCapture=!0,K.preventDefault=!0,($.dragHandler||$.dragEndHandler||$.pinchHandler)&&t.MouseTracker.gesturePointVelocityTracker.removePoint($,Be),ee.contacts===0?($.releaseHandler&&ke&&$.releaseHandler({eventSource:$,pointerType:Be.type,position:j(ke,$.element),buttons:ee.buttons,insideElementPressed:Be.insideElementPressed,insideElementReleased:Be.insideElement,isTouchEvent:Be.type==="touch",originalEvent:K.originalEvent,userData:$.userData}),$.dragEndHandler&&Vt.sentDragEvent&&$.dragEndHandler({eventSource:$,pointerType:Be.type,position:j(Be.currentPos,$.element),speed:Be.speed,direction:Be.direction,shift:K.originalEvent.shiftKey,isTouchEvent:Be.type==="touch",originalEvent:K.originalEvent,userData:$.userData}),Vt.sentDragEvent=!1,($.clickHandler||$.dblClickHandler)&&Be.insideElement&&(ji=lr-Be.contactTime<=$.clickTimeThreshold&&Be.contactPos.distanceTo(ke)<=$.clickDistThreshold,$.clickHandler&&$.clickHandler({eventSource:$,pointerType:Be.type,position:j(Be.currentPos,$.element),quick:ji,shift:K.originalEvent.shiftKey,isTouchEvent:Be.type==="touch",originalEvent:K.originalEvent,originalTarget:Be.originalTarget,userData:$.userData}),$.dblClickHandler&&ji&&(ee.clicks++,ee.clicks===1?(Vt.lastClickPos=ke,Vt.dblClickTimeOut=setTimeout(function(){ee.clicks=0},$.dblClickTimeThreshold)):ee.clicks===2&&(clearTimeout(Vt.dblClickTimeOut),ee.clicks=0,Vt.lastClickPos.distanceTo(ke)<=$.dblClickDistThreshold&&$.dblClickHandler({eventSource:$,pointerType:Be.type,position:j(Be.currentPos,$.element),shift:K.originalEvent.shiftKey,isTouchEvent:Be.type==="touch",originalEvent:K.originalEvent,userData:$.userData}),Vt.lastClickPos=null)))):ee.contacts===2&&$.pinchHandler&&Be.type==="touch"&&(Vt.pinchGPoints=ee.asArray(),Vt.lastPinchDist=Vt.currentPinchDist=Vt.pinchGPoints[0].currentPos.distanceTo(Vt.pinchGPoints[1].currentPos),Vt.lastPinchCenter=Vt.currentPinchCenter=J(Vt.pinchGPoints[0].currentPos,Vt.pinchGPoints[1].currentPos))):(K.shouldReleaseCapture=!1,$.releaseHandler&&ke&&($.releaseHandler({eventSource:$,pointerType:Be.type,position:j(ke,$.element),buttons:ee.buttons,insideElementPressed:Be.insideElementPressed,insideElementReleased:Be.insideElement,isTouchEvent:Be.type==="touch",originalEvent:K.originalEvent,userData:$.userData}),K.preventDefault=!0)))}function Ie($,K,at){var st=o[$.hash],Vt=$.getActivePointersListByType(at.type),ee,ke,lr;if(typeof K.originalEvent.buttons<"u"&&(Vt.buttons=K.originalEvent.buttons),ee=Vt.getById(at.id),ee)ee.lastPos=ee.currentPos,ee.lastTime=ee.currentTime,ee.currentPos=at.currentPos,ee.currentTime=at.currentTime;else return;K.shouldCapture=!1,K.shouldReleaseCapture=!1,$.stopHandler&&at.type==="mouse"&&(clearTimeout($.stopTimeOut),$.stopTimeOut=setTimeout(function(){We($,K.originalEvent,at.type)},$.stopDelay)),Vt.contacts===0?$.moveHandler&&$.moveHandler({eventSource:$,pointerType:at.type,position:j(at.currentPos,$.element),buttons:Vt.buttons,isTouchEvent:at.type==="touch",originalEvent:K.originalEvent,userData:$.userData}):Vt.contacts===1?($.moveHandler&&(ee=Vt.asArray()[0],$.moveHandler({eventSource:$,pointerType:ee.type,position:j(ee.currentPos,$.element),buttons:Vt.buttons,isTouchEvent:ee.type==="touch",originalEvent:K.originalEvent,userData:$.userData})),$.dragHandler&&!K.preventGesture&&!K.defaultPrevented&&(ee=Vt.asArray()[0],lr=ee.currentPos.minus(ee.lastPos),$.dragHandler({eventSource:$,pointerType:ee.type,position:j(ee.currentPos,$.element),buttons:Vt.buttons,delta:lr,speed:ee.speed,direction:ee.direction,shift:K.originalEvent.shiftKey,isTouchEvent:ee.type==="touch",originalEvent:K.originalEvent,userData:$.userData}),K.preventDefault=!0,st.sentDragEvent=!0)):Vt.contacts===2&&($.moveHandler&&(ke=Vt.asArray(),$.moveHandler({eventSource:$,pointerType:ke[0].type,position:j(J(ke[0].currentPos,ke[1].currentPos),$.element),buttons:Vt.buttons,isTouchEvent:ke[0].type==="touch",originalEvent:K.originalEvent,userData:$.userData})),$.pinchHandler&&at.type==="touch"&&!K.preventGesture&&!K.defaultPrevented&&(lr=st.pinchGPoints[0].currentPos.distanceTo(st.pinchGPoints[1].currentPos),lr!==st.currentPinchDist&&(st.lastPinchDist=st.currentPinchDist,st.currentPinchDist=lr,st.lastPinchCenter=st.currentPinchCenter,st.currentPinchCenter=J(st.pinchGPoints[0].currentPos,st.pinchGPoints[1].currentPos),$.pinchHandler({eventSource:$,pointerType:"touch",gesturePoints:st.pinchGPoints,lastCenter:j(st.lastPinchCenter,$.element),center:j(st.currentPinchCenter,$.element),lastDistance:st.lastPinchDist,distance:st.currentPinchDist,shift:K.originalEvent.shiftKey,originalEvent:K.originalEvent,userData:$.userData}),K.preventDefault=!0)))}function Pe($,K,at){var st=$.getActivePointersListByType(at.type),Vt;Vt=st.getById(at.id),Vt&&Y($,st,Vt)}function We($,K,at){$.stopHandler&&$.stopHandler({eventSource:$,pointerType:at,position:U(K,$.element),buttons:$.getActivePointersListByType(at).buttons,isTouchEvent:at==="touch",originalEvent:K,userData:$.userData})}}(r),function(t){t.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},t.Control=function(o,l,u){var d=o.parentNode;typeof l=="number"&&(t.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),l={anchor:l}),l.attachToViewer=typeof l.attachToViewer>"u"?!0:l.attachToViewer,this.autoFade=typeof l.autoFade>"u"?!0:l.autoFade,this.element=o,this.anchor=l.anchor,this.container=u,this.anchor===t.ControlAnchor.ABSOLUTE?(this.wrapper=t.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top=typeof l.top=="number"?l.top+"px":l.top,this.wrapper.style.left=typeof l.left=="number"?l.left+"px":l.left,this.wrapper.style.height=typeof l.height=="number"?l.height+"px":l.height,this.wrapper.style.width=typeof l.width=="number"?l.width+"px":l.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=t.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor===t.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),l.attachToViewer?this.anchor===t.ControlAnchor.TOP_RIGHT||this.anchor===t.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):d.appendChild(this.wrapper)},t.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.anchor!==t.ControlAnchor.NONE&&this.container.removeChild(this.wrapper)},isVisible:function(){return this.wrapper.style.display!=="none"},setVisible:function(o){this.wrapper.style.display=o?this.anchor===t.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(o){this.element[t.SIGNAL]&&t.Browser.vendor===t.BROWSERS.IE?t.setElementOpacity(this.element,o,!0):t.setElementOpacity(this.wrapper,o,!0)}}}(r),function(t){t.ControlDock=function(l){var u=["topleft","topright","bottomright","bottomleft"],d,f;for(t.extend(!0,this,{id:"controldock-"+t.now()+"-"+Math.floor(Math.random()*1e6),container:t.makeNeutralElement("div"),controls:[]},l),this.container.onsubmit=function(){return!1},this.element&&(this.element=t.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),f=0;f<u.length;f++)d=u[f],this.controls[d]=t.makeNeutralElement("div"),this.controls[d].style.position="absolute",d.match("left")&&(this.controls[d].style.left="0px"),d.match("right")&&(this.controls[d].style.right="0px"),d.match("top")&&(this.controls[d].style.top="0px"),d.match("bottom")&&(this.controls[d].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},t.ControlDock.prototype={addControl:function(l,u){l=t.getElement(l);var d=null;if(!(o(this,l)>=0)){switch(u.anchor){case t.ControlAnchor.TOP_RIGHT:d=this.controls.topright,l.style.position="relative",l.style.paddingRight="0px",l.style.paddingTop="0px";break;case t.ControlAnchor.BOTTOM_RIGHT:d=this.controls.bottomright,l.style.position="relative",l.style.paddingRight="0px",l.style.paddingBottom="0px";break;case t.ControlAnchor.BOTTOM_LEFT:d=this.controls.bottomleft,l.style.position="relative",l.style.paddingLeft="0px",l.style.paddingBottom="0px";break;case t.ControlAnchor.TOP_LEFT:d=this.controls.topleft,l.style.position="relative",l.style.paddingLeft="0px",l.style.paddingTop="0px";break;case t.ControlAnchor.ABSOLUTE:d=this.container,l.style.margin="0px",l.style.padding="0px";break;default:case t.ControlAnchor.NONE:d=this.container,l.style.margin="0px",l.style.padding="0px";break}this.controls.push(new t.Control(l,u,d)),l.style.display="inline-block"}},removeControl:function(l){l=t.getElement(l);var u=o(this,l);return u>=0&&(this.controls[u].destroy(),this.controls.splice(u,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var l;for(l=this.controls.length-1;l>=0;l--)if(this.controls[l].isVisible())return!0;return!1},setControlsEnabled:function(l){var u;for(u=this.controls.length-1;u>=0;u--)this.controls[u].setVisible(l);return this}};function o(l,u){var d=l.controls,f;for(f=d.length-1;f>=0;f--)if(d[f].element===u)return f;return-1}}(r),function(t){t.Placement=t.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(r),function(t){var o={},l=1;t.Viewer=function(O){var Y=arguments,dt=this,_t;if(t.isPlainObject(O)||(O={id:Y[0],xmlPath:Y.length>1?Y[1]:void 0,prefixUrl:Y.length>2?Y[2]:void 0,controls:Y.length>3?Y[3]:void 0,overlays:Y.length>4?Y[4]:void 0}),O.config&&(t.extend(!0,O,O.config),delete O.config),t.extend(!0,this,{id:O.id,hash:O.hash||l++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttonGroup:null,profiler:null},t.DEFAULT_SETTINGS,O),typeof this.hash>"u")throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(typeof o[this.hash]<"u"&&t.console.warn("Hash "+this.hash+" has already been used."),o[this.hash]={fsBoundsDelta:new t.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,needsResize:!1,forceResize:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null,lastClickTime:null,draggingToZoom:!1},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._updatePixelDensityRatioBind=null,this._lastScrollTime=t.now(),t.EventSource.call(this),this.addHandler("open-failed",function(wt){var Ot=t.getString("Errors.OpenFailed",wt.eventSource,wt.message);dt._showMessage(Ot)}),t.ControlDock.call(this,O),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=t.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(wt){wt.width="100%",wt.height="100%",wt.overflow="hidden",wt.position="absolute",wt.top="0px",wt.left="0px"}(this.canvas.style),t.setElementTouchActionNone(this.canvas),O.tabIndex!==""&&(this.canvas.tabIndex=O.tabIndex===void 0?0:O.tabIndex),this.container.className="openseadragon-container",function(wt){wt.width="100%",wt.height="100%",wt.position="relative",wt.overflow="hidden",wt.left="0px",wt.top="0px",wt.textAlign="left"}(this.container.style),t.setElementTouchActionNone(this.container),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new t.MouseTracker({userData:"Viewer.innerTracker",element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,contextMenuHandler:t.delegate(this,U),keyDownHandler:t.delegate(this,j),keyHandler:t.delegate(this,J),clickHandler:t.delegate(this,H),dblClickHandler:t.delegate(this,V),dragHandler:t.delegate(this,ot),dragEndHandler:t.delegate(this,ft),enterHandler:t.delegate(this,ht),leaveHandler:t.delegate(this,ct),pressHandler:t.delegate(this,Z),releaseHandler:t.delegate(this,lt),nonPrimaryPressHandler:t.delegate(this,ut),nonPrimaryReleaseHandler:t.delegate(this,mt),scrollHandler:t.delegate(this,ne),pinchHandler:t.delegate(this,re)}),this.outerTracker=new t.MouseTracker({userData:"Viewer.outerTracker",element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:t.delegate(this,ye),leaveHandler:t.delegate(this,Bt)}),this.toolbar&&(this.toolbar=new t.ControlDock({element:this.toolbar})),this.bindStandardControls(),o[this.hash].prevContainerSize=u(this.container),window.ResizeObserver?(this._autoResizePolling=!1,this._resizeObserver=new ResizeObserver(function(){o[dt.hash].needsResize=!0}),this._resizeObserver.observe(this.container,{})):this._autoResizePolling=!0,this.world=new t.World({viewer:this}),this.world.addHandler("add-item",function(wt){dt.source=dt.world.getItemAt(0).source,o[dt.hash].forceRedraw=!0,dt._updateRequestId||(dt._updateRequestId=v(dt,pe))}),this.world.addHandler("remove-item",function(wt){dt.world.getItemCount()?dt.source=dt.world.getItemAt(0).source:dt.source=null,o[dt.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(wt){dt.viewport&&dt.viewport._setContentBounds(dt.world.getHomeBounds(),dt.world.getContentFactor())}),this.world.addHandler("item-index-change",function(wt){dt.source=dt.world.getItemAt(0).source}),this.viewport=new t.Viewport({containerSize:o[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins,silenceMultiImageWarnings:this.silenceMultiImageWarnings}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new t.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:O.timeout}),this.tileCache=new t.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new t.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=t.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(_t=this.buttonGroup.buttons.indexOf(this.rotateLeft),this.buttonGroup.buttons.splice(_t,1),this.buttonGroup.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(_t=this.buttonGroup.buttons.indexOf(this.rotateRight),this.buttonGroup.buttons.splice(_t,1),this.buttonGroup.element.removeChild(this.rotateRight.element))),this._addUpdatePixelDensityRatioEvent(),this.showNavigator&&(this.navigator=new t.Navigator({element:this.navigatorElement,id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy,animationTime:this.animationTime})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),_t=0;_t<this.customControls.length;_t++)this.addControl(this.customControls[_t].id,{anchor:this.customControls[_t].anchor});t.requestAnimationFrame(function(){k(dt)}),this.imageSmoothingEnabled!==void 0&&!this.imageSmoothingEnabled&&this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled),t._viewers.set(this.element,this)},t.extend(t.Viewer.prototype,t.EventSource.prototype,t.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(O){return t.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(O)},openTileSource:function(O){return t.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(O)},get buttons(){return t.console.warn("Viewer.buttons is deprecated; Please use Viewer.buttonGroup"),this.buttonGroup},open:function(O,Y){var dt=this;if(this.close(),!O)return this;if(this.sequenceMode&&t.isArray(O))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),typeof Y<"u"&&!isNaN(Y)&&(this.initialPage=Y),this.tileSources=O,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex),this;if(t.isArray(O)||(O=[O]),!O.length)return this;this._opening=!0;for(var _t=O.length,wt=0,Ot=0,xt,te=function(){if(wt+Ot===_t)if(wt){(dt._firstOpen||!dt.preserveViewport)&&(dt.viewport.goHome(!0),dt.viewport.update()),dt._firstOpen=!1;var se=O[0];if(se.tileSource&&(se=se.tileSource),dt.overlays&&!dt.preserveOverlays)for(var Ie=0;Ie<dt.overlays.length;Ie++)dt.currentOverlays[Ie]=f(dt,dt.overlays[Ie]);dt._drawOverlays(),dt._opening=!1,dt.raiseEvent("open",{source:se})}else dt._opening=!1,dt.raiseEvent("open-failed",xt)},ae=function(se){(!t.isPlainObject(se)||!se.tileSource)&&(se={tileSource:se}),se.index!==void 0&&(t.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete se.index),se.collectionImmediately===void 0&&(se.collectionImmediately=!0);var Ie=se.success;se.success=function(We){if(wt++,se.tileSource.overlays)for(var $=0;$<se.tileSource.overlays.length;$++)dt.addOverlay(se.tileSource.overlays[$]);Ie&&Ie(We),te()};var Pe=se.error;se.error=function(We){Ot++,xt||(xt=We),Pe&&Pe(We),te()},dt.addTiledImage(se)},he=0;he<O.length;he++)ae(O[he]);return this},close:function(){return o[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),o[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(o[this.hash]){if(this.raiseEvent("before-destroy"),this._removeUpdatePixelDensityRatioEvent(),this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this._resizeObserver&&this._resizeObserver.disconnect(),this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),this._updateRequestId!==null&&(t.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.navigator&&(this.navigator.destroy(),o[this.navigator.hash]=null,delete o[this.navigator.hash],this.navigator=null),this.buttonGroup)this.buttonGroup.destroy();else if(this.customButtons)for(;this.customButtons.length;)this.customButtons.pop().destroy();if(this.paging&&this.paging.destroy(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.container.onsubmit=null,this.clearControls(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),o[this.hash]=null,delete o[this.hash],this.canvas=null,this.container=null,t._viewers.delete(this.element),this.element=null,this.raiseEvent("destroy"),this.removeAllHandlers()}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(O){return this.innerTracker.setTracking(O),this.outerTracker.setTracking(O),this.raiseEvent("mouse-enabled",{enabled:O}),this},areControlsEnabled:function(){var O=this.controls.length,Y;for(Y=0;Y<this.controls.length;Y++)O=O&&this.controls[Y].isVisible();return O},setControlsEnabled:function(O){return O?M(this):k(this),this.raiseEvent("controls-enabled",{enabled:O}),this},setDebugMode:function(O){for(var Y=0;Y<this.world.getItemCount();Y++)this.world.getItemAt(Y).debugMode=O;this.debugMode=O,this.forceRedraw()},isFullPage:function(){return o[this.hash].fullPage},setFullPage:function(O){var Y=document.body,dt=Y.style,_t=document.documentElement.style,wt=this,Ot,xt;if(O===this.isFullPage())return this;var te={fullPage:O,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",te),te.preventDefaultAction)return this;if(O){for(this.elementSize=t.getElementSize(this.element),this.pageScroll=t.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=dt.margin,this.docMargin=_t.margin,dt.margin="0",_t.margin="0",this.bodyPadding=dt.padding,this.docPadding=_t.padding,dt.padding="0",_t.padding="0",this.bodyWidth=dt.width,this.docWidth=_t.width,dt.width="100%",_t.width="100%",this.bodyHeight=dt.height,this.docHeight=_t.height,dt.height="100%",_t.height="100%",this.bodyDisplay=dt.display,dt.display="block",this.previousBody=[],o[this.hash].prevElementParent=this.element.parentNode,o[this.hash].prevNextSibling=this.element.nextSibling,o[this.hash].prevElementWidth=this.element.style.width,o[this.hash].prevElementHeight=this.element.style.height,Ot=Y.childNodes.length,xt=0;xt<Ot;xt++)this.previousBody.push(Y.childNodes[0]),Y.removeChild(Y.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,Y.appendChild(this.toolbar.element),t.addClass(this.toolbar.element,"fullpage")),t.addClass(this.element,"fullpage"),Y.appendChild(this.element),this.element.style.height="100vh",this.element.style.width="100vw",this.toolbar&&this.toolbar.element&&(this.element.style.height=t.getElementSize(this.element).y-t.getElementSize(this.toolbar.element).y+"px"),o[this.hash].fullPage=!0,t.delegate(this,ye)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,dt.margin=this.bodyMargin,_t.margin=this.docMargin,dt.padding=this.bodyPadding,_t.padding=this.docPadding,dt.width=this.bodyWidth,_t.width=this.docWidth,dt.height=this.bodyHeight,_t.height=this.docHeight,dt.display=this.bodyDisplay,Y.removeChild(this.element),Ot=this.previousBody.length,xt=0;xt<Ot;xt++)Y.appendChild(this.previousBody.shift());t.removeClass(this.element,"fullpage"),o[this.hash].prevElementParent.insertBefore(this.element,o[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(Y.removeChild(this.toolbar.element),t.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=o[this.hash].prevElementWidth,this.element.style.height=o[this.hash].prevElementHeight;var ae=0,he=function(){t.setPageScroll(wt.pageScroll);var se=t.getPageScroll();ae++,ae<10&&(se.x!==wt.pageScroll.x||se.y!==wt.pageScroll.y)&&t.requestAnimationFrame(he)};t.requestAnimationFrame(he),o[this.hash].fullPage=!1,t.delegate(this,Bt)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:O}),this},setFullScreen:function(O){var Y=this;if(!t.supportsFullScreen)return this.setFullPage(O);if(t.isFullScreen()===O)return this;var dt={fullScreen:O,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",dt),dt.preventDefaultAction)return this;if(O){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var _t=function(){var wt=t.isFullScreen();wt||(t.removeEvent(document,t.fullScreenEventName,_t),t.removeEvent(document,t.fullScreenErrorEventName,_t),Y.setFullPage(!1),Y.isFullPage()&&(Y.element.style.width=Y.fullPageStyleWidth,Y.element.style.height=Y.fullPageStyleHeight)),Y.navigator&&Y.viewport&&setTimeout(function(){Y.navigator.update(Y.viewport)}),Y.raiseEvent("full-screen",{fullScreen:wt})};t.addEvent(document,t.fullScreenEventName,_t),t.addEvent(document,t.fullScreenErrorEventName,_t),t.requestFullScreen(document.body)}else t.exitFullScreen();return this},isVisible:function(){return this.container.style.visibility!=="hidden"},isFullScreen:function(){return t.isFullScreen()&&this.isFullPage()},setVisible:function(O){return this.container.style.visibility=O?"":"hidden",this.raiseEvent("visible",{visible:O}),this},addTiledImage:function(O){t.console.assert(O,"[Viewer.addTiledImage] options is required"),t.console.assert(O.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),t.console.assert(!O.replace||O.index>-1&&O.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var Y=this;O.replace&&(O.replaceItem=Y.world.getItemAt(O.index)),this._hideMessage(),O.placeholderFillStyle===void 0&&(O.placeholderFillStyle=this.placeholderFillStyle),O.opacity===void 0&&(O.opacity=this.opacity),O.preload===void 0&&(O.preload=this.preload),O.compositeOperation===void 0&&(O.compositeOperation=this.compositeOperation),O.crossOriginPolicy===void 0&&(O.crossOriginPolicy=O.tileSource.crossOriginPolicy!==void 0?O.tileSource.crossOriginPolicy:this.crossOriginPolicy),O.ajaxWithCredentials===void 0&&(O.ajaxWithCredentials=this.ajaxWithCredentials),O.loadTilesWithAjax===void 0&&(O.loadTilesWithAjax=this.loadTilesWithAjax),O.ajaxHeaders===void 0||O.ajaxHeaders===null?O.ajaxHeaders=this.ajaxHeaders:t.isPlainObject(O.ajaxHeaders)&&t.isPlainObject(this.ajaxHeaders)&&(O.ajaxHeaders=t.extend({},this.ajaxHeaders,O.ajaxHeaders));var dt={options:O};function _t(xt){for(var te=0;te<Y._loadQueue.length;te++)if(Y._loadQueue[te]===dt){Y._loadQueue.splice(te,1);break}Y._loadQueue.length===0&&wt(dt),Y.raiseEvent("add-item-failed",xt),O.error&&O.error(xt)}function wt(xt){Y.collectionMode&&(Y.world.arrange({immediately:xt.options.collectionImmediately,rows:Y.collectionRows,columns:Y.collectionColumns,layout:Y.collectionLayout,tileSize:Y.collectionTileSize,tileMargin:Y.collectionTileMargin}),Y.world.setAutoRefigureSizes(!0))}if(t.isArray(O.tileSource)){setTimeout(function(){_t({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:O.tileSource,options:O})});return}this._loadQueue.push(dt);function Ot(){for(var xt,te,ae;Y._loadQueue.length&&(xt=Y._loadQueue[0],!!xt.tileSource);){if(Y._loadQueue.splice(0,1),xt.options.replace){var he=Y.world.getIndexOfItem(xt.options.replaceItem);he!==-1&&(xt.options.index=he),Y.world.removeItem(xt.options.replaceItem)}te=new t.TiledImage({viewer:Y,source:xt.tileSource,viewport:Y.viewport,drawer:Y.drawer,tileCache:Y.tileCache,imageLoader:Y.imageLoader,x:xt.options.x,y:xt.options.y,width:xt.options.width,height:xt.options.height,fitBounds:xt.options.fitBounds,fitBoundsPlacement:xt.options.fitBoundsPlacement,clip:xt.options.clip,placeholderFillStyle:xt.options.placeholderFillStyle,opacity:xt.options.opacity,preload:xt.options.preload,degrees:xt.options.degrees,flipped:xt.options.flipped,compositeOperation:xt.options.compositeOperation,springStiffness:Y.springStiffness,animationTime:Y.animationTime,minZoomImageRatio:Y.minZoomImageRatio,wrapHorizontal:Y.wrapHorizontal,wrapVertical:Y.wrapVertical,immediateRender:Y.immediateRender,blendTime:Y.blendTime,alwaysBlend:Y.alwaysBlend,minPixelRatio:Y.minPixelRatio,smoothTileEdgesMinZoom:Y.smoothTileEdgesMinZoom,iOSDevice:Y.iOSDevice,crossOriginPolicy:xt.options.crossOriginPolicy,ajaxWithCredentials:xt.options.ajaxWithCredentials,loadTilesWithAjax:xt.options.loadTilesWithAjax,ajaxHeaders:xt.options.ajaxHeaders,debugMode:Y.debugMode,subPixelRoundingForTransparency:Y.subPixelRoundingForTransparency}),Y.collectionMode&&Y.world.setAutoRefigureSizes(!1),Y.navigator&&(ae=t.extend({},xt.options,{replace:!1,originalTiledImage:te,tileSource:xt.tileSource}),Y.navigator.addTiledImage(ae)),Y.world.addItem(te,{index:xt.options.index}),Y._loadQueue.length===0&&wt(xt),Y.world.getItemCount()===1&&!Y.preserveViewport&&Y.viewport.goHome(!0),xt.options.success&&xt.options.success({item:te})}}d(this,O.tileSource,O,function(xt){dt.tileSource=xt,Ot()},function(xt){xt.options=O,_t(xt),Ot()})},addSimpleImage:function(O){t.console.assert(O,"[Viewer.addSimpleImage] options is required"),t.console.assert(O.url,"[Viewer.addSimpleImage] options.url is required");var Y=t.extend({},O,{tileSource:{type:"image",url:O.url}});delete Y.url,this.addTiledImage(Y)},addLayer:function(O){var Y=this;t.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var dt=t.extend({},O,{success:function(_t){Y.raiseEvent("add-layer",{options:O,drawer:_t.item})},error:function(_t){Y.raiseEvent("add-layer-failed",_t)}});return this.addTiledImage(dt),this},getLayerAtLevel:function(O){return t.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(O)},getLevelOfLayer:function(O){return t.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(O)},getLayersCount:function(){return t.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(O,Y){return t.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(O,Y)},removeLayer:function(O){return t.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(O)},forceRedraw:function(){return o[this.hash].forceRedraw=!0,this},forceResize:function(){o[this.hash].needsResize=!0,o[this.hash].forceResize=!0},bindSequenceControls:function(){var O=t.delegate(this,A),Y=t.delegate(this,F),dt=t.delegate(this,this.goToNextPage),_t=t.delegate(this,this.goToPreviousPage),wt=this.navImages,Ot=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(Ot=!1),this.previousButton=new t.Button({element:this.previousButton?t.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.PreviousPage"),srcRest:qt(this.prefixUrl,wt.previous.REST),srcGroup:qt(this.prefixUrl,wt.previous.GROUP),srcHover:qt(this.prefixUrl,wt.previous.HOVER),srcDown:qt(this.prefixUrl,wt.previous.DOWN),onRelease:_t,onFocus:O,onBlur:Y}),this.nextButton=new t.Button({element:this.nextButton?t.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.NextPage"),srcRest:qt(this.prefixUrl,wt.next.REST),srcGroup:qt(this.prefixUrl,wt.next.GROUP),srcHover:qt(this.prefixUrl,wt.next.HOVER),srcDown:qt(this.prefixUrl,wt.next.DOWN),onRelease:dt,onFocus:O,onBlur:Y}),this.navPrevNextWrap||this.previousButton.disable(),(!this.tileSources||!this.tileSources.length)&&this.nextButton.disable(),Ot&&(this.paging=new t.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:t.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||t.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var O=t.delegate(this,Zt),Y=t.delegate(this,Ce),dt=t.delegate(this,er),_t=t.delegate(this,fe),wt=t.delegate(this,Ut),Ot=t.delegate(this,Yt),xt=t.delegate(this,Xt),te=t.delegate(this,nt),ae=t.delegate(this,pt),he=t.delegate(this,vt),se=t.delegate(this,A),Ie=t.delegate(this,F),Pe=this.navImages,We=[],$=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&($=!1),this.showZoomControl&&(We.push(this.zoomInButton=new t.Button({element:this.zoomInButton?t.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.ZoomIn"),srcRest:qt(this.prefixUrl,Pe.zoomIn.REST),srcGroup:qt(this.prefixUrl,Pe.zoomIn.GROUP),srcHover:qt(this.prefixUrl,Pe.zoomIn.HOVER),srcDown:qt(this.prefixUrl,Pe.zoomIn.DOWN),onPress:O,onRelease:Y,onClick:dt,onEnter:O,onExit:Y,onFocus:se,onBlur:Ie})),We.push(this.zoomOutButton=new t.Button({element:this.zoomOutButton?t.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.ZoomOut"),srcRest:qt(this.prefixUrl,Pe.zoomOut.REST),srcGroup:qt(this.prefixUrl,Pe.zoomOut.GROUP),srcHover:qt(this.prefixUrl,Pe.zoomOut.HOVER),srcDown:qt(this.prefixUrl,Pe.zoomOut.DOWN),onPress:_t,onRelease:Y,onClick:wt,onEnter:_t,onExit:Y,onFocus:se,onBlur:Ie}))),this.showHomeControl&&We.push(this.homeButton=new t.Button({element:this.homeButton?t.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.Home"),srcRest:qt(this.prefixUrl,Pe.home.REST),srcGroup:qt(this.prefixUrl,Pe.home.GROUP),srcHover:qt(this.prefixUrl,Pe.home.HOVER),srcDown:qt(this.prefixUrl,Pe.home.DOWN),onRelease:Ot,onFocus:se,onBlur:Ie})),this.showFullPageControl&&We.push(this.fullPageButton=new t.Button({element:this.fullPageButton?t.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.FullPage"),srcRest:qt(this.prefixUrl,Pe.fullpage.REST),srcGroup:qt(this.prefixUrl,Pe.fullpage.GROUP),srcHover:qt(this.prefixUrl,Pe.fullpage.HOVER),srcDown:qt(this.prefixUrl,Pe.fullpage.DOWN),onRelease:xt,onFocus:se,onBlur:Ie})),this.showRotationControl&&(We.push(this.rotateLeftButton=new t.Button({element:this.rotateLeftButton?t.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.RotateLeft"),srcRest:qt(this.prefixUrl,Pe.rotateleft.REST),srcGroup:qt(this.prefixUrl,Pe.rotateleft.GROUP),srcHover:qt(this.prefixUrl,Pe.rotateleft.HOVER),srcDown:qt(this.prefixUrl,Pe.rotateleft.DOWN),onRelease:te,onFocus:se,onBlur:Ie})),We.push(this.rotateRightButton=new t.Button({element:this.rotateRightButton?t.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.RotateRight"),srcRest:qt(this.prefixUrl,Pe.rotateright.REST),srcGroup:qt(this.prefixUrl,Pe.rotateright.GROUP),srcHover:qt(this.prefixUrl,Pe.rotateright.HOVER),srcDown:qt(this.prefixUrl,Pe.rotateright.DOWN),onRelease:ae,onFocus:se,onBlur:Ie}))),this.showFlipControl&&We.push(this.flipButton=new t.Button({element:this.flipButton?t.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.Flip"),srcRest:qt(this.prefixUrl,Pe.flip.REST),srcGroup:qt(this.prefixUrl,Pe.flip.GROUP),srcHover:qt(this.prefixUrl,Pe.flip.HOVER),srcDown:qt(this.prefixUrl,Pe.flip.DOWN),onRelease:he,onFocus:se,onBlur:Ie})),$?(this.buttonGroup=new t.ButtonGroup({buttons:We,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttonGroup.element,this.addHandler("open",t.delegate(this,Gt)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||t.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||t.ControlAnchor.TOP_LEFT})):this.customButtons=We),this},currentPage:function(){return this._sequenceIndex},goToPage:function(O){return this.tileSources&&O>=0&&O<this.tileSources.length&&(this._sequenceIndex=O,this._updateSequenceButtons(O),this.open(this.tileSources[O]),this.referenceStrip&&this.referenceStrip.setFocus(O),this.raiseEvent("page",{page:O})),this},addOverlay:function(O,Y,dt,_t){var wt;if(t.isPlainObject(O)?wt=O:wt={element:O,location:Y,placement:dt,onDraw:_t},O=t.getElement(wt.element),m(this.currentOverlays,O)>=0)return this;var Ot=f(this,wt);return this.currentOverlays.push(Ot),Ot.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:O,location:wt.location,placement:wt.placement}),this},updateOverlay:function(O,Y,dt){var _t;return O=t.getElement(O),_t=m(this.currentOverlays,O),_t>=0&&(this.currentOverlays[_t].update(Y,dt),o[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:O,location:Y,placement:dt})),this},removeOverlay:function(O){var Y;return O=t.getElement(O),Y=m(this.currentOverlays,O),Y>=0&&(this.currentOverlays[Y].destroy(),this.currentOverlays.splice(Y,1),o[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:O})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return o[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(O){var Y;return O=t.getElement(O),Y=m(this.currentOverlays,O),Y>=0?this.currentOverlays[Y]:null},_updateSequenceButtons:function(O){this.nextButton&&(!this.tileSources||this.tileSources.length-1===O?this.navPrevNextWrap||this.nextButton.disable():this.nextButton.enable()),this.previousButton&&(O>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(O){this._hideMessage();var Y=t.makeNeutralElement("div");Y.appendChild(document.createTextNode(O)),this.messageDiv=t.makeCenteredNode(Y),t.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var O=this.messageDiv;O&&(O.parentNode.removeChild(O),delete this.messageDiv)},gestureSettingsByDeviceType:function(O){switch(O){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var O,Y=this.currentOverlays.length;for(O=0;O<Y;O++)this.currentOverlays[O].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new t.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,useCanvas:this.useCanvas,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else t.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')},_addUpdatePixelDensityRatioEvent:function(){this._updatePixelDensityRatioBind=this._updatePixelDensityRatio.bind(this),t.addEvent(window,"resize",this._updatePixelDensityRatioBind)},_removeUpdatePixelDensityRatioEvent:function(){t.removeEvent(window,"resize",this._updatePixelDensityRatioBind)},_updatePixelDensityRatio:function(){var O=t.pixelDensityRatio,Y=t.getCurrentPixelDensityRatio();O!==Y&&(t.pixelDensityRatio=Y,this.world.resetItems(),this.forceRedraw())},goToPreviousPage:function(){var O=this._sequenceIndex-1;this.navPrevNextWrap&&O<0&&(O+=this.tileSources.length),this.goToPage(O)},goToNextPage:function(){var O=this._sequenceIndex+1;this.navPrevNextWrap&&O>=this.tileSources.length&&(O=0),this.goToPage(O)},isAnimating:function(){return o[this.hash].animating}});function u(O){return O=t.getElement(O),new t.Point(O.clientWidth===0?1:O.clientWidth,O.clientHeight===0?1:O.clientHeight)}function d(O,Y,dt,_t,wt){var Ot=O;if(t.type(Y)==="string"){if(Y.match(/^\s*<.*>\s*$/))Y=t.parseXml(Y);else if(Y.match(/^\s*[{[].*[}\]]\s*$/))try{var xt=t.parseJSON(Y);Y=xt}catch{}}function te(ae,he){ae.ready?_t(ae):(ae.addHandler("ready",function(){_t(ae)}),ae.addHandler("open-failed",function(se){wt({message:se.message,source:he})}))}setTimeout(function(){if(t.type(Y)==="string")Y=new t.TileSource({url:Y,crossOriginPolicy:dt.crossOriginPolicy!==void 0?dt.crossOriginPolicy:O.crossOriginPolicy,ajaxWithCredentials:O.ajaxWithCredentials,ajaxHeaders:dt.ajaxHeaders?dt.ajaxHeaders:O.ajaxHeaders,splitHashDataForPost:O.splitHashDataForPost,useCanvas:O.useCanvas,success:function(Ie){_t(Ie.tileSource)}}),Y.addHandler("open-failed",function(Ie){wt(Ie)});else if(t.isPlainObject(Y)||Y.nodeType)if(Y.crossOriginPolicy===void 0&&(dt.crossOriginPolicy!==void 0||O.crossOriginPolicy!==void 0)&&(Y.crossOriginPolicy=dt.crossOriginPolicy!==void 0?dt.crossOriginPolicy:O.crossOriginPolicy),Y.ajaxWithCredentials===void 0&&(Y.ajaxWithCredentials=O.ajaxWithCredentials),Y.useCanvas===void 0&&(Y.useCanvas=O.useCanvas),t.isFunction(Y.getTileUrl)){var ae=new t.TileSource(Y);ae.getTileUrl=Y.getTileUrl,_t(ae)}else{var he=t.TileSource.determineType(Ot,Y);if(!he){wt({message:"Unable to load TileSource",source:Y});return}var se=he.prototype.configure.apply(Ot,[Y]);te(new he(se),Y)}else te(Y,Y)})}function f(O,Y){if(Y instanceof t.Overlay)return Y;var dt=null;if(Y.element)dt=t.getElement(Y.element);else{var _t=Y.id?Y.id:"openseadragon-overlay-"+Math.floor(Math.random()*1e7);dt=t.getElement(Y.id),dt||(dt=document.createElement("a"),dt.href="#/overlay/"+_t),dt.id=_t,t.addClass(dt,Y.className?Y.className:"openseadragon-overlay")}var wt=Y.location,Ot=Y.width,xt=Y.height;if(!wt){var te=Y.x,ae=Y.y;if(Y.px!==void 0){var he=O.viewport.imageToViewportRectangle(new t.Rect(Y.px,Y.py,Ot||0,xt||0));te=he.x,ae=he.y,Ot=Ot!==void 0?he.width:void 0,xt=xt!==void 0?he.height:void 0}wt=new t.Point(te,ae)}var se=Y.placement;return se&&t.type(se)==="string"&&(se=t.Placement[Y.placement.toUpperCase()]),new t.Overlay({element:dt,location:wt,placement:se,onDraw:Y.onDraw,checkResize:Y.checkResize,width:Ot,height:xt,rotationMode:Y.rotationMode})}function m(O,Y){var dt;for(dt=O.length-1;dt>=0;dt--)if(O[dt].element===Y)return dt;return-1}function v(O,Y){return t.requestAnimationFrame(function(){Y(O)})}function _(O){t.requestAnimationFrame(function(){C(O)})}function k(O){O.autoHideControls&&(O.controlsShouldFade=!0,O.controlsFadeBeginTime=t.now()+O.controlsFadeDelay,window.setTimeout(function(){_(O)},O.controlsFadeDelay))}function C(O){var Y,dt,_t,wt;if(O.controlsShouldFade){for(Y=t.now(),dt=Y-O.controlsFadeBeginTime,_t=1-dt/O.controlsFadeLength,_t=Math.min(1,_t),_t=Math.max(0,_t),wt=O.controls.length-1;wt>=0;wt--)O.controls[wt].autoFade&&O.controls[wt].setOpacity(_t);_t>0&&_(O)}}function M(O){var Y;for(O.controlsShouldFade=!1,Y=O.controls.length-1;Y>=0;Y--)O.controls[Y].setOpacity(1)}function A(){M(this)}function F(){k(this)}function U(O){var Y={tracker:O.eventSource,position:O.position,originalEvent:O.originalEvent,preventDefault:O.preventDefault};this.raiseEvent("canvas-contextmenu",Y),O.preventDefault=Y.preventDefault}function j(O){var Y={originalEvent:O.originalEvent,preventDefaultAction:!1,preventVerticalPan:O.preventVerticalPan||!this.panVertical,preventHorizontalPan:O.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",Y),!Y.preventDefaultAction&&!O.ctrl&&!O.alt&&!O.meta)switch(O.keyCode){case 38:Y.preventVerticalPan||(O.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),O.preventDefault=!0;break;case 40:Y.preventVerticalPan||(O.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),O.preventDefault=!0;break;case 37:Y.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),O.preventDefault=!0;break;case 39:Y.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),O.preventDefault=!0;break;default:O.preventDefault=!1;break}else O.preventDefault=!1}function J(O){var Y={originalEvent:O.originalEvent,preventDefaultAction:!1,preventVerticalPan:O.preventVerticalPan||!this.panVertical,preventHorizontalPan:O.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",Y),!Y.preventDefaultAction&&!O.ctrl&&!O.alt&&!O.meta)switch(O.keyCode){case 43:case 61:this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),O.preventDefault=!0;break;case 45:this.viewport.zoomBy(.9),this.viewport.applyConstraints(),O.preventDefault=!0;break;case 48:this.viewport.goHome(),this.viewport.applyConstraints(),O.preventDefault=!0;break;case 119:case 87:Y.preventVerticalPan||(O.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,-40))),this.viewport.applyConstraints()),O.preventDefault=!0;break;case 115:case 83:Y.preventVerticalPan||(O.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,40))),this.viewport.applyConstraints()),O.preventDefault=!0;break;case 97:Y.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(-40,0))),this.viewport.applyConstraints()),O.preventDefault=!0;break;case 100:Y.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(40,0))),this.viewport.applyConstraints()),O.preventDefault=!0;break;case 114:this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement),this.viewport.applyConstraints(),O.preventDefault=!0;break;case 82:this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement),this.viewport.applyConstraints(),O.preventDefault=!0;break;case 102:this.viewport.toggleFlip(),O.preventDefault=!0;break;case 106:this.goToPreviousPage();break;case 107:this.goToNextPage();break;default:O.preventDefault=!1;break}else O.preventDefault=!1}function H(O){var Y,dt=document.activeElement===this.canvas;dt||this.canvas.focus(),this.viewport.flipped&&(O.position.x=this.viewport.getContainerSize().x-O.position.x);var _t={tracker:O.eventSource,position:O.position,quick:O.quick,shift:O.shift,originalEvent:O.originalEvent,originalTarget:O.originalTarget,preventDefaultAction:!1};this.raiseEvent("canvas-click",_t),!_t.preventDefaultAction&&this.viewport&&O.quick&&(Y=this.gestureSettingsByDeviceType(O.pointerType),Y.clickToZoom===!0&&(this.viewport.zoomBy(O.shift?1/this.zoomPerClick:this.zoomPerClick,Y.zoomToRefPoint?this.viewport.pointFromPixel(O.position,!0):null),this.viewport.applyConstraints()),Y.dblClickDragToZoom&&(o[this.hash].draggingToZoom===!0?(o[this.hash].lastClickTime=null,o[this.hash].draggingToZoom=!1):o[this.hash].lastClickTime=t.now()))}function V(O){var Y,dt={tracker:O.eventSource,position:O.position,shift:O.shift,originalEvent:O.originalEvent,preventDefaultAction:!1};this.raiseEvent("canvas-double-click",dt),!dt.preventDefaultAction&&this.viewport&&(Y=this.gestureSettingsByDeviceType(O.pointerType),Y.dblClickToZoom&&(this.viewport.zoomBy(O.shift?1/this.zoomPerClick:this.zoomPerClick,Y.zoomToRefPoint?this.viewport.pointFromPixel(O.position,!0):null),this.viewport.applyConstraints()))}function ot(O){var Y,dt={tracker:O.eventSource,pointerType:O.pointerType,position:O.position,delta:O.delta,speed:O.speed,direction:O.direction,shift:O.shift,originalEvent:O.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag",dt),Y=this.gestureSettingsByDeviceType(O.pointerType),!dt.preventDefaultAction&&this.viewport){if(Y.dblClickDragToZoom&&o[this.hash].draggingToZoom){var _t=Math.pow(this.zoomPerDblClickDrag,O.delta.y/50);this.viewport.zoomBy(_t)}else if(Y.dragToPan&&!o[this.hash].draggingToZoom){if(this.panHorizontal||(O.delta.x=0),this.panVertical||(O.delta.y=0),this.viewport.flipped&&(O.delta.x=-O.delta.x),this.constrainDuringPan){var wt=this.viewport.deltaPointsFromPixels(O.delta.negate());this.viewport.centerSpringX.target.value+=wt.x,this.viewport.centerSpringY.target.value+=wt.y;var Ot=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=wt.x,this.viewport.centerSpringY.target.value-=wt.y,Ot.xConstrained&&(O.delta.x=0),Ot.yConstrained&&(O.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(O.delta.negate()),Y.flickEnabled&&!this.constrainDuringPan)}}}function ft(O){var Y,dt={tracker:O.eventSource,pointerType:O.pointerType,position:O.position,speed:O.speed,direction:O.direction,shift:O.shift,originalEvent:O.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag-end",dt),Y=this.gestureSettingsByDeviceType(O.pointerType),!dt.preventDefaultAction&&this.viewport){if(!o[this.hash].draggingToZoom&&Y.flickEnabled&&O.speed>=Y.flickMinSpeed){var _t=0;this.panHorizontal&&(_t=Y.flickMomentum*O.speed*Math.cos(O.direction));var wt=0;this.panVertical&&(wt=Y.flickMomentum*O.speed*Math.sin(O.direction));var Ot=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),xt=this.viewport.pointFromPixel(new t.Point(Ot.x-_t,Ot.y-wt));this.viewport.panTo(xt,!1)}this.viewport.applyConstraints()}Y.dblClickDragToZoom&&o[this.hash].draggingToZoom===!0&&(o[this.hash].draggingToZoom=!1)}function ht(O){this.raiseEvent("canvas-enter",{tracker:O.eventSource,pointerType:O.pointerType,position:O.position,buttons:O.buttons,pointers:O.pointers,insideElementPressed:O.insideElementPressed,buttonDownAny:O.buttonDownAny,originalEvent:O.originalEvent})}function ct(O){this.raiseEvent("canvas-exit",{tracker:O.eventSource,pointerType:O.pointerType,position:O.position,buttons:O.buttons,pointers:O.pointers,insideElementPressed:O.insideElementPressed,buttonDownAny:O.buttonDownAny,originalEvent:O.originalEvent})}function Z(O){var Y;if(this.raiseEvent("canvas-press",{tracker:O.eventSource,pointerType:O.pointerType,position:O.position,insideElementPressed:O.insideElementPressed,insideElementReleased:O.insideElementReleased,originalEvent:O.originalEvent}),Y=this.gestureSettingsByDeviceType(O.pointerType),Y.dblClickDragToZoom){var dt=o[this.hash].lastClickTime,_t=t.now();if(dt===null)return;_t-dt<this.dblClickTimeThreshold&&(o[this.hash].draggingToZoom=!0),o[this.hash].lastClickTime=null}}function lt(O){this.raiseEvent("canvas-release",{tracker:O.eventSource,pointerType:O.pointerType,position:O.position,insideElementPressed:O.insideElementPressed,insideElementReleased:O.insideElementReleased,originalEvent:O.originalEvent})}function ut(O){this.raiseEvent("canvas-nonprimary-press",{tracker:O.eventSource,position:O.position,pointerType:O.pointerType,button:O.button,buttons:O.buttons,originalEvent:O.originalEvent})}function mt(O){this.raiseEvent("canvas-nonprimary-release",{tracker:O.eventSource,position:O.position,pointerType:O.pointerType,button:O.button,buttons:O.buttons,originalEvent:O.originalEvent})}function re(O){var Y,dt,_t,wt,Ot={tracker:O.eventSource,pointerType:O.pointerType,gesturePoints:O.gesturePoints,lastCenter:O.lastCenter,center:O.center,lastDistance:O.lastDistance,distance:O.distance,shift:O.shift,originalEvent:O.originalEvent,preventDefaultPanAction:!1,preventDefaultZoomAction:!1,preventDefaultRotateAction:!1};if(this.raiseEvent("canvas-pinch",Ot),this.viewport&&(Y=this.gestureSettingsByDeviceType(O.pointerType),Y.pinchToZoom&&(!Ot.preventDefaultPanAction||!Ot.preventDefaultZoomAction)&&(dt=this.viewport.pointFromPixel(O.center,!0),Y.zoomToRefPoint&&!Ot.preventDefaultPanAction&&(_t=this.viewport.pointFromPixel(O.lastCenter,!0),wt=_t.minus(dt),this.panHorizontal||(wt.x=0),this.panVertical||(wt.y=0),this.viewport.panBy(wt,!0)),Ot.preventDefaultZoomAction||this.viewport.zoomBy(O.distance/O.lastDistance,dt,!0),this.viewport.applyConstraints()),Y.pinchRotate&&!Ot.preventDefaultRotateAction)){var xt=Math.atan2(O.gesturePoints[0].currentPos.y-O.gesturePoints[1].currentPos.y,O.gesturePoints[0].currentPos.x-O.gesturePoints[1].currentPos.x),te=Math.atan2(O.gesturePoints[0].lastPos.y-O.gesturePoints[1].lastPos.y,O.gesturePoints[0].lastPos.x-O.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(xt-te)*(180/Math.PI))}}function ne(O){var Y,dt,_t,wt,Ot;wt=t.now(),Ot=wt-this._lastScrollTime,Ot>this.minScrollDeltaTime?(this._lastScrollTime=wt,Y={tracker:O.eventSource,position:O.position,scroll:O.scroll,shift:O.shift,originalEvent:O.originalEvent,preventDefaultAction:!1,preventDefault:!0},this.raiseEvent("canvas-scroll",Y),!Y.preventDefaultAction&&this.viewport&&(this.viewport.flipped&&(O.position.x=this.viewport.getContainerSize().x-O.position.x),dt=this.gestureSettingsByDeviceType(O.pointerType),dt.scrollToZoom&&(_t=Math.pow(this.zoomPerScroll,O.scroll),this.viewport.zoomBy(_t,dt.zoomToRefPoint?this.viewport.pointFromPixel(O.position,!0):null),this.viewport.applyConstraints())),O.preventDefault=Y.preventDefault):O.preventDefault=!0}function ye(O){o[this.hash].mouseInside=!0,M(this),this.raiseEvent("container-enter",{tracker:O.eventSource,pointerType:O.pointerType,position:O.position,buttons:O.buttons,pointers:O.pointers,insideElementPressed:O.insideElementPressed,buttonDownAny:O.buttonDownAny,originalEvent:O.originalEvent})}function Bt(O){O.pointers<1&&(o[this.hash].mouseInside=!1,o[this.hash].animating||k(this)),this.raiseEvent("container-exit",{tracker:O.eventSource,pointerType:O.pointerType,position:O.position,buttons:O.buttons,pointers:O.pointers,insideElementPressed:O.insideElementPressed,buttonDownAny:O.buttonDownAny,originalEvent:O.originalEvent})}function pe(O){Wt(O),O.isOpen()?O._updateRequestId=v(O,pe):O._updateRequestId=!1}function Jt(O,Y){var dt=O.viewport,_t=dt.getZoom(),wt=dt.getCenter();dt.resize(Y,O.preserveImageSizeOnResize),dt.panTo(wt,!0);var Ot;if(O.preserveImageSizeOnResize)Ot=o[O.hash].prevContainerSize.x/Y.x;else{var xt=new t.Point(0,0),te=new t.Point(o[O.hash].prevContainerSize.x,o[O.hash].prevContainerSize.y).distanceTo(xt),ae=new t.Point(Y.x,Y.y).distanceTo(xt);Ot=ae/te*o[O.hash].prevContainerSize.x/Y.x}dt.zoomTo(_t*Ot,null,!0),o[O.hash].prevContainerSize=Y,o[O.hash].forceRedraw=!0,o[O.hash].needsResize=!1,o[O.hash].forceResize=!1}function Wt(O){if(!(O._opening||!o[O.hash])){if(O.autoResize||o[O.hash].forceResize){var Y;if(O._autoResizePolling){Y=u(O.container);var dt=o[O.hash].prevContainerSize;Y.equals(dt)||(o[O.hash].needsResize=!0)}o[O.hash].needsResize&&Jt(O,Y||u(O.container))}var _t=O.viewport.update(),wt=O.world.update()||_t;_t&&O.raiseEvent("viewport-change"),O.referenceStrip&&(wt=O.referenceStrip.update(O.viewport)||wt);var Ot=o[O.hash].animating;!Ot&&wt&&(O.raiseEvent("animation-start"),M(O));var xt=Ot&&!wt;xt&&(o[O.hash].animating=!1),(wt||xt||o[O.hash].forceRedraw||O.world.needsDraw())&&(Et(O),O._drawOverlays(),O.navigator&&O.navigator.update(O.viewport),o[O.hash].forceRedraw=!1,wt&&O.raiseEvent("animation")),xt&&(O.raiseEvent("animation-finish"),o[O.hash].mouseInside||k(O)),o[O.hash].animating=wt}}function Et(O){O.imageLoader.clear(),O.drawer.clear(),O.world.draw(),O.raiseEvent("update-viewport",{})}function qt(O,Y){return O?O+Y:Y}function Zt(){o[this.hash].lastZoomTime=t.now(),o[this.hash].zoomFactor=this.zoomPerSecond,o[this.hash].zooming=!0,le(this)}function fe(){o[this.hash].lastZoomTime=t.now(),o[this.hash].zoomFactor=1/this.zoomPerSecond,o[this.hash].zooming=!0,le(this)}function Ce(){o[this.hash].zooming=!1}function le(O){t.requestAnimationFrame(t.delegate(O,ue))}function ue(){var O,Y,dt;o[this.hash].zooming&&this.viewport&&(O=t.now(),Y=O-o[this.hash].lastZoomTime,dt=Math.pow(o[this.hash].zoomFactor,Y/1e3),this.viewport.zoomBy(dt),this.viewport.applyConstraints(),o[this.hash].lastZoomTime=O,le(this))}function er(){this.viewport&&(o[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function Ut(){this.viewport&&(o[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function Gt(){this.buttonGroup&&(this.buttonGroup.emulateEnter(),this.buttonGroup.emulateLeave())}function Yt(){this.viewport&&this.viewport.goHome()}function Xt(){this.isFullPage()&&!t.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttonGroup&&this.buttonGroup.emulateLeave(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function nt(){if(this.viewport){var O=this.viewport.getRotation();this.viewport.flipped?O+=this.rotationIncrement:O-=this.rotationIncrement,this.viewport.setRotation(O)}}function pt(){if(this.viewport){var O=this.viewport.getRotation();this.viewport.flipped?O-=this.rotationIncrement:O+=this.rotationIncrement,this.viewport.setRotation(O)}}function vt(){this.viewport.toggleFlip()}}(r),function(t){t.Navigator=function(v){var _=v.viewer,k=this,C,M;v.element||v.id?(v.element?(v.id&&t.console.warn("Given option.id for Navigator was ignored since option.element was provided and is being used instead."),v.element.id?v.id=v.element.id:v.id="navigator-"+t.now(),this.element=v.element):this.element=document.getElementById(v.id),v.controlOptions={anchor:t.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(v.id="navigator-"+t.now(),this.element=t.makeNeutralElement("div"),v.controlOptions={anchor:t.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:v.autoFade},v.position&&(v.position==="BOTTOM_RIGHT"?v.controlOptions.anchor=t.ControlAnchor.BOTTOM_RIGHT:v.position==="BOTTOM_LEFT"?v.controlOptions.anchor=t.ControlAnchor.BOTTOM_LEFT:v.position==="TOP_RIGHT"?v.controlOptions.anchor=t.ControlAnchor.TOP_RIGHT:v.position==="TOP_LEFT"?v.controlOptions.anchor=t.ControlAnchor.TOP_LEFT:v.position==="ABSOLUTE"&&(v.controlOptions.anchor=t.ControlAnchor.ABSOLUTE,v.controlOptions.top=v.top,v.controlOptions.left=v.left,v.controlOptions.height=v.height,v.controlOptions.width=v.width))),this.element.id=v.id,this.element.className+=" navigator",v=t.extend(!0,{sizeRatio:t.DEFAULT_SETTINGS.navigatorSizeRatio},v,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:v.animationTime,autoResize:!1,minZoomImageRatio:1,background:v.background,opacity:v.opacity,borderColor:v.borderColor,displayRegionColor:v.displayRegionColor}),v.minPixelRatio=this.minPixelRatio=_.minPixelRatio,t.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new t.Point(1,1),this.totalBorderWidths=new t.Point(this.borderWidth*2,this.borderWidth*2).minus(this.fudge),v.controlOptions.anchor!==t.ControlAnchor.NONE&&function(U,j){U.margin="0px",U.border=j+"px solid "+v.borderColor,U.padding="0px",U.background=v.background,U.opacity=v.opacity,U.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=t.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(U,j){U.position="relative",U.top="0px",U.left="0px",U.fontSize="0px",U.overflow="hidden",U.border=j+"px solid "+v.displayRegionColor,U.margin="0px",U.padding="0px",U.background="transparent",U.float="left",U.cssFloat="left",U.styleFloat="left",U.zIndex=999999999,U.cursor="default"}(this.displayRegion.style,this.borderWidth),t.setElementPointerEventsNone(this.displayRegion),t.setElementTouchActionNone(this.displayRegion),this.displayRegionContainer=t.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",t.setElementPointerEventsNone(this.displayRegionContainer),t.setElementTouchActionNone(this.displayRegionContainer),_.addControl(this.element,v.controlOptions),this._resizeWithViewer=v.controlOptions.anchor!==t.ControlAnchor.ABSOLUTE&&v.controlOptions.anchor!==t.ControlAnchor.NONE,v.width&&v.height?(this.setWidth(v.width),this.setHeight(v.height)):this._resizeWithViewer&&(C=t.getElementSize(_.element),this.element.style.height=Math.round(C.y*v.sizeRatio)+"px",this.element.style.width=Math.round(C.x*v.sizeRatio)+"px",this.oldViewerSize=C,M=t.getElementSize(this.element),this.elementArea=M.x*M.y),this.oldContainerSize=new t.Point(0,0),t.Viewer.apply(this,[v]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer);function A(U){f(k.displayRegionContainer,U),f(k.displayRegion,-U),k.viewport.setRotation(U)}if(v.navigatorRotate){var F=v.viewer.viewport?v.viewer.viewport.getRotation():v.viewer.degrees||0;A(F),v.viewer.addHandler("rotate",function(U){A(U.degrees)})}this.innerTracker.destroy(),this.innerTracker=new t.MouseTracker({userData:"Navigator.innerTracker",element:this.element,dragHandler:t.delegate(this,l),clickHandler:t.delegate(this,o),releaseHandler:t.delegate(this,u),scrollHandler:t.delegate(this,d),preProcessEventHandler:function(U){U.eventType==="wheel"&&(U.preventDefault=!0)}}),this.outerTracker.userData="Navigator.outerTracker",t.setElementPointerEventsNone(this.canvas),t.setElementPointerEventsNone(this.container),this.addHandler("reset-size",function(){k.viewport&&k.viewport.goHome(!0)}),_.world.addHandler("item-index-change",function(U){window.setTimeout(function(){var j=k.world.getItemAt(U.previousIndex);k.world.setItemIndex(j,U.newIndex)},1)}),_.world.addHandler("remove-item",function(U){var j=U.item,J=k._getMatchingItem(j);J&&k.world.removeItem(J)}),this.update(_.viewport)},t.extend(t.Navigator.prototype,t.EventSource.prototype,t.Viewer.prototype,{updateSize:function(){if(this.viewport){var v=new t.Point(this.container.clientWidth===0?1:this.container.clientWidth,this.container.clientHeight===0?1:this.container.clientHeight);v.equals(this.oldContainerSize)||(this.viewport.resize(v,!0),this.viewport.goHome(!0),this.oldContainerSize=v,this.drawer.clear(),this.world.draw())}},setWidth:function(v){this.width=v,this.element.style.width=typeof v=="number"?v+"px":v,this._resizeWithViewer=!1},setHeight:function(v){this.height=v,this.element.style.height=typeof v=="number"?v+"px":v,this._resizeWithViewer=!1},setFlip:function(v){return this.viewport.setFlip(v),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(v){m(this.displayRegion,v),m(this.canvas,v),m(this.element,v)},update:function(v){var _,k,C,M,A,F;if(_=t.getElementSize(this.viewer.element),this._resizeWithViewer&&_.x&&_.y&&!_.equals(this.oldViewerSize)&&(this.oldViewerSize=_,this.maintainSizeRatio||!this.elementArea?(k=_.x*this.sizeRatio,C=_.y*this.sizeRatio):(k=Math.sqrt(this.elementArea*(_.x/_.y)),C=this.elementArea/k),this.element.style.width=Math.round(k)+"px",this.element.style.height=Math.round(C)+"px",this.elementArea||(this.elementArea=k*C),this.updateSize()),v&&this.viewport){M=v.getBoundsNoRotate(!0),A=this.viewport.pixelFromPointNoRotate(M.getTopLeft(),!1),F=this.viewport.pixelFromPointNoRotate(M.getBottomRight(),!1).minus(this.totalBorderWidths);var U=this.displayRegion.style;U.display=this.world.getItemCount()?"block":"none",U.top=Math.round(A.y)+"px",U.left=Math.round(A.x)+"px";var j=Math.abs(A.x-F.x),J=Math.abs(A.y-F.y);U.width=Math.round(Math.max(j,0))+"px",U.height=Math.round(Math.max(J,0))+"px"}},addTiledImage:function(v){var _=this,k=v.originalTiledImage;delete v.original;var C=t.extend({},v,{success:function(M){var A=M.item;A._originalForNavigator=k,_._matchBounds(A,k,!0),_._matchOpacity(A,k),_._matchCompositeOperation(A,k);function F(){_._matchBounds(A,k)}function U(){_._matchOpacity(A,k)}function j(){_._matchCompositeOperation(A,k)}k.addHandler("bounds-change",F),k.addHandler("clip-change",F),k.addHandler("opacity-change",U),k.addHandler("composite-operation-change",j)}});return t.Viewer.prototype.addTiledImage.apply(this,[C])},destroy:function(){return t.Viewer.prototype.destroy.apply(this)},_getMatchingItem:function(v){for(var _=this.world.getItemCount(),k,C=0;C<_;C++)if(k=this.world.getItemAt(C),k._originalForNavigator===v)return k;return null},_matchBounds:function(v,_,k){var C=_.getBoundsNoRotate();v.setPosition(C.getTopLeft(),k),v.setWidth(C.width,k),v.setRotation(_.getRotation(),k),v.setClip(_.getClip()),v.setFlip(_.getFlip())},_matchOpacity:function(v,_){v.setOpacity(_.opacity)},_matchCompositeOperation:function(v,_){v.setCompositeOperation(_.compositeOperation)}});function o(v){var _={tracker:v.eventSource,position:v.position,quick:v.quick,shift:v.shift,originalEvent:v.originalEvent,preventDefaultAction:!1};if(this.viewer.raiseEvent("navigator-click",_),!_.preventDefaultAction&&v.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(v.position.x=this.viewport.getContainerSize().x-v.position.x);var k=this.viewport.pointFromPixel(v.position);this.panVertical?this.panHorizontal||(k.x=this.viewer.viewport.getCenter(!0).x):k.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(k),this.viewer.viewport.applyConstraints()}}function l(v){var _={tracker:v.eventSource,position:v.position,delta:v.delta,speed:v.speed,direction:v.direction,shift:v.shift,originalEvent:v.originalEvent,preventDefaultAction:!1};this.viewer.raiseEvent("navigator-drag",_),!_.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(v.delta.x=0),this.panVertical||(v.delta.y=0),this.viewer.viewport.flipped&&(v.delta.x=-v.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(v.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function u(v){v.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function d(v){var _={tracker:v.eventSource,position:v.position,scroll:v.scroll,shift:v.shift,originalEvent:v.originalEvent,preventDefault:v.preventDefault};this.viewer.raiseEvent("navigator-scroll",_),v.preventDefault=_.preventDefault}function f(v,_){m(v,"rotate("+_+"deg)")}function m(v,_){v.style.webkitTransform=_,v.style.mozTransform=_,v.style.msTransform=_,v.style.oTransform=_,v.style.transform=_}}(r),function(t){var o={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};t.extend(t,{getString:function(l){var u=l.split("."),d=null,f=arguments,m=o,v;for(v=0;v<u.length-1;v++)m=m[u[v]]||{};return d=m[u[v]],typeof d!="string"&&(t.console.error("Untranslated source string:",l),d=""),d.replace(/\{\d+\}/g,function(_){var k=parseInt(_.match(/\d+/),10)+1;return k<f.length?f[k]:""})},setString:function(l,u){var d=l.split("."),f=o,m;for(m=0;m<d.length-1;m++)f[d[m]]||(f[d[m]]={}),f=f[d[m]];f[d[m]]=u}})}(r),function(t){t.Point=function(o,l){this.x=typeof o=="number"?o:0,this.y=typeof l=="number"?l:0},t.Point.prototype={clone:function(){return new t.Point(this.x,this.y)},plus:function(o){return new t.Point(this.x+o.x,this.y+o.y)},minus:function(o){return new t.Point(this.x-o.x,this.y-o.y)},times:function(o){return new t.Point(this.x*o,this.y*o)},divide:function(o){return new t.Point(this.x/o,this.y/o)},negate:function(){return new t.Point(-this.x,-this.y)},distanceTo:function(o){return Math.sqrt(Math.pow(this.x-o.x,2)+Math.pow(this.y-o.y,2))},squaredDistanceTo:function(o){return Math.pow(this.x-o.x,2)+Math.pow(this.y-o.y,2)},apply:function(o){return new t.Point(o(this.x),o(this.y))},equals:function(o){return o instanceof t.Point&&this.x===o.x&&this.y===o.y},rotate:function(o,l){l=l||new t.Point(0,0);var u,d;if(o%90===0){var f=t.positiveModulo(o,360);switch(f){case 0:u=1,d=0;break;case 90:u=0,d=1;break;case 180:u=-1,d=0;break;case 270:u=0,d=-1;break}}else{var m=o*Math.PI/180;u=Math.cos(m),d=Math.sin(m)}var v=u*(this.x-l.x)-d*(this.y-l.y)+l.x,_=d*(this.x-l.x)+u*(this.y-l.y)+l.y;return new t.Point(v,_)},toString:function(){return"("+Math.round(this.x*100)/100+","+Math.round(this.y*100)/100+")"}}}(r),function(t){t.TileSource=function(l,u,d,f,m,v){var _=this,k=arguments,C,M;if(t.isPlainObject(l)?C=l:C={width:k[0],height:k[1],tileSize:k[2],tileOverlap:k[3],minLevel:k[4],maxLevel:k[5]},t.EventSource.call(this),t.extend(!0,this,C),!this.success){for(M=0;M<arguments.length;M++)if(t.isFunction(arguments[M])){this.success=arguments[M];break}}this.success&&this.addHandler("ready",function(A){_.success(A)}),t.type(arguments[0])==="string"&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new t.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=C.width&&C.height?C.width/C.height:1,this.dimensions=new t.Point(C.width,C.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=C.tileOverlap?C.tileOverlap:0,this.minLevel=C.minLevel?C.minLevel:0,this.maxLevel=C.maxLevel!==void 0&&C.maxLevel!==null?C.maxLevel:C.width&&C.height?Math.ceil(Math.log(Math.max(C.width,C.height))/Math.log(2)):0,this.success&&t.isFunction(this.success)&&this.success(this))},t.TileSource.prototype={getTileSize:function(l){return t.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(l){return this._tileWidth?this._tileWidth:this.getTileSize(l)},getTileHeight:function(l){return this._tileHeight?this._tileHeight:this.getTileSize(l)},setMaxLevel:function(l){this.maxLevel=l,this._memoizeLevelScale()},getLevelScale:function(l){return this._memoizeLevelScale(),this.getLevelScale(l)},_memoizeLevelScale:function(){var l={},u;for(u=0;u<=this.maxLevel;u++)l[u]=1/Math.pow(2,this.maxLevel-u);this.getLevelScale=function(d){return l[d]}},getNumTiles:function(l){var u=this.getLevelScale(l),d=Math.ceil(u*this.dimensions.x/this.getTileWidth(l)),f=Math.ceil(u*this.dimensions.y/this.getTileHeight(l));return new t.Point(d,f)},getPixelRatio:function(l){var u=this.dimensions.times(this.getLevelScale(l)),d=1/u.x*t.pixelDensityRatio,f=1/u.y*t.pixelDensityRatio;return new t.Point(d,f)},getClosestLevel:function(){var l,u;for(l=this.minLevel+1;l<=this.maxLevel&&(u=this.getNumTiles(l),!(u.x>1||u.y>1));l++);return l-1},getTileAtPoint:function(l,u){var d=u.x>=0&&u.x<=1&&u.y>=0&&u.y<=1/this.aspectRatio;t.console.assert(d,"[TileSource.getTileAtPoint] must be called with a valid point.");var f=this.dimensions.x*this.getLevelScale(l),m=u.x*f,v=u.y*f,_=Math.floor(m/this.getTileWidth(l)),k=Math.floor(v/this.getTileHeight(l));u.x>=1&&(_=this.getNumTiles(l).x-1);var C=1e-15;return u.y>=1/this.aspectRatio-C&&(k=this.getNumTiles(l).y-1),new t.Point(_,k)},getTileBounds:function(l,u,d,f){var m=this.dimensions.times(this.getLevelScale(l)),v=this.getTileWidth(l),_=this.getTileHeight(l),k=u===0?0:v*u-this.tileOverlap,C=d===0?0:_*d-this.tileOverlap,M=v+(u===0?1:2)*this.tileOverlap,A=_+(d===0?1:2)*this.tileOverlap,F=1/m.x;return M=Math.min(M,m.x-k),A=Math.min(A,m.y-C),f?new t.Rect(0,0,M,A):new t.Rect(k*F,C*F,M*F,A*F)},getImageInfo:function(l){var u=this,d,f,m,v,_,k,C;l&&(_=l.split("/"),k=_[_.length-1],C=k.lastIndexOf("."),C>-1&&(_[_.length-1]=k.slice(0,C)));var M=null;if(this.splitHashDataForPost){var A=l.indexOf("#");A!==-1&&(M=l.substring(A+1),l=l.substr(0,A))}f=function(F){typeof F=="string"&&(F=t.parseXml(F));var U=t.TileSource.determineType(u,F,l);if(!U){u.raiseEvent("open-failed",{message:"Unable to load TileSource",source:l});return}v=U.prototype.configure.apply(u,[F,l,M]),v.ajaxWithCredentials===void 0&&(v.ajaxWithCredentials=u.ajaxWithCredentials),m=new U(v),u.ready=!0,u.raiseEvent("ready",{tileSource:m})},l.match(/\.js$/)?(d=l.split("/").pop().replace(".js",""),t.jsonp({url:l,async:!1,callbackName:d,callback:f})):t.makeAjaxRequest({url:l,postData:M,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(F){var U=o(F);f(U)},error:function(F,U){var j;try{j="HTTP "+F.status+" attempting to load TileSource: "+l}catch{var J;typeof U>"u"||!U.toString?J="Unknown error":J=U.toString(),j=J+" attempting to load TileSource: "+l}t.console.error(j),u.raiseEvent("open-failed",{message:j,source:l,postData:M})}})},supports:function(l,u){return!1},configure:function(l,u,d){throw new Error("Method not implemented.")},getTileUrl:function(l,u,d){throw new Error("Method not implemented.")},getTilePostData:function(l,u,d){return null},getTileAjaxHeaders:function(l,u,d){return{}},getTileHashKey:function(l,u,d,f,m,v){function _(k){return m?k+"+"+JSON.stringify(m):k}return _(typeof f!="string"?l+"/"+u+"_"+d:f)},tileExists:function(l,u,d){var f=this.getNumTiles(l);return l>=this.minLevel&&l<=this.maxLevel&&u>=0&&d>=0&&u<f.x&&d<f.y},hasTransparency:function(l,u,d,f){return!!l||u.match(".png")},downloadTileStart:function(l){var u=l.userData,d=new Image;u.image=d,u.request=null;var f=function(m){if(!d){l.finish(null,u.request,"Image load failed: undefined Image instance.");return}d.onload=d.onerror=d.onabort=null,l.finish(m?null:d,u.request,m)};d.onload=function(){f()},d.onabort=d.onerror=function(){f("Image load aborted.")},l.loadWithAjax?u.request=t.makeAjaxRequest({url:l.src,withCredentials:l.ajaxWithCredentials,headers:l.ajaxHeaders,responseType:"arraybuffer",postData:l.postData,success:function(m){var v;try{v=new window.Blob([m.response])}catch(C){var _=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(C.name==="TypeError"&&_){var k=new _;k.append(m.response),v=k.getBlob()}}v.size===0?f("Empty image response."):d.src=(window.URL||window.webkitURL).createObjectURL(v)},error:function(m){f("Image load aborted - XHR error")}}):(l.crossOriginPolicy!==!1&&(d.crossOrigin=l.crossOriginPolicy),d.src=l.src)},downloadTileAbort:function(l){l.userData.request&&l.userData.request.abort();var u=l.userData.image;l.userData.image&&(u.onload=u.onerror=u.onabort=null)},createTileCache:function(l,u,d){l._data=u},destroyTileCache:function(l){l._data=null,l._renderedContext=null},getTileCacheData:function(l){return l._data},getTileCacheDataAsImage:function(l){return l._data},getTileCacheDataAsContext2D:function(l){if(!l._renderedContext){var u=document.createElement("canvas");u.width=l._data.width,u.height=l._data.height,l._renderedContext=u.getContext("2d"),l._renderedContext.drawImage(l._data,0,0),l._data=null}return l._renderedContext}},t.extend(!0,t.TileSource.prototype,t.EventSource.prototype);function o(l){var u=l.responseText,d=l.status,f,m;if(l){if(l.status!==200&&l.status!==0)throw d=l.status,f=d===404?"Not Found":l.statusText,new Error(t.getString("Errors.Status",d,f))}else throw new Error(t.getString("Errors.Security"));if(u.match(/\s*<.*/))try{m=l.responseXML&&l.responseXML.documentElement?l.responseXML:t.parseXml(u)}catch{m=l.responseText}else if(u.match(/\s*[{[].*/))try{m=t.parseJSON(u)}catch{m=u}else m=u;return m}t.TileSource.determineType=function(l,u,d){var f;for(f in r)if(f.match(/.+TileSource$/)&&t.isFunction(r[f])&&t.isFunction(r[f].prototype.supports)&&r[f].prototype.supports.call(l,u,d))return r[f];return t.console.error("No TileSource was able to open %s %s",d,u),null}}(r),function(t){t.DziTileSource=function(u,d,f,m,v,_,k,C,M){var A,F,U,j;if(t.isPlainObject(u)?j=u:j={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=j.tilesUrl,this.fileFormat=j.fileFormat,this.displayRects=j.displayRects,this.displayRects)for(A=this.displayRects.length-1;A>=0;A--)for(F=this.displayRects[A],U=F.minLevel;U<=F.maxLevel;U++)this._levelRects[U]||(this._levelRects[U]=[]),this._levelRects[U].push(F);t.TileSource.apply(this,[j])},t.extend(t.DziTileSource.prototype,t.TileSource.prototype,{supports:function(u,d){var f;return u.Image?f=u.Image.xmlns:u.documentElement&&(u.documentElement.localName==="Image"||u.documentElement.tagName==="Image")&&(f=u.documentElement.namespaceURI),f=(f||"").toLowerCase(),f.indexOf("schemas.microsoft.com/deepzoom/2008")!==-1||f.indexOf("schemas.microsoft.com/deepzoom/2009")!==-1},configure:function(u,d,f){var m;return t.isPlainObject(u)?m=l(this,u):m=o(this,u),d&&!m.tilesUrl&&(m.tilesUrl=d.replace(/([^/]+?)(\.(dzi|xml|js)?(\?[^/]*)?)?\/?$/,"$1_files/"),d.search(/\.(dzi|xml|js)\?/)!==-1?m.queryParams=d.match(/\?.*/):m.queryParams=""),m},getTileUrl:function(u,d,f){return[this.tilesUrl,u,"/",d,"_",f,".",this.fileFormat,this.queryParams].join("")},tileExists:function(u,d,f){var m=this._levelRects[u],v,_,k,C,M,A,F;if(this.minLevel&&u<this.minLevel||this.maxLevel&&u>this.maxLevel)return!1;if(!m||!m.length)return!0;for(F=m.length-1;F>=0;F--)if(v=m[F],!(u<v.minLevel||u>v.maxLevel)&&(_=this.getLevelScale(u),k=v.x*_,C=v.y*_,M=k+v.width*_,A=C+v.height*_,k=Math.floor(k/this._tileWidth),C=Math.floor(C/this._tileWidth),M=Math.ceil(M/this._tileWidth),A=Math.ceil(A/this._tileWidth),k<=d&&d<M&&C<=f&&f<A))return!0;return!1}});function o(u,d){if(!d||!d.documentElement)throw new Error(t.getString("Errors.Xml"));var f=d.documentElement,m=f.localName||f.tagName,v=d.documentElement.namespaceURI,_=null,k=[],C,M,A,F,U;if(m==="Image")try{if(F=f.getElementsByTagName("Size")[0],F===void 0&&(F=f.getElementsByTagNameNS(v,"Size")[0]),_={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:f.getAttribute("Url"),Format:f.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(f.getAttribute("Overlap"),10),TileSize:parseInt(f.getAttribute("TileSize"),10),Size:{Height:parseInt(F.getAttribute("Height"),10),Width:parseInt(F.getAttribute("Width"),10)}}},!t.imageFormatSupported(_.Image.Format))throw new Error(t.getString("Errors.ImageFormat",_.Image.Format.toUpperCase()));for(C=f.getElementsByTagName("DisplayRect"),C===void 0&&(C=f.getElementsByTagNameNS(v,"DisplayRect")[0]),U=0;U<C.length;U++)M=C[U],A=M.getElementsByTagName("Rect")[0],A===void 0&&(A=M.getElementsByTagNameNS(v,"Rect")[0]),k.push({Rect:{X:parseInt(A.getAttribute("X"),10),Y:parseInt(A.getAttribute("Y"),10),Width:parseInt(A.getAttribute("Width"),10),Height:parseInt(A.getAttribute("Height"),10),MinLevel:parseInt(M.getAttribute("MinLevel"),10),MaxLevel:parseInt(M.getAttribute("MaxLevel"),10)}});return k.length&&(_.Image.DisplayRect=k),l(u,_)}catch(H){throw H instanceof Error?H:new Error(t.getString("Errors.Dzi"))}else{if(m==="Collection")throw new Error(t.getString("Errors.Dzc"));if(m==="Error"){var j=f.getElementsByTagName("Message")[0],J=j.firstChild.nodeValue;throw new Error(J)}}throw new Error(t.getString("Errors.Dzi"))}function l(u,d){var f=d.Image,m=f.Url,v=f.Format,_=f.Size,k=f.DisplayRect||[],C=parseInt(_.Width,10),M=parseInt(_.Height,10),A=parseInt(f.TileSize,10),F=parseInt(f.Overlap,10),U=[],j,J;for(J=0;J<k.length;J++)j=k[J].Rect,U.push(new t.DisplayRect(parseInt(j.X,10),parseInt(j.Y,10),parseInt(j.Width,10),parseInt(j.Height,10),parseInt(j.MinLevel,10),parseInt(j.MaxLevel,10)));return t.extend(!0,{width:C,height:M,tileSize:A,tileOverlap:F,minLevel:null,maxLevel:null,tilesUrl:m,fileFormat:v,displayRects:U},d)}}(r),function(t){t.IIIFTileSource=function(f){if(t.extend(!0,this,f),this._id=this["@id"]||this.id||this.identifier||null,!(this.height&&this.width&&this._id))throw new Error("IIIF required parameters (width, height, or id) not provided.");if(f.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=f.version,this.tile_width&&this.tile_height)f.tileWidth=this.tile_width,f.tileHeight=this.tile_height;else if(this.tile_width)f.tileSize=this.tile_width;else if(this.tile_height)f.tileSize=this.tile_height;else if(this.tiles)if(this.tiles.length===1)f.tileWidth=this.tiles[0].width,f.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var m=0;m<this.tiles.length;m++)for(var v=0;v<this.tiles[m].scaleFactors.length;v++){var _=this.tiles[m].scaleFactors[v];this.scale_factors.push(_),f.tileSizePerScaleFactor[_]={width:this.tiles[m].width,height:this.tiles[m].height||this.tiles[m].width}}}else if(o(f)){for(var k=Math.min(this.height,this.width),C=[256,512,1024],M=[],A=0;A<C.length;A++)C[A]<=k&&M.push(C[A]);M.length>0?f.tileSize=Math.max.apply(null,M):f.tileSize=k}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,f.levels=l(this),t.extend(!0,f,{width:f.levels[f.levels.length-1].width,height:f.levels[f.levels.length-1].height,tileSize:Math.max(f.height,f.width),tileOverlap:0,minLevel:0,maxLevel:f.levels.length-1}),this.levels=f.levels):t.console.error("Nothing in the info.json to construct image pyramids from");if(!f.maxLevel&&!this.emulateLegacyImagePyramid)if(!this.scale_factors)f.maxLevel=Number(Math.round(Math.log(Math.max(this.width,this.height),2)));else{var F=Math.max.apply(null,this.scale_factors);f.maxLevel=Math.round(Math.log(F)*Math.LOG2E)}t.TileSource.apply(this,[f])},t.extend(t.IIIFTileSource.prototype,t.TileSource.prototype,{supports:function(f,m){return f.protocol&&f.protocol==="http://iiif.io/api/image"||f["@context"]&&(f["@context"]==="http://library.stanford.edu/iiif/image-api/1.1/context.json"||f["@context"]==="http://iiif.io/api/image/1/context.json")||f.profile&&f.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")===0||f.identifier&&f.width&&f.height?!0:!!(f.documentElement&&f.documentElement.tagName==="info"&&f.documentElement.namespaceURI==="http://library.stanford.edu/iiif/image-api/ns/")},configure:function(f,m,v){if(t.isPlainObject(f)){if(!f["@context"])f["@context"]="http://iiif.io/api/image/1.0/context.json",f["@id"]=m.replace("/info.json",""),f.version=1;else{var k=f["@context"];if(Array.isArray(k)){for(var C=0;C<k.length;C++)if(typeof k[C]=="string"&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(k[C])||k[C]==="http://library.stanford.edu/iiif/image-api/1.1/context.json")){k=k[C];break}}switch(k){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":f.version=1;break;case"http://iiif.io/api/image/2/context.json":f.version=2;break;case"http://iiif.io/api/image/3/context.json":f.version=3;break;default:t.console.error("Data has a @context property which contains no known IIIF context URI.")}}if(f.preferredFormats){for(var M=0;M<f.preferredFormats.length;M++)if(r.imageFormatSupported(f.preferredFormats[M])){f.tileFormat=f.preferredFormats[M];break}}return f}else{var _=u(f);return _["@context"]="http://iiif.io/api/image/1.0/context.json",_["@id"]=m.replace("/info.xml",""),_.version=1,_}},getTileWidth:function(f){if(this.emulateLegacyImagePyramid)return t.TileSource.prototype.getTileWidth.call(this,f);var m=Math.pow(2,this.maxLevel-f);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[m]?this.tileSizePerScaleFactor[m].width:this._tileWidth},getTileHeight:function(f){if(this.emulateLegacyImagePyramid)return t.TileSource.prototype.getTileHeight.call(this,f);var m=Math.pow(2,this.maxLevel-f);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[m]?this.tileSizePerScaleFactor[m].height:this._tileHeight},getLevelScale:function(f){if(this.emulateLegacyImagePyramid){var m=NaN;return this.levels.length>0&&f>=this.minLevel&&f<=this.maxLevel&&(m=this.levels[f].width/this.levels[this.maxLevel].width),m}return t.TileSource.prototype.getLevelScale.call(this,f)},getNumTiles:function(f){if(this.emulateLegacyImagePyramid){var m=this.getLevelScale(f);return m?new t.Point(1,1):new t.Point(0,0)}return t.TileSource.prototype.getNumTiles.call(this,f)},getTileAtPoint:function(f,m){return this.emulateLegacyImagePyramid?new t.Point(0,0):t.TileSource.prototype.getTileAtPoint.call(this,f,m)},getTileUrl:function(f,m,v){if(this.emulateLegacyImagePyramid){var _=null;return this.levels.length>0&&f>=this.minLevel&&f<=this.maxLevel&&(_=this.levels[f].url),_}var k="0",C=Math.pow(.5,this.maxLevel-f),M=Math.round(this.width*C),A=Math.round(this.height*C),F,U,j,J,H,V,ot,ft,ht,ct,Z,lt,ut,mt;return F=this.getTileWidth(f),U=this.getTileHeight(f),j=Math.round(F/C),J=Math.round(U/C),this.version===1?ut="native."+this.tileFormat:ut="default."+this.tileFormat,M<F&&A<U?(this.version===2&&M===this.width?ct="full":this.version===3&&M===this.width&&A===this.height?ct="max":this.version===3?ct=M+","+A:ct=M+",",H="full"):(V=m*j,ot=v*J,ft=Math.min(j,this.width-V),ht=Math.min(J,this.height-ot),m===0&&v===0&&ft===this.width&&ht===this.height?H="full":H=[V,ot,ft,ht].join(","),Z=Math.round(ft*C),lt=Math.round(ht*C),this.version===2&&Z===this.width?ct="full":this.version===3&&Z===this.width&&lt===this.height?ct="max":this.version===3?ct=Z+","+lt:ct=Z+","),mt=[this._id,H,ct,k,ut].join("/"),mt},__testonly__:{canBeTiled:o,constructLevels:l}});function o(f){var m=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"],v=Array.isArray(f.profile)?f.profile[0]:f.profile,_=m.indexOf(v)!==-1,k=!1;return f.version===2&&f.profile.length>1&&f.profile[1].supports&&(k=f.profile[1].supports.indexOf("sizeByW")!==-1),f.version===3&&f.extraFeatures&&(k=f.extraFeatures.indexOf("sizeByWh")!==-1),!_||k}function l(f){for(var m=[],v=0;v<f.sizes.length;v++)m.push({url:f._id+"/full/"+f.sizes[v].width+","+(f.version===3?f.sizes[v].height:"")+"/0/default."+f.tileFormat,width:f.sizes[v].width,height:f.sizes[v].height});return m.sort(function(_,k){return _.width-k.width})}function u(f){if(!f||!f.documentElement)throw new Error(t.getString("Errors.Xml"));var m=f.documentElement,v=m.tagName,_=null;if(v==="info")try{return _={},d(m,_),_}catch(k){throw k instanceof Error?k:new Error(t.getString("Errors.IIIF"))}throw new Error(t.getString("Errors.IIIF"))}function d(f,m,v){var _,k;if(f.nodeType===3&&v)k=f.nodeValue.trim(),k.match(/^\d*$/)&&(k=Number(k)),m[v]?(t.isArray(m[v])||(m[v]=[m[v]]),m[v].push(k)):m[v]=k;else if(f.nodeType===1)for(_=0;_<f.childNodes.length;_++)d(f.childNodes[_],m,f.nodeName)}}(r),function(t){t.OsmTileSource=function(o,l,u,d,f){var m;t.isPlainObject(o)?m=o:m={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},(!m.width||!m.height)&&(m.width=65572864,m.height=65572864),m.tileSize||(m.tileSize=256,m.tileOverlap=0),m.tilesUrl||(m.tilesUrl="http://tile.openstreetmap.org/"),m.minLevel=8,t.TileSource.apply(this,[m])},t.extend(t.OsmTileSource.prototype,t.TileSource.prototype,{supports:function(o,l){return o.type&&o.type==="openstreetmaps"},configure:function(o,l,u){return o},getTileUrl:function(o,l,u){return this.tilesUrl+(o-8)+"/"+l+"/"+u+".png"}})}(r),function(t){t.TmsTileSource=function(o,l,u,d,f){var m;t.isPlainObject(o)?m=o:m={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var v=Math.ceil(m.width/256)*256,_=Math.ceil(m.height/256)*256,k;v>_?k=v/256:k=_/256,m.maxLevel=Math.ceil(Math.log(k)/Math.log(2))-1,m.tileSize=256,m.width=v,m.height=_,t.TileSource.apply(this,[m])},t.extend(t.TmsTileSource.prototype,t.TileSource.prototype,{supports:function(o,l){return o.type&&o.type==="tiledmapservice"},configure:function(o,l,u){return o},getTileUrl:function(o,l,u){var d=this.getNumTiles(o).y-1;return this.tilesUrl+o+"/"+l+"/"+(d-u)+".png"}})}(r),function(t){t.ZoomifyTileSource=function(o){typeof o.tileSize>"u"&&(o.tileSize=256),typeof o.fileFormat>"u"&&(o.fileFormat="jpg",this.fileFormat=o.fileFormat);var l={x:o.width,y:o.height};for(o.imageSizes=[{x:o.width,y:o.height}],o.gridSize=[this._getGridSize(o.width,o.height,o.tileSize)];parseInt(l.x,10)>o.tileSize||parseInt(l.y,10)>o.tileSize;)l.x=Math.floor(l.x/2),l.y=Math.floor(l.y/2),o.imageSizes.push({x:l.x,y:l.y}),o.gridSize.push(this._getGridSize(l.x,l.y,o.tileSize));o.imageSizes.reverse(),o.gridSize.reverse(),o.minLevel=0,o.maxLevel=o.gridSize.length-1,r.TileSource.apply(this,[o])},t.extend(t.ZoomifyTileSource.prototype,t.TileSource.prototype,{_getGridSize:function(o,l,u){return{x:Math.ceil(o/u),y:Math.ceil(l/u)}},_calculateAbsoluteTileNumber:function(o,l,u){for(var d=0,f={},m=0;m<o;m++)f=this.gridSize[m],d+=f.x*f.y;return f=this.gridSize[o],d+=f.x*u+l,d},supports:function(o,l){return o.type&&o.type==="zoomifytileservice"},configure:function(o,l,u){return o},getTileUrl:function(o,l,u){var d=0,f=this._calculateAbsoluteTileNumber(o,l,u);return d=Math.floor(f/256),this.tilesUrl+"TileGroup"+d+"/"+o+"-"+l+"-"+u+"."+this.fileFormat}})}(r),function(t){t.LegacyTileSource=function(d){var f,m,v;t.isArray(d)&&(f={type:"legacy-image-pyramid",levels:d}),f.levels=o(f.levels),f.levels.length>0?(m=f.levels[f.levels.length-1].width,v=f.levels[f.levels.length-1].height):(m=0,v=0,t.console.error("No supported image formats found")),t.extend(!0,f,{width:m,height:v,tileSize:Math.max(v,m),tileOverlap:0,minLevel:0,maxLevel:f.levels.length>0?f.levels.length-1:0}),t.TileSource.apply(this,[f]),this.levels=f.levels},t.extend(t.LegacyTileSource.prototype,t.TileSource.prototype,{supports:function(d,f){return d.type&&d.type==="legacy-image-pyramid"||d.documentElement&&d.documentElement.getAttribute("type")==="legacy-image-pyramid"},configure:function(d,f,m){var v;return t.isPlainObject(d)?v=u(this,d):v=l(this,d),v},getLevelScale:function(d){var f=NaN;return this.levels.length>0&&d>=this.minLevel&&d<=this.maxLevel&&(f=this.levels[d].width/this.levels[this.maxLevel].width),f},getNumTiles:function(d){var f=this.getLevelScale(d);return f?new t.Point(1,1):new t.Point(0,0)},getTileUrl:function(d,f,m){var v=null;return this.levels.length>0&&d>=this.minLevel&&d<=this.maxLevel&&(v=this.levels[d].url),v}});function o(d){var f=[],m,v;for(v=0;v<d.length;v++)m=d[v],m.height&&m.width&&m.url?f.push({url:m.url,width:Number(m.width),height:Number(m.height)}):t.console.error("Unsupported image format: %s",m.url?m.url:"<no URL>");return f.sort(function(_,k){return _.height-k.height})}function l(d,f){if(!f||!f.documentElement)throw new Error(t.getString("Errors.Xml"));var m=f.documentElement,v=m.tagName,_=null,k=[],C,M;if(v==="image")try{for(_={type:m.getAttribute("type"),levels:[]},k=m.getElementsByTagName("level"),M=0;M<k.length;M++)C=k[M],_.levels.push({url:C.getAttribute("url"),width:parseInt(C.getAttribute("width"),10),height:parseInt(C.getAttribute("height"),10)});return u(d,_)}catch(A){throw A instanceof Error?A:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if(v==="collection")throw new Error("Legacy Image Pyramid Collections not yet supported.");if(v==="error")throw new Error("Error: "+f)}throw new Error("Unknown element "+v)}function u(d,f){return f.levels}}(r),function(t){t.ImageTileSource=function(o){o=t.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},o),t.TileSource.apply(this,[o])},t.extend(t.ImageTileSource.prototype,t.TileSource.prototype,{supports:function(o,l){return o.type&&o.type==="image"},configure:function(o,l,u){return o},getImageInfo:function(o){var l=this._image=new Image,u=this;this.crossOriginPolicy&&(l.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(l.useCredentials=this.ajaxWithCredentials),t.addEvent(l,"load",function(){u.width=l.naturalWidth,u.height=l.naturalHeight,u.aspectRatio=u.width/u.height,u.dimensions=new t.Point(u.width,u.height),u._tileWidth=u.width,u._tileHeight=u.height,u.tileOverlap=0,u.minLevel=0,u.levels=u._buildLevels(),u.maxLevel=u.levels.length-1,u.ready=!0,u.raiseEvent("ready",{tileSource:u})}),t.addEvent(l,"error",function(){u.raiseEvent("open-failed",{message:"Error loading image at "+o,source:o})}),l.src=o},getLevelScale:function(o){var l=NaN;return o>=this.minLevel&&o<=this.maxLevel&&(l=this.levels[o].width/this.levels[this.maxLevel].width),l},getNumTiles:function(o){var l=this.getLevelScale(o);return l?new t.Point(1,1):new t.Point(0,0)},getTileUrl:function(o,l,u){var d=null;return o>=this.minLevel&&o<=this.maxLevel&&(d=this.levels[o].url),d},getContext2D:function(o,l,u){var d=null;return o>=this.minLevel&&o<=this.maxLevel&&(d=this.levels[o].context2D),d},destroy:function(){this._freeupCanvasMemory()},_buildLevels:function(){var o=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!t.supportsCanvas||!this.useCanvas)return delete this._image,o;var l=this._image.naturalWidth,u=this._image.naturalHeight,d=document.createElement("canvas"),f=d.getContext("2d");if(d.width=l,d.height=u,f.drawImage(this._image,0,0,l,u),o[0].context2D=f,delete this._image,t.isCanvasTainted(d))return o;for(;l>=2&&u>=2;){l=Math.floor(l/2),u=Math.floor(u/2);var m=document.createElement("canvas"),v=m.getContext("2d");m.width=l,m.height=u,v.drawImage(d,0,0,l,u),o.splice(0,0,{context2D:v,width:l,height:u}),d=m,f=v}return o},_freeupCanvasMemory:function(){for(var o=0;o<this.levels.length;o++)this.levels[o].context2D&&(this.levels[o].context2D.canvas.height=0,this.levels[o].context2D.canvas.width=0)}})}(r),function(t){t.TileSourceCollection=function(o,l,u,d){t.console.error("TileSourceCollection is deprecated; use World instead")}}(r),function(t){t.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},t.Button=function(v){var _=this;t.EventSource.call(this),t.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:t.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null,userData:null},v),this.element=v.element||t.makeNeutralElement("div"),v.element||(this.imgRest=t.makeTransparentImage(this.srcRest),this.imgGroup=t.makeTransparentImage(this.srcGroup),this.imgHover=t.makeTransparentImage(this.srcHover),this.imgDown=t.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,t.setElementPointerEventsNone(this.imgRest),t.setElementPointerEventsNone(this.imgGroup),t.setElementPointerEventsNone(this.imgHover),t.setElementPointerEventsNone(this.imgDown),this.element.style.position="relative",t.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",t.Browser.vendor===t.BROWSERS.FIREFOX&&t.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=t.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new t.MouseTracker({userData:"Button.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(k){k.insideElementPressed?(f(_,t.ButtonState.DOWN),_.raiseEvent("enter",{originalEvent:k.originalEvent})):k.buttonDownAny||f(_,t.ButtonState.HOVER)},focusHandler:function(k){_.tracker.enterHandler(k),_.raiseEvent("focus",{originalEvent:k.originalEvent})},leaveHandler:function(k){m(_,t.ButtonState.GROUP),k.insideElementPressed&&_.raiseEvent("exit",{originalEvent:k.originalEvent})},blurHandler:function(k){_.tracker.leaveHandler(k),_.raiseEvent("blur",{originalEvent:k.originalEvent})},pressHandler:function(k){f(_,t.ButtonState.DOWN),_.raiseEvent("press",{originalEvent:k.originalEvent})},releaseHandler:function(k){k.insideElementPressed&&k.insideElementReleased?(m(_,t.ButtonState.HOVER),_.raiseEvent("release",{originalEvent:k.originalEvent})):k.insideElementPressed?m(_,t.ButtonState.GROUP):f(_,t.ButtonState.HOVER)},clickHandler:function(k){k.quick&&_.raiseEvent("click",{originalEvent:k.originalEvent})},keyHandler:function(k){k.keyCode===13?(_.raiseEvent("click",{originalEvent:k.originalEvent}),_.raiseEvent("release",{originalEvent:k.originalEvent}),k.preventDefault=!0):k.preventDefault=!1}}),m(this,t.ButtonState.REST)},t.extend(t.Button.prototype,t.EventSource.prototype,{notifyGroupEnter:function(){f(this,t.ButtonState.GROUP)},notifyGroupExit:function(){m(this,t.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,this.tracker.setTracking(!1),t.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,this.tracker.setTracking(!0),t.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()},destroy:function(){this.imgRest&&(this.element.removeChild(this.imgRest),this.imgRest=null),this.imgGroup&&(this.element.removeChild(this.imgGroup),this.imgGroup=null),this.imgHover&&(this.element.removeChild(this.imgHover),this.imgHover=null),this.imgDown&&(this.element.removeChild(this.imgDown),this.imgDown=null),this.removeAllHandlers(),this.tracker.destroy(),this.element=null}});function o(v){t.requestAnimationFrame(function(){l(v)})}function l(v){var _,k,C;v.shouldFade&&(_=t.now(),k=_-v.fadeBeginTime,C=1-k/v.fadeLength,C=Math.min(1,C),C=Math.max(0,C),v.imgGroup&&t.setElementOpacity(v.imgGroup,C,!0),C>0&&o(v))}function u(v){v.shouldFade=!0,v.fadeBeginTime=t.now()+v.fadeDelay,window.setTimeout(function(){o(v)},v.fadeDelay)}function d(v){v.shouldFade=!1,v.imgGroup&&t.setElementOpacity(v.imgGroup,1,!0)}function f(v,_){v.element.disabled||(_>=t.ButtonState.GROUP&&v.currentState===t.ButtonState.REST&&(d(v),v.currentState=t.ButtonState.GROUP),_>=t.ButtonState.HOVER&&v.currentState===t.ButtonState.GROUP&&(v.imgHover&&(v.imgHover.style.visibility=""),v.currentState=t.ButtonState.HOVER),_>=t.ButtonState.DOWN&&v.currentState===t.ButtonState.HOVER&&(v.imgDown&&(v.imgDown.style.visibility=""),v.currentState=t.ButtonState.DOWN))}function m(v,_){v.element.disabled||(_<=t.ButtonState.HOVER&&v.currentState===t.ButtonState.DOWN&&(v.imgDown&&(v.imgDown.style.visibility="hidden"),v.currentState=t.ButtonState.HOVER),_<=t.ButtonState.GROUP&&v.currentState===t.ButtonState.HOVER&&(v.imgHover&&(v.imgHover.style.visibility="hidden"),v.currentState=t.ButtonState.GROUP),_<=t.ButtonState.REST&&v.currentState===t.ButtonState.GROUP&&(u(v),v.currentState=t.ButtonState.REST))}}(r),function(t){t.ButtonGroup=function(o){t.extend(!0,this,{buttons:[],clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:t.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},o);var l=this.buttons.concat([]),u=this,d;if(this.element=o.element||t.makeNeutralElement("div"),!o.group)for(this.element.style.display="inline-block",d=0;d<l.length;d++)this.element.appendChild(l[d].element);t.setElementTouchActionNone(this.element),this.tracker=new t.MouseTracker({userData:"ButtonGroup.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(f){var m;for(m=0;m<u.buttons.length;m++)u.buttons[m].notifyGroupEnter()},leaveHandler:function(f){var m;if(!f.insideElementPressed)for(m=0;m<u.buttons.length;m++)u.buttons[m].notifyGroupExit()}})},t.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateLeave:function(){this.tracker.leaveHandler({eventSource:this.tracker})},destroy:function(){for(;this.buttons.length;){var o=this.buttons.pop();this.element.removeChild(o.element),o.destroy()}this.tracker.destroy(),this.element=null}}}(r),function(t){t.Rect=function(o,l,u,d,f){this.x=typeof o=="number"?o:0,this.y=typeof l=="number"?l:0,this.width=typeof u=="number"?u:0,this.height=typeof d=="number"?d:0,this.degrees=typeof f=="number"?f:0,this.degrees=t.positiveModulo(this.degrees,360);var m,v;this.degrees>=270?(m=this.getTopRight(),this.x=m.x,this.y=m.y,v=this.height,this.height=this.width,this.width=v,this.degrees-=270):this.degrees>=180?(m=this.getBottomRight(),this.x=m.x,this.y=m.y,this.degrees-=180):this.degrees>=90&&(m=this.getBottomLeft(),this.x=m.x,this.y=m.y,v=this.height,this.height=this.width,this.width=v,this.degrees-=90)},t.Rect.fromSummits=function(o,l,u){var d=o.distanceTo(l),f=o.distanceTo(u),m=l.minus(o),v=Math.atan(m.y/m.x);return m.x<0?v+=Math.PI:m.y<0&&(v+=2*Math.PI),new t.Rect(o.x,o.y,d,f,v/Math.PI*180)},t.Rect.prototype={clone:function(){return new t.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new t.Point(this.x,this.y)},getBottomRight:function(){return new t.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new t.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new t.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new t.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new t.Point(this.width,this.height)},equals:function(o){return o instanceof t.Rect&&this.x===o.x&&this.y===o.y&&this.width===o.width&&this.height===o.height&&this.degrees===o.degrees},times:function(o){return new t.Rect(this.x*o,this.y*o,this.width*o,this.height*o,this.degrees)},translate:function(o){return new t.Rect(this.x+o.x,this.y+o.y,this.width,this.height,this.degrees)},union:function(o){var l=this.getBoundingBox(),u=o.getBoundingBox(),d=Math.min(l.x,u.x),f=Math.min(l.y,u.y),m=Math.max(l.x+l.width,u.x+u.width),v=Math.max(l.y+l.height,u.y+u.height);return new t.Rect(d,f,m-d,v-f)},intersection:function(o){var l=1e-10,u=[],d=this.getTopLeft();o.containsPoint(d,l)&&u.push(d);var f=this.getTopRight();o.containsPoint(f,l)&&u.push(f);var m=this.getBottomLeft();o.containsPoint(m,l)&&u.push(m);var v=this.getBottomRight();o.containsPoint(v,l)&&u.push(v);var _=o.getTopLeft();this.containsPoint(_,l)&&u.push(_);var k=o.getTopRight();this.containsPoint(k,l)&&u.push(k);var C=o.getBottomLeft();this.containsPoint(C,l)&&u.push(C);var M=o.getBottomRight();this.containsPoint(M,l)&&u.push(M);for(var A=this._getSegments(),F=o._getSegments(),U=0;U<A.length;U++)for(var j=A[U],J=0;J<F.length;J++){var H=F[J],V=ot(j[0],j[1],H[0],H[1]);V&&u.push(V)}function ot(mt,re,ne,ye){var Bt=re.minus(mt),pe=ye.minus(ne),Jt=-pe.x*Bt.y+Bt.x*pe.y;if(Jt===0)return null;var Wt=(Bt.x*(mt.y-ne.y)-Bt.y*(mt.x-ne.x))/Jt,Et=(pe.x*(mt.y-ne.y)-pe.y*(mt.x-ne.x))/Jt;return-l<=Wt&&Wt<=1-l&&-l<=Et&&Et<=1-l?new t.Point(mt.x+Et*Bt.x,mt.y+Et*Bt.y):null}if(u.length===0)return null;for(var ft=u[0].x,ht=u[0].x,ct=u[0].y,Z=u[0].y,lt=1;lt<u.length;lt++){var ut=u[lt];ut.x<ft&&(ft=ut.x),ut.x>ht&&(ht=ut.x),ut.y<ct&&(ct=ut.y),ut.y>Z&&(Z=ut.y)}return new t.Rect(ft,ct,ht-ft,Z-ct)},_getSegments:function(){var o=this.getTopLeft(),l=this.getTopRight(),u=this.getBottomLeft(),d=this.getBottomRight();return[[o,l],[l,d],[d,u],[u,o]]},rotate:function(o,l){if(o=t.positiveModulo(o,360),o===0)return this.clone();l=l||this.getCenter();var u=this.getTopLeft().rotate(o,l),d=this.getTopRight().rotate(o,l),f=d.minus(u);f=f.apply(function(v){var _=1e-15;return Math.abs(v)<_?0:v});var m=Math.atan(f.y/f.x);return f.x<0?m+=Math.PI:f.y<0&&(m+=2*Math.PI),new t.Rect(u.x,u.y,this.width,this.height,m/Math.PI*180)},getBoundingBox:function(){if(this.degrees===0)return this.clone();var o=this.getTopLeft(),l=this.getTopRight(),u=this.getBottomLeft(),d=this.getBottomRight(),f=Math.min(o.x,l.x,u.x,d.x),m=Math.max(o.x,l.x,u.x,d.x),v=Math.min(o.y,l.y,u.y,d.y),_=Math.max(o.y,l.y,u.y,d.y);return new t.Rect(f,v,m-f,_-v)},getIntegerBoundingBox:function(){var o=this.getBoundingBox(),l=Math.floor(o.x),u=Math.floor(o.y),d=Math.ceil(o.width+o.x-l),f=Math.ceil(o.height+o.y-u);return new t.Rect(l,u,d,f)},containsPoint:function(o,l){l=l||0;var u=this.getTopLeft(),d=this.getTopRight(),f=this.getBottomLeft(),m=d.minus(u),v=f.minus(u);return(o.x-u.x)*m.x+(o.y-u.y)*m.y>=-l&&(o.x-d.x)*m.x+(o.y-d.y)*m.y<=l&&(o.x-u.x)*v.x+(o.y-u.y)*v.y>=-l&&(o.x-f.x)*v.x+(o.y-f.y)*v.y<=l},toString:function(){return"["+Math.round(this.x*100)/100+", "+Math.round(this.y*100)/100+", "+Math.round(this.width*100)/100+"x"+Math.round(this.height*100)/100+", "+Math.round(this.degrees*100)/100+"deg]"}}}(r),function(t){var o={};t.ReferenceStrip=function(C){var M=this,A=C.viewer,F=t.getElementSize(A.element),U,j,J;for(C.id||(C.id="referencestrip-"+t.now(),this.element=t.makeNeutralElement("div"),this.element.id=C.id,this.element.className="referencestrip"),C=t.extend(!0,{sizeRatio:t.DEFAULT_SETTINGS.referenceStripSizeRatio,position:t.DEFAULT_SETTINGS.referenceStripPosition,scroll:t.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold},C,{element:this.element}),t.extend(this,C),o[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,this.element.tabIndex=0,j=this.element.style,j.marginTop="0px",j.marginRight="0px",j.marginBottom="0px",j.marginLeft="0px",j.left="0px",j.bottom="0px",j.border="0px",j.background="#000",j.position="relative",t.setElementTouchActionNone(this.element),t.setElementOpacity(this.element,.8),this.viewer=A,this.tracker=new t.MouseTracker({userData:"ReferenceStrip.tracker",element:this.element,clickHandler:t.delegate(this,l),dragHandler:t.delegate(this,u),scrollHandler:t.delegate(this,d),enterHandler:t.delegate(this,m),leaveHandler:t.delegate(this,v),keyDownHandler:t.delegate(this,_),keyHandler:t.delegate(this,k),preProcessEventHandler:function(H){H.eventType==="wheel"&&(H.preventDefault=!0)}}),C.width&&C.height?(this.element.style.width=C.width+"px",this.element.style.height=C.height+"px",A.addControl(this.element,{anchor:t.ControlAnchor.BOTTOM_LEFT})):C.scroll==="horizontal"?(this.element.style.width=F.x*C.sizeRatio*A.tileSources.length+12*A.tileSources.length+"px",this.element.style.height=F.y*C.sizeRatio+"px",A.addControl(this.element,{anchor:t.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=F.y*C.sizeRatio*A.tileSources.length+12*A.tileSources.length+"px",this.element.style.width=F.x*C.sizeRatio+"px",A.addControl(this.element,{anchor:t.ControlAnchor.TOP_LEFT})),this.panelWidth=F.x*this.sizeRatio+8,this.panelHeight=F.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},J=0;J<A.tileSources.length;J++)U=t.makeNeutralElement("div"),U.id=this.element.id+"-"+J,U.style.width=M.panelWidth+"px",U.style.height=M.panelHeight+"px",U.style.display="inline",U.style.float="left",U.style.cssFloat="left",U.style.styleFloat="left",U.style.padding="2px",t.setElementTouchActionNone(U),t.setElementPointerEventsNone(U),this.element.appendChild(U),U.activePanel=!1,this.panels.push(U);f(this,this.scroll==="vertical"?F.y:F.x,0),this.setFocus(0)},t.ReferenceStrip.prototype={setFocus:function(C){var M=this.element.querySelector("#"+this.element.id+"-"+C),A=t.getElementSize(this.viewer.canvas),F=Number(this.element.style.width.replace("px","")),U=Number(this.element.style.height.replace("px","")),j=-Number(this.element.style.marginLeft.replace("px","")),J=-Number(this.element.style.marginTop.replace("px","")),H;this.currentSelected!==M&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=M,this.currentSelected.style.background="#999",this.scroll==="horizontal"?(H=Number(C)*(this.panelWidth+3),H>j+A.x-this.panelWidth?(H=Math.min(H,F-A.x),this.element.style.marginLeft=-H+"px",f(this,A.x,-H)):H<j&&(H=Math.max(0,H-A.x/2),this.element.style.marginLeft=-H+"px",f(this,A.x,-H))):(H=Number(C)*(this.panelHeight+3),H>J+A.y-this.panelHeight?(H=Math.min(H,U-A.y),this.element.style.marginTop=-H+"px",f(this,A.y,-H)):H<J&&(H=Math.max(0,H-A.y/2),this.element.style.marginTop=-H+"px",f(this,A.y,-H))),this.currentPage=C,m.call(this,{eventSource:this.tracker}))},update:function(){return!!o[this.id].animating},destroy:function(){if(this.miniViewers)for(var C in this.miniViewers)this.miniViewers[C].destroy();this.tracker.destroy(),this.element&&this.viewer.removeControl(this.element)}};function l(C){if(C.quick){var M;this.scroll==="horizontal"?M=Math.floor(C.position.x/this.panelWidth):M=Math.floor(C.position.y/this.panelHeight),this.viewer.goToPage(M)}this.element.focus()}function u(C){if(this.dragging=!0,this.element){var M=Number(this.element.style.marginLeft.replace("px","")),A=Number(this.element.style.marginTop.replace("px","")),F=Number(this.element.style.width.replace("px","")),U=Number(this.element.style.height.replace("px","")),j=t.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?-C.delta.x>0?M>-(F-j.x)&&(this.element.style.marginLeft=M+C.delta.x*2+"px",f(this,j.x,M+C.delta.x*2)):-C.delta.x<0&&M<0&&(this.element.style.marginLeft=M+C.delta.x*2+"px",f(this,j.x,M+C.delta.x*2)):-C.delta.y>0?A>-(U-j.y)&&(this.element.style.marginTop=A+C.delta.y*2+"px",f(this,j.y,A+C.delta.y*2)):-C.delta.y<0&&A<0&&(this.element.style.marginTop=A+C.delta.y*2+"px",f(this,j.y,A+C.delta.y*2))}}function d(C){if(this.element){var M=Number(this.element.style.marginLeft.replace("px","")),A=Number(this.element.style.marginTop.replace("px","")),F=Number(this.element.style.width.replace("px","")),U=Number(this.element.style.height.replace("px","")),j=t.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?C.scroll>0?M>-(F-j.x)&&(this.element.style.marginLeft=M-C.scroll*60+"px",f(this,j.x,M-C.scroll*60)):C.scroll<0&&M<0&&(this.element.style.marginLeft=M-C.scroll*60+"px",f(this,j.x,M-C.scroll*60)):C.scroll<0?A>j.y-U&&(this.element.style.marginTop=A+C.scroll*60+"px",f(this,j.y,A+C.scroll*60)):C.scroll>0&&A<0&&(this.element.style.marginTop=A+C.scroll*60+"px",f(this,j.y,A+C.scroll*60)),C.preventDefault=!0}}function f(C,M,A){var F,U,j,J,H,V;for(C.scroll==="horizontal"?F=C.panelWidth:F=C.panelHeight,U=Math.ceil(M/F)+5,j=Math.ceil((Math.abs(A)+M)/F)+1,U=j-U,U=U<0?0:U,H=U;H<j&&H<C.panels.length;H++)if(V=C.panels[H],!V.activePanel){var ot,ft=C.viewer.tileSources[H];ft.referenceStripThumbnailUrl?ot={type:"image",url:ft.referenceStripThumbnailUrl}:ot=ft,J=new t.Viewer({id:V.id,tileSources:[ot],element:V,navigatorSizeRatio:C.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:C.viewer.loadTilesWithAjax,ajaxHeaders:C.viewer.ajaxHeaders,useCanvas:C.useCanvas}),t.setElementPointerEventsNone(J.canvas),t.setElementPointerEventsNone(J.container),J.innerTracker.setTracking(!1),J.outerTracker.setTracking(!1),C.miniViewers[V.id]=J,V.activePanel=!0}}function m(C){var M=C.eventSource.element;this.scroll==="horizontal"?M.style.marginBottom="0px":M.style.marginLeft="0px"}function v(C){var M=C.eventSource.element;this.scroll==="horizontal"?M.style.marginBottom="-"+t.getElementSize(M).y/2+"px":M.style.marginLeft="-"+t.getElementSize(M).x/2+"px"}function _(C){if(!C.ctrl&&!C.alt&&!C.meta)switch(C.keyCode){case 38:d.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;case 40:d.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 37:d.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 39:d.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;default:C.preventDefault=!1;break}else C.preventDefault=!1}function k(C){if(!C.ctrl&&!C.alt&&!C.meta)switch(C.keyCode){case 61:d.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;case 45:d.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 48:case 119:case 87:d.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;case 115:case 83:d.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 97:d.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 100:d.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;default:C.preventDefault=!1;break}else C.preventDefault=!1}}(r),function(t){t.DisplayRect=function(o,l,u,d,f,m){t.Rect.apply(this,[o,l,u,d]),this.minLevel=f,this.maxLevel=m},t.extend(t.DisplayRect.prototype,t.Rect.prototype)}(r),function(t){t.Spring=function(l){var u=arguments;typeof l!="object"&&(l={initial:u.length&&typeof u[0]=="number"?u[0]:void 0,springStiffness:u.length>1?u[1].springStiffness:5,animationTime:u.length>1?u[1].animationTime:1.5}),t.console.assert(typeof l.springStiffness=="number"&&l.springStiffness!==0,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),t.console.assert(typeof l.animationTime=="number"&&l.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),l.exponential&&(this._exponential=!0,delete l.exponential),t.extend(!0,this,l),this.current={value:typeof this.initial=="number"?this.initial:this._exponential?0:1,time:t.now()},t.console.assert(!this._exponential||this.current.value!==0,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},t.Spring.prototype={resetTo:function(l){t.console.assert(!this._exponential||l!==0,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=l,this.start.time=this.target.time=this.current.time=t.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(l){t.console.assert(!this._exponential||l!==0,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=l,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(l){this.start.value+=l,this.target.value+=l,this._exponential&&(t.console.assert(this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(l){this._exponential=l,this._exponential&&(t.console.assert(this.current.value!==0&&this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){this.current.time=t.now();var l,u;this._exponential?(l=this.start._logValue,u=this.target._logValue):(l=this.start.value,u=this.target.value);var d=this.current.time>=this.target.time?u:l+(u-l)*o(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),f=this.current.value;return this._exponential?this.current.value=Math.exp(d):this.current.value=d,f!==this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}};function o(l,u){return(1-Math.exp(l*-u))/(1-Math.exp(-l))}}(r),function(t){t.ImageJob=function(l){t.extend(!0,this,{timeout:t.DEFAULT_SETTINGS.timeout,jobId:null},l),this.data=null,this.userData={},this.errorMsg=null},t.ImageJob.prototype={start:function(){var l=this,u=this.abort;this.jobId=window.setTimeout(function(){l.finish(null,null,"Image load exceeded timeout ("+l.timeout+" ms)")},this.timeout),this.abort=function(){l.source.downloadTileAbort(l),typeof u=="function"&&u()},this.source.downloadTileStart(this)},finish:function(l,u,d){this.data=l,this.request=u,this.errorMsg=d,this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},t.ImageLoader=function(l){t.extend(!0,this,{jobLimit:t.DEFAULT_SETTINGS.imageLoaderLimit,timeout:t.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},l)},t.ImageLoader.prototype={addJob:function(l){if(!l.source){t.console.error("ImageLoader.prototype.addJob() requires [options.source]. TileSource since new API defines how images are fetched. Creating a dummy TileSource.");var u=t.TileSource.prototype;l.source={downloadTileStart:u.downloadTileStart,downloadTileAbort:u.downloadTileAbort}}var d=this,f=function(_){o(d,_,l.callback)},m={src:l.src,tile:l.tile||{},source:l.source,loadWithAjax:l.loadWithAjax,ajaxHeaders:l.loadWithAjax?l.ajaxHeaders:null,crossOriginPolicy:l.crossOriginPolicy,ajaxWithCredentials:l.ajaxWithCredentials,postData:l.postData,callback:f,abort:l.abort,timeout:this.timeout},v=new t.ImageJob(m);!this.jobLimit||this.jobsInProgress<this.jobLimit?(v.start(),this.jobsInProgress++):this.jobQueue.push(v)},clear:function(){for(var l=0;l<this.jobQueue.length;l++){var u=this.jobQueue[l];typeof u.abort=="function"&&u.abort()}this.jobQueue=[]}};function o(l,u,d){var f;l.jobsInProgress--,(!l.jobLimit||l.jobsInProgress<l.jobLimit)&&l.jobQueue.length>0&&(f=l.jobQueue.shift(),f.start(),l.jobsInProgress++),d(u.data,u.errorMsg,u.request)}}(r),function(t){t.Tile=function(o,l,u,d,f,m,v,_,k,C,M,A){this.level=o,this.x=l,this.y=u,this.bounds=d,this.sourceBounds=C,this.exists=f,this._url=m,this.postData=M,this.context2D=v,this.loadWithAjax=_,this.ajaxHeaders=k,A===void 0&&(t.console.warn("Tile constructor needs 'cacheKey' variable: creation tile cache in Tile class is deprecated. TileSource.prototype.getTileHashKey will be used."),A=t.TileSource.prototype.getTileHashKey(o,l,u,m,k,M)),this.cacheKey=A,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.style=null,this.position=null,this.size=null,this.flipped=!1,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.hasTransparency=!1,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},t.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return console.warn("Tile.prototype._hasTransparencyChannel() has been deprecated and will be removed in the future. Use TileSource.prototype.hasTransparency() instead."),!!this.context2D||this.getUrl().match(".png")},drawHTML:function(o){if(!this.cacheImageRecord){t.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString());return}if(!this.loaded){t.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}if(!this.element){var l=this.getImage();if(!l)return;this.element=t.makeNeutralElement("div"),this.imgElement=l.cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"}this.element.parentNode!==o&&o.appendChild(this.element),this.imgElement.parentNode!==this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",this.flipped&&(this.style.transform="scaleX(-1)"),t.setElementOpacity(this.element,this.opacity)},get image(){return t.console.error("[Tile.image] property has been deprecated. Use [Tile.prototype.getImage] instead."),this.getImage()},get url(){return t.console.error("[Tile.url] property has been deprecated. Use [Tile.prototype.getUrl] instead."),this.getUrl()},getImage:function(){return this.cacheImageRecord.getImage()},getUrl:function(){return typeof this._url=="function"?this._url():this._url},getCanvasContext:function(){return this.context2D||this.cacheImageRecord.getRenderedContext()},drawCanvas:function(o,l,u,d,f,m){var v=this.position.times(t.pixelDensityRatio),_=this.size.times(t.pixelDensityRatio),k;if(!this.context2D&&!this.cacheImageRecord){t.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString());return}if(k=this.getCanvasContext(),!this.loaded||!k){t.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}o.save(),o.globalAlpha=this.opacity,typeof u=="number"&&u!==1&&(v=v.times(u),_=_.times(u)),d instanceof t.Point&&(v=v.plus(d)),o.globalAlpha===1&&this.hasTransparency&&(f&&(v.x=Math.round(v.x),v.y=Math.round(v.y),_.x=Math.round(_.x),_.y=Math.round(_.y)),o.clearRect(v.x,v.y,_.x,_.y)),l({context:o,tile:this,rendered:k});var C,M;this.sourceBounds?(C=Math.min(this.sourceBounds.width,k.canvas.width),M=Math.min(this.sourceBounds.height,k.canvas.height)):(C=k.canvas.width,M=k.canvas.height),o.translate(v.x+_.x/2,0),this.flipped&&o.scale(-1,1),o.drawImage(k.canvas,0,0,C,M,-_.x/2,v.y,_.x,_.y),o.restore()},getScaleForEdgeSmoothing:function(){var o;if(this.cacheImageRecord)o=this.cacheImageRecord.getRenderedContext();else if(this.context2D)o=this.context2D;else return t.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;return o.canvas.width/(this.size.x*t.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(o,l,u){var d=Math.max(1,Math.ceil((u.x-l.x)/2)),f=Math.max(1,Math.ceil((u.y-l.y)/2));return new t.Point(d,f).minus(this.position.times(t.pixelDensityRatio).times(o||1).apply(function(m){return m%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(r),function(t){t.OverlayPlacement=t.Placement,t.OverlayRotationMode=t.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),t.Overlay=function(o,l,u){var d;t.isPlainObject(o)?d=o:d={element:o,location:l,placement:u},this.element=d.element,this.style=d.element.style,this._init(d)},t.Overlay.prototype={_init:function(o){this.location=o.location,this.placement=o.placement===void 0?t.Placement.TOP_LEFT:o.placement,this.onDraw=o.onDraw,this.checkResize=o.checkResize===void 0?!0:o.checkResize,this.width=o.width===void 0?null:o.width,this.height=o.height===void 0?null:o.height,this.rotationMode=o.rotationMode||t.OverlayRotationMode.EXACT,this.location instanceof t.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=t.Placement.TOP_LEFT),this.scales=this.width!==null&&this.height!==null,this.bounds=new t.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(o,l){var u=t.Placement.properties[this.placement];u&&(u.isHorizontallyCentered?o.x-=l.x/2:u.isRight&&(o.x-=l.x),u.isVerticallyCentered?o.y-=l.y/2:u.isBottom&&(o.y-=l.y))},destroy:function(){var o=this.element,l=this.style;o.parentNode&&(o.parentNode.removeChild(o),o.prevElementParent&&(l.display="none",document.body.appendChild(o))),this.onDraw=null,l.top="",l.left="",l.position="",this.width!==null&&(l.width=""),this.height!==null&&(l.height="");var u=t.getCssPropertyWithVendorPrefix("transformOrigin"),d=t.getCssPropertyWithVendorPrefix("transform");u&&d&&(l[u]="",l[d]="")},drawHTML:function(o,l){var u=this.element;u.parentNode!==o&&(u.prevElementParent=u.parentNode,u.prevNextSibling=u.nextSibling,o.appendChild(u),this.style.position="absolute",this.size=t.getElementSize(u));var d=this._getOverlayPositionAndSize(l),f=d.position,m=this.size=d.size,v=d.rotate;if(this.onDraw)this.onDraw(f,m,this.element);else{var _=this.style;_.left=f.x+"px",_.top=f.y+"px",this.width!==null&&(_.width=m.x+"px"),this.height!==null&&(_.height=m.y+"px");var k=t.getCssPropertyWithVendorPrefix("transformOrigin"),C=t.getCssPropertyWithVendorPrefix("transform");k&&C&&(v?(_[k]=this._getTransformOrigin(),_[C]="rotate("+v+"deg)"):(_[k]="",_[C]="")),_.display="block"}},_getOverlayPositionAndSize:function(o){var l=o.pixelFromPoint(this.location,!0),u=this._getSizeInPixels(o);this.adjust(l,u);var d=0;if(o.getRotation(!0)&&this.rotationMode!==t.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===t.OverlayRotationMode.BOUNDING_BOX&&this.width!==null&&this.height!==null){var f=new t.Rect(l.x,l.y,u.x,u.y),m=this._getBoundingBox(f,o.getRotation(!0));l=m.getTopLeft(),u=m.getSize()}else d=o.getRotation(!0);return{position:l,size:u,rotate:d}},_getSizeInPixels:function(o){var l=this.size.x,u=this.size.y;if(this.width!==null||this.height!==null){var d=o.deltaPixelsFromPointsNoRotate(new t.Point(this.width||0,this.height||0),!0);this.width!==null&&(l=d.x),this.height!==null&&(u=d.y)}if(this.checkResize&&(this.width===null||this.height===null)){var f=this.size=t.getElementSize(this.element);this.width===null&&(l=f.x),this.height===null&&(u=f.y)}return new t.Point(l,u)},_getBoundingBox:function(o,l){var u=this._getPlacementPoint(o);return o.rotate(l,u).getBoundingBox()},_getPlacementPoint:function(o){var l=new t.Point(o.x,o.y),u=t.Placement.properties[this.placement];return u&&(u.isHorizontallyCentered?l.x+=o.width/2:u.isRight&&(l.x+=o.width),u.isVerticallyCentered?l.y+=o.height/2:u.isBottom&&(l.y+=o.height)),l},_getTransformOrigin:function(){var o="",l=t.Placement.properties[this.placement];return l&&(l.isLeft?o="left":l.isRight&&(o="right"),l.isTop?o+=" top":l.isBottom&&(o+=" bottom")),o},update:function(o,l){var u=t.isPlainObject(o)?o:{location:o,placement:l};this._init({location:u.location||this.location,placement:u.placement!==void 0?u.placement:this.placement,onDraw:u.onDraw||this.onDraw,checkResize:u.checkResize||this.checkResize,width:u.width!==void 0?u.width:this.width,height:u.height!==void 0?u.height:this.height,rotationMode:u.rotationMode||this.rotationMode})},getBounds:function(o){t.console.assert(o,"A viewport must now be passed to Overlay.getBounds.");var l=this.width,u=this.height;if(l===null||u===null){var d=o.deltaPointsFromPixelsNoRotate(this.size,!0);l===null&&(l=d.x),u===null&&(u=d.y)}var f=this.location.clone();return this.adjust(f,new t.Point(l,u)),this._adjustBoundsForRotation(o,new t.Rect(f.x,f.y,l,u))},_adjustBoundsForRotation:function(o,l){if(!o||o.getRotation(!0)===0||this.rotationMode===t.OverlayRotationMode.EXACT)return l;if(this.rotationMode===t.OverlayRotationMode.BOUNDING_BOX){if(this.width===null||this.height===null)return l;var u=this._getOverlayPositionAndSize(o);return o.viewerElementToViewportRectangle(new t.Rect(u.position.x,u.position.y,u.size.x,u.size.y))}return l.rotate(-o.getRotation(!0),this._getPlacementPoint(l))}}}(r),function(t){t.Drawer=function(o){t.console.assert(o.viewer,"[Drawer] options.viewer is required");var l=arguments;if(t.isPlainObject(o)||(o={source:l[0],viewport:l[1],element:l[2]}),t.console.assert(o.viewport,"[Drawer] options.viewport is required"),t.console.assert(o.element,"[Drawer] options.element is required"),o.source&&t.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=o.viewer,this.viewport=o.viewport,this.debugGridColor=typeof o.debugGridColor=="string"?[o.debugGridColor]:o.debugGridColor||t.DEFAULT_SETTINGS.debugGridColor,o.opacity&&t.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=t.supportsCanvas&&(this.viewer?this.viewer.useCanvas:!0),this.container=t.getElement(o.element),this.canvas=t.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var u=this._calculateCanvasSize();this.canvas.width=u.x,this.canvas.height=u.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",t.setElementOpacity(this.canvas,this.opacity,!0),t.setElementPointerEventsNone(this.canvas),t.setElementTouchActionNone(this.canvas),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},t.Drawer.prototype={addOverlay:function(o,l,u,d){return t.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(o,l,u,d),this},updateOverlay:function(o,l,u){return t.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(o,l,u),this},removeOverlay:function(o){return t.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(o),this},clearOverlays:function(){return t.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},viewportCoordToDrawerCoord:function(o){var l=this.viewport.pixelFromPointNoRotate(o,!0);return new t.Point(l.x*t.pixelDensityRatio,l.y*t.pixelDensityRatio)},clipWithPolygons:function(o,l){if(this.useCanvas){var u=this._getContext(l);u.beginPath(),o.forEach(function(d){d.forEach(function(f,m){u[m===0?"moveTo":"lineTo"](f.x,f.y)})}),u.clip()}},setOpacity:function(o){t.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var l=this.viewer.world,u=0;u<l.getItemCount();u++)l.getItemAt(u).setOpacity(o);return this},getOpacity:function(){t.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var o=this.viewer.world,l=0,u=0;u<o.getItemCount();u++){var d=o.getItemAt(u).getOpacity();d>l&&(l=d)}return l},needsUpdate:function(){return t.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return t.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return t.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return t.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var o=this._calculateCanvasSize();if((this.canvas.width!==o.x||this.canvas.height!==o.y)&&(this.canvas.width=o.x,this.canvas.height=o.y,this._updateImageSmoothingEnabled(this.context),this.sketchCanvas!==null)){var l=this._calculateSketchCanvasSize();this.sketchCanvas.width=l.x,this.sketchCanvas.height=l.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(o,l){if(this.useCanvas){var u=this._getContext(o);if(l)u.clearRect(l.x,l.y,l.width,l.height);else{var d=u.canvas;u.clearRect(0,0,d.width,d.height)}}},viewportToDrawerRectangle:function(o){var l=this.viewport.pixelFromPointNoRotate(o.getTopLeft(),!0),u=this.viewport.deltaPixelsFromPointsNoRotate(o.getSize(),!0);return new t.Rect(l.x*t.pixelDensityRatio,l.y*t.pixelDensityRatio,u.x*t.pixelDensityRatio,u.y*t.pixelDensityRatio)},drawTile:function(o,l,u,d,f,m,v){if(t.console.assert(o,"[Drawer.drawTile] tile is required"),t.console.assert(l,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var _=this._getContext(u);d=d||1,o.drawCanvas(_,l,d,f,m,v)}else o.drawHTML(this.canvas)},_getContext:function(o){var l=this.context;if(o){if(this.sketchCanvas===null){this.sketchCanvas=document.createElement("canvas");var u=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=u.x,this.sketchCanvas.height=u.y,this.sketchContext=this.sketchCanvas.getContext("2d"),this.viewport.getRotation()===0){var d=this;this.viewer.addHandler("rotate",function f(){if(d.viewport.getRotation()!==0){d.viewer.removeHandler("rotate",f);var m=d._calculateSketchCanvasSize();d.sketchCanvas.width=m.x,d.sketchCanvas.height=m.y}})}this._updateImageSmoothingEnabled(this.sketchContext)}l=this.sketchContext}return l},saveContext:function(o){this.useCanvas&&this._getContext(o).save()},restoreContext:function(o){this.useCanvas&&this._getContext(o).restore()},setClip:function(o,l){if(this.useCanvas){var u=this._getContext(l);u.beginPath(),u.rect(o.x,o.y,o.width,o.height),u.clip()}},drawRectangle:function(o,l,u){if(this.useCanvas){var d=this._getContext(u);d.save(),d.fillStyle=l,d.fillRect(o.x,o.y,o.width,o.height),d.restore()}},blendSketch:function(o,l,u,d){var f=o;if(t.isPlainObject(f)||(f={opacity:o,scale:l,translate:u,compositeOperation:d}),!(!this.useCanvas||!this.sketchCanvas)){o=f.opacity,d=f.compositeOperation;var m=f.bounds;if(this.context.save(),this.context.globalAlpha=o,d&&(this.context.globalCompositeOperation=d),m)m.x<0&&(m.width+=m.x,m.x=0),m.x+m.width>this.canvas.width&&(m.width=this.canvas.width-m.x),m.y<0&&(m.height+=m.y,m.y=0),m.y+m.height>this.canvas.height&&(m.height=this.canvas.height-m.y),this.context.drawImage(this.sketchCanvas,m.x,m.y,m.width,m.height,m.x,m.y,m.width,m.height);else{l=f.scale||1,u=f.translate;var v=u instanceof t.Point?u:new t.Point(0,0),_=0,k=0;if(u){var C=this.sketchCanvas.width-this.canvas.width,M=this.sketchCanvas.height-this.canvas.height;_=Math.round(C/2),k=Math.round(M/2)}this.context.drawImage(this.sketchCanvas,v.x-_*l,v.y-k*l,(this.canvas.width+2*_)*l,(this.canvas.height+2*k)*l,-_,-k,this.canvas.width+2*_,this.canvas.height+2*k)}this.context.restore()}},drawDebugInfo:function(o,l,u,d){if(this.useCanvas){var f=this.viewer.world.getIndexOfItem(d)%this.debugGridColor.length,m=this.context;m.save(),m.lineWidth=2*t.pixelDensityRatio,m.font="small-caps bold "+13*t.pixelDensityRatio+"px arial",m.strokeStyle=this.debugGridColor[f],m.fillStyle=this.debugGridColor[f],this.viewport.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:this.viewport.getRotation(!0)}),d.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:d.getRotation(!0),point:d.viewport.pixelFromPointNoRotate(d._getRotationPoint(!0),!0)}),d.viewport.getRotation(!0)%360===0&&d.getRotation(!0)%360===0&&d._drawer.viewer.viewport.getFlip()&&d._drawer._flip(),m.strokeRect(o.position.x*t.pixelDensityRatio,o.position.y*t.pixelDensityRatio,o.size.x*t.pixelDensityRatio,o.size.y*t.pixelDensityRatio);var v=(o.position.x+o.size.x/2)*t.pixelDensityRatio,_=(o.position.y+o.size.y/2)*t.pixelDensityRatio;m.translate(v,_),m.rotate(Math.PI/180*-this.viewport.getRotation(!0)),m.translate(-v,-_),o.x===0&&o.y===0&&(m.fillText("Zoom: "+this.viewport.getZoom(),o.position.x*t.pixelDensityRatio,(o.position.y-30)*t.pixelDensityRatio),m.fillText("Pan: "+this.viewport.getBounds().toString(),o.position.x*t.pixelDensityRatio,(o.position.y-20)*t.pixelDensityRatio)),m.fillText("Level: "+o.level,(o.position.x+10)*t.pixelDensityRatio,(o.position.y+20)*t.pixelDensityRatio),m.fillText("Column: "+o.x,(o.position.x+10)*t.pixelDensityRatio,(o.position.y+30)*t.pixelDensityRatio),m.fillText("Row: "+o.y,(o.position.x+10)*t.pixelDensityRatio,(o.position.y+40)*t.pixelDensityRatio),m.fillText("Order: "+u+" of "+l,(o.position.x+10)*t.pixelDensityRatio,(o.position.y+50)*t.pixelDensityRatio),m.fillText("Size: "+o.size.toString(),(o.position.x+10)*t.pixelDensityRatio,(o.position.y+60)*t.pixelDensityRatio),m.fillText("Position: "+o.position.toString(),(o.position.x+10)*t.pixelDensityRatio,(o.position.y+70)*t.pixelDensityRatio),this.viewport.getRotation(!0)%360!==0&&this._restoreRotationChanges(),d.getRotation(!0)%360!==0&&this._restoreRotationChanges(),d.viewport.getRotation(!0)%360===0&&d.getRotation(!0)%360===0&&d._drawer.viewer.viewport.getFlip()&&d._drawer._flip(),m.restore()}},debugRect:function(o){if(this.useCanvas){var l=this.context;l.save(),l.lineWidth=2*t.pixelDensityRatio,l.strokeStyle=this.debugGridColor[0],l.fillStyle=this.debugGridColor[0],l.strokeRect(o.x*t.pixelDensityRatio,o.y*t.pixelDensityRatio,o.width*t.pixelDensityRatio,o.height*t.pixelDensityRatio),l.restore()}},setImageSmoothingEnabled:function(o){this.useCanvas&&(this._imageSmoothingEnabled=o,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(o){o.msImageSmoothingEnabled=this._imageSmoothingEnabled,o.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(o){var l=this._getContext(o).canvas;return new t.Point(l.width,l.height)},getCanvasCenter:function(){return new t.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(o){var l=o.point?o.point.times(t.pixelDensityRatio):this.getCanvasCenter(),u=this._getContext(o.useSketch);u.save(),u.translate(l.x,l.y),this.viewer.viewport.flipped?(u.rotate(Math.PI/180*-o.degrees),u.scale(-1,1)):u.rotate(Math.PI/180*o.degrees),u.translate(-l.x,-l.y)},_flip:function(o){o=o||{};var l=o.point?o.point.times(t.pixelDensityRatio):this.getCanvasCenter(),u=this._getContext(o.useSketch);u.translate(l.x,0),u.scale(-1,1),u.translate(-l.x,0)},_restoreRotationChanges:function(o){var l=this._getContext(o);l.restore()},_calculateCanvasSize:function(){var o=t.pixelDensityRatio,l=this.viewport.getContainerSize();return{x:Math.round(l.x*o),y:Math.round(l.y*o)}},_calculateSketchCanvasSize:function(){var o=this._calculateCanvasSize();if(this.viewport.getRotation()===0)return o;var l=Math.ceil(Math.sqrt(o.x*o.x+o.y*o.y));return{x:l,y:l}}}}(r),function(t){t.Viewport=function(o){var l=arguments;l.length&&l[0]instanceof t.Point&&(o={containerSize:l[0],contentSize:l[1],config:l[2]}),o.config&&(t.extend(!0,o,o.config),delete o.config),this._margins=t.extend({left:0,top:0,right:0,bottom:0},o.margins||{}),delete o.margins,o.initialDegrees=o.degrees,delete o.degrees,t.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,rotationPivot:null,viewer:null,springStiffness:t.DEFAULT_SETTINGS.springStiffness,animationTime:t.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:t.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:t.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:t.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:t.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:t.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:t.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:t.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:t.DEFAULT_SETTINGS.maxZoomLevel,initialDegrees:t.DEFAULT_SETTINGS.degrees,flipped:t.DEFAULT_SETTINGS.flipped,homeFillsViewer:t.DEFAULT_SETTINGS.homeFillsViewer,silenceMultiImageWarnings:t.DEFAULT_SETTINGS.silenceMultiImageWarnings},o),this._updateContainerInnerSize(),this.centerSpringX=new t.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new t.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new t.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.degreesSpring=new t.Spring({initial:o.initialDegrees,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,this._setContentBounds(new t.Rect(0,0,1,1),1),this.goHome(!0),this.update()},t.Viewport.prototype={get degrees(){return t.console.warn("Accessing [Viewport.degrees] is deprecated. Use viewport.getRotation instead."),this.getRotation()},set degrees(o){t.console.warn("Setting [Viewport.degrees] is deprecated. Use viewport.rotateTo, viewport.rotateBy, or viewport.setRotation instead."),this.rotateTo(o)},resetContentSize:function(o){return t.console.assert(o,"[Viewport.resetContentSize] contentSize is required"),t.console.assert(o instanceof t.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),t.console.assert(o.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),t.console.assert(o.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new t.Rect(0,0,1,o.y/o.x),o.x),this},setHomeBounds:function(o,l){t.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(o,l)},_setContentBounds:function(o,l){t.console.assert(o,"[Viewport._setContentBounds] bounds is required"),t.console.assert(o instanceof t.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),t.console.assert(o.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),t.console.assert(o.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=o.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(l),this._contentBounds=o.rotate(this.getRotation()).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(l),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:l,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var o=this._contentAspectRatio/this.getAspectRatio(),l;return this.homeFillsViewer?l=o>=1?o:1:l=o>=1?1:o,l/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var o=this._contentBounds.getCenter(),l=1/this.getHomeZoom(),u=l/this.getAspectRatio();return new t.Rect(o.x-l/2,o.y-u/2,l,u)},goHome:function(o){return this.viewer&&this.viewer.raiseEvent("home",{immediately:o}),this.fitBounds(this.getHomeBounds(),o)},getMinZoom:function(){var o=this.getHomeZoom(),l=this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*o;return l},getMaxZoom:function(){var o=this.maxZoomLevel;return o||(o=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,o/=this._contentBounds.width),Math.max(o,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new t.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return t.extend({},this._margins)},setMargins:function(o){t.console.assert(t.type(o)==="object","[Viewport.setMargins] margins must be an object"),this._margins=t.extend({left:0,top:0,right:0,bottom:0},o),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(o){return this.getBoundsNoRotate(o).rotate(-this.getRotation(o))},getBoundsNoRotate:function(o){var l=this.getCenter(o),u=1/this.getZoom(o),d=u/this.getAspectRatio();return new t.Rect(l.x-u/2,l.y-d/2,u,d)},getBoundsWithMargins:function(o){return this.getBoundsNoRotateWithMargins(o).rotate(-this.getRotation(o),this.getCenter(o))},getBoundsNoRotateWithMargins:function(o){var l=this.getBoundsNoRotate(o),u=this._containerInnerSize.x*this.getZoom(o);return l.x-=this._margins.left/u,l.y-=this._margins.top/u,l.width+=(this._margins.left+this._margins.right)/u,l.height+=(this._margins.top+this._margins.bottom)/u,l},getCenter:function(o){var l=new t.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),u=new t.Point(this.centerSpringX.target.value,this.centerSpringY.target.value),d,f,m,v,_,k,C,M;return o?l:this.zoomPoint?(d=this.pixelFromPoint(this.zoomPoint,!0),f=this.getZoom(),m=1/f,v=m/this.getAspectRatio(),_=new t.Rect(l.x-m/2,l.y-v/2,m,v),k=this._pixelFromPoint(this.zoomPoint,_),C=k.minus(d).rotate(-this.getRotation(!0)),M=C.divide(this._containerInnerSize.x*f),u.plus(M)):u},getZoom:function(o){return o?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(o){return Math.max(Math.min(o,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(o){var l=this.viewportToViewerElementRectangle(o).getBoundingBox(),u=this.viewportToViewerElementRectangle(this._contentBoundsNoRotate).getBoundingBox(),d=!1,f=!1;if(!this.wrapHorizontal){var m=l.x+l.width,v=u.x+u.width,_,k,C;l.width>u.width?_=this.visibilityRatio*u.width:_=this.visibilityRatio*l.width,k=u.x-m+_,C=v-l.x-_,_>u.width?(l.x+=(k+C)/2,d=!0):C<0?(l.x+=C,d=!0):k>0&&(l.x+=k,d=!0)}if(!this.wrapVertical){var M=l.y+l.height,A=u.y+u.height,F,U,j;l.height>u.height?F=this.visibilityRatio*u.height:F=this.visibilityRatio*l.height,U=u.y-M+F,j=A-l.y-F,F>u.height?(l.y+=(U+j)/2,f=!0):j<0?(l.y+=j,f=!0):U>0&&(l.y+=U,f=!0)}var J=d||f,H=J?this.viewerElementToViewportRectangle(l):o.clone();return H.xConstrained=d,H.yConstrained=f,H.constraintApplied=J,H},_raiseConstraintsEvent:function(o){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:o})},applyConstraints:function(o){var l=this.getZoom(),u=this._applyZoomConstraints(l);l!==u&&this.zoomTo(u,this.zoomPoint,o);var d=this.getConstrainedBounds(!1);return d.constraintApplied&&(this.fitBounds(d,o),this._raiseConstraintsEvent(o)),this},ensureVisible:function(o){return this.applyConstraints(o)},_fitBounds:function(o,l){l=l||{};var u=l.immediately||!1,d=l.constraints||!1,f=this.getAspectRatio(),m=o.getCenter(),v=new t.Rect(o.x,o.y,o.width,o.height,o.degrees+this.getRotation()).getBoundingBox();v.getAspectRatio()>=f?v.height=v.width/f:v.width=v.height*f,v.x=m.x-v.width/2,v.y=m.y-v.height/2;var _=1/v.width;if(u)return this.panTo(m,!0),this.zoomTo(_,null,!0),d&&this.applyConstraints(!0),this;var k=this.getCenter(!0),C=this.getZoom(!0);this.panTo(k,!0),this.zoomTo(C,null,!0);var M=this.getBounds(),A=this.getZoom();if(A===0||Math.abs(_/A-1)<1e-8)return this.zoomTo(_,null,!0),this.panTo(m,u),d&&this.applyConstraints(!1),this;if(d){this.panTo(m,!1),this.zoomTo(_,null,!1);var F=this.getConstrainedBounds();this.panTo(k,!0),this.zoomTo(C,null,!0),this.fitBounds(F)}else{var U=v.rotate(-this.getRotation()),j=U.getTopLeft().times(_).minus(M.getTopLeft().times(A)).divide(_-A);this.zoomTo(_,j,u)}return this},fitBounds:function(o,l){return this._fitBounds(o,{immediately:l,constraints:!1})},fitBoundsWithConstraints:function(o,l){return this._fitBounds(o,{immediately:l,constraints:!0})},fitVertically:function(o){var l=new t.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(l,o)},fitHorizontally:function(o){var l=new t.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(l,o)},getConstrainedBounds:function(o){var l,u;return l=this.getBounds(o),u=this._applyBoundaryConstraints(l),u},panBy:function(o,l){var u=new t.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(u.plus(o),l)},panTo:function(o,l){return l?(this.centerSpringX.resetTo(o.x),this.centerSpringY.resetTo(o.y)):(this.centerSpringX.springTo(o.x),this.centerSpringY.springTo(o.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:o,immediately:l}),this},zoomBy:function(o,l,u){return this.zoomTo(this.zoomSpring.target.value*o,l,u)},zoomTo:function(o,l,u){var d=this;return this.zoomPoint=l instanceof t.Point&&!isNaN(l.x)&&!isNaN(l.y)?l:null,u?this._adjustCenterSpringsForZoomPoint(function(){d.zoomSpring.resetTo(o)}):this.zoomSpring.springTo(o),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:o,refPoint:l,immediately:u}),this},setRotation:function(o,l){return this.rotateTo(o,null,l)},getRotation:function(o){return o?this.degreesSpring.current.value:this.degreesSpring.target.value},setRotationWithPivot:function(o,l,u){return this.rotateTo(o,l,u)},rotateTo:function(o,l,u){if(!this.viewer||!this.viewer.drawer.canRotate())return this;if(this.degreesSpring.target.value===o&&this.degreesSpring.isAtTargetValue())return this;if(this.rotationPivot=l instanceof t.Point&&!isNaN(l.x)&&!isNaN(l.y)?l:null,u)if(this.rotationPivot){var d=o-this._oldDegrees;if(!d)return this.rotationPivot=null,this;this._rotateAboutPivot(o)}else this.degreesSpring.resetTo(o);else{var f=t.positiveModulo(this.degreesSpring.current.value,360),m=t.positiveModulo(o,360),v=m-f;v>180?m-=360:v<-180&&(m+=360);var _=f-m;this.degreesSpring.resetTo(o+_),this.degreesSpring.springTo(o)}return this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:o,immediately:!!u,pivot:this.rotationPivot||this.getCenter()}),this},rotateBy:function(o,l,u){return this.rotateTo(this.degreesSpring.target.value+o,l,u)},resize:function(o,l){var u=this.getBoundsNoRotate(),d=u,f;return this.containerSize.x=o.x,this.containerSize.y=o.y,this._updateContainerInnerSize(),l&&(f=o.x/this.containerSize.x,d.width=u.width*f,d.height=d.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:o,maintain:l}),this.fitBounds(d,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new t.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var o=this;this._adjustCenterSpringsForZoomPoint(function(){o.zoomSpring.update()}),this.degreesSpring.isAtTargetValue()&&(this.rotationPivot=null),this.centerSpringX.update(),this.centerSpringY.update(),this.rotationPivot?this._rotateAboutPivot(!0):this.degreesSpring.update();var l=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom||this.degreesSpring.current.value!==this._oldDegrees;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,l},_rotateAboutPivot:function(o){var l=o===!0,u=this.rotationPivot.minus(this.getCenter());this.centerSpringX.shiftBy(u.x),this.centerSpringY.shiftBy(u.y),l?this.degreesSpring.update():this.degreesSpring.resetTo(o);var d=this.degreesSpring.current.value-this._oldDegrees,f=u.rotate(d*-1).times(-1);this.centerSpringX.shiftBy(f.x),this.centerSpringY.shiftBy(f.y)},_adjustCenterSpringsForZoomPoint:function(o){if(this.zoomPoint){var l=this.pixelFromPoint(this.zoomPoint,!0);o();var u=this.pixelFromPoint(this.zoomPoint,!0),d=u.minus(l),f=this.deltaPointsFromPixels(d,!0);this.centerSpringX.shiftBy(f.x),this.centerSpringY.shiftBy(f.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else o()},deltaPixelsFromPointsNoRotate:function(o,l){return o.times(this._containerInnerSize.x*this.getZoom(l))},deltaPixelsFromPoints:function(o,l){return this.deltaPixelsFromPointsNoRotate(o.rotate(this.getRotation(l)),l)},deltaPointsFromPixelsNoRotate:function(o,l){return o.divide(this._containerInnerSize.x*this.getZoom(l))},deltaPointsFromPixels:function(o,l){return this.deltaPointsFromPixelsNoRotate(o,l).rotate(-this.getRotation(l))},pixelFromPointNoRotate:function(o,l){return this._pixelFromPointNoRotate(o,this.getBoundsNoRotate(l))},pixelFromPoint:function(o,l){return this._pixelFromPoint(o,this.getBoundsNoRotate(l))},_pixelFromPointNoRotate:function(o,l){return o.minus(l.getTopLeft()).times(this._containerInnerSize.x/l.width).plus(new t.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(o,l){return this._pixelFromPointNoRotate(o.rotate(this.getRotation(!0),this.getCenter(!0)),l)},pointFromPixelNoRotate:function(o,l){var u=this.getBoundsNoRotate(l);return o.minus(new t.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/u.width).plus(u.getTopLeft())},pointFromPixel:function(o,l){return this.pointFromPixelNoRotate(o,l).rotate(-this.getRotation(l),this.getCenter(l))},_viewportToImageDelta:function(o,l){var u=this._contentBoundsNoRotate.width;return new t.Point(o*this._contentSizeNoRotate.x/u,l*this._contentSizeNoRotate.x/u)},viewportToImageCoordinates:function(o,l){if(o instanceof t.Point)return this.viewportToImageCoordinates(o.x,o.y);if(this.viewer){var u=this.viewer.world.getItemCount();if(u>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(u===1){var d=this.viewer.world.getItemAt(0);return d.viewportToImageCoordinates(o,l,!0)}}return this._viewportToImageDelta(o-this._contentBoundsNoRotate.x,l-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(o,l){var u=this._contentBoundsNoRotate.width;return new t.Point(o/this._contentSizeNoRotate.x*u,l/this._contentSizeNoRotate.x*u)},imageToViewportCoordinates:function(o,l){if(o instanceof t.Point)return this.imageToViewportCoordinates(o.x,o.y);if(this.viewer){var u=this.viewer.world.getItemCount();if(u>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(u===1){var d=this.viewer.world.getItemAt(0);return d.imageToViewportCoordinates(o,l,!0)}}var f=this._imageToViewportDelta(o,l);return f.x+=this._contentBoundsNoRotate.x,f.y+=this._contentBoundsNoRotate.y,f},imageToViewportRectangle:function(o,l,u,d){var f=o;if(f instanceof t.Rect||(f=new t.Rect(o,l,u,d)),this.viewer){var m=this.viewer.world.getItemCount();if(m>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(m===1){var v=this.viewer.world.getItemAt(0);return v.imageToViewportRectangle(o,l,u,d,!0)}}var _=this.imageToViewportCoordinates(f.x,f.y),k=this._imageToViewportDelta(f.width,f.height);return new t.Rect(_.x,_.y,k.x,k.y,f.degrees)},viewportToImageRectangle:function(o,l,u,d){var f=o;if(f instanceof t.Rect||(f=new t.Rect(o,l,u,d)),this.viewer){var m=this.viewer.world.getItemCount();if(m>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(m===1){var v=this.viewer.world.getItemAt(0);return v.viewportToImageRectangle(o,l,u,d,!0)}}var _=this.viewportToImageCoordinates(f.x,f.y),k=this._viewportToImageDelta(f.width,f.height);return new t.Rect(_.x,_.y,k.x,k.y,f.degrees)},viewerElementToImageCoordinates:function(o){var l=this.pointFromPixel(o,!0);return this.viewportToImageCoordinates(l)},imageToViewerElementCoordinates:function(o){var l=this.imageToViewportCoordinates(o);return this.pixelFromPoint(l,!0)},windowToImageCoordinates:function(o){t.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var l=o.minus(t.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(l)},imageToWindowCoordinates:function(o){t.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer.");var l=this.imageToViewerElementCoordinates(o);return l.plus(t.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(o){return this.pointFromPixel(o,!0)},viewportToViewerElementCoordinates:function(o){return this.pixelFromPoint(o,!0)},viewerElementToViewportRectangle:function(o){return t.Rect.fromSummits(this.pointFromPixel(o.getTopLeft(),!0),this.pointFromPixel(o.getTopRight(),!0),this.pointFromPixel(o.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(o){return t.Rect.fromSummits(this.pixelFromPoint(o.getTopLeft(),!0),this.pixelFromPoint(o.getTopRight(),!0),this.pixelFromPoint(o.getBottomLeft(),!0))},windowToViewportCoordinates:function(o){t.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var l=o.minus(t.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(l)},viewportToWindowCoordinates:function(o){t.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer.");var l=this.viewportToViewerElementCoordinates(o);return l.plus(t.getElementPosition(this.viewer.element))},viewportToImageZoom:function(o){if(this.viewer){var l=this.viewer.world.getItemCount();if(l>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(l===1){var u=this.viewer.world.getItemAt(0);return u.viewportToImageZoom(o)}}var d=this._contentSizeNoRotate.x,f=this._containerInnerSize.x,m=this._contentBoundsNoRotate.width,v=f/d*m;return o*v},imageToViewportZoom:function(o){if(this.viewer){var l=this.viewer.world.getItemCount();if(l>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(l===1){var u=this.viewer.world.getItemAt(0);return u.imageToViewportZoom(o)}}var d=this._contentSizeNoRotate.x,f=this._containerInnerSize.x,m=this._contentBoundsNoRotate.width,v=d/f/m;return o*v},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(o){return this.flipped===o?this:(this.flipped=o,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:o}),this)}}}(r),function(t){t.TiledImage=function(f){var m=this;t.console.assert(f.tileCache,"[TiledImage] options.tileCache is required"),t.console.assert(f.drawer,"[TiledImage] options.drawer is required"),t.console.assert(f.viewer,"[TiledImage] options.viewer is required"),t.console.assert(f.imageLoader,"[TiledImage] options.imageLoader is required"),t.console.assert(f.source,"[TiledImage] options.source is required"),t.console.assert(!f.clip||f.clip instanceof t.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),t.EventSource.call(this),this._tileCache=f.tileCache,delete f.tileCache,this._drawer=f.drawer,delete f.drawer,this._imageLoader=f.imageLoader,delete f.imageLoader,f.clip instanceof t.Rect&&(this._clip=f.clip.clone()),delete f.clip;var v=f.x||0;delete f.x;var _=f.y||0;delete f.y,this.normHeight=f.source.dimensions.y/f.source.dimensions.x,this.contentAspectX=f.source.dimensions.x/f.source.dimensions.y;var k=1;f.width?(k=f.width,delete f.width,f.height&&(t.console.error("specifying both width and height to a tiledImage is not supported"),delete f.height)):f.height&&(k=f.height/this.normHeight,delete f.height);var C=f.fitBounds;delete f.fitBounds;var M=f.fitBoundsPlacement||r.Placement.CENTER;delete f.fitBoundsPlacement;var A=f.degrees||0;delete f.degrees,t.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:t.DEFAULT_SETTINGS.springStiffness,animationTime:t.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:t.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:t.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:t.DEFAULT_SETTINGS.wrapVertical,immediateRender:t.DEFAULT_SETTINGS.immediateRender,blendTime:t.DEFAULT_SETTINGS.blendTime,alwaysBlend:t.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:t.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:t.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:t.DEFAULT_SETTINGS.iOSDevice,debugMode:t.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:t.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:t.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:t.DEFAULT_SETTINGS.placeholderFillStyle,opacity:t.DEFAULT_SETTINGS.opacity,preload:t.DEFAULT_SETTINGS.preload,compositeOperation:t.DEFAULT_SETTINGS.compositeOperation,subPixelRoundingForTransparency:t.DEFAULT_SETTINGS.subPixelRoundingForTransparency},f),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new t.Spring({initial:v,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new t.Spring({initial:_,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new t.Spring({initial:k,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new t.Spring({initial:A,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),C&&this.fitBounds(C,M,!0),this._drawingHandler=function(F){m.viewer.raiseEvent("tile-drawing",t.extend({tiledImage:m},F))}},t.extend(t.TiledImage.prototype,t.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(f){f!==this._fullyLoaded&&(this._fullyLoaded=f,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=t.now(),this._needsDraw=!0},update:function(){var f=this._xSpring.update(),m=this._ySpring.update(),v=this._scaleSpring.update(),_=this._degreesSpring.update();return f||m||v||_?(this._updateForScale(),this._needsDraw=!0,!0):!1},draw:function(){this.opacity!==0||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset(),this.source.destroy&&this.source.destroy()},getBounds:function(f){return this.getBoundsNoRotate(f).rotate(this.getRotation(f),this._getRotationPoint(f))},getBoundsNoRotate:function(f){return f?new t.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new t.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return t.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(f){var m=this.getBoundsNoRotate(f);if(this._clip){var v=f?this._worldWidthCurrent:this._worldWidthTarget,_=v/this.source.dimensions.x,k=this._clip.times(_);m=new t.Rect(m.x+k.x,m.y+k.y,k.width,k.height)}return m.rotate(this.getRotation(f),this._getRotationPoint(f))},getTileBounds:function(f,m,v){var _=this.source.getNumTiles(f),k=(_.x+m%_.x)%_.x,C=(_.y+v%_.y)%_.y,M=this.source.getTileBounds(f,k,C);return this.getFlip()&&(M.x=1-M.x-M.width),M.x+=(m-k)/_.x,M.y+=this._worldHeightCurrent/this._worldWidthCurrent*((v-C)/_.y),M},getContentSize:function(){return new t.Point(this.source.dimensions.x,this.source.dimensions.y)},getSizeInWindowCoordinates:function(){var f=this.imageToWindowCoordinates(new t.Point(0,0)),m=this.imageToWindowCoordinates(this.getContentSize());return new t.Point(m.x-f.x,m.y-f.y)},_viewportToImageDelta:function(f,m,v){var _=v?this._scaleSpring.current.value:this._scaleSpring.target.value;return new t.Point(f*(this.source.dimensions.x/_),m*(this.source.dimensions.y*this.contentAspectX/_))},viewportToImageCoordinates:function(f,m,v){var _;return f instanceof t.Point?(v=m,_=f):_=new t.Point(f,m),_=_.rotate(-this.getRotation(v),this._getRotationPoint(v)),v?this._viewportToImageDelta(_.x-this._xSpring.current.value,_.y-this._ySpring.current.value):this._viewportToImageDelta(_.x-this._xSpring.target.value,_.y-this._ySpring.target.value)},_imageToViewportDelta:function(f,m,v){var _=v?this._scaleSpring.current.value:this._scaleSpring.target.value;return new t.Point(f/this.source.dimensions.x*_,m/this.source.dimensions.y/this.contentAspectX*_)},imageToViewportCoordinates:function(f,m,v){f instanceof t.Point&&(v=m,m=f.y,f=f.x);var _=this._imageToViewportDelta(f,m);return v?(_.x+=this._xSpring.current.value,_.y+=this._ySpring.current.value):(_.x+=this._xSpring.target.value,_.y+=this._ySpring.target.value),_.rotate(this.getRotation(v),this._getRotationPoint(v))},imageToViewportRectangle:function(f,m,v,_,k){var C=f;C instanceof t.Rect?k=m:C=new t.Rect(f,m,v,_);var M=this.imageToViewportCoordinates(C.getTopLeft(),k),A=this._imageToViewportDelta(C.width,C.height,k);return new t.Rect(M.x,M.y,A.x,A.y,C.degrees+this.getRotation(k))},viewportToImageRectangle:function(f,m,v,_,k){var C=f;f instanceof t.Rect?k=m:C=new t.Rect(f,m,v,_);var M=this.viewportToImageCoordinates(C.getTopLeft(),k),A=this._viewportToImageDelta(C.width,C.height,k);return new t.Rect(M.x,M.y,A.x,A.y,C.degrees-this.getRotation(k))},viewerElementToImageCoordinates:function(f){var m=this.viewport.pointFromPixel(f,!0);return this.viewportToImageCoordinates(m)},imageToViewerElementCoordinates:function(f){var m=this.imageToViewportCoordinates(f);return this.viewport.pixelFromPoint(m,!0)},windowToImageCoordinates:function(f){var m=f.minus(r.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(m)},imageToWindowCoordinates:function(f){var m=this.imageToViewerElementCoordinates(f);return m.plus(r.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(f){var m=this._scaleSpring.current.value;return f=f.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new t.Rect((f.x-this._xSpring.current.value)/m,(f.y-this._ySpring.current.value)/m,f.width/m,f.height/m,f.degrees)},viewportToImageZoom:function(f){var m=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return m*f},imageToViewportZoom:function(f){var m=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return f/m},setPosition:function(f,m){var v=this._xSpring.target.value===f.x&&this._ySpring.target.value===f.y;if(m){if(v&&this._xSpring.current.value===f.x&&this._ySpring.current.value===f.y)return;this._xSpring.resetTo(f.x),this._ySpring.resetTo(f.y),this._needsDraw=!0}else{if(v)return;this._xSpring.springTo(f.x),this._ySpring.springTo(f.y),this._needsDraw=!0}v||this._raiseBoundsChange()},setWidth:function(f,m){this._setScale(f,m)},setHeight:function(f,m){this._setScale(f/this.normHeight,m)},setCroppingPolygons:function(f){var m=function(_){return _ instanceof t.Point||typeof _.x=="number"&&typeof _.y=="number"},v=function(_){return _.map(function(k){try{if(m(k))return{x:k.x,y:k.y};throw new Error}catch{throw new Error("A Provided cropping polygon point is not supported")}})};try{if(!t.isArray(f))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=f.map(function(_){return v(_)})}catch(_){t.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),t.console.error(_),this._croppingPolygons=null}},resetCroppingPolygons:function(){this._croppingPolygons=null},fitBounds:function(f,m,v){m=m||t.Placement.CENTER;var _=t.Placement.properties[m],k=this.contentAspectX,C=0,M=0,A=1,F=1;if(this._clip&&(k=this._clip.getAspectRatio(),A=this._clip.width/this.source.dimensions.x,F=this._clip.height/this.source.dimensions.y,f.getAspectRatio()>k?(C=this._clip.x/this._clip.height*f.height,M=this._clip.y/this._clip.height*f.height):(C=this._clip.x/this._clip.width*f.width,M=this._clip.y/this._clip.width*f.width)),f.getAspectRatio()>k){var U=f.height/F,j=0;_.isHorizontallyCentered?j=(f.width-f.height*k)/2:_.isRight&&(j=f.width-f.height*k),this.setPosition(new t.Point(f.x-C+j,f.y-M),v),this.setHeight(U,v)}else{var J=f.width/A,H=0;_.isVerticallyCentered?H=(f.height-f.width/k)/2:_.isBottom&&(H=f.height-f.width/k),this.setPosition(new t.Point(f.x-C,f.y-M+H),v),this.setWidth(J,v)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(f){t.console.assert(!f||f instanceof t.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),f instanceof t.Rect?this._clip=f.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getFlip:function(){return!!this.flipped},setFlip:function(f){this.flipped=!!f,this._needsDraw=!0,this._raiseBoundsChange()},getOpacity:function(){return this.opacity},setOpacity:function(f){f!==this.opacity&&(this.opacity=f,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(f){this._preload=!!f,this._needsDraw=!0},getRotation:function(f){return f?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(f,m){this._degreesSpring.target.value===f&&this._degreesSpring.isAtTargetValue()||(m?this._degreesSpring.resetTo(f):this._degreesSpring.springTo(f),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(f){return this.getBoundsNoRotate(f).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(f){f!==this.compositeOperation&&(this.compositeOperation=f,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(f,m){var v=this._scaleSpring.target.value===f;if(m){if(v&&this._scaleSpring.current.value===f)return;this._scaleSpring.resetTo(f),this._updateForScale(),this._needsDraw=!0}else{if(v)return;this._scaleSpring.springTo(f),this._updateForScale(),this._needsDraw=!0}v||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var f=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),m=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,v=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(m/this.minPixelRatio)/Math.log(2))));return v=Math.max(v,this.source.minLevel||0),f=Math.min(f,v),{lowestLevel:f,highestLevel:v}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;){var f=this.lastDrawn.pop();f.beingDrawn=!1}var m=this.viewport,v=this._viewportToTiledImageRectangle(m.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var _=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(v=v.intersection(_),v===null)return}for(var k=this._getLevelsInterval(),C=k.lowestLevel,M=k.highestLevel,A=null,F=!1,U=t.now(),j=M;j>=C;j--){var J=!1,H=m.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(j),!0).x*this._scaleSpring.current.value;if(j===C||!F&&H>=this.minPixelRatio)J=!0,F=!0;else if(!F)continue;var V=m.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(j),!1).x*this._scaleSpring.current.value,ot=m.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,ft=this.immediateRender?1:ot,ht=Math.min(1,(H-.5)/.5),ct=ft/Math.abs(ft-V);if(A=this._updateLevel(F,J,j,ht,ct,v,U,A),this._providesCoverage(this.coverage,j))break}this._drawTiles(this.lastDrawn),A&&!A.context2D?(this._loadTile(A,U),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(this._tilesLoading===0)},_getCornerTiles:function(f,m,v){var _,k;this.wrapHorizontal?(_=t.positiveModulo(m.x,1),k=t.positiveModulo(v.x,1)):(_=Math.max(0,m.x),k=Math.min(1,v.x));var C,M,A=1/this.source.aspectRatio;this.wrapVertical?(C=t.positiveModulo(m.y,A),M=t.positiveModulo(v.y,A)):(C=Math.max(0,m.y),M=Math.min(A,v.y));var F=this.source.getTileAtPoint(f,new t.Point(_,C)),U=this.source.getTileAtPoint(f,new t.Point(k,M)),j=this.source.getNumTiles(f);return this.wrapHorizontal&&(F.x+=j.x*Math.floor(m.x),U.x+=j.x*Math.floor(v.x)),this.wrapVertical&&(F.y+=j.y*Math.floor(m.y/A),U.y+=j.y*Math.floor(v.y/A)),{topLeft:F,bottomRight:U}},_updateLevel:function(f,m,v,_,k,C,M,A){var F=C.getBoundingBox().getTopLeft(),U=C.getBoundingBox().getBottomRight();this.viewer&&this.viewer.raiseEvent("update-level",{tiledImage:this,havedrawn:f,level:v,opacity:_,visibility:k,drawArea:C,topleft:F,bottomright:U,currenttime:M,best:A}),this._resetCoverage(this.coverage,v),this._resetCoverage(this.loadingCoverage,v);var j=this._getCornerTiles(v,F,U),J=j.topLeft,H=j.bottomRight,V=this.source.getNumTiles(v),ot=this.viewport.pixelFromPoint(this.viewport.getCenter());this.getFlip()&&(H.x+=1,this.wrapHorizontal||(H.x=Math.min(H.x,V.x-1)));for(var ft=J.x;ft<=H.x;ft++)for(var ht=J.y;ht<=H.y;ht++){var ct;if(this.getFlip()){var Z=(V.x+ft%V.x)%V.x;ct=ft+V.x-Z-Z-1}else ct=ft;C.intersection(this.getTileBounds(v,ct,ht))!==null&&(A=this._updateTile(m,f,ct,ht,v,_,k,ot,V,M,A))}return A},_updateTile:function(f,m,v,_,k,C,M,A,F,U,j){var J=this._getTile(v,_,k,U,F,this._worldWidthCurrent,this._worldHeightCurrent),H=m;this.viewer&&this.viewer.raiseEvent("update-tile",{tiledImage:this,tile:J}),this._setCoverage(this.coverage,k,v,_,!1);var V=J.loaded||J.loading||this._isCovered(this.loadingCoverage,k,v,_);if(this._setCoverage(this.loadingCoverage,k,v,_,V),!J.exists||(f&&!H&&(this._isCovered(this.coverage,k,v,_)?this._setCoverage(this.coverage,k,v,_,!0):H=!0),!H))return j;if(this._positionTile(J,this.source.tileOverlap,this.viewport,A,M),!J.loaded)if(J.context2D)this._setTileLoaded(J);else{var ot=this._tileCache.getImageRecord(J.cacheKey);ot&&this._setTileLoaded(J,ot.getData())}if(J.loaded){var ft=this._blendTile(J,v,_,k,C,U);ft&&(this._needsDraw=!0)}else J.loading?this._tilesLoading++:V||(j=this._compareTiles(j,J));return j},_getTile:function(f,m,v,_,k,C,M){var A,F,U,j,J,H,V,ot,ft,ht,ct=this.tilesMatrix,Z=this.source;return ct[v]||(ct[v]={}),ct[v][f]||(ct[v][f]={}),(!ct[v][f][m]||!ct[v][f][m].flipped!=!this.flipped)&&(A=(k.x+f%k.x)%k.x,F=(k.y+m%k.y)%k.y,U=this.getTileBounds(v,f,m),j=Z.getTileBounds(v,A,F,!0),J=Z.tileExists(v,A,F),H=Z.getTileUrl(v,A,F),V=Z.getTilePostData(v,A,F),this.loadTilesWithAjax?(ot=Z.getTileAjaxHeaders(v,A,F),t.isPlainObject(this.ajaxHeaders)&&(ot=t.extend({},this.ajaxHeaders,ot))):ot=null,ft=Z.getContext2D?Z.getContext2D(v,A,F):void 0,ht=new t.Tile(v,f,m,U,J,H,ft,this.loadTilesWithAjax,ot,j,V,Z.getTileHashKey(v,A,F,H,ot,V)),this.getFlip()?A===0&&(ht.isRightMost=!0):A===k.x-1&&(ht.isRightMost=!0),F===k.y-1&&(ht.isBottomMost=!0),ht.flipped=this.flipped,ct[v][f][m]=ht),ht=ct[v][f][m],ht.lastTouchTime=_,ht},_loadTile:function(f,m){var v=this;f.loading=!0,this._imageLoader.addJob({src:f.getUrl(),tile:f,source:this.source,postData:f.postData,loadWithAjax:f.loadWithAjax,ajaxHeaders:f.ajaxHeaders,crossOriginPolicy:this.crossOriginPolicy,ajaxWithCredentials:this.ajaxWithCredentials,callback:function(_,k,C){v._onTileLoad(f,m,_,k,C)},abort:function(){f.loading=!1}})},_onTileLoad:function(f,m,v,_,k){if(!v){t.console.error("Tile %s failed to load: %s - error: %s",f,f.getUrl(),_),this.viewer.raiseEvent("tile-load-failed",{tile:f,tiledImage:this,time:m,message:_,tileRequest:k}),f.loading=!1,f.exists=!1;return}if(m<this.lastResetTime){t.console.warn("Ignoring tile %s loaded before reset: %s",f,f.getUrl()),f.loading=!1;return}var C=this,M=function(){var A=C.source,F=A.getClosestLevel();C._setTileLoaded(f,v,F,k)};this._midDraw?window.setTimeout(M,1):M()},_setTileLoaded:function(f,m,v,_){var k=0,C=this;function M(){return k++,A}function A(){k--,k===0&&(f.loading=!1,f.loaded=!0,f.hasTransparency=C.source.hasTransparency(f.context2D,f.getUrl(),f.ajaxHeaders,f.postData),f.context2D||C._tileCache.cacheTile({data:m,tile:f,cutoff:v,tiledImage:C}),C._needsDraw=!0)}this.viewer.raiseEvent("tile-loaded",{tile:f,tiledImage:this,tileRequest:_,get image(){return t.console.error("[tile-loaded] event 'image' has been deprecated. Use 'data' property instead."),m},data:m,getCompletionCallback:M}),M()()},_positionTile:function(f,m,v,_,k){var C=f.bounds.getTopLeft();C.x*=this._scaleSpring.current.value,C.y*=this._scaleSpring.current.value,C.x+=this._xSpring.current.value,C.y+=this._ySpring.current.value;var M=f.bounds.getSize();M.x*=this._scaleSpring.current.value,M.y*=this._scaleSpring.current.value;var A=v.pixelFromPointNoRotate(C,!0),F=v.pixelFromPointNoRotate(C,!1),U=v.deltaPixelsFromPointsNoRotate(M,!0),j=v.deltaPixelsFromPointsNoRotate(M,!1),J=F.plus(j.divide(2)),H=_.squaredDistanceTo(J);m||(U=U.plus(new t.Point(1,1))),f.isRightMost&&this.wrapHorizontal&&(U.x+=.75),f.isBottomMost&&this.wrapVertical&&(U.y+=.75),f.position=A,f.size=U,f.squaredDistance=H,f.visibility=k},_blendTile:function(f,m,v,_,k,C){var M=1e3*this.blendTime,A,F;if(f.blendStart||(f.blendStart=C),A=C-f.blendStart,F=M?Math.min(1,A/M):1,this.alwaysBlend&&(F*=k),f.opacity=F,this.lastDrawn.push(f),F===1)this._setCoverage(this.coverage,_,m,v,!0),this._hasOpaqueTile=!0;else if(A<M)return!0;return!1},_compareTiles:function(f,m){return!f||m.visibility>f.visibility||m.visibility===f.visibility&&m.squaredDistance<f.squaredDistance?m:f},_drawTiles:function(f){if(!(this.opacity===0||f.length===0&&!this.placeholderFillStyle)){var m=f[0],v;m&&(v=this.opacity<1||this.compositeOperation&&this.compositeOperation!=="source-over"||!this._isBottomItem()&&this.source.hasTransparency(m.context2D,m.getUrl(),m.ajaxHeaders,m.postData));var _,k,C=this.viewport.getZoom(!0),M=this.viewportToImageZoom(C);f.length>1&&M>this.smoothTileEdgesMinZoom&&!this.iOSDevice&&this.getRotation(!0)%360===0&&t.supportsCanvas&&this.viewer.useCanvas&&(v=!0,_=m.getScaleForEdgeSmoothing(),k=m.getTranslationForEdgeSmoothing(_,this._drawer.getCanvasSize(!1),this._drawer.getCanvasSize(!0)));var A;v&&(_||(A=this.viewport.viewportToViewerElementRectangle(this.getClippedBounds(!0)).getIntegerBoundingBox(),this._drawer.viewer.viewport.getFlip()&&(this.viewport.getRotation(!0)%360!==0||this.getRotation(!0)%360!==0)&&(A.x=this._drawer.viewer.container.clientWidth-(A.x+A.width)),A=A.times(t.pixelDensityRatio)),this._drawer._clear(!0,A)),_||(this.viewport.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.viewport.getRotation(!0),useSketch:v}),this.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(this._getRotationPoint(!0),!0),useSketch:v}),this.viewport.getRotation(!0)%360===0&&this.getRotation(!0)%360===0&&this._drawer.viewer.viewport.getFlip()&&this._drawer._flip());var F=!1;if(this._clip){this._drawer.saveContext(v);var U=this.imageToViewportRectangle(this._clip,!0);U=U.rotate(-this.getRotation(!0),this._getRotationPoint(!0));var j=this._drawer.viewportToDrawerRectangle(U);_&&(j=j.times(_)),k&&(j=j.translate(k)),this._drawer.setClip(j,v),F=!0}if(this._croppingPolygons){var J=this;this._drawer.saveContext(v);try{var H=this._croppingPolygons.map(function(lt){return lt.map(function(ut){var mt=J.imageToViewportCoordinates(ut.x,ut.y,!0).rotate(-J.getRotation(!0),J._getRotationPoint(!0)),re=J._drawer.viewportCoordToDrawerCoord(mt);return _&&(re=re.times(_)),re})});this._drawer.clipWithPolygons(H,v)}catch(lt){t.console.error(lt)}F=!0}if(this.placeholderFillStyle&&this._hasOpaqueTile===!1){var V=this._drawer.viewportToDrawerRectangle(this.getBounds(!0));_&&(V=V.times(_)),k&&(V=V.translate(k));var ot=null;typeof this.placeholderFillStyle=="function"?ot=this.placeholderFillStyle(this,this._drawer.context):ot=this.placeholderFillStyle,this._drawer.drawRectangle(V,ot,v)}var ft=d(this.subPixelRoundingForTransparency),ht=!1;if(ft===t.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS)ht=!0;else if(ft===t.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST){var ct=this.viewer&&this.viewer.isAnimating();ht=!ct}for(var Z=f.length-1;Z>=0;Z--)m=f[Z],this._drawer.drawTile(m,this._drawingHandler,v,_,k,ht,this.source),m.beingDrawn=!0,this.viewer&&this.viewer.raiseEvent("tile-drawn",{tiledImage:this,tile:m});F&&this._drawer.restoreContext(v),_||(this.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(v),this.viewport.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(v)),v&&(_&&(this.viewport.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.viewport.getRotation(!0),useSketch:!1}),this.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(this._getRotationPoint(!0),!0),useSketch:!1})),this._drawer.blendSketch({opacity:this.opacity,scale:_,translate:k,compositeOperation:this.compositeOperation,bounds:A}),_&&(this.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(!1),this.viewport.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(!1))),_||this.viewport.getRotation(!0)%360===0&&this.getRotation(!0)%360===0&&this._drawer.viewer.viewport.getFlip()&&this._drawer._flip(),this._drawDebugInfo(f)}},_drawDebugInfo:function(f){if(this.debugMode)for(var m=f.length-1;m>=0;m--){var v=f[m];try{this._drawer.drawDebugInfo(v,f.length,m,this)}catch(_){t.console.error(_)}}},_providesCoverage:function(f,m,v,_){var k,C,M,A;if(!f[m])return!1;if(v===void 0||_===void 0){k=f[m];for(M in k)if(Object.prototype.hasOwnProperty.call(k,M)){C=k[M];for(A in C)if(Object.prototype.hasOwnProperty.call(C,A)&&!C[A])return!1}return!0}return f[m][v]===void 0||f[m][v][_]===void 0||f[m][v][_]===!0},_isCovered:function(f,m,v,_){return v===void 0||_===void 0?this._providesCoverage(f,m+1):this._providesCoverage(f,m+1,2*v,2*_)&&this._providesCoverage(f,m+1,2*v,2*_+1)&&this._providesCoverage(f,m+1,2*v+1,2*_)&&this._providesCoverage(f,m+1,2*v+1,2*_+1)},_setCoverage:function(f,m,v,_,k){if(!f[m]){t.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",m);return}f[m][v]||(f[m][v]={}),f[m][v][_]=k},_resetCoverage:function(f,m){f[m]={}}});var o=t.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER;function l(f){return f!==t.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS&&f!==t.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST&&f!==t.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER}function u(f){return l(f)?o:f}function d(f){if(typeof f=="number")return u(f);if(!f||!t.Browser)return o;var m=f[t.Browser.vendor];return l(m)&&(m=f["*"]),u(m)}}(r),function(t){var o=function(u){t.console.assert(u,"[TileCache.cacheTile] options is required"),t.console.assert(u.tile,"[TileCache.cacheTile] options.tile is required"),t.console.assert(u.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=u.tile,this.tiledImage=u.tiledImage},l=function(u){t.console.assert(u,"[ImageRecord] options is required"),t.console.assert(u.data,"[ImageRecord] options.data is required"),this._tiles=[],u.create.apply(null,[this,u.data,u.ownerTile]),this._destroyImplementation=u.destroy.bind(null,this),this.getImage=u.getImage.bind(null,this),this.getData=u.getData.bind(null,this),this.getRenderedContext=u.getRenderedContext.bind(null,this)};l.prototype={destroy:function(){this._destroyImplementation(),this._tiles=null},addTile:function(u){t.console.assert(u,"[ImageRecord.addTile] tile is required"),this._tiles.push(u)},removeTile:function(u){for(var d=0;d<this._tiles.length;d++)if(this._tiles[d]===u){this._tiles.splice(d,1);return}t.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",u)},getTileCount:function(){return this._tiles.length}},t.TileCache=function(u){u=u||{},this._maxImageCacheCount=u.maxImageCacheCount||t.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},t.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(u){t.console.assert(u,"[TileCache.cacheTile] options is required"),t.console.assert(u.tile,"[TileCache.cacheTile] options.tile is required"),t.console.assert(u.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),t.console.assert(u.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var d=u.cutoff||0,f=this._tilesLoaded.length,m=this._imagesLoaded[u.tile.cacheKey];if(m||(u.data||(t.console.error("[TileCache.cacheTile] options.image was renamed to options.data. '.image' attribute has been deprecated and will be removed in the future."),u.data=u.image),t.console.assert(u.data,"[TileCache.cacheTile] options.data is required to create an ImageRecord"),m=this._imagesLoaded[u.tile.cacheKey]=new l({data:u.data,ownerTile:u.tile,create:u.tiledImage.source.createTileCache,destroy:u.tiledImage.source.destroyTileCache,getImage:u.tiledImage.source.getTileCacheDataAsImage,getData:u.tiledImage.source.getTileCacheData,getRenderedContext:u.tiledImage.source.getTileCacheDataAsContext2D}),this._imagesLoadedCount++),m.addTile(u.tile),u.tile.cacheImageRecord=m,this._imagesLoadedCount>this._maxImageCacheCount){for(var v=null,_=-1,k=null,C,M,A,F,U,j,J=this._tilesLoaded.length-1;J>=0;J--)if(j=this._tilesLoaded[J],C=j.tile,!(C.level<=d||C.beingDrawn)){if(!v){v=C,_=J,k=j;continue}F=C.lastTouchTime,M=v.lastTouchTime,U=C.level,A=v.level,(F<M||F===M&&U>A)&&(v=C,_=J,k=j)}v&&_>=0&&(this._unloadTile(k),f=_)}this._tilesLoaded[f]=new o({tile:u.tile,tiledImage:u.tiledImage})},clearTilesFor:function(u){t.console.assert(u,"[TileCache.clearTilesFor] tiledImage is required");for(var d,f=0;f<this._tilesLoaded.length;++f)d=this._tilesLoaded[f],d.tiledImage===u&&(this._unloadTile(d),this._tilesLoaded.splice(f,1),f--)},getImageRecord:function(u){return t.console.assert(u,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[u]},_unloadTile:function(u){t.console.assert(u,"[TileCache._unloadTile] tileRecord is required");var d=u.tile,f=u.tiledImage;d.unload(),d.cacheImageRecord=null;var m=this._imagesLoaded[d.cacheKey];m.removeTile(d),m.getTileCount()||(m.destroy(),delete this._imagesLoaded[d.cacheKey],this._imagesLoadedCount--),f.viewer.raiseEvent("tile-unloaded",{tile:d,tiledImage:f})}}}(r),function(t){t.World=function(o){var l=this;t.console.assert(o.viewer,"[World] options.viewer is required"),t.EventSource.call(this),this.viewer=o.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(u){l._autoRefigureSizes?l._figureSizes():l._needsSizesFigured=!0},this._figureSizes()},t.extend(t.World.prototype,t.EventSource.prototype,{addItem:function(o,l){if(t.console.assert(o,"[World.addItem] item is required"),t.console.assert(o instanceof t.TiledImage,"[World.addItem] only TiledImages supported at this time"),l=l||{},l.index!==void 0){var u=Math.max(0,Math.min(this._items.length,l.index));this._items.splice(u,0,o)}else this._items.push(o);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,o.addHandler("bounds-change",this._delegatedFigureSizes),o.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:o})},getItemAt:function(o){return t.console.assert(o!==void 0,"[World.getItemAt] index is required"),this._items[o]},getIndexOfItem:function(o){return t.console.assert(o,"[World.getIndexOfItem] item is required"),t.indexOf(this._items,o)},getItemCount:function(){return this._items.length},setItemIndex:function(o,l){t.console.assert(o,"[World.setItemIndex] item is required"),t.console.assert(l!==void 0,"[World.setItemIndex] index is required");var u=this.getIndexOfItem(o);if(l>=this._items.length)throw new Error("Index bigger than number of layers.");l===u||u===-1||(this._items.splice(u,1),this._items.splice(l,0,o),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:o,previousIndex:u,newIndex:l}))},removeItem:function(o){t.console.assert(o,"[World.removeItem] item is required");var l=t.indexOf(this._items,o);l!==-1&&(o.removeHandler("bounds-change",this._delegatedFigureSizes),o.removeHandler("clip-change",this._delegatedFigureSizes),o.destroy(),this._items.splice(l,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(o))},removeAll:function(){this.viewer._cancelPendingImages();var o,l;for(l=0;l<this._items.length;l++)o=this._items[l],o.removeHandler("bounds-change",this._delegatedFigureSizes),o.removeHandler("clip-change",this._delegatedFigureSizes),o.destroy();var u=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,l=0;l<u.length;l++)o=u[l],this._raiseRemoveItem(o)},resetItems:function(){for(var o=0;o<this._items.length;o++)this._items[o].reset()},update:function(){for(var o=!1,l=0;l<this._items.length;l++)o=this._items[l].update()||o;return o},draw:function(){for(var o=0;o<this._items.length;o++)this._items[o].draw();this._needsDraw=!1},needsDraw:function(){for(var o=0;o<this._items.length;o++)if(this._items[o].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(o){this._autoRefigureSizes=o,o&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(o){o=o||{};var l=o.immediately||!1,u=o.layout||t.DEFAULT_SETTINGS.collectionLayout,d=o.rows||t.DEFAULT_SETTINGS.collectionRows,f=o.columns||t.DEFAULT_SETTINGS.collectionColumns,m=o.tileSize||t.DEFAULT_SETTINGS.collectionTileSize,v=o.tileMargin||t.DEFAULT_SETTINGS.collectionTileMargin,_=m+v,k;!o.rows&&f?k=f:k=Math.ceil(this._items.length/d);var C=0,M=0,A,F,U,j,J;this.setAutoRefigureSizes(!1);for(var H=0;H<this._items.length;H++)H&&H%k===0&&(u==="horizontal"?(M+=_,C=0):(C+=_,M=0)),A=this._items[H],F=A.getBounds(),F.width>F.height?U=m:U=m*(F.width/F.height),j=U*(F.height/F.width),J=new t.Point(C+(m-U)/2,M+(m-j)/2),A.setPosition(J,l),A.setWidth(U,l),u==="horizontal"?C+=_:M+=_;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var o=this._homeBounds?this._homeBounds.clone():null,l=this._contentSize?this._contentSize.clone():null,u=this._contentFactor||0;if(!this._items.length)this._homeBounds=new t.Rect(0,0,1,1),this._contentSize=new t.Point(1,1),this._contentFactor=1;else{var d=this._items[0],f=d.getBounds();this._contentFactor=d.getContentSize().x/f.width;for(var m=d.getClippedBounds().getBoundingBox(),v=m.x,_=m.y,k=m.x+m.width,C=m.y+m.height,M=1;M<this._items.length;M++)d=this._items[M],f=d.getBounds(),this._contentFactor=Math.max(this._contentFactor,d.getContentSize().x/f.width),m=d.getClippedBounds().getBoundingBox(),v=Math.min(v,m.x),_=Math.min(_,m.y),k=Math.max(k,m.x+m.width),C=Math.max(C,m.y+m.height);this._homeBounds=new t.Rect(v,_,k-v,C-_),this._contentSize=new t.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}(this._contentFactor!==u||!this._homeBounds.equals(o)||!this._contentSize.equals(l))&&this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(o){this.raiseEvent("remove-item",{item:o})}})}(r)})(NC);var FD=NC.exports;const BD=zC(FD),jD=["aria-label","alt"],HD={key:1,class:"group relative h-10 p-2"},UD=["innerHTML"],GD=["innerHTML"],qD=["manifest"],VD=ms({__name:"Image.ce",props:{caption:{type:String},cover:{type:Boolean,default:!1},data:{type:String},fit:{type:String,default:"contain"},height:{type:Number},noCaption:{type:Boolean,default:!1},src:{type:String,required:!0},width:{type:Number}},setup(n){const r=n,t=Ne(null),o=Ne(null),l=Vr(()=>{var Wt,Et;return(Et=(Wt=t.value)==null?void 0:Wt.getRootNode())==null?void 0:Et.host}),u=Vr(()=>{var Wt;return(Wt=t==null?void 0:t.value)==null?void 0:Wt.parentNode});ri(u,Wt=>{Wt.children[1].classList.remove("sticky")});const d=Ne();ri(d,()=>{ct()});const f=Ne(),m=Vr(()=>{var Wt,Et;return Number(((((Wt=f.value)==null?void 0:Wt.width)||1)/(((Et=f.value)==null?void 0:Et.height)||1)).toFixed(4))});ri(m,()=>{ct(),o.value&&Z()}),ri(o,()=>{var Wt;o.value&&(r.width?((Wt=t.value)==null||Wt.setAttribute("style",`width: ${r.width}px;margin: auto`),d.value=r.width):new ResizeObserver(()=>{var Et;d.value=(Et=o.value)==null?void 0:Et.clientWidth}).observe(o.value),f.value&&Z())}),ri(r,()=>{U()});const v=Ne(),_=Ne(),k=Ne();ri(k,()=>{H(k.value)});function C(Wt){if(/upload\.wikimedia\.org/.test(Wt)){let Et=Wt.split("/"),qt=Et[5]==="thumb"?Et[8]:Et[7];k.value=`https://${hh}/wc:${qt.replace(/ /g,"_")}/manifest.json`}else k.value=/^http/.test(Wt)?Wt:/^\w+:/.test(Wt)?`https://${hh}/${Wt.replace(/ /g,"_")}/manifest.json`:Wt}const M=Ne(),A=Vr(()=>{var Wt,Et,qt;return r.caption||M.value&&((qt=(Et=(Wt=M.value)==null?void 0:Wt.label)==null?void 0:Et.en)==null?void 0:qt[0])}),F=Ne();function U(){C(r.src)}hu(()=>{U(),lt()});async function j(Wt){var qt;return Wt.indexOf("manifest.json")>0?!0:((qt=(await fetch(Wt,{method:"HEAD"})).headers.get("Content-Type"))==null?void 0:qt.indexOf("image"))===-1}async function J(Wt){let Et=await fetch("https://${iiifServer}/prezi2to3/",{method:"POST",body:JSON.stringify(Wt)});if(Et.ok)return(await Et).json()}async function H(Wt){if(await j(Wt)){let Et=await ft(Wt),qt=V({type:"Annotation",motivation:"painting"},Et).body;f.value={width:qt.width,height:qt.height},_.value=qt.service?`${qt.service[0].id||qt.service[0]["@id"]}/info.json`:{url:qt.id,type:"image",buildPyramid:!0}}else ht(Wt).then(Et=>{f.value=Et}),_.value={url:Wt,type:"image",buildPyramid:!0}}function V(Wt,Et,qt=1){const Zt=ot(Wt,Et);return Zt.length>=qt?Zt[qt-1]:null}function ot(Wt,Et,qt=[]){if(qt=qt||[],Et.items)for(let Zt=0;Zt<Et.items.length;Zt++){let fe=Et.items[Zt];!Object.entries(Wt).find(([le,ue])=>fe[le]&&fe[le]!==ue)?qt.push(fe):ot(Wt,fe,qt)}return qt}async function ft(Wt){let Et=await fetch(Wt);if(Et.ok){let qt=await Et.json();return M.value=parseFloat(qt["@context"].split("/").slice(-2,-1).pop())<3?await J(M):qt,M.value}}async function ht(Wt){return new Promise((Et,qt)=>{let Zt=new Image;Zt.onload=()=>Et({width:Zt.width,height:Zt.height}),Zt.onerror=()=>qt(),Zt.src=Wt})}function ct(){setTimeout(()=>{var Wt,Et;return(Et=(Wt=v.value)==null?void 0:Wt.viewport)==null?void 0:Et.goHome(!0)},100)}function Z(){if(!o.value)return;const Et={element:u.value.querySelector("#osd"),prefixUrl:"https://openseadragon.github.io/openseadragon/images/",tileSources:_.value,homeFillsViewer:r.cover||r.fit==="cover",maxZoomPixelRatio:10};v.value=BD(Et),v.value.addHandler("viewport-change",()=>pe()),setTimeout(()=>ye(),500)}function lt(){let Wt=l.value.parentElement;for(;Wt.parentElement&&Wt.tagName!=="MAIN";)Array.from(Wt.querySelectorAll("a")).forEach(Et=>{let Zt=new URL(Et.href).pathname.split("/").filter(Ce=>Ce),fe=Zt.indexOf("zoom");if(fe>=0&&Zt.length>fe+1&&ut(Et)){let le=Zt[fe+1];Et.classList.add("zoom"),Et.href="javascript:;",Et.setAttribute("data-region",le),Et.addEventListener("click",ue=>{let er=ue.target.getAttribute("data-region");er&&re(er)})}}),Wt=Wt.parentElement}function ut(Wt){function Et(qt){let Zt=qt.previousSibling;for(;Zt;){if(Zt.nodeName==="EZ-IMAGE")return Zt===l.value?Zt:null;Zt=Zt.previousSibling}}for(Et(Wt);Wt.parentElement&&Wt.tagName!=="BODY";){Wt=Wt.parentElement;let qt=Wt.querySelector(":scope ez-image");if(qt)return qt===l.value?qt:null}}let mt="";function re(Wt){var qt,Zt,fe;Wt=Wt.replace(/^zoom\|/i,"");const Et=Wt==null?void 0:Wt.match(/^(?<region>(pct:|pixel:|px:)?[\d.]+,[\d.]+,[\d.]+,[\d.]+)?$/);if(Et){let Ce=(qt=Et==null?void 0:Et.groups)==null?void 0:qt.region;Ce&&(mt===Ce?((Zt=v.value)==null||Zt.viewport.goHome(),mt=""):(mt=Ce,(fe=v.value)==null||fe.viewport.fitBounds(ne(Ce,v.value),!1)))}}function ne(Wt,Et){let qt;const Zt=Wt.split(":");let[fe,Ce,le,ue]=Zt[Zt.length-1].split(",").map(Ut=>parseInt(Ut));const er=Et.world.getItemAt(0).getContentSize();return Zt.length===2&&(Zt[0]==="pct"||Zt[0]==="percent")&&(fe=Math.round(er.x*fe/100),Ce=Math.round(er.y*Ce/100),le=Math.round(er.x*le/100),ue=Math.round(er.y*ue/100)),qt=Et.viewport.imageToViewportRectangle(fe,Ce,le,ue),qt}function ye(){var Et,qt;const Wt=(Et=v.value)==null?void 0:Et.world.getItemAt(0);if(Wt){let Zt=(qt=v.value)==null?void 0:qt.viewport.getBounds();const fe=Zt?Wt.viewportToImageRectangle(Zt):null;F.value=fe?`${Math.ceil(fe.x)},${Math.ceil(fe.y)},${Math.ceil(fe.width)},${Math.ceil(fe.height)}`:""}}let Bt=null;function pe(){Bt!==null&&(clearTimeout(Bt),Bt=null),Bt=window.setTimeout(()=>ye(),100)}function Jt(Wt){navigator.clipboard&&navigator.clipboard.writeText(Wt)}return(Wt,Et)=>(Oe(),De("div",{ref_key:"root",ref:t,class:"image flex relative rounded overflow-hidden shadow-lg"},[_.value?(Oe(),De("div",{key:0,ref_key:"osdEl",ref:o,id:"osd",class:"w-full",role:"img","aria-label":A.value,alt:A.value},null,8,jD)):gi("",!0),_.value&&A.value&&!n.noCaption?(Oe(),De("div",HD,[Qt("div",{class:"font-bold text-xl mb-2",innerHTML:A.value},null,8,UD),F.value?(Oe(),De("div",{key:0,class:"invisible group-hover:visible absolute pr-4 pl-4 pt-2 pb-2 mt-24 bottom-0 right-0 cursor-copy ml-4 bg-slate-100 text-black",innerHTML:F.value,onClick:Et[0]||(Et[0]=qt=>Jt(F.value||""))},null,8,GD)):gi("",!0)])):gi("",!0),M.value?(Oe(),De("ez-manifest-popup",{key:2,manifest:M.value},null,8,qD)):gi("",!0)],512))}}),WD=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}ez-header ul,ez-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}ez-manifest-popup{visibility:hidden;position:absolute;top:1em;right:1em;z-index:10}.image:hover ez-manifest-popup{visibility:visible;transition:all .5s ease-in}
`,ZD=Oa(VD,[["styles",[WD]]]),za=n=>($L("data-v-8cad8409"),n=n(),tR(),n),YD={class:"main"},XD=["src"],KD=["innerHTML"],JD=["innerHTML"],QD=["href","innerHTML"],$D={class:"links"},t4={class:"detail"},e4={key:0,class:"provider"},r4=za(()=>Qt("span",{class:"label"},"provider",-1)),i4={key:0,style:{display:"flex","align-items":"center"}},n4=["src"],o4=["href","innerHTML"],s4={key:1},a4=["src"],l4=["href","innerHTML"],c4={key:1,class:"requiredStatement"},u4=["innerHTML"],h4={key:2,class:"rights"},d4=za(()=>Qt("span",{class:"label"},"Reuse rights",-1)),p4=["href","innerHTML"],f4={key:3,class:"metadata"},g4=za(()=>Qt("span",{class:"label"},"metadata",-1)),m4=["innerHTML"],v4=["innerHTML"],y4={key:1},b4=["innerHTML"],w4={key:4,class:"navDate"},x4=za(()=>Qt("span",{class:"label"},"navDate",-1)),_4=["innerHTML"],k4={key:5,class:"homepage"},E4=za(()=>Qt("span",{class:"label"},"homepage",-1)),T4=["href","innerHTML"],S4={key:6,class:"seeAlso"},C4=za(()=>Qt("span",{class:"label"},"seeAlso",-1)),P4=["href","innerHTML"],M4={key:7,class:"logo"},I4=za(()=>Qt("span",{class:"label"},"logo",-1)),L4=["href","innerHTML"],R4={key:8,class:"imageData"},A4=za(()=>Qt("span",{class:"label"},"source",-1)),O4=["href","innerHTML"],z4=za(()=>Qt("span",{class:"label"},"format",-1)),N4=["innerHTML"],D4=za(()=>Qt("span",{class:"label"},"width",-1)),F4=["innerHTML"],B4=za(()=>Qt("span",{class:"label"},"height",-1)),j4=["innerHTML"],H4=ms({__name:"Manifest.ce",props:{manifest:{type:Object,required:!0}},setup(n){const r=n,t=Ne(null);Vr(()=>{var k,C;return(C=(k=t.value)==null?void 0:k.getRootNode())==null?void 0:C.host});const o=Ne(null),l=Ne(null);ri(o,()=>l.value=m(o.value));const u=Vr(()=>l.value&&_(l.value));hu(()=>d());function d(){typeof r.manifest=="object"?o.value=r.manifest:z0(r.manifest).then(k=>o.value=k)}function f(k,C="en"){return typeof k=="object"&&!Array.isArray(k)?k[C]||k.none||k[Object.keys(k).sort()[0]]:k}function m(k){let C={};if(C.id=f(k.id),C.label=f(k.label),k.summary&&(C.summary=f(k.summary)),k.rights&&(C.rights=k.rights),k.thumbnail&&(C.thumbnail=k.thumbnail[0].id||k.thumbnail),k.metadata){C.metadata=k.metadata.map(F=>({label:f(F.label)[0],value:f(F.value)}));let M=C.metadata.find(F=>F.label=="source_url");C.sourceUrl=M?M.value[0]:null;let A=C.metadata.find(F=>F.label==="depicts");A&&(C.depicts=A.value)}if(k.provider&&(C.provider=k.provider.map(M=>{let A={label:f(M.label),href:M.id};return M.logo&&(A.logo={src:M.logo[0].id}),A})),k.logo&&(C.logo=k.logo.map(M=>{let A={src:typeof M=="object"?M.id||M["@id"]:M};return typeof M=="object"&&(M.width&&(A.width=M.width),M.height&&(A.height=M.height)),A})),C.imageData=OC(k),C.service=C.imageData.service&&`${(C.imageData.service[0].id||C.imageData.service[0]["@id"]).replace(/\/info\.json$/,"")}/info.json`,k.requiredStatement){let M=k.requiredStatement;C.requiredStatement={label:f(M.label),value:f(M.value)}}return k.homepage&&(C.homepage={label:k.homepage.label?f(k.homepage.label):k.homepage.id,href:k.homepage.id}),k.seeAlso&&(C.seeAlso=k.seeAlso.map(M=>({label:M.label?f(M.label):M.id,href:M.id}))),C}function v(k){navigator.clipboard&&navigator.clipboard.writeText(k)}function _(k){let C={cc:{badgeWidth:88,badgeHeight:31,badgeTemplate:'https://licensebuttons.net/l/${this.rightsCode}${this.rightsCode === "publicdomain" ? "" : "/"+this.version}/${this.badgeWidth}x${this.badgeHeight}.png'},rs:{badgeTemplate:"https://rightsstatements.org/files/buttons/${this.rightsCode}.white.svg",backgroundColor:"318ac7"}};const M=function(V,ot){return new Function("return `"+V+"`;").call(ot)};let A=k.rights||"",F="",[U,j,J,H]=A.split("/").slice(2);return U==="creativecommons.org"?(J=J==="zero"?"publicdomain":J,F=`<img src="${M(C.cc.badgeTemplate,{...C.cc,rightsCode:J,version:H})}"/>`):U==="rightsstatements.org"&&(F=`<div style="display:inline-block;height:25px;padding:3px;background-color:#${C.rs.backgroundColor};"><img style="height:100%;" src="${M(C.rs.badgeTemplate,{...C.rs,rightsCode:J})}"/></div>`),F}return(k,C)=>{var M,A,F,U,j,J,H,V,ot,ft,ht,ct,Z,lt,ut;return Oe(),De("div",{ref_key:"root",ref:t,class:"manifest"},[Qt("div",YD,[Qt("img",{class:"thumbnail",src:(M=l.value)==null?void 0:M.thumbnail},null,8,XD),Qt("div",{class:"label",innerHTML:(A=l.value)==null?void 0:A.label},null,8,KD),(F=l.value)!=null&&F.summary?(Oe(),De("div",{key:0,class:"summary",innerHTML:(U=l.value)==null?void 0:U.summary},null,8,JD)):gi("",!0),(j=l.value)!=null&&j.rights?(Oe(),De("a",{key:1,href:(J=l.value)==null?void 0:J.rights,innerHTML:u.value},null,8,QD)):gi("",!0),Qt("div",$D,[Qt("img",{src:"https://mdpress.io/images/iiif.png",class:"iiif",alt:"IIIF manifest icon",onClick:C[0]||(C[0]=mt=>v(o.value.id))})])]),Qt("div",t4,[(H=l.value)!=null&&H.provider?(Oe(),De("div",e4,[r4,l.value.provider.length===1?(Oe(),De("div",i4,[l.value.provider[0].logo?(Oe(),De("img",{key:0,class:"logo",src:l.value.provider[0].logo.src},null,8,n4)):gi("",!0),Qt("a",{class:"value",href:l.value.provider[0].href,innerHTML:l.value.provider[0].label},null,8,o4)])):(Oe(),De("ul",s4,[(Oe(!0),De(on,null,ah(l.value.provider,(mt,re)=>(Oe(),De("li",{key:`provider-${re}`},[mt.logo?(Oe(),De("img",{key:0,class:"logo",src:mt.logo.src},null,8,a4)):gi("",!0),Qt("a",{class:"value",href:mt.href,innerHTML:mt.label},null,8,l4)]))),128))]))])):gi("",!0),(V=l.value)!=null&&V.requiredStatement?(Oe(),De("div",c4,[Qt("span",{class:"value",innerHTML:l.value.requiredStatement.value},null,8,u4)])):gi("",!0),(ot=l.value)!=null&&ot.rights?(Oe(),De("div",h4,[d4,Qt("a",{class:"value",href:l.value.rights,innerHTML:l.value.rights},null,8,p4)])):gi("",!0),(ft=l.value)!=null&&ft.metadata?(Oe(),De("div",f4,[g4,Qt("ul",null,[(Oe(!0),De(on,null,ah(l.value.metadata,(mt,re)=>(Oe(),De("li",{key:`md-${re}`},[Qt("span",{class:"label",innerHTML:mt.label},null,8,m4),mt.value.length===1?(Oe(),De("span",{key:0,class:"value",innerHTML:mt.value[0]},null,8,v4)):(Oe(),De("ul",y4,[(Oe(!0),De(on,null,ah(mt.value,ne=>(Oe(),De("li",{class:"value",innerHTML:ne},null,8,b4))),256))]))]))),128))])])):gi("",!0),(ht=l.value)!=null&&ht.navDate?(Oe(),De("div",w4,[x4,Qt("span",{class:"value",innerHTML:l.value.navDate},null,8,_4)])):gi("",!0),(ct=l.value)!=null&&ct.homepage?(Oe(),De("div",k4,[E4,Qt("a",{class:"value",href:l.value.homepage.href,innerHTML:l.value.homepage.label},null,8,T4)])):gi("",!0),(Z=l.value)!=null&&Z.seeAlso?(Oe(),De("div",S4,[C4,Qt("a",{class:"value",href:l.value.seeAlso[0].href,innerHTML:l.value.seeAlso[0].label},null,8,P4)])):gi("",!0),(lt=l.value)!=null&&lt.logo?(Oe(),De("div",M4,[I4,Qt("a",{class:"value",href:l.value.logo[0].src,innerHTML:l.value.logo[0].src},null,8,L4)])):gi("",!0),(ut=l.value)!=null&&ut.imageData?(Oe(),De("div",R4,[Qt("div",null,[A4,Qt("a",{class:"value",href:l.value.imageData.id,innerHTML:l.value.imageData.id.split("/").pop()},null,8,O4)]),Qt("div",null,[z4,Qt("span",{class:"value",innerHTML:l.value.imageData.format},null,8,N4)]),Qt("div",null,[D4,Qt("span",{class:"value",innerHTML:l.value.imageData.width},null,8,F4)]),Qt("div",null,[B4,Qt("span",{class:"value",innerHTML:l.value.imageData.height},null,8,j4)])])):gi("",!0)])],512)}}}),U4=`*[data-v-8cad8409]{box-sizing:border-box}.manifest[data-v-8cad8409]{width:100%;height:100%;overflow-y:scroll;background-color:#fff;font-size:.8em}.main[data-v-8cad8409],.detail[data-v-8cad8409]{display:flow-root;margin:6px}.main>*[data-v-8cad8409]{margin-bottom:6px}.detail>div[data-v-8cad8409]{margin-top:12px}.main .label[data-v-8cad8409]{font-size:1.2em;font-weight:700}.thumbnail[data-v-8cad8409]{float:left;max-width:45%;max-height:200px;margin:0 6px 6px 0}.links[data-v-8cad8409]{margin-top:6px}img.iiif[data-v-8cad8409]{height:24px;cursor:copy}ul[data-v-8cad8409]{list-style:none;padding-left:12px;margin-top:0}.detail .label[data-v-8cad8409]{font-size:1.1em;font-weight:700;min-width:80px;margin-right:6px}.detail .label[data-v-8cad8409]:after{content:":"}.detail .value[data-v-8cad8409],.main .label[data-v-8cad8409]{white-space:pre-wrap;overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}.logo[data-v-8cad8409]{padding-right:6px}img.logo[data-v-8cad8409]{height:40px}.manifest-id[data-v-8cad8409],.manifest-label[data-v-8cad8409],.summary[data-v-8cad8409],.provider[data-v-8cad8409],.rights[data-v-8cad8409],.service[data-v-8cad8409],.imageData div[data-v-8cad8409],.thumbnail[data-v-8cad8409]{display:flex;align-items:flex-start}.metadata>ul[data-v-8cad8409],.requiredStatement ul[data-v-8cad8409]{padding-left:24px}.metadata ul li[data-v-8cad8409],.requiredStatement ul li[data-v-8cad8409]{display:flex}.metadata ul ul[data-v-8cad8409]{padding-left:0}a[data-v-8cad8409]:link,a[data-v-8cad8409]:visited{color:#00e}
`,G4=Oa(H4,[["styles",[U4]],["__scopeId","data-v-8cad8409"]]),q4={class:"hs-tooltip-toggle block text-center",href:"javascript:;",title:"Click for more information"},V4=Qt("div",{class:"icon-wrapper"},[Qt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[Qt("path",{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"})])],-1),W4={class:"hs-tooltip-content z-30 hs-tooltip-shown:opacity-100 hs-tooltip-shown:visible hidden opacity-0 transition-opacity absolute invisible max-w-xs bg-white border border-gray-100 text-left rounded-lg shadow-md dark:bg-gray-800 dark:border-gray-700",role:"tooltip"},Z4={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},Y4={class:"p-4 md:p-5"},X4=["manifest"],K4=ms({__name:"ManifestPopup.ce",props:{manifest:{type:Object,required:!0}},setup(n){const r=Ne(null),t=Vr(()=>{var o;return(o=r==null?void 0:r.value)==null?void 0:o.parentNode});return ri(t,()=>{new gC(t.value).init()}),(o,l)=>(Oe(),De("div",{ref_key:"root",ref:r,class:"hs-tooltip inline-block [--trigger:click] [--placement:bottom]"},[Qt("a",q4,[V4,Qt("div",W4,[Qt("div",Z4,[Qt("div",Y4,[n.manifest?(Oe(),De("ez-manifest",{key:0,manifest:n.manifest},null,8,X4)):gi("",!0)])])])])],512))}}),J4=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}ez-header ul,ez-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}svg{filter:invert(100%) sepia(0%) saturate(7487%) hue-rotate(339deg) brightness(115%) contrast(100%)}.icon-wrapper{background:rgba(0,0,0,.4);width:28px;height:28px;border-radius:50%;text-align:center;vertical-align:middle;padding:5px}
`,Q4=Oa(K4,[["styles",[J4]]]);var a1={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(n,r){(function(t,o){o(r)})(wx,function(t){var o="1.9.4";function l(p){var b,S,R,G;for(S=1,R=arguments.length;S<R;S++){G=arguments[S];for(b in G)p[b]=G[b]}return p}var u=Object.create||function(){function p(){}return function(b){return p.prototype=b,new p}}();function d(p,b){var S=Array.prototype.slice;if(p.bind)return p.bind.apply(p,S.call(arguments,1));var R=S.call(arguments,2);return function(){return p.apply(b,R.length?R.concat(S.call(arguments)):arguments)}}var f=0;function m(p){return"_leaflet_id"in p||(p._leaflet_id=++f),p._leaflet_id}function v(p,b,S){var R,G,rt,yt;return yt=function(){R=!1,G&&(rt.apply(S,G),G=!1)},rt=function(){R?G=arguments:(p.apply(S,arguments),setTimeout(yt,b),R=!0)},rt}function _(p,b,S){var R=b[1],G=b[0],rt=R-G;return p===R&&S?p:((p-G)%rt+rt)%rt+G}function k(){return!1}function C(p,b){if(b===!1)return p;var S=Math.pow(10,b===void 0?6:b);return Math.round(p*S)/S}function M(p){return p.trim?p.trim():p.replace(/^\s+|\s+$/g,"")}function A(p){return M(p).split(/\s+/)}function F(p,b){Object.prototype.hasOwnProperty.call(p,"options")||(p.options=p.options?u(p.options):{});for(var S in b)p.options[S]=b[S];return p.options}function U(p,b,S){var R=[];for(var G in p)R.push(encodeURIComponent(S?G.toUpperCase():G)+"="+encodeURIComponent(p[G]));return(!b||b.indexOf("?")===-1?"?":"&")+R.join("&")}var j=/\{ *([\w_ -]+) *\}/g;function J(p,b){return p.replace(j,function(S,R){var G=b[R];if(G===void 0)throw new Error("No value provided for variable "+S);return typeof G=="function"&&(G=G(b)),G})}var H=Array.isArray||function(p){return Object.prototype.toString.call(p)==="[object Array]"};function V(p,b){for(var S=0;S<p.length;S++)if(p[S]===b)return S;return-1}var ot="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ft(p){return window["webkit"+p]||window["moz"+p]||window["ms"+p]}var ht=0;function ct(p){var b=+new Date,S=Math.max(0,16-(b-ht));return ht=b+S,window.setTimeout(p,S)}var Z=window.requestAnimationFrame||ft("RequestAnimationFrame")||ct,lt=window.cancelAnimationFrame||ft("CancelAnimationFrame")||ft("CancelRequestAnimationFrame")||function(p){window.clearTimeout(p)};function ut(p,b,S){if(S&&Z===ct)p.call(b);else return Z.call(window,d(p,b))}function mt(p){p&&lt.call(window,p)}var re={__proto__:null,extend:l,create:u,bind:d,get lastId(){return f},stamp:m,throttle:v,wrapNum:_,falseFn:k,formatNum:C,trim:M,splitWords:A,setOptions:F,getParamString:U,template:J,isArray:H,indexOf:V,emptyImageUrl:ot,requestFn:Z,cancelFn:lt,requestAnimFrame:ut,cancelAnimFrame:mt};function ne(){}ne.extend=function(p){var b=function(){F(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},S=b.__super__=this.prototype,R=u(S);R.constructor=b,b.prototype=R;for(var G in this)Object.prototype.hasOwnProperty.call(this,G)&&G!=="prototype"&&G!=="__super__"&&(b[G]=this[G]);return p.statics&&l(b,p.statics),p.includes&&(ye(p.includes),l.apply(null,[R].concat(p.includes))),l(R,p),delete R.statics,delete R.includes,R.options&&(R.options=S.options?u(S.options):{},l(R.options,p.options)),R._initHooks=[],R.callInitHooks=function(){if(!this._initHooksCalled){S.callInitHooks&&S.callInitHooks.call(this),this._initHooksCalled=!0;for(var rt=0,yt=R._initHooks.length;rt<yt;rt++)R._initHooks[rt].call(this)}},b},ne.include=function(p){var b=this.prototype.options;return l(this.prototype,p),p.options&&(this.prototype.options=b,this.mergeOptions(p.options)),this},ne.mergeOptions=function(p){return l(this.prototype.options,p),this},ne.addInitHook=function(p){var b=Array.prototype.slice.call(arguments,1),S=typeof p=="function"?p:function(){this[p].apply(this,b)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(S),this};function ye(p){if(!(typeof L>"u"||!L||!L.Mixin)){p=H(p)?p:[p];for(var b=0;b<p.length;b++)p[b]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Bt={on:function(p,b,S){if(typeof p=="object")for(var R in p)this._on(R,p[R],b);else{p=A(p);for(var G=0,rt=p.length;G<rt;G++)this._on(p[G],b,S)}return this},off:function(p,b,S){if(!arguments.length)delete this._events;else if(typeof p=="object")for(var R in p)this._off(R,p[R],b);else{p=A(p);for(var G=arguments.length===1,rt=0,yt=p.length;rt<yt;rt++)G?this._off(p[rt]):this._off(p[rt],b,S)}return this},_on:function(p,b,S,R){if(typeof b!="function"){console.warn("wrong listener type: "+typeof b);return}if(this._listens(p,b,S)===!1){S===this&&(S=void 0);var G={fn:b,ctx:S};R&&(G.once=!0),this._events=this._events||{},this._events[p]=this._events[p]||[],this._events[p].push(G)}},_off:function(p,b,S){var R,G,rt;if(this._events&&(R=this._events[p],!!R)){if(arguments.length===1){if(this._firingCount)for(G=0,rt=R.length;G<rt;G++)R[G].fn=k;delete this._events[p];return}if(typeof b!="function"){console.warn("wrong listener type: "+typeof b);return}var yt=this._listens(p,b,S);if(yt!==!1){var Lt=R[yt];this._firingCount&&(Lt.fn=k,this._events[p]=R=R.slice()),R.splice(yt,1)}}},fire:function(p,b,S){if(!this.listens(p,S))return this;var R=l({},b,{type:p,target:this,sourceTarget:b&&b.sourceTarget||this});if(this._events){var G=this._events[p];if(G){this._firingCount=this._firingCount+1||1;for(var rt=0,yt=G.length;rt<yt;rt++){var Lt=G[rt],jt=Lt.fn;Lt.once&&this.off(p,jt,Lt.ctx),jt.call(Lt.ctx||this,R)}this._firingCount--}}return S&&this._propagateEvent(R),this},listens:function(p,b,S,R){typeof p!="string"&&console.warn('"string" type argument expected');var G=b;typeof b!="function"&&(R=!!b,G=void 0,S=void 0);var rt=this._events&&this._events[p];if(rt&&rt.length&&this._listens(p,G,S)!==!1)return!0;if(R){for(var yt in this._eventParents)if(this._eventParents[yt].listens(p,b,S,R))return!0}return!1},_listens:function(p,b,S){if(!this._events)return!1;var R=this._events[p]||[];if(!b)return!!R.length;S===this&&(S=void 0);for(var G=0,rt=R.length;G<rt;G++)if(R[G].fn===b&&R[G].ctx===S)return G;return!1},once:function(p,b,S){if(typeof p=="object")for(var R in p)this._on(R,p[R],b,!0);else{p=A(p);for(var G=0,rt=p.length;G<rt;G++)this._on(p[G],b,S,!0)}return this},addEventParent:function(p){return this._eventParents=this._eventParents||{},this._eventParents[m(p)]=p,this},removeEventParent:function(p){return this._eventParents&&delete this._eventParents[m(p)],this},_propagateEvent:function(p){for(var b in this._eventParents)this._eventParents[b].fire(p.type,l({layer:p.target,propagatedFrom:p.target},p),!0)}};Bt.addEventListener=Bt.on,Bt.removeEventListener=Bt.clearAllEventListeners=Bt.off,Bt.addOneTimeEventListener=Bt.once,Bt.fireEvent=Bt.fire,Bt.hasEventListeners=Bt.listens;var pe=ne.extend(Bt);function Jt(p,b,S){this.x=S?Math.round(p):p,this.y=S?Math.round(b):b}var Wt=Math.trunc||function(p){return p>0?Math.floor(p):Math.ceil(p)};Jt.prototype={clone:function(){return new Jt(this.x,this.y)},add:function(p){return this.clone()._add(Et(p))},_add:function(p){return this.x+=p.x,this.y+=p.y,this},subtract:function(p){return this.clone()._subtract(Et(p))},_subtract:function(p){return this.x-=p.x,this.y-=p.y,this},divideBy:function(p){return this.clone()._divideBy(p)},_divideBy:function(p){return this.x/=p,this.y/=p,this},multiplyBy:function(p){return this.clone()._multiplyBy(p)},_multiplyBy:function(p){return this.x*=p,this.y*=p,this},scaleBy:function(p){return new Jt(this.x*p.x,this.y*p.y)},unscaleBy:function(p){return new Jt(this.x/p.x,this.y/p.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Wt(this.x),this.y=Wt(this.y),this},distanceTo:function(p){p=Et(p);var b=p.x-this.x,S=p.y-this.y;return Math.sqrt(b*b+S*S)},equals:function(p){return p=Et(p),p.x===this.x&&p.y===this.y},contains:function(p){return p=Et(p),Math.abs(p.x)<=Math.abs(this.x)&&Math.abs(p.y)<=Math.abs(this.y)},toString:function(){return"Point("+C(this.x)+", "+C(this.y)+")"}};function Et(p,b,S){return p instanceof Jt?p:H(p)?new Jt(p[0],p[1]):p==null?p:typeof p=="object"&&"x"in p&&"y"in p?new Jt(p.x,p.y):new Jt(p,b,S)}function qt(p,b){if(p)for(var S=b?[p,b]:p,R=0,G=S.length;R<G;R++)this.extend(S[R])}qt.prototype={extend:function(p){var b,S;if(!p)return this;if(p instanceof Jt||typeof p[0]=="number"||"x"in p)b=S=Et(p);else if(p=Zt(p),b=p.min,S=p.max,!b||!S)return this;return!this.min&&!this.max?(this.min=b.clone(),this.max=S.clone()):(this.min.x=Math.min(b.x,this.min.x),this.max.x=Math.max(S.x,this.max.x),this.min.y=Math.min(b.y,this.min.y),this.max.y=Math.max(S.y,this.max.y)),this},getCenter:function(p){return Et((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,p)},getBottomLeft:function(){return Et(this.min.x,this.max.y)},getTopRight:function(){return Et(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(p){var b,S;return typeof p[0]=="number"||p instanceof Jt?p=Et(p):p=Zt(p),p instanceof qt?(b=p.min,S=p.max):b=S=p,b.x>=this.min.x&&S.x<=this.max.x&&b.y>=this.min.y&&S.y<=this.max.y},intersects:function(p){p=Zt(p);var b=this.min,S=this.max,R=p.min,G=p.max,rt=G.x>=b.x&&R.x<=S.x,yt=G.y>=b.y&&R.y<=S.y;return rt&&yt},overlaps:function(p){p=Zt(p);var b=this.min,S=this.max,R=p.min,G=p.max,rt=G.x>b.x&&R.x<S.x,yt=G.y>b.y&&R.y<S.y;return rt&&yt},isValid:function(){return!!(this.min&&this.max)},pad:function(p){var b=this.min,S=this.max,R=Math.abs(b.x-S.x)*p,G=Math.abs(b.y-S.y)*p;return Zt(Et(b.x-R,b.y-G),Et(S.x+R,S.y+G))},equals:function(p){return p?(p=Zt(p),this.min.equals(p.getTopLeft())&&this.max.equals(p.getBottomRight())):!1}};function Zt(p,b){return!p||p instanceof qt?p:new qt(p,b)}function fe(p,b){if(p)for(var S=b?[p,b]:p,R=0,G=S.length;R<G;R++)this.extend(S[R])}fe.prototype={extend:function(p){var b=this._southWest,S=this._northEast,R,G;if(p instanceof le)R=p,G=p;else if(p instanceof fe){if(R=p._southWest,G=p._northEast,!R||!G)return this}else return p?this.extend(ue(p)||Ce(p)):this;return!b&&!S?(this._southWest=new le(R.lat,R.lng),this._northEast=new le(G.lat,G.lng)):(b.lat=Math.min(R.lat,b.lat),b.lng=Math.min(R.lng,b.lng),S.lat=Math.max(G.lat,S.lat),S.lng=Math.max(G.lng,S.lng)),this},pad:function(p){var b=this._southWest,S=this._northEast,R=Math.abs(b.lat-S.lat)*p,G=Math.abs(b.lng-S.lng)*p;return new fe(new le(b.lat-R,b.lng-G),new le(S.lat+R,S.lng+G))},getCenter:function(){return new le((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new le(this.getNorth(),this.getWest())},getSouthEast:function(){return new le(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(p){typeof p[0]=="number"||p instanceof le||"lat"in p?p=ue(p):p=Ce(p);var b=this._southWest,S=this._northEast,R,G;return p instanceof fe?(R=p.getSouthWest(),G=p.getNorthEast()):R=G=p,R.lat>=b.lat&&G.lat<=S.lat&&R.lng>=b.lng&&G.lng<=S.lng},intersects:function(p){p=Ce(p);var b=this._southWest,S=this._northEast,R=p.getSouthWest(),G=p.getNorthEast(),rt=G.lat>=b.lat&&R.lat<=S.lat,yt=G.lng>=b.lng&&R.lng<=S.lng;return rt&&yt},overlaps:function(p){p=Ce(p);var b=this._southWest,S=this._northEast,R=p.getSouthWest(),G=p.getNorthEast(),rt=G.lat>b.lat&&R.lat<S.lat,yt=G.lng>b.lng&&R.lng<S.lng;return rt&&yt},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(p,b){return p?(p=Ce(p),this._southWest.equals(p.getSouthWest(),b)&&this._northEast.equals(p.getNorthEast(),b)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ce(p,b){return p instanceof fe?p:new fe(p,b)}function le(p,b,S){if(isNaN(p)||isNaN(b))throw new Error("Invalid LatLng object: ("+p+", "+b+")");this.lat=+p,this.lng=+b,S!==void 0&&(this.alt=+S)}le.prototype={equals:function(p,b){if(!p)return!1;p=ue(p);var S=Math.max(Math.abs(this.lat-p.lat),Math.abs(this.lng-p.lng));return S<=(b===void 0?1e-9:b)},toString:function(p){return"LatLng("+C(this.lat,p)+", "+C(this.lng,p)+")"},distanceTo:function(p){return Ut.distance(this,ue(p))},wrap:function(){return Ut.wrapLatLng(this)},toBounds:function(p){var b=180*p/40075017,S=b/Math.cos(Math.PI/180*this.lat);return Ce([this.lat-b,this.lng-S],[this.lat+b,this.lng+S])},clone:function(){return new le(this.lat,this.lng,this.alt)}};function ue(p,b,S){return p instanceof le?p:H(p)&&typeof p[0]!="object"?p.length===3?new le(p[0],p[1],p[2]):p.length===2?new le(p[0],p[1]):null:p==null?p:typeof p=="object"&&"lat"in p?new le(p.lat,"lng"in p?p.lng:p.lon,p.alt):b===void 0?null:new le(p,b,S)}var er={latLngToPoint:function(p,b){var S=this.projection.project(p),R=this.scale(b);return this.transformation._transform(S,R)},pointToLatLng:function(p,b){var S=this.scale(b),R=this.transformation.untransform(p,S);return this.projection.unproject(R)},project:function(p){return this.projection.project(p)},unproject:function(p){return this.projection.unproject(p)},scale:function(p){return 256*Math.pow(2,p)},zoom:function(p){return Math.log(p/256)/Math.LN2},getProjectedBounds:function(p){if(this.infinite)return null;var b=this.projection.bounds,S=this.scale(p),R=this.transformation.transform(b.min,S),G=this.transformation.transform(b.max,S);return new qt(R,G)},infinite:!1,wrapLatLng:function(p){var b=this.wrapLng?_(p.lng,this.wrapLng,!0):p.lng,S=this.wrapLat?_(p.lat,this.wrapLat,!0):p.lat,R=p.alt;return new le(S,b,R)},wrapLatLngBounds:function(p){var b=p.getCenter(),S=this.wrapLatLng(b),R=b.lat-S.lat,G=b.lng-S.lng;if(R===0&&G===0)return p;var rt=p.getSouthWest(),yt=p.getNorthEast(),Lt=new le(rt.lat-R,rt.lng-G),jt=new le(yt.lat-R,yt.lng-G);return new fe(Lt,jt)}},Ut=l({},er,{wrapLng:[-180,180],R:6371e3,distance:function(p,b){var S=Math.PI/180,R=p.lat*S,G=b.lat*S,rt=Math.sin((b.lat-p.lat)*S/2),yt=Math.sin((b.lng-p.lng)*S/2),Lt=rt*rt+Math.cos(R)*Math.cos(G)*yt*yt,jt=2*Math.atan2(Math.sqrt(Lt),Math.sqrt(1-Lt));return this.R*jt}}),Gt=6378137,Yt={R:Gt,MAX_LATITUDE:85.0511287798,project:function(p){var b=Math.PI/180,S=this.MAX_LATITUDE,R=Math.max(Math.min(S,p.lat),-S),G=Math.sin(R*b);return new Jt(this.R*p.lng*b,this.R*Math.log((1+G)/(1-G))/2)},unproject:function(p){var b=180/Math.PI;return new le((2*Math.atan(Math.exp(p.y/this.R))-Math.PI/2)*b,p.x*b/this.R)},bounds:function(){var p=Gt*Math.PI;return new qt([-p,-p],[p,p])}()};function Xt(p,b,S,R){if(H(p)){this._a=p[0],this._b=p[1],this._c=p[2],this._d=p[3];return}this._a=p,this._b=b,this._c=S,this._d=R}Xt.prototype={transform:function(p,b){return this._transform(p.clone(),b)},_transform:function(p,b){return b=b||1,p.x=b*(this._a*p.x+this._b),p.y=b*(this._c*p.y+this._d),p},untransform:function(p,b){return b=b||1,new Jt((p.x/b-this._b)/this._a,(p.y/b-this._d)/this._c)}};function nt(p,b,S,R){return new Xt(p,b,S,R)}var pt=l({},Ut,{code:"EPSG:3857",projection:Yt,transformation:function(){var p=.5/(Math.PI*Yt.R);return nt(p,.5,-p,.5)}()}),vt=l({},pt,{code:"EPSG:900913"});function O(p){return document.createElementNS("http://www.w3.org/2000/svg",p)}function Y(p,b){var S="",R,G,rt,yt,Lt,jt;for(R=0,rt=p.length;R<rt;R++){for(Lt=p[R],G=0,yt=Lt.length;G<yt;G++)jt=Lt[G],S+=(G?"L":"M")+jt.x+" "+jt.y;S+=b?je.svg?"z":"x":""}return S||"M0 0"}var dt=document.documentElement.style,_t="ActiveXObject"in window,wt=_t&&!document.addEventListener,Ot="msLaunchUri"in navigator&&!("documentMode"in document),xt=Lo("webkit"),te=Lo("android"),ae=Lo("android 2")||Lo("android 3"),he=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),se=te&&Lo("Google")&&he<537&&!("AudioNode"in window),Ie=!!window.opera,Pe=!Ot&&Lo("chrome"),We=Lo("gecko")&&!xt&&!Ie&&!_t,$=!Pe&&Lo("safari"),K=Lo("phantom"),at="OTransition"in dt,st=navigator.platform.indexOf("Win")===0,Vt=_t&&"transition"in dt,ee="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ae,ke="MozPerspective"in dt,lr=!window.L_DISABLE_3D&&(Vt||ee||ke)&&!at&&!K,Be=typeof orientation<"u"||Lo("mobile"),Un=Be&&xt,ji=Be&&ee,bs=!window.PointerEvent&&window.MSPointerEvent,Js=!!(window.PointerEvent||bs),fu="ontouchstart"in window||!!window.TouchEvent,Ki=!window.L_NO_TOUCH&&(fu||Js),Oy=Be&&Ie,gu=Be&&We,zy=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,lc=function(){var p=!1;try{var b=Object.defineProperty({},"passive",{get:function(){p=!0}});window.addEventListener("testPassiveEventSupport",k,b),window.removeEventListener("testPassiveEventSupport",k,b)}catch{}return p}(),mu=function(){return!!document.createElement("canvas").getContext}(),ml=!!(document.createElementNS&&O("svg").createSVGRect),rm=!!ml&&function(){var p=document.createElement("div");return p.innerHTML="<svg/>",(p.firstChild&&p.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),im=!ml&&function(){try{var p=document.createElement("div");p.innerHTML='<v:shape adj="1"/>';var b=p.firstChild;return b.style.behavior="url(#default#VML)",b&&typeof b.adj=="object"}catch{return!1}}(),kp=navigator.platform.indexOf("Mac")===0,Eh=navigator.platform.indexOf("Linux")===0;function Lo(p){return navigator.userAgent.toLowerCase().indexOf(p)>=0}var je={ie:_t,ielt9:wt,edge:Ot,webkit:xt,android:te,android23:ae,androidStock:se,opera:Ie,chrome:Pe,gecko:We,safari:$,phantom:K,opera12:at,win:st,ie3d:Vt,webkit3d:ee,gecko3d:ke,any3d:lr,mobile:Be,mobileWebkit:Un,mobileWebkit3d:ji,msPointer:bs,pointer:Js,touch:Ki,touchNative:fu,mobileOpera:Oy,mobileGecko:gu,retina:zy,passiveEvents:lc,canvas:mu,svg:ml,vml:im,inlineSvg:rm,mac:kp,linux:Eh},vl=je.msPointer?"MSPointerDown":"pointerdown",Ep=je.msPointer?"MSPointerMove":"pointermove",Ko=je.msPointer?"MSPointerUp":"pointerup",vu=je.msPointer?"MSPointerCancel":"pointercancel",Th={touchstart:vl,touchmove:Ep,touchend:Ko,touchcancel:vu},nm={touchstart:By,touchmove:Na,touchend:Na,touchcancel:Na},cc={},om=!1;function Ny(p,b,S){return b==="touchstart"&&Fy(),nm[b]?(S=nm[b].bind(this,S),p.addEventListener(Th[b],S,!1),S):(console.warn("wrong event specified:",b),k)}function sm(p,b,S){if(!Th[b]){console.warn("wrong event specified:",b);return}p.removeEventListener(Th[b],S,!1)}function Dy(p){cc[p.pointerId]=p}function am(p){cc[p.pointerId]&&(cc[p.pointerId]=p)}function Tp(p){delete cc[p.pointerId]}function Fy(){om||(document.addEventListener(vl,Dy,!0),document.addEventListener(Ep,am,!0),document.addEventListener(Ko,Tp,!0),document.addEventListener(vu,Tp,!0),om=!0)}function Na(p,b){if(b.pointerType!==(b.MSPOINTER_TYPE_MOUSE||"mouse")){b.touches=[];for(var S in cc)b.touches.push(cc[S]);b.changedTouches=[b],p(b)}}function By(p,b){b.MSPOINTER_TYPE_TOUCH&&b.pointerType===b.MSPOINTER_TYPE_TOUCH&&Ji(b),Na(p,b)}function jy(p){var b={},S,R;for(R in p)S=p[R],b[R]=S&&S.bind?S.bind(p):S;return p=b,b.type="dblclick",b.detail=2,b.isTrusted=!1,b._simulated=!0,b}var Sh=200;function lm(p,b){p.addEventListener("dblclick",b);var S=0,R;function G(rt){if(rt.detail!==1){R=rt.detail;return}if(!(rt.pointerType==="mouse"||rt.sourceCapabilities&&!rt.sourceCapabilities.firesTouchEvents)){var yt=dm(rt);if(!(yt.some(function(jt){return jt instanceof HTMLLabelElement&&jt.attributes.for})&&!yt.some(function(jt){return jt instanceof HTMLInputElement||jt instanceof HTMLSelectElement}))){var Lt=Date.now();Lt-S<=Sh?(R++,R===2&&b(jy(rt))):R=1,S=Lt}}}return p.addEventListener("click",G),{dblclick:b,simDblclick:G}}function Hy(p,b){p.removeEventListener("dblclick",b.dblclick),p.removeEventListener("click",b.simDblclick)}var Ch=wu(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),yu=wu(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),cm=yu==="webkitTransition"||yu==="OTransition"?yu+"End":"transitionend";function um(p){return typeof p=="string"?document.getElementById(p):p}function uc(p,b){var S=p.style[b]||p.currentStyle&&p.currentStyle[b];if((!S||S==="auto")&&document.defaultView){var R=document.defaultView.getComputedStyle(p,null);S=R?R[b]:null}return S==="auto"?null:S}function ii(p,b,S){var R=document.createElement(p);return R.className=b||"",S&&S.appendChild(R),R}function Ei(p){var b=p.parentNode;b&&b.removeChild(p)}function bu(p){for(;p.firstChild;)p.removeChild(p.firstChild)}function Da(p){var b=p.parentNode;b&&b.lastChild!==p&&b.appendChild(p)}function Fa(p){var b=p.parentNode;b&&b.firstChild!==p&&b.insertBefore(p,b.firstChild)}function hc(p,b){if(p.classList!==void 0)return p.classList.contains(b);var S=dc(p);return S.length>0&&new RegExp("(^|\\s)"+b+"(\\s|$)").test(S)}function hr(p,b){if(p.classList!==void 0)for(var S=A(b),R=0,G=S.length;R<G;R++)p.classList.add(S[R]);else if(!hc(p,b)){var rt=dc(p);Ph(p,(rt?rt+" ":"")+b)}}function $e(p,b){p.classList!==void 0?p.classList.remove(b):Ph(p,M((" "+dc(p)+" ").replace(" "+b+" "," ")))}function Ph(p,b){p.className.baseVal===void 0?p.className=b:p.className.baseVal=b}function dc(p){return p.correspondingElement&&(p=p.correspondingElement),p.className.baseVal===void 0?p.className:p.className.baseVal}function or(p,b){"opacity"in p.style?p.style.opacity=b:"filter"in p.style&&hm(p,b)}function hm(p,b){var S=!1,R="DXImageTransform.Microsoft.Alpha";try{S=p.filters.item(R)}catch{if(b===1)return}b=Math.round(b*100),S?(S.Enabled=b!==100,S.Opacity=b):p.style.filter+=" progid:"+R+"(opacity="+b+")"}function wu(p){for(var b=document.documentElement.style,S=0;S<p.length;S++)if(p[S]in b)return p[S];return!1}function yl(p,b,S){var R=b||new Jt(0,0);p.style[Ch]=(je.ie3d?"translate("+R.x+"px,"+R.y+"px)":"translate3d("+R.x+"px,"+R.y+"px,0)")+(S?" scale("+S+")":"")}function Xi(p,b){p._leaflet_pos=b,je.any3d?yl(p,b):(p.style.left=b.x+"px",p.style.top=b.y+"px")}function Pi(p){return p._leaflet_pos||new Jt(0,0)}var pc,fc,xu;if("onselectstart"in document)pc=function(){ar(window,"selectstart",Ji)},fc=function(){di(window,"selectstart",Ji)};else{var gc=wu(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);pc=function(){if(gc){var p=document.documentElement.style;xu=p[gc],p[gc]="none"}},fc=function(){gc&&(document.documentElement.style[gc]=xu,xu=void 0)}}function Sp(){ar(window,"dragstart",Ji)}function mc(){di(window,"dragstart",Ji)}var Mh,Ih;function Cp(p){for(;p.tabIndex===-1;)p=p.parentNode;p.style&&(Lh(),Mh=p,Ih=p.style.outlineStyle,p.style.outlineStyle="none",ar(window,"keydown",Lh))}function Lh(){Mh&&(Mh.style.outlineStyle=Ih,Mh=void 0,Ih=void 0,di(window,"keydown",Lh))}function _u(p){do p=p.parentNode;while((!p.offsetWidth||!p.offsetHeight)&&p!==document.body);return p}function ku(p){var b=p.getBoundingClientRect();return{x:b.width/p.offsetWidth||1,y:b.height/p.offsetHeight||1,boundingClientRect:b}}var bl={__proto__:null,TRANSFORM:Ch,TRANSITION:yu,TRANSITION_END:cm,get:um,getStyle:uc,create:ii,remove:Ei,empty:bu,toFront:Da,toBack:Fa,hasClass:hc,addClass:hr,removeClass:$e,setClass:Ph,getClass:dc,setOpacity:or,testProp:wu,setTransform:yl,setPosition:Xi,getPosition:Pi,get disableTextSelection(){return pc},get enableTextSelection(){return fc},disableImageDrag:Sp,enableImageDrag:mc,preventOutline:Cp,restoreOutline:Lh,getSizedParentNode:_u,getScale:ku};function ar(p,b,S,R){if(b&&typeof b=="object")for(var G in b)Mp(p,G,b[G],S);else{b=A(b);for(var rt=0,yt=b.length;rt<yt;rt++)Mp(p,b[rt],S,R)}return this}var Jo="_leaflet_events";function di(p,b,S,R){if(arguments.length===1)Rh(p),delete p[Jo];else if(b&&typeof b=="object")for(var G in b)Eu(p,G,b[G],S);else if(b=A(b),arguments.length===2)Rh(p,function(Lt){return V(b,Lt)!==-1});else for(var rt=0,yt=b.length;rt<yt;rt++)Eu(p,b[rt],S,R);return this}function Rh(p,b){for(var S in p[Jo]){var R=S.split(/\d/)[0];(!b||b(R))&&Eu(p,R,null,null,S)}}var Pp={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Mp(p,b,S,R){var G=b+m(S)+(R?"_"+m(R):"");if(p[Jo]&&p[Jo][G])return this;var rt=function(Lt){return S.call(R||p,Lt||window.event)},yt=rt;!je.touchNative&&je.pointer&&b.indexOf("touch")===0?rt=Ny(p,b,rt):je.touch&&b==="dblclick"?rt=lm(p,rt):"addEventListener"in p?b==="touchstart"||b==="touchmove"||b==="wheel"||b==="mousewheel"?p.addEventListener(Pp[b]||b,rt,je.passiveEvents?{passive:!1}:!1):b==="mouseenter"||b==="mouseleave"?(rt=function(Lt){Lt=Lt||window.event,Qs(p,Lt)&&yt(Lt)},p.addEventListener(Pp[b],rt,!1)):p.addEventListener(b,yt,!1):p.attachEvent("on"+b,rt),p[Jo]=p[Jo]||{},p[Jo][G]=rt}function Eu(p,b,S,R,G){G=G||b+m(S)+(R?"_"+m(R):"");var rt=p[Jo]&&p[Jo][G];if(!rt)return this;!je.touchNative&&je.pointer&&b.indexOf("touch")===0?sm(p,b,rt):je.touch&&b==="dblclick"?Hy(p,rt):"removeEventListener"in p?p.removeEventListener(Pp[b]||b,rt,!1):p.detachEvent("on"+b,rt),p[Jo][G]=null}function wl(p){return p.stopPropagation?p.stopPropagation():p.originalEvent?p.originalEvent._stopped=!0:p.cancelBubble=!0,this}function Ip(p){return Mp(p,"wheel",wl),this}function vc(p){return ar(p,"mousedown touchstart dblclick contextmenu",wl),p._leaflet_disable_click=!0,this}function Ji(p){return p.preventDefault?p.preventDefault():p.returnValue=!1,this}function xl(p){return Ji(p),wl(p),this}function dm(p){if(p.composedPath)return p.composedPath();for(var b=[],S=p.target;S;)b.push(S),S=S.parentNode;return b}function pm(p,b){if(!b)return new Jt(p.clientX,p.clientY);var S=ku(b),R=S.boundingClientRect;return new Jt((p.clientX-R.left)/S.x-b.clientLeft,(p.clientY-R.top)/S.y-b.clientTop)}var Uy=je.linux&&je.chrome?window.devicePixelRatio:je.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function fm(p){return je.edge?p.wheelDeltaY/2:p.deltaY&&p.deltaMode===0?-p.deltaY/Uy:p.deltaY&&p.deltaMode===1?-p.deltaY*20:p.deltaY&&p.deltaMode===2?-p.deltaY*60:p.deltaX||p.deltaZ?0:p.wheelDelta?(p.wheelDeltaY||p.wheelDelta)/2:p.detail&&Math.abs(p.detail)<32765?-p.detail*20:p.detail?p.detail/-32765*60:0}function Qs(p,b){var S=b.relatedTarget;if(!S)return!0;try{for(;S&&S!==p;)S=S.parentNode}catch{return!1}return S!==p}var Lp={__proto__:null,on:ar,off:di,stopPropagation:wl,disableScrollPropagation:Ip,disableClickPropagation:vc,preventDefault:Ji,stop:xl,getPropagationPath:dm,getMousePosition:pm,getWheelDelta:fm,isExternalTarget:Qs,addListener:ar,removeListener:di},Rp=pe.extend({run:function(p,b,S,R){this.stop(),this._el=p,this._inProgress=!0,this._duration=S||.25,this._easeOutPower=1/Math.max(R||.5,.2),this._startPos=Pi(p),this._offset=b.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ut(this._animate,this),this._step()},_step:function(p){var b=+new Date-this._startTime,S=this._duration*1e3;b<S?this._runFrame(this._easeOut(b/S),p):(this._runFrame(1),this._complete())},_runFrame:function(p,b){var S=this._startPos.add(this._offset.multiplyBy(p));b&&S._round(),Xi(this._el,S),this.fire("step")},_complete:function(){mt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(p){return 1-Math.pow(1-p,this._easeOutPower)}}),Xr=pe.extend({options:{crs:pt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(p,b){b=F(this,b),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(p),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),b.maxBounds&&this.setMaxBounds(b.maxBounds),b.zoom!==void 0&&(this._zoom=this._limitZoom(b.zoom)),b.center&&b.zoom!==void 0&&this.setView(ue(b.center),b.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=yu&&je.any3d&&!je.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ar(this._proxy,cm,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(p,b,S){if(b=b===void 0?this._zoom:this._limitZoom(b),p=this._limitCenter(ue(p),b,this.options.maxBounds),S=S||{},this._stop(),this._loaded&&!S.reset&&S!==!0){S.animate!==void 0&&(S.zoom=l({animate:S.animate},S.zoom),S.pan=l({animate:S.animate,duration:S.duration},S.pan));var R=this._zoom!==b?this._tryAnimatedZoom&&this._tryAnimatedZoom(p,b,S.zoom):this._tryAnimatedPan(p,S.pan);if(R)return clearTimeout(this._sizeTimer),this}return this._resetView(p,b,S.pan&&S.pan.noMoveStart),this},setZoom:function(p,b){return this._loaded?this.setView(this.getCenter(),p,{zoom:b}):(this._zoom=p,this)},zoomIn:function(p,b){return p=p||(je.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+p,b)},zoomOut:function(p,b){return p=p||(je.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-p,b)},setZoomAround:function(p,b,S){var R=this.getZoomScale(b),G=this.getSize().divideBy(2),rt=p instanceof Jt?p:this.latLngToContainerPoint(p),yt=rt.subtract(G).multiplyBy(1-1/R),Lt=this.containerPointToLatLng(G.add(yt));return this.setView(Lt,b,{zoom:S})},_getBoundsCenterZoom:function(p,b){b=b||{},p=p.getBounds?p.getBounds():Ce(p);var S=Et(b.paddingTopLeft||b.padding||[0,0]),R=Et(b.paddingBottomRight||b.padding||[0,0]),G=this.getBoundsZoom(p,!1,S.add(R));if(G=typeof b.maxZoom=="number"?Math.min(b.maxZoom,G):G,G===1/0)return{center:p.getCenter(),zoom:G};var rt=R.subtract(S).divideBy(2),yt=this.project(p.getSouthWest(),G),Lt=this.project(p.getNorthEast(),G),jt=this.unproject(yt.add(Lt).divideBy(2).add(rt),G);return{center:jt,zoom:G}},fitBounds:function(p,b){if(p=Ce(p),!p.isValid())throw new Error("Bounds are not valid.");var S=this._getBoundsCenterZoom(p,b);return this.setView(S.center,S.zoom,b)},fitWorld:function(p){return this.fitBounds([[-90,-180],[90,180]],p)},panTo:function(p,b){return this.setView(p,this._zoom,{pan:b})},panBy:function(p,b){if(p=Et(p).round(),b=b||{},!p.x&&!p.y)return this.fire("moveend");if(b.animate!==!0&&!this.getSize().contains(p))return this._resetView(this.unproject(this.project(this.getCenter()).add(p)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Rp,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),b.noMoveStart||this.fire("movestart"),b.animate!==!1){hr(this._mapPane,"leaflet-pan-anim");var S=this._getMapPanePos().subtract(p).round();this._panAnim.run(this._mapPane,S,b.duration||.25,b.easeLinearity)}else this._rawPanBy(p),this.fire("move").fire("moveend");return this},flyTo:function(p,b,S){if(S=S||{},S.animate===!1||!je.any3d)return this.setView(p,b,S);this._stop();var R=this.project(this.getCenter()),G=this.project(p),rt=this.getSize(),yt=this._zoom;p=ue(p),b=b===void 0?yt:b;var Lt=Math.max(rt.x,rt.y),jt=Lt*this.getZoomScale(yt,b),$t=G.distanceTo(R)||1,xe=1.42,Je=xe*xe;function pr(Hi){var Ou=Hi?-1:1,Nm=Hi?jt:Lt,Sc=jt*jt-Lt*Lt+Ou*Je*Je*$t*$t,Dm=2*Nm*Je*$t,$h=Sc/Dm,$p=Math.sqrt($h*$h+1)-$h,Ll=$p<1e-9?-18:Math.log($p);return Ll}function In(Hi){return(Math.exp(Hi)-Math.exp(-Hi))/2}function $i(Hi){return(Math.exp(Hi)+Math.exp(-Hi))/2}function Ln(Hi){return In(Hi)/$i(Hi)}var qn=pr(0);function Ml(Hi){return Lt*($i(qn)/$i(qn+xe*Hi))}function Rm(Hi){return Lt*($i(qn)*Ln(qn+xe*Hi)-In(qn))/Je}function Am(Hi){return 1-Math.pow(1-Hi,1.5)}var Om=Date.now(),zm=(pr(1)-qn)/xe,Qp=S.duration?1e3*S.duration:1e3*zm*.8;function Il(){var Hi=(Date.now()-Om)/Qp,Ou=Am(Hi)*zm;Hi<=1?(this._flyToFrame=ut(Il,this),this._move(this.unproject(R.add(G.subtract(R).multiplyBy(Rm(Ou)/$t)),yt),this.getScaleZoom(Lt/Ml(Ou),yt),{flyTo:!0})):this._move(p,b)._moveEnd(!0)}return this._moveStart(!0,S.noMoveStart),Il.call(this),this},flyToBounds:function(p,b){var S=this._getBoundsCenterZoom(p,b);return this.flyTo(S.center,S.zoom,b)},setMaxBounds:function(p){return p=Ce(p),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),p.isValid()?(this.options.maxBounds=p,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(p){var b=this.options.minZoom;return this.options.minZoom=p,this._loaded&&b!==p&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(p):this},setMaxZoom:function(p){var b=this.options.maxZoom;return this.options.maxZoom=p,this._loaded&&b!==p&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(p):this},panInsideBounds:function(p,b){this._enforcingBounds=!0;var S=this.getCenter(),R=this._limitCenter(S,this._zoom,Ce(p));return S.equals(R)||this.panTo(R,b),this._enforcingBounds=!1,this},panInside:function(p,b){b=b||{};var S=Et(b.paddingTopLeft||b.padding||[0,0]),R=Et(b.paddingBottomRight||b.padding||[0,0]),G=this.project(this.getCenter()),rt=this.project(p),yt=this.getPixelBounds(),Lt=Zt([yt.min.add(S),yt.max.subtract(R)]),jt=Lt.getSize();if(!Lt.contains(rt)){this._enforcingBounds=!0;var $t=rt.subtract(Lt.getCenter()),xe=Lt.extend(rt).getSize().subtract(jt);G.x+=$t.x<0?-xe.x:xe.x,G.y+=$t.y<0?-xe.y:xe.y,this.panTo(this.unproject(G),b),this._enforcingBounds=!1}return this},invalidateSize:function(p){if(!this._loaded)return this;p=l({animate:!1,pan:!0},p===!0?{animate:!0}:p);var b=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var S=this.getSize(),R=b.divideBy(2).round(),G=S.divideBy(2).round(),rt=R.subtract(G);return!rt.x&&!rt.y?this:(p.animate&&p.pan?this.panBy(rt):(p.pan&&this._rawPanBy(rt),this.fire("move"),p.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:b,newSize:S}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(p){if(p=this._locateOptions=l({timeout:1e4,watch:!1},p),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var b=d(this._handleGeolocationResponse,this),S=d(this._handleGeolocationError,this);return p.watch?this._locationWatchId=navigator.geolocation.watchPosition(b,S,p):navigator.geolocation.getCurrentPosition(b,S,p),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(p){if(this._container._leaflet_id){var b=p.code,S=p.message||(b===1?"permission denied":b===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:b,message:"Geolocation error: "+S+"."})}},_handleGeolocationResponse:function(p){if(this._container._leaflet_id){var b=p.coords.latitude,S=p.coords.longitude,R=new le(b,S),G=R.toBounds(p.coords.accuracy*2),rt=this._locateOptions;if(rt.setView){var yt=this.getBoundsZoom(G);this.setView(R,rt.maxZoom?Math.min(yt,rt.maxZoom):yt)}var Lt={latlng:R,bounds:G,timestamp:p.timestamp};for(var jt in p.coords)typeof p.coords[jt]=="number"&&(Lt[jt]=p.coords[jt]);this.fire("locationfound",Lt)}},addHandler:function(p,b){if(!b)return this;var S=this[p]=new b(this);return this._handlers.push(S),this.options[p]&&S.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ei(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(mt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var p;for(p in this._layers)this._layers[p].remove();for(p in this._panes)Ei(this._panes[p]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(p,b){var S="leaflet-pane"+(p?" leaflet-"+p.replace("Pane","")+"-pane":""),R=ii("div",S,b||this._mapPane);return p&&(this._panes[p]=R),R},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var p=this.getPixelBounds(),b=this.unproject(p.getBottomLeft()),S=this.unproject(p.getTopRight());return new fe(b,S)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(p,b,S){p=Ce(p),S=Et(S||[0,0]);var R=this.getZoom()||0,G=this.getMinZoom(),rt=this.getMaxZoom(),yt=p.getNorthWest(),Lt=p.getSouthEast(),jt=this.getSize().subtract(S),$t=Zt(this.project(Lt,R),this.project(yt,R)).getSize(),xe=je.any3d?this.options.zoomSnap:1,Je=jt.x/$t.x,pr=jt.y/$t.y,In=b?Math.max(Je,pr):Math.min(Je,pr);return R=this.getScaleZoom(In,R),xe&&(R=Math.round(R/(xe/100))*(xe/100),R=b?Math.ceil(R/xe)*xe:Math.floor(R/xe)*xe),Math.max(G,Math.min(rt,R))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Jt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(p,b){var S=this._getTopLeftPoint(p,b);return new qt(S,S.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(p){return this.options.crs.getProjectedBounds(p===void 0?this.getZoom():p)},getPane:function(p){return typeof p=="string"?this._panes[p]:p},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(p,b){var S=this.options.crs;return b=b===void 0?this._zoom:b,S.scale(p)/S.scale(b)},getScaleZoom:function(p,b){var S=this.options.crs;b=b===void 0?this._zoom:b;var R=S.zoom(p*S.scale(b));return isNaN(R)?1/0:R},project:function(p,b){return b=b===void 0?this._zoom:b,this.options.crs.latLngToPoint(ue(p),b)},unproject:function(p,b){return b=b===void 0?this._zoom:b,this.options.crs.pointToLatLng(Et(p),b)},layerPointToLatLng:function(p){var b=Et(p).add(this.getPixelOrigin());return this.unproject(b)},latLngToLayerPoint:function(p){var b=this.project(ue(p))._round();return b._subtract(this.getPixelOrigin())},wrapLatLng:function(p){return this.options.crs.wrapLatLng(ue(p))},wrapLatLngBounds:function(p){return this.options.crs.wrapLatLngBounds(Ce(p))},distance:function(p,b){return this.options.crs.distance(ue(p),ue(b))},containerPointToLayerPoint:function(p){return Et(p).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(p){return Et(p).add(this._getMapPanePos())},containerPointToLatLng:function(p){var b=this.containerPointToLayerPoint(Et(p));return this.layerPointToLatLng(b)},latLngToContainerPoint:function(p){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ue(p)))},mouseEventToContainerPoint:function(p){return pm(p,this._container)},mouseEventToLayerPoint:function(p){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(p))},mouseEventToLatLng:function(p){return this.layerPointToLatLng(this.mouseEventToLayerPoint(p))},_initContainer:function(p){var b=this._container=um(p);if(b){if(b._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ar(b,"scroll",this._onScroll,this),this._containerId=m(b)},_initLayout:function(){var p=this._container;this._fadeAnimated=this.options.fadeAnimation&&je.any3d,hr(p,"leaflet-container"+(je.touch?" leaflet-touch":"")+(je.retina?" leaflet-retina":"")+(je.ielt9?" leaflet-oldie":"")+(je.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var b=uc(p,"position");b!=="absolute"&&b!=="relative"&&b!=="fixed"&&b!=="sticky"&&(p.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var p=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Xi(this._mapPane,new Jt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(hr(p.markerPane,"leaflet-zoom-hide"),hr(p.shadowPane,"leaflet-zoom-hide"))},_resetView:function(p,b,S){Xi(this._mapPane,new Jt(0,0));var R=!this._loaded;this._loaded=!0,b=this._limitZoom(b),this.fire("viewprereset");var G=this._zoom!==b;this._moveStart(G,S)._move(p,b)._moveEnd(G),this.fire("viewreset"),R&&this.fire("load")},_moveStart:function(p,b){return p&&this.fire("zoomstart"),b||this.fire("movestart"),this},_move:function(p,b,S,R){b===void 0&&(b=this._zoom);var G=this._zoom!==b;return this._zoom=b,this._lastCenter=p,this._pixelOrigin=this._getNewPixelOrigin(p),R?S&&S.pinch&&this.fire("zoom",S):((G||S&&S.pinch)&&this.fire("zoom",S),this.fire("move",S)),this},_moveEnd:function(p){return p&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return mt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(p){Xi(this._mapPane,this._getMapPanePos().subtract(p))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(p){this._targets={},this._targets[m(this._container)]=this;var b=p?di:ar;b(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&b(window,"resize",this._onResize,this),je.any3d&&this.options.transform3DLimit&&(p?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){mt(this._resizeRequest),this._resizeRequest=ut(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var p=this._getMapPanePos();Math.max(Math.abs(p.x),Math.abs(p.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(p,b){for(var S=[],R,G=b==="mouseout"||b==="mouseover",rt=p.target||p.srcElement,yt=!1;rt;){if(R=this._targets[m(rt)],R&&(b==="click"||b==="preclick")&&this._draggableMoved(R)){yt=!0;break}if(R&&R.listens(b,!0)&&(G&&!Qs(rt,p)||(S.push(R),G))||rt===this._container)break;rt=rt.parentNode}return!S.length&&!yt&&!G&&this.listens(b,!0)&&(S=[this]),S},_isClickDisabled:function(p){for(;p&&p!==this._container;){if(p._leaflet_disable_click)return!0;p=p.parentNode}},_handleDOMEvent:function(p){var b=p.target||p.srcElement;if(!(!this._loaded||b._leaflet_disable_events||p.type==="click"&&this._isClickDisabled(b))){var S=p.type;S==="mousedown"&&Cp(b),this._fireDOMEvent(p,S)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(p,b,S){if(p.type==="click"){var R=l({},p);R.type="preclick",this._fireDOMEvent(R,R.type,S)}var G=this._findEventTargets(p,b);if(S){for(var rt=[],yt=0;yt<S.length;yt++)S[yt].listens(b,!0)&&rt.push(S[yt]);G=rt.concat(G)}if(G.length){b==="contextmenu"&&Ji(p);var Lt=G[0],jt={originalEvent:p};if(p.type!=="keypress"&&p.type!=="keydown"&&p.type!=="keyup"){var $t=Lt.getLatLng&&(!Lt._radius||Lt._radius<=10);jt.containerPoint=$t?this.latLngToContainerPoint(Lt.getLatLng()):this.mouseEventToContainerPoint(p),jt.layerPoint=this.containerPointToLayerPoint(jt.containerPoint),jt.latlng=$t?Lt.getLatLng():this.layerPointToLatLng(jt.layerPoint)}for(yt=0;yt<G.length;yt++)if(G[yt].fire(b,jt,!0),jt.originalEvent._stopped||G[yt].options.bubblingMouseEvents===!1&&V(this._mouseEvents,b)!==-1)return}},_draggableMoved:function(p){return p=p.dragging&&p.dragging.enabled()?p:this,p.dragging&&p.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var p=0,b=this._handlers.length;p<b;p++)this._handlers[p].disable()},whenReady:function(p,b){return this._loaded?p.call(b||this,{target:this}):this.on("load",p,b),this},_getMapPanePos:function(){return Pi(this._mapPane)||new Jt(0,0)},_moved:function(){var p=this._getMapPanePos();return p&&!p.equals([0,0])},_getTopLeftPoint:function(p,b){var S=p&&b!==void 0?this._getNewPixelOrigin(p,b):this.getPixelOrigin();return S.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(p,b){var S=this.getSize()._divideBy(2);return this.project(p,b)._subtract(S)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(p,b,S){var R=this._getNewPixelOrigin(S,b);return this.project(p,b)._subtract(R)},_latLngBoundsToNewLayerBounds:function(p,b,S){var R=this._getNewPixelOrigin(S,b);return Zt([this.project(p.getSouthWest(),b)._subtract(R),this.project(p.getNorthWest(),b)._subtract(R),this.project(p.getSouthEast(),b)._subtract(R),this.project(p.getNorthEast(),b)._subtract(R)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(p){return this.latLngToLayerPoint(p).subtract(this._getCenterLayerPoint())},_limitCenter:function(p,b,S){if(!S)return p;var R=this.project(p,b),G=this.getSize().divideBy(2),rt=new qt(R.subtract(G),R.add(G)),yt=this._getBoundsOffset(rt,S,b);return Math.abs(yt.x)<=1&&Math.abs(yt.y)<=1?p:this.unproject(R.add(yt),b)},_limitOffset:function(p,b){if(!b)return p;var S=this.getPixelBounds(),R=new qt(S.min.add(p),S.max.add(p));return p.add(this._getBoundsOffset(R,b))},_getBoundsOffset:function(p,b,S){var R=Zt(this.project(b.getNorthEast(),S),this.project(b.getSouthWest(),S)),G=R.min.subtract(p.min),rt=R.max.subtract(p.max),yt=this._rebound(G.x,-rt.x),Lt=this._rebound(G.y,-rt.y);return new Jt(yt,Lt)},_rebound:function(p,b){return p+b>0?Math.round(p-b)/2:Math.max(0,Math.ceil(p))-Math.max(0,Math.floor(b))},_limitZoom:function(p){var b=this.getMinZoom(),S=this.getMaxZoom(),R=je.any3d?this.options.zoomSnap:1;return R&&(p=Math.round(p/R)*R),Math.max(b,Math.min(S,p))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){$e(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(p,b){var S=this._getCenterOffset(p)._trunc();return(b&&b.animate)!==!0&&!this.getSize().contains(S)?!1:(this.panBy(S,b),!0)},_createAnimProxy:function(){var p=this._proxy=ii("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(p),this.on("zoomanim",function(b){var S=Ch,R=this._proxy.style[S];yl(this._proxy,this.project(b.center,b.zoom),this.getZoomScale(b.zoom,1)),R===this._proxy.style[S]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ei(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var p=this.getCenter(),b=this.getZoom();yl(this._proxy,this.project(p,b),this.getZoomScale(b,1))},_catchTransitionEnd:function(p){this._animatingZoom&&p.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(p,b,S){if(this._animatingZoom)return!0;if(S=S||{},!this._zoomAnimated||S.animate===!1||this._nothingToAnimate()||Math.abs(b-this._zoom)>this.options.zoomAnimationThreshold)return!1;var R=this.getZoomScale(b),G=this._getCenterOffset(p)._divideBy(1-1/R);return S.animate!==!0&&!this.getSize().contains(G)?!1:(ut(function(){this._moveStart(!0,S.noMoveStart||!1)._animateZoom(p,b,!0)},this),!0)},_animateZoom:function(p,b,S,R){this._mapPane&&(S&&(this._animatingZoom=!0,this._animateToCenter=p,this._animateToZoom=b,hr(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:p,zoom:b,noUpdate:R}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&$e(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Gy(p,b){return new Xr(p,b)}var fo=ne.extend({options:{position:"topright"},initialize:function(p){F(this,p)},getPosition:function(){return this.options.position},setPosition:function(p){var b=this._map;return b&&b.removeControl(this),this.options.position=p,b&&b.addControl(this),this},getContainer:function(){return this._container},addTo:function(p){this.remove(),this._map=p;var b=this._container=this.onAdd(p),S=this.getPosition(),R=p._controlCorners[S];return hr(b,"leaflet-control"),S.indexOf("bottom")!==-1?R.insertBefore(b,R.firstChild):R.appendChild(b),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ei(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(p){this._map&&p&&p.screenX>0&&p.screenY>0&&this._map.getContainer().focus()}}),Tu=function(p){return new fo(p)};Xr.include({addControl:function(p){return p.addTo(this),this},removeControl:function(p){return p.remove(),this},_initControlPos:function(){var p=this._controlCorners={},b="leaflet-",S=this._controlContainer=ii("div",b+"control-container",this._container);function R(G,rt){var yt=b+G+" "+b+rt;p[G+rt]=ii("div",yt,S)}R("top","left"),R("top","right"),R("bottom","left"),R("bottom","right")},_clearControlPos:function(){for(var p in this._controlCorners)Ei(this._controlCorners[p]);Ei(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ah=fo.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(p,b,S,R){return S<R?-1:R<S?1:0}},initialize:function(p,b,S){F(this,S),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var R in p)this._addLayer(p[R],R);for(R in b)this._addLayer(b[R],R,!0)},onAdd:function(p){this._initLayout(),this._update(),this._map=p,p.on("zoomend",this._checkDisabledLayers,this);for(var b=0;b<this._layers.length;b++)this._layers[b].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(p){return fo.prototype.addTo.call(this,p),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var p=0;p<this._layers.length;p++)this._layers[p].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(p,b){return this._addLayer(p,b),this._map?this._update():this},addOverlay:function(p,b){return this._addLayer(p,b,!0),this._map?this._update():this},removeLayer:function(p){p.off("add remove",this._onLayerChange,this);var b=this._getLayer(m(p));return b&&this._layers.splice(this._layers.indexOf(b),1),this._map?this._update():this},expand:function(){hr(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var p=this._map.getSize().y-(this._container.offsetTop+50);return p<this._section.clientHeight?(hr(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=p+"px"):$e(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return $e(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var p="leaflet-control-layers",b=this._container=ii("div",p),S=this.options.collapsed;b.setAttribute("aria-haspopup",!0),vc(b),Ip(b);var R=this._section=ii("section",p+"-list");S&&(this._map.on("click",this.collapse,this),ar(b,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var G=this._layersLink=ii("a",p+"-toggle",b);G.href="#",G.title="Layers",G.setAttribute("role","button"),ar(G,{keydown:function(rt){rt.keyCode===13&&this._expandSafely()},click:function(rt){Ji(rt),this._expandSafely()}},this),S||this.expand(),this._baseLayersList=ii("div",p+"-base",R),this._separator=ii("div",p+"-separator",R),this._overlaysList=ii("div",p+"-overlays",R),b.appendChild(R)},_getLayer:function(p){for(var b=0;b<this._layers.length;b++)if(this._layers[b]&&m(this._layers[b].layer)===p)return this._layers[b]},_addLayer:function(p,b,S){this._map&&p.on("add remove",this._onLayerChange,this),this._layers.push({layer:p,name:b,overlay:S}),this.options.sortLayers&&this._layers.sort(d(function(R,G){return this.options.sortFunction(R.layer,G.layer,R.name,G.name)},this)),this.options.autoZIndex&&p.setZIndex&&(this._lastZIndex++,p.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;bu(this._baseLayersList),bu(this._overlaysList),this._layerControlInputs=[];var p,b,S,R,G=0;for(S=0;S<this._layers.length;S++)R=this._layers[S],this._addItem(R),b=b||R.overlay,p=p||!R.overlay,G+=R.overlay?0:1;return this.options.hideSingleBase&&(p=p&&G>1,this._baseLayersList.style.display=p?"":"none"),this._separator.style.display=b&&p?"":"none",this},_onLayerChange:function(p){this._handlingClick||this._update();var b=this._getLayer(m(p.target)),S=b.overlay?p.type==="add"?"overlayadd":"overlayremove":p.type==="add"?"baselayerchange":null;S&&this._map.fire(S,b)},_createRadioElement:function(p,b){var S='<input type="radio" class="leaflet-control-layers-selector" name="'+p+'"'+(b?' checked="checked"':"")+"/>",R=document.createElement("div");return R.innerHTML=S,R.firstChild},_addItem:function(p){var b=document.createElement("label"),S=this._map.hasLayer(p.layer),R;p.overlay?(R=document.createElement("input"),R.type="checkbox",R.className="leaflet-control-layers-selector",R.defaultChecked=S):R=this._createRadioElement("leaflet-base-layers_"+m(this),S),this._layerControlInputs.push(R),R.layerId=m(p.layer),ar(R,"click",this._onInputClick,this);var G=document.createElement("span");G.innerHTML=" "+p.name;var rt=document.createElement("span");b.appendChild(rt),rt.appendChild(R),rt.appendChild(G);var yt=p.overlay?this._overlaysList:this._baseLayersList;return yt.appendChild(b),this._checkDisabledLayers(),b},_onInputClick:function(){if(!this._preventClick){var p=this._layerControlInputs,b,S,R=[],G=[];this._handlingClick=!0;for(var rt=p.length-1;rt>=0;rt--)b=p[rt],S=this._getLayer(b.layerId).layer,b.checked?R.push(S):b.checked||G.push(S);for(rt=0;rt<G.length;rt++)this._map.hasLayer(G[rt])&&this._map.removeLayer(G[rt]);for(rt=0;rt<R.length;rt++)this._map.hasLayer(R[rt])||this._map.addLayer(R[rt]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var p=this._layerControlInputs,b,S,R=this._map.getZoom(),G=p.length-1;G>=0;G--)b=p[G],S=this._getLayer(b.layerId).layer,b.disabled=S.options.minZoom!==void 0&&R<S.options.minZoom||S.options.maxZoom!==void 0&&R>S.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var p=this._section;this._preventClick=!0,ar(p,"click",Ji),this.expand();var b=this;setTimeout(function(){di(p,"click",Ji),b._preventClick=!1})}}),gm=function(p,b,S){return new Ah(p,b,S)},Oh=fo.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(p){var b="leaflet-control-zoom",S=ii("div",b+" leaflet-bar"),R=this.options;return this._zoomInButton=this._createButton(R.zoomInText,R.zoomInTitle,b+"-in",S,this._zoomIn),this._zoomOutButton=this._createButton(R.zoomOutText,R.zoomOutTitle,b+"-out",S,this._zoomOut),this._updateDisabled(),p.on("zoomend zoomlevelschange",this._updateDisabled,this),S},onRemove:function(p){p.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(p){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(p.shiftKey?3:1))},_zoomOut:function(p){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(p.shiftKey?3:1))},_createButton:function(p,b,S,R,G){var rt=ii("a",S,R);return rt.innerHTML=p,rt.href="#",rt.title=b,rt.setAttribute("role","button"),rt.setAttribute("aria-label",b),vc(rt),ar(rt,"click",xl),ar(rt,"click",G,this),ar(rt,"click",this._refocusOnMap,this),rt},_updateDisabled:function(){var p=this._map,b="leaflet-disabled";$e(this._zoomInButton,b),$e(this._zoomOutButton,b),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||p._zoom===p.getMinZoom())&&(hr(this._zoomOutButton,b),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||p._zoom===p.getMaxZoom())&&(hr(this._zoomInButton,b),this._zoomInButton.setAttribute("aria-disabled","true"))}});Xr.mergeOptions({zoomControl:!0}),Xr.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Oh,this.addControl(this.zoomControl))});var qy=function(p){return new Oh(p)},mm=fo.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(p){var b="leaflet-control-scale",S=ii("div",b),R=this.options;return this._addScales(R,b+"-line",S),p.on(R.updateWhenIdle?"moveend":"move",this._update,this),p.whenReady(this._update,this),S},onRemove:function(p){p.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(p,b,S){p.metric&&(this._mScale=ii("div",b,S)),p.imperial&&(this._iScale=ii("div",b,S))},_update:function(){var p=this._map,b=p.getSize().y/2,S=p.distance(p.containerPointToLatLng([0,b]),p.containerPointToLatLng([this.options.maxWidth,b]));this._updateScales(S)},_updateScales:function(p){this.options.metric&&p&&this._updateMetric(p),this.options.imperial&&p&&this._updateImperial(p)},_updateMetric:function(p){var b=this._getRoundNum(p),S=b<1e3?b+" m":b/1e3+" km";this._updateScale(this._mScale,S,b/p)},_updateImperial:function(p){var b=p*3.2808399,S,R,G;b>5280?(S=b/5280,R=this._getRoundNum(S),this._updateScale(this._iScale,R+" mi",R/S)):(G=this._getRoundNum(b),this._updateScale(this._iScale,G+" ft",G/b))},_updateScale:function(p,b,S){p.style.width=Math.round(this.options.maxWidth*S)+"px",p.innerHTML=b},_getRoundNum:function(p){var b=Math.pow(10,(Math.floor(p)+"").length-1),S=p/b;return S=S>=10?10:S>=5?5:S>=3?3:S>=2?2:1,b*S}}),vm=function(p){return new mm(p)},Ap='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',zh=fo.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(je.inlineSvg?Ap+" ":"")+"Leaflet</a>"},initialize:function(p){F(this,p),this._attributions={}},onAdd:function(p){p.attributionControl=this,this._container=ii("div","leaflet-control-attribution"),vc(this._container);for(var b in p._layers)p._layers[b].getAttribution&&this.addAttribution(p._layers[b].getAttribution());return this._update(),p.on("layeradd",this._addAttribution,this),this._container},onRemove:function(p){p.off("layeradd",this._addAttribution,this)},_addAttribution:function(p){p.layer.getAttribution&&(this.addAttribution(p.layer.getAttribution()),p.layer.once("remove",function(){this.removeAttribution(p.layer.getAttribution())},this))},setPrefix:function(p){return this.options.prefix=p,this._update(),this},addAttribution:function(p){return p?(this._attributions[p]||(this._attributions[p]=0),this._attributions[p]++,this._update(),this):this},removeAttribution:function(p){return p?(this._attributions[p]&&(this._attributions[p]--,this._update()),this):this},_update:function(){if(this._map){var p=[];for(var b in this._attributions)this._attributions[b]&&p.push(b);var S=[];this.options.prefix&&S.push(this.options.prefix),p.length&&S.push(p.join(", ")),this._container.innerHTML=S.join(' <span aria-hidden="true">|</span> ')}}});Xr.mergeOptions({attributionControl:!0}),Xr.addInitHook(function(){this.options.attributionControl&&new zh().addTo(this)});var ym=function(p){return new zh(p)};fo.Layers=Ah,fo.Zoom=Oh,fo.Scale=mm,fo.Attribution=zh,Tu.layers=gm,Tu.zoom=qy,Tu.scale=vm,Tu.attribution=ym;var Qi=ne.extend({initialize:function(p){this._map=p},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Qi.addTo=function(p,b){return p.addHandler(b,this),this};var Op={Events:Bt},ws=je.touch?"touchstart mousedown":"mousedown",Qo=pe.extend({options:{clickTolerance:3},initialize:function(p,b,S,R){F(this,R),this._element=p,this._dragStartTarget=b||p,this._preventOutline=S},enable:function(){this._enabled||(ar(this._dragStartTarget,ws,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Qo._dragging===this&&this.finishDrag(!0),di(this._dragStartTarget,ws,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(p){if(this._enabled&&(this._moved=!1,!hc(this._element,"leaflet-zoom-anim"))){if(p.touches&&p.touches.length!==1){Qo._dragging===this&&this.finishDrag();return}if(!(Qo._dragging||p.shiftKey||p.which!==1&&p.button!==1&&!p.touches)&&(Qo._dragging=this,this._preventOutline&&Cp(this._element),Sp(),pc(),!this._moving)){this.fire("down");var b=p.touches?p.touches[0]:p,S=_u(this._element);this._startPoint=new Jt(b.clientX,b.clientY),this._startPos=Pi(this._element),this._parentScale=ku(S);var R=p.type==="mousedown";ar(document,R?"mousemove":"touchmove",this._onMove,this),ar(document,R?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(p){if(this._enabled){if(p.touches&&p.touches.length>1){this._moved=!0;return}var b=p.touches&&p.touches.length===1?p.touches[0]:p,S=new Jt(b.clientX,b.clientY)._subtract(this._startPoint);!S.x&&!S.y||Math.abs(S.x)+Math.abs(S.y)<this.options.clickTolerance||(S.x/=this._parentScale.x,S.y/=this._parentScale.y,Ji(p),this._moved||(this.fire("dragstart"),this._moved=!0,hr(document.body,"leaflet-dragging"),this._lastTarget=p.target||p.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),hr(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(S),this._moving=!0,this._lastEvent=p,this._updatePosition())}},_updatePosition:function(){var p={originalEvent:this._lastEvent};this.fire("predrag",p),Xi(this._element,this._newPos),this.fire("drag",p)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(p){$e(document.body,"leaflet-dragging"),this._lastTarget&&($e(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),di(document,"mousemove touchmove",this._onMove,this),di(document,"mouseup touchend touchcancel",this._onUp,this),mc(),fc();var b=this._moved&&this._moving;this._moving=!1,Qo._dragging=!1,b&&this.fire("dragend",{noInertia:p,distance:this._newPos.distanceTo(this._startPos)})}});function $s(p,b,S){var R,G=[1,4,2,8],rt,yt,Lt,jt,$t,xe,Je,pr;for(rt=0,xe=p.length;rt<xe;rt++)p[rt]._code=_l(p[rt],b);for(Lt=0;Lt<4;Lt++){for(Je=G[Lt],R=[],rt=0,xe=p.length,yt=xe-1;rt<xe;yt=rt++)jt=p[rt],$t=p[yt],jt._code&Je?$t._code&Je||(pr=Dh($t,jt,Je,b,S),pr._code=_l(pr,b),R.push(pr)):($t._code&Je&&(pr=Dh($t,jt,Je,b,S),pr._code=_l(pr,b),R.push(pr)),R.push(jt));p=R}return p}function Su(p,b){var S,R,G,rt,yt,Lt,jt,$t,xe;if(!p||p.length===0)throw new Error("latlngs not passed");wn(p)||(console.warn("latlngs are not flat! Only the first ring will be used"),p=p[0]);var Je=ue([0,0]),pr=Ce(p),In=pr.getNorthWest().distanceTo(pr.getSouthWest())*pr.getNorthEast().distanceTo(pr.getNorthWest());In<1700&&(Je=Nh(p));var $i=p.length,Ln=[];for(S=0;S<$i;S++){var qn=ue(p[S]);Ln.push(b.project(ue([qn.lat-Je.lat,qn.lng-Je.lng])))}for(Lt=jt=$t=0,S=0,R=$i-1;S<$i;R=S++)G=Ln[S],rt=Ln[R],yt=G.y*rt.x-rt.y*G.x,jt+=(G.x+rt.x)*yt,$t+=(G.y+rt.y)*yt,Lt+=yt*3;Lt===0?xe=Ln[0]:xe=[jt/Lt,$t/Lt];var Ml=b.unproject(Et(xe));return ue([Ml.lat+Je.lat,Ml.lng+Je.lng])}function Nh(p){for(var b=0,S=0,R=0,G=0;G<p.length;G++){var rt=ue(p[G]);b+=rt.lat,S+=rt.lng,R++}return ue([b/R,S/R])}var Vy={__proto__:null,clipPolygon:$s,polygonCenter:Su,centroid:Nh};function Cu(p,b){if(!b||!p.length)return p.slice();var S=b*b;return p=Wy(p,S),p=Mu(p,S),p}function zp(p,b,S){return Math.sqrt(Iu(p,b,S,!0))}function Pu(p,b,S){return Iu(p,b,S)}function Mu(p,b){var S=p.length,R=typeof Uint8Array!=void 0+""?Uint8Array:Array,G=new R(S);G[0]=G[S-1]=1,Np(p,G,b,0,S-1);var rt,yt=[];for(rt=0;rt<S;rt++)G[rt]&&yt.push(p[rt]);return yt}function Np(p,b,S,R,G){var rt=0,yt,Lt,jt;for(Lt=R+1;Lt<=G-1;Lt++)jt=Iu(p[Lt],p[R],p[G],!0),jt>rt&&(yt=Lt,rt=jt);rt>S&&(b[yt]=1,Np(p,b,S,R,yt),Np(p,b,S,yt,G))}function Wy(p,b){for(var S=[p[0]],R=1,G=0,rt=p.length;R<rt;R++)Dp(p[R],p[G])>b&&(S.push(p[R]),G=R);return G<rt-1&&S.push(p[rt-1]),S}var bm;function wm(p,b,S,R,G){var rt=R?bm:_l(p,S),yt=_l(b,S),Lt,jt,$t;for(bm=yt;;){if(!(rt|yt))return[p,b];if(rt&yt)return!1;Lt=rt||yt,jt=Dh(p,b,Lt,S,G),$t=_l(jt,S),Lt===rt?(p=jt,rt=$t):(b=jt,yt=$t)}}function Dh(p,b,S,R,G){var rt=b.x-p.x,yt=b.y-p.y,Lt=R.min,jt=R.max,$t,xe;return S&8?($t=p.x+rt*(jt.y-p.y)/yt,xe=jt.y):S&4?($t=p.x+rt*(Lt.y-p.y)/yt,xe=Lt.y):S&2?($t=jt.x,xe=p.y+yt*(jt.x-p.x)/rt):S&1&&($t=Lt.x,xe=p.y+yt*(Lt.x-p.x)/rt),new Jt($t,xe,G)}function _l(p,b){var S=0;return p.x<b.min.x?S|=1:p.x>b.max.x&&(S|=2),p.y<b.min.y?S|=4:p.y>b.max.y&&(S|=8),S}function Dp(p,b){var S=b.x-p.x,R=b.y-p.y;return S*S+R*R}function Iu(p,b,S,R){var G=b.x,rt=b.y,yt=S.x-G,Lt=S.y-rt,jt=yt*yt+Lt*Lt,$t;return jt>0&&($t=((p.x-G)*yt+(p.y-rt)*Lt)/jt,$t>1?(G=S.x,rt=S.y):$t>0&&(G+=yt*$t,rt+=Lt*$t)),yt=p.x-G,Lt=p.y-rt,R?yt*yt+Lt*Lt:new Jt(G,rt)}function wn(p){return!H(p[0])||typeof p[0][0]!="object"&&typeof p[0][0]<"u"}function xm(p){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),wn(p)}function ln(p,b){var S,R,G,rt,yt,Lt,jt,$t;if(!p||p.length===0)throw new Error("latlngs not passed");wn(p)||(console.warn("latlngs are not flat! Only the first ring will be used"),p=p[0]);var xe=ue([0,0]),Je=Ce(p),pr=Je.getNorthWest().distanceTo(Je.getSouthWest())*Je.getNorthEast().distanceTo(Je.getNorthWest());pr<1700&&(xe=Nh(p));var In=p.length,$i=[];for(S=0;S<In;S++){var Ln=ue(p[S]);$i.push(b.project(ue([Ln.lat-xe.lat,Ln.lng-xe.lng])))}for(S=0,R=0;S<In-1;S++)R+=$i[S].distanceTo($i[S+1])/2;if(R===0)$t=$i[0];else for(S=0,rt=0;S<In-1;S++)if(yt=$i[S],Lt=$i[S+1],G=yt.distanceTo(Lt),rt+=G,rt>R){jt=(rt-R)/G,$t=[Lt.x-jt*(Lt.x-yt.x),Lt.y-jt*(Lt.y-yt.y)];break}var qn=b.unproject(Et($t));return ue([qn.lat+xe.lat,qn.lng+xe.lng])}var kl={__proto__:null,simplify:Cu,pointToSegmentDistance:zp,closestPointOnSegment:Pu,clipSegment:wm,_getEdgeIntersection:Dh,_getBitCode:_l,_sqClosestPointOnSegment:Iu,isFlat:wn,_flat:xm,polylineCenter:ln},Fh={project:function(p){return new Jt(p.lng,p.lat)},unproject:function(p){return new le(p.y,p.x)},bounds:new qt([-180,-90],[180,90])},El={R:6378137,R_MINOR:6356752314245179e-9,bounds:new qt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(p){var b=Math.PI/180,S=this.R,R=p.lat*b,G=this.R_MINOR/S,rt=Math.sqrt(1-G*G),yt=rt*Math.sin(R),Lt=Math.tan(Math.PI/4-R/2)/Math.pow((1-yt)/(1+yt),rt/2);return R=-S*Math.log(Math.max(Lt,1e-10)),new Jt(p.lng*b*S,R)},unproject:function(p){for(var b=180/Math.PI,S=this.R,R=this.R_MINOR/S,G=Math.sqrt(1-R*R),rt=Math.exp(-p.y/S),yt=Math.PI/2-2*Math.atan(rt),Lt=0,jt=.1,$t;Lt<15&&Math.abs(jt)>1e-7;Lt++)$t=G*Math.sin(yt),$t=Math.pow((1-$t)/(1+$t),G/2),jt=Math.PI/2-2*Math.atan(rt*$t)-yt,yt+=jt;return new le(yt*b,p.x*b/S)}},_m={__proto__:null,LonLat:Fh,Mercator:El,SphericalMercator:Yt},km=l({},Ut,{code:"EPSG:3395",projection:El,transformation:function(){var p=.5/(Math.PI*El.R);return nt(p,.5,-p,.5)}()}),yc=l({},Ut,{code:"EPSG:4326",projection:Fh,transformation:nt(1/180,1,-1/180,.5)}),Fp=l({},er,{projection:Fh,transformation:nt(1,0,-1,0),scale:function(p){return Math.pow(2,p)},zoom:function(p){return Math.log(p)/Math.LN2},distance:function(p,b){var S=b.lng-p.lng,R=b.lat-p.lat;return Math.sqrt(S*S+R*R)},infinite:!0});er.Earth=Ut,er.EPSG3395=km,er.EPSG3857=pt,er.EPSG900913=vt,er.EPSG4326=yc,er.Simple=Fp;var go=pe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(p){return p.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(p){return p&&p.removeLayer(this),this},getPane:function(p){return this._map.getPane(p?this.options[p]||p:this.options.pane)},addInteractiveTarget:function(p){return this._map._targets[m(p)]=this,this},removeInteractiveTarget:function(p){return delete this._map._targets[m(p)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(p){var b=p.target;if(b.hasLayer(this)){if(this._map=b,this._zoomAnimated=b._zoomAnimated,this.getEvents){var S=this.getEvents();b.on(S,this),this.once("remove",function(){b.off(S,this)},this)}this.onAdd(b),this.fire("add"),b.fire("layeradd",{layer:this})}}});Xr.include({addLayer:function(p){if(!p._layerAdd)throw new Error("The provided object is not a Layer.");var b=m(p);return this._layers[b]?this:(this._layers[b]=p,p._mapToAdd=this,p.beforeAdd&&p.beforeAdd(this),this.whenReady(p._layerAdd,p),this)},removeLayer:function(p){var b=m(p);return this._layers[b]?(this._loaded&&p.onRemove(this),delete this._layers[b],this._loaded&&(this.fire("layerremove",{layer:p}),p.fire("remove")),p._map=p._mapToAdd=null,this):this},hasLayer:function(p){return m(p)in this._layers},eachLayer:function(p,b){for(var S in this._layers)p.call(b,this._layers[S]);return this},_addLayers:function(p){p=p?H(p)?p:[p]:[];for(var b=0,S=p.length;b<S;b++)this.addLayer(p[b])},_addZoomLimit:function(p){(!isNaN(p.options.maxZoom)||!isNaN(p.options.minZoom))&&(this._zoomBoundLayers[m(p)]=p,this._updateZoomLevels())},_removeZoomLimit:function(p){var b=m(p);this._zoomBoundLayers[b]&&(delete this._zoomBoundLayers[b],this._updateZoomLevels())},_updateZoomLevels:function(){var p=1/0,b=-1/0,S=this._getZoomSpan();for(var R in this._zoomBoundLayers){var G=this._zoomBoundLayers[R].options;p=G.minZoom===void 0?p:Math.min(p,G.minZoom),b=G.maxZoom===void 0?b:Math.max(b,G.maxZoom)}this._layersMaxZoom=b===-1/0?void 0:b,this._layersMinZoom=p===1/0?void 0:p,S!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Tl=go.extend({initialize:function(p,b){F(this,b),this._layers={};var S,R;if(p)for(S=0,R=p.length;S<R;S++)this.addLayer(p[S])},addLayer:function(p){var b=this.getLayerId(p);return this._layers[b]=p,this._map&&this._map.addLayer(p),this},removeLayer:function(p){var b=p in this._layers?p:this.getLayerId(p);return this._map&&this._layers[b]&&this._map.removeLayer(this._layers[b]),delete this._layers[b],this},hasLayer:function(p){var b=typeof p=="number"?p:this.getLayerId(p);return b in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(p){var b=Array.prototype.slice.call(arguments,1),S,R;for(S in this._layers)R=this._layers[S],R[p]&&R[p].apply(R,b);return this},onAdd:function(p){this.eachLayer(p.addLayer,p)},onRemove:function(p){this.eachLayer(p.removeLayer,p)},eachLayer:function(p,b){for(var S in this._layers)p.call(b,this._layers[S]);return this},getLayer:function(p){return this._layers[p]},getLayers:function(){var p=[];return this.eachLayer(p.push,p),p},setZIndex:function(p){return this.invoke("setZIndex",p)},getLayerId:function(p){return m(p)}}),Bh=function(p,b){return new Tl(p,b)},Gn=Tl.extend({addLayer:function(p){return this.hasLayer(p)?this:(p.addEventParent(this),Tl.prototype.addLayer.call(this,p),this.fire("layeradd",{layer:p}))},removeLayer:function(p){return this.hasLayer(p)?(p in this._layers&&(p=this._layers[p]),p.removeEventParent(this),Tl.prototype.removeLayer.call(this,p),this.fire("layerremove",{layer:p})):this},setStyle:function(p){return this.invoke("setStyle",p)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var p=new fe;for(var b in this._layers){var S=this._layers[b];p.extend(S.getBounds?S.getBounds():S.getLatLng())}return p}}),cn=function(p,b){return new Gn(p,b)},xs=ne.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(p){F(this,p)},createIcon:function(p){return this._createIcon("icon",p)},createShadow:function(p){return this._createIcon("shadow",p)},_createIcon:function(p,b){var S=this._getIconUrl(p);if(!S){if(p==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var R=this._createImg(S,b&&b.tagName==="IMG"?b:null);return this._setIconStyles(R,p),(this.options.crossOrigin||this.options.crossOrigin==="")&&(R.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),R},_setIconStyles:function(p,b){var S=this.options,R=S[b+"Size"];typeof R=="number"&&(R=[R,R]);var G=Et(R),rt=Et(b==="shadow"&&S.shadowAnchor||S.iconAnchor||G&&G.divideBy(2,!0));p.className="leaflet-marker-"+b+" "+(S.className||""),rt&&(p.style.marginLeft=-rt.x+"px",p.style.marginTop=-rt.y+"px"),G&&(p.style.width=G.x+"px",p.style.height=G.y+"px")},_createImg:function(p,b){return b=b||document.createElement("img"),b.src=p,b},_getIconUrl:function(p){return je.retina&&this.options[p+"RetinaUrl"]||this.options[p+"Url"]}});function Em(p){return new xs(p)}var bc=xs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(p){return typeof bc.imagePath!="string"&&(bc.imagePath=this._detectIconPath()),(this.options.imagePath||bc.imagePath)+xs.prototype._getIconUrl.call(this,p)},_stripUrl:function(p){var b=function(S,R,G){var rt=R.exec(S);return rt&&rt[G]};return p=b(p,/^url\((['"])?(.+)\1\)$/,2),p&&b(p,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var p=ii("div","leaflet-default-icon-path",document.body),b=uc(p,"background-image")||uc(p,"backgroundImage");if(document.body.removeChild(p),b=this._stripUrl(b),b)return b;var S=document.querySelector('link[href$="leaflet.css"]');return S?S.href.substring(0,S.href.length-11-1):""}}),jh=Qi.extend({initialize:function(p){this._marker=p},addHooks:function(){var p=this._marker._icon;this._draggable||(this._draggable=new Qo(p,p,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),hr(p,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&$e(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(p){var b=this._marker,S=b._map,R=this._marker.options.autoPanSpeed,G=this._marker.options.autoPanPadding,rt=Pi(b._icon),yt=S.getPixelBounds(),Lt=S.getPixelOrigin(),jt=Zt(yt.min._subtract(Lt).add(G),yt.max._subtract(Lt).subtract(G));if(!jt.contains(rt)){var $t=Et((Math.max(jt.max.x,rt.x)-jt.max.x)/(yt.max.x-jt.max.x)-(Math.min(jt.min.x,rt.x)-jt.min.x)/(yt.min.x-jt.min.x),(Math.max(jt.max.y,rt.y)-jt.max.y)/(yt.max.y-jt.max.y)-(Math.min(jt.min.y,rt.y)-jt.min.y)/(yt.min.y-jt.min.y)).multiplyBy(R);S.panBy($t,{animate:!1}),this._draggable._newPos._add($t),this._draggable._startPos._add($t),Xi(b._icon,this._draggable._newPos),this._onDrag(p),this._panRequest=ut(this._adjustPan.bind(this,p))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(p){this._marker.options.autoPan&&(mt(this._panRequest),this._panRequest=ut(this._adjustPan.bind(this,p)))},_onDrag:function(p){var b=this._marker,S=b._shadow,R=Pi(b._icon),G=b._map.layerPointToLatLng(R);S&&Xi(S,R),b._latlng=G,p.latlng=G,p.oldLatLng=this._oldLatLng,b.fire("move",p).fire("drag",p)},_onDragEnd:function(p){mt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",p)}}),Sl=go.extend({options:{icon:new bc,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(p,b){F(this,b),this._latlng=ue(p)},onAdd:function(p){this._zoomAnimated=this._zoomAnimated&&p.options.markerZoomAnimation,this._zoomAnimated&&p.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(p){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&p.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(p){var b=this._latlng;return this._latlng=ue(p),this.update(),this.fire("move",{oldLatLng:b,latlng:this._latlng})},setZIndexOffset:function(p){return this.options.zIndexOffset=p,this.update()},getIcon:function(){return this.options.icon},setIcon:function(p){return this.options.icon=p,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var p=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(p)}return this},_initIcon:function(){var p=this.options,b="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),S=p.icon.createIcon(this._icon),R=!1;S!==this._icon&&(this._icon&&this._removeIcon(),R=!0,p.title&&(S.title=p.title),S.tagName==="IMG"&&(S.alt=p.alt||"")),hr(S,b),p.keyboard&&(S.tabIndex="0",S.setAttribute("role","button")),this._icon=S,p.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ar(S,"focus",this._panOnFocus,this);var G=p.icon.createShadow(this._shadow),rt=!1;G!==this._shadow&&(this._removeShadow(),rt=!0),G&&(hr(G,b),G.alt=""),this._shadow=G,p.opacity<1&&this._updateOpacity(),R&&this.getPane().appendChild(this._icon),this._initInteraction(),G&&rt&&this.getPane(p.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&di(this._icon,"focus",this._panOnFocus,this),Ei(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ei(this._shadow),this._shadow=null},_setPos:function(p){this._icon&&Xi(this._icon,p),this._shadow&&Xi(this._shadow,p),this._zIndex=p.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(p){this._icon&&(this._icon.style.zIndex=this._zIndex+p)},_animateZoom:function(p){var b=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center).round();this._setPos(b)},_initInteraction:function(){if(this.options.interactive&&(hr(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),jh)){var p=this.options.draggable;this.dragging&&(p=this.dragging.enabled(),this.dragging.disable()),this.dragging=new jh(this),p&&this.dragging.enable()}},setOpacity:function(p){return this.options.opacity=p,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var p=this.options.opacity;this._icon&&or(this._icon,p),this._shadow&&or(this._shadow,p)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var p=this._map;if(p){var b=this.options.icon.options,S=b.iconSize?Et(b.iconSize):Et(0,0),R=b.iconAnchor?Et(b.iconAnchor):Et(0,0);p.panInside(this._latlng,{paddingTopLeft:R,paddingBottomRight:S.subtract(R)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Tm(p,b){return new Sl(p,b)}var ta=go.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(p){this._renderer=p.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(p){return F(this,p),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&p&&Object.prototype.hasOwnProperty.call(p,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Hh=ta.extend({options:{fill:!0,radius:10},initialize:function(p,b){F(this,b),this._latlng=ue(p),this._radius=this.options.radius},setLatLng:function(p){var b=this._latlng;return this._latlng=ue(p),this.redraw(),this.fire("move",{oldLatLng:b,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(p){return this.options.radius=this._radius=p,this.redraw()},getRadius:function(){return this._radius},setStyle:function(p){var b=p&&p.radius||this._radius;return ta.prototype.setStyle.call(this,p),this.setRadius(b),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var p=this._radius,b=this._radiusY||p,S=this._clickTolerance(),R=[p+S,b+S];this._pxBounds=new qt(this._point.subtract(R),this._point.add(R))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(p){return p.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Zy(p,b){return new Hh(p,b)}var Bp=Hh.extend({initialize:function(p,b,S){if(typeof b=="number"&&(b=l({},S,{radius:b})),F(this,b),this._latlng=ue(p),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(p){return this._mRadius=p,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var p=[this._radius,this._radiusY||this._radius];return new fe(this._map.layerPointToLatLng(this._point.subtract(p)),this._map.layerPointToLatLng(this._point.add(p)))},setStyle:ta.prototype.setStyle,_project:function(){var p=this._latlng.lng,b=this._latlng.lat,S=this._map,R=S.options.crs;if(R.distance===Ut.distance){var G=Math.PI/180,rt=this._mRadius/Ut.R/G,yt=S.project([b+rt,p]),Lt=S.project([b-rt,p]),jt=yt.add(Lt).divideBy(2),$t=S.unproject(jt).lat,xe=Math.acos((Math.cos(rt*G)-Math.sin(b*G)*Math.sin($t*G))/(Math.cos(b*G)*Math.cos($t*G)))/G;(isNaN(xe)||xe===0)&&(xe=rt/Math.cos(Math.PI/180*b)),this._point=jt.subtract(S.getPixelOrigin()),this._radius=isNaN(xe)?0:jt.x-S.project([$t,p-xe]).x,this._radiusY=jt.y-yt.y}else{var Je=R.unproject(R.project(this._latlng).subtract([this._mRadius,0]));this._point=S.latLngToLayerPoint(this._latlng),this._radius=this._point.x-S.latLngToLayerPoint(Je).x}this._updateBounds()}});function Yy(p,b,S){return new Bp(p,b,S)}var ea=ta.extend({options:{smoothFactor:1,noClip:!1},initialize:function(p,b){F(this,b),this._setLatLngs(p)},getLatLngs:function(){return this._latlngs},setLatLngs:function(p){return this._setLatLngs(p),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(p){for(var b=1/0,S=null,R=Iu,G,rt,yt=0,Lt=this._parts.length;yt<Lt;yt++)for(var jt=this._parts[yt],$t=1,xe=jt.length;$t<xe;$t++){G=jt[$t-1],rt=jt[$t];var Je=R(p,G,rt,!0);Je<b&&(b=Je,S=R(p,G,rt))}return S&&(S.distance=Math.sqrt(b)),S},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ln(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(p,b){return b=b||this._defaultShape(),p=ue(p),b.push(p),this._bounds.extend(p),this.redraw()},_setLatLngs:function(p){this._bounds=new fe,this._latlngs=this._convertLatLngs(p)},_defaultShape:function(){return wn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(p){for(var b=[],S=wn(p),R=0,G=p.length;R<G;R++)S?(b[R]=ue(p[R]),this._bounds.extend(b[R])):b[R]=this._convertLatLngs(p[R]);return b},_project:function(){var p=new qt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,p),this._bounds.isValid()&&p.isValid()&&(this._rawPxBounds=p,this._updateBounds())},_updateBounds:function(){var p=this._clickTolerance(),b=new Jt(p,p);this._rawPxBounds&&(this._pxBounds=new qt([this._rawPxBounds.min.subtract(b),this._rawPxBounds.max.add(b)]))},_projectLatlngs:function(p,b,S){var R=p[0]instanceof le,G=p.length,rt,yt;if(R){for(yt=[],rt=0;rt<G;rt++)yt[rt]=this._map.latLngToLayerPoint(p[rt]),S.extend(yt[rt]);b.push(yt)}else for(rt=0;rt<G;rt++)this._projectLatlngs(p[rt],b,S)},_clipPoints:function(){var p=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(p))){if(this.options.noClip){this._parts=this._rings;return}var b=this._parts,S,R,G,rt,yt,Lt,jt;for(S=0,G=0,rt=this._rings.length;S<rt;S++)for(jt=this._rings[S],R=0,yt=jt.length;R<yt-1;R++)Lt=wm(jt[R],jt[R+1],p,R,!0),Lt&&(b[G]=b[G]||[],b[G].push(Lt[0]),(Lt[1]!==jt[R+1]||R===yt-2)&&(b[G].push(Lt[1]),G++))}},_simplifyPoints:function(){for(var p=this._parts,b=this.options.smoothFactor,S=0,R=p.length;S<R;S++)p[S]=Cu(p[S],b)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(p,b){var S,R,G,rt,yt,Lt,jt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(p))return!1;for(S=0,rt=this._parts.length;S<rt;S++)for(Lt=this._parts[S],R=0,yt=Lt.length,G=yt-1;R<yt;G=R++)if(!(!b&&R===0)&&zp(p,Lt[G],Lt[R])<=jt)return!0;return!1}});function Xy(p,b){return new ea(p,b)}ea._flat=xm;var wc=ea.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Su(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(p){var b=ea.prototype._convertLatLngs.call(this,p),S=b.length;return S>=2&&b[0]instanceof le&&b[0].equals(b[S-1])&&b.pop(),b},_setLatLngs:function(p){ea.prototype._setLatLngs.call(this,p),wn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return wn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var p=this._renderer._bounds,b=this.options.weight,S=new Jt(b,b);if(p=new qt(p.min.subtract(S),p.max.add(S)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(p))){if(this.options.noClip){this._parts=this._rings;return}for(var R=0,G=this._rings.length,rt;R<G;R++)rt=$s(this._rings[R],p,!0),rt.length&&this._parts.push(rt)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(p){var b=!1,S,R,G,rt,yt,Lt,jt,$t;if(!this._pxBounds||!this._pxBounds.contains(p))return!1;for(rt=0,jt=this._parts.length;rt<jt;rt++)for(S=this._parts[rt],yt=0,$t=S.length,Lt=$t-1;yt<$t;Lt=yt++)R=S[yt],G=S[Lt],R.y>p.y!=G.y>p.y&&p.x<(G.x-R.x)*(p.y-R.y)/(G.y-R.y)+R.x&&(b=!b);return b||ea.prototype._containsPoint.call(this,p,!0)}});function Ky(p,b){return new wc(p,b)}var ra=Gn.extend({initialize:function(p,b){F(this,b),this._layers={},p&&this.addData(p)},addData:function(p){var b=H(p)?p:p.features,S,R,G;if(b){for(S=0,R=b.length;S<R;S++)G=b[S],(G.geometries||G.geometry||G.features||G.coordinates)&&this.addData(G);return this}var rt=this.options;if(rt.filter&&!rt.filter(p))return this;var yt=Uh(p,rt);return yt?(yt.feature=Vh(p),yt.defaultOptions=yt.options,this.resetStyle(yt),rt.onEachFeature&&rt.onEachFeature(p,yt),this.addLayer(yt)):this},resetStyle:function(p){return p===void 0?this.eachLayer(this.resetStyle,this):(p.options=l({},p.defaultOptions),this._setLayerStyle(p,this.options.style),this)},setStyle:function(p){return this.eachLayer(function(b){this._setLayerStyle(b,p)},this)},_setLayerStyle:function(p,b){p.setStyle&&(typeof b=="function"&&(b=b(p.feature)),p.setStyle(b))}});function Uh(p,b){var S=p.type==="Feature"?p.geometry:p,R=S?S.coordinates:null,G=[],rt=b&&b.pointToLayer,yt=b&&b.coordsToLatLng||jp,Lt,jt,$t,xe;if(!R&&!S)return null;switch(S.type){case"Point":return Lt=yt(R),Sm(rt,p,Lt,b);case"MultiPoint":for($t=0,xe=R.length;$t<xe;$t++)Lt=yt(R[$t]),G.push(Sm(rt,p,Lt,b));return new Gn(G);case"LineString":case"MultiLineString":return jt=Gh(R,S.type==="LineString"?0:1,yt),new ea(jt,b);case"Polygon":case"MultiPolygon":return jt=Gh(R,S.type==="Polygon"?1:2,yt),new wc(jt,b);case"GeometryCollection":for($t=0,xe=S.geometries.length;$t<xe;$t++){var Je=Uh({geometry:S.geometries[$t],type:"Feature",properties:p.properties},b);Je&&G.push(Je)}return new Gn(G);case"FeatureCollection":for($t=0,xe=S.features.length;$t<xe;$t++){var pr=Uh(S.features[$t],b);pr&&G.push(pr)}return new Gn(G);default:throw new Error("Invalid GeoJSON object.")}}function Sm(p,b,S,R){return p?p(b,S):new Sl(S,R&&R.markersInheritOptions&&R)}function jp(p){return new le(p[1],p[0],p[2])}function Gh(p,b,S){for(var R=[],G=0,rt=p.length,yt;G<rt;G++)yt=b?Gh(p[G],b-1,S):(S||jp)(p[G]),R.push(yt);return R}function Hp(p,b){return p=ue(p),p.alt!==void 0?[C(p.lng,b),C(p.lat,b),C(p.alt,b)]:[C(p.lng,b),C(p.lat,b)]}function qh(p,b,S,R){for(var G=[],rt=0,yt=p.length;rt<yt;rt++)G.push(b?qh(p[rt],wn(p[rt])?0:b-1,S,R):Hp(p[rt],R));return!b&&S&&G.length>0&&G.push(G[0].slice()),G}function xc(p,b){return p.feature?l({},p.feature,{geometry:b}):Vh(b)}function Vh(p){return p.type==="Feature"||p.type==="FeatureCollection"?p:{type:"Feature",properties:{},geometry:p}}var Lu={toGeoJSON:function(p){return xc(this,{type:"Point",coordinates:Hp(this.getLatLng(),p)})}};Sl.include(Lu),Bp.include(Lu),Hh.include(Lu),ea.include({toGeoJSON:function(p){var b=!wn(this._latlngs),S=qh(this._latlngs,b?1:0,!1,p);return xc(this,{type:(b?"Multi":"")+"LineString",coordinates:S})}}),wc.include({toGeoJSON:function(p){var b=!wn(this._latlngs),S=b&&!wn(this._latlngs[0]),R=qh(this._latlngs,S?2:b?1:0,!0,p);return b||(R=[R]),xc(this,{type:(S?"Multi":"")+"Polygon",coordinates:R})}}),Tl.include({toMultiPoint:function(p){var b=[];return this.eachLayer(function(S){b.push(S.toGeoJSON(p).geometry.coordinates)}),xc(this,{type:"MultiPoint",coordinates:b})},toGeoJSON:function(p){var b=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(b==="MultiPoint")return this.toMultiPoint(p);var S=b==="GeometryCollection",R=[];return this.eachLayer(function(G){if(G.toGeoJSON){var rt=G.toGeoJSON(p);if(S)R.push(rt.geometry);else{var yt=Vh(rt);yt.type==="FeatureCollection"?R.push.apply(R,yt.features):R.push(yt)}}}),S?xc(this,{geometries:R,type:"GeometryCollection"}):{type:"FeatureCollection",features:R}}});function Wh(p,b){return new ra(p,b)}var Jy=Wh,ia=go.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(p,b,S){this._url=p,this._bounds=Ce(b),F(this,S)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(hr(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ei(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(p){return this.options.opacity=p,this._image&&this._updateOpacity(),this},setStyle:function(p){return p.opacity&&this.setOpacity(p.opacity),this},bringToFront:function(){return this._map&&Da(this._image),this},bringToBack:function(){return this._map&&Fa(this._image),this},setUrl:function(p){return this._url=p,this._image&&(this._image.src=p),this},setBounds:function(p){return this._bounds=Ce(p),this._map&&this._reset(),this},getEvents:function(){var p={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},setZIndex:function(p){return this.options.zIndex=p,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var p=this._url.tagName==="IMG",b=this._image=p?this._url:ii("img");if(hr(b,"leaflet-image-layer"),this._zoomAnimated&&hr(b,"leaflet-zoom-animated"),this.options.className&&hr(b,this.options.className),b.onselectstart=k,b.onmousemove=k,b.onload=d(this.fire,this,"load"),b.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),p){this._url=b.src;return}b.src=this._url,b.alt=this.options.alt},_animateZoom:function(p){var b=this._map.getZoomScale(p.zoom),S=this._map._latLngBoundsToNewLayerBounds(this._bounds,p.zoom,p.center).min;yl(this._image,S,b)},_reset:function(){var p=this._image,b=new qt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),S=b.getSize();Xi(p,b.min),p.style.width=S.x+"px",p.style.height=S.y+"px"},_updateOpacity:function(){or(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var p=this.options.errorOverlayUrl;p&&this._url!==p&&(this._url=p,this._image.src=p)},getCenter:function(){return this._bounds.getCenter()}}),Qy=function(p,b,S){return new ia(p,b,S)},Up=ia.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var p=this._url.tagName==="VIDEO",b=this._image=p?this._url:ii("video");if(hr(b,"leaflet-image-layer"),this._zoomAnimated&&hr(b,"leaflet-zoom-animated"),this.options.className&&hr(b,this.options.className),b.onselectstart=k,b.onmousemove=k,b.onloadeddata=d(this.fire,this,"load"),p){for(var S=b.getElementsByTagName("source"),R=[],G=0;G<S.length;G++)R.push(S[G].src);this._url=S.length>0?R:[b.src];return}H(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(b.style,"objectFit")&&(b.style.objectFit="fill"),b.autoplay=!!this.options.autoplay,b.loop=!!this.options.loop,b.muted=!!this.options.muted,b.playsInline=!!this.options.playsInline;for(var rt=0;rt<this._url.length;rt++){var yt=ii("source");yt.src=this._url[rt],b.appendChild(yt)}}});function Cm(p,b,S){return new Up(p,b,S)}var _c=ia.extend({_initImage:function(){var p=this._image=this._url;hr(p,"leaflet-image-layer"),this._zoomAnimated&&hr(p,"leaflet-zoom-animated"),this.options.className&&hr(p,this.options.className),p.onselectstart=k,p.onmousemove=k}});function $y(p,b,S){return new _c(p,b,S)}var un=go.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(p,b){p&&(p instanceof le||H(p))?(this._latlng=ue(p),F(this,b)):(F(this,p),this._source=b),this.options.content&&(this._content=this.options.content)},openOn:function(p){return p=arguments.length?p:this._source._map,p.hasLayer(this)||p.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(p){return this._map?this.close():(arguments.length?this._source=p:p=this._source,this._prepareOpen(),this.openOn(p._map)),this},onAdd:function(p){this._zoomAnimated=p._zoomAnimated,this._container||this._initLayout(),p._fadeAnimated&&or(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),p._fadeAnimated&&or(this._container,1),this.bringToFront(),this.options.interactive&&(hr(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(p){p._fadeAnimated?(or(this._container,0),this._removeTimeout=setTimeout(d(Ei,void 0,this._container),200)):Ei(this._container),this.options.interactive&&($e(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(p){return this._latlng=ue(p),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(p){return this._content=p,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var p={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Da(this._container),this},bringToBack:function(){return this._map&&Fa(this._container),this},_prepareOpen:function(p){var b=this._source;if(!b._map)return!1;if(b instanceof Gn){b=null;var S=this._source._layers;for(var R in S)if(S[R]._map){b=S[R];break}if(!b)return!1;this._source=b}if(!p)if(b.getCenter)p=b.getCenter();else if(b.getLatLng)p=b.getLatLng();else if(b.getBounds)p=b.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(p),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var p=this._contentNode,b=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof b=="string")p.innerHTML=b;else{for(;p.hasChildNodes();)p.removeChild(p.firstChild);p.appendChild(b)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var p=this._map.latLngToLayerPoint(this._latlng),b=Et(this.options.offset),S=this._getAnchor();this._zoomAnimated?Xi(this._container,p.add(S)):b=b.add(p).add(S);var R=this._containerBottom=-b.y,G=this._containerLeft=-Math.round(this._containerWidth/2)+b.x;this._container.style.bottom=R+"px",this._container.style.left=G+"px"}},_getAnchor:function(){return[0,0]}});Xr.include({_initOverlay:function(p,b,S,R){var G=b;return G instanceof p||(G=new p(R).setContent(b)),S&&G.setLatLng(S),G}}),go.include({_initOverlay:function(p,b,S,R){var G=S;return G instanceof p?(F(G,R),G._source=this):(G=b&&!R?b:new p(R,this),G.setContent(S)),G}});var Ru=un.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(p){return p=arguments.length?p:this._source._map,!p.hasLayer(this)&&p._popup&&p._popup.options.autoClose&&p.removeLayer(p._popup),p._popup=this,un.prototype.openOn.call(this,p)},onAdd:function(p){un.prototype.onAdd.call(this,p),p.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ta||this._source.on("preclick",wl))},onRemove:function(p){un.prototype.onRemove.call(this,p),p.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ta||this._source.off("preclick",wl))},getEvents:function(){var p=un.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(p.preclick=this.close),this.options.keepInView&&(p.moveend=this._adjustPan),p},_initLayout:function(){var p="leaflet-popup",b=this._container=ii("div",p+" "+(this.options.className||"")+" leaflet-zoom-animated"),S=this._wrapper=ii("div",p+"-content-wrapper",b);if(this._contentNode=ii("div",p+"-content",S),vc(b),Ip(this._contentNode),ar(b,"contextmenu",wl),this._tipContainer=ii("div",p+"-tip-container",b),this._tip=ii("div",p+"-tip",this._tipContainer),this.options.closeButton){var R=this._closeButton=ii("a",p+"-close-button",b);R.setAttribute("role","button"),R.setAttribute("aria-label","Close popup"),R.href="#close",R.innerHTML='<span aria-hidden="true">&#215;</span>',ar(R,"click",function(G){Ji(G),this.close()},this)}},_updateLayout:function(){var p=this._contentNode,b=p.style;b.width="",b.whiteSpace="nowrap";var S=p.offsetWidth;S=Math.min(S,this.options.maxWidth),S=Math.max(S,this.options.minWidth),b.width=S+1+"px",b.whiteSpace="",b.height="";var R=p.offsetHeight,G=this.options.maxHeight,rt="leaflet-popup-scrolled";G&&R>G?(b.height=G+"px",hr(p,rt)):$e(p,rt),this._containerWidth=this._container.offsetWidth},_animateZoom:function(p){var b=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center),S=this._getAnchor();Xi(this._container,b.add(S))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var p=this._map,b=parseInt(uc(this._container,"marginBottom"),10)||0,S=this._container.offsetHeight+b,R=this._containerWidth,G=new Jt(this._containerLeft,-S-this._containerBottom);G._add(Pi(this._container));var rt=p.layerPointToContainerPoint(G),yt=Et(this.options.autoPanPadding),Lt=Et(this.options.autoPanPaddingTopLeft||yt),jt=Et(this.options.autoPanPaddingBottomRight||yt),$t=p.getSize(),xe=0,Je=0;rt.x+R+jt.x>$t.x&&(xe=rt.x+R-$t.x+jt.x),rt.x-xe-Lt.x<0&&(xe=rt.x-Lt.x),rt.y+S+jt.y>$t.y&&(Je=rt.y+S-$t.y+jt.y),rt.y-Je-Lt.y<0&&(Je=rt.y-Lt.y),(xe||Je)&&(this.options.keepInView&&(this._autopanning=!0),p.fire("autopanstart").panBy([xe,Je]))}},_getAnchor:function(){return Et(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),na=function(p,b){return new Ru(p,b)};Xr.mergeOptions({closePopupOnClick:!0}),Xr.include({openPopup:function(p,b,S){return this._initOverlay(Ru,p,b,S).openOn(this),this},closePopup:function(p){return p=arguments.length?p:this._popup,p&&p.close(),this}}),go.include({bindPopup:function(p,b){return this._popup=this._initOverlay(Ru,this._popup,p,b),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(p){return this._popup&&(this instanceof Gn||(this._popup._source=this),this._popup._prepareOpen(p||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(p){return this._popup&&this._popup.setContent(p),this},getPopup:function(){return this._popup},_openPopup:function(p){if(!(!this._popup||!this._map)){xl(p);var b=p.layer||p.target;if(this._popup._source===b&&!(b instanceof ta)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(p.latlng);return}this._popup._source=b,this.openPopup(p.latlng)}},_movePopup:function(p){this._popup.setLatLng(p.latlng)},_onKeyPress:function(p){p.originalEvent.keyCode===13&&this._openPopup(p)}});var Cl=un.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(p){un.prototype.onAdd.call(this,p),this.setOpacity(this.options.opacity),p.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(p){un.prototype.onRemove.call(this,p),p.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var p=un.prototype.getEvents.call(this);return this.options.permanent||(p.preclick=this.close),p},_initLayout:function(){var p="leaflet-tooltip",b=p+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ii("div",b),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(p){var b,S,R=this._map,G=this._container,rt=R.latLngToContainerPoint(R.getCenter()),yt=R.layerPointToContainerPoint(p),Lt=this.options.direction,jt=G.offsetWidth,$t=G.offsetHeight,xe=Et(this.options.offset),Je=this._getAnchor();Lt==="top"?(b=jt/2,S=$t):Lt==="bottom"?(b=jt/2,S=0):Lt==="center"?(b=jt/2,S=$t/2):Lt==="right"?(b=0,S=$t/2):Lt==="left"?(b=jt,S=$t/2):yt.x<rt.x?(Lt="right",b=0,S=$t/2):(Lt="left",b=jt+(xe.x+Je.x)*2,S=$t/2),p=p.subtract(Et(b,S,!0)).add(xe).add(Je),$e(G,"leaflet-tooltip-right"),$e(G,"leaflet-tooltip-left"),$e(G,"leaflet-tooltip-top"),$e(G,"leaflet-tooltip-bottom"),hr(G,"leaflet-tooltip-"+Lt),Xi(G,p)},_updatePosition:function(){var p=this._map.latLngToLayerPoint(this._latlng);this._setPosition(p)},setOpacity:function(p){this.options.opacity=p,this._container&&or(this._container,p)},_animateZoom:function(p){var b=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center);this._setPosition(b)},_getAnchor:function(){return Et(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Pm=function(p,b){return new Cl(p,b)};Xr.include({openTooltip:function(p,b,S){return this._initOverlay(Cl,p,b,S).openOn(this),this},closeTooltip:function(p){return p.close(),this}}),go.include({bindTooltip:function(p,b){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Cl,this._tooltip,p,b),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(p){if(!(!p&&this._tooltipHandlersAdded)){var b=p?"off":"on",S={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?S.add=this._openTooltip:(S.mouseover=this._openTooltip,S.mouseout=this.closeTooltip,S.click=this._openTooltip,this._map?this._addFocusListeners():S.add=this._addFocusListeners),this._tooltip.options.sticky&&(S.mousemove=this._moveTooltip),this[b](S),this._tooltipHandlersAdded=!p}},openTooltip:function(p){return this._tooltip&&(this instanceof Gn||(this._tooltip._source=this),this._tooltip._prepareOpen(p)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(p){return this._tooltip&&this._tooltip.setContent(p),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(p){var b=typeof p.getElement=="function"&&p.getElement();b&&(ar(b,"focus",function(){this._tooltip._source=p,this.openTooltip()},this),ar(b,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(p){var b=typeof p.getElement=="function"&&p.getElement();b&&b.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(p){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var b=this;this._map.once("moveend",function(){b._openOnceFlag=!1,b._openTooltip(p)});return}this._tooltip._source=p.layer||p.target,this.openTooltip(this._tooltip.options.sticky?p.latlng:void 0)}},_moveTooltip:function(p){var b=p.latlng,S,R;this._tooltip.options.sticky&&p.originalEvent&&(S=this._map.mouseEventToContainerPoint(p.originalEvent),R=this._map.containerPointToLayerPoint(S),b=this._map.layerPointToLatLng(R)),this._tooltip.setLatLng(b)}});var Gp=xs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(p){var b=p&&p.tagName==="DIV"?p:document.createElement("div"),S=this.options;if(S.html instanceof Element?(bu(b),b.appendChild(S.html)):b.innerHTML=S.html!==!1?S.html:"",S.bgPos){var R=Et(S.bgPos);b.style.backgroundPosition=-R.x+"px "+-R.y+"px"}return this._setIconStyles(b,"icon"),b},createShadow:function(){return null}});function qp(p){return new Gp(p)}xs.Default=bc;var Au=go.extend({options:{tileSize:256,opacity:1,updateWhenIdle:je.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(p){F(this,p)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(p){p._addZoomLimit(this)},onRemove:function(p){this._removeAllTiles(),Ei(this._container),p._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Da(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Fa(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(p){return this.options.opacity=p,this._updateOpacity(),this},setZIndex:function(p){return this.options.zIndex=p,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var p=this._clampZoom(this._map.getZoom());p!==this._tileZoom&&(this._tileZoom=p,this._updateLevels()),this._update()}return this},getEvents:function(){var p={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),p.move=this._onMove),this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},createTile:function(){return document.createElement("div")},getTileSize:function(){var p=this.options.tileSize;return p instanceof Jt?p:new Jt(p,p)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(p){for(var b=this.getPane().children,S=-p(-1/0,1/0),R=0,G=b.length,rt;R<G;R++)rt=b[R].style.zIndex,b[R]!==this._container&&rt&&(S=p(S,+rt));isFinite(S)&&(this.options.zIndex=S+p(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!je.ielt9){or(this._container,this.options.opacity);var p=+new Date,b=!1,S=!1;for(var R in this._tiles){var G=this._tiles[R];if(!(!G.current||!G.loaded)){var rt=Math.min(1,(p-G.loaded)/200);or(G.el,rt),rt<1?b=!0:(G.active?S=!0:this._onOpaqueTile(G),G.active=!0)}}S&&!this._noPrune&&this._pruneTiles(),b&&(mt(this._fadeFrame),this._fadeFrame=ut(this._updateOpacity,this))}},_onOpaqueTile:k,_initContainer:function(){this._container||(this._container=ii("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var p=this._tileZoom,b=this.options.maxZoom;if(p!==void 0){for(var S in this._levels)S=Number(S),this._levels[S].el.children.length||S===p?(this._levels[S].el.style.zIndex=b-Math.abs(p-S),this._onUpdateLevel(S)):(Ei(this._levels[S].el),this._removeTilesAtZoom(S),this._onRemoveLevel(S),delete this._levels[S]);var R=this._levels[p],G=this._map;return R||(R=this._levels[p]={},R.el=ii("div","leaflet-tile-container leaflet-zoom-animated",this._container),R.el.style.zIndex=b,R.origin=G.project(G.unproject(G.getPixelOrigin()),p).round(),R.zoom=p,this._setZoomTransform(R,G.getCenter(),G.getZoom()),k(R.el.offsetWidth),this._onCreateLevel(R)),this._level=R,R}},_onUpdateLevel:k,_onRemoveLevel:k,_onCreateLevel:k,_pruneTiles:function(){if(this._map){var p,b,S=this._map.getZoom();if(S>this.options.maxZoom||S<this.options.minZoom){this._removeAllTiles();return}for(p in this._tiles)b=this._tiles[p],b.retain=b.current;for(p in this._tiles)if(b=this._tiles[p],b.current&&!b.active){var R=b.coords;this._retainParent(R.x,R.y,R.z,R.z-5)||this._retainChildren(R.x,R.y,R.z,R.z+2)}for(p in this._tiles)this._tiles[p].retain||this._removeTile(p)}},_removeTilesAtZoom:function(p){for(var b in this._tiles)this._tiles[b].coords.z===p&&this._removeTile(b)},_removeAllTiles:function(){for(var p in this._tiles)this._removeTile(p)},_invalidateAll:function(){for(var p in this._levels)Ei(this._levels[p].el),this._onRemoveLevel(Number(p)),delete this._levels[p];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(p,b,S,R){var G=Math.floor(p/2),rt=Math.floor(b/2),yt=S-1,Lt=new Jt(+G,+rt);Lt.z=+yt;var jt=this._tileCoordsToKey(Lt),$t=this._tiles[jt];return $t&&$t.active?($t.retain=!0,!0):($t&&$t.loaded&&($t.retain=!0),yt>R?this._retainParent(G,rt,yt,R):!1)},_retainChildren:function(p,b,S,R){for(var G=2*p;G<2*p+2;G++)for(var rt=2*b;rt<2*b+2;rt++){var yt=new Jt(G,rt);yt.z=S+1;var Lt=this._tileCoordsToKey(yt),jt=this._tiles[Lt];if(jt&&jt.active){jt.retain=!0;continue}else jt&&jt.loaded&&(jt.retain=!0);S+1<R&&this._retainChildren(G,rt,S+1,R)}},_resetView:function(p){var b=p&&(p.pinch||p.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),b,b)},_animateZoom:function(p){this._setView(p.center,p.zoom,!0,p.noUpdate)},_clampZoom:function(p){var b=this.options;return b.minNativeZoom!==void 0&&p<b.minNativeZoom?b.minNativeZoom:b.maxNativeZoom!==void 0&&b.maxNativeZoom<p?b.maxNativeZoom:p},_setView:function(p,b,S,R){var G=Math.round(b);this.options.maxZoom!==void 0&&G>this.options.maxZoom||this.options.minZoom!==void 0&&G<this.options.minZoom?G=void 0:G=this._clampZoom(G);var rt=this.options.updateWhenZooming&&G!==this._tileZoom;(!R||rt)&&(this._tileZoom=G,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),G!==void 0&&this._update(p),S||this._pruneTiles(),this._noPrune=!!S),this._setZoomTransforms(p,b)},_setZoomTransforms:function(p,b){for(var S in this._levels)this._setZoomTransform(this._levels[S],p,b)},_setZoomTransform:function(p,b,S){var R=this._map.getZoomScale(S,p.zoom),G=p.origin.multiplyBy(R).subtract(this._map._getNewPixelOrigin(b,S)).round();je.any3d?yl(p.el,G,R):Xi(p.el,G)},_resetGrid:function(){var p=this._map,b=p.options.crs,S=this._tileSize=this.getTileSize(),R=this._tileZoom,G=this._map.getPixelWorldBounds(this._tileZoom);G&&(this._globalTileRange=this._pxBoundsToTileRange(G)),this._wrapX=b.wrapLng&&!this.options.noWrap&&[Math.floor(p.project([0,b.wrapLng[0]],R).x/S.x),Math.ceil(p.project([0,b.wrapLng[1]],R).x/S.y)],this._wrapY=b.wrapLat&&!this.options.noWrap&&[Math.floor(p.project([b.wrapLat[0],0],R).y/S.x),Math.ceil(p.project([b.wrapLat[1],0],R).y/S.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(p){var b=this._map,S=b._animatingZoom?Math.max(b._animateToZoom,b.getZoom()):b.getZoom(),R=b.getZoomScale(S,this._tileZoom),G=b.project(p,this._tileZoom).floor(),rt=b.getSize().divideBy(R*2);return new qt(G.subtract(rt),G.add(rt))},_update:function(p){var b=this._map;if(b){var S=this._clampZoom(b.getZoom());if(p===void 0&&(p=b.getCenter()),this._tileZoom!==void 0){var R=this._getTiledPixelBounds(p),G=this._pxBoundsToTileRange(R),rt=G.getCenter(),yt=[],Lt=this.options.keepBuffer,jt=new qt(G.getBottomLeft().subtract([Lt,-Lt]),G.getTopRight().add([Lt,-Lt]));if(!(isFinite(G.min.x)&&isFinite(G.min.y)&&isFinite(G.max.x)&&isFinite(G.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var $t in this._tiles){var xe=this._tiles[$t].coords;(xe.z!==this._tileZoom||!jt.contains(new Jt(xe.x,xe.y)))&&(this._tiles[$t].current=!1)}if(Math.abs(S-this._tileZoom)>1){this._setView(p,S);return}for(var Je=G.min.y;Je<=G.max.y;Je++)for(var pr=G.min.x;pr<=G.max.x;pr++){var In=new Jt(pr,Je);if(In.z=this._tileZoom,!!this._isValidTile(In)){var $i=this._tiles[this._tileCoordsToKey(In)];$i?$i.current=!0:yt.push(In)}}if(yt.sort(function(qn,Ml){return qn.distanceTo(rt)-Ml.distanceTo(rt)}),yt.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ln=document.createDocumentFragment();for(pr=0;pr<yt.length;pr++)this._addTile(yt[pr],Ln);this._level.el.appendChild(Ln)}}}},_isValidTile:function(p){var b=this._map.options.crs;if(!b.infinite){var S=this._globalTileRange;if(!b.wrapLng&&(p.x<S.min.x||p.x>S.max.x)||!b.wrapLat&&(p.y<S.min.y||p.y>S.max.y))return!1}if(!this.options.bounds)return!0;var R=this._tileCoordsToBounds(p);return Ce(this.options.bounds).overlaps(R)},_keyToBounds:function(p){return this._tileCoordsToBounds(this._keyToTileCoords(p))},_tileCoordsToNwSe:function(p){var b=this._map,S=this.getTileSize(),R=p.scaleBy(S),G=R.add(S),rt=b.unproject(R,p.z),yt=b.unproject(G,p.z);return[rt,yt]},_tileCoordsToBounds:function(p){var b=this._tileCoordsToNwSe(p),S=new fe(b[0],b[1]);return this.options.noWrap||(S=this._map.wrapLatLngBounds(S)),S},_tileCoordsToKey:function(p){return p.x+":"+p.y+":"+p.z},_keyToTileCoords:function(p){var b=p.split(":"),S=new Jt(+b[0],+b[1]);return S.z=+b[2],S},_removeTile:function(p){var b=this._tiles[p];b&&(Ei(b.el),delete this._tiles[p],this.fire("tileunload",{tile:b.el,coords:this._keyToTileCoords(p)}))},_initTile:function(p){hr(p,"leaflet-tile");var b=this.getTileSize();p.style.width=b.x+"px",p.style.height=b.y+"px",p.onselectstart=k,p.onmousemove=k,je.ielt9&&this.options.opacity<1&&or(p,this.options.opacity)},_addTile:function(p,b){var S=this._getTilePos(p),R=this._tileCoordsToKey(p),G=this.createTile(this._wrapCoords(p),d(this._tileReady,this,p));this._initTile(G),this.createTile.length<2&&ut(d(this._tileReady,this,p,null,G)),Xi(G,S),this._tiles[R]={el:G,coords:p,current:!0},b.appendChild(G),this.fire("tileloadstart",{tile:G,coords:p})},_tileReady:function(p,b,S){b&&this.fire("tileerror",{error:b,tile:S,coords:p});var R=this._tileCoordsToKey(p);S=this._tiles[R],S&&(S.loaded=+new Date,this._map._fadeAnimated?(or(S.el,0),mt(this._fadeFrame),this._fadeFrame=ut(this._updateOpacity,this)):(S.active=!0,this._pruneTiles()),b||(hr(S.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:S.el,coords:p})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),je.ielt9||!this._map._fadeAnimated?ut(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(p){return p.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(p){var b=new Jt(this._wrapX?_(p.x,this._wrapX):p.x,this._wrapY?_(p.y,this._wrapY):p.y);return b.z=p.z,b},_pxBoundsToTileRange:function(p){var b=this.getTileSize();return new qt(p.min.unscaleBy(b).floor(),p.max.unscaleBy(b).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var p in this._tiles)if(!this._tiles[p].loaded)return!1;return!0}});function Mm(p){return new Au(p)}var Pl=Au.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(p,b){this._url=p,b=F(this,b),b.detectRetina&&je.retina&&b.maxZoom>0?(b.tileSize=Math.floor(b.tileSize/2),b.zoomReverse?(b.zoomOffset--,b.minZoom=Math.min(b.maxZoom,b.minZoom+1)):(b.zoomOffset++,b.maxZoom=Math.max(b.minZoom,b.maxZoom-1)),b.minZoom=Math.max(0,b.minZoom)):b.zoomReverse?b.minZoom=Math.min(b.maxZoom,b.minZoom):b.maxZoom=Math.max(b.minZoom,b.maxZoom),typeof b.subdomains=="string"&&(b.subdomains=b.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(p,b){return this._url===p&&b===void 0&&(b=!0),this._url=p,b||this.redraw(),this},createTile:function(p,b){var S=document.createElement("img");return ar(S,"load",d(this._tileOnLoad,this,b,S)),ar(S,"error",d(this._tileOnError,this,b,S)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(S.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(S.referrerPolicy=this.options.referrerPolicy),S.alt="",S.src=this.getTileUrl(p),S},getTileUrl:function(p){var b={r:je.retina?"@2x":"",s:this._getSubdomain(p),x:p.x,y:p.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var S=this._globalTileRange.max.y-p.y;this.options.tms&&(b.y=S),b["-y"]=S}return J(this._url,l(b,this.options))},_tileOnLoad:function(p,b){je.ielt9?setTimeout(d(p,this,null,b),0):p(null,b)},_tileOnError:function(p,b,S){var R=this.options.errorTileUrl;R&&b.getAttribute("src")!==R&&(b.src=R),p(S,b)},_onTileRemove:function(p){p.tile.onload=null},_getZoomForUrl:function(){var p=this._tileZoom,b=this.options.maxZoom,S=this.options.zoomReverse,R=this.options.zoomOffset;return S&&(p=b-p),p+R},_getSubdomain:function(p){var b=Math.abs(p.x+p.y)%this.options.subdomains.length;return this.options.subdomains[b]},_abortLoading:function(){var p,b;for(p in this._tiles)if(this._tiles[p].coords.z!==this._tileZoom&&(b=this._tiles[p].el,b.onload=k,b.onerror=k,!b.complete)){b.src=ot;var S=this._tiles[p].coords;Ei(b),delete this._tiles[p],this.fire("tileabort",{tile:b,coords:S})}},_removeTile:function(p){var b=this._tiles[p];if(b)return b.el.setAttribute("src",ot),Au.prototype._removeTile.call(this,p)},_tileReady:function(p,b,S){if(!(!this._map||S&&S.getAttribute("src")===ot))return Au.prototype._tileReady.call(this,p,b,S)}});function Vp(p,b){return new Pl(p,b)}var Zh=Pl.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(p,b){this._url=p;var S=l({},this.defaultWmsParams);for(var R in b)R in this.options||(S[R]=b[R]);b=F(this,b);var G=b.detectRetina&&je.retina?2:1,rt=this.getTileSize();S.width=rt.x*G,S.height=rt.y*G,this.wmsParams=S},onAdd:function(p){this._crs=this.options.crs||p.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var b=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[b]=this._crs.code,Pl.prototype.onAdd.call(this,p)},getTileUrl:function(p){var b=this._tileCoordsToNwSe(p),S=this._crs,R=Zt(S.project(b[0]),S.project(b[1])),G=R.min,rt=R.max,yt=(this._wmsVersion>=1.3&&this._crs===yc?[G.y,G.x,rt.y,rt.x]:[G.x,G.y,rt.x,rt.y]).join(","),Lt=Pl.prototype.getTileUrl.call(this,p);return Lt+U(this.wmsParams,Lt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+yt},setParams:function(p,b){return l(this.wmsParams,p),b||this.redraw(),this}});function Im(p,b){return new Zh(p,b)}Pl.WMS=Zh,Vp.wms=Im;var _s=go.extend({options:{padding:.1},initialize:function(p){F(this,p),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),hr(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var p={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(p.zoomanim=this._onAnimZoom),p},_onAnimZoom:function(p){this._updateTransform(p.center,p.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(p,b){var S=this._map.getZoomScale(b,this._zoom),R=this._map.getSize().multiplyBy(.5+this.options.padding),G=this._map.project(this._center,b),rt=R.multiplyBy(-S).add(G).subtract(this._map._getNewPixelOrigin(p,b));je.any3d?yl(this._container,rt,S):Xi(this._container,rt)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var p in this._layers)this._layers[p]._reset()},_onZoomEnd:function(){for(var p in this._layers)this._layers[p]._project()},_updatePaths:function(){for(var p in this._layers)this._layers[p]._update()},_update:function(){var p=this.options.padding,b=this._map.getSize(),S=this._map.containerPointToLayerPoint(b.multiplyBy(-p)).round();this._bounds=new qt(S,S.add(b.multiplyBy(1+p*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Yh=_s.extend({options:{tolerance:0},getEvents:function(){var p=_s.prototype.getEvents.call(this);return p.viewprereset=this._onViewPreReset,p},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){_s.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var p=this._container=document.createElement("canvas");ar(p,"mousemove",this._onMouseMove,this),ar(p,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ar(p,"mouseout",this._handleMouseOut,this),p._leaflet_disable_events=!0,this._ctx=p.getContext("2d")},_destroyContainer:function(){mt(this._redrawRequest),delete this._ctx,Ei(this._container),di(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var p;this._redrawBounds=null;for(var b in this._layers)p=this._layers[b],p._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_s.prototype._update.call(this);var p=this._bounds,b=this._container,S=p.getSize(),R=je.retina?2:1;Xi(b,p.min),b.width=R*S.x,b.height=R*S.y,b.style.width=S.x+"px",b.style.height=S.y+"px",je.retina&&this._ctx.scale(2,2),this._ctx.translate(-p.min.x,-p.min.y),this.fire("update")}},_reset:function(){_s.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(p){this._updateDashArray(p),this._layers[m(p)]=p;var b=p._order={layer:p,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=b),this._drawLast=b,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(p){this._requestRedraw(p)},_removePath:function(p){var b=p._order,S=b.next,R=b.prev;S?S.prev=R:this._drawLast=R,R?R.next=S:this._drawFirst=S,delete p._order,delete this._layers[m(p)],this._requestRedraw(p)},_updatePath:function(p){this._extendRedrawBounds(p),p._project(),p._update(),this._requestRedraw(p)},_updateStyle:function(p){this._updateDashArray(p),this._requestRedraw(p)},_updateDashArray:function(p){if(typeof p.options.dashArray=="string"){var b=p.options.dashArray.split(/[, ]+/),S=[],R,G;for(G=0;G<b.length;G++){if(R=Number(b[G]),isNaN(R))return;S.push(R)}p.options._dashArray=S}else p.options._dashArray=p.options.dashArray},_requestRedraw:function(p){this._map&&(this._extendRedrawBounds(p),this._redrawRequest=this._redrawRequest||ut(this._redraw,this))},_extendRedrawBounds:function(p){if(p._pxBounds){var b=(p.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new qt,this._redrawBounds.extend(p._pxBounds.min.subtract([b,b])),this._redrawBounds.extend(p._pxBounds.max.add([b,b]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var p=this._redrawBounds;if(p){var b=p.getSize();this._ctx.clearRect(p.min.x,p.min.y,b.x,b.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var p,b=this._redrawBounds;if(this._ctx.save(),b){var S=b.getSize();this._ctx.beginPath(),this._ctx.rect(b.min.x,b.min.y,S.x,S.y),this._ctx.clip()}this._drawing=!0;for(var R=this._drawFirst;R;R=R.next)p=R.layer,(!b||p._pxBounds&&p._pxBounds.intersects(b))&&p._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(p,b){if(this._drawing){var S,R,G,rt,yt=p._parts,Lt=yt.length,jt=this._ctx;if(Lt){for(jt.beginPath(),S=0;S<Lt;S++){for(R=0,G=yt[S].length;R<G;R++)rt=yt[S][R],jt[R?"lineTo":"moveTo"](rt.x,rt.y);b&&jt.closePath()}this._fillStroke(jt,p)}}},_updateCircle:function(p){if(!(!this._drawing||p._empty())){var b=p._point,S=this._ctx,R=Math.max(Math.round(p._radius),1),G=(Math.max(Math.round(p._radiusY),1)||R)/R;G!==1&&(S.save(),S.scale(1,G)),S.beginPath(),S.arc(b.x,b.y/G,R,0,Math.PI*2,!1),G!==1&&S.restore(),this._fillStroke(S,p)}},_fillStroke:function(p,b){var S=b.options;S.fill&&(p.globalAlpha=S.fillOpacity,p.fillStyle=S.fillColor||S.color,p.fill(S.fillRule||"evenodd")),S.stroke&&S.weight!==0&&(p.setLineDash&&p.setLineDash(b.options&&b.options._dashArray||[]),p.globalAlpha=S.opacity,p.lineWidth=S.weight,p.strokeStyle=S.color,p.lineCap=S.lineCap,p.lineJoin=S.lineJoin,p.stroke())},_onClick:function(p){for(var b=this._map.mouseEventToLayerPoint(p),S,R,G=this._drawFirst;G;G=G.next)S=G.layer,S.options.interactive&&S._containsPoint(b)&&(!(p.type==="click"||p.type==="preclick")||!this._map._draggableMoved(S))&&(R=S);this._fireEvent(R?[R]:!1,p)},_onMouseMove:function(p){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var b=this._map.mouseEventToLayerPoint(p);this._handleMouseHover(p,b)}},_handleMouseOut:function(p){var b=this._hoveredLayer;b&&($e(this._container,"leaflet-interactive"),this._fireEvent([b],p,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(p,b){if(!this._mouseHoverThrottled){for(var S,R,G=this._drawFirst;G;G=G.next)S=G.layer,S.options.interactive&&S._containsPoint(b)&&(R=S);R!==this._hoveredLayer&&(this._handleMouseOut(p),R&&(hr(this._container,"leaflet-interactive"),this._fireEvent([R],p,"mouseover"),this._hoveredLayer=R)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,p),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(p,b,S){this._map._fireDOMEvent(b,S||b.type,p)},_bringToFront:function(p){var b=p._order;if(b){var S=b.next,R=b.prev;if(S)S.prev=R;else return;R?R.next=S:S&&(this._drawFirst=S),b.prev=this._drawLast,this._drawLast.next=b,b.next=null,this._drawLast=b,this._requestRedraw(p)}},_bringToBack:function(p){var b=p._order;if(b){var S=b.next,R=b.prev;if(R)R.next=S;else return;S?S.prev=R:R&&(this._drawLast=R),b.prev=null,b.next=this._drawFirst,this._drawFirst.prev=b,this._drawFirst=b,this._requestRedraw(p)}}});function Xh(p){return je.canvas?new Yh(p):null}var kc=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(p){return document.createElement("<lvml:"+p+' class="lvml">')}}catch{}return function(p){return document.createElement("<"+p+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),$n={_initContainer:function(){this._container=ii("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(_s.prototype._update.call(this),this.fire("update"))},_initPath:function(p){var b=p._container=kc("shape");hr(b,"leaflet-vml-shape "+(this.options.className||"")),b.coordsize="1 1",p._path=kc("path"),b.appendChild(p._path),this._updateStyle(p),this._layers[m(p)]=p},_addPath:function(p){var b=p._container;this._container.appendChild(b),p.options.interactive&&p.addInteractiveTarget(b)},_removePath:function(p){var b=p._container;Ei(b),p.removeInteractiveTarget(b),delete this._layers[m(p)]},_updateStyle:function(p){var b=p._stroke,S=p._fill,R=p.options,G=p._container;G.stroked=!!R.stroke,G.filled=!!R.fill,R.stroke?(b||(b=p._stroke=kc("stroke")),G.appendChild(b),b.weight=R.weight+"px",b.color=R.color,b.opacity=R.opacity,R.dashArray?b.dashStyle=H(R.dashArray)?R.dashArray.join(" "):R.dashArray.replace(/( *, *)/g," "):b.dashStyle="",b.endcap=R.lineCap.replace("butt","flat"),b.joinstyle=R.lineJoin):b&&(G.removeChild(b),p._stroke=null),R.fill?(S||(S=p._fill=kc("fill")),G.appendChild(S),S.color=R.fillColor||R.color,S.opacity=R.fillOpacity):S&&(G.removeChild(S),p._fill=null)},_updateCircle:function(p){var b=p._point.round(),S=Math.round(p._radius),R=Math.round(p._radiusY||S);this._setPath(p,p._empty()?"M0 0":"AL "+b.x+","+b.y+" "+S+","+R+" 0,"+65535*360)},_setPath:function(p,b){p._path.v=b},_bringToFront:function(p){Da(p._container)},_bringToBack:function(p){Fa(p._container)}},Kh=je.vml?kc:O,Ec=_s.extend({_initContainer:function(){this._container=Kh("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Kh("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ei(this._container),di(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_s.prototype._update.call(this);var p=this._bounds,b=p.getSize(),S=this._container;(!this._svgSize||!this._svgSize.equals(b))&&(this._svgSize=b,S.setAttribute("width",b.x),S.setAttribute("height",b.y)),Xi(S,p.min),S.setAttribute("viewBox",[p.min.x,p.min.y,b.x,b.y].join(" ")),this.fire("update")}},_initPath:function(p){var b=p._path=Kh("path");p.options.className&&hr(b,p.options.className),p.options.interactive&&hr(b,"leaflet-interactive"),this._updateStyle(p),this._layers[m(p)]=p},_addPath:function(p){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(p._path),p.addInteractiveTarget(p._path)},_removePath:function(p){Ei(p._path),p.removeInteractiveTarget(p._path),delete this._layers[m(p)]},_updatePath:function(p){p._project(),p._update()},_updateStyle:function(p){var b=p._path,S=p.options;b&&(S.stroke?(b.setAttribute("stroke",S.color),b.setAttribute("stroke-opacity",S.opacity),b.setAttribute("stroke-width",S.weight),b.setAttribute("stroke-linecap",S.lineCap),b.setAttribute("stroke-linejoin",S.lineJoin),S.dashArray?b.setAttribute("stroke-dasharray",S.dashArray):b.removeAttribute("stroke-dasharray"),S.dashOffset?b.setAttribute("stroke-dashoffset",S.dashOffset):b.removeAttribute("stroke-dashoffset")):b.setAttribute("stroke","none"),S.fill?(b.setAttribute("fill",S.fillColor||S.color),b.setAttribute("fill-opacity",S.fillOpacity),b.setAttribute("fill-rule",S.fillRule||"evenodd")):b.setAttribute("fill","none"))},_updatePoly:function(p,b){this._setPath(p,Y(p._parts,b))},_updateCircle:function(p){var b=p._point,S=Math.max(Math.round(p._radius),1),R=Math.max(Math.round(p._radiusY),1)||S,G="a"+S+","+R+" 0 1,0 ",rt=p._empty()?"M0 0":"M"+(b.x-S)+","+b.y+G+S*2+",0 "+G+-S*2+",0 ";this._setPath(p,rt)},_setPath:function(p,b){p._path.setAttribute("d",b)},_bringToFront:function(p){Da(p._path)},_bringToBack:function(p){Fa(p._path)}});je.vml&&Ec.include($n);function Wp(p){return je.svg||je.vml?new Ec(p):null}Xr.include({getRenderer:function(p){var b=p.options.renderer||this._getPaneRenderer(p.options.pane)||this.options.renderer||this._renderer;return b||(b=this._renderer=this._createRenderer()),this.hasLayer(b)||this.addLayer(b),b},_getPaneRenderer:function(p){if(p==="overlayPane"||p===void 0)return!1;var b=this._paneRenderers[p];return b===void 0&&(b=this._createRenderer({pane:p}),this._paneRenderers[p]=b),b},_createRenderer:function(p){return this.options.preferCanvas&&Xh(p)||Wp(p)}});var Zp=wc.extend({initialize:function(p,b){wc.prototype.initialize.call(this,this._boundsToLatLngs(p),b)},setBounds:function(p){return this.setLatLngs(this._boundsToLatLngs(p))},_boundsToLatLngs:function(p){return p=Ce(p),[p.getSouthWest(),p.getNorthWest(),p.getNorthEast(),p.getSouthEast()]}});function tb(p,b){return new Zp(p,b)}Ec.create=Kh,Ec.pointsToPath=Y,ra.geometryToLayer=Uh,ra.coordsToLatLng=jp,ra.coordsToLatLngs=Gh,ra.latLngToCoords=Hp,ra.latLngsToCoords=qh,ra.getFeature=xc,ra.asFeature=Vh,Xr.mergeOptions({boxZoom:!0});var Yp=Qi.extend({initialize:function(p){this._map=p,this._container=p._container,this._pane=p._panes.overlayPane,this._resetStateTimeout=0,p.on("unload",this._destroy,this)},addHooks:function(){ar(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){di(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ei(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(p){if(!p.shiftKey||p.which!==1&&p.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),pc(),Sp(),this._startPoint=this._map.mouseEventToContainerPoint(p),ar(document,{contextmenu:xl,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(p){this._moved||(this._moved=!0,this._box=ii("div","leaflet-zoom-box",this._container),hr(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(p);var b=new qt(this._point,this._startPoint),S=b.getSize();Xi(this._box,b.min),this._box.style.width=S.x+"px",this._box.style.height=S.y+"px"},_finish:function(){this._moved&&(Ei(this._box),$e(this._container,"leaflet-crosshair")),fc(),mc(),di(document,{contextmenu:xl,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(p){if(!(p.which!==1&&p.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var b=new fe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(b).fire("boxzoomend",{boxZoomBounds:b})}},_onKeyDown:function(p){p.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Xr.addInitHook("addHandler","boxZoom",Yp),Xr.mergeOptions({doubleClickZoom:!0});var Xp=Qi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(p){var b=this._map,S=b.getZoom(),R=b.options.zoomDelta,G=p.originalEvent.shiftKey?S-R:S+R;b.options.doubleClickZoom==="center"?b.setZoom(G):b.setZoomAround(p.containerPoint,G)}});Xr.addInitHook("addHandler","doubleClickZoom",Xp),Xr.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Jh=Qi.extend({addHooks:function(){if(!this._draggable){var p=this._map;this._draggable=new Qo(p._mapPane,p._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),p.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),p.on("zoomend",this._onZoomEnd,this),p.whenReady(this._onZoomEnd,this))}hr(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){$e(this._map._container,"leaflet-grab"),$e(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var p=this._map;if(p._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var b=Ce(this._map.options.maxBounds);this._offsetLimit=Zt(this._map.latLngToContainerPoint(b.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(b.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;p.fire("movestart").fire("dragstart"),p.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(p){if(this._map.options.inertia){var b=this._lastTime=+new Date,S=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(S),this._times.push(b),this._prunePositions(b)}this._map.fire("move",p).fire("drag",p)},_prunePositions:function(p){for(;this._positions.length>1&&p-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var p=this._map.getSize().divideBy(2),b=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=b.subtract(p).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(p,b){return p-(p-b)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var p=this._draggable._newPos.subtract(this._draggable._startPos),b=this._offsetLimit;p.x<b.min.x&&(p.x=this._viscousLimit(p.x,b.min.x)),p.y<b.min.y&&(p.y=this._viscousLimit(p.y,b.min.y)),p.x>b.max.x&&(p.x=this._viscousLimit(p.x,b.max.x)),p.y>b.max.y&&(p.y=this._viscousLimit(p.y,b.max.y)),this._draggable._newPos=this._draggable._startPos.add(p)}},_onPreDragWrap:function(){var p=this._worldWidth,b=Math.round(p/2),S=this._initialWorldOffset,R=this._draggable._newPos.x,G=(R-b+S)%p+b-S,rt=(R+b+S)%p-b-S,yt=Math.abs(G+S)<Math.abs(rt+S)?G:rt;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=yt},_onDragEnd:function(p){var b=this._map,S=b.options,R=!S.inertia||p.noInertia||this._times.length<2;if(b.fire("dragend",p),R)b.fire("moveend");else{this._prunePositions(+new Date);var G=this._lastPos.subtract(this._positions[0]),rt=(this._lastTime-this._times[0])/1e3,yt=S.easeLinearity,Lt=G.multiplyBy(yt/rt),jt=Lt.distanceTo([0,0]),$t=Math.min(S.inertiaMaxSpeed,jt),xe=Lt.multiplyBy($t/jt),Je=$t/(S.inertiaDeceleration*yt),pr=xe.multiplyBy(-Je/2).round();!pr.x&&!pr.y?b.fire("moveend"):(pr=b._limitOffset(pr,b.options.maxBounds),ut(function(){b.panBy(pr,{duration:Je,easeLinearity:yt,noMoveStart:!0,animate:!0})}))}}});Xr.addInitHook("addHandler","dragging",Jh),Xr.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Lm=Qi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(p){this._map=p,this._setPanDelta(p.options.keyboardPanDelta),this._setZoomDelta(p.options.zoomDelta)},addHooks:function(){var p=this._map._container;p.tabIndex<=0&&(p.tabIndex="0"),ar(p,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),di(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var p=document.body,b=document.documentElement,S=p.scrollTop||b.scrollTop,R=p.scrollLeft||b.scrollLeft;this._map._container.focus(),window.scrollTo(R,S)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(p){var b=this._panKeys={},S=this.keyCodes,R,G;for(R=0,G=S.left.length;R<G;R++)b[S.left[R]]=[-1*p,0];for(R=0,G=S.right.length;R<G;R++)b[S.right[R]]=[p,0];for(R=0,G=S.down.length;R<G;R++)b[S.down[R]]=[0,p];for(R=0,G=S.up.length;R<G;R++)b[S.up[R]]=[0,-1*p]},_setZoomDelta:function(p){var b=this._zoomKeys={},S=this.keyCodes,R,G;for(R=0,G=S.zoomIn.length;R<G;R++)b[S.zoomIn[R]]=p;for(R=0,G=S.zoomOut.length;R<G;R++)b[S.zoomOut[R]]=-p},_addHooks:function(){ar(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){di(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(p){if(!(p.altKey||p.ctrlKey||p.metaKey)){var b=p.keyCode,S=this._map,R;if(b in this._panKeys){if(!S._panAnim||!S._panAnim._inProgress)if(R=this._panKeys[b],p.shiftKey&&(R=Et(R).multiplyBy(3)),S.options.maxBounds&&(R=S._limitOffset(Et(R),S.options.maxBounds)),S.options.worldCopyJump){var G=S.wrapLatLng(S.unproject(S.project(S.getCenter()).add(R)));S.panTo(G)}else S.panBy(R)}else if(b in this._zoomKeys)S.setZoom(S.getZoom()+(p.shiftKey?3:1)*this._zoomKeys[b]);else if(b===27&&S._popup&&S._popup.options.closeOnEscapeKey)S.closePopup();else return;xl(p)}}});Xr.addInitHook("addHandler","keyboard",Lm),Xr.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Tc=Qi.extend({addHooks:function(){ar(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){di(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(p){var b=fm(p),S=this._map.options.wheelDebounceTime;this._delta+=b,this._lastMousePos=this._map.mouseEventToContainerPoint(p),this._startTime||(this._startTime=+new Date);var R=Math.max(S-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),R),xl(p)},_performZoom:function(){var p=this._map,b=p.getZoom(),S=this._map.options.zoomSnap||0;p._stop();var R=this._delta/(this._map.options.wheelPxPerZoomLevel*4),G=4*Math.log(2/(1+Math.exp(-Math.abs(R))))/Math.LN2,rt=S?Math.ceil(G/S)*S:G,yt=p._limitZoom(b+(this._delta>0?rt:-rt))-b;this._delta=0,this._startTime=null,yt&&(p.options.scrollWheelZoom==="center"?p.setZoom(b+yt):p.setZoomAround(this._lastMousePos,b+yt))}});Xr.addInitHook("addHandler","scrollWheelZoom",Tc);var eb=600;Xr.mergeOptions({tapHold:je.touchNative&&je.safari&&je.mobile,tapTolerance:15});var Kp=Qi.extend({addHooks:function(){ar(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){di(this._map._container,"touchstart",this._onDown,this)},_onDown:function(p){if(clearTimeout(this._holdTimeout),p.touches.length===1){var b=p.touches[0];this._startPos=this._newPos=new Jt(b.clientX,b.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(ar(document,"touchend",Ji),ar(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",b))},this),eb),ar(document,"touchend touchcancel contextmenu",this._cancel,this),ar(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function p(){di(document,"touchend",Ji),di(document,"touchend touchcancel",p)},_cancel:function(){clearTimeout(this._holdTimeout),di(document,"touchend touchcancel contextmenu",this._cancel,this),di(document,"touchmove",this._onMove,this)},_onMove:function(p){var b=p.touches[0];this._newPos=new Jt(b.clientX,b.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(p,b){var S=new MouseEvent(p,{bubbles:!0,cancelable:!0,view:window,screenX:b.screenX,screenY:b.screenY,clientX:b.clientX,clientY:b.clientY});S._simulated=!0,b.target.dispatchEvent(S)}});Xr.addInitHook("addHandler","tapHold",Kp),Xr.mergeOptions({touchZoom:je.touch,bounceAtZoomLimits:!0});var Jp=Qi.extend({addHooks:function(){hr(this._map._container,"leaflet-touch-zoom"),ar(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){$e(this._map._container,"leaflet-touch-zoom"),di(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(p){var b=this._map;if(!(!p.touches||p.touches.length!==2||b._animatingZoom||this._zooming)){var S=b.mouseEventToContainerPoint(p.touches[0]),R=b.mouseEventToContainerPoint(p.touches[1]);this._centerPoint=b.getSize()._divideBy(2),this._startLatLng=b.containerPointToLatLng(this._centerPoint),b.options.touchZoom!=="center"&&(this._pinchStartLatLng=b.containerPointToLatLng(S.add(R)._divideBy(2))),this._startDist=S.distanceTo(R),this._startZoom=b.getZoom(),this._moved=!1,this._zooming=!0,b._stop(),ar(document,"touchmove",this._onTouchMove,this),ar(document,"touchend touchcancel",this._onTouchEnd,this),Ji(p)}},_onTouchMove:function(p){if(!(!p.touches||p.touches.length!==2||!this._zooming)){var b=this._map,S=b.mouseEventToContainerPoint(p.touches[0]),R=b.mouseEventToContainerPoint(p.touches[1]),G=S.distanceTo(R)/this._startDist;if(this._zoom=b.getScaleZoom(G,this._startZoom),!b.options.bounceAtZoomLimits&&(this._zoom<b.getMinZoom()&&G<1||this._zoom>b.getMaxZoom()&&G>1)&&(this._zoom=b._limitZoom(this._zoom)),b.options.touchZoom==="center"){if(this._center=this._startLatLng,G===1)return}else{var rt=S._add(R)._divideBy(2)._subtract(this._centerPoint);if(G===1&&rt.x===0&&rt.y===0)return;this._center=b.unproject(b.project(this._pinchStartLatLng,this._zoom).subtract(rt),this._zoom)}this._moved||(b._moveStart(!0,!1),this._moved=!0),mt(this._animRequest);var yt=d(b._move,b,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ut(yt,this,!0),Ji(p)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,mt(this._animRequest),di(document,"touchmove",this._onTouchMove,this),di(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Xr.addInitHook("addHandler","touchZoom",Jp),Xr.BoxZoom=Yp,Xr.DoubleClickZoom=Xp,Xr.Drag=Jh,Xr.Keyboard=Lm,Xr.ScrollWheelZoom=Tc,Xr.TapHold=Kp,Xr.TouchZoom=Jp,t.Bounds=qt,t.Browser=je,t.CRS=er,t.Canvas=Yh,t.Circle=Bp,t.CircleMarker=Hh,t.Class=ne,t.Control=fo,t.DivIcon=Gp,t.DivOverlay=un,t.DomEvent=Lp,t.DomUtil=bl,t.Draggable=Qo,t.Evented=pe,t.FeatureGroup=Gn,t.GeoJSON=ra,t.GridLayer=Au,t.Handler=Qi,t.Icon=xs,t.ImageOverlay=ia,t.LatLng=le,t.LatLngBounds=fe,t.Layer=go,t.LayerGroup=Tl,t.LineUtil=kl,t.Map=Xr,t.Marker=Sl,t.Mixin=Op,t.Path=ta,t.Point=Jt,t.PolyUtil=Vy,t.Polygon=wc,t.Polyline=ea,t.Popup=Ru,t.PosAnimation=Rp,t.Projection=_m,t.Rectangle=Zp,t.Renderer=_s,t.SVG=Ec,t.SVGOverlay=_c,t.TileLayer=Pl,t.Tooltip=Cl,t.Transformation=Xt,t.Util=re,t.VideoOverlay=Up,t.bind=d,t.bounds=Zt,t.canvas=Xh,t.circle=Yy,t.circleMarker=Zy,t.control=Tu,t.divIcon=qp,t.extend=l,t.featureGroup=cn,t.geoJSON=Wh,t.geoJson=Jy,t.gridLayer=Mm,t.icon=Em,t.imageOverlay=Qy,t.latLng=ue,t.latLngBounds=Ce,t.layerGroup=Bh,t.map=Gy,t.marker=Tm,t.point=Et,t.polygon=Ky,t.polyline=Xy,t.popup=na,t.rectangle=tb,t.setOptions=F,t.stamp=m,t.svg=Wp,t.svgOverlay=$y,t.tileLayer=Vp,t.tooltip=Pm,t.transformation=nt,t.version=o,t.videoOverlay=Cm;var Qh=window.L;t.noConflict=function(){return window.L=Qh,this},window.L=t})})(a1,a1.exports);var Jn=a1.exports;const hs=zC(Jn);var l1={exports:{}};(function(n,r){(function(t,o){o(r)})(wx,function(t){var o={ar:{touch:"استخدم إصبعين لتحريك الخريطة",scroll:"‏استخدم ctrl + scroll لتصغير/تكبير الخريطة",scrollMac:"يمكنك استخدام ⌘ + التمرير لتكبير/تصغير الخريطة"},bg:{touch:"Използвайте два пръста, за да преместите картата",scroll:"Задръжте бутона Ctrl натиснат, докато превъртате, за да промените мащаба на картата",scrollMac:"Задръжте бутона ⌘ натиснат, докато превъртате, за да промените мащаба на картата"},bn:{touch:"মানচিত্রটিকে সরাতে দুটি আঙ্গুল ব্যবহার করুন",scroll:"ম্যাপ জুম করতে ctrl + scroll ব্যবহার করুন",scrollMac:"ম্যাপে জুম করতে ⌘ বোতাম টিপে স্ক্রল করুন"},ca:{touch:"Fes servir dos dits per moure el mapa",scroll:"Prem la tecla Control mentre et desplaces per apropar i allunyar el mapa",scrollMac:"Prem la tecla ⌘ mentre et desplaces per apropar i allunyar el mapa"},cs:{touch:"K posunutí mapy použijte dva prsty",scroll:"Velikost zobrazení mapy změňte podržením klávesy Ctrl a posouváním kolečka myši",scrollMac:"Velikost zobrazení mapy změníte podržením klávesy ⌘ a posunutím kolečka myši / touchpadu"},da:{touch:"Brug to fingre til at flytte kortet",scroll:"Brug ctrl + rullefunktionen til at zoome ind og ud på kortet",scrollMac:"Brug ⌘ + rullefunktionen til at zoome ind og ud på kortet"},de:{touch:"Verschieben der Karte mit zwei Fingern",scroll:"Verwende Strg+Scrollen zum Zoomen der Karte",scrollMac:"⌘"},el:{touch:"Χρησιμοποιήστε δύο δάχτυλα για μετακίνηση στον χάρτη",scroll:"Χρησιμοποιήστε το πλήκτρο Ctrl και κύλιση, για να μεγεθύνετε τον χάρτη",scrollMac:"Χρησιμοποιήστε το πλήκτρο ⌘ + κύλιση για εστίαση στον χάρτη"},en:{touch:"Use two fingers to move the map",scroll:"Use ctrl + scroll to zoom the map",scrollMac:"Use ⌘ + scroll to zoom the map"},"en-AU":{touch:"Use two fingers to move the map",scroll:"Use ctrl + scroll to zoom the map",scrollMac:"Use ⌘ + scroll to zoom the map"},"en-GB":{touch:"Use two fingers to move the map",scroll:"Use ctrl + scroll to zoom the map",scrollMac:"Use ⌘ + scroll to zoom the map"},es:{touch:"Para mover el mapa, utiliza dos dedos",scroll:"Mantén pulsada la tecla Ctrl mientras te desplazas para acercar o alejar el mapa",scrollMac:"Mantén pulsada la tecla ⌘ mientras te desplazas para acercar o alejar el mapa"},eu:{touch:"Erabili bi hatz mapa mugitzeko",scroll:"Mapan zooma aplikatzeko, sakatu Ktrl eta egin gora edo behera",scrollMac:"Eduki sakatuta ⌘ eta egin gora eta behera mapa handitu eta txikitzeko"},fa:{touch:"برای حرکت دادن نقشه از دو انگشت استفاده کنید.",scroll:"‏برای بزرگ‌نمایی نقشه از ctrl + scroll استفاده کنید",scrollMac:"برای بزرگ‌نمایی نقشه، از ⌘ + پیمایش استفاده کنید."},fi:{touch:"Siirrä karttaa kahdella sormella.",scroll:"Zoomaa karttaa painamalla Ctrl-painiketta ja vierittämällä.",scrollMac:"Zoomaa karttaa pitämällä painike ⌘ painettuna ja vierittämällä."},fil:{touch:"Gumamit ng dalawang daliri upang iusog ang mapa",scroll:"Gamitin ang ctrl + scroll upang i-zoom ang mapa",scrollMac:"Gamitin ang ⌘ + scroll upang i-zoom ang mapa"},fr:{touch:"Utilisez deux doigts pour déplacer la carte",scroll:"Vous pouvez zoomer sur la carte à l'aide de CTRL+Molette de défilement",scrollMac:"Vous pouvez zoomer sur la carte à l'aide de ⌘+Molette de défilement"},gl:{touch:"Utiliza dous dedos para mover o mapa",scroll:"Preme Ctrl mentres te desprazas para ampliar o mapa",scrollMac:"Preme ⌘ e desprázate para ampliar o mapa"},gu:{touch:"નકશો ખસેડવા બે આંગળીઓનો ઉપયોગ કરો",scroll:"નકશાને ઝૂમ કરવા માટે ctrl + સ્ક્રોલનો ઉપયોગ કરો",scrollMac:"નકશાને ઝૂમ કરવા ⌘ + સ્ક્રોલનો ઉપયોગ કરો"},hi:{touch:"मैप एक जगह से दूसरी जगह ले जाने के लिए दो उंगलियों का इस्तेमाल करें",scroll:"मैप को ज़ूम करने के लिए ctrl + स्क्रोल का उपयोग करें",scrollMac:"मैप को ज़ूम करने के लिए ⌘ + स्क्रोल का उपयोग करें"},hr:{touch:"Pomičite kartu pomoću dva prsta",scroll:"Upotrijebite Ctrl i klizač miša da biste zumirali kartu",scrollMac:"Upotrijebite gumb ⌘ dok se pomičete za zumiranje karte"},hu:{touch:"Két ujjal mozgassa a térképet",scroll:"A térkép a ctrl + görgetés használatával nagyítható",scrollMac:"A térkép a ⌘ + görgetés használatával nagyítható"},id:{touch:"Gunakan dua jari untuk menggerakkan peta",scroll:"Gunakan ctrl + scroll untuk memperbesar atau memperkecil peta",scrollMac:"Gunakan ⌘ + scroll untuk memperbesar atau memperkecil peta"},it:{touch:"Utilizza due dita per spostare la mappa",scroll:"Utilizza CTRL + scorrimento per eseguire lo zoom della mappa",scrollMac:"Utilizza ⌘ + scorrimento per eseguire lo zoom della mappa"},iw:{touch:"הזז את המפה באמצעות שתי אצבעות",scroll:"‏אפשר לשנות את מרחק התצוגה במפה באמצעות מקש ctrl וגלילה",scrollMac:"אפשר לשנות את מרחק התצוגה במפה באמצעות מקש ⌘ וגלילה"},ja:{touch:"地図を移動させるには指 2 本で操作します",scroll:"地図をズームするには、Ctrl キーを押しながらスクロールしてください",scrollMac:"地図をズームするには、⌘ キーを押しながらスクロールしてください"},kn:{touch:"Use two fingers to move the map",scroll:"Use Ctrl + scroll to zoom the map",scrollMac:"Use ⌘ + scroll to zoom the map"},ko:{touch:"지도를 움직이려면 두 손가락을 사용하세요.",scroll:"지도를 확대/축소하려면 Ctrl을 누른 채 스크롤하세요.",scrollMac:"지도를 확대하려면 ⌘ + 스크롤 사용"},lt:{touch:"Perkelkite žemėlapį dviem pirštais",scroll:"Slinkite nuspaudę klavišą „Ctrl“, kad pakeistumėte žemėlapio mastelį",scrollMac:"Paspauskite klavišą ⌘ ir slinkite, kad priartintumėte žemėlapį"},lv:{touch:"Lai pārvietotu karti, bīdiet to ar diviem pirkstiem",scroll:"Kartes tālummaiņai izmantojiet ctrl + ritināšanu",scrollMac:"Lai veiktu kartes tālummaiņu, izmantojiet ⌘ + ritināšanu"},ml:{touch:"മാപ്പ് നീക്കാൻ രണ്ട് വിരലുകൾ ഉപയോഗിക്കുക",scroll:"കൺട്രോൾ + സ്‌ക്രോൾ ഉപയോഗിച്ച് ‌മാപ്പ് ‌സൂം ചെയ്യുക",scrollMac:"⌘ + സ്‌ക്രോൾ ഉപയോഗിച്ച് ‌മാപ്പ് ‌സൂം ചെയ്യുക"},mr:{touch:"नकाशा हलविण्यासाठी दोन बोटे वापरा",scroll:"नकाशा झूम करण्यासाठी ctrl + scroll वापरा",scrollMac:"नकाशावर झूम करण्यासाठी ⌘ + स्क्रोल वापरा"},nl:{touch:"Gebruik twee vingers om de kaart te verplaatsen",scroll:"Gebruik Ctrl + scrollen om in- en uit te zoomen op de kaart",scrollMac:"Gebruik ⌘ + scrollen om in en uit te zoomen op de kaart"},no:{touch:"Bruk to fingre for å flytte kartet",scroll:"Hold ctrl-tasten inne og rull for å zoome på kartet",scrollMac:"Hold inne ⌘-tasten og rull for å zoome på kartet"},pl:{touch:"Przesuń mapę dwoma palcami",scroll:"Naciśnij CTRL i przewiń, by przybliżyć mapę",scrollMac:"Naciśnij ⌘ i przewiń, by przybliżyć mapę"},pt:{touch:"Use dois dedos para mover o mapa",scroll:"Pressione Ctrl e role a tela simultaneamente para aplicar zoom no mapa",scrollMac:"Use ⌘ e role a tela simultaneamente para aplicar zoom no mapa"},"pt-BR":{touch:"Use dois dedos para mover o mapa",scroll:"Pressione Ctrl e role a tela simultaneamente para aplicar zoom no mapa",scrollMac:"Use ⌘ e role a tela simultaneamente para aplicar zoom no mapa"},"pt-PT":{touch:"Utilize dois dedos para mover o mapa",scroll:"Utilizar ctrl + deslocar para aumentar/diminuir zoom do mapa",scrollMac:"Utilize ⌘ + deslocar para aumentar/diminuir o zoom do mapa"},ro:{touch:"Folosiți două degete pentru a deplasa harta",scroll:"Apăsați tasta ctrl și derulați simultan pentru a mări harta",scrollMac:"Folosiți ⌘ și derulați pentru a mări/micșora harta"},ru:{touch:"Чтобы переместить карту, проведите по ней двумя пальцами",scroll:"Чтобы изменить масштаб, прокручивайте карту, удерживая клавишу Ctrl.",scrollMac:"Чтобы изменить масштаб, нажмите ⌘ + прокрутка"},sk:{touch:"Mapu môžete posunúť dvoma prstami",scroll:"Ak chcete priblížiť mapu, stlačte kláves ctrl a posúvajte",scrollMac:"Ak chcete priblížiť mapu, stlačte kláves ⌘ a posúvajte kolieskom myši"},sl:{touch:"Premaknite zemljevid z dvema prstoma",scroll:"Zemljevid povečate tako, da držite tipko Ctrl in vrtite kolesce na miški",scrollMac:"Uporabite ⌘ + funkcijo pomika, da povečate ali pomanjšate zemljevid"},sr:{touch:"Мапу померајте помоћу два прста",scroll:"Притисните ctrl тастер док померате да бисте зумирали мапу",scrollMac:"Притисните тастер ⌘ док померате да бисте зумирали мапу"},sv:{touch:"Använd två fingrar för att flytta kartan",scroll:"Använd ctrl + rulla för att zooma kartan",scrollMac:"Använd ⌘ + rulla för att zooma på kartan"},ta:{touch:"மேப்பை நகர்த்த இரண்டு விரல்களைப் பயன்படுத்தவும்",scroll:"மேப்பை பெரிதாக்கி/சிறிதாக்கிப் பார்க்க, ctrl பட்டனைப் பிடித்தபடி, மேலே/கீழே ஸ்க்ரால் செய்யவும்",scrollMac:"மேப்பை பெரிதாக்கி/சிறிதாக்கிப் பார்க்க, ⌘ பட்டனைப் பிடித்தபடி, மேலே/கீழே ஸ்க்ரால் செய்யவும்"},te:{touch:"మ్యాప్‌ని తరలించడం కోసం రెండు వేళ్లను ఉపయోగించండి",scroll:"మ్యాప్‌ని జూమ్ చేయడానికి ctrl బటన్‌ను నొక్కి ఉంచి, స్క్రోల్ చేయండి",scrollMac:"మ్యాప్ జూమ్ చేయాలంటే ⌘ + స్క్రోల్ ఉపయోగించండి"},th:{touch:"ใช้ 2 นิ้วเพื่อเลื่อนแผนที่",scroll:"กด Ctrl ค้างไว้ แล้วเลื่อนหน้าจอเพื่อซูมแผนที่",scrollMac:"กด ⌘ แล้วเลื่อนหน้าจอเพื่อซูมแผนที่"},tl:{touch:"Gumamit ng dalawang daliri upang iusog ang mapa",scroll:"Gamitin ang ctrl + scroll upang i-zoom ang mapa",scrollMac:"Gamitin ang ⌘ + scroll upang i-zoom ang mapa"},tr:{touch:"Haritada gezinmek için iki parmağınızı kullanın",scroll:"Haritayı yakınlaştırmak için ctrl + kaydırma kombinasyonunu kullanın",scrollMac:"Haritayı yakınlaştırmak için ⌘ tuşuna basıp ekranı kaydırın"},uk:{touch:"Переміщуйте карту двома пальцями",scroll:"Щоб змінювати масштаб карти, прокручуйте коліщатко миші, утримуючи клавішу Ctrl",scrollMac:"Щоб змінити масштаб карти, використовуйте ⌘ + прокручування"},vi:{touch:"Sử dụng hai ngón tay để di chuyển bản đồ",scroll:"Sử dụng ctrl + cuộn để thu phóng bản đồ",scrollMac:"Sử dụng ⌘ + cuộn để thu phóng bản đồ"},"zh-CN":{touch:"使用双指移动地图",scroll:"按住 Ctrl 并滚动鼠标滚轮才可缩放地图",scrollMac:"按住 ⌘ 并滚动鼠标滚轮才可缩放地图"},"zh-TW":{touch:"同時以兩指移動地圖",scroll:"按住 ctrl 鍵加上捲動滑鼠可以縮放地圖",scrollMac:"按 ⌘ 加上滾動捲軸可以縮放地圖"}};L.Map.mergeOptions({gestureHandlingOptions:{text:{},duration:1e3}});var l=!1,u=L.Handler.extend({addHooks:function(){this._handleTouch=this._handleTouch.bind(this),this._setupPluginOptions(),this._setLanguageContent(),this._disableInteractions(),this._map._container.addEventListener("touchstart",this._handleTouch),this._map._container.addEventListener("touchmove",this._handleTouch),this._map._container.addEventListener("touchend",this._handleTouch),this._map._container.addEventListener("touchcancel",this._handleTouch),this._map._container.addEventListener("click",this._handleTouch),L.DomEvent.on(this._map._container,"wheel",this._handleScroll,this),L.DomEvent.on(this._map,"mouseover",this._handleMouseOver,this),L.DomEvent.on(this._map,"mouseout",this._handleMouseOut,this),L.DomEvent.on(this._map,"movestart",this._handleDragging,this),L.DomEvent.on(this._map,"move",this._handleDragging,this),L.DomEvent.on(this._map,"moveend",this._handleDragging,this)},removeHooks:function(){this._enableInteractions(),this._map._container.removeEventListener("touchstart",this._handleTouch),this._map._container.removeEventListener("touchmove",this._handleTouch),this._map._container.removeEventListener("touchend",this._handleTouch),this._map._container.removeEventListener("touchcancel",this._handleTouch),this._map._container.removeEventListener("click",this._handleTouch),L.DomEvent.off(this._map._container,"wheel",this._handleScroll,this),L.DomEvent.off(this._map,"mouseover",this._handleMouseOver,this),L.DomEvent.off(this._map,"mouseout",this._handleMouseOut,this),L.DomEvent.off(this._map,"movestart",this._handleDragging,this),L.DomEvent.off(this._map,"move",this._handleDragging,this),L.DomEvent.off(this._map,"moveend",this._handleDragging,this)},_handleDragging:function(d){d.type=="movestart"||d.type=="move"?l=!0:d.type=="moveend"&&(l=!1)},_disableInteractions:function(){this._map.dragging.disable(),this._map.scrollWheelZoom.disable(),this._map.tap&&this._map.tap.disable()},_enableInteractions:function(){this._map.dragging.enable(),this._map.scrollWheelZoom.enable(),this._map.tap&&this._map.tap.enable()},_setupPluginOptions:function(){this._map.options.gestureHandlingText&&(this._map.options.gestureHandlingOptions.text=this._map.options.gestureHandlingText)},_setLanguageContent:function(){var d;if(this._map.options.gestureHandlingOptions&&this._map.options.gestureHandlingOptions.text&&this._map.options.gestureHandlingOptions.text.touch&&this._map.options.gestureHandlingOptions.text.scroll&&this._map.options.gestureHandlingOptions.text.scrollMac)d=this._map.options.gestureHandlingOptions.text;else{var f=this._getUserLanguage();f||(f="en"),o[f]&&(d=o[f]),d||f.indexOf("-")===-1||(f=f.split("-")[0],d=o[f]),d||(d=o[f="en"])}var m=!1;0<=navigator.platform.toUpperCase().indexOf("MAC")&&(m=!0);var v=d.scroll;m&&(v=d.scrollMac),this._map._container.setAttribute("data-gesture-handling-touch-content",d.touch),this._map._container.setAttribute("data-gesture-handling-scroll-content",v)},_getUserLanguage:function(){return navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage},_handleTouch:function(d){for(var f=["leaflet-control-minimap","leaflet-interactive","leaflet-popup-content","leaflet-popup-content-wrapper","leaflet-popup-close-button","leaflet-control-zoom-in","leaflet-control-zoom-out"],m=!1,v=0;v<f.length;v++)L.DomUtil.hasClass(d.target,f[v])&&(m=!0);m?L.DomUtil.hasClass(d.target,"leaflet-interactive")&&d.type==="touchmove"&&d.touches.length===1?(L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling-touch-warning"),this._disableInteractions()):L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-touch-warning"):d.type==="touchmove"||d.type==="touchstart"?d.touches.length===1?(L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling-touch-warning"),this._disableInteractions()):(d.preventDefault(),this._enableInteractions(),L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-touch-warning")):L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-touch-warning")},_isScrolling:!1,_handleScroll:function(d){d.metaKey||d.ctrlKey?(d.preventDefault(),L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-scroll-warning"),this._map.scrollWheelZoom.enable()):(L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling-scroll-warning"),this._map.scrollWheelZoom.disable(),clearTimeout(this._isScrolling),this._isScrolling=setTimeout(function(){for(var f=document.getElementsByClassName("leaflet-gesture-handling-scroll-warning"),m=0;m<f.length;m++)L.DomUtil.removeClass(f[m],"leaflet-gesture-handling-scroll-warning")},this._map.options.gestureHandlingOptions.duration))},_handleMouseOver:function(d){this._enableInteractions()},_handleMouseOut:function(d){l||this._disableInteractions()}});L.Map.addInitHook("addHandler","gestureHandling",u),t.GestureHandling=u,t.default=u,Object.defineProperty(t,"__esModule",{value:!0})})})(l1,l1.exports);var $4=l1.exports;L.Control.Opacity=L.Control.extend({options:{collapsed:!1,position:"topright",label:null},initialize:function(n,r){for(const t in L.Util.setOptions(this,r),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,n)this._addLayer(n[t],t,!0)},onAdd:function(n){return this._initLayout(),this._update(),this._container},expand:function(){L.DomUtil.addClass(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._form.clientHeight?(L.DomUtil.addClass(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=n+"px"):L.DomUtil.removeClass(this._form,"leaflet-control-layers-scrollbar"),this},collapse:function(){return L.DomUtil.removeClass(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){const n="leaflet-control-layers",r=this._container=L.DomUtil.create("div",n),t=this.options.collapsed;if(r.setAttribute("aria-haspopup",!0),L.DomEvent.disableClickPropagation(r),L.DomEvent.disableScrollPropagation(r),this.options.label){const u=L.DomUtil.create("p",n+"-label");u.innerHTML=this.options.label,r.appendChild(u)}var o=this._form=L.DomUtil.create("form",n+"-list");t&&(this._map.on("click zoom move",this.collapse,this),L.Browser.android||L.DomEvent.on(r,{mouseenter:this.expand,mouseleave:this.collapse},this));const l=this._layersLink=L.DomUtil.create("a",n+"-toggle",r);l.href="#",l.title="Layers",L.Browser.touch?(L.DomEvent.on(l,"click",L.DomEvent.stop),L.DomEvent.on(l,"click",this.expand,this)):L.DomEvent.on(l,"focus",this.expand,this),t||this.expand(),this._baseLayersList=L.DomUtil.create("div",n+"-base",o),this._separator=L.DomUtil.create("div",n+"-separator",o),this._overlaysList=L.DomUtil.create("div",n+"-overlays",o),r.appendChild(o)},_getLayer:function(n){for(let r=0;r<this._layers.length;r++)if(this._layers[r]&&L.Util.stamp(this._layers[r].layer)===n)return this._layers[r]},_addLayer:function(n,r,t){this._layers.push({layer:n,name:r,overlay:t})},_update:function(){if(!this._container)return this;L.DomUtil.empty(this._baseLayersList),L.DomUtil.empty(this._overlaysList),this._layerControlInputs=[];let n,r,t,o,l=0;for(t=0;t<this._layers.length;t++)o=this._layers[t],this._addItem(o),r=r||o.overlay,n=n||!o.overlay,l+=o.overlay?0:1;this.options.hideSingleBase&&(n=n&&1<l,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=r&&n?"":"none"},_addItem:function(n){let r=document.createElement("label"),t=document.createElement("input");n.overlay?(t.type="range",t.className="leaflet-control-layers-range",t.min=0,t.max=100,t.value=100*n.layer.options.opacity):t=this._createRadioElement("leaflet-base-layers",checked),this._layerControlInputs.push(t),t.layerId=L.Util.stamp(n.layer),t.addEventListener("input",f=>{f=f.target.value;const m=this._getLayer(t.layerId).layer;m._url===void 0||m.setOpacity(Number(f/100))});const o=document.createElement("span");o.innerHTML=" "+n.name;const l=document.createElement("div"),u=document.createElement("div");r.appendChild(l),l.appendChild(o),r.appendChild(u),u.appendChild(t),(n.overlay?this._overlaysList:this._baseLayersList).appendChild(r)}}),L.control.opacity=function(n,r){return new L.Control.Opacity(n,r)};(function(n,r){typeof exports=="object"&&typeof module<"u"?r(exports):typeof define=="function"&&define.amd?define(["exports"],r):r((n=typeof globalThis<"u"?globalThis:n||self).turf={})})(globalThis,function(n){var r=63710088e-1,t={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260511392e-6,inches:39.37*r,kilometers:6371.0088,kilometres:6371.0088,meters:r,metres:r,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:r/1852,radians:1,yards:6967335223679999e-9},o={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/r,yards:1.0936133},l={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function u(e,i,s){s===void 0&&(s={});var a={type:"Feature"};return(s.id===0||s.id)&&(a.id=s.id),s.bbox&&(a.bbox=s.bbox),a.properties=i||{},a.geometry=e,a}function d(e,i,s){switch(e){case"Point":return f(i).geometry;case"LineString":return k(i).geometry;case"Polygon":return v(i).geometry;case"MultiPoint":return F(i).geometry;case"MultiLineString":return A(i).geometry;case"MultiPolygon":return U(i).geometry;default:throw new Error(e+" is invalid")}}function f(e,i,s){if(s===void 0&&(s={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ut(e[0])||!ut(e[1]))throw new Error("coordinates must contain numbers");return u({type:"Point",coordinates:e},i,s)}function m(e,i,s){return s===void 0&&(s={}),M(e.map(function(a){return f(a,i)}),s)}function v(e,i,s){s===void 0&&(s={});for(var a=0,c=e;a<c.length;a++){var h=c[a];if(h.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var g=0;g<h[h.length-1].length;g++)if(h[h.length-1][g]!==h[0][g])throw new Error("First and last Position are not equivalent.")}return u({type:"Polygon",coordinates:e},i,s)}function _(e,i,s){return s===void 0&&(s={}),M(e.map(function(a){return v(a,i)}),s)}function k(e,i,s){if(s===void 0&&(s={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return u({type:"LineString",coordinates:e},i,s)}function C(e,i,s){return s===void 0&&(s={}),M(e.map(function(a){return k(a,i)}),s)}function M(e,i){i===void 0&&(i={});var s={type:"FeatureCollection"};return i.id&&(s.id=i.id),i.bbox&&(s.bbox=i.bbox),s.features=e,s}function A(e,i,s){return s===void 0&&(s={}),u({type:"MultiLineString",coordinates:e},i,s)}function F(e,i,s){return s===void 0&&(s={}),u({type:"MultiPoint",coordinates:e},i,s)}function U(e,i,s){return s===void 0&&(s={}),u({type:"MultiPolygon",coordinates:e},i,s)}function j(e,i,s){return s===void 0&&(s={}),u({type:"GeometryCollection",geometries:e},i,s)}function J(e,i){if(i===void 0&&(i=0),i&&!(i>=0))throw new Error("precision must be a positive number");var s=Math.pow(10,i||0);return Math.round(e*s)/s}function H(e,i){i===void 0&&(i="kilometers");var s=t[i];if(!s)throw new Error(i+" units is invalid");return e*s}function V(e,i){i===void 0&&(i="kilometers");var s=t[i];if(!s)throw new Error(i+" units is invalid");return e/s}function ot(e,i){return ht(V(e,i))}function ft(e){var i=e%360;return i<0&&(i+=360),i}function ht(e){return 180*(e%(2*Math.PI))/Math.PI}function ct(e){return e%360*Math.PI/180}function Z(e,i,s){if(i===void 0&&(i="kilometers"),s===void 0&&(s="kilometers"),!(e>=0))throw new Error("length must be a positive number");return H(V(e,i),s)}function lt(e,i,s){if(i===void 0&&(i="meters"),s===void 0&&(s="kilometers"),!(e>=0))throw new Error("area must be a positive number");var a=l[i];if(!a)throw new Error("invalid original units");var c=l[s];if(!c)throw new Error("invalid final units");return e/a*c}function ut(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function mt(e){return!!e&&e.constructor===Object}function re(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(e.length!==4&&e.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach(function(i){if(!ut(i))throw new Error("bbox must only contain numbers")})}function ne(e){if(!e)throw new Error("id is required");if(["string","number"].indexOf(typeof e)===-1)throw new Error("id must be a number or a string")}var ye=Object.freeze({__proto__:null,earthRadius:r,factors:t,unitsFactors:o,areaFactors:l,feature:u,geometry:d,point:f,points:m,polygon:v,polygons:_,lineString:k,lineStrings:C,featureCollection:M,multiLineString:A,multiPoint:F,multiPolygon:U,geometryCollection:j,round:J,radiansToLength:H,lengthToRadians:V,lengthToDegrees:ot,bearingToAzimuth:ft,radiansToDegrees:ht,degreesToRadians:ct,convertLength:Z,convertArea:lt,isNumber:ut,isObject:mt,validateBBox:re,validateId:ne});function Bt(e,i,s){if(e!==null)for(var a,c,h,g,y,w,x,T,E=0,P=0,z=e.type,N=z==="FeatureCollection",B=z==="Feature",I=N?e.features.length:1,W=0;W<I;W++){y=(T=!!(x=N?e.features[W].geometry:B?e.geometry:e)&&x.type==="GeometryCollection")?x.geometries.length:1;for(var it=0;it<y;it++){var D=0,q=0;if((g=T?x.geometries[it]:x)!==null){w=g.coordinates;var X=g.type;switch(E=!s||X!=="Polygon"&&X!=="MultiPolygon"?0:1,X){case null:break;case"Point":if(i(w,P,W,D,q)===!1)return!1;P++,D++;break;case"LineString":case"MultiPoint":for(a=0;a<w.length;a++){if(i(w[a],P,W,D,q)===!1)return!1;P++,X==="MultiPoint"&&D++}X==="LineString"&&D++;break;case"Polygon":case"MultiLineString":for(a=0;a<w.length;a++){for(c=0;c<w[a].length-E;c++){if(i(w[a][c],P,W,D,q)===!1)return!1;P++}X==="MultiLineString"&&D++,X==="Polygon"&&q++}X==="Polygon"&&D++;break;case"MultiPolygon":for(a=0;a<w.length;a++){for(q=0,c=0;c<w[a].length;c++){for(h=0;h<w[a][c].length-E;h++){if(i(w[a][c][h],P,W,D,q)===!1)return!1;P++}q++}D++}break;case"GeometryCollection":for(a=0;a<g.geometries.length;a++)if(Bt(g.geometries[a],i,s)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function pe(e,i,s,a){var c=s;return Bt(e,function(h,g,y,w,x){c=g===0&&s===void 0?h:i(c,h,g,y,w,x)},a),c}function Jt(e,i){var s;switch(e.type){case"FeatureCollection":for(s=0;s<e.features.length&&i(e.features[s].properties,s)!==!1;s++);break;case"Feature":i(e.properties,0)}}function Wt(e,i,s){var a=s;return Jt(e,function(c,h){a=h===0&&s===void 0?c:i(a,c,h)}),a}function Et(e,i){if(e.type==="Feature")i(e,0);else if(e.type==="FeatureCollection")for(var s=0;s<e.features.length&&i(e.features[s],s)!==!1;s++);}function qt(e,i,s){var a=s;return Et(e,function(c,h){a=h===0&&s===void 0?c:i(a,c,h)}),a}function Zt(e){var i=[];return Bt(e,function(s){i.push(s)}),i}function fe(e,i){var s,a,c,h,g,y,w,x,T,E,P=0,z=e.type==="FeatureCollection",N=e.type==="Feature",B=z?e.features.length:1;for(s=0;s<B;s++){for(y=z?e.features[s].geometry:N?e.geometry:e,x=z?e.features[s].properties:N?e.properties:{},T=z?e.features[s].bbox:N?e.bbox:void 0,E=z?e.features[s].id:N?e.id:void 0,g=(w=!!y&&y.type==="GeometryCollection")?y.geometries.length:1,c=0;c<g;c++)if((h=w?y.geometries[c]:y)!==null)switch(h.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(i(h,P,x,T,E)===!1)return!1;break;case"GeometryCollection":for(a=0;a<h.geometries.length;a++)if(i(h.geometries[a],P,x,T,E)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(i(null,P,x,T,E)===!1)return!1;P++}}function Ce(e,i,s){var a=s;return fe(e,function(c,h,g,y,w){a=h===0&&s===void 0?c:i(a,c,h,g,y,w)}),a}function le(e,i){fe(e,function(s,a,c,h,g){var y,w=s===null?null:s.type;switch(w){case null:case"Point":case"LineString":case"Polygon":return i(u(s,c,{bbox:h,id:g}),a,0)!==!1&&void 0}switch(w){case"MultiPoint":y="Point";break;case"MultiLineString":y="LineString";break;case"MultiPolygon":y="Polygon"}for(var x=0;x<s.coordinates.length;x++){var T=s.coordinates[x];if(i(u({type:y,coordinates:T},c),a,x)===!1)return!1}})}function ue(e,i,s){var a=s;return le(e,function(c,h,g){a=h===0&&g===0&&s===void 0?c:i(a,c,h,g)}),a}function er(e,i){le(e,function(s,a,c){var h=0;if(s.geometry){var g=s.geometry.type;if(g!=="Point"&&g!=="MultiPoint"){var y,w=0,x=0,T=0;return Bt(s,function(E,P,z,N,B){if(y===void 0||a>w||N>x||B>T)return y=E,w=a,x=N,T=B,void(h=0);var I=k([y,E],s.properties);if(i(I,a,c,B,h)===!1)return!1;h++,y=E})!==!1&&void 0}}})}function Ut(e,i,s){var a=s,c=!1;return er(e,function(h,g,y,w,x){a=c===!1&&s===void 0?h:i(a,h,g,y,w,x),c=!0}),a}function Gt(e,i){if(!e)throw new Error("geojson is required");le(e,function(s,a,c){if(s.geometry!==null){var h=s.geometry.type,g=s.geometry.coordinates;switch(h){case"LineString":if(i(s,a,c,0,0)===!1)return!1;break;case"Polygon":for(var y=0;y<g.length;y++)if(i(k(g[y],s.properties),a,c,y)===!1)return!1}}})}function Yt(e,i,s){var a=s;return Gt(e,function(c,h,g,y){a=h===0&&s===void 0?c:i(a,c,h,g,y)}),a}function Xt(e,i){if(!mt(i=i||{}))throw new Error("options is invalid");var s,a=i.featureIndex||0,c=i.multiFeatureIndex||0,h=i.geometryIndex||0,g=i.segmentIndex||0,y=i.properties;switch(e.type){case"FeatureCollection":a<0&&(a=e.features.length+a),y=y||e.features[a].properties,s=e.features[a].geometry;break;case"Feature":y=y||e.properties,s=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":s=e;break;default:throw new Error("geojson is invalid")}if(s===null)return null;var w=s.coordinates;switch(s.type){case"Point":case"MultiPoint":return null;case"LineString":return g<0&&(g=w.length+g-1),k([w[g],w[g+1]],y,i);case"Polygon":return h<0&&(h=w.length+h),g<0&&(g=w[h].length+g-1),k([w[h][g],w[h][g+1]],y,i);case"MultiLineString":return c<0&&(c=w.length+c),g<0&&(g=w[c].length+g-1),k([w[c][g],w[c][g+1]],y,i);case"MultiPolygon":return c<0&&(c=w.length+c),h<0&&(h=w[c].length+h),g<0&&(g=w[c][h].length-g-1),k([w[c][h][g],w[c][h][g+1]],y,i)}throw new Error("geojson is invalid")}function nt(e,i){if(!mt(i=i||{}))throw new Error("options is invalid");var s,a=i.featureIndex||0,c=i.multiFeatureIndex||0,h=i.geometryIndex||0,g=i.coordIndex||0,y=i.properties;switch(e.type){case"FeatureCollection":a<0&&(a=e.features.length+a),y=y||e.features[a].properties,s=e.features[a].geometry;break;case"Feature":y=y||e.properties,s=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":s=e;break;default:throw new Error("geojson is invalid")}if(s===null)return null;var w=s.coordinates;switch(s.type){case"Point":return f(w,y,i);case"MultiPoint":return c<0&&(c=w.length+c),f(w[c],y,i);case"LineString":return g<0&&(g=w.length+g),f(w[g],y,i);case"Polygon":return h<0&&(h=w.length+h),g<0&&(g=w[h].length+g),f(w[h][g],y,i);case"MultiLineString":return c<0&&(c=w.length+c),g<0&&(g=w[c].length+g),f(w[c][g],y,i);case"MultiPolygon":return c<0&&(c=w.length+c),h<0&&(h=w[c].length+h),g<0&&(g=w[c][h].length-g),f(w[c][h][g],y,i)}throw new Error("geojson is invalid")}var pt=Object.freeze({__proto__:null,coordAll:Zt,coordEach:Bt,coordReduce:pe,featureEach:Et,featureReduce:qt,findPoint:nt,findSegment:Xt,flattenEach:le,flattenReduce:ue,geomEach:fe,geomReduce:Ce,lineEach:Gt,lineReduce:Yt,propEach:Jt,propReduce:Wt,segmentEach:er,segmentReduce:Ut});function vt(e){var i=[1/0,1/0,-1/0,-1/0];return Bt(e,function(s){i[0]>s[0]&&(i[0]=s[0]),i[1]>s[1]&&(i[1]=s[1]),i[2]<s[0]&&(i[2]=s[0]),i[3]<s[1]&&(i[3]=s[1])}),i}function O(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return e.geometry.coordinates;if(e.type==="Point")return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Y(e){if(Array.isArray(e))return e;if(e.type==="Feature"){if(e.geometry!==null)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function dt(e){if(e.length>1&&ut(e[0])&&ut(e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return dt(e[0]);throw new Error("coordinates must only contain numbers")}function _t(e,i,s){if(!i||!s)throw new Error("type and name required");if(!e||e.type!==i)throw new Error("Invalid input to "+s+": must be a "+i+", given "+e.type)}function wt(e,i,s){if(!e)throw new Error("No feature passed");if(!s)throw new Error(".featureOf() requires a name");if(!e||e.type!=="Feature"||!e.geometry)throw new Error("Invalid input to "+s+", Feature with geometry required");if(!e.geometry||e.geometry.type!==i)throw new Error("Invalid input to "+s+": must be a "+i+", given "+e.geometry.type)}function Ot(e,i,s){if(!e)throw new Error("No featureCollection passed");if(!s)throw new Error(".collectionOf() requires a name");if(!e||e.type!=="FeatureCollection")throw new Error("Invalid input to "+s+", FeatureCollection required");for(var a=0,c=e.features;a<c.length;a++){var h=c[a];if(!h||h.type!=="Feature"||!h.geometry)throw new Error("Invalid input to "+s+", Feature with geometry required");if(!h.geometry||h.geometry.type!==i)throw new Error("Invalid input to "+s+": must be a "+i+", given "+h.geometry.type)}}function xt(e){return e.type==="Feature"?e.geometry:e}function te(e,i){return e.type==="FeatureCollection"?"FeatureCollection":e.type==="GeometryCollection"?"GeometryCollection":e.type==="Feature"&&e.geometry!==null?e.geometry.type:e.type}vt.default=vt;var ae=Object.freeze({__proto__:null,getCoord:O,getCoords:Y,containsNumber:dt,geojsonType:_t,featureOf:wt,collectionOf:Ot,getGeom:xt,getType:te}),he=Object.getOwnPropertySymbols,se=Object.prototype.hasOwnProperty,Ie=Object.prototype.propertyIsEnumerable;/*
    object-assign
    (c) Sindre Sorhus
    @license MIT
    */function Pe(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var We=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var i={},s=0;s<10;s++)i["_"+String.fromCharCode(s)]=s;if(Object.getOwnPropertyNames(i).map(function(c){return i[c]}).join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(c){a[c]=c}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(e,i){for(var s,a,c=Pe(e),h=1;h<arguments.length;h++){for(var g in s=Object(arguments[h]))se.call(s,g)&&(c[g]=s[g]);if(he){a=he(s);for(var y=0;y<a.length;y++)Ie.call(s,a[y])&&(c[a[y]]=s[a[y]])}}return c},$={successCallback:null,verbose:!1},K={};/**
     * @license GNU Affero General Public License.
     * Copyright (c) 2015, 2015 Ronny Lorenz <ronny@tbi.univie.ac.at>
     * v. 1.2.0
     * https://github.com/RaumZeit/MarchingSquares.js
     *
     * MarchingSquaresJS is free software: you can redistribute it and/or modify
     * it under the terms of the GNU Affero General Public License as published by
     * the Free Software Foundation, either version 3 of the License, or
     * (at your option) any later version.
     *
     * MarchingSquaresJS is distributed in the hope that it will be useful,
     * but WITHOUT ANY WARRANTY; without even the implied warranty of
     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
     * GNU Affero General Public License for more details.
     *
     * As additional permission under GNU Affero General Public License version 3
     * section 7, third-party projects (personal or commercial) may distribute,
     * include, or link against UNMODIFIED VERSIONS of MarchingSquaresJS without the
     * requirement that said third-party project for that reason alone becomes
     * subject to any requirement of the GNU Affero General Public License version 3.
     * Any modifications to MarchingSquaresJS, however, must be shared with the public
     * and made available.
     *
     * In summary this:
     * - allows you to use MarchingSquaresJS at no cost
     * - allows you to use MarchingSquaresJS for both personal and commercial purposes
     * - allows you to distribute UNMODIFIED VERSIONS of MarchingSquaresJS under any
     *   license as long as this license notice is included
     * - enables you to keep the source code of your program that uses MarchingSquaresJS
     *   undisclosed
     * - forces you to share any modifications you have made to MarchingSquaresJS,
     *   e.g. bug-fixes
     *
     * You should have received a copy of the GNU Affero General Public License
     * along with MarchingSquaresJS.  If not, see <http://www.gnu.org/licenses/>.
     */function at(e,i,s){s=s||{};for(var a=Object.keys($),c=0;c<a.length;c++){var h=a[c],g=s[h];g=g??$[h],K[h]=g}K.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+i);var y=function(w){var x=[],T=0,E=1e-7;return w.cells.forEach(function(P,z){P.forEach(function(N,B){if(N!==void 0&&(tt=N).cval!==5&&tt.cval!==10&&!Vt(N)){var I=function(Q,Rt,kt){var zt,Tt,Ft=Q.length,Mt=[],Pt=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],St=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],Nt=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"],It=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],Ht=Q[Rt][kt],gt=Ht.cval,Le=Nt[gt],oe=ke(Ht,Le);Mt.push([kt+oe[0],Rt+oe[1]]),Le=It[gt],oe=ke(Ht,Le),Mt.push([kt+oe[0],Rt+oe[1]]),ee(Ht);for(var ir=kt+Pt[gt],we=Rt+St[gt],Ge=gt;ir>=0&&we>=0&&we<Ft&&(ir!=kt||we!=Rt)&&(Ht=Q[we][ir])!==void 0;){if((gt=Ht.cval)===0||gt===15)return{path:Mt,info:"mergeable"};Le=It[gt],zt=Pt[gt],Tt=St[gt],gt!==5&&gt!==10||(gt===5?Ht.flipped?St[Ge]===-1?(Le="left",zt=-1,Tt=0):(Le="right",zt=1,Tt=0):Pt[Ge]===-1&&(Le="bottom",zt=0,Tt=-1):gt===10&&(Ht.flipped?Pt[Ge]===-1?(Le="top",zt=0,Tt=1):(Le="bottom",zt=0,Tt=-1):St[Ge]===1&&(Le="left",zt=-1,Tt=0))),oe=ke(Ht,Le),Mt.push([ir+oe[0],we+oe[1]]),ee(Ht),ir+=zt,we+=Tt,Ge=gt}return{path:Mt,info:"closed"}}(w.cells,z,B),W=!1;if(I.info==="mergeable"){for(var it=I.path[I.path.length-1][0],D=I.path[I.path.length-1][1],q=T-1;q>=0;q--)if(Math.abs(x[q][0][0]-it)<=E&&Math.abs(x[q][0][1]-D)<=E){for(var X=I.path.length-2;X>=0;--X)x[q].unshift(I.path[X]);W=!0;break}}W||(x[T++]=I.path)}var tt})}),x}(function(w,x){for(var T=w.length-1,E=w[0].length-1,P={rows:T,cols:E,cells:[]},z=0;z<T;++z){P.cells[z]=[];for(var N=0;N<E;++N){var B=0,I=w[z+1][N],W=w[z+1][N+1],it=w[z][N+1],D=w[z][N];if(!(isNaN(I)||isNaN(W)||isNaN(it)||isNaN(D))){B|=I>=x?8:0,B|=W>=x?4:0,B|=it>=x?2:0;var q,X,tt,Q,Rt=!1;if((B|=D>=x?1:0)===5||B===10){var kt=(I+W+it+D)/4;B===5&&kt<x?(B=10,Rt=!0):B===10&&kt<x&&(B=5,Rt=!0)}B!==0&&B!==15&&(q=X=tt=Q=.5,B===1?(tt=1-st(x,I,D),X=1-st(x,it,D)):B===2?(X=st(x,D,it),Q=1-st(x,W,it)):B===3?(tt=1-st(x,I,D),Q=1-st(x,W,it)):B===4?(q=st(x,I,W),Q=st(x,it,W)):B===5?(q=st(x,I,W),Q=st(x,it,W),X=1-st(x,it,D),tt=1-st(x,I,D)):B===6?(X=st(x,D,it),q=st(x,I,W)):B===7?(tt=1-st(x,I,D),q=st(x,I,W)):B===8?(tt=st(x,D,I),q=1-st(x,W,I)):B===9?(X=1-st(x,it,D),q=1-st(x,W,I)):B===10?(q=1-st(x,W,I),Q=1-st(x,W,it),X=st(x,D,it),tt=st(x,D,I)):B===11?(q=1-st(x,W,I),Q=1-st(x,W,it)):B===12?(tt=st(x,D,I),Q=st(x,it,W)):B===13?(X=1-st(x,it,D),Q=st(x,it,W)):B===14?(tt=st(x,D,I),X=st(x,D,it)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+B),P.cells[z][N]={cval:B,flipped:Rt,top:q,right:Q,bottom:X,left:tt})}}}return P}(e,i));return typeof K.successCallback=="function"&&K.successCallback(y),y}function st(e,i,s){return(e-i)/(s-i)}function Vt(e){return e.cval===0||e.cval===15}function ee(e){Vt(e)||e.cval===5||e.cval===10||(e.cval=15)}function ke(e,i){return i==="top"?[e.top,1]:i==="bottom"?[e.bottom,0]:i==="right"?[1,e.right]:i==="left"?[0,e.left]:void 0}function lr(e,i){if(!mt(i=i||{}))throw new Error("options is invalid");var s=i.zProperty||"elevation",a=i.flip,c=i.flags;Ot(e,"Point","input must contain Points");for(var h=function(P,z){var N={};return Et(P,function(B){var I=Y(B)[1];N[I]||(N[I]=[]),N[I].push(B)}),Object.keys(N).map(function(B){return N[B].sort(function(I,W){return Y(I)[0]-Y(W)[0]})}).sort(function(B,I){return z?Y(B[0])[1]-Y(I[0])[1]:Y(I[0])[1]-Y(B[0])[1]})}(e,a),g=[],y=0;y<h.length;y++){for(var w=h[y],x=[],T=0;T<w.length;T++){var E=w[T];E.properties[s]?x.push(E.properties[s]):x.push(0),c===!0&&(E.properties.matrixPosition=[y,T])}g.push(x)}return g}var Be=ji,Un=ji;function ji(e,i,s,a,c){bs(e,i,s||0,a||e.length-1,c||fu)}function bs(e,i,s,a,c){for(;a>s;){if(a-s>600){var h=a-s+1,g=i-s+1,y=Math.log(h),w=.5*Math.exp(2*y/3),x=.5*Math.sqrt(y*w*(h-w)/h)*(g-h/2<0?-1:1);bs(e,i,Math.max(s,Math.floor(i-g*w/h+x)),Math.min(a,Math.floor(i+(h-g)*w/h+x)),c)}var T=e[i],E=s,P=a;for(Js(e,s,i),c(e[a],T)>0&&Js(e,s,a);E<P;){for(Js(e,E,P),E++,P--;c(e[E],T)<0;)E++;for(;c(e[P],T)>0;)P--}c(e[s],T)===0?Js(e,s,P):Js(e,++P,a),P<=i&&(s=P+1),i<=P&&(a=P-1)}}function Js(e,i,s){var a=e[i];e[i]=e[s],e[s]=a}function fu(e,i){return e<i?-1:e>i?1:0}Be.default=Un;var Ki=gu,Oy=gu;function gu(e,i){if(!(this instanceof gu))return new gu(e,i);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),i&&this._initFormat(i),this.clear()}function zy(e,i,s){if(!s)return i.indexOf(e);for(var a=0;a<i.length;a++)if(s(e,i[a]))return a;return-1}function lc(e,i){mu(e,0,e.children.length,i,e)}function mu(e,i,s,a,c){c||(c=vl(null)),c.minX=1/0,c.minY=1/0,c.maxX=-1/0,c.maxY=-1/0;for(var h,g=i;g<s;g++)h=e.children[g],ml(c,e.leaf?a(h):h);return c}function ml(e,i){return e.minX=Math.min(e.minX,i.minX),e.minY=Math.min(e.minY,i.minY),e.maxX=Math.max(e.maxX,i.maxX),e.maxY=Math.max(e.maxY,i.maxY),e}function rm(e,i){return e.minX-i.minX}function im(e,i){return e.minY-i.minY}function kp(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function Eh(e){return e.maxX-e.minX+(e.maxY-e.minY)}function Lo(e,i){return e.minX<=i.minX&&e.minY<=i.minY&&i.maxX<=e.maxX&&i.maxY<=e.maxY}function je(e,i){return i.minX<=e.maxX&&i.minY<=e.maxY&&i.maxX>=e.minX&&i.maxY>=e.minY}function vl(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Ep(e,i,s,a,c){for(var h,g=[i,s];g.length;)(s=g.pop())-(i=g.pop())<=a||(h=i+Math.ceil((s-i)/a/2)*a,Be(e,h,i,s,c),g.push(i,h,h,s))}function Ko(e){var i={exports:{}};return e(i,i.exports),i.exports}gu.prototype={all:function(){return this._all(this.data,[])},search:function(e){var i=this.data,s=[],a=this.toBBox;if(!je(e,i))return s;for(var c,h,g,y,w=[];i;){for(c=0,h=i.children.length;c<h;c++)g=i.children[c],je(e,y=i.leaf?a(g):g)&&(i.leaf?s.push(g):Lo(e,y)?this._all(g,s):w.push(g));i=w.pop()}return s},collides:function(e){var i=this.data,s=this.toBBox;if(!je(e,i))return!1;for(var a,c,h,g,y=[];i;){for(a=0,c=i.children.length;a<c;a++)if(h=i.children[a],je(e,g=i.leaf?s(h):h)){if(i.leaf||Lo(e,g))return!0;y.push(h)}i=y.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var i=0,s=e.length;i<s;i++)this.insert(e[i]);return this}var a=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===a.height)this._splitRoot(this.data,a);else{if(this.data.height<a.height){var c=this.data;this.data=a,a=c}this._insert(a,this.data.height-a.height-1,!0)}else this.data=a;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=vl([]),this},remove:function(e,i){if(!e)return this;for(var s,a,c,h,g=this.data,y=this.toBBox(e),w=[],x=[];g||w.length;){if(g||(g=w.pop(),a=w[w.length-1],s=x.pop(),h=!0),g.leaf&&(c=zy(e,g.children,i))!==-1)return g.children.splice(c,1),w.push(g),this._condense(w),this;h||g.leaf||!Lo(g,y)?a?(s++,g=a.children[s],h=!1):g=null:(w.push(g),x.push(s),s=0,a=g,g=g.children[0])}return this},toBBox:function(e){return e},compareMinX:rm,compareMinY:im,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,i){for(var s=[];e;)e.leaf?i.push.apply(i,e.children):s.push.apply(s,e.children),e=s.pop();return i},_build:function(e,i,s,a){var c,h=s-i+1,g=this._maxEntries;if(h<=g)return lc(c=vl(e.slice(i,s+1)),this.toBBox),c;a||(a=Math.ceil(Math.log(h)/Math.log(g)),g=Math.ceil(h/Math.pow(g,a-1))),(c=vl([])).leaf=!1,c.height=a;var y,w,x,T,E=Math.ceil(h/g),P=E*Math.ceil(Math.sqrt(g));for(Ep(e,i,s,P,this.compareMinX),y=i;y<=s;y+=P)for(Ep(e,y,x=Math.min(y+P-1,s),E,this.compareMinY),w=y;w<=x;w+=E)T=Math.min(w+E-1,x),c.children.push(this._build(e,w,T,a-1));return lc(c,this.toBBox),c},_chooseSubtree:function(e,i,s,a){for(var c,h,g,y,w,x,T,E,P,z;a.push(i),!i.leaf&&a.length-1!==s;){for(T=E=1/0,c=0,h=i.children.length;c<h;c++)w=kp(g=i.children[c]),P=e,z=g,(x=(Math.max(z.maxX,P.maxX)-Math.min(z.minX,P.minX))*(Math.max(z.maxY,P.maxY)-Math.min(z.minY,P.minY))-w)<E?(E=x,T=w<T?w:T,y=g):x===E&&w<T&&(T=w,y=g);i=y||i.children[0]}return i},_insert:function(e,i,s){var a=this.toBBox,c=s?e:a(e),h=[],g=this._chooseSubtree(c,this.data,i,h);for(g.children.push(e),ml(g,c);i>=0&&h[i].children.length>this._maxEntries;)this._split(h,i),i--;this._adjustParentBBoxes(c,h,i)},_split:function(e,i){var s=e[i],a=s.children.length,c=this._minEntries;this._chooseSplitAxis(s,c,a);var h=this._chooseSplitIndex(s,c,a),g=vl(s.children.splice(h,s.children.length-h));g.height=s.height,g.leaf=s.leaf,lc(s,this.toBBox),lc(g,this.toBBox),i?e[i-1].children.push(g):this._splitRoot(s,g)},_splitRoot:function(e,i){this.data=vl([e,i]),this.data.height=e.height+1,this.data.leaf=!1,lc(this.data,this.toBBox)},_chooseSplitIndex:function(e,i,s){var a,c,h,g,y,w,x,T,E,P,z,N,B,I;for(w=x=1/0,a=i;a<=s-i;a++)c=mu(e,0,a,this.toBBox),h=mu(e,a,s,this.toBBox),E=c,P=h,z=void 0,N=void 0,B=void 0,I=void 0,z=Math.max(E.minX,P.minX),N=Math.max(E.minY,P.minY),B=Math.min(E.maxX,P.maxX),I=Math.min(E.maxY,P.maxY),g=Math.max(0,B-z)*Math.max(0,I-N),y=kp(c)+kp(h),g<w?(w=g,T=a,x=y<x?y:x):g===w&&y<x&&(x=y,T=a);return T},_chooseSplitAxis:function(e,i,s){var a=e.leaf?this.compareMinX:rm,c=e.leaf?this.compareMinY:im;this._allDistMargin(e,i,s,a)<this._allDistMargin(e,i,s,c)&&e.children.sort(a)},_allDistMargin:function(e,i,s,a){e.children.sort(a);var c,h,g=this.toBBox,y=mu(e,0,i,g),w=mu(e,s-i,s,g),x=Eh(y)+Eh(w);for(c=i;c<s-i;c++)h=e.children[c],ml(y,e.leaf?g(h):h),x+=Eh(y);for(c=s-i-1;c>=i;c--)h=e.children[c],ml(w,e.leaf?g(h):h),x+=Eh(w);return x},_adjustParentBBoxes:function(e,i,s){for(var a=s;a>=0;a--)ml(i[a],e)},_condense:function(e){for(var i,s=e.length-1;s>=0;s--)e[s].children.length===0?s>0?(i=e[s-1].children).splice(i.indexOf(e[s]),1):this.clear():lc(e[s],this.toBBox)},_initFormat:function(e){var i=["return a"," - b",";"];this.compareMinX=new Function("a","b",i.join(e[0])),this.compareMinY=new Function("a","b",i.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}},Ki.default=Oy;var vu=function(e,i,s){var a=e*i,c=Th*e,h=c-(c-e),g=e-h,y=Th*i,w=y-(y-i),x=i-w,T=g*x-(a-h*w-g*w-h*x);return s?(s[0]=T,s[1]=a,s):[T,a]},Th=+(Math.pow(2,27)+1),nm=function(e,i){var s=0|e.length,a=0|i.length;if(s===1&&a===1)return function(tt,Q){var Rt=tt+Q,kt=Rt-tt,zt=tt-(Rt-kt)+(Q-kt);return zt?[zt,Rt]:[Rt]}(e[0],i[0]);var c,h,g=new Array(s+a),y=0,w=0,x=0,T=Math.abs,E=e[w],P=T(E),z=i[x],N=T(z);P<N?(h=E,(w+=1)<s&&(E=e[w],P=T(E))):(h=z,(x+=1)<a&&(z=i[x],N=T(z))),w<s&&P<N||x>=a?(c=E,(w+=1)<s&&(E=e[w],P=T(E))):(c=z,(x+=1)<a&&(z=i[x],N=T(z)));for(var B,I,W=c+h,it=W-c,D=h-it,q=D,X=W;w<s&&x<a;)P<N?(c=E,(w+=1)<s&&(E=e[w],P=T(E))):(c=z,(x+=1)<a&&(z=i[x],N=T(z))),(D=(h=q)-(it=(W=c+h)-c))&&(g[y++]=D),q=X-((B=X+W)-(I=B-X))+(W-I),X=B;for(;w<s;)(D=(h=q)-(it=(W=(c=E)+h)-c))&&(g[y++]=D),q=X-((B=X+W)-(I=B-X))+(W-I),X=B,(w+=1)<s&&(E=e[w]);for(;x<a;)(D=(h=q)-(it=(W=(c=z)+h)-c))&&(g[y++]=D),q=X-((B=X+W)-(I=B-X))+(W-I),X=B,(x+=1)<a&&(z=i[x]);return q&&(g[y++]=q),X&&(g[y++]=X),y||(g[y++]=0),g.length=y,g},cc=function(e,i,s){var a=e+i,c=a-e,h=i-c,g=e-(a-c);return s?(s[0]=g+h,s[1]=a,s):[g+h,a]},om=function(e,i){var s=e.length;if(s===1){var a=vu(e[0],i);return a[0]?a:[a[1]]}var c=new Array(2*s),h=[.1,.1],g=[.1,.1],y=0;vu(e[0],i,h),h[0]&&(c[y++]=h[0]);for(var w=1;w<s;++w){vu(e[w],i,g);var x=h[1];cc(x,g[0],h),h[0]&&(c[y++]=h[0]);var T=g[1],E=h[1],P=T+E,z=E-(P-T);h[1]=P,z&&(c[y++]=z)}return h[1]&&(c[y++]=h[1]),y===0&&(c[y++]=0),c.length=y,c},Ny=function(e,i){var s=0|e.length,a=0|i.length;if(s===1&&a===1)return function(tt,Q){var Rt=tt+Q,kt=Rt-tt,zt=tt-(Rt-kt)+(Q-kt);return zt?[zt,Rt]:[Rt]}(e[0],-i[0]);var c,h,g=new Array(s+a),y=0,w=0,x=0,T=Math.abs,E=e[w],P=T(E),z=-i[x],N=T(z);P<N?(h=E,(w+=1)<s&&(E=e[w],P=T(E))):(h=z,(x+=1)<a&&(z=-i[x],N=T(z))),w<s&&P<N||x>=a?(c=E,(w+=1)<s&&(E=e[w],P=T(E))):(c=z,(x+=1)<a&&(z=-i[x],N=T(z)));for(var B,I,W=c+h,it=W-c,D=h-it,q=D,X=W;w<s&&x<a;)P<N?(c=E,(w+=1)<s&&(E=e[w],P=T(E))):(c=z,(x+=1)<a&&(z=-i[x],N=T(z))),(D=(h=q)-(it=(W=c+h)-c))&&(g[y++]=D),q=X-((B=X+W)-(I=B-X))+(W-I),X=B;for(;w<s;)(D=(h=q)-(it=(W=(c=E)+h)-c))&&(g[y++]=D),q=X-((B=X+W)-(I=B-X))+(W-I),X=B,(w+=1)<s&&(E=e[w]);for(;x<a;)(D=(h=q)-(it=(W=(c=z)+h)-c))&&(g[y++]=D),q=X-((B=X+W)-(I=B-X))+(W-I),X=B,(x+=1)<a&&(z=-i[x]);return q&&(g[y++]=q),X&&(g[y++]=X),y||(g[y++]=0),g.length=y,g},sm=Ko(function(e){function i(x,T){for(var E=new Array(x.length-1),P=1;P<x.length;++P)for(var z=E[P-1]=new Array(x.length-1),N=0,B=0;N<x.length;++N)N!==T&&(z[B++]=x[P][N]);return E}function s(x){if(x.length===1)return x[0];if(x.length===2)return["sum(",x[0],",",x[1],")"].join("");var T=x.length>>1;return["sum(",s(x.slice(0,T)),",",s(x.slice(T)),")"].join("")}function a(x){if(x.length===2)return[["sum(prod(",x[0][0],",",x[1][1],"),prod(-",x[0][1],",",x[1][0],"))"].join("")];for(var T=[],E=0;E<x.length;++E)T.push(["scale(",s(a(i(x,E))),",",(P=E,1&P?"-":""),x[0][E],")"].join(""));return T;var P}function c(x){for(var T=[],E=[],P=function(D){for(var q=new Array(D),X=0;X<D;++X){q[X]=new Array(D);for(var tt=0;tt<D;++tt)q[X][tt]=["m",tt,"[",D-X-1,"]"].join("")}return q}(x),z=[],N=0;N<x;++N)1&N?E.push.apply(E,a(i(P,N))):T.push.apply(T,a(i(P,N))),z.push("m"+N);var B=s(T),I=s(E),W="orientation"+x+"Exact",it=["function ",W,"(",z.join(),"){var p=",B,",n=",I,",d=sub(p,n);return d[d.length-1];};return ",W].join("");return new Function("sum","prod","scale","sub",it)(nm,vu,om,Ny)}var h=c(3),g=c(4),y=[function(){return 0},function(){return 0},function(x,T){return T[0]-x[0]},function(x,T,E){var P,z=(x[1]-E[1])*(T[0]-E[0]),N=(x[0]-E[0])*(T[1]-E[1]),B=z-N;if(z>0){if(N<=0)return B;P=z+N}else{if(!(z<0)||N>=0)return B;P=-(z+N)}var I=33306690738754716e-32*P;return B>=I||B<=-I?B:h(x,T,E)},function(x,T,E,P){var z=x[0]-P[0],N=T[0]-P[0],B=E[0]-P[0],I=x[1]-P[1],W=T[1]-P[1],it=E[1]-P[1],D=x[2]-P[2],q=T[2]-P[2],X=E[2]-P[2],tt=N*it,Q=B*W,Rt=B*I,kt=z*it,zt=z*W,Tt=N*I,Ft=D*(tt-Q)+q*(Rt-kt)+X*(zt-Tt),Mt=7771561172376103e-31*((Math.abs(tt)+Math.abs(Q))*Math.abs(D)+(Math.abs(Rt)+Math.abs(kt))*Math.abs(q)+(Math.abs(zt)+Math.abs(Tt))*Math.abs(X));return Ft>Mt||-Ft>Mt?Ft:g(x,T,E,P)}];function w(x){var T=y[x.length];return T||(T=y[x.length]=c(x.length)),T.apply(void 0,x)}(function(){for(;y.length<=5;)y.push(c(y.length));for(var x=[],T=["slow"],E=0;E<=5;++E)x.push("a"+E),T.push("o"+E);var P=["function getOrientation(",x.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(E=2;E<=5;++E)P.push("case ",E,":return o",E,"(",x.slice(0,E).join(),");");P.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),T.push(P.join(""));var z=Function.apply(void 0,T);for(e.exports=z.apply(void 0,[w].concat(y)),E=0;E<=5;++E)e.exports[E]=y[E]})()}),Dy=function(e){var i=e.length;if(i<3){for(var s=new Array(i),a=0;a<i;++a)s[a]=a;return i===2&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]?[0]:s}var c=new Array(i);for(a=0;a<i;++a)c[a]=a;c.sort(function(z,N){var B=e[z][0]-e[N][0];return B||e[z][1]-e[N][1]});var h=[c[0],c[1]],g=[c[0],c[1]];for(a=2;a<i;++a){for(var y=c[a],w=e[y],x=h.length;x>1&&am(e[h[x-2]],e[h[x-1]],w)<=0;)x-=1,h.pop();for(h.push(y),x=g.length;x>1&&am(e[g[x-2]],e[g[x-1]],w)>=0;)x-=1,g.pop();g.push(y)}s=new Array(g.length+h.length-2);for(var T=0,E=(a=0,h.length);a<E;++a)s[T++]=h[a];for(var P=g.length-2;P>0;--P)s[T++]=g[P];return s},am=sm[3],Tp=Na,Fy=Na;function Na(e,i){if(!(this instanceof Na))return new Na(e,i);if(this.data=e||[],this.length=this.data.length,this.compare=i||By,this.length>0)for(var s=(this.length>>1)-1;s>=0;s--)this._down(s)}function By(e,i){return e<i?-1:e>i?1:0}Na.prototype={push:function(e){this.data.push(e),this.length++,this._up(this.length-1)},pop:function(){if(this.length!==0){var e=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),e}},peek:function(){return this.data[0]},_up:function(e){for(var i=this.data,s=this.compare,a=i[e];e>0;){var c=e-1>>1,h=i[c];if(s(a,h)>=0)break;i[e]=h,e=c}i[e]=a},_down:function(e){for(var i=this.data,s=this.compare,a=this.length>>1,c=i[e];e<a;){var h=1+(e<<1),g=h+1,y=i[h];if(g<this.length&&s(i[g],y)<0&&(h=g,y=i[g]),s(y,c)>=0)break;i[e]=y,e=h}i[e]=c}},Tp.default=Fy;var jy=function(e,i){for(var s=e[0],a=e[1],c=!1,h=0,g=i.length-1;h<i.length;g=h++){var y=i[h][0],w=i[h][1],x=i[g][0],T=i[g][1];w>a!=T>a&&s<(x-y)*(a-w)/(T-w)+y&&(c=!c)}return c},Sh=sm[3],lm=Ch,Hy=Ch;function Ch(e,i,s){i=Math.max(0,i===void 0?2:i),s=s||0;for(var a,c=function(it){for(var D=it[0],q=it[0],X=it[0],tt=it[0],Q=0;Q<it.length;Q++){var Rt=it[Q];Rt[0]<D[0]&&(D=Rt),Rt[0]>X[0]&&(X=Rt),Rt[1]<q[1]&&(q=Rt),Rt[1]>tt[1]&&(tt=Rt)}var kt=[D,q,X,tt],zt=kt.slice();for(Q=0;Q<it.length;Q++)jy(it[Q],kt)||zt.push(it[Q]);var Tt=Dy(zt),Ft=[];for(Q=0;Q<Tt.length;Q++)Ft.push(zt[Tt[Q]]);return Ft}(e),h=Ki(16,["[0]","[1]","[0]","[1]"]).load(e),g=[],y=0;y<c.length;y++){var w=c[y];h.remove(w),a=bu(w,a),g.push(a)}var x=Ki(16);for(y=0;y<g.length;y++)x.insert(Ei(g[y]));for(var T=i*i,E=s*s;g.length;){var P=g.shift(),z=P.p,N=P.next.p,B=Da(z,N);if(!(B<E)){var I=B/T;(w=yu(h,P.prev.p,z,N,P.next.next.p,I,x))&&Math.min(Da(w,z),Da(w,N))<=I&&(g.push(P),g.push(bu(w,P)),h.remove(w),x.remove(P),x.insert(Ei(P)),x.insert(Ei(P.next)))}}P=a;var W=[];do W.push(P.p),P=P.next;while(P!==a);return W.push(P.p),W}function yu(e,i,s,a,c,h,g){for(var y=new Tp(null,cm),w=e.data;w;){for(var x=0;x<w.children.length;x++){var T=w.children[x],E=w.leaf?Fa(T,s,a):um(s,a,T);E>h||y.push({node:T,dist:E})}for(;y.length&&!y.peek().node.children;){var P=y.pop(),z=P.node,N=Fa(z,i,s),B=Fa(z,a,c);if(P.dist<N&&P.dist<B&&ii(s,z,g)&&ii(a,z,g))return z}(w=y.pop())&&(w=w.node)}return null}function cm(e,i){return e.dist-i.dist}function um(e,i,s){if(uc(e,s)||uc(i,s))return 0;var a=hc(e[0],e[1],i[0],i[1],s.minX,s.minY,s.maxX,s.minY);if(a===0)return 0;var c=hc(e[0],e[1],i[0],i[1],s.minX,s.minY,s.minX,s.maxY);if(c===0)return 0;var h=hc(e[0],e[1],i[0],i[1],s.maxX,s.minY,s.maxX,s.maxY);if(h===0)return 0;var g=hc(e[0],e[1],i[0],i[1],s.minX,s.maxY,s.maxX,s.maxY);return g===0?0:Math.min(a,c,h,g)}function uc(e,i){return e[0]>=i.minX&&e[0]<=i.maxX&&e[1]>=i.minY&&e[1]<=i.maxY}function ii(e,i,s){for(var a,c,h,g,y=Math.min(e[0],i[0]),w=Math.min(e[1],i[1]),x=Math.max(e[0],i[0]),T=Math.max(e[1],i[1]),E=s.search({minX:y,minY:w,maxX:x,maxY:T}),P=0;P<E.length;P++)if(a=E[P].p,c=E[P].next.p,h=e,a!==(g=i)&&c!==h&&Sh(a,c,h)>0!=Sh(a,c,g)>0&&Sh(h,g,a)>0!=Sh(h,g,c)>0)return!1;return!0}function Ei(e){var i=e.p,s=e.next.p;return e.minX=Math.min(i[0],s[0]),e.minY=Math.min(i[1],s[1]),e.maxX=Math.max(i[0],s[0]),e.maxY=Math.max(i[1],s[1]),e}function bu(e,i){var s={p:e,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return i?(s.next=i.next,s.prev=i,i.next.prev=s,i.next=s):(s.prev=s,s.next=s),s}function Da(e,i){var s=e[0]-i[0],a=e[1]-i[1];return s*s+a*a}function Fa(e,i,s){var a=i[0],c=i[1],h=s[0]-a,g=s[1]-c;if(h!==0||g!==0){var y=((e[0]-a)*h+(e[1]-c)*g)/(h*h+g*g);y>1?(a=s[0],c=s[1]):y>0&&(a+=h*y,c+=g*y)}return(h=e[0]-a)*h+(g=e[1]-c)*g}function hc(e,i,s,a,c,h,g,y){var w,x,T,E,P=s-e,z=a-i,N=g-c,B=y-h,I=e-c,W=i-h,it=P*P+z*z,D=P*N+z*B,q=N*N+B*B,X=P*I+z*W,tt=N*I+B*W,Q=it*q-D*D,Rt=Q,kt=Q;Q===0?(x=0,Rt=1,E=tt,kt=q):(E=it*tt-D*X,(x=D*tt-q*X)<0?(x=0,E=tt,kt=q):x>Rt&&(x=Rt,E=tt+D,kt=q)),E<0?(E=0,-X<0?x=0:-X>it?x=Rt:(x=-X,Rt=it)):E>kt&&(E=kt,-X+D<0?x=0:-X+D>it?x=Rt:(x=-X+D,Rt=it));var zt=(1-(T=E===0?0:E/kt))*c+T*g-((1-(w=x===0?0:x/Rt))*e+w*s),Tt=(1-T)*h+T*y-((1-w)*i+w*a);return zt*zt+Tt*Tt}function hr(e,i){i===void 0&&(i={}),i.concavity=i.concavity||1/0;var s=[];if(Bt(e,function(c){s.push([c[0],c[1]])}),!s.length)return null;var a=lm(s,i.concavity);return a.length>3?v([a]):null}function $e(e,i,s){if(s===void 0&&(s={}),!e)throw new Error("point is required");if(!i)throw new Error("polygon is required");var a=O(e),c=xt(i),h=c.type,g=i.bbox,y=c.coordinates;if(g&&function(P,z){return z[0]<=P[0]&&z[1]<=P[1]&&z[2]>=P[0]&&z[3]>=P[1]}(a,g)===!1)return!1;h==="Polygon"&&(y=[y]);for(var w=!1,x=0;x<y.length&&!w;x++)if(Ph(a,y[x][0],s.ignoreBoundary)){for(var T=!1,E=1;E<y[x].length&&!T;)Ph(a,y[x][E],!s.ignoreBoundary)&&(T=!0),E++;T||(w=!0)}return w}function Ph(e,i,s){var a=!1;i[0][0]===i[i.length-1][0]&&i[0][1]===i[i.length-1][1]&&(i=i.slice(0,i.length-1));for(var c=0,h=i.length-1;c<i.length;h=c++){var g=i[c][0],y=i[c][1],w=i[h][0],x=i[h][1];if(e[1]*(g-w)+y*(w-e[0])+x*(e[0]-g)==0&&(g-e[0])*(w-e[0])<=0&&(y-e[1])*(x-e[1])<=0)return!s;y>e[1]!=x>e[1]&&e[0]<(w-g)*(e[1]-y)/(x-y)+g&&(a=!a)}return a}function dc(e,i){var s=[];return Et(e,function(a){var c=!1;if(a.geometry.type==="Point")fe(i,function(g){$e(a,g)&&(c=!0)}),c&&s.push(a);else{if(a.geometry.type!=="MultiPoint")throw new Error("Input geometry must be a Point or MultiPoint");var h=[];fe(i,function(g){Bt(a,function(y){$e(y,g)&&(c=!0,h.push(y))})}),c&&s.push(F(h))}}),M(s)}function or(e,i,s){s===void 0&&(s={});var a=O(e),c=O(i),h=ct(c[1]-a[1]),g=ct(c[0]-a[0]),y=ct(a[1]),w=ct(c[1]),x=Math.pow(Math.sin(h/2),2)+Math.pow(Math.sin(g/2),2)*Math.cos(y)*Math.cos(w);return H(2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x)),s.units)}function hm(e,i){var s=!1;return M(function(a){if(a.length<3)return[];a.sort(yl);for(var c,h,g,y,w,x,T=a.length-1,E=a[T].x,P=a[0].x,z=a[T].y,N=z,B=1e-12;T--;)a[T].y<z&&(z=a[T].y),a[T].y>N&&(N=a[T].y);var I,W=P-E,it=N-z,D=W>it?W:it,q=.5*(P+E),X=.5*(N+z),tt=[new wu({__sentinel:!0,x:q-20*D,y:X-D},{__sentinel:!0,x:q,y:X+20*D},{__sentinel:!0,x:q+20*D,y:X-D})],Q=[],Rt=[];for(T=a.length;T--;){for(Rt.length=0,I=tt.length;I--;)(W=a[T].x-tt[I].x)>0&&W*W>tt[I].r?(Q.push(tt[I]),tt.splice(I,1)):W*W+(it=a[T].y-tt[I].y)*it>tt[I].r||(Rt.push(tt[I].a,tt[I].b,tt[I].b,tt[I].c,tt[I].c,tt[I].a),tt.splice(I,1));for(Xi(Rt),I=Rt.length;I;)h=Rt[--I],c=Rt[--I],g=a[T],y=h.x-c.x,w=h.y-c.y,x=2*(y*(g.y-h.y)-w*(g.x-h.x)),Math.abs(x)>B&&tt.push(new wu(c,h,g))}for(Array.prototype.push.apply(Q,tt),T=Q.length;T--;)(Q[T].a.__sentinel||Q[T].b.__sentinel||Q[T].c.__sentinel)&&Q.splice(T,1);return Q}(e.features.map(function(a){var c={x:a.geometry.coordinates[0],y:a.geometry.coordinates[1]};return i?c.z=a.properties[i]:a.geometry.coordinates.length===3&&(s=!0,c.z=a.geometry.coordinates[2]),c})).map(function(a){var c=[a.a.x,a.a.y],h=[a.b.x,a.b.y],g=[a.c.x,a.c.y],y={};return s?(c.push(a.a.z),h.push(a.b.z),g.push(a.c.z)):y={a:a.a.z,b:a.b.z,c:a.c.z},v([[c,h,g,c]],y)}))}lm.default=Hy;var wu=function(e,i,s){this.a=e,this.b=i,this.c=s;var a,c,h=i.x-e.x,g=i.y-e.y,y=s.x-e.x,w=s.y-e.y,x=h*(e.x+i.x)+g*(e.y+i.y),T=y*(e.x+s.x)+w*(e.y+s.y),E=2*(h*(s.y-i.y)-g*(s.x-i.x));this.x=(w*x-g*T)/E,this.y=(h*T-y*x)/E,a=this.x-e.x,c=this.y-e.y,this.r=a*a+c*c};function yl(e,i){return i.x-e.x}function Xi(e){var i,s,a,c,h,g=e.length;t:for(;g;)for(s=e[--g],i=e[--g],a=g;a;)if(h=e[--a],i===(c=e[--a])&&s===h||i===h&&s===c){e.splice(g,2),e.splice(a,2),g-=2;continue t}}function Pi(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return pc(e);case"FeatureCollection":return function(i){var s={type:"FeatureCollection"};return Object.keys(i).forEach(function(a){switch(a){case"type":case"features":return;default:s[a]=i[a]}}),s.features=i.features.map(function(a){return pc(a)}),s}(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return xu(e);default:throw new Error("unknown GeoJSON type")}}function pc(e){var i={type:"Feature"};return Object.keys(e).forEach(function(s){switch(s){case"type":case"properties":case"geometry":return;default:i[s]=e[s]}}),i.properties=fc(e.properties),i.geometry=xu(e.geometry),i}function fc(e){var i={};return e&&Object.keys(e).forEach(function(s){var a=e[s];typeof a=="object"?a===null?i[s]=null:Array.isArray(a)?i[s]=a.map(function(c){return c}):i[s]=fc(a):i[s]=a}),i}function xu(e){var i={type:e.type};return e.bbox&&(i.bbox=e.bbox),e.type==="GeometryCollection"?(i.geometries=e.geometries.map(function(s){return xu(s)}),i):(i.coordinates=gc(e.coordinates),i)}function gc(e){var i=e;return typeof i[0]!="object"?i.slice():i.map(function(s){return gc(s)})}function Sp(e,i){if(i===void 0&&(i={}),!mt(i=i||{}))throw new Error("options is invalid");var s=i.mutate;if(te(e)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");s!==!1&&s!==void 0||(e=Pi(e));var a=[],c=Yt(e,function(h,g){var y=function(w,x){var T,E=w.geometry.coordinates,P=x.geometry.coordinates,z=mc(E[0]),N=mc(E[E.length-1]),B=mc(P[0]),I=mc(P[P.length-1]);if(z===I)T=P.concat(E.slice(1));else if(B===N)T=E.concat(P.slice(1));else if(z===B)T=E.slice(1).reverse().concat(P);else{if(N!==I)return null;T=E.concat(P.reverse().slice(1))}return k(T)}(h,g);return y||(a.push(h),g)});return c&&a.push(c),a.length?a.length===1?a[0]:A(a.map(function(h){return h.coordinates})):null}function mc(e){return e[0].toString()+","+e[1].toString()}function Mh(e){return e}function Ih(e,i){var s=function(x){if(x==null)return Mh;var T,E,P=x.scale[0],z=x.scale[1],N=x.translate[0],B=x.translate[1];return function(I,W){W||(T=E=0);var it=2,D=I.length,q=new Array(D);for(q[0]=(T+=I[0])*P+N,q[1]=(E+=I[1])*z+B;it<D;)q[it]=I[it],++it;return q}}(e.transform),a=e.arcs;function c(x,T){T.length&&T.pop();for(var E=a[x<0?~x:x],P=0,z=E.length;P<z;++P)T.push(s(E[P],P));x<0&&function(N,B){for(var I,W=N.length,it=W-B;it<--W;)I=N[it],N[it++]=N[W],N[W]=I}(T,z)}function h(x){return s(x)}function g(x){for(var T=[],E=0,P=x.length;E<P;++E)c(x[E],T);return T.length<2&&T.push(T[0]),T}function y(x){for(var T=g(x);T.length<4;)T.push(T[0]);return T}function w(x){return x.map(y)}return function x(T){var E,P=T.type;switch(P){case"GeometryCollection":return{type:P,geometries:T.geometries.map(x)};case"Point":E=h(T.coordinates);break;case"MultiPoint":E=T.coordinates.map(h);break;case"LineString":E=g(T.arcs);break;case"MultiLineString":E=T.arcs.map(g);break;case"Polygon":E=w(T.arcs);break;case"MultiPolygon":E=T.arcs.map(w);break;default:return null}return{type:P,coordinates:E}}(i)}function Cp(e,i){var s={},a={},c={},h=[],g=-1;function y(w,x){for(var T in w){var E=w[T];delete x[E.start],delete E.start,delete E.end,E.forEach(function(P){s[P<0?~P:P]=1}),h.push(E)}}return i.forEach(function(w,x){var T,E=e.arcs[w<0?~w:w];E.length<3&&!E[1][0]&&!E[1][1]&&(T=i[++g],i[g]=w,i[x]=T)}),i.forEach(function(w){var x,T,E=function(I){var W,it=e.arcs[I<0?~I:I],D=it[0];return e.transform?(W=[0,0],it.forEach(function(q){W[0]+=q[0],W[1]+=q[1]})):W=it[it.length-1],I<0?[W,D]:[D,W]}(w),P=E[0],z=E[1];if(x=c[P])if(delete c[x.end],x.push(w),x.end=z,T=a[z]){delete a[T.start];var N=T===x?x:x.concat(T);a[N.start=x.start]=c[N.end=T.end]=N}else a[x.start]=c[x.end]=x;else if(x=a[z])if(delete a[x.start],x.unshift(w),x.start=P,T=c[P]){delete c[T.end];var B=T===x?x:T.concat(x);a[B.start=T.start]=c[B.end=x.end]=B}else a[x.start]=c[x.end]=x;else a[(x=[w]).start=P]=c[x.end=z]=x}),y(c,a),y(a,c),i.forEach(function(w){s[w<0?~w:w]||h.push([w])}),h}function Lh(e,i){var s={},a=[],c=[];function h(y){y.forEach(function(w){w.forEach(function(x){(s[x=x<0?~x:x]||(s[x]=[])).push(y)})}),a.push(y)}function g(y){return function(w){for(var x,T=-1,E=w.length,P=w[E-1],z=0;++T<E;)x=P,P=w[T],z+=x[0]*P[1]-x[1]*P[0];return Math.abs(z)}(Ih(e,{type:"Polygon",arcs:[y]}).coordinates[0])}return i.forEach(function y(w){switch(w.type){case"GeometryCollection":w.geometries.forEach(y);break;case"Polygon":h(w.arcs);break;case"MultiPolygon":w.arcs.forEach(h)}}),a.forEach(function(y){if(!y._){var w=[],x=[y];for(y._=1,c.push(w);y=x.pop();)w.push(y),y.forEach(function(T){T.forEach(function(E){s[E<0?~E:E].forEach(function(P){P._||(P._=1,x.push(P))})})})}}),a.forEach(function(y){delete y._}),{type:"MultiPolygon",arcs:c.map(function(y){var w,x=[];if(y.forEach(function(N){N.forEach(function(B){B.forEach(function(I){s[I<0?~I:I].length<2&&x.push(I)})})}),(w=(x=Cp(e,x)).length)>1)for(var T,E,P=1,z=g(x[0]);P<w;++P)(T=g(x[P]))>z&&(E=x[0],x[0]=x[P],x[P]=E,z=T);return x}).filter(function(y){return y.length>0})}}var _u=Object.prototype.hasOwnProperty;function ku(e,i,s,a,c,h){arguments.length===3&&(a=h=Array,c=null);for(var g=new a(e=1<<Math.max(4,Math.ceil(Math.log(e)/Math.LN2))),y=new h(e),w=e-1,x=0;x<e;++x)g[x]=c;function T(N,B){for(var I=i(N)&w,W=g[I],it=0;W!=c;){if(s(W,N))return y[I]=B;if(++it>=e)throw new Error("full hashmap");W=g[I=I+1&w]}return g[I]=N,y[I]=B,B}function E(N,B){for(var I=i(N)&w,W=g[I],it=0;W!=c;){if(s(W,N))return y[I];if(++it>=e)throw new Error("full hashmap");W=g[I=I+1&w]}return g[I]=N,y[I]=B,B}function P(N,B){for(var I=i(N)&w,W=g[I],it=0;W!=c;){if(s(W,N))return y[I];if(++it>=e)break;W=g[I=I+1&w]}return B}function z(){for(var N=[],B=0,I=g.length;B<I;++B){var W=g[B];W!=c&&N.push(W)}return N}return{set:T,maybeSet:E,get:P,keys:z}}function bl(e,i){return e[0]===i[0]&&e[1]===i[1]}var ar=new ArrayBuffer(16),Jo=new Float64Array(ar),di=new Uint32Array(ar);function Rh(e){Jo[0]=e[0],Jo[1]=e[1];var i=di[0]^di[1];return 2147483647&(i=i<<5^i>>7^di[2]^di[3])}function Pp(e){var i,s,a,c,h=e.coordinates,g=e.lines,y=e.rings,w=function(){for(var kt=ku(1.4*h.length,X,tt,Int32Array,-1,Int32Array),zt=new Int32Array(h.length),Tt=0,Ft=h.length;Tt<Ft;++Tt)zt[Tt]=kt.maybeSet(Tt,Tt);return zt}(),x=new Int32Array(h.length),T=new Int32Array(h.length),E=new Int32Array(h.length),P=new Int8Array(h.length),z=0;for(i=0,s=h.length;i<s;++i)x[i]=T[i]=E[i]=-1;for(i=0,s=g.length;i<s;++i){var N=g[i],B=N[0],I=N[1];for(a=w[B],c=w[++B],++z,P[a]=1;++B<=I;)q(i,a,a=c,c=w[B]);++z,P[c]=1}for(i=0,s=h.length;i<s;++i)x[i]=-1;for(i=0,s=y.length;i<s;++i){var W=y[i],it=W[0]+1,D=W[1];for(q(i,w[D-1],a=w[it-1],c=w[it]);++it<=D;)q(i,a,a=c,c=w[it])}function q(kt,zt,Tt,Ft){if(x[Tt]!==kt){x[Tt]=kt;var Mt=T[Tt];if(Mt>=0){var Pt=E[Tt];Mt===zt&&Pt===Ft||Mt===Ft&&Pt===zt||(++z,P[Tt]=1)}else T[Tt]=zt,E[Tt]=Ft}}function X(kt){return Rh(h[kt])}function tt(kt,zt){return bl(h[kt],h[zt])}x=T=E=null;var Q,Rt=function(kt,zt,Tt,Ft,Mt){arguments.length===3&&(Ft=Array,Mt=null);for(var Pt=new Ft(kt=1<<Math.max(4,Math.ceil(Math.log(kt)/Math.LN2))),St=kt-1,Nt=0;Nt<kt;++Nt)Pt[Nt]=Mt;function It(Le){for(var oe=zt(Le)&St,ir=Pt[oe],we=0;ir!=Mt;){if(Tt(ir,Le))return!0;if(++we>=kt)throw new Error("full hashset");ir=Pt[oe=oe+1&St]}return Pt[oe]=Le,!0}function Ht(Le){for(var oe=zt(Le)&St,ir=Pt[oe],we=0;ir!=Mt;){if(Tt(ir,Le))return!0;if(++we>=kt)break;ir=Pt[oe=oe+1&St]}return!1}function gt(){for(var Le=[],oe=0,ir=Pt.length;oe<ir;++oe){var we=Pt[oe];we!=Mt&&Le.push(we)}return Le}return{add:It,has:Ht,values:gt}}(1.4*z,Rh,bl);for(i=0,s=h.length;i<s;++i)P[Q=w[i]]&&Rt.add(h[Q]);return Rt}function Mp(e,i,s,a){Eu(e,i,s),Eu(e,i,i+a),Eu(e,i+a,s)}function Eu(e,i,s){for(var a,c=i+(s---i>>1);i<c;++i,--s)a=e[i],e[i]=e[s],e[s]=a}function wl(e){var i,s,a={};for(i in e)a[i]=(s=e[i])==null?{type:null}:(s.type==="FeatureCollection"?Ip:s.type==="Feature"?vc:Ji)(s);return a}function Ip(e){var i={type:"GeometryCollection",geometries:e.features.map(vc)};return e.bbox!=null&&(i.bbox=e.bbox),i}function vc(e){var i,s=Ji(e.geometry);for(i in e.id!=null&&(s.id=e.id),e.bbox!=null&&(s.bbox=e.bbox),e.properties){s.properties=e.properties;break}return s}function Ji(e){if(e==null)return{type:null};var i=e.type==="GeometryCollection"?{type:"GeometryCollection",geometries:e.geometries.map(Ji)}:e.type==="Point"||e.type==="MultiPoint"?{type:e.type,coordinates:e.coordinates}:{type:e.type,arcs:e.coordinates};return e.bbox!=null&&(i.bbox=e.bbox),i}function xl(e,i){var s=function(P){var z=1/0,N=1/0,B=-1/0,I=-1/0;function W(Q){Q!=null&&_u.call(it,Q.type)&&it[Q.type](Q)}var it={GeometryCollection:function(Q){Q.geometries.forEach(W)},Point:function(Q){D(Q.coordinates)},MultiPoint:function(Q){Q.coordinates.forEach(D)},LineString:function(Q){q(Q.arcs)},MultiLineString:function(Q){Q.arcs.forEach(q)},Polygon:function(Q){Q.arcs.forEach(q)},MultiPolygon:function(Q){Q.arcs.forEach(X)}};function D(Q){var Rt=Q[0],kt=Q[1];Rt<z&&(z=Rt),Rt>B&&(B=Rt),kt<N&&(N=kt),kt>I&&(I=kt)}function q(Q){Q.forEach(D)}function X(Q){Q.forEach(q)}for(var tt in P)W(P[tt]);return B>=z&&I>=N?[z,N,B,I]:void 0}(e=wl(e)),a=i>0&&s&&function(P,z,N){var B=z[0],I=z[1],W=z[2],it=z[3],D=W-B?(N-1)/(W-B):1,q=it-I?(N-1)/(it-I):1;function X(Mt){return[Math.round((Mt[0]-B)*D),Math.round((Mt[1]-I)*q)]}function tt(Mt,Pt){for(var St,Nt,It,Ht,gt,Le=-1,oe=0,ir=Mt.length,we=new Array(ir);++Le<ir;)St=Mt[Le],Ht=Math.round((St[0]-B)*D),gt=Math.round((St[1]-I)*q),Ht===Nt&&gt===It||(we[oe++]=[Nt=Ht,It=gt]);for(we.length=oe;oe<Pt;)oe=we.push([we[0][0],we[0][1]]);return we}function Q(Mt){return tt(Mt,2)}function Rt(Mt){return tt(Mt,4)}function kt(Mt){return Mt.map(Rt)}function zt(Mt){Mt!=null&&_u.call(Tt,Mt.type)&&Tt[Mt.type](Mt)}var Tt={GeometryCollection:function(Mt){Mt.geometries.forEach(zt)},Point:function(Mt){Mt.coordinates=X(Mt.coordinates)},MultiPoint:function(Mt){Mt.coordinates=Mt.coordinates.map(X)},LineString:function(Mt){Mt.arcs=Q(Mt.arcs)},MultiLineString:function(Mt){Mt.arcs=Mt.arcs.map(Q)},Polygon:function(Mt){Mt.arcs=kt(Mt.arcs)},MultiPolygon:function(Mt){Mt.arcs=Mt.arcs.map(kt)}};for(var Ft in P)zt(P[Ft]);return{scale:[1/D,1/q],translate:[B,I]}}(e,s,i),c=function(P){var z,N,B,I,W=P.coordinates,it=P.lines,D=P.rings,q=it.length+D.length;for(delete P.lines,delete P.rings,B=0,I=it.length;B<I;++B)for(z=it[B];z=z.next;)++q;for(B=0,I=D.length;B<I;++B)for(N=D[B];N=N.next;)++q;var X=ku(2*q*1.4,Rh,bl),tt=P.arcs=[];for(B=0,I=it.length;B<I;++B){z=it[B];do Q(z);while(z=z.next)}for(B=0,I=D.length;B<I;++B)if((N=D[B]).next)do Q(N);while(N=N.next);else Rt(N);function Q(Pt){var St,Nt,It,Ht,gt,Le,oe,ir;if(It=X.get(St=W[Pt[0]])){for(oe=0,ir=It.length;oe<ir;++oe)if(kt(Ht=It[oe],Pt))return Pt[0]=Ht[0],void(Pt[1]=Ht[1])}if(gt=X.get(Nt=W[Pt[1]])){for(oe=0,ir=gt.length;oe<ir;++oe)if(zt(Le=gt[oe],Pt))return Pt[1]=Le[0],void(Pt[0]=Le[1])}It?It.push(Pt):X.set(St,[Pt]),gt?gt.push(Pt):X.set(Nt,[Pt]),tt.push(Pt)}function Rt(Pt){var St,Nt,It,Ht,gt;if(Nt=X.get(W[Pt[0]]))for(Ht=0,gt=Nt.length;Ht<gt;++Ht){if(Tt(It=Nt[Ht],Pt))return Pt[0]=It[0],void(Pt[1]=It[1]);if(Ft(It,Pt))return Pt[0]=It[1],void(Pt[1]=It[0])}if(Nt=X.get(St=W[Pt[0]+Mt(Pt)]))for(Ht=0,gt=Nt.length;Ht<gt;++Ht){if(Tt(It=Nt[Ht],Pt))return Pt[0]=It[0],void(Pt[1]=It[1]);if(Ft(It,Pt))return Pt[0]=It[1],void(Pt[1]=It[0])}Nt?Nt.push(Pt):X.set(St,[Pt]),tt.push(Pt)}function kt(Pt,St){var Nt=Pt[0],It=St[0],Ht=Pt[1];if(Nt-Ht!=It-St[1])return!1;for(;Nt<=Ht;++Nt,++It)if(!bl(W[Nt],W[It]))return!1;return!0}function zt(Pt,St){var Nt=Pt[0],It=St[0],Ht=Pt[1],gt=St[1];if(Nt-Ht!=It-gt)return!1;for(;Nt<=Ht;++Nt,--gt)if(!bl(W[Nt],W[gt]))return!1;return!0}function Tt(Pt,St){var Nt=Pt[0],It=St[0],Ht=Pt[1]-Nt;if(Ht!==St[1]-It)return!1;for(var gt=Mt(Pt),Le=Mt(St),oe=0;oe<Ht;++oe)if(!bl(W[Nt+(oe+gt)%Ht],W[It+(oe+Le)%Ht]))return!1;return!0}function Ft(Pt,St){var Nt=Pt[0],It=St[0],Ht=Pt[1],gt=St[1],Le=Ht-Nt;if(Le!==gt-It)return!1;for(var oe=Mt(Pt),ir=Le-Mt(St),we=0;we<Le;++we)if(!bl(W[Nt+(we+oe)%Le],W[gt-(we+ir)%Le]))return!1;return!0}function Mt(Pt){for(var St=Pt[0],Nt=Pt[1],It=St,Ht=It,gt=W[It];++It<Nt;){var Le=W[It];(Le[0]<gt[0]||Le[0]===gt[0]&&Le[1]<gt[1])&&(Ht=It,gt=Le)}return Ht-St}return P}(function(P){var z,N,B,I=Pp(P),W=P.coordinates,it=P.lines,D=P.rings;for(N=0,B=it.length;N<B;++N)for(var q=it[N],X=q[0],tt=q[1];++X<tt;)I.has(W[X])&&(z={0:X,1:q[1]},q[1]=X,q=q.next=z);for(N=0,B=D.length;N<B;++N)for(var Q=D[N],Rt=Q[0],kt=Rt,zt=Q[1],Tt=I.has(W[Rt]);++kt<zt;)I.has(W[kt])&&(Tt?(z={0:kt,1:Q[1]},Q[1]=kt,Q=Q.next=z):(Mp(W,Rt,zt,zt-kt),W[zt]=W[Rt],Tt=!0,kt=Rt));return P}(function(P){var z=-1,N=[],B=[],I=[];function W(Q){Q&&_u.call(it,Q.type)&&it[Q.type](Q)}var it={GeometryCollection:function(Q){Q.geometries.forEach(W)},LineString:function(Q){Q.arcs=D(Q.arcs)},MultiLineString:function(Q){Q.arcs=Q.arcs.map(D)},Polygon:function(Q){Q.arcs=Q.arcs.map(q)},MultiPolygon:function(Q){Q.arcs=Q.arcs.map(X)}};function D(Q){for(var Rt=0,kt=Q.length;Rt<kt;++Rt)I[++z]=Q[Rt];var zt={0:z-kt+1,1:z};return N.push(zt),zt}function q(Q){for(var Rt=0,kt=Q.length;Rt<kt;++Rt)I[++z]=Q[Rt];var zt={0:z-kt+1,1:z};return B.push(zt),zt}function X(Q){return Q.map(q)}for(var tt in P)W(P[tt]);return{type:"Topology",coordinates:I,lines:N,rings:B,objects:P}}(e))),h=c.coordinates,g=ku(1.4*c.arcs.length,dm,pm);function y(P){P&&_u.call(w,P.type)&&w[P.type](P)}e=c.objects,c.bbox=s,c.arcs=c.arcs.map(function(P,z){return g.set(P,z),h.slice(P[0],P[1]+1)}),delete c.coordinates,h=null;var w={GeometryCollection:function(P){P.geometries.forEach(y)},LineString:function(P){P.arcs=x(P.arcs)},MultiLineString:function(P){P.arcs=P.arcs.map(x)},Polygon:function(P){P.arcs=P.arcs.map(x)},MultiPolygon:function(P){P.arcs=P.arcs.map(T)}};function x(P){var z=[];do{var N=g.get(P);z.push(P[0]<P[1]?N:~N)}while(P=P.next);return z}function T(P){return P.map(x)}for(var E in e)y(e[E]);return a&&(c.transform=a,c.arcs=function(P){for(var z=-1,N=P.length;++z<N;){for(var B,I,W=P[z],it=0,D=1,q=W.length,X=W[0],tt=X[0],Q=X[1];++it<q;)B=(X=W[it])[0],I=X[1],B===tt&&I===Q||(W[D++]=[B-tt,I-Q],tt=B,Q=I);D===1&&(W[D++]=[0,0]),W.length=D}return P}(c.arcs)),c}function dm(e){var i,s=e[0],a=e[1];return a<s&&(i=s,s=a,a=i),s+31*a}function pm(e,i){var s,a=e[0],c=e[1],h=i[0],g=i[1];return c<a&&(s=a,a=c,c=s),g<h&&(s=h,h=g,g=s),a===h&&c===g}function Uy(e,i){if(i===void 0&&(i={}),te(e)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");i.mutate!==!1&&i.mutate!==void 0||(e=Pi(e));var s=[];le(e,function(c){s.push(c.geometry)});var a=xl({geoms:j(s).geometry});return function(c){return Ih(c,Lh.apply(this,arguments))}(a,a.objects.geoms.geometries)}function fm(e,i){if(i===void 0&&(i={}),!mt(i=i||{}))throw new Error("options is invalid");var s=i.mutate;if(te(e)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");s!==!1&&s!==void 0||(e=Pi(e));var a=function(h){var g={};le(h,function(w){g[w.geometry.type]=!0});var y=Object.keys(g);return y.length===1?y[0]:null}(e);if(!a)throw new Error("geojson must be homogenous");var c=e;switch(a){case"LineString":return Sp(c,i);case"Polygon":return Uy(c,i);default:throw new Error(a+" is not supported")}}function Qs(e,i){i===void 0&&(i={});var s=typeof i=="object"?i.mutate:i;if(!e)throw new Error("geojson is required");var a=te(e),c=[];switch(a){case"LineString":c=Lp(e);break;case"MultiLineString":case"Polygon":Y(e).forEach(function(g){c.push(Lp(g))});break;case"MultiPolygon":Y(e).forEach(function(g){var y=[];g.forEach(function(w){y.push(Lp(w))}),c.push(y)});break;case"Point":return e;case"MultiPoint":var h={};Y(e).forEach(function(g){var y=g.join("-");Object.prototype.hasOwnProperty.call(h,y)||(c.push(g),h[y]=!0)});break;default:throw new Error(a+" geometry not supported")}return e.coordinates?s===!0?(e.coordinates=c,e):{type:a,coordinates:c}:s===!0?(e.geometry.coordinates=c,e):u({type:a,coordinates:c},e.properties,{bbox:e.bbox,id:e.id})}function Lp(e){var i=Y(e);if(i.length===2&&!Rp(i[0],i[1]))return i;var s=[],a=i.length-1,c=s.length;s.push(i[0]);for(var h=1;h<a;h++){var g=s[s.length-1];i[h][0]===g[0]&&i[h][1]===g[1]||(s.push(i[h]),(c=s.length)>2&&Xr(s[c-3],s[c-1],s[c-2])&&s.splice(s.length-2,1))}if(s.push(i[i.length-1]),c=s.length,Rp(i[0],i[i.length-1])&&c<4)throw new Error("invalid polygon");return Xr(s[c-3],s[c-1],s[c-2])&&s.splice(s.length-2,1),s}function Rp(e,i){return e[0]===i[0]&&e[1]===i[1]}function Xr(e,i,s){var a=s[0],c=s[1],h=e[0],g=e[1],y=i[0],w=i[1],x=y-h,T=w-g;return(a-h)*T-(c-g)*x===0&&(Math.abs(x)>=Math.abs(T)?x>0?h<=a&&a<=y:y<=a&&a<=h:T>0?g<=c&&c<=w:w<=c&&c<=g)}function Gy(e,i,s){var a=i.x,c=i.y,h=s.x-a,g=s.y-c;if(h!==0||g!==0){var y=((e.x-a)*h+(e.y-c)*g)/(h*h+g*g);y>1?(a=s.x,c=s.y):y>0&&(a+=h*y,c+=g*y)}return(h=e.x-a)*h+(g=e.y-c)*g}function fo(e,i,s,a,c){for(var h,g=a,y=i+1;y<s;y++){var w=Gy(e[y],e[i],e[s]);w>g&&(h=y,g=w)}g>a&&(h-i>1&&fo(e,i,h,a,c),c.push(e[h]),s-h>1&&fo(e,h,s,a,c))}function Tu(e,i){var s=e.length-1,a=[e[0]];return fo(e,0,s,i,a),a.push(e[s]),a}function Ah(e,i,s){if(e.length<=2)return e;var a=i!==void 0?i*i:1;return e=Tu(e=s?e:function(c,h){for(var g,y,w,x,T,E=c[0],P=[E],z=1,N=c.length;z<N;z++)g=c[z],w=E,x=void 0,T=void 0,x=(y=g).x-w.x,T=y.y-w.y,x*x+T*T>h&&(P.push(g),E=g);return E!==g&&P.push(g),P}(e,a),a)}function gm(e,i,s){return Ah(e.map(function(a){return{x:a[0],y:a[1],z:a[2]}}),i,s).map(function(a){return a.z?[a.x,a.y,a.z]:[a.x,a.y]})}function Oh(e,i,s){return e.map(function(a){var c=a.map(function(g){return{x:g[0],y:g[1]}});if(c.length<4)throw new Error("invalid polygon");for(var h=Ah(c,i,s).map(function(g){return[g.x,g.y]});!qy(h);)h=Ah(c,i-=.01*i,s).map(function(g){return[g.x,g.y]});return h[h.length-1][0]===h[0][0]&&h[h.length-1][1]===h[0][1]||h.push(h[0]),h})}function qy(e){return!(e.length<3)&&!(e.length===3&&e[2][0]===e[0][0]&&e[2][1]===e[0][1])}var mm=function(){function e(i){this.points=i.points||[],this.duration=i.duration||1e4,this.sharpness=i.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=i.stepLength||60,this.length=this.points.length,this.delay=0;for(var s=0;s<this.length;s++)this.points[s].z=this.points[s].z||0;for(s=0;s<this.length-1;s++){var a=this.points[s],c=this.points[s+1];this.centers.push({x:(a.x+c.x)/2,y:(a.y+c.y)/2,z:(a.z+c.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),s=0;s<this.centers.length-1;s++){var h=this.points[s+1].x-(this.centers[s].x+this.centers[s+1].x)/2,g=this.points[s+1].y-(this.centers[s].y+this.centers[s+1].y)/2,y=this.points[s+1].z-(this.centers[s].y+this.centers[s+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[s+1].x+this.sharpness*(this.centers[s].x+h),y:(1-this.sharpness)*this.points[s+1].y+this.sharpness*(this.centers[s].y+g),z:(1-this.sharpness)*this.points[s+1].z+this.sharpness*(this.centers[s].z+y)},{x:(1-this.sharpness)*this.points[s+1].x+this.sharpness*(this.centers[s+1].x+h),y:(1-this.sharpness)*this.points[s+1].y+this.sharpness*(this.centers[s+1].y+g),z:(1-this.sharpness)*this.points[s+1].z+this.sharpness*(this.centers[s+1].z+y)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}return e.prototype.cacheSteps=function(i){var s=[],a=this.pos(0);s.push(0);for(var c=0;c<this.duration;c+=10){var h=this.pos(c);Math.sqrt((h.x-a.x)*(h.x-a.x)+(h.y-a.y)*(h.y-a.y)+(h.z-a.z)*(h.z-a.z))>i&&(s.push(c),a=h)}return s},e.prototype.vector=function(i){var s=this.pos(i+10),a=this.pos(i-10);return{angle:180*Math.atan2(s.y-a.y,s.x-a.x)/3.14,speed:Math.sqrt((a.x-s.x)*(a.x-s.x)+(a.y-s.y)*(a.y-s.y)+(a.z-s.z)*(a.z-s.z))}},e.prototype.pos=function(i){var s=i-this.delay;s<0&&(s=0),s>this.duration&&(s=this.duration-1);var a=s/this.duration;if(a>=1)return this.points[this.length-1];var c=Math.floor((this.points.length-1)*a);return function(h,g,y,w,x){var T=function(E){var P=E*E;return[P*E,3*P*(1-E),3*E*(1-E)*(1-E),(1-E)*(1-E)*(1-E)]}(h);return{x:x.x*T[0]+w.x*T[1]+y.x*T[2]+g.x*T[3],y:x.y*T[0]+w.y*T[1]+y.y*T[2]+g.y*T[3],z:x.z*T[0]+w.z*T[1]+y.z*T[2]+g.z*T[3]}}((this.length-1)*a-c,this.points[c],this.controls[c][1],this.controls[c+1][0],this.points[c+1])},e}();function vm(e,i){i===void 0&&(i={});for(var s=i.resolution||1e4,a=i.sharpness||.85,c=[],h=xt(e).coordinates.map(function(x){return{x:x[0],y:x[1]}}),g=new mm({duration:s,points:h,sharpness:a}),y=function(x){var T=g.pos(x);Math.floor(x/100)%2==0&&c.push([T.x,T.y])},w=0;w<g.duration;w+=10)y(w);return y(g.duration),k(c,i.properties)}function Ap(e,i){i===void 0&&(i={});var s=Number(e[0]),a=Number(e[1]),c=Number(e[2]),h=Number(e[3]);if(e.length===6)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var g=[s,a];return v([[g,[c,a],[c,h],[s,h],g]],i.properties,{bbox:e,id:i.id})}function zh(e){return Ap(vt(e))}function ym(e){var i=e[0],s=e[1],a=e[2],c=e[3];if(or(e.slice(0,2),[a,s])>=or(e.slice(0,2),[i,c])){var h=(s+c)/2;return[i,h-(a-i)/2,a,h+(a-i)/2]}var g=(i+a)/2;return[g-(c-s)/2,s,g+(c-s)/2,c]}function Qi(e,i,s,a){a===void 0&&(a={});var c=O(e),h=ct(c[0]),g=ct(c[1]),y=ct(s),w=V(i,a.units),x=Math.asin(Math.sin(g)*Math.cos(w)+Math.cos(g)*Math.sin(w)*Math.cos(y));return f([ht(h+Math.atan2(Math.sin(y)*Math.sin(w)*Math.cos(g),Math.cos(w)-Math.sin(g)*Math.sin(x))),ht(x)],a.properties)}function Op(e,i,s){s===void 0&&(s={});for(var a=s.steps||64,c=s.properties?s.properties:!Array.isArray(e)&&e.type==="Feature"&&e.properties?e.properties:{},h=[],g=0;g<a;g++)h.push(Qi(e,i,-360*g/a,s).geometry.coordinates);return h.push(h[0]),v([h],c)}function ws(e,i,s){if(s===void 0&&(s={}),s.final===!0)return function(E,P){var z=ws(P,E);return z=(z+180)%360}(e,i);var a=O(e),c=O(i),h=ct(a[0]),g=ct(c[0]),y=ct(a[1]),w=ct(c[1]),x=Math.sin(g-h)*Math.cos(w),T=Math.cos(y)*Math.sin(w)-Math.sin(y)*Math.cos(w)*Math.cos(g-h);return ht(Math.atan2(x,T))}function Qo(e,i){i===void 0&&(i={});var s=vt(e);return f([(s[0]+s[2])/2,(s[1]+s[3])/2],i.properties,i)}function $s(e,i){i===void 0&&(i={});var s=0,a=0,c=0;return Bt(e,function(h){s+=h[0],a+=h[1],c++},!0),f([s/c,a/c],i.properties)}function Su(e){var i=[];return e.type==="FeatureCollection"?Et(e,function(s){Bt(s,function(a){i.push(f(a,s.properties))})}):Bt(e,function(s){i.push(f(s,e.properties))}),M(i)}var Nh=Cu,Vy=Cu;function Cu(e,i,s){s=s||2;var a,c,h,g,y,w,x,T=i&&i.length,E=T?i[0]*s:e.length,P=zp(e,0,E,s,!0),z=[];if(!P)return z;if(T&&(P=function(B,I,W,it){var D,q,X,tt=[];for(D=0,q=I.length;D<q;D++)(X=zp(B,I[D]*it,D<q-1?I[D+1]*it:B.length,it,!1))===X.next&&(X.steiner=!0),tt.push(Iu(X));for(tt.sort(Dh),D=0;D<tt.length;D++)_l(tt[D],W),W=Pu(W,W.next);return W}(e,i,P,s)),e.length>80*s){a=h=e[0],c=g=e[1];for(var N=s;N<E;N+=s)(y=e[N])<a&&(a=y),(w=e[N+1])<c&&(c=w),y>h&&(h=y),w>g&&(g=w);x=(x=Math.max(h-a,g-c))!==0?1/x:0}return Mu(P,z,s,a,c,x),z}function zp(e,i,s,a,c){var h,g;if(c===go(e,i,s,a)>0)for(h=i;h<s;h+=a)g=km(h,e[h],e[h+1],g);else for(h=s-a;h>=i;h-=a)g=km(h,e[h],e[h+1],g);return g&&kl(g,g.next)&&(yc(g),g=g.next),g}function Pu(e,i){if(!e)return e;i||(i=e);var s,a=e;do if(s=!1,a.steiner||!kl(a,a.next)&&ln(a.prev,a,a.next)!==0)a=a.next;else{if(yc(a),(a=i=a.prev)===a.next)break;s=!0}while(s||a!==i);return i}function Mu(e,i,s,a,c,h,g){if(e){!g&&h&&function(T,E,P,z){var N=T;do N.z===null&&(N.z=Dp(N.x,N.y,E,P,z)),N.prevZ=N.prev,N.nextZ=N.next,N=N.next;while(N!==T);N.prevZ.nextZ=null,N.prevZ=null,function(B){var I,W,it,D,q,X,tt,Q,Rt=1;do{for(W=B,B=null,q=null,X=0;W;){for(X++,it=W,tt=0,I=0;I<Rt&&(tt++,it=it.nextZ);I++);for(Q=Rt;tt>0||Q>0&&it;)tt!==0&&(Q===0||!it||W.z<=it.z)?(D=W,W=W.nextZ,tt--):(D=it,it=it.nextZ,Q--),q?q.nextZ=D:B=D,D.prevZ=q,q=D;W=it}q.nextZ=null,Rt*=2}while(X>1)}(N)}(e,a,c,h);for(var y,w,x=e;e.prev!==e.next;)if(y=e.prev,w=e.next,h?Wy(e,a,c,h):Np(e))i.push(y.i/s),i.push(e.i/s),i.push(w.i/s),yc(e),e=w.next,x=w.next;else if((e=w)===x){g?g===1?Mu(e=bm(e,i,s),i,s,a,c,h,2):g===2&&wm(e,i,s,a,c,h):Mu(Pu(e),i,s,a,c,h,1);break}}}function Np(e){var i=e.prev,s=e,a=e.next;if(ln(i,s,a)>=0)return!1;for(var c=e.next.next;c!==e.prev;){if(wn(i.x,i.y,s.x,s.y,a.x,a.y,c.x,c.y)&&ln(c.prev,c,c.next)>=0)return!1;c=c.next}return!0}function Wy(e,i,s,a){var c=e.prev,h=e,g=e.next;if(ln(c,h,g)>=0)return!1;for(var y=c.x<h.x?c.x<g.x?c.x:g.x:h.x<g.x?h.x:g.x,w=c.y<h.y?c.y<g.y?c.y:g.y:h.y<g.y?h.y:g.y,x=c.x>h.x?c.x>g.x?c.x:g.x:h.x>g.x?h.x:g.x,T=c.y>h.y?c.y>g.y?c.y:g.y:h.y>g.y?h.y:g.y,E=Dp(y,w,i,s,a),P=Dp(x,T,i,s,a),z=e.prevZ,N=e.nextZ;z&&z.z>=E&&N&&N.z<=P;){if(z!==e.prev&&z!==e.next&&wn(c.x,c.y,h.x,h.y,g.x,g.y,z.x,z.y)&&ln(z.prev,z,z.next)>=0||(z=z.prevZ,N!==e.prev&&N!==e.next&&wn(c.x,c.y,h.x,h.y,g.x,g.y,N.x,N.y)&&ln(N.prev,N,N.next)>=0))return!1;N=N.nextZ}for(;z&&z.z>=E;){if(z!==e.prev&&z!==e.next&&wn(c.x,c.y,h.x,h.y,g.x,g.y,z.x,z.y)&&ln(z.prev,z,z.next)>=0)return!1;z=z.prevZ}for(;N&&N.z<=P;){if(N!==e.prev&&N!==e.next&&wn(c.x,c.y,h.x,h.y,g.x,g.y,N.x,N.y)&&ln(N.prev,N,N.next)>=0)return!1;N=N.nextZ}return!0}function bm(e,i,s){var a=e;do{var c=a.prev,h=a.next.next;!kl(c,h)&&Fh(c,a,a.next,h)&&El(c,h)&&El(h,c)&&(i.push(c.i/s),i.push(a.i/s),i.push(h.i/s),yc(a),yc(a.next),a=e=h),a=a.next}while(a!==e);return a}function wm(e,i,s,a,c,h){var g=e;do{for(var y=g.next.next;y!==g.prev;){if(g.i!==y.i&&xm(g,y)){var w=_m(g,y);return g=Pu(g,g.next),w=Pu(w,w.next),Mu(g,i,s,a,c,h),void Mu(w,i,s,a,c,h)}y=y.next}g=g.next}while(g!==e)}function Dh(e,i){return e.x-i.x}function _l(e,i){if(i=function(a,c){var h,g=c,y=a.x,w=a.y,x=-1/0;do{if(w<=g.y&&w>=g.next.y&&g.next.y!==g.y){var T=g.x+(w-g.y)*(g.next.x-g.x)/(g.next.y-g.y);if(T<=y&&T>x){if(x=T,T===y){if(w===g.y)return g;if(w===g.next.y)return g.next}h=g.x<g.next.x?g:g.next}}g=g.next}while(g!==c);if(!h)return null;if(y===x)return h.prev;var E,P=h,z=h.x,N=h.y,B=1/0;for(g=h.next;g!==P;)y>=g.x&&g.x>=z&&y!==g.x&&wn(w<N?y:x,w,z,N,w<N?x:y,w,g.x,g.y)&&((E=Math.abs(w-g.y)/(y-g.x))<B||E===B&&g.x>h.x)&&El(g,a)&&(h=g,B=E),g=g.next;return h}(e,i)){var s=_m(i,e);Pu(s,s.next)}}function Dp(e,i,s,a,c){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-s)*c)|e<<8))|e<<4))|e<<2))|e<<1))|(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=32767*(i-a)*c)|i<<8))|i<<4))|i<<2))|i<<1))<<1}function Iu(e){var i=e,s=e;do i.x<s.x&&(s=i),i=i.next;while(i!==e);return s}function wn(e,i,s,a,c,h,g,y){return(c-g)*(i-y)-(e-g)*(h-y)>=0&&(e-g)*(a-y)-(s-g)*(i-y)>=0&&(s-g)*(h-y)-(c-g)*(a-y)>=0}function xm(e,i){return e.next.i!==i.i&&e.prev.i!==i.i&&!function(s,a){var c=s;do{if(c.i!==s.i&&c.next.i!==s.i&&c.i!==a.i&&c.next.i!==a.i&&Fh(c,c.next,s,a))return!0;c=c.next}while(c!==s);return!1}(e,i)&&El(e,i)&&El(i,e)&&function(s,a){var c=s,h=!1,g=(s.x+a.x)/2,y=(s.y+a.y)/2;do c.y>y!=c.next.y>y&&c.next.y!==c.y&&g<(c.next.x-c.x)*(y-c.y)/(c.next.y-c.y)+c.x&&(h=!h),c=c.next;while(c!==s);return h}(e,i)}function ln(e,i,s){return(i.y-e.y)*(s.x-i.x)-(i.x-e.x)*(s.y-i.y)}function kl(e,i){return e.x===i.x&&e.y===i.y}function Fh(e,i,s,a){return!!(kl(e,i)&&kl(s,a)||kl(e,a)&&kl(s,i))||ln(e,i,s)>0!=ln(e,i,a)>0&&ln(s,a,e)>0!=ln(s,a,i)>0}function El(e,i){return ln(e.prev,e,e.next)<0?ln(e,i,e.next)>=0&&ln(e,e.prev,i)>=0:ln(e,i,e.prev)<0||ln(e,e.next,i)<0}function _m(e,i){var s=new Fp(e.i,e.x,e.y),a=new Fp(i.i,i.x,i.y),c=e.next,h=i.prev;return e.next=i,i.prev=e,s.next=c,c.prev=s,a.next=s,s.prev=a,h.next=a,a.prev=h,a}function km(e,i,s,a){var c=new Fp(e,i,s);return a?(c.next=a.next,c.prev=a,a.next.prev=c,a.next=c):(c.prev=c,c.next=c),c}function yc(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Fp(e,i,s){this.i=e,this.x=i,this.y=s,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function go(e,i,s,a){for(var c=0,h=i,g=s-a;h<s;h+=a)c+=(e[g]-e[h])*(e[h+1]+e[g+1]),g=h;return c}function Tl(e){var i=function(y){for(var w=y[0][0].length,x={vertices:[],holes:[],dimensions:w},T=0,E=0;E<y.length;E++){for(var P=0;P<y[E].length;P++)for(var z=0;z<w;z++)x.vertices.push(y[E][P][z]);E>0&&(T+=y[E-1].length,x.holes.push(T))}return x}(e),s=Nh(i.vertices,i.holes,2),a=[],c=[];s.forEach(function(y,w){var x=s[w];c.push([i.vertices[2*x],i.vertices[2*x+1]])});for(var h=0;h<c.length;h+=3){var g=c.slice(h,h+3);g.push(c[h]),a.push(v([g]))}return a}function Bh(e,i){if(!e)throw new Error("targetPoint is required");if(!i)throw new Error("points is required");var s,a=1/0,c=0;return Et(i,function(h,g){var y=or(e,h);y<a&&(c=g,a=y)}),(s=Pi(i.features[c])).properties.featureIndex=c,s.properties.distanceToPoint=a,s}function Gn(e){if(!e)throw new Error("geojson is required");var i=[];return le(e,function(s){(function(a,c){var h=[],g=a.geometry;if(g!==null){switch(g.type){case"Polygon":h=Y(g);break;case"LineString":h=[Y(g)]}h.forEach(function(y){(function(w,x){var T=[];return w.reduce(function(E,P){var z=k([E,P],x);return z.bbox=function(N,B){var I=N[0],W=N[1],it=B[0],D=B[1];return[I<it?I:it,W<D?W:D,I>it?I:it,W>D?W:D]}(E,P),T.push(z),P}),T})(y,a.properties).forEach(function(w){w.id=c.length,c.push(w)})})}})(s,i)}),M(i)}Cu.deviation=function(e,i,s,a){var c=i&&i.length,h=c?i[0]*s:e.length,g=Math.abs(go(e,0,h,s));if(c)for(var y=0,w=i.length;y<w;y++){var x=i[y]*s,T=y<w-1?i[y+1]*s:e.length;g-=Math.abs(go(e,x,T,s))}var E=0;for(y=0;y<a.length;y+=3){var P=a[y]*s,z=a[y+1]*s,N=a[y+2]*s;E+=Math.abs((e[P]-e[N])*(e[z+1]-e[P+1])-(e[P]-e[z])*(e[N+1]-e[P+1]))}return g===0&&E===0?0:Math.abs((E-g)/g)},Cu.flatten=function(e){for(var i=e[0][0].length,s={vertices:[],holes:[],dimensions:i},a=0,c=0;c<e.length;c++){for(var h=0;h<e[c].length;h++)for(var g=0;g<i;g++)s.vertices.push(e[c][h][g]);c>0&&(a+=e[c-1].length,s.holes.push(a))}return s},Nh.default=Vy;var cn=Ko(function(e,i){function s(N,B,I){I===void 0&&(I={});var W={type:"Feature"};return(I.id===0||I.id)&&(W.id=I.id),I.bbox&&(W.bbox=I.bbox),W.properties=B||{},W.geometry=N,W}function a(N,B,I){if(I===void 0&&(I={}),!N)throw new Error("coordinates is required");if(!Array.isArray(N))throw new Error("coordinates must be an Array");if(N.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!z(N[0])||!z(N[1]))throw new Error("coordinates must contain numbers");return s({type:"Point",coordinates:N},B,I)}function c(N,B,I){I===void 0&&(I={});for(var W=0,it=N;W<it.length;W++){var D=it[W];if(D.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var q=0;q<D[D.length-1].length;q++)if(D[D.length-1][q]!==D[0][q])throw new Error("First and last Position are not equivalent.")}return s({type:"Polygon",coordinates:N},B,I)}function h(N,B,I){if(I===void 0&&(I={}),N.length<2)throw new Error("coordinates must be an array of two or more positions");return s({type:"LineString",coordinates:N},B,I)}function g(N,B){B===void 0&&(B={});var I={type:"FeatureCollection"};return B.id&&(I.id=B.id),B.bbox&&(I.bbox=B.bbox),I.features=N,I}function y(N,B,I){return I===void 0&&(I={}),s({type:"MultiLineString",coordinates:N},B,I)}function w(N,B,I){return I===void 0&&(I={}),s({type:"MultiPoint",coordinates:N},B,I)}function x(N,B,I){return I===void 0&&(I={}),s({type:"MultiPolygon",coordinates:N},B,I)}function T(N,B){B===void 0&&(B="kilometers");var I=i.factors[B];if(!I)throw new Error(B+" units is invalid");return N*I}function E(N,B){B===void 0&&(B="kilometers");var I=i.factors[B];if(!I)throw new Error(B+" units is invalid");return N/I}function P(N){return 180*(N%(2*Math.PI))/Math.PI}function z(N){return!isNaN(N)&&N!==null&&!Array.isArray(N)}Object.defineProperty(i,"__esModule",{value:!0}),i.earthRadius=63710088e-1,i.factors={centimeters:100*i.earthRadius,centimetres:100*i.earthRadius,degrees:i.earthRadius/111325,feet:3.28084*i.earthRadius,inches:39.37*i.earthRadius,kilometers:i.earthRadius/1e3,kilometres:i.earthRadius/1e3,meters:i.earthRadius,metres:i.earthRadius,miles:i.earthRadius/1609.344,millimeters:1e3*i.earthRadius,millimetres:1e3*i.earthRadius,nauticalmiles:i.earthRadius/1852,radians:1,yards:1.0936*i.earthRadius},i.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/i.earthRadius,yards:1.0936133},i.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},i.feature=s,i.geometry=function(N,B,I){switch(N){case"Point":return a(B).geometry;case"LineString":return h(B).geometry;case"Polygon":return c(B).geometry;case"MultiPoint":return w(B).geometry;case"MultiLineString":return y(B).geometry;case"MultiPolygon":return x(B).geometry;default:throw new Error(N+" is invalid")}},i.point=a,i.points=function(N,B,I){return I===void 0&&(I={}),g(N.map(function(W){return a(W,B)}),I)},i.polygon=c,i.polygons=function(N,B,I){return I===void 0&&(I={}),g(N.map(function(W){return c(W,B)}),I)},i.lineString=h,i.lineStrings=function(N,B,I){return I===void 0&&(I={}),g(N.map(function(W){return h(W,B)}),I)},i.featureCollection=g,i.multiLineString=y,i.multiPoint=w,i.multiPolygon=x,i.geometryCollection=function(N,B,I){return I===void 0&&(I={}),s({type:"GeometryCollection",geometries:N},B,I)},i.round=function(N,B){if(B===void 0&&(B=0),B&&!(B>=0))throw new Error("precision must be a positive number");var I=Math.pow(10,B||0);return Math.round(N*I)/I},i.radiansToLength=T,i.lengthToRadians=E,i.lengthToDegrees=function(N,B){return P(E(N,B))},i.bearingToAzimuth=function(N){var B=N%360;return B<0&&(B+=360),B},i.radiansToDegrees=P,i.degreesToRadians=function(N){return N%360*Math.PI/180},i.convertLength=function(N,B,I){if(B===void 0&&(B="kilometers"),I===void 0&&(I="kilometers"),!(N>=0))throw new Error("length must be a positive number");return T(E(N,B),I)},i.convertArea=function(N,B,I){if(B===void 0&&(B="meters"),I===void 0&&(I="kilometers"),!(N>=0))throw new Error("area must be a positive number");var W=i.areaFactors[B];if(!W)throw new Error("invalid original units");var it=i.areaFactors[I];if(!it)throw new Error("invalid final units");return N/W*it},i.isNumber=z,i.isObject=function(N){return!!N&&N.constructor===Object},i.validateBBox=function(N){if(!N)throw new Error("bbox is required");if(!Array.isArray(N))throw new Error("bbox must be an Array");if(N.length!==4&&N.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");N.forEach(function(B){if(!z(B))throw new Error("bbox must only contain numbers")})},i.validateId=function(N){if(!N)throw new Error("id is required");if(["string","number"].indexOf(typeof N)===-1)throw new Error("id must be a number or a string")}});function xs(e,i,s){if(e!==null)for(var a,c,h,g,y,w,x,T,E=0,P=0,z=e.type,N=z==="FeatureCollection",B=z==="Feature",I=N?e.features.length:1,W=0;W<I;W++){y=(T=!!(x=N?e.features[W].geometry:B?e.geometry:e)&&x.type==="GeometryCollection")?x.geometries.length:1;for(var it=0;it<y;it++){var D=0,q=0;if((g=T?x.geometries[it]:x)!==null){w=g.coordinates;var X=g.type;switch(E=!s||X!=="Polygon"&&X!=="MultiPolygon"?0:1,X){case null:break;case"Point":if(i(w,P,W,D,q)===!1)return!1;P++,D++;break;case"LineString":case"MultiPoint":for(a=0;a<w.length;a++){if(i(w[a],P,W,D,q)===!1)return!1;P++,X==="MultiPoint"&&D++}X==="LineString"&&D++;break;case"Polygon":case"MultiLineString":for(a=0;a<w.length;a++){for(c=0;c<w[a].length-E;c++){if(i(w[a][c],P,W,D,q)===!1)return!1;P++}X==="MultiLineString"&&D++,X==="Polygon"&&q++}X==="Polygon"&&D++;break;case"MultiPolygon":for(a=0;a<w.length;a++){for(q=0,c=0;c<w[a].length;c++){for(h=0;h<w[a][c].length-E;h++){if(i(w[a][c][h],P,W,D,q)===!1)return!1;P++}q++}D++}break;case"GeometryCollection":for(a=0;a<g.geometries.length;a++)if(xs(g.geometries[a],i,s)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Em(e,i){var s;switch(e.type){case"FeatureCollection":for(s=0;s<e.features.length&&i(e.features[s].properties,s)!==!1;s++);break;case"Feature":i(e.properties,0)}}function bc(e,i){if(e.type==="Feature")i(e,0);else if(e.type==="FeatureCollection")for(var s=0;s<e.features.length&&i(e.features[s],s)!==!1;s++);}function jh(e,i){var s,a,c,h,g,y,w,x,T,E,P=0,z=e.type==="FeatureCollection",N=e.type==="Feature",B=z?e.features.length:1;for(s=0;s<B;s++){for(y=z?e.features[s].geometry:N?e.geometry:e,x=z?e.features[s].properties:N?e.properties:{},T=z?e.features[s].bbox:N?e.bbox:void 0,E=z?e.features[s].id:N?e.id:void 0,g=(w=!!y&&y.type==="GeometryCollection")?y.geometries.length:1,c=0;c<g;c++)if((h=w?y.geometries[c]:y)!==null)switch(h.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(i(h,P,x,T,E)===!1)return!1;break;case"GeometryCollection":for(a=0;a<h.geometries.length;a++)if(i(h.geometries[a],P,x,T,E)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(i(null,P,x,T,E)===!1)return!1;P++}}function Sl(e,i){jh(e,function(s,a,c,h,g){var y,w=s===null?null:s.type;switch(w){case null:case"Point":case"LineString":case"Polygon":return i(cn.feature(s,c,{bbox:h,id:g}),a,0)!==!1&&void 0}switch(w){case"MultiPoint":y="Point";break;case"MultiLineString":y="LineString";break;case"MultiPolygon":y="Polygon"}for(var x=0;x<s.coordinates.length;x++){var T={type:y,coordinates:s.coordinates[x]};if(i(cn.feature(T,c),a,x)===!1)return!1}})}function Tm(e,i){Sl(e,function(s,a,c){var h=0;if(s.geometry){var g=s.geometry.type;if(g!=="Point"&&g!=="MultiPoint"){var y,w=0,x=0,T=0;return xs(s,function(E,P,z,N,B){if(y===void 0||a>w||N>x||B>T)return y=E,w=a,x=N,T=B,void(h=0);var I=cn.lineString([y,E],s.properties);if(i(I,a,c,B,h)===!1)return!1;h++,y=E})!==!1&&void 0}}})}function ta(e,i){if(!e)throw new Error("geojson is required");Sl(e,function(s,a,c){if(s.geometry!==null){var h=s.geometry.type,g=s.geometry.coordinates;switch(h){case"LineString":if(i(s,a,c,0,0)===!1)return!1;break;case"Polygon":for(var y=0;y<g.length;y++)if(i(cn.lineString(g[y],s.properties),a,c,y)===!1)return!1}}})}var Hh=function(e){var i=[];return xs(e,function(s){i.push(s)}),i},Zy=xs,Bp=function(e,i,s,a){var c=s;return xs(e,function(h,g,y,w,x){c=g===0&&s===void 0?h:i(c,h,g,y,w,x)},a),c},Yy=bc,ea=function(e,i,s){var a=s;return bc(e,function(c,h){a=h===0&&s===void 0?c:i(a,c,h)}),a},Xy=function(e,i){if(i=i||{},!cn.isObject(i))throw new Error("options is invalid");var s,a=i.featureIndex||0,c=i.multiFeatureIndex||0,h=i.geometryIndex||0,g=i.coordIndex||0,y=i.properties;switch(e.type){case"FeatureCollection":a<0&&(a=e.features.length+a),y=y||e.features[a].properties,s=e.features[a].geometry;break;case"Feature":y=y||e.properties,s=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":s=e;break;default:throw new Error("geojson is invalid")}if(s===null)return null;var w=s.coordinates;switch(s.type){case"Point":return cn.point(w,y,i);case"MultiPoint":return c<0&&(c=w.length+c),cn.point(w[c],y,i);case"LineString":return g<0&&(g=w.length+g),cn.point(w[g],y,i);case"Polygon":return h<0&&(h=w.length+h),g<0&&(g=w[h].length+g),cn.point(w[h][g],y,i);case"MultiLineString":return c<0&&(c=w.length+c),g<0&&(g=w[c].length+g),cn.point(w[c][g],y,i);case"MultiPolygon":return c<0&&(c=w.length+c),h<0&&(h=w[c].length+h),g<0&&(g=w[c][h].length-g),cn.point(w[c][h][g],y,i)}throw new Error("geojson is invalid")},wc=function(e,i){if(i=i||{},!cn.isObject(i))throw new Error("options is invalid");var s,a=i.featureIndex||0,c=i.multiFeatureIndex||0,h=i.geometryIndex||0,g=i.segmentIndex||0,y=i.properties;switch(e.type){case"FeatureCollection":a<0&&(a=e.features.length+a),y=y||e.features[a].properties,s=e.features[a].geometry;break;case"Feature":y=y||e.properties,s=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":s=e;break;default:throw new Error("geojson is invalid")}if(s===null)return null;var w=s.coordinates;switch(s.type){case"Point":case"MultiPoint":return null;case"LineString":return g<0&&(g=w.length+g-1),cn.lineString([w[g],w[g+1]],y,i);case"Polygon":return h<0&&(h=w.length+h),g<0&&(g=w[h].length+g-1),cn.lineString([w[h][g],w[h][g+1]],y,i);case"MultiLineString":return c<0&&(c=w.length+c),g<0&&(g=w[c].length+g-1),cn.lineString([w[c][g],w[c][g+1]],y,i);case"MultiPolygon":return c<0&&(c=w.length+c),h<0&&(h=w[c].length+h),g<0&&(g=w[c][h].length-g-1),cn.lineString([w[c][h][g],w[c][h][g+1]],y,i)}throw new Error("geojson is invalid")},Ky=Sl,ra=function(e,i,s){var a=s;return Sl(e,function(c,h,g){a=h===0&&g===0&&s===void 0?c:i(a,c,h,g)}),a},Uh=jh,Sm=function(e,i,s){var a=s;return jh(e,function(c,h,g,y,w){a=h===0&&s===void 0?c:i(a,c,h,g,y,w)}),a},jp=ta,Gh=function(e,i,s){var a=s;return ta(e,function(c,h,g,y){a=h===0&&s===void 0?c:i(a,c,h,g,y)}),a},Hp=Em,qh=function(e,i,s){var a=s;return Em(e,function(c,h){a=h===0&&s===void 0?c:i(a,c,h)}),a},xc=Tm,Vh=function(e,i,s){var a=s,c=!1;return Tm(e,function(h,g,y,w,x){a=c===!1&&s===void 0?h:i(a,h,g,y,w,x),c=!0}),a},Lu=Object.defineProperty({coordAll:Hh,coordEach:Zy,coordReduce:Bp,featureEach:Yy,featureReduce:ea,findPoint:Xy,findSegment:wc,flattenEach:Ky,flattenReduce:ra,geomEach:Uh,geomReduce:Sm,lineEach:jp,lineReduce:Gh,propEach:Hp,propReduce:qh,segmentEach:xc,segmentReduce:Vh},"__esModule",{value:!0});function Wh(e){var i=[1/0,1/0,-1/0,-1/0];return Lu.coordEach(e,function(s){i[0]>s[0]&&(i[0]=s[0]),i[1]>s[1]&&(i[1]=s[1]),i[2]<s[0]&&(i[2]=s[0]),i[3]<s[1]&&(i[3]=s[1])}),i}Wh.default=Wh;var Jy=Wh,ia=Object.defineProperty({default:Jy},"__esModule",{value:!0}).default,Qy=Lu.featureEach,Up=(Lu.coordEach,cn.polygon,cn.featureCollection);function Cm(e){var i=Ki(e);return i.insert=function(s){if(s.type!=="Feature")throw new Error("invalid feature");return s.bbox=s.bbox?s.bbox:ia(s),Ki.prototype.insert.call(this,s)},i.load=function(s){var a=[];return Array.isArray(s)?s.forEach(function(c){if(c.type!=="Feature")throw new Error("invalid features");c.bbox=c.bbox?c.bbox:ia(c),a.push(c)}):Qy(s,function(c){if(c.type!=="Feature")throw new Error("invalid features");c.bbox=c.bbox?c.bbox:ia(c),a.push(c)}),Ki.prototype.load.call(this,a)},i.remove=function(s,a){if(s.type!=="Feature")throw new Error("invalid feature");return s.bbox=s.bbox?s.bbox:ia(s),Ki.prototype.remove.call(this,s,a)},i.clear=function(){return Ki.prototype.clear.call(this)},i.search=function(s){var a=Ki.prototype.search.call(this,this.toBBox(s));return Up(a)},i.collides=function(s){return Ki.prototype.collides.call(this,this.toBBox(s))},i.all=function(){var s=Ki.prototype.all.call(this);return Up(s)},i.toJSON=function(){return Ki.prototype.toJSON.call(this)},i.fromJSON=function(s){return Ki.prototype.fromJSON.call(this,s)},i.toBBox=function(s){var a;if(s.bbox)a=s.bbox;else if(Array.isArray(s)&&s.length===4)a=s;else if(Array.isArray(s)&&s.length===6)a=[s[0],s[1],s[3],s[4]];else if(s.type==="Feature")a=ia(s);else{if(s.type!=="FeatureCollection")throw new Error("invalid geojson");a=ia(s)}return{minX:a[0],minY:a[1],maxX:a[2],maxY:a[3]}},i}var _c=Cm,$y=Cm;function un(e,i){var s={},a=[];if(e.type==="LineString"&&(e=u(e)),i.type==="LineString"&&(i=u(i)),e.type==="Feature"&&i.type==="Feature"&&e.geometry!==null&&i.geometry!==null&&e.geometry.type==="LineString"&&i.geometry.type==="LineString"&&e.geometry.coordinates.length===2&&i.geometry.coordinates.length===2){var c=Ru(e,i);return c&&a.push(c),M(a)}var h=_c();return h.load(Gn(i)),Et(Gn(e),function(g){Et(h.search(g),function(y){var w=Ru(g,y);if(w){var x=Y(w).join(",");s[x]||(s[x]=!0,a.push(w))}})}),M(a)}function Ru(e,i){var s=Y(e),a=Y(i);if(s.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(a.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var c=s[0][0],h=s[0][1],g=s[1][0],y=s[1][1],w=a[0][0],x=a[0][1],T=a[1][0],E=a[1][1],P=(E-x)*(g-c)-(T-w)*(y-h),z=(T-w)*(h-x)-(E-x)*(c-w),N=(g-c)*(h-x)-(y-h)*(c-w);if(P===0)return null;var B=z/P,I=N/P;return B>=0&&B<=1&&I>=0&&I<=1?f([c+B*(g-c),h+B*(y-h)]):null}function na(e,i,s){s===void 0&&(s={});var a=f([1/0,1/0],{dist:1/0}),c=0;return le(e,function(h){for(var g=Y(h),y=0;y<g.length-1;y++){var w=f(g[y]);w.properties.dist=or(i,w,s);var x=f(g[y+1]);x.properties.dist=or(i,x,s);var T=or(w,x,s),E=Math.max(w.properties.dist,x.properties.dist),P=ws(w,x),z=Qi(i,E,P+90,s),N=Qi(i,E,P-90,s),B=un(k([z.geometry.coordinates,N.geometry.coordinates]),k([w.geometry.coordinates,x.geometry.coordinates])),I=null;B.features.length>0&&((I=B.features[0]).properties.dist=or(i,I,s),I.properties.location=c+or(w,I,s)),w.properties.dist<a.properties.dist&&((a=w).properties.index=y,a.properties.location=c),x.properties.dist<a.properties.dist&&((a=x).properties.index=y+1,a.properties.location=c+T),I&&I.properties.dist<a.properties.dist&&((a=I).properties.index=y),c+=T}}),a}function Cl(e,i,s){s===void 0&&(s={});var a=O(e),c=O(i);return c[0]+=c[0]-a[0]>180?-360:a[0]-c[0]>180?360:0,Z(function(h,g,y){var w=y=y===void 0?r:Number(y),x=h[1]*Math.PI/180,T=g[1]*Math.PI/180,E=T-x,P=Math.abs(g[0]-h[0])*Math.PI/180;P>Math.PI&&(P-=2*Math.PI);var z=Math.log(Math.tan(T/2+Math.PI/4)/Math.tan(x/2+Math.PI/4)),N=Math.abs(z)>1e-11?E/z:Math.cos(x);return Math.sqrt(E*E+N*N*P*P)*w}(a,c),"meters",s.units)}function Pm(e,i,s){if(s===void 0&&(s={}),s.method||(s.method="geodesic"),s.units||(s.units="kilometers"),!e)throw new Error("pt is required");if(Array.isArray(e)?e=f(e):e.type==="Point"?e=u(e):wt(e,"Point","point"),!i)throw new Error("line is required");Array.isArray(i)?i=k(i):i.type==="LineString"?i=u(i):wt(i,"LineString","line");var a=1/0,c=e.geometry.coordinates;return er(i,function(h){var g=h.geometry.coordinates[0],y=h.geometry.coordinates[1],w=function(x,T,E,P){var z=[E[0]-T[0],E[1]-T[1]],N=Gp([x[0]-T[0],x[1]-T[1]],z);if(N<=0)return qp(x,T,{method:P.method,units:"degrees"});var B=Gp(z,z);if(B<=N)return qp(x,E,{method:P.method,units:"degrees"});var I=N/B,W=[T[0]+I*z[0],T[1]+I*z[1]];return qp(x,W,{method:P.method,units:"degrees"})}(c,g,y,s);w<a&&(a=w)}),Z(a,"degrees",s.units)}function Gp(e,i){return e[0]*i[0]+e[1]*i[1]}function qp(e,i,s){return s.method==="planar"?Cl(e,i,s):or(e,i,s)}function Au(e,i,s,a,c,h,g,y){var w,x,T,E,P={x:null,y:null,onLine1:!1,onLine2:!1};return(w=(y-h)*(s-e)-(g-c)*(a-i))===0?P.x!==null&&P.y!==null&&P:(E=(s-e)*(x=i-h)-(a-i)*(T=e-c),x=((g-c)*x-(y-h)*T)/w,T=E/w,P.x=e+x*(s-e),P.y=i+x*(a-i),x>=0&&x<=1&&(P.onLine1=!0),T>=0&&T<=1&&(P.onLine2=!0),!(!P.onLine1||!P.onLine2)&&[P.x,P.y])}function Mm(e){for(var i=function(P){return P.type!=="FeatureCollection"?P.type!=="Feature"?M([u(P)]):M([P]):P}(e),s=Qo(i),a=!1,c=0;!a&&c<i.features.length;){var h,g=i.features[c].geometry,y=!1;if(g.type==="Point")s.geometry.coordinates[0]===g.coordinates[0]&&s.geometry.coordinates[1]===g.coordinates[1]&&(a=!0);else if(g.type==="MultiPoint"){var w=!1;for(h=0;!w&&h<g.coordinates.length;)s.geometry.coordinates[0]===g.coordinates[h][0]&&s.geometry.coordinates[1]===g.coordinates[h][1]&&(a=!0,w=!0),h++}else if(g.type==="LineString")for(h=0;!y&&h<g.coordinates.length-1;)Pl(s.geometry.coordinates[0],s.geometry.coordinates[1],g.coordinates[h][0],g.coordinates[h][1],g.coordinates[h+1][0],g.coordinates[h+1][1])&&(y=!0,a=!0),h++;else if(g.type==="MultiLineString")for(var x=0;x<g.coordinates.length;){y=!1,h=0;for(var T=g.coordinates[x];!y&&h<T.length-1;)Pl(s.geometry.coordinates[0],s.geometry.coordinates[1],T[h][0],T[h][1],T[h+1][0],T[h+1][1])&&(y=!0,a=!0),h++;x++}else g.type!=="Polygon"&&g.type!=="MultiPolygon"||$e(s,g)&&(a=!0);c++}if(a)return s;var E=M([]);for(c=0;c<i.features.length;c++)E.features=E.features.concat(Su(i.features[c]).features);return f(Bh(s,E).geometry.coordinates)}function Pl(e,i,s,a,c,h){return Math.sqrt((c-s)*(c-s)+(h-a)*(h-a))===Math.sqrt((e-s)*(e-s)+(i-a)*(i-a))+Math.sqrt((c-e)*(c-e)+(h-i)*(h-i))}_c.default=$y;var Vp=6378137;function Zh(e){return Ce(e,function(i,s){return i+function(a){var c,h=0;switch(a.type){case"Polygon":return Im(a.coordinates);case"MultiPolygon":for(c=0;c<a.coordinates.length;c++)h+=Im(a.coordinates[c]);return h;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(s)},0)}function Im(e){var i=0;if(e&&e.length>0){i+=Math.abs(_s(e[0]));for(var s=1;s<e.length;s++)i-=Math.abs(_s(e[s]))}return i}function _s(e){var i,s,a,c,h,g,y=0,w=e.length;if(w>2){for(g=0;g<w;g++)g===w-2?(a=w-2,c=w-1,h=0):g===w-1?(a=w-1,c=0,h=1):(a=g,c=g+1,h=g+2),i=e[a],s=e[c],y+=(Yh(e[h][0])-Yh(i[0]))*Math.sin(Yh(s[1]));y=y*Vp*Vp/2}return y}function Yh(e){return e*Math.PI/180}function Xh(e,i){return i===void 0&&(i={}),Ut(e,function(s,a){var c=a.geometry.coordinates;return s+or(c[0],c[1],i)},0)}function kc(e,i,s,a){if(!mt(a=a||{}))throw new Error("options is invalid");var c,h=[];if(e.type==="Feature")c=e.geometry.coordinates;else{if(e.type!=="LineString")throw new Error("input must be a LineString Feature or Geometry");c=e.coordinates}for(var g,y,w,x=c.length,T=0,E=0;E<c.length&&!(i>=T&&E===c.length-1);E++){if(T>i&&h.length===0){if(!(g=i-T))return h.push(c[E]),k(h);y=ws(c[E],c[E-1])-180,w=Qi(c[E],g,y,a),h.push(w.geometry.coordinates)}if(T>=s)return(g=s-T)?(y=ws(c[E],c[E-1])-180,w=Qi(c[E],g,y,a),h.push(w.geometry.coordinates),k(h)):(h.push(c[E]),k(h));if(T>=i&&h.push(c[E]),E===c.length-1)return k(h);T+=or(c[E],c[E+1],a)}if(T<i&&c.length===x)throw new Error("Start position is beyond line");var P=c[c.length-1];return k([P,P])}function $n(e,i,s){s===void 0&&(s={});for(var a=O(e),c=Y(i),h=0;h<c.length-1;h++){var g=!1;if(s.ignoreEndVertices&&(h===0&&(g="start"),h===c.length-2&&(g="end"),h===0&&h+1===c.length-1&&(g="both")),Kh(c[h],c[h+1],a,g,s.epsilon===void 0?null:s.epsilon))return!0}return!1}function Kh(e,i,s,a,c){var h=s[0],g=s[1],y=e[0],w=e[1],x=i[0],T=i[1],E=x-y,P=T-w,z=(s[0]-y)*P-(s[1]-w)*E;if(c!==null){if(Math.abs(z)>c)return!1}else if(z!==0)return!1;return a?a==="start"?Math.abs(E)>=Math.abs(P)?E>0?y<h&&h<=x:x<=h&&h<y:P>0?w<g&&g<=T:T<=g&&g<w:a==="end"?Math.abs(E)>=Math.abs(P)?E>0?y<=h&&h<x:x<h&&h<=y:P>0?w<=g&&g<T:T<g&&g<=w:a==="both"&&(Math.abs(E)>=Math.abs(P)?E>0?y<h&&h<x:x<h&&h<y:P>0?w<g&&g<T:T<g&&g<w):Math.abs(E)>=Math.abs(P)?E>0?y<=h&&h<=x:x<=h&&h<=y:P>0?w<=g&&g<=T:T<=g&&g<=w}function Ec(e,i){var s=xt(e),a=xt(i),c=s.type,h=a.type;switch(c){case"Point":switch(h){case"MultiPoint":return function(g,y){var w,x=!1;for(w=0;w<y.coordinates.length;w++)if(Zp(y.coordinates[w],g.coordinates)){x=!0;break}return x}(s,a);case"LineString":return $n(s,a,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return $e(s,a,{ignoreBoundary:!0});default:throw new Error("feature2 "+h+" geometry not supported")}case"MultiPoint":switch(h){case"MultiPoint":return function(g,y){for(var w=0;w<g.coordinates.length;w++){for(var x=!1,T=0;T<y.coordinates.length;T++)Zp(g.coordinates[w],y.coordinates[T])&&(x=!0);if(!x)return!1}return!0}(s,a);case"LineString":return function(g,y){for(var w=!1,x=0;x<g.coordinates.length;x++){if(!$n(g.coordinates[x],y))return!1;w||(w=$n(g.coordinates[x],y,{ignoreEndVertices:!0}))}return w}(s,a);case"Polygon":case"MultiPolygon":return function(g,y){for(var w=!0,x=!1,T=0;T<g.coordinates.length;T++){if(!(x=$e(g.coordinates[1],y))){w=!1;break}x=$e(g.coordinates[1],y,{ignoreBoundary:!0})}return w&&x}(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}case"LineString":switch(h){case"LineString":return function(g,y){for(var w=0;w<g.coordinates.length;w++)if(!$n(g.coordinates[w],y))return!1;return!0}(s,a);case"Polygon":case"MultiPolygon":return function(g,y){var w=vt(y),x=vt(g);if(!Wp(w,x))return!1;for(var T=!1,E=0;E<g.coordinates.length-1;E++){if(!$e(g.coordinates[E],y))return!1;T||(T=$e(g.coordinates[E],y,{ignoreBoundary:!0})),!T&&(T=$e(tb(g.coordinates[E],g.coordinates[E+1]),y,{ignoreBoundary:!0}))}return T}(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}case"Polygon":switch(h){case"Polygon":case"MultiPolygon":return function(g,y){var w=vt(g);if(!Wp(vt(y),w))return!1;for(var x=0;x<g.coordinates[0].length;x++)if(!$e(g.coordinates[0][x],y))return!1;return!0}(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}default:throw new Error("feature1 "+c+" geometry not supported")}}function Wp(e,i){return!(e[0]>i[0])&&!(e[2]<i[2])&&!(e[1]>i[1])&&!(e[3]<i[3])}function Zp(e,i){return e[0]===i[0]&&e[1]===i[1]}function tb(e,i){return[(e[0]+i[0])/2,(e[1]+i[1])/2]}function Yp(e,i,s){s===void 0&&(s={}),s.mask&&!s.units&&(s.units="kilometers");for(var a=[],c=e[0],h=e[1],g=e[2],y=e[3],w=i/or([c,h],[g,h],s)*(g-c),x=i/or([c,h],[c,y],s)*(y-h),T=g-c,E=y-h,P=Math.floor(T/w),z=(E-Math.floor(E/x)*x)/2,N=c+(T-P*w)/2;N<=g;){for(var B=h+z;B<=y;){var I=f([N,B],s.properties);s.mask?Ec(I,s.mask)&&a.push(I):a.push(I),B+=x}N+=w}return M(a)}function Xp(e,i){i===void 0&&(i={});var s=i.precision,a=i.coordinates,c=i.mutate;if(s=s==null||isNaN(s)?6:s,a=a==null||isNaN(a)?3:a,!e)throw new Error("<geojson> is required");if(typeof s!="number")throw new Error("<precision> must be a number");if(typeof a!="number")throw new Error("<coordinates> must be a number");c!==!1&&c!==void 0||(e=JSON.parse(JSON.stringify(e)));var h=Math.pow(10,s);return Bt(e,function(g){(function(y,w,x){y.length>x&&y.splice(x,y.length);for(var T=0;T<y.length;T++)y[T]=Math.round(y[T]*w)/w})(g,h,a)}),e}function Jh(e){if(!e)throw new Error("geojson is required");var i=[];return le(e,function(s){i.push(s)}),M(i)}function Lm(e,i,s){if(e.geometry.type!=="Polygon")throw new Error("The input feature must be a Polygon");s===void 0&&(s=1);var a=e.geometry.coordinates,c=[],h={};if(s){for(var g=[],y=0;y<a.length;y++)for(var w=0;w<a[y].length-1;w++)g.push(B(y,w));var x=Ki();x.load(g)}for(var T=0;T<a.length;T++)for(var E=0;E<a[T].length-1;E++)if(s)x.search(B(T,E)).forEach(function(I){var W=I.ring,it=I.edge;N(T,E,W,it)});else for(var P=0;P<a.length;P++)for(var z=0;z<a[P].length-1;z++)N(T,E,P,z);return i||(c={type:"Feature",geometry:{type:"MultiPoint",coordinates:c}}),c;function N(I,W,it,D){var q,X,tt=a[I][W],Q=a[I][W+1],Rt=a[it][D],kt=a[it][D+1],zt=function(Mt,Pt,St,Nt){if(Tc(Mt,St)||Tc(Mt,Nt)||Tc(Pt,St)||Tc(Nt,St))return null;var It=Mt[0],Ht=Mt[1],gt=Pt[0],Le=Pt[1],oe=St[0],ir=St[1],we=Nt[0],Ge=Nt[1],fr=(It-gt)*(ir-Ge)-(Ht-Le)*(oe-we);return fr===0?null:[((It*Le-Ht*gt)*(oe-we)-(It-gt)*(oe*Ge-ir*we))/fr,((It*Le-Ht*gt)*(ir-Ge)-(Ht-Le)*(oe*Ge-ir*we))/fr]}(tt,Q,Rt,kt);if(zt!==null&&(q=Q[0]!==tt[0]?(zt[0]-tt[0])/(Q[0]-tt[0]):(zt[1]-tt[1])/(Q[1]-tt[1]),X=kt[0]!==Rt[0]?(zt[0]-Rt[0])/(kt[0]-Rt[0]):(zt[1]-Rt[1])/(kt[1]-Rt[1]),!(q>=1||q<=0||X>=1||X<=0))){var Tt=zt,Ft=!h[Tt];Ft&&(h[Tt]=!0),i?c.push(i(zt,I,W,tt,Q,q,it,D,Rt,kt,X,Ft)):c.push(zt)}}function B(I,W){var it,D,q,X,tt=a[I][W],Q=a[I][W+1];return tt[0]<Q[0]?(it=tt[0],D=Q[0]):(it=Q[0],D=tt[0]),tt[1]<Q[1]?(q=tt[1],X=Q[1]):(q=Q[1],X=tt[1]),{minX:it,minY:q,maxX:D,maxY:X,ring:I,edge:W}}}function Tc(e,i){if(!e||!i||e.length!==i.length)return!1;for(var s=0,a=e.length;s<a;s++)if(e[s]instanceof Array&&i[s]instanceof Array){if(!Tc(e[s],i[s]))return!1}else if(e[s]!==i[s])return!1;return!0}function eb(e){if(e.type!="Feature")throw new Error("The input must a geojson object of type Feature");if(e.geometry===void 0||e.geometry==null)throw new Error("The input must a geojson object with a non-empty geometry");if(e.geometry.type!="Polygon")throw new Error("The input must be a geojson Polygon");for(var i=e.geometry.coordinates.length,s=[],a=0;a<i;a++){var c=e.geometry.coordinates[a];b(c[0],c[c.length-1])||c.push(c[0]),s.push.apply(s,c.slice(0,c.length-1))}if(!function(we){for(var Ge={},fr=1,si=0,yn=we.length;si<yn;++si){if(Object.prototype.hasOwnProperty.call(Ge,we[si])){fr=0;break}Ge[we[si]]=1}return fr}(s))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var h=s.length,g=Lm(e,function(we,Ge,fr,si,yn,Ev,qc,Df,Ff,Rd,Tv,Ad){return[we,Ge,fr,si,yn,Ev,qc,Df,Ff,Rd,Tv,Ad]}),y=g.length;if(y==0){var w=[];for(a=0;a<i;a++)w.push(v([e.geometry.coordinates[a]],{parent:-1,winding:p(e.geometry.coordinates[a])}));var x=M(w);return Le(),oe(),x}var T=[],E=[];for(a=0;a<i;a++){T.push([]);for(var P=0;P<e.geometry.coordinates[a].length-1;P++)T[a].push([new Kp(e.geometry.coordinates[a][S(P+1,e.geometry.coordinates[a].length-1)],1,[a,P],[a,S(P+1,e.geometry.coordinates[a].length-1)],void 0)]),E.push(new Jp(e.geometry.coordinates[a][P],[a,S(P-1,e.geometry.coordinates[a].length-1)],[a,P],void 0,void 0,!1,!0))}for(a=0;a<y;a++)T[g[a][1]][g[a][2]].push(new Kp(g[a][0],g[a][5],[g[a][1],g[a][2]],[g[a][6],g[a][7]],void 0)),g[a][11]&&E.push(new Jp(g[a][0],[g[a][1],g[a][2]],[g[a][6],g[a][7]],void 0,void 0,!0,!0));var z=E.length;for(a=0;a<T.length;a++)for(P=0;P<T[a].length;P++)T[a][P].sort(function(we,Ge){return we.param<Ge.param?-1:1});var N=[];for(a=0;a<z;a++)N.push({minX:E[a].coord[0],minY:E[a].coord[1],maxX:E[a].coord[0],maxY:E[a].coord[1],index:a});var B=Ki();for(B.load(N),a=0;a<T.length;a++)for(P=0;P<T[a].length;P++)for(var I=0;I<T[a][P].length;I++){it=I==T[a][P].length-1?T[a][S(P+1,e.geometry.coordinates[a].length-1)][0].coord:T[a][P][I+1].coord;var W=B.search({minX:it[0],minY:it[1],maxX:it[0],maxY:it[1]})[0];T[a][P][I].nxtIsectAlongEdgeIn=W.index}for(a=0;a<T.length;a++)for(P=0;P<T[a].length;P++)for(I=0;I<T[a][P].length;I++){var it=T[a][P][I].coord,D=(W=B.search({minX:it[0],minY:it[1],maxX:it[0],maxY:it[1]})[0]).index;D<h?E[D].nxtIsectAlongRingAndEdge2=T[a][P][I].nxtIsectAlongEdgeIn:b(E[D].ringAndEdge1,T[a][P][I].ringAndEdgeIn)?E[D].nxtIsectAlongRingAndEdge1=T[a][P][I].nxtIsectAlongEdgeIn:E[D].nxtIsectAlongRingAndEdge2=T[a][P][I].nxtIsectAlongEdgeIn}var q=[];for(a=0,P=0;P<i;P++){var X=a;for(I=0;I<e.geometry.coordinates[P].length-1;I++)E[a].coord[0]<E[X].coord[0]&&(X=a),a++;var tt=E[X].nxtIsectAlongRingAndEdge2;for(I=0;I<E.length;I++)if(E[I].nxtIsectAlongRingAndEdge1==X||E[I].nxtIsectAlongRingAndEdge2==X){var Q=I;break}var Rt=Qh([E[Q].coord,E[X].coord,E[tt].coord],!0)?1:-1;q.push({isect:X,parent:-1,winding:Rt})}for(q.sort(function(we,Ge){return E[we.isect].coord>E[Ge.isect].coord?-1:1}),w=[];q.length>0;){var kt=q.pop(),zt=kt.isect,Tt=kt.parent,Ft=kt.winding,Mt=w.length,Pt=[E[zt].coord],St=zt;if(E[zt].ringAndEdge1Walkable)var Nt=E[zt].ringAndEdge1,It=E[zt].nxtIsectAlongRingAndEdge1;else Nt=E[zt].ringAndEdge2,It=E[zt].nxtIsectAlongRingAndEdge2;for(;!b(E[zt].coord,E[It].coord);){Pt.push(E[It].coord);var Ht=void 0;for(a=0;a<q.length;a++)if(q[a].isect==It){Ht=a;break}if(Ht!=null&&q.splice(Ht,1),b(Nt,E[It].ringAndEdge1)){if(Nt=E[It].ringAndEdge2,E[It].ringAndEdge2Walkable=!1,E[It].ringAndEdge1Walkable){var gt={isect:It};Qh([E[St].coord,E[It].coord,E[E[It].nxtIsectAlongRingAndEdge2].coord],Ft==1)?(gt.parent=Tt,gt.winding=-Ft):(gt.parent=Mt,gt.winding=Ft),q.push(gt)}St=It,It=E[It].nxtIsectAlongRingAndEdge2}else Nt=E[It].ringAndEdge1,E[It].ringAndEdge1Walkable=!1,E[It].ringAndEdge2Walkable&&(gt={isect:It},Qh([E[St].coord,E[It].coord,E[E[It].nxtIsectAlongRingAndEdge1].coord],Ft==1)?(gt.parent=Tt,gt.winding=-Ft):(gt.parent=Mt,gt.winding=Ft),q.push(gt)),St=It,It=E[It].nxtIsectAlongRingAndEdge1}Pt.push(E[It].coord),w.push(v([Pt],{index:Mt,parent:Tt,winding:Ft,netWinding:void 0}))}x=M(w);function Le(){for(var we=[],Ge=0;Ge<x.features.length;Ge++)x.features[Ge].properties.parent==-1&&we.push(Ge);if(we.length>1)for(Ge=0;Ge<we.length;Ge++){for(var fr=-1,si=0;si<x.features.length;si++)we[Ge]!=si&&$e(x.features[we[Ge]].geometry.coordinates[0][0],x.features[si],{ignoreBoundary:!0})&&Zh(x.features[si])<1/0&&(fr=si);x.features[we[Ge]].properties.parent=fr}}function oe(){for(var we=0;we<x.features.length;we++)if(x.features[we].properties.parent==-1){var Ge=x.features[we].properties.winding;x.features[we].properties.netWinding=Ge,ir(we,Ge)}}function ir(we,Ge){for(var fr=0;fr<x.features.length;fr++)if(x.features[fr].properties.parent==we){var si=Ge+x.features[fr].properties.winding;x.features[fr].properties.netWinding=si,ir(fr,si)}}return Le(),oe(),x}var Kp=function(e,i,s,a,c){this.coord=e,this.param=i,this.ringAndEdgeIn=s,this.ringAndEdgeOut=a,this.nxtIsectAlongEdgeIn=c},Jp=function(e,i,s,a,c,h,g){this.coord=e,this.ringAndEdge1=i,this.ringAndEdge2=s,this.nxtIsectAlongRingAndEdge1=a,this.nxtIsectAlongRingAndEdge2=c,this.ringAndEdge1Walkable=h,this.ringAndEdge2Walkable=g};function Qh(e,i){if(i===void 0&&(i=!0),e.length!=3)throw new Error("This function requires an array of three points [x,y]");return(e[1][0]-e[0][0])*(e[2][1]-e[0][1])-(e[1][1]-e[0][1])*(e[2][0]-e[0][0])>=0==i}function p(e){for(var i=0,s=0;s<e.length-1;s++)e[s][0]<e[i][0]&&(i=s);if(Qh([e[S(i-1,e.length-1)],e[i],e[S(i+1,e.length-1)]],!0))var a=1;else a=-1;return a}function b(e,i){if(!e||!i||e.length!=i.length)return!1;for(var s=0,a=e.length;s<a;s++)if(e[s]instanceof Array&&i[s]instanceof Array){if(!b(e[s],i[s]))return!1}else if(e[s]!=i[s])return!1;return!0}function S(e,i){return(e%i+i)%i}var R=Math.PI/180,G=180/Math.PI,rt=function(e,i){this.lon=e,this.lat=i,this.x=R*e,this.y=R*i};rt.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},rt.prototype.antipode=function(){var e=-1*this.lat,i=this.lon<0?180+this.lon:-1*(180-this.lon);return new rt(i,e)};var yt=function(){this.coords=[],this.length=0};yt.prototype.move_to=function(e){this.length++,this.coords.push(e)};var Lt=function(e){this.properties=e||{},this.geometries=[]};Lt.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(this.geometries.length===1)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var e=[],i=0;i<this.geometries.length;i++)e.push(this.geometries[i].coords);return{geometry:{type:"MultiLineString",coordinates:e},type:"Feature",properties:this.properties}},Lt.prototype.wkt=function(){for(var e="",i="LINESTRING(",s=function(c){i+=c[0]+" "+c[1]+","},a=0;a<this.geometries.length;a++){if(this.geometries[a].coords.length===0)return"LINESTRING(empty)";this.geometries[a].coords.forEach(s),e+=i.substring(0,i.length-1)+")"}return e};var jt=function(e,i,s){if(!e||e.x===void 0||e.y===void 0)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!i||i.x===void 0||i.y===void 0)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new rt(e.x,e.y),this.end=new rt(i.x,i.y),this.properties=s||{};var a=this.start.x-this.end.x,c=this.start.y-this.end.y,h=Math.pow(Math.sin(c/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(a/2),2);if(this.g=2*Math.asin(Math.sqrt(h)),this.g===Math.PI)throw new Error("it appears "+e.view()+" and "+i.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+e+" and "+i)};function $t(e,i){var s=[],a=_c();return le(i,function(c){if(s.forEach(function(y,w){y.id=w}),s.length){var h=a.search(c);if(h.features.length){var g=Je(c,h);s=s.filter(function(y){return y.id!==g.id}),a.remove(g),Et(xe(g,c),function(y){s.push(y),a.insert(y)})}}else(s=xe(e,c).features).forEach(function(y){y.bbox||(y.bbox=ym(vt(y)))}),a.load(M(s))}),M(s)}function xe(e,i){var s=[],a=Y(e)[0],c=Y(e)[e.geometry.coordinates.length-1];if(pr(a,O(i))||pr(c,O(i)))return M([e]);var h=_c(),g=Gn(e);h.load(g);var y=h.search(i);if(!y.features.length)return M([e]);var w=Je(i,y),x=qt(g,function(T,E,P){var z=Y(E)[1],N=O(i);return P===w.id?(T.push(N),s.push(k(T)),pr(N,z)?[N]:[N,z]):(T.push(z),T)},[a]);return x.length>1&&s.push(k(x)),M(s)}function Je(e,i){if(!i.features.length)throw new Error("lines must contain features");if(i.features.length===1)return i.features[0];var s,a=1/0;return Et(i,function(c){var h=na(c,e).properties.dist;h<a&&(s=c,a=h)}),s}function pr(e,i){return e[0]===i[0]&&e[1]===i[1]}function In(e,i,s,a,c){c===void 0&&(c={});var h=c.steps||64,g=$i(s),y=$i(a),w=Array.isArray(e)||e.type!=="Feature"?{}:e.properties;if(g===y)return k(Op(e,i,c).geometry.coordinates[0],w);for(var x=g,T=g<y?y:y+360,E=x,P=[],z=0;E<T;)P.push(Qi(e,i,E,c).geometry.coordinates),E=x+360*++z/h;return E>T&&P.push(Qi(e,i,T,c).geometry.coordinates),k(P,w)}function $i(e){var i=e%360;return i<0&&(i+=360),i}function Ln(e,i){i===void 0&&(i={});var s=xt(e);switch(i.properties||e.type!=="Feature"||(i.properties=e.properties),s.type){case"Polygon":return qn(s,i);case"MultiPolygon":return function(a,c){c===void 0&&(c={});var h=xt(a).coordinates,g=c.properties?c.properties:a.type==="Feature"?a.properties:{},y=[];return h.forEach(function(w){y.push(Ml(w,g))}),M(y)}(s,i);default:throw new Error("invalid poly")}}function qn(e,i){return i===void 0&&(i={}),Ml(xt(e).coordinates,i.properties?i.properties:e.type==="Feature"?e.properties:{})}function Ml(e,i){return e.length>1?A(e,i):k(e[0],i)}function Rm(e,i){var s,a,c;i===void 0&&(i={});var h=i.properties,g=(s=i.autoComplete)===null||s===void 0||s,y=(a=i.orderCoords)===null||a===void 0||a;switch((c=i.mutate)!==null&&c!==void 0&&c||(e=Pi(e)),e.type){case"FeatureCollection":var w=[];return e.features.forEach(function(x){w.push(Y(Am(x,{},g,y)))}),U(w,h);default:return Am(e,h,g,y)}}function Am(e,i,s,a){i=i||(e.type==="Feature"?e.properties:{});var c=xt(e),h=c.coordinates,g=c.type;if(!h.length)throw new Error("line must contain coordinates");switch(g){case"LineString":return s&&(h=Om(h)),v([h],i);case"MultiLineString":var y=[],w=0;return h.forEach(function(x){if(s&&(x=Om(x)),a){var T=function(E){var P=E[0],z=E[1],N=E[2],B=E[3];return Math.abs(P-N)*Math.abs(z-B)}(vt(k(x)));T>w?(y.unshift(x),w=T):y.push(x)}else y.push(x)}),v(y,i);default:throw new Error("geometry type "+g+" is not supported")}}function Om(e){var i=e[0],s=i[0],a=i[1],c=e[e.length-1],h=c[0],g=c[1];return s===h&&a===g||e.push(i),e}function zm(e,i){var s,a,c,h,g,y,w;for(a=1;a<=8;a*=2){for(s=[],h=!(Il(c=e[e.length-1],i)&a),g=0;g<e.length;g++)(w=!(Il(y=e[g],i)&a))!==h&&s.push(Qp(c,y,a,i)),w&&s.push(y),c=y,h=w;if(!(e=s).length)break}return s}function Qp(e,i,s,a){return 8&s?[e[0]+(i[0]-e[0])*(a[3]-e[1])/(i[1]-e[1]),a[3]]:4&s?[e[0]+(i[0]-e[0])*(a[1]-e[1])/(i[1]-e[1]),a[1]]:2&s?[a[2],e[1]+(i[1]-e[1])*(a[2]-e[0])/(i[0]-e[0])]:1&s?[a[0],e[1]+(i[1]-e[1])*(a[0]-e[0])/(i[0]-e[0])]:null}function Il(e,i){var s=0;return e[0]<i[0]?s|=1:e[0]>i[2]&&(s|=2),e[1]<i[1]?s|=4:e[1]>i[3]&&(s|=8),s}function Hi(e,i){for(var s=[],a=0,c=e;a<c.length;a++){var h=zm(c[a],i);h.length>0&&(h[0][0]===h[h.length-1][0]&&h[0][1]===h[h.length-1][1]||h.push(h[0]),h.length>=4&&s.push(h))}return s}jt.prototype.interpolate=function(e){var i=Math.sin((1-e)*this.g)/Math.sin(this.g),s=Math.sin(e*this.g)/Math.sin(this.g),a=i*Math.cos(this.start.y)*Math.cos(this.start.x)+s*Math.cos(this.end.y)*Math.cos(this.end.x),c=i*Math.cos(this.start.y)*Math.sin(this.start.x)+s*Math.cos(this.end.y)*Math.sin(this.end.x),h=i*Math.sin(this.start.y)+s*Math.sin(this.end.y),g=G*Math.atan2(h,Math.sqrt(Math.pow(a,2)+Math.pow(c,2)));return[G*Math.atan2(c,a),g]},jt.prototype.Arc=function(e,i){var s=[];if(!e||e<=2)s.push([this.start.lon,this.start.lat]),s.push([this.end.lon,this.end.lat]);else for(var a=1/(e-1),c=0;c<e;++c){var h=a*c,g=this.interpolate(h);s.push(g)}for(var y=!1,w=0,x=i&&i.offset?i.offset:10,T=180-x,E=-180+x,P=360-x,z=1;z<s.length;++z){var N=s[z-1][0],B=s[z][0],I=Math.abs(B-N);I>P&&(B>T&&N<E||N>T&&B<E)?y=!0:I>w&&(w=I)}var W=[];if(y&&w<x){var it=[];W.push(it);for(var D=0;D<s.length;++D){var q=parseFloat(s[D][0]);if(D>0&&Math.abs(q-s[D-1][0])>P){var X=parseFloat(s[D-1][0]),tt=parseFloat(s[D-1][1]),Q=parseFloat(s[D][0]),Rt=parseFloat(s[D][1]);if(X>-180&&X<E&&Q===180&&D+1<s.length&&s[D-1][0]>-180&&s[D-1][0]<E){it.push([-180,s[D][1]]),D++,it.push([s[D][0],s[D][1]]);continue}if(X>T&&X<180&&Q===-180&&D+1<s.length&&s[D-1][0]>T&&s[D-1][0]<180){it.push([180,s[D][1]]),D++,it.push([s[D][0],s[D][1]]);continue}if(X<E&&Q>T){var kt=X;X=Q,Q=kt;var zt=tt;tt=Rt,Rt=zt}if(X>T&&Q<E&&(Q+=360),X<=180&&Q>=180&&X<Q){var Tt=(180-X)/(Q-X),Ft=Tt*Rt+(1-Tt)*tt;it.push([s[D-1][0]>T?180:-180,Ft]),(it=[]).push([s[D-1][0]>T?-180:180,Ft]),W.push(it)}else it=[],W.push(it);it.push([q,s[D][1]])}else it.push([s[D][0],s[D][1]])}}else{var Mt=[];W.push(Mt);for(var Pt=0;Pt<s.length;++Pt)Mt.push([s[Pt][0],s[Pt][1]])}for(var St=new Lt(this.properties),Nt=0;Nt<W.length;++Nt){var It=new yt;St.geometries.push(It);for(var Ht=W[Nt],gt=0;gt<Ht.length;++gt)It.move_to(Ht[gt])}return St};var Ou=Ko(function(e,i){function s(a){var c=[];for(var h in a)c.push(h);return c}(e.exports=typeof Object.keys=="function"?Object.keys:s).shim=s}),Nm=Ko(function(e,i){var s=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";function a(h){return Object.prototype.toString.call(h)=="[object Arguments]"}function c(h){return h&&typeof h=="object"&&typeof h.length=="number"&&Object.prototype.hasOwnProperty.call(h,"callee")&&!Object.prototype.propertyIsEnumerable.call(h,"callee")||!1}(i=e.exports=s?a:c).supported=a,i.unsupported=c}),Sc=Ko(function(e){var i=Array.prototype.slice,s=e.exports=function(h,g,y){return y||(y={}),h===g||(h instanceof Date&&g instanceof Date?h.getTime()===g.getTime():!h||!g||typeof h!="object"&&typeof g!="object"?y.strict?h===g:h==g:function(w,x,T){var E,P;if(a(w)||a(x)||w.prototype!==x.prototype)return!1;if(Nm(w))return!!Nm(x)&&(w=i.call(w),x=i.call(x),s(w,x,T));if(c(w)){if(!c(x)||w.length!==x.length)return!1;for(E=0;E<w.length;E++)if(w[E]!==x[E])return!1;return!0}try{var z=Ou(w),N=Ou(x)}catch{return!1}if(z.length!=N.length)return!1;for(z.sort(),N.sort(),E=z.length-1;E>=0;E--)if(z[E]!=N[E])return!1;for(E=z.length-1;E>=0;E--)if(P=z[E],!s(w[P],x[P],T))return!1;return typeof w==typeof x}(h,g,y))};function a(h){return h==null}function c(h){return!(!h||typeof h!="object"||typeof h.length!="number")&&typeof h.copy=="function"&&typeof h.slice=="function"&&!(h.length>0&&typeof h[0]!="number")}});function Dm(e,i,s){if(s===void 0&&(s={}),!mt(s=s||{}))throw new Error("options is invalid");var a,c=s.tolerance||0,h=[],g=_c(),y=Gn(e);return g.load(y),er(i,function(w){var x=!1;w&&(Et(g.search(w),function(T){if(x===!1){var E=Y(w).sort(),P=Y(T).sort();Sc(E,P)||(c===0?$n(E[0],T)&&$n(E[1],T):na(T,E[0]).properties.dist<=c&&na(T,E[1]).properties.dist<=c)?(x=!0,a=a?$h(a,w):w):(c===0?$n(P[0],w)&&$n(P[1],w):na(w,P[0]).properties.dist<=c&&na(w,P[1]).properties.dist<=c)&&(a=a?$h(a,T):T)}}),x===!1&&a&&(h.push(a),a=void 0))}),a&&h.push(a),M(h)}function $h(e,i){var s=Y(i),a=Y(e),c=a[0],h=a[a.length-1],g=e.geometry.coordinates;return Sc(s[0],c)?g.unshift(s[1]):Sc(s[0],h)?g.push(s[1]):Sc(s[1],c)?g.unshift(s[0]):Sc(s[1],h)&&g.push(s[0]),e}function $p(e){var i=e%360;return i<0&&(i+=360),i}function Ll(e,i,s){var a;return s===void 0&&(s={}),(a=s.final?Wx(O(i),O(e)):Wx(O(e),O(i)))>180?-(360-a):a}function Wx(e,i){var s=ct(e[1]),a=ct(i[1]),c=ct(i[0]-e[0]);c>Math.PI&&(c-=2*Math.PI),c<-Math.PI&&(c+=2*Math.PI);var h=Math.log(Math.tan(a/2+Math.PI/4)/Math.tan(s/2+Math.PI/4));return(ht(Math.atan2(c,h))+360)%360}function td(e,i,s,a){a===void 0&&(a={});var c=i<0,h=Z(Math.abs(i),a.units,"meters");c&&(h=-Math.abs(h));var g=O(e),y=function(w,x,T,E){E=E===void 0?r:Number(E);var P=x/E,z=w[0]*Math.PI/180,N=ct(w[1]),B=ct(T),I=P*Math.cos(B),W=N+I;Math.abs(W)>Math.PI/2&&(W=W>0?Math.PI-W:-Math.PI-W);var it=Math.log(Math.tan(W/2+Math.PI/4)/Math.tan(N/2+Math.PI/4)),D=Math.abs(it)>1e-11?I/it:Math.cos(N),q=P*Math.sin(B)/D;return[(180*(z+q)/Math.PI+540)%360-180,180*W/Math.PI]}(g,h,s);return y[0]+=y[0]-g[0]>180?-360:g[0]-y[0]>180?360:0,f(y,a.properties)}function Zx(e,i,s,a,c,h){for(var g=0;g<e.length;g++){var y=e[g],w=e[g+1];g===e.length-1&&(w=e[0]),a=tf(y,w,i),s<=0&&a>0?tf(i,y,c)<0||(c=y):s>0&&a<=0&&(dM(i,y,h)||(h=y)),s=a}return[c,h]}function dM(e,i,s){return tf(e,i,s)>0}function tf(e,i,s){return(i[0]-e[0])*(s[1]-e[1])-(s[0]-e[0])*(i[1]-e[1])}function Fm(e){for(var i,s,a=Y(e),c=0,h=1;h<a.length;)i=s||a[0],c+=((s=a[h])[0]-i[0])*(s[1]+i[1]),h++;return c>0}function Bm(e,i){switch(e.type==="Feature"?e.geometry.type:e.type){case"GeometryCollection":return fe(e,function(s){Bm(s,i)}),e;case"LineString":return Yx(Y(e),i),e;case"Polygon":return Xx(Y(e),i),e;case"MultiLineString":return Y(e).forEach(function(s){Yx(s,i)}),e;case"MultiPolygon":return Y(e).forEach(function(s){Xx(s,i)}),e;case"Point":case"MultiPoint":return e}}function Yx(e,i){Fm(e)===i&&e.reverse()}function Xx(e,i){Fm(e[0])!==i&&e[0].reverse();for(var s=1;s<e.length;s++)Fm(e[s])===i&&e[s].reverse()}function pM(e,i){if(!mt(i=i||{}))throw new Error("options is invalid");var s=i.zProperty||"elevation",a=i.flip,c=i.flags;Ot(e,"Point","input must contain Points");for(var h=function(P,z){var N={};return Et(P,function(B){var I=Y(B)[1];N[I]||(N[I]=[]),N[I].push(B)}),Object.keys(N).map(function(B){return N[B].sort(function(I,W){return Y(I)[0]-Y(W)[0]})}).sort(function(B,I){return z?Y(B[0])[1]-Y(I[0])[1]:Y(I[0])[1]-Y(B[0])[1]})}(e,a),g=[],y=0;y<h.length;y++){for(var w=h[y],x=[],T=0;T<w.length;T++){var E=w[T];E.properties[s]?x.push(E.properties[s]):x.push(0),c===!0&&(E.properties.matrixPosition=[y,T])}g.push(x)}return g}var Kx={successCallback:null,verbose:!1,polygons:!1},zu={};function fM(e,i,s,a){a=a||{};for(var c=Object.keys(Kx),h=0;h<c.length;h++){var g=c[h],y=a[g];y=y??Kx[g],zu[g]=y}zu.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+i+":"+(i+s)+"]");var w,x=function(T,E,P){for(var z=T.length-1,N=T[0].length-1,B={rows:z,cols:N,cells:[]},I=E+Math.abs(P),W=0;W<z;++W){B.cells[W]=[];for(var it=0;it<N;++it){var D=0,q=T[W+1][it],X=T[W+1][it+1],tt=T[W][it+1],Q=T[W][it];if(!(isNaN(q)||isNaN(X)||isNaN(tt)||isNaN(Q))){D|=q<E?0:q>I?128:64,D|=X<E?0:X>I?32:16,D|=tt<E?0:tt>I?8:4;var Rt=+(D|=Q<E?0:Q>I?2:1),kt=0;if(D===17||D===18||D===33||D===34||D===38||D===68||D===72||D===98||D===102||D===132||D===136||D===137||D===152||D===153){var zt=(q+X+tt+Q)/4;kt=zt>I?2:zt<E?0:1,D===34?kt===1?D=35:kt===0&&(D=136):D===136?kt===1?(D=35,kt=4):kt===0&&(D=34):D===17?kt===1?(D=155,kt=4):kt===0&&(D=153):D===68?kt===1?(D=103,kt=4):kt===0&&(D=102):D===153?kt===1&&(D=155):D===102?kt===1&&(D=103):D===152?kt<2&&(D=156,kt=1):D===137?kt<2&&(D=139,kt=1):D===98?kt<2&&(D=99,kt=1):D===38?kt<2&&(D=39,kt=1):D===18?kt>0?(D=156,kt=4):D=152:D===33?kt>0?(D=139,kt=4):D=137:D===72?kt>0?(D=99,kt=4):D=98:D===132&&(kt>0?(D=39,kt=4):D=38)}if(D!=0&&D!=170){var Tt,Ft,Mt,Pt,St,Nt,It,Ht;Tt=Ft=Mt=Pt=St=Nt=It=Ht=.5;var gt=[];D===1?(Mt=1-et(E,tt,Q),Ht=1-et(E,q,Q),gt.push(Fe[D])):D===169?(Mt=et(I,Q,tt),Ht=et(I,Q,q),gt.push(Fe[D])):D===4?(Nt=1-et(E,X,tt),Pt=et(E,Q,tt),gt.push(_e[D])):D===166?(Nt=et(I,tt,X),Pt=1-et(I,tt,Q),gt.push(_e[D])):D===16?(St=et(E,tt,X),Ft=et(E,q,X),gt.push(Te[D])):D===154?(St=1-et(I,X,tt),Ft=1-et(I,X,q),gt.push(Te[D])):D===64?(It=et(E,Q,q),Tt=1-et(E,X,q),gt.push(Ye[D])):D===106?(It=1-et(I,q,Q),Tt=et(I,q,X),gt.push(Ye[D])):D===168?(Pt=et(I,Q,tt),Mt=et(E,Q,tt),Ht=et(E,Q,q),It=et(I,Q,q),gt.push(He[D]),gt.push(Fe[D])):D===2?(Pt=1-et(E,tt,Q),Mt=1-et(I,tt,Q),Ht=1-et(I,q,Q),It=1-et(E,q,Q),gt.push(He[D]),gt.push(Fe[D])):D===162?(St=et(I,tt,X),Nt=et(E,tt,X),Pt=1-et(E,tt,Q),Mt=1-et(I,tt,Q),gt.push(He[D]),gt.push(Fe[D])):D===8?(St=1-et(E,X,tt),Nt=1-et(I,X,tt),Pt=et(I,Q,tt),Mt=et(E,Q,tt),gt.push(Te[D]),gt.push(_e[D])):D===138?(St=1-et(E,X,tt),Nt=1-et(I,X,tt),Tt=1-et(I,X,q),Ft=1-et(E,X,q),gt.push(Te[D]),gt.push(_e[D])):D===32?(St=et(I,tt,X),Nt=et(E,tt,X),Tt=et(E,q,X),Ft=et(I,q,X),gt.push(Te[D]),gt.push(_e[D])):D===42?(Ht=1-et(I,q,Q),It=1-et(E,q,Q),Tt=et(E,q,X),Ft=et(I,q,X),gt.push(Xe[D]),gt.push(Ye[D])):D===128&&(Ht=et(E,Q,q),It=et(I,Q,q),Tt=1-et(I,X,q),Ft=1-et(E,X,q),gt.push(Xe[D]),gt.push(Ye[D])),D===5?(Nt=1-et(E,X,tt),Ht=1-et(E,q,Q),gt.push(_e[D])):D===165?(Nt=et(I,tt,X),Ht=et(I,Q,q),gt.push(_e[D])):D===20?(Pt=et(E,Q,tt),Ft=et(E,q,X),gt.push(He[D])):D===150?(Pt=1-et(I,tt,Q),Ft=1-et(I,X,q),gt.push(He[D])):D===80?(St=et(E,tt,X),It=et(E,Q,q),gt.push(Te[D])):D===90?(St=1-et(I,X,tt),It=1-et(I,q,Q),gt.push(Te[D])):D===65?(Mt=1-et(E,tt,Q),Tt=1-et(E,X,q),gt.push(Fe[D])):D===105?(Mt=et(I,Q,tt),Tt=et(I,q,X),gt.push(Fe[D])):D===160?(St=et(I,tt,X),Nt=et(E,tt,X),Ht=et(E,Q,q),It=et(I,Q,q),gt.push(Te[D]),gt.push(_e[D])):D===10?(St=1-et(E,X,tt),Nt=1-et(I,X,tt),Ht=1-et(I,q,Q),It=1-et(E,q,Q),gt.push(Te[D]),gt.push(_e[D])):D===130?(Pt=1-et(E,tt,Q),Mt=1-et(I,tt,Q),Tt=1-et(I,X,q),Ft=1-et(E,X,q),gt.push(He[D]),gt.push(Fe[D])):D===40?(Pt=et(I,Q,tt),Mt=et(E,Q,tt),Tt=et(E,q,X),Ft=et(I,q,X),gt.push(He[D]),gt.push(Fe[D])):D===101?(Nt=et(I,tt,X),Tt=et(I,q,X),gt.push(_e[D])):D===69?(Nt=1-et(E,X,tt),Tt=1-et(E,X,q),gt.push(_e[D])):D===149?(Ht=et(I,Q,q),Ft=1-et(I,X,q),gt.push(Xe[D])):D===21?(Ht=1-et(E,q,Q),Ft=et(E,q,X),gt.push(Xe[D])):D===86?(Pt=1-et(I,tt,Q),It=1-et(I,q,Q),gt.push(He[D])):D===84?(Pt=et(E,Q,tt),It=et(E,Q,q),gt.push(He[D])):D===89?(St=1-et(I,X,tt),Mt=et(I,Q,tt),gt.push(Fe[D])):D===81?(St=et(E,tt,X),Mt=1-et(E,tt,Q),gt.push(Fe[D])):D===96?(St=et(I,tt,X),Nt=et(E,tt,X),It=et(E,Q,q),Tt=et(I,q,X),gt.push(Te[D]),gt.push(_e[D])):D===74?(St=1-et(E,X,tt),Nt=1-et(I,X,tt),It=1-et(I,q,Q),Tt=1-et(E,X,q),gt.push(Te[D]),gt.push(_e[D])):D===24?(St=1-et(I,X,tt),Pt=et(I,Q,tt),Mt=et(E,Q,tt),Ft=et(E,q,X),gt.push(Te[D]),gt.push(Fe[D])):D===146?(St=et(E,tt,X),Pt=1-et(E,tt,Q),Mt=1-et(I,tt,Q),Ft=1-et(I,X,q),gt.push(Te[D]),gt.push(Fe[D])):D===6?(Nt=1-et(E,X,tt),Pt=1-et(I,tt,Q),Ht=1-et(I,q,Q),It=1-et(E,q,Q),gt.push(_e[D]),gt.push(He[D])):D===164?(Nt=et(I,tt,X),Pt=et(E,Q,tt),Ht=et(E,Q,q),It=et(I,Q,q),gt.push(_e[D]),gt.push(He[D])):D===129?(Mt=1-et(E,tt,Q),Ht=et(I,Q,q),Tt=1-et(I,X,q),Ft=1-et(E,X,q),gt.push(Fe[D]),gt.push(Xe[D])):D===41?(Mt=et(I,Q,tt),Ht=1-et(E,q,Q),Tt=et(E,q,X),Ft=et(I,q,X),gt.push(Fe[D]),gt.push(Xe[D])):D===66?(Pt=1-et(E,tt,Q),Mt=1-et(I,tt,Q),It=1-et(I,q,Q),Tt=1-et(E,X,q),gt.push(He[D]),gt.push(Fe[D])):D===104?(Pt=et(I,Q,tt),Mt=et(E,Q,tt),It=et(E,Q,q),Tt=et(I,q,X),gt.push(Fe[D]),gt.push(qr[D])):D===144?(St=et(E,tt,X),Ht=et(E,Q,q),It=et(I,Q,q),Ft=1-et(I,X,q),gt.push(Te[D]),gt.push(Ye[D])):D===26?(St=1-et(I,X,tt),Ht=1-et(I,q,Q),It=1-et(E,q,Q),Ft=et(E,q,X),gt.push(Te[D]),gt.push(Ye[D])):D===36?(Nt=et(I,tt,X),Pt=et(E,Q,tt),Tt=et(E,q,X),Ft=et(I,q,X),gt.push(_e[D]),gt.push(He[D])):D===134?(Nt=1-et(E,X,tt),Pt=1-et(I,tt,Q),Tt=1-et(I,X,q),Ft=1-et(E,X,q),gt.push(_e[D]),gt.push(He[D])):D===9?(St=1-et(E,X,tt),Nt=1-et(I,X,tt),Mt=et(I,Q,tt),Ht=1-et(E,q,Q),gt.push(Te[D]),gt.push(_e[D])):D===161?(St=et(I,tt,X),Nt=et(E,tt,X),Mt=1-et(E,tt,Q),Ht=et(I,Q,q),gt.push(Te[D]),gt.push(_e[D])):D===37?(Nt=et(I,tt,X),Ht=1-et(E,q,Q),Tt=et(E,q,X),Ft=et(I,q,X),gt.push(_e[D]),gt.push(Xe[D])):D===133?(Nt=1-et(E,X,tt),Ht=et(I,Q,q),Tt=1-et(I,X,q),Ft=1-et(E,X,q),gt.push(_e[D]),gt.push(Xe[D])):D===148?(Pt=et(E,Q,tt),Ht=et(E,Q,q),It=et(I,Q,q),Ft=1-et(I,X,q),gt.push(He[D]),gt.push(Ye[D])):D===22?(Pt=1-et(I,tt,Q),Ht=1-et(I,q,Q),It=1-et(E,q,Q),Ft=et(E,q,X),gt.push(He[D]),gt.push(Ye[D])):D===82?(St=et(E,tt,X),Pt=1-et(E,tt,Q),Mt=1-et(I,tt,Q),It=1-et(I,q,Q),gt.push(Te[D]),gt.push(Fe[D])):D===88?(St=1-et(I,X,tt),Pt=et(I,Q,tt),Mt=et(E,Q,tt),It=et(E,Q,q),gt.push(Te[D]),gt.push(Fe[D])):D===73?(St=1-et(E,X,tt),Nt=1-et(I,X,tt),Mt=et(I,Q,tt),Tt=1-et(E,X,q),gt.push(Te[D]),gt.push(_e[D])):D===97?(St=et(I,tt,X),Nt=et(E,tt,X),Mt=1-et(E,tt,Q),Tt=et(I,q,X),gt.push(Te[D]),gt.push(_e[D])):D===145?(St=et(E,tt,X),Mt=1-et(E,tt,Q),Ht=et(I,Q,q),Ft=1-et(I,X,q),gt.push(Te[D]),gt.push(Xe[D])):D===25?(St=1-et(I,X,tt),Mt=et(I,Q,tt),Ht=1-et(E,q,Q),Ft=et(E,q,X),gt.push(Te[D]),gt.push(Xe[D])):D===70?(Nt=1-et(E,X,tt),Pt=1-et(I,tt,Q),It=1-et(I,q,Q),Tt=1-et(E,X,q),gt.push(_e[D]),gt.push(He[D])):D===100?(Nt=et(I,tt,X),Pt=et(E,Q,tt),It=et(E,Q,q),Tt=et(I,q,X),gt.push(_e[D]),gt.push(He[D])):D===34?(kt===0?(St=1-et(E,X,tt),Nt=1-et(I,X,tt),Pt=et(I,Q,tt),Mt=et(E,Q,tt),Ht=et(E,Q,q),It=et(I,Q,q),Tt=1-et(I,X,q),Ft=1-et(E,X,q)):(St=et(I,tt,X),Nt=et(E,tt,X),Pt=1-et(E,tt,Q),Mt=1-et(I,tt,Q),Ht=1-et(I,q,Q),It=1-et(E,q,Q),Tt=et(E,q,X),Ft=et(I,q,X)),gt.push(Te[D]),gt.push(_e[D]),gt.push(Xe[D]),gt.push(Ye[D])):D===35?(kt===4?(St=1-et(E,X,tt),Nt=1-et(I,X,tt),Pt=et(I,Q,tt),Mt=et(E,Q,tt),Ht=et(E,Q,q),It=et(I,Q,q),Tt=1-et(I,X,q),Ft=1-et(E,X,q)):(St=et(I,tt,X),Nt=et(E,tt,X),Pt=1-et(E,tt,Q),Mt=1-et(I,tt,Q),Ht=1-et(I,q,Q),It=1-et(E,q,Q),Tt=et(E,q,X),Ft=et(I,q,X)),gt.push(Te[D]),gt.push(_e[D]),gt.push(Fe[D]),gt.push(Ye[D])):D===136?(kt===0?(St=et(I,tt,X),Nt=et(E,tt,X),Pt=1-et(E,tt,Q),Mt=1-et(I,tt,Q),Ht=1-et(I,q,Q),It=1-et(E,q,Q),Tt=et(E,q,X),Ft=et(I,q,X)):(St=1-et(E,X,tt),Nt=1-et(I,X,tt),Pt=et(I,Q,tt),Mt=et(E,Q,tt),Ht=et(E,Q,q),It=et(I,Q,q),Tt=1-et(I,X,q),Ft=1-et(E,X,q)),gt.push(Te[D]),gt.push(_e[D]),gt.push(Xe[D]),gt.push(Ye[D])):D===153?(kt===0?(St=et(E,tt,X),Mt=1-et(E,tt,Q),Ht=1-et(E,q,Q),Ft=et(E,q,X)):(St=1-et(I,X,tt),Mt=et(I,Q,tt),Ht=et(I,Q,q),Ft=1-et(I,X,q)),gt.push(Te[D]),gt.push(Fe[D])):D===102?(kt===0?(Nt=1-et(E,X,tt),Pt=et(E,Q,tt),It=et(E,Q,q),Tt=1-et(E,X,q)):(Nt=et(I,tt,X),Pt=1-et(I,tt,Q),It=1-et(I,q,Q),Tt=et(I,q,X)),gt.push(_e[D]),gt.push(Ye[D])):D===155?(kt===4?(St=et(E,tt,X),Mt=1-et(E,tt,Q),Ht=1-et(E,q,Q),Ft=et(E,q,X)):(St=1-et(I,X,tt),Mt=et(I,Q,tt),Ht=et(I,Q,q),Ft=1-et(I,X,q)),gt.push(Te[D]),gt.push(Xe[D])):D===103?(kt===4?(Nt=1-et(E,X,tt),Pt=et(E,Q,tt),It=et(E,Q,q),Tt=1-et(E,X,q)):(Nt=et(I,tt,X),Pt=1-et(I,tt,Q),It=1-et(I,q,Q),Tt=et(I,q,X)),gt.push(_e[D]),gt.push(He[D])):D===152?(kt===0?(St=et(E,tt,X),Pt=1-et(E,tt,Q),Mt=1-et(I,tt,Q),Ht=1-et(I,q,Q),It=1-et(E,q,Q),Ft=et(E,q,X)):(St=1-et(I,X,tt),Pt=et(I,Q,tt),Mt=et(E,Q,tt),Ht=et(E,Q,q),It=et(I,Q,q),Ft=1-et(I,X,q)),gt.push(Te[D]),gt.push(He[D]),gt.push(Fe[D])):D===156?(kt===4?(St=et(E,tt,X),Pt=1-et(E,tt,Q),Mt=1-et(I,tt,Q),Ht=1-et(I,q,Q),It=1-et(E,q,Q),Ft=et(E,q,X)):(St=1-et(I,X,tt),Pt=et(I,Q,tt),Mt=et(E,Q,tt),Ht=et(E,Q,q),It=et(I,Q,q),Ft=1-et(I,X,q)),gt.push(Te[D]),gt.push(Fe[D]),gt.push(Ye[D])):D===137?(kt===0?(St=et(I,tt,X),Nt=et(E,tt,X),Mt=1-et(E,tt,Q),Ht=1-et(E,q,Q),Tt=et(E,q,X),Ft=et(I,q,X)):(St=1-et(E,X,tt),Nt=1-et(I,X,tt),Mt=et(I,Q,tt),Ht=et(I,Q,q),Tt=1-et(I,X,q),Ft=1-et(E,X,q)),gt.push(Te[D]),gt.push(_e[D]),gt.push(Fe[D])):D===139?(kt===4?(St=et(I,tt,X),Nt=et(E,tt,X),Mt=1-et(E,tt,Q),Ht=1-et(E,q,Q),Tt=et(E,q,X),Ft=et(I,q,X)):(St=1-et(E,X,tt),Nt=1-et(I,X,tt),Mt=et(I,Q,tt),Ht=et(I,Q,q),Tt=1-et(I,X,q),Ft=1-et(E,X,q)),gt.push(Te[D]),gt.push(_e[D]),gt.push(Xe[D])):D===98?(kt===0?(St=1-et(E,X,tt),Nt=1-et(I,X,tt),Pt=et(I,Q,tt),Mt=et(E,Q,tt),It=et(E,Q,q),Tt=1-et(E,X,q)):(St=et(I,tt,X),Nt=et(E,tt,X),Pt=1-et(E,tt,Q),Mt=1-et(I,tt,Q),It=1-et(I,q,Q),Tt=et(I,q,X)),gt.push(Te[D]),gt.push(_e[D]),gt.push(Ye[D])):D===99?(kt===4?(St=1-et(E,X,tt),Nt=1-et(I,X,tt),Pt=et(I,Q,tt),Mt=et(E,Q,tt),It=et(E,Q,q),Tt=1-et(E,X,q)):(St=et(I,tt,X),Nt=et(E,tt,X),Pt=1-et(E,tt,Q),Mt=1-et(I,tt,Q),It=1-et(I,q,Q),Tt=et(I,q,X)),gt.push(Te[D]),gt.push(_e[D]),gt.push(Fe[D])):D===38?(kt===0?(Nt=1-et(E,X,tt),Pt=et(E,Q,tt),Ht=et(E,Q,q),It=et(I,Q,q),Tt=1-et(I,X,q),Ft=1-et(E,X,q)):(Nt=et(I,tt,X),Pt=1-et(I,tt,Q),Ht=1-et(I,q,Q),It=1-et(E,q,Q),Tt=et(E,q,X),Ft=et(I,q,X)),gt.push(_e[D]),gt.push(Xe[D]),gt.push(Ye[D])):D===39?(kt===4?(Nt=1-et(E,X,tt),Pt=et(E,Q,tt),Ht=et(E,Q,q),It=et(I,Q,q),Tt=1-et(I,X,q),Ft=1-et(E,X,q)):(Nt=et(I,tt,X),Pt=1-et(I,tt,Q),Ht=1-et(I,q,Q),It=1-et(E,q,Q),Tt=et(E,q,X),Ft=et(I,q,X)),gt.push(_e[D]),gt.push(He[D]),gt.push(Ye[D])):D===85&&(St=1,Nt=0,Pt=1,Mt=0,Ht=0,It=1,Tt=0,Ft=1),(Tt<0||Tt>1||Ft<0||Ft>1||St<0||St>1||Pt<0||Pt>1||Ht<0||Ht>1||It<0||It>1)&&console.log("MarchingSquaresJS-isoBands: "+D+" "+Rt+" "+q+","+X+","+tt+","+Q+" "+kt+" "+Tt+" "+Ft+" "+St+" "+Nt+" "+Pt+" "+Mt+" "+Ht+" "+It),B.cells[W][it]={cval:D,cval_real:Rt,flipped:kt,topleft:Tt,topright:Ft,righttop:St,rightbottom:Nt,bottomright:Pt,bottomleft:Mt,leftbottom:Ht,lefttop:It,edges:gt}}}}}return B}(e,i,s);return zu.polygons?(zu.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),w=function(T){var E=[],P=0;return T.cells.forEach(function(z,N){z.forEach(function(B,I){if(B!==void 0){var W=me[B.cval](B);typeof W=="object"&&ub(W)?typeof W[0]=="object"&&ub(W[0])?typeof W[0][0]=="object"&&ub(W[0][0])?W.forEach(function(it){it.forEach(function(D){D[0]+=I,D[1]+=N}),E[P++]=it}):(W.forEach(function(it){it[0]+=I,it[1]+=N}),E[P++]=W):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}})}),E}(x)):(zu.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),w=function(T){for(var E=[],P=T.rows,z=T.cols,N=[],B=0;B<P;B++)for(var I=0;I<z;I++)if(T.cells[B][I]!==void 0&&T.cells[B][I].edges.length>0){var W=mM(T.cells[B][I]),it=null,D=I,q=B;W!==null&&N.push([W.p[0]+D,W.p[1]+q]);do{if((it=vM(T.cells[q][D],W.x,W.y,W.o))===null)break;if(N.push([it.p[0]+D,it.p[1]+q]),D+=it.x,W=it,(q+=it.y)<0||q>=P||D<0||D>=z||T.cells[q][D]===void 0){var X=gM(T,D-=it.x,q-=it.y,it.x,it.y,it.o);if(X===null)break;X.path.forEach(function(tt){N.push(tt)}),D=X.i,q=X.j,W=X}}while(T.cells[q][D]!==void 0&&T.cells[q][D].edges.length>0);E.push(N),N=[],T.cells[B][I].edges.length>0&&I--}return E}(x)),typeof zu.successCallback=="function"&&zu.successCallback(w),w}var Vn=64,oa=16,wr=[],xr=[],_r=[],kr=[],Er=[],Tr=[],Sr=[],Cr=[],Pr=[],Mr=[],Ir=[],Lr=[],Rr=[],Ar=[],Or=[],zr=[],Nr=[],Dr=[],Fr=[],Br=[],jr=[],Hr=[],Ur=[],Gr=[];Sr[85]=Mr[85]=-1,Cr[85]=Ir[85]=0,Pr[85]=Lr[85]=1,Fr[85]=Hr[85]=1,Br[85]=Ur[85]=0,jr[85]=Gr[85]=1,wr[85]=kr[85]=0,xr[85]=Er[85]=-1,_r[85]=Or[85]=0,zr[85]=Rr[85]=0,Nr[85]=Ar[85]=1,Tr[85]=Dr[85]=1,Hr[1]=Hr[169]=0,Ur[1]=Ur[169]=-1,Gr[1]=Gr[169]=0,Rr[1]=Rr[169]=-1,Ar[1]=Ar[169]=0,Or[1]=Or[169]=0,Mr[4]=Mr[166]=0,Ir[4]=Ir[166]=-1,Lr[4]=Lr[166]=1,zr[4]=zr[166]=1,Nr[4]=Nr[166]=0,Dr[4]=Dr[166]=0,Sr[16]=Sr[154]=0,Cr[16]=Cr[154]=1,Pr[16]=Pr[154]=1,kr[16]=kr[154]=1,Er[16]=Er[154]=0,Tr[16]=Tr[154]=1,Fr[64]=Fr[106]=0,Br[64]=Br[106]=1,jr[64]=jr[106]=0,wr[64]=wr[106]=-1,xr[64]=xr[106]=0,_r[64]=_r[106]=1,Fr[2]=Fr[168]=0,Br[2]=Br[168]=-1,jr[2]=jr[168]=1,Hr[2]=Hr[168]=0,Ur[2]=Ur[168]=-1,Gr[2]=Gr[168]=0,Rr[2]=Rr[168]=-1,Ar[2]=Ar[168]=0,Or[2]=Or[168]=0,zr[2]=zr[168]=-1,Nr[2]=Nr[168]=0,Dr[2]=Dr[168]=1,Sr[8]=Sr[162]=0,Cr[8]=Cr[162]=-1,Pr[8]=Pr[162]=0,Mr[8]=Mr[162]=0,Ir[8]=Ir[162]=-1,Lr[8]=Lr[162]=1,Rr[8]=Rr[162]=1,Ar[8]=Ar[162]=0,Or[8]=Or[162]=1,zr[8]=zr[162]=1,Nr[8]=Nr[162]=0,Dr[8]=Dr[162]=0,Sr[32]=Sr[138]=0,Cr[32]=Cr[138]=1,Pr[32]=Pr[138]=1,Mr[32]=Mr[138]=0,Ir[32]=Ir[138]=1,Lr[32]=Lr[138]=0,wr[32]=wr[138]=1,xr[32]=xr[138]=0,_r[32]=_r[138]=0,kr[32]=kr[138]=1,Er[32]=Er[138]=0,Tr[32]=Tr[138]=1,Hr[128]=Hr[42]=0,Ur[128]=Ur[42]=1,Gr[128]=Gr[42]=1,Fr[128]=Fr[42]=0,Br[128]=Br[42]=1,jr[128]=jr[42]=0,wr[128]=wr[42]=-1,xr[128]=xr[42]=0,_r[128]=_r[42]=1,kr[128]=kr[42]=-1,Er[128]=Er[42]=0,Tr[128]=Tr[42]=0,Mr[5]=Mr[165]=-1,Ir[5]=Ir[165]=0,Lr[5]=Lr[165]=0,Hr[5]=Hr[165]=1,Ur[5]=Ur[165]=0,Gr[5]=Gr[165]=0,zr[20]=zr[150]=0,Nr[20]=Nr[150]=1,Dr[20]=Dr[150]=1,kr[20]=kr[150]=0,Er[20]=Er[150]=-1,Tr[20]=Tr[150]=1,Sr[80]=Sr[90]=-1,Cr[80]=Cr[90]=0,Pr[80]=Pr[90]=1,Fr[80]=Fr[90]=1,Br[80]=Br[90]=0,jr[80]=jr[90]=1,Rr[65]=Rr[105]=0,Ar[65]=Ar[105]=1,Or[65]=Or[105]=0,wr[65]=wr[105]=0,xr[65]=xr[105]=-1,_r[65]=_r[105]=0,Sr[160]=Sr[10]=-1,Cr[160]=Cr[10]=0,Pr[160]=Pr[10]=1,Mr[160]=Mr[10]=-1,Ir[160]=Ir[10]=0,Lr[160]=Lr[10]=0,Hr[160]=Hr[10]=1,Ur[160]=Ur[10]=0,Gr[160]=Gr[10]=0,Fr[160]=Fr[10]=1,Br[160]=Br[10]=0,jr[160]=jr[10]=1,zr[130]=zr[40]=0,Nr[130]=Nr[40]=1,Dr[130]=Dr[40]=1,Rr[130]=Rr[40]=0,Ar[130]=Ar[40]=1,Or[130]=Or[40]=0,wr[130]=wr[40]=0,xr[130]=xr[40]=-1,_r[130]=_r[40]=0,kr[130]=kr[40]=0,Er[130]=Er[40]=-1,Tr[130]=Tr[40]=1,Mr[37]=Mr[133]=0,Ir[37]=Ir[133]=1,Lr[37]=Lr[133]=1,Hr[37]=Hr[133]=0,Ur[37]=Ur[133]=1,Gr[37]=Gr[133]=0,wr[37]=wr[133]=-1,xr[37]=xr[133]=0,_r[37]=_r[133]=0,kr[37]=kr[133]=1,Er[37]=Er[133]=0,Tr[37]=Tr[133]=0,zr[148]=zr[22]=-1,Nr[148]=Nr[22]=0,Dr[148]=Dr[22]=0,Hr[148]=Hr[22]=0,Ur[148]=Ur[22]=-1,Gr[148]=Gr[22]=1,Fr[148]=Fr[22]=0,Br[148]=Br[22]=1,jr[148]=jr[22]=1,kr[148]=kr[22]=-1,Er[148]=Er[22]=0,Tr[148]=Tr[22]=1,Sr[82]=Sr[88]=0,Cr[82]=Cr[88]=-1,Pr[82]=Pr[88]=1,zr[82]=zr[88]=1,Nr[82]=Nr[88]=0,Dr[82]=Dr[88]=1,Rr[82]=Rr[88]=-1,Ar[82]=Ar[88]=0,Or[82]=Or[88]=1,Fr[82]=Fr[88]=0,Br[82]=Br[88]=-1,jr[82]=jr[88]=0,Sr[73]=Sr[97]=0,Cr[73]=Cr[97]=1,Pr[73]=Pr[97]=0,Mr[73]=Mr[97]=0,Ir[73]=Ir[97]=-1,Lr[73]=Lr[97]=0,Rr[73]=Rr[97]=1,Ar[73]=Ar[97]=0,Or[73]=Or[97]=0,wr[73]=wr[97]=1,xr[73]=xr[97]=0,_r[73]=_r[97]=1,Sr[145]=Sr[25]=0,Cr[145]=Cr[25]=-1,Pr[145]=Pr[25]=0,Rr[145]=Rr[25]=1,Ar[145]=Ar[25]=0,Or[145]=Or[25]=1,Hr[145]=Hr[25]=0,Ur[145]=Ur[25]=1,Gr[145]=Gr[25]=1,kr[145]=kr[25]=-1,Er[145]=Er[25]=0,Tr[145]=Tr[25]=0,Mr[70]=Mr[100]=0,Ir[70]=Ir[100]=1,Lr[70]=Lr[100]=0,zr[70]=zr[100]=-1,Nr[70]=Nr[100]=0,Dr[70]=Dr[100]=1,Fr[70]=Fr[100]=0,Br[70]=Br[100]=-1,jr[70]=jr[100]=1,wr[70]=wr[100]=1,xr[70]=xr[100]=0,_r[70]=_r[100]=0,Mr[101]=Mr[69]=0,Ir[101]=Ir[69]=1,Lr[101]=Lr[69]=0,wr[101]=wr[69]=1,xr[101]=xr[69]=0,_r[101]=_r[69]=0,Hr[149]=Hr[21]=0,Ur[149]=Ur[21]=1,Gr[149]=Gr[21]=1,kr[149]=kr[21]=-1,Er[149]=Er[21]=0,Tr[149]=Tr[21]=0,zr[86]=zr[84]=-1,Nr[86]=Nr[84]=0,Dr[86]=Dr[84]=1,Fr[86]=Fr[84]=0,Br[86]=Br[84]=-1,jr[86]=jr[84]=1,Sr[89]=Sr[81]=0,Cr[89]=Cr[81]=-1,Pr[89]=Pr[81]=0,Rr[89]=Rr[81]=1,Ar[89]=Ar[81]=0,Or[89]=Or[81]=1,Sr[96]=Sr[74]=0,Cr[96]=Cr[74]=1,Pr[96]=Pr[74]=0,Mr[96]=Mr[74]=-1,Ir[96]=Ir[74]=0,Lr[96]=Lr[74]=1,Fr[96]=Fr[74]=1,Br[96]=Br[74]=0,jr[96]=jr[74]=0,wr[96]=wr[74]=1,xr[96]=xr[74]=0,_r[96]=_r[74]=1,Sr[24]=Sr[146]=0,Cr[24]=Cr[146]=-1,Pr[24]=Pr[146]=1,zr[24]=zr[146]=1,Nr[24]=Nr[146]=0,Dr[24]=Dr[146]=1,Rr[24]=Rr[146]=0,Ar[24]=Ar[146]=1,Or[24]=Or[146]=1,kr[24]=kr[146]=0,Er[24]=Er[146]=-1,Tr[24]=Tr[146]=0,Mr[6]=Mr[164]=-1,Ir[6]=Ir[164]=0,Lr[6]=Lr[164]=1,zr[6]=zr[164]=-1,Nr[6]=Nr[164]=0,Dr[6]=Dr[164]=0,Hr[6]=Hr[164]=0,Ur[6]=Ur[164]=-1,Gr[6]=Gr[164]=1,Fr[6]=Fr[164]=1,Br[6]=Br[164]=0,jr[6]=jr[164]=0,Rr[129]=Rr[41]=0,Ar[129]=Ar[41]=1,Or[129]=Or[41]=1,Hr[129]=Hr[41]=0,Ur[129]=Ur[41]=1,Gr[129]=Gr[41]=0,wr[129]=wr[41]=-1,xr[129]=xr[41]=0,_r[129]=_r[41]=0,kr[129]=kr[41]=0,Er[129]=Er[41]=-1,Tr[129]=Tr[41]=0,zr[66]=zr[104]=0,Nr[66]=Nr[104]=1,Dr[66]=Dr[104]=0,Rr[66]=Rr[104]=-1,Ar[66]=Ar[104]=0,Or[66]=Or[104]=1,Fr[66]=Fr[104]=0,Br[66]=Br[104]=-1,jr[66]=jr[104]=0,wr[66]=wr[104]=0,xr[66]=xr[104]=-1,_r[66]=_r[104]=1,Sr[144]=Sr[26]=-1,Cr[144]=Cr[26]=0,Pr[144]=Pr[26]=0,Hr[144]=Hr[26]=1,Ur[144]=Ur[26]=0,Gr[144]=Gr[26]=1,Fr[144]=Fr[26]=0,Br[144]=Br[26]=1,jr[144]=jr[26]=1,kr[144]=kr[26]=-1,Er[144]=Er[26]=0,Tr[144]=Tr[26]=1,Mr[36]=Mr[134]=0,Ir[36]=Ir[134]=1,Lr[36]=Lr[134]=1,zr[36]=zr[134]=0,Nr[36]=Nr[134]=1,Dr[36]=Dr[134]=0,wr[36]=wr[134]=0,xr[36]=xr[134]=-1,_r[36]=_r[134]=1,kr[36]=kr[134]=1,Er[36]=Er[134]=0,Tr[36]=Tr[134]=0,Sr[9]=Sr[161]=-1,Cr[9]=Cr[161]=0,Pr[9]=Pr[161]=0,Mr[9]=Mr[161]=0,Ir[9]=Ir[161]=-1,Lr[9]=Lr[161]=0,Rr[9]=Rr[161]=1,Ar[9]=Ar[161]=0,Or[9]=Or[161]=0,Hr[9]=Hr[161]=1,Ur[9]=Ur[161]=0,Gr[9]=Gr[161]=1,Sr[136]=0,Cr[136]=1,Pr[136]=1,Mr[136]=0,Ir[136]=1,Lr[136]=0,zr[136]=-1,Nr[136]=0,Dr[136]=1,Rr[136]=-1,Ar[136]=0,Or[136]=0,Hr[136]=0,Ur[136]=-1,Gr[136]=0,Fr[136]=0,Br[136]=-1,jr[136]=1,wr[136]=1,xr[136]=0,_r[136]=0,kr[136]=1,Er[136]=0,Tr[136]=1,Sr[34]=0,Cr[34]=-1,Pr[34]=0,Mr[34]=0,Ir[34]=-1,Lr[34]=1,zr[34]=1,Nr[34]=0,Dr[34]=0,Rr[34]=1,Ar[34]=0,Or[34]=1,Hr[34]=0,Ur[34]=1,Gr[34]=1,Fr[34]=0,Br[34]=1,jr[34]=0,wr[34]=-1,xr[34]=0,_r[34]=1,kr[34]=-1,Er[34]=0,Tr[34]=0,Sr[35]=0,Cr[35]=1,Pr[35]=1,Mr[35]=0,Ir[35]=-1,Lr[35]=1,zr[35]=1,Nr[35]=0,Dr[35]=0,Rr[35]=-1,Ar[35]=0,Or[35]=0,Hr[35]=0,Ur[35]=-1,Gr[35]=0,Fr[35]=0,Br[35]=1,jr[35]=0,wr[35]=-1,xr[35]=0,_r[35]=1,kr[35]=1,Er[35]=0,Tr[35]=1,Sr[153]=0,Cr[153]=1,Pr[153]=1,Rr[153]=-1,Ar[153]=0,Or[153]=0,Hr[153]=0,Ur[153]=-1,Gr[153]=0,kr[153]=1,Er[153]=0,Tr[153]=1,Mr[102]=0,Ir[102]=-1,Lr[102]=1,zr[102]=1,Nr[102]=0,Dr[102]=0,Fr[102]=0,Br[102]=1,jr[102]=0,wr[102]=-1,xr[102]=0,_r[102]=1,Sr[155]=0,Cr[155]=-1,Pr[155]=0,Rr[155]=1,Ar[155]=0,Or[155]=1,Hr[155]=0,Ur[155]=1,Gr[155]=1,kr[155]=-1,Er[155]=0,Tr[155]=0,Mr[103]=0,Ir[103]=1,Lr[103]=0,zr[103]=-1,Nr[103]=0,Dr[103]=1,Fr[103]=0,Br[103]=-1,jr[103]=1,wr[103]=1,xr[103]=0,_r[103]=0,Sr[152]=0,Cr[152]=1,Pr[152]=1,zr[152]=-1,Nr[152]=0,Dr[152]=1,Rr[152]=-1,Ar[152]=0,Or[152]=0,Hr[152]=0,Ur[152]=-1,Gr[152]=0,Fr[152]=0,Br[152]=-1,jr[152]=1,kr[152]=1,Er[152]=0,Tr[152]=1,Sr[156]=0,Cr[156]=-1,Pr[156]=1,zr[156]=1,Nr[156]=0,Dr[156]=1,Rr[156]=-1,Ar[156]=0,Or[156]=0,Hr[156]=0,Ur[156]=-1,Gr[156]=0,Fr[156]=0,Br[156]=1,jr[156]=1,kr[156]=-1,Er[156]=0,Tr[156]=1,Sr[137]=0,Cr[137]=1,Pr[137]=1,Mr[137]=0,Ir[137]=1,Lr[137]=0,Rr[137]=-1,Ar[137]=0,Or[137]=0,Hr[137]=0,Ur[137]=-1,Gr[137]=0,wr[137]=1,xr[137]=0,_r[137]=0,kr[137]=1,Er[137]=0,Tr[137]=1,Sr[139]=0,Cr[139]=1,Pr[139]=1,Mr[139]=0,Ir[139]=-1,Lr[139]=0,Rr[139]=1,Ar[139]=0,Or[139]=0,Hr[139]=0,Ur[139]=1,Gr[139]=0,wr[139]=-1,xr[139]=0,_r[139]=0,kr[139]=1,Er[139]=0,Tr[139]=1,Sr[98]=0,Cr[98]=-1,Pr[98]=0,Mr[98]=0,Ir[98]=-1,Lr[98]=1,zr[98]=1,Nr[98]=0,Dr[98]=0,Rr[98]=1,Ar[98]=0,Or[98]=1,Fr[98]=0,Br[98]=1,jr[98]=0,wr[98]=-1,xr[98]=0,_r[98]=1,Sr[99]=0,Cr[99]=1,Pr[99]=0,Mr[99]=0,Ir[99]=-1,Lr[99]=1,zr[99]=1,Nr[99]=0,Dr[99]=0,Rr[99]=-1,Ar[99]=0,Or[99]=1,Fr[99]=0,Br[99]=-1,jr[99]=0,wr[99]=1,xr[99]=0,_r[99]=1,Mr[38]=0,Ir[38]=-1,Lr[38]=1,zr[38]=1,Nr[38]=0,Dr[38]=0,Hr[38]=0,Ur[38]=1,Gr[38]=1,Fr[38]=0,Br[38]=1,jr[38]=0,wr[38]=-1,xr[38]=0,_r[38]=1,kr[38]=-1,Er[38]=0,Tr[38]=0,Mr[39]=0,Ir[39]=1,Lr[39]=1,zr[39]=-1,Nr[39]=0,Dr[39]=0,Hr[39]=0,Ur[39]=-1,Gr[39]=1,Fr[39]=0,Br[39]=1,jr[39]=0,wr[39]=-1,xr[39]=0,_r[39]=1,kr[39]=1,Er[39]=0,Tr[39]=0;var rb=function(e){return[[e.bottomleft,0],[0,0],[0,e.leftbottom]]},ib=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0]]},nb=function(e){return[[e.topright,1],[1,1],[1,e.righttop]]},ob=function(e){return[[0,e.lefttop],[0,1],[e.topleft,1]]},sb=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop]]},ab=function(e){return[[e.bottomright,0],[e.bottomleft,0],[1,e.righttop],[1,e.rightbottom]]},lb=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.topleft,1],[e.topright,1]]},cb=function(e){return[[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},Te=[],_e=[],He=[],Fe=[],Xe=[],Ye=[],qr=[],Wr=[];Fe[1]=Xe[1]=18,Fe[169]=Xe[169]=18,He[4]=_e[4]=12,He[166]=_e[166]=12,Te[16]=Wr[16]=4,Te[154]=Wr[154]=4,Ye[64]=qr[64]=22,Ye[106]=qr[106]=22,He[2]=Ye[2]=17,Fe[2]=Xe[2]=18,He[168]=Ye[168]=17,Fe[168]=Xe[168]=18,Te[8]=Fe[8]=9,_e[8]=He[8]=12,Te[162]=Fe[162]=9,_e[162]=He[162]=12,Te[32]=Wr[32]=4,_e[32]=qr[32]=1,Te[138]=Wr[138]=4,_e[138]=qr[138]=1,Xe[128]=Wr[128]=21,Ye[128]=qr[128]=22,Xe[42]=Wr[42]=21,Ye[42]=qr[42]=22,_e[5]=Xe[5]=14,_e[165]=Xe[165]=14,He[20]=Wr[20]=6,He[150]=Wr[150]=6,Te[80]=Ye[80]=11,Te[90]=Ye[90]=11,Fe[65]=qr[65]=3,Fe[105]=qr[105]=3,Te[160]=Ye[160]=11,_e[160]=Xe[160]=14,Te[10]=Ye[10]=11,_e[10]=Xe[10]=14,He[130]=Wr[130]=6,Fe[130]=qr[130]=3,He[40]=Wr[40]=6,Fe[40]=qr[40]=3,_e[101]=qr[101]=1,_e[69]=qr[69]=1,Xe[149]=Wr[149]=21,Xe[21]=Wr[21]=21,He[86]=Ye[86]=17,He[84]=Ye[84]=17,Te[89]=Fe[89]=9,Te[81]=Fe[81]=9,Te[96]=qr[96]=0,_e[96]=Ye[96]=15,Te[74]=qr[74]=0,_e[74]=Ye[74]=15,Te[24]=He[24]=8,Fe[24]=Wr[24]=7,Te[146]=He[146]=8,Fe[146]=Wr[146]=7,_e[6]=Ye[6]=15,He[6]=Xe[6]=16,_e[164]=Ye[164]=15,He[164]=Xe[164]=16,Fe[129]=Wr[129]=7,Xe[129]=qr[129]=20,Fe[41]=Wr[41]=7,Xe[41]=qr[41]=20,He[66]=qr[66]=2,Fe[66]=Ye[66]=19,He[104]=qr[104]=2,Fe[104]=Ye[104]=19,Te[144]=Xe[144]=10,Ye[144]=Wr[144]=23,Te[26]=Xe[26]=10,Ye[26]=Wr[26]=23,_e[36]=Wr[36]=5,He[36]=qr[36]=2,_e[134]=Wr[134]=5,He[134]=qr[134]=2,Te[9]=Xe[9]=10,_e[9]=Fe[9]=13,Te[161]=Xe[161]=10,_e[161]=Fe[161]=13,_e[37]=Wr[37]=5,Xe[37]=qr[37]=20,_e[133]=Wr[133]=5,Xe[133]=qr[133]=20,He[148]=Xe[148]=16,Ye[148]=Wr[148]=23,He[22]=Xe[22]=16,Ye[22]=Wr[22]=23,Te[82]=He[82]=8,Fe[82]=Ye[82]=19,Te[88]=He[88]=8,Fe[88]=Ye[88]=19,Te[73]=qr[73]=0,_e[73]=Fe[73]=13,Te[97]=qr[97]=0,_e[97]=Fe[97]=13,Te[145]=Fe[145]=9,Xe[145]=Wr[145]=21,Te[25]=Fe[25]=9,Xe[25]=Wr[25]=21,_e[70]=qr[70]=1,He[70]=Ye[70]=17,_e[100]=qr[100]=1,He[100]=Ye[100]=17,Te[34]=Fe[34]=9,_e[34]=He[34]=12,Xe[34]=Wr[34]=21,Ye[34]=qr[34]=22,Te[136]=Wr[136]=4,_e[136]=qr[136]=1,He[136]=Ye[136]=17,Fe[136]=Xe[136]=18,Te[35]=Wr[35]=4,_e[35]=He[35]=12,Fe[35]=Xe[35]=18,Ye[35]=qr[35]=22,Te[153]=Wr[153]=4,Fe[153]=Xe[153]=18,_e[102]=He[102]=12,Ye[102]=qr[102]=22,Te[155]=Fe[155]=9,Xe[155]=Wr[155]=23,_e[103]=qr[103]=1,He[103]=Ye[103]=17,Te[152]=Wr[152]=4,He[152]=Ye[152]=17,Fe[152]=Xe[152]=18,Te[156]=He[156]=8,Fe[156]=Xe[156]=18,Ye[156]=Wr[156]=23,Te[137]=Wr[137]=4,_e[137]=qr[137]=1,Fe[137]=Xe[137]=18,Te[139]=Wr[139]=4,_e[139]=Fe[139]=13,Xe[139]=qr[139]=20,Te[98]=Fe[98]=9,_e[98]=He[98]=12,Ye[98]=qr[98]=22,Te[99]=qr[99]=0,_e[99]=He[99]=12,Fe[99]=Ye[99]=19,_e[38]=He[38]=12,Xe[38]=Wr[38]=21,Ye[38]=qr[38]=22,_e[39]=Wr[39]=5,He[39]=Xe[39]=16,Ye[39]=qr[39]=22;var me=[];function et(e,i,s){return(e-i)/(s-i)}function ub(e){return e.constructor.toString().indexOf("Array")>-1}function gM(e,i,s,a,c,h){for(var g=e.cells[s][i],y=g.cval_real,w=i+a,x=s+c,T=[],E=!1;!E;){if(e.cells[x]===void 0||e.cells[x][w]===void 0)if(x-=c,w-=a,y=(g=e.cells[x][w]).cval_real,c===-1)if(h===0)if(1&y)T.push([w,x]),a=-1,c=0,h=0;else{if(!(4&y)){T.push([w+g.bottomright,x]),a=0,c=1,h=1,E=!0;break}T.push([w+1,x]),a=1,c=0,h=0}else{if(!(1&y)){if(4&y){T.push([w+g.bottomright,x]),a=0,c=1,h=1,E=!0;break}T.push([w+g.bottomleft,x]),a=0,c=1,h=0,E=!0;break}T.push([w,x]),a=-1,c=0,h=0}else if(c===1)if(h===0){if(!(y&oa)){if(y&Vn){T.push([w+g.topleft,x+1]),a=0,c=-1,h=0,E=!0;break}T.push([w+g.topright,x+1]),a=0,c=-1,h=1,E=!0;break}T.push([w+1,x+1]),a=1,c=0,h=1}else T.push([w+1,x+1]),a=1,c=0,h=1;else if(a===-1)if(h===0){if(!(y&Vn)){if(1&y){T.push([w,x+g.leftbottom]),a=1,c=0,h=0,E=!0;break}T.push([w,x+g.lefttop]),a=1,c=0,h=1,E=!0;break}T.push([w,x+1]),a=0,c=1,h=0}else{if(!(y&Vn)){console.log("MarchingSquaresJS-isoBands: wtf");break}T.push([w,x+1]),a=0,c=1,h=0}else{if(a!==1){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(h===0){if(!(4&y)){T.push([w+1,x+g.rightbottom]),a=-1,c=0,h=0,E=!0;break}T.push([w+1,x]),a=0,c=-1,h=1}else{if(!(4&y)){if(y&oa){T.push([w+1,x+g.righttop]),a=-1,c=0,h=1;break}T.push([w+1,x+g.rightbottom]),a=-1,c=0,h=0,E=!0;break}T.push([w+1,x]),a=0,c=-1,h=1}}else if(y=(g=e.cells[x][w]).cval_real,a===-1)if(h===0)if(e.cells[x-1]!==void 0&&e.cells[x-1][w]!==void 0)a=0,c=-1,h=1;else{if(!(1&y)){T.push([w+g.bottomright,x]),a=0,c=1,h=1,E=!0;break}T.push([w,x])}else{if(!(y&Vn)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+w+","+x);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(a===1){if(h===0){console.log("MarchingSquaresJS-isoBands: wtf");break}if(e.cells[x+1]!==void 0&&e.cells[x+1][w]!==void 0)a=0,c=1,h=0;else{if(!(y&oa)){T.push([w+g.topleft,x+1]),a=0,c=-1,h=0,E=!0;break}T.push([w+1,x+1]),a=1,c=0,h=1}}else if(c===-1){if(h!==1){console.log("MarchingSquaresJS-isoBands: wtf");break}if(e.cells[x][w+1]!==void 0)a=1,c=0,h=1;else{if(!(4&y)){T.push([w+1,x+g.righttop]),a=-1,c=0,h=1,E=!0;break}T.push([w+1,x]),a=0,c=-1,h=1}}else{if(c!==1){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(h!==0){console.log("MarchingSquaresJS-isoBands: wtf");break}if(e.cells[x][w-1]!==void 0)a=-1,c=0,h=0;else{if(!(y&Vn)){T.push([w,x+g.leftbottom]),a=1,c=0,h=0,E=!0;break}T.push([w,x+1]),a=0,c=1,h=0}}if(x+=c,(w+=a)===i&&x===s)break}return{path:T,i:w,j:x,x:a,y:c,o:h}}function mM(e){if(e.edges.length>0){var i=e.edges[e.edges.length-1],s=e.cval_real;switch(i){case 0:return s&oa?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.topleft,1],x:0,y:-1,o:0};case 1:return 4&s?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 2:return 4&s?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[e.topleft,1],x:0,y:-1,o:0};case 3:return 1&s?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 4:return s&oa?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};case 5:return 4&s?{p:[e.topright,1],x:0,y:-1,o:1}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 6:return 4&s?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};case 7:return 1&s?{p:[e.topright,1],x:0,y:-1,o:1}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 8:return 4&s?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[1,e.righttop],x:-1,y:0,o:1};case 9:return 1&s?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 10:return 1&s?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[1,e.righttop],x:-1,y:0,o:1};case 11:return s&Vn?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[0,e.lefttop],x:1,y:0,o:1};case 12:return 4&s?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 13:return 1&s?{p:[1,e.rightbottom],x:-1,y:0,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 14:return 1&s?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 15:return s&Vn?{p:[1,e.rightbottom],x:-1,y:0,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 16:return 4&s?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[0,e.leftbottom],x:1,y:0,o:0};case 17:return s&Vn?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[0,e.lefttop],x:1,y:0,o:1};case 18:return 1&s?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 19:return s&Vn?{p:[e.bottomleft,0],x:0,y:1,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 20:return s&Vn?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[0,e.leftbottom],x:1,y:0,o:0};case 21:return s&oa?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[e.topright,1],x:0,y:-1,o:1};case 22:return s&Vn?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 23:return s&oa?{p:[0,e.lefttop],x:1,y:0,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(e)}}return null}function vM(e,i,s,a){var c,h,g,y,w,x=e.cval;switch(i){case-1:switch(a){case 0:c=_e[x],g=Mr[x],y=Ir[x],w=Lr[x];break;default:c=Te[x],g=Sr[x],y=Cr[x],w=Pr[x]}break;case 1:switch(a){case 0:c=Xe[x],g=Hr[x],y=Ur[x],w=Gr[x];break;default:c=Ye[x],g=Fr[x],y=Br[x],w=jr[x]}break;default:switch(s){case-1:switch(a){case 0:c=qr[x],g=wr[x],y=xr[x],w=_r[x];break;default:c=Wr[x],g=kr[x],y=Er[x],w=Tr[x]}break;case 1:switch(a){case 0:c=Fe[x],g=Rr[x],y=Ar[x],w=Or[x];break;default:c=He[x],g=zr[x],y=Nr[x],w=Dr[x]}}}if(h=e.edges.indexOf(c),e.edges[h]===void 0)return null;switch(function(T,E){delete T.edges[E];for(var P=E+1;P<T.edges.length;P++)T.edges[P-1]=T.edges[P];T.edges.pop()}(e,h),x=e.cval_real,c){case 0:x&oa?(i=e.topleft,s=1):(i=1,s=e.righttop);break;case 1:4&x?(i=1,s=e.rightbottom):(i=e.topleft,s=1);break;case 2:4&x?(i=e.topleft,s=1):(i=e.bottomright,s=0);break;case 3:1&x?(i=e.bottomleft,s=0):(i=e.topleft,s=1);break;case 4:x&oa?(i=e.topright,s=1):(i=1,s=e.righttop);break;case 5:4&x?(i=1,s=e.rightbottom):(i=e.topright,s=1);break;case 6:4&x?(i=e.topright,s=1):(i=e.bottomright,s=0);break;case 7:1&x?(i=e.bottomleft,s=0):(i=e.topright,s=1);break;case 8:4&x?(i=1,s=e.righttop):(i=e.bottomright,s=0);break;case 9:1&x?(i=e.bottomleft,s=0):(i=1,s=e.righttop);break;case 10:1&x?(i=1,s=e.righttop):(i=0,s=e.leftbottom);break;case 11:x&Vn?(i=0,s=e.lefttop):(i=1,s=e.righttop);break;case 12:4&x?(i=1,s=e.rightbottom):(i=e.bottomright,s=0);break;case 13:1&x?(i=e.bottomleft,s=0):(i=1,s=e.rightbottom);break;case 14:1&x?(i=1,s=e.rightbottom):(i=0,s=e.leftbottom);break;case 15:x&Vn?(i=0,s=e.lefttop):(i=1,s=e.rightbottom);break;case 16:4&x?(i=0,s=e.leftbottom):(i=e.bottomright,s=0);break;case 17:x&Vn?(i=0,s=e.lefttop):(i=e.bottomright,s=0);break;case 18:1&x?(i=e.bottomleft,s=0):(i=0,s=e.leftbottom);break;case 19:x&Vn?(i=0,s=e.lefttop):(i=e.bottomleft,s=0);break;case 20:x&Vn?(i=0,s=e.leftbottom):(i=e.topleft,s=1);break;case 21:x&oa?(i=e.topright,s=1):(i=0,s=e.leftbottom);break;case 22:x&Vn?(i=0,s=e.lefttop):(i=e.topleft,s=1);break;case 23:x&oa?(i=e.topright,s=1):(i=0,s=e.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(e),null}return i!==void 0&&s!==void 0&&g!==void 0&&y!==void 0&&w!==void 0||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(e),console.log(i+" "+s+" "+g+" "+y+" "+w)),{p:[i,s],x:g,y,o:w}}function yM(e){var i=[],s=[];e.forEach(function(c){var h=Zh(v([c]));s.push(h),i.push({ring:c,area:h})}),s.sort(function(c,h){return h-c});var a=[];return s.forEach(function(c){for(var h=0;h<i.length;h++)if(i[h].area===c){a.push(i[h].ring),i.splice(h,1);break}}),a}function bM(e){for(var i=e.map(function(y){return{lrCoordinates:y,grouped:!1}}),s=[];!xM(i);)for(var a=0;a<i.length;a++)if(!i[a].grouped){var c=[];c.push(i[a].lrCoordinates),i[a].grouped=!0;for(var h=v([i[a].lrCoordinates]),g=a+1;g<i.length;g++)i[g].grouped||wM(v([i[g].lrCoordinates]),h)&&(c.push(i[g].lrCoordinates),i[g].grouped=!0);s.push(c)}return s}function wM(e,i){for(var s=Su(e),a=0;a<s.features.length;a++)if(!$e(s.features[a],i))return!1;return!0}function xM(e){for(var i=0;i<e.length;i++)if(e[i].grouped===!1)return!1;return!0}function Jx(e,i,s){if(!mt(s=s||{}))throw new Error("options is invalid");var a=s.pivot,c=s.mutate;if(!e)throw new Error("geojson is required");if(i==null||isNaN(i))throw new Error("angle is required");return i===0||(a||(a=$s(e)),c!==!1&&c!==void 0||(e=Pi(e)),Bt(e,function(h){var g=Ll(a,h)+i,y=Cl(a,h),w=Y(td(a,y,g));h[0]=w[0],h[1]=w[1]})),e}function Qx(e,i,s){if(!mt(s=s||{}))throw new Error("options is invalid");var a=s.origin,c=s.mutate;if(!e)throw new Error("geojson required");if(typeof i!="number"||i===0)throw new Error("invalid factor");var h=Array.isArray(a)||typeof a=="object";return c!==!0&&(e=Pi(e)),e.type!=="FeatureCollection"||h?$x(e,i,a):(Et(e,function(g,y){e.features[y]=$x(g,i,a)}),e)}function $x(e,i,s){var a=te(e)==="Point";return s=function(c,h){if(h==null&&(h="centroid"),Array.isArray(h)||typeof h=="object")return O(h);var g=c.bbox?c.bbox:vt(c),y=g[0],w=g[1],x=g[2],T=g[3];switch(h){case"sw":case"southwest":case"westsouth":case"bottomleft":return f([y,w]);case"se":case"southeast":case"eastsouth":case"bottomright":return f([x,w]);case"nw":case"northwest":case"westnorth":case"topleft":return f([y,T]);case"ne":case"northeast":case"eastnorth":case"topright":return f([x,T]);case"center":return Qo(c);case void 0:case null:case"centroid":return $s(c);default:throw new Error("invalid origin")}}(e,s),i===1||a||Bt(e,function(c){var h=Cl(s,c),g=Ll(s,c),y=Y(td(s,h*i,g));c[0]=y[0],c[1]=y[1],c.length===3&&(c[2]*=i)}),e}function jm(e){var i=e[0],s=e[1];return[s[0]-i[0],s[1]-i[1]]}function hb(e,i){return e[0]*i[1]-i[0]*e[1]}function _M(e,i){return!function(s,a){return hb(jm(s),jm(a))===0}(e,i)&&function(s,a){var c,h,g=s[0],y=jm(s),w=a[0],x=jm(a),T=hb(y,x);return function(E,P){return[E[0]+P[0],E[1]+P[1]]}(g,function(E,P){return[E*P[0],E*P[1]]}(hb((h=g,[(c=w)[0]-h[0],c[1]-h[1]]),x)/T,y))}(e,i)}function t_(e,i,s){var a=[],c=ot(i,s),h=Y(e),g=[];return h.forEach(function(y,w){if(w!==h.length-1){var x=(P=y,z=h[w+1],N=c,B=Math.sqrt((P[0]-z[0])*(P[0]-z[0])+(P[1]-z[1])*(P[1]-z[1])),I=P[0]+N*(z[1]-P[1])/B,W=z[0]+N*(z[1]-P[1])/B,it=P[1]+N*(P[0]-z[0])/B,D=z[1]+N*(P[0]-z[0])/B,[[I,it],[W,D]]);if(a.push(x),w>0){var T=a[w-1],E=_M(x,T);E!==!1&&(T[1]=E,x[0]=E),g.push(T[0]),w===h.length-2&&(g.push(x[0]),g.push(x[1]))}h.length===2&&(g.push(x[0]),g.push(x[1]))}var P,z,N,B,I,W,it,D}),k(g,e.properties)}function db(e,i,s){var a=i[0]-e[0],c=i[1]-e[1],h=s[0]-i[0];return function(g){return(g>0)-(g<0)||+g}(a*(s[1]-i[1])-h*c)}function e_(e,i){return i.geometry.coordinates[0].every(function(s){return $e(f(s),e)})}me[1]=me[169]=rb,me[4]=me[166]=ib,me[16]=me[154]=nb,me[64]=me[106]=ob,me[168]=me[2]=sb,me[162]=me[8]=ab,me[138]=me[32]=lb,me[42]=me[128]=cb,me[5]=me[165]=function(e){return[[0,0],[0,e.leftbottom],[1,e.rightbottom],[1,0]]},me[20]=me[150]=function(e){return[[1,0],[e.bottomright,0],[e.topright,1],[1,1]]},me[80]=me[90]=function(e){return[[1,1],[1,e.righttop],[0,e.lefttop],[0,1]]},me[65]=me[105]=function(e){return[[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},me[160]=me[10]=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.leftbottom],[0,e.lefttop]]},me[130]=me[40]=function(e){return[[e.topleft,1],[e.topright,1],[e.bottomright,0],[e.bottomleft,0]]},me[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},me[101]=me[69]=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,1],[e.topleft,1]]},me[149]=me[21]=function(e){return[[e.topright,1],[1,1],[1,0],[0,0],[0,e.leftbottom]]},me[86]=me[84]=function(e){return[[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[1,1]]},me[89]=me[81]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,1]]},me[96]=me[74]=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.lefttop],[0,1],[e.topleft,1]]},me[24]=me[146]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[e.topright,1]]},me[6]=me[164]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop]]},me[129]=me[41]=function(e){return[[e.topright,1],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1]]},me[66]=me[104]=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},me[144]=me[26]=function(e){return[[1,1],[1,e.righttop],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},me[36]=me[134]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[e.topleft,1],[e.topright,1]]},me[9]=me[161]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom]]},me[37]=me[133]=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},me[148]=me[22]=function(e){return[[1,1],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},me[82]=me[88]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1]]},me[73]=me[97]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},me[145]=me[25]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},me[70]=me[100]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},me[34]=function(e){return[cb(e),ab(e)]},me[35]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},me[136]=function(e){return[lb(e),sb(e)]},me[153]=function(e){return[nb(e),rb(e)]},me[102]=function(e){return[ib(e),ob(e)]},me[155]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},me[103]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},me[152]=function(e){return[nb(e),sb(e)]},me[156]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},me[137]=function(e){return[lb(e),rb(e)]},me[139]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},me[98]=function(e){return[ab(e),ob(e)]},me[99]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},me[38]=function(e){return[ib(e),cb(e)]},me[39]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]};var r_=function(){function e(i){this.id=e.buildId(i),this.coordinates=i,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return e.buildId=function(i){return i.join(",")},e.prototype.removeInnerEdge=function(i){this.innerEdges=this.innerEdges.filter(function(s){return s.from.id!==i.from.id})},e.prototype.removeOuterEdge=function(i){this.outerEdges=this.outerEdges.filter(function(s){return s.to.id!==i.to.id})},e.prototype.addOuterEdge=function(i){this.outerEdges.push(i),this.outerEdgesSorted=!1},e.prototype.sortOuterEdges=function(){var i=this;this.outerEdgesSorted||(this.outerEdges.sort(function(s,a){var c=s.to,h=a.to;if(c.coordinates[0]-i.coordinates[0]>=0&&h.coordinates[0]-i.coordinates[0]<0)return 1;if(c.coordinates[0]-i.coordinates[0]<0&&h.coordinates[0]-i.coordinates[0]>=0)return-1;if(c.coordinates[0]-i.coordinates[0]==0&&h.coordinates[0]-i.coordinates[0]==0)return c.coordinates[1]-i.coordinates[1]>=0||h.coordinates[1]-i.coordinates[1]>=0?c.coordinates[1]-h.coordinates[1]:h.coordinates[1]-c.coordinates[1];var g=db(i.coordinates,c.coordinates,h.coordinates);return g<0?1:g>0?-1:Math.pow(c.coordinates[0]-i.coordinates[0],2)+Math.pow(c.coordinates[1]-i.coordinates[1],2)-(Math.pow(h.coordinates[0]-i.coordinates[0],2)+Math.pow(h.coordinates[1]-i.coordinates[1],2))}),this.outerEdgesSorted=!0)},e.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},e.prototype.getOuterEdge=function(i){return this.sortOuterEdges(),this.outerEdges[i]},e.prototype.addInnerEdge=function(i){this.innerEdges.push(i)},e}(),kM=function(){function e(i,s){this.from=i,this.to=s,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return e.prototype.getSymetric=function(){return this.symetric||(this.symetric=new e(this.to,this.from),this.symetric.symetric=this),this.symetric},e.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},e.prototype.isEqual=function(i){return this.from.id===i.from.id&&this.to.id===i.to.id},e.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},e.prototype.toLineString=function(){return k([this.from.coordinates,this.to.coordinates])},e.prototype.compareTo=function(i){return db(i.from.coordinates,i.to.coordinates,this.to.coordinates)},e}(),i_=function(){function e(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return e.prototype.push=function(i){this.edges.push(i),this.polygon=this.envelope=void 0},e.prototype.get=function(i){return this.edges[i]},Object.defineProperty(e.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),e.prototype.forEach=function(i){this.edges.forEach(i)},e.prototype.map=function(i){return this.edges.map(i)},e.prototype.some=function(i){return this.edges.some(i)},e.prototype.isValid=function(){return!0},e.prototype.isHole=function(){var i=this,s=this.edges.reduce(function(g,y,w){return y.from.coordinates[1]>i.edges[g].from.coordinates[1]&&(g=w),g},0),a=(s===0?this.length:s)-1,c=(s+1)%this.length,h=db(this.edges[a].from.coordinates,this.edges[s].from.coordinates,this.edges[c].from.coordinates);return h===0?this.edges[a].from.coordinates[0]>this.edges[c].from.coordinates[0]:h>0},e.prototype.toMultiPoint=function(){return F(this.edges.map(function(i){return i.from.coordinates}))},e.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var i=this.edges.map(function(s){return s.from.coordinates});return i.push(this.edges[0].from.coordinates),this.polygon=v([i])},e.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=zh(this.toPolygon())},e.findEdgeRingContaining=function(i,s){var a,c,h=i.getEnvelope();return s.forEach(function(g){var y,w,x,T,E,P,z=g.getEnvelope();if(c&&(a=c.getEnvelope()),w=h,x=(y=z).geometry.coordinates[0].map(function(D){return D[0]}),T=y.geometry.coordinates[0].map(function(D){return D[1]}),E=w.geometry.coordinates[0].map(function(D){return D[0]}),P=w.geometry.coordinates[0].map(function(D){return D[1]}),(Math.max.apply(null,x)!==Math.max.apply(null,E)||Math.max.apply(null,T)!==Math.max.apply(null,P)||Math.min.apply(null,x)!==Math.min.apply(null,E)||Math.min.apply(null,T)!==Math.min.apply(null,P))&&e_(z,h)){for(var N=i.map(function(D){return D.from.coordinates}),B=void 0,I=function(D){g.some(function(q){return X=D,tt=q.from.coordinates,X[0]===tt[0]&&X[1]===tt[1];var X,tt})||(B=D)},W=0,it=N;W<it.length;W++)I(it[W]);B&&g.inside(f(B))&&(c&&!e_(a,z)||(c=g))}}),c},e.prototype.inside=function(i){return $e(i,this.toPolygon())},e}(),EM=function(){function e(){this.edges=[],this.nodes={}}return e.fromGeoJson=function(i){(function(a){if(!a)throw new Error("No geojson passed");if(a.type!=="FeatureCollection"&&a.type!=="GeometryCollection"&&a.type!=="MultiLineString"&&a.type!=="LineString"&&a.type!=="Feature")throw new Error("Invalid input type '"+a.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")})(i);var s=new e;return le(i,function(a){wt(a,"LineString","Graph::fromGeoJson"),pe(a,function(c,h){if(c){var g=s.getNode(c),y=s.getNode(h);s.addEdge(g,y)}return h})}),s},e.prototype.getNode=function(i){var s=r_.buildId(i),a=this.nodes[s];return a||(a=this.nodes[s]=new r_(i)),a},e.prototype.addEdge=function(i,s){var a=new kM(i,s),c=a.getSymetric();this.edges.push(a),this.edges.push(c)},e.prototype.deleteDangles=function(){var i=this;Object.keys(this.nodes).map(function(s){return i.nodes[s]}).forEach(function(s){return i._removeIfDangle(s)})},e.prototype._removeIfDangle=function(i){var s=this;if(i.innerEdges.length<=1){var a=i.getOuterEdges().map(function(c){return c.to});this.removeNode(i),a.forEach(function(c){return s._removeIfDangle(c)})}},e.prototype.deleteCutEdges=function(){var i=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(s){s.label===s.symetric.label&&(i.removeEdge(s.symetric),i.removeEdge(s))})},e.prototype._computeNextCWEdges=function(i){var s=this;i===void 0?Object.keys(this.nodes).forEach(function(a){return s._computeNextCWEdges(s.nodes[a])}):i.getOuterEdges().forEach(function(a,c){i.getOuterEdge((c===0?i.getOuterEdges().length:c)-1).symetric.next=a})},e.prototype._computeNextCCWEdges=function(i,s){for(var a,c,h=i.getOuterEdges(),g=h.length-1;g>=0;--g){var y=h[g],w=y.symetric,x=void 0,T=void 0;y.label===s&&(x=y),w.label===s&&(T=w),x&&T&&(T&&(c=T),x&&(c&&(c.next=x,c=void 0),a||(a=x)))}c&&(c.next=a)},e.prototype._findLabeledEdgeRings=function(){var i=[],s=0;return this.edges.forEach(function(a){if(!(a.label>=0)){i.push(a);var c=a;do c.label=s,c=c.next;while(!a.isEqual(c));s++}}),i},e.prototype.getEdgeRings=function(){var i=this;this._computeNextCWEdges(),this.edges.forEach(function(a){a.label=void 0}),this._findLabeledEdgeRings().forEach(function(a){i._findIntersectionNodes(a).forEach(function(c){i._computeNextCCWEdges(c,a.label)})});var s=[];return this.edges.forEach(function(a){a.ring||s.push(i._findEdgeRing(a))}),s},e.prototype._findIntersectionNodes=function(i){var s=[],a=i,c=function(){var h=0;a.from.getOuterEdges().forEach(function(g){g.label===i.label&&++h}),h>1&&s.push(a.from),a=a.next};do c();while(!i.isEqual(a));return s},e.prototype._findEdgeRing=function(i){var s=i,a=new i_;do a.push(s),s.ring=a,s=s.next;while(!i.isEqual(s));return a},e.prototype.removeNode=function(i){var s=this;i.getOuterEdges().forEach(function(a){return s.removeEdge(a)}),i.innerEdges.forEach(function(a){return s.removeEdge(a)}),delete this.nodes[i.id]},e.prototype.removeEdge=function(i){this.edges=this.edges.filter(function(s){return!s.isEqual(i)}),i.deleteEdge()},e}();function n_(e,i){var s=!0;return le(e,function(a){le(i,function(c){if(s===!1)return!1;s=function(h,g){switch(h.type){case"Point":switch(g.type){case"Point":return y=h.coordinates,w=g.coordinates,!(y[0]===w[0]&&y[1]===w[1]);case"LineString":return!o_(g,h);case"Polygon":return!$e(h,g)}break;case"LineString":switch(g.type){case"Point":return!o_(h,g);case"LineString":return!function(x,T){return un(x,T).features.length>0}(h,g);case"Polygon":return!s_(g,h)}break;case"Polygon":switch(g.type){case"Point":return!$e(g,h);case"LineString":return!s_(h,g);case"Polygon":return!function(x,T){for(var E=0,P=x.coordinates[0];E<P.length;E++)if($e(P[E],T))return!0;for(var z=0,N=T.coordinates[0];z<N.length;z++)if($e(N[z],x))return!0;return un(Ln(x),Ln(T)).features.length>0}(g,h)}}var y,w;return!1}(a.geometry,c.geometry)})}),s}function o_(e,i){for(var s=0;s<e.coordinates.length-1;s++)if(TM(e.coordinates[s],e.coordinates[s+1],i.coordinates))return!0;return!1}function s_(e,i){for(var s=0,a=i.coordinates;s<a.length;s++)if($e(a[s],e))return!0;return un(i,Ln(e)).features.length>0}function TM(e,i,s){var a=s[0]-e[0],c=s[1]-e[1],h=i[0]-e[0],g=i[1]-e[1];return a*g-c*h==0&&(Math.abs(h)>=Math.abs(g)?h>0?e[0]<=s[0]&&s[0]<=i[0]:i[0]<=s[0]&&s[0]<=e[0]:g>0?e[1]<=s[1]&&s[1]<=i[1]:i[1]<=s[1]&&s[1]<=e[1])}function a_(e,i){return!(e[0]>i[0])&&!(e[2]<i[2])&&!(e[1]>i[1])&&!(e[3]<i[3])}function pb(e,i){return e[0]===i[0]&&e[1]===i[1]}function SM(e,i){return[(e[0]+i[0])/2,(e[1]+i[1])/2]}function l_(e,i){for(var s=!1,a=!1,c=e.coordinates.length,h=0;h<c&&!s&&!a;){for(var g=0;g<i.coordinates.length-1;g++){var y=!0;g!==0&&g!==i.coordinates.length-2||(y=!1),h_(i.coordinates[g],i.coordinates[g+1],e.coordinates[h],y)?s=!0:a=!0}h++}return s&&a}function c_(e,i){return un(e,qn(i)).features.length>0}function u_(e,i){for(var s=!1,a=!1,c=e.coordinates.length,h=0;h<c&&(!s||!a);h++)$e(f(e.coordinates[h]),i)?s=!0:a=!0;return a&&s}function h_(e,i,s,a){var c=s[0]-e[0],h=s[1]-e[1],g=i[0]-e[0],y=i[1]-e[1];return c*y-h*g==0&&(a?Math.abs(g)>=Math.abs(y)?g>0?e[0]<=s[0]&&s[0]<=i[0]:i[0]<=s[0]&&s[0]<=e[0]:y>0?e[1]<=s[1]&&s[1]<=i[1]:i[1]<=s[1]&&s[1]<=e[1]:Math.abs(g)>=Math.abs(y)?g>0?e[0]<s[0]&&s[0]<i[0]:i[0]<s[0]&&s[0]<e[0]:y>0?e[1]<s[1]&&s[1]<i[1]:i[1]<s[1]&&s[1]<e[1])}var Ba=function(e){this.precision=e&&e.precision?e.precision:17,this.direction=!(!e||!e.direction)&&e.direction,this.pseudoNode=!(!e||!e.pseudoNode)&&e.pseudoNode,this.objectComparator=e&&e.objectComparator?e.objectComparator:CM};function d_(e){return e.coordinates.map(function(i){return{type:e.type.replace("Multi",""),coordinates:i}})}function p_(e,i){return e.hasOwnProperty("coordinates")?e.coordinates.length===i.coordinates.length:e.length===i.length}function CM(e,i){return Sc(e,i,{strict:!0})}Ba.prototype.compare=function(e,i){if(e.type!==i.type||!p_(e,i))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,i.coordinates);case"LineString":return this.compareLine(e.coordinates,i.coordinates,0,!1);case"Polygon":return this.comparePolygon(e,i);case"Feature":return this.compareFeature(e,i);default:if(e.type.indexOf("Multi")===0){var s=this,a=d_(e),c=d_(i);return a.every(function(h){return this.some(function(g){return s.compare(h,g)})},c)}}return!1},Ba.prototype.compareCoord=function(e,i){if(e.length!==i.length)return!1;for(var s=0;s<e.length;s++)if(e[s].toFixed(this.precision)!==i[s].toFixed(this.precision))return!1;return!0},Ba.prototype.compareLine=function(e,i,s,a){if(!p_(e,i))return!1;var c=this.pseudoNode?e:this.removePseudo(e),h=this.pseudoNode?i:this.removePseudo(i);if(!a||this.compareCoord(c[0],h[0])||(h=this.fixStartIndex(h,c))){var g=this.compareCoord(c[s],h[s]);return this.direction||g?this.comparePath(c,h):!!this.compareCoord(c[s],h[h.length-(1+s)])&&this.comparePath(c.slice().reverse(),h)}},Ba.prototype.fixStartIndex=function(e,i){for(var s,a=-1,c=0;c<e.length;c++)if(this.compareCoord(e[c],i[0])){a=c;break}return a>=0&&(s=[].concat(e.slice(a,e.length),e.slice(1,a+1))),s},Ba.prototype.comparePath=function(e,i){var s=this;return e.every(function(a,c){return s.compareCoord(a,this[c])},i)},Ba.prototype.comparePolygon=function(e,i){if(this.compareLine(e.coordinates[0],i.coordinates[0],1,!0)){var s=e.coordinates.slice(1,e.coordinates.length),a=i.coordinates.slice(1,i.coordinates.length),c=this;return s.every(function(h){return this.some(function(g){return c.compareLine(h,g,1,!0)})},a)}return!1},Ba.prototype.compareFeature=function(e,i){return!(e.id!==i.id||!this.objectComparator(e.properties,i.properties)||!this.compareBBox(e,i))&&this.compare(e.geometry,i.geometry)},Ba.prototype.compareBBox=function(e,i){return!!(!e.bbox&&!i.bbox||e.bbox&&i.bbox&&this.compareCoord(e.bbox,i.bbox))},Ba.prototype.removePseudo=function(e){return e};var f_=Ba;function g_(e,i){var s=!1;return le(e,function(a){le(i,function(c){if(s===!0)return!0;s=!n_(a.geometry,c.geometry)})}),s}var PM=Ko(function(e){function i(s,a,c,h){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(s,a,c,h)}i.prototype.run=function(s,a,c,h){this._init(s,a,c,h);for(var g=0;g<this._datasetLength;g++)if(this._visited[g]!==1){this._visited[g]=1;var y=this._regionQuery(g);if(y.length<this.minPts)this.noise.push(g);else{var w=this.clusters.length;this.clusters.push([]),this._addToCluster(g,w),this._expandCluster(w,y)}}return this.clusters},i.prototype._init=function(s,a,c,h){if(s){if(!(s instanceof Array))throw Error("Dataset must be of type array, "+typeof s+" given");this.dataset=s,this.clusters=[],this.noise=[],this._datasetLength=s.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}a&&(this.epsilon=a),c&&(this.minPts=c),h&&(this.distance=h)},i.prototype._expandCluster=function(s,a){for(var c=0;c<a.length;c++){var h=a[c];if(this._visited[h]!==1){this._visited[h]=1;var g=this._regionQuery(h);g.length>=this.minPts&&(a=this._mergeArrays(a,g))}this._assigned[h]!==1&&this._addToCluster(h,s)}},i.prototype._addToCluster=function(s,a){this.clusters[a].push(s),this._assigned[s]=1},i.prototype._regionQuery=function(s){for(var a=[],c=0;c<this._datasetLength;c++)this.distance(this.dataset[s],this.dataset[c])<this.epsilon&&a.push(c);return a},i.prototype._mergeArrays=function(s,a){for(var c=a.length,h=0;h<c;h++){var g=a[h];s.indexOf(g)<0&&s.push(g)}return s},i.prototype._euclideanDistance=function(s,a){for(var c=0,h=Math.min(s.length,a.length);h--;)c+=(s[h]-a[h])*(s[h]-a[h]);return Math.sqrt(c)},e.exports&&(e.exports=i)}),MM=Ko(function(e){function i(s,a,c){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(s,a,c)}i.prototype.init=function(s,a,c){this.assignments=[],this.centroids=[],s!==void 0&&(this.dataset=s),a!==void 0&&(this.k=a),c!==void 0&&(this.distance=c)},i.prototype.run=function(s,a){this.init(s,a);for(var c=this.dataset.length,h=0;h<this.k;h++)this.centroids[h]=this.randomCentroid();for(var g=!0;g;){g=this.assign();for(var y=0;y<this.k;y++){for(var w=new Array(P),x=0,T=0;T<P;T++)w[T]=0;for(var E=0;E<c;E++){var P=this.dataset[E].length;if(y===this.assignments[E]){for(T=0;T<P;T++)w[T]+=this.dataset[E][T];x++}}if(x>0){for(T=0;T<P;T++)w[T]/=x;this.centroids[y]=w}else this.centroids[y]=this.randomCentroid(),g=!0}}return this.getClusters()},i.prototype.randomCentroid=function(){var s,a,c=this.dataset.length-1;do a=Math.round(Math.random()*c),s=this.dataset[a];while(this.centroids.indexOf(s)>=0);return s},i.prototype.assign=function(){for(var s,a=!1,c=this.dataset.length,h=0;h<c;h++)(s=this.argmin(this.dataset[h],this.centroids,this.distance))!=this.assignments[h]&&(this.assignments[h]=s,a=!0);return a},i.prototype.getClusters=function(){for(var s,a=new Array(this.k),c=0;c<this.assignments.length;c++)a[s=this.assignments[c]]===void 0&&(a[s]=[]),a[s].push(c);return a},i.prototype.argmin=function(s,a,c){for(var h,g=Number.MAX_VALUE,y=0,w=a.length,x=0;x<w;x++)(h=c(s,a[x]))<g&&(g=h,y=x);return y},i.prototype.distance=function(s,a){for(var c=0,h=Math.min(s.length,a.length);h--;){var g=s[h]-a[h];c+=g*g}return Math.sqrt(c)},e.exports&&(e.exports=i)}),m_=Ko(function(e){function i(s,a,c){this._queue=[],this._priorities=[],this._sorting="desc",this._init(s,a,c)}i.prototype.insert=function(s,a){for(var c=this._queue.length,h=c;h--;){var g=this._priorities[h];this._sorting==="desc"?a>g&&(c=h):a<g&&(c=h)}this._insertAt(s,a,c)},i.prototype.remove=function(s){for(var a=this._queue.length;a--;)if(s===this._queue[a]){this._queue.splice(a,1),this._priorities.splice(a,1);break}},i.prototype.forEach=function(s){this._queue.forEach(s)},i.prototype.getElements=function(){return this._queue},i.prototype.getElementPriority=function(s){return this._priorities[s]},i.prototype.getPriorities=function(){return this._priorities},i.prototype.getElementsWithPriorities=function(){for(var s=[],a=0,c=this._queue.length;a<c;a++)s.push([this._queue[a],this._priorities[a]]);return s},i.prototype._init=function(s,a,c){if(s&&a){if(this._queue=[],this._priorities=[],s.length!==a.length)throw new Error("Arrays must have the same length");for(var h=0;h<s.length;h++)this.insert(s[h],a[h])}c&&(this._sorting=c)},i.prototype._insertAt=function(s,a,c){this._queue.length===c?(this._queue.push(s),this._priorities.push(a)):(this._queue.splice(c,0,s),this._priorities.splice(c,0,a))},e.exports&&(e.exports=i)}),IM=Ko(function(e){if(e.exports)var i=m_;function s(a,c,h,g){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(a,c,h,g)}s.prototype.run=function(a,c,h,g){this._init(a,c,h,g);for(var y=0,w=this.dataset.length;y<w;y++)if(this._processed[y]!==1){this._processed[y]=1,this.clusters.push([y]);var x=this.clusters.length-1;this._orderedList.push(y);var T=new i(null,null,"asc"),E=this._regionQuery(y);this._distanceToCore(y)!==void 0&&(this._updateQueue(y,E,T),this._expandCluster(x,T))}return this.clusters},s.prototype.getReachabilityPlot=function(){for(var a=[],c=0,h=this._orderedList.length;c<h;c++){var g=this._orderedList[c],y=this._reachability[g];a.push([g,y])}return a},s.prototype._init=function(a,c,h,g){if(a){if(!(a instanceof Array))throw Error("Dataset must be of type array, "+typeof a+" given");this.dataset=a,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}c&&(this.epsilon=c),h&&(this.minPts=h),g&&(this.distance=g)},s.prototype._updateQueue=function(a,c,h){var g=this;this._coreDistance=this._distanceToCore(a),c.forEach(function(y){if(g._processed[y]===void 0){var w=g.distance(g.dataset[a],g.dataset[y]),x=Math.max(g._coreDistance,w);g._reachability[y]===void 0?(g._reachability[y]=x,h.insert(y,x)):x<g._reachability[y]&&(g._reachability[y]=x,h.remove(y),h.insert(y,x))}})},s.prototype._expandCluster=function(a,c){for(var h=c.getElements(),g=0,y=h.length;g<y;g++){var w=h[g];if(this._processed[w]===void 0){var x=this._regionQuery(w);this._processed[w]=1,this.clusters[a].push(w),this._orderedList.push(w),this._distanceToCore(w)!==void 0&&(this._updateQueue(w,x,c),this._expandCluster(a,c))}}},s.prototype._distanceToCore=function(a){for(var c=this.epsilon,h=0;h<c;h++)if(this._regionQuery(a,h).length>=this.minPts)return h},s.prototype._regionQuery=function(a,c){c=c||this.epsilon;for(var h=[],g=0,y=this.dataset.length;g<y;g++)this.distance(this.dataset[a],this.dataset[g])<c&&h.push(g);return h},s.prototype._euclideanDistance=function(a,c){for(var h=0,g=Math.min(a.length,c.length);g--;)h+=(a[g]-c[g])*(a[g]-c[g]);return Math.sqrt(h)},e.exports&&(e.exports=s)}),LM=Ko(function(e){e.exports&&(e.exports={DBSCAN:PM,KMEANS:MM,OPTICS:IM,PriorityQueue:m_})}),v_=function(e,i,s){for(var a=e.length,c=0,h=0;h<a;h++){var g=(e[h]||0)-(i[h]||0);c+=g*g}return s?Math.sqrt(c):c},RM=v_,AM=function(e,i,s){var a=Math.abs(e-i);return s?a:a*a},OM=v_,zM=function(e,i){for(var s={},a=[],c=i<<2,h=e.length,g=e[0].length>0;a.length<i&&c-- >0;){var y=e[Math.floor(Math.random()*h)],w=g?y.join("_"):""+y;s[w]||(s[w]=!0,a.push(y))}if(a.length<i)throw new Error("Error initializating clusters");return a},NM=function(e,i){var s=e[0].length?RM:AM,a=[],c=e.length,h=e[0].length>0,g=e[Math.floor(Math.random()*c)];for(h&&g.join("_"),a.push(g);a.length<i;){for(var y=[],w=a.length,x=0,T=[],E=0;E<c;E++){for(var P=1/0,z=0;z<w;z++){var N=s(e[E],a[z]);N<=P&&(P=N)}y[E]=P}for(var B=0;B<c;B++)x+=y[B];for(var I=0;I<c;I++)T[I]={i:I,v:e[I],pr:y[I]/x,cs:0};T.sort(function(q,X){return q.pr-X.pr}),T[0].cs=T[0].pr;for(var W=1;W<c;W++)T[W].cs=T[W-1].cs+T[W].pr;for(var it=Math.random(),D=0;D<c-1&&T[D++].cs<it;);a.push(T[D-1].v)}return a};function y_(e,i,s){s=s||[];for(var a=0;a<e;a++)s[a]=i;return s}var DM=function(e,i,s,a){var c=[],h=[],g=[],y=[],w=!1,x=a||1e4,T=e.length,E=e[0].length,P=E>0,z=[];if(s)c=s=="kmrand"?zM(e,i):s=="kmpp"?NM(e,i):s;else for(var N={};c.length<i;){var B=Math.floor(Math.random()*T);N[B]||(N[B]=!0,c.push(e[B]))}do{y_(i,0,z);for(var I=0;I<T;I++){for(var W=1/0,it=0,D=0;D<i;D++)(y=P?OM(e[I],c[D]):Math.abs(e[I]-c[D]))<=W&&(W=y,it=D);g[I]=it,z[it]++}for(var q=[],X=(h=[],0);X<i;X++)q[X]=P?y_(E,0,q[X]):0,h[X]=c[X];if(P){for(var tt=0;tt<i;tt++)c[tt]=[];for(var Q=0;Q<T;Q++)for(var Rt=q[g[Q]],kt=e[Q],zt=0;zt<E;zt++)Rt[zt]+=kt[zt];w=!0;for(var Tt=0;Tt<i;Tt++){for(var Ft=c[Tt],Mt=q[Tt],Pt=h[Tt],St=z[Tt],Nt=0;Nt<E;Nt++)Ft[Nt]=Mt[Nt]/St||0;if(w){for(var It=0;It<E;It++)if(Pt[It]!=Ft[It]){w=!1;break}}}}else{for(var Ht=0;Ht<T;Ht++)q[g[Ht]]+=e[Ht];for(var gt=0;gt<i;gt++)c[gt]=q[gt]/z[gt]||0;w=!0;for(var Le=0;Le<i;Le++)if(h[Le]!=c[Le]){w=!1;break}}w=w||--x<=0}while(!w);return{it:1e4-x,k:i,idxs:g,centroids:c}};function FM(e,i){return ft(Ll(e[0],e[1]))===ft(Ll(i[0],i[1]))}function b_(e,i){if(e.geometry&&e.geometry.type)return e.geometry.type;if(e.type)return e.type;throw new Error("Invalid GeoJSON object for "+i)}function w_(e){for(var i=e,s=[];i.parent;)s.unshift(i),i=i.parent;return s}var Hm={search:function(e,i,s,a){e.cleanDirty();var c=(a=a||{}).heuristic||Hm.heuristics.manhattan,h=a.closest||!1,g=new x_(function(B){return B.f}),y=i;for(i.h=c(i,s),g.push(i);g.size()>0;){var w=g.pop();if(w===s)return w_(w);w.closed=!0;for(var x=e.neighbors(w),T=0,E=x.length;T<E;++T){var P=x[T];if(!P.closed&&!P.isWall()){var z=w.g+P.getCost(w),N=P.visited;(!N||z<P.g)&&(P.visited=!0,P.parent=w,P.h=P.h||c(P,s),P.g=z,P.f=P.g+P.h,e.markDirty(P),h&&(P.h<y.h||P.h===y.h&&P.g<y.g)&&(y=P),N?g.rescoreElement(P):g.push(P))}}}return h?w_(y):[]},heuristics:{manhattan:function(e,i){return Math.abs(i.x-e.x)+Math.abs(i.y-e.y)},diagonal:function(e,i){var s=Math.sqrt(2),a=Math.abs(i.x-e.x),c=Math.abs(i.y-e.y);return 1*(a+c)+(s-2)*Math.min(a,c)}},cleanNode:function(e){e.f=0,e.g=0,e.h=0,e.visited=!1,e.closed=!1,e.parent=null}};function ed(e,i){i=i||{},this.nodes=[],this.diagonal=!!i.diagonal,this.grid=[];for(var s=0;s<e.length;s++){this.grid[s]=[];for(var a=0,c=e[s];a<c.length;a++){var h=new Um(s,a,c[a]);this.grid[s][a]=h,this.nodes.push(h)}}this.init()}function Um(e,i,s){this.x=e,this.y=i,this.weight=s}function x_(e){this.content=[],this.scoreFunction=e}function BM(e,i){for(var s=0;s<i.features.length;s++)if($e(e,i.features[s]))return!0;return!1}function __(e){return function(){return e}}function jM(e){return e[0]}function HM(e){return e[1]}function Gm(){this._=null}function qm(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function ef(e,i){var s=i,a=i.R,c=s.U;c?c.L===s?c.L=a:c.R=a:e._=a,a.U=c,s.U=a,s.R=a.L,s.R&&(s.R.U=s),a.L=s}function rf(e,i){var s=i,a=i.L,c=s.U;c?c.L===s?c.L=a:c.R=a:e._=a,a.U=c,s.U=a,s.L=a.R,s.L&&(s.L.U=s),a.R=s}function k_(e){for(;e.L;)e=e.L;return e}function nf(e,i,s,a){var c=[null,null],h=to.push(c)-1;return c.left=e,c.right=i,s&&Vm(c,e,i,s),a&&Vm(c,i,e,a),$o[e.index].halfedges.push(h),$o[i.index].halfedges.push(h),c}function of(e,i,s){var a=[i,s];return a.left=e,a}function Vm(e,i,s,a){e[0]||e[1]?e.left===s?e[1]=a:e[0]=a:(e[0]=a,e.left=i,e.right=s)}function UM(e,i,s,a,c){var h,g=e[0],y=e[1],w=g[0],x=g[1],T=0,E=1,P=y[0]-w,z=y[1]-x;if(h=i-w,P||!(h>0)){if(h/=P,P<0){if(h<T)return;h<E&&(E=h)}else if(P>0){if(h>E)return;h>T&&(T=h)}if(h=a-w,P||!(h<0)){if(h/=P,P<0){if(h>E)return;h>T&&(T=h)}else if(P>0){if(h<T)return;h<E&&(E=h)}if(h=s-x,z||!(h>0)){if(h/=z,z<0){if(h<T)return;h<E&&(E=h)}else if(z>0){if(h>E)return;h>T&&(T=h)}if(h=c-x,z||!(h<0)){if(h/=z,z<0){if(h>E)return;h>T&&(T=h)}else if(z>0){if(h<T)return;h<E&&(E=h)}return!(T>0||E<1)||(T>0&&(e[0]=[w+T*P,x+T*z]),E<1&&(e[1]=[w+E*P,x+E*z]),!0)}}}}}function GM(e,i,s,a,c){var h=e[1];if(h)return!0;var g,y,w=e[0],x=e.left,T=e.right,E=x[0],P=x[1],z=T[0],N=T[1],B=(E+z)/2,I=(P+N)/2;if(N===P){if(B<i||B>=a)return;if(E>z){if(w){if(w[1]>=c)return}else w=[B,s];h=[B,c]}else{if(w){if(w[1]<s)return}else w=[B,c];h=[B,s]}}else if(y=I-(g=(E-z)/(N-P))*B,g<-1||g>1)if(E>z){if(w){if(w[1]>=c)return}else w=[(s-y)/g,s];h=[(c-y)/g,c]}else{if(w){if(w[1]<s)return}else w=[(c-y)/g,c];h=[(s-y)/g,s]}else if(P<N){if(w){if(w[0]>=a)return}else w=[i,g*i+y];h=[a,g*a+y]}else{if(w){if(w[0]<i)return}else w=[a,g*a+y];h=[i,g*i+y]}return e[0]=w,e[1]=h,!0}function qM(e,i){var s=e.site,a=i.left,c=i.right;return s===c&&(c=a,a=s),c?Math.atan2(c[1]-a[1],c[0]-a[0]):(s===a?(a=i[1],c=i[0]):(a=i[0],c=i[1]),Math.atan2(a[0]-c[0],c[1]-a[1]))}function E_(e,i){return i[+(i.left!==e.site)]}function VM(e,i){return i[+(i.left===e.site)]}ed.prototype.init=function(){this.dirtyNodes=[];for(var e=0;e<this.nodes.length;e++)Hm.cleanNode(this.nodes[e])},ed.prototype.cleanDirty=function(){for(var e=0;e<this.dirtyNodes.length;e++)Hm.cleanNode(this.dirtyNodes[e]);this.dirtyNodes=[]},ed.prototype.markDirty=function(e){this.dirtyNodes.push(e)},ed.prototype.neighbors=function(e){var i=[],s=e.x,a=e.y,c=this.grid;return c[s-1]&&c[s-1][a]&&i.push(c[s-1][a]),c[s+1]&&c[s+1][a]&&i.push(c[s+1][a]),c[s]&&c[s][a-1]&&i.push(c[s][a-1]),c[s]&&c[s][a+1]&&i.push(c[s][a+1]),this.diagonal&&(c[s-1]&&c[s-1][a-1]&&i.push(c[s-1][a-1]),c[s+1]&&c[s+1][a-1]&&i.push(c[s+1][a-1]),c[s-1]&&c[s-1][a+1]&&i.push(c[s-1][a+1]),c[s+1]&&c[s+1][a+1]&&i.push(c[s+1][a+1])),i},ed.prototype.toString=function(){for(var e,i,s,a,c=[],h=this.grid,g=0,y=h.length;g<y;g++){for(e=[],s=0,a=(i=h[g]).length;s<a;s++)e.push(i[s].weight);c.push(e.join(" "))}return c.join(`
`)},Um.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},Um.prototype.getCost=function(e){return e&&e.x!==this.x&&e.y!==this.y?1.41421*this.weight:this.weight},Um.prototype.isWall=function(){return this.weight===0},x_.prototype={push:function(e){this.content.push(e),this.sinkDown(this.content.length-1)},pop:function(){var e=this.content[0],i=this.content.pop();return this.content.length>0&&(this.content[0]=i,this.bubbleUp(0)),e},remove:function(e){var i=this.content.indexOf(e),s=this.content.pop();i!==this.content.length-1&&(this.content[i]=s,this.scoreFunction(s)<this.scoreFunction(e)?this.sinkDown(i):this.bubbleUp(i))},size:function(){return this.content.length},rescoreElement:function(e){this.sinkDown(this.content.indexOf(e))},sinkDown:function(e){for(var i=this.content[e];e>0;){var s=(e+1>>1)-1,a=this.content[s];if(!(this.scoreFunction(i)<this.scoreFunction(a)))break;this.content[s]=i,this.content[e]=a,e=s}},bubbleUp:function(e){for(var i=this.content.length,s=this.content[e],a=this.scoreFunction(s);;){var c,h=e+1<<1,g=h-1,y=null;if(g<i){var w=this.content[g];(c=this.scoreFunction(w))<a&&(y=g)}if(h<i){var x=this.content[h];this.scoreFunction(x)<(y===null?a:c)&&(y=h)}if(y===null)break;this.content[e]=this.content[y],this.content[y]=s,e=y}}},Gm.prototype={constructor:Gm,insert:function(e,i){var s,a,c;if(e){if(i.P=e,i.N=e.N,e.N&&(e.N.P=i),e.N=i,e.R){for(e=e.R;e.L;)e=e.L;e.L=i}else e.R=i;s=e}else this._?(e=k_(this._),i.P=null,i.N=e,e.P=e.L=i,s=e):(i.P=i.N=null,this._=i,s=null);for(i.L=i.R=null,i.U=s,i.C=!0,e=i;s&&s.C;)s===(a=s.U).L?(c=a.R)&&c.C?(s.C=c.C=!1,a.C=!0,e=a):(e===s.R&&(ef(this,s),s=(e=s).U),s.C=!1,a.C=!0,rf(this,a)):(c=a.L)&&c.C?(s.C=c.C=!1,a.C=!0,e=a):(e===s.L&&(rf(this,s),s=(e=s).U),s.C=!1,a.C=!0,ef(this,a)),s=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var i,s,a,c=e.U,h=e.L,g=e.R;if(s=h?g?k_(g):h:g,c?c.L===e?c.L=s:c.R=s:this._=s,h&&g?(a=s.C,s.C=e.C,s.L=h,h.U=s,s!==g?(c=s.U,s.U=e.U,e=s.R,c.L=e,s.R=g,g.U=s):(s.U=c,c=s,e=s.R)):(a=e.C,e=s),e&&(e.U=c),!a)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===c.L){if((i=c.R).C&&(i.C=!1,c.C=!0,ef(this,c),i=c.R),i.L&&i.L.C||i.R&&i.R.C){i.R&&i.R.C||(i.L.C=!1,i.C=!0,rf(this,i),i=c.R),i.C=c.C,c.C=i.R.C=!1,ef(this,c),e=this._;break}}else if((i=c.L).C&&(i.C=!1,c.C=!0,rf(this,c),i=c.L),i.L&&i.L.C||i.R&&i.R.C){i.L&&i.L.C||(i.R.C=!1,i.C=!0,ef(this,i),i=c.L),i.C=c.C,c.C=i.L.C=!1,rf(this,c),e=this._;break}i.C=!0,e=c,c=c.U}while(!e.C);e&&(e.C=!1)}}};var fb,T_=[];function WM(){qm(this),this.x=this.y=this.arc=this.site=this.cy=null}function rd(e){var i=e.P,s=e.N;if(i&&s){var a=i.site,c=e.site,h=s.site;if(a!==h){var g=c[0],y=c[1],w=a[0]-g,x=a[1]-y,T=h[0]-g,E=h[1]-y,P=2*(w*E-x*T);if(!(P>=-JM)){var z=w*w+x*x,N=T*T+E*E,B=(E*z-x*N)/P,I=(w*N-T*z)/P,W=T_.pop()||new WM;W.arc=e,W.site=c,W.x=B+g,W.y=(W.cy=I+y)+Math.sqrt(B*B+I*I),e.circle=W;for(var it=null,D=sf._;D;)if(W.y<D.y||W.y===D.y&&W.x<=D.x){if(!D.L){it=D.P;break}D=D.L}else{if(!D.R){it=D;break}D=D.R}sf.insert(it,W),it||(fb=W)}}}}function id(e){var i=e.circle;i&&(i.P||(fb=i.N),sf.remove(i),T_.push(i),qm(i),e.circle=null)}var S_=[];function ZM(){qm(this),this.edge=this.site=this.circle=null}function C_(e){var i=S_.pop()||new ZM;return i.site=e,i}function gb(e){id(e),nd.remove(e),S_.push(e),qm(e)}function YM(e){var i=e.circle,s=i.x,a=i.cy,c=[s,a],h=e.P,g=e.N,y=[e];gb(e);for(var w=h;w.circle&&Math.abs(s-w.circle.x)<_i&&Math.abs(a-w.circle.cy)<_i;)h=w.P,y.unshift(w),gb(w),w=h;y.unshift(w),id(w);for(var x=g;x.circle&&Math.abs(s-x.circle.x)<_i&&Math.abs(a-x.circle.cy)<_i;)g=x.N,y.push(x),gb(x),x=g;y.push(x),id(x);var T,E=y.length;for(T=1;T<E;++T)x=y[T],w=y[T-1],Vm(x.edge,w.site,x.site,c);w=y[0],(x=y[E-1]).edge=nf(w.site,x.site,null,c),rd(w),rd(x)}function XM(e){for(var i,s,a,c,h=e[0],g=e[1],y=nd._;y;)if((a=P_(y,g)-h)>_i)y=y.L;else{if(!((c=h-KM(y,g))>_i)){a>-_i?(i=y.P,s=y):c>-_i?(i=y,s=y.N):i=s=y;break}if(!y.R){i=y;break}y=y.R}(function(X){$o[X.index]={site:X,halfedges:[]}})(e);var w=C_(e);if(nd.insert(i,w),i||s){if(i===s)return id(i),s=C_(i.site),nd.insert(w,s),w.edge=s.edge=nf(i.site,w.site),rd(i),void rd(s);if(s){id(i),id(s);var x=i.site,T=x[0],E=x[1],P=e[0]-T,z=e[1]-E,N=s.site,B=N[0]-T,I=N[1]-E,W=2*(P*I-z*B),it=P*P+z*z,D=B*B+I*I,q=[(I*it-z*D)/W+T,(P*D-B*it)/W+E];Vm(s.edge,x,N,q),w.edge=nf(x,e,null,q),s.edge=nf(e,N,null,q),rd(i),rd(s)}else w.edge=nf(i.site,w.site)}}function P_(e,i){var s=e.site,a=s[0],c=s[1],h=c-i;if(!h)return a;var g=e.P;if(!g)return-1/0;var y=(s=g.site)[0],w=s[1],x=w-i;if(!x)return y;var T=y-a,E=1/h-1/x,P=T/x;return E?(-P+Math.sqrt(P*P-2*E*(T*T/(-2*x)-w+x/2+c-h/2)))/E+a:(a+y)/2}function KM(e,i){var s=e.N;if(s)return P_(s,i);var a=e.site;return a[1]===i?a[0]:1/0}var nd,$o,sf,to,_i=1e-6,JM=1e-12;function QM(e,i){return i[1]-e[1]||i[0]-e[0]}function mb(e,i){var s,a,c,h=e.sort(QM).pop();for(to=[],$o=new Array(e.length),nd=new Gm,sf=new Gm;;)if(c=fb,h&&(!c||h[1]<c.y||h[1]===c.y&&h[0]<c.x))h[0]===s&&h[1]===a||(XM(h),s=h[0],a=h[1]),h=e.pop();else{if(!c)break;YM(c.arc)}if(function(){for(var T,E,P,z,N=0,B=$o.length;N<B;++N)if((T=$o[N])&&(z=(E=T.halfedges).length)){var I=new Array(z),W=new Array(z);for(P=0;P<z;++P)I[P]=P,W[P]=qM(T,to[E[P]]);for(I.sort(function(it,D){return W[D]-W[it]}),P=0;P<z;++P)W[P]=E[I[P]];for(P=0;P<z;++P)E[P]=W[P]}}(),i){var g=+i[0][0],y=+i[0][1],w=+i[1][0],x=+i[1][1];(function(T,E,P,z){for(var N,B=to.length;B--;)GM(N=to[B],T,E,P,z)&&UM(N,T,E,P,z)&&(Math.abs(N[0][0]-N[1][0])>_i||Math.abs(N[0][1]-N[1][1])>_i)||delete to[B]})(g,y,w,x),function(T,E,P,z){var N,B,I,W,it,D,q,X,tt,Q,Rt,kt,zt=$o.length,Tt=!0;for(N=0;N<zt;++N)if(B=$o[N]){for(I=B.site,W=(it=B.halfedges).length;W--;)to[it[W]]||it.splice(W,1);for(W=0,D=it.length;W<D;)Rt=(Q=VM(B,to[it[W]]))[0],kt=Q[1],X=(q=E_(B,to[it[++W%D]]))[0],tt=q[1],(Math.abs(Rt-X)>_i||Math.abs(kt-tt)>_i)&&(it.splice(W,0,to.push(of(I,Q,Math.abs(Rt-T)<_i&&z-kt>_i?[T,Math.abs(X-T)<_i?tt:z]:Math.abs(kt-z)<_i&&P-Rt>_i?[Math.abs(tt-z)<_i?X:P,z]:Math.abs(Rt-P)<_i&&kt-E>_i?[P,Math.abs(X-P)<_i?tt:E]:Math.abs(kt-E)<_i&&Rt-T>_i?[Math.abs(tt-E)<_i?X:T,E]:null))-1),++D);D&&(Tt=!1)}if(Tt){var Ft,Mt,Pt,St=1/0;for(N=0,Tt=null;N<zt;++N)(B=$o[N])&&(Pt=(Ft=(I=B.site)[0]-T)*Ft+(Mt=I[1]-E)*Mt)<St&&(St=Pt,Tt=B);if(Tt){var Nt=[T,E],It=[T,z],Ht=[P,z],gt=[P,E];Tt.halfedges.push(to.push(of(I=Tt.site,Nt,It))-1,to.push(of(I,It,Ht))-1,to.push(of(I,Ht,gt))-1,to.push(of(I,gt,Nt))-1)}}for(N=0;N<zt;++N)(B=$o[N])&&(B.halfedges.length||delete $o[N])}(g,y,w,x)}this.edges=to,this.cells=$o,nd=sf=to=$o=null}function $M(e){return(e=e.slice()).push(e[0]),v([e])}function M_(e,i,s,a){var c=(a=a||{}).steps||64,h=a.units||"kilometers",g=a.angle||0,y=a.pivot||e,w=a.properties||e.properties||{};if(!e)throw new Error("center is required");if(!i)throw new Error("xSemiAxis is required");if(!s)throw new Error("ySemiAxis is required");if(!mt(a))throw new Error("options must be an object");if(!ut(c))throw new Error("steps must be a number");if(!ut(g))throw new Error("angle must be a number");var x=O(e);if(h==="degrees")var T=ct(g);else i=td(e,i,90,{units:h}),s=td(e,s,0,{units:h}),i=O(i)[0]-x[0],s=O(s)[1]-x[1];for(var E=[],P=0;P<c;P+=1){var z=-360*P/c,N=i*s/Math.sqrt(Math.pow(s,2)+Math.pow(i,2)*Math.pow(I_(z),2)),B=i*s/Math.sqrt(Math.pow(i,2)+Math.pow(s,2)/Math.pow(I_(z),2));if(z<-90&&z>=-270&&(N=-N),z<-180&&z>=-360&&(B=-B),h==="degrees"){var I=N*Math.cos(T)+B*Math.sin(T),W=B*Math.cos(T)-N*Math.sin(T);N=I,B=W}E.push([N+x[0],B+x[1]])}return E.push(E[0]),h==="degrees"?v([E],w):Jx(v([E],w),g,{pivot:y})}function I_(e){var i=e*Math.PI/180;return Math.tan(i)}function vb(e,i){i===void 0&&(i={});var s=0,a=0,c=0;return fe(e,function(h,g,y){var w=i.weight?y==null?void 0:y[i.weight]:void 0;if(!ut(w=w??1))throw new Error("weight value must be a number for feature index "+g);(w=Number(w))>0&&Bt(h,function(x){s+=x[0]*w,a+=x[1]*w,c+=w})}),f([s/c,a/c],i.properties,i)}function L_(e,i,s,a,c){var h=a.tolerance||.001,g=0,y=0,w=0,x=0;if(Et(s,function(P){var z,N=(z=P.properties)===null||z===void 0?void 0:z.weight,B=N??1;if(!ut(B=Number(B)))throw new Error("weight value must be a number");if(B>0){x+=1;var I=B*or(P,e);I===0&&(I=1);var W=B/I;g+=P.geometry.coordinates[0]*W,y+=P.geometry.coordinates[1]*W,w+=W}}),x<1)throw new Error("no features to measure");var T=g/w,E=y/w;return x===1||c===0||Math.abs(T-i[0])<h&&Math.abs(E-i[1])<h?f([T,E],{medianCandidates:a.medianCandidates}):(a.medianCandidates.push([T,E]),L_([T,E],e,s,a,c-1))}function R_(e,i){return{x:e[0]-i[0],y:e[1]-i[1]}}function tI(e,i){var s=0,a=0;Bt(e,function(c,h,g,y,w){w>s&&(s=w,a=h,i.push([]));var x=h-a,T=e.coordinates[w][x+1],E=c[0],P=c[1],z=T[0],N=T[1];i[w].push([.75*E+.25*z,.75*P+.25*N]),i[w].push([.25*E+.75*z,.25*P+.75*N])},!0),i.forEach(function(c){c.push(c[0])})}function eI(e,i){var s=0,a=0,c=0;Bt(e,function(h,g,y,w,x){w>c&&(c=w,a=g,i.push([[]])),x>s&&(s=x,a=g,i[w].push([]));var T=g-a,E=e.coordinates[w][x][T+1],P=h[0],z=h[1],N=E[0],B=E[1];i[w][x].push([.75*P+.25*N,.75*z+.25*B]),i[w][x].push([.25*P+.75*N,.25*z+.75*B])},!0),i.forEach(function(h){h.forEach(function(g){g.push(g[0])})})}function rI(e,i,s){s===void 0&&(s=2);var a=O(e),c=O(i),h=a[0]-c[0],g=a[1]-c[1];return s===1?Math.abs(h)+Math.abs(g):Math.pow(Math.pow(h,s)+Math.pow(g,s),1/s)}function A_(e,i){var s=(i=i||{}).threshold||1e4,a=i.p||2,c=i.binary||!1,h=i.alpha||-1,g=i.standardization||!1,y=[];Et(e,function(z){y.push($s(z))});for(var w=[],x=0;x<y.length;x++)w[x]=[];for(x=0;x<y.length;x++)for(var T=x;T<y.length;T++){x===T&&(w[x][T]=0);var E=rI(y[x],y[T],a);w[x][T]=E,w[T][x]=E}for(x=0;x<y.length;x++)for(T=0;T<y.length;T++)(E=w[x][T])!==0&&(w[x][T]=c?E<=s?1:0:E<=s?Math.pow(E,h):0);if(g)for(x=0;x<y.length;x++){var P=w[x].reduce(function(z,N){return z+N},0);for(T=0;T<y.length;T++)w[x][T]=w[x][T]/P}return w}function O_(e){for(var i=0,s=0,a=e;s<a.length;s++)i+=a[s];return i/e.length}function z_(e,i){return i===void 0&&(i={}),D_(e,"mercator",i)}function N_(e,i){return i===void 0&&(i={}),D_(e,"wgs84",i)}function D_(e,i,s){s===void 0&&(s={});var a=(s=s||{}).mutate;if(!e)throw new Error("geojson is required");return Array.isArray(e)&&ut(e[0])?e=i==="mercator"?F_(e):B_(e):(a!==!0&&(e=Pi(e)),Bt(e,function(c){var h=i==="mercator"?F_(c):B_(c);c[0]=h[0],c[1]=h[1]})),e}function F_(e){var i=Math.PI/180,s=6378137,a=20037508342789244e-9,c=[s*(Math.abs(e[0])<=180?e[0]:e[0]-360*function(h){return h<0?-1:h>0?1:0}(e[0]))*i,s*Math.log(Math.tan(.25*Math.PI+.5*e[1]*i))];return c[0]>a&&(c[0]=a),c[0]<-a&&(c[0]=-a),c[1]>a&&(c[1]=a),c[1]<-a&&(c[1]=-a),c}function B_(e){var i=180/Math.PI,s=6378137;return[e[0]*i/s,(.5*Math.PI-2*Math.atan(Math.exp(-e[1]/s)))*i]}mb.prototype={constructor:mb,polygons:function(){var e=this.edges;return this.cells.map(function(i){var s=i.halfedges.map(function(a){return E_(i,e[a])});return s.data=i.site.data,s})},triangles:function(){var e=[],i=this.edges;return this.cells.forEach(function(s,a){if(h=(c=s.halfedges).length)for(var c,h,g,y,w,x,T=s.site,E=-1,P=i[c[h-1]],z=P.left===T?P.right:P.left;++E<h;)g=z,z=(P=i[c[E]]).left===T?P.right:P.left,g&&z&&a<g.index&&a<z.index&&(w=g,x=z,((y=T)[0]-x[0])*(w[1]-y[1])-(y[0]-w[0])*(x[1]-y[1])<0)&&e.push([T.data,g.data,z.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,i,s){for(var a,c,h=this,g=h._found||0,y=h.cells.length;!(c=h.cells[g]);)if(++g>=y)return null;var w=e-c.site[0],x=i-c.site[1],T=w*w+x*x;do c=h.cells[a=g],g=null,c.halfedges.forEach(function(E){var P=h.edges[E],z=P.left;if(z!==c.site&&z||(z=P.right)){var N=e-z[0],B=i-z[1],I=N*N+B*B;I<T&&(T=I,g=z.index)}});while(g!==null);return h._found=a,s==null||T<=s*s?c.site:null}};var iI=Object.freeze({__proto__:null,toMercator:z_,toWgs84:N_}),nI=function(){for(var e=0,i=0,s=arguments.length;i<s;i++)e+=arguments[i].length;var a=Array(e),c=0;for(i=0;i<s;i++)for(var h=arguments[i],g=0,y=h.length;g<y;g++,c++)a[c]=h[g];return a};function af(e){return Array.isArray(e)?q_(e):e&&e.bbox?q_(e.bbox):[360*G_(),180*G_()]}function j_(e,i){i===void 0&&(i={}),e==null&&(e=1);for(var s=[],a=0;a<e;a++)s.push(f(af(i.bbox)));return M(s)}function H_(e,i){i===void 0&&(i={}),e==null&&(e=1),ut(i.num_vertices)&&i.num_vertices!==void 0||(i.num_vertices=10),ut(i.max_radial_length)&&i.max_radial_length!==void 0||(i.max_radial_length=10);for(var s=[],a=function(h){var g,y=[],w=nI(Array(i.num_vertices+1)).map(Math.random);w.forEach(function(x,T,E){E[T]=T>0?x+E[T-1]:x}),w.forEach(function(x){x=2*x*Math.PI/w[w.length-1];var T=Math.random();y.push([T*(i.max_radial_length||10)*Math.sin(x),T*(i.max_radial_length||10)*Math.cos(x)])}),y[y.length-1]=y[0],y=y.map((g=af(i.bbox),function(x){return[x[0]+g[0],x[1]+g[1]]})),s.push(v([y]))},c=0;c<e;c++)a();return M(s)}function U_(e,i){if(i===void 0&&(i={}),!mt(i=i||{}))throw new Error("options is invalid");var s=i.bbox,a=i.num_vertices,c=i.max_length,h=i.max_rotation;e==null&&(e=1),(!ut(a)||a===void 0||a<2)&&(a=10),ut(c)&&c!==void 0||(c=1e-4),ut(h)&&h!==void 0||(h=Math.PI/8);for(var g=[],y=0;y<e;y++){for(var w=[af(s)],x=0;x<a-1;x++){var T=(x===0?2*Math.random()*Math.PI:Math.tan((w[x][1]-w[x-1][1])/(w[x][0]-w[x-1][0])))+(Math.random()-.5)*h*2,E=Math.random()*c;w.push([w[x][0]+E*Math.cos(T),w[x][1]+E*Math.sin(T)])}g.push(k(w))}return M(g)}function G_(){return Math.random()-.5}function q_(e){return[Math.random()*(e[2]-e[0])+e[0],Math.random()*(e[3]-e[1])+e[1]]}var oI=Object.freeze({__proto__:null,randomPosition:af,randomPoint:j_,randomPolygon:H_,randomLineString:U_});function V_(e,i){if(!e)throw new Error("geojson is required");if(e.type!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(i==null)throw new Error("filter is required");var s=[];return Et(e,function(a){Wm(a.properties,i)&&s.push(a)}),M(s)}function yb(e,i,s){if(!e)throw new Error("geojson is required");if(e.type!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(i==null)throw new Error("property is required");for(var a=bb(e,i),c=Object.keys(a),h=0;h<c.length;h++){for(var g=c[h],y=a[g],w=[],x=0;x<y.length;x++)w.push(e.features[y[x]]);s(M(w),g,h)}}function W_(e,i,s,a){var c=a;return yb(e,i,function(h,g,y){c=y===0&&a===void 0?h:s(c,h,g,y)}),c}function bb(e,i){var s={};return Et(e,function(a,c){var h=a.properties||{};if(Object.prototype.hasOwnProperty.call(h,String(i))){var g=h[i];Object.prototype.hasOwnProperty.call(s,g)?s[g].push(c):s[g]=[c]}}),s}function Wm(e,i){if(e===void 0)return!1;var s=typeof i;if(s==="number"||s==="string")return Object.prototype.hasOwnProperty.call(e,i);if(Array.isArray(i)){for(var a=0;a<i.length;a++)if(!Wm(e,i[a]))return!1;return!0}return wb(e,i)}function wb(e,i){for(var s=Object.keys(i),a=0;a<s.length;a++){var c=s[a];if(e[c]!==i[c])return!1}return!0}function Z_(e,i){if(!i)return{};if(!i.length)return{};for(var s={},a=0;a<i.length;a++){var c=i[a];Object.prototype.hasOwnProperty.call(e,c)&&(s[c]=e[c])}return s}var sI=Object.freeze({__proto__:null,getCluster:V_,clusterEach:yb,clusterReduce:W_,createBins:bb,applyFilter:Wm,propertiesContainsFilter:wb,filterProperties:Z_}),Cc=function(e,i){this.next=null,this.key=e,this.data=i,this.left=null,this.right=null};/**
     * splaytree v3.1.0
     * Fast Splay tree for Node and browser
     *
     * @author Alexander Milevski <info@w8r.name>
     * @license MIT
     * @preserve
     */function aI(e,i){return e>i?1:e<i?-1:0}function Pc(e,i,s){for(var a=new Cc(null,null),c=a,h=a;;){var g=s(e,i.key);if(g<0){if(i.left===null)break;if(s(e,i.left.key)<0){var y=i.left;if(i.left=y.right,y.right=i,(i=y).left===null)break}h.left=i,h=i,i=i.left}else{if(!(g>0)||i.right===null||s(e,i.right.key)>0&&(y=i.right,i.right=y.left,y.left=i,(i=y).right===null))break;c.right=i,c=i,i=i.right}}return c.right=i.left,h.left=i.right,i.left=a.right,i.right=a.left,i}function xb(e,i,s,a){var c=new Cc(e,i);if(s===null)return c.left=c.right=null,c;var h=a(e,(s=Pc(e,s,a)).key);return h<0?(c.left=s.left,c.right=s,s.left=null):h>=0&&(c.right=s.right,c.left=s,s.right=null),c}function Y_(e,i,s){var a=null,c=null;if(i){var h=s((i=Pc(e,i,s)).key,e);h===0?(a=i.left,c=i.right):h<0?(c=i.right,i.right=null,a=i):(a=i.left,i.left=null,c=i)}return{left:a,right:c}}function _b(e,i,s,a,c){if(e){a(i+(s?"└── ":"├── ")+c(e)+`
`);var h=i+(s?"    ":"│   ");e.left&&_b(e.left,h,!1,a,c),e.right&&_b(e.right,h,!0,a,c)}}var kb=function(){function e(i){i===void 0&&(i=aI),this._root=null,this._size=0,this._comparator=i}return e.prototype.insert=function(i,s){return this._size++,this._root=xb(i,s,this._root,this._comparator)},e.prototype.add=function(i,s){var a=new Cc(i,s);this._root===null&&(a.left=a.right=null,this._size++,this._root=a);var c=this._comparator,h=Pc(i,this._root,c),g=c(i,h.key);return g===0?this._root=h:(g<0?(a.left=h.left,a.right=h,h.left=null):g>0&&(a.right=h.right,a.left=h,h.right=null),this._size++,this._root=a),this._root},e.prototype.remove=function(i){this._root=this._remove(i,this._root,this._comparator)},e.prototype._remove=function(i,s,a){var c;return s===null?null:a(i,(s=Pc(i,s,a)).key)===0?(s.left===null?c=s.right:(c=Pc(i,s.left,a)).right=s.right,this._size--,c):s},e.prototype.pop=function(){var i=this._root;if(i){for(;i.left;)i=i.left;return this._root=Pc(i.key,this._root,this._comparator),this._root=this._remove(i.key,this._root,this._comparator),{key:i.key,data:i.data}}return null},e.prototype.findStatic=function(i){for(var s=this._root,a=this._comparator;s;){var c=a(i,s.key);if(c===0)return s;s=c<0?s.left:s.right}return null},e.prototype.find=function(i){return this._root&&(this._root=Pc(i,this._root,this._comparator),this._comparator(i,this._root.key)!==0)?null:this._root},e.prototype.contains=function(i){for(var s=this._root,a=this._comparator;s;){var c=a(i,s.key);if(c===0)return!0;s=c<0?s.left:s.right}return!1},e.prototype.forEach=function(i,s){for(var a=this._root,c=[],h=!1;!h;)a!==null?(c.push(a),a=a.left):c.length!==0?(a=c.pop(),i.call(s,a),a=a.right):h=!0;return this},e.prototype.range=function(i,s,a,c){for(var h=[],g=this._comparator,y=this._root;h.length!==0||y;)if(y)h.push(y),y=y.left;else{if(g((y=h.pop()).key,s)>0)break;if(g(y.key,i)>=0&&a.call(c,y))return this;y=y.right}return this},e.prototype.keys=function(){var i=[];return this.forEach(function(s){var a=s.key;return i.push(a)}),i},e.prototype.values=function(){var i=[];return this.forEach(function(s){var a=s.data;return i.push(a)}),i},e.prototype.min=function(){return this._root?this.minNode(this._root).key:null},e.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},e.prototype.minNode=function(i){if(i===void 0&&(i=this._root),i)for(;i.left;)i=i.left;return i},e.prototype.maxNode=function(i){if(i===void 0&&(i=this._root),i)for(;i.right;)i=i.right;return i},e.prototype.at=function(i){for(var s=this._root,a=!1,c=0,h=[];!a;)if(s)h.push(s),s=s.left;else if(h.length>0){if(s=h.pop(),c===i)return s;c++,s=s.right}else a=!0;return null},e.prototype.next=function(i){var s=this._root,a=null;if(i.right){for(a=i.right;a.left;)a=a.left;return a}for(var c=this._comparator;s;){var h=c(i.key,s.key);if(h===0)break;h<0?(a=s,s=s.left):s=s.right}return a},e.prototype.prev=function(i){var s=this._root,a=null;if(i.left!==null){for(a=i.left;a.right;)a=a.right;return a}for(var c=this._comparator;s;){var h=c(i.key,s.key);if(h===0)break;h<0?s=s.left:(a=s,s=s.right)}return a},e.prototype.clear=function(){return this._root=null,this._size=0,this},e.prototype.toList=function(){return function(i){for(var s=i,a=[],c=!1,h=new Cc(null,null),g=h;!c;)s?(a.push(s),s=s.left):a.length>0?s=(s=g=g.next=a.pop()).right:c=!0;return g.next=null,h.next}(this._root)},e.prototype.load=function(i,s,a){s===void 0&&(s=[]),a===void 0&&(a=!1);var c=i.length,h=this._comparator;if(a&&Sb(i,s,0,c-1,h),this._root===null)this._root=Eb(i,s,0,c),this._size=c;else{var g=function(y,w,x){for(var T=new Cc(null,null),E=T,P=y,z=w;P!==null&&z!==null;)x(P.key,z.key)<0?(E.next=P,P=P.next):(E.next=z,z=z.next),E=E.next;return P!==null?E.next=P:z!==null&&(E.next=z),T.next}(this.toList(),function(y,w){for(var x=new Cc(null,null),T=x,E=0;E<y.length;E++)T=T.next=new Cc(y[E],w[E]);return T.next=null,x.next}(i,s),h);c=this._size+c,this._root=Tb({head:g},0,c)}return this},e.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),e.prototype.toString=function(i){i===void 0&&(i=function(a){return String(a.key)});var s=[];return _b(this._root,"",!0,function(a){return s.push(a)},i),s.join("")},e.prototype.update=function(i,s,a){var c=this._comparator,h=Y_(i,this._root,c),g=h.left,y=h.right;c(i,s)<0?y=xb(s,a,y,c):g=xb(s,a,g,c),this._root=function(w,x,T){return x===null?w:(w===null||((x=Pc(w.key,x,T)).left=w),x)}(g,y,c)},e.prototype.split=function(i){return Y_(i,this._root,this._comparator)},e}();function Eb(e,i,s,a){var c=a-s;if(c>0){var h=s+Math.floor(c/2),g=e[h],y=i[h],w=new Cc(g,y);return w.left=Eb(e,i,s,h),w.right=Eb(e,i,h+1,a),w}return null}function Tb(e,i,s){var a=s-i;if(a>0){var c=i+Math.floor(a/2),h=Tb(e,i,c),g=e.head;return g.left=h,e.head=e.head.next,g.right=Tb(e,c+1,s),g}return null}function Sb(e,i,s,a,c){if(!(s>=a)){for(var h=e[s+a>>1],g=s-1,y=a+1;;){do g++;while(c(e[g],h)<0);do y--;while(c(e[y],h)>0);if(g>=y)break;var w=e[g];e[g]=e[y],e[y]=w,w=i[g],i[g]=i[y],i[y]=w}Sb(e,i,s,y,c),Sb(e,i,y+1,a,c)}}function ks(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function X_(e,i){for(var s=0;s<i.length;s++){var a=i[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function mo(e,i,s){return i&&X_(e.prototype,i),s&&X_(e,s),e}var lf=function(e,i){return e.ll.x<=i.x&&i.x<=e.ur.x&&e.ll.y<=i.y&&i.y<=e.ur.y},Cb=function(e,i){if(i.ur.x<e.ll.x||e.ur.x<i.ll.x||i.ur.y<e.ll.y||e.ur.y<i.ll.y)return null;var s=e.ll.x<i.ll.x?i.ll.x:e.ll.x,a=e.ur.x<i.ur.x?e.ur.x:i.ur.x;return{ll:{x:s,y:e.ll.y<i.ll.y?i.ll.y:e.ll.y},ur:{x:a,y:e.ur.y<i.ur.y?e.ur.y:i.ur.y}}},Mc=Number.EPSILON;Mc===void 0&&(Mc=Math.pow(2,-52));var lI=Mc*Mc,Pb=function(e,i){if(-Mc<e&&e<Mc&&-Mc<i&&i<Mc)return 0;var s=e-i;return s*s<lI*e*i?0:e<i?-1:1},cI=function(){function e(){ks(this,e),this.reset()}return mo(e,[{key:"reset",value:function(){this.xRounder=new K_,this.yRounder=new K_}},{key:"round",value:function(i,s){return{x:this.xRounder.round(i),y:this.yRounder.round(s)}}}]),e}(),K_=function(){function e(){ks(this,e),this.tree=new kb,this.round(0)}return mo(e,[{key:"round",value:function(i){var s=this.tree.add(i),a=this.tree.prev(s);if(a!==null&&Pb(s.key,a.key)===0)return this.tree.remove(i),a.key;var c=this.tree.next(s);return c!==null&&Pb(s.key,c.key)===0?(this.tree.remove(i),c.key):i}}]),e}(),cf=new cI,uf=function(e,i){return e.x*i.y-e.y*i.x},J_=function(e,i){return e.x*i.x+e.y*i.y},Q_=function(e,i,s){var a={x:i.x-e.x,y:i.y-e.y},c={x:s.x-e.x,y:s.y-e.y},h=uf(a,c);return Pb(h,0)},Zm=function(e){return Math.sqrt(J_(e,e))},uI=function(e,i,s){var a={x:i.x-e.x,y:i.y-e.y},c={x:s.x-e.x,y:s.y-e.y};return J_(c,a)/Zm(c)/Zm(a)},$_=function(e,i,s){return i.y===0?null:{x:e.x+i.x/i.y*(s-e.y),y:s}},tk=function(e,i,s){return i.x===0?null:{x:s,y:e.y+i.y/i.x*(s-e.x)}},ja=function(){function e(i,s){ks(this,e),i.events===void 0?i.events=[this]:i.events.push(this),this.point=i,this.isLeft=s}return mo(e,null,[{key:"compare",value:function(i,s){var a=e.comparePoints(i.point,s.point);return a!==0?a:(i.point!==s.point&&i.link(s),i.isLeft!==s.isLeft?i.isLeft?1:-1:Ym.compare(i.segment,s.segment))}},{key:"comparePoints",value:function(i,s){return i.x<s.x?-1:i.x>s.x?1:i.y<s.y?-1:i.y>s.y?1:0}}]),mo(e,[{key:"link",value:function(i){if(i.point===this.point)throw new Error("Tried to link already linked events");for(var s=i.point.events,a=0,c=s.length;a<c;a++){var h=s[a];this.point.events.push(h),h.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var i=this.point.events.length,s=0;s<i;s++){var a=this.point.events[s];if(a.segment.consumedBy===void 0)for(var c=s+1;c<i;c++){var h=this.point.events[c];h.consumedBy===void 0&&a.otherSE.point.events===h.otherSE.point.events&&a.segment.consume(h.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var i=[],s=0,a=this.point.events.length;s<a;s++){var c=this.point.events[s];c!==this&&!c.segment.ringOut&&c.segment.isInResult()&&i.push(c)}return i}},{key:"getLeftmostComparator",value:function(i){var s=this,a=new Map,c=function(h){var g,y,w,x,T,E=h.otherSE;a.set(h,{sine:(g=s.point,y=i.point,w=E.point,x={x:y.x-g.x,y:y.y-g.y},T={x:w.x-g.x,y:w.y-g.y},uf(T,x)/Zm(T)/Zm(x)),cosine:uI(s.point,i.point,E.point)})};return function(h,g){a.has(h)||c(h),a.has(g)||c(g);var y=a.get(h),w=y.sine,x=y.cosine,T=a.get(g),E=T.sine,P=T.cosine;return w>=0&&E>=0?x<P?1:x>P?-1:0:w<0&&E<0?x<P?-1:x>P?1:0:E<w?-1:E>w?1:0}}}]),e}(),hI=0,Ym=function(){function e(i,s,a,c){ks(this,e),this.id=++hI,this.leftSE=i,i.segment=this,i.otherSE=s,this.rightSE=s,s.segment=this,s.otherSE=i,this.rings=a,this.windings=c}return mo(e,null,[{key:"compare",value:function(i,s){var a=i.leftSE.point.x,c=s.leftSE.point.x,h=i.rightSE.point.x,g=s.rightSE.point.x;if(g<a)return 1;if(h<c)return-1;var y=i.leftSE.point.y,w=s.leftSE.point.y,x=i.rightSE.point.y,T=s.rightSE.point.y;if(a<c){if(w<y&&w<x)return 1;if(w>y&&w>x)return-1;var E=i.comparePoint(s.leftSE.point);if(E<0)return 1;if(E>0)return-1;var P=s.comparePoint(i.rightSE.point);return P!==0?P:-1}if(a>c){if(y<w&&y<T)return-1;if(y>w&&y>T)return 1;var z=s.comparePoint(i.leftSE.point);if(z!==0)return z;var N=i.comparePoint(s.rightSE.point);return N<0?1:N>0?-1:1}if(y<w)return-1;if(y>w)return 1;if(h<g){var B=s.comparePoint(i.rightSE.point);if(B!==0)return B}if(h>g){var I=i.comparePoint(s.rightSE.point);if(I<0)return 1;if(I>0)return-1}if(h!==g){var W=x-y,it=h-a,D=T-w,q=g-c;if(W>it&&D<q)return 1;if(W<it&&D>q)return-1}return h>g?1:h<g||x<T?-1:x>T?1:i.id<s.id?-1:i.id>s.id?1:0}}]),mo(e,[{key:"replaceRightSE",value:function(i){this.rightSE=i,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var i=this.leftSE.point.y,s=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:i<s?i:s},ur:{x:this.rightSE.point.x,y:i>s?i:s}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(i){return i.x===this.leftSE.point.x&&i.y===this.leftSE.point.y||i.x===this.rightSE.point.x&&i.y===this.rightSE.point.y}},{key:"comparePoint",value:function(i){if(this.isAnEndpoint(i))return 0;var s=this.leftSE.point,a=this.rightSE.point,c=this.vector();if(s.x===a.x)return i.x===s.x?0:i.x<s.x?1:-1;var h=(i.y-s.y)/c.y,g=s.x+h*c.x;if(i.x===g)return 0;var y=(i.x-s.x)/c.x,w=s.y+y*c.y;return i.y===w?0:i.y<w?-1:1}},{key:"getIntersection",value:function(i){var s=this.bbox(),a=i.bbox(),c=Cb(s,a);if(c===null)return null;var h=this.leftSE.point,g=this.rightSE.point,y=i.leftSE.point,w=i.rightSE.point,x=lf(s,y)&&this.comparePoint(y)===0,T=lf(a,h)&&i.comparePoint(h)===0,E=lf(s,w)&&this.comparePoint(w)===0,P=lf(a,g)&&i.comparePoint(g)===0;if(T&&x)return P&&!E?g:!P&&E?w:null;if(T)return E&&h.x===w.x&&h.y===w.y?null:h;if(x)return P&&g.x===y.x&&g.y===y.y?null:y;if(P&&E)return null;if(P)return g;if(E)return w;var z=function(N,B,I,W){if(B.x===0)return tk(I,W,N.x);if(W.x===0)return tk(N,B,I.x);if(B.y===0)return $_(I,W,N.y);if(W.y===0)return $_(N,B,I.y);var it=uf(B,W);if(it==0)return null;var D={x:I.x-N.x,y:I.y-N.y},q=uf(D,B)/it,X=uf(D,W)/it;return{x:(N.x+X*B.x+(I.x+q*W.x))/2,y:(N.y+X*B.y+(I.y+q*W.y))/2}}(h,this.vector(),y,i.vector());return z===null?null:lf(c,z)?cf.round(z.x,z.y):null}},{key:"split",value:function(i){var s=[],a=i.events!==void 0,c=new ja(i,!0),h=new ja(i,!1),g=this.rightSE;this.replaceRightSE(h),s.push(h),s.push(c);var y=new e(c,g,this.rings.slice(),this.windings.slice());return ja.comparePoints(y.leftSE.point,y.rightSE.point)>0&&y.swapEvents(),ja.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),a&&(c.checkForConsuming(),h.checkForConsuming()),s}},{key:"swapEvents",value:function(){var i=this.rightSE;this.rightSE=this.leftSE,this.leftSE=i,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var s=0,a=this.windings.length;s<a;s++)this.windings[s]*=-1}},{key:"consume",value:function(i){for(var s=this,a=i;s.consumedBy;)s=s.consumedBy;for(;a.consumedBy;)a=a.consumedBy;var c=e.compare(s,a);if(c!==0){if(c>0){var h=s;s=a,a=h}if(s.prev===a){var g=s;s=a,a=g}for(var y=0,w=a.rings.length;y<w;y++){var x=a.rings[y],T=a.windings[y],E=s.rings.indexOf(x);E===-1?(s.rings.push(x),s.windings.push(T)):s.windings[E]+=T}a.rings=null,a.windings=null,a.consumedBy=s,a.leftSE.consumedBy=s.leftSE,a.rightSE.consumedBy=s.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(this.prev){var i=this.prev.consumedBy||this.prev;this._beforeState=i.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var i=this.beforeState();this._afterState={rings:i.rings.slice(0),windings:i.windings.slice(0),multiPolys:[]};for(var s=this._afterState.rings,a=this._afterState.windings,c=this._afterState.multiPolys,h=0,g=this.rings.length;h<g;h++){var y=this.rings[h],w=this.windings[h],x=s.indexOf(y);x===-1?(s.push(y),a.push(w)):a[x]+=w}for(var T=[],E=[],P=0,z=s.length;P<z;P++)if(a[P]!==0){var N=s[P],B=N.poly;if(E.indexOf(B)===-1)if(N.isExterior)T.push(B);else{E.indexOf(B)===-1&&E.push(B);var I=T.indexOf(N.poly);I!==-1&&T.splice(I,1)}}for(var W=0,it=T.length;W<it;W++){var D=T[W].multiPoly;c.indexOf(D)===-1&&c.push(D)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var i=this.beforeState().multiPolys,s=this.afterState().multiPolys;switch(sa.type){case"union":var a=i.length===0,c=s.length===0;this._isInResult=a!==c;break;case"intersection":var h,g;i.length<s.length?(h=i.length,g=s.length):(h=s.length,g=i.length),this._isInResult=g===sa.numMultiPolys&&h<g;break;case"xor":var y=Math.abs(i.length-s.length);this._isInResult=y%2==1;break;case"difference":var w=function(x){return x.length===1&&x[0].isSubject};this._isInResult=w(i)!==w(s);break;default:throw new Error("Unrecognized operation type found ".concat(sa.type))}return this._isInResult}}],[{key:"fromRing",value:function(i,s,a){var c,h,g,y=ja.comparePoints(i,s);if(y<0)c=i,h=s,g=1;else{if(!(y>0))throw new Error("Tried to create degenerate segment at [".concat(i.x,", ").concat(i.y,"]"));c=s,h=i,g=-1}return new e(new ja(c,!0),new ja(h,!1),[a],[g])}}]),e}(),ek=function(){function e(i,s,a){if(ks(this,e),!Array.isArray(i)||i.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=s,this.isExterior=a,this.segments=[],typeof i[0][0]!="number"||typeof i[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var c=cf.round(i[0][0],i[0][1]);this.bbox={ll:{x:c.x,y:c.y},ur:{x:c.x,y:c.y}};for(var h=c,g=1,y=i.length;g<y;g++){if(typeof i[g][0]!="number"||typeof i[g][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var w=cf.round(i[g][0],i[g][1]);w.x===h.x&&w.y===h.y||(this.segments.push(Ym.fromRing(h,w,this)),w.x<this.bbox.ll.x&&(this.bbox.ll.x=w.x),w.y<this.bbox.ll.y&&(this.bbox.ll.y=w.y),w.x>this.bbox.ur.x&&(this.bbox.ur.x=w.x),w.y>this.bbox.ur.y&&(this.bbox.ur.y=w.y),h=w)}c.x===h.x&&c.y===h.y||this.segments.push(Ym.fromRing(h,c,this))}return mo(e,[{key:"getSweepEvents",value:function(){for(var i=[],s=0,a=this.segments.length;s<a;s++){var c=this.segments[s];i.push(c.leftSE),i.push(c.rightSE)}return i}}]),e}(),dI=function(){function e(i,s){if(ks(this,e),!Array.isArray(i))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new ek(i[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var a=1,c=i.length;a<c;a++){var h=new ek(i[a],this,!1);h.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=h.bbox.ll.x),h.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=h.bbox.ll.y),h.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=h.bbox.ur.x),h.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=h.bbox.ur.y),this.interiorRings.push(h)}this.multiPoly=s}return mo(e,[{key:"getSweepEvents",value:function(){for(var i=this.exteriorRing.getSweepEvents(),s=0,a=this.interiorRings.length;s<a;s++)for(var c=this.interiorRings[s].getSweepEvents(),h=0,g=c.length;h<g;h++)i.push(c[h]);return i}}]),e}(),rk=function(){function e(i,s){if(ks(this,e),!Array.isArray(i))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof i[0][0][0]=="number"&&(i=[i])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var a=0,c=i.length;a<c;a++){var h=new dI(i[a],this);h.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=h.bbox.ll.x),h.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=h.bbox.ll.y),h.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=h.bbox.ur.x),h.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=h.bbox.ur.y),this.polys.push(h)}this.isSubject=s}return mo(e,[{key:"getSweepEvents",value:function(){for(var i=[],s=0,a=this.polys.length;s<a;s++)for(var c=this.polys[s].getSweepEvents(),h=0,g=c.length;h<g;h++)i.push(c[h]);return i}}]),e}(),pI=function(){function e(i){ks(this,e),this.events=i;for(var s=0,a=i.length;s<a;s++)i[s].segment.ringOut=this;this.poly=null}return mo(e,null,[{key:"factory",value:function(i){for(var s=[],a=0,c=i.length;a<c;a++){var h=i[a];if(h.isInResult()&&!h.ringOut){for(var g=null,y=h.leftSE,w=h.rightSE,x=[y],T=y.point,E=[];g=y,y=w,x.push(y),y.point!==T;)for(;;){var P=y.getAvailableLinkedEvents();if(P.length===0){var z=x[0].point,N=x[x.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(z.x,",")+" ".concat(z.y,"]. Last matching segment found ends at")+" [".concat(N.x,", ").concat(N.y,"]."))}if(P.length===1){w=P[0].otherSE;break}for(var B=null,I=0,W=E.length;I<W;I++)if(E[I].point===y.point){B=I;break}if(B===null){E.push({index:x.length,point:y.point});var it=y.getLeftmostComparator(g);w=P.sort(it)[0].otherSE;break}var D=E.splice(B)[0],q=x.splice(D.index);q.unshift(q[0].otherSE),s.push(new e(q.reverse()))}s.push(new e(x))}}return s}}]),mo(e,[{key:"getGeom",value:function(){for(var i=this.events[0].point,s=[i],a=1,c=this.events.length-1;a<c;a++){var h=this.events[a].point,g=this.events[a+1].point;Q_(h,i,g)!==0&&(s.push(h),i=h)}if(s.length===1)return null;var y=s[0],w=s[1];Q_(y,i,w)===0&&s.shift(),s.push(s[0]);for(var x=this.isExteriorRing()?1:-1,T=this.isExteriorRing()?0:s.length-1,E=this.isExteriorRing()?s.length:-1,P=[],z=T;z!=E;z+=x)P.push([s[z].x,s[z].y]);return P}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var i=this.enclosingRing();this._isExteriorRing=!i||!i.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var i=this.events[0],s=1,a=this.events.length;s<a;s++){var c=this.events[s];ja.compare(i,c)>0&&(i=c)}for(var h=i.segment.prevInResult(),g=h?h.prevInResult():null;;){if(!h)return null;if(!g)return h.ringOut;if(g.ringOut!==h.ringOut)return g.ringOut.enclosingRing()!==h.ringOut?h.ringOut:h.ringOut.enclosingRing();h=g.prevInResult(),g=h?h.prevInResult():null}}}]),e}(),ik=function(){function e(i){ks(this,e),this.exteriorRing=i,i.poly=this,this.interiorRings=[]}return mo(e,[{key:"addInterior",value:function(i){this.interiorRings.push(i),i.poly=this}},{key:"getGeom",value:function(){var i=[this.exteriorRing.getGeom()];if(i[0]===null)return null;for(var s=0,a=this.interiorRings.length;s<a;s++){var c=this.interiorRings[s].getGeom();c!==null&&i.push(c)}return i}}]),e}(),fI=function(){function e(i){ks(this,e),this.rings=i,this.polys=this._composePolys(i)}return mo(e,[{key:"getGeom",value:function(){for(var i=[],s=0,a=this.polys.length;s<a;s++){var c=this.polys[s].getGeom();c!==null&&i.push(c)}return i}},{key:"_composePolys",value:function(i){for(var s=[],a=0,c=i.length;a<c;a++){var h=i[a];if(!h.poly)if(h.isExteriorRing())s.push(new ik(h));else{var g=h.enclosingRing();g.poly||s.push(new ik(g)),g.poly.addInterior(h)}}return s}}]),e}(),gI=function(){function e(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ym.compare;ks(this,e),this.queue=i,this.tree=new kb(s),this.segments=[]}return mo(e,[{key:"process",value:function(i){var s=i.segment,a=[];if(i.consumedBy)return i.isLeft?this.queue.remove(i.otherSE):this.tree.remove(s),a;var c=i.isLeft?this.tree.insert(s):this.tree.find(s);if(!c)throw new Error("Unable to find segment #".concat(s.id," ")+"[".concat(s.leftSE.point.x,", ").concat(s.leftSE.point.y,"] -> ")+"[".concat(s.rightSE.point.x,", ").concat(s.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var h=c,g=c,y=void 0,w=void 0;y===void 0;)(h=this.tree.prev(h))===null?y=null:h.key.consumedBy===void 0&&(y=h.key);for(;w===void 0;)(g=this.tree.next(g))===null?w=null:g.key.consumedBy===void 0&&(w=g.key);if(i.isLeft){var x=null;if(y){var T=y.getIntersection(s);if(T!==null&&(s.isAnEndpoint(T)||(x=T),!y.isAnEndpoint(T)))for(var E=this._splitSafely(y,T),P=0,z=E.length;P<z;P++)a.push(E[P])}var N=null;if(w){var B=w.getIntersection(s);if(B!==null&&(s.isAnEndpoint(B)||(N=B),!w.isAnEndpoint(B)))for(var I=this._splitSafely(w,B),W=0,it=I.length;W<it;W++)a.push(I[W])}if(x!==null||N!==null){var D=null;x===null?D=N:N===null?D=x:D=ja.comparePoints(x,N)<=0?x:N,this.queue.remove(s.rightSE),a.push(s.rightSE);for(var q=s.split(D),X=0,tt=q.length;X<tt;X++)a.push(q[X])}a.length>0?(this.tree.remove(s),a.push(i)):(this.segments.push(s),s.prev=y)}else{if(y&&w){var Q=y.getIntersection(w);if(Q!==null){if(!y.isAnEndpoint(Q))for(var Rt=this._splitSafely(y,Q),kt=0,zt=Rt.length;kt<zt;kt++)a.push(Rt[kt]);if(!w.isAnEndpoint(Q))for(var Tt=this._splitSafely(w,Q),Ft=0,Mt=Tt.length;Ft<Mt;Ft++)a.push(Tt[Ft])}}this.tree.remove(s)}return a}},{key:"_splitSafely",value:function(i,s){this.tree.remove(i);var a=i.rightSE;this.queue.remove(a);var c=i.split(s);return c.push(a),i.consumedBy===void 0&&this.tree.insert(i),c}}]),e}(),nk=typeof process<"u"&&{version:"0.1.0"}.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,mI=typeof process<"u"&&{version:"0.1.0"}.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,sa=new(function(){function e(){ks(this,e)}return mo(e,[{key:"run",value:function(i,s,a){sa.type=i,cf.reset();for(var c=[new rk(s,!0)],h=0,g=a.length;h<g;h++)c.push(new rk(a[h],!1));if(sa.numMultiPolys=c.length,sa.type==="difference")for(var y=c[0],w=1;w<c.length;)Cb(c[w].bbox,y.bbox)!==null?w++:c.splice(w,1);if(sa.type==="intersection"){for(var x=0,T=c.length;x<T;x++)for(var E=c[x],P=x+1,z=c.length;P<z;P++)if(Cb(E.bbox,c[P].bbox)===null)return[]}for(var N=new kb(ja.compare),B=0,I=c.length;B<I;B++)for(var W=c[B].getSweepEvents(),it=0,D=W.length;it<D;it++)if(N.insert(W[it]),N.size>nk)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var q=new gI(N),X=N.size,tt=N.pop();tt;){var Q=tt.key;if(N.size===X){var Rt=Q.segment;throw new Error("Unable to pop() ".concat(Q.isLeft?"left":"right"," SweepEvent ")+"[".concat(Q.point.x,", ").concat(Q.point.y,"] from segment #").concat(Rt.id," ")+"[".concat(Rt.leftSE.point.x,", ").concat(Rt.leftSE.point.y,"] -> ")+"[".concat(Rt.rightSE.point.x,", ").concat(Rt.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(N.size>nk)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(q.segments.length>mI)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var kt=q.process(Q),zt=0,Tt=kt.length;zt<Tt;zt++){var Ft=kt[zt];Ft.consumedBy===void 0&&N.insert(Ft)}X=N.size,tt=N.pop()}cf.reset();var Mt=pI.factory(q.segments);return new fI(Mt).getGeom()}}]),e}()),Rl={union:function(e){for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];return sa.run("union",e,s)},intersection:function(e){for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];return sa.run("intersection",e,s)},xor:function(e){for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];return sa.run("xor",e,s)},difference:function(e){for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];return sa.run("difference",e,s)}};"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(e){if(this==null)throw new TypeError(this+" is not an object");var i=Object(this),s=Math.max(Math.min(i.length,9007199254740991),0)||0,a=1 in arguments&&parseInt(Number(arguments[1]),10)||0;a=a<0?Math.max(s+a,0):Math.min(a,s);var c=2 in arguments&&arguments[2]!==void 0?parseInt(Number(arguments[2]),10)||0:s;for(c=c<0?Math.max(s+arguments[2],0):Math.min(c,s);a<c;)i[a]=e,++a;return i},writable:!0}),Number.isFinite=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},Number.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(e){return e!=e},Math.trunc=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};var Nu=function(){};Nu.prototype.interfaces_=function(){return[]},Nu.prototype.getClass=function(){return Nu},Nu.prototype.equalsWithTolerance=function(e,i,s){return Math.abs(e-i)<=s};var ki=function(e){function i(s){e.call(this,s),this.name="IllegalArgumentException",this.message=s,this.stack=new e().stack}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i}(Error),Qe=function(){},ok={MAX_VALUE:{configurable:!0}};Qe.isNaN=function(e){return Number.isNaN(e)},Qe.doubleToLongBits=function(e){return e},Qe.longBitsToDouble=function(e){return e},Qe.isInfinite=function(e){return!Number.isFinite(e)},ok.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(Qe,ok);var Ro=function(){},Xm=function(){},od=function(){};function Ao(){}var Ct=function e(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)this.x=0,this.y=0,this.z=e.NULL_ORDINATE;else if(arguments.length===1){var i=arguments[0];this.x=i.x,this.y=i.y,this.z=i.z}else arguments.length===2?(this.x=arguments[0],this.y=arguments[1],this.z=e.NULL_ORDINATE):arguments.length===3&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},Du={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};Ct.prototype.setOrdinate=function(e,i){switch(e){case Ct.X:this.x=i;break;case Ct.Y:this.y=i;break;case Ct.Z:this.z=i;break;default:throw new ki("Invalid ordinate index: "+e)}},Ct.prototype.equals2D=function(){if(arguments.length===1){var e=arguments[0];return this.x===e.x&&this.y===e.y}if(arguments.length===2){var i=arguments[0],s=arguments[1];return!!Nu.equalsWithTolerance(this.x,i.x,s)&&!!Nu.equalsWithTolerance(this.y,i.y,s)}},Ct.prototype.getOrdinate=function(e){switch(e){case Ct.X:return this.x;case Ct.Y:return this.y;case Ct.Z:return this.z}throw new ki("Invalid ordinate index: "+e)},Ct.prototype.equals3D=function(e){return this.x===e.x&&this.y===e.y&&(this.z===e.z||Qe.isNaN(this.z))&&Qe.isNaN(e.z)},Ct.prototype.equals=function(e){return e instanceof Ct&&this.equals2D(e)},Ct.prototype.equalInZ=function(e,i){return Nu.equalsWithTolerance(this.z,e.z,i)},Ct.prototype.compareTo=function(e){var i=e;return this.x<i.x?-1:this.x>i.x?1:this.y<i.y?-1:this.y>i.y?1:0},Ct.prototype.clone=function(){},Ct.prototype.copy=function(){return new Ct(this)},Ct.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},Ct.prototype.distance3D=function(e){var i=this.x-e.x,s=this.y-e.y,a=this.z-e.z;return Math.sqrt(i*i+s*s+a*a)},Ct.prototype.distance=function(e){var i=this.x-e.x,s=this.y-e.y;return Math.sqrt(i*i+s*s)},Ct.prototype.hashCode=function(){var e=17;return e=37*(e=37*e+Ct.hashCode(this.x))+Ct.hashCode(this.y)},Ct.prototype.setCoordinate=function(e){this.x=e.x,this.y=e.y,this.z=e.z},Ct.prototype.interfaces_=function(){return[Ro,Xm,Ao]},Ct.prototype.getClass=function(){return Ct},Ct.hashCode=function(){if(arguments.length===1){var e=arguments[0],i=Qe.doubleToLongBits(e);return Math.trunc((i^i)>>>32)}},Du.DimensionalComparator.get=function(){return Al},Du.serialVersionUID.get=function(){return 6683108902428367e3},Du.NULL_ORDINATE.get=function(){return Qe.NaN},Du.X.get=function(){return 0},Du.Y.get=function(){return 1},Du.Z.get=function(){return 2},Object.defineProperties(Ct,Du);var Al=function(e){if(this._dimensionsToTest=2,arguments.length!==0){if(arguments.length===1){var i=arguments[0];if(i!==2&&i!==3)throw new ki("only 2 or 3 dimensions may be specified");this._dimensionsToTest=i}}};Al.prototype.compare=function(e,i){var s=e,a=i,c=Al.compare(s.x,a.x);if(c!==0)return c;var h=Al.compare(s.y,a.y);return h!==0?h:this._dimensionsToTest<=2?0:Al.compare(s.z,a.z)},Al.prototype.interfaces_=function(){return[od]},Al.prototype.getClass=function(){return Al},Al.compare=function(e,i){return e<i?-1:e>i?1:Qe.isNaN(e)?Qe.isNaN(i)?0:-1:Qe.isNaN(i)?1:0};var sd=function(){};sd.prototype.create=function(){},sd.prototype.interfaces_=function(){return[]},sd.prototype.getClass=function(){return sd};var At=function(){},hf={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};At.prototype.interfaces_=function(){return[]},At.prototype.getClass=function(){return At},At.toLocationSymbol=function(e){switch(e){case At.EXTERIOR:return"e";case At.BOUNDARY:return"b";case At.INTERIOR:return"i";case At.NONE:return"-"}throw new ki("Unknown location value: "+e)},hf.INTERIOR.get=function(){return 0},hf.BOUNDARY.get=function(){return 1},hf.EXTERIOR.get=function(){return 2},hf.NONE.get=function(){return-1},Object.defineProperties(At,hf);var qe=function(e,i){return e.interfaces_&&e.interfaces_().indexOf(i)>-1},vo=function(){},sk={LOG_10:{configurable:!0}};vo.prototype.interfaces_=function(){return[]},vo.prototype.getClass=function(){return vo},vo.log10=function(e){var i=Math.log(e);return Qe.isInfinite(i)||Qe.isNaN(i)?i:i/vo.LOG_10},vo.min=function(e,i,s,a){var c=e;return i<c&&(c=i),s<c&&(c=s),a<c&&(c=a),c},vo.clamp=function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],i=arguments[1],s=arguments[2];return e<i?i:e>s?s:e}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var a=arguments[0],c=arguments[1],h=arguments[2];return a<c?c:a>h?h:a}},vo.wrap=function(e,i){return e<0?i- -e%i:e%i},vo.max=function(){if(arguments.length===3){var e=arguments[0],i=arguments[1],s=arguments[2],a=e;return i>a&&(a=i),s>a&&(a=s),a}if(arguments.length===4){var c=arguments[0],h=arguments[1],g=arguments[2],y=arguments[3],w=c;return h>w&&(w=h),g>w&&(w=g),y>w&&(w=y),w}},vo.average=function(e,i){return(e+i)/2},sk.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(vo,sk);var Es=function(e){this.str=e};Es.prototype.append=function(e){this.str+=e},Es.prototype.setCharAt=function(e,i){this.str=this.str.substr(0,e)+i+this.str.substr(e+1)},Es.prototype.toString=function(e){return this.str};var Ts=function(e){this.value=e};Ts.prototype.intValue=function(){return this.value},Ts.prototype.compareTo=function(e){return this.value<e?-1:this.value>e?1:0},Ts.isNaN=function(e){return Number.isNaN(e)};var df=function(){};df.isWhitespace=function(e){return e<=32&&e>=0||e===127},df.toUpperCase=function(e){return e.toUpperCase()};var Dt=function e(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var i=arguments[0];this.init(i)}else if(arguments[0]instanceof e){var s=arguments[0];this.init(s)}else if(typeof arguments[0]=="string"){var a=arguments[0];e.call(this,e.parse(a))}}else if(arguments.length===2){var c=arguments[0],h=arguments[1];this.init(c,h)}},ts={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};Dt.prototype.le=function(e){return(this._hi<e._hi||this._hi===e._hi)&&this._lo<=e._lo},Dt.prototype.extractSignificantDigits=function(e,i){var s=this.abs(),a=Dt.magnitude(s._hi),c=Dt.TEN.pow(a);(s=s.divide(c)).gt(Dt.TEN)?(s=s.divide(Dt.TEN),a+=1):s.lt(Dt.ONE)&&(s=s.multiply(Dt.TEN),a-=1);for(var h=a+1,g=new Es,y=Dt.MAX_PRINT_DIGITS-1,w=0;w<=y;w++){e&&w===h&&g.append(".");var x=Math.trunc(s._hi);if(x<0)break;var T=!1,E=0;x>9?(T=!0,E="9"):E="0"+x,g.append(E),s=s.subtract(Dt.valueOf(x)).multiply(Dt.TEN),T&&s.selfAdd(Dt.TEN);var P=!0,z=Dt.magnitude(s._hi);if(z<0&&Math.abs(z)>=y-w&&(P=!1),!P)break}return i[0]=a,g.toString()},Dt.prototype.sqr=function(){return this.multiply(this)},Dt.prototype.doubleValue=function(){return this._hi+this._lo},Dt.prototype.subtract=function(){if(arguments[0]instanceof Dt){var e=arguments[0];return this.add(e.negate())}if(typeof arguments[0]=="number"){var i=arguments[0];return this.add(-i)}},Dt.prototype.equals=function(){if(arguments.length===1){var e=arguments[0];return this._hi===e._hi&&this._lo===e._lo}},Dt.prototype.isZero=function(){return this._hi===0&&this._lo===0},Dt.prototype.selfSubtract=function(){if(arguments[0]instanceof Dt){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e._hi,-e._lo)}if(typeof arguments[0]=="number"){var i=arguments[0];return this.isNaN()?this:this.selfAdd(-i,0)}},Dt.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},Dt.prototype.min=function(e){return this.le(e)?this:e},Dt.prototype.selfDivide=function(){if(arguments.length===1){if(arguments[0]instanceof Dt){var e=arguments[0];return this.selfDivide(e._hi,e._lo)}if(typeof arguments[0]=="number"){var i=arguments[0];return this.selfDivide(i,0)}}else if(arguments.length===2){var s=arguments[0],a=arguments[1],c=null,h=null,g=null,y=null,w=null,x=null,T=null,E=null;return w=this._hi/s,E=(c=(x=Dt.SPLIT*w)-(c=x-w))*(g=(E=Dt.SPLIT*s)-(g=E-s))-(T=w*s)+c*(y=s-g)+(h=w-c)*g+h*y,E=w+(x=(this._hi-T-E+this._lo-w*a)/s),this._hi=E,this._lo=w-E+x,this}},Dt.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},Dt.prototype.divide=function(){if(arguments[0]instanceof Dt){var e=arguments[0],i=null,s=null,a=null,c=null,h=null,g=null,y=null,w=null;s=(h=this._hi/e._hi)-(i=(g=Dt.SPLIT*h)-(i=g-h)),w=i*(a=(w=Dt.SPLIT*e._hi)-(a=w-e._hi))-(y=h*e._hi)+i*(c=e._hi-a)+s*a+s*c;var x=w=h+(g=(this._hi-y-w+this._lo-h*e._lo)/e._hi),T=h-w+g;return new Dt(x,T)}if(typeof arguments[0]=="number"){var E=arguments[0];return Qe.isNaN(E)?Dt.createNaN():Dt.copy(this).selfDivide(E,0)}},Dt.prototype.ge=function(e){return(this._hi>e._hi||this._hi===e._hi)&&this._lo>=e._lo},Dt.prototype.pow=function(e){if(e===0)return Dt.valueOf(1);var i=new Dt(this),s=Dt.valueOf(1),a=Math.abs(e);if(a>1)for(;a>0;)a%2==1&&s.selfMultiply(i),(a/=2)>0&&(i=i.sqr());else s=i;return e<0?s.reciprocal():s},Dt.prototype.ceil=function(){if(this.isNaN())return Dt.NaN;var e=Math.ceil(this._hi),i=0;return e===this._hi&&(i=Math.ceil(this._lo)),new Dt(e,i)},Dt.prototype.compareTo=function(e){var i=e;return this._hi<i._hi?-1:this._hi>i._hi?1:this._lo<i._lo?-1:this._lo>i._lo?1:0},Dt.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},Dt.prototype.setValue=function(){if(arguments[0]instanceof Dt){var e=arguments[0];return this.init(e),this}if(typeof arguments[0]=="number"){var i=arguments[0];return this.init(i),this}},Dt.prototype.max=function(e){return this.ge(e)?this:e},Dt.prototype.sqrt=function(){if(this.isZero())return Dt.valueOf(0);if(this.isNegative())return Dt.NaN;var e=1/Math.sqrt(this._hi),i=this._hi*e,s=Dt.valueOf(i),a=this.subtract(s.sqr())._hi*(.5*e);return s.add(a)},Dt.prototype.selfAdd=function(){if(arguments.length===1){if(arguments[0]instanceof Dt){var e=arguments[0];return this.selfAdd(e._hi,e._lo)}if(typeof arguments[0]=="number"){var i=arguments[0],s=null,a=null,c=null,h=null,g=null,y=null;return h=(c=this._hi+i)-(g=c-this._hi),a=(y=(h=i-g+(this._hi-h))+this._lo)+(c-(s=c+y)),this._hi=s+a,this._lo=a+(s-this._hi),this}}else if(arguments.length===2){var w=arguments[0],x=arguments[1],T=null,E=null,P=null,z=null,N=null,B=null,I=null;z=this._hi+w,E=this._lo+x,N=z-(B=z-this._hi),P=E-(I=E-this._lo);var W=(T=z+(B=(N=w-B+(this._hi-N))+E))+(B=(P=x-I+(this._lo-P))+(B+(z-T))),it=B+(T-W);return this._hi=W,this._lo=it,this}},Dt.prototype.selfMultiply=function(){if(arguments.length===1){if(arguments[0]instanceof Dt){var e=arguments[0];return this.selfMultiply(e._hi,e._lo)}if(typeof arguments[0]=="number"){var i=arguments[0];return this.selfMultiply(i,0)}}else if(arguments.length===2){var s=arguments[0],a=arguments[1],c=null,h=null,g=null,y=null,w=null,x=null;c=(w=Dt.SPLIT*this._hi)-this._hi,x=Dt.SPLIT*s,c=w-c,h=this._hi-c,g=x-s;var T=(w=this._hi*s)+(x=c*(g=x-g)-w+c*(y=s-g)+h*g+h*y+(this._hi*a+this._lo*s)),E=x+(c=w-T);return this._hi=T,this._lo=E,this}},Dt.prototype.selfSqr=function(){return this.selfMultiply(this)},Dt.prototype.floor=function(){if(this.isNaN())return Dt.NaN;var e=Math.floor(this._hi),i=0;return e===this._hi&&(i=Math.floor(this._lo)),new Dt(e,i)},Dt.prototype.negate=function(){return this.isNaN()?this:new Dt(-this._hi,-this._lo)},Dt.prototype.clone=function(){},Dt.prototype.multiply=function(){if(arguments[0]instanceof Dt){var e=arguments[0];return e.isNaN()?Dt.createNaN():Dt.copy(this).selfMultiply(e)}if(typeof arguments[0]=="number"){var i=arguments[0];return Qe.isNaN(i)?Dt.createNaN():Dt.copy(this).selfMultiply(i,0)}},Dt.prototype.isNaN=function(){return Qe.isNaN(this._hi)},Dt.prototype.intValue=function(){return Math.trunc(this._hi)},Dt.prototype.toString=function(){var e=Dt.magnitude(this._hi);return e>=-3&&e<=20?this.toStandardNotation():this.toSciNotation()},Dt.prototype.toStandardNotation=function(){var e=this.getSpecialNumberString();if(e!==null)return e;var i=new Array(1).fill(null),s=this.extractSignificantDigits(!0,i),a=i[0]+1,c=s;if(s.charAt(0)===".")c="0"+s;else if(a<0)c="0."+Dt.stringOfChar("0",-a)+s;else if(s.indexOf(".")===-1){var h=a-s.length;c=s+Dt.stringOfChar("0",h)+".0"}return this.isNegative()?"-"+c:c},Dt.prototype.reciprocal=function(){var e,i,s,a,c=null,h=null,g=null,y=null;e=(s=1/this._hi)-(c=(g=Dt.SPLIT*s)-(c=g-s)),h=(y=Dt.SPLIT*this._hi)-this._hi;var w=s+(g=(1-(a=s*this._hi)-(y=c*(h=y-h)-a+c*(i=this._hi-h)+e*h+e*i)-s*this._lo)/this._hi);return new Dt(w,s-w+g)},Dt.prototype.toSciNotation=function(){if(this.isZero())return Dt.SCI_NOT_ZERO;var e=this.getSpecialNumberString();if(e!==null)return e;var i=new Array(1).fill(null),s=this.extractSignificantDigits(!1,i),a=Dt.SCI_NOT_EXPONENT_CHAR+i[0];if(s.charAt(0)==="0")throw new Error("Found leading zero: "+s);var c="";s.length>1&&(c=s.substring(1));var h=s.charAt(0)+"."+c;return this.isNegative()?"-"+h+a:h+a},Dt.prototype.abs=function(){return this.isNaN()?Dt.NaN:this.isNegative()?this.negate():new Dt(this)},Dt.prototype.isPositive=function(){return(this._hi>0||this._hi===0)&&this._lo>0},Dt.prototype.lt=function(e){return(this._hi<e._hi||this._hi===e._hi)&&this._lo<e._lo},Dt.prototype.add=function(){if(arguments[0]instanceof Dt){var e=arguments[0];return Dt.copy(this).selfAdd(e)}if(typeof arguments[0]=="number"){var i=arguments[0];return Dt.copy(this).selfAdd(i)}},Dt.prototype.init=function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var e=arguments[0];this._hi=e,this._lo=0}else if(arguments[0]instanceof Dt){var i=arguments[0];this._hi=i._hi,this._lo=i._lo}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];this._hi=s,this._lo=a}},Dt.prototype.gt=function(e){return(this._hi>e._hi||this._hi===e._hi)&&this._lo>e._lo},Dt.prototype.isNegative=function(){return(this._hi<0||this._hi===0)&&this._lo<0},Dt.prototype.trunc=function(){return this.isNaN()?Dt.NaN:this.isPositive()?this.floor():this.ceil()},Dt.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},Dt.prototype.interfaces_=function(){return[Ao,Ro,Xm]},Dt.prototype.getClass=function(){return Dt},Dt.sqr=function(e){return Dt.valueOf(e).selfMultiply(e)},Dt.valueOf=function(){if(typeof arguments[0]=="string"){var e=arguments[0];return Dt.parse(e)}if(typeof arguments[0]=="number"){var i=arguments[0];return new Dt(i)}},Dt.sqrt=function(e){return Dt.valueOf(e).sqrt()},Dt.parse=function(e){for(var i=0,s=e.length;df.isWhitespace(e.charAt(i));)i++;var a=!1;if(i<s){var c=e.charAt(i);c!=="-"&&c!=="+"||(i++,c==="-"&&(a=!0))}for(var h=new Dt,g=0,y=0,w=0;!(i>=s);){var x=e.charAt(i);if(i++,df.isDigit(x)){var T=x-"0";h.selfMultiply(Dt.TEN),h.selfAdd(T),g++}else{if(x!=="."){if(x==="e"||x==="E"){var E=e.substring(i);try{w=Ts.parseInt(E)}catch(I){throw I instanceof Error?new Error("Invalid exponent "+E+" in string "+e):I}break}throw new Error("Unexpected character '"+x+"' at position "+i+" in string "+e)}y=g}}var P=h,z=g-y-w;if(z===0)P=h;else if(z>0){var N=Dt.TEN.pow(z);P=h.divide(N)}else if(z<0){var B=Dt.TEN.pow(-z);P=h.multiply(B)}return a?P.negate():P},Dt.createNaN=function(){return new Dt(Qe.NaN,Qe.NaN)},Dt.copy=function(e){return new Dt(e)},Dt.magnitude=function(e){var i=Math.abs(e),s=Math.log(i)/Math.log(10),a=Math.trunc(Math.floor(s));return 10*Math.pow(10,a)<=i&&(a+=1),a},Dt.stringOfChar=function(e,i){for(var s=new Es,a=0;a<i;a++)s.append(e);return s.toString()},ts.PI.get=function(){return new Dt(3.141592653589793,12246467991473532e-32)},ts.TWO_PI.get=function(){return new Dt(6.283185307179586,24492935982947064e-32)},ts.PI_2.get=function(){return new Dt(1.5707963267948966,6123233995736766e-32)},ts.E.get=function(){return new Dt(2.718281828459045,14456468917292502e-32)},ts.NaN.get=function(){return new Dt(Qe.NaN,Qe.NaN)},ts.EPS.get=function(){return 123259516440783e-46},ts.SPLIT.get=function(){return 134217729},ts.MAX_PRINT_DIGITS.get=function(){return 32},ts.TEN.get=function(){return Dt.valueOf(10)},ts.ONE.get=function(){return Dt.valueOf(1)},ts.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},ts.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(Dt,ts);var Wn=function(){},ak={DP_SAFE_EPSILON:{configurable:!0}};Wn.prototype.interfaces_=function(){return[]},Wn.prototype.getClass=function(){return Wn},Wn.orientationIndex=function(e,i,s){var a=Wn.orientationIndexFilter(e,i,s);if(a<=1)return a;var c=Dt.valueOf(i.x).selfAdd(-e.x),h=Dt.valueOf(i.y).selfAdd(-e.y),g=Dt.valueOf(s.x).selfAdd(-i.x),y=Dt.valueOf(s.y).selfAdd(-i.y);return c.selfMultiply(y).selfSubtract(h.selfMultiply(g)).signum()},Wn.signOfDet2x2=function(e,i,s,a){return e.multiply(a).selfSubtract(i.multiply(s)).signum()},Wn.intersection=function(e,i,s,a){var c=Dt.valueOf(a.y).selfSubtract(s.y).selfMultiply(Dt.valueOf(i.x).selfSubtract(e.x)),h=Dt.valueOf(a.x).selfSubtract(s.x).selfMultiply(Dt.valueOf(i.y).selfSubtract(e.y)),g=c.subtract(h),y=Dt.valueOf(a.x).selfSubtract(s.x).selfMultiply(Dt.valueOf(e.y).selfSubtract(s.y)),w=Dt.valueOf(a.y).selfSubtract(s.y).selfMultiply(Dt.valueOf(e.x).selfSubtract(s.x)),x=y.subtract(w).selfDivide(g).doubleValue(),T=Dt.valueOf(e.x).selfAdd(Dt.valueOf(i.x).selfSubtract(e.x).selfMultiply(x)).doubleValue(),E=Dt.valueOf(i.x).selfSubtract(e.x).selfMultiply(Dt.valueOf(e.y).selfSubtract(s.y)),P=Dt.valueOf(i.y).selfSubtract(e.y).selfMultiply(Dt.valueOf(e.x).selfSubtract(s.x)),z=E.subtract(P).selfDivide(g).doubleValue(),N=Dt.valueOf(s.y).selfAdd(Dt.valueOf(a.y).selfSubtract(s.y).selfMultiply(z)).doubleValue();return new Ct(T,N)},Wn.orientationIndexFilter=function(e,i,s){var a=null,c=(e.x-s.x)*(i.y-s.y),h=(e.y-s.y)*(i.x-s.x),g=c-h;if(c>0){if(h<=0)return Wn.signum(g);a=c+h}else{if(!(c<0)||h>=0)return Wn.signum(g);a=-c-h}var y=Wn.DP_SAFE_EPSILON*a;return g>=y||-g>=y?Wn.signum(g):2},Wn.signum=function(e){return e>0?1:e<0?-1:0},ak.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(Wn,ak);var yr=function(){},pf={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};pf.X.get=function(){return 0},pf.Y.get=function(){return 1},pf.Z.get=function(){return 2},pf.M.get=function(){return 3},yr.prototype.setOrdinate=function(e,i,s){},yr.prototype.size=function(){},yr.prototype.getOrdinate=function(e,i){},yr.prototype.getCoordinate=function(){},yr.prototype.getCoordinateCopy=function(e){},yr.prototype.getDimension=function(){},yr.prototype.getX=function(e){},yr.prototype.clone=function(){},yr.prototype.expandEnvelope=function(e){},yr.prototype.copy=function(){},yr.prototype.getY=function(e){},yr.prototype.toCoordinateArray=function(){},yr.prototype.interfaces_=function(){return[Xm]},yr.prototype.getClass=function(){return yr},Object.defineProperties(yr,pf);var lk=function(){},ad=function(e){function i(){e.call(this,"Projective point not representable on the Cartesian plane.")}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(lk),hn=function(){};hn.arraycopy=function(e,i,s,a,c){for(var h=0,g=i;g<i+c;g++)s[a+h]=e[g],h++},hn.getProperty=function(e){return{"line.separator":`
`}[e]};var es=function e(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var i=arguments[0];this.x=i.x,this.y=i.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var s=arguments[0],a=arguments[1];this.x=s,this.y=a,this.w=1}else if(arguments[0]instanceof e&&arguments[1]instanceof e){var c=arguments[0],h=arguments[1];this.x=c.y*h.w-h.y*c.w,this.y=h.x*c.w-c.x*h.w,this.w=c.x*h.y-h.x*c.y}else if(arguments[0]instanceof Ct&&arguments[1]instanceof Ct){var g=arguments[0],y=arguments[1];this.x=g.y-y.y,this.y=y.x-g.x,this.w=g.x*y.y-y.x*g.y}}else if(arguments.length===3){var w=arguments[0],x=arguments[1],T=arguments[2];this.x=w,this.y=x,this.w=T}else if(arguments.length===4){var E=arguments[0],P=arguments[1],z=arguments[2],N=arguments[3],B=E.y-P.y,I=P.x-E.x,W=E.x*P.y-P.x*E.y,it=z.y-N.y,D=N.x-z.x,q=z.x*N.y-N.x*z.y;this.x=I*q-D*W,this.y=it*W-B*q,this.w=B*D-it*I}};es.prototype.getY=function(){var e=this.y/this.w;if(Qe.isNaN(e)||Qe.isInfinite(e))throw new ad;return e},es.prototype.getX=function(){var e=this.x/this.w;if(Qe.isNaN(e)||Qe.isInfinite(e))throw new ad;return e},es.prototype.getCoordinate=function(){var e=new Ct;return e.x=this.getX(),e.y=this.getY(),e},es.prototype.interfaces_=function(){return[]},es.prototype.getClass=function(){return es},es.intersection=function(e,i,s,a){var c=e.y-i.y,h=i.x-e.x,g=e.x*i.y-i.x*e.y,y=s.y-a.y,w=a.x-s.x,x=s.x*a.y-a.x*s.y,T=c*w-y*h,E=(h*x-w*g)/T,P=(y*g-c*x)/T;if(Qe.isNaN(E)||Qe.isInfinite(E)||Qe.isNaN(P)||Qe.isInfinite(P))throw new ad;return new Ct(E,P)};var Ae=function e(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof Ct){var i=arguments[0];this.init(i.x,i.x,i.y,i.y)}else if(arguments[0]instanceof e){var s=arguments[0];this.init(s)}}else if(arguments.length===2){var a=arguments[0],c=arguments[1];this.init(a.x,c.x,a.y,c.y)}else if(arguments.length===4){var h=arguments[0],g=arguments[1],y=arguments[2],w=arguments[3];this.init(h,g,y,w)}},ck={serialVersionUID:{configurable:!0}};Ae.prototype.getArea=function(){return this.getWidth()*this.getHeight()},Ae.prototype.equals=function(e){if(!(e instanceof Ae))return!1;var i=e;return this.isNull()?i.isNull():this._maxx===i.getMaxX()&&this._maxy===i.getMaxY()&&this._minx===i.getMinX()&&this._miny===i.getMinY()},Ae.prototype.intersection=function(e){if(this.isNull()||e.isNull()||!this.intersects(e))return new Ae;var i=this._minx>e._minx?this._minx:e._minx,s=this._miny>e._miny?this._miny:e._miny,a=this._maxx<e._maxx?this._maxx:e._maxx,c=this._maxy<e._maxy?this._maxy:e._maxy;return new Ae(i,a,s,c)},Ae.prototype.isNull=function(){return this._maxx<this._minx},Ae.prototype.getMaxX=function(){return this._maxx},Ae.prototype.covers=function(){if(arguments.length===1){if(arguments[0]instanceof Ct){var e=arguments[0];return this.covers(e.x,e.y)}if(arguments[0]instanceof Ae){var i=arguments[0];return!this.isNull()&&!i.isNull()&&i.getMinX()>=this._minx&&i.getMaxX()<=this._maxx&&i.getMinY()>=this._miny&&i.getMaxY()<=this._maxy}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];return!this.isNull()&&s>=this._minx&&s<=this._maxx&&a>=this._miny&&a<=this._maxy}},Ae.prototype.intersects=function(){if(arguments.length===1){if(arguments[0]instanceof Ae){var e=arguments[0];return!this.isNull()&&!e.isNull()&&!(e._minx>this._maxx||e._maxx<this._minx||e._miny>this._maxy||e._maxy<this._miny)}if(arguments[0]instanceof Ct){var i=arguments[0];return this.intersects(i.x,i.y)}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];return!this.isNull()&&!(s>this._maxx||s<this._minx||a>this._maxy||a<this._miny)}},Ae.prototype.getMinY=function(){return this._miny},Ae.prototype.getMinX=function(){return this._minx},Ae.prototype.expandToInclude=function(){if(arguments.length===1){if(arguments[0]instanceof Ct){var e=arguments[0];this.expandToInclude(e.x,e.y)}else if(arguments[0]instanceof Ae){var i=arguments[0];if(i.isNull())return null;this.isNull()?(this._minx=i.getMinX(),this._maxx=i.getMaxX(),this._miny=i.getMinY(),this._maxy=i.getMaxY()):(i._minx<this._minx&&(this._minx=i._minx),i._maxx>this._maxx&&(this._maxx=i._maxx),i._miny<this._miny&&(this._miny=i._miny),i._maxy>this._maxy&&(this._maxy=i._maxy))}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];this.isNull()?(this._minx=s,this._maxx=s,this._miny=a,this._maxy=a):(s<this._minx&&(this._minx=s),s>this._maxx&&(this._maxx=s),a<this._miny&&(this._miny=a),a>this._maxy&&(this._maxy=a))}},Ae.prototype.minExtent=function(){if(this.isNull())return 0;var e=this.getWidth(),i=this.getHeight();return e<i?e:i},Ae.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},Ae.prototype.compareTo=function(e){var i=e;return this.isNull()?i.isNull()?0:-1:i.isNull()?1:this._minx<i._minx?-1:this._minx>i._minx?1:this._miny<i._miny?-1:this._miny>i._miny?1:this._maxx<i._maxx?-1:this._maxx>i._maxx?1:this._maxy<i._maxy?-1:this._maxy>i._maxy?1:0},Ae.prototype.translate=function(e,i){if(this.isNull())return null;this.init(this.getMinX()+e,this.getMaxX()+e,this.getMinY()+i,this.getMaxY()+i)},Ae.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},Ae.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},Ae.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},Ae.prototype.maxExtent=function(){if(this.isNull())return 0;var e=this.getWidth(),i=this.getHeight();return e>i?e:i},Ae.prototype.expandBy=function(){if(arguments.length===1){var e=arguments[0];this.expandBy(e,e)}else if(arguments.length===2){var i=arguments[0],s=arguments[1];if(this.isNull())return null;this._minx-=i,this._maxx+=i,this._miny-=s,this._maxy+=s,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},Ae.prototype.contains=function(){if(arguments.length===1){if(arguments[0]instanceof Ae){var e=arguments[0];return this.covers(e)}if(arguments[0]instanceof Ct){var i=arguments[0];return this.covers(i)}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];return this.covers(s,a)}},Ae.prototype.centre=function(){return this.isNull()?null:new Ct((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},Ae.prototype.init=function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof Ct){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof Ae){var i=arguments[0];this._minx=i._minx,this._maxx=i._maxx,this._miny=i._miny,this._maxy=i._maxy}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];this.init(s.x,a.x,s.y,a.y)}else if(arguments.length===4){var c=arguments[0],h=arguments[1],g=arguments[2],y=arguments[3];c<h?(this._minx=c,this._maxx=h):(this._minx=h,this._maxx=c),g<y?(this._miny=g,this._maxy=y):(this._miny=y,this._maxy=g)}},Ae.prototype.getMaxY=function(){return this._maxy},Ae.prototype.distance=function(e){if(this.intersects(e))return 0;var i=0;this._maxx<e._minx?i=e._minx-this._maxx:this._minx>e._maxx&&(i=this._minx-e._maxx);var s=0;return this._maxy<e._miny?s=e._miny-this._maxy:this._miny>e._maxy&&(s=this._miny-e._maxy),i===0?s:s===0?i:Math.sqrt(i*i+s*s)},Ae.prototype.hashCode=function(){var e=17;return e=37*(e=37*(e=37*(e=37*e+Ct.hashCode(this._minx))+Ct.hashCode(this._maxx))+Ct.hashCode(this._miny))+Ct.hashCode(this._maxy)},Ae.prototype.interfaces_=function(){return[Ro,Ao]},Ae.prototype.getClass=function(){return Ae},Ae.intersects=function(){if(arguments.length===3){var e=arguments[0],i=arguments[1],s=arguments[2];return s.x>=(e.x<i.x?e.x:i.x)&&s.x<=(e.x>i.x?e.x:i.x)&&s.y>=(e.y<i.y?e.y:i.y)&&s.y<=(e.y>i.y?e.y:i.y)}if(arguments.length===4){var a=arguments[0],c=arguments[1],h=arguments[2],g=arguments[3],y=Math.min(h.x,g.x),w=Math.max(h.x,g.x),x=Math.min(a.x,c.x),T=Math.max(a.x,c.x);return!(x>w)&&!(T<y)&&(y=Math.min(h.y,g.y),w=Math.max(h.y,g.y),x=Math.min(a.y,c.y),T=Math.max(a.y,c.y),!(x>w)&&!(T<y))}},ck.serialVersionUID.get=function(){return 5873921885273102e3},Object.defineProperties(Ae,ck);var Ss={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},Km=function(e){this.geometryFactory=e||new ur};Km.prototype.read=function(e){var i,s,a;e=e.replace(/[\n\r]/g," ");var c=Ss.typeStr.exec(e);if(e.search("EMPTY")!==-1&&((c=Ss.emptyTypeStr.exec(e))[2]=void 0),c&&(s=c[1].toLowerCase(),a=c[2],ld[s]&&(i=ld[s].apply(this,[a]))),i===void 0)throw new Error("Could not parse WKT "+e);return i},Km.prototype.write=function(e){return this.extractGeometry(e)},Km.prototype.extractGeometry=function(e){var i=e.getGeometryType().toLowerCase();if(!Ha[i])return null;var s=i.toUpperCase();return e.isEmpty()?s+" EMPTY":s+"("+Ha[i].apply(this,[e])+")"};var Ha={coordinate:function(e){return e.x+" "+e.y},point:function(e){return Ha.coordinate.call(this,e._coordinates._coordinates[0])},multipoint:function(e){for(var i=[],s=0,a=e._geometries.length;s<a;++s)i.push("("+Ha.point.apply(this,[e._geometries[s]])+")");return i.join(",")},linestring:function(e){for(var i=[],s=0,a=e._points._coordinates.length;s<a;++s)i.push(Ha.coordinate.apply(this,[e._points._coordinates[s]]));return i.join(",")},linearring:function(e){for(var i=[],s=0,a=e._points._coordinates.length;s<a;++s)i.push(Ha.coordinate.apply(this,[e._points._coordinates[s]]));return i.join(",")},multilinestring:function(e){for(var i=[],s=0,a=e._geometries.length;s<a;++s)i.push("("+Ha.linestring.apply(this,[e._geometries[s]])+")");return i.join(",")},polygon:function(e){var i=[];i.push("("+Ha.linestring.apply(this,[e._shell])+")");for(var s=0,a=e._holes.length;s<a;++s)i.push("("+Ha.linestring.apply(this,[e._holes[s]])+")");return i.join(",")},multipolygon:function(e){for(var i=[],s=0,a=e._geometries.length;s<a;++s)i.push("("+Ha.polygon.apply(this,[e._geometries[s]])+")");return i.join(",")},geometrycollection:function(e){for(var i=[],s=0,a=e._geometries.length;s<a;++s)i.push(this.extractGeometry(e._geometries[s]));return i.join(",")}},ld={point:function(e){if(e===void 0)return this.geometryFactory.createPoint();var i=e.trim().split(Ss.spaces);return this.geometryFactory.createPoint(new Ct(Number.parseFloat(i[0]),Number.parseFloat(i[1])))},multipoint:function(e){var i;if(e===void 0)return this.geometryFactory.createMultiPoint();for(var s=e.trim().split(","),a=[],c=0,h=s.length;c<h;++c)i=s[c].replace(Ss.trimParens,"$1"),a.push(ld.point.apply(this,[i]));return this.geometryFactory.createMultiPoint(a)},linestring:function(e){if(e===void 0)return this.geometryFactory.createLineString();for(var i,s=e.trim().split(","),a=[],c=0,h=s.length;c<h;++c)i=s[c].trim().split(Ss.spaces),a.push(new Ct(Number.parseFloat(i[0]),Number.parseFloat(i[1])));return this.geometryFactory.createLineString(a)},linearring:function(e){if(e===void 0)return this.geometryFactory.createLinearRing();for(var i,s=e.trim().split(","),a=[],c=0,h=s.length;c<h;++c)i=s[c].trim().split(Ss.spaces),a.push(new Ct(Number.parseFloat(i[0]),Number.parseFloat(i[1])));return this.geometryFactory.createLinearRing(a)},multilinestring:function(e){var i;if(e===void 0)return this.geometryFactory.createMultiLineString();for(var s=e.trim().split(Ss.parenComma),a=[],c=0,h=s.length;c<h;++c)i=s[c].replace(Ss.trimParens,"$1"),a.push(ld.linestring.apply(this,[i]));return this.geometryFactory.createMultiLineString(a)},polygon:function(e){var i,s,a;if(e===void 0)return this.geometryFactory.createPolygon();for(var c,h=e.trim().split(Ss.parenComma),g=[],y=0,w=h.length;y<w;++y)i=h[y].replace(Ss.trimParens,"$1"),s=ld.linestring.apply(this,[i]),a=this.geometryFactory.createLinearRing(s._points),y===0?c=a:g.push(a);return this.geometryFactory.createPolygon(c,g)},multipolygon:function(e){var i;if(e===void 0)return this.geometryFactory.createMultiPolygon();for(var s=e.trim().split(Ss.doubleParenComma),a=[],c=0,h=s.length;c<h;++c)i=s[c].replace(Ss.trimParens,"$1"),a.push(ld.polygon.apply(this,[i]));return this.geometryFactory.createMultiPolygon(a)},geometrycollection:function(e){if(e===void 0)return this.geometryFactory.createGeometryCollection();for(var i=(e=e.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),s=[],a=0,c=i.length;a<c;++a)s.push(this.read(i[a]));return this.geometryFactory.createGeometryCollection(s)}},rs=function(e){this.parser=new Km(e)};rs.prototype.write=function(e){return this.parser.write(e)},rs.toLineString=function(e,i){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+e.x+" "+e.y+", "+i.x+" "+i.y+" )"};var Ua=function(e){function i(s){e.call(this,s),this.name="RuntimeException",this.message=s,this.stack=new e().stack}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i}(Error),Jm=function(e){function i(){if(e.call(this),arguments.length===0)e.call(this);else if(arguments.length===1){var s=arguments[0];e.call(this,s)}}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(Ua),rr=function(){};rr.prototype.interfaces_=function(){return[]},rr.prototype.getClass=function(){return rr},rr.shouldNeverReachHere=function(){if(arguments.length===0)rr.shouldNeverReachHere(null);else if(arguments.length===1){var e=arguments[0];throw new Jm("Should never reach here"+(e!==null?": "+e:""))}},rr.isTrue=function(){var e;if(arguments.length===1)rr.isTrue(arguments[0],null);else if(arguments.length===2&&(e=arguments[1],!arguments[0]))throw e===null?new Jm:new Jm(e)},rr.equals=function(){var e,i,s;if(arguments.length===2)rr.equals(e=arguments[0],i=arguments[1],null);else if(arguments.length===3&&(e=arguments[0],s=arguments[2],!(i=arguments[1]).equals(e)))throw new Jm("Expected "+e+" but encountered "+i+(s!==null?": "+s:""))};var Ti=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new Ct,this._intPt[1]=new Ct,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},Fu={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};Ti.prototype.getIndexAlongSegment=function(e,i){return this.computeIntLineIndex(),this._intLineIndex[e][i]},Ti.prototype.getTopologySummary=function(){var e=new Es;return this.isEndPoint()&&e.append(" endpoint"),this._isProper&&e.append(" proper"),this.isCollinear()&&e.append(" collinear"),e.toString()},Ti.prototype.computeIntersection=function(e,i,s,a){this._inputLines[0][0]=e,this._inputLines[0][1]=i,this._inputLines[1][0]=s,this._inputLines[1][1]=a,this._result=this.computeIntersect(e,i,s,a)},Ti.prototype.getIntersectionNum=function(){return this._result},Ti.prototype.computeIntLineIndex=function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var e=arguments[0],i=this.getEdgeDistance(e,0),s=this.getEdgeDistance(e,1);i>s?(this._intLineIndex[e][0]=0,this._intLineIndex[e][1]=1):(this._intLineIndex[e][0]=1,this._intLineIndex[e][1]=0)}},Ti.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},Ti.prototype.setPrecisionModel=function(e){this._precisionModel=e},Ti.prototype.isInteriorIntersection=function(){var e=this;if(arguments.length===0)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(arguments.length===1){for(var i=arguments[0],s=0;s<this._result;s++)if(!e._intPt[s].equals2D(e._inputLines[i][0])&&!e._intPt[s].equals2D(e._inputLines[i][1]))return!0;return!1}},Ti.prototype.getIntersection=function(e){return this._intPt[e]},Ti.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},Ti.prototype.hasIntersection=function(){return this._result!==Ti.NO_INTERSECTION},Ti.prototype.getEdgeDistance=function(e,i){return Ti.computeEdgeDistance(this._intPt[i],this._inputLines[e][0],this._inputLines[e][1])},Ti.prototype.isCollinear=function(){return this._result===Ti.COLLINEAR_INTERSECTION},Ti.prototype.toString=function(){return rs.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+rs.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},Ti.prototype.getEndpoint=function(e,i){return this._inputLines[e][i]},Ti.prototype.isIntersection=function(e){for(var i=0;i<this._result;i++)if(this._intPt[i].equals2D(e))return!0;return!1},Ti.prototype.getIntersectionAlongSegment=function(e,i){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[e][i]]},Ti.prototype.interfaces_=function(){return[]},Ti.prototype.getClass=function(){return Ti},Ti.computeEdgeDistance=function(e,i,s){var a=Math.abs(s.x-i.x),c=Math.abs(s.y-i.y),h=-1;if(e.equals(i))h=0;else if(e.equals(s))h=a>c?a:c;else{var g=Math.abs(e.x-i.x),y=Math.abs(e.y-i.y);(h=a>c?g:y)!==0||e.equals(i)||(h=Math.max(g,y))}return rr.isTrue(!(h===0&&!e.equals(i)),"Bad distance calculation"),h},Ti.nonRobustComputeEdgeDistance=function(e,i,s){var a=e.x-i.x,c=e.y-i.y,h=Math.sqrt(a*a+c*c);return rr.isTrue(!(h===0&&!e.equals(i)),"Invalid distance calculation"),h},Fu.DONT_INTERSECT.get=function(){return 0},Fu.DO_INTERSECT.get=function(){return 1},Fu.COLLINEAR.get=function(){return 2},Fu.NO_INTERSECTION.get=function(){return 0},Fu.POINT_INTERSECTION.get=function(){return 1},Fu.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(Ti,Fu);var Ic=function(e){function i(){e.apply(this,arguments)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.isInSegmentEnvelopes=function(s){var a=new Ae(this._inputLines[0][0],this._inputLines[0][1]),c=new Ae(this._inputLines[1][0],this._inputLines[1][1]);return a.contains(s)&&c.contains(s)},i.prototype.computeIntersection=function(){if(arguments.length!==3)return e.prototype.computeIntersection.apply(this,arguments);var s=arguments[0],a=arguments[1],c=arguments[2];if(this._isProper=!1,Ae.intersects(a,c,s)&&ge.orientationIndex(a,c,s)===0&&ge.orientationIndex(c,a,s)===0)return this._isProper=!0,(s.equals(a)||s.equals(c))&&(this._isProper=!1),this._result=e.POINT_INTERSECTION,null;this._result=e.NO_INTERSECTION},i.prototype.normalizeToMinimum=function(s,a,c,h,g){g.x=this.smallestInAbsValue(s.x,a.x,c.x,h.x),g.y=this.smallestInAbsValue(s.y,a.y,c.y,h.y),s.x-=g.x,s.y-=g.y,a.x-=g.x,a.y-=g.y,c.x-=g.x,c.y-=g.y,h.x-=g.x,h.y-=g.y},i.prototype.safeHCoordinateIntersection=function(s,a,c,h){var g=null;try{g=es.intersection(s,a,c,h)}catch(y){if(!(y instanceof ad))throw y;g=i.nearestEndpoint(s,a,c,h)}return g},i.prototype.intersection=function(s,a,c,h){var g=this.intersectionWithNormalization(s,a,c,h);return this.isInSegmentEnvelopes(g)||(g=new Ct(i.nearestEndpoint(s,a,c,h))),this._precisionModel!==null&&this._precisionModel.makePrecise(g),g},i.prototype.smallestInAbsValue=function(s,a,c,h){var g=s,y=Math.abs(g);return Math.abs(a)<y&&(g=a,y=Math.abs(a)),Math.abs(c)<y&&(g=c,y=Math.abs(c)),Math.abs(h)<y&&(g=h),g},i.prototype.checkDD=function(s,a,c,h,g){var y=Wn.intersection(s,a,c,h),w=this.isInSegmentEnvelopes(y);hn.out.println("DD in env = "+w+"  --------------------- "+y),g.distance(y)>1e-4&&hn.out.println("Distance = "+g.distance(y))},i.prototype.intersectionWithNormalization=function(s,a,c,h){var g=new Ct(s),y=new Ct(a),w=new Ct(c),x=new Ct(h),T=new Ct;this.normalizeToEnvCentre(g,y,w,x,T);var E=this.safeHCoordinateIntersection(g,y,w,x);return E.x+=T.x,E.y+=T.y,E},i.prototype.computeCollinearIntersection=function(s,a,c,h){var g=Ae.intersects(s,a,c),y=Ae.intersects(s,a,h),w=Ae.intersects(c,h,s),x=Ae.intersects(c,h,a);return g&&y?(this._intPt[0]=c,this._intPt[1]=h,e.COLLINEAR_INTERSECTION):w&&x?(this._intPt[0]=s,this._intPt[1]=a,e.COLLINEAR_INTERSECTION):g&&w?(this._intPt[0]=c,this._intPt[1]=s,!c.equals(s)||y||x?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):g&&x?(this._intPt[0]=c,this._intPt[1]=a,!c.equals(a)||y||w?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):y&&w?(this._intPt[0]=h,this._intPt[1]=s,!h.equals(s)||g||x?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):y&&x?(this._intPt[0]=h,this._intPt[1]=a,!h.equals(a)||g||w?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):e.NO_INTERSECTION},i.prototype.normalizeToEnvCentre=function(s,a,c,h,g){var y=s.x<a.x?s.x:a.x,w=s.y<a.y?s.y:a.y,x=s.x>a.x?s.x:a.x,T=s.y>a.y?s.y:a.y,E=c.x<h.x?c.x:h.x,P=c.y<h.y?c.y:h.y,z=c.x>h.x?c.x:h.x,N=c.y>h.y?c.y:h.y,B=((y>E?y:E)+(x<z?x:z))/2,I=((w>P?w:P)+(T<N?T:N))/2;g.x=B,g.y=I,s.x-=g.x,s.y-=g.y,a.x-=g.x,a.y-=g.y,c.x-=g.x,c.y-=g.y,h.x-=g.x,h.y-=g.y},i.prototype.computeIntersect=function(s,a,c,h){if(this._isProper=!1,!Ae.intersects(s,a,c,h))return e.NO_INTERSECTION;var g=ge.orientationIndex(s,a,c),y=ge.orientationIndex(s,a,h);if(g>0&&y>0||g<0&&y<0)return e.NO_INTERSECTION;var w=ge.orientationIndex(c,h,s),x=ge.orientationIndex(c,h,a);return w>0&&x>0||w<0&&x<0?e.NO_INTERSECTION:g===0&&y===0&&w===0&&x===0?this.computeCollinearIntersection(s,a,c,h):(g===0||y===0||w===0||x===0?(this._isProper=!1,s.equals2D(c)||s.equals2D(h)?this._intPt[0]=s:a.equals2D(c)||a.equals2D(h)?this._intPt[0]=a:g===0?this._intPt[0]=new Ct(c):y===0?this._intPt[0]=new Ct(h):w===0?this._intPt[0]=new Ct(s):x===0&&(this._intPt[0]=new Ct(a))):(this._isProper=!0,this._intPt[0]=this.intersection(s,a,c,h)),e.POINT_INTERSECTION)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i.nearestEndpoint=function(s,a,c,h){var g=s,y=ge.distancePointLine(s,c,h),w=ge.distancePointLine(a,c,h);return w<y&&(y=w,g=a),(w=ge.distancePointLine(c,s,a))<y&&(y=w,g=c),(w=ge.distancePointLine(h,s,a))<y&&(y=w,g=h),g},i}(Ti),Bu=function(){};Bu.prototype.interfaces_=function(){return[]},Bu.prototype.getClass=function(){return Bu},Bu.orientationIndex=function(e,i,s){var a=i.x-e.x,c=i.y-e.y,h=s.x-i.x,g=s.y-i.y;return Bu.signOfDet2x2(a,c,h,g)},Bu.signOfDet2x2=function(e,i,s,a){var c=null,h=null,g=null;if(c=1,e===0||a===0)return i===0||s===0?0:i>0?s>0?-c:c:s>0?c:-c;if(i===0||s===0)return a>0?e>0?c:-c:e>0?-c:c;if(i>0?a>0?i<=a||(c=-c,h=e,e=s,s=h,h=i,i=a,a=h):i<=-a?(c=-c,s=-s,a=-a):(h=e,e=-s,s=h,h=i,i=-a,a=h):a>0?-i<=a?(c=-c,e=-e,i=-i):(h=-e,e=s,s=h,h=-i,i=a,a=h):i>=a?(e=-e,i=-i,s=-s,a=-a):(c=-c,h=-e,e=-s,s=h,h=-i,i=-a,a=h),e>0){if(!(s>0)||!(e<=s))return c}else{if(s>0||!(e>=s))return-c;c=-c,e=-e,s=-s}for(;;){if((a-=(g=Math.floor(s/e))*i)<0)return-c;if(a>i)return c;if(e>(s-=g*e)+s){if(i<a+a)return c}else{if(i>a+a)return-c;s=e-s,a=i-a,c=-c}if(a===0)return s===0?0:-c;if(s===0||(i-=(g=Math.floor(e/s))*a)<0)return c;if(i>a)return-c;if(s>(e-=g*s)+e){if(a<i+i)return-c}else{if(a>i+i)return c;e=s-e,i=a-i,c=-c}if(i===0)return e===0?0:c;if(e===0)return-c}};var Cs=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var e=arguments[0];this._p=e};Cs.prototype.countSegment=function(e,i){if(e.x<this._p.x&&i.x<this._p.x)return null;if(this._p.x===i.x&&this._p.y===i.y)return this._isPointOnSegment=!0,null;if(e.y===this._p.y&&i.y===this._p.y){var s=e.x,a=i.x;return s>a&&(s=i.x,a=e.x),this._p.x>=s&&this._p.x<=a&&(this._isPointOnSegment=!0),null}if(e.y>this._p.y&&i.y<=this._p.y||i.y>this._p.y&&e.y<=this._p.y){var c=e.x-this._p.x,h=e.y-this._p.y,g=i.x-this._p.x,y=i.y-this._p.y,w=Bu.signOfDet2x2(c,h,g,y);if(w===0)return this._isPointOnSegment=!0,null;y<h&&(w=-w),w>0&&this._crossingCount++}},Cs.prototype.isPointInPolygon=function(){return this.getLocation()!==At.EXTERIOR},Cs.prototype.getLocation=function(){return this._isPointOnSegment?At.BOUNDARY:this._crossingCount%2==1?At.INTERIOR:At.EXTERIOR},Cs.prototype.isOnSegment=function(){return this._isPointOnSegment},Cs.prototype.interfaces_=function(){return[]},Cs.prototype.getClass=function(){return Cs},Cs.locatePointInRing=function(){if(arguments[0]instanceof Ct&&qe(arguments[1],yr)){for(var e=arguments[0],i=arguments[1],s=new Cs(e),a=new Ct,c=new Ct,h=1;h<i.size();h++)if(i.getCoordinate(h,a),i.getCoordinate(h-1,c),s.countSegment(a,c),s.isOnSegment())return s.getLocation();return s.getLocation()}if(arguments[0]instanceof Ct&&arguments[1]instanceof Array){for(var g=arguments[0],y=arguments[1],w=new Cs(g),x=1;x<y.length;x++){var T=y[x],E=y[x-1];if(w.countSegment(T,E),w.isOnSegment())return w.getLocation()}return w.getLocation()}};var ge=function(){},ju={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};ge.prototype.interfaces_=function(){return[]},ge.prototype.getClass=function(){return ge},ge.orientationIndex=function(e,i,s){return Wn.orientationIndex(e,i,s)},ge.signedArea=function(){if(arguments[0]instanceof Array){var e=arguments[0];if(e.length<3)return 0;for(var i=0,s=e[0].x,a=1;a<e.length-1;a++){var c=e[a].x-s,h=e[a+1].y,g=e[a-1].y;i+=c*(g-h)}return i/2}if(qe(arguments[0],yr)){var y=arguments[0],w=y.size();if(w<3)return 0;var x=new Ct,T=new Ct,E=new Ct;y.getCoordinate(0,T),y.getCoordinate(1,E);var P=T.x;E.x-=P;for(var z=0,N=1;N<w-1;N++)x.y=T.y,T.x=E.x,T.y=E.y,y.getCoordinate(N+1,E),E.x-=P,z+=T.x*(x.y-E.y);return z/2}},ge.distanceLineLine=function(e,i,s,a){if(e.equals(i))return ge.distancePointLine(e,s,a);if(s.equals(a))return ge.distancePointLine(a,e,i);var c=!1;if(Ae.intersects(e,i,s,a)){var h=(i.x-e.x)*(a.y-s.y)-(i.y-e.y)*(a.x-s.x);if(h===0)c=!0;else{var g=(e.y-s.y)*(a.x-s.x)-(e.x-s.x)*(a.y-s.y),y=((e.y-s.y)*(i.x-e.x)-(e.x-s.x)*(i.y-e.y))/h,w=g/h;(w<0||w>1||y<0||y>1)&&(c=!0)}}else c=!0;return c?vo.min(ge.distancePointLine(e,s,a),ge.distancePointLine(i,s,a),ge.distancePointLine(s,e,i),ge.distancePointLine(a,e,i)):0},ge.isPointInRing=function(e,i){return ge.locatePointInRing(e,i)!==At.EXTERIOR},ge.computeLength=function(e){var i=e.size();if(i<=1)return 0;var s=0,a=new Ct;e.getCoordinate(0,a);for(var c=a.x,h=a.y,g=1;g<i;g++){e.getCoordinate(g,a);var y=a.x,w=a.y,x=y-c,T=w-h;s+=Math.sqrt(x*x+T*T),c=y,h=w}return s},ge.isCCW=function(e){var i=e.length-1;if(i<3)throw new ki("Ring has fewer than 4 points, so orientation cannot be determined");for(var s=e[0],a=0,c=1;c<=i;c++){var h=e[c];h.y>s.y&&(s=h,a=c)}var g=a;do(g-=1)<0&&(g=i);while(e[g].equals2D(s)&&g!==a);var y=a;do y=(y+1)%i;while(e[y].equals2D(s)&&y!==a);var w=e[g],x=e[y];if(w.equals2D(s)||x.equals2D(s)||w.equals2D(x))return!1;var T=ge.computeOrientation(w,s,x),E=!1;return E=T===0?w.x>x.x:T>0,E},ge.locatePointInRing=function(e,i){return Cs.locatePointInRing(e,i)},ge.distancePointLinePerpendicular=function(e,i,s){var a=(s.x-i.x)*(s.x-i.x)+(s.y-i.y)*(s.y-i.y),c=((i.y-e.y)*(s.x-i.x)-(i.x-e.x)*(s.y-i.y))/a;return Math.abs(c)*Math.sqrt(a)},ge.computeOrientation=function(e,i,s){return ge.orientationIndex(e,i,s)},ge.distancePointLine=function(){if(arguments.length===2){var e=arguments[0],i=arguments[1];if(i.length===0)throw new ki("Line array must contain at least one vertex");for(var s=e.distance(i[0]),a=0;a<i.length-1;a++){var c=ge.distancePointLine(e,i[a],i[a+1]);c<s&&(s=c)}return s}if(arguments.length===3){var h=arguments[0],g=arguments[1],y=arguments[2];if(g.x===y.x&&g.y===y.y)return h.distance(g);var w=(y.x-g.x)*(y.x-g.x)+(y.y-g.y)*(y.y-g.y),x=((h.x-g.x)*(y.x-g.x)+(h.y-g.y)*(y.y-g.y))/w;if(x<=0)return h.distance(g);if(x>=1)return h.distance(y);var T=((g.y-h.y)*(y.x-g.x)-(g.x-h.x)*(y.y-g.y))/w;return Math.abs(T)*Math.sqrt(w)}},ge.isOnLine=function(e,i){for(var s=new Ic,a=1;a<i.length;a++){var c=i[a-1],h=i[a];if(s.computeIntersection(e,c,h),s.hasIntersection())return!0}return!1},ju.CLOCKWISE.get=function(){return-1},ju.RIGHT.get=function(){return ge.CLOCKWISE},ju.COUNTERCLOCKWISE.get=function(){return 1},ju.LEFT.get=function(){return ge.COUNTERCLOCKWISE},ju.COLLINEAR.get=function(){return 0},ju.STRAIGHT.get=function(){return ge.COLLINEAR},Object.defineProperties(ge,ju);var Ga=function(){};Ga.prototype.filter=function(e){},Ga.prototype.interfaces_=function(){return[]},Ga.prototype.getClass=function(){return Ga};var Ue=function(){var e=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=e,this._SRID=e.getSRID()},aa={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};Ue.prototype.isGeometryCollection=function(){return this.getSortIndex()===Ue.SORTINDEX_GEOMETRYCOLLECTION},Ue.prototype.getFactory=function(){return this._factory},Ue.prototype.getGeometryN=function(e){return this},Ue.prototype.getArea=function(){return 0},Ue.prototype.isRectangle=function(){return!1},Ue.prototype.equals=function(){if(arguments[0]instanceof Ue){var e=arguments[0];return e!==null&&this.equalsTopo(e)}if(arguments[0]instanceof Object){var i=arguments[0];if(!(i instanceof Ue))return!1;var s=i;return this.equalsExact(s)}},Ue.prototype.equalsExact=function(e){return this===e||this.equalsExact(e,0)},Ue.prototype.geometryChanged=function(){this.apply(Ue.geometryChangedFilter)},Ue.prototype.geometryChangedAction=function(){this._envelope=null},Ue.prototype.equalsNorm=function(e){return e!==null&&this.norm().equalsExact(e.norm())},Ue.prototype.getLength=function(){return 0},Ue.prototype.getNumGeometries=function(){return 1},Ue.prototype.compareTo=function(){if(arguments.length===1){var e=arguments[0],i=e;return this.getSortIndex()!==i.getSortIndex()?this.getSortIndex()-i.getSortIndex():this.isEmpty()&&i.isEmpty()?0:this.isEmpty()?-1:i.isEmpty()?1:this.compareToSameClass(e)}if(arguments.length===2){var s=arguments[0],a=arguments[1];return this.getSortIndex()!==s.getSortIndex()?this.getSortIndex()-s.getSortIndex():this.isEmpty()&&s.isEmpty()?0:this.isEmpty()?-1:s.isEmpty()?1:this.compareToSameClass(s,a)}},Ue.prototype.getUserData=function(){return this._userData},Ue.prototype.getSRID=function(){return this._SRID},Ue.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},Ue.prototype.checkNotGeometryCollection=function(e){if(e.getSortIndex()===Ue.SORTINDEX_GEOMETRYCOLLECTION)throw new ki("This method does not support GeometryCollection arguments")},Ue.prototype.equal=function(e,i,s){return s===0?e.equals(i):e.distance(i)<=s},Ue.prototype.norm=function(){var e=this.copy();return e.normalize(),e},Ue.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},Ue.prototype.getEnvelopeInternal=function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new Ae(this._envelope)},Ue.prototype.setSRID=function(e){this._SRID=e},Ue.prototype.setUserData=function(e){this._userData=e},Ue.prototype.compare=function(e,i){for(var s=e.iterator(),a=i.iterator();s.hasNext()&&a.hasNext();){var c=s.next(),h=a.next(),g=c.compareTo(h);if(g!==0)return g}return s.hasNext()?1:a.hasNext()?-1:0},Ue.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},Ue.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===Ue.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===Ue.SORTINDEX_MULTIPOINT||this.getSortIndex()===Ue.SORTINDEX_MULTILINESTRING||this.getSortIndex()===Ue.SORTINDEX_MULTIPOLYGON},Ue.prototype.interfaces_=function(){return[Xm,Ro,Ao]},Ue.prototype.getClass=function(){return Ue},Ue.hasNonEmptyElements=function(e){for(var i=0;i<e.length;i++)if(!e[i].isEmpty())return!0;return!1},Ue.hasNullElements=function(e){for(var i=0;i<e.length;i++)if(e[i]===null)return!0;return!1},aa.serialVersionUID.get=function(){return 8763622679187377e3},aa.SORTINDEX_POINT.get=function(){return 0},aa.SORTINDEX_MULTIPOINT.get=function(){return 1},aa.SORTINDEX_LINESTRING.get=function(){return 2},aa.SORTINDEX_LINEARRING.get=function(){return 3},aa.SORTINDEX_MULTILINESTRING.get=function(){return 4},aa.SORTINDEX_POLYGON.get=function(){return 5},aa.SORTINDEX_MULTIPOLYGON.get=function(){return 6},aa.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},aa.geometryChangedFilter.get=function(){return Mb},Object.defineProperties(Ue,aa);var Mb=function(){};Mb.interfaces_=function(){return[Ga]},Mb.filter=function(e){e.geometryChangedAction()};var la=function(){};la.prototype.filter=function(e){},la.prototype.interfaces_=function(){return[]},la.prototype.getClass=function(){return la};var Oo=function(){},qa={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};Oo.prototype.isInBoundary=function(e){},Oo.prototype.interfaces_=function(){return[]},Oo.prototype.getClass=function(){return Oo},qa.Mod2BoundaryNodeRule.get=function(){return cd},qa.EndPointBoundaryNodeRule.get=function(){return ud},qa.MultiValentEndPointBoundaryNodeRule.get=function(){return hd},qa.MonoValentEndPointBoundaryNodeRule.get=function(){return dd},qa.MOD2_BOUNDARY_RULE.get=function(){return new cd},qa.ENDPOINT_BOUNDARY_RULE.get=function(){return new ud},qa.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new hd},qa.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new dd},qa.OGC_SFS_BOUNDARY_RULE.get=function(){return Oo.MOD2_BOUNDARY_RULE},Object.defineProperties(Oo,qa);var cd=function(){};cd.prototype.isInBoundary=function(e){return e%2==1},cd.prototype.interfaces_=function(){return[Oo]},cd.prototype.getClass=function(){return cd};var ud=function(){};ud.prototype.isInBoundary=function(e){return e>0},ud.prototype.interfaces_=function(){return[Oo]},ud.prototype.getClass=function(){return ud};var hd=function(){};hd.prototype.isInBoundary=function(e){return e>1},hd.prototype.interfaces_=function(){return[Oo]},hd.prototype.getClass=function(){return hd};var dd=function(){};dd.prototype.isInBoundary=function(e){return e===1},dd.prototype.interfaces_=function(){return[Oo]},dd.prototype.getClass=function(){return dd};var Ui=function(){};function Ib(e){this.message=e||""}Ui.prototype.add=function(){},Ui.prototype.addAll=function(){},Ui.prototype.isEmpty=function(){},Ui.prototype.iterator=function(){},Ui.prototype.size=function(){},Ui.prototype.toArray=function(){},Ui.prototype.remove=function(){},Ib.prototype=new Error,Ib.prototype.name="IndexOutOfBoundsException";var pd=function(){};pd.prototype.hasNext=function(){},pd.prototype.next=function(){},pd.prototype.remove=function(){};var is=function(e){function i(){e.apply(this,arguments)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.get=function(){},i.prototype.set=function(){},i.prototype.isEmpty=function(){},i}(Ui);function fd(e){this.message=e||""}fd.prototype=new Error,fd.prototype.name="NoSuchElementException";var ce=function(e){function i(){e.call(this),this.array_=[],arguments[0]instanceof Ui&&this.addAll(arguments[0])}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.ensureCapacity=function(){},i.prototype.interfaces_=function(){return[e,Ui]},i.prototype.add=function(s){return arguments.length===1?this.array_.push(s):this.array_.splice(arguments[0],arguments[1]),!0},i.prototype.clear=function(){this.array_=[]},i.prototype.addAll=function(s){for(var a=s.iterator();a.hasNext();)this.add(a.next());return!0},i.prototype.set=function(s,a){var c=this.array_[s];return this.array_[s]=a,c},i.prototype.iterator=function(){return new vI(this)},i.prototype.get=function(s){if(s<0||s>=this.size())throw new Ib;return this.array_[s]},i.prototype.isEmpty=function(){return this.array_.length===0},i.prototype.size=function(){return this.array_.length},i.prototype.toArray=function(){for(var s=[],a=0,c=this.array_.length;a<c;a++)s.push(this.array_[a]);return s},i.prototype.remove=function(s){for(var a=!1,c=0,h=this.array_.length;c<h;c++)if(this.array_[c]===s){this.array_.splice(c,1),a=!0;break}return a},i}(is),vI=function(e){function i(s){e.call(this),this.arrayList_=s,this.position_=0}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new fd;return this.arrayList_.get(this.position_++)},i.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},i.prototype.set=function(s){return this.arrayList_.set(this.position_-1,s)},i.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},i}(pd),ff=function(e){function i(){if(e.call(this),arguments.length!==0){if(arguments.length===1){var a=arguments[0];this.ensureCapacity(a.length),this.add(a,!0)}else if(arguments.length===2){var c=arguments[0],h=arguments[1];this.ensureCapacity(c.length),this.add(c,h)}}}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={coordArrayType:{configurable:!0}};return s.coordArrayType.get=function(){return new Array(0).fill(null)},i.prototype.getCoordinate=function(a){return this.get(a)},i.prototype.addAll=function(){var a=this;if(arguments.length===2){for(var c=arguments[0],h=arguments[1],g=!1,y=c.iterator();y.hasNext();)a.add(y.next(),h),g=!0;return g}return e.prototype.addAll.apply(this,arguments)},i.prototype.clone=function(){for(var a=e.prototype.clone.call(this),c=0;c<this.size();c++)a.add(c,this.get(c).copy());return a},i.prototype.toCoordinateArray=function(){return this.toArray(i.coordArrayType)},i.prototype.add=function(){var a=this;if(arguments.length===1){var c=arguments[0];e.prototype.add.call(this,c)}else if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var h=arguments[0],g=arguments[1];return this.add(h,g,!0),!0}if(arguments[0]instanceof Ct&&typeof arguments[1]=="boolean"){var y=arguments[0],w=arguments[1];if(!w&&this.size()>=1){var x=this.get(this.size()-1);if(x.equals2D(y))return null}e.prototype.add.call(this,y)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var T=arguments[0],E=arguments[1];return this.add(T,E),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var P=arguments[0],z=arguments[1],N=arguments[2];if(N)for(var B=0;B<P.length;B++)a.add(P[B],z);else for(var I=P.length-1;I>=0;I--)a.add(P[I],z);return!0}if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof Ct){var W=arguments[0],it=arguments[1],D=arguments[2];if(!D){var q=this.size();if(q>0){if(W>0){var X=this.get(W-1);if(X.equals2D(it))return null}if(W<q){var tt=this.get(W);if(tt.equals2D(it))return null}}}e.prototype.add.call(this,W,it)}}else if(arguments.length===4){var Q=arguments[0],Rt=arguments[1],kt=arguments[2],zt=arguments[3],Tt=1;kt>zt&&(Tt=-1);for(var Ft=kt;Ft!==zt;Ft+=Tt)a.add(Q[Ft],Rt);return!0}},i.prototype.closeRing=function(){this.size()>0&&this.add(new Ct(this.get(0)),!1)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},Object.defineProperties(i,s),i}(ce),cr=function(){},Qm={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};Qm.ForwardComparator.get=function(){return gf},Qm.BidirectionalComparator.get=function(){return gd},Qm.coordArrayType.get=function(){return new Array(0).fill(null)},cr.prototype.interfaces_=function(){return[]},cr.prototype.getClass=function(){return cr},cr.isRing=function(e){return!(e.length<4)&&!!e[0].equals2D(e[e.length-1])},cr.ptNotInList=function(e,i){for(var s=0;s<e.length;s++){var a=e[s];if(cr.indexOf(a,i)<0)return a}return null},cr.scroll=function(e,i){var s=cr.indexOf(i,e);if(s<0)return null;var a=new Array(e.length).fill(null);hn.arraycopy(e,s,a,0,e.length-s),hn.arraycopy(e,0,a,e.length-s,s),hn.arraycopy(a,0,e,0,e.length)},cr.equals=function(){if(arguments.length===2){var e=arguments[0],i=arguments[1];if(e===i)return!0;if(e===null||i===null||e.length!==i.length)return!1;for(var s=0;s<e.length;s++)if(!e[s].equals(i[s]))return!1;return!0}if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2];if(a===c)return!0;if(a===null||c===null||a.length!==c.length)return!1;for(var g=0;g<a.length;g++)if(h.compare(a[g],c[g])!==0)return!1;return!0}},cr.intersection=function(e,i){for(var s=new ff,a=0;a<e.length;a++)i.intersects(e[a])&&s.add(e[a],!0);return s.toCoordinateArray()},cr.hasRepeatedPoints=function(e){for(var i=1;i<e.length;i++)if(e[i-1].equals(e[i]))return!0;return!1},cr.removeRepeatedPoints=function(e){return cr.hasRepeatedPoints(e)?new ff(e,!1).toCoordinateArray():e},cr.reverse=function(e){for(var i=e.length-1,s=Math.trunc(i/2),a=0;a<=s;a++){var c=e[a];e[a]=e[i-a],e[i-a]=c}},cr.removeNull=function(e){for(var i=0,s=0;s<e.length;s++)e[s]!==null&&i++;var a=new Array(i).fill(null);if(i===0)return a;for(var c=0,h=0;h<e.length;h++)e[h]!==null&&(a[c++]=e[h]);return a},cr.copyDeep=function(){if(arguments.length===1){for(var e=arguments[0],i=new Array(e.length).fill(null),s=0;s<e.length;s++)i[s]=new Ct(e[s]);return i}if(arguments.length===5)for(var a=arguments[0],c=arguments[1],h=arguments[2],g=arguments[3],y=arguments[4],w=0;w<y;w++)h[g+w]=new Ct(a[c+w])},cr.isEqualReversed=function(e,i){for(var s=0;s<e.length;s++){var a=e[s],c=i[e.length-s-1];if(a.compareTo(c)!==0)return!1}return!0},cr.envelope=function(e){for(var i=new Ae,s=0;s<e.length;s++)i.expandToInclude(e[s]);return i},cr.toCoordinateArray=function(e){return e.toArray(cr.coordArrayType)},cr.atLeastNCoordinatesOrNothing=function(e,i){return i.length>=e?i:[]},cr.indexOf=function(e,i){for(var s=0;s<i.length;s++)if(e.equals(i[s]))return s;return-1},cr.increasingDirection=function(e){for(var i=0;i<Math.trunc(e.length/2);i++){var s=e.length-1-i,a=e[i].compareTo(e[s]);if(a!==0)return a}return 1},cr.compare=function(e,i){for(var s=0;s<e.length&&s<i.length;){var a=e[s].compareTo(i[s]);if(a!==0)return a;s++}return s<i.length?-1:s<e.length?1:0},cr.minCoordinate=function(e){for(var i=null,s=0;s<e.length;s++)(i===null||i.compareTo(e[s])>0)&&(i=e[s]);return i},cr.extract=function(e,i,s){i=vo.clamp(i,0,e.length);var a=(s=vo.clamp(s,-1,e.length))-i+1;s<0&&(a=0),i>=e.length&&(a=0),s<i&&(a=0);var c=new Array(a).fill(null);if(a===0)return c;for(var h=0,g=i;g<=s;g++)c[h++]=e[g];return c},Object.defineProperties(cr,Qm);var gf=function(){};gf.prototype.compare=function(e,i){return cr.compare(e,i)},gf.prototype.interfaces_=function(){return[od]},gf.prototype.getClass=function(){return gf};var gd=function(){};gd.prototype.compare=function(e,i){var s=e,a=i;if(s.length<a.length)return-1;if(s.length>a.length)return 1;if(s.length===0)return 0;var c=cr.compare(s,a);return cr.isEqualReversed(s,a)?0:c},gd.prototype.OLDcompare=function(e,i){var s=e,a=i;if(s.length<a.length)return-1;if(s.length>a.length)return 1;if(s.length===0)return 0;for(var c=cr.increasingDirection(s),h=cr.increasingDirection(a),g=c>0?0:s.length-1,y=h>0?0:s.length-1,w=0;w<s.length;w++){var x=s[g].compareTo(a[y]);if(x!==0)return x;g+=c,y+=h}return 0},gd.prototype.interfaces_=function(){return[od]},gd.prototype.getClass=function(){return gd};var Hu=function(){};Hu.prototype.get=function(){},Hu.prototype.put=function(){},Hu.prototype.size=function(){},Hu.prototype.values=function(){},Hu.prototype.entrySet=function(){};var yI=function(e){function i(){e.apply(this,arguments)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i}(Hu);function mf(e){this.message=e||""}function $m(){}mf.prototype=new Error,mf.prototype.name="OperationNotSupported",$m.prototype=new Ui,$m.prototype.contains=function(){};var Lb=function(e){function i(){e.call(this),this.array_=[],arguments[0]instanceof Ui&&this.addAll(arguments[0])}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.contains=function(s){for(var a=0,c=this.array_.length;a<c;a++)if(this.array_[a]===s)return!0;return!1},i.prototype.add=function(s){return!this.contains(s)&&(this.array_.push(s),!0)},i.prototype.addAll=function(s){for(var a=s.iterator();a.hasNext();)this.add(a.next());return!0},i.prototype.remove=function(s){throw new Error},i.prototype.size=function(){return this.array_.length},i.prototype.isEmpty=function(){return this.array_.length===0},i.prototype.toArray=function(){for(var s=[],a=0,c=this.array_.length;a<c;a++)s.push(this.array_[a]);return s},i.prototype.iterator=function(){return new bI(this)},i}($m),bI=function(e){function i(s){e.call(this),this.hashSet_=s,this.position_=0}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new fd;return this.hashSet_.array_[this.position_++]},i.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},i.prototype.remove=function(){throw new mf},i}(pd);function uk(e){return e===null?0:e.color}function pi(e){return e===null?null:e.parent}function Va(e,i){e!==null&&(e.color=i)}function Rb(e){return e===null?null:e.left}function hk(e){return e===null?null:e.right}function xn(){this.root_=null,this.size_=0}xn.prototype=new yI,xn.prototype.get=function(e){for(var i=this.root_;i!==null;){var s=e.compareTo(i.key);if(s<0)i=i.left;else{if(!(s>0))return i.value;i=i.right}}return null},xn.prototype.put=function(e,i){if(this.root_===null)return this.root_={key:e,value:i,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var s,a,c=this.root_;do if(s=c,(a=e.compareTo(c.key))<0)c=c.left;else{if(!(a>0)){var h=c.value;return c.value=i,h}c=c.right}while(c!==null);var g={key:e,left:null,right:null,value:i,parent:s,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return a<0?s.left=g:s.right=g,this.fixAfterInsertion(g),this.size_++,null},xn.prototype.fixAfterInsertion=function(e){var i=this;for(e.color=1;e!=null&&e!==this.root_&&e.parent.color===1;)if(pi(e)===Rb(pi(pi(e)))){var s=hk(pi(pi(e)));uk(s)===1?(Va(pi(e),0),Va(s,0),Va(pi(pi(e)),1),e=pi(pi(e))):(e===hk(pi(e))&&(e=pi(e),i.rotateLeft(e)),Va(pi(e),0),Va(pi(pi(e)),1),i.rotateRight(pi(pi(e))))}else{var a=Rb(pi(pi(e)));uk(a)===1?(Va(pi(e),0),Va(a,0),Va(pi(pi(e)),1),e=pi(pi(e))):(e===Rb(pi(e))&&(e=pi(e),i.rotateRight(e)),Va(pi(e),0),Va(pi(pi(e)),1),i.rotateLeft(pi(pi(e))))}this.root_.color=0},xn.prototype.values=function(){var e=new ce,i=this.getFirstEntry();if(i!==null)for(e.add(i.value);(i=xn.successor(i))!==null;)e.add(i.value);return e},xn.prototype.entrySet=function(){var e=new Lb,i=this.getFirstEntry();if(i!==null)for(e.add(i);(i=xn.successor(i))!==null;)e.add(i);return e},xn.prototype.rotateLeft=function(e){if(e!=null){var i=e.right;e.right=i.left,i.left!=null&&(i.left.parent=e),i.parent=e.parent,e.parent===null?this.root_=i:e.parent.left===e?e.parent.left=i:e.parent.right=i,i.left=e,e.parent=i}},xn.prototype.rotateRight=function(e){if(e!=null){var i=e.left;e.left=i.right,i.right!=null&&(i.right.parent=e),i.parent=e.parent,e.parent===null?this.root_=i:e.parent.right===e?e.parent.right=i:e.parent.left=i,i.right=e,e.parent=i}},xn.prototype.getFirstEntry=function(){var e=this.root_;if(e!=null)for(;e.left!=null;)e=e.left;return e},xn.successor=function(e){if(e===null)return null;if(e.right!==null){for(var i=e.right;i.left!==null;)i=i.left;return i}for(var s=e.parent,a=e;s!==null&&a===s.right;)a=s,s=s.parent;return s},xn.prototype.size=function(){return this.size_};var vf=function(){};function dk(){}function Ps(){this.array_=[],arguments[0]instanceof Ui&&this.addAll(arguments[0])}vf.prototype.interfaces_=function(){return[]},vf.prototype.getClass=function(){return vf},dk.prototype=new $m,Ps.prototype=new dk,Ps.prototype.contains=function(e){for(var i=0,s=this.array_.length;i<s;i++)if(this.array_[i].compareTo(e)===0)return!0;return!1},Ps.prototype.add=function(e){if(this.contains(e))return!1;for(var i=0,s=this.array_.length;i<s;i++)if(this.array_[i].compareTo(e)===1)return this.array_.splice(i,0,e),!0;return this.array_.push(e),!0},Ps.prototype.addAll=function(e){for(var i=e.iterator();i.hasNext();)this.add(i.next());return!0},Ps.prototype.remove=function(e){throw new mf},Ps.prototype.size=function(){return this.array_.length},Ps.prototype.isEmpty=function(){return this.array_.length===0},Ps.prototype.toArray=function(){for(var e=[],i=0,s=this.array_.length;i<s;i++)e.push(this.array_[i]);return e},Ps.prototype.iterator=function(){return new tv(this)};var tv=function(e){this.treeSet_=e,this.position_=0};tv.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new fd;return this.treeSet_.array_[this.position_++]},tv.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},tv.prototype.remove=function(){throw new mf};var Lc=function(){};Lc.sort=function(){var e,i,s,a,c=arguments[0];if(arguments.length===1)a=function(g,y){return g.compareTo(y)},c.sort(a);else if(arguments.length===2)s=arguments[1],a=function(g,y){return s.compare(g,y)},c.sort(a);else if(arguments.length===3){(i=c.slice(arguments[1],arguments[2])).sort();var h=c.slice(0,arguments[1]).concat(i,c.slice(arguments[2],c.length));for(c.splice(0,c.length),e=0;e<h.length;e++)c.push(h[e])}else if(arguments.length===4)for(i=c.slice(arguments[1],arguments[2]),s=arguments[3],a=function(g,y){return s.compare(g,y)},i.sort(a),h=c.slice(0,arguments[1]).concat(i,c.slice(arguments[2],c.length)),c.splice(0,c.length),e=0;e<h.length;e++)c.push(h[e])},Lc.asList=function(e){for(var i=new ce,s=0,a=e.length;s<a;s++)i.add(e[s]);return i};var Kr=function(){},ns={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};ns.P.get=function(){return 0},ns.L.get=function(){return 1},ns.A.get=function(){return 2},ns.FALSE.get=function(){return-1},ns.TRUE.get=function(){return-2},ns.DONTCARE.get=function(){return-3},ns.SYM_FALSE.get=function(){return"F"},ns.SYM_TRUE.get=function(){return"T"},ns.SYM_DONTCARE.get=function(){return"*"},ns.SYM_P.get=function(){return"0"},ns.SYM_L.get=function(){return"1"},ns.SYM_A.get=function(){return"2"},Kr.prototype.interfaces_=function(){return[]},Kr.prototype.getClass=function(){return Kr},Kr.toDimensionSymbol=function(e){switch(e){case Kr.FALSE:return Kr.SYM_FALSE;case Kr.TRUE:return Kr.SYM_TRUE;case Kr.DONTCARE:return Kr.SYM_DONTCARE;case Kr.P:return Kr.SYM_P;case Kr.L:return Kr.SYM_L;case Kr.A:return Kr.SYM_A}throw new ki("Unknown dimension value: "+e)},Kr.toDimensionValue=function(e){switch(df.toUpperCase(e)){case Kr.SYM_FALSE:return Kr.FALSE;case Kr.SYM_TRUE:return Kr.TRUE;case Kr.SYM_DONTCARE:return Kr.DONTCARE;case Kr.SYM_P:return Kr.P;case Kr.SYM_L:return Kr.L;case Kr.SYM_A:return Kr.A}throw new ki("Unknown dimension symbol: "+e)},Object.defineProperties(Kr,ns);var Ms=function(){};Ms.prototype.filter=function(e){},Ms.prototype.interfaces_=function(){return[]},Ms.prototype.getClass=function(){return Ms};var os=function(){};os.prototype.filter=function(e,i){},os.prototype.isDone=function(){},os.prototype.isGeometryChanged=function(){},os.prototype.interfaces_=function(){return[]},os.prototype.getClass=function(){return os};var Rn=function(e){function i(a,c){if(e.call(this,c),this._geometries=a||[],e.hasNullElements(this._geometries))throw new ki("geometries must not contain null elements")}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={serialVersionUID:{configurable:!0}};return i.prototype.computeEnvelopeInternal=function(){for(var a=new Ae,c=0;c<this._geometries.length;c++)a.expandToInclude(this._geometries[c].getEnvelopeInternal());return a},i.prototype.getGeometryN=function(a){return this._geometries[a]},i.prototype.getSortIndex=function(){return e.SORTINDEX_GEOMETRYCOLLECTION},i.prototype.getCoordinates=function(){for(var a=new Array(this.getNumPoints()).fill(null),c=-1,h=0;h<this._geometries.length;h++)for(var g=this._geometries[h].getCoordinates(),y=0;y<g.length;y++)a[++c]=g[y];return a},i.prototype.getArea=function(){for(var a=0,c=0;c<this._geometries.length;c++)a+=this._geometries[c].getArea();return a},i.prototype.equalsExact=function(){var a=this;if(arguments.length===2){var c=arguments[0],h=arguments[1];if(!this.isEquivalentClass(c))return!1;var g=c;if(this._geometries.length!==g._geometries.length)return!1;for(var y=0;y<this._geometries.length;y++)if(!a._geometries[y].equalsExact(g._geometries[y],h))return!1;return!0}return e.prototype.equalsExact.apply(this,arguments)},i.prototype.normalize=function(){for(var a=0;a<this._geometries.length;a++)this._geometries[a].normalize();Lc.sort(this._geometries)},i.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},i.prototype.getBoundaryDimension=function(){for(var a=Kr.FALSE,c=0;c<this._geometries.length;c++)a=Math.max(a,this._geometries[c].getBoundaryDimension());return a},i.prototype.getDimension=function(){for(var a=Kr.FALSE,c=0;c<this._geometries.length;c++)a=Math.max(a,this._geometries[c].getDimension());return a},i.prototype.getLength=function(){for(var a=0,c=0;c<this._geometries.length;c++)a+=this._geometries[c].getLength();return a},i.prototype.getNumPoints=function(){for(var a=0,c=0;c<this._geometries.length;c++)a+=this._geometries[c].getNumPoints();return a},i.prototype.getNumGeometries=function(){return this._geometries.length},i.prototype.reverse=function(){for(var a=this._geometries.length,c=new Array(a).fill(null),h=0;h<this._geometries.length;h++)c[h]=this._geometries[h].reverse();return this.getFactory().createGeometryCollection(c)},i.prototype.compareToSameClass=function(){var a=this;if(arguments.length===1){var c=arguments[0],h=new Ps(Lc.asList(this._geometries)),g=new Ps(Lc.asList(c._geometries));return this.compare(h,g)}if(arguments.length===2){for(var y=arguments[0],w=arguments[1],x=y,T=this.getNumGeometries(),E=x.getNumGeometries(),P=0;P<T&&P<E;){var z=a.getGeometryN(P),N=x.getGeometryN(P),B=z.compareToSameClass(N,w);if(B!==0)return B;P++}return P<T?1:P<E?-1:0}},i.prototype.apply=function(){var a=this;if(qe(arguments[0],la))for(var c=arguments[0],h=0;h<this._geometries.length;h++)a._geometries[h].apply(c);else if(qe(arguments[0],os)){var g=arguments[0];if(this._geometries.length===0)return null;for(var y=0;y<this._geometries.length&&(a._geometries[y].apply(g),!g.isDone());y++);g.isGeometryChanged()&&this.geometryChanged()}else if(qe(arguments[0],Ms)){var w=arguments[0];w.filter(this);for(var x=0;x<this._geometries.length;x++)a._geometries[x].apply(w)}else if(qe(arguments[0],Ga)){var T=arguments[0];T.filter(this);for(var E=0;E<this._geometries.length;E++)a._geometries[E].apply(T)}},i.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),rr.shouldNeverReachHere(),null},i.prototype.clone=function(){var a=e.prototype.clone.call(this);a._geometries=new Array(this._geometries.length).fill(null);for(var c=0;c<this._geometries.length;c++)a._geometries[c]=this._geometries[c].clone();return a},i.prototype.getGeometryType=function(){return"GeometryCollection"},i.prototype.copy=function(){for(var a=new Array(this._geometries.length).fill(null),c=0;c<a.length;c++)a[c]=this._geometries[c].copy();return new i(a,this._factory)},i.prototype.isEmpty=function(){for(var a=0;a<this._geometries.length;a++)if(!this._geometries[a].isEmpty())return!1;return!0},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},s.serialVersionUID.get=function(){return-5694727726395021e3},Object.defineProperties(i,s),i}(Ue),Rc=function(e){function i(){e.apply(this,arguments)}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={serialVersionUID:{configurable:!0}};return i.prototype.getSortIndex=function(){return Ue.SORTINDEX_MULTILINESTRING},i.prototype.equalsExact=function(){if(arguments.length===2){var a=arguments[0],c=arguments[1];return!!this.isEquivalentClass(a)&&e.prototype.equalsExact.call(this,a,c)}return e.prototype.equalsExact.apply(this,arguments)},i.prototype.getBoundaryDimension=function(){return this.isClosed()?Kr.FALSE:0},i.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var a=0;a<this._geometries.length;a++)if(!this._geometries[a].isClosed())return!1;return!0},i.prototype.getDimension=function(){return 1},i.prototype.reverse=function(){for(var a=this._geometries.length,c=new Array(a).fill(null),h=0;h<this._geometries.length;h++)c[a-1-h]=this._geometries[h].reverse();return this.getFactory().createMultiLineString(c)},i.prototype.getBoundary=function(){return new zo(this).getBoundary()},i.prototype.getGeometryType=function(){return"MultiLineString"},i.prototype.copy=function(){for(var a=new Array(this._geometries.length).fill(null),c=0;c<a.length;c++)a[c]=this._geometries[c].copy();return new i(a,this._factory)},i.prototype.interfaces_=function(){return[vf]},i.prototype.getClass=function(){return i},s.serialVersionUID.get=function(){return 8166665132445434e3},Object.defineProperties(i,s),i}(Rn),zo=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,arguments.length===1){var e=arguments[0],i=Oo.MOD2_BOUNDARY_RULE;this._geom=e,this._geomFact=e.getFactory(),this._bnRule=i}else if(arguments.length===2){var s=arguments[0],a=arguments[1];this._geom=s,this._geomFact=s.getFactory(),this._bnRule=a}};zo.prototype.boundaryMultiLineString=function(e){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var i=this.computeBoundaryCoordinates(e);return i.length===1?this._geomFact.createPoint(i[0]):this._geomFact.createMultiPointFromCoords(i)},zo.prototype.getBoundary=function(){return this._geom instanceof Mi?this.boundaryLineString(this._geom):this._geom instanceof Rc?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},zo.prototype.boundaryLineString=function(e){return this._geom.isEmpty()?this.getEmptyMultiPoint():e.isClosed()?this._bnRule.isInBoundary(2)?e.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([e.getStartPoint(),e.getEndPoint()])},zo.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},zo.prototype.computeBoundaryCoordinates=function(e){var i=this,s=new ce;this._endpointMap=new xn;for(var a=0;a<e.getNumGeometries();a++){var c=e.getGeometryN(a);c.getNumPoints()!==0&&(i.addEndpoint(c.getCoordinateN(0)),i.addEndpoint(c.getCoordinateN(c.getNumPoints()-1)))}for(var h=this._endpointMap.entrySet().iterator();h.hasNext();){var g=h.next(),y=g.getValue().count;i._bnRule.isInBoundary(y)&&s.add(g.getKey())}return cr.toCoordinateArray(s)},zo.prototype.addEndpoint=function(e){var i=this._endpointMap.get(e);i===null&&(i=new ev,this._endpointMap.put(e,i)),i.count++},zo.prototype.interfaces_=function(){return[]},zo.prototype.getClass=function(){return zo},zo.getBoundary=function(){if(arguments.length===1){var e=arguments[0],i=new zo(e);return i.getBoundary()}if(arguments.length===2){var s=arguments[0],a=arguments[1],c=new zo(s,a);return c.getBoundary()}};var ev=function(){this.count=null};function wI(){}function xI(){}ev.prototype.interfaces_=function(){return[]},ev.prototype.getClass=function(){return ev};var _I=function(){};function kI(){}function EI(){}function TI(){}var No=function(){},Ab={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};No.prototype.interfaces_=function(){return[]},No.prototype.getClass=function(){return No},No.chars=function(e,i){for(var s=new Array(i).fill(null),a=0;a<i;a++)s[a]=e;return String(s)},No.getStackTrace=function(){if(arguments.length===1){var e=arguments[0],i=new kI,s=new wI;return e.printStackTrace(s),i.toString()}if(arguments.length===2){for(var a=arguments[0],c=arguments[1],h="",g=new xI(No.getStackTrace(a)),y=new TI,w=0;w<c;w++)try{h+=y.readLine()+No.NEWLINE}catch(x){if(!(x instanceof EI))throw x;rr.shouldNeverReachHere()}return h}},No.split=function(e,i){for(var s=i.length,a=new ce,c=""+e,h=c.indexOf(i);h>=0;){var g=c.substring(0,h);a.add(g),h=(c=c.substring(h+s)).indexOf(i)}c.length>0&&a.add(c);for(var y=new Array(a.size()).fill(null),w=0;w<y.length;w++)y[w]=a.get(w);return y},No.toString=function(){if(arguments.length===1){var e=arguments[0];return No.SIMPLE_ORDINATE_FORMAT.format(e)}},No.spaces=function(e){return No.chars(" ",e)},Ab.NEWLINE.get=function(){return hn.getProperty("line.separator")},Ab.SIMPLE_ORDINATE_FORMAT.get=function(){return new _I},Object.defineProperties(No,Ab);var Li=function(){};Li.prototype.interfaces_=function(){return[]},Li.prototype.getClass=function(){return Li},Li.copyCoord=function(e,i,s,a){for(var c=Math.min(e.getDimension(),s.getDimension()),h=0;h<c;h++)s.setOrdinate(a,h,e.getOrdinate(i,h))},Li.isRing=function(e){var i=e.size();return i===0||!(i<=3)&&e.getOrdinate(0,yr.X)===e.getOrdinate(i-1,yr.X)&&e.getOrdinate(0,yr.Y)===e.getOrdinate(i-1,yr.Y)},Li.isEqual=function(e,i){var s=e.size();if(s!==i.size())return!1;for(var a=Math.min(e.getDimension(),i.getDimension()),c=0;c<s;c++)for(var h=0;h<a;h++){var g=e.getOrdinate(c,h),y=i.getOrdinate(c,h);if(e.getOrdinate(c,h)!==i.getOrdinate(c,h)&&(!Qe.isNaN(g)||!Qe.isNaN(y)))return!1}return!0},Li.extend=function(e,i,s){var a=e.create(s,i.getDimension()),c=i.size();if(Li.copy(i,0,a,0,c),c>0)for(var h=c;h<s;h++)Li.copy(i,c-1,a,h,1);return a},Li.reverse=function(e){for(var i=e.size()-1,s=Math.trunc(i/2),a=0;a<=s;a++)Li.swap(e,a,i-a)},Li.swap=function(e,i,s){if(i===s)return null;for(var a=0;a<e.getDimension();a++){var c=e.getOrdinate(i,a);e.setOrdinate(i,a,e.getOrdinate(s,a)),e.setOrdinate(s,a,c)}},Li.copy=function(e,i,s,a,c){for(var h=0;h<c;h++)Li.copyCoord(e,i+h,s,a+h)},Li.toString=function(){if(arguments.length===1){var e=arguments[0],i=e.size();if(i===0)return"()";var s=e.getDimension(),a=new Es;a.append("(");for(var c=0;c<i;c++){c>0&&a.append(" ");for(var h=0;h<s;h++)h>0&&a.append(","),a.append(No.toString(e.getOrdinate(c,h)))}return a.append(")"),a.toString()}},Li.ensureValidRing=function(e,i){var s=i.size();return s===0?i:s<=3?Li.createClosedRing(e,i,4):i.getOrdinate(0,yr.X)===i.getOrdinate(s-1,yr.X)&&i.getOrdinate(0,yr.Y)===i.getOrdinate(s-1,yr.Y)?i:Li.createClosedRing(e,i,s+1)},Li.createClosedRing=function(e,i,s){var a=e.create(s,i.getDimension()),c=i.size();Li.copy(i,0,a,0,c);for(var h=c;h<s;h++)Li.copy(i,0,a,h,1);return a};var Mi=function(e){function i(a,c){e.call(this,c),this._points=null,this.init(a)}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={serialVersionUID:{configurable:!0}};return i.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new Ae:this._points.expandEnvelope(new Ae)},i.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},i.prototype.getSortIndex=function(){return e.SORTINDEX_LINESTRING},i.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},i.prototype.equalsExact=function(){var a=this;if(arguments.length===2){var c=arguments[0],h=arguments[1];if(!this.isEquivalentClass(c))return!1;var g=c;if(this._points.size()!==g._points.size())return!1;for(var y=0;y<this._points.size();y++)if(!a.equal(a._points.getCoordinate(y),g._points.getCoordinate(y),h))return!1;return!0}return e.prototype.equalsExact.apply(this,arguments)},i.prototype.normalize=function(){for(var a=this,c=0;c<Math.trunc(this._points.size()/2);c++){var h=a._points.size()-1-c;if(!a._points.getCoordinate(c).equals(a._points.getCoordinate(h)))return a._points.getCoordinate(c).compareTo(a._points.getCoordinate(h))>0&&Li.reverse(a._points),null}},i.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},i.prototype.getBoundaryDimension=function(){return this.isClosed()?Kr.FALSE:0},i.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},i.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},i.prototype.getDimension=function(){return 1},i.prototype.getLength=function(){return ge.computeLength(this._points)},i.prototype.getNumPoints=function(){return this._points.size()},i.prototype.reverse=function(){var a=this._points.copy();return Li.reverse(a),this.getFactory().createLineString(a)},i.prototype.compareToSameClass=function(){var a=this;if(arguments.length===1){for(var c=arguments[0],h=c,g=0,y=0;g<this._points.size()&&y<h._points.size();){var w=a._points.getCoordinate(g).compareTo(h._points.getCoordinate(y));if(w!==0)return w;g++,y++}return g<this._points.size()?1:y<h._points.size()?-1:0}if(arguments.length===2){var x=arguments[0],T=arguments[1],E=x;return T.compare(this._points,E._points)}},i.prototype.apply=function(){var a=this;if(qe(arguments[0],la))for(var c=arguments[0],h=0;h<this._points.size();h++)c.filter(a._points.getCoordinate(h));else if(qe(arguments[0],os)){var g=arguments[0];if(this._points.size()===0)return null;for(var y=0;y<this._points.size()&&(g.filter(a._points,y),!g.isDone());y++);g.isGeometryChanged()&&this.geometryChanged()}else if(qe(arguments[0],Ms)){var w=arguments[0];w.filter(this)}else if(qe(arguments[0],Ga)){var x=arguments[0];x.filter(this)}},i.prototype.getBoundary=function(){return new zo(this).getBoundary()},i.prototype.isEquivalentClass=function(a){return a instanceof i},i.prototype.clone=function(){var a=e.prototype.clone.call(this);return a._points=this._points.clone(),a},i.prototype.getCoordinateN=function(a){return this._points.getCoordinate(a)},i.prototype.getGeometryType=function(){return"LineString"},i.prototype.copy=function(){return new i(this._points.copy(),this._factory)},i.prototype.getCoordinateSequence=function(){return this._points},i.prototype.isEmpty=function(){return this._points.size()===0},i.prototype.init=function(a){if(a===null&&(a=this.getFactory().getCoordinateSequenceFactory().create([])),a.size()===1)throw new ki("Invalid number of points in LineString (found "+a.size()+" - must be 0 or >= 2)");this._points=a},i.prototype.isCoordinate=function(a){for(var c=0;c<this._points.size();c++)if(this._points.getCoordinate(c).equals(a))return!0;return!1},i.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},i.prototype.getPointN=function(a){return this.getFactory().createPoint(this._points.getCoordinate(a))},i.prototype.interfaces_=function(){return[vf]},i.prototype.getClass=function(){return i},s.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(i,s),i}(Ue),yf=function(){};yf.prototype.interfaces_=function(){return[]},yf.prototype.getClass=function(){return yf};var eo=function(e){function i(a,c){e.call(this,c),this._coordinates=a||null,this.init(this._coordinates)}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={serialVersionUID:{configurable:!0}};return i.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new Ae;var a=new Ae;return a.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),a},i.prototype.getSortIndex=function(){return e.SORTINDEX_POINT},i.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},i.prototype.equalsExact=function(){if(arguments.length===2){var a=arguments[0],c=arguments[1];return!!this.isEquivalentClass(a)&&(!(!this.isEmpty()||!a.isEmpty())||this.isEmpty()===a.isEmpty()&&this.equal(a.getCoordinate(),this.getCoordinate(),c))}return e.prototype.equalsExact.apply(this,arguments)},i.prototype.normalize=function(){},i.prototype.getCoordinate=function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null},i.prototype.getBoundaryDimension=function(){return Kr.FALSE},i.prototype.getDimension=function(){return 0},i.prototype.getNumPoints=function(){return this.isEmpty()?0:1},i.prototype.reverse=function(){return this.copy()},i.prototype.getX=function(){if(this.getCoordinate()===null)throw new Error("getX called on empty Point");return this.getCoordinate().x},i.prototype.compareToSameClass=function(){if(arguments.length===1){var a=arguments[0],c=a;return this.getCoordinate().compareTo(c.getCoordinate())}if(arguments.length===2){var h=arguments[0],g=arguments[1],y=h;return g.compare(this._coordinates,y._coordinates)}},i.prototype.apply=function(){if(qe(arguments[0],la)){var a=arguments[0];if(this.isEmpty())return null;a.filter(this.getCoordinate())}else if(qe(arguments[0],os)){var c=arguments[0];if(this.isEmpty())return null;c.filter(this._coordinates,0),c.isGeometryChanged()&&this.geometryChanged()}else if(qe(arguments[0],Ms)){var h=arguments[0];h.filter(this)}else if(qe(arguments[0],Ga)){var g=arguments[0];g.filter(this)}},i.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},i.prototype.clone=function(){var a=e.prototype.clone.call(this);return a._coordinates=this._coordinates.clone(),a},i.prototype.getGeometryType=function(){return"Point"},i.prototype.copy=function(){return new i(this._coordinates.copy(),this._factory)},i.prototype.getCoordinateSequence=function(){return this._coordinates},i.prototype.getY=function(){if(this.getCoordinate()===null)throw new Error("getY called on empty Point");return this.getCoordinate().y},i.prototype.isEmpty=function(){return this._coordinates.size()===0},i.prototype.init=function(a){a===null&&(a=this.getFactory().getCoordinateSequenceFactory().create([])),rr.isTrue(a.size()<=1),this._coordinates=a},i.prototype.isSimple=function(){return!0},i.prototype.interfaces_=function(){return[yf]},i.prototype.getClass=function(){return i},s.serialVersionUID.get=function(){return 4902022702746615e3},Object.defineProperties(i,s),i}(Ue),Ol=function(){};Ol.prototype.interfaces_=function(){return[]},Ol.prototype.getClass=function(){return Ol};var Gi=function(e){function i(a,c,h){if(e.call(this,h),this._shell=null,this._holes=null,a===null&&(a=this.getFactory().createLinearRing()),c===null&&(c=[]),e.hasNullElements(c))throw new ki("holes must not contain null elements");if(a.isEmpty()&&e.hasNonEmptyElements(c))throw new ki("shell is empty but holes are not");this._shell=a,this._holes=c}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={serialVersionUID:{configurable:!0}};return i.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},i.prototype.getSortIndex=function(){return e.SORTINDEX_POLYGON},i.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var a=new Array(this.getNumPoints()).fill(null),c=-1,h=this._shell.getCoordinates(),g=0;g<h.length;g++)a[++c]=h[g];for(var y=0;y<this._holes.length;y++)for(var w=this._holes[y].getCoordinates(),x=0;x<w.length;x++)a[++c]=w[x];return a},i.prototype.getArea=function(){var a=0;a+=Math.abs(ge.signedArea(this._shell.getCoordinateSequence()));for(var c=0;c<this._holes.length;c++)a-=Math.abs(ge.signedArea(this._holes[c].getCoordinateSequence()));return a},i.prototype.isRectangle=function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var a=this._shell.getCoordinateSequence(),c=this.getEnvelopeInternal(),h=0;h<5;h++){var g=a.getX(h);if(g!==c.getMinX()&&g!==c.getMaxX())return!1;var y=a.getY(h);if(y!==c.getMinY()&&y!==c.getMaxY())return!1}for(var w=a.getX(0),x=a.getY(0),T=1;T<=4;T++){var E=a.getX(T),P=a.getY(T);if(E!==w==(P!==x))return!1;w=E,x=P}return!0},i.prototype.equalsExact=function(){var a=this;if(arguments.length===2){var c=arguments[0],h=arguments[1];if(!this.isEquivalentClass(c))return!1;var g=c,y=this._shell,w=g._shell;if(!y.equalsExact(w,h)||this._holes.length!==g._holes.length)return!1;for(var x=0;x<this._holes.length;x++)if(!a._holes[x].equalsExact(g._holes[x],h))return!1;return!0}return e.prototype.equalsExact.apply(this,arguments)},i.prototype.normalize=function(){var a=this;if(arguments.length===0){this.normalize(this._shell,!0);for(var c=0;c<this._holes.length;c++)a.normalize(a._holes[c],!1);Lc.sort(this._holes)}else if(arguments.length===2){var h=arguments[0],g=arguments[1];if(h.isEmpty())return null;var y=new Array(h.getCoordinates().length-1).fill(null);hn.arraycopy(h.getCoordinates(),0,y,0,y.length);var w=cr.minCoordinate(h.getCoordinates());cr.scroll(y,w),hn.arraycopy(y,0,h.getCoordinates(),0,y.length),h.getCoordinates()[y.length]=y[0],ge.isCCW(h.getCoordinates())===g&&cr.reverse(h.getCoordinates())}},i.prototype.getCoordinate=function(){return this._shell.getCoordinate()},i.prototype.getNumInteriorRing=function(){return this._holes.length},i.prototype.getBoundaryDimension=function(){return 1},i.prototype.getDimension=function(){return 2},i.prototype.getLength=function(){var a=0;a+=this._shell.getLength();for(var c=0;c<this._holes.length;c++)a+=this._holes[c].getLength();return a},i.prototype.getNumPoints=function(){for(var a=this._shell.getNumPoints(),c=0;c<this._holes.length;c++)a+=this._holes[c].getNumPoints();return a},i.prototype.reverse=function(){var a=this.copy();a._shell=this._shell.copy().reverse(),a._holes=new Array(this._holes.length).fill(null);for(var c=0;c<this._holes.length;c++)a._holes[c]=this._holes[c].copy().reverse();return a},i.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},i.prototype.compareToSameClass=function(){var a=this;if(arguments.length===1){var c=arguments[0],h=this._shell,g=c._shell;return h.compareToSameClass(g)}if(arguments.length===2){var y=arguments[0],w=arguments[1],x=y,T=this._shell,E=x._shell,P=T.compareToSameClass(E,w);if(P!==0)return P;for(var z=this.getNumInteriorRing(),N=x.getNumInteriorRing(),B=0;B<z&&B<N;){var I=a.getInteriorRingN(B),W=x.getInteriorRingN(B),it=I.compareToSameClass(W,w);if(it!==0)return it;B++}return B<z?1:B<N?-1:0}},i.prototype.apply=function(a){var c=this;if(qe(a,la)){this._shell.apply(a);for(var h=0;h<this._holes.length;h++)c._holes[h].apply(a)}else if(qe(a,os)){if(this._shell.apply(a),!a.isDone())for(var g=0;g<this._holes.length&&(c._holes[g].apply(a),!a.isDone());g++);a.isGeometryChanged()&&this.geometryChanged()}else if(qe(a,Ms))a.filter(this);else if(qe(a,Ga)){a.filter(this),this._shell.apply(a);for(var y=0;y<this._holes.length;y++)c._holes[y].apply(a)}},i.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var a=new Array(this._holes.length+1).fill(null);a[0]=this._shell;for(var c=0;c<this._holes.length;c++)a[c+1]=this._holes[c];return a.length<=1?this.getFactory().createLinearRing(a[0].getCoordinateSequence()):this.getFactory().createMultiLineString(a)},i.prototype.clone=function(){var a=e.prototype.clone.call(this);a._shell=this._shell.clone(),a._holes=new Array(this._holes.length).fill(null);for(var c=0;c<this._holes.length;c++)a._holes[c]=this._holes[c].clone();return a},i.prototype.getGeometryType=function(){return"Polygon"},i.prototype.copy=function(){for(var a=this._shell.copy(),c=new Array(this._holes.length).fill(null),h=0;h<c.length;h++)c[h]=this._holes[h].copy();return new i(a,c,this._factory)},i.prototype.getExteriorRing=function(){return this._shell},i.prototype.isEmpty=function(){return this._shell.isEmpty()},i.prototype.getInteriorRingN=function(a){return this._holes[a]},i.prototype.interfaces_=function(){return[Ol]},i.prototype.getClass=function(){return i},s.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(i,s),i}(Ue),md=function(e){function i(){e.apply(this,arguments)}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={serialVersionUID:{configurable:!0}};return i.prototype.getSortIndex=function(){return Ue.SORTINDEX_MULTIPOINT},i.prototype.isValid=function(){return!0},i.prototype.equalsExact=function(){if(arguments.length===2){var a=arguments[0],c=arguments[1];return!!this.isEquivalentClass(a)&&e.prototype.equalsExact.call(this,a,c)}return e.prototype.equalsExact.apply(this,arguments)},i.prototype.getCoordinate=function(){if(arguments.length===1){var a=arguments[0];return this._geometries[a].getCoordinate()}return e.prototype.getCoordinate.apply(this,arguments)},i.prototype.getBoundaryDimension=function(){return Kr.FALSE},i.prototype.getDimension=function(){return 0},i.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},i.prototype.getGeometryType=function(){return"MultiPoint"},i.prototype.copy=function(){for(var a=new Array(this._geometries.length).fill(null),c=0;c<a.length;c++)a[c]=this._geometries[c].copy();return new i(a,this._factory)},i.prototype.interfaces_=function(){return[yf]},i.prototype.getClass=function(){return i},s.serialVersionUID.get=function(){return-8048474874175356e3},Object.defineProperties(i,s),i}(Rn),ca=function(e){function i(a,c){a instanceof Ct&&c instanceof ur&&(a=c.getCoordinateSequenceFactory().create(a)),e.call(this,a,c),this.validateConstruction()}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return i.prototype.getSortIndex=function(){return Ue.SORTINDEX_LINEARRING},i.prototype.getBoundaryDimension=function(){return Kr.FALSE},i.prototype.isClosed=function(){return!!this.isEmpty()||e.prototype.isClosed.call(this)},i.prototype.reverse=function(){var a=this._points.copy();return Li.reverse(a),this.getFactory().createLinearRing(a)},i.prototype.validateConstruction=function(){if(!this.isEmpty()&&!e.prototype.isClosed.call(this))throw new ki("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<i.MINIMUM_VALID_SIZE)throw new ki("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},i.prototype.getGeometryType=function(){return"LinearRing"},i.prototype.copy=function(){return new i(this._points.copy(),this._factory)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},s.MINIMUM_VALID_SIZE.get=function(){return 4},s.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(i,s),i}(Mi),ua=function(e){function i(){e.apply(this,arguments)}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={serialVersionUID:{configurable:!0}};return i.prototype.getSortIndex=function(){return Ue.SORTINDEX_MULTIPOLYGON},i.prototype.equalsExact=function(){if(arguments.length===2){var a=arguments[0],c=arguments[1];return!!this.isEquivalentClass(a)&&e.prototype.equalsExact.call(this,a,c)}return e.prototype.equalsExact.apply(this,arguments)},i.prototype.getBoundaryDimension=function(){return 1},i.prototype.getDimension=function(){return 2},i.prototype.reverse=function(){for(var a=this._geometries.length,c=new Array(a).fill(null),h=0;h<this._geometries.length;h++)c[h]=this._geometries[h].reverse();return this.getFactory().createMultiPolygon(c)},i.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var a=new ce,c=0;c<this._geometries.length;c++)for(var h=this._geometries[c].getBoundary(),g=0;g<h.getNumGeometries();g++)a.add(h.getGeometryN(g));var y=new Array(a.size()).fill(null);return this.getFactory().createMultiLineString(a.toArray(y))},i.prototype.getGeometryType=function(){return"MultiPolygon"},i.prototype.copy=function(){for(var a=new Array(this._geometries.length).fill(null),c=0;c<a.length;c++)a[c]=this._geometries[c].copy();return new i(a,this._factory)},i.prototype.interfaces_=function(){return[Ol]},i.prototype.getClass=function(){return i},s.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(i,s),i}(Rn),Do=function(e){this._factory=e||null,this._isUserDataCopied=!1},rv={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};Do.prototype.setCopyUserData=function(e){this._isUserDataCopied=e},Do.prototype.edit=function(e,i){if(e===null)return null;var s=this.editInternal(e,i);return this._isUserDataCopied&&s.setUserData(e.getUserData()),s},Do.prototype.editInternal=function(e,i){return this._factory===null&&(this._factory=e.getFactory()),e instanceof Rn?this.editGeometryCollection(e,i):e instanceof Gi?this.editPolygon(e,i):e instanceof eo||e instanceof Mi?i.edit(e,this._factory):(rr.shouldNeverReachHere("Unsupported Geometry class: "+e.getClass().getName()),null)},Do.prototype.editGeometryCollection=function(e,i){for(var s=i.edit(e,this._factory),a=new ce,c=0;c<s.getNumGeometries();c++){var h=this.edit(s.getGeometryN(c),i);h===null||h.isEmpty()||a.add(h)}return s.getClass()===md?this._factory.createMultiPoint(a.toArray([])):s.getClass()===Rc?this._factory.createMultiLineString(a.toArray([])):s.getClass()===ua?this._factory.createMultiPolygon(a.toArray([])):this._factory.createGeometryCollection(a.toArray([]))},Do.prototype.editPolygon=function(e,i){var s=i.edit(e,this._factory);if(s===null&&(s=this._factory.createPolygon(null)),s.isEmpty())return s;var a=this.edit(s.getExteriorRing(),i);if(a===null||a.isEmpty())return this._factory.createPolygon();for(var c=new ce,h=0;h<s.getNumInteriorRing();h++){var g=this.edit(s.getInteriorRingN(h),i);g===null||g.isEmpty()||c.add(g)}return this._factory.createPolygon(a,c.toArray([]))},Do.prototype.interfaces_=function(){return[]},Do.prototype.getClass=function(){return Do},Do.GeometryEditorOperation=function(){},rv.NoOpGeometryOperation.get=function(){return bf},rv.CoordinateOperation.get=function(){return wf},rv.CoordinateSequenceOperation.get=function(){return xf},Object.defineProperties(Do,rv);var bf=function(){};bf.prototype.edit=function(e,i){return e},bf.prototype.interfaces_=function(){return[Do.GeometryEditorOperation]},bf.prototype.getClass=function(){return bf};var wf=function(){};wf.prototype.edit=function(e,i){var s=this.editCoordinates(e.getCoordinates(),e);return s===null?e:e instanceof ca?i.createLinearRing(s):e instanceof Mi?i.createLineString(s):e instanceof eo?s.length>0?i.createPoint(s[0]):i.createPoint():e},wf.prototype.interfaces_=function(){return[Do.GeometryEditorOperation]},wf.prototype.getClass=function(){return wf};var xf=function(){};xf.prototype.edit=function(e,i){return e instanceof ca?i.createLinearRing(this.edit(e.getCoordinateSequence(),e)):e instanceof Mi?i.createLineString(this.edit(e.getCoordinateSequence(),e)):e instanceof eo?i.createPoint(this.edit(e.getCoordinateSequence(),e)):e},xf.prototype.interfaces_=function(){return[Do.GeometryEditorOperation]},xf.prototype.getClass=function(){return xf};var Ri=function(){var e=this;if(this._dimension=3,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var i=arguments[0];this._coordinates=new Array(i).fill(null);for(var s=0;s<i;s++)e._coordinates[s]=new Ct}else if(qe(arguments[0],yr)){var a=arguments[0];if(a===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=a.getDimension(),this._coordinates=new Array(a.size()).fill(null);for(var c=0;c<this._coordinates.length;c++)e._coordinates[c]=a.getCoordinateCopy(c)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var h=arguments[0],g=arguments[1];this._coordinates=h,this._dimension=g,h===null&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var y=arguments[0],w=arguments[1];this._coordinates=new Array(y).fill(null),this._dimension=w;for(var x=0;x<y;x++)e._coordinates[x]=new Ct}}},pk={serialVersionUID:{configurable:!0}};Ri.prototype.setOrdinate=function(e,i,s){switch(i){case yr.X:this._coordinates[e].x=s;break;case yr.Y:this._coordinates[e].y=s;break;case yr.Z:this._coordinates[e].z=s;break;default:throw new ki("invalid ordinateIndex")}},Ri.prototype.size=function(){return this._coordinates.length},Ri.prototype.getOrdinate=function(e,i){switch(i){case yr.X:return this._coordinates[e].x;case yr.Y:return this._coordinates[e].y;case yr.Z:return this._coordinates[e].z}return Qe.NaN},Ri.prototype.getCoordinate=function(){if(arguments.length===1){var e=arguments[0];return this._coordinates[e]}if(arguments.length===2){var i=arguments[0],s=arguments[1];s.x=this._coordinates[i].x,s.y=this._coordinates[i].y,s.z=this._coordinates[i].z}},Ri.prototype.getCoordinateCopy=function(e){return new Ct(this._coordinates[e])},Ri.prototype.getDimension=function(){return this._dimension},Ri.prototype.getX=function(e){return this._coordinates[e].x},Ri.prototype.clone=function(){for(var e=new Array(this.size()).fill(null),i=0;i<this._coordinates.length;i++)e[i]=this._coordinates[i].clone();return new Ri(e,this._dimension)},Ri.prototype.expandEnvelope=function(e){for(var i=0;i<this._coordinates.length;i++)e.expandToInclude(this._coordinates[i]);return e},Ri.prototype.copy=function(){for(var e=new Array(this.size()).fill(null),i=0;i<this._coordinates.length;i++)e[i]=this._coordinates[i].copy();return new Ri(e,this._dimension)},Ri.prototype.toString=function(){if(this._coordinates.length>0){var e=new Es(17*this._coordinates.length);e.append("("),e.append(this._coordinates[0]);for(var i=1;i<this._coordinates.length;i++)e.append(", "),e.append(this._coordinates[i]);return e.append(")"),e.toString()}return"()"},Ri.prototype.getY=function(e){return this._coordinates[e].y},Ri.prototype.toCoordinateArray=function(){return this._coordinates},Ri.prototype.interfaces_=function(){return[yr,Ao]},Ri.prototype.getClass=function(){return Ri},pk.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(Ri,pk);var ha=function(){},Ob={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};ha.prototype.readResolve=function(){return ha.instance()},ha.prototype.create=function(){if(arguments.length===1){if(arguments[0]instanceof Array){var e=arguments[0];return new Ri(e)}if(qe(arguments[0],yr)){var i=arguments[0];return new Ri(i)}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];return a>3&&(a=3),a<2?new Ri(s):new Ri(s,a)}},ha.prototype.interfaces_=function(){return[sd,Ao]},ha.prototype.getClass=function(){return ha},ha.instance=function(){return ha.instanceObject},Ob.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},Ob.instanceObject.get=function(){return new ha},Object.defineProperties(ha,Ob);var fk=function(e){function i(){e.call(this),this.map_=new Map}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.get=function(s){return this.map_.get(s)||null},i.prototype.put=function(s,a){return this.map_.set(s,a),a},i.prototype.values=function(){for(var s=new ce,a=this.map_.values(),c=a.next();!c.done;)s.add(c.value),c=a.next();return s},i.prototype.entrySet=function(){var s=new Lb;return this.map_.entries().forEach(function(a){return s.add(a)}),s},i.prototype.size=function(){return this.map_.size()},i}(Hu),Jr=function e(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=e.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof Is){var i=arguments[0];this._modelType=i,i===e.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var s=arguments[0];this._modelType=e.FIXED,this.setScale(s)}else if(arguments[0]instanceof e){var a=arguments[0];this._modelType=a._modelType,this._scale=a._scale}}},zb={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};Jr.prototype.equals=function(e){if(!(e instanceof Jr))return!1;var i=e;return this._modelType===i._modelType&&this._scale===i._scale},Jr.prototype.compareTo=function(e){var i=e,s=this.getMaximumSignificantDigits(),a=i.getMaximumSignificantDigits();return new Ts(s).compareTo(new Ts(a))},Jr.prototype.getScale=function(){return this._scale},Jr.prototype.isFloating=function(){return this._modelType===Jr.FLOATING||this._modelType===Jr.FLOATING_SINGLE},Jr.prototype.getType=function(){return this._modelType},Jr.prototype.toString=function(){var e="UNKNOWN";return this._modelType===Jr.FLOATING?e="Floating":this._modelType===Jr.FLOATING_SINGLE?e="Floating-Single":this._modelType===Jr.FIXED&&(e="Fixed (Scale="+this.getScale()+")"),e},Jr.prototype.makePrecise=function(){if(typeof arguments[0]=="number"){var e=arguments[0];return Qe.isNaN(e)||this._modelType===Jr.FLOATING_SINGLE?e:this._modelType===Jr.FIXED?Math.round(e*this._scale)/this._scale:e}if(arguments[0]instanceof Ct){var i=arguments[0];if(this._modelType===Jr.FLOATING)return null;i.x=this.makePrecise(i.x),i.y=this.makePrecise(i.y)}},Jr.prototype.getMaximumSignificantDigits=function(){var e=16;return this._modelType===Jr.FLOATING?e=16:this._modelType===Jr.FLOATING_SINGLE?e=6:this._modelType===Jr.FIXED&&(e=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),e},Jr.prototype.setScale=function(e){this._scale=Math.abs(e)},Jr.prototype.interfaces_=function(){return[Ao,Ro]},Jr.prototype.getClass=function(){return Jr},Jr.mostPrecise=function(e,i){return e.compareTo(i)>=0?e:i},zb.serialVersionUID.get=function(){return 7777263578777804e3},zb.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(Jr,zb);var Is=function e(i){this._name=i||null,e.nameToTypeMap.put(i,this)},Nb={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};Is.prototype.readResolve=function(){return Is.nameToTypeMap.get(this._name)},Is.prototype.toString=function(){return this._name},Is.prototype.interfaces_=function(){return[Ao]},Is.prototype.getClass=function(){return Is},Nb.serialVersionUID.get=function(){return-552860263173159e4},Nb.nameToTypeMap.get=function(){return new fk},Object.defineProperties(Is,Nb),Jr.Type=Is,Jr.FIXED=new Is("FIXED"),Jr.FLOATING=new Is("FLOATING"),Jr.FLOATING_SINGLE=new Is("FLOATING SINGLE");var ur=function e(){this._precisionModel=new Jr,this._SRID=0,this._coordinateSequenceFactory=e.getDefaultCoordinateSequenceFactory(),arguments.length===0||(arguments.length===1?qe(arguments[0],sd)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof Jr&&(this._precisionModel=arguments[0]):arguments.length===2?(this._precisionModel=arguments[0],this._SRID=arguments[1]):arguments.length===3&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},gk={serialVersionUID:{configurable:!0}};ur.prototype.toGeometry=function(e){return e.isNull()?this.createPoint(null):e.getMinX()===e.getMaxX()&&e.getMinY()===e.getMaxY()?this.createPoint(new Ct(e.getMinX(),e.getMinY())):e.getMinX()===e.getMaxX()||e.getMinY()===e.getMaxY()?this.createLineString([new Ct(e.getMinX(),e.getMinY()),new Ct(e.getMaxX(),e.getMaxY())]):this.createPolygon(this.createLinearRing([new Ct(e.getMinX(),e.getMinY()),new Ct(e.getMinX(),e.getMaxY()),new Ct(e.getMaxX(),e.getMaxY()),new Ct(e.getMaxX(),e.getMinY()),new Ct(e.getMinX(),e.getMinY())]),null)},ur.prototype.createLineString=function(e){return e?e instanceof Array?new Mi(this.getCoordinateSequenceFactory().create(e),this):qe(e,yr)?new Mi(e,this):void 0:new Mi(this.getCoordinateSequenceFactory().create([]),this)},ur.prototype.createMultiLineString=function(){if(arguments.length===0)return new Rc(null,this);if(arguments.length===1){var e=arguments[0];return new Rc(e,this)}},ur.prototype.buildGeometry=function(e){for(var i=null,s=!1,a=!1,c=e.iterator();c.hasNext();){var h=c.next(),g=h.getClass();i===null&&(i=g),g!==i&&(s=!0),h.isGeometryCollectionOrDerived()&&(a=!0)}if(i===null)return this.createGeometryCollection();if(s||a)return this.createGeometryCollection(ur.toGeometryArray(e));var y=e.iterator().next();if(e.size()>1){if(y instanceof Gi)return this.createMultiPolygon(ur.toPolygonArray(e));if(y instanceof Mi)return this.createMultiLineString(ur.toLineStringArray(e));if(y instanceof eo)return this.createMultiPoint(ur.toPointArray(e));rr.shouldNeverReachHere("Unhandled class: "+y.getClass().getName())}return y},ur.prototype.createMultiPointFromCoords=function(e){return this.createMultiPoint(e!==null?this.getCoordinateSequenceFactory().create(e):null)},ur.prototype.createPoint=function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Ct){var e=arguments[0];return this.createPoint(e!==null?this.getCoordinateSequenceFactory().create([e]):null)}if(qe(arguments[0],yr)){var i=arguments[0];return new eo(i,this)}}},ur.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},ur.prototype.createPolygon=function(){if(arguments.length===0)return new Gi(null,null,this);if(arguments.length===1){if(qe(arguments[0],yr)){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Array){var i=arguments[0];return this.createPolygon(this.createLinearRing(i))}if(arguments[0]instanceof ca){var s=arguments[0];return this.createPolygon(s,null)}}else if(arguments.length===2){var a=arguments[0],c=arguments[1];return new Gi(a,c,this)}},ur.prototype.getSRID=function(){return this._SRID},ur.prototype.createGeometryCollection=function(){if(arguments.length===0)return new Rn(null,this);if(arguments.length===1){var e=arguments[0];return new Rn(e,this)}},ur.prototype.createGeometry=function(e){return new Do(this).edit(e,{edit:function(){if(arguments.length===2){var i=arguments[0];return this._coordinateSequenceFactory.create(i)}}})},ur.prototype.getPrecisionModel=function(){return this._precisionModel},ur.prototype.createLinearRing=function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var e=arguments[0];return this.createLinearRing(e!==null?this.getCoordinateSequenceFactory().create(e):null)}if(qe(arguments[0],yr)){var i=arguments[0];return new ca(i,this)}}},ur.prototype.createMultiPolygon=function(){if(arguments.length===0)return new ua(null,this);if(arguments.length===1){var e=arguments[0];return new ua(e,this)}},ur.prototype.createMultiPoint=function(){var e=this;if(arguments.length===0)return new md(null,this);if(arguments.length===1){if(arguments[0]instanceof Array){var i=arguments[0];return new md(i,this)}if(arguments[0]instanceof Array){var s=arguments[0];return this.createMultiPoint(s!==null?this.getCoordinateSequenceFactory().create(s):null)}if(qe(arguments[0],yr)){var a=arguments[0];if(a===null)return this.createMultiPoint(new Array(0).fill(null));for(var c=new Array(a.size()).fill(null),h=0;h<a.size();h++){var g=e.getCoordinateSequenceFactory().create(1,a.getDimension());Li.copy(a,h,g,0,1),c[h]=e.createPoint(g)}return this.createMultiPoint(c)}}},ur.prototype.interfaces_=function(){return[Ao]},ur.prototype.getClass=function(){return ur},ur.toMultiPolygonArray=function(e){var i=new Array(e.size()).fill(null);return e.toArray(i)},ur.toGeometryArray=function(e){if(e===null)return null;var i=new Array(e.size()).fill(null);return e.toArray(i)},ur.getDefaultCoordinateSequenceFactory=function(){return ha.instance()},ur.toMultiLineStringArray=function(e){var i=new Array(e.size()).fill(null);return e.toArray(i)},ur.toLineStringArray=function(e){var i=new Array(e.size()).fill(null);return e.toArray(i)},ur.toMultiPointArray=function(e){var i=new Array(e.size()).fill(null);return e.toArray(i)},ur.toLinearRingArray=function(e){var i=new Array(e.size()).fill(null);return e.toArray(i)},ur.toPointArray=function(e){var i=new Array(e.size()).fill(null);return e.toArray(i)},ur.toPolygonArray=function(e){var i=new Array(e.size()).fill(null);return e.toArray(i)},ur.createPointFromInternalCoord=function(e,i){return i.getPrecisionModel().makePrecise(e),i.getFactory().createPoint(e)},gk.serialVersionUID.get=function(){return-6820524753094096e3},Object.defineProperties(ur,gk);var SI=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],iv=function(e){this.geometryFactory=e||new ur};iv.prototype.read=function(e){var i,s=(i=typeof e=="string"?JSON.parse(e):e).type;if(!Ls[s])throw new Error("Unknown GeoJSON type: "+i.type);return SI.indexOf(s)!==-1?Ls[s].apply(this,[i.coordinates]):s==="GeometryCollection"?Ls[s].apply(this,[i.geometries]):Ls[s].apply(this,[i])},iv.prototype.write=function(e){var i=e.getGeometryType();if(!Wa[i])throw new Error("Geometry is not supported");return Wa[i].apply(this,[e])};var Ls={Feature:function(e){var i={};for(var s in e)i[s]=e[s];if(e.geometry){var a=e.geometry.type;if(!Ls[a])throw new Error("Unknown GeoJSON type: "+e.type);i.geometry=this.read(e.geometry)}return e.bbox&&(i.bbox=Ls.bbox.apply(this,[e.bbox])),i},FeatureCollection:function(e){var i={};if(e.features){i.features=[];for(var s=0;s<e.features.length;++s)i.features.push(this.read(e.features[s]))}return e.bbox&&(i.bbox=this.parse.bbox.apply(this,[e.bbox])),i},coordinates:function(e){for(var i=[],s=0;s<e.length;++s){var a=e[s];i.push(new Ct(a[0],a[1]))}return i},bbox:function(e){return this.geometryFactory.createLinearRing([new Ct(e[0],e[1]),new Ct(e[2],e[1]),new Ct(e[2],e[3]),new Ct(e[0],e[3]),new Ct(e[0],e[1])])},Point:function(e){var i=new Ct(e[0],e[1]);return this.geometryFactory.createPoint(i)},MultiPoint:function(e){for(var i=[],s=0;s<e.length;++s)i.push(Ls.Point.apply(this,[e[s]]));return this.geometryFactory.createMultiPoint(i)},LineString:function(e){var i=Ls.coordinates.apply(this,[e]);return this.geometryFactory.createLineString(i)},MultiLineString:function(e){for(var i=[],s=0;s<e.length;++s)i.push(Ls.LineString.apply(this,[e[s]]));return this.geometryFactory.createMultiLineString(i)},Polygon:function(e){for(var i=Ls.coordinates.apply(this,[e[0]]),s=this.geometryFactory.createLinearRing(i),a=[],c=1;c<e.length;++c){var h=e[c],g=Ls.coordinates.apply(this,[h]),y=this.geometryFactory.createLinearRing(g);a.push(y)}return this.geometryFactory.createPolygon(s,a)},MultiPolygon:function(e){for(var i=[],s=0;s<e.length;++s){var a=e[s];i.push(Ls.Polygon.apply(this,[a]))}return this.geometryFactory.createMultiPolygon(i)},GeometryCollection:function(e){for(var i=[],s=0;s<e.length;++s){var a=e[s];i.push(this.read(a))}return this.geometryFactory.createGeometryCollection(i)}},Wa={coordinate:function(e){return[e.x,e.y]},Point:function(e){return{type:"Point",coordinates:Wa.coordinate.apply(this,[e.getCoordinate()])}},MultiPoint:function(e){for(var i=[],s=0;s<e._geometries.length;++s){var a=e._geometries[s],c=Wa.Point.apply(this,[a]);i.push(c.coordinates)}return{type:"MultiPoint",coordinates:i}},LineString:function(e){for(var i=[],s=e.getCoordinates(),a=0;a<s.length;++a){var c=s[a];i.push(Wa.coordinate.apply(this,[c]))}return{type:"LineString",coordinates:i}},MultiLineString:function(e){for(var i=[],s=0;s<e._geometries.length;++s){var a=e._geometries[s],c=Wa.LineString.apply(this,[a]);i.push(c.coordinates)}return{type:"MultiLineString",coordinates:i}},Polygon:function(e){var i=[],s=Wa.LineString.apply(this,[e._shell]);i.push(s.coordinates);for(var a=0;a<e._holes.length;++a){var c=e._holes[a],h=Wa.LineString.apply(this,[c]);i.push(h.coordinates)}return{type:"Polygon",coordinates:i}},MultiPolygon:function(e){for(var i=[],s=0;s<e._geometries.length;++s){var a=e._geometries[s],c=Wa.Polygon.apply(this,[a]);i.push(c.coordinates)}return{type:"MultiPolygon",coordinates:i}},GeometryCollection:function(e){for(var i=[],s=0;s<e._geometries.length;++s){var a=e._geometries[s],c=a.getGeometryType();i.push(Wa[c].apply(this,[a]))}return{type:"GeometryCollection",geometries:i}}},Db=function(e){this.geometryFactory=e||new ur,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new iv(this.geometryFactory)};Db.prototype.read=function(e){var i=this.parser.read(e);return this.precisionModel.getType()===Jr.FIXED&&this.reducePrecision(i),i},Db.prototype.reducePrecision=function(e){var i,s;if(e.coordinate)this.precisionModel.makePrecise(e.coordinate);else if(e.points)for(i=0,s=e.points.length;i<s;i++)this.precisionModel.makePrecise(e.points[i]);else if(e.geometries)for(i=0,s=e.geometries.length;i<s;i++)this.reducePrecision(e.geometries[i])};var mk=function(){this.parser=new iv(this.geometryFactory)};mk.prototype.write=function(e){return this.parser.write(e)};var ie=function(){},nv={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};function ov(e){this.message=e||""}function Rs(){this.array_=[]}ie.prototype.interfaces_=function(){return[]},ie.prototype.getClass=function(){return ie},ie.opposite=function(e){return e===ie.LEFT?ie.RIGHT:e===ie.RIGHT?ie.LEFT:e},nv.ON.get=function(){return 0},nv.LEFT.get=function(){return 1},nv.RIGHT.get=function(){return 2},Object.defineProperties(ie,nv),ov.prototype=new Error,ov.prototype.name="EmptyStackException",Rs.prototype=new is,Rs.prototype.add=function(e){return this.array_.push(e),!0},Rs.prototype.get=function(e){if(e<0||e>=this.size())throw new Error;return this.array_[e]},Rs.prototype.push=function(e){return this.array_.push(e),e},Rs.prototype.pop=function(e){if(this.array_.length===0)throw new ov;return this.array_.pop()},Rs.prototype.peek=function(){if(this.array_.length===0)throw new ov;return this.array_[this.array_.length-1]},Rs.prototype.empty=function(){return this.array_.length===0},Rs.prototype.isEmpty=function(){return this.empty()},Rs.prototype.search=function(e){return this.array_.indexOf(e)},Rs.prototype.size=function(){return this.array_.length},Rs.prototype.toArray=function(){for(var e=[],i=0,s=this.array_.length;i<s;i++)e.push(this.array_[i]);return e};var As=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};As.prototype.getCoordinate=function(){return this._minCoord},As.prototype.getRightmostSide=function(e,i){var s=this.getRightmostSideOfSegment(e,i);return s<0&&(s=this.getRightmostSideOfSegment(e,i-1)),s<0&&(this._minCoord=null,this.checkForRightmostCoordinate(e)),s},As.prototype.findRightmostEdgeAtVertex=function(){var e=this._minDe.getEdge().getCoordinates();rr.isTrue(this._minIndex>0&&this._minIndex<e.length,"rightmost point expected to be interior vertex of edge");var i=e[this._minIndex-1],s=e[this._minIndex+1],a=ge.computeOrientation(this._minCoord,s,i),c=!1;(i.y<this._minCoord.y&&s.y<this._minCoord.y&&a===ge.COUNTERCLOCKWISE||i.y>this._minCoord.y&&s.y>this._minCoord.y&&a===ge.CLOCKWISE)&&(c=!0),c&&(this._minIndex=this._minIndex-1)},As.prototype.getRightmostSideOfSegment=function(e,i){var s=e.getEdge().getCoordinates();if(i<0||i+1>=s.length||s[i].y===s[i+1].y)return-1;var a=ie.LEFT;return s[i].y<s[i+1].y&&(a=ie.RIGHT),a},As.prototype.getEdge=function(){return this._orientedDe},As.prototype.checkForRightmostCoordinate=function(e){for(var i=this,s=e.getEdge().getCoordinates(),a=0;a<s.length-1;a++)(i._minCoord===null||s[a].x>i._minCoord.x)&&(i._minDe=e,i._minIndex=a,i._minCoord=s[a])},As.prototype.findRightmostEdgeAtNode=function(){var e=this._minDe.getNode().getEdges();this._minDe=e.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},As.prototype.findEdge=function(e){for(var i=e.iterator();i.hasNext();){var s=i.next();s.isForward()&&this.checkForRightmostCoordinate(s)}rr.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===ie.LEFT&&(this._orientedDe=this._minDe.getSym())},As.prototype.interfaces_=function(){return[]},As.prototype.getClass=function(){return As};var Za=function(e){function i(s,a){e.call(this,i.msgWithCoord(s,a)),this.pt=a?new Ct(a):null,this.name="TopologyException"}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getCoordinate=function(){return this.pt},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i.msgWithCoord=function(s,a){return a?s:s+" [ "+a+" ]"},i}(Ua),sv=function(){this.array_=[]};sv.prototype.addLast=function(e){this.array_.push(e)},sv.prototype.removeFirst=function(){return this.array_.shift()},sv.prototype.isEmpty=function(){return this.array_.length===0};var An=function(){this._finder=null,this._dirEdgeList=new ce,this._nodes=new ce,this._rightMostCoord=null,this._env=null,this._finder=new As};An.prototype.clearVisitedEdges=function(){for(var e=this._dirEdgeList.iterator();e.hasNext();)e.next().setVisited(!1)},An.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},An.prototype.computeNodeDepth=function(e){for(var i=null,s=e.getEdges().iterator();s.hasNext();){var a=s.next();if(a.isVisited()||a.getSym().isVisited()){i=a;break}}if(i===null)throw new Za("unable to find edge to compute depths at "+e.getCoordinate());e.getEdges().computeDepths(i);for(var c=e.getEdges().iterator();c.hasNext();){var h=c.next();h.setVisited(!0),this.copySymDepths(h)}},An.prototype.computeDepth=function(e){this.clearVisitedEdges();var i=this._finder.getEdge();i.setEdgeDepths(ie.RIGHT,e),this.copySymDepths(i),this.computeDepths(i)},An.prototype.create=function(e){this.addReachable(e),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},An.prototype.findResultEdges=function(){for(var e=this._dirEdgeList.iterator();e.hasNext();){var i=e.next();i.getDepth(ie.RIGHT)>=1&&i.getDepth(ie.LEFT)<=0&&!i.isInteriorAreaEdge()&&i.setInResult(!0)}},An.prototype.computeDepths=function(e){var i=new Lb,s=new sv,a=e.getNode();for(s.addLast(a),i.add(a),e.setVisited(!0);!s.isEmpty();){var c=s.removeFirst();i.add(c),this.computeNodeDepth(c);for(var h=c.getEdges().iterator();h.hasNext();){var g=h.next().getSym();if(!g.isVisited()){var y=g.getNode();i.contains(y)||(s.addLast(y),i.add(y))}}}},An.prototype.compareTo=function(e){var i=e;return this._rightMostCoord.x<i._rightMostCoord.x?-1:this._rightMostCoord.x>i._rightMostCoord.x?1:0},An.prototype.getEnvelope=function(){if(this._env===null){for(var e=new Ae,i=this._dirEdgeList.iterator();i.hasNext();)for(var s=i.next().getEdge().getCoordinates(),a=0;a<s.length-1;a++)e.expandToInclude(s[a]);this._env=e}return this._env},An.prototype.addReachable=function(e){var i=new Rs;for(i.add(e);!i.empty();){var s=i.pop();this.add(s,i)}},An.prototype.copySymDepths=function(e){var i=e.getSym();i.setDepth(ie.LEFT,e.getDepth(ie.RIGHT)),i.setDepth(ie.RIGHT,e.getDepth(ie.LEFT))},An.prototype.add=function(e,i){e.setVisited(!0),this._nodes.add(e);for(var s=e.getEdges().iterator();s.hasNext();){var a=s.next();this._dirEdgeList.add(a);var c=a.getSym().getNode();c.isVisited()||i.push(c)}},An.prototype.getNodes=function(){return this._nodes},An.prototype.getDirectedEdges=function(){return this._dirEdgeList},An.prototype.interfaces_=function(){return[Ro]},An.prototype.getClass=function(){return An};var fi=function e(){var i=this;if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var s=arguments[0];this.init(s.length)}else if(Number.isInteger(arguments[0])){var a=arguments[0];this.init(1),this.location[ie.ON]=a}else if(arguments[0]instanceof e){var c=arguments[0];if(this.init(c.location.length),c!==null)for(var h=0;h<this.location.length;h++)i.location[h]=c.location[h]}}else if(arguments.length===3){var g=arguments[0],y=arguments[1],w=arguments[2];this.init(3),this.location[ie.ON]=g,this.location[ie.LEFT]=y,this.location[ie.RIGHT]=w}};fi.prototype.setAllLocations=function(e){for(var i=0;i<this.location.length;i++)this.location[i]=e},fi.prototype.isNull=function(){for(var e=0;e<this.location.length;e++)if(this.location[e]!==At.NONE)return!1;return!0},fi.prototype.setAllLocationsIfNull=function(e){for(var i=0;i<this.location.length;i++)this.location[i]===At.NONE&&(this.location[i]=e)},fi.prototype.isLine=function(){return this.location.length===1},fi.prototype.merge=function(e){if(e.location.length>this.location.length){var i=new Array(3).fill(null);i[ie.ON]=this.location[ie.ON],i[ie.LEFT]=At.NONE,i[ie.RIGHT]=At.NONE,this.location=i}for(var s=0;s<this.location.length;s++)this.location[s]===At.NONE&&s<e.location.length&&(this.location[s]=e.location[s])},fi.prototype.getLocations=function(){return this.location},fi.prototype.flip=function(){if(this.location.length<=1)return null;var e=this.location[ie.LEFT];this.location[ie.LEFT]=this.location[ie.RIGHT],this.location[ie.RIGHT]=e},fi.prototype.toString=function(){var e=new Es;return this.location.length>1&&e.append(At.toLocationSymbol(this.location[ie.LEFT])),e.append(At.toLocationSymbol(this.location[ie.ON])),this.location.length>1&&e.append(At.toLocationSymbol(this.location[ie.RIGHT])),e.toString()},fi.prototype.setLocations=function(e,i,s){this.location[ie.ON]=e,this.location[ie.LEFT]=i,this.location[ie.RIGHT]=s},fi.prototype.get=function(e){return e<this.location.length?this.location[e]:At.NONE},fi.prototype.isArea=function(){return this.location.length>1},fi.prototype.isAnyNull=function(){for(var e=0;e<this.location.length;e++)if(this.location[e]===At.NONE)return!0;return!1},fi.prototype.setLocation=function(){if(arguments.length===1){var e=arguments[0];this.setLocation(ie.ON,e)}else if(arguments.length===2){var i=arguments[0],s=arguments[1];this.location[i]=s}},fi.prototype.init=function(e){this.location=new Array(e).fill(null),this.setAllLocations(At.NONE)},fi.prototype.isEqualOnSide=function(e,i){return this.location[i]===e.location[i]},fi.prototype.allPositionsEqual=function(e){for(var i=0;i<this.location.length;i++)if(this.location[i]!==e)return!1;return!0},fi.prototype.interfaces_=function(){return[]},fi.prototype.getClass=function(){return fi};var ni=function e(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var i=arguments[0];this.elt[0]=new fi(i),this.elt[1]=new fi(i)}else if(arguments[0]instanceof e){var s=arguments[0];this.elt[0]=new fi(s.elt[0]),this.elt[1]=new fi(s.elt[1])}}else if(arguments.length===2){var a=arguments[0],c=arguments[1];this.elt[0]=new fi(At.NONE),this.elt[1]=new fi(At.NONE),this.elt[a].setLocation(c)}else if(arguments.length===3){var h=arguments[0],g=arguments[1],y=arguments[2];this.elt[0]=new fi(h,g,y),this.elt[1]=new fi(h,g,y)}else if(arguments.length===4){var w=arguments[0],x=arguments[1],T=arguments[2],E=arguments[3];this.elt[0]=new fi(At.NONE,At.NONE,At.NONE),this.elt[1]=new fi(At.NONE,At.NONE,At.NONE),this.elt[w].setLocations(x,T,E)}};ni.prototype.getGeometryCount=function(){var e=0;return this.elt[0].isNull()||e++,this.elt[1].isNull()||e++,e},ni.prototype.setAllLocations=function(e,i){this.elt[e].setAllLocations(i)},ni.prototype.isNull=function(e){return this.elt[e].isNull()},ni.prototype.setAllLocationsIfNull=function(){if(arguments.length===1){var e=arguments[0];this.setAllLocationsIfNull(0,e),this.setAllLocationsIfNull(1,e)}else if(arguments.length===2){var i=arguments[0],s=arguments[1];this.elt[i].setAllLocationsIfNull(s)}},ni.prototype.isLine=function(e){return this.elt[e].isLine()},ni.prototype.merge=function(e){for(var i=this,s=0;s<2;s++)i.elt[s]===null&&e.elt[s]!==null?i.elt[s]=new fi(e.elt[s]):i.elt[s].merge(e.elt[s])},ni.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},ni.prototype.getLocation=function(){if(arguments.length===1){var e=arguments[0];return this.elt[e].get(ie.ON)}if(arguments.length===2){var i=arguments[0],s=arguments[1];return this.elt[i].get(s)}},ni.prototype.toString=function(){var e=new Es;return this.elt[0]!==null&&(e.append("A:"),e.append(this.elt[0].toString())),this.elt[1]!==null&&(e.append(" B:"),e.append(this.elt[1].toString())),e.toString()},ni.prototype.isArea=function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var e=arguments[0];return this.elt[e].isArea()}},ni.prototype.isAnyNull=function(e){return this.elt[e].isAnyNull()},ni.prototype.setLocation=function(){if(arguments.length===2){var e=arguments[0],i=arguments[1];this.elt[e].setLocation(ie.ON,i)}else if(arguments.length===3){var s=arguments[0],a=arguments[1],c=arguments[2];this.elt[s].setLocation(a,c)}},ni.prototype.isEqualOnSide=function(e,i){return this.elt[0].isEqualOnSide(e.elt[0],i)&&this.elt[1].isEqualOnSide(e.elt[1],i)},ni.prototype.allPositionsEqual=function(e,i){return this.elt[e].allPositionsEqual(i)},ni.prototype.toLine=function(e){this.elt[e].isArea()&&(this.elt[e]=new fi(this.elt[e].location[0]))},ni.prototype.interfaces_=function(){return[]},ni.prototype.getClass=function(){return ni},ni.toLineLabel=function(e){for(var i=new ni(At.NONE),s=0;s<2;s++)i.setLocation(s,e.getLocation(s));return i};var zi=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new ce,this._pts=new ce,this._label=new ni(At.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new ce,this._geometryFactory=null;var e=arguments[0],i=arguments[1];this._geometryFactory=i,this.computePoints(e),this.computeRing()};zi.prototype.computeRing=function(){if(this._ring!==null)return null;for(var e=new Array(this._pts.size()).fill(null),i=0;i<this._pts.size();i++)e[i]=this._pts.get(i);this._ring=this._geometryFactory.createLinearRing(e),this._isHole=ge.isCCW(this._ring.getCoordinates())},zi.prototype.isIsolated=function(){return this._label.getGeometryCount()===1},zi.prototype.computePoints=function(e){var i=this;this._startDe=e;var s=e,a=!0;do{if(s===null)throw new Za("Found null DirectedEdge");if(s.getEdgeRing()===i)throw new Za("Directed Edge visited twice during ring-building at "+s.getCoordinate());i._edges.add(s);var c=s.getLabel();rr.isTrue(c.isArea()),i.mergeLabel(c),i.addPoints(s.getEdge(),s.isForward(),a),a=!1,i.setEdgeRing(s,i),s=i.getNext(s)}while(s!==this._startDe)},zi.prototype.getLinearRing=function(){return this._ring},zi.prototype.getCoordinate=function(e){return this._pts.get(e)},zi.prototype.computeMaxNodeDegree=function(){var e=this;this._maxNodeDegree=0;var i=this._startDe;do{var s=i.getNode().getEdges().getOutgoingDegree(e);s>e._maxNodeDegree&&(e._maxNodeDegree=s),i=e.getNext(i)}while(i!==this._startDe);this._maxNodeDegree*=2},zi.prototype.addPoints=function(e,i,s){var a=e.getCoordinates();if(i){var c=1;s&&(c=0);for(var h=c;h<a.length;h++)this._pts.add(a[h])}else{var g=a.length-2;s&&(g=a.length-1);for(var y=g;y>=0;y--)this._pts.add(a[y])}},zi.prototype.isHole=function(){return this._isHole},zi.prototype.setInResult=function(){var e=this._startDe;do e.getEdge().setInResult(!0),e=e.getNext();while(e!==this._startDe)},zi.prototype.containsPoint=function(e){var i=this.getLinearRing();if(!i.getEnvelopeInternal().contains(e)||!ge.isPointInRing(e,i.getCoordinates()))return!1;for(var s=this._holes.iterator();s.hasNext();)if(s.next().containsPoint(e))return!1;return!0},zi.prototype.addHole=function(e){this._holes.add(e)},zi.prototype.isShell=function(){return this._shell===null},zi.prototype.getLabel=function(){return this._label},zi.prototype.getEdges=function(){return this._edges},zi.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},zi.prototype.getShell=function(){return this._shell},zi.prototype.mergeLabel=function(){if(arguments.length===1){var e=arguments[0];this.mergeLabel(e,0),this.mergeLabel(e,1)}else if(arguments.length===2){var i=arguments[0],s=arguments[1],a=i.getLocation(s,ie.RIGHT);if(a===At.NONE)return null;if(this._label.getLocation(s)===At.NONE)return this._label.setLocation(s,a),null}},zi.prototype.setShell=function(e){this._shell=e,e!==null&&e.addHole(this)},zi.prototype.toPolygon=function(e){for(var i=new Array(this._holes.size()).fill(null),s=0;s<this._holes.size();s++)i[s]=this._holes.get(s).getLinearRing();return e.createPolygon(this.getLinearRing(),i)},zi.prototype.interfaces_=function(){return[]},zi.prototype.getClass=function(){return zi};var CI=function(e){function i(){var s=arguments[0],a=arguments[1];e.call(this,s,a)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.setEdgeRing=function(s,a){s.setMinEdgeRing(a)},i.prototype.getNext=function(s){return s.getNextMin()},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(zi),PI=function(e){function i(){var s=arguments[0],a=arguments[1];e.call(this,s,a)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.buildMinimalRings=function(){var s=new ce,a=this._startDe;do{if(a.getMinEdgeRing()===null){var c=new CI(a,this._geometryFactory);s.add(c)}a=a.getNext()}while(a!==this._startDe);return s},i.prototype.setEdgeRing=function(s,a){s.setEdgeRing(a)},i.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var s=this._startDe;do s.getNode().getEdges().linkMinimalDirectedEdges(this),s=s.getNext();while(s!==this._startDe)},i.prototype.getNext=function(s){return s.getNext()},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(zi),yo=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var e=arguments[0];this._label=e}}};yo.prototype.setVisited=function(e){this._isVisited=e},yo.prototype.setInResult=function(e){this._isInResult=e},yo.prototype.isCovered=function(){return this._isCovered},yo.prototype.isCoveredSet=function(){return this._isCoveredSet},yo.prototype.setLabel=function(e){this._label=e},yo.prototype.getLabel=function(){return this._label},yo.prototype.setCovered=function(e){this._isCovered=e,this._isCoveredSet=!0},yo.prototype.updateIM=function(e){rr.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(e)},yo.prototype.isInResult=function(){return this._isInResult},yo.prototype.isVisited=function(){return this._isVisited},yo.prototype.interfaces_=function(){return[]},yo.prototype.getClass=function(){return yo};var av=function(e){function i(){e.call(this),this._coord=null,this._edges=null;var s=arguments[0],a=arguments[1];this._coord=s,this._edges=a,this._label=new ni(0,At.NONE)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.isIncidentEdgeInResult=function(){for(var s=this.getEdges().getEdges().iterator();s.hasNext();)if(s.next().getEdge().isInResult())return!0;return!1},i.prototype.isIsolated=function(){return this._label.getGeometryCount()===1},i.prototype.getCoordinate=function(){return this._coord},i.prototype.print=function(s){s.println("node "+this._coord+" lbl: "+this._label)},i.prototype.computeIM=function(s){},i.prototype.computeMergedLocation=function(s,a){var c=At.NONE;if(c=this._label.getLocation(a),!s.isNull(a)){var h=s.getLocation(a);c!==At.BOUNDARY&&(c=h)}return c},i.prototype.setLabel=function(){if(arguments.length!==2)return e.prototype.setLabel.apply(this,arguments);var s=arguments[0],a=arguments[1];this._label===null?this._label=new ni(s,a):this._label.setLocation(s,a)},i.prototype.getEdges=function(){return this._edges},i.prototype.mergeLabel=function(){var s=this;if(arguments[0]instanceof i){var a=arguments[0];this.mergeLabel(a._label)}else if(arguments[0]instanceof ni)for(var c=arguments[0],h=0;h<2;h++){var g=s.computeMergedLocation(c,h),y=s._label.getLocation(h);y===At.NONE&&s._label.setLocation(h,g)}},i.prototype.add=function(s){this._edges.insert(s),s.setNode(this)},i.prototype.setLabelBoundary=function(s){if(this._label===null)return null;var a=At.NONE;this._label!==null&&(a=this._label.getLocation(s));var c=null;switch(a){case At.BOUNDARY:c=At.INTERIOR;break;case At.INTERIOR:default:c=At.BOUNDARY}this._label.setLocation(s,c)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(yo),Os=function(){this.nodeMap=new xn,this.nodeFact=null;var e=arguments[0];this.nodeFact=e};Os.prototype.find=function(e){return this.nodeMap.get(e)},Os.prototype.addNode=function(){if(arguments[0]instanceof Ct){var e=arguments[0],i=this.nodeMap.get(e);return i===null&&(i=this.nodeFact.createNode(e),this.nodeMap.put(e,i)),i}if(arguments[0]instanceof av){var s=arguments[0],a=this.nodeMap.get(s.getCoordinate());return a===null?(this.nodeMap.put(s.getCoordinate(),s),s):(a.mergeLabel(s),a)}},Os.prototype.print=function(e){for(var i=this.iterator();i.hasNext();)i.next().print(e)},Os.prototype.iterator=function(){return this.nodeMap.values().iterator()},Os.prototype.values=function(){return this.nodeMap.values()},Os.prototype.getBoundaryNodes=function(e){for(var i=new ce,s=this.iterator();s.hasNext();){var a=s.next();a.getLabel().getLocation(e)===At.BOUNDARY&&i.add(a)}return i},Os.prototype.add=function(e){var i=e.getCoordinate();this.addNode(i).add(e)},Os.prototype.interfaces_=function(){return[]},Os.prototype.getClass=function(){return Os};var oi=function(){},_f={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};oi.prototype.interfaces_=function(){return[]},oi.prototype.getClass=function(){return oi},oi.isNorthern=function(e){return e===oi.NE||e===oi.NW},oi.isOpposite=function(e,i){return e!==i&&(e-i+4)%4===2},oi.commonHalfPlane=function(e,i){if(e===i)return e;if((e-i+4)%4===2)return-1;var s=e<i?e:i;return s===0&&(e>i?e:i)===3?3:s},oi.isInHalfPlane=function(e,i){return i===oi.SE?e===oi.SE||e===oi.SW:e===i||e===i+1},oi.quadrant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],i=arguments[1];if(e===0&&i===0)throw new ki("Cannot compute the quadrant for point ( "+e+", "+i+" )");return e>=0?i>=0?oi.NE:oi.SE:i>=0?oi.NW:oi.SW}if(arguments[0]instanceof Ct&&arguments[1]instanceof Ct){var s=arguments[0],a=arguments[1];if(a.x===s.x&&a.y===s.y)throw new ki("Cannot compute the quadrant for two identical points "+s);return a.x>=s.x?a.y>=s.y?oi.NE:oi.SE:a.y>=s.y?oi.NW:oi.SW}},_f.NE.get=function(){return 0},_f.NW.get=function(){return 1},_f.SW.get=function(){return 2},_f.SE.get=function(){return 3},Object.defineProperties(oi,_f);var _n=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var e=arguments[0];this._edge=e}else if(arguments.length===3){var i=arguments[0],s=arguments[1],a=arguments[2],c=null;this._edge=i,this.init(s,a),this._label=c}else if(arguments.length===4){var h=arguments[0],g=arguments[1],y=arguments[2],w=arguments[3];this._edge=h,this.init(g,y),this._label=w}};_n.prototype.compareDirection=function(e){return this._dx===e._dx&&this._dy===e._dy?0:this._quadrant>e._quadrant?1:this._quadrant<e._quadrant?-1:ge.computeOrientation(e._p0,e._p1,this._p1)},_n.prototype.getDy=function(){return this._dy},_n.prototype.getCoordinate=function(){return this._p0},_n.prototype.setNode=function(e){this._node=e},_n.prototype.print=function(e){var i=Math.atan2(this._dy,this._dx),s=this.getClass().getName(),a=s.lastIndexOf("."),c=s.substring(a+1);e.print("  "+c+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+i+"   "+this._label)},_n.prototype.compareTo=function(e){var i=e;return this.compareDirection(i)},_n.prototype.getDirectedCoordinate=function(){return this._p1},_n.prototype.getDx=function(){return this._dx},_n.prototype.getLabel=function(){return this._label},_n.prototype.getEdge=function(){return this._edge},_n.prototype.getQuadrant=function(){return this._quadrant},_n.prototype.getNode=function(){return this._node},_n.prototype.toString=function(){var e=Math.atan2(this._dy,this._dx),i=this.getClass().getName(),s=i.lastIndexOf(".");return"  "+i.substring(s+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label},_n.prototype.computeLabel=function(e){},_n.prototype.init=function(e,i){this._p0=e,this._p1=i,this._dx=i.x-e.x,this._dy=i.y-e.y,this._quadrant=oi.quadrant(this._dx,this._dy),rr.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")},_n.prototype.interfaces_=function(){return[Ro]},_n.prototype.getClass=function(){return _n};var Fb=function(e){function i(){var s=arguments[0],a=arguments[1];if(e.call(this,s),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=a,a)this.init(s.getCoordinate(0),s.getCoordinate(1));else{var c=s.getNumPoints()-1;this.init(s.getCoordinate(c),s.getCoordinate(c-1))}this.computeDirectedLabel()}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getNextMin=function(){return this._nextMin},i.prototype.getDepth=function(s){return this._depth[s]},i.prototype.setVisited=function(s){this._isVisited=s},i.prototype.computeDirectedLabel=function(){this._label=new ni(this._edge.getLabel()),this._isForward||this._label.flip()},i.prototype.getNext=function(){return this._next},i.prototype.setDepth=function(s,a){if(this._depth[s]!==-999&&this._depth[s]!==a)throw new Za("assigned depths do not match",this.getCoordinate());this._depth[s]=a},i.prototype.isInteriorAreaEdge=function(){for(var s=this,a=!0,c=0;c<2;c++)s._label.isArea(c)&&s._label.getLocation(c,ie.LEFT)===At.INTERIOR&&s._label.getLocation(c,ie.RIGHT)===At.INTERIOR||(a=!1);return a},i.prototype.setNextMin=function(s){this._nextMin=s},i.prototype.print=function(s){e.prototype.print.call(this,s),s.print(" "+this._depth[ie.LEFT]+"/"+this._depth[ie.RIGHT]),s.print(" ("+this.getDepthDelta()+")"),this._isInResult&&s.print(" inResult")},i.prototype.setMinEdgeRing=function(s){this._minEdgeRing=s},i.prototype.isLineEdge=function(){var s=this._label.isLine(0)||this._label.isLine(1),a=!this._label.isArea(0)||this._label.allPositionsEqual(0,At.EXTERIOR),c=!this._label.isArea(1)||this._label.allPositionsEqual(1,At.EXTERIOR);return s&&a&&c},i.prototype.setEdgeRing=function(s){this._edgeRing=s},i.prototype.getMinEdgeRing=function(){return this._minEdgeRing},i.prototype.getDepthDelta=function(){var s=this._edge.getDepthDelta();return this._isForward||(s=-s),s},i.prototype.setInResult=function(s){this._isInResult=s},i.prototype.getSym=function(){return this._sym},i.prototype.isForward=function(){return this._isForward},i.prototype.getEdge=function(){return this._edge},i.prototype.printEdge=function(s){this.print(s),s.print(" "),this._isForward?this._edge.print(s):this._edge.printReverse(s)},i.prototype.setSym=function(s){this._sym=s},i.prototype.setVisitedEdge=function(s){this.setVisited(s),this._sym.setVisited(s)},i.prototype.setEdgeDepths=function(s,a){var c=this.getEdge().getDepthDelta();this._isForward||(c=-c);var h=1;s===ie.LEFT&&(h=-1);var g=ie.opposite(s),y=a+c*h;this.setDepth(s,a),this.setDepth(g,y)},i.prototype.getEdgeRing=function(){return this._edgeRing},i.prototype.isInResult=function(){return this._isInResult},i.prototype.setNext=function(s){this._next=s},i.prototype.isVisited=function(){return this._isVisited},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i.depthFactor=function(s,a){return s===At.EXTERIOR&&a===At.INTERIOR?1:s===At.INTERIOR&&a===At.EXTERIOR?-1:0},i}(_n),vd=function(){};vd.prototype.createNode=function(e){return new av(e,null)},vd.prototype.interfaces_=function(){return[]},vd.prototype.getClass=function(){return vd};var Si=function(){if(this._edges=new ce,this._nodes=null,this._edgeEndList=new ce,arguments.length===0)this._nodes=new Os(new vd);else if(arguments.length===1){var e=arguments[0];this._nodes=new Os(e)}};Si.prototype.printEdges=function(e){e.println("Edges:");for(var i=0;i<this._edges.size();i++){e.println("edge "+i+":");var s=this._edges.get(i);s.print(e),s.eiList.print(e)}},Si.prototype.find=function(e){return this._nodes.find(e)},Si.prototype.addNode=function(){if(arguments[0]instanceof av){var e=arguments[0];return this._nodes.addNode(e)}if(arguments[0]instanceof Ct){var i=arguments[0];return this._nodes.addNode(i)}},Si.prototype.getNodeIterator=function(){return this._nodes.iterator()},Si.prototype.linkResultDirectedEdges=function(){for(var e=this._nodes.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()},Si.prototype.debugPrintln=function(e){hn.out.println(e)},Si.prototype.isBoundaryNode=function(e,i){var s=this._nodes.find(i);if(s===null)return!1;var a=s.getLabel();return a!==null&&a.getLocation(e)===At.BOUNDARY},Si.prototype.linkAllDirectedEdges=function(){for(var e=this._nodes.iterator();e.hasNext();)e.next().getEdges().linkAllDirectedEdges()},Si.prototype.matchInSameDirection=function(e,i,s,a){return!!e.equals(s)&&ge.computeOrientation(e,i,a)===ge.COLLINEAR&&oi.quadrant(e,i)===oi.quadrant(s,a)},Si.prototype.getEdgeEnds=function(){return this._edgeEndList},Si.prototype.debugPrint=function(e){hn.out.print(e)},Si.prototype.getEdgeIterator=function(){return this._edges.iterator()},Si.prototype.findEdgeInSameDirection=function(e,i){for(var s=this,a=0;a<this._edges.size();a++){var c=s._edges.get(a),h=c.getCoordinates();if(s.matchInSameDirection(e,i,h[0],h[1])||s.matchInSameDirection(e,i,h[h.length-1],h[h.length-2]))return c}return null},Si.prototype.insertEdge=function(e){this._edges.add(e)},Si.prototype.findEdgeEnd=function(e){for(var i=this.getEdgeEnds().iterator();i.hasNext();){var s=i.next();if(s.getEdge()===e)return s}return null},Si.prototype.addEdges=function(e){for(var i=this,s=e.iterator();s.hasNext();){var a=s.next();i._edges.add(a);var c=new Fb(a,!0),h=new Fb(a,!1);c.setSym(h),h.setSym(c),i.add(c),i.add(h)}},Si.prototype.add=function(e){this._nodes.add(e),this._edgeEndList.add(e)},Si.prototype.getNodes=function(){return this._nodes.values()},Si.prototype.findEdge=function(e,i){for(var s=0;s<this._edges.size();s++){var a=this._edges.get(s),c=a.getCoordinates();if(e.equals(c[0])&&i.equals(c[1]))return a}return null},Si.prototype.interfaces_=function(){return[]},Si.prototype.getClass=function(){return Si},Si.linkResultDirectedEdges=function(e){for(var i=e.iterator();i.hasNext();)i.next().getEdges().linkResultDirectedEdges()};var ro=function(){this._geometryFactory=null,this._shellList=new ce;var e=arguments[0];this._geometryFactory=e};ro.prototype.sortShellsAndHoles=function(e,i,s){for(var a=e.iterator();a.hasNext();){var c=a.next();c.isHole()?s.add(c):i.add(c)}},ro.prototype.computePolygons=function(e){for(var i=new ce,s=e.iterator();s.hasNext();){var a=s.next().toPolygon(this._geometryFactory);i.add(a)}return i},ro.prototype.placeFreeHoles=function(e,i){for(var s=i.iterator();s.hasNext();){var a=s.next();if(a.getShell()===null){var c=this.findEdgeRingContaining(a,e);if(c===null)throw new Za("unable to assign hole to a shell",a.getCoordinate(0));a.setShell(c)}}},ro.prototype.buildMinimalEdgeRings=function(e,i,s){for(var a=new ce,c=e.iterator();c.hasNext();){var h=c.next();if(h.getMaxNodeDegree()>2){h.linkDirectedEdgesForMinimalEdgeRings();var g=h.buildMinimalRings(),y=this.findShell(g);y!==null?(this.placePolygonHoles(y,g),i.add(y)):s.addAll(g)}else a.add(h)}return a},ro.prototype.containsPoint=function(e){for(var i=this._shellList.iterator();i.hasNext();)if(i.next().containsPoint(e))return!0;return!1},ro.prototype.buildMaximalEdgeRings=function(e){for(var i=new ce,s=e.iterator();s.hasNext();){var a=s.next();if(a.isInResult()&&a.getLabel().isArea()&&a.getEdgeRing()===null){var c=new PI(a,this._geometryFactory);i.add(c),c.setInResult()}}return i},ro.prototype.placePolygonHoles=function(e,i){for(var s=i.iterator();s.hasNext();){var a=s.next();a.isHole()&&a.setShell(e)}},ro.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},ro.prototype.findEdgeRingContaining=function(e,i){for(var s=e.getLinearRing(),a=s.getEnvelopeInternal(),c=s.getCoordinateN(0),h=null,g=null,y=i.iterator();y.hasNext();){var w=y.next(),x=w.getLinearRing(),T=x.getEnvelopeInternal();h!==null&&(g=h.getLinearRing().getEnvelopeInternal());var E=!1;T.contains(a)&&ge.isPointInRing(c,x.getCoordinates())&&(E=!0),E&&(h===null||g.contains(T))&&(h=w)}return h},ro.prototype.findShell=function(e){for(var i=0,s=null,a=e.iterator();a.hasNext();){var c=a.next();c.isHole()||(s=c,i++)}return rr.isTrue(i<=1,"found two shells in MinimalEdgeRing list"),s},ro.prototype.add=function(){if(arguments.length===1){var e=arguments[0];this.add(e.getEdgeEnds(),e.getNodes())}else if(arguments.length===2){var i=arguments[0],s=arguments[1];Si.linkResultDirectedEdges(s);var a=this.buildMaximalEdgeRings(i),c=new ce,h=this.buildMinimalEdgeRings(a,this._shellList,c);this.sortShellsAndHoles(h,this._shellList,c),this.placeFreeHoles(this._shellList,c)}},ro.prototype.interfaces_=function(){return[]},ro.prototype.getClass=function(){return ro};var yd=function(){};yd.prototype.getBounds=function(){},yd.prototype.interfaces_=function(){return[]},yd.prototype.getClass=function(){return yd};var ss=function(){this._bounds=null,this._item=null;var e=arguments[0],i=arguments[1];this._bounds=e,this._item=i};ss.prototype.getItem=function(){return this._item},ss.prototype.getBounds=function(){return this._bounds},ss.prototype.interfaces_=function(){return[yd,Ao]},ss.prototype.getClass=function(){return ss};var Ya=function(){this._size=null,this._items=null,this._size=0,this._items=new ce,this._items.add(null)};Ya.prototype.poll=function(){if(this.isEmpty())return null;var e=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),e},Ya.prototype.size=function(){return this._size},Ya.prototype.reorder=function(e){for(var i=this,s=null,a=this._items.get(e);2*e<=this._size&&((s=2*e)!==i._size&&i._items.get(s+1).compareTo(i._items.get(s))<0&&s++,i._items.get(s).compareTo(a)<0);e=s)i._items.set(e,i._items.get(s));this._items.set(e,a)},Ya.prototype.clear=function(){this._size=0,this._items.clear()},Ya.prototype.isEmpty=function(){return this._size===0},Ya.prototype.add=function(e){this._items.add(null),this._size+=1;var i=this._size;for(this._items.set(0,e);e.compareTo(this._items.get(Math.trunc(i/2)))<0;i/=2)this._items.set(i,this._items.get(Math.trunc(i/2)));this._items.set(i,e)},Ya.prototype.interfaces_=function(){return[]},Ya.prototype.getClass=function(){return Ya};var zl=function(){};zl.prototype.visitItem=function(e){},zl.prototype.interfaces_=function(){return[]},zl.prototype.getClass=function(){return zl};var Uu=function(){};Uu.prototype.insert=function(e,i){},Uu.prototype.remove=function(e,i){},Uu.prototype.query=function(){},Uu.prototype.interfaces_=function(){return[]},Uu.prototype.getClass=function(){return Uu};var qi=function(){if(this._childBoundables=new ce,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var e=arguments[0];this._level=e}}},vk={serialVersionUID:{configurable:!0}};qi.prototype.getLevel=function(){return this._level},qi.prototype.size=function(){return this._childBoundables.size()},qi.prototype.getChildBoundables=function(){return this._childBoundables},qi.prototype.addChildBoundable=function(e){rr.isTrue(this._bounds===null),this._childBoundables.add(e)},qi.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},qi.prototype.getBounds=function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds},qi.prototype.interfaces_=function(){return[yd,Ao]},qi.prototype.getClass=function(){return qi},vk.serialVersionUID.get=function(){return 6493722185909574e3},Object.defineProperties(qi,vk);var as=function(){};as.reverseOrder=function(){return{compare:function(e,i){return i.compareTo(e)}}},as.min=function(e){return as.sort(e),e.get(0)},as.sort=function(e,i){var s=e.toArray();i?Lc.sort(s,i):Lc.sort(s);for(var a=e.iterator(),c=0,h=s.length;c<h;c++)a.next(),a.set(s[c])},as.singletonList=function(e){var i=new ce;return i.add(e),i};var Ni=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var e=arguments[0],i=arguments[1],s=arguments[2];this._boundable1=e,this._boundable2=i,this._itemDistance=s,this._distance=this.distance()};Ni.prototype.expandToQueue=function(e,i){var s=Ni.isComposite(this._boundable1),a=Ni.isComposite(this._boundable2);if(s&&a)return Ni.area(this._boundable1)>Ni.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,e,i),null):(this.expand(this._boundable2,this._boundable1,e,i),null);if(s)return this.expand(this._boundable1,this._boundable2,e,i),null;if(a)return this.expand(this._boundable2,this._boundable1,e,i),null;throw new ki("neither boundable is composite")},Ni.prototype.isLeaves=function(){return!(Ni.isComposite(this._boundable1)||Ni.isComposite(this._boundable2))},Ni.prototype.compareTo=function(e){var i=e;return this._distance<i._distance?-1:this._distance>i._distance?1:0},Ni.prototype.expand=function(e,i,s,a){for(var c=e.getChildBoundables().iterator();c.hasNext();){var h=c.next(),g=new Ni(h,i,this._itemDistance);g.getDistance()<a&&s.add(g)}},Ni.prototype.getBoundable=function(e){return e===0?this._boundable1:this._boundable2},Ni.prototype.getDistance=function(){return this._distance},Ni.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},Ni.prototype.interfaces_=function(){return[Ro]},Ni.prototype.getClass=function(){return Ni},Ni.area=function(e){return e.getBounds().getArea()},Ni.isComposite=function(e){return e instanceof qi};var tn=function e(){if(this._root=null,this._built=!1,this._itemBoundables=new ce,this._nodeCapacity=null,arguments.length===0){var i=e.DEFAULT_NODE_CAPACITY;this._nodeCapacity=i}else if(arguments.length===1){var s=arguments[0];rr.isTrue(s>1,"Node capacity must be greater than 1"),this._nodeCapacity=s}},lv={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};tn.prototype.getNodeCapacity=function(){return this._nodeCapacity},tn.prototype.lastNode=function(e){return e.get(e.size()-1)},tn.prototype.size=function(){var e=this;if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var i=arguments[0],s=0,a=i.getChildBoundables().iterator();a.hasNext();){var c=a.next();c instanceof qi?s+=e.size(c):c instanceof ss&&(s+=1)}return s}},tn.prototype.removeItem=function(e,i){for(var s=null,a=e.getChildBoundables().iterator();a.hasNext();){var c=a.next();c instanceof ss&&c.getItem()===i&&(s=c)}return s!==null&&(e.getChildBoundables().remove(s),!0)},tn.prototype.itemsTree=function(){var e=this;if(arguments.length===0){this.build();var i=this.itemsTree(this._root);return i===null?new ce:i}if(arguments.length===1){for(var s=arguments[0],a=new ce,c=s.getChildBoundables().iterator();c.hasNext();){var h=c.next();if(h instanceof qi){var g=e.itemsTree(h);g!==null&&a.add(g)}else h instanceof ss?a.add(h.getItem()):rr.shouldNeverReachHere()}return a.size()<=0?null:a}},tn.prototype.insert=function(e,i){rr.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new ss(e,i))},tn.prototype.boundablesAtLevel=function(){var e=this;if(arguments.length===1){var i=arguments[0],s=new ce;return this.boundablesAtLevel(i,this._root,s),s}if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2];if(rr.isTrue(a>-2),c.getLevel()===a)return h.add(c),null;for(var g=c.getChildBoundables().iterator();g.hasNext();){var y=g.next();y instanceof qi?e.boundablesAtLevel(a,y,h):(rr.isTrue(y instanceof ss),a===-1&&h.add(y))}return null}},tn.prototype.query=function(){var e=this;if(arguments.length===1){var i=arguments[0];this.build();var s=new ce;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),i)&&this.query(i,this._root,s),s}if(arguments.length===2){var a=arguments[0],c=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),a)&&this.query(a,this._root,c)}else if(arguments.length===3){if(qe(arguments[2],zl)&&arguments[0]instanceof Object&&arguments[1]instanceof qi)for(var h=arguments[0],g=arguments[1],y=arguments[2],w=g.getChildBoundables(),x=0;x<w.size();x++){var T=w.get(x);e.getIntersectsOp().intersects(T.getBounds(),h)&&(T instanceof qi?e.query(h,T,y):T instanceof ss?y.visitItem(T.getItem()):rr.shouldNeverReachHere())}else if(qe(arguments[2],is)&&arguments[0]instanceof Object&&arguments[1]instanceof qi)for(var E=arguments[0],P=arguments[1],z=arguments[2],N=P.getChildBoundables(),B=0;B<N.size();B++){var I=N.get(B);e.getIntersectsOp().intersects(I.getBounds(),E)&&(I instanceof qi?e.query(E,I,z):I instanceof ss?z.add(I.getItem()):rr.shouldNeverReachHere())}}},tn.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},tn.prototype.getRoot=function(){return this.build(),this._root},tn.prototype.remove=function(){var e=this;if(arguments.length===2){var i=arguments[0],s=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),i)&&this.remove(i,this._root,s)}if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2],g=this.removeItem(c,h);if(g)return!0;for(var y=null,w=c.getChildBoundables().iterator();w.hasNext();){var x=w.next();if(e.getIntersectsOp().intersects(x.getBounds(),a)&&x instanceof qi&&(g=e.remove(a,x,h))){y=x;break}}return y!==null&&y.getChildBoundables().isEmpty()&&c.getChildBoundables().remove(y),g}},tn.prototype.createHigherLevels=function(e,i){rr.isTrue(!e.isEmpty());var s=this.createParentBoundables(e,i+1);return s.size()===1?s.get(0):this.createHigherLevels(s,i+1)},tn.prototype.depth=function(){var e=this;if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var i=arguments[0],s=0,a=i.getChildBoundables().iterator();a.hasNext();){var c=a.next();if(c instanceof qi){var h=e.depth(c);h>s&&(s=h)}}return s+1}},tn.prototype.createParentBoundables=function(e,i){var s=this;rr.isTrue(!e.isEmpty());var a=new ce;a.add(this.createNode(i));var c=new ce(e);as.sort(c,this.getComparator());for(var h=c.iterator();h.hasNext();){var g=h.next();s.lastNode(a).getChildBoundables().size()===s.getNodeCapacity()&&a.add(s.createNode(i)),s.lastNode(a).addChildBoundable(g)}return a},tn.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},tn.prototype.interfaces_=function(){return[Ao]},tn.prototype.getClass=function(){return tn},tn.compareDoubles=function(e,i){return e>i?1:e<i?-1:0},lv.IntersectsOp.get=function(){return MI},lv.serialVersionUID.get=function(){return-3886435814360241e3},lv.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(tn,lv);var MI=function(){},bd=function(){};bd.prototype.distance=function(e,i){},bd.prototype.interfaces_=function(){return[]},bd.prototype.getClass=function(){return bd};var yk=function(e){function i(a){a=a||i.DEFAULT_NODE_CAPACITY,e.call(this,a)}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return i.prototype.createParentBoundablesFromVerticalSlices=function(a,c){rr.isTrue(a.length>0);for(var h=new ce,g=0;g<a.length;g++)h.addAll(this.createParentBoundablesFromVerticalSlice(a[g],c));return h},i.prototype.createNode=function(a){return new bk(a)},i.prototype.size=function(){return arguments.length===0?e.prototype.size.call(this):e.prototype.size.apply(this,arguments)},i.prototype.insert=function(){if(arguments.length!==2)return e.prototype.insert.apply(this,arguments);var a=arguments[0],c=arguments[1];if(a.isNull())return null;e.prototype.insert.call(this,a,c)},i.prototype.getIntersectsOp=function(){return i.intersectsOp},i.prototype.verticalSlices=function(a,c){for(var h=Math.trunc(Math.ceil(a.size()/c)),g=new Array(c).fill(null),y=a.iterator(),w=0;w<c;w++){g[w]=new ce;for(var x=0;y.hasNext()&&x<h;){var T=y.next();g[w].add(T),x++}}return g},i.prototype.query=function(){if(arguments.length===1){var a=arguments[0];return e.prototype.query.call(this,a)}if(arguments.length===2){var c=arguments[0],h=arguments[1];e.prototype.query.call(this,c,h)}else if(arguments.length===3){if(qe(arguments[2],zl)&&arguments[0]instanceof Object&&arguments[1]instanceof qi){var g=arguments[0],y=arguments[1],w=arguments[2];e.prototype.query.call(this,g,y,w)}else if(qe(arguments[2],is)&&arguments[0]instanceof Object&&arguments[1]instanceof qi){var x=arguments[0],T=arguments[1],E=arguments[2];e.prototype.query.call(this,x,T,E)}}},i.prototype.getComparator=function(){return i.yComparator},i.prototype.createParentBoundablesFromVerticalSlice=function(a,c){return e.prototype.createParentBoundables.call(this,a,c)},i.prototype.remove=function(){if(arguments.length===2){var a=arguments[0],c=arguments[1];return e.prototype.remove.call(this,a,c)}return e.prototype.remove.apply(this,arguments)},i.prototype.depth=function(){return arguments.length===0?e.prototype.depth.call(this):e.prototype.depth.apply(this,arguments)},i.prototype.createParentBoundables=function(a,c){rr.isTrue(!a.isEmpty());var h=Math.trunc(Math.ceil(a.size()/this.getNodeCapacity())),g=new ce(a);as.sort(g,i.xComparator);var y=this.verticalSlices(g,Math.trunc(Math.ceil(Math.sqrt(h))));return this.createParentBoundablesFromVerticalSlices(y,c)},i.prototype.nearestNeighbour=function(){if(arguments.length===1){if(qe(arguments[0],bd)){var a=arguments[0],c=new Ni(this.getRoot(),this.getRoot(),a);return this.nearestNeighbour(c)}if(arguments[0]instanceof Ni){var h=arguments[0];return this.nearestNeighbour(h,Qe.POSITIVE_INFINITY)}}else if(arguments.length===2){if(arguments[0]instanceof i&&qe(arguments[1],bd)){var g=arguments[0],y=arguments[1],w=new Ni(this.getRoot(),g.getRoot(),y);return this.nearestNeighbour(w)}if(arguments[0]instanceof Ni&&typeof arguments[1]=="number"){var x=arguments[0],T=arguments[1],E=T,P=null,z=new Ya;for(z.add(x);!z.isEmpty()&&E>0;){var N=z.poll(),B=N.getDistance();if(B>=E)break;N.isLeaves()?(E=B,P=N):N.expandToQueue(z,E)}return[P.getBoundable(0).getItem(),P.getBoundable(1).getItem()]}}else if(arguments.length===3){var I=arguments[0],W=arguments[1],it=arguments[2],D=new ss(I,W),q=new Ni(this.getRoot(),D,it);return this.nearestNeighbour(q)[0]}},i.prototype.interfaces_=function(){return[Uu,Ao]},i.prototype.getClass=function(){return i},i.centreX=function(a){return i.avg(a.getMinX(),a.getMaxX())},i.avg=function(a,c){return(a+c)/2},i.centreY=function(a){return i.avg(a.getMinY(),a.getMaxY())},s.STRtreeNode.get=function(){return bk},s.serialVersionUID.get=function(){return 0x39920f7d5f261e0},s.xComparator.get=function(){return{interfaces_:function(){return[od]},compare:function(a,c){return e.compareDoubles(i.centreX(a.getBounds()),i.centreX(c.getBounds()))}}},s.yComparator.get=function(){return{interfaces_:function(){return[od]},compare:function(a,c){return e.compareDoubles(i.centreY(a.getBounds()),i.centreY(c.getBounds()))}}},s.intersectsOp.get=function(){return{interfaces_:function(){return[e.IntersectsOp]},intersects:function(a,c){return a.intersects(c)}}},s.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(i,s),i}(tn),bk=function(e){function i(){var s=arguments[0];e.call(this,s)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.computeBounds=function(){for(var s=null,a=this.getChildBoundables().iterator();a.hasNext();){var c=a.next();s===null?s=new Ae(c.getBounds()):s.expandToInclude(c.getBounds())}return s},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(qi),Zn=function(){};Zn.prototype.interfaces_=function(){return[]},Zn.prototype.getClass=function(){return Zn},Zn.relativeSign=function(e,i){return e<i?-1:e>i?1:0},Zn.compare=function(e,i,s){if(i.equals2D(s))return 0;var a=Zn.relativeSign(i.x,s.x),c=Zn.relativeSign(i.y,s.y);switch(e){case 0:return Zn.compareValue(a,c);case 1:return Zn.compareValue(c,a);case 2:return Zn.compareValue(c,-a);case 3:return Zn.compareValue(-a,c);case 4:return Zn.compareValue(-a,-c);case 5:return Zn.compareValue(-c,-a);case 6:return Zn.compareValue(-c,a);case 7:return Zn.compareValue(a,-c)}return rr.shouldNeverReachHere("invalid octant value"),0},Zn.compareValue=function(e,i){return e<0?-1:e>0?1:i<0?-1:i>0?1:0};var Nl=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var e=arguments[0],i=arguments[1],s=arguments[2],a=arguments[3];this._segString=e,this.coord=new Ct(i),this.segmentIndex=s,this._segmentOctant=a,this._isInterior=!i.equals2D(e.getCoordinate(s))};Nl.prototype.getCoordinate=function(){return this.coord},Nl.prototype.print=function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex)},Nl.prototype.compareTo=function(e){var i=e;return this.segmentIndex<i.segmentIndex?-1:this.segmentIndex>i.segmentIndex?1:this.coord.equals2D(i.coord)?0:Zn.compare(this._segmentOctant,this.coord,i.coord)},Nl.prototype.isEndPoint=function(e){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===e},Nl.prototype.isInterior=function(){return this._isInterior},Nl.prototype.interfaces_=function(){return[Ro]},Nl.prototype.getClass=function(){return Nl};var On=function(){this._nodeMap=new xn,this._edge=null;var e=arguments[0];this._edge=e};On.prototype.getSplitCoordinates=function(){var e=new ff;this.addEndpoints();for(var i=this.iterator(),s=i.next();i.hasNext();){var a=i.next();this.addEdgeCoordinates(s,a,e),s=a}return e.toCoordinateArray()},On.prototype.addCollapsedNodes=function(){var e=new ce;this.findCollapsesFromInsertedNodes(e),this.findCollapsesFromExistingVertices(e);for(var i=e.iterator();i.hasNext();){var s=i.next().intValue();this.add(this._edge.getCoordinate(s),s)}},On.prototype.print=function(e){e.println("Intersections:");for(var i=this.iterator();i.hasNext();)i.next().print(e)},On.prototype.findCollapsesFromExistingVertices=function(e){for(var i=0;i<this._edge.size()-2;i++){var s=this._edge.getCoordinate(i),a=this._edge.getCoordinate(i+2);s.equals2D(a)&&e.add(new Ts(i+1))}},On.prototype.addEdgeCoordinates=function(e,i,s){var a=this._edge.getCoordinate(i.segmentIndex),c=i.isInterior()||!i.coord.equals2D(a);s.add(new Ct(e.coord),!1);for(var h=e.segmentIndex+1;h<=i.segmentIndex;h++)s.add(this._edge.getCoordinate(h));c&&s.add(new Ct(i.coord))},On.prototype.iterator=function(){return this._nodeMap.values().iterator()},On.prototype.addSplitEdges=function(e){this.addEndpoints(),this.addCollapsedNodes();for(var i=this.iterator(),s=i.next();i.hasNext();){var a=i.next(),c=this.createSplitEdge(s,a);e.add(c),s=a}},On.prototype.findCollapseIndex=function(e,i,s){if(!e.coord.equals2D(i.coord))return!1;var a=i.segmentIndex-e.segmentIndex;return i.isInterior()||a--,a===1&&(s[0]=e.segmentIndex+1,!0)},On.prototype.findCollapsesFromInsertedNodes=function(e){for(var i=new Array(1).fill(null),s=this.iterator(),a=s.next();s.hasNext();){var c=s.next();this.findCollapseIndex(a,c,i)&&e.add(new Ts(i[0])),a=c}},On.prototype.getEdge=function(){return this._edge},On.prototype.addEndpoints=function(){var e=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(e),e)},On.prototype.createSplitEdge=function(e,i){var s=i.segmentIndex-e.segmentIndex+2,a=this._edge.getCoordinate(i.segmentIndex),c=i.isInterior()||!i.coord.equals2D(a);c||s--;var h=new Array(s).fill(null),g=0;h[g++]=new Ct(e.coord);for(var y=e.segmentIndex+1;y<=i.segmentIndex;y++)h[g++]=this._edge.getCoordinate(y);return c&&(h[g]=new Ct(i.coord)),new Ai(h,this._edge.getData())},On.prototype.add=function(e,i){var s=new Nl(this._edge,e,i,this._edge.getSegmentOctant(i)),a=this._nodeMap.get(s);return a!==null?(rr.isTrue(a.coord.equals2D(e),"Found equal nodes with different coordinates"),a):(this._nodeMap.put(s,s),s)},On.prototype.checkSplitEdgesCorrectness=function(e){var i=this._edge.getCoordinates(),s=e.get(0).getCoordinate(0);if(!s.equals2D(i[0]))throw new Ua("bad split edge start point at "+s);var a=e.get(e.size()-1).getCoordinates(),c=a[a.length-1];if(!c.equals2D(i[i.length-1]))throw new Ua("bad split edge end point at "+c)},On.prototype.interfaces_=function(){return[]},On.prototype.getClass=function(){return On};var Gu=function(){};Gu.prototype.interfaces_=function(){return[]},Gu.prototype.getClass=function(){return Gu},Gu.octant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],i=arguments[1];if(e===0&&i===0)throw new ki("Cannot compute the octant for point ( "+e+", "+i+" )");var s=Math.abs(e),a=Math.abs(i);return e>=0?i>=0?s>=a?0:1:s>=a?7:6:i>=0?s>=a?3:2:s>=a?4:5}if(arguments[0]instanceof Ct&&arguments[1]instanceof Ct){var c=arguments[0],h=arguments[1],g=h.x-c.x,y=h.y-c.y;if(g===0&&y===0)throw new ki("Cannot compute the octant for two identical points "+c);return Gu.octant(g,y)}};var da=function(){};da.prototype.getCoordinates=function(){},da.prototype.size=function(){},da.prototype.getCoordinate=function(e){},da.prototype.isClosed=function(){},da.prototype.setData=function(e){},da.prototype.getData=function(){},da.prototype.interfaces_=function(){return[]},da.prototype.getClass=function(){return da};var kf=function(){};kf.prototype.addIntersection=function(e,i){},kf.prototype.interfaces_=function(){return[da]},kf.prototype.getClass=function(){return kf};var Ai=function(){this._nodeList=new On(this),this._pts=null,this._data=null;var e=arguments[0],i=arguments[1];this._pts=e,this._data=i};Ai.prototype.getCoordinates=function(){return this._pts},Ai.prototype.size=function(){return this._pts.length},Ai.prototype.getCoordinate=function(e){return this._pts[e]},Ai.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Ai.prototype.getSegmentOctant=function(e){return e===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(e),this.getCoordinate(e+1))},Ai.prototype.setData=function(e){this._data=e},Ai.prototype.safeOctant=function(e,i){return e.equals2D(i)?0:Gu.octant(e,i)},Ai.prototype.getData=function(){return this._data},Ai.prototype.addIntersection=function(){if(arguments.length===2){var e=arguments[0],i=arguments[1];this.addIntersectionNode(e,i)}else if(arguments.length===4){var s=arguments[0],a=arguments[1],c=arguments[3],h=new Ct(s.getIntersection(c));this.addIntersection(h,a)}},Ai.prototype.toString=function(){return rs.toLineString(new Ri(this._pts))},Ai.prototype.getNodeList=function(){return this._nodeList},Ai.prototype.addIntersectionNode=function(e,i){var s=i,a=s+1;if(a<this._pts.length){var c=this._pts[a];e.equals2D(c)&&(s=a)}return this._nodeList.add(e,s)},Ai.prototype.addIntersections=function(e,i,s){for(var a=0;a<e.getIntersectionNum();a++)this.addIntersection(e,i,s,a)},Ai.prototype.interfaces_=function(){return[kf]},Ai.prototype.getClass=function(){return Ai},Ai.getNodedSubstrings=function(){if(arguments.length===1){var e=arguments[0],i=new ce;return Ai.getNodedSubstrings(e,i),i}if(arguments.length===2)for(var s=arguments[0],a=arguments[1],c=s.iterator();c.hasNext();){var h=c.next();h.getNodeList().addSplitEdges(a)}};var ze=function(){if(this.p0=null,this.p1=null,arguments.length===0)this.p0=new Ct,this.p1=new Ct;else if(arguments.length===1){var e=arguments[0];this.p0=new Ct(e.p0),this.p1=new Ct(e.p1)}else if(arguments.length===2)this.p0=arguments[0],this.p1=arguments[1];else if(arguments.length===4){var i=arguments[0],s=arguments[1],a=arguments[2],c=arguments[3];this.p0=new Ct(i,s),this.p1=new Ct(a,c)}},wk={serialVersionUID:{configurable:!0}};ze.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},ze.prototype.orientationIndex=function(){if(arguments[0]instanceof ze){var e=arguments[0],i=ge.orientationIndex(this.p0,this.p1,e.p0),s=ge.orientationIndex(this.p0,this.p1,e.p1);return i>=0&&s>=0||i<=0&&s<=0?Math.max(i,s):0}if(arguments[0]instanceof Ct){var a=arguments[0];return ge.orientationIndex(this.p0,this.p1,a)}},ze.prototype.toGeometry=function(e){return e.createLineString([this.p0,this.p1])},ze.prototype.isVertical=function(){return this.p0.x===this.p1.x},ze.prototype.equals=function(e){if(!(e instanceof ze))return!1;var i=e;return this.p0.equals(i.p0)&&this.p1.equals(i.p1)},ze.prototype.intersection=function(e){var i=new Ic;return i.computeIntersection(this.p0,this.p1,e.p0,e.p1),i.hasIntersection()?i.getIntersection(0):null},ze.prototype.project=function(){if(arguments[0]instanceof Ct){var e=arguments[0];if(e.equals(this.p0)||e.equals(this.p1))return new Ct(e);var i=this.projectionFactor(e),s=new Ct;return s.x=this.p0.x+i*(this.p1.x-this.p0.x),s.y=this.p0.y+i*(this.p1.y-this.p0.y),s}if(arguments[0]instanceof ze){var a=arguments[0],c=this.projectionFactor(a.p0),h=this.projectionFactor(a.p1);if(c>=1&&h>=1||c<=0&&h<=0)return null;var g=this.project(a.p0);c<0&&(g=this.p0),c>1&&(g=this.p1);var y=this.project(a.p1);return h<0&&(y=this.p0),h>1&&(y=this.p1),new ze(g,y)}},ze.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},ze.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},ze.prototype.getCoordinate=function(e){return e===0?this.p0:this.p1},ze.prototype.distancePerpendicular=function(e){return ge.distancePointLinePerpendicular(e,this.p0,this.p1)},ze.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},ze.prototype.midPoint=function(){return ze.midPoint(this.p0,this.p1)},ze.prototype.projectionFactor=function(e){if(e.equals(this.p0))return 0;if(e.equals(this.p1))return 1;var i=this.p1.x-this.p0.x,s=this.p1.y-this.p0.y,a=i*i+s*s;return a<=0?Qe.NaN:((e.x-this.p0.x)*i+(e.y-this.p0.y)*s)/a},ze.prototype.closestPoints=function(e){var i=this.intersection(e);if(i!==null)return[i,i];var s=new Array(2).fill(null),a=Qe.MAX_VALUE,c=null,h=this.closestPoint(e.p0);a=h.distance(e.p0),s[0]=h,s[1]=e.p0;var g=this.closestPoint(e.p1);(c=g.distance(e.p1))<a&&(a=c,s[0]=g,s[1]=e.p1);var y=e.closestPoint(this.p0);(c=y.distance(this.p0))<a&&(a=c,s[0]=this.p0,s[1]=y);var w=e.closestPoint(this.p1);return(c=w.distance(this.p1))<a&&(a=c,s[0]=this.p1,s[1]=w),s},ze.prototype.closestPoint=function(e){var i=this.projectionFactor(e);return i>0&&i<1?this.project(e):this.p0.distance(e)<this.p1.distance(e)?this.p0:this.p1},ze.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},ze.prototype.getLength=function(){return this.p0.distance(this.p1)},ze.prototype.compareTo=function(e){var i=e,s=this.p0.compareTo(i.p0);return s!==0?s:this.p1.compareTo(i.p1)},ze.prototype.reverse=function(){var e=this.p0;this.p0=this.p1,this.p1=e},ze.prototype.equalsTopo=function(e){return this.p0.equals(e.p0)&&(this.p1.equals(e.p1)||this.p0.equals(e.p1))&&this.p1.equals(e.p0)},ze.prototype.lineIntersection=function(e){try{return es.intersection(this.p0,this.p1,e.p0,e.p1)}catch(i){if(!(i instanceof ad))throw i}return null},ze.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},ze.prototype.pointAlongOffset=function(e,i){var s=this.p0.x+e*(this.p1.x-this.p0.x),a=this.p0.y+e*(this.p1.y-this.p0.y),c=this.p1.x-this.p0.x,h=this.p1.y-this.p0.y,g=Math.sqrt(c*c+h*h),y=0,w=0;if(i!==0){if(g<=0)throw new Error("Cannot compute offset from zero-length line segment");y=i*c/g,w=i*h/g}return new Ct(s-w,a+y)},ze.prototype.setCoordinates=function(){if(arguments.length===1){var e=arguments[0];this.setCoordinates(e.p0,e.p1)}else if(arguments.length===2){var i=arguments[0],s=arguments[1];this.p0.x=i.x,this.p0.y=i.y,this.p1.x=s.x,this.p1.y=s.y}},ze.prototype.segmentFraction=function(e){var i=this.projectionFactor(e);return i<0?i=0:(i>1||Qe.isNaN(i))&&(i=1),i},ze.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},ze.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},ze.prototype.distance=function(){if(arguments[0]instanceof ze){var e=arguments[0];return ge.distanceLineLine(this.p0,this.p1,e.p0,e.p1)}if(arguments[0]instanceof Ct){var i=arguments[0];return ge.distancePointLine(i,this.p0,this.p1)}},ze.prototype.pointAlong=function(e){var i=new Ct;return i.x=this.p0.x+e*(this.p1.x-this.p0.x),i.y=this.p0.y+e*(this.p1.y-this.p0.y),i},ze.prototype.hashCode=function(){var e=Qe.doubleToLongBits(this.p0.x);e^=31*Qe.doubleToLongBits(this.p0.y);var i=Math.trunc(e)^Math.trunc(e>>32),s=Qe.doubleToLongBits(this.p1.x);return s^=31*Qe.doubleToLongBits(this.p1.y),i^(Math.trunc(s)^Math.trunc(s>>32))},ze.prototype.interfaces_=function(){return[Ro,Ao]},ze.prototype.getClass=function(){return ze},ze.midPoint=function(e,i){return new Ct((e.x+i.x)/2,(e.y+i.y)/2)},wk.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(ze,wk);var Ef=function(){this.tempEnv1=new Ae,this.tempEnv2=new Ae,this._overlapSeg1=new ze,this._overlapSeg2=new ze};Ef.prototype.overlap=function(){if(arguments.length!==2){if(arguments.length===4){var e=arguments[0],i=arguments[1],s=arguments[2],a=arguments[3];e.getLineSegment(i,this._overlapSeg1),s.getLineSegment(a,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}},Ef.prototype.interfaces_=function(){return[]},Ef.prototype.getClass=function(){return Ef};var io=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var e=arguments[0],i=arguments[1],s=arguments[2],a=arguments[3];this._pts=e,this._start=i,this._end=s,this._context=a};io.prototype.getLineSegment=function(e,i){i.p0=this._pts[e],i.p1=this._pts[e+1]},io.prototype.computeSelect=function(e,i,s,a){var c=this._pts[i],h=this._pts[s];if(a.tempEnv1.init(c,h),s-i==1)return a.select(this,i),null;if(!e.intersects(a.tempEnv1))return null;var g=Math.trunc((i+s)/2);i<g&&this.computeSelect(e,i,g,a),g<s&&this.computeSelect(e,g,s,a)},io.prototype.getCoordinates=function(){for(var e=new Array(this._end-this._start+1).fill(null),i=0,s=this._start;s<=this._end;s++)e[i++]=this._pts[s];return e},io.prototype.computeOverlaps=function(e,i){this.computeOverlapsInternal(this._start,this._end,e,e._start,e._end,i)},io.prototype.setId=function(e){this._id=e},io.prototype.select=function(e,i){this.computeSelect(e,this._start,this._end,i)},io.prototype.getEnvelope=function(){if(this._env===null){var e=this._pts[this._start],i=this._pts[this._end];this._env=new Ae(e,i)}return this._env},io.prototype.getEndIndex=function(){return this._end},io.prototype.getStartIndex=function(){return this._start},io.prototype.getContext=function(){return this._context},io.prototype.getId=function(){return this._id},io.prototype.computeOverlapsInternal=function(e,i,s,a,c,h){var g=this._pts[e],y=this._pts[i],w=s._pts[a],x=s._pts[c];if(i-e==1&&c-a==1)return h.overlap(this,e,s,a),null;if(h.tempEnv1.init(g,y),h.tempEnv2.init(w,x),!h.tempEnv1.intersects(h.tempEnv2))return null;var T=Math.trunc((e+i)/2),E=Math.trunc((a+c)/2);e<T&&(a<E&&this.computeOverlapsInternal(e,T,s,a,E,h),E<c&&this.computeOverlapsInternal(e,T,s,E,c,h)),T<i&&(a<E&&this.computeOverlapsInternal(T,i,s,a,E,h),E<c&&this.computeOverlapsInternal(T,i,s,E,c,h))},io.prototype.interfaces_=function(){return[]},io.prototype.getClass=function(){return io};var zs=function(){};zs.prototype.interfaces_=function(){return[]},zs.prototype.getClass=function(){return zs},zs.getChainStartIndices=function(e){var i=0,s=new ce;s.add(new Ts(i));do{var a=zs.findChainEnd(e,i);s.add(new Ts(a)),i=a}while(i<e.length-1);return zs.toIntArray(s)},zs.findChainEnd=function(e,i){for(var s=i;s<e.length-1&&e[s].equals2D(e[s+1]);)s++;if(s>=e.length-1)return e.length-1;for(var a=oi.quadrant(e[s],e[s+1]),c=i+1;c<e.length&&!(!e[c-1].equals2D(e[c])&&oi.quadrant(e[c-1],e[c])!==a);)c++;return c-1},zs.getChains=function(){if(arguments.length===1){var e=arguments[0];return zs.getChains(e,null)}if(arguments.length===2){for(var i=arguments[0],s=arguments[1],a=new ce,c=zs.getChainStartIndices(i),h=0;h<c.length-1;h++){var g=new io(i,c[h],c[h+1],s);a.add(g)}return a}},zs.toIntArray=function(e){for(var i=new Array(e.size()).fill(null),s=0;s<i.length;s++)i[s]=e.get(s).intValue();return i};var Ac=function(){};Ac.prototype.computeNodes=function(e){},Ac.prototype.getNodedSubstrings=function(){},Ac.prototype.interfaces_=function(){return[]},Ac.prototype.getClass=function(){return Ac};var Tf=function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var e=arguments[0];this.setSegmentIntersector(e)}}};Tf.prototype.setSegmentIntersector=function(e){this._segInt=e},Tf.prototype.interfaces_=function(){return[Ac]},Tf.prototype.getClass=function(){return Tf};var Bb=function(e){function i(a){a?e.call(this,a):e.call(this),this._monoChains=new ce,this._index=new yk,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={SegmentOverlapAction:{configurable:!0}};return i.prototype.getMonotoneChains=function(){return this._monoChains},i.prototype.getNodedSubstrings=function(){return Ai.getNodedSubstrings(this._nodedSegStrings)},i.prototype.getIndex=function(){return this._index},i.prototype.add=function(a){for(var c=this,h=zs.getChains(a.getCoordinates(),a).iterator();h.hasNext();){var g=h.next();g.setId(c._idCounter++),c._index.insert(g.getEnvelope(),g),c._monoChains.add(g)}},i.prototype.computeNodes=function(a){this._nodedSegStrings=a;for(var c=a.iterator();c.hasNext();)this.add(c.next());this.intersectChains()},i.prototype.intersectChains=function(){for(var a=this,c=new xk(this._segInt),h=this._monoChains.iterator();h.hasNext();)for(var g=h.next(),y=a._index.query(g.getEnvelope()).iterator();y.hasNext();){var w=y.next();if(w.getId()>g.getId()&&(g.computeOverlaps(w,c),a._nOverlaps++),a._segInt.isDone())return null}},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},s.SegmentOverlapAction.get=function(){return xk},Object.defineProperties(i,s),i}(Tf),xk=function(e){function i(){e.call(this),this._si=null;var s=arguments[0];this._si=s}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.overlap=function(){if(arguments.length!==4)return e.prototype.overlap.apply(this,arguments);var s=arguments[0],a=arguments[1],c=arguments[2],h=arguments[3],g=s.getContext(),y=c.getContext();this._si.processIntersections(g,a,y,h)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(Ef),Qr=function e(){if(this._quadrantSegments=e.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=e.CAP_ROUND,this._joinStyle=e.JOIN_ROUND,this._mitreLimit=e.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=e.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var i=arguments[0];this.setQuadrantSegments(i)}else if(arguments.length===2){var s=arguments[0],a=arguments[1];this.setQuadrantSegments(s),this.setEndCapStyle(a)}else if(arguments.length===4){var c=arguments[0],h=arguments[1],g=arguments[2],y=arguments[3];this.setQuadrantSegments(c),this.setEndCapStyle(h),this.setJoinStyle(g),this.setMitreLimit(y)}}},Xa={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};Qr.prototype.getEndCapStyle=function(){return this._endCapStyle},Qr.prototype.isSingleSided=function(){return this._isSingleSided},Qr.prototype.setQuadrantSegments=function(e){this._quadrantSegments=e,this._quadrantSegments===0&&(this._joinStyle=Qr.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=Qr.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),e<=0&&(this._quadrantSegments=1),this._joinStyle!==Qr.JOIN_ROUND&&(this._quadrantSegments=Qr.DEFAULT_QUADRANT_SEGMENTS)},Qr.prototype.getJoinStyle=function(){return this._joinStyle},Qr.prototype.setJoinStyle=function(e){this._joinStyle=e},Qr.prototype.setSimplifyFactor=function(e){this._simplifyFactor=e<0?0:e},Qr.prototype.getSimplifyFactor=function(){return this._simplifyFactor},Qr.prototype.getQuadrantSegments=function(){return this._quadrantSegments},Qr.prototype.setEndCapStyle=function(e){this._endCapStyle=e},Qr.prototype.getMitreLimit=function(){return this._mitreLimit},Qr.prototype.setMitreLimit=function(e){this._mitreLimit=e},Qr.prototype.setSingleSided=function(e){this._isSingleSided=e},Qr.prototype.interfaces_=function(){return[]},Qr.prototype.getClass=function(){return Qr},Qr.bufferDistanceError=function(e){var i=Math.PI/2/e;return 1-Math.cos(i/2)},Xa.CAP_ROUND.get=function(){return 1},Xa.CAP_FLAT.get=function(){return 2},Xa.CAP_SQUARE.get=function(){return 3},Xa.JOIN_ROUND.get=function(){return 1},Xa.JOIN_MITRE.get=function(){return 2},Xa.JOIN_BEVEL.get=function(){return 3},Xa.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},Xa.DEFAULT_MITRE_LIMIT.get=function(){return 5},Xa.DEFAULT_SIMPLIFY_FACTOR.get=function(){return .01},Object.defineProperties(Qr,Xa);var Ii=function(e){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=ge.COUNTERCLOCKWISE,this._inputLine=e||null},Sf={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Ii.prototype.isDeletable=function(e,i,s,a){var c=this._inputLine[e],h=this._inputLine[i],g=this._inputLine[s];return!!this.isConcave(c,h,g)&&!!this.isShallow(c,h,g,a)&&this.isShallowSampled(c,h,e,s,a)},Ii.prototype.deleteShallowConcavities=function(){for(var e=this,i=1,s=this.findNextNonDeletedIndex(i),a=this.findNextNonDeletedIndex(s),c=!1;a<this._inputLine.length;){var h=!1;e.isDeletable(i,s,a,e._distanceTol)&&(e._isDeleted[s]=Ii.DELETE,h=!0,c=!0),i=h?a:s,s=e.findNextNonDeletedIndex(i),a=e.findNextNonDeletedIndex(s)}return c},Ii.prototype.isShallowConcavity=function(e,i,s,a){return ge.computeOrientation(e,i,s)===this._angleOrientation&&ge.distancePointLine(i,e,s)<a},Ii.prototype.isShallowSampled=function(e,i,s,a,c){var h=Math.trunc((a-s)/Ii.NUM_PTS_TO_CHECK);h<=0&&(h=1);for(var g=s;g<a;g+=h)if(!this.isShallow(e,i,this._inputLine[g],c))return!1;return!0},Ii.prototype.isConcave=function(e,i,s){var a=ge.computeOrientation(e,i,s)===this._angleOrientation;return a},Ii.prototype.simplify=function(e){this._distanceTol=Math.abs(e),e<0&&(this._angleOrientation=ge.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var i=!1;do i=this.deleteShallowConcavities();while(i);return this.collapseLine()},Ii.prototype.findNextNonDeletedIndex=function(e){for(var i=e+1;i<this._inputLine.length&&this._isDeleted[i]===Ii.DELETE;)i++;return i},Ii.prototype.isShallow=function(e,i,s,a){return ge.distancePointLine(i,e,s)<a},Ii.prototype.collapseLine=function(){for(var e=new ff,i=0;i<this._inputLine.length;i++)this._isDeleted[i]!==Ii.DELETE&&e.add(this._inputLine[i]);return e.toCoordinateArray()},Ii.prototype.interfaces_=function(){return[]},Ii.prototype.getClass=function(){return Ii},Ii.simplify=function(e,i){return new Ii(e).simplify(i)},Sf.INIT.get=function(){return 0},Sf.DELETE.get=function(){return 1},Sf.KEEP.get=function(){return 1},Sf.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Ii,Sf);var bo=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new ce},_k={COORDINATE_ARRAY_TYPE:{configurable:!0}};bo.prototype.getCoordinates=function(){return this._ptList.toArray(bo.COORDINATE_ARRAY_TYPE)},bo.prototype.setPrecisionModel=function(e){this._precisionModel=e},bo.prototype.addPt=function(e){var i=new Ct(e);if(this._precisionModel.makePrecise(i),this.isRedundant(i))return null;this._ptList.add(i)},bo.prototype.revere=function(){},bo.prototype.addPts=function(e,i){if(i)for(var s=0;s<e.length;s++)this.addPt(e[s]);else for(var a=e.length-1;a>=0;a--)this.addPt(e[a])},bo.prototype.isRedundant=function(e){if(this._ptList.size()<1)return!1;var i=this._ptList.get(this._ptList.size()-1);return e.distance(i)<this._minimimVertexDistance},bo.prototype.toString=function(){return new ur().createLineString(this.getCoordinates()).toString()},bo.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var e=new Ct(this._ptList.get(0)),i=this._ptList.get(this._ptList.size()-1);if(e.equals(i))return null;this._ptList.add(e)},bo.prototype.setMinimumVertexDistance=function(e){this._minimimVertexDistance=e},bo.prototype.interfaces_=function(){return[]},bo.prototype.getClass=function(){return bo},_k.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(bo,_k);var vr=function(){},qu={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};vr.prototype.interfaces_=function(){return[]},vr.prototype.getClass=function(){return vr},vr.toDegrees=function(e){return 180*e/Math.PI},vr.normalize=function(e){for(;e>Math.PI;)e-=vr.PI_TIMES_2;for(;e<=-Math.PI;)e+=vr.PI_TIMES_2;return e},vr.angle=function(){if(arguments.length===1){var e=arguments[0];return Math.atan2(e.y,e.x)}if(arguments.length===2){var i=arguments[0],s=arguments[1],a=s.x-i.x,c=s.y-i.y;return Math.atan2(c,a)}},vr.isAcute=function(e,i,s){var a=e.x-i.x,c=e.y-i.y;return a*(s.x-i.x)+c*(s.y-i.y)>0},vr.isObtuse=function(e,i,s){var a=e.x-i.x,c=e.y-i.y;return a*(s.x-i.x)+c*(s.y-i.y)<0},vr.interiorAngle=function(e,i,s){var a=vr.angle(i,e),c=vr.angle(i,s);return Math.abs(c-a)},vr.normalizePositive=function(e){if(e<0){for(;e<0;)e+=vr.PI_TIMES_2;e>=vr.PI_TIMES_2&&(e=0)}else{for(;e>=vr.PI_TIMES_2;)e-=vr.PI_TIMES_2;e<0&&(e=0)}return e},vr.angleBetween=function(e,i,s){var a=vr.angle(i,e),c=vr.angle(i,s);return vr.diff(a,c)},vr.diff=function(e,i){var s=null;return(s=e<i?i-e:e-i)>Math.PI&&(s=2*Math.PI-s),s},vr.toRadians=function(e){return e*Math.PI/180},vr.getTurn=function(e,i){var s=Math.sin(i-e);return s>0?vr.COUNTERCLOCKWISE:s<0?vr.CLOCKWISE:vr.NONE},vr.angleBetweenOriented=function(e,i,s){var a=vr.angle(i,e),c=vr.angle(i,s)-a;return c<=-Math.PI?c+vr.PI_TIMES_2:c>Math.PI?c-vr.PI_TIMES_2:c},qu.PI_TIMES_2.get=function(){return 2*Math.PI},qu.PI_OVER_2.get=function(){return Math.PI/2},qu.PI_OVER_4.get=function(){return Math.PI/4},qu.COUNTERCLOCKWISE.get=function(){return ge.COUNTERCLOCKWISE},qu.CLOCKWISE.get=function(){return ge.CLOCKWISE},qu.NONE.get=function(){return ge.COLLINEAR},Object.defineProperties(vr,qu);var wi=function e(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new ze,this._seg1=new ze,this._offset0=new ze,this._offset1=new ze,this._side=0,this._hasNarrowConcaveAngle=!1;var i=arguments[0],s=arguments[1],a=arguments[2];this._precisionModel=i,this._bufParams=s,this._li=new Ic,this._filletAngleQuantum=Math.PI/2/s.getQuadrantSegments(),s.getQuadrantSegments()>=8&&s.getJoinStyle()===Qr.JOIN_ROUND&&(this._closingSegLengthFactor=e.MAX_CLOSING_SEG_LEN_FACTOR),this.init(a)},Cf={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};wi.prototype.addNextSegment=function(e,i){if(this._s0=this._s1,this._s1=this._s2,this._s2=e,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var s=ge.computeOrientation(this._s0,this._s1,this._s2),a=s===ge.CLOCKWISE&&this._side===ie.LEFT||s===ge.COUNTERCLOCKWISE&&this._side===ie.RIGHT;s===0?this.addCollinear(i):a?this.addOutsideTurn(s,i):this.addInsideTurn(s,i)},wi.prototype.addLineEndCap=function(e,i){var s=new ze(e,i),a=new ze;this.computeOffsetSegment(s,ie.LEFT,this._distance,a);var c=new ze;this.computeOffsetSegment(s,ie.RIGHT,this._distance,c);var h=i.x-e.x,g=i.y-e.y,y=Math.atan2(g,h);switch(this._bufParams.getEndCapStyle()){case Qr.CAP_ROUND:this._segList.addPt(a.p1),this.addFilletArc(i,y+Math.PI/2,y-Math.PI/2,ge.CLOCKWISE,this._distance),this._segList.addPt(c.p1);break;case Qr.CAP_FLAT:this._segList.addPt(a.p1),this._segList.addPt(c.p1);break;case Qr.CAP_SQUARE:var w=new Ct;w.x=Math.abs(this._distance)*Math.cos(y),w.y=Math.abs(this._distance)*Math.sin(y);var x=new Ct(a.p1.x+w.x,a.p1.y+w.y),T=new Ct(c.p1.x+w.x,c.p1.y+w.y);this._segList.addPt(x),this._segList.addPt(T)}},wi.prototype.getCoordinates=function(){return this._segList.getCoordinates()},wi.prototype.addMitreJoin=function(e,i,s,a){var c=!0,h=null;try{h=es.intersection(i.p0,i.p1,s.p0,s.p1),(a<=0?1:h.distance(e)/Math.abs(a))>this._bufParams.getMitreLimit()&&(c=!1)}catch(g){if(!(g instanceof ad))throw g;h=new Ct(0,0),c=!1}c?this._segList.addPt(h):this.addLimitedMitreJoin(i,s,a,this._bufParams.getMitreLimit())},wi.prototype.addFilletCorner=function(e,i,s,a,c){var h=i.x-e.x,g=i.y-e.y,y=Math.atan2(g,h),w=s.x-e.x,x=s.y-e.y,T=Math.atan2(x,w);a===ge.CLOCKWISE?y<=T&&(y+=2*Math.PI):y>=T&&(y-=2*Math.PI),this._segList.addPt(i),this.addFilletArc(e,y,T,a,c),this._segList.addPt(s)},wi.prototype.addOutsideTurn=function(e,i){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*wi.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===Qr.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Qr.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(i&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,e,this._distance),this._segList.addPt(this._offset1.p0))},wi.prototype.createSquare=function(e){this._segList.addPt(new Ct(e.x+this._distance,e.y+this._distance)),this._segList.addPt(new Ct(e.x+this._distance,e.y-this._distance)),this._segList.addPt(new Ct(e.x-this._distance,e.y-this._distance)),this._segList.addPt(new Ct(e.x-this._distance,e.y+this._distance)),this._segList.closeRing()},wi.prototype.addSegments=function(e,i){this._segList.addPts(e,i)},wi.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},wi.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},wi.prototype.initSideSegments=function(e,i,s){this._s1=e,this._s2=i,this._side=s,this._seg1.setCoordinates(e,i),this.computeOffsetSegment(this._seg1,s,this._distance,this._offset1)},wi.prototype.addLimitedMitreJoin=function(e,i,s,a){var c=this._seg0.p1,h=vr.angle(c,this._seg0.p0),g=vr.angleBetweenOriented(this._seg0.p0,c,this._seg1.p1)/2,y=vr.normalize(h+g),w=vr.normalize(y+Math.PI),x=a*s,T=s-x*Math.abs(Math.sin(g)),E=c.x+x*Math.cos(w),P=c.y+x*Math.sin(w),z=new Ct(E,P),N=new ze(c,z),B=N.pointAlongOffset(1,T),I=N.pointAlongOffset(1,-T);this._side===ie.LEFT?(this._segList.addPt(B),this._segList.addPt(I)):(this._segList.addPt(I),this._segList.addPt(B))},wi.prototype.computeOffsetSegment=function(e,i,s,a){var c=i===ie.LEFT?1:-1,h=e.p1.x-e.p0.x,g=e.p1.y-e.p0.y,y=Math.sqrt(h*h+g*g),w=c*s*h/y,x=c*s*g/y;a.p0.x=e.p0.x-x,a.p0.y=e.p0.y+w,a.p1.x=e.p1.x-x,a.p1.y=e.p1.y+w},wi.prototype.addFilletArc=function(e,i,s,a,c){var h=a===ge.CLOCKWISE?-1:1,g=Math.abs(i-s),y=Math.trunc(g/this._filletAngleQuantum+.5);if(y<1)return null;for(var w=g/y,x=0,T=new Ct;x<g;){var E=i+h*x;T.x=e.x+c*Math.cos(E),T.y=e.y+c*Math.sin(E),this._segList.addPt(T),x+=w}},wi.prototype.addInsideTurn=function(e,i){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*wi.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var s=new Ct((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(s);var a=new Ct((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(a)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},wi.prototype.createCircle=function(e){var i=new Ct(e.x+this._distance,e.y);this._segList.addPt(i),this.addFilletArc(e,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},wi.prototype.addBevelJoin=function(e,i){this._segList.addPt(e.p1),this._segList.addPt(i.p0)},wi.prototype.init=function(e){this._distance=e,this._maxCurveSegmentError=e*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new bo,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(e*wi.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},wi.prototype.addCollinear=function(e){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===Qr.JOIN_BEVEL||this._bufParams.getJoinStyle()===Qr.JOIN_MITRE?(e&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,ge.CLOCKWISE,this._distance))},wi.prototype.closeRing=function(){this._segList.closeRing()},wi.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},wi.prototype.interfaces_=function(){return[]},wi.prototype.getClass=function(){return wi},Cf.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return .001},Cf.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return .001},Cf.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},Cf.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(wi,Cf);var Yn=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var e=arguments[0],i=arguments[1];this._precisionModel=e,this._bufParams=i};Yn.prototype.getOffsetCurve=function(e,i){if(this._distance=i,i===0)return null;var s=i<0,a=Math.abs(i),c=this.getSegGen(a);e.length<=1?this.computePointCurve(e[0],c):this.computeOffsetCurve(e,s,c);var h=c.getCoordinates();return s&&cr.reverse(h),h},Yn.prototype.computeSingleSidedBufferCurve=function(e,i,s){var a=this.simplifyTolerance(this._distance);if(i){s.addSegments(e,!0);var c=Ii.simplify(e,-a),h=c.length-1;s.initSideSegments(c[h],c[h-1],ie.LEFT),s.addFirstSegment();for(var g=h-2;g>=0;g--)s.addNextSegment(c[g],!0)}else{s.addSegments(e,!1);var y=Ii.simplify(e,a),w=y.length-1;s.initSideSegments(y[0],y[1],ie.LEFT),s.addFirstSegment();for(var x=2;x<=w;x++)s.addNextSegment(y[x],!0)}s.addLastSegment(),s.closeRing()},Yn.prototype.computeRingBufferCurve=function(e,i,s){var a=this.simplifyTolerance(this._distance);i===ie.RIGHT&&(a=-a);var c=Ii.simplify(e,a),h=c.length-1;s.initSideSegments(c[h-1],c[0],i);for(var g=1;g<=h;g++){var y=g!==1;s.addNextSegment(c[g],y)}s.closeRing()},Yn.prototype.computeLineBufferCurve=function(e,i){var s=this.simplifyTolerance(this._distance),a=Ii.simplify(e,s),c=a.length-1;i.initSideSegments(a[0],a[1],ie.LEFT);for(var h=2;h<=c;h++)i.addNextSegment(a[h],!0);i.addLastSegment(),i.addLineEndCap(a[c-1],a[c]);var g=Ii.simplify(e,-s),y=g.length-1;i.initSideSegments(g[y],g[y-1],ie.LEFT);for(var w=y-2;w>=0;w--)i.addNextSegment(g[w],!0);i.addLastSegment(),i.addLineEndCap(g[1],g[0]),i.closeRing()},Yn.prototype.computePointCurve=function(e,i){switch(this._bufParams.getEndCapStyle()){case Qr.CAP_ROUND:i.createCircle(e);break;case Qr.CAP_SQUARE:i.createSquare(e)}},Yn.prototype.getLineCurve=function(e,i){if(this._distance=i,i<0&&!this._bufParams.isSingleSided()||i===0)return null;var s=Math.abs(i),a=this.getSegGen(s);if(e.length<=1)this.computePointCurve(e[0],a);else if(this._bufParams.isSingleSided()){var c=i<0;this.computeSingleSidedBufferCurve(e,c,a)}else this.computeLineBufferCurve(e,a);return a.getCoordinates()},Yn.prototype.getBufferParameters=function(){return this._bufParams},Yn.prototype.simplifyTolerance=function(e){return e*this._bufParams.getSimplifyFactor()},Yn.prototype.getRingCurve=function(e,i,s){if(this._distance=s,e.length<=2)return this.getLineCurve(e,s);if(s===0)return Yn.copyCoordinates(e);var a=this.getSegGen(s);return this.computeRingBufferCurve(e,i,a),a.getCoordinates()},Yn.prototype.computeOffsetCurve=function(e,i,s){var a=this.simplifyTolerance(this._distance);if(i){var c=Ii.simplify(e,-a),h=c.length-1;s.initSideSegments(c[h],c[h-1],ie.LEFT),s.addFirstSegment();for(var g=h-2;g>=0;g--)s.addNextSegment(c[g],!0)}else{var y=Ii.simplify(e,a),w=y.length-1;s.initSideSegments(y[0],y[1],ie.LEFT),s.addFirstSegment();for(var x=2;x<=w;x++)s.addNextSegment(y[x],!0)}s.addLastSegment()},Yn.prototype.getSegGen=function(e){return new wi(this._precisionModel,this._bufParams,e)},Yn.prototype.interfaces_=function(){return[]},Yn.prototype.getClass=function(){return Yn},Yn.copyCoordinates=function(e){for(var i=new Array(e.length).fill(null),s=0;s<i.length;s++)i[s]=new Ct(e[s]);return i};var Vu=function(){this._subgraphs=null,this._seg=new ze,this._cga=new ge;var e=arguments[0];this._subgraphs=e},kk={DepthSegment:{configurable:!0}};Vu.prototype.findStabbedSegments=function(){var e=this;if(arguments.length===1){for(var i=arguments[0],s=new ce,a=this._subgraphs.iterator();a.hasNext();){var c=a.next(),h=c.getEnvelope();i.y<h.getMinY()||i.y>h.getMaxY()||e.findStabbedSegments(i,c.getDirectedEdges(),s)}return s}if(arguments.length===3){if(qe(arguments[2],is)&&arguments[0]instanceof Ct&&arguments[1]instanceof Fb)for(var g=arguments[0],y=arguments[1],w=arguments[2],x=y.getEdge().getCoordinates(),T=0;T<x.length-1;T++){e._seg.p0=x[T],e._seg.p1=x[T+1],e._seg.p0.y>e._seg.p1.y&&e._seg.reverse();var E=Math.max(e._seg.p0.x,e._seg.p1.x);if(!(E<g.x)&&!(e._seg.isHorizontal()||g.y<e._seg.p0.y||g.y>e._seg.p1.y||ge.computeOrientation(e._seg.p0,e._seg.p1,g)===ge.RIGHT)){var P=y.getDepth(ie.LEFT);e._seg.p0.equals(x[T])||(P=y.getDepth(ie.RIGHT));var z=new Oc(e._seg,P);w.add(z)}}else if(qe(arguments[2],is)&&arguments[0]instanceof Ct&&qe(arguments[1],is))for(var N=arguments[0],B=arguments[1],I=arguments[2],W=B.iterator();W.hasNext();){var it=W.next();it.isForward()&&e.findStabbedSegments(N,it,I)}}},Vu.prototype.getDepth=function(e){var i=this.findStabbedSegments(e);return i.size()===0?0:as.min(i)._leftDepth},Vu.prototype.interfaces_=function(){return[]},Vu.prototype.getClass=function(){return Vu},kk.DepthSegment.get=function(){return Oc},Object.defineProperties(Vu,kk);var Oc=function(){this._upwardSeg=null,this._leftDepth=null;var e=arguments[0],i=arguments[1];this._upwardSeg=new ze(e),this._leftDepth=i};Oc.prototype.compareTo=function(e){var i=e;if(this._upwardSeg.minX()>=i._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=i._upwardSeg.minX())return-1;var s=this._upwardSeg.orientationIndex(i._upwardSeg);return s!==0||(s=-1*i._upwardSeg.orientationIndex(this._upwardSeg))!==0?s:this._upwardSeg.compareTo(i._upwardSeg)},Oc.prototype.compareX=function(e,i){var s=e.p0.compareTo(i.p0);return s!==0?s:e.p1.compareTo(i.p1)},Oc.prototype.toString=function(){return this._upwardSeg.toString()},Oc.prototype.interfaces_=function(){return[Ro]},Oc.prototype.getClass=function(){return Oc};var $r=function(e,i,s){this.p0=e||null,this.p1=i||null,this.p2=s||null};$r.prototype.area=function(){return $r.area(this.p0,this.p1,this.p2)},$r.prototype.signedArea=function(){return $r.signedArea(this.p0,this.p1,this.p2)},$r.prototype.interpolateZ=function(e){if(e===null)throw new ki("Supplied point is null.");return $r.interpolateZ(e,this.p0,this.p1,this.p2)},$r.prototype.longestSideLength=function(){return $r.longestSideLength(this.p0,this.p1,this.p2)},$r.prototype.isAcute=function(){return $r.isAcute(this.p0,this.p1,this.p2)},$r.prototype.circumcentre=function(){return $r.circumcentre(this.p0,this.p1,this.p2)},$r.prototype.area3D=function(){return $r.area3D(this.p0,this.p1,this.p2)},$r.prototype.centroid=function(){return $r.centroid(this.p0,this.p1,this.p2)},$r.prototype.inCentre=function(){return $r.inCentre(this.p0,this.p1,this.p2)},$r.prototype.interfaces_=function(){return[]},$r.prototype.getClass=function(){return $r},$r.area=function(e,i,s){return Math.abs(((s.x-e.x)*(i.y-e.y)-(i.x-e.x)*(s.y-e.y))/2)},$r.signedArea=function(e,i,s){return((s.x-e.x)*(i.y-e.y)-(i.x-e.x)*(s.y-e.y))/2},$r.det=function(e,i,s,a){return e*a-i*s},$r.interpolateZ=function(e,i,s,a){var c=i.x,h=i.y,g=s.x-c,y=a.x-c,w=s.y-h,x=a.y-h,T=g*x-y*w,E=e.x-c,P=e.y-h,z=(x*E-y*P)/T,N=(-w*E+g*P)/T;return i.z+z*(s.z-i.z)+N*(a.z-i.z)},$r.longestSideLength=function(e,i,s){var a=e.distance(i),c=i.distance(s),h=s.distance(e),g=a;return c>g&&(g=c),h>g&&(g=h),g},$r.isAcute=function(e,i,s){return!!vr.isAcute(e,i,s)&&!!vr.isAcute(i,s,e)&&!!vr.isAcute(s,e,i)},$r.circumcentre=function(e,i,s){var a=s.x,c=s.y,h=e.x-a,g=e.y-c,y=i.x-a,w=i.y-c,x=2*$r.det(h,g,y,w),T=$r.det(g,h*h+g*g,w,y*y+w*w),E=$r.det(h,h*h+g*g,y,y*y+w*w);return new Ct(a-T/x,c+E/x)},$r.perpendicularBisector=function(e,i){var s=i.x-e.x,a=i.y-e.y,c=new es(e.x+s/2,e.y+a/2,1),h=new es(e.x-a+s/2,e.y+s+a/2,1);return new es(c,h)},$r.angleBisector=function(e,i,s){var a=i.distance(e),c=a/(a+i.distance(s)),h=s.x-e.x,g=s.y-e.y;return new Ct(e.x+c*h,e.y+c*g)},$r.area3D=function(e,i,s){var a=i.x-e.x,c=i.y-e.y,h=i.z-e.z,g=s.x-e.x,y=s.y-e.y,w=s.z-e.z,x=c*w-h*y,T=h*g-a*w,E=a*y-c*g,P=x*x+T*T+E*E,z=Math.sqrt(P)/2;return z},$r.centroid=function(e,i,s){var a=(e.x+i.x+s.x)/3,c=(e.y+i.y+s.y)/3;return new Ct(a,c)},$r.inCentre=function(e,i,s){var a=i.distance(s),c=e.distance(s),h=e.distance(i),g=a+c+h,y=(a*e.x+c*i.x+h*s.x)/g,w=(a*e.y+c*i.y+h*s.y)/g;return new Ct(y,w)};var Fo=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new ce;var e=arguments[0],i=arguments[1],s=arguments[2];this._inputGeom=e,this._distance=i,this._curveBuilder=s};Fo.prototype.addPoint=function(e){if(this._distance<=0)return null;var i=e.getCoordinates(),s=this._curveBuilder.getLineCurve(i,this._distance);this.addCurve(s,At.EXTERIOR,At.INTERIOR)},Fo.prototype.addPolygon=function(e){var i=this,s=this._distance,a=ie.LEFT;this._distance<0&&(s=-this._distance,a=ie.RIGHT);var c=e.getExteriorRing(),h=cr.removeRepeatedPoints(c.getCoordinates());if(this._distance<0&&this.isErodedCompletely(c,this._distance)||this._distance<=0&&h.length<3)return null;this.addPolygonRing(h,s,a,At.EXTERIOR,At.INTERIOR);for(var g=0;g<e.getNumInteriorRing();g++){var y=e.getInteriorRingN(g),w=cr.removeRepeatedPoints(y.getCoordinates());i._distance>0&&i.isErodedCompletely(y,-i._distance)||i.addPolygonRing(w,s,ie.opposite(a),At.INTERIOR,At.EXTERIOR)}},Fo.prototype.isTriangleErodedCompletely=function(e,i){var s=new $r(e[0],e[1],e[2]),a=s.inCentre();return ge.distancePointLine(a,s.p0,s.p1)<Math.abs(i)},Fo.prototype.addLineString=function(e){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var i=cr.removeRepeatedPoints(e.getCoordinates()),s=this._curveBuilder.getLineCurve(i,this._distance);this.addCurve(s,At.EXTERIOR,At.INTERIOR)},Fo.prototype.addCurve=function(e,i,s){if(e===null||e.length<2)return null;var a=new Ai(e,new ni(0,At.BOUNDARY,i,s));this._curveList.add(a)},Fo.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},Fo.prototype.addPolygonRing=function(e,i,s,a,c){if(i===0&&e.length<ca.MINIMUM_VALID_SIZE)return null;var h=a,g=c;e.length>=ca.MINIMUM_VALID_SIZE&&ge.isCCW(e)&&(h=c,g=a,s=ie.opposite(s));var y=this._curveBuilder.getRingCurve(e,s,i);this.addCurve(y,h,g)},Fo.prototype.add=function(e){if(e.isEmpty())return null;e instanceof Gi?this.addPolygon(e):e instanceof Mi?this.addLineString(e):e instanceof eo?this.addPoint(e):(e instanceof md||e instanceof Rc||e instanceof ua||e instanceof Rn)&&this.addCollection(e)},Fo.prototype.isErodedCompletely=function(e,i){var s=e.getCoordinates();if(s.length<4)return i<0;if(s.length===4)return this.isTriangleErodedCompletely(s,i);var a=e.getEnvelopeInternal(),c=Math.min(a.getHeight(),a.getWidth());return i<0&&2*Math.abs(i)>c},Fo.prototype.addCollection=function(e){for(var i=0;i<e.getNumGeometries();i++){var s=e.getGeometryN(i);this.add(s)}},Fo.prototype.interfaces_=function(){return[]},Fo.prototype.getClass=function(){return Fo};var wd=function(){};wd.prototype.locate=function(e){},wd.prototype.interfaces_=function(){return[]},wd.prototype.getClass=function(){return wd};var pa=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var e=arguments[0];this._parent=e,this._atStart=!0,this._index=0,this._max=e.getNumGeometries()};pa.prototype.next=function(){if(this._atStart)return this._atStart=!1,pa.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new fd;var e=this._parent.getGeometryN(this._index++);return e instanceof Rn?(this._subcollectionIterator=new pa(e),this._subcollectionIterator.next()):e},pa.prototype.remove=function(){throw new Error(this.getClass().getName())},pa.prototype.hasNext=function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},pa.prototype.interfaces_=function(){return[pd]},pa.prototype.getClass=function(){return pa},pa.isAtomic=function(e){return!(e instanceof Rn)};var wo=function(){this._geom=null;var e=arguments[0];this._geom=e};wo.prototype.locate=function(e){return wo.locate(e,this._geom)},wo.prototype.interfaces_=function(){return[wd]},wo.prototype.getClass=function(){return wo},wo.isPointInRing=function(e,i){return!!i.getEnvelopeInternal().intersects(e)&&ge.isPointInRing(e,i.getCoordinates())},wo.containsPointInPolygon=function(e,i){if(i.isEmpty())return!1;var s=i.getExteriorRing();if(!wo.isPointInRing(e,s))return!1;for(var a=0;a<i.getNumInteriorRing();a++){var c=i.getInteriorRingN(a);if(wo.isPointInRing(e,c))return!1}return!0},wo.containsPoint=function(e,i){if(i instanceof Gi)return wo.containsPointInPolygon(e,i);if(i instanceof Rn)for(var s=new pa(i);s.hasNext();){var a=s.next();if(a!==i&&wo.containsPoint(e,a))return!0}return!1},wo.locate=function(e,i){return i.isEmpty()?At.EXTERIOR:wo.containsPoint(e,i)?At.INTERIOR:At.EXTERIOR};var kn=function(){this._edgeMap=new xn,this._edgeList=null,this._ptInAreaLocation=[At.NONE,At.NONE]};kn.prototype.getNextCW=function(e){this.getEdges();var i=this._edgeList.indexOf(e),s=i-1;return i===0&&(s=this._edgeList.size()-1),this._edgeList.get(s)},kn.prototype.propagateSideLabels=function(e){for(var i=At.NONE,s=this.iterator();s.hasNext();){var a=s.next().getLabel();a.isArea(e)&&a.getLocation(e,ie.LEFT)!==At.NONE&&(i=a.getLocation(e,ie.LEFT))}if(i===At.NONE)return null;for(var c=i,h=this.iterator();h.hasNext();){var g=h.next(),y=g.getLabel();if(y.getLocation(e,ie.ON)===At.NONE&&y.setLocation(e,ie.ON,c),y.isArea(e)){var w=y.getLocation(e,ie.LEFT),x=y.getLocation(e,ie.RIGHT);if(x!==At.NONE){if(x!==c)throw new Za("side location conflict",g.getCoordinate());w===At.NONE&&rr.shouldNeverReachHere("found single null side (at "+g.getCoordinate()+")"),c=w}else rr.isTrue(y.getLocation(e,ie.LEFT)===At.NONE,"found single null side"),y.setLocation(e,ie.RIGHT,c),y.setLocation(e,ie.LEFT,c)}}},kn.prototype.getCoordinate=function(){var e=this.iterator();return e.hasNext()?e.next().getCoordinate():null},kn.prototype.print=function(e){hn.out.println("EdgeEndStar:   "+this.getCoordinate());for(var i=this.iterator();i.hasNext();)i.next().print(e)},kn.prototype.isAreaLabelsConsistent=function(e){return this.computeEdgeEndLabels(e.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},kn.prototype.checkAreaLabelsConsistent=function(e){var i=this.getEdges();if(i.size()<=0)return!0;var s=i.size()-1,a=i.get(s).getLabel().getLocation(e,ie.LEFT);rr.isTrue(a!==At.NONE,"Found unlabelled area edge");for(var c=a,h=this.iterator();h.hasNext();){var g=h.next().getLabel();rr.isTrue(g.isArea(e),"Found non-area edge");var y=g.getLocation(e,ie.LEFT),w=g.getLocation(e,ie.RIGHT);if(y===w||w!==c)return!1;c=y}return!0},kn.prototype.findIndex=function(e){this.iterator();for(var i=0;i<this._edgeList.size();i++)if(this._edgeList.get(i)===e)return i;return-1},kn.prototype.iterator=function(){return this.getEdges().iterator()},kn.prototype.getEdges=function(){return this._edgeList===null&&(this._edgeList=new ce(this._edgeMap.values())),this._edgeList},kn.prototype.getLocation=function(e,i,s){return this._ptInAreaLocation[e]===At.NONE&&(this._ptInAreaLocation[e]=wo.locate(i,s[e].getGeometry())),this._ptInAreaLocation[e]},kn.prototype.toString=function(){var e=new Es;e.append("EdgeEndStar:   "+this.getCoordinate()),e.append(`
`);for(var i=this.iterator();i.hasNext();){var s=i.next();e.append(s),e.append(`
`)}return e.toString()},kn.prototype.computeEdgeEndLabels=function(e){for(var i=this.iterator();i.hasNext();)i.next().computeLabel(e)},kn.prototype.computeLabelling=function(e){this.computeEdgeEndLabels(e[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var i=[!1,!1],s=this.iterator();s.hasNext();)for(var a=s.next().getLabel(),c=0;c<2;c++)a.isLine(c)&&a.getLocation(c)===At.BOUNDARY&&(i[c]=!0);for(var h=this.iterator();h.hasNext();)for(var g=h.next(),y=g.getLabel(),w=0;w<2;w++)if(y.isAnyNull(w)){var x=At.NONE;if(i[w])x=At.EXTERIOR;else{var T=g.getCoordinate();x=this.getLocation(w,T,e)}y.setAllLocationsIfNull(w,x)}},kn.prototype.getDegree=function(){return this._edgeMap.size()},kn.prototype.insertEdgeEnd=function(e,i){this._edgeMap.put(e,i),this._edgeList=null},kn.prototype.interfaces_=function(){return[]},kn.prototype.getClass=function(){return kn};var II=function(e){function i(){e.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.linkResultDirectedEdges=function(){var s=this;this.getResultAreaEdges();for(var a=null,c=null,h=this._SCANNING_FOR_INCOMING,g=0;g<this._resultAreaEdgeList.size();g++){var y=s._resultAreaEdgeList.get(g),w=y.getSym();if(y.getLabel().isArea())switch(a===null&&y.isInResult()&&(a=y),h){case s._SCANNING_FOR_INCOMING:if(!w.isInResult())continue;c=w,h=s._LINKING_TO_OUTGOING;break;case s._LINKING_TO_OUTGOING:if(!y.isInResult())continue;c.setNext(y),h=s._SCANNING_FOR_INCOMING}}if(h===this._LINKING_TO_OUTGOING){if(a===null)throw new Za("no outgoing dirEdge found",this.getCoordinate());rr.isTrue(a.isInResult(),"unable to link last incoming dirEdge"),c.setNext(a)}},i.prototype.insert=function(s){var a=s;this.insertEdgeEnd(a,a)},i.prototype.getRightmostEdge=function(){var s=this.getEdges(),a=s.size();if(a<1)return null;var c=s.get(0);if(a===1)return c;var h=s.get(a-1),g=c.getQuadrant(),y=h.getQuadrant();return oi.isNorthern(g)&&oi.isNorthern(y)?c:oi.isNorthern(g)||oi.isNorthern(y)?c.getDy()!==0?c:h.getDy()!==0?h:(rr.shouldNeverReachHere("found two horizontal edges incident on node"),null):h},i.prototype.print=function(s){hn.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var a=this.iterator();a.hasNext();){var c=a.next();s.print("out "),c.print(s),s.println(),s.print("in "),c.getSym().print(s),s.println()}},i.prototype.getResultAreaEdges=function(){if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new ce;for(var s=this.iterator();s.hasNext();){var a=s.next();(a.isInResult()||a.getSym().isInResult())&&this._resultAreaEdgeList.add(a)}return this._resultAreaEdgeList},i.prototype.updateLabelling=function(s){for(var a=this.iterator();a.hasNext();){var c=a.next().getLabel();c.setAllLocationsIfNull(0,s.getLocation(0)),c.setAllLocationsIfNull(1,s.getLocation(1))}},i.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var s=null,a=null,c=this._edgeList.size()-1;c>=0;c--){var h=this._edgeList.get(c),g=h.getSym();a===null&&(a=g),s!==null&&g.setNext(s),s=h}a.setNext(s)},i.prototype.computeDepths=function(){var s=this;if(arguments.length===1){var a=arguments[0],c=this.findIndex(a),h=a.getDepth(ie.LEFT),g=a.getDepth(ie.RIGHT),y=this.computeDepths(c+1,this._edgeList.size(),h),w=this.computeDepths(0,c,y);if(w!==g)throw new Za("depth mismatch at "+a.getCoordinate())}else if(arguments.length===3){for(var x=arguments[0],T=arguments[1],E=arguments[2],P=E,z=x;z<T;z++){var N=s._edgeList.get(z);N.setEdgeDepths(ie.RIGHT,P),P=N.getDepth(ie.LEFT)}return P}},i.prototype.mergeSymLabels=function(){for(var s=this.iterator();s.hasNext();){var a=s.next();a.getLabel().merge(a.getSym().getLabel())}},i.prototype.linkMinimalDirectedEdges=function(s){for(var a=this,c=null,h=null,g=this._SCANNING_FOR_INCOMING,y=this._resultAreaEdgeList.size()-1;y>=0;y--){var w=a._resultAreaEdgeList.get(y),x=w.getSym();switch(c===null&&w.getEdgeRing()===s&&(c=w),g){case a._SCANNING_FOR_INCOMING:if(x.getEdgeRing()!==s)continue;h=x,g=a._LINKING_TO_OUTGOING;break;case a._LINKING_TO_OUTGOING:if(w.getEdgeRing()!==s)continue;h.setNextMin(w),g=a._SCANNING_FOR_INCOMING}}g===this._LINKING_TO_OUTGOING&&(rr.isTrue(c!==null,"found null for first outgoing dirEdge"),rr.isTrue(c.getEdgeRing()===s,"unable to link last incoming dirEdge"),h.setNextMin(c))},i.prototype.getOutgoingDegree=function(){if(arguments.length===0){for(var s=0,a=this.iterator();a.hasNext();){var c=a.next();c.isInResult()&&s++}return s}if(arguments.length===1){for(var h=arguments[0],g=0,y=this.iterator();y.hasNext();){var w=y.next();w.getEdgeRing()===h&&g++}return g}},i.prototype.getLabel=function(){return this._label},i.prototype.findCoveredLineEdges=function(){for(var s=At.NONE,a=this.iterator();a.hasNext();){var c=a.next(),h=c.getSym();if(!c.isLineEdge()){if(c.isInResult()){s=At.INTERIOR;break}if(h.isInResult()){s=At.EXTERIOR;break}}}if(s===At.NONE)return null;for(var g=s,y=this.iterator();y.hasNext();){var w=y.next(),x=w.getSym();w.isLineEdge()?w.getEdge().setCovered(g===At.INTERIOR):(w.isInResult()&&(g=At.EXTERIOR),x.isInResult()&&(g=At.INTERIOR))}},i.prototype.computeLabelling=function(s){e.prototype.computeLabelling.call(this,s),this._label=new ni(At.NONE);for(var a=this.iterator();a.hasNext();)for(var c=a.next().getEdge().getLabel(),h=0;h<2;h++){var g=c.getLocation(h);g!==At.INTERIOR&&g!==At.BOUNDARY||this._label.setLocation(h,At.INTERIOR)}},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(kn),Ek=function(e){function i(){e.apply(this,arguments)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.createNode=function(s){return new av(s,new II)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(vd),Dl=function e(){this._pts=null,this._orientation=null;var i=arguments[0];this._pts=i,this._orientation=e.orientation(i)};Dl.prototype.compareTo=function(e){var i=e;return Dl.compareOriented(this._pts,this._orientation,i._pts,i._orientation)},Dl.prototype.interfaces_=function(){return[Ro]},Dl.prototype.getClass=function(){return Dl},Dl.orientation=function(e){return cr.increasingDirection(e)===1},Dl.compareOriented=function(e,i,s,a){for(var c=i?1:-1,h=a?1:-1,g=i?e.length:-1,y=a?s.length:-1,w=i?0:e.length-1,x=a?0:s.length-1;;){var T=e[w].compareTo(s[x]);if(T!==0)return T;var E=(w+=c)===g,P=(x+=h)===y;if(E&&!P)return-1;if(!E&&P)return 1;if(E&&P)return 0}};var ls=function(){this._edges=new ce,this._ocaMap=new xn};ls.prototype.print=function(e){e.print("MULTILINESTRING ( ");for(var i=0;i<this._edges.size();i++){var s=this._edges.get(i);i>0&&e.print(","),e.print("(");for(var a=s.getCoordinates(),c=0;c<a.length;c++)c>0&&e.print(","),e.print(a[c].x+" "+a[c].y);e.println(")")}e.print(")  ")},ls.prototype.addAll=function(e){for(var i=e.iterator();i.hasNext();)this.add(i.next())},ls.prototype.findEdgeIndex=function(e){for(var i=0;i<this._edges.size();i++)if(this._edges.get(i).equals(e))return i;return-1},ls.prototype.iterator=function(){return this._edges.iterator()},ls.prototype.getEdges=function(){return this._edges},ls.prototype.get=function(e){return this._edges.get(e)},ls.prototype.findEqualEdge=function(e){var i=new Dl(e.getCoordinates());return this._ocaMap.get(i)},ls.prototype.add=function(e){this._edges.add(e);var i=new Dl(e.getCoordinates());this._ocaMap.put(i,e)},ls.prototype.interfaces_=function(){return[]},ls.prototype.getClass=function(){return ls};var zc=function(){};zc.prototype.processIntersections=function(e,i,s,a){},zc.prototype.isDone=function(){},zc.prototype.interfaces_=function(){return[]},zc.prototype.getClass=function(){return zc};var xo=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var e=arguments[0];this._li=e};xo.prototype.isTrivialIntersection=function(e,i,s,a){if(e===s&&this._li.getIntersectionNum()===1){if(xo.isAdjacentSegments(i,a))return!0;if(e.isClosed()){var c=e.size()-1;if(i===0&&a===c||a===0&&i===c)return!0}}return!1},xo.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},xo.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},xo.prototype.getLineIntersector=function(){return this._li},xo.prototype.hasProperIntersection=function(){return this._hasProper},xo.prototype.processIntersections=function(e,i,s,a){if(e===s&&i===a)return null;this.numTests++;var c=e.getCoordinates()[i],h=e.getCoordinates()[i+1],g=s.getCoordinates()[a],y=s.getCoordinates()[a+1];this._li.computeIntersection(c,h,g,y),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(e,i,s,a)||(this._hasIntersection=!0,e.addIntersections(this._li,i,0),s.addIntersections(this._li,a,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},xo.prototype.hasIntersection=function(){return this._hasIntersection},xo.prototype.isDone=function(){return!1},xo.prototype.hasInteriorIntersection=function(){return this._hasInterior},xo.prototype.interfaces_=function(){return[zc]},xo.prototype.getClass=function(){return xo},xo.isAdjacentSegments=function(e,i){return Math.abs(e-i)===1};var Ns=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var e=arguments[0],i=arguments[1],s=arguments[2];this.coord=new Ct(e),this.segmentIndex=i,this.dist=s};Ns.prototype.getSegmentIndex=function(){return this.segmentIndex},Ns.prototype.getCoordinate=function(){return this.coord},Ns.prototype.print=function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex),e.println(" dist = "+this.dist)},Ns.prototype.compareTo=function(e){var i=e;return this.compare(i.segmentIndex,i.dist)},Ns.prototype.isEndPoint=function(e){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===e},Ns.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Ns.prototype.getDistance=function(){return this.dist},Ns.prototype.compare=function(e,i){return this.segmentIndex<e?-1:this.segmentIndex>e?1:this.dist<i?-1:this.dist>i?1:0},Ns.prototype.interfaces_=function(){return[Ro]},Ns.prototype.getClass=function(){return Ns};var fa=function(){this._nodeMap=new xn,this.edge=null;var e=arguments[0];this.edge=e};fa.prototype.print=function(e){e.println("Intersections:");for(var i=this.iterator();i.hasNext();)i.next().print(e)},fa.prototype.iterator=function(){return this._nodeMap.values().iterator()},fa.prototype.addSplitEdges=function(e){this.addEndpoints();for(var i=this.iterator(),s=i.next();i.hasNext();){var a=i.next(),c=this.createSplitEdge(s,a);e.add(c),s=a}},fa.prototype.addEndpoints=function(){var e=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[e],e,0)},fa.prototype.createSplitEdge=function(e,i){var s=i.segmentIndex-e.segmentIndex+2,a=this.edge.pts[i.segmentIndex],c=i.dist>0||!i.coord.equals2D(a);c||s--;var h=new Array(s).fill(null),g=0;h[g++]=new Ct(e.coord);for(var y=e.segmentIndex+1;y<=i.segmentIndex;y++)h[g++]=this.edge.pts[y];return c&&(h[g]=i.coord),new cv(h,new ni(this.edge._label))},fa.prototype.add=function(e,i,s){var a=new Ns(e,i,s),c=this._nodeMap.get(a);return c!==null?c:(this._nodeMap.put(a,a),a)},fa.prototype.isIntersection=function(e){for(var i=this.iterator();i.hasNext();)if(i.next().coord.equals(e))return!0;return!1},fa.prototype.interfaces_=function(){return[]},fa.prototype.getClass=function(){return fa};var Nc=function(){};Nc.prototype.getChainStartIndices=function(e){var i=0,s=new ce;s.add(new Ts(i));do{var a=this.findChainEnd(e,i);s.add(new Ts(a)),i=a}while(i<e.length-1);return Nc.toIntArray(s)},Nc.prototype.findChainEnd=function(e,i){for(var s=oi.quadrant(e[i],e[i+1]),a=i+1;a<e.length&&oi.quadrant(e[a-1],e[a])===s;)a++;return a-1},Nc.prototype.interfaces_=function(){return[]},Nc.prototype.getClass=function(){return Nc},Nc.toIntArray=function(e){for(var i=new Array(e.size()).fill(null),s=0;s<i.length;s++)i[s]=e.get(s).intValue();return i};var Ka=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new Ae,this.env2=new Ae;var e=arguments[0];this.e=e,this.pts=e.getCoordinates();var i=new Nc;this.startIndex=i.getChainStartIndices(this.pts)};Ka.prototype.getCoordinates=function(){return this.pts},Ka.prototype.getMaxX=function(e){var i=this.pts[this.startIndex[e]].x,s=this.pts[this.startIndex[e+1]].x;return i>s?i:s},Ka.prototype.getMinX=function(e){var i=this.pts[this.startIndex[e]].x,s=this.pts[this.startIndex[e+1]].x;return i<s?i:s},Ka.prototype.computeIntersectsForChain=function(){if(arguments.length===4){var e=arguments[0],i=arguments[1],s=arguments[2],a=arguments[3];this.computeIntersectsForChain(this.startIndex[e],this.startIndex[e+1],i,i.startIndex[s],i.startIndex[s+1],a)}else if(arguments.length===6){var c=arguments[0],h=arguments[1],g=arguments[2],y=arguments[3],w=arguments[4],x=arguments[5],T=this.pts[c],E=this.pts[h],P=g.pts[y],z=g.pts[w];if(h-c==1&&w-y==1)return x.addIntersections(this.e,c,g.e,y),null;if(this.env1.init(T,E),this.env2.init(P,z),!this.env1.intersects(this.env2))return null;var N=Math.trunc((c+h)/2),B=Math.trunc((y+w)/2);c<N&&(y<B&&this.computeIntersectsForChain(c,N,g,y,B,x),B<w&&this.computeIntersectsForChain(c,N,g,B,w,x)),N<h&&(y<B&&this.computeIntersectsForChain(N,h,g,y,B,x),B<w&&this.computeIntersectsForChain(N,h,g,B,w,x))}},Ka.prototype.getStartIndexes=function(){return this.startIndex},Ka.prototype.computeIntersects=function(e,i){for(var s=0;s<this.startIndex.length-1;s++)for(var a=0;a<e.startIndex.length-1;a++)this.computeIntersectsForChain(s,e,a,i)},Ka.prototype.interfaces_=function(){return[]},Ka.prototype.getClass=function(){return Ka};var dn=function e(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var i=0;i<2;i++)for(var s=0;s<3;s++)this._depth[i][s]=e.NULL_VALUE},Tk={NULL_VALUE:{configurable:!0}};dn.prototype.getDepth=function(e,i){return this._depth[e][i]},dn.prototype.setDepth=function(e,i,s){this._depth[e][i]=s},dn.prototype.isNull=function(){var e=this;if(arguments.length===0){for(var i=0;i<2;i++)for(var s=0;s<3;s++)if(e._depth[i][s]!==dn.NULL_VALUE)return!1;return!0}if(arguments.length===1){var a=arguments[0];return this._depth[a][1]===dn.NULL_VALUE}if(arguments.length===2){var c=arguments[0],h=arguments[1];return this._depth[c][h]===dn.NULL_VALUE}},dn.prototype.normalize=function(){for(var e=this,i=0;i<2;i++)if(!e.isNull(i)){var s=e._depth[i][1];e._depth[i][2]<s&&(s=e._depth[i][2]),s<0&&(s=0);for(var a=1;a<3;a++){var c=0;e._depth[i][a]>s&&(c=1),e._depth[i][a]=c}}},dn.prototype.getDelta=function(e){return this._depth[e][ie.RIGHT]-this._depth[e][ie.LEFT]},dn.prototype.getLocation=function(e,i){return this._depth[e][i]<=0?At.EXTERIOR:At.INTERIOR},dn.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},dn.prototype.add=function(){var e=this;if(arguments.length===1)for(var i=arguments[0],s=0;s<2;s++)for(var a=1;a<3;a++){var c=i.getLocation(s,a);c!==At.EXTERIOR&&c!==At.INTERIOR||(e.isNull(s,a)?e._depth[s][a]=dn.depthAtLocation(c):e._depth[s][a]+=dn.depthAtLocation(c))}else if(arguments.length===3){var h=arguments[0],g=arguments[1],y=arguments[2];y===At.INTERIOR&&this._depth[h][g]++}},dn.prototype.interfaces_=function(){return[]},dn.prototype.getClass=function(){return dn},dn.depthAtLocation=function(e){return e===At.EXTERIOR?0:e===At.INTERIOR?1:dn.NULL_VALUE},Tk.NULL_VALUE.get=function(){return-1},Object.defineProperties(dn,Tk);var cv=function(e){function i(){if(e.call(this),this.pts=null,this._env=null,this.eiList=new fa(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new dn,this._depthDelta=0,arguments.length===1){var s=arguments[0];i.call(this,s,null)}else if(arguments.length===2){var a=arguments[0],c=arguments[1];this.pts=a,this._label=c}}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getDepth=function(){return this._depth},i.prototype.getCollapsedEdge=function(){var s=new Array(2).fill(null);return s[0]=this.pts[0],s[1]=this.pts[1],new i(s,ni.toLineLabel(this._label))},i.prototype.isIsolated=function(){return this._isIsolated},i.prototype.getCoordinates=function(){return this.pts},i.prototype.setIsolated=function(s){this._isIsolated=s},i.prototype.setName=function(s){this._name=s},i.prototype.equals=function(s){if(!(s instanceof i))return!1;var a=s;if(this.pts.length!==a.pts.length)return!1;for(var c=!0,h=!0,g=this.pts.length,y=0;y<this.pts.length;y++)if(this.pts[y].equals2D(a.pts[y])||(c=!1),this.pts[y].equals2D(a.pts[--g])||(h=!1),!c&&!h)return!1;return!0},i.prototype.getCoordinate=function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var s=arguments[0];return this.pts[s]}},i.prototype.print=function(s){s.print("edge "+this._name+": "),s.print("LINESTRING (");for(var a=0;a<this.pts.length;a++)a>0&&s.print(","),s.print(this.pts[a].x+" "+this.pts[a].y);s.print(")  "+this._label+" "+this._depthDelta)},i.prototype.computeIM=function(s){i.updateIM(this._label,s)},i.prototype.isCollapsed=function(){return!!this._label.isArea()&&this.pts.length===3&&!!this.pts[0].equals(this.pts[2])},i.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},i.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},i.prototype.getDepthDelta=function(){return this._depthDelta},i.prototype.getNumPoints=function(){return this.pts.length},i.prototype.printReverse=function(s){s.print("edge "+this._name+": ");for(var a=this.pts.length-1;a>=0;a--)s.print(this.pts[a]+" ");s.println("")},i.prototype.getMonotoneChainEdge=function(){return this._mce===null&&(this._mce=new Ka(this)),this._mce},i.prototype.getEnvelope=function(){if(this._env===null){this._env=new Ae;for(var s=0;s<this.pts.length;s++)this._env.expandToInclude(this.pts[s])}return this._env},i.prototype.addIntersection=function(s,a,c,h){var g=new Ct(s.getIntersection(h)),y=a,w=s.getEdgeDistance(c,h),x=y+1;if(x<this.pts.length){var T=this.pts[x];g.equals2D(T)&&(y=x,w=0)}this.eiList.add(g,y,w)},i.prototype.toString=function(){var s=new Es;s.append("edge "+this._name+": "),s.append("LINESTRING (");for(var a=0;a<this.pts.length;a++)a>0&&s.append(","),s.append(this.pts[a].x+" "+this.pts[a].y);return s.append(")  "+this._label+" "+this._depthDelta),s.toString()},i.prototype.isPointwiseEqual=function(s){if(this.pts.length!==s.pts.length)return!1;for(var a=0;a<this.pts.length;a++)if(!this.pts[a].equals2D(s.pts[a]))return!1;return!0},i.prototype.setDepthDelta=function(s){this._depthDelta=s},i.prototype.getEdgeIntersectionList=function(){return this.eiList},i.prototype.addIntersections=function(s,a,c){for(var h=0;h<s.getIntersectionNum();h++)this.addIntersection(s,a,c,h)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i.updateIM=function(){if(arguments.length!==2)return e.prototype.updateIM.apply(this,arguments);var s=arguments[0],a=arguments[1];a.setAtLeastIfValid(s.getLocation(0,ie.ON),s.getLocation(1,ie.ON),1),s.isArea()&&(a.setAtLeastIfValid(s.getLocation(0,ie.LEFT),s.getLocation(1,ie.LEFT),2),a.setAtLeastIfValid(s.getLocation(0,ie.RIGHT),s.getLocation(1,ie.RIGHT),2))},i}(yo),zn=function(e){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new ls,this._bufParams=e||null};zn.prototype.setWorkingPrecisionModel=function(e){this._workingPrecisionModel=e},zn.prototype.insertUniqueEdge=function(e){var i=this._edgeList.findEqualEdge(e);if(i!==null){var s=i.getLabel(),a=e.getLabel();i.isPointwiseEqual(e)||(a=new ni(e.getLabel())).flip(),s.merge(a);var c=zn.depthDelta(a),h=i.getDepthDelta()+c;i.setDepthDelta(h)}else this._edgeList.add(e),e.setDepthDelta(zn.depthDelta(e.getLabel()))},zn.prototype.buildSubgraphs=function(e,i){for(var s=new ce,a=e.iterator();a.hasNext();){var c=a.next(),h=c.getRightmostCoordinate(),g=new Vu(s).getDepth(h);c.computeDepth(g),c.findResultEdges(),s.add(c),i.add(c.getDirectedEdges(),c.getNodes())}},zn.prototype.createSubgraphs=function(e){for(var i=new ce,s=e.getNodes().iterator();s.hasNext();){var a=s.next();if(!a.isVisited()){var c=new An;c.create(a),i.add(c)}}return as.sort(i,as.reverseOrder()),i},zn.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},zn.prototype.getNoder=function(e){if(this._workingNoder!==null)return this._workingNoder;var i=new Bb,s=new Ic;return s.setPrecisionModel(e),i.setSegmentIntersector(new xo(s)),i},zn.prototype.buffer=function(e,i){var s=this._workingPrecisionModel;s===null&&(s=e.getPrecisionModel()),this._geomFact=e.getFactory();var a=new Yn(s,this._bufParams),c=new Fo(e,i,a).getCurves();if(c.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(c,s),this._graph=new Si(new Ek),this._graph.addEdges(this._edgeList.getEdges());var h=this.createSubgraphs(this._graph),g=new ro(this._geomFact);this.buildSubgraphs(h,g);var y=g.getPolygons();return y.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(y)},zn.prototype.computeNodedEdges=function(e,i){var s=this.getNoder(i);s.computeNodes(e);for(var a=s.getNodedSubstrings().iterator();a.hasNext();){var c=a.next(),h=c.getCoordinates();if(h.length!==2||!h[0].equals2D(h[1])){var g=c.getData(),y=new cv(c.getCoordinates(),new ni(g));this.insertUniqueEdge(y)}}},zn.prototype.setNoder=function(e){this._workingNoder=e},zn.prototype.interfaces_=function(){return[]},zn.prototype.getClass=function(){return zn},zn.depthDelta=function(e){var i=e.getLocation(0,ie.LEFT),s=e.getLocation(0,ie.RIGHT);return i===At.INTERIOR&&s===At.EXTERIOR?1:i===At.EXTERIOR&&s===At.INTERIOR?-1:0},zn.convertSegStrings=function(e){for(var i=new ur,s=new ce;e.hasNext();){var a=e.next(),c=i.createLineString(a.getCoordinates());s.add(c)}return i.buildGeometry(s)};var Fl=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var e=arguments[0],i=arguments[1];this._noder=e,this._scaleFactor=i,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(arguments.length===4){var s=arguments[0],a=arguments[1],c=arguments[2],h=arguments[3];this._noder=s,this._scaleFactor=a,this._offsetX=c,this._offsetY=h,this._isScaled=!this.isIntegerPrecision()}};Fl.prototype.rescale=function(){var e=this;if(qe(arguments[0],Ui))for(var i=arguments[0],s=i.iterator();s.hasNext();){var a=s.next();e.rescale(a.getCoordinates())}else if(arguments[0]instanceof Array){for(var c=arguments[0],h=0;h<c.length;h++)c[h].x=c[h].x/e._scaleFactor+e._offsetX,c[h].y=c[h].y/e._scaleFactor+e._offsetY;c.length===2&&c[0].equals2D(c[1])&&hn.out.println(c)}},Fl.prototype.scale=function(){var e=this;if(qe(arguments[0],Ui)){for(var i=arguments[0],s=new ce,a=i.iterator();a.hasNext();){var c=a.next();s.add(new Ai(e.scale(c.getCoordinates()),c.getData()))}return s}if(arguments[0]instanceof Array){for(var h=arguments[0],g=new Array(h.length).fill(null),y=0;y<h.length;y++)g[y]=new Ct(Math.round((h[y].x-e._offsetX)*e._scaleFactor),Math.round((h[y].y-e._offsetY)*e._scaleFactor),h[y].z);var w=cr.removeRepeatedPoints(g);return w}},Fl.prototype.isIntegerPrecision=function(){return this._scaleFactor===1},Fl.prototype.getNodedSubstrings=function(){var e=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(e),e},Fl.prototype.computeNodes=function(e){var i=e;this._isScaled&&(i=this.scale(e)),this._noder.computeNodes(i)},Fl.prototype.interfaces_=function(){return[Ac]},Fl.prototype.getClass=function(){return Fl};var Ds=function(){this._li=new Ic,this._segStrings=null;var e=arguments[0];this._segStrings=e},Sk={fact:{configurable:!0}};Ds.prototype.checkEndPtVertexIntersections=function(){var e=this;if(arguments.length===0)for(var i=this._segStrings.iterator();i.hasNext();){var s=i.next(),a=s.getCoordinates();e.checkEndPtVertexIntersections(a[0],e._segStrings),e.checkEndPtVertexIntersections(a[a.length-1],e._segStrings)}else if(arguments.length===2){for(var c=arguments[0],h=arguments[1],g=h.iterator();g.hasNext();)for(var y=g.next(),w=y.getCoordinates(),x=1;x<w.length-1;x++)if(w[x].equals(c))throw new Ua("found endpt/interior pt intersection at index "+x+" :pt "+c)}},Ds.prototype.checkInteriorIntersections=function(){var e=this;if(arguments.length===0)for(var i=this._segStrings.iterator();i.hasNext();)for(var s=i.next(),a=this._segStrings.iterator();a.hasNext();){var c=a.next();e.checkInteriorIntersections(s,c)}else if(arguments.length===2)for(var h=arguments[0],g=arguments[1],y=h.getCoordinates(),w=g.getCoordinates(),x=0;x<y.length-1;x++)for(var T=0;T<w.length-1;T++)e.checkInteriorIntersections(h,x,g,T);else if(arguments.length===4){var E=arguments[0],P=arguments[1],z=arguments[2],N=arguments[3];if(E===z&&P===N)return null;var B=E.getCoordinates()[P],I=E.getCoordinates()[P+1],W=z.getCoordinates()[N],it=z.getCoordinates()[N+1];if(this._li.computeIntersection(B,I,W,it),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,B,I)||this.hasInteriorIntersection(this._li,W,it)))throw new Ua("found non-noded intersection at "+B+"-"+I+" and "+W+"-"+it)}},Ds.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},Ds.prototype.checkCollapses=function(){var e=this;if(arguments.length===0)for(var i=this._segStrings.iterator();i.hasNext();){var s=i.next();e.checkCollapses(s)}else if(arguments.length===1)for(var a=arguments[0],c=a.getCoordinates(),h=0;h<c.length-2;h++)e.checkCollapse(c[h],c[h+1],c[h+2])},Ds.prototype.hasInteriorIntersection=function(e,i,s){for(var a=0;a<e.getIntersectionNum();a++){var c=e.getIntersection(a);if(!c.equals(i)&&!c.equals(s))return!0}return!1},Ds.prototype.checkCollapse=function(e,i,s){if(e.equals(s))throw new Ua("found non-noded collapse at "+Ds.fact.createLineString([e,i,s]))},Ds.prototype.interfaces_=function(){return[]},Ds.prototype.getClass=function(){return Ds},Sk.fact.get=function(){return new ur},Object.defineProperties(Ds,Sk);var Xn=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var e=arguments[0],i=arguments[1],s=arguments[2];if(this._originalPt=e,this._pt=e,this._scaleFactor=i,this._li=s,i<=0)throw new ki("Scale factor must be non-zero");i!==1&&(this._pt=new Ct(this.scale(e.x),this.scale(e.y)),this._p0Scaled=new Ct,this._p1Scaled=new Ct),this.initCorners(this._pt)},Ck={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};Xn.prototype.intersectsScaled=function(e,i){var s=Math.min(e.x,i.x),a=Math.max(e.x,i.x),c=Math.min(e.y,i.y),h=Math.max(e.y,i.y),g=this._maxx<s||this._minx>a||this._maxy<c||this._miny>h;if(g)return!1;var y=this.intersectsToleranceSquare(e,i);return rr.isTrue(!(g&&y),"Found bad envelope test"),y},Xn.prototype.initCorners=function(e){var i=.5;this._minx=e.x-i,this._maxx=e.x+i,this._miny=e.y-i,this._maxy=e.y+i,this._corner[0]=new Ct(this._maxx,this._maxy),this._corner[1]=new Ct(this._minx,this._maxy),this._corner[2]=new Ct(this._minx,this._miny),this._corner[3]=new Ct(this._maxx,this._miny)},Xn.prototype.intersects=function(e,i){return this._scaleFactor===1?this.intersectsScaled(e,i):(this.copyScaled(e,this._p0Scaled),this.copyScaled(i,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},Xn.prototype.scale=function(e){return Math.round(e*this._scaleFactor)},Xn.prototype.getCoordinate=function(){return this._originalPt},Xn.prototype.copyScaled=function(e,i){i.x=this.scale(e.x),i.y=this.scale(e.y)},Xn.prototype.getSafeEnvelope=function(){if(this._safeEnv===null){var e=Xn.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Ae(this._originalPt.x-e,this._originalPt.x+e,this._originalPt.y-e,this._originalPt.y+e)}return this._safeEnv},Xn.prototype.intersectsPixelClosure=function(e,i){return this._li.computeIntersection(e,i,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,i,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,i,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,i,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))},Xn.prototype.intersectsToleranceSquare=function(e,i){var s=!1,a=!1;return this._li.computeIntersection(e,i,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(e,i,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(s=!0),this._li.computeIntersection(e,i,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(a=!0),this._li.computeIntersection(e,i,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!s||!a)||!!e.equals(this._pt)||!!i.equals(this._pt))))},Xn.prototype.addSnappedNode=function(e,i){var s=e.getCoordinate(i),a=e.getCoordinate(i+1);return!!this.intersects(s,a)&&(e.addIntersection(this.getCoordinate(),i),!0)},Xn.prototype.interfaces_=function(){return[]},Xn.prototype.getClass=function(){return Xn},Ck.SAFE_ENV_EXPANSION_FACTOR.get=function(){return .75},Object.defineProperties(Xn,Ck);var Pf=function(){this.tempEnv1=new Ae,this.selectedSegment=new ze};Pf.prototype.select=function(){if(arguments.length!==1){if(arguments.length===2){var e=arguments[0],i=arguments[1];e.getLineSegment(i,this.selectedSegment),this.select(this.selectedSegment)}}},Pf.prototype.interfaces_=function(){return[]},Pf.prototype.getClass=function(){return Pf};var xd=function(){this._index=null;var e=arguments[0];this._index=e},Pk={HotPixelSnapAction:{configurable:!0}};xd.prototype.snap=function(){if(arguments.length===1){var e=arguments[0];return this.snap(e,null,-1)}if(arguments.length===3){var i=arguments[0],s=arguments[1],a=arguments[2],c=i.getSafeEnvelope(),h=new Mk(i,s,a);return this._index.query(c,{interfaces_:function(){return[zl]},visitItem:function(g){g.select(c,h)}}),h.isNodeAdded()}},xd.prototype.interfaces_=function(){return[]},xd.prototype.getClass=function(){return xd},Pk.HotPixelSnapAction.get=function(){return Mk},Object.defineProperties(xd,Pk);var Mk=function(e){function i(){e.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var s=arguments[0],a=arguments[1],c=arguments[2];this._hotPixel=s,this._parentEdge=a,this._hotPixelVertexIndex=c}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.isNodeAdded=function(){return this._isNodeAdded},i.prototype.select=function(){if(arguments.length!==2)return e.prototype.select.apply(this,arguments);var s=arguments[0],a=arguments[1],c=s.getContext();if(this._parentEdge!==null&&c===this._parentEdge&&a===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(c,a)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(Pf),Wu=function(){this._li=null,this._interiorIntersections=null;var e=arguments[0];this._li=e,this._interiorIntersections=new ce};Wu.prototype.processIntersections=function(e,i,s,a){if(e===s&&i===a)return null;var c=e.getCoordinates()[i],h=e.getCoordinates()[i+1],g=s.getCoordinates()[a],y=s.getCoordinates()[a+1];if(this._li.computeIntersection(c,h,g,y),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var w=0;w<this._li.getIntersectionNum();w++)this._interiorIntersections.add(this._li.getIntersection(w));e.addIntersections(this._li,i,0),s.addIntersections(this._li,a,1)}},Wu.prototype.isDone=function(){return!1},Wu.prototype.getInteriorIntersections=function(){return this._interiorIntersections},Wu.prototype.interfaces_=function(){return[zc]},Wu.prototype.getClass=function(){return Wu};var ga=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var e=arguments[0];this._pm=e,this._li=new Ic,this._li.setPrecisionModel(e),this._scaleFactor=e.getScale()};ga.prototype.checkCorrectness=function(e){var i=Ai.getNodedSubstrings(e),s=new Ds(i);try{s.checkValid()}catch(a){if(!(a instanceof lk))throw a;a.printStackTrace()}},ga.prototype.getNodedSubstrings=function(){return Ai.getNodedSubstrings(this._nodedSegStrings)},ga.prototype.snapRound=function(e,i){var s=this.findInteriorIntersections(e,i);this.computeIntersectionSnaps(s),this.computeVertexSnaps(e)},ga.prototype.findInteriorIntersections=function(e,i){var s=new Wu(i);return this._noder.setSegmentIntersector(s),this._noder.computeNodes(e),s.getInteriorIntersections()},ga.prototype.computeVertexSnaps=function(){var e=this;if(qe(arguments[0],Ui))for(var i=arguments[0],s=i.iterator();s.hasNext();){var a=s.next();e.computeVertexSnaps(a)}else if(arguments[0]instanceof Ai)for(var c=arguments[0],h=c.getCoordinates(),g=0;g<h.length;g++){var y=new Xn(h[g],e._scaleFactor,e._li),w=e._pointSnapper.snap(y,c,g);w&&c.addIntersection(h[g],g)}},ga.prototype.computeNodes=function(e){this._nodedSegStrings=e,this._noder=new Bb,this._pointSnapper=new xd(this._noder.getIndex()),this.snapRound(e,this._li)},ga.prototype.computeIntersectionSnaps=function(e){for(var i=this,s=e.iterator();s.hasNext();){var a=s.next(),c=new Xn(a,i._scaleFactor,i._li);i._pointSnapper.snap(c)}},ga.prototype.interfaces_=function(){return[Ac]},ga.prototype.getClass=function(){return ga};var pn=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Qr,this._resultGeometry=null,this._saveException=null,arguments.length===1){var e=arguments[0];this._argGeom=e}else if(arguments.length===2){var i=arguments[0],s=arguments[1];this._argGeom=i,this._bufParams=s}},_d={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};pn.prototype.bufferFixedPrecision=function(e){var i=new Fl(new ga(new Jr(1)),e.getScale()),s=new zn(this._bufParams);s.setWorkingPrecisionModel(e),s.setNoder(i),this._resultGeometry=s.buffer(this._argGeom,this._distance)},pn.prototype.bufferReducedPrecision=function(){var e=this;if(arguments.length===0){for(var i=pn.MAX_PRECISION_DIGITS;i>=0;i--){try{e.bufferReducedPrecision(i)}catch(h){if(!(h instanceof Za))throw h;e._saveException=h}if(e._resultGeometry!==null)return null}throw this._saveException}if(arguments.length===1){var s=arguments[0],a=pn.precisionScaleFactor(this._argGeom,this._distance,s),c=new Jr(a);this.bufferFixedPrecision(c)}},pn.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var e=this._argGeom.getFactory().getPrecisionModel();e.getType()===Jr.FIXED?this.bufferFixedPrecision(e):this.bufferReducedPrecision()},pn.prototype.setQuadrantSegments=function(e){this._bufParams.setQuadrantSegments(e)},pn.prototype.bufferOriginalPrecision=function(){try{var e=new zn(this._bufParams);this._resultGeometry=e.buffer(this._argGeom,this._distance)}catch(i){if(!(i instanceof Ua))throw i;this._saveException=i}},pn.prototype.getResultGeometry=function(e){return this._distance=e,this.computeGeometry(),this._resultGeometry},pn.prototype.setEndCapStyle=function(e){this._bufParams.setEndCapStyle(e)},pn.prototype.interfaces_=function(){return[]},pn.prototype.getClass=function(){return pn},pn.bufferOp=function(){if(arguments.length===2){var e=arguments[0],i=arguments[1],s=new pn(e),a=s.getResultGeometry(i);return a}if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Ue&&typeof arguments[1]=="number"){var c=arguments[0],h=arguments[1],g=arguments[2],y=new pn(c);y.setQuadrantSegments(g);var w=y.getResultGeometry(h);return w}if(arguments[2]instanceof Qr&&arguments[0]instanceof Ue&&typeof arguments[1]=="number"){var x=arguments[0],T=arguments[1],E=arguments[2],P=new pn(x,E),z=P.getResultGeometry(T);return z}}else if(arguments.length===4){var N=arguments[0],B=arguments[1],I=arguments[2],W=arguments[3],it=new pn(N);it.setQuadrantSegments(I),it.setEndCapStyle(W);var D=it.getResultGeometry(B);return D}},pn.precisionScaleFactor=function(e,i,s){var a=e.getEnvelopeInternal(),c=vo.max(Math.abs(a.getMaxX()),Math.abs(a.getMaxY()),Math.abs(a.getMinX()),Math.abs(a.getMinY()))+2*(i>0?i:0),h=s-Math.trunc(Math.log(c)/Math.log(10)+1);return Math.pow(10,h)},_d.CAP_ROUND.get=function(){return Qr.CAP_ROUND},_d.CAP_BUTT.get=function(){return Qr.CAP_FLAT},_d.CAP_FLAT.get=function(){return Qr.CAP_FLAT},_d.CAP_SQUARE.get=function(){return Qr.CAP_SQUARE},_d.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(pn,_d);var Nn=function(){this._pt=[new Ct,new Ct],this._distance=Qe.NaN,this._isNull=!0};Nn.prototype.getCoordinates=function(){return this._pt},Nn.prototype.getCoordinate=function(e){return this._pt[e]},Nn.prototype.setMinimum=function(){if(arguments.length===1){var e=arguments[0];this.setMinimum(e._pt[0],e._pt[1])}else if(arguments.length===2){var i=arguments[0],s=arguments[1];if(this._isNull)return this.initialize(i,s),null;var a=i.distance(s);a<this._distance&&this.initialize(i,s,a)}},Nn.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var e=arguments[0],i=arguments[1];this._pt[0].setCoordinate(e),this._pt[1].setCoordinate(i),this._distance=e.distance(i),this._isNull=!1}else if(arguments.length===3){var s=arguments[0],a=arguments[1],c=arguments[2];this._pt[0].setCoordinate(s),this._pt[1].setCoordinate(a),this._distance=c,this._isNull=!1}},Nn.prototype.getDistance=function(){return this._distance},Nn.prototype.setMaximum=function(){if(arguments.length===1){var e=arguments[0];this.setMaximum(e._pt[0],e._pt[1])}else if(arguments.length===2){var i=arguments[0],s=arguments[1];if(this._isNull)return this.initialize(i,s),null;var a=i.distance(s);a>this._distance&&this.initialize(i,s,a)}},Nn.prototype.interfaces_=function(){return[]},Nn.prototype.getClass=function(){return Nn};var ma=function(){};ma.prototype.interfaces_=function(){return[]},ma.prototype.getClass=function(){return ma},ma.computeDistance=function(){if(arguments[2]instanceof Nn&&arguments[0]instanceof Mi&&arguments[1]instanceof Ct)for(var e=arguments[0],i=arguments[1],s=arguments[2],a=e.getCoordinates(),c=new ze,h=0;h<a.length-1;h++){c.setCoordinates(a[h],a[h+1]);var g=c.closestPoint(i);s.setMinimum(g,i)}else if(arguments[2]instanceof Nn&&arguments[0]instanceof Gi&&arguments[1]instanceof Ct){var y=arguments[0],w=arguments[1],x=arguments[2];ma.computeDistance(y.getExteriorRing(),w,x);for(var T=0;T<y.getNumInteriorRing();T++)ma.computeDistance(y.getInteriorRingN(T),w,x)}else if(arguments[2]instanceof Nn&&arguments[0]instanceof Ue&&arguments[1]instanceof Ct){var E=arguments[0],P=arguments[1],z=arguments[2];if(E instanceof Mi)ma.computeDistance(E,P,z);else if(E instanceof Gi)ma.computeDistance(E,P,z);else if(E instanceof Rn)for(var N=E,B=0;B<N.getNumGeometries();B++){var I=N.getGeometryN(B);ma.computeDistance(I,P,z)}else z.setMinimum(E.getCoordinate(),P)}else if(arguments[2]instanceof Nn&&arguments[0]instanceof ze&&arguments[1]instanceof Ct){var W=arguments[0],it=arguments[1],D=arguments[2],q=W.closestPoint(it);D.setMinimum(q,it)}};var Dc=function(e){this._maxPtDist=new Nn,this._inputGeom=e||null},jb={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};Dc.prototype.computeMaxMidpointDistance=function(e){var i=new Bl(this._inputGeom);e.apply(i),this._maxPtDist.setMaximum(i.getMaxPointDistance())},Dc.prototype.computeMaxVertexDistance=function(e){var i=new Zu(this._inputGeom);e.apply(i),this._maxPtDist.setMaximum(i.getMaxPointDistance())},Dc.prototype.findDistance=function(e){return this.computeMaxVertexDistance(e),this.computeMaxMidpointDistance(e),this._maxPtDist.getDistance()},Dc.prototype.getDistancePoints=function(){return this._maxPtDist},Dc.prototype.interfaces_=function(){return[]},Dc.prototype.getClass=function(){return Dc},jb.MaxPointDistanceFilter.get=function(){return Zu},jb.MaxMidpointDistanceFilter.get=function(){return Bl},Object.defineProperties(Dc,jb);var Zu=function(e){this._maxPtDist=new Nn,this._minPtDist=new Nn,this._geom=e||null};Zu.prototype.filter=function(e){this._minPtDist.initialize(),ma.computeDistance(this._geom,e,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Zu.prototype.getMaxPointDistance=function(){return this._maxPtDist},Zu.prototype.interfaces_=function(){return[la]},Zu.prototype.getClass=function(){return Zu};var Bl=function(e){this._maxPtDist=new Nn,this._minPtDist=new Nn,this._geom=e||null};Bl.prototype.filter=function(e,i){if(i===0)return null;var s=e.getCoordinate(i-1),a=e.getCoordinate(i),c=new Ct((s.x+a.x)/2,(s.y+a.y)/2);this._minPtDist.initialize(),ma.computeDistance(this._geom,c,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Bl.prototype.isDone=function(){return!1},Bl.prototype.isGeometryChanged=function(){return!1},Bl.prototype.getMaxPointDistance=function(){return this._maxPtDist},Bl.prototype.interfaces_=function(){return[os]},Bl.prototype.getClass=function(){return Bl};var Ja=function(e){this._comps=e||null};Ja.prototype.filter=function(e){e instanceof Gi&&this._comps.add(e)},Ja.prototype.interfaces_=function(){return[Ms]},Ja.prototype.getClass=function(){return Ja},Ja.getPolygons=function(){if(arguments.length===1){var e=arguments[0];return Ja.getPolygons(e,new ce)}if(arguments.length===2){var i=arguments[0],s=arguments[1];return i instanceof Gi?s.add(i):i instanceof Rn&&i.apply(new Ja(s)),s}};var fn=function(){if(this._lines=null,this._isForcedToLineString=!1,arguments.length===1){var e=arguments[0];this._lines=e}else if(arguments.length===2){var i=arguments[0],s=arguments[1];this._lines=i,this._isForcedToLineString=s}};fn.prototype.filter=function(e){if(this._isForcedToLineString&&e instanceof ca){var i=e.getFactory().createLineString(e.getCoordinateSequence());return this._lines.add(i),null}e instanceof Mi&&this._lines.add(e)},fn.prototype.setForceToLineString=function(e){this._isForcedToLineString=e},fn.prototype.interfaces_=function(){return[Ga]},fn.prototype.getClass=function(){return fn},fn.getGeometry=function(){if(arguments.length===1){var e=arguments[0];return e.getFactory().buildGeometry(fn.getLines(e))}if(arguments.length===2){var i=arguments[0],s=arguments[1];return i.getFactory().buildGeometry(fn.getLines(i,s))}},fn.getLines=function(){if(arguments.length===1){var e=arguments[0];return fn.getLines(e,!1)}if(arguments.length===2){if(qe(arguments[0],Ui)&&qe(arguments[1],Ui)){for(var i=arguments[0],s=arguments[1],a=i.iterator();a.hasNext();){var c=a.next();fn.getLines(c,s)}return s}if(arguments[0]instanceof Ue&&typeof arguments[1]=="boolean"){var h=arguments[0],g=arguments[1],y=new ce;return h.apply(new fn(y,g)),y}if(arguments[0]instanceof Ue&&qe(arguments[1],Ui)){var w=arguments[0],x=arguments[1];return w instanceof Mi?x.add(w):w.apply(new fn(x)),x}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&qe(arguments[0],Ui)&&qe(arguments[1],Ui)){for(var T=arguments[0],E=arguments[1],P=arguments[2],z=T.iterator();z.hasNext();){var N=z.next();fn.getLines(N,E,P)}return E}if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Ue&&qe(arguments[1],Ui)){var B=arguments[0],I=arguments[1],W=arguments[2];return B.apply(new fn(I,W)),I}}};var cs=function(){if(this._boundaryRule=Oo.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,arguments.length!==0){if(arguments.length===1){var e=arguments[0];if(e===null)throw new ki("Rule must be non-null");this._boundaryRule=e}}};cs.prototype.locateInternal=function(){var e=this;if(arguments[0]instanceof Ct&&arguments[1]instanceof Gi){var i=arguments[0],s=arguments[1];if(s.isEmpty())return At.EXTERIOR;var a=s.getExteriorRing(),c=this.locateInPolygonRing(i,a);if(c===At.EXTERIOR)return At.EXTERIOR;if(c===At.BOUNDARY)return At.BOUNDARY;for(var h=0;h<s.getNumInteriorRing();h++){var g=s.getInteriorRingN(h),y=e.locateInPolygonRing(i,g);if(y===At.INTERIOR)return At.EXTERIOR;if(y===At.BOUNDARY)return At.BOUNDARY}return At.INTERIOR}if(arguments[0]instanceof Ct&&arguments[1]instanceof Mi){var w=arguments[0],x=arguments[1];if(!x.getEnvelopeInternal().intersects(w))return At.EXTERIOR;var T=x.getCoordinates();return x.isClosed()||!w.equals(T[0])&&!w.equals(T[T.length-1])?ge.isOnLine(w,T)?At.INTERIOR:At.EXTERIOR:At.BOUNDARY}if(arguments[0]instanceof Ct&&arguments[1]instanceof eo){var E=arguments[0],P=arguments[1],z=P.getCoordinate();return z.equals2D(E)?At.INTERIOR:At.EXTERIOR}},cs.prototype.locateInPolygonRing=function(e,i){return i.getEnvelopeInternal().intersects(e)?ge.locatePointInRing(e,i.getCoordinates()):At.EXTERIOR},cs.prototype.intersects=function(e,i){return this.locate(e,i)!==At.EXTERIOR},cs.prototype.updateLocationInfo=function(e){e===At.INTERIOR&&(this._isIn=!0),e===At.BOUNDARY&&this._numBoundaries++},cs.prototype.computeLocation=function(e,i){var s=this;if(i instanceof eo&&this.updateLocationInfo(this.locateInternal(e,i)),i instanceof Mi)this.updateLocationInfo(this.locateInternal(e,i));else if(i instanceof Gi)this.updateLocationInfo(this.locateInternal(e,i));else if(i instanceof Rc)for(var a=i,c=0;c<a.getNumGeometries();c++){var h=a.getGeometryN(c);s.updateLocationInfo(s.locateInternal(e,h))}else if(i instanceof ua)for(var g=i,y=0;y<g.getNumGeometries();y++){var w=g.getGeometryN(y);s.updateLocationInfo(s.locateInternal(e,w))}else if(i instanceof Rn)for(var x=new pa(i);x.hasNext();){var T=x.next();T!==i&&s.computeLocation(e,T)}},cs.prototype.locate=function(e,i){return i.isEmpty()?At.EXTERIOR:i instanceof Mi||i instanceof Gi?this.locateInternal(e,i):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(e,i),this._boundaryRule.isInBoundary(this._numBoundaries)?At.BOUNDARY:this._numBoundaries>0||this._isIn?At.INTERIOR:At.EXTERIOR)},cs.prototype.interfaces_=function(){return[]},cs.prototype.getClass=function(){return cs};var Dn=function e(){if(this._component=null,this._segIndex=null,this._pt=null,arguments.length===2){var i=arguments[0],s=arguments[1];e.call(this,i,e.INSIDE_AREA,s)}else if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2];this._component=a,this._segIndex=c,this._pt=h}},Ik={INSIDE_AREA:{configurable:!0}};Dn.prototype.isInsideArea=function(){return this._segIndex===Dn.INSIDE_AREA},Dn.prototype.getCoordinate=function(){return this._pt},Dn.prototype.getGeometryComponent=function(){return this._component},Dn.prototype.getSegmentIndex=function(){return this._segIndex},Dn.prototype.interfaces_=function(){return[]},Dn.prototype.getClass=function(){return Dn},Ik.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Dn,Ik);var jl=function(e){this._pts=e||null};jl.prototype.filter=function(e){e instanceof eo&&this._pts.add(e)},jl.prototype.interfaces_=function(){return[Ms]},jl.prototype.getClass=function(){return jl},jl.getPoints=function(){if(arguments.length===1){var e=arguments[0];return e instanceof eo?as.singletonList(e):jl.getPoints(e,new ce)}if(arguments.length===2){var i=arguments[0],s=arguments[1];return i instanceof eo?s.add(i):i instanceof Rn&&i.apply(new jl(s)),s}};var Yu=function(){this._locations=null;var e=arguments[0];this._locations=e};Yu.prototype.filter=function(e){(e instanceof eo||e instanceof Mi||e instanceof Gi)&&this._locations.add(new Dn(e,0,e.getCoordinate()))},Yu.prototype.interfaces_=function(){return[Ms]},Yu.prototype.getClass=function(){return Yu},Yu.getLocations=function(e){var i=new ce;return e.apply(new Yu(i)),i};var gn=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new cs,this._minDistanceLocation=null,this._minDistance=Qe.MAX_VALUE,arguments.length===2){var e=arguments[0],i=arguments[1];this._geom=[e,i],this._terminateDistance=0}else if(arguments.length===3){var s=arguments[0],a=arguments[1],c=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=s,this._geom[1]=a,this._terminateDistance=c}};gn.prototype.computeContainmentDistance=function(){var e=this;if(arguments.length===0){var i=new Array(2).fill(null);if(this.computeContainmentDistance(0,i),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,i)}else if(arguments.length===2){var s=arguments[0],a=arguments[1],c=1-s,h=Ja.getPolygons(this._geom[s]);if(h.size()>0){var g=Yu.getLocations(this._geom[c]);if(this.computeContainmentDistance(g,h,a),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[c]=a[0],this._minDistanceLocation[s]=a[1],null}}else if(arguments.length===3){if(arguments[2]instanceof Array&&qe(arguments[0],is)&&qe(arguments[1],is)){for(var y=arguments[0],w=arguments[1],x=arguments[2],T=0;T<y.size();T++)for(var E=y.get(T),P=0;P<w.size();P++)if(e.computeContainmentDistance(E,w.get(P),x),e._minDistance<=e._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Dn&&arguments[1]instanceof Gi){var z=arguments[0],N=arguments[1],B=arguments[2],I=z.getCoordinate();if(At.EXTERIOR!==this._ptLocator.locate(I,N))return this._minDistance=0,B[0]=z,B[1]=new Dn(N,I),null}}},gn.prototype.computeMinDistanceLinesPoints=function(e,i,s){for(var a=this,c=0;c<e.size();c++)for(var h=e.get(c),g=0;g<i.size();g++){var y=i.get(g);if(a.computeMinDistance(h,y,s),a._minDistance<=a._terminateDistance)return null}},gn.prototype.computeFacetDistance=function(){var e=new Array(2).fill(null),i=fn.getLines(this._geom[0]),s=fn.getLines(this._geom[1]),a=jl.getPoints(this._geom[0]),c=jl.getPoints(this._geom[1]);return this.computeMinDistanceLines(i,s,e),this.updateMinDistance(e,!1),this._minDistance<=this._terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistanceLinesPoints(i,c,e),this.updateMinDistance(e,!1),this._minDistance<=this._terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistanceLinesPoints(s,a,e),this.updateMinDistance(e,!0),this._minDistance<=this._terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistancePoints(a,c,e),void this.updateMinDistance(e,!1))))},gn.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},gn.prototype.updateMinDistance=function(e,i){if(e[0]===null)return null;i?(this._minDistanceLocation[0]=e[1],this._minDistanceLocation[1]=e[0]):(this._minDistanceLocation[0]=e[0],this._minDistanceLocation[1]=e[1])},gn.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},gn.prototype.computeMinDistance=function(){var e=this;if(arguments.length===0){if(this._minDistanceLocation!==null||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance))return null;this.computeFacetDistance()}else if(arguments.length===3){if(arguments[2]instanceof Array&&arguments[0]instanceof Mi&&arguments[1]instanceof eo){var i=arguments[0],s=arguments[1],a=arguments[2];if(i.getEnvelopeInternal().distance(s.getEnvelopeInternal())>this._minDistance)return null;for(var c=i.getCoordinates(),h=s.getCoordinate(),g=0;g<c.length-1;g++){var y=ge.distancePointLine(h,c[g],c[g+1]);if(y<e._minDistance){e._minDistance=y;var w=new ze(c[g],c[g+1]),x=w.closestPoint(h);a[0]=new Dn(i,g,x),a[1]=new Dn(s,0,h)}if(e._minDistance<=e._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Mi&&arguments[1]instanceof Mi){var T=arguments[0],E=arguments[1],P=arguments[2];if(T.getEnvelopeInternal().distance(E.getEnvelopeInternal())>this._minDistance)return null;for(var z=T.getCoordinates(),N=E.getCoordinates(),B=0;B<z.length-1;B++)for(var I=0;I<N.length-1;I++){var W=ge.distanceLineLine(z[B],z[B+1],N[I],N[I+1]);if(W<e._minDistance){e._minDistance=W;var it=new ze(z[B],z[B+1]),D=new ze(N[I],N[I+1]),q=it.closestPoints(D);P[0]=new Dn(T,B,q[0]),P[1]=new Dn(E,I,q[1])}if(e._minDistance<=e._terminateDistance)return null}}}},gn.prototype.computeMinDistancePoints=function(e,i,s){for(var a=this,c=0;c<e.size();c++)for(var h=e.get(c),g=0;g<i.size();g++){var y=i.get(g),w=h.getCoordinate().distance(y.getCoordinate());if(w<a._minDistance&&(a._minDistance=w,s[0]=new Dn(h,0,h.getCoordinate()),s[1]=new Dn(y,0,y.getCoordinate())),a._minDistance<=a._terminateDistance)return null}},gn.prototype.distance=function(){if(this._geom[0]===null||this._geom[1]===null)throw new ki("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},gn.prototype.computeMinDistanceLines=function(e,i,s){for(var a=this,c=0;c<e.size();c++)for(var h=e.get(c),g=0;g<i.size();g++){var y=i.get(g);if(a.computeMinDistance(h,y,s),a._minDistance<=a._terminateDistance)return null}},gn.prototype.interfaces_=function(){return[]},gn.prototype.getClass=function(){return gn},gn.distance=function(e,i){return new gn(e,i).distance()},gn.isWithinDistance=function(e,i,s){return new gn(e,i,s).distance()<=s},gn.nearestPoints=function(e,i){return new gn(e,i).nearestPoints()};var En=function(){this._pt=[new Ct,new Ct],this._distance=Qe.NaN,this._isNull=!0};En.prototype.getCoordinates=function(){return this._pt},En.prototype.getCoordinate=function(e){return this._pt[e]},En.prototype.setMinimum=function(){if(arguments.length===1){var e=arguments[0];this.setMinimum(e._pt[0],e._pt[1])}else if(arguments.length===2){var i=arguments[0],s=arguments[1];if(this._isNull)return this.initialize(i,s),null;var a=i.distance(s);a<this._distance&&this.initialize(i,s,a)}},En.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var e=arguments[0],i=arguments[1];this._pt[0].setCoordinate(e),this._pt[1].setCoordinate(i),this._distance=e.distance(i),this._isNull=!1}else if(arguments.length===3){var s=arguments[0],a=arguments[1],c=arguments[2];this._pt[0].setCoordinate(s),this._pt[1].setCoordinate(a),this._distance=c,this._isNull=!1}},En.prototype.toString=function(){return rs.toLineString(this._pt[0],this._pt[1])},En.prototype.getDistance=function(){return this._distance},En.prototype.setMaximum=function(){if(arguments.length===1){var e=arguments[0];this.setMaximum(e._pt[0],e._pt[1])}else if(arguments.length===2){var i=arguments[0],s=arguments[1];if(this._isNull)return this.initialize(i,s),null;var a=i.distance(s);a>this._distance&&this.initialize(i,s,a)}},En.prototype.interfaces_=function(){return[]},En.prototype.getClass=function(){return En};var Fs=function(){};Fs.prototype.interfaces_=function(){return[]},Fs.prototype.getClass=function(){return Fs},Fs.computeDistance=function(){if(arguments[2]instanceof En&&arguments[0]instanceof Mi&&arguments[1]instanceof Ct)for(var e=arguments[0],i=arguments[1],s=arguments[2],a=new ze,c=e.getCoordinates(),h=0;h<c.length-1;h++){a.setCoordinates(c[h],c[h+1]);var g=a.closestPoint(i);s.setMinimum(g,i)}else if(arguments[2]instanceof En&&arguments[0]instanceof Gi&&arguments[1]instanceof Ct){var y=arguments[0],w=arguments[1],x=arguments[2];Fs.computeDistance(y.getExteriorRing(),w,x);for(var T=0;T<y.getNumInteriorRing();T++)Fs.computeDistance(y.getInteriorRingN(T),w,x)}else if(arguments[2]instanceof En&&arguments[0]instanceof Ue&&arguments[1]instanceof Ct){var E=arguments[0],P=arguments[1],z=arguments[2];if(E instanceof Mi)Fs.computeDistance(E,P,z);else if(E instanceof Gi)Fs.computeDistance(E,P,z);else if(E instanceof Rn)for(var N=E,B=0;B<N.getNumGeometries();B++){var I=N.getGeometryN(B);Fs.computeDistance(I,P,z)}else z.setMinimum(E.getCoordinate(),P)}else if(arguments[2]instanceof En&&arguments[0]instanceof ze&&arguments[1]instanceof Ct){var W=arguments[0],it=arguments[1],D=arguments[2],q=W.closestPoint(it);D.setMinimum(q,it)}};var Bo=function(){this._g0=null,this._g1=null,this._ptDist=new En,this._densifyFrac=0;var e=arguments[0],i=arguments[1];this._g0=e,this._g1=i},Hb={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Bo.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Bo.prototype.setDensifyFraction=function(e){if(e>1||e<=0)throw new ki("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=e},Bo.prototype.compute=function(e,i){this.computeOrientedDistance(e,i,this._ptDist),this.computeOrientedDistance(i,e,this._ptDist)},Bo.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Bo.prototype.computeOrientedDistance=function(e,i,s){var a=new Xu(i);if(e.apply(a),s.setMaximum(a.getMaxPointDistance()),this._densifyFrac>0){var c=new Hl(i,this._densifyFrac);e.apply(c),s.setMaximum(c.getMaxPointDistance())}},Bo.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Bo.prototype.interfaces_=function(){return[]},Bo.prototype.getClass=function(){return Bo},Bo.distance=function(){if(arguments.length===2){var e=arguments[0],i=arguments[1],s=new Bo(e,i);return s.distance()}if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2],g=new Bo(a,c);return g.setDensifyFraction(h),g.distance()}},Hb.MaxPointDistanceFilter.get=function(){return Xu},Hb.MaxDensifiedByFractionDistanceFilter.get=function(){return Hl},Object.defineProperties(Bo,Hb);var Xu=function(){this._maxPtDist=new En,this._minPtDist=new En,this._euclideanDist=new Fs,this._geom=null;var e=arguments[0];this._geom=e};Xu.prototype.filter=function(e){this._minPtDist.initialize(),Fs.computeDistance(this._geom,e,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Xu.prototype.getMaxPointDistance=function(){return this._maxPtDist},Xu.prototype.interfaces_=function(){return[la]},Xu.prototype.getClass=function(){return Xu};var Hl=function(){this._maxPtDist=new En,this._minPtDist=new En,this._geom=null,this._numSubSegs=0;var e=arguments[0],i=arguments[1];this._geom=e,this._numSubSegs=Math.trunc(Math.round(1/i))};Hl.prototype.filter=function(e,i){var s=this;if(i===0)return null;for(var a=e.getCoordinate(i-1),c=e.getCoordinate(i),h=(c.x-a.x)/this._numSubSegs,g=(c.y-a.y)/this._numSubSegs,y=0;y<this._numSubSegs;y++){var w=a.x+y*h,x=a.y+y*g,T=new Ct(w,x);s._minPtDist.initialize(),Fs.computeDistance(s._geom,T,s._minPtDist),s._maxPtDist.setMaximum(s._minPtDist)}},Hl.prototype.isDone=function(){return!1},Hl.prototype.isGeometryChanged=function(){return!1},Hl.prototype.getMaxPointDistance=function(){return this._maxPtDist},Hl.prototype.interfaces_=function(){return[os]},Hl.prototype.getClass=function(){return Hl};var no=function(e,i,s){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=e||null,this._bufDistance=i||null,this._result=s||null},Ub={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};no.prototype.checkMaximumDistance=function(e,i,s){var a=new Bo(i,e);if(a.setDensifyFraction(.25),this._maxDistanceFound=a.orientedDistance(),this._maxDistanceFound>s){this._isValid=!1;var c=a.getCoordinates();this._errorLocation=c[1],this._errorIndicator=e.getFactory().createLineString(c),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+rs.toLineString(c[0],c[1])+")"}},no.prototype.isValid=function(){var e=Math.abs(this._bufDistance),i=no.MAX_DISTANCE_DIFF_FRAC*e;return this._minValidDistance=e-i,this._maxValidDistance=e+i,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),no.VERBOSE&&hn.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},no.prototype.checkNegativeValid=function(){if(!(this._input instanceof Gi||this._input instanceof ua||this._input instanceof Rn))return null;var e=this.getPolygonLines(this._input);if(this.checkMinimumDistance(e,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(e,this._result,this._maxValidDistance)},no.prototype.getErrorIndicator=function(){return this._errorIndicator},no.prototype.checkMinimumDistance=function(e,i,s){var a=new gn(e,i,s);if(this._minDistanceFound=a.distance(),this._minDistanceFound<s){this._isValid=!1;var c=a.nearestPoints();this._errorLocation=a.nearestPoints()[1],this._errorIndicator=e.getFactory().createLineString(c),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+rs.toLineString(c[0],c[1])+" )"}},no.prototype.checkPositiveValid=function(){var e=this._result.getBoundary();if(this.checkMinimumDistance(this._input,e,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,e,this._maxValidDistance)},no.prototype.getErrorLocation=function(){return this._errorLocation},no.prototype.getPolygonLines=function(e){for(var i=new ce,s=new fn(i),a=Ja.getPolygons(e).iterator();a.hasNext();)a.next().apply(s);return e.getFactory().buildGeometry(i)},no.prototype.getErrorMessage=function(){return this._errMsg},no.prototype.interfaces_=function(){return[]},no.prototype.getClass=function(){return no},Ub.VERBOSE.get=function(){return!1},Ub.MAX_DISTANCE_DIFF_FRAC.get=function(){return .012},Object.defineProperties(no,Ub);var mn=function(e,i,s){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=e||null,this._distance=i||null,this._result=s||null},Gb={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};mn.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},mn.prototype.checkEnvelope=function(){if(this._distance<0)return null;var e=this._distance*mn.MAX_ENV_DIFF_FRAC;e===0&&(e=.001);var i=new Ae(this._input.getEnvelopeInternal());i.expandBy(this._distance);var s=new Ae(this._result.getEnvelopeInternal());s.expandBy(e),s.contains(i)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(s)),this.report("Envelope")},mn.prototype.checkDistance=function(){var e=new no(this._input,this._distance,this._result);e.isValid()||(this._isValid=!1,this._errorMsg=e.getErrorMessage(),this._errorLocation=e.getErrorLocation(),this._errorIndicator=e.getErrorIndicator()),this.report("Distance")},mn.prototype.checkArea=function(){var e=this._input.getArea(),i=this._result.getArea();this._distance>0&&e>i&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&e<i&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},mn.prototype.checkPolygonal=function(){this._result instanceof Gi||this._result instanceof ua||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},mn.prototype.getErrorIndicator=function(){return this._errorIndicator},mn.prototype.getErrorLocation=function(){return this._errorLocation},mn.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},mn.prototype.report=function(e){if(!mn.VERBOSE)return null;hn.out.println("Check "+e+": "+(this._isValid?"passed":"FAILED"))},mn.prototype.getErrorMessage=function(){return this._errorMsg},mn.prototype.interfaces_=function(){return[]},mn.prototype.getClass=function(){return mn},mn.isValidMsg=function(e,i,s){var a=new mn(e,i,s);return a.isValid()?null:a.getErrorMessage()},mn.isValid=function(e,i,s){return!!new mn(e,i,s).isValid()},Gb.VERBOSE.get=function(){return!1},Gb.MAX_ENV_DIFF_FRAC.get=function(){return .012},Object.defineProperties(mn,Gb);var Bs=function(){this._pts=null,this._data=null;var e=arguments[0],i=arguments[1];this._pts=e,this._data=i};Bs.prototype.getCoordinates=function(){return this._pts},Bs.prototype.size=function(){return this._pts.length},Bs.prototype.getCoordinate=function(e){return this._pts[e]},Bs.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Bs.prototype.getSegmentOctant=function(e){return e===this._pts.length-1?-1:Gu.octant(this.getCoordinate(e),this.getCoordinate(e+1))},Bs.prototype.setData=function(e){this._data=e},Bs.prototype.getData=function(){return this._data},Bs.prototype.toString=function(){return rs.toLineString(new Ri(this._pts))},Bs.prototype.interfaces_=function(){return[da]},Bs.prototype.getClass=function(){return Bs};var en=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new ce,this._intersectionCount=0,this._keepIntersections=!0;var e=arguments[0];this._li=e,this._interiorIntersection=null};en.prototype.getInteriorIntersection=function(){return this._interiorIntersection},en.prototype.setCheckEndSegmentsOnly=function(e){this._isCheckEndSegmentsOnly=e},en.prototype.getIntersectionSegments=function(){return this._intSegments},en.prototype.count=function(){return this._intersectionCount},en.prototype.getIntersections=function(){return this._intersections},en.prototype.setFindAllIntersections=function(e){this._findAllIntersections=e},en.prototype.setKeepIntersections=function(e){this._keepIntersections=e},en.prototype.processIntersections=function(e,i,s,a){if(!this._findAllIntersections&&this.hasIntersection()||e===s&&i===a||this._isCheckEndSegmentsOnly&&!(this.isEndSegment(e,i)||this.isEndSegment(s,a)))return null;var c=e.getCoordinates()[i],h=e.getCoordinates()[i+1],g=s.getCoordinates()[a],y=s.getCoordinates()[a+1];this._li.computeIntersection(c,h,g,y),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=c,this._intSegments[1]=h,this._intSegments[2]=g,this._intSegments[3]=y,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},en.prototype.isEndSegment=function(e,i){return i===0||i>=e.size()-2},en.prototype.hasIntersection=function(){return this._interiorIntersection!==null},en.prototype.isDone=function(){return!this._findAllIntersections&&this._interiorIntersection!==null},en.prototype.interfaces_=function(){return[zc]},en.prototype.getClass=function(){return en},en.createAllIntersectionsFinder=function(e){var i=new en(e);return i.setFindAllIntersections(!0),i},en.createAnyIntersectionFinder=function(e){return new en(e)},en.createIntersectionCounter=function(e){var i=new en(e);return i.setFindAllIntersections(!0),i.setKeepIntersections(!1),i};var us=function(){this._li=new Ic,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var e=arguments[0];this._segStrings=e};us.prototype.execute=function(){if(this._segInt!==null)return null;this.checkInteriorIntersections()},us.prototype.getIntersections=function(){return this._segInt.getIntersections()},us.prototype.isValid=function(){return this.execute(),this._isValid},us.prototype.setFindAllIntersections=function(e){this._findAllIntersections=e},us.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new en(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var e=new Bb;if(e.setSegmentIntersector(this._segInt),e.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},us.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Za(this.getErrorMessage(),this._segInt.getInteriorIntersection())},us.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var e=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+rs.toLineString(e[0],e[1])+" and "+rs.toLineString(e[2],e[3])},us.prototype.interfaces_=function(){return[]},us.prototype.getClass=function(){return us},us.computeIntersections=function(e){var i=new us(e);return i.setFindAllIntersections(!0),i.isValid(),i.getIntersections()};var Fc=function e(){this._nv=null;var i=arguments[0];this._nv=new us(e.toSegmentStrings(i))};Fc.prototype.checkValid=function(){this._nv.checkValid()},Fc.prototype.interfaces_=function(){return[]},Fc.prototype.getClass=function(){return Fc},Fc.toSegmentStrings=function(e){for(var i=new ce,s=e.iterator();s.hasNext();){var a=s.next();i.add(new Bs(a.getCoordinates(),a))}return i},Fc.checkValid=function(e){new Fc(e).checkValid()};var Ku=function(e){this._mapOp=e};Ku.prototype.map=function(e){for(var i=new ce,s=0;s<e.getNumGeometries();s++){var a=this._mapOp.map(e.getGeometryN(s));a.isEmpty()||i.add(a)}return e.getFactory().createGeometryCollection(ur.toGeometryArray(i))},Ku.prototype.interfaces_=function(){return[]},Ku.prototype.getClass=function(){return Ku},Ku.map=function(e,i){return new Ku(i).map(e)};var js=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new ce,this._resultLineList=new ce;var e=arguments[0],i=arguments[1],s=arguments[2];this._op=e,this._geometryFactory=i,this._ptLocator=s};js.prototype.collectLines=function(e){for(var i=this,s=this._op.getGraph().getEdgeEnds().iterator();s.hasNext();){var a=s.next();i.collectLineEdge(a,e,i._lineEdgesList),i.collectBoundaryTouchEdge(a,e,i._lineEdgesList)}},js.prototype.labelIsolatedLine=function(e,i){var s=this._ptLocator.locate(e.getCoordinate(),this._op.getArgGeometry(i));e.getLabel().setLocation(i,s)},js.prototype.build=function(e){return this.findCoveredLineEdges(),this.collectLines(e),this.buildLines(e),this._resultLineList},js.prototype.collectLineEdge=function(e,i,s){var a=e.getLabel(),c=e.getEdge();e.isLineEdge()&&(e.isVisited()||!tr.isResultOfOp(a,i)||c.isCovered()||(s.add(c),e.setVisitedEdge(!0)))},js.prototype.findCoveredLineEdges=function(){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();)e.next().getEdges().findCoveredLineEdges();for(var i=this._op.getGraph().getEdgeEnds().iterator();i.hasNext();){var s=i.next(),a=s.getEdge();if(s.isLineEdge()&&!a.isCoveredSet()){var c=this._op.isCoveredByA(s.getCoordinate());a.setCovered(c)}}},js.prototype.labelIsolatedLines=function(e){for(var i=e.iterator();i.hasNext();){var s=i.next(),a=s.getLabel();s.isIsolated()&&(a.isNull(0)?this.labelIsolatedLine(s,0):this.labelIsolatedLine(s,1))}},js.prototype.buildLines=function(e){for(var i=this._lineEdgesList.iterator();i.hasNext();){var s=i.next(),a=this._geometryFactory.createLineString(s.getCoordinates());this._resultLineList.add(a),s.setInResult(!0)}},js.prototype.collectBoundaryTouchEdge=function(e,i,s){var a=e.getLabel();return e.isLineEdge()||e.isVisited()||e.isInteriorAreaEdge()||e.getEdge().isInResult()?null:(rr.isTrue(!(e.isInResult()||e.getSym().isInResult())||!e.getEdge().isInResult()),void(tr.isResultOfOp(a,i)&&i===tr.INTERSECTION&&(s.add(e.getEdge()),e.setVisitedEdge(!0))))},js.prototype.interfaces_=function(){return[]},js.prototype.getClass=function(){return js};var Ju=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new ce;var e=arguments[0],i=arguments[1];this._op=e,this._geometryFactory=i};Ju.prototype.filterCoveredNodeToPoint=function(e){var i=e.getCoordinate();if(!this._op.isCoveredByLA(i)){var s=this._geometryFactory.createPoint(i);this._resultPointList.add(s)}},Ju.prototype.extractNonCoveredResultNodes=function(e){for(var i=this._op.getGraph().getNodes().iterator();i.hasNext();){var s=i.next();if(!s.isInResult()&&!s.isIncidentEdgeInResult()&&(s.getEdges().getDegree()===0||e===tr.INTERSECTION)){var a=s.getLabel();tr.isResultOfOp(a,e)&&this.filterCoveredNodeToPoint(s)}}},Ju.prototype.build=function(e){return this.extractNonCoveredResultNodes(e),this._resultPointList},Ju.prototype.interfaces_=function(){return[]},Ju.prototype.getClass=function(){return Ju};var Kn=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Kn.prototype.transformPoint=function(e,i){return this._factory.createPoint(this.transformCoordinates(e.getCoordinateSequence(),e))},Kn.prototype.transformPolygon=function(e,i){var s=!0,a=this.transformLinearRing(e.getExteriorRing(),e);a!==null&&a instanceof ca&&!a.isEmpty()||(s=!1);for(var c=new ce,h=0;h<e.getNumInteriorRing();h++){var g=this.transformLinearRing(e.getInteriorRingN(h),e);g===null||g.isEmpty()||(g instanceof ca||(s=!1),c.add(g))}if(s)return this._factory.createPolygon(a,c.toArray([]));var y=new ce;return a!==null&&y.add(a),y.addAll(c),this._factory.buildGeometry(y)},Kn.prototype.createCoordinateSequence=function(e){return this._factory.getCoordinateSequenceFactory().create(e)},Kn.prototype.getInputGeometry=function(){return this._inputGeom},Kn.prototype.transformMultiLineString=function(e,i){for(var s=new ce,a=0;a<e.getNumGeometries();a++){var c=this.transformLineString(e.getGeometryN(a),e);c!==null&&(c.isEmpty()||s.add(c))}return this._factory.buildGeometry(s)},Kn.prototype.transformCoordinates=function(e,i){return this.copy(e)},Kn.prototype.transformLineString=function(e,i){return this._factory.createLineString(this.transformCoordinates(e.getCoordinateSequence(),e))},Kn.prototype.transformMultiPoint=function(e,i){for(var s=new ce,a=0;a<e.getNumGeometries();a++){var c=this.transformPoint(e.getGeometryN(a),e);c!==null&&(c.isEmpty()||s.add(c))}return this._factory.buildGeometry(s)},Kn.prototype.transformMultiPolygon=function(e,i){for(var s=new ce,a=0;a<e.getNumGeometries();a++){var c=this.transformPolygon(e.getGeometryN(a),e);c!==null&&(c.isEmpty()||s.add(c))}return this._factory.buildGeometry(s)},Kn.prototype.copy=function(e){return e.copy()},Kn.prototype.transformGeometryCollection=function(e,i){for(var s=new ce,a=0;a<e.getNumGeometries();a++){var c=this.transform(e.getGeometryN(a));c!==null&&(this._pruneEmptyGeometry&&c.isEmpty()||s.add(c))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(ur.toGeometryArray(s)):this._factory.buildGeometry(s)},Kn.prototype.transform=function(e){if(this._inputGeom=e,this._factory=e.getFactory(),e instanceof eo)return this.transformPoint(e,null);if(e instanceof md)return this.transformMultiPoint(e,null);if(e instanceof ca)return this.transformLinearRing(e,null);if(e instanceof Mi)return this.transformLineString(e,null);if(e instanceof Rc)return this.transformMultiLineString(e,null);if(e instanceof Gi)return this.transformPolygon(e,null);if(e instanceof ua)return this.transformMultiPolygon(e,null);if(e instanceof Rn)return this.transformGeometryCollection(e,null);throw new ki("Unknown Geometry subtype: "+e.getClass().getName())},Kn.prototype.transformLinearRing=function(e,i){var s=this.transformCoordinates(e.getCoordinateSequence(),e);if(s===null)return this._factory.createLinearRing(null);var a=s.size();return a>0&&a<4&&!this._preserveType?this._factory.createLineString(s):this._factory.createLinearRing(s)},Kn.prototype.interfaces_=function(){return[]},Kn.prototype.getClass=function(){return Kn};var va=function e(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new ze,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Mi&&typeof arguments[1]=="number"){var i=arguments[0],s=arguments[1];e.call(this,i.getCoordinates(),s)}else if(arguments[0]instanceof Array&&typeof arguments[1]=="number"){var a=arguments[0],c=arguments[1];this._srcPts=a,this._isClosed=e.isClosed(a),this._snapTolerance=c}};va.prototype.snapVertices=function(e,i){for(var s=this._isClosed?e.size()-1:e.size(),a=0;a<s;a++){var c=e.get(a),h=this.findSnapForVertex(c,i);h!==null&&(e.set(a,new Ct(h)),a===0&&this._isClosed&&e.set(e.size()-1,new Ct(h)))}},va.prototype.findSnapForVertex=function(e,i){for(var s=0;s<i.length;s++){if(e.equals2D(i[s]))return null;if(e.distance(i[s])<this._snapTolerance)return i[s]}return null},va.prototype.snapTo=function(e){var i=new ff(this._srcPts);return this.snapVertices(i,e),this.snapSegments(i,e),i.toCoordinateArray()},va.prototype.snapSegments=function(e,i){if(i.length===0)return null;var s=i.length;i[0].equals2D(i[i.length-1])&&(s=i.length-1);for(var a=0;a<s;a++){var c=i[a],h=this.findSegmentIndexToSnap(c,e);h>=0&&e.add(h+1,new Ct(c),!1)}},va.prototype.findSegmentIndexToSnap=function(e,i){for(var s=this,a=Qe.MAX_VALUE,c=-1,h=0;h<i.size()-1;h++){if(s._seg.p0=i.get(h),s._seg.p1=i.get(h+1),s._seg.p0.equals2D(e)||s._seg.p1.equals2D(e)){if(s._allowSnappingToSourceVertices)continue;return-1}var g=s._seg.distance(e);g<s._snapTolerance&&g<a&&(a=g,c=h)}return c},va.prototype.setAllowSnappingToSourceVertices=function(e){this._allowSnappingToSourceVertices=e},va.prototype.interfaces_=function(){return[]},va.prototype.getClass=function(){return va},va.isClosed=function(e){return!(e.length<=1)&&e[0].equals2D(e[e.length-1])};var Oi=function(e){this._srcGeom=e||null},Lk={SNAP_PRECISION_FACTOR:{configurable:!0}};Oi.prototype.snapTo=function(e,i){var s=this.extractTargetCoordinates(e);return new Rk(i,s).transform(this._srcGeom)},Oi.prototype.snapToSelf=function(e,i){var s=this.extractTargetCoordinates(this._srcGeom),a=new Rk(e,s,!0).transform(this._srcGeom),c=a;return i&&qe(c,Ol)&&(c=a.buffer(0)),c},Oi.prototype.computeSnapTolerance=function(e){return this.computeMinimumSegmentLength(e)/10},Oi.prototype.extractTargetCoordinates=function(e){for(var i=new Ps,s=e.getCoordinates(),a=0;a<s.length;a++)i.add(s[a]);return i.toArray(new Array(0).fill(null))},Oi.prototype.computeMinimumSegmentLength=function(e){for(var i=Qe.MAX_VALUE,s=0;s<e.length-1;s++){var a=e[s].distance(e[s+1]);a<i&&(i=a)}return i},Oi.prototype.interfaces_=function(){return[]},Oi.prototype.getClass=function(){return Oi},Oi.snap=function(e,i,s){var a=new Array(2).fill(null),c=new Oi(e);a[0]=c.snapTo(i,s);var h=new Oi(i);return a[1]=h.snapTo(a[0],s),a},Oi.computeOverlaySnapTolerance=function(){if(arguments.length===1){var e=arguments[0],i=Oi.computeSizeBasedSnapTolerance(e),s=e.getPrecisionModel();if(s.getType()===Jr.FIXED){var a=1/s.getScale()*2/1.415;a>i&&(i=a)}return i}if(arguments.length===2){var c=arguments[0],h=arguments[1];return Math.min(Oi.computeOverlaySnapTolerance(c),Oi.computeOverlaySnapTolerance(h))}},Oi.computeSizeBasedSnapTolerance=function(e){var i=e.getEnvelopeInternal();return Math.min(i.getHeight(),i.getWidth())*Oi.SNAP_PRECISION_FACTOR},Oi.snapToSelf=function(e,i,s){return new Oi(e).snapToSelf(i,s)},Lk.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(Oi,Lk);var Rk=function(e){function i(s,a,c){e.call(this),this._snapTolerance=s||null,this._snapPts=a||null,this._isSelfSnap=c!==void 0&&c}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.snapLine=function(s,a){var c=new va(s,this._snapTolerance);return c.setAllowSnappingToSourceVertices(this._isSelfSnap),c.snapTo(a)},i.prototype.transformCoordinates=function(s,a){var c=s.toCoordinateArray(),h=this.snapLine(c,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(h)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(Kn),Fn=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Fn.prototype.getCommon=function(){return Qe.longBitsToDouble(this._commonBits)},Fn.prototype.add=function(e){var i=Qe.doubleToLongBits(e);return this._isFirst?(this._commonBits=i,this._commonSignExp=Fn.signExpBits(this._commonBits),this._isFirst=!1,null):Fn.signExpBits(i)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=Fn.numCommonMostSigMantissaBits(this._commonBits,i),void(this._commonBits=Fn.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},Fn.prototype.toString=function(){if(arguments.length===1){var e=arguments[0],i=Qe.longBitsToDouble(e),s=Qe.toBinaryString(e),a="0000000000000000000000000000000000000000000000000000000000000000"+s,c=a.substring(a.length-64),h=c.substring(0,1)+"  "+c.substring(1,12)+"(exp) "+c.substring(12)+" [ "+i+" ]";return h}},Fn.prototype.interfaces_=function(){return[]},Fn.prototype.getClass=function(){return Fn},Fn.getBit=function(e,i){return e&1<<i?1:0},Fn.signExpBits=function(e){return e>>52},Fn.zeroLowerBits=function(e,i){return e&~((1<<i)-1)},Fn.numCommonMostSigMantissaBits=function(e,i){for(var s=0,a=52;a>=0;a--){if(Fn.getBit(e,a)!==Fn.getBit(i,a))return s;s++}return 52};var Ul=function(){this._commonCoord=null,this._ccFilter=new Qu},qb={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};Ul.prototype.addCommonBits=function(e){var i=new Gl(this._commonCoord);e.apply(i),e.geometryChanged()},Ul.prototype.removeCommonBits=function(e){if(this._commonCoord.x===0&&this._commonCoord.y===0)return e;var i=new Ct(this._commonCoord);i.x=-i.x,i.y=-i.y;var s=new Gl(i);return e.apply(s),e.geometryChanged(),e},Ul.prototype.getCommonCoordinate=function(){return this._commonCoord},Ul.prototype.add=function(e){e.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},Ul.prototype.interfaces_=function(){return[]},Ul.prototype.getClass=function(){return Ul},qb.CommonCoordinateFilter.get=function(){return Qu},qb.Translater.get=function(){return Gl},Object.defineProperties(Ul,qb);var Qu=function(){this._commonBitsX=new Fn,this._commonBitsY=new Fn};Qu.prototype.filter=function(e){this._commonBitsX.add(e.x),this._commonBitsY.add(e.y)},Qu.prototype.getCommonCoordinate=function(){return new Ct(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},Qu.prototype.interfaces_=function(){return[la]},Qu.prototype.getClass=function(){return Qu};var Gl=function(){this.trans=null;var e=arguments[0];this.trans=e};Gl.prototype.filter=function(e,i){var s=e.getOrdinate(i,0)+this.trans.x,a=e.getOrdinate(i,1)+this.trans.y;e.setOrdinate(i,0,s),e.setOrdinate(i,1,a)},Gl.prototype.isDone=function(){return!1},Gl.prototype.isGeometryChanged=function(){return!0},Gl.prototype.interfaces_=function(){return[os]},Gl.prototype.getClass=function(){return Gl};var rn=function(e,i){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=e,this._geom[1]=i,this.computeSnapTolerance()};rn.prototype.selfSnap=function(e){return new Oi(e).snapTo(e,this._snapTolerance)},rn.prototype.removeCommonBits=function(e){this._cbr=new Ul,this._cbr.add(e[0]),this._cbr.add(e[1]);var i=new Array(2).fill(null);return i[0]=this._cbr.removeCommonBits(e[0].copy()),i[1]=this._cbr.removeCommonBits(e[1].copy()),i},rn.prototype.prepareResult=function(e){return this._cbr.addCommonBits(e),e},rn.prototype.getResultGeometry=function(e){var i=this.snap(this._geom),s=tr.overlayOp(i[0],i[1],e);return this.prepareResult(s)},rn.prototype.checkValid=function(e){e.isValid()||hn.out.println("Snapped geometry is invalid")},rn.prototype.computeSnapTolerance=function(){this._snapTolerance=Oi.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},rn.prototype.snap=function(e){var i=this.removeCommonBits(e);return Oi.snap(i[0],i[1],this._snapTolerance)},rn.prototype.interfaces_=function(){return[]},rn.prototype.getClass=function(){return rn},rn.overlayOp=function(e,i,s){return new rn(e,i).getResultGeometry(s)},rn.union=function(e,i){return rn.overlayOp(e,i,tr.UNION)},rn.intersection=function(e,i){return rn.overlayOp(e,i,tr.INTERSECTION)},rn.symDifference=function(e,i){return rn.overlayOp(e,i,tr.SYMDIFFERENCE)},rn.difference=function(e,i){return rn.overlayOp(e,i,tr.DIFFERENCE)};var Bn=function(e,i){this._geom=new Array(2).fill(null),this._geom[0]=e,this._geom[1]=i};Bn.prototype.getResultGeometry=function(e){var i=null,s=!1,a=null;try{i=tr.overlayOp(this._geom[0],this._geom[1],e),s=!0}catch(c){if(!(c instanceof Ua))throw c;a=c}if(!s)try{i=rn.overlayOp(this._geom[0],this._geom[1],e)}catch(c){throw c instanceof Ua?a:c}return i},Bn.prototype.interfaces_=function(){return[]},Bn.prototype.getClass=function(){return Bn},Bn.overlayOp=function(e,i,s){return new Bn(e,i).getResultGeometry(s)},Bn.union=function(e,i){return Bn.overlayOp(e,i,tr.UNION)},Bn.intersection=function(e,i){return Bn.overlayOp(e,i,tr.INTERSECTION)},Bn.symDifference=function(e,i){return Bn.overlayOp(e,i,tr.SYMDIFFERENCE)},Bn.difference=function(e,i){return Bn.overlayOp(e,i,tr.DIFFERENCE)};var Mf=function(){this.mce=null,this.chainIndex=null;var e=arguments[0],i=arguments[1];this.mce=e,this.chainIndex=i};Mf.prototype.computeIntersections=function(e,i){this.mce.computeIntersectsForChain(this.chainIndex,e.mce,e.chainIndex,i)},Mf.prototype.interfaces_=function(){return[]},Mf.prototype.getClass=function(){return Mf};var oo=function e(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,arguments.length===2){var i=arguments[0],s=arguments[1];this._eventType=e.DELETE,this._xValue=i,this._insertEvent=s}else if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2];this._eventType=e.INSERT,this._label=a,this._xValue=c,this._obj=h}},Vb={INSERT:{configurable:!0},DELETE:{configurable:!0}};oo.prototype.isDelete=function(){return this._eventType===oo.DELETE},oo.prototype.setDeleteEventIndex=function(e){this._deleteEventIndex=e},oo.prototype.getObject=function(){return this._obj},oo.prototype.compareTo=function(e){var i=e;return this._xValue<i._xValue?-1:this._xValue>i._xValue?1:this._eventType<i._eventType?-1:this._eventType>i._eventType?1:0},oo.prototype.getInsertEvent=function(){return this._insertEvent},oo.prototype.isInsert=function(){return this._eventType===oo.INSERT},oo.prototype.isSameLabel=function(e){return this._label!==null&&this._label===e._label},oo.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},oo.prototype.interfaces_=function(){return[Ro]},oo.prototype.getClass=function(){return oo},Vb.INSERT.get=function(){return 1},Vb.DELETE.get=function(){return 2},Object.defineProperties(oo,Vb);var uv=function(){};uv.prototype.interfaces_=function(){return[]},uv.prototype.getClass=function(){return uv};var vn=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var e=arguments[0],i=arguments[1],s=arguments[2];this._li=e,this._includeProper=i,this._recordIsolated=s};vn.prototype.isTrivialIntersection=function(e,i,s,a){if(e===s&&this._li.getIntersectionNum()===1){if(vn.isAdjacentSegments(i,a))return!0;if(e.isClosed()){var c=e.getNumPoints()-1;if(i===0&&a===c||a===0&&i===c)return!0}}return!1},vn.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},vn.prototype.setIsDoneIfProperInt=function(e){this._isDoneWhenProperInt=e},vn.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},vn.prototype.isBoundaryPointInternal=function(e,i){for(var s=i.iterator();s.hasNext();){var a=s.next().getCoordinate();if(e.isIntersection(a))return!0}return!1},vn.prototype.hasProperIntersection=function(){return this._hasProper},vn.prototype.hasIntersection=function(){return this._hasIntersection},vn.prototype.isDone=function(){return this._isDone},vn.prototype.isBoundaryPoint=function(e,i){return i!==null&&(!!this.isBoundaryPointInternal(e,i[0])||!!this.isBoundaryPointInternal(e,i[1]))},vn.prototype.setBoundaryNodes=function(e,i){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=e,this._bdyNodes[1]=i},vn.prototype.addIntersections=function(e,i,s,a){if(e===s&&i===a)return null;this.numTests++;var c=e.getCoordinates()[i],h=e.getCoordinates()[i+1],g=s.getCoordinates()[a],y=s.getCoordinates()[a+1];this._li.computeIntersection(c,h,g,y),this._li.hasIntersection()&&(this._recordIsolated&&(e.setIsolated(!1),s.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(e,i,s,a)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(e.addIntersections(this._li,i,0),s.addIntersections(this._li,a,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},vn.prototype.interfaces_=function(){return[]},vn.prototype.getClass=function(){return vn},vn.isAdjacentSegments=function(e,i){return Math.abs(e-i)===1};var LI=function(e){function i(){e.call(this),this.events=new ce,this.nOverlaps=null}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.prepareEvents=function(){as.sort(this.events);for(var s=0;s<this.events.size();s++){var a=this.events.get(s);a.isDelete()&&a.getInsertEvent().setDeleteEventIndex(s)}},i.prototype.computeIntersections=function(){var s=this;if(arguments.length===1){var a=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var c=0;c<this.events.size();c++){var h=s.events.get(c);if(h.isInsert()&&s.processOverlaps(c,h.getDeleteEventIndex(),h,a),a.isDone())break}}else if(arguments.length===3){if(arguments[2]instanceof vn&&qe(arguments[0],is)&&qe(arguments[1],is)){var g=arguments[0],y=arguments[1],w=arguments[2];this.addEdges(g,g),this.addEdges(y,y),this.computeIntersections(w)}else if(typeof arguments[2]=="boolean"&&qe(arguments[0],is)&&arguments[1]instanceof vn){var x=arguments[0],T=arguments[1],E=arguments[2];E?this.addEdges(x,null):this.addEdges(x),this.computeIntersections(T)}}},i.prototype.addEdge=function(s,a){for(var c=s.getMonotoneChainEdge(),h=c.getStartIndexes(),g=0;g<h.length-1;g++){var y=new Mf(c,g),w=new oo(a,c.getMinX(g),y);this.events.add(w),this.events.add(new oo(c.getMaxX(g),w))}},i.prototype.processOverlaps=function(s,a,c,h){for(var g=c.getObject(),y=s;y<a;y++){var w=this.events.get(y);if(w.isInsert()){var x=w.getObject();c.isSameLabel(w)||(g.computeIntersections(x,h),this.nOverlaps++)}}},i.prototype.addEdges=function(){var s=this;if(arguments.length===1)for(var a=arguments[0],c=a.iterator();c.hasNext();){var h=c.next();s.addEdge(h,h)}else if(arguments.length===2)for(var g=arguments[0],y=arguments[1],w=g.iterator();w.hasNext();){var x=w.next();s.addEdge(x,y)}},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(uv),ya=function(){this._min=Qe.POSITIVE_INFINITY,this._max=Qe.NEGATIVE_INFINITY},Ak={NodeComparator:{configurable:!0}};ya.prototype.getMin=function(){return this._min},ya.prototype.intersects=function(e,i){return!(this._min>i||this._max<e)},ya.prototype.getMax=function(){return this._max},ya.prototype.toString=function(){return rs.toLineString(new Ct(this._min,0),new Ct(this._max,0))},ya.prototype.interfaces_=function(){return[]},ya.prototype.getClass=function(){return ya},Ak.NodeComparator.get=function(){return If},Object.defineProperties(ya,Ak);var If=function(){};If.prototype.compare=function(e,i){var s=e,a=i,c=(s._min+s._max)/2,h=(a._min+a._max)/2;return c<h?-1:c>h?1:0},If.prototype.interfaces_=function(){return[od]},If.prototype.getClass=function(){return If};var RI=function(e){function i(){e.call(this),this._item=null;var s=arguments[0],a=arguments[1],c=arguments[2];this._min=s,this._max=a,this._item=c}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.query=function(s,a,c){if(!this.intersects(s,a))return null;c.visitItem(this._item)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(ya),AI=function(e){function i(){e.call(this),this._node1=null,this._node2=null;var s=arguments[0],a=arguments[1];this._node1=s,this._node2=a,this.buildExtent(this._node1,this._node2)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.buildExtent=function(s,a){this._min=Math.min(s._min,a._min),this._max=Math.max(s._max,a._max)},i.prototype.query=function(s,a,c){if(!this.intersects(s,a))return null;this._node1!==null&&this._node1.query(s,a,c),this._node2!==null&&this._node2.query(s,a,c)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(ya),ba=function(){this._leaves=new ce,this._root=null,this._level=0};ba.prototype.buildTree=function(){as.sort(this._leaves,new ya.NodeComparator);for(var e=this._leaves,i=null,s=new ce;;){if(this.buildLevel(e,s),s.size()===1)return s.get(0);i=e,e=s,s=i}},ba.prototype.insert=function(e,i,s){if(this._root!==null)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new RI(e,i,s))},ba.prototype.query=function(e,i,s){this.init(),this._root.query(e,i,s)},ba.prototype.buildRoot=function(){if(this._root!==null)return null;this._root=this.buildTree()},ba.prototype.printNode=function(e){hn.out.println(rs.toLineString(new Ct(e._min,this._level),new Ct(e._max,this._level)))},ba.prototype.init=function(){if(this._root!==null)return null;this.buildRoot()},ba.prototype.buildLevel=function(e,i){this._level++,i.clear();for(var s=0;s<e.size();s+=2){var a=e.get(s);if((s+1<e.size()?e.get(s):null)===null)i.add(a);else{var c=new AI(e.get(s),e.get(s+1));i.add(c)}}},ba.prototype.interfaces_=function(){return[]},ba.prototype.getClass=function(){return ba};var kd=function(){this._items=new ce};kd.prototype.visitItem=function(e){this._items.add(e)},kd.prototype.getItems=function(){return this._items},kd.prototype.interfaces_=function(){return[zl]},kd.prototype.getClass=function(){return kd};var Ed=function(){this._index=null;var e=arguments[0];if(!qe(e,Ol))throw new ki("Argument must be Polygonal");this._index=new Bc(e)},Wb={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};Ed.prototype.locate=function(e){var i=new Cs(e),s=new Td(i);return this._index.query(e.y,e.y,s),i.getLocation()},Ed.prototype.interfaces_=function(){return[wd]},Ed.prototype.getClass=function(){return Ed},Wb.SegmentVisitor.get=function(){return Td},Wb.IntervalIndexedGeometry.get=function(){return Bc},Object.defineProperties(Ed,Wb);var Td=function(){this._counter=null;var e=arguments[0];this._counter=e};Td.prototype.visitItem=function(e){var i=e;this._counter.countSegment(i.getCoordinate(0),i.getCoordinate(1))},Td.prototype.interfaces_=function(){return[zl]},Td.prototype.getClass=function(){return Td};var Bc=function(){this._index=new ba;var e=arguments[0];this.init(e)};Bc.prototype.init=function(e){for(var i=fn.getLines(e).iterator();i.hasNext();){var s=i.next().getCoordinates();this.addLine(s)}},Bc.prototype.addLine=function(e){for(var i=1;i<e.length;i++){var s=new ze(e[i-1],e[i]),a=Math.min(s.p0.y,s.p1.y),c=Math.max(s.p0.y,s.p1.y);this._index.insert(a,c,s)}},Bc.prototype.query=function(){if(arguments.length===2){var e=arguments[0],i=arguments[1],s=new kd;return this._index.query(e,i,s),s.getItems()}if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2];this._index.query(a,c,h)}},Bc.prototype.interfaces_=function(){return[]},Bc.prototype.getClass=function(){return Bc};var Lf=function(e){function i(){if(e.call(this),this._parentGeom=null,this._lineEdgeMap=new fk,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new cs,arguments.length===2){var s=arguments[0],a=arguments[1],c=Oo.OGC_SFS_BOUNDARY_RULE;this._argIndex=s,this._parentGeom=a,this._boundaryNodeRule=c,a!==null&&this.add(a)}else if(arguments.length===3){var h=arguments[0],g=arguments[1],y=arguments[2];this._argIndex=h,this._parentGeom=g,this._boundaryNodeRule=y,g!==null&&this.add(g)}}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.insertBoundaryPoint=function(s,a){var c=this._nodes.addNode(a).getLabel(),h=1;c.getLocation(s,ie.ON)===At.BOUNDARY&&h++;var g=i.determineBoundary(this._boundaryNodeRule,h);c.setLocation(s,g)},i.prototype.computeSelfNodes=function(){if(arguments.length===2){var s=arguments[0],a=arguments[1];return this.computeSelfNodes(s,a,!1)}if(arguments.length===3){var c=arguments[0],h=arguments[1],g=arguments[2],y=new vn(c,!0,!1);y.setIsDoneIfProperInt(g);var w=this.createEdgeSetIntersector(),x=this._parentGeom instanceof ca||this._parentGeom instanceof Gi||this._parentGeom instanceof ua,T=h||!x;return w.computeIntersections(this._edges,y,T),this.addSelfIntersectionNodes(this._argIndex),y}},i.prototype.computeSplitEdges=function(s){for(var a=this._edges.iterator();a.hasNext();)a.next().eiList.addSplitEdges(s)},i.prototype.computeEdgeIntersections=function(s,a,c){var h=new vn(a,c,!0);return h.setBoundaryNodes(this.getBoundaryNodes(),s.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,s._edges,h),h},i.prototype.getGeometry=function(){return this._parentGeom},i.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},i.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},i.prototype.addPoint=function(){if(arguments[0]instanceof eo){var s=arguments[0],a=s.getCoordinate();this.insertPoint(this._argIndex,a,At.INTERIOR)}else if(arguments[0]instanceof Ct){var c=arguments[0];this.insertPoint(this._argIndex,c,At.INTERIOR)}},i.prototype.addPolygon=function(s){this.addPolygonRing(s.getExteriorRing(),At.EXTERIOR,At.INTERIOR);for(var a=0;a<s.getNumInteriorRing();a++){var c=s.getInteriorRingN(a);this.addPolygonRing(c,At.INTERIOR,At.EXTERIOR)}},i.prototype.addEdge=function(s){this.insertEdge(s);var a=s.getCoordinates();this.insertPoint(this._argIndex,a[0],At.BOUNDARY),this.insertPoint(this._argIndex,a[a.length-1],At.BOUNDARY)},i.prototype.addLineString=function(s){var a=cr.removeRepeatedPoints(s.getCoordinates());if(a.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=a[0],null;var c=new cv(a,new ni(this._argIndex,At.INTERIOR));this._lineEdgeMap.put(s,c),this.insertEdge(c),rr.isTrue(a.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,a[0]),this.insertBoundaryPoint(this._argIndex,a[a.length-1])},i.prototype.getInvalidPoint=function(){return this._invalidPoint},i.prototype.getBoundaryPoints=function(){for(var s=this.getBoundaryNodes(),a=new Array(s.size()).fill(null),c=0,h=s.iterator();h.hasNext();){var g=h.next();a[c++]=g.getCoordinate().copy()}return a},i.prototype.getBoundaryNodes=function(){return this._boundaryNodes===null&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},i.prototype.addSelfIntersectionNode=function(s,a,c){if(this.isBoundaryNode(s,a))return null;c===At.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(s,a):this.insertPoint(s,a,c)},i.prototype.addPolygonRing=function(s,a,c){if(s.isEmpty())return null;var h=cr.removeRepeatedPoints(s.getCoordinates());if(h.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=h[0],null;var g=a,y=c;ge.isCCW(h)&&(g=c,y=a);var w=new cv(h,new ni(this._argIndex,At.BOUNDARY,g,y));this._lineEdgeMap.put(s,w),this.insertEdge(w),this.insertPoint(this._argIndex,h[0],At.BOUNDARY)},i.prototype.insertPoint=function(s,a,c){var h=this._nodes.addNode(a),g=h.getLabel();g===null?h._label=new ni(s,c):g.setLocation(s,c)},i.prototype.createEdgeSetIntersector=function(){return new LI},i.prototype.addSelfIntersectionNodes=function(s){for(var a=this._edges.iterator();a.hasNext();)for(var c=a.next(),h=c.getLabel().getLocation(s),g=c.eiList.iterator();g.hasNext();){var y=g.next();this.addSelfIntersectionNode(s,y.coord,h)}},i.prototype.add=function(){if(arguments.length!==1)return e.prototype.add.apply(this,arguments);var s=arguments[0];if(s.isEmpty())return null;if(s instanceof ua&&(this._useBoundaryDeterminationRule=!1),s instanceof Gi)this.addPolygon(s);else if(s instanceof Mi)this.addLineString(s);else if(s instanceof eo)this.addPoint(s);else if(s instanceof md)this.addCollection(s);else if(s instanceof Rc)this.addCollection(s);else if(s instanceof ua)this.addCollection(s);else{if(!(s instanceof Rn))throw new Error(s.getClass().getName());this.addCollection(s)}},i.prototype.addCollection=function(s){for(var a=0;a<s.getNumGeometries();a++){var c=s.getGeometryN(a);this.add(c)}},i.prototype.locate=function(s){return qe(this._parentGeom,Ol)&&this._parentGeom.getNumGeometries()>50?(this._areaPtLocator===null&&(this._areaPtLocator=new Ed(this._parentGeom)),this._areaPtLocator.locate(s)):this._ptLocator.locate(s,this._parentGeom)},i.prototype.findEdge=function(){if(arguments.length===1){var s=arguments[0];return this._lineEdgeMap.get(s)}return e.prototype.findEdge.apply(this,arguments)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i.determineBoundary=function(s,a){return s.isInBoundary(a)?At.BOUNDARY:At.INTERIOR},i}(Si),Sd=function(){if(this._li=new Ic,this._resultPrecisionModel=null,this._arg=null,arguments.length===1){var e=arguments[0];this.setComputationPrecision(e.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new Lf(0,e)}else if(arguments.length===2){var i=arguments[0],s=arguments[1],a=Oo.OGC_SFS_BOUNDARY_RULE;i.getPrecisionModel().compareTo(s.getPrecisionModel())>=0?this.setComputationPrecision(i.getPrecisionModel()):this.setComputationPrecision(s.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Lf(0,i,a),this._arg[1]=new Lf(1,s,a)}else if(arguments.length===3){var c=arguments[0],h=arguments[1],g=arguments[2];c.getPrecisionModel().compareTo(h.getPrecisionModel())>=0?this.setComputationPrecision(c.getPrecisionModel()):this.setComputationPrecision(h.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Lf(0,c,g),this._arg[1]=new Lf(1,h,g)}};Sd.prototype.getArgGeometry=function(e){return this._arg[e].getGeometry()},Sd.prototype.setComputationPrecision=function(e){this._resultPrecisionModel=e,this._li.setPrecisionModel(this._resultPrecisionModel)},Sd.prototype.interfaces_=function(){return[]},Sd.prototype.getClass=function(){return Sd};var jc=function(){};jc.prototype.interfaces_=function(){return[]},jc.prototype.getClass=function(){return jc},jc.map=function(){if(arguments[0]instanceof Ue&&qe(arguments[1],jc.MapOp)){for(var e=arguments[0],i=arguments[1],s=new ce,a=0;a<e.getNumGeometries();a++){var c=i.map(e.getGeometryN(a));c!==null&&s.add(c)}return e.getFactory().buildGeometry(s)}if(qe(arguments[0],Ui)&&qe(arguments[1],jc.MapOp)){for(var h=arguments[0],g=arguments[1],y=new ce,w=h.iterator();w.hasNext();){var x=w.next(),T=g.map(x);T!==null&&y.add(T)}return y}},jc.MapOp=function(){};var tr=function(e){function i(){var s=arguments[0],a=arguments[1];e.call(this,s,a),this._ptLocator=new cs,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new ls,this._resultPolyList=new ce,this._resultLineList=new ce,this._resultPointList=new ce,this._graph=new Si(new Ek),this._geomFact=s.getFactory()}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.insertUniqueEdge=function(s){var a=this._edgeList.findEqualEdge(s);if(a!==null){var c=a.getLabel(),h=s.getLabel();a.isPointwiseEqual(s)||(h=new ni(s.getLabel())).flip();var g=a.getDepth();g.isNull()&&g.add(c),g.add(h),c.merge(h)}else this._edgeList.add(s)},i.prototype.getGraph=function(){return this._graph},i.prototype.cancelDuplicateResultEdges=function(){for(var s=this._graph.getEdgeEnds().iterator();s.hasNext();){var a=s.next(),c=a.getSym();a.isInResult()&&c.isInResult()&&(a.setInResult(!1),c.setInResult(!1))}},i.prototype.isCoveredByLA=function(s){return!!this.isCovered(s,this._resultLineList)||!!this.isCovered(s,this._resultPolyList)},i.prototype.computeGeometry=function(s,a,c,h){var g=new ce;return g.addAll(s),g.addAll(a),g.addAll(c),g.isEmpty()?i.createEmptyResult(h,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(g)},i.prototype.mergeSymLabels=function(){for(var s=this._graph.getNodes().iterator();s.hasNext();)s.next().getEdges().mergeSymLabels()},i.prototype.isCovered=function(s,a){for(var c=a.iterator();c.hasNext();){var h=c.next();if(this._ptLocator.locate(s,h)!==At.EXTERIOR)return!0}return!1},i.prototype.replaceCollapsedEdges=function(){for(var s=new ce,a=this._edgeList.iterator();a.hasNext();){var c=a.next();c.isCollapsed()&&(a.remove(),s.add(c.getCollapsedEdge()))}this._edgeList.addAll(s)},i.prototype.updateNodeLabelling=function(){for(var s=this._graph.getNodes().iterator();s.hasNext();){var a=s.next(),c=a.getEdges().getLabel();a.getLabel().merge(c)}},i.prototype.getResultGeometry=function(s){return this.computeOverlay(s),this._resultGeom},i.prototype.insertUniqueEdges=function(s){for(var a=s.iterator();a.hasNext();){var c=a.next();this.insertUniqueEdge(c)}},i.prototype.computeOverlay=function(s){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var a=new ce;this._arg[0].computeSplitEdges(a),this._arg[1].computeSplitEdges(a),this.insertUniqueEdges(a),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Fc.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(s),this.cancelDuplicateResultEdges();var c=new ro(this._geomFact);c.add(this._graph),this._resultPolyList=c.getPolygons();var h=new js(this,this._geomFact,this._ptLocator);this._resultLineList=h.build(s);var g=new Ju(this,this._geomFact,this._ptLocator);this._resultPointList=g.build(s),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,s)},i.prototype.labelIncompleteNode=function(s,a){var c=this._ptLocator.locate(s.getCoordinate(),this._arg[a].getGeometry());s.getLabel().setLocation(a,c)},i.prototype.copyPoints=function(s){for(var a=this._arg[s].getNodeIterator();a.hasNext();){var c=a.next();this._graph.addNode(c.getCoordinate()).setLabel(s,c.getLabel().getLocation(s))}},i.prototype.findResultAreaEdges=function(s){for(var a=this._graph.getEdgeEnds().iterator();a.hasNext();){var c=a.next(),h=c.getLabel();h.isArea()&&!c.isInteriorAreaEdge()&&i.isResultOfOp(h.getLocation(0,ie.RIGHT),h.getLocation(1,ie.RIGHT),s)&&c.setInResult(!0)}},i.prototype.computeLabelsFromDepths=function(){for(var s=this._edgeList.iterator();s.hasNext();){var a=s.next(),c=a.getLabel(),h=a.getDepth();if(!h.isNull()){h.normalize();for(var g=0;g<2;g++)c.isNull(g)||!c.isArea()||h.isNull(g)||(h.getDelta(g)===0?c.toLine(g):(rr.isTrue(!h.isNull(g,ie.LEFT),"depth of LEFT side has not been initialized"),c.setLocation(g,ie.LEFT,h.getLocation(g,ie.LEFT)),rr.isTrue(!h.isNull(g,ie.RIGHT),"depth of RIGHT side has not been initialized"),c.setLocation(g,ie.RIGHT,h.getLocation(g,ie.RIGHT))))}}},i.prototype.computeLabelling=function(){for(var s=this._graph.getNodes().iterator();s.hasNext();)s.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},i.prototype.labelIncompleteNodes=function(){for(var s=this._graph.getNodes().iterator();s.hasNext();){var a=s.next(),c=a.getLabel();a.isIsolated()&&(c.isNull(0)?this.labelIncompleteNode(a,0):this.labelIncompleteNode(a,1)),a.getEdges().updateLabelling(c)}},i.prototype.isCoveredByA=function(s){return!!this.isCovered(s,this._resultPolyList)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(Sd);tr.overlayOp=function(e,i,s){return new tr(e,i).getResultGeometry(s)},tr.intersection=function(e,i){if(e.isEmpty()||i.isEmpty())return tr.createEmptyResult(tr.INTERSECTION,e,i,e.getFactory());if(e.isGeometryCollection()){var s=i;return Ku.map(e,{interfaces_:function(){return[jc.MapOp]},map:function(a){return a.intersection(s)}})}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(i),Bn.overlayOp(e,i,tr.INTERSECTION)},tr.symDifference=function(e,i){if(e.isEmpty()||i.isEmpty()){if(e.isEmpty()&&i.isEmpty())return tr.createEmptyResult(tr.SYMDIFFERENCE,e,i,e.getFactory());if(e.isEmpty())return i.copy();if(i.isEmpty())return e.copy()}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(i),Bn.overlayOp(e,i,tr.SYMDIFFERENCE)},tr.resultDimension=function(e,i,s){var a=i.getDimension(),c=s.getDimension(),h=-1;switch(e){case tr.INTERSECTION:h=Math.min(a,c);break;case tr.UNION:h=Math.max(a,c);break;case tr.DIFFERENCE:h=a;break;case tr.SYMDIFFERENCE:h=Math.max(a,c)}return h},tr.createEmptyResult=function(e,i,s,a){var c=null;switch(tr.resultDimension(e,i,s)){case-1:c=a.createGeometryCollection(new Array(0).fill(null));break;case 0:c=a.createPoint();break;case 1:c=a.createLineString();break;case 2:c=a.createPolygon()}return c},tr.difference=function(e,i){return e.isEmpty()?tr.createEmptyResult(tr.DIFFERENCE,e,i,e.getFactory()):i.isEmpty()?e.copy():(e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(i),Bn.overlayOp(e,i,tr.DIFFERENCE))},tr.isResultOfOp=function(){if(arguments.length===2){var e=arguments[0],i=arguments[1],s=e.getLocation(0),a=e.getLocation(1);return tr.isResultOfOp(s,a,i)}if(arguments.length===3){var c=arguments[0],h=arguments[1],g=arguments[2];switch(c===At.BOUNDARY&&(c=At.INTERIOR),h===At.BOUNDARY&&(h=At.INTERIOR),g){case tr.INTERSECTION:return c===At.INTERIOR&&h===At.INTERIOR;case tr.UNION:return c===At.INTERIOR||h===At.INTERIOR;case tr.DIFFERENCE:return c===At.INTERIOR&&h!==At.INTERIOR;case tr.SYMDIFFERENCE:return c===At.INTERIOR&&h!==At.INTERIOR||c!==At.INTERIOR&&h===At.INTERIOR}return!1}},tr.INTERSECTION=1,tr.UNION=2,tr.DIFFERENCE=3,tr.SYMDIFFERENCE=4;var ql=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new cs,this._seg=new ze;var e=arguments[0],i=arguments[1];this._g=e,this._boundaryDistanceTolerance=i,this._linework=this.extractLinework(e)};ql.prototype.isWithinToleranceOfBoundary=function(e){for(var i=this,s=0;s<this._linework.getNumGeometries();s++)for(var a=i._linework.getGeometryN(s).getCoordinateSequence(),c=0;c<a.size()-1;c++)if(a.getCoordinate(c,i._seg.p0),a.getCoordinate(c+1,i._seg.p1),i._seg.distance(e)<=i._boundaryDistanceTolerance)return!0;return!1},ql.prototype.getLocation=function(e){return this.isWithinToleranceOfBoundary(e)?At.BOUNDARY:this._ptLocator.locate(e,this._g)},ql.prototype.extractLinework=function(e){var i=new Cd;e.apply(i);var s=i.getLinework(),a=ur.toLineStringArray(s);return e.getFactory().createMultiLineString(a)},ql.prototype.interfaces_=function(){return[]},ql.prototype.getClass=function(){return ql};var Cd=function(){this._linework=null,this._linework=new ce};Cd.prototype.getLinework=function(){return this._linework},Cd.prototype.filter=function(e){if(e instanceof Gi){var i=e;this._linework.add(i.getExteriorRing());for(var s=0;s<i.getNumInteriorRing();s++)this._linework.add(i.getInteriorRingN(s))}},Cd.prototype.interfaces_=function(){return[Ms]},Cd.prototype.getClass=function(){return Cd};var Hc=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var e=arguments[0];this._g=e};Hc.prototype.extractPoints=function(e,i,s){for(var a=e.getCoordinates(),c=0;c<a.length-1;c++)this.computeOffsetPoints(a[c],a[c+1],i,s)},Hc.prototype.setSidesToGenerate=function(e,i){this._doLeft=e,this._doRight=i},Hc.prototype.getPoints=function(e){for(var i=new ce,s=fn.getLines(this._g).iterator();s.hasNext();){var a=s.next();this.extractPoints(a,e,i)}return i},Hc.prototype.computeOffsetPoints=function(e,i,s,a){var c=i.x-e.x,h=i.y-e.y,g=Math.sqrt(c*c+h*h),y=s*c/g,w=s*h/g,x=(i.x+e.x)/2,T=(i.y+e.y)/2;if(this._doLeft){var E=new Ct(x-w,T+y);a.add(E)}if(this._doRight){var P=new Ct(x+w,T-y);a.add(P)}},Hc.prototype.interfaces_=function(){return[]},Hc.prototype.getClass=function(){return Hc};var _o=function e(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=e.TOLERANCE,this._testCoords=new ce;var i=arguments[0],s=arguments[1],a=arguments[2];this._boundaryDistanceTolerance=e.computeBoundaryDistanceTolerance(i,s),this._geom=[i,s,a],this._locFinder=[new ql(this._geom[0],this._boundaryDistanceTolerance),new ql(this._geom[1],this._boundaryDistanceTolerance),new ql(this._geom[2],this._boundaryDistanceTolerance)]},Ok={TOLERANCE:{configurable:!0}};_o.prototype.reportResult=function(e,i,s){hn.out.println("Overlay result invalid - A:"+At.toLocationSymbol(i[0])+" B:"+At.toLocationSymbol(i[1])+" expected:"+(s?"i":"e")+" actual:"+At.toLocationSymbol(i[2]))},_o.prototype.isValid=function(e){this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]);var i=this.checkValid(e);return i},_o.prototype.checkValid=function(){var e=this;if(arguments.length===1){for(var i=arguments[0],s=0;s<this._testCoords.size();s++){var a=e._testCoords.get(s);if(!e.checkValid(i,a))return e._invalidLocation=a,!1}return!0}if(arguments.length===2){var c=arguments[0],h=arguments[1];return this._location[0]=this._locFinder[0].getLocation(h),this._location[1]=this._locFinder[1].getLocation(h),this._location[2]=this._locFinder[2].getLocation(h),!!_o.hasLocation(this._location,At.BOUNDARY)||this.isValidResult(c,this._location)}},_o.prototype.addTestPts=function(e){var i=new Hc(e);this._testCoords.addAll(i.getPoints(5*this._boundaryDistanceTolerance))},_o.prototype.isValidResult=function(e,i){var s=tr.isResultOfOp(i[0],i[1],e),a=!(s^i[2]===At.INTERIOR);return a||this.reportResult(e,i,s),a},_o.prototype.getInvalidLocation=function(){return this._invalidLocation},_o.prototype.interfaces_=function(){return[]},_o.prototype.getClass=function(){return _o},_o.hasLocation=function(e,i){for(var s=0;s<3;s++)if(e[s]===i)return!0;return!1},_o.computeBoundaryDistanceTolerance=function(e,i){return Math.min(Oi.computeSizeBasedSnapTolerance(e),Oi.computeSizeBasedSnapTolerance(i))},_o.isValid=function(e,i,s,a){return new _o(e,i,a).isValid(s)},Ok.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(_o,Ok);var ko=function e(i){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=e.extractFactory(i),this._inputGeoms=i};ko.prototype.extractElements=function(e,i){if(e===null)return null;for(var s=0;s<e.getNumGeometries();s++){var a=e.getGeometryN(s);this._skipEmpty&&a.isEmpty()||i.add(a)}},ko.prototype.combine=function(){for(var e=new ce,i=this._inputGeoms.iterator();i.hasNext();){var s=i.next();this.extractElements(s,e)}return e.size()===0?this._geomFactory!==null?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(e)},ko.prototype.interfaces_=function(){return[]},ko.prototype.getClass=function(){return ko},ko.combine=function(){if(arguments.length===1){var e=arguments[0],i=new ko(e);return i.combine()}if(arguments.length===2){var s=arguments[0],a=arguments[1],c=new ko(ko.createList(s,a));return c.combine()}if(arguments.length===3){var h=arguments[0],g=arguments[1],y=arguments[2],w=new ko(ko.createList(h,g,y));return w.combine()}},ko.extractFactory=function(e){return e.isEmpty()?null:e.iterator().next().getFactory()},ko.createList=function(){if(arguments.length===2){var e=arguments[0],i=arguments[1],s=new ce;return s.add(e),s.add(i),s}if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2],g=new ce;return g.add(a),g.add(c),g.add(h),g}};var Di=function(){this._inputPolys=null,this._geomFactory=null;var e=arguments[0];this._inputPolys=e,this._inputPolys===null&&(this._inputPolys=new ce)},zk={STRTREE_NODE_CAPACITY:{configurable:!0}};Di.prototype.reduceToGeometries=function(e){for(var i=new ce,s=e.iterator();s.hasNext();){var a=s.next(),c=null;qe(a,is)?c=this.unionTree(a):a instanceof Ue&&(c=a),i.add(c)}return i},Di.prototype.extractByEnvelope=function(e,i,s){for(var a=new ce,c=0;c<i.getNumGeometries();c++){var h=i.getGeometryN(c);h.getEnvelopeInternal().intersects(e)?a.add(h):s.add(h)}return this._geomFactory.buildGeometry(a)},Di.prototype.unionOptimized=function(e,i){var s=e.getEnvelopeInternal(),a=i.getEnvelopeInternal();if(!s.intersects(a))return ko.combine(e,i);if(e.getNumGeometries()<=1&&i.getNumGeometries()<=1)return this.unionActual(e,i);var c=s.intersection(a);return this.unionUsingEnvelopeIntersection(e,i,c)},Di.prototype.union=function(){if(this._inputPolys===null)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var e=new yk(Di.STRTREE_NODE_CAPACITY),i=this._inputPolys.iterator();i.hasNext();){var s=i.next();e.insert(s.getEnvelopeInternal(),s)}this._inputPolys=null;var a=e.itemsTree();return this.unionTree(a)},Di.prototype.binaryUnion=function(){if(arguments.length===1){var e=arguments[0];return this.binaryUnion(e,0,e.size())}if(arguments.length===3){var i=arguments[0],s=arguments[1],a=arguments[2];if(a-s<=1){var c=Di.getGeometry(i,s);return this.unionSafe(c,null)}if(a-s==2)return this.unionSafe(Di.getGeometry(i,s),Di.getGeometry(i,s+1));var h=Math.trunc((a+s)/2),g=this.binaryUnion(i,s,h),y=this.binaryUnion(i,h,a);return this.unionSafe(g,y)}},Di.prototype.repeatedUnion=function(e){for(var i=null,s=e.iterator();s.hasNext();){var a=s.next();i=i===null?a.copy():i.union(a)}return i},Di.prototype.unionSafe=function(e,i){return e===null&&i===null?null:e===null?i.copy():i===null?e.copy():this.unionOptimized(e,i)},Di.prototype.unionActual=function(e,i){return Di.restrictToPolygons(e.union(i))},Di.prototype.unionTree=function(e){var i=this.reduceToGeometries(e);return this.binaryUnion(i)},Di.prototype.unionUsingEnvelopeIntersection=function(e,i,s){var a=new ce,c=this.extractByEnvelope(s,e,a),h=this.extractByEnvelope(s,i,a),g=this.unionActual(c,h);return a.add(g),ko.combine(a)},Di.prototype.bufferUnion=function(){if(arguments.length===1){var e=arguments[0],i=e.get(0).getFactory(),s=i.buildGeometry(e),a=s.buffer(0);return a}if(arguments.length===2){var c=arguments[0],h=arguments[1],g=c.getFactory(),y=g.createGeometryCollection([c,h]),w=y.buffer(0);return w}},Di.prototype.interfaces_=function(){return[]},Di.prototype.getClass=function(){return Di},Di.restrictToPolygons=function(e){if(qe(e,Ol))return e;var i=Ja.getPolygons(e);return i.size()===1?i.get(0):e.getFactory().createMultiPolygon(ur.toPolygonArray(i))},Di.getGeometry=function(e,i){return i>=e.size()?null:e.get(i)},Di.union=function(e){return new Di(e).union()},zk.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(Di,zk);var hv=function(){};function Uc(){return new dv}function dv(){this.reset()}hv.prototype.interfaces_=function(){return[]},hv.prototype.getClass=function(){return hv},hv.union=function(e,i){if(e.isEmpty()||i.isEmpty()){if(e.isEmpty()&&i.isEmpty())return tr.createEmptyResult(tr.UNION,e,i,e.getFactory());if(e.isEmpty())return i.copy();if(i.isEmpty())return e.copy()}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(i),Bn.overlayOp(e,i,tr.UNION)},dv.prototype={constructor:dv,reset:function(){this.s=this.t=0},add:function(e){Nk(pv,e,this.t),Nk(this,pv.s,this.s),this.s?this.t+=pv.t:this.s=pv.t},valueOf:function(){return this.s}};var pv=new dv;function Nk(e,i,s){var a=e.s=i+s,c=a-i,h=a-c;e.t=i-h+(s-c)}var Fi=1e-6,li=Math.PI,Qa=li/2,Dk=li/4,$a=2*li,Gc=180/li,Hs=li/180,jn=Math.abs,OI=Math.atan,Pd=Math.atan2,Vi=Math.cos,Wi=Math.sin,Rf=Math.sqrt;function Fk(e){return e>1?0:e<-1?li:Math.acos(e)}function Md(e){return e>1?Qa:e<-1?-Qa:Math.asin(e)}function Af(){}function fv(e,i){e&&jk.hasOwnProperty(e.type)&&jk[e.type](e,i)}var Bk={Feature:function(e,i){fv(e.geometry,i)},FeatureCollection:function(e,i){for(var s=e.features,a=-1,c=s.length;++a<c;)fv(s[a].geometry,i)}},jk={Sphere:function(e,i){i.sphere()},Point:function(e,i){e=e.coordinates,i.point(e[0],e[1],e[2])},MultiPoint:function(e,i){for(var s=e.coordinates,a=-1,c=s.length;++a<c;)e=s[a],i.point(e[0],e[1],e[2])},LineString:function(e,i){Zb(e.coordinates,i,0)},MultiLineString:function(e,i){for(var s=e.coordinates,a=-1,c=s.length;++a<c;)Zb(s[a],i,0)},Polygon:function(e,i){Hk(e.coordinates,i)},MultiPolygon:function(e,i){for(var s=e.coordinates,a=-1,c=s.length;++a<c;)Hk(s[a],i)},GeometryCollection:function(e,i){for(var s=e.geometries,a=-1,c=s.length;++a<c;)fv(s[a],i)}};function Zb(e,i,s){var a,c=-1,h=e.length-s;for(i.lineStart();++c<h;)a=e[c],i.point(a[0],a[1],a[2]);i.lineEnd()}function Hk(e,i){var s=-1,a=e.length;for(i.polygonStart();++s<a;)Zb(e[s],i,1);i.polygonEnd()}Uc(),Uc();function Yb(e){return[Pd(e[1],e[0]),Md(e[2])]}function Id(e){var i=e[0],s=e[1],a=Vi(s);return[a*Vi(i),a*Wi(i),Wi(s)]}function gv(e,i){return e[0]*i[0]+e[1]*i[1]+e[2]*i[2]}function mv(e,i){return[e[1]*i[2]-e[2]*i[1],e[2]*i[0]-e[0]*i[2],e[0]*i[1]-e[1]*i[0]]}function Xb(e,i){e[0]+=i[0],e[1]+=i[1],e[2]+=i[2]}function vv(e,i){return[e[0]*i,e[1]*i,e[2]*i]}function Kb(e){var i=Rf(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=i,e[1]/=i,e[2]/=i}Uc();function Uk(e,i){function s(a,c){return a=e(a,c),i(a[0],a[1])}return e.invert&&i.invert&&(s.invert=function(a,c){return(a=i.invert(a,c))&&e.invert(a[0],a[1])}),s}function Jb(e,i){return[e>li?e-$a:e<-li?e+$a:e,i]}function Gk(e){return function(i,s){return[(i+=e)>li?i-$a:i<-li?i+$a:i,s]}}function qk(e){var i=Gk(e);return i.invert=Gk(-e),i}function Vk(e,i){var s=Vi(e),a=Wi(e),c=Vi(i),h=Wi(i);function g(y,w){var x=Vi(w),T=Vi(y)*x,E=Wi(y)*x,P=Wi(w),z=P*s+T*a;return[Pd(E*c-z*h,T*s-P*a),Md(z*c+E*h)]}return g.invert=function(y,w){var x=Vi(w),T=Vi(y)*x,E=Wi(y)*x,P=Wi(w),z=P*c-E*h;return[Pd(E*c+P*h,T*s+z*a),Md(z*s-T*a)]},g}function Wk(e,i){(i=Id(i))[0]-=e,Kb(i);var s=Fk(-i[1]);return((-i[2]<0?-s:s)+$a-Fi)%$a}function Zk(){var e,i=[];return{point:function(s,a){e.push([s,a])},lineStart:function(){i.push(e=[])},lineEnd:Af,rejoin:function(){i.length>1&&i.push(i.pop().concat(i.shift()))},result:function(){var s=i;return i=[],e=null,s}}}function yv(e,i){return jn(e[0]-i[0])<Fi&&jn(e[1]-i[1])<Fi}function bv(e,i,s,a){this.x=e,this.z=i,this.o=s,this.e=a,this.v=!1,this.n=this.p=null}function Yk(e,i,s,a,c){var h,g,y=[],w=[];if(e.forEach(function(N){if(!((B=N.length-1)<=0)){var B,I,W=N[0],it=N[B];if(yv(W,it)){for(c.lineStart(),h=0;h<B;++h)c.point((W=N[h])[0],W[1]);c.lineEnd()}else y.push(I=new bv(W,N,null,!0)),w.push(I.o=new bv(W,null,I,!1)),y.push(I=new bv(it,N,null,!1)),w.push(I.o=new bv(it,null,I,!0))}}),y.length){for(w.sort(i),Xk(y),Xk(w),h=0,g=w.length;h<g;++h)w[h].e=s=!s;for(var x,T,E=y[0];;){for(var P=E,z=!0;P.v;)if((P=P.n)===E)return;x=P.z,c.lineStart();do{if(P.v=P.o.v=!0,P.e){if(z)for(h=0,g=x.length;h<g;++h)c.point((T=x[h])[0],T[1]);else a(P.x,P.n.x,1,c);P=P.n}else{if(z)for(x=P.p.z,h=x.length-1;h>=0;--h)c.point((T=x[h])[0],T[1]);else a(P.x,P.p.x,-1,c);P=P.p}x=(P=P.o).z,z=!z}while(!P.v);c.lineEnd()}}}function Xk(e){if(i=e.length){for(var i,s,a=0,c=e[0];++a<i;)c.n=s=e[a],s.p=c,c=s;c.n=s=e[0],s.p=c}}function Kk(e,i){return e<i?-1:e>i?1:e>=i?0:NaN}Jb.invert=Jb;var Qb,Jk;(Qb=Kk).length===1&&(Jk=Qb,Qb=function(e,i){return Kk(Jk(e),i)});function Qk(e){for(var i,s,a,c=e.length,h=-1,g=0;++h<c;)g+=e[h].length;for(s=new Array(g);--c>=0;)for(i=(a=e[c]).length;--i>=0;)s[--g]=a[i];return s}var Of=1e9,wv=-Of;function zI(e,i,s,a){function c(x,T){return e<=x&&x<=s&&i<=T&&T<=a}function h(x,T,E,P){var z=0,N=0;if(x==null||(z=g(x,E))!==(N=g(T,E))||w(x,T)<0^E>0)do P.point(z===0||z===3?e:s,z>1?a:i);while((z=(z+E+4)%4)!==N);else P.point(T[0],T[1])}function g(x,T){return jn(x[0]-e)<Fi?T>0?0:3:jn(x[0]-s)<Fi?T>0?2:1:jn(x[1]-i)<Fi?T>0?1:0:T>0?3:2}function y(x,T){return w(x.x,T.x)}function w(x,T){var E=g(x,1),P=g(T,1);return E!==P?E-P:E===0?T[1]-x[1]:E===1?x[0]-T[0]:E===2?x[1]-T[1]:T[0]-x[0]}return function(x){var T,E,P,z,N,B,I,W,it,D,q,X=x,tt=Zk(),Q={point:Rt,lineStart:function(){Q.point=kt,E&&E.push(P=[]),D=!0,it=!1,I=W=NaN},lineEnd:function(){T&&(kt(z,N),B&&it&&tt.rejoin(),T.push(tt.result())),Q.point=Rt,it&&X.lineEnd()},polygonStart:function(){X=tt,T=[],E=[],q=!0},polygonEnd:function(){var zt=function(){for(var Mt=0,Pt=0,St=E.length;Pt<St;++Pt)for(var Nt,It,Ht=E[Pt],gt=1,Le=Ht.length,oe=Ht[0],ir=oe[0],we=oe[1];gt<Le;++gt)Nt=ir,It=we,ir=(oe=Ht[gt])[0],we=oe[1],It<=a?we>a&&(ir-Nt)*(a-It)>(we-It)*(e-Nt)&&++Mt:we<=a&&(ir-Nt)*(a-It)<(we-It)*(e-Nt)&&--Mt;return Mt}(),Tt=q&&zt,Ft=(T=Qk(T)).length;(Tt||Ft)&&(x.polygonStart(),Tt&&(x.lineStart(),h(null,null,1,x),x.lineEnd()),Ft&&Yk(T,y,zt,h,x),x.polygonEnd()),X=x,T=E=P=null}};function Rt(zt,Tt){c(zt,Tt)&&X.point(zt,Tt)}function kt(zt,Tt){var Ft=c(zt,Tt);if(E&&P.push([zt,Tt]),D)z=zt,N=Tt,B=Ft,D=!1,Ft&&(X.lineStart(),X.point(zt,Tt));else if(Ft&&it)X.point(zt,Tt);else{var Mt=[I=Math.max(wv,Math.min(Of,I)),W=Math.max(wv,Math.min(Of,W))],Pt=[zt=Math.max(wv,Math.min(Of,zt)),Tt=Math.max(wv,Math.min(Of,Tt))];(function(St,Nt,It,Ht,gt,Le){var oe,ir=St[0],we=St[1],Ge=0,fr=1,si=Nt[0]-ir,yn=Nt[1]-we;if(oe=It-ir,si||!(oe>0)){if(oe/=si,si<0){if(oe<Ge)return;oe<fr&&(fr=oe)}else if(si>0){if(oe>fr)return;oe>Ge&&(Ge=oe)}if(oe=gt-ir,si||!(oe<0)){if(oe/=si,si<0){if(oe>fr)return;oe>Ge&&(Ge=oe)}else if(si>0){if(oe<Ge)return;oe<fr&&(fr=oe)}if(oe=Ht-we,yn||!(oe>0)){if(oe/=yn,yn<0){if(oe<Ge)return;oe<fr&&(fr=oe)}else if(yn>0){if(oe>fr)return;oe>Ge&&(Ge=oe)}if(oe=Le-we,yn||!(oe<0)){if(oe/=yn,yn<0){if(oe>fr)return;oe>Ge&&(Ge=oe)}else if(yn>0){if(oe<Ge)return;oe<fr&&(fr=oe)}return Ge>0&&(St[0]=ir+Ge*si,St[1]=we+Ge*yn),fr<1&&(Nt[0]=ir+fr*si,Nt[1]=we+fr*yn),!0}}}}})(Mt,Pt,e,i,s,a)?(it||(X.lineStart(),X.point(Mt[0],Mt[1])),X.point(Pt[0],Pt[1]),Ft||X.lineEnd(),q=!1):Ft&&(X.lineStart(),X.point(zt,Tt),q=!1)}I=zt,W=Tt,it=Ft}return Q}}var $b=Uc();Uc();function $k(e){return e}Uc(),Uc();var Ld=1/0,xv=Ld,zf=-Ld,_v=zf,tE={point:function(e,i){e<Ld&&(Ld=e),e>zf&&(zf=e),i<xv&&(xv=i),i>_v&&(_v=i)},lineStart:Af,lineEnd:Af,polygonStart:Af,polygonEnd:Af,result:function(){var e=[[Ld,xv],[zf,_v]];return zf=_v=-(xv=Ld=1/0),e}};Uc();function eE(e,i,s,a){return function(c,h){var g,y,w,x=i(h),T=c.invert(a[0],a[1]),E=Zk(),P=i(E),z=!1,N={point:B,lineStart:W,lineEnd:it,polygonStart:function(){N.point=D,N.lineStart=q,N.lineEnd=X,y=[],g=[]},polygonEnd:function(){N.point=B,N.lineStart=W,N.lineEnd=it,y=Qk(y);var tt=function(Q,Rt){var kt=Rt[0],zt=Rt[1],Tt=[Wi(kt),-Vi(kt),0],Ft=0,Mt=0;$b.reset();for(var Pt=0,St=Q.length;Pt<St;++Pt)if(It=(Nt=Q[Pt]).length)for(var Nt,It,Ht=Nt[It-1],gt=Ht[0],Le=Ht[1]/2+Dk,oe=Wi(Le),ir=Vi(Le),we=0;we<It;++we,gt=fr,oe=yn,ir=Ev,Ht=Ge){var Ge=Nt[we],fr=Ge[0],si=Ge[1]/2+Dk,yn=Wi(si),Ev=Vi(si),qc=fr-gt,Df=qc>=0?1:-1,Ff=Df*qc,Rd=Ff>li,Tv=oe*yn;if($b.add(Pd(Tv*Df*Wi(Ff),ir*Ev+Tv*Vi(Ff))),Ft+=Rd?qc+Df*$a:qc,Rd^gt>=kt^fr>=kt){var Ad=mv(Id(Ht),Id(Ge));Kb(Ad);var fE=mv(Tt,Ad);Kb(fE);var gE=(Rd^qc>=0?-1:1)*Md(fE[2]);(zt>gE||zt===gE&&(Ad[0]||Ad[1]))&&(Mt+=Rd^qc>=0?1:-1)}}return(Ft<-1e-6||Ft<Fi&&$b<-1e-6)^1&Mt}(g,T);y.length?(z||(h.polygonStart(),z=!0),Yk(y,DI,tt,s,h)):tt&&(z||(h.polygonStart(),z=!0),h.lineStart(),s(null,null,1,h),h.lineEnd()),z&&(h.polygonEnd(),z=!1),y=g=null},sphere:function(){h.polygonStart(),h.lineStart(),s(null,null,1,h),h.lineEnd(),h.polygonEnd()}};function B(tt,Q){var Rt=c(tt,Q);e(tt=Rt[0],Q=Rt[1])&&h.point(tt,Q)}function I(tt,Q){var Rt=c(tt,Q);x.point(Rt[0],Rt[1])}function W(){N.point=I,x.lineStart()}function it(){N.point=B,x.lineEnd()}function D(tt,Q){w.push([tt,Q]);var Rt=c(tt,Q);P.point(Rt[0],Rt[1])}function q(){P.lineStart(),w=[]}function X(){D(w[0][0],w[0][1]),P.lineEnd();var tt,Q,Rt,kt,zt=P.clean(),Tt=E.result(),Ft=Tt.length;if(w.pop(),g.push(w),w=null,Ft)if(1&zt){if((Q=(Rt=Tt[0]).length-1)>0){for(z||(h.polygonStart(),z=!0),h.lineStart(),tt=0;tt<Q;++tt)h.point((kt=Rt[tt])[0],kt[1]);h.lineEnd()}}else Ft>1&&2&zt&&Tt.push(Tt.pop().concat(Tt.shift())),y.push(Tt.filter(NI))}return N}}function NI(e){return e.length>1}function DI(e,i){return((e=e.x)[0]<0?e[1]-Qa-Fi:Qa-e[1])-((i=i.x)[0]<0?i[1]-Qa-Fi:Qa-i[1])}var rE=eE(function(){return!0},function(e){var i,s=NaN,a=NaN,c=NaN;return{lineStart:function(){e.lineStart(),i=1},point:function(h,g){var y=h>0?li:-li,w=jn(h-s);jn(w-li)<Fi?(e.point(s,a=(a+g)/2>0?Qa:-Qa),e.point(c,a),e.lineEnd(),e.lineStart(),e.point(y,a),e.point(h,a),i=0):c!==y&&w>=li&&(jn(s-c)<Fi&&(s-=c*Fi),jn(h-y)<Fi&&(h-=y*Fi),a=function(x,T,E,P){var z,N,B=Wi(x-E);return jn(B)>Fi?OI((Wi(T)*(N=Vi(P))*Wi(E)-Wi(P)*(z=Vi(T))*Wi(x))/(z*N*B)):(T+P)/2}(s,a,h,g),e.point(c,a),e.lineEnd(),e.lineStart(),e.point(y,a),i=0),e.point(s=h,a=g),c=y},lineEnd:function(){e.lineEnd(),s=a=NaN},clean:function(){return 2-i}}},function(e,i,s,a){var c;if(e==null)c=s*Qa,a.point(-li,c),a.point(0,c),a.point(li,c),a.point(li,0),a.point(li,-c),a.point(0,-c),a.point(-li,-c),a.point(-li,0),a.point(-li,c);else if(jn(e[0]-i[0])>Fi){var h=e[0]<i[0]?li:-li;c=s*h/2,a.point(-h,c),a.point(0,c),a.point(h,c)}else a.point(i[0],i[1])},[-li,-Qa]);function FI(e,i){var s=Vi(e),a=s>0,c=jn(s)>Fi;function h(w,x){return Vi(w)*Vi(x)>s}function g(w,x,T){var E=[1,0,0],P=mv(Id(w),Id(x)),z=gv(P,P),N=P[0],B=z-N*N;if(!B)return!T&&w;var I=s*z/B,W=-s*N/B,it=mv(E,P),D=vv(E,I);Xb(D,vv(P,W));var q=it,X=gv(D,q),tt=gv(q,q),Q=X*X-tt*(gv(D,D)-1);if(!(Q<0)){var Rt=Rf(Q),kt=vv(q,(-X-Rt)/tt);if(Xb(kt,D),kt=Yb(kt),!T)return kt;var zt,Tt=w[0],Ft=x[0],Mt=w[1],Pt=x[1];Ft<Tt&&(zt=Tt,Tt=Ft,Ft=zt);var St=Ft-Tt,Nt=jn(St-li)<Fi;if(!Nt&&Pt<Mt&&(zt=Mt,Mt=Pt,Pt=zt),Nt||St<Fi?Nt?Mt+Pt>0^kt[1]<(jn(kt[0]-Tt)<Fi?Mt:Pt):Mt<=kt[1]&&kt[1]<=Pt:St>li^(Tt<=kt[0]&&kt[0]<=Ft)){var It=vv(q,(-X+Rt)/tt);return Xb(It,D),[kt,Yb(It)]}}}function y(w,x){var T=a?e:li-e,E=0;return w<-T?E|=1:w>T&&(E|=2),x<-T?E|=4:x>T&&(E|=8),E}return eE(h,function(w){var x,T,E,P,z;return{lineStart:function(){P=E=!1,z=1},point:function(N,B){var I,W=[N,B],it=h(N,B),D=a?it?0:y(N,B):it?y(N+(N<0?li:-li),B):0;if(!x&&(P=E=it)&&w.lineStart(),it!==E&&(!(I=g(x,W))||yv(x,I)||yv(W,I))&&(W[0]+=Fi,W[1]+=Fi,it=h(W[0],W[1])),it!==E)z=0,it?(w.lineStart(),I=g(W,x),w.point(I[0],I[1])):(I=g(x,W),w.point(I[0],I[1]),w.lineEnd()),x=I;else if(c&&x&&a^it){var q;D&T||!(q=g(W,x,!0))||(z=0,a?(w.lineStart(),w.point(q[0][0],q[0][1]),w.point(q[1][0],q[1][1]),w.lineEnd()):(w.point(q[1][0],q[1][1]),w.lineEnd(),w.lineStart(),w.point(q[0][0],q[0][1])))}!it||x&&yv(x,W)||w.point(W[0],W[1]),x=W,E=it,T=D},lineEnd:function(){E&&w.lineEnd(),x=null},clean:function(){return z|(P&&E)<<1}}},function(w,x,T,E){(function(P,z,N,B,I,W){if(N){var it=Vi(z),D=Wi(z),q=B*N;I==null?(I=z+B*$a,W=z-q/2):(I=Wk(it,I),W=Wk(it,W),(B>0?I<W:I>W)&&(I+=B*$a));for(var X,tt=I;B>0?tt>W:tt<W;tt-=q)X=Yb([it,-D*Vi(tt),-D*Wi(tt)]),P.point(X[0],X[1])}})(E,e,i,T,w,x)},a?[0,-e]:[-li,e-li])}function iE(e){return function(i){var s=new tw;for(var a in e)s[a]=e[a];return s.stream=i,s}}function tw(){}function nE(e,i,s){var a=i[1][0]-i[0][0],c=i[1][1]-i[0][1],h=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),h!=null&&e.clipExtent(null),function(T,E){T&&Bk.hasOwnProperty(T.type)?Bk[T.type](T,E):fv(T,E)}(s,e.stream(tE));var g=tE.result(),y=Math.min(a/(g[1][0]-g[0][0]),c/(g[1][1]-g[0][1])),w=+i[0][0]+(a-y*(g[1][0]+g[0][0]))/2,x=+i[0][1]+(c-y*(g[1][1]+g[0][1]))/2;return h!=null&&e.clipExtent(h),e.scale(150*y).translate([w,x])}tw.prototype={constructor:tw,point:function(e,i){this.stream.point(e,i)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var BI=Vi(30*Hs);function oE(e,i){return+i?function(s,a){function c(h,g,y,w,x,T,E,P,z,N,B,I,W,it){var D=E-h,q=P-g,X=D*D+q*q;if(X>4*a&&W--){var tt=w+N,Q=x+B,Rt=T+I,kt=Rf(tt*tt+Q*Q+Rt*Rt),zt=Md(Rt/=kt),Tt=jn(jn(Rt)-1)<Fi||jn(y-z)<Fi?(y+z)/2:Pd(Q,tt),Ft=s(Tt,zt),Mt=Ft[0],Pt=Ft[1],St=Mt-h,Nt=Pt-g,It=q*St-D*Nt;(It*It/X>a||jn((D*St+q*Nt)/X-.5)>.3||w*N+x*B+T*I<BI)&&(c(h,g,y,w,x,T,Mt,Pt,Tt,tt/=kt,Q/=kt,Rt,W,it),it.point(Mt,Pt),c(Mt,Pt,Tt,tt,Q,Rt,E,P,z,N,B,I,W,it))}}return function(h){var g,y,w,x,T,E,P,z,N,B,I,W,it={point:D,lineStart:q,lineEnd:tt,polygonStart:function(){h.polygonStart(),it.lineStart=Q},polygonEnd:function(){h.polygonEnd(),it.lineStart=q}};function D(zt,Tt){zt=s(zt,Tt),h.point(zt[0],zt[1])}function q(){z=NaN,it.point=X,h.lineStart()}function X(zt,Tt){var Ft=Id([zt,Tt]),Mt=s(zt,Tt);c(z,N,P,B,I,W,z=Mt[0],N=Mt[1],P=zt,B=Ft[0],I=Ft[1],W=Ft[2],16,h),h.point(z,N)}function tt(){it.point=D,h.lineEnd()}function Q(){q(),it.point=Rt,it.lineEnd=kt}function Rt(zt,Tt){X(g=zt,Tt),y=z,w=N,x=B,T=I,E=W,it.point=X}function kt(){c(z,N,P,B,I,W,y,w,g,x,T,E,16,h),it.lineEnd=tt,tt()}return it}}(e,i):function(s){return iE({point:function(a,c){a=s(a,c),this.stream.point(a[0],a[1])}})}(e)}var jI=iE({point:function(e,i){this.stream.point(e*Hs,i*Hs)}});function HI(e){return function(i){var s,a,c,h,g,y,w,x,T,E,P=150,z=480,N=250,B=0,I=0,W=0,it=0,D=0,q=null,X=rE,tt=null,Q=$k,Rt=.5,kt=oE(Ft,Rt);function zt(St){return[(St=g(St[0]*Hs,St[1]*Hs))[0]*P+a,c-St[1]*P]}function Tt(St){return(St=g.invert((St[0]-a)/P,(c-St[1])/P))&&[St[0]*Gc,St[1]*Gc]}function Ft(St,Nt){return[(St=s(St,Nt))[0]*P+a,c-St[1]*P]}function Mt(){g=Uk(h=function(Nt,It,Ht){return(Nt%=$a)?It||Ht?Uk(qk(Nt),Vk(It,Ht)):qk(Nt):It||Ht?Vk(It,Ht):Jb}(W,it,D),s);var St=s(B,I);return a=z-St[0]*P,c=N+St[1]*P,Pt()}function Pt(){return T=E=null,zt}return zt.stream=function(St){return T&&E===St?T:T=jI(X(h,kt(Q(E=St))))},zt.clipAngle=function(St){return arguments.length?(X=+St?FI(q=St*Hs,6*Hs):(q=null,rE),Pt()):q*Gc},zt.clipExtent=function(St){return arguments.length?(Q=St==null?(tt=y=w=x=null,$k):zI(tt=+St[0][0],y=+St[0][1],w=+St[1][0],x=+St[1][1]),Pt()):tt==null?null:[[tt,y],[w,x]]},zt.scale=function(St){return arguments.length?(P=+St,Mt()):P},zt.translate=function(St){return arguments.length?(z=+St[0],N=+St[1],Mt()):[z,N]},zt.center=function(St){return arguments.length?(B=St[0]%360*Hs,I=St[1]%360*Hs,Mt()):[B*Gc,I*Gc]},zt.rotate=function(St){return arguments.length?(W=St[0]%360*Hs,it=St[1]%360*Hs,D=St.length>2?St[2]%360*Hs:0,Mt()):[W*Gc,it*Gc,D*Gc]},zt.precision=function(St){return arguments.length?(kt=oE(Ft,Rt=St*St),Pt()):Rf(Rt)},zt.fitExtent=function(St,Nt){return nE(zt,St,Nt)},zt.fitSize=function(St,Nt){return function(It,Ht,gt){return nE(It,[[0,0],Ht],gt)}(zt,St,Nt)},function(){return s=i.apply(this,arguments),zt.invert=s.invert&&Tt,Mt()}}(function(){return e})()}var sE=function(e){return function(i,s){var a=Vi(i),c=Vi(s),h=e(a*c);return[h*c*Wi(i),h*Wi(s)]}}(function(e){return(e=Fk(e))&&e/Wi(e)});function UI(){return HI(sE).scale(79.4188).clipAngle(179.999)}function kv(e,i,s,a){var c=e.properties||{},h=e.type==="Feature"?e.geometry:e;if(h.type==="GeometryCollection"){var g=[];return fe(e,function(P){var z=kv(P,i,s,a);z&&g.push(z)}),M(g)}var y=function(P){var z=Qo(P).geometry.coordinates,N=[-z[0],-z[1]];return UI().rotate(N).scale(r)}(h),w={type:h.type,coordinates:lE(h.coordinates,y)},x=new Db().read(w),T=H(V(i,s),"meters"),E=pn.bufferOp(x,T,a);if(!aE((E=new mk().write(E)).coordinates))return u({type:E.type,coordinates:cE(E.coordinates,y)},c)}function aE(e){return Array.isArray(e[0])?aE(e[0]):isNaN(e[0])}function lE(e,i){return typeof e[0]!="object"?i(e):e.map(function(s){return lE(s,i)})}function cE(e,i){return typeof e[0]!="object"?i.invert(e):e.map(function(s){return cE(s,i)})}function Nf(e,i,s){s===void 0&&(s={});var a=xt(e),c=xt(i),h=Rl.intersection(a.coordinates,c.coordinates);return h.length===0?null:h.length===1?v(h[0],s.properties):U(h,s.properties)}function uE(e,i,s){s===void 0&&(s={});var a=JSON.stringify(s.properties||{}),c=e[0],h=e[1],g=e[2],y=e[3],w=(h+y)/2,x=(c+g)/2,T=2*i/or([c,w],[g,w],s)*(g-c),E=2*i/or([x,h],[x,y],s)*(y-h),P=T/2,z=2*P,N=Math.sqrt(3)/2*E,B=g-c,I=y-h,W=3/4*z,it=N,D=(B-z)/(z-P/2),q=Math.floor(D),X=(q*W-P/2-B)/2-P/2+W/2,tt=Math.floor((I-N)/N),Q=(I-tt*N)/2,Rt=tt*N-I>N/2;Rt&&(Q-=N/4);for(var kt=[],zt=[],Tt=0;Tt<6;Tt++){var Ft=2*Math.PI/6*Tt;kt.push(Math.cos(Ft)),zt.push(Math.sin(Ft))}for(var Mt=[],Pt=0;Pt<=q;Pt++)for(var St=0;St<=tt;St++){var Nt=Pt%2==1;if((St!==0||!Nt)&&(St!==0||!Rt)){var It=Pt*W+c-X,Ht=St*it+h+Q;if(Nt&&(Ht-=N/2),s.triangles===!0)qI([It,Ht],T/2,E/2,JSON.parse(a),kt,zt).forEach(function(Le){s.mask?Nf(s.mask,Le)&&Mt.push(Le):Mt.push(Le)});else{var gt=GI([It,Ht],T/2,E/2,JSON.parse(a),kt,zt);s.mask?Nf(s.mask,gt)&&Mt.push(gt):Mt.push(gt)}}}return M(Mt)}function GI(e,i,s,a,c,h){for(var g=[],y=0;y<6;y++){var w=e[0]+i*c[y],x=e[1]+s*h[y];g.push([w,x])}return g.push(g[0].slice()),v([g],a)}function qI(e,i,s,a,c,h){for(var g=[],y=0;y<6;y++){var w=[];w.push(e),w.push([e[0]+i*c[y],e[1]+s*h[y]]),w.push([e[0]+i*c[(y+1)%6],e[1]+s*h[(y+1)%6]]),w.push(e),g.push(v([w],a))}return g}function hE(e){return U(e)}function VI(e){return v(e&&e.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]])}function dE(e,i,s){return s===void 0&&(s={}),function(a,c,h,g){g===void 0&&(g={});for(var y=[],w=a[0],x=a[1],T=a[2],E=a[3],P=c/or([w,x],[T,x],g)*(T-w),z=h/or([w,x],[w,E],g)*(E-x),N=T-w,B=E-x,I=Math.floor(N/P),W=Math.floor(B/z),it=(B-W*z)/2,D=w+(N-I*P)/2,q=0;q<I;q++){for(var X=x+it,tt=0;tt<W;tt++){var Q=v([[[D,X],[D,X+z],[D+P,X+z],[D+P,X],[D,X]]],g.properties);g.mask?g_(g.mask,Q)&&y.push(Q):y.push(Q),X+=z}D+=P}return M(y)}(e,i,i,s)}function pE(e,i,s){s===void 0&&(s={});for(var a=[],c=i/or([e[0],e[1]],[e[2],e[1]],s)*(e[2]-e[0]),h=i/or([e[0],e[1]],[e[0],e[3]],s)*(e[3]-e[1]),g=0,y=e[0];y<=e[2];){for(var w=0,x=e[1];x<=e[3];){var T=null,E=null;g%2==0&&w%2==0?(T=v([[[y,x],[y,x+h],[y+c,x],[y,x]]],s.properties),E=v([[[y,x+h],[y+c,x+h],[y+c,x],[y,x+h]]],s.properties)):g%2==0&&w%2==1?(T=v([[[y,x],[y+c,x+h],[y+c,x],[y,x]]],s.properties),E=v([[[y,x],[y,x+h],[y+c,x+h],[y,x]]],s.properties)):w%2==0&&g%2==1?(T=v([[[y,x],[y,x+h],[y+c,x+h],[y,x]]],s.properties),E=v([[[y,x],[y+c,x+h],[y+c,x],[y,x]]],s.properties)):w%2==1&&g%2==1&&(T=v([[[y,x],[y,x+h],[y+c,x],[y,x]]],s.properties),E=v([[[y,x+h],[y+c,x+h],[y+c,x],[y,x+h]]],s.properties)),s.mask?(Nf(s.mask,T)&&a.push(T),Nf(s.mask,E)&&a.push(E)):(a.push(T),a.push(E)),x+=h,w++}g++,y+=c}return M(a)}sE.invert=function(e){return function(i,s){var a=Rf(i*i+s*s),c=e(a),h=Wi(c),g=Vi(c);return[Pd(i*h,a*g),Md(a&&s*h/a)]}}(function(e){return e}),n.along=function(e,i,s){s===void 0&&(s={});for(var a=xt(e).coordinates,c=0,h=0;h<a.length&&!(i>=c&&h===a.length-1);h++){if(c>=i){var g=i-c;if(g){var y=ws(a[h],a[h-1])-180;return Qi(a[h],g,y,s)}return f(a[h])}c+=or(a[h],a[h+1],s)}return f(a[a.length-1])},n.angle=function(e,i,s,a){if(a===void 0&&(a={}),!mt(a))throw new Error("options is invalid");if(!e)throw new Error("startPoint is required");if(!i)throw new Error("midPoint is required");if(!s)throw new Error("endPoint is required");var c=e,h=i,g=s,y=ft(a.mercator!==!0?ws(c,h):Ll(c,h)),w=ft(a.mercator!==!0?ws(g,h):Ll(g,h)),x=Math.abs(y-w);return a.explementary===!0?360-x:x},n.applyFilter=Wm,n.area=Zh,n.areaFactors=l,n.bbox=vt,n.bboxClip=function(e,i){var s=xt(e),a=s.type,c=e.type==="Feature"?e.properties:{},h=s.coordinates;switch(a){case"LineString":case"MultiLineString":var g=[];return a==="LineString"&&(h=[h]),h.forEach(function(y){(function(w,x,T){var E,P,z,N,B,I=w.length,W=Il(w[0],x),it=[];for(T||(T=[]),E=1;E<I;E++){for(N=w[E-1],P=z=Il(B=w[E],x);;){if(!(W|P)){it.push(N),P!==z?(it.push(B),E<I-1&&(T.push(it),it=[])):E===I-1&&it.push(B);break}if(W&P)break;W?W=Il(N=Qp(N,B,W,x),x):P=Il(B=Qp(N,B,P,x),x)}W=z}it.length&&T.push(it)})(y,i,g)}),g.length===1?k(g[0],c):A(g,c);case"Polygon":return v(Hi(h,i),c);case"MultiPolygon":return U(h.map(function(y){return Hi(y,i)}),c);default:throw new Error("geometry "+a+" not supported")}},n.bboxPolygon=Ap,n.bearing=ws,n.bearingToAngle=ft,n.bearingToAzimuth=ft,n.bezier=vm,n.bezierSpline=vm,n.booleanClockwise=Fm,n.booleanContains=function(e,i){var s=xt(e),a=xt(i),c=s.type,h=a.type,g=s.coordinates,y=a.coordinates;switch(c){case"Point":switch(h){case"Point":return pb(g,y);default:throw new Error("feature2 "+h+" geometry not supported")}case"MultiPoint":switch(h){case"Point":return function(w,x){var T,E=!1;for(T=0;T<w.coordinates.length;T++)if(pb(w.coordinates[T],x.coordinates)){E=!0;break}return E}(s,a);case"MultiPoint":return function(w,x){for(var T=0,E=x.coordinates;T<E.length;T++){for(var P=E[T],z=!1,N=0,B=w.coordinates;N<B.length;N++)if(pb(P,B[N])){z=!0;break}if(!z)return!1}return!0}(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}case"LineString":switch(h){case"Point":return $n(a,s,{ignoreEndVertices:!0});case"LineString":return function(w,x){for(var T=!1,E=0,P=x.coordinates;E<P.length;E++){var z=P[E];if($n({type:"Point",coordinates:z},w,{ignoreEndVertices:!0})&&(T=!0),!$n({type:"Point",coordinates:z},w,{ignoreEndVertices:!1}))return!1}return T}(s,a);case"MultiPoint":return function(w,x){for(var T=!1,E=0,P=x.coordinates;E<P.length;E++){var z=P[E];if($n(z,w,{ignoreEndVertices:!0})&&(T=!0),!$n(z,w))return!1}return!!T}(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}case"Polygon":switch(h){case"Point":return $e(a,s,{ignoreBoundary:!0});case"LineString":return function(w,x){var T=!1,E=0,P=vt(w),z=vt(x);if(!a_(P,z))return!1;for(;E<x.coordinates.length-1;E++)if($e({type:"Point",coordinates:SM(x.coordinates[E],x.coordinates[E+1])},w,{ignoreBoundary:!0})){T=!0;break}return T}(s,a);case"Polygon":return function(w,x){if(w.type==="Feature"&&w.geometry===null||x.type==="Feature"&&x.geometry===null)return!1;var T=vt(w),E=vt(x);if(!a_(T,E))return!1;for(var P=xt(x).coordinates,z=0,N=P;z<N.length;z++)for(var B=0,I=N[z];B<I.length;B++)if(!$e(I[B],w))return!1;return!0}(s,a);case"MultiPoint":return function(w,x){for(var T=0,E=x.coordinates;T<E.length;T++)if(!$e(E[T],w,{ignoreBoundary:!0}))return!1;return!0}(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}default:throw new Error("feature1 "+c+" geometry not supported")}},n.booleanCrosses=function(e,i){var s=xt(e),a=xt(i),c=s.type,h=a.type;switch(c){case"MultiPoint":switch(h){case"LineString":return l_(s,a);case"Polygon":return u_(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}case"LineString":switch(h){case"MultiPoint":return l_(a,s);case"LineString":return function(g,y){if(un(g,y).features.length>0)for(var w=0;w<g.coordinates.length-1;w++)for(var x=0;x<y.coordinates.length-1;x++){var T=!0;if(x!==0&&x!==y.coordinates.length-2||(T=!1),h_(g.coordinates[w],g.coordinates[w+1],y.coordinates[x],T))return!0}return!1}(s,a);case"Polygon":return c_(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}case"Polygon":switch(h){case"MultiPoint":return u_(a,s);case"LineString":return c_(a,s);default:throw new Error("feature2 "+h+" geometry not supported")}default:throw new Error("feature1 "+c+" geometry not supported")}},n.booleanDisjoint=n_,n.booleanEqual=function(e,i){return xt(e).type===xt(i).type&&new f_({precision:6}).compare(Qs(e),Qs(i))},n.booleanIntersects=g_,n.booleanOverlap=function(e,i){var s=xt(e),a=xt(i),c=s.type,h=a.type;if(c==="MultiPoint"&&h!=="MultiPoint"||(c==="LineString"||c==="MultiLineString")&&h!=="LineString"&&h!=="MultiLineString"||(c==="Polygon"||c==="MultiPolygon")&&h!=="Polygon"&&h!=="MultiPolygon")throw new Error("features must be of the same type");if(c==="Point")throw new Error("Point geometry not supported");if(new f_({precision:6}).compare(e,i))return!1;var g=0;switch(c){case"MultiPoint":for(var y=0;y<s.coordinates.length;y++)for(var w=0;w<a.coordinates.length;w++){var x=s.coordinates[y],T=a.coordinates[w];if(x[0]===T[0]&&x[1]===T[1])return!0}return!1;case"LineString":case"MultiLineString":er(e,function(E){er(i,function(P){Dm(E,P).features.length&&g++})});break;case"Polygon":case"MultiPolygon":er(e,function(E){er(i,function(P){un(E,P).features.length&&g++})})}return g>0},n.booleanParallel=function(e,i){if(!e)throw new Error("line1 is required");if(!i)throw new Error("line2 is required");if(b_(e,"line1")!=="LineString")throw new Error("line1 must be a LineString");if(b_(i,"line2")!=="LineString")throw new Error("line2 must be a LineString");for(var s=Gn(Qs(e)).features,a=Gn(Qs(i)).features,c=0;c<s.length;c++){var h=s[c].geometry.coordinates;if(!a[c])break;if(!FM(h,a[c].geometry.coordinates))return!1}return!0},n.booleanPointInPolygon=$e,n.booleanPointOnLine=$n,n.booleanWithin=Ec,n.buffer=function(e,i,s){var a=(s=s||{}).units||"kilometers",c=s.steps||8;if(!e)throw new Error("geojson is required");if(typeof s!="object")throw new Error("options must be an object");if(typeof c!="number")throw new Error("steps must be an number");if(i===void 0)throw new Error("radius is required");if(c<=0)throw new Error("steps must be greater than 0");var h=[];switch(e.type){case"GeometryCollection":return fe(e,function(g){var y=kv(g,i,a,c);y&&h.push(y)}),M(h);case"FeatureCollection":return Et(e,function(g){var y=kv(g,i,a,c);y&&Et(y,function(w){w&&h.push(w)})}),M(h)}return kv(e,i,a,c)},n.center=Qo,n.centerMean=vb,n.centerMedian=function(e,i){if(i===void 0&&(i={}),!mt(i=i||{}))throw new Error("options is invalid");var s=i.counter||10;if(!ut(s))throw new Error("counter must be a number");var a=i.weight,c=vb(e,{weight:i.weight}),h=M([]);Et(e,function(y){var w;h.features.push($s(y,{properties:{weight:(w=y.properties)===null||w===void 0?void 0:w[a]}}))});var g={tolerance:i.tolerance,medianCandidates:[]};return L_(c.geometry.coordinates,[0,0],h,g,s)},n.centerOfMass=function e(i,s){switch(s===void 0&&(s={}),te(i)){case"Point":return f(O(i),s.properties);case"Polygon":var a=[];Bt(i,function(q){a.push(q)});var c,h,g,y,w,x,T,E,P=$s(i,{properties:s.properties}),z=P.geometry.coordinates,N=0,B=0,I=0,W=a.map(function(q){return[q[0]-z[0],q[1]-z[1]]});for(c=0;c<a.length-1;c++)y=(h=W[c])[0],x=h[1],w=(g=W[c+1])[0],I+=E=y*(T=g[1])-w*x,N+=(y+w)*E,B+=(x+T)*E;if(I===0)return P;var it=1/(6*(.5*I));return f([z[0]+it*N,z[1]+it*B],s.properties);default:var D=hr(i);return D?e(D,{properties:s.properties}):$s(i,{properties:s.properties})}},n.centroid=$s,n.circle=Op,n.cleanCoords=Qs,n.clone=Pi,n.clusterEach=yb,n.clusterReduce=W_,n.clusters=sI,n.clustersDbscan=function(e,i,s){s===void 0&&(s={}),s.mutate!==!0&&(e=Pi(e)),s.minPoints=s.minPoints||3;var a=new LM.DBSCAN,c=a.run(Zt(e),Z(i,s.units),s.minPoints,or),h=-1;return c.forEach(function(g){h++,g.forEach(function(y){var w=e.features[y];w.properties||(w.properties={}),w.properties.cluster=h,w.properties.dbscan="core"})}),a.noise.forEach(function(g){var y=e.features[g];y.properties||(y.properties={}),y.properties.cluster?y.properties.dbscan="edge":y.properties.dbscan="noise"}),e},n.clustersKmeans=function(e,i){i===void 0&&(i={});var s=e.features.length;i.numberOfClusters=i.numberOfClusters||Math.round(Math.sqrt(s/2)),i.numberOfClusters>s&&(i.numberOfClusters=s),i.mutate!==!0&&(e=Pi(e));var a=Zt(e),c=a.slice(0,i.numberOfClusters),h=DM(a,i.numberOfClusters,c),g={};return h.centroids.forEach(function(y,w){g[w]=y}),Et(e,function(y,w){var x=h.idxs[w];y.properties.cluster=x,y.properties.centroid=g[x]}),e},n.collect=function(e,i,s,a){var c=Ki(6),h=i.features.map(function(g){var y;return{minX:g.geometry.coordinates[0],minY:g.geometry.coordinates[1],maxX:g.geometry.coordinates[0],maxY:g.geometry.coordinates[1],property:(y=g.properties)===null||y===void 0?void 0:y[s]}});return c.load(h),e.features.forEach(function(g){g.properties||(g.properties={});var y=vt(g),w=c.search({minX:y[0],minY:y[1],maxX:y[2],maxY:y[3]}),x=[];w.forEach(function(T){$e([T.minX,T.minY],g)&&x.push(T.property)}),g.properties[a]=x}),e},n.collectionOf=Ot,n.combine=function(e){var i={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}};return Et(e,function(s){var a,c,h,g;switch((g=s.geometry)===null||g===void 0?void 0:g.type){case"Point":i.MultiPoint.coordinates.push(s.geometry.coordinates),i.MultiPoint.properties.push(s.properties);break;case"MultiPoint":(a=i.MultiPoint.coordinates).push.apply(a,s.geometry.coordinates),i.MultiPoint.properties.push(s.properties);break;case"LineString":i.MultiLineString.coordinates.push(s.geometry.coordinates),i.MultiLineString.properties.push(s.properties);break;case"MultiLineString":(c=i.MultiLineString.coordinates).push.apply(c,s.geometry.coordinates),i.MultiLineString.properties.push(s.properties);break;case"Polygon":i.MultiPolygon.coordinates.push(s.geometry.coordinates),i.MultiPolygon.properties.push(s.properties);break;case"MultiPolygon":(h=i.MultiPolygon.coordinates).push.apply(h,s.geometry.coordinates),i.MultiPolygon.properties.push(s.properties)}}),M(Object.keys(i).filter(function(s){return i[s].coordinates.length}).sort().map(function(s){return u({type:s,coordinates:i[s].coordinates},{collectedProperties:i[s].properties})}))},n.concave=function(e,i){i===void 0&&(i={});var s=i.maxEdge||1/0,a=hm(function(h){var g=[],y={};return Et(h,function(w){if(w.geometry){var x=w.geometry.coordinates.join("-");Object.prototype.hasOwnProperty.call(y,x)||(g.push(w),y[x]=!0)}}),M(g)}(e));if(a.features=a.features.filter(function(h){var g=h.geometry.coordinates[0][0],y=h.geometry.coordinates[0][1],w=h.geometry.coordinates[0][2],x=or(g,y,i),T=or(y,w,i),E=or(g,w,i);return x<=s&&T<=s&&E<=s}),a.features.length<1)return null;var c=fm(a);return c.coordinates.length===1&&(c.coordinates=c.coordinates[0],c.type="Polygon"),u(c)},n.containsNumber=dt,n.convertArea=lt,n.convertDistance=Z,n.convertLength=Z,n.convex=hr,n.coordAll=Zt,n.coordEach=Bt,n.coordReduce=pe,n.createBins=bb,n.degrees2radians=ct,n.degreesToRadians=ct,n.destination=Qi,n.difference=function(e,i){var s=xt(e),a=xt(i),c=e.properties||{},h=Rl.difference(s.coordinates,a.coordinates);return h.length===0?null:h.length===1?v(h[0],c):U(h,c)},n.dissolve=function(e,i){if(!mt(i=i||{}))throw new Error("options is invalid");var s=i.propertyName;Ot(e,"Polygon","dissolve");var a=[];if(!i.propertyName)return Jh(U(Rl.union.apply(null,e.features.map(function(w){return w.geometry.coordinates}))));var c={};Et(e,function(w){Object.prototype.hasOwnProperty.call(c,w.properties[s])||(c[w.properties[s]]=[]),c[w.properties[s]].push(w)});for(var h=Object.keys(c),g=0;g<h.length;g++){var y=U(Rl.union.apply(null,c[h[g]].map(function(w){return w.geometry.coordinates})));y.properties[s]=h[g],a.push(y)}return Jh(M(a))},n.distance=or,n.distanceToDegrees=ot,n.distanceToRadians=V,n.distanceWeight=A_,n.earthRadius=r,n.ellipse=M_,n.envelope=zh,n.explode=Su,n.factors=t,n.feature=u,n.featureCollection=M,n.featureEach=Et,n.featureOf=wt,n.featureReduce=qt,n.filterProperties=Z_,n.findPoint=nt,n.findSegment=Xt,n.flatten=Jh,n.flattenEach=le,n.flattenReduce=ue,n.flip=function(e,i){if(!mt(i=i||{}))throw new Error("options is invalid");var s=i.mutate;if(!e)throw new Error("geojson is required");return s!==!1&&s!==void 0||(e=Pi(e)),Bt(e,function(a){var c=a[0],h=a[1];a[0]=h,a[1]=c}),e},n.geojsonType=_t,n.geomEach=fe,n.geomReduce=Ce,n.geometry=d,n.geometryCollection=j,n.getCluster=V_,n.getCoord=O,n.getCoords=Y,n.getGeom=xt,n.getType=te,n.greatCircle=function(e,i,s){if(typeof(s=s||{})!="object")throw new Error("options is invalid");var a=s.properties,c=s.npoints,h=s.offset;return e=O(e),i=O(i),a=a||{},c=c||100,h=h||10,new jt({x:e[0],y:e[1]},{x:i[0],y:i[1]},a).Arc(c,{offset:h}).json()},n.helpers=ye,n.hexGrid=uE,n.inside=$e,n.interpolate=function(e,i,s){if(typeof(s=s||{})!="object")throw new Error("options is invalid");var a=s.gridType,c=s.property,h=s.weight;if(!e)throw new Error("points is required");if(Ot(e,"Point","input must contain Points"),!i)throw new Error("cellSize is required");if(h!==void 0&&typeof h!="number")throw new Error("weight must be a number");c=c||"elevation",a=a||"square",h=h||1;var g,y=vt(e);switch(a){case"point":case"points":g=Yp(y,i,s);break;case"square":case"squares":g=dE(y,i,s);break;case"hex":case"hexes":g=uE(y,i,s);break;case"triangle":case"triangles":g=pE(y,i,s);break;default:throw new Error("invalid gridType")}var w=[];return Et(g,function(x){var T=0,E=0;Et(e,function(z){var N,B=or(a==="point"?x:$s(x),z,s);if(c!==void 0&&(N=z.properties[c]),N===void 0&&(N=z.geometry.coordinates[2]),N===void 0)throw new Error("zValue is missing");B===0&&(T=N);var I=1/Math.pow(B,h);E+=I,T+=I*N});var P=Pi(x);P.properties[c]=T/E,w.push(P)}),M(w)},n.intersect=Nf,n.invariant=ae,n.isNumber=ut,n.isObject=mt,n.isobands=function(e,i,s){if(!mt(s=s||{}))throw new Error("options is invalid");var a=s.zProperty||"elevation",c=s.commonProperties||{},h=s.breaksProperties||[];if(Ot(e,"Point","Input must contain Points"),!i)throw new Error("breaks is required");if(!Array.isArray(i))throw new Error("breaks is not an Array");if(!mt(c))throw new Error("commonProperties is not an Object");if(!Array.isArray(h))throw new Error("breaksProperties is not an Array");var g=pM(e,{zProperty:a,flip:!0}),y=function(w,x,T){for(var E=[],P=1;P<x.length;P++){var z=+x[P-1],N=+x[P],B=bM(yM(fM(w,z,N-z))),I={};I.groupedRings=B,I[T]=z+"-"+N,E.push(I)}return E}(g,i,a);return M((y=function(w,x,T){var E=vt(T),P=E[2]-E[0],z=E[3]-E[1],N=E[0],B=E[1],I=x[0].length-1,W=x.length-1,it=P/I,D=z/W,q=function(X){X[0]=X[0]*it+N,X[1]=X[1]*D+B};return w.forEach(function(X){X.groupedRings.forEach(function(tt){tt.forEach(function(Q){Q.forEach(q)})})}),w}(y,g,e)).map(function(w,x){if(h[x]&&!mt(h[x]))throw new Error("Each mappedProperty is required to be an Object");var T=We({},c,h[x]);return T[a]=w[a],U(w.groupedRings,T)}))},n.isolines=function(e,i,s){if(!mt(s=s||{}))throw new Error("options is invalid");var a=s.zProperty||"elevation",c=s.commonProperties||{},h=s.breaksProperties||[];if(Ot(e,"Point","Input must contain Points"),!i)throw new Error("breaks is required");if(!Array.isArray(i))throw new Error("breaks must be an Array");if(!mt(c))throw new Error("commonProperties must be an Object");if(!Array.isArray(h))throw new Error("breaksProperties must be an Array");var g=lr(e,{zProperty:a,flip:!0});return M(function(y,w,x){var T=vt(x),E=T[2]-T[0],P=T[3]-T[1],z=T[0],N=T[1],B=w[0].length-1,I=w.length-1,W=E/B,it=P/I,D=function(q){q[0]=q[0]*W+z,q[1]=q[1]*it+N};return y.forEach(function(q){Bt(q,D)}),y}(function(y,w,x,T,E){for(var P=[],z=1;z<w.length;z++){var N=+w[z],B=We({},T,E[z]);B[x]=N;var I=A(at(y,N),B);P.push(I)}return P}(g,i,a,c,h),g,e))},n.kinks=function(e){var i,s,a={type:"FeatureCollection",features:[]};if((s=e.type==="Feature"?e.geometry:e).type==="LineString")i=[s.coordinates];else if(s.type==="MultiLineString")i=s.coordinates;else if(s.type==="MultiPolygon")i=[].concat.apply([],s.coordinates);else{if(s.type!=="Polygon")throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");i=s.coordinates}return i.forEach(function(c){i.forEach(function(h){for(var g=0;g<c.length-1;g++)for(var y=g;y<h.length-1;y++)if(!(c===h&&(Math.abs(g-y)===1||g===0&&y===c.length-2&&c[g][0]===c[c.length-1][0]&&c[g][1]===c[c.length-1][1]))){var w=Au(c[g][0],c[g][1],c[g+1][0],c[g+1][1],h[y][0],h[y][1],h[y+1][0],h[y+1][1]);w&&a.features.push(f([w[0],w[1]]))}})}),a},n.length=Xh,n.lengthToDegrees=ot,n.lengthToRadians=V,n.lineArc=In,n.lineChunk=function(e,i,s){if(!mt(s=s||{}))throw new Error("options is invalid");var a=s.units,c=s.reverse;if(!e)throw new Error("geojson is required");if(i<=0)throw new Error("segmentLength must be greater than 0");var h=[];return le(e,function(g){c&&(g.geometry.coordinates=g.geometry.coordinates.reverse()),function(y,w,x,T){var E=Xh(y,{units:x});if(E<=w)return T(y);var P=E/w;Number.isInteger(P)||(P=Math.floor(P)+1);for(var z=0;z<P;z++)T(kc(y,w*z,w*(z+1),{units:x}),z)}(g,i,a,function(y){h.push(y)})}),M(h)},n.lineDistance=Xh,n.lineEach=Gt,n.lineIntersect=un,n.lineOffset=function(e,i,s){if(!mt(s=s||{}))throw new Error("options is invalid");var a=s.units;if(!e)throw new Error("geojson is required");if(i==null||isNaN(i))throw new Error("distance is required");var c=te(e),h=e.properties;switch(c){case"LineString":return t_(e,i,a);case"MultiLineString":var g=[];return le(e,function(y){g.push(t_(y,i,a).geometry.coordinates)}),A(g,h);default:throw new Error("geometry "+c+" is not supported")}},n.lineOverlap=Dm,n.lineReduce=Yt,n.lineSegment=Gn,n.lineSlice=function(e,i,s){var a=Y(s);if(te(s)!=="LineString")throw new Error("line must be a LineString");for(var c,h=na(s,e),g=na(s,i),y=[(c=h.properties.index<=g.properties.index?[h,g]:[g,h])[0].geometry.coordinates],w=c[0].properties.index+1;w<c[1].properties.index+1;w++)y.push(a[w]);return y.push(c[1].geometry.coordinates),k(y,s.properties)},n.lineSliceAlong=kc,n.lineSplit=function(e,i){if(!e)throw new Error("line is required");if(!i)throw new Error("splitter is required");var s=te(e),a=te(i);if(s!=="LineString")throw new Error("line must be LineString");if(a==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(a==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var c=Xp(i,{precision:7});switch(a){case"Point":return xe(e,c);case"MultiPoint":return $t(e,c);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return $t(e,un(e,c))}},n.lineString=k,n.lineStringToPolygon=Rm,n.lineStrings=C,n.lineToPolygon=Rm,n.mask=function(e,i){var s,a=VI(i),c=null;return e.type==="FeatureCollection"?c=hE((s=e).features.length===2?Rl.union(s.features[0].geometry.coordinates,s.features[1].geometry.coordinates):Rl.union.apply(Rl,s.features.map(function(h){return h.geometry.coordinates}))):c=hE(Rl.union(e.geometry.coordinates)),c.geometry.coordinates.forEach(function(h){a.geometry.coordinates.push(h[0])}),a},n.meta=pt,n.midpoint=function(e,i){return Qi(e,or(e,i)/2,ws(e,i))},n.moranIndex=function(e,i){var s=i.inputField,a=i.threshold||1e5,c=i.p||2,h=i.binary||!1,g=A_(e,{alpha:i.alpha||-1,binary:h,p:c,standardization:i.standardization||!0,threshold:a}),y=[];Et(e,function(tt){var Q=tt.properties||{};y.push(Q[s])});for(var w=O_(y),x=function(tt){for(var Q=O_(tt),Rt=0,kt=0,zt=tt;kt<zt.length;kt++){var Tt=zt[kt];Rt+=Math.pow(Tt-Q,2)}return Rt/tt.length}(y),T=0,E=0,P=0,z=0,N=g.length,B=0;B<N;B++){for(var I=0,W=0;W<N;W++)T+=g[B][W]*(y[B]-w)*(y[W]-w),E+=g[B][W],P+=Math.pow(g[B][W]+g[W][B],2),I+=g[B][W]+g[W][B];z+=Math.pow(I,2)}var it=T/E/x,D=-1/(N-1),q=(N*N*(P*=.5)-N*z+E*E*3)/((N-1)*(N+1)*(E*E))-D*D,X=Math.sqrt(q);return{expectedMoranIndex:D,moranIndex:it,stdNorm:X,zNorm:(it-D)/X}},n.multiLineString=A,n.multiPoint=F,n.multiPolygon=U,n.nearest=Bh,n.nearestPoint=Bh,n.nearestPointOnLine=na,n.nearestPointToLine=function(e,i,s){s===void 0&&(s={});var a=s.units,c=s.properties||{},h=function(w){var x=[];switch(w.geometry?w.geometry.type:w.type){case"GeometryCollection":return fe(w,function(T){T.type==="Point"&&x.push({type:"Feature",properties:{},geometry:T})}),{type:"FeatureCollection",features:x};case"FeatureCollection":return w.features=w.features.filter(function(T){return T.geometry.type==="Point"}),w;default:throw new Error("points must be a Point Collection")}}(e);if(!h.features.length)throw new Error("points must contain features");if(!i)throw new Error("line is required");if(te(i)!=="LineString")throw new Error("line must be a LineString");var g=1/0,y=null;return Et(h,function(w){var x=Pm(w,i,{units:a});x<g&&(g=x,y=w)}),y&&(y.properties=We({dist:g},y.properties,c)),y},n.planepoint=function(e,i){var s=O(e),a=xt(i).coordinates[0];if(a.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var c=i.properties||{},h=c.a,g=c.b,y=c.c,w=s[0],x=s[1],T=a[0][0],E=a[0][1],P=h!==void 0?h:a[0][2],z=a[1][0],N=a[1][1],B=g!==void 0?g:a[1][2],I=a[2][0],W=a[2][1],it=y!==void 0?y:a[2][2];return(it*(w-T)*(x-N)+P*(w-z)*(x-W)+B*(w-I)*(x-E)-B*(w-T)*(x-W)-it*(w-z)*(x-E)-P*(w-I)*(x-N))/((w-T)*(x-N)+(w-z)*(x-W)+(w-I)*(x-E)-(w-T)*(x-W)-(w-z)*(x-E)-(w-I)*(x-N))},n.point=f,n.pointGrid=Yp,n.pointOnFeature=Mm,n.pointOnLine=na,n.pointOnSurface=Mm,n.pointToLineDistance=Pm,n.points=m,n.pointsWithinPolygon=dc,n.polygon=v,n.polygonSmooth=function(e,i){var s=[],a=i.iterations||1;if(!e)throw new Error("inputPolys is required");return fe(e,function(c,h,g){var y,w,x;switch(c.type){case"Polygon":y=[[]];for(var T=0;T<a;T++)x=[[]],w=c,T>0&&(w=v(y).geometry),tI(w,x),y=x.slice(0);s.push(v(y,g));break;case"MultiPolygon":y=[[[]]];for(var E=0;E<a;E++)x=[[[]]],w=c,E>0&&(w=U(y).geometry),eI(w,x),y=x.slice(0);s.push(U(y,g));break;default:throw new Error("geometry is invalid, must be Polygon or MultiPolygon")}}),M(s)},n.polygonTangents=function(e,i){var s,a,c,h,g=Y(e),y=Y(i),w=vt(i),x=0,T=null;switch(g[0]>w[0]&&g[0]<w[2]&&g[1]>w[1]&&g[1]<w[3]&&(x=(T=Bh(e,Su(i))).properties.featureIndex),te(i)){case"Polygon":s=y[0][x],a=y[0][0],T!==null&&T.geometry.coordinates[1]<g[1]&&(a=y[0][x]),h=tf(y[0][0],y[0][y[0].length-1],g);var E=Zx(y[0],g,h,c,s,a);s=E[0],a=E[1];break;case"MultiPolygon":for(var P=0,z=0,N=0,B=0;B<y[0].length;B++){P=B;for(var I=!1,W=0;W<y[0][B].length;W++){if(z=W,N===x){I=!0;break}N++}if(I)break}s=y[0][P][z],a=y[0][P][z],h=tf(y[0][0][0],y[0][0][y[0][0].length-1],g),y.forEach(function(it){var D=Zx(it[0],g,h,c,s,a);s=D[0],a=D[1]})}return M([f(s),f(a)])},n.polygonToLine=Ln,n.polygonToLineString=Ln,n.polygonize=function(e){var i=EM.fromGeoJson(e);i.deleteDangles(),i.deleteCutEdges();var s=[],a=[];return i.getEdgeRings().filter(function(c){return c.isValid()}).forEach(function(c){c.isHole()?s.push(c):a.push(c)}),s.forEach(function(c){i_.findEdgeRingContaining(c,a)&&a.push(c)}),M(a.map(function(c){return c.toPolygon()}))},n.polygons=_,n.projection=iI,n.propEach=Jt,n.propReduce=Wt,n.propertiesContainsFilter=wb,n.radians2degrees=ht,n.radiansToDegrees=ht,n.radiansToDistance=H,n.radiansToLength=H,n.random=oI,n.randomLineString=U_,n.randomPoint=j_,n.randomPolygon=H_,n.randomPosition=af,n.rewind=function(e,i){if(!mt(i=i||{}))throw new Error("options is invalid");var s=i.reverse||!1,a=i.mutate||!1;if(!e)throw new Error("<geojson> is required");if(typeof s!="boolean")throw new Error("<reverse> must be a boolean");if(typeof a!="boolean")throw new Error("<mutate> must be a boolean");a===!1&&(e=Pi(e));var c=[];switch(e.type){case"GeometryCollection":return fe(e,function(h){Bm(h,s)}),e;case"FeatureCollection":return Et(e,function(h){Et(Bm(h,s),function(g){c.push(g)})}),M(c)}return Bm(e,s)},n.rhumbBearing=Ll,n.rhumbDestination=td,n.rhumbDistance=Cl,n.round=J,n.sample=function(e,i){if(!e)throw new Error("featurecollection is required");if(i==null)throw new Error("num is required");if(typeof i!="number")throw new Error("num must be a number");return M(function(s,a){for(var c,h,g=s.slice(0),y=s.length,w=y-a;y-- >w;)c=g[h=Math.floor((y+1)*Math.random())],g[h]=g[y],g[y]=c;return g.slice(w)}(e.features,i))},n.sector=function(e,i,s,a,c){if(!mt(c=c||{}))throw new Error("options is invalid");var h=c.properties;if(!e)throw new Error("center is required");if(s==null)throw new Error("bearing1 is required");if(a==null)throw new Error("bearing2 is required");if(!i)throw new Error("radius is required");if(typeof c!="object")throw new Error("options must be an object");if($p(s)===$p(a))return Op(e,i,c);var g=Y(e),y=In(e,i,s,a,c),w=[[g]];return Bt(y,function(x){w[0].push(x)}),w[0].push(g),v(w,h)},n.segmentEach=er,n.segmentReduce=Ut,n.shortestPath=function(e,i,s){if(!mt(s=s||{}))throw new Error("options is invalid");var a=s.resolution,c=s.minDistance,h=s.obstacles||M([]);if(!e)throw new Error("start is required");if(!i)throw new Error("end is required");if(a&&!ut(a)||a<=0)throw new Error("options.resolution must be a number, greater than 0");if(c)throw new Error("options.minDistance is not yet implemented");var g=O(e),y=O(i);switch(e=f(g),i=f(y),te(h)){case"FeatureCollection":if(h.features.length===0)return k([g,y]);break;case"Polygon":h=M([u(xt(h))]);break;default:throw new Error("invalid obstacles")}var w=h;w.features.push(e),w.features.push(i);var x=vt(Qx(Ap(vt(w)),1.15));a||(a=or([x[0],x[1]],[x[2],x[1]],s)/100),w.features.pop(),w.features.pop();for(var T=x[0],E=x[1],P=x[2],z=x[3],N=a/or([T,E],[P,E],s)*(P-T),B=a/or([T,E],[T,z],s)*(z-E),I=P-T,W=z-E,it=Math.floor(I/N),D=Math.floor(W/B),q=(I-it*N)/2,X=[],tt=[],Q=[],Rt=[],kt=1/0,zt=1/0,Tt=z-(W-D*B)/2,Ft=0;Tt>=E;){for(var Mt=[],Pt=[],St=T+q,Nt=0;St<=P;){var It=f([St,Tt]),Ht=BM(It,h);Mt.push(Ht?0:1),Pt.push(St+"|"+Tt);var gt=or(It,e);!Ht&&gt<kt&&(kt=gt,Q={x:Nt,y:Ft});var Le=or(It,i);!Ht&&Le<zt&&(zt=Le,Rt={x:Nt,y:Ft}),St+=N,Nt++}tt.push(Mt),X.push(Pt),Tt-=B,Ft++}var oe=new ed(tt,{diagonal:!0}),ir=oe.grid[Q.y][Q.x],we=oe.grid[Rt.y][Rt.x],Ge=Hm.search(oe,ir,we),fr=[g];return Ge.forEach(function(si){var yn=X[si.x][si.y].split("|");fr.push([+yn[0],+yn[1]])}),fr.push(y),Qs(k(fr))},n.simplify=function(e,i){if(!mt(i=i||{}))throw new Error("options is invalid");var s=i.tolerance!==void 0?i.tolerance:1,a=i.highQuality||!1,c=i.mutate||!1;if(!e)throw new Error("geojson is required");if(s&&s<0)throw new Error("invalid tolerance");return c!==!0&&(e=Pi(e)),fe(e,function(h){(function(g,y,w){var x=g.type;if(x==="Point"||x==="MultiPoint")return g;Qs(g,!0);var T=g.coordinates;switch(x){case"LineString":g.coordinates=gm(T,y,w);break;case"MultiLineString":g.coordinates=T.map(function(E){return gm(E,y,w)});break;case"Polygon":g.coordinates=Oh(T,y,w);break;case"MultiPolygon":g.coordinates=T.map(function(E){return Oh(E,y,w)})}})(h,s,a)}),e},n.square=ym,n.squareGrid=dE,n.standardDeviationalEllipse=function(e,i){if(!mt(i=i||{}))throw new Error("options is invalid");var s=i.steps||64,a=i.weight,c=i.properties||{};if(!ut(s))throw new Error("steps must be a number");if(!mt(c))throw new Error("properties must be a number");var h=Zt(e).length,g=vb(e,{weight:a}),y=0,w=0,x=0;Et(e,function(Q){var Rt=Q.properties[a]||1,kt=R_(Y(Q),Y(g));y+=Math.pow(kt.x,2)*Rt,w+=Math.pow(kt.y,2)*Rt,x+=kt.x*kt.y*Rt});var T=y-w,E=Math.sqrt(Math.pow(T,2)+4*Math.pow(x,2)),P=2*x,z=Math.atan((T+E)/P),N=180*z/Math.PI,B=0,I=0,W=0;Et(e,function(Q){var Rt=Q.properties[a]||1,kt=R_(Y(Q),Y(g));B+=Math.pow(kt.x*Math.cos(z)-kt.y*Math.sin(z),2)*Rt,I+=Math.pow(kt.x*Math.sin(z)+kt.y*Math.cos(z),2)*Rt,W+=Rt});var it=Math.sqrt(2*B/W),D=Math.sqrt(2*I/W),q=M_(g,it,D,{units:"degrees",angle:N,steps:s,properties:c}),X=dc(e,M([q])),tt={meanCenterCoordinates:Y(g),semiMajorAxis:it,semiMinorAxis:D,numberOfFeatures:h,angle:N,percentageWithinEllipse:100*Zt(X).length/h};return q.properties.standardDeviationalEllipse=tt,q},n.tag=function(e,i,s,a){return e=Pi(e),i=Pi(i),Et(e,function(c){c.properties||(c.properties={}),Et(i,function(h){c.properties[a]===void 0&&$e(c,h)&&(c.properties[a]=h.properties[s])})}),e},n.tesselate=function(e){if(!e.geometry||e.geometry.type!=="Polygon"&&e.geometry.type!=="MultiPolygon")throw new Error("input must be a Polygon or MultiPolygon");var i={type:"FeatureCollection",features:[]};return e.geometry.type==="Polygon"?i.features=Tl(e.geometry.coordinates):e.geometry.coordinates.forEach(function(s){i.features=i.features.concat(Tl(s))}),i},n.tin=hm,n.toMercator=z_,n.toWgs84=N_,n.transformRotate=Jx,n.transformScale=Qx,n.transformTranslate=function(e,i,s,a){if(!mt(a=a||{}))throw new Error("options is invalid");var c=a.units,h=a.zTranslation,g=a.mutate;if(!e)throw new Error("geojson is required");if(i==null||isNaN(i))throw new Error("distance is required");if(h&&typeof h!="number"&&isNaN(h))throw new Error("zTranslation is not a number");if(h=h!==void 0?h:0,i===0&&h===0)return e;if(s==null||isNaN(s))throw new Error("direction is required");return i<0&&(i=-i,s+=180),g!==!1&&g!==void 0||(e=Pi(e)),Bt(e,function(y){var w=Y(td(y,i,s,{units:c}));y[0]=w[0],y[1]=w[1],h&&y.length===3&&(y[2]+=h)}),e},n.triangleGrid=pE,n.truncate=Xp,n.union=function(e,i,s){s===void 0&&(s={});var a=xt(e),c=xt(i),h=Rl.union(a.coordinates,c.coordinates);return h.length===0?null:h.length===1?v(h[0],s.properties):U(h,s.properties)},n.unitsFactors=o,n.unkinkPolygon=function(e){var i=[];return le(e,function(s){s.geometry.type==="Polygon"&&Et(eb(s),function(a){i.push(v(a.geometry.coordinates,s.properties))})}),M(i)},n.validateBBox=re,n.validateId=ne,n.voronoi=function(e,i){if(!mt(i=i||{}))throw new Error("options is invalid");var s=i.bbox||[-180,-85,180,85];if(!e)throw new Error("points is required");if(!Array.isArray(s))throw new Error("bbox is invalid");return Ot(e,"Point","points"),M(function(){var a=jM,c=HM,h=null;function g(y){return new mb(y.map(function(w,x){var T=[Math.round(a(w,x,y)/_i)*_i,Math.round(c(w,x,y)/_i)*_i];return T.index=x,T.data=w,T}),h)}return g.polygons=function(y){return g(y).polygons()},g.links=function(y){return g(y).links()},g.triangles=function(y){return g(y).triangles()},g.x=function(y){return arguments.length?(a=typeof y=="function"?y:__(+y),g):a},g.y=function(y){return arguments.length?(c=typeof y=="function"?y:__(+y),g):c},g.extent=function(y){return arguments.length?(h=y==null?null:[[+y[0][0],+y[0][1]],[+y[1][0],+y[1][1]]],g):h&&[[h[0][0],h[0][1]],[h[1][0],h[1][1]]]},g.size=function(y){return arguments.length?(h=y==null?null:[[0,0],[+y[0],+y[1]]],g):h&&[h[1][0]-h[0][0],h[1][1]-h[0][1]]},g}().x(function(a){return a.geometry.coordinates[0]}).y(function(a){return a.geometry.coordinates[1]}).extent([[s[0],s[1]],[s[2],s[3]]]).polygons(e.features).map($M))},n.within=dc,Object.defineProperty(n,"__esModule",{value:!0})});var t6={exports:{}};(function(n){(function(r){n.exports=r(Jn)})(function(r){r.Map.mergeOptions({smoothWheelZoom:!0,smoothSensitivity:1}),r.Map.SmoothWheelZoom=r.Handler.extend({addHooks:function(){r.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this)},removeHooks:function(){r.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){this._isWheeling||this._onWheelStart(t),this._onWheeling(t)},_onWheelStart:function(t){var o=this._map;this._isWheeling=!0,this._wheelMousePosition=o.mouseEventToContainerPoint(t),this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),this._wheelStartLatLng=o.containerPointToLatLng(this._wheelMousePosition),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),o._panAnim&&o._panAnim.stop(),this._goalZoom=o.getZoom(),this._prevCenter=o.getCenter(),this._prevZoom=o.getZoom(),this._zoomAnimationId=requestAnimationFrame(this._updateWheelZoom.bind(this))},_onWheeling:function(t){var o=this._map;this._goalZoom=this._goalZoom-t.deltaY*.003*o.options.smoothSensitivity,(this._goalZoom<o.getMinZoom()||this._goalZoom>o.getMaxZoom())&&(this._goalZoom=o._limitZoom(this._goalZoom)),this._wheelMousePosition=this._map.mouseEventToContainerPoint(t),clearTimeout(this._timeoutId),this._timeoutId=setTimeout(this._onWheelEnd.bind(this),200),r.DomEvent.preventDefault(t),r.DomEvent.stopPropagation(t)},_onWheelEnd:function(t){this._isWheeling=!1,cancelAnimationFrame(this._zoomAnimationId),this._map.fire("zoomend")},_updateWheelZoom:function(){var t=this._map;if(!(!t.getCenter().equals(this._prevCenter)||t.getZoom()!=this._prevZoom)){this._zoom=t.getZoom()+(this._goalZoom-t.getZoom())*.3,this._zoom=Math.floor(this._zoom*100)/100;var o=this._wheelMousePosition.subtract(this._centerPoint);o.x===0&&o.y===0||(t.options.smoothWheelZoom==="center"?this._center=this._startLatLng:this._center=t.unproject(t.project(this._wheelStartLatLng,this._zoom).subtract(o),this._zoom),this._moved||(t._moveStart(!0,!1),this._moved=!0),t._move(this._center,this._zoom),this._prevCenter=t.getCenter(),this._prevZoom=t.getZoom(),t.fire("viewreset"),this._zoomAnimationId=requestAnimationFrame(this._updateWheelZoom.bind(this)))}}}),r.Map.addInitHook("addHandler","smoothWheelZoom",r.Map.SmoothWheelZoom)})})(t6);function c1(n){return Array.isArray(n)?`[${n.map(r=>c1(r)).join(",")}]`:typeof n=="number"?`${n}`:typeof n=="string"?`"${n}"`:typeof n=="object"&&n!==null?Object.keys(n).sort().map(r=>`${r}:${c1(n[r])}`).join("|"):String(n)}async function e6(n){const r=await crypto.subtle.digest("SHA-1",new TextEncoder().encode(n));return Array.from(new Uint8Array(r)).map(t=>t.toString(16).padStart(2,"0")).join("")}async function DC(n,r=16){return(await e6(String(n))).slice(0,r)}async function r6(n,r){return await DC(c1(n),r)}var ui;(function(n){n.assertEqual=l=>l;function r(l){}n.assertIs=r;function t(l){throw new Error}n.assertNever=t,n.arrayToEnum=l=>{const u={};for(const d of l)u[d]=d;return u},n.getValidEnumValues=l=>{const u=n.objectKeys(l).filter(f=>typeof l[l[f]]!="number"),d={};for(const f of u)d[f]=l[f];return n.objectValues(d)},n.objectValues=l=>n.objectKeys(l).map(function(u){return l[u]}),n.objectKeys=typeof Object.keys=="function"?l=>Object.keys(l):l=>{const u=[];for(const d in l)Object.prototype.hasOwnProperty.call(l,d)&&u.push(d);return u},n.find=(l,u)=>{for(const d of l)if(u(d))return d},n.isInteger=typeof Number.isInteger=="function"?l=>Number.isInteger(l):l=>typeof l=="number"&&isFinite(l)&&Math.floor(l)===l;function o(l,u=" | "){return l.map(d=>typeof d=="string"?`'${d}'`:d).join(u)}n.joinValues=o,n.jsonStringifyReplacer=(l,u)=>typeof u=="bigint"?u.toString():u})(ui||(ui={}));var u1;(function(n){n.mergeShapes=(r,t)=>({...r,...t})})(u1||(u1={}));const Me=ui.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Yc=n=>{switch(typeof n){case"undefined":return Me.undefined;case"string":return Me.string;case"number":return isNaN(n)?Me.nan:Me.number;case"boolean":return Me.boolean;case"function":return Me.function;case"bigint":return Me.bigint;case"symbol":return Me.symbol;case"object":return Array.isArray(n)?Me.array:n===null?Me.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?Me.promise:typeof Map<"u"&&n instanceof Map?Me.map:typeof Set<"u"&&n instanceof Set?Me.set:typeof Date<"u"&&n instanceof Date?Me.date:Me.object;default:return Me.unknown}},de=ui.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),i6=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class Ma extends Error{constructor(r){super(),this.issues=[],this.addIssue=o=>{this.issues=[...this.issues,o]},this.addIssues=(o=[])=>{this.issues=[...this.issues,...o]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=r}get errors(){return this.issues}format(r){const t=r||function(u){return u.message},o={_errors:[]},l=u=>{for(const d of u.issues)if(d.code==="invalid_union")d.unionErrors.map(l);else if(d.code==="invalid_return_type")l(d.returnTypeError);else if(d.code==="invalid_arguments")l(d.argumentsError);else if(d.path.length===0)o._errors.push(t(d));else{let f=o,m=0;for(;m<d.path.length;){const v=d.path[m];m===d.path.length-1?(f[v]=f[v]||{_errors:[]},f[v]._errors.push(t(d))):f[v]=f[v]||{_errors:[]},f=f[v],m++}}};return l(this),o}toString(){return this.message}get message(){return JSON.stringify(this.issues,ui.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(r=t=>t.message){const t={},o=[];for(const l of this.issues)l.path.length>0?(t[l.path[0]]=t[l.path[0]]||[],t[l.path[0]].push(r(l))):o.push(r(l));return{formErrors:o,fieldErrors:t}}get formErrors(){return this.flatten()}}Ma.create=n=>new Ma(n);const Cg=(n,r)=>{let t;switch(n.code){case de.invalid_type:n.received===Me.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case de.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,ui.jsonStringifyReplacer)}`;break;case de.unrecognized_keys:t=`Unrecognized key(s) in object: ${ui.joinValues(n.keys,", ")}`;break;case de.invalid_union:t="Invalid input";break;case de.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${ui.joinValues(n.options)}`;break;case de.invalid_enum_value:t=`Invalid enum value. Expected ${ui.joinValues(n.options)}, received '${n.received}'`;break;case de.invalid_arguments:t="Invalid function arguments";break;case de.invalid_return_type:t="Invalid function return type";break;case de.invalid_date:t="Invalid date";break;case de.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:ui.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case de.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case de.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case de.custom:t="Invalid input";break;case de.invalid_intersection_types:t="Intersection results could not be merged";break;case de.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case de.not_finite:t="Number must be finite";break;default:t=r.defaultError,ui.assertNever(n)}return{message:t}};let FC=Cg;function n6(n){FC=n}function N0(){return FC}const D0=n=>{const{data:r,path:t,errorMaps:o,issueData:l}=n,u=[...t,...l.path||[]],d={...l,path:u};let f="";const m=o.filter(v=>!!v).slice().reverse();for(const v of m)f=v(d,{data:r,defaultError:f}).message;return{...l,path:u,message:l.message||f}},o6=[];function Re(n,r){const t=D0({issueData:r,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,N0(),Cg].filter(o=>!!o)});n.common.issues.push(t)}class po{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(r,t){const o=[];for(const l of t){if(l.status==="aborted")return dr;l.status==="dirty"&&r.dirty(),o.push(l.value)}return{status:r.value,value:o}}static async mergeObjectAsync(r,t){const o=[];for(const l of t)o.push({key:await l.key,value:await l.value});return po.mergeObjectSync(r,o)}static mergeObjectSync(r,t){const o={};for(const l of t){const{key:u,value:d}=l;if(u.status==="aborted"||d.status==="aborted")return dr;u.status==="dirty"&&r.dirty(),d.status==="dirty"&&r.dirty(),u.value!=="__proto__"&&(typeof d.value<"u"||l.alwaysSet)&&(o[u.value]=d.value)}return{status:r.value,value:o}}}const dr=Object.freeze({status:"aborted"}),BC=n=>({status:"dirty",value:n}),Co=n=>({status:"valid",value:n}),h1=n=>n.status==="aborted",d1=n=>n.status==="dirty",Pg=n=>n.status==="valid",F0=n=>typeof Promise<"u"&&n instanceof Promise;var Ke;(function(n){n.errToObj=r=>typeof r=="string"?{message:r}:r||{},n.toString=r=>typeof r=="string"?r:r==null?void 0:r.message})(Ke||(Ke={}));class dl{constructor(r,t,o,l){this._cachedPath=[],this.parent=r,this.data=t,this._path=o,this._key=l}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const W2=(n,r)=>{if(Pg(r))return{success:!0,data:r.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Ma(n.common.issues);return this._error=t,this._error}}};function mr(n){if(!n)return{};const{errorMap:r,invalid_type_error:t,required_error:o,description:l}=n;if(r&&(t||o))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return r?{errorMap:r,description:l}:{errorMap:(u,d)=>u.code!=="invalid_type"?{message:d.defaultError}:typeof d.data>"u"?{message:o??d.defaultError}:{message:t??d.defaultError},description:l}}class br{constructor(r){this.spa=this.safeParseAsync,this._def=r,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(r){return Yc(r.data)}_getOrReturnCtx(r,t){return t||{common:r.parent.common,data:r.data,parsedType:Yc(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}_processInputParams(r){return{status:new po,ctx:{common:r.parent.common,data:r.data,parsedType:Yc(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}}_parseSync(r){const t=this._parse(r);if(F0(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(r){const t=this._parse(r);return Promise.resolve(t)}parse(r,t){const o=this.safeParse(r,t);if(o.success)return o.data;throw o.error}safeParse(r,t){var o;const l={common:{issues:[],async:(o=t==null?void 0:t.async)!==null&&o!==void 0?o:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:Yc(r)},u=this._parseSync({data:r,path:l.path,parent:l});return W2(l,u)}async parseAsync(r,t){const o=await this.safeParseAsync(r,t);if(o.success)return o.data;throw o.error}async safeParseAsync(r,t){const o={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:Yc(r)},l=this._parse({data:r,path:o.path,parent:o}),u=await(F0(l)?l:Promise.resolve(l));return W2(o,u)}refine(r,t){const o=l=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(l):t;return this._refinement((l,u)=>{const d=r(l),f=()=>u.addIssue({code:de.custom,...o(l)});return typeof Promise<"u"&&d instanceof Promise?d.then(m=>m?!0:(f(),!1)):d?!0:(f(),!1)})}refinement(r,t){return this._refinement((o,l)=>r(o)?!0:(l.addIssue(typeof t=="function"?t(o,l):t),!1))}_refinement(r){return new La({schema:this,typeName:nr.ZodEffects,effect:{type:"refinement",refinement:r}})}superRefine(r){return this._refinement(r)}optional(){return Ql.create(this,this._def)}nullable(){return wh.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ia.create(this,this._def)}promise(){return dp.create(this,this._def)}or(r){return Rg.create([this,r],this._def)}and(r){return Ag.create(this,r,this._def)}transform(r){return new La({...mr(this._def),schema:this,typeName:nr.ZodEffects,effect:{type:"transform",transform:r}})}default(r){const t=typeof r=="function"?r:()=>r;return new Fg({...mr(this._def),innerType:this,defaultValue:t,typeName:nr.ZodDefault})}brand(){return new HC({typeName:nr.ZodBranded,type:this,...mr(this._def)})}catch(r){const t=typeof r=="function"?r:()=>r;return new U0({...mr(this._def),innerType:this,catchValue:t,typeName:nr.ZodCatch})}describe(r){const t=this.constructor;return new t({...this._def,description:r})}pipe(r){return Qg.create(this,r)}readonly(){return q0.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const s6=/^c[^\s-]{8,}$/i,a6=/^[a-z][a-z0-9]*$/,l6=/^[0-9A-HJKMNP-TV-Z]{26}$/,c6=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,u6=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,h6="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Tw;const d6=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,p6=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,f6=n=>n.precision?n.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${n.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${n.precision}}Z$`):n.precision===0?n.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):n.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function g6(n,r){return!!((r==="v4"||!r)&&d6.test(n)||(r==="v6"||!r)&&p6.test(n))}class Ea extends br{_parse(r){if(this._def.coerce&&(r.data=String(r.data)),this._getType(r)!==Me.string){const l=this._getOrReturnCtx(r);return Re(l,{code:de.invalid_type,expected:Me.string,received:l.parsedType}),dr}const t=new po;let o;for(const l of this._def.checks)if(l.kind==="min")r.data.length<l.value&&(o=this._getOrReturnCtx(r,o),Re(o,{code:de.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),t.dirty());else if(l.kind==="max")r.data.length>l.value&&(o=this._getOrReturnCtx(r,o),Re(o,{code:de.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),t.dirty());else if(l.kind==="length"){const u=r.data.length>l.value,d=r.data.length<l.value;(u||d)&&(o=this._getOrReturnCtx(r,o),u?Re(o,{code:de.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):d&&Re(o,{code:de.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),t.dirty())}else if(l.kind==="email")u6.test(r.data)||(o=this._getOrReturnCtx(r,o),Re(o,{validation:"email",code:de.invalid_string,message:l.message}),t.dirty());else if(l.kind==="emoji")Tw||(Tw=new RegExp(h6,"u")),Tw.test(r.data)||(o=this._getOrReturnCtx(r,o),Re(o,{validation:"emoji",code:de.invalid_string,message:l.message}),t.dirty());else if(l.kind==="uuid")c6.test(r.data)||(o=this._getOrReturnCtx(r,o),Re(o,{validation:"uuid",code:de.invalid_string,message:l.message}),t.dirty());else if(l.kind==="cuid")s6.test(r.data)||(o=this._getOrReturnCtx(r,o),Re(o,{validation:"cuid",code:de.invalid_string,message:l.message}),t.dirty());else if(l.kind==="cuid2")a6.test(r.data)||(o=this._getOrReturnCtx(r,o),Re(o,{validation:"cuid2",code:de.invalid_string,message:l.message}),t.dirty());else if(l.kind==="ulid")l6.test(r.data)||(o=this._getOrReturnCtx(r,o),Re(o,{validation:"ulid",code:de.invalid_string,message:l.message}),t.dirty());else if(l.kind==="url")try{new URL(r.data)}catch{o=this._getOrReturnCtx(r,o),Re(o,{validation:"url",code:de.invalid_string,message:l.message}),t.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(r.data)||(o=this._getOrReturnCtx(r,o),Re(o,{validation:"regex",code:de.invalid_string,message:l.message}),t.dirty())):l.kind==="trim"?r.data=r.data.trim():l.kind==="includes"?r.data.includes(l.value,l.position)||(o=this._getOrReturnCtx(r,o),Re(o,{code:de.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),t.dirty()):l.kind==="toLowerCase"?r.data=r.data.toLowerCase():l.kind==="toUpperCase"?r.data=r.data.toUpperCase():l.kind==="startsWith"?r.data.startsWith(l.value)||(o=this._getOrReturnCtx(r,o),Re(o,{code:de.invalid_string,validation:{startsWith:l.value},message:l.message}),t.dirty()):l.kind==="endsWith"?r.data.endsWith(l.value)||(o=this._getOrReturnCtx(r,o),Re(o,{code:de.invalid_string,validation:{endsWith:l.value},message:l.message}),t.dirty()):l.kind==="datetime"?f6(l).test(r.data)||(o=this._getOrReturnCtx(r,o),Re(o,{code:de.invalid_string,validation:"datetime",message:l.message}),t.dirty()):l.kind==="ip"?g6(r.data,l.version)||(o=this._getOrReturnCtx(r,o),Re(o,{validation:"ip",code:de.invalid_string,message:l.message}),t.dirty()):ui.assertNever(l);return{status:t.value,value:r.data}}_regex(r,t,o){return this.refinement(l=>r.test(l),{validation:t,code:de.invalid_string,...Ke.errToObj(o)})}_addCheck(r){return new Ea({...this._def,checks:[...this._def.checks,r]})}email(r){return this._addCheck({kind:"email",...Ke.errToObj(r)})}url(r){return this._addCheck({kind:"url",...Ke.errToObj(r)})}emoji(r){return this._addCheck({kind:"emoji",...Ke.errToObj(r)})}uuid(r){return this._addCheck({kind:"uuid",...Ke.errToObj(r)})}cuid(r){return this._addCheck({kind:"cuid",...Ke.errToObj(r)})}cuid2(r){return this._addCheck({kind:"cuid2",...Ke.errToObj(r)})}ulid(r){return this._addCheck({kind:"ulid",...Ke.errToObj(r)})}ip(r){return this._addCheck({kind:"ip",...Ke.errToObj(r)})}datetime(r){var t;return typeof r=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:r}):this._addCheck({kind:"datetime",precision:typeof(r==null?void 0:r.precision)>"u"?null:r==null?void 0:r.precision,offset:(t=r==null?void 0:r.offset)!==null&&t!==void 0?t:!1,...Ke.errToObj(r==null?void 0:r.message)})}regex(r,t){return this._addCheck({kind:"regex",regex:r,...Ke.errToObj(t)})}includes(r,t){return this._addCheck({kind:"includes",value:r,position:t==null?void 0:t.position,...Ke.errToObj(t==null?void 0:t.message)})}startsWith(r,t){return this._addCheck({kind:"startsWith",value:r,...Ke.errToObj(t)})}endsWith(r,t){return this._addCheck({kind:"endsWith",value:r,...Ke.errToObj(t)})}min(r,t){return this._addCheck({kind:"min",value:r,...Ke.errToObj(t)})}max(r,t){return this._addCheck({kind:"max",value:r,...Ke.errToObj(t)})}length(r,t){return this._addCheck({kind:"length",value:r,...Ke.errToObj(t)})}nonempty(r){return this.min(1,Ke.errToObj(r))}trim(){return new Ea({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ea({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ea({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(r=>r.kind==="datetime")}get isEmail(){return!!this._def.checks.find(r=>r.kind==="email")}get isURL(){return!!this._def.checks.find(r=>r.kind==="url")}get isEmoji(){return!!this._def.checks.find(r=>r.kind==="emoji")}get isUUID(){return!!this._def.checks.find(r=>r.kind==="uuid")}get isCUID(){return!!this._def.checks.find(r=>r.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(r=>r.kind==="cuid2")}get isULID(){return!!this._def.checks.find(r=>r.kind==="ulid")}get isIP(){return!!this._def.checks.find(r=>r.kind==="ip")}get minLength(){let r=null;for(const t of this._def.checks)t.kind==="min"&&(r===null||t.value>r)&&(r=t.value);return r}get maxLength(){let r=null;for(const t of this._def.checks)t.kind==="max"&&(r===null||t.value<r)&&(r=t.value);return r}}Ea.create=n=>{var r;return new Ea({checks:[],typeName:nr.ZodString,coerce:(r=n==null?void 0:n.coerce)!==null&&r!==void 0?r:!1,...mr(n)})};function m6(n,r){const t=(n.toString().split(".")[1]||"").length,o=(r.toString().split(".")[1]||"").length,l=t>o?t:o,u=parseInt(n.toFixed(l).replace(".","")),d=parseInt(r.toFixed(l).replace(".",""));return u%d/Math.pow(10,l)}class su extends br{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(r){if(this._def.coerce&&(r.data=Number(r.data)),this._getType(r)!==Me.number){const l=this._getOrReturnCtx(r);return Re(l,{code:de.invalid_type,expected:Me.number,received:l.parsedType}),dr}let t;const o=new po;for(const l of this._def.checks)l.kind==="int"?ui.isInteger(r.data)||(t=this._getOrReturnCtx(r,t),Re(t,{code:de.invalid_type,expected:"integer",received:"float",message:l.message}),o.dirty()):l.kind==="min"?(l.inclusive?r.data<l.value:r.data<=l.value)&&(t=this._getOrReturnCtx(r,t),Re(t,{code:de.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),o.dirty()):l.kind==="max"?(l.inclusive?r.data>l.value:r.data>=l.value)&&(t=this._getOrReturnCtx(r,t),Re(t,{code:de.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),o.dirty()):l.kind==="multipleOf"?m6(r.data,l.value)!==0&&(t=this._getOrReturnCtx(r,t),Re(t,{code:de.not_multiple_of,multipleOf:l.value,message:l.message}),o.dirty()):l.kind==="finite"?Number.isFinite(r.data)||(t=this._getOrReturnCtx(r,t),Re(t,{code:de.not_finite,message:l.message}),o.dirty()):ui.assertNever(l);return{status:o.value,value:r.data}}gte(r,t){return this.setLimit("min",r,!0,Ke.toString(t))}gt(r,t){return this.setLimit("min",r,!1,Ke.toString(t))}lte(r,t){return this.setLimit("max",r,!0,Ke.toString(t))}lt(r,t){return this.setLimit("max",r,!1,Ke.toString(t))}setLimit(r,t,o,l){return new su({...this._def,checks:[...this._def.checks,{kind:r,value:t,inclusive:o,message:Ke.toString(l)}]})}_addCheck(r){return new su({...this._def,checks:[...this._def.checks,r]})}int(r){return this._addCheck({kind:"int",message:Ke.toString(r)})}positive(r){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ke.toString(r)})}negative(r){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ke.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ke.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ke.toString(r)})}multipleOf(r,t){return this._addCheck({kind:"multipleOf",value:r,message:Ke.toString(t)})}finite(r){return this._addCheck({kind:"finite",message:Ke.toString(r)})}safe(r){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ke.toString(r)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ke.toString(r)})}get minValue(){let r=null;for(const t of this._def.checks)t.kind==="min"&&(r===null||t.value>r)&&(r=t.value);return r}get maxValue(){let r=null;for(const t of this._def.checks)t.kind==="max"&&(r===null||t.value<r)&&(r=t.value);return r}get isInt(){return!!this._def.checks.find(r=>r.kind==="int"||r.kind==="multipleOf"&&ui.isInteger(r.value))}get isFinite(){let r=null,t=null;for(const o of this._def.checks){if(o.kind==="finite"||o.kind==="int"||o.kind==="multipleOf")return!0;o.kind==="min"?(t===null||o.value>t)&&(t=o.value):o.kind==="max"&&(r===null||o.value<r)&&(r=o.value)}return Number.isFinite(t)&&Number.isFinite(r)}}su.create=n=>new su({checks:[],typeName:nr.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...mr(n)});class au extends br{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(r){if(this._def.coerce&&(r.data=BigInt(r.data)),this._getType(r)!==Me.bigint){const l=this._getOrReturnCtx(r);return Re(l,{code:de.invalid_type,expected:Me.bigint,received:l.parsedType}),dr}let t;const o=new po;for(const l of this._def.checks)l.kind==="min"?(l.inclusive?r.data<l.value:r.data<=l.value)&&(t=this._getOrReturnCtx(r,t),Re(t,{code:de.too_small,type:"bigint",minimum:l.value,inclusive:l.inclusive,message:l.message}),o.dirty()):l.kind==="max"?(l.inclusive?r.data>l.value:r.data>=l.value)&&(t=this._getOrReturnCtx(r,t),Re(t,{code:de.too_big,type:"bigint",maximum:l.value,inclusive:l.inclusive,message:l.message}),o.dirty()):l.kind==="multipleOf"?r.data%l.value!==BigInt(0)&&(t=this._getOrReturnCtx(r,t),Re(t,{code:de.not_multiple_of,multipleOf:l.value,message:l.message}),o.dirty()):ui.assertNever(l);return{status:o.value,value:r.data}}gte(r,t){return this.setLimit("min",r,!0,Ke.toString(t))}gt(r,t){return this.setLimit("min",r,!1,Ke.toString(t))}lte(r,t){return this.setLimit("max",r,!0,Ke.toString(t))}lt(r,t){return this.setLimit("max",r,!1,Ke.toString(t))}setLimit(r,t,o,l){return new au({...this._def,checks:[...this._def.checks,{kind:r,value:t,inclusive:o,message:Ke.toString(l)}]})}_addCheck(r){return new au({...this._def,checks:[...this._def.checks,r]})}positive(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ke.toString(r)})}negative(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ke.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ke.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ke.toString(r)})}multipleOf(r,t){return this._addCheck({kind:"multipleOf",value:r,message:Ke.toString(t)})}get minValue(){let r=null;for(const t of this._def.checks)t.kind==="min"&&(r===null||t.value>r)&&(r=t.value);return r}get maxValue(){let r=null;for(const t of this._def.checks)t.kind==="max"&&(r===null||t.value<r)&&(r=t.value);return r}}au.create=n=>{var r;return new au({checks:[],typeName:nr.ZodBigInt,coerce:(r=n==null?void 0:n.coerce)!==null&&r!==void 0?r:!1,...mr(n)})};class Mg extends br{_parse(r){if(this._def.coerce&&(r.data=!!r.data),this._getType(r)!==Me.boolean){const t=this._getOrReturnCtx(r);return Re(t,{code:de.invalid_type,expected:Me.boolean,received:t.parsedType}),dr}return Co(r.data)}}Mg.create=n=>new Mg({typeName:nr.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...mr(n)});class yh extends br{_parse(r){if(this._def.coerce&&(r.data=new Date(r.data)),this._getType(r)!==Me.date){const l=this._getOrReturnCtx(r);return Re(l,{code:de.invalid_type,expected:Me.date,received:l.parsedType}),dr}if(isNaN(r.data.getTime())){const l=this._getOrReturnCtx(r);return Re(l,{code:de.invalid_date}),dr}const t=new po;let o;for(const l of this._def.checks)l.kind==="min"?r.data.getTime()<l.value&&(o=this._getOrReturnCtx(r,o),Re(o,{code:de.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),t.dirty()):l.kind==="max"?r.data.getTime()>l.value&&(o=this._getOrReturnCtx(r,o),Re(o,{code:de.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),t.dirty()):ui.assertNever(l);return{status:t.value,value:new Date(r.data.getTime())}}_addCheck(r){return new yh({...this._def,checks:[...this._def.checks,r]})}min(r,t){return this._addCheck({kind:"min",value:r.getTime(),message:Ke.toString(t)})}max(r,t){return this._addCheck({kind:"max",value:r.getTime(),message:Ke.toString(t)})}get minDate(){let r=null;for(const t of this._def.checks)t.kind==="min"&&(r===null||t.value>r)&&(r=t.value);return r!=null?new Date(r):null}get maxDate(){let r=null;for(const t of this._def.checks)t.kind==="max"&&(r===null||t.value<r)&&(r=t.value);return r!=null?new Date(r):null}}yh.create=n=>new yh({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:nr.ZodDate,...mr(n)});class B0 extends br{_parse(r){if(this._getType(r)!==Me.symbol){const t=this._getOrReturnCtx(r);return Re(t,{code:de.invalid_type,expected:Me.symbol,received:t.parsedType}),dr}return Co(r.data)}}B0.create=n=>new B0({typeName:nr.ZodSymbol,...mr(n)});class Ig extends br{_parse(r){if(this._getType(r)!==Me.undefined){const t=this._getOrReturnCtx(r);return Re(t,{code:de.invalid_type,expected:Me.undefined,received:t.parsedType}),dr}return Co(r.data)}}Ig.create=n=>new Ig({typeName:nr.ZodUndefined,...mr(n)});class Lg extends br{_parse(r){if(this._getType(r)!==Me.null){const t=this._getOrReturnCtx(r);return Re(t,{code:de.invalid_type,expected:Me.null,received:t.parsedType}),dr}return Co(r.data)}}Lg.create=n=>new Lg({typeName:nr.ZodNull,...mr(n)});class hp extends br{constructor(){super(...arguments),this._any=!0}_parse(r){return Co(r.data)}}hp.create=n=>new hp({typeName:nr.ZodAny,...mr(n)});class dh extends br{constructor(){super(...arguments),this._unknown=!0}_parse(r){return Co(r.data)}}dh.create=n=>new dh({typeName:nr.ZodUnknown,...mr(n)});class nc extends br{_parse(r){const t=this._getOrReturnCtx(r);return Re(t,{code:de.invalid_type,expected:Me.never,received:t.parsedType}),dr}}nc.create=n=>new nc({typeName:nr.ZodNever,...mr(n)});class j0 extends br{_parse(r){if(this._getType(r)!==Me.undefined){const t=this._getOrReturnCtx(r);return Re(t,{code:de.invalid_type,expected:Me.void,received:t.parsedType}),dr}return Co(r.data)}}j0.create=n=>new j0({typeName:nr.ZodVoid,...mr(n)});class Ia extends br{_parse(r){const{ctx:t,status:o}=this._processInputParams(r),l=this._def;if(t.parsedType!==Me.array)return Re(t,{code:de.invalid_type,expected:Me.array,received:t.parsedType}),dr;if(l.exactLength!==null){const d=t.data.length>l.exactLength.value,f=t.data.length<l.exactLength.value;(d||f)&&(Re(t,{code:d?de.too_big:de.too_small,minimum:f?l.exactLength.value:void 0,maximum:d?l.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:l.exactLength.message}),o.dirty())}if(l.minLength!==null&&t.data.length<l.minLength.value&&(Re(t,{code:de.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,exact:!1,message:l.minLength.message}),o.dirty()),l.maxLength!==null&&t.data.length>l.maxLength.value&&(Re(t,{code:de.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,exact:!1,message:l.maxLength.message}),o.dirty()),t.common.async)return Promise.all([...t.data].map((d,f)=>l.type._parseAsync(new dl(t,d,t.path,f)))).then(d=>po.mergeArray(o,d));const u=[...t.data].map((d,f)=>l.type._parseSync(new dl(t,d,t.path,f)));return po.mergeArray(o,u)}get element(){return this._def.type}min(r,t){return new Ia({...this._def,minLength:{value:r,message:Ke.toString(t)}})}max(r,t){return new Ia({...this._def,maxLength:{value:r,message:Ke.toString(t)}})}length(r,t){return new Ia({...this._def,exactLength:{value:r,message:Ke.toString(t)}})}nonempty(r){return this.min(1,r)}}Ia.create=(n,r)=>new Ia({type:n,minLength:null,maxLength:null,exactLength:null,typeName:nr.ZodArray,...mr(r)});function jd(n){if(n instanceof Zi){const r={};for(const t in n.shape){const o=n.shape[t];r[t]=Ql.create(jd(o))}return new Zi({...n._def,shape:()=>r})}else return n instanceof Ia?new Ia({...n._def,type:jd(n.element)}):n instanceof Ql?Ql.create(jd(n.unwrap())):n instanceof wh?wh.create(jd(n.unwrap())):n instanceof pl?pl.create(n.items.map(r=>jd(r))):n}class Zi extends br{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const r=this._def.shape(),t=ui.objectKeys(r);return this._cached={shape:r,keys:t}}_parse(r){if(this._getType(r)!==Me.object){const m=this._getOrReturnCtx(r);return Re(m,{code:de.invalid_type,expected:Me.object,received:m.parsedType}),dr}const{status:t,ctx:o}=this._processInputParams(r),{shape:l,keys:u}=this._getCached(),d=[];if(!(this._def.catchall instanceof nc&&this._def.unknownKeys==="strip"))for(const m in o.data)u.includes(m)||d.push(m);const f=[];for(const m of u){const v=l[m],_=o.data[m];f.push({key:{status:"valid",value:m},value:v._parse(new dl(o,_,o.path,m)),alwaysSet:m in o.data})}if(this._def.catchall instanceof nc){const m=this._def.unknownKeys;if(m==="passthrough")for(const v of d)f.push({key:{status:"valid",value:v},value:{status:"valid",value:o.data[v]}});else if(m==="strict")d.length>0&&(Re(o,{code:de.unrecognized_keys,keys:d}),t.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const v of d){const _=o.data[v];f.push({key:{status:"valid",value:v},value:m._parse(new dl(o,_,o.path,v)),alwaysSet:v in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const m=[];for(const v of f){const _=await v.key;m.push({key:_,value:await v.value,alwaysSet:v.alwaysSet})}return m}).then(m=>po.mergeObjectSync(t,m)):po.mergeObjectSync(t,f)}get shape(){return this._def.shape()}strict(r){return Ke.errToObj,new Zi({...this._def,unknownKeys:"strict",...r!==void 0?{errorMap:(t,o)=>{var l,u,d,f;const m=(d=(u=(l=this._def).errorMap)===null||u===void 0?void 0:u.call(l,t,o).message)!==null&&d!==void 0?d:o.defaultError;return t.code==="unrecognized_keys"?{message:(f=Ke.errToObj(r).message)!==null&&f!==void 0?f:m}:{message:m}}}:{}})}strip(){return new Zi({...this._def,unknownKeys:"strip"})}passthrough(){return new Zi({...this._def,unknownKeys:"passthrough"})}extend(r){return new Zi({...this._def,shape:()=>({...this._def.shape(),...r})})}merge(r){return new Zi({unknownKeys:r._def.unknownKeys,catchall:r._def.catchall,shape:()=>({...this._def.shape(),...r._def.shape()}),typeName:nr.ZodObject})}setKey(r,t){return this.augment({[r]:t})}catchall(r){return new Zi({...this._def,catchall:r})}pick(r){const t={};return ui.objectKeys(r).forEach(o=>{r[o]&&this.shape[o]&&(t[o]=this.shape[o])}),new Zi({...this._def,shape:()=>t})}omit(r){const t={};return ui.objectKeys(this.shape).forEach(o=>{r[o]||(t[o]=this.shape[o])}),new Zi({...this._def,shape:()=>t})}deepPartial(){return jd(this)}partial(r){const t={};return ui.objectKeys(this.shape).forEach(o=>{const l=this.shape[o];r&&!r[o]?t[o]=l:t[o]=l.optional()}),new Zi({...this._def,shape:()=>t})}required(r){const t={};return ui.objectKeys(this.shape).forEach(o=>{if(r&&!r[o])t[o]=this.shape[o];else{let l=this.shape[o];for(;l instanceof Ql;)l=l._def.innerType;t[o]=l}}),new Zi({...this._def,shape:()=>t})}keyof(){return jC(ui.objectKeys(this.shape))}}Zi.create=(n,r)=>new Zi({shape:()=>n,unknownKeys:"strip",catchall:nc.create(),typeName:nr.ZodObject,...mr(r)});Zi.strictCreate=(n,r)=>new Zi({shape:()=>n,unknownKeys:"strict",catchall:nc.create(),typeName:nr.ZodObject,...mr(r)});Zi.lazycreate=(n,r)=>new Zi({shape:n,unknownKeys:"strip",catchall:nc.create(),typeName:nr.ZodObject,...mr(r)});class Rg extends br{_parse(r){const{ctx:t}=this._processInputParams(r),o=this._def.options;function l(u){for(const f of u)if(f.result.status==="valid")return f.result;for(const f of u)if(f.result.status==="dirty")return t.common.issues.push(...f.ctx.common.issues),f.result;const d=u.map(f=>new Ma(f.ctx.common.issues));return Re(t,{code:de.invalid_union,unionErrors:d}),dr}if(t.common.async)return Promise.all(o.map(async u=>{const d={...t,common:{...t.common,issues:[]},parent:null};return{result:await u._parseAsync({data:t.data,path:t.path,parent:d}),ctx:d}})).then(l);{let u;const d=[];for(const m of o){const v={...t,common:{...t.common,issues:[]},parent:null},_=m._parseSync({data:t.data,path:t.path,parent:v});if(_.status==="valid")return _;_.status==="dirty"&&!u&&(u={result:_,ctx:v}),v.common.issues.length&&d.push(v.common.issues)}if(u)return t.common.issues.push(...u.ctx.common.issues),u.result;const f=d.map(m=>new Ma(m));return Re(t,{code:de.invalid_union,unionErrors:f}),dr}}get options(){return this._def.options}}Rg.create=(n,r)=>new Rg({options:n,typeName:nr.ZodUnion,...mr(r)});const c0=n=>n instanceof zg?c0(n.schema):n instanceof La?c0(n.innerType()):n instanceof Ng?[n.value]:n instanceof lu?n.options:n instanceof Dg?Object.keys(n.enum):n instanceof Fg?c0(n._def.innerType):n instanceof Ig?[void 0]:n instanceof Lg?[null]:null;class xy extends br{_parse(r){const{ctx:t}=this._processInputParams(r);if(t.parsedType!==Me.object)return Re(t,{code:de.invalid_type,expected:Me.object,received:t.parsedType}),dr;const o=this.discriminator,l=t.data[o],u=this.optionsMap.get(l);return u?t.common.async?u._parseAsync({data:t.data,path:t.path,parent:t}):u._parseSync({data:t.data,path:t.path,parent:t}):(Re(t,{code:de.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[o]}),dr)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(r,t,o){const l=new Map;for(const u of t){const d=c0(u.shape[r]);if(!d)throw new Error(`A discriminator value for key \`${r}\` could not be extracted from all schema options`);for(const f of d){if(l.has(f))throw new Error(`Discriminator property ${String(r)} has duplicate value ${String(f)}`);l.set(f,u)}}return new xy({typeName:nr.ZodDiscriminatedUnion,discriminator:r,options:t,optionsMap:l,...mr(o)})}}function p1(n,r){const t=Yc(n),o=Yc(r);if(n===r)return{valid:!0,data:n};if(t===Me.object&&o===Me.object){const l=ui.objectKeys(r),u=ui.objectKeys(n).filter(f=>l.indexOf(f)!==-1),d={...n,...r};for(const f of u){const m=p1(n[f],r[f]);if(!m.valid)return{valid:!1};d[f]=m.data}return{valid:!0,data:d}}else if(t===Me.array&&o===Me.array){if(n.length!==r.length)return{valid:!1};const l=[];for(let u=0;u<n.length;u++){const d=n[u],f=r[u],m=p1(d,f);if(!m.valid)return{valid:!1};l.push(m.data)}return{valid:!0,data:l}}else return t===Me.date&&o===Me.date&&+n==+r?{valid:!0,data:n}:{valid:!1}}class Ag extends br{_parse(r){const{status:t,ctx:o}=this._processInputParams(r),l=(u,d)=>{if(h1(u)||h1(d))return dr;const f=p1(u.value,d.value);return f.valid?((d1(u)||d1(d))&&t.dirty(),{status:t.value,value:f.data}):(Re(o,{code:de.invalid_intersection_types}),dr)};return o.common.async?Promise.all([this._def.left._parseAsync({data:o.data,path:o.path,parent:o}),this._def.right._parseAsync({data:o.data,path:o.path,parent:o})]).then(([u,d])=>l(u,d)):l(this._def.left._parseSync({data:o.data,path:o.path,parent:o}),this._def.right._parseSync({data:o.data,path:o.path,parent:o}))}}Ag.create=(n,r,t)=>new Ag({left:n,right:r,typeName:nr.ZodIntersection,...mr(t)});class pl extends br{_parse(r){const{status:t,ctx:o}=this._processInputParams(r);if(o.parsedType!==Me.array)return Re(o,{code:de.invalid_type,expected:Me.array,received:o.parsedType}),dr;if(o.data.length<this._def.items.length)return Re(o,{code:de.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),dr;!this._def.rest&&o.data.length>this._def.items.length&&(Re(o,{code:de.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const l=[...o.data].map((u,d)=>{const f=this._def.items[d]||this._def.rest;return f?f._parse(new dl(o,u,o.path,d)):null}).filter(u=>!!u);return o.common.async?Promise.all(l).then(u=>po.mergeArray(t,u)):po.mergeArray(t,l)}get items(){return this._def.items}rest(r){return new pl({...this._def,rest:r})}}pl.create=(n,r)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new pl({items:n,typeName:nr.ZodTuple,rest:null,...mr(r)})};class Og extends br{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:t,ctx:o}=this._processInputParams(r);if(o.parsedType!==Me.object)return Re(o,{code:de.invalid_type,expected:Me.object,received:o.parsedType}),dr;const l=[],u=this._def.keyType,d=this._def.valueType;for(const f in o.data)l.push({key:u._parse(new dl(o,f,o.path,f)),value:d._parse(new dl(o,o.data[f],o.path,f))});return o.common.async?po.mergeObjectAsync(t,l):po.mergeObjectSync(t,l)}get element(){return this._def.valueType}static create(r,t,o){return t instanceof br?new Og({keyType:r,valueType:t,typeName:nr.ZodRecord,...mr(o)}):new Og({keyType:Ea.create(),valueType:r,typeName:nr.ZodRecord,...mr(t)})}}class H0 extends br{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:t,ctx:o}=this._processInputParams(r);if(o.parsedType!==Me.map)return Re(o,{code:de.invalid_type,expected:Me.map,received:o.parsedType}),dr;const l=this._def.keyType,u=this._def.valueType,d=[...o.data.entries()].map(([f,m],v)=>({key:l._parse(new dl(o,f,o.path,[v,"key"])),value:u._parse(new dl(o,m,o.path,[v,"value"]))}));if(o.common.async){const f=new Map;return Promise.resolve().then(async()=>{for(const m of d){const v=await m.key,_=await m.value;if(v.status==="aborted"||_.status==="aborted")return dr;(v.status==="dirty"||_.status==="dirty")&&t.dirty(),f.set(v.value,_.value)}return{status:t.value,value:f}})}else{const f=new Map;for(const m of d){const v=m.key,_=m.value;if(v.status==="aborted"||_.status==="aborted")return dr;(v.status==="dirty"||_.status==="dirty")&&t.dirty(),f.set(v.value,_.value)}return{status:t.value,value:f}}}}H0.create=(n,r,t)=>new H0({valueType:r,keyType:n,typeName:nr.ZodMap,...mr(t)});class bh extends br{_parse(r){const{status:t,ctx:o}=this._processInputParams(r);if(o.parsedType!==Me.set)return Re(o,{code:de.invalid_type,expected:Me.set,received:o.parsedType}),dr;const l=this._def;l.minSize!==null&&o.data.size<l.minSize.value&&(Re(o,{code:de.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,exact:!1,message:l.minSize.message}),t.dirty()),l.maxSize!==null&&o.data.size>l.maxSize.value&&(Re(o,{code:de.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,exact:!1,message:l.maxSize.message}),t.dirty());const u=this._def.valueType;function d(m){const v=new Set;for(const _ of m){if(_.status==="aborted")return dr;_.status==="dirty"&&t.dirty(),v.add(_.value)}return{status:t.value,value:v}}const f=[...o.data.values()].map((m,v)=>u._parse(new dl(o,m,o.path,v)));return o.common.async?Promise.all(f).then(m=>d(m)):d(f)}min(r,t){return new bh({...this._def,minSize:{value:r,message:Ke.toString(t)}})}max(r,t){return new bh({...this._def,maxSize:{value:r,message:Ke.toString(t)}})}size(r,t){return this.min(r,t).max(r,t)}nonempty(r){return this.min(1,r)}}bh.create=(n,r)=>new bh({valueType:n,minSize:null,maxSize:null,typeName:nr.ZodSet,...mr(r)});class tp extends br{constructor(){super(...arguments),this.validate=this.implement}_parse(r){const{ctx:t}=this._processInputParams(r);if(t.parsedType!==Me.function)return Re(t,{code:de.invalid_type,expected:Me.function,received:t.parsedType}),dr;function o(f,m){return D0({data:f,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,N0(),Cg].filter(v=>!!v),issueData:{code:de.invalid_arguments,argumentsError:m}})}function l(f,m){return D0({data:f,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,N0(),Cg].filter(v=>!!v),issueData:{code:de.invalid_return_type,returnTypeError:m}})}const u={errorMap:t.common.contextualErrorMap},d=t.data;if(this._def.returns instanceof dp){const f=this;return Co(async function(...m){const v=new Ma([]),_=await f._def.args.parseAsync(m,u).catch(C=>{throw v.addIssue(o(m,C)),v}),k=await Reflect.apply(d,this,_);return await f._def.returns._def.type.parseAsync(k,u).catch(C=>{throw v.addIssue(l(k,C)),v})})}else{const f=this;return Co(function(...m){const v=f._def.args.safeParse(m,u);if(!v.success)throw new Ma([o(m,v.error)]);const _=Reflect.apply(d,this,v.data),k=f._def.returns.safeParse(_,u);if(!k.success)throw new Ma([l(_,k.error)]);return k.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...r){return new tp({...this._def,args:pl.create(r).rest(dh.create())})}returns(r){return new tp({...this._def,returns:r})}implement(r){return this.parse(r)}strictImplement(r){return this.parse(r)}static create(r,t,o){return new tp({args:r||pl.create([]).rest(dh.create()),returns:t||dh.create(),typeName:nr.ZodFunction,...mr(o)})}}class zg extends br{get schema(){return this._def.getter()}_parse(r){const{ctx:t}=this._processInputParams(r);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}zg.create=(n,r)=>new zg({getter:n,typeName:nr.ZodLazy,...mr(r)});class Ng extends br{_parse(r){if(r.data!==this._def.value){const t=this._getOrReturnCtx(r);return Re(t,{received:t.data,code:de.invalid_literal,expected:this._def.value}),dr}return{status:"valid",value:r.data}}get value(){return this._def.value}}Ng.create=(n,r)=>new Ng({value:n,typeName:nr.ZodLiteral,...mr(r)});function jC(n,r){return new lu({values:n,typeName:nr.ZodEnum,...mr(r)})}class lu extends br{_parse(r){if(typeof r.data!="string"){const t=this._getOrReturnCtx(r),o=this._def.values;return Re(t,{expected:ui.joinValues(o),received:t.parsedType,code:de.invalid_type}),dr}if(this._def.values.indexOf(r.data)===-1){const t=this._getOrReturnCtx(r),o=this._def.values;return Re(t,{received:t.data,code:de.invalid_enum_value,options:o}),dr}return Co(r.data)}get options(){return this._def.values}get enum(){const r={};for(const t of this._def.values)r[t]=t;return r}get Values(){const r={};for(const t of this._def.values)r[t]=t;return r}get Enum(){const r={};for(const t of this._def.values)r[t]=t;return r}extract(r){return lu.create(r)}exclude(r){return lu.create(this.options.filter(t=>!r.includes(t)))}}lu.create=jC;class Dg extends br{_parse(r){const t=ui.getValidEnumValues(this._def.values),o=this._getOrReturnCtx(r);if(o.parsedType!==Me.string&&o.parsedType!==Me.number){const l=ui.objectValues(t);return Re(o,{expected:ui.joinValues(l),received:o.parsedType,code:de.invalid_type}),dr}if(t.indexOf(r.data)===-1){const l=ui.objectValues(t);return Re(o,{received:o.data,code:de.invalid_enum_value,options:l}),dr}return Co(r.data)}get enum(){return this._def.values}}Dg.create=(n,r)=>new Dg({values:n,typeName:nr.ZodNativeEnum,...mr(r)});class dp extends br{unwrap(){return this._def.type}_parse(r){const{ctx:t}=this._processInputParams(r);if(t.parsedType!==Me.promise&&t.common.async===!1)return Re(t,{code:de.invalid_type,expected:Me.promise,received:t.parsedType}),dr;const o=t.parsedType===Me.promise?t.data:Promise.resolve(t.data);return Co(o.then(l=>this._def.type.parseAsync(l,{path:t.path,errorMap:t.common.contextualErrorMap})))}}dp.create=(n,r)=>new dp({type:n,typeName:nr.ZodPromise,...mr(r)});class La extends br{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===nr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(r){const{status:t,ctx:o}=this._processInputParams(r),l=this._def.effect||null,u={addIssue:d=>{Re(o,d),d.fatal?t.abort():t.dirty()},get path(){return o.path}};if(u.addIssue=u.addIssue.bind(u),l.type==="preprocess"){const d=l.transform(o.data,u);return o.common.issues.length?{status:"dirty",value:o.data}:o.common.async?Promise.resolve(d).then(f=>this._def.schema._parseAsync({data:f,path:o.path,parent:o})):this._def.schema._parseSync({data:d,path:o.path,parent:o})}if(l.type==="refinement"){const d=f=>{const m=l.refinement(f,u);if(o.common.async)return Promise.resolve(m);if(m instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return f};if(o.common.async===!1){const f=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});return f.status==="aborted"?dr:(f.status==="dirty"&&t.dirty(),d(f.value),{status:t.value,value:f.value})}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(f=>f.status==="aborted"?dr:(f.status==="dirty"&&t.dirty(),d(f.value).then(()=>({status:t.value,value:f.value}))))}if(l.type==="transform")if(o.common.async===!1){const d=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});if(!Pg(d))return d;const f=l.transform(d.value,u);if(f instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:f}}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(d=>Pg(d)?Promise.resolve(l.transform(d.value,u)).then(f=>({status:t.value,value:f})):d);ui.assertNever(l)}}La.create=(n,r,t)=>new La({schema:n,typeName:nr.ZodEffects,effect:r,...mr(t)});La.createWithPreprocess=(n,r,t)=>new La({schema:r,effect:{type:"preprocess",transform:n},typeName:nr.ZodEffects,...mr(t)});class Ql extends br{_parse(r){return this._getType(r)===Me.undefined?Co(void 0):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}Ql.create=(n,r)=>new Ql({innerType:n,typeName:nr.ZodOptional,...mr(r)});class wh extends br{_parse(r){return this._getType(r)===Me.null?Co(null):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}wh.create=(n,r)=>new wh({innerType:n,typeName:nr.ZodNullable,...mr(r)});class Fg extends br{_parse(r){const{ctx:t}=this._processInputParams(r);let o=t.data;return t.parsedType===Me.undefined&&(o=this._def.defaultValue()),this._def.innerType._parse({data:o,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Fg.create=(n,r)=>new Fg({innerType:n,typeName:nr.ZodDefault,defaultValue:typeof r.default=="function"?r.default:()=>r.default,...mr(r)});class U0 extends br{_parse(r){const{ctx:t}=this._processInputParams(r),o={...t,common:{...t.common,issues:[]}},l=this._def.innerType._parse({data:o.data,path:o.path,parent:{...o}});return F0(l)?l.then(u=>({status:"valid",value:u.status==="valid"?u.value:this._def.catchValue({get error(){return new Ma(o.common.issues)},input:o.data})})):{status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new Ma(o.common.issues)},input:o.data})}}removeCatch(){return this._def.innerType}}U0.create=(n,r)=>new U0({innerType:n,typeName:nr.ZodCatch,catchValue:typeof r.catch=="function"?r.catch:()=>r.catch,...mr(r)});class G0 extends br{_parse(r){if(this._getType(r)!==Me.nan){const t=this._getOrReturnCtx(r);return Re(t,{code:de.invalid_type,expected:Me.nan,received:t.parsedType}),dr}return{status:"valid",value:r.data}}}G0.create=n=>new G0({typeName:nr.ZodNaN,...mr(n)});const v6=Symbol("zod_brand");class HC extends br{_parse(r){const{ctx:t}=this._processInputParams(r),o=t.data;return this._def.type._parse({data:o,path:t.path,parent:t})}unwrap(){return this._def.type}}class Qg extends br{_parse(r){const{status:t,ctx:o}=this._processInputParams(r);if(o.common.async)return(async()=>{const l=await this._def.in._parseAsync({data:o.data,path:o.path,parent:o});return l.status==="aborted"?dr:l.status==="dirty"?(t.dirty(),BC(l.value)):this._def.out._parseAsync({data:l.value,path:o.path,parent:o})})();{const l=this._def.in._parseSync({data:o.data,path:o.path,parent:o});return l.status==="aborted"?dr:l.status==="dirty"?(t.dirty(),{status:"dirty",value:l.value}):this._def.out._parseSync({data:l.value,path:o.path,parent:o})}}static create(r,t){return new Qg({in:r,out:t,typeName:nr.ZodPipeline})}}class q0 extends br{_parse(r){const t=this._def.innerType._parse(r);return Pg(t)&&(t.value=Object.freeze(t.value)),t}}q0.create=(n,r)=>new q0({innerType:n,typeName:nr.ZodReadonly,...mr(r)});const UC=(n,r={},t)=>n?hp.create().superRefine((o,l)=>{var u,d;if(!n(o)){const f=typeof r=="function"?r(o):typeof r=="string"?{message:r}:r,m=(d=(u=f.fatal)!==null&&u!==void 0?u:t)!==null&&d!==void 0?d:!0,v=typeof f=="string"?{message:f}:f;l.addIssue({code:"custom",...v,fatal:m})}}):hp.create(),y6={object:Zi.lazycreate};var nr;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(nr||(nr={}));const b6=(n,r={message:`Input not instance of ${n.name}`})=>UC(t=>t instanceof n,r),GC=Ea.create,qC=su.create,w6=G0.create,x6=au.create,VC=Mg.create,_6=yh.create,k6=B0.create,E6=Ig.create,T6=Lg.create,S6=hp.create,C6=dh.create,P6=nc.create,M6=j0.create,I6=Ia.create,L6=Zi.create,R6=Zi.strictCreate,A6=Rg.create,O6=xy.create,z6=Ag.create,N6=pl.create,D6=Og.create,F6=H0.create,B6=bh.create,j6=tp.create,H6=zg.create,U6=Ng.create,G6=lu.create,q6=Dg.create,V6=dp.create,Z2=La.create,W6=Ql.create,Z6=wh.create,Y6=La.createWithPreprocess,X6=Qg.create,K6=()=>GC().optional(),J6=()=>qC().optional(),Q6=()=>VC().optional(),$6={string:n=>Ea.create({...n,coerce:!0}),number:n=>su.create({...n,coerce:!0}),boolean:n=>Mg.create({...n,coerce:!0}),bigint:n=>au.create({...n,coerce:!0}),date:n=>yh.create({...n,coerce:!0})},tF=dr;var bt=Object.freeze({__proto__:null,defaultErrorMap:Cg,setErrorMap:n6,getErrorMap:N0,makeIssue:D0,EMPTY_PATH:o6,addIssueToContext:Re,ParseStatus:po,INVALID:dr,DIRTY:BC,OK:Co,isAborted:h1,isDirty:d1,isValid:Pg,isAsync:F0,get util(){return ui},get objectUtil(){return u1},ZodParsedType:Me,getParsedType:Yc,ZodType:br,ZodString:Ea,ZodNumber:su,ZodBigInt:au,ZodBoolean:Mg,ZodDate:yh,ZodSymbol:B0,ZodUndefined:Ig,ZodNull:Lg,ZodAny:hp,ZodUnknown:dh,ZodNever:nc,ZodVoid:j0,ZodArray:Ia,ZodObject:Zi,ZodUnion:Rg,ZodDiscriminatedUnion:xy,ZodIntersection:Ag,ZodTuple:pl,ZodRecord:Og,ZodMap:H0,ZodSet:bh,ZodFunction:tp,ZodLazy:zg,ZodLiteral:Ng,ZodEnum:lu,ZodNativeEnum:Dg,ZodPromise:dp,ZodEffects:La,ZodTransformer:La,ZodOptional:Ql,ZodNullable:wh,ZodDefault:Fg,ZodCatch:U0,ZodNaN:G0,BRAND:v6,ZodBranded:HC,ZodPipeline:Qg,ZodReadonly:q0,custom:UC,Schema:br,ZodSchema:br,late:y6,get ZodFirstPartyTypeKind(){return nr},coerce:$6,any:S6,array:I6,bigint:x6,boolean:VC,date:_6,discriminatedUnion:O6,effect:Z2,enum:G6,function:j6,instanceof:b6,intersection:z6,lazy:H6,literal:U6,map:F6,nan:w6,nativeEnum:q6,never:P6,null:T6,nullable:Z6,number:qC,object:L6,oboolean:Q6,onumber:J6,optional:W6,ostring:K6,pipeline:X6,preprocess:Y6,promise:V6,record:D6,set:B6,strictObject:R6,string:GC,symbol:k6,transformer:Z2,tuple:N6,undefined:E6,union:A6,unknown:C6,void:M6,NEVER:tF,ZodIssueCode:de,quotelessJson:i6,ZodError:Ma});const _y=/^https?:\/\/library.stanford.edu\/iiif\/image-api\/1.1\/compliance.html#level(?<level>[012])$/,WC=bt.string().regex(_y),eF=WC,V0="http://library.stanford.edu/iiif/image-api/1.1/context.json",ZC="http://iiif.io/api/image/1/context.json",YC=bt.literal(V0),XC=bt.object({"@context":YC,"@id":bt.string().url(),profile:WC.optional(),width:bt.number().int(),height:bt.number().int(),scale_factors:bt.number().array().optional(),tile_width:bt.number().optional(),tile_height:bt.number().optional()}),KC=bt.object({width:bt.number().int(),height:bt.number().int()}),JC=bt.object({width:bt.number().int(),height:bt.number().int().optional(),scaleFactors:bt.array(bt.number().int())}),ky=/^https?:\/\/iiif.io\/api\/image\/2.*level(?<level>[012])(.json)?$/,Y2=bt.string().regex(ky),rF=bt.object({formats:bt.string().array().optional(),maxArea:bt.number().int().optional(),maxHeight:bt.number().int().optional(),maxWidth:bt.number().int().optional(),qualities:bt.string().array().optional(),supports:bt.string().array().optional()}),W0=Y2.or(bt.array(bt.union([Y2,rF,bt.any()]))),Z0="http://iiif.io/api/image/2/context.json",QC=bt.literal(Z0).or(bt.literal("https://iiif.io/api/image/2/context.json")),xx=bt.object({"@id":bt.string().url(),"@type":bt.literal("iiif:Image").optional(),"@context":QC,protocol:bt.literal("http://iiif.io/api/image"),width:bt.number().int(),height:bt.number().int(),profile:W0,sizes:KC.array().optional(),tiles:JC.array().optional()}),iF=["level0","level1","level2"],_x=bt.object({id:bt.string().url(),type:bt.literal("ImageService3"),protocol:bt.literal("http://iiif.io/api/image"),profile:bt.enum(iF),width:bt.number().int(),height:bt.number().int(),maxWidth:bt.number().int().optional(),maxHeight:bt.number().int().optional(),maxArea:bt.number().int().optional(),sizes:KC.array().optional(),tiles:JC.array().optional(),extraFeatures:bt.string().array().optional()}),nF=bt.object({"@id":bt.string().url(),profile:eF.or(W0),width:bt.number().int().optional(),height:bt.number().int().optional(),"@context":YC.or(bt.literal("http://iiif.io/api/image/1/context.json")).or(QC).optional()}),oF=["level0","level1","level2"],sF=["ImageService1","ImageService2","ImageService3"],aF=bt.object({id:bt.string().url(),type:bt.literal("ImageService2"),profile:W0}).or(bt.object({"@id":bt.string().url(),"@type":bt.literal("ImageService2"),profile:W0})),lF=bt.object({id:bt.string().url(),type:bt.enum(sF),profile:bt.enum(oF)}),cF=bt.union([aF,lF]),$C=nF.or(cF),X2=bt.string().or(bt.number()).or(bt.boolean()),tP=X2.or(X2.array()),K2=bt.object({"@language":bt.string().optional(),"@value":tP}),xh=tP.or(K2).or(K2.array()),uF=bt.object({label:xh.optional(),value:xh.optional()}),eP=uF.array(),hF=bt.object({width:bt.number().int().optional(),height:bt.number().int().optional(),service:$C}),dF=bt.object({resource:hF}),rP=bt.object({"@id":bt.string().url(),"@type":bt.literal("sc:Canvas"),width:bt.number().int(),height:bt.number().int(),images:dF.array().length(1),label:xh.optional(),metadata:eP.optional()}),pF=bt.object({canvases:rP.array().nonempty()}),iP=bt.object({"@id":bt.string().url(),"@type":bt.literal("sc:Manifest"),sequences:pF.array().length(1),label:xh.optional(),description:xh.optional(),metadata:eP.optional()}),J2=bt.lazy(()=>bt.object({"@id":bt.string().url(),"@type":bt.literal("sc:Manifest"),label:xh.optional()})),f1=bt.lazy(()=>bt.object({"@id":bt.string().url(),"@type":bt.literal("sc:Collection"),label:xh.optional(),manifests:J2.array().optional(),collections:f1.array().optional(),members:J2.or(f1).array().optional()})),fF=bt.string().or(bt.number()).or(bt.boolean()),_h=bt.record(bt.string(),fF.array()),gF=bt.object({label:_h.optional(),value:_h.optional()}),nP=gF.array(),Q2=bt.object({type:bt.literal("Image"),width:bt.number().int().optional(),height:bt.number().int().optional(),service:$C.array()}),mF=bt.object({type:bt.literal("Annotation"),body:Q2.or(Q2.array().length(1))}),vF=bt.object({type:bt.literal("AnnotationPage"),items:mF.array().length(1)}),oP=bt.object({id:bt.string().url(),type:bt.literal("Canvas"),width:bt.number().int(),height:bt.number().int(),items:vF.array().length(1),label:_h.optional(),metadata:nP.optional()}),sP=bt.object({id:bt.string().url(),type:bt.literal("Manifest"),items:oP.array().nonempty(),label:_h.optional(),description:_h.optional(),metadata:nP.optional()}),yF=bt.lazy(()=>bt.object({id:bt.string().url(),type:bt.literal("Manifest"),label:_h.optional()})),aP=bt.lazy(()=>bt.object({id:bt.string().url(),type:bt.literal("Collection"),label:_h.optional(),items:yF.or(aP).array()})),lP=XC.or(xx).or(_x);rP.or(oP);const bF=iP.or(sP);f1.or(aP);iP.or(xx);sP.or(_x);bF.or(lP);function cP({width:n,height:r},t,o,l){const u=o*t.originalWidth,d=l*t.originalHeight,f=o*t.originalWidth+t.width*t.scaleFactor>n?n-o*t.originalWidth:t.width*t.scaleFactor,m=l*t.originalHeight+t.height*t.scaleFactor>r?r-l*t.originalHeight:t.height*t.scaleFactor;let v=t.width,_=t.height;return u+t.width*t.scaleFactor>n&&(v=Math.floor((n-u+t.scaleFactor-1)/t.scaleFactor)),d+t.height*t.scaleFactor>r&&(_=Math.floor((r-d+t.scaleFactor-1)/t.scaleFactor)),{region:{x:u,y:d,width:f,height:m},size:{width:v,height:_}}}function wF({width:n,height:r},t=768){const o=Math.max(n,r)/t,l=Math.ceil(Math.log(o)/Math.log(2));return{scaleFactors:Array.from({length:l},(u,d)=>2**d),width:t}}function xF({width:n,height:r},t,o){const l=t.height||t.width,u=t.width*o,d=l*o;return{scaleFactor:o,width:t.width,height:l,originalWidth:u,originalHeight:d,columns:Math.ceil(n/u),rows:Math.ceil(r/d)}}function _F(n,r){return r.map(t=>t.scaleFactors.map(o=>xF(n,t,o))).flat()}function kF(n){return!!n.some(r=>r.width&&r.scaleFactors&&r.scaleFactors.length)}function EF(n,r,t){if(!r||!kF(r))if(t)r=[wF(n)];else throw new Error("Image does not support tiles or custom regions and sizes.");return _F(n,r)}function TF(n,r,t="cover"){if(t==="cover"||t==="contain"){const o=r.width/n.width,l=r.height/n.height,u=t==="cover"?Math.max(o,l):Math.min(o,l),d=n.width*u,f=n.height*u;return{width:d,height:f}}else throw new Error('Mode must be either "cover" or "contain"')}const SF=.8,CF=1.5;function uP(n,r,t="cover",{sizes:o,tileZoomLevels:l,supportsAnyRegionAndSize:u,maxWidth:d,maxHeight:f,maxArea:m}){let{width:v,height:_}=TF(n,r,t);if(d&&v>d&&(_=_/v*d,v=d),f&&_>f&&(v=v/_*f,_=f),m&&v*_>m){const C=_/v,M=Math.floor(Math.sqrt(m/C))*C;v=Math.floor(M)/C,_=v*C}const k=n.width/n.height;if(v=Math.floor(v),_=Math.round(v/k),o){let C;for(const M of o){const A=M.width/v;if(A>=SF&&A<=CF){C=M;break}}if(C)return{size:C}}if(u)return{size:{width:Math.round(v),height:Math.round(_)}};if(l){const C=n.width/v,M=l.map(({scaleFactor:J},H)=>({index:H,scaleFactor:J,diff:Math.abs(J-C)})).sort((J,H)=>J.diff-H.diff),A=l[M[0].index],F=Math.ceil(n.width/(A.scaleFactor*l[0].width)),U=Math.ceil(n.height/(A.scaleFactor*l[0].height)),j=[];for(let J=0;J<U;J++){const H=[];for(let V=0;V<F;V++){const ot=cP(n,A,V,J);H.push(ot)}j.push(H)}return j}throw new Error("Unable to create thumbnail")}const hP=["regionByPx","sizeByWh"];function PF(n){const r=n.match(_y);if(r&&r.groups)return parseInt(r.groups.level)}function $2(n){const r=n.match(ky);if(r&&r.groups)return parseInt(r.groups.level)}function MF(n){return{maxWidth:n==null?void 0:n.maxWidth,maxHeight:n==null?void 0:n.maxHeight,maxArea:n==null?void 0:n.maxArea,supportsAnyRegionAndSize:hP.every(r=>{var t;return(n==null?void 0:n.supports)&&((t=n==null?void 0:n.supports)==null?void 0:t.includes(r))})}}function IF(n){if("type"in n&&n.type==="ImageService3")return 3;if("type"in n&&n.type==="ImageService2"||"@type"in n&&n["@type"]==="ImageService2"||"@context"in n&&n["@context"]===Z0)return 2;if("@context"in n&&(n["@context"]===V0||n["@context"]===ZC))return 1;if("profile"in n){let r;return Array.isArray(n.profile)?r=n.profile[0]:r=n.profile,r.match(_y)?1:r.match(ky)?2:3}else throw new Error("Unsupported IIIF Image Service")}function g1(n){if("type"in n){const r=n.profile;let t=!1;return r==="level0"||typeof r=="string"&&r.endsWith("level0.json")?"extraFeatures"in n&&(t=hP.every(o=>n.extraFeatures&&n.extraFeatures.includes(o))):t=!0,{maxWidth:"maxWidth"in n?n.maxWidth:void 0,maxHeight:"maxHeight"in n?n.maxHeight:void 0,maxArea:"maxArea"in n?n.maxArea:void 0,supportsAnyRegionAndSize:t}}else if(Array.isArray(n.profile)){let r=!1,t=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY;return n.profile.forEach(u=>{if(typeof u=="string"){const d=$2(u);d&&(r=r||d>=1)}else{const{maxWidth:d,maxHeight:f,maxArea:m,supportsAnyRegionAndSize:v}=MF(u);d!==void 0&&(o=Math.max(d,o)),f!==void 0&&(t=Math.max(f,t)),m!==void 0&&(l=Math.max(m,l)),r=r||v}}),{maxWidth:o>=0?o:void 0,maxHeight:t>=0?t:void 0,maxArea:l>=0?l:void 0,supportsAnyRegionAndSize:r}}else if("profile"in n&&n.profile){const r=PF(n.profile),t=$2(n.profile);return r?{supportsAnyRegionAndSize:r>=1}:t?{supportsAnyRegionAndSize:t>=1}:{supportsAnyRegionAndSize:!1}}else throw new Error("Invalid Image")}const LF="image";class RF{constructor(r,t){if(this.embedded=!0,this.type=LF,t){const o=r;let l,u;if(Array.isArray(o.service)?o.service.forEach(d=>{try{const f=IF(d);(!u||f>u)&&(u=f,l=d)}catch{}}):l=o.service,!l)throw new Error("Unsupported IIIF Image Service");if("@id"in l)this.uri=l["@id"];else if("id"in l)this.uri=l.id;else throw new Error("Unsupported IIIF Image Service");if("type"in l&&l.type==="ImageService3")this.majorVersion=3;else if("type"in l&&l.type==="ImageService2"||"@type"in l&&l["@type"]==="ImageService2"||"@context"in l&&l["@context"]===Z0)this.majorVersion=2;else if("@context"in l&&(l["@context"]===V0||l["@context"]===ZC))this.majorVersion=1;else if("profile"in l){let d;Array.isArray(l.profile)?d=l.profile[0]:d=l.profile,d.match(_y)?this.majorVersion=1:d.match(ky)?this.majorVersion=2:this.majorVersion=3}else throw new Error("Unsupported IIIF Image Service");if("profile"in l){const d=g1(l);this.supportsAnyRegionAndSize=d.supportsAnyRegionAndSize,this.maxWidth=d.maxWidth,this.maxHeight=d.maxHeight,this.maxArea=d.maxArea}else this.supportsAnyRegionAndSize=!1}else{if("@id"in r)this.uri=r["@id"];else if("id"in r)this.uri=r.id;else throw new Error("Unsupported IIIF Image");if("type"in r&&r.type==="ImageService3")this.majorVersion=3;else if("@type"in r&&r["@type"]==="iiif:Image"||"@context"in r&&r["@context"]===Z0)this.majorVersion=2;else if("@context"in r&&r["@context"]===V0)this.majorVersion=1;else throw new Error("Unsupported IIIF Image");if("profile"in r){const o=g1(r);this.supportsAnyRegionAndSize=o.supportsAnyRegionAndSize,this.maxWidth=o.maxWidth,this.maxHeight=o.maxHeight,this.maxArea=o.maxArea}else this.supportsAnyRegionAndSize=!1}if(r.width!==void 0)this.width=r.width;else if(t)this.width=t.width;else throw new Error("Width not present on either Canvas or Image Resource");if(r.height!==void 0)this.height=r.height;else if(t)this.height=t.height;else throw new Error("Height not present on either Canvas or Image Resource")}getImageUrl(r){const{region:t,size:o}=r;let l,u,d,f,m;t?(m=`${t.x},${t.y},${t.width},${t.height}`,d=t.height,f=t.width):(m="full",d=this.height,f=this.width);let v;if(o){l=Math.round(o.width),u=Math.round(o.height);const C=String(l);let M=String(u);const A=f/d,F=u*A/A;u===Math.round(F)&&(M=""),v=`${C},${M}`}else l=this.width,u=this.height,v=this.majorVersion===2?"full":"max";const _=l*u;if(this.maxWidth!==void 0&&l>this.maxWidth)throw new Error(`Width of requested image is too large: ${l} > ${this.maxWidth}`);if(this.maxHeight!==void 0&&u>this.maxHeight)throw new Error(`Height of requested image is too large: ${u} > ${this.maxHeight}`);if(this.maxArea!==void 0&&_>this.maxArea)throw new Error(`Area of requested image is too large: ${_} > ${this.maxArea}`);const k=this.majorVersion===1?"native":"default";return`${this.uri}/${m}/${v}/0/${k}.jpg`}getThumbnail(r,t="cover"){return uP({width:this.width,height:this.height},r,t,{supportsAnyRegionAndSize:this.supportsAnyRegionAndSize,maxWidth:this.maxWidth,maxHeight:this.maxHeight,maxArea:this.maxArea})}}let AF=class dP extends RF{constructor(r){super(r),this.embedded=!1;const t=g1(r);let o;"tiles"in r&&(o=r.tiles),this.tileZoomLevels=EF({width:this.width,height:this.height},o,t.supportsAnyRegionAndSize),"sizes"in r&&(this.sizes=r.sizes)}static parse(r,t=null){let o;return t===1?o=XC.parse(r):t===2?o=xx.parse(r):t===3?o=_x.parse(r):o=lP.parse(r),new dP(o)}getIiifTile(r,t,o){return cP({width:this.width,height:this.height},r,t,o)}getThumbnail(r,t="cover"){return uP({width:this.width,height:this.height},r,t,{supportsAnyRegionAndSize:this.supportsAnyRegionAndSize,sizes:this.sizes,tileZoomLevels:this.tileZoomLevels,maxWidth:this.maxWidth,maxHeight:this.maxHeight,maxArea:this.maxArea})}};const tT=bt.record(bt.string(),bt.string().array());bt.object({label:tT.optional(),value:tT.optional()});var jo=63710088e-1,pP={centimeters:jo*100,centimetres:jo*100,degrees:jo/111325,feet:jo*3.28084,inches:jo*39.37,kilometers:jo/1e3,kilometres:jo/1e3,meters:jo,metres:jo,miles:jo/1609.344,millimeters:jo*1e3,millimetres:jo*1e3,nauticalmiles:jo/1852,radians:1,yards:jo*1.0936};function OF(n,r,t){t===void 0&&(t={});var o={type:"Feature"};return(t.id===0||t.id)&&(o.id=t.id),t.bbox&&(o.bbox=t.bbox),o.properties=r||{},o.geometry=n,o}function zF(n,r,t){if(t===void 0&&(t={}),!n)throw new Error("coordinates is required");if(!Array.isArray(n))throw new Error("coordinates must be an Array");if(n.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!eT(n[0])||!eT(n[1]))throw new Error("coordinates must contain numbers");var o={type:"Point",coordinates:n};return OF(o,r,t)}function NF(n,r){r===void 0&&(r="kilometers");var t=pP[r];if(!t)throw new Error(r+" units is invalid");return n*t}function DF(n,r){r===void 0&&(r="kilometers");var t=pP[r];if(!t)throw new Error(r+" units is invalid");return n/t}function m1(n){var r=n%(2*Math.PI);return r*180/Math.PI}function Ta(n){var r=n%360;return r*Math.PI/180}function eT(n){return!isNaN(n)&&n!==null&&!Array.isArray(n)}function pp(n){if(!n)throw new Error("coord is required");if(!Array.isArray(n)){if(n.type==="Feature"&&n.geometry!==null&&n.geometry.type==="Point")return n.geometry.coordinates;if(n.type==="Point")return n.coordinates}if(Array.isArray(n)&&n.length>=2&&!Array.isArray(n[0])&&!Array.isArray(n[1]))return n;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function FF(n){return n.type==="Feature"?n.geometry:n}function fP(n,r,t){if(t===void 0&&(t={}),t.final===!0)return BF(n,r);var o=pp(n),l=pp(r),u=Ta(o[0]),d=Ta(l[0]),f=Ta(o[1]),m=Ta(l[1]),v=Math.sin(d-u)*Math.cos(m),_=Math.cos(f)*Math.sin(m)-Math.sin(f)*Math.cos(m)*Math.cos(d-u);return m1(Math.atan2(v,_))}function BF(n,r){var t=fP(r,n);return t=(t+180)%360,t}function jF(n,r,t,o){o===void 0&&(o={});var l=pp(n),u=Ta(l[0]),d=Ta(l[1]),f=Ta(t),m=DF(r,o.units),v=Math.asin(Math.sin(d)*Math.cos(m)+Math.cos(d)*Math.sin(m)*Math.cos(f)),_=u+Math.atan2(Math.sin(f)*Math.sin(m)*Math.cos(d),Math.cos(m)-Math.sin(d)*Math.sin(v)),k=m1(_),C=m1(v);return zF([k,C],o.properties)}function kx(n,r,t){t===void 0&&(t={});var o=pp(n),l=pp(r),u=Ta(l[1]-o[1]),d=Ta(l[0]-o[0]),f=Ta(o[1]),m=Ta(l[1]),v=Math.pow(Math.sin(u/2),2)+Math.pow(Math.sin(d/2),2)*Math.cos(f)*Math.cos(m);return NF(2*Math.atan2(Math.sqrt(v),Math.sqrt(1-v)),t.units)}function Y0(n,r){var t=kx(n,r),o=fP(n,r),l=jF(n,t/2,o);return l}async function gP(n,r={}){let t;if(r.cache&&(t=await r.cache.match(n)),t||(t=await fetch(n,{signal:r.abortSignal}),r.cache&&r.cache.put(n,t.clone())),!t.ok)throw new Error(t.statusText);return t}async function HF(n,r={}){return await(await gP(n,r)).json()}async function UF(n,r={}){return await HF(`${n}/info.json`,r)}function GF(n,r){return new Promise((t,o)=>{const l=new Image;let u=!1;l.addEventListener("load",()=>t(l)),l.addEventListener("error",async()=>{if(u)o(new DOMException("Loading image aborted by user","AbortError"));else try{throw await gP(n,{abortSignal:r}),new Error("Image failed to load by setting Image src but downloaded successfully using fetch")}catch(d){o(d)}}),l.crossOrigin="anonymous",l.src=n,r&&r.addEventListener("abort",()=>{u=!0,l.src=""})})}function mP(n,r=!1){switch(n.type){case"Polygon":return n.coordinates?{...n,coordinates:rT(n.coordinates,r)}:n;case"MultiPolygon":return n.coordinates?{...n,coordinates:n.coordinates.map(t=>rT(t,r))}:n;case"GeometryCollection":return{...n,geometries:n.geometries.map(t=>mP(t,r))};default:return n}}function rT(n,r){if(n.length===0)return n;const t=[];for(let o=0;o<n.length;o++)t.push(qF(n[o],o===0?r:!r));return t}function qF(n,r){let t=0,o=0;for(let l=0,u=n.length,d=u-1;l<u;d=l++){const f=(n[l][0]-n[d][0])*(n[d][1]+n[l][1]),m=t+f;o+=Math.abs(t)>=Math.abs(f)?t-m+f:f-m+t,t=m}return t+o>=0!=!!r?n.slice().reverse():n}function Uo(n){return Array.isArray(n)&&n.length===2&&typeof n[0]=="number"&&typeof n[1]=="number"}function rl(n){return Array.isArray(n)&&n.every(Uo)}function VF(n){return Array.isArray(n)&&n.every(Uo)}function il(n){return Array.isArray(n)&&n.every(VF)}function vP(n){if(n=n.filter(function(r,t,o){return t===0||!Tx(r,o[t-1])}),n.length<2)throw new Error("LineString should contain at least 2 points");return n}function Ex(n){if(n=n.filter(function(r,t,o){return t===0||!Tx(r,o[t-1])}),ZF(n)&&n.splice(-1),n.length<3)throw new Error("Ring should contain at least 3 points");return n}function WF(n){return n.map(r=>Ex(r))}function Bv(n){return{type:"Point",coordinates:n}}function jv(n){return{type:"LineString",coordinates:n}}function Hv(n,r=!0){const t={type:"Polygon",coordinates:r?n.map(o=>[...o,o[0]]):n};return mP(t)}function ZF(n){return Array.isArray(n)&&n.length>=2&&Tx(n[0],n[n.length-1])}function Tx(n,r){return n===r?!0:n==null||r==null?!1:n[0]==r[0]&&n[1]==r[1]}function X0(n,r){return[(r[0]-n[0])/2+n[0],(r[1]-n[1])/2+n[1]]}function YF(n,r,t){return[n[0]*t+r[0]*(1-t),n[1]*t+r[1]*(1-t)]}function $l(n,r){if(rl(n)&&n.length==2)return $l(n[0],n[1]);if(Uo(n)&&Uo(r))return Math.sqrt((r[0]-n[0])**2+(r[1]-n[1])**2);throw new Error("Input type not supported")}function XF(n){return n*(Math.PI/180)}function Vl(n){return typeof n=="object"&&n!==null&&n.type==="Point"&&Uo(n.coordinates)}function Wl(n){return typeof n=="object"&&n!==null&&n.type==="LineString"&&rl(n.coordinates)}function Zl(n){return typeof n=="object"&&n!==null&&n.type==="Polygon"&&Array.isArray(n.coordinates)&&il(n.coordinates)}function KF(n){const r=typeof n=="object"&&n!==null,t=r&&"type"in n&&typeof n.type=="string"&&(n.type==="Point"||n.type==="LineString"||n.type==="Polygon"),o=r&&"coordinates"in n&&Array.isArray(n.coordinates);return t&&o}function Jf(n){return n.coordinates}function Qf(n){return n.coordinates}function $f(n,r=!1){let t=n.coordinates;return t=WF(t),r?t.map(o=>[...o,o[0]]):t}function JF(n){if(Vl(n))return Jf(n);if(Wl(n))return Qf(n);if(Zl(n))return $f(n);throw new Error("Geometry type not supported")}function iT(n){let r=Number.POSITIVE_INFINITY,t=Number.NEGATIVE_INFINITY;for(const o of n)r===void 0?o>=o&&(r=t=o):(r>o&&(r=o),t<o&&(t=o));return[r,t]}function Hn(n){if(Uo(n)&&(n=[n]),il(n)&&(n=n.flat()),KF(n))return Hn(JF(n));const r=[],t=[];for(const f of n)r.push(f[0]),t.push(f[1]);const[o,l]=iT(r),[u,d]=iT(t);return[o,u,l,d]}function nT(n,r){return[Math.min(n[0],r[0]),Math.min(n[1],r[1]),Math.max(n[2],r[2]),Math.max(n[3],r[3])]}function QF(n,r){const t=n[2]>=r[0]&&r[2]>=n[0],o=n[3]>=r[1]&&r[3]>=n[1];return t&&o}function Bg(n){return[[n[0],n[1]],[n[2],n[1]],[n[2],n[3]],[n[0],n[3]]]}function $F(n){return[Bg(n)]}function yP(n){return[[n[0],n[1]],[n[2],n[3]]]}function t8(n){return $l(yP(n))}function e8(n){return $l(yP(Hn(n)))}function v1(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function K0(n){return[n[2]-n[0],n[3]-n[1]]}function bP(n,r){const t=n[0]/r[0],o=n[1]/r[1];return Math.min(t,o)}function Sw(n,r){return bP(K0(n),K0(r))}function r8(n){const r=parseInt(n.replace(/^#/,""),16),t=r>>16&255,o=r>>8&255,l=r&255;return[t,o,l]}function oT(n){return r8(n).map(r=>r/255)}function i8(n,r){return!n||!r||n.size!==r.size?!1:[...n].every(t=>r.has(t))}function sT(n,r){if(n!==void 0&&r!==void 0)return Math.max(n,r);if(n!==void 0)return n;if(r!==void 0)return r}function n8(n){let r;try{r=new URL(n)}catch{return!1}return r.protocol==="http:"||r.protocol==="https:"}function o8([n,r]){const t=6378137*XF(n),o=t/n,l=180/Math.PI*Math.log(Math.tan(Math.PI/4+r*(Math.PI/180)/2))*o;return[t,l]}function aT([n,r]){const t=Math.PI*6378137,o=n/t*180;let l=r/t*180;return l=180/Math.PI*(2*Math.atan(Math.exp(l*Math.PI/180))-Math.PI/2),[o,l]}var s8=Object.defineProperty,a8=(n,r,t)=>r in n?s8(n,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[r]=t,l8=(n,r,t)=>(a8(n,typeof r!="symbol"?r+"":r,t),t),Sx=(n,r,t)=>{if(!r.has(n))throw TypeError("Cannot "+t)},el=(n,r,t)=>(Sx(n,r,"read from private field"),t?t.call(n):r.get(n)),dg=(n,r,t)=>{if(r.has(n))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(n):r.set(n,t)},Cw=(n,r,t,o)=>(Sx(n,r,"write to private field"),o?o.call(n,t):r.set(n,t),t),fp=(n,r,t)=>(Sx(n,r,"access private method"),t);function wP(n){if(n.__esModule)return n;var r=n.default;if(typeof r=="function"){var t=function o(){return this instanceof o?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};t.prototype=r.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(o){var l=Object.getOwnPropertyDescriptor(n,o);Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:function(){return n[o]}})}),t}var ei={};const c8=Object.prototype.toString;function jg(n){const r=c8.call(n);return r.endsWith("Array]")&&!r.includes("Big")}const u8=Object.freeze(Object.defineProperty({__proto__:null,isAnyArray:jg},Symbol.toStringTag,{value:"Module"})),h8=wP(u8);function d8(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!jg(n))throw new TypeError("input must be an array");if(n.length===0)throw new TypeError("input must not be empty");var t=r.fromIndex,o=t===void 0?0:t,l=r.toIndex,u=l===void 0?n.length:l;if(o<0||o>=n.length||!Number.isInteger(o))throw new Error("fromIndex must be a positive integer smaller than length");if(u<=o||u>n.length||!Number.isInteger(u))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var d=n[o],f=o+1;f<u;f++)n[f]>d&&(d=n[f]);return d}function p8(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!jg(n))throw new TypeError("input must be an array");if(n.length===0)throw new TypeError("input must not be empty");var t=r.fromIndex,o=t===void 0?0:t,l=r.toIndex,u=l===void 0?n.length:l;if(o<0||o>=n.length||!Number.isInteger(o))throw new Error("fromIndex must be a positive integer smaller than length");if(u<=o||u>n.length||!Number.isInteger(u))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var d=n[o],f=o+1;f<u;f++)n[f]<d&&(d=n[f]);return d}function f8(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(jg(n)){if(n.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var t;if(r.output!==void 0){if(!jg(r.output))throw new TypeError("output option must be an array if specified");t=r.output}else t=new Array(n.length);var o=p8(n),l=d8(n);if(o===l)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var u=r.min,d=u===void 0?r.autoMinMax?o:0:u,f=r.max,m=f===void 0?r.autoMinMax?l:1:f;if(d>=m)throw new RangeError("min option must be smaller than max option");for(var v=(m-d)/(l-o),_=0;_<n.length;_++)t[_]=(n[_]-o)*v+d;return t}const g8=Object.freeze(Object.defineProperty({__proto__:null,default:f8},Symbol.toStringTag,{value:"Module"})),m8=wP(g8);Object.defineProperty(ei,"__esModule",{value:!0});var Go=h8,lT=m8;const Uv=" ".repeat(2),xP=" ".repeat(4);function v8(){return _P(this)}function _P(n,r={}){const{maxRows:t=15,maxColumns:o=10,maxNumSize:l=8,padMinus:u="auto"}=r;return`${n.constructor.name} {
${Uv}[
${xP}${y8(n,t,o,l,u)}
${Uv}]
${Uv}rows: ${n.rows}
${Uv}columns: ${n.columns}
}`}function y8(n,r,t,o,l){const{rows:u,columns:d}=n,f=Math.min(u,r),m=Math.min(d,t),v=[];if(l==="auto"){l=!1;t:for(let _=0;_<f;_++)for(let k=0;k<m;k++)if(n.get(_,k)<0){l=!0;break t}}for(let _=0;_<f;_++){let k=[];for(let C=0;C<m;C++)k.push(b8(n.get(_,C),o,l));v.push(`${k.join(" ")}`)}return m!==d&&(v[v.length-1]+=` ... ${d-t} more columns`),f!==u&&v.push(`... ${u-r} more rows`),v.join(`
${xP}`)}function b8(n,r,t){return(n>=0&&t?` ${cT(n,r-1)}`:cT(n,r)).padEnd(r)}function cT(n,r){let t=n.toString();if(t.length<=r)return t;let o=n.toFixed(r);if(o.length>r&&(o=n.toFixed(Math.max(0,r-(o.length-r)))),o.length<=r&&!o.startsWith("0.000")&&!o.startsWith("-0.000"))return o;let l=n.toExponential(r);return l.length>r&&(l=n.toExponential(Math.max(0,r-(l.length-r)))),l.slice(0)}function w8(n,r){n.prototype.add=function(t){return typeof t=="number"?this.addS(t):this.addM(t)},n.prototype.addS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)+t);return this},n.prototype.addM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)+t.get(o,l));return this},n.add=function(t,o){return new r(t).add(o)},n.prototype.sub=function(t){return typeof t=="number"?this.subS(t):this.subM(t)},n.prototype.subS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)-t);return this},n.prototype.subM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)-t.get(o,l));return this},n.sub=function(t,o){return new r(t).sub(o)},n.prototype.subtract=n.prototype.sub,n.prototype.subtractS=n.prototype.subS,n.prototype.subtractM=n.prototype.subM,n.subtract=n.sub,n.prototype.mul=function(t){return typeof t=="number"?this.mulS(t):this.mulM(t)},n.prototype.mulS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)*t);return this},n.prototype.mulM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)*t.get(o,l));return this},n.mul=function(t,o){return new r(t).mul(o)},n.prototype.multiply=n.prototype.mul,n.prototype.multiplyS=n.prototype.mulS,n.prototype.multiplyM=n.prototype.mulM,n.multiply=n.mul,n.prototype.div=function(t){return typeof t=="number"?this.divS(t):this.divM(t)},n.prototype.divS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)/t);return this},n.prototype.divM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)/t.get(o,l));return this},n.div=function(t,o){return new r(t).div(o)},n.prototype.divide=n.prototype.div,n.prototype.divideS=n.prototype.divS,n.prototype.divideM=n.prototype.divM,n.divide=n.div,n.prototype.mod=function(t){return typeof t=="number"?this.modS(t):this.modM(t)},n.prototype.modS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)%t);return this},n.prototype.modM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)%t.get(o,l));return this},n.mod=function(t,o){return new r(t).mod(o)},n.prototype.modulus=n.prototype.mod,n.prototype.modulusS=n.prototype.modS,n.prototype.modulusM=n.prototype.modM,n.modulus=n.mod,n.prototype.and=function(t){return typeof t=="number"?this.andS(t):this.andM(t)},n.prototype.andS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)&t);return this},n.prototype.andM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)&t.get(o,l));return this},n.and=function(t,o){return new r(t).and(o)},n.prototype.or=function(t){return typeof t=="number"?this.orS(t):this.orM(t)},n.prototype.orS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)|t);return this},n.prototype.orM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)|t.get(o,l));return this},n.or=function(t,o){return new r(t).or(o)},n.prototype.xor=function(t){return typeof t=="number"?this.xorS(t):this.xorM(t)},n.prototype.xorS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)^t);return this},n.prototype.xorM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)^t.get(o,l));return this},n.xor=function(t,o){return new r(t).xor(o)},n.prototype.leftShift=function(t){return typeof t=="number"?this.leftShiftS(t):this.leftShiftM(t)},n.prototype.leftShiftS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)<<t);return this},n.prototype.leftShiftM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)<<t.get(o,l));return this},n.leftShift=function(t,o){return new r(t).leftShift(o)},n.prototype.signPropagatingRightShift=function(t){return typeof t=="number"?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},n.prototype.signPropagatingRightShiftS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)>>t);return this},n.prototype.signPropagatingRightShiftM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)>>t.get(o,l));return this},n.signPropagatingRightShift=function(t,o){return new r(t).signPropagatingRightShift(o)},n.prototype.rightShift=function(t){return typeof t=="number"?this.rightShiftS(t):this.rightShiftM(t)},n.prototype.rightShiftS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)>>>t);return this},n.prototype.rightShiftM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)>>>t.get(o,l));return this},n.rightShift=function(t,o){return new r(t).rightShift(o)},n.prototype.zeroFillRightShift=n.prototype.rightShift,n.prototype.zeroFillRightShiftS=n.prototype.rightShiftS,n.prototype.zeroFillRightShiftM=n.prototype.rightShiftM,n.zeroFillRightShift=n.rightShift,n.prototype.not=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,~this.get(t,o));return this},n.not=function(t){return new r(t).not()},n.prototype.abs=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.abs(this.get(t,o)));return this},n.abs=function(t){return new r(t).abs()},n.prototype.acos=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.acos(this.get(t,o)));return this},n.acos=function(t){return new r(t).acos()},n.prototype.acosh=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.acosh(this.get(t,o)));return this},n.acosh=function(t){return new r(t).acosh()},n.prototype.asin=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.asin(this.get(t,o)));return this},n.asin=function(t){return new r(t).asin()},n.prototype.asinh=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.asinh(this.get(t,o)));return this},n.asinh=function(t){return new r(t).asinh()},n.prototype.atan=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.atan(this.get(t,o)));return this},n.atan=function(t){return new r(t).atan()},n.prototype.atanh=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.atanh(this.get(t,o)));return this},n.atanh=function(t){return new r(t).atanh()},n.prototype.cbrt=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.cbrt(this.get(t,o)));return this},n.cbrt=function(t){return new r(t).cbrt()},n.prototype.ceil=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.ceil(this.get(t,o)));return this},n.ceil=function(t){return new r(t).ceil()},n.prototype.clz32=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.clz32(this.get(t,o)));return this},n.clz32=function(t){return new r(t).clz32()},n.prototype.cos=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.cos(this.get(t,o)));return this},n.cos=function(t){return new r(t).cos()},n.prototype.cosh=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.cosh(this.get(t,o)));return this},n.cosh=function(t){return new r(t).cosh()},n.prototype.exp=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.exp(this.get(t,o)));return this},n.exp=function(t){return new r(t).exp()},n.prototype.expm1=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.expm1(this.get(t,o)));return this},n.expm1=function(t){return new r(t).expm1()},n.prototype.floor=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.floor(this.get(t,o)));return this},n.floor=function(t){return new r(t).floor()},n.prototype.fround=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.fround(this.get(t,o)));return this},n.fround=function(t){return new r(t).fround()},n.prototype.log=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.log(this.get(t,o)));return this},n.log=function(t){return new r(t).log()},n.prototype.log1p=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.log1p(this.get(t,o)));return this},n.log1p=function(t){return new r(t).log1p()},n.prototype.log10=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.log10(this.get(t,o)));return this},n.log10=function(t){return new r(t).log10()},n.prototype.log2=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.log2(this.get(t,o)));return this},n.log2=function(t){return new r(t).log2()},n.prototype.round=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.round(this.get(t,o)));return this},n.round=function(t){return new r(t).round()},n.prototype.sign=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.sign(this.get(t,o)));return this},n.sign=function(t){return new r(t).sign()},n.prototype.sin=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.sin(this.get(t,o)));return this},n.sin=function(t){return new r(t).sin()},n.prototype.sinh=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.sinh(this.get(t,o)));return this},n.sinh=function(t){return new r(t).sinh()},n.prototype.sqrt=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.sqrt(this.get(t,o)));return this},n.sqrt=function(t){return new r(t).sqrt()},n.prototype.tan=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.tan(this.get(t,o)));return this},n.tan=function(t){return new r(t).tan()},n.prototype.tanh=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.tanh(this.get(t,o)));return this},n.tanh=function(t){return new r(t).tanh()},n.prototype.trunc=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.trunc(this.get(t,o)));return this},n.trunc=function(t){return new r(t).trunc()},n.pow=function(t,o){return new r(t).pow(o)},n.prototype.pow=function(t){return typeof t=="number"?this.powS(t):this.powM(t)},n.prototype.powS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,Math.pow(this.get(o,l),t));return this},n.prototype.powM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,Math.pow(this.get(o,l),t.get(o,l)));return this}}function Gs(n,r,t){let o=t?n.rows:n.rows-1;if(r<0||r>o)throw new RangeError("Row index out of range")}function qs(n,r,t){let o=t?n.columns:n.columns-1;if(r<0||r>o)throw new RangeError("Column index out of range")}function Hd(n,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==n.columns)throw new RangeError("vector size must be the same as the number of columns");return r}function Ud(n,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==n.rows)throw new RangeError("vector size must be the same as the number of rows");return r}function Cx(n,r){if(!Go.isAnyArray(r))throw new TypeError("row indices must be an array");for(let t=0;t<r.length;t++)if(r[t]<0||r[t]>=n.rows)throw new RangeError("row indices are out of range")}function Px(n,r){if(!Go.isAnyArray(r))throw new TypeError("column indices must be an array");for(let t=0;t<r.length;t++)if(r[t]<0||r[t]>=n.columns)throw new RangeError("column indices are out of range")}function y1(n,r,t,o,l){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(Gv("startRow",r),Gv("endRow",t),Gv("startColumn",o),Gv("endColumn",l),r>t||o>l||r<0||r>=n.rows||t<0||t>=n.rows||o<0||o>=n.columns||l<0||l>=n.columns)throw new RangeError("Submatrix indices are out of range")}function Ey(n,r=0){let t=[];for(let o=0;o<n;o++)t.push(r);return t}function Gv(n,r){if(typeof r!="number")throw new TypeError(`${n} must be a number`)}function Dd(n){if(n.isEmpty())throw new Error("Empty matrix has no elements to index")}function x8(n){let r=Ey(n.rows);for(let t=0;t<n.rows;++t)for(let o=0;o<n.columns;++o)r[t]+=n.get(t,o);return r}function _8(n){let r=Ey(n.columns);for(let t=0;t<n.rows;++t)for(let o=0;o<n.columns;++o)r[o]+=n.get(t,o);return r}function k8(n){let r=0;for(let t=0;t<n.rows;t++)for(let o=0;o<n.columns;o++)r+=n.get(t,o);return r}function E8(n){let r=Ey(n.rows,1);for(let t=0;t<n.rows;++t)for(let o=0;o<n.columns;++o)r[t]*=n.get(t,o);return r}function T8(n){let r=Ey(n.columns,1);for(let t=0;t<n.rows;++t)for(let o=0;o<n.columns;++o)r[o]*=n.get(t,o);return r}function S8(n){let r=1;for(let t=0;t<n.rows;t++)for(let o=0;o<n.columns;o++)r*=n.get(t,o);return r}function C8(n,r,t){const o=n.rows,l=n.columns,u=[];for(let d=0;d<o;d++){let f=0,m=0,v=0;for(let _=0;_<l;_++)v=n.get(d,_)-t[d],f+=v,m+=v*v;r?u.push((m-f*f/l)/(l-1)):u.push((m-f*f/l)/l)}return u}function P8(n,r,t){const o=n.rows,l=n.columns,u=[];for(let d=0;d<l;d++){let f=0,m=0,v=0;for(let _=0;_<o;_++)v=n.get(_,d)-t[d],f+=v,m+=v*v;r?u.push((m-f*f/o)/(o-1)):u.push((m-f*f/o)/o)}return u}function M8(n,r,t){const o=n.rows,l=n.columns,u=o*l;let d=0,f=0,m=0;for(let v=0;v<o;v++)for(let _=0;_<l;_++)m=n.get(v,_)-t,d+=m,f+=m*m;return r?(f-d*d/u)/(u-1):(f-d*d/u)/u}function I8(n,r){for(let t=0;t<n.rows;t++)for(let o=0;o<n.columns;o++)n.set(t,o,n.get(t,o)-r[t])}function L8(n,r){for(let t=0;t<n.rows;t++)for(let o=0;o<n.columns;o++)n.set(t,o,n.get(t,o)-r[o])}function R8(n,r){for(let t=0;t<n.rows;t++)for(let o=0;o<n.columns;o++)n.set(t,o,n.get(t,o)-r)}function A8(n){const r=[];for(let t=0;t<n.rows;t++){let o=0;for(let l=0;l<n.columns;l++)o+=Math.pow(n.get(t,l),2)/(n.columns-1);r.push(Math.sqrt(o))}return r}function O8(n,r){for(let t=0;t<n.rows;t++)for(let o=0;o<n.columns;o++)n.set(t,o,n.get(t,o)/r[t])}function z8(n){const r=[];for(let t=0;t<n.columns;t++){let o=0;for(let l=0;l<n.rows;l++)o+=Math.pow(n.get(l,t),2)/(n.rows-1);r.push(Math.sqrt(o))}return r}function N8(n,r){for(let t=0;t<n.rows;t++)for(let o=0;o<n.columns;o++)n.set(t,o,n.get(t,o)/r[o])}function D8(n){const r=n.size-1;let t=0;for(let o=0;o<n.columns;o++)for(let l=0;l<n.rows;l++)t+=Math.pow(n.get(l,o),2)/r;return Math.sqrt(t)}function F8(n,r){for(let t=0;t<n.rows;t++)for(let o=0;o<n.columns;o++)n.set(t,o,n.get(t,o)/r)}class gr{static from1DArray(r,t,o){if(r*t!==o.length)throw new RangeError("data length does not match given dimensions");let l=new be(r,t);for(let u=0;u<r;u++)for(let d=0;d<t;d++)l.set(u,d,o[u*t+d]);return l}static rowVector(r){let t=new be(1,r.length);for(let o=0;o<r.length;o++)t.set(0,o,r[o]);return t}static columnVector(r){let t=new be(r.length,1);for(let o=0;o<r.length;o++)t.set(o,0,r[o]);return t}static zeros(r,t){return new be(r,t)}static ones(r,t){return new be(r,t).fill(1)}static rand(r,t,o={}){if(typeof o!="object")throw new TypeError("options must be an object");const{random:l=Math.random}=o;let u=new be(r,t);for(let d=0;d<r;d++)for(let f=0;f<t;f++)u.set(d,f,l());return u}static randInt(r,t,o={}){if(typeof o!="object")throw new TypeError("options must be an object");const{min:l=0,max:u=1e3,random:d=Math.random}=o;if(!Number.isInteger(l))throw new TypeError("min must be an integer");if(!Number.isInteger(u))throw new TypeError("max must be an integer");if(l>=u)throw new RangeError("min must be smaller than max");let f=u-l,m=new be(r,t);for(let v=0;v<r;v++)for(let _=0;_<t;_++){let k=l+Math.round(d()*f);m.set(v,_,k)}return m}static eye(r,t,o){t===void 0&&(t=r),o===void 0&&(o=1);let l=Math.min(r,t),u=this.zeros(r,t);for(let d=0;d<l;d++)u.set(d,d,o);return u}static diag(r,t,o){let l=r.length;t===void 0&&(t=l),o===void 0&&(o=t);let u=Math.min(l,t,o),d=this.zeros(t,o);for(let f=0;f<u;f++)d.set(f,f,r[f]);return d}static min(r,t){r=this.checkMatrix(r),t=this.checkMatrix(t);let o=r.rows,l=r.columns,u=new be(o,l);for(let d=0;d<o;d++)for(let f=0;f<l;f++)u.set(d,f,Math.min(r.get(d,f),t.get(d,f)));return u}static max(r,t){r=this.checkMatrix(r),t=this.checkMatrix(t);let o=r.rows,l=r.columns,u=new this(o,l);for(let d=0;d<o;d++)for(let f=0;f<l;f++)u.set(d,f,Math.max(r.get(d,f),t.get(d,f)));return u}static checkMatrix(r){return gr.isMatrix(r)?r:new be(r)}static isMatrix(r){return r!=null&&r.klass==="Matrix"}get size(){return this.rows*this.columns}apply(r){if(typeof r!="function")throw new TypeError("callback must be a function");for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)r.call(this,t,o);return this}to1DArray(){let r=[];for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)r.push(this.get(t,o));return r}to2DArray(){let r=[];for(let t=0;t<this.rows;t++){r.push([]);for(let o=0;o<this.columns;o++)r[t].push(this.get(t,o))}return r}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let r=0;r<this.rows;r++)for(let t=0;t<=r;t++)if(this.get(r,t)!==this.get(t,r))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let r=0;r<this.rows;r++)if(this.get(r,r)!==0)return!1;return!0}isEchelonForm(){let r=0,t=0,o=-1,l=!0,u=!1;for(;r<this.rows&&l;){for(t=0,u=!1;t<this.columns&&u===!1;)this.get(r,t)===0?t++:this.get(r,t)===1&&t>o?(u=!0,o=t):(l=!1,u=!0);r++}return l}isReducedEchelonForm(){let r=0,t=0,o=-1,l=!0,u=!1;for(;r<this.rows&&l;){for(t=0,u=!1;t<this.columns&&u===!1;)this.get(r,t)===0?t++:this.get(r,t)===1&&t>o?(u=!0,o=t):(l=!1,u=!0);for(let d=t+1;d<this.rows;d++)this.get(r,d)!==0&&(l=!1);r++}return l}echelonForm(){let r=this.clone(),t=0,o=0;for(;t<r.rows&&o<r.columns;){let l=t;for(let u=t;u<r.rows;u++)r.get(u,o)>r.get(l,o)&&(l=u);if(r.get(l,o)===0)o++;else{r.swapRows(t,l);let u=r.get(t,o);for(let d=o;d<r.columns;d++)r.set(t,d,r.get(t,d)/u);for(let d=t+1;d<r.rows;d++){let f=r.get(d,o)/r.get(t,o);r.set(d,o,0);for(let m=o+1;m<r.columns;m++)r.set(d,m,r.get(d,m)-r.get(t,m)*f)}t++,o++}}return r}reducedEchelonForm(){let r=this.echelonForm(),t=r.columns,o=r.rows,l=o-1;for(;l>=0;)if(r.maxRow(l)===0)l--;else{let u=0,d=!1;for(;u<o&&d===!1;)r.get(l,u)===1?d=!0:u++;for(let f=0;f<l;f++){let m=r.get(f,u);for(let v=u;v<t;v++){let _=r.get(f,v)-m*r.get(l,v);r.set(f,v,_)}}l--}return r}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{rows:t=1,columns:o=1}=r;if(!Number.isInteger(t)||t<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(o)||o<=0)throw new TypeError("columns must be a positive integer");let l=new be(this.rows*t,this.columns*o);for(let u=0;u<t;u++)for(let d=0;d<o;d++)l.setSubMatrix(this,this.rows*u,this.columns*d);return l}fill(r){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,r);return this}neg(){return this.mulS(-1)}getRow(r){Gs(this,r);let t=[];for(let o=0;o<this.columns;o++)t.push(this.get(r,o));return t}getRowVector(r){return be.rowVector(this.getRow(r))}setRow(r,t){Gs(this,r),t=Hd(this,t);for(let o=0;o<this.columns;o++)this.set(r,o,t[o]);return this}swapRows(r,t){Gs(this,r),Gs(this,t);for(let o=0;o<this.columns;o++){let l=this.get(r,o);this.set(r,o,this.get(t,o)),this.set(t,o,l)}return this}getColumn(r){qs(this,r);let t=[];for(let o=0;o<this.rows;o++)t.push(this.get(o,r));return t}getColumnVector(r){return be.columnVector(this.getColumn(r))}setColumn(r,t){qs(this,r),t=Ud(this,t);for(let o=0;o<this.rows;o++)this.set(o,r,t[o]);return this}swapColumns(r,t){qs(this,r),qs(this,t);for(let o=0;o<this.rows;o++){let l=this.get(o,r);this.set(o,r,this.get(o,t)),this.set(o,t,l)}return this}addRowVector(r){r=Hd(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)+r[o]);return this}subRowVector(r){r=Hd(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)-r[o]);return this}mulRowVector(r){r=Hd(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)*r[o]);return this}divRowVector(r){r=Hd(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)/r[o]);return this}addColumnVector(r){r=Ud(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)+r[t]);return this}subColumnVector(r){r=Ud(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)-r[t]);return this}mulColumnVector(r){r=Ud(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)*r[t]);return this}divColumnVector(r){r=Ud(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)/r[t]);return this}mulRow(r,t){Gs(this,r);for(let o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)*t);return this}mulColumn(r,t){qs(this,r);for(let o=0;o<this.rows;o++)this.set(o,r,this.get(o,r)*t);return this}max(r){if(this.isEmpty())return NaN;switch(r){case"row":{const t=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)>t[o]&&(t[o]=this.get(o,l));return t}case"column":{const t=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)>t[l]&&(t[l]=this.get(o,l));return t}case void 0:{let t=this.get(0,0);for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)>t&&(t=this.get(o,l));return t}default:throw new Error(`invalid option: ${r}`)}}maxIndex(){Dd(this);let r=this.get(0,0),t=[0,0];for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)>r&&(r=this.get(o,l),t[0]=o,t[1]=l);return t}min(r){if(this.isEmpty())return NaN;switch(r){case"row":{const t=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)<t[o]&&(t[o]=this.get(o,l));return t}case"column":{const t=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)<t[l]&&(t[l]=this.get(o,l));return t}case void 0:{let t=this.get(0,0);for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)<t&&(t=this.get(o,l));return t}default:throw new Error(`invalid option: ${r}`)}}minIndex(){Dd(this);let r=this.get(0,0),t=[0,0];for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)<r&&(r=this.get(o,l),t[0]=o,t[1]=l);return t}maxRow(r){if(Gs(this,r),this.isEmpty())return NaN;let t=this.get(r,0);for(let o=1;o<this.columns;o++)this.get(r,o)>t&&(t=this.get(r,o));return t}maxRowIndex(r){Gs(this,r),Dd(this);let t=this.get(r,0),o=[r,0];for(let l=1;l<this.columns;l++)this.get(r,l)>t&&(t=this.get(r,l),o[1]=l);return o}minRow(r){if(Gs(this,r),this.isEmpty())return NaN;let t=this.get(r,0);for(let o=1;o<this.columns;o++)this.get(r,o)<t&&(t=this.get(r,o));return t}minRowIndex(r){Gs(this,r),Dd(this);let t=this.get(r,0),o=[r,0];for(let l=1;l<this.columns;l++)this.get(r,l)<t&&(t=this.get(r,l),o[1]=l);return o}maxColumn(r){if(qs(this,r),this.isEmpty())return NaN;let t=this.get(0,r);for(let o=1;o<this.rows;o++)this.get(o,r)>t&&(t=this.get(o,r));return t}maxColumnIndex(r){qs(this,r),Dd(this);let t=this.get(0,r),o=[0,r];for(let l=1;l<this.rows;l++)this.get(l,r)>t&&(t=this.get(l,r),o[0]=l);return o}minColumn(r){if(qs(this,r),this.isEmpty())return NaN;let t=this.get(0,r);for(let o=1;o<this.rows;o++)this.get(o,r)<t&&(t=this.get(o,r));return t}minColumnIndex(r){qs(this,r),Dd(this);let t=this.get(0,r),o=[0,r];for(let l=1;l<this.rows;l++)this.get(l,r)<t&&(t=this.get(l,r),o[0]=l);return o}diag(){let r=Math.min(this.rows,this.columns),t=[];for(let o=0;o<r;o++)t.push(this.get(o,o));return t}norm(r="frobenius"){switch(r){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${r}`)}}cumulativeSum(){let r=0;for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)r+=this.get(t,o),this.set(t,o,r);return this}dot(r){gr.isMatrix(r)&&(r=r.to1DArray());let t=this.to1DArray();if(t.length!==r.length)throw new RangeError("vectors do not have the same size");let o=0;for(let l=0;l<t.length;l++)o+=t[l]*r[l];return o}mmul(r){r=be.checkMatrix(r);let t=this.rows,o=this.columns,l=r.columns,u=new be(t,l),d=new Float64Array(o);for(let f=0;f<l;f++){for(let m=0;m<o;m++)d[m]=r.get(m,f);for(let m=0;m<t;m++){let v=0;for(let _=0;_<o;_++)v+=this.get(m,_)*d[_];u.set(m,f,v)}}return u}strassen2x2(r){r=be.checkMatrix(r);let t=new be(2,2);const o=this.get(0,0),l=r.get(0,0),u=this.get(0,1),d=r.get(0,1),f=this.get(1,0),m=r.get(1,0),v=this.get(1,1),_=r.get(1,1),k=(o+v)*(l+_),C=(f+v)*l,M=o*(d-_),A=v*(m-l),F=(o+u)*_,U=(f-o)*(l+d),j=(u-v)*(m+_),J=k+A-F+j,H=M+F,V=C+A,ot=k-C+M+U;return t.set(0,0,J),t.set(0,1,H),t.set(1,0,V),t.set(1,1,ot),t}strassen3x3(r){r=be.checkMatrix(r);let t=new be(3,3);const o=this.get(0,0),l=this.get(0,1),u=this.get(0,2),d=this.get(1,0),f=this.get(1,1),m=this.get(1,2),v=this.get(2,0),_=this.get(2,1),k=this.get(2,2),C=r.get(0,0),M=r.get(0,1),A=r.get(0,2),F=r.get(1,0),U=r.get(1,1),j=r.get(1,2),J=r.get(2,0),H=r.get(2,1),V=r.get(2,2),ot=(o+l+u-d-f-_-k)*U,ft=(o-d)*(-M+U),ht=f*(-C+M+F-U-j-J+V),ct=(-o+d+f)*(C-M+U),Z=(d+f)*(-C+M),lt=o*C,ut=(-o+v+_)*(C-A+j),mt=(-o+v)*(A-j),re=(v+_)*(-C+A),ne=(o+l+u-f-m-v-_)*j,ye=_*(-C+A+F-U-j-J+H),Bt=(-u+_+k)*(U+J-H),pe=(u-k)*(U-H),Jt=u*J,Wt=(_+k)*(-J+H),Et=(-u+f+m)*(j+J-V),qt=(u-m)*(j-V),Zt=(f+m)*(-J+V),fe=l*F,Ce=m*H,le=d*A,ue=v*M,er=k*V,Ut=lt+Jt+fe,Gt=ot+ct+Z+lt+Bt+Jt+Wt,Yt=lt+ut+re+ne+Jt+Et+Zt,Xt=ft+ht+ct+lt+Jt+Et+qt,nt=ft+ct+Z+lt+Ce,pt=Jt+Et+qt+Zt+le,vt=lt+ut+mt+ye+Bt+pe+Jt,O=Bt+pe+Jt+Wt+ue,Y=lt+ut+mt+re+er;return t.set(0,0,Ut),t.set(0,1,Gt),t.set(0,2,Yt),t.set(1,0,Xt),t.set(1,1,nt),t.set(1,2,pt),t.set(2,0,vt),t.set(2,1,O),t.set(2,2,Y),t}mmulStrassen(r){r=be.checkMatrix(r);let t=this.clone(),o=t.rows,l=t.columns,u=r.rows,d=r.columns;l!==u&&console.warn(`Multiplying ${o} x ${l} and ${u} x ${d} matrix: dimensions do not match.`);function f(k,C,M){let A=k.rows,F=k.columns;if(A===C&&F===M)return k;{let U=gr.zeros(C,M);return U=U.setSubMatrix(k,0,0),U}}let m=Math.max(o,u),v=Math.max(l,d);t=f(t,m,v),r=f(r,m,v);function _(k,C,M,A){if(M<=512||A<=512)return k.mmul(C);M%2===1&&A%2===1?(k=f(k,M+1,A+1),C=f(C,M+1,A+1)):M%2===1?(k=f(k,M+1,A),C=f(C,M+1,A)):A%2===1&&(k=f(k,M,A+1),C=f(C,M,A+1));let F=parseInt(k.rows/2,10),U=parseInt(k.columns/2,10),j=k.subMatrix(0,F-1,0,U-1),J=C.subMatrix(0,F-1,0,U-1),H=k.subMatrix(0,F-1,U,k.columns-1),V=C.subMatrix(0,F-1,U,C.columns-1),ot=k.subMatrix(F,k.rows-1,0,U-1),ft=C.subMatrix(F,C.rows-1,0,U-1),ht=k.subMatrix(F,k.rows-1,U,k.columns-1),ct=C.subMatrix(F,C.rows-1,U,C.columns-1),Z=_(gr.add(j,ht),gr.add(J,ct),F,U),lt=_(gr.add(ot,ht),J,F,U),ut=_(j,gr.sub(V,ct),F,U),mt=_(ht,gr.sub(ft,J),F,U),re=_(gr.add(j,H),ct,F,U),ne=_(gr.sub(ot,j),gr.add(J,V),F,U),ye=_(gr.sub(H,ht),gr.add(ft,ct),F,U),Bt=gr.add(Z,mt);Bt.sub(re),Bt.add(ye);let pe=gr.add(ut,re),Jt=gr.add(lt,mt),Wt=gr.sub(Z,lt);Wt.add(ut),Wt.add(ne);let Et=gr.zeros(2*Bt.rows,2*Bt.columns);return Et=Et.setSubMatrix(Bt,0,0),Et=Et.setSubMatrix(pe,Bt.rows,0),Et=Et.setSubMatrix(Jt,0,Bt.columns),Et=Et.setSubMatrix(Wt,Bt.rows,Bt.columns),Et.subMatrix(0,M-1,0,A-1)}return _(t,r,m,v)}scaleRows(r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{min:t=0,max:o=1}=r;if(!Number.isFinite(t))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(t>=o)throw new RangeError("min must be smaller than max");let l=new be(this.rows,this.columns);for(let u=0;u<this.rows;u++){const d=this.getRow(u);d.length>0&&lT(d,{min:t,max:o,output:d}),l.setRow(u,d)}return l}scaleColumns(r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{min:t=0,max:o=1}=r;if(!Number.isFinite(t))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(t>=o)throw new RangeError("min must be smaller than max");let l=new be(this.rows,this.columns);for(let u=0;u<this.columns;u++){const d=this.getColumn(u);d.length&&lT(d,{min:t,max:o,output:d}),l.setColumn(u,d)}return l}flipRows(){const r=Math.ceil(this.columns/2);for(let t=0;t<this.rows;t++)for(let o=0;o<r;o++){let l=this.get(t,o),u=this.get(t,this.columns-1-o);this.set(t,o,u),this.set(t,this.columns-1-o,l)}return this}flipColumns(){const r=Math.ceil(this.rows/2);for(let t=0;t<this.columns;t++)for(let o=0;o<r;o++){let l=this.get(o,t),u=this.get(this.rows-1-o,t);this.set(o,t,u),this.set(this.rows-1-o,t,l)}return this}kroneckerProduct(r){r=be.checkMatrix(r);let t=this.rows,o=this.columns,l=r.rows,u=r.columns,d=new be(t*l,o*u);for(let f=0;f<t;f++)for(let m=0;m<o;m++)for(let v=0;v<l;v++)for(let _=0;_<u;_++)d.set(l*f+v,u*m+_,this.get(f,m)*r.get(v,_));return d}kroneckerSum(r){if(r=be.checkMatrix(r),!this.isSquare()||!r.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let t=this.rows,o=r.rows,l=this.kroneckerProduct(be.eye(o,o)),u=be.eye(t,t).kroneckerProduct(r);return l.add(u)}transpose(){let r=new be(this.columns,this.rows);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)r.set(o,t,this.get(t,o));return r}sortRows(r=uT){for(let t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(r));return this}sortColumns(r=uT){for(let t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(r));return this}subMatrix(r,t,o,l){y1(this,r,t,o,l);let u=new be(t-r+1,l-o+1);for(let d=r;d<=t;d++)for(let f=o;f<=l;f++)u.set(d-r,f-o,this.get(d,f));return u}subMatrixRow(r,t,o){if(t===void 0&&(t=0),o===void 0&&(o=this.columns-1),t>o||t<0||t>=this.columns||o<0||o>=this.columns)throw new RangeError("Argument out of range");let l=new be(r.length,o-t+1);for(let u=0;u<r.length;u++)for(let d=t;d<=o;d++){if(r[u]<0||r[u]>=this.rows)throw new RangeError(`Row index out of range: ${r[u]}`);l.set(u,d-t,this.get(r[u],d))}return l}subMatrixColumn(r,t,o){if(t===void 0&&(t=0),o===void 0&&(o=this.rows-1),t>o||t<0||t>=this.rows||o<0||o>=this.rows)throw new RangeError("Argument out of range");let l=new be(o-t+1,r.length);for(let u=0;u<r.length;u++)for(let d=t;d<=o;d++){if(r[u]<0||r[u]>=this.columns)throw new RangeError(`Column index out of range: ${r[u]}`);l.set(d-t,u,this.get(d,r[u]))}return l}setSubMatrix(r,t,o){if(r=be.checkMatrix(r),r.isEmpty())return this;let l=t+r.rows-1,u=o+r.columns-1;y1(this,t,l,o,u);for(let d=0;d<r.rows;d++)for(let f=0;f<r.columns;f++)this.set(t+d,o+f,r.get(d,f));return this}selection(r,t){Cx(this,r),Px(this,t);let o=new be(r.length,t.length);for(let l=0;l<r.length;l++){let u=r[l];for(let d=0;d<t.length;d++){let f=t[d];o.set(l,d,this.get(u,f))}}return o}trace(){let r=Math.min(this.rows,this.columns),t=0;for(let o=0;o<r;o++)t+=this.get(o,o);return t}clone(){return this.constructor.copy(this,new be(this.rows,this.columns))}static copy(r,t){for(const[o,l,u]of r.entries())t.set(o,l,u);return t}sum(r){switch(r){case"row":return x8(this);case"column":return _8(this);case void 0:return k8(this);default:throw new Error(`invalid option: ${r}`)}}product(r){switch(r){case"row":return E8(this);case"column":return T8(this);case void 0:return S8(this);default:throw new Error(`invalid option: ${r}`)}}mean(r){const t=this.sum(r);switch(r){case"row":{for(let o=0;o<this.rows;o++)t[o]/=this.columns;return t}case"column":{for(let o=0;o<this.columns;o++)t[o]/=this.rows;return t}case void 0:return t/this.size;default:throw new Error(`invalid option: ${r}`)}}variance(r,t={}){if(typeof r=="object"&&(t=r,r=void 0),typeof t!="object")throw new TypeError("options must be an object");const{unbiased:o=!0,mean:l=this.mean(r)}=t;if(typeof o!="boolean")throw new TypeError("unbiased must be a boolean");switch(r){case"row":{if(!Go.isAnyArray(l))throw new TypeError("mean must be an array");return C8(this,o,l)}case"column":{if(!Go.isAnyArray(l))throw new TypeError("mean must be an array");return P8(this,o,l)}case void 0:{if(typeof l!="number")throw new TypeError("mean must be a number");return M8(this,o,l)}default:throw new Error(`invalid option: ${r}`)}}standardDeviation(r,t){typeof r=="object"&&(t=r,r=void 0);const o=this.variance(r,t);if(r===void 0)return Math.sqrt(o);for(let l=0;l<o.length;l++)o[l]=Math.sqrt(o[l]);return o}center(r,t={}){if(typeof r=="object"&&(t=r,r=void 0),typeof t!="object")throw new TypeError("options must be an object");const{center:o=this.mean(r)}=t;switch(r){case"row":{if(!Go.isAnyArray(o))throw new TypeError("center must be an array");return I8(this,o),this}case"column":{if(!Go.isAnyArray(o))throw new TypeError("center must be an array");return L8(this,o),this}case void 0:{if(typeof o!="number")throw new TypeError("center must be a number");return R8(this,o),this}default:throw new Error(`invalid option: ${r}`)}}scale(r,t={}){if(typeof r=="object"&&(t=r,r=void 0),typeof t!="object")throw new TypeError("options must be an object");let o=t.scale;switch(r){case"row":{if(o===void 0)o=A8(this);else if(!Go.isAnyArray(o))throw new TypeError("scale must be an array");return O8(this,o),this}case"column":{if(o===void 0)o=z8(this);else if(!Go.isAnyArray(o))throw new TypeError("scale must be an array");return N8(this,o),this}case void 0:{if(o===void 0)o=D8(this);else if(typeof o!="number")throw new TypeError("scale must be a number");return F8(this,o),this}default:throw new Error(`invalid option: ${r}`)}}toString(r){return _P(this,r)}[Symbol.iterator](){return this.entries()}*entries(){for(let r=0;r<this.rows;r++)for(let t=0;t<this.columns;t++)yield[r,t,this.get(r,t)]}*values(){for(let r=0;r<this.rows;r++)for(let t=0;t<this.columns;t++)yield this.get(r,t)}}gr.prototype.klass="Matrix";typeof Symbol<"u"&&(gr.prototype[Symbol.for("nodejs.util.inspect.custom")]=v8);function uT(n,r){return n-r}function B8(n){return n.every(r=>typeof r=="number")}gr.random=gr.rand;gr.randomInt=gr.randInt;gr.diagonal=gr.diag;gr.prototype.diagonal=gr.prototype.diag;gr.identity=gr.eye;gr.prototype.negate=gr.prototype.neg;gr.prototype.tensorProduct=gr.prototype.kroneckerProduct;var qv,Pw,Vv;let be=(Vv=class extends gr{constructor(n,r){if(super(),dg(this,qv),l8(this,"data"),Vv.isMatrix(n))fp(this,qv,Pw).call(this,n.rows,n.columns),Vv.copy(n,this);else if(Number.isInteger(n)&&n>=0)fp(this,qv,Pw).call(this,n,r);else if(Go.isAnyArray(n)){const t=n;if(n=t.length,r=n?t[0].length:0,typeof r!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let o=0;o<n;o++){if(t[o].length!==r)throw new RangeError("Inconsistent array dimensions");if(!B8(t[o]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(t[o]))}this.rows=n,this.columns=r}else throw new TypeError("First argument must be a positive number or an array")}set(n,r,t){return this.data[n][r]=t,this}get(n,r){return this.data[n][r]}removeRow(n){return Gs(this,n),this.data.splice(n,1),this.rows-=1,this}addRow(n,r){return r===void 0&&(r=n,n=this.rows),Gs(this,n,!0),r=Float64Array.from(Hd(this,r)),this.data.splice(n,0,r),this.rows+=1,this}removeColumn(n){qs(this,n);for(let r=0;r<this.rows;r++){const t=new Float64Array(this.columns-1);for(let o=0;o<n;o++)t[o]=this.data[r][o];for(let o=n+1;o<this.columns;o++)t[o-1]=this.data[r][o];this.data[r]=t}return this.columns-=1,this}addColumn(n,r){typeof r>"u"&&(r=n,n=this.columns),qs(this,n,!0),r=Ud(this,r);for(let t=0;t<this.rows;t++){const o=new Float64Array(this.columns+1);let l=0;for(;l<n;l++)o[l]=this.data[t][l];for(o[l++]=r[t];l<this.columns+1;l++)o[l]=this.data[t][l-1];this.data[t]=o}return this.columns+=1,this}},qv=new WeakSet,Pw=function(n,r){if(this.data=[],Number.isInteger(r)&&r>=0)for(let t=0;t<n;t++)this.data.push(new Float64Array(r));else throw new TypeError("nColumns must be a positive integer");this.rows=n,this.columns=r},Vv);w8(gr,be);var To;const j8=class b1 extends gr{constructor(r){if(super(),dg(this,To,void 0),be.isMatrix(r)){if(!r.isSymmetric())throw new TypeError("not symmetric data");Cw(this,To,be.copy(r,new be(r.rows,r.rows)))}else if(Number.isInteger(r)&&r>=0)Cw(this,To,new be(r,r));else if(Cw(this,To,new be(r)),!this.isSymmetric())throw new TypeError("not symmetric data")}get size(){return el(this,To).size}get rows(){return el(this,To).rows}get columns(){return el(this,To).columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(r){return be.isMatrix(r)&&r.klassType==="SymmetricMatrix"}static zeros(r){return new this(r)}static ones(r){return new this(r).fill(1)}clone(){const r=new b1(this.diagonalSize);for(const[t,o,l]of this.upperRightEntries())r.set(t,o,l);return r}toMatrix(){return new be(this)}get(r,t){return el(this,To).get(r,t)}set(r,t,o){return el(this,To).set(r,t,o),el(this,To).set(t,r,o),this}removeCross(r){return el(this,To).removeRow(r),el(this,To).removeColumn(r),this}addCross(r,t){t===void 0&&(t=r,r=this.diagonalSize);const o=t.slice();return o.splice(r,1),el(this,To).addRow(r,o),el(this,To).addColumn(r,t),this}applyMask(r){if(r.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const t=[];for(const[o,l]of r.entries())l||t.push(o);t.reverse();for(const o of t)this.removeCross(o);return this}toCompact(){const{diagonalSize:r}=this,t=new Array(r*(r+1)/2);for(let o=0,l=0,u=0;u<t.length;u++)t[u]=this.get(l,o),++o>=r&&(o=++l);return t}static fromCompact(r){const t=r.length,o=(Math.sqrt(8*t+1)-1)/2;if(!Number.isInteger(o))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(r)}`);const l=new b1(o);for(let u=0,d=0,f=0;f<t;f++)l.set(u,d,r[f]),++u>=o&&(u=++d);return l}*upperRightEntries(){for(let r=0,t=0;r<this.diagonalSize;void 0){const o=this.get(r,t);yield[r,t,o],++t>=this.diagonalSize&&(t=++r)}}*upperRightValues(){for(let r=0,t=0;r<this.diagonalSize;void 0)yield this.get(r,t),++t>=this.diagonalSize&&(t=++r)}};To=new WeakMap;let pg=j8;pg.prototype.klassType="SymmetricMatrix";class Ty extends pg{static isDistanceMatrix(r){return pg.isSymmetricMatrix(r)&&r.klassSubType==="DistanceMatrix"}constructor(r){if(super(r),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(r,t,o){return r===t&&(o=0),super.set(r,t,o)}addCross(r,t){return t===void 0&&(t=r,r=this.diagonalSize),t=t.slice(),t[r]=0,super.addCross(r,t)}toSymmetricMatrix(){return new pg(this)}clone(){const r=new Ty(this.diagonalSize);for(const[t,o,l]of this.upperRightEntries())t!==o&&r.set(t,o,l);return r}toCompact(){const{diagonalSize:r}=this,t=(r-1)*r/2,o=new Array(t);for(let l=1,u=0,d=0;d<o.length;d++)o[d]=this.get(u,l),++l>=r&&(l=++u+1);return o}static fromCompact(r){const t=r.length,o=(Math.sqrt(8*t+1)+1)/2;if(!Number.isInteger(o))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(r)}`);const l=new this(o);for(let u=1,d=0,f=0;f<t;f++)l.set(u,d,r[f]),++u>=o&&(u=++d+1);return l}}Ty.prototype.klassSubType="DistanceMatrix";class ac extends gr{constructor(r,t,o){super(),this.matrix=r,this.rows=t,this.columns=o}}class H8 extends ac{constructor(r,t){qs(r,t),super(r,r.rows,1),this.column=t}set(r,t,o){return this.matrix.set(r,this.column,o),this}get(r){return this.matrix.get(r,this.column)}}class U8 extends ac{constructor(r,t){Px(r,t),super(r,r.rows,t.length),this.columnIndices=t}set(r,t,o){return this.matrix.set(r,this.columnIndices[t],o),this}get(r,t){return this.matrix.get(r,this.columnIndices[t])}}class G8 extends ac{constructor(r){super(r,r.rows,r.columns)}set(r,t,o){return this.matrix.set(r,this.columns-t-1,o),this}get(r,t){return this.matrix.get(r,this.columns-t-1)}}class q8 extends ac{constructor(r){super(r,r.rows,r.columns)}set(r,t,o){return this.matrix.set(this.rows-r-1,t,o),this}get(r,t){return this.matrix.get(this.rows-r-1,t)}}class V8 extends ac{constructor(r,t){Gs(r,t),super(r,1,r.columns),this.row=t}set(r,t,o){return this.matrix.set(this.row,t,o),this}get(r,t){return this.matrix.get(this.row,t)}}class W8 extends ac{constructor(r,t){Cx(r,t),super(r,t.length,r.columns),this.rowIndices=t}set(r,t,o){return this.matrix.set(this.rowIndices[r],t,o),this}get(r,t){return this.matrix.get(this.rowIndices[r],t)}}class u0 extends ac{constructor(r,t,o){Cx(r,t),Px(r,o),super(r,t.length,o.length),this.rowIndices=t,this.columnIndices=o}set(r,t,o){return this.matrix.set(this.rowIndices[r],this.columnIndices[t],o),this}get(r,t){return this.matrix.get(this.rowIndices[r],this.columnIndices[t])}}class Z8 extends ac{constructor(r,t,o,l,u){y1(r,t,o,l,u),super(r,o-t+1,u-l+1),this.startRow=t,this.startColumn=l}set(r,t,o){return this.matrix.set(this.startRow+r,this.startColumn+t,o),this}get(r,t){return this.matrix.get(this.startRow+r,this.startColumn+t)}}class Y8 extends ac{constructor(r){super(r,r.columns,r.rows)}set(r,t,o){return this.matrix.set(t,r,o),this}get(r,t){return this.matrix.get(t,r)}}class kP extends gr{constructor(r,t={}){const{rows:o=1}=t;if(r.length%o!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=o,this.columns=r.length/o,this.data=r}set(r,t,o){let l=this._calculateIndex(r,t);return this.data[l]=o,this}get(r,t){let o=this._calculateIndex(r,t);return this.data[o]}_calculateIndex(r,t){return r*this.columns+t}}class gs extends gr{constructor(r){super(),this.data=r,this.rows=r.length,this.columns=r[0].length}set(r,t,o){return this.data[r][t]=o,this}get(r,t){return this.data[r][t]}}function X8(n,r){if(Go.isAnyArray(n))return n[0]&&Go.isAnyArray(n[0])?new gs(n):new kP(n,r);throw new Error("the argument is not an array")}class Sy{constructor(r){r=gs.checkMatrix(r);let t=r.clone(),o=t.rows,l=t.columns,u=new Float64Array(o),d=1,f,m,v,_,k,C,M,A,F;for(f=0;f<o;f++)u[f]=f;for(A=new Float64Array(o),m=0;m<l;m++){for(f=0;f<o;f++)A[f]=t.get(f,m);for(f=0;f<o;f++){for(F=Math.min(f,m),k=0,v=0;v<F;v++)k+=t.get(f,v)*A[v];A[f]-=k,t.set(f,m,A[f])}for(_=m,f=m+1;f<o;f++)Math.abs(A[f])>Math.abs(A[_])&&(_=f);if(_!==m){for(v=0;v<l;v++)C=t.get(_,v),t.set(_,v,t.get(m,v)),t.set(m,v,C);M=u[_],u[_]=u[m],u[m]=M,d=-d}if(m<o&&t.get(m,m)!==0)for(f=m+1;f<o;f++)t.set(f,m,t.get(f,m)/t.get(m,m))}this.LU=t,this.pivotVector=u,this.pivotSign=d}isSingular(){let r=this.LU,t=r.columns;for(let o=0;o<t;o++)if(r.get(o,o)===0)return!0;return!1}solve(r){r=be.checkMatrix(r);let t=this.LU;if(t.rows!==r.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let o=r.columns,l=r.subMatrixRow(this.pivotVector,0,o-1),u=t.columns,d,f,m;for(m=0;m<u;m++)for(d=m+1;d<u;d++)for(f=0;f<o;f++)l.set(d,f,l.get(d,f)-l.get(m,f)*t.get(d,m));for(m=u-1;m>=0;m--){for(f=0;f<o;f++)l.set(m,f,l.get(m,f)/t.get(m,m));for(d=0;d<m;d++)for(f=0;f<o;f++)l.set(d,f,l.get(d,f)-l.get(m,f)*t.get(d,m))}return l}get determinant(){let r=this.LU;if(!r.isSquare())throw new Error("Matrix must be square");let t=this.pivotSign,o=r.columns;for(let l=0;l<o;l++)t*=r.get(l,l);return t}get lowerTriangularMatrix(){let r=this.LU,t=r.rows,o=r.columns,l=new be(t,o);for(let u=0;u<t;u++)for(let d=0;d<o;d++)u>d?l.set(u,d,r.get(u,d)):u===d?l.set(u,d,1):l.set(u,d,0);return l}get upperTriangularMatrix(){let r=this.LU,t=r.rows,o=r.columns,l=new be(t,o);for(let u=0;u<t;u++)for(let d=0;d<o;d++)u<=d?l.set(u,d,r.get(u,d)):l.set(u,d,0);return l}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function Xl(n,r){let t=0;return Math.abs(n)>Math.abs(r)?(t=r/n,Math.abs(n)*Math.sqrt(1+t*t)):r!==0?(t=n/r,Math.abs(r)*Math.sqrt(1+t*t)):0}class Mx{constructor(r){r=gs.checkMatrix(r);let t=r.clone(),o=r.rows,l=r.columns,u=new Float64Array(l),d,f,m,v;for(m=0;m<l;m++){let _=0;for(d=m;d<o;d++)_=Xl(_,t.get(d,m));if(_!==0){for(t.get(m,m)<0&&(_=-_),d=m;d<o;d++)t.set(d,m,t.get(d,m)/_);for(t.set(m,m,t.get(m,m)+1),f=m+1;f<l;f++){for(v=0,d=m;d<o;d++)v+=t.get(d,m)*t.get(d,f);for(v=-v/t.get(m,m),d=m;d<o;d++)t.set(d,f,t.get(d,f)+v*t.get(d,m))}}u[m]=-_}this.QR=t,this.Rdiag=u}solve(r){r=be.checkMatrix(r);let t=this.QR,o=t.rows;if(r.rows!==o)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let l=r.columns,u=r.clone(),d=t.columns,f,m,v,_;for(v=0;v<d;v++)for(m=0;m<l;m++){for(_=0,f=v;f<o;f++)_+=t.get(f,v)*u.get(f,m);for(_=-_/t.get(v,v),f=v;f<o;f++)u.set(f,m,u.get(f,m)+_*t.get(f,v))}for(v=d-1;v>=0;v--){for(m=0;m<l;m++)u.set(v,m,u.get(v,m)/this.Rdiag[v]);for(f=0;f<v;f++)for(m=0;m<l;m++)u.set(f,m,u.get(f,m)-u.get(v,m)*t.get(f,v))}return u.subMatrix(0,d-1,0,l-1)}isFullRank(){let r=this.QR.columns;for(let t=0;t<r;t++)if(this.Rdiag[t]===0)return!1;return!0}get upperTriangularMatrix(){let r=this.QR,t=r.columns,o=new be(t,t),l,u;for(l=0;l<t;l++)for(u=0;u<t;u++)l<u?o.set(l,u,r.get(l,u)):l===u?o.set(l,u,this.Rdiag[l]):o.set(l,u,0);return o}get orthogonalMatrix(){let r=this.QR,t=r.rows,o=r.columns,l=new be(t,o),u,d,f,m;for(f=o-1;f>=0;f--){for(u=0;u<t;u++)l.set(u,f,0);for(l.set(f,f,1),d=f;d<o;d++)if(r.get(f,f)!==0){for(m=0,u=f;u<t;u++)m+=r.get(u,f)*l.get(u,d);for(m=-m/r.get(f,f),u=f;u<t;u++)l.set(u,d,l.get(u,d)+m*r.get(u,f))}}return l}}let xp=class{constructor(n,r={}){if(n=gs.checkMatrix(n),n.isEmpty())throw new Error("Matrix must be non-empty");let t=n.rows,o=n.columns;const{computeLeftSingularVectors:l=!0,computeRightSingularVectors:u=!0,autoTranspose:d=!1}=r;let f=!!l,m=!!u,v=!1,_;if(t<o)if(!d)_=n.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{_=n.transpose(),t=_.rows,o=_.columns,v=!0;let Z=f;f=m,m=Z}else _=n.clone();let k=Math.min(t,o),C=Math.min(t+1,o),M=new Float64Array(C),A=new be(t,k),F=new be(o,o),U=new Float64Array(o),j=new Float64Array(t),J=new Float64Array(C);for(let Z=0;Z<C;Z++)J[Z]=Z;let H=Math.min(t-1,o),V=Math.max(0,Math.min(o-2,t)),ot=Math.max(H,V);for(let Z=0;Z<ot;Z++){if(Z<H){M[Z]=0;for(let lt=Z;lt<t;lt++)M[Z]=Xl(M[Z],_.get(lt,Z));if(M[Z]!==0){_.get(Z,Z)<0&&(M[Z]=-M[Z]);for(let lt=Z;lt<t;lt++)_.set(lt,Z,_.get(lt,Z)/M[Z]);_.set(Z,Z,_.get(Z,Z)+1)}M[Z]=-M[Z]}for(let lt=Z+1;lt<o;lt++){if(Z<H&&M[Z]!==0){let ut=0;for(let mt=Z;mt<t;mt++)ut+=_.get(mt,Z)*_.get(mt,lt);ut=-ut/_.get(Z,Z);for(let mt=Z;mt<t;mt++)_.set(mt,lt,_.get(mt,lt)+ut*_.get(mt,Z))}U[lt]=_.get(Z,lt)}if(f&&Z<H)for(let lt=Z;lt<t;lt++)A.set(lt,Z,_.get(lt,Z));if(Z<V){U[Z]=0;for(let lt=Z+1;lt<o;lt++)U[Z]=Xl(U[Z],U[lt]);if(U[Z]!==0){U[Z+1]<0&&(U[Z]=0-U[Z]);for(let lt=Z+1;lt<o;lt++)U[lt]/=U[Z];U[Z+1]+=1}if(U[Z]=-U[Z],Z+1<t&&U[Z]!==0){for(let lt=Z+1;lt<t;lt++)j[lt]=0;for(let lt=Z+1;lt<t;lt++)for(let ut=Z+1;ut<o;ut++)j[lt]+=U[ut]*_.get(lt,ut);for(let lt=Z+1;lt<o;lt++){let ut=-U[lt]/U[Z+1];for(let mt=Z+1;mt<t;mt++)_.set(mt,lt,_.get(mt,lt)+ut*j[mt])}}if(m)for(let lt=Z+1;lt<o;lt++)F.set(lt,Z,U[lt])}}let ft=Math.min(o,t+1);if(H<o&&(M[H]=_.get(H,H)),t<ft&&(M[ft-1]=0),V+1<ft&&(U[V]=_.get(V,ft-1)),U[ft-1]=0,f){for(let Z=H;Z<k;Z++){for(let lt=0;lt<t;lt++)A.set(lt,Z,0);A.set(Z,Z,1)}for(let Z=H-1;Z>=0;Z--)if(M[Z]!==0){for(let lt=Z+1;lt<k;lt++){let ut=0;for(let mt=Z;mt<t;mt++)ut+=A.get(mt,Z)*A.get(mt,lt);ut=-ut/A.get(Z,Z);for(let mt=Z;mt<t;mt++)A.set(mt,lt,A.get(mt,lt)+ut*A.get(mt,Z))}for(let lt=Z;lt<t;lt++)A.set(lt,Z,-A.get(lt,Z));A.set(Z,Z,1+A.get(Z,Z));for(let lt=0;lt<Z-1;lt++)A.set(lt,Z,0)}else{for(let lt=0;lt<t;lt++)A.set(lt,Z,0);A.set(Z,Z,1)}}if(m)for(let Z=o-1;Z>=0;Z--){if(Z<V&&U[Z]!==0)for(let lt=Z+1;lt<o;lt++){let ut=0;for(let mt=Z+1;mt<o;mt++)ut+=F.get(mt,Z)*F.get(mt,lt);ut=-ut/F.get(Z+1,Z);for(let mt=Z+1;mt<o;mt++)F.set(mt,lt,F.get(mt,lt)+ut*F.get(mt,Z))}for(let lt=0;lt<o;lt++)F.set(lt,Z,0);F.set(Z,Z,1)}let ht=ft-1,ct=Number.EPSILON;for(;ft>0;){let Z,lt;for(Z=ft-2;Z>=-1&&Z!==-1;Z--){const ut=Number.MIN_VALUE+ct*Math.abs(M[Z]+Math.abs(M[Z+1]));if(Math.abs(U[Z])<=ut||Number.isNaN(U[Z])){U[Z]=0;break}}if(Z===ft-2)lt=4;else{let ut;for(ut=ft-1;ut>=Z&&ut!==Z;ut--){let mt=(ut!==ft?Math.abs(U[ut]):0)+(ut!==Z+1?Math.abs(U[ut-1]):0);if(Math.abs(M[ut])<=ct*mt){M[ut]=0;break}}ut===Z?lt=3:ut===ft-1?lt=1:(lt=2,Z=ut)}switch(Z++,lt){case 1:{let ut=U[ft-2];U[ft-2]=0;for(let mt=ft-2;mt>=Z;mt--){let re=Xl(M[mt],ut),ne=M[mt]/re,ye=ut/re;if(M[mt]=re,mt!==Z&&(ut=-ye*U[mt-1],U[mt-1]=ne*U[mt-1]),m)for(let Bt=0;Bt<o;Bt++)re=ne*F.get(Bt,mt)+ye*F.get(Bt,ft-1),F.set(Bt,ft-1,-ye*F.get(Bt,mt)+ne*F.get(Bt,ft-1)),F.set(Bt,mt,re)}break}case 2:{let ut=U[Z-1];U[Z-1]=0;for(let mt=Z;mt<ft;mt++){let re=Xl(M[mt],ut),ne=M[mt]/re,ye=ut/re;if(M[mt]=re,ut=-ye*U[mt],U[mt]=ne*U[mt],f)for(let Bt=0;Bt<t;Bt++)re=ne*A.get(Bt,mt)+ye*A.get(Bt,Z-1),A.set(Bt,Z-1,-ye*A.get(Bt,mt)+ne*A.get(Bt,Z-1)),A.set(Bt,mt,re)}break}case 3:{const ut=Math.max(Math.abs(M[ft-1]),Math.abs(M[ft-2]),Math.abs(U[ft-2]),Math.abs(M[Z]),Math.abs(U[Z])),mt=M[ft-1]/ut,re=M[ft-2]/ut,ne=U[ft-2]/ut,ye=M[Z]/ut,Bt=U[Z]/ut,pe=((re+mt)*(re-mt)+ne*ne)/2,Jt=mt*ne*(mt*ne);let Wt=0;(pe!==0||Jt!==0)&&(pe<0?Wt=0-Math.sqrt(pe*pe+Jt):Wt=Math.sqrt(pe*pe+Jt),Wt=Jt/(pe+Wt));let Et=(ye+mt)*(ye-mt)+Wt,qt=ye*Bt;for(let Zt=Z;Zt<ft-1;Zt++){let fe=Xl(Et,qt);fe===0&&(fe=Number.MIN_VALUE);let Ce=Et/fe,le=qt/fe;if(Zt!==Z&&(U[Zt-1]=fe),Et=Ce*M[Zt]+le*U[Zt],U[Zt]=Ce*U[Zt]-le*M[Zt],qt=le*M[Zt+1],M[Zt+1]=Ce*M[Zt+1],m)for(let ue=0;ue<o;ue++)fe=Ce*F.get(ue,Zt)+le*F.get(ue,Zt+1),F.set(ue,Zt+1,-le*F.get(ue,Zt)+Ce*F.get(ue,Zt+1)),F.set(ue,Zt,fe);if(fe=Xl(Et,qt),fe===0&&(fe=Number.MIN_VALUE),Ce=Et/fe,le=qt/fe,M[Zt]=fe,Et=Ce*U[Zt]+le*M[Zt+1],M[Zt+1]=-le*U[Zt]+Ce*M[Zt+1],qt=le*U[Zt+1],U[Zt+1]=Ce*U[Zt+1],f&&Zt<t-1)for(let ue=0;ue<t;ue++)fe=Ce*A.get(ue,Zt)+le*A.get(ue,Zt+1),A.set(ue,Zt+1,-le*A.get(ue,Zt)+Ce*A.get(ue,Zt+1)),A.set(ue,Zt,fe)}U[ft-2]=Et;break}case 4:{if(M[Z]<=0&&(M[Z]=M[Z]<0?-M[Z]:0,m))for(let ut=0;ut<=ht;ut++)F.set(ut,Z,-F.get(ut,Z));for(;Z<ht&&!(M[Z]>=M[Z+1]);){let ut=M[Z];if(M[Z]=M[Z+1],M[Z+1]=ut,m&&Z<o-1)for(let mt=0;mt<o;mt++)ut=F.get(mt,Z+1),F.set(mt,Z+1,F.get(mt,Z)),F.set(mt,Z,ut);if(f&&Z<t-1)for(let mt=0;mt<t;mt++)ut=A.get(mt,Z+1),A.set(mt,Z+1,A.get(mt,Z)),A.set(mt,Z,ut);Z++}ft--;break}}}if(v){let Z=F;F=A,A=Z}this.m=t,this.n=o,this.s=M,this.U=A,this.V=F}solve(n){let r=n,t=this.threshold,o=this.s.length,l=be.zeros(o,o);for(let k=0;k<o;k++)Math.abs(this.s[k])<=t?l.set(k,k,0):l.set(k,k,1/this.s[k]);let u=this.U,d=this.rightSingularVectors,f=d.mmul(l),m=d.rows,v=u.rows,_=be.zeros(m,v);for(let k=0;k<m;k++)for(let C=0;C<v;C++){let M=0;for(let A=0;A<o;A++)M+=f.get(k,A)*u.get(C,A);_.set(k,C,M)}return _.mmul(r)}solveForDiagonal(n){return this.solve(be.diag(n))}inverse(){let n=this.V,r=this.threshold,t=n.rows,o=n.columns,l=new be(t,this.s.length);for(let v=0;v<t;v++)for(let _=0;_<o;_++)Math.abs(this.s[_])>r&&l.set(v,_,n.get(v,_)/this.s[_]);let u=this.U,d=u.rows,f=u.columns,m=new be(t,d);for(let v=0;v<t;v++)for(let _=0;_<d;_++){let k=0;for(let C=0;C<f;C++)k+=l.get(v,C)*u.get(_,C);m.set(v,_,k)}return m}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let n=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,r=0,t=this.s;for(let o=0,l=t.length;o<l;o++)t[o]>n&&r++;return r}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return be.diag(this.s)}};function K8(n,r=!1){return n=gs.checkMatrix(n),r?new xp(n).inverse():EP(n,be.eye(n.rows))}function EP(n,r,t=!1){return n=gs.checkMatrix(n),r=gs.checkMatrix(r),t?new xp(n).solve(r):n.isSquare()?new Sy(n).solve(r):new Mx(n).solve(r)}function h0(n){if(n=be.checkMatrix(n),n.isSquare()){if(n.columns===0)return 1;let r,t,o,l;if(n.columns===2)return r=n.get(0,0),t=n.get(0,1),o=n.get(1,0),l=n.get(1,1),r*l-t*o;if(n.columns===3){let u,d,f;return u=new u0(n,[1,2],[1,2]),d=new u0(n,[1,2],[0,2]),f=new u0(n,[1,2],[0,1]),r=n.get(0,0),t=n.get(0,1),o=n.get(0,2),r*h0(u)-t*h0(d)+o*h0(f)}else return new Sy(n).determinant}else throw Error("determinant can only be calculated for a square matrix")}function J8(n,r){let t=[];for(let o=0;o<n;o++)o!==r&&t.push(o);return t}function Q8(n,r,t,o=1e-9,l=1e-9){if(n>l)return new Array(r.rows+1).fill(0);{let u=r.addRow(t,[0]);for(let d=0;d<u.rows;d++)Math.abs(u.get(d,0))<o&&u.set(d,0,0);return u.to1DArray()}}function $8(n,r={}){const{thresholdValue:t=1e-9,thresholdError:o=1e-9}=r;n=be.checkMatrix(n);let l=n.rows,u=new be(l,l);for(let d=0;d<l;d++){let f=be.columnVector(n.getRow(d)),m=n.subMatrixRow(J8(l,d)).transpose(),v=new xp(m).solve(f),_=be.sub(f,m.mmul(v)).abs().max();u.setRow(d,Q8(_,v,d,t,o))}return u}function tB(n,r=Number.EPSILON){if(n=be.checkMatrix(n),n.isEmpty())return n.transpose();let t=new xp(n,{autoTranspose:!0}),o=t.leftSingularVectors,l=t.rightSingularVectors,u=t.diagonal;for(let d=0;d<u.length;d++)Math.abs(u[d])>r?u[d]=1/u[d]:u[d]=0;return l.mmul(be.diag(u).mmul(o.transpose()))}function eB(n,r=n,t={}){n=new be(n);let o=!1;if(typeof r=="object"&&!be.isMatrix(r)&&!Go.isAnyArray(r)?(t=r,r=n,o=!0):r=new be(r),n.rows!==r.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:l=!0}=t;l&&(n=n.center("column"),o||(r=r.center("column")));const u=n.transpose().mmul(r);for(let d=0;d<u.rows;d++)for(let f=0;f<u.columns;f++)u.set(d,f,u.get(d,f)*(1/(n.rows-1)));return u}function rB(n,r=n,t={}){n=new be(n);let o=!1;if(typeof r=="object"&&!be.isMatrix(r)&&!Go.isAnyArray(r)?(t=r,r=n,o=!0):r=new be(r),n.rows!==r.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:l=!0,scale:u=!0}=t;l&&(n.center("column"),o||r.center("column")),u&&(n.scale("column"),o||r.scale("column"));const d=n.standardDeviation("column",{unbiased:!0}),f=o?d:r.standardDeviation("column",{unbiased:!0}),m=n.transpose().mmul(r);for(let v=0;v<m.rows;v++)for(let _=0;_<m.columns;_++)m.set(v,_,m.get(v,_)*(1/(d[v]*f[_]))*(1/(n.rows-1)));return m}class TP{constructor(r,t={}){const{assumeSymmetric:o=!1}=t;if(r=gs.checkMatrix(r),!r.isSquare())throw new Error("Matrix is not a square matrix");if(r.isEmpty())throw new Error("Matrix must be non-empty");let l=r.columns,u=new be(l,l),d=new Float64Array(l),f=new Float64Array(l),m=r,v,_,k=!1;if(o?k=!0:k=r.isSymmetric(),k){for(v=0;v<l;v++)for(_=0;_<l;_++)u.set(v,_,m.get(v,_));iB(l,f,d,u),nB(l,f,d,u)}else{let C=new be(l,l),M=new Float64Array(l);for(_=0;_<l;_++)for(v=0;v<l;v++)C.set(v,_,m.get(v,_));oB(l,C,M,u),sB(l,f,d,u,C)}this.n=l,this.e=f,this.d=d,this.V=u}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let r=this.n,t=this.e,o=this.d,l=new be(r,r),u,d;for(u=0;u<r;u++){for(d=0;d<r;d++)l.set(u,d,0);l.set(u,u,o[u]),t[u]>0?l.set(u,u+1,t[u]):t[u]<0&&l.set(u,u-1,t[u])}return l}}function iB(n,r,t,o){let l,u,d,f,m,v,_,k;for(m=0;m<n;m++)t[m]=o.get(n-1,m);for(f=n-1;f>0;f--){for(k=0,d=0,v=0;v<f;v++)k=k+Math.abs(t[v]);if(k===0)for(r[f]=t[f-1],m=0;m<f;m++)t[m]=o.get(f-1,m),o.set(f,m,0),o.set(m,f,0);else{for(v=0;v<f;v++)t[v]/=k,d+=t[v]*t[v];for(l=t[f-1],u=Math.sqrt(d),l>0&&(u=-u),r[f]=k*u,d=d-l*u,t[f-1]=l-u,m=0;m<f;m++)r[m]=0;for(m=0;m<f;m++){for(l=t[m],o.set(m,f,l),u=r[m]+o.get(m,m)*l,v=m+1;v<=f-1;v++)u+=o.get(v,m)*t[v],r[v]+=o.get(v,m)*l;r[m]=u}for(l=0,m=0;m<f;m++)r[m]/=d,l+=r[m]*t[m];for(_=l/(d+d),m=0;m<f;m++)r[m]-=_*t[m];for(m=0;m<f;m++){for(l=t[m],u=r[m],v=m;v<=f-1;v++)o.set(v,m,o.get(v,m)-(l*r[v]+u*t[v]));t[m]=o.get(f-1,m),o.set(f,m,0)}}t[f]=d}for(f=0;f<n-1;f++){if(o.set(n-1,f,o.get(f,f)),o.set(f,f,1),d=t[f+1],d!==0){for(v=0;v<=f;v++)t[v]=o.get(v,f+1)/d;for(m=0;m<=f;m++){for(u=0,v=0;v<=f;v++)u+=o.get(v,f+1)*o.get(v,m);for(v=0;v<=f;v++)o.set(v,m,o.get(v,m)-u*t[v])}}for(v=0;v<=f;v++)o.set(v,f+1,0)}for(m=0;m<n;m++)t[m]=o.get(n-1,m),o.set(n-1,m,0);o.set(n-1,n-1,1),r[0]=0}function nB(n,r,t,o){let l,u,d,f,m,v,_,k,C,M,A,F,U,j,J,H;for(d=1;d<n;d++)r[d-1]=r[d];r[n-1]=0;let V=0,ot=0,ft=Number.EPSILON;for(v=0;v<n;v++){for(ot=Math.max(ot,Math.abs(t[v])+Math.abs(r[v])),_=v;_<n&&!(Math.abs(r[_])<=ft*ot);)_++;if(_>v)do{for(l=t[v],k=(t[v+1]-l)/(2*r[v]),C=Xl(k,1),k<0&&(C=-C),t[v]=r[v]/(k+C),t[v+1]=r[v]*(k+C),M=t[v+1],u=l-t[v],d=v+2;d<n;d++)t[d]-=u;for(V=V+u,k=t[_],A=1,F=A,U=A,j=r[v+1],J=0,H=0,d=_-1;d>=v;d--)for(U=F,F=A,H=J,l=A*r[d],u=A*k,C=Xl(k,r[d]),r[d+1]=J*C,J=r[d]/C,A=k/C,k=A*t[d]-J*l,t[d+1]=u+J*(A*l+J*t[d]),m=0;m<n;m++)u=o.get(m,d+1),o.set(m,d+1,J*o.get(m,d)+A*u),o.set(m,d,A*o.get(m,d)-J*u);k=-J*H*U*j*r[v]/M,r[v]=J*k,t[v]=A*k}while(Math.abs(r[v])>ft*ot);t[v]=t[v]+V,r[v]=0}for(d=0;d<n-1;d++){for(m=d,k=t[d],f=d+1;f<n;f++)t[f]<k&&(m=f,k=t[f]);if(m!==d)for(t[m]=t[d],t[d]=k,f=0;f<n;f++)k=o.get(f,d),o.set(f,d,o.get(f,m)),o.set(f,m,k)}}function oB(n,r,t,o){let l=0,u=n-1,d,f,m,v,_,k,C;for(k=l+1;k<=u-1;k++){for(C=0,v=k;v<=u;v++)C=C+Math.abs(r.get(v,k-1));if(C!==0){for(m=0,v=u;v>=k;v--)t[v]=r.get(v,k-1)/C,m+=t[v]*t[v];for(f=Math.sqrt(m),t[k]>0&&(f=-f),m=m-t[k]*f,t[k]=t[k]-f,_=k;_<n;_++){for(d=0,v=u;v>=k;v--)d+=t[v]*r.get(v,_);for(d=d/m,v=k;v<=u;v++)r.set(v,_,r.get(v,_)-d*t[v])}for(v=0;v<=u;v++){for(d=0,_=u;_>=k;_--)d+=t[_]*r.get(v,_);for(d=d/m,_=k;_<=u;_++)r.set(v,_,r.get(v,_)-d*t[_])}t[k]=C*t[k],r.set(k,k-1,C*f)}}for(v=0;v<n;v++)for(_=0;_<n;_++)o.set(v,_,v===_?1:0);for(k=u-1;k>=l+1;k--)if(r.get(k,k-1)!==0){for(v=k+1;v<=u;v++)t[v]=r.get(v,k-1);for(_=k;_<=u;_++){for(f=0,v=k;v<=u;v++)f+=t[v]*o.get(v,_);for(f=f/t[k]/r.get(k,k-1),v=k;v<=u;v++)o.set(v,_,o.get(v,_)+f*t[v])}}}function sB(n,r,t,o,l){let u=n-1,d=0,f=n-1,m=Number.EPSILON,v=0,_=0,k=0,C=0,M=0,A=0,F=0,U=0,j,J,H,V,ot,ft,ht,ct,Z,lt,ut,mt,re,ne,ye;for(j=0;j<n;j++)for((j<d||j>f)&&(t[j]=l.get(j,j),r[j]=0),J=Math.max(j-1,0);J<n;J++)_=_+Math.abs(l.get(j,J));for(;u>=d;){for(V=u;V>d&&(A=Math.abs(l.get(V-1,V-1))+Math.abs(l.get(V,V)),A===0&&(A=_),!(Math.abs(l.get(V,V-1))<m*A));)V--;if(V===u)l.set(u,u,l.get(u,u)+v),t[u]=l.get(u,u),r[u]=0,u--,U=0;else if(V===u-1){if(ht=l.get(u,u-1)*l.get(u-1,u),k=(l.get(u-1,u-1)-l.get(u,u))/2,C=k*k+ht,F=Math.sqrt(Math.abs(C)),l.set(u,u,l.get(u,u)+v),l.set(u-1,u-1,l.get(u-1,u-1)+v),ct=l.get(u,u),C>=0){for(F=k>=0?k+F:k-F,t[u-1]=ct+F,t[u]=t[u-1],F!==0&&(t[u]=ct-ht/F),r[u-1]=0,r[u]=0,ct=l.get(u,u-1),A=Math.abs(ct)+Math.abs(F),k=ct/A,C=F/A,M=Math.sqrt(k*k+C*C),k=k/M,C=C/M,J=u-1;J<n;J++)F=l.get(u-1,J),l.set(u-1,J,C*F+k*l.get(u,J)),l.set(u,J,C*l.get(u,J)-k*F);for(j=0;j<=u;j++)F=l.get(j,u-1),l.set(j,u-1,C*F+k*l.get(j,u)),l.set(j,u,C*l.get(j,u)-k*F);for(j=d;j<=f;j++)F=o.get(j,u-1),o.set(j,u-1,C*F+k*o.get(j,u)),o.set(j,u,C*o.get(j,u)-k*F)}else t[u-1]=ct+k,t[u]=ct+k,r[u-1]=F,r[u]=-F;u=u-2,U=0}else{if(ct=l.get(u,u),Z=0,ht=0,V<u&&(Z=l.get(u-1,u-1),ht=l.get(u,u-1)*l.get(u-1,u)),U===10){for(v+=ct,j=d;j<=u;j++)l.set(j,j,l.get(j,j)-ct);A=Math.abs(l.get(u,u-1))+Math.abs(l.get(u-1,u-2)),ct=Z=.75*A,ht=-.4375*A*A}if(U===30&&(A=(Z-ct)/2,A=A*A+ht,A>0)){for(A=Math.sqrt(A),Z<ct&&(A=-A),A=ct-ht/((Z-ct)/2+A),j=d;j<=u;j++)l.set(j,j,l.get(j,j)-A);v+=A,ct=Z=ht=.964}for(U=U+1,ot=u-2;ot>=V&&(F=l.get(ot,ot),M=ct-F,A=Z-F,k=(M*A-ht)/l.get(ot+1,ot)+l.get(ot,ot+1),C=l.get(ot+1,ot+1)-F-M-A,M=l.get(ot+2,ot+1),A=Math.abs(k)+Math.abs(C)+Math.abs(M),k=k/A,C=C/A,M=M/A,!(ot===V||Math.abs(l.get(ot,ot-1))*(Math.abs(C)+Math.abs(M))<m*(Math.abs(k)*(Math.abs(l.get(ot-1,ot-1))+Math.abs(F)+Math.abs(l.get(ot+1,ot+1))))));)ot--;for(j=ot+2;j<=u;j++)l.set(j,j-2,0),j>ot+2&&l.set(j,j-3,0);for(H=ot;H<=u-1&&(ne=H!==u-1,H!==ot&&(k=l.get(H,H-1),C=l.get(H+1,H-1),M=ne?l.get(H+2,H-1):0,ct=Math.abs(k)+Math.abs(C)+Math.abs(M),ct!==0&&(k=k/ct,C=C/ct,M=M/ct)),ct!==0);H++)if(A=Math.sqrt(k*k+C*C+M*M),k<0&&(A=-A),A!==0){for(H!==ot?l.set(H,H-1,-A*ct):V!==ot&&l.set(H,H-1,-l.get(H,H-1)),k=k+A,ct=k/A,Z=C/A,F=M/A,C=C/k,M=M/k,J=H;J<n;J++)k=l.get(H,J)+C*l.get(H+1,J),ne&&(k=k+M*l.get(H+2,J),l.set(H+2,J,l.get(H+2,J)-k*F)),l.set(H,J,l.get(H,J)-k*ct),l.set(H+1,J,l.get(H+1,J)-k*Z);for(j=0;j<=Math.min(u,H+3);j++)k=ct*l.get(j,H)+Z*l.get(j,H+1),ne&&(k=k+F*l.get(j,H+2),l.set(j,H+2,l.get(j,H+2)-k*M)),l.set(j,H,l.get(j,H)-k),l.set(j,H+1,l.get(j,H+1)-k*C);for(j=d;j<=f;j++)k=ct*o.get(j,H)+Z*o.get(j,H+1),ne&&(k=k+F*o.get(j,H+2),o.set(j,H+2,o.get(j,H+2)-k*M)),o.set(j,H,o.get(j,H)-k),o.set(j,H+1,o.get(j,H+1)-k*C)}}}if(_!==0){for(u=n-1;u>=0;u--)if(k=t[u],C=r[u],C===0)for(V=u,l.set(u,u,1),j=u-1;j>=0;j--){for(ht=l.get(j,j)-k,M=0,J=V;J<=u;J++)M=M+l.get(j,J)*l.get(J,u);if(r[j]<0)F=ht,A=M;else if(V=j,r[j]===0?l.set(j,u,ht!==0?-M/ht:-M/(m*_)):(ct=l.get(j,j+1),Z=l.get(j+1,j),C=(t[j]-k)*(t[j]-k)+r[j]*r[j],ft=(ct*A-F*M)/C,l.set(j,u,ft),l.set(j+1,u,Math.abs(ct)>Math.abs(F)?(-M-ht*ft)/ct:(-A-Z*ft)/F)),ft=Math.abs(l.get(j,u)),m*ft*ft>1)for(J=j;J<=u;J++)l.set(J,u,l.get(J,u)/ft)}else if(C<0)for(V=u-1,Math.abs(l.get(u,u-1))>Math.abs(l.get(u-1,u))?(l.set(u-1,u-1,C/l.get(u,u-1)),l.set(u-1,u,-(l.get(u,u)-k)/l.get(u,u-1))):(ye=Wv(0,-l.get(u-1,u),l.get(u-1,u-1)-k,C),l.set(u-1,u-1,ye[0]),l.set(u-1,u,ye[1])),l.set(u,u-1,0),l.set(u,u,1),j=u-2;j>=0;j--){for(lt=0,ut=0,J=V;J<=u;J++)lt=lt+l.get(j,J)*l.get(J,u-1),ut=ut+l.get(j,J)*l.get(J,u);if(ht=l.get(j,j)-k,r[j]<0)F=ht,M=lt,A=ut;else if(V=j,r[j]===0?(ye=Wv(-lt,-ut,ht,C),l.set(j,u-1,ye[0]),l.set(j,u,ye[1])):(ct=l.get(j,j+1),Z=l.get(j+1,j),mt=(t[j]-k)*(t[j]-k)+r[j]*r[j]-C*C,re=(t[j]-k)*2*C,mt===0&&re===0&&(mt=m*_*(Math.abs(ht)+Math.abs(C)+Math.abs(ct)+Math.abs(Z)+Math.abs(F))),ye=Wv(ct*M-F*lt+C*ut,ct*A-F*ut-C*lt,mt,re),l.set(j,u-1,ye[0]),l.set(j,u,ye[1]),Math.abs(ct)>Math.abs(F)+Math.abs(C)?(l.set(j+1,u-1,(-lt-ht*l.get(j,u-1)+C*l.get(j,u))/ct),l.set(j+1,u,(-ut-ht*l.get(j,u)-C*l.get(j,u-1))/ct)):(ye=Wv(-M-Z*l.get(j,u-1),-A-Z*l.get(j,u),F,C),l.set(j+1,u-1,ye[0]),l.set(j+1,u,ye[1]))),ft=Math.max(Math.abs(l.get(j,u-1)),Math.abs(l.get(j,u))),m*ft*ft>1)for(J=j;J<=u;J++)l.set(J,u-1,l.get(J,u-1)/ft),l.set(J,u,l.get(J,u)/ft)}for(j=0;j<n;j++)if(j<d||j>f)for(J=j;J<n;J++)o.set(j,J,l.get(j,J));for(J=n-1;J>=d;J--)for(j=d;j<=f;j++){for(F=0,H=d;H<=Math.min(J,f);H++)F=F+o.get(j,H)*l.get(H,J);o.set(j,J,F)}}}function Wv(n,r,t,o){let l,u;return Math.abs(t)>Math.abs(o)?(l=o/t,u=t+l*o,[(n+l*r)/u,(r-l*n)/u]):(l=t/o,u=o+l*t,[(l*n+r)/u,(l*r-n)/u])}class SP{constructor(r){if(r=gs.checkMatrix(r),!r.isSymmetric())throw new Error("Matrix is not symmetric");let t=r,o=t.rows,l=new be(o,o),u=!0,d,f,m;for(f=0;f<o;f++){let v=0;for(m=0;m<f;m++){let _=0;for(d=0;d<m;d++)_+=l.get(m,d)*l.get(f,d);_=(t.get(f,m)-_)/l.get(m,m),l.set(f,m,_),v=v+_*_}for(v=t.get(f,f)-v,u&=v>0,l.set(f,f,Math.sqrt(Math.max(v,0))),m=f+1;m<o;m++)l.set(f,m,0)}this.L=l,this.positiveDefinite=!!u}isPositiveDefinite(){return this.positiveDefinite}solve(r){r=gs.checkMatrix(r);let t=this.L,o=t.rows;if(r.rows!==o)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");let l=r.columns,u=r.clone(),d,f,m;for(m=0;m<o;m++)for(f=0;f<l;f++){for(d=0;d<m;d++)u.set(m,f,u.get(m,f)-u.get(d,f)*t.get(m,d));u.set(m,f,u.get(m,f)/t.get(m,m))}for(m=o-1;m>=0;m--)for(f=0;f<l;f++){for(d=m+1;d<o;d++)u.set(m,f,u.get(m,f)-u.get(d,f)*t.get(d,m));u.set(m,f,u.get(m,f)/t.get(m,m))}return u}get lowerTriangularMatrix(){return this.L}}class CP{constructor(r,t={}){r=gs.checkMatrix(r);let{Y:o}=t;const{scaleScores:l=!1,maxIterations:u=1e3,terminationCriteria:d=1e-10}=t;let f;if(o){if(Go.isAnyArray(o)&&typeof o[0]=="number"?o=be.columnVector(o):o=gs.checkMatrix(o),o.rows!==r.rows)throw new Error("Y should have the same number of rows as X");f=o.getColumnVector(0)}else f=r.getColumnVector(0);let m=1,v,_,k,C;for(let M=0;M<u&&m>d;M++)k=r.transpose().mmul(f).div(f.transpose().mmul(f).get(0,0)),k=k.div(k.norm()),v=r.mmul(k).div(k.transpose().mmul(k).get(0,0)),M>0&&(m=v.clone().sub(C).pow(2).sum()),C=v.clone(),o?(_=o.transpose().mmul(v).div(v.transpose().mmul(v).get(0,0)),_=_.div(_.norm()),f=o.mmul(_).div(_.transpose().mmul(_).get(0,0))):f=v;if(o){let M=r.transpose().mmul(v).div(v.transpose().mmul(v).get(0,0));M=M.div(M.norm());let A=r.clone().sub(v.clone().mmul(M.transpose())),F=f.transpose().mmul(v).div(v.transpose().mmul(v).get(0,0)),U=o.clone().sub(v.clone().mulS(F.get(0,0)).mmul(_.transpose()));this.t=v,this.p=M.transpose(),this.w=k.transpose(),this.q=_,this.u=f,this.s=v.transpose().mmul(v),this.xResidual=A,this.yResidual=U,this.betas=F}else this.w=k.transpose(),this.s=v.transpose().mmul(v).sqrt(),l?this.t=v.clone().div(this.s.get(0,0)):this.t=v,this.xResidual=r.sub(v.mmul(k.transpose()))}}ei.AbstractMatrix=gr;ei.CHO=SP;ei.CholeskyDecomposition=SP;ei.DistanceMatrix=Ty;ei.EVD=TP;ei.EigenvalueDecomposition=TP;ei.LU=Sy;ei.LuDecomposition=Sy;var aB=ei.Matrix=be;ei.MatrixColumnSelectionView=U8;ei.MatrixColumnView=H8;ei.MatrixFlipColumnView=G8;ei.MatrixFlipRowView=q8;ei.MatrixRowSelectionView=W8;ei.MatrixRowView=V8;ei.MatrixSelectionView=u0;ei.MatrixSubView=Z8;ei.MatrixTransposeView=Y8;ei.NIPALS=CP;ei.Nipals=CP;ei.QR=Mx;ei.QrDecomposition=Mx;ei.SVD=xp;var lB=ei.SingularValueDecomposition=xp;ei.SymmetricMatrix=pg;ei.WrapperMatrix1D=kP;ei.WrapperMatrix2D=gs;ei.correlation=rB;ei.covariance=eB;var hT=ei.default=be;ei.determinant=h0;var cB=ei.inverse=K8;ei.linearDependencies=$8;var uB=ei.pseudoInverse=tB;ei.solve=EP;ei.wrap=X8;const ao=aB,hB=lB;hT.Matrix&&hT.Matrix;const dB=cB,PP=uB;class pB{constructor(r,t){if(this.sourcePoints=r,this.destinationPoints=t,this.pointCount=this.sourcePoints.length,this.pointCount<2)throw new Error("Not enough control points. A helmert transformation requires a minimum of 2 points, but "+this.pointCount+" are given.");const o=ao.columnVector(t.flat()),l=ao.zeros(2*this.pointCount,4);for(let d=0;d<this.pointCount;d++)l.set(2*d,0,1),l.set(2*d,1,0),l.set(2*d,2,r[d][0]),l.set(2*d,3,-r[d][1]),l.set(2*d+1,0,0),l.set(2*d+1,1,1),l.set(2*d+1,2,r[d][1]),l.set(2*d+1,3,r[d][0]);const u=PP(l);this.helmertParametersMatrix=u.mmul(o)}interpolate(r){if(!this.helmertParametersMatrix)throw new Error("Helmert parameters not computed");return[this.helmertParametersMatrix.get(0,0)+this.helmertParametersMatrix.get(2,0)*r[0]-this.helmertParametersMatrix.get(3,0)*r[1],this.helmertParametersMatrix.get(1,0)+this.helmertParametersMatrix.get(3,0)*r[0]+this.helmertParametersMatrix.get(2,0)*r[1]]}}class Mw{constructor(r,t,o){if(this.sourcePoints=r,this.destinationPoints=t,this.pointCount=this.sourcePoints.length,this.order=o||1,this.nCoefs=(this.order+1)*(this.order+2)/2,this.pointCount<this.nCoefs)throw new Error("Not enough control points. A polynomial transformation of order "+this.order+" requires a minimum of "+this.nCoefs+" points, but "+this.pointCount+" are given.");if(this.order<1||this.order>3)throw new Error("Only polynomial transformations of order 1, 2 or 3 are supported");const l=[ao.columnVector(t.map(f=>f[0])),ao.columnVector(t.map(f=>f[1]))],u=ao.zeros(this.pointCount,this.nCoefs);for(let f=0;f<this.pointCount;f++)switch(this.order){case 1:u.set(f,0,1),u.set(f,1,r[f][0]),u.set(f,2,r[f][1]);break;case 2:u.set(f,0,1),u.set(f,1,r[f][0]),u.set(f,2,r[f][1]),u.set(f,3,r[f][0]**2),u.set(f,4,r[f][1]**2),u.set(f,5,r[f][0]*r[f][1]);break;case 3:u.set(f,0,1),u.set(f,1,r[f][0]),u.set(f,2,r[f][1]),u.set(f,3,r[f][0]**2),u.set(f,4,r[f][1]**2),u.set(f,5,r[f][0]*r[f][1]),u.set(f,6,r[f][0]**3),u.set(f,7,r[f][1]**3),u.set(f,8,r[f][0]**2*r[f][1]),u.set(f,9,r[f][0]*r[f][1]**2);break}const d=PP(u);this.polynomialParametersMatrices=[d.mmul(l[0]),d.mmul(l[1])]}interpolate(r){if(!this.polynomialParametersMatrices)throw new Error("Polynomial parameters not computed");const t=[0,0];for(let o=0;o<2;o++)switch(this.order){case 1:t[o]+=this.polynomialParametersMatrices[o].get(0,0)+this.polynomialParametersMatrices[o].get(1,0)*r[0]+this.polynomialParametersMatrices[o].get(2,0)*r[1];break;case 2:t[o]+=this.polynomialParametersMatrices[o].get(0,0)+this.polynomialParametersMatrices[o].get(1,0)*r[0]+this.polynomialParametersMatrices[o].get(2,0)*r[1]+this.polynomialParametersMatrices[o].get(3,0)*r[0]**2+this.polynomialParametersMatrices[o].get(4,0)*r[1]**2+this.polynomialParametersMatrices[o].get(5,0)*r[0]*r[1];break;case 3:t[o]+=this.polynomialParametersMatrices[o].get(0,0)+this.polynomialParametersMatrices[o].get(1,0)*r[0]+this.polynomialParametersMatrices[o].get(2,0)*r[1]+this.polynomialParametersMatrices[o].get(3,0)*r[0]**2+this.polynomialParametersMatrices[o].get(4,0)*r[1]**2+this.polynomialParametersMatrices[o].get(5,0)*r[0]*r[1]+this.polynomialParametersMatrices[o].get(6,0)*r[0]**3+this.polynomialParametersMatrices[o].get(7,0)*r[1]**3+this.polynomialParametersMatrices[o].get(8,0)*r[0]**2*r[1]+this.polynomialParametersMatrices[o].get(9,0)*r[0]*r[1]**2;break}return t}}class fB{constructor(r,t){if(this.sourcePoints=r,this.destinationPoints=t,this.pointCount=this.sourcePoints.length,this.pointCount<4)throw new Error("Not enough control points. A projective transformation requires a minimum of 4 points, but "+this.pointCount+" are given.");const o=ao.zeros(2*this.pointCount,9);for(let u=0;u<this.pointCount;u++)o.set(2*u,0,-r[u][0]),o.set(2*u,1,-r[u][1]),o.set(2*u,2,-1),o.set(2*u,3,0),o.set(2*u,4,0),o.set(2*u,5,0),o.set(2*u,6,t[u][0]*r[u][0]),o.set(2*u,7,t[u][0]*r[u][1]),o.set(2*u,8,t[u][0]),o.set(2*u+1,0,0),o.set(2*u+1,1,0),o.set(2*u+1,2,0),o.set(2*u+1,3,-r[u][0]),o.set(2*u+1,4,-r[u][1]),o.set(2*u+1,5,-1),o.set(2*u+1,6,t[u][1]*r[u][0]),o.set(2*u+1,7,t[u][1]*r[u][1]),o.set(2*u+1,8,t[u][1]);const l=new hB(o);this.projectiveParametersMatrix=ao.from1DArray(3,3,l.rightSingularVectors.getColumn(8)).transpose()}interpolate(r){if(!this.projectiveParametersMatrix)throw new Error("projective parameters not computed");const t=this.projectiveParametersMatrix.get(0,2)*r[0]+this.projectiveParametersMatrix.get(1,2)*r[1]+this.projectiveParametersMatrix.get(2,2);return[(this.projectiveParametersMatrix.get(0,0)*r[0]+this.projectiveParametersMatrix.get(1,0)*r[1]+this.projectiveParametersMatrix.get(2,0))/t,(this.projectiveParametersMatrix.get(0,1)*r[0]+this.projectiveParametersMatrix.get(1,1)*r[1]+this.projectiveParametersMatrix.get(2,1))/t]}}function gB(n,r){if(n=ao.checkMatrix(n),r=ao.checkMatrix(r),n.rows!=r.rows||n.columns!=r.columns)throw new Error("Matrices have different dimensions");const t=ao.zeros(n.rows,n.columns);for(let o=0;o<n.rows;o++)for(let l=0;l<n.columns;l++)t.set(o,l,n.get(o,l)*r.get(o,l));return t}class mB{constructor(r,t,o,l,u){if(this.sourcePoints=r,this.destinationPoints=t,this.kernelFunction=o,this.normFunction=l,this.pointCount=this.sourcePoints.length,this.pointCount<3)throw new Error(`Not enough control points. A thin plate spline transformation (with affine component) requires a minimum of 3 points, but ${this.pointCount} are given.`);const d=[ao.columnVector([...t,[0,0],[0,0],[0,0]].map(k=>k[0])),ao.columnVector([...t,[0,0],[0,0],[0,0]].map(k=>k[1]))],f=ao.zeros(this.pointCount,this.pointCount);for(let k=0;k<this.pointCount;k++)for(let C=0;C<this.pointCount;C++)f.set(k,C,l(r[k],r[C]));u===void 0&&(u=f.sum()/(Math.pow(this.pointCount,2)-this.pointCount)),this.epsilon=u;for(let k=0;k<this.pointCount;k++)for(let C=0;C<this.pointCount;C++)f.set(k,C,o(f.get(k,C),u));const m=ao.zeros(this.pointCount,3),v=ao.zeros(this.pointCount+3,this.pointCount+3);for(let k=0;k<this.pointCount;k++)m.set(k,0,1),m.set(k,1,r[k][0]),m.set(k,2,r[k][1]);for(let k=0;k<this.pointCount+3;k++)for(let C=0;C<this.pointCount+3;C++)k<this.pointCount&&C<this.pointCount?v.set(k,C,f.get(k,C)):k>=this.pointCount&&C<this.pointCount?v.set(k,C,m.transpose().get(k-this.pointCount,C)):k<this.pointCount&&C>=this.pointCount&&v.set(k,C,m.get(k,C-this.pointCount));const _=dB(v);this.weightsMatrices=[_.mmul(d[0]),_.mmul(d[1])]}interpolate(r){if(!this.weightsMatrices)throw new Error("Weights not computed");const t=ao.zeros(this.pointCount,1);for(let l=0;l<this.pointCount;l++)t.set(l,0,this.kernelFunction(this.normFunction(r,this.sourcePoints[l]),this.epsilon));const o=[0,0];for(let l=0;l<2;l++){o[l]=gB(t,this.weightsMatrices[l].selection([...Array(this.pointCount).keys()],[0])).sum();const u=this.weightsMatrices[l].get(this.pointCount,0),d=this.weightsMatrices[l].get(this.pointCount+1,0),f=this.weightsMatrices[l].get(this.pointCount+2,0);o[l]+=u+d*r[0]+f*r[1]}return o}}function vB(n){return n===0?0:Math.pow(n,2)*Math.log(n)}function yB(n,r){const t=[r[0]-n[0],r[1]-n[1]];return Math.sqrt(t[0]**2+t[1]**2)}function Cy(n){const r={close:!1,maxOffsetRatio:0,maxDepth:0,destinationIsGeographic:!1,sourceIsGeographic:!1};return n&&n.maxDepth!==void 0&&(r.maxDepth=n.maxDepth),n&&n.maxOffsetRatio!==void 0&&(r.maxOffsetRatio=n.maxOffsetRatio),n&&n.destinationIsGeographic!==void 0&&(r.destinationIsGeographic=n.destinationIsGeographic),n&&n.sourceIsGeographic!==void 0&&(r.sourceIsGeographic=n.sourceIsGeographic),r}function Zv(n,r,t){const o=Cy(t);r=vP(r);const l=r.map(f=>({source:f,destination:n.transformForward(f)})),u=Py(l,!1),d=MP(n,u,o);return My(d,!0).map(f=>f.destination)}function Yv(n,r,t){const o=Cy(t);r=vP(r);const l=r.map(f=>({source:n.transformBackward(f),destination:f})),u=Py(l,!1),d=IP(n,u,o);return My(d,!0).map(f=>f.source)}function bB(n,r,t){const o=Cy(t);r=Ex(r);const l=r.map(f=>({source:f,destination:n.transformForward(f)})),u=Py(l,!0),d=MP(n,u,o);return My(d,!1).map(f=>f.destination)}function wB(n,r,t){const o=Cy(t);r=Ex(r);const l=r.map(f=>({source:n.transformBackward(f),destination:f})),u=Py(l,!0),d=IP(n,u,o);return My(d,!1).map(f=>f.source)}function Xv(n,r,t){return r.map(o=>bB(n,o,t))}function Kv(n,r,t){return r.map(o=>wB(n,o,t))}function Py(n,r=!1){const t=n.length-(r?0:1),o=[];for(let l=0;l<t;l++)o.push({from:n[l],to:n[(l+1)%n.length]});return o}function My(n,r=!1){const t=n.map(o=>o.from);return r&&t.push(n[n.length-1].to),t}function MP(n,r,t){return t.maxDepth<=0||t.maxOffsetRatio<=0?r:r.map(o=>w1(n,o,t,0)).flat(1)}function IP(n,r,t){return t.maxDepth<=0||t.maxOffsetRatio<=0?r:r.map(o=>x1(n,o,t,0)).flat(1)}function w1(n,r,t,o){const l=(t.sourceIsGeographic?(_,k)=>Y0(_,k).geometry.coordinates:X0)(r.from.source,r.to.source),u=(t.destinationIsGeographic?(_,k)=>Y0(_,k).geometry.coordinates:X0)(r.from.destination,r.to.destination),d=n.transformForward(l),f=t.destinationIsGeographic?kx:$l,m=f(r.from.destination,r.to.destination),v=f(u,d);if(o<t.maxDepth&&t.maxOffsetRatio&&v/m>t.maxOffsetRatio&&m>0){const _={source:l,destination:d};return[w1(n,{from:r.from,to:_},t,o+1),w1(n,{from:_,to:r.to},t,o+1)].flat(1)}else return r}function x1(n,r,t,o){const l=(t.destinationIsGeographic?(_,k)=>Y0(_,k).geometry.coordinates:X0)(r.from.destination,r.to.destination),u=(t.sourceIsGeographic?(_,k)=>Y0(_,k).geometry.coordinates:X0)(r.from.source,r.to.source),d=n.transformBackward(l),f=t.sourceIsGeographic?kx:$l,m=f(r.from.source,r.to.source),v=f(u,d);if(o<t.maxDepth&&t.maxOffsetRatio&&v/m>t.maxOffsetRatio&&m>0){const _={source:d,destination:l};return[x1(n,{from:r.from,to:_},t,o+1),x1(n,{from:_,to:r.to},t,o+1)].flat(1)}else return r}var _1,LP,k1,RP,d0,Iw;class dT{constructor(r,t="polynomial"){if(dg(this,_1),dg(this,k1),dg(this,d0),r.length==0)throw new Error("No control points.");this.gcps=r.map(o=>{if("resource"in o&&"geo"in o)return{source:o.resource,destination:o.geo};if("source"in o&&"destination"in o)return o;throw new Error("Unsupported GCP type")}),this.sourcePoints=this.gcps.map(o=>o.source),this.destinationPoints=this.gcps.map(o=>o.destination),this.type=t}transformForward(r,t){if(Uo(r))return this.forwardTransformation||(this.forwardTransformation=fp(this,_1,LP).call(this)),this.forwardTransformation.interpolate(r);if(Vl(r))return this.transformForward(Jf(r));if(rl(r))return Zv(this,r,t);if(Wl(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),Zv(this,Qf(r),t);if(il(r))return Xv(this,r,t);if(Zl(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),Xv(this,$f(r),t);throw new Error("Input type not supported")}transformForwardAsGeojson(r,t){if(Uo(r))return Bv(this.transformForward(r));if(Vl(r))return Bv(this.transformForward(Jf(r)));if(rl(r))return t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),jv(Zv(this,r,t));if(Wl(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),jv(Zv(this,Qf(r),t));if(il(r))return t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),Hv(Xv(this,r,t));if(Zl(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),Hv(Xv(this,$f(r),t));throw new Error("Input type not supported")}transformBackward(r,t){if(Uo(r))return this.backwardTransformation||(this.backwardTransformation=fp(this,k1,RP).call(this)),this.backwardTransformation.interpolate(r);if(Vl(r))return this.transformBackward(Jf(r));if(rl(r))return Yv(this,r,t);if(Wl(r))return t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),Yv(this,Qf(r),t);if(il(r))return Kv(this,r,t);if(Zl(r))return t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),Kv(this,$f(r),t);throw new Error("Input type not supported")}transformBackwardAsGeojson(r,t){if(Uo(r))return Bv(this.transformBackward(r));if(Vl(r))return Bv(this.transformBackward(Jf(r)));if(rl(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),jv(Yv(this,r,t));if(Wl(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),jv(Yv(this,Qf(r),t));if(il(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),Hv(Kv(this,r,t));if(Zl(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),Hv(Kv(this,$f(r),t));throw new Error("Input type not supported")}transformToGeo(r,t){if(Uo(r))return this.transformForward(r,t);if(Vl(r))return this.transformForward(r,t);if(rl(r))return this.transformForward(r,t);if(Wl(r))return this.transformForward(r,t);if(il(r))return this.transformForward(r,t);if(Zl(r))return this.transformForward(r,t);throw new Error("Input type not supported")}transformToGeoAsGeojson(r,t){if(Uo(r))return this.transformForwardAsGeojson(r,t);if(Vl(r))return this.transformForwardAsGeojson(r,t);if(rl(r))return this.transformForwardAsGeojson(r,t);if(Wl(r))return this.transformForwardAsGeojson(r,t);if(il(r))return this.transformForwardAsGeojson(r,t);if(Zl(r))return this.transformForwardAsGeojson(r,t);throw new Error("Input type not supported")}transformToResource(r,t){if(Uo(r))return this.transformBackward(r,t);if(Vl(r))return this.transformBackward(r,t);if(rl(r))return this.transformBackward(r,t);if(Wl(r))return this.transformBackward(r,t);if(il(r))return this.transformBackward(r,t);if(Zl(r))return this.transformBackward(r,t);throw new Error("Input type not supported")}transformToResourceAsGeojson(r,t){if(Uo(r))return this.transformBackwardAsGeojson(r,t);if(Vl(r))return this.transformBackwardAsGeojson(r,t);if(rl(r))return this.transformBackwardAsGeojson(r,t);if(Wl(r))return this.transformBackwardAsGeojson(r,t);if(il(r))return this.transformBackwardAsGeojson(r,t);if(Zl(r))return this.transformBackwardAsGeojson(r,t);throw new Error("Input type not supported")}transformSvgToGeojson(r,t){if(r.type==="circle")return this.transformForwardAsGeojson(r.coordinates);if(r.type==="line")return this.transformForwardAsGeojson(r.coordinates,t);if(r.type==="polyline")return this.transformForwardAsGeojson(r.coordinates,t);if(r.type==="rect")return this.transformForwardAsGeojson([r.coordinates],t);if(r.type==="polygon")return this.transformForwardAsGeojson([r.coordinates],t);throw new Error("Unsupported SVG geometry")}transformGeojsonToSvg(r,t){if(r.type==="Point")return{type:"circle",coordinates:this.transformBackward(r)};if(r.type==="LineString")return{type:"polyline",coordinates:this.transformBackward(r,t)};if(r.type==="Polygon")return{type:"polygon",coordinates:this.transformBackward(r,t)[0]};throw new Error("Unsupported GeoJSON geometry")}}_1=new WeakSet,LP=function(){return fp(this,d0,Iw).call(this,this.sourcePoints,this.destinationPoints)},k1=new WeakSet,RP=function(){return fp(this,d0,Iw).call(this,this.destinationPoints,this.sourcePoints)},d0=new WeakSet,Iw=function(n,r){if(this.type==="helmert")return new pB(n,r);if(this.type==="polynomial1"||this.type==="polynomial")return new Mw(n,r);if(this.type==="polynomial2")return new Mw(n,r,2);if(this.type==="polynomial3")return new Mw(n,r,3);if(this.type==="projective")return new fB(n,r);if(this.type==="thinPlateSpline")return new mB(n,r,vB,yB);throw new Error(`Unsupported transformation type: ${this.type}`)};function xB(n){return Math.sqrt(Math.pow(n[1][0]-n[0][0],2)+Math.pow(n[1][1]-n[0][1],2))}function _B(n){return Math.atan2(n[1][1]-n[0][1],n[1][0]-n[0][0])}function kB(n,r,t){return[n[0]+Math.cos(t)*r,n[1]+Math.sin(t)*r]}function EB(n,r){let t=n[0];const o=[t];for(;xB([t,n[1]])>r;){const l=kB(t,r,_B(n));o.push(l),t=l}return o}function TB(n,r){n=[...n,n[0]];let t=[];for(let o=0;o<n.length-1;o++)t=t.concat(EB([n[o],n[o+1]],r));return t}function SB(n,r){const t=[],o=Hn(n);for(let l=o[0]+r,u=0;l<=o[2];u++,l+=r)for(let d=o[1]+r,f=0;d<=o[3];f++,d+=r)t.push([l,d]);return t}var E1={},CB={get exports(){return E1},set exports(n){E1=n}},AP=PB,pT=+(Math.pow(2,27)+1);function PB(n,r,t){var o=n*r,l=pT*n,u=l-n,d=l-u,f=n-d,m=pT*r,v=m-r,_=m-v,k=r-_,C=o-d*_,M=C-f*_,A=M-d*k,F=f*k-A;return t?(t[0]=F,t[1]=o,t):[F,o]}var MB=LB;function IB(n,r){var t=n+r,o=t-n,l=t-o,u=r-o,d=n-l,f=d+u;return f?[f,t]:[t]}function LB(n,r){var t=n.length|0,o=r.length|0;if(t===1&&o===1)return IB(n[0],r[0]);var l=t+o,u=new Array(l),d=0,f=0,m=0,v=Math.abs,_=n[f],k=v(_),C=r[m],M=v(C),A,F;k<M?(F=_,f+=1,f<t&&(_=n[f],k=v(_))):(F=C,m+=1,m<o&&(C=r[m],M=v(C))),f<t&&k<M||m>=o?(A=_,f+=1,f<t&&(_=n[f],k=v(_))):(A=C,m+=1,m<o&&(C=r[m],M=v(C)));for(var U=A+F,j=U-A,J=F-j,H=J,V=U,ot,ft,ht,ct,Z;f<t&&m<o;)k<M?(A=_,f+=1,f<t&&(_=n[f],k=v(_))):(A=C,m+=1,m<o&&(C=r[m],M=v(C))),F=H,U=A+F,j=U-A,J=F-j,J&&(u[d++]=J),ot=V+U,ft=ot-V,ht=ot-ft,ct=U-ft,Z=V-ht,H=Z+ct,V=ot;for(;f<t;)A=_,F=H,U=A+F,j=U-A,J=F-j,J&&(u[d++]=J),ot=V+U,ft=ot-V,ht=ot-ft,ct=U-ft,Z=V-ht,H=Z+ct,V=ot,f+=1,f<t&&(_=n[f]);for(;m<o;)A=C,F=H,U=A+F,j=U-A,J=F-j,J&&(u[d++]=J),ot=V+U,ft=ot-V,ht=ot-ft,ct=U-ft,Z=V-ht,H=Z+ct,V=ot,m+=1,m<o&&(C=r[m]);return H&&(u[d++]=H),V&&(u[d++]=V),d||(u[d++]=0),u.length=d,u}var RB=AB;function AB(n,r,t){var o=n+r,l=o-n,u=o-l,d=r-l,f=n-u;return t?(t[0]=f+d,t[1]=o,t):[f+d,o]}var Lw=AP,OB=RB,zB=NB;function NB(n,r){var t=n.length;if(t===1){var o=Lw(n[0],r);return o[0]?o:[o[1]]}var l=new Array(2*t),u=[.1,.1],d=[.1,.1],f=0;Lw(n[0],r,u),u[0]&&(l[f++]=u[0]);for(var m=1;m<t;++m){Lw(n[m],r,d);var v=u[1];OB(v,d[0],u),u[0]&&(l[f++]=u[0]);var _=d[1],k=u[1],C=_+k,M=C-_,A=k-M;u[1]=C,A&&(l[f++]=A)}return u[1]&&(l[f++]=u[1]),f===0&&(l[f++]=0),l.length=f,l}var DB=BB;function FB(n,r){var t=n+r,o=t-n,l=t-o,u=r-o,d=n-l,f=d+u;return f?[f,t]:[t]}function BB(n,r){var t=n.length|0,o=r.length|0;if(t===1&&o===1)return FB(n[0],-r[0]);var l=t+o,u=new Array(l),d=0,f=0,m=0,v=Math.abs,_=n[f],k=v(_),C=-r[m],M=v(C),A,F;k<M?(F=_,f+=1,f<t&&(_=n[f],k=v(_))):(F=C,m+=1,m<o&&(C=-r[m],M=v(C))),f<t&&k<M||m>=o?(A=_,f+=1,f<t&&(_=n[f],k=v(_))):(A=C,m+=1,m<o&&(C=-r[m],M=v(C)));for(var U=A+F,j=U-A,J=F-j,H=J,V=U,ot,ft,ht,ct,Z;f<t&&m<o;)k<M?(A=_,f+=1,f<t&&(_=n[f],k=v(_))):(A=C,m+=1,m<o&&(C=-r[m],M=v(C))),F=H,U=A+F,j=U-A,J=F-j,J&&(u[d++]=J),ot=V+U,ft=ot-V,ht=ot-ft,ct=U-ft,Z=V-ht,H=Z+ct,V=ot;for(;f<t;)A=_,F=H,U=A+F,j=U-A,J=F-j,J&&(u[d++]=J),ot=V+U,ft=ot-V,ht=ot-ft,ct=U-ft,Z=V-ht,H=Z+ct,V=ot,f+=1,f<t&&(_=n[f]);for(;m<o;)A=C,F=H,U=A+F,j=U-A,J=F-j,J&&(u[d++]=J),ot=V+U,ft=ot-V,ht=ot-ft,ct=U-ft,Z=V-ht,H=Z+ct,V=ot,m+=1,m<o&&(C=-r[m]);return H&&(u[d++]=H),V&&(u[d++]=V),d||(u[d++]=0),u.length=d,u}(function(n){var r=AP,t=MB,o=zB,l=DB,u=5,d=11102230246251565e-32,f=(3+16*d)*d,m=(7+56*d)*d;function v(H,V,ot,ft){return function(ht,ct,Z){var lt=H(H(V(ct[1],Z[0]),V(-Z[1],ct[0])),H(V(ht[1],ct[0]),V(-ct[1],ht[0]))),ut=H(V(ht[1],Z[0]),V(-Z[1],ht[0])),mt=ft(lt,ut);return mt[mt.length-1]}}function _(H,V,ot,ft){return function(ht,ct,Z,lt){var ut=H(H(ot(H(V(Z[1],lt[0]),V(-lt[1],Z[0])),ct[2]),H(ot(H(V(ct[1],lt[0]),V(-lt[1],ct[0])),-Z[2]),ot(H(V(ct[1],Z[0]),V(-Z[1],ct[0])),lt[2]))),H(ot(H(V(ct[1],lt[0]),V(-lt[1],ct[0])),ht[2]),H(ot(H(V(ht[1],lt[0]),V(-lt[1],ht[0])),-ct[2]),ot(H(V(ht[1],ct[0]),V(-ct[1],ht[0])),lt[2])))),mt=H(H(ot(H(V(Z[1],lt[0]),V(-lt[1],Z[0])),ht[2]),H(ot(H(V(ht[1],lt[0]),V(-lt[1],ht[0])),-Z[2]),ot(H(V(ht[1],Z[0]),V(-Z[1],ht[0])),lt[2]))),H(ot(H(V(ct[1],Z[0]),V(-Z[1],ct[0])),ht[2]),H(ot(H(V(ht[1],Z[0]),V(-Z[1],ht[0])),-ct[2]),ot(H(V(ht[1],ct[0]),V(-ct[1],ht[0])),Z[2])))),re=ft(ut,mt);return re[re.length-1]}}function k(H,V,ot,ft){return function(ht,ct,Z,lt,ut){var mt=H(H(H(ot(H(ot(H(V(lt[1],ut[0]),V(-ut[1],lt[0])),Z[2]),H(ot(H(V(Z[1],ut[0]),V(-ut[1],Z[0])),-lt[2]),ot(H(V(Z[1],lt[0]),V(-lt[1],Z[0])),ut[2]))),ct[3]),H(ot(H(ot(H(V(lt[1],ut[0]),V(-ut[1],lt[0])),ct[2]),H(ot(H(V(ct[1],ut[0]),V(-ut[1],ct[0])),-lt[2]),ot(H(V(ct[1],lt[0]),V(-lt[1],ct[0])),ut[2]))),-Z[3]),ot(H(ot(H(V(Z[1],ut[0]),V(-ut[1],Z[0])),ct[2]),H(ot(H(V(ct[1],ut[0]),V(-ut[1],ct[0])),-Z[2]),ot(H(V(ct[1],Z[0]),V(-Z[1],ct[0])),ut[2]))),lt[3]))),H(ot(H(ot(H(V(Z[1],lt[0]),V(-lt[1],Z[0])),ct[2]),H(ot(H(V(ct[1],lt[0]),V(-lt[1],ct[0])),-Z[2]),ot(H(V(ct[1],Z[0]),V(-Z[1],ct[0])),lt[2]))),-ut[3]),H(ot(H(ot(H(V(lt[1],ut[0]),V(-ut[1],lt[0])),ct[2]),H(ot(H(V(ct[1],ut[0]),V(-ut[1],ct[0])),-lt[2]),ot(H(V(ct[1],lt[0]),V(-lt[1],ct[0])),ut[2]))),ht[3]),ot(H(ot(H(V(lt[1],ut[0]),V(-ut[1],lt[0])),ht[2]),H(ot(H(V(ht[1],ut[0]),V(-ut[1],ht[0])),-lt[2]),ot(H(V(ht[1],lt[0]),V(-lt[1],ht[0])),ut[2]))),-ct[3])))),H(H(ot(H(ot(H(V(ct[1],ut[0]),V(-ut[1],ct[0])),ht[2]),H(ot(H(V(ht[1],ut[0]),V(-ut[1],ht[0])),-ct[2]),ot(H(V(ht[1],ct[0]),V(-ct[1],ht[0])),ut[2]))),lt[3]),H(ot(H(ot(H(V(ct[1],lt[0]),V(-lt[1],ct[0])),ht[2]),H(ot(H(V(ht[1],lt[0]),V(-lt[1],ht[0])),-ct[2]),ot(H(V(ht[1],ct[0]),V(-ct[1],ht[0])),lt[2]))),-ut[3]),ot(H(ot(H(V(Z[1],lt[0]),V(-lt[1],Z[0])),ct[2]),H(ot(H(V(ct[1],lt[0]),V(-lt[1],ct[0])),-Z[2]),ot(H(V(ct[1],Z[0]),V(-Z[1],ct[0])),lt[2]))),ht[3]))),H(ot(H(ot(H(V(Z[1],lt[0]),V(-lt[1],Z[0])),ht[2]),H(ot(H(V(ht[1],lt[0]),V(-lt[1],ht[0])),-Z[2]),ot(H(V(ht[1],Z[0]),V(-Z[1],ht[0])),lt[2]))),-ct[3]),H(ot(H(ot(H(V(ct[1],lt[0]),V(-lt[1],ct[0])),ht[2]),H(ot(H(V(ht[1],lt[0]),V(-lt[1],ht[0])),-ct[2]),ot(H(V(ht[1],ct[0]),V(-ct[1],ht[0])),lt[2]))),Z[3]),ot(H(ot(H(V(ct[1],Z[0]),V(-Z[1],ct[0])),ht[2]),H(ot(H(V(ht[1],Z[0]),V(-Z[1],ht[0])),-ct[2]),ot(H(V(ht[1],ct[0]),V(-ct[1],ht[0])),Z[2]))),-lt[3]))))),re=H(H(H(ot(H(ot(H(V(lt[1],ut[0]),V(-ut[1],lt[0])),Z[2]),H(ot(H(V(Z[1],ut[0]),V(-ut[1],Z[0])),-lt[2]),ot(H(V(Z[1],lt[0]),V(-lt[1],Z[0])),ut[2]))),ht[3]),ot(H(ot(H(V(lt[1],ut[0]),V(-ut[1],lt[0])),ht[2]),H(ot(H(V(ht[1],ut[0]),V(-ut[1],ht[0])),-lt[2]),ot(H(V(ht[1],lt[0]),V(-lt[1],ht[0])),ut[2]))),-Z[3])),H(ot(H(ot(H(V(Z[1],ut[0]),V(-ut[1],Z[0])),ht[2]),H(ot(H(V(ht[1],ut[0]),V(-ut[1],ht[0])),-Z[2]),ot(H(V(ht[1],Z[0]),V(-Z[1],ht[0])),ut[2]))),lt[3]),ot(H(ot(H(V(Z[1],lt[0]),V(-lt[1],Z[0])),ht[2]),H(ot(H(V(ht[1],lt[0]),V(-lt[1],ht[0])),-Z[2]),ot(H(V(ht[1],Z[0]),V(-Z[1],ht[0])),lt[2]))),-ut[3]))),H(H(ot(H(ot(H(V(Z[1],ut[0]),V(-ut[1],Z[0])),ct[2]),H(ot(H(V(ct[1],ut[0]),V(-ut[1],ct[0])),-Z[2]),ot(H(V(ct[1],Z[0]),V(-Z[1],ct[0])),ut[2]))),ht[3]),ot(H(ot(H(V(Z[1],ut[0]),V(-ut[1],Z[0])),ht[2]),H(ot(H(V(ht[1],ut[0]),V(-ut[1],ht[0])),-Z[2]),ot(H(V(ht[1],Z[0]),V(-Z[1],ht[0])),ut[2]))),-ct[3])),H(ot(H(ot(H(V(ct[1],ut[0]),V(-ut[1],ct[0])),ht[2]),H(ot(H(V(ht[1],ut[0]),V(-ut[1],ht[0])),-ct[2]),ot(H(V(ht[1],ct[0]),V(-ct[1],ht[0])),ut[2]))),Z[3]),ot(H(ot(H(V(ct[1],Z[0]),V(-Z[1],ct[0])),ht[2]),H(ot(H(V(ht[1],Z[0]),V(-Z[1],ht[0])),-ct[2]),ot(H(V(ht[1],ct[0]),V(-ct[1],ht[0])),Z[2]))),-ut[3])))),ne=ft(mt,re);return ne[ne.length-1]}}function C(H){var V=H===3?v:H===4?_:k;return V(t,r,o,l)}var M=C(3),A=C(4),F=[function(){return 0},function(){return 0},function(H,V){return V[0]-H[0]},function(H,V,ot){var ft=(H[1]-ot[1])*(V[0]-ot[0]),ht=(H[0]-ot[0])*(V[1]-ot[1]),ct=ft-ht,Z;if(ft>0){if(ht<=0)return ct;Z=ft+ht}else if(ft<0){if(ht>=0)return ct;Z=-(ft+ht)}else return ct;var lt=f*Z;return ct>=lt||ct<=-lt?ct:M(H,V,ot)},function(H,V,ot,ft){var ht=H[0]-ft[0],ct=V[0]-ft[0],Z=ot[0]-ft[0],lt=H[1]-ft[1],ut=V[1]-ft[1],mt=ot[1]-ft[1],re=H[2]-ft[2],ne=V[2]-ft[2],ye=ot[2]-ft[2],Bt=ct*mt,pe=Z*ut,Jt=Z*lt,Wt=ht*mt,Et=ht*ut,qt=ct*lt,Zt=re*(Bt-pe)+ne*(Jt-Wt)+ye*(Et-qt),fe=(Math.abs(Bt)+Math.abs(pe))*Math.abs(re)+(Math.abs(Jt)+Math.abs(Wt))*Math.abs(ne)+(Math.abs(Et)+Math.abs(qt))*Math.abs(ye),Ce=m*fe;return Zt>Ce||-Zt>Ce?Zt:A(H,V,ot,ft)}];function U(H){var V=F[H.length];return V||(V=F[H.length]=C(H.length)),V.apply(void 0,H)}function j(H,V,ot,ft,ht,ct,Z){return function(lt,ut,mt,re,ne){switch(arguments.length){case 0:case 1:return 0;case 2:return ft(lt,ut);case 3:return ht(lt,ut,mt);case 4:return ct(lt,ut,mt,re);case 5:return Z(lt,ut,mt,re,ne)}for(var ye=new Array(arguments.length),Bt=0;Bt<arguments.length;++Bt)ye[Bt]=arguments[Bt];return H(ye)}}function J(){for(;F.length<=u;)F.push(C(F.length));n.exports=j.apply(void 0,[U].concat(F));for(var H=0;H<=u;++H)n.exports[H]=F[H]}J()})(CB);var jB=HB,Jv=E1;function HB(n,r){for(var t=r[0],o=r[1],l=n.length,u=1,d=l,f=0,m=l-1;f<d;m=f++){var v=n[f],_=n[m],k=v[1],C=_[1];if(C<k){if(C<o&&o<k){var M=Jv(v,_,r);if(M===0)return 0;u^=0<M|0}else if(o===k){var A=n[(f+1)%l],F=A[1];if(k<F){var M=Jv(v,_,r);if(M===0)return 0;u^=0<M|0}}}else if(k<C){if(k<o&&o<C){var M=Jv(v,_,r);if(M===0)return 0;u^=M<0|0}else if(o===k){var A=n[(f+1)%l],F=A[1];if(F<k){var M=Jv(v,_,r);if(M===0)return 0;u^=M<0|0}}}else if(o===k){var U=Math.min(v[0],_[0]),j=Math.max(v[0],_[0]);if(f===0){for(;m>0;){var J=(m+l-1)%l,H=n[J];if(H[1]!==o)break;var V=H[0];U=Math.min(U,V),j=Math.max(j,V),m=J}if(m===0)return U<=t&&t<=j?0:1;d=m+1}for(var ot=n[(m+l-1)%l][1];f+1<d;){var H=n[f+1];if(H[1]!==o)break;var V=H[0];U=Math.min(U,V),j=Math.max(j,V),f+=1}if(U<=t&&t<=j)return 0;var ft=n[(f+1)%l][1];t<U&&ot<o!=ft<o&&(u^=1)}}return 2*u-1}var p0={};const UB="1.5.0",GB={version:UB};function OP(n){return"("+n.x+";"+n.y+")"}function qB(n){var r=n.toString();return r==="[object Object]"?OP(n):r}function VB(n,r){return n.y===r.y?n.x-r.x:n.y-r.y}function WB(n,r){return n.x===r.x&&n.y===r.y}var Ix={toString:qB,toStringBase:OP,compare:VB,equals:WB},ZB=Ix,J0=function(n,r){this.name="PointError",this.points=r=r||[],this.message=n||"Invalid Points!";for(var t=0;t<r.length;t++)this.message+=" "+ZB.toString(r[t])};J0.prototype=new Error;J0.prototype.constructor=J0;var Lx=J0,$g=Ix,yi=function(n,r){this.x=+n||0,this.y=+r||0,this._p2t_edge_list=null};yi.prototype.toString=function(){return $g.toStringBase(this)};yi.prototype.toJSON=function(){return{x:this.x,y:this.y}};yi.prototype.clone=function(){return new yi(this.x,this.y)};yi.prototype.set_zero=function(){return this.x=0,this.y=0,this};yi.prototype.set=function(n,r){return this.x=+n||0,this.y=+r||0,this};yi.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this};yi.prototype.add=function(n){return this.x+=n.x,this.y+=n.y,this};yi.prototype.sub=function(n){return this.x-=n.x,this.y-=n.y,this};yi.prototype.mul=function(n){return this.x*=n,this.y*=n,this};yi.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};yi.prototype.normalize=function(){var n=this.length();return this.x/=n,this.y/=n,n};yi.prototype.equals=function(n){return this.x===n.x&&this.y===n.y};yi.negate=function(n){return new yi(-n.x,-n.y)};yi.add=function(n,r){return new yi(n.x+r.x,n.y+r.y)};yi.sub=function(n,r){return new yi(n.x-r.x,n.y-r.y)};yi.mul=function(n,r){return new yi(n*r.x,n*r.y)};yi.cross=function(n,r){return typeof n=="number"?typeof r=="number"?n*r:new yi(-n*r.y,n*r.x):typeof r=="number"?new yi(r*n.y,-r*n.x):n.x*r.y-n.y*r.x};yi.toString=$g.toString;yi.compare=$g.compare;yi.cmp=$g.compare;yi.equals=$g.equals;yi.dot=function(n,r){return n.x*r.x+n.y*r.y};var zP=yi,YB=Ix,ti=function(n,r,t){this.points_=[n,r,t],this.neighbors_=[null,null,null],this.interior_=!1,this.constrained_edge=[!1,!1,!1],this.delaunay_edge=[!1,!1,!1]},Rw=YB.toString;ti.prototype.toString=function(){return"["+Rw(this.points_[0])+Rw(this.points_[1])+Rw(this.points_[2])+"]"};ti.prototype.getPoint=function(n){return this.points_[n]};ti.prototype.GetPoint=ti.prototype.getPoint;ti.prototype.getPoints=function(){return this.points_};ti.prototype.getNeighbor=function(n){return this.neighbors_[n]};ti.prototype.containsPoint=function(n){var r=this.points_;return n===r[0]||n===r[1]||n===r[2]};ti.prototype.containsEdge=function(n){return this.containsPoint(n.p)&&this.containsPoint(n.q)};ti.prototype.containsPoints=function(n,r){return this.containsPoint(n)&&this.containsPoint(r)};ti.prototype.isInterior=function(){return this.interior_};ti.prototype.setInterior=function(n){return this.interior_=n,this};ti.prototype.markNeighborPointers=function(n,r,t){var o=this.points_;if(n===o[2]&&r===o[1]||n===o[1]&&r===o[2])this.neighbors_[0]=t;else if(n===o[0]&&r===o[2]||n===o[2]&&r===o[0])this.neighbors_[1]=t;else if(n===o[0]&&r===o[1]||n===o[1]&&r===o[0])this.neighbors_[2]=t;else throw new Error("poly2tri Invalid Triangle.markNeighborPointers() call")};ti.prototype.markNeighbor=function(n){var r=this.points_;n.containsPoints(r[1],r[2])?(this.neighbors_[0]=n,n.markNeighborPointers(r[1],r[2],this)):n.containsPoints(r[0],r[2])?(this.neighbors_[1]=n,n.markNeighborPointers(r[0],r[2],this)):n.containsPoints(r[0],r[1])&&(this.neighbors_[2]=n,n.markNeighborPointers(r[0],r[1],this))};ti.prototype.clearNeighbors=function(){this.neighbors_[0]=null,this.neighbors_[1]=null,this.neighbors_[2]=null};ti.prototype.clearDelaunayEdges=function(){this.delaunay_edge[0]=!1,this.delaunay_edge[1]=!1,this.delaunay_edge[2]=!1};ti.prototype.pointCW=function(n){var r=this.points_;return n===r[0]?r[2]:n===r[1]?r[0]:n===r[2]?r[1]:null};ti.prototype.pointCCW=function(n){var r=this.points_;return n===r[0]?r[1]:n===r[1]?r[2]:n===r[2]?r[0]:null};ti.prototype.neighborCW=function(n){return n===this.points_[0]?this.neighbors_[1]:n===this.points_[1]?this.neighbors_[2]:this.neighbors_[0]};ti.prototype.neighborCCW=function(n){return n===this.points_[0]?this.neighbors_[2]:n===this.points_[1]?this.neighbors_[0]:this.neighbors_[1]};ti.prototype.getConstrainedEdgeCW=function(n){return n===this.points_[0]?this.constrained_edge[1]:n===this.points_[1]?this.constrained_edge[2]:this.constrained_edge[0]};ti.prototype.getConstrainedEdgeCCW=function(n){return n===this.points_[0]?this.constrained_edge[2]:n===this.points_[1]?this.constrained_edge[0]:this.constrained_edge[1]};ti.prototype.getConstrainedEdgeAcross=function(n){return n===this.points_[0]?this.constrained_edge[0]:n===this.points_[1]?this.constrained_edge[1]:this.constrained_edge[2]};ti.prototype.setConstrainedEdgeCW=function(n,r){n===this.points_[0]?this.constrained_edge[1]=r:n===this.points_[1]?this.constrained_edge[2]=r:this.constrained_edge[0]=r};ti.prototype.setConstrainedEdgeCCW=function(n,r){n===this.points_[0]?this.constrained_edge[2]=r:n===this.points_[1]?this.constrained_edge[0]=r:this.constrained_edge[1]=r};ti.prototype.getDelaunayEdgeCW=function(n){return n===this.points_[0]?this.delaunay_edge[1]:n===this.points_[1]?this.delaunay_edge[2]:this.delaunay_edge[0]};ti.prototype.getDelaunayEdgeCCW=function(n){return n===this.points_[0]?this.delaunay_edge[2]:n===this.points_[1]?this.delaunay_edge[0]:this.delaunay_edge[1]};ti.prototype.setDelaunayEdgeCW=function(n,r){n===this.points_[0]?this.delaunay_edge[1]=r:n===this.points_[1]?this.delaunay_edge[2]=r:this.delaunay_edge[0]=r};ti.prototype.setDelaunayEdgeCCW=function(n,r){n===this.points_[0]?this.delaunay_edge[2]=r:n===this.points_[1]?this.delaunay_edge[0]=r:this.delaunay_edge[1]=r};ti.prototype.neighborAcross=function(n){return n===this.points_[0]?this.neighbors_[0]:n===this.points_[1]?this.neighbors_[1]:this.neighbors_[2]};ti.prototype.oppositePoint=function(n,r){var t=n.pointCW(r);return this.pointCW(t)};ti.prototype.legalize=function(n,r){var t=this.points_;if(n===t[0])t[1]=t[0],t[0]=t[2],t[2]=r;else if(n===t[1])t[2]=t[1],t[1]=t[0],t[0]=r;else if(n===t[2])t[0]=t[2],t[2]=t[1],t[1]=r;else throw new Error("poly2tri Invalid Triangle.legalize() call")};ti.prototype.index=function(n){var r=this.points_;if(n===r[0])return 0;if(n===r[1])return 1;if(n===r[2])return 2;throw new Error("poly2tri Invalid Triangle.index() call")};ti.prototype.edgeIndex=function(n,r){var t=this.points_;if(n===t[0]){if(r===t[1])return 2;if(r===t[2])return 1}else if(n===t[1]){if(r===t[2])return 0;if(r===t[0])return 2}else if(n===t[2]){if(r===t[0])return 1;if(r===t[1])return 0}return-1};ti.prototype.markConstrainedEdgeByIndex=function(n){this.constrained_edge[n]=!0};ti.prototype.markConstrainedEdgeByEdge=function(n){this.markConstrainedEdgeByPoints(n.p,n.q)};ti.prototype.markConstrainedEdgeByPoints=function(n,r){var t=this.points_;r===t[0]&&n===t[1]||r===t[1]&&n===t[0]?this.constrained_edge[2]=!0:r===t[0]&&n===t[2]||r===t[2]&&n===t[0]?this.constrained_edge[1]=!0:(r===t[1]&&n===t[2]||r===t[2]&&n===t[1])&&(this.constrained_edge[0]=!0)};var Rx=ti,Ax={};function XB(n,r){if(!n)throw new Error(r||"Assert Failed")}var KB=XB,Hg={},JB={get exports(){return Hg},set exports(n){Hg=n}},QB=function(n,r){this.point=n,this.triangle=r||null,this.next=null,this.prev=null,this.value=n.x},gl=function(n,r){this.head_=n,this.tail_=r,this.search_node_=n};gl.prototype.head=function(){return this.head_};gl.prototype.setHead=function(n){this.head_=n};gl.prototype.tail=function(){return this.tail_};gl.prototype.setTail=function(n){this.tail_=n};gl.prototype.search=function(){return this.search_node_};gl.prototype.setSearch=function(n){this.search_node_=n};gl.prototype.findSearchNode=function(){return this.search_node_};gl.prototype.locateNode=function(n){var r=this.search_node_;if(n<r.value){for(;r=r.prev;)if(n>=r.value)return this.search_node_=r,r}else for(;r=r.next;)if(n<r.value)return this.search_node_=r.prev,r.prev;return null};gl.prototype.locatePoint=function(n){var r=n.x,t=this.findSearchNode(r),o=t.point.x;if(r===o){if(n!==t.point)if(n===t.prev.point)t=t.prev;else if(n===t.next.point)t=t.next;else throw new Error("poly2tri Invalid AdvancingFront.locatePoint() call")}else if(r<o)for(;(t=t.prev)&&n!==t.point;);else for(;(t=t.next)&&n!==t.point;);return t&&(this.search_node_=t),t};JB.exports=gl;Hg.Node=QB;var _p={},Ug=1e-12;_p.EPSILON=Ug;var f0={CW:1,CCW:-1,COLLINEAR:0};_p.Orientation=f0;function $B(n,r,t){var o=(n.x-t.x)*(r.y-t.y),l=(n.y-t.y)*(r.x-t.x),u=o-l;return u>-Ug&&u<Ug?f0.COLLINEAR:u>0?f0.CCW:f0.CW}_p.orient2d=$B;function tj(n,r,t,o){var l=(n.x-r.x)*(o.y-r.y)-(o.x-r.x)*(n.y-r.y);if(l>=-Ug)return!1;var u=(n.x-t.x)*(o.y-t.y)-(o.x-t.x)*(n.y-t.y);return!(u<=Ug)}_p.inScanArea=tj;function ej(n,r,t){var o=r.x-n.x,l=r.y-n.y,u=t.x-n.x,d=t.y-n.y;return o*u+l*d<0}_p.isAngleObtuse=ej;var Ox=KB,Q0=Lx,NP=Rx,rj=Hg.Node,tm=_p,ij=tm.EPSILON,an=tm.Orientation,Mn=tm.orient2d,DP=tm.inScanArea,fT=tm.isAngleObtuse;function nj(n){n.initTriangulation(),n.createAdvancingFront(),oj(n),sj(n)}function oj(n){var r,t=n.pointCount();for(r=1;r<t;++r)for(var o=n.getPoint(r),l=aj(n,o),u=o._p2t_edge_list,d=0;u&&d<u.length;++d)lj(n,u[d],l)}function sj(n){for(var r=n.front().head().next.triangle,t=n.front().head().next.point;!r.getConstrainedEdgeCW(t);)r=r.neighborCCW(t);n.meshClean(r)}function aj(n,r){var t=n.locateNode(r),o=cj(n,r,t);return r.x<=t.point.x+ij&&gp(n,t),uj(n,o),o}function lj(n,r,t){n.edge_event.constrained_edge=r,n.edge_event.right=r.p.x>r.q.x,!FP(t.triangle,r.p,r.q)&&(gj(n,r,t),zx(n,r.p,r.q,t.triangle,r.q))}function zx(n,r,t,o,l){if(!FP(o,r,t)){var u=o.pointCCW(l),d=Mn(t,u,r);if(d===an.COLLINEAR)throw new Q0("poly2tri EdgeEvent: Collinear not supported!",[t,u,r]);var f=o.pointCW(l),m=Mn(t,f,r);if(m===an.COLLINEAR)throw new Q0("poly2tri EdgeEvent: Collinear not supported!",[t,f,r]);d===m?(d===an.CW?o=o.neighborCCW(l):o=o.neighborCW(l),zx(n,r,t,o,l)):Fx(n,r,t,o,l)}}function FP(n,r,t){var o=n.edgeIndex(r,t);if(o!==-1){n.markConstrainedEdgeByIndex(o);var l=n.getNeighbor(o);return l&&l.markConstrainedEdgeByPoints(r,t),!0}return!1}function cj(n,r,t){var o=new NP(r,t.point,t.next.point);o.markNeighbor(t.triangle),n.addToMap(o);var l=new rj(r);return l.next=t.next,l.prev=t,t.next.prev=l,t.next=l,cu(n,o)||n.mapTriangleToNodes(o),l}function gp(n,r){var t=new NP(r.prev.point,r.point,r.next.point);t.markNeighbor(r.prev.triangle),t.markNeighbor(r.triangle),n.addToMap(t),r.prev.next=r.next,r.next.prev=r.prev,cu(n,t)||n.mapTriangleToNodes(t)}function uj(n,r){for(var t=r.next;t.next&&!fT(t.point,t.next.point,t.prev.point);)gp(n,t),t=t.next;for(t=r.prev;t.prev&&!fT(t.point,t.next.point,t.prev.point);)gp(n,t),t=t.prev;r.next&&r.next.next&&hj(r)&&pj(n,r)}function hj(n){var r=n.point.x-n.next.next.point.x,t=n.point.y-n.next.next.point.y;return Ox(t>=0,"unordered y"),r>=0||Math.abs(r)<t}function cu(n,r){for(var t=0;t<3;++t)if(!r.delaunay_edge[t]){var o=r.getNeighbor(t);if(o){var l=r.getPoint(t),u=o.oppositePoint(r,l),d=o.index(u);if(o.constrained_edge[d]||o.delaunay_edge[d]){r.constrained_edge[t]=o.constrained_edge[d];continue}var f=dj(l,r.pointCCW(l),r.pointCW(l),u);if(f){r.delaunay_edge[t]=!0,o.delaunay_edge[d]=!0,BP(r,l,o,u);var m=!cu(n,r);return m&&n.mapTriangleToNodes(r),m=!cu(n,o),m&&n.mapTriangleToNodes(o),r.delaunay_edge[t]=!1,o.delaunay_edge[d]=!1,!0}}}return!1}function dj(n,r,t,o){var l=n.x-o.x,u=n.y-o.y,d=r.x-o.x,f=r.y-o.y,m=l*f,v=d*u,_=m-v;if(_<=0)return!1;var k=t.x-o.x,C=t.y-o.y,M=k*u,A=l*C,F=M-A;if(F<=0)return!1;var U=d*C,j=k*f,J=l*l+u*u,H=d*d+f*f,V=k*k+C*C,ot=J*(U-j)+H*F+V*_;return ot>0}function BP(n,r,t,o){var l,u,d,f;l=n.neighborCCW(r),u=n.neighborCW(r),d=t.neighborCCW(o),f=t.neighborCW(o);var m,v,_,k;m=n.getConstrainedEdgeCCW(r),v=n.getConstrainedEdgeCW(r),_=t.getConstrainedEdgeCCW(o),k=t.getConstrainedEdgeCW(o);var C,M,A,F;C=n.getDelaunayEdgeCCW(r),M=n.getDelaunayEdgeCW(r),A=t.getDelaunayEdgeCCW(o),F=t.getDelaunayEdgeCW(o),n.legalize(r,o),t.legalize(o,r),t.setDelaunayEdgeCCW(r,C),n.setDelaunayEdgeCW(r,M),n.setDelaunayEdgeCCW(o,A),t.setDelaunayEdgeCW(o,F),t.setConstrainedEdgeCCW(r,m),n.setConstrainedEdgeCW(r,v),n.setConstrainedEdgeCCW(o,_),t.setConstrainedEdgeCW(o,k),n.clearNeighbors(),t.clearNeighbors(),l&&t.markNeighbor(l),u&&n.markNeighbor(u),d&&n.markNeighbor(d),f&&t.markNeighbor(f),n.markNeighbor(t)}function pj(n,r){for(Mn(r.point,r.next.point,r.next.next.point)===an.CCW?n.basin.left_node=r.next.next:n.basin.left_node=r.next,n.basin.bottom_node=n.basin.left_node;n.basin.bottom_node.next&&n.basin.bottom_node.point.y>=n.basin.bottom_node.next.point.y;)n.basin.bottom_node=n.basin.bottom_node.next;if(n.basin.bottom_node!==n.basin.left_node){for(n.basin.right_node=n.basin.bottom_node;n.basin.right_node.next&&n.basin.right_node.point.y<n.basin.right_node.next.point.y;)n.basin.right_node=n.basin.right_node.next;n.basin.right_node!==n.basin.bottom_node&&(n.basin.width=n.basin.right_node.point.x-n.basin.left_node.point.x,n.basin.left_highest=n.basin.left_node.point.y>n.basin.right_node.point.y,jP(n,n.basin.bottom_node))}}function jP(n,r){if(!fj(n,r)){gp(n,r);var t;if(!(r.prev===n.basin.left_node&&r.next===n.basin.right_node)){if(r.prev===n.basin.left_node){if(t=Mn(r.point,r.next.point,r.next.next.point),t===an.CW)return;r=r.next}else if(r.next===n.basin.right_node){if(t=Mn(r.point,r.prev.point,r.prev.prev.point),t===an.CCW)return;r=r.prev}else r.prev.point.y<r.next.point.y?r=r.prev:r=r.next;jP(n,r)}}}function fj(n,r){var t;return n.basin.left_highest?t=n.basin.left_node.point.y-r.point.y:t=n.basin.right_node.point.y-r.point.y,n.basin.width>t}function gj(n,r,t){n.edge_event.right?mj(n,r,t):vj(n,r,t)}function mj(n,r,t){for(;t.next.point.x<r.p.x;)Mn(r.q,t.next.point,r.p)===an.CCW?HP(n,r,t):t=t.next}function HP(n,r,t){t.point.x<r.p.x&&(Mn(t.point,t.next.point,t.next.next.point)===an.CCW?Nx(n,r,t):(UP(n,r,t),HP(n,r,t)))}function Nx(n,r,t){gp(n,t.next),t.next.point!==r.p&&Mn(r.q,t.next.point,r.p)===an.CCW&&Mn(t.point,t.next.point,t.next.next.point)===an.CCW&&Nx(n,r,t)}function UP(n,r,t){Mn(t.next.point,t.next.next.point,t.next.next.next.point)===an.CCW?Nx(n,r,t.next):Mn(r.q,t.next.next.point,r.p)===an.CCW&&UP(n,r,t.next)}function vj(n,r,t){for(;t.prev.point.x>r.p.x;)Mn(r.q,t.prev.point,r.p)===an.CW?GP(n,r,t):t=t.prev}function GP(n,r,t){t.point.x>r.p.x&&(Mn(t.point,t.prev.point,t.prev.prev.point)===an.CW?Dx(n,r,t):(qP(n,r,t),GP(n,r,t)))}function qP(n,r,t){Mn(t.prev.point,t.prev.prev.point,t.prev.prev.prev.point)===an.CW?Dx(n,r,t.prev):Mn(r.q,t.prev.prev.point,r.p)===an.CW&&qP(n,r,t.prev)}function Dx(n,r,t){gp(n,t.prev),t.prev.point!==r.p&&Mn(r.q,t.prev.point,r.p)===an.CW&&Mn(t.point,t.prev.point,t.prev.prev.point)===an.CW&&Dx(n,r,t)}function Fx(n,r,t,o,l){var u=o.neighborAcross(l);Ox(u,"FLIP failed due to missing triangle!");var d=u.oppositePoint(o,l);if(o.getConstrainedEdgeAcross(l)){var f=o.index(l);throw new Q0("poly2tri Intersecting Constraints",[l,d,o.getPoint((f+1)%3),o.getPoint((f+2)%3)])}if(DP(l,o.pointCCW(l),o.pointCW(l),d))if(BP(o,l,u,d),n.mapTriangleToNodes(o),n.mapTriangleToNodes(u),l===t&&d===r)t===n.edge_event.constrained_edge.q&&r===n.edge_event.constrained_edge.p&&(o.markConstrainedEdgeByPoints(r,t),u.markConstrainedEdgeByPoints(r,t),cu(n,o),cu(n,u));else{var m=Mn(t,d,r);o=yj(n,m,o,u,l,d),Fx(n,r,t,o,l)}else{var v=VP(r,t,u,d);WP(n,r,t,o,u,v),zx(n,r,t,o,l)}}function yj(n,r,t,o,l,u){var d;return r===an.CCW?(d=o.edgeIndex(l,u),o.delaunay_edge[d]=!0,cu(n,o),o.clearDelaunayEdges(),t):(d=t.edgeIndex(l,u),t.delaunay_edge[d]=!0,cu(n,t),t.clearDelaunayEdges(),o)}function VP(n,r,t,o){var l=Mn(r,o,n);if(l===an.CW)return t.pointCCW(o);if(l===an.CCW)return t.pointCW(o);throw new Q0("poly2tri [Unsupported] nextFlipPoint: opposing point on constrained edge!",[r,o,n])}function WP(n,r,t,o,l,u){var d=l.neighborAcross(u);Ox(d,"FLIP failed due to missing triangle");var f=d.oppositePoint(l,u);if(DP(t,o.pointCCW(t),o.pointCW(t),f))Fx(n,t,f,d,f);else{var m=VP(r,t,d,f);WP(n,r,t,o,d,m)}}Ax.triangulate=nj;var bj=Lx,Wf=zP,wj=Rx,xj=Ax,ZP=Hg,Aw=ZP.Node,gT=.3,_j=function(n,r){if(this.p=n,this.q=r,n.y>r.y)this.q=n,this.p=r;else if(n.y===r.y){if(n.x>r.x)this.q=n,this.p=r;else if(n.x===r.x)throw new bj("poly2tri Invalid Edge constructor: repeated points!",[n])}this.q._p2t_edge_list||(this.q._p2t_edge_list=[]),this.q._p2t_edge_list.push(this)},YP=function(){this.left_node=null,this.bottom_node=null,this.right_node=null,this.width=0,this.left_highest=!1};YP.prototype.clear=function(){this.left_node=null,this.bottom_node=null,this.right_node=null,this.width=0,this.left_highest=!1};var kj=function(){this.constrained_edge=null,this.right=!1},mi=function(n,r){r=r||{},this.triangles_=[],this.map_=[],this.points_=r.cloneArrays?n.slice(0):n,this.edge_list=[],this.pmin_=this.pmax_=null,this.front_=null,this.head_=null,this.tail_=null,this.af_head_=null,this.af_middle_=null,this.af_tail_=null,this.basin=new YP,this.edge_event=new kj,this.initEdges(this.points_)};mi.prototype.addHole=function(n){this.initEdges(n);var r,t=n.length;for(r=0;r<t;r++)this.points_.push(n[r]);return this};mi.prototype.AddHole=mi.prototype.addHole;mi.prototype.addHoles=function(n){var r,t=n.length;for(r=0;r<t;r++)this.initEdges(n[r]);return this.points_=this.points_.concat.apply(this.points_,n),this};mi.prototype.addPoint=function(n){return this.points_.push(n),this};mi.prototype.AddPoint=mi.prototype.addPoint;mi.prototype.addPoints=function(n){return this.points_=this.points_.concat(n),this};mi.prototype.triangulate=function(){return xj.triangulate(this),this};mi.prototype.getBoundingBox=function(){return{min:this.pmin_,max:this.pmax_}};mi.prototype.getTriangles=function(){return this.triangles_};mi.prototype.GetTriangles=mi.prototype.getTriangles;mi.prototype.front=function(){return this.front_};mi.prototype.pointCount=function(){return this.points_.length};mi.prototype.head=function(){return this.head_};mi.prototype.setHead=function(n){this.head_=n};mi.prototype.tail=function(){return this.tail_};mi.prototype.setTail=function(n){this.tail_=n};mi.prototype.getMap=function(){return this.map_};mi.prototype.initTriangulation=function(){var n=this.points_[0].x,r=this.points_[0].x,t=this.points_[0].y,o=this.points_[0].y,l,u=this.points_.length;for(l=1;l<u;l++){var d=this.points_[l];d.x>n&&(n=d.x),d.x<r&&(r=d.x),d.y>t&&(t=d.y),d.y<o&&(o=d.y)}this.pmin_=new Wf(r,o),this.pmax_=new Wf(n,t);var f=gT*(n-r),m=gT*(t-o);this.head_=new Wf(n+f,o-m),this.tail_=new Wf(r-f,o-m),this.points_.sort(Wf.compare)};mi.prototype.initEdges=function(n){var r,t=n.length;for(r=0;r<t;++r)this.edge_list.push(new _j(n[r],n[(r+1)%t]))};mi.prototype.getPoint=function(n){return this.points_[n]};mi.prototype.addToMap=function(n){this.map_.push(n)};mi.prototype.locateNode=function(n){return this.front_.locateNode(n.x)};mi.prototype.createAdvancingFront=function(){var n,r,t,o=new wj(this.points_[0],this.tail_,this.head_);this.map_.push(o),n=new Aw(o.getPoint(1),o),r=new Aw(o.getPoint(0),o),t=new Aw(o.getPoint(2)),this.front_=new ZP(n,t),n.next=r,r.next=t,r.prev=n,t.prev=r};mi.prototype.removeNode=function(n){};mi.prototype.mapTriangleToNodes=function(n){for(var r=0;r<3;++r)if(!n.getNeighbor(r)){var t=this.front_.locatePoint(n.pointCW(n.getPoint(r)));t&&(t.triangle=n)}};mi.prototype.removeFromMap=function(n){var r,t=this.map_,o=t.length;for(r=0;r<o;r++)if(t[r]===n){t.splice(r,1);break}};mi.prototype.meshClean=function(n){for(var r=[n],t,o;t=r.pop();)if(!t.isInterior())for(t.setInterior(!0),this.triangles_.push(t),o=0;o<3;o++)t.constrained_edge[o]||r.push(t.getNeighbor(o))};var Ej=mi;(function(n){var r=globalThis.poly2tri;n.noConflict=function(){return globalThis.poly2tri=r,n},n.VERSION=GB.version,n.PointError=Lx,n.Point=zP,n.Triangle=Rx,n.SweepContext=Ej;var t=Ax;n.triangulate=t.triangulate,n.sweep={Triangulate:t.triangulate}})(p0);function Tj(n,r){const t=SB(n,r),o=new p0.SweepContext(TB(n,r).map(l=>new p0.Point(l[0],l[1])));for(let l=0;l<t.length;l++)jB(n,t[l])===-1&&o.addPoint(new p0.Point(t[l][0],t[l][1]));try{o.triangulate()}catch{throw new Error("A Point Error occured during resource mask triangulation. This is typically because the resource mask contains duplicate or collinear points, or is self-intersecting.")}return o.getTriangles()}function Sj(n,r){return Tj(n,r).map(t=>t.getPoints().map(o=>[o.x,o.y]))}function Yd(n,r){const t=r[0],o=r[1];return[n[0]*t+n[2]*o+n[4],n[1]*t+n[3]*o+n[5]]}function Cj(){return[1,0,0,1,0,0]}function Pj(n,r){const t=n[0],o=n[1],l=n[2],u=n[3],d=n[4],f=n[5],m=r[0],v=r[1],_=r[2],k=r[3],C=r[4],M=r[5];return[t*m+l*v,o*m+u*v,t*_+l*k,o*_+u*k,t*C+l*M+d,o*C+u*M+f]}function mT(n,r,t,o,l,u,d){const f=Math.sin(l),m=Math.cos(l);return[t*m,o*f,-t*f,o*m,u*t*m-d*t*f+n,u*o*f+d*o*m+r]}function Mj(n){const r=Ij(n),t=n[0],o=n[1],l=n[2],u=n[3],d=n[4],f=n[5];return[u/r,-o/r,-l/r,t/r,(l*f-u*d)/r,-(t*f-o*d)/r]}function Ij(n){return n[0]*n[3]-n[1]*n[2]}function Lj(n){const r=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return r[0]=n[0],r[1]=n[1],r[4]=n[2],r[5]=n[3],r[12]=n[4],r[13]=n[5],r}var Ee;(function(n){n.GEOREFERENCEANNOTATIONADDED="georeferenceannotationadded",n.GEOREFERENCEANNOTATIONREMOVED="georeferenceannotationremoved",n.WARPEDMAPADDED="warpedmapadded",n.WARPEDMAPREMOVED="warpedmapremoved",n.WARPEDMAPENTER="warpedmapenter",n.WARPEDMAPLEAVE="warpedmapleave",n.IMAGEINFOLOADED="imageinfoloaded",n.TILEFETCHED="tilefetched",n.TILEFETCHERROR="tilefetcherror",n.MAPTILELOADED="maptileloaded",n.MAPTILEREMOVED="maptileremoved",n.FIRSTMAPTILELOADED="firstmaptileloaded",n.ALLREQUESTEDTILESLOADED="allrequestedtilesloaded",n.TEXTURESUPDATED="texturesupdated",n.ZINDICESCHANGES="zindiceschanged",n.RESOURCEMASKUPDATED="resourcemaskupdated",n.VISIBILITYCHANGED="visibilitychanged",n.TRANSFORMATIONCHANGED="transformationchanged",n.CHANGED="changed",n.CLEARED="cleared"})(Ee||(Ee={}));class Zr extends Event{constructor(r,t){super(r),this.data=t}}const Rj=80,vT={maxOffsetRatio:.05,maxDepth:2},yT={maxOffsetRatio:.05,maxDepth:2};class Aj extends EventTarget{constructor(r,t,o,l=!0){var u;super(),this.resourceViewportRing=[],this.resourceTrianglePoints=[],this.resourceTrianglePointsByBestScaleFactor=new Map,this.projectedGeoCurrentTrianglePoints=[],this.projectedGeoNewTrianglePoints=[],this.mapId=r,this.georeferencedMap=t,this.gcps=this.georeferencedMap.gcps,this.projectedGcps=this.gcps.map(({geo:d,resource:f})=>({geo:o8(d),resource:f})),this.resourceMask=this.georeferencedMap.resourceMask,this.resourceMaskBbox=Hn(this.resourceMask),this.resourceFullMask=[[0,0],[this.georeferencedMap.resource.width,0],[this.georeferencedMap.resource.width,this.georeferencedMap.resource.height],[0,this.georeferencedMap.resource.height]],this.resourceFullMaskBbox=Hn(this.resourceFullMask),this.imageInfoCache=o,this.visible=l,this.transformationType=((u=this.georeferencedMap.transformation)==null?void 0:u.type)||"polynomial",this.updateTransformerProperties()}getViewportMask(r){return this.projectedGeoMask.map(t=>Yd(r.projectedGeoToViewportTransform,t))}getViewportMaskBbox(r){return Hn(this.getViewportMask(r))}getApproxViewportMaskBbox(r){return Hn(Bg(this.projectedGeoMaskBbox).map(t=>Yd(r.projectedGeoToViewportTransform,t)))}getViewportFullMask(r){return this.projectedGeoFullMask.map(t=>Yd(r.projectedGeoToViewportTransform,t))}getViewportFullMaskBbox(r){return Hn(this.getViewportFullMask(r))}getApproxViewportFullMaskBbox(r){return Hn(Bg(this.projectedGeoFullMaskBbox).map(t=>Yd(r.projectedGeoToViewportTransform,t)))}getResourceToViewportScale(r){return Sw(this.resourceMaskBbox,this.getViewportMaskBbox(r))}getResourceToCanvasScale(r){return this.getResourceToViewportScale(r)/r.devicePixelRatio}getApproxResourceToViewportScale(r){return Sw(this.resourceMaskBbox,this.getApproxViewportMaskBbox(r))}getApproxResourceToCanvasScale(r){return this.getApproxResourceToViewportScale(r)/r.devicePixelRatio}setResourceViewportRing(r){this.resourceViewportRing=r,this.resourceViewportRingBbox=Hn(r)}setResourceMask(r){this.resourceMask=r,this.updateGeoMask(),this.updateProjectedGeoMask()}setTransformationType(r){this.transformationType=r,this.updateTransformerProperties()}setGcps(r){this.gcps=r,this.updateTransformerProperties()}updateBestScaleFactor(r){this.bestScaleFactor!=r&&(this.bestScaleFactor=r,this.updateTriangulation(!0))}updateTriangulation(r=!1){if(this.resourceTrianglePointsByBestScaleFactor.has(this.bestScaleFactor))this.resourceTrianglePoints=this.resourceTrianglePointsByBestScaleFactor.get(this.bestScaleFactor);else{const t=e8(this.resourceMask)*this.bestScaleFactor/Rj;this.resourceTrianglePoints=Sj(this.resourceMask,t).flat(),this.resourceTrianglePointsByBestScaleFactor.set(this.bestScaleFactor,this.resourceTrianglePoints)}this.updateProjectedGeoTrianglePoints(r)}updateProjectedGeoTrianglePoints(r=!1){this.projectedGeoNewTrianglePoints=this.resourceTrianglePoints.map(t=>this.projectedTransformer.transformToGeo(t)),(r||!this.projectedGeoCurrentTrianglePoints.length)&&(this.projectedGeoCurrentTrianglePoints=this.projectedGeoNewTrianglePoints)}resetCurrentTrianglePoints(){this.projectedGeoCurrentTrianglePoints=this.projectedGeoNewTrianglePoints}clearResourceTrianglePointsByBestScaleFactor(){this.resourceTrianglePointsByBestScaleFactor=new Map}mixProjectedGeoCurrentAndNewTrianglePoints(r){this.projectedGeoCurrentTrianglePoints=this.projectedGeoNewTrianglePoints.map((t,o)=>YF(t,this.projectedGeoCurrentTrianglePoints[o],r))}hasImageInfo(){return this.imageId!==void 0&&this.parsedImage!==void 0}async loadImageInfo(){const r=this.georeferencedMap.resource.id,t=await UF(r,{cache:this.imageInfoCache});this.parsedImage=AF.parse(t),this.imageId=await DC(r),this.dispatchEvent(new Zr(Ee.IMAGEINFOLOADED))}dispose(){this.resourceTrianglePoints=[],this.projectedGeoCurrentTrianglePoints=[],this.projectedGeoNewTrianglePoints=[]}updateTransformerProperties(){this.updateTransformer(),this.updateProjectedTransformer(),this.updateGeoMask(),this.updateFullGeoMask(),this.updateProjectedGeoMask(),this.updateProjectedFullGeoMask(),this.updateResourceToProjectedGeoScale()}updateTransformer(){this.transformer=new dT(this.gcps,this.transformationType)}updateProjectedTransformer(){this.projectedTransformer=new dT(this.projectedGcps,this.transformationType)}updateGeoMask(){this.geoMask=this.transformer.transformForwardAsGeojson([this.resourceMask],vT),this.geoMaskBbox=Hn(this.geoMask)}updateFullGeoMask(){this.geoFullMask=this.transformer.transformForwardAsGeojson([this.resourceFullMask],vT),this.geoFullMaskBbox=Hn(this.geoFullMask)}updateProjectedGeoMask(){this.projectedGeoMask=this.projectedTransformer.transformForward([this.resourceMask],yT)[0],this.projectedGeoMaskBbox=Hn(this.projectedGeoMask)}updateProjectedFullGeoMask(){this.projectedGeoFullMask=this.projectedTransformer.transformForward([this.resourceFullMask],yT)[0],this.projectedGeoFullMaskBbox=Hn(this.projectedGeoFullMask)}updateResourceToProjectedGeoScale(){this.resourceToProjectedGeoScale=Sw(this.resourceMaskBbox,this.projectedGeoMaskBbox)}}const Oj=bt.string().or(bt.number()).or(bt.boolean()),zj=bt.record(bt.string(),Oj.array()),uu=bt.tuple([bt.number(),bt.number()]),XP=bt.object({type:bt.literal("Point"),coordinates:uu}),KP=uu.array().min(3),em=bt.enum(["ImageService1","ImageService2","ImageService3"]),Nj=bt.object({id:bt.string().url(),type:bt.string(),label:zj.optional()}),Iy=Nj.extend({partOf:bt.lazy(()=>Iy.array()).optional()}),Dj=bt.object({type:bt.literal("polynomial"),options:bt.object({order:bt.number().min(1).max(3)}).optional()}),Fj=bt.object({type:bt.literal("thinPlateSpline")}),Ly=Dj.or(Fj),Bj=/^<svg\s+width="\d+"\s+height="\d+"\s*>\s*<polygon\s+points="\s*(-?\d+(\.\d+)?,-?\d+(\.\d+)?\s+){2,}-?\d+(\.\d+)?,-?\d+(\.\d+)?\s*"\s*\/>\s*<\/svg>$/,jj=bt.object({type:bt.literal("SvgSelector"),value:bt.string().regex(Bj)}),Hj=bt.object({source:bt.string().url(),service:bt.array(bt.object({"@id":bt.string().url(),type:em})).length(1),selector:jj}),JP=bt.object({pixelCoords:uu}),Uj=bt.object({type:bt.literal("FeatureCollection"),transformation:Ly.optional(),features:bt.array(bt.object({type:bt.literal("Feature"),properties:JP,geometry:XP}))}),Bx=bt.object({id:bt.string().optional(),type:bt.literal("Annotation"),"@context":bt.string().url().array().optional(),motivation:bt.string().default("georeferencing").optional(),target:Hj,body:Uj}),QP=bt.object({id:bt.string().optional(),type:bt.literal("AnnotationPage"),"@context":bt.string().url().array().optional(),items:bt.array(Bx)}),jx=/<polygon\s+points="\s*(-?\d+(\.\d+)?,-?\d+(\.\d+)?\s+){2,}-?\d+(\.\d+)?,-?\d+(\.\d+)?\s*"\s*\/>/,Gj=new RegExp(`^<svg\\s+width="\\d+"\\s+height="\\d+"\\s*>\\s*${jx.source}\\s*</svg>$`),qj=new RegExp(`^<svg\\s+height="\\d+"\\s+width="\\d+"\\s*>\\s*${jx.source}\\s*</svg>$`),Vj=new RegExp(`^<svg\\s*>\\s*${jx.source}\\s*</svg>$`),Wj=bt.string().regex(Vj),Zj=bt.string().regex(Gj),Yj=bt.string().regex(qj),Xj=bt.object({type:bt.literal("SvgSelector"),value:Wj.or(Zj).or(Yj)}),Kj=bt.object({"@id":bt.string().url(),type:em,height:bt.number().positive(),width:bt.number().positive(),partOf:Iy.array().optional()}),Jj=bt.object({id:bt.string().url(),type:em,height:bt.number().positive(),width:bt.number().positive(),partOf:Iy.array().optional()}),Qj=bt.object({type:bt.literal("SpecificResource"),source:Kj.or(Jj),selector:Xj}),$P=bt.object({resourceCoords:uu}),$j=bt.object({type:bt.literal("FeatureCollection"),transformation:Ly.optional(),features:bt.array(bt.object({type:bt.literal("Feature"),properties:$P,geometry:XP}))}),Hx=bt.object({id:bt.string().optional(),type:bt.literal("Annotation"),"@context":bt.string().url().array().optional(),motivation:bt.string().default("georeferencing").optional(),target:Qj,body:$j}),tM=bt.object({id:bt.string().optional(),type:bt.literal("AnnotationPage"),"@context":bt.string().url().array().optional(),items:bt.array(Hx)});Bx.or(Hx);QP.or(tM);JP.or($P);function eM(n){return Array.isArray(n)}function t9(n){return!!(n&&typeof n=="object"&&"type"in n&&n.type==="AnnotationPage")}function $0(n){return!!(n&&typeof n=="object"&&"type"in n&&n.type==="GeoreferencedMap")}function bT(n){return!!(n&&typeof n=="object"&&"target"in n&&n.target&&typeof n.target=="object"&&"source"in n.target&&typeof n.target.source=="string")}function Ux(n){return"type"in n&&n.type==="GeoreferencedMap"}function Gx(n){return"source"in n.target&&typeof n.target.source=="object"}function e9(n){return{id:r9(n),...a9(n),type:i9(n),partOf:n9(n)}}function r9(n){if(Gx(n)){const r=n.target.source;return"id"in r?r.id:r["@id"]}else return n.target.service[0]["@id"]}function i9(n){return"service"in n.target?n.target.service[0].type:n.target.source.type}function n9(n){if(Gx(n))return n.target.source.partOf}function o9(n){return"pixelCoords"in n?n.pixelCoords:n.resourceCoords}function s9(n){return n.body.features.map(r=>({resource:o9(r.properties),geo:r.geometry.coordinates}))}function a9(n){var d,f;if(Gx(n))return{width:n.target.source.width,height:n.target.source.height};const r=n.target.selector.value,t=/width="(?<width>\d+)"/.exec(r),o=/height="(?<height>\d+)"/.exec(r),l=(d=t==null?void 0:t.groups)==null?void 0:d.width,u=(f=o==null?void 0:o.groups)==null?void 0:f.height;if(!l||!u)throw new Error("Could not parse image dimensions");return{width:parseInt(l),height:parseInt(u)}}function l9(n){var o;const r=n.target.selector.value,t=(o=/points="(?<points>.+)"/.exec(r))==null?void 0:o.groups;if(t&&t.points){const l=t.points.trim().split(/\s+/);if(l[0]===l[l.length-1]&&l.splice(-1),l.length>=3)return l.map(u=>{const d=u.split(",");if(d.length===2)return[parseFloat(d[0]),parseFloat(d[1])];throw new Error("Could not parse resource mask")});throw new Error("Could not parse resource mask")}else throw new Error("Could not parse resource mask")}function wT(n){return{"@context":"https://schemas.allmaps.org/map/2/context.json",type:"GeoreferencedMap",id:n.id,resource:e9(n),gcps:s9(n),resourceMask:l9(n),transformation:n.body.transformation}}function T1(n){if(t9(n)){let r;return"items"in n&&Array.isArray(n.items)&&bT(n.items[0])?r=QP.parse(n):r=tM.parse(n),r.items.map(t=>wT(t))}else{let r;return bT(n)?r=Bx.parse(n):r=Hx.parse(n),[wT(r)]}}const rM=bt.object({image:uu,world:uu}),c9=bt.object({uri:bt.string().url(),width:bt.number(),height:bt.number(),type:em}),Ry=bt.object({id:bt.string().optional(),version:bt.number().min(1).max(1).default(1),image:c9,gcps:rM.array(),pixelMask:KP,transformation:Ly.optional()}),qx=bt.array(Ry),iM=bt.object({resource:uu,geo:uu}),u9=bt.object({id:bt.string().url(),width:bt.number(),height:bt.number(),type:em,partOf:Iy.array().optional()}),Ay=bt.object({"@context":bt.literal("https://schemas.allmaps.org/map/2/context.json").optional(),type:bt.literal("GeoreferencedMap"),id:bt.string().optional(),resource:u9,gcps:iM.array(),resourceMask:KP,transformation:Ly.optional()}),Vx=bt.array(Ay);Ry.or(Ay);qx.or(Vx);rM.or(iM);function h9(n){let r,t,o;return Ux(n)?(r=n.resource.width,t=n.resource.height,o=n.resourceMask):(r=n.image.width,t=n.image.height,o=n.pixelMask),{type:"SvgSelector",value:`<svg width="${r}" height="${t}"><polygon points="${o.map(l=>l.join(",")).join(" ")}" /></svg>`}}function d9(n){let r,t,o,l,u;return Ux(n)?(r=n.resource.id,t=n.resource.type,o=n.resource.width,l=n.resource.height,u=n.resource.partOf):(r=n.image.uri,t=n.image.type,o=n.image.width,l=n.image.height),{id:r,type:t,height:l,width:o,partOf:u}}function nM(){return["http://iiif.io/api/extension/georef/1/context.json","http://iiif.io/api/presentation/3/context.json"]}function p9(n){let r,t;return"resource"in n?(r=n.resource,t=n.geo):(r=n.image,t=n.world),{type:"Feature",properties:{resourceCoords:r},geometry:{type:"Point",coordinates:t}}}function xT(n,r=!0){const t={type:"SpecificResource",source:d9(n),selector:h9(n)},o={type:"FeatureCollection",transformation:n.transformation,features:n.gcps.map(l=>p9(l))};return{id:n.id,type:"Annotation","@context":r?nM():void 0,motivation:"georeferencing",target:t,body:o}}function f9(n){if(eM(n)){let r;$0(n[0])?r=Vx.parse(n):r=qx.parse(n);const t=r.map(o=>xT(o,!1));return{type:"AnnotationPage","@context":nM(),items:t}}else{let r;return $0(n)?r=Ay.parse(n):r=Ry.parse(n),xT(r)}}function oM(n){return Ux(n)?n:T1(f9(n))[0]}function g9(n){return n.map(oM)}function _T(n){if(eM(n)){let r;return $0(n[0])?r=Vx.parse(n):r=qx.parse(n),g9(r)}else{let r;return $0(n)?r=Ay.parse(n):r=Ry.parse(n),oM(r)}}function m9(n,r,t,o,l){sM(n,r,t||0,o||n.length-1,l||v9)}function sM(n,r,t,o,l){for(;o>t;){if(o-t>600){var u=o-t+1,d=r-t+1,f=Math.log(u),m=.5*Math.exp(2*f/3),v=.5*Math.sqrt(f*m*(u-m)/u)*(d-u/2<0?-1:1),_=Math.max(t,Math.floor(r-d*m/u+v)),k=Math.min(o,Math.floor(r+(u-d)*m/u+v));sM(n,r,_,k,l)}var C=n[r],M=t,A=o;for(Zf(n,t,r),l(n[o],C)>0&&Zf(n,t,o);M<A;){for(Zf(n,M,A),M++,A--;l(n[M],C)<0;)M++;for(;l(n[A],C)>0;)A--}l(n[t],C)===0?Zf(n,t,A):(A++,Zf(n,A,o)),A<=r&&(t=A+1),r<=A&&(o=A-1)}}function Zf(n,r,t){var o=n[r];n[r]=n[t],n[t]=o}function v9(n,r){return n<r?-1:n>r?1:0}class y9{constructor(r=9){this._maxEntries=Math.max(4,r),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(r){let t=this.data;const o=[];if(!$v(r,t))return o;const l=this.toBBox,u=[];for(;t;){for(let d=0;d<t.children.length;d++){const f=t.children[d],m=t.leaf?l(f):f;$v(r,m)&&(t.leaf?o.push(f):zw(r,m)?this._all(f,o):u.push(f))}t=u.pop()}return o}collides(r){let t=this.data;if(!$v(r,t))return!1;const o=[];for(;t;){for(let l=0;l<t.children.length;l++){const u=t.children[l],d=t.leaf?this.toBBox(u):u;if($v(r,d)){if(t.leaf||zw(r,d))return!0;o.push(u)}}t=o.pop()}return!1}load(r){if(!(r&&r.length))return this;if(r.length<this._minEntries){for(let o=0;o<r.length;o++)this.insert(r[o]);return this}let t=this._build(r.slice(),0,r.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const o=this.data;this.data=t,t=o}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(r){return r&&this._insert(r,this.data.height-1),this}clear(){return this.data=Gd([]),this}remove(r,t){if(!r)return this;let o=this.data;const l=this.toBBox(r),u=[],d=[];let f,m,v;for(;o||u.length;){if(o||(o=u.pop(),m=u[u.length-1],f=d.pop(),v=!0),o.leaf){const _=b9(r,o.children,t);if(_!==-1)return o.children.splice(_,1),u.push(o),this._condense(u),this}!v&&!o.leaf&&zw(o,l)?(u.push(o),d.push(f),f=0,m=o,o=o.children[0]):m?(f++,o=m.children[f],v=!1):o=null}return this}toBBox(r){return r}compareMinX(r,t){return r.minX-t.minX}compareMinY(r,t){return r.minY-t.minY}toJSON(){return this.data}fromJSON(r){return this.data=r,this}_all(r,t){const o=[];for(;r;)r.leaf?t.push(...r.children):o.push(...r.children),r=o.pop();return t}_build(r,t,o,l){const u=o-t+1;let d=this._maxEntries,f;if(u<=d)return f=Gd(r.slice(t,o+1)),Fd(f,this.toBBox),f;l||(l=Math.ceil(Math.log(u)/Math.log(d)),d=Math.ceil(u/Math.pow(d,l-1))),f=Gd([]),f.leaf=!1,f.height=l;const m=Math.ceil(u/d),v=m*Math.ceil(Math.sqrt(d));kT(r,t,o,v,this.compareMinX);for(let _=t;_<=o;_+=v){const k=Math.min(_+v-1,o);kT(r,_,k,m,this.compareMinY);for(let C=_;C<=k;C+=m){const M=Math.min(C+m-1,k);f.children.push(this._build(r,C,M,l-1))}}return Fd(f,this.toBBox),f}_chooseSubtree(r,t,o,l){for(;l.push(t),!(t.leaf||l.length-1===o);){let u=1/0,d=1/0,f;for(let m=0;m<t.children.length;m++){const v=t.children[m],_=Ow(v),k=_9(r,v)-_;k<d?(d=k,u=_<u?_:u,f=v):k===d&&_<u&&(u=_,f=v)}t=f||t.children[0]}return t}_insert(r,t,o){const l=o?r:this.toBBox(r),u=[],d=this._chooseSubtree(l,this.data,t,u);for(d.children.push(r),eg(d,l);t>=0&&u[t].children.length>this._maxEntries;)this._split(u,t),t--;this._adjustParentBBoxes(l,u,t)}_split(r,t){const o=r[t],l=o.children.length,u=this._minEntries;this._chooseSplitAxis(o,u,l);const d=this._chooseSplitIndex(o,u,l),f=Gd(o.children.splice(d,o.children.length-d));f.height=o.height,f.leaf=o.leaf,Fd(o,this.toBBox),Fd(f,this.toBBox),t?r[t-1].children.push(f):this._splitRoot(o,f)}_splitRoot(r,t){this.data=Gd([r,t]),this.data.height=r.height+1,this.data.leaf=!1,Fd(this.data,this.toBBox)}_chooseSplitIndex(r,t,o){let l,u=1/0,d=1/0;for(let f=t;f<=o-t;f++){const m=tg(r,0,f,this.toBBox),v=tg(r,f,o,this.toBBox),_=k9(m,v),k=Ow(m)+Ow(v);_<u?(u=_,l=f,d=k<d?k:d):_===u&&k<d&&(d=k,l=f)}return l||o-t}_chooseSplitAxis(r,t,o){const l=r.leaf?this.compareMinX:w9,u=r.leaf?this.compareMinY:x9,d=this._allDistMargin(r,t,o,l),f=this._allDistMargin(r,t,o,u);d<f&&r.children.sort(l)}_allDistMargin(r,t,o,l){r.children.sort(l);const u=this.toBBox,d=tg(r,0,t,u),f=tg(r,o-t,o,u);let m=Qv(d)+Qv(f);for(let v=t;v<o-t;v++){const _=r.children[v];eg(d,r.leaf?u(_):_),m+=Qv(d)}for(let v=o-t-1;v>=t;v--){const _=r.children[v];eg(f,r.leaf?u(_):_),m+=Qv(f)}return m}_adjustParentBBoxes(r,t,o){for(let l=o;l>=0;l--)eg(t[l],r)}_condense(r){for(let t=r.length-1,o;t>=0;t--)r[t].children.length===0?t>0?(o=r[t-1].children,o.splice(o.indexOf(r[t]),1)):this.clear():Fd(r[t],this.toBBox)}}function b9(n,r,t){if(!t)return r.indexOf(n);for(let o=0;o<r.length;o++)if(t(n,r[o]))return o;return-1}function Fd(n,r){tg(n,0,n.children.length,r,n)}function tg(n,r,t,o,l){l||(l=Gd(null)),l.minX=1/0,l.minY=1/0,l.maxX=-1/0,l.maxY=-1/0;for(let u=r;u<t;u++){const d=n.children[u];eg(l,n.leaf?o(d):d)}return l}function eg(n,r){return n.minX=Math.min(n.minX,r.minX),n.minY=Math.min(n.minY,r.minY),n.maxX=Math.max(n.maxX,r.maxX),n.maxY=Math.max(n.maxY,r.maxY),n}function w9(n,r){return n.minX-r.minX}function x9(n,r){return n.minY-r.minY}function Ow(n){return(n.maxX-n.minX)*(n.maxY-n.minY)}function Qv(n){return n.maxX-n.minX+(n.maxY-n.minY)}function _9(n,r){return(Math.max(r.maxX,n.maxX)-Math.min(r.minX,n.minX))*(Math.max(r.maxY,n.maxY)-Math.min(r.minY,n.minY))}function k9(n,r){const t=Math.max(n.minX,r.minX),o=Math.max(n.minY,r.minY),l=Math.min(n.maxX,r.maxX),u=Math.min(n.maxY,r.maxY);return Math.max(0,l-t)*Math.max(0,u-o)}function zw(n,r){return n.minX<=r.minX&&n.minY<=r.minY&&r.maxX<=n.maxX&&r.maxY<=n.maxY}function $v(n,r){return r.minX<=n.maxX&&r.minY<=n.maxY&&r.maxX>=n.minX&&r.maxY>=n.minY}function Gd(n){return{children:n,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function kT(n,r,t,o,l){const u=[r,t];for(;u.length;){if(t=u.pop(),r=u.pop(),t-r<=o)continue;const d=r+Math.ceil((t-r)/o/2)*o;m9(n,d,r,t,l),u.push(r,d,d,t)}}function E9(n,r,t){if(t===void 0&&(t={}),!n)throw new Error("point is required");if(!r)throw new Error("polygon is required");var o=pp(n),l=FF(r),u=l.type,d=r.bbox,f=l.coordinates;if(d&&T9(o,d)===!1)return!1;u==="Polygon"&&(f=[f]);for(var m=!1,v=0;v<f.length&&!m;v++)if(ET(o,f[v][0],t.ignoreBoundary)){for(var _=!1,k=1;k<f[v].length&&!_;)ET(o,f[v][k],!t.ignoreBoundary)&&(_=!0),k++;_||(m=!0)}return m}function ET(n,r,t){var o=!1;r[0][0]===r[r.length-1][0]&&r[0][1]===r[r.length-1][1]&&(r=r.slice(0,r.length-1));for(var l=0,u=r.length-1;l<r.length;u=l++){var d=r[l][0],f=r[l][1],m=r[u][0],v=r[u][1],_=n[1]*(d-m)+f*(m-n[0])+v*(n[0]-d)===0&&(d-n[0])*(m-n[0])<=0&&(f-n[1])*(v-n[1])<=0;if(_)return!t;var k=f>n[1]!=v>n[1]&&n[0]<(m-d)*(n[1]-f)/(v-f)+d;k&&(o=!o)}return o}function T9(n,r){return r[0]<=n[0]&&r[1]<=n[1]&&r[2]>=n[0]&&r[3]>=n[1]}const S9=!0;class C9{constructor(){this.rbush=new y9,this.polygonsById=new Map,this.bboxesById=new Map,this.itemsById=new Map}addItem(r,t){this.removeItem(r);const o=Hn(t),l={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],id:r};this.polygonsById.set(r,t),this.bboxesById.set(r,o),this.itemsById.set(r,l),this.rbush.insert(l)}removeItem(r){const t=this.itemsById.get(r);t&&(this.rbush.remove(t),this.polygonsById.delete(r),this.bboxesById.delete(r),this.itemsById.delete(r))}clear(){this.rbush.clear()}search(r,t,o,l){return this.rbush.search({minX:r,minY:t,maxX:o,maxY:l})}getBbox(r){return this.bboxesById.get(r)}getPolygon(r){return this.polygonsById.get(r)}searchFromBbox(r){const[t,o,l,u]=r;return this.search(t,o,l,u).map(d=>d.id)}searchFromPoint(r,t=S9){const[o,l,u,d]=[r[0],r[1],r[0],r[1]],f=this.search(o,l,u,d);return t?f.filter(m=>{const v=this.polygonsById.get(m.id);return v?E9(r,v):!1}).map(m=>m.id):f.map(m=>m.id)}}class P9 extends EventTarget{constructor(r,t){super(),this.warpedMapsById=new Map,this.zIndices=new Map,t=Object.assign({createRTree:!0},t),this.imageInfoCache=r,t.createRTree&&(this.rtree=new C9)}getMaps(){return this.warpedMapsById.keys()}getWarpedMaps(r){if(r===void 0)return this.warpedMapsById.values();{const t=[];for(const o of r){const l=this.warpedMapsById.get(o);l&&t.push(l)}return t}}getWarpedMap(r){return this.warpedMapsById.get(r)}getMapZIndex(r){return this.zIndices.get(r)}getTotalBbox(){let r;for(const t of this.getWarpedMaps())t.visible&&(r?r=nT(r,t.geoMaskBbox):r=t.geoMaskBbox);return r}getTotalProjectedGeoMaskBbox(){let r;for(const t of this.getWarpedMaps())t.visible&&(r?r=nT(r,t.projectedGeoMaskBbox):r=t.projectedGeoMaskBbox);return r}getMapsByGeoBbox(r){return this.rtree?this.rtree.searchFromBbox(r):Array.from(this.warpedMapsById.keys())}setImageInfoCache(r){this.imageInfoCache=r}setMapResourceMask(r,t){const o=this.warpedMapsById.get(r);o&&(o.setResourceMask(t),this.addToOrUpdateRtree(o),this.dispatchEvent(new Zr(Ee.RESOURCEMASKUPDATED,r)))}setMapsTransformationType(r,t){for(const o of r){const l=this.warpedMapsById.get(o);l&&(l.setTransformationType(t),this.addToOrUpdateRtree(l))}this.dispatchEvent(new Zr(Ee.TRANSFORMATIONCHANGED,r))}bringMapsToFront(r){let t=this.warpedMapsById.size;for(const o of r)this.zIndices.has(o)&&(this.zIndices.set(o,t),t++);this.removeZIndexHoles(),this.dispatchEvent(new Zr(Ee.ZINDICESCHANGES))}sendMapsToBack(r){let t=-Array.from(r).length;for(const o of r)this.zIndices.has(o)&&(this.zIndices.set(o,t),t++);this.removeZIndexHoles(),this.dispatchEvent(new Zr(Ee.ZINDICESCHANGES))}bringMapsForward(r){for(const[t,o]of this.zIndices.entries())this.zIndices.set(t,o*2);for(const t of r){const o=this.zIndices.get(t);o!==void 0&&this.zIndices.set(t,o+3)}this.removeZIndexHoles(),this.dispatchEvent(new Zr(Ee.ZINDICESCHANGES))}sendMapsBackward(r){for(const[t,o]of this.zIndices.entries())this.zIndices.set(t,o*2);for(const t of r){const o=this.zIndices.get(t);o!==void 0&&this.zIndices.set(t,o-3)}this.removeZIndexHoles(),this.dispatchEvent(new Zr(Ee.ZINDICESCHANGES))}showMaps(r){for(const t of r){const o=this.warpedMapsById.get(t);o&&(o.visible=!0)}this.dispatchEvent(new Zr(Ee.VISIBILITYCHANGED,r))}hideMaps(r){for(const t of r){const o=this.warpedMapsById.get(t);o&&(o.visible=!1)}this.dispatchEvent(new Zr(Ee.VISIBILITYCHANGED,r))}async addGeoreferencedMap(r){const t=_T(r),o=Array.isArray(t)?t[0]:t;return this.addGeoreferencedMapInternal(o)}async removeGeoreferencedMap(r){const t=_T(r),o=Array.isArray(t)?t[0]:t;return this.removeGeoreferencedMapInternal(o)}async addGeoreferenceAnnotation(r){const t=[],o=T1(r),l=await Promise.allSettled(o.map(u=>this.addGeoreferencedMapInternal(u)));for(const u of l)u.status==="fulfilled"?t.push(u.value):t.push(u.reason);return this.dispatchEvent(new Zr(Ee.GEOREFERENCEANNOTATIONADDED)),this.dispatchEvent(new Zr(Ee.ZINDICESCHANGES)),t}async removeGeoreferenceAnnotation(r){const t=[],o=T1(r);for(const l of o){const u=await this.removeGeoreferencedMapInternal(l);t.push(u)}return this.dispatchEvent(new Zr(Ee.GEOREFERENCEANNOTATIONREMOVED)),t}clear(){var r;this.warpedMapsById=new Map,this.zIndices=new Map,(r=this.rtree)==null||r.clear(),this.dispatchEvent(new Zr(Ee.CLEARED))}dispose(){for(const r of this.getWarpedMaps())this.removeEventListenersFromWarpedMap(r),r.dispose()}async addGeoreferencedMapInternal(r){const t=await this.getOrComputeMapId(r),o=new Aj(t,r,this.imageInfoCache);return this.warpedMapsById.set(t,o),this.zIndices.set(t,this.warpedMapsById.size-1),this.addToOrUpdateRtree(o),this.addEventListenersToWarpedMap(o),this.dispatchEvent(new Zr(Ee.WARPEDMAPADDED,t)),t}async removeGeoreferencedMapInternal(r){const t=await this.getOrComputeMapId(r),o=this.warpedMapsById.get(t);if(o)this.warpedMapsById.delete(t),this.zIndices.delete(t),this.removeFromRtree(o),this.dispatchEvent(new Zr(Ee.WARPEDMAPREMOVED,t)),this.removeZIndexHoles(),this.dispatchEvent(new Zr(Ee.ZINDICESCHANGES));else throw new Error(`No map found with ID ${t}`);return t}async getOrComputeMapId(r){return r.id||await r6(r)}addToOrUpdateRtree(r){this.rtree&&(this.rtree.removeItem(r.mapId),this.rtree.addItem(r.mapId,r.geoMask))}removeFromRtree(r){this.rtree&&this.rtree.removeItem(r.mapId)}removeZIndexHoles(){const r=[...this.zIndices.entries()].sort((o,l)=>o[1]-l[1]);let t=0;for(const o of r){const l=o[0];this.zIndices.set(l,t),t++}}imageInfoLoaded(){this.dispatchEvent(new Zr(Ee.IMAGEINFOLOADED))}addEventListenersToWarpedMap(r){r.addEventListener(Ee.IMAGEINFOLOADED,this.imageInfoLoaded.bind(this))}removeEventListenersFromWarpedMap(r){r.removeEventListener(Ee.IMAGEINFOLOADED,this.imageInfoLoaded.bind(this))}}class M9 extends EventTarget{constructor(r,t,o,l,u=1){super(),this.projectedGeoToViewportTransform=[1,0,0,1,0,0],this.projectedGeoToClipTransform=[1,0,0,1,0,0],this.projectedGeoCenter=r,this.projectedGeoPerViewportScale=l,this.rotation=o,this.viewportSize=t,this.devicePixelRatio=u,this.projectedGeoRectangle=this.computeProjectedGeoRectangle(this.projectedGeoCenter,this.projectedGeoPerViewportScale,this.rotation,this.viewportSize),this.projectedGeoBbox=Hn(this.projectedGeoRectangle),this.projectedGeoSize=[this.viewportSize[0]*l,this.viewportSize[1]*l],this.geoCenter=aT(this.projectedGeoCenter),this.geoRectangle=this.projectedGeoRectangle.map(d=>aT(d)),this.geoBbox=Hn(this.geoRectangle),this.geoSize=K0(this.geoBbox),this.viewportCenter=[this.viewportSize[0]/2,this.viewportSize[1]/2],this.viewportBbox=[0,0,...this.viewportSize],this.viewportRectangle=Bg(this.viewportBbox),this.canvasCenter=[this.viewportCenter[0]*this.devicePixelRatio,this.viewportSize[1]*this.devicePixelRatio],this.canvasSize=[this.viewportSize[0]*this.devicePixelRatio,this.viewportSize[1]*this.devicePixelRatio],this.canvasBbox=[0,0,...this.canvasSize],this.canvasRectangle=Bg(this.canvasBbox),this.projectedGeoPerCanvasScale=this.projectedGeoPerViewportScale/this.devicePixelRatio,this.projectedGeoToViewportTransform=this.composeProjectedGeoToViewportTransform(),this.projectedGeoToClipTransform=this.composeProjectedGeoToClipTransform()}composeProjectedGeoToViewportTransform(){return mT(this.viewportSize[0]/2,this.viewportSize[1]/2,1/this.projectedGeoPerViewportScale,-1/this.projectedGeoPerViewportScale,-this.rotation,-this.projectedGeoCenter[0],-this.projectedGeoCenter[1])}composeProjectedGeoToClipTransform(){return mT(0,0,2/(this.projectedGeoPerViewportScale*this.viewportSize[0]),2/(this.projectedGeoPerViewportScale*this.viewportSize[1]),-this.rotation,-this.projectedGeoCenter[0],-this.projectedGeoCenter[1])}computeProjectedGeoRectangle(r,t,o,l){const u=t*l[0]/2,d=t*l[1]/2,f=Math.cos(o),m=Math.sin(o),v=u*f,_=u*m,k=d*f,C=d*m,M=r[0],A=r[1];return[[M-v+C,A-_-k],[M-v-C,A-_+k],[M+v-C,A+_+k],[M+v+C,A+_-k]]}}class I9 extends EventTarget{constructor(r){super(),this.tile=r.tile,this.imageRequest=r.imageRequest,this.tileUrl=r.tileUrl,this.abortController=new AbortController}async fetch(){try{const r=await GF(this.tileUrl,this.abortController.signal);return this.imageBitmap=await createImageBitmap(r),this.dispatchEvent(new Zr(Ee.TILEFETCHED,this.tileUrl)),this.imageBitmap}catch(r){r instanceof Error&&r.name==="AbortError"||this.dispatchEvent(new Zr(Ee.TILEFETCHERROR,this.tileUrl))}}isCachedTile(){return this.imageBitmap!==void 0}abort(){this.abortController.signal.aborted||this.abortController.abort()}}const L9=.75;function aM(n,r){return`${n}:${r}`}function lM(n){return aM(n.mapId,n.tileUrl)}function Nw(n){return new Set(n.map(r=>lM(r)))}function R9(n,r,t={maxOffsetRatio:1e-5,maxDepth:2}){const o=$F(r)[0];return n.transformBackward(o,t)}function A9(n,r,t=L9){let o=Number.POSITIVE_INFINITY,l=n.tileZoomLevels.at(-1);for(const u of n.tileZoomLevels){const d=Math.abs(Math.log(u.scaleFactor)-(Math.log(r)-Math.log(t)));d<o&&(o=d,l=u)}return l}function O9(n,r,t){const o=z9(n,r),l=N9(o),u=F9(l,t,r),d=v1(Hn(n));return u.sort((f,m)=>TT(f,d)-TT(m,d)),u}function z9(n,r){return n.map(t=>[t[0]/r.originalWidth,t[1]/r.originalHeight])}function N9(n){const r={};for(let t=0;t<n.length;t++){const o=[n[t],n[(t+1)%n.length]];D9(o).forEach(([l,u])=>{r[l]||(r[l]=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]),u<r[l][0]&&(r[l][0]=u),u>r[l][1]&&(r[l][1]=u)})}return r}function D9([n,r]){let t=Math.floor(n[0]),o=Math.floor(n[1]);const l=Math.floor(r[0]),u=Math.floor(r[1]),d=[[t,o]];if(t===l&&o===u)return d;const f=Math.sign(r[0]-n[0]),m=Math.sign(r[1]-n[1]),v=Math.abs(n[0]-t-Math.max(0,f)),_=Math.abs(n[1]-o-Math.max(0,m)),k=Math.abs(n[0]-r[0]),C=Math.abs(n[1]-r[1]);let M=v/k,A=_/C;const F=1/k,U=1/C;for(;!(t===l&&o===u);)M<A?(M=M+F,t=t+f):(A=A+U,o=o+m),d.push([t,o]);return d}function F9(n,r,t){const o=[];for(const l in n){const u=parseInt(l);if(u<0||u>=t.columns)break;const d=Math.max(n[u][0],0),f=Math.min(n[u][1],t.rows-1);for(let m=d;m<=f;m++)o.push({column:u,row:m,tileZoomLevel:t,imageSize:[r.width,r.height]})}return o}function B9(n){var r,t;return(((r=n.imageRequest.size)==null?void 0:r.height)||0)*(((t=n.imageRequest.size)==null?void 0:t.width)||0)*3}function TT(n,r){return $l(j9(n),r)}function j9(n){const r=cM(n);return[(r[2]-r[0])/2+r[0],(r[3]-r[1])/2+r[1]]}function H9(n){const r=n.column*n.tileZoomLevel.originalWidth,t=n.row*n.tileZoomLevel.originalHeight;return[r,t]}function cM(n){const r=H9(n),t=Math.min(r[0]+n.tileZoomLevel.originalWidth,n.imageSize[0]),o=Math.min(r[1]+n.tileZoomLevel.originalHeight,n.imageSize[1]);return[r[0],r[1],t,o]}const U9=50,G9=32*1e3*1e3;class q9 extends EventTarget{constructor(){super(...arguments),this.tilesByTileUrl=new Map,this.mapIdsByTileUrl=new Map,this.tileUrlsByMapId=new Map,this.tilesFetchingCount=0,this.previousRequestedTiles=[],this.outgoingTilesHistory=[]}getCacheableTile(r){return this.tilesByTileUrl.get(r)}getCachedTile(r){const t=this.tilesByTileUrl.get(r);if(t&&t.isCachedTile())return t}getCacheableTiles(){return this.tilesByTileUrl.values()}getCachedTiles(){const r=Array.from(this.tilesByTileUrl.values()),t=[];return r.forEach(o=>{o.isCachedTile()&&t.push(o)}),t}getTileUrls(){return this.tilesByTileUrl.keys()}requestFetcableMapTiles(r){const t=Nw(this.previousRequestedTiles),o=Nw(r);if(i8(t,o))return;const l=[];for(const f of this.previousRequestedTiles)o.has(lM(f))||l.push(f);this.updateOutgoingTilesHistory(l,r.length);const u=Nw(this.outgoingTilesHistory),d=new Set([...o,...u]);for(const[f,m]of this.mapIdsByTileUrl)for(const v of m)d.has(aM(v,f))||this.removeMapTile(v,f);for(const f of r)this.addMapTile(f);this.previousRequestedTiles=r}clear(){this.tilesByTileUrl=new Map,this.mapIdsByTileUrl=new Map,this.tileUrlsByMapId=new Map,this.tilesFetchingCount=0,this.outgoingTilesHistory=[]}dispose(){for(const r of this.getCacheableTiles())this.removeEventListenersFromTile(r)}addMapTile(r){const t=r.mapId,o=r.tileUrl;if(this.tilesByTileUrl.has(o))this.dispatchEvent(new Zr(Ee.MAPTILELOADED,{mapId:t,tileUrl:o}));else{const l=new I9(r);this.addEventListenersToTile(l),this.tilesByTileUrl.set(o,l),this.updateTilesFetchingCount(1),l.fetch()}this.addTileUrlForMapId(t,o),this.addMapIdForTileUrl(t,o)}removeMapTile(r,t){const o=this.tilesByTileUrl.get(t);if(!o)return;const l=this.removeMapIdForTileUrl(r,t);this.removeTileUrlForMapId(r,t),l.size||(o.isCachedTile()||(o.abort(),this.updateTilesFetchingCount(-1)),this.tilesByTileUrl.delete(t)),this.dispatchEvent(new Zr(Ee.MAPTILEREMOVED,{mapId:r,tileUrl:t}))}updateOutgoingTilesHistory(r,t){for(let d=r.length-1;d>=0;d--){const f=r[d];this.outgoingTilesHistory.unshift(f)}this.outgoingTilesHistory=Array.from(new Set(this.outgoingTilesHistory));let o=0,l=0,u=0;for(const d of this.outgoingTilesHistory){if(o+=1,u=B9(d),l+=u,o+t>U9){o-=1,l-=u;break}if(l>G9){o-=1,l-=u;break}}this.outgoingTilesHistory=this.outgoingTilesHistory.slice(0,o)}tileFetched(r){var t;if(r instanceof Zr){const o=r.data;this.updateTilesFetchingCount(-1);for(const l of this.mapIdsByTileUrl.get(o)||[])this.dispatchEvent(new Zr(Ee.MAPTILELOADED,{mapId:l,tileUrl:o})),((t=this.tileUrlsByMapId.get(l))==null?void 0:t.values().next().value)===o&&this.dispatchEvent(new Zr(Ee.FIRSTMAPTILELOADED,{mapId:l,tileUrl:o}))}}tileFetchError(r){if(r instanceof Zr){const t=r.data;this.tilesByTileUrl.has(t)||(this.updateTilesFetchingCount(-1),this.tilesByTileUrl.delete(t))}}addMapIdForTileUrl(r,t){let o=this.mapIdsByTileUrl.get(t);return o?o.add(r):o=new Set([r]),this.mapIdsByTileUrl.set(t,o),o}removeMapIdForTileUrl(r,t){const o=this.mapIdsByTileUrl.get(t);if(o)o.delete(r);else return new Set;return o.size?this.mapIdsByTileUrl.set(t,o):this.mapIdsByTileUrl.delete(t),o}addTileUrlForMapId(r,t){let o=this.tileUrlsByMapId.get(r);return o?o.add(t):o=new Set([t]),this.tileUrlsByMapId.set(r,o),o}removeTileUrlForMapId(r,t){const o=this.tileUrlsByMapId.get(r);return o?(o.delete(t),o.size?this.tileUrlsByMapId.set(r,o):this.tileUrlsByMapId.delete(r),o):new Set}updateTilesFetchingCount(r){this.tilesFetchingCount+=r,this.tilesFetchingCount===0&&this.dispatchEvent(new Zr(Ee.ALLREQUESTEDTILESLOADED))}addEventListenersToTile(r){r.addEventListener(Ee.TILEFETCHED,this.tileFetched.bind(this)),r.addEventListener(Ee.TILEFETCHERROR,this.tileFetchError.bind(this))}removeEventListenersFromTile(r){r.removeEventListener(Ee.TILEFETCHED,this.tileFetched.bind(this)),r.removeEventListener(Ee.TILEFETCHERROR,this.tileFetchError.bind(this))}}class V9{constructor(r,t){this.mapId=t.mapId,this.tile=r;const o=t.parsedImage.getIiifTile(r.tileZoomLevel,r.column,r.row);this.imageRequest=o;const l=t.parsedImage.getImageUrl(o);this.tileUrl=l}}var W9=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis;const Z9=W9;var Y9=typeof self=="object"&&self&&self.Object===Object&&self,X9=Z9||Y9||Function("return this")();const uM=X9;var K9=uM.Symbol;const ty=K9;var hM=Object.prototype,J9=hM.hasOwnProperty,Q9=hM.toString,Yf=ty?ty.toStringTag:void 0;function $9(n){var r=J9.call(n,Yf),t=n[Yf];try{n[Yf]=void 0;var o=!0}catch{}var l=Q9.call(n);return o&&(r?n[Yf]=t:delete n[Yf]),l}var t7=Object.prototype,e7=t7.toString;function r7(n){return e7.call(n)}var i7="[object Null]",n7="[object Undefined]",ST=ty?ty.toStringTag:void 0;function o7(n){return n==null?n===void 0?n7:i7:ST&&ST in Object(n)?$9(n):r7(n)}function s7(n){return n!=null&&typeof n=="object"}var a7="[object Symbol]";function l7(n){return typeof n=="symbol"||s7(n)&&o7(n)==a7}var c7=/\s/;function u7(n){for(var r=n.length;r--&&c7.test(n.charAt(r)););return r}var h7=/^\s+/;function d7(n){return n&&n.slice(0,u7(n)+1).replace(h7,"")}function ey(n){var r=typeof n;return n!=null&&(r=="object"||r=="function")}var CT=0/0,p7=/^[-+]0x[0-9a-f]+$/i,f7=/^0b[01]+$/i,g7=/^0o[0-7]+$/i,m7=parseInt;function PT(n){if(typeof n=="number")return n;if(l7(n))return CT;if(ey(n)){var r=typeof n.valueOf=="function"?n.valueOf():n;n=ey(r)?r+"":r}if(typeof n!="string")return n===0?n:+n;n=d7(n);var t=f7.test(n);return t||g7.test(n)?m7(n.slice(2),t?2:8):p7.test(n)?CT:+n}var v7=function(){return uM.Date.now()};const Dw=v7;var y7="Expected a function",b7=Math.max,w7=Math.min;function x7(n,r,t){var o,l,u,d,f,m,v=0,_=!1,k=!1,C=!0;if(typeof n!="function")throw new TypeError(y7);r=PT(r)||0,ey(t)&&(_=!!t.leading,k="maxWait"in t,u=k?b7(PT(t.maxWait)||0,r):u,C="trailing"in t?!!t.trailing:C);function M(ft){var ht=o,ct=l;return o=l=void 0,v=ft,d=n.apply(ct,ht),d}function A(ft){return v=ft,f=setTimeout(j,r),_?M(ft):d}function F(ft){var ht=ft-m,ct=ft-v,Z=r-ht;return k?w7(Z,u-ct):Z}function U(ft){var ht=ft-m,ct=ft-v;return m===void 0||ht>=r||ht<0||k&&ct>=u}function j(){var ft=Dw();if(U(ft))return J(ft);f=setTimeout(j,F(ft))}function J(ft){return f=void 0,C&&o?M(ft):(o=l=void 0,d)}function H(){f!==void 0&&clearTimeout(f),v=0,o=m=l=f=void 0}function V(){return f===void 0?d:J(Dw())}function ot(){var ft=Dw(),ht=U(ft);if(o=arguments,l=this,m=ft,ht){if(f===void 0)return A(m);if(k)return clearTimeout(f),f=setTimeout(j,r),M(m)}return f===void 0&&(f=setTimeout(j,r)),d}return ot.cancel=H,ot.flush=V,ot}var _7="Expected a function";function S1(n,r,t){var o=!0,l=!0;if(typeof n!="function")throw new TypeError(_7);return ey(t)&&(o="leading"in t?!!t.leading:o,l="trailing"in t?!!t.trailing:l),x7(n,r,{leading:o,maxWait:r,trailing:l})}function k7(n){let r=0,t=0;for(const d of n)r+=d.w*d.h,t=Math.max(t,d.w);n.sort((d,f)=>f.h-d.h);const o=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(r/.95)),t),h:1/0}];let l=0,u=0;for(const d of n)for(let f=o.length-1;f>=0;f--){const m=o[f];if(!(d.w>m.w||d.h>m.h)){if(d.x=m.x,d.y=m.y,u=Math.max(u,d.y+d.h),l=Math.max(l,d.x+d.w),d.w===m.w&&d.h===m.h){const v=o.pop();f<o.length&&(o[f]=v)}else d.h===m.h?(m.x+=d.w,m.w-=d.w):d.w===m.w?(m.y+=d.h,m.h-=d.h):(o.push({x:m.x+d.w,y:m.y,w:m.w-d.w,h:d.h}),m.y+=d.h,m.h-=d.h);break}}return{w:l,h:u,fill:r/(l*u)||0}}function MT(n,r,t){const o=n.createShader(r);if(o){if(n.shaderSource(o,t),n.compileShader(o),n.getShaderParameter(o,n.COMPILE_STATUS))return o;{const l=n.getShaderInfoLog(o);throw n.deleteShader(o),new Error("Failed to compile shader: "+l)}}else throw new Error("Failed to create shader")}function E7(n,r,t){const o=n.createProgram();if(o){if(n.attachShader(o,r),n.attachShader(o,t),n.linkProgram(o),n.getProgramParameter(o,n.LINK_STATUS))return o;{const l=n.getProgramInfoLog(o);throw n.deleteProgram(o),new Error("Failed to link program: "+l)}}else throw new Error("Failed to create program")}function t0(n,r,t,o,l){const u=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,u),n.bufferData(n.ARRAY_BUFFER,t,n.STATIC_DRAW);const d=n.FLOAT,f=!1,m=0,v=0,_=n.getAttribLocation(r,l);n.vertexAttribPointer(_,o,d,f,m,v),n.enableVertexAttribArray(_)}const T7=250,S7={leading:!0,trailing:!0},C7=1,P7=1;class M7 extends EventTarget{constructor(r,t,o){super(),this.CachedTilesByTileUrl=new Map,this.opacity=C7,this.saturation=P7,this.renderOptions={},this.warpedMap=o,this.gl=r,this.program=t,this.vao=r.createVertexArray(),this.packedTilesTexture=r.createTexture(),this.packedTilesScaleFactorsTexture=r.createTexture(),this.packedTilesPositionsTexture=r.createTexture(),this.packedTilesResourcePositionsAndDimensionsTexture=r.createTexture(),this.throttledUpdateTextures=S1(this.updateTextures.bind(this),T7,S7)}updateVertexBuffers(r){this.projectedGeoToClipTransform=r,this.updateVertexBuffersInternal()}addCachedTileAndUpdateTextures(r){this.CachedTilesByTileUrl.set(r.tileUrl,r),this.throttledUpdateTextures()}removeCachedTileAndUpdateTextures(r){this.CachedTilesByTileUrl.delete(r),this.throttledUpdateTextures()}dispose(){this.gl.deleteVertexArray(this.vao),this.gl.deleteTexture(this.packedTilesTexture),this.gl.deleteTexture(this.packedTilesScaleFactorsTexture),this.gl.deleteTexture(this.packedTilesPositionsTexture),this.gl.deleteTexture(this.packedTilesResourcePositionsAndDimensionsTexture)}updateVertexBuffersInternal(){if(!this.vao||!this.projectedGeoToClipTransform)return;this.gl.bindVertexArray(this.vao),t0(this.gl,this.program,new Float32Array(this.warpedMap.resourceTrianglePoints.flat()),2,"a_resourceTrianglePoint");const r=this.warpedMap.projectedGeoCurrentTrianglePoints.map(l=>Yd(this.projectedGeoToClipTransform,l));t0(this.gl,this.program,new Float32Array(r.flat()),2,"a_clipCurrentTrianglePoint");const t=this.warpedMap.projectedGeoNewTrianglePoints.map(l=>Yd(this.projectedGeoToClipTransform,l));t0(this.gl,this.program,new Float32Array(t.flat()),2,"a_clipNewTrianglePoint");let o=new Float32Array(this.warpedMap.resourceTrianglePoints.length);o=o.map((l,u)=>Math.round((u-1)/3)),t0(this.gl,this.program,o,1,"a_triangleIndex")}async updateTextures(){const r=this.gl;if(this.CachedTilesByTileUrl.size===0)return;let t=[...this.CachedTilesByTileUrl.values()];t=t.filter(_=>this.warpedMap.resourceViewportRingBbox?QF(cM(_.tile),this.warpedMap.resourceViewportRingBbox):!0);const o=t.length,l=t.map((_,k)=>({w:_.imageBitmap.width,h:_.imageBitmap.height,x:0,y:0,index:k})),{w:u,h:d}=k7(l);r.pixelStorei(r.UNPACK_ALIGNMENT,4),r.bindTexture(r.TEXTURE_2D,this.packedTilesTexture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,u,d,0,r.RGBA,r.UNSIGNED_BYTE,null);for(const _ of l){const k=t[_.index].imageBitmap;r.texSubImage2D(r.TEXTURE_2D,0,_.x,_.y,k.width,k.height,r.RGBA,r.UNSIGNED_BYTE,k)}r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE);const f=l.map(_=>[_.x,_.y]);r.bindTexture(r.TEXTURE_2D,this.packedTilesPositionsTexture),r.texImage2D(r.TEXTURE_2D,0,r.RG32I,1,o,0,r.RG_INTEGER,r.INT,new Int32Array(f.flat())),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE);const m=l.map(_=>{const k=t[_.index];if(k&&k.imageRequest&&k.imageRequest.region)return[k.imageRequest.region.x,k.imageRequest.region.y,k.imageRequest.region.width,k.imageRequest.region.height]});r.bindTexture(r.TEXTURE_2D,this.packedTilesResourcePositionsAndDimensionsTexture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA32I,1,o,0,r.RGBA_INTEGER,r.INT,new Int32Array(m.flat())),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE);const v=l.map(({index:_})=>t[_].tile.tileZoomLevel.scaleFactor);r.bindTexture(r.TEXTURE_2D,this.packedTilesScaleFactorsTexture),r.texImage2D(r.TEXTURE_2D,0,r.R32I,1,o,0,r.RED_INTEGER,r.INT,new Int32Array(v)),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),this.dispatchEvent(new Zr(Ee.TEXTURESUPDATED))}}const I7=`#version 300 es

precision highp float;

uniform mat4 u_renderTransform;

uniform float u_animationProgress;

in vec2 a_clipCurrentTrianglePoint;
in vec2 a_clipNewTrianglePoint;
in vec2 a_resourceTrianglePoint;
in float a_triangleIndex;

out vec2 v_resourceTrianglePoint;
out float v_triangleIndex;

float cubicInOut(float t) {
  return t < 0.5f ? 4.0f * t * t * t : 0.5f * pow(2.0f * t - 2.0f, 3.0f) + 1.0f;
}

void main() {
  // Pass attributes as varyings to fragment shader
  v_resourceTrianglePoint = a_resourceTrianglePoint;
  v_triangleIndex = a_triangleIndex;

  // Compute triangle vertex coordinates by mixing current and new
  vec2 clipTrianglePoint = mix(a_clipCurrentTrianglePoint, a_clipNewTrianglePoint, cubicInOut(u_animationProgress));

  // Set triangle points coordinates
  // Variables that start with gl_ are special globalThis variables
  // gl_Position stores the vertex (or 'point') positions (or 'coordinates') in clip coordinates (which go from -1 to 1.)

  gl_Position = u_renderTransform * vec4(clipTrianglePoint, 0.0f, 1.0f);
}
`,L7=`#version 300 es

precision highp float;
precision highp isampler2D;

uniform bool u_removeColor;
uniform vec3 u_removeColorOptionsColor;
uniform float u_removeColorOptionsThreshold;
uniform float u_removeColorOptionsHardness;

uniform bool u_colorize;
uniform vec3 u_colorizeOptionsColor;

uniform float u_opacity;
uniform float u_saturation;

uniform int u_bestScaleFactor;

uniform sampler2D u_packedTilesTexture;
uniform isampler2D u_packedTilesPositionsTexture;
uniform isampler2D u_packedTilesResourcePositionsAndDimensionsTexture;
uniform isampler2D u_packedTilesScaleFactorsTexture;

in vec2 v_resourceTrianglePoint;
in float v_triangleIndex;

out vec4 color;

void main() {
  // The treated triangle point
  int resourceTrianglePointX = int(round(v_resourceTrianglePoint.x));
  int resourceTrianglePointY = int(round(v_resourceTrianglePoint.y));

  // Reading information on packed tiles from textures
  int packedTilesCount = textureSize(u_packedTilesPositionsTexture, 0).y;
  ivec2 packedTilesTextureSize = textureSize(u_packedTilesTexture, 0);

  // Setting references for the for loop
  int smallestScaleFactorDiff = 256 * 256; // Starting with very high number
  int bestScaleFactor = 0;

  // Prepare storage for the resulting packed tiles texture point that corresponds to the treated triangle point
  vec2 packedTilesTexturePoint = vec2(0.0f, 0.0f);

  color = vec4(0.0f, 0.0f, 0.0f, 0.0f);

  bool found = false;

  // Loop through all packed tiles
  for(int index = 0; index < packedTilesCount; index += 1) {

    // Read the information of the tile
    ivec2 packedTilePosition = texelFetch(u_packedTilesPositionsTexture, ivec2(0, index), 0).rg;
    ivec4 packedTileResourcePositionAndDimension = texelFetch(u_packedTilesResourcePositionsAndDimensionsTexture, ivec2(0, index), 0);
    int packedTileScaleFactor = texelFetch(u_packedTilesScaleFactorsTexture, ivec2(0, index), 0).r;

    float packedTilePositionX = float(packedTilePosition.r);
    float packedTilePositionY = float(packedTilePosition.g);

    int packedTileResourcePositionX = packedTileResourcePositionAndDimension.r;
    int packedTileResourcePositionY = packedTileResourcePositionAndDimension.g;

    int packedTileDimensionWidth = packedTileResourcePositionAndDimension.b;
    int packedTileDimensionHeight = packedTileResourcePositionAndDimension.a;

    // If the treated triangle point is inside the tile, consider to use the tile:
    // if the scale factor is closer to the best scale factor for this map then currently known one
    // update the smallest scale factor diff
    // and compute the packed tiles texture point that corresponds to the treated triangle point
    if(resourceTrianglePointX >= packedTileResourcePositionX &&
      resourceTrianglePointX < packedTileResourcePositionX + packedTileDimensionWidth &&
      resourceTrianglePointY >= packedTileResourcePositionY &&
      resourceTrianglePointY < packedTileResourcePositionY + packedTileDimensionHeight) {
      found = true;

      int scaleFactorDiff = abs(u_bestScaleFactor - packedTileScaleFactor);

      if(scaleFactorDiff < smallestScaleFactorDiff || bestScaleFactor == 0) {

        smallestScaleFactorDiff = scaleFactorDiff;
        bestScaleFactor = packedTileScaleFactor;

        float packedTilePointX = float(resourceTrianglePointX - packedTileResourcePositionX) / float(bestScaleFactor);
        float packedTilePointY = float(resourceTrianglePointY - packedTileResourcePositionY) / float(bestScaleFactor);

        float packedTilesPointX = packedTilePositionX + packedTilePointX;
        float packedTilesPointY = packedTilePositionY + packedTilePointY;

        float packedTilesTexturePointX = round(packedTilesPointX) / float(packedTilesTextureSize.x);
        float packedTilesTexturePointY = round(packedTilesPointY) / float(packedTilesTextureSize.y);

        packedTilesTexturePoint = vec2(packedTilesTexturePointX, packedTilesTexturePointY);
      }
    }
  }

  if(found == true) {
    // Read color of the treated point at it's packed tiles texture point coordinates in the packed tiles texture
    color = texture(u_packedTilesTexture, packedTilesTexturePoint);

    // Remove background color
    if(u_removeColorOptionsThreshold > 0.0f) {
      vec3 backgroundColorDiff = color.rgb - u_removeColorOptionsColor.rgb;
      float backgroundColorDistance = length(backgroundColorDiff);
      if(u_removeColor && backgroundColorDistance < u_removeColorOptionsThreshold) {
        float amount = smoothstep(u_removeColorOptionsThreshold - u_removeColorOptionsThreshold * (1.0f - u_removeColorOptionsHardness), u_removeColorOptionsThreshold, backgroundColorDistance);
        color = vec4(color.rgb * amount, amount);
      }
    }

    // Saturation
    float gray = 0.21f * color.r + 0.71f * color.g + 0.07f * color.b;
    color = vec4(color.rgb * (u_saturation) + (gray * (1.0f - u_saturation)), color.a);

    // Colorize
    if(u_colorize) {
      color = vec4((u_colorizeOptionsColor + color.rgb) * color.a, color.a);
    }

    // Opacity
    color = vec4(color.rgb * u_opacity, color.a * u_opacity);

    // Debugging: uncomment to override color of the treated point with a color made from the point's triangle index
    // vec4 debugColor = vec4(abs(sin(v_triangleIndex)), abs(sin(v_triangleIndex + 1.0f)), abs(sin(v_triangleIndex + 2.0f)), 1);
    // color = debugColor;
  }
}
`,R7=500,A7={leading:!0,trailing:!0},O7=50,z7={leading:!0,trailing:!0},Fw=1,Bw=1,N7=0,D7=.7,F7=5,B7=5,IT=750;class j7 extends EventTarget{constructor(r,t){super(),this.webgl2WarpedMapsById=new Map,this.tileCache=new q9,this.mapsInViewport=new Set,this.opacity=Fw,this.saturation=Bw,this.renderOptions={},this.animating=!1,this.animationProgress=1,this.warpedMapList=t,this.gl=r;const o=MT(r,r.VERTEX_SHADER,I7),l=MT(r,r.FRAGMENT_SHADER,L7);this.program=E7(r,o,l),r.deleteShader(o),r.deleteShader(l),r.disable(r.DEPTH_TEST),this.invertedRenderTransform=Cj(),this.addEventListeners(),this.throttledPrepareRenderInternal=S1(this.prepareRenderInternal.bind(this),R7,A7),this.throttledChanged=S1(this.changed.bind(this),O7,z7)}getOpacity(){return this.opacity}setOpacity(r){this.opacity=r}resetOpacity(){this.opacity=Fw}getMapOpacity(r){const t=this.webgl2WarpedMapsById.get(r);if(t)return t.opacity}setMapOpacity(r,t){const o=this.webgl2WarpedMapsById.get(r);o&&(o.opacity=Math.min(Math.max(t,0),1))}resetMapOpacity(r){const t=this.webgl2WarpedMapsById.get(r);t&&(t.opacity=Fw)}getRemoveColorOptions(){return this.renderOptions.removeColorOptions}setRemoveColorOptions(r){this.renderOptions.removeColorOptions=r}resetRemoveColorOptions(){this.renderOptions.removeColorOptions=void 0}getMapRemoveColorOptions(r){const t=this.webgl2WarpedMapsById.get(r);if(t)return t.renderOptions.removeColorOptions}setMapRemoveColorOptions(r,t){const o=this.webgl2WarpedMapsById.get(r);o&&(o.renderOptions.removeColorOptions=t)}resetMapRemoveColorOptions(r){const t=this.webgl2WarpedMapsById.get(r);t&&(t.renderOptions.removeColorOptions=void 0)}getColorizeOptions(){return this.renderOptions.colorizeOptions}setColorizeOptions(r){this.renderOptions.colorizeOptions=r}resetColorizeOptions(){this.renderOptions.colorizeOptions=void 0}getMapColorizeOptions(r){const t=this.webgl2WarpedMapsById.get(r);if(t)return t.renderOptions.colorizeOptions}setMapColorizeOptions(r,t){const o=this.webgl2WarpedMapsById.get(r);o&&(o.renderOptions.colorizeOptions=t)}resetMapColorizeOptions(r){const t=this.webgl2WarpedMapsById.get(r);t&&(t.renderOptions.colorizeOptions=void 0)}getSaturation(){return this.saturation}setSaturation(r){this.saturation=r}resetSaturation(){this.saturation=Bw}getMapSaturation(r){const t=this.webgl2WarpedMapsById.get(r);if(t)return t.saturation}setMapSaturation(r,t){const o=this.webgl2WarpedMapsById.get(r);o&&(o.saturation=t)}resetMapSaturation(r){const t=this.webgl2WarpedMapsById.get(r);t&&(t.saturation=Bw)}render(r){this.viewport=r,this.throttledPrepareRenderInternal(),this.renderInternal()}clear(){this.webgl2WarpedMapsById=new Map,this.mapsInViewport=new Set,this.gl.clear(this.gl.DEPTH_BUFFER_BIT|this.gl.COLOR_BUFFER_BIT),this.tileCache.clear()}dispose(){for(const r of this.webgl2WarpedMapsById.values())this.removeEventListenersFromWebGL2WarpedMap(r),r.dispose();this.tileCache.clear(),this.tileCache.dispose(),this.removeEventListeners(),this.gl.deleteProgram(this.program)}startTransformationTransition(){this.lastAnimationFrameRequestId!==void 0&&cancelAnimationFrame(this.lastAnimationFrameRequestId),this.animating=!0,this.transformationTransitionStart=void 0,this.lastAnimationFrameRequestId=requestAnimationFrame(this.transformationTransitionFrame.bind(this))}transformationTransitionFrame(r){if(this.transformationTransitionStart||(this.transformationTransitionStart=r),r-this.transformationTransitionStart<IT)this.animationProgress=(r-this.transformationTransitionStart)/IT,this.renderInternal(),this.lastAnimationFrameRequestId=requestAnimationFrame(this.transformationTransitionFrame.bind(this));else{for(const t of this.warpedMapList.getWarpedMaps())t.resetCurrentTrianglePoints();this.updateVertexBuffers(),this.animating=!1,this.animationProgress=0,this.transformationTransitionStart=void 0}}prepareRenderInternal(){this.updateRequestedTiles(),this.updateVertexBuffers()}updateVertexBuffers(){if(this.viewport){this.invertedRenderTransform=Mj(this.viewport.projectedGeoToClipTransform);for(const r of this.mapsInViewport){const t=this.webgl2WarpedMapsById.get(r);if(!t)break;t.updateVertexBuffers(this.viewport.projectedGeoToClipTransform)}}}updateRequestedTiles(){if(!this.viewport||!this.viewportMovedSignificantly())return;const r=Array.from(this.warpedMapList.getMapsByGeoBbox(this.viewport.geoBbox)).sort((o,l)=>$l(v1(this.warpedMapList.getWarpedMap(o).geoMaskBbox),this.viewport.geoCenter)-$l(v1(this.warpedMapList.getWarpedMap(l).geoMaskBbox),this.viewport.geoCenter)),t=[];for(const o of r){const l=this.warpedMapList.getWarpedMap(o);if(!l||!l.visible)continue;if(!l.hasImageInfo()){l.loadImageInfo();continue}if(t8(l.getApproxViewportMaskBbox(this.viewport))<F7)continue;const u=A9(l.parsedImage,l.getApproxResourceToCanvasScale(this.viewport));l.updateBestScaleFactor(u.scaleFactor);const d={maxDepth:0},f=R9(l.projectedTransformer,this.viewport.projectedGeoBbox,d);l.setResourceViewportRing(f);const m=O9(f,u,l.parsedImage);for(const v of m)t.push(new V9(v,l))}this.tileCache.requestFetcableMapTiles(t),this.updateMapsInViewport(t)}viewportMovedSignificantly(){if(!this.viewport)return!1;if(this.previousSignificantViewport){const r=[];for(let o=0;o<4;o++)r.push($l(this.previousSignificantViewport.projectedGeoRectangle[o],this.viewport.projectedGeoRectangle[o])/this.viewport.projectedGeoPerViewportScale);const t=Math.max(...r);return t==0?!0:t>B7?(this.previousSignificantViewport=this.viewport,!0):!1}else return this.previousSignificantViewport=this.viewport,!1}updateMapsInViewport(r){const t=Array.from(this.mapsInViewport),o=r.map(d=>d.mapId).filter((d,f,m)=>m.indexOf(d)===f);this.mapsInViewport=new Set(o.sort((d,f)=>{const m=this.warpedMapList.getMapZIndex(d),v=this.warpedMapList.getMapZIndex(f);return m!==void 0&&v!==void 0?m-v:0}));const l=o.filter(d=>!t.includes(d)),u=t.filter(d=>!o.includes(d));for(const d in l)this.dispatchEvent(new Zr(Ee.WARPEDMAPENTER,d));for(const d in u)this.dispatchEvent(new Zr(Ee.WARPEDMAPLEAVE,d))}renderInternal(){if(!this.viewport)return;const r=Pj(this.viewport.projectedGeoToClipTransform,this.invertedRenderTransform),t=this.gl;t.viewport(0,0,t.canvas.width,t.canvas.height),t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.useProgram(this.program);const o=t.getUniformLocation(this.program,"u_renderTransform");t.uniformMatrix4fv(o,!1,Lj(r));const l=t.getUniformLocation(this.program,"u_animationProgress");t.uniform1f(l,this.animationProgress);for(const u of this.mapsInViewport){const d=this.webgl2WarpedMapsById.get(u);if(!d)continue;this.setRenderOptionsUniforms(this.renderOptions,d.renderOptions);const f=t.getUniformLocation(this.program,"u_opacity");t.uniform1f(f,this.opacity*d.opacity);const m=t.getUniformLocation(this.program,"u_saturation");t.uniform1f(m,this.saturation*d.saturation);const v=t.getUniformLocation(this.program,"u_bestScaleFactor"),_=d.warpedMap.bestScaleFactor;t.uniform1i(v,_);const k=t.getUniformLocation(this.program,"u_packedTilesTexture");t.uniform1i(k,0),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,d.packedTilesTexture);const C=t.getUniformLocation(this.program,"u_packedTilesPositionsTexture");t.uniform1i(C,1),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,d.packedTilesPositionsTexture);const M=t.getUniformLocation(this.program,"u_packedTilesResourcePositionsAndDimensionsTexture");t.uniform1i(M,2),t.activeTexture(t.TEXTURE2),t.bindTexture(t.TEXTURE_2D,d.packedTilesResourcePositionsAndDimensionsTexture);const A=t.getUniformLocation(this.program,"u_packedTilesScaleFactorsTexture");t.uniform1i(A,3),t.activeTexture(t.TEXTURE3),t.bindTexture(t.TEXTURE_2D,d.packedTilesScaleFactorsTexture);const F=d.vao,U=d.warpedMap.resourceTrianglePoints.length,j=this.gl.TRIANGLES,J=0;t.bindVertexArray(F),t.drawArrays(j,J,U)}}setRenderOptionsUniforms(r,t){var v,_,k,C,M,A,F,U,j,J;const o=this.gl,l={removeColorOptions:{color:((v=t.removeColorOptions)==null?void 0:v.color)||((_=r.removeColorOptions)==null?void 0:_.color),hardness:sT((k=t.removeColorOptions)==null?void 0:k.hardness,(C=r.removeColorOptions)==null?void 0:C.hardness),threshold:sT((M=t.removeColorOptions)==null?void 0:M.threshold,(A=r.removeColorOptions)==null?void 0:A.threshold)},colorizeOptions:{...r.colorizeOptions,...t.colorizeOptions}},u=(F=l.removeColorOptions)==null?void 0:F.color,d=o.getUniformLocation(this.program,"u_removeColor");if(o.uniform1f(d,u?1:0),u){const H=o.getUniformLocation(this.program,"u_removeColorOptionsColor");o.uniform3fv(H,u);const V=o.getUniformLocation(this.program,"u_removeColorOptionsThreshold");o.uniform1f(V,((U=l.removeColorOptions)==null?void 0:U.threshold)||N7);const ot=o.getUniformLocation(this.program,"u_removeColorOptionsHardness");o.uniform1f(ot,((j=l.removeColorOptions)==null?void 0:j.hardness)||D7)}const f=(J=l.colorizeOptions)==null?void 0:J.color,m=o.getUniformLocation(this.program,"u_colorize");if(o.uniform1f(m,f?1:0),f){const H=o.getUniformLocation(this.program,"u_colorizeOptionsColor");o.uniform3fv(H,f)}}changed(){this.dispatchEvent(new Zr(Ee.CHANGED))}imageInfoLoaded(r){r instanceof Zr&&this.dispatchEvent(new Zr(Ee.IMAGEINFOLOADED))}mapTileLoaded(r){if(r instanceof Zr){const{mapId:t,tileUrl:o}=r.data,l=this.tileCache.getCacheableTile(o);if(!l||!l.isCachedTile())return;const u=this.webgl2WarpedMapsById.get(t);if(!u)return;u.addCachedTileAndUpdateTextures(l)}}mapTileRemoved(r){if(r instanceof Zr){const{mapId:t,tileUrl:o}=r.data,l=this.webgl2WarpedMapsById.get(t);if(!l)return;l.removeCachedTileAndUpdateTextures(o)}}warpedMapAdded(r){if(r instanceof Zr){const t=r.data,o=this.warpedMapList.getWarpedMap(t);if(o){const l=new M7(this.gl,this.program,o);this.webgl2WarpedMapsById.set(o.mapId,l),this.addEventListenersToWebGL2WarpedMap(l)}}}transformationChanged(r){if(r instanceof Zr){const t=r.data;for(const o of this.warpedMapList.getWarpedMaps(t))this.animating&&o.mixProjectedGeoCurrentAndNewTrianglePoints(this.animationProgress),o.updateProjectedGeoTrianglePoints(!1);this.updateVertexBuffers(),this.startTransformationTransition()}}resourceMaskUpdated(r){if(r instanceof Zr){const t=r.data,o=this.warpedMapList.getWarpedMap(t);o&&(o.clearResourceTrianglePointsByBestScaleFactor(),o.updateTriangulation(!1))}}addEventListenersToWebGL2WarpedMap(r){r.addEventListener(Ee.TEXTURESUPDATED,this.throttledChanged.bind(this))}removeEventListenersFromWebGL2WarpedMap(r){r.removeEventListener(Ee.TEXTURESUPDATED,this.throttledChanged.bind(this))}addEventListeners(){this.tileCache.addEventListener(Ee.MAPTILELOADED,this.mapTileLoaded.bind(this)),this.tileCache.addEventListener(Ee.MAPTILEREMOVED,this.mapTileRemoved.bind(this)),this.warpedMapList.addEventListener(Ee.IMAGEINFOLOADED,this.imageInfoLoaded.bind(this)),this.warpedMapList.addEventListener(Ee.WARPEDMAPADDED,this.warpedMapAdded.bind(this)),this.warpedMapList.addEventListener(Ee.TRANSFORMATIONCHANGED,this.transformationChanged.bind(this)),this.warpedMapList.addEventListener(Ee.RESOURCEMASKUPDATED,this.resourceMaskUpdated.bind(this)),this.warpedMapList.addEventListener(Ee.CLEARED,this.clear.bind(this))}removeEventListeners(){this.tileCache.removeEventListener(Ee.MAPTILELOADED,this.mapTileLoaded.bind(this)),this.tileCache.removeEventListener(Ee.MAPTILEREMOVED,this.mapTileRemoved.bind(this)),this.warpedMapList.removeEventListener(Ee.IMAGEINFOLOADED,this.imageInfoLoaded.bind(this)),this.warpedMapList.removeEventListener(Ee.WARPEDMAPADDED,this.warpedMapAdded.bind(this)),this.warpedMapList.removeEventListener(Ee.TRANSFORMATIONCHANGED,this.transformationChanged.bind(this)),this.warpedMapList.removeEventListener(Ee.RESOURCEMASKUPDATED,this.resourceMaskUpdated.bind(this)),this.warpedMapList.removeEventListener(Ee.CLEARED,this.clear.bind(this))}}const H7=Jn.Layer.extend({options:{opacity:1,interactive:!1,className:"",pane:"tilePane",zIndex:"1"},initialize(n,r){this._annotation=n,Jn.setOptions(this,r),this._initGl()},async onAdd(n){const r=this.getPaneName();return this._map.getPane(r).appendChild(this.container),n.on("zoomend viewreset move",this._update,this),n.on("zoomanim",this._animateZoom,this),n.on("unload",this._unload,this),this.resizeObserver=new ResizeObserver(this._resized.bind(this)),this.resizeObserver.observe(this._map.getContainer(),{box:"content-box"}),this._annotation&&(n8(this._annotation)?await this.addGeoreferenceAnnotationByUrl(this._annotation):await this.addGeoreferenceAnnotation(this._annotation)),this._update(),this},onRemove(n){this.container.remove(),n.off("zoomend viewreset move",this._update,this),n.off("zoomanim",this._animateZoom,this)},async addGeoreferenceAnnotation(n){const r=await this.renderer.warpedMapList.addGeoreferenceAnnotation(n);return this._update(),r},async removeGeoreferenceAnnotation(n){const r=await this.renderer.warpedMapList.removeGeoreferenceAnnotation(n);return this._update(),r},async addGeoreferenceAnnotationByUrl(n){const r=await fetch(n).then(t=>t.json());return this.addGeoreferenceAnnotation(r)},async removeGeoreferenceAnnotationByUrl(n){const r=await fetch(n).then(t=>t.json());return this.removeGeoreferenceAnnotation(r)},async addGeoreferencedMap(n){const r=this.renderer.warpedMapList.addGeoreferencedMap(n);return this._update(),r},async removeGeoreferencedMap(n){const r=this.renderer.warpedMapList.removeGeoreferencedMap(n);return this._update(),r},getContainer(){return this.container},getCanvas(){return this.canvas},getWarpedMapList(){return this.renderer.warpedMapList},getWarpedMap(n){return this.renderer.warpedMapList.getWarpedMap(n)},showMap(n){this.renderer.warpedMapList.showMaps([n]),this._update()},showMaps(n){this.renderer.warpedMapList.showMaps(n),this._update()},hideMap(n){this.renderer.warpedMapList.hideMaps([n]),this._update()},hideMaps(n){this.renderer.warpedMapList.hideMaps(n),this._update()},isMapVisible(n){var r;return(r=this.renderer.warpedMapList.getWarpedMap(n))==null?void 0:r.visible},setMapResourceMask(n,r){this.renderer.warpedMapList.setMapResourceMask(n,r),this._update()},setMapsTransformationType(n,r){this.renderer.warpedMapList.setMapsTransformationType(n,r),this._update()},getTotalBbox(){return this.renderer.warpedMapList.getBbox()},getTotalProjectedBbox(){return this.renderer.warpedMapList.getProjectedBbox()},getTotalBounds(){const n=this.getTotalBbox();return Jn.latLngBounds(Jn.latLng(n[1],n[0]),Jn.latLng(n[3],n[2]))},getTotalProjectedBounds(){const n=this.getTotalProjectedBbox();return Jn.latLngBounds(Jn.latLng(n[1],n[0]),Jn.latLng(n[3],n[2]))},bringMapsToFront(n){this.renderer.warpedMapList.bringMapsToFront(n),this._update()},sendMapsToBack(n){this.renderer.warpedMapList.sendMapsToBack(n),this._update()},bringMapsForward(n){this.renderer.warpedMapList.bringMapsForward(n),this._update()},sendMapsBackward(n){this.renderer.warpedMapList.sendMapsBackward(n),this._update()},bringToFront(){return this._map&&Jn.DomUtil.toFront(this.container),this},bringToBack(){return this._map&&Jn.DomUtil.toBack(this.container),this},getMapZIndex(n){return this.renderer.warpedMapList.getMapZIndex(n)},getZIndex(){return this.options.zIndex},setZIndex(n){return this.options.zIndex=n,this._updateZIndex(),this},setImageInfoCache(n){this.renderer.warpedMapList.setImageInfoCache(n)},getPaneName(){return this._map.getPane(this.options.pane)?this.options.pane:"tilePane"},getOpacity(){return this.options.opacity},setOpacity(n){return this.options.opacity=n,this._update(),this},resetOpacity(){return this.options.opacity=1,this._update(),this},getMapOpacity(n){return this.renderer.getMapOpacity(n)},setMapOpacity(n,r){return this.renderer.setMapOpacity(n,r),this._update(),this},resetMapOpacity(n){return this.renderer.resetMapOpacity(n),this._update(),this},setSaturation(n){return this.renderer.setSaturation(n),this._update(),this},resetSaturation(){return this.renderer.resetSaturation(),this._update(),this},setMapSaturation(n,r){return this.renderer.setMapSaturation(n,r),this._update(),this},resetMapSaturation(n){return this.renderer.resetMapSaturation(n),this._update(),this},setRemoveColor(n){const r=n.hexColor?oT(n.hexColor):void 0;return this.renderer.setRemoveColorOptions({color:r,threshold:n.threshold,hardness:n.hardness}),this._update(),this},resetRemoveColor(){return this.renderer.resetRemoveColorOptions(),this._update(),this},setMapRemoveColor(n,r){const t=r.hexColor?oT(r.hexColor):void 0;return this.renderer.setMapRemoveColorOptions(n,{color:t,threshold:r.threshold,hardness:r.hardness}),this._update(),this},resetMapRemoveColor(n){return this.renderer.resetMapRemoveColorOptions(n),this},setColorize(n){const r=this.hexToRgb(n);return r&&(this.renderer.setColorizeOptions({color:r}),this._update()),this},resetColorize(){return this.renderer.resetColorizeOptions(),this._update(),this},setMapColorize(n,r){const t=this.hexToRgb(r);return t&&(this.renderer.setMapColorizeOptions(n,{color:t}),this._update()),this},resetMapColorize(n){return this.renderer.resetMapColorizeOptions(n),this._update(),this},_initGl(){if(this.container=Jn.DomUtil.create("div"),this.container.classList.add("leaflet-layer"),this.container.classList.add("allmaps-warped-map-layer"),this.options.zIndex&&this._updateZIndex(),this.canvas=Jn.DomUtil.create("canvas",void 0,this.container),this.canvas.classList.add("leaflet-zoom-animated"),this.canvas.classList.add("leaflet-image-layer"),this.options.interactive&&this.canvas.classList.add("leaflet-interactive"),this.options.className&&this.canvas.classList.add(this.options.className),this.gl=this.canvas.getContext("webgl2",{premultipliedAlpha:!0}),!this.gl)throw new Error("WebGL 2 not available");const n=new P9(this.options.imageInfoCache);this.renderer=new j7(this.gl,n),this._addEventListeners()},_resized(n){for(const r of n){const t=r.contentRect.width,o=r.contentRect.height,l=window.devicePixelRatio,u=Math.round(t*l),d=Math.round(o*l);this.canvas.width=u,this.canvas.height=d,this.canvas.style.width=t+"px",this.canvas.style.height=o+"px"}this._update()},_animateZoom(n){const r=this._map.getZoomScale(n.zoom),t=this._map._latLngBoundsToNewLayerBounds(this._map.getBounds(),n.zoom,n.center).min;Jn.DomUtil.setTransform(this.canvas,t,r)},_updateZIndex(){this.container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this.container.style.zIndex=this.options.zIndex)},_update(){if(!this._map)return;const n=this._map.containerPointToLayerPoint([0,0]);Jn.DomUtil.setPosition(this.canvas,n),this.renderer.setOpacity(this.getOpacity());const r=this._map.getCenter(),t=this._map.options.crs.project(r),o=[t.x,t.y],l=this._map.getSize(),u=[l.x,l.y],d=this._map.getBounds(),f=this._map.options.crs.project(d.getNorthEast()),m=this._map.options.crs.project(d.getSouthWest()),v=[m.x,m.y,f.x,f.y],_=K0(v),k=bP(_,u),C=new M9(o,u,0,k,window.devicePixelRatio);return this.renderer.render(C),this.container},_addEventListeners(){this.renderer.addEventListener(Ee.CHANGED,this._update.bind(this)),this.renderer.addEventListener(Ee.IMAGEINFOLOADED,this._update.bind(this)),this.renderer.addEventListener(Ee.WARPEDMAPENTER,this._passWarpedMapEvent.bind(this)),this.renderer.addEventListener(Ee.WARPEDMAPLEAVE,this._passWarpedMapEvent.bind(this)),this.renderer.tileCache.addEventListener(Ee.FIRSTMAPTILELOADED,this._passWarpedMapEvent.bind(this)),this.renderer.tileCache.addEventListener(Ee.ALLREQUESTEDTILESLOADED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.addEventListener(Ee.WARPEDMAPADDED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.addEventListener(Ee.WARPEDMAPREMOVED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.addEventListener(Ee.VISIBILITYCHANGED,this._update.bind(this)),this.renderer.warpedMapList.addEventListener(Ee.CLEARED,this._update.bind(this))},_removeEventListeners(){this.renderer.removeEventListener(Ee.CHANGED,this._update.bind(this)),this.renderer.removeEventListener(Ee.IMAGEINFOLOADED,this._update.bind(this)),this.renderer.removeEventListener(Ee.WARPEDMAPENTER,this._passWarpedMapEvent.bind(this)),this.renderer.removeEventListener(Ee.WARPEDMAPLEAVE,this._passWarpedMapEvent.bind(this)),this.renderer.tileCache.removeEventListener(Ee.FIRSTMAPTILELOADED,this._passWarpedMapEvent.bind(this)),this.renderer.tileCache.removeEventListener(Ee.ALLREQUESTEDTILESLOADED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.removeEventListener(Ee.WARPEDMAPADDED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.removeEventListener(Ee.WARPEDMAPREMOVED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.removeEventListener(Ee.VISIBILITYCHANGED,this._update.bind(this)),this.renderer.warpedMapList.removeEventListener(Ee.CLEARED,this._update.bind(this))},_passWarpedMapEvent(n){n instanceof Zr&&this._map&&this._map.fire(n.type,n.data)},_unload(){this.renderer.dispose();const n=this.gl.getExtension("WEBGL_lose_context");n&&n.loseContext();const r=this.gl.canvas;r.width=1,r.height=1,this.resizeObserver.disconnect(),this._removeEventListeners()}}),U7={class:"content",ref:"content"},G7=["innerHTML"],q7=["innerHTML"],V7=ms({__name:"Map.ce",props:{overlay:{type:String},zoom:{type:Number,default:2},center:{type:String,default:"32.32347,-80.97122"},data:{type:String},marker:{type:Boolean},basemaps:{type:String,default:"OpenStreetMap"},caption:{type:String},entities:{type:String},preferGeojson:{type:Boolean},popupOnHover:{type:Boolean},zoomOnClick:{type:Boolean},scrollWheelZoom:{type:Boolean},essayBase:{type:String}},setup(n){const r=n,t=window.turf,o={iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-icon.png",iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-icon-2x.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",shadowSize:[41,41]},l={CartoDB_DarkMatter:["https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_DarkMatterNoLabels:["https://{s}.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_DarkMatterOnlyLabels:["https://{s}.basemaps.cartocdn.com/dark_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_Positron:["https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_PositronNoLabels:["https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_PositronOnlyLabels:["https://{s}.basemaps.cartocdn.com/light_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_Voyager:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_VoyagerNoLabels:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager_nolabels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_VoyagerOnlyLabels:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_VoyagerLabelsUnder:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager_labels_under/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],Esri_DeLorme:["https://server.arcgisonline.com/ArcGIS/rest/services/Specialty/DeLorme_World_Base_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Copyright: &copy;2012 DeLorme",minZoom:1,maxZoom:11}],Esri_NatGeoWorldMap:["https://server.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC",maxZoom:16}],Esri_OceanBasemap:["https://server.arcgisonline.com/ArcGIS/rest/services/Ocean/World_Ocean_Base/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri",maxZoom:13}],Esri_WorldGrayCanvas:["https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ",maxZoom:16}],Esri_WorldImagery:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}],Esri_WorldPhysical:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Physical_Map/MapServer/tile/{z}/{y}/{x}",{maxZoom:8,attribution:"Tiles &copy; Esri &mdash; Source: US National Park Service"}],Esri_WorldShadedRelief:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri",maxZoom:13}],Esri_WorldStreetMap:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"}],Esri_WorldTerrain:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: USGS, Esri, TANA, DeLorme, and NPS",maxZoom:13}],Esri_WorldTopoMap:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community"}],MtbMap:["http://tile.mtbmap.cz/mtbmap_tiles/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &amp; USGS'}],OpenStreetMap:["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}],OpenStreetMap_DE:["https://{s}.tile.openstreetmap.de/{z}/{x}/{y}.png",{maxZoom:18,attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}],OpenStreetMap_France:["https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",{maxZoom:20,attribution:'&copy; OpenStreetMap France | &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}],OpenStreetMap_HOT:["https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Tiles style by <a href="https://www.hotosm.org/" target="_blank">Humanitarian OpenStreetMap Team</a> hosted by <a href="https://openstreetmap.fr/" target="_blank">OpenStreetMap France</a>',maxZoom:19}],OpenStreetMap_Mapnik:["https://tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:19}],OpenTopoMap:["https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",{maxZoom:17,attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}],OPNVKarte:["https://tileserver.memomaps.de/tilegen/{z}/{x}/{y}.png",{attribution:'Map <a href="https://memomaps.de/">memomaps.de</a> <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:18}],Stadia_AlidadeSmooth:["https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:20}],Stadia_AlidadeSmoothDark:["https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:20}],Stadia_OSMBright:["https://tiles.stadiamaps.com/tiles/osm_bright/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:20}],Stadia_Outdoors:["https://tiles.stadiamaps.com/tiles/outdoors/{z}/{x}/{y}{r}.png",{maxZoom:20,attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'}],Stamen_Terrain:["https://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:18,ext:"png"}],Stamen_TerrainBackground:["https://stamen-tiles-{s}.a.ssl.fastly.net/terrain-background/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:18,ext:"png"}],Stamen_TerrainLabels:["https://stamen-tiles-{s}.a.ssl.fastly.net/terrain-labels/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:18,ext:"png"}],Stamen_Toner:["https://stamen-tiles-{s}.a.ssl.fastly.net/toner/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"}],Stamen_TonerBackground:["https://stamen-tiles-{s}.a.ssl.fastly.net/toner-background/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"}],Stamen_TonerLite:["https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"}],Stamen_Watercolor:["https://stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.{ext}",{subdomains:"abcd",minZoom:1,maxZoom:16,ext:"jpg",attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}],USGS_USTopo:["https://basemap.nationalmap.gov/arcgis/rest/services/USGSTopo/MapServer/tile/{z}/{y}/{x}",{maxZoom:20,attribution:'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'}],USGS_USImagery:["https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryOnly/MapServer/tile/{z}/{y}/{x}",{maxZoom:20,attribution:'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'}],USGS_USImageryTopo:["https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryTopo/MapServer/tile/{z}/{y}/{x}",{maxZoom:20,attribution:'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'}]},u=Ne(null),d=Vr(()=>{var Ut,Gt;return(Gt=(Ut=u.value)==null?void 0:Ut.getRootNode())==null?void 0:Gt.host}),f=Ne(null),m=Ne(1),v=Ne(),_=Ne([]),k=Ne(),C=Ne([]),M=Ne(),A=Ne(),F=Ne(),U=Ne(10),j=Ne(),J=Ne(),H=Ne();ri(f,Ut=>{Ut&&(Ut.clientHeight===0&&(Ut.style.height=`${Ut.clientWidth*m.value}px`),new ResizeObserver(Gt=>Ut.style.height=`${Gt[0].contentRect.width*m.value}px`).observe(Ut),V())}),ri(C,async()=>{let Ut=await Promise.all(C.value);console.log(hi(Ut));let Gt=Ut.filter(vt=>vt.geojson&&vt.preferGeojson).map(vt=>{if(vt.geojson.indexOf("http")!==0)if(vt.geojson[0]==="/"){let[O,Y,...dt]=vt.geojson.split("/").filter(Ot=>Ot),_t=dt.join("/"),wt="main";vt.geojson=`https://raw.githubusercontent.com/${O}/${Y}/${wt}/${_t}`}else vt.geojson=`https://raw.githubusercontent.com/${r.essayBase}/${vt.geojson}`;return vt}).map(vt=>({url:vt.geojson,item:vt})),Yt=await Promise.all(Gt.map(vt=>fetch(vt.url))),Xt=await Promise.all(Yt.map(vt=>vt.json())),nt={};for(let vt=0;vt<Gt.length;vt++){Gt[vt].item.id&&/^Q[0-9]+$/.test(Gt[vt].item.id)&&(Gt[vt].item.qid=Gt[vt].item.id,delete Gt[vt].item.id),Xt[vt].type==="FeatureCollection"?Xt[vt].features.forEach(Y=>Y.properties={...Y.properties,...Gt[vt].item}):Xt[vt].properties={...Xt[vt].properties,...Gt[vt].item};let O=Gt[vt].item.layer||"Locations";nt[O]||(nt[O]=[]),nt[O].push(Xt[vt])}let pt={};Ut.filter(vt=>!vt.geojson||!vt.preferGeojson).filter(vt=>!vt.allmaps).forEach(vt=>{let O=vt.layer||"Locations";pt[O]||(pt[O]=[]),pt[O].push(vt)}),Ut.filter(vt=>!vt.allmaps).forEach(vt=>{let O=vt.layer||"Locations";nt[O]?pt[O]&&(nt[O].push(lt(pt[O])),delete pt[O]):(nt[O]=[lt(pt[O])],delete pt[O])}),F.value=nt,A.value=Ut.filter(vt=>vt.allmaps).map(vt=>{let O=new H7(`https://annotations.allmaps.org/images/${vt.allmaps}`);return{name:vt.layer||"Image layer",type:"allmaps",disabled:vt.disabled,opacity:vt.opacity||100,layer:O}})}),ri(F,()=>Z()),ri(A,()=>Z()),ri(v,()=>Z());function V(){_.value=r.entities?r.entities.split(/\s+/).filter(Ut=>Ut):[],ut(),mt(),ot(),fe()}async function ot(){U.value=r.zoom;let Ut;if(r.center)if(kw(r.center)){let Xt=await Nd(r.center);Ut=Wt(Xt.coords)}else Ut=Wt(r.center);else if(r.entities){let Xt=await Nd(_.value[0]);Ut=Wt(Xt.coords),U.value=9}else Ut=new hs.LatLng(0,0),U.value=6;if(v.value&&(v.value.off(),v.value.remove()),!f.value)return;Ew()&&hs.Map.addInitHook("addHandler","gestureHandling",$4.GestureHandling),f.value.style.cursor="default";let Gt=r.basemaps.split(",").map(Xt=>{let[nt,pt]=l[Xt];return[Xt.replace(/_/," "),hs.tileLayer(nt,pt)]}),Yt={preferCanvas:!1,scrollWheelZoom:!1,smoothWheelZoom:!0,smoothSensitivity:1.5,zoomSnap:.1,center:Ut,zoom:U.value,zoomAnimation:!0,gestureHandling:Ew(),layers:[Gt[0][1]]};v.value=hs.map(f.value,Yt),(Gt.length>1||Object.keys(F.value||{}).length>1)&&(M.value=hs.control.layers(Object.fromEntries(Gt),{}).addTo(v.value)),v.value.on("click",Xt=>{var nt;ft(Xt),k.value&&Et((nt=k.value)==null?void 0:nt.split(" ")[0]),r.zoomOnClick&&er()}),v.value.on("zoomend",Xt=>{ft(Xt),H.value&&H.value.layer.openPopup()}),v.value.on("movestart",()=>{f.value&&(f.value.style.cursor="move")}),v.value.on("moveend",Xt=>{f.value&&(f.value.style.cursor="default"),ft(Xt)}),v.value.on("layeradd",Xt=>{var nt,pt;if(Xt.layer.feature){let vt=Xt.layer;((nt=vt.feature)==null?void 0:nt.type)=="Feature"&&((pt=vt.feature)!=null&&pt.properties.qid)&&vt.feature}}),k.value=`${Number(Ut.lat.toFixed(5))},${Number(Ut.lng.toFixed(5))} ${U.value}`,j.value=`${Number(Ut.lat.toFixed(5))},${Number(Ut.lng.toFixed(5))},${U.value}`}function ft(Ut){let Gt=Ut.type==="click"?Ut.latlng:Ut.target.getCenter(),Yt=Ut.target.getZoom(),Xt=[Gt.lat,Gt.lng,Yt];return k.value=`${Number(Gt.lat.toFixed(5))},${Number(Gt.lng.toFixed(5))} ${Yt}`,J.value||(j.value=`${Number(Gt.lat.toFixed(5))},${Number(Gt.lng.toFixed(5))},${Yt}`),Xt}function ht(Ut){return hs.geoJSON(Ut,{pointToLayer:(Gt,Yt)=>{const Xt=Gt.properties;let nt={...o};return Gt.properties.icon&&(nt.iconUrl=Gt.properties.icon),Gt.properties.shadowUrl&&(nt.shadowUrl=Gt.properties.shadowUrl),Gt.properties.iconRetinaUrl&&(nt.iconRetinaUrl=Gt.properties.iconRetinaUrl),Xt.markerType==="circle"?hs.circleMarker(Yt,{radius:Xt.radius||4}):hs.marker(Yt,{icon:new hs.Icon(nt)})},onEachFeature:async(Gt,Yt)=>{var nt;let Xt=Yt;if(!Gt.properties.coords){if((nt=Xt.feature)!=null&&nt.bbox){let pt=Xt.getBounds().getCenter();Gt.properties.coords=`${pt.lat},${pt.lng}`}else if(Gt.geometry.type==="Polygon"){let pt=t.centroid(Gt);Gt.properties.coords=`${pt.geometry.coordinates[1]},${pt.geometry.coordinates[0]}`}}if(Gt.properties.qid){let pt=await Nd(Gt.properties.qid);Gt.properties.entityData=pt;let O=`<ve-info-card data="${JSON.stringify(pt).replace(/"/g,"&quot;")}" style="width:100%;"></ve-info-card>`;Yt.bindPopup(O)}else{let vt=`<ve-info-card data="${JSON.stringify(Gt.properties).replace(/"/g,"&quot;")}" style="width:100%;"></ve-info-card>`;Yt.bindPopup(vt)}r.popupOnHover&&(Yt.on("mouseover",()=>Yt.openPopup()),Yt.on("mouseout",()=>Yt.closePopup())),Yt.on("click",()=>{J.value?(Yt.closePopup(),J.value=void 0):(Yt.openPopup(),J.value={},r.zoomOnClick&&ue(Gt.properties.coords))})},style:Gt=>{const Yt=Gt==null?void 0:Gt.properties,Xt=Gt==null?void 0:Gt.geometry.type;for(let[pt,vt]of Object.entries(Yt))vt==="null"&&(Yt[pt]=null);return{color:Yt.color||"#FB683F",weight:Yt.weight||(Xt==="Polygon"||Xt==="MultiPolygon"?0:4),opacity:Yt.opacity||1,fillColor:Yt.fillColor||"#32C125",fillOpacity:Yt.fillOpacity||.5}}})}let ct=!1;function Z(){var Ut;if(v.value&&F.value&&A.value&&!ct){ct=!0;let Gt=Object.keys(F.value||{}),Yt=A.value?A.value.length:0;!M.value&&(Gt.length>1||Gt.length===1&&Gt[0]!=="Locations"||Yt>0)&&(M.value=hs.control.layers(Object.fromEntries([]),{}).addTo(v.value));let Xt={};if((Ut=A.value)==null||Ut.forEach(nt=>{var pt;M.value&&M.value.addOverlay(nt.layer,nt.name),nt.disabled||(pt=v.value)==null||pt.addLayer(nt.layer),Xt[nt.name]=nt.layer}),Object.keys(F.value||{}).forEach(nt=>{var O;let pt=new hs.LayerGroup,vt=!1;F.value[nt].forEach(Y=>{var _t;let dt=ht(Y);pt.addLayer(dt),(_t=Y.properties)!=null&&_t.disabled&&(vt=!0)}),vt||(O=v.value)==null||O.addLayer(pt),M.value&&M.value.addOverlay(pt,nt)}),Object.keys(Xt).length>0){let nt=hs.control.opacity(Xt,{label:null,collapsed:!0,position:"topright"});nt.addTo(v.value),Array.from(nt.getContainer().querySelectorAll(".leaflet-control-layers-overlays label")).forEach(pt=>{var Y;let vt=pt.children[0].textContent.trim(),O;if((Y=A.value)==null||Y.forEach(dt=>{dt.name===vt&&(O=dt)}),O){let dt=O.opacity,_t=pt.children[1].children[0];_t.value=dt,O.layer.setOpacity(dt/100),_t.addEventListener("input",wt=>{wt.preventDefault(),wt.stopPropagation(),O.layer.setOpacity(parseInt(_t.value)/100)})}})}}}function lt(Ut){const Gt={type:"FeatureCollection",features:[]};return Ut.filter(Yt=>Yt.coords).forEach(Yt=>{let[Xt,nt]=Yt.coords.split(",").map(pt=>parseFloat(pt.trim()));Gt.features.push({type:"Feature",properties:Yt,geometry:{type:"Point",coordinates:[nt,Xt]}})}),Gt}async function ut(){let Ut=r.data?document.getElementById(r.data):d.value,Gt=Array.from(Ut.querySelectorAll("li")).map(Yt=>{var Xt;return Jt((Xt=Yt.firstChild)==null?void 0:Xt.textContent)});if(r.marker&&r.center)if(kw(r.center)){let Yt=await Nd(r.center);Gt.push(Promise.resolve(pe(Yt)))}else Gt.push(Promise.resolve({coords:r.center,zoom:r.zoom||10}));C.value=[...C.value,...Gt]}function mt(){const Ut=Yt=>{for(let Xt of Yt)Xt.type==="childList"&&Array.from(Xt.target.classList).indexOf("hydrated")>=0&&ut()};new MutationObserver(Ut).observe(d.value,{childList:!0,subtree:!0,characterData:!0})}function re(Ut){return/^[+-]?\d+(.\d*|\d*),{1}[+-]?\d+(.\d*|\d*)$/.test(Ut)}function ne(Ut){return/^\d{1,2}(\.\d{1})?$/.test(Ut)}function ye(Ut){Ut=Ut||"";let Gt=[];Ut=Ut.replace(/“/,'"').replace(/”/,'"').replace(/’/,"'");let Yt=Ut.match(/[^\s"]+|"([^"]*)"/gmi);return Yt&&Yt.forEach(Xt=>{Gt.length>0&&Gt[Gt.length-1].indexOf("=")===Gt[Gt.length-1].length-1?Gt[Gt.length-1]=`${Gt[Gt.length-1]}${Xt}`:Gt.push(Xt)}),Gt}function Bt(Ut,Gt){let Yt={id:Gt},Xt=mD(Ut);return Xt.location&&(Yt.coords=Xt.location[0]),Xt.coordinates_of_the_point_of_view&&(Yt.coords=Xt.coordinates_of_the_point_of_view[0]),Ut.label&&(Yt.label=Ut.label.en),Ut.summary&&(Yt.description=Ut.summary.en[0]),Ut.thumbnail&&(Yt.image=Ut.thumbnail[0].id),Yt}function pe(Ut,Gt=""){let Yt={id:Gt||Ut.id};return Ut.coords&&(Yt.coords=Ut.coords),Ut.geojson&&(Yt.geojson=Ut.geojson),Ut.label&&(Yt.label=Ut.label),Ut.description&&(Yt.description=Ut.description),Ut.thumbnail&&(Yt.image=Ut.thumbnail),Yt}async function Jt(Ut){let Gt=ye(Ut),Yt=/\.(geo)?json$/i,Xt=/^[a-z0-9\-]+:.+/,nt={},pt=new Set(["disabled","prefer-geojson"]);for(let vt=0;vt<Gt.length;vt++){let O=Gt[vt];if(O.indexOf("=")>0){let[Y,...dt]=O.split("="),_t=dt.join("=");if(_t=_t[_t.length-1]==='"'?_t.slice(1,-1):_t,Y==="qid"){let wt=await Nd(O);nt={...pe(wt,O),...nt}}else if(Y==="iiif"){let wt=await z0(O);nt={...Bt(wt,O),...nt}}else nt[Y]=_t}else if(ne(O))nt.zoom=parseInt(O);else if(re(O))nt.coords=O,nt.id=O;else if(kw(O)){let Y=await Nd(O);nt={...pe(Y,O),...nt}}else if(Yt.test(O))nt.geojson=O;else if(Xt.test(O)){let Y=await z0(O);nt={...Bt(Y,O),...nt}}else if(pt.has(O))nt[fD(O)]=!0;else{let Y=O[0]==='"'&&O[O.length-1]==='"'?O.slice(1,-1):O;nt.label?nt.description=Y:nt.label=Y}}return nt.preferGeojson=nt.preferGeojson||r.preferGeojson&&nt.geojson||nt.geojson&&!nt.coords,nt}function Wt(Ut){let[Gt,Yt]=Ut.split(",").map(Xt=>parseFloat(Xt.trim()));return new Jn.LatLng(Gt,Yt)}function Et(Ut){navigator.clipboard&&navigator.clipboard.writeText(Ut)}function qt(Ut="",Gt=""){return Object.values(F.value).map(Xt=>{let nt=Xt[0];return nt.type==="FeatureCollection"?nt.features:[nt]}).flat().find(Xt=>{var nt,pt;return Xt.id===Ut||((nt=Xt.properties)==null?void 0:nt.id)===Ut||((pt=Xt.properties)==null?void 0:pt.coords)===Gt})}function Zt(Ut=""){var pt,vt,O,Y;Ut=Ut.replace(/^flyto\|/i,"");let Gt="",Yt=10,Xt=Ut.split(",");if(Xt.length===1){Gt=Xt[0];let dt=qt(Gt);Yt=((pt=dt==null?void 0:dt.properties)==null?void 0:pt.zoom)||Yt}else if(Xt.length===2)if(/^[+-]?\d+(.\d*|\d*)$/.test(Xt[0])){Gt=Xt.join(",");let dt=qt("",Gt);Yt=((vt=dt==null?void 0:dt.properties)==null?void 0:vt.zoom)||Yt}else Gt=Xt[0],Yt=parseFloat(Xt[1]);else Gt=Xt.slice(0,2).join(","),Yt=parseFloat(Xt[2]);let nt;return(O=v.value)==null||O.eachLayer(dt=>{var _t,wt,Ot,xt;(((wt=(_t=dt==null?void 0:dt.feature)==null?void 0:_t.properties)==null?void 0:wt.id)===Gt||((xt=(Ot=dt==null?void 0:dt.feature)==null?void 0:Ot.properties)==null?void 0:xt.coords)===Gt)&&(nt=dt)}),nt||(Y=v.value)==null||Y.eachLayer(dt=>nt=dt),{id:Gt,zoom:Yt,layer:nt}}function fe(){let Ut=d.value.parentElement,Gt=new Set;for(;Ut!=null&&Ut.parentElement&&Ut.tagName!=="MAIN";)Ut=Ut.parentElement,Array.from(Ut.querySelectorAll("[enter],[exit]")).forEach(Xt=>{le(Xt)&&!Gt.has(Xt)&&(Ce(Xt),Gt.add(Xt))});let Yt=d.value.parentElement;for(;Yt!=null&&Yt.parentElement&&Yt.tagName!=="BODY";)Yt=Yt.parentElement;Yt&&Array.from(Yt.querySelectorAll("mark")).forEach(Xt=>{let nt=Array.from(Xt.attributes).find(pt=>pt.name==="flyto");if(nt&&le(Xt.parentElement)){let vt=nt==null?void 0:nt.value;Xt.classList.add(nt.name),Xt.addEventListener("click",()=>ue(vt)),r.popupOnHover&&(Xt.addEventListener("mouseover",()=>{let O=Zt(vt).layer;O.openPopup(),Ew()&&setTimeout(()=>O.closePopup(),2e3)}),Xt.addEventListener("mouseleave",()=>{var O;H.value=Zt(vt),H.value.id!==J.value&&((O=H.value.layer)==null||O.closePopup())}))}})}function Ce(Ut){let Gt=Ut.classList.contains("active");new MutationObserver(Xt=>{Xt.forEach(nt=>{if(nt.attributeName=="class"){let pt=nt.target.classList.contains("active");if(Gt!==pt){Gt=pt;let vt=Ut.attributes.getNamedItem(pt?"enter":"exit");if(vt){const[O,...Y]=vt.value.split(":");let dt=Y.join(":");O==="flyto"&&ue(dt,!0),vt.name==="exit"&&er()}}}})}).observe(Ut,{attributes:!0,childList:!0,subtree:!0,characterData:!0})}function le(Ut){let Gt=Ut.previousSibling;for(;Gt;){if(Gt.nodeName==="VE-MAP")return Gt===d.value?Gt:null;Gt=Gt.previousSibling}for(;Ut.parentElement&&Ut.tagName!=="MAIN";){Ut=Ut.parentElement;let Yt=Ut.querySelector(":scope > ve-map, :scope > p > ve-map, :scope > section > ve-map");if(Yt)return Yt===d.value?Yt:null}}async function ue(Ut,Gt=!1){var Yt,Xt;if(H.value=Zt(Ut),H.value.layer){if(H.value.id===J.value&&!Gt)H.value.layer.closePopup(),er();else if(J.value=H.value.id,(Yt=H.value.layer.feature)!=null&&Yt.properties){let nt=Wt(H.value.layer.feature.properties.coords);(Xt=v.value)==null||Xt.flyTo(nt,H.value.zoom)}}else er()}function er(){var Ut,Gt;if(H.value=null,j.value){let[Yt,Xt,nt]=j.value.split(",").map(vt=>parseFloat(vt)),pt=new hs.LatLng(Yt,Xt);(Ut=v.value)==null||Ut.flyTo(pt,nt),(Gt=v.value)==null||Gt.closePopup()}J.value=void 0}return(Ut,Gt)=>(Oe(),De("div",{ref_key:"root",ref:u,style:{width:"100%",height:"100%"}},[Qt("div",U7,[Qt("div",{id:"lat-lng-zoom",innerHTML:k.value,onClick:Gt[0]||(Gt[0]=Yt=>Et(`${k.value}`))},null,8,G7),Qt("div",{id:"map",ref_key:"mapEl",ref:f},null,512),n.caption?(Oe(),De("div",{key:0,id:"caption",innerHTML:n.caption},null,8,q7)):gi("",!0)],512)],512))}}),W7=`.leaflet-pane,.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-tile-container,.leaflet-pane>svg,.leaflet-pane>canvas,.leaflet-zoom-box,.leaflet-image-layer,.leaflet-layer{position:absolute;left:0;top:0}.leaflet-container{overflow:hidden}.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none}.leaflet-tile::-moz-selection{background:transparent}.leaflet-tile::selection{background:transparent}.leaflet-safari .leaflet-tile{image-rendering:-webkit-optimize-contrast}.leaflet-safari .leaflet-tile-container{width:1600px;height:1600px;-webkit-transform-origin:0 0}.leaflet-marker-icon,.leaflet-marker-shadow{display:block}.leaflet-container .leaflet-overlay-pane svg{max-width:none!important;max-height:none!important}.leaflet-container .leaflet-marker-pane img,.leaflet-container .leaflet-shadow-pane img,.leaflet-container .leaflet-tile-pane img,.leaflet-container img.leaflet-image-layer,.leaflet-container .leaflet-tile{max-width:none!important;max-height:none!important;width:auto;padding:0}.leaflet-container img.leaflet-tile{mix-blend-mode:plus-lighter}.leaflet-container.leaflet-touch-zoom{touch-action:pan-x pan-y}.leaflet-container.leaflet-touch-drag{touch-action:none;touch-action:pinch-zoom}.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom{touch-action:none}.leaflet-container{-webkit-tap-highlight-color:transparent}.leaflet-container a{-webkit-tap-highlight-color:rgba(51,181,229,.4)}.leaflet-tile{filter:inherit;visibility:hidden}.leaflet-tile-loaded{visibility:inherit}.leaflet-zoom-box{width:0;height:0;box-sizing:border-box;z-index:800}.leaflet-overlay-pane svg{-moz-user-select:none}.leaflet-pane{z-index:400}.leaflet-tile-pane{z-index:200}.leaflet-overlay-pane{z-index:400}.leaflet-shadow-pane{z-index:500}.leaflet-marker-pane{z-index:600}.leaflet-tooltip-pane{z-index:650}.leaflet-popup-pane{z-index:700}.leaflet-map-pane canvas{z-index:100}.leaflet-map-pane svg{z-index:200}.leaflet-vml-shape{width:1px;height:1px}.lvml{behavior:url(#default#VML);display:inline-block;position:absolute}.leaflet-control{position:relative;z-index:800;pointer-events:visiblePainted;pointer-events:auto}.leaflet-top,.leaflet-bottom{position:absolute;z-index:1000;pointer-events:none}.leaflet-top{top:0}.leaflet-right{right:0}.leaflet-bottom{bottom:0}.leaflet-left{left:0}.leaflet-control{float:left;clear:both}.leaflet-right .leaflet-control{float:right}.leaflet-top .leaflet-control{margin-top:10px}.leaflet-bottom .leaflet-control{margin-bottom:10px}.leaflet-left .leaflet-control{margin-left:10px}.leaflet-right .leaflet-control{margin-right:10px}.leaflet-fade-anim .leaflet-popup{opacity:0;transition:opacity .2s linear}.leaflet-fade-anim .leaflet-map-pane .leaflet-popup{opacity:1}.leaflet-zoom-animated{transform-origin:0 0}svg.leaflet-zoom-animated{will-change:transform}.leaflet-zoom-anim .leaflet-zoom-animated{transition:transform .25s cubic-bezier(0,0,.25,1)}.leaflet-zoom-anim .leaflet-tile,.leaflet-pan-anim .leaflet-tile{transition:none}.leaflet-zoom-anim .leaflet-zoom-hide{visibility:hidden}.leaflet-interactive{cursor:pointer}.leaflet-grab{cursor:grab}.leaflet-crosshair,.leaflet-crosshair .leaflet-interactive{cursor:crosshair}.leaflet-popup-pane,.leaflet-control{cursor:auto}.leaflet-dragging .leaflet-grab,.leaflet-dragging .leaflet-grab .leaflet-interactive,.leaflet-dragging .leaflet-marker-draggable{cursor:move;cursor:grabbing}.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-image-layer,.leaflet-pane>svg path,.leaflet-tile-container{pointer-events:none}.leaflet-marker-icon.leaflet-interactive,.leaflet-image-layer.leaflet-interactive,.leaflet-pane>svg path.leaflet-interactive,svg.leaflet-image-layer.leaflet-interactive path{pointer-events:visiblePainted;pointer-events:auto}.leaflet-container{background:#ddd;outline-offset:1px}.leaflet-container a{color:#0078a8}.leaflet-zoom-box{border:2px dotted #38f;background:rgba(255,255,255,.5)}.leaflet-container{font-family:Helvetica Neue,Arial,Helvetica,sans-serif;font-size:12px;font-size:.75rem;line-height:1.5}.leaflet-bar{box-shadow:0 1px 5px #000000a6;border-radius:4px}.leaflet-bar a{background-color:#fff;border-bottom:1px solid #ccc;width:26px;height:26px;line-height:26px;display:block;text-align:center;text-decoration:none;color:#000}.leaflet-bar a,.leaflet-control-layers-toggle{background-position:50% 50%;background-repeat:no-repeat;display:block}.leaflet-bar a:hover,.leaflet-bar a:focus{background-color:#f4f4f4}.leaflet-bar a:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.leaflet-bar a:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-bottom:none}.leaflet-bar a.leaflet-disabled{cursor:default;background-color:#f4f4f4;color:#bbb}.leaflet-touch .leaflet-bar a{width:30px;height:30px;line-height:30px}.leaflet-touch .leaflet-bar a:first-child{border-top-left-radius:2px;border-top-right-radius:2px}.leaflet-touch .leaflet-bar a:last-child{border-bottom-left-radius:2px;border-bottom-right-radius:2px}.leaflet-control-zoom-in,.leaflet-control-zoom-out{font:700 18px Lucida Console,Monaco,monospace;text-indent:1px}.leaflet-touch .leaflet-control-zoom-in,.leaflet-touch .leaflet-control-zoom-out{font-size:22px}.leaflet-control-layers{box-shadow:0 1px 5px #0006;background:#fff;border-radius:5px}.leaflet-control-layers-toggle{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAQAAAADQ4RFAAACf0lEQVR4AY1UM3gkARTePdvdoTxXKc+qTl3aU5U6b2Kbkz3Gtq3Zw6ziLGNPzrYx7946Tr6/ee/XeCQ4D3ykPtL5tHno4n0d/h3+xfuWHGLX81cn7r0iTNzjr7LrlxCqPtkbTQEHeqOrTy4Yyt3VCi/IOB0v7rVC7q45Q3Gr5K6jt+3Gl5nCoDD4MtO+j96Wu8atmhGqcNGHObuf8OM/x3AMx38+4Z2sPqzCxRFK2aF2e5Jol56XTLyggAMTL56XOMoS1W4pOyjUcGGQdZxU6qRh7B9Zp+PfpOFlqt0zyDZckPi1ttmIp03jX8gyJ8a/PG2yutpS/Vol7peZIbZcKBAEEheEIAgFbDkz5H6Zrkm2hVWGiXKiF4Ycw0RWKdtC16Q7qe3X4iOMxruonzegJzWaXFrU9utOSsLUmrc0YjeWYjCW4PDMADElpJSSQ0vQvA1Tm6/JlKnqFs1EGyZiFCqnRZTEJJJiKRYzVYzJck2Rm6P4iH+cmSY0YzimYa8l0EtTODFWhcMIMVqdsI2uiTvKmTisIDHJ3od5GILVhBCarCfVRmo4uTjkhrhzkiBV7SsaqS+TzrzM1qpGGUFt28pIySQHR6h7F6KSwGWm97ay+Z+ZqMcEjEWebE7wxCSQwpkhJqoZA5ivCdZDjJepuJ9IQjGGUmuXJdBFUygxVqVsxFsLMbDe8ZbDYVCGKxs+W080max1hFCarCfV+C1KATwcnvE9gRRuMP2prdbWGowm1KB1y+zwMMENkM755cJ2yPDtqhTI6ED1M/82yIDtC/4j4BijjeObflpO9I9MwXTCsSX8jWAFeHr05WoLTJ5G8IQVS/7vwR6ohirYM7f6HzYpogfS3R2OAAAAAElFTkSuQmCC);width:36px;height:36px}.leaflet-retina .leaflet-control-layers-toggle{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAQAAABvcdNgAAAEsklEQVR4AWL4TydIhpZK1kpWOlg0w3ZXP6D2soBtG42jeI6ZmQTHzAxiTbSJsYLjO9HhP+WOmcuhciVnmHVQcJnp7DFvScowZorad/+V/fVzMdMT2g9Cv9guXGv/7pYOrXh2U+RRR3dSd9JRx6bIFc/ekqHI29JC6pJ5ZEh1yWkhkbcFeSjxgx3L2m1cb1C7bceyxA+CNjT/Ifff+/kDk2u/w/33/IeCMOSaWZ4glosqT3DNnNZQ7Cs58/3Ce5HL78iZH/vKVIaYlqzfdLu8Vi7dnvUbEza5Idt36tquZFldl6N5Z/POLof0XLK61mZCmJSWjVF9tEjUluu74IUXvgttuVIHE7YxSkaYhJZam7yiM9Pv82JYfl9nptxZaxMJE4YSPty+vF0+Y2up9d3wwijfjZbabqm/3bZ9ecKHsiGmRflnn1MW4pjHf9oLufyn2z3y1D6n8g8TZhxyzipLNPnAUpsOiuWimg52psrTZYnOWYNDTMuWBWa0tJb4rgq1UvmutpaYEbZlwU3CLJm/ayYjHW5/h7xWLn9Hh1vepDkyf7dE7MtT5LR4e7yYpHrkhOUpEfssBLq2pPhAqoSWKUkk7EDqkmK6RrCEzqDjhNDWNE+XSMvkJRDWlZTmCW0l0PHQGRZY5t1L83kT0Y3l2SItk5JAWHl2dCOBm+fPu3fo5/3v61RMCO9Jx2EEYYhb0rmNQMX/vm7gqOEJLcXTGw3CAuRNeyaPWwjR8PRqKQ1PDA/dpv+on9Shox52WFnx0KY8onHayrJzm87i5h9xGw/tfkev0jGsQizqezUKjk12hBMKJ4kbCqGPVNXudyyrShovGw5CgxsRICxF6aRmSjlBnHRzg7Gx8fKqEubI2rahQYdR1YgDIRQO7JvQyD52hoIQx0mxa0ODtW2Iozn1le2iIRdzwWewedyZzewidueOGqlsn1MvcnQpuVwLGG3/IR1hIKxCjelIDZ8ldqWz25jWAsnldEnK0Zxro19TGVb2ffIZEsIO89EIEDvKMPrzmBOQcKQ+rroye6NgRRxqR4U8EAkz0CL6uSGOm6KQCdWjvjRiSP1BPalCRS5iQYiEIvxuBMJEWgzSoHADcVMuN7IuqqTeyUPq22qFimFtxDyBBJEwNyt6TM88blFHao/6tWWhuuOM4SAK4EI4QmFHA+SEyWlp4EQoJ13cYGzMu7yszEIBOm2rVmHUNqwAIQabISNMRstmdhNWcFLsSm+0tjJH1MdRxO5Nx0WDMhCtgD6OKgZeljJqJKc9po8juskR9XN0Y1lZ3mWjLR9JCO1jRDMd0fpYC2VnvjBSEFg7wBENc0R9HFlb0xvF1+TBEpF68d+DHR6IOWVv2BECtxo46hOFUBd/APU57WIoEwJhIi2CdpyZX0m93BZicktMj1AS9dClteUFAUNUIEygRZCtik5zSxI9MubTBH1GOiHsiLJ3OCoSZkILa9PxiN0EbvhsAo8tdAf9Seepd36lGWHmtNANTv5Jd0z4QYyeo/UEJqxKRpg5LZx6btLPsOaEmdMyxYdlc8LMaJnikDlhclqmPiQnTEpLUIZEwkRagjYkEibQErwhkTAKCLQEbUgkzJQWc/0PstHHcfEdQ+UAAAAASUVORK5CYII=);background-size:26px 26px}.leaflet-touch .leaflet-control-layers-toggle{width:44px;height:44px}.leaflet-control-layers .leaflet-control-layers-list,.leaflet-control-layers-expanded .leaflet-control-layers-toggle{display:none}.leaflet-control-layers-expanded .leaflet-control-layers-list{display:block;position:relative}.leaflet-control-layers-expanded{padding:6px 10px 6px 6px;color:#333;background:#fff}.leaflet-control-layers-scrollbar{overflow-y:scroll;overflow-x:hidden;padding-right:5px}.leaflet-control-layers-selector{margin-top:2px;position:relative;top:1px}.leaflet-control-layers label{display:block;font-size:13px;font-size:1.08333em}.leaflet-control-layers-separator{height:0;border-top:1px solid #ddd;margin:5px -10px 5px -6px}.leaflet-default-icon-path{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=)}.leaflet-container .leaflet-control-attribution{background:#fff;background:rgba(255,255,255,.8);margin:0}.leaflet-control-attribution,.leaflet-control-scale-line{padding:0 5px;color:#333;line-height:1.4}.leaflet-control-attribution a{text-decoration:none}.leaflet-control-attribution a:hover,.leaflet-control-attribution a:focus{text-decoration:underline}.leaflet-attribution-flag{display:inline!important;vertical-align:baseline!important;width:1em;height:.6669em}.leaflet-left .leaflet-control-scale{margin-left:5px}.leaflet-bottom .leaflet-control-scale{margin-bottom:5px}.leaflet-control-scale-line{border:2px solid #777;border-top:none;line-height:1.1;padding:2px 5px 1px;white-space:nowrap;box-sizing:border-box;background:rgba(255,255,255,.8);text-shadow:1px 1px #fff}.leaflet-control-scale-line:not(:first-child){border-top:2px solid #777;border-bottom:none;margin-top:-2px}.leaflet-control-scale-line:not(:first-child):not(:last-child){border-bottom:2px solid #777}.leaflet-touch .leaflet-control-attribution,.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{box-shadow:none}.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{border:2px solid rgba(0,0,0,.2);background-clip:padding-box}.leaflet-popup{position:absolute;text-align:center;margin-bottom:20px}.leaflet-popup-content-wrapper{padding:1px;text-align:left;border-radius:12px}.leaflet-popup-content{margin:13px 24px 13px 20px;line-height:1.3;font-size:13px;font-size:1.08333em;min-height:1px}.leaflet-popup-content p{margin:1.3em 0}.leaflet-popup-tip-container{width:40px;height:20px;position:absolute;left:50%;margin-top:-1px;margin-left:-20px;overflow:hidden;pointer-events:none}.leaflet-popup-tip{width:17px;height:17px;padding:1px;margin:-10px auto 0;pointer-events:auto;transform:rotate(45deg)}.leaflet-popup-content-wrapper,.leaflet-popup-tip{background:white;color:#333;box-shadow:0 3px 14px #0006}.leaflet-container a.leaflet-popup-close-button{position:absolute;top:0;right:0;border:none;text-align:center;width:24px;height:24px;font:16px/24px Tahoma,Verdana,sans-serif;color:#757575;text-decoration:none;background:transparent}.leaflet-container a.leaflet-popup-close-button:hover,.leaflet-container a.leaflet-popup-close-button:focus{color:#585858}.leaflet-popup-scrolled{overflow:auto}.leaflet-oldie .leaflet-popup-content-wrapper{-ms-zoom:1}.leaflet-oldie .leaflet-popup-tip{width:24px;margin:0 auto;-ms-filter:"progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)";filter:progid:DXImageTransform.Microsoft.Matrix(M11=.70710678,M12=.70710678,M21=-.70710678,M22=.70710678)}.leaflet-oldie .leaflet-control-zoom,.leaflet-oldie .leaflet-control-layers,.leaflet-oldie .leaflet-popup-content-wrapper,.leaflet-oldie .leaflet-popup-tip{border:1px solid #999}.leaflet-div-icon{background:#fff;border:1px solid #666}.leaflet-tooltip{position:absolute;padding:6px;background-color:#fff;border:1px solid #fff;border-radius:3px;color:#222;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:none;box-shadow:0 1px 3px #0006}.leaflet-tooltip.leaflet-interactive{cursor:pointer;pointer-events:auto}.leaflet-tooltip-top:before,.leaflet-tooltip-bottom:before,.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{position:absolute;pointer-events:none;border:6px solid transparent;background:transparent;content:""}.leaflet-tooltip-bottom{margin-top:6px}.leaflet-tooltip-top{margin-top:-6px}.leaflet-tooltip-bottom:before,.leaflet-tooltip-top:before{left:50%;margin-left:-6px}.leaflet-tooltip-top:before{bottom:0;margin-bottom:-12px;border-top-color:#fff}.leaflet-tooltip-bottom:before{top:0;margin-top:-12px;margin-left:-6px;border-bottom-color:#fff}.leaflet-tooltip-left{margin-left:-6px}.leaflet-tooltip-right{margin-left:6px}.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{top:50%;margin-top:-6px}.leaflet-tooltip-left:before{right:0;margin-right:-12px;border-left-color:#fff}.leaflet-tooltip-right:before{left:0;margin-left:-12px;border-right-color:#fff}@media print{.leaflet-control{-webkit-print-color-adjust:exact;print-color-adjust:exact}}input[type=range]{-webkit-appearance:none;-webkit-tap-highlight-color:rgba(255,255,255,0);width:110px;height:10px;margin:0;border:none;padding:1px 2px;border-radius:30px;background:#f1f0ee;outline:none}input[type=range]::-ms-track{border:inherit;color:transparent;background:transparent}input[type=range]::-ms-fill-lower,input[type=range]::-ms-fill-upper{background:transparent}input[type=range]::-ms-tooltip{display:none}input[type=range]::-ms-thumb{width:15px;height:18px;border-radius:12px;border:0;background-image:linear-gradient(to bottom,#1253a4 0,#1253a4 100%)}.leaflet-control-layers-label{margin:0 0 8px 1px}@keyframes leaflet-gestures-fadein{0%{opacity:0}to{opacity:1}}.leaflet-container:after{animation:leaflet-gestures-fadein .8s backwards;color:#fff;font-family:Roboto,Arial,sans-serif;font-size:22px;justify-content:center;display:flex;align-items:center;padding:15px;position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:461;pointer-events:none}.leaflet-gesture-handling-touch-warning:after,.leaflet-gesture-handling-scroll-warning:after{animation:leaflet-gestures-fadein .8s forwards}.leaflet-gesture-handling-touch-warning:after{content:attr(data-gesture-handling-touch-content)}.leaflet-gesture-handling-scroll-warning:after{content:attr(data-gesture-handling-scroll-content)}:root,:host,.sl-theme-light{color-scheme:light;--sl-color-gray-50: hsl(0 0% 97.5%);--sl-color-gray-100: hsl(240 4.8% 95.9%);--sl-color-gray-200: hsl(240 5.9% 90%);--sl-color-gray-300: hsl(240 4.9% 83.9%);--sl-color-gray-400: hsl(240 5% 64.9%);--sl-color-gray-500: hsl(240 3.8% 46.1%);--sl-color-gray-600: hsl(240 5.2% 33.9%);--sl-color-gray-700: hsl(240 5.3% 26.1%);--sl-color-gray-800: hsl(240 3.7% 15.9%);--sl-color-gray-900: hsl(240 5.9% 10%);--sl-color-gray-950: hsl(240 7.3% 8%);--sl-color-red-50: hsl(0 85.7% 97.3%);--sl-color-red-100: hsl(0 93.3% 94.1%);--sl-color-red-200: hsl(0 96.3% 89.4%);--sl-color-red-300: hsl(0 93.5% 81.8%);--sl-color-red-400: hsl(0 90.6% 70.8%);--sl-color-red-500: hsl(0 84.2% 60.2%);--sl-color-red-600: hsl(0 72.2% 50.6%);--sl-color-red-700: hsl(0 73.7% 41.8%);--sl-color-red-800: hsl(0 70% 35.3%);--sl-color-red-900: hsl(0 62.8% 30.6%);--sl-color-red-950: hsl(0 60% 19.6%);--sl-color-orange-50: hsl(33.3 100% 96.5%);--sl-color-orange-100: hsl(34.3 100% 91.8%);--sl-color-orange-200: hsl(32.1 97.7% 83.1%);--sl-color-orange-300: hsl(30.7 97.2% 72.4%);--sl-color-orange-400: hsl(27 96% 61%);--sl-color-orange-500: hsl(24.6 95% 53.1%);--sl-color-orange-600: hsl(20.5 90.2% 48.2%);--sl-color-orange-700: hsl(17.5 88.3% 40.4%);--sl-color-orange-800: hsl(15 79.1% 33.7%);--sl-color-orange-900: hsl(15.3 74.6% 27.8%);--sl-color-orange-950: hsl(15.2 69.1% 19%);--sl-color-amber-50: hsl(48 100% 96.1%);--sl-color-amber-100: hsl(48 96.5% 88.8%);--sl-color-amber-200: hsl(48 96.6% 76.7%);--sl-color-amber-300: hsl(45.9 96.7% 64.5%);--sl-color-amber-400: hsl(43.3 96.4% 56.3%);--sl-color-amber-500: hsl(37.7 92.1% 50.2%);--sl-color-amber-600: hsl(32.1 94.6% 43.7%);--sl-color-amber-700: hsl(26 90.5% 37.1%);--sl-color-amber-800: hsl(22.7 82.5% 31.4%);--sl-color-amber-900: hsl(21.7 77.8% 26.5%);--sl-color-amber-950: hsl(22.9 74.1% 16.7%);--sl-color-yellow-50: hsl(54.5 91.7% 95.3%);--sl-color-yellow-100: hsl(54.9 96.7% 88%);--sl-color-yellow-200: hsl(52.8 98.3% 76.9%);--sl-color-yellow-300: hsl(50.4 97.8% 63.5%);--sl-color-yellow-400: hsl(47.9 95.8% 53.1%);--sl-color-yellow-500: hsl(45.4 93.4% 47.5%);--sl-color-yellow-600: hsl(40.6 96.1% 40.4%);--sl-color-yellow-700: hsl(35.5 91.7% 32.9%);--sl-color-yellow-800: hsl(31.8 81% 28.8%);--sl-color-yellow-900: hsl(28.4 72.5% 25.7%);--sl-color-yellow-950: hsl(33.1 69% 13.9%);--sl-color-lime-50: hsl(78.3 92% 95.1%);--sl-color-lime-100: hsl(79.6 89.1% 89.2%);--sl-color-lime-200: hsl(80.9 88.5% 79.6%);--sl-color-lime-300: hsl(82 84.5% 67.1%);--sl-color-lime-400: hsl(82.7 78% 55.5%);--sl-color-lime-500: hsl(83.7 80.5% 44.3%);--sl-color-lime-600: hsl(84.8 85.2% 34.5%);--sl-color-lime-700: hsl(85.9 78.4% 27.3%);--sl-color-lime-800: hsl(86.3 69% 22.7%);--sl-color-lime-900: hsl(87.6 61.2% 20.2%);--sl-color-lime-950: hsl(86.5 60.6% 13.9%);--sl-color-green-50: hsl(138.5 76.5% 96.7%);--sl-color-green-100: hsl(140.6 84.2% 92.5%);--sl-color-green-200: hsl(141 78.9% 85.1%);--sl-color-green-300: hsl(141.7 76.6% 73.1%);--sl-color-green-400: hsl(141.9 69.2% 58%);--sl-color-green-500: hsl(142.1 70.6% 45.3%);--sl-color-green-600: hsl(142.1 76.2% 36.3%);--sl-color-green-700: hsl(142.4 71.8% 29.2%);--sl-color-green-800: hsl(142.8 64.2% 24.1%);--sl-color-green-900: hsl(143.8 61.2% 20.2%);--sl-color-green-950: hsl(144.3 60.7% 12%);--sl-color-emerald-50: hsl(151.8 81% 95.9%);--sl-color-emerald-100: hsl(149.3 80.4% 90%);--sl-color-emerald-200: hsl(152.4 76% 80.4%);--sl-color-emerald-300: hsl(156.2 71.6% 66.9%);--sl-color-emerald-400: hsl(158.1 64.4% 51.6%);--sl-color-emerald-500: hsl(160.1 84.1% 39.4%);--sl-color-emerald-600: hsl(161.4 93.5% 30.4%);--sl-color-emerald-700: hsl(162.9 93.5% 24.3%);--sl-color-emerald-800: hsl(163.1 88.1% 19.8%);--sl-color-emerald-900: hsl(164.2 85.7% 16.5%);--sl-color-emerald-950: hsl(164.3 87.5% 9.4%);--sl-color-teal-50: hsl(166.2 76.5% 96.7%);--sl-color-teal-100: hsl(167.2 85.5% 89.2%);--sl-color-teal-200: hsl(168.4 83.8% 78.2%);--sl-color-teal-300: hsl(170.6 76.9% 64.3%);--sl-color-teal-400: hsl(172.5 66% 50.4%);--sl-color-teal-500: hsl(173.4 80.4% 40%);--sl-color-teal-600: hsl(174.7 83.9% 31.6%);--sl-color-teal-700: hsl(175.3 77.4% 26.1%);--sl-color-teal-800: hsl(176.1 69.4% 21.8%);--sl-color-teal-900: hsl(175.9 60.8% 19%);--sl-color-teal-950: hsl(176.5 58.6% 11.4%);--sl-color-cyan-50: hsl(183.2 100% 96.3%);--sl-color-cyan-100: hsl(185.1 95.9% 90.4%);--sl-color-cyan-200: hsl(186.2 93.5% 81.8%);--sl-color-cyan-300: hsl(187 92.4% 69%);--sl-color-cyan-400: hsl(187.9 85.7% 53.3%);--sl-color-cyan-500: hsl(188.7 94.5% 42.7%);--sl-color-cyan-600: hsl(191.6 91.4% 36.5%);--sl-color-cyan-700: hsl(192.9 82.3% 31%);--sl-color-cyan-800: hsl(194.4 69.6% 27.1%);--sl-color-cyan-900: hsl(196.4 63.6% 23.7%);--sl-color-cyan-950: hsl(196.8 61% 16.1%);--sl-color-sky-50: hsl(204 100% 97.1%);--sl-color-sky-100: hsl(204 93.8% 93.7%);--sl-color-sky-200: hsl(200.6 94.4% 86.1%);--sl-color-sky-300: hsl(199.4 95.5% 73.9%);--sl-color-sky-400: hsl(198.4 93.2% 59.6%);--sl-color-sky-500: hsl(198.6 88.7% 48.4%);--sl-color-sky-600: hsl(200.4 98% 39.4%);--sl-color-sky-700: hsl(201.3 96.3% 32.2%);--sl-color-sky-800: hsl(201 90% 27.5%);--sl-color-sky-900: hsl(202 80.3% 23.9%);--sl-color-sky-950: hsl(202.3 73.8% 16.5%);--sl-color-blue-50: hsl(213.8 100% 96.9%);--sl-color-blue-100: hsl(214.3 94.6% 92.7%);--sl-color-blue-200: hsl(213.3 96.9% 87.3%);--sl-color-blue-300: hsl(211.7 96.4% 78.4%);--sl-color-blue-400: hsl(213.1 93.9% 67.8%);--sl-color-blue-500: hsl(217.2 91.2% 59.8%);--sl-color-blue-600: hsl(221.2 83.2% 53.3%);--sl-color-blue-700: hsl(224.3 76.3% 48%);--sl-color-blue-800: hsl(225.9 70.7% 40.2%);--sl-color-blue-900: hsl(224.4 64.3% 32.9%);--sl-color-blue-950: hsl(226.2 55.3% 18.4%);--sl-color-indigo-50: hsl(225.9 100% 96.7%);--sl-color-indigo-100: hsl(226.5 100% 93.9%);--sl-color-indigo-200: hsl(228 96.5% 88.8%);--sl-color-indigo-300: hsl(229.7 93.5% 81.8%);--sl-color-indigo-400: hsl(234.5 89.5% 73.9%);--sl-color-indigo-500: hsl(238.7 83.5% 66.7%);--sl-color-indigo-600: hsl(243.4 75.4% 58.6%);--sl-color-indigo-700: hsl(244.5 57.9% 50.6%);--sl-color-indigo-800: hsl(243.7 54.5% 41.4%);--sl-color-indigo-900: hsl(242.2 47.4% 34.3%);--sl-color-indigo-950: hsl(243.5 43.6% 22.9%);--sl-color-violet-50: hsl(250 100% 97.6%);--sl-color-violet-100: hsl(251.4 91.3% 95.5%);--sl-color-violet-200: hsl(250.5 95.2% 91.8%);--sl-color-violet-300: hsl(252.5 94.7% 85.1%);--sl-color-violet-400: hsl(255.1 91.7% 76.3%);--sl-color-violet-500: hsl(258.3 89.5% 66.3%);--sl-color-violet-600: hsl(262.1 83.3% 57.8%);--sl-color-violet-700: hsl(263.4 70% 50.4%);--sl-color-violet-800: hsl(263.4 69.3% 42.2%);--sl-color-violet-900: hsl(263.5 67.4% 34.9%);--sl-color-violet-950: hsl(265.1 61.5% 21.4%);--sl-color-purple-50: hsl(270 100% 98%);--sl-color-purple-100: hsl(268.7 100% 95.5%);--sl-color-purple-200: hsl(268.6 100% 91.8%);--sl-color-purple-300: hsl(269.2 97.4% 85.1%);--sl-color-purple-400: hsl(270 95.2% 75.3%);--sl-color-purple-500: hsl(270.7 91% 65.1%);--sl-color-purple-600: hsl(271.5 81.3% 55.9%);--sl-color-purple-700: hsl(272.1 71.7% 47.1%);--sl-color-purple-800: hsl(272.9 67.2% 39.4%);--sl-color-purple-900: hsl(273.6 65.6% 32%);--sl-color-purple-950: hsl(276 59.5% 16.5%);--sl-color-fuchsia-50: hsl(289.1 100% 97.8%);--sl-color-fuchsia-100: hsl(287 100% 95.5%);--sl-color-fuchsia-200: hsl(288.3 95.8% 90.6%);--sl-color-fuchsia-300: hsl(291.1 93.1% 82.9%);--sl-color-fuchsia-400: hsl(292 91.4% 72.5%);--sl-color-fuchsia-500: hsl(292.2 84.1% 60.6%);--sl-color-fuchsia-600: hsl(293.4 69.5% 48.8%);--sl-color-fuchsia-700: hsl(294.7 72.4% 39.8%);--sl-color-fuchsia-800: hsl(295.4 70.2% 32.9%);--sl-color-fuchsia-900: hsl(296.7 63.6% 28%);--sl-color-fuchsia-950: hsl(297.1 56.8% 14.5%);--sl-color-pink-50: hsl(327.3 73.3% 97.1%);--sl-color-pink-100: hsl(325.7 77.8% 94.7%);--sl-color-pink-200: hsl(325.9 84.6% 89.8%);--sl-color-pink-300: hsl(327.4 87.1% 81.8%);--sl-color-pink-400: hsl(328.6 85.5% 70.2%);--sl-color-pink-500: hsl(330.4 81.2% 60.4%);--sl-color-pink-600: hsl(333.3 71.4% 50.6%);--sl-color-pink-700: hsl(335.1 77.6% 42%);--sl-color-pink-800: hsl(335.8 74.4% 35.3%);--sl-color-pink-900: hsl(335.9 69% 30.4%);--sl-color-pink-950: hsl(336.2 65.4% 15.9%);--sl-color-rose-50: hsl(355.7 100% 97.3%);--sl-color-rose-100: hsl(355.6 100% 94.7%);--sl-color-rose-200: hsl(352.7 96.1% 90%);--sl-color-rose-300: hsl(352.6 95.7% 81.8%);--sl-color-rose-400: hsl(351.3 94.5% 71.4%);--sl-color-rose-500: hsl(349.7 89.2% 60.2%);--sl-color-rose-600: hsl(346.8 77.2% 49.8%);--sl-color-rose-700: hsl(345.3 82.7% 40.8%);--sl-color-rose-800: hsl(343.4 79.7% 34.7%);--sl-color-rose-900: hsl(341.5 75.5% 30.4%);--sl-color-rose-950: hsl(341.3 70.1% 17.1%);--sl-color-primary-50: var(--sl-color-sky-50);--sl-color-primary-100: var(--sl-color-sky-100);--sl-color-primary-200: var(--sl-color-sky-200);--sl-color-primary-300: var(--sl-color-sky-300);--sl-color-primary-400: var(--sl-color-sky-400);--sl-color-primary-500: var(--sl-color-sky-500);--sl-color-primary-600: var(--sl-color-sky-600);--sl-color-primary-700: var(--sl-color-sky-700);--sl-color-primary-800: var(--sl-color-sky-800);--sl-color-primary-900: var(--sl-color-sky-900);--sl-color-primary-950: var(--sl-color-sky-950);--sl-color-success-50: var(--sl-color-green-50);--sl-color-success-100: var(--sl-color-green-100);--sl-color-success-200: var(--sl-color-green-200);--sl-color-success-300: var(--sl-color-green-300);--sl-color-success-400: var(--sl-color-green-400);--sl-color-success-500: var(--sl-color-green-500);--sl-color-success-600: var(--sl-color-green-600);--sl-color-success-700: var(--sl-color-green-700);--sl-color-success-800: var(--sl-color-green-800);--sl-color-success-900: var(--sl-color-green-900);--sl-color-success-950: var(--sl-color-green-950);--sl-color-warning-50: var(--sl-color-amber-50);--sl-color-warning-100: var(--sl-color-amber-100);--sl-color-warning-200: var(--sl-color-amber-200);--sl-color-warning-300: var(--sl-color-amber-300);--sl-color-warning-400: var(--sl-color-amber-400);--sl-color-warning-500: var(--sl-color-amber-500);--sl-color-warning-600: var(--sl-color-amber-600);--sl-color-warning-700: var(--sl-color-amber-700);--sl-color-warning-800: var(--sl-color-amber-800);--sl-color-warning-900: var(--sl-color-amber-900);--sl-color-warning-950: var(--sl-color-amber-950);--sl-color-danger-50: var(--sl-color-red-50);--sl-color-danger-100: var(--sl-color-red-100);--sl-color-danger-200: var(--sl-color-red-200);--sl-color-danger-300: var(--sl-color-red-300);--sl-color-danger-400: var(--sl-color-red-400);--sl-color-danger-500: var(--sl-color-red-500);--sl-color-danger-600: var(--sl-color-red-600);--sl-color-danger-700: var(--sl-color-red-700);--sl-color-danger-800: var(--sl-color-red-800);--sl-color-danger-900: var(--sl-color-red-900);--sl-color-danger-950: var(--sl-color-red-950);--sl-color-neutral-50: var(--sl-color-gray-50);--sl-color-neutral-100: var(--sl-color-gray-100);--sl-color-neutral-200: var(--sl-color-gray-200);--sl-color-neutral-300: var(--sl-color-gray-300);--sl-color-neutral-400: var(--sl-color-gray-400);--sl-color-neutral-500: var(--sl-color-gray-500);--sl-color-neutral-600: var(--sl-color-gray-600);--sl-color-neutral-700: var(--sl-color-gray-700);--sl-color-neutral-800: var(--sl-color-gray-800);--sl-color-neutral-900: var(--sl-color-gray-900);--sl-color-neutral-950: var(--sl-color-gray-950);--sl-color-neutral-0: hsl(0, 0%, 100%);--sl-color-neutral-1000: hsl(0, 0%, 0%);--sl-border-radius-small: .1875rem;--sl-border-radius-medium: .25rem;--sl-border-radius-large: .5rem;--sl-border-radius-x-large: 1rem;--sl-border-radius-circle: 50%;--sl-border-radius-pill: 9999px;--sl-shadow-x-small: 0 1px 2px hsl(240 3.8% 46.1% / 6%);--sl-shadow-small: 0 1px 2px hsl(240 3.8% 46.1% / 12%);--sl-shadow-medium: 0 2px 4px hsl(240 3.8% 46.1% / 12%);--sl-shadow-large: 0 2px 8px hsl(240 3.8% 46.1% / 12%);--sl-shadow-x-large: 0 4px 16px hsl(240 3.8% 46.1% / 12%);--sl-spacing-3x-small: .125rem;--sl-spacing-2x-small: .25rem;--sl-spacing-x-small: .5rem;--sl-spacing-small: .75rem;--sl-spacing-medium: 1rem;--sl-spacing-large: 1.25rem;--sl-spacing-x-large: 1.75rem;--sl-spacing-2x-large: 2.25rem;--sl-spacing-3x-large: 3rem;--sl-spacing-4x-large: 4.5rem;--sl-transition-x-slow: 1s;--sl-transition-slow: .5s;--sl-transition-medium: .25s;--sl-transition-fast: .15s;--sl-transition-x-fast: 50ms;--sl-font-mono: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;--sl-font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--sl-font-serif: Georgia, "Times New Roman", serif;--sl-font-size-2x-small: .625rem;--sl-font-size-x-small: .75rem;--sl-font-size-small: .875rem;--sl-font-size-medium: 1rem;--sl-font-size-large: 1.25rem;--sl-font-size-x-large: 1.5rem;--sl-font-size-2x-large: 2.25rem;--sl-font-size-3x-large: 3rem;--sl-font-size-4x-large: 4.5rem;--sl-font-weight-light: 300;--sl-font-weight-normal: 400;--sl-font-weight-semibold: 500;--sl-font-weight-bold: 700;--sl-letter-spacing-denser: -.03em;--sl-letter-spacing-dense: -.015em;--sl-letter-spacing-normal: normal;--sl-letter-spacing-loose: .075em;--sl-letter-spacing-looser: .15em;--sl-line-height-denser: 1;--sl-line-height-dense: 1.4;--sl-line-height-normal: 1.8;--sl-line-height-loose: 2.2;--sl-line-height-looser: 2.6;--sl-focus-ring-color: var(--sl-color-primary-600);--sl-focus-ring-style: solid;--sl-focus-ring-width: 3px;--sl-focus-ring: var(--sl-focus-ring-style) var(--sl-focus-ring-width) var(--sl-focus-ring-color);--sl-focus-ring-offset: 1px;--sl-button-font-size-small: var(--sl-font-size-x-small);--sl-button-font-size-medium: var(--sl-font-size-small);--sl-button-font-size-large: var(--sl-font-size-medium);--sl-input-height-small: 1.875rem;--sl-input-height-medium: 2.5rem;--sl-input-height-large: 3.125rem;--sl-input-background-color: var(--sl-color-neutral-0);--sl-input-background-color-hover: var(--sl-input-background-color);--sl-input-background-color-focus: var(--sl-input-background-color);--sl-input-background-color-disabled: var(--sl-color-neutral-100);--sl-input-border-color: var(--sl-color-neutral-300);--sl-input-border-color-hover: var(--sl-color-neutral-400);--sl-input-border-color-focus: var(--sl-color-primary-500);--sl-input-border-color-disabled: var(--sl-color-neutral-300);--sl-input-border-width: 1px;--sl-input-required-content: "*";--sl-input-required-content-offset: -2px;--sl-input-required-content-color: var(--sl-input-label-color);--sl-input-border-radius-small: var(--sl-border-radius-medium);--sl-input-border-radius-medium: var(--sl-border-radius-medium);--sl-input-border-radius-large: var(--sl-border-radius-medium);--sl-input-font-family: var(--sl-font-sans);--sl-input-font-weight: var(--sl-font-weight-normal);--sl-input-font-size-small: var(--sl-font-size-small);--sl-input-font-size-medium: var(--sl-font-size-medium);--sl-input-font-size-large: var(--sl-font-size-large);--sl-input-letter-spacing: var(--sl-letter-spacing-normal);--sl-input-color: var(--sl-color-neutral-700);--sl-input-color-hover: var(--sl-color-neutral-700);--sl-input-color-focus: var(--sl-color-neutral-700);--sl-input-color-disabled: var(--sl-color-neutral-900);--sl-input-icon-color: var(--sl-color-neutral-500);--sl-input-icon-color-hover: var(--sl-color-neutral-600);--sl-input-icon-color-focus: var(--sl-color-neutral-600);--sl-input-placeholder-color: var(--sl-color-neutral-500);--sl-input-placeholder-color-disabled: var(--sl-color-neutral-600);--sl-input-spacing-small: var(--sl-spacing-small);--sl-input-spacing-medium: var(--sl-spacing-medium);--sl-input-spacing-large: var(--sl-spacing-large);--sl-input-focus-ring-color: hsl(198.6 88.7% 48.4% / 40%);--sl-input-focus-ring-offset: 0;--sl-input-filled-background-color: var(--sl-color-neutral-100);--sl-input-filled-background-color-hover: var(--sl-color-neutral-100);--sl-input-filled-background-color-focus: var(--sl-color-neutral-100);--sl-input-filled-background-color-disabled: var(--sl-color-neutral-100);--sl-input-filled-color: var(--sl-color-neutral-800);--sl-input-filled-color-hover: var(--sl-color-neutral-800);--sl-input-filled-color-focus: var(--sl-color-neutral-700);--sl-input-filled-color-disabled: var(--sl-color-neutral-800);--sl-input-label-font-size-small: var(--sl-font-size-small);--sl-input-label-font-size-medium: var(--sl-font-size-medium);--sl-input-label-font-size-large: var(--sl-font-size-large);--sl-input-label-color: inherit;--sl-input-help-text-font-size-small: var(--sl-font-size-x-small);--sl-input-help-text-font-size-medium: var(--sl-font-size-small);--sl-input-help-text-font-size-large: var(--sl-font-size-medium);--sl-input-help-text-color: var(--sl-color-neutral-500);--sl-toggle-size-small: .875rem;--sl-toggle-size-medium: 1.125rem;--sl-toggle-size-large: 1.375rem;--sl-overlay-background-color: hsl(240 3.8% 46.1% / 33%);--sl-panel-background-color: var(--sl-color-neutral-0);--sl-panel-border-color: var(--sl-color-neutral-200);--sl-panel-border-width: 1px;--sl-tooltip-border-radius: var(--sl-border-radius-medium);--sl-tooltip-background-color: var(--sl-color-neutral-800);--sl-tooltip-color: var(--sl-color-neutral-0);--sl-tooltip-font-family: var(--sl-font-sans);--sl-tooltip-font-weight: var(--sl-font-weight-normal);--sl-tooltip-font-size: var(--sl-font-size-small);--sl-tooltip-line-height: var(--sl-line-height-dense);--sl-tooltip-padding: var(--sl-spacing-2x-small) var(--sl-spacing-x-small);--sl-tooltip-arrow-size: 6px;--sl-z-index-drawer: 700;--sl-z-index-dialog: 800;--sl-z-index-dropdown: 900;--sl-z-index-toast: 950;--sl-z-index-tooltip: 1000}@supports (scrollbar-gutter: stable){.sl-scroll-lock{scrollbar-gutter:stable!important;overflow:hidden!important}}@supports not (scrollbar-gutter: stable){.sl-scroll-lock{padding-right:var(--sl-scroll-lock-size)!important;overflow:hidden!important}}.sl-toast-stack{position:fixed;top:0;inset-inline-end:0;z-index:var(--sl-z-index-toast);width:28rem;max-width:100%;max-height:100%;overflow:auto}.sl-toast-stack sl-alert{margin:var(--sl-spacing-medium)}.sl-toast-stack sl-alert::part(base){box-shadow:var(--sl-shadow-large)}*{box-sizing:border-box}:host{display:flex;align-content:center;justify-content:center;position:relative;background-color:inherit}.content{width:100%;height:100%;margin:auto}#map{width:100%;height:100%}#caption{font-family:sans-serif;width:100%;white-space:nowrap;background-color:#555;color:#fff;padding:4px 6px;bottom:0;height:32px;text-overflow:ellipsis;overflow:hidden}#lat-lng-zoom{position:absolute;font-family:sans-serif;bottom:24px;right:0;width:150px;height:32px;padding:3px 6px;font-size:.8rem;background-color:#ffffff80;color:#000;z-index:2;opacity:0;text-align:right}#lat-lng-zoom:hover{visibility:visible;opacity:1;transition:all .3s ease-in;cursor:copy;z-index:1000}.card{display:grid;grid-template-columns:1fr;grid-template-rows:auto auto auto 1fr 0px;border-radius:4px;padding:0}.card p{border:none}.card-image{grid-area:1 / 1 / 2 / 2;width:100%;height:190px}.card-title{grid-area:2 / 1 / 3 / 2;font-weight:700;font-size:1.5rem;line-height:1;padding:1.3rem .5rem .2rem;text-decoration:none}.card-metadata{grid-area:3 / 1 / 4 / 2;list-style:none;padding:.2rem .5rem;margin:0;font-size:.9rem;font-weight:400}.card-abstract{grid-area:4 / 1 / 5 / 2;align-self:flex-end;height:110px;line-height:1.4;font-size:1rem;padding:.5rem .5rem 0;overflow:hidden;display:-webkit-box;-webkit-line-clamp:5;-webkit-box-orient:vertical;margin:0 0 .5rem}.leaflet-popup-content{width:280px;margin:0}.leaflet-control-layers-toggle{background-image:url(https://unpkg.com/leaflet@1.9.3/dist/images/layers.png)}.leaflet-retina .leaflet-control-layers-toggle{background-image:url(https://unpkg.com/leaflet@1.9.3/dist/images/layers-2x.png)}
`,Z7=Oa(V7,[["styles",[W7]]]),Y7=Qt("sl-button",{slot:"trigger"},[Qt("svg",{xmlns:"http://www.w3.org/2000/svg",slot:"prefix",width:"16",height:"16",fill:"currentColor",class:"bi bi-list",viewBox:"0 0 16 16"},[Qt("path",{"fill-rule":"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"})])],-1),X7=["onClick"],K7=["innerHTML"],J7=["innerHTML"],Q7={key:1,slot:"prefix",style:{width:"1em","margin-right":"1em"}},$7=Qt("span",null,"Download as PDF",-1),tH=Qt("img",{slot:"prefix",width:"16",src:"https://upload.wikimedia.org/wikipedia/commons/2/2a/Noun_Project_PDF_icon_117327_cc.svg",alt:"PDF Download Icon"},null,-1),eH=[$7,tH],rH={class:"hs-overlay-open:mt-7 hs-overlay-open:opacity-100 hs-overlay-open:duration-500 mt-0 opacity-0 ease-out transition-all sm:max-w-lg sm:w-full m-3 sm:mx-auto min-h-[calc(100%-3.5rem)] flex items-center"},iH={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},nH={class:"p-4 overflow-y-auto flex items-center gap-4 text-black"},oH=Qt("sl-spinner",{style:{"font-size":"3rem","--indicator-color":"deeppink","--track-color":"pink"}},null,-1),sH=["innerHTML"],aH=ms({__name:"Menu.ce",props:{contact:{type:String},pdfDownloadEnabled:{type:Boolean,default:!1}},setup(n){const r=n,t=Ne(null),o=Vr(()=>{var j,J;return(J=(j=t.value)==null?void 0:j.getRootNode())==null?void 0:J.host});ri(o,()=>{C()});const l=Ne(null),u=Vr(()=>l==null?void 0:l.value),d=Vr(()=>new mx(u.value)),f=Ne(null),m=Vr(()=>f==null?void 0:f.value),v=Ne("Generating PDF...");ri(m,j=>{d.value.init(),j.addEventListener("open.hs.overlay",J=>_.value=!0),j.addEventListener("close.hs.overlay",J=>_.value=!1)});const _=Ne(!1);ri(_,j=>{j?d.value.open(m.value):d.value.close(m.value)});const k=Ne([]);function C(){function j(){let J=Array.from(o.value.querySelectorAll("li")).map(H=>{var ht,ct;const V=H.querySelector("a");let ot=V.innerText.trim(),ft=(ht=H.querySelector("svg"))==null?void 0:ht.outerHTML;if(!ft){let Z=((ct=V.href.split("/").filter(lt=>lt).pop())==null?void 0:ct.toLowerCase())||"";Z=location.host===Z?"home":Z,U[Z]&&(ft=U[Z])}return{label:ot,icon:ft,href:V.href}});r.contact&&J.push({label:"Contact Us",icon:U.contact,href:"/contact"}),k.value=J}j(),new MutationObserver(J=>{for(let H of J)H.type==="childList"&&j()}).observe(o.value,{childList:!0,subtree:!0})}function M(j,J){var V;let H=j.href.split("/").filter(ot=>ot).pop().toLowerCase();if(H=location.host===H?"home":H,H==="contact")A();else{let ot=new URL(j.href);if(ot.origin===location.origin){let ht=`${((V=(window==null?void 0:window.config)||{})==null?void 0:V.baseurl)||""}${ot.pathname}`;location.pathname=ht}else location.href=j.href}}function A(){const j=r.contact,J=`${window.config.title} Contact`,V=`mailto:${j}?subject=${J}&body=`;window.open(V,"_blank")}async function F(){console.log(`Generating PDF for ${location.href}`),v.value="Generating PDF...",_.value=!_.value;let j=await fetch(`https://ezsitepdf-drnxe7pzjq-uc.a.run.app/pdf?url=${location.href}`);if(j.ok){v.value="Downloading PDF...";let J=await j.blob();const H=document.createElement("a");H.setAttribute("download","resume.pdf");const V=URL.createObjectURL(J);H.href=V,H.setAttribute("target","_blank"),H.click(),H.addEventListener,URL.revokeObjectURL(V)}setTimeout(()=>_.value=!1,2e3)}const U={home:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 576 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"/></svg>',about:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"/></svg>',contact:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"/></svg>'};return(j,J)=>(Oe(),De(on,null,[Qt("sl-dropdown",{ref_key:"root",ref:t},[Y7,Qt("sl-menu",null,[(Oe(!0),De(on,null,ah(k.value,H=>(Oe(),De("sl-menu-item",{onClick:V=>M(H)},[Qt("span",{innerHTML:H.label},null,8,K7),H.icon?(Oe(),De("svg",{key:0,slot:"prefix",innerHTML:H.icon},null,8,J7)):(Oe(),De("span",Q7))],8,X7))),256)),n.pdfDownloadEnabled?(Oe(),De("sl-menu-item",{key:0,onClick:F},eH)):gi("",!0)])],512),Qt("div",{ref_key:"overlayRef",ref:l},[Qt("div",{ref_key:"modalRef",ref:f,id:"hs-basic-modal",class:"hs-overlay hidden w-full h-full fixed top-0 start-0 z-[80] overflow-x-hidden overflow-y-auto pointer-events-none"},[Qt("div",rH,[Qt("div",iH,[Qt("div",nH,[oH,Qt("p",{innerHTML:v.value},null,8,sH)])])])],512)],512)],64))}}),lH=`:root,:host,.sl-theme-light{color-scheme:light;--sl-color-gray-50: hsl(0 0% 97.5%);--sl-color-gray-100: hsl(240 4.8% 95.9%);--sl-color-gray-200: hsl(240 5.9% 90%);--sl-color-gray-300: hsl(240 4.9% 83.9%);--sl-color-gray-400: hsl(240 5% 64.9%);--sl-color-gray-500: hsl(240 3.8% 46.1%);--sl-color-gray-600: hsl(240 5.2% 33.9%);--sl-color-gray-700: hsl(240 5.3% 26.1%);--sl-color-gray-800: hsl(240 3.7% 15.9%);--sl-color-gray-900: hsl(240 5.9% 10%);--sl-color-gray-950: hsl(240 7.3% 8%);--sl-color-red-50: hsl(0 85.7% 97.3%);--sl-color-red-100: hsl(0 93.3% 94.1%);--sl-color-red-200: hsl(0 96.3% 89.4%);--sl-color-red-300: hsl(0 93.5% 81.8%);--sl-color-red-400: hsl(0 90.6% 70.8%);--sl-color-red-500: hsl(0 84.2% 60.2%);--sl-color-red-600: hsl(0 72.2% 50.6%);--sl-color-red-700: hsl(0 73.7% 41.8%);--sl-color-red-800: hsl(0 70% 35.3%);--sl-color-red-900: hsl(0 62.8% 30.6%);--sl-color-red-950: hsl(0 60% 19.6%);--sl-color-orange-50: hsl(33.3 100% 96.5%);--sl-color-orange-100: hsl(34.3 100% 91.8%);--sl-color-orange-200: hsl(32.1 97.7% 83.1%);--sl-color-orange-300: hsl(30.7 97.2% 72.4%);--sl-color-orange-400: hsl(27 96% 61%);--sl-color-orange-500: hsl(24.6 95% 53.1%);--sl-color-orange-600: hsl(20.5 90.2% 48.2%);--sl-color-orange-700: hsl(17.5 88.3% 40.4%);--sl-color-orange-800: hsl(15 79.1% 33.7%);--sl-color-orange-900: hsl(15.3 74.6% 27.8%);--sl-color-orange-950: hsl(15.2 69.1% 19%);--sl-color-amber-50: hsl(48 100% 96.1%);--sl-color-amber-100: hsl(48 96.5% 88.8%);--sl-color-amber-200: hsl(48 96.6% 76.7%);--sl-color-amber-300: hsl(45.9 96.7% 64.5%);--sl-color-amber-400: hsl(43.3 96.4% 56.3%);--sl-color-amber-500: hsl(37.7 92.1% 50.2%);--sl-color-amber-600: hsl(32.1 94.6% 43.7%);--sl-color-amber-700: hsl(26 90.5% 37.1%);--sl-color-amber-800: hsl(22.7 82.5% 31.4%);--sl-color-amber-900: hsl(21.7 77.8% 26.5%);--sl-color-amber-950: hsl(22.9 74.1% 16.7%);--sl-color-yellow-50: hsl(54.5 91.7% 95.3%);--sl-color-yellow-100: hsl(54.9 96.7% 88%);--sl-color-yellow-200: hsl(52.8 98.3% 76.9%);--sl-color-yellow-300: hsl(50.4 97.8% 63.5%);--sl-color-yellow-400: hsl(47.9 95.8% 53.1%);--sl-color-yellow-500: hsl(45.4 93.4% 47.5%);--sl-color-yellow-600: hsl(40.6 96.1% 40.4%);--sl-color-yellow-700: hsl(35.5 91.7% 32.9%);--sl-color-yellow-800: hsl(31.8 81% 28.8%);--sl-color-yellow-900: hsl(28.4 72.5% 25.7%);--sl-color-yellow-950: hsl(33.1 69% 13.9%);--sl-color-lime-50: hsl(78.3 92% 95.1%);--sl-color-lime-100: hsl(79.6 89.1% 89.2%);--sl-color-lime-200: hsl(80.9 88.5% 79.6%);--sl-color-lime-300: hsl(82 84.5% 67.1%);--sl-color-lime-400: hsl(82.7 78% 55.5%);--sl-color-lime-500: hsl(83.7 80.5% 44.3%);--sl-color-lime-600: hsl(84.8 85.2% 34.5%);--sl-color-lime-700: hsl(85.9 78.4% 27.3%);--sl-color-lime-800: hsl(86.3 69% 22.7%);--sl-color-lime-900: hsl(87.6 61.2% 20.2%);--sl-color-lime-950: hsl(86.5 60.6% 13.9%);--sl-color-green-50: hsl(138.5 76.5% 96.7%);--sl-color-green-100: hsl(140.6 84.2% 92.5%);--sl-color-green-200: hsl(141 78.9% 85.1%);--sl-color-green-300: hsl(141.7 76.6% 73.1%);--sl-color-green-400: hsl(141.9 69.2% 58%);--sl-color-green-500: hsl(142.1 70.6% 45.3%);--sl-color-green-600: hsl(142.1 76.2% 36.3%);--sl-color-green-700: hsl(142.4 71.8% 29.2%);--sl-color-green-800: hsl(142.8 64.2% 24.1%);--sl-color-green-900: hsl(143.8 61.2% 20.2%);--sl-color-green-950: hsl(144.3 60.7% 12%);--sl-color-emerald-50: hsl(151.8 81% 95.9%);--sl-color-emerald-100: hsl(149.3 80.4% 90%);--sl-color-emerald-200: hsl(152.4 76% 80.4%);--sl-color-emerald-300: hsl(156.2 71.6% 66.9%);--sl-color-emerald-400: hsl(158.1 64.4% 51.6%);--sl-color-emerald-500: hsl(160.1 84.1% 39.4%);--sl-color-emerald-600: hsl(161.4 93.5% 30.4%);--sl-color-emerald-700: hsl(162.9 93.5% 24.3%);--sl-color-emerald-800: hsl(163.1 88.1% 19.8%);--sl-color-emerald-900: hsl(164.2 85.7% 16.5%);--sl-color-emerald-950: hsl(164.3 87.5% 9.4%);--sl-color-teal-50: hsl(166.2 76.5% 96.7%);--sl-color-teal-100: hsl(167.2 85.5% 89.2%);--sl-color-teal-200: hsl(168.4 83.8% 78.2%);--sl-color-teal-300: hsl(170.6 76.9% 64.3%);--sl-color-teal-400: hsl(172.5 66% 50.4%);--sl-color-teal-500: hsl(173.4 80.4% 40%);--sl-color-teal-600: hsl(174.7 83.9% 31.6%);--sl-color-teal-700: hsl(175.3 77.4% 26.1%);--sl-color-teal-800: hsl(176.1 69.4% 21.8%);--sl-color-teal-900: hsl(175.9 60.8% 19%);--sl-color-teal-950: hsl(176.5 58.6% 11.4%);--sl-color-cyan-50: hsl(183.2 100% 96.3%);--sl-color-cyan-100: hsl(185.1 95.9% 90.4%);--sl-color-cyan-200: hsl(186.2 93.5% 81.8%);--sl-color-cyan-300: hsl(187 92.4% 69%);--sl-color-cyan-400: hsl(187.9 85.7% 53.3%);--sl-color-cyan-500: hsl(188.7 94.5% 42.7%);--sl-color-cyan-600: hsl(191.6 91.4% 36.5%);--sl-color-cyan-700: hsl(192.9 82.3% 31%);--sl-color-cyan-800: hsl(194.4 69.6% 27.1%);--sl-color-cyan-900: hsl(196.4 63.6% 23.7%);--sl-color-cyan-950: hsl(196.8 61% 16.1%);--sl-color-sky-50: hsl(204 100% 97.1%);--sl-color-sky-100: hsl(204 93.8% 93.7%);--sl-color-sky-200: hsl(200.6 94.4% 86.1%);--sl-color-sky-300: hsl(199.4 95.5% 73.9%);--sl-color-sky-400: hsl(198.4 93.2% 59.6%);--sl-color-sky-500: hsl(198.6 88.7% 48.4%);--sl-color-sky-600: hsl(200.4 98% 39.4%);--sl-color-sky-700: hsl(201.3 96.3% 32.2%);--sl-color-sky-800: hsl(201 90% 27.5%);--sl-color-sky-900: hsl(202 80.3% 23.9%);--sl-color-sky-950: hsl(202.3 73.8% 16.5%);--sl-color-blue-50: hsl(213.8 100% 96.9%);--sl-color-blue-100: hsl(214.3 94.6% 92.7%);--sl-color-blue-200: hsl(213.3 96.9% 87.3%);--sl-color-blue-300: hsl(211.7 96.4% 78.4%);--sl-color-blue-400: hsl(213.1 93.9% 67.8%);--sl-color-blue-500: hsl(217.2 91.2% 59.8%);--sl-color-blue-600: hsl(221.2 83.2% 53.3%);--sl-color-blue-700: hsl(224.3 76.3% 48%);--sl-color-blue-800: hsl(225.9 70.7% 40.2%);--sl-color-blue-900: hsl(224.4 64.3% 32.9%);--sl-color-blue-950: hsl(226.2 55.3% 18.4%);--sl-color-indigo-50: hsl(225.9 100% 96.7%);--sl-color-indigo-100: hsl(226.5 100% 93.9%);--sl-color-indigo-200: hsl(228 96.5% 88.8%);--sl-color-indigo-300: hsl(229.7 93.5% 81.8%);--sl-color-indigo-400: hsl(234.5 89.5% 73.9%);--sl-color-indigo-500: hsl(238.7 83.5% 66.7%);--sl-color-indigo-600: hsl(243.4 75.4% 58.6%);--sl-color-indigo-700: hsl(244.5 57.9% 50.6%);--sl-color-indigo-800: hsl(243.7 54.5% 41.4%);--sl-color-indigo-900: hsl(242.2 47.4% 34.3%);--sl-color-indigo-950: hsl(243.5 43.6% 22.9%);--sl-color-violet-50: hsl(250 100% 97.6%);--sl-color-violet-100: hsl(251.4 91.3% 95.5%);--sl-color-violet-200: hsl(250.5 95.2% 91.8%);--sl-color-violet-300: hsl(252.5 94.7% 85.1%);--sl-color-violet-400: hsl(255.1 91.7% 76.3%);--sl-color-violet-500: hsl(258.3 89.5% 66.3%);--sl-color-violet-600: hsl(262.1 83.3% 57.8%);--sl-color-violet-700: hsl(263.4 70% 50.4%);--sl-color-violet-800: hsl(263.4 69.3% 42.2%);--sl-color-violet-900: hsl(263.5 67.4% 34.9%);--sl-color-violet-950: hsl(265.1 61.5% 21.4%);--sl-color-purple-50: hsl(270 100% 98%);--sl-color-purple-100: hsl(268.7 100% 95.5%);--sl-color-purple-200: hsl(268.6 100% 91.8%);--sl-color-purple-300: hsl(269.2 97.4% 85.1%);--sl-color-purple-400: hsl(270 95.2% 75.3%);--sl-color-purple-500: hsl(270.7 91% 65.1%);--sl-color-purple-600: hsl(271.5 81.3% 55.9%);--sl-color-purple-700: hsl(272.1 71.7% 47.1%);--sl-color-purple-800: hsl(272.9 67.2% 39.4%);--sl-color-purple-900: hsl(273.6 65.6% 32%);--sl-color-purple-950: hsl(276 59.5% 16.5%);--sl-color-fuchsia-50: hsl(289.1 100% 97.8%);--sl-color-fuchsia-100: hsl(287 100% 95.5%);--sl-color-fuchsia-200: hsl(288.3 95.8% 90.6%);--sl-color-fuchsia-300: hsl(291.1 93.1% 82.9%);--sl-color-fuchsia-400: hsl(292 91.4% 72.5%);--sl-color-fuchsia-500: hsl(292.2 84.1% 60.6%);--sl-color-fuchsia-600: hsl(293.4 69.5% 48.8%);--sl-color-fuchsia-700: hsl(294.7 72.4% 39.8%);--sl-color-fuchsia-800: hsl(295.4 70.2% 32.9%);--sl-color-fuchsia-900: hsl(296.7 63.6% 28%);--sl-color-fuchsia-950: hsl(297.1 56.8% 14.5%);--sl-color-pink-50: hsl(327.3 73.3% 97.1%);--sl-color-pink-100: hsl(325.7 77.8% 94.7%);--sl-color-pink-200: hsl(325.9 84.6% 89.8%);--sl-color-pink-300: hsl(327.4 87.1% 81.8%);--sl-color-pink-400: hsl(328.6 85.5% 70.2%);--sl-color-pink-500: hsl(330.4 81.2% 60.4%);--sl-color-pink-600: hsl(333.3 71.4% 50.6%);--sl-color-pink-700: hsl(335.1 77.6% 42%);--sl-color-pink-800: hsl(335.8 74.4% 35.3%);--sl-color-pink-900: hsl(335.9 69% 30.4%);--sl-color-pink-950: hsl(336.2 65.4% 15.9%);--sl-color-rose-50: hsl(355.7 100% 97.3%);--sl-color-rose-100: hsl(355.6 100% 94.7%);--sl-color-rose-200: hsl(352.7 96.1% 90%);--sl-color-rose-300: hsl(352.6 95.7% 81.8%);--sl-color-rose-400: hsl(351.3 94.5% 71.4%);--sl-color-rose-500: hsl(349.7 89.2% 60.2%);--sl-color-rose-600: hsl(346.8 77.2% 49.8%);--sl-color-rose-700: hsl(345.3 82.7% 40.8%);--sl-color-rose-800: hsl(343.4 79.7% 34.7%);--sl-color-rose-900: hsl(341.5 75.5% 30.4%);--sl-color-rose-950: hsl(341.3 70.1% 17.1%);--sl-color-primary-50: var(--sl-color-sky-50);--sl-color-primary-100: var(--sl-color-sky-100);--sl-color-primary-200: var(--sl-color-sky-200);--sl-color-primary-300: var(--sl-color-sky-300);--sl-color-primary-400: var(--sl-color-sky-400);--sl-color-primary-500: var(--sl-color-sky-500);--sl-color-primary-600: var(--sl-color-sky-600);--sl-color-primary-700: var(--sl-color-sky-700);--sl-color-primary-800: var(--sl-color-sky-800);--sl-color-primary-900: var(--sl-color-sky-900);--sl-color-primary-950: var(--sl-color-sky-950);--sl-color-success-50: var(--sl-color-green-50);--sl-color-success-100: var(--sl-color-green-100);--sl-color-success-200: var(--sl-color-green-200);--sl-color-success-300: var(--sl-color-green-300);--sl-color-success-400: var(--sl-color-green-400);--sl-color-success-500: var(--sl-color-green-500);--sl-color-success-600: var(--sl-color-green-600);--sl-color-success-700: var(--sl-color-green-700);--sl-color-success-800: var(--sl-color-green-800);--sl-color-success-900: var(--sl-color-green-900);--sl-color-success-950: var(--sl-color-green-950);--sl-color-warning-50: var(--sl-color-amber-50);--sl-color-warning-100: var(--sl-color-amber-100);--sl-color-warning-200: var(--sl-color-amber-200);--sl-color-warning-300: var(--sl-color-amber-300);--sl-color-warning-400: var(--sl-color-amber-400);--sl-color-warning-500: var(--sl-color-amber-500);--sl-color-warning-600: var(--sl-color-amber-600);--sl-color-warning-700: var(--sl-color-amber-700);--sl-color-warning-800: var(--sl-color-amber-800);--sl-color-warning-900: var(--sl-color-amber-900);--sl-color-warning-950: var(--sl-color-amber-950);--sl-color-danger-50: var(--sl-color-red-50);--sl-color-danger-100: var(--sl-color-red-100);--sl-color-danger-200: var(--sl-color-red-200);--sl-color-danger-300: var(--sl-color-red-300);--sl-color-danger-400: var(--sl-color-red-400);--sl-color-danger-500: var(--sl-color-red-500);--sl-color-danger-600: var(--sl-color-red-600);--sl-color-danger-700: var(--sl-color-red-700);--sl-color-danger-800: var(--sl-color-red-800);--sl-color-danger-900: var(--sl-color-red-900);--sl-color-danger-950: var(--sl-color-red-950);--sl-color-neutral-50: var(--sl-color-gray-50);--sl-color-neutral-100: var(--sl-color-gray-100);--sl-color-neutral-200: var(--sl-color-gray-200);--sl-color-neutral-300: var(--sl-color-gray-300);--sl-color-neutral-400: var(--sl-color-gray-400);--sl-color-neutral-500: var(--sl-color-gray-500);--sl-color-neutral-600: var(--sl-color-gray-600);--sl-color-neutral-700: var(--sl-color-gray-700);--sl-color-neutral-800: var(--sl-color-gray-800);--sl-color-neutral-900: var(--sl-color-gray-900);--sl-color-neutral-950: var(--sl-color-gray-950);--sl-color-neutral-0: hsl(0, 0%, 100%);--sl-color-neutral-1000: hsl(0, 0%, 0%);--sl-border-radius-small: .1875rem;--sl-border-radius-medium: .25rem;--sl-border-radius-large: .5rem;--sl-border-radius-x-large: 1rem;--sl-border-radius-circle: 50%;--sl-border-radius-pill: 9999px;--sl-shadow-x-small: 0 1px 2px hsl(240 3.8% 46.1% / 6%);--sl-shadow-small: 0 1px 2px hsl(240 3.8% 46.1% / 12%);--sl-shadow-medium: 0 2px 4px hsl(240 3.8% 46.1% / 12%);--sl-shadow-large: 0 2px 8px hsl(240 3.8% 46.1% / 12%);--sl-shadow-x-large: 0 4px 16px hsl(240 3.8% 46.1% / 12%);--sl-spacing-3x-small: .125rem;--sl-spacing-2x-small: .25rem;--sl-spacing-x-small: .5rem;--sl-spacing-small: .75rem;--sl-spacing-medium: 1rem;--sl-spacing-large: 1.25rem;--sl-spacing-x-large: 1.75rem;--sl-spacing-2x-large: 2.25rem;--sl-spacing-3x-large: 3rem;--sl-spacing-4x-large: 4.5rem;--sl-transition-x-slow: 1s;--sl-transition-slow: .5s;--sl-transition-medium: .25s;--sl-transition-fast: .15s;--sl-transition-x-fast: 50ms;--sl-font-mono: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;--sl-font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--sl-font-serif: Georgia, "Times New Roman", serif;--sl-font-size-2x-small: .625rem;--sl-font-size-x-small: .75rem;--sl-font-size-small: .875rem;--sl-font-size-medium: 1rem;--sl-font-size-large: 1.25rem;--sl-font-size-x-large: 1.5rem;--sl-font-size-2x-large: 2.25rem;--sl-font-size-3x-large: 3rem;--sl-font-size-4x-large: 4.5rem;--sl-font-weight-light: 300;--sl-font-weight-normal: 400;--sl-font-weight-semibold: 500;--sl-font-weight-bold: 700;--sl-letter-spacing-denser: -.03em;--sl-letter-spacing-dense: -.015em;--sl-letter-spacing-normal: normal;--sl-letter-spacing-loose: .075em;--sl-letter-spacing-looser: .15em;--sl-line-height-denser: 1;--sl-line-height-dense: 1.4;--sl-line-height-normal: 1.8;--sl-line-height-loose: 2.2;--sl-line-height-looser: 2.6;--sl-focus-ring-color: var(--sl-color-primary-600);--sl-focus-ring-style: solid;--sl-focus-ring-width: 3px;--sl-focus-ring: var(--sl-focus-ring-style) var(--sl-focus-ring-width) var(--sl-focus-ring-color);--sl-focus-ring-offset: 1px;--sl-button-font-size-small: var(--sl-font-size-x-small);--sl-button-font-size-medium: var(--sl-font-size-small);--sl-button-font-size-large: var(--sl-font-size-medium);--sl-input-height-small: 1.875rem;--sl-input-height-medium: 2.5rem;--sl-input-height-large: 3.125rem;--sl-input-background-color: var(--sl-color-neutral-0);--sl-input-background-color-hover: var(--sl-input-background-color);--sl-input-background-color-focus: var(--sl-input-background-color);--sl-input-background-color-disabled: var(--sl-color-neutral-100);--sl-input-border-color: var(--sl-color-neutral-300);--sl-input-border-color-hover: var(--sl-color-neutral-400);--sl-input-border-color-focus: var(--sl-color-primary-500);--sl-input-border-color-disabled: var(--sl-color-neutral-300);--sl-input-border-width: 1px;--sl-input-required-content: "*";--sl-input-required-content-offset: -2px;--sl-input-required-content-color: var(--sl-input-label-color);--sl-input-border-radius-small: var(--sl-border-radius-medium);--sl-input-border-radius-medium: var(--sl-border-radius-medium);--sl-input-border-radius-large: var(--sl-border-radius-medium);--sl-input-font-family: var(--sl-font-sans);--sl-input-font-weight: var(--sl-font-weight-normal);--sl-input-font-size-small: var(--sl-font-size-small);--sl-input-font-size-medium: var(--sl-font-size-medium);--sl-input-font-size-large: var(--sl-font-size-large);--sl-input-letter-spacing: var(--sl-letter-spacing-normal);--sl-input-color: var(--sl-color-neutral-700);--sl-input-color-hover: var(--sl-color-neutral-700);--sl-input-color-focus: var(--sl-color-neutral-700);--sl-input-color-disabled: var(--sl-color-neutral-900);--sl-input-icon-color: var(--sl-color-neutral-500);--sl-input-icon-color-hover: var(--sl-color-neutral-600);--sl-input-icon-color-focus: var(--sl-color-neutral-600);--sl-input-placeholder-color: var(--sl-color-neutral-500);--sl-input-placeholder-color-disabled: var(--sl-color-neutral-600);--sl-input-spacing-small: var(--sl-spacing-small);--sl-input-spacing-medium: var(--sl-spacing-medium);--sl-input-spacing-large: var(--sl-spacing-large);--sl-input-focus-ring-color: hsl(198.6 88.7% 48.4% / 40%);--sl-input-focus-ring-offset: 0;--sl-input-filled-background-color: var(--sl-color-neutral-100);--sl-input-filled-background-color-hover: var(--sl-color-neutral-100);--sl-input-filled-background-color-focus: var(--sl-color-neutral-100);--sl-input-filled-background-color-disabled: var(--sl-color-neutral-100);--sl-input-filled-color: var(--sl-color-neutral-800);--sl-input-filled-color-hover: var(--sl-color-neutral-800);--sl-input-filled-color-focus: var(--sl-color-neutral-700);--sl-input-filled-color-disabled: var(--sl-color-neutral-800);--sl-input-label-font-size-small: var(--sl-font-size-small);--sl-input-label-font-size-medium: var(--sl-font-size-medium);--sl-input-label-font-size-large: var(--sl-font-size-large);--sl-input-label-color: inherit;--sl-input-help-text-font-size-small: var(--sl-font-size-x-small);--sl-input-help-text-font-size-medium: var(--sl-font-size-small);--sl-input-help-text-font-size-large: var(--sl-font-size-medium);--sl-input-help-text-color: var(--sl-color-neutral-500);--sl-toggle-size-small: .875rem;--sl-toggle-size-medium: 1.125rem;--sl-toggle-size-large: 1.375rem;--sl-overlay-background-color: hsl(240 3.8% 46.1% / 33%);--sl-panel-background-color: var(--sl-color-neutral-0);--sl-panel-border-color: var(--sl-color-neutral-200);--sl-panel-border-width: 1px;--sl-tooltip-border-radius: var(--sl-border-radius-medium);--sl-tooltip-background-color: var(--sl-color-neutral-800);--sl-tooltip-color: var(--sl-color-neutral-0);--sl-tooltip-font-family: var(--sl-font-sans);--sl-tooltip-font-weight: var(--sl-font-weight-normal);--sl-tooltip-font-size: var(--sl-font-size-small);--sl-tooltip-line-height: var(--sl-line-height-dense);--sl-tooltip-padding: var(--sl-spacing-2x-small) var(--sl-spacing-x-small);--sl-tooltip-arrow-size: 6px;--sl-z-index-drawer: 700;--sl-z-index-dialog: 800;--sl-z-index-dropdown: 900;--sl-z-index-toast: 950;--sl-z-index-tooltip: 1000}@supports (scrollbar-gutter: stable){.sl-scroll-lock{scrollbar-gutter:stable!important;overflow:hidden!important}}@supports not (scrollbar-gutter: stable){.sl-scroll-lock{padding-right:var(--sl-scroll-lock-size)!important;overflow:hidden!important}}.sl-toast-stack{position:fixed;top:0;inset-inline-end:0;z-index:var(--sl-z-index-toast);width:28rem;max-width:100%;max-height:100%;overflow:auto}.sl-toast-stack sl-alert{margin:var(--sl-spacing-medium)}.sl-toast-stack sl-alert::part(base){box-shadow:var(--sl-shadow-large)}*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}ez-header ul,ez-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}sl-menu-item svg{width:1em;height:1em;vertical-align:middle;margin-right:1em}
`,cH=Oa(aH,[["styles",[lH]]]),uH=ms({__name:"Meta.ce",props:{title:{type:String},description:{type:String},author:{type:String},viewport:{type:String},robots:{type:String}},setup(n){return()=>{}}}),hH={class:"hs-overlay-open:mt-7 hs-overlay-open:opacity-100 hs-overlay-open:duration-500 mt-0 opacity-0 ease-out transition-all sm:max-w-lg sm:w-full m-3 sm:mx-auto min-h-[calc(100%-3.5rem)] flex items-center"},dH={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},pH={class:"p-4 overflow-y-auto"},fH={class:"mt-1 text-gray-800 dark:text-gray-400"},gH=ms({__name:"Modal.ce",props:{open:{type:Boolean,default:!1}},setup(n){const r=n,t=Ne(null),o=Ne(null),l=Vr(()=>{var v,_;return(_=(v=t.value)==null?void 0:v.getRootNode())==null?void 0:_.host}),u=Vr(()=>t==null?void 0:t.value),d=Vr(()=>o==null?void 0:o.value),f=Vr(()=>new mx(u.value));ri(d,()=>{f.value.init(),d.value.addEventListener("open.hs.overlay",v=>m.value=!0),d.value.addEventListener("close.hs.overlay",v=>m.value=!1)});const m=Ne(!1);return ri(m,v=>{v?(f.value.open(d.value),l.value.setAttribute("open","")):(f.value.close(d.value),l.value.removeAttribute("open"))}),ri(r,()=>{m.value=r.open}),hu(()=>{m.value=r.open}),(v,_)=>(Oe(),De("div",{ref_key:"overlayRef",ref:t},[Qt("div",{ref_key:"modalRef",ref:o,id:"hs-basic-modal",class:"hs-overlay hidden w-full h-full fixed top-0 start-0 z-[80] overflow-x-hidden overflow-y-auto pointer-events-none"},[Qt("div",hH,[Qt("div",dH,[Qt("div",pH,[Qt("p",fH,[xR(v.$slots,"default")])])])])],512)],512))}}),mH=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}ez-header ul,ez-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}
`,vH=Oa(gH,[["styles",[mH]]]),yH=Qt("input",{class:"search-btn",type:"checkbox",id:"search-btn"},null,-1),bH={class:"wrapper"},wH={class:"search-form"},xH={class:"input-wrapper relative"},_H=Qt("path",{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"},null,-1),kH=[_H],EH={key:0,class:"search-results"},TH=["href"],SH=["innerHTML"],CH=["innerHTML"],PH={key:0},MH=Qt("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 512 512",fill:"#fff"},[Qt("path",{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"})],-1),IH=[MH],LH="https://www.googleapis.com/customsearch/v1",RH=ms({__name:"SiteSearch.ce",props:{searchDomain:{type:String},searchKey:{type:String},searchCx:{type:String}},setup(n){const r=n,t=Ne(U(r.searchDomain||"",r.searchKey||"")),o=Ne(null),l=Vr(()=>{var j;return(j=o==null?void 0:o.value)==null?void 0:j.parentNode}),u=Ne(),d=Ne(),f=Ne(""),m=Ne([]),v=Ne(0),_=Ne(!1);hu(()=>C());function k(j){console.log("open",j),j.preventDefault(),_.value=!0}function C(){var j,J;u.value=(j=l.value)==null?void 0:j.querySelector("#search-input"),u.value.value="",d.value=(J=l.value)==null?void 0:J.querySelector("#search-btn"),m.value=[]}ri(_,()=>{var j;d.value&&(d.value.checked=_.value),_&&((j=u.value)==null||j.focus())});function M(){var ot;let j=(ot=u.value)==null?void 0:ot.value.replace(/ /,"%20"),J={q:j,start:j===f.value?m.value.length+1:1,key:t.value,cx:r.searchCx},H=Object.keys(J).map(ft=>`${ft}=${J[ft]}`).join("&"),V=`${LH}?${H}`;fetch(V).then(ft=>ft.json()).then(ft=>{v.value=parseInt(ft.searchInformation.totalResults);let ht=ft.items.map(ct=>{var lt;let Z=new URL(ct.link);return ct.link=`${location.origin}${((lt=window.config)==null?void 0:lt.baseurl)||""}${Z.pathname}`,ct});m.value=j!==f.value?ht:[...m.value,...ht],f.value=j||""})}function A(j){j.key==="Enter"&&M()}function F(j){j.preventDefault(),j.stopPropagation(),_.value=!1,u.value&&(u.value.value=""),f.value="",v.value=0,m.value=[]}function U(j,J){const H=ht=>ht.split("").map(ct=>ct.charCodeAt(0)),V=ht=>H(j).reduce((ct,Z)=>ct^Z,ht);let ot=J.match(/.{1,2}/g);return ot?ot.map(ht=>parseInt(ht,16)).map(V).map(ht=>String.fromCharCode(ht)).join(""):""}return(j,J)=>(Oe(),De("div",{ref_key:"root",ref:o,class:"search"},[yH,Qt("div",bH,[Qt("div",wH,[Qt("div",xH,[Qt("input",{type:"text",id:"search-input",class:"search-input",onKeyup:A,autocomplete:"off",role:"textbox",placeholder:"Search site"},null,32)]),(Oe(),De("svg",{onClick:F,class:"absolute top-[12px] right-[10px] z-10 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 384 512",fill:"#000"},kH))]),m.value.length>0?(Oe(),De("ul",EH,[(Oe(!0),De(on,null,ah(m.value,(H,V)=>(Oe(),De("li",{key:`sr=${V}`},[Qt("a",{href:H.link},[Qt("h3",{innerHTML:H.htmlTitle},null,8,SH),Qt("p",{innerHTML:H.htmlSnippet},null,8,CH)],8,TH)]))),128)),v.value>m.value.length?(Oe(),De("li",PH,[Qt("div",{class:"more",onClick:M},"More")])):gi("",!0)])):gi("",!0)]),Qt("label",{class:"search-icon",htmlFor:"search-btn"},[Qt("span",{onClick:k},IH)])],512))}}),AH=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}ez-header ul,ez-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}*{box-sizing:border-box}.search-icon{color:#fff;font-size:28px}.search-icon:hover{cursor:pointer}.search{position:relative;display:flex;align-items:center;gap:10px}.search-btn,.search-form,.wrapper{display:none}.wrapper{flex-direction:column;position:absolute;right:-4px}.search-form{display:flex;align-items:center}.search-input{height:42px;width:250px;border-radius:6px;padding:3px 10px;font-size:1rem;color:#000}.search-submit{background-color:#fff;border-radius:6px;padding:8px 8px 4px;height:24px;z-index:4}.search-submit:hover{background-color:#ddd;cursor:pointer}.search-results{position:absolute;top:42px;left:0;width:326px;max-height:50vh;overflow-y:scroll;z-index:2;background-color:#fff;margin:0 0 0 2px;list-style:none;padding:6px;border-radius:6px;font-size:.9rem;box-shadow:0 6px 20px #00000030}.search-results li:nth-of-type(2n){background-color:#e6e6df}.search-results li{padding:6px;margin:3px;border:1px solid #E6E6DF}.search-results li h3,.search-results li p{margin:8px 0}.search-results li a{text-decoration:none;color:#444}.search-results li a h3{font-weight:700}.search-results li a p{font-weight:300}.search-results li:hover{cursor:pointer;box-shadow:0 4px 8px #0003}.search-btn:checked~.wrapper .search-form{display:flex;width:100%}.search-btn:checked~.wrapper{display:flex}.input-wrapper{display:inline-block;position:relative}
`,OH=Oa(RH,[["styles",[AH]]]);JI(()=>import("./preline-7d6f83a6.js").then(n=>n.p),[]);function zH(){customElements.define("ez-breadcrumbs",Us(L5)),customElements.define("ez-entity-infobox",Us(Qz)),customElements.define("ez-footer",Us(kN)),customElements.define("ez-header",Us(DD)),customElements.define("ez-image",Us(ZD)),customElements.define("ez-manifest",Us(G4)),customElements.define("ez-manifest-popup",Us(Q4)),customElements.define("ez-map",Us(Z7)),customElements.define("ez-menu",Us(cH)),customElements.define("ez-meta",Us(uH)),customElements.define("ez-modal",Us(vH)),customElements.define("ez-site-search",Us(OH))}console.log("mdpress: version=0.1.0");zH();export{zC as g};
