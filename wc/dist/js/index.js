var nL=Object.defineProperty;var oL=(n,r,t)=>r in n?nL(n,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[r]=t;var li=(n,r,t)=>(oL(n,typeof r!="symbol"?r+"":r,t),t),sL=(n,r,t)=>{if(!r.has(n))throw TypeError("Cannot "+t)};var cw=(n,r,t)=>{if(r.has(n))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(n):r.set(n,t)};var D0=(n,r,t)=>(sL(n,r,"access private method"),t);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function t(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=t(l);fetch(l.href,u)}})();const aL="modulepreload",lL=function(n){return"/mdpress/mdpress/dist/"+n},I2={},cL=function(r,t,o){if(!t||t.length===0)return r();const l=document.getElementsByTagName("link");return Promise.all(t.map(u=>{if(u=lL(u),u in I2)return;I2[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(!!o)for(let _=l.length-1;_>=0;_--){const k=l[_];if(k.href===u&&(!d||k.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const v=document.createElement("link");if(v.rel=d?"stylesheet":aL,d||(v.as="script",v.crossOrigin=""),v.href=u,document.head.appendChild(v),d)return new Promise((_,k)=>{v.addEventListener("load",_),v.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${u}`)))})})).then(()=>r()).catch(u=>{const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u})};function F1(n,r){const t=Object.create(null),o=n.split(",");for(let l=0;l<o.length;l++)t[o[l]]=!0;return r?l=>!!t[l.toLowerCase()]:l=>!!t[l]}const Di={},np=[],La=()=>{},uL=()=>!1,hL=/^on[^a-z]/,dy=n=>hL.test(n),B1=n=>n.startsWith("onUpdate:"),Mn=Object.assign,j1=(n,r)=>{const t=n.indexOf(r);t>-1&&n.splice(t,1)},dL=Object.prototype.hasOwnProperty,si=(n,r)=>dL.call(n,r),nr=Array.isArray,op=n=>py(n)==="[object Map]",VT=n=>py(n)==="[object Set]",Zr=n=>typeof n=="function",In=n=>typeof n=="string",H1=n=>typeof n=="symbol",Yi=n=>n!==null&&typeof n=="object",WT=n=>Yi(n)&&Zr(n.then)&&Zr(n.catch),ZT=Object.prototype.toString,py=n=>ZT.call(n),pL=n=>py(n).slice(8,-1),YT=n=>py(n)==="[object Object]",U1=n=>In(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,dv=F1(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),fy=n=>{const r=Object.create(null);return t=>r[t]||(r[t]=n(t))},fL=/-(\w)/g,ic=fy(n=>n.replace(fL,(r,t)=>t?t.toUpperCase():"")),gL=/\B([A-Z])/g,Sa=fy(n=>n.replace(gL,"-$1").toLowerCase()),XT=fy(n=>n.charAt(0).toUpperCase()+n.slice(1)),uw=fy(n=>n?`on${XT(n)}`:""),Tg=(n,r)=>!Object.is(n,r),hw=(n,r)=>{for(let t=0;t<n.length;t++)n[t](r)},Sv=(n,r,t)=>{Object.defineProperty(n,r,{configurable:!0,enumerable:!1,value:t})},mL=n=>{const r=parseFloat(n);return isNaN(r)?n:r},L2=n=>{const r=In(n)?Number(n):NaN;return isNaN(r)?n:r};let R2;const Yw=()=>R2||(R2=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function au(n){if(nr(n)){const r={};for(let t=0;t<n.length;t++){const o=n[t],l=In(o)?wL(o):au(o);if(l)for(const u in l)r[u]=l[u]}return r}else{if(In(n))return n;if(Yi(n))return n}}const vL=/;(?![^(]*\))/g,yL=/:([^]+)/,bL=/\/\*[^]*?\*\//g;function wL(n){const r={};return n.replace(bL,"").split(vL).forEach(t=>{if(t){const o=t.split(yL);o.length>1&&(r[o[0].trim()]=o[1].trim())}}),r}function em(n){let r="";if(In(n))r=n;else if(nr(n))for(let t=0;t<n.length;t++){const o=em(n[t]);o&&(r+=o+" ")}else if(Yi(n))for(const t in n)n[t]&&(r+=t+" ");return r.trim()}const xL="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",_L=F1(xL);function KT(n){return!!n||n===""}const lu=n=>In(n)?n:n==null?"":nr(n)||Yi(n)&&(n.toString===ZT||!Zr(n.toString))?JSON.stringify(n,JT,2):String(n),JT=(n,r)=>r&&r.__v_isRef?JT(n,r.value):op(r)?{[`Map(${r.size})`]:[...r.entries()].reduce((t,[o,l])=>(t[`${o} =>`]=l,t),{})}:VT(r)?{[`Set(${r.size})`]:[...r.values()]}:Yi(r)&&!nr(r)&&!YT(r)?String(r):r;let Ta;class kL{constructor(r=!1){this.detached=r,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ta,!r&&Ta&&(this.index=(Ta.scopes||(Ta.scopes=[])).push(this)-1)}get active(){return this._active}run(r){if(this._active){const t=Ta;try{return Ta=this,r()}finally{Ta=t}}}on(){Ta=this}off(){Ta=this.parent}stop(r){if(this._active){let t,o;for(t=0,o=this.effects.length;t<o;t++)this.effects[t].stop();for(t=0,o=this.cleanups.length;t<o;t++)this.cleanups[t]();if(this.scopes)for(t=0,o=this.scopes.length;t<o;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!r){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.parent=void 0,this._active=!1}}}function EL(n,r=Ta){r&&r.active&&r.effects.push(n)}function TL(){return Ta}const G1=n=>{const r=new Set(n);return r.w=0,r.n=0,r},QT=n=>(n.w&cu)>0,$T=n=>(n.n&cu)>0,SL=({deps:n})=>{if(n.length)for(let r=0;r<n.length;r++)n[r].w|=cu},CL=n=>{const{deps:r}=n;if(r.length){let t=0;for(let o=0;o<r.length;o++){const l=r[o];QT(l)&&!$T(l)?l.delete(n):r[t++]=l,l.w&=~cu,l.n&=~cu}r.length=t}},Xw=new WeakMap;let sg=0,cu=1;const Kw=30;let Ca;const mh=Symbol(""),Jw=Symbol("");class q1{constructor(r,t=null,o){this.fn=r,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,EL(this,o)}run(){if(!this.active)return this.fn();let r=Ca,t=ru;for(;r;){if(r===this)return;r=r.parent}try{return this.parent=Ca,Ca=this,ru=!0,cu=1<<++sg,sg<=Kw?SL(this):A2(this),this.fn()}finally{sg<=Kw&&CL(this),cu=1<<--sg,Ca=this.parent,ru=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ca===this?this.deferStop=!0:this.active&&(A2(this),this.onStop&&this.onStop(),this.active=!1)}}function A2(n){const{deps:r}=n;if(r.length){for(let t=0;t<r.length;t++)r[t].delete(n);r.length=0}}let ru=!0;const tS=[];function Cp(){tS.push(ru),ru=!1}function Pp(){const n=tS.pop();ru=n===void 0?!0:n}function $o(n,r,t){if(ru&&Ca){let o=Xw.get(n);o||Xw.set(n,o=new Map);let l=o.get(t);l||o.set(t,l=G1()),eS(l)}}function eS(n,r){let t=!1;sg<=Kw?$T(n)||(n.n|=cu,t=!QT(n)):t=!n.has(Ca),t&&(n.add(Ca),Ca.deps.push(n))}function sc(n,r,t,o,l,u){const d=Xw.get(n);if(!d)return;let f=[];if(r==="clear")f=[...d.values()];else if(t==="length"&&nr(n)){const m=Number(o);d.forEach((v,_)=>{(_==="length"||_>=m)&&f.push(v)})}else switch(t!==void 0&&f.push(d.get(t)),r){case"add":nr(n)?U1(t)&&f.push(d.get("length")):(f.push(d.get(mh)),op(n)&&f.push(d.get(Jw)));break;case"delete":nr(n)||(f.push(d.get(mh)),op(n)&&f.push(d.get(Jw)));break;case"set":op(n)&&f.push(d.get(mh));break}if(f.length===1)f[0]&&Qw(f[0]);else{const m=[];for(const v of f)v&&m.push(...v);Qw(G1(m))}}function Qw(n,r){const t=nr(n)?n:[...n];for(const o of t)o.computed&&O2(o);for(const o of t)o.computed||O2(o)}function O2(n,r){(n!==Ca||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const PL=F1("__proto__,__v_isRef,__isVue"),rS=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(H1)),ML=V1(),IL=V1(!1,!0),LL=V1(!0),z2=RL();function RL(){const n={};return["includes","indexOf","lastIndexOf"].forEach(r=>{n[r]=function(...t){const o=ii(this);for(let u=0,d=this.length;u<d;u++)$o(o,"get",u+"");const l=o[r](...t);return l===-1||l===!1?o[r](...t.map(ii)):l}}),["push","pop","shift","unshift","splice"].forEach(r=>{n[r]=function(...t){Cp();const o=ii(this)[r].apply(this,t);return Pp(),o}}),n}function AL(n){const r=ii(this);return $o(r,"has",n),r.hasOwnProperty(n)}function V1(n=!1,r=!1){return function(o,l,u){if(l==="__v_isReactive")return!n;if(l==="__v_isReadonly")return n;if(l==="__v_isShallow")return r;if(l==="__v_raw"&&u===(n?r?XL:aS:r?sS:oS).get(o))return o;const d=nr(o);if(!n){if(d&&si(z2,l))return Reflect.get(z2,l,u);if(l==="hasOwnProperty")return AL}const f=Reflect.get(o,l,u);return(H1(l)?rS.has(l):PL(l))||(n||$o(o,"get",l),r)?f:fo(f)?d&&U1(l)?f:f.value:Yi(f)?n?lS(f):Y1(f):f}}const OL=iS(),zL=iS(!0);function iS(n=!1){return function(t,o,l,u){let d=t[o];if(up(d)&&fo(d)&&!fo(l))return!1;if(!n&&(!Cv(l)&&!up(l)&&(d=ii(d),l=ii(l)),!nr(t)&&fo(d)&&!fo(l)))return d.value=l,!0;const f=nr(t)&&U1(o)?Number(o)<t.length:si(t,o),m=Reflect.set(t,o,l,u);return t===ii(u)&&(f?Tg(l,d)&&sc(t,"set",o,l):sc(t,"add",o,l)),m}}function NL(n,r){const t=si(n,r);n[r];const o=Reflect.deleteProperty(n,r);return o&&t&&sc(n,"delete",r,void 0),o}function DL(n,r){const t=Reflect.has(n,r);return(!H1(r)||!rS.has(r))&&$o(n,"has",r),t}function FL(n){return $o(n,"iterate",nr(n)?"length":mh),Reflect.ownKeys(n)}const nS={get:ML,set:OL,deleteProperty:NL,has:DL,ownKeys:FL},BL={get:LL,set(n,r){return!0},deleteProperty(n,r){return!0}},jL=Mn({},nS,{get:IL,set:zL}),W1=n=>n,gy=n=>Reflect.getPrototypeOf(n);function F0(n,r,t=!1,o=!1){n=n.__v_raw;const l=ii(n),u=ii(r);t||(r!==u&&$o(l,"get",r),$o(l,"get",u));const{has:d}=gy(l),f=o?W1:t?K1:Sg;if(d.call(l,r))return f(n.get(r));if(d.call(l,u))return f(n.get(u));n!==l&&n.get(r)}function B0(n,r=!1){const t=this.__v_raw,o=ii(t),l=ii(n);return r||(n!==l&&$o(o,"has",n),$o(o,"has",l)),n===l?t.has(n):t.has(n)||t.has(l)}function j0(n,r=!1){return n=n.__v_raw,!r&&$o(ii(n),"iterate",mh),Reflect.get(n,"size",n)}function N2(n){n=ii(n);const r=ii(this);return gy(r).has.call(r,n)||(r.add(n),sc(r,"add",n,n)),this}function D2(n,r){r=ii(r);const t=ii(this),{has:o,get:l}=gy(t);let u=o.call(t,n);u||(n=ii(n),u=o.call(t,n));const d=l.call(t,n);return t.set(n,r),u?Tg(r,d)&&sc(t,"set",n,r):sc(t,"add",n,r),this}function F2(n){const r=ii(this),{has:t,get:o}=gy(r);let l=t.call(r,n);l||(n=ii(n),l=t.call(r,n)),o&&o.call(r,n);const u=r.delete(n);return l&&sc(r,"delete",n,void 0),u}function B2(){const n=ii(this),r=n.size!==0,t=n.clear();return r&&sc(n,"clear",void 0,void 0),t}function H0(n,r){return function(o,l){const u=this,d=u.__v_raw,f=ii(d),m=r?W1:n?K1:Sg;return!n&&$o(f,"iterate",mh),d.forEach((v,_)=>o.call(l,m(v),m(_),u))}}function U0(n,r,t){return function(...o){const l=this.__v_raw,u=ii(l),d=op(u),f=n==="entries"||n===Symbol.iterator&&d,m=n==="keys"&&d,v=l[n](...o),_=t?W1:r?K1:Sg;return!r&&$o(u,"iterate",m?Jw:mh),{next(){const{value:k,done:C}=v.next();return C?{value:k,done:C}:{value:f?[_(k[0]),_(k[1])]:_(k),done:C}},[Symbol.iterator](){return this}}}}function Jc(n){return function(...r){return n==="delete"?!1:this}}function HL(){const n={get(u){return F0(this,u)},get size(){return j0(this)},has:B0,add:N2,set:D2,delete:F2,clear:B2,forEach:H0(!1,!1)},r={get(u){return F0(this,u,!1,!0)},get size(){return j0(this)},has:B0,add:N2,set:D2,delete:F2,clear:B2,forEach:H0(!1,!0)},t={get(u){return F0(this,u,!0)},get size(){return j0(this,!0)},has(u){return B0.call(this,u,!0)},add:Jc("add"),set:Jc("set"),delete:Jc("delete"),clear:Jc("clear"),forEach:H0(!0,!1)},o={get(u){return F0(this,u,!0,!0)},get size(){return j0(this,!0)},has(u){return B0.call(this,u,!0)},add:Jc("add"),set:Jc("set"),delete:Jc("delete"),clear:Jc("clear"),forEach:H0(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{n[u]=U0(u,!1,!1),t[u]=U0(u,!0,!1),r[u]=U0(u,!1,!0),o[u]=U0(u,!0,!0)}),[n,t,r,o]}const[UL,GL,qL,VL]=HL();function Z1(n,r){const t=r?n?VL:qL:n?GL:UL;return(o,l,u)=>l==="__v_isReactive"?!n:l==="__v_isReadonly"?n:l==="__v_raw"?o:Reflect.get(si(t,l)&&l in o?t:o,l,u)}const WL={get:Z1(!1,!1)},ZL={get:Z1(!1,!0)},YL={get:Z1(!0,!1)},oS=new WeakMap,sS=new WeakMap,aS=new WeakMap,XL=new WeakMap;function KL(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function JL(n){return n.__v_skip||!Object.isExtensible(n)?0:KL(pL(n))}function Y1(n){return up(n)?n:X1(n,!1,nS,WL,oS)}function QL(n){return X1(n,!1,jL,ZL,sS)}function lS(n){return X1(n,!0,BL,YL,aS)}function X1(n,r,t,o,l){if(!Yi(n)||n.__v_raw&&!(r&&n.__v_isReactive))return n;const u=l.get(n);if(u)return u;const d=JL(n);if(d===0)return n;const f=new Proxy(n,d===2?o:t);return l.set(n,f),f}function sp(n){return up(n)?sp(n.__v_raw):!!(n&&n.__v_isReactive)}function up(n){return!!(n&&n.__v_isReadonly)}function Cv(n){return!!(n&&n.__v_isShallow)}function cS(n){return sp(n)||up(n)}function ii(n){const r=n&&n.__v_raw;return r?ii(r):n}function uS(n){return Sv(n,"__v_skip",!0),n}const Sg=n=>Yi(n)?Y1(n):n,K1=n=>Yi(n)?lS(n):n;function hS(n){ru&&Ca&&(n=ii(n),eS(n.dep||(n.dep=G1())))}function dS(n,r){n=ii(n);const t=n.dep;t&&Qw(t)}function fo(n){return!!(n&&n.__v_isRef===!0)}function he(n){return $L(n,!1)}function $L(n,r){return fo(n)?n:new t5(n,r)}class t5{constructor(r,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?r:ii(r),this._value=t?r:Sg(r)}get value(){return hS(this),this._value}set value(r){const t=this.__v_isShallow||Cv(r)||up(r);r=t?r:ii(r),Tg(r,this._rawValue)&&(this._rawValue=r,this._value=t?r:Sg(r),dS(this))}}function e5(n){return fo(n)?n.value:n}const r5={get:(n,r,t)=>e5(Reflect.get(n,r,t)),set:(n,r,t,o)=>{const l=n[r];return fo(l)&&!fo(t)?(l.value=t,!0):Reflect.set(n,r,t,o)}};function pS(n){return sp(n)?n:new Proxy(n,r5)}class i5{constructor(r,t,o,l){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new q1(r,()=>{this._dirty||(this._dirty=!0,dS(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!l,this.__v_isReadonly=o}get value(){const r=ii(this);return hS(r),(r._dirty||!r._cacheable)&&(r._dirty=!1,r._value=r.effect.run()),r._value}set value(r){this._setter(r)}}function n5(n,r,t=!1){let o,l;const u=Zr(n);return u?(o=n,l=La):(o=n.get,l=n.set),new i5(o,l,u||!l,t)}function iu(n,r,t,o){let l;try{l=o?n(...o):n()}catch(u){my(u,r,t)}return l}function Ra(n,r,t,o){if(Zr(n)){const u=iu(n,r,t,o);return u&&WT(u)&&u.catch(d=>{my(d,r,t)}),u}const l=[];for(let u=0;u<n.length;u++)l.push(Ra(n[u],r,t,o));return l}function my(n,r,t,o=!0){const l=r?r.vnode:null;if(r){let u=r.parent;const d=r.proxy,f=t;for(;u;){const v=u.ec;if(v){for(let _=0;_<v.length;_++)if(v[_](n,d,f)===!1)return}u=u.parent}const m=r.appContext.config.errorHandler;if(m){iu(m,null,10,[n,d,f]);return}}o5(n,t,l,o)}function o5(n,r,t,o=!0){console.error(n)}let Cg=!1,$w=!1;const ho=[];let ll=0;const ap=[];let Ql=null,dh=0;const fS=Promise.resolve();let J1=null;function Q1(n){const r=J1||fS;return n?r.then(this?n.bind(this):n):r}function s5(n){let r=ll+1,t=ho.length;for(;r<t;){const o=r+t>>>1;Pg(ho[o])<n?r=o+1:t=o}return r}function $1(n){(!ho.length||!ho.includes(n,Cg&&n.allowRecurse?ll+1:ll))&&(n.id==null?ho.push(n):ho.splice(s5(n.id),0,n),gS())}function gS(){!Cg&&!$w&&($w=!0,J1=fS.then(vS))}function a5(n){const r=ho.indexOf(n);r>ll&&ho.splice(r,1)}function l5(n){nr(n)?ap.push(...n):(!Ql||!Ql.includes(n,n.allowRecurse?dh+1:dh))&&ap.push(n),gS()}function j2(n,r=Cg?ll+1:0){for(;r<ho.length;r++){const t=ho[r];t&&t.pre&&(ho.splice(r,1),r--,t())}}function mS(n){if(ap.length){const r=[...new Set(ap)];if(ap.length=0,Ql){Ql.push(...r);return}for(Ql=r,Ql.sort((t,o)=>Pg(t)-Pg(o)),dh=0;dh<Ql.length;dh++)Ql[dh]();Ql=null,dh=0}}const Pg=n=>n.id==null?1/0:n.id,c5=(n,r)=>{const t=Pg(n)-Pg(r);if(t===0){if(n.pre&&!r.pre)return-1;if(r.pre&&!n.pre)return 1}return t};function vS(n){$w=!1,Cg=!0,ho.sort(c5);const r=La;try{for(ll=0;ll<ho.length;ll++){const t=ho[ll];t&&t.active!==!1&&iu(t,null,14)}}finally{ll=0,ho.length=0,mS(),Cg=!1,J1=null,(ho.length||ap.length)&&vS()}}function u5(n,r,...t){if(n.isUnmounted)return;const o=n.vnode.props||Di;let l=t;const u=r.startsWith("update:"),d=u&&r.slice(7);if(d&&d in o){const _=`${d==="modelValue"?"model":d}Modifiers`,{number:k,trim:C}=o[_]||Di;C&&(l=t.map(M=>In(M)?M.trim():M)),k&&(l=t.map(mL))}let f,m=o[f=uw(r)]||o[f=uw(ic(r))];!m&&u&&(m=o[f=uw(Sa(r))]),m&&Ra(m,n,6,l);const v=o[f+"Once"];if(v){if(!n.emitted)n.emitted={};else if(n.emitted[f])return;n.emitted[f]=!0,Ra(v,n,6,l)}}function yS(n,r,t=!1){const o=r.emitsCache,l=o.get(n);if(l!==void 0)return l;const u=n.emits;let d={},f=!1;if(!Zr(n)){const m=v=>{const _=yS(v,r,!0);_&&(f=!0,Mn(d,_))};!t&&r.mixins.length&&r.mixins.forEach(m),n.extends&&m(n.extends),n.mixins&&n.mixins.forEach(m)}return!u&&!f?(Yi(n)&&o.set(n,null),null):(nr(u)?u.forEach(m=>d[m]=null):Mn(d,u),Yi(n)&&o.set(n,d),d)}function vy(n,r){return!n||!dy(r)?!1:(r=r.slice(2).replace(/Once$/,""),si(n,r[0].toLowerCase()+r.slice(1))||si(n,Sa(r))||si(n,r))}let Xo=null,yy=null;function Pv(n){const r=Xo;return Xo=n,yy=n&&n.type.__scopeId||null,r}function h5(n){yy=n}function d5(){yy=null}function p5(n,r=Xo,t){if(!r||n._n)return n;const o=(...l)=>{o._d&&K2(-1);const u=Pv(r);let d;try{d=n(...l)}finally{Pv(u),o._d&&K2(1)}return d};return o._n=!0,o._c=!0,o._d=!0,o}function dw(n){const{type:r,vnode:t,proxy:o,withProxy:l,props:u,propsOptions:[d],slots:f,attrs:m,emit:v,render:_,renderCache:k,data:C,setupState:M,ctx:I,inheritAttrs:F}=n;let H,U;const J=Pv(n);try{if(t.shapeFlag&4){const Z=l||o;H=al(_.call(Z,Z,k,u,M,C,I)),U=m}else{const Z=r;H=al(Z.length>1?Z(u,{attrs:m,slots:f,emit:v}):Z(u,null)),U=r.props?m:f5(m)}}catch(Z){gg.length=0,my(Z,n,1),H=Aa(uu)}let G=H;if(U&&F!==!1){const Z=Object.keys(U),{shapeFlag:at}=G;Z.length&&at&7&&(d&&Z.some(B1)&&(U=g5(U,d)),G=hp(G,U))}return t.dirs&&(G=hp(G),G.dirs=G.dirs?G.dirs.concat(t.dirs):t.dirs),t.transition&&(G.transition=t.transition),H=G,Pv(J),H}const f5=n=>{let r;for(const t in n)(t==="class"||t==="style"||dy(t))&&((r||(r={}))[t]=n[t]);return r},g5=(n,r)=>{const t={};for(const o in n)(!B1(o)||!(o.slice(9)in r))&&(t[o]=n[o]);return t};function m5(n,r,t){const{props:o,children:l,component:u}=n,{props:d,children:f,patchFlag:m}=r,v=u.emitsOptions;if(r.dirs||r.transition)return!0;if(t&&m>=0){if(m&1024)return!0;if(m&16)return o?H2(o,d,v):!!d;if(m&8){const _=r.dynamicProps;for(let k=0;k<_.length;k++){const C=_[k];if(d[C]!==o[C]&&!vy(v,C))return!0}}}else return(l||f)&&(!f||!f.$stable)?!0:o===d?!1:o?d?H2(o,d,v):!0:!!d;return!1}function H2(n,r,t){const o=Object.keys(r);if(o.length!==Object.keys(n).length)return!0;for(let l=0;l<o.length;l++){const u=o[l];if(r[u]!==n[u]&&!vy(t,u))return!0}return!1}function v5({vnode:n,parent:r},t){for(;r&&r.subTree===n;)(n=r.vnode).el=t,r=r.parent}const y5=n=>n.__isSuspense;function b5(n,r){r&&r.pendingBranch?nr(n)?r.effects.push(...n):r.effects.push(n):l5(n)}const G0={};function qe(n,r,t){return bS(n,r,t)}function bS(n,r,{immediate:t,deep:o,flush:l,onTrack:u,onTrigger:d}=Di){var f;const m=TL()===((f=po)==null?void 0:f.scope)?po:null;let v,_=!1,k=!1;if(fo(n)?(v=()=>n.value,_=Cv(n)):sp(n)?(v=()=>n,o=!0):nr(n)?(k=!0,_=n.some(Z=>sp(Z)||Cv(Z)),v=()=>n.map(Z=>{if(fo(Z))return Z.value;if(sp(Z))return $d(Z);if(Zr(Z))return iu(Z,m,2)})):Zr(n)?r?v=()=>iu(n,m,2):v=()=>{if(!(m&&m.isUnmounted))return C&&C(),Ra(n,m,3,[M])}:v=La,r&&o){const Z=v;v=()=>$d(Z())}let C,M=Z=>{C=J.onStop=()=>{iu(Z,m,4)}},I;if(Ig)if(M=La,r?t&&Ra(r,m,3,[v(),k?[]:void 0,M]):v(),l==="sync"){const Z=dR();I=Z.__watcherHandles||(Z.__watcherHandles=[])}else return La;let F=k?new Array(n.length).fill(G0):G0;const H=()=>{if(J.active)if(r){const Z=J.run();(o||_||(k?Z.some((at,mt)=>Tg(at,F[mt])):Tg(Z,F)))&&(C&&C(),Ra(r,m,3,[Z,F===G0?void 0:k&&F[0]===G0?[]:F,M]),F=Z)}else J.run()};H.allowRecurse=!!r;let U;l==="sync"?U=H:l==="post"?U=()=>Wo(H,m&&m.suspense):(H.pre=!0,m&&(H.id=m.uid),U=()=>$1(H));const J=new q1(v,U);r?t?H():F=J.run():l==="post"?Wo(J.run.bind(J),m&&m.suspense):J.run();const G=()=>{J.stop(),m&&m.scope&&j1(m.scope.effects,J)};return I&&I.push(G),G}function w5(n,r,t){const o=this.proxy,l=In(n)?n.includes(".")?wS(o,n):()=>o[n]:n.bind(o,o);let u;Zr(r)?u=r:(u=r.handler,t=r);const d=po;dp(this);const f=bS(l,u.bind(o),t);return d?dp(d):vh(),f}function wS(n,r){const t=r.split(".");return()=>{let o=n;for(let l=0;l<t.length&&o;l++)o=o[t[l]];return o}}function $d(n,r){if(!Yi(n)||n.__v_skip||(r=r||new Set,r.has(n)))return n;if(r.add(n),fo(n))$d(n.value,r);else if(nr(n))for(let t=0;t<n.length;t++)$d(n[t],r);else if(VT(n)||op(n))n.forEach(t=>{$d(t,r)});else if(YT(n))for(const t in n)$d(n[t],r);return n}function ch(n,r,t,o){const l=n.dirs,u=r&&r.dirs;for(let d=0;d<l.length;d++){const f=l[d];u&&(f.oldValue=u[d].value);let m=f.dir[o];m&&(Cp(),Ra(m,t,8,[n.el,f,n,r]),Pp())}}function vo(n,r){return Zr(n)?(()=>Mn({name:n.name},r,{setup:n}))():n}const pg=n=>!!n.type.__asyncLoader,xS=n=>n.type.__isKeepAlive;function x5(n,r){_S(n,"a",r)}function _5(n,r){_S(n,"da",r)}function _S(n,r,t=po){const o=n.__wdc||(n.__wdc=()=>{let l=t;for(;l;){if(l.isDeactivated)return;l=l.parent}return n()});if(by(r,o,t),t){let l=t.parent;for(;l&&l.parent;)xS(l.parent.vnode)&&k5(o,r,t,l),l=l.parent}}function k5(n,r,t,o){const l=by(r,n,o,!0);kS(()=>{j1(o[r],l)},t)}function by(n,r,t=po,o=!1){if(t){const l=t[n]||(t[n]=[]),u=r.__weh||(r.__weh=(...d)=>{if(t.isUnmounted)return;Cp(),dp(t);const f=Ra(r,t,n,d);return vh(),Pp(),f});return o?l.unshift(u):l.push(u),u}}const uc=n=>(r,t=po)=>(!Ig||n==="sp")&&by(n,(...o)=>r(...o),t),E5=uc("bm"),ts=uc("m"),T5=uc("bu"),S5=uc("u"),C5=uc("bum"),kS=uc("um"),P5=uc("sp"),M5=uc("rtg"),I5=uc("rtc");function L5(n,r=po){by("ec",n,r)}const R5=Symbol.for("v-ndc");function nu(n,r,t,o){let l;const u=t&&t[o];if(nr(n)||In(n)){l=new Array(n.length);for(let d=0,f=n.length;d<f;d++)l[d]=r(n[d],d,void 0,u&&u[d])}else if(typeof n=="number"){l=new Array(n);for(let d=0;d<n;d++)l[d]=r(d+1,d,void 0,u&&u[d])}else if(Yi(n))if(n[Symbol.iterator])l=Array.from(n,(d,f)=>r(d,f,void 0,u&&u[f]));else{const d=Object.keys(n);l=new Array(d.length);for(let f=0,m=d.length;f<m;f++){const v=d[f];l[f]=r(n[v],v,f,u&&u[f])}}else l=[];return t&&(t[o]=l),l}function A5(n,r,t={},o,l){if(Xo.isCE||Xo.parent&&pg(Xo.parent)&&Xo.parent.isCE)return r!=="default"&&(t.name=r),Aa("slot",t,o&&o());let u=n[r];u&&u._c&&(u._d=!1),ge();const d=u&&ES(u(t)),f=OS(Fi,{key:t.key||d&&d.key||`_${r}`},d||(o?o():[]),d&&n._===1?64:-2);return!l&&f.scopeId&&(f.slotScopeIds=[f.scopeId+"-s"]),u&&u._c&&(u._d=!0),f}function ES(n){return n.some(r=>zS(r)?!(r.type===uu||r.type===Fi&&!ES(r.children)):!0)?n:null}const t1=n=>n?DS(n)?nx(n)||n.proxy:t1(n.parent):null,fg=Mn(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>t1(n.parent),$root:n=>t1(n.root),$emit:n=>n.emit,$options:n=>tx(n),$forceUpdate:n=>n.f||(n.f=()=>$1(n.update)),$nextTick:n=>n.n||(n.n=Q1.bind(n.proxy)),$watch:n=>w5.bind(n)}),pw=(n,r)=>n!==Di&&!n.__isScriptSetup&&si(n,r),O5={get({_:n},r){const{ctx:t,setupState:o,data:l,props:u,accessCache:d,type:f,appContext:m}=n;let v;if(r[0]!=="$"){const M=d[r];if(M!==void 0)switch(M){case 1:return o[r];case 2:return l[r];case 4:return t[r];case 3:return u[r]}else{if(pw(o,r))return d[r]=1,o[r];if(l!==Di&&si(l,r))return d[r]=2,l[r];if((v=n.propsOptions[0])&&si(v,r))return d[r]=3,u[r];if(t!==Di&&si(t,r))return d[r]=4,t[r];e1&&(d[r]=0)}}const _=fg[r];let k,C;if(_)return r==="$attrs"&&$o(n,"get",r),_(n);if((k=f.__cssModules)&&(k=k[r]))return k;if(t!==Di&&si(t,r))return d[r]=4,t[r];if(C=m.config.globalProperties,si(C,r))return C[r]},set({_:n},r,t){const{data:o,setupState:l,ctx:u}=n;return pw(l,r)?(l[r]=t,!0):o!==Di&&si(o,r)?(o[r]=t,!0):si(n.props,r)||r[0]==="$"&&r.slice(1)in n?!1:(u[r]=t,!0)},has({_:{data:n,setupState:r,accessCache:t,ctx:o,appContext:l,propsOptions:u}},d){let f;return!!t[d]||n!==Di&&si(n,d)||pw(r,d)||(f=u[0])&&si(f,d)||si(o,d)||si(fg,d)||si(l.config.globalProperties,d)},defineProperty(n,r,t){return t.get!=null?n._.accessCache[r]=0:si(t,"value")&&this.set(n,r,t.value,null),Reflect.defineProperty(n,r,t)}};function U2(n){return nr(n)?n.reduce((r,t)=>(r[t]=null,r),{}):n}let e1=!0;function z5(n){const r=tx(n),t=n.proxy,o=n.ctx;e1=!1,r.beforeCreate&&G2(r.beforeCreate,n,"bc");const{data:l,computed:u,methods:d,watch:f,provide:m,inject:v,created:_,beforeMount:k,mounted:C,beforeUpdate:M,updated:I,activated:F,deactivated:H,beforeDestroy:U,beforeUnmount:J,destroyed:G,unmounted:Z,render:at,renderTracked:mt,renderTriggered:ft,errorCaptured:ot,serverPrefetch:V,expose:nt,inheritAttrs:ut,components:gt,directives:Jt,filters:re}=r;if(v&&N5(v,o,null),d)for(const Kt in d){const Zt=d[Kt];Zr(Zt)&&(o[Kt]=Zt.bind(t))}if(l){const Kt=l.call(t,t);Yi(Kt)&&(n.data=Y1(Kt))}if(e1=!0,u)for(const Kt in u){const Zt=u[Kt],Pe=Zr(Zt)?Zt.bind(t,t):Zr(Zt.get)?Zt.get.bind(t,t):La,bt=!Zr(Zt)&&Zr(Zt.set)?Zt.set.bind(t):La,At=De({get:Pe,set:bt});Object.defineProperty(o,Kt,{enumerable:!0,configurable:!0,get:()=>At.value,set:qt=>At.value=qt})}if(f)for(const Kt in f)TS(f[Kt],o,t,Kt);if(m){const Kt=Zr(m)?m.call(t):m;Reflect.ownKeys(Kt).forEach(Zt=>{U5(Zt,Kt[Zt])})}_&&G2(_,n,"c");function Ct(Kt,Zt){nr(Zt)?Zt.forEach(Pe=>Kt(Pe.bind(t))):Zt&&Kt(Zt.bind(t))}if(Ct(E5,k),Ct(ts,C),Ct(T5,M),Ct(S5,I),Ct(x5,F),Ct(_5,H),Ct(L5,ot),Ct(I5,mt),Ct(M5,ft),Ct(C5,J),Ct(kS,Z),Ct(P5,V),nr(nt))if(nt.length){const Kt=n.exposed||(n.exposed={});nt.forEach(Zt=>{Object.defineProperty(Kt,Zt,{get:()=>t[Zt],set:Pe=>t[Zt]=Pe})})}else n.exposed||(n.exposed={});at&&n.render===La&&(n.render=at),ut!=null&&(n.inheritAttrs=ut),gt&&(n.components=gt),Jt&&(n.directives=Jt)}function N5(n,r,t=La){nr(n)&&(n=r1(n));for(const o in n){const l=n[o];let u;Yi(l)?"default"in l?u=pv(l.from||o,l.default,!0):u=pv(l.from||o):u=pv(l),fo(u)?Object.defineProperty(r,o,{enumerable:!0,configurable:!0,get:()=>u.value,set:d=>u.value=d}):r[o]=u}}function G2(n,r,t){Ra(nr(n)?n.map(o=>o.bind(r.proxy)):n.bind(r.proxy),r,t)}function TS(n,r,t,o){const l=o.includes(".")?wS(t,o):()=>t[o];if(In(n)){const u=r[n];Zr(u)&&qe(l,u)}else if(Zr(n))qe(l,n.bind(t));else if(Yi(n))if(nr(n))n.forEach(u=>TS(u,r,t,o));else{const u=Zr(n.handler)?n.handler.bind(t):r[n.handler];Zr(u)&&qe(l,u,n)}}function tx(n){const r=n.type,{mixins:t,extends:o}=r,{mixins:l,optionsCache:u,config:{optionMergeStrategies:d}}=n.appContext,f=u.get(r);let m;return f?m=f:!l.length&&!t&&!o?m=r:(m={},l.length&&l.forEach(v=>Mv(m,v,d,!0)),Mv(m,r,d)),Yi(r)&&u.set(r,m),m}function Mv(n,r,t,o=!1){const{mixins:l,extends:u}=r;u&&Mv(n,u,t,!0),l&&l.forEach(d=>Mv(n,d,t,!0));for(const d in r)if(!(o&&d==="expose")){const f=D5[d]||t&&t[d];n[d]=f?f(n[d],r[d]):r[d]}return n}const D5={data:q2,props:V2,emits:V2,methods:ag,computed:ag,beforeCreate:Io,created:Io,beforeMount:Io,mounted:Io,beforeUpdate:Io,updated:Io,beforeDestroy:Io,beforeUnmount:Io,destroyed:Io,unmounted:Io,activated:Io,deactivated:Io,errorCaptured:Io,serverPrefetch:Io,components:ag,directives:ag,watch:B5,provide:q2,inject:F5};function q2(n,r){return r?n?function(){return Mn(Zr(n)?n.call(this,this):n,Zr(r)?r.call(this,this):r)}:r:n}function F5(n,r){return ag(r1(n),r1(r))}function r1(n){if(nr(n)){const r={};for(let t=0;t<n.length;t++)r[n[t]]=n[t];return r}return n}function Io(n,r){return n?[...new Set([].concat(n,r))]:r}function ag(n,r){return n?Mn(Object.create(null),n,r):r}function V2(n,r){return n?nr(n)&&nr(r)?[...new Set([...n,...r])]:Mn(Object.create(null),U2(n),U2(r??{})):r}function B5(n,r){if(!n)return r;if(!r)return n;const t=Mn(Object.create(null),n);for(const o in r)t[o]=Io(n[o],r[o]);return t}function SS(){return{app:null,config:{isNativeTag:uL,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let j5=0;function H5(n,r){return function(o,l=null){Zr(o)||(o=Mn({},o)),l!=null&&!Yi(l)&&(l=null);const u=SS(),d=new Set;let f=!1;const m=u.app={_uid:j5++,_component:o,_props:l,_container:null,_context:u,_instance:null,version:pR,get config(){return u.config},set config(v){},use(v,..._){return d.has(v)||(v&&Zr(v.install)?(d.add(v),v.install(m,..._)):Zr(v)&&(d.add(v),v(m,..._))),m},mixin(v){return u.mixins.includes(v)||u.mixins.push(v),m},component(v,_){return _?(u.components[v]=_,m):u.components[v]},directive(v,_){return _?(u.directives[v]=_,m):u.directives[v]},mount(v,_,k){if(!f){const C=Aa(o,l);return C.appContext=u,_&&r?r(C,v):n(C,v,k),f=!0,m._container=v,v.__vue_app__=m,nx(C.component)||C.component.proxy}},unmount(){f&&(n(null,m._container),delete m._container.__vue_app__)},provide(v,_){return u.provides[v]=_,m},runWithContext(v){Iv=m;try{return v()}finally{Iv=null}}};return m}}let Iv=null;function U5(n,r){if(po){let t=po.provides;const o=po.parent&&po.parent.provides;o===t&&(t=po.provides=Object.create(o)),t[n]=r}}function pv(n,r,t=!1){const o=po||Xo;if(o||Iv){const l=o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:Iv._context.provides;if(l&&n in l)return l[n];if(arguments.length>1)return t&&Zr(r)?r.call(o&&o.proxy):r}}function G5(n,r,t,o=!1){const l={},u={};Sv(u,xy,1),n.propsDefaults=Object.create(null),CS(n,r,l,u);for(const d in n.propsOptions[0])d in l||(l[d]=void 0);t?n.props=o?l:QL(l):n.type.props?n.props=l:n.props=u,n.attrs=u}function q5(n,r,t,o){const{props:l,attrs:u,vnode:{patchFlag:d}}=n,f=ii(l),[m]=n.propsOptions;let v=!1;if((o||d>0)&&!(d&16)){if(d&8){const _=n.vnode.dynamicProps;for(let k=0;k<_.length;k++){let C=_[k];if(vy(n.emitsOptions,C))continue;const M=r[C];if(m)if(si(u,C))M!==u[C]&&(u[C]=M,v=!0);else{const I=ic(C);l[I]=i1(m,f,I,M,n,!1)}else M!==u[C]&&(u[C]=M,v=!0)}}}else{CS(n,r,l,u)&&(v=!0);let _;for(const k in f)(!r||!si(r,k)&&((_=Sa(k))===k||!si(r,_)))&&(m?t&&(t[k]!==void 0||t[_]!==void 0)&&(l[k]=i1(m,f,k,void 0,n,!0)):delete l[k]);if(u!==f)for(const k in u)(!r||!si(r,k))&&(delete u[k],v=!0)}v&&sc(n,"set","$attrs")}function CS(n,r,t,o){const[l,u]=n.propsOptions;let d=!1,f;if(r)for(let m in r){if(dv(m))continue;const v=r[m];let _;l&&si(l,_=ic(m))?!u||!u.includes(_)?t[_]=v:(f||(f={}))[_]=v:vy(n.emitsOptions,m)||(!(m in o)||v!==o[m])&&(o[m]=v,d=!0)}if(u){const m=ii(t),v=f||Di;for(let _=0;_<u.length;_++){const k=u[_];t[k]=i1(l,m,k,v[k],n,!si(v,k))}}return d}function i1(n,r,t,o,l,u){const d=n[t];if(d!=null){const f=si(d,"default");if(f&&o===void 0){const m=d.default;if(d.type!==Function&&!d.skipFactory&&Zr(m)){const{propsDefaults:v}=l;t in v?o=v[t]:(dp(l),o=v[t]=m.call(null,r),vh())}else o=m}d[0]&&(u&&!f?o=!1:d[1]&&(o===""||o===Sa(t))&&(o=!0))}return o}function PS(n,r,t=!1){const o=r.propsCache,l=o.get(n);if(l)return l;const u=n.props,d={},f=[];let m=!1;if(!Zr(n)){const _=k=>{m=!0;const[C,M]=PS(k,r,!0);Mn(d,C),M&&f.push(...M)};!t&&r.mixins.length&&r.mixins.forEach(_),n.extends&&_(n.extends),n.mixins&&n.mixins.forEach(_)}if(!u&&!m)return Yi(n)&&o.set(n,np),np;if(nr(u))for(let _=0;_<u.length;_++){const k=ic(u[_]);W2(k)&&(d[k]=Di)}else if(u)for(const _ in u){const k=ic(_);if(W2(k)){const C=u[_],M=d[k]=nr(C)||Zr(C)?{type:C}:Mn({},C);if(M){const I=X2(Boolean,M.type),F=X2(String,M.type);M[0]=I>-1,M[1]=F<0||I<F,(I>-1||si(M,"default"))&&f.push(k)}}}const v=[d,f];return Yi(n)&&o.set(n,v),v}function W2(n){return n[0]!=="$"}function Z2(n){const r=n&&n.toString().match(/^\s*(function|class) (\w+)/);return r?r[2]:n===null?"null":""}function Y2(n,r){return Z2(n)===Z2(r)}function X2(n,r){return nr(r)?r.findIndex(t=>Y2(t,n)):Zr(r)&&Y2(r,n)?0:-1}const MS=n=>n[0]==="_"||n==="$stable",ex=n=>nr(n)?n.map(al):[al(n)],V5=(n,r,t)=>{if(r._n)return r;const o=p5((...l)=>ex(r(...l)),t);return o._c=!1,o},IS=(n,r,t)=>{const o=n._ctx;for(const l in n){if(MS(l))continue;const u=n[l];if(Zr(u))r[l]=V5(l,u,o);else if(u!=null){const d=ex(u);r[l]=()=>d}}},LS=(n,r)=>{const t=ex(r);n.slots.default=()=>t},W5=(n,r)=>{if(n.vnode.shapeFlag&32){const t=r._;t?(n.slots=ii(r),Sv(r,"_",t)):IS(r,n.slots={})}else n.slots={},r&&LS(n,r);Sv(n.slots,xy,1)},Z5=(n,r,t)=>{const{vnode:o,slots:l}=n;let u=!0,d=Di;if(o.shapeFlag&32){const f=r._;f?t&&f===1?u=!1:(Mn(l,r),!t&&f===1&&delete l._):(u=!r.$stable,IS(r,l)),d=r}else r&&(LS(n,r),d={default:1});if(u)for(const f in l)!MS(f)&&!(f in d)&&delete l[f]};function n1(n,r,t,o,l=!1){if(nr(n)){n.forEach((C,M)=>n1(C,r&&(nr(r)?r[M]:r),t,o,l));return}if(pg(o)&&!l)return;const u=o.shapeFlag&4?nx(o.component)||o.component.proxy:o.el,d=l?null:u,{i:f,r:m}=n,v=r&&r.r,_=f.refs===Di?f.refs={}:f.refs,k=f.setupState;if(v!=null&&v!==m&&(In(v)?(_[v]=null,si(k,v)&&(k[v]=null)):fo(v)&&(v.value=null)),Zr(m))iu(m,f,12,[d,_]);else{const C=In(m),M=fo(m);if(C||M){const I=()=>{if(n.f){const F=C?si(k,m)?k[m]:_[m]:m.value;l?nr(F)&&j1(F,u):nr(F)?F.includes(u)||F.push(u):C?(_[m]=[u],si(k,m)&&(k[m]=_[m])):(m.value=[u],n.k&&(_[n.k]=m.value))}else C?(_[m]=d,si(k,m)&&(k[m]=d)):M&&(m.value=d,n.k&&(_[n.k]=d))};d?(I.id=-1,Wo(I,t)):I()}}}const Wo=b5;function Y5(n){return X5(n)}function X5(n,r){const t=Yw();t.__VUE__=!0;const{insert:o,remove:l,patchProp:u,createElement:d,createText:f,createComment:m,setText:v,setElementText:_,parentNode:k,nextSibling:C,setScopeId:M=La,insertStaticContent:I}=n,F=(yt,kt,Dt,R=null,j=null,st=null,pt=!1,dt=null,_t=!!kt.dynamicChildren)=>{if(yt===kt)return;yt&&!Xf(yt,kt)&&(R=rr(yt),qt(yt,j,st,!0),yt=null),kt.patchFlag===-2&&(_t=!1,kt.dynamicChildren=null);const{type:ht,ref:Lt,shapeFlag:Qt}=kt;switch(ht){case wy:H(yt,kt,Dt,R);break;case uu:U(yt,kt,Dt,R);break;case fw:yt==null&&J(kt,Dt,R,pt);break;case Fi:gt(yt,kt,Dt,R,j,st,pt,dt,_t);break;default:Qt&1?at(yt,kt,Dt,R,j,st,pt,dt,_t):Qt&6?Jt(yt,kt,Dt,R,j,st,pt,dt,_t):(Qt&64||Qt&128)&&ht.process(yt,kt,Dt,R,j,st,pt,dt,_t,vi)}Lt!=null&&j&&n1(Lt,yt&&yt.ref,st,kt||yt,!kt)},H=(yt,kt,Dt,R)=>{if(yt==null)o(kt.el=f(kt.children),Dt,R);else{const j=kt.el=yt.el;kt.children!==yt.children&&v(j,kt.children)}},U=(yt,kt,Dt,R)=>{yt==null?o(kt.el=m(kt.children||""),Dt,R):kt.el=yt.el},J=(yt,kt,Dt,R)=>{[yt.el,yt.anchor]=I(yt.children,kt,Dt,R,yt.el,yt.anchor)},G=({el:yt,anchor:kt},Dt,R)=>{let j;for(;yt&&yt!==kt;)j=C(yt),o(yt,Dt,R),yt=j;o(kt,Dt,R)},Z=({el:yt,anchor:kt})=>{let Dt;for(;yt&&yt!==kt;)Dt=C(yt),l(yt),yt=Dt;l(kt)},at=(yt,kt,Dt,R,j,st,pt,dt,_t)=>{pt=pt||kt.type==="svg",yt==null?mt(kt,Dt,R,j,st,pt,dt,_t):V(yt,kt,j,st,pt,dt,_t)},mt=(yt,kt,Dt,R,j,st,pt,dt)=>{let _t,ht;const{type:Lt,props:Qt,shapeFlag:$t,transition:te,dirs:ye}=yt;if(_t=yt.el=d(yt.type,st,Qt&&Qt.is,Qt),$t&8?_(_t,yt.children):$t&16&&ot(yt.children,_t,null,R,j,st&&Lt!=="foreignObject",pt,dt),ye&&ch(yt,null,R,"created"),ft(_t,yt,yt.scopeId,pt,R),Qt){for(const Be in Qt)Be!=="value"&&!dv(Be)&&u(_t,Be,null,Qt[Be],st,yt.children,R,j,le);"value"in Qt&&u(_t,"value",null,Qt.value),(ht=Qt.onVnodeBeforeMount)&&il(ht,R,yt)}ye&&ch(yt,null,R,"beforeMount");const xe=(!j||j&&!j.pendingBranch)&&te&&!te.persisted;xe&&te.beforeEnter(_t),o(_t,kt,Dt),((ht=Qt&&Qt.onVnodeMounted)||xe||ye)&&Wo(()=>{ht&&il(ht,R,yt),xe&&te.enter(_t),ye&&ch(yt,null,R,"mounted")},j)},ft=(yt,kt,Dt,R,j)=>{if(Dt&&M(yt,Dt),R)for(let st=0;st<R.length;st++)M(yt,R[st]);if(j){let st=j.subTree;if(kt===st){const pt=j.vnode;ft(yt,pt,pt.scopeId,pt.slotScopeIds,j.parent)}}},ot=(yt,kt,Dt,R,j,st,pt,dt,_t=0)=>{for(let ht=_t;ht<yt.length;ht++){const Lt=yt[ht]=dt?Qc(yt[ht]):al(yt[ht]);F(null,Lt,kt,Dt,R,j,st,pt,dt)}},V=(yt,kt,Dt,R,j,st,pt)=>{const dt=kt.el=yt.el;let{patchFlag:_t,dynamicChildren:ht,dirs:Lt}=kt;_t|=yt.patchFlag&16;const Qt=yt.props||Di,$t=kt.props||Di;let te;Dt&&uh(Dt,!1),(te=$t.onVnodeBeforeUpdate)&&il(te,Dt,kt,yt),Lt&&ch(kt,yt,Dt,"beforeUpdate"),Dt&&uh(Dt,!0);const ye=j&&kt.type!=="foreignObject";if(ht?nt(yt.dynamicChildren,ht,dt,Dt,R,ye,st):pt||Zt(yt,kt,dt,null,Dt,R,ye,st,!1),_t>0){if(_t&16)ut(dt,kt,Qt,$t,Dt,R,j);else if(_t&2&&Qt.class!==$t.class&&u(dt,"class",null,$t.class,j),_t&4&&u(dt,"style",Qt.style,$t.style,j),_t&8){const xe=kt.dynamicProps;for(let Be=0;Be<xe.length;Be++){const $=xe[Be],K=Qt[$],ct=$t[$];(ct!==K||$==="value")&&u(dt,$,K,ct,j,yt.children,Dt,R,le)}}_t&1&&yt.children!==kt.children&&_(dt,kt.children)}else!pt&&ht==null&&ut(dt,kt,Qt,$t,Dt,R,j);((te=$t.onVnodeUpdated)||Lt)&&Wo(()=>{te&&il(te,Dt,kt,yt),Lt&&ch(kt,yt,Dt,"updated")},R)},nt=(yt,kt,Dt,R,j,st,pt)=>{for(let dt=0;dt<kt.length;dt++){const _t=yt[dt],ht=kt[dt],Lt=_t.el&&(_t.type===Fi||!Xf(_t,ht)||_t.shapeFlag&70)?k(_t.el):Dt;F(_t,ht,Lt,null,R,j,st,pt,!0)}},ut=(yt,kt,Dt,R,j,st,pt)=>{if(Dt!==R){if(Dt!==Di)for(const dt in Dt)!dv(dt)&&!(dt in R)&&u(yt,dt,Dt[dt],null,pt,kt.children,j,st,le);for(const dt in R){if(dv(dt))continue;const _t=R[dt],ht=Dt[dt];_t!==ht&&dt!=="value"&&u(yt,dt,ht,_t,pt,kt.children,j,st,le)}"value"in R&&u(yt,"value",Dt.value,R.value)}},gt=(yt,kt,Dt,R,j,st,pt,dt,_t)=>{const ht=kt.el=yt?yt.el:f(""),Lt=kt.anchor=yt?yt.anchor:f("");let{patchFlag:Qt,dynamicChildren:$t,slotScopeIds:te}=kt;te&&(dt=dt?dt.concat(te):te),yt==null?(o(ht,Dt,R),o(Lt,Dt,R),ot(kt.children,Dt,Lt,j,st,pt,dt,_t)):Qt>0&&Qt&64&&$t&&yt.dynamicChildren?(nt(yt.dynamicChildren,$t,Dt,j,st,pt,dt),(kt.key!=null||j&&kt===j.subTree)&&RS(yt,kt,!0)):Zt(yt,kt,Dt,Lt,j,st,pt,dt,_t)},Jt=(yt,kt,Dt,R,j,st,pt,dt,_t)=>{kt.slotScopeIds=dt,yt==null?kt.shapeFlag&512?j.ctx.activate(kt,Dt,R,pt,_t):re(kt,Dt,R,j,st,pt,_t):Xt(yt,kt,_t)},re=(yt,kt,Dt,R,j,st,pt)=>{const dt=yt.component=oR(yt,R,j);if(xS(yt)&&(dt.ctx.renderer=vi),sR(dt),dt.asyncDep){if(j&&j.registerDep(dt,Ct),!yt.el){const _t=dt.subTree=Aa(uu);U(null,_t,kt,Dt)}return}Ct(dt,yt,kt,Dt,j,st,pt)},Xt=(yt,kt,Dt)=>{const R=kt.component=yt.component;if(m5(yt,kt,Dt))if(R.asyncDep&&!R.asyncResolved){Kt(R,kt,Dt);return}else R.next=kt,a5(R.update),R.update();else kt.el=yt.el,R.vnode=kt},Ct=(yt,kt,Dt,R,j,st,pt)=>{const dt=()=>{if(yt.isMounted){let{next:Lt,bu:Qt,u:$t,parent:te,vnode:ye}=yt,xe=Lt,Be;uh(yt,!1),Lt?(Lt.el=ye.el,Kt(yt,Lt,pt)):Lt=ye,Qt&&hw(Qt),(Be=Lt.props&&Lt.props.onVnodeBeforeUpdate)&&il(Be,te,Lt,ye),uh(yt,!0);const $=dw(yt),K=yt.subTree;yt.subTree=$,F(K,$,k(K.el),rr(K),yt,j,st),Lt.el=$.el,xe===null&&v5(yt,$.el),$t&&Wo($t,j),(Be=Lt.props&&Lt.props.onVnodeUpdated)&&Wo(()=>il(Be,te,Lt,ye),j)}else{let Lt;const{el:Qt,props:$t}=kt,{bm:te,m:ye,parent:xe}=yt,Be=pg(kt);if(uh(yt,!1),te&&hw(te),!Be&&(Lt=$t&&$t.onVnodeBeforeMount)&&il(Lt,xe,kt),uh(yt,!0),Qt&&Bi){const $=()=>{yt.subTree=dw(yt),Bi(Qt,yt.subTree,yt,j,null)};Be?kt.type.__asyncLoader().then(()=>!yt.isUnmounted&&$()):$()}else{const $=yt.subTree=dw(yt);F(null,$,Dt,R,yt,j,st),kt.el=$.el}if(ye&&Wo(ye,j),!Be&&(Lt=$t&&$t.onVnodeMounted)){const $=kt;Wo(()=>il(Lt,xe,$),j)}(kt.shapeFlag&256||xe&&pg(xe.vnode)&&xe.vnode.shapeFlag&256)&&yt.a&&Wo(yt.a,j),yt.isMounted=!0,kt=Dt=R=null}},_t=yt.effect=new q1(dt,()=>$1(ht),yt.scope),ht=yt.update=()=>_t.run();ht.id=yt.uid,uh(yt,!0),ht()},Kt=(yt,kt,Dt)=>{kt.component=yt;const R=yt.vnode.props;yt.vnode=kt,yt.next=null,q5(yt,kt.props,R,Dt),Z5(yt,kt.children,Dt),Cp(),j2(),Pp()},Zt=(yt,kt,Dt,R,j,st,pt,dt,_t=!1)=>{const ht=yt&&yt.children,Lt=yt?yt.shapeFlag:0,Qt=kt.children,{patchFlag:$t,shapeFlag:te}=kt;if($t>0){if($t&128){bt(ht,Qt,Dt,R,j,st,pt,dt,_t);return}else if($t&256){Pe(ht,Qt,Dt,R,j,st,pt,dt,_t);return}}te&8?(Lt&16&&le(ht,j,st),Qt!==ht&&_(Dt,Qt)):Lt&16?te&16?bt(ht,Qt,Dt,R,j,st,pt,dt,_t):le(ht,j,st,!0):(Lt&8&&_(Dt,""),te&16&&ot(Qt,Dt,R,j,st,pt,dt,_t))},Pe=(yt,kt,Dt,R,j,st,pt,dt,_t)=>{yt=yt||np,kt=kt||np;const ht=yt.length,Lt=kt.length,Qt=Math.min(ht,Lt);let $t;for($t=0;$t<Qt;$t++){const te=kt[$t]=_t?Qc(kt[$t]):al(kt[$t]);F(yt[$t],te,Dt,null,j,st,pt,dt,_t)}ht>Lt?le(yt,j,st,!0,!1,Qt):ot(kt,Dt,R,j,st,pt,dt,_t,Qt)},bt=(yt,kt,Dt,R,j,st,pt,dt,_t)=>{let ht=0;const Lt=kt.length;let Qt=yt.length-1,$t=Lt-1;for(;ht<=Qt&&ht<=$t;){const te=yt[ht],ye=kt[ht]=_t?Qc(kt[ht]):al(kt[ht]);if(Xf(te,ye))F(te,ye,Dt,null,j,st,pt,dt,_t);else break;ht++}for(;ht<=Qt&&ht<=$t;){const te=yt[Qt],ye=kt[$t]=_t?Qc(kt[$t]):al(kt[$t]);if(Xf(te,ye))F(te,ye,Dt,null,j,st,pt,dt,_t);else break;Qt--,$t--}if(ht>Qt){if(ht<=$t){const te=$t+1,ye=te<Lt?kt[te].el:R;for(;ht<=$t;)F(null,kt[ht]=_t?Qc(kt[ht]):al(kt[ht]),Dt,ye,j,st,pt,dt,_t),ht++}}else if(ht>$t)for(;ht<=Qt;)qt(yt[ht],j,st,!0),ht++;else{const te=ht,ye=ht,xe=new Map;for(ht=ye;ht<=$t;ht++){const Ee=kt[ht]=_t?Qc(kt[ht]):al(kt[ht]);Ee.key!=null&&xe.set(Ee.key,ht)}let Be,$=0;const K=$t-ye+1;let ct=!1,lt=0;const Wt=new Array(K);for(ht=0;ht<K;ht++)Wt[ht]=0;for(ht=te;ht<=Qt;ht++){const Ee=yt[ht];if($>=K){qt(Ee,j,st,!0);continue}let sr;if(Ee.key!=null)sr=xe.get(Ee.key);else for(Be=ye;Be<=$t;Be++)if(Wt[Be-ye]===0&&Xf(Ee,kt[Be])){sr=Be;break}sr===void 0?qt(Ee,j,st,!0):(Wt[sr-ye]=ht+1,sr>=lt?lt=sr:ct=!0,F(Ee,kt[sr],Dt,null,j,st,pt,dt,_t),$++)}const ne=ct?K5(Wt):np;for(Be=ne.length-1,ht=K-1;ht>=0;ht--){const Ee=ye+ht,sr=kt[Ee],ze=Ee+1<Lt?kt[Ee+1].el:R;Wt[ht]===0?F(null,sr,Dt,ze,j,st,pt,dt,_t):ct&&(Be<0||ht!==ne[Be]?At(sr,Dt,ze,2):Be--)}}},At=(yt,kt,Dt,R,j=null)=>{const{el:st,type:pt,transition:dt,children:_t,shapeFlag:ht}=yt;if(ht&6){At(yt.component.subTree,kt,Dt,R);return}if(ht&128){yt.suspense.move(kt,Dt,R);return}if(ht&64){pt.move(yt,kt,Dt,vi);return}if(pt===Fi){o(st,kt,Dt);for(let Qt=0;Qt<_t.length;Qt++)At(_t[Qt],kt,Dt,R);o(yt.anchor,kt,Dt);return}if(pt===fw){G(yt,kt,Dt);return}if(R!==2&&ht&1&&dt)if(R===0)dt.beforeEnter(st),o(st,kt,Dt),Wo(()=>dt.enter(st),j);else{const{leave:Qt,delayLeave:$t,afterLeave:te}=dt,ye=()=>o(st,kt,Dt),xe=()=>{Qt(st,()=>{ye(),te&&te()})};$t?$t(st,ye,xe):xe()}else o(st,kt,Dt)},qt=(yt,kt,Dt,R=!1,j=!1)=>{const{type:st,props:pt,ref:dt,children:_t,dynamicChildren:ht,shapeFlag:Lt,patchFlag:Qt,dirs:$t}=yt;if(dt!=null&&n1(dt,null,Dt,yt,!0),Lt&256){kt.ctx.deactivate(yt);return}const te=Lt&1&&$t,ye=!pg(yt);let xe;if(ye&&(xe=pt&&pt.onVnodeBeforeUnmount)&&il(xe,kt,yt),Lt&6)ae(yt.component,Dt,R);else{if(Lt&128){yt.suspense.unmount(Dt,R);return}te&&ch(yt,null,kt,"beforeUnmount"),Lt&64?yt.type.remove(yt,kt,Dt,j,vi,R):ht&&(st!==Fi||Qt>0&&Qt&64)?le(ht,kt,Dt,!1,!0):(st===Fi&&Qt&384||!j&&Lt&16)&&le(_t,kt,Dt),R&&ee(yt)}(ye&&(xe=pt&&pt.onVnodeUnmounted)||te)&&Wo(()=>{xe&&il(xe,kt,yt),te&&ch(yt,null,kt,"unmounted")},Dt)},ee=yt=>{const{type:kt,el:Dt,anchor:R,transition:j}=yt;if(kt===Fi){pe(Dt,R);return}if(kt===fw){Z(yt);return}const st=()=>{l(Dt),j&&!j.persisted&&j.afterLeave&&j.afterLeave()};if(yt.shapeFlag&1&&j&&!j.persisted){const{leave:pt,delayLeave:dt}=j,_t=()=>pt(Dt,st);dt?dt(yt.el,st,_t):_t()}else st()},pe=(yt,kt)=>{let Dt;for(;yt!==kt;)Dt=C(yt),l(yt),yt=Dt;l(kt)},ae=(yt,kt,Dt)=>{const{bum:R,scope:j,update:st,subTree:pt,um:dt}=yt;R&&hw(R),j.stop(),st&&(st.active=!1,qt(pt,yt,kt,Dt)),dt&&Wo(dt,kt),Wo(()=>{yt.isUnmounted=!0},kt),kt&&kt.pendingBranch&&!kt.isUnmounted&&yt.asyncDep&&!yt.asyncResolved&&yt.suspenseId===kt.pendingId&&(kt.deps--,kt.deps===0&&kt.resolve())},le=(yt,kt,Dt,R=!1,j=!1,st=0)=>{for(let pt=st;pt<yt.length;pt++)qt(yt[pt],kt,Dt,R,j)},rr=yt=>yt.shapeFlag&6?rr(yt.component.subTree):yt.shapeFlag&128?yt.suspense.next():C(yt.anchor||yt.el),mr=(yt,kt,Dt)=>{yt==null?kt._vnode&&qt(kt._vnode,null,null,!0):F(kt._vnode||null,yt,kt,null,null,null,Dt),j2(),mS(),kt._vnode=yt},vi={p:F,um:qt,m:At,r:ee,mt:re,mc:ot,pc:Zt,pbc:nt,n:rr,o:n};let Xi,Bi;return r&&([Xi,Bi]=r(vi)),{render:mr,hydrate:Xi,createApp:H5(mr,Xi)}}function uh({effect:n,update:r},t){n.allowRecurse=r.allowRecurse=t}function RS(n,r,t=!1){const o=n.children,l=r.children;if(nr(o)&&nr(l))for(let u=0;u<o.length;u++){const d=o[u];let f=l[u];f.shapeFlag&1&&!f.dynamicChildren&&((f.patchFlag<=0||f.patchFlag===32)&&(f=l[u]=Qc(l[u]),f.el=d.el),t||RS(d,f)),f.type===wy&&(f.el=d.el)}}function K5(n){const r=n.slice(),t=[0];let o,l,u,d,f;const m=n.length;for(o=0;o<m;o++){const v=n[o];if(v!==0){if(l=t[t.length-1],n[l]<v){r[o]=l,t.push(o);continue}for(u=0,d=t.length-1;u<d;)f=u+d>>1,n[t[f]]<v?u=f+1:d=f;v<n[t[u]]&&(u>0&&(r[o]=t[u-1]),t[u]=o)}}for(u=t.length,d=t[u-1];u-- >0;)t[u]=d,d=r[d];return t}const J5=n=>n.__isTeleport,Fi=Symbol.for("v-fgt"),wy=Symbol.for("v-txt"),uu=Symbol.for("v-cmt"),fw=Symbol.for("v-stc"),gg=[];let Pa=null;function ge(n=!1){gg.push(Pa=n?null:[])}function Q5(){gg.pop(),Pa=gg[gg.length-1]||null}let Mg=1;function K2(n){Mg+=n}function AS(n){return n.dynamicChildren=Mg>0?Pa||np:null,Q5(),Mg>0&&Pa&&Pa.push(n),n}function me(n,r,t,o,l,u){return AS(Vt(n,r,t,o,l,u,!0))}function OS(n,r,t,o,l){return AS(Aa(n,r,t,o,l,!0))}function zS(n){return n?n.__v_isVNode===!0:!1}function Xf(n,r){return n.type===r.type&&n.key===r.key}const xy="__vInternal",NS=({key:n})=>n??null,fv=({ref:n,ref_key:r,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?In(n)||fo(n)||Zr(n)?{i:Xo,r:n,k:r,f:!!t}:n:null);function Vt(n,r=null,t=null,o=0,l=null,u=n===Fi?0:1,d=!1,f=!1){const m={__v_isVNode:!0,__v_skip:!0,type:n,props:r,key:r&&NS(r),ref:r&&fv(r),scopeId:yy,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:o,dynamicProps:l,dynamicChildren:null,appContext:null,ctx:Xo};return f?(rx(m,t),u&128&&n.normalize(m)):t&&(m.shapeFlag|=In(t)?8:16),Mg>0&&!d&&Pa&&(m.patchFlag>0||u&6)&&m.patchFlag!==32&&Pa.push(m),m}const Aa=$5;function $5(n,r=null,t=null,o=0,l=null,u=!1){if((!n||n===R5)&&(n=uu),zS(n)){const f=hp(n,r,!0);return t&&rx(f,t),Mg>0&&!u&&Pa&&(f.shapeFlag&6?Pa[Pa.indexOf(n)]=f:Pa.push(f)),f.patchFlag|=-2,f}if(uR(n)&&(n=n.__vccOpts),r){r=tR(r);let{class:f,style:m}=r;f&&!In(f)&&(r.class=em(f)),Yi(m)&&(cS(m)&&!nr(m)&&(m=Mn({},m)),r.style=au(m))}const d=In(n)?1:y5(n)?128:J5(n)?64:Yi(n)?4:Zr(n)?2:0;return Vt(n,r,t,o,l,d,u,!0)}function tR(n){return n?cS(n)||xy in n?Mn({},n):n:null}function hp(n,r,t=!1){const{props:o,ref:l,patchFlag:u,children:d}=n,f=r?rR(o||{},r):o;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:f,key:f&&NS(f),ref:r&&r.ref?t&&l?nr(l)?l.concat(fv(r)):[l,fv(r)]:fv(r):l,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:d,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:r&&n.type!==Fi?u===-1?16:u|16:u,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&hp(n.ssContent),ssFallback:n.ssFallback&&hp(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce}}function eR(n=" ",r=0){return Aa(wy,null,n,r)}function ur(n="",r=!1){return r?(ge(),OS(uu,null,n)):Aa(uu,null,n)}function al(n){return n==null||typeof n=="boolean"?Aa(uu):nr(n)?Aa(Fi,null,n.slice()):typeof n=="object"?Qc(n):Aa(wy,null,String(n))}function Qc(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:hp(n)}function rx(n,r){let t=0;const{shapeFlag:o}=n;if(r==null)r=null;else if(nr(r))t=16;else if(typeof r=="object")if(o&65){const l=r.default;l&&(l._c&&(l._d=!1),rx(n,l()),l._c&&(l._d=!0));return}else{t=32;const l=r._;!l&&!(xy in r)?r._ctx=Xo:l===3&&Xo&&(Xo.slots._===1?r._=1:(r._=2,n.patchFlag|=1024))}else Zr(r)?(r={default:r,_ctx:Xo},t=32):(r=String(r),o&64?(t=16,r=[eR(r)]):t=8);n.children=r,n.shapeFlag|=t}function rR(...n){const r={};for(let t=0;t<n.length;t++){const o=n[t];for(const l in o)if(l==="class")r.class!==o.class&&(r.class=em([r.class,o.class]));else if(l==="style")r.style=au([r.style,o.style]);else if(dy(l)){const u=r[l],d=o[l];d&&u!==d&&!(nr(u)&&u.includes(d))&&(r[l]=u?[].concat(u,d):d)}else l!==""&&(r[l]=o[l])}return r}function il(n,r,t,o=null){Ra(n,r,7,[t,o])}const iR=SS();let nR=0;function oR(n,r,t){const o=n.type,l=(r?r.appContext:n.appContext)||iR,u={uid:nR++,vnode:n,type:o,parent:r,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,scope:new kL(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(l.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:PS(o,l),emitsOptions:yS(o,l),emit:null,emitted:null,propsDefaults:Di,inheritAttrs:o.inheritAttrs,ctx:Di,data:Di,props:Di,attrs:Di,slots:Di,refs:Di,setupState:Di,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=r?r.root:u,u.emit=u5.bind(null,u),n.ce&&n.ce(u),u}let po=null,ix,Gd,J2="__VUE_INSTANCE_SETTERS__";(Gd=Yw()[J2])||(Gd=Yw()[J2]=[]),Gd.push(n=>po=n),ix=n=>{Gd.length>1?Gd.forEach(r=>r(n)):Gd[0](n)};const dp=n=>{ix(n),n.scope.on()},vh=()=>{po&&po.scope.off(),ix(null)};function DS(n){return n.vnode.shapeFlag&4}let Ig=!1;function sR(n,r=!1){Ig=r;const{props:t,children:o}=n.vnode,l=DS(n);G5(n,t,l,r),W5(n,o);const u=l?aR(n,r):void 0;return Ig=!1,u}function aR(n,r){const t=n.type;n.accessCache=Object.create(null),n.proxy=uS(new Proxy(n.ctx,O5));const{setup:o}=t;if(o){const l=n.setupContext=o.length>1?cR(n):null;dp(n),Cp();const u=iu(o,n,0,[n.props,l]);if(Pp(),vh(),WT(u)){if(u.then(vh,vh),r)return u.then(d=>{Q2(n,d,r)}).catch(d=>{my(d,n,0)});n.asyncDep=u}else Q2(n,u,r)}else FS(n,r)}function Q2(n,r,t){Zr(r)?n.type.__ssrInlineRender?n.ssrRender=r:n.render=r:Yi(r)&&(n.setupState=pS(r)),FS(n,t)}let $2;function FS(n,r,t){const o=n.type;if(!n.render){if(!r&&$2&&!o.render){const l=o.template||tx(n).template;if(l){const{isCustomElement:u,compilerOptions:d}=n.appContext.config,{delimiters:f,compilerOptions:m}=o,v=Mn(Mn({isCustomElement:u,delimiters:f},d),m);o.render=$2(l,v)}}n.render=o.render||La}dp(n),Cp(),z5(n),Pp(),vh()}function lR(n){return n.attrsProxy||(n.attrsProxy=new Proxy(n.attrs,{get(r,t){return $o(n,"get","$attrs"),r[t]}}))}function cR(n){const r=t=>{n.exposed=t||{}};return{get attrs(){return lR(n)},slots:n.slots,emit:n.emit,expose:r}}function nx(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(pS(uS(n.exposed)),{get(r,t){if(t in r)return r[t];if(t in fg)return fg[t](n)},has(r,t){return t in r||t in fg}}))}function uR(n){return Zr(n)&&"__vccOpts"in n}const De=(n,r)=>n5(n,r,Ig),hR=Symbol.for("v-scx"),dR=()=>pv(hR),pR="3.3.4",fR="http://www.w3.org/2000/svg",ph=typeof document<"u"?document:null,tE=ph&&ph.createElement("template"),gR={insert:(n,r,t)=>{r.insertBefore(n,t||null)},remove:n=>{const r=n.parentNode;r&&r.removeChild(n)},createElement:(n,r,t,o)=>{const l=r?ph.createElementNS(fR,n):ph.createElement(n,t?{is:t}:void 0);return n==="select"&&o&&o.multiple!=null&&l.setAttribute("multiple",o.multiple),l},createText:n=>ph.createTextNode(n),createComment:n=>ph.createComment(n),setText:(n,r)=>{n.nodeValue=r},setElementText:(n,r)=>{n.textContent=r},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>ph.querySelector(n),setScopeId(n,r){n.setAttribute(r,"")},insertStaticContent(n,r,t,o,l,u){const d=t?t.previousSibling:r.lastChild;if(l&&(l===u||l.nextSibling))for(;r.insertBefore(l.cloneNode(!0),t),!(l===u||!(l=l.nextSibling)););else{tE.innerHTML=o?`<svg>${n}</svg>`:n;const f=tE.content;if(o){const m=f.firstChild;for(;m.firstChild;)f.appendChild(m.firstChild);f.removeChild(m)}r.insertBefore(f,t)}return[d?d.nextSibling:r.firstChild,t?t.previousSibling:r.lastChild]}};function mR(n,r,t){const o=n._vtc;o&&(r=(r?[r,...o]:[...o]).join(" ")),r==null?n.removeAttribute("class"):t?n.setAttribute("class",r):n.className=r}function vR(n,r,t){const o=n.style,l=In(t);if(t&&!l){if(r&&!In(r))for(const u in r)t[u]==null&&o1(o,u,"");for(const u in t)o1(o,u,t[u])}else{const u=o.display;l?r!==t&&(o.cssText=t):r&&n.removeAttribute("style"),"_vod"in n&&(o.display=u)}}const eE=/\s*!important$/;function o1(n,r,t){if(nr(t))t.forEach(o=>o1(n,r,o));else if(t==null&&(t=""),r.startsWith("--"))n.setProperty(r,t);else{const o=yR(n,r);eE.test(t)?n.setProperty(Sa(o),t.replace(eE,""),"important"):n[o]=t}}const rE=["Webkit","Moz","ms"],gw={};function yR(n,r){const t=gw[r];if(t)return t;let o=ic(r);if(o!=="filter"&&o in n)return gw[r]=o;o=XT(o);for(let l=0;l<rE.length;l++){const u=rE[l]+o;if(u in n)return gw[r]=u}return r}const iE="http://www.w3.org/1999/xlink";function bR(n,r,t,o,l){if(o&&r.startsWith("xlink:"))t==null?n.removeAttributeNS(iE,r.slice(6,r.length)):n.setAttributeNS(iE,r,t);else{const u=_L(r);t==null||u&&!KT(t)?n.removeAttribute(r):n.setAttribute(r,u?"":t)}}function wR(n,r,t,o,l,u,d){if(r==="innerHTML"||r==="textContent"){o&&d(o,l,u),n[r]=t??"";return}const f=n.tagName;if(r==="value"&&f!=="PROGRESS"&&!f.includes("-")){n._value=t;const v=f==="OPTION"?n.getAttribute("value"):n.value,_=t??"";v!==_&&(n.value=_),t==null&&n.removeAttribute(r);return}let m=!1;if(t===""||t==null){const v=typeof n[r];v==="boolean"?t=KT(t):t==null&&v==="string"?(t="",m=!0):v==="number"&&(t=0,m=!0)}try{n[r]=t}catch{}m&&n.removeAttribute(r)}function xR(n,r,t,o){n.addEventListener(r,t,o)}function _R(n,r,t,o){n.removeEventListener(r,t,o)}function kR(n,r,t,o,l=null){const u=n._vei||(n._vei={}),d=u[r];if(o&&d)d.value=o;else{const[f,m]=ER(r);if(o){const v=u[r]=CR(o,l);xR(n,f,v,m)}else d&&(_R(n,f,d,m),u[r]=void 0)}}const nE=/(?:Once|Passive|Capture)$/;function ER(n){let r;if(nE.test(n)){r={};let o;for(;o=n.match(nE);)n=n.slice(0,n.length-o[0].length),r[o[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Sa(n.slice(2)),r]}let mw=0;const TR=Promise.resolve(),SR=()=>mw||(TR.then(()=>mw=0),mw=Date.now());function CR(n,r){const t=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=t.attached)return;Ra(PR(o,t.value),r,5,[o])};return t.value=n,t.attached=SR(),t}function PR(n,r){if(nr(r)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},r.map(o=>l=>!l._stopped&&o&&o(l))}else return r}const oE=/^on[a-z]/,MR=(n,r,t,o,l=!1,u,d,f,m)=>{r==="class"?mR(n,o,l):r==="style"?vR(n,t,o):dy(r)?B1(r)||kR(n,r,t,o,d):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):IR(n,r,o,l))?wR(n,r,o,u,d,f,m):(r==="true-value"?n._trueValue=o:r==="false-value"&&(n._falseValue=o),bR(n,r,o,l))};function IR(n,r,t,o){return o?!!(r==="innerHTML"||r==="textContent"||r in n&&oE.test(r)&&Zr(t)):r==="spellcheck"||r==="draggable"||r==="translate"||r==="form"||r==="list"&&n.tagName==="INPUT"||r==="type"&&n.tagName==="TEXTAREA"||oE.test(r)&&In(t)?!1:r in n}function Mo(n,r){const t=vo(n);class o extends ox{constructor(u){super(t,u,r)}}return o.def=t,o}const LR=typeof HTMLElement<"u"?HTMLElement:class{};class ox extends LR{constructor(r,t={},o){super(),this._def=r,this._props=t,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&o?o(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,Q1(()=>{this._connected||(aE(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let o=0;o<this.attributes.length;o++)this._setAttr(this.attributes[o].name);new MutationObserver(o=>{for(const l of o)this._setAttr(l.attributeName)}).observe(this,{attributes:!0});const r=(o,l=!1)=>{const{props:u,styles:d}=o;let f;if(u&&!nr(u))for(const m in u){const v=u[m];(v===Number||v&&v.type===Number)&&(m in this._props&&(this._props[m]=L2(this._props[m])),(f||(f=Object.create(null)))[ic(m)]=!0)}this._numberProps=f,l&&this._resolveProps(o),this._applyStyles(d),this._update()},t=this._def.__asyncLoader;t?t().then(o=>r(o,!0)):r(this._def)}_resolveProps(r){const{props:t}=r,o=nr(t)?t:Object.keys(t||{});for(const l of Object.keys(this))l[0]!=="_"&&o.includes(l)&&this._setProp(l,this[l],!0,!1);for(const l of o.map(ic))Object.defineProperty(this,l,{get(){return this._getProp(l)},set(u){this._setProp(l,u)}})}_setAttr(r){let t=this.getAttribute(r);const o=ic(r);this._numberProps&&this._numberProps[o]&&(t=L2(t)),this._setProp(o,t,!1)}_getProp(r){return this._props[r]}_setProp(r,t,o=!0,l=!0){t!==this._props[r]&&(this._props[r]=t,l&&this._instance&&this._update(),o&&(t===!0?this.setAttribute(Sa(r),""):typeof t=="string"||typeof t=="number"?this.setAttribute(Sa(r),t+""):t||this.removeAttribute(Sa(r))))}_update(){aE(this._createVNode(),this.shadowRoot)}_createVNode(){const r=Aa(this._def,Mn({},this._props));return this._instance||(r.ce=t=>{this._instance=t,t.isCE=!0;const o=(u,d)=>{this.dispatchEvent(new CustomEvent(u,{detail:d}))};t.emit=(u,...d)=>{o(u,d),Sa(u)!==u&&o(Sa(u),d)};let l=this;for(;l=l&&(l.parentNode||l.host);)if(l instanceof ox){t.parent=l._instance,t.provides=l._instance.provides;break}}),r}_applyStyles(r){r&&r.forEach(t=>{const o=document.createElement("style");o.textContent=t,this.shadowRoot.appendChild(o)})}}const RR=Mn({patchProp:MR},gR);let sE;function AR(){return sE||(sE=Y5(RR))}const aE=(...n)=>{AR().render(...n)};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const gv=globalThis,sx=gv.ShadowRoot&&(gv.ShadyCSS===void 0||gv.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,ax=Symbol(),lE=new WeakMap;let BS=class{constructor(r,t,o){if(this._$cssResult$=!0,o!==ax)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=r,this.t=t}get styleSheet(){let r=this.o;const t=this.t;if(sx&&r===void 0){const o=t!==void 0&&t.length===1;o&&(r=lE.get(t)),r===void 0&&((this.o=r=new CSSStyleSheet).replaceSync(this.cssText),o&&lE.set(t,r))}return r}toString(){return this.cssText}};const OR=n=>new BS(typeof n=="string"?n:n+"",void 0,ax),es=(n,...r)=>{const t=n.length===1?n[0]:r.reduce((o,l,u)=>o+(d=>{if(d._$cssResult$===!0)return d.cssText;if(typeof d=="number")return d;throw Error("Value passed to 'css' function must be a 'css' function result: "+d+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(l)+n[u+1],n[0]);return new BS(t,n,ax)},zR=(n,r)=>{if(sx)n.adoptedStyleSheets=r.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet);else for(const t of r){const o=document.createElement("style"),l=gv.litNonce;l!==void 0&&o.setAttribute("nonce",l),o.textContent=t.cssText,n.appendChild(o)}},cE=sx?n=>n:n=>n instanceof CSSStyleSheet?(r=>{let t="";for(const o of r.cssRules)t+=o.cssText;return OR(t)})(n):n;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:NR,defineProperty:DR,getOwnPropertyDescriptor:FR,getOwnPropertyNames:BR,getOwnPropertySymbols:jR,getPrototypeOf:HR}=Object,ou=globalThis,uE=ou.trustedTypes,UR=uE?uE.emptyScript:"",vw=ou.reactiveElementPolyfillSupport,mg=(n,r)=>n,Lv={toAttribute(n,r){switch(r){case Boolean:n=n?UR:null;break;case Object:case Array:n=n==null?n:JSON.stringify(n)}return n},fromAttribute(n,r){let t=n;switch(r){case Boolean:t=n!==null;break;case Number:t=n===null?null:Number(n);break;case Object:case Array:try{t=JSON.parse(n)}catch{t=null}}return t}},lx=(n,r)=>!NR(n,r),hE={attribute:!0,type:String,converter:Lv,reflect:!1,hasChanged:lx};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),ou.litPropertyMetadata??(ou.litPropertyMetadata=new WeakMap);class Yd extends HTMLElement{static addInitializer(r){this._$Ei(),(this.l??(this.l=[])).push(r)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(r,t=hE){if(t.state&&(t.attribute=!1),this._$Ei(),this.elementProperties.set(r,t),!t.noAccessor){const o=Symbol(),l=this.getPropertyDescriptor(r,o,t);l!==void 0&&DR(this.prototype,r,l)}}static getPropertyDescriptor(r,t,o){const{get:l,set:u}=FR(this.prototype,r)??{get(){return this[t]},set(d){this[t]=d}};return{get(){return l==null?void 0:l.call(this)},set(d){const f=l==null?void 0:l.call(this);u.call(this,d),this.requestUpdate(r,f,o)},configurable:!0,enumerable:!0}}static getPropertyOptions(r){return this.elementProperties.get(r)??hE}static _$Ei(){if(this.hasOwnProperty(mg("elementProperties")))return;const r=HR(this);r.finalize(),r.l!==void 0&&(this.l=[...r.l]),this.elementProperties=new Map(r.elementProperties)}static finalize(){if(this.hasOwnProperty(mg("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(mg("properties"))){const t=this.properties,o=[...BR(t),...jR(t)];for(const l of o)this.createProperty(l,t[l])}const r=this[Symbol.metadata];if(r!==null){const t=litPropertyMetadata.get(r);if(t!==void 0)for(const[o,l]of t)this.elementProperties.set(o,l)}this._$Eh=new Map;for(const[t,o]of this.elementProperties){const l=this._$Eu(t,o);l!==void 0&&this._$Eh.set(l,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(r){const t=[];if(Array.isArray(r)){const o=new Set(r.flat(1/0).reverse());for(const l of o)t.unshift(cE(l))}else r!==void 0&&t.push(cE(r));return t}static _$Eu(r,t){const o=t.attribute;return o===!1?void 0:typeof o=="string"?o:typeof r=="string"?r.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var r;this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),(r=this.constructor.l)==null||r.forEach(t=>t(this))}addController(r){var t;(this._$EO??(this._$EO=new Set)).add(r),this.renderRoot!==void 0&&this.isConnected&&((t=r.hostConnected)==null||t.call(r))}removeController(r){var t;(t=this._$EO)==null||t.delete(r)}_$E_(){const r=new Map,t=this.constructor.elementProperties;for(const o of t.keys())this.hasOwnProperty(o)&&(r.set(o,this[o]),delete this[o]);r.size>0&&(this._$Ep=r)}createRenderRoot(){const r=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return zR(r,this.constructor.elementStyles),r}connectedCallback(){var r;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(r=this._$EO)==null||r.forEach(t=>{var o;return(o=t.hostConnected)==null?void 0:o.call(t)})}enableUpdating(r){}disconnectedCallback(){var r;(r=this._$EO)==null||r.forEach(t=>{var o;return(o=t.hostDisconnected)==null?void 0:o.call(t)})}attributeChangedCallback(r,t,o){this._$AK(r,o)}_$EC(r,t){var u;const o=this.constructor.elementProperties.get(r),l=this.constructor._$Eu(r,o);if(l!==void 0&&o.reflect===!0){const d=(((u=o.converter)==null?void 0:u.toAttribute)!==void 0?o.converter:Lv).toAttribute(t,o.type);this._$Em=r,d==null?this.removeAttribute(l):this.setAttribute(l,d),this._$Em=null}}_$AK(r,t){var u;const o=this.constructor,l=o._$Eh.get(r);if(l!==void 0&&this._$Em!==l){const d=o.getPropertyOptions(l),f=typeof d.converter=="function"?{fromAttribute:d.converter}:((u=d.converter)==null?void 0:u.fromAttribute)!==void 0?d.converter:Lv;this._$Em=l,this[l]=f.fromAttribute(t,d.type),this._$Em=null}}requestUpdate(r,t,o){if(r!==void 0){if(o??(o=this.constructor.getPropertyOptions(r)),!(o.hasChanged??lx)(this[r],t))return;this.P(r,t,o)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(r,t,o){this._$AL.has(r)||this._$AL.set(r,t),o.reflect===!0&&this._$Em!==r&&(this._$Ej??(this._$Ej=new Set)).add(r)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const r=this.scheduleUpdate();return r!=null&&await r,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var o;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[u,d]of this._$Ep)this[u]=d;this._$Ep=void 0}const l=this.constructor.elementProperties;if(l.size>0)for(const[u,d]of l)d.wrapped!==!0||this._$AL.has(u)||this[u]===void 0||this.P(u,this[u],d)}let r=!1;const t=this._$AL;try{r=this.shouldUpdate(t),r?(this.willUpdate(t),(o=this._$EO)==null||o.forEach(l=>{var u;return(u=l.hostUpdate)==null?void 0:u.call(l)}),this.update(t)):this._$EU()}catch(l){throw r=!1,this._$EU(),l}r&&this._$AE(t)}willUpdate(r){}_$AE(r){var t;(t=this._$EO)==null||t.forEach(o=>{var l;return(l=o.hostUpdated)==null?void 0:l.call(o)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(r)),this.updated(r)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(r){return!0}update(r){this._$Ej&&(this._$Ej=this._$Ej.forEach(t=>this._$EC(t,this[t]))),this._$EU()}updated(r){}firstUpdated(r){}}Yd.elementStyles=[],Yd.shadowRootOptions={mode:"open"},Yd[mg("elementProperties")]=new Map,Yd[mg("finalized")]=new Map,vw==null||vw({ReactiveElement:Yd}),(ou.reactiveElementVersions??(ou.reactiveElementVersions=[])).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const vg=globalThis,Rv=vg.trustedTypes,dE=Rv?Rv.createPolicy("lit-html",{createHTML:n=>n}):void 0,jS="$lit$",$c=`lit$${(Math.random()+"").slice(9)}$`,HS="?"+$c,GR=`<${HS}>`,_h=document,Lg=()=>_h.createComment(""),Rg=n=>n===null||typeof n!="object"&&typeof n!="function",US=Array.isArray,qR=n=>US(n)||typeof(n==null?void 0:n[Symbol.iterator])=="function",yw=`[ 	
\f\r]`,Kf=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,pE=/-->/g,fE=/>/g,hh=RegExp(`>|${yw}(?:([^\\s"'>=/]+)(${yw}*=${yw}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),gE=/'/g,mE=/"/g,GS=/^(?:script|style|textarea|title)$/i,VR=n=>(r,...t)=>({_$litType$:n,strings:r,values:t}),_n=VR(1),kh=Symbol.for("lit-noChange"),an=Symbol.for("lit-nothing"),vE=new WeakMap,gh=_h.createTreeWalker(_h,129);function qS(n,r){if(!Array.isArray(n)||!n.hasOwnProperty("raw"))throw Error("invalid template strings array");return dE!==void 0?dE.createHTML(r):r}const WR=(n,r)=>{const t=n.length-1,o=[];let l,u=r===2?"<svg>":"",d=Kf;for(let f=0;f<t;f++){const m=n[f];let v,_,k=-1,C=0;for(;C<m.length&&(d.lastIndex=C,_=d.exec(m),_!==null);)C=d.lastIndex,d===Kf?_[1]==="!--"?d=pE:_[1]!==void 0?d=fE:_[2]!==void 0?(GS.test(_[2])&&(l=RegExp("</"+_[2],"g")),d=hh):_[3]!==void 0&&(d=hh):d===hh?_[0]===">"?(d=l??Kf,k=-1):_[1]===void 0?k=-2:(k=d.lastIndex-_[2].length,v=_[1],d=_[3]===void 0?hh:_[3]==='"'?mE:gE):d===mE||d===gE?d=hh:d===pE||d===fE?d=Kf:(d=hh,l=void 0);const M=d===hh&&n[f+1].startsWith("/>")?" ":"";u+=d===Kf?m+GR:k>=0?(o.push(v),m.slice(0,k)+jS+m.slice(k)+$c+M):m+$c+(k===-2?f:M)}return[qS(n,u+(n[t]||"<?>")+(r===2?"</svg>":"")),o]};class Ag{constructor({strings:r,_$litType$:t},o){let l;this.parts=[];let u=0,d=0;const f=r.length-1,m=this.parts,[v,_]=WR(r,t);if(this.el=Ag.createElement(v,o),gh.currentNode=this.el.content,t===2){const k=this.el.content.firstChild;k.replaceWith(...k.childNodes)}for(;(l=gh.nextNode())!==null&&m.length<f;){if(l.nodeType===1){if(l.hasAttributes())for(const k of l.getAttributeNames())if(k.endsWith(jS)){const C=_[d++],M=l.getAttribute(k).split($c),I=/([.?@])?(.*)/.exec(C);m.push({type:1,index:u,name:I[2],strings:M,ctor:I[1]==="."?YR:I[1]==="?"?XR:I[1]==="@"?KR:_y}),l.removeAttribute(k)}else k.startsWith($c)&&(m.push({type:6,index:u}),l.removeAttribute(k));if(GS.test(l.tagName)){const k=l.textContent.split($c),C=k.length-1;if(C>0){l.textContent=Rv?Rv.emptyScript:"";for(let M=0;M<C;M++)l.append(k[M],Lg()),gh.nextNode(),m.push({type:2,index:++u});l.append(k[C],Lg())}}}else if(l.nodeType===8)if(l.data===HS)m.push({type:2,index:u});else{let k=-1;for(;(k=l.data.indexOf($c,k+1))!==-1;)m.push({type:7,index:u}),k+=$c.length-1}u++}}static createElement(r,t){const o=_h.createElement("template");return o.innerHTML=r,o}}function pp(n,r,t=n,o){var d,f;if(r===kh)return r;let l=o!==void 0?(d=t._$Co)==null?void 0:d[o]:t._$Cl;const u=Rg(r)?void 0:r._$litDirective$;return(l==null?void 0:l.constructor)!==u&&((f=l==null?void 0:l._$AO)==null||f.call(l,!1),u===void 0?l=void 0:(l=new u(n),l._$AT(n,t,o)),o!==void 0?(t._$Co??(t._$Co=[]))[o]=l:t._$Cl=l),l!==void 0&&(r=pp(n,l._$AS(n,r.values),l,o)),r}class ZR{constructor(r,t){this._$AV=[],this._$AN=void 0,this._$AD=r,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(r){const{el:{content:t},parts:o}=this._$AD,l=((r==null?void 0:r.creationScope)??_h).importNode(t,!0);gh.currentNode=l;let u=gh.nextNode(),d=0,f=0,m=o[0];for(;m!==void 0;){if(d===m.index){let v;m.type===2?v=new rm(u,u.nextSibling,this,r):m.type===1?v=new m.ctor(u,m.name,m.strings,this,r):m.type===6&&(v=new JR(u,this,r)),this._$AV.push(v),m=o[++f]}d!==(m==null?void 0:m.index)&&(u=gh.nextNode(),d++)}return gh.currentNode=_h,l}p(r){let t=0;for(const o of this._$AV)o!==void 0&&(o.strings!==void 0?(o._$AI(r,o,t),t+=o.strings.length-2):o._$AI(r[t])),t++}}class rm{get _$AU(){var r;return((r=this._$AM)==null?void 0:r._$AU)??this._$Cv}constructor(r,t,o,l){this.type=2,this._$AH=an,this._$AN=void 0,this._$AA=r,this._$AB=t,this._$AM=o,this.options=l,this._$Cv=(l==null?void 0:l.isConnected)??!0}get parentNode(){let r=this._$AA.parentNode;const t=this._$AM;return t!==void 0&&(r==null?void 0:r.nodeType)===11&&(r=t.parentNode),r}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(r,t=this){r=pp(this,r,t),Rg(r)?r===an||r==null||r===""?(this._$AH!==an&&this._$AR(),this._$AH=an):r!==this._$AH&&r!==kh&&this._(r):r._$litType$!==void 0?this.$(r):r.nodeType!==void 0?this.T(r):qR(r)?this.k(r):this._(r)}S(r){return this._$AA.parentNode.insertBefore(r,this._$AB)}T(r){this._$AH!==r&&(this._$AR(),this._$AH=this.S(r))}_(r){this._$AH!==an&&Rg(this._$AH)?this._$AA.nextSibling.data=r:this.T(_h.createTextNode(r)),this._$AH=r}$(r){var u;const{values:t,_$litType$:o}=r,l=typeof o=="number"?this._$AC(r):(o.el===void 0&&(o.el=Ag.createElement(qS(o.h,o.h[0]),this.options)),o);if(((u=this._$AH)==null?void 0:u._$AD)===l)this._$AH.p(t);else{const d=new ZR(l,this),f=d.u(this.options);d.p(t),this.T(f),this._$AH=d}}_$AC(r){let t=vE.get(r.strings);return t===void 0&&vE.set(r.strings,t=new Ag(r)),t}k(r){US(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let o,l=0;for(const u of r)l===t.length?t.push(o=new rm(this.S(Lg()),this.S(Lg()),this,this.options)):o=t[l],o._$AI(u),l++;l<t.length&&(this._$AR(o&&o._$AB.nextSibling,l),t.length=l)}_$AR(r=this._$AA.nextSibling,t){var o;for((o=this._$AP)==null?void 0:o.call(this,!1,!0,t);r&&r!==this._$AB;){const l=r.nextSibling;r.remove(),r=l}}setConnected(r){var t;this._$AM===void 0&&(this._$Cv=r,(t=this._$AP)==null||t.call(this,r))}}let _y=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(r,t,o,l,u){this.type=1,this._$AH=an,this._$AN=void 0,this.element=r,this.name=t,this._$AM=l,this.options=u,o.length>2||o[0]!==""||o[1]!==""?(this._$AH=Array(o.length-1).fill(new String),this.strings=o):this._$AH=an}_$AI(r,t=this,o,l){const u=this.strings;let d=!1;if(u===void 0)r=pp(this,r,t,0),d=!Rg(r)||r!==this._$AH&&r!==kh,d&&(this._$AH=r);else{const f=r;let m,v;for(r=u[0],m=0;m<u.length-1;m++)v=pp(this,f[o+m],t,m),v===kh&&(v=this._$AH[m]),d||(d=!Rg(v)||v!==this._$AH[m]),v===an?r=an:r!==an&&(r+=(v??"")+u[m+1]),this._$AH[m]=v}d&&!l&&this.j(r)}j(r){r===an?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,r??"")}},YR=class extends _y{constructor(){super(...arguments),this.type=3}j(r){this.element[this.name]=r===an?void 0:r}},XR=class extends _y{constructor(){super(...arguments),this.type=4}j(r){this.element.toggleAttribute(this.name,!!r&&r!==an)}};class KR extends _y{constructor(r,t,o,l,u){super(r,t,o,l,u),this.type=5}_$AI(r,t=this){if((r=pp(this,r,t,0)??an)===kh)return;const o=this._$AH,l=r===an&&o!==an||r.capture!==o.capture||r.once!==o.once||r.passive!==o.passive,u=r!==an&&(o===an||l);l&&this.element.removeEventListener(this.name,this,o),u&&this.element.addEventListener(this.name,this,r),this._$AH=r}handleEvent(r){var t;typeof this._$AH=="function"?this._$AH.call(((t=this.options)==null?void 0:t.host)??this.element,r):this._$AH.handleEvent(r)}}let JR=class{constructor(r,t,o){this.element=r,this.type=6,this._$AN=void 0,this._$AM=t,this.options=o}get _$AU(){return this._$AM._$AU}_$AI(r){pp(this,r)}};const bw=vg.litHtmlPolyfillSupport;bw==null||bw(Ag,rm),(vg.litHtmlVersions??(vg.litHtmlVersions=[])).push("3.1.2");const QR=(n,r,t)=>{const o=(t==null?void 0:t.renderBefore)??r;let l=o._$litPart$;if(l===void 0){const u=(t==null?void 0:t.renderBefore)??null;o._$litPart$=l=new rm(r.insertBefore(Lg(),u),u,void 0,t??{})}return l._$AI(n),l};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let yg=class extends Yd{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t;const r=super.createRenderRoot();return(t=this.renderOptions).renderBefore??(t.renderBefore=r.firstChild),r}update(r){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(r),this._$Do=QR(t,this.renderRoot,this.renderOptions)}connectedCallback(){var r;super.connectedCallback(),(r=this._$Do)==null||r.setConnected(!0)}disconnectedCallback(){var r;super.disconnectedCallback(),(r=this._$Do)==null||r.setConnected(!1)}render(){return kh}};var GT;yg._$litElement$=!0,yg.finalized=!0,(GT=globalThis.litElementHydrateSupport)==null||GT.call(globalThis,{LitElement:yg});const ww=globalThis.litElementPolyfillSupport;ww==null||ww({LitElement:yg});(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.0.4");var ks=es`
  :host {
    box-sizing: border-box;
  }

  :host *,
  :host *::before,
  :host *::after {
    box-sizing: inherit;
  }

  [hidden] {
    display: none !important;
  }
`,$R=es`
  ${ks}

  :host {
    --track-width: 2px;
    --track-color: rgb(128 128 128 / 25%);
    --indicator-color: var(--sl-color-primary-600);
    --speed: 2s;

    display: inline-flex;
    width: 1em;
    height: 1em;
    flex: none;
  }

  .spinner {
    flex: 1 1 auto;
    height: 100%;
    width: 100%;
  }

  .spinner__track,
  .spinner__indicator {
    fill: none;
    stroke-width: var(--track-width);
    r: calc(0.5em - var(--track-width) / 2);
    cx: 0.5em;
    cy: 0.5em;
    transform-origin: 50% 50%;
  }

  .spinner__track {
    stroke: var(--track-color);
    transform-origin: 0% 0%;
  }

  .spinner__indicator {
    stroke: var(--indicator-color);
    stroke-linecap: round;
    stroke-dasharray: 150% 75%;
    animation: spin var(--speed) linear infinite;
  }

  @keyframes spin {
    0% {
      transform: rotate(0deg);
      stroke-dasharray: 0.05em, 3em;
    }

    50% {
      transform: rotate(450deg);
      stroke-dasharray: 1.375em, 1.375em;
    }

    100% {
      transform: rotate(1080deg);
      stroke-dasharray: 0.05em, 3em;
    }
  }
`;const s1=new Set,tA=new MutationObserver(YS),tp=new Map;let VS=document.documentElement.dir||"ltr",WS=document.documentElement.lang||navigator.language,fh;tA.observe(document.documentElement,{attributes:!0,attributeFilter:["dir","lang"]});function ZS(...n){n.map(r=>{const t=r.$code.toLowerCase();tp.has(t)?tp.set(t,Object.assign(Object.assign({},tp.get(t)),r)):tp.set(t,r),fh||(fh=r)}),YS()}function YS(){VS=document.documentElement.dir||"ltr",WS=document.documentElement.lang||navigator.language,[...s1.keys()].map(n=>{typeof n.requestUpdate=="function"&&n.requestUpdate()})}let eA=class{constructor(r){this.host=r,this.host.addController(this)}hostConnected(){s1.add(this.host)}hostDisconnected(){s1.delete(this.host)}dir(){return`${this.host.dir||VS}`.toLowerCase()}lang(){return`${this.host.lang||WS}`.toLowerCase()}getTranslationData(r){var t,o;const l=new Intl.Locale(r.replace(/_/g,"-")),u=l==null?void 0:l.language.toLowerCase(),d=(o=(t=l==null?void 0:l.region)===null||t===void 0?void 0:t.toLowerCase())!==null&&o!==void 0?o:"",f=tp.get(`${u}-${d}`),m=tp.get(u);return{locale:l,language:u,region:d,primary:f,secondary:m}}exists(r,t){var o;const{primary:l,secondary:u}=this.getTranslationData((o=t.lang)!==null&&o!==void 0?o:this.lang());return t=Object.assign({includeFallback:!1},t),!!(l&&l[r]||u&&u[r]||t.includeFallback&&fh&&fh[r])}term(r,...t){const{primary:o,secondary:l}=this.getTranslationData(this.lang());let u;if(o&&o[r])u=o[r];else if(l&&l[r])u=l[r];else if(fh&&fh[r])u=fh[r];else return console.error(`No translation found for: ${String(r)}`),String(r);return typeof u=="function"?u(...t):u}date(r,t){return r=new Date(r),new Intl.DateTimeFormat(this.lang(),t).format(r)}number(r,t){return r=Number(r),isNaN(r)?"":new Intl.NumberFormat(this.lang(),t).format(r)}relativeTime(r,t,o){return new Intl.RelativeTimeFormat(this.lang(),o).format(r,t)}};var XS={$code:"en",$name:"English",$dir:"ltr",carousel:"Carousel",clearEntry:"Clear entry",close:"Close",copied:"Copied",copy:"Copy",currentValue:"Current value",error:"Error",goToSlide:(n,r)=>`Go to slide ${n} of ${r}`,hidePassword:"Hide password",loading:"Loading",nextSlide:"Next slide",numOptionsSelected:n=>n===0?"No options selected":n===1?"1 option selected":`${n} options selected`,previousSlide:"Previous slide",progress:"Progress",remove:"Remove",resize:"Resize",scrollToEnd:"Scroll to end",scrollToStart:"Scroll to start",selectAColorFromTheScreen:"Select a color from the screen",showPassword:"Show password",slideNum:n=>`Slide ${n}`,toggleColorFormat:"Toggle color format"};ZS(XS);var rA=XS,xu=class extends eA{};ZS(rA);var KS=Object.defineProperty,iA=Object.defineProperties,nA=Object.getOwnPropertyDescriptor,oA=Object.getOwnPropertyDescriptors,yE=Object.getOwnPropertySymbols,sA=Object.prototype.hasOwnProperty,aA=Object.prototype.propertyIsEnumerable,xw=(n,r)=>(r=Symbol[n])?r:Symbol.for("Symbol."+n),bE=(n,r,t)=>r in n?KS(n,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[r]=t,_u=(n,r)=>{for(var t in r||(r={}))sA.call(r,t)&&bE(n,t,r[t]);if(yE)for(var t of yE(r))aA.call(r,t)&&bE(n,t,r[t]);return n},ky=(n,r)=>iA(n,oA(r)),Yt=(n,r,t,o)=>{for(var l=o>1?void 0:o?nA(r,t):r,u=n.length-1,d;u>=0;u--)(d=n[u])&&(l=(o?d(r,t,l):d(l))||l);return o&&l&&KS(r,t,l),l},lA=function(n,r){this[0]=n,this[1]=r},cA=n=>{var r=n[xw("asyncIterator")],t=!1,o,l={};return r==null?(r=n[xw("iterator")](),o=u=>l[u]=d=>r[u](d)):(r=r.call(n),o=u=>l[u]=d=>{if(t){if(t=!1,u==="throw")throw d;return d}return t=!0,{done:!1,value:new lA(new Promise(f=>{var m=r[u](d);if(!(m instanceof Object))throw TypeError("Object expected");f(m)}),1)}}),l[xw("iterator")]=()=>l,o("next"),"throw"in r?o("throw"):l.throw=u=>{throw u},"return"in r&&o("return"),l};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const uA={attribute:!0,type:String,converter:Lv,reflect:!1,hasChanged:lx},hA=(n=uA,r,t)=>{const{kind:o,metadata:l}=t;let u=globalThis.litPropertyMetadata.get(l);if(u===void 0&&globalThis.litPropertyMetadata.set(l,u=new Map),u.set(t.name,n),o==="accessor"){const{name:d}=t;return{set(f){const m=r.get.call(this);r.set.call(this,f),this.requestUpdate(d,m,n)},init(f){return f!==void 0&&this.P(d,void 0,n),f}}}if(o==="setter"){const{name:d}=t;return function(f){const m=this[d];r.call(this,f),this.requestUpdate(d,m,n)}}throw Error("Unsupported decorator location: "+o)};function ue(n){return(r,t)=>typeof t=="object"?hA(n,r,t):((o,l,u)=>{const d=l.hasOwnProperty(u);return l.constructor.createProperty(u,d?{...o,wrapped:!0}:o),d?Object.getOwnPropertyDescriptor(l,u):void 0})(n,r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function im(n){return ue({...n,state:!0,attribute:!1})}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const wE=(n,r,t)=>(t.configurable=!0,t.enumerable=!0,Reflect.decorate&&typeof r!="object"&&Object.defineProperty(n,r,t),t);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function cn(n,r){return(t,o,l)=>{const u=d=>{var f;return((f=d.renderRoot)==null?void 0:f.querySelector(n))??null};if(r){const{get:d,set:f}=typeof o=="object"?t:l??(()=>{const m=Symbol();return{get(){return this[m]},set(v){this[m]=v}}})();return wE(t,o,{get(){let m=d.call(this);return m===void 0&&(m=u(this),(m!==null||this.hasUpdated)&&f.call(this,m)),m}})}return wE(t,o,{get(){return u(this)}})}}var to=class extends yg{constructor(){super(),Object.entries(this.constructor.dependencies).forEach(([n,r])=>{this.constructor.define(n,r)})}emit(n,r){const t=new CustomEvent(n,_u({bubbles:!0,cancelable:!1,composed:!0,detail:{}},r));return this.dispatchEvent(t),t}static define(n,r=this,t={}){const o=customElements.get(n);if(!o){customElements.define(n,class extends r{},t);return}let l=" (unknown version)",u=l;"version"in r&&r.version&&(l=" v"+r.version),"version"in o&&o.version&&(u=" v"+o.version),!(l&&u&&l===u)&&console.warn(`Attempted to register <${n}>${l}, but <${n}>${u} has already been registered.`)}};to.version="2.13.1";to.dependencies={};Yt([ue()],to.prototype,"dir",2);Yt([ue()],to.prototype,"lang",2);var Ey=class extends to{constructor(){super(...arguments),this.localize=new xu(this)}render(){return _n`
      <svg part="base" class="spinner" role="progressbar" aria-label=${this.localize.term("loading")}>
        <circle class="spinner__track"></circle>
        <circle class="spinner__indicator"></circle>
      </svg>
    `}};Ey.styles=$R;var Jf=new WeakMap,Qf=new WeakMap,$f=new WeakMap,_w=new WeakSet,q0=new WeakMap,dA=class{constructor(n,r){this.handleFormData=t=>{const o=this.options.disabled(this.host),l=this.options.name(this.host),u=this.options.value(this.host),d=this.host.tagName.toLowerCase()==="sl-button";this.host.isConnected&&!o&&!d&&typeof l=="string"&&l.length>0&&typeof u<"u"&&(Array.isArray(u)?u.forEach(f=>{t.formData.append(l,f.toString())}):t.formData.append(l,u.toString()))},this.handleFormSubmit=t=>{var o;const l=this.options.disabled(this.host),u=this.options.reportValidity;this.form&&!this.form.noValidate&&((o=Jf.get(this.form))==null||o.forEach(d=>{this.setUserInteracted(d,!0)})),this.form&&!this.form.noValidate&&!l&&!u(this.host)&&(t.preventDefault(),t.stopImmediatePropagation())},this.handleFormReset=()=>{this.options.setValue(this.host,this.options.defaultValue(this.host)),this.setUserInteracted(this.host,!1),q0.set(this.host,[])},this.handleInteraction=t=>{const o=q0.get(this.host);o.includes(t.type)||o.push(t.type),o.length===this.options.assumeInteractionOn.length&&this.setUserInteracted(this.host,!0)},this.checkFormValidity=()=>{if(this.form&&!this.form.noValidate){const t=this.form.querySelectorAll("*");for(const o of t)if(typeof o.checkValidity=="function"&&!o.checkValidity())return!1}return!0},this.reportFormValidity=()=>{if(this.form&&!this.form.noValidate){const t=this.form.querySelectorAll("*");for(const o of t)if(typeof o.reportValidity=="function"&&!o.reportValidity())return!1}return!0},(this.host=n).addController(this),this.options=_u({form:t=>{const o=t.form;if(o){const u=t.getRootNode().getElementById(o);if(u)return u}return t.closest("form")},name:t=>t.name,value:t=>t.value,defaultValue:t=>t.defaultValue,disabled:t=>{var o;return(o=t.disabled)!=null?o:!1},reportValidity:t=>typeof t.reportValidity=="function"?t.reportValidity():!0,checkValidity:t=>typeof t.checkValidity=="function"?t.checkValidity():!0,setValue:(t,o)=>t.value=o,assumeInteractionOn:["sl-input"]},r)}hostConnected(){const n=this.options.form(this.host);n&&this.attachForm(n),q0.set(this.host,[]),this.options.assumeInteractionOn.forEach(r=>{this.host.addEventListener(r,this.handleInteraction)})}hostDisconnected(){this.detachForm(),q0.delete(this.host),this.options.assumeInteractionOn.forEach(n=>{this.host.removeEventListener(n,this.handleInteraction)})}hostUpdated(){const n=this.options.form(this.host);n||this.detachForm(),n&&this.form!==n&&(this.detachForm(),this.attachForm(n)),this.host.hasUpdated&&this.setValidity(this.host.validity.valid)}attachForm(n){n?(this.form=n,Jf.has(this.form)?Jf.get(this.form).add(this.host):Jf.set(this.form,new Set([this.host])),this.form.addEventListener("formdata",this.handleFormData),this.form.addEventListener("submit",this.handleFormSubmit),this.form.addEventListener("reset",this.handleFormReset),Qf.has(this.form)||(Qf.set(this.form,this.form.reportValidity),this.form.reportValidity=()=>this.reportFormValidity()),$f.has(this.form)||($f.set(this.form,this.form.checkValidity),this.form.checkValidity=()=>this.checkFormValidity())):this.form=void 0}detachForm(){if(!this.form)return;const n=Jf.get(this.form);n&&(n.delete(this.host),n.size<=0&&(this.form.removeEventListener("formdata",this.handleFormData),this.form.removeEventListener("submit",this.handleFormSubmit),this.form.removeEventListener("reset",this.handleFormReset),Qf.has(this.form)&&(this.form.reportValidity=Qf.get(this.form),Qf.delete(this.form)),$f.has(this.form)&&(this.form.checkValidity=$f.get(this.form),$f.delete(this.form)),this.form=void 0))}setUserInteracted(n,r){r?_w.add(n):_w.delete(n),n.requestUpdate()}doAction(n,r){if(this.form){const t=document.createElement("button");t.type=n,t.style.position="absolute",t.style.width="0",t.style.height="0",t.style.clipPath="inset(50%)",t.style.overflow="hidden",t.style.whiteSpace="nowrap",r&&(t.name=r.name,t.value=r.value,["formaction","formenctype","formmethod","formnovalidate","formtarget"].forEach(o=>{r.hasAttribute(o)&&t.setAttribute(o,r.getAttribute(o))})),this.form.append(t),t.click(),t.remove()}}getForm(){var n;return(n=this.form)!=null?n:null}reset(n){this.doAction("reset",n)}submit(n){this.doAction("submit",n)}setValidity(n){const r=this.host,t=!!_w.has(r),o=!!r.required;r.toggleAttribute("data-required",o),r.toggleAttribute("data-optional",!o),r.toggleAttribute("data-invalid",!n),r.toggleAttribute("data-valid",n),r.toggleAttribute("data-user-invalid",!n&&t),r.toggleAttribute("data-user-valid",n&&t)}updateValidity(){const n=this.host;this.setValidity(n.validity.valid)}emitInvalidEvent(n){const r=new CustomEvent("sl-invalid",{bubbles:!1,composed:!1,cancelable:!0,detail:{}});n||r.preventDefault(),this.host.dispatchEvent(r)||n==null||n.preventDefault()}},cx=Object.freeze({badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valid:!0,valueMissing:!1});Object.freeze(ky(_u({},cx),{valid:!1,valueMissing:!0}));Object.freeze(ky(_u({},cx),{valid:!1,customError:!0}));var pA=es`
  ${ks}

  :host {
    display: inline-block;
    position: relative;
    width: auto;
    cursor: pointer;
  }

  .button {
    display: inline-flex;
    align-items: stretch;
    justify-content: center;
    width: 100%;
    border-style: solid;
    border-width: var(--sl-input-border-width);
    font-family: var(--sl-input-font-family);
    font-weight: var(--sl-font-weight-semibold);
    text-decoration: none;
    user-select: none;
    -webkit-user-select: none;
    white-space: nowrap;
    vertical-align: middle;
    padding: 0;
    transition:
      var(--sl-transition-x-fast) background-color,
      var(--sl-transition-x-fast) color,
      var(--sl-transition-x-fast) border,
      var(--sl-transition-x-fast) box-shadow;
    cursor: inherit;
  }

  .button::-moz-focus-inner {
    border: 0;
  }

  .button:focus {
    outline: none;
  }

  .button:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .button--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  /* When disabled, prevent mouse events from bubbling up from children */
  .button--disabled * {
    pointer-events: none;
  }

  .button__prefix,
  .button__suffix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    pointer-events: none;
  }

  .button__label {
    display: inline-block;
  }

  .button__label::slotted(sl-icon) {
    vertical-align: -2px;
  }

  /*
   * Standard buttons
   */

  /* Default */
  .button--standard.button--default {
    background-color: var(--sl-color-neutral-0);
    border-color: var(--sl-color-neutral-300);
    color: var(--sl-color-neutral-700);
  }

  .button--standard.button--default:hover:not(.button--disabled) {
    background-color: var(--sl-color-primary-50);
    border-color: var(--sl-color-primary-300);
    color: var(--sl-color-primary-700);
  }

  .button--standard.button--default:active:not(.button--disabled) {
    background-color: var(--sl-color-primary-100);
    border-color: var(--sl-color-primary-400);
    color: var(--sl-color-primary-700);
  }

  /* Primary */
  .button--standard.button--primary {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--primary:hover:not(.button--disabled) {
    background-color: var(--sl-color-primary-500);
    border-color: var(--sl-color-primary-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--primary:active:not(.button--disabled) {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  /* Success */
  .button--standard.button--success {
    background-color: var(--sl-color-success-600);
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--success:hover:not(.button--disabled) {
    background-color: var(--sl-color-success-500);
    border-color: var(--sl-color-success-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--success:active:not(.button--disabled) {
    background-color: var(--sl-color-success-600);
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  /* Neutral */
  .button--standard.button--neutral {
    background-color: var(--sl-color-neutral-600);
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--neutral:hover:not(.button--disabled) {
    background-color: var(--sl-color-neutral-500);
    border-color: var(--sl-color-neutral-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--neutral:active:not(.button--disabled) {
    background-color: var(--sl-color-neutral-600);
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  /* Warning */
  .button--standard.button--warning {
    background-color: var(--sl-color-warning-600);
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }
  .button--standard.button--warning:hover:not(.button--disabled) {
    background-color: var(--sl-color-warning-500);
    border-color: var(--sl-color-warning-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--warning:active:not(.button--disabled) {
    background-color: var(--sl-color-warning-600);
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  /* Danger */
  .button--standard.button--danger {
    background-color: var(--sl-color-danger-600);
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--danger:hover:not(.button--disabled) {
    background-color: var(--sl-color-danger-500);
    border-color: var(--sl-color-danger-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--danger:active:not(.button--disabled) {
    background-color: var(--sl-color-danger-600);
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  /*
   * Outline buttons
   */

  .button--outline {
    background: none;
    border: solid 1px;
  }

  /* Default */
  .button--outline.button--default {
    border-color: var(--sl-color-neutral-300);
    color: var(--sl-color-neutral-700);
  }

  .button--outline.button--default:hover:not(.button--disabled),
  .button--outline.button--default.button--checked:not(.button--disabled) {
    border-color: var(--sl-color-primary-600);
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--default:active:not(.button--disabled) {
    border-color: var(--sl-color-primary-700);
    background-color: var(--sl-color-primary-700);
    color: var(--sl-color-neutral-0);
  }

  /* Primary */
  .button--outline.button--primary {
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-primary-600);
  }

  .button--outline.button--primary:hover:not(.button--disabled),
  .button--outline.button--primary.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--primary:active:not(.button--disabled) {
    border-color: var(--sl-color-primary-700);
    background-color: var(--sl-color-primary-700);
    color: var(--sl-color-neutral-0);
  }

  /* Success */
  .button--outline.button--success {
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-success-600);
  }

  .button--outline.button--success:hover:not(.button--disabled),
  .button--outline.button--success.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--success:active:not(.button--disabled) {
    border-color: var(--sl-color-success-700);
    background-color: var(--sl-color-success-700);
    color: var(--sl-color-neutral-0);
  }

  /* Neutral */
  .button--outline.button--neutral {
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-600);
  }

  .button--outline.button--neutral:hover:not(.button--disabled),
  .button--outline.button--neutral.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--neutral:active:not(.button--disabled) {
    border-color: var(--sl-color-neutral-700);
    background-color: var(--sl-color-neutral-700);
    color: var(--sl-color-neutral-0);
  }

  /* Warning */
  .button--outline.button--warning {
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-warning-600);
  }

  .button--outline.button--warning:hover:not(.button--disabled),
  .button--outline.button--warning.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--warning:active:not(.button--disabled) {
    border-color: var(--sl-color-warning-700);
    background-color: var(--sl-color-warning-700);
    color: var(--sl-color-neutral-0);
  }

  /* Danger */
  .button--outline.button--danger {
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-danger-600);
  }

  .button--outline.button--danger:hover:not(.button--disabled),
  .button--outline.button--danger.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--danger:active:not(.button--disabled) {
    border-color: var(--sl-color-danger-700);
    background-color: var(--sl-color-danger-700);
    color: var(--sl-color-neutral-0);
  }

  @media (forced-colors: active) {
    .button.button--outline.button--checked:not(.button--disabled) {
      outline: solid 2px transparent;
    }
  }

  /*
   * Text buttons
   */

  .button--text {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-600);
  }

  .button--text:hover:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-500);
  }

  .button--text:focus-visible:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-500);
  }

  .button--text:active:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-700);
  }

  /*
   * Size modifiers
   */

  .button--small {
    height: auto;
    min-height: var(--sl-input-height-small);
    font-size: var(--sl-button-font-size-small);
    line-height: calc(var(--sl-input-height-small) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-small);
  }

  .button--medium {
    height: auto;
    min-height: var(--sl-input-height-medium);
    font-size: var(--sl-button-font-size-medium);
    line-height: calc(var(--sl-input-height-medium) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-medium);
  }

  .button--large {
    height: auto;
    min-height: var(--sl-input-height-large);
    font-size: var(--sl-button-font-size-large);
    line-height: calc(var(--sl-input-height-large) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-large);
  }

  /*
   * Pill modifier
   */

  .button--pill.button--small {
    border-radius: var(--sl-input-height-small);
  }

  .button--pill.button--medium {
    border-radius: var(--sl-input-height-medium);
  }

  .button--pill.button--large {
    border-radius: var(--sl-input-height-large);
  }

  /*
   * Circle modifier
   */

  .button--circle {
    padding-left: 0;
    padding-right: 0;
  }

  .button--circle.button--small {
    width: var(--sl-input-height-small);
    border-radius: 50%;
  }

  .button--circle.button--medium {
    width: var(--sl-input-height-medium);
    border-radius: 50%;
  }

  .button--circle.button--large {
    width: var(--sl-input-height-large);
    border-radius: 50%;
  }

  .button--circle .button__prefix,
  .button--circle .button__suffix,
  .button--circle .button__caret {
    display: none;
  }

  /*
   * Caret modifier
   */

  .button--caret .button__suffix {
    display: none;
  }

  .button--caret .button__caret {
    height: auto;
  }

  /*
   * Loading modifier
   */

  .button--loading {
    position: relative;
    cursor: wait;
  }

  .button--loading .button__prefix,
  .button--loading .button__label,
  .button--loading .button__suffix,
  .button--loading .button__caret {
    visibility: hidden;
  }

  .button--loading sl-spinner {
    --indicator-color: currentColor;
    position: absolute;
    font-size: 1em;
    height: 1em;
    width: 1em;
    top: calc(50% - 0.5em);
    left: calc(50% - 0.5em);
  }

  /*
   * Badges
   */

  .button ::slotted(sl-badge) {
    position: absolute;
    top: 0;
    right: 0;
    translate: 50% -50%;
    pointer-events: none;
  }

  .button--rtl ::slotted(sl-badge) {
    right: auto;
    left: 0;
    translate: -50% -50%;
  }

  /*
   * Button spacing
   */

  .button--has-label.button--small .button__label {
    padding: 0 var(--sl-spacing-small);
  }

  .button--has-label.button--medium .button__label {
    padding: 0 var(--sl-spacing-medium);
  }

  .button--has-label.button--large .button__label {
    padding: 0 var(--sl-spacing-large);
  }

  .button--has-prefix.button--small {
    padding-inline-start: var(--sl-spacing-x-small);
  }

  .button--has-prefix.button--small .button__label {
    padding-inline-start: var(--sl-spacing-x-small);
  }

  .button--has-prefix.button--medium {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--medium .button__label {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--large {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--large .button__label {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-suffix.button--small,
  .button--caret.button--small {
    padding-inline-end: var(--sl-spacing-x-small);
  }

  .button--has-suffix.button--small .button__label,
  .button--caret.button--small .button__label {
    padding-inline-end: var(--sl-spacing-x-small);
  }

  .button--has-suffix.button--medium,
  .button--caret.button--medium {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--medium .button__label,
  .button--caret.button--medium .button__label {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--large,
  .button--caret.button--large {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--large .button__label,
  .button--caret.button--large .button__label {
    padding-inline-end: var(--sl-spacing-small);
  }

  /*
   * Button groups support a variety of button types (e.g. buttons with tooltips, buttons as dropdown triggers, etc.).
   * This means buttons aren't always direct descendants of the button group, thus we can't target them with the
   * ::slotted selector. To work around this, the button group component does some magic to add these special classes to
   * buttons and we style them here instead.
   */

  :host(.sl-button-group__button--first:not(.sl-button-group__button--last)) .button {
    border-start-end-radius: 0;
    border-end-end-radius: 0;
  }

  :host(.sl-button-group__button--inner) .button {
    border-radius: 0;
  }

  :host(.sl-button-group__button--last:not(.sl-button-group__button--first)) .button {
    border-start-start-radius: 0;
    border-end-start-radius: 0;
  }

  /* All except the first */
  :host(.sl-button-group__button:not(.sl-button-group__button--first)) {
    margin-inline-start: calc(-1 * var(--sl-input-border-width));
  }

  /* Add a visual separator between solid buttons */
  :host(
      .sl-button-group__button:not(
          .sl-button-group__button--first,
          .sl-button-group__button--radio,
          [variant='default']
        ):not(:hover)
    )
    .button:after {
    content: '';
    position: absolute;
    top: 0;
    inset-inline-start: 0;
    bottom: 0;
    border-left: solid 1px rgb(128 128 128 / 33%);
    mix-blend-mode: multiply;
  }

  /* Bump hovered, focused, and checked buttons up so their focus ring isn't clipped */
  :host(.sl-button-group__button--hover) {
    z-index: 1;
  }

  /* Focus and checked are always on top */
  :host(.sl-button-group__button--focus),
  :host(.sl-button-group__button[checked]) {
    z-index: 2;
  }
`,ux=class{constructor(n,...r){this.slotNames=[],this.handleSlotChange=t=>{const o=t.target;(this.slotNames.includes("[default]")&&!o.name||o.name&&this.slotNames.includes(o.name))&&this.host.requestUpdate()},(this.host=n).addController(this),this.slotNames=r}hasDefaultSlot(){return[...this.host.childNodes].some(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent.trim()!=="")return!0;if(n.nodeType===n.ELEMENT_NODE){const r=n;if(r.tagName.toLowerCase()==="sl-visually-hidden")return!1;if(!r.hasAttribute("slot"))return!0}return!1})}hasNamedSlot(n){return this.host.querySelector(`:scope > [slot="${n}"]`)!==null}test(n){return n==="[default]"?this.hasDefaultSlot():this.hasNamedSlot(n)}hostConnected(){this.host.shadowRoot.addEventListener("slotchange",this.handleSlotChange)}hostDisconnected(){this.host.shadowRoot.removeEventListener("slotchange",this.handleSlotChange)}};function fA(n){if(!n)return"";const r=n.assignedNodes({flatten:!0});let t="";return[...r].forEach(o=>{o.nodeType===Node.TEXT_NODE&&(t+=o.textContent)}),t}var a1="";function xE(n){a1=n}function gA(n=""){if(!a1){const r=[...document.getElementsByTagName("script")],t=r.find(o=>o.hasAttribute("data-shoelace"));if(t)xE(t.getAttribute("data-shoelace"));else{const o=r.find(u=>/shoelace(\.min)?\.js($|\?)/.test(u.src)||/shoelace-autoloader(\.min)?\.js($|\?)/.test(u.src));let l="";o&&(l=o.getAttribute("src")),xE(l.split("/").slice(0,-1).join("/"))}}return a1.replace(/\/$/,"")+(n?`/${n.replace(/^\//,"")}`:"")}var mA={name:"default",resolver:n=>gA(`assets/icons/${n}.svg`)},vA=mA,_E={caret:`
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <polyline points="6 9 12 15 18 9"></polyline>
    </svg>
  `,check:`
    <svg part="checked-icon" class="checkbox__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
        <g stroke="currentColor">
          <g transform="translate(3.428571, 3.428571)">
            <path d="M0,5.71428571 L3.42857143,9.14285714"></path>
            <path d="M9.14285714,0 L3.42857143,9.14285714"></path>
          </g>
        </g>
      </g>
    </svg>
  `,"chevron-down":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-down" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,"chevron-left":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-left" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
    </svg>
  `,"chevron-right":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,copy:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-copy" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M4 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V2Zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H6ZM2 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1h1v1a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1v1H2Z"/>
    </svg>
  `,eye:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">
      <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
      <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
    </svg>
  `,"eye-slash":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye-slash" viewBox="0 0 16 16">
      <path d="M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"/>
      <path d="M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z"/>
      <path d="M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12-.708.708z"/>
    </svg>
  `,eyedropper:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eyedropper" viewBox="0 0 16 16">
      <path d="M13.354.646a1.207 1.207 0 0 0-1.708 0L8.5 3.793l-.646-.647a.5.5 0 1 0-.708.708L8.293 5l-7.147 7.146A.5.5 0 0 0 1 12.5v1.793l-.854.853a.5.5 0 1 0 .708.707L1.707 15H3.5a.5.5 0 0 0 .354-.146L11 7.707l1.146 1.147a.5.5 0 0 0 .708-.708l-.647-.646 3.147-3.146a1.207 1.207 0 0 0 0-1.708l-2-2zM2 12.707l7-7L10.293 7l-7 7H2v-1.293z"></path>
    </svg>
  `,"grip-vertical":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-grip-vertical" viewBox="0 0 16 16">
      <path d="M7 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path>
    </svg>
  `,indeterminate:`
    <svg part="indeterminate-icon" class="checkbox__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
        <g stroke="currentColor" stroke-width="2">
          <g transform="translate(2.285714, 6.857143)">
            <path d="M10.2857143,1.14285714 L1.14285714,1.14285714"></path>
          </g>
        </g>
      </g>
    </svg>
  `,"person-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
      <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
    </svg>
  `,"play-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16">
      <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"></path>
    </svg>
  `,"pause-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pause-fill" viewBox="0 0 16 16">
      <path d="M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"></path>
    </svg>
  `,radio:`
    <svg part="checked-icon" class="radio__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g fill="currentColor">
          <circle cx="8" cy="8" r="3.42857143"></circle>
        </g>
      </g>
    </svg>
  `,"star-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
    </svg>
  `,"x-lg":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
      <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/>
    </svg>
  `,"x-circle-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle-fill" viewBox="0 0 16 16">
      <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"></path>
    </svg>
  `},yA={name:"system",resolver:n=>n in _E?`data:image/svg+xml,${encodeURIComponent(_E[n])}`:""},bA=yA,wA=[vA,bA],l1=[];function xA(n){l1.push(n)}function _A(n){l1=l1.filter(r=>r!==n)}function kE(n){return wA.find(r=>r.name===n)}var kA=es`
  ${ks}

  :host {
    display: inline-block;
    width: 1em;
    height: 1em;
    box-sizing: content-box !important;
  }

  svg {
    display: block;
    height: 100%;
    width: 100%;
  }
`;function yo(n,r){const t=_u({waitUntilFirstUpdate:!1},r);return(o,l)=>{const{update:u}=o,d=Array.isArray(n)?n:[n];o.update=function(f){d.forEach(m=>{const v=m;if(f.has(v)){const _=f.get(v),k=this[v];_!==k&&(!t.waitUntilFirstUpdate||this.hasUpdated)&&this[l](_,k)}}),u.call(this,f)}}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const EA=(n,r)=>r===void 0?(n==null?void 0:n._$litType$)!==void 0:(n==null?void 0:n._$litType$)===r,TA=n=>n.strings===void 0;var tg=Symbol(),V0=Symbol(),kw,Ew=new Map,ea=class extends to{constructor(){super(...arguments),this.initialRender=!1,this.svg=null,this.label="",this.library="default"}async resolveIcon(n,r){var t;let o;if(r!=null&&r.spriteSheet)return _n`<svg part="svg">
        <use part="use" href="${n}"></use>
      </svg>`;try{if(o=await fetch(n,{mode:"cors"}),!o.ok)return o.status===410?tg:V0}catch{return V0}try{const l=document.createElement("div");l.innerHTML=await o.text();const u=l.firstElementChild;if(((t=u==null?void 0:u.tagName)==null?void 0:t.toLowerCase())!=="svg")return tg;kw||(kw=new DOMParser);const f=kw.parseFromString(u.outerHTML,"text/html").body.querySelector("svg");return f?(f.part.add("svg"),document.adoptNode(f)):tg}catch{return tg}}connectedCallback(){super.connectedCallback(),xA(this)}firstUpdated(){this.initialRender=!0,this.setIcon()}disconnectedCallback(){super.disconnectedCallback(),_A(this)}getIconSource(){const n=kE(this.library);return this.name&&n?{url:n.resolver(this.name),fromLibrary:!0}:{url:this.src,fromLibrary:!1}}handleLabelChange(){typeof this.label=="string"&&this.label.length>0?(this.setAttribute("role","img"),this.setAttribute("aria-label",this.label),this.removeAttribute("aria-hidden")):(this.removeAttribute("role"),this.removeAttribute("aria-label"),this.setAttribute("aria-hidden","true"))}async setIcon(){var n;const{url:r,fromLibrary:t}=this.getIconSource(),o=t?kE(this.library):void 0;if(!r){this.svg=null;return}let l=Ew.get(r);if(l||(l=this.resolveIcon(r,o),Ew.set(r,l)),!this.initialRender)return;const u=await l;if(u===V0&&Ew.delete(r),r===this.getIconSource().url){if(EA(u)){this.svg=u;return}switch(u){case V0:case tg:this.svg=null,this.emit("sl-error");break;default:this.svg=u.cloneNode(!0),(n=o==null?void 0:o.mutator)==null||n.call(o,this.svg),this.emit("sl-load")}}}render(){return this.svg}};ea.styles=kA;Yt([im()],ea.prototype,"svg",2);Yt([ue({reflect:!0})],ea.prototype,"name",2);Yt([ue()],ea.prototype,"src",2);Yt([ue()],ea.prototype,"label",2);Yt([ue({reflect:!0})],ea.prototype,"library",2);Yt([yo("label")],ea.prototype,"handleLabelChange",1);Yt([yo(["name","src","library"])],ea.prototype,"setIcon",1);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const JS={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},QS=n=>(...r)=>({_$litDirective$:n,values:r});let $S=class{constructor(r){}get _$AU(){return this._$AM._$AU}_$AT(r,t,o){this._$Ct=r,this._$AM=t,this._$Ci=o}_$AS(r,t){return this.update(r,t)}update(r,t){return this.render(...t)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Na=QS(class extends $S{constructor(n){var r;if(super(n),n.type!==JS.ATTRIBUTE||n.name!=="class"||((r=n.strings)==null?void 0:r.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(n){return" "+Object.keys(n).filter(r=>n[r]).join(" ")+" "}update(n,[r]){var o,l;if(this.st===void 0){this.st=new Set,n.strings!==void 0&&(this.nt=new Set(n.strings.join(" ").split(/\s/).filter(u=>u!=="")));for(const u in r)r[u]&&!((o=this.nt)!=null&&o.has(u))&&this.st.add(u);return this.render(r)}const t=n.element.classList;for(const u of this.st)u in r||(t.remove(u),this.st.delete(u));for(const u in r){const d=!!r[u];d===this.st.has(u)||(l=this.nt)!=null&&l.has(u)||(d?(t.add(u),this.st.add(u)):(t.remove(u),this.st.delete(u)))}return kh}});/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const tC=Symbol.for(""),SA=n=>{if((n==null?void 0:n.r)===tC)return n==null?void 0:n._$litStatic$},Av=(n,...r)=>({_$litStatic$:r.reduce((t,o,l)=>t+(u=>{if(u._$litStatic$!==void 0)return u._$litStatic$;throw Error(`Value passed to 'literal' function must be a 'literal' result: ${u}. Use 'unsafeStatic' to pass non-literal values, but
            take care to ensure page security.`)})(o)+n[l+1],n[0]),r:tC}),EE=new Map,CA=n=>(r,...t)=>{const o=t.length;let l,u;const d=[],f=[];let m,v=0,_=!1;for(;v<o;){for(m=r[v];v<o&&(u=t[v],(l=SA(u))!==void 0);)m+=l+r[++v],_=!0;v!==o&&f.push(u),d.push(m),v++}if(v===o&&d.push(r[o]),_){const k=d.join("$$lit$$");(r=EE.get(k))===void 0&&(d.raw=d,EE.set(k,r=d)),t=f}return n(r,...t)},mv=CA(_n);/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const sn=n=>n??an;var bi=class extends to{constructor(){super(...arguments),this.formControlController=new dA(this,{assumeInteractionOn:["click"]}),this.hasSlotController=new ux(this,"[default]","prefix","suffix"),this.localize=new xu(this),this.hasFocus=!1,this.invalid=!1,this.title="",this.variant="default",this.size="medium",this.caret=!1,this.disabled=!1,this.loading=!1,this.outline=!1,this.pill=!1,this.circle=!1,this.type="button",this.name="",this.value="",this.href="",this.rel="noreferrer noopener"}get validity(){return this.isButton()?this.button.validity:cx}get validationMessage(){return this.isButton()?this.button.validationMessage:""}firstUpdated(){this.isButton()&&this.formControlController.updateValidity()}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleClick(){this.type==="submit"&&this.formControlController.submit(this),this.type==="reset"&&this.formControlController.reset(this)}handleInvalid(n){this.formControlController.setValidity(!1),this.formControlController.emitInvalidEvent(n)}isButton(){return!this.href}isLink(){return!!this.href}handleDisabledChange(){this.isButton()&&this.formControlController.setValidity(this.disabled)}click(){this.button.click()}focus(n){this.button.focus(n)}blur(){this.button.blur()}checkValidity(){return this.isButton()?this.button.checkValidity():!0}getForm(){return this.formControlController.getForm()}reportValidity(){return this.isButton()?this.button.reportValidity():!0}setCustomValidity(n){this.isButton()&&(this.button.setCustomValidity(n),this.formControlController.updateValidity())}render(){const n=this.isLink(),r=n?Av`a`:Av`button`;return mv`
      <${r}
        part="base"
        class=${Na({button:!0,"button--default":this.variant==="default","button--primary":this.variant==="primary","button--success":this.variant==="success","button--neutral":this.variant==="neutral","button--warning":this.variant==="warning","button--danger":this.variant==="danger","button--text":this.variant==="text","button--small":this.size==="small","button--medium":this.size==="medium","button--large":this.size==="large","button--caret":this.caret,"button--circle":this.circle,"button--disabled":this.disabled,"button--focused":this.hasFocus,"button--loading":this.loading,"button--standard":!this.outline,"button--outline":this.outline,"button--pill":this.pill,"button--rtl":this.localize.dir()==="rtl","button--has-label":this.hasSlotController.test("[default]"),"button--has-prefix":this.hasSlotController.test("prefix"),"button--has-suffix":this.hasSlotController.test("suffix")})}
        ?disabled=${sn(n?void 0:this.disabled)}
        type=${sn(n?void 0:this.type)}
        title=${this.title}
        name=${sn(n?void 0:this.name)}
        value=${sn(n?void 0:this.value)}
        href=${sn(n?this.href:void 0)}
        target=${sn(n?this.target:void 0)}
        download=${sn(n?this.download:void 0)}
        rel=${sn(n?this.rel:void 0)}
        role=${sn(n?void 0:"button")}
        aria-disabled=${this.disabled?"true":"false"}
        tabindex=${this.disabled?"-1":"0"}
        @blur=${this.handleBlur}
        @focus=${this.handleFocus}
        @invalid=${this.isButton()?this.handleInvalid:null}
        @click=${this.handleClick}
      >
        <slot name="prefix" part="prefix" class="button__prefix"></slot>
        <slot part="label" class="button__label"></slot>
        <slot name="suffix" part="suffix" class="button__suffix"></slot>
        ${this.caret?mv` <sl-icon part="caret" class="button__caret" library="system" name="caret"></sl-icon> `:""}
        ${this.loading?mv`<sl-spinner part="spinner"></sl-spinner>`:""}
      </${r}>
    `}};bi.styles=pA;bi.dependencies={"sl-icon":ea,"sl-spinner":Ey};Yt([cn(".button")],bi.prototype,"button",2);Yt([im()],bi.prototype,"hasFocus",2);Yt([im()],bi.prototype,"invalid",2);Yt([ue()],bi.prototype,"title",2);Yt([ue({reflect:!0})],bi.prototype,"variant",2);Yt([ue({reflect:!0})],bi.prototype,"size",2);Yt([ue({type:Boolean,reflect:!0})],bi.prototype,"caret",2);Yt([ue({type:Boolean,reflect:!0})],bi.prototype,"disabled",2);Yt([ue({type:Boolean,reflect:!0})],bi.prototype,"loading",2);Yt([ue({type:Boolean,reflect:!0})],bi.prototype,"outline",2);Yt([ue({type:Boolean,reflect:!0})],bi.prototype,"pill",2);Yt([ue({type:Boolean,reflect:!0})],bi.prototype,"circle",2);Yt([ue()],bi.prototype,"type",2);Yt([ue()],bi.prototype,"name",2);Yt([ue()],bi.prototype,"value",2);Yt([ue()],bi.prototype,"href",2);Yt([ue()],bi.prototype,"target",2);Yt([ue()],bi.prototype,"rel",2);Yt([ue()],bi.prototype,"download",2);Yt([ue()],bi.prototype,"form",2);Yt([ue({attribute:"formaction"})],bi.prototype,"formAction",2);Yt([ue({attribute:"formenctype"})],bi.prototype,"formEnctype",2);Yt([ue({attribute:"formmethod"})],bi.prototype,"formMethod",2);Yt([ue({attribute:"formnovalidate",type:Boolean})],bi.prototype,"formNoValidate",2);Yt([ue({attribute:"formtarget"})],bi.prototype,"formTarget",2);Yt([yo("disabled",{waitUntilFirstUpdate:!0})],bi.prototype,"handleDisabledChange",1);bi.define("sl-button");var TE=new WeakMap;function eC(n){let r=TE.get(n);return r||(r=window.getComputedStyle(n,null),TE.set(n,r)),r}function PA(n){if(typeof n.checkVisibility=="function")return n.checkVisibility({checkOpacity:!1,checkVisibilityCSS:!0});const r=eC(n);return r.visibility!=="hidden"&&r.display!=="none"}function MA(n){const r=eC(n),{overflowY:t,overflowX:o}=r;return t==="scroll"||o==="scroll"?!0:t!=="auto"||o!=="auto"?!1:n.scrollHeight>n.clientHeight&&t==="auto"||n.scrollWidth>n.clientWidth&&o==="auto"}function IA(n){const r=n.tagName.toLowerCase(),t=Number(n.getAttribute("tabindex"));return n.hasAttribute("tabindex")&&(isNaN(t)||t<=-1)||n.hasAttribute("disabled")||n.closest("[inert]")||r==="input"&&n.getAttribute("type")==="radio"&&!n.hasAttribute("checked")||!PA(n)?!1:(r==="audio"||r==="video")&&n.hasAttribute("controls")||n.hasAttribute("tabindex")||n.hasAttribute("contenteditable")&&n.getAttribute("contenteditable")!=="false"||["button","input","select","textarea","a","audio","video","summary","iframe"].includes(r)?!0:MA(n)}function LA(n){var r,t;const o=c1(n),l=(r=o[0])!=null?r:null,u=(t=o[o.length-1])!=null?t:null;return{start:l,end:u}}function RA(n,r){var t;return((t=n.getRootNode({composed:!0}))==null?void 0:t.host)!==r}function c1(n){const r=new WeakMap,t=[];function o(l){if(l instanceof Element){if(l.hasAttribute("inert")||l.closest("[inert]")||r.has(l))return;r.set(l,!0),!t.includes(l)&&IA(l)&&t.push(l),l instanceof HTMLSlotElement&&RA(l,n)&&l.assignedElements({flatten:!0}).forEach(u=>{o(u)}),l.shadowRoot!==null&&l.shadowRoot.mode==="open"&&o(l.shadowRoot)}for(const u of l.children)o(u)}return o(n),t.sort((l,u)=>{const d=Number(l.getAttribute("tabindex"))||0;return(Number(u.getAttribute("tabindex"))||0)-d})}function*hx(n=document.activeElement){n!=null&&(yield n,"shadowRoot"in n&&n.shadowRoot&&n.shadowRoot.mode!=="closed"&&(yield*cA(hx(n.shadowRoot.activeElement))))}function AA(){return[...hx()].pop()}var eg=[],OA=class{constructor(r){this.tabDirection="forward",this.handleFocusIn=()=>{this.isActive()&&this.checkFocus()},this.handleKeyDown=t=>{var o;if(t.key!=="Tab"||this.isExternalActivated||!this.isActive())return;const l=AA();if(this.previousFocus=l,this.previousFocus&&this.possiblyHasTabbableChildren(this.previousFocus))return;t.shiftKey?this.tabDirection="backward":this.tabDirection="forward";const u=c1(this.element);let d=u.findIndex(m=>m===l);this.previousFocus=this.currentFocus;const f=this.tabDirection==="forward"?1:-1;for(;;){d+f>=u.length?d=0:d+f<0?d=u.length-1:d+=f,this.previousFocus=this.currentFocus;const m=u[d];if(this.tabDirection==="backward"&&this.previousFocus&&this.possiblyHasTabbableChildren(this.previousFocus)||m&&this.possiblyHasTabbableChildren(m))return;t.preventDefault(),this.currentFocus=m,(o=this.currentFocus)==null||o.focus({preventScroll:!1});const v=[...hx()];if(v.includes(this.currentFocus)||!v.includes(this.previousFocus))break}setTimeout(()=>this.checkFocus())},this.handleKeyUp=()=>{this.tabDirection="forward"},this.element=r,this.elementsWithTabbableControls=["iframe"]}activate(){eg.push(this.element),document.addEventListener("focusin",this.handleFocusIn),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}deactivate(){eg=eg.filter(r=>r!==this.element),this.currentFocus=null,document.removeEventListener("focusin",this.handleFocusIn),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)}isActive(){return eg[eg.length-1]===this.element}activateExternal(){this.isExternalActivated=!0}deactivateExternal(){this.isExternalActivated=!1}checkFocus(){if(this.isActive()&&!this.isExternalActivated){const r=c1(this.element);if(!this.element.matches(":focus-within")){const t=r[0],o=r[r.length-1],l=this.tabDirection==="forward"?t:o;typeof(l==null?void 0:l.focus)=="function"&&(this.currentFocus=l,l.focus({preventScroll:!1}))}}}possiblyHasTabbableChildren(r){return this.elementsWithTabbableControls.includes(r.tagName.toLowerCase())||r.hasAttribute("controls")}};function zA(n,r){return{top:Math.round(n.getBoundingClientRect().top-r.getBoundingClientRect().top),left:Math.round(n.getBoundingClientRect().left-r.getBoundingClientRect().left)}}var u1=new Set;function NA(){const n=document.documentElement.clientWidth;return Math.abs(window.innerWidth-n)}function SE(n){if(u1.add(n),!document.body.classList.contains("sl-scroll-lock")){const r=NA();document.body.classList.add("sl-scroll-lock"),document.body.style.setProperty("--sl-scroll-lock-size",`${r}px`)}}function CE(n){u1.delete(n),u1.size===0&&(document.body.classList.remove("sl-scroll-lock"),document.body.style.removeProperty("--sl-scroll-lock-size"))}function PE(n,r,t="vertical",o="smooth"){const l=zA(n,r),u=l.top+r.scrollTop,d=l.left+r.scrollLeft,f=r.scrollLeft,m=r.scrollLeft+r.offsetWidth,v=r.scrollTop,_=r.scrollTop+r.offsetHeight;(t==="horizontal"||t==="both")&&(d<f?r.scrollTo({left:d,behavior:o}):d+n.clientWidth>m&&r.scrollTo({left:d-r.offsetWidth+n.clientWidth,behavior:o})),(t==="vertical"||t==="both")&&(u<v?r.scrollTo({top:u,behavior:o}):u+n.clientHeight>_&&r.scrollTo({top:u-r.offsetHeight+n.clientHeight,behavior:o}))}var DA=es`
  ${ks}

  :host {
    --width: 31rem;
    --header-spacing: var(--sl-spacing-large);
    --body-spacing: var(--sl-spacing-large);
    --footer-spacing: var(--sl-spacing-large);

    display: contents;
  }

  .dialog {
    display: flex;
    align-items: center;
    justify-content: center;
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: var(--sl-z-index-dialog);
  }

  .dialog__panel {
    display: flex;
    flex-direction: column;
    z-index: 2;
    width: var(--width);
    max-width: calc(100% - var(--sl-spacing-2x-large));
    max-height: calc(100% - var(--sl-spacing-2x-large));
    background-color: var(--sl-panel-background-color);
    border-radius: var(--sl-border-radius-medium);
    box-shadow: var(--sl-shadow-x-large);
  }

  .dialog__panel:focus {
    outline: none;
  }

  /* Ensure there's enough vertical padding for phones that don't update vh when chrome appears (e.g. iPhone) */
  @media screen and (max-width: 420px) {
    .dialog__panel {
      max-height: 80vh;
    }
  }

  .dialog--open .dialog__panel {
    display: flex;
    opacity: 1;
  }

  .dialog__header {
    flex: 0 0 auto;
    display: flex;
  }

  .dialog__title {
    flex: 1 1 auto;
    font: inherit;
    font-size: var(--sl-font-size-large);
    line-height: var(--sl-line-height-dense);
    padding: var(--header-spacing);
    margin: 0;
  }

  .dialog__header-actions {
    flex-shrink: 0;
    display: flex;
    flex-wrap: wrap;
    justify-content: end;
    gap: var(--sl-spacing-2x-small);
    padding: 0 var(--header-spacing);
  }

  .dialog__header-actions sl-icon-button,
  .dialog__header-actions ::slotted(sl-icon-button) {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    font-size: var(--sl-font-size-medium);
  }

  .dialog__body {
    flex: 1 1 auto;
    display: block;
    padding: var(--body-spacing);
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }

  .dialog__footer {
    flex: 0 0 auto;
    text-align: right;
    padding: var(--footer-spacing);
  }

  .dialog__footer ::slotted(sl-button:not(:first-of-type)) {
    margin-inline-start: var(--sl-spacing-x-small);
  }

  .dialog:not(.dialog--has-footer) .dialog__footer {
    display: none;
  }

  .dialog__overlay {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-color: var(--sl-overlay-background-color);
  }

  @media (forced-colors: active) {
    .dialog__panel {
      border: solid 1px var(--sl-color-neutral-0);
    }
  }
`,FA=es`
  ${ks}

  :host {
    display: inline-block;
    color: var(--sl-color-neutral-600);
  }

  .icon-button {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    background: none;
    border: none;
    border-radius: var(--sl-border-radius-medium);
    font-size: inherit;
    color: inherit;
    padding: var(--sl-spacing-x-small);
    cursor: pointer;
    transition: var(--sl-transition-x-fast) color;
    -webkit-appearance: none;
  }

  .icon-button:hover:not(.icon-button--disabled),
  .icon-button:focus-visible:not(.icon-button--disabled) {
    color: var(--sl-color-primary-600);
  }

  .icon-button:active:not(.icon-button--disabled) {
    color: var(--sl-color-primary-700);
  }

  .icon-button:focus {
    outline: none;
  }

  .icon-button--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .icon-button:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .icon-button__icon {
    pointer-events: none;
  }
`,Oo=class extends to{constructor(){super(...arguments),this.hasFocus=!1,this.label="",this.disabled=!1}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleClick(n){this.disabled&&(n.preventDefault(),n.stopPropagation())}click(){this.button.click()}focus(n){this.button.focus(n)}blur(){this.button.blur()}render(){const n=!!this.href,r=n?Av`a`:Av`button`;return mv`
      <${r}
        part="base"
        class=${Na({"icon-button":!0,"icon-button--disabled":!n&&this.disabled,"icon-button--focused":this.hasFocus})}
        ?disabled=${sn(n?void 0:this.disabled)}
        type=${sn(n?void 0:"button")}
        href=${sn(n?this.href:void 0)}
        target=${sn(n?this.target:void 0)}
        download=${sn(n?this.download:void 0)}
        rel=${sn(n&&this.target?"noreferrer noopener":void 0)}
        role=${sn(n?void 0:"button")}
        aria-disabled=${this.disabled?"true":"false"}
        aria-label="${this.label}"
        tabindex=${this.disabled?"-1":"0"}
        @blur=${this.handleBlur}
        @focus=${this.handleFocus}
        @click=${this.handleClick}
      >
        <sl-icon
          class="icon-button__icon"
          name=${sn(this.name)}
          library=${sn(this.library)}
          src=${sn(this.src)}
          aria-hidden="true"
        ></sl-icon>
      </${r}>
    `}};Oo.styles=FA;Oo.dependencies={"sl-icon":ea};Yt([cn(".icon-button")],Oo.prototype,"button",2);Yt([im()],Oo.prototype,"hasFocus",2);Yt([ue()],Oo.prototype,"name",2);Yt([ue()],Oo.prototype,"library",2);Yt([ue()],Oo.prototype,"src",2);Yt([ue()],Oo.prototype,"href",2);Yt([ue()],Oo.prototype,"target",2);Yt([ue()],Oo.prototype,"download",2);Yt([ue()],Oo.prototype,"label",2);Yt([ue({type:Boolean,reflect:!0})],Oo.prototype,"disabled",2);var rC=new Map,BA=new WeakMap;function jA(n){return n??{keyframes:[],options:{duration:0}}}function ME(n,r){return r.toLowerCase()==="rtl"?{keyframes:n.rtlKeyframes||n.keyframes,options:n.options}:n}function hc(n,r){rC.set(n,jA(r))}function tc(n,r,t){const o=BA.get(n);if(o!=null&&o[r])return ME(o[r],t.dir);const l=rC.get(r);return l?ME(l,t.dir):{keyframes:[],options:{duration:0}}}function fp(n,r){return new Promise(t=>{function o(l){l.target===n&&(n.removeEventListener(r,o),t())}n.addEventListener(r,o)})}function ec(n,r,t){return new Promise(o=>{if((t==null?void 0:t.duration)===1/0)throw new Error("Promise-based animations must be finite.");const l=n.animate(r,ky(_u({},t),{duration:HA()?0:t.duration}));l.addEventListener("cancel",o,{once:!0}),l.addEventListener("finish",o,{once:!0})})}function IE(n){return n=n.toString().toLowerCase(),n.indexOf("ms")>-1?parseFloat(n):n.indexOf("s")>-1?parseFloat(n)*1e3:parseFloat(n)}function HA(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches}function eu(n){return Promise.all(n.getAnimations().map(r=>new Promise(t=>{r.cancel(),requestAnimationFrame(t)})))}var vl=class extends to{constructor(){super(...arguments),this.hasSlotController=new ux(this,"footer"),this.localize=new xu(this),this.modal=new OA(this),this.open=!1,this.label="",this.noHeader=!1,this.handleDocumentKeyDown=n=>{n.key==="Escape"&&this.modal.isActive()&&this.open&&(n.stopPropagation(),this.requestClose("keyboard"))}}firstUpdated(){this.dialog.hidden=!this.open,this.open&&(this.addOpenListeners(),this.modal.activate(),SE(this))}disconnectedCallback(){var n;super.disconnectedCallback(),this.modal.deactivate(),CE(this),(n=this.closeWatcher)==null||n.destroy()}requestClose(n){if(this.emit("sl-request-close",{cancelable:!0,detail:{source:n}}).defaultPrevented){const t=tc(this,"dialog.denyClose",{dir:this.localize.dir()});ec(this.panel,t.keyframes,t.options);return}this.hide()}addOpenListeners(){var n;"CloseWatcher"in window?((n=this.closeWatcher)==null||n.destroy(),this.closeWatcher=new CloseWatcher,this.closeWatcher.onclose=()=>this.requestClose("keyboard")):document.addEventListener("keydown",this.handleDocumentKeyDown)}removeOpenListeners(){var n;(n=this.closeWatcher)==null||n.destroy(),document.removeEventListener("keydown",this.handleDocumentKeyDown)}async handleOpenChange(){if(this.open){this.emit("sl-show"),this.addOpenListeners(),this.originalTrigger=document.activeElement,this.modal.activate(),SE(this);const n=this.querySelector("[autofocus]");n&&n.removeAttribute("autofocus"),await Promise.all([eu(this.dialog),eu(this.overlay)]),this.dialog.hidden=!1,requestAnimationFrame(()=>{this.emit("sl-initial-focus",{cancelable:!0}).defaultPrevented||(n?n.focus({preventScroll:!0}):this.panel.focus({preventScroll:!0})),n&&n.setAttribute("autofocus","")});const r=tc(this,"dialog.show",{dir:this.localize.dir()}),t=tc(this,"dialog.overlay.show",{dir:this.localize.dir()});await Promise.all([ec(this.panel,r.keyframes,r.options),ec(this.overlay,t.keyframes,t.options)]),this.emit("sl-after-show")}else{this.emit("sl-hide"),this.removeOpenListeners(),this.modal.deactivate(),await Promise.all([eu(this.dialog),eu(this.overlay)]);const n=tc(this,"dialog.hide",{dir:this.localize.dir()}),r=tc(this,"dialog.overlay.hide",{dir:this.localize.dir()});await Promise.all([ec(this.overlay,r.keyframes,r.options).then(()=>{this.overlay.hidden=!0}),ec(this.panel,n.keyframes,n.options).then(()=>{this.panel.hidden=!0})]),this.dialog.hidden=!0,this.overlay.hidden=!1,this.panel.hidden=!1,CE(this);const t=this.originalTrigger;typeof(t==null?void 0:t.focus)=="function"&&setTimeout(()=>t.focus()),this.emit("sl-after-hide")}}async show(){if(!this.open)return this.open=!0,fp(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,fp(this,"sl-after-hide")}render(){return _n`
      <div
        part="base"
        class=${Na({dialog:!0,"dialog--open":this.open,"dialog--has-footer":this.hasSlotController.test("footer")})}
      >
        <div part="overlay" class="dialog__overlay" @click=${()=>this.requestClose("overlay")} tabindex="-1"></div>

        <div
          part="panel"
          class="dialog__panel"
          role="dialog"
          aria-modal="true"
          aria-hidden=${this.open?"false":"true"}
          aria-label=${sn(this.noHeader?this.label:void 0)}
          aria-labelledby=${sn(this.noHeader?void 0:"title")}
          tabindex="-1"
        >
          ${this.noHeader?"":_n`
                <header part="header" class="dialog__header">
                  <h2 part="title" class="dialog__title" id="title">
                    <slot name="label"> ${this.label.length>0?this.label:String.fromCharCode(65279)} </slot>
                  </h2>
                  <div part="header-actions" class="dialog__header-actions">
                    <slot name="header-actions"></slot>
                    <sl-icon-button
                      part="close-button"
                      exportparts="base:close-button__base"
                      class="dialog__close"
                      name="x-lg"
                      label=${this.localize.term("close")}
                      library="system"
                      @click="${()=>this.requestClose("close-button")}"
                    ></sl-icon-button>
                  </div>
                </header>
              `}
          ${""}
          <div part="body" class="dialog__body" tabindex="-1"><slot></slot></div>

          <footer part="footer" class="dialog__footer">
            <slot name="footer"></slot>
          </footer>
        </div>
      </div>
    `}};vl.styles=DA;vl.dependencies={"sl-icon-button":Oo};Yt([cn(".dialog")],vl.prototype,"dialog",2);Yt([cn(".dialog__panel")],vl.prototype,"panel",2);Yt([cn(".dialog__overlay")],vl.prototype,"overlay",2);Yt([ue({type:Boolean,reflect:!0})],vl.prototype,"open",2);Yt([ue({reflect:!0})],vl.prototype,"label",2);Yt([ue({attribute:"no-header",type:Boolean,reflect:!0})],vl.prototype,"noHeader",2);Yt([yo("open",{waitUntilFirstUpdate:!0})],vl.prototype,"handleOpenChange",1);hc("dialog.show",{keyframes:[{opacity:0,scale:.8},{opacity:1,scale:1}],options:{duration:250,easing:"ease"}});hc("dialog.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.8}],options:{duration:250,easing:"ease"}});hc("dialog.denyClose",{keyframes:[{scale:1},{scale:1.02},{scale:1}],options:{duration:250}});hc("dialog.overlay.show",{keyframes:[{opacity:0},{opacity:1}],options:{duration:250}});hc("dialog.overlay.hide",{keyframes:[{opacity:1},{opacity:0}],options:{duration:250}});vl.define("sl-dialog");var UA=es`
  ${ks}

  :host {
    display: inline-block;
  }

  .dropdown::part(popup) {
    z-index: var(--sl-z-index-dropdown);
  }

  .dropdown[data-current-placement^='top']::part(popup) {
    transform-origin: bottom;
  }

  .dropdown[data-current-placement^='bottom']::part(popup) {
    transform-origin: top;
  }

  .dropdown[data-current-placement^='left']::part(popup) {
    transform-origin: right;
  }

  .dropdown[data-current-placement^='right']::part(popup) {
    transform-origin: left;
  }

  .dropdown__trigger {
    display: block;
  }

  .dropdown__panel {
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    box-shadow: var(--sl-shadow-large);
    border-radius: var(--sl-border-radius-medium);
    pointer-events: none;
  }

  .dropdown--open .dropdown__panel {
    display: block;
    pointer-events: all;
  }

  /* When users slot a menu, make sure it conforms to the popup's auto-size */
  ::slotted(sl-menu) {
    max-width: var(--auto-size-available-width) !important;
    max-height: var(--auto-size-available-height) !important;
  }
`,GA=es`
  ${ks}

  :host {
    --arrow-color: var(--sl-color-neutral-1000);
    --arrow-size: 6px;

    /*
     * These properties are computed to account for the arrow's dimensions after being rotated 45º. The constant
     * 0.7071 is derived from sin(45), which is the diagonal size of the arrow's container after rotating.
     */
    --arrow-size-diagonal: calc(var(--arrow-size) * 0.7071);
    --arrow-padding-offset: calc(var(--arrow-size-diagonal) - var(--arrow-size));

    display: contents;
  }

  .popup {
    position: absolute;
    isolation: isolate;
    max-width: var(--auto-size-available-width, none);
    max-height: var(--auto-size-available-height, none);
  }

  .popup--fixed {
    position: fixed;
  }

  .popup:not(.popup--active) {
    display: none;
  }

  .popup__arrow {
    position: absolute;
    width: calc(var(--arrow-size-diagonal) * 2);
    height: calc(var(--arrow-size-diagonal) * 2);
    rotate: 45deg;
    background: var(--arrow-color);
    z-index: -1;
  }

  /* Hover bridge */
  .popup-hover-bridge:not(.popup-hover-bridge--visible) {
    display: none;
  }

  .popup-hover-bridge {
    position: fixed;
    z-index: calc(var(--sl-z-index-dropdown) - 1);
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    clip-path: polygon(
      var(--hover-bridge-top-left-x, 0) var(--hover-bridge-top-left-y, 0),
      var(--hover-bridge-top-right-x, 0) var(--hover-bridge-top-right-y, 0),
      var(--hover-bridge-bottom-right-x, 0) var(--hover-bridge-bottom-right-y, 0),
      var(--hover-bridge-bottom-left-x, 0) var(--hover-bridge-bottom-left-y, 0)
    );
  }
`;const hu=Math.min,bs=Math.max,Ov=Math.round,W0=Math.floor,du=n=>({x:n,y:n}),qA={left:"right",right:"left",bottom:"top",top:"bottom"},VA={start:"end",end:"start"};function h1(n,r,t){return bs(n,hu(r,t))}function Mp(n,r){return typeof n=="function"?n(r):n}function pu(n){return n.split("-")[0]}function Ip(n){return n.split("-")[1]}function iC(n){return n==="x"?"y":"x"}function dx(n){return n==="y"?"height":"width"}function nm(n){return["top","bottom"].includes(pu(n))?"y":"x"}function px(n){return iC(nm(n))}function WA(n,r,t){t===void 0&&(t=!1);const o=Ip(n),l=px(n),u=dx(l);let d=l==="x"?o===(t?"end":"start")?"right":"left":o==="start"?"bottom":"top";return r.reference[u]>r.floating[u]&&(d=zv(d)),[d,zv(d)]}function ZA(n){const r=zv(n);return[d1(n),r,d1(r)]}function d1(n){return n.replace(/start|end/g,r=>VA[r])}function YA(n,r,t){const o=["left","right"],l=["right","left"],u=["top","bottom"],d=["bottom","top"];switch(n){case"top":case"bottom":return t?r?l:o:r?o:l;case"left":case"right":return r?u:d;default:return[]}}function XA(n,r,t,o){const l=Ip(n);let u=YA(pu(n),t==="start",o);return l&&(u=u.map(d=>d+"-"+l),r&&(u=u.concat(u.map(d1)))),u}function zv(n){return n.replace(/left|right|bottom|top/g,r=>qA[r])}function KA(n){return{top:0,right:0,bottom:0,left:0,...n}}function nC(n){return typeof n!="number"?KA(n):{top:n,right:n,bottom:n,left:n}}function Nv(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}function LE(n,r,t){let{reference:o,floating:l}=n;const u=nm(r),d=px(r),f=dx(d),m=pu(r),v=u==="y",_=o.x+o.width/2-l.width/2,k=o.y+o.height/2-l.height/2,C=o[f]/2-l[f]/2;let M;switch(m){case"top":M={x:_,y:o.y-l.height};break;case"bottom":M={x:_,y:o.y+o.height};break;case"right":M={x:o.x+o.width,y:k};break;case"left":M={x:o.x-l.width,y:k};break;default:M={x:o.x,y:o.y}}switch(Ip(r)){case"start":M[d]-=C*(t&&v?-1:1);break;case"end":M[d]+=C*(t&&v?-1:1);break}return M}const JA=async(n,r,t)=>{const{placement:o="bottom",strategy:l="absolute",middleware:u=[],platform:d}=t,f=u.filter(Boolean),m=await(d.isRTL==null?void 0:d.isRTL(r));let v=await d.getElementRects({reference:n,floating:r,strategy:l}),{x:_,y:k}=LE(v,o,m),C=o,M={},I=0;for(let F=0;F<f.length;F++){const{name:H,fn:U}=f[F],{x:J,y:G,data:Z,reset:at}=await U({x:_,y:k,initialPlacement:o,placement:C,strategy:l,middlewareData:M,rects:v,platform:d,elements:{reference:n,floating:r}});_=J??_,k=G??k,M={...M,[H]:{...M[H],...Z}},at&&I<=50&&(I++,typeof at=="object"&&(at.placement&&(C=at.placement),at.rects&&(v=at.rects===!0?await d.getElementRects({reference:n,floating:r,strategy:l}):at.rects),{x:_,y:k}=LE(v,C,m)),F=-1)}return{x:_,y:k,placement:C,strategy:l,middlewareData:M}};async function fx(n,r){var t;r===void 0&&(r={});const{x:o,y:l,platform:u,rects:d,elements:f,strategy:m}=n,{boundary:v="clippingAncestors",rootBoundary:_="viewport",elementContext:k="floating",altBoundary:C=!1,padding:M=0}=Mp(r,n),I=nC(M),H=f[C?k==="floating"?"reference":"floating":k],U=Nv(await u.getClippingRect({element:(t=await(u.isElement==null?void 0:u.isElement(H)))==null||t?H:H.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(f.floating)),boundary:v,rootBoundary:_,strategy:m})),J=k==="floating"?{...d.floating,x:o,y:l}:d.reference,G=await(u.getOffsetParent==null?void 0:u.getOffsetParent(f.floating)),Z=await(u.isElement==null?void 0:u.isElement(G))?await(u.getScale==null?void 0:u.getScale(G))||{x:1,y:1}:{x:1,y:1},at=Nv(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:J,offsetParent:G,strategy:m}):J);return{top:(U.top-at.top+I.top)/Z.y,bottom:(at.bottom-U.bottom+I.bottom)/Z.y,left:(U.left-at.left+I.left)/Z.x,right:(at.right-U.right+I.right)/Z.x}}const QA=n=>({name:"arrow",options:n,async fn(r){const{x:t,y:o,placement:l,rects:u,platform:d,elements:f,middlewareData:m}=r,{element:v,padding:_=0}=Mp(n,r)||{};if(v==null)return{};const k=nC(_),C={x:t,y:o},M=px(l),I=dx(M),F=await d.getDimensions(v),H=M==="y",U=H?"top":"left",J=H?"bottom":"right",G=H?"clientHeight":"clientWidth",Z=u.reference[I]+u.reference[M]-C[M]-u.floating[I],at=C[M]-u.reference[M],mt=await(d.getOffsetParent==null?void 0:d.getOffsetParent(v));let ft=mt?mt[G]:0;(!ft||!await(d.isElement==null?void 0:d.isElement(mt)))&&(ft=f.floating[G]||u.floating[I]);const ot=Z/2-at/2,V=ft/2-F[I]/2-1,nt=hu(k[U],V),ut=hu(k[J],V),gt=nt,Jt=ft-F[I]-ut,re=ft/2-F[I]/2+ot,Xt=h1(gt,re,Jt),Ct=!m.arrow&&Ip(l)!=null&&re!==Xt&&u.reference[I]/2-(re<gt?nt:ut)-F[I]/2<0,Kt=Ct?re<gt?re-gt:re-Jt:0;return{[M]:C[M]+Kt,data:{[M]:Xt,centerOffset:re-Xt-Kt,...Ct&&{alignmentOffset:Kt}},reset:Ct}}}),$A=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(r){var t,o;const{placement:l,middlewareData:u,rects:d,initialPlacement:f,platform:m,elements:v}=r,{mainAxis:_=!0,crossAxis:k=!0,fallbackPlacements:C,fallbackStrategy:M="bestFit",fallbackAxisSideDirection:I="none",flipAlignment:F=!0,...H}=Mp(n,r);if((t=u.arrow)!=null&&t.alignmentOffset)return{};const U=pu(l),J=pu(f)===f,G=await(m.isRTL==null?void 0:m.isRTL(v.floating)),Z=C||(J||!F?[zv(f)]:ZA(f));!C&&I!=="none"&&Z.push(...XA(f,F,I,G));const at=[f,...Z],mt=await fx(r,H),ft=[];let ot=((o=u.flip)==null?void 0:o.overflows)||[];if(_&&ft.push(mt[U]),k){const gt=WA(l,d,G);ft.push(mt[gt[0]],mt[gt[1]])}if(ot=[...ot,{placement:l,overflows:ft}],!ft.every(gt=>gt<=0)){var V,nt;const gt=(((V=u.flip)==null?void 0:V.index)||0)+1,Jt=at[gt];if(Jt)return{data:{index:gt,overflows:ot},reset:{placement:Jt}};let re=(nt=ot.filter(Xt=>Xt.overflows[0]<=0).sort((Xt,Ct)=>Xt.overflows[1]-Ct.overflows[1])[0])==null?void 0:nt.placement;if(!re)switch(M){case"bestFit":{var ut;const Xt=(ut=ot.map(Ct=>[Ct.placement,Ct.overflows.filter(Kt=>Kt>0).reduce((Kt,Zt)=>Kt+Zt,0)]).sort((Ct,Kt)=>Ct[1]-Kt[1])[0])==null?void 0:ut[0];Xt&&(re=Xt);break}case"initialPlacement":re=f;break}if(l!==re)return{reset:{placement:re}}}return{}}}};async function tO(n,r){const{placement:t,platform:o,elements:l}=n,u=await(o.isRTL==null?void 0:o.isRTL(l.floating)),d=pu(t),f=Ip(t),m=nm(t)==="y",v=["left","top"].includes(d)?-1:1,_=u&&m?-1:1,k=Mp(r,n);let{mainAxis:C,crossAxis:M,alignmentAxis:I}=typeof k=="number"?{mainAxis:k,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...k};return f&&typeof I=="number"&&(M=f==="end"?I*-1:I),m?{x:M*_,y:C*v}:{x:C*v,y:M*_}}const eO=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(r){var t,o;const{x:l,y:u,placement:d,middlewareData:f}=r,m=await tO(r,n);return d===((t=f.offset)==null?void 0:t.placement)&&(o=f.arrow)!=null&&o.alignmentOffset?{}:{x:l+m.x,y:u+m.y,data:{...m,placement:d}}}}},rO=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(r){const{x:t,y:o,placement:l}=r,{mainAxis:u=!0,crossAxis:d=!1,limiter:f={fn:H=>{let{x:U,y:J}=H;return{x:U,y:J}}},...m}=Mp(n,r),v={x:t,y:o},_=await fx(r,m),k=nm(pu(l)),C=iC(k);let M=v[C],I=v[k];if(u){const H=C==="y"?"top":"left",U=C==="y"?"bottom":"right",J=M+_[H],G=M-_[U];M=h1(J,M,G)}if(d){const H=k==="y"?"top":"left",U=k==="y"?"bottom":"right",J=I+_[H],G=I-_[U];I=h1(J,I,G)}const F=f.fn({...r,[C]:M,[k]:I});return{...F,data:{x:F.x-t,y:F.y-o}}}}},iO=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(r){const{placement:t,rects:o,platform:l,elements:u}=r,{apply:d=()=>{},...f}=Mp(n,r),m=await fx(r,f),v=pu(t),_=Ip(t),k=nm(t)==="y",{width:C,height:M}=o.floating;let I,F;v==="top"||v==="bottom"?(I=v,F=_===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(F=v,I=_==="end"?"top":"bottom");const H=M-m[I],U=C-m[F],J=!r.middlewareData.shift;let G=H,Z=U;if(k){const mt=C-m.left-m.right;Z=_||J?hu(U,mt):mt}else{const mt=M-m.top-m.bottom;G=_||J?hu(H,mt):mt}if(J&&!_){const mt=bs(m.left,0),ft=bs(m.right,0),ot=bs(m.top,0),V=bs(m.bottom,0);k?Z=C-2*(mt!==0||ft!==0?mt+ft:bs(m.left,m.right)):G=M-2*(ot!==0||V!==0?ot+V:bs(m.top,m.bottom))}await d({...r,availableWidth:Z,availableHeight:G});const at=await l.getDimensions(u.floating);return C!==at.width||M!==at.height?{reset:{rects:!0}}:{}}}};function fu(n){return oC(n)?(n.nodeName||"").toLowerCase():"#document"}function ws(n){var r;return(n==null||(r=n.ownerDocument)==null?void 0:r.defaultView)||window}function dc(n){var r;return(r=(oC(n)?n.ownerDocument:n.document)||window.document)==null?void 0:r.documentElement}function oC(n){return n instanceof Node||n instanceof ws(n).Node}function ac(n){return n instanceof Element||n instanceof ws(n).Element}function pl(n){return n instanceof HTMLElement||n instanceof ws(n).HTMLElement}function RE(n){return typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ws(n).ShadowRoot}function om(n){const{overflow:r,overflowX:t,overflowY:o,display:l}=Qs(n);return/auto|scroll|overlay|hidden|clip/.test(r+o+t)&&!["inline","contents"].includes(l)}function nO(n){return["table","td","th"].includes(fu(n))}function gx(n){const r=mx(),t=Qs(n);return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!r&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!r&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(t.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(t.contain||"").includes(o))}function sC(n){let r=gp(n);for(;pl(r)&&!Ty(r);){if(gx(r))return r;r=gp(r)}return null}function mx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ty(n){return["html","body","#document"].includes(fu(n))}function Qs(n){return ws(n).getComputedStyle(n)}function Sy(n){return ac(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function gp(n){if(fu(n)==="html")return n;const r=n.assignedSlot||n.parentNode||RE(n)&&n.host||dc(n);return RE(r)?r.host:r}function aC(n){const r=gp(n);return Ty(r)?n.ownerDocument?n.ownerDocument.body:n.body:pl(r)&&om(r)?r:aC(r)}function Og(n,r,t){var o;r===void 0&&(r=[]),t===void 0&&(t=!0);const l=aC(n),u=l===((o=n.ownerDocument)==null?void 0:o.body),d=ws(l);return u?r.concat(d,d.visualViewport||[],om(l)?l:[],d.frameElement&&t?Og(d.frameElement):[]):r.concat(l,Og(l,[],t))}function lC(n){const r=Qs(n);let t=parseFloat(r.width)||0,o=parseFloat(r.height)||0;const l=pl(n),u=l?n.offsetWidth:t,d=l?n.offsetHeight:o,f=Ov(t)!==u||Ov(o)!==d;return f&&(t=u,o=d),{width:t,height:o,$:f}}function vx(n){return ac(n)?n:n.contextElement}function lp(n){const r=vx(n);if(!pl(r))return du(1);const t=r.getBoundingClientRect(),{width:o,height:l,$:u}=lC(r);let d=(u?Ov(t.width):t.width)/o,f=(u?Ov(t.height):t.height)/l;return(!d||!Number.isFinite(d))&&(d=1),(!f||!Number.isFinite(f))&&(f=1),{x:d,y:f}}const oO=du(0);function cC(n){const r=ws(n);return!mx()||!r.visualViewport?oO:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function sO(n,r,t){return r===void 0&&(r=!1),!t||r&&t!==ws(n)?!1:r}function Eh(n,r,t,o){r===void 0&&(r=!1),t===void 0&&(t=!1);const l=n.getBoundingClientRect(),u=vx(n);let d=du(1);r&&(o?ac(o)&&(d=lp(o)):d=lp(n));const f=sO(u,t,o)?cC(u):du(0);let m=(l.left+f.x)/d.x,v=(l.top+f.y)/d.y,_=l.width/d.x,k=l.height/d.y;if(u){const C=ws(u),M=o&&ac(o)?ws(o):o;let I=C.frameElement;for(;I&&o&&M!==C;){const F=lp(I),H=I.getBoundingClientRect(),U=Qs(I),J=H.left+(I.clientLeft+parseFloat(U.paddingLeft))*F.x,G=H.top+(I.clientTop+parseFloat(U.paddingTop))*F.y;m*=F.x,v*=F.y,_*=F.x,k*=F.y,m+=J,v+=G,I=ws(I).frameElement}}return Nv({width:_,height:k,x:m,y:v})}const aO=[":popover-open",":modal"];function uC(n){let r=!1,t=0,o=0;function l(u){try{r=r||n.matches(u)}catch{}}if(aO.forEach(u=>{l(u)}),r){const u=sC(n);if(u){const d=u.getBoundingClientRect();t=d.x,o=d.y}}return[r,t,o]}function lO(n){let{elements:r,rect:t,offsetParent:o,strategy:l}=n;const u=dc(o),[d]=r?uC(r.floating):[!1];if(o===u||d)return t;let f={scrollLeft:0,scrollTop:0},m=du(1);const v=du(0),_=pl(o);if((_||!_&&l!=="fixed")&&((fu(o)!=="body"||om(u))&&(f=Sy(o)),pl(o))){const k=Eh(o);m=lp(o),v.x=k.x+o.clientLeft,v.y=k.y+o.clientTop}return{width:t.width*m.x,height:t.height*m.y,x:t.x*m.x-f.scrollLeft*m.x+v.x,y:t.y*m.y-f.scrollTop*m.y+v.y}}function cO(n){return Array.from(n.getClientRects())}function hC(n){return Eh(dc(n)).left+Sy(n).scrollLeft}function uO(n){const r=dc(n),t=Sy(n),o=n.ownerDocument.body,l=bs(r.scrollWidth,r.clientWidth,o.scrollWidth,o.clientWidth),u=bs(r.scrollHeight,r.clientHeight,o.scrollHeight,o.clientHeight);let d=-t.scrollLeft+hC(n);const f=-t.scrollTop;return Qs(o).direction==="rtl"&&(d+=bs(r.clientWidth,o.clientWidth)-l),{width:l,height:u,x:d,y:f}}function hO(n,r){const t=ws(n),o=dc(n),l=t.visualViewport;let u=o.clientWidth,d=o.clientHeight,f=0,m=0;if(l){u=l.width,d=l.height;const v=mx();(!v||v&&r==="fixed")&&(f=l.offsetLeft,m=l.offsetTop)}return{width:u,height:d,x:f,y:m}}function dO(n,r){const t=Eh(n,!0,r==="fixed"),o=t.top+n.clientTop,l=t.left+n.clientLeft,u=pl(n)?lp(n):du(1),d=n.clientWidth*u.x,f=n.clientHeight*u.y,m=l*u.x,v=o*u.y;return{width:d,height:f,x:m,y:v}}function AE(n,r,t){let o;if(r==="viewport")o=hO(n,t);else if(r==="document")o=uO(dc(n));else if(ac(r))o=dO(r,t);else{const l=cC(n);o={...r,x:r.x-l.x,y:r.y-l.y}}return Nv(o)}function dC(n,r){const t=gp(n);return t===r||!ac(t)||Ty(t)?!1:Qs(t).position==="fixed"||dC(t,r)}function pO(n,r){const t=r.get(n);if(t)return t;let o=Og(n,[],!1).filter(f=>ac(f)&&fu(f)!=="body"),l=null;const u=Qs(n).position==="fixed";let d=u?gp(n):n;for(;ac(d)&&!Ty(d);){const f=Qs(d),m=gx(d);!m&&f.position==="fixed"&&(l=null),(u?!m&&!l:!m&&f.position==="static"&&!!l&&["absolute","fixed"].includes(l.position)||om(d)&&!m&&dC(n,d))?o=o.filter(_=>_!==d):l=f,d=gp(d)}return r.set(n,o),o}function fO(n){let{element:r,boundary:t,rootBoundary:o,strategy:l}=n;const d=[...t==="clippingAncestors"?pO(r,this._c):[].concat(t),o],f=d[0],m=d.reduce((v,_)=>{const k=AE(r,_,l);return v.top=bs(k.top,v.top),v.right=hu(k.right,v.right),v.bottom=hu(k.bottom,v.bottom),v.left=bs(k.left,v.left),v},AE(r,f,l));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function gO(n){const{width:r,height:t}=lC(n);return{width:r,height:t}}function mO(n,r,t,o){const l=pl(r),u=dc(r),d=t==="fixed",f=Eh(n,!0,d,r);let m={scrollLeft:0,scrollTop:0};const v=du(0);if(l||!l&&!d)if((fu(r)!=="body"||om(u))&&(m=Sy(r)),l){const F=Eh(r,!0,d,r);v.x=F.x+r.clientLeft,v.y=F.y+r.clientTop}else u&&(v.x=hC(u));let _=f.left+m.scrollLeft-v.x,k=f.top+m.scrollTop-v.y;const[C,M,I]=uC(o);return C&&(_+=M,k+=I,l&&(_+=r.clientLeft,k+=r.clientTop)),{x:_,y:k,width:f.width,height:f.height}}function OE(n,r){return!pl(n)||Qs(n).position==="fixed"?null:r?r(n):n.offsetParent}function pC(n,r){const t=ws(n);if(!pl(n))return t;let o=OE(n,r);for(;o&&nO(o)&&Qs(o).position==="static";)o=OE(o,r);return o&&(fu(o)==="html"||fu(o)==="body"&&Qs(o).position==="static"&&!gx(o))?t:o||sC(n)||t}const vO=async function(n){const r=this.getOffsetParent||pC,t=this.getDimensions;return{reference:mO(n.reference,await r(n.floating),n.strategy,n.floating),floating:{x:0,y:0,...await t(n.floating)}}};function yO(n){return Qs(n).direction==="rtl"}const vv={convertOffsetParentRelativeRectToViewportRelativeRect:lO,getDocumentElement:dc,getClippingRect:fO,getOffsetParent:pC,getElementRects:vO,getClientRects:cO,getDimensions:gO,getScale:lp,isElement:ac,isRTL:yO};function bO(n,r){let t=null,o;const l=dc(n);function u(){var f;clearTimeout(o),(f=t)==null||f.disconnect(),t=null}function d(f,m){f===void 0&&(f=!1),m===void 0&&(m=1),u();const{left:v,top:_,width:k,height:C}=n.getBoundingClientRect();if(f||r(),!k||!C)return;const M=W0(_),I=W0(l.clientWidth-(v+k)),F=W0(l.clientHeight-(_+C)),H=W0(v),J={rootMargin:-M+"px "+-I+"px "+-F+"px "+-H+"px",threshold:bs(0,hu(1,m))||1};let G=!0;function Z(at){const mt=at[0].intersectionRatio;if(mt!==m){if(!G)return d();mt?d(!1,mt):o=setTimeout(()=>{d(!1,1e-7)},100)}G=!1}try{t=new IntersectionObserver(Z,{...J,root:l.ownerDocument})}catch{t=new IntersectionObserver(Z,J)}t.observe(n)}return d(!0),u}function wO(n,r,t,o){o===void 0&&(o={});const{ancestorScroll:l=!0,ancestorResize:u=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:m=!1}=o,v=vx(n),_=l||u?[...v?Og(v):[],...Og(r)]:[];_.forEach(U=>{l&&U.addEventListener("scroll",t,{passive:!0}),u&&U.addEventListener("resize",t)});const k=v&&f?bO(v,t):null;let C=-1,M=null;d&&(M=new ResizeObserver(U=>{let[J]=U;J&&J.target===v&&M&&(M.unobserve(r),cancelAnimationFrame(C),C=requestAnimationFrame(()=>{var G;(G=M)==null||G.observe(r)})),t()}),v&&!m&&M.observe(v),M.observe(r));let I,F=m?Eh(n):null;m&&H();function H(){const U=Eh(n);F&&(U.x!==F.x||U.y!==F.y||U.width!==F.width||U.height!==F.height)&&t(),F=U,I=requestAnimationFrame(H)}return t(),()=>{var U;_.forEach(J=>{l&&J.removeEventListener("scroll",t),u&&J.removeEventListener("resize",t)}),k==null||k(),(U=M)==null||U.disconnect(),M=null,m&&cancelAnimationFrame(I)}}const xO=rO,_O=$A,zE=iO,kO=QA,EO=(n,r,t)=>{const o=new Map,l={platform:vv,...t},u={...l.platform,_c:o};return JA(n,r,{...l,platform:u})};function TO(n){return SO(n)}function Tw(n){return n.assignedSlot?n.assignedSlot:n.parentNode instanceof ShadowRoot?n.parentNode.host:n.parentNode}function SO(n){for(let r=n;r;r=Tw(r))if(r instanceof Element&&getComputedStyle(r).display==="none")return null;for(let r=Tw(n);r;r=Tw(r)){if(!(r instanceof Element))continue;const t=getComputedStyle(r);if(t.display!=="contents"&&(t.position!=="static"||t.filter!=="none"||r.tagName==="BODY"))return r}return null}function CO(n){return n!==null&&typeof n=="object"&&"getBoundingClientRect"in n}var _i=class extends to{constructor(){super(...arguments),this.active=!1,this.placement="top",this.strategy="absolute",this.distance=0,this.skidding=0,this.arrow=!1,this.arrowPlacement="anchor",this.arrowPadding=10,this.flip=!1,this.flipFallbackPlacements="",this.flipFallbackStrategy="best-fit",this.flipPadding=0,this.shift=!1,this.shiftPadding=0,this.autoSizePadding=0,this.hoverBridge=!1,this.updateHoverBridge=()=>{if(this.hoverBridge&&this.anchorEl){const n=this.anchorEl.getBoundingClientRect(),r=this.popup.getBoundingClientRect(),t=this.placement.includes("top")||this.placement.includes("bottom");let o=0,l=0,u=0,d=0,f=0,m=0,v=0,_=0;t?n.top<r.top?(o=n.left,l=n.bottom,u=n.right,d=n.bottom,f=r.left,m=r.top,v=r.right,_=r.top):(o=r.left,l=r.bottom,u=r.right,d=r.bottom,f=n.left,m=n.top,v=n.right,_=n.top):n.left<r.left?(o=n.right,l=n.top,u=r.left,d=r.top,f=n.right,m=n.bottom,v=r.left,_=r.bottom):(o=r.right,l=r.top,u=n.left,d=n.top,f=r.right,m=r.bottom,v=n.left,_=n.bottom),this.style.setProperty("--hover-bridge-top-left-x",`${o}px`),this.style.setProperty("--hover-bridge-top-left-y",`${l}px`),this.style.setProperty("--hover-bridge-top-right-x",`${u}px`),this.style.setProperty("--hover-bridge-top-right-y",`${d}px`),this.style.setProperty("--hover-bridge-bottom-left-x",`${f}px`),this.style.setProperty("--hover-bridge-bottom-left-y",`${m}px`),this.style.setProperty("--hover-bridge-bottom-right-x",`${v}px`),this.style.setProperty("--hover-bridge-bottom-right-y",`${_}px`)}}}async connectedCallback(){super.connectedCallback(),await this.updateComplete,this.start()}disconnectedCallback(){super.disconnectedCallback(),this.stop()}async updated(n){super.updated(n),n.has("active")&&(this.active?this.start():this.stop()),n.has("anchor")&&this.handleAnchorChange(),this.active&&(await this.updateComplete,this.reposition())}async handleAnchorChange(){if(await this.stop(),this.anchor&&typeof this.anchor=="string"){const n=this.getRootNode();this.anchorEl=n.getElementById(this.anchor)}else this.anchor instanceof Element||CO(this.anchor)?this.anchorEl=this.anchor:this.anchorEl=this.querySelector('[slot="anchor"]');this.anchorEl instanceof HTMLSlotElement&&(this.anchorEl=this.anchorEl.assignedElements({flatten:!0})[0]),this.anchorEl&&this.start()}start(){this.anchorEl&&(this.cleanup=wO(this.anchorEl,this.popup,()=>{this.reposition()}))}async stop(){return new Promise(n=>{this.cleanup?(this.cleanup(),this.cleanup=void 0,this.removeAttribute("data-current-placement"),this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height"),requestAnimationFrame(()=>n())):n()})}reposition(){if(!this.active||!this.anchorEl)return;const n=[eO({mainAxis:this.distance,crossAxis:this.skidding})];this.sync?n.push(zE({apply:({rects:t})=>{const o=this.sync==="width"||this.sync==="both",l=this.sync==="height"||this.sync==="both";this.popup.style.width=o?`${t.reference.width}px`:"",this.popup.style.height=l?`${t.reference.height}px`:""}})):(this.popup.style.width="",this.popup.style.height=""),this.flip&&n.push(_O({boundary:this.flipBoundary,fallbackPlacements:this.flipFallbackPlacements,fallbackStrategy:this.flipFallbackStrategy==="best-fit"?"bestFit":"initialPlacement",padding:this.flipPadding})),this.shift&&n.push(xO({boundary:this.shiftBoundary,padding:this.shiftPadding})),this.autoSize?n.push(zE({boundary:this.autoSizeBoundary,padding:this.autoSizePadding,apply:({availableWidth:t,availableHeight:o})=>{this.autoSize==="vertical"||this.autoSize==="both"?this.style.setProperty("--auto-size-available-height",`${o}px`):this.style.removeProperty("--auto-size-available-height"),this.autoSize==="horizontal"||this.autoSize==="both"?this.style.setProperty("--auto-size-available-width",`${t}px`):this.style.removeProperty("--auto-size-available-width")}})):(this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height")),this.arrow&&n.push(kO({element:this.arrowEl,padding:this.arrowPadding}));const r=this.strategy==="absolute"?t=>vv.getOffsetParent(t,TO):vv.getOffsetParent;EO(this.anchorEl,this.popup,{placement:this.placement,middleware:n,strategy:this.strategy,platform:ky(_u({},vv),{getOffsetParent:r})}).then(({x:t,y:o,middlewareData:l,placement:u})=>{const d=getComputedStyle(this).direction==="rtl",f={top:"bottom",right:"left",bottom:"top",left:"right"}[u.split("-")[0]];if(this.setAttribute("data-current-placement",u),Object.assign(this.popup.style,{left:`${t}px`,top:`${o}px`}),this.arrow){const m=l.arrow.x,v=l.arrow.y;let _="",k="",C="",M="";if(this.arrowPlacement==="start"){const I=typeof m=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";_=typeof v=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"",k=d?I:"",M=d?"":I}else if(this.arrowPlacement==="end"){const I=typeof m=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";k=d?"":I,M=d?I:"",C=typeof v=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:""}else this.arrowPlacement==="center"?(M=typeof m=="number"?"calc(50% - var(--arrow-size-diagonal))":"",_=typeof v=="number"?"calc(50% - var(--arrow-size-diagonal))":""):(M=typeof m=="number"?`${m}px`:"",_=typeof v=="number"?`${v}px`:"");Object.assign(this.arrowEl.style,{top:_,right:k,bottom:C,left:M,[f]:"calc(var(--arrow-size-diagonal) * -1)"})}}),requestAnimationFrame(()=>this.updateHoverBridge()),this.emit("sl-reposition")}render(){return _n`
      <slot name="anchor" @slotchange=${this.handleAnchorChange}></slot>

      <span
        part="hover-bridge"
        class=${Na({"popup-hover-bridge":!0,"popup-hover-bridge--visible":this.hoverBridge&&this.active})}
      ></span>

      <div
        part="popup"
        class=${Na({popup:!0,"popup--active":this.active,"popup--fixed":this.strategy==="fixed","popup--has-arrow":this.arrow})}
      >
        <slot></slot>
        ${this.arrow?_n`<div part="arrow" class="popup__arrow" role="presentation"></div>`:""}
      </div>
    `}};_i.styles=GA;Yt([cn(".popup")],_i.prototype,"popup",2);Yt([cn(".popup__arrow")],_i.prototype,"arrowEl",2);Yt([ue()],_i.prototype,"anchor",2);Yt([ue({type:Boolean,reflect:!0})],_i.prototype,"active",2);Yt([ue({reflect:!0})],_i.prototype,"placement",2);Yt([ue({reflect:!0})],_i.prototype,"strategy",2);Yt([ue({type:Number})],_i.prototype,"distance",2);Yt([ue({type:Number})],_i.prototype,"skidding",2);Yt([ue({type:Boolean})],_i.prototype,"arrow",2);Yt([ue({attribute:"arrow-placement"})],_i.prototype,"arrowPlacement",2);Yt([ue({attribute:"arrow-padding",type:Number})],_i.prototype,"arrowPadding",2);Yt([ue({type:Boolean})],_i.prototype,"flip",2);Yt([ue({attribute:"flip-fallback-placements",converter:{fromAttribute:n=>n.split(" ").map(r=>r.trim()).filter(r=>r!==""),toAttribute:n=>n.join(" ")}})],_i.prototype,"flipFallbackPlacements",2);Yt([ue({attribute:"flip-fallback-strategy"})],_i.prototype,"flipFallbackStrategy",2);Yt([ue({type:Object})],_i.prototype,"flipBoundary",2);Yt([ue({attribute:"flip-padding",type:Number})],_i.prototype,"flipPadding",2);Yt([ue({type:Boolean})],_i.prototype,"shift",2);Yt([ue({type:Object})],_i.prototype,"shiftBoundary",2);Yt([ue({attribute:"shift-padding",type:Number})],_i.prototype,"shiftPadding",2);Yt([ue({attribute:"auto-size"})],_i.prototype,"autoSize",2);Yt([ue()],_i.prototype,"sync",2);Yt([ue({type:Object})],_i.prototype,"autoSizeBoundary",2);Yt([ue({attribute:"auto-size-padding",type:Number})],_i.prototype,"autoSizePadding",2);Yt([ue({attribute:"hover-bridge",type:Boolean})],_i.prototype,"hoverBridge",2);var zo=class extends to{constructor(){super(...arguments),this.localize=new xu(this),this.open=!1,this.placement="bottom-start",this.disabled=!1,this.stayOpenOnSelect=!1,this.distance=0,this.skidding=0,this.hoist=!1,this.handleKeyDown=n=>{this.open&&n.key==="Escape"&&(n.stopPropagation(),this.hide(),this.focusOnTrigger())},this.handleDocumentKeyDown=n=>{var r;if(n.key==="Escape"&&this.open&&!this.closeWatcher){n.stopPropagation(),this.focusOnTrigger(),this.hide();return}if(n.key==="Tab"){if(this.open&&((r=document.activeElement)==null?void 0:r.tagName.toLowerCase())==="sl-menu-item"){n.preventDefault(),this.hide(),this.focusOnTrigger();return}setTimeout(()=>{var t,o,l;const u=((t=this.containingElement)==null?void 0:t.getRootNode())instanceof ShadowRoot?(l=(o=document.activeElement)==null?void 0:o.shadowRoot)==null?void 0:l.activeElement:document.activeElement;(!this.containingElement||(u==null?void 0:u.closest(this.containingElement.tagName.toLowerCase()))!==this.containingElement)&&this.hide()})}},this.handleDocumentMouseDown=n=>{const r=n.composedPath();this.containingElement&&!r.includes(this.containingElement)&&this.hide()},this.handlePanelSelect=n=>{const r=n.target;!this.stayOpenOnSelect&&r.tagName.toLowerCase()==="sl-menu"&&(this.hide(),this.focusOnTrigger())}}connectedCallback(){super.connectedCallback(),this.containingElement||(this.containingElement=this)}firstUpdated(){this.panel.hidden=!this.open,this.open&&(this.addOpenListeners(),this.popup.active=!0)}disconnectedCallback(){super.disconnectedCallback(),this.removeOpenListeners(),this.hide()}focusOnTrigger(){const n=this.trigger.assignedElements({flatten:!0})[0];typeof(n==null?void 0:n.focus)=="function"&&n.focus()}getMenu(){return this.panel.assignedElements({flatten:!0}).find(n=>n.tagName.toLowerCase()==="sl-menu")}handleTriggerClick(){this.open?this.hide():(this.show(),this.focusOnTrigger())}async handleTriggerKeyDown(n){if([" ","Enter"].includes(n.key)){n.preventDefault(),this.handleTriggerClick();return}const r=this.getMenu();if(r){const t=r.getAllItems(),o=t[0],l=t[t.length-1];["ArrowDown","ArrowUp","Home","End"].includes(n.key)&&(n.preventDefault(),this.open||(this.show(),await this.updateComplete),t.length>0&&this.updateComplete.then(()=>{(n.key==="ArrowDown"||n.key==="Home")&&(r.setCurrentItem(o),o.focus()),(n.key==="ArrowUp"||n.key==="End")&&(r.setCurrentItem(l),l.focus())}))}}handleTriggerKeyUp(n){n.key===" "&&n.preventDefault()}handleTriggerSlotChange(){this.updateAccessibleTrigger()}updateAccessibleTrigger(){const r=this.trigger.assignedElements({flatten:!0}).find(o=>LA(o).start);let t;if(r){switch(r.tagName.toLowerCase()){case"sl-button":case"sl-icon-button":t=r.button;break;default:t=r}t.setAttribute("aria-haspopup","true"),t.setAttribute("aria-expanded",this.open?"true":"false")}}async show(){if(!this.open)return this.open=!0,fp(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,fp(this,"sl-after-hide")}reposition(){this.popup.reposition()}addOpenListeners(){var n;this.panel.addEventListener("sl-select",this.handlePanelSelect),"CloseWatcher"in window?((n=this.closeWatcher)==null||n.destroy(),this.closeWatcher=new CloseWatcher,this.closeWatcher.onclose=()=>{this.hide(),this.focusOnTrigger()}):this.panel.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keydown",this.handleDocumentKeyDown),document.addEventListener("mousedown",this.handleDocumentMouseDown)}removeOpenListeners(){var n;this.panel&&(this.panel.removeEventListener("sl-select",this.handlePanelSelect),this.panel.removeEventListener("keydown",this.handleKeyDown)),document.removeEventListener("keydown",this.handleDocumentKeyDown),document.removeEventListener("mousedown",this.handleDocumentMouseDown),(n=this.closeWatcher)==null||n.destroy()}async handleOpenChange(){if(this.disabled){this.open=!1;return}if(this.updateAccessibleTrigger(),this.open){this.emit("sl-show"),this.addOpenListeners(),await eu(this),this.panel.hidden=!1,this.popup.active=!0;const{keyframes:n,options:r}=tc(this,"dropdown.show",{dir:this.localize.dir()});await ec(this.popup.popup,n,r),this.emit("sl-after-show")}else{this.emit("sl-hide"),this.removeOpenListeners(),await eu(this);const{keyframes:n,options:r}=tc(this,"dropdown.hide",{dir:this.localize.dir()});await ec(this.popup.popup,n,r),this.panel.hidden=!0,this.popup.active=!1,this.emit("sl-after-hide")}}render(){return _n`
      <sl-popup
        part="base"
        id="dropdown"
        placement=${this.placement}
        distance=${this.distance}
        skidding=${this.skidding}
        strategy=${this.hoist?"fixed":"absolute"}
        flip
        shift
        auto-size="vertical"
        auto-size-padding="10"
        class=${Na({dropdown:!0,"dropdown--open":this.open})}
      >
        <slot
          name="trigger"
          slot="anchor"
          part="trigger"
          class="dropdown__trigger"
          @click=${this.handleTriggerClick}
          @keydown=${this.handleTriggerKeyDown}
          @keyup=${this.handleTriggerKeyUp}
          @slotchange=${this.handleTriggerSlotChange}
        ></slot>

        <div aria-hidden=${this.open?"false":"true"} aria-labelledby="dropdown">
          <slot part="panel" class="dropdown__panel"></slot>
        </div>
      </sl-popup>
    `}};zo.styles=UA;zo.dependencies={"sl-popup":_i};Yt([cn(".dropdown")],zo.prototype,"popup",2);Yt([cn(".dropdown__trigger")],zo.prototype,"trigger",2);Yt([cn(".dropdown__panel")],zo.prototype,"panel",2);Yt([ue({type:Boolean,reflect:!0})],zo.prototype,"open",2);Yt([ue({reflect:!0})],zo.prototype,"placement",2);Yt([ue({type:Boolean,reflect:!0})],zo.prototype,"disabled",2);Yt([ue({attribute:"stay-open-on-select",type:Boolean,reflect:!0})],zo.prototype,"stayOpenOnSelect",2);Yt([ue({attribute:!1})],zo.prototype,"containingElement",2);Yt([ue({type:Number})],zo.prototype,"distance",2);Yt([ue({type:Number})],zo.prototype,"skidding",2);Yt([ue({type:Boolean})],zo.prototype,"hoist",2);Yt([yo("open",{waitUntilFirstUpdate:!0})],zo.prototype,"handleOpenChange",1);hc("dropdown.show",{keyframes:[{opacity:0,scale:.9},{opacity:1,scale:1}],options:{duration:100,easing:"ease"}});hc("dropdown.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.9}],options:{duration:100,easing:"ease"}});zo.define("sl-dropdown");ea.define("sl-icon");var PO=es`
  ${ks}

  :host {
    display: block;
    position: relative;
    background: var(--sl-panel-background-color);
    border: solid var(--sl-panel-border-width) var(--sl-panel-border-color);
    border-radius: var(--sl-border-radius-medium);
    padding: var(--sl-spacing-x-small) 0;
    overflow: auto;
    overscroll-behavior: none;
  }

  ::slotted(sl-divider) {
    --spacing: var(--sl-spacing-x-small);
  }
`,yx=class extends to{connectedCallback(){super.connectedCallback(),this.setAttribute("role","menu")}handleClick(n){const r=["menuitem","menuitemcheckbox"],t=n.composedPath().find(l=>{var u;return r.includes(((u=l==null?void 0:l.getAttribute)==null?void 0:u.call(l,"role"))||"")});if(!t)return;const o=t;o.type==="checkbox"&&(o.checked=!o.checked),this.emit("sl-select",{detail:{item:o}})}handleKeyDown(n){if(n.key==="Enter"||n.key===" "){const r=this.getCurrentItem();n.preventDefault(),n.stopPropagation(),r==null||r.click()}else if(["ArrowDown","ArrowUp","Home","End"].includes(n.key)){const r=this.getAllItems(),t=this.getCurrentItem();let o=t?r.indexOf(t):0;r.length>0&&(n.preventDefault(),n.stopPropagation(),n.key==="ArrowDown"?o++:n.key==="ArrowUp"?o--:n.key==="Home"?o=0:n.key==="End"&&(o=r.length-1),o<0&&(o=r.length-1),o>r.length-1&&(o=0),this.setCurrentItem(r[o]),r[o].focus())}}handleMouseDown(n){const r=n.target;this.isMenuItem(r)&&this.setCurrentItem(r)}handleSlotChange(){const n=this.getAllItems();n.length>0&&this.setCurrentItem(n[0])}isMenuItem(n){var r;return n.tagName.toLowerCase()==="sl-menu-item"||["menuitem","menuitemcheckbox","menuitemradio"].includes((r=n.getAttribute("role"))!=null?r:"")}getAllItems(){return[...this.defaultSlot.assignedElements({flatten:!0})].filter(n=>!(n.inert||!this.isMenuItem(n)))}getCurrentItem(){return this.getAllItems().find(n=>n.getAttribute("tabindex")==="0")}setCurrentItem(n){this.getAllItems().forEach(t=>{t.setAttribute("tabindex",t===n?"0":"-1")})}render(){return _n`
      <slot
        @slotchange=${this.handleSlotChange}
        @click=${this.handleClick}
        @keydown=${this.handleKeyDown}
        @mousedown=${this.handleMouseDown}
      ></slot>
    `}};yx.styles=PO;Yt([cn("slot")],yx.prototype,"defaultSlot",2);yx.define("sl-menu");var MO=es`
  ${ks}

  :host {
    --submenu-offset: -2px;

    display: block;
  }

  :host([inert]) {
    display: none;
  }

  .menu-item {
    position: relative;
    display: flex;
    align-items: stretch;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    line-height: var(--sl-line-height-normal);
    letter-spacing: var(--sl-letter-spacing-normal);
    color: var(--sl-color-neutral-700);
    padding: var(--sl-spacing-2x-small) var(--sl-spacing-2x-small);
    transition: var(--sl-transition-fast) fill;
    user-select: none;
    -webkit-user-select: none;
    white-space: nowrap;
    cursor: pointer;
  }

  .menu-item.menu-item--disabled {
    outline: none;
    opacity: 0.5;
    cursor: not-allowed;
  }

  .menu-item.menu-item--loading {
    outline: none;
    cursor: wait;
  }

  .menu-item.menu-item--loading *:not(sl-spinner) {
    opacity: 0.5;
  }

  .menu-item--loading sl-spinner {
    --indicator-color: currentColor;
    --track-width: 1px;
    position: absolute;
    font-size: 0.75em;
    top: calc(50% - 0.5em);
    left: 0.65rem;
    opacity: 1;
  }

  .menu-item .menu-item__label {
    flex: 1 1 auto;
    display: inline-block;
    text-overflow: ellipsis;
    overflow: hidden;
  }

  .menu-item .menu-item__prefix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .menu-item .menu-item__prefix::slotted(*) {
    margin-inline-end: var(--sl-spacing-x-small);
  }

  .menu-item .menu-item__suffix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .menu-item .menu-item__suffix::slotted(*) {
    margin-inline-start: var(--sl-spacing-x-small);
  }

  /* Safe triangle */
  .menu-item--submenu-expanded::after {
    content: '';
    position: fixed;
    z-index: calc(var(--sl-z-index-dropdown) - 1);
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    clip-path: polygon(
      var(--safe-triangle-cursor-x, 0) var(--safe-triangle-cursor-y, 0),
      var(--safe-triangle-submenu-start-x, 0) var(--safe-triangle-submenu-start-y, 0),
      var(--safe-triangle-submenu-end-x, 0) var(--safe-triangle-submenu-end-y, 0)
    );
  }

  :host(:focus-visible) {
    outline: none;
  }

  :host(:hover:not([aria-disabled='true'], :focus-visible)) .menu-item,
  .menu-item--submenu-expanded {
    background-color: var(--sl-color-neutral-100);
    color: var(--sl-color-neutral-1000);
  }

  :host(:focus-visible) .menu-item {
    outline: none;
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
    opacity: 1;
  }

  .menu-item .menu-item__check,
  .menu-item .menu-item__chevron {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 1.5em;
    visibility: hidden;
  }

  .menu-item--checked .menu-item__check,
  .menu-item--has-submenu .menu-item__chevron {
    visibility: visible;
  }

  /* Add elevation and z-index to submenus */
  sl-popup::part(popup) {
    box-shadow: var(--sl-shadow-large);
    z-index: var(--sl-z-index-dropdown);
    margin-left: var(--submenu-offset);
  }

  .menu-item--rtl sl-popup::part(popup) {
    margin-left: calc(-1 * var(--submenu-offset));
  }

  @media (forced-colors: active) {
    :host(:hover:not([aria-disabled='true'])) .menu-item,
    :host(:focus-visible) .menu-item {
      outline: dashed 1px SelectedItem;
      outline-offset: -1px;
    }
  }
`;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const bg=(n,r)=>{var o;const t=n._$AN;if(t===void 0)return!1;for(const l of t)(o=l._$AO)==null||o.call(l,r,!1),bg(l,r);return!0},Dv=n=>{let r,t;do{if((r=n._$AM)===void 0)break;t=r._$AN,t.delete(n),n=r}while((t==null?void 0:t.size)===0)},fC=n=>{for(let r;r=n._$AM;n=r){let t=r._$AN;if(t===void 0)r._$AN=t=new Set;else if(t.has(n))break;t.add(n),RO(r)}};function IO(n){this._$AN!==void 0?(Dv(this),this._$AM=n,fC(this)):this._$AM=n}function LO(n,r=!1,t=0){const o=this._$AH,l=this._$AN;if(l!==void 0&&l.size!==0)if(r)if(Array.isArray(o))for(let u=t;u<o.length;u++)bg(o[u],!1),Dv(o[u]);else o!=null&&(bg(o,!1),Dv(o));else bg(this,n)}const RO=n=>{n.type==JS.CHILD&&(n._$AP??(n._$AP=LO),n._$AQ??(n._$AQ=IO))};class AO extends $S{constructor(){super(...arguments),this._$AN=void 0}_$AT(r,t,o){super._$AT(r,t,o),fC(this),this.isConnected=r._$AU}_$AO(r,t=!0){var o,l;r!==this.isConnected&&(this.isConnected=r,r?(o=this.reconnected)==null||o.call(this):(l=this.disconnected)==null||l.call(this)),t&&(bg(this,r),Dv(this))}setValue(r){if(TA(this._$Ct))this._$Ct._$AI(r,this);else{const t=[...this._$Ct._$AH];t[this._$Ci]=r,this._$Ct._$AI(t,this,0)}}disconnected(){}reconnected(){}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const OO=()=>new zO;class zO{}const Sw=new WeakMap,NO=QS(class extends AO{render(n){return an}update(n,[r]){var o;const t=r!==this.Y;return t&&this.Y!==void 0&&this.rt(void 0),(t||this.lt!==this.ct)&&(this.Y=r,this.ht=(o=n.options)==null?void 0:o.host,this.rt(this.ct=n.element)),an}rt(n){if(typeof this.Y=="function"){const r=this.ht??globalThis;let t=Sw.get(r);t===void 0&&(t=new WeakMap,Sw.set(r,t)),t.get(this.Y)!==void 0&&this.Y.call(this.ht,void 0),t.set(this.Y,n),n!==void 0&&this.Y.call(this.ht,n)}else this.Y.value=n}get lt(){var n,r;return typeof this.Y=="function"?(n=Sw.get(this.ht??globalThis))==null?void 0:n.get(this.Y):(r=this.Y)==null?void 0:r.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});var DO=class{constructor(n,r,t){this.popupRef=OO(),this.enableSubmenuTimer=-1,this.isConnected=!1,this.isPopupConnected=!1,this.skidding=0,this.submenuOpenDelay=100,this.handleMouseMove=o=>{this.host.style.setProperty("--safe-triangle-cursor-x",`${o.clientX}px`),this.host.style.setProperty("--safe-triangle-cursor-y",`${o.clientY}px`)},this.handleMouseOver=()=>{this.hasSlotController.test("submenu")&&this.enableSubmenu()},this.handleKeyDown=o=>{switch(o.key){case"Escape":case"Tab":this.disableSubmenu();break;case"ArrowLeft":o.target!==this.host&&(o.preventDefault(),o.stopPropagation(),this.host.focus(),this.disableSubmenu());break;case"ArrowRight":case"Enter":case" ":this.handleSubmenuEntry(o);break}},this.handleClick=o=>{var l;o.target===this.host?(o.preventDefault(),o.stopPropagation()):o.target instanceof Element&&(o.target.tagName==="sl-menu-item"||(l=o.target.role)!=null&&l.startsWith("menuitem"))&&this.disableSubmenu()},this.handleFocusOut=o=>{o.relatedTarget&&o.relatedTarget instanceof Element&&this.host.contains(o.relatedTarget)||this.disableSubmenu()},this.handlePopupMouseover=o=>{o.stopPropagation()},this.handlePopupReposition=()=>{const o=this.host.renderRoot.querySelector("slot[name='submenu']"),l=o==null?void 0:o.assignedElements({flatten:!0}).filter(_=>_.localName==="sl-menu")[0],u=this.localize.dir()==="rtl";if(!l)return;const{left:d,top:f,width:m,height:v}=l.getBoundingClientRect();this.host.style.setProperty("--safe-triangle-submenu-start-x",`${u?d+m:d}px`),this.host.style.setProperty("--safe-triangle-submenu-start-y",`${f}px`),this.host.style.setProperty("--safe-triangle-submenu-end-x",`${u?d+m:d}px`),this.host.style.setProperty("--safe-triangle-submenu-end-y",`${f+v}px`)},(this.host=n).addController(this),this.hasSlotController=r,this.localize=t}hostConnected(){this.hasSlotController.test("submenu")&&!this.host.disabled&&this.addListeners()}hostDisconnected(){this.removeListeners()}hostUpdated(){this.hasSlotController.test("submenu")&&!this.host.disabled?(this.addListeners(),this.updateSkidding()):this.removeListeners()}addListeners(){this.isConnected||(this.host.addEventListener("mousemove",this.handleMouseMove),this.host.addEventListener("mouseover",this.handleMouseOver),this.host.addEventListener("keydown",this.handleKeyDown),this.host.addEventListener("click",this.handleClick),this.host.addEventListener("focusout",this.handleFocusOut),this.isConnected=!0),this.isPopupConnected||this.popupRef.value&&(this.popupRef.value.addEventListener("mouseover",this.handlePopupMouseover),this.popupRef.value.addEventListener("sl-reposition",this.handlePopupReposition),this.isPopupConnected=!0)}removeListeners(){this.isConnected&&(this.host.removeEventListener("mousemove",this.handleMouseMove),this.host.removeEventListener("mouseover",this.handleMouseOver),this.host.removeEventListener("keydown",this.handleKeyDown),this.host.removeEventListener("click",this.handleClick),this.host.removeEventListener("focusout",this.handleFocusOut),this.isConnected=!1),this.isPopupConnected&&this.popupRef.value&&(this.popupRef.value.removeEventListener("mouseover",this.handlePopupMouseover),this.popupRef.value.removeEventListener("sl-reposition",this.handlePopupReposition),this.isPopupConnected=!1)}handleSubmenuEntry(n){const r=this.host.renderRoot.querySelector("slot[name='submenu']");if(!r){console.error("Cannot activate a submenu if no corresponding menuitem can be found.",this);return}let t=null;for(const o of r.assignedElements())if(t=o.querySelectorAll("sl-menu-item, [role^='menuitem']"),t.length!==0)break;if(!(!t||t.length===0)){t[0].setAttribute("tabindex","0");for(let o=1;o!==t.length;++o)t[o].setAttribute("tabindex","-1");this.popupRef.value&&(n.preventDefault(),n.stopPropagation(),this.popupRef.value.active?t[0]instanceof HTMLElement&&t[0].focus():(this.enableSubmenu(!1),this.host.updateComplete.then(()=>{t[0]instanceof HTMLElement&&t[0].focus()}),this.host.requestUpdate()))}}setSubmenuState(n){this.popupRef.value&&this.popupRef.value.active!==n&&(this.popupRef.value.active=n,this.host.requestUpdate())}enableSubmenu(n=!0){n?this.enableSubmenuTimer=window.setTimeout(()=>{this.setSubmenuState(!0)},this.submenuOpenDelay):this.setSubmenuState(!0)}disableSubmenu(){clearTimeout(this.enableSubmenuTimer),this.setSubmenuState(!1)}updateSkidding(){var n;if(!((n=this.host.parentElement)!=null&&n.computedStyleMap))return;const r=this.host.parentElement.computedStyleMap(),o=["padding-top","border-top-width","margin-top"].reduce((l,u)=>{var d;const f=(d=r.get(u))!=null?d:new CSSUnitValue(0,"px"),v=(f instanceof CSSUnitValue?f:new CSSUnitValue(0,"px")).to("px");return l-v.value},0);this.skidding=o}isExpanded(){return this.popupRef.value?this.popupRef.value.active:!1}renderSubmenu(){const n=this.localize.dir()==="ltr";return this.isConnected?_n`
      <sl-popup
        ${NO(this.popupRef)}
        placement=${n?"right-start":"left-start"}
        anchor="anchor"
        flip
        flip-fallback-strategy="best-fit"
        skidding="${this.skidding}"
        strategy="fixed"
      >
        <slot name="submenu"></slot>
      </sl-popup>
    `:_n` <slot name="submenu" hidden></slot> `}},Es=class extends to{constructor(){super(...arguments),this.type="normal",this.checked=!1,this.value="",this.loading=!1,this.disabled=!1,this.localize=new xu(this),this.hasSlotController=new ux(this,"submenu"),this.submenuController=new DO(this,this.hasSlotController,this.localize),this.handleHostClick=n=>{this.disabled&&(n.preventDefault(),n.stopImmediatePropagation())},this.handleMouseOver=n=>{this.focus(),n.stopPropagation()}}connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.handleHostClick),this.addEventListener("mouseover",this.handleMouseOver)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("click",this.handleHostClick),this.removeEventListener("mouseover",this.handleMouseOver)}handleDefaultSlotChange(){const n=this.getTextLabel();if(typeof this.cachedTextLabel>"u"){this.cachedTextLabel=n;return}n!==this.cachedTextLabel&&(this.cachedTextLabel=n,this.emit("slotchange",{bubbles:!0,composed:!1,cancelable:!1}))}handleCheckedChange(){if(this.checked&&this.type!=="checkbox"){this.checked=!1,console.error('The checked attribute can only be used on menu items with type="checkbox"',this);return}this.type==="checkbox"?this.setAttribute("aria-checked",this.checked?"true":"false"):this.removeAttribute("aria-checked")}handleDisabledChange(){this.setAttribute("aria-disabled",this.disabled?"true":"false")}handleTypeChange(){this.type==="checkbox"?(this.setAttribute("role","menuitemcheckbox"),this.setAttribute("aria-checked",this.checked?"true":"false")):(this.setAttribute("role","menuitem"),this.removeAttribute("aria-checked"))}getTextLabel(){return fA(this.defaultSlot)}isSubmenu(){return this.hasSlotController.test("submenu")}render(){const n=this.localize.dir()==="rtl",r=this.submenuController.isExpanded();return _n`
      <div
        id="anchor"
        part="base"
        class=${Na({"menu-item":!0,"menu-item--rtl":n,"menu-item--checked":this.checked,"menu-item--disabled":this.disabled,"menu-item--loading":this.loading,"menu-item--has-submenu":this.isSubmenu(),"menu-item--submenu-expanded":r})}
        ?aria-haspopup="${this.isSubmenu()}"
        ?aria-expanded="${!!r}"
      >
        <span part="checked-icon" class="menu-item__check">
          <sl-icon name="check" library="system" aria-hidden="true"></sl-icon>
        </span>

        <slot name="prefix" part="prefix" class="menu-item__prefix"></slot>

        <slot part="label" class="menu-item__label" @slotchange=${this.handleDefaultSlotChange}></slot>

        <slot name="suffix" part="suffix" class="menu-item__suffix"></slot>

        <span part="submenu-icon" class="menu-item__chevron">
          <sl-icon name=${n?"chevron-left":"chevron-right"} library="system" aria-hidden="true"></sl-icon>
        </span>

        ${this.submenuController.renderSubmenu()}
        ${this.loading?_n` <sl-spinner part="spinner" exportparts="base:spinner__base"></sl-spinner> `:""}
      </div>
    `}};Es.styles=MO;Es.dependencies={"sl-icon":ea,"sl-popup":_i,"sl-spinner":Ey};Yt([cn("slot:not([name])")],Es.prototype,"defaultSlot",2);Yt([cn(".menu-item")],Es.prototype,"menuItem",2);Yt([ue()],Es.prototype,"type",2);Yt([ue({type:Boolean,reflect:!0})],Es.prototype,"checked",2);Yt([ue()],Es.prototype,"value",2);Yt([ue({type:Boolean,reflect:!0})],Es.prototype,"loading",2);Yt([ue({type:Boolean,reflect:!0})],Es.prototype,"disabled",2);Yt([yo("checked")],Es.prototype,"handleCheckedChange",1);Yt([yo("disabled")],Es.prototype,"handleDisabledChange",1);Yt([yo("type")],Es.prototype,"handleTypeChange",1);Es.define("sl-menu-item");Ey.define("sl-spinner");var FO=es`
  ${ks}

  :host {
    --indicator-color: var(--sl-color-primary-600);
    --track-color: var(--sl-color-neutral-200);
    --track-width: 2px;

    display: block;
  }

  .tab-group {
    display: flex;
    border-radius: 0;
  }

  .tab-group__tabs {
    display: flex;
    position: relative;
  }

  .tab-group__indicator {
    position: absolute;
    transition:
      var(--sl-transition-fast) translate ease,
      var(--sl-transition-fast) width ease;
  }

  .tab-group--has-scroll-controls .tab-group__nav-container {
    position: relative;
    padding: 0 var(--sl-spacing-x-large);
  }

  .tab-group__body {
    display: block;
    overflow: auto;
  }

  .tab-group__scroll-button {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 0;
    bottom: 0;
    width: var(--sl-spacing-x-large);
  }

  .tab-group__scroll-button--start {
    left: 0;
  }

  .tab-group__scroll-button--end {
    right: 0;
  }

  .tab-group--rtl .tab-group__scroll-button--start {
    left: auto;
    right: 0;
  }

  .tab-group--rtl .tab-group__scroll-button--end {
    left: 0;
    right: auto;
  }

  /*
   * Top
   */

  .tab-group--top {
    flex-direction: column;
  }

  .tab-group--top .tab-group__nav-container {
    order: 1;
  }

  .tab-group--top .tab-group__nav {
    display: flex;
    overflow-x: auto;

    /* Hide scrollbar in Firefox */
    scrollbar-width: none;
  }

  /* Hide scrollbar in Chrome/Safari */
  .tab-group--top .tab-group__nav::-webkit-scrollbar {
    width: 0;
    height: 0;
  }

  .tab-group--top .tab-group__tabs {
    flex: 1 1 auto;
    position: relative;
    flex-direction: row;
    border-bottom: solid var(--track-width) var(--track-color);
  }

  .tab-group--top .tab-group__indicator {
    bottom: calc(-1 * var(--track-width));
    border-bottom: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--top .tab-group__body {
    order: 2;
  }

  .tab-group--top ::slotted(sl-tab-panel) {
    --padding: var(--sl-spacing-medium) 0;
  }

  /*
   * Bottom
   */

  .tab-group--bottom {
    flex-direction: column;
  }

  .tab-group--bottom .tab-group__nav-container {
    order: 2;
  }

  .tab-group--bottom .tab-group__nav {
    display: flex;
    overflow-x: auto;

    /* Hide scrollbar in Firefox */
    scrollbar-width: none;
  }

  /* Hide scrollbar in Chrome/Safari */
  .tab-group--bottom .tab-group__nav::-webkit-scrollbar {
    width: 0;
    height: 0;
  }

  .tab-group--bottom .tab-group__tabs {
    flex: 1 1 auto;
    position: relative;
    flex-direction: row;
    border-top: solid var(--track-width) var(--track-color);
  }

  .tab-group--bottom .tab-group__indicator {
    top: calc(-1 * var(--track-width));
    border-top: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--bottom .tab-group__body {
    order: 1;
  }

  .tab-group--bottom ::slotted(sl-tab-panel) {
    --padding: var(--sl-spacing-medium) 0;
  }

  /*
   * Start
   */

  .tab-group--start {
    flex-direction: row;
  }

  .tab-group--start .tab-group__nav-container {
    order: 1;
  }

  .tab-group--start .tab-group__tabs {
    flex: 0 0 auto;
    flex-direction: column;
    border-inline-end: solid var(--track-width) var(--track-color);
  }

  .tab-group--start .tab-group__indicator {
    right: calc(-1 * var(--track-width));
    border-right: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--start.tab-group--rtl .tab-group__indicator {
    right: auto;
    left: calc(-1 * var(--track-width));
  }

  .tab-group--start .tab-group__body {
    flex: 1 1 auto;
    order: 2;
  }

  .tab-group--start ::slotted(sl-tab-panel) {
    --padding: 0 var(--sl-spacing-medium);
  }

  /*
   * End
   */

  .tab-group--end {
    flex-direction: row;
  }

  .tab-group--end .tab-group__nav-container {
    order: 2;
  }

  .tab-group--end .tab-group__tabs {
    flex: 0 0 auto;
    flex-direction: column;
    border-left: solid var(--track-width) var(--track-color);
  }

  .tab-group--end .tab-group__indicator {
    left: calc(-1 * var(--track-width));
    border-inline-start: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--end.tab-group--rtl .tab-group__indicator {
    right: calc(-1 * var(--track-width));
    left: auto;
  }

  .tab-group--end .tab-group__body {
    flex: 1 1 auto;
    order: 1;
  }

  .tab-group--end ::slotted(sl-tab-panel) {
    --padding: 0 var(--sl-spacing-medium);
  }
`,Ts=class extends to{constructor(){super(...arguments),this.localize=new xu(this),this.tabs=[],this.panels=[],this.hasScrollControls=!1,this.placement="top",this.activation="auto",this.noScrollControls=!1}connectedCallback(){const n=Promise.all([customElements.whenDefined("sl-tab"),customElements.whenDefined("sl-tab-panel")]);super.connectedCallback(),this.resizeObserver=new ResizeObserver(()=>{this.repositionIndicator(),this.updateScrollControls()}),this.mutationObserver=new MutationObserver(r=>{r.some(t=>!["aria-labelledby","aria-controls"].includes(t.attributeName))&&setTimeout(()=>this.setAriaLabels()),r.some(t=>t.attributeName==="disabled")&&this.syncTabsAndPanels()}),this.updateComplete.then(()=>{this.syncTabsAndPanels(),this.mutationObserver.observe(this,{attributes:!0,childList:!0,subtree:!0}),this.resizeObserver.observe(this.nav),n.then(()=>{new IntersectionObserver((t,o)=>{var l;t[0].intersectionRatio>0&&(this.setAriaLabels(),this.setActiveTab((l=this.getActiveTab())!=null?l:this.tabs[0],{emitEvents:!1}),o.unobserve(t[0].target))}).observe(this.tabGroup)})})}disconnectedCallback(){super.disconnectedCallback(),this.mutationObserver.disconnect(),this.resizeObserver.unobserve(this.nav)}getAllTabs(n={includeDisabled:!0}){return[...this.shadowRoot.querySelector('slot[name="nav"]').assignedElements()].filter(t=>n.includeDisabled?t.tagName.toLowerCase()==="sl-tab":t.tagName.toLowerCase()==="sl-tab"&&!t.disabled)}getAllPanels(){return[...this.body.assignedElements()].filter(n=>n.tagName.toLowerCase()==="sl-tab-panel")}getActiveTab(){return this.tabs.find(n=>n.active)}handleClick(n){const t=n.target.closest("sl-tab");(t==null?void 0:t.closest("sl-tab-group"))===this&&t!==null&&this.setActiveTab(t,{scrollBehavior:"smooth"})}handleKeyDown(n){const t=n.target.closest("sl-tab");if((t==null?void 0:t.closest("sl-tab-group"))===this&&(["Enter"," "].includes(n.key)&&t!==null&&(this.setActiveTab(t,{scrollBehavior:"smooth"}),n.preventDefault()),["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(n.key))){const l=this.tabs.find(d=>d.matches(":focus")),u=this.localize.dir()==="rtl";if((l==null?void 0:l.tagName.toLowerCase())==="sl-tab"){let d=this.tabs.indexOf(l);n.key==="Home"?d=0:n.key==="End"?d=this.tabs.length-1:["top","bottom"].includes(this.placement)&&n.key===(u?"ArrowRight":"ArrowLeft")||["start","end"].includes(this.placement)&&n.key==="ArrowUp"?d--:(["top","bottom"].includes(this.placement)&&n.key===(u?"ArrowLeft":"ArrowRight")||["start","end"].includes(this.placement)&&n.key==="ArrowDown")&&d++,d<0&&(d=this.tabs.length-1),d>this.tabs.length-1&&(d=0),this.tabs[d].focus({preventScroll:!0}),this.activation==="auto"&&this.setActiveTab(this.tabs[d],{scrollBehavior:"smooth"}),["top","bottom"].includes(this.placement)&&PE(this.tabs[d],this.nav,"horizontal"),n.preventDefault()}}}handleScrollToStart(){this.nav.scroll({left:this.localize.dir()==="rtl"?this.nav.scrollLeft+this.nav.clientWidth:this.nav.scrollLeft-this.nav.clientWidth,behavior:"smooth"})}handleScrollToEnd(){this.nav.scroll({left:this.localize.dir()==="rtl"?this.nav.scrollLeft-this.nav.clientWidth:this.nav.scrollLeft+this.nav.clientWidth,behavior:"smooth"})}setActiveTab(n,r){if(r=_u({emitEvents:!0,scrollBehavior:"auto"},r),n!==this.activeTab&&!n.disabled){const t=this.activeTab;this.activeTab=n,this.tabs.forEach(o=>o.active=o===this.activeTab),this.panels.forEach(o=>{var l;return o.active=o.name===((l=this.activeTab)==null?void 0:l.panel)}),this.syncIndicator(),["top","bottom"].includes(this.placement)&&PE(this.activeTab,this.nav,"horizontal",r.scrollBehavior),r.emitEvents&&(t&&this.emit("sl-tab-hide",{detail:{name:t.panel}}),this.emit("sl-tab-show",{detail:{name:this.activeTab.panel}}))}}setAriaLabels(){this.tabs.forEach(n=>{const r=this.panels.find(t=>t.name===n.panel);r&&(n.setAttribute("aria-controls",r.getAttribute("id")),r.setAttribute("aria-labelledby",n.getAttribute("id")))})}repositionIndicator(){const n=this.getActiveTab();if(!n)return;const r=n.clientWidth,t=n.clientHeight,o=this.localize.dir()==="rtl",l=this.getAllTabs(),d=l.slice(0,l.indexOf(n)).reduce((f,m)=>({left:f.left+m.clientWidth,top:f.top+m.clientHeight}),{left:0,top:0});switch(this.placement){case"top":case"bottom":this.indicator.style.width=`${r}px`,this.indicator.style.height="auto",this.indicator.style.translate=o?`${-1*d.left}px`:`${d.left}px`;break;case"start":case"end":this.indicator.style.width="auto",this.indicator.style.height=`${t}px`,this.indicator.style.translate=`0 ${d.top}px`;break}}syncTabsAndPanels(){this.tabs=this.getAllTabs({includeDisabled:!1}),this.panels=this.getAllPanels(),this.syncIndicator(),this.updateComplete.then(()=>this.updateScrollControls())}updateScrollControls(){this.noScrollControls?this.hasScrollControls=!1:this.hasScrollControls=["top","bottom"].includes(this.placement)&&this.nav.scrollWidth>this.nav.clientWidth}syncIndicator(){this.getActiveTab()?(this.indicator.style.display="block",this.repositionIndicator()):this.indicator.style.display="none"}show(n){const r=this.tabs.find(t=>t.panel===n);r&&this.setActiveTab(r,{scrollBehavior:"smooth"})}render(){const n=this.localize.dir()==="rtl";return _n`
      <div
        part="base"
        class=${Na({"tab-group":!0,"tab-group--top":this.placement==="top","tab-group--bottom":this.placement==="bottom","tab-group--start":this.placement==="start","tab-group--end":this.placement==="end","tab-group--rtl":this.localize.dir()==="rtl","tab-group--has-scroll-controls":this.hasScrollControls})}
        @click=${this.handleClick}
        @keydown=${this.handleKeyDown}
      >
        <div class="tab-group__nav-container" part="nav">
          ${this.hasScrollControls?_n`
                <sl-icon-button
                  part="scroll-button scroll-button--start"
                  exportparts="base:scroll-button__base"
                  class="tab-group__scroll-button tab-group__scroll-button--start"
                  name=${n?"chevron-right":"chevron-left"}
                  library="system"
                  label=${this.localize.term("scrollToStart")}
                  @click=${this.handleScrollToStart}
                ></sl-icon-button>
              `:""}

          <div class="tab-group__nav">
            <div part="tabs" class="tab-group__tabs" role="tablist">
              <div part="active-tab-indicator" class="tab-group__indicator"></div>
              <slot name="nav" @slotchange=${this.syncTabsAndPanels}></slot>
            </div>
          </div>

          ${this.hasScrollControls?_n`
                <sl-icon-button
                  part="scroll-button scroll-button--end"
                  exportparts="base:scroll-button__base"
                  class="tab-group__scroll-button tab-group__scroll-button--end"
                  name=${n?"chevron-left":"chevron-right"}
                  library="system"
                  label=${this.localize.term("scrollToEnd")}
                  @click=${this.handleScrollToEnd}
                ></sl-icon-button>
              `:""}
        </div>

        <slot part="body" class="tab-group__body" @slotchange=${this.syncTabsAndPanels}></slot>
      </div>
    `}};Ts.styles=FO;Ts.dependencies={"sl-icon-button":Oo};Yt([cn(".tab-group")],Ts.prototype,"tabGroup",2);Yt([cn(".tab-group__body")],Ts.prototype,"body",2);Yt([cn(".tab-group__nav")],Ts.prototype,"nav",2);Yt([cn(".tab-group__indicator")],Ts.prototype,"indicator",2);Yt([im()],Ts.prototype,"hasScrollControls",2);Yt([ue()],Ts.prototype,"placement",2);Yt([ue()],Ts.prototype,"activation",2);Yt([ue({attribute:"no-scroll-controls",type:Boolean})],Ts.prototype,"noScrollControls",2);Yt([yo("noScrollControls",{waitUntilFirstUpdate:!0})],Ts.prototype,"updateScrollControls",1);Yt([yo("placement",{waitUntilFirstUpdate:!0})],Ts.prototype,"syncIndicator",1);Ts.define("sl-tab-group");var BO=es`
  ${ks}

  :host {
    --padding: 0;

    display: none;
  }

  :host([active]) {
    display: block;
  }

  .tab-panel {
    display: block;
    padding: var(--padding);
  }
`,jO=0,sm=class extends to{constructor(){super(...arguments),this.attrId=++jO,this.componentId=`sl-tab-panel-${this.attrId}`,this.name="",this.active=!1}connectedCallback(){super.connectedCallback(),this.id=this.id.length>0?this.id:this.componentId,this.setAttribute("role","tabpanel")}handleActiveChange(){this.setAttribute("aria-hidden",this.active?"false":"true")}render(){return _n`
      <slot
        part="base"
        class=${Na({"tab-panel":!0,"tab-panel--active":this.active})}
      ></slot>
    `}};sm.styles=BO;Yt([ue({reflect:!0})],sm.prototype,"name",2);Yt([ue({type:Boolean,reflect:!0})],sm.prototype,"active",2);Yt([yo("active")],sm.prototype,"handleActiveChange",1);sm.define("sl-tab-panel");var HO=es`
  ${ks}

  :host {
    display: inline-block;
  }

  .tab {
    display: inline-flex;
    align-items: center;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-small);
    font-weight: var(--sl-font-weight-semibold);
    border-radius: var(--sl-border-radius-medium);
    color: var(--sl-color-neutral-600);
    padding: var(--sl-spacing-medium) var(--sl-spacing-large);
    white-space: nowrap;
    user-select: none;
    -webkit-user-select: none;
    cursor: pointer;
    transition:
      var(--transition-speed) box-shadow,
      var(--transition-speed) color;
  }

  .tab:hover:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab:focus {
    outline: none;
  }

  .tab:focus-visible:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: calc(-1 * var(--sl-focus-ring-width) - var(--sl-focus-ring-offset));
  }

  .tab.tab--active:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab.tab--closable {
    padding-inline-end: var(--sl-spacing-small);
  }

  .tab.tab--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .tab__close-button {
    font-size: var(--sl-font-size-small);
    margin-inline-start: var(--sl-spacing-small);
  }

  .tab__close-button::part(base) {
    padding: var(--sl-spacing-3x-small);
  }

  @media (forced-colors: active) {
    .tab.tab--active:not(.tab--disabled) {
      outline: solid 1px transparent;
      outline-offset: -3px;
    }
  }
`,UO=0,yl=class extends to{constructor(){super(...arguments),this.localize=new xu(this),this.attrId=++UO,this.componentId=`sl-tab-${this.attrId}`,this.panel="",this.active=!1,this.closable=!1,this.disabled=!1}connectedCallback(){super.connectedCallback(),this.setAttribute("role","tab")}handleCloseClick(n){n.stopPropagation(),this.emit("sl-close")}handleActiveChange(){this.setAttribute("aria-selected",this.active?"true":"false")}handleDisabledChange(){this.setAttribute("aria-disabled",this.disabled?"true":"false")}focus(n){this.tab.focus(n)}blur(){this.tab.blur()}render(){return this.id=this.id.length>0?this.id:this.componentId,_n`
      <div
        part="base"
        class=${Na({tab:!0,"tab--active":this.active,"tab--closable":this.closable,"tab--disabled":this.disabled})}
        tabindex=${this.disabled?"-1":"0"}
      >
        <slot></slot>
        ${this.closable?_n`
              <sl-icon-button
                part="close-button"
                exportparts="base:close-button__base"
                name="x-lg"
                library="system"
                label=${this.localize.term("close")}
                class="tab__close-button"
                @click=${this.handleCloseClick}
                tabindex="-1"
              ></sl-icon-button>
            `:""}
      </div>
    `}};yl.styles=HO;yl.dependencies={"sl-icon-button":Oo};Yt([cn(".tab")],yl.prototype,"tab",2);Yt([ue({reflect:!0})],yl.prototype,"panel",2);Yt([ue({type:Boolean,reflect:!0})],yl.prototype,"active",2);Yt([ue({type:Boolean})],yl.prototype,"closable",2);Yt([ue({type:Boolean,reflect:!0})],yl.prototype,"disabled",2);Yt([yo("active")],yl.prototype,"handleActiveChange",1);Yt([yo("disabled")],yl.prototype,"handleDisabledChange",1);yl.define("sl-tab");var GO=es`
  ${ks}

  :host {
    --max-width: 20rem;
    --hide-delay: 0ms;
    --show-delay: 150ms;

    display: contents;
  }

  .tooltip {
    --arrow-size: var(--sl-tooltip-arrow-size);
    --arrow-color: var(--sl-tooltip-background-color);
  }

  .tooltip::part(popup) {
    z-index: var(--sl-z-index-tooltip);
  }

  .tooltip[placement^='top']::part(popup) {
    transform-origin: bottom;
  }

  .tooltip[placement^='bottom']::part(popup) {
    transform-origin: top;
  }

  .tooltip[placement^='left']::part(popup) {
    transform-origin: right;
  }

  .tooltip[placement^='right']::part(popup) {
    transform-origin: left;
  }

  .tooltip__body {
    display: block;
    width: max-content;
    max-width: var(--max-width);
    border-radius: var(--sl-tooltip-border-radius);
    background-color: var(--sl-tooltip-background-color);
    font-family: var(--sl-tooltip-font-family);
    font-size: var(--sl-tooltip-font-size);
    font-weight: var(--sl-tooltip-font-weight);
    line-height: var(--sl-tooltip-line-height);
    color: var(--sl-tooltip-color);
    padding: var(--sl-tooltip-padding);
    pointer-events: none;
    user-select: none;
    -webkit-user-select: none;
  }
`,eo=class extends to{constructor(){super(),this.localize=new xu(this),this.content="",this.placement="top",this.disabled=!1,this.distance=8,this.open=!1,this.skidding=0,this.trigger="hover focus",this.hoist=!1,this.handleBlur=()=>{this.hasTrigger("focus")&&this.hide()},this.handleClick=()=>{this.hasTrigger("click")&&(this.open?this.hide():this.show())},this.handleFocus=()=>{this.hasTrigger("focus")&&this.show()},this.handleDocumentKeyDown=n=>{n.key==="Escape"&&(n.stopPropagation(),this.hide())},this.handleMouseOver=()=>{if(this.hasTrigger("hover")){const n=IE(getComputedStyle(this).getPropertyValue("--show-delay"));clearTimeout(this.hoverTimeout),this.hoverTimeout=window.setTimeout(()=>this.show(),n)}},this.handleMouseOut=()=>{if(this.hasTrigger("hover")){const n=IE(getComputedStyle(this).getPropertyValue("--hide-delay"));clearTimeout(this.hoverTimeout),this.hoverTimeout=window.setTimeout(()=>this.hide(),n)}},this.addEventListener("blur",this.handleBlur,!0),this.addEventListener("focus",this.handleFocus,!0),this.addEventListener("click",this.handleClick),this.addEventListener("mouseover",this.handleMouseOver),this.addEventListener("mouseout",this.handleMouseOut)}disconnectedCallback(){var n;(n=this.closeWatcher)==null||n.destroy(),document.removeEventListener("keydown",this.handleDocumentKeyDown)}firstUpdated(){this.body.hidden=!this.open,this.open&&(this.popup.active=!0,this.popup.reposition())}hasTrigger(n){return this.trigger.split(" ").includes(n)}async handleOpenChange(){var n,r;if(this.open){if(this.disabled)return;this.emit("sl-show"),"CloseWatcher"in window?((n=this.closeWatcher)==null||n.destroy(),this.closeWatcher=new CloseWatcher,this.closeWatcher.onclose=()=>{this.hide()}):document.addEventListener("keydown",this.handleDocumentKeyDown),await eu(this.body),this.body.hidden=!1,this.popup.active=!0;const{keyframes:t,options:o}=tc(this,"tooltip.show",{dir:this.localize.dir()});await ec(this.popup.popup,t,o),this.popup.reposition(),this.emit("sl-after-show")}else{this.emit("sl-hide"),(r=this.closeWatcher)==null||r.destroy(),document.removeEventListener("keydown",this.handleDocumentKeyDown),await eu(this.body);const{keyframes:t,options:o}=tc(this,"tooltip.hide",{dir:this.localize.dir()});await ec(this.popup.popup,t,o),this.popup.active=!1,this.body.hidden=!0,this.emit("sl-after-hide")}}async handleOptionsChange(){this.hasUpdated&&(await this.updateComplete,this.popup.reposition())}handleDisabledChange(){this.disabled&&this.open&&this.hide()}async show(){if(!this.open)return this.open=!0,fp(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,fp(this,"sl-after-hide")}render(){return _n`
      <sl-popup
        part="base"
        exportparts="
          popup:base__popup,
          arrow:base__arrow
        "
        class=${Na({tooltip:!0,"tooltip--open":this.open})}
        placement=${this.placement}
        distance=${this.distance}
        skidding=${this.skidding}
        strategy=${this.hoist?"fixed":"absolute"}
        flip
        shift
        arrow
        hover-bridge
      >
        ${""}
        <slot slot="anchor" aria-describedby="tooltip"></slot>

        ${""}
        <div part="body" id="tooltip" class="tooltip__body" role="tooltip" aria-live=${this.open?"polite":"off"}>
          <slot name="content">${this.content}</slot>
        </div>
      </sl-popup>
    `}};eo.styles=GO;eo.dependencies={"sl-popup":_i};Yt([cn("slot:not([name])")],eo.prototype,"defaultSlot",2);Yt([cn(".tooltip__body")],eo.prototype,"body",2);Yt([cn("sl-popup")],eo.prototype,"popup",2);Yt([ue()],eo.prototype,"content",2);Yt([ue()],eo.prototype,"placement",2);Yt([ue({type:Boolean,reflect:!0})],eo.prototype,"disabled",2);Yt([ue({type:Number})],eo.prototype,"distance",2);Yt([ue({type:Boolean,reflect:!0})],eo.prototype,"open",2);Yt([ue({type:Number})],eo.prototype,"skidding",2);Yt([ue()],eo.prototype,"trigger",2);Yt([ue({type:Boolean})],eo.prototype,"hoist",2);Yt([yo("open",{waitUntilFirstUpdate:!0})],eo.prototype,"handleOpenChange",1);Yt([yo(["content","distance","hoist","placement","skidding"])],eo.prototype,"handleOptionsChange",1);Yt([yo("disabled")],eo.prototype,"handleDisabledChange",1);hc("tooltip.show",{keyframes:[{opacity:0,scale:.8},{opacity:1,scale:1}],options:{duration:150,easing:"ease"}});hc("tooltip.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.8}],options:{duration:150,easing:"ease"}});eo.define("sl-tooltip");const qO=["href"],VO={key:1,class:"text-gray-500"},WO={key:2,class:"mx-2 text-gray-500"},ZO=vo({__name:"Breadcrumbs.ce",setup(n){const r=he(null),t=De(()=>{var l;return(l=r==null?void 0:r.value)==null?void 0:l.parentNode});qe(t,l=>{l.children[1].classList.remove("sticky")});const o=he();return ts(()=>{var d;let l=location.pathname,u=((d=window.config)==null?void 0:d.baseurl)||"";o.value=[...l.split("/").filter(f=>f).slice(u==null?void 0:u.split("/").filter(f=>f).length).map((f,m,v)=>({name:f,path:u+"/"+v.slice(0,m+1).join("/")}))]}),(l,u)=>{var d;return ge(),me("div",{class:"inline-flex items-center gap-1 w-full flex-wrap leading-6",ref_key:"root",ref:r},[((d=o.value)==null?void 0:d.length)>1?(ge(!0),me(Fi,{key:0},nu(o.value,(f,m)=>(ge(),me(Fi,{key:f.path},[m<o.value.length-1?(ge(),me("a",{key:0,href:f.path,class:"text-[#0645ad] hover:underline"},lu(f.name),9,qO)):(ge(),me("span",VO,lu(f.name),1)),m<o.value.length-1?(ge(),me("span",WO," > ")):ur("",!0)],64))),128)):ur("",!0)],512)}}}),YO=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-\\[100\\%\\]{height:100%}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}mdp-header ul,mdp-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}
`,rs=(n,r)=>{const t=n.__vccOpts||n;for(const[o,l]of r)t[o]=l;return t},XO=rs(ZO,[["styles",[YO]]]);class on{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(r,t=!1){return this.onePassHasher.start().appendStr(r).end(t)}static hashAsciiStr(r,t=!1){return this.onePassHasher.start().appendAsciiStr(r).end(t)}static _hex(r){const t=on.hexChars,o=on.hexOut;let l,u,d,f;for(f=0;f<4;f+=1)for(u=f*8,l=r[f],d=0;d<8;d+=2)o[u+1+d]=t.charAt(l&15),l>>>=4,o[u+0+d]=t.charAt(l&15),l>>>=4;return o.join("")}static _md5cycle(r,t){let o=r[0],l=r[1],u=r[2],d=r[3];o+=(l&u|~l&d)+t[0]-680876936|0,o=(o<<7|o>>>25)+l|0,d+=(o&l|~o&u)+t[1]-389564586|0,d=(d<<12|d>>>20)+o|0,u+=(d&o|~d&l)+t[2]+606105819|0,u=(u<<17|u>>>15)+d|0,l+=(u&d|~u&o)+t[3]-1044525330|0,l=(l<<22|l>>>10)+u|0,o+=(l&u|~l&d)+t[4]-176418897|0,o=(o<<7|o>>>25)+l|0,d+=(o&l|~o&u)+t[5]+1200080426|0,d=(d<<12|d>>>20)+o|0,u+=(d&o|~d&l)+t[6]-1473231341|0,u=(u<<17|u>>>15)+d|0,l+=(u&d|~u&o)+t[7]-45705983|0,l=(l<<22|l>>>10)+u|0,o+=(l&u|~l&d)+t[8]+1770035416|0,o=(o<<7|o>>>25)+l|0,d+=(o&l|~o&u)+t[9]-1958414417|0,d=(d<<12|d>>>20)+o|0,u+=(d&o|~d&l)+t[10]-42063|0,u=(u<<17|u>>>15)+d|0,l+=(u&d|~u&o)+t[11]-1990404162|0,l=(l<<22|l>>>10)+u|0,o+=(l&u|~l&d)+t[12]+1804603682|0,o=(o<<7|o>>>25)+l|0,d+=(o&l|~o&u)+t[13]-40341101|0,d=(d<<12|d>>>20)+o|0,u+=(d&o|~d&l)+t[14]-1502002290|0,u=(u<<17|u>>>15)+d|0,l+=(u&d|~u&o)+t[15]+1236535329|0,l=(l<<22|l>>>10)+u|0,o+=(l&d|u&~d)+t[1]-165796510|0,o=(o<<5|o>>>27)+l|0,d+=(o&u|l&~u)+t[6]-1069501632|0,d=(d<<9|d>>>23)+o|0,u+=(d&l|o&~l)+t[11]+643717713|0,u=(u<<14|u>>>18)+d|0,l+=(u&o|d&~o)+t[0]-373897302|0,l=(l<<20|l>>>12)+u|0,o+=(l&d|u&~d)+t[5]-701558691|0,o=(o<<5|o>>>27)+l|0,d+=(o&u|l&~u)+t[10]+38016083|0,d=(d<<9|d>>>23)+o|0,u+=(d&l|o&~l)+t[15]-660478335|0,u=(u<<14|u>>>18)+d|0,l+=(u&o|d&~o)+t[4]-405537848|0,l=(l<<20|l>>>12)+u|0,o+=(l&d|u&~d)+t[9]+568446438|0,o=(o<<5|o>>>27)+l|0,d+=(o&u|l&~u)+t[14]-1019803690|0,d=(d<<9|d>>>23)+o|0,u+=(d&l|o&~l)+t[3]-187363961|0,u=(u<<14|u>>>18)+d|0,l+=(u&o|d&~o)+t[8]+1163531501|0,l=(l<<20|l>>>12)+u|0,o+=(l&d|u&~d)+t[13]-1444681467|0,o=(o<<5|o>>>27)+l|0,d+=(o&u|l&~u)+t[2]-51403784|0,d=(d<<9|d>>>23)+o|0,u+=(d&l|o&~l)+t[7]+1735328473|0,u=(u<<14|u>>>18)+d|0,l+=(u&o|d&~o)+t[12]-1926607734|0,l=(l<<20|l>>>12)+u|0,o+=(l^u^d)+t[5]-378558|0,o=(o<<4|o>>>28)+l|0,d+=(o^l^u)+t[8]-2022574463|0,d=(d<<11|d>>>21)+o|0,u+=(d^o^l)+t[11]+1839030562|0,u=(u<<16|u>>>16)+d|0,l+=(u^d^o)+t[14]-35309556|0,l=(l<<23|l>>>9)+u|0,o+=(l^u^d)+t[1]-1530992060|0,o=(o<<4|o>>>28)+l|0,d+=(o^l^u)+t[4]+1272893353|0,d=(d<<11|d>>>21)+o|0,u+=(d^o^l)+t[7]-155497632|0,u=(u<<16|u>>>16)+d|0,l+=(u^d^o)+t[10]-1094730640|0,l=(l<<23|l>>>9)+u|0,o+=(l^u^d)+t[13]+681279174|0,o=(o<<4|o>>>28)+l|0,d+=(o^l^u)+t[0]-358537222|0,d=(d<<11|d>>>21)+o|0,u+=(d^o^l)+t[3]-722521979|0,u=(u<<16|u>>>16)+d|0,l+=(u^d^o)+t[6]+76029189|0,l=(l<<23|l>>>9)+u|0,o+=(l^u^d)+t[9]-640364487|0,o=(o<<4|o>>>28)+l|0,d+=(o^l^u)+t[12]-421815835|0,d=(d<<11|d>>>21)+o|0,u+=(d^o^l)+t[15]+530742520|0,u=(u<<16|u>>>16)+d|0,l+=(u^d^o)+t[2]-995338651|0,l=(l<<23|l>>>9)+u|0,o+=(u^(l|~d))+t[0]-198630844|0,o=(o<<6|o>>>26)+l|0,d+=(l^(o|~u))+t[7]+1126891415|0,d=(d<<10|d>>>22)+o|0,u+=(o^(d|~l))+t[14]-1416354905|0,u=(u<<15|u>>>17)+d|0,l+=(d^(u|~o))+t[5]-57434055|0,l=(l<<21|l>>>11)+u|0,o+=(u^(l|~d))+t[12]+1700485571|0,o=(o<<6|o>>>26)+l|0,d+=(l^(o|~u))+t[3]-1894986606|0,d=(d<<10|d>>>22)+o|0,u+=(o^(d|~l))+t[10]-1051523|0,u=(u<<15|u>>>17)+d|0,l+=(d^(u|~o))+t[1]-2054922799|0,l=(l<<21|l>>>11)+u|0,o+=(u^(l|~d))+t[8]+1873313359|0,o=(o<<6|o>>>26)+l|0,d+=(l^(o|~u))+t[15]-30611744|0,d=(d<<10|d>>>22)+o|0,u+=(o^(d|~l))+t[6]-1560198380|0,u=(u<<15|u>>>17)+d|0,l+=(d^(u|~o))+t[13]+1309151649|0,l=(l<<21|l>>>11)+u|0,o+=(u^(l|~d))+t[4]-145523070|0,o=(o<<6|o>>>26)+l|0,d+=(l^(o|~u))+t[11]-1120210379|0,d=(d<<10|d>>>22)+o|0,u+=(o^(d|~l))+t[2]+718787259|0,u=(u<<15|u>>>17)+d|0,l+=(d^(u|~o))+t[9]-343485551|0,l=(l<<21|l>>>11)+u|0,r[0]=o+r[0]|0,r[1]=l+r[1]|0,r[2]=u+r[2]|0,r[3]=d+r[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(on.stateIdentity),this}appendStr(r){const t=this._buffer8,o=this._buffer32;let l=this._bufferLength,u,d;for(d=0;d<r.length;d+=1){if(u=r.charCodeAt(d),u<128)t[l++]=u;else if(u<2048)t[l++]=(u>>>6)+192,t[l++]=u&63|128;else if(u<55296||u>56319)t[l++]=(u>>>12)+224,t[l++]=u>>>6&63|128,t[l++]=u&63|128;else{if(u=(u-55296)*1024+(r.charCodeAt(++d)-56320)+65536,u>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");t[l++]=(u>>>18)+240,t[l++]=u>>>12&63|128,t[l++]=u>>>6&63|128,t[l++]=u&63|128}l>=64&&(this._dataLength+=64,on._md5cycle(this._state,o),l-=64,o[0]=o[16])}return this._bufferLength=l,this}appendAsciiStr(r){const t=this._buffer8,o=this._buffer32;let l=this._bufferLength,u,d=0;for(;;){for(u=Math.min(r.length-d,64-l);u--;)t[l++]=r.charCodeAt(d++);if(l<64)break;this._dataLength+=64,on._md5cycle(this._state,o),l=0}return this._bufferLength=l,this}appendByteArray(r){const t=this._buffer8,o=this._buffer32;let l=this._bufferLength,u,d=0;for(;;){for(u=Math.min(r.length-d,64-l);u--;)t[l++]=r[d++];if(l<64)break;this._dataLength+=64,on._md5cycle(this._state,o),l=0}return this._bufferLength=l,this}getState(){const r=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[r[0],r[1],r[2],r[3]]}}setState(r){const t=r.buffer,o=r.state,l=this._state;let u;for(this._dataLength=r.length,this._bufferLength=r.buflen,l[0]=o[0],l[1]=o[1],l[2]=o[2],l[3]=o[3],u=0;u<t.length;u+=1)this._buffer8[u]=t.charCodeAt(u)}end(r=!1){const t=this._bufferLength,o=this._buffer8,l=this._buffer32,u=(t>>2)+1;this._dataLength+=t;const d=this._dataLength*8;if(o[t]=128,o[t+1]=o[t+2]=o[t+3]=0,l.set(on.buffer32Identity.subarray(u),u),t>55&&(on._md5cycle(this._state,l),l.set(on.buffer32Identity)),d<=4294967295)l[14]=d;else{const f=d.toString(16).match(/(.*?)(.{0,8})$/);if(f===null)return;const m=parseInt(f[2],16),v=parseInt(f[1],16)||0;l[14]=m,l[15]=v}return on._md5cycle(this._state,l),r?this._state:on._hex(this._state)}}on.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]);on.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);on.hexChars="0123456789abcdef";on.hexOut=[];on.onePassHasher=new on;if(on.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592")throw new Error("Md5 self test failed.");/*
 * Component
 * @version: 1.3.0
 * @author: HtmlStream
 * @license: Licensed under MIT (https://preline.co/docs/license.html)
 * Copyright 2023 Htmlstream
 */class gC{constructor(r,t){this.$collection=[],this.selector=r,this.config=t,this.events={}}_fireEvent(r,t=null){this.events.hasOwnProperty(r)&&this.events[r](t)}_dispatch(r,t,o=null){const l=new CustomEvent(r,{detail:{payload:o},bubbles:!0,cancelable:!0,composed:!1});t.dispatchEvent(l)}on(r,t){this.events[r]=t}afterTransition(r,t){const o=()=>{t(),r.removeEventListener("transitionend",o,!0)};window.getComputedStyle(r,null).getPropertyValue("transition")!=="all 0s ease 0s"?r.addEventListener("transitionend",o,!0):t()}getClassProperty(r,t,o=""){return(window.getComputedStyle(r).getPropertyValue(t)||o).replace(" ","")}}var Jo="top",$s="bottom",ta="right",Qo="left",bx="auto",am=[Jo,$s,ta,Qo],mp="start",zg="end",KO="clippingParents",mC="viewport",rg="popper",JO="reference",NE=am.reduce(function(n,r){return n.concat([r+"-"+mp,r+"-"+zg])},[]),vC=[].concat(am,[bx]).reduce(function(n,r){return n.concat([r,r+"-"+mp,r+"-"+zg])},[]),QO="beforeRead",$O="read",t3="afterRead",e3="beforeMain",r3="main",i3="afterMain",n3="beforeWrite",o3="write",s3="afterWrite",a3=[QO,$O,t3,e3,r3,i3,n3,o3,s3];function fl(n){return n?(n.nodeName||"").toLowerCase():null}function xs(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var r=n.ownerDocument;return r&&r.defaultView||window}return n}function Th(n){var r=xs(n).Element;return n instanceof r||n instanceof Element}function Js(n){var r=xs(n).HTMLElement;return n instanceof r||n instanceof HTMLElement}function wx(n){if(typeof ShadowRoot>"u")return!1;var r=xs(n).ShadowRoot;return n instanceof r||n instanceof ShadowRoot}function l3(n){var r=n.state;Object.keys(r.elements).forEach(function(t){var o=r.styles[t]||{},l=r.attributes[t]||{},u=r.elements[t];!Js(u)||!fl(u)||(Object.assign(u.style,o),Object.keys(l).forEach(function(d){var f=l[d];f===!1?u.removeAttribute(d):u.setAttribute(d,f===!0?"":f)}))})}function c3(n){var r=n.state,t={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(r.elements.popper.style,t.popper),r.styles=t,r.elements.arrow&&Object.assign(r.elements.arrow.style,t.arrow),function(){Object.keys(r.elements).forEach(function(o){var l=r.elements[o],u=r.attributes[o]||{},d=Object.keys(r.styles.hasOwnProperty(o)?r.styles[o]:t[o]),f=d.reduce(function(m,v){return m[v]="",m},{});!Js(l)||!fl(l)||(Object.assign(l.style,f),Object.keys(u).forEach(function(m){l.removeAttribute(m)}))})}}const u3={name:"applyStyles",enabled:!0,phase:"write",fn:l3,effect:c3,requires:["computeStyles"]};function hl(n){return n.split("-")[0]}var yh=Math.max,Fv=Math.min,vp=Math.round;function p1(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(r){return r.brand+"/"+r.version}).join(" "):navigator.userAgent}function yC(){return!/^((?!chrome|android).)*safari/i.test(p1())}function yp(n,r,t){r===void 0&&(r=!1),t===void 0&&(t=!1);var o=n.getBoundingClientRect(),l=1,u=1;r&&Js(n)&&(l=n.offsetWidth>0&&vp(o.width)/n.offsetWidth||1,u=n.offsetHeight>0&&vp(o.height)/n.offsetHeight||1);var d=Th(n)?xs(n):window,f=d.visualViewport,m=!yC()&&t,v=(o.left+(m&&f?f.offsetLeft:0))/l,_=(o.top+(m&&f?f.offsetTop:0))/u,k=o.width/l,C=o.height/u;return{width:k,height:C,top:_,right:v+k,bottom:_+C,left:v,x:v,y:_}}function xx(n){var r=yp(n),t=n.offsetWidth,o=n.offsetHeight;return Math.abs(r.width-t)<=1&&(t=r.width),Math.abs(r.height-o)<=1&&(o=r.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:o}}function bC(n,r){var t=r.getRootNode&&r.getRootNode();if(n.contains(r))return!0;if(t&&wx(t)){var o=r;do{if(o&&n.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function lc(n){return xs(n).getComputedStyle(n)}function h3(n){return["table","td","th"].indexOf(fl(n))>=0}function ku(n){return((Th(n)?n.ownerDocument:n.document)||window.document).documentElement}function Cy(n){return fl(n)==="html"?n:n.assignedSlot||n.parentNode||(wx(n)?n.host:null)||ku(n)}function DE(n){return!Js(n)||lc(n).position==="fixed"?null:n.offsetParent}function d3(n){var r=/firefox/i.test(p1()),t=/Trident/i.test(p1());if(t&&Js(n)){var o=lc(n);if(o.position==="fixed")return null}var l=Cy(n);for(wx(l)&&(l=l.host);Js(l)&&["html","body"].indexOf(fl(l))<0;){var u=lc(l);if(u.transform!=="none"||u.perspective!=="none"||u.contain==="paint"||["transform","perspective"].indexOf(u.willChange)!==-1||r&&u.willChange==="filter"||r&&u.filter&&u.filter!=="none")return l;l=l.parentNode}return null}function lm(n){for(var r=xs(n),t=DE(n);t&&h3(t)&&lc(t).position==="static";)t=DE(t);return t&&(fl(t)==="html"||fl(t)==="body"&&lc(t).position==="static")?r:t||d3(n)||r}function _x(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function wg(n,r,t){return yh(n,Fv(r,t))}function p3(n,r,t){var o=wg(n,r,t);return o>t?t:o}function wC(){return{top:0,right:0,bottom:0,left:0}}function xC(n){return Object.assign({},wC(),n)}function _C(n,r){return r.reduce(function(t,o){return t[o]=n,t},{})}var f3=function(r,t){return r=typeof r=="function"?r(Object.assign({},t.rects,{placement:t.placement})):r,xC(typeof r!="number"?r:_C(r,am))};function g3(n){var r,t=n.state,o=n.name,l=n.options,u=t.elements.arrow,d=t.modifiersData.popperOffsets,f=hl(t.placement),m=_x(f),v=[Qo,ta].indexOf(f)>=0,_=v?"height":"width";if(!(!u||!d)){var k=f3(l.padding,t),C=xx(u),M=m==="y"?Jo:Qo,I=m==="y"?$s:ta,F=t.rects.reference[_]+t.rects.reference[m]-d[m]-t.rects.popper[_],H=d[m]-t.rects.reference[m],U=lm(u),J=U?m==="y"?U.clientHeight||0:U.clientWidth||0:0,G=F/2-H/2,Z=k[M],at=J-C[_]-k[I],mt=J/2-C[_]/2+G,ft=wg(Z,mt,at),ot=m;t.modifiersData[o]=(r={},r[ot]=ft,r.centerOffset=ft-mt,r)}}function m3(n){var r=n.state,t=n.options,o=t.element,l=o===void 0?"[data-popper-arrow]":o;l!=null&&(typeof l=="string"&&(l=r.elements.popper.querySelector(l),!l)||bC(r.elements.popper,l)&&(r.elements.arrow=l))}const v3={name:"arrow",enabled:!0,phase:"main",fn:g3,effect:m3,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function bp(n){return n.split("-")[1]}var y3={top:"auto",right:"auto",bottom:"auto",left:"auto"};function b3(n,r){var t=n.x,o=n.y,l=r.devicePixelRatio||1;return{x:vp(t*l)/l||0,y:vp(o*l)/l||0}}function FE(n){var r,t=n.popper,o=n.popperRect,l=n.placement,u=n.variation,d=n.offsets,f=n.position,m=n.gpuAcceleration,v=n.adaptive,_=n.roundOffsets,k=n.isFixed,C=d.x,M=C===void 0?0:C,I=d.y,F=I===void 0?0:I,H=typeof _=="function"?_({x:M,y:F}):{x:M,y:F};M=H.x,F=H.y;var U=d.hasOwnProperty("x"),J=d.hasOwnProperty("y"),G=Qo,Z=Jo,at=window;if(v){var mt=lm(t),ft="clientHeight",ot="clientWidth";if(mt===xs(t)&&(mt=ku(t),lc(mt).position!=="static"&&f==="absolute"&&(ft="scrollHeight",ot="scrollWidth")),mt=mt,l===Jo||(l===Qo||l===ta)&&u===zg){Z=$s;var V=k&&mt===at&&at.visualViewport?at.visualViewport.height:mt[ft];F-=V-o.height,F*=m?1:-1}if(l===Qo||(l===Jo||l===$s)&&u===zg){G=ta;var nt=k&&mt===at&&at.visualViewport?at.visualViewport.width:mt[ot];M-=nt-o.width,M*=m?1:-1}}var ut=Object.assign({position:f},v&&y3),gt=_===!0?b3({x:M,y:F},xs(t)):{x:M,y:F};if(M=gt.x,F=gt.y,m){var Jt;return Object.assign({},ut,(Jt={},Jt[Z]=J?"0":"",Jt[G]=U?"0":"",Jt.transform=(at.devicePixelRatio||1)<=1?"translate("+M+"px, "+F+"px)":"translate3d("+M+"px, "+F+"px, 0)",Jt))}return Object.assign({},ut,(r={},r[Z]=J?F+"px":"",r[G]=U?M+"px":"",r.transform="",r))}function w3(n){var r=n.state,t=n.options,o=t.gpuAcceleration,l=o===void 0?!0:o,u=t.adaptive,d=u===void 0?!0:u,f=t.roundOffsets,m=f===void 0?!0:f,v={placement:hl(r.placement),variation:bp(r.placement),popper:r.elements.popper,popperRect:r.rects.popper,gpuAcceleration:l,isFixed:r.options.strategy==="fixed"};r.modifiersData.popperOffsets!=null&&(r.styles.popper=Object.assign({},r.styles.popper,FE(Object.assign({},v,{offsets:r.modifiersData.popperOffsets,position:r.options.strategy,adaptive:d,roundOffsets:m})))),r.modifiersData.arrow!=null&&(r.styles.arrow=Object.assign({},r.styles.arrow,FE(Object.assign({},v,{offsets:r.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:m})))),r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-placement":r.placement})}const x3={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:w3,data:{}};var Z0={passive:!0};function _3(n){var r=n.state,t=n.instance,o=n.options,l=o.scroll,u=l===void 0?!0:l,d=o.resize,f=d===void 0?!0:d,m=xs(r.elements.popper),v=[].concat(r.scrollParents.reference,r.scrollParents.popper);return u&&v.forEach(function(_){_.addEventListener("scroll",t.update,Z0)}),f&&m.addEventListener("resize",t.update,Z0),function(){u&&v.forEach(function(_){_.removeEventListener("scroll",t.update,Z0)}),f&&m.removeEventListener("resize",t.update,Z0)}}const k3={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:_3,data:{}};var E3={left:"right",right:"left",bottom:"top",top:"bottom"};function yv(n){return n.replace(/left|right|bottom|top/g,function(r){return E3[r]})}var T3={start:"end",end:"start"};function BE(n){return n.replace(/start|end/g,function(r){return T3[r]})}function kx(n){var r=xs(n),t=r.pageXOffset,o=r.pageYOffset;return{scrollLeft:t,scrollTop:o}}function Ex(n){return yp(ku(n)).left+kx(n).scrollLeft}function S3(n,r){var t=xs(n),o=ku(n),l=t.visualViewport,u=o.clientWidth,d=o.clientHeight,f=0,m=0;if(l){u=l.width,d=l.height;var v=yC();(v||!v&&r==="fixed")&&(f=l.offsetLeft,m=l.offsetTop)}return{width:u,height:d,x:f+Ex(n),y:m}}function C3(n){var r,t=ku(n),o=kx(n),l=(r=n.ownerDocument)==null?void 0:r.body,u=yh(t.scrollWidth,t.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),d=yh(t.scrollHeight,t.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),f=-o.scrollLeft+Ex(n),m=-o.scrollTop;return lc(l||t).direction==="rtl"&&(f+=yh(t.clientWidth,l?l.clientWidth:0)-u),{width:u,height:d,x:f,y:m}}function Tx(n){var r=lc(n),t=r.overflow,o=r.overflowX,l=r.overflowY;return/auto|scroll|overlay|hidden/.test(t+l+o)}function kC(n){return["html","body","#document"].indexOf(fl(n))>=0?n.ownerDocument.body:Js(n)&&Tx(n)?n:kC(Cy(n))}function xg(n,r){var t;r===void 0&&(r=[]);var o=kC(n),l=o===((t=n.ownerDocument)==null?void 0:t.body),u=xs(o),d=l?[u].concat(u.visualViewport||[],Tx(o)?o:[]):o,f=r.concat(d);return l?f:f.concat(xg(Cy(d)))}function f1(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function P3(n,r){var t=yp(n,!1,r==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function jE(n,r,t){return r===mC?f1(S3(n,t)):Th(r)?P3(r,t):f1(C3(ku(n)))}function M3(n){var r=xg(Cy(n)),t=["absolute","fixed"].indexOf(lc(n).position)>=0,o=t&&Js(n)?lm(n):n;return Th(o)?r.filter(function(l){return Th(l)&&bC(l,o)&&fl(l)!=="body"}):[]}function I3(n,r,t,o){var l=r==="clippingParents"?M3(n):[].concat(r),u=[].concat(l,[t]),d=u[0],f=u.reduce(function(m,v){var _=jE(n,v,o);return m.top=yh(_.top,m.top),m.right=Fv(_.right,m.right),m.bottom=Fv(_.bottom,m.bottom),m.left=yh(_.left,m.left),m},jE(n,d,o));return f.width=f.right-f.left,f.height=f.bottom-f.top,f.x=f.left,f.y=f.top,f}function EC(n){var r=n.reference,t=n.element,o=n.placement,l=o?hl(o):null,u=o?bp(o):null,d=r.x+r.width/2-t.width/2,f=r.y+r.height/2-t.height/2,m;switch(l){case Jo:m={x:d,y:r.y-t.height};break;case $s:m={x:d,y:r.y+r.height};break;case ta:m={x:r.x+r.width,y:f};break;case Qo:m={x:r.x-t.width,y:f};break;default:m={x:r.x,y:r.y}}var v=l?_x(l):null;if(v!=null){var _=v==="y"?"height":"width";switch(u){case mp:m[v]=m[v]-(r[_]/2-t[_]/2);break;case zg:m[v]=m[v]+(r[_]/2-t[_]/2);break}}return m}function Ng(n,r){r===void 0&&(r={});var t=r,o=t.placement,l=o===void 0?n.placement:o,u=t.strategy,d=u===void 0?n.strategy:u,f=t.boundary,m=f===void 0?KO:f,v=t.rootBoundary,_=v===void 0?mC:v,k=t.elementContext,C=k===void 0?rg:k,M=t.altBoundary,I=M===void 0?!1:M,F=t.padding,H=F===void 0?0:F,U=xC(typeof H!="number"?H:_C(H,am)),J=C===rg?JO:rg,G=n.rects.popper,Z=n.elements[I?J:C],at=I3(Th(Z)?Z:Z.contextElement||ku(n.elements.popper),m,_,d),mt=yp(n.elements.reference),ft=EC({reference:mt,element:G,strategy:"absolute",placement:l}),ot=f1(Object.assign({},G,ft)),V=C===rg?ot:mt,nt={top:at.top-V.top+U.top,bottom:V.bottom-at.bottom+U.bottom,left:at.left-V.left+U.left,right:V.right-at.right+U.right},ut=n.modifiersData.offset;if(C===rg&&ut){var gt=ut[l];Object.keys(nt).forEach(function(Jt){var re=[ta,$s].indexOf(Jt)>=0?1:-1,Xt=[Jo,$s].indexOf(Jt)>=0?"y":"x";nt[Jt]+=gt[Xt]*re})}return nt}function L3(n,r){r===void 0&&(r={});var t=r,o=t.placement,l=t.boundary,u=t.rootBoundary,d=t.padding,f=t.flipVariations,m=t.allowedAutoPlacements,v=m===void 0?vC:m,_=bp(o),k=_?f?NE:NE.filter(function(I){return bp(I)===_}):am,C=k.filter(function(I){return v.indexOf(I)>=0});C.length===0&&(C=k);var M=C.reduce(function(I,F){return I[F]=Ng(n,{placement:F,boundary:l,rootBoundary:u,padding:d})[hl(F)],I},{});return Object.keys(M).sort(function(I,F){return M[I]-M[F]})}function R3(n){if(hl(n)===bx)return[];var r=yv(n);return[BE(n),r,BE(r)]}function A3(n){var r=n.state,t=n.options,o=n.name;if(!r.modifiersData[o]._skip){for(var l=t.mainAxis,u=l===void 0?!0:l,d=t.altAxis,f=d===void 0?!0:d,m=t.fallbackPlacements,v=t.padding,_=t.boundary,k=t.rootBoundary,C=t.altBoundary,M=t.flipVariations,I=M===void 0?!0:M,F=t.allowedAutoPlacements,H=r.options.placement,U=hl(H),J=U===H,G=m||(J||!I?[yv(H)]:R3(H)),Z=[H].concat(G).reduce(function(pe,ae){return pe.concat(hl(ae)===bx?L3(r,{placement:ae,boundary:_,rootBoundary:k,padding:v,flipVariations:I,allowedAutoPlacements:F}):ae)},[]),at=r.rects.reference,mt=r.rects.popper,ft=new Map,ot=!0,V=Z[0],nt=0;nt<Z.length;nt++){var ut=Z[nt],gt=hl(ut),Jt=bp(ut)===mp,re=[Jo,$s].indexOf(gt)>=0,Xt=re?"width":"height",Ct=Ng(r,{placement:ut,boundary:_,rootBoundary:k,altBoundary:C,padding:v}),Kt=re?Jt?ta:Qo:Jt?$s:Jo;at[Xt]>mt[Xt]&&(Kt=yv(Kt));var Zt=yv(Kt),Pe=[];if(u&&Pe.push(Ct[gt]<=0),f&&Pe.push(Ct[Kt]<=0,Ct[Zt]<=0),Pe.every(function(pe){return pe})){V=ut,ot=!1;break}ft.set(ut,Pe)}if(ot)for(var bt=I?3:1,At=function(ae){var le=Z.find(function(rr){var mr=ft.get(rr);if(mr)return mr.slice(0,ae).every(function(vi){return vi})});if(le)return V=le,"break"},qt=bt;qt>0;qt--){var ee=At(qt);if(ee==="break")break}r.placement!==V&&(r.modifiersData[o]._skip=!0,r.placement=V,r.reset=!0)}}const O3={name:"flip",enabled:!0,phase:"main",fn:A3,requiresIfExists:["offset"],data:{_skip:!1}};function HE(n,r,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-r.height-t.y,right:n.right-r.width+t.x,bottom:n.bottom-r.height+t.y,left:n.left-r.width-t.x}}function UE(n){return[Jo,ta,$s,Qo].some(function(r){return n[r]>=0})}function z3(n){var r=n.state,t=n.name,o=r.rects.reference,l=r.rects.popper,u=r.modifiersData.preventOverflow,d=Ng(r,{elementContext:"reference"}),f=Ng(r,{altBoundary:!0}),m=HE(d,o),v=HE(f,l,u),_=UE(m),k=UE(v);r.modifiersData[t]={referenceClippingOffsets:m,popperEscapeOffsets:v,isReferenceHidden:_,hasPopperEscaped:k},r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-reference-hidden":_,"data-popper-escaped":k})}const N3={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:z3};function D3(n,r,t){var o=hl(n),l=[Qo,Jo].indexOf(o)>=0?-1:1,u=typeof t=="function"?t(Object.assign({},r,{placement:n})):t,d=u[0],f=u[1];return d=d||0,f=(f||0)*l,[Qo,ta].indexOf(o)>=0?{x:f,y:d}:{x:d,y:f}}function F3(n){var r=n.state,t=n.options,o=n.name,l=t.offset,u=l===void 0?[0,0]:l,d=vC.reduce(function(_,k){return _[k]=D3(k,r.rects,u),_},{}),f=d[r.placement],m=f.x,v=f.y;r.modifiersData.popperOffsets!=null&&(r.modifiersData.popperOffsets.x+=m,r.modifiersData.popperOffsets.y+=v),r.modifiersData[o]=d}const B3={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:F3};function j3(n){var r=n.state,t=n.name;r.modifiersData[t]=EC({reference:r.rects.reference,element:r.rects.popper,strategy:"absolute",placement:r.placement})}const H3={name:"popperOffsets",enabled:!0,phase:"read",fn:j3,data:{}};function U3(n){return n==="x"?"y":"x"}function G3(n){var r=n.state,t=n.options,o=n.name,l=t.mainAxis,u=l===void 0?!0:l,d=t.altAxis,f=d===void 0?!1:d,m=t.boundary,v=t.rootBoundary,_=t.altBoundary,k=t.padding,C=t.tether,M=C===void 0?!0:C,I=t.tetherOffset,F=I===void 0?0:I,H=Ng(r,{boundary:m,rootBoundary:v,padding:k,altBoundary:_}),U=hl(r.placement),J=bp(r.placement),G=!J,Z=_x(U),at=U3(Z),mt=r.modifiersData.popperOffsets,ft=r.rects.reference,ot=r.rects.popper,V=typeof F=="function"?F(Object.assign({},r.rects,{placement:r.placement})):F,nt=typeof V=="number"?{mainAxis:V,altAxis:V}:Object.assign({mainAxis:0,altAxis:0},V),ut=r.modifiersData.offset?r.modifiersData.offset[r.placement]:null,gt={x:0,y:0};if(mt){if(u){var Jt,re=Z==="y"?Jo:Qo,Xt=Z==="y"?$s:ta,Ct=Z==="y"?"height":"width",Kt=mt[Z],Zt=Kt+H[re],Pe=Kt-H[Xt],bt=M?-ot[Ct]/2:0,At=J===mp?ft[Ct]:ot[Ct],qt=J===mp?-ot[Ct]:-ft[Ct],ee=r.elements.arrow,pe=M&&ee?xx(ee):{width:0,height:0},ae=r.modifiersData["arrow#persistent"]?r.modifiersData["arrow#persistent"].padding:wC(),le=ae[re],rr=ae[Xt],mr=wg(0,ft[Ct],pe[Ct]),vi=G?ft[Ct]/2-bt-mr-le-nt.mainAxis:At-mr-le-nt.mainAxis,Xi=G?-ft[Ct]/2+bt+mr+rr+nt.mainAxis:qt+mr+rr+nt.mainAxis,Bi=r.elements.arrow&&lm(r.elements.arrow),yt=Bi?Z==="y"?Bi.clientTop||0:Bi.clientLeft||0:0,kt=(Jt=ut==null?void 0:ut[Z])!=null?Jt:0,Dt=Kt+vi-kt-yt,R=Kt+Xi-kt,j=wg(M?Fv(Zt,Dt):Zt,Kt,M?yh(Pe,R):Pe);mt[Z]=j,gt[Z]=j-Kt}if(f){var st,pt=Z==="x"?Jo:Qo,dt=Z==="x"?$s:ta,_t=mt[at],ht=at==="y"?"height":"width",Lt=_t+H[pt],Qt=_t-H[dt],$t=[Jo,Qo].indexOf(U)!==-1,te=(st=ut==null?void 0:ut[at])!=null?st:0,ye=$t?Lt:_t-ft[ht]-ot[ht]-te+nt.altAxis,xe=$t?_t+ft[ht]+ot[ht]-te-nt.altAxis:Qt,Be=M&&$t?p3(ye,_t,xe):wg(M?ye:Lt,_t,M?xe:Qt);mt[at]=Be,gt[at]=Be-_t}r.modifiersData[o]=gt}}const q3={name:"preventOverflow",enabled:!0,phase:"main",fn:G3,requiresIfExists:["offset"]};function V3(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function W3(n){return n===xs(n)||!Js(n)?kx(n):V3(n)}function Z3(n){var r=n.getBoundingClientRect(),t=vp(r.width)/n.offsetWidth||1,o=vp(r.height)/n.offsetHeight||1;return t!==1||o!==1}function Y3(n,r,t){t===void 0&&(t=!1);var o=Js(r),l=Js(r)&&Z3(r),u=ku(r),d=yp(n,l,t),f={scrollLeft:0,scrollTop:0},m={x:0,y:0};return(o||!o&&!t)&&((fl(r)!=="body"||Tx(u))&&(f=W3(r)),Js(r)?(m=yp(r,!0),m.x+=r.clientLeft,m.y+=r.clientTop):u&&(m.x=Ex(u))),{x:d.left+f.scrollLeft-m.x,y:d.top+f.scrollTop-m.y,width:d.width,height:d.height}}function X3(n){var r=new Map,t=new Set,o=[];n.forEach(function(u){r.set(u.name,u)});function l(u){t.add(u.name);var d=[].concat(u.requires||[],u.requiresIfExists||[]);d.forEach(function(f){if(!t.has(f)){var m=r.get(f);m&&l(m)}}),o.push(u)}return n.forEach(function(u){t.has(u.name)||l(u)}),o}function K3(n){var r=X3(n);return a3.reduce(function(t,o){return t.concat(r.filter(function(l){return l.phase===o}))},[])}function J3(n){var r;return function(){return r||(r=new Promise(function(t){Promise.resolve().then(function(){r=void 0,t(n())})})),r}}function Q3(n){var r=n.reduce(function(t,o){var l=t[o.name];return t[o.name]=l?Object.assign({},l,o,{options:Object.assign({},l.options,o.options),data:Object.assign({},l.data,o.data)}):o,t},{});return Object.keys(r).map(function(t){return r[t]})}var GE={placement:"bottom",modifiers:[],strategy:"absolute"};function qE(){for(var n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];return!r.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function $3(n){n===void 0&&(n={});var r=n,t=r.defaultModifiers,o=t===void 0?[]:t,l=r.defaultOptions,u=l===void 0?GE:l;return function(f,m,v){v===void 0&&(v=u);var _={placement:"bottom",orderedModifiers:[],options:Object.assign({},GE,u),modifiersData:{},elements:{reference:f,popper:m},attributes:{},styles:{}},k=[],C=!1,M={state:_,setOptions:function(U){var J=typeof U=="function"?U(_.options):U;F(),_.options=Object.assign({},u,_.options,J),_.scrollParents={reference:Th(f)?xg(f):f.contextElement?xg(f.contextElement):[],popper:xg(m)};var G=K3(Q3([].concat(o,_.options.modifiers)));return _.orderedModifiers=G.filter(function(Z){return Z.enabled}),I(),M.update()},forceUpdate:function(){if(!C){var U=_.elements,J=U.reference,G=U.popper;if(qE(J,G)){_.rects={reference:Y3(J,lm(G),_.options.strategy==="fixed"),popper:xx(G)},_.reset=!1,_.placement=_.options.placement,_.orderedModifiers.forEach(function(nt){return _.modifiersData[nt.name]=Object.assign({},nt.data)});for(var Z=0;Z<_.orderedModifiers.length;Z++){if(_.reset===!0){_.reset=!1,Z=-1;continue}var at=_.orderedModifiers[Z],mt=at.fn,ft=at.options,ot=ft===void 0?{}:ft,V=at.name;typeof mt=="function"&&(_=mt({state:_,options:ot,name:V,instance:M})||_)}}}},update:J3(function(){return new Promise(function(H){M.forceUpdate(),H(_)})}),destroy:function(){F(),C=!0}};if(!qE(f,m))return M;M.setOptions(v).then(function(H){!C&&v.onFirstUpdate&&v.onFirstUpdate(H)});function I(){_.orderedModifiers.forEach(function(H){var U=H.name,J=H.options,G=J===void 0?{}:J,Z=H.effect;if(typeof Z=="function"){var at=Z({state:_,name:U,instance:M,options:G}),mt=function(){};k.push(at||mt)}})}function F(){k.forEach(function(H){return H()}),k=[]}return M}}var tz=[k3,H3,x3,u3,B3,O3,q3,v3,N3],Cw=$3({defaultModifiers:tz});/*
* HSTooltips
* @version: 1.4.0
* @author: HtmlStream
* @requires: @popperjs/core ^2.11.2
* @license: Licensed under MIT (https://preline.co/docs/license.html)
* Copyright 2023 Htmlstream
*/class TC extends gC{constructor(t){super(".hs-tooltip");li(this,"root");this.root=t}init(){var t;(t=this.root)==null||t.addEventListener("click",o=>{const u=o.target.closest(this.selector);u&&this.getClassProperty(u,"--trigger")==="focus"&&this._focus(u),u&&this.getClassProperty(u,"--trigger")==="click"&&this._click(u)}),this.root.addEventListener("mousemove",o=>{const u=o.target.closest(this.selector);u&&this.getClassProperty(u,"--trigger")!=="focus"&&this.getClassProperty(u,"--trigger")!=="click"&&this._hover(u)})}_hover(t){if(t.classList.contains("show"))return;const o=t.querySelector(".hs-tooltip-toggle"),l=t.querySelector(".hs-tooltip-content"),u=this.getClassProperty(t,"--placement");Cw(o,l,{placement:u||"top",strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]}),this.show(t);const d=f=>{f.relatedTarget.closest(this.selector)&&f.relatedTarget.closest(this.selector)==t||(this.hide(t),t.removeEventListener("mouseleave",d,!0))};t.addEventListener("mouseleave",d,!0)}_focus(t){const o=t.querySelector(".hs-tooltip-toggle"),l=t.querySelector(".hs-tooltip-content"),u=this.getClassProperty(t,"--placement"),d=this.getClassProperty(t,"--strategy");Cw(o,l,{placement:u||"top",strategy:d||"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]}),this.show(t);const f=()=>{this.hide(t),t.removeEventListener("blur",f,!0)};t.addEventListener("blur",f,!0)}_click(t){if(t.classList.contains("show"))return;const o=t.querySelector(".hs-tooltip-toggle"),l=t.querySelector(".hs-tooltip-content"),u=this.getClassProperty(t,"--placement"),d=this.getClassProperty(t,"--strategy");Cw(o,l,{placement:u||"top",strategy:d||"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]}),this.show(t);const f=m=>{setTimeout(()=>{this.hide(t),t.removeEventListener("click",f,!0),t.removeEventListener("blur",f,!0)})};t.addEventListener("blur",f,!0),t.addEventListener("click",f,!0)}show(t){t.querySelector(".hs-tooltip-content").classList.remove("hidden"),setTimeout(()=>{t.classList.add("show"),this._fireEvent("show",t),this._dispatch("show.hs.tooltip",t,t)})}hide(t){const o=t.querySelector(".hs-tooltip-content");t.classList.remove("show"),this._fireEvent("hide",t),this._dispatch("hide.hs.tooltip",t,t),this.afterTransition(o,()=>{t.classList.contains("show")||o.classList.add("hidden")})}}const ez={class:"hs-tooltip-toggle block text-center",href:"javascript:;",title:"Click for more information"},rz=["innerHTML"],iz={class:"hs-tooltip-content z-30 hs-tooltip-shown:opacity-100 hs-tooltip-shown:visible hidden opacity-0 transition-opacity absolute invisible max-w-xs bg-white border border-gray-100 text-left rounded-lg shadow-md dark:bg-gray-800 dark:border-gray-700",role:"tooltip"},nz={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},oz=["src"],sz={class:"p-4 md:p-5"},az={class:"text-lg font-bold text-gray-800 dark:text-white"},lz={class:"mt-1 text-gray-800 dark:text-gray-400"},cz={class:"mt-5 text-xs text-gray-500 dark:text-gray-500"},uz=["href"],hz=Vt("img",{class:"max-w-[24px]",src:"https://upload.wikimedia.org/wikipedia/commons/7/77/Wikipedia_svg_logo.svg"},null,-1),dz=Vt("span",{class:"ml-1"},"Wikipedia",-1),pz=[hz,dz],fz=vo({__name:"EntityInfobox.ce",props:{qid:{type:String},label:{type:String},description:{type:String},language:{type:String,default:"en"}},setup(n){const r=n;qe(r,()=>{d.value=r.qid});const t=he(null),o=De(()=>{var I,F;return(F=(I=t.value)==null?void 0:I.getRootNode())==null?void 0:F.host}),l=De(()=>{var I;return(I=o.value)==null?void 0:I.textContent}),u=De(()=>{var I;return(I=t==null?void 0:t.value)==null?void 0:I.parentNode});qe(u,()=>{new TC(u.value).init()});const d=he(r.qid);qe(d,()=>{C(d.value)});const f=he({}),m=De(()=>d.value&&f.value[d.value]),v=De(()=>{var I,F,H;return(H=(F=(I=m.value)==null?void 0:I.labels)==null?void 0:F[r.language])==null?void 0:H.value}),_=De(()=>{var I,F,H;return(H=(F=(I=m.value)==null?void 0:I.descriptions)==null?void 0:F[r.language])==null?void 0:H.value}),k=De(()=>{var I;return m.value&&((I=m.value.sitelinks[`${r.language}wiki`])==null?void 0:I.url)});ts(()=>{C(d.value)});async function C(I){if(!I||f.value[I])return;let F=`https://www.wikidata.org/wiki/Special:EntityData/${I}.json`;const U=await(await fetch(F)).json();Object.values(U.entities).forEach(J=>{J.summaryText={},J.claims.P18&&(J.image=J.claims.P18[0].mainsnak.datavalue.value,J.thumbnail=M(J.image))}),f.value={...f.value,...U.entities}}function M(I,F=300){Array.isArray(I)&&(I=I[0]),I=I.split("/").pop(),I=decodeURIComponent(I).replace(/ /g,"_");const H=on.hashStr(I),U=I.split(".").pop();let J=`https://upload.wikimedia.org/wikipedia/commons${F?"/thumb":""}`;return J+=`/${H.slice(0,1)}/${H.slice(0,2)}/${I}`,F&&(J+=`/${F}px-${I}`,U==="svg"?J+=".png":(U==="tif"||U==="tiff")&&(J+=".jpg")),J}return(I,F)=>{var H;return ge(),me("div",{ref_key:"root",ref:t,class:"hs-tooltip inline-block [--trigger:click] [--placement:top]"},[Vt("a",ez,[Vt("span",{innerHTML:l.value,class:"bg-yellow-100"},null,8,rz),Vt("div",iz,[Vt("div",nz,[Vt("img",{class:"w-full h-auto rounded-t-xl",src:(H=m.value)==null?void 0:H.thumbnail,alt:"Image Description"},null,8,oz),Vt("div",sz,[Vt("h3",az,lu(v.value),1),Vt("p",lz,lu(_.value),1),Vt("div",cz,[Vt("a",{class:"inline-flex items-center gap-2 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all text-sm",target:"_blank",href:k.value},pz,8,uz)])])])])])],512)}}}),gz=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-\\[100\\%\\]{height:100%}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}mdp-header ul,mdp-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}
`,mz=rs(fz,[["styles",[gz]]]);function Sx(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!1,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!1,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let Rh=Sx();function SC(n){Rh=n}const CC=/[&<>"']/,vz=new RegExp(CC.source,"g"),PC=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,yz=new RegExp(PC.source,"g"),bz={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},VE=n=>bz[n];function co(n,r){if(r){if(CC.test(n))return n.replace(vz,VE)}else if(PC.test(n))return n.replace(yz,VE);return n}const wz=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function MC(n){return n.replace(wz,(r,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const xz=/(^|[^\[])\^/g;function mi(n,r){n=typeof n=="string"?n:n.source,r=r||"";const t={replace:(o,l)=>(l=typeof l=="object"&&"source"in l?l.source:l,l=l.replace(xz,"$1"),n=n.replace(o,l),t),getRegex:()=>new RegExp(n,r)};return t}const _z=/[^\w:]/g,kz=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function WE(n,r,t){if(n){let o;try{o=decodeURIComponent(MC(t)).replace(_z,"").toLowerCase()}catch{return null}if(o.indexOf("javascript:")===0||o.indexOf("vbscript:")===0||o.indexOf("data:")===0)return null}r&&!kz.test(t)&&(t=Cz(r,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const Y0={},Ez=/^[^:]+:\/*[^/]*$/,Tz=/^([^:]+:)[\s\S]*$/,Sz=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Cz(n,r){Y0[" "+n]||(Ez.test(n)?Y0[" "+n]=n+"/":Y0[" "+n]=bv(n,"/",!0)),n=Y0[" "+n];const t=n.indexOf(":")===-1;return r.substring(0,2)==="//"?t?r:n.replace(Tz,"$1")+r:r.charAt(0)==="/"?t?r:n.replace(Sz,"$1")+r:n+r}const Bv={exec:()=>null};function ZE(n,r){const t=n.replace(/\|/g,(u,d,f)=>{let m=!1,v=d;for(;--v>=0&&f[v]==="\\";)m=!m;return m?"|":" |"}),o=t.split(/ \|/);let l=0;if(o[0].trim()||o.shift(),o.length>0&&!o[o.length-1].trim()&&o.pop(),r)if(o.length>r)o.splice(r);else for(;o.length<r;)o.push("");for(;l<o.length;l++)o[l]=o[l].trim().replace(/\\\|/g,"|");return o}function bv(n,r,t){const o=n.length;if(o===0)return"";let l=0;for(;l<o;){const u=n.charAt(o-l-1);if(u===r&&!t)l++;else if(u!==r&&t)l++;else break}return n.slice(0,o-l)}function Pz(n,r){if(n.indexOf(r[1])===-1)return-1;let t=0;for(let o=0;o<n.length;o++)if(n[o]==="\\")o++;else if(n[o]===r[0])t++;else if(n[o]===r[1]&&(t--,t<0))return o;return-1}function Mz(n,r){!n||n.silent||(r&&console.warn("marked(): callback is deprecated since version 5.0.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/using_pro#async"),(n.sanitize||n.sanitizer)&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options"),(n.highlight||n.langPrefix!=="language-")&&console.warn("marked(): highlight and langPrefix parameters are deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-highlight."),n.mangle&&console.warn("marked(): mangle parameter is enabled by default, but is deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install https://www.npmjs.com/package/marked-mangle, or disable by setting `{mangle: false}`."),n.baseUrl&&console.warn("marked(): baseUrl parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-base-url."),n.smartypants&&console.warn("marked(): smartypants parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-smartypants."),n.xhtml&&console.warn("marked(): xhtml parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-xhtml."),(n.headerIds||n.headerPrefix)&&console.warn("marked(): headerIds and headerPrefix parameters enabled by default, but are deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install  https://www.npmjs.com/package/marked-gfm-heading-id, or disable by setting `{headerIds: false}`."))}function YE(n,r,t,o){const l=r.href,u=r.title?co(r.title):null,d=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){o.state.inLink=!0;const f={type:"link",raw:t,href:l,title:u,text:d,tokens:o.inlineTokens(d)};return o.state.inLink=!1,f}return{type:"image",raw:t,href:l,title:u,text:co(d)}}function Iz(n,r){const t=n.match(/^(\s+)(?:```)/);if(t===null)return r;const o=t[1];return r.split(`
`).map(l=>{const u=l.match(/^\s+/);if(u===null)return l;const[d]=u;return d.length>=o.length?l.slice(o.length):l}).join(`
`)}class jv{constructor(r){li(this,"options");li(this,"rules");li(this,"lexer");this.options=r||Rh}space(r){const t=this.rules.block.newline.exec(r);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(r){const t=this.rules.block.code.exec(r);if(t){const o=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?o:bv(o,`
`)}}}fences(r){const t=this.rules.block.fences.exec(r);if(t){const o=t[0],l=Iz(o,t[3]||"");return{type:"code",raw:o,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:l}}}heading(r){const t=this.rules.block.heading.exec(r);if(t){let o=t[2].trim();if(/#$/.test(o)){const l=bv(o,"#");(this.options.pedantic||!l||/ $/.test(l))&&(o=l.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:o,tokens:this.lexer.inline(o)}}}hr(r){const t=this.rules.block.hr.exec(r);if(t)return{type:"hr",raw:t[0]}}blockquote(r){const t=this.rules.block.blockquote.exec(r);if(t){const o=t[0].replace(/^ *>[ \t]?/gm,""),l=this.lexer.state.top;this.lexer.state.top=!0;const u=this.lexer.blockTokens(o);return this.lexer.state.top=l,{type:"blockquote",raw:t[0],tokens:u,text:o}}}list(r){let t=this.rules.block.list.exec(r);if(t){let o=t[1].trim();const l=o.length>1,u={type:"list",raw:"",ordered:l,start:l?+o.slice(0,-1):"",loose:!1,items:[]};o=l?`\\d{1,9}\\${o.slice(-1)}`:`\\${o}`,this.options.pedantic&&(o=l?o:"[*+-]");const d=new RegExp(`^( {0,3}${o})((?:[	 ][^\\n]*)?(?:\\n|$))`);let f="",m="",v=!1;for(;r;){let _=!1;if(!(t=d.exec(r))||this.rules.block.hr.test(r))break;f=t[0],r=r.substring(f.length);let k=t[2].split(`
`,1)[0].replace(/^\t+/,U=>" ".repeat(3*U.length)),C=r.split(`
`,1)[0],M=0;this.options.pedantic?(M=2,m=k.trimLeft()):(M=t[2].search(/[^ ]/),M=M>4?1:M,m=k.slice(M),M+=t[1].length);let I=!1;if(!k&&/^ *$/.test(C)&&(f+=C+`
`,r=r.substring(C.length+1),_=!0),!_){const U=new RegExp(`^ {0,${Math.min(3,M-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),J=new RegExp(`^ {0,${Math.min(3,M-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),G=new RegExp(`^ {0,${Math.min(3,M-1)}}(?:\`\`\`|~~~)`),Z=new RegExp(`^ {0,${Math.min(3,M-1)}}#`);for(;r;){const at=r.split(`
`,1)[0];if(C=at,this.options.pedantic&&(C=C.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),G.test(C)||Z.test(C)||U.test(C)||J.test(r))break;if(C.search(/[^ ]/)>=M||!C.trim())m+=`
`+C.slice(M);else{if(I||k.search(/[^ ]/)>=4||G.test(k)||Z.test(k)||J.test(k))break;m+=`
`+C}!I&&!C.trim()&&(I=!0),f+=at+`
`,r=r.substring(at.length+1),k=C.slice(M)}}u.loose||(v?u.loose=!0:/\n *\n *$/.test(f)&&(v=!0));let F=null,H;this.options.gfm&&(F=/^\[[ xX]\] /.exec(m),F&&(H=F[0]!=="[ ] ",m=m.replace(/^\[[ xX]\] +/,""))),u.items.push({type:"list_item",raw:f,task:!!F,checked:H,loose:!1,text:m,tokens:[]}),u.raw+=f}u.items[u.items.length-1].raw=f.trimRight(),u.items[u.items.length-1].text=m.trimRight(),u.raw=u.raw.trimRight();for(let _=0;_<u.items.length;_++)if(this.lexer.state.top=!1,u.items[_].tokens=this.lexer.blockTokens(u.items[_].text,[]),!u.loose){const k=u.items[_].tokens.filter(M=>M.type==="space"),C=k.length>0&&k.some(M=>/\n.*\n/.test(M.raw));u.loose=C}if(u.loose)for(let _=0;_<u.items.length;_++)u.items[_].loose=!0;return u}}html(r){const t=this.rules.block.html.exec(r);if(t){const o={type:"html",block:!0,raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};if(this.options.sanitize){const l=this.options.sanitizer?this.options.sanitizer(t[0]):co(t[0]),u=o;u.type="paragraph",u.text=l,u.tokens=this.lexer.inline(l)}return o}}def(r){const t=this.rules.block.def.exec(r);if(t){const o=t[1].toLowerCase().replace(/\s+/g," "),l=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",u=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:o,raw:t[0],href:l,title:u}}}table(r){const t=this.rules.block.table.exec(r);if(t){const o={type:"table",raw:t[0],header:ZE(t[1]).map(l=>({text:l,tokens:[]})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(o.header.length===o.align.length){let l=o.align.length,u,d,f,m;for(u=0;u<l;u++){const v=o.align[u];v&&(/^ *-+: *$/.test(v)?o.align[u]="right":/^ *:-+: *$/.test(v)?o.align[u]="center":/^ *:-+ *$/.test(v)?o.align[u]="left":o.align[u]=null)}for(l=o.rows.length,u=0;u<l;u++)o.rows[u]=ZE(o.rows[u],o.header.length).map(v=>({text:v,tokens:[]}));for(l=o.header.length,d=0;d<l;d++)o.header[d].tokens=this.lexer.inline(o.header[d].text);for(l=o.rows.length,d=0;d<l;d++)for(m=o.rows[d],f=0;f<m.length;f++)m[f].tokens=this.lexer.inline(m[f].text);return o}}}lheading(r){const t=this.rules.block.lheading.exec(r);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(r){const t=this.rules.block.paragraph.exec(r);if(t){const o=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:o,tokens:this.lexer.inline(o)}}}text(r){const t=this.rules.block.text.exec(r);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(r){const t=this.rules.inline.escape.exec(r);if(t)return{type:"escape",raw:t[0],text:co(t[1])}}tag(r){const t=this.rules.inline.tag.exec(r);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):co(t[0]):t[0]}}link(r){const t=this.rules.inline.link.exec(r);if(t){const o=t[2].trim();if(!this.options.pedantic&&/^</.test(o)){if(!/>$/.test(o))return;const d=bv(o.slice(0,-1),"\\");if((o.length-d.length)%2===0)return}else{const d=Pz(t[2],"()");if(d>-1){const m=(t[0].indexOf("!")===0?5:4)+t[1].length+d;t[2]=t[2].substring(0,d),t[0]=t[0].substring(0,m).trim(),t[3]=""}}let l=t[2],u="";if(this.options.pedantic){const d=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(l);d&&(l=d[1],u=d[3])}else u=t[3]?t[3].slice(1,-1):"";return l=l.trim(),/^</.test(l)&&(this.options.pedantic&&!/>$/.test(o)?l=l.slice(1):l=l.slice(1,-1)),YE(t,{href:l&&l.replace(this.rules.inline._escapes,"$1"),title:u&&u.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(r,t){let o;if((o=this.rules.inline.reflink.exec(r))||(o=this.rules.inline.nolink.exec(r))){let l=(o[2]||o[1]).replace(/\s+/g," ");if(l=t[l.toLowerCase()],!l){const u=o[0].charAt(0);return{type:"text",raw:u,text:u}}return YE(o,l,o[0],this.lexer)}}emStrong(r,t,o=""){let l=this.rules.inline.emStrong.lDelim.exec(r);if(!l||l[3]&&o.match(/[\p{L}\p{N}]/u))return;if(!(l[1]||l[2]||"")||!o||this.rules.inline.punctuation.exec(o)){const d=[...l[0]].length-1;let f,m,v=d,_=0;const k=l[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(k.lastIndex=0,t=t.slice(-1*r.length+d);(l=k.exec(t))!=null;){if(f=l[1]||l[2]||l[3]||l[4]||l[5]||l[6],!f)continue;if(m=[...f].length,l[3]||l[4]){v+=m;continue}else if((l[5]||l[6])&&d%3&&!((d+m)%3)){_+=m;continue}if(v-=m,v>0)continue;m=Math.min(m,m+v+_);const C=[...r].slice(0,d+l.index+m+1).join("");if(Math.min(d,m)%2){const I=C.slice(1,-1);return{type:"em",raw:C,text:I,tokens:this.lexer.inlineTokens(I)}}const M=C.slice(2,-2);return{type:"strong",raw:C,text:M,tokens:this.lexer.inlineTokens(M)}}}}codespan(r){const t=this.rules.inline.code.exec(r);if(t){let o=t[2].replace(/\n/g," ");const l=/[^ ]/.test(o),u=/^ /.test(o)&&/ $/.test(o);return l&&u&&(o=o.substring(1,o.length-1)),o=co(o,!0),{type:"codespan",raw:t[0],text:o}}}br(r){const t=this.rules.inline.br.exec(r);if(t)return{type:"br",raw:t[0]}}del(r){const t=this.rules.inline.del.exec(r);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(r,t){const o=this.rules.inline.autolink.exec(r);if(o){let l,u;return o[2]==="@"?(l=co(this.options.mangle?t(o[1]):o[1]),u="mailto:"+l):(l=co(o[1]),u=l),{type:"link",raw:o[0],text:l,href:u,tokens:[{type:"text",raw:l,text:l}]}}}url(r,t){let o;if(o=this.rules.inline.url.exec(r)){let l,u;if(o[2]==="@")l=co(this.options.mangle?t(o[0]):o[0]),u="mailto:"+l;else{let d;do d=o[0],o[0]=this.rules.inline._backpedal.exec(o[0])[0];while(d!==o[0]);l=co(o[0]),o[1]==="www."?u="http://"+o[0]:u=o[0]}return{type:"link",raw:o[0],text:l,href:u,tokens:[{type:"text",raw:l,text:l}]}}}inlineText(r,t){const o=this.rules.inline.text.exec(r);if(o){let l;return this.lexer.state.inRawBlock?l=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):co(o[0]):o[0]:l=co(this.options.smartypants?t(o[0]):o[0]),{type:"text",raw:o[0],text:l}}}}const Ve={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Bv,lheading:/^((?:(?!^bull ).|\n(?!\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Ve._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;Ve._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;Ve.def=mi(Ve.def).replace("label",Ve._label).replace("title",Ve._title).getRegex();Ve.bullet=/(?:[*+-]|\d{1,9}[.)])/;Ve.listItemStart=mi(/^( *)(bull) */).replace("bull",Ve.bullet).getRegex();Ve.list=mi(Ve.list).replace(/bull/g,Ve.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Ve.def.source+")").getRegex();Ve._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";Ve._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;Ve.html=mi(Ve.html,"i").replace("comment",Ve._comment).replace("tag",Ve._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();Ve.lheading=mi(Ve.lheading).replace(/bull/g,Ve.bullet).getRegex();Ve.paragraph=mi(Ve._paragraph).replace("hr",Ve.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ve._tag).getRegex();Ve.blockquote=mi(Ve.blockquote).replace("paragraph",Ve.paragraph).getRegex();Ve.normal={...Ve};Ve.gfm={...Ve.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};Ve.gfm.table=mi(Ve.gfm.table).replace("hr",Ve.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ve._tag).getRegex();Ve.gfm.paragraph=mi(Ve._paragraph).replace("hr",Ve.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Ve.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ve._tag).getRegex();Ve.pedantic={...Ve.normal,html:mi(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Ve._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Bv,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:mi(Ve.normal._paragraph).replace("hr",Ve.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ve.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const Ce={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Bv,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Bv,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};Ce._punctuation="\\p{P}$+<=>`^|~";Ce.punctuation=mi(Ce.punctuation,"u").replace(/punctuation/g,Ce._punctuation).getRegex();Ce.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;Ce.anyPunctuation=/\\[punct]/g;Ce._escapes=/\\([punct])/g;Ce._comment=mi(Ve._comment).replace("(?:-->|$)","-->").getRegex();Ce.emStrong.lDelim=mi(Ce.emStrong.lDelim,"u").replace(/punct/g,Ce._punctuation).getRegex();Ce.emStrong.rDelimAst=mi(Ce.emStrong.rDelimAst,"gu").replace(/punct/g,Ce._punctuation).getRegex();Ce.emStrong.rDelimUnd=mi(Ce.emStrong.rDelimUnd,"gu").replace(/punct/g,Ce._punctuation).getRegex();Ce.anyPunctuation=mi(Ce.anyPunctuation,"gu").replace(/punct/g,Ce._punctuation).getRegex();Ce._escapes=mi(Ce._escapes,"gu").replace(/punct/g,Ce._punctuation).getRegex();Ce._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;Ce._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;Ce.autolink=mi(Ce.autolink).replace("scheme",Ce._scheme).replace("email",Ce._email).getRegex();Ce._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;Ce.tag=mi(Ce.tag).replace("comment",Ce._comment).replace("attribute",Ce._attribute).getRegex();Ce._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;Ce._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;Ce._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;Ce.link=mi(Ce.link).replace("label",Ce._label).replace("href",Ce._href).replace("title",Ce._title).getRegex();Ce.reflink=mi(Ce.reflink).replace("label",Ce._label).replace("ref",Ve._label).getRegex();Ce.nolink=mi(Ce.nolink).replace("ref",Ve._label).getRegex();Ce.reflinkSearch=mi(Ce.reflinkSearch,"g").replace("reflink",Ce.reflink).replace("nolink",Ce.nolink).getRegex();Ce.normal={...Ce};Ce.pedantic={...Ce.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:mi(/^!?\[(label)\]\((.*?)\)/).replace("label",Ce._label).getRegex(),reflink:mi(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ce._label).getRegex()};Ce.gfm={...Ce.normal,escape:mi(Ce.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};Ce.gfm.url=mi(Ce.gfm.url,"i").replace("email",Ce.gfm._extended_email).getRegex();Ce.breaks={...Ce.gfm,br:mi(Ce.br).replace("{2,}","*").getRegex(),text:mi(Ce.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function Lz(n){return n.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function XE(n){let r="";for(let t=0;t<n.length;t++){const o=Math.random()>.5?"x"+n.charCodeAt(t).toString(16):n.charCodeAt(t).toString();r+="&#"+o+";"}return r}class cl{constructor(r){li(this,"tokens");li(this,"options");li(this,"state");li(this,"tokenizer");li(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=r||Rh,this.options.tokenizer=this.options.tokenizer||new jv,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Ve.normal,inline:Ce.normal};this.options.pedantic?(t.block=Ve.pedantic,t.inline=Ce.pedantic):this.options.gfm&&(t.block=Ve.gfm,this.options.breaks?t.inline=Ce.breaks:t.inline=Ce.gfm),this.tokenizer.rules=t}static get rules(){return{block:Ve,inline:Ce}}static lex(r,t){return new cl(t).lex(r)}static lexInline(r,t){return new cl(t).inlineTokens(r)}lex(r){r=r.replace(/\r\n|\r/g,`
`),this.blockTokens(r,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(r,t=[]){this.options.pedantic?r=r.replace(/\t/g,"    ").replace(/^ +$/gm,""):r=r.replace(/^( *)(\t+)/gm,(f,m,v)=>m+"    ".repeat(v.length));let o,l,u,d;for(;r;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(f=>(o=f.call({lexer:this},r,t))?(r=r.substring(o.raw.length),t.push(o),!0):!1))){if(o=this.tokenizer.space(r)){r=r.substring(o.raw.length),o.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(o);continue}if(o=this.tokenizer.code(r)){r=r.substring(o.raw.length),l=t[t.length-1],l&&(l.type==="paragraph"||l.type==="text")?(l.raw+=`
`+o.raw,l.text+=`
`+o.text,this.inlineQueue[this.inlineQueue.length-1].src=l.text):t.push(o);continue}if(o=this.tokenizer.fences(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.heading(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.hr(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.blockquote(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.list(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.html(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.def(r)){r=r.substring(o.raw.length),l=t[t.length-1],l&&(l.type==="paragraph"||l.type==="text")?(l.raw+=`
`+o.raw,l.text+=`
`+o.raw,this.inlineQueue[this.inlineQueue.length-1].src=l.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title});continue}if(o=this.tokenizer.table(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.lheading(r)){r=r.substring(o.raw.length),t.push(o);continue}if(u=r,this.options.extensions&&this.options.extensions.startBlock){let f=1/0;const m=r.slice(1);let v;this.options.extensions.startBlock.forEach(_=>{v=_.call({lexer:this},m),typeof v=="number"&&v>=0&&(f=Math.min(f,v))}),f<1/0&&f>=0&&(u=r.substring(0,f+1))}if(this.state.top&&(o=this.tokenizer.paragraph(u))){l=t[t.length-1],d&&l.type==="paragraph"?(l.raw+=`
`+o.raw,l.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=l.text):t.push(o),d=u.length!==r.length,r=r.substring(o.raw.length);continue}if(o=this.tokenizer.text(r)){r=r.substring(o.raw.length),l=t[t.length-1],l&&l.type==="text"?(l.raw+=`
`+o.raw,l.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=l.text):t.push(o);continue}if(r){const f="Infinite loop on byte: "+r.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return this.state.top=!0,t}inline(r,t=[]){return this.inlineQueue.push({src:r,tokens:t}),t}inlineTokens(r,t=[]){let o,l,u,d=r,f,m,v;if(this.tokens.links){const _=Object.keys(this.tokens.links);if(_.length>0)for(;(f=this.tokenizer.rules.inline.reflinkSearch.exec(d))!=null;)_.includes(f[0].slice(f[0].lastIndexOf("[")+1,-1))&&(d=d.slice(0,f.index)+"["+"a".repeat(f[0].length-2)+"]"+d.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(f=this.tokenizer.rules.inline.blockSkip.exec(d))!=null;)d=d.slice(0,f.index)+"["+"a".repeat(f[0].length-2)+"]"+d.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(f=this.tokenizer.rules.inline.anyPunctuation.exec(d))!=null;)d=d.slice(0,f.index)+"++"+d.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;r;)if(m||(v=""),m=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(_=>(o=_.call({lexer:this},r,t))?(r=r.substring(o.raw.length),t.push(o),!0):!1))){if(o=this.tokenizer.escape(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.tag(r)){r=r.substring(o.raw.length),l=t[t.length-1],l&&o.type==="text"&&l.type==="text"?(l.raw+=o.raw,l.text+=o.text):t.push(o);continue}if(o=this.tokenizer.link(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.reflink(r,this.tokens.links)){r=r.substring(o.raw.length),l=t[t.length-1],l&&o.type==="text"&&l.type==="text"?(l.raw+=o.raw,l.text+=o.text):t.push(o);continue}if(o=this.tokenizer.emStrong(r,d,v)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.codespan(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.br(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.del(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.autolink(r,XE)){r=r.substring(o.raw.length),t.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(r,XE))){r=r.substring(o.raw.length),t.push(o);continue}if(u=r,this.options.extensions&&this.options.extensions.startInline){let _=1/0;const k=r.slice(1);let C;this.options.extensions.startInline.forEach(M=>{C=M.call({lexer:this},k),typeof C=="number"&&C>=0&&(_=Math.min(_,C))}),_<1/0&&_>=0&&(u=r.substring(0,_+1))}if(o=this.tokenizer.inlineText(u,Lz)){r=r.substring(o.raw.length),o.raw.slice(-1)!=="_"&&(v=o.raw.slice(-1)),m=!0,l=t[t.length-1],l&&l.type==="text"?(l.raw+=o.raw,l.text+=o.text):t.push(o);continue}if(r){const _="Infinite loop on byte: "+r.charCodeAt(0);if(this.options.silent){console.error(_);break}else throw new Error(_)}}return t}}class Hv{constructor(r){li(this,"options");this.options=r||Rh}code(r,t,o){var u;const l=(u=(t||"").match(/^\S*/))==null?void 0:u[0];if(this.options.highlight){const d=this.options.highlight(r,l);d!=null&&d!==r&&(o=!0,r=d)}return r=r.replace(/\n$/,"")+`
`,l?'<pre><code class="'+this.options.langPrefix+co(l)+'">'+(o?r:co(r,!0))+`</code></pre>
`:"<pre><code>"+(o?r:co(r,!0))+`</code></pre>
`}blockquote(r){return`<blockquote>
${r}</blockquote>
`}html(r,t){return r}heading(r,t,o,l){if(this.options.headerIds){const u=this.options.headerPrefix+l.slug(o);return`<h${t} id="${u}">${r}</h${t}>
`}return`<h${t}>${r}</h${t}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(r,t,o){const l=t?"ol":"ul",u=t&&o!==1?' start="'+o+'"':"";return"<"+l+u+`>
`+r+"</"+l+`>
`}listitem(r,t,o){return`<li>${r}</li>
`}checkbox(r){return"<input "+(r?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(r){return`<p>${r}</p>
`}table(r,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+t+`</table>
`}tablerow(r){return`<tr>
${r}</tr>
`}tablecell(r,t){const o=t.header?"th":"td";return(t.align?`<${o} align="${t.align}">`:`<${o}>`)+r+`</${o}>
`}strong(r){return`<strong>${r}</strong>`}em(r){return`<em>${r}</em>`}codespan(r){return`<code>${r}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(r){return`<del>${r}</del>`}link(r,t,o){const l=WE(this.options.sanitize,this.options.baseUrl,r);if(l===null)return o;r=l;let u='<a href="'+r+'"';return t&&(u+=' title="'+t+'"'),u+=">"+o+"</a>",u}image(r,t,o){const l=WE(this.options.sanitize,this.options.baseUrl,r);if(l===null)return o;r=l;let u=`<img src="${r}" alt="${o}"`;return t&&(u+=` title="${t}"`),u+=this.options.xhtml?"/>":">",u}text(r){return r}}class Cx{strong(r){return r}em(r){return r}codespan(r){return r}del(r){return r}html(r){return r}text(r){return r}link(r,t,o){return""+o}image(r,t,o){return""+o}br(){return""}}class Px{constructor(){li(this,"seen");this.seen={}}serialize(r){return r.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(r,t){let o=r,l=0;if(this.seen.hasOwnProperty(o)){l=this.seen[r];do l++,o=r+"-"+l;while(this.seen.hasOwnProperty(o))}return t||(this.seen[r]=l,this.seen[o]=0),o}slug(r,t={}){const o=this.serialize(r);return this.getNextSafeSlug(o,t.dryrun)}}class ul{constructor(r){li(this,"options");li(this,"renderer");li(this,"textRenderer");li(this,"slugger");this.options=r||Rh,this.options.renderer=this.options.renderer||new Hv,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Cx,this.slugger=new Px}static parse(r,t){return new ul(t).parse(r)}static parseInline(r,t){return new ul(t).parseInline(r)}parse(r,t=!0){let o="";for(let l=0;l<r.length;l++){const u=r[l];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[u.type]){const d=u,f=this.options.extensions.renderers[d.type].call({parser:this},d);if(f!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(d.type)){o+=f||"";continue}}switch(u.type){case"space":continue;case"hr":{o+=this.renderer.hr();continue}case"heading":{const d=u;o+=this.renderer.heading(this.parseInline(d.tokens),d.depth,MC(this.parseInline(d.tokens,this.textRenderer)),this.slugger);continue}case"code":{const d=u;o+=this.renderer.code(d.text,d.lang,!!d.escaped);continue}case"table":{const d=u;let f="",m="";for(let _=0;_<d.header.length;_++)m+=this.renderer.tablecell(this.parseInline(d.header[_].tokens),{header:!0,align:d.align[_]});f+=this.renderer.tablerow(m);let v="";for(let _=0;_<d.rows.length;_++){const k=d.rows[_];m="";for(let C=0;C<k.length;C++)m+=this.renderer.tablecell(this.parseInline(k[C].tokens),{header:!1,align:d.align[C]});v+=this.renderer.tablerow(m)}o+=this.renderer.table(f,v);continue}case"blockquote":{const d=u,f=this.parse(d.tokens);o+=this.renderer.blockquote(f);continue}case"list":{const d=u,f=d.ordered,m=d.start,v=d.loose;let _="";for(let k=0;k<d.items.length;k++){const C=d.items[k],M=C.checked,I=C.task;let F="";if(C.task){const H=this.renderer.checkbox(!!M);v?C.tokens.length>0&&C.tokens[0].type==="paragraph"?(C.tokens[0].text=H+" "+C.tokens[0].text,C.tokens[0].tokens&&C.tokens[0].tokens.length>0&&C.tokens[0].tokens[0].type==="text"&&(C.tokens[0].tokens[0].text=H+" "+C.tokens[0].tokens[0].text)):C.tokens.unshift({type:"text",text:H}):F+=H}F+=this.parse(C.tokens,v),_+=this.renderer.listitem(F,I,!!M)}o+=this.renderer.list(_,f,m);continue}case"html":{const d=u;o+=this.renderer.html(d.text,d.block);continue}case"paragraph":{const d=u;o+=this.renderer.paragraph(this.parseInline(d.tokens));continue}case"text":{let d=u,f=d.tokens?this.parseInline(d.tokens):d.text;for(;l+1<r.length&&r[l+1].type==="text";)d=r[++l],f+=`
`+(d.tokens?this.parseInline(d.tokens):d.text);o+=t?this.renderer.paragraph(f):f;continue}default:{const d='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(d),"";throw new Error(d)}}}return o}parseInline(r,t){t=t||this.renderer;let o="";for(let l=0;l<r.length;l++){const u=r[l];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[u.type]){const d=this.options.extensions.renderers[u.type].call({parser:this},u);if(d!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(u.type)){o+=d||"";continue}}switch(u.type){case"escape":{const d=u;o+=t.text(d.text);break}case"html":{const d=u;o+=t.html(d.text);break}case"link":{const d=u;o+=t.link(d.href,d.title,this.parseInline(d.tokens,t));break}case"image":{const d=u;o+=t.image(d.href,d.title,d.text);break}case"strong":{const d=u;o+=t.strong(this.parseInline(d.tokens,t));break}case"em":{const d=u;o+=t.em(this.parseInline(d.tokens,t));break}case"codespan":{const d=u;o+=t.codespan(d.text);break}case"br":{o+=t.br();break}case"del":{const d=u;o+=t.del(this.parseInline(d.tokens,t));break}case"text":{const d=u;o+=t.text(d.text);break}default:{const d='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(d),"";throw new Error(d)}}}return o}}class _g{constructor(r){li(this,"options");this.options=r||Rh}preprocess(r){return r}postprocess(r){return r}}li(_g,"passThroughHooks",new Set(["preprocess","postprocess"]));var tm,g1,hy,IC;class Rz{constructor(...r){cw(this,tm);cw(this,hy);li(this,"defaults",Sx());li(this,"options",this.setOptions);li(this,"parse",D0(this,tm,g1).call(this,cl.lex,ul.parse));li(this,"parseInline",D0(this,tm,g1).call(this,cl.lexInline,ul.parseInline));li(this,"Parser",ul);li(this,"parser",ul.parse);li(this,"Renderer",Hv);li(this,"TextRenderer",Cx);li(this,"Lexer",cl);li(this,"lexer",cl.lex);li(this,"Tokenizer",jv);li(this,"Slugger",Px);li(this,"Hooks",_g);this.use(...r)}walkTokens(r,t){var l,u;let o=[];for(const d of r)switch(o=o.concat(t.call(this,d)),d.type){case"table":{const f=d;for(const m of f.header)o=o.concat(this.walkTokens(m.tokens,t));for(const m of f.rows)for(const v of m)o=o.concat(this.walkTokens(v.tokens,t));break}case"list":{const f=d;o=o.concat(this.walkTokens(f.items,t));break}default:{const f=d;(u=(l=this.defaults.extensions)==null?void 0:l.childTokens)!=null&&u[f.type]?this.defaults.extensions.childTokens[f.type].forEach(m=>{o=o.concat(this.walkTokens(f[m],t))}):f.tokens&&(o=o.concat(this.walkTokens(f.tokens,t)))}}return o}use(...r){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return r.forEach(o=>{const l={...o};if(l.async=this.defaults.async||l.async||!1,o.extensions&&(o.extensions.forEach(u=>{if(!u.name)throw new Error("extension name required");if("renderer"in u){const d=t.renderers[u.name];d?t.renderers[u.name]=function(...f){let m=u.renderer.apply(this,f);return m===!1&&(m=d.apply(this,f)),m}:t.renderers[u.name]=u.renderer}if("tokenizer"in u){if(!u.level||u.level!=="block"&&u.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const d=t[u.level];d?d.unshift(u.tokenizer):t[u.level]=[u.tokenizer],u.start&&(u.level==="block"?t.startBlock?t.startBlock.push(u.start):t.startBlock=[u.start]:u.level==="inline"&&(t.startInline?t.startInline.push(u.start):t.startInline=[u.start]))}"childTokens"in u&&u.childTokens&&(t.childTokens[u.name]=u.childTokens)}),l.extensions=t),o.renderer){const u=this.defaults.renderer||new Hv(this.defaults);for(const d in o.renderer){const f=o.renderer[d],m=d,v=u[m];u[m]=(..._)=>{let k=f.apply(u,_);return k===!1&&(k=v.apply(u,_)),k||""}}l.renderer=u}if(o.tokenizer){const u=this.defaults.tokenizer||new jv(this.defaults);for(const d in o.tokenizer){const f=o.tokenizer[d],m=d,v=u[m];u[m]=(..._)=>{let k=f.apply(u,_);return k===!1&&(k=v.apply(u,_)),k}}l.tokenizer=u}if(o.hooks){const u=this.defaults.hooks||new _g;for(const d in o.hooks){const f=o.hooks[d],m=d,v=u[m];_g.passThroughHooks.has(d)?u[m]=_=>{if(this.defaults.async)return Promise.resolve(f.call(u,_)).then(C=>v.call(u,C));const k=f.call(u,_);return v.call(u,k)}:u[m]=(..._)=>{let k=f.apply(u,_);return k===!1&&(k=v.apply(u,_)),k}}l.hooks=u}if(o.walkTokens){const u=this.defaults.walkTokens,d=o.walkTokens;l.walkTokens=function(f){let m=[];return m.push(d.call(this,f)),u&&(m=m.concat(u.call(this,f))),m}}this.defaults={...this.defaults,...l}}),this}setOptions(r){return this.defaults={...this.defaults,...r},this}}tm=new WeakSet,g1=function(r,t){return(o,l,u)=>{typeof l=="function"&&(u=l,l=null);const d={...l},f={...this.defaults,...d};this.defaults.async===!0&&d.async===!1&&(f.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),f.async=!0);const m=D0(this,hy,IC).call(this,!!f.silent,!!f.async,u);if(typeof o>"u"||o===null)return m(new Error("marked(): input parameter is undefined or null"));if(typeof o!="string")return m(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(o)+", string expected"));if(Mz(f,u),f.hooks&&(f.hooks.options=f),u){const v=u,_=f.highlight;let k;try{f.hooks&&(o=f.hooks.preprocess(o)),k=r(o,f)}catch(I){return m(I)}const C=I=>{let F;if(!I)try{f.walkTokens&&this.walkTokens(k,f.walkTokens),F=t(k,f),f.hooks&&(F=f.hooks.postprocess(F))}catch(H){I=H}return f.highlight=_,I?m(I):v(null,F)};if(!_||_.length<3||(delete f.highlight,!k.length))return C();let M=0;this.walkTokens(k,I=>{I.type==="code"&&(M++,setTimeout(()=>{_(I.text,I.lang,(F,H)=>{if(F)return C(F);H!=null&&H!==I.text&&(I.text=H,I.escaped=!0),M--,M===0&&C()})},0))}),M===0&&C();return}if(f.async)return Promise.resolve(f.hooks?f.hooks.preprocess(o):o).then(v=>r(v,f)).then(v=>f.walkTokens?Promise.all(this.walkTokens(v,f.walkTokens)).then(()=>v):v).then(v=>t(v,f)).then(v=>f.hooks?f.hooks.postprocess(v):v).catch(m);try{f.hooks&&(o=f.hooks.preprocess(o));const v=r(o,f);f.walkTokens&&this.walkTokens(v,f.walkTokens);let _=t(v,f);return f.hooks&&(_=f.hooks.postprocess(_)),_}catch(v){return m(v)}}},hy=new WeakSet,IC=function(r,t,o){return l=>{if(l.message+=`
Please report this to https://github.com/markedjs/marked.`,r){const u="<p>An error occurred:</p><pre>"+co(l.message+"",!0)+"</pre>";if(t)return Promise.resolve(u);if(o){o(null,u);return}return u}if(t)return Promise.reject(l);if(o){o(l);return}throw l}};const Sh=new Rz;function fi(n,r,t){return Sh.parse(n,r,t)}fi.options=fi.setOptions=function(n){return Sh.setOptions(n),fi.defaults=Sh.defaults,SC(fi.defaults),fi};fi.getDefaults=Sx;fi.defaults=Rh;fi.use=function(...n){return Sh.use(...n),fi.defaults=Sh.defaults,SC(fi.defaults),fi};fi.walkTokens=function(n,r){return Sh.walkTokens(n,r)};fi.parseInline=Sh.parseInline;fi.Parser=ul;fi.parser=ul.parse;fi.Renderer=Hv;fi.TextRenderer=Cx;fi.Lexer=cl;fi.lexer=cl.lex;fi.Tokenizer=jv;fi.Slugger=Px;fi.Hooks=_g;fi.parse=fi;fi.options;fi.setOptions;fi.use;fi.walkTokens;fi.parseInline;ul.parse;cl.lex;/*
 * HSOverlay
 * @version: 1.3.0
 * @author: HtmlStream
 * @license: Htmlstream Libraries (https://preline.co/docs/license.html)
 * Copyright 2023 Htmlstream
 */class Mx extends gC{constructor(t){super("[data-hs-overlay]");li(this,"root");this.root=t,this.openNextOverlay=!1}init(){this.root.addEventListener("click",t=>{const l=t.target.closest(this.selector),u=t.target.closest("[data-hs-overlay-close]"),d=t.target.getAttribute("aria-overlay")==="true";if(u)return this.close(u.closest(".hs-overlay.open"));if(l)return this.toggle(this.root.querySelector(l.getAttribute("data-hs-overlay")));d&&this._onBackdropClick(t.target)}),this.root.addEventListener("keydown",t=>{if(t.keyCode===27){const o=this.root.querySelector(".hs-overlay.open");if(!o)return;setTimeout(()=>{o.getAttribute("data-hs-overlay-keyboard")!=="false"&&this.close(o)})}})}toggle(t){t&&(t.classList.contains("hidden")?this.open(t):this.close(t))}open(t){if(!t)return;const o=this.root.querySelector(".hs-overlay.open"),l=this.getClassProperty(t,"--body-scroll","false")!=="true";if(o)return this.openNextOverlay=!0,this.close(o).then(()=>{this.open(t),this.openNextOverlay=!1});l&&(this.root.style.overflow="hidden"),this._buildBackdrop(t),this._checkTimer(t),this._autoHide(t),t.classList.remove("hidden"),t.setAttribute("aria-overlay","true"),t.setAttribute("tabindex","-1"),setTimeout(()=>{t.classList.contains("hidden")||(t.classList.add("open"),this._fireEvent("open",t),this._dispatch("open.hs.overlay",t,t),this._focusInput(t))},50)}close(t){return new Promise(o=>{t&&(t.classList.remove("open"),t.removeAttribute("aria-overlay"),t.removeAttribute("tabindex","-1"),this.afterTransition(t,()=>{t.classList.contains("open")||(t.classList.add("hidden"),this._destroyBackdrop(),this._fireEvent("close",t),this._dispatch("close.hs.overlay",t,t),this.root.style.overflow="",o(t))}))})}_autoHide(t){const o=parseInt(this.getClassProperty(t,"--auto-hide","0"));o&&(t.autoHide=setTimeout(()=>{this.close(t)},o))}_checkTimer(t){t.autoHide&&(clearTimeout(t.autoHide),delete t.autoHide)}_onBackdropClick(t){this.getClassProperty(t,"--overlay-backdrop","true")!=="static"&&this.close(t)}_buildBackdrop(t){const o=t.getAttribute("data-hs-overlay-backdrop-container")||!1;let l=document.createElement("div"),u="transition duration fixed inset-0 z-50 bg-gray-900 bg-opacity-50 dark:bg-opacity-80 hs-overlay-backdrop";for(const m of t.classList.values())m.startsWith("hs-overlay-backdrop-open:")&&(u+=` ${m}`);const d=this.getClassProperty(t,"--overlay-backdrop","true")!=="static";this.getClassProperty(t,"--overlay-backdrop","true")!=="false"&&(o&&(l=this.root.querySelector(o).cloneNode(!0),l.classList.remove("hidden"),u=l.classList,l.classList=""),d&&l.addEventListener("click",()=>this.close(t),!0),l.setAttribute("data-hs-overlay-backdrop-template",""),this.root.appendChild(l),setTimeout(()=>{l.classList=u}))}_destroyBackdrop(){const t=this.root.querySelector("[data-hs-overlay-backdrop-template]");t&&(this.openNextOverlay&&(t.style.transitionDuration=`${parseFloat(window.getComputedStyle(t).transitionDuration.replace(/[^\d.-]/g,""))*1.8}s`),t.classList.add("opacity-0"),this.afterTransition(t,()=>{t.remove()}))}_focusInput(t){const o=t.querySelector("[autofocus]");o&&o.focus()}}const Az=["innerHTML"],Oz={class:"hs-overlay-open:mt-7 hs-overlay-open:opacity-100 hs-overlay-open:duration-500 mt-0 opacity-0 ease-out transition-all sm:max-w-lg sm:w-full m-3 sm:mx-auto min-h-[calc(100%-3.5rem)] flex items-center"},zz={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},Nz={class:"p-4 overflow-y-auto flex items-center gap-4"},Dz=Vt("sl-spinner",{style:{"font-size":"3rem","--indicator-color":"deeppink","--track-color":"pink"}},null,-1),Fz=["innerHTML"],Bz=vo({__name:"Footer.ce",setup(n){const r=he([]),t=he(null),o=De(()=>{var M,I;return(I=(M=t.value)==null?void 0:M.getRootNode())==null?void 0:I.host}),l=he(null),u=De(()=>l==null?void 0:l.value),d=De(()=>new Mx(u.value)),f=he(null),m=De(()=>f==null?void 0:f.value),v=he("Generating PDF...");qe(m,M=>{d.value.init(),M.addEventListener("open.hs.overlay",I=>_.value=!0),M.addEventListener("close.hs.overlay",I=>_.value=!1)});const _=he(!1);qe(_,M=>{M?d.value.open(m.value):d.value.close(m.value)}),qe(o,()=>{k()});function k(){function M(){return Array.from(o.value.querySelectorAll("li")).map(I=>{let F=document.createElement("li");F.innerHTML=fi.parse(I.textContent||"");let H=F.querySelector("code");if(H){let U=H.previousElementSibling,J=U||F,G=C(H.innerHTML);G.id&&(J.id=G.id),G.class&&G.class.split(" ").forEach(Z=>J.classList.add(Z)),G.style&&J.setAttribute("style",G.style),H.remove()}return F})}r.value=M(),new MutationObserver(I=>{for(let F of I)F.type==="childList"&&(r.value=M())}).observe(o.value,{childList:!0,subtree:!0})}function C(M){var U;let I=[];M=M.replace(/”/g,'"').replace(/”/g,'"').replace(/’/g,"'"),(U=M==null?void 0:M.match(/[^\s"]+|"([^"]*)"/gmi))==null||U.filter(J=>J).forEach(J=>{I.length>0&&I[I.length-1].indexOf("=")===I[I.length-1].length-1?I[I.length-1]=`${I[I.length-1]}${J}`:I.push(J)});let F={},H=0;for(;H<I.length;){let J=I[H];if(J.indexOf("=")>0){let[G,Z]=J.split("=");Z=Z[0]==='"'&&Z[Z.length-1]==='"'?Z.slice(1,-1):Z,F[G]?F[G]+=` ${Z}`:F[G]=Z}else if(J[0]==="."){let G="class",Z=J.slice(1);Z=Z[0]==='"'&&Z[Z.length-1]==='"'?Z.slice(1,-1):Z,F[G]?F[G]+=` ${Z}`:F[G]=Z}else if(J[0]===":"){let G="style",Z;J.length===1&&H<J.length&&I[H+1][0]==='"'?(Z=I[H+1].slice(1,-1),H++):Z=J.slice(1),F[G]?F[G]+=` ${Z}`:F[G]=Z}else if(J[0]==='"'){let G="args",Z=J.slice(1,-1);F[G]?F[G].push(Z):F[G]=[Z]}else J[0]==="#"?F.id=J.slice(1):F[J]=!0;H++}return F}return(M,I)=>(ge(),me(Fi,null,[Vt("ul",{ref_key:"footer",ref:t,id:"footer",class:"flex bg-slate-100 p-2 gap-3 mt-8 items-center w-full h-8"},[(ge(!0),me(Fi,null,nu(r.value,(F,H)=>(ge(),me("li",{key:`li-${H}`,innerHTML:F.innerHTML,class:em(F.className),style:au(F.getAttribute("style")||"")},null,14,Az))),128))],512),Vt("div",{ref_key:"overlayRef",ref:l},[Vt("div",{ref_key:"modalRef",ref:f,id:"hs-basic-modal",class:"hs-overlay hidden w-full h-full fixed top-0 start-0 z-[80] overflow-x-hidden overflow-y-auto pointer-events-none"},[Vt("div",Oz,[Vt("div",zz,[Vt("div",Nz,[Dz,Vt("p",{innerHTML:v.value},null,8,Fz)])])])],512)],512)],64))}}),jz=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-\\[100\\%\\]{height:100%}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}mdp-header ul,mdp-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}img,svg{height:36px}.push{margin-left:auto}@media only screen and (max-width: 768px){#footer{font-size:.8em}li{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}}.overlay{position:fixed;display:none;width:100%;height:100%;top:0;left:0;right:0;bottom:0;background-color:#00000080;z-index:2;cursor:pointer}
`,Hz=rs(Bz,[["styles",[jz]]]);/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function LC(n){return typeof n>"u"||n===null}function Uz(n){return typeof n=="object"&&n!==null}function Gz(n){return Array.isArray(n)?n:LC(n)?[]:[n]}function qz(n,r){var t,o,l,u;if(r)for(u=Object.keys(r),t=0,o=u.length;t<o;t+=1)l=u[t],n[l]=r[l];return n}function Vz(n,r){var t="",o;for(o=0;o<r;o+=1)t+=n;return t}function Wz(n){return n===0&&Number.NEGATIVE_INFINITY===1/n}var Zz=LC,Yz=Uz,Xz=Gz,Kz=Vz,Jz=Wz,Qz=qz,Ro={isNothing:Zz,isObject:Yz,toArray:Xz,repeat:Kz,isNegativeZero:Jz,extend:Qz};function RC(n,r){var t="",o=n.reason||"(unknown reason)";return n.mark?(n.mark.name&&(t+='in "'+n.mark.name+'" '),t+="("+(n.mark.line+1)+":"+(n.mark.column+1)+")",!r&&n.mark.snippet&&(t+=`

`+n.mark.snippet),o+" "+t):o}function Dg(n,r){Error.call(this),this.name="YAMLException",this.reason=n,this.mark=r,this.message=RC(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Dg.prototype=Object.create(Error.prototype);Dg.prototype.constructor=Dg;Dg.prototype.toString=function(r){return this.name+": "+RC(this,r)};var rc=Dg;function Pw(n,r,t,o,l){var u="",d="",f=Math.floor(l/2)-1;return o-r>f&&(u=" ... ",r=o-f+u.length),t-o>f&&(d=" ...",t=o+f-d.length),{str:u+n.slice(r,t).replace(/\t/g,"→")+d,pos:o-r+u.length}}function Mw(n,r){return Ro.repeat(" ",r-n.length)+n}function $z(n,r){if(r=Object.create(r||null),!n.buffer)return null;r.maxLength||(r.maxLength=79),typeof r.indent!="number"&&(r.indent=1),typeof r.linesBefore!="number"&&(r.linesBefore=3),typeof r.linesAfter!="number"&&(r.linesAfter=2);for(var t=/\r?\n|\r|\0/g,o=[0],l=[],u,d=-1;u=t.exec(n.buffer);)l.push(u.index),o.push(u.index+u[0].length),n.position<=u.index&&d<0&&(d=o.length-2);d<0&&(d=o.length-1);var f="",m,v,_=Math.min(n.line+r.linesAfter,l.length).toString().length,k=r.maxLength-(r.indent+_+3);for(m=1;m<=r.linesBefore&&!(d-m<0);m++)v=Pw(n.buffer,o[d-m],l[d-m],n.position-(o[d]-o[d-m]),k),f=Ro.repeat(" ",r.indent)+Mw((n.line-m+1).toString(),_)+" | "+v.str+`
`+f;for(v=Pw(n.buffer,o[d],l[d],n.position,k),f+=Ro.repeat(" ",r.indent)+Mw((n.line+1).toString(),_)+" | "+v.str+`
`,f+=Ro.repeat("-",r.indent+_+3+v.pos)+`^
`,m=1;m<=r.linesAfter&&!(d+m>=l.length);m++)v=Pw(n.buffer,o[d+m],l[d+m],n.position-(o[d]-o[d+m]),k),f+=Ro.repeat(" ",r.indent)+Mw((n.line+m+1).toString(),_)+" | "+v.str+`
`;return f.replace(/\n$/,"")}var tN=$z,eN=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],rN=["scalar","sequence","mapping"];function iN(n){var r={};return n!==null&&Object.keys(n).forEach(function(t){n[t].forEach(function(o){r[String(o)]=t})}),r}function nN(n,r){if(r=r||{},Object.keys(r).forEach(function(t){if(eN.indexOf(t)===-1)throw new rc('Unknown option "'+t+'" is met in definition of "'+n+'" YAML type.')}),this.options=r,this.tag=n,this.kind=r.kind||null,this.resolve=r.resolve||function(){return!0},this.construct=r.construct||function(t){return t},this.instanceOf=r.instanceOf||null,this.predicate=r.predicate||null,this.represent=r.represent||null,this.representName=r.representName||null,this.defaultStyle=r.defaultStyle||null,this.multi=r.multi||!1,this.styleAliases=iN(r.styleAliases||null),rN.indexOf(this.kind)===-1)throw new rc('Unknown kind "'+this.kind+'" is specified for "'+n+'" YAML type.')}var go=nN;function KE(n,r){var t=[];return n[r].forEach(function(o){var l=t.length;t.forEach(function(u,d){u.tag===o.tag&&u.kind===o.kind&&u.multi===o.multi&&(l=d)}),t[l]=o}),t}function oN(){var n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},r,t;function o(l){l.multi?(n.multi[l.kind].push(l),n.multi.fallback.push(l)):n[l.kind][l.tag]=n.fallback[l.tag]=l}for(r=0,t=arguments.length;r<t;r+=1)arguments[r].forEach(o);return n}function m1(n){return this.extend(n)}m1.prototype.extend=function(r){var t=[],o=[];if(r instanceof go)o.push(r);else if(Array.isArray(r))o=o.concat(r);else if(r&&(Array.isArray(r.implicit)||Array.isArray(r.explicit)))r.implicit&&(t=t.concat(r.implicit)),r.explicit&&(o=o.concat(r.explicit));else throw new rc("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");t.forEach(function(u){if(!(u instanceof go))throw new rc("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(u.loadKind&&u.loadKind!=="scalar")throw new rc("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(u.multi)throw new rc("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),o.forEach(function(u){if(!(u instanceof go))throw new rc("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var l=Object.create(m1.prototype);return l.implicit=(this.implicit||[]).concat(t),l.explicit=(this.explicit||[]).concat(o),l.compiledImplicit=KE(l,"implicit"),l.compiledExplicit=KE(l,"explicit"),l.compiledTypeMap=oN(l.compiledImplicit,l.compiledExplicit),l};var sN=m1,aN=new go("tag:yaml.org,2002:str",{kind:"scalar",construct:function(n){return n!==null?n:""}}),lN=new go("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(n){return n!==null?n:[]}}),cN=new go("tag:yaml.org,2002:map",{kind:"mapping",construct:function(n){return n!==null?n:{}}}),uN=new sN({explicit:[aN,lN,cN]});function hN(n){if(n===null)return!0;var r=n.length;return r===1&&n==="~"||r===4&&(n==="null"||n==="Null"||n==="NULL")}function dN(){return null}function pN(n){return n===null}var fN=new go("tag:yaml.org,2002:null",{kind:"scalar",resolve:hN,construct:dN,predicate:pN,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function gN(n){if(n===null)return!1;var r=n.length;return r===4&&(n==="true"||n==="True"||n==="TRUE")||r===5&&(n==="false"||n==="False"||n==="FALSE")}function mN(n){return n==="true"||n==="True"||n==="TRUE"}function vN(n){return Object.prototype.toString.call(n)==="[object Boolean]"}var yN=new go("tag:yaml.org,2002:bool",{kind:"scalar",resolve:gN,construct:mN,predicate:vN,represent:{lowercase:function(n){return n?"true":"false"},uppercase:function(n){return n?"TRUE":"FALSE"},camelcase:function(n){return n?"True":"False"}},defaultStyle:"lowercase"});function bN(n){return 48<=n&&n<=57||65<=n&&n<=70||97<=n&&n<=102}function wN(n){return 48<=n&&n<=55}function xN(n){return 48<=n&&n<=57}function _N(n){if(n===null)return!1;var r=n.length,t=0,o=!1,l;if(!r)return!1;if(l=n[t],(l==="-"||l==="+")&&(l=n[++t]),l==="0"){if(t+1===r)return!0;if(l=n[++t],l==="b"){for(t++;t<r;t++)if(l=n[t],l!=="_"){if(l!=="0"&&l!=="1")return!1;o=!0}return o&&l!=="_"}if(l==="x"){for(t++;t<r;t++)if(l=n[t],l!=="_"){if(!bN(n.charCodeAt(t)))return!1;o=!0}return o&&l!=="_"}if(l==="o"){for(t++;t<r;t++)if(l=n[t],l!=="_"){if(!wN(n.charCodeAt(t)))return!1;o=!0}return o&&l!=="_"}}if(l==="_")return!1;for(;t<r;t++)if(l=n[t],l!=="_"){if(!xN(n.charCodeAt(t)))return!1;o=!0}return!(!o||l==="_")}function kN(n){var r=n,t=1,o;if(r.indexOf("_")!==-1&&(r=r.replace(/_/g,"")),o=r[0],(o==="-"||o==="+")&&(o==="-"&&(t=-1),r=r.slice(1),o=r[0]),r==="0")return 0;if(o==="0"){if(r[1]==="b")return t*parseInt(r.slice(2),2);if(r[1]==="x")return t*parseInt(r.slice(2),16);if(r[1]==="o")return t*parseInt(r.slice(2),8)}return t*parseInt(r,10)}function EN(n){return Object.prototype.toString.call(n)==="[object Number]"&&n%1===0&&!Ro.isNegativeZero(n)}var TN=new go("tag:yaml.org,2002:int",{kind:"scalar",resolve:_N,construct:kN,predicate:EN,represent:{binary:function(n){return n>=0?"0b"+n.toString(2):"-0b"+n.toString(2).slice(1)},octal:function(n){return n>=0?"0o"+n.toString(8):"-0o"+n.toString(8).slice(1)},decimal:function(n){return n.toString(10)},hexadecimal:function(n){return n>=0?"0x"+n.toString(16).toUpperCase():"-0x"+n.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),SN=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function CN(n){return!(n===null||!SN.test(n)||n[n.length-1]==="_")}function PN(n){var r,t;return r=n.replace(/_/g,"").toLowerCase(),t=r[0]==="-"?-1:1,"+-".indexOf(r[0])>=0&&(r=r.slice(1)),r===".inf"?t===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:r===".nan"?NaN:t*parseFloat(r,10)}var MN=/^[-+]?[0-9]+e/;function IN(n,r){var t;if(isNaN(n))switch(r){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===n)switch(r){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===n)switch(r){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Ro.isNegativeZero(n))return"-0.0";return t=n.toString(10),MN.test(t)?t.replace("e",".e"):t}function LN(n){return Object.prototype.toString.call(n)==="[object Number]"&&(n%1!==0||Ro.isNegativeZero(n))}var RN=new go("tag:yaml.org,2002:float",{kind:"scalar",resolve:CN,construct:PN,predicate:LN,represent:IN,defaultStyle:"lowercase"}),AN=uN.extend({implicit:[fN,yN,TN,RN]}),ON=AN,AC=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),OC=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function zN(n){return n===null?!1:AC.exec(n)!==null||OC.exec(n)!==null}function NN(n){var r,t,o,l,u,d,f,m=0,v=null,_,k,C;if(r=AC.exec(n),r===null&&(r=OC.exec(n)),r===null)throw new Error("Date resolve error");if(t=+r[1],o=+r[2]-1,l=+r[3],!r[4])return new Date(Date.UTC(t,o,l));if(u=+r[4],d=+r[5],f=+r[6],r[7]){for(m=r[7].slice(0,3);m.length<3;)m+="0";m=+m}return r[9]&&(_=+r[10],k=+(r[11]||0),v=(_*60+k)*6e4,r[9]==="-"&&(v=-v)),C=new Date(Date.UTC(t,o,l,u,d,f,m)),v&&C.setTime(C.getTime()-v),C}function DN(n){return n.toISOString()}var FN=new go("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:zN,construct:NN,instanceOf:Date,represent:DN});function BN(n){return n==="<<"||n===null}var jN=new go("tag:yaml.org,2002:merge",{kind:"scalar",resolve:BN}),Ix=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function HN(n){if(n===null)return!1;var r,t,o=0,l=n.length,u=Ix;for(t=0;t<l;t++)if(r=u.indexOf(n.charAt(t)),!(r>64)){if(r<0)return!1;o+=6}return o%8===0}function UN(n){var r,t,o=n.replace(/[\r\n=]/g,""),l=o.length,u=Ix,d=0,f=[];for(r=0;r<l;r++)r%4===0&&r&&(f.push(d>>16&255),f.push(d>>8&255),f.push(d&255)),d=d<<6|u.indexOf(o.charAt(r));return t=l%4*6,t===0?(f.push(d>>16&255),f.push(d>>8&255),f.push(d&255)):t===18?(f.push(d>>10&255),f.push(d>>2&255)):t===12&&f.push(d>>4&255),new Uint8Array(f)}function GN(n){var r="",t=0,o,l,u=n.length,d=Ix;for(o=0;o<u;o++)o%3===0&&o&&(r+=d[t>>18&63],r+=d[t>>12&63],r+=d[t>>6&63],r+=d[t&63]),t=(t<<8)+n[o];return l=u%3,l===0?(r+=d[t>>18&63],r+=d[t>>12&63],r+=d[t>>6&63],r+=d[t&63]):l===2?(r+=d[t>>10&63],r+=d[t>>4&63],r+=d[t<<2&63],r+=d[64]):l===1&&(r+=d[t>>2&63],r+=d[t<<4&63],r+=d[64],r+=d[64]),r}function qN(n){return Object.prototype.toString.call(n)==="[object Uint8Array]"}var VN=new go("tag:yaml.org,2002:binary",{kind:"scalar",resolve:HN,construct:UN,predicate:qN,represent:GN}),WN=Object.prototype.hasOwnProperty,ZN=Object.prototype.toString;function YN(n){if(n===null)return!0;var r=[],t,o,l,u,d,f=n;for(t=0,o=f.length;t<o;t+=1){if(l=f[t],d=!1,ZN.call(l)!=="[object Object]")return!1;for(u in l)if(WN.call(l,u))if(!d)d=!0;else return!1;if(!d)return!1;if(r.indexOf(u)===-1)r.push(u);else return!1}return!0}function XN(n){return n!==null?n:[]}var KN=new go("tag:yaml.org,2002:omap",{kind:"sequence",resolve:YN,construct:XN}),JN=Object.prototype.toString;function QN(n){if(n===null)return!0;var r,t,o,l,u,d=n;for(u=new Array(d.length),r=0,t=d.length;r<t;r+=1){if(o=d[r],JN.call(o)!=="[object Object]"||(l=Object.keys(o),l.length!==1))return!1;u[r]=[l[0],o[l[0]]]}return!0}function $N(n){if(n===null)return[];var r,t,o,l,u,d=n;for(u=new Array(d.length),r=0,t=d.length;r<t;r+=1)o=d[r],l=Object.keys(o),u[r]=[l[0],o[l[0]]];return u}var t4=new go("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:QN,construct:$N}),e4=Object.prototype.hasOwnProperty;function r4(n){if(n===null)return!0;var r,t=n;for(r in t)if(e4.call(t,r)&&t[r]!==null)return!1;return!0}function i4(n){return n!==null?n:{}}var n4=new go("tag:yaml.org,2002:set",{kind:"mapping",resolve:r4,construct:i4}),o4=ON.extend({implicit:[FN,jN],explicit:[VN,KN,t4,n4]}),gu=Object.prototype.hasOwnProperty,Uv=1,zC=2,NC=3,Gv=4,Iw=1,s4=2,JE=3,a4=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,l4=/[\x85\u2028\u2029]/,c4=/[,\[\]\{\}]/,DC=/^(?:!|!!|![a-z\-]+!)$/i,FC=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function QE(n){return Object.prototype.toString.call(n)}function dl(n){return n===10||n===13}function bh(n){return n===9||n===32}function Ko(n){return n===9||n===32||n===10||n===13}function ep(n){return n===44||n===91||n===93||n===123||n===125}function u4(n){var r;return 48<=n&&n<=57?n-48:(r=n|32,97<=r&&r<=102?r-97+10:-1)}function h4(n){return n===120?2:n===117?4:n===85?8:0}function d4(n){return 48<=n&&n<=57?n-48:-1}function $E(n){return n===48?"\0":n===97?"\x07":n===98?"\b":n===116||n===9?"	":n===110?`
`:n===118?"\v":n===102?"\f":n===114?"\r":n===101?"\x1B":n===32?" ":n===34?'"':n===47?"/":n===92?"\\":n===78?"":n===95?" ":n===76?"\u2028":n===80?"\u2029":""}function p4(n){return n<=65535?String.fromCharCode(n):String.fromCharCode((n-65536>>10)+55296,(n-65536&1023)+56320)}var BC=new Array(256),jC=new Array(256);for(var qd=0;qd<256;qd++)BC[qd]=$E(qd)?1:0,jC[qd]=$E(qd);function f4(n,r){this.input=n,this.filename=r.filename||null,this.schema=r.schema||o4,this.onWarning=r.onWarning||null,this.legacy=r.legacy||!1,this.json=r.json||!1,this.listener=r.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=n.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function HC(n,r){var t={name:n.filename,buffer:n.input.slice(0,-1),position:n.position,line:n.line,column:n.position-n.lineStart};return t.snippet=tN(t),new rc(r,t)}function Ge(n,r){throw HC(n,r)}function qv(n,r){n.onWarning&&n.onWarning.call(null,HC(n,r))}var tT={YAML:function(r,t,o){var l,u,d;r.version!==null&&Ge(r,"duplication of %YAML directive"),o.length!==1&&Ge(r,"YAML directive accepts exactly one argument"),l=/^([0-9]+)\.([0-9]+)$/.exec(o[0]),l===null&&Ge(r,"ill-formed argument of the YAML directive"),u=parseInt(l[1],10),d=parseInt(l[2],10),u!==1&&Ge(r,"unacceptable YAML version of the document"),r.version=o[0],r.checkLineBreaks=d<2,d!==1&&d!==2&&qv(r,"unsupported YAML version of the document")},TAG:function(r,t,o){var l,u;o.length!==2&&Ge(r,"TAG directive accepts exactly two arguments"),l=o[0],u=o[1],DC.test(l)||Ge(r,"ill-formed tag handle (first argument) of the TAG directive"),gu.call(r.tagMap,l)&&Ge(r,'there is a previously declared suffix for "'+l+'" tag handle'),FC.test(u)||Ge(r,"ill-formed tag prefix (second argument) of the TAG directive");try{u=decodeURIComponent(u)}catch{Ge(r,"tag prefix is malformed: "+u)}r.tagMap[l]=u}};function su(n,r,t,o){var l,u,d,f;if(r<t){if(f=n.input.slice(r,t),o)for(l=0,u=f.length;l<u;l+=1)d=f.charCodeAt(l),d===9||32<=d&&d<=1114111||Ge(n,"expected valid JSON character");else a4.test(f)&&Ge(n,"the stream contains non-printable characters");n.result+=f}}function eT(n,r,t,o){var l,u,d,f;for(Ro.isObject(t)||Ge(n,"cannot merge mappings; the provided source object is unacceptable"),l=Object.keys(t),d=0,f=l.length;d<f;d+=1)u=l[d],gu.call(r,u)||(r[u]=t[u],o[u]=!0)}function rp(n,r,t,o,l,u,d,f,m){var v,_;if(Array.isArray(l))for(l=Array.prototype.slice.call(l),v=0,_=l.length;v<_;v+=1)Array.isArray(l[v])&&Ge(n,"nested arrays are not supported inside keys"),typeof l=="object"&&QE(l[v])==="[object Object]"&&(l[v]="[object Object]");if(typeof l=="object"&&QE(l)==="[object Object]"&&(l="[object Object]"),l=String(l),r===null&&(r={}),o==="tag:yaml.org,2002:merge")if(Array.isArray(u))for(v=0,_=u.length;v<_;v+=1)eT(n,r,u[v],t);else eT(n,r,u,t);else!n.json&&!gu.call(t,l)&&gu.call(r,l)&&(n.line=d||n.line,n.lineStart=f||n.lineStart,n.position=m||n.position,Ge(n,"duplicated mapping key")),l==="__proto__"?Object.defineProperty(r,l,{configurable:!0,enumerable:!0,writable:!0,value:u}):r[l]=u,delete t[l];return r}function Lx(n){var r;r=n.input.charCodeAt(n.position),r===10?n.position++:r===13?(n.position++,n.input.charCodeAt(n.position)===10&&n.position++):Ge(n,"a line break is expected"),n.line+=1,n.lineStart=n.position,n.firstTabInLine=-1}function xn(n,r,t){for(var o=0,l=n.input.charCodeAt(n.position);l!==0;){for(;bh(l);)l===9&&n.firstTabInLine===-1&&(n.firstTabInLine=n.position),l=n.input.charCodeAt(++n.position);if(r&&l===35)do l=n.input.charCodeAt(++n.position);while(l!==10&&l!==13&&l!==0);if(dl(l))for(Lx(n),l=n.input.charCodeAt(n.position),o++,n.lineIndent=0;l===32;)n.lineIndent++,l=n.input.charCodeAt(++n.position);else break}return t!==-1&&o!==0&&n.lineIndent<t&&qv(n,"deficient indentation"),o}function Py(n){var r=n.position,t;return t=n.input.charCodeAt(r),!!((t===45||t===46)&&t===n.input.charCodeAt(r+1)&&t===n.input.charCodeAt(r+2)&&(r+=3,t=n.input.charCodeAt(r),t===0||Ko(t)))}function Rx(n,r){r===1?n.result+=" ":r>1&&(n.result+=Ro.repeat(`
`,r-1))}function g4(n,r,t){var o,l,u,d,f,m,v,_,k=n.kind,C=n.result,M;if(M=n.input.charCodeAt(n.position),Ko(M)||ep(M)||M===35||M===38||M===42||M===33||M===124||M===62||M===39||M===34||M===37||M===64||M===96||(M===63||M===45)&&(l=n.input.charCodeAt(n.position+1),Ko(l)||t&&ep(l)))return!1;for(n.kind="scalar",n.result="",u=d=n.position,f=!1;M!==0;){if(M===58){if(l=n.input.charCodeAt(n.position+1),Ko(l)||t&&ep(l))break}else if(M===35){if(o=n.input.charCodeAt(n.position-1),Ko(o))break}else{if(n.position===n.lineStart&&Py(n)||t&&ep(M))break;if(dl(M))if(m=n.line,v=n.lineStart,_=n.lineIndent,xn(n,!1,-1),n.lineIndent>=r){f=!0,M=n.input.charCodeAt(n.position);continue}else{n.position=d,n.line=m,n.lineStart=v,n.lineIndent=_;break}}f&&(su(n,u,d,!1),Rx(n,n.line-m),u=d=n.position,f=!1),bh(M)||(d=n.position+1),M=n.input.charCodeAt(++n.position)}return su(n,u,d,!1),n.result?!0:(n.kind=k,n.result=C,!1)}function m4(n,r){var t,o,l;if(t=n.input.charCodeAt(n.position),t!==39)return!1;for(n.kind="scalar",n.result="",n.position++,o=l=n.position;(t=n.input.charCodeAt(n.position))!==0;)if(t===39)if(su(n,o,n.position,!0),t=n.input.charCodeAt(++n.position),t===39)o=n.position,n.position++,l=n.position;else return!0;else dl(t)?(su(n,o,l,!0),Rx(n,xn(n,!1,r)),o=l=n.position):n.position===n.lineStart&&Py(n)?Ge(n,"unexpected end of the document within a single quoted scalar"):(n.position++,l=n.position);Ge(n,"unexpected end of the stream within a single quoted scalar")}function v4(n,r){var t,o,l,u,d,f;if(f=n.input.charCodeAt(n.position),f!==34)return!1;for(n.kind="scalar",n.result="",n.position++,t=o=n.position;(f=n.input.charCodeAt(n.position))!==0;){if(f===34)return su(n,t,n.position,!0),n.position++,!0;if(f===92){if(su(n,t,n.position,!0),f=n.input.charCodeAt(++n.position),dl(f))xn(n,!1,r);else if(f<256&&BC[f])n.result+=jC[f],n.position++;else if((d=h4(f))>0){for(l=d,u=0;l>0;l--)f=n.input.charCodeAt(++n.position),(d=u4(f))>=0?u=(u<<4)+d:Ge(n,"expected hexadecimal character");n.result+=p4(u),n.position++}else Ge(n,"unknown escape sequence");t=o=n.position}else dl(f)?(su(n,t,o,!0),Rx(n,xn(n,!1,r)),t=o=n.position):n.position===n.lineStart&&Py(n)?Ge(n,"unexpected end of the document within a double quoted scalar"):(n.position++,o=n.position)}Ge(n,"unexpected end of the stream within a double quoted scalar")}function y4(n,r){var t=!0,o,l,u,d=n.tag,f,m=n.anchor,v,_,k,C,M,I=Object.create(null),F,H,U,J;if(J=n.input.charCodeAt(n.position),J===91)_=93,M=!1,f=[];else if(J===123)_=125,M=!0,f={};else return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=f),J=n.input.charCodeAt(++n.position);J!==0;){if(xn(n,!0,r),J=n.input.charCodeAt(n.position),J===_)return n.position++,n.tag=d,n.anchor=m,n.kind=M?"mapping":"sequence",n.result=f,!0;t?J===44&&Ge(n,"expected the node content, but found ','"):Ge(n,"missed comma between flow collection entries"),H=F=U=null,k=C=!1,J===63&&(v=n.input.charCodeAt(n.position+1),Ko(v)&&(k=C=!0,n.position++,xn(n,!0,r))),o=n.line,l=n.lineStart,u=n.position,wp(n,r,Uv,!1,!0),H=n.tag,F=n.result,xn(n,!0,r),J=n.input.charCodeAt(n.position),(C||n.line===o)&&J===58&&(k=!0,J=n.input.charCodeAt(++n.position),xn(n,!0,r),wp(n,r,Uv,!1,!0),U=n.result),M?rp(n,f,I,H,F,U,o,l,u):k?f.push(rp(n,null,I,H,F,U,o,l,u)):f.push(F),xn(n,!0,r),J=n.input.charCodeAt(n.position),J===44?(t=!0,J=n.input.charCodeAt(++n.position)):t=!1}Ge(n,"unexpected end of the stream within a flow collection")}function b4(n,r){var t,o,l=Iw,u=!1,d=!1,f=r,m=0,v=!1,_,k;if(k=n.input.charCodeAt(n.position),k===124)o=!1;else if(k===62)o=!0;else return!1;for(n.kind="scalar",n.result="";k!==0;)if(k=n.input.charCodeAt(++n.position),k===43||k===45)Iw===l?l=k===43?JE:s4:Ge(n,"repeat of a chomping mode identifier");else if((_=d4(k))>=0)_===0?Ge(n,"bad explicit indentation width of a block scalar; it cannot be less than one"):d?Ge(n,"repeat of an indentation width identifier"):(f=r+_-1,d=!0);else break;if(bh(k)){do k=n.input.charCodeAt(++n.position);while(bh(k));if(k===35)do k=n.input.charCodeAt(++n.position);while(!dl(k)&&k!==0)}for(;k!==0;){for(Lx(n),n.lineIndent=0,k=n.input.charCodeAt(n.position);(!d||n.lineIndent<f)&&k===32;)n.lineIndent++,k=n.input.charCodeAt(++n.position);if(!d&&n.lineIndent>f&&(f=n.lineIndent),dl(k)){m++;continue}if(n.lineIndent<f){l===JE?n.result+=Ro.repeat(`
`,u?1+m:m):l===Iw&&u&&(n.result+=`
`);break}for(o?bh(k)?(v=!0,n.result+=Ro.repeat(`
`,u?1+m:m)):v?(v=!1,n.result+=Ro.repeat(`
`,m+1)):m===0?u&&(n.result+=" "):n.result+=Ro.repeat(`
`,m):n.result+=Ro.repeat(`
`,u?1+m:m),u=!0,d=!0,m=0,t=n.position;!dl(k)&&k!==0;)k=n.input.charCodeAt(++n.position);su(n,t,n.position,!1)}return!0}function rT(n,r){var t,o=n.tag,l=n.anchor,u=[],d,f=!1,m;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=u),m=n.input.charCodeAt(n.position);m!==0&&(n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,Ge(n,"tab characters must not be used in indentation")),!(m!==45||(d=n.input.charCodeAt(n.position+1),!Ko(d))));){if(f=!0,n.position++,xn(n,!0,-1)&&n.lineIndent<=r){u.push(null),m=n.input.charCodeAt(n.position);continue}if(t=n.line,wp(n,r,NC,!1,!0),u.push(n.result),xn(n,!0,-1),m=n.input.charCodeAt(n.position),(n.line===t||n.lineIndent>r)&&m!==0)Ge(n,"bad indentation of a sequence entry");else if(n.lineIndent<r)break}return f?(n.tag=o,n.anchor=l,n.kind="sequence",n.result=u,!0):!1}function w4(n,r,t){var o,l,u,d,f,m,v=n.tag,_=n.anchor,k={},C=Object.create(null),M=null,I=null,F=null,H=!1,U=!1,J;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=k),J=n.input.charCodeAt(n.position);J!==0;){if(!H&&n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,Ge(n,"tab characters must not be used in indentation")),o=n.input.charCodeAt(n.position+1),u=n.line,(J===63||J===58)&&Ko(o))J===63?(H&&(rp(n,k,C,M,I,null,d,f,m),M=I=F=null),U=!0,H=!0,l=!0):H?(H=!1,l=!0):Ge(n,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),n.position+=1,J=o;else{if(d=n.line,f=n.lineStart,m=n.position,!wp(n,t,zC,!1,!0))break;if(n.line===u){for(J=n.input.charCodeAt(n.position);bh(J);)J=n.input.charCodeAt(++n.position);if(J===58)J=n.input.charCodeAt(++n.position),Ko(J)||Ge(n,"a whitespace character is expected after the key-value separator within a block mapping"),H&&(rp(n,k,C,M,I,null,d,f,m),M=I=F=null),U=!0,H=!1,l=!1,M=n.tag,I=n.result;else if(U)Ge(n,"can not read an implicit mapping pair; a colon is missed");else return n.tag=v,n.anchor=_,!0}else if(U)Ge(n,"can not read a block mapping entry; a multiline key may not be an implicit key");else return n.tag=v,n.anchor=_,!0}if((n.line===u||n.lineIndent>r)&&(H&&(d=n.line,f=n.lineStart,m=n.position),wp(n,r,Gv,!0,l)&&(H?I=n.result:F=n.result),H||(rp(n,k,C,M,I,F,d,f,m),M=I=F=null),xn(n,!0,-1),J=n.input.charCodeAt(n.position)),(n.line===u||n.lineIndent>r)&&J!==0)Ge(n,"bad indentation of a mapping entry");else if(n.lineIndent<r)break}return H&&rp(n,k,C,M,I,null,d,f,m),U&&(n.tag=v,n.anchor=_,n.kind="mapping",n.result=k),U}function x4(n){var r,t=!1,o=!1,l,u,d;if(d=n.input.charCodeAt(n.position),d!==33)return!1;if(n.tag!==null&&Ge(n,"duplication of a tag property"),d=n.input.charCodeAt(++n.position),d===60?(t=!0,d=n.input.charCodeAt(++n.position)):d===33?(o=!0,l="!!",d=n.input.charCodeAt(++n.position)):l="!",r=n.position,t){do d=n.input.charCodeAt(++n.position);while(d!==0&&d!==62);n.position<n.length?(u=n.input.slice(r,n.position),d=n.input.charCodeAt(++n.position)):Ge(n,"unexpected end of the stream within a verbatim tag")}else{for(;d!==0&&!Ko(d);)d===33&&(o?Ge(n,"tag suffix cannot contain exclamation marks"):(l=n.input.slice(r-1,n.position+1),DC.test(l)||Ge(n,"named tag handle cannot contain such characters"),o=!0,r=n.position+1)),d=n.input.charCodeAt(++n.position);u=n.input.slice(r,n.position),c4.test(u)&&Ge(n,"tag suffix cannot contain flow indicator characters")}u&&!FC.test(u)&&Ge(n,"tag name cannot contain such characters: "+u);try{u=decodeURIComponent(u)}catch{Ge(n,"tag name is malformed: "+u)}return t?n.tag=u:gu.call(n.tagMap,l)?n.tag=n.tagMap[l]+u:l==="!"?n.tag="!"+u:l==="!!"?n.tag="tag:yaml.org,2002:"+u:Ge(n,'undeclared tag handle "'+l+'"'),!0}function _4(n){var r,t;if(t=n.input.charCodeAt(n.position),t!==38)return!1;for(n.anchor!==null&&Ge(n,"duplication of an anchor property"),t=n.input.charCodeAt(++n.position),r=n.position;t!==0&&!Ko(t)&&!ep(t);)t=n.input.charCodeAt(++n.position);return n.position===r&&Ge(n,"name of an anchor node must contain at least one character"),n.anchor=n.input.slice(r,n.position),!0}function k4(n){var r,t,o;if(o=n.input.charCodeAt(n.position),o!==42)return!1;for(o=n.input.charCodeAt(++n.position),r=n.position;o!==0&&!Ko(o)&&!ep(o);)o=n.input.charCodeAt(++n.position);return n.position===r&&Ge(n,"name of an alias node must contain at least one character"),t=n.input.slice(r,n.position),gu.call(n.anchorMap,t)||Ge(n,'unidentified alias "'+t+'"'),n.result=n.anchorMap[t],xn(n,!0,-1),!0}function wp(n,r,t,o,l){var u,d,f,m=1,v=!1,_=!1,k,C,M,I,F,H;if(n.listener!==null&&n.listener("open",n),n.tag=null,n.anchor=null,n.kind=null,n.result=null,u=d=f=Gv===t||NC===t,o&&xn(n,!0,-1)&&(v=!0,n.lineIndent>r?m=1:n.lineIndent===r?m=0:n.lineIndent<r&&(m=-1)),m===1)for(;x4(n)||_4(n);)xn(n,!0,-1)?(v=!0,f=u,n.lineIndent>r?m=1:n.lineIndent===r?m=0:n.lineIndent<r&&(m=-1)):f=!1;if(f&&(f=v||l),(m===1||Gv===t)&&(Uv===t||zC===t?F=r:F=r+1,H=n.position-n.lineStart,m===1?f&&(rT(n,H)||w4(n,H,F))||y4(n,F)?_=!0:(d&&b4(n,F)||m4(n,F)||v4(n,F)?_=!0:k4(n)?(_=!0,(n.tag!==null||n.anchor!==null)&&Ge(n,"alias node should not have any properties")):g4(n,F,Uv===t)&&(_=!0,n.tag===null&&(n.tag="?")),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):m===0&&(_=f&&rT(n,H))),n.tag===null)n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);else if(n.tag==="?"){for(n.result!==null&&n.kind!=="scalar"&&Ge(n,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+n.kind+'"'),k=0,C=n.implicitTypes.length;k<C;k+=1)if(I=n.implicitTypes[k],I.resolve(n.result)){n.result=I.construct(n.result),n.tag=I.tag,n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);break}}else if(n.tag!=="!"){if(gu.call(n.typeMap[n.kind||"fallback"],n.tag))I=n.typeMap[n.kind||"fallback"][n.tag];else for(I=null,M=n.typeMap.multi[n.kind||"fallback"],k=0,C=M.length;k<C;k+=1)if(n.tag.slice(0,M[k].tag.length)===M[k].tag){I=M[k];break}I||Ge(n,"unknown tag !<"+n.tag+">"),n.result!==null&&I.kind!==n.kind&&Ge(n,"unacceptable node kind for !<"+n.tag+'> tag; it should be "'+I.kind+'", not "'+n.kind+'"'),I.resolve(n.result,n.tag)?(n.result=I.construct(n.result,n.tag),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):Ge(n,"cannot resolve a node with !<"+n.tag+"> explicit tag")}return n.listener!==null&&n.listener("close",n),n.tag!==null||n.anchor!==null||_}function E4(n){var r=n.position,t,o,l,u=!1,d;for(n.version=null,n.checkLineBreaks=n.legacy,n.tagMap=Object.create(null),n.anchorMap=Object.create(null);(d=n.input.charCodeAt(n.position))!==0&&(xn(n,!0,-1),d=n.input.charCodeAt(n.position),!(n.lineIndent>0||d!==37));){for(u=!0,d=n.input.charCodeAt(++n.position),t=n.position;d!==0&&!Ko(d);)d=n.input.charCodeAt(++n.position);for(o=n.input.slice(t,n.position),l=[],o.length<1&&Ge(n,"directive name must not be less than one character in length");d!==0;){for(;bh(d);)d=n.input.charCodeAt(++n.position);if(d===35){do d=n.input.charCodeAt(++n.position);while(d!==0&&!dl(d));break}if(dl(d))break;for(t=n.position;d!==0&&!Ko(d);)d=n.input.charCodeAt(++n.position);l.push(n.input.slice(t,n.position))}d!==0&&Lx(n),gu.call(tT,o)?tT[o](n,o,l):qv(n,'unknown document directive "'+o+'"')}if(xn(n,!0,-1),n.lineIndent===0&&n.input.charCodeAt(n.position)===45&&n.input.charCodeAt(n.position+1)===45&&n.input.charCodeAt(n.position+2)===45?(n.position+=3,xn(n,!0,-1)):u&&Ge(n,"directives end mark is expected"),wp(n,n.lineIndent-1,Gv,!1,!0),xn(n,!0,-1),n.checkLineBreaks&&l4.test(n.input.slice(r,n.position))&&qv(n,"non-ASCII line breaks are interpreted as content"),n.documents.push(n.result),n.position===n.lineStart&&Py(n)){n.input.charCodeAt(n.position)===46&&(n.position+=3,xn(n,!0,-1));return}if(n.position<n.length-1)Ge(n,"end of the stream or a document separator is expected");else return}function UC(n,r){n=String(n),r=r||{},n.length!==0&&(n.charCodeAt(n.length-1)!==10&&n.charCodeAt(n.length-1)!==13&&(n+=`
`),n.charCodeAt(0)===65279&&(n=n.slice(1)));var t=new f4(n,r),o=n.indexOf("\0");for(o!==-1&&(t.position=o,Ge(t,"null byte is not allowed in input")),t.input+="\0";t.input.charCodeAt(t.position)===32;)t.lineIndent+=1,t.position+=1;for(;t.position<t.length-1;)E4(t);return t.documents}function T4(n,r,t){r!==null&&typeof r=="object"&&typeof t>"u"&&(t=r,r=null);var o=UC(n,t);if(typeof r!="function")return o;for(var l=0,u=o.length;l<u;l+=1)r(o[l])}function S4(n,r){var t=UC(n,r);if(t.length!==0){if(t.length===1)return t[0];throw new rc("expected a single document in the stream, but found more")}}var C4=T4,P4=S4,M4={loadAll:C4,load:P4},I4=M4.load;const L4=globalThis.window;let Lw=I4(L4.options);var qT;const wh=((qT=Lw==null?void 0:Lw.defaults)==null?void 0:qT.iiifServer)||"iiif.mdpress.io";console.log(`iiifServer=${wh}`);function Rw(n){return/^Q\d+$/.test(n)}function R4(n){return n.replace(/-([a-z])/g,function(r){return r[1].toUpperCase()})}function v1(){return"ontouchstart"in document.documentElement&&/mobi/i.test(navigator.userAgent)}let Pn={};async function A4(n=[],r="en"){let t=n.filter(o=>!Pn[o]).map(o=>`(<http://www.wikidata.org/entity/${o}>)`);if(t.length>0){let o=`
      SELECT ?item ?label ?description ?alias ?image ?logoImage ?coords ?pageBanner ?whosOnFirst ?wikipedia WHERE {
        VALUES (?item) { ${t.join(" ")} }
        ?item rdfs:label ?label . 
        FILTER (LANG(?label) = "${r}" || LANG(?label) = "en")
        OPTIONAL { ?item schema:description ?description . FILTER (LANG(?description) = "${r}" || LANG(?description) = "en")}
        OPTIONAL { ?item skos:altLabel ?alias . FILTER (LANG(?alias) = "${r}" || LANG(?alias) = "en")}
        OPTIONAL { ?item wdt:P625 ?coords . }
        OPTIONAL { ?item wdt:P18 ?image . }
        OPTIONAL { ?item wdt:P154 ?logoImage . }
        OPTIONAL { ?item wdt:P948 ?pageBanner . }
        OPTIONAL { ?item wdt:P6766 ?whosOnFirst . }
        OPTIONAL { ?wikipedia schema:about ?item; schema:isPartOf <https://${r}.wikipedia.org/> . }
    }`,l=await fetch("https://query.wikidata.org/sparql",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/sparql-results+json"},body:`query=${encodeURIComponent(o)}`});if(l.ok)return(await l.json()).results.bindings.forEach(d=>{let f=d.item.value.split("/").pop();Pn[f]?d.alias&&Pn[f].aliases.push(d.alias.value):(Pn[f]={id:f,label:d.label.value},d.description&&(Pn[f].description=d.description.value),d.alias&&(Pn[f].aliases=[d.alias.value]),d.coords&&(Pn[f].coords=d.coords.value.slice(6,-1).split(" ").reverse().join(",")),d.wikipedia&&(Pn[f].wikipedia=d.wikipedia.value),d.pageBanner&&(Pn[f].pageBanner=d.pageBanner.value),d.image&&(Pn[f].image=d.image.value,Pn[f].thumbnail=iT(d.image.value,300)),d.logoImage&&(Pn[f].logoImage=d.logoImage.value,Pn[f].thumbnail||(Pn[f].thumbnail=iT(d.logoImage.value,300))),d.whosOnFirst&&(Pn[f].geojson=O4(d.whosOnFirst.value)))}),Object.fromEntries(n.filter(d=>Pn[d]).map(d=>[d,Pn[d]]))}return Object.fromEntries(n.filter(o=>Pn[o]).map(o=>[o,Pn[o]]))}function iT(n,r){n=(Array.isArray(n)?n[0]:n).replace(/Special:FilePath\//,"File:").split("File:").pop(),n=decodeURIComponent(n).replace(/ /g,"_");const t=on.hashStr(n),o=n.split(".").pop();let l=`https://upload.wikimedia.org/wikipedia/commons${r?"/thumb":""}`;return l+=`/${t.slice(0,1)}/${t.slice(0,2)}/${n}`,r&&(l+=`/${r}px-${n}`,o==="svg"?l+=".png":(o==="tif"||o==="tiff")&&(l+=".jpg")),l}function O4(n){let r=[];for(let t=0;t<n.length;t+=3)r.push(n.slice(t,t+3));return`https://data.whosonfirst.org/${r.join("/")}/${n}.geojson`}async function z4(n,r,t){return new Promise(o=>{let{x:l,y:u,w:d,h:f}=r,{width:m,height:v}=t,_=new Image;_.crossOrigin="anonymous",l=l?l/100:0,u=u?u/100:0,d=d?d/100:0,f=f?f/100:0,_.onload=()=>{let k=_.width,C=_.height,M=d>0?k*d:k-k*l,I=f>0?C*f:C-C*u,F=M/I;F>1?v=m/F:m=v*F;const H=document.createElement("canvas"),U=H.getContext("2d");H.width=m,H.height=v,l=l*k,u=u*C,U==null||U.drawImage(_,l,u,M,I,0,0,m,v);let J=H.toDataURL();o(J)},_.src=n})}async function Vd(n,r="en"){return(await A4([n],r))[n]}function GC(n,r,t=[]){if(t=t||[],r.items)for(let o=0;o<r.items.length;o++){let l=r.items[o];!Object.entries(n).find(([d,f])=>l[d]&&l[d]!==f)?t.push(l):GC(n,l,t)}return t}function qC(n,r,t=1){const o=GC(n,r);return o.length>=t?o[t-1]:null}function VC(n,r=1){return qC({type:"Annotation",motivation:"painting"},n,r).body}function N4(n){let r=(n==null?void 0:n.split("/"))||[],t="full",o="full",l="0",u="default",d="jpg",f=0;return{region:r.length>f&&r[f]?r[f]:t,size:r.length>f+1&&r[f+1]?r[f+1]:o,rotation:r.length>f+2&&r[f+2]?r[f+2]:l,quality:r.length>f+3&&r[f+3]?r[f+3]:u,format:r.length>f+4&&r[f+4]?r[f+4]:d}}const X0={};async function Ax(n,r=!1){let t=n.map(l=>l.indexOf("http")===0?l:`https://${wh}/${l}/manifest.json`),o=t.filter(l=>!X0[l]);if(console.log(`loadManifests: manifests=${t.length} cached=${t.length-o.length}`),o.length>0){let l=o.map(f=>(r&&["localhost",wh].includes(new URL(f).hostname)&&(f+="?refresh"),fetch(f))),u=await Promise.all(l),d=await Promise.all(u.map(f=>f.json()));if(l=d.filter(f=>!Array.isArray(f["@context"])&&parseFloat(f["@context"].split("/").slice(-2,-1).pop())<3).map(f=>fetch(`https://${wh}/prezi2to3/`,{method:"POST",body:JSON.stringify(f)})),l.length>0){u=await Promise.all(l);let f=await Promise.all(u.map(m=>m.json()));for(let m=0;m<d.length;m++){let v=d[m].id||d[m]["@id"],_=f.find(k=>(k.id||k["@id"])===v);_&&(d[m]=_)}}return d.forEach((f,m)=>X0[o[m]]=f),t.map(f=>X0[f])}else return t.map(l=>X0[l])}async function xp(n,r=!1){let t=n.indexOf("http")===0?n:`https://${wh}/${n}/manifest.json`;return(await Ax([t],r))[0]}const D4=["id"],F4=["src","onClick"],B4=["innerHTML"],j4=["src"],H4={slot:"footer",class:"footer"},U4=["manifest"],G4={class:"controls push"},q4={key:0,class:"toolbar"},V4=Vt("svg",{class:"push edit",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[Vt("path",{d:"M441 58.9L453.1 71c9.4 9.4 9.4 24.6 0 33.9L424 134.1 377.9 88 407 58.9c9.4-9.4 24.6-9.4 33.9 0zM209.8 256.2L344 121.9 390.1 168 255.8 302.2c-2.9 2.9-6.5 5-10.4 6.1l-58.5 16.7 16.7-58.5c1.1-3.9 3.2-7.5 6.1-10.4zM373.1 25L175.8 222.2c-8.7 8.7-15 19.4-18.3 31.1l-28.6 100c-2.4 8.4-.1 17.4 6.1 23.6s15.2 8.5 23.6 6.1l100-28.6c11.8-3.4 22.5-9.7 31.1-18.3L487 138.9c28.1-28.1 28.1-73.7 0-101.8L474.9 25C446.8-3.1 401.2-3.1 373.1 25zM88 64C39.4 64 0 103.4 0 152V424c0 48.6 39.4 88 88 88H360c48.6 0 88-39.4 88-88V312c0-13.3-10.7-24-24-24s-24 10.7-24 24V424c0 22.1-17.9 40-40 40H88c-22.1 0-40-17.9-40-40V152c0-22.1 17.9-40 40-40H200c13.3 0 24-10.7 24-24s-10.7-24-24-24H88z"})],-1),W4=Vt("svg",{class:"delete",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},[Vt("path",{d:"M170.5 51.6L151.5 80h145l-19-28.4c-1.5-2.2-4-3.6-6.7-3.6H177.1c-2.7 0-5.2 1.3-6.7 3.6zm147-26.6L354.2 80H368h48 8c13.3 0 24 10.7 24 24s-10.7 24-24 24h-8V432c0 44.2-35.8 80-80 80H112c-44.2 0-80-35.8-80-80V128H24c-13.3 0-24-10.7-24-24S10.7 80 24 80h8H80 93.8l36.7-55.1C140.9 9.4 158.4 0 177.1 0h93.7c18.7 0 36.2 9.4 46.6 24.9zM80 128V432c0 17.7 14.3 32 32 32H336c17.7 0 32-14.3 32-32V128H80zm80 64V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16z"})],-1),Z4=[V4,W4],Y4=vo({__name:"Gallery.ce",props:{data:{type:String},dialogWidth:{type:String,default:"100vw"},ghDir:{type:String},caption:{type:Boolean,default:!1}},setup(n){const r=n,t=he(null),o=De(()=>{var ot,V;return(V=(ot=t.value)==null?void 0:ot.getRootNode())==null?void 0:V.host});qe(o,()=>{Z()});const l=De(()=>{var ot;return(ot=t==null?void 0:t.value)==null?void 0:ot.parentNode}),u=self.window,d=he(u.config||{}),f=he(null);qe(f,async()=>{var ot,V,nt,ut;(ot=d.value)!=null&&ot.github&&((V=f.value)!=null&&V.token)&&(m.value=await ft((nt=d.value)==null?void 0:nt.github.owner_name,(ut=d.value)==null?void 0:ut.github.repository_name,f.value.username,f.value.token))});const m=he(!1);qe(m,()=>console.log("userCanUpdateRepo",m.value));const v=he([]);qe(v,async ot=>{k.value=await Ax(ot)});function _(ot){var V;return Object.fromEntries((V=ot.metadata)==null?void 0:V.map(nt=>[(nt.label.en||nt.label.none||Object.keys(nt.label)[0])[0],(nt.value.en||nt.value.none||Object.keys(nt.value)[0])[0]]))}const k=he([]);qe(k,ot=>{C.value=ot.map(V=>{var Ct;let nt=_(V),ut=[nt.camera,nt.exposure,nt.mode].filter(Kt=>Kt).join(", "),gt=qC({type:"Annotation",motivation:"painting"},V,1).body,Jt=((Ct=V.metadata)==null?void 0:Ct.filter(Kt=>(Kt.label.en||Kt.label.none)[0]==="orientation").map(Kt=>(Kt.value.en||Kt.value.none)[0])[0])||1;Jt=Array.isArray(Jt)?Jt[0]:Jt;let re=Jt===1||Jt===3?gt.width:gt.height,Xt=Jt===1||Jt===3?gt.height:gt.width;return{id:V.id,label:V.label?V.label.en||V.label.none||Object.values(V.label)[0]:null,summary:V.summary?V.summary.en||V.summary.none||Object.values(V.summary)[0]:null,width:re,height:Xt,format:gt.format,orientation:Jt,aspect_ratio:Number((re/Xt).toFixed(4)),thumbnail:V.thumbnail[0].id,photoDetails:ut}})});const C=he([]);qe(C,ot=>{at()});const M=he(null);qe(M,()=>{J.value=M.value!==null});const I=he(0),F=he([]);let H,U;const J=he(!1);qe(J,()=>{U.open=J.value});function G(ot){let V=ot.split("/"),nt=V[V.length-1],ut=nt.lastIndexOf("."),gt=nt.slice(0,ut),Jt=nt.slice(ut+1);return V[V.length-1]=`${encodeURIComponent(gt)}.${Jt}`,ot=V.join("/"),ot.indexOf("http")===0?ot:`https://iiif.mdpress.io/${ot}/manifest.json`}function Z(){if(r.data){let ot=document.getElementById(r.data);v.value=Array.from(ot.querySelectorAll("li")).map(V=>V.textContent).map(V=>G(V))}else if(r.ghDir){let ot=r.ghDir[0]==="/"?r.ghDir.slice(1):r.ghDir;fetch(`https://iiif.mdpress.io/gh-dir/${ot}?filter=images`).then(V=>V.json()).then(V=>{v.value=V.map(nt=>G(`gh:${r.ghDir}/${nt.name}`))})}else{let ot=function(){v.value=Array.from(V.querySelectorAll("li")).map(nt=>nt.innerText).map(nt=>G(nt))},V=o.value.parentElement;ot(),new MutationObserver(nt=>{for(let ut of nt)ut.type==="childList"&&ot()}).observe(V,{childList:!0,subtree:!0})}}function at(){if(C.value.length===0)return;let ot=r.caption?32:0,V=C.value.length;const nt=I.value<=640?2:I.value<=960?3:I.value<=1280?4:I.value<=1920?5:6;let ut=[],gt=v1()?8:16,Jt=[],re=0,Xt=0,Ct=0;C.value.forEach((Kt,Zt)=>{if(Ct+=Kt.aspect_ratio,Jt.push(Kt),Ct>=nt||Zt+1===V){Ct=Math.max(Ct,nt);const bt=(I.value-gt*(Jt.length-1))/Ct;Jt.forEach(At=>{const qt=bt*At.aspect_ratio;ut.push({width:`${Math.round(qt)}px`,height:`${Math.round(bt+ot)}px`,transform:`translate3d(${Math.round(re)}px, ${Math.round(Xt)}px, 0)`}),re+=qt+gt}),Jt=[],Ct=0,Xt+=bt+gt+ot,re=0}}),t.value&&(t.value.style.height=`${Xt-gt}px`),F.value=ut}function mt(ot){M.value=k.value[ot]}ts(()=>{var ot;f.value=localStorage.getItem("auth-user")&&JSON.parse(localStorage.getItem("auth-user")||"{}"),U=(ot=l.value)==null?void 0:ot.querySelector(".dialog"),U.addEventListener("sl-hide",V=>J.value=!1)}),qe(t,()=>{var ot;t.value&&(I.value=((ot=t.value)==null?void 0:ot.clientWidth)||0,new ResizeObserver(()=>{var nt,ut,gt;(nt=t.value)!=null&&nt.clientWidth&&((ut=t.value)==null?void 0:ut.clientWidth)!==I.value&&(I.value=(gt=t.value)==null?void 0:gt.clientWidth,clearTimeout(H),H=setTimeout(at,10))}).observe(t.value))});async function ft(ot,V,nt,ut){console.log(`GithubClient.isCollaborator: owner=${ot} repo=${V} username=${nt}`);let gt=`https://api.github.com/repos/${ot}/${V}/collaborators/${nt}`,Jt=await fetch(gt,{headers:{Accept:"application/vnd.github+json",Authorization:`token ${ut}`}});return Jt.ok&&Jt.status===204}return(ot,V)=>(ge(),me(Fi,null,[Vt("div",{ref_key:"root",ref:t,id:"gallery"},[F.value.length>0?(ge(!0),me(Fi,{key:0},nu(C.value,(nt,ut)=>(ge(),me("div",{class:"gallery-item",id:C.value.id,style:au(F.value[ut])},[Vt("img",{class:"image fade-in",onload:"this.style.opacity = 1",src:C.value[ut].thumbnail,onClick:gt=>mt(ut)},null,8,F4),n.caption?(ge(),me("div",{key:0,style:{height:"32px",display:"flex","align-items":"center","margin-left":"0.25em"},innerHTML:C.value[ut].label},null,8,B4)):ur("",!0)],12,D4))),256)):ur("",!0)],512),Vt("sl-dialog",{class:"dialog","no-header":"",style:au({"--width":n.dialogWidth,"--body-spacing":0,"--footer-spacing":"0.5em"})},[M.value?(ge(),me("mdp-image",{key:0,"no-caption":"",src:M.value.id,fit:"cover"},null,8,j4)):ur("",!0),Vt("div",H4,[Vt("mdp-caption",{manifest:M.value},null,8,U4),Vt("div",G4,[m.value?(ge(),me("div",q4,Z4)):ur("",!0),Vt("sl-button",{variant:"primary",onClick:V[0]||(V[0]=nt=>M.value=null)},"Close")])])],4)],64))}}),X4=`:root,:host,.sl-theme-light{color-scheme:light;--sl-color-gray-50: hsl(0 0% 97.5%);--sl-color-gray-100: hsl(240 4.8% 95.9%);--sl-color-gray-200: hsl(240 5.9% 90%);--sl-color-gray-300: hsl(240 4.9% 83.9%);--sl-color-gray-400: hsl(240 5% 64.9%);--sl-color-gray-500: hsl(240 3.8% 46.1%);--sl-color-gray-600: hsl(240 5.2% 33.9%);--sl-color-gray-700: hsl(240 5.3% 26.1%);--sl-color-gray-800: hsl(240 3.7% 15.9%);--sl-color-gray-900: hsl(240 5.9% 10%);--sl-color-gray-950: hsl(240 7.3% 8%);--sl-color-red-50: hsl(0 85.7% 97.3%);--sl-color-red-100: hsl(0 93.3% 94.1%);--sl-color-red-200: hsl(0 96.3% 89.4%);--sl-color-red-300: hsl(0 93.5% 81.8%);--sl-color-red-400: hsl(0 90.6% 70.8%);--sl-color-red-500: hsl(0 84.2% 60.2%);--sl-color-red-600: hsl(0 72.2% 50.6%);--sl-color-red-700: hsl(0 73.7% 41.8%);--sl-color-red-800: hsl(0 70% 35.3%);--sl-color-red-900: hsl(0 62.8% 30.6%);--sl-color-red-950: hsl(0 60% 19.6%);--sl-color-orange-50: hsl(33.3 100% 96.5%);--sl-color-orange-100: hsl(34.3 100% 91.8%);--sl-color-orange-200: hsl(32.1 97.7% 83.1%);--sl-color-orange-300: hsl(30.7 97.2% 72.4%);--sl-color-orange-400: hsl(27 96% 61%);--sl-color-orange-500: hsl(24.6 95% 53.1%);--sl-color-orange-600: hsl(20.5 90.2% 48.2%);--sl-color-orange-700: hsl(17.5 88.3% 40.4%);--sl-color-orange-800: hsl(15 79.1% 33.7%);--sl-color-orange-900: hsl(15.3 74.6% 27.8%);--sl-color-orange-950: hsl(15.2 69.1% 19%);--sl-color-amber-50: hsl(48 100% 96.1%);--sl-color-amber-100: hsl(48 96.5% 88.8%);--sl-color-amber-200: hsl(48 96.6% 76.7%);--sl-color-amber-300: hsl(45.9 96.7% 64.5%);--sl-color-amber-400: hsl(43.3 96.4% 56.3%);--sl-color-amber-500: hsl(37.7 92.1% 50.2%);--sl-color-amber-600: hsl(32.1 94.6% 43.7%);--sl-color-amber-700: hsl(26 90.5% 37.1%);--sl-color-amber-800: hsl(22.7 82.5% 31.4%);--sl-color-amber-900: hsl(21.7 77.8% 26.5%);--sl-color-amber-950: hsl(22.9 74.1% 16.7%);--sl-color-yellow-50: hsl(54.5 91.7% 95.3%);--sl-color-yellow-100: hsl(54.9 96.7% 88%);--sl-color-yellow-200: hsl(52.8 98.3% 76.9%);--sl-color-yellow-300: hsl(50.4 97.8% 63.5%);--sl-color-yellow-400: hsl(47.9 95.8% 53.1%);--sl-color-yellow-500: hsl(45.4 93.4% 47.5%);--sl-color-yellow-600: hsl(40.6 96.1% 40.4%);--sl-color-yellow-700: hsl(35.5 91.7% 32.9%);--sl-color-yellow-800: hsl(31.8 81% 28.8%);--sl-color-yellow-900: hsl(28.4 72.5% 25.7%);--sl-color-yellow-950: hsl(33.1 69% 13.9%);--sl-color-lime-50: hsl(78.3 92% 95.1%);--sl-color-lime-100: hsl(79.6 89.1% 89.2%);--sl-color-lime-200: hsl(80.9 88.5% 79.6%);--sl-color-lime-300: hsl(82 84.5% 67.1%);--sl-color-lime-400: hsl(82.7 78% 55.5%);--sl-color-lime-500: hsl(83.7 80.5% 44.3%);--sl-color-lime-600: hsl(84.8 85.2% 34.5%);--sl-color-lime-700: hsl(85.9 78.4% 27.3%);--sl-color-lime-800: hsl(86.3 69% 22.7%);--sl-color-lime-900: hsl(87.6 61.2% 20.2%);--sl-color-lime-950: hsl(86.5 60.6% 13.9%);--sl-color-green-50: hsl(138.5 76.5% 96.7%);--sl-color-green-100: hsl(140.6 84.2% 92.5%);--sl-color-green-200: hsl(141 78.9% 85.1%);--sl-color-green-300: hsl(141.7 76.6% 73.1%);--sl-color-green-400: hsl(141.9 69.2% 58%);--sl-color-green-500: hsl(142.1 70.6% 45.3%);--sl-color-green-600: hsl(142.1 76.2% 36.3%);--sl-color-green-700: hsl(142.4 71.8% 29.2%);--sl-color-green-800: hsl(142.8 64.2% 24.1%);--sl-color-green-900: hsl(143.8 61.2% 20.2%);--sl-color-green-950: hsl(144.3 60.7% 12%);--sl-color-emerald-50: hsl(151.8 81% 95.9%);--sl-color-emerald-100: hsl(149.3 80.4% 90%);--sl-color-emerald-200: hsl(152.4 76% 80.4%);--sl-color-emerald-300: hsl(156.2 71.6% 66.9%);--sl-color-emerald-400: hsl(158.1 64.4% 51.6%);--sl-color-emerald-500: hsl(160.1 84.1% 39.4%);--sl-color-emerald-600: hsl(161.4 93.5% 30.4%);--sl-color-emerald-700: hsl(162.9 93.5% 24.3%);--sl-color-emerald-800: hsl(163.1 88.1% 19.8%);--sl-color-emerald-900: hsl(164.2 85.7% 16.5%);--sl-color-emerald-950: hsl(164.3 87.5% 9.4%);--sl-color-teal-50: hsl(166.2 76.5% 96.7%);--sl-color-teal-100: hsl(167.2 85.5% 89.2%);--sl-color-teal-200: hsl(168.4 83.8% 78.2%);--sl-color-teal-300: hsl(170.6 76.9% 64.3%);--sl-color-teal-400: hsl(172.5 66% 50.4%);--sl-color-teal-500: hsl(173.4 80.4% 40%);--sl-color-teal-600: hsl(174.7 83.9% 31.6%);--sl-color-teal-700: hsl(175.3 77.4% 26.1%);--sl-color-teal-800: hsl(176.1 69.4% 21.8%);--sl-color-teal-900: hsl(175.9 60.8% 19%);--sl-color-teal-950: hsl(176.5 58.6% 11.4%);--sl-color-cyan-50: hsl(183.2 100% 96.3%);--sl-color-cyan-100: hsl(185.1 95.9% 90.4%);--sl-color-cyan-200: hsl(186.2 93.5% 81.8%);--sl-color-cyan-300: hsl(187 92.4% 69%);--sl-color-cyan-400: hsl(187.9 85.7% 53.3%);--sl-color-cyan-500: hsl(188.7 94.5% 42.7%);--sl-color-cyan-600: hsl(191.6 91.4% 36.5%);--sl-color-cyan-700: hsl(192.9 82.3% 31%);--sl-color-cyan-800: hsl(194.4 69.6% 27.1%);--sl-color-cyan-900: hsl(196.4 63.6% 23.7%);--sl-color-cyan-950: hsl(196.8 61% 16.1%);--sl-color-sky-50: hsl(204 100% 97.1%);--sl-color-sky-100: hsl(204 93.8% 93.7%);--sl-color-sky-200: hsl(200.6 94.4% 86.1%);--sl-color-sky-300: hsl(199.4 95.5% 73.9%);--sl-color-sky-400: hsl(198.4 93.2% 59.6%);--sl-color-sky-500: hsl(198.6 88.7% 48.4%);--sl-color-sky-600: hsl(200.4 98% 39.4%);--sl-color-sky-700: hsl(201.3 96.3% 32.2%);--sl-color-sky-800: hsl(201 90% 27.5%);--sl-color-sky-900: hsl(202 80.3% 23.9%);--sl-color-sky-950: hsl(202.3 73.8% 16.5%);--sl-color-blue-50: hsl(213.8 100% 96.9%);--sl-color-blue-100: hsl(214.3 94.6% 92.7%);--sl-color-blue-200: hsl(213.3 96.9% 87.3%);--sl-color-blue-300: hsl(211.7 96.4% 78.4%);--sl-color-blue-400: hsl(213.1 93.9% 67.8%);--sl-color-blue-500: hsl(217.2 91.2% 59.8%);--sl-color-blue-600: hsl(221.2 83.2% 53.3%);--sl-color-blue-700: hsl(224.3 76.3% 48%);--sl-color-blue-800: hsl(225.9 70.7% 40.2%);--sl-color-blue-900: hsl(224.4 64.3% 32.9%);--sl-color-blue-950: hsl(226.2 55.3% 18.4%);--sl-color-indigo-50: hsl(225.9 100% 96.7%);--sl-color-indigo-100: hsl(226.5 100% 93.9%);--sl-color-indigo-200: hsl(228 96.5% 88.8%);--sl-color-indigo-300: hsl(229.7 93.5% 81.8%);--sl-color-indigo-400: hsl(234.5 89.5% 73.9%);--sl-color-indigo-500: hsl(238.7 83.5% 66.7%);--sl-color-indigo-600: hsl(243.4 75.4% 58.6%);--sl-color-indigo-700: hsl(244.5 57.9% 50.6%);--sl-color-indigo-800: hsl(243.7 54.5% 41.4%);--sl-color-indigo-900: hsl(242.2 47.4% 34.3%);--sl-color-indigo-950: hsl(243.5 43.6% 22.9%);--sl-color-violet-50: hsl(250 100% 97.6%);--sl-color-violet-100: hsl(251.4 91.3% 95.5%);--sl-color-violet-200: hsl(250.5 95.2% 91.8%);--sl-color-violet-300: hsl(252.5 94.7% 85.1%);--sl-color-violet-400: hsl(255.1 91.7% 76.3%);--sl-color-violet-500: hsl(258.3 89.5% 66.3%);--sl-color-violet-600: hsl(262.1 83.3% 57.8%);--sl-color-violet-700: hsl(263.4 70% 50.4%);--sl-color-violet-800: hsl(263.4 69.3% 42.2%);--sl-color-violet-900: hsl(263.5 67.4% 34.9%);--sl-color-violet-950: hsl(265.1 61.5% 21.4%);--sl-color-purple-50: hsl(270 100% 98%);--sl-color-purple-100: hsl(268.7 100% 95.5%);--sl-color-purple-200: hsl(268.6 100% 91.8%);--sl-color-purple-300: hsl(269.2 97.4% 85.1%);--sl-color-purple-400: hsl(270 95.2% 75.3%);--sl-color-purple-500: hsl(270.7 91% 65.1%);--sl-color-purple-600: hsl(271.5 81.3% 55.9%);--sl-color-purple-700: hsl(272.1 71.7% 47.1%);--sl-color-purple-800: hsl(272.9 67.2% 39.4%);--sl-color-purple-900: hsl(273.6 65.6% 32%);--sl-color-purple-950: hsl(276 59.5% 16.5%);--sl-color-fuchsia-50: hsl(289.1 100% 97.8%);--sl-color-fuchsia-100: hsl(287 100% 95.5%);--sl-color-fuchsia-200: hsl(288.3 95.8% 90.6%);--sl-color-fuchsia-300: hsl(291.1 93.1% 82.9%);--sl-color-fuchsia-400: hsl(292 91.4% 72.5%);--sl-color-fuchsia-500: hsl(292.2 84.1% 60.6%);--sl-color-fuchsia-600: hsl(293.4 69.5% 48.8%);--sl-color-fuchsia-700: hsl(294.7 72.4% 39.8%);--sl-color-fuchsia-800: hsl(295.4 70.2% 32.9%);--sl-color-fuchsia-900: hsl(296.7 63.6% 28%);--sl-color-fuchsia-950: hsl(297.1 56.8% 14.5%);--sl-color-pink-50: hsl(327.3 73.3% 97.1%);--sl-color-pink-100: hsl(325.7 77.8% 94.7%);--sl-color-pink-200: hsl(325.9 84.6% 89.8%);--sl-color-pink-300: hsl(327.4 87.1% 81.8%);--sl-color-pink-400: hsl(328.6 85.5% 70.2%);--sl-color-pink-500: hsl(330.4 81.2% 60.4%);--sl-color-pink-600: hsl(333.3 71.4% 50.6%);--sl-color-pink-700: hsl(335.1 77.6% 42%);--sl-color-pink-800: hsl(335.8 74.4% 35.3%);--sl-color-pink-900: hsl(335.9 69% 30.4%);--sl-color-pink-950: hsl(336.2 65.4% 15.9%);--sl-color-rose-50: hsl(355.7 100% 97.3%);--sl-color-rose-100: hsl(355.6 100% 94.7%);--sl-color-rose-200: hsl(352.7 96.1% 90%);--sl-color-rose-300: hsl(352.6 95.7% 81.8%);--sl-color-rose-400: hsl(351.3 94.5% 71.4%);--sl-color-rose-500: hsl(349.7 89.2% 60.2%);--sl-color-rose-600: hsl(346.8 77.2% 49.8%);--sl-color-rose-700: hsl(345.3 82.7% 40.8%);--sl-color-rose-800: hsl(343.4 79.7% 34.7%);--sl-color-rose-900: hsl(341.5 75.5% 30.4%);--sl-color-rose-950: hsl(341.3 70.1% 17.1%);--sl-color-primary-50: var(--sl-color-sky-50);--sl-color-primary-100: var(--sl-color-sky-100);--sl-color-primary-200: var(--sl-color-sky-200);--sl-color-primary-300: var(--sl-color-sky-300);--sl-color-primary-400: var(--sl-color-sky-400);--sl-color-primary-500: var(--sl-color-sky-500);--sl-color-primary-600: var(--sl-color-sky-600);--sl-color-primary-700: var(--sl-color-sky-700);--sl-color-primary-800: var(--sl-color-sky-800);--sl-color-primary-900: var(--sl-color-sky-900);--sl-color-primary-950: var(--sl-color-sky-950);--sl-color-success-50: var(--sl-color-green-50);--sl-color-success-100: var(--sl-color-green-100);--sl-color-success-200: var(--sl-color-green-200);--sl-color-success-300: var(--sl-color-green-300);--sl-color-success-400: var(--sl-color-green-400);--sl-color-success-500: var(--sl-color-green-500);--sl-color-success-600: var(--sl-color-green-600);--sl-color-success-700: var(--sl-color-green-700);--sl-color-success-800: var(--sl-color-green-800);--sl-color-success-900: var(--sl-color-green-900);--sl-color-success-950: var(--sl-color-green-950);--sl-color-warning-50: var(--sl-color-amber-50);--sl-color-warning-100: var(--sl-color-amber-100);--sl-color-warning-200: var(--sl-color-amber-200);--sl-color-warning-300: var(--sl-color-amber-300);--sl-color-warning-400: var(--sl-color-amber-400);--sl-color-warning-500: var(--sl-color-amber-500);--sl-color-warning-600: var(--sl-color-amber-600);--sl-color-warning-700: var(--sl-color-amber-700);--sl-color-warning-800: var(--sl-color-amber-800);--sl-color-warning-900: var(--sl-color-amber-900);--sl-color-warning-950: var(--sl-color-amber-950);--sl-color-danger-50: var(--sl-color-red-50);--sl-color-danger-100: var(--sl-color-red-100);--sl-color-danger-200: var(--sl-color-red-200);--sl-color-danger-300: var(--sl-color-red-300);--sl-color-danger-400: var(--sl-color-red-400);--sl-color-danger-500: var(--sl-color-red-500);--sl-color-danger-600: var(--sl-color-red-600);--sl-color-danger-700: var(--sl-color-red-700);--sl-color-danger-800: var(--sl-color-red-800);--sl-color-danger-900: var(--sl-color-red-900);--sl-color-danger-950: var(--sl-color-red-950);--sl-color-neutral-50: var(--sl-color-gray-50);--sl-color-neutral-100: var(--sl-color-gray-100);--sl-color-neutral-200: var(--sl-color-gray-200);--sl-color-neutral-300: var(--sl-color-gray-300);--sl-color-neutral-400: var(--sl-color-gray-400);--sl-color-neutral-500: var(--sl-color-gray-500);--sl-color-neutral-600: var(--sl-color-gray-600);--sl-color-neutral-700: var(--sl-color-gray-700);--sl-color-neutral-800: var(--sl-color-gray-800);--sl-color-neutral-900: var(--sl-color-gray-900);--sl-color-neutral-950: var(--sl-color-gray-950);--sl-color-neutral-0: hsl(0, 0%, 100%);--sl-color-neutral-1000: hsl(0, 0%, 0%);--sl-border-radius-small: .1875rem;--sl-border-radius-medium: .25rem;--sl-border-radius-large: .5rem;--sl-border-radius-x-large: 1rem;--sl-border-radius-circle: 50%;--sl-border-radius-pill: 9999px;--sl-shadow-x-small: 0 1px 2px hsl(240 3.8% 46.1% / 6%);--sl-shadow-small: 0 1px 2px hsl(240 3.8% 46.1% / 12%);--sl-shadow-medium: 0 2px 4px hsl(240 3.8% 46.1% / 12%);--sl-shadow-large: 0 2px 8px hsl(240 3.8% 46.1% / 12%);--sl-shadow-x-large: 0 4px 16px hsl(240 3.8% 46.1% / 12%);--sl-spacing-3x-small: .125rem;--sl-spacing-2x-small: .25rem;--sl-spacing-x-small: .5rem;--sl-spacing-small: .75rem;--sl-spacing-medium: 1rem;--sl-spacing-large: 1.25rem;--sl-spacing-x-large: 1.75rem;--sl-spacing-2x-large: 2.25rem;--sl-spacing-3x-large: 3rem;--sl-spacing-4x-large: 4.5rem;--sl-transition-x-slow: 1s;--sl-transition-slow: .5s;--sl-transition-medium: .25s;--sl-transition-fast: .15s;--sl-transition-x-fast: 50ms;--sl-font-mono: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;--sl-font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--sl-font-serif: Georgia, "Times New Roman", serif;--sl-font-size-2x-small: .625rem;--sl-font-size-x-small: .75rem;--sl-font-size-small: .875rem;--sl-font-size-medium: 1rem;--sl-font-size-large: 1.25rem;--sl-font-size-x-large: 1.5rem;--sl-font-size-2x-large: 2.25rem;--sl-font-size-3x-large: 3rem;--sl-font-size-4x-large: 4.5rem;--sl-font-weight-light: 300;--sl-font-weight-normal: 400;--sl-font-weight-semibold: 500;--sl-font-weight-bold: 700;--sl-letter-spacing-denser: -.03em;--sl-letter-spacing-dense: -.015em;--sl-letter-spacing-normal: normal;--sl-letter-spacing-loose: .075em;--sl-letter-spacing-looser: .15em;--sl-line-height-denser: 1;--sl-line-height-dense: 1.4;--sl-line-height-normal: 1.8;--sl-line-height-loose: 2.2;--sl-line-height-looser: 2.6;--sl-focus-ring-color: var(--sl-color-primary-600);--sl-focus-ring-style: solid;--sl-focus-ring-width: 3px;--sl-focus-ring: var(--sl-focus-ring-style) var(--sl-focus-ring-width) var(--sl-focus-ring-color);--sl-focus-ring-offset: 1px;--sl-button-font-size-small: var(--sl-font-size-x-small);--sl-button-font-size-medium: var(--sl-font-size-small);--sl-button-font-size-large: var(--sl-font-size-medium);--sl-input-height-small: 1.875rem;--sl-input-height-medium: 2.5rem;--sl-input-height-large: 3.125rem;--sl-input-background-color: var(--sl-color-neutral-0);--sl-input-background-color-hover: var(--sl-input-background-color);--sl-input-background-color-focus: var(--sl-input-background-color);--sl-input-background-color-disabled: var(--sl-color-neutral-100);--sl-input-border-color: var(--sl-color-neutral-300);--sl-input-border-color-hover: var(--sl-color-neutral-400);--sl-input-border-color-focus: var(--sl-color-primary-500);--sl-input-border-color-disabled: var(--sl-color-neutral-300);--sl-input-border-width: 1px;--sl-input-required-content: "*";--sl-input-required-content-offset: -2px;--sl-input-required-content-color: var(--sl-input-label-color);--sl-input-border-radius-small: var(--sl-border-radius-medium);--sl-input-border-radius-medium: var(--sl-border-radius-medium);--sl-input-border-radius-large: var(--sl-border-radius-medium);--sl-input-font-family: var(--sl-font-sans);--sl-input-font-weight: var(--sl-font-weight-normal);--sl-input-font-size-small: var(--sl-font-size-small);--sl-input-font-size-medium: var(--sl-font-size-medium);--sl-input-font-size-large: var(--sl-font-size-large);--sl-input-letter-spacing: var(--sl-letter-spacing-normal);--sl-input-color: var(--sl-color-neutral-700);--sl-input-color-hover: var(--sl-color-neutral-700);--sl-input-color-focus: var(--sl-color-neutral-700);--sl-input-color-disabled: var(--sl-color-neutral-900);--sl-input-icon-color: var(--sl-color-neutral-500);--sl-input-icon-color-hover: var(--sl-color-neutral-600);--sl-input-icon-color-focus: var(--sl-color-neutral-600);--sl-input-placeholder-color: var(--sl-color-neutral-500);--sl-input-placeholder-color-disabled: var(--sl-color-neutral-600);--sl-input-spacing-small: var(--sl-spacing-small);--sl-input-spacing-medium: var(--sl-spacing-medium);--sl-input-spacing-large: var(--sl-spacing-large);--sl-input-focus-ring-color: hsl(198.6 88.7% 48.4% / 40%);--sl-input-focus-ring-offset: 0;--sl-input-filled-background-color: var(--sl-color-neutral-100);--sl-input-filled-background-color-hover: var(--sl-color-neutral-100);--sl-input-filled-background-color-focus: var(--sl-color-neutral-100);--sl-input-filled-background-color-disabled: var(--sl-color-neutral-100);--sl-input-filled-color: var(--sl-color-neutral-800);--sl-input-filled-color-hover: var(--sl-color-neutral-800);--sl-input-filled-color-focus: var(--sl-color-neutral-700);--sl-input-filled-color-disabled: var(--sl-color-neutral-800);--sl-input-label-font-size-small: var(--sl-font-size-small);--sl-input-label-font-size-medium: var(--sl-font-size-medium);--sl-input-label-font-size-large: var(--sl-font-size-large);--sl-input-label-color: inherit;--sl-input-help-text-font-size-small: var(--sl-font-size-x-small);--sl-input-help-text-font-size-medium: var(--sl-font-size-small);--sl-input-help-text-font-size-large: var(--sl-font-size-medium);--sl-input-help-text-color: var(--sl-color-neutral-500);--sl-toggle-size-small: .875rem;--sl-toggle-size-medium: 1.125rem;--sl-toggle-size-large: 1.375rem;--sl-overlay-background-color: hsl(240 3.8% 46.1% / 33%);--sl-panel-background-color: var(--sl-color-neutral-0);--sl-panel-border-color: var(--sl-color-neutral-200);--sl-panel-border-width: 1px;--sl-tooltip-border-radius: var(--sl-border-radius-medium);--sl-tooltip-background-color: var(--sl-color-neutral-800);--sl-tooltip-color: var(--sl-color-neutral-0);--sl-tooltip-font-family: var(--sl-font-sans);--sl-tooltip-font-weight: var(--sl-font-weight-normal);--sl-tooltip-font-size: var(--sl-font-size-small);--sl-tooltip-line-height: var(--sl-line-height-dense);--sl-tooltip-padding: var(--sl-spacing-2x-small) var(--sl-spacing-x-small);--sl-tooltip-arrow-size: 6px;--sl-z-index-drawer: 700;--sl-z-index-dialog: 800;--sl-z-index-dropdown: 900;--sl-z-index-toast: 950;--sl-z-index-tooltip: 1000}@supports (scrollbar-gutter: stable){.sl-scroll-lock{scrollbar-gutter:stable!important;overflow:hidden!important}}@supports not (scrollbar-gutter: stable){.sl-scroll-lock{padding-right:var(--sl-scroll-lock-size)!important;overflow:hidden!important}}.sl-toast-stack{position:fixed;top:0;inset-inline-end:0;z-index:var(--sl-z-index-toast);width:28rem;max-width:100%;max-height:100%;overflow:auto}.sl-toast-stack sl-alert{margin:var(--sl-spacing-medium)}.sl-toast-stack sl-alert::part(base){box-shadow:var(--sl-shadow-large)}*{box-sizing:border-box}#gallery{position:relative;margin:1rem}@media only screen and (max-width: 768px){#gallery{margin:0}}sl-dialog::part(panel){max-width:unset;max-height:unset;height:100dvh}sl-dialog::part(overlay){--sl-overlay-background-color: rgba(100, 100, 100, .8)}sl-dialog::part(footer){background-color:#64646480}.gallery-item{position:absolute;display:flex;flex-direction:column;width:100px;box-shadow:2px 2px 4px #ccc}.gallery-item:hover{box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px}.image{left:0;top:0;width:100%;height:100%;opacity:0;background-color:#d5d5d5}.fade-in{opacity:0;-webkit-transition:all 1s ease;-moz-transition:all 1s ease;-ms-transition:all 1s ease;-o-transition:all 1s ease}.image:hover{cursor:pointer}.icons{display:flex;align-items:center;gap:6px}.size{width:100%;font-size:.8em;margin-top:3px}.provider-logo{height:20px}.license{cursor:pointer;display:inline-block}.image-card{font-size:.85em;display:flex;flex-direction:column}.title{display:flex;align-items:center;gap:6px;font-size:.9em}.title img{width:16px;opacity:1}.clamp{display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.text{margin:6px 0;height:50px}.text p{margin:0;padding:0}.license{display:flex;align-items:center;gap:3px;font-size:.8em;margin-left:.5rem}a.license{color:#000;text-decoration:none;font-size:.9rem}sl-icon{font-size:1.2rem}.push{margin-left:auto}.controls{display:flex;align-items:center;gap:1em}.toolbar{height:32px;justify-content:flex-end;display:flex;align-items:center;gap:.5em;padding:0 .2em}.toolbar svg{width:20px;height:20px;cursor:pointer;fill:#777}.toolbar svg:hover{fill:#444}.dialog .footer{display:flex;align-items:center;gap:.5em;padding:.5em;text-align:left}
`,K4=rs(Y4,[["styles",[X4]]]),J4={key:0,class:"logo"},Q4=["href"],$4=["src"],tD={class:"branding"},eD={key:0,class:"title"},rD=["href","innerHTML"],iD=["innerHTML"],nD={class:"search-and-menu"},oD=["search-domain","search-cx","search-key"],sD=["contact","pdf-download-enabled","innerHTML"],aD={key:0},lD=["manifest"],cD=vo({__name:"Header.ce",props:{alpha:{type:Number},background:{type:String},breadcrumbs:{type:Boolean,default:!1},color:{type:String},contact:{type:String},height:{type:Number},iconFilter:{type:String},logo:{type:String},options:{type:String},pdfDownloadEnabled:{type:Boolean,default:!1},position:{type:String,default:"center"},subtitle:{type:String},searchDomain:{type:String},searchCx:{type:String},searchKey:{type:String},title:{type:String},top:{type:Number,default:0}},setup(n){const r=n,t=self.window,o=he(null),l=De(()=>{var V,nt;return(nt=(V=o.value)==null?void 0:V.getRootNode())==null?void 0:nt.host}),u=he(null),d=he(null),f=he(),m=he(t.config||{});qe(m,V=>{console.log("watch.config",V)});const v=De(()=>{var V;return r.title||((V=m.value.meta)==null?void 0:V.title)}),_=De(()=>{var V,nt;return r.background||((nt=(V=m.value.defaults)==null?void 0:V.header)==null?void 0:nt.backgroundImage)}),k=De(()=>{var nt,ut;let V=r.logo||((ut=(nt=m.value.defaults)==null?void 0:nt.header)==null?void 0:ut.logo);return V&&((V==null?void 0:V.indexOf("http"))===0?V:`${m.value.baseurl}/${V[0]==="/"?V.slice(1):V}`)}),C=De(()=>{var V,nt;return r.iconFilter===void 0?(nt=(V=m.value.defaults)==null?void 0:V.header)==null?void 0:nt.iconFilter:r.iconFilter}),M=De(()=>r.color||(_.value?"black":"#ddd")),I=De(()=>{var V,nt;return r.contact||((nt=(V=m.value.defaults)==null?void 0:V.header)==null?void 0:nt.contact)}),F=De(()=>{var V,nt;return r.breadcrumbs||((nt=(V=m.value.defaults)==null?void 0:V.header)==null?void 0:nt.breadcrumbs)}),H=De(()=>{var V,nt;return r.pdfDownloadEnabled||((nt=(V=m.value.defaults)==null?void 0:V.header)==null?void 0:nt.pdfDownloadEnabled)});qe(d,V=>{V&&(V.style.backgroundColor=ot(M.value,r.alpha||(_.value?.3:1)))});const U=he(!1),J=he(),G=he(),Z=he(),at=he();qe(l,V=>{var nt,ut;if(m.value=t.config||{},G.value=N4(r.options||""),_.value&&xp(_.value).then(gt=>J.value=gt),u.value&&(u.value.style.height=r.height?`${r.height}px`:_.value?"400px":"100px"),(ut=(nt=m.value.defaults)==null?void 0:nt.header)!=null&&ut.class&&m.value.defaults.header.class.split(" ").forEach(gt=>V.classList.add(gt)),U.value=V.classList.contains("sticky"),U.value){let gt=parseInt(V.style.top.replace(/px/,"")),Jt=r.top?r.top:gt||(_.value?-300:0);V.style.top=`${Jt}px`}}),ts(()=>{Q1(()=>{var nt,ut,gt,Jt;let V=l.value.querySelector("ul");!V&&((ut=(nt=m.value.defaults)==null?void 0:nt.header)!=null&&ut.nav)&&(V=document.createElement("ul"),(Jt=(gt=m.value.defaults)==null?void 0:gt.header)==null||Jt.nav.forEach(re=>{const Xt=document.createElement("li"),Ct=document.createElement("a");Ct.href=re.href,Ct.innerHTML=re.label,re.icon&&(Ct.innerHTML+=re.icon),Xt.appendChild(Ct),V.appendChild(Xt)})),f.value=V==null?void 0:V.innerHTML})}),qe(J,(V,nt)=>{V!==nt&&(Z.value=VC(V))}),qe(Z,async(V,nt)=>{V!==nt&&(at.value=V.service?mt(V.service[0].id||V.service[0]["@id"],G.value):await z4(Z.value.id,G.value.region,{width:l.value.clientWidth,height:r.height}))}),qe(at,()=>{u.value&&(u.value.style.backgroundImage=`url("${at.value}")`,u.value.style.backgroundPosition=r.position)});function mt(V,nt){let ut=Z.value,gt=Number((ut.width/ut.height).toFixed(4)),Jt=Math.min(800,l.value.getBoundingClientRect().width),re=Number(Jt/gt).toFixed(0),Xt=`${Jt},${re}`;return`${V.replace(/\/info.json$/,"")}/${nt.region}/${Xt}/${nt.rotation}/${nt.quality}.${nt.format}`}const ft={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#964B00",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8B4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function ot(V,nt=1){let ut=V[0]==="#"?V:ft[V.toLowerCase()];if(ut.length===4){let gt=ut.slice(1,2),Jt=ut.slice(2,3),re=ut.slice(3,4);return gt=parseInt(gt+gt,16),Jt=parseInt(Jt+Jt,16),re=parseInt(re+re,16),`rgba(${gt}, ${Jt}, ${re}, ${nt})`}else{const gt=parseInt(ut.slice(1,3),16),Jt=parseInt(ut.slice(3,5),16),re=parseInt(ut.slice(5,7),16);return`rgba(${gt}, ${Jt}, ${re}, ${nt})`}}return(V,nt)=>(ge(),me("div",{class:"header",ref_key:"root",ref:o},[Vt("div",{class:"background",ref_key:"background",ref:u},null,512),Vt("div",{class:"navbar",ref_key:"navbar",ref:d},[k.value?(ge(),me("div",J4,[Vt("a",{href:`${m.value.baseurl}/`},[Vt("img",{src:k.value,class:em(`${C.value?"icon-"+C.value:""}`),alt:"logo"},null,10,$4)],8,Q4)])):ur("",!0),Vt("div",tD,[v.value?(ge(),me("div",eD,[Vt("a",{href:`${m.value.baseurl}/`,innerHTML:v.value},null,8,rD)])):ur("",!0),n.subtitle?(ge(),me("div",{key:1,class:"subtitle clamp1",innerHTML:n.subtitle},null,8,iD)):ur("",!0)]),Vt("div",nD,[r.searchDomain?(ge(),me("mdp-site-search",{key:0,"search-domain":r.searchDomain,"search-cx":r.searchCx,"search-key":r.searchKey},null,8,oD)):ur("",!0),f.value!==void 0?(ge(),me("mdp-menu",{key:1,contact:I.value,"pdf-download-enabled":H.value?"":null,innerHTML:f.value},null,8,sD)):ur("",!0)])],512),F.value?(ge(),me("mdp-breadcrumbs",aD)):ur("",!0),J.value?(ge(),me("mdp-manifest-popup",{key:1,manifest:J.value},null,8,lD)):ur("",!0)],512))}}),uD=`:host{display:block}.header{display:grid;grid-template-rows:1fr 100px auto;grid-template-columns:1fr}.background{grid-area:1 / 1 / 3 / 2;background-repeat:no-repeat;background-size:cover;background-position:center;z-index:1;position:relative}.navbar{grid-area:2 / 1 / 3 / 2;background-color:#0006;color:#fff;z-index:2;display:flex;align-items:center;gap:1.5em;padding:0 20px}mdp-manifest-popup{visibility:hidden;position:absolute;top:1em;right:1em;z-index:10}.header:hover mdp-manifest-popup{visibility:visible;transition:all .5s ease-in}mdp-breadcrumbs{grid-area:3 / 1 / 4 / 2;background-color:inherit;color:#fff;z-index:1}.branding{display:flex;flex-direction:column;gap:6px}.title a{font-size:2em;line-height:1;font-weight:500;text-decoration:none;color:inherit}.subtitle{font-size:1.2em;line-height:1;font-weight:300}.logo{display:flex;align-items:center;justify-content:center;height:50%}.logo a{height:100%}.logo img{-o-object-fit:contain;object-fit:contain;vertical-align:middle;height:100%}.search-and-menu{margin-left:auto;display:flex;align-items:center;gap:1em}.clamp1{display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}@media only screen and (max-width: 768px){.navbar{gap:.75em;padding:0 1em}.title a{font-size:1.3em}.subtitle{font-size:1em}.logo img{max-width:40px}mdp-breadcrumbs{padding-left:.5rem}}.icon-white{filter:invert(100%) sepia(0%) saturate(7487%) hue-rotate(339deg) brightness(115%) contrast(100%)}
`,hD=rs(cD,[["styles",[uD]]]);var Ox=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function WC(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ZC={exports:{}};(function(n){//! openseadragon 4.0.0
//! Built on 2022-12-16
//! Git commit: v4.0.0-0-8e6196a
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function r(t){return new r.Viewer(t)}(function(t){t.version={versionStr:"4.0.0",major:parseInt("4",10),minor:parseInt("0",10),revision:parseInt("0",10)};var o={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},l=Object.prototype.toString,u=Object.prototype.hasOwnProperty;t.isFunction=function(d){return t.type(d)==="function"},t.isArray=Array.isArray||function(d){return t.type(d)==="array"},t.isWindow=function(d){return d&&typeof d=="object"&&"setInterval"in d},t.type=function(d){return d==null?String(d):o[l.call(d)]||"object"},t.isPlainObject=function(d){if(!d||r.type(d)!=="object"||d.nodeType||t.isWindow(d)||d.constructor&&!u.call(d,"constructor")&&!u.call(d.constructor.prototype,"isPrototypeOf"))return!1;var f;for(var m in d)f=m;return f===void 0||u.call(d,f)},t.isEmptyObject=function(d){for(var f in d)return!1;return!0},t.freezeObject=function(d){return Object.freeze?t.freezeObject=Object.freeze:t.freezeObject=function(f){return f},t.freezeObject(d)},t.supportsCanvas=function(){var d=document.createElement("canvas");return!!(t.isFunction(d.getContext)&&d.getContext("2d"))}(),t.isCanvasTainted=function(d){var f=!1;try{d.getContext("2d").getImageData(0,0,1,1)}catch{f=!0}return f},t.supportsAddEventListener=function(){return!!(document.documentElement.addEventListener&&document.addEventListener)}(),t.supportsRemoveEventListener=function(){return!!(document.documentElement.removeEventListener&&document.removeEventListener)}(),t.supportsEventListenerOptions=function(){var d=0;if(t.supportsAddEventListener)try{var f={get capture(){return d++,!1},get once(){return d++,!1},get passive(){return d++,!1}};window.addEventListener("test",null,f),window.removeEventListener("test",null,f)}catch{d=0}return d>=3}(),t.getCurrentPixelDensityRatio=function(){if(t.supportsCanvas){var d=document.createElement("canvas").getContext("2d"),f=window.devicePixelRatio||1,m=d.webkitBackingStorePixelRatio||d.mozBackingStorePixelRatio||d.msBackingStorePixelRatio||d.oBackingStorePixelRatio||d.backingStorePixelRatio||1;return Math.max(f,1)/m}else return 1},t.pixelDensityRatio=t.getCurrentPixelDensityRatio()})(r),function(t){t.extend=function(){var m,v,_,k,C,M,I=arguments[0]||{},F=arguments.length,H=!1,U=1;for(typeof I=="boolean"&&(H=I,I=arguments[1]||{},U=2),typeof I!="object"&&!r.isFunction(I)&&(I={}),F===U&&(I=this,--U);U<F;U++)if(m=arguments[U],m!==null||m!==void 0)for(v in m){var J=Object.getOwnPropertyDescriptor(m,v);if(J!==void 0){if(J.get||J.set){Object.defineProperty(I,v,J);continue}k=J.value}else{t.console.warn('Could not copy inherited property "'+v+'".');continue}I!==k&&(H&&k&&(r.isPlainObject(k)||(C=r.isArray(k)))?(_=I[v],C?(C=!1,M=_&&r.isArray(_)?_:[]):M=_&&r.isPlainObject(_)?_:{},I[v]=r.extend(H,M,k)):k!==void 0&&(I[v]=k))}return I};var o=function(){if(typeof navigator!="object")return!1;var m=navigator.userAgent;return typeof m!="string"?!1:m.indexOf("iPhone")!==-1||m.indexOf("iPad")!==-1||m.indexOf("iPod")!==-1};t.extend(t,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},splitHashDataForPost:!1,panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{dragToPan:!0,scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!1,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerDblClickDrag:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:o(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorElement:null,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,subPixelRoundingForTransparency:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"],silenceMultiImageWarnings:!1},SIGNAL:"----seadragon----",delegate:function(m,v){return function(){var _=arguments;return _===void 0&&(_=[]),v.apply(m,_)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5,EDGE:6,CHROMEEDGE:7},SUBPIXEL_ROUNDING_OCCURRENCES:{NEVER:0,ONLY_AT_REST:1,ALWAYS:2},_viewers:new Map,getViewer:function(m){return t._viewers.get(this.getElement(m))},getElement:function(m){return typeof m=="string"&&(m=document.getElementById(m)),m},getElementPosition:function(m){var v=new t.Point,_,k;for(m=t.getElement(m),_=t.getElementStyle(m).position==="fixed",k=f(m,_);k;)v.x+=m.offsetLeft,v.y+=m.offsetTop,_&&(v=v.plus(t.getPageScroll())),m=k,_=t.getElementStyle(m).position==="fixed",k=f(m,_);return v},getElementOffset:function(m){m=t.getElement(m);var v=m&&m.ownerDocument,_,k,C={top:0,left:0};return v?(_=v.documentElement,typeof m.getBoundingClientRect<"u"&&(C=m.getBoundingClientRect()),k=v===v.window?v:v.nodeType===9?v.defaultView||v.parentWindow:!1,new t.Point(C.left+(k.pageXOffset||_.scrollLeft)-(_.clientLeft||0),C.top+(k.pageYOffset||_.scrollTop)-(_.clientTop||0))):new t.Point},getElementSize:function(m){return m=t.getElement(m),new t.Point(m.clientWidth,m.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(m){return m=t.getElement(m),m.currentStyle}:function(m){return m=t.getElement(m),window.getComputedStyle(m,"")},getCssPropertyWithVendorPrefix:function(m){var v={};return t.getCssPropertyWithVendorPrefix=function(_){if(v[_]!==void 0)return v[_];var k=document.createElement("div").style,C=null;if(k[_]!==void 0)C=_;else for(var M=["Webkit","Moz","MS","O","webkit","moz","ms","o"],I=t.capitalizeFirstLetter(_),F=0;F<M.length;F++){var H=M[F]+I;if(k[H]!==void 0){C=H;break}}return v[_]=C,C},t.getCssPropertyWithVendorPrefix(m)},capitalizeFirstLetter:function(m){return m.charAt(0).toUpperCase()+m.slice(1)},positiveModulo:function(m,v){var _=m%v;return _<0&&(_+=v),_},pointInElement:function(m,v){m=t.getElement(m);var _=t.getElementOffset(m),k=t.getElementSize(m);return v.x>=_.x&&v.x<_.x+k.x&&v.y<_.y+k.y&&v.y>=_.y},getMousePosition:function(m){if(typeof m.pageX=="number")t.getMousePosition=function(v){var _=new t.Point;return _.x=v.pageX,_.y=v.pageY,_};else if(typeof m.clientX=="number")t.getMousePosition=function(v){var _=new t.Point;return _.x=v.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,_.y=v.clientY+document.body.scrollTop+document.documentElement.scrollTop,_};else throw new Error("Unknown event mouse position, no known technique.");return t.getMousePosition(m)},getPageScroll:function(){var m=document.documentElement||{},v=document.body||{};if(typeof window.pageXOffset=="number")t.getPageScroll=function(){return new t.Point(window.pageXOffset,window.pageYOffset)};else if(v.scrollLeft||v.scrollTop)t.getPageScroll=function(){return new t.Point(document.body.scrollLeft,document.body.scrollTop)};else if(m.scrollLeft||m.scrollTop)t.getPageScroll=function(){return new t.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)};else return new t.Point(0,0);return t.getPageScroll()},setPageScroll:function(m){if(typeof window.scrollTo<"u")t.setPageScroll=function(k){window.scrollTo(k.x,k.y)};else{var v=t.getPageScroll();if(v.x===m.x&&v.y===m.y)return;document.body.scrollLeft=m.x,document.body.scrollTop=m.y;var _=t.getPageScroll();if(_.x!==v.x&&_.y!==v.y){t.setPageScroll=function(k){document.body.scrollLeft=k.x,document.body.scrollTop=k.y};return}if(document.documentElement.scrollLeft=m.x,document.documentElement.scrollTop=m.y,_=t.getPageScroll(),_.x!==v.x&&_.y!==v.y){t.setPageScroll=function(k){document.documentElement.scrollLeft=k.x,document.documentElement.scrollTop=k.y};return}t.setPageScroll=function(k){}}t.setPageScroll(m)},getWindowSize:function(){var m=document.documentElement||{},v=document.body||{};if(typeof window.innerWidth=="number")t.getWindowSize=function(){return new t.Point(window.innerWidth,window.innerHeight)};else if(m.clientWidth||m.clientHeight)t.getWindowSize=function(){return new t.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else if(v.clientWidth||v.clientHeight)t.getWindowSize=function(){return new t.Point(document.body.clientWidth,document.body.clientHeight)};else throw new Error("Unknown window size, no known technique.");return t.getWindowSize()},makeCenteredNode:function(m){m=t.getElement(m);var v=[t.makeNeutralElement("div"),t.makeNeutralElement("div"),t.makeNeutralElement("div")];return t.extend(v[0].style,{display:"table",height:"100%",width:"100%"}),t.extend(v[1].style,{display:"table-row"}),t.extend(v[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),v[0].appendChild(v[1]),v[1].appendChild(v[2]),v[2].appendChild(m),v[0]},makeNeutralElement:function(m){var v=document.createElement(m),_=v.style;return _.background="transparent none",_.border="none",_.margin="0px",_.padding="0px",_.position="static",v},now:function(){return Date.now?t.now=Date.now:t.now=function(){return new Date().getTime()},t.now()},makeTransparentImage:function(m){var v=t.makeNeutralElement("img");return v.src=m,v},setElementOpacity:function(m,v,_){var k,C;m=t.getElement(m),_&&!t.Browser.alpha&&(v=Math.round(v)),t.Browser.opacity?m.style.opacity=v<1?v:"":v<1?(k=Math.round(100*v),C="alpha(opacity="+k+")",m.style.filter=C):m.style.filter=""},setElementTouchActionNone:function(m){m=t.getElement(m),typeof m.style.touchAction<"u"?m.style.touchAction="none":typeof m.style.msTouchAction<"u"&&(m.style.msTouchAction="none")},setElementPointerEvents:function(m,v){m=t.getElement(m),typeof m.style<"u"&&typeof m.style.pointerEvents<"u"&&(m.style.pointerEvents=v)},setElementPointerEventsNone:function(m){t.setElementPointerEvents(m,"none")},addClass:function(m,v){m=t.getElement(m),m.className?(" "+m.className+" ").indexOf(" "+v+" ")===-1&&(m.className+=" "+v):m.className=v},indexOf:function(m,v,_){return Array.prototype.indexOf?this.indexOf=function(k,C,M){return k.indexOf(C,M)}:this.indexOf=function(k,C,M){var I,F=M||0,H;if(!k)throw new TypeError;if(H=k.length,H===0||F>=H)return-1;for(F<0&&(F=H-Math.abs(F)),I=F;I<H;I++)if(k[I]===C)return I;return-1},this.indexOf(m,v,_)},removeClass:function(m,v){var _,k=[],C;for(m=t.getElement(m),_=m.className.split(/\s+/),C=0;C<_.length;C++)_[C]&&_[C]!==v&&k.push(_[C]);m.className=k.join(" ")},normalizeEventListenerOptions:function(m){var v;return typeof m<"u"?typeof m=="boolean"?v=t.supportsEventListenerOptions?{capture:m}:m:v=t.supportsEventListenerOptions?m:typeof m.capture<"u"?m.capture:!1:v=t.supportsEventListenerOptions?{capture:!1}:!1,v},addEvent:function(){if(t.supportsAddEventListener)return function(m,v,_,k){k=t.normalizeEventListenerOptions(k),m=t.getElement(m),m.addEventListener(v,_,k)};if(document.documentElement.attachEvent&&document.attachEvent)return function(m,v,_){m=t.getElement(m),m.attachEvent("on"+v,_)};throw new Error("No known event model.")}(),removeEvent:function(){if(t.supportsRemoveEventListener)return function(m,v,_,k){k=t.normalizeEventListenerOptions(k),m=t.getElement(m),m.removeEventListener(v,_,k)};if(document.documentElement.detachEvent&&document.detachEvent)return function(m,v,_){m=t.getElement(m),m.detachEvent("on"+v,_)};throw new Error("No known event model.")}(),cancelEvent:function(m){m.preventDefault()},eventIsCanceled:function(m){return m.defaultPrevented},stopEvent:function(m){m.stopPropagation()},createCallback:function(m,v){var _=[],k;for(k=2;k<arguments.length;k++)_.push(arguments[k]);return function(){var C=_.concat([]),M;for(M=0;M<arguments.length;M++)C.push(arguments[M]);return v.apply(m,C)}},getUrlParameter:function(m){var v=d[m];return v||null},getUrlProtocol:function(m){var v=m.match(/^([a-z]+:)\/\//i);return v===null?window.location.protocol:v[1].toLowerCase()},createAjaxRequest:function(m){var v;try{v=!!new ActiveXObject("Microsoft.XMLHTTP")}catch{v=!1}if(v)window.XMLHttpRequest?t.createAjaxRequest=function(_){return _?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:t.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else if(window.XMLHttpRequest)t.createAjaxRequest=function(){return new XMLHttpRequest};else throw new Error("Browser doesn't support XMLHttpRequest.");return t.createAjaxRequest(m)},makeAjaxRequest:function(m,v,_){var k,C,M,I;t.isPlainObject(m)&&(v=m.success,_=m.error,k=m.withCredentials,C=m.headers,M=m.responseType||null,I=m.postData||null,m=m.url);var F=t.getUrlProtocol(m),H=t.createAjaxRequest(F==="file:");if(!t.isFunction(v))throw new Error("makeAjaxRequest requires a success callback");H.onreadystatechange=function(){H.readyState===4&&(H.onreadystatechange=function(){},H.status>=200&&H.status<300||H.status===0&&F!=="http:"&&F!=="https:"?v(H):t.isFunction(_)?_(H):t.console.error("AJAX request returned %d: %s",H.status,m))};var U=I?"POST":"GET";try{if(H.open(U,m,!0),M&&(H.responseType=M),C)for(var J in C)Object.prototype.hasOwnProperty.call(C,J)&&C[J]&&H.setRequestHeader(J,C[J]);k&&(H.withCredentials=!0),H.send(I)}catch(G){t.console.error("%s while making AJAX request: %s",G.name,G.message),H.onreadystatechange=function(){},t.isFunction(_)&&_(H,G)}return H},jsonp:function(m){var v,_=m.url,k=document.head||document.getElementsByTagName("head")[0]||document.documentElement,C=m.callbackName||"openseadragon"+t.now(),M=window[C],I="$1"+C+"$2",F=m.param||"callback",H=m.callback;_=_.replace(/(=)\?(&|$)|\?\?/i,I),_+=(/\?/.test(_)?"&":"?")+F+"="+C,window[C]=function(U){if(M)window[C]=M;else try{delete window[C]}catch{}H&&t.isFunction(H)&&H(U)},v=document.createElement("script"),(m.async!==void 0||m.async!==!1)&&(v.async="async"),m.scriptCharset&&(v.charset=m.scriptCharset),v.src=_,v.onload=v.onreadystatechange=function(U,J){(J||!v.readyState||/loaded|complete/.test(v.readyState))&&(v.onload=v.onreadystatechange=null,k&&v.parentNode&&k.removeChild(v),v=void 0)},k.insertBefore(v,k.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(m){if(window.DOMParser)t.parseXml=function(v){var _=null,k;return k=new DOMParser,_=k.parseFromString(v,"text/xml"),_};else if(window.ActiveXObject)t.parseXml=function(v){var _=null;return _=new ActiveXObject("Microsoft.XMLDOM"),_.async=!1,_.loadXML(v),_};else throw new Error("Browser doesn't support XML DOM.");return t.parseXml(m)},parseJSON:function(m){return t.parseJSON=window.JSON.parse,t.parseJSON(m)},imageFormatSupported:function(m){return m=m||"",!!u[m.toLowerCase()]},setImageFormatsSupported:function(m){t.extend(u,m)}});var l=function(m){};t.console=window.console||{log:l,debug:l,info:l,warn:l,error:l,assert:l},t.Browser={vendor:t.BROWSERS.UNKNOWN,version:0,alpha:!0};var u={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},d={};(function(){var m=navigator.appVersion,v=navigator.userAgent,_;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&(t.Browser.vendor=t.BROWSERS.IE,t.Browser.version=parseFloat(v.substring(v.indexOf("MSIE")+5,v.indexOf(";",v.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(v.indexOf("Edge")>=0?(t.Browser.vendor=t.BROWSERS.EDGE,t.Browser.version=parseFloat(v.substring(v.indexOf("Edge")+5))):v.indexOf("Edg")>=0?(t.Browser.vendor=t.BROWSERS.CHROMEEDGE,t.Browser.version=parseFloat(v.substring(v.indexOf("Edg")+4))):v.indexOf("Firefox")>=0?(t.Browser.vendor=t.BROWSERS.FIREFOX,t.Browser.version=parseFloat(v.substring(v.indexOf("Firefox")+8))):v.indexOf("Safari")>=0?(t.Browser.vendor=v.indexOf("Chrome")>=0?t.BROWSERS.CHROME:t.BROWSERS.SAFARI,t.Browser.version=parseFloat(v.substring(v.substring(0,v.indexOf("Safari")).lastIndexOf("/")+1,v.indexOf("Safari")))):(_=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),_.exec(v)!==null&&(t.Browser.vendor=t.BROWSERS.IE,t.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":t.Browser.vendor=t.BROWSERS.OPERA,t.Browser.version=parseFloat(m);break}var k=window.location.search.substring(1),C=k.split("&"),M,I,F;for(F=0;F<C.length;F++)if(M=C[F],I=M.indexOf("="),I>0){var H=M.substring(0,I),U=M.substring(I+1);try{d[H]=decodeURIComponent(U)}catch{t.console.error("Ignoring malformed URL parameter: %s=%s",H,U)}}t.Browser.alpha=!(t.Browser.vendor===t.BROWSERS.CHROME&&t.Browser.version<2),t.Browser.opacity=!0,t.Browser.vendor===t.BROWSERS.IE&&t.Browser.version<11&&t.console.error("Internet Explorer versions < 11 are not supported by OpenSeadragon")})(),function(m){var v=m.requestAnimationFrame||m.mozRequestAnimationFrame||m.webkitRequestAnimationFrame||m.msRequestAnimationFrame,_=m.cancelAnimationFrame||m.mozCancelAnimationFrame||m.webkitCancelAnimationFrame||m.msCancelAnimationFrame;if(v&&_)t.requestAnimationFrame=function(){return v.apply(m,arguments)},t.cancelAnimationFrame=function(){return _.apply(m,arguments)};else{var k=[],C=[],M=0,I;t.requestAnimationFrame=function(F){return k.push([++M,F]),I||(I=setInterval(function(){if(k.length){var H=t.now(),U=C;for(C=k,k=U;C.length;)C.shift()[1](H)}else clearInterval(I),I=void 0},1e3/50)),M},t.cancelAnimationFrame=function(F){var H,U;for(H=0,U=k.length;H<U;H+=1)if(k[H][0]===F){k.splice(H,1);return}for(H=0,U=C.length;H<U;H+=1)if(C[H][0]===F){C.splice(H,1);return}}}}(window);function f(m,v){return v&&m!==document.body?document.body:m.offsetParent}}(r),function(t,o){n.exports?n.exports=o():t.OpenSeadragon=o()}(Ox,function(){return r}),function(t){var o={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(o.supportsFullScreen=!0,o.getFullScreenElement=function(){return document.fullscreenElement},o.requestFullScreen=function(l){return l.requestFullscreen()},o.exitFullScreen=function(){document.exitFullscreen()},o.fullScreenEventName="fullscreenchange",o.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(o.supportsFullScreen=!0,o.getFullScreenElement=function(){return document.msFullscreenElement},o.requestFullScreen=function(l){return l.msRequestFullscreen()},o.exitFullScreen=function(){document.msExitFullscreen()},o.fullScreenEventName="MSFullscreenChange",o.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(o.supportsFullScreen=!0,o.getFullScreenElement=function(){return document.webkitFullscreenElement},o.requestFullScreen=function(l){return l.webkitRequestFullscreen()},o.exitFullScreen=function(){document.webkitExitFullscreen()},o.fullScreenEventName="webkitfullscreenchange",o.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(o.supportsFullScreen=!0,o.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},o.requestFullScreen=function(l){return l.webkitRequestFullScreen()},o.exitFullScreen=function(){document.webkitCancelFullScreen()},o.fullScreenEventName="webkitfullscreenchange",o.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(o.supportsFullScreen=!0,o.getFullScreenElement=function(){return document.mozFullScreenElement},o.requestFullScreen=function(l){return l.mozRequestFullScreen()},o.exitFullScreen=function(){document.mozCancelFullScreen()},o.fullScreenEventName="mozfullscreenchange",o.fullScreenErrorEventName="mozfullscreenerror"),o.isFullScreen=function(){return o.getFullScreenElement()!==null},o.cancelFullScreen=function(){t.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),o.exitFullScreen()},t.extend(t,o)}(r),function(t){t.EventSource=function(){this.events={}},t.EventSource.prototype={addOnceHandler:function(o,l,u,d){var f=this;d=d||1;var m=0,v=function(_){m++,m===d&&f.removeHandler(o,v),l(_)};this.addHandler(o,v,u)},addHandler:function(o,l,u){var d=this.events[o];d||(this.events[o]=d=[]),l&&t.isFunction(l)&&(d[d.length]={handler:l,userData:u||null})},removeHandler:function(o,l){var u=this.events[o],d=[],f;if(u&&t.isArray(u)){for(f=0;f<u.length;f++)u[f].handler!==l&&d.push(u[f]);this.events[o]=d}},numberOfHandlers:function(o){var l=this.events[o];return l?l.length:0},removeAllHandlers:function(o){if(o)this.events[o]=[];else for(var l in this.events)this.events[l]=[]},getHandler:function(o){var l=this.events[o];return!l||!l.length?null:(l=l.length===1?[l[0]]:Array.apply(null,l),function(u,d){var f,m=l.length;for(f=0;f<m;f++)l[f]&&(d.eventSource=u,d.userData=l[f].userData,l[f].handler(d))})},raiseEvent:function(o,l){var u=this.getHandler(o);u&&(l||(l={}),u(this,l))}}}(r),function(t){var o={};t.MouseTracker=function($){var K=arguments;t.isPlainObject($)||($={element:K[0],clickTimeThreshold:K[1],clickDistThreshold:K[2]}),this.hash=Math.random(),this.element=t.getElement($.element),this.clickTimeThreshold=$.clickTimeThreshold||t.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=$.clickDistThreshold||t.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=$.dblClickTimeThreshold||t.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=$.dblClickDistThreshold||t.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=$.userData||null,this.stopDelay=$.stopDelay||50,this.preProcessEventHandler=$.preProcessEventHandler||null,this.contextMenuHandler=$.contextMenuHandler||null,this.enterHandler=$.enterHandler||null,this.leaveHandler=$.leaveHandler||null,this.exitHandler=$.exitHandler||null,this.overHandler=$.overHandler||null,this.outHandler=$.outHandler||null,this.pressHandler=$.pressHandler||null,this.nonPrimaryPressHandler=$.nonPrimaryPressHandler||null,this.releaseHandler=$.releaseHandler||null,this.nonPrimaryReleaseHandler=$.nonPrimaryReleaseHandler||null,this.moveHandler=$.moveHandler||null,this.scrollHandler=$.scrollHandler||null,this.clickHandler=$.clickHandler||null,this.dblClickHandler=$.dblClickHandler||null,this.dragHandler=$.dragHandler||null,this.dragEndHandler=$.dragEndHandler||null,this.pinchHandler=$.pinchHandler||null,this.stopHandler=$.stopHandler||null,this.keyDownHandler=$.keyDownHandler||null,this.keyUpHandler=$.keyUpHandler||null,this.keyHandler=$.keyHandler||null,this.focusHandler=$.focusHandler||null,this.blurHandler=$.blurHandler||null;var ct=this;o[this.hash]={click:function(lt){G(ct,lt)},dblclick:function(lt){Z(ct,lt)},keydown:function(lt){at(ct,lt)},keyup:function(lt){mt(ct,lt)},keypress:function(lt){ft(ct,lt)},focus:function(lt){ot(ct,lt)},blur:function(lt){V(ct,lt)},contextmenu:function(lt){nt(ct,lt)},wheel:function(lt){ut(ct,lt)},mousewheel:function(lt){gt(ct,lt)},DOMMouseScroll:function(lt){gt(ct,lt)},MozMousePixelScroll:function(lt){gt(ct,lt)},losecapture:function(lt){re(ct,lt)},mouseenter:function(lt){ee(ct,lt)},mouseleave:function(lt){pe(ct,lt)},mouseover:function(lt){ae(ct,lt)},mouseout:function(lt){le(ct,lt)},mousedown:function(lt){rr(ct,lt)},mouseup:function(lt){mr(ct,lt)},mousemove:function(lt){Bi(ct,lt)},touchstart:function(lt){Xt(ct,lt)},touchend:function(lt){Ct(ct,lt)},touchmove:function(lt){Kt(ct,lt)},touchcancel:function(lt){Zt(ct,lt)},gesturestart:function(lt){Pe(ct,lt)},gesturechange:function(lt){bt(ct,lt)},gotpointercapture:function(lt){At(ct,lt)},lostpointercapture:function(lt){qt(ct,lt)},pointerenter:function(lt){ee(ct,lt)},pointerleave:function(lt){pe(ct,lt)},pointerover:function(lt){ae(ct,lt)},pointerout:function(lt){le(ct,lt)},pointerdown:function(lt){rr(ct,lt)},pointerup:function(lt){mr(ct,lt)},pointermove:function(lt){Bi(ct,lt)},pointercancel:function(lt){Dt(ct,lt)},pointerupcaptured:function(lt){vi(ct,lt)},pointermovecaptured:function(lt){yt(ct,lt)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null,sentDragEvent:!1},this.hasGestureHandlers=!!(this.pressHandler||this.nonPrimaryPressHandler||this.releaseHandler||this.nonPrimaryReleaseHandler||this.clickHandler||this.dblClickHandler||this.dragHandler||this.dragEndHandler||this.pinchHandler),this.hasScrollHandler=!!this.scrollHandler,t.MouseTracker.havePointerEvents&&t.setElementPointerEvents(this.element,"auto"),this.exitHandler&&t.console.error("MouseTracker.exitHandler is deprecated. Use MouseTracker.leaveHandler instead."),$.startDisabled||this.setTracking(!0)},t.MouseTracker.prototype={destroy:function(){m(this),this.element=null,o[this.hash]=null,delete o[this.hash]},isTracking:function(){return o[this.hash].tracking},setTracking:function($){return $?f(this):m(this),this},getActivePointersListByType:function($){var K=o[this.hash],ct,lt=K.activePointersLists.length,Wt;for(ct=0;ct<lt;ct++)if(K.activePointersLists[ct].type===$)return K.activePointersLists[ct];return Wt=new t.MouseTracker.GesturePointList($),K.activePointersLists.push(Wt),Wt},getActivePointerCount:function(){var $=o[this.hash],K,ct=$.activePointersLists.length,lt=0;for(K=0;K<ct;K++)lt+=$.activePointersLists[K].getLength();return lt},preProcessEventHandler:function(){},contextMenuHandler:function(){},enterHandler:function(){},leaveHandler:function(){},exitHandler:function(){},overHandler:function(){},outHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};var l=function(){try{return window.self!==window.top}catch{return!0}}();function u($){try{return $.addEventListener&&$.removeEventListener}catch{return!1}}t.MouseTracker.gesturePointVelocityTracker=function(){var $=[],K=0,ct=0,lt=function(sr,ze){return sr.hash.toString()+ze.type+ze.id.toString()},Wt=function(){var sr,ze=$.length,qn,ji,Ss=t.now(),ra,Eu,Ji;for(ra=Ss-ct,ct=Ss,sr=0;sr<ze;sr++)qn=$[sr],ji=qn.gPoint,ji.direction=Math.atan2(ji.currentPos.y-qn.lastPos.y,ji.currentPos.x-qn.lastPos.x),Eu=qn.lastPos.distanceTo(ji.currentPos),qn.lastPos=ji.currentPos,Ji=1e3*Eu/(ra+1),ji.speed=.75*Ji+.25*ji.speed},ne=function(sr,ze){var qn=lt(sr,ze);$.push({guid:qn,gPoint:ze,lastPos:ze.currentPos}),$.length===1&&(ct=t.now(),K=window.setInterval(Wt,50))},Ee=function(sr,ze){var qn=lt(sr,ze),ji,Ss=$.length;for(ji=0;ji<Ss;ji++)if($[ji].guid===qn){$.splice(ji,1),Ss--,Ss===0&&window.clearInterval(K);break}};return{addPoint:ne,removePoint:Ee}}(),t.MouseTracker.captureElement=document,t.MouseTracker.wheelEventName=t.Browser.vendor===t.BROWSERS.IE&&t.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll",t.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur","contextmenu",t.MouseTracker.wheelEventName],t.MouseTracker.wheelEventName==="DOMMouseScroll"&&t.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent?(t.MouseTracker.havePointerEvents=!0,t.MouseTracker.subscribeEvents.push("pointerenter","pointerleave","pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),t.MouseTracker.havePointerCapture=function(){var $=document.createElement("div");return t.isFunction($.setPointerCapture)&&t.isFunction($.releasePointerCapture)}(),t.MouseTracker.havePointerCapture&&t.MouseTracker.subscribeEvents.push("gotpointercapture","lostpointercapture")):(t.MouseTracker.havePointerEvents=!1,t.MouseTracker.subscribeEvents.push("mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","mousemove"),t.MouseTracker.mousePointerId="legacy-mouse",t.MouseTracker.havePointerCapture=function(){var $=document.createElement("div");return t.isFunction($.setCapture)&&t.isFunction($.releaseCapture)}(),t.MouseTracker.havePointerCapture&&t.MouseTracker.subscribeEvents.push("losecapture"),"ontouchstart"in window&&t.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&t.MouseTracker.subscribeEvents.push("gesturestart","gesturechange")),t.MouseTracker.GesturePointList=function($){this._gPoints=[],this.type=$,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},t.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function($){return this._gPoints.push($)},removeById:function($){var K,ct=this._gPoints.length;for(K=0;K<ct;K++)if(this._gPoints[K].id===$){this._gPoints.splice(K,1);break}return this._gPoints.length},getByIndex:function($){return $<this._gPoints.length?this._gPoints[$]:null},getById:function($){var K,ct=this._gPoints.length;for(K=0;K<ct;K++)if(this._gPoints[K].id===$)return this._gPoints[K];return null},getPrimary:function($){var K,ct=this._gPoints.length;for(K=0;K<ct;K++)if(this._gPoints[K].isPrimary)return this._gPoints[K];return null},addContact:function(){++this.contacts,this.contacts>1&&(this.type==="mouse"||this.type==="pen")&&(t.console.warn("GesturePointList.addContact() Implausible contacts value"),this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}};function d($){var K=o[$.hash],ct,lt,Wt,ne,Ee,sr=K.activePointersLists.length;for(ct=0;ct<sr;ct++)if(Wt=K.activePointersLists[ct],Wt.getLength()>0){for(Ee=[],ne=Wt.asArray(),lt=0;lt<ne.length;lt++)Ee.push(ne[lt]);for(lt=0;lt<Ee.length;lt++)j($,Wt,Ee[lt])}for(ct=0;ct<sr;ct++)K.activePointersLists.pop();K.sentDragEvent=!1}function f($){var K=o[$.hash],ct,lt;if(!K.tracking){for(lt=0;lt<t.MouseTracker.subscribeEvents.length;lt++)ct=t.MouseTracker.subscribeEvents[lt],t.addEvent($.element,ct,K[ct],ct===t.MouseTracker.wheelEventName?{passive:!1,capture:!1}:!1);d($),K.tracking=!0}}function m($){var K=o[$.hash],ct,lt;if(K.tracking){for(lt=0;lt<t.MouseTracker.subscribeEvents.length;lt++)ct=t.MouseTracker.subscribeEvents[lt],t.removeEvent($.element,ct,K[ct],!1);d($),K.tracking=!1}}function v($,K){var ct=o[$.hash];if(K==="pointerevent")return{upName:"pointerup",upHandler:ct.pointerupcaptured,moveName:"pointermove",moveHandler:ct.pointermovecaptured};if(K==="mouse")return{upName:"pointerup",upHandler:ct.pointerupcaptured,moveName:"pointermove",moveHandler:ct.pointermovecaptured};if(K==="touch")return{upName:"touchend",upHandler:ct.touchendcaptured,moveName:"touchmove",moveHandler:ct.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function _($,K){var ct;if(t.MouseTracker.havePointerCapture)if(t.MouseTracker.havePointerEvents)try{$.element.setPointerCapture(K.id)}catch{t.console.warn("setPointerCapture() called on invalid pointer ID");return}else $.element.setCapture(!0);else ct=v($,t.MouseTracker.havePointerEvents?"pointerevent":K.type),l&&u(window.top)&&t.addEvent(window.top,ct.upName,ct.upHandler,!0),t.addEvent(t.MouseTracker.captureElement,ct.upName,ct.upHandler,!0),t.addEvent(t.MouseTracker.captureElement,ct.moveName,ct.moveHandler,!0);dt($,K,!0)}function k($,K){var ct,lt,Wt;if(t.MouseTracker.havePointerCapture)if(t.MouseTracker.havePointerEvents){if(lt=$.getActivePointersListByType(K.type),Wt=lt.getById(K.id),!Wt||!Wt.captured)return;try{$.element.releasePointerCapture(K.id)}catch{}}else $.element.releaseCapture();else ct=v($,t.MouseTracker.havePointerEvents?"pointerevent":K.type),l&&u(window.top)&&t.removeEvent(window.top,ct.upName,ct.upHandler,!0),t.removeEvent(t.MouseTracker.captureElement,ct.moveName,ct.moveHandler,!0),t.removeEvent(t.MouseTracker.captureElement,ct.upName,ct.upHandler,!0);dt($,K,!1)}function C($){return t.MouseTracker.havePointerEvents?$.pointerId:t.MouseTracker.mousePointerId}function M($){return t.MouseTracker.havePointerEvents?$.pointerType||(t.Browser.vendor===t.BROWSERS.IE?"mouse":""):"mouse"}function I($){return t.MouseTracker.havePointerEvents?$.isPrimary:!0}function F($){return t.getMousePosition($)}function H($,K){return U(F($),K)}function U($,K){var ct=t.getElementOffset(K);return $.minus(ct)}function J($,K){return new t.Point(($.x+K.x)/2,($.y+K.y)/2)}function G($,K){var ct={originalEvent:K,eventType:"click",pointerType:"mouse",isEmulated:!1};pt($,ct),ct.preventDefault&&!ct.defaultPrevented&&t.cancelEvent(K),ct.stopPropagation&&t.stopEvent(K)}function Z($,K){var ct={originalEvent:K,eventType:"dblclick",pointerType:"mouse",isEmulated:!1};pt($,ct),ct.preventDefault&&!ct.defaultPrevented&&t.cancelEvent(K),ct.stopPropagation&&t.stopEvent(K)}function at($,K){var ct=null,lt={originalEvent:K,eventType:"keydown",pointerType:"",isEmulated:!1};pt($,lt),$.keyDownHandler&&!lt.preventGesture&&!lt.defaultPrevented&&(ct={eventSource:$,keyCode:K.keyCode?K.keyCode:K.charCode,ctrl:K.ctrlKey,shift:K.shiftKey,alt:K.altKey,meta:K.metaKey,originalEvent:K,preventDefault:lt.preventDefault||lt.defaultPrevented,userData:$.userData},$.keyDownHandler(ct)),(ct&&ct.preventDefault||lt.preventDefault&&!lt.defaultPrevented)&&t.cancelEvent(K),lt.stopPropagation&&t.stopEvent(K)}function mt($,K){var ct=null,lt={originalEvent:K,eventType:"keyup",pointerType:"",isEmulated:!1};pt($,lt),$.keyUpHandler&&!lt.preventGesture&&!lt.defaultPrevented&&(ct={eventSource:$,keyCode:K.keyCode?K.keyCode:K.charCode,ctrl:K.ctrlKey,shift:K.shiftKey,alt:K.altKey,meta:K.metaKey,originalEvent:K,preventDefault:lt.preventDefault||lt.defaultPrevented,userData:$.userData},$.keyUpHandler(ct)),(ct&&ct.preventDefault||lt.preventDefault&&!lt.defaultPrevented)&&t.cancelEvent(K),lt.stopPropagation&&t.stopEvent(K)}function ft($,K){var ct=null,lt={originalEvent:K,eventType:"keypress",pointerType:"",isEmulated:!1};pt($,lt),$.keyHandler&&!lt.preventGesture&&!lt.defaultPrevented&&(ct={eventSource:$,keyCode:K.keyCode?K.keyCode:K.charCode,ctrl:K.ctrlKey,shift:K.shiftKey,alt:K.altKey,meta:K.metaKey,originalEvent:K,preventDefault:lt.preventDefault||lt.defaultPrevented,userData:$.userData},$.keyHandler(ct)),(ct&&ct.preventDefault||lt.preventDefault&&!lt.defaultPrevented)&&t.cancelEvent(K),lt.stopPropagation&&t.stopEvent(K)}function ot($,K){var ct={originalEvent:K,eventType:"focus",pointerType:"",isEmulated:!1};pt($,ct),$.focusHandler&&!ct.preventGesture&&$.focusHandler({eventSource:$,originalEvent:K,userData:$.userData})}function V($,K){var ct={originalEvent:K,eventType:"blur",pointerType:"",isEmulated:!1};pt($,ct),$.blurHandler&&!ct.preventGesture&&$.blurHandler({eventSource:$,originalEvent:K,userData:$.userData})}function nt($,K){var ct=null,lt={originalEvent:K,eventType:"contextmenu",pointerType:"mouse",isEmulated:!1};pt($,lt),$.contextMenuHandler&&!lt.preventGesture&&!lt.defaultPrevented&&(ct={eventSource:$,position:U(F(K),$.element),originalEvent:lt.originalEvent,preventDefault:lt.preventDefault||lt.defaultPrevented,userData:$.userData},$.contextMenuHandler(ct)),(ct&&ct.preventDefault||lt.preventDefault&&!lt.defaultPrevented)&&t.cancelEvent(K),lt.stopPropagation&&t.stopEvent(K)}function ut($,K){Jt($,K,K)}function gt($,K){var ct={target:K.target||K.srcElement,type:"wheel",shiftKey:K.shiftKey||!1,clientX:K.clientX,clientY:K.clientY,pageX:K.pageX?K.pageX:K.clientX,pageY:K.pageY?K.pageY:K.clientY,deltaMode:K.type==="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0};t.MouseTracker.wheelEventName==="mousewheel"?ct.deltaY=-K.wheelDelta/t.DEFAULT_SETTINGS.pixelsPerWheelLine:ct.deltaY=K.detail,Jt($,ct,K)}function Jt($,K,ct){var lt=0,Wt,ne=null;lt=K.deltaY<0?1:-1,Wt={originalEvent:K,eventType:"wheel",pointerType:"mouse",isEmulated:K!==ct},pt($,Wt),$.scrollHandler&&!Wt.preventGesture&&!Wt.defaultPrevented&&(ne={eventSource:$,pointerType:"mouse",position:H(K,$.element),scroll:lt,shift:K.shiftKey,isTouchEvent:!1,originalEvent:ct,preventDefault:Wt.preventDefault||Wt.defaultPrevented,userData:$.userData},$.scrollHandler(ne)),Wt.stopPropagation&&t.stopEvent(ct),(ne&&ne.preventDefault||Wt.preventDefault&&!Wt.defaultPrevented)&&t.cancelEvent(ct)}function re($,K){var ct={id:t.MouseTracker.mousePointerId,type:"mouse"},lt={originalEvent:K,eventType:"lostpointercapture",pointerType:"mouse",isEmulated:!1};pt($,lt),K.target===$.element&&dt($,ct,!1),lt.stopPropagation&&t.stopEvent(K)}function Xt($,K){var ct,lt,Wt=K.changedTouches.length,ne,Ee=$.getActivePointersListByType("touch");ct=t.now(),Ee.getLength()>K.touches.length-Wt&&t.console.warn("Tracked touch contact count doesn't match event.touches.length");var sr={originalEvent:K,eventType:"pointerdown",pointerType:"touch",isEmulated:!1};for(pt($,sr),lt=0;lt<Wt;lt++)ne={id:K.changedTouches[lt].identifier,type:"touch",isPrimary:Ee.getLength()===0,currentPos:F(K.changedTouches[lt]),currentTime:ct},_t($,sr,ne),$t($,sr,ne,0),dt($,ne,!0);sr.preventDefault&&!sr.defaultPrevented&&t.cancelEvent(K),sr.stopPropagation&&t.stopEvent(K)}function Ct($,K){var ct,lt,Wt=K.changedTouches.length,ne;ct=t.now();var Ee={originalEvent:K,eventType:"pointerup",pointerType:"touch",isEmulated:!1};for(pt($,Ee),lt=0;lt<Wt;lt++)ne={id:K.changedTouches[lt].identifier,type:"touch",currentPos:F(K.changedTouches[lt]),currentTime:ct},te($,Ee,ne,0),dt($,ne,!1),ht($,Ee,ne);Ee.preventDefault&&!Ee.defaultPrevented&&t.cancelEvent(K),Ee.stopPropagation&&t.stopEvent(K)}function Kt($,K){var ct,lt,Wt=K.changedTouches.length,ne;ct=t.now();var Ee={originalEvent:K,eventType:"pointermove",pointerType:"touch",isEmulated:!1};for(pt($,Ee),lt=0;lt<Wt;lt++)ne={id:K.changedTouches[lt].identifier,type:"touch",currentPos:F(K.changedTouches[lt]),currentTime:ct},ye($,Ee,ne);Ee.preventDefault&&!Ee.defaultPrevented&&t.cancelEvent(K),Ee.stopPropagation&&t.stopEvent(K)}function Zt($,K){var ct=K.changedTouches.length,lt,Wt,ne={originalEvent:K,eventType:"pointercancel",pointerType:"touch",isEmulated:!1};for(pt($,ne),lt=0;lt<ct;lt++)Wt={id:K.changedTouches[lt].identifier,type:"touch"},xe($,ne,Wt);ne.stopPropagation&&t.stopEvent(K)}function Pe($,K){return t.eventIsCanceled(K)||K.preventDefault(),!1}function bt($,K){return t.eventIsCanceled(K)||K.preventDefault(),!1}function At($,K){var ct={originalEvent:K,eventType:"gotpointercapture",pointerType:M(K),isEmulated:!1};pt($,ct),K.target===$.element&&dt($,{id:K.pointerId,type:M(K)},!0),ct.stopPropagation&&t.stopEvent(K)}function qt($,K){var ct={originalEvent:K,eventType:"lostpointercapture",pointerType:M(K),isEmulated:!1};pt($,ct),K.target===$.element&&dt($,{id:K.pointerId,type:M(K)},!1),ct.stopPropagation&&t.stopEvent(K)}function ee($,K){var ct={id:C(K),type:M(K),isPrimary:I(K),currentPos:F(K),currentTime:t.now()},lt={originalEvent:K,eventType:"pointerenter",pointerType:ct.type,isEmulated:!1};pt($,lt),_t($,lt,ct)}function pe($,K){var ct={id:C(K),type:M(K),isPrimary:I(K),currentPos:F(K),currentTime:t.now()},lt={originalEvent:K,eventType:"pointerleave",pointerType:ct.type,isEmulated:!1};pt($,lt),ht($,lt,ct)}function ae($,K){var ct={id:C(K),type:M(K),isPrimary:I(K),currentPos:F(K),currentTime:t.now()},lt={originalEvent:K,eventType:"pointerover",pointerType:ct.type,isEmulated:!1};pt($,lt),Lt($,lt,ct),lt.preventDefault&&!lt.defaultPrevented&&t.cancelEvent(K),lt.stopPropagation&&t.stopEvent(K)}function le($,K){var ct={id:C(K),type:M(K),isPrimary:I(K),currentPos:F(K),currentTime:t.now()},lt={originalEvent:K,eventType:"pointerout",pointerType:ct.type,isEmulated:!1};pt($,lt),Qt($,lt,ct),lt.preventDefault&&!lt.defaultPrevented&&t.cancelEvent(K),lt.stopPropagation&&t.stopEvent(K)}function rr($,K){var ct={id:C(K),type:M(K),isPrimary:I(K),currentPos:F(K),currentTime:t.now()},lt=t.MouseTracker.havePointerEvents&&ct.type==="touch"&&t.Browser.vendor!==t.BROWSERS.IE,Wt={originalEvent:K,eventType:"pointerdown",pointerType:ct.type,isEmulated:!1};pt($,Wt),$t($,Wt,ct,K.button),Wt.preventDefault&&!Wt.defaultPrevented&&t.cancelEvent(K),Wt.stopPropagation&&t.stopEvent(K),Wt.shouldCapture&&(lt?dt($,ct,!0):_($,ct))}function mr($,K){Xi($,K)}function vi($,K){var ct=$.getActivePointersListByType(M(K));ct.getById(K.pointerId)&&Xi($,K),t.stopEvent(K)}function Xi($,K){var ct;ct={id:C(K),type:M(K),isPrimary:I(K),currentPos:F(K),currentTime:t.now()};var lt={originalEvent:K,eventType:"pointerup",pointerType:ct.type,isEmulated:!1};pt($,lt),te($,lt,ct,K.button),lt.preventDefault&&!lt.defaultPrevented&&t.cancelEvent(K),lt.stopPropagation&&t.stopEvent(K),lt.shouldReleaseCapture&&(K.target===$.element?k($,ct):dt($,ct,!1))}function Bi($,K){kt($,K)}function yt($,K){var ct=$.getActivePointersListByType(M(K));ct.getById(K.pointerId)&&kt($,K),t.stopEvent(K)}function kt($,K){var ct={id:C(K),type:M(K),isPrimary:I(K),currentPos:F(K),currentTime:t.now()},lt={originalEvent:K,eventType:"pointermove",pointerType:ct.type,isEmulated:!1};pt($,lt),ye($,lt,ct),lt.preventDefault&&!lt.defaultPrevented&&t.cancelEvent(K),lt.stopPropagation&&t.stopEvent(K)}function Dt($,K){var ct={id:K.pointerId,type:M(K)},lt={originalEvent:K,eventType:"pointercancel",pointerType:ct.type,isEmulated:!1};pt($,lt),xe($,lt,ct),lt.stopPropagation&&t.stopEvent(K)}function R($,K){return K.speed=0,K.direction=0,K.contactPos=K.currentPos,K.contactTime=K.currentTime,K.lastPos=K.currentPos,K.lastTime=K.currentTime,$.add(K)}function j($,K,ct){var lt,Wt=K.getById(ct.id);return Wt?(Wt.captured&&(t.console.warn("stopTrackingPointer() called on captured pointer"),k($,Wt)),K.removeContact(),lt=K.removeById(ct.id)):lt=K.getLength(),lt}function st($,K){switch(K.eventType){case"pointermove":K.isStoppable=!0,K.isCancelable=!0,K.preventDefault=!1,K.preventGesture=!$.hasGestureHandlers,K.stopPropagation=!1;break;case"pointerover":case"pointerout":case"contextmenu":case"keydown":case"keyup":case"keypress":K.isStoppable=!0,K.isCancelable=!0,K.preventDefault=!1,K.preventGesture=!1,K.stopPropagation=!1;break;case"pointerdown":K.isStoppable=!0,K.isCancelable=!0,K.preventDefault=!1,K.preventGesture=!$.hasGestureHandlers,K.stopPropagation=!1;break;case"pointerup":K.isStoppable=!0,K.isCancelable=!0,K.preventDefault=!1,K.preventGesture=!$.hasGestureHandlers,K.stopPropagation=!1;break;case"wheel":K.isStoppable=!0,K.isCancelable=!0,K.preventDefault=!1,K.preventGesture=!$.hasScrollHandler,K.stopPropagation=!1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":K.isStoppable=!0,K.isCancelable=!1,K.preventDefault=!1,K.preventGesture=!1,K.stopPropagation=!1;break;case"click":K.isStoppable=!0,K.isCancelable=!0,K.preventDefault=!!$.clickHandler,K.preventGesture=!1,K.stopPropagation=!1;break;case"dblclick":K.isStoppable=!0,K.isCancelable=!0,K.preventDefault=!!$.dblClickHandler,K.preventGesture=!1,K.stopPropagation=!1;break;case"focus":case"blur":case"pointerenter":case"pointerleave":default:K.isStoppable=!1,K.isCancelable=!1,K.preventDefault=!1,K.preventGesture=!1,K.stopPropagation=!1;break}}function pt($,K){K.eventSource=$,K.eventPhase=K.originalEvent&&typeof K.originalEvent.eventPhase<"u"?K.originalEvent.eventPhase:0,K.defaultPrevented=t.eventIsCanceled(K.originalEvent),K.shouldCapture=!1,K.shouldReleaseCapture=!1,K.userData=$.userData,st($,K),$.preProcessEventHandler&&$.preProcessEventHandler(K)}function dt($,K,ct){var lt=$.getActivePointersListByType(K.type),Wt=lt.getById(K.id);Wt?ct&&!Wt.captured?(Wt.captured=!0,lt.captureCount++):!ct&&Wt.captured&&(Wt.captured=!1,lt.captureCount--,lt.captureCount<0&&(lt.captureCount=0,t.console.warn("updatePointerCaptured() - pointsList.captureCount went negative"))):t.console.warn("updatePointerCaptured() called on untracked pointer")}function _t($,K,ct){var lt=$.getActivePointersListByType(ct.type),Wt;Wt=lt.getById(ct.id),Wt?(Wt.insideElement=!0,Wt.lastPos=Wt.currentPos,Wt.lastTime=Wt.currentTime,Wt.currentPos=ct.currentPos,Wt.currentTime=ct.currentTime,ct=Wt):(ct.captured=!1,ct.insideElementPressed=!1,ct.insideElement=!0,R(lt,ct)),$.enterHandler&&$.enterHandler({eventSource:$,pointerType:ct.type,position:U(ct.currentPos,$.element),buttons:lt.buttons,pointers:$.getActivePointerCount(),insideElementPressed:ct.insideElementPressed,buttonDownAny:lt.buttons!==0,isTouchEvent:ct.type==="touch",originalEvent:K.originalEvent,userData:$.userData})}function ht($,K,ct){var lt=$.getActivePointersListByType(ct.type),Wt,ne;Wt=lt.getById(ct.id),Wt?(Wt.captured?(Wt.insideElement=!1,Wt.lastPos=Wt.currentPos,Wt.lastTime=Wt.currentTime,Wt.currentPos=ct.currentPos,Wt.currentTime=ct.currentTime):j($,lt,Wt),ct=Wt):(ct.captured=!1,ct.insideElementPressed=!1),($.leaveHandler||$.exitHandler)&&(ne={eventSource:$,pointerType:ct.type,position:ct.currentPos&&U(ct.currentPos,$.element),buttons:lt.buttons,pointers:$.getActivePointerCount(),insideElementPressed:ct.insideElementPressed,buttonDownAny:lt.buttons!==0,isTouchEvent:ct.type==="touch",originalEvent:K.originalEvent,userData:$.userData},$.leaveHandler&&$.leaveHandler(ne),$.exitHandler&&$.exitHandler(ne))}function Lt($,K,ct){var lt,Wt;lt=$.getActivePointersListByType(ct.type),Wt=lt.getById(ct.id),Wt?ct=Wt:(ct.captured=!1,ct.insideElementPressed=!1),$.overHandler&&$.overHandler({eventSource:$,pointerType:ct.type,position:U(ct.currentPos,$.element),buttons:lt.buttons,pointers:$.getActivePointerCount(),insideElementPressed:ct.insideElementPressed,buttonDownAny:lt.buttons!==0,isTouchEvent:ct.type==="touch",originalEvent:K.originalEvent,userData:$.userData})}function Qt($,K,ct){var lt,Wt;lt=$.getActivePointersListByType(ct.type),Wt=lt.getById(ct.id),Wt?ct=Wt:(ct.captured=!1,ct.insideElementPressed=!1),$.outHandler&&$.outHandler({eventSource:$,pointerType:ct.type,position:ct.currentPos&&U(ct.currentPos,$.element),buttons:lt.buttons,pointers:$.getActivePointerCount(),insideElementPressed:ct.insideElementPressed,buttonDownAny:lt.buttons!==0,isTouchEvent:ct.type==="touch",originalEvent:K.originalEvent,userData:$.userData})}function $t($,K,ct,lt){var Wt=o[$.hash],ne=$.getActivePointersListByType(ct.type),Ee;if(typeof K.originalEvent.buttons<"u"?ne.buttons=K.originalEvent.buttons:lt===0?ne.buttons|=1:lt===1?ne.buttons|=4:lt===2?ne.buttons|=2:lt===3?ne.buttons|=8:lt===4?ne.buttons|=16:lt===5&&(ne.buttons|=32),lt!==0){K.shouldCapture=!1,K.shouldReleaseCapture=!1,$.nonPrimaryPressHandler&&!K.preventGesture&&!K.defaultPrevented&&(K.preventDefault=!0,$.nonPrimaryPressHandler({eventSource:$,pointerType:ct.type,position:U(ct.currentPos,$.element),button:lt,buttons:ne.buttons,isTouchEvent:ct.type==="touch",originalEvent:K.originalEvent,userData:$.userData}));return}Ee=ne.getById(ct.id),Ee?(Ee.insideElementPressed=!0,Ee.insideElement=!0,Ee.originalTarget=K.originalEvent.target,Ee.contactPos=ct.currentPos,Ee.contactTime=ct.currentTime,Ee.lastPos=Ee.currentPos,Ee.lastTime=Ee.currentTime,Ee.currentPos=ct.currentPos,Ee.currentTime=ct.currentTime,ct=Ee):(ct.captured=!1,ct.insideElementPressed=!0,ct.insideElement=!0,ct.originalTarget=K.originalEvent.target,R(ne,ct)),ne.addContact(),!K.preventGesture&&!K.defaultPrevented?(K.shouldCapture=!0,K.shouldReleaseCapture=!1,K.preventDefault=!0,($.dragHandler||$.dragEndHandler||$.pinchHandler)&&t.MouseTracker.gesturePointVelocityTracker.addPoint($,ct),ne.contacts===1?$.pressHandler&&!K.preventGesture&&$.pressHandler({eventSource:$,pointerType:ct.type,position:U(ct.contactPos,$.element),buttons:ne.buttons,isTouchEvent:ct.type==="touch",originalEvent:K.originalEvent,userData:$.userData}):ne.contacts===2&&$.pinchHandler&&ct.type==="touch"&&(Wt.pinchGPoints=ne.asArray(),Wt.lastPinchDist=Wt.currentPinchDist=Wt.pinchGPoints[0].currentPos.distanceTo(Wt.pinchGPoints[1].currentPos),Wt.lastPinchCenter=Wt.currentPinchCenter=J(Wt.pinchGPoints[0].currentPos,Wt.pinchGPoints[1].currentPos))):(K.shouldCapture=!1,K.shouldReleaseCapture=!1)}function te($,K,ct,lt){var Wt=o[$.hash],ne=$.getActivePointersListByType(ct.type),Ee,sr,ze,qn=!1,ji;if(typeof K.originalEvent.buttons<"u"?ne.buttons=K.originalEvent.buttons:lt===0?ne.buttons^=-2:lt===1?ne.buttons^=-5:lt===2?ne.buttons^=-3:lt===3?ne.buttons^=-9:lt===4?ne.buttons^=-17:lt===5&&(ne.buttons^=-33),K.shouldCapture=!1,lt!==0){K.shouldReleaseCapture=!1,$.nonPrimaryReleaseHandler&&!K.preventGesture&&!K.defaultPrevented&&(K.preventDefault=!0,$.nonPrimaryReleaseHandler({eventSource:$,pointerType:ct.type,position:U(ct.currentPos,$.element),button:lt,buttons:ne.buttons,isTouchEvent:ct.type==="touch",originalEvent:K.originalEvent,userData:$.userData}));return}ze=ne.getById(ct.id),ze?(ne.removeContact(),ze.captured&&(qn=!0),ze.lastPos=ze.currentPos,ze.lastTime=ze.currentTime,ze.currentPos=ct.currentPos,ze.currentTime=ct.currentTime,ze.insideElement||j($,ne,ze),Ee=ze.currentPos,sr=ze.currentTime):(ct.captured=!1,ct.insideElementPressed=!1,ct.insideElement=!0,R(ne,ct),ze=ct),!K.preventGesture&&!K.defaultPrevented&&(qn?(K.shouldReleaseCapture=!0,K.preventDefault=!0,($.dragHandler||$.dragEndHandler||$.pinchHandler)&&t.MouseTracker.gesturePointVelocityTracker.removePoint($,ze),ne.contacts===0?($.releaseHandler&&Ee&&$.releaseHandler({eventSource:$,pointerType:ze.type,position:U(Ee,$.element),buttons:ne.buttons,insideElementPressed:ze.insideElementPressed,insideElementReleased:ze.insideElement,isTouchEvent:ze.type==="touch",originalEvent:K.originalEvent,userData:$.userData}),$.dragEndHandler&&Wt.sentDragEvent&&$.dragEndHandler({eventSource:$,pointerType:ze.type,position:U(ze.currentPos,$.element),speed:ze.speed,direction:ze.direction,shift:K.originalEvent.shiftKey,isTouchEvent:ze.type==="touch",originalEvent:K.originalEvent,userData:$.userData}),Wt.sentDragEvent=!1,($.clickHandler||$.dblClickHandler)&&ze.insideElement&&(ji=sr-ze.contactTime<=$.clickTimeThreshold&&ze.contactPos.distanceTo(Ee)<=$.clickDistThreshold,$.clickHandler&&$.clickHandler({eventSource:$,pointerType:ze.type,position:U(ze.currentPos,$.element),quick:ji,shift:K.originalEvent.shiftKey,isTouchEvent:ze.type==="touch",originalEvent:K.originalEvent,originalTarget:ze.originalTarget,userData:$.userData}),$.dblClickHandler&&ji&&(ne.clicks++,ne.clicks===1?(Wt.lastClickPos=Ee,Wt.dblClickTimeOut=setTimeout(function(){ne.clicks=0},$.dblClickTimeThreshold)):ne.clicks===2&&(clearTimeout(Wt.dblClickTimeOut),ne.clicks=0,Wt.lastClickPos.distanceTo(Ee)<=$.dblClickDistThreshold&&$.dblClickHandler({eventSource:$,pointerType:ze.type,position:U(ze.currentPos,$.element),shift:K.originalEvent.shiftKey,isTouchEvent:ze.type==="touch",originalEvent:K.originalEvent,userData:$.userData}),Wt.lastClickPos=null)))):ne.contacts===2&&$.pinchHandler&&ze.type==="touch"&&(Wt.pinchGPoints=ne.asArray(),Wt.lastPinchDist=Wt.currentPinchDist=Wt.pinchGPoints[0].currentPos.distanceTo(Wt.pinchGPoints[1].currentPos),Wt.lastPinchCenter=Wt.currentPinchCenter=J(Wt.pinchGPoints[0].currentPos,Wt.pinchGPoints[1].currentPos))):(K.shouldReleaseCapture=!1,$.releaseHandler&&Ee&&($.releaseHandler({eventSource:$,pointerType:ze.type,position:U(Ee,$.element),buttons:ne.buttons,insideElementPressed:ze.insideElementPressed,insideElementReleased:ze.insideElement,isTouchEvent:ze.type==="touch",originalEvent:K.originalEvent,userData:$.userData}),K.preventDefault=!0)))}function ye($,K,ct){var lt=o[$.hash],Wt=$.getActivePointersListByType(ct.type),ne,Ee,sr;if(typeof K.originalEvent.buttons<"u"&&(Wt.buttons=K.originalEvent.buttons),ne=Wt.getById(ct.id),ne)ne.lastPos=ne.currentPos,ne.lastTime=ne.currentTime,ne.currentPos=ct.currentPos,ne.currentTime=ct.currentTime;else return;K.shouldCapture=!1,K.shouldReleaseCapture=!1,$.stopHandler&&ct.type==="mouse"&&(clearTimeout($.stopTimeOut),$.stopTimeOut=setTimeout(function(){Be($,K.originalEvent,ct.type)},$.stopDelay)),Wt.contacts===0?$.moveHandler&&$.moveHandler({eventSource:$,pointerType:ct.type,position:U(ct.currentPos,$.element),buttons:Wt.buttons,isTouchEvent:ct.type==="touch",originalEvent:K.originalEvent,userData:$.userData}):Wt.contacts===1?($.moveHandler&&(ne=Wt.asArray()[0],$.moveHandler({eventSource:$,pointerType:ne.type,position:U(ne.currentPos,$.element),buttons:Wt.buttons,isTouchEvent:ne.type==="touch",originalEvent:K.originalEvent,userData:$.userData})),$.dragHandler&&!K.preventGesture&&!K.defaultPrevented&&(ne=Wt.asArray()[0],sr=ne.currentPos.minus(ne.lastPos),$.dragHandler({eventSource:$,pointerType:ne.type,position:U(ne.currentPos,$.element),buttons:Wt.buttons,delta:sr,speed:ne.speed,direction:ne.direction,shift:K.originalEvent.shiftKey,isTouchEvent:ne.type==="touch",originalEvent:K.originalEvent,userData:$.userData}),K.preventDefault=!0,lt.sentDragEvent=!0)):Wt.contacts===2&&($.moveHandler&&(Ee=Wt.asArray(),$.moveHandler({eventSource:$,pointerType:Ee[0].type,position:U(J(Ee[0].currentPos,Ee[1].currentPos),$.element),buttons:Wt.buttons,isTouchEvent:Ee[0].type==="touch",originalEvent:K.originalEvent,userData:$.userData})),$.pinchHandler&&ct.type==="touch"&&!K.preventGesture&&!K.defaultPrevented&&(sr=lt.pinchGPoints[0].currentPos.distanceTo(lt.pinchGPoints[1].currentPos),sr!==lt.currentPinchDist&&(lt.lastPinchDist=lt.currentPinchDist,lt.currentPinchDist=sr,lt.lastPinchCenter=lt.currentPinchCenter,lt.currentPinchCenter=J(lt.pinchGPoints[0].currentPos,lt.pinchGPoints[1].currentPos),$.pinchHandler({eventSource:$,pointerType:"touch",gesturePoints:lt.pinchGPoints,lastCenter:U(lt.lastPinchCenter,$.element),center:U(lt.currentPinchCenter,$.element),lastDistance:lt.lastPinchDist,distance:lt.currentPinchDist,shift:K.originalEvent.shiftKey,originalEvent:K.originalEvent,userData:$.userData}),K.preventDefault=!0)))}function xe($,K,ct){var lt=$.getActivePointersListByType(ct.type),Wt;Wt=lt.getById(ct.id),Wt&&j($,lt,Wt)}function Be($,K,ct){$.stopHandler&&$.stopHandler({eventSource:$,pointerType:ct,position:H(K,$.element),buttons:$.getActivePointersListByType(ct).buttons,isTouchEvent:ct==="touch",originalEvent:K,userData:$.userData})}}(r),function(t){t.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},t.Control=function(o,l,u){var d=o.parentNode;typeof l=="number"&&(t.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),l={anchor:l}),l.attachToViewer=typeof l.attachToViewer>"u"?!0:l.attachToViewer,this.autoFade=typeof l.autoFade>"u"?!0:l.autoFade,this.element=o,this.anchor=l.anchor,this.container=u,this.anchor===t.ControlAnchor.ABSOLUTE?(this.wrapper=t.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top=typeof l.top=="number"?l.top+"px":l.top,this.wrapper.style.left=typeof l.left=="number"?l.left+"px":l.left,this.wrapper.style.height=typeof l.height=="number"?l.height+"px":l.height,this.wrapper.style.width=typeof l.width=="number"?l.width+"px":l.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=t.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor===t.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),l.attachToViewer?this.anchor===t.ControlAnchor.TOP_RIGHT||this.anchor===t.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):d.appendChild(this.wrapper)},t.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.anchor!==t.ControlAnchor.NONE&&this.container.removeChild(this.wrapper)},isVisible:function(){return this.wrapper.style.display!=="none"},setVisible:function(o){this.wrapper.style.display=o?this.anchor===t.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(o){this.element[t.SIGNAL]&&t.Browser.vendor===t.BROWSERS.IE?t.setElementOpacity(this.element,o,!0):t.setElementOpacity(this.wrapper,o,!0)}}}(r),function(t){t.ControlDock=function(l){var u=["topleft","topright","bottomright","bottomleft"],d,f;for(t.extend(!0,this,{id:"controldock-"+t.now()+"-"+Math.floor(Math.random()*1e6),container:t.makeNeutralElement("div"),controls:[]},l),this.container.onsubmit=function(){return!1},this.element&&(this.element=t.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),f=0;f<u.length;f++)d=u[f],this.controls[d]=t.makeNeutralElement("div"),this.controls[d].style.position="absolute",d.match("left")&&(this.controls[d].style.left="0px"),d.match("right")&&(this.controls[d].style.right="0px"),d.match("top")&&(this.controls[d].style.top="0px"),d.match("bottom")&&(this.controls[d].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},t.ControlDock.prototype={addControl:function(l,u){l=t.getElement(l);var d=null;if(!(o(this,l)>=0)){switch(u.anchor){case t.ControlAnchor.TOP_RIGHT:d=this.controls.topright,l.style.position="relative",l.style.paddingRight="0px",l.style.paddingTop="0px";break;case t.ControlAnchor.BOTTOM_RIGHT:d=this.controls.bottomright,l.style.position="relative",l.style.paddingRight="0px",l.style.paddingBottom="0px";break;case t.ControlAnchor.BOTTOM_LEFT:d=this.controls.bottomleft,l.style.position="relative",l.style.paddingLeft="0px",l.style.paddingBottom="0px";break;case t.ControlAnchor.TOP_LEFT:d=this.controls.topleft,l.style.position="relative",l.style.paddingLeft="0px",l.style.paddingTop="0px";break;case t.ControlAnchor.ABSOLUTE:d=this.container,l.style.margin="0px",l.style.padding="0px";break;default:case t.ControlAnchor.NONE:d=this.container,l.style.margin="0px",l.style.padding="0px";break}this.controls.push(new t.Control(l,u,d)),l.style.display="inline-block"}},removeControl:function(l){l=t.getElement(l);var u=o(this,l);return u>=0&&(this.controls[u].destroy(),this.controls.splice(u,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var l;for(l=this.controls.length-1;l>=0;l--)if(this.controls[l].isVisible())return!0;return!1},setControlsEnabled:function(l){var u;for(u=this.controls.length-1;u>=0;u--)this.controls[u].setVisible(l);return this}};function o(l,u){var d=l.controls,f;for(f=d.length-1;f>=0;f--)if(d[f].element===u)return f;return-1}}(r),function(t){t.Placement=t.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(r),function(t){var o={},l=1;t.Viewer=function(R){var j=arguments,st=this,pt;if(t.isPlainObject(R)||(R={id:j[0],xmlPath:j.length>1?j[1]:void 0,prefixUrl:j.length>2?j[2]:void 0,controls:j.length>3?j[3]:void 0,overlays:j.length>4?j[4]:void 0}),R.config&&(t.extend(!0,R,R.config),delete R.config),t.extend(!0,this,{id:R.id,hash:R.hash||l++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttonGroup:null,profiler:null},t.DEFAULT_SETTINGS,R),typeof this.hash>"u")throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(typeof o[this.hash]<"u"&&t.console.warn("Hash "+this.hash+" has already been used."),o[this.hash]={fsBoundsDelta:new t.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,needsResize:!1,forceResize:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null,lastClickTime:null,draggingToZoom:!1},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._updatePixelDensityRatioBind=null,this._lastScrollTime=t.now(),t.EventSource.call(this),this.addHandler("open-failed",function(dt){var _t=t.getString("Errors.OpenFailed",dt.eventSource,dt.message);st._showMessage(_t)}),t.ControlDock.call(this,R),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=t.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(dt){dt.width="100%",dt.height="100%",dt.overflow="hidden",dt.position="absolute",dt.top="0px",dt.left="0px"}(this.canvas.style),t.setElementTouchActionNone(this.canvas),R.tabIndex!==""&&(this.canvas.tabIndex=R.tabIndex===void 0?0:R.tabIndex),this.container.className="openseadragon-container",function(dt){dt.width="100%",dt.height="100%",dt.position="relative",dt.overflow="hidden",dt.left="0px",dt.top="0px",dt.textAlign="left"}(this.container.style),t.setElementTouchActionNone(this.container),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new t.MouseTracker({userData:"Viewer.innerTracker",element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,contextMenuHandler:t.delegate(this,H),keyDownHandler:t.delegate(this,U),keyHandler:t.delegate(this,J),clickHandler:t.delegate(this,G),dblClickHandler:t.delegate(this,Z),dragHandler:t.delegate(this,at),dragEndHandler:t.delegate(this,mt),enterHandler:t.delegate(this,ft),leaveHandler:t.delegate(this,ot),pressHandler:t.delegate(this,V),releaseHandler:t.delegate(this,nt),nonPrimaryPressHandler:t.delegate(this,ut),nonPrimaryReleaseHandler:t.delegate(this,gt),scrollHandler:t.delegate(this,re),pinchHandler:t.delegate(this,Jt)}),this.outerTracker=new t.MouseTracker({userData:"Viewer.outerTracker",element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:t.delegate(this,Xt),leaveHandler:t.delegate(this,Ct)}),this.toolbar&&(this.toolbar=new t.ControlDock({element:this.toolbar})),this.bindStandardControls(),o[this.hash].prevContainerSize=u(this.container),window.ResizeObserver?(this._autoResizePolling=!1,this._resizeObserver=new ResizeObserver(function(){o[st.hash].needsResize=!0}),this._resizeObserver.observe(this.container,{})):this._autoResizePolling=!0,this.world=new t.World({viewer:this}),this.world.addHandler("add-item",function(dt){st.source=st.world.getItemAt(0).source,o[st.hash].forceRedraw=!0,st._updateRequestId||(st._updateRequestId=v(st,Kt))}),this.world.addHandler("remove-item",function(dt){st.world.getItemCount()?st.source=st.world.getItemAt(0).source:st.source=null,o[st.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(dt){st.viewport&&st.viewport._setContentBounds(st.world.getHomeBounds(),st.world.getContentFactor())}),this.world.addHandler("item-index-change",function(dt){st.source=st.world.getItemAt(0).source}),this.viewport=new t.Viewport({containerSize:o[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins,silenceMultiImageWarnings:this.silenceMultiImageWarnings}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new t.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:R.timeout}),this.tileCache=new t.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new t.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=t.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(pt=this.buttonGroup.buttons.indexOf(this.rotateLeft),this.buttonGroup.buttons.splice(pt,1),this.buttonGroup.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(pt=this.buttonGroup.buttons.indexOf(this.rotateRight),this.buttonGroup.buttons.splice(pt,1),this.buttonGroup.element.removeChild(this.rotateRight.element))),this._addUpdatePixelDensityRatioEvent(),this.showNavigator&&(this.navigator=new t.Navigator({element:this.navigatorElement,id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy,animationTime:this.animationTime})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),pt=0;pt<this.customControls.length;pt++)this.addControl(this.customControls[pt].id,{anchor:this.customControls[pt].anchor});t.requestAnimationFrame(function(){k(st)}),this.imageSmoothingEnabled!==void 0&&!this.imageSmoothingEnabled&&this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled),t._viewers.set(this.element,this)},t.extend(t.Viewer.prototype,t.EventSource.prototype,t.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(R){return t.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(R)},openTileSource:function(R){return t.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(R)},get buttons(){return t.console.warn("Viewer.buttons is deprecated; Please use Viewer.buttonGroup"),this.buttonGroup},open:function(R,j){var st=this;if(this.close(),!R)return this;if(this.sequenceMode&&t.isArray(R))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),typeof j<"u"&&!isNaN(j)&&(this.initialPage=j),this.tileSources=R,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex),this;if(t.isArray(R)||(R=[R]),!R.length)return this;this._opening=!0;for(var pt=R.length,dt=0,_t=0,ht,Lt=function(){if(dt+_t===pt)if(dt){(st._firstOpen||!st.preserveViewport)&&(st.viewport.goHome(!0),st.viewport.update()),st._firstOpen=!1;var te=R[0];if(te.tileSource&&(te=te.tileSource),st.overlays&&!st.preserveOverlays)for(var ye=0;ye<st.overlays.length;ye++)st.currentOverlays[ye]=f(st,st.overlays[ye]);st._drawOverlays(),st._opening=!1,st.raiseEvent("open",{source:te})}else st._opening=!1,st.raiseEvent("open-failed",ht)},Qt=function(te){(!t.isPlainObject(te)||!te.tileSource)&&(te={tileSource:te}),te.index!==void 0&&(t.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete te.index),te.collectionImmediately===void 0&&(te.collectionImmediately=!0);var ye=te.success;te.success=function(Be){if(dt++,te.tileSource.overlays)for(var $=0;$<te.tileSource.overlays.length;$++)st.addOverlay(te.tileSource.overlays[$]);ye&&ye(Be),Lt()};var xe=te.error;te.error=function(Be){_t++,ht||(ht=Be),xe&&xe(Be),Lt()},st.addTiledImage(te)},$t=0;$t<R.length;$t++)Qt(R[$t]);return this},close:function(){return o[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),o[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(o[this.hash]){if(this.raiseEvent("before-destroy"),this._removeUpdatePixelDensityRatioEvent(),this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this._resizeObserver&&this._resizeObserver.disconnect(),this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),this._updateRequestId!==null&&(t.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.navigator&&(this.navigator.destroy(),o[this.navigator.hash]=null,delete o[this.navigator.hash],this.navigator=null),this.buttonGroup)this.buttonGroup.destroy();else if(this.customButtons)for(;this.customButtons.length;)this.customButtons.pop().destroy();if(this.paging&&this.paging.destroy(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.container.onsubmit=null,this.clearControls(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),o[this.hash]=null,delete o[this.hash],this.canvas=null,this.container=null,t._viewers.delete(this.element),this.element=null,this.raiseEvent("destroy"),this.removeAllHandlers()}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(R){return this.innerTracker.setTracking(R),this.outerTracker.setTracking(R),this.raiseEvent("mouse-enabled",{enabled:R}),this},areControlsEnabled:function(){var R=this.controls.length,j;for(j=0;j<this.controls.length;j++)R=R&&this.controls[j].isVisible();return R},setControlsEnabled:function(R){return R?M(this):k(this),this.raiseEvent("controls-enabled",{enabled:R}),this},setDebugMode:function(R){for(var j=0;j<this.world.getItemCount();j++)this.world.getItemAt(j).debugMode=R;this.debugMode=R,this.forceRedraw()},isFullPage:function(){return o[this.hash].fullPage},setFullPage:function(R){var j=document.body,st=j.style,pt=document.documentElement.style,dt=this,_t,ht;if(R===this.isFullPage())return this;var Lt={fullPage:R,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",Lt),Lt.preventDefaultAction)return this;if(R){for(this.elementSize=t.getElementSize(this.element),this.pageScroll=t.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=st.margin,this.docMargin=pt.margin,st.margin="0",pt.margin="0",this.bodyPadding=st.padding,this.docPadding=pt.padding,st.padding="0",pt.padding="0",this.bodyWidth=st.width,this.docWidth=pt.width,st.width="100%",pt.width="100%",this.bodyHeight=st.height,this.docHeight=pt.height,st.height="100%",pt.height="100%",this.bodyDisplay=st.display,st.display="block",this.previousBody=[],o[this.hash].prevElementParent=this.element.parentNode,o[this.hash].prevNextSibling=this.element.nextSibling,o[this.hash].prevElementWidth=this.element.style.width,o[this.hash].prevElementHeight=this.element.style.height,_t=j.childNodes.length,ht=0;ht<_t;ht++)this.previousBody.push(j.childNodes[0]),j.removeChild(j.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,j.appendChild(this.toolbar.element),t.addClass(this.toolbar.element,"fullpage")),t.addClass(this.element,"fullpage"),j.appendChild(this.element),this.element.style.height="100vh",this.element.style.width="100vw",this.toolbar&&this.toolbar.element&&(this.element.style.height=t.getElementSize(this.element).y-t.getElementSize(this.toolbar.element).y+"px"),o[this.hash].fullPage=!0,t.delegate(this,Xt)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,st.margin=this.bodyMargin,pt.margin=this.docMargin,st.padding=this.bodyPadding,pt.padding=this.docPadding,st.width=this.bodyWidth,pt.width=this.docWidth,st.height=this.bodyHeight,pt.height=this.docHeight,st.display=this.bodyDisplay,j.removeChild(this.element),_t=this.previousBody.length,ht=0;ht<_t;ht++)j.appendChild(this.previousBody.shift());t.removeClass(this.element,"fullpage"),o[this.hash].prevElementParent.insertBefore(this.element,o[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(j.removeChild(this.toolbar.element),t.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=o[this.hash].prevElementWidth,this.element.style.height=o[this.hash].prevElementHeight;var Qt=0,$t=function(){t.setPageScroll(dt.pageScroll);var te=t.getPageScroll();Qt++,Qt<10&&(te.x!==dt.pageScroll.x||te.y!==dt.pageScroll.y)&&t.requestAnimationFrame($t)};t.requestAnimationFrame($t),o[this.hash].fullPage=!1,t.delegate(this,Ct)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:R}),this},setFullScreen:function(R){var j=this;if(!t.supportsFullScreen)return this.setFullPage(R);if(t.isFullScreen()===R)return this;var st={fullScreen:R,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",st),st.preventDefaultAction)return this;if(R){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var pt=function(){var dt=t.isFullScreen();dt||(t.removeEvent(document,t.fullScreenEventName,pt),t.removeEvent(document,t.fullScreenErrorEventName,pt),j.setFullPage(!1),j.isFullPage()&&(j.element.style.width=j.fullPageStyleWidth,j.element.style.height=j.fullPageStyleHeight)),j.navigator&&j.viewport&&setTimeout(function(){j.navigator.update(j.viewport)}),j.raiseEvent("full-screen",{fullScreen:dt})};t.addEvent(document,t.fullScreenEventName,pt),t.addEvent(document,t.fullScreenErrorEventName,pt),t.requestFullScreen(document.body)}else t.exitFullScreen();return this},isVisible:function(){return this.container.style.visibility!=="hidden"},isFullScreen:function(){return t.isFullScreen()&&this.isFullPage()},setVisible:function(R){return this.container.style.visibility=R?"":"hidden",this.raiseEvent("visible",{visible:R}),this},addTiledImage:function(R){t.console.assert(R,"[Viewer.addTiledImage] options is required"),t.console.assert(R.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),t.console.assert(!R.replace||R.index>-1&&R.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var j=this;R.replace&&(R.replaceItem=j.world.getItemAt(R.index)),this._hideMessage(),R.placeholderFillStyle===void 0&&(R.placeholderFillStyle=this.placeholderFillStyle),R.opacity===void 0&&(R.opacity=this.opacity),R.preload===void 0&&(R.preload=this.preload),R.compositeOperation===void 0&&(R.compositeOperation=this.compositeOperation),R.crossOriginPolicy===void 0&&(R.crossOriginPolicy=R.tileSource.crossOriginPolicy!==void 0?R.tileSource.crossOriginPolicy:this.crossOriginPolicy),R.ajaxWithCredentials===void 0&&(R.ajaxWithCredentials=this.ajaxWithCredentials),R.loadTilesWithAjax===void 0&&(R.loadTilesWithAjax=this.loadTilesWithAjax),R.ajaxHeaders===void 0||R.ajaxHeaders===null?R.ajaxHeaders=this.ajaxHeaders:t.isPlainObject(R.ajaxHeaders)&&t.isPlainObject(this.ajaxHeaders)&&(R.ajaxHeaders=t.extend({},this.ajaxHeaders,R.ajaxHeaders));var st={options:R};function pt(ht){for(var Lt=0;Lt<j._loadQueue.length;Lt++)if(j._loadQueue[Lt]===st){j._loadQueue.splice(Lt,1);break}j._loadQueue.length===0&&dt(st),j.raiseEvent("add-item-failed",ht),R.error&&R.error(ht)}function dt(ht){j.collectionMode&&(j.world.arrange({immediately:ht.options.collectionImmediately,rows:j.collectionRows,columns:j.collectionColumns,layout:j.collectionLayout,tileSize:j.collectionTileSize,tileMargin:j.collectionTileMargin}),j.world.setAutoRefigureSizes(!0))}if(t.isArray(R.tileSource)){setTimeout(function(){pt({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:R.tileSource,options:R})});return}this._loadQueue.push(st);function _t(){for(var ht,Lt,Qt;j._loadQueue.length&&(ht=j._loadQueue[0],!!ht.tileSource);){if(j._loadQueue.splice(0,1),ht.options.replace){var $t=j.world.getIndexOfItem(ht.options.replaceItem);$t!==-1&&(ht.options.index=$t),j.world.removeItem(ht.options.replaceItem)}Lt=new t.TiledImage({viewer:j,source:ht.tileSource,viewport:j.viewport,drawer:j.drawer,tileCache:j.tileCache,imageLoader:j.imageLoader,x:ht.options.x,y:ht.options.y,width:ht.options.width,height:ht.options.height,fitBounds:ht.options.fitBounds,fitBoundsPlacement:ht.options.fitBoundsPlacement,clip:ht.options.clip,placeholderFillStyle:ht.options.placeholderFillStyle,opacity:ht.options.opacity,preload:ht.options.preload,degrees:ht.options.degrees,flipped:ht.options.flipped,compositeOperation:ht.options.compositeOperation,springStiffness:j.springStiffness,animationTime:j.animationTime,minZoomImageRatio:j.minZoomImageRatio,wrapHorizontal:j.wrapHorizontal,wrapVertical:j.wrapVertical,immediateRender:j.immediateRender,blendTime:j.blendTime,alwaysBlend:j.alwaysBlend,minPixelRatio:j.minPixelRatio,smoothTileEdgesMinZoom:j.smoothTileEdgesMinZoom,iOSDevice:j.iOSDevice,crossOriginPolicy:ht.options.crossOriginPolicy,ajaxWithCredentials:ht.options.ajaxWithCredentials,loadTilesWithAjax:ht.options.loadTilesWithAjax,ajaxHeaders:ht.options.ajaxHeaders,debugMode:j.debugMode,subPixelRoundingForTransparency:j.subPixelRoundingForTransparency}),j.collectionMode&&j.world.setAutoRefigureSizes(!1),j.navigator&&(Qt=t.extend({},ht.options,{replace:!1,originalTiledImage:Lt,tileSource:ht.tileSource}),j.navigator.addTiledImage(Qt)),j.world.addItem(Lt,{index:ht.options.index}),j._loadQueue.length===0&&dt(ht),j.world.getItemCount()===1&&!j.preserveViewport&&j.viewport.goHome(!0),ht.options.success&&ht.options.success({item:Lt})}}d(this,R.tileSource,R,function(ht){st.tileSource=ht,_t()},function(ht){ht.options=R,pt(ht),_t()})},addSimpleImage:function(R){t.console.assert(R,"[Viewer.addSimpleImage] options is required"),t.console.assert(R.url,"[Viewer.addSimpleImage] options.url is required");var j=t.extend({},R,{tileSource:{type:"image",url:R.url}});delete j.url,this.addTiledImage(j)},addLayer:function(R){var j=this;t.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var st=t.extend({},R,{success:function(pt){j.raiseEvent("add-layer",{options:R,drawer:pt.item})},error:function(pt){j.raiseEvent("add-layer-failed",pt)}});return this.addTiledImage(st),this},getLayerAtLevel:function(R){return t.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(R)},getLevelOfLayer:function(R){return t.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(R)},getLayersCount:function(){return t.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(R,j){return t.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(R,j)},removeLayer:function(R){return t.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(R)},forceRedraw:function(){return o[this.hash].forceRedraw=!0,this},forceResize:function(){o[this.hash].needsResize=!0,o[this.hash].forceResize=!0},bindSequenceControls:function(){var R=t.delegate(this,I),j=t.delegate(this,F),st=t.delegate(this,this.goToNextPage),pt=t.delegate(this,this.goToPreviousPage),dt=this.navImages,_t=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(_t=!1),this.previousButton=new t.Button({element:this.previousButton?t.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.PreviousPage"),srcRest:At(this.prefixUrl,dt.previous.REST),srcGroup:At(this.prefixUrl,dt.previous.GROUP),srcHover:At(this.prefixUrl,dt.previous.HOVER),srcDown:At(this.prefixUrl,dt.previous.DOWN),onRelease:pt,onFocus:R,onBlur:j}),this.nextButton=new t.Button({element:this.nextButton?t.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.NextPage"),srcRest:At(this.prefixUrl,dt.next.REST),srcGroup:At(this.prefixUrl,dt.next.GROUP),srcHover:At(this.prefixUrl,dt.next.HOVER),srcDown:At(this.prefixUrl,dt.next.DOWN),onRelease:st,onFocus:R,onBlur:j}),this.navPrevNextWrap||this.previousButton.disable(),(!this.tileSources||!this.tileSources.length)&&this.nextButton.disable(),_t&&(this.paging=new t.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:t.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||t.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var R=t.delegate(this,qt),j=t.delegate(this,pe),st=t.delegate(this,rr),pt=t.delegate(this,ee),dt=t.delegate(this,mr),_t=t.delegate(this,Xi),ht=t.delegate(this,Bi),Lt=t.delegate(this,yt),Qt=t.delegate(this,kt),$t=t.delegate(this,Dt),te=t.delegate(this,I),ye=t.delegate(this,F),xe=this.navImages,Be=[],$=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&($=!1),this.showZoomControl&&(Be.push(this.zoomInButton=new t.Button({element:this.zoomInButton?t.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.ZoomIn"),srcRest:At(this.prefixUrl,xe.zoomIn.REST),srcGroup:At(this.prefixUrl,xe.zoomIn.GROUP),srcHover:At(this.prefixUrl,xe.zoomIn.HOVER),srcDown:At(this.prefixUrl,xe.zoomIn.DOWN),onPress:R,onRelease:j,onClick:st,onEnter:R,onExit:j,onFocus:te,onBlur:ye})),Be.push(this.zoomOutButton=new t.Button({element:this.zoomOutButton?t.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.ZoomOut"),srcRest:At(this.prefixUrl,xe.zoomOut.REST),srcGroup:At(this.prefixUrl,xe.zoomOut.GROUP),srcHover:At(this.prefixUrl,xe.zoomOut.HOVER),srcDown:At(this.prefixUrl,xe.zoomOut.DOWN),onPress:pt,onRelease:j,onClick:dt,onEnter:pt,onExit:j,onFocus:te,onBlur:ye}))),this.showHomeControl&&Be.push(this.homeButton=new t.Button({element:this.homeButton?t.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.Home"),srcRest:At(this.prefixUrl,xe.home.REST),srcGroup:At(this.prefixUrl,xe.home.GROUP),srcHover:At(this.prefixUrl,xe.home.HOVER),srcDown:At(this.prefixUrl,xe.home.DOWN),onRelease:_t,onFocus:te,onBlur:ye})),this.showFullPageControl&&Be.push(this.fullPageButton=new t.Button({element:this.fullPageButton?t.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.FullPage"),srcRest:At(this.prefixUrl,xe.fullpage.REST),srcGroup:At(this.prefixUrl,xe.fullpage.GROUP),srcHover:At(this.prefixUrl,xe.fullpage.HOVER),srcDown:At(this.prefixUrl,xe.fullpage.DOWN),onRelease:ht,onFocus:te,onBlur:ye})),this.showRotationControl&&(Be.push(this.rotateLeftButton=new t.Button({element:this.rotateLeftButton?t.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.RotateLeft"),srcRest:At(this.prefixUrl,xe.rotateleft.REST),srcGroup:At(this.prefixUrl,xe.rotateleft.GROUP),srcHover:At(this.prefixUrl,xe.rotateleft.HOVER),srcDown:At(this.prefixUrl,xe.rotateleft.DOWN),onRelease:Lt,onFocus:te,onBlur:ye})),Be.push(this.rotateRightButton=new t.Button({element:this.rotateRightButton?t.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.RotateRight"),srcRest:At(this.prefixUrl,xe.rotateright.REST),srcGroup:At(this.prefixUrl,xe.rotateright.GROUP),srcHover:At(this.prefixUrl,xe.rotateright.HOVER),srcDown:At(this.prefixUrl,xe.rotateright.DOWN),onRelease:Qt,onFocus:te,onBlur:ye}))),this.showFlipControl&&Be.push(this.flipButton=new t.Button({element:this.flipButton?t.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.Flip"),srcRest:At(this.prefixUrl,xe.flip.REST),srcGroup:At(this.prefixUrl,xe.flip.GROUP),srcHover:At(this.prefixUrl,xe.flip.HOVER),srcDown:At(this.prefixUrl,xe.flip.DOWN),onRelease:$t,onFocus:te,onBlur:ye})),$?(this.buttonGroup=new t.ButtonGroup({buttons:Be,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttonGroup.element,this.addHandler("open",t.delegate(this,vi)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||t.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||t.ControlAnchor.TOP_LEFT})):this.customButtons=Be),this},currentPage:function(){return this._sequenceIndex},goToPage:function(R){return this.tileSources&&R>=0&&R<this.tileSources.length&&(this._sequenceIndex=R,this._updateSequenceButtons(R),this.open(this.tileSources[R]),this.referenceStrip&&this.referenceStrip.setFocus(R),this.raiseEvent("page",{page:R})),this},addOverlay:function(R,j,st,pt){var dt;if(t.isPlainObject(R)?dt=R:dt={element:R,location:j,placement:st,onDraw:pt},R=t.getElement(dt.element),m(this.currentOverlays,R)>=0)return this;var _t=f(this,dt);return this.currentOverlays.push(_t),_t.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:R,location:dt.location,placement:dt.placement}),this},updateOverlay:function(R,j,st){var pt;return R=t.getElement(R),pt=m(this.currentOverlays,R),pt>=0&&(this.currentOverlays[pt].update(j,st),o[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:R,location:j,placement:st})),this},removeOverlay:function(R){var j;return R=t.getElement(R),j=m(this.currentOverlays,R),j>=0&&(this.currentOverlays[j].destroy(),this.currentOverlays.splice(j,1),o[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:R})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return o[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(R){var j;return R=t.getElement(R),j=m(this.currentOverlays,R),j>=0?this.currentOverlays[j]:null},_updateSequenceButtons:function(R){this.nextButton&&(!this.tileSources||this.tileSources.length-1===R?this.navPrevNextWrap||this.nextButton.disable():this.nextButton.enable()),this.previousButton&&(R>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(R){this._hideMessage();var j=t.makeNeutralElement("div");j.appendChild(document.createTextNode(R)),this.messageDiv=t.makeCenteredNode(j),t.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var R=this.messageDiv;R&&(R.parentNode.removeChild(R),delete this.messageDiv)},gestureSettingsByDeviceType:function(R){switch(R){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var R,j=this.currentOverlays.length;for(R=0;R<j;R++)this.currentOverlays[R].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new t.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,useCanvas:this.useCanvas,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else t.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')},_addUpdatePixelDensityRatioEvent:function(){this._updatePixelDensityRatioBind=this._updatePixelDensityRatio.bind(this),t.addEvent(window,"resize",this._updatePixelDensityRatioBind)},_removeUpdatePixelDensityRatioEvent:function(){t.removeEvent(window,"resize",this._updatePixelDensityRatioBind)},_updatePixelDensityRatio:function(){var R=t.pixelDensityRatio,j=t.getCurrentPixelDensityRatio();R!==j&&(t.pixelDensityRatio=j,this.world.resetItems(),this.forceRedraw())},goToPreviousPage:function(){var R=this._sequenceIndex-1;this.navPrevNextWrap&&R<0&&(R+=this.tileSources.length),this.goToPage(R)},goToNextPage:function(){var R=this._sequenceIndex+1;this.navPrevNextWrap&&R>=this.tileSources.length&&(R=0),this.goToPage(R)},isAnimating:function(){return o[this.hash].animating}});function u(R){return R=t.getElement(R),new t.Point(R.clientWidth===0?1:R.clientWidth,R.clientHeight===0?1:R.clientHeight)}function d(R,j,st,pt,dt){var _t=R;if(t.type(j)==="string"){if(j.match(/^\s*<.*>\s*$/))j=t.parseXml(j);else if(j.match(/^\s*[{[].*[}\]]\s*$/))try{var ht=t.parseJSON(j);j=ht}catch{}}function Lt(Qt,$t){Qt.ready?pt(Qt):(Qt.addHandler("ready",function(){pt(Qt)}),Qt.addHandler("open-failed",function(te){dt({message:te.message,source:$t})}))}setTimeout(function(){if(t.type(j)==="string")j=new t.TileSource({url:j,crossOriginPolicy:st.crossOriginPolicy!==void 0?st.crossOriginPolicy:R.crossOriginPolicy,ajaxWithCredentials:R.ajaxWithCredentials,ajaxHeaders:st.ajaxHeaders?st.ajaxHeaders:R.ajaxHeaders,splitHashDataForPost:R.splitHashDataForPost,useCanvas:R.useCanvas,success:function(ye){pt(ye.tileSource)}}),j.addHandler("open-failed",function(ye){dt(ye)});else if(t.isPlainObject(j)||j.nodeType)if(j.crossOriginPolicy===void 0&&(st.crossOriginPolicy!==void 0||R.crossOriginPolicy!==void 0)&&(j.crossOriginPolicy=st.crossOriginPolicy!==void 0?st.crossOriginPolicy:R.crossOriginPolicy),j.ajaxWithCredentials===void 0&&(j.ajaxWithCredentials=R.ajaxWithCredentials),j.useCanvas===void 0&&(j.useCanvas=R.useCanvas),t.isFunction(j.getTileUrl)){var Qt=new t.TileSource(j);Qt.getTileUrl=j.getTileUrl,pt(Qt)}else{var $t=t.TileSource.determineType(_t,j);if(!$t){dt({message:"Unable to load TileSource",source:j});return}var te=$t.prototype.configure.apply(_t,[j]);Lt(new $t(te),j)}else Lt(j,j)})}function f(R,j){if(j instanceof t.Overlay)return j;var st=null;if(j.element)st=t.getElement(j.element);else{var pt=j.id?j.id:"openseadragon-overlay-"+Math.floor(Math.random()*1e7);st=t.getElement(j.id),st||(st=document.createElement("a"),st.href="#/overlay/"+pt),st.id=pt,t.addClass(st,j.className?j.className:"openseadragon-overlay")}var dt=j.location,_t=j.width,ht=j.height;if(!dt){var Lt=j.x,Qt=j.y;if(j.px!==void 0){var $t=R.viewport.imageToViewportRectangle(new t.Rect(j.px,j.py,_t||0,ht||0));Lt=$t.x,Qt=$t.y,_t=_t!==void 0?$t.width:void 0,ht=ht!==void 0?$t.height:void 0}dt=new t.Point(Lt,Qt)}var te=j.placement;return te&&t.type(te)==="string"&&(te=t.Placement[j.placement.toUpperCase()]),new t.Overlay({element:st,location:dt,placement:te,onDraw:j.onDraw,checkResize:j.checkResize,width:_t,height:ht,rotationMode:j.rotationMode})}function m(R,j){var st;for(st=R.length-1;st>=0;st--)if(R[st].element===j)return st;return-1}function v(R,j){return t.requestAnimationFrame(function(){j(R)})}function _(R){t.requestAnimationFrame(function(){C(R)})}function k(R){R.autoHideControls&&(R.controlsShouldFade=!0,R.controlsFadeBeginTime=t.now()+R.controlsFadeDelay,window.setTimeout(function(){_(R)},R.controlsFadeDelay))}function C(R){var j,st,pt,dt;if(R.controlsShouldFade){for(j=t.now(),st=j-R.controlsFadeBeginTime,pt=1-st/R.controlsFadeLength,pt=Math.min(1,pt),pt=Math.max(0,pt),dt=R.controls.length-1;dt>=0;dt--)R.controls[dt].autoFade&&R.controls[dt].setOpacity(pt);pt>0&&_(R)}}function M(R){var j;for(R.controlsShouldFade=!1,j=R.controls.length-1;j>=0;j--)R.controls[j].setOpacity(1)}function I(){M(this)}function F(){k(this)}function H(R){var j={tracker:R.eventSource,position:R.position,originalEvent:R.originalEvent,preventDefault:R.preventDefault};this.raiseEvent("canvas-contextmenu",j),R.preventDefault=j.preventDefault}function U(R){var j={originalEvent:R.originalEvent,preventDefaultAction:!1,preventVerticalPan:R.preventVerticalPan||!this.panVertical,preventHorizontalPan:R.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",j),!j.preventDefaultAction&&!R.ctrl&&!R.alt&&!R.meta)switch(R.keyCode){case 38:j.preventVerticalPan||(R.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),R.preventDefault=!0;break;case 40:j.preventVerticalPan||(R.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),R.preventDefault=!0;break;case 37:j.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),R.preventDefault=!0;break;case 39:j.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),R.preventDefault=!0;break;default:R.preventDefault=!1;break}else R.preventDefault=!1}function J(R){var j={originalEvent:R.originalEvent,preventDefaultAction:!1,preventVerticalPan:R.preventVerticalPan||!this.panVertical,preventHorizontalPan:R.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",j),!j.preventDefaultAction&&!R.ctrl&&!R.alt&&!R.meta)switch(R.keyCode){case 43:case 61:this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),R.preventDefault=!0;break;case 45:this.viewport.zoomBy(.9),this.viewport.applyConstraints(),R.preventDefault=!0;break;case 48:this.viewport.goHome(),this.viewport.applyConstraints(),R.preventDefault=!0;break;case 119:case 87:j.preventVerticalPan||(R.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,-40))),this.viewport.applyConstraints()),R.preventDefault=!0;break;case 115:case 83:j.preventVerticalPan||(R.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,40))),this.viewport.applyConstraints()),R.preventDefault=!0;break;case 97:j.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(-40,0))),this.viewport.applyConstraints()),R.preventDefault=!0;break;case 100:j.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(40,0))),this.viewport.applyConstraints()),R.preventDefault=!0;break;case 114:this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement),this.viewport.applyConstraints(),R.preventDefault=!0;break;case 82:this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement),this.viewport.applyConstraints(),R.preventDefault=!0;break;case 102:this.viewport.toggleFlip(),R.preventDefault=!0;break;case 106:this.goToPreviousPage();break;case 107:this.goToNextPage();break;default:R.preventDefault=!1;break}else R.preventDefault=!1}function G(R){var j,st=document.activeElement===this.canvas;st||this.canvas.focus(),this.viewport.flipped&&(R.position.x=this.viewport.getContainerSize().x-R.position.x);var pt={tracker:R.eventSource,position:R.position,quick:R.quick,shift:R.shift,originalEvent:R.originalEvent,originalTarget:R.originalTarget,preventDefaultAction:!1};this.raiseEvent("canvas-click",pt),!pt.preventDefaultAction&&this.viewport&&R.quick&&(j=this.gestureSettingsByDeviceType(R.pointerType),j.clickToZoom===!0&&(this.viewport.zoomBy(R.shift?1/this.zoomPerClick:this.zoomPerClick,j.zoomToRefPoint?this.viewport.pointFromPixel(R.position,!0):null),this.viewport.applyConstraints()),j.dblClickDragToZoom&&(o[this.hash].draggingToZoom===!0?(o[this.hash].lastClickTime=null,o[this.hash].draggingToZoom=!1):o[this.hash].lastClickTime=t.now()))}function Z(R){var j,st={tracker:R.eventSource,position:R.position,shift:R.shift,originalEvent:R.originalEvent,preventDefaultAction:!1};this.raiseEvent("canvas-double-click",st),!st.preventDefaultAction&&this.viewport&&(j=this.gestureSettingsByDeviceType(R.pointerType),j.dblClickToZoom&&(this.viewport.zoomBy(R.shift?1/this.zoomPerClick:this.zoomPerClick,j.zoomToRefPoint?this.viewport.pointFromPixel(R.position,!0):null),this.viewport.applyConstraints()))}function at(R){var j,st={tracker:R.eventSource,pointerType:R.pointerType,position:R.position,delta:R.delta,speed:R.speed,direction:R.direction,shift:R.shift,originalEvent:R.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag",st),j=this.gestureSettingsByDeviceType(R.pointerType),!st.preventDefaultAction&&this.viewport){if(j.dblClickDragToZoom&&o[this.hash].draggingToZoom){var pt=Math.pow(this.zoomPerDblClickDrag,R.delta.y/50);this.viewport.zoomBy(pt)}else if(j.dragToPan&&!o[this.hash].draggingToZoom){if(this.panHorizontal||(R.delta.x=0),this.panVertical||(R.delta.y=0),this.viewport.flipped&&(R.delta.x=-R.delta.x),this.constrainDuringPan){var dt=this.viewport.deltaPointsFromPixels(R.delta.negate());this.viewport.centerSpringX.target.value+=dt.x,this.viewport.centerSpringY.target.value+=dt.y;var _t=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=dt.x,this.viewport.centerSpringY.target.value-=dt.y,_t.xConstrained&&(R.delta.x=0),_t.yConstrained&&(R.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(R.delta.negate()),j.flickEnabled&&!this.constrainDuringPan)}}}function mt(R){var j,st={tracker:R.eventSource,pointerType:R.pointerType,position:R.position,speed:R.speed,direction:R.direction,shift:R.shift,originalEvent:R.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag-end",st),j=this.gestureSettingsByDeviceType(R.pointerType),!st.preventDefaultAction&&this.viewport){if(!o[this.hash].draggingToZoom&&j.flickEnabled&&R.speed>=j.flickMinSpeed){var pt=0;this.panHorizontal&&(pt=j.flickMomentum*R.speed*Math.cos(R.direction));var dt=0;this.panVertical&&(dt=j.flickMomentum*R.speed*Math.sin(R.direction));var _t=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),ht=this.viewport.pointFromPixel(new t.Point(_t.x-pt,_t.y-dt));this.viewport.panTo(ht,!1)}this.viewport.applyConstraints()}j.dblClickDragToZoom&&o[this.hash].draggingToZoom===!0&&(o[this.hash].draggingToZoom=!1)}function ft(R){this.raiseEvent("canvas-enter",{tracker:R.eventSource,pointerType:R.pointerType,position:R.position,buttons:R.buttons,pointers:R.pointers,insideElementPressed:R.insideElementPressed,buttonDownAny:R.buttonDownAny,originalEvent:R.originalEvent})}function ot(R){this.raiseEvent("canvas-exit",{tracker:R.eventSource,pointerType:R.pointerType,position:R.position,buttons:R.buttons,pointers:R.pointers,insideElementPressed:R.insideElementPressed,buttonDownAny:R.buttonDownAny,originalEvent:R.originalEvent})}function V(R){var j;if(this.raiseEvent("canvas-press",{tracker:R.eventSource,pointerType:R.pointerType,position:R.position,insideElementPressed:R.insideElementPressed,insideElementReleased:R.insideElementReleased,originalEvent:R.originalEvent}),j=this.gestureSettingsByDeviceType(R.pointerType),j.dblClickDragToZoom){var st=o[this.hash].lastClickTime,pt=t.now();if(st===null)return;pt-st<this.dblClickTimeThreshold&&(o[this.hash].draggingToZoom=!0),o[this.hash].lastClickTime=null}}function nt(R){this.raiseEvent("canvas-release",{tracker:R.eventSource,pointerType:R.pointerType,position:R.position,insideElementPressed:R.insideElementPressed,insideElementReleased:R.insideElementReleased,originalEvent:R.originalEvent})}function ut(R){this.raiseEvent("canvas-nonprimary-press",{tracker:R.eventSource,position:R.position,pointerType:R.pointerType,button:R.button,buttons:R.buttons,originalEvent:R.originalEvent})}function gt(R){this.raiseEvent("canvas-nonprimary-release",{tracker:R.eventSource,position:R.position,pointerType:R.pointerType,button:R.button,buttons:R.buttons,originalEvent:R.originalEvent})}function Jt(R){var j,st,pt,dt,_t={tracker:R.eventSource,pointerType:R.pointerType,gesturePoints:R.gesturePoints,lastCenter:R.lastCenter,center:R.center,lastDistance:R.lastDistance,distance:R.distance,shift:R.shift,originalEvent:R.originalEvent,preventDefaultPanAction:!1,preventDefaultZoomAction:!1,preventDefaultRotateAction:!1};if(this.raiseEvent("canvas-pinch",_t),this.viewport&&(j=this.gestureSettingsByDeviceType(R.pointerType),j.pinchToZoom&&(!_t.preventDefaultPanAction||!_t.preventDefaultZoomAction)&&(st=this.viewport.pointFromPixel(R.center,!0),j.zoomToRefPoint&&!_t.preventDefaultPanAction&&(pt=this.viewport.pointFromPixel(R.lastCenter,!0),dt=pt.minus(st),this.panHorizontal||(dt.x=0),this.panVertical||(dt.y=0),this.viewport.panBy(dt,!0)),_t.preventDefaultZoomAction||this.viewport.zoomBy(R.distance/R.lastDistance,st,!0),this.viewport.applyConstraints()),j.pinchRotate&&!_t.preventDefaultRotateAction)){var ht=Math.atan2(R.gesturePoints[0].currentPos.y-R.gesturePoints[1].currentPos.y,R.gesturePoints[0].currentPos.x-R.gesturePoints[1].currentPos.x),Lt=Math.atan2(R.gesturePoints[0].lastPos.y-R.gesturePoints[1].lastPos.y,R.gesturePoints[0].lastPos.x-R.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(ht-Lt)*(180/Math.PI))}}function re(R){var j,st,pt,dt,_t;dt=t.now(),_t=dt-this._lastScrollTime,_t>this.minScrollDeltaTime?(this._lastScrollTime=dt,j={tracker:R.eventSource,position:R.position,scroll:R.scroll,shift:R.shift,originalEvent:R.originalEvent,preventDefaultAction:!1,preventDefault:!0},this.raiseEvent("canvas-scroll",j),!j.preventDefaultAction&&this.viewport&&(this.viewport.flipped&&(R.position.x=this.viewport.getContainerSize().x-R.position.x),st=this.gestureSettingsByDeviceType(R.pointerType),st.scrollToZoom&&(pt=Math.pow(this.zoomPerScroll,R.scroll),this.viewport.zoomBy(pt,st.zoomToRefPoint?this.viewport.pointFromPixel(R.position,!0):null),this.viewport.applyConstraints())),R.preventDefault=j.preventDefault):R.preventDefault=!0}function Xt(R){o[this.hash].mouseInside=!0,M(this),this.raiseEvent("container-enter",{tracker:R.eventSource,pointerType:R.pointerType,position:R.position,buttons:R.buttons,pointers:R.pointers,insideElementPressed:R.insideElementPressed,buttonDownAny:R.buttonDownAny,originalEvent:R.originalEvent})}function Ct(R){R.pointers<1&&(o[this.hash].mouseInside=!1,o[this.hash].animating||k(this)),this.raiseEvent("container-exit",{tracker:R.eventSource,pointerType:R.pointerType,position:R.position,buttons:R.buttons,pointers:R.pointers,insideElementPressed:R.insideElementPressed,buttonDownAny:R.buttonDownAny,originalEvent:R.originalEvent})}function Kt(R){Pe(R),R.isOpen()?R._updateRequestId=v(R,Kt):R._updateRequestId=!1}function Zt(R,j){var st=R.viewport,pt=st.getZoom(),dt=st.getCenter();st.resize(j,R.preserveImageSizeOnResize),st.panTo(dt,!0);var _t;if(R.preserveImageSizeOnResize)_t=o[R.hash].prevContainerSize.x/j.x;else{var ht=new t.Point(0,0),Lt=new t.Point(o[R.hash].prevContainerSize.x,o[R.hash].prevContainerSize.y).distanceTo(ht),Qt=new t.Point(j.x,j.y).distanceTo(ht);_t=Qt/Lt*o[R.hash].prevContainerSize.x/j.x}st.zoomTo(pt*_t,null,!0),o[R.hash].prevContainerSize=j,o[R.hash].forceRedraw=!0,o[R.hash].needsResize=!1,o[R.hash].forceResize=!1}function Pe(R){if(!(R._opening||!o[R.hash])){if(R.autoResize||o[R.hash].forceResize){var j;if(R._autoResizePolling){j=u(R.container);var st=o[R.hash].prevContainerSize;j.equals(st)||(o[R.hash].needsResize=!0)}o[R.hash].needsResize&&Zt(R,j||u(R.container))}var pt=R.viewport.update(),dt=R.world.update()||pt;pt&&R.raiseEvent("viewport-change"),R.referenceStrip&&(dt=R.referenceStrip.update(R.viewport)||dt);var _t=o[R.hash].animating;!_t&&dt&&(R.raiseEvent("animation-start"),M(R));var ht=_t&&!dt;ht&&(o[R.hash].animating=!1),(dt||ht||o[R.hash].forceRedraw||R.world.needsDraw())&&(bt(R),R._drawOverlays(),R.navigator&&R.navigator.update(R.viewport),o[R.hash].forceRedraw=!1,dt&&R.raiseEvent("animation")),ht&&(R.raiseEvent("animation-finish"),o[R.hash].mouseInside||k(R)),o[R.hash].animating=dt}}function bt(R){R.imageLoader.clear(),R.drawer.clear(),R.world.draw(),R.raiseEvent("update-viewport",{})}function At(R,j){return R?R+j:j}function qt(){o[this.hash].lastZoomTime=t.now(),o[this.hash].zoomFactor=this.zoomPerSecond,o[this.hash].zooming=!0,ae(this)}function ee(){o[this.hash].lastZoomTime=t.now(),o[this.hash].zoomFactor=1/this.zoomPerSecond,o[this.hash].zooming=!0,ae(this)}function pe(){o[this.hash].zooming=!1}function ae(R){t.requestAnimationFrame(t.delegate(R,le))}function le(){var R,j,st;o[this.hash].zooming&&this.viewport&&(R=t.now(),j=R-o[this.hash].lastZoomTime,st=Math.pow(o[this.hash].zoomFactor,j/1e3),this.viewport.zoomBy(st),this.viewport.applyConstraints(),o[this.hash].lastZoomTime=R,ae(this))}function rr(){this.viewport&&(o[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function mr(){this.viewport&&(o[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function vi(){this.buttonGroup&&(this.buttonGroup.emulateEnter(),this.buttonGroup.emulateLeave())}function Xi(){this.viewport&&this.viewport.goHome()}function Bi(){this.isFullPage()&&!t.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttonGroup&&this.buttonGroup.emulateLeave(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function yt(){if(this.viewport){var R=this.viewport.getRotation();this.viewport.flipped?R+=this.rotationIncrement:R-=this.rotationIncrement,this.viewport.setRotation(R)}}function kt(){if(this.viewport){var R=this.viewport.getRotation();this.viewport.flipped?R-=this.rotationIncrement:R+=this.rotationIncrement,this.viewport.setRotation(R)}}function Dt(){this.viewport.toggleFlip()}}(r),function(t){t.Navigator=function(v){var _=v.viewer,k=this,C,M;v.element||v.id?(v.element?(v.id&&t.console.warn("Given option.id for Navigator was ignored since option.element was provided and is being used instead."),v.element.id?v.id=v.element.id:v.id="navigator-"+t.now(),this.element=v.element):this.element=document.getElementById(v.id),v.controlOptions={anchor:t.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(v.id="navigator-"+t.now(),this.element=t.makeNeutralElement("div"),v.controlOptions={anchor:t.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:v.autoFade},v.position&&(v.position==="BOTTOM_RIGHT"?v.controlOptions.anchor=t.ControlAnchor.BOTTOM_RIGHT:v.position==="BOTTOM_LEFT"?v.controlOptions.anchor=t.ControlAnchor.BOTTOM_LEFT:v.position==="TOP_RIGHT"?v.controlOptions.anchor=t.ControlAnchor.TOP_RIGHT:v.position==="TOP_LEFT"?v.controlOptions.anchor=t.ControlAnchor.TOP_LEFT:v.position==="ABSOLUTE"&&(v.controlOptions.anchor=t.ControlAnchor.ABSOLUTE,v.controlOptions.top=v.top,v.controlOptions.left=v.left,v.controlOptions.height=v.height,v.controlOptions.width=v.width))),this.element.id=v.id,this.element.className+=" navigator",v=t.extend(!0,{sizeRatio:t.DEFAULT_SETTINGS.navigatorSizeRatio},v,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:v.animationTime,autoResize:!1,minZoomImageRatio:1,background:v.background,opacity:v.opacity,borderColor:v.borderColor,displayRegionColor:v.displayRegionColor}),v.minPixelRatio=this.minPixelRatio=_.minPixelRatio,t.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new t.Point(1,1),this.totalBorderWidths=new t.Point(this.borderWidth*2,this.borderWidth*2).minus(this.fudge),v.controlOptions.anchor!==t.ControlAnchor.NONE&&function(H,U){H.margin="0px",H.border=U+"px solid "+v.borderColor,H.padding="0px",H.background=v.background,H.opacity=v.opacity,H.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=t.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(H,U){H.position="relative",H.top="0px",H.left="0px",H.fontSize="0px",H.overflow="hidden",H.border=U+"px solid "+v.displayRegionColor,H.margin="0px",H.padding="0px",H.background="transparent",H.float="left",H.cssFloat="left",H.styleFloat="left",H.zIndex=999999999,H.cursor="default"}(this.displayRegion.style,this.borderWidth),t.setElementPointerEventsNone(this.displayRegion),t.setElementTouchActionNone(this.displayRegion),this.displayRegionContainer=t.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",t.setElementPointerEventsNone(this.displayRegionContainer),t.setElementTouchActionNone(this.displayRegionContainer),_.addControl(this.element,v.controlOptions),this._resizeWithViewer=v.controlOptions.anchor!==t.ControlAnchor.ABSOLUTE&&v.controlOptions.anchor!==t.ControlAnchor.NONE,v.width&&v.height?(this.setWidth(v.width),this.setHeight(v.height)):this._resizeWithViewer&&(C=t.getElementSize(_.element),this.element.style.height=Math.round(C.y*v.sizeRatio)+"px",this.element.style.width=Math.round(C.x*v.sizeRatio)+"px",this.oldViewerSize=C,M=t.getElementSize(this.element),this.elementArea=M.x*M.y),this.oldContainerSize=new t.Point(0,0),t.Viewer.apply(this,[v]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer);function I(H){f(k.displayRegionContainer,H),f(k.displayRegion,-H),k.viewport.setRotation(H)}if(v.navigatorRotate){var F=v.viewer.viewport?v.viewer.viewport.getRotation():v.viewer.degrees||0;I(F),v.viewer.addHandler("rotate",function(H){I(H.degrees)})}this.innerTracker.destroy(),this.innerTracker=new t.MouseTracker({userData:"Navigator.innerTracker",element:this.element,dragHandler:t.delegate(this,l),clickHandler:t.delegate(this,o),releaseHandler:t.delegate(this,u),scrollHandler:t.delegate(this,d),preProcessEventHandler:function(H){H.eventType==="wheel"&&(H.preventDefault=!0)}}),this.outerTracker.userData="Navigator.outerTracker",t.setElementPointerEventsNone(this.canvas),t.setElementPointerEventsNone(this.container),this.addHandler("reset-size",function(){k.viewport&&k.viewport.goHome(!0)}),_.world.addHandler("item-index-change",function(H){window.setTimeout(function(){var U=k.world.getItemAt(H.previousIndex);k.world.setItemIndex(U,H.newIndex)},1)}),_.world.addHandler("remove-item",function(H){var U=H.item,J=k._getMatchingItem(U);J&&k.world.removeItem(J)}),this.update(_.viewport)},t.extend(t.Navigator.prototype,t.EventSource.prototype,t.Viewer.prototype,{updateSize:function(){if(this.viewport){var v=new t.Point(this.container.clientWidth===0?1:this.container.clientWidth,this.container.clientHeight===0?1:this.container.clientHeight);v.equals(this.oldContainerSize)||(this.viewport.resize(v,!0),this.viewport.goHome(!0),this.oldContainerSize=v,this.drawer.clear(),this.world.draw())}},setWidth:function(v){this.width=v,this.element.style.width=typeof v=="number"?v+"px":v,this._resizeWithViewer=!1},setHeight:function(v){this.height=v,this.element.style.height=typeof v=="number"?v+"px":v,this._resizeWithViewer=!1},setFlip:function(v){return this.viewport.setFlip(v),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(v){m(this.displayRegion,v),m(this.canvas,v),m(this.element,v)},update:function(v){var _,k,C,M,I,F;if(_=t.getElementSize(this.viewer.element),this._resizeWithViewer&&_.x&&_.y&&!_.equals(this.oldViewerSize)&&(this.oldViewerSize=_,this.maintainSizeRatio||!this.elementArea?(k=_.x*this.sizeRatio,C=_.y*this.sizeRatio):(k=Math.sqrt(this.elementArea*(_.x/_.y)),C=this.elementArea/k),this.element.style.width=Math.round(k)+"px",this.element.style.height=Math.round(C)+"px",this.elementArea||(this.elementArea=k*C),this.updateSize()),v&&this.viewport){M=v.getBoundsNoRotate(!0),I=this.viewport.pixelFromPointNoRotate(M.getTopLeft(),!1),F=this.viewport.pixelFromPointNoRotate(M.getBottomRight(),!1).minus(this.totalBorderWidths);var H=this.displayRegion.style;H.display=this.world.getItemCount()?"block":"none",H.top=Math.round(I.y)+"px",H.left=Math.round(I.x)+"px";var U=Math.abs(I.x-F.x),J=Math.abs(I.y-F.y);H.width=Math.round(Math.max(U,0))+"px",H.height=Math.round(Math.max(J,0))+"px"}},addTiledImage:function(v){var _=this,k=v.originalTiledImage;delete v.original;var C=t.extend({},v,{success:function(M){var I=M.item;I._originalForNavigator=k,_._matchBounds(I,k,!0),_._matchOpacity(I,k),_._matchCompositeOperation(I,k);function F(){_._matchBounds(I,k)}function H(){_._matchOpacity(I,k)}function U(){_._matchCompositeOperation(I,k)}k.addHandler("bounds-change",F),k.addHandler("clip-change",F),k.addHandler("opacity-change",H),k.addHandler("composite-operation-change",U)}});return t.Viewer.prototype.addTiledImage.apply(this,[C])},destroy:function(){return t.Viewer.prototype.destroy.apply(this)},_getMatchingItem:function(v){for(var _=this.world.getItemCount(),k,C=0;C<_;C++)if(k=this.world.getItemAt(C),k._originalForNavigator===v)return k;return null},_matchBounds:function(v,_,k){var C=_.getBoundsNoRotate();v.setPosition(C.getTopLeft(),k),v.setWidth(C.width,k),v.setRotation(_.getRotation(),k),v.setClip(_.getClip()),v.setFlip(_.getFlip())},_matchOpacity:function(v,_){v.setOpacity(_.opacity)},_matchCompositeOperation:function(v,_){v.setCompositeOperation(_.compositeOperation)}});function o(v){var _={tracker:v.eventSource,position:v.position,quick:v.quick,shift:v.shift,originalEvent:v.originalEvent,preventDefaultAction:!1};if(this.viewer.raiseEvent("navigator-click",_),!_.preventDefaultAction&&v.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(v.position.x=this.viewport.getContainerSize().x-v.position.x);var k=this.viewport.pointFromPixel(v.position);this.panVertical?this.panHorizontal||(k.x=this.viewer.viewport.getCenter(!0).x):k.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(k),this.viewer.viewport.applyConstraints()}}function l(v){var _={tracker:v.eventSource,position:v.position,delta:v.delta,speed:v.speed,direction:v.direction,shift:v.shift,originalEvent:v.originalEvent,preventDefaultAction:!1};this.viewer.raiseEvent("navigator-drag",_),!_.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(v.delta.x=0),this.panVertical||(v.delta.y=0),this.viewer.viewport.flipped&&(v.delta.x=-v.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(v.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function u(v){v.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function d(v){var _={tracker:v.eventSource,position:v.position,scroll:v.scroll,shift:v.shift,originalEvent:v.originalEvent,preventDefault:v.preventDefault};this.viewer.raiseEvent("navigator-scroll",_),v.preventDefault=_.preventDefault}function f(v,_){m(v,"rotate("+_+"deg)")}function m(v,_){v.style.webkitTransform=_,v.style.mozTransform=_,v.style.msTransform=_,v.style.oTransform=_,v.style.transform=_}}(r),function(t){var o={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};t.extend(t,{getString:function(l){var u=l.split("."),d=null,f=arguments,m=o,v;for(v=0;v<u.length-1;v++)m=m[u[v]]||{};return d=m[u[v]],typeof d!="string"&&(t.console.error("Untranslated source string:",l),d=""),d.replace(/\{\d+\}/g,function(_){var k=parseInt(_.match(/\d+/),10)+1;return k<f.length?f[k]:""})},setString:function(l,u){var d=l.split("."),f=o,m;for(m=0;m<d.length-1;m++)f[d[m]]||(f[d[m]]={}),f=f[d[m]];f[d[m]]=u}})}(r),function(t){t.Point=function(o,l){this.x=typeof o=="number"?o:0,this.y=typeof l=="number"?l:0},t.Point.prototype={clone:function(){return new t.Point(this.x,this.y)},plus:function(o){return new t.Point(this.x+o.x,this.y+o.y)},minus:function(o){return new t.Point(this.x-o.x,this.y-o.y)},times:function(o){return new t.Point(this.x*o,this.y*o)},divide:function(o){return new t.Point(this.x/o,this.y/o)},negate:function(){return new t.Point(-this.x,-this.y)},distanceTo:function(o){return Math.sqrt(Math.pow(this.x-o.x,2)+Math.pow(this.y-o.y,2))},squaredDistanceTo:function(o){return Math.pow(this.x-o.x,2)+Math.pow(this.y-o.y,2)},apply:function(o){return new t.Point(o(this.x),o(this.y))},equals:function(o){return o instanceof t.Point&&this.x===o.x&&this.y===o.y},rotate:function(o,l){l=l||new t.Point(0,0);var u,d;if(o%90===0){var f=t.positiveModulo(o,360);switch(f){case 0:u=1,d=0;break;case 90:u=0,d=1;break;case 180:u=-1,d=0;break;case 270:u=0,d=-1;break}}else{var m=o*Math.PI/180;u=Math.cos(m),d=Math.sin(m)}var v=u*(this.x-l.x)-d*(this.y-l.y)+l.x,_=d*(this.x-l.x)+u*(this.y-l.y)+l.y;return new t.Point(v,_)},toString:function(){return"("+Math.round(this.x*100)/100+","+Math.round(this.y*100)/100+")"}}}(r),function(t){t.TileSource=function(l,u,d,f,m,v){var _=this,k=arguments,C,M;if(t.isPlainObject(l)?C=l:C={width:k[0],height:k[1],tileSize:k[2],tileOverlap:k[3],minLevel:k[4],maxLevel:k[5]},t.EventSource.call(this),t.extend(!0,this,C),!this.success){for(M=0;M<arguments.length;M++)if(t.isFunction(arguments[M])){this.success=arguments[M];break}}this.success&&this.addHandler("ready",function(I){_.success(I)}),t.type(arguments[0])==="string"&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new t.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=C.width&&C.height?C.width/C.height:1,this.dimensions=new t.Point(C.width,C.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=C.tileOverlap?C.tileOverlap:0,this.minLevel=C.minLevel?C.minLevel:0,this.maxLevel=C.maxLevel!==void 0&&C.maxLevel!==null?C.maxLevel:C.width&&C.height?Math.ceil(Math.log(Math.max(C.width,C.height))/Math.log(2)):0,this.success&&t.isFunction(this.success)&&this.success(this))},t.TileSource.prototype={getTileSize:function(l){return t.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(l){return this._tileWidth?this._tileWidth:this.getTileSize(l)},getTileHeight:function(l){return this._tileHeight?this._tileHeight:this.getTileSize(l)},setMaxLevel:function(l){this.maxLevel=l,this._memoizeLevelScale()},getLevelScale:function(l){return this._memoizeLevelScale(),this.getLevelScale(l)},_memoizeLevelScale:function(){var l={},u;for(u=0;u<=this.maxLevel;u++)l[u]=1/Math.pow(2,this.maxLevel-u);this.getLevelScale=function(d){return l[d]}},getNumTiles:function(l){var u=this.getLevelScale(l),d=Math.ceil(u*this.dimensions.x/this.getTileWidth(l)),f=Math.ceil(u*this.dimensions.y/this.getTileHeight(l));return new t.Point(d,f)},getPixelRatio:function(l){var u=this.dimensions.times(this.getLevelScale(l)),d=1/u.x*t.pixelDensityRatio,f=1/u.y*t.pixelDensityRatio;return new t.Point(d,f)},getClosestLevel:function(){var l,u;for(l=this.minLevel+1;l<=this.maxLevel&&(u=this.getNumTiles(l),!(u.x>1||u.y>1));l++);return l-1},getTileAtPoint:function(l,u){var d=u.x>=0&&u.x<=1&&u.y>=0&&u.y<=1/this.aspectRatio;t.console.assert(d,"[TileSource.getTileAtPoint] must be called with a valid point.");var f=this.dimensions.x*this.getLevelScale(l),m=u.x*f,v=u.y*f,_=Math.floor(m/this.getTileWidth(l)),k=Math.floor(v/this.getTileHeight(l));u.x>=1&&(_=this.getNumTiles(l).x-1);var C=1e-15;return u.y>=1/this.aspectRatio-C&&(k=this.getNumTiles(l).y-1),new t.Point(_,k)},getTileBounds:function(l,u,d,f){var m=this.dimensions.times(this.getLevelScale(l)),v=this.getTileWidth(l),_=this.getTileHeight(l),k=u===0?0:v*u-this.tileOverlap,C=d===0?0:_*d-this.tileOverlap,M=v+(u===0?1:2)*this.tileOverlap,I=_+(d===0?1:2)*this.tileOverlap,F=1/m.x;return M=Math.min(M,m.x-k),I=Math.min(I,m.y-C),f?new t.Rect(0,0,M,I):new t.Rect(k*F,C*F,M*F,I*F)},getImageInfo:function(l){var u=this,d,f,m,v,_,k,C;l&&(_=l.split("/"),k=_[_.length-1],C=k.lastIndexOf("."),C>-1&&(_[_.length-1]=k.slice(0,C)));var M=null;if(this.splitHashDataForPost){var I=l.indexOf("#");I!==-1&&(M=l.substring(I+1),l=l.substr(0,I))}f=function(F){typeof F=="string"&&(F=t.parseXml(F));var H=t.TileSource.determineType(u,F,l);if(!H){u.raiseEvent("open-failed",{message:"Unable to load TileSource",source:l});return}v=H.prototype.configure.apply(u,[F,l,M]),v.ajaxWithCredentials===void 0&&(v.ajaxWithCredentials=u.ajaxWithCredentials),m=new H(v),u.ready=!0,u.raiseEvent("ready",{tileSource:m})},l.match(/\.js$/)?(d=l.split("/").pop().replace(".js",""),t.jsonp({url:l,async:!1,callbackName:d,callback:f})):t.makeAjaxRequest({url:l,postData:M,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(F){var H=o(F);f(H)},error:function(F,H){var U;try{U="HTTP "+F.status+" attempting to load TileSource: "+l}catch{var J;typeof H>"u"||!H.toString?J="Unknown error":J=H.toString(),U=J+" attempting to load TileSource: "+l}t.console.error(U),u.raiseEvent("open-failed",{message:U,source:l,postData:M})}})},supports:function(l,u){return!1},configure:function(l,u,d){throw new Error("Method not implemented.")},getTileUrl:function(l,u,d){throw new Error("Method not implemented.")},getTilePostData:function(l,u,d){return null},getTileAjaxHeaders:function(l,u,d){return{}},getTileHashKey:function(l,u,d,f,m,v){function _(k){return m?k+"+"+JSON.stringify(m):k}return _(typeof f!="string"?l+"/"+u+"_"+d:f)},tileExists:function(l,u,d){var f=this.getNumTiles(l);return l>=this.minLevel&&l<=this.maxLevel&&u>=0&&d>=0&&u<f.x&&d<f.y},hasTransparency:function(l,u,d,f){return!!l||u.match(".png")},downloadTileStart:function(l){var u=l.userData,d=new Image;u.image=d,u.request=null;var f=function(m){if(!d){l.finish(null,u.request,"Image load failed: undefined Image instance.");return}d.onload=d.onerror=d.onabort=null,l.finish(m?null:d,u.request,m)};d.onload=function(){f()},d.onabort=d.onerror=function(){f("Image load aborted.")},l.loadWithAjax?u.request=t.makeAjaxRequest({url:l.src,withCredentials:l.ajaxWithCredentials,headers:l.ajaxHeaders,responseType:"arraybuffer",postData:l.postData,success:function(m){var v;try{v=new window.Blob([m.response])}catch(C){var _=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(C.name==="TypeError"&&_){var k=new _;k.append(m.response),v=k.getBlob()}}v.size===0?f("Empty image response."):d.src=(window.URL||window.webkitURL).createObjectURL(v)},error:function(m){f("Image load aborted - XHR error")}}):(l.crossOriginPolicy!==!1&&(d.crossOrigin=l.crossOriginPolicy),d.src=l.src)},downloadTileAbort:function(l){l.userData.request&&l.userData.request.abort();var u=l.userData.image;l.userData.image&&(u.onload=u.onerror=u.onabort=null)},createTileCache:function(l,u,d){l._data=u},destroyTileCache:function(l){l._data=null,l._renderedContext=null},getTileCacheData:function(l){return l._data},getTileCacheDataAsImage:function(l){return l._data},getTileCacheDataAsContext2D:function(l){if(!l._renderedContext){var u=document.createElement("canvas");u.width=l._data.width,u.height=l._data.height,l._renderedContext=u.getContext("2d"),l._renderedContext.drawImage(l._data,0,0),l._data=null}return l._renderedContext}},t.extend(!0,t.TileSource.prototype,t.EventSource.prototype);function o(l){var u=l.responseText,d=l.status,f,m;if(l){if(l.status!==200&&l.status!==0)throw d=l.status,f=d===404?"Not Found":l.statusText,new Error(t.getString("Errors.Status",d,f))}else throw new Error(t.getString("Errors.Security"));if(u.match(/\s*<.*/))try{m=l.responseXML&&l.responseXML.documentElement?l.responseXML:t.parseXml(u)}catch{m=l.responseText}else if(u.match(/\s*[{[].*/))try{m=t.parseJSON(u)}catch{m=u}else m=u;return m}t.TileSource.determineType=function(l,u,d){var f;for(f in r)if(f.match(/.+TileSource$/)&&t.isFunction(r[f])&&t.isFunction(r[f].prototype.supports)&&r[f].prototype.supports.call(l,u,d))return r[f];return t.console.error("No TileSource was able to open %s %s",d,u),null}}(r),function(t){t.DziTileSource=function(u,d,f,m,v,_,k,C,M){var I,F,H,U;if(t.isPlainObject(u)?U=u:U={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=U.tilesUrl,this.fileFormat=U.fileFormat,this.displayRects=U.displayRects,this.displayRects)for(I=this.displayRects.length-1;I>=0;I--)for(F=this.displayRects[I],H=F.minLevel;H<=F.maxLevel;H++)this._levelRects[H]||(this._levelRects[H]=[]),this._levelRects[H].push(F);t.TileSource.apply(this,[U])},t.extend(t.DziTileSource.prototype,t.TileSource.prototype,{supports:function(u,d){var f;return u.Image?f=u.Image.xmlns:u.documentElement&&(u.documentElement.localName==="Image"||u.documentElement.tagName==="Image")&&(f=u.documentElement.namespaceURI),f=(f||"").toLowerCase(),f.indexOf("schemas.microsoft.com/deepzoom/2008")!==-1||f.indexOf("schemas.microsoft.com/deepzoom/2009")!==-1},configure:function(u,d,f){var m;return t.isPlainObject(u)?m=l(this,u):m=o(this,u),d&&!m.tilesUrl&&(m.tilesUrl=d.replace(/([^/]+?)(\.(dzi|xml|js)?(\?[^/]*)?)?\/?$/,"$1_files/"),d.search(/\.(dzi|xml|js)\?/)!==-1?m.queryParams=d.match(/\?.*/):m.queryParams=""),m},getTileUrl:function(u,d,f){return[this.tilesUrl,u,"/",d,"_",f,".",this.fileFormat,this.queryParams].join("")},tileExists:function(u,d,f){var m=this._levelRects[u],v,_,k,C,M,I,F;if(this.minLevel&&u<this.minLevel||this.maxLevel&&u>this.maxLevel)return!1;if(!m||!m.length)return!0;for(F=m.length-1;F>=0;F--)if(v=m[F],!(u<v.minLevel||u>v.maxLevel)&&(_=this.getLevelScale(u),k=v.x*_,C=v.y*_,M=k+v.width*_,I=C+v.height*_,k=Math.floor(k/this._tileWidth),C=Math.floor(C/this._tileWidth),M=Math.ceil(M/this._tileWidth),I=Math.ceil(I/this._tileWidth),k<=d&&d<M&&C<=f&&f<I))return!0;return!1}});function o(u,d){if(!d||!d.documentElement)throw new Error(t.getString("Errors.Xml"));var f=d.documentElement,m=f.localName||f.tagName,v=d.documentElement.namespaceURI,_=null,k=[],C,M,I,F,H;if(m==="Image")try{if(F=f.getElementsByTagName("Size")[0],F===void 0&&(F=f.getElementsByTagNameNS(v,"Size")[0]),_={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:f.getAttribute("Url"),Format:f.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(f.getAttribute("Overlap"),10),TileSize:parseInt(f.getAttribute("TileSize"),10),Size:{Height:parseInt(F.getAttribute("Height"),10),Width:parseInt(F.getAttribute("Width"),10)}}},!t.imageFormatSupported(_.Image.Format))throw new Error(t.getString("Errors.ImageFormat",_.Image.Format.toUpperCase()));for(C=f.getElementsByTagName("DisplayRect"),C===void 0&&(C=f.getElementsByTagNameNS(v,"DisplayRect")[0]),H=0;H<C.length;H++)M=C[H],I=M.getElementsByTagName("Rect")[0],I===void 0&&(I=M.getElementsByTagNameNS(v,"Rect")[0]),k.push({Rect:{X:parseInt(I.getAttribute("X"),10),Y:parseInt(I.getAttribute("Y"),10),Width:parseInt(I.getAttribute("Width"),10),Height:parseInt(I.getAttribute("Height"),10),MinLevel:parseInt(M.getAttribute("MinLevel"),10),MaxLevel:parseInt(M.getAttribute("MaxLevel"),10)}});return k.length&&(_.Image.DisplayRect=k),l(u,_)}catch(G){throw G instanceof Error?G:new Error(t.getString("Errors.Dzi"))}else{if(m==="Collection")throw new Error(t.getString("Errors.Dzc"));if(m==="Error"){var U=f.getElementsByTagName("Message")[0],J=U.firstChild.nodeValue;throw new Error(J)}}throw new Error(t.getString("Errors.Dzi"))}function l(u,d){var f=d.Image,m=f.Url,v=f.Format,_=f.Size,k=f.DisplayRect||[],C=parseInt(_.Width,10),M=parseInt(_.Height,10),I=parseInt(f.TileSize,10),F=parseInt(f.Overlap,10),H=[],U,J;for(J=0;J<k.length;J++)U=k[J].Rect,H.push(new t.DisplayRect(parseInt(U.X,10),parseInt(U.Y,10),parseInt(U.Width,10),parseInt(U.Height,10),parseInt(U.MinLevel,10),parseInt(U.MaxLevel,10)));return t.extend(!0,{width:C,height:M,tileSize:I,tileOverlap:F,minLevel:null,maxLevel:null,tilesUrl:m,fileFormat:v,displayRects:H},d)}}(r),function(t){t.IIIFTileSource=function(f){if(t.extend(!0,this,f),this._id=this["@id"]||this.id||this.identifier||null,!(this.height&&this.width&&this._id))throw new Error("IIIF required parameters (width, height, or id) not provided.");if(f.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=f.version,this.tile_width&&this.tile_height)f.tileWidth=this.tile_width,f.tileHeight=this.tile_height;else if(this.tile_width)f.tileSize=this.tile_width;else if(this.tile_height)f.tileSize=this.tile_height;else if(this.tiles)if(this.tiles.length===1)f.tileWidth=this.tiles[0].width,f.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var m=0;m<this.tiles.length;m++)for(var v=0;v<this.tiles[m].scaleFactors.length;v++){var _=this.tiles[m].scaleFactors[v];this.scale_factors.push(_),f.tileSizePerScaleFactor[_]={width:this.tiles[m].width,height:this.tiles[m].height||this.tiles[m].width}}}else if(o(f)){for(var k=Math.min(this.height,this.width),C=[256,512,1024],M=[],I=0;I<C.length;I++)C[I]<=k&&M.push(C[I]);M.length>0?f.tileSize=Math.max.apply(null,M):f.tileSize=k}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,f.levels=l(this),t.extend(!0,f,{width:f.levels[f.levels.length-1].width,height:f.levels[f.levels.length-1].height,tileSize:Math.max(f.height,f.width),tileOverlap:0,minLevel:0,maxLevel:f.levels.length-1}),this.levels=f.levels):t.console.error("Nothing in the info.json to construct image pyramids from");if(!f.maxLevel&&!this.emulateLegacyImagePyramid)if(!this.scale_factors)f.maxLevel=Number(Math.round(Math.log(Math.max(this.width,this.height),2)));else{var F=Math.max.apply(null,this.scale_factors);f.maxLevel=Math.round(Math.log(F)*Math.LOG2E)}t.TileSource.apply(this,[f])},t.extend(t.IIIFTileSource.prototype,t.TileSource.prototype,{supports:function(f,m){return f.protocol&&f.protocol==="http://iiif.io/api/image"||f["@context"]&&(f["@context"]==="http://library.stanford.edu/iiif/image-api/1.1/context.json"||f["@context"]==="http://iiif.io/api/image/1/context.json")||f.profile&&f.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")===0||f.identifier&&f.width&&f.height?!0:!!(f.documentElement&&f.documentElement.tagName==="info"&&f.documentElement.namespaceURI==="http://library.stanford.edu/iiif/image-api/ns/")},configure:function(f,m,v){if(t.isPlainObject(f)){if(!f["@context"])f["@context"]="http://iiif.io/api/image/1.0/context.json",f["@id"]=m.replace("/info.json",""),f.version=1;else{var k=f["@context"];if(Array.isArray(k)){for(var C=0;C<k.length;C++)if(typeof k[C]=="string"&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(k[C])||k[C]==="http://library.stanford.edu/iiif/image-api/1.1/context.json")){k=k[C];break}}switch(k){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":f.version=1;break;case"http://iiif.io/api/image/2/context.json":f.version=2;break;case"http://iiif.io/api/image/3/context.json":f.version=3;break;default:t.console.error("Data has a @context property which contains no known IIIF context URI.")}}if(f.preferredFormats){for(var M=0;M<f.preferredFormats.length;M++)if(r.imageFormatSupported(f.preferredFormats[M])){f.tileFormat=f.preferredFormats[M];break}}return f}else{var _=u(f);return _["@context"]="http://iiif.io/api/image/1.0/context.json",_["@id"]=m.replace("/info.xml",""),_.version=1,_}},getTileWidth:function(f){if(this.emulateLegacyImagePyramid)return t.TileSource.prototype.getTileWidth.call(this,f);var m=Math.pow(2,this.maxLevel-f);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[m]?this.tileSizePerScaleFactor[m].width:this._tileWidth},getTileHeight:function(f){if(this.emulateLegacyImagePyramid)return t.TileSource.prototype.getTileHeight.call(this,f);var m=Math.pow(2,this.maxLevel-f);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[m]?this.tileSizePerScaleFactor[m].height:this._tileHeight},getLevelScale:function(f){if(this.emulateLegacyImagePyramid){var m=NaN;return this.levels.length>0&&f>=this.minLevel&&f<=this.maxLevel&&(m=this.levels[f].width/this.levels[this.maxLevel].width),m}return t.TileSource.prototype.getLevelScale.call(this,f)},getNumTiles:function(f){if(this.emulateLegacyImagePyramid){var m=this.getLevelScale(f);return m?new t.Point(1,1):new t.Point(0,0)}return t.TileSource.prototype.getNumTiles.call(this,f)},getTileAtPoint:function(f,m){return this.emulateLegacyImagePyramid?new t.Point(0,0):t.TileSource.prototype.getTileAtPoint.call(this,f,m)},getTileUrl:function(f,m,v){if(this.emulateLegacyImagePyramid){var _=null;return this.levels.length>0&&f>=this.minLevel&&f<=this.maxLevel&&(_=this.levels[f].url),_}var k="0",C=Math.pow(.5,this.maxLevel-f),M=Math.round(this.width*C),I=Math.round(this.height*C),F,H,U,J,G,Z,at,mt,ft,ot,V,nt,ut,gt;return F=this.getTileWidth(f),H=this.getTileHeight(f),U=Math.round(F/C),J=Math.round(H/C),this.version===1?ut="native."+this.tileFormat:ut="default."+this.tileFormat,M<F&&I<H?(this.version===2&&M===this.width?ot="full":this.version===3&&M===this.width&&I===this.height?ot="max":this.version===3?ot=M+","+I:ot=M+",",G="full"):(Z=m*U,at=v*J,mt=Math.min(U,this.width-Z),ft=Math.min(J,this.height-at),m===0&&v===0&&mt===this.width&&ft===this.height?G="full":G=[Z,at,mt,ft].join(","),V=Math.round(mt*C),nt=Math.round(ft*C),this.version===2&&V===this.width?ot="full":this.version===3&&V===this.width&&nt===this.height?ot="max":this.version===3?ot=V+","+nt:ot=V+","),gt=[this._id,G,ot,k,ut].join("/"),gt},__testonly__:{canBeTiled:o,constructLevels:l}});function o(f){var m=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"],v=Array.isArray(f.profile)?f.profile[0]:f.profile,_=m.indexOf(v)!==-1,k=!1;return f.version===2&&f.profile.length>1&&f.profile[1].supports&&(k=f.profile[1].supports.indexOf("sizeByW")!==-1),f.version===3&&f.extraFeatures&&(k=f.extraFeatures.indexOf("sizeByWh")!==-1),!_||k}function l(f){for(var m=[],v=0;v<f.sizes.length;v++)m.push({url:f._id+"/full/"+f.sizes[v].width+","+(f.version===3?f.sizes[v].height:"")+"/0/default."+f.tileFormat,width:f.sizes[v].width,height:f.sizes[v].height});return m.sort(function(_,k){return _.width-k.width})}function u(f){if(!f||!f.documentElement)throw new Error(t.getString("Errors.Xml"));var m=f.documentElement,v=m.tagName,_=null;if(v==="info")try{return _={},d(m,_),_}catch(k){throw k instanceof Error?k:new Error(t.getString("Errors.IIIF"))}throw new Error(t.getString("Errors.IIIF"))}function d(f,m,v){var _,k;if(f.nodeType===3&&v)k=f.nodeValue.trim(),k.match(/^\d*$/)&&(k=Number(k)),m[v]?(t.isArray(m[v])||(m[v]=[m[v]]),m[v].push(k)):m[v]=k;else if(f.nodeType===1)for(_=0;_<f.childNodes.length;_++)d(f.childNodes[_],m,f.nodeName)}}(r),function(t){t.OsmTileSource=function(o,l,u,d,f){var m;t.isPlainObject(o)?m=o:m={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},(!m.width||!m.height)&&(m.width=65572864,m.height=65572864),m.tileSize||(m.tileSize=256,m.tileOverlap=0),m.tilesUrl||(m.tilesUrl="http://tile.openstreetmap.org/"),m.minLevel=8,t.TileSource.apply(this,[m])},t.extend(t.OsmTileSource.prototype,t.TileSource.prototype,{supports:function(o,l){return o.type&&o.type==="openstreetmaps"},configure:function(o,l,u){return o},getTileUrl:function(o,l,u){return this.tilesUrl+(o-8)+"/"+l+"/"+u+".png"}})}(r),function(t){t.TmsTileSource=function(o,l,u,d,f){var m;t.isPlainObject(o)?m=o:m={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var v=Math.ceil(m.width/256)*256,_=Math.ceil(m.height/256)*256,k;v>_?k=v/256:k=_/256,m.maxLevel=Math.ceil(Math.log(k)/Math.log(2))-1,m.tileSize=256,m.width=v,m.height=_,t.TileSource.apply(this,[m])},t.extend(t.TmsTileSource.prototype,t.TileSource.prototype,{supports:function(o,l){return o.type&&o.type==="tiledmapservice"},configure:function(o,l,u){return o},getTileUrl:function(o,l,u){var d=this.getNumTiles(o).y-1;return this.tilesUrl+o+"/"+l+"/"+(d-u)+".png"}})}(r),function(t){t.ZoomifyTileSource=function(o){typeof o.tileSize>"u"&&(o.tileSize=256),typeof o.fileFormat>"u"&&(o.fileFormat="jpg",this.fileFormat=o.fileFormat);var l={x:o.width,y:o.height};for(o.imageSizes=[{x:o.width,y:o.height}],o.gridSize=[this._getGridSize(o.width,o.height,o.tileSize)];parseInt(l.x,10)>o.tileSize||parseInt(l.y,10)>o.tileSize;)l.x=Math.floor(l.x/2),l.y=Math.floor(l.y/2),o.imageSizes.push({x:l.x,y:l.y}),o.gridSize.push(this._getGridSize(l.x,l.y,o.tileSize));o.imageSizes.reverse(),o.gridSize.reverse(),o.minLevel=0,o.maxLevel=o.gridSize.length-1,r.TileSource.apply(this,[o])},t.extend(t.ZoomifyTileSource.prototype,t.TileSource.prototype,{_getGridSize:function(o,l,u){return{x:Math.ceil(o/u),y:Math.ceil(l/u)}},_calculateAbsoluteTileNumber:function(o,l,u){for(var d=0,f={},m=0;m<o;m++)f=this.gridSize[m],d+=f.x*f.y;return f=this.gridSize[o],d+=f.x*u+l,d},supports:function(o,l){return o.type&&o.type==="zoomifytileservice"},configure:function(o,l,u){return o},getTileUrl:function(o,l,u){var d=0,f=this._calculateAbsoluteTileNumber(o,l,u);return d=Math.floor(f/256),this.tilesUrl+"TileGroup"+d+"/"+o+"-"+l+"-"+u+"."+this.fileFormat}})}(r),function(t){t.LegacyTileSource=function(d){var f,m,v;t.isArray(d)&&(f={type:"legacy-image-pyramid",levels:d}),f.levels=o(f.levels),f.levels.length>0?(m=f.levels[f.levels.length-1].width,v=f.levels[f.levels.length-1].height):(m=0,v=0,t.console.error("No supported image formats found")),t.extend(!0,f,{width:m,height:v,tileSize:Math.max(v,m),tileOverlap:0,minLevel:0,maxLevel:f.levels.length>0?f.levels.length-1:0}),t.TileSource.apply(this,[f]),this.levels=f.levels},t.extend(t.LegacyTileSource.prototype,t.TileSource.prototype,{supports:function(d,f){return d.type&&d.type==="legacy-image-pyramid"||d.documentElement&&d.documentElement.getAttribute("type")==="legacy-image-pyramid"},configure:function(d,f,m){var v;return t.isPlainObject(d)?v=u(this,d):v=l(this,d),v},getLevelScale:function(d){var f=NaN;return this.levels.length>0&&d>=this.minLevel&&d<=this.maxLevel&&(f=this.levels[d].width/this.levels[this.maxLevel].width),f},getNumTiles:function(d){var f=this.getLevelScale(d);return f?new t.Point(1,1):new t.Point(0,0)},getTileUrl:function(d,f,m){var v=null;return this.levels.length>0&&d>=this.minLevel&&d<=this.maxLevel&&(v=this.levels[d].url),v}});function o(d){var f=[],m,v;for(v=0;v<d.length;v++)m=d[v],m.height&&m.width&&m.url?f.push({url:m.url,width:Number(m.width),height:Number(m.height)}):t.console.error("Unsupported image format: %s",m.url?m.url:"<no URL>");return f.sort(function(_,k){return _.height-k.height})}function l(d,f){if(!f||!f.documentElement)throw new Error(t.getString("Errors.Xml"));var m=f.documentElement,v=m.tagName,_=null,k=[],C,M;if(v==="image")try{for(_={type:m.getAttribute("type"),levels:[]},k=m.getElementsByTagName("level"),M=0;M<k.length;M++)C=k[M],_.levels.push({url:C.getAttribute("url"),width:parseInt(C.getAttribute("width"),10),height:parseInt(C.getAttribute("height"),10)});return u(d,_)}catch(I){throw I instanceof Error?I:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if(v==="collection")throw new Error("Legacy Image Pyramid Collections not yet supported.");if(v==="error")throw new Error("Error: "+f)}throw new Error("Unknown element "+v)}function u(d,f){return f.levels}}(r),function(t){t.ImageTileSource=function(o){o=t.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},o),t.TileSource.apply(this,[o])},t.extend(t.ImageTileSource.prototype,t.TileSource.prototype,{supports:function(o,l){return o.type&&o.type==="image"},configure:function(o,l,u){return o},getImageInfo:function(o){var l=this._image=new Image,u=this;this.crossOriginPolicy&&(l.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(l.useCredentials=this.ajaxWithCredentials),t.addEvent(l,"load",function(){u.width=l.naturalWidth,u.height=l.naturalHeight,u.aspectRatio=u.width/u.height,u.dimensions=new t.Point(u.width,u.height),u._tileWidth=u.width,u._tileHeight=u.height,u.tileOverlap=0,u.minLevel=0,u.levels=u._buildLevels(),u.maxLevel=u.levels.length-1,u.ready=!0,u.raiseEvent("ready",{tileSource:u})}),t.addEvent(l,"error",function(){u.raiseEvent("open-failed",{message:"Error loading image at "+o,source:o})}),l.src=o},getLevelScale:function(o){var l=NaN;return o>=this.minLevel&&o<=this.maxLevel&&(l=this.levels[o].width/this.levels[this.maxLevel].width),l},getNumTiles:function(o){var l=this.getLevelScale(o);return l?new t.Point(1,1):new t.Point(0,0)},getTileUrl:function(o,l,u){var d=null;return o>=this.minLevel&&o<=this.maxLevel&&(d=this.levels[o].url),d},getContext2D:function(o,l,u){var d=null;return o>=this.minLevel&&o<=this.maxLevel&&(d=this.levels[o].context2D),d},destroy:function(){this._freeupCanvasMemory()},_buildLevels:function(){var o=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!t.supportsCanvas||!this.useCanvas)return delete this._image,o;var l=this._image.naturalWidth,u=this._image.naturalHeight,d=document.createElement("canvas"),f=d.getContext("2d");if(d.width=l,d.height=u,f.drawImage(this._image,0,0,l,u),o[0].context2D=f,delete this._image,t.isCanvasTainted(d))return o;for(;l>=2&&u>=2;){l=Math.floor(l/2),u=Math.floor(u/2);var m=document.createElement("canvas"),v=m.getContext("2d");m.width=l,m.height=u,v.drawImage(d,0,0,l,u),o.splice(0,0,{context2D:v,width:l,height:u}),d=m,f=v}return o},_freeupCanvasMemory:function(){for(var o=0;o<this.levels.length;o++)this.levels[o].context2D&&(this.levels[o].context2D.canvas.height=0,this.levels[o].context2D.canvas.width=0)}})}(r),function(t){t.TileSourceCollection=function(o,l,u,d){t.console.error("TileSourceCollection is deprecated; use World instead")}}(r),function(t){t.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},t.Button=function(v){var _=this;t.EventSource.call(this),t.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:t.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null,userData:null},v),this.element=v.element||t.makeNeutralElement("div"),v.element||(this.imgRest=t.makeTransparentImage(this.srcRest),this.imgGroup=t.makeTransparentImage(this.srcGroup),this.imgHover=t.makeTransparentImage(this.srcHover),this.imgDown=t.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,t.setElementPointerEventsNone(this.imgRest),t.setElementPointerEventsNone(this.imgGroup),t.setElementPointerEventsNone(this.imgHover),t.setElementPointerEventsNone(this.imgDown),this.element.style.position="relative",t.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",t.Browser.vendor===t.BROWSERS.FIREFOX&&t.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=t.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new t.MouseTracker({userData:"Button.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(k){k.insideElementPressed?(f(_,t.ButtonState.DOWN),_.raiseEvent("enter",{originalEvent:k.originalEvent})):k.buttonDownAny||f(_,t.ButtonState.HOVER)},focusHandler:function(k){_.tracker.enterHandler(k),_.raiseEvent("focus",{originalEvent:k.originalEvent})},leaveHandler:function(k){m(_,t.ButtonState.GROUP),k.insideElementPressed&&_.raiseEvent("exit",{originalEvent:k.originalEvent})},blurHandler:function(k){_.tracker.leaveHandler(k),_.raiseEvent("blur",{originalEvent:k.originalEvent})},pressHandler:function(k){f(_,t.ButtonState.DOWN),_.raiseEvent("press",{originalEvent:k.originalEvent})},releaseHandler:function(k){k.insideElementPressed&&k.insideElementReleased?(m(_,t.ButtonState.HOVER),_.raiseEvent("release",{originalEvent:k.originalEvent})):k.insideElementPressed?m(_,t.ButtonState.GROUP):f(_,t.ButtonState.HOVER)},clickHandler:function(k){k.quick&&_.raiseEvent("click",{originalEvent:k.originalEvent})},keyHandler:function(k){k.keyCode===13?(_.raiseEvent("click",{originalEvent:k.originalEvent}),_.raiseEvent("release",{originalEvent:k.originalEvent}),k.preventDefault=!0):k.preventDefault=!1}}),m(this,t.ButtonState.REST)},t.extend(t.Button.prototype,t.EventSource.prototype,{notifyGroupEnter:function(){f(this,t.ButtonState.GROUP)},notifyGroupExit:function(){m(this,t.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,this.tracker.setTracking(!1),t.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,this.tracker.setTracking(!0),t.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()},destroy:function(){this.imgRest&&(this.element.removeChild(this.imgRest),this.imgRest=null),this.imgGroup&&(this.element.removeChild(this.imgGroup),this.imgGroup=null),this.imgHover&&(this.element.removeChild(this.imgHover),this.imgHover=null),this.imgDown&&(this.element.removeChild(this.imgDown),this.imgDown=null),this.removeAllHandlers(),this.tracker.destroy(),this.element=null}});function o(v){t.requestAnimationFrame(function(){l(v)})}function l(v){var _,k,C;v.shouldFade&&(_=t.now(),k=_-v.fadeBeginTime,C=1-k/v.fadeLength,C=Math.min(1,C),C=Math.max(0,C),v.imgGroup&&t.setElementOpacity(v.imgGroup,C,!0),C>0&&o(v))}function u(v){v.shouldFade=!0,v.fadeBeginTime=t.now()+v.fadeDelay,window.setTimeout(function(){o(v)},v.fadeDelay)}function d(v){v.shouldFade=!1,v.imgGroup&&t.setElementOpacity(v.imgGroup,1,!0)}function f(v,_){v.element.disabled||(_>=t.ButtonState.GROUP&&v.currentState===t.ButtonState.REST&&(d(v),v.currentState=t.ButtonState.GROUP),_>=t.ButtonState.HOVER&&v.currentState===t.ButtonState.GROUP&&(v.imgHover&&(v.imgHover.style.visibility=""),v.currentState=t.ButtonState.HOVER),_>=t.ButtonState.DOWN&&v.currentState===t.ButtonState.HOVER&&(v.imgDown&&(v.imgDown.style.visibility=""),v.currentState=t.ButtonState.DOWN))}function m(v,_){v.element.disabled||(_<=t.ButtonState.HOVER&&v.currentState===t.ButtonState.DOWN&&(v.imgDown&&(v.imgDown.style.visibility="hidden"),v.currentState=t.ButtonState.HOVER),_<=t.ButtonState.GROUP&&v.currentState===t.ButtonState.HOVER&&(v.imgHover&&(v.imgHover.style.visibility="hidden"),v.currentState=t.ButtonState.GROUP),_<=t.ButtonState.REST&&v.currentState===t.ButtonState.GROUP&&(u(v),v.currentState=t.ButtonState.REST))}}(r),function(t){t.ButtonGroup=function(o){t.extend(!0,this,{buttons:[],clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:t.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},o);var l=this.buttons.concat([]),u=this,d;if(this.element=o.element||t.makeNeutralElement("div"),!o.group)for(this.element.style.display="inline-block",d=0;d<l.length;d++)this.element.appendChild(l[d].element);t.setElementTouchActionNone(this.element),this.tracker=new t.MouseTracker({userData:"ButtonGroup.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(f){var m;for(m=0;m<u.buttons.length;m++)u.buttons[m].notifyGroupEnter()},leaveHandler:function(f){var m;if(!f.insideElementPressed)for(m=0;m<u.buttons.length;m++)u.buttons[m].notifyGroupExit()}})},t.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateLeave:function(){this.tracker.leaveHandler({eventSource:this.tracker})},destroy:function(){for(;this.buttons.length;){var o=this.buttons.pop();this.element.removeChild(o.element),o.destroy()}this.tracker.destroy(),this.element=null}}}(r),function(t){t.Rect=function(o,l,u,d,f){this.x=typeof o=="number"?o:0,this.y=typeof l=="number"?l:0,this.width=typeof u=="number"?u:0,this.height=typeof d=="number"?d:0,this.degrees=typeof f=="number"?f:0,this.degrees=t.positiveModulo(this.degrees,360);var m,v;this.degrees>=270?(m=this.getTopRight(),this.x=m.x,this.y=m.y,v=this.height,this.height=this.width,this.width=v,this.degrees-=270):this.degrees>=180?(m=this.getBottomRight(),this.x=m.x,this.y=m.y,this.degrees-=180):this.degrees>=90&&(m=this.getBottomLeft(),this.x=m.x,this.y=m.y,v=this.height,this.height=this.width,this.width=v,this.degrees-=90)},t.Rect.fromSummits=function(o,l,u){var d=o.distanceTo(l),f=o.distanceTo(u),m=l.minus(o),v=Math.atan(m.y/m.x);return m.x<0?v+=Math.PI:m.y<0&&(v+=2*Math.PI),new t.Rect(o.x,o.y,d,f,v/Math.PI*180)},t.Rect.prototype={clone:function(){return new t.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new t.Point(this.x,this.y)},getBottomRight:function(){return new t.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new t.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new t.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new t.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new t.Point(this.width,this.height)},equals:function(o){return o instanceof t.Rect&&this.x===o.x&&this.y===o.y&&this.width===o.width&&this.height===o.height&&this.degrees===o.degrees},times:function(o){return new t.Rect(this.x*o,this.y*o,this.width*o,this.height*o,this.degrees)},translate:function(o){return new t.Rect(this.x+o.x,this.y+o.y,this.width,this.height,this.degrees)},union:function(o){var l=this.getBoundingBox(),u=o.getBoundingBox(),d=Math.min(l.x,u.x),f=Math.min(l.y,u.y),m=Math.max(l.x+l.width,u.x+u.width),v=Math.max(l.y+l.height,u.y+u.height);return new t.Rect(d,f,m-d,v-f)},intersection:function(o){var l=1e-10,u=[],d=this.getTopLeft();o.containsPoint(d,l)&&u.push(d);var f=this.getTopRight();o.containsPoint(f,l)&&u.push(f);var m=this.getBottomLeft();o.containsPoint(m,l)&&u.push(m);var v=this.getBottomRight();o.containsPoint(v,l)&&u.push(v);var _=o.getTopLeft();this.containsPoint(_,l)&&u.push(_);var k=o.getTopRight();this.containsPoint(k,l)&&u.push(k);var C=o.getBottomLeft();this.containsPoint(C,l)&&u.push(C);var M=o.getBottomRight();this.containsPoint(M,l)&&u.push(M);for(var I=this._getSegments(),F=o._getSegments(),H=0;H<I.length;H++)for(var U=I[H],J=0;J<F.length;J++){var G=F[J],Z=at(U[0],U[1],G[0],G[1]);Z&&u.push(Z)}function at(gt,Jt,re,Xt){var Ct=Jt.minus(gt),Kt=Xt.minus(re),Zt=-Kt.x*Ct.y+Ct.x*Kt.y;if(Zt===0)return null;var Pe=(Ct.x*(gt.y-re.y)-Ct.y*(gt.x-re.x))/Zt,bt=(Kt.x*(gt.y-re.y)-Kt.y*(gt.x-re.x))/Zt;return-l<=Pe&&Pe<=1-l&&-l<=bt&&bt<=1-l?new t.Point(gt.x+bt*Ct.x,gt.y+bt*Ct.y):null}if(u.length===0)return null;for(var mt=u[0].x,ft=u[0].x,ot=u[0].y,V=u[0].y,nt=1;nt<u.length;nt++){var ut=u[nt];ut.x<mt&&(mt=ut.x),ut.x>ft&&(ft=ut.x),ut.y<ot&&(ot=ut.y),ut.y>V&&(V=ut.y)}return new t.Rect(mt,ot,ft-mt,V-ot)},_getSegments:function(){var o=this.getTopLeft(),l=this.getTopRight(),u=this.getBottomLeft(),d=this.getBottomRight();return[[o,l],[l,d],[d,u],[u,o]]},rotate:function(o,l){if(o=t.positiveModulo(o,360),o===0)return this.clone();l=l||this.getCenter();var u=this.getTopLeft().rotate(o,l),d=this.getTopRight().rotate(o,l),f=d.minus(u);f=f.apply(function(v){var _=1e-15;return Math.abs(v)<_?0:v});var m=Math.atan(f.y/f.x);return f.x<0?m+=Math.PI:f.y<0&&(m+=2*Math.PI),new t.Rect(u.x,u.y,this.width,this.height,m/Math.PI*180)},getBoundingBox:function(){if(this.degrees===0)return this.clone();var o=this.getTopLeft(),l=this.getTopRight(),u=this.getBottomLeft(),d=this.getBottomRight(),f=Math.min(o.x,l.x,u.x,d.x),m=Math.max(o.x,l.x,u.x,d.x),v=Math.min(o.y,l.y,u.y,d.y),_=Math.max(o.y,l.y,u.y,d.y);return new t.Rect(f,v,m-f,_-v)},getIntegerBoundingBox:function(){var o=this.getBoundingBox(),l=Math.floor(o.x),u=Math.floor(o.y),d=Math.ceil(o.width+o.x-l),f=Math.ceil(o.height+o.y-u);return new t.Rect(l,u,d,f)},containsPoint:function(o,l){l=l||0;var u=this.getTopLeft(),d=this.getTopRight(),f=this.getBottomLeft(),m=d.minus(u),v=f.minus(u);return(o.x-u.x)*m.x+(o.y-u.y)*m.y>=-l&&(o.x-d.x)*m.x+(o.y-d.y)*m.y<=l&&(o.x-u.x)*v.x+(o.y-u.y)*v.y>=-l&&(o.x-f.x)*v.x+(o.y-f.y)*v.y<=l},toString:function(){return"["+Math.round(this.x*100)/100+", "+Math.round(this.y*100)/100+", "+Math.round(this.width*100)/100+"x"+Math.round(this.height*100)/100+", "+Math.round(this.degrees*100)/100+"deg]"}}}(r),function(t){var o={};t.ReferenceStrip=function(C){var M=this,I=C.viewer,F=t.getElementSize(I.element),H,U,J;for(C.id||(C.id="referencestrip-"+t.now(),this.element=t.makeNeutralElement("div"),this.element.id=C.id,this.element.className="referencestrip"),C=t.extend(!0,{sizeRatio:t.DEFAULT_SETTINGS.referenceStripSizeRatio,position:t.DEFAULT_SETTINGS.referenceStripPosition,scroll:t.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold},C,{element:this.element}),t.extend(this,C),o[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,this.element.tabIndex=0,U=this.element.style,U.marginTop="0px",U.marginRight="0px",U.marginBottom="0px",U.marginLeft="0px",U.left="0px",U.bottom="0px",U.border="0px",U.background="#000",U.position="relative",t.setElementTouchActionNone(this.element),t.setElementOpacity(this.element,.8),this.viewer=I,this.tracker=new t.MouseTracker({userData:"ReferenceStrip.tracker",element:this.element,clickHandler:t.delegate(this,l),dragHandler:t.delegate(this,u),scrollHandler:t.delegate(this,d),enterHandler:t.delegate(this,m),leaveHandler:t.delegate(this,v),keyDownHandler:t.delegate(this,_),keyHandler:t.delegate(this,k),preProcessEventHandler:function(G){G.eventType==="wheel"&&(G.preventDefault=!0)}}),C.width&&C.height?(this.element.style.width=C.width+"px",this.element.style.height=C.height+"px",I.addControl(this.element,{anchor:t.ControlAnchor.BOTTOM_LEFT})):C.scroll==="horizontal"?(this.element.style.width=F.x*C.sizeRatio*I.tileSources.length+12*I.tileSources.length+"px",this.element.style.height=F.y*C.sizeRatio+"px",I.addControl(this.element,{anchor:t.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=F.y*C.sizeRatio*I.tileSources.length+12*I.tileSources.length+"px",this.element.style.width=F.x*C.sizeRatio+"px",I.addControl(this.element,{anchor:t.ControlAnchor.TOP_LEFT})),this.panelWidth=F.x*this.sizeRatio+8,this.panelHeight=F.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},J=0;J<I.tileSources.length;J++)H=t.makeNeutralElement("div"),H.id=this.element.id+"-"+J,H.style.width=M.panelWidth+"px",H.style.height=M.panelHeight+"px",H.style.display="inline",H.style.float="left",H.style.cssFloat="left",H.style.styleFloat="left",H.style.padding="2px",t.setElementTouchActionNone(H),t.setElementPointerEventsNone(H),this.element.appendChild(H),H.activePanel=!1,this.panels.push(H);f(this,this.scroll==="vertical"?F.y:F.x,0),this.setFocus(0)},t.ReferenceStrip.prototype={setFocus:function(C){var M=this.element.querySelector("#"+this.element.id+"-"+C),I=t.getElementSize(this.viewer.canvas),F=Number(this.element.style.width.replace("px","")),H=Number(this.element.style.height.replace("px","")),U=-Number(this.element.style.marginLeft.replace("px","")),J=-Number(this.element.style.marginTop.replace("px","")),G;this.currentSelected!==M&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=M,this.currentSelected.style.background="#999",this.scroll==="horizontal"?(G=Number(C)*(this.panelWidth+3),G>U+I.x-this.panelWidth?(G=Math.min(G,F-I.x),this.element.style.marginLeft=-G+"px",f(this,I.x,-G)):G<U&&(G=Math.max(0,G-I.x/2),this.element.style.marginLeft=-G+"px",f(this,I.x,-G))):(G=Number(C)*(this.panelHeight+3),G>J+I.y-this.panelHeight?(G=Math.min(G,H-I.y),this.element.style.marginTop=-G+"px",f(this,I.y,-G)):G<J&&(G=Math.max(0,G-I.y/2),this.element.style.marginTop=-G+"px",f(this,I.y,-G))),this.currentPage=C,m.call(this,{eventSource:this.tracker}))},update:function(){return!!o[this.id].animating},destroy:function(){if(this.miniViewers)for(var C in this.miniViewers)this.miniViewers[C].destroy();this.tracker.destroy(),this.element&&this.viewer.removeControl(this.element)}};function l(C){if(C.quick){var M;this.scroll==="horizontal"?M=Math.floor(C.position.x/this.panelWidth):M=Math.floor(C.position.y/this.panelHeight),this.viewer.goToPage(M)}this.element.focus()}function u(C){if(this.dragging=!0,this.element){var M=Number(this.element.style.marginLeft.replace("px","")),I=Number(this.element.style.marginTop.replace("px","")),F=Number(this.element.style.width.replace("px","")),H=Number(this.element.style.height.replace("px","")),U=t.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?-C.delta.x>0?M>-(F-U.x)&&(this.element.style.marginLeft=M+C.delta.x*2+"px",f(this,U.x,M+C.delta.x*2)):-C.delta.x<0&&M<0&&(this.element.style.marginLeft=M+C.delta.x*2+"px",f(this,U.x,M+C.delta.x*2)):-C.delta.y>0?I>-(H-U.y)&&(this.element.style.marginTop=I+C.delta.y*2+"px",f(this,U.y,I+C.delta.y*2)):-C.delta.y<0&&I<0&&(this.element.style.marginTop=I+C.delta.y*2+"px",f(this,U.y,I+C.delta.y*2))}}function d(C){if(this.element){var M=Number(this.element.style.marginLeft.replace("px","")),I=Number(this.element.style.marginTop.replace("px","")),F=Number(this.element.style.width.replace("px","")),H=Number(this.element.style.height.replace("px","")),U=t.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?C.scroll>0?M>-(F-U.x)&&(this.element.style.marginLeft=M-C.scroll*60+"px",f(this,U.x,M-C.scroll*60)):C.scroll<0&&M<0&&(this.element.style.marginLeft=M-C.scroll*60+"px",f(this,U.x,M-C.scroll*60)):C.scroll<0?I>U.y-H&&(this.element.style.marginTop=I+C.scroll*60+"px",f(this,U.y,I+C.scroll*60)):C.scroll>0&&I<0&&(this.element.style.marginTop=I+C.scroll*60+"px",f(this,U.y,I+C.scroll*60)),C.preventDefault=!0}}function f(C,M,I){var F,H,U,J,G,Z;for(C.scroll==="horizontal"?F=C.panelWidth:F=C.panelHeight,H=Math.ceil(M/F)+5,U=Math.ceil((Math.abs(I)+M)/F)+1,H=U-H,H=H<0?0:H,G=H;G<U&&G<C.panels.length;G++)if(Z=C.panels[G],!Z.activePanel){var at,mt=C.viewer.tileSources[G];mt.referenceStripThumbnailUrl?at={type:"image",url:mt.referenceStripThumbnailUrl}:at=mt,J=new t.Viewer({id:Z.id,tileSources:[at],element:Z,navigatorSizeRatio:C.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:C.viewer.loadTilesWithAjax,ajaxHeaders:C.viewer.ajaxHeaders,useCanvas:C.useCanvas}),t.setElementPointerEventsNone(J.canvas),t.setElementPointerEventsNone(J.container),J.innerTracker.setTracking(!1),J.outerTracker.setTracking(!1),C.miniViewers[Z.id]=J,Z.activePanel=!0}}function m(C){var M=C.eventSource.element;this.scroll==="horizontal"?M.style.marginBottom="0px":M.style.marginLeft="0px"}function v(C){var M=C.eventSource.element;this.scroll==="horizontal"?M.style.marginBottom="-"+t.getElementSize(M).y/2+"px":M.style.marginLeft="-"+t.getElementSize(M).x/2+"px"}function _(C){if(!C.ctrl&&!C.alt&&!C.meta)switch(C.keyCode){case 38:d.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;case 40:d.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 37:d.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 39:d.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;default:C.preventDefault=!1;break}else C.preventDefault=!1}function k(C){if(!C.ctrl&&!C.alt&&!C.meta)switch(C.keyCode){case 61:d.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;case 45:d.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 48:case 119:case 87:d.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;case 115:case 83:d.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 97:d.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 100:d.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;default:C.preventDefault=!1;break}else C.preventDefault=!1}}(r),function(t){t.DisplayRect=function(o,l,u,d,f,m){t.Rect.apply(this,[o,l,u,d]),this.minLevel=f,this.maxLevel=m},t.extend(t.DisplayRect.prototype,t.Rect.prototype)}(r),function(t){t.Spring=function(l){var u=arguments;typeof l!="object"&&(l={initial:u.length&&typeof u[0]=="number"?u[0]:void 0,springStiffness:u.length>1?u[1].springStiffness:5,animationTime:u.length>1?u[1].animationTime:1.5}),t.console.assert(typeof l.springStiffness=="number"&&l.springStiffness!==0,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),t.console.assert(typeof l.animationTime=="number"&&l.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),l.exponential&&(this._exponential=!0,delete l.exponential),t.extend(!0,this,l),this.current={value:typeof this.initial=="number"?this.initial:this._exponential?0:1,time:t.now()},t.console.assert(!this._exponential||this.current.value!==0,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},t.Spring.prototype={resetTo:function(l){t.console.assert(!this._exponential||l!==0,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=l,this.start.time=this.target.time=this.current.time=t.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(l){t.console.assert(!this._exponential||l!==0,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=l,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(l){this.start.value+=l,this.target.value+=l,this._exponential&&(t.console.assert(this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(l){this._exponential=l,this._exponential&&(t.console.assert(this.current.value!==0&&this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){this.current.time=t.now();var l,u;this._exponential?(l=this.start._logValue,u=this.target._logValue):(l=this.start.value,u=this.target.value);var d=this.current.time>=this.target.time?u:l+(u-l)*o(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),f=this.current.value;return this._exponential?this.current.value=Math.exp(d):this.current.value=d,f!==this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}};function o(l,u){return(1-Math.exp(l*-u))/(1-Math.exp(-l))}}(r),function(t){t.ImageJob=function(l){t.extend(!0,this,{timeout:t.DEFAULT_SETTINGS.timeout,jobId:null},l),this.data=null,this.userData={},this.errorMsg=null},t.ImageJob.prototype={start:function(){var l=this,u=this.abort;this.jobId=window.setTimeout(function(){l.finish(null,null,"Image load exceeded timeout ("+l.timeout+" ms)")},this.timeout),this.abort=function(){l.source.downloadTileAbort(l),typeof u=="function"&&u()},this.source.downloadTileStart(this)},finish:function(l,u,d){this.data=l,this.request=u,this.errorMsg=d,this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},t.ImageLoader=function(l){t.extend(!0,this,{jobLimit:t.DEFAULT_SETTINGS.imageLoaderLimit,timeout:t.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},l)},t.ImageLoader.prototype={addJob:function(l){if(!l.source){t.console.error("ImageLoader.prototype.addJob() requires [options.source]. TileSource since new API defines how images are fetched. Creating a dummy TileSource.");var u=t.TileSource.prototype;l.source={downloadTileStart:u.downloadTileStart,downloadTileAbort:u.downloadTileAbort}}var d=this,f=function(_){o(d,_,l.callback)},m={src:l.src,tile:l.tile||{},source:l.source,loadWithAjax:l.loadWithAjax,ajaxHeaders:l.loadWithAjax?l.ajaxHeaders:null,crossOriginPolicy:l.crossOriginPolicy,ajaxWithCredentials:l.ajaxWithCredentials,postData:l.postData,callback:f,abort:l.abort,timeout:this.timeout},v=new t.ImageJob(m);!this.jobLimit||this.jobsInProgress<this.jobLimit?(v.start(),this.jobsInProgress++):this.jobQueue.push(v)},clear:function(){for(var l=0;l<this.jobQueue.length;l++){var u=this.jobQueue[l];typeof u.abort=="function"&&u.abort()}this.jobQueue=[]}};function o(l,u,d){var f;l.jobsInProgress--,(!l.jobLimit||l.jobsInProgress<l.jobLimit)&&l.jobQueue.length>0&&(f=l.jobQueue.shift(),f.start(),l.jobsInProgress++),d(u.data,u.errorMsg,u.request)}}(r),function(t){t.Tile=function(o,l,u,d,f,m,v,_,k,C,M,I){this.level=o,this.x=l,this.y=u,this.bounds=d,this.sourceBounds=C,this.exists=f,this._url=m,this.postData=M,this.context2D=v,this.loadWithAjax=_,this.ajaxHeaders=k,I===void 0&&(t.console.warn("Tile constructor needs 'cacheKey' variable: creation tile cache in Tile class is deprecated. TileSource.prototype.getTileHashKey will be used."),I=t.TileSource.prototype.getTileHashKey(o,l,u,m,k,M)),this.cacheKey=I,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.style=null,this.position=null,this.size=null,this.flipped=!1,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.hasTransparency=!1,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},t.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return console.warn("Tile.prototype._hasTransparencyChannel() has been deprecated and will be removed in the future. Use TileSource.prototype.hasTransparency() instead."),!!this.context2D||this.getUrl().match(".png")},drawHTML:function(o){if(!this.cacheImageRecord){t.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString());return}if(!this.loaded){t.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}if(!this.element){var l=this.getImage();if(!l)return;this.element=t.makeNeutralElement("div"),this.imgElement=l.cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"}this.element.parentNode!==o&&o.appendChild(this.element),this.imgElement.parentNode!==this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",this.flipped&&(this.style.transform="scaleX(-1)"),t.setElementOpacity(this.element,this.opacity)},get image(){return t.console.error("[Tile.image] property has been deprecated. Use [Tile.prototype.getImage] instead."),this.getImage()},get url(){return t.console.error("[Tile.url] property has been deprecated. Use [Tile.prototype.getUrl] instead."),this.getUrl()},getImage:function(){return this.cacheImageRecord.getImage()},getUrl:function(){return typeof this._url=="function"?this._url():this._url},getCanvasContext:function(){return this.context2D||this.cacheImageRecord.getRenderedContext()},drawCanvas:function(o,l,u,d,f,m){var v=this.position.times(t.pixelDensityRatio),_=this.size.times(t.pixelDensityRatio),k;if(!this.context2D&&!this.cacheImageRecord){t.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString());return}if(k=this.getCanvasContext(),!this.loaded||!k){t.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}o.save(),o.globalAlpha=this.opacity,typeof u=="number"&&u!==1&&(v=v.times(u),_=_.times(u)),d instanceof t.Point&&(v=v.plus(d)),o.globalAlpha===1&&this.hasTransparency&&(f&&(v.x=Math.round(v.x),v.y=Math.round(v.y),_.x=Math.round(_.x),_.y=Math.round(_.y)),o.clearRect(v.x,v.y,_.x,_.y)),l({context:o,tile:this,rendered:k});var C,M;this.sourceBounds?(C=Math.min(this.sourceBounds.width,k.canvas.width),M=Math.min(this.sourceBounds.height,k.canvas.height)):(C=k.canvas.width,M=k.canvas.height),o.translate(v.x+_.x/2,0),this.flipped&&o.scale(-1,1),o.drawImage(k.canvas,0,0,C,M,-_.x/2,v.y,_.x,_.y),o.restore()},getScaleForEdgeSmoothing:function(){var o;if(this.cacheImageRecord)o=this.cacheImageRecord.getRenderedContext();else if(this.context2D)o=this.context2D;else return t.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;return o.canvas.width/(this.size.x*t.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(o,l,u){var d=Math.max(1,Math.ceil((u.x-l.x)/2)),f=Math.max(1,Math.ceil((u.y-l.y)/2));return new t.Point(d,f).minus(this.position.times(t.pixelDensityRatio).times(o||1).apply(function(m){return m%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(r),function(t){t.OverlayPlacement=t.Placement,t.OverlayRotationMode=t.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),t.Overlay=function(o,l,u){var d;t.isPlainObject(o)?d=o:d={element:o,location:l,placement:u},this.element=d.element,this.style=d.element.style,this._init(d)},t.Overlay.prototype={_init:function(o){this.location=o.location,this.placement=o.placement===void 0?t.Placement.TOP_LEFT:o.placement,this.onDraw=o.onDraw,this.checkResize=o.checkResize===void 0?!0:o.checkResize,this.width=o.width===void 0?null:o.width,this.height=o.height===void 0?null:o.height,this.rotationMode=o.rotationMode||t.OverlayRotationMode.EXACT,this.location instanceof t.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=t.Placement.TOP_LEFT),this.scales=this.width!==null&&this.height!==null,this.bounds=new t.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(o,l){var u=t.Placement.properties[this.placement];u&&(u.isHorizontallyCentered?o.x-=l.x/2:u.isRight&&(o.x-=l.x),u.isVerticallyCentered?o.y-=l.y/2:u.isBottom&&(o.y-=l.y))},destroy:function(){var o=this.element,l=this.style;o.parentNode&&(o.parentNode.removeChild(o),o.prevElementParent&&(l.display="none",document.body.appendChild(o))),this.onDraw=null,l.top="",l.left="",l.position="",this.width!==null&&(l.width=""),this.height!==null&&(l.height="");var u=t.getCssPropertyWithVendorPrefix("transformOrigin"),d=t.getCssPropertyWithVendorPrefix("transform");u&&d&&(l[u]="",l[d]="")},drawHTML:function(o,l){var u=this.element;u.parentNode!==o&&(u.prevElementParent=u.parentNode,u.prevNextSibling=u.nextSibling,o.appendChild(u),this.style.position="absolute",this.size=t.getElementSize(u));var d=this._getOverlayPositionAndSize(l),f=d.position,m=this.size=d.size,v=d.rotate;if(this.onDraw)this.onDraw(f,m,this.element);else{var _=this.style;_.left=f.x+"px",_.top=f.y+"px",this.width!==null&&(_.width=m.x+"px"),this.height!==null&&(_.height=m.y+"px");var k=t.getCssPropertyWithVendorPrefix("transformOrigin"),C=t.getCssPropertyWithVendorPrefix("transform");k&&C&&(v?(_[k]=this._getTransformOrigin(),_[C]="rotate("+v+"deg)"):(_[k]="",_[C]="")),_.display="block"}},_getOverlayPositionAndSize:function(o){var l=o.pixelFromPoint(this.location,!0),u=this._getSizeInPixels(o);this.adjust(l,u);var d=0;if(o.getRotation(!0)&&this.rotationMode!==t.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===t.OverlayRotationMode.BOUNDING_BOX&&this.width!==null&&this.height!==null){var f=new t.Rect(l.x,l.y,u.x,u.y),m=this._getBoundingBox(f,o.getRotation(!0));l=m.getTopLeft(),u=m.getSize()}else d=o.getRotation(!0);return{position:l,size:u,rotate:d}},_getSizeInPixels:function(o){var l=this.size.x,u=this.size.y;if(this.width!==null||this.height!==null){var d=o.deltaPixelsFromPointsNoRotate(new t.Point(this.width||0,this.height||0),!0);this.width!==null&&(l=d.x),this.height!==null&&(u=d.y)}if(this.checkResize&&(this.width===null||this.height===null)){var f=this.size=t.getElementSize(this.element);this.width===null&&(l=f.x),this.height===null&&(u=f.y)}return new t.Point(l,u)},_getBoundingBox:function(o,l){var u=this._getPlacementPoint(o);return o.rotate(l,u).getBoundingBox()},_getPlacementPoint:function(o){var l=new t.Point(o.x,o.y),u=t.Placement.properties[this.placement];return u&&(u.isHorizontallyCentered?l.x+=o.width/2:u.isRight&&(l.x+=o.width),u.isVerticallyCentered?l.y+=o.height/2:u.isBottom&&(l.y+=o.height)),l},_getTransformOrigin:function(){var o="",l=t.Placement.properties[this.placement];return l&&(l.isLeft?o="left":l.isRight&&(o="right"),l.isTop?o+=" top":l.isBottom&&(o+=" bottom")),o},update:function(o,l){var u=t.isPlainObject(o)?o:{location:o,placement:l};this._init({location:u.location||this.location,placement:u.placement!==void 0?u.placement:this.placement,onDraw:u.onDraw||this.onDraw,checkResize:u.checkResize||this.checkResize,width:u.width!==void 0?u.width:this.width,height:u.height!==void 0?u.height:this.height,rotationMode:u.rotationMode||this.rotationMode})},getBounds:function(o){t.console.assert(o,"A viewport must now be passed to Overlay.getBounds.");var l=this.width,u=this.height;if(l===null||u===null){var d=o.deltaPointsFromPixelsNoRotate(this.size,!0);l===null&&(l=d.x),u===null&&(u=d.y)}var f=this.location.clone();return this.adjust(f,new t.Point(l,u)),this._adjustBoundsForRotation(o,new t.Rect(f.x,f.y,l,u))},_adjustBoundsForRotation:function(o,l){if(!o||o.getRotation(!0)===0||this.rotationMode===t.OverlayRotationMode.EXACT)return l;if(this.rotationMode===t.OverlayRotationMode.BOUNDING_BOX){if(this.width===null||this.height===null)return l;var u=this._getOverlayPositionAndSize(o);return o.viewerElementToViewportRectangle(new t.Rect(u.position.x,u.position.y,u.size.x,u.size.y))}return l.rotate(-o.getRotation(!0),this._getPlacementPoint(l))}}}(r),function(t){t.Drawer=function(o){t.console.assert(o.viewer,"[Drawer] options.viewer is required");var l=arguments;if(t.isPlainObject(o)||(o={source:l[0],viewport:l[1],element:l[2]}),t.console.assert(o.viewport,"[Drawer] options.viewport is required"),t.console.assert(o.element,"[Drawer] options.element is required"),o.source&&t.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=o.viewer,this.viewport=o.viewport,this.debugGridColor=typeof o.debugGridColor=="string"?[o.debugGridColor]:o.debugGridColor||t.DEFAULT_SETTINGS.debugGridColor,o.opacity&&t.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=t.supportsCanvas&&(this.viewer?this.viewer.useCanvas:!0),this.container=t.getElement(o.element),this.canvas=t.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var u=this._calculateCanvasSize();this.canvas.width=u.x,this.canvas.height=u.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",t.setElementOpacity(this.canvas,this.opacity,!0),t.setElementPointerEventsNone(this.canvas),t.setElementTouchActionNone(this.canvas),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},t.Drawer.prototype={addOverlay:function(o,l,u,d){return t.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(o,l,u,d),this},updateOverlay:function(o,l,u){return t.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(o,l,u),this},removeOverlay:function(o){return t.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(o),this},clearOverlays:function(){return t.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},viewportCoordToDrawerCoord:function(o){var l=this.viewport.pixelFromPointNoRotate(o,!0);return new t.Point(l.x*t.pixelDensityRatio,l.y*t.pixelDensityRatio)},clipWithPolygons:function(o,l){if(this.useCanvas){var u=this._getContext(l);u.beginPath(),o.forEach(function(d){d.forEach(function(f,m){u[m===0?"moveTo":"lineTo"](f.x,f.y)})}),u.clip()}},setOpacity:function(o){t.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var l=this.viewer.world,u=0;u<l.getItemCount();u++)l.getItemAt(u).setOpacity(o);return this},getOpacity:function(){t.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var o=this.viewer.world,l=0,u=0;u<o.getItemCount();u++){var d=o.getItemAt(u).getOpacity();d>l&&(l=d)}return l},needsUpdate:function(){return t.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return t.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return t.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return t.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var o=this._calculateCanvasSize();if((this.canvas.width!==o.x||this.canvas.height!==o.y)&&(this.canvas.width=o.x,this.canvas.height=o.y,this._updateImageSmoothingEnabled(this.context),this.sketchCanvas!==null)){var l=this._calculateSketchCanvasSize();this.sketchCanvas.width=l.x,this.sketchCanvas.height=l.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(o,l){if(this.useCanvas){var u=this._getContext(o);if(l)u.clearRect(l.x,l.y,l.width,l.height);else{var d=u.canvas;u.clearRect(0,0,d.width,d.height)}}},viewportToDrawerRectangle:function(o){var l=this.viewport.pixelFromPointNoRotate(o.getTopLeft(),!0),u=this.viewport.deltaPixelsFromPointsNoRotate(o.getSize(),!0);return new t.Rect(l.x*t.pixelDensityRatio,l.y*t.pixelDensityRatio,u.x*t.pixelDensityRatio,u.y*t.pixelDensityRatio)},drawTile:function(o,l,u,d,f,m,v){if(t.console.assert(o,"[Drawer.drawTile] tile is required"),t.console.assert(l,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var _=this._getContext(u);d=d||1,o.drawCanvas(_,l,d,f,m,v)}else o.drawHTML(this.canvas)},_getContext:function(o){var l=this.context;if(o){if(this.sketchCanvas===null){this.sketchCanvas=document.createElement("canvas");var u=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=u.x,this.sketchCanvas.height=u.y,this.sketchContext=this.sketchCanvas.getContext("2d"),this.viewport.getRotation()===0){var d=this;this.viewer.addHandler("rotate",function f(){if(d.viewport.getRotation()!==0){d.viewer.removeHandler("rotate",f);var m=d._calculateSketchCanvasSize();d.sketchCanvas.width=m.x,d.sketchCanvas.height=m.y}})}this._updateImageSmoothingEnabled(this.sketchContext)}l=this.sketchContext}return l},saveContext:function(o){this.useCanvas&&this._getContext(o).save()},restoreContext:function(o){this.useCanvas&&this._getContext(o).restore()},setClip:function(o,l){if(this.useCanvas){var u=this._getContext(l);u.beginPath(),u.rect(o.x,o.y,o.width,o.height),u.clip()}},drawRectangle:function(o,l,u){if(this.useCanvas){var d=this._getContext(u);d.save(),d.fillStyle=l,d.fillRect(o.x,o.y,o.width,o.height),d.restore()}},blendSketch:function(o,l,u,d){var f=o;if(t.isPlainObject(f)||(f={opacity:o,scale:l,translate:u,compositeOperation:d}),!(!this.useCanvas||!this.sketchCanvas)){o=f.opacity,d=f.compositeOperation;var m=f.bounds;if(this.context.save(),this.context.globalAlpha=o,d&&(this.context.globalCompositeOperation=d),m)m.x<0&&(m.width+=m.x,m.x=0),m.x+m.width>this.canvas.width&&(m.width=this.canvas.width-m.x),m.y<0&&(m.height+=m.y,m.y=0),m.y+m.height>this.canvas.height&&(m.height=this.canvas.height-m.y),this.context.drawImage(this.sketchCanvas,m.x,m.y,m.width,m.height,m.x,m.y,m.width,m.height);else{l=f.scale||1,u=f.translate;var v=u instanceof t.Point?u:new t.Point(0,0),_=0,k=0;if(u){var C=this.sketchCanvas.width-this.canvas.width,M=this.sketchCanvas.height-this.canvas.height;_=Math.round(C/2),k=Math.round(M/2)}this.context.drawImage(this.sketchCanvas,v.x-_*l,v.y-k*l,(this.canvas.width+2*_)*l,(this.canvas.height+2*k)*l,-_,-k,this.canvas.width+2*_,this.canvas.height+2*k)}this.context.restore()}},drawDebugInfo:function(o,l,u,d){if(this.useCanvas){var f=this.viewer.world.getIndexOfItem(d)%this.debugGridColor.length,m=this.context;m.save(),m.lineWidth=2*t.pixelDensityRatio,m.font="small-caps bold "+13*t.pixelDensityRatio+"px arial",m.strokeStyle=this.debugGridColor[f],m.fillStyle=this.debugGridColor[f],this.viewport.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:this.viewport.getRotation(!0)}),d.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:d.getRotation(!0),point:d.viewport.pixelFromPointNoRotate(d._getRotationPoint(!0),!0)}),d.viewport.getRotation(!0)%360===0&&d.getRotation(!0)%360===0&&d._drawer.viewer.viewport.getFlip()&&d._drawer._flip(),m.strokeRect(o.position.x*t.pixelDensityRatio,o.position.y*t.pixelDensityRatio,o.size.x*t.pixelDensityRatio,o.size.y*t.pixelDensityRatio);var v=(o.position.x+o.size.x/2)*t.pixelDensityRatio,_=(o.position.y+o.size.y/2)*t.pixelDensityRatio;m.translate(v,_),m.rotate(Math.PI/180*-this.viewport.getRotation(!0)),m.translate(-v,-_),o.x===0&&o.y===0&&(m.fillText("Zoom: "+this.viewport.getZoom(),o.position.x*t.pixelDensityRatio,(o.position.y-30)*t.pixelDensityRatio),m.fillText("Pan: "+this.viewport.getBounds().toString(),o.position.x*t.pixelDensityRatio,(o.position.y-20)*t.pixelDensityRatio)),m.fillText("Level: "+o.level,(o.position.x+10)*t.pixelDensityRatio,(o.position.y+20)*t.pixelDensityRatio),m.fillText("Column: "+o.x,(o.position.x+10)*t.pixelDensityRatio,(o.position.y+30)*t.pixelDensityRatio),m.fillText("Row: "+o.y,(o.position.x+10)*t.pixelDensityRatio,(o.position.y+40)*t.pixelDensityRatio),m.fillText("Order: "+u+" of "+l,(o.position.x+10)*t.pixelDensityRatio,(o.position.y+50)*t.pixelDensityRatio),m.fillText("Size: "+o.size.toString(),(o.position.x+10)*t.pixelDensityRatio,(o.position.y+60)*t.pixelDensityRatio),m.fillText("Position: "+o.position.toString(),(o.position.x+10)*t.pixelDensityRatio,(o.position.y+70)*t.pixelDensityRatio),this.viewport.getRotation(!0)%360!==0&&this._restoreRotationChanges(),d.getRotation(!0)%360!==0&&this._restoreRotationChanges(),d.viewport.getRotation(!0)%360===0&&d.getRotation(!0)%360===0&&d._drawer.viewer.viewport.getFlip()&&d._drawer._flip(),m.restore()}},debugRect:function(o){if(this.useCanvas){var l=this.context;l.save(),l.lineWidth=2*t.pixelDensityRatio,l.strokeStyle=this.debugGridColor[0],l.fillStyle=this.debugGridColor[0],l.strokeRect(o.x*t.pixelDensityRatio,o.y*t.pixelDensityRatio,o.width*t.pixelDensityRatio,o.height*t.pixelDensityRatio),l.restore()}},setImageSmoothingEnabled:function(o){this.useCanvas&&(this._imageSmoothingEnabled=o,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(o){o.msImageSmoothingEnabled=this._imageSmoothingEnabled,o.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(o){var l=this._getContext(o).canvas;return new t.Point(l.width,l.height)},getCanvasCenter:function(){return new t.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(o){var l=o.point?o.point.times(t.pixelDensityRatio):this.getCanvasCenter(),u=this._getContext(o.useSketch);u.save(),u.translate(l.x,l.y),this.viewer.viewport.flipped?(u.rotate(Math.PI/180*-o.degrees),u.scale(-1,1)):u.rotate(Math.PI/180*o.degrees),u.translate(-l.x,-l.y)},_flip:function(o){o=o||{};var l=o.point?o.point.times(t.pixelDensityRatio):this.getCanvasCenter(),u=this._getContext(o.useSketch);u.translate(l.x,0),u.scale(-1,1),u.translate(-l.x,0)},_restoreRotationChanges:function(o){var l=this._getContext(o);l.restore()},_calculateCanvasSize:function(){var o=t.pixelDensityRatio,l=this.viewport.getContainerSize();return{x:Math.round(l.x*o),y:Math.round(l.y*o)}},_calculateSketchCanvasSize:function(){var o=this._calculateCanvasSize();if(this.viewport.getRotation()===0)return o;var l=Math.ceil(Math.sqrt(o.x*o.x+o.y*o.y));return{x:l,y:l}}}}(r),function(t){t.Viewport=function(o){var l=arguments;l.length&&l[0]instanceof t.Point&&(o={containerSize:l[0],contentSize:l[1],config:l[2]}),o.config&&(t.extend(!0,o,o.config),delete o.config),this._margins=t.extend({left:0,top:0,right:0,bottom:0},o.margins||{}),delete o.margins,o.initialDegrees=o.degrees,delete o.degrees,t.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,rotationPivot:null,viewer:null,springStiffness:t.DEFAULT_SETTINGS.springStiffness,animationTime:t.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:t.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:t.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:t.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:t.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:t.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:t.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:t.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:t.DEFAULT_SETTINGS.maxZoomLevel,initialDegrees:t.DEFAULT_SETTINGS.degrees,flipped:t.DEFAULT_SETTINGS.flipped,homeFillsViewer:t.DEFAULT_SETTINGS.homeFillsViewer,silenceMultiImageWarnings:t.DEFAULT_SETTINGS.silenceMultiImageWarnings},o),this._updateContainerInnerSize(),this.centerSpringX=new t.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new t.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new t.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.degreesSpring=new t.Spring({initial:o.initialDegrees,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,this._setContentBounds(new t.Rect(0,0,1,1),1),this.goHome(!0),this.update()},t.Viewport.prototype={get degrees(){return t.console.warn("Accessing [Viewport.degrees] is deprecated. Use viewport.getRotation instead."),this.getRotation()},set degrees(o){t.console.warn("Setting [Viewport.degrees] is deprecated. Use viewport.rotateTo, viewport.rotateBy, or viewport.setRotation instead."),this.rotateTo(o)},resetContentSize:function(o){return t.console.assert(o,"[Viewport.resetContentSize] contentSize is required"),t.console.assert(o instanceof t.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),t.console.assert(o.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),t.console.assert(o.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new t.Rect(0,0,1,o.y/o.x),o.x),this},setHomeBounds:function(o,l){t.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(o,l)},_setContentBounds:function(o,l){t.console.assert(o,"[Viewport._setContentBounds] bounds is required"),t.console.assert(o instanceof t.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),t.console.assert(o.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),t.console.assert(o.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=o.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(l),this._contentBounds=o.rotate(this.getRotation()).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(l),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:l,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var o=this._contentAspectRatio/this.getAspectRatio(),l;return this.homeFillsViewer?l=o>=1?o:1:l=o>=1?1:o,l/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var o=this._contentBounds.getCenter(),l=1/this.getHomeZoom(),u=l/this.getAspectRatio();return new t.Rect(o.x-l/2,o.y-u/2,l,u)},goHome:function(o){return this.viewer&&this.viewer.raiseEvent("home",{immediately:o}),this.fitBounds(this.getHomeBounds(),o)},getMinZoom:function(){var o=this.getHomeZoom(),l=this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*o;return l},getMaxZoom:function(){var o=this.maxZoomLevel;return o||(o=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,o/=this._contentBounds.width),Math.max(o,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new t.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return t.extend({},this._margins)},setMargins:function(o){t.console.assert(t.type(o)==="object","[Viewport.setMargins] margins must be an object"),this._margins=t.extend({left:0,top:0,right:0,bottom:0},o),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(o){return this.getBoundsNoRotate(o).rotate(-this.getRotation(o))},getBoundsNoRotate:function(o){var l=this.getCenter(o),u=1/this.getZoom(o),d=u/this.getAspectRatio();return new t.Rect(l.x-u/2,l.y-d/2,u,d)},getBoundsWithMargins:function(o){return this.getBoundsNoRotateWithMargins(o).rotate(-this.getRotation(o),this.getCenter(o))},getBoundsNoRotateWithMargins:function(o){var l=this.getBoundsNoRotate(o),u=this._containerInnerSize.x*this.getZoom(o);return l.x-=this._margins.left/u,l.y-=this._margins.top/u,l.width+=(this._margins.left+this._margins.right)/u,l.height+=(this._margins.top+this._margins.bottom)/u,l},getCenter:function(o){var l=new t.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),u=new t.Point(this.centerSpringX.target.value,this.centerSpringY.target.value),d,f,m,v,_,k,C,M;return o?l:this.zoomPoint?(d=this.pixelFromPoint(this.zoomPoint,!0),f=this.getZoom(),m=1/f,v=m/this.getAspectRatio(),_=new t.Rect(l.x-m/2,l.y-v/2,m,v),k=this._pixelFromPoint(this.zoomPoint,_),C=k.minus(d).rotate(-this.getRotation(!0)),M=C.divide(this._containerInnerSize.x*f),u.plus(M)):u},getZoom:function(o){return o?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(o){return Math.max(Math.min(o,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(o){var l=this.viewportToViewerElementRectangle(o).getBoundingBox(),u=this.viewportToViewerElementRectangle(this._contentBoundsNoRotate).getBoundingBox(),d=!1,f=!1;if(!this.wrapHorizontal){var m=l.x+l.width,v=u.x+u.width,_,k,C;l.width>u.width?_=this.visibilityRatio*u.width:_=this.visibilityRatio*l.width,k=u.x-m+_,C=v-l.x-_,_>u.width?(l.x+=(k+C)/2,d=!0):C<0?(l.x+=C,d=!0):k>0&&(l.x+=k,d=!0)}if(!this.wrapVertical){var M=l.y+l.height,I=u.y+u.height,F,H,U;l.height>u.height?F=this.visibilityRatio*u.height:F=this.visibilityRatio*l.height,H=u.y-M+F,U=I-l.y-F,F>u.height?(l.y+=(H+U)/2,f=!0):U<0?(l.y+=U,f=!0):H>0&&(l.y+=H,f=!0)}var J=d||f,G=J?this.viewerElementToViewportRectangle(l):o.clone();return G.xConstrained=d,G.yConstrained=f,G.constraintApplied=J,G},_raiseConstraintsEvent:function(o){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:o})},applyConstraints:function(o){var l=this.getZoom(),u=this._applyZoomConstraints(l);l!==u&&this.zoomTo(u,this.zoomPoint,o);var d=this.getConstrainedBounds(!1);return d.constraintApplied&&(this.fitBounds(d,o),this._raiseConstraintsEvent(o)),this},ensureVisible:function(o){return this.applyConstraints(o)},_fitBounds:function(o,l){l=l||{};var u=l.immediately||!1,d=l.constraints||!1,f=this.getAspectRatio(),m=o.getCenter(),v=new t.Rect(o.x,o.y,o.width,o.height,o.degrees+this.getRotation()).getBoundingBox();v.getAspectRatio()>=f?v.height=v.width/f:v.width=v.height*f,v.x=m.x-v.width/2,v.y=m.y-v.height/2;var _=1/v.width;if(u)return this.panTo(m,!0),this.zoomTo(_,null,!0),d&&this.applyConstraints(!0),this;var k=this.getCenter(!0),C=this.getZoom(!0);this.panTo(k,!0),this.zoomTo(C,null,!0);var M=this.getBounds(),I=this.getZoom();if(I===0||Math.abs(_/I-1)<1e-8)return this.zoomTo(_,null,!0),this.panTo(m,u),d&&this.applyConstraints(!1),this;if(d){this.panTo(m,!1),this.zoomTo(_,null,!1);var F=this.getConstrainedBounds();this.panTo(k,!0),this.zoomTo(C,null,!0),this.fitBounds(F)}else{var H=v.rotate(-this.getRotation()),U=H.getTopLeft().times(_).minus(M.getTopLeft().times(I)).divide(_-I);this.zoomTo(_,U,u)}return this},fitBounds:function(o,l){return this._fitBounds(o,{immediately:l,constraints:!1})},fitBoundsWithConstraints:function(o,l){return this._fitBounds(o,{immediately:l,constraints:!0})},fitVertically:function(o){var l=new t.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(l,o)},fitHorizontally:function(o){var l=new t.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(l,o)},getConstrainedBounds:function(o){var l,u;return l=this.getBounds(o),u=this._applyBoundaryConstraints(l),u},panBy:function(o,l){var u=new t.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(u.plus(o),l)},panTo:function(o,l){return l?(this.centerSpringX.resetTo(o.x),this.centerSpringY.resetTo(o.y)):(this.centerSpringX.springTo(o.x),this.centerSpringY.springTo(o.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:o,immediately:l}),this},zoomBy:function(o,l,u){return this.zoomTo(this.zoomSpring.target.value*o,l,u)},zoomTo:function(o,l,u){var d=this;return this.zoomPoint=l instanceof t.Point&&!isNaN(l.x)&&!isNaN(l.y)?l:null,u?this._adjustCenterSpringsForZoomPoint(function(){d.zoomSpring.resetTo(o)}):this.zoomSpring.springTo(o),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:o,refPoint:l,immediately:u}),this},setRotation:function(o,l){return this.rotateTo(o,null,l)},getRotation:function(o){return o?this.degreesSpring.current.value:this.degreesSpring.target.value},setRotationWithPivot:function(o,l,u){return this.rotateTo(o,l,u)},rotateTo:function(o,l,u){if(!this.viewer||!this.viewer.drawer.canRotate())return this;if(this.degreesSpring.target.value===o&&this.degreesSpring.isAtTargetValue())return this;if(this.rotationPivot=l instanceof t.Point&&!isNaN(l.x)&&!isNaN(l.y)?l:null,u)if(this.rotationPivot){var d=o-this._oldDegrees;if(!d)return this.rotationPivot=null,this;this._rotateAboutPivot(o)}else this.degreesSpring.resetTo(o);else{var f=t.positiveModulo(this.degreesSpring.current.value,360),m=t.positiveModulo(o,360),v=m-f;v>180?m-=360:v<-180&&(m+=360);var _=f-m;this.degreesSpring.resetTo(o+_),this.degreesSpring.springTo(o)}return this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:o,immediately:!!u,pivot:this.rotationPivot||this.getCenter()}),this},rotateBy:function(o,l,u){return this.rotateTo(this.degreesSpring.target.value+o,l,u)},resize:function(o,l){var u=this.getBoundsNoRotate(),d=u,f;return this.containerSize.x=o.x,this.containerSize.y=o.y,this._updateContainerInnerSize(),l&&(f=o.x/this.containerSize.x,d.width=u.width*f,d.height=d.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:o,maintain:l}),this.fitBounds(d,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new t.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var o=this;this._adjustCenterSpringsForZoomPoint(function(){o.zoomSpring.update()}),this.degreesSpring.isAtTargetValue()&&(this.rotationPivot=null),this.centerSpringX.update(),this.centerSpringY.update(),this.rotationPivot?this._rotateAboutPivot(!0):this.degreesSpring.update();var l=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom||this.degreesSpring.current.value!==this._oldDegrees;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,l},_rotateAboutPivot:function(o){var l=o===!0,u=this.rotationPivot.minus(this.getCenter());this.centerSpringX.shiftBy(u.x),this.centerSpringY.shiftBy(u.y),l?this.degreesSpring.update():this.degreesSpring.resetTo(o);var d=this.degreesSpring.current.value-this._oldDegrees,f=u.rotate(d*-1).times(-1);this.centerSpringX.shiftBy(f.x),this.centerSpringY.shiftBy(f.y)},_adjustCenterSpringsForZoomPoint:function(o){if(this.zoomPoint){var l=this.pixelFromPoint(this.zoomPoint,!0);o();var u=this.pixelFromPoint(this.zoomPoint,!0),d=u.minus(l),f=this.deltaPointsFromPixels(d,!0);this.centerSpringX.shiftBy(f.x),this.centerSpringY.shiftBy(f.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else o()},deltaPixelsFromPointsNoRotate:function(o,l){return o.times(this._containerInnerSize.x*this.getZoom(l))},deltaPixelsFromPoints:function(o,l){return this.deltaPixelsFromPointsNoRotate(o.rotate(this.getRotation(l)),l)},deltaPointsFromPixelsNoRotate:function(o,l){return o.divide(this._containerInnerSize.x*this.getZoom(l))},deltaPointsFromPixels:function(o,l){return this.deltaPointsFromPixelsNoRotate(o,l).rotate(-this.getRotation(l))},pixelFromPointNoRotate:function(o,l){return this._pixelFromPointNoRotate(o,this.getBoundsNoRotate(l))},pixelFromPoint:function(o,l){return this._pixelFromPoint(o,this.getBoundsNoRotate(l))},_pixelFromPointNoRotate:function(o,l){return o.minus(l.getTopLeft()).times(this._containerInnerSize.x/l.width).plus(new t.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(o,l){return this._pixelFromPointNoRotate(o.rotate(this.getRotation(!0),this.getCenter(!0)),l)},pointFromPixelNoRotate:function(o,l){var u=this.getBoundsNoRotate(l);return o.minus(new t.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/u.width).plus(u.getTopLeft())},pointFromPixel:function(o,l){return this.pointFromPixelNoRotate(o,l).rotate(-this.getRotation(l),this.getCenter(l))},_viewportToImageDelta:function(o,l){var u=this._contentBoundsNoRotate.width;return new t.Point(o*this._contentSizeNoRotate.x/u,l*this._contentSizeNoRotate.x/u)},viewportToImageCoordinates:function(o,l){if(o instanceof t.Point)return this.viewportToImageCoordinates(o.x,o.y);if(this.viewer){var u=this.viewer.world.getItemCount();if(u>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(u===1){var d=this.viewer.world.getItemAt(0);return d.viewportToImageCoordinates(o,l,!0)}}return this._viewportToImageDelta(o-this._contentBoundsNoRotate.x,l-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(o,l){var u=this._contentBoundsNoRotate.width;return new t.Point(o/this._contentSizeNoRotate.x*u,l/this._contentSizeNoRotate.x*u)},imageToViewportCoordinates:function(o,l){if(o instanceof t.Point)return this.imageToViewportCoordinates(o.x,o.y);if(this.viewer){var u=this.viewer.world.getItemCount();if(u>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(u===1){var d=this.viewer.world.getItemAt(0);return d.imageToViewportCoordinates(o,l,!0)}}var f=this._imageToViewportDelta(o,l);return f.x+=this._contentBoundsNoRotate.x,f.y+=this._contentBoundsNoRotate.y,f},imageToViewportRectangle:function(o,l,u,d){var f=o;if(f instanceof t.Rect||(f=new t.Rect(o,l,u,d)),this.viewer){var m=this.viewer.world.getItemCount();if(m>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(m===1){var v=this.viewer.world.getItemAt(0);return v.imageToViewportRectangle(o,l,u,d,!0)}}var _=this.imageToViewportCoordinates(f.x,f.y),k=this._imageToViewportDelta(f.width,f.height);return new t.Rect(_.x,_.y,k.x,k.y,f.degrees)},viewportToImageRectangle:function(o,l,u,d){var f=o;if(f instanceof t.Rect||(f=new t.Rect(o,l,u,d)),this.viewer){var m=this.viewer.world.getItemCount();if(m>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(m===1){var v=this.viewer.world.getItemAt(0);return v.viewportToImageRectangle(o,l,u,d,!0)}}var _=this.viewportToImageCoordinates(f.x,f.y),k=this._viewportToImageDelta(f.width,f.height);return new t.Rect(_.x,_.y,k.x,k.y,f.degrees)},viewerElementToImageCoordinates:function(o){var l=this.pointFromPixel(o,!0);return this.viewportToImageCoordinates(l)},imageToViewerElementCoordinates:function(o){var l=this.imageToViewportCoordinates(o);return this.pixelFromPoint(l,!0)},windowToImageCoordinates:function(o){t.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var l=o.minus(t.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(l)},imageToWindowCoordinates:function(o){t.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer.");var l=this.imageToViewerElementCoordinates(o);return l.plus(t.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(o){return this.pointFromPixel(o,!0)},viewportToViewerElementCoordinates:function(o){return this.pixelFromPoint(o,!0)},viewerElementToViewportRectangle:function(o){return t.Rect.fromSummits(this.pointFromPixel(o.getTopLeft(),!0),this.pointFromPixel(o.getTopRight(),!0),this.pointFromPixel(o.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(o){return t.Rect.fromSummits(this.pixelFromPoint(o.getTopLeft(),!0),this.pixelFromPoint(o.getTopRight(),!0),this.pixelFromPoint(o.getBottomLeft(),!0))},windowToViewportCoordinates:function(o){t.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var l=o.minus(t.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(l)},viewportToWindowCoordinates:function(o){t.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer.");var l=this.viewportToViewerElementCoordinates(o);return l.plus(t.getElementPosition(this.viewer.element))},viewportToImageZoom:function(o){if(this.viewer){var l=this.viewer.world.getItemCount();if(l>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(l===1){var u=this.viewer.world.getItemAt(0);return u.viewportToImageZoom(o)}}var d=this._contentSizeNoRotate.x,f=this._containerInnerSize.x,m=this._contentBoundsNoRotate.width,v=f/d*m;return o*v},imageToViewportZoom:function(o){if(this.viewer){var l=this.viewer.world.getItemCount();if(l>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(l===1){var u=this.viewer.world.getItemAt(0);return u.imageToViewportZoom(o)}}var d=this._contentSizeNoRotate.x,f=this._containerInnerSize.x,m=this._contentBoundsNoRotate.width,v=d/f/m;return o*v},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(o){return this.flipped===o?this:(this.flipped=o,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:o}),this)}}}(r),function(t){t.TiledImage=function(f){var m=this;t.console.assert(f.tileCache,"[TiledImage] options.tileCache is required"),t.console.assert(f.drawer,"[TiledImage] options.drawer is required"),t.console.assert(f.viewer,"[TiledImage] options.viewer is required"),t.console.assert(f.imageLoader,"[TiledImage] options.imageLoader is required"),t.console.assert(f.source,"[TiledImage] options.source is required"),t.console.assert(!f.clip||f.clip instanceof t.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),t.EventSource.call(this),this._tileCache=f.tileCache,delete f.tileCache,this._drawer=f.drawer,delete f.drawer,this._imageLoader=f.imageLoader,delete f.imageLoader,f.clip instanceof t.Rect&&(this._clip=f.clip.clone()),delete f.clip;var v=f.x||0;delete f.x;var _=f.y||0;delete f.y,this.normHeight=f.source.dimensions.y/f.source.dimensions.x,this.contentAspectX=f.source.dimensions.x/f.source.dimensions.y;var k=1;f.width?(k=f.width,delete f.width,f.height&&(t.console.error("specifying both width and height to a tiledImage is not supported"),delete f.height)):f.height&&(k=f.height/this.normHeight,delete f.height);var C=f.fitBounds;delete f.fitBounds;var M=f.fitBoundsPlacement||r.Placement.CENTER;delete f.fitBoundsPlacement;var I=f.degrees||0;delete f.degrees,t.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:t.DEFAULT_SETTINGS.springStiffness,animationTime:t.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:t.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:t.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:t.DEFAULT_SETTINGS.wrapVertical,immediateRender:t.DEFAULT_SETTINGS.immediateRender,blendTime:t.DEFAULT_SETTINGS.blendTime,alwaysBlend:t.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:t.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:t.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:t.DEFAULT_SETTINGS.iOSDevice,debugMode:t.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:t.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:t.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:t.DEFAULT_SETTINGS.placeholderFillStyle,opacity:t.DEFAULT_SETTINGS.opacity,preload:t.DEFAULT_SETTINGS.preload,compositeOperation:t.DEFAULT_SETTINGS.compositeOperation,subPixelRoundingForTransparency:t.DEFAULT_SETTINGS.subPixelRoundingForTransparency},f),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new t.Spring({initial:v,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new t.Spring({initial:_,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new t.Spring({initial:k,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new t.Spring({initial:I,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),C&&this.fitBounds(C,M,!0),this._drawingHandler=function(F){m.viewer.raiseEvent("tile-drawing",t.extend({tiledImage:m},F))}},t.extend(t.TiledImage.prototype,t.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(f){f!==this._fullyLoaded&&(this._fullyLoaded=f,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=t.now(),this._needsDraw=!0},update:function(){var f=this._xSpring.update(),m=this._ySpring.update(),v=this._scaleSpring.update(),_=this._degreesSpring.update();return f||m||v||_?(this._updateForScale(),this._needsDraw=!0,!0):!1},draw:function(){this.opacity!==0||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset(),this.source.destroy&&this.source.destroy()},getBounds:function(f){return this.getBoundsNoRotate(f).rotate(this.getRotation(f),this._getRotationPoint(f))},getBoundsNoRotate:function(f){return f?new t.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new t.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return t.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(f){var m=this.getBoundsNoRotate(f);if(this._clip){var v=f?this._worldWidthCurrent:this._worldWidthTarget,_=v/this.source.dimensions.x,k=this._clip.times(_);m=new t.Rect(m.x+k.x,m.y+k.y,k.width,k.height)}return m.rotate(this.getRotation(f),this._getRotationPoint(f))},getTileBounds:function(f,m,v){var _=this.source.getNumTiles(f),k=(_.x+m%_.x)%_.x,C=(_.y+v%_.y)%_.y,M=this.source.getTileBounds(f,k,C);return this.getFlip()&&(M.x=1-M.x-M.width),M.x+=(m-k)/_.x,M.y+=this._worldHeightCurrent/this._worldWidthCurrent*((v-C)/_.y),M},getContentSize:function(){return new t.Point(this.source.dimensions.x,this.source.dimensions.y)},getSizeInWindowCoordinates:function(){var f=this.imageToWindowCoordinates(new t.Point(0,0)),m=this.imageToWindowCoordinates(this.getContentSize());return new t.Point(m.x-f.x,m.y-f.y)},_viewportToImageDelta:function(f,m,v){var _=v?this._scaleSpring.current.value:this._scaleSpring.target.value;return new t.Point(f*(this.source.dimensions.x/_),m*(this.source.dimensions.y*this.contentAspectX/_))},viewportToImageCoordinates:function(f,m,v){var _;return f instanceof t.Point?(v=m,_=f):_=new t.Point(f,m),_=_.rotate(-this.getRotation(v),this._getRotationPoint(v)),v?this._viewportToImageDelta(_.x-this._xSpring.current.value,_.y-this._ySpring.current.value):this._viewportToImageDelta(_.x-this._xSpring.target.value,_.y-this._ySpring.target.value)},_imageToViewportDelta:function(f,m,v){var _=v?this._scaleSpring.current.value:this._scaleSpring.target.value;return new t.Point(f/this.source.dimensions.x*_,m/this.source.dimensions.y/this.contentAspectX*_)},imageToViewportCoordinates:function(f,m,v){f instanceof t.Point&&(v=m,m=f.y,f=f.x);var _=this._imageToViewportDelta(f,m);return v?(_.x+=this._xSpring.current.value,_.y+=this._ySpring.current.value):(_.x+=this._xSpring.target.value,_.y+=this._ySpring.target.value),_.rotate(this.getRotation(v),this._getRotationPoint(v))},imageToViewportRectangle:function(f,m,v,_,k){var C=f;C instanceof t.Rect?k=m:C=new t.Rect(f,m,v,_);var M=this.imageToViewportCoordinates(C.getTopLeft(),k),I=this._imageToViewportDelta(C.width,C.height,k);return new t.Rect(M.x,M.y,I.x,I.y,C.degrees+this.getRotation(k))},viewportToImageRectangle:function(f,m,v,_,k){var C=f;f instanceof t.Rect?k=m:C=new t.Rect(f,m,v,_);var M=this.viewportToImageCoordinates(C.getTopLeft(),k),I=this._viewportToImageDelta(C.width,C.height,k);return new t.Rect(M.x,M.y,I.x,I.y,C.degrees-this.getRotation(k))},viewerElementToImageCoordinates:function(f){var m=this.viewport.pointFromPixel(f,!0);return this.viewportToImageCoordinates(m)},imageToViewerElementCoordinates:function(f){var m=this.imageToViewportCoordinates(f);return this.viewport.pixelFromPoint(m,!0)},windowToImageCoordinates:function(f){var m=f.minus(r.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(m)},imageToWindowCoordinates:function(f){var m=this.imageToViewerElementCoordinates(f);return m.plus(r.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(f){var m=this._scaleSpring.current.value;return f=f.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new t.Rect((f.x-this._xSpring.current.value)/m,(f.y-this._ySpring.current.value)/m,f.width/m,f.height/m,f.degrees)},viewportToImageZoom:function(f){var m=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return m*f},imageToViewportZoom:function(f){var m=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return f/m},setPosition:function(f,m){var v=this._xSpring.target.value===f.x&&this._ySpring.target.value===f.y;if(m){if(v&&this._xSpring.current.value===f.x&&this._ySpring.current.value===f.y)return;this._xSpring.resetTo(f.x),this._ySpring.resetTo(f.y),this._needsDraw=!0}else{if(v)return;this._xSpring.springTo(f.x),this._ySpring.springTo(f.y),this._needsDraw=!0}v||this._raiseBoundsChange()},setWidth:function(f,m){this._setScale(f,m)},setHeight:function(f,m){this._setScale(f/this.normHeight,m)},setCroppingPolygons:function(f){var m=function(_){return _ instanceof t.Point||typeof _.x=="number"&&typeof _.y=="number"},v=function(_){return _.map(function(k){try{if(m(k))return{x:k.x,y:k.y};throw new Error}catch{throw new Error("A Provided cropping polygon point is not supported")}})};try{if(!t.isArray(f))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=f.map(function(_){return v(_)})}catch(_){t.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),t.console.error(_),this._croppingPolygons=null}},resetCroppingPolygons:function(){this._croppingPolygons=null},fitBounds:function(f,m,v){m=m||t.Placement.CENTER;var _=t.Placement.properties[m],k=this.contentAspectX,C=0,M=0,I=1,F=1;if(this._clip&&(k=this._clip.getAspectRatio(),I=this._clip.width/this.source.dimensions.x,F=this._clip.height/this.source.dimensions.y,f.getAspectRatio()>k?(C=this._clip.x/this._clip.height*f.height,M=this._clip.y/this._clip.height*f.height):(C=this._clip.x/this._clip.width*f.width,M=this._clip.y/this._clip.width*f.width)),f.getAspectRatio()>k){var H=f.height/F,U=0;_.isHorizontallyCentered?U=(f.width-f.height*k)/2:_.isRight&&(U=f.width-f.height*k),this.setPosition(new t.Point(f.x-C+U,f.y-M),v),this.setHeight(H,v)}else{var J=f.width/I,G=0;_.isVerticallyCentered?G=(f.height-f.width/k)/2:_.isBottom&&(G=f.height-f.width/k),this.setPosition(new t.Point(f.x-C,f.y-M+G),v),this.setWidth(J,v)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(f){t.console.assert(!f||f instanceof t.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),f instanceof t.Rect?this._clip=f.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getFlip:function(){return!!this.flipped},setFlip:function(f){this.flipped=!!f,this._needsDraw=!0,this._raiseBoundsChange()},getOpacity:function(){return this.opacity},setOpacity:function(f){f!==this.opacity&&(this.opacity=f,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(f){this._preload=!!f,this._needsDraw=!0},getRotation:function(f){return f?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(f,m){this._degreesSpring.target.value===f&&this._degreesSpring.isAtTargetValue()||(m?this._degreesSpring.resetTo(f):this._degreesSpring.springTo(f),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(f){return this.getBoundsNoRotate(f).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(f){f!==this.compositeOperation&&(this.compositeOperation=f,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(f,m){var v=this._scaleSpring.target.value===f;if(m){if(v&&this._scaleSpring.current.value===f)return;this._scaleSpring.resetTo(f),this._updateForScale(),this._needsDraw=!0}else{if(v)return;this._scaleSpring.springTo(f),this._updateForScale(),this._needsDraw=!0}v||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var f=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),m=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,v=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(m/this.minPixelRatio)/Math.log(2))));return v=Math.max(v,this.source.minLevel||0),f=Math.min(f,v),{lowestLevel:f,highestLevel:v}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;){var f=this.lastDrawn.pop();f.beingDrawn=!1}var m=this.viewport,v=this._viewportToTiledImageRectangle(m.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var _=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(v=v.intersection(_),v===null)return}for(var k=this._getLevelsInterval(),C=k.lowestLevel,M=k.highestLevel,I=null,F=!1,H=t.now(),U=M;U>=C;U--){var J=!1,G=m.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(U),!0).x*this._scaleSpring.current.value;if(U===C||!F&&G>=this.minPixelRatio)J=!0,F=!0;else if(!F)continue;var Z=m.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(U),!1).x*this._scaleSpring.current.value,at=m.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,mt=this.immediateRender?1:at,ft=Math.min(1,(G-.5)/.5),ot=mt/Math.abs(mt-Z);if(I=this._updateLevel(F,J,U,ft,ot,v,H,I),this._providesCoverage(this.coverage,U))break}this._drawTiles(this.lastDrawn),I&&!I.context2D?(this._loadTile(I,H),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(this._tilesLoading===0)},_getCornerTiles:function(f,m,v){var _,k;this.wrapHorizontal?(_=t.positiveModulo(m.x,1),k=t.positiveModulo(v.x,1)):(_=Math.max(0,m.x),k=Math.min(1,v.x));var C,M,I=1/this.source.aspectRatio;this.wrapVertical?(C=t.positiveModulo(m.y,I),M=t.positiveModulo(v.y,I)):(C=Math.max(0,m.y),M=Math.min(I,v.y));var F=this.source.getTileAtPoint(f,new t.Point(_,C)),H=this.source.getTileAtPoint(f,new t.Point(k,M)),U=this.source.getNumTiles(f);return this.wrapHorizontal&&(F.x+=U.x*Math.floor(m.x),H.x+=U.x*Math.floor(v.x)),this.wrapVertical&&(F.y+=U.y*Math.floor(m.y/I),H.y+=U.y*Math.floor(v.y/I)),{topLeft:F,bottomRight:H}},_updateLevel:function(f,m,v,_,k,C,M,I){var F=C.getBoundingBox().getTopLeft(),H=C.getBoundingBox().getBottomRight();this.viewer&&this.viewer.raiseEvent("update-level",{tiledImage:this,havedrawn:f,level:v,opacity:_,visibility:k,drawArea:C,topleft:F,bottomright:H,currenttime:M,best:I}),this._resetCoverage(this.coverage,v),this._resetCoverage(this.loadingCoverage,v);var U=this._getCornerTiles(v,F,H),J=U.topLeft,G=U.bottomRight,Z=this.source.getNumTiles(v),at=this.viewport.pixelFromPoint(this.viewport.getCenter());this.getFlip()&&(G.x+=1,this.wrapHorizontal||(G.x=Math.min(G.x,Z.x-1)));for(var mt=J.x;mt<=G.x;mt++)for(var ft=J.y;ft<=G.y;ft++){var ot;if(this.getFlip()){var V=(Z.x+mt%Z.x)%Z.x;ot=mt+Z.x-V-V-1}else ot=mt;C.intersection(this.getTileBounds(v,ot,ft))!==null&&(I=this._updateTile(m,f,ot,ft,v,_,k,at,Z,M,I))}return I},_updateTile:function(f,m,v,_,k,C,M,I,F,H,U){var J=this._getTile(v,_,k,H,F,this._worldWidthCurrent,this._worldHeightCurrent),G=m;this.viewer&&this.viewer.raiseEvent("update-tile",{tiledImage:this,tile:J}),this._setCoverage(this.coverage,k,v,_,!1);var Z=J.loaded||J.loading||this._isCovered(this.loadingCoverage,k,v,_);if(this._setCoverage(this.loadingCoverage,k,v,_,Z),!J.exists||(f&&!G&&(this._isCovered(this.coverage,k,v,_)?this._setCoverage(this.coverage,k,v,_,!0):G=!0),!G))return U;if(this._positionTile(J,this.source.tileOverlap,this.viewport,I,M),!J.loaded)if(J.context2D)this._setTileLoaded(J);else{var at=this._tileCache.getImageRecord(J.cacheKey);at&&this._setTileLoaded(J,at.getData())}if(J.loaded){var mt=this._blendTile(J,v,_,k,C,H);mt&&(this._needsDraw=!0)}else J.loading?this._tilesLoading++:Z||(U=this._compareTiles(U,J));return U},_getTile:function(f,m,v,_,k,C,M){var I,F,H,U,J,G,Z,at,mt,ft,ot=this.tilesMatrix,V=this.source;return ot[v]||(ot[v]={}),ot[v][f]||(ot[v][f]={}),(!ot[v][f][m]||!ot[v][f][m].flipped!=!this.flipped)&&(I=(k.x+f%k.x)%k.x,F=(k.y+m%k.y)%k.y,H=this.getTileBounds(v,f,m),U=V.getTileBounds(v,I,F,!0),J=V.tileExists(v,I,F),G=V.getTileUrl(v,I,F),Z=V.getTilePostData(v,I,F),this.loadTilesWithAjax?(at=V.getTileAjaxHeaders(v,I,F),t.isPlainObject(this.ajaxHeaders)&&(at=t.extend({},this.ajaxHeaders,at))):at=null,mt=V.getContext2D?V.getContext2D(v,I,F):void 0,ft=new t.Tile(v,f,m,H,J,G,mt,this.loadTilesWithAjax,at,U,Z,V.getTileHashKey(v,I,F,G,at,Z)),this.getFlip()?I===0&&(ft.isRightMost=!0):I===k.x-1&&(ft.isRightMost=!0),F===k.y-1&&(ft.isBottomMost=!0),ft.flipped=this.flipped,ot[v][f][m]=ft),ft=ot[v][f][m],ft.lastTouchTime=_,ft},_loadTile:function(f,m){var v=this;f.loading=!0,this._imageLoader.addJob({src:f.getUrl(),tile:f,source:this.source,postData:f.postData,loadWithAjax:f.loadWithAjax,ajaxHeaders:f.ajaxHeaders,crossOriginPolicy:this.crossOriginPolicy,ajaxWithCredentials:this.ajaxWithCredentials,callback:function(_,k,C){v._onTileLoad(f,m,_,k,C)},abort:function(){f.loading=!1}})},_onTileLoad:function(f,m,v,_,k){if(!v){t.console.error("Tile %s failed to load: %s - error: %s",f,f.getUrl(),_),this.viewer.raiseEvent("tile-load-failed",{tile:f,tiledImage:this,time:m,message:_,tileRequest:k}),f.loading=!1,f.exists=!1;return}if(m<this.lastResetTime){t.console.warn("Ignoring tile %s loaded before reset: %s",f,f.getUrl()),f.loading=!1;return}var C=this,M=function(){var I=C.source,F=I.getClosestLevel();C._setTileLoaded(f,v,F,k)};this._midDraw?window.setTimeout(M,1):M()},_setTileLoaded:function(f,m,v,_){var k=0,C=this;function M(){return k++,I}function I(){k--,k===0&&(f.loading=!1,f.loaded=!0,f.hasTransparency=C.source.hasTransparency(f.context2D,f.getUrl(),f.ajaxHeaders,f.postData),f.context2D||C._tileCache.cacheTile({data:m,tile:f,cutoff:v,tiledImage:C}),C._needsDraw=!0)}this.viewer.raiseEvent("tile-loaded",{tile:f,tiledImage:this,tileRequest:_,get image(){return t.console.error("[tile-loaded] event 'image' has been deprecated. Use 'data' property instead."),m},data:m,getCompletionCallback:M}),M()()},_positionTile:function(f,m,v,_,k){var C=f.bounds.getTopLeft();C.x*=this._scaleSpring.current.value,C.y*=this._scaleSpring.current.value,C.x+=this._xSpring.current.value,C.y+=this._ySpring.current.value;var M=f.bounds.getSize();M.x*=this._scaleSpring.current.value,M.y*=this._scaleSpring.current.value;var I=v.pixelFromPointNoRotate(C,!0),F=v.pixelFromPointNoRotate(C,!1),H=v.deltaPixelsFromPointsNoRotate(M,!0),U=v.deltaPixelsFromPointsNoRotate(M,!1),J=F.plus(U.divide(2)),G=_.squaredDistanceTo(J);m||(H=H.plus(new t.Point(1,1))),f.isRightMost&&this.wrapHorizontal&&(H.x+=.75),f.isBottomMost&&this.wrapVertical&&(H.y+=.75),f.position=I,f.size=H,f.squaredDistance=G,f.visibility=k},_blendTile:function(f,m,v,_,k,C){var M=1e3*this.blendTime,I,F;if(f.blendStart||(f.blendStart=C),I=C-f.blendStart,F=M?Math.min(1,I/M):1,this.alwaysBlend&&(F*=k),f.opacity=F,this.lastDrawn.push(f),F===1)this._setCoverage(this.coverage,_,m,v,!0),this._hasOpaqueTile=!0;else if(I<M)return!0;return!1},_compareTiles:function(f,m){return!f||m.visibility>f.visibility||m.visibility===f.visibility&&m.squaredDistance<f.squaredDistance?m:f},_drawTiles:function(f){if(!(this.opacity===0||f.length===0&&!this.placeholderFillStyle)){var m=f[0],v;m&&(v=this.opacity<1||this.compositeOperation&&this.compositeOperation!=="source-over"||!this._isBottomItem()&&this.source.hasTransparency(m.context2D,m.getUrl(),m.ajaxHeaders,m.postData));var _,k,C=this.viewport.getZoom(!0),M=this.viewportToImageZoom(C);f.length>1&&M>this.smoothTileEdgesMinZoom&&!this.iOSDevice&&this.getRotation(!0)%360===0&&t.supportsCanvas&&this.viewer.useCanvas&&(v=!0,_=m.getScaleForEdgeSmoothing(),k=m.getTranslationForEdgeSmoothing(_,this._drawer.getCanvasSize(!1),this._drawer.getCanvasSize(!0)));var I;v&&(_||(I=this.viewport.viewportToViewerElementRectangle(this.getClippedBounds(!0)).getIntegerBoundingBox(),this._drawer.viewer.viewport.getFlip()&&(this.viewport.getRotation(!0)%360!==0||this.getRotation(!0)%360!==0)&&(I.x=this._drawer.viewer.container.clientWidth-(I.x+I.width)),I=I.times(t.pixelDensityRatio)),this._drawer._clear(!0,I)),_||(this.viewport.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.viewport.getRotation(!0),useSketch:v}),this.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(this._getRotationPoint(!0),!0),useSketch:v}),this.viewport.getRotation(!0)%360===0&&this.getRotation(!0)%360===0&&this._drawer.viewer.viewport.getFlip()&&this._drawer._flip());var F=!1;if(this._clip){this._drawer.saveContext(v);var H=this.imageToViewportRectangle(this._clip,!0);H=H.rotate(-this.getRotation(!0),this._getRotationPoint(!0));var U=this._drawer.viewportToDrawerRectangle(H);_&&(U=U.times(_)),k&&(U=U.translate(k)),this._drawer.setClip(U,v),F=!0}if(this._croppingPolygons){var J=this;this._drawer.saveContext(v);try{var G=this._croppingPolygons.map(function(nt){return nt.map(function(ut){var gt=J.imageToViewportCoordinates(ut.x,ut.y,!0).rotate(-J.getRotation(!0),J._getRotationPoint(!0)),Jt=J._drawer.viewportCoordToDrawerCoord(gt);return _&&(Jt=Jt.times(_)),Jt})});this._drawer.clipWithPolygons(G,v)}catch(nt){t.console.error(nt)}F=!0}if(this.placeholderFillStyle&&this._hasOpaqueTile===!1){var Z=this._drawer.viewportToDrawerRectangle(this.getBounds(!0));_&&(Z=Z.times(_)),k&&(Z=Z.translate(k));var at=null;typeof this.placeholderFillStyle=="function"?at=this.placeholderFillStyle(this,this._drawer.context):at=this.placeholderFillStyle,this._drawer.drawRectangle(Z,at,v)}var mt=d(this.subPixelRoundingForTransparency),ft=!1;if(mt===t.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS)ft=!0;else if(mt===t.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST){var ot=this.viewer&&this.viewer.isAnimating();ft=!ot}for(var V=f.length-1;V>=0;V--)m=f[V],this._drawer.drawTile(m,this._drawingHandler,v,_,k,ft,this.source),m.beingDrawn=!0,this.viewer&&this.viewer.raiseEvent("tile-drawn",{tiledImage:this,tile:m});F&&this._drawer.restoreContext(v),_||(this.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(v),this.viewport.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(v)),v&&(_&&(this.viewport.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.viewport.getRotation(!0),useSketch:!1}),this.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(this._getRotationPoint(!0),!0),useSketch:!1})),this._drawer.blendSketch({opacity:this.opacity,scale:_,translate:k,compositeOperation:this.compositeOperation,bounds:I}),_&&(this.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(!1),this.viewport.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(!1))),_||this.viewport.getRotation(!0)%360===0&&this.getRotation(!0)%360===0&&this._drawer.viewer.viewport.getFlip()&&this._drawer._flip(),this._drawDebugInfo(f)}},_drawDebugInfo:function(f){if(this.debugMode)for(var m=f.length-1;m>=0;m--){var v=f[m];try{this._drawer.drawDebugInfo(v,f.length,m,this)}catch(_){t.console.error(_)}}},_providesCoverage:function(f,m,v,_){var k,C,M,I;if(!f[m])return!1;if(v===void 0||_===void 0){k=f[m];for(M in k)if(Object.prototype.hasOwnProperty.call(k,M)){C=k[M];for(I in C)if(Object.prototype.hasOwnProperty.call(C,I)&&!C[I])return!1}return!0}return f[m][v]===void 0||f[m][v][_]===void 0||f[m][v][_]===!0},_isCovered:function(f,m,v,_){return v===void 0||_===void 0?this._providesCoverage(f,m+1):this._providesCoverage(f,m+1,2*v,2*_)&&this._providesCoverage(f,m+1,2*v,2*_+1)&&this._providesCoverage(f,m+1,2*v+1,2*_)&&this._providesCoverage(f,m+1,2*v+1,2*_+1)},_setCoverage:function(f,m,v,_,k){if(!f[m]){t.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",m);return}f[m][v]||(f[m][v]={}),f[m][v][_]=k},_resetCoverage:function(f,m){f[m]={}}});var o=t.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER;function l(f){return f!==t.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS&&f!==t.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST&&f!==t.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER}function u(f){return l(f)?o:f}function d(f){if(typeof f=="number")return u(f);if(!f||!t.Browser)return o;var m=f[t.Browser.vendor];return l(m)&&(m=f["*"]),u(m)}}(r),function(t){var o=function(u){t.console.assert(u,"[TileCache.cacheTile] options is required"),t.console.assert(u.tile,"[TileCache.cacheTile] options.tile is required"),t.console.assert(u.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=u.tile,this.tiledImage=u.tiledImage},l=function(u){t.console.assert(u,"[ImageRecord] options is required"),t.console.assert(u.data,"[ImageRecord] options.data is required"),this._tiles=[],u.create.apply(null,[this,u.data,u.ownerTile]),this._destroyImplementation=u.destroy.bind(null,this),this.getImage=u.getImage.bind(null,this),this.getData=u.getData.bind(null,this),this.getRenderedContext=u.getRenderedContext.bind(null,this)};l.prototype={destroy:function(){this._destroyImplementation(),this._tiles=null},addTile:function(u){t.console.assert(u,"[ImageRecord.addTile] tile is required"),this._tiles.push(u)},removeTile:function(u){for(var d=0;d<this._tiles.length;d++)if(this._tiles[d]===u){this._tiles.splice(d,1);return}t.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",u)},getTileCount:function(){return this._tiles.length}},t.TileCache=function(u){u=u||{},this._maxImageCacheCount=u.maxImageCacheCount||t.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},t.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(u){t.console.assert(u,"[TileCache.cacheTile] options is required"),t.console.assert(u.tile,"[TileCache.cacheTile] options.tile is required"),t.console.assert(u.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),t.console.assert(u.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var d=u.cutoff||0,f=this._tilesLoaded.length,m=this._imagesLoaded[u.tile.cacheKey];if(m||(u.data||(t.console.error("[TileCache.cacheTile] options.image was renamed to options.data. '.image' attribute has been deprecated and will be removed in the future."),u.data=u.image),t.console.assert(u.data,"[TileCache.cacheTile] options.data is required to create an ImageRecord"),m=this._imagesLoaded[u.tile.cacheKey]=new l({data:u.data,ownerTile:u.tile,create:u.tiledImage.source.createTileCache,destroy:u.tiledImage.source.destroyTileCache,getImage:u.tiledImage.source.getTileCacheDataAsImage,getData:u.tiledImage.source.getTileCacheData,getRenderedContext:u.tiledImage.source.getTileCacheDataAsContext2D}),this._imagesLoadedCount++),m.addTile(u.tile),u.tile.cacheImageRecord=m,this._imagesLoadedCount>this._maxImageCacheCount){for(var v=null,_=-1,k=null,C,M,I,F,H,U,J=this._tilesLoaded.length-1;J>=0;J--)if(U=this._tilesLoaded[J],C=U.tile,!(C.level<=d||C.beingDrawn)){if(!v){v=C,_=J,k=U;continue}F=C.lastTouchTime,M=v.lastTouchTime,H=C.level,I=v.level,(F<M||F===M&&H>I)&&(v=C,_=J,k=U)}v&&_>=0&&(this._unloadTile(k),f=_)}this._tilesLoaded[f]=new o({tile:u.tile,tiledImage:u.tiledImage})},clearTilesFor:function(u){t.console.assert(u,"[TileCache.clearTilesFor] tiledImage is required");for(var d,f=0;f<this._tilesLoaded.length;++f)d=this._tilesLoaded[f],d.tiledImage===u&&(this._unloadTile(d),this._tilesLoaded.splice(f,1),f--)},getImageRecord:function(u){return t.console.assert(u,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[u]},_unloadTile:function(u){t.console.assert(u,"[TileCache._unloadTile] tileRecord is required");var d=u.tile,f=u.tiledImage;d.unload(),d.cacheImageRecord=null;var m=this._imagesLoaded[d.cacheKey];m.removeTile(d),m.getTileCount()||(m.destroy(),delete this._imagesLoaded[d.cacheKey],this._imagesLoadedCount--),f.viewer.raiseEvent("tile-unloaded",{tile:d,tiledImage:f})}}}(r),function(t){t.World=function(o){var l=this;t.console.assert(o.viewer,"[World] options.viewer is required"),t.EventSource.call(this),this.viewer=o.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(u){l._autoRefigureSizes?l._figureSizes():l._needsSizesFigured=!0},this._figureSizes()},t.extend(t.World.prototype,t.EventSource.prototype,{addItem:function(o,l){if(t.console.assert(o,"[World.addItem] item is required"),t.console.assert(o instanceof t.TiledImage,"[World.addItem] only TiledImages supported at this time"),l=l||{},l.index!==void 0){var u=Math.max(0,Math.min(this._items.length,l.index));this._items.splice(u,0,o)}else this._items.push(o);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,o.addHandler("bounds-change",this._delegatedFigureSizes),o.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:o})},getItemAt:function(o){return t.console.assert(o!==void 0,"[World.getItemAt] index is required"),this._items[o]},getIndexOfItem:function(o){return t.console.assert(o,"[World.getIndexOfItem] item is required"),t.indexOf(this._items,o)},getItemCount:function(){return this._items.length},setItemIndex:function(o,l){t.console.assert(o,"[World.setItemIndex] item is required"),t.console.assert(l!==void 0,"[World.setItemIndex] index is required");var u=this.getIndexOfItem(o);if(l>=this._items.length)throw new Error("Index bigger than number of layers.");l===u||u===-1||(this._items.splice(u,1),this._items.splice(l,0,o),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:o,previousIndex:u,newIndex:l}))},removeItem:function(o){t.console.assert(o,"[World.removeItem] item is required");var l=t.indexOf(this._items,o);l!==-1&&(o.removeHandler("bounds-change",this._delegatedFigureSizes),o.removeHandler("clip-change",this._delegatedFigureSizes),o.destroy(),this._items.splice(l,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(o))},removeAll:function(){this.viewer._cancelPendingImages();var o,l;for(l=0;l<this._items.length;l++)o=this._items[l],o.removeHandler("bounds-change",this._delegatedFigureSizes),o.removeHandler("clip-change",this._delegatedFigureSizes),o.destroy();var u=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,l=0;l<u.length;l++)o=u[l],this._raiseRemoveItem(o)},resetItems:function(){for(var o=0;o<this._items.length;o++)this._items[o].reset()},update:function(){for(var o=!1,l=0;l<this._items.length;l++)o=this._items[l].update()||o;return o},draw:function(){for(var o=0;o<this._items.length;o++)this._items[o].draw();this._needsDraw=!1},needsDraw:function(){for(var o=0;o<this._items.length;o++)if(this._items[o].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(o){this._autoRefigureSizes=o,o&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(o){o=o||{};var l=o.immediately||!1,u=o.layout||t.DEFAULT_SETTINGS.collectionLayout,d=o.rows||t.DEFAULT_SETTINGS.collectionRows,f=o.columns||t.DEFAULT_SETTINGS.collectionColumns,m=o.tileSize||t.DEFAULT_SETTINGS.collectionTileSize,v=o.tileMargin||t.DEFAULT_SETTINGS.collectionTileMargin,_=m+v,k;!o.rows&&f?k=f:k=Math.ceil(this._items.length/d);var C=0,M=0,I,F,H,U,J;this.setAutoRefigureSizes(!1);for(var G=0;G<this._items.length;G++)G&&G%k===0&&(u==="horizontal"?(M+=_,C=0):(C+=_,M=0)),I=this._items[G],F=I.getBounds(),F.width>F.height?H=m:H=m*(F.width/F.height),U=H*(F.height/F.width),J=new t.Point(C+(m-H)/2,M+(m-U)/2),I.setPosition(J,l),I.setWidth(H,l),u==="horizontal"?C+=_:M+=_;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var o=this._homeBounds?this._homeBounds.clone():null,l=this._contentSize?this._contentSize.clone():null,u=this._contentFactor||0;if(!this._items.length)this._homeBounds=new t.Rect(0,0,1,1),this._contentSize=new t.Point(1,1),this._contentFactor=1;else{var d=this._items[0],f=d.getBounds();this._contentFactor=d.getContentSize().x/f.width;for(var m=d.getClippedBounds().getBoundingBox(),v=m.x,_=m.y,k=m.x+m.width,C=m.y+m.height,M=1;M<this._items.length;M++)d=this._items[M],f=d.getBounds(),this._contentFactor=Math.max(this._contentFactor,d.getContentSize().x/f.width),m=d.getClippedBounds().getBoundingBox(),v=Math.min(v,m.x),_=Math.min(_,m.y),k=Math.max(k,m.x+m.width),C=Math.max(C,m.y+m.height);this._homeBounds=new t.Rect(v,_,k-v,C-_),this._contentSize=new t.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}(this._contentFactor!==u||!this._homeBounds.equals(o)||!this._contentSize.equals(l))&&this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(o){this.raiseEvent("remove-item",{item:o})}})}(r)})(ZC);var dD=ZC.exports;const pD=WC(dD),fD=["aria-label","alt"],gD={key:1,class:"group relative h-10 p-2"},mD=["manifest"],vD=["innerHTML"],yD=vo({__name:"Image.ce",props:{caption:{type:String},cover:{type:Boolean,default:!1},data:{type:String},fit:{type:String,default:"contain"},height:{type:Number},noCaption:{type:Boolean,default:!1},src:{type:String,required:!0},width:{type:Number}},setup(n){const r=n,t=he(null),o=he(null),l=De(()=>{var bt,At;return(At=(bt=t.value)==null?void 0:bt.getRootNode())==null?void 0:At.host}),u=De(()=>{var bt;return(bt=t==null?void 0:t.value)==null?void 0:bt.parentNode});qe(u,bt=>{bt.children[1].classList.remove("sticky")});const d=he();qe(d,()=>{V()});const f=he(),m=De(()=>{var bt,At;return Number(((((bt=f.value)==null?void 0:bt.width)||1)/(((At=f.value)==null?void 0:At.height)||1)).toFixed(4))});qe(m,()=>{V(),o.value&&nt()}),qe(o,()=>{var bt;o.value&&(r.width?((bt=t.value)==null||bt.setAttribute("style",`width: ${r.width}px;margin: auto`),d.value=r.width):new ResizeObserver(()=>{var At;d.value=(At=o.value)==null?void 0:At.clientWidth}).observe(o.value),f.value&&nt())}),qe(r,()=>{H()});const v=he(),_=he();qe(_,()=>{var bt;(bt=v.value)==null||bt.open(_.value)});const k=he();qe(k,()=>{G(k.value)});function C(bt){if(v.value&&(_.value=null),/upload\.wikimedia\.org/.test(bt)){let At=bt.split("/"),qt=At[5]==="thumb"?At[8]:At[7];k.value=`https://${wh}/wc:${qt.replace(/ /g,"_")}/manifest.json`}else k.value=/^http/.test(bt)?bt:/^\w+:/.test(bt)?`https://${wh}/${bt.replace(/ /g,"_")}/manifest.json`:bt}const M=he(),I=De(()=>{var bt,At,qt;return r.caption||M.value&&((qt=(At=(bt=M.value)==null?void 0:bt.label)==null?void 0:At.en)==null?void 0:qt[0])}),F=he();function H(){C(r.src)}ts(()=>{H(),ut()});async function U(bt){var qt;return bt.indexOf("manifest.json")>0?!0:((qt=(await fetch(bt,{method:"HEAD"})).headers.get("Content-Type"))==null?void 0:qt.indexOf("image"))===-1}async function J(bt){let At=await fetch("https://${iiifServer}/prezi2to3/",{method:"POST",body:JSON.stringify(bt)});if(At.ok)return(await At).json()}async function G(bt){if(await U(bt)){let At=await mt(bt),qt=Z({type:"Annotation",motivation:"painting"},At).body;f.value={width:qt.width,height:qt.height},_.value=qt.service?`${qt.service[0].id||qt.service[0]["@id"]}/info.json`:{url:qt.id,type:"image",buildPyramid:!0}}else ft(bt).then(At=>{f.value=At}),_.value={url:bt,type:"image",buildPyramid:!0}}function Z(bt,At,qt=1){const ee=at(bt,At);return ee.length>=qt?ee[qt-1]:null}function at(bt,At,qt=[]){if(qt=qt||[],At.items)for(let ee=0;ee<At.items.length;ee++){let pe=At.items[ee];!Object.entries(bt).find(([le,rr])=>pe[le]&&pe[le]!==rr)?qt.push(pe):at(bt,pe,qt)}return qt}async function mt(bt){let At=await fetch(bt);if(At.ok){let qt=await At.json(),ee=Array.isArray(qt["@context"])?qt["@context"].find(ae=>ae.indexOf("/presentation/")>0):qt["@context"],pe=parseFloat(ee.split("/").slice(-2,-1).pop());return M.value=pe<3?await J(M):qt,M.value}}async function ft(bt){return new Promise((At,qt)=>{let ee=new Image;ee.onload=()=>At({width:ee.width,height:ee.height}),ee.onerror=()=>qt(),ee.src=bt})}function ot(){var bt,At;(bt=o.value)!=null&&bt.clientWidth&&(r.height||Number(((At=o.value)==null?void 0:At.clientWidth)/m.value).toFixed(0))}function V(){ot(),setTimeout(()=>{var bt,At;return(At=(bt=v.value)==null?void 0:bt.viewport)==null?void 0:At.goHome(!0)},100)}function nt(){if(!o.value)return;let bt=u.value.querySelector("#osd");ot();const At={element:bt,prefixUrl:"https://openseadragon.github.io/openseadragon/images/",tileSources:_.value,homeFillsViewer:r.cover||r.fit==="cover",maxZoomPixelRatio:10};v.value=pD(At),v.value.addHandler("viewport-change",()=>Zt()),setTimeout(()=>Ct(),500)}function ut(){let bt=l.value.parentElement;for(;bt!=null&&bt.parentElement&&bt.tagName!=="MAIN";)Array.from(bt.querySelectorAll("a")).forEach(At=>{let ee=new URL(At.href).pathname.split("/").filter(ae=>ae),pe=ee.indexOf("zoom");if(pe>=0&&ee.length>pe+1&&gt(At)){let le=ee[pe+1];At.classList.add("zoom"),At.href="javascript:;",At.setAttribute("data-region",le),At.addEventListener("click",rr=>{let mr=rr.target.getAttribute("data-region");mr&&re(mr)})}}),bt=bt.parentElement}function gt(bt){function At(qt){let ee=qt.previousSibling;for(;ee;){if(ee.nodeName==="MDP-IMAGE")return ee===l.value?ee:null;ee=ee.previousSibling}}for(At(bt);bt.parentElement&&bt.tagName!=="BODY";){bt=bt.parentElement;let qt=bt.querySelector(":scope mdp-image");if(qt)return qt===l.value?qt:null}}let Jt="";function re(bt){var qt,ee,pe;bt=bt.replace(/^zoom\|/i,"");const At=bt==null?void 0:bt.match(/^(?<region>(pct:|pixel:|px:)?[\d.]+,[\d.]+,[\d.]+,[\d.]+)?$/);if(At){let ae=(qt=At==null?void 0:At.groups)==null?void 0:qt.region;ae&&(Jt===ae?((ee=v.value)==null||ee.viewport.goHome(),Jt=""):(Jt=ae,(pe=v.value)==null||pe.viewport.fitBounds(Xt(ae,v.value),!1)))}}function Xt(bt,At){let qt;const ee=bt.split(":");let[pe,ae,le,rr]=ee[ee.length-1].split(",").map(vi=>parseInt(vi));const mr=At.world.getItemAt(0).getContentSize();return ee.length===2&&(ee[0]==="pct"||ee[0]==="percent")&&(pe=Math.round(mr.x*pe/100),ae=Math.round(mr.y*ae/100),le=Math.round(mr.x*le/100),rr=Math.round(mr.y*rr/100)),qt=At.viewport.imageToViewportRectangle(pe,ae,le,rr),qt}function Ct(){var At,qt;const bt=(At=v.value)==null?void 0:At.world.getItemAt(0);if(bt){let ee=(qt=v.value)==null?void 0:qt.viewport.getBounds();const pe=ee?bt.viewportToImageRectangle(ee):null;F.value=pe?`${Math.ceil(pe.x)},${Math.ceil(pe.y)},${Math.ceil(pe.width)},${Math.ceil(pe.height)}`:""}}let Kt=null;function Zt(){Kt!==null&&(clearTimeout(Kt),Kt=null),Kt=window.setTimeout(()=>Ct(),100)}function Pe(bt){navigator.clipboard&&navigator.clipboard.writeText(bt)}return(bt,At)=>(ge(),me("div",{ref_key:"root",ref:t,class:"h-[100%] image flex flex-col relative rounded overflow-hidden shadow-lg"},[_.value?(ge(),me("div",{key:0,ref_key:"osdEl",ref:o,id:"osd",class:"w-full h-[100%]",role:"img","aria-label":I.value,alt:I.value},null,8,fD)):ur("",!0),_.value&&I.value&&!n.noCaption?(ge(),me("div",gD,[M.value&&!n.noCaption?(ge(),me("mdp-caption",{key:0,manifest:M.value},null,8,mD)):ur("",!0),F.value?(ge(),me("div",{key:1,class:"invisible group-hover:visible absolute pr-4 pl-4 pt-2 pb-2 mt-24 bottom-0 right-0 cursor-copy ml-4 bg-slate-100 text-black",innerHTML:F.value,onClick:At[0]||(At[0]=qt=>Pe(F.value||""))},null,8,vD)):ur("",!0)])):ur("",!0)],512))}}),bD=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-\\[100\\%\\]{height:100%}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}mdp-header ul,mdp-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}mdp-manifest-popup{visibility:hidden;position:absolute;top:1em;right:1em;z-index:10}.image:hover mdp-manifest-popup{visibility:visible;transition:all .5s ease-in}
`,wD=rs(yD,[["styles",[bD]]]),xD={class:"label"},_D=Vt("div",{slot:"trigger",style:{display:"flex","flex-direction":"column"}},[Vt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[Vt("path",{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"})])],-1),kD={class:"details"},ED=["innerHTML"],TD=["innerHTML"],SD={key:1,class:"photo-details"},CD={slot:"trigger",style:{cursor:"pointer"}},PD=["innerHTML"],MD={class:"location",style:{width:"200px"}},ID=["center"],LD=vo({__name:"Caption.ce",props:{language:{type:String,default:"en"},manifest:{type:Object},src:{type:String}},setup(n){const r=n,t=he(null),o=he(null);qe(o,()=>{var I;console.log(o.value),(I=o.value)==null||I.addEventListener("sl-hide",F=>{console.log("hide",F),F.stopPropagation(),F.preventDefault()})});const l=he();qe(l,I=>{console.log(ii(I))});const u=De(()=>{var I;return(I=l.value)!=null&&I.metadata?Object.fromEntries(l.value.metadata.map(F=>[(F.label.en||F.label.none||Object.keys(F.label)[0])[0],(F.value.en||F.value.none||Object.keys(F.value)[0])[0]])):{}}),d=De(()=>{var I;return(I=l.value)!=null&&I.label?(l.value.label[r.language]||l.value.label.none||l.value.label.en||Object.values(l.value.label)[0])[0]:null});De(()=>{var I;return(I=l.value)!=null&&I.summary?(l.value.summary[r.language]||l.value.summary.none||l.value.summary.en||Object.values(l.value.summary)[0])[0]:null});const f=De(()=>{var I;return(I=l.value)==null?void 0:I.requiredStatement}),m=De(()=>{let I=f.value?C(f.value.label,r.language):"";return(I?f.value.label[I][0].toLowerCase():"")==="attribution"?f.value.value[C(f.value.value,I)][0]:null}),v=De(()=>{var I;return[u.value.camera,u.value.exposure,(I=u.value.mode)==null?void 0:I.split(",").map(F=>M(F.trim()).replace(/[_-]/," ")).join(", ")].filter(F=>F).join(", ")}),_=De(()=>{var I;return(I=l.value)==null?void 0:I.navPlace}),k=De(()=>{var I,F;return(F=(I=_.value)==null?void 0:I.features[0])==null?void 0:F.geometry.coordinates.join(",")});qe(r,()=>{r.manifest?l.value=r.manifest:r.src&&xp(r.src).then(I=>l.value=I)});function C(I,F=r.language){return I[r.language]?F:I.none?"none":I.en?"en":Object.keys(I)[0]}function M(I){return I[0].toUpperCase()+I.slice(1).toLowerCase()}return ts(()=>{r.manifest?l.value=r.manifest:r.src&&xp(r.src).then(I=>l.value=I)}),(I,F)=>(ge(),me("div",{class:"caption",ref_key:"root",ref:t},[Vt("div",xD,lu(d.value),1),Vt("sl-dropdown",{ref_key:"details",ref:o,distance:"12",skidding:"-30"},[_D,Vt("div",kD,[Vt("div",{class:"label",innerHTML:d.value},null,8,ED),m.value?(ge(),me("div",{key:0,class:"attribution",innerHTML:m.value},null,8,TD)):ur("",!0),v.value?(ge(),me("div",SD,lu(v.value),1)):ur("",!0),k.value?(ge(),me("sl-dropdown",{key:2,ref_key:"details",ref:o,distance:"12",skidding:"-30",placement:"top"},[Vt("div",CD,[Vt("span",{innerHTML:k.value},null,8,PD)]),Vt("div",MD,[k.value?(ge(),me("mdp-map",{key:0,center:k.value,zoom:"6",marker:""},null,8,ID)):ur("",!0)])],512)):ur("",!0)])],512)],512))}}),RD=`.caption{display:flex;align-items:center;gap:1em}.label{font-size:1.4em;font-weight:700}.summary{font-size:1em;font-weight:400}.photo-details,.attribution{font-size:.8em;font-weight:400}.details,.location{display:flex;flex-direction:column;gap:.5em;background-color:#fff;padding:.5em;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px;border:1px solid #ccc;border-radius:3px;max-width:300px}sl-dropdown svg{width:1.2em;height:1.2em;cursor:pointer}
`,AD=rs(LD,[["styles",[RD]]]);class OD{constructor(){this.events={}}on(r,t){this.events[r]=this.events[r]||[],this.events[r].push(t)}off(r,t){if(this.events[r]){for(let o=0;o<this.events[r].length;o++)if(this.events[r][o]===t){this.events[r].splice(o,1);break}}}emit(r,t){this.events[r]&&this.events[r].forEach(function(o){o(t)})}}const YC=new OD,zD=["innerHTML"],ND=["innerHTML"],DD=vo({__name:"InfoCard.ce",props:{data:{type:String},description:{type:String},dialogWidth:{type:String,default:"100vw"},image:{type:String},href:{type:String},label:{type:String}},setup(n){const r=n;function t(){YC.emit("imageSelected",{src:d.value})}const o=he(null),l=De(()=>{var F,H;return(H=(F=o.value)==null?void 0:F.getRootNode())==null?void 0:H.host});De(()=>{var F;return(F=o==null?void 0:o.value)==null?void 0:F.parentNode});const u=De(()=>r.data?JSON.parse(r.data):{}),d=De(()=>u.value.id),f=De(()=>u.value.label||r.label),m=De(()=>u.value.description||r.description),v=De(()=>u.value.image||r.image);De(()=>u.value.href||r.href);const _=De(()=>v.value&&`url('${I(v.value)}')`),k=De(()=>{var F;return`${((F=l.value)==null?void 0:F.clientWidth)*.33}px`});let C;const M=he(!1);qe(M,()=>{C.open=M.value});function I(F){let H=F.split("/");return`${H.slice(0,-1).join("/")}/${encodeURIComponent(H[H.length-1])}`}return ts(()=>{}),(F,H)=>(ge(),me("div",{ref_key:"root",ref:o,id:"card",class:"card"},[Vt("div",{class:"label",innerHTML:f.value},null,8,zD),Vt("div",{class:"description",innerHTML:m.value},null,8,ND),v.value?(ge(),me("div",{key:0,class:"image",style:au({backgroundImage:_.value,width:k.value}),onClick:t},null,4)):ur("",!0)],512))}}),FD=`*{box-sizing:border-box}:host{display:inline-block;width:100%}.card{display:grid;grid-template-columns:1fr auto;grid-template-rows:auto auto auto 1fr auto;border-radius:6px;min-height:80px;max-height:100px;overflow-y:hidden;background-color:#fff;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px}.label,.description,.summary,.links{margin:6px;font-size:1rem}.label{grid-area:1 / 1 / 2 / 2;font-size:130%;font-weight:700}.description{grid-area:2 / 1 / 3 / 2;font-size:110%;font-weight:400;height:100%}.summary{grid-area:3 / 1 / 4 / 2;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:6;overflow:hidden;line-height:1.2rem;font-weight:300}.spacer{grid-area:4 / 1 / 5 / 2;height:100%}.links{grid-area:5 / 1 / 6 / 2}.image{grid-area:1 / 2 / 6 / 3;height:100%;max-height:100px;-o-object-fit:cover;object-fit:cover;background-repeat:no-repeat;background-size:cover;background-position:center}.logo img{height:24px;margin-right:12px;cursor:pointer}sl-dialog::part(panel){max-width:unset;max-height:unset;height:100dvh}sl-dialog::part(overlay){--sl-overlay-background-color: rgba(100, 100, 100, .8)}sl-dialog::part(footer){background-color:#64646480}
`,BD=rs(DD,[["styles",[FD]]]),Fa=n=>(h5("data-v-4827c438"),n=n(),d5(),n),jD={class:"main"},HD=["src"],UD=["innerHTML"],GD=["innerHTML"],qD=["href","innerHTML"],VD={class:"links"},WD={class:"detail"},ZD={key:0,class:"provider"},YD=Fa(()=>Vt("span",{class:"label"},"provider",-1)),XD={key:0,style:{display:"flex","align-items":"center"}},KD=["src"],JD=["href","innerHTML"],QD={key:1},$D=["src"],t6=["href","innerHTML"],e6={key:1,class:"requiredStatement"},r6=["innerHTML"],i6={key:2,class:"rights"},n6=Fa(()=>Vt("span",{class:"label"},"Reuse rights",-1)),o6=["href","innerHTML"],s6={key:3,class:"metadata"},a6=Fa(()=>Vt("span",{class:"label"},"metadata",-1)),l6=["innerHTML"],c6=["innerHTML"],u6={key:1},h6=["innerHTML"],d6={key:4,class:"navDate"},p6=Fa(()=>Vt("span",{class:"label"},"navDate",-1)),f6=["innerHTML"],g6={key:5,class:"homepage"},m6=Fa(()=>Vt("span",{class:"label"},"homepage",-1)),v6=["href","innerHTML"],y6={key:6,class:"seeAlso"},b6=Fa(()=>Vt("span",{class:"label"},"seeAlso",-1)),w6=["href","innerHTML"],x6={key:7,class:"logo"},_6=Fa(()=>Vt("span",{class:"label"},"logo",-1)),k6=["href","innerHTML"],E6={key:8,class:"imageData"},T6=Fa(()=>Vt("span",{class:"label"},"source",-1)),S6=["href","innerHTML"],C6=Fa(()=>Vt("span",{class:"label"},"format",-1)),P6=["innerHTML"],M6=Fa(()=>Vt("span",{class:"label"},"width",-1)),I6=["innerHTML"],L6=Fa(()=>Vt("span",{class:"label"},"height",-1)),R6=["innerHTML"],A6=vo({__name:"Manifest.ce",props:{manifest:{type:Object,required:!0}},setup(n){const r=n;qe(r,()=>o.value=r.manifest);const t=he(null),o=he(null),l=he(null);qe(o,()=>l.value=m(o.value));const u=De(()=>l.value&&_(l.value));ts(()=>d());function d(){typeof r.manifest=="object"?o.value=r.manifest:xp(r.manifest).then(k=>o.value=k)}function f(k,C="en"){return typeof k=="object"&&!Array.isArray(k)?k[C]||k.none||k[Object.keys(k).sort()[0]]:k}function m(k){let C={};if(C.id=f(k.id),C.label=f(k.label),k.summary&&(C.summary=f(k.summary)),k.rights&&(C.rights=k.rights),k.thumbnail&&(C.thumbnail=k.thumbnail[0].id||k.thumbnail),k.metadata){C.metadata=k.metadata.map(F=>({label:f(F.label)[0],value:f(F.value)}));let M=C.metadata.find(F=>F.label=="source_url");C.sourceUrl=M?M.value[0]:null;let I=C.metadata.find(F=>F.label==="depicts");I&&(C.depicts=I.value)}if(k.provider&&(C.provider=k.provider.map(M=>{let I={label:f(M.label),href:M.id};return M.logo&&(I.logo={src:M.logo[0].id}),I})),k.logo&&(C.logo=k.logo.map(M=>{let I={src:typeof M=="object"?M.id||M["@id"]:M};return typeof M=="object"&&(M.width&&(I.width=M.width),M.height&&(I.height=M.height)),I})),C.imageData=VC(k),C.service=C.imageData.service&&`${(C.imageData.service[0].id||C.imageData.service[0]["@id"]).replace(/\/info\.json$/,"")}/info.json`,k.requiredStatement){let M=k.requiredStatement;C.requiredStatement={label:f(M.label),value:f(M.value)}}return k.homepage&&(C.homepage={label:k.homepage.label?f(k.homepage.label):k.homepage.id,href:k.homepage.id}),k.seeAlso&&(C.seeAlso=k.seeAlso.map(M=>({label:M.label?f(M.label):M.id,href:M.id}))),C}function v(k){navigator.clipboard&&navigator.clipboard.writeText(k)}function _(k){let C={cc:{badgeWidth:88,badgeHeight:31,badgeTemplate:'https://licensebuttons.net/l/${this.rightsCode}${this.rightsCode === "publicdomain" ? "" : "/"+this.version}/${this.badgeWidth}x${this.badgeHeight}.png'},rs:{badgeTemplate:"https://rightsstatements.org/files/buttons/${this.rightsCode}.white.svg",backgroundColor:"318ac7"}};const M=function(Z,at){return new Function("return `"+Z+"`;").call(at)};let I=k.rights||"",F="",[H,U,J,G]=I.split("/").slice(2);return H==="creativecommons.org"?(J=J==="zero"?"publicdomain":J,F=`<img src="${M(C.cc.badgeTemplate,{...C.cc,rightsCode:J,version:G})}"/>`):H==="rightsstatements.org"&&(F=`<div style="display:inline-block;height:25px;padding:3px;background-color:#${C.rs.backgroundColor};"><img style="height:100%;" src="${M(C.rs.badgeTemplate,{...C.rs,rightsCode:J})}"/></div>`),F}return(k,C)=>{var M,I,F,H,U,J,G,Z,at,mt,ft,ot,V,nt,ut;return ge(),me("div",{ref_key:"root",ref:t,class:"manifest"},[Vt("div",jD,[Vt("img",{class:"thumbnail",src:(M=l.value)==null?void 0:M.thumbnail},null,8,HD),Vt("div",{class:"label",innerHTML:(I=l.value)==null?void 0:I.label},null,8,UD),(F=l.value)!=null&&F.summary?(ge(),me("div",{key:0,class:"summary",innerHTML:(H=l.value)==null?void 0:H.summary},null,8,GD)):ur("",!0),(U=l.value)!=null&&U.rights?(ge(),me("a",{key:1,href:(J=l.value)==null?void 0:J.rights,innerHTML:u.value},null,8,qD)):ur("",!0),Vt("div",VD,[Vt("img",{src:"https://mdpress.io/images/iiif.png",class:"iiif",alt:"IIIF manifest icon",onClick:C[0]||(C[0]=gt=>v(o.value.id))})])]),Vt("div",WD,[(G=l.value)!=null&&G.provider?(ge(),me("div",ZD,[YD,l.value.provider.length===1?(ge(),me("div",XD,[l.value.provider[0].logo?(ge(),me("img",{key:0,class:"logo",src:l.value.provider[0].logo.src},null,8,KD)):ur("",!0),Vt("a",{class:"value",href:l.value.provider[0].href,innerHTML:l.value.provider[0].label},null,8,JD)])):(ge(),me("ul",QD,[(ge(!0),me(Fi,null,nu(l.value.provider,(gt,Jt)=>(ge(),me("li",{key:`provider-${Jt}`},[gt.logo?(ge(),me("img",{key:0,class:"logo",src:gt.logo.src},null,8,$D)):ur("",!0),Vt("a",{class:"value",href:gt.href,innerHTML:gt.label},null,8,t6)]))),128))]))])):ur("",!0),(Z=l.value)!=null&&Z.requiredStatement?(ge(),me("div",e6,[Vt("span",{class:"value",innerHTML:l.value.requiredStatement.value},null,8,r6)])):ur("",!0),(at=l.value)!=null&&at.rights?(ge(),me("div",i6,[n6,Vt("a",{class:"value",href:l.value.rights,innerHTML:l.value.rights},null,8,o6)])):ur("",!0),(mt=l.value)!=null&&mt.metadata?(ge(),me("div",s6,[a6,Vt("ul",null,[(ge(!0),me(Fi,null,nu(l.value.metadata,(gt,Jt)=>(ge(),me("li",{key:`md-${Jt}`},[Vt("span",{class:"label",innerHTML:gt.label},null,8,l6),gt.value.length===1?(ge(),me("span",{key:0,class:"value",innerHTML:gt.value[0]},null,8,c6)):(ge(),me("ul",u6,[(ge(!0),me(Fi,null,nu(gt.value,re=>(ge(),me("li",{class:"value",innerHTML:re},null,8,h6))),256))]))]))),128))])])):ur("",!0),(ft=l.value)!=null&&ft.navDate?(ge(),me("div",d6,[p6,Vt("span",{class:"value",innerHTML:l.value.navDate},null,8,f6)])):ur("",!0),(ot=l.value)!=null&&ot.homepage?(ge(),me("div",g6,[m6,Vt("a",{class:"value",href:l.value.homepage.href,innerHTML:l.value.homepage.label},null,8,v6)])):ur("",!0),(V=l.value)!=null&&V.seeAlso?(ge(),me("div",y6,[b6,Vt("a",{class:"value",href:l.value.seeAlso[0].href,innerHTML:l.value.seeAlso[0].label},null,8,w6)])):ur("",!0),(nt=l.value)!=null&&nt.logo?(ge(),me("div",x6,[_6,Vt("a",{class:"value",href:l.value.logo[0].src,innerHTML:l.value.logo[0].src},null,8,k6)])):ur("",!0),(ut=l.value)!=null&&ut.imageData?(ge(),me("div",E6,[Vt("div",null,[T6,Vt("a",{class:"value",href:l.value.imageData.id,innerHTML:l.value.imageData.id.split("/").pop()},null,8,S6)]),Vt("div",null,[C6,Vt("span",{class:"value",innerHTML:l.value.imageData.format},null,8,P6)]),Vt("div",null,[M6,Vt("span",{class:"value",innerHTML:l.value.imageData.width},null,8,I6)]),Vt("div",null,[L6,Vt("span",{class:"value",innerHTML:l.value.imageData.height},null,8,R6)])])):ur("",!0)])],512)}}}),O6=`*[data-v-4827c438]{box-sizing:border-box}.manifest[data-v-4827c438]{width:100%;height:100%;overflow-y:scroll;background-color:#fff;font-size:.8em}.main[data-v-4827c438],.detail[data-v-4827c438]{display:flow-root;margin:6px}.main>*[data-v-4827c438]{margin-bottom:6px}.detail>div[data-v-4827c438]{margin-top:12px}.main .label[data-v-4827c438]{font-size:1.2em;font-weight:700}.thumbnail[data-v-4827c438]{float:left;max-width:45%;max-height:200px;margin:0 6px 6px 0}.links[data-v-4827c438]{margin-top:6px}img.iiif[data-v-4827c438]{height:24px;cursor:copy}ul[data-v-4827c438]{list-style:none;padding-left:12px;margin-top:0}.detail .label[data-v-4827c438]{font-size:1.1em;font-weight:700;min-width:80px;margin-right:6px}.detail .label[data-v-4827c438]:after{content:":"}.detail .value[data-v-4827c438],.main .label[data-v-4827c438]{white-space:pre-wrap;overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}.logo[data-v-4827c438]{padding-right:6px}img.logo[data-v-4827c438]{height:40px}.manifest-id[data-v-4827c438],.manifest-label[data-v-4827c438],.summary[data-v-4827c438],.provider[data-v-4827c438],.rights[data-v-4827c438],.service[data-v-4827c438],.imageData div[data-v-4827c438],.thumbnail[data-v-4827c438]{display:flex;align-items:flex-start}.metadata>ul[data-v-4827c438],.requiredStatement ul[data-v-4827c438]{padding-left:24px}.metadata ul li[data-v-4827c438],.requiredStatement ul li[data-v-4827c438]{display:flex}.metadata ul ul[data-v-4827c438]{padding-left:0}a[data-v-4827c438]:link,a[data-v-4827c438]:visited{color:#00e}
`,z6=rs(A6,[["styles",[O6]],["__scopeId","data-v-4827c438"]]),N6={class:"hs-tooltip-toggle block text-center",href:"javascript:;",title:"Click for more information"},D6=Vt("div",{class:"icon-wrapper"},[Vt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[Vt("path",{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"})])],-1),F6={class:"hs-tooltip-content z-30 hs-tooltip-shown:opacity-100 hs-tooltip-shown:visible hidden opacity-0 transition-opacity absolute invisible max-w-xs bg-white border border-gray-100 text-left rounded-lg shadow-md dark:bg-gray-800 dark:border-gray-700",role:"tooltip"},B6={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},j6={class:"p-4 md:p-5"},H6=["manifest"],U6=vo({__name:"ManifestPopup.ce",props:{manifest:{type:Object,required:!0}},setup(n){const r=n,t=he(null),o=De(()=>{var u;return(u=t==null?void 0:t.value)==null?void 0:u.parentNode});qe(o,()=>{new TC(o.value).init()});const l=he(null);return qe(r,()=>l.value=r.manifest),ts(()=>l.value=r.manifest),(u,d)=>(ge(),me("div",{ref_key:"root",ref:t,class:"hs-tooltip inline-block [--trigger:click] [--placement:bottom]"},[Vt("a",N6,[D6,Vt("div",F6,[Vt("div",B6,[Vt("div",j6,[l.value?(ge(),me("mdp-manifest",{key:0,manifest:l.value},null,8,H6)):ur("",!0)])])])])],512))}}),G6=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-\\[100\\%\\]{height:100%}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}mdp-header ul,mdp-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}svg{filter:invert(100%) sepia(0%) saturate(7487%) hue-rotate(339deg) brightness(115%) contrast(100%)}.icon-wrapper{background:rgba(0,0,0,.4);width:28px;height:28px;border-radius:50%;text-align:center;vertical-align:middle;padding:5px}
`,q6=rs(U6,[["styles",[G6]]]);var y1={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(n,r){(function(t,o){o(r)})(Ox,function(t){var o="1.9.4";function l(p){var b,S,O,q;for(S=1,O=arguments.length;S<O;S++){q=arguments[S];for(b in q)p[b]=q[b]}return p}var u=Object.create||function(){function p(){}return function(b){return p.prototype=b,new p}}();function d(p,b){var S=Array.prototype.slice;if(p.bind)return p.bind.apply(p,S.call(arguments,1));var O=S.call(arguments,2);return function(){return p.apply(b,O.length?O.concat(S.call(arguments)):arguments)}}var f=0;function m(p){return"_leaflet_id"in p||(p._leaflet_id=++f),p._leaflet_id}function v(p,b,S){var O,q,rt,wt;return wt=function(){O=!1,q&&(rt.apply(S,q),q=!1)},rt=function(){O?q=arguments:(p.apply(S,arguments),setTimeout(wt,b),O=!0)},rt}function _(p,b,S){var O=b[1],q=b[0],rt=O-q;return p===O&&S?p:((p-q)%rt+rt)%rt+q}function k(){return!1}function C(p,b){if(b===!1)return p;var S=Math.pow(10,b===void 0?6:b);return Math.round(p*S)/S}function M(p){return p.trim?p.trim():p.replace(/^\s+|\s+$/g,"")}function I(p){return M(p).split(/\s+/)}function F(p,b){Object.prototype.hasOwnProperty.call(p,"options")||(p.options=p.options?u(p.options):{});for(var S in b)p.options[S]=b[S];return p.options}function H(p,b,S){var O=[];for(var q in p)O.push(encodeURIComponent(S?q.toUpperCase():q)+"="+encodeURIComponent(p[q]));return(!b||b.indexOf("?")===-1?"?":"&")+O.join("&")}var U=/\{ *([\w_ -]+) *\}/g;function J(p,b){return p.replace(U,function(S,O){var q=b[O];if(q===void 0)throw new Error("No value provided for variable "+S);return typeof q=="function"&&(q=q(b)),q})}var G=Array.isArray||function(p){return Object.prototype.toString.call(p)==="[object Array]"};function Z(p,b){for(var S=0;S<p.length;S++)if(p[S]===b)return S;return-1}var at="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function mt(p){return window["webkit"+p]||window["moz"+p]||window["ms"+p]}var ft=0;function ot(p){var b=+new Date,S=Math.max(0,16-(b-ft));return ft=b+S,window.setTimeout(p,S)}var V=window.requestAnimationFrame||mt("RequestAnimationFrame")||ot,nt=window.cancelAnimationFrame||mt("CancelAnimationFrame")||mt("CancelRequestAnimationFrame")||function(p){window.clearTimeout(p)};function ut(p,b,S){if(S&&V===ot)p.call(b);else return V.call(window,d(p,b))}function gt(p){p&&nt.call(window,p)}var Jt={__proto__:null,extend:l,create:u,bind:d,get lastId(){return f},stamp:m,throttle:v,wrapNum:_,falseFn:k,formatNum:C,trim:M,splitWords:I,setOptions:F,getParamString:H,template:J,isArray:G,indexOf:Z,emptyImageUrl:at,requestFn:V,cancelFn:nt,requestAnimFrame:ut,cancelAnimFrame:gt};function re(){}re.extend=function(p){var b=function(){F(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},S=b.__super__=this.prototype,O=u(S);O.constructor=b,b.prototype=O;for(var q in this)Object.prototype.hasOwnProperty.call(this,q)&&q!=="prototype"&&q!=="__super__"&&(b[q]=this[q]);return p.statics&&l(b,p.statics),p.includes&&(Xt(p.includes),l.apply(null,[O].concat(p.includes))),l(O,p),delete O.statics,delete O.includes,O.options&&(O.options=S.options?u(S.options):{},l(O.options,p.options)),O._initHooks=[],O.callInitHooks=function(){if(!this._initHooksCalled){S.callInitHooks&&S.callInitHooks.call(this),this._initHooksCalled=!0;for(var rt=0,wt=O._initHooks.length;rt<wt;rt++)O._initHooks[rt].call(this)}},b},re.include=function(p){var b=this.prototype.options;return l(this.prototype,p),p.options&&(this.prototype.options=b,this.mergeOptions(p.options)),this},re.mergeOptions=function(p){return l(this.prototype.options,p),this},re.addInitHook=function(p){var b=Array.prototype.slice.call(arguments,1),S=typeof p=="function"?p:function(){this[p].apply(this,b)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(S),this};function Xt(p){if(!(typeof L>"u"||!L||!L.Mixin)){p=G(p)?p:[p];for(var b=0;b<p.length;b++)p[b]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ct={on:function(p,b,S){if(typeof p=="object")for(var O in p)this._on(O,p[O],b);else{p=I(p);for(var q=0,rt=p.length;q<rt;q++)this._on(p[q],b,S)}return this},off:function(p,b,S){if(!arguments.length)delete this._events;else if(typeof p=="object")for(var O in p)this._off(O,p[O],b);else{p=I(p);for(var q=arguments.length===1,rt=0,wt=p.length;rt<wt;rt++)q?this._off(p[rt]):this._off(p[rt],b,S)}return this},_on:function(p,b,S,O){if(typeof b!="function"){console.warn("wrong listener type: "+typeof b);return}if(this._listens(p,b,S)===!1){S===this&&(S=void 0);var q={fn:b,ctx:S};O&&(q.once=!0),this._events=this._events||{},this._events[p]=this._events[p]||[],this._events[p].push(q)}},_off:function(p,b,S){var O,q,rt;if(this._events&&(O=this._events[p],!!O)){if(arguments.length===1){if(this._firingCount)for(q=0,rt=O.length;q<rt;q++)O[q].fn=k;delete this._events[p];return}if(typeof b!="function"){console.warn("wrong listener type: "+typeof b);return}var wt=this._listens(p,b,S);if(wt!==!1){var Ot=O[wt];this._firingCount&&(Ot.fn=k,this._events[p]=O=O.slice()),O.splice(wt,1)}}},fire:function(p,b,S){if(!this.listens(p,S))return this;var O=l({},b,{type:p,target:this,sourceTarget:b&&b.sourceTarget||this});if(this._events){var q=this._events[p];if(q){this._firingCount=this._firingCount+1||1;for(var rt=0,wt=q.length;rt<wt;rt++){var Ot=q[rt],Ut=Ot.fn;Ot.once&&this.off(p,Ut,Ot.ctx),Ut.call(Ot.ctx||this,O)}this._firingCount--}}return S&&this._propagateEvent(O),this},listens:function(p,b,S,O){typeof p!="string"&&console.warn('"string" type argument expected');var q=b;typeof b!="function"&&(O=!!b,q=void 0,S=void 0);var rt=this._events&&this._events[p];if(rt&&rt.length&&this._listens(p,q,S)!==!1)return!0;if(O){for(var wt in this._eventParents)if(this._eventParents[wt].listens(p,b,S,O))return!0}return!1},_listens:function(p,b,S){if(!this._events)return!1;var O=this._events[p]||[];if(!b)return!!O.length;S===this&&(S=void 0);for(var q=0,rt=O.length;q<rt;q++)if(O[q].fn===b&&O[q].ctx===S)return q;return!1},once:function(p,b,S){if(typeof p=="object")for(var O in p)this._on(O,p[O],b,!0);else{p=I(p);for(var q=0,rt=p.length;q<rt;q++)this._on(p[q],b,S,!0)}return this},addEventParent:function(p){return this._eventParents=this._eventParents||{},this._eventParents[m(p)]=p,this},removeEventParent:function(p){return this._eventParents&&delete this._eventParents[m(p)],this},_propagateEvent:function(p){for(var b in this._eventParents)this._eventParents[b].fire(p.type,l({layer:p.target,propagatedFrom:p.target},p),!0)}};Ct.addEventListener=Ct.on,Ct.removeEventListener=Ct.clearAllEventListeners=Ct.off,Ct.addOneTimeEventListener=Ct.once,Ct.fireEvent=Ct.fire,Ct.hasEventListeners=Ct.listens;var Kt=re.extend(Ct);function Zt(p,b,S){this.x=S?Math.round(p):p,this.y=S?Math.round(b):b}var Pe=Math.trunc||function(p){return p>0?Math.floor(p):Math.ceil(p)};Zt.prototype={clone:function(){return new Zt(this.x,this.y)},add:function(p){return this.clone()._add(bt(p))},_add:function(p){return this.x+=p.x,this.y+=p.y,this},subtract:function(p){return this.clone()._subtract(bt(p))},_subtract:function(p){return this.x-=p.x,this.y-=p.y,this},divideBy:function(p){return this.clone()._divideBy(p)},_divideBy:function(p){return this.x/=p,this.y/=p,this},multiplyBy:function(p){return this.clone()._multiplyBy(p)},_multiplyBy:function(p){return this.x*=p,this.y*=p,this},scaleBy:function(p){return new Zt(this.x*p.x,this.y*p.y)},unscaleBy:function(p){return new Zt(this.x/p.x,this.y/p.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Pe(this.x),this.y=Pe(this.y),this},distanceTo:function(p){p=bt(p);var b=p.x-this.x,S=p.y-this.y;return Math.sqrt(b*b+S*S)},equals:function(p){return p=bt(p),p.x===this.x&&p.y===this.y},contains:function(p){return p=bt(p),Math.abs(p.x)<=Math.abs(this.x)&&Math.abs(p.y)<=Math.abs(this.y)},toString:function(){return"Point("+C(this.x)+", "+C(this.y)+")"}};function bt(p,b,S){return p instanceof Zt?p:G(p)?new Zt(p[0],p[1]):p==null?p:typeof p=="object"&&"x"in p&&"y"in p?new Zt(p.x,p.y):new Zt(p,b,S)}function At(p,b){if(p)for(var S=b?[p,b]:p,O=0,q=S.length;O<q;O++)this.extend(S[O])}At.prototype={extend:function(p){var b,S;if(!p)return this;if(p instanceof Zt||typeof p[0]=="number"||"x"in p)b=S=bt(p);else if(p=qt(p),b=p.min,S=p.max,!b||!S)return this;return!this.min&&!this.max?(this.min=b.clone(),this.max=S.clone()):(this.min.x=Math.min(b.x,this.min.x),this.max.x=Math.max(S.x,this.max.x),this.min.y=Math.min(b.y,this.min.y),this.max.y=Math.max(S.y,this.max.y)),this},getCenter:function(p){return bt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,p)},getBottomLeft:function(){return bt(this.min.x,this.max.y)},getTopRight:function(){return bt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(p){var b,S;return typeof p[0]=="number"||p instanceof Zt?p=bt(p):p=qt(p),p instanceof At?(b=p.min,S=p.max):b=S=p,b.x>=this.min.x&&S.x<=this.max.x&&b.y>=this.min.y&&S.y<=this.max.y},intersects:function(p){p=qt(p);var b=this.min,S=this.max,O=p.min,q=p.max,rt=q.x>=b.x&&O.x<=S.x,wt=q.y>=b.y&&O.y<=S.y;return rt&&wt},overlaps:function(p){p=qt(p);var b=this.min,S=this.max,O=p.min,q=p.max,rt=q.x>b.x&&O.x<S.x,wt=q.y>b.y&&O.y<S.y;return rt&&wt},isValid:function(){return!!(this.min&&this.max)},pad:function(p){var b=this.min,S=this.max,O=Math.abs(b.x-S.x)*p,q=Math.abs(b.y-S.y)*p;return qt(bt(b.x-O,b.y-q),bt(S.x+O,S.y+q))},equals:function(p){return p?(p=qt(p),this.min.equals(p.getTopLeft())&&this.max.equals(p.getBottomRight())):!1}};function qt(p,b){return!p||p instanceof At?p:new At(p,b)}function ee(p,b){if(p)for(var S=b?[p,b]:p,O=0,q=S.length;O<q;O++)this.extend(S[O])}ee.prototype={extend:function(p){var b=this._southWest,S=this._northEast,O,q;if(p instanceof ae)O=p,q=p;else if(p instanceof ee){if(O=p._southWest,q=p._northEast,!O||!q)return this}else return p?this.extend(le(p)||pe(p)):this;return!b&&!S?(this._southWest=new ae(O.lat,O.lng),this._northEast=new ae(q.lat,q.lng)):(b.lat=Math.min(O.lat,b.lat),b.lng=Math.min(O.lng,b.lng),S.lat=Math.max(q.lat,S.lat),S.lng=Math.max(q.lng,S.lng)),this},pad:function(p){var b=this._southWest,S=this._northEast,O=Math.abs(b.lat-S.lat)*p,q=Math.abs(b.lng-S.lng)*p;return new ee(new ae(b.lat-O,b.lng-q),new ae(S.lat+O,S.lng+q))},getCenter:function(){return new ae((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ae(this.getNorth(),this.getWest())},getSouthEast:function(){return new ae(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(p){typeof p[0]=="number"||p instanceof ae||"lat"in p?p=le(p):p=pe(p);var b=this._southWest,S=this._northEast,O,q;return p instanceof ee?(O=p.getSouthWest(),q=p.getNorthEast()):O=q=p,O.lat>=b.lat&&q.lat<=S.lat&&O.lng>=b.lng&&q.lng<=S.lng},intersects:function(p){p=pe(p);var b=this._southWest,S=this._northEast,O=p.getSouthWest(),q=p.getNorthEast(),rt=q.lat>=b.lat&&O.lat<=S.lat,wt=q.lng>=b.lng&&O.lng<=S.lng;return rt&&wt},overlaps:function(p){p=pe(p);var b=this._southWest,S=this._northEast,O=p.getSouthWest(),q=p.getNorthEast(),rt=q.lat>b.lat&&O.lat<S.lat,wt=q.lng>b.lng&&O.lng<S.lng;return rt&&wt},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(p,b){return p?(p=pe(p),this._southWest.equals(p.getSouthWest(),b)&&this._northEast.equals(p.getNorthEast(),b)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function pe(p,b){return p instanceof ee?p:new ee(p,b)}function ae(p,b,S){if(isNaN(p)||isNaN(b))throw new Error("Invalid LatLng object: ("+p+", "+b+")");this.lat=+p,this.lng=+b,S!==void 0&&(this.alt=+S)}ae.prototype={equals:function(p,b){if(!p)return!1;p=le(p);var S=Math.max(Math.abs(this.lat-p.lat),Math.abs(this.lng-p.lng));return S<=(b===void 0?1e-9:b)},toString:function(p){return"LatLng("+C(this.lat,p)+", "+C(this.lng,p)+")"},distanceTo:function(p){return mr.distance(this,le(p))},wrap:function(){return mr.wrapLatLng(this)},toBounds:function(p){var b=180*p/40075017,S=b/Math.cos(Math.PI/180*this.lat);return pe([this.lat-b,this.lng-S],[this.lat+b,this.lng+S])},clone:function(){return new ae(this.lat,this.lng,this.alt)}};function le(p,b,S){return p instanceof ae?p:G(p)&&typeof p[0]!="object"?p.length===3?new ae(p[0],p[1],p[2]):p.length===2?new ae(p[0],p[1]):null:p==null?p:typeof p=="object"&&"lat"in p?new ae(p.lat,"lng"in p?p.lng:p.lon,p.alt):b===void 0?null:new ae(p,b,S)}var rr={latLngToPoint:function(p,b){var S=this.projection.project(p),O=this.scale(b);return this.transformation._transform(S,O)},pointToLatLng:function(p,b){var S=this.scale(b),O=this.transformation.untransform(p,S);return this.projection.unproject(O)},project:function(p){return this.projection.project(p)},unproject:function(p){return this.projection.unproject(p)},scale:function(p){return 256*Math.pow(2,p)},zoom:function(p){return Math.log(p/256)/Math.LN2},getProjectedBounds:function(p){if(this.infinite)return null;var b=this.projection.bounds,S=this.scale(p),O=this.transformation.transform(b.min,S),q=this.transformation.transform(b.max,S);return new At(O,q)},infinite:!1,wrapLatLng:function(p){var b=this.wrapLng?_(p.lng,this.wrapLng,!0):p.lng,S=this.wrapLat?_(p.lat,this.wrapLat,!0):p.lat,O=p.alt;return new ae(S,b,O)},wrapLatLngBounds:function(p){var b=p.getCenter(),S=this.wrapLatLng(b),O=b.lat-S.lat,q=b.lng-S.lng;if(O===0&&q===0)return p;var rt=p.getSouthWest(),wt=p.getNorthEast(),Ot=new ae(rt.lat-O,rt.lng-q),Ut=new ae(wt.lat-O,wt.lng-q);return new ee(Ot,Ut)}},mr=l({},rr,{wrapLng:[-180,180],R:6371e3,distance:function(p,b){var S=Math.PI/180,O=p.lat*S,q=b.lat*S,rt=Math.sin((b.lat-p.lat)*S/2),wt=Math.sin((b.lng-p.lng)*S/2),Ot=rt*rt+Math.cos(O)*Math.cos(q)*wt*wt,Ut=2*Math.atan2(Math.sqrt(Ot),Math.sqrt(1-Ot));return this.R*Ut}}),vi=6378137,Xi={R:vi,MAX_LATITUDE:85.0511287798,project:function(p){var b=Math.PI/180,S=this.MAX_LATITUDE,O=Math.max(Math.min(S,p.lat),-S),q=Math.sin(O*b);return new Zt(this.R*p.lng*b,this.R*Math.log((1+q)/(1-q))/2)},unproject:function(p){var b=180/Math.PI;return new ae((2*Math.atan(Math.exp(p.y/this.R))-Math.PI/2)*b,p.x*b/this.R)},bounds:function(){var p=vi*Math.PI;return new At([-p,-p],[p,p])}()};function Bi(p,b,S,O){if(G(p)){this._a=p[0],this._b=p[1],this._c=p[2],this._d=p[3];return}this._a=p,this._b=b,this._c=S,this._d=O}Bi.prototype={transform:function(p,b){return this._transform(p.clone(),b)},_transform:function(p,b){return b=b||1,p.x=b*(this._a*p.x+this._b),p.y=b*(this._c*p.y+this._d),p},untransform:function(p,b){return b=b||1,new Zt((p.x/b-this._b)/this._a,(p.y/b-this._d)/this._c)}};function yt(p,b,S,O){return new Bi(p,b,S,O)}var kt=l({},mr,{code:"EPSG:3857",projection:Xi,transformation:function(){var p=.5/(Math.PI*Xi.R);return yt(p,.5,-p,.5)}()}),Dt=l({},kt,{code:"EPSG:900913"});function R(p){return document.createElementNS("http://www.w3.org/2000/svg",p)}function j(p,b){var S="",O,q,rt,wt,Ot,Ut;for(O=0,rt=p.length;O<rt;O++){for(Ot=p[O],q=0,wt=Ot.length;q<wt;q++)Ut=Ot[q],S+=(q?"L":"M")+Ut.x+" "+Ut.y;S+=b?Ne.svg?"z":"x":""}return S||"M0 0"}var st=document.documentElement.style,pt="ActiveXObject"in window,dt=pt&&!document.addEventListener,_t="msLaunchUri"in navigator&&!("documentMode"in document),ht=No("webkit"),Lt=No("android"),Qt=No("android 2")||No("android 3"),$t=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),te=Lt&&No("Google")&&$t<537&&!("AudioNode"in window),ye=!!window.opera,xe=!_t&&No("chrome"),Be=No("gecko")&&!ht&&!ye&&!pt,$=!xe&&No("safari"),K=No("phantom"),ct="OTransition"in st,lt=navigator.platform.indexOf("Win")===0,Wt=pt&&"transition"in st,ne="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Qt,Ee="MozPerspective"in st,sr=!window.L_DISABLE_3D&&(Wt||ne||Ee)&&!ct&&!K,ze=typeof orientation<"u"||No("mobile"),qn=ze&&ht,ji=ze&&ne,Ss=!window.PointerEvent&&window.MSPointerEvent,ra=!!(window.PointerEvent||Ss),Eu="ontouchstart"in window||!!window.TouchEvent,Ji=!window.L_NO_TOUCH&&(Eu||ra),Uy=ze&&ye,Tu=ze&&Be,Gy=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,fc=function(){var p=!1;try{var b=Object.defineProperty({},"passive",{get:function(){p=!0}});window.addEventListener("testPassiveEventSupport",k,b),window.removeEventListener("testPassiveEventSupport",k,b)}catch{}return p}(),Su=function(){return!!document.createElement("canvas").getContext}(),wl=!!(document.createElementNS&&R("svg").createSVGRect),pm=!!wl&&function(){var p=document.createElement("div");return p.innerHTML="<svg/>",(p.firstChild&&p.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),fm=!wl&&function(){try{var p=document.createElement("div");p.innerHTML='<v:shape adj="1"/>';var b=p.firstChild;return b.style.behavior="url(#default#VML)",b&&typeof b.adj=="object"}catch{return!1}}(),Ap=navigator.platform.indexOf("Mac")===0,Ah=navigator.platform.indexOf("Linux")===0;function No(p){return navigator.userAgent.toLowerCase().indexOf(p)>=0}var Ne={ie:pt,ielt9:dt,edge:_t,webkit:ht,android:Lt,android23:Qt,androidStock:te,opera:ye,chrome:xe,gecko:Be,safari:$,phantom:K,opera12:ct,win:lt,ie3d:Wt,webkit3d:ne,gecko3d:Ee,any3d:sr,mobile:ze,mobileWebkit:qn,mobileWebkit3d:ji,msPointer:Ss,pointer:ra,touch:Ji,touchNative:Eu,mobileOpera:Uy,mobileGecko:Tu,retina:Gy,passiveEvents:fc,canvas:Su,svg:wl,vml:fm,inlineSvg:pm,mac:Ap,linux:Ah},xl=Ne.msPointer?"MSPointerDown":"pointerdown",Op=Ne.msPointer?"MSPointerMove":"pointermove",is=Ne.msPointer?"MSPointerUp":"pointerup",Cu=Ne.msPointer?"MSPointerCancel":"pointercancel",Oh={touchstart:xl,touchmove:Op,touchend:is,touchcancel:Cu},gm={touchstart:Zy,touchmove:Ba,touchend:Ba,touchcancel:Ba},gc={},mm=!1;function qy(p,b,S){return b==="touchstart"&&Wy(),gm[b]?(S=gm[b].bind(this,S),p.addEventListener(Oh[b],S,!1),S):(console.warn("wrong event specified:",b),k)}function vm(p,b,S){if(!Oh[b]){console.warn("wrong event specified:",b);return}p.removeEventListener(Oh[b],S,!1)}function Vy(p){gc[p.pointerId]=p}function ym(p){gc[p.pointerId]&&(gc[p.pointerId]=p)}function zp(p){delete gc[p.pointerId]}function Wy(){mm||(document.addEventListener(xl,Vy,!0),document.addEventListener(Op,ym,!0),document.addEventListener(is,zp,!0),document.addEventListener(Cu,zp,!0),mm=!0)}function Ba(p,b){if(b.pointerType!==(b.MSPOINTER_TYPE_MOUSE||"mouse")){b.touches=[];for(var S in gc)b.touches.push(gc[S]);b.changedTouches=[b],p(b)}}function Zy(p,b){b.MSPOINTER_TYPE_TOUCH&&b.pointerType===b.MSPOINTER_TYPE_TOUCH&&Qi(b),Ba(p,b)}function Yy(p){var b={},S,O;for(O in p)S=p[O],b[O]=S&&S.bind?S.bind(p):S;return p=b,b.type="dblclick",b.detail=2,b.isTrusted=!1,b._simulated=!0,b}var zh=200;function bm(p,b){p.addEventListener("dblclick",b);var S=0,O;function q(rt){if(rt.detail!==1){O=rt.detail;return}if(!(rt.pointerType==="mouse"||rt.sourceCapabilities&&!rt.sourceCapabilities.firesTouchEvents)){var wt=km(rt);if(!(wt.some(function(Ut){return Ut instanceof HTMLLabelElement&&Ut.attributes.for})&&!wt.some(function(Ut){return Ut instanceof HTMLInputElement||Ut instanceof HTMLSelectElement}))){var Ot=Date.now();Ot-S<=zh?(O++,O===2&&b(Yy(rt))):O=1,S=Ot}}}return p.addEventListener("click",q),{dblclick:b,simDblclick:q}}function Xy(p,b){p.removeEventListener("dblclick",b.dblclick),p.removeEventListener("click",b.simDblclick)}var Nh=Iu(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Pu=Iu(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),wm=Pu==="webkitTransition"||Pu==="OTransition"?Pu+"End":"transitionend";function xm(p){return typeof p=="string"?document.getElementById(p):p}function mc(p,b){var S=p.style[b]||p.currentStyle&&p.currentStyle[b];if((!S||S==="auto")&&document.defaultView){var O=document.defaultView.getComputedStyle(p,null);S=O?O[b]:null}return S==="auto"?null:S}function ei(p,b,S){var O=document.createElement(p);return O.className=b||"",S&&S.appendChild(O),O}function ki(p){var b=p.parentNode;b&&b.removeChild(p)}function Mu(p){for(;p.firstChild;)p.removeChild(p.firstChild)}function ja(p){var b=p.parentNode;b&&b.lastChild!==p&&b.appendChild(p)}function Ha(p){var b=p.parentNode;b&&b.firstChild!==p&&b.insertBefore(p,b.firstChild)}function vc(p,b){if(p.classList!==void 0)return p.classList.contains(b);var S=yc(p);return S.length>0&&new RegExp("(^|\\s)"+b+"(\\s|$)").test(S)}function cr(p,b){if(p.classList!==void 0)for(var S=I(b),O=0,q=S.length;O<q;O++)p.classList.add(S[O]);else if(!vc(p,b)){var rt=yc(p);Dh(p,(rt?rt+" ":"")+b)}}function Je(p,b){p.classList!==void 0?p.classList.remove(b):Dh(p,M((" "+yc(p)+" ").replace(" "+b+" "," ")))}function Dh(p,b){p.className.baseVal===void 0?p.className=b:p.className.baseVal=b}function yc(p){return p.correspondingElement&&(p=p.correspondingElement),p.className.baseVal===void 0?p.className:p.className.baseVal}function ir(p,b){"opacity"in p.style?p.style.opacity=b:"filter"in p.style&&_m(p,b)}function _m(p,b){var S=!1,O="DXImageTransform.Microsoft.Alpha";try{S=p.filters.item(O)}catch{if(b===1)return}b=Math.round(b*100),S?(S.Enabled=b!==100,S.Opacity=b):p.style.filter+=" progid:"+O+"(opacity="+b+")"}function Iu(p){for(var b=document.documentElement.style,S=0;S<p.length;S++)if(p[S]in b)return p[S];return!1}function _l(p,b,S){var O=b||new Zt(0,0);p.style[Nh]=(Ne.ie3d?"translate("+O.x+"px,"+O.y+"px)":"translate3d("+O.x+"px,"+O.y+"px,0)")+(S?" scale("+S+")":"")}function Ki(p,b){p._leaflet_pos=b,Ne.any3d?_l(p,b):(p.style.left=b.x+"px",p.style.top=b.y+"px")}function Si(p){return p._leaflet_pos||new Zt(0,0)}var bc,wc,Lu;if("onselectstart"in document)bc=function(){or(window,"selectstart",Qi)},wc=function(){ui(window,"selectstart",Qi)};else{var xc=Iu(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);bc=function(){if(xc){var p=document.documentElement.style;Lu=p[xc],p[xc]="none"}},wc=function(){xc&&(document.documentElement.style[xc]=Lu,Lu=void 0)}}function Np(){or(window,"dragstart",Qi)}function _c(){ui(window,"dragstart",Qi)}var Fh,Bh;function Dp(p){for(;p.tabIndex===-1;)p=p.parentNode;p.style&&(jh(),Fh=p,Bh=p.style.outlineStyle,p.style.outlineStyle="none",or(window,"keydown",jh))}function jh(){Fh&&(Fh.style.outlineStyle=Bh,Fh=void 0,Bh=void 0,ui(window,"keydown",jh))}function Ru(p){do p=p.parentNode;while((!p.offsetWidth||!p.offsetHeight)&&p!==document.body);return p}function Au(p){var b=p.getBoundingClientRect();return{x:b.width/p.offsetWidth||1,y:b.height/p.offsetHeight||1,boundingClientRect:b}}var kl={__proto__:null,TRANSFORM:Nh,TRANSITION:Pu,TRANSITION_END:wm,get:xm,getStyle:mc,create:ei,remove:ki,empty:Mu,toFront:ja,toBack:Ha,hasClass:vc,addClass:cr,removeClass:Je,setClass:Dh,getClass:yc,setOpacity:ir,testProp:Iu,setTransform:_l,setPosition:Ki,getPosition:Si,get disableTextSelection(){return bc},get enableTextSelection(){return wc},disableImageDrag:Np,enableImageDrag:_c,preventOutline:Dp,restoreOutline:jh,getSizedParentNode:Ru,getScale:Au};function or(p,b,S,O){if(b&&typeof b=="object")for(var q in b)Bp(p,q,b[q],S);else{b=I(b);for(var rt=0,wt=b.length;rt<wt;rt++)Bp(p,b[rt],S,O)}return this}var ns="_leaflet_events";function ui(p,b,S,O){if(arguments.length===1)Hh(p),delete p[ns];else if(b&&typeof b=="object")for(var q in b)Ou(p,q,b[q],S);else if(b=I(b),arguments.length===2)Hh(p,function(Ot){return Z(b,Ot)!==-1});else for(var rt=0,wt=b.length;rt<wt;rt++)Ou(p,b[rt],S,O);return this}function Hh(p,b){for(var S in p[ns]){var O=S.split(/\d/)[0];(!b||b(O))&&Ou(p,O,null,null,S)}}var Fp={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Bp(p,b,S,O){var q=b+m(S)+(O?"_"+m(O):"");if(p[ns]&&p[ns][q])return this;var rt=function(Ot){return S.call(O||p,Ot||window.event)},wt=rt;!Ne.touchNative&&Ne.pointer&&b.indexOf("touch")===0?rt=qy(p,b,rt):Ne.touch&&b==="dblclick"?rt=bm(p,rt):"addEventListener"in p?b==="touchstart"||b==="touchmove"||b==="wheel"||b==="mousewheel"?p.addEventListener(Fp[b]||b,rt,Ne.passiveEvents?{passive:!1}:!1):b==="mouseenter"||b==="mouseleave"?(rt=function(Ot){Ot=Ot||window.event,ia(p,Ot)&&wt(Ot)},p.addEventListener(Fp[b],rt,!1)):p.addEventListener(b,wt,!1):p.attachEvent("on"+b,rt),p[ns]=p[ns]||{},p[ns][q]=rt}function Ou(p,b,S,O,q){q=q||b+m(S)+(O?"_"+m(O):"");var rt=p[ns]&&p[ns][q];if(!rt)return this;!Ne.touchNative&&Ne.pointer&&b.indexOf("touch")===0?vm(p,b,rt):Ne.touch&&b==="dblclick"?Xy(p,rt):"removeEventListener"in p?p.removeEventListener(Fp[b]||b,rt,!1):p.detachEvent("on"+b,rt),p[ns][q]=null}function El(p){return p.stopPropagation?p.stopPropagation():p.originalEvent?p.originalEvent._stopped=!0:p.cancelBubble=!0,this}function jp(p){return Bp(p,"wheel",El),this}function kc(p){return or(p,"mousedown touchstart dblclick contextmenu",El),p._leaflet_disable_click=!0,this}function Qi(p){return p.preventDefault?p.preventDefault():p.returnValue=!1,this}function Tl(p){return Qi(p),El(p),this}function km(p){if(p.composedPath)return p.composedPath();for(var b=[],S=p.target;S;)b.push(S),S=S.parentNode;return b}function Em(p,b){if(!b)return new Zt(p.clientX,p.clientY);var S=Au(b),O=S.boundingClientRect;return new Zt((p.clientX-O.left)/S.x-b.clientLeft,(p.clientY-O.top)/S.y-b.clientTop)}var Ky=Ne.linux&&Ne.chrome?window.devicePixelRatio:Ne.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Tm(p){return Ne.edge?p.wheelDeltaY/2:p.deltaY&&p.deltaMode===0?-p.deltaY/Ky:p.deltaY&&p.deltaMode===1?-p.deltaY*20:p.deltaY&&p.deltaMode===2?-p.deltaY*60:p.deltaX||p.deltaZ?0:p.wheelDelta?(p.wheelDeltaY||p.wheelDelta)/2:p.detail&&Math.abs(p.detail)<32765?-p.detail*20:p.detail?p.detail/-32765*60:0}function ia(p,b){var S=b.relatedTarget;if(!S)return!0;try{for(;S&&S!==p;)S=S.parentNode}catch{return!1}return S!==p}var Hp={__proto__:null,on:or,off:ui,stopPropagation:El,disableScrollPropagation:jp,disableClickPropagation:kc,preventDefault:Qi,stop:Tl,getPropagationPath:km,getMousePosition:Em,getWheelDelta:Tm,isExternalTarget:ia,addListener:or,removeListener:ui},Up=Kt.extend({run:function(p,b,S,O){this.stop(),this._el=p,this._inProgress=!0,this._duration=S||.25,this._easeOutPower=1/Math.max(O||.5,.2),this._startPos=Si(p),this._offset=b.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ut(this._animate,this),this._step()},_step:function(p){var b=+new Date-this._startTime,S=this._duration*1e3;b<S?this._runFrame(this._easeOut(b/S),p):(this._runFrame(1),this._complete())},_runFrame:function(p,b){var S=this._startPos.add(this._offset.multiplyBy(p));b&&S._round(),Ki(this._el,S),this.fire("step")},_complete:function(){gt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(p){return 1-Math.pow(1-p,this._easeOutPower)}}),Yr=Kt.extend({options:{crs:kt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(p,b){b=F(this,b),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(p),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),b.maxBounds&&this.setMaxBounds(b.maxBounds),b.zoom!==void 0&&(this._zoom=this._limitZoom(b.zoom)),b.center&&b.zoom!==void 0&&this.setView(le(b.center),b.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Pu&&Ne.any3d&&!Ne.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),or(this._proxy,wm,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(p,b,S){if(b=b===void 0?this._zoom:this._limitZoom(b),p=this._limitCenter(le(p),b,this.options.maxBounds),S=S||{},this._stop(),this._loaded&&!S.reset&&S!==!0){S.animate!==void 0&&(S.zoom=l({animate:S.animate},S.zoom),S.pan=l({animate:S.animate,duration:S.duration},S.pan));var O=this._zoom!==b?this._tryAnimatedZoom&&this._tryAnimatedZoom(p,b,S.zoom):this._tryAnimatedPan(p,S.pan);if(O)return clearTimeout(this._sizeTimer),this}return this._resetView(p,b,S.pan&&S.pan.noMoveStart),this},setZoom:function(p,b){return this._loaded?this.setView(this.getCenter(),p,{zoom:b}):(this._zoom=p,this)},zoomIn:function(p,b){return p=p||(Ne.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+p,b)},zoomOut:function(p,b){return p=p||(Ne.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-p,b)},setZoomAround:function(p,b,S){var O=this.getZoomScale(b),q=this.getSize().divideBy(2),rt=p instanceof Zt?p:this.latLngToContainerPoint(p),wt=rt.subtract(q).multiplyBy(1-1/O),Ot=this.containerPointToLatLng(q.add(wt));return this.setView(Ot,b,{zoom:S})},_getBoundsCenterZoom:function(p,b){b=b||{},p=p.getBounds?p.getBounds():pe(p);var S=bt(b.paddingTopLeft||b.padding||[0,0]),O=bt(b.paddingBottomRight||b.padding||[0,0]),q=this.getBoundsZoom(p,!1,S.add(O));if(q=typeof b.maxZoom=="number"?Math.min(b.maxZoom,q):q,q===1/0)return{center:p.getCenter(),zoom:q};var rt=O.subtract(S).divideBy(2),wt=this.project(p.getSouthWest(),q),Ot=this.project(p.getNorthEast(),q),Ut=this.unproject(wt.add(Ot).divideBy(2).add(rt),q);return{center:Ut,zoom:q}},fitBounds:function(p,b){if(p=pe(p),!p.isValid())throw new Error("Bounds are not valid.");var S=this._getBoundsCenterZoom(p,b);return this.setView(S.center,S.zoom,b)},fitWorld:function(p){return this.fitBounds([[-90,-180],[90,180]],p)},panTo:function(p,b){return this.setView(p,this._zoom,{pan:b})},panBy:function(p,b){if(p=bt(p).round(),b=b||{},!p.x&&!p.y)return this.fire("moveend");if(b.animate!==!0&&!this.getSize().contains(p))return this._resetView(this.unproject(this.project(this.getCenter()).add(p)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Up,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),b.noMoveStart||this.fire("movestart"),b.animate!==!1){cr(this._mapPane,"leaflet-pan-anim");var S=this._getMapPanePos().subtract(p).round();this._panAnim.run(this._mapPane,S,b.duration||.25,b.easeLinearity)}else this._rawPanBy(p),this.fire("move").fire("moveend");return this},flyTo:function(p,b,S){if(S=S||{},S.animate===!1||!Ne.any3d)return this.setView(p,b,S);this._stop();var O=this.project(this.getCenter()),q=this.project(p),rt=this.getSize(),wt=this._zoom;p=le(p),b=b===void 0?wt:b;var Ot=Math.max(rt.x,rt.y),Ut=Ot*this.getZoomScale(wt,b),ie=q.distanceTo(O)||1,_e=1.42,Xe=_e*_e;function dr(Hi){var qu=Hi?-1:1,Zm=Hi?Ut:Ot,Rc=Ut*Ut-Ot*Ot+qu*Xe*Xe*ie*ie,Ym=2*Zm*Xe*ie,ld=Rc/Ym,uf=Math.sqrt(ld*ld+1)-ld,zl=uf<1e-9?-18:Math.log(uf);return zl}function Rn(Hi){return(Math.exp(Hi)-Math.exp(-Hi))/2}function tn(Hi){return(Math.exp(Hi)+Math.exp(-Hi))/2}function An(Hi){return Rn(Hi)/tn(Hi)}var Wn=dr(0);function Al(Hi){return Ot*(tn(Wn)/tn(Wn+_e*Hi))}function Gm(Hi){return Ot*(tn(Wn)*An(Wn+_e*Hi)-Rn(Wn))/Xe}function qm(Hi){return 1-Math.pow(1-Hi,1.5)}var Vm=Date.now(),Wm=(dr(1)-Wn)/_e,cf=S.duration?1e3*S.duration:1e3*Wm*.8;function Ol(){var Hi=(Date.now()-Vm)/cf,qu=qm(Hi)*Wm;Hi<=1?(this._flyToFrame=ut(Ol,this),this._move(this.unproject(O.add(q.subtract(O).multiplyBy(Gm(qu)/ie)),wt),this.getScaleZoom(Ot/Al(qu),wt),{flyTo:!0})):this._move(p,b)._moveEnd(!0)}return this._moveStart(!0,S.noMoveStart),Ol.call(this),this},flyToBounds:function(p,b){var S=this._getBoundsCenterZoom(p,b);return this.flyTo(S.center,S.zoom,b)},setMaxBounds:function(p){return p=pe(p),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),p.isValid()?(this.options.maxBounds=p,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(p){var b=this.options.minZoom;return this.options.minZoom=p,this._loaded&&b!==p&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(p):this},setMaxZoom:function(p){var b=this.options.maxZoom;return this.options.maxZoom=p,this._loaded&&b!==p&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(p):this},panInsideBounds:function(p,b){this._enforcingBounds=!0;var S=this.getCenter(),O=this._limitCenter(S,this._zoom,pe(p));return S.equals(O)||this.panTo(O,b),this._enforcingBounds=!1,this},panInside:function(p,b){b=b||{};var S=bt(b.paddingTopLeft||b.padding||[0,0]),O=bt(b.paddingBottomRight||b.padding||[0,0]),q=this.project(this.getCenter()),rt=this.project(p),wt=this.getPixelBounds(),Ot=qt([wt.min.add(S),wt.max.subtract(O)]),Ut=Ot.getSize();if(!Ot.contains(rt)){this._enforcingBounds=!0;var ie=rt.subtract(Ot.getCenter()),_e=Ot.extend(rt).getSize().subtract(Ut);q.x+=ie.x<0?-_e.x:_e.x,q.y+=ie.y<0?-_e.y:_e.y,this.panTo(this.unproject(q),b),this._enforcingBounds=!1}return this},invalidateSize:function(p){if(!this._loaded)return this;p=l({animate:!1,pan:!0},p===!0?{animate:!0}:p);var b=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var S=this.getSize(),O=b.divideBy(2).round(),q=S.divideBy(2).round(),rt=O.subtract(q);return!rt.x&&!rt.y?this:(p.animate&&p.pan?this.panBy(rt):(p.pan&&this._rawPanBy(rt),this.fire("move"),p.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:b,newSize:S}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(p){if(p=this._locateOptions=l({timeout:1e4,watch:!1},p),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var b=d(this._handleGeolocationResponse,this),S=d(this._handleGeolocationError,this);return p.watch?this._locationWatchId=navigator.geolocation.watchPosition(b,S,p):navigator.geolocation.getCurrentPosition(b,S,p),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(p){if(this._container._leaflet_id){var b=p.code,S=p.message||(b===1?"permission denied":b===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:b,message:"Geolocation error: "+S+"."})}},_handleGeolocationResponse:function(p){if(this._container._leaflet_id){var b=p.coords.latitude,S=p.coords.longitude,O=new ae(b,S),q=O.toBounds(p.coords.accuracy*2),rt=this._locateOptions;if(rt.setView){var wt=this.getBoundsZoom(q);this.setView(O,rt.maxZoom?Math.min(wt,rt.maxZoom):wt)}var Ot={latlng:O,bounds:q,timestamp:p.timestamp};for(var Ut in p.coords)typeof p.coords[Ut]=="number"&&(Ot[Ut]=p.coords[Ut]);this.fire("locationfound",Ot)}},addHandler:function(p,b){if(!b)return this;var S=this[p]=new b(this);return this._handlers.push(S),this.options[p]&&S.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ki(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(gt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var p;for(p in this._layers)this._layers[p].remove();for(p in this._panes)ki(this._panes[p]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(p,b){var S="leaflet-pane"+(p?" leaflet-"+p.replace("Pane","")+"-pane":""),O=ei("div",S,b||this._mapPane);return p&&(this._panes[p]=O),O},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var p=this.getPixelBounds(),b=this.unproject(p.getBottomLeft()),S=this.unproject(p.getTopRight());return new ee(b,S)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(p,b,S){p=pe(p),S=bt(S||[0,0]);var O=this.getZoom()||0,q=this.getMinZoom(),rt=this.getMaxZoom(),wt=p.getNorthWest(),Ot=p.getSouthEast(),Ut=this.getSize().subtract(S),ie=qt(this.project(Ot,O),this.project(wt,O)).getSize(),_e=Ne.any3d?this.options.zoomSnap:1,Xe=Ut.x/ie.x,dr=Ut.y/ie.y,Rn=b?Math.max(Xe,dr):Math.min(Xe,dr);return O=this.getScaleZoom(Rn,O),_e&&(O=Math.round(O/(_e/100))*(_e/100),O=b?Math.ceil(O/_e)*_e:Math.floor(O/_e)*_e),Math.max(q,Math.min(rt,O))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Zt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(p,b){var S=this._getTopLeftPoint(p,b);return new At(S,S.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(p){return this.options.crs.getProjectedBounds(p===void 0?this.getZoom():p)},getPane:function(p){return typeof p=="string"?this._panes[p]:p},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(p,b){var S=this.options.crs;return b=b===void 0?this._zoom:b,S.scale(p)/S.scale(b)},getScaleZoom:function(p,b){var S=this.options.crs;b=b===void 0?this._zoom:b;var O=S.zoom(p*S.scale(b));return isNaN(O)?1/0:O},project:function(p,b){return b=b===void 0?this._zoom:b,this.options.crs.latLngToPoint(le(p),b)},unproject:function(p,b){return b=b===void 0?this._zoom:b,this.options.crs.pointToLatLng(bt(p),b)},layerPointToLatLng:function(p){var b=bt(p).add(this.getPixelOrigin());return this.unproject(b)},latLngToLayerPoint:function(p){var b=this.project(le(p))._round();return b._subtract(this.getPixelOrigin())},wrapLatLng:function(p){return this.options.crs.wrapLatLng(le(p))},wrapLatLngBounds:function(p){return this.options.crs.wrapLatLngBounds(pe(p))},distance:function(p,b){return this.options.crs.distance(le(p),le(b))},containerPointToLayerPoint:function(p){return bt(p).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(p){return bt(p).add(this._getMapPanePos())},containerPointToLatLng:function(p){var b=this.containerPointToLayerPoint(bt(p));return this.layerPointToLatLng(b)},latLngToContainerPoint:function(p){return this.layerPointToContainerPoint(this.latLngToLayerPoint(le(p)))},mouseEventToContainerPoint:function(p){return Em(p,this._container)},mouseEventToLayerPoint:function(p){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(p))},mouseEventToLatLng:function(p){return this.layerPointToLatLng(this.mouseEventToLayerPoint(p))},_initContainer:function(p){var b=this._container=xm(p);if(b){if(b._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");or(b,"scroll",this._onScroll,this),this._containerId=m(b)},_initLayout:function(){var p=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ne.any3d,cr(p,"leaflet-container"+(Ne.touch?" leaflet-touch":"")+(Ne.retina?" leaflet-retina":"")+(Ne.ielt9?" leaflet-oldie":"")+(Ne.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var b=mc(p,"position");b!=="absolute"&&b!=="relative"&&b!=="fixed"&&b!=="sticky"&&(p.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var p=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ki(this._mapPane,new Zt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(cr(p.markerPane,"leaflet-zoom-hide"),cr(p.shadowPane,"leaflet-zoom-hide"))},_resetView:function(p,b,S){Ki(this._mapPane,new Zt(0,0));var O=!this._loaded;this._loaded=!0,b=this._limitZoom(b),this.fire("viewprereset");var q=this._zoom!==b;this._moveStart(q,S)._move(p,b)._moveEnd(q),this.fire("viewreset"),O&&this.fire("load")},_moveStart:function(p,b){return p&&this.fire("zoomstart"),b||this.fire("movestart"),this},_move:function(p,b,S,O){b===void 0&&(b=this._zoom);var q=this._zoom!==b;return this._zoom=b,this._lastCenter=p,this._pixelOrigin=this._getNewPixelOrigin(p),O?S&&S.pinch&&this.fire("zoom",S):((q||S&&S.pinch)&&this.fire("zoom",S),this.fire("move",S)),this},_moveEnd:function(p){return p&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return gt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(p){Ki(this._mapPane,this._getMapPanePos().subtract(p))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(p){this._targets={},this._targets[m(this._container)]=this;var b=p?ui:or;b(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&b(window,"resize",this._onResize,this),Ne.any3d&&this.options.transform3DLimit&&(p?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){gt(this._resizeRequest),this._resizeRequest=ut(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var p=this._getMapPanePos();Math.max(Math.abs(p.x),Math.abs(p.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(p,b){for(var S=[],O,q=b==="mouseout"||b==="mouseover",rt=p.target||p.srcElement,wt=!1;rt;){if(O=this._targets[m(rt)],O&&(b==="click"||b==="preclick")&&this._draggableMoved(O)){wt=!0;break}if(O&&O.listens(b,!0)&&(q&&!ia(rt,p)||(S.push(O),q))||rt===this._container)break;rt=rt.parentNode}return!S.length&&!wt&&!q&&this.listens(b,!0)&&(S=[this]),S},_isClickDisabled:function(p){for(;p&&p!==this._container;){if(p._leaflet_disable_click)return!0;p=p.parentNode}},_handleDOMEvent:function(p){var b=p.target||p.srcElement;if(!(!this._loaded||b._leaflet_disable_events||p.type==="click"&&this._isClickDisabled(b))){var S=p.type;S==="mousedown"&&Dp(b),this._fireDOMEvent(p,S)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(p,b,S){if(p.type==="click"){var O=l({},p);O.type="preclick",this._fireDOMEvent(O,O.type,S)}var q=this._findEventTargets(p,b);if(S){for(var rt=[],wt=0;wt<S.length;wt++)S[wt].listens(b,!0)&&rt.push(S[wt]);q=rt.concat(q)}if(q.length){b==="contextmenu"&&Qi(p);var Ot=q[0],Ut={originalEvent:p};if(p.type!=="keypress"&&p.type!=="keydown"&&p.type!=="keyup"){var ie=Ot.getLatLng&&(!Ot._radius||Ot._radius<=10);Ut.containerPoint=ie?this.latLngToContainerPoint(Ot.getLatLng()):this.mouseEventToContainerPoint(p),Ut.layerPoint=this.containerPointToLayerPoint(Ut.containerPoint),Ut.latlng=ie?Ot.getLatLng():this.layerPointToLatLng(Ut.layerPoint)}for(wt=0;wt<q.length;wt++)if(q[wt].fire(b,Ut,!0),Ut.originalEvent._stopped||q[wt].options.bubblingMouseEvents===!1&&Z(this._mouseEvents,b)!==-1)return}},_draggableMoved:function(p){return p=p.dragging&&p.dragging.enabled()?p:this,p.dragging&&p.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var p=0,b=this._handlers.length;p<b;p++)this._handlers[p].disable()},whenReady:function(p,b){return this._loaded?p.call(b||this,{target:this}):this.on("load",p,b),this},_getMapPanePos:function(){return Si(this._mapPane)||new Zt(0,0)},_moved:function(){var p=this._getMapPanePos();return p&&!p.equals([0,0])},_getTopLeftPoint:function(p,b){var S=p&&b!==void 0?this._getNewPixelOrigin(p,b):this.getPixelOrigin();return S.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(p,b){var S=this.getSize()._divideBy(2);return this.project(p,b)._subtract(S)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(p,b,S){var O=this._getNewPixelOrigin(S,b);return this.project(p,b)._subtract(O)},_latLngBoundsToNewLayerBounds:function(p,b,S){var O=this._getNewPixelOrigin(S,b);return qt([this.project(p.getSouthWest(),b)._subtract(O),this.project(p.getNorthWest(),b)._subtract(O),this.project(p.getSouthEast(),b)._subtract(O),this.project(p.getNorthEast(),b)._subtract(O)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(p){return this.latLngToLayerPoint(p).subtract(this._getCenterLayerPoint())},_limitCenter:function(p,b,S){if(!S)return p;var O=this.project(p,b),q=this.getSize().divideBy(2),rt=new At(O.subtract(q),O.add(q)),wt=this._getBoundsOffset(rt,S,b);return Math.abs(wt.x)<=1&&Math.abs(wt.y)<=1?p:this.unproject(O.add(wt),b)},_limitOffset:function(p,b){if(!b)return p;var S=this.getPixelBounds(),O=new At(S.min.add(p),S.max.add(p));return p.add(this._getBoundsOffset(O,b))},_getBoundsOffset:function(p,b,S){var O=qt(this.project(b.getNorthEast(),S),this.project(b.getSouthWest(),S)),q=O.min.subtract(p.min),rt=O.max.subtract(p.max),wt=this._rebound(q.x,-rt.x),Ot=this._rebound(q.y,-rt.y);return new Zt(wt,Ot)},_rebound:function(p,b){return p+b>0?Math.round(p-b)/2:Math.max(0,Math.ceil(p))-Math.max(0,Math.floor(b))},_limitZoom:function(p){var b=this.getMinZoom(),S=this.getMaxZoom(),O=Ne.any3d?this.options.zoomSnap:1;return O&&(p=Math.round(p/O)*O),Math.max(b,Math.min(S,p))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Je(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(p,b){var S=this._getCenterOffset(p)._trunc();return(b&&b.animate)!==!0&&!this.getSize().contains(S)?!1:(this.panBy(S,b),!0)},_createAnimProxy:function(){var p=this._proxy=ei("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(p),this.on("zoomanim",function(b){var S=Nh,O=this._proxy.style[S];_l(this._proxy,this.project(b.center,b.zoom),this.getZoomScale(b.zoom,1)),O===this._proxy.style[S]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ki(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var p=this.getCenter(),b=this.getZoom();_l(this._proxy,this.project(p,b),this.getZoomScale(b,1))},_catchTransitionEnd:function(p){this._animatingZoom&&p.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(p,b,S){if(this._animatingZoom)return!0;if(S=S||{},!this._zoomAnimated||S.animate===!1||this._nothingToAnimate()||Math.abs(b-this._zoom)>this.options.zoomAnimationThreshold)return!1;var O=this.getZoomScale(b),q=this._getCenterOffset(p)._divideBy(1-1/O);return S.animate!==!0&&!this.getSize().contains(q)?!1:(ut(function(){this._moveStart(!0,S.noMoveStart||!1)._animateZoom(p,b,!0)},this),!0)},_animateZoom:function(p,b,S,O){this._mapPane&&(S&&(this._animatingZoom=!0,this._animateToCenter=p,this._animateToZoom=b,cr(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:p,zoom:b,noUpdate:O}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Je(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Jy(p,b){return new Yr(p,b)}var bo=re.extend({options:{position:"topright"},initialize:function(p){F(this,p)},getPosition:function(){return this.options.position},setPosition:function(p){var b=this._map;return b&&b.removeControl(this),this.options.position=p,b&&b.addControl(this),this},getContainer:function(){return this._container},addTo:function(p){this.remove(),this._map=p;var b=this._container=this.onAdd(p),S=this.getPosition(),O=p._controlCorners[S];return cr(b,"leaflet-control"),S.indexOf("bottom")!==-1?O.insertBefore(b,O.firstChild):O.appendChild(b),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ki(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(p){this._map&&p&&p.screenX>0&&p.screenY>0&&this._map.getContainer().focus()}}),zu=function(p){return new bo(p)};Yr.include({addControl:function(p){return p.addTo(this),this},removeControl:function(p){return p.remove(),this},_initControlPos:function(){var p=this._controlCorners={},b="leaflet-",S=this._controlContainer=ei("div",b+"control-container",this._container);function O(q,rt){var wt=b+q+" "+b+rt;p[q+rt]=ei("div",wt,S)}O("top","left"),O("top","right"),O("bottom","left"),O("bottom","right")},_clearControlPos:function(){for(var p in this._controlCorners)ki(this._controlCorners[p]);ki(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Uh=bo.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(p,b,S,O){return S<O?-1:O<S?1:0}},initialize:function(p,b,S){F(this,S),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var O in p)this._addLayer(p[O],O);for(O in b)this._addLayer(b[O],O,!0)},onAdd:function(p){this._initLayout(),this._update(),this._map=p,p.on("zoomend",this._checkDisabledLayers,this);for(var b=0;b<this._layers.length;b++)this._layers[b].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(p){return bo.prototype.addTo.call(this,p),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var p=0;p<this._layers.length;p++)this._layers[p].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(p,b){return this._addLayer(p,b),this._map?this._update():this},addOverlay:function(p,b){return this._addLayer(p,b,!0),this._map?this._update():this},removeLayer:function(p){p.off("add remove",this._onLayerChange,this);var b=this._getLayer(m(p));return b&&this._layers.splice(this._layers.indexOf(b),1),this._map?this._update():this},expand:function(){cr(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var p=this._map.getSize().y-(this._container.offsetTop+50);return p<this._section.clientHeight?(cr(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=p+"px"):Je(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Je(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var p="leaflet-control-layers",b=this._container=ei("div",p),S=this.options.collapsed;b.setAttribute("aria-haspopup",!0),kc(b),jp(b);var O=this._section=ei("section",p+"-list");S&&(this._map.on("click",this.collapse,this),or(b,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var q=this._layersLink=ei("a",p+"-toggle",b);q.href="#",q.title="Layers",q.setAttribute("role","button"),or(q,{keydown:function(rt){rt.keyCode===13&&this._expandSafely()},click:function(rt){Qi(rt),this._expandSafely()}},this),S||this.expand(),this._baseLayersList=ei("div",p+"-base",O),this._separator=ei("div",p+"-separator",O),this._overlaysList=ei("div",p+"-overlays",O),b.appendChild(O)},_getLayer:function(p){for(var b=0;b<this._layers.length;b++)if(this._layers[b]&&m(this._layers[b].layer)===p)return this._layers[b]},_addLayer:function(p,b,S){this._map&&p.on("add remove",this._onLayerChange,this),this._layers.push({layer:p,name:b,overlay:S}),this.options.sortLayers&&this._layers.sort(d(function(O,q){return this.options.sortFunction(O.layer,q.layer,O.name,q.name)},this)),this.options.autoZIndex&&p.setZIndex&&(this._lastZIndex++,p.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Mu(this._baseLayersList),Mu(this._overlaysList),this._layerControlInputs=[];var p,b,S,O,q=0;for(S=0;S<this._layers.length;S++)O=this._layers[S],this._addItem(O),b=b||O.overlay,p=p||!O.overlay,q+=O.overlay?0:1;return this.options.hideSingleBase&&(p=p&&q>1,this._baseLayersList.style.display=p?"":"none"),this._separator.style.display=b&&p?"":"none",this},_onLayerChange:function(p){this._handlingClick||this._update();var b=this._getLayer(m(p.target)),S=b.overlay?p.type==="add"?"overlayadd":"overlayremove":p.type==="add"?"baselayerchange":null;S&&this._map.fire(S,b)},_createRadioElement:function(p,b){var S='<input type="radio" class="leaflet-control-layers-selector" name="'+p+'"'+(b?' checked="checked"':"")+"/>",O=document.createElement("div");return O.innerHTML=S,O.firstChild},_addItem:function(p){var b=document.createElement("label"),S=this._map.hasLayer(p.layer),O;p.overlay?(O=document.createElement("input"),O.type="checkbox",O.className="leaflet-control-layers-selector",O.defaultChecked=S):O=this._createRadioElement("leaflet-base-layers_"+m(this),S),this._layerControlInputs.push(O),O.layerId=m(p.layer),or(O,"click",this._onInputClick,this);var q=document.createElement("span");q.innerHTML=" "+p.name;var rt=document.createElement("span");b.appendChild(rt),rt.appendChild(O),rt.appendChild(q);var wt=p.overlay?this._overlaysList:this._baseLayersList;return wt.appendChild(b),this._checkDisabledLayers(),b},_onInputClick:function(){if(!this._preventClick){var p=this._layerControlInputs,b,S,O=[],q=[];this._handlingClick=!0;for(var rt=p.length-1;rt>=0;rt--)b=p[rt],S=this._getLayer(b.layerId).layer,b.checked?O.push(S):b.checked||q.push(S);for(rt=0;rt<q.length;rt++)this._map.hasLayer(q[rt])&&this._map.removeLayer(q[rt]);for(rt=0;rt<O.length;rt++)this._map.hasLayer(O[rt])||this._map.addLayer(O[rt]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var p=this._layerControlInputs,b,S,O=this._map.getZoom(),q=p.length-1;q>=0;q--)b=p[q],S=this._getLayer(b.layerId).layer,b.disabled=S.options.minZoom!==void 0&&O<S.options.minZoom||S.options.maxZoom!==void 0&&O>S.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var p=this._section;this._preventClick=!0,or(p,"click",Qi),this.expand();var b=this;setTimeout(function(){ui(p,"click",Qi),b._preventClick=!1})}}),Sm=function(p,b,S){return new Uh(p,b,S)},Gh=bo.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(p){var b="leaflet-control-zoom",S=ei("div",b+" leaflet-bar"),O=this.options;return this._zoomInButton=this._createButton(O.zoomInText,O.zoomInTitle,b+"-in",S,this._zoomIn),this._zoomOutButton=this._createButton(O.zoomOutText,O.zoomOutTitle,b+"-out",S,this._zoomOut),this._updateDisabled(),p.on("zoomend zoomlevelschange",this._updateDisabled,this),S},onRemove:function(p){p.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(p){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(p.shiftKey?3:1))},_zoomOut:function(p){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(p.shiftKey?3:1))},_createButton:function(p,b,S,O,q){var rt=ei("a",S,O);return rt.innerHTML=p,rt.href="#",rt.title=b,rt.setAttribute("role","button"),rt.setAttribute("aria-label",b),kc(rt),or(rt,"click",Tl),or(rt,"click",q,this),or(rt,"click",this._refocusOnMap,this),rt},_updateDisabled:function(){var p=this._map,b="leaflet-disabled";Je(this._zoomInButton,b),Je(this._zoomOutButton,b),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||p._zoom===p.getMinZoom())&&(cr(this._zoomOutButton,b),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||p._zoom===p.getMaxZoom())&&(cr(this._zoomInButton,b),this._zoomInButton.setAttribute("aria-disabled","true"))}});Yr.mergeOptions({zoomControl:!0}),Yr.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Gh,this.addControl(this.zoomControl))});var Qy=function(p){return new Gh(p)},Cm=bo.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(p){var b="leaflet-control-scale",S=ei("div",b),O=this.options;return this._addScales(O,b+"-line",S),p.on(O.updateWhenIdle?"moveend":"move",this._update,this),p.whenReady(this._update,this),S},onRemove:function(p){p.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(p,b,S){p.metric&&(this._mScale=ei("div",b,S)),p.imperial&&(this._iScale=ei("div",b,S))},_update:function(){var p=this._map,b=p.getSize().y/2,S=p.distance(p.containerPointToLatLng([0,b]),p.containerPointToLatLng([this.options.maxWidth,b]));this._updateScales(S)},_updateScales:function(p){this.options.metric&&p&&this._updateMetric(p),this.options.imperial&&p&&this._updateImperial(p)},_updateMetric:function(p){var b=this._getRoundNum(p),S=b<1e3?b+" m":b/1e3+" km";this._updateScale(this._mScale,S,b/p)},_updateImperial:function(p){var b=p*3.2808399,S,O,q;b>5280?(S=b/5280,O=this._getRoundNum(S),this._updateScale(this._iScale,O+" mi",O/S)):(q=this._getRoundNum(b),this._updateScale(this._iScale,q+" ft",q/b))},_updateScale:function(p,b,S){p.style.width=Math.round(this.options.maxWidth*S)+"px",p.innerHTML=b},_getRoundNum:function(p){var b=Math.pow(10,(Math.floor(p)+"").length-1),S=p/b;return S=S>=10?10:S>=5?5:S>=3?3:S>=2?2:1,b*S}}),Pm=function(p){return new Cm(p)},Gp='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',qh=bo.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ne.inlineSvg?Gp+" ":"")+"Leaflet</a>"},initialize:function(p){F(this,p),this._attributions={}},onAdd:function(p){p.attributionControl=this,this._container=ei("div","leaflet-control-attribution"),kc(this._container);for(var b in p._layers)p._layers[b].getAttribution&&this.addAttribution(p._layers[b].getAttribution());return this._update(),p.on("layeradd",this._addAttribution,this),this._container},onRemove:function(p){p.off("layeradd",this._addAttribution,this)},_addAttribution:function(p){p.layer.getAttribution&&(this.addAttribution(p.layer.getAttribution()),p.layer.once("remove",function(){this.removeAttribution(p.layer.getAttribution())},this))},setPrefix:function(p){return this.options.prefix=p,this._update(),this},addAttribution:function(p){return p?(this._attributions[p]||(this._attributions[p]=0),this._attributions[p]++,this._update(),this):this},removeAttribution:function(p){return p?(this._attributions[p]&&(this._attributions[p]--,this._update()),this):this},_update:function(){if(this._map){var p=[];for(var b in this._attributions)this._attributions[b]&&p.push(b);var S=[];this.options.prefix&&S.push(this.options.prefix),p.length&&S.push(p.join(", ")),this._container.innerHTML=S.join(' <span aria-hidden="true">|</span> ')}}});Yr.mergeOptions({attributionControl:!0}),Yr.addInitHook(function(){this.options.attributionControl&&new qh().addTo(this)});var Mm=function(p){return new qh(p)};bo.Layers=Uh,bo.Zoom=Gh,bo.Scale=Cm,bo.Attribution=qh,zu.layers=Sm,zu.zoom=Qy,zu.scale=Pm,zu.attribution=Mm;var $i=re.extend({initialize:function(p){this._map=p},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});$i.addTo=function(p,b){return p.addHandler(b,this),this};var qp={Events:Ct},Cs=Ne.touch?"touchstart mousedown":"mousedown",os=Kt.extend({options:{clickTolerance:3},initialize:function(p,b,S,O){F(this,O),this._element=p,this._dragStartTarget=b||p,this._preventOutline=S},enable:function(){this._enabled||(or(this._dragStartTarget,Cs,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(os._dragging===this&&this.finishDrag(!0),ui(this._dragStartTarget,Cs,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(p){if(this._enabled&&(this._moved=!1,!vc(this._element,"leaflet-zoom-anim"))){if(p.touches&&p.touches.length!==1){os._dragging===this&&this.finishDrag();return}if(!(os._dragging||p.shiftKey||p.which!==1&&p.button!==1&&!p.touches)&&(os._dragging=this,this._preventOutline&&Dp(this._element),Np(),bc(),!this._moving)){this.fire("down");var b=p.touches?p.touches[0]:p,S=Ru(this._element);this._startPoint=new Zt(b.clientX,b.clientY),this._startPos=Si(this._element),this._parentScale=Au(S);var O=p.type==="mousedown";or(document,O?"mousemove":"touchmove",this._onMove,this),or(document,O?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(p){if(this._enabled){if(p.touches&&p.touches.length>1){this._moved=!0;return}var b=p.touches&&p.touches.length===1?p.touches[0]:p,S=new Zt(b.clientX,b.clientY)._subtract(this._startPoint);!S.x&&!S.y||Math.abs(S.x)+Math.abs(S.y)<this.options.clickTolerance||(S.x/=this._parentScale.x,S.y/=this._parentScale.y,Qi(p),this._moved||(this.fire("dragstart"),this._moved=!0,cr(document.body,"leaflet-dragging"),this._lastTarget=p.target||p.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),cr(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(S),this._moving=!0,this._lastEvent=p,this._updatePosition())}},_updatePosition:function(){var p={originalEvent:this._lastEvent};this.fire("predrag",p),Ki(this._element,this._newPos),this.fire("drag",p)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(p){Je(document.body,"leaflet-dragging"),this._lastTarget&&(Je(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ui(document,"mousemove touchmove",this._onMove,this),ui(document,"mouseup touchend touchcancel",this._onUp,this),_c(),wc();var b=this._moved&&this._moving;this._moving=!1,os._dragging=!1,b&&this.fire("dragend",{noInertia:p,distance:this._newPos.distanceTo(this._startPos)})}});function na(p,b,S){var O,q=[1,4,2,8],rt,wt,Ot,Ut,ie,_e,Xe,dr;for(rt=0,_e=p.length;rt<_e;rt++)p[rt]._code=Sl(p[rt],b);for(Ot=0;Ot<4;Ot++){for(Xe=q[Ot],O=[],rt=0,_e=p.length,wt=_e-1;rt<_e;wt=rt++)Ut=p[rt],ie=p[wt],Ut._code&Xe?ie._code&Xe||(dr=Wh(ie,Ut,Xe,b,S),dr._code=Sl(dr,b),O.push(dr)):(ie._code&Xe&&(dr=Wh(ie,Ut,Xe,b,S),dr._code=Sl(dr,b),O.push(dr)),O.push(Ut));p=O}return p}function Nu(p,b){var S,O,q,rt,wt,Ot,Ut,ie,_e;if(!p||p.length===0)throw new Error("latlngs not passed");kn(p)||(console.warn("latlngs are not flat! Only the first ring will be used"),p=p[0]);var Xe=le([0,0]),dr=pe(p),Rn=dr.getNorthWest().distanceTo(dr.getSouthWest())*dr.getNorthEast().distanceTo(dr.getNorthWest());Rn<1700&&(Xe=Vh(p));var tn=p.length,An=[];for(S=0;S<tn;S++){var Wn=le(p[S]);An.push(b.project(le([Wn.lat-Xe.lat,Wn.lng-Xe.lng])))}for(Ot=Ut=ie=0,S=0,O=tn-1;S<tn;O=S++)q=An[S],rt=An[O],wt=q.y*rt.x-rt.y*q.x,Ut+=(q.x+rt.x)*wt,ie+=(q.y+rt.y)*wt,Ot+=wt*3;Ot===0?_e=An[0]:_e=[Ut/Ot,ie/Ot];var Al=b.unproject(bt(_e));return le([Al.lat+Xe.lat,Al.lng+Xe.lng])}function Vh(p){for(var b=0,S=0,O=0,q=0;q<p.length;q++){var rt=le(p[q]);b+=rt.lat,S+=rt.lng,O++}return le([b/O,S/O])}var $y={__proto__:null,clipPolygon:na,polygonCenter:Nu,centroid:Vh};function Du(p,b){if(!b||!p.length)return p.slice();var S=b*b;return p=tb(p,S),p=Bu(p,S),p}function Vp(p,b,S){return Math.sqrt(ju(p,b,S,!0))}function Fu(p,b,S){return ju(p,b,S)}function Bu(p,b){var S=p.length,O=typeof Uint8Array!=void 0+""?Uint8Array:Array,q=new O(S);q[0]=q[S-1]=1,Wp(p,q,b,0,S-1);var rt,wt=[];for(rt=0;rt<S;rt++)q[rt]&&wt.push(p[rt]);return wt}function Wp(p,b,S,O,q){var rt=0,wt,Ot,Ut;for(Ot=O+1;Ot<=q-1;Ot++)Ut=ju(p[Ot],p[O],p[q],!0),Ut>rt&&(wt=Ot,rt=Ut);rt>S&&(b[wt]=1,Wp(p,b,S,O,wt),Wp(p,b,S,wt,q))}function tb(p,b){for(var S=[p[0]],O=1,q=0,rt=p.length;O<rt;O++)Zp(p[O],p[q])>b&&(S.push(p[O]),q=O);return q<rt-1&&S.push(p[rt-1]),S}var Im;function Lm(p,b,S,O,q){var rt=O?Im:Sl(p,S),wt=Sl(b,S),Ot,Ut,ie;for(Im=wt;;){if(!(rt|wt))return[p,b];if(rt&wt)return!1;Ot=rt||wt,Ut=Wh(p,b,Ot,S,q),ie=Sl(Ut,S),Ot===rt?(p=Ut,rt=ie):(b=Ut,wt=ie)}}function Wh(p,b,S,O,q){var rt=b.x-p.x,wt=b.y-p.y,Ot=O.min,Ut=O.max,ie,_e;return S&8?(ie=p.x+rt*(Ut.y-p.y)/wt,_e=Ut.y):S&4?(ie=p.x+rt*(Ot.y-p.y)/wt,_e=Ot.y):S&2?(ie=Ut.x,_e=p.y+wt*(Ut.x-p.x)/rt):S&1&&(ie=Ot.x,_e=p.y+wt*(Ot.x-p.x)/rt),new Zt(ie,_e,q)}function Sl(p,b){var S=0;return p.x<b.min.x?S|=1:p.x>b.max.x&&(S|=2),p.y<b.min.y?S|=4:p.y>b.max.y&&(S|=8),S}function Zp(p,b){var S=b.x-p.x,O=b.y-p.y;return S*S+O*O}function ju(p,b,S,O){var q=b.x,rt=b.y,wt=S.x-q,Ot=S.y-rt,Ut=wt*wt+Ot*Ot,ie;return Ut>0&&(ie=((p.x-q)*wt+(p.y-rt)*Ot)/Ut,ie>1?(q=S.x,rt=S.y):ie>0&&(q+=wt*ie,rt+=Ot*ie)),wt=p.x-q,Ot=p.y-rt,O?wt*wt+Ot*Ot:new Zt(q,rt)}function kn(p){return!G(p[0])||typeof p[0][0]!="object"&&typeof p[0][0]<"u"}function Rm(p){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),kn(p)}function un(p,b){var S,O,q,rt,wt,Ot,Ut,ie;if(!p||p.length===0)throw new Error("latlngs not passed");kn(p)||(console.warn("latlngs are not flat! Only the first ring will be used"),p=p[0]);var _e=le([0,0]),Xe=pe(p),dr=Xe.getNorthWest().distanceTo(Xe.getSouthWest())*Xe.getNorthEast().distanceTo(Xe.getNorthWest());dr<1700&&(_e=Vh(p));var Rn=p.length,tn=[];for(S=0;S<Rn;S++){var An=le(p[S]);tn.push(b.project(le([An.lat-_e.lat,An.lng-_e.lng])))}for(S=0,O=0;S<Rn-1;S++)O+=tn[S].distanceTo(tn[S+1])/2;if(O===0)ie=tn[0];else for(S=0,rt=0;S<Rn-1;S++)if(wt=tn[S],Ot=tn[S+1],q=wt.distanceTo(Ot),rt+=q,rt>O){Ut=(rt-O)/q,ie=[Ot.x-Ut*(Ot.x-wt.x),Ot.y-Ut*(Ot.y-wt.y)];break}var Wn=b.unproject(bt(ie));return le([Wn.lat+_e.lat,Wn.lng+_e.lng])}var Cl={__proto__:null,simplify:Du,pointToSegmentDistance:Vp,closestPointOnSegment:Fu,clipSegment:Lm,_getEdgeIntersection:Wh,_getBitCode:Sl,_sqClosestPointOnSegment:ju,isFlat:kn,_flat:Rm,polylineCenter:un},Zh={project:function(p){return new Zt(p.lng,p.lat)},unproject:function(p){return new ae(p.y,p.x)},bounds:new At([-180,-90],[180,90])},Pl={R:6378137,R_MINOR:6356752314245179e-9,bounds:new At([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(p){var b=Math.PI/180,S=this.R,O=p.lat*b,q=this.R_MINOR/S,rt=Math.sqrt(1-q*q),wt=rt*Math.sin(O),Ot=Math.tan(Math.PI/4-O/2)/Math.pow((1-wt)/(1+wt),rt/2);return O=-S*Math.log(Math.max(Ot,1e-10)),new Zt(p.lng*b*S,O)},unproject:function(p){for(var b=180/Math.PI,S=this.R,O=this.R_MINOR/S,q=Math.sqrt(1-O*O),rt=Math.exp(-p.y/S),wt=Math.PI/2-2*Math.atan(rt),Ot=0,Ut=.1,ie;Ot<15&&Math.abs(Ut)>1e-7;Ot++)ie=q*Math.sin(wt),ie=Math.pow((1-ie)/(1+ie),q/2),Ut=Math.PI/2-2*Math.atan(rt*ie)-wt,wt+=Ut;return new ae(wt*b,p.x*b/S)}},Am={__proto__:null,LonLat:Zh,Mercator:Pl,SphericalMercator:Xi},Om=l({},mr,{code:"EPSG:3395",projection:Pl,transformation:function(){var p=.5/(Math.PI*Pl.R);return yt(p,.5,-p,.5)}()}),Ec=l({},mr,{code:"EPSG:4326",projection:Zh,transformation:yt(1/180,1,-1/180,.5)}),Yp=l({},rr,{projection:Zh,transformation:yt(1,0,-1,0),scale:function(p){return Math.pow(2,p)},zoom:function(p){return Math.log(p)/Math.LN2},distance:function(p,b){var S=b.lng-p.lng,O=b.lat-p.lat;return Math.sqrt(S*S+O*O)},infinite:!0});rr.Earth=mr,rr.EPSG3395=Om,rr.EPSG3857=kt,rr.EPSG900913=Dt,rr.EPSG4326=Ec,rr.Simple=Yp;var wo=Kt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(p){return p.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(p){return p&&p.removeLayer(this),this},getPane:function(p){return this._map.getPane(p?this.options[p]||p:this.options.pane)},addInteractiveTarget:function(p){return this._map._targets[m(p)]=this,this},removeInteractiveTarget:function(p){return delete this._map._targets[m(p)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(p){var b=p.target;if(b.hasLayer(this)){if(this._map=b,this._zoomAnimated=b._zoomAnimated,this.getEvents){var S=this.getEvents();b.on(S,this),this.once("remove",function(){b.off(S,this)},this)}this.onAdd(b),this.fire("add"),b.fire("layeradd",{layer:this})}}});Yr.include({addLayer:function(p){if(!p._layerAdd)throw new Error("The provided object is not a Layer.");var b=m(p);return this._layers[b]?this:(this._layers[b]=p,p._mapToAdd=this,p.beforeAdd&&p.beforeAdd(this),this.whenReady(p._layerAdd,p),this)},removeLayer:function(p){var b=m(p);return this._layers[b]?(this._loaded&&p.onRemove(this),delete this._layers[b],this._loaded&&(this.fire("layerremove",{layer:p}),p.fire("remove")),p._map=p._mapToAdd=null,this):this},hasLayer:function(p){return m(p)in this._layers},eachLayer:function(p,b){for(var S in this._layers)p.call(b,this._layers[S]);return this},_addLayers:function(p){p=p?G(p)?p:[p]:[];for(var b=0,S=p.length;b<S;b++)this.addLayer(p[b])},_addZoomLimit:function(p){(!isNaN(p.options.maxZoom)||!isNaN(p.options.minZoom))&&(this._zoomBoundLayers[m(p)]=p,this._updateZoomLevels())},_removeZoomLimit:function(p){var b=m(p);this._zoomBoundLayers[b]&&(delete this._zoomBoundLayers[b],this._updateZoomLevels())},_updateZoomLevels:function(){var p=1/0,b=-1/0,S=this._getZoomSpan();for(var O in this._zoomBoundLayers){var q=this._zoomBoundLayers[O].options;p=q.minZoom===void 0?p:Math.min(p,q.minZoom),b=q.maxZoom===void 0?b:Math.max(b,q.maxZoom)}this._layersMaxZoom=b===-1/0?void 0:b,this._layersMinZoom=p===1/0?void 0:p,S!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ml=wo.extend({initialize:function(p,b){F(this,b),this._layers={};var S,O;if(p)for(S=0,O=p.length;S<O;S++)this.addLayer(p[S])},addLayer:function(p){var b=this.getLayerId(p);return this._layers[b]=p,this._map&&this._map.addLayer(p),this},removeLayer:function(p){var b=p in this._layers?p:this.getLayerId(p);return this._map&&this._layers[b]&&this._map.removeLayer(this._layers[b]),delete this._layers[b],this},hasLayer:function(p){var b=typeof p=="number"?p:this.getLayerId(p);return b in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(p){var b=Array.prototype.slice.call(arguments,1),S,O;for(S in this._layers)O=this._layers[S],O[p]&&O[p].apply(O,b);return this},onAdd:function(p){this.eachLayer(p.addLayer,p)},onRemove:function(p){this.eachLayer(p.removeLayer,p)},eachLayer:function(p,b){for(var S in this._layers)p.call(b,this._layers[S]);return this},getLayer:function(p){return this._layers[p]},getLayers:function(){var p=[];return this.eachLayer(p.push,p),p},setZIndex:function(p){return this.invoke("setZIndex",p)},getLayerId:function(p){return m(p)}}),Yh=function(p,b){return new Ml(p,b)},Vn=Ml.extend({addLayer:function(p){return this.hasLayer(p)?this:(p.addEventParent(this),Ml.prototype.addLayer.call(this,p),this.fire("layeradd",{layer:p}))},removeLayer:function(p){return this.hasLayer(p)?(p in this._layers&&(p=this._layers[p]),p.removeEventParent(this),Ml.prototype.removeLayer.call(this,p),this.fire("layerremove",{layer:p})):this},setStyle:function(p){return this.invoke("setStyle",p)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var p=new ee;for(var b in this._layers){var S=this._layers[b];p.extend(S.getBounds?S.getBounds():S.getLatLng())}return p}}),hn=function(p,b){return new Vn(p,b)},Ps=re.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(p){F(this,p)},createIcon:function(p){return this._createIcon("icon",p)},createShadow:function(p){return this._createIcon("shadow",p)},_createIcon:function(p,b){var S=this._getIconUrl(p);if(!S){if(p==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var O=this._createImg(S,b&&b.tagName==="IMG"?b:null);return this._setIconStyles(O,p),(this.options.crossOrigin||this.options.crossOrigin==="")&&(O.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),O},_setIconStyles:function(p,b){var S=this.options,O=S[b+"Size"];typeof O=="number"&&(O=[O,O]);var q=bt(O),rt=bt(b==="shadow"&&S.shadowAnchor||S.iconAnchor||q&&q.divideBy(2,!0));p.className="leaflet-marker-"+b+" "+(S.className||""),rt&&(p.style.marginLeft=-rt.x+"px",p.style.marginTop=-rt.y+"px"),q&&(p.style.width=q.x+"px",p.style.height=q.y+"px")},_createImg:function(p,b){return b=b||document.createElement("img"),b.src=p,b},_getIconUrl:function(p){return Ne.retina&&this.options[p+"RetinaUrl"]||this.options[p+"Url"]}});function zm(p){return new Ps(p)}var Tc=Ps.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(p){return typeof Tc.imagePath!="string"&&(Tc.imagePath=this._detectIconPath()),(this.options.imagePath||Tc.imagePath)+Ps.prototype._getIconUrl.call(this,p)},_stripUrl:function(p){var b=function(S,O,q){var rt=O.exec(S);return rt&&rt[q]};return p=b(p,/^url\((['"])?(.+)\1\)$/,2),p&&b(p,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var p=ei("div","leaflet-default-icon-path",document.body),b=mc(p,"background-image")||mc(p,"backgroundImage");if(document.body.removeChild(p),b=this._stripUrl(b),b)return b;var S=document.querySelector('link[href$="leaflet.css"]');return S?S.href.substring(0,S.href.length-11-1):""}}),Xh=$i.extend({initialize:function(p){this._marker=p},addHooks:function(){var p=this._marker._icon;this._draggable||(this._draggable=new os(p,p,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),cr(p,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Je(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(p){var b=this._marker,S=b._map,O=this._marker.options.autoPanSpeed,q=this._marker.options.autoPanPadding,rt=Si(b._icon),wt=S.getPixelBounds(),Ot=S.getPixelOrigin(),Ut=qt(wt.min._subtract(Ot).add(q),wt.max._subtract(Ot).subtract(q));if(!Ut.contains(rt)){var ie=bt((Math.max(Ut.max.x,rt.x)-Ut.max.x)/(wt.max.x-Ut.max.x)-(Math.min(Ut.min.x,rt.x)-Ut.min.x)/(wt.min.x-Ut.min.x),(Math.max(Ut.max.y,rt.y)-Ut.max.y)/(wt.max.y-Ut.max.y)-(Math.min(Ut.min.y,rt.y)-Ut.min.y)/(wt.min.y-Ut.min.y)).multiplyBy(O);S.panBy(ie,{animate:!1}),this._draggable._newPos._add(ie),this._draggable._startPos._add(ie),Ki(b._icon,this._draggable._newPos),this._onDrag(p),this._panRequest=ut(this._adjustPan.bind(this,p))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(p){this._marker.options.autoPan&&(gt(this._panRequest),this._panRequest=ut(this._adjustPan.bind(this,p)))},_onDrag:function(p){var b=this._marker,S=b._shadow,O=Si(b._icon),q=b._map.layerPointToLatLng(O);S&&Ki(S,O),b._latlng=q,p.latlng=q,p.oldLatLng=this._oldLatLng,b.fire("move",p).fire("drag",p)},_onDragEnd:function(p){gt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",p)}}),Il=wo.extend({options:{icon:new Tc,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(p,b){F(this,b),this._latlng=le(p)},onAdd:function(p){this._zoomAnimated=this._zoomAnimated&&p.options.markerZoomAnimation,this._zoomAnimated&&p.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(p){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&p.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(p){var b=this._latlng;return this._latlng=le(p),this.update(),this.fire("move",{oldLatLng:b,latlng:this._latlng})},setZIndexOffset:function(p){return this.options.zIndexOffset=p,this.update()},getIcon:function(){return this.options.icon},setIcon:function(p){return this.options.icon=p,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var p=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(p)}return this},_initIcon:function(){var p=this.options,b="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),S=p.icon.createIcon(this._icon),O=!1;S!==this._icon&&(this._icon&&this._removeIcon(),O=!0,p.title&&(S.title=p.title),S.tagName==="IMG"&&(S.alt=p.alt||"")),cr(S,b),p.keyboard&&(S.tabIndex="0",S.setAttribute("role","button")),this._icon=S,p.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&or(S,"focus",this._panOnFocus,this);var q=p.icon.createShadow(this._shadow),rt=!1;q!==this._shadow&&(this._removeShadow(),rt=!0),q&&(cr(q,b),q.alt=""),this._shadow=q,p.opacity<1&&this._updateOpacity(),O&&this.getPane().appendChild(this._icon),this._initInteraction(),q&&rt&&this.getPane(p.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ui(this._icon,"focus",this._panOnFocus,this),ki(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ki(this._shadow),this._shadow=null},_setPos:function(p){this._icon&&Ki(this._icon,p),this._shadow&&Ki(this._shadow,p),this._zIndex=p.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(p){this._icon&&(this._icon.style.zIndex=this._zIndex+p)},_animateZoom:function(p){var b=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center).round();this._setPos(b)},_initInteraction:function(){if(this.options.interactive&&(cr(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Xh)){var p=this.options.draggable;this.dragging&&(p=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Xh(this),p&&this.dragging.enable()}},setOpacity:function(p){return this.options.opacity=p,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var p=this.options.opacity;this._icon&&ir(this._icon,p),this._shadow&&ir(this._shadow,p)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var p=this._map;if(p){var b=this.options.icon.options,S=b.iconSize?bt(b.iconSize):bt(0,0),O=b.iconAnchor?bt(b.iconAnchor):bt(0,0);p.panInside(this._latlng,{paddingTopLeft:O,paddingBottomRight:S.subtract(O)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Nm(p,b){return new Il(p,b)}var oa=wo.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(p){this._renderer=p.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(p){return F(this,p),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&p&&Object.prototype.hasOwnProperty.call(p,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Kh=oa.extend({options:{fill:!0,radius:10},initialize:function(p,b){F(this,b),this._latlng=le(p),this._radius=this.options.radius},setLatLng:function(p){var b=this._latlng;return this._latlng=le(p),this.redraw(),this.fire("move",{oldLatLng:b,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(p){return this.options.radius=this._radius=p,this.redraw()},getRadius:function(){return this._radius},setStyle:function(p){var b=p&&p.radius||this._radius;return oa.prototype.setStyle.call(this,p),this.setRadius(b),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var p=this._radius,b=this._radiusY||p,S=this._clickTolerance(),O=[p+S,b+S];this._pxBounds=new At(this._point.subtract(O),this._point.add(O))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(p){return p.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function eb(p,b){return new Kh(p,b)}var Xp=Kh.extend({initialize:function(p,b,S){if(typeof b=="number"&&(b=l({},S,{radius:b})),F(this,b),this._latlng=le(p),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(p){return this._mRadius=p,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var p=[this._radius,this._radiusY||this._radius];return new ee(this._map.layerPointToLatLng(this._point.subtract(p)),this._map.layerPointToLatLng(this._point.add(p)))},setStyle:oa.prototype.setStyle,_project:function(){var p=this._latlng.lng,b=this._latlng.lat,S=this._map,O=S.options.crs;if(O.distance===mr.distance){var q=Math.PI/180,rt=this._mRadius/mr.R/q,wt=S.project([b+rt,p]),Ot=S.project([b-rt,p]),Ut=wt.add(Ot).divideBy(2),ie=S.unproject(Ut).lat,_e=Math.acos((Math.cos(rt*q)-Math.sin(b*q)*Math.sin(ie*q))/(Math.cos(b*q)*Math.cos(ie*q)))/q;(isNaN(_e)||_e===0)&&(_e=rt/Math.cos(Math.PI/180*b)),this._point=Ut.subtract(S.getPixelOrigin()),this._radius=isNaN(_e)?0:Ut.x-S.project([ie,p-_e]).x,this._radiusY=Ut.y-wt.y}else{var Xe=O.unproject(O.project(this._latlng).subtract([this._mRadius,0]));this._point=S.latLngToLayerPoint(this._latlng),this._radius=this._point.x-S.latLngToLayerPoint(Xe).x}this._updateBounds()}});function rb(p,b,S){return new Xp(p,b,S)}var sa=oa.extend({options:{smoothFactor:1,noClip:!1},initialize:function(p,b){F(this,b),this._setLatLngs(p)},getLatLngs:function(){return this._latlngs},setLatLngs:function(p){return this._setLatLngs(p),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(p){for(var b=1/0,S=null,O=ju,q,rt,wt=0,Ot=this._parts.length;wt<Ot;wt++)for(var Ut=this._parts[wt],ie=1,_e=Ut.length;ie<_e;ie++){q=Ut[ie-1],rt=Ut[ie];var Xe=O(p,q,rt,!0);Xe<b&&(b=Xe,S=O(p,q,rt))}return S&&(S.distance=Math.sqrt(b)),S},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return un(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(p,b){return b=b||this._defaultShape(),p=le(p),b.push(p),this._bounds.extend(p),this.redraw()},_setLatLngs:function(p){this._bounds=new ee,this._latlngs=this._convertLatLngs(p)},_defaultShape:function(){return kn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(p){for(var b=[],S=kn(p),O=0,q=p.length;O<q;O++)S?(b[O]=le(p[O]),this._bounds.extend(b[O])):b[O]=this._convertLatLngs(p[O]);return b},_project:function(){var p=new At;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,p),this._bounds.isValid()&&p.isValid()&&(this._rawPxBounds=p,this._updateBounds())},_updateBounds:function(){var p=this._clickTolerance(),b=new Zt(p,p);this._rawPxBounds&&(this._pxBounds=new At([this._rawPxBounds.min.subtract(b),this._rawPxBounds.max.add(b)]))},_projectLatlngs:function(p,b,S){var O=p[0]instanceof ae,q=p.length,rt,wt;if(O){for(wt=[],rt=0;rt<q;rt++)wt[rt]=this._map.latLngToLayerPoint(p[rt]),S.extend(wt[rt]);b.push(wt)}else for(rt=0;rt<q;rt++)this._projectLatlngs(p[rt],b,S)},_clipPoints:function(){var p=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(p))){if(this.options.noClip){this._parts=this._rings;return}var b=this._parts,S,O,q,rt,wt,Ot,Ut;for(S=0,q=0,rt=this._rings.length;S<rt;S++)for(Ut=this._rings[S],O=0,wt=Ut.length;O<wt-1;O++)Ot=Lm(Ut[O],Ut[O+1],p,O,!0),Ot&&(b[q]=b[q]||[],b[q].push(Ot[0]),(Ot[1]!==Ut[O+1]||O===wt-2)&&(b[q].push(Ot[1]),q++))}},_simplifyPoints:function(){for(var p=this._parts,b=this.options.smoothFactor,S=0,O=p.length;S<O;S++)p[S]=Du(p[S],b)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(p,b){var S,O,q,rt,wt,Ot,Ut=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(p))return!1;for(S=0,rt=this._parts.length;S<rt;S++)for(Ot=this._parts[S],O=0,wt=Ot.length,q=wt-1;O<wt;q=O++)if(!(!b&&O===0)&&Vp(p,Ot[q],Ot[O])<=Ut)return!0;return!1}});function ib(p,b){return new sa(p,b)}sa._flat=Rm;var Sc=sa.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Nu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(p){var b=sa.prototype._convertLatLngs.call(this,p),S=b.length;return S>=2&&b[0]instanceof ae&&b[0].equals(b[S-1])&&b.pop(),b},_setLatLngs:function(p){sa.prototype._setLatLngs.call(this,p),kn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return kn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var p=this._renderer._bounds,b=this.options.weight,S=new Zt(b,b);if(p=new At(p.min.subtract(S),p.max.add(S)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(p))){if(this.options.noClip){this._parts=this._rings;return}for(var O=0,q=this._rings.length,rt;O<q;O++)rt=na(this._rings[O],p,!0),rt.length&&this._parts.push(rt)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(p){var b=!1,S,O,q,rt,wt,Ot,Ut,ie;if(!this._pxBounds||!this._pxBounds.contains(p))return!1;for(rt=0,Ut=this._parts.length;rt<Ut;rt++)for(S=this._parts[rt],wt=0,ie=S.length,Ot=ie-1;wt<ie;Ot=wt++)O=S[wt],q=S[Ot],O.y>p.y!=q.y>p.y&&p.x<(q.x-O.x)*(p.y-O.y)/(q.y-O.y)+O.x&&(b=!b);return b||sa.prototype._containsPoint.call(this,p,!0)}});function nb(p,b){return new Sc(p,b)}var aa=Vn.extend({initialize:function(p,b){F(this,b),this._layers={},p&&this.addData(p)},addData:function(p){var b=G(p)?p:p.features,S,O,q;if(b){for(S=0,O=b.length;S<O;S++)q=b[S],(q.geometries||q.geometry||q.features||q.coordinates)&&this.addData(q);return this}var rt=this.options;if(rt.filter&&!rt.filter(p))return this;var wt=Jh(p,rt);return wt?(wt.feature=td(p),wt.defaultOptions=wt.options,this.resetStyle(wt),rt.onEachFeature&&rt.onEachFeature(p,wt),this.addLayer(wt)):this},resetStyle:function(p){return p===void 0?this.eachLayer(this.resetStyle,this):(p.options=l({},p.defaultOptions),this._setLayerStyle(p,this.options.style),this)},setStyle:function(p){return this.eachLayer(function(b){this._setLayerStyle(b,p)},this)},_setLayerStyle:function(p,b){p.setStyle&&(typeof b=="function"&&(b=b(p.feature)),p.setStyle(b))}});function Jh(p,b){var S=p.type==="Feature"?p.geometry:p,O=S?S.coordinates:null,q=[],rt=b&&b.pointToLayer,wt=b&&b.coordsToLatLng||Kp,Ot,Ut,ie,_e;if(!O&&!S)return null;switch(S.type){case"Point":return Ot=wt(O),Dm(rt,p,Ot,b);case"MultiPoint":for(ie=0,_e=O.length;ie<_e;ie++)Ot=wt(O[ie]),q.push(Dm(rt,p,Ot,b));return new Vn(q);case"LineString":case"MultiLineString":return Ut=Qh(O,S.type==="LineString"?0:1,wt),new sa(Ut,b);case"Polygon":case"MultiPolygon":return Ut=Qh(O,S.type==="Polygon"?1:2,wt),new Sc(Ut,b);case"GeometryCollection":for(ie=0,_e=S.geometries.length;ie<_e;ie++){var Xe=Jh({geometry:S.geometries[ie],type:"Feature",properties:p.properties},b);Xe&&q.push(Xe)}return new Vn(q);case"FeatureCollection":for(ie=0,_e=S.features.length;ie<_e;ie++){var dr=Jh(S.features[ie],b);dr&&q.push(dr)}return new Vn(q);default:throw new Error("Invalid GeoJSON object.")}}function Dm(p,b,S,O){return p?p(b,S):new Il(S,O&&O.markersInheritOptions&&O)}function Kp(p){return new ae(p[1],p[0],p[2])}function Qh(p,b,S){for(var O=[],q=0,rt=p.length,wt;q<rt;q++)wt=b?Qh(p[q],b-1,S):(S||Kp)(p[q]),O.push(wt);return O}function Jp(p,b){return p=le(p),p.alt!==void 0?[C(p.lng,b),C(p.lat,b),C(p.alt,b)]:[C(p.lng,b),C(p.lat,b)]}function $h(p,b,S,O){for(var q=[],rt=0,wt=p.length;rt<wt;rt++)q.push(b?$h(p[rt],kn(p[rt])?0:b-1,S,O):Jp(p[rt],O));return!b&&S&&q.length>0&&q.push(q[0].slice()),q}function Cc(p,b){return p.feature?l({},p.feature,{geometry:b}):td(b)}function td(p){return p.type==="Feature"||p.type==="FeatureCollection"?p:{type:"Feature",properties:{},geometry:p}}var Hu={toGeoJSON:function(p){return Cc(this,{type:"Point",coordinates:Jp(this.getLatLng(),p)})}};Il.include(Hu),Xp.include(Hu),Kh.include(Hu),sa.include({toGeoJSON:function(p){var b=!kn(this._latlngs),S=$h(this._latlngs,b?1:0,!1,p);return Cc(this,{type:(b?"Multi":"")+"LineString",coordinates:S})}}),Sc.include({toGeoJSON:function(p){var b=!kn(this._latlngs),S=b&&!kn(this._latlngs[0]),O=$h(this._latlngs,S?2:b?1:0,!0,p);return b||(O=[O]),Cc(this,{type:(S?"Multi":"")+"Polygon",coordinates:O})}}),Ml.include({toMultiPoint:function(p){var b=[];return this.eachLayer(function(S){b.push(S.toGeoJSON(p).geometry.coordinates)}),Cc(this,{type:"MultiPoint",coordinates:b})},toGeoJSON:function(p){var b=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(b==="MultiPoint")return this.toMultiPoint(p);var S=b==="GeometryCollection",O=[];return this.eachLayer(function(q){if(q.toGeoJSON){var rt=q.toGeoJSON(p);if(S)O.push(rt.geometry);else{var wt=td(rt);wt.type==="FeatureCollection"?O.push.apply(O,wt.features):O.push(wt)}}}),S?Cc(this,{geometries:O,type:"GeometryCollection"}):{type:"FeatureCollection",features:O}}});function ed(p,b){return new aa(p,b)}var ob=ed,la=wo.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(p,b,S){this._url=p,this._bounds=pe(b),F(this,S)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(cr(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ki(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(p){return this.options.opacity=p,this._image&&this._updateOpacity(),this},setStyle:function(p){return p.opacity&&this.setOpacity(p.opacity),this},bringToFront:function(){return this._map&&ja(this._image),this},bringToBack:function(){return this._map&&Ha(this._image),this},setUrl:function(p){return this._url=p,this._image&&(this._image.src=p),this},setBounds:function(p){return this._bounds=pe(p),this._map&&this._reset(),this},getEvents:function(){var p={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},setZIndex:function(p){return this.options.zIndex=p,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var p=this._url.tagName==="IMG",b=this._image=p?this._url:ei("img");if(cr(b,"leaflet-image-layer"),this._zoomAnimated&&cr(b,"leaflet-zoom-animated"),this.options.className&&cr(b,this.options.className),b.onselectstart=k,b.onmousemove=k,b.onload=d(this.fire,this,"load"),b.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),p){this._url=b.src;return}b.src=this._url,b.alt=this.options.alt},_animateZoom:function(p){var b=this._map.getZoomScale(p.zoom),S=this._map._latLngBoundsToNewLayerBounds(this._bounds,p.zoom,p.center).min;_l(this._image,S,b)},_reset:function(){var p=this._image,b=new At(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),S=b.getSize();Ki(p,b.min),p.style.width=S.x+"px",p.style.height=S.y+"px"},_updateOpacity:function(){ir(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var p=this.options.errorOverlayUrl;p&&this._url!==p&&(this._url=p,this._image.src=p)},getCenter:function(){return this._bounds.getCenter()}}),sb=function(p,b,S){return new la(p,b,S)},Qp=la.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var p=this._url.tagName==="VIDEO",b=this._image=p?this._url:ei("video");if(cr(b,"leaflet-image-layer"),this._zoomAnimated&&cr(b,"leaflet-zoom-animated"),this.options.className&&cr(b,this.options.className),b.onselectstart=k,b.onmousemove=k,b.onloadeddata=d(this.fire,this,"load"),p){for(var S=b.getElementsByTagName("source"),O=[],q=0;q<S.length;q++)O.push(S[q].src);this._url=S.length>0?O:[b.src];return}G(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(b.style,"objectFit")&&(b.style.objectFit="fill"),b.autoplay=!!this.options.autoplay,b.loop=!!this.options.loop,b.muted=!!this.options.muted,b.playsInline=!!this.options.playsInline;for(var rt=0;rt<this._url.length;rt++){var wt=ei("source");wt.src=this._url[rt],b.appendChild(wt)}}});function Fm(p,b,S){return new Qp(p,b,S)}var Pc=la.extend({_initImage:function(){var p=this._image=this._url;cr(p,"leaflet-image-layer"),this._zoomAnimated&&cr(p,"leaflet-zoom-animated"),this.options.className&&cr(p,this.options.className),p.onselectstart=k,p.onmousemove=k}});function ab(p,b,S){return new Pc(p,b,S)}var dn=wo.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(p,b){p&&(p instanceof ae||G(p))?(this._latlng=le(p),F(this,b)):(F(this,p),this._source=b),this.options.content&&(this._content=this.options.content)},openOn:function(p){return p=arguments.length?p:this._source._map,p.hasLayer(this)||p.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(p){return this._map?this.close():(arguments.length?this._source=p:p=this._source,this._prepareOpen(),this.openOn(p._map)),this},onAdd:function(p){this._zoomAnimated=p._zoomAnimated,this._container||this._initLayout(),p._fadeAnimated&&ir(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),p._fadeAnimated&&ir(this._container,1),this.bringToFront(),this.options.interactive&&(cr(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(p){p._fadeAnimated?(ir(this._container,0),this._removeTimeout=setTimeout(d(ki,void 0,this._container),200)):ki(this._container),this.options.interactive&&(Je(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(p){return this._latlng=le(p),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(p){return this._content=p,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var p={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ja(this._container),this},bringToBack:function(){return this._map&&Ha(this._container),this},_prepareOpen:function(p){var b=this._source;if(!b._map)return!1;if(b instanceof Vn){b=null;var S=this._source._layers;for(var O in S)if(S[O]._map){b=S[O];break}if(!b)return!1;this._source=b}if(!p)if(b.getCenter)p=b.getCenter();else if(b.getLatLng)p=b.getLatLng();else if(b.getBounds)p=b.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(p),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var p=this._contentNode,b=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof b=="string")p.innerHTML=b;else{for(;p.hasChildNodes();)p.removeChild(p.firstChild);p.appendChild(b)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var p=this._map.latLngToLayerPoint(this._latlng),b=bt(this.options.offset),S=this._getAnchor();this._zoomAnimated?Ki(this._container,p.add(S)):b=b.add(p).add(S);var O=this._containerBottom=-b.y,q=this._containerLeft=-Math.round(this._containerWidth/2)+b.x;this._container.style.bottom=O+"px",this._container.style.left=q+"px"}},_getAnchor:function(){return[0,0]}});Yr.include({_initOverlay:function(p,b,S,O){var q=b;return q instanceof p||(q=new p(O).setContent(b)),S&&q.setLatLng(S),q}}),wo.include({_initOverlay:function(p,b,S,O){var q=S;return q instanceof p?(F(q,O),q._source=this):(q=b&&!O?b:new p(O,this),q.setContent(S)),q}});var Uu=dn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(p){return p=arguments.length?p:this._source._map,!p.hasLayer(this)&&p._popup&&p._popup.options.autoClose&&p.removeLayer(p._popup),p._popup=this,dn.prototype.openOn.call(this,p)},onAdd:function(p){dn.prototype.onAdd.call(this,p),p.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof oa||this._source.on("preclick",El))},onRemove:function(p){dn.prototype.onRemove.call(this,p),p.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof oa||this._source.off("preclick",El))},getEvents:function(){var p=dn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(p.preclick=this.close),this.options.keepInView&&(p.moveend=this._adjustPan),p},_initLayout:function(){var p="leaflet-popup",b=this._container=ei("div",p+" "+(this.options.className||"")+" leaflet-zoom-animated"),S=this._wrapper=ei("div",p+"-content-wrapper",b);if(this._contentNode=ei("div",p+"-content",S),kc(b),jp(this._contentNode),or(b,"contextmenu",El),this._tipContainer=ei("div",p+"-tip-container",b),this._tip=ei("div",p+"-tip",this._tipContainer),this.options.closeButton){var O=this._closeButton=ei("a",p+"-close-button",b);O.setAttribute("role","button"),O.setAttribute("aria-label","Close popup"),O.href="#close",O.innerHTML='<span aria-hidden="true">&#215;</span>',or(O,"click",function(q){Qi(q),this.close()},this)}},_updateLayout:function(){var p=this._contentNode,b=p.style;b.width="",b.whiteSpace="nowrap";var S=p.offsetWidth;S=Math.min(S,this.options.maxWidth),S=Math.max(S,this.options.minWidth),b.width=S+1+"px",b.whiteSpace="",b.height="";var O=p.offsetHeight,q=this.options.maxHeight,rt="leaflet-popup-scrolled";q&&O>q?(b.height=q+"px",cr(p,rt)):Je(p,rt),this._containerWidth=this._container.offsetWidth},_animateZoom:function(p){var b=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center),S=this._getAnchor();Ki(this._container,b.add(S))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var p=this._map,b=parseInt(mc(this._container,"marginBottom"),10)||0,S=this._container.offsetHeight+b,O=this._containerWidth,q=new Zt(this._containerLeft,-S-this._containerBottom);q._add(Si(this._container));var rt=p.layerPointToContainerPoint(q),wt=bt(this.options.autoPanPadding),Ot=bt(this.options.autoPanPaddingTopLeft||wt),Ut=bt(this.options.autoPanPaddingBottomRight||wt),ie=p.getSize(),_e=0,Xe=0;rt.x+O+Ut.x>ie.x&&(_e=rt.x+O-ie.x+Ut.x),rt.x-_e-Ot.x<0&&(_e=rt.x-Ot.x),rt.y+S+Ut.y>ie.y&&(Xe=rt.y+S-ie.y+Ut.y),rt.y-Xe-Ot.y<0&&(Xe=rt.y-Ot.y),(_e||Xe)&&(this.options.keepInView&&(this._autopanning=!0),p.fire("autopanstart").panBy([_e,Xe]))}},_getAnchor:function(){return bt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ca=function(p,b){return new Uu(p,b)};Yr.mergeOptions({closePopupOnClick:!0}),Yr.include({openPopup:function(p,b,S){return this._initOverlay(Uu,p,b,S).openOn(this),this},closePopup:function(p){return p=arguments.length?p:this._popup,p&&p.close(),this}}),wo.include({bindPopup:function(p,b){return this._popup=this._initOverlay(Uu,this._popup,p,b),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(p){return this._popup&&(this instanceof Vn||(this._popup._source=this),this._popup._prepareOpen(p||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(p){return this._popup&&this._popup.setContent(p),this},getPopup:function(){return this._popup},_openPopup:function(p){if(!(!this._popup||!this._map)){Tl(p);var b=p.layer||p.target;if(this._popup._source===b&&!(b instanceof oa)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(p.latlng);return}this._popup._source=b,this.openPopup(p.latlng)}},_movePopup:function(p){this._popup.setLatLng(p.latlng)},_onKeyPress:function(p){p.originalEvent.keyCode===13&&this._openPopup(p)}});var Ll=dn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(p){dn.prototype.onAdd.call(this,p),this.setOpacity(this.options.opacity),p.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(p){dn.prototype.onRemove.call(this,p),p.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var p=dn.prototype.getEvents.call(this);return this.options.permanent||(p.preclick=this.close),p},_initLayout:function(){var p="leaflet-tooltip",b=p+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ei("div",b),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(p){var b,S,O=this._map,q=this._container,rt=O.latLngToContainerPoint(O.getCenter()),wt=O.layerPointToContainerPoint(p),Ot=this.options.direction,Ut=q.offsetWidth,ie=q.offsetHeight,_e=bt(this.options.offset),Xe=this._getAnchor();Ot==="top"?(b=Ut/2,S=ie):Ot==="bottom"?(b=Ut/2,S=0):Ot==="center"?(b=Ut/2,S=ie/2):Ot==="right"?(b=0,S=ie/2):Ot==="left"?(b=Ut,S=ie/2):wt.x<rt.x?(Ot="right",b=0,S=ie/2):(Ot="left",b=Ut+(_e.x+Xe.x)*2,S=ie/2),p=p.subtract(bt(b,S,!0)).add(_e).add(Xe),Je(q,"leaflet-tooltip-right"),Je(q,"leaflet-tooltip-left"),Je(q,"leaflet-tooltip-top"),Je(q,"leaflet-tooltip-bottom"),cr(q,"leaflet-tooltip-"+Ot),Ki(q,p)},_updatePosition:function(){var p=this._map.latLngToLayerPoint(this._latlng);this._setPosition(p)},setOpacity:function(p){this.options.opacity=p,this._container&&ir(this._container,p)},_animateZoom:function(p){var b=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center);this._setPosition(b)},_getAnchor:function(){return bt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Bm=function(p,b){return new Ll(p,b)};Yr.include({openTooltip:function(p,b,S){return this._initOverlay(Ll,p,b,S).openOn(this),this},closeTooltip:function(p){return p.close(),this}}),wo.include({bindTooltip:function(p,b){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ll,this._tooltip,p,b),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(p){if(!(!p&&this._tooltipHandlersAdded)){var b=p?"off":"on",S={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?S.add=this._openTooltip:(S.mouseover=this._openTooltip,S.mouseout=this.closeTooltip,S.click=this._openTooltip,this._map?this._addFocusListeners():S.add=this._addFocusListeners),this._tooltip.options.sticky&&(S.mousemove=this._moveTooltip),this[b](S),this._tooltipHandlersAdded=!p}},openTooltip:function(p){return this._tooltip&&(this instanceof Vn||(this._tooltip._source=this),this._tooltip._prepareOpen(p)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(p){return this._tooltip&&this._tooltip.setContent(p),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(p){var b=typeof p.getElement=="function"&&p.getElement();b&&(or(b,"focus",function(){this._tooltip._source=p,this.openTooltip()},this),or(b,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(p){var b=typeof p.getElement=="function"&&p.getElement();b&&b.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(p){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var b=this;this._map.once("moveend",function(){b._openOnceFlag=!1,b._openTooltip(p)});return}this._tooltip._source=p.layer||p.target,this.openTooltip(this._tooltip.options.sticky?p.latlng:void 0)}},_moveTooltip:function(p){var b=p.latlng,S,O;this._tooltip.options.sticky&&p.originalEvent&&(S=this._map.mouseEventToContainerPoint(p.originalEvent),O=this._map.containerPointToLayerPoint(S),b=this._map.layerPointToLatLng(O)),this._tooltip.setLatLng(b)}});var $p=Ps.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(p){var b=p&&p.tagName==="DIV"?p:document.createElement("div"),S=this.options;if(S.html instanceof Element?(Mu(b),b.appendChild(S.html)):b.innerHTML=S.html!==!1?S.html:"",S.bgPos){var O=bt(S.bgPos);b.style.backgroundPosition=-O.x+"px "+-O.y+"px"}return this._setIconStyles(b,"icon"),b},createShadow:function(){return null}});function tf(p){return new $p(p)}Ps.Default=Tc;var Gu=wo.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ne.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(p){F(this,p)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(p){p._addZoomLimit(this)},onRemove:function(p){this._removeAllTiles(),ki(this._container),p._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ja(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ha(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(p){return this.options.opacity=p,this._updateOpacity(),this},setZIndex:function(p){return this.options.zIndex=p,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var p=this._clampZoom(this._map.getZoom());p!==this._tileZoom&&(this._tileZoom=p,this._updateLevels()),this._update()}return this},getEvents:function(){var p={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),p.move=this._onMove),this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},createTile:function(){return document.createElement("div")},getTileSize:function(){var p=this.options.tileSize;return p instanceof Zt?p:new Zt(p,p)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(p){for(var b=this.getPane().children,S=-p(-1/0,1/0),O=0,q=b.length,rt;O<q;O++)rt=b[O].style.zIndex,b[O]!==this._container&&rt&&(S=p(S,+rt));isFinite(S)&&(this.options.zIndex=S+p(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ne.ielt9){ir(this._container,this.options.opacity);var p=+new Date,b=!1,S=!1;for(var O in this._tiles){var q=this._tiles[O];if(!(!q.current||!q.loaded)){var rt=Math.min(1,(p-q.loaded)/200);ir(q.el,rt),rt<1?b=!0:(q.active?S=!0:this._onOpaqueTile(q),q.active=!0)}}S&&!this._noPrune&&this._pruneTiles(),b&&(gt(this._fadeFrame),this._fadeFrame=ut(this._updateOpacity,this))}},_onOpaqueTile:k,_initContainer:function(){this._container||(this._container=ei("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var p=this._tileZoom,b=this.options.maxZoom;if(p!==void 0){for(var S in this._levels)S=Number(S),this._levels[S].el.children.length||S===p?(this._levels[S].el.style.zIndex=b-Math.abs(p-S),this._onUpdateLevel(S)):(ki(this._levels[S].el),this._removeTilesAtZoom(S),this._onRemoveLevel(S),delete this._levels[S]);var O=this._levels[p],q=this._map;return O||(O=this._levels[p]={},O.el=ei("div","leaflet-tile-container leaflet-zoom-animated",this._container),O.el.style.zIndex=b,O.origin=q.project(q.unproject(q.getPixelOrigin()),p).round(),O.zoom=p,this._setZoomTransform(O,q.getCenter(),q.getZoom()),k(O.el.offsetWidth),this._onCreateLevel(O)),this._level=O,O}},_onUpdateLevel:k,_onRemoveLevel:k,_onCreateLevel:k,_pruneTiles:function(){if(this._map){var p,b,S=this._map.getZoom();if(S>this.options.maxZoom||S<this.options.minZoom){this._removeAllTiles();return}for(p in this._tiles)b=this._tiles[p],b.retain=b.current;for(p in this._tiles)if(b=this._tiles[p],b.current&&!b.active){var O=b.coords;this._retainParent(O.x,O.y,O.z,O.z-5)||this._retainChildren(O.x,O.y,O.z,O.z+2)}for(p in this._tiles)this._tiles[p].retain||this._removeTile(p)}},_removeTilesAtZoom:function(p){for(var b in this._tiles)this._tiles[b].coords.z===p&&this._removeTile(b)},_removeAllTiles:function(){for(var p in this._tiles)this._removeTile(p)},_invalidateAll:function(){for(var p in this._levels)ki(this._levels[p].el),this._onRemoveLevel(Number(p)),delete this._levels[p];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(p,b,S,O){var q=Math.floor(p/2),rt=Math.floor(b/2),wt=S-1,Ot=new Zt(+q,+rt);Ot.z=+wt;var Ut=this._tileCoordsToKey(Ot),ie=this._tiles[Ut];return ie&&ie.active?(ie.retain=!0,!0):(ie&&ie.loaded&&(ie.retain=!0),wt>O?this._retainParent(q,rt,wt,O):!1)},_retainChildren:function(p,b,S,O){for(var q=2*p;q<2*p+2;q++)for(var rt=2*b;rt<2*b+2;rt++){var wt=new Zt(q,rt);wt.z=S+1;var Ot=this._tileCoordsToKey(wt),Ut=this._tiles[Ot];if(Ut&&Ut.active){Ut.retain=!0;continue}else Ut&&Ut.loaded&&(Ut.retain=!0);S+1<O&&this._retainChildren(q,rt,S+1,O)}},_resetView:function(p){var b=p&&(p.pinch||p.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),b,b)},_animateZoom:function(p){this._setView(p.center,p.zoom,!0,p.noUpdate)},_clampZoom:function(p){var b=this.options;return b.minNativeZoom!==void 0&&p<b.minNativeZoom?b.minNativeZoom:b.maxNativeZoom!==void 0&&b.maxNativeZoom<p?b.maxNativeZoom:p},_setView:function(p,b,S,O){var q=Math.round(b);this.options.maxZoom!==void 0&&q>this.options.maxZoom||this.options.minZoom!==void 0&&q<this.options.minZoom?q=void 0:q=this._clampZoom(q);var rt=this.options.updateWhenZooming&&q!==this._tileZoom;(!O||rt)&&(this._tileZoom=q,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),q!==void 0&&this._update(p),S||this._pruneTiles(),this._noPrune=!!S),this._setZoomTransforms(p,b)},_setZoomTransforms:function(p,b){for(var S in this._levels)this._setZoomTransform(this._levels[S],p,b)},_setZoomTransform:function(p,b,S){var O=this._map.getZoomScale(S,p.zoom),q=p.origin.multiplyBy(O).subtract(this._map._getNewPixelOrigin(b,S)).round();Ne.any3d?_l(p.el,q,O):Ki(p.el,q)},_resetGrid:function(){var p=this._map,b=p.options.crs,S=this._tileSize=this.getTileSize(),O=this._tileZoom,q=this._map.getPixelWorldBounds(this._tileZoom);q&&(this._globalTileRange=this._pxBoundsToTileRange(q)),this._wrapX=b.wrapLng&&!this.options.noWrap&&[Math.floor(p.project([0,b.wrapLng[0]],O).x/S.x),Math.ceil(p.project([0,b.wrapLng[1]],O).x/S.y)],this._wrapY=b.wrapLat&&!this.options.noWrap&&[Math.floor(p.project([b.wrapLat[0],0],O).y/S.x),Math.ceil(p.project([b.wrapLat[1],0],O).y/S.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(p){var b=this._map,S=b._animatingZoom?Math.max(b._animateToZoom,b.getZoom()):b.getZoom(),O=b.getZoomScale(S,this._tileZoom),q=b.project(p,this._tileZoom).floor(),rt=b.getSize().divideBy(O*2);return new At(q.subtract(rt),q.add(rt))},_update:function(p){var b=this._map;if(b){var S=this._clampZoom(b.getZoom());if(p===void 0&&(p=b.getCenter()),this._tileZoom!==void 0){var O=this._getTiledPixelBounds(p),q=this._pxBoundsToTileRange(O),rt=q.getCenter(),wt=[],Ot=this.options.keepBuffer,Ut=new At(q.getBottomLeft().subtract([Ot,-Ot]),q.getTopRight().add([Ot,-Ot]));if(!(isFinite(q.min.x)&&isFinite(q.min.y)&&isFinite(q.max.x)&&isFinite(q.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ie in this._tiles){var _e=this._tiles[ie].coords;(_e.z!==this._tileZoom||!Ut.contains(new Zt(_e.x,_e.y)))&&(this._tiles[ie].current=!1)}if(Math.abs(S-this._tileZoom)>1){this._setView(p,S);return}for(var Xe=q.min.y;Xe<=q.max.y;Xe++)for(var dr=q.min.x;dr<=q.max.x;dr++){var Rn=new Zt(dr,Xe);if(Rn.z=this._tileZoom,!!this._isValidTile(Rn)){var tn=this._tiles[this._tileCoordsToKey(Rn)];tn?tn.current=!0:wt.push(Rn)}}if(wt.sort(function(Wn,Al){return Wn.distanceTo(rt)-Al.distanceTo(rt)}),wt.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var An=document.createDocumentFragment();for(dr=0;dr<wt.length;dr++)this._addTile(wt[dr],An);this._level.el.appendChild(An)}}}},_isValidTile:function(p){var b=this._map.options.crs;if(!b.infinite){var S=this._globalTileRange;if(!b.wrapLng&&(p.x<S.min.x||p.x>S.max.x)||!b.wrapLat&&(p.y<S.min.y||p.y>S.max.y))return!1}if(!this.options.bounds)return!0;var O=this._tileCoordsToBounds(p);return pe(this.options.bounds).overlaps(O)},_keyToBounds:function(p){return this._tileCoordsToBounds(this._keyToTileCoords(p))},_tileCoordsToNwSe:function(p){var b=this._map,S=this.getTileSize(),O=p.scaleBy(S),q=O.add(S),rt=b.unproject(O,p.z),wt=b.unproject(q,p.z);return[rt,wt]},_tileCoordsToBounds:function(p){var b=this._tileCoordsToNwSe(p),S=new ee(b[0],b[1]);return this.options.noWrap||(S=this._map.wrapLatLngBounds(S)),S},_tileCoordsToKey:function(p){return p.x+":"+p.y+":"+p.z},_keyToTileCoords:function(p){var b=p.split(":"),S=new Zt(+b[0],+b[1]);return S.z=+b[2],S},_removeTile:function(p){var b=this._tiles[p];b&&(ki(b.el),delete this._tiles[p],this.fire("tileunload",{tile:b.el,coords:this._keyToTileCoords(p)}))},_initTile:function(p){cr(p,"leaflet-tile");var b=this.getTileSize();p.style.width=b.x+"px",p.style.height=b.y+"px",p.onselectstart=k,p.onmousemove=k,Ne.ielt9&&this.options.opacity<1&&ir(p,this.options.opacity)},_addTile:function(p,b){var S=this._getTilePos(p),O=this._tileCoordsToKey(p),q=this.createTile(this._wrapCoords(p),d(this._tileReady,this,p));this._initTile(q),this.createTile.length<2&&ut(d(this._tileReady,this,p,null,q)),Ki(q,S),this._tiles[O]={el:q,coords:p,current:!0},b.appendChild(q),this.fire("tileloadstart",{tile:q,coords:p})},_tileReady:function(p,b,S){b&&this.fire("tileerror",{error:b,tile:S,coords:p});var O=this._tileCoordsToKey(p);S=this._tiles[O],S&&(S.loaded=+new Date,this._map._fadeAnimated?(ir(S.el,0),gt(this._fadeFrame),this._fadeFrame=ut(this._updateOpacity,this)):(S.active=!0,this._pruneTiles()),b||(cr(S.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:S.el,coords:p})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ne.ielt9||!this._map._fadeAnimated?ut(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(p){return p.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(p){var b=new Zt(this._wrapX?_(p.x,this._wrapX):p.x,this._wrapY?_(p.y,this._wrapY):p.y);return b.z=p.z,b},_pxBoundsToTileRange:function(p){var b=this.getTileSize();return new At(p.min.unscaleBy(b).floor(),p.max.unscaleBy(b).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var p in this._tiles)if(!this._tiles[p].loaded)return!1;return!0}});function jm(p){return new Gu(p)}var Rl=Gu.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(p,b){this._url=p,b=F(this,b),b.detectRetina&&Ne.retina&&b.maxZoom>0?(b.tileSize=Math.floor(b.tileSize/2),b.zoomReverse?(b.zoomOffset--,b.minZoom=Math.min(b.maxZoom,b.minZoom+1)):(b.zoomOffset++,b.maxZoom=Math.max(b.minZoom,b.maxZoom-1)),b.minZoom=Math.max(0,b.minZoom)):b.zoomReverse?b.minZoom=Math.min(b.maxZoom,b.minZoom):b.maxZoom=Math.max(b.minZoom,b.maxZoom),typeof b.subdomains=="string"&&(b.subdomains=b.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(p,b){return this._url===p&&b===void 0&&(b=!0),this._url=p,b||this.redraw(),this},createTile:function(p,b){var S=document.createElement("img");return or(S,"load",d(this._tileOnLoad,this,b,S)),or(S,"error",d(this._tileOnError,this,b,S)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(S.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(S.referrerPolicy=this.options.referrerPolicy),S.alt="",S.src=this.getTileUrl(p),S},getTileUrl:function(p){var b={r:Ne.retina?"@2x":"",s:this._getSubdomain(p),x:p.x,y:p.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var S=this._globalTileRange.max.y-p.y;this.options.tms&&(b.y=S),b["-y"]=S}return J(this._url,l(b,this.options))},_tileOnLoad:function(p,b){Ne.ielt9?setTimeout(d(p,this,null,b),0):p(null,b)},_tileOnError:function(p,b,S){var O=this.options.errorTileUrl;O&&b.getAttribute("src")!==O&&(b.src=O),p(S,b)},_onTileRemove:function(p){p.tile.onload=null},_getZoomForUrl:function(){var p=this._tileZoom,b=this.options.maxZoom,S=this.options.zoomReverse,O=this.options.zoomOffset;return S&&(p=b-p),p+O},_getSubdomain:function(p){var b=Math.abs(p.x+p.y)%this.options.subdomains.length;return this.options.subdomains[b]},_abortLoading:function(){var p,b;for(p in this._tiles)if(this._tiles[p].coords.z!==this._tileZoom&&(b=this._tiles[p].el,b.onload=k,b.onerror=k,!b.complete)){b.src=at;var S=this._tiles[p].coords;ki(b),delete this._tiles[p],this.fire("tileabort",{tile:b,coords:S})}},_removeTile:function(p){var b=this._tiles[p];if(b)return b.el.setAttribute("src",at),Gu.prototype._removeTile.call(this,p)},_tileReady:function(p,b,S){if(!(!this._map||S&&S.getAttribute("src")===at))return Gu.prototype._tileReady.call(this,p,b,S)}});function ef(p,b){return new Rl(p,b)}var rd=Rl.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(p,b){this._url=p;var S=l({},this.defaultWmsParams);for(var O in b)O in this.options||(S[O]=b[O]);b=F(this,b);var q=b.detectRetina&&Ne.retina?2:1,rt=this.getTileSize();S.width=rt.x*q,S.height=rt.y*q,this.wmsParams=S},onAdd:function(p){this._crs=this.options.crs||p.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var b=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[b]=this._crs.code,Rl.prototype.onAdd.call(this,p)},getTileUrl:function(p){var b=this._tileCoordsToNwSe(p),S=this._crs,O=qt(S.project(b[0]),S.project(b[1])),q=O.min,rt=O.max,wt=(this._wmsVersion>=1.3&&this._crs===Ec?[q.y,q.x,rt.y,rt.x]:[q.x,q.y,rt.x,rt.y]).join(","),Ot=Rl.prototype.getTileUrl.call(this,p);return Ot+H(this.wmsParams,Ot,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+wt},setParams:function(p,b){return l(this.wmsParams,p),b||this.redraw(),this}});function Hm(p,b){return new rd(p,b)}Rl.WMS=rd,ef.wms=Hm;var Ms=wo.extend({options:{padding:.1},initialize:function(p){F(this,p),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),cr(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var p={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(p.zoomanim=this._onAnimZoom),p},_onAnimZoom:function(p){this._updateTransform(p.center,p.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(p,b){var S=this._map.getZoomScale(b,this._zoom),O=this._map.getSize().multiplyBy(.5+this.options.padding),q=this._map.project(this._center,b),rt=O.multiplyBy(-S).add(q).subtract(this._map._getNewPixelOrigin(p,b));Ne.any3d?_l(this._container,rt,S):Ki(this._container,rt)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var p in this._layers)this._layers[p]._reset()},_onZoomEnd:function(){for(var p in this._layers)this._layers[p]._project()},_updatePaths:function(){for(var p in this._layers)this._layers[p]._update()},_update:function(){var p=this.options.padding,b=this._map.getSize(),S=this._map.containerPointToLayerPoint(b.multiplyBy(-p)).round();this._bounds=new At(S,S.add(b.multiplyBy(1+p*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),id=Ms.extend({options:{tolerance:0},getEvents:function(){var p=Ms.prototype.getEvents.call(this);return p.viewprereset=this._onViewPreReset,p},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ms.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var p=this._container=document.createElement("canvas");or(p,"mousemove",this._onMouseMove,this),or(p,"click dblclick mousedown mouseup contextmenu",this._onClick,this),or(p,"mouseout",this._handleMouseOut,this),p._leaflet_disable_events=!0,this._ctx=p.getContext("2d")},_destroyContainer:function(){gt(this._redrawRequest),delete this._ctx,ki(this._container),ui(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var p;this._redrawBounds=null;for(var b in this._layers)p=this._layers[b],p._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ms.prototype._update.call(this);var p=this._bounds,b=this._container,S=p.getSize(),O=Ne.retina?2:1;Ki(b,p.min),b.width=O*S.x,b.height=O*S.y,b.style.width=S.x+"px",b.style.height=S.y+"px",Ne.retina&&this._ctx.scale(2,2),this._ctx.translate(-p.min.x,-p.min.y),this.fire("update")}},_reset:function(){Ms.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(p){this._updateDashArray(p),this._layers[m(p)]=p;var b=p._order={layer:p,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=b),this._drawLast=b,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(p){this._requestRedraw(p)},_removePath:function(p){var b=p._order,S=b.next,O=b.prev;S?S.prev=O:this._drawLast=O,O?O.next=S:this._drawFirst=S,delete p._order,delete this._layers[m(p)],this._requestRedraw(p)},_updatePath:function(p){this._extendRedrawBounds(p),p._project(),p._update(),this._requestRedraw(p)},_updateStyle:function(p){this._updateDashArray(p),this._requestRedraw(p)},_updateDashArray:function(p){if(typeof p.options.dashArray=="string"){var b=p.options.dashArray.split(/[, ]+/),S=[],O,q;for(q=0;q<b.length;q++){if(O=Number(b[q]),isNaN(O))return;S.push(O)}p.options._dashArray=S}else p.options._dashArray=p.options.dashArray},_requestRedraw:function(p){this._map&&(this._extendRedrawBounds(p),this._redrawRequest=this._redrawRequest||ut(this._redraw,this))},_extendRedrawBounds:function(p){if(p._pxBounds){var b=(p.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new At,this._redrawBounds.extend(p._pxBounds.min.subtract([b,b])),this._redrawBounds.extend(p._pxBounds.max.add([b,b]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var p=this._redrawBounds;if(p){var b=p.getSize();this._ctx.clearRect(p.min.x,p.min.y,b.x,b.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var p,b=this._redrawBounds;if(this._ctx.save(),b){var S=b.getSize();this._ctx.beginPath(),this._ctx.rect(b.min.x,b.min.y,S.x,S.y),this._ctx.clip()}this._drawing=!0;for(var O=this._drawFirst;O;O=O.next)p=O.layer,(!b||p._pxBounds&&p._pxBounds.intersects(b))&&p._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(p,b){if(this._drawing){var S,O,q,rt,wt=p._parts,Ot=wt.length,Ut=this._ctx;if(Ot){for(Ut.beginPath(),S=0;S<Ot;S++){for(O=0,q=wt[S].length;O<q;O++)rt=wt[S][O],Ut[O?"lineTo":"moveTo"](rt.x,rt.y);b&&Ut.closePath()}this._fillStroke(Ut,p)}}},_updateCircle:function(p){if(!(!this._drawing||p._empty())){var b=p._point,S=this._ctx,O=Math.max(Math.round(p._radius),1),q=(Math.max(Math.round(p._radiusY),1)||O)/O;q!==1&&(S.save(),S.scale(1,q)),S.beginPath(),S.arc(b.x,b.y/q,O,0,Math.PI*2,!1),q!==1&&S.restore(),this._fillStroke(S,p)}},_fillStroke:function(p,b){var S=b.options;S.fill&&(p.globalAlpha=S.fillOpacity,p.fillStyle=S.fillColor||S.color,p.fill(S.fillRule||"evenodd")),S.stroke&&S.weight!==0&&(p.setLineDash&&p.setLineDash(b.options&&b.options._dashArray||[]),p.globalAlpha=S.opacity,p.lineWidth=S.weight,p.strokeStyle=S.color,p.lineCap=S.lineCap,p.lineJoin=S.lineJoin,p.stroke())},_onClick:function(p){for(var b=this._map.mouseEventToLayerPoint(p),S,O,q=this._drawFirst;q;q=q.next)S=q.layer,S.options.interactive&&S._containsPoint(b)&&(!(p.type==="click"||p.type==="preclick")||!this._map._draggableMoved(S))&&(O=S);this._fireEvent(O?[O]:!1,p)},_onMouseMove:function(p){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var b=this._map.mouseEventToLayerPoint(p);this._handleMouseHover(p,b)}},_handleMouseOut:function(p){var b=this._hoveredLayer;b&&(Je(this._container,"leaflet-interactive"),this._fireEvent([b],p,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(p,b){if(!this._mouseHoverThrottled){for(var S,O,q=this._drawFirst;q;q=q.next)S=q.layer,S.options.interactive&&S._containsPoint(b)&&(O=S);O!==this._hoveredLayer&&(this._handleMouseOut(p),O&&(cr(this._container,"leaflet-interactive"),this._fireEvent([O],p,"mouseover"),this._hoveredLayer=O)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,p),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(p,b,S){this._map._fireDOMEvent(b,S||b.type,p)},_bringToFront:function(p){var b=p._order;if(b){var S=b.next,O=b.prev;if(S)S.prev=O;else return;O?O.next=S:S&&(this._drawFirst=S),b.prev=this._drawLast,this._drawLast.next=b,b.next=null,this._drawLast=b,this._requestRedraw(p)}},_bringToBack:function(p){var b=p._order;if(b){var S=b.next,O=b.prev;if(O)O.next=S;else return;S?S.prev=O:O&&(this._drawLast=O),b.prev=null,b.next=this._drawFirst,this._drawFirst.prev=b,this._drawFirst=b,this._requestRedraw(p)}}});function nd(p){return Ne.canvas?new id(p):null}var Mc=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(p){return document.createElement("<lvml:"+p+' class="lvml">')}}catch{}return function(p){return document.createElement("<"+p+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ro={_initContainer:function(){this._container=ei("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ms.prototype._update.call(this),this.fire("update"))},_initPath:function(p){var b=p._container=Mc("shape");cr(b,"leaflet-vml-shape "+(this.options.className||"")),b.coordsize="1 1",p._path=Mc("path"),b.appendChild(p._path),this._updateStyle(p),this._layers[m(p)]=p},_addPath:function(p){var b=p._container;this._container.appendChild(b),p.options.interactive&&p.addInteractiveTarget(b)},_removePath:function(p){var b=p._container;ki(b),p.removeInteractiveTarget(b),delete this._layers[m(p)]},_updateStyle:function(p){var b=p._stroke,S=p._fill,O=p.options,q=p._container;q.stroked=!!O.stroke,q.filled=!!O.fill,O.stroke?(b||(b=p._stroke=Mc("stroke")),q.appendChild(b),b.weight=O.weight+"px",b.color=O.color,b.opacity=O.opacity,O.dashArray?b.dashStyle=G(O.dashArray)?O.dashArray.join(" "):O.dashArray.replace(/( *, *)/g," "):b.dashStyle="",b.endcap=O.lineCap.replace("butt","flat"),b.joinstyle=O.lineJoin):b&&(q.removeChild(b),p._stroke=null),O.fill?(S||(S=p._fill=Mc("fill")),q.appendChild(S),S.color=O.fillColor||O.color,S.opacity=O.fillOpacity):S&&(q.removeChild(S),p._fill=null)},_updateCircle:function(p){var b=p._point.round(),S=Math.round(p._radius),O=Math.round(p._radiusY||S);this._setPath(p,p._empty()?"M0 0":"AL "+b.x+","+b.y+" "+S+","+O+" 0,"+65535*360)},_setPath:function(p,b){p._path.v=b},_bringToFront:function(p){ja(p._container)},_bringToBack:function(p){Ha(p._container)}},od=Ne.vml?Mc:R,Ic=Ms.extend({_initContainer:function(){this._container=od("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=od("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ki(this._container),ui(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ms.prototype._update.call(this);var p=this._bounds,b=p.getSize(),S=this._container;(!this._svgSize||!this._svgSize.equals(b))&&(this._svgSize=b,S.setAttribute("width",b.x),S.setAttribute("height",b.y)),Ki(S,p.min),S.setAttribute("viewBox",[p.min.x,p.min.y,b.x,b.y].join(" ")),this.fire("update")}},_initPath:function(p){var b=p._path=od("path");p.options.className&&cr(b,p.options.className),p.options.interactive&&cr(b,"leaflet-interactive"),this._updateStyle(p),this._layers[m(p)]=p},_addPath:function(p){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(p._path),p.addInteractiveTarget(p._path)},_removePath:function(p){ki(p._path),p.removeInteractiveTarget(p._path),delete this._layers[m(p)]},_updatePath:function(p){p._project(),p._update()},_updateStyle:function(p){var b=p._path,S=p.options;b&&(S.stroke?(b.setAttribute("stroke",S.color),b.setAttribute("stroke-opacity",S.opacity),b.setAttribute("stroke-width",S.weight),b.setAttribute("stroke-linecap",S.lineCap),b.setAttribute("stroke-linejoin",S.lineJoin),S.dashArray?b.setAttribute("stroke-dasharray",S.dashArray):b.removeAttribute("stroke-dasharray"),S.dashOffset?b.setAttribute("stroke-dashoffset",S.dashOffset):b.removeAttribute("stroke-dashoffset")):b.setAttribute("stroke","none"),S.fill?(b.setAttribute("fill",S.fillColor||S.color),b.setAttribute("fill-opacity",S.fillOpacity),b.setAttribute("fill-rule",S.fillRule||"evenodd")):b.setAttribute("fill","none"))},_updatePoly:function(p,b){this._setPath(p,j(p._parts,b))},_updateCircle:function(p){var b=p._point,S=Math.max(Math.round(p._radius),1),O=Math.max(Math.round(p._radiusY),1)||S,q="a"+S+","+O+" 0 1,0 ",rt=p._empty()?"M0 0":"M"+(b.x-S)+","+b.y+q+S*2+",0 "+q+-S*2+",0 ";this._setPath(p,rt)},_setPath:function(p,b){p._path.setAttribute("d",b)},_bringToFront:function(p){ja(p._path)},_bringToBack:function(p){Ha(p._path)}});Ne.vml&&Ic.include(ro);function rf(p){return Ne.svg||Ne.vml?new Ic(p):null}Yr.include({getRenderer:function(p){var b=p.options.renderer||this._getPaneRenderer(p.options.pane)||this.options.renderer||this._renderer;return b||(b=this._renderer=this._createRenderer()),this.hasLayer(b)||this.addLayer(b),b},_getPaneRenderer:function(p){if(p==="overlayPane"||p===void 0)return!1;var b=this._paneRenderers[p];return b===void 0&&(b=this._createRenderer({pane:p}),this._paneRenderers[p]=b),b},_createRenderer:function(p){return this.options.preferCanvas&&nd(p)||rf(p)}});var nf=Sc.extend({initialize:function(p,b){Sc.prototype.initialize.call(this,this._boundsToLatLngs(p),b)},setBounds:function(p){return this.setLatLngs(this._boundsToLatLngs(p))},_boundsToLatLngs:function(p){return p=pe(p),[p.getSouthWest(),p.getNorthWest(),p.getNorthEast(),p.getSouthEast()]}});function lb(p,b){return new nf(p,b)}Ic.create=od,Ic.pointsToPath=j,aa.geometryToLayer=Jh,aa.coordsToLatLng=Kp,aa.coordsToLatLngs=Qh,aa.latLngToCoords=Jp,aa.latLngsToCoords=$h,aa.getFeature=Cc,aa.asFeature=td,Yr.mergeOptions({boxZoom:!0});var of=$i.extend({initialize:function(p){this._map=p,this._container=p._container,this._pane=p._panes.overlayPane,this._resetStateTimeout=0,p.on("unload",this._destroy,this)},addHooks:function(){or(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ui(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ki(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(p){if(!p.shiftKey||p.which!==1&&p.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),bc(),Np(),this._startPoint=this._map.mouseEventToContainerPoint(p),or(document,{contextmenu:Tl,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(p){this._moved||(this._moved=!0,this._box=ei("div","leaflet-zoom-box",this._container),cr(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(p);var b=new At(this._point,this._startPoint),S=b.getSize();Ki(this._box,b.min),this._box.style.width=S.x+"px",this._box.style.height=S.y+"px"},_finish:function(){this._moved&&(ki(this._box),Je(this._container,"leaflet-crosshair")),wc(),_c(),ui(document,{contextmenu:Tl,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(p){if(!(p.which!==1&&p.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var b=new ee(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(b).fire("boxzoomend",{boxZoomBounds:b})}},_onKeyDown:function(p){p.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Yr.addInitHook("addHandler","boxZoom",of),Yr.mergeOptions({doubleClickZoom:!0});var sf=$i.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(p){var b=this._map,S=b.getZoom(),O=b.options.zoomDelta,q=p.originalEvent.shiftKey?S-O:S+O;b.options.doubleClickZoom==="center"?b.setZoom(q):b.setZoomAround(p.containerPoint,q)}});Yr.addInitHook("addHandler","doubleClickZoom",sf),Yr.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var sd=$i.extend({addHooks:function(){if(!this._draggable){var p=this._map;this._draggable=new os(p._mapPane,p._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),p.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),p.on("zoomend",this._onZoomEnd,this),p.whenReady(this._onZoomEnd,this))}cr(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Je(this._map._container,"leaflet-grab"),Je(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var p=this._map;if(p._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var b=pe(this._map.options.maxBounds);this._offsetLimit=qt(this._map.latLngToContainerPoint(b.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(b.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;p.fire("movestart").fire("dragstart"),p.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(p){if(this._map.options.inertia){var b=this._lastTime=+new Date,S=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(S),this._times.push(b),this._prunePositions(b)}this._map.fire("move",p).fire("drag",p)},_prunePositions:function(p){for(;this._positions.length>1&&p-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var p=this._map.getSize().divideBy(2),b=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=b.subtract(p).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(p,b){return p-(p-b)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var p=this._draggable._newPos.subtract(this._draggable._startPos),b=this._offsetLimit;p.x<b.min.x&&(p.x=this._viscousLimit(p.x,b.min.x)),p.y<b.min.y&&(p.y=this._viscousLimit(p.y,b.min.y)),p.x>b.max.x&&(p.x=this._viscousLimit(p.x,b.max.x)),p.y>b.max.y&&(p.y=this._viscousLimit(p.y,b.max.y)),this._draggable._newPos=this._draggable._startPos.add(p)}},_onPreDragWrap:function(){var p=this._worldWidth,b=Math.round(p/2),S=this._initialWorldOffset,O=this._draggable._newPos.x,q=(O-b+S)%p+b-S,rt=(O+b+S)%p-b-S,wt=Math.abs(q+S)<Math.abs(rt+S)?q:rt;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=wt},_onDragEnd:function(p){var b=this._map,S=b.options,O=!S.inertia||p.noInertia||this._times.length<2;if(b.fire("dragend",p),O)b.fire("moveend");else{this._prunePositions(+new Date);var q=this._lastPos.subtract(this._positions[0]),rt=(this._lastTime-this._times[0])/1e3,wt=S.easeLinearity,Ot=q.multiplyBy(wt/rt),Ut=Ot.distanceTo([0,0]),ie=Math.min(S.inertiaMaxSpeed,Ut),_e=Ot.multiplyBy(ie/Ut),Xe=ie/(S.inertiaDeceleration*wt),dr=_e.multiplyBy(-Xe/2).round();!dr.x&&!dr.y?b.fire("moveend"):(dr=b._limitOffset(dr,b.options.maxBounds),ut(function(){b.panBy(dr,{duration:Xe,easeLinearity:wt,noMoveStart:!0,animate:!0})}))}}});Yr.addInitHook("addHandler","dragging",sd),Yr.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Um=$i.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(p){this._map=p,this._setPanDelta(p.options.keyboardPanDelta),this._setZoomDelta(p.options.zoomDelta)},addHooks:function(){var p=this._map._container;p.tabIndex<=0&&(p.tabIndex="0"),or(p,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ui(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var p=document.body,b=document.documentElement,S=p.scrollTop||b.scrollTop,O=p.scrollLeft||b.scrollLeft;this._map._container.focus(),window.scrollTo(O,S)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(p){var b=this._panKeys={},S=this.keyCodes,O,q;for(O=0,q=S.left.length;O<q;O++)b[S.left[O]]=[-1*p,0];for(O=0,q=S.right.length;O<q;O++)b[S.right[O]]=[p,0];for(O=0,q=S.down.length;O<q;O++)b[S.down[O]]=[0,p];for(O=0,q=S.up.length;O<q;O++)b[S.up[O]]=[0,-1*p]},_setZoomDelta:function(p){var b=this._zoomKeys={},S=this.keyCodes,O,q;for(O=0,q=S.zoomIn.length;O<q;O++)b[S.zoomIn[O]]=p;for(O=0,q=S.zoomOut.length;O<q;O++)b[S.zoomOut[O]]=-p},_addHooks:function(){or(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ui(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(p){if(!(p.altKey||p.ctrlKey||p.metaKey)){var b=p.keyCode,S=this._map,O;if(b in this._panKeys){if(!S._panAnim||!S._panAnim._inProgress)if(O=this._panKeys[b],p.shiftKey&&(O=bt(O).multiplyBy(3)),S.options.maxBounds&&(O=S._limitOffset(bt(O),S.options.maxBounds)),S.options.worldCopyJump){var q=S.wrapLatLng(S.unproject(S.project(S.getCenter()).add(O)));S.panTo(q)}else S.panBy(O)}else if(b in this._zoomKeys)S.setZoom(S.getZoom()+(p.shiftKey?3:1)*this._zoomKeys[b]);else if(b===27&&S._popup&&S._popup.options.closeOnEscapeKey)S.closePopup();else return;Tl(p)}}});Yr.addInitHook("addHandler","keyboard",Um),Yr.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Lc=$i.extend({addHooks:function(){or(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ui(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(p){var b=Tm(p),S=this._map.options.wheelDebounceTime;this._delta+=b,this._lastMousePos=this._map.mouseEventToContainerPoint(p),this._startTime||(this._startTime=+new Date);var O=Math.max(S-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),O),Tl(p)},_performZoom:function(){var p=this._map,b=p.getZoom(),S=this._map.options.zoomSnap||0;p._stop();var O=this._delta/(this._map.options.wheelPxPerZoomLevel*4),q=4*Math.log(2/(1+Math.exp(-Math.abs(O))))/Math.LN2,rt=S?Math.ceil(q/S)*S:q,wt=p._limitZoom(b+(this._delta>0?rt:-rt))-b;this._delta=0,this._startTime=null,wt&&(p.options.scrollWheelZoom==="center"?p.setZoom(b+wt):p.setZoomAround(this._lastMousePos,b+wt))}});Yr.addInitHook("addHandler","scrollWheelZoom",Lc);var cb=600;Yr.mergeOptions({tapHold:Ne.touchNative&&Ne.safari&&Ne.mobile,tapTolerance:15});var af=$i.extend({addHooks:function(){or(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ui(this._map._container,"touchstart",this._onDown,this)},_onDown:function(p){if(clearTimeout(this._holdTimeout),p.touches.length===1){var b=p.touches[0];this._startPos=this._newPos=new Zt(b.clientX,b.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(or(document,"touchend",Qi),or(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",b))},this),cb),or(document,"touchend touchcancel contextmenu",this._cancel,this),or(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function p(){ui(document,"touchend",Qi),ui(document,"touchend touchcancel",p)},_cancel:function(){clearTimeout(this._holdTimeout),ui(document,"touchend touchcancel contextmenu",this._cancel,this),ui(document,"touchmove",this._onMove,this)},_onMove:function(p){var b=p.touches[0];this._newPos=new Zt(b.clientX,b.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(p,b){var S=new MouseEvent(p,{bubbles:!0,cancelable:!0,view:window,screenX:b.screenX,screenY:b.screenY,clientX:b.clientX,clientY:b.clientY});S._simulated=!0,b.target.dispatchEvent(S)}});Yr.addInitHook("addHandler","tapHold",af),Yr.mergeOptions({touchZoom:Ne.touch,bounceAtZoomLimits:!0});var lf=$i.extend({addHooks:function(){cr(this._map._container,"leaflet-touch-zoom"),or(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Je(this._map._container,"leaflet-touch-zoom"),ui(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(p){var b=this._map;if(!(!p.touches||p.touches.length!==2||b._animatingZoom||this._zooming)){var S=b.mouseEventToContainerPoint(p.touches[0]),O=b.mouseEventToContainerPoint(p.touches[1]);this._centerPoint=b.getSize()._divideBy(2),this._startLatLng=b.containerPointToLatLng(this._centerPoint),b.options.touchZoom!=="center"&&(this._pinchStartLatLng=b.containerPointToLatLng(S.add(O)._divideBy(2))),this._startDist=S.distanceTo(O),this._startZoom=b.getZoom(),this._moved=!1,this._zooming=!0,b._stop(),or(document,"touchmove",this._onTouchMove,this),or(document,"touchend touchcancel",this._onTouchEnd,this),Qi(p)}},_onTouchMove:function(p){if(!(!p.touches||p.touches.length!==2||!this._zooming)){var b=this._map,S=b.mouseEventToContainerPoint(p.touches[0]),O=b.mouseEventToContainerPoint(p.touches[1]),q=S.distanceTo(O)/this._startDist;if(this._zoom=b.getScaleZoom(q,this._startZoom),!b.options.bounceAtZoomLimits&&(this._zoom<b.getMinZoom()&&q<1||this._zoom>b.getMaxZoom()&&q>1)&&(this._zoom=b._limitZoom(this._zoom)),b.options.touchZoom==="center"){if(this._center=this._startLatLng,q===1)return}else{var rt=S._add(O)._divideBy(2)._subtract(this._centerPoint);if(q===1&&rt.x===0&&rt.y===0)return;this._center=b.unproject(b.project(this._pinchStartLatLng,this._zoom).subtract(rt),this._zoom)}this._moved||(b._moveStart(!0,!1),this._moved=!0),gt(this._animRequest);var wt=d(b._move,b,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ut(wt,this,!0),Qi(p)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,gt(this._animRequest),ui(document,"touchmove",this._onTouchMove,this),ui(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Yr.addInitHook("addHandler","touchZoom",lf),Yr.BoxZoom=of,Yr.DoubleClickZoom=sf,Yr.Drag=sd,Yr.Keyboard=Um,Yr.ScrollWheelZoom=Lc,Yr.TapHold=af,Yr.TouchZoom=lf,t.Bounds=At,t.Browser=Ne,t.CRS=rr,t.Canvas=id,t.Circle=Xp,t.CircleMarker=Kh,t.Class=re,t.Control=bo,t.DivIcon=$p,t.DivOverlay=dn,t.DomEvent=Hp,t.DomUtil=kl,t.Draggable=os,t.Evented=Kt,t.FeatureGroup=Vn,t.GeoJSON=aa,t.GridLayer=Gu,t.Handler=$i,t.Icon=Ps,t.ImageOverlay=la,t.LatLng=ae,t.LatLngBounds=ee,t.Layer=wo,t.LayerGroup=Ml,t.LineUtil=Cl,t.Map=Yr,t.Marker=Il,t.Mixin=qp,t.Path=oa,t.Point=Zt,t.PolyUtil=$y,t.Polygon=Sc,t.Polyline=sa,t.Popup=Uu,t.PosAnimation=Up,t.Projection=Am,t.Rectangle=nf,t.Renderer=Ms,t.SVG=Ic,t.SVGOverlay=Pc,t.TileLayer=Rl,t.Tooltip=Ll,t.Transformation=Bi,t.Util=Jt,t.VideoOverlay=Qp,t.bind=d,t.bounds=qt,t.canvas=nd,t.circle=rb,t.circleMarker=eb,t.control=zu,t.divIcon=tf,t.extend=l,t.featureGroup=hn,t.geoJSON=ed,t.geoJson=ob,t.gridLayer=jm,t.icon=zm,t.imageOverlay=sb,t.latLng=le,t.latLngBounds=pe,t.layerGroup=Yh,t.map=Jy,t.marker=Nm,t.point=bt,t.polygon=nb,t.polyline=ib,t.popup=ca,t.rectangle=lb,t.setOptions=F,t.stamp=m,t.svg=rf,t.svgOverlay=ab,t.tileLayer=ef,t.tooltip=Bm,t.transformation=yt,t.version=o,t.videoOverlay=Fm;var ad=window.L;t.noConflict=function(){return window.L=ad,this},window.L=t})})(y1,y1.exports);var $n=y1.exports;const ys=WC($n);var b1={exports:{}};(function(n,r){(function(t,o){o(r)})(Ox,function(t){var o={ar:{touch:"استخدم إصبعين لتحريك الخريطة",scroll:"‏استخدم ctrl + scroll لتصغير/تكبير الخريطة",scrollMac:"يمكنك استخدام ⌘ + التمرير لتكبير/تصغير الخريطة"},bg:{touch:"Използвайте два пръста, за да преместите картата",scroll:"Задръжте бутона Ctrl натиснат, докато превъртате, за да промените мащаба на картата",scrollMac:"Задръжте бутона ⌘ натиснат, докато превъртате, за да промените мащаба на картата"},bn:{touch:"মানচিত্রটিকে সরাতে দুটি আঙ্গুল ব্যবহার করুন",scroll:"ম্যাপ জুম করতে ctrl + scroll ব্যবহার করুন",scrollMac:"ম্যাপে জুম করতে ⌘ বোতাম টিপে স্ক্রল করুন"},ca:{touch:"Fes servir dos dits per moure el mapa",scroll:"Prem la tecla Control mentre et desplaces per apropar i allunyar el mapa",scrollMac:"Prem la tecla ⌘ mentre et desplaces per apropar i allunyar el mapa"},cs:{touch:"K posunutí mapy použijte dva prsty",scroll:"Velikost zobrazení mapy změňte podržením klávesy Ctrl a posouváním kolečka myši",scrollMac:"Velikost zobrazení mapy změníte podržením klávesy ⌘ a posunutím kolečka myši / touchpadu"},da:{touch:"Brug to fingre til at flytte kortet",scroll:"Brug ctrl + rullefunktionen til at zoome ind og ud på kortet",scrollMac:"Brug ⌘ + rullefunktionen til at zoome ind og ud på kortet"},de:{touch:"Verschieben der Karte mit zwei Fingern",scroll:"Verwende Strg+Scrollen zum Zoomen der Karte",scrollMac:"⌘"},el:{touch:"Χρησιμοποιήστε δύο δάχτυλα για μετακίνηση στον χάρτη",scroll:"Χρησιμοποιήστε το πλήκτρο Ctrl και κύλιση, για να μεγεθύνετε τον χάρτη",scrollMac:"Χρησιμοποιήστε το πλήκτρο ⌘ + κύλιση για εστίαση στον χάρτη"},en:{touch:"Use two fingers to move the map",scroll:"Use ctrl + scroll to zoom the map",scrollMac:"Use ⌘ + scroll to zoom the map"},"en-AU":{touch:"Use two fingers to move the map",scroll:"Use ctrl + scroll to zoom the map",scrollMac:"Use ⌘ + scroll to zoom the map"},"en-GB":{touch:"Use two fingers to move the map",scroll:"Use ctrl + scroll to zoom the map",scrollMac:"Use ⌘ + scroll to zoom the map"},es:{touch:"Para mover el mapa, utiliza dos dedos",scroll:"Mantén pulsada la tecla Ctrl mientras te desplazas para acercar o alejar el mapa",scrollMac:"Mantén pulsada la tecla ⌘ mientras te desplazas para acercar o alejar el mapa"},eu:{touch:"Erabili bi hatz mapa mugitzeko",scroll:"Mapan zooma aplikatzeko, sakatu Ktrl eta egin gora edo behera",scrollMac:"Eduki sakatuta ⌘ eta egin gora eta behera mapa handitu eta txikitzeko"},fa:{touch:"برای حرکت دادن نقشه از دو انگشت استفاده کنید.",scroll:"‏برای بزرگ‌نمایی نقشه از ctrl + scroll استفاده کنید",scrollMac:"برای بزرگ‌نمایی نقشه، از ⌘ + پیمایش استفاده کنید."},fi:{touch:"Siirrä karttaa kahdella sormella.",scroll:"Zoomaa karttaa painamalla Ctrl-painiketta ja vierittämällä.",scrollMac:"Zoomaa karttaa pitämällä painike ⌘ painettuna ja vierittämällä."},fil:{touch:"Gumamit ng dalawang daliri upang iusog ang mapa",scroll:"Gamitin ang ctrl + scroll upang i-zoom ang mapa",scrollMac:"Gamitin ang ⌘ + scroll upang i-zoom ang mapa"},fr:{touch:"Utilisez deux doigts pour déplacer la carte",scroll:"Vous pouvez zoomer sur la carte à l'aide de CTRL+Molette de défilement",scrollMac:"Vous pouvez zoomer sur la carte à l'aide de ⌘+Molette de défilement"},gl:{touch:"Utiliza dous dedos para mover o mapa",scroll:"Preme Ctrl mentres te desprazas para ampliar o mapa",scrollMac:"Preme ⌘ e desprázate para ampliar o mapa"},gu:{touch:"નકશો ખસેડવા બે આંગળીઓનો ઉપયોગ કરો",scroll:"નકશાને ઝૂમ કરવા માટે ctrl + સ્ક્રોલનો ઉપયોગ કરો",scrollMac:"નકશાને ઝૂમ કરવા ⌘ + સ્ક્રોલનો ઉપયોગ કરો"},hi:{touch:"मैप एक जगह से दूसरी जगह ले जाने के लिए दो उंगलियों का इस्तेमाल करें",scroll:"मैप को ज़ूम करने के लिए ctrl + स्क्रोल का उपयोग करें",scrollMac:"मैप को ज़ूम करने के लिए ⌘ + स्क्रोल का उपयोग करें"},hr:{touch:"Pomičite kartu pomoću dva prsta",scroll:"Upotrijebite Ctrl i klizač miša da biste zumirali kartu",scrollMac:"Upotrijebite gumb ⌘ dok se pomičete za zumiranje karte"},hu:{touch:"Két ujjal mozgassa a térképet",scroll:"A térkép a ctrl + görgetés használatával nagyítható",scrollMac:"A térkép a ⌘ + görgetés használatával nagyítható"},id:{touch:"Gunakan dua jari untuk menggerakkan peta",scroll:"Gunakan ctrl + scroll untuk memperbesar atau memperkecil peta",scrollMac:"Gunakan ⌘ + scroll untuk memperbesar atau memperkecil peta"},it:{touch:"Utilizza due dita per spostare la mappa",scroll:"Utilizza CTRL + scorrimento per eseguire lo zoom della mappa",scrollMac:"Utilizza ⌘ + scorrimento per eseguire lo zoom della mappa"},iw:{touch:"הזז את המפה באמצעות שתי אצבעות",scroll:"‏אפשר לשנות את מרחק התצוגה במפה באמצעות מקש ctrl וגלילה",scrollMac:"אפשר לשנות את מרחק התצוגה במפה באמצעות מקש ⌘ וגלילה"},ja:{touch:"地図を移動させるには指 2 本で操作します",scroll:"地図をズームするには、Ctrl キーを押しながらスクロールしてください",scrollMac:"地図をズームするには、⌘ キーを押しながらスクロールしてください"},kn:{touch:"Use two fingers to move the map",scroll:"Use Ctrl + scroll to zoom the map",scrollMac:"Use ⌘ + scroll to zoom the map"},ko:{touch:"지도를 움직이려면 두 손가락을 사용하세요.",scroll:"지도를 확대/축소하려면 Ctrl을 누른 채 스크롤하세요.",scrollMac:"지도를 확대하려면 ⌘ + 스크롤 사용"},lt:{touch:"Perkelkite žemėlapį dviem pirštais",scroll:"Slinkite nuspaudę klavišą „Ctrl“, kad pakeistumėte žemėlapio mastelį",scrollMac:"Paspauskite klavišą ⌘ ir slinkite, kad priartintumėte žemėlapį"},lv:{touch:"Lai pārvietotu karti, bīdiet to ar diviem pirkstiem",scroll:"Kartes tālummaiņai izmantojiet ctrl + ritināšanu",scrollMac:"Lai veiktu kartes tālummaiņu, izmantojiet ⌘ + ritināšanu"},ml:{touch:"മാപ്പ് നീക്കാൻ രണ്ട് വിരലുകൾ ഉപയോഗിക്കുക",scroll:"കൺട്രോൾ + സ്‌ക്രോൾ ഉപയോഗിച്ച് ‌മാപ്പ് ‌സൂം ചെയ്യുക",scrollMac:"⌘ + സ്‌ക്രോൾ ഉപയോഗിച്ച് ‌മാപ്പ് ‌സൂം ചെയ്യുക"},mr:{touch:"नकाशा हलविण्यासाठी दोन बोटे वापरा",scroll:"नकाशा झूम करण्यासाठी ctrl + scroll वापरा",scrollMac:"नकाशावर झूम करण्यासाठी ⌘ + स्क्रोल वापरा"},nl:{touch:"Gebruik twee vingers om de kaart te verplaatsen",scroll:"Gebruik Ctrl + scrollen om in- en uit te zoomen op de kaart",scrollMac:"Gebruik ⌘ + scrollen om in en uit te zoomen op de kaart"},no:{touch:"Bruk to fingre for å flytte kartet",scroll:"Hold ctrl-tasten inne og rull for å zoome på kartet",scrollMac:"Hold inne ⌘-tasten og rull for å zoome på kartet"},pl:{touch:"Przesuń mapę dwoma palcami",scroll:"Naciśnij CTRL i przewiń, by przybliżyć mapę",scrollMac:"Naciśnij ⌘ i przewiń, by przybliżyć mapę"},pt:{touch:"Use dois dedos para mover o mapa",scroll:"Pressione Ctrl e role a tela simultaneamente para aplicar zoom no mapa",scrollMac:"Use ⌘ e role a tela simultaneamente para aplicar zoom no mapa"},"pt-BR":{touch:"Use dois dedos para mover o mapa",scroll:"Pressione Ctrl e role a tela simultaneamente para aplicar zoom no mapa",scrollMac:"Use ⌘ e role a tela simultaneamente para aplicar zoom no mapa"},"pt-PT":{touch:"Utilize dois dedos para mover o mapa",scroll:"Utilizar ctrl + deslocar para aumentar/diminuir zoom do mapa",scrollMac:"Utilize ⌘ + deslocar para aumentar/diminuir o zoom do mapa"},ro:{touch:"Folosiți două degete pentru a deplasa harta",scroll:"Apăsați tasta ctrl și derulați simultan pentru a mări harta",scrollMac:"Folosiți ⌘ și derulați pentru a mări/micșora harta"},ru:{touch:"Чтобы переместить карту, проведите по ней двумя пальцами",scroll:"Чтобы изменить масштаб, прокручивайте карту, удерживая клавишу Ctrl.",scrollMac:"Чтобы изменить масштаб, нажмите ⌘ + прокрутка"},sk:{touch:"Mapu môžete posunúť dvoma prstami",scroll:"Ak chcete priblížiť mapu, stlačte kláves ctrl a posúvajte",scrollMac:"Ak chcete priblížiť mapu, stlačte kláves ⌘ a posúvajte kolieskom myši"},sl:{touch:"Premaknite zemljevid z dvema prstoma",scroll:"Zemljevid povečate tako, da držite tipko Ctrl in vrtite kolesce na miški",scrollMac:"Uporabite ⌘ + funkcijo pomika, da povečate ali pomanjšate zemljevid"},sr:{touch:"Мапу померајте помоћу два прста",scroll:"Притисните ctrl тастер док померате да бисте зумирали мапу",scrollMac:"Притисните тастер ⌘ док померате да бисте зумирали мапу"},sv:{touch:"Använd två fingrar för att flytta kartan",scroll:"Använd ctrl + rulla för att zooma kartan",scrollMac:"Använd ⌘ + rulla för att zooma på kartan"},ta:{touch:"மேப்பை நகர்த்த இரண்டு விரல்களைப் பயன்படுத்தவும்",scroll:"மேப்பை பெரிதாக்கி/சிறிதாக்கிப் பார்க்க, ctrl பட்டனைப் பிடித்தபடி, மேலே/கீழே ஸ்க்ரால் செய்யவும்",scrollMac:"மேப்பை பெரிதாக்கி/சிறிதாக்கிப் பார்க்க, ⌘ பட்டனைப் பிடித்தபடி, மேலே/கீழே ஸ்க்ரால் செய்யவும்"},te:{touch:"మ్యాప్‌ని తరలించడం కోసం రెండు వేళ్లను ఉపయోగించండి",scroll:"మ్యాప్‌ని జూమ్ చేయడానికి ctrl బటన్‌ను నొక్కి ఉంచి, స్క్రోల్ చేయండి",scrollMac:"మ్యాప్ జూమ్ చేయాలంటే ⌘ + స్క్రోల్ ఉపయోగించండి"},th:{touch:"ใช้ 2 นิ้วเพื่อเลื่อนแผนที่",scroll:"กด Ctrl ค้างไว้ แล้วเลื่อนหน้าจอเพื่อซูมแผนที่",scrollMac:"กด ⌘ แล้วเลื่อนหน้าจอเพื่อซูมแผนที่"},tl:{touch:"Gumamit ng dalawang daliri upang iusog ang mapa",scroll:"Gamitin ang ctrl + scroll upang i-zoom ang mapa",scrollMac:"Gamitin ang ⌘ + scroll upang i-zoom ang mapa"},tr:{touch:"Haritada gezinmek için iki parmağınızı kullanın",scroll:"Haritayı yakınlaştırmak için ctrl + kaydırma kombinasyonunu kullanın",scrollMac:"Haritayı yakınlaştırmak için ⌘ tuşuna basıp ekranı kaydırın"},uk:{touch:"Переміщуйте карту двома пальцями",scroll:"Щоб змінювати масштаб карти, прокручуйте коліщатко миші, утримуючи клавішу Ctrl",scrollMac:"Щоб змінити масштаб карти, використовуйте ⌘ + прокручування"},vi:{touch:"Sử dụng hai ngón tay để di chuyển bản đồ",scroll:"Sử dụng ctrl + cuộn để thu phóng bản đồ",scrollMac:"Sử dụng ⌘ + cuộn để thu phóng bản đồ"},"zh-CN":{touch:"使用双指移动地图",scroll:"按住 Ctrl 并滚动鼠标滚轮才可缩放地图",scrollMac:"按住 ⌘ 并滚动鼠标滚轮才可缩放地图"},"zh-TW":{touch:"同時以兩指移動地圖",scroll:"按住 ctrl 鍵加上捲動滑鼠可以縮放地圖",scrollMac:"按 ⌘ 加上滾動捲軸可以縮放地圖"}};L.Map.mergeOptions({gestureHandlingOptions:{text:{},duration:1e3}});var l=!1,u=L.Handler.extend({addHooks:function(){this._handleTouch=this._handleTouch.bind(this),this._setupPluginOptions(),this._setLanguageContent(),this._disableInteractions(),this._map._container.addEventListener("touchstart",this._handleTouch),this._map._container.addEventListener("touchmove",this._handleTouch),this._map._container.addEventListener("touchend",this._handleTouch),this._map._container.addEventListener("touchcancel",this._handleTouch),this._map._container.addEventListener("click",this._handleTouch),L.DomEvent.on(this._map._container,"wheel",this._handleScroll,this),L.DomEvent.on(this._map,"mouseover",this._handleMouseOver,this),L.DomEvent.on(this._map,"mouseout",this._handleMouseOut,this),L.DomEvent.on(this._map,"movestart",this._handleDragging,this),L.DomEvent.on(this._map,"move",this._handleDragging,this),L.DomEvent.on(this._map,"moveend",this._handleDragging,this)},removeHooks:function(){this._enableInteractions(),this._map._container.removeEventListener("touchstart",this._handleTouch),this._map._container.removeEventListener("touchmove",this._handleTouch),this._map._container.removeEventListener("touchend",this._handleTouch),this._map._container.removeEventListener("touchcancel",this._handleTouch),this._map._container.removeEventListener("click",this._handleTouch),L.DomEvent.off(this._map._container,"wheel",this._handleScroll,this),L.DomEvent.off(this._map,"mouseover",this._handleMouseOver,this),L.DomEvent.off(this._map,"mouseout",this._handleMouseOut,this),L.DomEvent.off(this._map,"movestart",this._handleDragging,this),L.DomEvent.off(this._map,"move",this._handleDragging,this),L.DomEvent.off(this._map,"moveend",this._handleDragging,this)},_handleDragging:function(d){d.type=="movestart"||d.type=="move"?l=!0:d.type=="moveend"&&(l=!1)},_disableInteractions:function(){this._map.dragging.disable(),this._map.scrollWheelZoom.disable(),this._map.tap&&this._map.tap.disable()},_enableInteractions:function(){this._map.dragging.enable(),this._map.scrollWheelZoom.enable(),this._map.tap&&this._map.tap.enable()},_setupPluginOptions:function(){this._map.options.gestureHandlingText&&(this._map.options.gestureHandlingOptions.text=this._map.options.gestureHandlingText)},_setLanguageContent:function(){var d;if(this._map.options.gestureHandlingOptions&&this._map.options.gestureHandlingOptions.text&&this._map.options.gestureHandlingOptions.text.touch&&this._map.options.gestureHandlingOptions.text.scroll&&this._map.options.gestureHandlingOptions.text.scrollMac)d=this._map.options.gestureHandlingOptions.text;else{var f=this._getUserLanguage();f||(f="en"),o[f]&&(d=o[f]),d||f.indexOf("-")===-1||(f=f.split("-")[0],d=o[f]),d||(d=o[f="en"])}var m=!1;0<=navigator.platform.toUpperCase().indexOf("MAC")&&(m=!0);var v=d.scroll;m&&(v=d.scrollMac),this._map._container.setAttribute("data-gesture-handling-touch-content",d.touch),this._map._container.setAttribute("data-gesture-handling-scroll-content",v)},_getUserLanguage:function(){return navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage},_handleTouch:function(d){for(var f=["leaflet-control-minimap","leaflet-interactive","leaflet-popup-content","leaflet-popup-content-wrapper","leaflet-popup-close-button","leaflet-control-zoom-in","leaflet-control-zoom-out"],m=!1,v=0;v<f.length;v++)L.DomUtil.hasClass(d.target,f[v])&&(m=!0);m?L.DomUtil.hasClass(d.target,"leaflet-interactive")&&d.type==="touchmove"&&d.touches.length===1?(L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling-touch-warning"),this._disableInteractions()):L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-touch-warning"):d.type==="touchmove"||d.type==="touchstart"?d.touches.length===1?(L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling-touch-warning"),this._disableInteractions()):(d.preventDefault(),this._enableInteractions(),L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-touch-warning")):L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-touch-warning")},_isScrolling:!1,_handleScroll:function(d){d.metaKey||d.ctrlKey?(d.preventDefault(),L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-scroll-warning"),this._map.scrollWheelZoom.enable()):(L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling-scroll-warning"),this._map.scrollWheelZoom.disable(),clearTimeout(this._isScrolling),this._isScrolling=setTimeout(function(){for(var f=document.getElementsByClassName("leaflet-gesture-handling-scroll-warning"),m=0;m<f.length;m++)L.DomUtil.removeClass(f[m],"leaflet-gesture-handling-scroll-warning")},this._map.options.gestureHandlingOptions.duration))},_handleMouseOver:function(d){this._enableInteractions()},_handleMouseOut:function(d){l||this._disableInteractions()}});L.Map.addInitHook("addHandler","gestureHandling",u),t.GestureHandling=u,t.default=u,Object.defineProperty(t,"__esModule",{value:!0})})})(b1,b1.exports);var V6=b1.exports;L.Control.Opacity=L.Control.extend({options:{collapsed:!1,position:"topright",label:null},initialize:function(n,r){for(const t in L.Util.setOptions(this,r),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,n)this._addLayer(n[t],t,!0)},onAdd:function(n){return this._initLayout(),this._update(),this._container},expand:function(){L.DomUtil.addClass(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._form.clientHeight?(L.DomUtil.addClass(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=n+"px"):L.DomUtil.removeClass(this._form,"leaflet-control-layers-scrollbar"),this},collapse:function(){return L.DomUtil.removeClass(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){const n="leaflet-control-layers",r=this._container=L.DomUtil.create("div",n),t=this.options.collapsed;if(r.setAttribute("aria-haspopup",!0),L.DomEvent.disableClickPropagation(r),L.DomEvent.disableScrollPropagation(r),this.options.label){const u=L.DomUtil.create("p",n+"-label");u.innerHTML=this.options.label,r.appendChild(u)}var o=this._form=L.DomUtil.create("form",n+"-list");t&&(this._map.on("click zoom move",this.collapse,this),L.Browser.android||L.DomEvent.on(r,{mouseenter:this.expand,mouseleave:this.collapse},this));const l=this._layersLink=L.DomUtil.create("a",n+"-toggle",r);l.href="#",l.title="Layers",L.Browser.touch?(L.DomEvent.on(l,"click",L.DomEvent.stop),L.DomEvent.on(l,"click",this.expand,this)):L.DomEvent.on(l,"focus",this.expand,this),t||this.expand(),this._baseLayersList=L.DomUtil.create("div",n+"-base",o),this._separator=L.DomUtil.create("div",n+"-separator",o),this._overlaysList=L.DomUtil.create("div",n+"-overlays",o),r.appendChild(o)},_getLayer:function(n){for(let r=0;r<this._layers.length;r++)if(this._layers[r]&&L.Util.stamp(this._layers[r].layer)===n)return this._layers[r]},_addLayer:function(n,r,t){this._layers.push({layer:n,name:r,overlay:t})},_update:function(){if(!this._container)return this;L.DomUtil.empty(this._baseLayersList),L.DomUtil.empty(this._overlaysList),this._layerControlInputs=[];let n,r,t,o,l=0;for(t=0;t<this._layers.length;t++)o=this._layers[t],this._addItem(o),r=r||o.overlay,n=n||!o.overlay,l+=o.overlay?0:1;this.options.hideSingleBase&&(n=n&&1<l,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=r&&n?"":"none"},_addItem:function(n){let r=document.createElement("label"),t=document.createElement("input");n.overlay?(t.type="range",t.className="leaflet-control-layers-range",t.min=0,t.max=100,t.value=100*n.layer.options.opacity):t=this._createRadioElement("leaflet-base-layers",checked),this._layerControlInputs.push(t),t.layerId=L.Util.stamp(n.layer),t.addEventListener("input",f=>{f=f.target.value;const m=this._getLayer(t.layerId).layer;m._url===void 0||m.setOpacity(Number(f/100))});const o=document.createElement("span");o.innerHTML=" "+n.name;const l=document.createElement("div"),u=document.createElement("div");r.appendChild(l),l.appendChild(o),r.appendChild(u),u.appendChild(t),(n.overlay?this._overlaysList:this._baseLayersList).appendChild(r)}}),L.control.opacity=function(n,r){return new L.Control.Opacity(n,r)};(function(n,r){typeof exports=="object"&&typeof module<"u"?r(exports):typeof define=="function"&&define.amd?define(["exports"],r):r((n=typeof globalThis<"u"?globalThis:n||self).turf={})})(globalThis,function(n){var r=63710088e-1,t={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260511392e-6,inches:39.37*r,kilometers:6371.0088,kilometres:6371.0088,meters:r,metres:r,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:r/1852,radians:1,yards:6967335223679999e-9},o={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/r,yards:1.0936133},l={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function u(e,i,s){s===void 0&&(s={});var a={type:"Feature"};return(s.id===0||s.id)&&(a.id=s.id),s.bbox&&(a.bbox=s.bbox),a.properties=i||{},a.geometry=e,a}function d(e,i,s){switch(e){case"Point":return f(i).geometry;case"LineString":return k(i).geometry;case"Polygon":return v(i).geometry;case"MultiPoint":return F(i).geometry;case"MultiLineString":return I(i).geometry;case"MultiPolygon":return H(i).geometry;default:throw new Error(e+" is invalid")}}function f(e,i,s){if(s===void 0&&(s={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ut(e[0])||!ut(e[1]))throw new Error("coordinates must contain numbers");return u({type:"Point",coordinates:e},i,s)}function m(e,i,s){return s===void 0&&(s={}),M(e.map(function(a){return f(a,i)}),s)}function v(e,i,s){s===void 0&&(s={});for(var a=0,c=e;a<c.length;a++){var h=c[a];if(h.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var g=0;g<h[h.length-1].length;g++)if(h[h.length-1][g]!==h[0][g])throw new Error("First and last Position are not equivalent.")}return u({type:"Polygon",coordinates:e},i,s)}function _(e,i,s){return s===void 0&&(s={}),M(e.map(function(a){return v(a,i)}),s)}function k(e,i,s){if(s===void 0&&(s={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return u({type:"LineString",coordinates:e},i,s)}function C(e,i,s){return s===void 0&&(s={}),M(e.map(function(a){return k(a,i)}),s)}function M(e,i){i===void 0&&(i={});var s={type:"FeatureCollection"};return i.id&&(s.id=i.id),i.bbox&&(s.bbox=i.bbox),s.features=e,s}function I(e,i,s){return s===void 0&&(s={}),u({type:"MultiLineString",coordinates:e},i,s)}function F(e,i,s){return s===void 0&&(s={}),u({type:"MultiPoint",coordinates:e},i,s)}function H(e,i,s){return s===void 0&&(s={}),u({type:"MultiPolygon",coordinates:e},i,s)}function U(e,i,s){return s===void 0&&(s={}),u({type:"GeometryCollection",geometries:e},i,s)}function J(e,i){if(i===void 0&&(i=0),i&&!(i>=0))throw new Error("precision must be a positive number");var s=Math.pow(10,i||0);return Math.round(e*s)/s}function G(e,i){i===void 0&&(i="kilometers");var s=t[i];if(!s)throw new Error(i+" units is invalid");return e*s}function Z(e,i){i===void 0&&(i="kilometers");var s=t[i];if(!s)throw new Error(i+" units is invalid");return e/s}function at(e,i){return ft(Z(e,i))}function mt(e){var i=e%360;return i<0&&(i+=360),i}function ft(e){return 180*(e%(2*Math.PI))/Math.PI}function ot(e){return e%360*Math.PI/180}function V(e,i,s){if(i===void 0&&(i="kilometers"),s===void 0&&(s="kilometers"),!(e>=0))throw new Error("length must be a positive number");return G(Z(e,i),s)}function nt(e,i,s){if(i===void 0&&(i="meters"),s===void 0&&(s="kilometers"),!(e>=0))throw new Error("area must be a positive number");var a=l[i];if(!a)throw new Error("invalid original units");var c=l[s];if(!c)throw new Error("invalid final units");return e/a*c}function ut(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function gt(e){return!!e&&e.constructor===Object}function Jt(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(e.length!==4&&e.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach(function(i){if(!ut(i))throw new Error("bbox must only contain numbers")})}function re(e){if(!e)throw new Error("id is required");if(["string","number"].indexOf(typeof e)===-1)throw new Error("id must be a number or a string")}var Xt=Object.freeze({__proto__:null,earthRadius:r,factors:t,unitsFactors:o,areaFactors:l,feature:u,geometry:d,point:f,points:m,polygon:v,polygons:_,lineString:k,lineStrings:C,featureCollection:M,multiLineString:I,multiPoint:F,multiPolygon:H,geometryCollection:U,round:J,radiansToLength:G,lengthToRadians:Z,lengthToDegrees:at,bearingToAzimuth:mt,radiansToDegrees:ft,degreesToRadians:ot,convertLength:V,convertArea:nt,isNumber:ut,isObject:gt,validateBBox:Jt,validateId:re});function Ct(e,i,s){if(e!==null)for(var a,c,h,g,y,w,x,T,E=0,P=0,z=e.type,N=z==="FeatureCollection",B=z==="Feature",A=N?e.features.length:1,Y=0;Y<A;Y++){y=(T=!!(x=N?e.features[Y].geometry:B?e.geometry:e)&&x.type==="GeometryCollection")?x.geometries.length:1;for(var it=0;it<y;it++){var D=0,W=0;if((g=T?x.geometries[it]:x)!==null){w=g.coordinates;var X=g.type;switch(E=!s||X!=="Polygon"&&X!=="MultiPolygon"?0:1,X){case null:break;case"Point":if(i(w,P,Y,D,W)===!1)return!1;P++,D++;break;case"LineString":case"MultiPoint":for(a=0;a<w.length;a++){if(i(w[a],P,Y,D,W)===!1)return!1;P++,X==="MultiPoint"&&D++}X==="LineString"&&D++;break;case"Polygon":case"MultiLineString":for(a=0;a<w.length;a++){for(c=0;c<w[a].length-E;c++){if(i(w[a][c],P,Y,D,W)===!1)return!1;P++}X==="MultiLineString"&&D++,X==="Polygon"&&W++}X==="Polygon"&&D++;break;case"MultiPolygon":for(a=0;a<w.length;a++){for(W=0,c=0;c<w[a].length;c++){for(h=0;h<w[a][c].length-E;h++){if(i(w[a][c][h],P,Y,D,W)===!1)return!1;P++}W++}D++}break;case"GeometryCollection":for(a=0;a<g.geometries.length;a++)if(Ct(g.geometries[a],i,s)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Kt(e,i,s,a){var c=s;return Ct(e,function(h,g,y,w,x){c=g===0&&s===void 0?h:i(c,h,g,y,w,x)},a),c}function Zt(e,i){var s;switch(e.type){case"FeatureCollection":for(s=0;s<e.features.length&&i(e.features[s].properties,s)!==!1;s++);break;case"Feature":i(e.properties,0)}}function Pe(e,i,s){var a=s;return Zt(e,function(c,h){a=h===0&&s===void 0?c:i(a,c,h)}),a}function bt(e,i){if(e.type==="Feature")i(e,0);else if(e.type==="FeatureCollection")for(var s=0;s<e.features.length&&i(e.features[s],s)!==!1;s++);}function At(e,i,s){var a=s;return bt(e,function(c,h){a=h===0&&s===void 0?c:i(a,c,h)}),a}function qt(e){var i=[];return Ct(e,function(s){i.push(s)}),i}function ee(e,i){var s,a,c,h,g,y,w,x,T,E,P=0,z=e.type==="FeatureCollection",N=e.type==="Feature",B=z?e.features.length:1;for(s=0;s<B;s++){for(y=z?e.features[s].geometry:N?e.geometry:e,x=z?e.features[s].properties:N?e.properties:{},T=z?e.features[s].bbox:N?e.bbox:void 0,E=z?e.features[s].id:N?e.id:void 0,g=(w=!!y&&y.type==="GeometryCollection")?y.geometries.length:1,c=0;c<g;c++)if((h=w?y.geometries[c]:y)!==null)switch(h.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(i(h,P,x,T,E)===!1)return!1;break;case"GeometryCollection":for(a=0;a<h.geometries.length;a++)if(i(h.geometries[a],P,x,T,E)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(i(null,P,x,T,E)===!1)return!1;P++}}function pe(e,i,s){var a=s;return ee(e,function(c,h,g,y,w){a=h===0&&s===void 0?c:i(a,c,h,g,y,w)}),a}function ae(e,i){ee(e,function(s,a,c,h,g){var y,w=s===null?null:s.type;switch(w){case null:case"Point":case"LineString":case"Polygon":return i(u(s,c,{bbox:h,id:g}),a,0)!==!1&&void 0}switch(w){case"MultiPoint":y="Point";break;case"MultiLineString":y="LineString";break;case"MultiPolygon":y="Polygon"}for(var x=0;x<s.coordinates.length;x++){var T=s.coordinates[x];if(i(u({type:y,coordinates:T},c),a,x)===!1)return!1}})}function le(e,i,s){var a=s;return ae(e,function(c,h,g){a=h===0&&g===0&&s===void 0?c:i(a,c,h,g)}),a}function rr(e,i){ae(e,function(s,a,c){var h=0;if(s.geometry){var g=s.geometry.type;if(g!=="Point"&&g!=="MultiPoint"){var y,w=0,x=0,T=0;return Ct(s,function(E,P,z,N,B){if(y===void 0||a>w||N>x||B>T)return y=E,w=a,x=N,T=B,void(h=0);var A=k([y,E],s.properties);if(i(A,a,c,B,h)===!1)return!1;h++,y=E})!==!1&&void 0}}})}function mr(e,i,s){var a=s,c=!1;return rr(e,function(h,g,y,w,x){a=c===!1&&s===void 0?h:i(a,h,g,y,w,x),c=!0}),a}function vi(e,i){if(!e)throw new Error("geojson is required");ae(e,function(s,a,c){if(s.geometry!==null){var h=s.geometry.type,g=s.geometry.coordinates;switch(h){case"LineString":if(i(s,a,c,0,0)===!1)return!1;break;case"Polygon":for(var y=0;y<g.length;y++)if(i(k(g[y],s.properties),a,c,y)===!1)return!1}}})}function Xi(e,i,s){var a=s;return vi(e,function(c,h,g,y){a=h===0&&s===void 0?c:i(a,c,h,g,y)}),a}function Bi(e,i){if(!gt(i=i||{}))throw new Error("options is invalid");var s,a=i.featureIndex||0,c=i.multiFeatureIndex||0,h=i.geometryIndex||0,g=i.segmentIndex||0,y=i.properties;switch(e.type){case"FeatureCollection":a<0&&(a=e.features.length+a),y=y||e.features[a].properties,s=e.features[a].geometry;break;case"Feature":y=y||e.properties,s=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":s=e;break;default:throw new Error("geojson is invalid")}if(s===null)return null;var w=s.coordinates;switch(s.type){case"Point":case"MultiPoint":return null;case"LineString":return g<0&&(g=w.length+g-1),k([w[g],w[g+1]],y,i);case"Polygon":return h<0&&(h=w.length+h),g<0&&(g=w[h].length+g-1),k([w[h][g],w[h][g+1]],y,i);case"MultiLineString":return c<0&&(c=w.length+c),g<0&&(g=w[c].length+g-1),k([w[c][g],w[c][g+1]],y,i);case"MultiPolygon":return c<0&&(c=w.length+c),h<0&&(h=w[c].length+h),g<0&&(g=w[c][h].length-g-1),k([w[c][h][g],w[c][h][g+1]],y,i)}throw new Error("geojson is invalid")}function yt(e,i){if(!gt(i=i||{}))throw new Error("options is invalid");var s,a=i.featureIndex||0,c=i.multiFeatureIndex||0,h=i.geometryIndex||0,g=i.coordIndex||0,y=i.properties;switch(e.type){case"FeatureCollection":a<0&&(a=e.features.length+a),y=y||e.features[a].properties,s=e.features[a].geometry;break;case"Feature":y=y||e.properties,s=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":s=e;break;default:throw new Error("geojson is invalid")}if(s===null)return null;var w=s.coordinates;switch(s.type){case"Point":return f(w,y,i);case"MultiPoint":return c<0&&(c=w.length+c),f(w[c],y,i);case"LineString":return g<0&&(g=w.length+g),f(w[g],y,i);case"Polygon":return h<0&&(h=w.length+h),g<0&&(g=w[h].length+g),f(w[h][g],y,i);case"MultiLineString":return c<0&&(c=w.length+c),g<0&&(g=w[c].length+g),f(w[c][g],y,i);case"MultiPolygon":return c<0&&(c=w.length+c),h<0&&(h=w[c].length+h),g<0&&(g=w[c][h].length-g),f(w[c][h][g],y,i)}throw new Error("geojson is invalid")}var kt=Object.freeze({__proto__:null,coordAll:qt,coordEach:Ct,coordReduce:Kt,featureEach:bt,featureReduce:At,findPoint:yt,findSegment:Bi,flattenEach:ae,flattenReduce:le,geomEach:ee,geomReduce:pe,lineEach:vi,lineReduce:Xi,propEach:Zt,propReduce:Pe,segmentEach:rr,segmentReduce:mr});function Dt(e){var i=[1/0,1/0,-1/0,-1/0];return Ct(e,function(s){i[0]>s[0]&&(i[0]=s[0]),i[1]>s[1]&&(i[1]=s[1]),i[2]<s[0]&&(i[2]=s[0]),i[3]<s[1]&&(i[3]=s[1])}),i}function R(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return e.geometry.coordinates;if(e.type==="Point")return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function j(e){if(Array.isArray(e))return e;if(e.type==="Feature"){if(e.geometry!==null)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function st(e){if(e.length>1&&ut(e[0])&&ut(e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return st(e[0]);throw new Error("coordinates must only contain numbers")}function pt(e,i,s){if(!i||!s)throw new Error("type and name required");if(!e||e.type!==i)throw new Error("Invalid input to "+s+": must be a "+i+", given "+e.type)}function dt(e,i,s){if(!e)throw new Error("No feature passed");if(!s)throw new Error(".featureOf() requires a name");if(!e||e.type!=="Feature"||!e.geometry)throw new Error("Invalid input to "+s+", Feature with geometry required");if(!e.geometry||e.geometry.type!==i)throw new Error("Invalid input to "+s+": must be a "+i+", given "+e.geometry.type)}function _t(e,i,s){if(!e)throw new Error("No featureCollection passed");if(!s)throw new Error(".collectionOf() requires a name");if(!e||e.type!=="FeatureCollection")throw new Error("Invalid input to "+s+", FeatureCollection required");for(var a=0,c=e.features;a<c.length;a++){var h=c[a];if(!h||h.type!=="Feature"||!h.geometry)throw new Error("Invalid input to "+s+", Feature with geometry required");if(!h.geometry||h.geometry.type!==i)throw new Error("Invalid input to "+s+": must be a "+i+", given "+h.geometry.type)}}function ht(e){return e.type==="Feature"?e.geometry:e}function Lt(e,i){return e.type==="FeatureCollection"?"FeatureCollection":e.type==="GeometryCollection"?"GeometryCollection":e.type==="Feature"&&e.geometry!==null?e.geometry.type:e.type}Dt.default=Dt;var Qt=Object.freeze({__proto__:null,getCoord:R,getCoords:j,containsNumber:st,geojsonType:pt,featureOf:dt,collectionOf:_t,getGeom:ht,getType:Lt}),$t=Object.getOwnPropertySymbols,te=Object.prototype.hasOwnProperty,ye=Object.prototype.propertyIsEnumerable;/*
    object-assign
    (c) Sindre Sorhus
    @license MIT
    */function xe(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var Be=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var i={},s=0;s<10;s++)i["_"+String.fromCharCode(s)]=s;if(Object.getOwnPropertyNames(i).map(function(c){return i[c]}).join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(c){a[c]=c}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(e,i){for(var s,a,c=xe(e),h=1;h<arguments.length;h++){for(var g in s=Object(arguments[h]))te.call(s,g)&&(c[g]=s[g]);if($t){a=$t(s);for(var y=0;y<a.length;y++)ye.call(s,a[y])&&(c[a[y]]=s[a[y]])}}return c},$={successCallback:null,verbose:!1},K={};/**
     * @license GNU Affero General Public License.
     * Copyright (c) 2015, 2015 Ronny Lorenz <ronny@tbi.univie.ac.at>
     * v. 1.2.0
     * https://github.com/RaumZeit/MarchingSquares.js
     *
     * MarchingSquaresJS is free software: you can redistribute it and/or modify
     * it under the terms of the GNU Affero General Public License as published by
     * the Free Software Foundation, either version 3 of the License, or
     * (at your option) any later version.
     *
     * MarchingSquaresJS is distributed in the hope that it will be useful,
     * but WITHOUT ANY WARRANTY; without even the implied warranty of
     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
     * GNU Affero General Public License for more details.
     *
     * As additional permission under GNU Affero General Public License version 3
     * section 7, third-party projects (personal or commercial) may distribute,
     * include, or link against UNMODIFIED VERSIONS of MarchingSquaresJS without the
     * requirement that said third-party project for that reason alone becomes
     * subject to any requirement of the GNU Affero General Public License version 3.
     * Any modifications to MarchingSquaresJS, however, must be shared with the public
     * and made available.
     *
     * In summary this:
     * - allows you to use MarchingSquaresJS at no cost
     * - allows you to use MarchingSquaresJS for both personal and commercial purposes
     * - allows you to distribute UNMODIFIED VERSIONS of MarchingSquaresJS under any
     *   license as long as this license notice is included
     * - enables you to keep the source code of your program that uses MarchingSquaresJS
     *   undisclosed
     * - forces you to share any modifications you have made to MarchingSquaresJS,
     *   e.g. bug-fixes
     *
     * You should have received a copy of the GNU Affero General Public License
     * along with MarchingSquaresJS.  If not, see <http://www.gnu.org/licenses/>.
     */function ct(e,i,s){s=s||{};for(var a=Object.keys($),c=0;c<a.length;c++){var h=a[c],g=s[h];g=g??$[h],K[h]=g}K.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+i);var y=function(w){var x=[],T=0,E=1e-7;return w.cells.forEach(function(P,z){P.forEach(function(N,B){if(N!==void 0&&(tt=N).cval!==5&&tt.cval!==10&&!Wt(N)){var A=function(Q,zt,Et){var Ft,Tt,Ht=Q.length,It=[],Mt=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],St=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],Bt=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"],Rt=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],Gt=Q[zt][Et],vt=Gt.cval,Ie=Bt[vt],se=Ee(Gt,Ie);It.push([Et+se[0],zt+se[1]]),Ie=Rt[vt],se=Ee(Gt,Ie),It.push([Et+se[0],zt+se[1]]),ne(Gt);for(var tr=Et+Mt[vt],we=zt+St[vt],He=vt;tr>=0&&we>=0&&we<Ht&&(tr!=Et||we!=zt)&&(Gt=Q[we][tr])!==void 0;){if((vt=Gt.cval)===0||vt===15)return{path:It,info:"mergeable"};Ie=Rt[vt],Ft=Mt[vt],Tt=St[vt],vt!==5&&vt!==10||(vt===5?Gt.flipped?St[He]===-1?(Ie="left",Ft=-1,Tt=0):(Ie="right",Ft=1,Tt=0):Mt[He]===-1&&(Ie="bottom",Ft=0,Tt=-1):vt===10&&(Gt.flipped?Mt[He]===-1?(Ie="top",Ft=0,Tt=1):(Ie="bottom",Ft=0,Tt=-1):St[He]===1&&(Ie="left",Ft=-1,Tt=0))),se=Ee(Gt,Ie),It.push([tr+se[0],we+se[1]]),ne(Gt),tr+=Ft,we+=Tt,He=vt}return{path:It,info:"closed"}}(w.cells,z,B),Y=!1;if(A.info==="mergeable"){for(var it=A.path[A.path.length-1][0],D=A.path[A.path.length-1][1],W=T-1;W>=0;W--)if(Math.abs(x[W][0][0]-it)<=E&&Math.abs(x[W][0][1]-D)<=E){for(var X=A.path.length-2;X>=0;--X)x[W].unshift(A.path[X]);Y=!0;break}}Y||(x[T++]=A.path)}var tt})}),x}(function(w,x){for(var T=w.length-1,E=w[0].length-1,P={rows:T,cols:E,cells:[]},z=0;z<T;++z){P.cells[z]=[];for(var N=0;N<E;++N){var B=0,A=w[z+1][N],Y=w[z+1][N+1],it=w[z][N+1],D=w[z][N];if(!(isNaN(A)||isNaN(Y)||isNaN(it)||isNaN(D))){B|=A>=x?8:0,B|=Y>=x?4:0,B|=it>=x?2:0;var W,X,tt,Q,zt=!1;if((B|=D>=x?1:0)===5||B===10){var Et=(A+Y+it+D)/4;B===5&&Et<x?(B=10,zt=!0):B===10&&Et<x&&(B=5,zt=!0)}B!==0&&B!==15&&(W=X=tt=Q=.5,B===1?(tt=1-lt(x,A,D),X=1-lt(x,it,D)):B===2?(X=lt(x,D,it),Q=1-lt(x,Y,it)):B===3?(tt=1-lt(x,A,D),Q=1-lt(x,Y,it)):B===4?(W=lt(x,A,Y),Q=lt(x,it,Y)):B===5?(W=lt(x,A,Y),Q=lt(x,it,Y),X=1-lt(x,it,D),tt=1-lt(x,A,D)):B===6?(X=lt(x,D,it),W=lt(x,A,Y)):B===7?(tt=1-lt(x,A,D),W=lt(x,A,Y)):B===8?(tt=lt(x,D,A),W=1-lt(x,Y,A)):B===9?(X=1-lt(x,it,D),W=1-lt(x,Y,A)):B===10?(W=1-lt(x,Y,A),Q=1-lt(x,Y,it),X=lt(x,D,it),tt=lt(x,D,A)):B===11?(W=1-lt(x,Y,A),Q=1-lt(x,Y,it)):B===12?(tt=lt(x,D,A),Q=lt(x,it,Y)):B===13?(X=1-lt(x,it,D),Q=lt(x,it,Y)):B===14?(tt=lt(x,D,A),X=lt(x,D,it)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+B),P.cells[z][N]={cval:B,flipped:zt,top:W,right:Q,bottom:X,left:tt})}}}return P}(e,i));return typeof K.successCallback=="function"&&K.successCallback(y),y}function lt(e,i,s){return(e-i)/(s-i)}function Wt(e){return e.cval===0||e.cval===15}function ne(e){Wt(e)||e.cval===5||e.cval===10||(e.cval=15)}function Ee(e,i){return i==="top"?[e.top,1]:i==="bottom"?[e.bottom,0]:i==="right"?[1,e.right]:i==="left"?[0,e.left]:void 0}function sr(e,i){if(!gt(i=i||{}))throw new Error("options is invalid");var s=i.zProperty||"elevation",a=i.flip,c=i.flags;_t(e,"Point","input must contain Points");for(var h=function(P,z){var N={};return bt(P,function(B){var A=j(B)[1];N[A]||(N[A]=[]),N[A].push(B)}),Object.keys(N).map(function(B){return N[B].sort(function(A,Y){return j(A)[0]-j(Y)[0]})}).sort(function(B,A){return z?j(B[0])[1]-j(A[0])[1]:j(A[0])[1]-j(B[0])[1]})}(e,a),g=[],y=0;y<h.length;y++){for(var w=h[y],x=[],T=0;T<w.length;T++){var E=w[T];E.properties[s]?x.push(E.properties[s]):x.push(0),c===!0&&(E.properties.matrixPosition=[y,T])}g.push(x)}return g}var ze=ji,qn=ji;function ji(e,i,s,a,c){Ss(e,i,s||0,a||e.length-1,c||Eu)}function Ss(e,i,s,a,c){for(;a>s;){if(a-s>600){var h=a-s+1,g=i-s+1,y=Math.log(h),w=.5*Math.exp(2*y/3),x=.5*Math.sqrt(y*w*(h-w)/h)*(g-h/2<0?-1:1);Ss(e,i,Math.max(s,Math.floor(i-g*w/h+x)),Math.min(a,Math.floor(i+(h-g)*w/h+x)),c)}var T=e[i],E=s,P=a;for(ra(e,s,i),c(e[a],T)>0&&ra(e,s,a);E<P;){for(ra(e,E,P),E++,P--;c(e[E],T)<0;)E++;for(;c(e[P],T)>0;)P--}c(e[s],T)===0?ra(e,s,P):ra(e,++P,a),P<=i&&(s=P+1),i<=P&&(a=P-1)}}function ra(e,i,s){var a=e[i];e[i]=e[s],e[s]=a}function Eu(e,i){return e<i?-1:e>i?1:0}ze.default=qn;var Ji=Tu,Uy=Tu;function Tu(e,i){if(!(this instanceof Tu))return new Tu(e,i);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),i&&this._initFormat(i),this.clear()}function Gy(e,i,s){if(!s)return i.indexOf(e);for(var a=0;a<i.length;a++)if(s(e,i[a]))return a;return-1}function fc(e,i){Su(e,0,e.children.length,i,e)}function Su(e,i,s,a,c){c||(c=xl(null)),c.minX=1/0,c.minY=1/0,c.maxX=-1/0,c.maxY=-1/0;for(var h,g=i;g<s;g++)h=e.children[g],wl(c,e.leaf?a(h):h);return c}function wl(e,i){return e.minX=Math.min(e.minX,i.minX),e.minY=Math.min(e.minY,i.minY),e.maxX=Math.max(e.maxX,i.maxX),e.maxY=Math.max(e.maxY,i.maxY),e}function pm(e,i){return e.minX-i.minX}function fm(e,i){return e.minY-i.minY}function Ap(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function Ah(e){return e.maxX-e.minX+(e.maxY-e.minY)}function No(e,i){return e.minX<=i.minX&&e.minY<=i.minY&&i.maxX<=e.maxX&&i.maxY<=e.maxY}function Ne(e,i){return i.minX<=e.maxX&&i.minY<=e.maxY&&i.maxX>=e.minX&&i.maxY>=e.minY}function xl(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Op(e,i,s,a,c){for(var h,g=[i,s];g.length;)(s=g.pop())-(i=g.pop())<=a||(h=i+Math.ceil((s-i)/a/2)*a,ze(e,h,i,s,c),g.push(i,h,h,s))}function is(e){var i={exports:{}};return e(i,i.exports),i.exports}Tu.prototype={all:function(){return this._all(this.data,[])},search:function(e){var i=this.data,s=[],a=this.toBBox;if(!Ne(e,i))return s;for(var c,h,g,y,w=[];i;){for(c=0,h=i.children.length;c<h;c++)g=i.children[c],Ne(e,y=i.leaf?a(g):g)&&(i.leaf?s.push(g):No(e,y)?this._all(g,s):w.push(g));i=w.pop()}return s},collides:function(e){var i=this.data,s=this.toBBox;if(!Ne(e,i))return!1;for(var a,c,h,g,y=[];i;){for(a=0,c=i.children.length;a<c;a++)if(h=i.children[a],Ne(e,g=i.leaf?s(h):h)){if(i.leaf||No(e,g))return!0;y.push(h)}i=y.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var i=0,s=e.length;i<s;i++)this.insert(e[i]);return this}var a=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===a.height)this._splitRoot(this.data,a);else{if(this.data.height<a.height){var c=this.data;this.data=a,a=c}this._insert(a,this.data.height-a.height-1,!0)}else this.data=a;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=xl([]),this},remove:function(e,i){if(!e)return this;for(var s,a,c,h,g=this.data,y=this.toBBox(e),w=[],x=[];g||w.length;){if(g||(g=w.pop(),a=w[w.length-1],s=x.pop(),h=!0),g.leaf&&(c=Gy(e,g.children,i))!==-1)return g.children.splice(c,1),w.push(g),this._condense(w),this;h||g.leaf||!No(g,y)?a?(s++,g=a.children[s],h=!1):g=null:(w.push(g),x.push(s),s=0,a=g,g=g.children[0])}return this},toBBox:function(e){return e},compareMinX:pm,compareMinY:fm,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,i){for(var s=[];e;)e.leaf?i.push.apply(i,e.children):s.push.apply(s,e.children),e=s.pop();return i},_build:function(e,i,s,a){var c,h=s-i+1,g=this._maxEntries;if(h<=g)return fc(c=xl(e.slice(i,s+1)),this.toBBox),c;a||(a=Math.ceil(Math.log(h)/Math.log(g)),g=Math.ceil(h/Math.pow(g,a-1))),(c=xl([])).leaf=!1,c.height=a;var y,w,x,T,E=Math.ceil(h/g),P=E*Math.ceil(Math.sqrt(g));for(Op(e,i,s,P,this.compareMinX),y=i;y<=s;y+=P)for(Op(e,y,x=Math.min(y+P-1,s),E,this.compareMinY),w=y;w<=x;w+=E)T=Math.min(w+E-1,x),c.children.push(this._build(e,w,T,a-1));return fc(c,this.toBBox),c},_chooseSubtree:function(e,i,s,a){for(var c,h,g,y,w,x,T,E,P,z;a.push(i),!i.leaf&&a.length-1!==s;){for(T=E=1/0,c=0,h=i.children.length;c<h;c++)w=Ap(g=i.children[c]),P=e,z=g,(x=(Math.max(z.maxX,P.maxX)-Math.min(z.minX,P.minX))*(Math.max(z.maxY,P.maxY)-Math.min(z.minY,P.minY))-w)<E?(E=x,T=w<T?w:T,y=g):x===E&&w<T&&(T=w,y=g);i=y||i.children[0]}return i},_insert:function(e,i,s){var a=this.toBBox,c=s?e:a(e),h=[],g=this._chooseSubtree(c,this.data,i,h);for(g.children.push(e),wl(g,c);i>=0&&h[i].children.length>this._maxEntries;)this._split(h,i),i--;this._adjustParentBBoxes(c,h,i)},_split:function(e,i){var s=e[i],a=s.children.length,c=this._minEntries;this._chooseSplitAxis(s,c,a);var h=this._chooseSplitIndex(s,c,a),g=xl(s.children.splice(h,s.children.length-h));g.height=s.height,g.leaf=s.leaf,fc(s,this.toBBox),fc(g,this.toBBox),i?e[i-1].children.push(g):this._splitRoot(s,g)},_splitRoot:function(e,i){this.data=xl([e,i]),this.data.height=e.height+1,this.data.leaf=!1,fc(this.data,this.toBBox)},_chooseSplitIndex:function(e,i,s){var a,c,h,g,y,w,x,T,E,P,z,N,B,A;for(w=x=1/0,a=i;a<=s-i;a++)c=Su(e,0,a,this.toBBox),h=Su(e,a,s,this.toBBox),E=c,P=h,z=void 0,N=void 0,B=void 0,A=void 0,z=Math.max(E.minX,P.minX),N=Math.max(E.minY,P.minY),B=Math.min(E.maxX,P.maxX),A=Math.min(E.maxY,P.maxY),g=Math.max(0,B-z)*Math.max(0,A-N),y=Ap(c)+Ap(h),g<w?(w=g,T=a,x=y<x?y:x):g===w&&y<x&&(x=y,T=a);return T},_chooseSplitAxis:function(e,i,s){var a=e.leaf?this.compareMinX:pm,c=e.leaf?this.compareMinY:fm;this._allDistMargin(e,i,s,a)<this._allDistMargin(e,i,s,c)&&e.children.sort(a)},_allDistMargin:function(e,i,s,a){e.children.sort(a);var c,h,g=this.toBBox,y=Su(e,0,i,g),w=Su(e,s-i,s,g),x=Ah(y)+Ah(w);for(c=i;c<s-i;c++)h=e.children[c],wl(y,e.leaf?g(h):h),x+=Ah(y);for(c=s-i-1;c>=i;c--)h=e.children[c],wl(w,e.leaf?g(h):h),x+=Ah(w);return x},_adjustParentBBoxes:function(e,i,s){for(var a=s;a>=0;a--)wl(i[a],e)},_condense:function(e){for(var i,s=e.length-1;s>=0;s--)e[s].children.length===0?s>0?(i=e[s-1].children).splice(i.indexOf(e[s]),1):this.clear():fc(e[s],this.toBBox)},_initFormat:function(e){var i=["return a"," - b",";"];this.compareMinX=new Function("a","b",i.join(e[0])),this.compareMinY=new Function("a","b",i.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}},Ji.default=Uy;var Cu=function(e,i,s){var a=e*i,c=Oh*e,h=c-(c-e),g=e-h,y=Oh*i,w=y-(y-i),x=i-w,T=g*x-(a-h*w-g*w-h*x);return s?(s[0]=T,s[1]=a,s):[T,a]},Oh=+(Math.pow(2,27)+1),gm=function(e,i){var s=0|e.length,a=0|i.length;if(s===1&&a===1)return function(tt,Q){var zt=tt+Q,Et=zt-tt,Ft=tt-(zt-Et)+(Q-Et);return Ft?[Ft,zt]:[zt]}(e[0],i[0]);var c,h,g=new Array(s+a),y=0,w=0,x=0,T=Math.abs,E=e[w],P=T(E),z=i[x],N=T(z);P<N?(h=E,(w+=1)<s&&(E=e[w],P=T(E))):(h=z,(x+=1)<a&&(z=i[x],N=T(z))),w<s&&P<N||x>=a?(c=E,(w+=1)<s&&(E=e[w],P=T(E))):(c=z,(x+=1)<a&&(z=i[x],N=T(z)));for(var B,A,Y=c+h,it=Y-c,D=h-it,W=D,X=Y;w<s&&x<a;)P<N?(c=E,(w+=1)<s&&(E=e[w],P=T(E))):(c=z,(x+=1)<a&&(z=i[x],N=T(z))),(D=(h=W)-(it=(Y=c+h)-c))&&(g[y++]=D),W=X-((B=X+Y)-(A=B-X))+(Y-A),X=B;for(;w<s;)(D=(h=W)-(it=(Y=(c=E)+h)-c))&&(g[y++]=D),W=X-((B=X+Y)-(A=B-X))+(Y-A),X=B,(w+=1)<s&&(E=e[w]);for(;x<a;)(D=(h=W)-(it=(Y=(c=z)+h)-c))&&(g[y++]=D),W=X-((B=X+Y)-(A=B-X))+(Y-A),X=B,(x+=1)<a&&(z=i[x]);return W&&(g[y++]=W),X&&(g[y++]=X),y||(g[y++]=0),g.length=y,g},gc=function(e,i,s){var a=e+i,c=a-e,h=i-c,g=e-(a-c);return s?(s[0]=g+h,s[1]=a,s):[g+h,a]},mm=function(e,i){var s=e.length;if(s===1){var a=Cu(e[0],i);return a[0]?a:[a[1]]}var c=new Array(2*s),h=[.1,.1],g=[.1,.1],y=0;Cu(e[0],i,h),h[0]&&(c[y++]=h[0]);for(var w=1;w<s;++w){Cu(e[w],i,g);var x=h[1];gc(x,g[0],h),h[0]&&(c[y++]=h[0]);var T=g[1],E=h[1],P=T+E,z=E-(P-T);h[1]=P,z&&(c[y++]=z)}return h[1]&&(c[y++]=h[1]),y===0&&(c[y++]=0),c.length=y,c},qy=function(e,i){var s=0|e.length,a=0|i.length;if(s===1&&a===1)return function(tt,Q){var zt=tt+Q,Et=zt-tt,Ft=tt-(zt-Et)+(Q-Et);return Ft?[Ft,zt]:[zt]}(e[0],-i[0]);var c,h,g=new Array(s+a),y=0,w=0,x=0,T=Math.abs,E=e[w],P=T(E),z=-i[x],N=T(z);P<N?(h=E,(w+=1)<s&&(E=e[w],P=T(E))):(h=z,(x+=1)<a&&(z=-i[x],N=T(z))),w<s&&P<N||x>=a?(c=E,(w+=1)<s&&(E=e[w],P=T(E))):(c=z,(x+=1)<a&&(z=-i[x],N=T(z)));for(var B,A,Y=c+h,it=Y-c,D=h-it,W=D,X=Y;w<s&&x<a;)P<N?(c=E,(w+=1)<s&&(E=e[w],P=T(E))):(c=z,(x+=1)<a&&(z=-i[x],N=T(z))),(D=(h=W)-(it=(Y=c+h)-c))&&(g[y++]=D),W=X-((B=X+Y)-(A=B-X))+(Y-A),X=B;for(;w<s;)(D=(h=W)-(it=(Y=(c=E)+h)-c))&&(g[y++]=D),W=X-((B=X+Y)-(A=B-X))+(Y-A),X=B,(w+=1)<s&&(E=e[w]);for(;x<a;)(D=(h=W)-(it=(Y=(c=z)+h)-c))&&(g[y++]=D),W=X-((B=X+Y)-(A=B-X))+(Y-A),X=B,(x+=1)<a&&(z=-i[x]);return W&&(g[y++]=W),X&&(g[y++]=X),y||(g[y++]=0),g.length=y,g},vm=is(function(e){function i(x,T){for(var E=new Array(x.length-1),P=1;P<x.length;++P)for(var z=E[P-1]=new Array(x.length-1),N=0,B=0;N<x.length;++N)N!==T&&(z[B++]=x[P][N]);return E}function s(x){if(x.length===1)return x[0];if(x.length===2)return["sum(",x[0],",",x[1],")"].join("");var T=x.length>>1;return["sum(",s(x.slice(0,T)),",",s(x.slice(T)),")"].join("")}function a(x){if(x.length===2)return[["sum(prod(",x[0][0],",",x[1][1],"),prod(-",x[0][1],",",x[1][0],"))"].join("")];for(var T=[],E=0;E<x.length;++E)T.push(["scale(",s(a(i(x,E))),",",(P=E,1&P?"-":""),x[0][E],")"].join(""));return T;var P}function c(x){for(var T=[],E=[],P=function(D){for(var W=new Array(D),X=0;X<D;++X){W[X]=new Array(D);for(var tt=0;tt<D;++tt)W[X][tt]=["m",tt,"[",D-X-1,"]"].join("")}return W}(x),z=[],N=0;N<x;++N)1&N?E.push.apply(E,a(i(P,N))):T.push.apply(T,a(i(P,N))),z.push("m"+N);var B=s(T),A=s(E),Y="orientation"+x+"Exact",it=["function ",Y,"(",z.join(),"){var p=",B,",n=",A,",d=sub(p,n);return d[d.length-1];};return ",Y].join("");return new Function("sum","prod","scale","sub",it)(gm,Cu,mm,qy)}var h=c(3),g=c(4),y=[function(){return 0},function(){return 0},function(x,T){return T[0]-x[0]},function(x,T,E){var P,z=(x[1]-E[1])*(T[0]-E[0]),N=(x[0]-E[0])*(T[1]-E[1]),B=z-N;if(z>0){if(N<=0)return B;P=z+N}else{if(!(z<0)||N>=0)return B;P=-(z+N)}var A=33306690738754716e-32*P;return B>=A||B<=-A?B:h(x,T,E)},function(x,T,E,P){var z=x[0]-P[0],N=T[0]-P[0],B=E[0]-P[0],A=x[1]-P[1],Y=T[1]-P[1],it=E[1]-P[1],D=x[2]-P[2],W=T[2]-P[2],X=E[2]-P[2],tt=N*it,Q=B*Y,zt=B*A,Et=z*it,Ft=z*Y,Tt=N*A,Ht=D*(tt-Q)+W*(zt-Et)+X*(Ft-Tt),It=7771561172376103e-31*((Math.abs(tt)+Math.abs(Q))*Math.abs(D)+(Math.abs(zt)+Math.abs(Et))*Math.abs(W)+(Math.abs(Ft)+Math.abs(Tt))*Math.abs(X));return Ht>It||-Ht>It?Ht:g(x,T,E,P)}];function w(x){var T=y[x.length];return T||(T=y[x.length]=c(x.length)),T.apply(void 0,x)}(function(){for(;y.length<=5;)y.push(c(y.length));for(var x=[],T=["slow"],E=0;E<=5;++E)x.push("a"+E),T.push("o"+E);var P=["function getOrientation(",x.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(E=2;E<=5;++E)P.push("case ",E,":return o",E,"(",x.slice(0,E).join(),");");P.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),T.push(P.join(""));var z=Function.apply(void 0,T);for(e.exports=z.apply(void 0,[w].concat(y)),E=0;E<=5;++E)e.exports[E]=y[E]})()}),Vy=function(e){var i=e.length;if(i<3){for(var s=new Array(i),a=0;a<i;++a)s[a]=a;return i===2&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]?[0]:s}var c=new Array(i);for(a=0;a<i;++a)c[a]=a;c.sort(function(z,N){var B=e[z][0]-e[N][0];return B||e[z][1]-e[N][1]});var h=[c[0],c[1]],g=[c[0],c[1]];for(a=2;a<i;++a){for(var y=c[a],w=e[y],x=h.length;x>1&&ym(e[h[x-2]],e[h[x-1]],w)<=0;)x-=1,h.pop();for(h.push(y),x=g.length;x>1&&ym(e[g[x-2]],e[g[x-1]],w)>=0;)x-=1,g.pop();g.push(y)}s=new Array(g.length+h.length-2);for(var T=0,E=(a=0,h.length);a<E;++a)s[T++]=h[a];for(var P=g.length-2;P>0;--P)s[T++]=g[P];return s},ym=vm[3],zp=Ba,Wy=Ba;function Ba(e,i){if(!(this instanceof Ba))return new Ba(e,i);if(this.data=e||[],this.length=this.data.length,this.compare=i||Zy,this.length>0)for(var s=(this.length>>1)-1;s>=0;s--)this._down(s)}function Zy(e,i){return e<i?-1:e>i?1:0}Ba.prototype={push:function(e){this.data.push(e),this.length++,this._up(this.length-1)},pop:function(){if(this.length!==0){var e=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),e}},peek:function(){return this.data[0]},_up:function(e){for(var i=this.data,s=this.compare,a=i[e];e>0;){var c=e-1>>1,h=i[c];if(s(a,h)>=0)break;i[e]=h,e=c}i[e]=a},_down:function(e){for(var i=this.data,s=this.compare,a=this.length>>1,c=i[e];e<a;){var h=1+(e<<1),g=h+1,y=i[h];if(g<this.length&&s(i[g],y)<0&&(h=g,y=i[g]),s(y,c)>=0)break;i[e]=y,e=h}i[e]=c}},zp.default=Wy;var Yy=function(e,i){for(var s=e[0],a=e[1],c=!1,h=0,g=i.length-1;h<i.length;g=h++){var y=i[h][0],w=i[h][1],x=i[g][0],T=i[g][1];w>a!=T>a&&s<(x-y)*(a-w)/(T-w)+y&&(c=!c)}return c},zh=vm[3],bm=Nh,Xy=Nh;function Nh(e,i,s){i=Math.max(0,i===void 0?2:i),s=s||0;for(var a,c=function(it){for(var D=it[0],W=it[0],X=it[0],tt=it[0],Q=0;Q<it.length;Q++){var zt=it[Q];zt[0]<D[0]&&(D=zt),zt[0]>X[0]&&(X=zt),zt[1]<W[1]&&(W=zt),zt[1]>tt[1]&&(tt=zt)}var Et=[D,W,X,tt],Ft=Et.slice();for(Q=0;Q<it.length;Q++)Yy(it[Q],Et)||Ft.push(it[Q]);var Tt=Vy(Ft),Ht=[];for(Q=0;Q<Tt.length;Q++)Ht.push(Ft[Tt[Q]]);return Ht}(e),h=Ji(16,["[0]","[1]","[0]","[1]"]).load(e),g=[],y=0;y<c.length;y++){var w=c[y];h.remove(w),a=Mu(w,a),g.push(a)}var x=Ji(16);for(y=0;y<g.length;y++)x.insert(ki(g[y]));for(var T=i*i,E=s*s;g.length;){var P=g.shift(),z=P.p,N=P.next.p,B=ja(z,N);if(!(B<E)){var A=B/T;(w=Pu(h,P.prev.p,z,N,P.next.next.p,A,x))&&Math.min(ja(w,z),ja(w,N))<=A&&(g.push(P),g.push(Mu(w,P)),h.remove(w),x.remove(P),x.insert(ki(P)),x.insert(ki(P.next)))}}P=a;var Y=[];do Y.push(P.p),P=P.next;while(P!==a);return Y.push(P.p),Y}function Pu(e,i,s,a,c,h,g){for(var y=new zp(null,wm),w=e.data;w;){for(var x=0;x<w.children.length;x++){var T=w.children[x],E=w.leaf?Ha(T,s,a):xm(s,a,T);E>h||y.push({node:T,dist:E})}for(;y.length&&!y.peek().node.children;){var P=y.pop(),z=P.node,N=Ha(z,i,s),B=Ha(z,a,c);if(P.dist<N&&P.dist<B&&ei(s,z,g)&&ei(a,z,g))return z}(w=y.pop())&&(w=w.node)}return null}function wm(e,i){return e.dist-i.dist}function xm(e,i,s){if(mc(e,s)||mc(i,s))return 0;var a=vc(e[0],e[1],i[0],i[1],s.minX,s.minY,s.maxX,s.minY);if(a===0)return 0;var c=vc(e[0],e[1],i[0],i[1],s.minX,s.minY,s.minX,s.maxY);if(c===0)return 0;var h=vc(e[0],e[1],i[0],i[1],s.maxX,s.minY,s.maxX,s.maxY);if(h===0)return 0;var g=vc(e[0],e[1],i[0],i[1],s.minX,s.maxY,s.maxX,s.maxY);return g===0?0:Math.min(a,c,h,g)}function mc(e,i){return e[0]>=i.minX&&e[0]<=i.maxX&&e[1]>=i.minY&&e[1]<=i.maxY}function ei(e,i,s){for(var a,c,h,g,y=Math.min(e[0],i[0]),w=Math.min(e[1],i[1]),x=Math.max(e[0],i[0]),T=Math.max(e[1],i[1]),E=s.search({minX:y,minY:w,maxX:x,maxY:T}),P=0;P<E.length;P++)if(a=E[P].p,c=E[P].next.p,h=e,a!==(g=i)&&c!==h&&zh(a,c,h)>0!=zh(a,c,g)>0&&zh(h,g,a)>0!=zh(h,g,c)>0)return!1;return!0}function ki(e){var i=e.p,s=e.next.p;return e.minX=Math.min(i[0],s[0]),e.minY=Math.min(i[1],s[1]),e.maxX=Math.max(i[0],s[0]),e.maxY=Math.max(i[1],s[1]),e}function Mu(e,i){var s={p:e,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return i?(s.next=i.next,s.prev=i,i.next.prev=s,i.next=s):(s.prev=s,s.next=s),s}function ja(e,i){var s=e[0]-i[0],a=e[1]-i[1];return s*s+a*a}function Ha(e,i,s){var a=i[0],c=i[1],h=s[0]-a,g=s[1]-c;if(h!==0||g!==0){var y=((e[0]-a)*h+(e[1]-c)*g)/(h*h+g*g);y>1?(a=s[0],c=s[1]):y>0&&(a+=h*y,c+=g*y)}return(h=e[0]-a)*h+(g=e[1]-c)*g}function vc(e,i,s,a,c,h,g,y){var w,x,T,E,P=s-e,z=a-i,N=g-c,B=y-h,A=e-c,Y=i-h,it=P*P+z*z,D=P*N+z*B,W=N*N+B*B,X=P*A+z*Y,tt=N*A+B*Y,Q=it*W-D*D,zt=Q,Et=Q;Q===0?(x=0,zt=1,E=tt,Et=W):(E=it*tt-D*X,(x=D*tt-W*X)<0?(x=0,E=tt,Et=W):x>zt&&(x=zt,E=tt+D,Et=W)),E<0?(E=0,-X<0?x=0:-X>it?x=zt:(x=-X,zt=it)):E>Et&&(E=Et,-X+D<0?x=0:-X+D>it?x=zt:(x=-X+D,zt=it));var Ft=(1-(T=E===0?0:E/Et))*c+T*g-((1-(w=x===0?0:x/zt))*e+w*s),Tt=(1-T)*h+T*y-((1-w)*i+w*a);return Ft*Ft+Tt*Tt}function cr(e,i){i===void 0&&(i={}),i.concavity=i.concavity||1/0;var s=[];if(Ct(e,function(c){s.push([c[0],c[1]])}),!s.length)return null;var a=bm(s,i.concavity);return a.length>3?v([a]):null}function Je(e,i,s){if(s===void 0&&(s={}),!e)throw new Error("point is required");if(!i)throw new Error("polygon is required");var a=R(e),c=ht(i),h=c.type,g=i.bbox,y=c.coordinates;if(g&&function(P,z){return z[0]<=P[0]&&z[1]<=P[1]&&z[2]>=P[0]&&z[3]>=P[1]}(a,g)===!1)return!1;h==="Polygon"&&(y=[y]);for(var w=!1,x=0;x<y.length&&!w;x++)if(Dh(a,y[x][0],s.ignoreBoundary)){for(var T=!1,E=1;E<y[x].length&&!T;)Dh(a,y[x][E],!s.ignoreBoundary)&&(T=!0),E++;T||(w=!0)}return w}function Dh(e,i,s){var a=!1;i[0][0]===i[i.length-1][0]&&i[0][1]===i[i.length-1][1]&&(i=i.slice(0,i.length-1));for(var c=0,h=i.length-1;c<i.length;h=c++){var g=i[c][0],y=i[c][1],w=i[h][0],x=i[h][1];if(e[1]*(g-w)+y*(w-e[0])+x*(e[0]-g)==0&&(g-e[0])*(w-e[0])<=0&&(y-e[1])*(x-e[1])<=0)return!s;y>e[1]!=x>e[1]&&e[0]<(w-g)*(e[1]-y)/(x-y)+g&&(a=!a)}return a}function yc(e,i){var s=[];return bt(e,function(a){var c=!1;if(a.geometry.type==="Point")ee(i,function(g){Je(a,g)&&(c=!0)}),c&&s.push(a);else{if(a.geometry.type!=="MultiPoint")throw new Error("Input geometry must be a Point or MultiPoint");var h=[];ee(i,function(g){Ct(a,function(y){Je(y,g)&&(c=!0,h.push(y))})}),c&&s.push(F(h))}}),M(s)}function ir(e,i,s){s===void 0&&(s={});var a=R(e),c=R(i),h=ot(c[1]-a[1]),g=ot(c[0]-a[0]),y=ot(a[1]),w=ot(c[1]),x=Math.pow(Math.sin(h/2),2)+Math.pow(Math.sin(g/2),2)*Math.cos(y)*Math.cos(w);return G(2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x)),s.units)}function _m(e,i){var s=!1;return M(function(a){if(a.length<3)return[];a.sort(_l);for(var c,h,g,y,w,x,T=a.length-1,E=a[T].x,P=a[0].x,z=a[T].y,N=z,B=1e-12;T--;)a[T].y<z&&(z=a[T].y),a[T].y>N&&(N=a[T].y);var A,Y=P-E,it=N-z,D=Y>it?Y:it,W=.5*(P+E),X=.5*(N+z),tt=[new Iu({__sentinel:!0,x:W-20*D,y:X-D},{__sentinel:!0,x:W,y:X+20*D},{__sentinel:!0,x:W+20*D,y:X-D})],Q=[],zt=[];for(T=a.length;T--;){for(zt.length=0,A=tt.length;A--;)(Y=a[T].x-tt[A].x)>0&&Y*Y>tt[A].r?(Q.push(tt[A]),tt.splice(A,1)):Y*Y+(it=a[T].y-tt[A].y)*it>tt[A].r||(zt.push(tt[A].a,tt[A].b,tt[A].b,tt[A].c,tt[A].c,tt[A].a),tt.splice(A,1));for(Ki(zt),A=zt.length;A;)h=zt[--A],c=zt[--A],g=a[T],y=h.x-c.x,w=h.y-c.y,x=2*(y*(g.y-h.y)-w*(g.x-h.x)),Math.abs(x)>B&&tt.push(new Iu(c,h,g))}for(Array.prototype.push.apply(Q,tt),T=Q.length;T--;)(Q[T].a.__sentinel||Q[T].b.__sentinel||Q[T].c.__sentinel)&&Q.splice(T,1);return Q}(e.features.map(function(a){var c={x:a.geometry.coordinates[0],y:a.geometry.coordinates[1]};return i?c.z=a.properties[i]:a.geometry.coordinates.length===3&&(s=!0,c.z=a.geometry.coordinates[2]),c})).map(function(a){var c=[a.a.x,a.a.y],h=[a.b.x,a.b.y],g=[a.c.x,a.c.y],y={};return s?(c.push(a.a.z),h.push(a.b.z),g.push(a.c.z)):y={a:a.a.z,b:a.b.z,c:a.c.z},v([[c,h,g,c]],y)}))}bm.default=Xy;var Iu=function(e,i,s){this.a=e,this.b=i,this.c=s;var a,c,h=i.x-e.x,g=i.y-e.y,y=s.x-e.x,w=s.y-e.y,x=h*(e.x+i.x)+g*(e.y+i.y),T=y*(e.x+s.x)+w*(e.y+s.y),E=2*(h*(s.y-i.y)-g*(s.x-i.x));this.x=(w*x-g*T)/E,this.y=(h*T-y*x)/E,a=this.x-e.x,c=this.y-e.y,this.r=a*a+c*c};function _l(e,i){return i.x-e.x}function Ki(e){var i,s,a,c,h,g=e.length;t:for(;g;)for(s=e[--g],i=e[--g],a=g;a;)if(h=e[--a],i===(c=e[--a])&&s===h||i===h&&s===c){e.splice(g,2),e.splice(a,2),g-=2;continue t}}function Si(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return bc(e);case"FeatureCollection":return function(i){var s={type:"FeatureCollection"};return Object.keys(i).forEach(function(a){switch(a){case"type":case"features":return;default:s[a]=i[a]}}),s.features=i.features.map(function(a){return bc(a)}),s}(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Lu(e);default:throw new Error("unknown GeoJSON type")}}function bc(e){var i={type:"Feature"};return Object.keys(e).forEach(function(s){switch(s){case"type":case"properties":case"geometry":return;default:i[s]=e[s]}}),i.properties=wc(e.properties),i.geometry=Lu(e.geometry),i}function wc(e){var i={};return e&&Object.keys(e).forEach(function(s){var a=e[s];typeof a=="object"?a===null?i[s]=null:Array.isArray(a)?i[s]=a.map(function(c){return c}):i[s]=wc(a):i[s]=a}),i}function Lu(e){var i={type:e.type};return e.bbox&&(i.bbox=e.bbox),e.type==="GeometryCollection"?(i.geometries=e.geometries.map(function(s){return Lu(s)}),i):(i.coordinates=xc(e.coordinates),i)}function xc(e){var i=e;return typeof i[0]!="object"?i.slice():i.map(function(s){return xc(s)})}function Np(e,i){if(i===void 0&&(i={}),!gt(i=i||{}))throw new Error("options is invalid");var s=i.mutate;if(Lt(e)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");s!==!1&&s!==void 0||(e=Si(e));var a=[],c=Xi(e,function(h,g){var y=function(w,x){var T,E=w.geometry.coordinates,P=x.geometry.coordinates,z=_c(E[0]),N=_c(E[E.length-1]),B=_c(P[0]),A=_c(P[P.length-1]);if(z===A)T=P.concat(E.slice(1));else if(B===N)T=E.concat(P.slice(1));else if(z===B)T=E.slice(1).reverse().concat(P);else{if(N!==A)return null;T=E.concat(P.reverse().slice(1))}return k(T)}(h,g);return y||(a.push(h),g)});return c&&a.push(c),a.length?a.length===1?a[0]:I(a.map(function(h){return h.coordinates})):null}function _c(e){return e[0].toString()+","+e[1].toString()}function Fh(e){return e}function Bh(e,i){var s=function(x){if(x==null)return Fh;var T,E,P=x.scale[0],z=x.scale[1],N=x.translate[0],B=x.translate[1];return function(A,Y){Y||(T=E=0);var it=2,D=A.length,W=new Array(D);for(W[0]=(T+=A[0])*P+N,W[1]=(E+=A[1])*z+B;it<D;)W[it]=A[it],++it;return W}}(e.transform),a=e.arcs;function c(x,T){T.length&&T.pop();for(var E=a[x<0?~x:x],P=0,z=E.length;P<z;++P)T.push(s(E[P],P));x<0&&function(N,B){for(var A,Y=N.length,it=Y-B;it<--Y;)A=N[it],N[it++]=N[Y],N[Y]=A}(T,z)}function h(x){return s(x)}function g(x){for(var T=[],E=0,P=x.length;E<P;++E)c(x[E],T);return T.length<2&&T.push(T[0]),T}function y(x){for(var T=g(x);T.length<4;)T.push(T[0]);return T}function w(x){return x.map(y)}return function x(T){var E,P=T.type;switch(P){case"GeometryCollection":return{type:P,geometries:T.geometries.map(x)};case"Point":E=h(T.coordinates);break;case"MultiPoint":E=T.coordinates.map(h);break;case"LineString":E=g(T.arcs);break;case"MultiLineString":E=T.arcs.map(g);break;case"Polygon":E=w(T.arcs);break;case"MultiPolygon":E=T.arcs.map(w);break;default:return null}return{type:P,coordinates:E}}(i)}function Dp(e,i){var s={},a={},c={},h=[],g=-1;function y(w,x){for(var T in w){var E=w[T];delete x[E.start],delete E.start,delete E.end,E.forEach(function(P){s[P<0?~P:P]=1}),h.push(E)}}return i.forEach(function(w,x){var T,E=e.arcs[w<0?~w:w];E.length<3&&!E[1][0]&&!E[1][1]&&(T=i[++g],i[g]=w,i[x]=T)}),i.forEach(function(w){var x,T,E=function(A){var Y,it=e.arcs[A<0?~A:A],D=it[0];return e.transform?(Y=[0,0],it.forEach(function(W){Y[0]+=W[0],Y[1]+=W[1]})):Y=it[it.length-1],A<0?[Y,D]:[D,Y]}(w),P=E[0],z=E[1];if(x=c[P])if(delete c[x.end],x.push(w),x.end=z,T=a[z]){delete a[T.start];var N=T===x?x:x.concat(T);a[N.start=x.start]=c[N.end=T.end]=N}else a[x.start]=c[x.end]=x;else if(x=a[z])if(delete a[x.start],x.unshift(w),x.start=P,T=c[P]){delete c[T.end];var B=T===x?x:T.concat(x);a[B.start=T.start]=c[B.end=x.end]=B}else a[x.start]=c[x.end]=x;else a[(x=[w]).start=P]=c[x.end=z]=x}),y(c,a),y(a,c),i.forEach(function(w){s[w<0?~w:w]||h.push([w])}),h}function jh(e,i){var s={},a=[],c=[];function h(y){y.forEach(function(w){w.forEach(function(x){(s[x=x<0?~x:x]||(s[x]=[])).push(y)})}),a.push(y)}function g(y){return function(w){for(var x,T=-1,E=w.length,P=w[E-1],z=0;++T<E;)x=P,P=w[T],z+=x[0]*P[1]-x[1]*P[0];return Math.abs(z)}(Bh(e,{type:"Polygon",arcs:[y]}).coordinates[0])}return i.forEach(function y(w){switch(w.type){case"GeometryCollection":w.geometries.forEach(y);break;case"Polygon":h(w.arcs);break;case"MultiPolygon":w.arcs.forEach(h)}}),a.forEach(function(y){if(!y._){var w=[],x=[y];for(y._=1,c.push(w);y=x.pop();)w.push(y),y.forEach(function(T){T.forEach(function(E){s[E<0?~E:E].forEach(function(P){P._||(P._=1,x.push(P))})})})}}),a.forEach(function(y){delete y._}),{type:"MultiPolygon",arcs:c.map(function(y){var w,x=[];if(y.forEach(function(N){N.forEach(function(B){B.forEach(function(A){s[A<0?~A:A].length<2&&x.push(A)})})}),(w=(x=Dp(e,x)).length)>1)for(var T,E,P=1,z=g(x[0]);P<w;++P)(T=g(x[P]))>z&&(E=x[0],x[0]=x[P],x[P]=E,z=T);return x}).filter(function(y){return y.length>0})}}var Ru=Object.prototype.hasOwnProperty;function Au(e,i,s,a,c,h){arguments.length===3&&(a=h=Array,c=null);for(var g=new a(e=1<<Math.max(4,Math.ceil(Math.log(e)/Math.LN2))),y=new h(e),w=e-1,x=0;x<e;++x)g[x]=c;function T(N,B){for(var A=i(N)&w,Y=g[A],it=0;Y!=c;){if(s(Y,N))return y[A]=B;if(++it>=e)throw new Error("full hashmap");Y=g[A=A+1&w]}return g[A]=N,y[A]=B,B}function E(N,B){for(var A=i(N)&w,Y=g[A],it=0;Y!=c;){if(s(Y,N))return y[A];if(++it>=e)throw new Error("full hashmap");Y=g[A=A+1&w]}return g[A]=N,y[A]=B,B}function P(N,B){for(var A=i(N)&w,Y=g[A],it=0;Y!=c;){if(s(Y,N))return y[A];if(++it>=e)break;Y=g[A=A+1&w]}return B}function z(){for(var N=[],B=0,A=g.length;B<A;++B){var Y=g[B];Y!=c&&N.push(Y)}return N}return{set:T,maybeSet:E,get:P,keys:z}}function kl(e,i){return e[0]===i[0]&&e[1]===i[1]}var or=new ArrayBuffer(16),ns=new Float64Array(or),ui=new Uint32Array(or);function Hh(e){ns[0]=e[0],ns[1]=e[1];var i=ui[0]^ui[1];return 2147483647&(i=i<<5^i>>7^ui[2]^ui[3])}function Fp(e){var i,s,a,c,h=e.coordinates,g=e.lines,y=e.rings,w=function(){for(var Et=Au(1.4*h.length,X,tt,Int32Array,-1,Int32Array),Ft=new Int32Array(h.length),Tt=0,Ht=h.length;Tt<Ht;++Tt)Ft[Tt]=Et.maybeSet(Tt,Tt);return Ft}(),x=new Int32Array(h.length),T=new Int32Array(h.length),E=new Int32Array(h.length),P=new Int8Array(h.length),z=0;for(i=0,s=h.length;i<s;++i)x[i]=T[i]=E[i]=-1;for(i=0,s=g.length;i<s;++i){var N=g[i],B=N[0],A=N[1];for(a=w[B],c=w[++B],++z,P[a]=1;++B<=A;)W(i,a,a=c,c=w[B]);++z,P[c]=1}for(i=0,s=h.length;i<s;++i)x[i]=-1;for(i=0,s=y.length;i<s;++i){var Y=y[i],it=Y[0]+1,D=Y[1];for(W(i,w[D-1],a=w[it-1],c=w[it]);++it<=D;)W(i,a,a=c,c=w[it])}function W(Et,Ft,Tt,Ht){if(x[Tt]!==Et){x[Tt]=Et;var It=T[Tt];if(It>=0){var Mt=E[Tt];It===Ft&&Mt===Ht||It===Ht&&Mt===Ft||(++z,P[Tt]=1)}else T[Tt]=Ft,E[Tt]=Ht}}function X(Et){return Hh(h[Et])}function tt(Et,Ft){return kl(h[Et],h[Ft])}x=T=E=null;var Q,zt=function(Et,Ft,Tt,Ht,It){arguments.length===3&&(Ht=Array,It=null);for(var Mt=new Ht(Et=1<<Math.max(4,Math.ceil(Math.log(Et)/Math.LN2))),St=Et-1,Bt=0;Bt<Et;++Bt)Mt[Bt]=It;function Rt(Ie){for(var se=Ft(Ie)&St,tr=Mt[se],we=0;tr!=It;){if(Tt(tr,Ie))return!0;if(++we>=Et)throw new Error("full hashset");tr=Mt[se=se+1&St]}return Mt[se]=Ie,!0}function Gt(Ie){for(var se=Ft(Ie)&St,tr=Mt[se],we=0;tr!=It;){if(Tt(tr,Ie))return!0;if(++we>=Et)break;tr=Mt[se=se+1&St]}return!1}function vt(){for(var Ie=[],se=0,tr=Mt.length;se<tr;++se){var we=Mt[se];we!=It&&Ie.push(we)}return Ie}return{add:Rt,has:Gt,values:vt}}(1.4*z,Hh,kl);for(i=0,s=h.length;i<s;++i)P[Q=w[i]]&&zt.add(h[Q]);return zt}function Bp(e,i,s,a){Ou(e,i,s),Ou(e,i,i+a),Ou(e,i+a,s)}function Ou(e,i,s){for(var a,c=i+(s---i>>1);i<c;++i,--s)a=e[i],e[i]=e[s],e[s]=a}function El(e){var i,s,a={};for(i in e)a[i]=(s=e[i])==null?{type:null}:(s.type==="FeatureCollection"?jp:s.type==="Feature"?kc:Qi)(s);return a}function jp(e){var i={type:"GeometryCollection",geometries:e.features.map(kc)};return e.bbox!=null&&(i.bbox=e.bbox),i}function kc(e){var i,s=Qi(e.geometry);for(i in e.id!=null&&(s.id=e.id),e.bbox!=null&&(s.bbox=e.bbox),e.properties){s.properties=e.properties;break}return s}function Qi(e){if(e==null)return{type:null};var i=e.type==="GeometryCollection"?{type:"GeometryCollection",geometries:e.geometries.map(Qi)}:e.type==="Point"||e.type==="MultiPoint"?{type:e.type,coordinates:e.coordinates}:{type:e.type,arcs:e.coordinates};return e.bbox!=null&&(i.bbox=e.bbox),i}function Tl(e,i){var s=function(P){var z=1/0,N=1/0,B=-1/0,A=-1/0;function Y(Q){Q!=null&&Ru.call(it,Q.type)&&it[Q.type](Q)}var it={GeometryCollection:function(Q){Q.geometries.forEach(Y)},Point:function(Q){D(Q.coordinates)},MultiPoint:function(Q){Q.coordinates.forEach(D)},LineString:function(Q){W(Q.arcs)},MultiLineString:function(Q){Q.arcs.forEach(W)},Polygon:function(Q){Q.arcs.forEach(W)},MultiPolygon:function(Q){Q.arcs.forEach(X)}};function D(Q){var zt=Q[0],Et=Q[1];zt<z&&(z=zt),zt>B&&(B=zt),Et<N&&(N=Et),Et>A&&(A=Et)}function W(Q){Q.forEach(D)}function X(Q){Q.forEach(W)}for(var tt in P)Y(P[tt]);return B>=z&&A>=N?[z,N,B,A]:void 0}(e=El(e)),a=i>0&&s&&function(P,z,N){var B=z[0],A=z[1],Y=z[2],it=z[3],D=Y-B?(N-1)/(Y-B):1,W=it-A?(N-1)/(it-A):1;function X(It){return[Math.round((It[0]-B)*D),Math.round((It[1]-A)*W)]}function tt(It,Mt){for(var St,Bt,Rt,Gt,vt,Ie=-1,se=0,tr=It.length,we=new Array(tr);++Ie<tr;)St=It[Ie],Gt=Math.round((St[0]-B)*D),vt=Math.round((St[1]-A)*W),Gt===Bt&&vt===Rt||(we[se++]=[Bt=Gt,Rt=vt]);for(we.length=se;se<Mt;)se=we.push([we[0][0],we[0][1]]);return we}function Q(It){return tt(It,2)}function zt(It){return tt(It,4)}function Et(It){return It.map(zt)}function Ft(It){It!=null&&Ru.call(Tt,It.type)&&Tt[It.type](It)}var Tt={GeometryCollection:function(It){It.geometries.forEach(Ft)},Point:function(It){It.coordinates=X(It.coordinates)},MultiPoint:function(It){It.coordinates=It.coordinates.map(X)},LineString:function(It){It.arcs=Q(It.arcs)},MultiLineString:function(It){It.arcs=It.arcs.map(Q)},Polygon:function(It){It.arcs=Et(It.arcs)},MultiPolygon:function(It){It.arcs=It.arcs.map(Et)}};for(var Ht in P)Ft(P[Ht]);return{scale:[1/D,1/W],translate:[B,A]}}(e,s,i),c=function(P){var z,N,B,A,Y=P.coordinates,it=P.lines,D=P.rings,W=it.length+D.length;for(delete P.lines,delete P.rings,B=0,A=it.length;B<A;++B)for(z=it[B];z=z.next;)++W;for(B=0,A=D.length;B<A;++B)for(N=D[B];N=N.next;)++W;var X=Au(2*W*1.4,Hh,kl),tt=P.arcs=[];for(B=0,A=it.length;B<A;++B){z=it[B];do Q(z);while(z=z.next)}for(B=0,A=D.length;B<A;++B)if((N=D[B]).next)do Q(N);while(N=N.next);else zt(N);function Q(Mt){var St,Bt,Rt,Gt,vt,Ie,se,tr;if(Rt=X.get(St=Y[Mt[0]])){for(se=0,tr=Rt.length;se<tr;++se)if(Et(Gt=Rt[se],Mt))return Mt[0]=Gt[0],void(Mt[1]=Gt[1])}if(vt=X.get(Bt=Y[Mt[1]])){for(se=0,tr=vt.length;se<tr;++se)if(Ft(Ie=vt[se],Mt))return Mt[1]=Ie[0],void(Mt[0]=Ie[1])}Rt?Rt.push(Mt):X.set(St,[Mt]),vt?vt.push(Mt):X.set(Bt,[Mt]),tt.push(Mt)}function zt(Mt){var St,Bt,Rt,Gt,vt;if(Bt=X.get(Y[Mt[0]]))for(Gt=0,vt=Bt.length;Gt<vt;++Gt){if(Tt(Rt=Bt[Gt],Mt))return Mt[0]=Rt[0],void(Mt[1]=Rt[1]);if(Ht(Rt,Mt))return Mt[0]=Rt[1],void(Mt[1]=Rt[0])}if(Bt=X.get(St=Y[Mt[0]+It(Mt)]))for(Gt=0,vt=Bt.length;Gt<vt;++Gt){if(Tt(Rt=Bt[Gt],Mt))return Mt[0]=Rt[0],void(Mt[1]=Rt[1]);if(Ht(Rt,Mt))return Mt[0]=Rt[1],void(Mt[1]=Rt[0])}Bt?Bt.push(Mt):X.set(St,[Mt]),tt.push(Mt)}function Et(Mt,St){var Bt=Mt[0],Rt=St[0],Gt=Mt[1];if(Bt-Gt!=Rt-St[1])return!1;for(;Bt<=Gt;++Bt,++Rt)if(!kl(Y[Bt],Y[Rt]))return!1;return!0}function Ft(Mt,St){var Bt=Mt[0],Rt=St[0],Gt=Mt[1],vt=St[1];if(Bt-Gt!=Rt-vt)return!1;for(;Bt<=Gt;++Bt,--vt)if(!kl(Y[Bt],Y[vt]))return!1;return!0}function Tt(Mt,St){var Bt=Mt[0],Rt=St[0],Gt=Mt[1]-Bt;if(Gt!==St[1]-Rt)return!1;for(var vt=It(Mt),Ie=It(St),se=0;se<Gt;++se)if(!kl(Y[Bt+(se+vt)%Gt],Y[Rt+(se+Ie)%Gt]))return!1;return!0}function Ht(Mt,St){var Bt=Mt[0],Rt=St[0],Gt=Mt[1],vt=St[1],Ie=Gt-Bt;if(Ie!==vt-Rt)return!1;for(var se=It(Mt),tr=Ie-It(St),we=0;we<Ie;++we)if(!kl(Y[Bt+(we+se)%Ie],Y[vt-(we+tr)%Ie]))return!1;return!0}function It(Mt){for(var St=Mt[0],Bt=Mt[1],Rt=St,Gt=Rt,vt=Y[Rt];++Rt<Bt;){var Ie=Y[Rt];(Ie[0]<vt[0]||Ie[0]===vt[0]&&Ie[1]<vt[1])&&(Gt=Rt,vt=Ie)}return Gt-St}return P}(function(P){var z,N,B,A=Fp(P),Y=P.coordinates,it=P.lines,D=P.rings;for(N=0,B=it.length;N<B;++N)for(var W=it[N],X=W[0],tt=W[1];++X<tt;)A.has(Y[X])&&(z={0:X,1:W[1]},W[1]=X,W=W.next=z);for(N=0,B=D.length;N<B;++N)for(var Q=D[N],zt=Q[0],Et=zt,Ft=Q[1],Tt=A.has(Y[zt]);++Et<Ft;)A.has(Y[Et])&&(Tt?(z={0:Et,1:Q[1]},Q[1]=Et,Q=Q.next=z):(Bp(Y,zt,Ft,Ft-Et),Y[Ft]=Y[zt],Tt=!0,Et=zt));return P}(function(P){var z=-1,N=[],B=[],A=[];function Y(Q){Q&&Ru.call(it,Q.type)&&it[Q.type](Q)}var it={GeometryCollection:function(Q){Q.geometries.forEach(Y)},LineString:function(Q){Q.arcs=D(Q.arcs)},MultiLineString:function(Q){Q.arcs=Q.arcs.map(D)},Polygon:function(Q){Q.arcs=Q.arcs.map(W)},MultiPolygon:function(Q){Q.arcs=Q.arcs.map(X)}};function D(Q){for(var zt=0,Et=Q.length;zt<Et;++zt)A[++z]=Q[zt];var Ft={0:z-Et+1,1:z};return N.push(Ft),Ft}function W(Q){for(var zt=0,Et=Q.length;zt<Et;++zt)A[++z]=Q[zt];var Ft={0:z-Et+1,1:z};return B.push(Ft),Ft}function X(Q){return Q.map(W)}for(var tt in P)Y(P[tt]);return{type:"Topology",coordinates:A,lines:N,rings:B,objects:P}}(e))),h=c.coordinates,g=Au(1.4*c.arcs.length,km,Em);function y(P){P&&Ru.call(w,P.type)&&w[P.type](P)}e=c.objects,c.bbox=s,c.arcs=c.arcs.map(function(P,z){return g.set(P,z),h.slice(P[0],P[1]+1)}),delete c.coordinates,h=null;var w={GeometryCollection:function(P){P.geometries.forEach(y)},LineString:function(P){P.arcs=x(P.arcs)},MultiLineString:function(P){P.arcs=P.arcs.map(x)},Polygon:function(P){P.arcs=P.arcs.map(x)},MultiPolygon:function(P){P.arcs=P.arcs.map(T)}};function x(P){var z=[];do{var N=g.get(P);z.push(P[0]<P[1]?N:~N)}while(P=P.next);return z}function T(P){return P.map(x)}for(var E in e)y(e[E]);return a&&(c.transform=a,c.arcs=function(P){for(var z=-1,N=P.length;++z<N;){for(var B,A,Y=P[z],it=0,D=1,W=Y.length,X=Y[0],tt=X[0],Q=X[1];++it<W;)B=(X=Y[it])[0],A=X[1],B===tt&&A===Q||(Y[D++]=[B-tt,A-Q],tt=B,Q=A);D===1&&(Y[D++]=[0,0]),Y.length=D}return P}(c.arcs)),c}function km(e){var i,s=e[0],a=e[1];return a<s&&(i=s,s=a,a=i),s+31*a}function Em(e,i){var s,a=e[0],c=e[1],h=i[0],g=i[1];return c<a&&(s=a,a=c,c=s),g<h&&(s=h,h=g,g=s),a===h&&c===g}function Ky(e,i){if(i===void 0&&(i={}),Lt(e)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");i.mutate!==!1&&i.mutate!==void 0||(e=Si(e));var s=[];ae(e,function(c){s.push(c.geometry)});var a=Tl({geoms:U(s).geometry});return function(c){return Bh(c,jh.apply(this,arguments))}(a,a.objects.geoms.geometries)}function Tm(e,i){if(i===void 0&&(i={}),!gt(i=i||{}))throw new Error("options is invalid");var s=i.mutate;if(Lt(e)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");s!==!1&&s!==void 0||(e=Si(e));var a=function(h){var g={};ae(h,function(w){g[w.geometry.type]=!0});var y=Object.keys(g);return y.length===1?y[0]:null}(e);if(!a)throw new Error("geojson must be homogenous");var c=e;switch(a){case"LineString":return Np(c,i);case"Polygon":return Ky(c,i);default:throw new Error(a+" is not supported")}}function ia(e,i){i===void 0&&(i={});var s=typeof i=="object"?i.mutate:i;if(!e)throw new Error("geojson is required");var a=Lt(e),c=[];switch(a){case"LineString":c=Hp(e);break;case"MultiLineString":case"Polygon":j(e).forEach(function(g){c.push(Hp(g))});break;case"MultiPolygon":j(e).forEach(function(g){var y=[];g.forEach(function(w){y.push(Hp(w))}),c.push(y)});break;case"Point":return e;case"MultiPoint":var h={};j(e).forEach(function(g){var y=g.join("-");Object.prototype.hasOwnProperty.call(h,y)||(c.push(g),h[y]=!0)});break;default:throw new Error(a+" geometry not supported")}return e.coordinates?s===!0?(e.coordinates=c,e):{type:a,coordinates:c}:s===!0?(e.geometry.coordinates=c,e):u({type:a,coordinates:c},e.properties,{bbox:e.bbox,id:e.id})}function Hp(e){var i=j(e);if(i.length===2&&!Up(i[0],i[1]))return i;var s=[],a=i.length-1,c=s.length;s.push(i[0]);for(var h=1;h<a;h++){var g=s[s.length-1];i[h][0]===g[0]&&i[h][1]===g[1]||(s.push(i[h]),(c=s.length)>2&&Yr(s[c-3],s[c-1],s[c-2])&&s.splice(s.length-2,1))}if(s.push(i[i.length-1]),c=s.length,Up(i[0],i[i.length-1])&&c<4)throw new Error("invalid polygon");return Yr(s[c-3],s[c-1],s[c-2])&&s.splice(s.length-2,1),s}function Up(e,i){return e[0]===i[0]&&e[1]===i[1]}function Yr(e,i,s){var a=s[0],c=s[1],h=e[0],g=e[1],y=i[0],w=i[1],x=y-h,T=w-g;return(a-h)*T-(c-g)*x===0&&(Math.abs(x)>=Math.abs(T)?x>0?h<=a&&a<=y:y<=a&&a<=h:T>0?g<=c&&c<=w:w<=c&&c<=g)}function Jy(e,i,s){var a=i.x,c=i.y,h=s.x-a,g=s.y-c;if(h!==0||g!==0){var y=((e.x-a)*h+(e.y-c)*g)/(h*h+g*g);y>1?(a=s.x,c=s.y):y>0&&(a+=h*y,c+=g*y)}return(h=e.x-a)*h+(g=e.y-c)*g}function bo(e,i,s,a,c){for(var h,g=a,y=i+1;y<s;y++){var w=Jy(e[y],e[i],e[s]);w>g&&(h=y,g=w)}g>a&&(h-i>1&&bo(e,i,h,a,c),c.push(e[h]),s-h>1&&bo(e,h,s,a,c))}function zu(e,i){var s=e.length-1,a=[e[0]];return bo(e,0,s,i,a),a.push(e[s]),a}function Uh(e,i,s){if(e.length<=2)return e;var a=i!==void 0?i*i:1;return e=zu(e=s?e:function(c,h){for(var g,y,w,x,T,E=c[0],P=[E],z=1,N=c.length;z<N;z++)g=c[z],w=E,x=void 0,T=void 0,x=(y=g).x-w.x,T=y.y-w.y,x*x+T*T>h&&(P.push(g),E=g);return E!==g&&P.push(g),P}(e,a),a)}function Sm(e,i,s){return Uh(e.map(function(a){return{x:a[0],y:a[1],z:a[2]}}),i,s).map(function(a){return a.z?[a.x,a.y,a.z]:[a.x,a.y]})}function Gh(e,i,s){return e.map(function(a){var c=a.map(function(g){return{x:g[0],y:g[1]}});if(c.length<4)throw new Error("invalid polygon");for(var h=Uh(c,i,s).map(function(g){return[g.x,g.y]});!Qy(h);)h=Uh(c,i-=.01*i,s).map(function(g){return[g.x,g.y]});return h[h.length-1][0]===h[0][0]&&h[h.length-1][1]===h[0][1]||h.push(h[0]),h})}function Qy(e){return!(e.length<3)&&!(e.length===3&&e[2][0]===e[0][0]&&e[2][1]===e[0][1])}var Cm=function(){function e(i){this.points=i.points||[],this.duration=i.duration||1e4,this.sharpness=i.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=i.stepLength||60,this.length=this.points.length,this.delay=0;for(var s=0;s<this.length;s++)this.points[s].z=this.points[s].z||0;for(s=0;s<this.length-1;s++){var a=this.points[s],c=this.points[s+1];this.centers.push({x:(a.x+c.x)/2,y:(a.y+c.y)/2,z:(a.z+c.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),s=0;s<this.centers.length-1;s++){var h=this.points[s+1].x-(this.centers[s].x+this.centers[s+1].x)/2,g=this.points[s+1].y-(this.centers[s].y+this.centers[s+1].y)/2,y=this.points[s+1].z-(this.centers[s].y+this.centers[s+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[s+1].x+this.sharpness*(this.centers[s].x+h),y:(1-this.sharpness)*this.points[s+1].y+this.sharpness*(this.centers[s].y+g),z:(1-this.sharpness)*this.points[s+1].z+this.sharpness*(this.centers[s].z+y)},{x:(1-this.sharpness)*this.points[s+1].x+this.sharpness*(this.centers[s+1].x+h),y:(1-this.sharpness)*this.points[s+1].y+this.sharpness*(this.centers[s+1].y+g),z:(1-this.sharpness)*this.points[s+1].z+this.sharpness*(this.centers[s+1].z+y)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}return e.prototype.cacheSteps=function(i){var s=[],a=this.pos(0);s.push(0);for(var c=0;c<this.duration;c+=10){var h=this.pos(c);Math.sqrt((h.x-a.x)*(h.x-a.x)+(h.y-a.y)*(h.y-a.y)+(h.z-a.z)*(h.z-a.z))>i&&(s.push(c),a=h)}return s},e.prototype.vector=function(i){var s=this.pos(i+10),a=this.pos(i-10);return{angle:180*Math.atan2(s.y-a.y,s.x-a.x)/3.14,speed:Math.sqrt((a.x-s.x)*(a.x-s.x)+(a.y-s.y)*(a.y-s.y)+(a.z-s.z)*(a.z-s.z))}},e.prototype.pos=function(i){var s=i-this.delay;s<0&&(s=0),s>this.duration&&(s=this.duration-1);var a=s/this.duration;if(a>=1)return this.points[this.length-1];var c=Math.floor((this.points.length-1)*a);return function(h,g,y,w,x){var T=function(E){var P=E*E;return[P*E,3*P*(1-E),3*E*(1-E)*(1-E),(1-E)*(1-E)*(1-E)]}(h);return{x:x.x*T[0]+w.x*T[1]+y.x*T[2]+g.x*T[3],y:x.y*T[0]+w.y*T[1]+y.y*T[2]+g.y*T[3],z:x.z*T[0]+w.z*T[1]+y.z*T[2]+g.z*T[3]}}((this.length-1)*a-c,this.points[c],this.controls[c][1],this.controls[c+1][0],this.points[c+1])},e}();function Pm(e,i){i===void 0&&(i={});for(var s=i.resolution||1e4,a=i.sharpness||.85,c=[],h=ht(e).coordinates.map(function(x){return{x:x[0],y:x[1]}}),g=new Cm({duration:s,points:h,sharpness:a}),y=function(x){var T=g.pos(x);Math.floor(x/100)%2==0&&c.push([T.x,T.y])},w=0;w<g.duration;w+=10)y(w);return y(g.duration),k(c,i.properties)}function Gp(e,i){i===void 0&&(i={});var s=Number(e[0]),a=Number(e[1]),c=Number(e[2]),h=Number(e[3]);if(e.length===6)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var g=[s,a];return v([[g,[c,a],[c,h],[s,h],g]],i.properties,{bbox:e,id:i.id})}function qh(e){return Gp(Dt(e))}function Mm(e){var i=e[0],s=e[1],a=e[2],c=e[3];if(ir(e.slice(0,2),[a,s])>=ir(e.slice(0,2),[i,c])){var h=(s+c)/2;return[i,h-(a-i)/2,a,h+(a-i)/2]}var g=(i+a)/2;return[g-(c-s)/2,s,g+(c-s)/2,c]}function $i(e,i,s,a){a===void 0&&(a={});var c=R(e),h=ot(c[0]),g=ot(c[1]),y=ot(s),w=Z(i,a.units),x=Math.asin(Math.sin(g)*Math.cos(w)+Math.cos(g)*Math.sin(w)*Math.cos(y));return f([ft(h+Math.atan2(Math.sin(y)*Math.sin(w)*Math.cos(g),Math.cos(w)-Math.sin(g)*Math.sin(x))),ft(x)],a.properties)}function qp(e,i,s){s===void 0&&(s={});for(var a=s.steps||64,c=s.properties?s.properties:!Array.isArray(e)&&e.type==="Feature"&&e.properties?e.properties:{},h=[],g=0;g<a;g++)h.push($i(e,i,-360*g/a,s).geometry.coordinates);return h.push(h[0]),v([h],c)}function Cs(e,i,s){if(s===void 0&&(s={}),s.final===!0)return function(E,P){var z=Cs(P,E);return z=(z+180)%360}(e,i);var a=R(e),c=R(i),h=ot(a[0]),g=ot(c[0]),y=ot(a[1]),w=ot(c[1]),x=Math.sin(g-h)*Math.cos(w),T=Math.cos(y)*Math.sin(w)-Math.sin(y)*Math.cos(w)*Math.cos(g-h);return ft(Math.atan2(x,T))}function os(e,i){i===void 0&&(i={});var s=Dt(e);return f([(s[0]+s[2])/2,(s[1]+s[3])/2],i.properties,i)}function na(e,i){i===void 0&&(i={});var s=0,a=0,c=0;return Ct(e,function(h){s+=h[0],a+=h[1],c++},!0),f([s/c,a/c],i.properties)}function Nu(e){var i=[];return e.type==="FeatureCollection"?bt(e,function(s){Ct(s,function(a){i.push(f(a,s.properties))})}):Ct(e,function(s){i.push(f(s,e.properties))}),M(i)}var Vh=Du,$y=Du;function Du(e,i,s){s=s||2;var a,c,h,g,y,w,x,T=i&&i.length,E=T?i[0]*s:e.length,P=Vp(e,0,E,s,!0),z=[];if(!P)return z;if(T&&(P=function(B,A,Y,it){var D,W,X,tt=[];for(D=0,W=A.length;D<W;D++)(X=Vp(B,A[D]*it,D<W-1?A[D+1]*it:B.length,it,!1))===X.next&&(X.steiner=!0),tt.push(ju(X));for(tt.sort(Wh),D=0;D<tt.length;D++)Sl(tt[D],Y),Y=Fu(Y,Y.next);return Y}(e,i,P,s)),e.length>80*s){a=h=e[0],c=g=e[1];for(var N=s;N<E;N+=s)(y=e[N])<a&&(a=y),(w=e[N+1])<c&&(c=w),y>h&&(h=y),w>g&&(g=w);x=(x=Math.max(h-a,g-c))!==0?1/x:0}return Bu(P,z,s,a,c,x),z}function Vp(e,i,s,a,c){var h,g;if(c===wo(e,i,s,a)>0)for(h=i;h<s;h+=a)g=Om(h,e[h],e[h+1],g);else for(h=s-a;h>=i;h-=a)g=Om(h,e[h],e[h+1],g);return g&&Cl(g,g.next)&&(Ec(g),g=g.next),g}function Fu(e,i){if(!e)return e;i||(i=e);var s,a=e;do if(s=!1,a.steiner||!Cl(a,a.next)&&un(a.prev,a,a.next)!==0)a=a.next;else{if(Ec(a),(a=i=a.prev)===a.next)break;s=!0}while(s||a!==i);return i}function Bu(e,i,s,a,c,h,g){if(e){!g&&h&&function(T,E,P,z){var N=T;do N.z===null&&(N.z=Zp(N.x,N.y,E,P,z)),N.prevZ=N.prev,N.nextZ=N.next,N=N.next;while(N!==T);N.prevZ.nextZ=null,N.prevZ=null,function(B){var A,Y,it,D,W,X,tt,Q,zt=1;do{for(Y=B,B=null,W=null,X=0;Y;){for(X++,it=Y,tt=0,A=0;A<zt&&(tt++,it=it.nextZ);A++);for(Q=zt;tt>0||Q>0&&it;)tt!==0&&(Q===0||!it||Y.z<=it.z)?(D=Y,Y=Y.nextZ,tt--):(D=it,it=it.nextZ,Q--),W?W.nextZ=D:B=D,D.prevZ=W,W=D;Y=it}W.nextZ=null,zt*=2}while(X>1)}(N)}(e,a,c,h);for(var y,w,x=e;e.prev!==e.next;)if(y=e.prev,w=e.next,h?tb(e,a,c,h):Wp(e))i.push(y.i/s),i.push(e.i/s),i.push(w.i/s),Ec(e),e=w.next,x=w.next;else if((e=w)===x){g?g===1?Bu(e=Im(e,i,s),i,s,a,c,h,2):g===2&&Lm(e,i,s,a,c,h):Bu(Fu(e),i,s,a,c,h,1);break}}}function Wp(e){var i=e.prev,s=e,a=e.next;if(un(i,s,a)>=0)return!1;for(var c=e.next.next;c!==e.prev;){if(kn(i.x,i.y,s.x,s.y,a.x,a.y,c.x,c.y)&&un(c.prev,c,c.next)>=0)return!1;c=c.next}return!0}function tb(e,i,s,a){var c=e.prev,h=e,g=e.next;if(un(c,h,g)>=0)return!1;for(var y=c.x<h.x?c.x<g.x?c.x:g.x:h.x<g.x?h.x:g.x,w=c.y<h.y?c.y<g.y?c.y:g.y:h.y<g.y?h.y:g.y,x=c.x>h.x?c.x>g.x?c.x:g.x:h.x>g.x?h.x:g.x,T=c.y>h.y?c.y>g.y?c.y:g.y:h.y>g.y?h.y:g.y,E=Zp(y,w,i,s,a),P=Zp(x,T,i,s,a),z=e.prevZ,N=e.nextZ;z&&z.z>=E&&N&&N.z<=P;){if(z!==e.prev&&z!==e.next&&kn(c.x,c.y,h.x,h.y,g.x,g.y,z.x,z.y)&&un(z.prev,z,z.next)>=0||(z=z.prevZ,N!==e.prev&&N!==e.next&&kn(c.x,c.y,h.x,h.y,g.x,g.y,N.x,N.y)&&un(N.prev,N,N.next)>=0))return!1;N=N.nextZ}for(;z&&z.z>=E;){if(z!==e.prev&&z!==e.next&&kn(c.x,c.y,h.x,h.y,g.x,g.y,z.x,z.y)&&un(z.prev,z,z.next)>=0)return!1;z=z.prevZ}for(;N&&N.z<=P;){if(N!==e.prev&&N!==e.next&&kn(c.x,c.y,h.x,h.y,g.x,g.y,N.x,N.y)&&un(N.prev,N,N.next)>=0)return!1;N=N.nextZ}return!0}function Im(e,i,s){var a=e;do{var c=a.prev,h=a.next.next;!Cl(c,h)&&Zh(c,a,a.next,h)&&Pl(c,h)&&Pl(h,c)&&(i.push(c.i/s),i.push(a.i/s),i.push(h.i/s),Ec(a),Ec(a.next),a=e=h),a=a.next}while(a!==e);return a}function Lm(e,i,s,a,c,h){var g=e;do{for(var y=g.next.next;y!==g.prev;){if(g.i!==y.i&&Rm(g,y)){var w=Am(g,y);return g=Fu(g,g.next),w=Fu(w,w.next),Bu(g,i,s,a,c,h),void Bu(w,i,s,a,c,h)}y=y.next}g=g.next}while(g!==e)}function Wh(e,i){return e.x-i.x}function Sl(e,i){if(i=function(a,c){var h,g=c,y=a.x,w=a.y,x=-1/0;do{if(w<=g.y&&w>=g.next.y&&g.next.y!==g.y){var T=g.x+(w-g.y)*(g.next.x-g.x)/(g.next.y-g.y);if(T<=y&&T>x){if(x=T,T===y){if(w===g.y)return g;if(w===g.next.y)return g.next}h=g.x<g.next.x?g:g.next}}g=g.next}while(g!==c);if(!h)return null;if(y===x)return h.prev;var E,P=h,z=h.x,N=h.y,B=1/0;for(g=h.next;g!==P;)y>=g.x&&g.x>=z&&y!==g.x&&kn(w<N?y:x,w,z,N,w<N?x:y,w,g.x,g.y)&&((E=Math.abs(w-g.y)/(y-g.x))<B||E===B&&g.x>h.x)&&Pl(g,a)&&(h=g,B=E),g=g.next;return h}(e,i)){var s=Am(i,e);Fu(s,s.next)}}function Zp(e,i,s,a,c){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-s)*c)|e<<8))|e<<4))|e<<2))|e<<1))|(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=32767*(i-a)*c)|i<<8))|i<<4))|i<<2))|i<<1))<<1}function ju(e){var i=e,s=e;do i.x<s.x&&(s=i),i=i.next;while(i!==e);return s}function kn(e,i,s,a,c,h,g,y){return(c-g)*(i-y)-(e-g)*(h-y)>=0&&(e-g)*(a-y)-(s-g)*(i-y)>=0&&(s-g)*(h-y)-(c-g)*(a-y)>=0}function Rm(e,i){return e.next.i!==i.i&&e.prev.i!==i.i&&!function(s,a){var c=s;do{if(c.i!==s.i&&c.next.i!==s.i&&c.i!==a.i&&c.next.i!==a.i&&Zh(c,c.next,s,a))return!0;c=c.next}while(c!==s);return!1}(e,i)&&Pl(e,i)&&Pl(i,e)&&function(s,a){var c=s,h=!1,g=(s.x+a.x)/2,y=(s.y+a.y)/2;do c.y>y!=c.next.y>y&&c.next.y!==c.y&&g<(c.next.x-c.x)*(y-c.y)/(c.next.y-c.y)+c.x&&(h=!h),c=c.next;while(c!==s);return h}(e,i)}function un(e,i,s){return(i.y-e.y)*(s.x-i.x)-(i.x-e.x)*(s.y-i.y)}function Cl(e,i){return e.x===i.x&&e.y===i.y}function Zh(e,i,s,a){return!!(Cl(e,i)&&Cl(s,a)||Cl(e,a)&&Cl(s,i))||un(e,i,s)>0!=un(e,i,a)>0&&un(s,a,e)>0!=un(s,a,i)>0}function Pl(e,i){return un(e.prev,e,e.next)<0?un(e,i,e.next)>=0&&un(e,e.prev,i)>=0:un(e,i,e.prev)<0||un(e,e.next,i)<0}function Am(e,i){var s=new Yp(e.i,e.x,e.y),a=new Yp(i.i,i.x,i.y),c=e.next,h=i.prev;return e.next=i,i.prev=e,s.next=c,c.prev=s,a.next=s,s.prev=a,h.next=a,a.prev=h,a}function Om(e,i,s,a){var c=new Yp(e,i,s);return a?(c.next=a.next,c.prev=a,a.next.prev=c,a.next=c):(c.prev=c,c.next=c),c}function Ec(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Yp(e,i,s){this.i=e,this.x=i,this.y=s,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function wo(e,i,s,a){for(var c=0,h=i,g=s-a;h<s;h+=a)c+=(e[g]-e[h])*(e[h+1]+e[g+1]),g=h;return c}function Ml(e){var i=function(y){for(var w=y[0][0].length,x={vertices:[],holes:[],dimensions:w},T=0,E=0;E<y.length;E++){for(var P=0;P<y[E].length;P++)for(var z=0;z<w;z++)x.vertices.push(y[E][P][z]);E>0&&(T+=y[E-1].length,x.holes.push(T))}return x}(e),s=Vh(i.vertices,i.holes,2),a=[],c=[];s.forEach(function(y,w){var x=s[w];c.push([i.vertices[2*x],i.vertices[2*x+1]])});for(var h=0;h<c.length;h+=3){var g=c.slice(h,h+3);g.push(c[h]),a.push(v([g]))}return a}function Yh(e,i){if(!e)throw new Error("targetPoint is required");if(!i)throw new Error("points is required");var s,a=1/0,c=0;return bt(i,function(h,g){var y=ir(e,h);y<a&&(c=g,a=y)}),(s=Si(i.features[c])).properties.featureIndex=c,s.properties.distanceToPoint=a,s}function Vn(e){if(!e)throw new Error("geojson is required");var i=[];return ae(e,function(s){(function(a,c){var h=[],g=a.geometry;if(g!==null){switch(g.type){case"Polygon":h=j(g);break;case"LineString":h=[j(g)]}h.forEach(function(y){(function(w,x){var T=[];return w.reduce(function(E,P){var z=k([E,P],x);return z.bbox=function(N,B){var A=N[0],Y=N[1],it=B[0],D=B[1];return[A<it?A:it,Y<D?Y:D,A>it?A:it,Y>D?Y:D]}(E,P),T.push(z),P}),T})(y,a.properties).forEach(function(w){w.id=c.length,c.push(w)})})}})(s,i)}),M(i)}Du.deviation=function(e,i,s,a){var c=i&&i.length,h=c?i[0]*s:e.length,g=Math.abs(wo(e,0,h,s));if(c)for(var y=0,w=i.length;y<w;y++){var x=i[y]*s,T=y<w-1?i[y+1]*s:e.length;g-=Math.abs(wo(e,x,T,s))}var E=0;for(y=0;y<a.length;y+=3){var P=a[y]*s,z=a[y+1]*s,N=a[y+2]*s;E+=Math.abs((e[P]-e[N])*(e[z+1]-e[P+1])-(e[P]-e[z])*(e[N+1]-e[P+1]))}return g===0&&E===0?0:Math.abs((E-g)/g)},Du.flatten=function(e){for(var i=e[0][0].length,s={vertices:[],holes:[],dimensions:i},a=0,c=0;c<e.length;c++){for(var h=0;h<e[c].length;h++)for(var g=0;g<i;g++)s.vertices.push(e[c][h][g]);c>0&&(a+=e[c-1].length,s.holes.push(a))}return s},Vh.default=$y;var hn=is(function(e,i){function s(N,B,A){A===void 0&&(A={});var Y={type:"Feature"};return(A.id===0||A.id)&&(Y.id=A.id),A.bbox&&(Y.bbox=A.bbox),Y.properties=B||{},Y.geometry=N,Y}function a(N,B,A){if(A===void 0&&(A={}),!N)throw new Error("coordinates is required");if(!Array.isArray(N))throw new Error("coordinates must be an Array");if(N.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!z(N[0])||!z(N[1]))throw new Error("coordinates must contain numbers");return s({type:"Point",coordinates:N},B,A)}function c(N,B,A){A===void 0&&(A={});for(var Y=0,it=N;Y<it.length;Y++){var D=it[Y];if(D.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var W=0;W<D[D.length-1].length;W++)if(D[D.length-1][W]!==D[0][W])throw new Error("First and last Position are not equivalent.")}return s({type:"Polygon",coordinates:N},B,A)}function h(N,B,A){if(A===void 0&&(A={}),N.length<2)throw new Error("coordinates must be an array of two or more positions");return s({type:"LineString",coordinates:N},B,A)}function g(N,B){B===void 0&&(B={});var A={type:"FeatureCollection"};return B.id&&(A.id=B.id),B.bbox&&(A.bbox=B.bbox),A.features=N,A}function y(N,B,A){return A===void 0&&(A={}),s({type:"MultiLineString",coordinates:N},B,A)}function w(N,B,A){return A===void 0&&(A={}),s({type:"MultiPoint",coordinates:N},B,A)}function x(N,B,A){return A===void 0&&(A={}),s({type:"MultiPolygon",coordinates:N},B,A)}function T(N,B){B===void 0&&(B="kilometers");var A=i.factors[B];if(!A)throw new Error(B+" units is invalid");return N*A}function E(N,B){B===void 0&&(B="kilometers");var A=i.factors[B];if(!A)throw new Error(B+" units is invalid");return N/A}function P(N){return 180*(N%(2*Math.PI))/Math.PI}function z(N){return!isNaN(N)&&N!==null&&!Array.isArray(N)}Object.defineProperty(i,"__esModule",{value:!0}),i.earthRadius=63710088e-1,i.factors={centimeters:100*i.earthRadius,centimetres:100*i.earthRadius,degrees:i.earthRadius/111325,feet:3.28084*i.earthRadius,inches:39.37*i.earthRadius,kilometers:i.earthRadius/1e3,kilometres:i.earthRadius/1e3,meters:i.earthRadius,metres:i.earthRadius,miles:i.earthRadius/1609.344,millimeters:1e3*i.earthRadius,millimetres:1e3*i.earthRadius,nauticalmiles:i.earthRadius/1852,radians:1,yards:1.0936*i.earthRadius},i.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/i.earthRadius,yards:1.0936133},i.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},i.feature=s,i.geometry=function(N,B,A){switch(N){case"Point":return a(B).geometry;case"LineString":return h(B).geometry;case"Polygon":return c(B).geometry;case"MultiPoint":return w(B).geometry;case"MultiLineString":return y(B).geometry;case"MultiPolygon":return x(B).geometry;default:throw new Error(N+" is invalid")}},i.point=a,i.points=function(N,B,A){return A===void 0&&(A={}),g(N.map(function(Y){return a(Y,B)}),A)},i.polygon=c,i.polygons=function(N,B,A){return A===void 0&&(A={}),g(N.map(function(Y){return c(Y,B)}),A)},i.lineString=h,i.lineStrings=function(N,B,A){return A===void 0&&(A={}),g(N.map(function(Y){return h(Y,B)}),A)},i.featureCollection=g,i.multiLineString=y,i.multiPoint=w,i.multiPolygon=x,i.geometryCollection=function(N,B,A){return A===void 0&&(A={}),s({type:"GeometryCollection",geometries:N},B,A)},i.round=function(N,B){if(B===void 0&&(B=0),B&&!(B>=0))throw new Error("precision must be a positive number");var A=Math.pow(10,B||0);return Math.round(N*A)/A},i.radiansToLength=T,i.lengthToRadians=E,i.lengthToDegrees=function(N,B){return P(E(N,B))},i.bearingToAzimuth=function(N){var B=N%360;return B<0&&(B+=360),B},i.radiansToDegrees=P,i.degreesToRadians=function(N){return N%360*Math.PI/180},i.convertLength=function(N,B,A){if(B===void 0&&(B="kilometers"),A===void 0&&(A="kilometers"),!(N>=0))throw new Error("length must be a positive number");return T(E(N,B),A)},i.convertArea=function(N,B,A){if(B===void 0&&(B="meters"),A===void 0&&(A="kilometers"),!(N>=0))throw new Error("area must be a positive number");var Y=i.areaFactors[B];if(!Y)throw new Error("invalid original units");var it=i.areaFactors[A];if(!it)throw new Error("invalid final units");return N/Y*it},i.isNumber=z,i.isObject=function(N){return!!N&&N.constructor===Object},i.validateBBox=function(N){if(!N)throw new Error("bbox is required");if(!Array.isArray(N))throw new Error("bbox must be an Array");if(N.length!==4&&N.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");N.forEach(function(B){if(!z(B))throw new Error("bbox must only contain numbers")})},i.validateId=function(N){if(!N)throw new Error("id is required");if(["string","number"].indexOf(typeof N)===-1)throw new Error("id must be a number or a string")}});function Ps(e,i,s){if(e!==null)for(var a,c,h,g,y,w,x,T,E=0,P=0,z=e.type,N=z==="FeatureCollection",B=z==="Feature",A=N?e.features.length:1,Y=0;Y<A;Y++){y=(T=!!(x=N?e.features[Y].geometry:B?e.geometry:e)&&x.type==="GeometryCollection")?x.geometries.length:1;for(var it=0;it<y;it++){var D=0,W=0;if((g=T?x.geometries[it]:x)!==null){w=g.coordinates;var X=g.type;switch(E=!s||X!=="Polygon"&&X!=="MultiPolygon"?0:1,X){case null:break;case"Point":if(i(w,P,Y,D,W)===!1)return!1;P++,D++;break;case"LineString":case"MultiPoint":for(a=0;a<w.length;a++){if(i(w[a],P,Y,D,W)===!1)return!1;P++,X==="MultiPoint"&&D++}X==="LineString"&&D++;break;case"Polygon":case"MultiLineString":for(a=0;a<w.length;a++){for(c=0;c<w[a].length-E;c++){if(i(w[a][c],P,Y,D,W)===!1)return!1;P++}X==="MultiLineString"&&D++,X==="Polygon"&&W++}X==="Polygon"&&D++;break;case"MultiPolygon":for(a=0;a<w.length;a++){for(W=0,c=0;c<w[a].length;c++){for(h=0;h<w[a][c].length-E;h++){if(i(w[a][c][h],P,Y,D,W)===!1)return!1;P++}W++}D++}break;case"GeometryCollection":for(a=0;a<g.geometries.length;a++)if(Ps(g.geometries[a],i,s)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function zm(e,i){var s;switch(e.type){case"FeatureCollection":for(s=0;s<e.features.length&&i(e.features[s].properties,s)!==!1;s++);break;case"Feature":i(e.properties,0)}}function Tc(e,i){if(e.type==="Feature")i(e,0);else if(e.type==="FeatureCollection")for(var s=0;s<e.features.length&&i(e.features[s],s)!==!1;s++);}function Xh(e,i){var s,a,c,h,g,y,w,x,T,E,P=0,z=e.type==="FeatureCollection",N=e.type==="Feature",B=z?e.features.length:1;for(s=0;s<B;s++){for(y=z?e.features[s].geometry:N?e.geometry:e,x=z?e.features[s].properties:N?e.properties:{},T=z?e.features[s].bbox:N?e.bbox:void 0,E=z?e.features[s].id:N?e.id:void 0,g=(w=!!y&&y.type==="GeometryCollection")?y.geometries.length:1,c=0;c<g;c++)if((h=w?y.geometries[c]:y)!==null)switch(h.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(i(h,P,x,T,E)===!1)return!1;break;case"GeometryCollection":for(a=0;a<h.geometries.length;a++)if(i(h.geometries[a],P,x,T,E)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(i(null,P,x,T,E)===!1)return!1;P++}}function Il(e,i){Xh(e,function(s,a,c,h,g){var y,w=s===null?null:s.type;switch(w){case null:case"Point":case"LineString":case"Polygon":return i(hn.feature(s,c,{bbox:h,id:g}),a,0)!==!1&&void 0}switch(w){case"MultiPoint":y="Point";break;case"MultiLineString":y="LineString";break;case"MultiPolygon":y="Polygon"}for(var x=0;x<s.coordinates.length;x++){var T={type:y,coordinates:s.coordinates[x]};if(i(hn.feature(T,c),a,x)===!1)return!1}})}function Nm(e,i){Il(e,function(s,a,c){var h=0;if(s.geometry){var g=s.geometry.type;if(g!=="Point"&&g!=="MultiPoint"){var y,w=0,x=0,T=0;return Ps(s,function(E,P,z,N,B){if(y===void 0||a>w||N>x||B>T)return y=E,w=a,x=N,T=B,void(h=0);var A=hn.lineString([y,E],s.properties);if(i(A,a,c,B,h)===!1)return!1;h++,y=E})!==!1&&void 0}}})}function oa(e,i){if(!e)throw new Error("geojson is required");Il(e,function(s,a,c){if(s.geometry!==null){var h=s.geometry.type,g=s.geometry.coordinates;switch(h){case"LineString":if(i(s,a,c,0,0)===!1)return!1;break;case"Polygon":for(var y=0;y<g.length;y++)if(i(hn.lineString(g[y],s.properties),a,c,y)===!1)return!1}}})}var Kh=function(e){var i=[];return Ps(e,function(s){i.push(s)}),i},eb=Ps,Xp=function(e,i,s,a){var c=s;return Ps(e,function(h,g,y,w,x){c=g===0&&s===void 0?h:i(c,h,g,y,w,x)},a),c},rb=Tc,sa=function(e,i,s){var a=s;return Tc(e,function(c,h){a=h===0&&s===void 0?c:i(a,c,h)}),a},ib=function(e,i){if(i=i||{},!hn.isObject(i))throw new Error("options is invalid");var s,a=i.featureIndex||0,c=i.multiFeatureIndex||0,h=i.geometryIndex||0,g=i.coordIndex||0,y=i.properties;switch(e.type){case"FeatureCollection":a<0&&(a=e.features.length+a),y=y||e.features[a].properties,s=e.features[a].geometry;break;case"Feature":y=y||e.properties,s=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":s=e;break;default:throw new Error("geojson is invalid")}if(s===null)return null;var w=s.coordinates;switch(s.type){case"Point":return hn.point(w,y,i);case"MultiPoint":return c<0&&(c=w.length+c),hn.point(w[c],y,i);case"LineString":return g<0&&(g=w.length+g),hn.point(w[g],y,i);case"Polygon":return h<0&&(h=w.length+h),g<0&&(g=w[h].length+g),hn.point(w[h][g],y,i);case"MultiLineString":return c<0&&(c=w.length+c),g<0&&(g=w[c].length+g),hn.point(w[c][g],y,i);case"MultiPolygon":return c<0&&(c=w.length+c),h<0&&(h=w[c].length+h),g<0&&(g=w[c][h].length-g),hn.point(w[c][h][g],y,i)}throw new Error("geojson is invalid")},Sc=function(e,i){if(i=i||{},!hn.isObject(i))throw new Error("options is invalid");var s,a=i.featureIndex||0,c=i.multiFeatureIndex||0,h=i.geometryIndex||0,g=i.segmentIndex||0,y=i.properties;switch(e.type){case"FeatureCollection":a<0&&(a=e.features.length+a),y=y||e.features[a].properties,s=e.features[a].geometry;break;case"Feature":y=y||e.properties,s=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":s=e;break;default:throw new Error("geojson is invalid")}if(s===null)return null;var w=s.coordinates;switch(s.type){case"Point":case"MultiPoint":return null;case"LineString":return g<0&&(g=w.length+g-1),hn.lineString([w[g],w[g+1]],y,i);case"Polygon":return h<0&&(h=w.length+h),g<0&&(g=w[h].length+g-1),hn.lineString([w[h][g],w[h][g+1]],y,i);case"MultiLineString":return c<0&&(c=w.length+c),g<0&&(g=w[c].length+g-1),hn.lineString([w[c][g],w[c][g+1]],y,i);case"MultiPolygon":return c<0&&(c=w.length+c),h<0&&(h=w[c].length+h),g<0&&(g=w[c][h].length-g-1),hn.lineString([w[c][h][g],w[c][h][g+1]],y,i)}throw new Error("geojson is invalid")},nb=Il,aa=function(e,i,s){var a=s;return Il(e,function(c,h,g){a=h===0&&g===0&&s===void 0?c:i(a,c,h,g)}),a},Jh=Xh,Dm=function(e,i,s){var a=s;return Xh(e,function(c,h,g,y,w){a=h===0&&s===void 0?c:i(a,c,h,g,y,w)}),a},Kp=oa,Qh=function(e,i,s){var a=s;return oa(e,function(c,h,g,y){a=h===0&&s===void 0?c:i(a,c,h,g,y)}),a},Jp=zm,$h=function(e,i,s){var a=s;return zm(e,function(c,h){a=h===0&&s===void 0?c:i(a,c,h)}),a},Cc=Nm,td=function(e,i,s){var a=s,c=!1;return Nm(e,function(h,g,y,w,x){a=c===!1&&s===void 0?h:i(a,h,g,y,w,x),c=!0}),a},Hu=Object.defineProperty({coordAll:Kh,coordEach:eb,coordReduce:Xp,featureEach:rb,featureReduce:sa,findPoint:ib,findSegment:Sc,flattenEach:nb,flattenReduce:aa,geomEach:Jh,geomReduce:Dm,lineEach:Kp,lineReduce:Qh,propEach:Jp,propReduce:$h,segmentEach:Cc,segmentReduce:td},"__esModule",{value:!0});function ed(e){var i=[1/0,1/0,-1/0,-1/0];return Hu.coordEach(e,function(s){i[0]>s[0]&&(i[0]=s[0]),i[1]>s[1]&&(i[1]=s[1]),i[2]<s[0]&&(i[2]=s[0]),i[3]<s[1]&&(i[3]=s[1])}),i}ed.default=ed;var ob=ed,la=Object.defineProperty({default:ob},"__esModule",{value:!0}).default,sb=Hu.featureEach,Qp=(Hu.coordEach,hn.polygon,hn.featureCollection);function Fm(e){var i=Ji(e);return i.insert=function(s){if(s.type!=="Feature")throw new Error("invalid feature");return s.bbox=s.bbox?s.bbox:la(s),Ji.prototype.insert.call(this,s)},i.load=function(s){var a=[];return Array.isArray(s)?s.forEach(function(c){if(c.type!=="Feature")throw new Error("invalid features");c.bbox=c.bbox?c.bbox:la(c),a.push(c)}):sb(s,function(c){if(c.type!=="Feature")throw new Error("invalid features");c.bbox=c.bbox?c.bbox:la(c),a.push(c)}),Ji.prototype.load.call(this,a)},i.remove=function(s,a){if(s.type!=="Feature")throw new Error("invalid feature");return s.bbox=s.bbox?s.bbox:la(s),Ji.prototype.remove.call(this,s,a)},i.clear=function(){return Ji.prototype.clear.call(this)},i.search=function(s){var a=Ji.prototype.search.call(this,this.toBBox(s));return Qp(a)},i.collides=function(s){return Ji.prototype.collides.call(this,this.toBBox(s))},i.all=function(){var s=Ji.prototype.all.call(this);return Qp(s)},i.toJSON=function(){return Ji.prototype.toJSON.call(this)},i.fromJSON=function(s){return Ji.prototype.fromJSON.call(this,s)},i.toBBox=function(s){var a;if(s.bbox)a=s.bbox;else if(Array.isArray(s)&&s.length===4)a=s;else if(Array.isArray(s)&&s.length===6)a=[s[0],s[1],s[3],s[4]];else if(s.type==="Feature")a=la(s);else{if(s.type!=="FeatureCollection")throw new Error("invalid geojson");a=la(s)}return{minX:a[0],minY:a[1],maxX:a[2],maxY:a[3]}},i}var Pc=Fm,ab=Fm;function dn(e,i){var s={},a=[];if(e.type==="LineString"&&(e=u(e)),i.type==="LineString"&&(i=u(i)),e.type==="Feature"&&i.type==="Feature"&&e.geometry!==null&&i.geometry!==null&&e.geometry.type==="LineString"&&i.geometry.type==="LineString"&&e.geometry.coordinates.length===2&&i.geometry.coordinates.length===2){var c=Uu(e,i);return c&&a.push(c),M(a)}var h=Pc();return h.load(Vn(i)),bt(Vn(e),function(g){bt(h.search(g),function(y){var w=Uu(g,y);if(w){var x=j(w).join(",");s[x]||(s[x]=!0,a.push(w))}})}),M(a)}function Uu(e,i){var s=j(e),a=j(i);if(s.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(a.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var c=s[0][0],h=s[0][1],g=s[1][0],y=s[1][1],w=a[0][0],x=a[0][1],T=a[1][0],E=a[1][1],P=(E-x)*(g-c)-(T-w)*(y-h),z=(T-w)*(h-x)-(E-x)*(c-w),N=(g-c)*(h-x)-(y-h)*(c-w);if(P===0)return null;var B=z/P,A=N/P;return B>=0&&B<=1&&A>=0&&A<=1?f([c+B*(g-c),h+B*(y-h)]):null}function ca(e,i,s){s===void 0&&(s={});var a=f([1/0,1/0],{dist:1/0}),c=0;return ae(e,function(h){for(var g=j(h),y=0;y<g.length-1;y++){var w=f(g[y]);w.properties.dist=ir(i,w,s);var x=f(g[y+1]);x.properties.dist=ir(i,x,s);var T=ir(w,x,s),E=Math.max(w.properties.dist,x.properties.dist),P=Cs(w,x),z=$i(i,E,P+90,s),N=$i(i,E,P-90,s),B=dn(k([z.geometry.coordinates,N.geometry.coordinates]),k([w.geometry.coordinates,x.geometry.coordinates])),A=null;B.features.length>0&&((A=B.features[0]).properties.dist=ir(i,A,s),A.properties.location=c+ir(w,A,s)),w.properties.dist<a.properties.dist&&((a=w).properties.index=y,a.properties.location=c),x.properties.dist<a.properties.dist&&((a=x).properties.index=y+1,a.properties.location=c+T),A&&A.properties.dist<a.properties.dist&&((a=A).properties.index=y),c+=T}}),a}function Ll(e,i,s){s===void 0&&(s={});var a=R(e),c=R(i);return c[0]+=c[0]-a[0]>180?-360:a[0]-c[0]>180?360:0,V(function(h,g,y){var w=y=y===void 0?r:Number(y),x=h[1]*Math.PI/180,T=g[1]*Math.PI/180,E=T-x,P=Math.abs(g[0]-h[0])*Math.PI/180;P>Math.PI&&(P-=2*Math.PI);var z=Math.log(Math.tan(T/2+Math.PI/4)/Math.tan(x/2+Math.PI/4)),N=Math.abs(z)>1e-11?E/z:Math.cos(x);return Math.sqrt(E*E+N*N*P*P)*w}(a,c),"meters",s.units)}function Bm(e,i,s){if(s===void 0&&(s={}),s.method||(s.method="geodesic"),s.units||(s.units="kilometers"),!e)throw new Error("pt is required");if(Array.isArray(e)?e=f(e):e.type==="Point"?e=u(e):dt(e,"Point","point"),!i)throw new Error("line is required");Array.isArray(i)?i=k(i):i.type==="LineString"?i=u(i):dt(i,"LineString","line");var a=1/0,c=e.geometry.coordinates;return rr(i,function(h){var g=h.geometry.coordinates[0],y=h.geometry.coordinates[1],w=function(x,T,E,P){var z=[E[0]-T[0],E[1]-T[1]],N=$p([x[0]-T[0],x[1]-T[1]],z);if(N<=0)return tf(x,T,{method:P.method,units:"degrees"});var B=$p(z,z);if(B<=N)return tf(x,E,{method:P.method,units:"degrees"});var A=N/B,Y=[T[0]+A*z[0],T[1]+A*z[1]];return tf(x,Y,{method:P.method,units:"degrees"})}(c,g,y,s);w<a&&(a=w)}),V(a,"degrees",s.units)}function $p(e,i){return e[0]*i[0]+e[1]*i[1]}function tf(e,i,s){return s.method==="planar"?Ll(e,i,s):ir(e,i,s)}function Gu(e,i,s,a,c,h,g,y){var w,x,T,E,P={x:null,y:null,onLine1:!1,onLine2:!1};return(w=(y-h)*(s-e)-(g-c)*(a-i))===0?P.x!==null&&P.y!==null&&P:(E=(s-e)*(x=i-h)-(a-i)*(T=e-c),x=((g-c)*x-(y-h)*T)/w,T=E/w,P.x=e+x*(s-e),P.y=i+x*(a-i),x>=0&&x<=1&&(P.onLine1=!0),T>=0&&T<=1&&(P.onLine2=!0),!(!P.onLine1||!P.onLine2)&&[P.x,P.y])}function jm(e){for(var i=function(P){return P.type!=="FeatureCollection"?P.type!=="Feature"?M([u(P)]):M([P]):P}(e),s=os(i),a=!1,c=0;!a&&c<i.features.length;){var h,g=i.features[c].geometry,y=!1;if(g.type==="Point")s.geometry.coordinates[0]===g.coordinates[0]&&s.geometry.coordinates[1]===g.coordinates[1]&&(a=!0);else if(g.type==="MultiPoint"){var w=!1;for(h=0;!w&&h<g.coordinates.length;)s.geometry.coordinates[0]===g.coordinates[h][0]&&s.geometry.coordinates[1]===g.coordinates[h][1]&&(a=!0,w=!0),h++}else if(g.type==="LineString")for(h=0;!y&&h<g.coordinates.length-1;)Rl(s.geometry.coordinates[0],s.geometry.coordinates[1],g.coordinates[h][0],g.coordinates[h][1],g.coordinates[h+1][0],g.coordinates[h+1][1])&&(y=!0,a=!0),h++;else if(g.type==="MultiLineString")for(var x=0;x<g.coordinates.length;){y=!1,h=0;for(var T=g.coordinates[x];!y&&h<T.length-1;)Rl(s.geometry.coordinates[0],s.geometry.coordinates[1],T[h][0],T[h][1],T[h+1][0],T[h+1][1])&&(y=!0,a=!0),h++;x++}else g.type!=="Polygon"&&g.type!=="MultiPolygon"||Je(s,g)&&(a=!0);c++}if(a)return s;var E=M([]);for(c=0;c<i.features.length;c++)E.features=E.features.concat(Nu(i.features[c]).features);return f(Yh(s,E).geometry.coordinates)}function Rl(e,i,s,a,c,h){return Math.sqrt((c-s)*(c-s)+(h-a)*(h-a))===Math.sqrt((e-s)*(e-s)+(i-a)*(i-a))+Math.sqrt((c-e)*(c-e)+(h-i)*(h-i))}Pc.default=ab;var ef=6378137;function rd(e){return pe(e,function(i,s){return i+function(a){var c,h=0;switch(a.type){case"Polygon":return Hm(a.coordinates);case"MultiPolygon":for(c=0;c<a.coordinates.length;c++)h+=Hm(a.coordinates[c]);return h;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(s)},0)}function Hm(e){var i=0;if(e&&e.length>0){i+=Math.abs(Ms(e[0]));for(var s=1;s<e.length;s++)i-=Math.abs(Ms(e[s]))}return i}function Ms(e){var i,s,a,c,h,g,y=0,w=e.length;if(w>2){for(g=0;g<w;g++)g===w-2?(a=w-2,c=w-1,h=0):g===w-1?(a=w-1,c=0,h=1):(a=g,c=g+1,h=g+2),i=e[a],s=e[c],y+=(id(e[h][0])-id(i[0]))*Math.sin(id(s[1]));y=y*ef*ef/2}return y}function id(e){return e*Math.PI/180}function nd(e,i){return i===void 0&&(i={}),mr(e,function(s,a){var c=a.geometry.coordinates;return s+ir(c[0],c[1],i)},0)}function Mc(e,i,s,a){if(!gt(a=a||{}))throw new Error("options is invalid");var c,h=[];if(e.type==="Feature")c=e.geometry.coordinates;else{if(e.type!=="LineString")throw new Error("input must be a LineString Feature or Geometry");c=e.coordinates}for(var g,y,w,x=c.length,T=0,E=0;E<c.length&&!(i>=T&&E===c.length-1);E++){if(T>i&&h.length===0){if(!(g=i-T))return h.push(c[E]),k(h);y=Cs(c[E],c[E-1])-180,w=$i(c[E],g,y,a),h.push(w.geometry.coordinates)}if(T>=s)return(g=s-T)?(y=Cs(c[E],c[E-1])-180,w=$i(c[E],g,y,a),h.push(w.geometry.coordinates),k(h)):(h.push(c[E]),k(h));if(T>=i&&h.push(c[E]),E===c.length-1)return k(h);T+=ir(c[E],c[E+1],a)}if(T<i&&c.length===x)throw new Error("Start position is beyond line");var P=c[c.length-1];return k([P,P])}function ro(e,i,s){s===void 0&&(s={});for(var a=R(e),c=j(i),h=0;h<c.length-1;h++){var g=!1;if(s.ignoreEndVertices&&(h===0&&(g="start"),h===c.length-2&&(g="end"),h===0&&h+1===c.length-1&&(g="both")),od(c[h],c[h+1],a,g,s.epsilon===void 0?null:s.epsilon))return!0}return!1}function od(e,i,s,a,c){var h=s[0],g=s[1],y=e[0],w=e[1],x=i[0],T=i[1],E=x-y,P=T-w,z=(s[0]-y)*P-(s[1]-w)*E;if(c!==null){if(Math.abs(z)>c)return!1}else if(z!==0)return!1;return a?a==="start"?Math.abs(E)>=Math.abs(P)?E>0?y<h&&h<=x:x<=h&&h<y:P>0?w<g&&g<=T:T<=g&&g<w:a==="end"?Math.abs(E)>=Math.abs(P)?E>0?y<=h&&h<x:x<h&&h<=y:P>0?w<=g&&g<T:T<g&&g<=w:a==="both"&&(Math.abs(E)>=Math.abs(P)?E>0?y<h&&h<x:x<h&&h<y:P>0?w<g&&g<T:T<g&&g<w):Math.abs(E)>=Math.abs(P)?E>0?y<=h&&h<=x:x<=h&&h<=y:P>0?w<=g&&g<=T:T<=g&&g<=w}function Ic(e,i){var s=ht(e),a=ht(i),c=s.type,h=a.type;switch(c){case"Point":switch(h){case"MultiPoint":return function(g,y){var w,x=!1;for(w=0;w<y.coordinates.length;w++)if(nf(y.coordinates[w],g.coordinates)){x=!0;break}return x}(s,a);case"LineString":return ro(s,a,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return Je(s,a,{ignoreBoundary:!0});default:throw new Error("feature2 "+h+" geometry not supported")}case"MultiPoint":switch(h){case"MultiPoint":return function(g,y){for(var w=0;w<g.coordinates.length;w++){for(var x=!1,T=0;T<y.coordinates.length;T++)nf(g.coordinates[w],y.coordinates[T])&&(x=!0);if(!x)return!1}return!0}(s,a);case"LineString":return function(g,y){for(var w=!1,x=0;x<g.coordinates.length;x++){if(!ro(g.coordinates[x],y))return!1;w||(w=ro(g.coordinates[x],y,{ignoreEndVertices:!0}))}return w}(s,a);case"Polygon":case"MultiPolygon":return function(g,y){for(var w=!0,x=!1,T=0;T<g.coordinates.length;T++){if(!(x=Je(g.coordinates[1],y))){w=!1;break}x=Je(g.coordinates[1],y,{ignoreBoundary:!0})}return w&&x}(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}case"LineString":switch(h){case"LineString":return function(g,y){for(var w=0;w<g.coordinates.length;w++)if(!ro(g.coordinates[w],y))return!1;return!0}(s,a);case"Polygon":case"MultiPolygon":return function(g,y){var w=Dt(y),x=Dt(g);if(!rf(w,x))return!1;for(var T=!1,E=0;E<g.coordinates.length-1;E++){if(!Je(g.coordinates[E],y))return!1;T||(T=Je(g.coordinates[E],y,{ignoreBoundary:!0})),!T&&(T=Je(lb(g.coordinates[E],g.coordinates[E+1]),y,{ignoreBoundary:!0}))}return T}(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}case"Polygon":switch(h){case"Polygon":case"MultiPolygon":return function(g,y){var w=Dt(g);if(!rf(Dt(y),w))return!1;for(var x=0;x<g.coordinates[0].length;x++)if(!Je(g.coordinates[0][x],y))return!1;return!0}(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}default:throw new Error("feature1 "+c+" geometry not supported")}}function rf(e,i){return!(e[0]>i[0])&&!(e[2]<i[2])&&!(e[1]>i[1])&&!(e[3]<i[3])}function nf(e,i){return e[0]===i[0]&&e[1]===i[1]}function lb(e,i){return[(e[0]+i[0])/2,(e[1]+i[1])/2]}function of(e,i,s){s===void 0&&(s={}),s.mask&&!s.units&&(s.units="kilometers");for(var a=[],c=e[0],h=e[1],g=e[2],y=e[3],w=i/ir([c,h],[g,h],s)*(g-c),x=i/ir([c,h],[c,y],s)*(y-h),T=g-c,E=y-h,P=Math.floor(T/w),z=(E-Math.floor(E/x)*x)/2,N=c+(T-P*w)/2;N<=g;){for(var B=h+z;B<=y;){var A=f([N,B],s.properties);s.mask?Ic(A,s.mask)&&a.push(A):a.push(A),B+=x}N+=w}return M(a)}function sf(e,i){i===void 0&&(i={});var s=i.precision,a=i.coordinates,c=i.mutate;if(s=s==null||isNaN(s)?6:s,a=a==null||isNaN(a)?3:a,!e)throw new Error("<geojson> is required");if(typeof s!="number")throw new Error("<precision> must be a number");if(typeof a!="number")throw new Error("<coordinates> must be a number");c!==!1&&c!==void 0||(e=JSON.parse(JSON.stringify(e)));var h=Math.pow(10,s);return Ct(e,function(g){(function(y,w,x){y.length>x&&y.splice(x,y.length);for(var T=0;T<y.length;T++)y[T]=Math.round(y[T]*w)/w})(g,h,a)}),e}function sd(e){if(!e)throw new Error("geojson is required");var i=[];return ae(e,function(s){i.push(s)}),M(i)}function Um(e,i,s){if(e.geometry.type!=="Polygon")throw new Error("The input feature must be a Polygon");s===void 0&&(s=1);var a=e.geometry.coordinates,c=[],h={};if(s){for(var g=[],y=0;y<a.length;y++)for(var w=0;w<a[y].length-1;w++)g.push(B(y,w));var x=Ji();x.load(g)}for(var T=0;T<a.length;T++)for(var E=0;E<a[T].length-1;E++)if(s)x.search(B(T,E)).forEach(function(A){var Y=A.ring,it=A.edge;N(T,E,Y,it)});else for(var P=0;P<a.length;P++)for(var z=0;z<a[P].length-1;z++)N(T,E,P,z);return i||(c={type:"Feature",geometry:{type:"MultiPoint",coordinates:c}}),c;function N(A,Y,it,D){var W,X,tt=a[A][Y],Q=a[A][Y+1],zt=a[it][D],Et=a[it][D+1],Ft=function(It,Mt,St,Bt){if(Lc(It,St)||Lc(It,Bt)||Lc(Mt,St)||Lc(Bt,St))return null;var Rt=It[0],Gt=It[1],vt=Mt[0],Ie=Mt[1],se=St[0],tr=St[1],we=Bt[0],He=Bt[1],pr=(Rt-vt)*(tr-He)-(Gt-Ie)*(se-we);return pr===0?null:[((Rt*Ie-Gt*vt)*(se-we)-(Rt-vt)*(se*He-tr*we))/pr,((Rt*Ie-Gt*vt)*(tr-He)-(Gt-Ie)*(se*He-tr*we))/pr]}(tt,Q,zt,Et);if(Ft!==null&&(W=Q[0]!==tt[0]?(Ft[0]-tt[0])/(Q[0]-tt[0]):(Ft[1]-tt[1])/(Q[1]-tt[1]),X=Et[0]!==zt[0]?(Ft[0]-zt[0])/(Et[0]-zt[0]):(Ft[1]-zt[1])/(Et[1]-zt[1]),!(W>=1||W<=0||X>=1||X<=0))){var Tt=Ft,Ht=!h[Tt];Ht&&(h[Tt]=!0),i?c.push(i(Ft,A,Y,tt,Q,W,it,D,zt,Et,X,Ht)):c.push(Ft)}}function B(A,Y){var it,D,W,X,tt=a[A][Y],Q=a[A][Y+1];return tt[0]<Q[0]?(it=tt[0],D=Q[0]):(it=Q[0],D=tt[0]),tt[1]<Q[1]?(W=tt[1],X=Q[1]):(W=Q[1],X=tt[1]),{minX:it,minY:W,maxX:D,maxY:X,ring:A,edge:Y}}}function Lc(e,i){if(!e||!i||e.length!==i.length)return!1;for(var s=0,a=e.length;s<a;s++)if(e[s]instanceof Array&&i[s]instanceof Array){if(!Lc(e[s],i[s]))return!1}else if(e[s]!==i[s])return!1;return!0}function cb(e){if(e.type!="Feature")throw new Error("The input must a geojson object of type Feature");if(e.geometry===void 0||e.geometry==null)throw new Error("The input must a geojson object with a non-empty geometry");if(e.geometry.type!="Polygon")throw new Error("The input must be a geojson Polygon");for(var i=e.geometry.coordinates.length,s=[],a=0;a<i;a++){var c=e.geometry.coordinates[a];b(c[0],c[c.length-1])||c.push(c[0]),s.push.apply(s,c.slice(0,c.length-1))}if(!function(we){for(var He={},pr=1,oi=0,wn=we.length;oi<wn;++oi){if(Object.prototype.hasOwnProperty.call(He,we[oi])){pr=0;break}He[we[oi]]=1}return pr}(s))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var h=s.length,g=Um(e,function(we,He,pr,oi,wn,z0,Kc,Zf,Yf,Hd,N0,Ud){return[we,He,pr,oi,wn,z0,Kc,Zf,Yf,Hd,N0,Ud]}),y=g.length;if(y==0){var w=[];for(a=0;a<i;a++)w.push(v([e.geometry.coordinates[a]],{parent:-1,winding:p(e.geometry.coordinates[a])}));var x=M(w);return Ie(),se(),x}var T=[],E=[];for(a=0;a<i;a++){T.push([]);for(var P=0;P<e.geometry.coordinates[a].length-1;P++)T[a].push([new af(e.geometry.coordinates[a][S(P+1,e.geometry.coordinates[a].length-1)],1,[a,P],[a,S(P+1,e.geometry.coordinates[a].length-1)],void 0)]),E.push(new lf(e.geometry.coordinates[a][P],[a,S(P-1,e.geometry.coordinates[a].length-1)],[a,P],void 0,void 0,!1,!0))}for(a=0;a<y;a++)T[g[a][1]][g[a][2]].push(new af(g[a][0],g[a][5],[g[a][1],g[a][2]],[g[a][6],g[a][7]],void 0)),g[a][11]&&E.push(new lf(g[a][0],[g[a][1],g[a][2]],[g[a][6],g[a][7]],void 0,void 0,!0,!0));var z=E.length;for(a=0;a<T.length;a++)for(P=0;P<T[a].length;P++)T[a][P].sort(function(we,He){return we.param<He.param?-1:1});var N=[];for(a=0;a<z;a++)N.push({minX:E[a].coord[0],minY:E[a].coord[1],maxX:E[a].coord[0],maxY:E[a].coord[1],index:a});var B=Ji();for(B.load(N),a=0;a<T.length;a++)for(P=0;P<T[a].length;P++)for(var A=0;A<T[a][P].length;A++){it=A==T[a][P].length-1?T[a][S(P+1,e.geometry.coordinates[a].length-1)][0].coord:T[a][P][A+1].coord;var Y=B.search({minX:it[0],minY:it[1],maxX:it[0],maxY:it[1]})[0];T[a][P][A].nxtIsectAlongEdgeIn=Y.index}for(a=0;a<T.length;a++)for(P=0;P<T[a].length;P++)for(A=0;A<T[a][P].length;A++){var it=T[a][P][A].coord,D=(Y=B.search({minX:it[0],minY:it[1],maxX:it[0],maxY:it[1]})[0]).index;D<h?E[D].nxtIsectAlongRingAndEdge2=T[a][P][A].nxtIsectAlongEdgeIn:b(E[D].ringAndEdge1,T[a][P][A].ringAndEdgeIn)?E[D].nxtIsectAlongRingAndEdge1=T[a][P][A].nxtIsectAlongEdgeIn:E[D].nxtIsectAlongRingAndEdge2=T[a][P][A].nxtIsectAlongEdgeIn}var W=[];for(a=0,P=0;P<i;P++){var X=a;for(A=0;A<e.geometry.coordinates[P].length-1;A++)E[a].coord[0]<E[X].coord[0]&&(X=a),a++;var tt=E[X].nxtIsectAlongRingAndEdge2;for(A=0;A<E.length;A++)if(E[A].nxtIsectAlongRingAndEdge1==X||E[A].nxtIsectAlongRingAndEdge2==X){var Q=A;break}var zt=ad([E[Q].coord,E[X].coord,E[tt].coord],!0)?1:-1;W.push({isect:X,parent:-1,winding:zt})}for(W.sort(function(we,He){return E[we.isect].coord>E[He.isect].coord?-1:1}),w=[];W.length>0;){var Et=W.pop(),Ft=Et.isect,Tt=Et.parent,Ht=Et.winding,It=w.length,Mt=[E[Ft].coord],St=Ft;if(E[Ft].ringAndEdge1Walkable)var Bt=E[Ft].ringAndEdge1,Rt=E[Ft].nxtIsectAlongRingAndEdge1;else Bt=E[Ft].ringAndEdge2,Rt=E[Ft].nxtIsectAlongRingAndEdge2;for(;!b(E[Ft].coord,E[Rt].coord);){Mt.push(E[Rt].coord);var Gt=void 0;for(a=0;a<W.length;a++)if(W[a].isect==Rt){Gt=a;break}if(Gt!=null&&W.splice(Gt,1),b(Bt,E[Rt].ringAndEdge1)){if(Bt=E[Rt].ringAndEdge2,E[Rt].ringAndEdge2Walkable=!1,E[Rt].ringAndEdge1Walkable){var vt={isect:Rt};ad([E[St].coord,E[Rt].coord,E[E[Rt].nxtIsectAlongRingAndEdge2].coord],Ht==1)?(vt.parent=Tt,vt.winding=-Ht):(vt.parent=It,vt.winding=Ht),W.push(vt)}St=Rt,Rt=E[Rt].nxtIsectAlongRingAndEdge2}else Bt=E[Rt].ringAndEdge1,E[Rt].ringAndEdge1Walkable=!1,E[Rt].ringAndEdge2Walkable&&(vt={isect:Rt},ad([E[St].coord,E[Rt].coord,E[E[Rt].nxtIsectAlongRingAndEdge1].coord],Ht==1)?(vt.parent=Tt,vt.winding=-Ht):(vt.parent=It,vt.winding=Ht),W.push(vt)),St=Rt,Rt=E[Rt].nxtIsectAlongRingAndEdge1}Mt.push(E[Rt].coord),w.push(v([Mt],{index:It,parent:Tt,winding:Ht,netWinding:void 0}))}x=M(w);function Ie(){for(var we=[],He=0;He<x.features.length;He++)x.features[He].properties.parent==-1&&we.push(He);if(we.length>1)for(He=0;He<we.length;He++){for(var pr=-1,oi=0;oi<x.features.length;oi++)we[He]!=oi&&Je(x.features[we[He]].geometry.coordinates[0][0],x.features[oi],{ignoreBoundary:!0})&&rd(x.features[oi])<1/0&&(pr=oi);x.features[we[He]].properties.parent=pr}}function se(){for(var we=0;we<x.features.length;we++)if(x.features[we].properties.parent==-1){var He=x.features[we].properties.winding;x.features[we].properties.netWinding=He,tr(we,He)}}function tr(we,He){for(var pr=0;pr<x.features.length;pr++)if(x.features[pr].properties.parent==we){var oi=He+x.features[pr].properties.winding;x.features[pr].properties.netWinding=oi,tr(pr,oi)}}return Ie(),se(),x}var af=function(e,i,s,a,c){this.coord=e,this.param=i,this.ringAndEdgeIn=s,this.ringAndEdgeOut=a,this.nxtIsectAlongEdgeIn=c},lf=function(e,i,s,a,c,h,g){this.coord=e,this.ringAndEdge1=i,this.ringAndEdge2=s,this.nxtIsectAlongRingAndEdge1=a,this.nxtIsectAlongRingAndEdge2=c,this.ringAndEdge1Walkable=h,this.ringAndEdge2Walkable=g};function ad(e,i){if(i===void 0&&(i=!0),e.length!=3)throw new Error("This function requires an array of three points [x,y]");return(e[1][0]-e[0][0])*(e[2][1]-e[0][1])-(e[1][1]-e[0][1])*(e[2][0]-e[0][0])>=0==i}function p(e){for(var i=0,s=0;s<e.length-1;s++)e[s][0]<e[i][0]&&(i=s);if(ad([e[S(i-1,e.length-1)],e[i],e[S(i+1,e.length-1)]],!0))var a=1;else a=-1;return a}function b(e,i){if(!e||!i||e.length!=i.length)return!1;for(var s=0,a=e.length;s<a;s++)if(e[s]instanceof Array&&i[s]instanceof Array){if(!b(e[s],i[s]))return!1}else if(e[s]!=i[s])return!1;return!0}function S(e,i){return(e%i+i)%i}var O=Math.PI/180,q=180/Math.PI,rt=function(e,i){this.lon=e,this.lat=i,this.x=O*e,this.y=O*i};rt.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},rt.prototype.antipode=function(){var e=-1*this.lat,i=this.lon<0?180+this.lon:-1*(180-this.lon);return new rt(i,e)};var wt=function(){this.coords=[],this.length=0};wt.prototype.move_to=function(e){this.length++,this.coords.push(e)};var Ot=function(e){this.properties=e||{},this.geometries=[]};Ot.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(this.geometries.length===1)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var e=[],i=0;i<this.geometries.length;i++)e.push(this.geometries[i].coords);return{geometry:{type:"MultiLineString",coordinates:e},type:"Feature",properties:this.properties}},Ot.prototype.wkt=function(){for(var e="",i="LINESTRING(",s=function(c){i+=c[0]+" "+c[1]+","},a=0;a<this.geometries.length;a++){if(this.geometries[a].coords.length===0)return"LINESTRING(empty)";this.geometries[a].coords.forEach(s),e+=i.substring(0,i.length-1)+")"}return e};var Ut=function(e,i,s){if(!e||e.x===void 0||e.y===void 0)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!i||i.x===void 0||i.y===void 0)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new rt(e.x,e.y),this.end=new rt(i.x,i.y),this.properties=s||{};var a=this.start.x-this.end.x,c=this.start.y-this.end.y,h=Math.pow(Math.sin(c/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(a/2),2);if(this.g=2*Math.asin(Math.sqrt(h)),this.g===Math.PI)throw new Error("it appears "+e.view()+" and "+i.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+e+" and "+i)};function ie(e,i){var s=[],a=Pc();return ae(i,function(c){if(s.forEach(function(y,w){y.id=w}),s.length){var h=a.search(c);if(h.features.length){var g=Xe(c,h);s=s.filter(function(y){return y.id!==g.id}),a.remove(g),bt(_e(g,c),function(y){s.push(y),a.insert(y)})}}else(s=_e(e,c).features).forEach(function(y){y.bbox||(y.bbox=Mm(Dt(y)))}),a.load(M(s))}),M(s)}function _e(e,i){var s=[],a=j(e)[0],c=j(e)[e.geometry.coordinates.length-1];if(dr(a,R(i))||dr(c,R(i)))return M([e]);var h=Pc(),g=Vn(e);h.load(g);var y=h.search(i);if(!y.features.length)return M([e]);var w=Xe(i,y),x=At(g,function(T,E,P){var z=j(E)[1],N=R(i);return P===w.id?(T.push(N),s.push(k(T)),dr(N,z)?[N]:[N,z]):(T.push(z),T)},[a]);return x.length>1&&s.push(k(x)),M(s)}function Xe(e,i){if(!i.features.length)throw new Error("lines must contain features");if(i.features.length===1)return i.features[0];var s,a=1/0;return bt(i,function(c){var h=ca(c,e).properties.dist;h<a&&(s=c,a=h)}),s}function dr(e,i){return e[0]===i[0]&&e[1]===i[1]}function Rn(e,i,s,a,c){c===void 0&&(c={});var h=c.steps||64,g=tn(s),y=tn(a),w=Array.isArray(e)||e.type!=="Feature"?{}:e.properties;if(g===y)return k(qp(e,i,c).geometry.coordinates[0],w);for(var x=g,T=g<y?y:y+360,E=x,P=[],z=0;E<T;)P.push($i(e,i,E,c).geometry.coordinates),E=x+360*++z/h;return E>T&&P.push($i(e,i,T,c).geometry.coordinates),k(P,w)}function tn(e){var i=e%360;return i<0&&(i+=360),i}function An(e,i){i===void 0&&(i={});var s=ht(e);switch(i.properties||e.type!=="Feature"||(i.properties=e.properties),s.type){case"Polygon":return Wn(s,i);case"MultiPolygon":return function(a,c){c===void 0&&(c={});var h=ht(a).coordinates,g=c.properties?c.properties:a.type==="Feature"?a.properties:{},y=[];return h.forEach(function(w){y.push(Al(w,g))}),M(y)}(s,i);default:throw new Error("invalid poly")}}function Wn(e,i){return i===void 0&&(i={}),Al(ht(e).coordinates,i.properties?i.properties:e.type==="Feature"?e.properties:{})}function Al(e,i){return e.length>1?I(e,i):k(e[0],i)}function Gm(e,i){var s,a,c;i===void 0&&(i={});var h=i.properties,g=(s=i.autoComplete)===null||s===void 0||s,y=(a=i.orderCoords)===null||a===void 0||a;switch((c=i.mutate)!==null&&c!==void 0&&c||(e=Si(e)),e.type){case"FeatureCollection":var w=[];return e.features.forEach(function(x){w.push(j(qm(x,{},g,y)))}),H(w,h);default:return qm(e,h,g,y)}}function qm(e,i,s,a){i=i||(e.type==="Feature"?e.properties:{});var c=ht(e),h=c.coordinates,g=c.type;if(!h.length)throw new Error("line must contain coordinates");switch(g){case"LineString":return s&&(h=Vm(h)),v([h],i);case"MultiLineString":var y=[],w=0;return h.forEach(function(x){if(s&&(x=Vm(x)),a){var T=function(E){var P=E[0],z=E[1],N=E[2],B=E[3];return Math.abs(P-N)*Math.abs(z-B)}(Dt(k(x)));T>w?(y.unshift(x),w=T):y.push(x)}else y.push(x)}),v(y,i);default:throw new Error("geometry type "+g+" is not supported")}}function Vm(e){var i=e[0],s=i[0],a=i[1],c=e[e.length-1],h=c[0],g=c[1];return s===h&&a===g||e.push(i),e}function Wm(e,i){var s,a,c,h,g,y,w;for(a=1;a<=8;a*=2){for(s=[],h=!(Ol(c=e[e.length-1],i)&a),g=0;g<e.length;g++)(w=!(Ol(y=e[g],i)&a))!==h&&s.push(cf(c,y,a,i)),w&&s.push(y),c=y,h=w;if(!(e=s).length)break}return s}function cf(e,i,s,a){return 8&s?[e[0]+(i[0]-e[0])*(a[3]-e[1])/(i[1]-e[1]),a[3]]:4&s?[e[0]+(i[0]-e[0])*(a[1]-e[1])/(i[1]-e[1]),a[1]]:2&s?[a[2],e[1]+(i[1]-e[1])*(a[2]-e[0])/(i[0]-e[0])]:1&s?[a[0],e[1]+(i[1]-e[1])*(a[0]-e[0])/(i[0]-e[0])]:null}function Ol(e,i){var s=0;return e[0]<i[0]?s|=1:e[0]>i[2]&&(s|=2),e[1]<i[1]?s|=4:e[1]>i[3]&&(s|=8),s}function Hi(e,i){for(var s=[],a=0,c=e;a<c.length;a++){var h=Wm(c[a],i);h.length>0&&(h[0][0]===h[h.length-1][0]&&h[0][1]===h[h.length-1][1]||h.push(h[0]),h.length>=4&&s.push(h))}return s}Ut.prototype.interpolate=function(e){var i=Math.sin((1-e)*this.g)/Math.sin(this.g),s=Math.sin(e*this.g)/Math.sin(this.g),a=i*Math.cos(this.start.y)*Math.cos(this.start.x)+s*Math.cos(this.end.y)*Math.cos(this.end.x),c=i*Math.cos(this.start.y)*Math.sin(this.start.x)+s*Math.cos(this.end.y)*Math.sin(this.end.x),h=i*Math.sin(this.start.y)+s*Math.sin(this.end.y),g=q*Math.atan2(h,Math.sqrt(Math.pow(a,2)+Math.pow(c,2)));return[q*Math.atan2(c,a),g]},Ut.prototype.Arc=function(e,i){var s=[];if(!e||e<=2)s.push([this.start.lon,this.start.lat]),s.push([this.end.lon,this.end.lat]);else for(var a=1/(e-1),c=0;c<e;++c){var h=a*c,g=this.interpolate(h);s.push(g)}for(var y=!1,w=0,x=i&&i.offset?i.offset:10,T=180-x,E=-180+x,P=360-x,z=1;z<s.length;++z){var N=s[z-1][0],B=s[z][0],A=Math.abs(B-N);A>P&&(B>T&&N<E||N>T&&B<E)?y=!0:A>w&&(w=A)}var Y=[];if(y&&w<x){var it=[];Y.push(it);for(var D=0;D<s.length;++D){var W=parseFloat(s[D][0]);if(D>0&&Math.abs(W-s[D-1][0])>P){var X=parseFloat(s[D-1][0]),tt=parseFloat(s[D-1][1]),Q=parseFloat(s[D][0]),zt=parseFloat(s[D][1]);if(X>-180&&X<E&&Q===180&&D+1<s.length&&s[D-1][0]>-180&&s[D-1][0]<E){it.push([-180,s[D][1]]),D++,it.push([s[D][0],s[D][1]]);continue}if(X>T&&X<180&&Q===-180&&D+1<s.length&&s[D-1][0]>T&&s[D-1][0]<180){it.push([180,s[D][1]]),D++,it.push([s[D][0],s[D][1]]);continue}if(X<E&&Q>T){var Et=X;X=Q,Q=Et;var Ft=tt;tt=zt,zt=Ft}if(X>T&&Q<E&&(Q+=360),X<=180&&Q>=180&&X<Q){var Tt=(180-X)/(Q-X),Ht=Tt*zt+(1-Tt)*tt;it.push([s[D-1][0]>T?180:-180,Ht]),(it=[]).push([s[D-1][0]>T?-180:180,Ht]),Y.push(it)}else it=[],Y.push(it);it.push([W,s[D][1]])}else it.push([s[D][0],s[D][1]])}}else{var It=[];Y.push(It);for(var Mt=0;Mt<s.length;++Mt)It.push([s[Mt][0],s[Mt][1]])}for(var St=new Ot(this.properties),Bt=0;Bt<Y.length;++Bt){var Rt=new wt;St.geometries.push(Rt);for(var Gt=Y[Bt],vt=0;vt<Gt.length;++vt)Rt.move_to(Gt[vt])}return St};var qu=is(function(e,i){function s(a){var c=[];for(var h in a)c.push(h);return c}(e.exports=typeof Object.keys=="function"?Object.keys:s).shim=s}),Zm=is(function(e,i){var s=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";function a(h){return Object.prototype.toString.call(h)=="[object Arguments]"}function c(h){return h&&typeof h=="object"&&typeof h.length=="number"&&Object.prototype.hasOwnProperty.call(h,"callee")&&!Object.prototype.propertyIsEnumerable.call(h,"callee")||!1}(i=e.exports=s?a:c).supported=a,i.unsupported=c}),Rc=is(function(e){var i=Array.prototype.slice,s=e.exports=function(h,g,y){return y||(y={}),h===g||(h instanceof Date&&g instanceof Date?h.getTime()===g.getTime():!h||!g||typeof h!="object"&&typeof g!="object"?y.strict?h===g:h==g:function(w,x,T){var E,P;if(a(w)||a(x)||w.prototype!==x.prototype)return!1;if(Zm(w))return!!Zm(x)&&(w=i.call(w),x=i.call(x),s(w,x,T));if(c(w)){if(!c(x)||w.length!==x.length)return!1;for(E=0;E<w.length;E++)if(w[E]!==x[E])return!1;return!0}try{var z=qu(w),N=qu(x)}catch{return!1}if(z.length!=N.length)return!1;for(z.sort(),N.sort(),E=z.length-1;E>=0;E--)if(z[E]!=N[E])return!1;for(E=z.length-1;E>=0;E--)if(P=z[E],!s(w[P],x[P],T))return!1;return typeof w==typeof x}(h,g,y))};function a(h){return h==null}function c(h){return!(!h||typeof h!="object"||typeof h.length!="number")&&typeof h.copy=="function"&&typeof h.slice=="function"&&!(h.length>0&&typeof h[0]!="number")}});function Ym(e,i,s){if(s===void 0&&(s={}),!gt(s=s||{}))throw new Error("options is invalid");var a,c=s.tolerance||0,h=[],g=Pc(),y=Vn(e);return g.load(y),rr(i,function(w){var x=!1;w&&(bt(g.search(w),function(T){if(x===!1){var E=j(w).sort(),P=j(T).sort();Rc(E,P)||(c===0?ro(E[0],T)&&ro(E[1],T):ca(T,E[0]).properties.dist<=c&&ca(T,E[1]).properties.dist<=c)?(x=!0,a=a?ld(a,w):w):(c===0?ro(P[0],w)&&ro(P[1],w):ca(w,P[0]).properties.dist<=c&&ca(w,P[1]).properties.dist<=c)&&(a=a?ld(a,T):T)}}),x===!1&&a&&(h.push(a),a=void 0))}),a&&h.push(a),M(h)}function ld(e,i){var s=j(i),a=j(e),c=a[0],h=a[a.length-1],g=e.geometry.coordinates;return Rc(s[0],c)?g.unshift(s[1]):Rc(s[0],h)?g.push(s[1]):Rc(s[1],c)?g.unshift(s[0]):Rc(s[1],h)&&g.push(s[0]),e}function uf(e){var i=e%360;return i<0&&(i+=360),i}function zl(e,i,s){var a;return s===void 0&&(s={}),(a=s.final?s_(R(i),R(e)):s_(R(e),R(i)))>180?-(360-a):a}function s_(e,i){var s=ot(e[1]),a=ot(i[1]),c=ot(i[0]-e[0]);c>Math.PI&&(c-=2*Math.PI),c<-Math.PI&&(c+=2*Math.PI);var h=Math.log(Math.tan(a/2+Math.PI/4)/Math.tan(s/2+Math.PI/4));return(ft(Math.atan2(c,h))+360)%360}function cd(e,i,s,a){a===void 0&&(a={});var c=i<0,h=V(Math.abs(i),a.units,"meters");c&&(h=-Math.abs(h));var g=R(e),y=function(w,x,T,E){E=E===void 0?r:Number(E);var P=x/E,z=w[0]*Math.PI/180,N=ot(w[1]),B=ot(T),A=P*Math.cos(B),Y=N+A;Math.abs(Y)>Math.PI/2&&(Y=Y>0?Math.PI-Y:-Math.PI-Y);var it=Math.log(Math.tan(Y/2+Math.PI/4)/Math.tan(N/2+Math.PI/4)),D=Math.abs(it)>1e-11?A/it:Math.cos(N),W=P*Math.sin(B)/D;return[(180*(z+W)/Math.PI+540)%360-180,180*Y/Math.PI]}(g,h,s);return y[0]+=y[0]-g[0]>180?-360:g[0]-y[0]>180?360:0,f(y,a.properties)}function a_(e,i,s,a,c,h){for(var g=0;g<e.length;g++){var y=e[g],w=e[g+1];g===e.length-1&&(w=e[0]),a=hf(y,w,i),s<=0&&a>0?hf(i,y,c)<0||(c=y):s>0&&a<=0&&(EM(i,y,h)||(h=y)),s=a}return[c,h]}function EM(e,i,s){return hf(e,i,s)>0}function hf(e,i,s){return(i[0]-e[0])*(s[1]-e[1])-(s[0]-e[0])*(i[1]-e[1])}function Xm(e){for(var i,s,a=j(e),c=0,h=1;h<a.length;)i=s||a[0],c+=((s=a[h])[0]-i[0])*(s[1]+i[1]),h++;return c>0}function Km(e,i){switch(e.type==="Feature"?e.geometry.type:e.type){case"GeometryCollection":return ee(e,function(s){Km(s,i)}),e;case"LineString":return l_(j(e),i),e;case"Polygon":return c_(j(e),i),e;case"MultiLineString":return j(e).forEach(function(s){l_(s,i)}),e;case"MultiPolygon":return j(e).forEach(function(s){c_(s,i)}),e;case"Point":case"MultiPoint":return e}}function l_(e,i){Xm(e)===i&&e.reverse()}function c_(e,i){Xm(e[0])!==i&&e[0].reverse();for(var s=1;s<e.length;s++)Xm(e[s])===i&&e[s].reverse()}function TM(e,i){if(!gt(i=i||{}))throw new Error("options is invalid");var s=i.zProperty||"elevation",a=i.flip,c=i.flags;_t(e,"Point","input must contain Points");for(var h=function(P,z){var N={};return bt(P,function(B){var A=j(B)[1];N[A]||(N[A]=[]),N[A].push(B)}),Object.keys(N).map(function(B){return N[B].sort(function(A,Y){return j(A)[0]-j(Y)[0]})}).sort(function(B,A){return z?j(B[0])[1]-j(A[0])[1]:j(A[0])[1]-j(B[0])[1]})}(e,a),g=[],y=0;y<h.length;y++){for(var w=h[y],x=[],T=0;T<w.length;T++){var E=w[T];E.properties[s]?x.push(E.properties[s]):x.push(0),c===!0&&(E.properties.matrixPosition=[y,T])}g.push(x)}return g}var u_={successCallback:null,verbose:!1,polygons:!1},Vu={};function SM(e,i,s,a){a=a||{};for(var c=Object.keys(u_),h=0;h<c.length;h++){var g=c[h],y=a[g];y=y??u_[g],Vu[g]=y}Vu.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+i+":"+(i+s)+"]");var w,x=function(T,E,P){for(var z=T.length-1,N=T[0].length-1,B={rows:z,cols:N,cells:[]},A=E+Math.abs(P),Y=0;Y<z;++Y){B.cells[Y]=[];for(var it=0;it<N;++it){var D=0,W=T[Y+1][it],X=T[Y+1][it+1],tt=T[Y][it+1],Q=T[Y][it];if(!(isNaN(W)||isNaN(X)||isNaN(tt)||isNaN(Q))){D|=W<E?0:W>A?128:64,D|=X<E?0:X>A?32:16,D|=tt<E?0:tt>A?8:4;var zt=+(D|=Q<E?0:Q>A?2:1),Et=0;if(D===17||D===18||D===33||D===34||D===38||D===68||D===72||D===98||D===102||D===132||D===136||D===137||D===152||D===153){var Ft=(W+X+tt+Q)/4;Et=Ft>A?2:Ft<E?0:1,D===34?Et===1?D=35:Et===0&&(D=136):D===136?Et===1?(D=35,Et=4):Et===0&&(D=34):D===17?Et===1?(D=155,Et=4):Et===0&&(D=153):D===68?Et===1?(D=103,Et=4):Et===0&&(D=102):D===153?Et===1&&(D=155):D===102?Et===1&&(D=103):D===152?Et<2&&(D=156,Et=1):D===137?Et<2&&(D=139,Et=1):D===98?Et<2&&(D=99,Et=1):D===38?Et<2&&(D=39,Et=1):D===18?Et>0?(D=156,Et=4):D=152:D===33?Et>0?(D=139,Et=4):D=137:D===72?Et>0?(D=99,Et=4):D=98:D===132&&(Et>0?(D=39,Et=4):D=38)}if(D!=0&&D!=170){var Tt,Ht,It,Mt,St,Bt,Rt,Gt;Tt=Ht=It=Mt=St=Bt=Rt=Gt=.5;var vt=[];D===1?(It=1-et(E,tt,Q),Gt=1-et(E,W,Q),vt.push(Oe[D])):D===169?(It=et(A,Q,tt),Gt=et(A,Q,W),vt.push(Oe[D])):D===4?(Bt=1-et(E,X,tt),Mt=et(E,Q,tt),vt.push(ke[D])):D===166?(Bt=et(A,tt,X),Mt=1-et(A,tt,Q),vt.push(ke[D])):D===16?(St=et(E,tt,X),Ht=et(E,W,X),vt.push(Se[D])):D===154?(St=1-et(A,X,tt),Ht=1-et(A,X,W),vt.push(Se[D])):D===64?(Rt=et(E,Q,W),Tt=1-et(E,X,W),vt.push(We[D])):D===106?(Rt=1-et(A,W,Q),Tt=et(A,W,X),vt.push(We[D])):D===168?(Mt=et(A,Q,tt),It=et(E,Q,tt),Gt=et(E,Q,W),Rt=et(A,Q,W),vt.push(Fe[D]),vt.push(Oe[D])):D===2?(Mt=1-et(E,tt,Q),It=1-et(A,tt,Q),Gt=1-et(A,W,Q),Rt=1-et(E,W,Q),vt.push(Fe[D]),vt.push(Oe[D])):D===162?(St=et(A,tt,X),Bt=et(E,tt,X),Mt=1-et(E,tt,Q),It=1-et(A,tt,Q),vt.push(Fe[D]),vt.push(Oe[D])):D===8?(St=1-et(E,X,tt),Bt=1-et(A,X,tt),Mt=et(A,Q,tt),It=et(E,Q,tt),vt.push(Se[D]),vt.push(ke[D])):D===138?(St=1-et(E,X,tt),Bt=1-et(A,X,tt),Tt=1-et(A,X,W),Ht=1-et(E,X,W),vt.push(Se[D]),vt.push(ke[D])):D===32?(St=et(A,tt,X),Bt=et(E,tt,X),Tt=et(E,W,X),Ht=et(A,W,X),vt.push(Se[D]),vt.push(ke[D])):D===42?(Gt=1-et(A,W,Q),Rt=1-et(E,W,Q),Tt=et(E,W,X),Ht=et(A,W,X),vt.push(Ze[D]),vt.push(We[D])):D===128&&(Gt=et(E,Q,W),Rt=et(A,Q,W),Tt=1-et(A,X,W),Ht=1-et(E,X,W),vt.push(Ze[D]),vt.push(We[D])),D===5?(Bt=1-et(E,X,tt),Gt=1-et(E,W,Q),vt.push(ke[D])):D===165?(Bt=et(A,tt,X),Gt=et(A,Q,W),vt.push(ke[D])):D===20?(Mt=et(E,Q,tt),Ht=et(E,W,X),vt.push(Fe[D])):D===150?(Mt=1-et(A,tt,Q),Ht=1-et(A,X,W),vt.push(Fe[D])):D===80?(St=et(E,tt,X),Rt=et(E,Q,W),vt.push(Se[D])):D===90?(St=1-et(A,X,tt),Rt=1-et(A,W,Q),vt.push(Se[D])):D===65?(It=1-et(E,tt,Q),Tt=1-et(E,X,W),vt.push(Oe[D])):D===105?(It=et(A,Q,tt),Tt=et(A,W,X),vt.push(Oe[D])):D===160?(St=et(A,tt,X),Bt=et(E,tt,X),Gt=et(E,Q,W),Rt=et(A,Q,W),vt.push(Se[D]),vt.push(ke[D])):D===10?(St=1-et(E,X,tt),Bt=1-et(A,X,tt),Gt=1-et(A,W,Q),Rt=1-et(E,W,Q),vt.push(Se[D]),vt.push(ke[D])):D===130?(Mt=1-et(E,tt,Q),It=1-et(A,tt,Q),Tt=1-et(A,X,W),Ht=1-et(E,X,W),vt.push(Fe[D]),vt.push(Oe[D])):D===40?(Mt=et(A,Q,tt),It=et(E,Q,tt),Tt=et(E,W,X),Ht=et(A,W,X),vt.push(Fe[D]),vt.push(Oe[D])):D===101?(Bt=et(A,tt,X),Tt=et(A,W,X),vt.push(ke[D])):D===69?(Bt=1-et(E,X,tt),Tt=1-et(E,X,W),vt.push(ke[D])):D===149?(Gt=et(A,Q,W),Ht=1-et(A,X,W),vt.push(Ze[D])):D===21?(Gt=1-et(E,W,Q),Ht=et(E,W,X),vt.push(Ze[D])):D===86?(Mt=1-et(A,tt,Q),Rt=1-et(A,W,Q),vt.push(Fe[D])):D===84?(Mt=et(E,Q,tt),Rt=et(E,Q,W),vt.push(Fe[D])):D===89?(St=1-et(A,X,tt),It=et(A,Q,tt),vt.push(Oe[D])):D===81?(St=et(E,tt,X),It=1-et(E,tt,Q),vt.push(Oe[D])):D===96?(St=et(A,tt,X),Bt=et(E,tt,X),Rt=et(E,Q,W),Tt=et(A,W,X),vt.push(Se[D]),vt.push(ke[D])):D===74?(St=1-et(E,X,tt),Bt=1-et(A,X,tt),Rt=1-et(A,W,Q),Tt=1-et(E,X,W),vt.push(Se[D]),vt.push(ke[D])):D===24?(St=1-et(A,X,tt),Mt=et(A,Q,tt),It=et(E,Q,tt),Ht=et(E,W,X),vt.push(Se[D]),vt.push(Oe[D])):D===146?(St=et(E,tt,X),Mt=1-et(E,tt,Q),It=1-et(A,tt,Q),Ht=1-et(A,X,W),vt.push(Se[D]),vt.push(Oe[D])):D===6?(Bt=1-et(E,X,tt),Mt=1-et(A,tt,Q),Gt=1-et(A,W,Q),Rt=1-et(E,W,Q),vt.push(ke[D]),vt.push(Fe[D])):D===164?(Bt=et(A,tt,X),Mt=et(E,Q,tt),Gt=et(E,Q,W),Rt=et(A,Q,W),vt.push(ke[D]),vt.push(Fe[D])):D===129?(It=1-et(E,tt,Q),Gt=et(A,Q,W),Tt=1-et(A,X,W),Ht=1-et(E,X,W),vt.push(Oe[D]),vt.push(Ze[D])):D===41?(It=et(A,Q,tt),Gt=1-et(E,W,Q),Tt=et(E,W,X),Ht=et(A,W,X),vt.push(Oe[D]),vt.push(Ze[D])):D===66?(Mt=1-et(E,tt,Q),It=1-et(A,tt,Q),Rt=1-et(A,W,Q),Tt=1-et(E,X,W),vt.push(Fe[D]),vt.push(Oe[D])):D===104?(Mt=et(A,Q,tt),It=et(E,Q,tt),Rt=et(E,Q,W),Tt=et(A,W,X),vt.push(Oe[D]),vt.push(qr[D])):D===144?(St=et(E,tt,X),Gt=et(E,Q,W),Rt=et(A,Q,W),Ht=1-et(A,X,W),vt.push(Se[D]),vt.push(We[D])):D===26?(St=1-et(A,X,tt),Gt=1-et(A,W,Q),Rt=1-et(E,W,Q),Ht=et(E,W,X),vt.push(Se[D]),vt.push(We[D])):D===36?(Bt=et(A,tt,X),Mt=et(E,Q,tt),Tt=et(E,W,X),Ht=et(A,W,X),vt.push(ke[D]),vt.push(Fe[D])):D===134?(Bt=1-et(E,X,tt),Mt=1-et(A,tt,Q),Tt=1-et(A,X,W),Ht=1-et(E,X,W),vt.push(ke[D]),vt.push(Fe[D])):D===9?(St=1-et(E,X,tt),Bt=1-et(A,X,tt),It=et(A,Q,tt),Gt=1-et(E,W,Q),vt.push(Se[D]),vt.push(ke[D])):D===161?(St=et(A,tt,X),Bt=et(E,tt,X),It=1-et(E,tt,Q),Gt=et(A,Q,W),vt.push(Se[D]),vt.push(ke[D])):D===37?(Bt=et(A,tt,X),Gt=1-et(E,W,Q),Tt=et(E,W,X),Ht=et(A,W,X),vt.push(ke[D]),vt.push(Ze[D])):D===133?(Bt=1-et(E,X,tt),Gt=et(A,Q,W),Tt=1-et(A,X,W),Ht=1-et(E,X,W),vt.push(ke[D]),vt.push(Ze[D])):D===148?(Mt=et(E,Q,tt),Gt=et(E,Q,W),Rt=et(A,Q,W),Ht=1-et(A,X,W),vt.push(Fe[D]),vt.push(We[D])):D===22?(Mt=1-et(A,tt,Q),Gt=1-et(A,W,Q),Rt=1-et(E,W,Q),Ht=et(E,W,X),vt.push(Fe[D]),vt.push(We[D])):D===82?(St=et(E,tt,X),Mt=1-et(E,tt,Q),It=1-et(A,tt,Q),Rt=1-et(A,W,Q),vt.push(Se[D]),vt.push(Oe[D])):D===88?(St=1-et(A,X,tt),Mt=et(A,Q,tt),It=et(E,Q,tt),Rt=et(E,Q,W),vt.push(Se[D]),vt.push(Oe[D])):D===73?(St=1-et(E,X,tt),Bt=1-et(A,X,tt),It=et(A,Q,tt),Tt=1-et(E,X,W),vt.push(Se[D]),vt.push(ke[D])):D===97?(St=et(A,tt,X),Bt=et(E,tt,X),It=1-et(E,tt,Q),Tt=et(A,W,X),vt.push(Se[D]),vt.push(ke[D])):D===145?(St=et(E,tt,X),It=1-et(E,tt,Q),Gt=et(A,Q,W),Ht=1-et(A,X,W),vt.push(Se[D]),vt.push(Ze[D])):D===25?(St=1-et(A,X,tt),It=et(A,Q,tt),Gt=1-et(E,W,Q),Ht=et(E,W,X),vt.push(Se[D]),vt.push(Ze[D])):D===70?(Bt=1-et(E,X,tt),Mt=1-et(A,tt,Q),Rt=1-et(A,W,Q),Tt=1-et(E,X,W),vt.push(ke[D]),vt.push(Fe[D])):D===100?(Bt=et(A,tt,X),Mt=et(E,Q,tt),Rt=et(E,Q,W),Tt=et(A,W,X),vt.push(ke[D]),vt.push(Fe[D])):D===34?(Et===0?(St=1-et(E,X,tt),Bt=1-et(A,X,tt),Mt=et(A,Q,tt),It=et(E,Q,tt),Gt=et(E,Q,W),Rt=et(A,Q,W),Tt=1-et(A,X,W),Ht=1-et(E,X,W)):(St=et(A,tt,X),Bt=et(E,tt,X),Mt=1-et(E,tt,Q),It=1-et(A,tt,Q),Gt=1-et(A,W,Q),Rt=1-et(E,W,Q),Tt=et(E,W,X),Ht=et(A,W,X)),vt.push(Se[D]),vt.push(ke[D]),vt.push(Ze[D]),vt.push(We[D])):D===35?(Et===4?(St=1-et(E,X,tt),Bt=1-et(A,X,tt),Mt=et(A,Q,tt),It=et(E,Q,tt),Gt=et(E,Q,W),Rt=et(A,Q,W),Tt=1-et(A,X,W),Ht=1-et(E,X,W)):(St=et(A,tt,X),Bt=et(E,tt,X),Mt=1-et(E,tt,Q),It=1-et(A,tt,Q),Gt=1-et(A,W,Q),Rt=1-et(E,W,Q),Tt=et(E,W,X),Ht=et(A,W,X)),vt.push(Se[D]),vt.push(ke[D]),vt.push(Oe[D]),vt.push(We[D])):D===136?(Et===0?(St=et(A,tt,X),Bt=et(E,tt,X),Mt=1-et(E,tt,Q),It=1-et(A,tt,Q),Gt=1-et(A,W,Q),Rt=1-et(E,W,Q),Tt=et(E,W,X),Ht=et(A,W,X)):(St=1-et(E,X,tt),Bt=1-et(A,X,tt),Mt=et(A,Q,tt),It=et(E,Q,tt),Gt=et(E,Q,W),Rt=et(A,Q,W),Tt=1-et(A,X,W),Ht=1-et(E,X,W)),vt.push(Se[D]),vt.push(ke[D]),vt.push(Ze[D]),vt.push(We[D])):D===153?(Et===0?(St=et(E,tt,X),It=1-et(E,tt,Q),Gt=1-et(E,W,Q),Ht=et(E,W,X)):(St=1-et(A,X,tt),It=et(A,Q,tt),Gt=et(A,Q,W),Ht=1-et(A,X,W)),vt.push(Se[D]),vt.push(Oe[D])):D===102?(Et===0?(Bt=1-et(E,X,tt),Mt=et(E,Q,tt),Rt=et(E,Q,W),Tt=1-et(E,X,W)):(Bt=et(A,tt,X),Mt=1-et(A,tt,Q),Rt=1-et(A,W,Q),Tt=et(A,W,X)),vt.push(ke[D]),vt.push(We[D])):D===155?(Et===4?(St=et(E,tt,X),It=1-et(E,tt,Q),Gt=1-et(E,W,Q),Ht=et(E,W,X)):(St=1-et(A,X,tt),It=et(A,Q,tt),Gt=et(A,Q,W),Ht=1-et(A,X,W)),vt.push(Se[D]),vt.push(Ze[D])):D===103?(Et===4?(Bt=1-et(E,X,tt),Mt=et(E,Q,tt),Rt=et(E,Q,W),Tt=1-et(E,X,W)):(Bt=et(A,tt,X),Mt=1-et(A,tt,Q),Rt=1-et(A,W,Q),Tt=et(A,W,X)),vt.push(ke[D]),vt.push(Fe[D])):D===152?(Et===0?(St=et(E,tt,X),Mt=1-et(E,tt,Q),It=1-et(A,tt,Q),Gt=1-et(A,W,Q),Rt=1-et(E,W,Q),Ht=et(E,W,X)):(St=1-et(A,X,tt),Mt=et(A,Q,tt),It=et(E,Q,tt),Gt=et(E,Q,W),Rt=et(A,Q,W),Ht=1-et(A,X,W)),vt.push(Se[D]),vt.push(Fe[D]),vt.push(Oe[D])):D===156?(Et===4?(St=et(E,tt,X),Mt=1-et(E,tt,Q),It=1-et(A,tt,Q),Gt=1-et(A,W,Q),Rt=1-et(E,W,Q),Ht=et(E,W,X)):(St=1-et(A,X,tt),Mt=et(A,Q,tt),It=et(E,Q,tt),Gt=et(E,Q,W),Rt=et(A,Q,W),Ht=1-et(A,X,W)),vt.push(Se[D]),vt.push(Oe[D]),vt.push(We[D])):D===137?(Et===0?(St=et(A,tt,X),Bt=et(E,tt,X),It=1-et(E,tt,Q),Gt=1-et(E,W,Q),Tt=et(E,W,X),Ht=et(A,W,X)):(St=1-et(E,X,tt),Bt=1-et(A,X,tt),It=et(A,Q,tt),Gt=et(A,Q,W),Tt=1-et(A,X,W),Ht=1-et(E,X,W)),vt.push(Se[D]),vt.push(ke[D]),vt.push(Oe[D])):D===139?(Et===4?(St=et(A,tt,X),Bt=et(E,tt,X),It=1-et(E,tt,Q),Gt=1-et(E,W,Q),Tt=et(E,W,X),Ht=et(A,W,X)):(St=1-et(E,X,tt),Bt=1-et(A,X,tt),It=et(A,Q,tt),Gt=et(A,Q,W),Tt=1-et(A,X,W),Ht=1-et(E,X,W)),vt.push(Se[D]),vt.push(ke[D]),vt.push(Ze[D])):D===98?(Et===0?(St=1-et(E,X,tt),Bt=1-et(A,X,tt),Mt=et(A,Q,tt),It=et(E,Q,tt),Rt=et(E,Q,W),Tt=1-et(E,X,W)):(St=et(A,tt,X),Bt=et(E,tt,X),Mt=1-et(E,tt,Q),It=1-et(A,tt,Q),Rt=1-et(A,W,Q),Tt=et(A,W,X)),vt.push(Se[D]),vt.push(ke[D]),vt.push(We[D])):D===99?(Et===4?(St=1-et(E,X,tt),Bt=1-et(A,X,tt),Mt=et(A,Q,tt),It=et(E,Q,tt),Rt=et(E,Q,W),Tt=1-et(E,X,W)):(St=et(A,tt,X),Bt=et(E,tt,X),Mt=1-et(E,tt,Q),It=1-et(A,tt,Q),Rt=1-et(A,W,Q),Tt=et(A,W,X)),vt.push(Se[D]),vt.push(ke[D]),vt.push(Oe[D])):D===38?(Et===0?(Bt=1-et(E,X,tt),Mt=et(E,Q,tt),Gt=et(E,Q,W),Rt=et(A,Q,W),Tt=1-et(A,X,W),Ht=1-et(E,X,W)):(Bt=et(A,tt,X),Mt=1-et(A,tt,Q),Gt=1-et(A,W,Q),Rt=1-et(E,W,Q),Tt=et(E,W,X),Ht=et(A,W,X)),vt.push(ke[D]),vt.push(Ze[D]),vt.push(We[D])):D===39?(Et===4?(Bt=1-et(E,X,tt),Mt=et(E,Q,tt),Gt=et(E,Q,W),Rt=et(A,Q,W),Tt=1-et(A,X,W),Ht=1-et(E,X,W)):(Bt=et(A,tt,X),Mt=1-et(A,tt,Q),Gt=1-et(A,W,Q),Rt=1-et(E,W,Q),Tt=et(E,W,X),Ht=et(A,W,X)),vt.push(ke[D]),vt.push(Fe[D]),vt.push(We[D])):D===85&&(St=1,Bt=0,Mt=1,It=0,Gt=0,Rt=1,Tt=0,Ht=1),(Tt<0||Tt>1||Ht<0||Ht>1||St<0||St>1||Mt<0||Mt>1||Gt<0||Gt>1||Rt<0||Rt>1)&&console.log("MarchingSquaresJS-isoBands: "+D+" "+zt+" "+W+","+X+","+tt+","+Q+" "+Et+" "+Tt+" "+Ht+" "+St+" "+Bt+" "+Mt+" "+It+" "+Gt+" "+Rt),B.cells[Y][it]={cval:D,cval_real:zt,flipped:Et,topleft:Tt,topright:Ht,righttop:St,rightbottom:Bt,bottomright:Mt,bottomleft:It,leftbottom:Gt,lefttop:Rt,edges:vt}}}}}return B}(e,i,s);return Vu.polygons?(Vu.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),w=function(T){var E=[],P=0;return T.cells.forEach(function(z,N){z.forEach(function(B,A){if(B!==void 0){var Y=ve[B.cval](B);typeof Y=="object"&&yb(Y)?typeof Y[0]=="object"&&yb(Y[0])?typeof Y[0][0]=="object"&&yb(Y[0][0])?Y.forEach(function(it){it.forEach(function(D){D[0]+=A,D[1]+=N}),E[P++]=it}):(Y.forEach(function(it){it[0]+=A,it[1]+=N}),E[P++]=Y):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}})}),E}(x)):(Vu.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),w=function(T){for(var E=[],P=T.rows,z=T.cols,N=[],B=0;B<P;B++)for(var A=0;A<z;A++)if(T.cells[B][A]!==void 0&&T.cells[B][A].edges.length>0){var Y=PM(T.cells[B][A]),it=null,D=A,W=B;Y!==null&&N.push([Y.p[0]+D,Y.p[1]+W]);do{if((it=MM(T.cells[W][D],Y.x,Y.y,Y.o))===null)break;if(N.push([it.p[0]+D,it.p[1]+W]),D+=it.x,Y=it,(W+=it.y)<0||W>=P||D<0||D>=z||T.cells[W][D]===void 0){var X=CM(T,D-=it.x,W-=it.y,it.x,it.y,it.o);if(X===null)break;X.path.forEach(function(tt){N.push(tt)}),D=X.i,W=X.j,Y=X}}while(T.cells[W][D]!==void 0&&T.cells[W][D].edges.length>0);E.push(N),N=[],T.cells[B][A].edges.length>0&&A--}return E}(x)),typeof Vu.successCallback=="function"&&Vu.successCallback(w),w}var Zn=64,ua=16,wr=[],xr=[],_r=[],kr=[],Er=[],Tr=[],Sr=[],Cr=[],Pr=[],Mr=[],Ir=[],Lr=[],Rr=[],Ar=[],Or=[],zr=[],Nr=[],Dr=[],Fr=[],Br=[],jr=[],Hr=[],Ur=[],Gr=[];Sr[85]=Mr[85]=-1,Cr[85]=Ir[85]=0,Pr[85]=Lr[85]=1,Fr[85]=Hr[85]=1,Br[85]=Ur[85]=0,jr[85]=Gr[85]=1,wr[85]=kr[85]=0,xr[85]=Er[85]=-1,_r[85]=Or[85]=0,zr[85]=Rr[85]=0,Nr[85]=Ar[85]=1,Tr[85]=Dr[85]=1,Hr[1]=Hr[169]=0,Ur[1]=Ur[169]=-1,Gr[1]=Gr[169]=0,Rr[1]=Rr[169]=-1,Ar[1]=Ar[169]=0,Or[1]=Or[169]=0,Mr[4]=Mr[166]=0,Ir[4]=Ir[166]=-1,Lr[4]=Lr[166]=1,zr[4]=zr[166]=1,Nr[4]=Nr[166]=0,Dr[4]=Dr[166]=0,Sr[16]=Sr[154]=0,Cr[16]=Cr[154]=1,Pr[16]=Pr[154]=1,kr[16]=kr[154]=1,Er[16]=Er[154]=0,Tr[16]=Tr[154]=1,Fr[64]=Fr[106]=0,Br[64]=Br[106]=1,jr[64]=jr[106]=0,wr[64]=wr[106]=-1,xr[64]=xr[106]=0,_r[64]=_r[106]=1,Fr[2]=Fr[168]=0,Br[2]=Br[168]=-1,jr[2]=jr[168]=1,Hr[2]=Hr[168]=0,Ur[2]=Ur[168]=-1,Gr[2]=Gr[168]=0,Rr[2]=Rr[168]=-1,Ar[2]=Ar[168]=0,Or[2]=Or[168]=0,zr[2]=zr[168]=-1,Nr[2]=Nr[168]=0,Dr[2]=Dr[168]=1,Sr[8]=Sr[162]=0,Cr[8]=Cr[162]=-1,Pr[8]=Pr[162]=0,Mr[8]=Mr[162]=0,Ir[8]=Ir[162]=-1,Lr[8]=Lr[162]=1,Rr[8]=Rr[162]=1,Ar[8]=Ar[162]=0,Or[8]=Or[162]=1,zr[8]=zr[162]=1,Nr[8]=Nr[162]=0,Dr[8]=Dr[162]=0,Sr[32]=Sr[138]=0,Cr[32]=Cr[138]=1,Pr[32]=Pr[138]=1,Mr[32]=Mr[138]=0,Ir[32]=Ir[138]=1,Lr[32]=Lr[138]=0,wr[32]=wr[138]=1,xr[32]=xr[138]=0,_r[32]=_r[138]=0,kr[32]=kr[138]=1,Er[32]=Er[138]=0,Tr[32]=Tr[138]=1,Hr[128]=Hr[42]=0,Ur[128]=Ur[42]=1,Gr[128]=Gr[42]=1,Fr[128]=Fr[42]=0,Br[128]=Br[42]=1,jr[128]=jr[42]=0,wr[128]=wr[42]=-1,xr[128]=xr[42]=0,_r[128]=_r[42]=1,kr[128]=kr[42]=-1,Er[128]=Er[42]=0,Tr[128]=Tr[42]=0,Mr[5]=Mr[165]=-1,Ir[5]=Ir[165]=0,Lr[5]=Lr[165]=0,Hr[5]=Hr[165]=1,Ur[5]=Ur[165]=0,Gr[5]=Gr[165]=0,zr[20]=zr[150]=0,Nr[20]=Nr[150]=1,Dr[20]=Dr[150]=1,kr[20]=kr[150]=0,Er[20]=Er[150]=-1,Tr[20]=Tr[150]=1,Sr[80]=Sr[90]=-1,Cr[80]=Cr[90]=0,Pr[80]=Pr[90]=1,Fr[80]=Fr[90]=1,Br[80]=Br[90]=0,jr[80]=jr[90]=1,Rr[65]=Rr[105]=0,Ar[65]=Ar[105]=1,Or[65]=Or[105]=0,wr[65]=wr[105]=0,xr[65]=xr[105]=-1,_r[65]=_r[105]=0,Sr[160]=Sr[10]=-1,Cr[160]=Cr[10]=0,Pr[160]=Pr[10]=1,Mr[160]=Mr[10]=-1,Ir[160]=Ir[10]=0,Lr[160]=Lr[10]=0,Hr[160]=Hr[10]=1,Ur[160]=Ur[10]=0,Gr[160]=Gr[10]=0,Fr[160]=Fr[10]=1,Br[160]=Br[10]=0,jr[160]=jr[10]=1,zr[130]=zr[40]=0,Nr[130]=Nr[40]=1,Dr[130]=Dr[40]=1,Rr[130]=Rr[40]=0,Ar[130]=Ar[40]=1,Or[130]=Or[40]=0,wr[130]=wr[40]=0,xr[130]=xr[40]=-1,_r[130]=_r[40]=0,kr[130]=kr[40]=0,Er[130]=Er[40]=-1,Tr[130]=Tr[40]=1,Mr[37]=Mr[133]=0,Ir[37]=Ir[133]=1,Lr[37]=Lr[133]=1,Hr[37]=Hr[133]=0,Ur[37]=Ur[133]=1,Gr[37]=Gr[133]=0,wr[37]=wr[133]=-1,xr[37]=xr[133]=0,_r[37]=_r[133]=0,kr[37]=kr[133]=1,Er[37]=Er[133]=0,Tr[37]=Tr[133]=0,zr[148]=zr[22]=-1,Nr[148]=Nr[22]=0,Dr[148]=Dr[22]=0,Hr[148]=Hr[22]=0,Ur[148]=Ur[22]=-1,Gr[148]=Gr[22]=1,Fr[148]=Fr[22]=0,Br[148]=Br[22]=1,jr[148]=jr[22]=1,kr[148]=kr[22]=-1,Er[148]=Er[22]=0,Tr[148]=Tr[22]=1,Sr[82]=Sr[88]=0,Cr[82]=Cr[88]=-1,Pr[82]=Pr[88]=1,zr[82]=zr[88]=1,Nr[82]=Nr[88]=0,Dr[82]=Dr[88]=1,Rr[82]=Rr[88]=-1,Ar[82]=Ar[88]=0,Or[82]=Or[88]=1,Fr[82]=Fr[88]=0,Br[82]=Br[88]=-1,jr[82]=jr[88]=0,Sr[73]=Sr[97]=0,Cr[73]=Cr[97]=1,Pr[73]=Pr[97]=0,Mr[73]=Mr[97]=0,Ir[73]=Ir[97]=-1,Lr[73]=Lr[97]=0,Rr[73]=Rr[97]=1,Ar[73]=Ar[97]=0,Or[73]=Or[97]=0,wr[73]=wr[97]=1,xr[73]=xr[97]=0,_r[73]=_r[97]=1,Sr[145]=Sr[25]=0,Cr[145]=Cr[25]=-1,Pr[145]=Pr[25]=0,Rr[145]=Rr[25]=1,Ar[145]=Ar[25]=0,Or[145]=Or[25]=1,Hr[145]=Hr[25]=0,Ur[145]=Ur[25]=1,Gr[145]=Gr[25]=1,kr[145]=kr[25]=-1,Er[145]=Er[25]=0,Tr[145]=Tr[25]=0,Mr[70]=Mr[100]=0,Ir[70]=Ir[100]=1,Lr[70]=Lr[100]=0,zr[70]=zr[100]=-1,Nr[70]=Nr[100]=0,Dr[70]=Dr[100]=1,Fr[70]=Fr[100]=0,Br[70]=Br[100]=-1,jr[70]=jr[100]=1,wr[70]=wr[100]=1,xr[70]=xr[100]=0,_r[70]=_r[100]=0,Mr[101]=Mr[69]=0,Ir[101]=Ir[69]=1,Lr[101]=Lr[69]=0,wr[101]=wr[69]=1,xr[101]=xr[69]=0,_r[101]=_r[69]=0,Hr[149]=Hr[21]=0,Ur[149]=Ur[21]=1,Gr[149]=Gr[21]=1,kr[149]=kr[21]=-1,Er[149]=Er[21]=0,Tr[149]=Tr[21]=0,zr[86]=zr[84]=-1,Nr[86]=Nr[84]=0,Dr[86]=Dr[84]=1,Fr[86]=Fr[84]=0,Br[86]=Br[84]=-1,jr[86]=jr[84]=1,Sr[89]=Sr[81]=0,Cr[89]=Cr[81]=-1,Pr[89]=Pr[81]=0,Rr[89]=Rr[81]=1,Ar[89]=Ar[81]=0,Or[89]=Or[81]=1,Sr[96]=Sr[74]=0,Cr[96]=Cr[74]=1,Pr[96]=Pr[74]=0,Mr[96]=Mr[74]=-1,Ir[96]=Ir[74]=0,Lr[96]=Lr[74]=1,Fr[96]=Fr[74]=1,Br[96]=Br[74]=0,jr[96]=jr[74]=0,wr[96]=wr[74]=1,xr[96]=xr[74]=0,_r[96]=_r[74]=1,Sr[24]=Sr[146]=0,Cr[24]=Cr[146]=-1,Pr[24]=Pr[146]=1,zr[24]=zr[146]=1,Nr[24]=Nr[146]=0,Dr[24]=Dr[146]=1,Rr[24]=Rr[146]=0,Ar[24]=Ar[146]=1,Or[24]=Or[146]=1,kr[24]=kr[146]=0,Er[24]=Er[146]=-1,Tr[24]=Tr[146]=0,Mr[6]=Mr[164]=-1,Ir[6]=Ir[164]=0,Lr[6]=Lr[164]=1,zr[6]=zr[164]=-1,Nr[6]=Nr[164]=0,Dr[6]=Dr[164]=0,Hr[6]=Hr[164]=0,Ur[6]=Ur[164]=-1,Gr[6]=Gr[164]=1,Fr[6]=Fr[164]=1,Br[6]=Br[164]=0,jr[6]=jr[164]=0,Rr[129]=Rr[41]=0,Ar[129]=Ar[41]=1,Or[129]=Or[41]=1,Hr[129]=Hr[41]=0,Ur[129]=Ur[41]=1,Gr[129]=Gr[41]=0,wr[129]=wr[41]=-1,xr[129]=xr[41]=0,_r[129]=_r[41]=0,kr[129]=kr[41]=0,Er[129]=Er[41]=-1,Tr[129]=Tr[41]=0,zr[66]=zr[104]=0,Nr[66]=Nr[104]=1,Dr[66]=Dr[104]=0,Rr[66]=Rr[104]=-1,Ar[66]=Ar[104]=0,Or[66]=Or[104]=1,Fr[66]=Fr[104]=0,Br[66]=Br[104]=-1,jr[66]=jr[104]=0,wr[66]=wr[104]=0,xr[66]=xr[104]=-1,_r[66]=_r[104]=1,Sr[144]=Sr[26]=-1,Cr[144]=Cr[26]=0,Pr[144]=Pr[26]=0,Hr[144]=Hr[26]=1,Ur[144]=Ur[26]=0,Gr[144]=Gr[26]=1,Fr[144]=Fr[26]=0,Br[144]=Br[26]=1,jr[144]=jr[26]=1,kr[144]=kr[26]=-1,Er[144]=Er[26]=0,Tr[144]=Tr[26]=1,Mr[36]=Mr[134]=0,Ir[36]=Ir[134]=1,Lr[36]=Lr[134]=1,zr[36]=zr[134]=0,Nr[36]=Nr[134]=1,Dr[36]=Dr[134]=0,wr[36]=wr[134]=0,xr[36]=xr[134]=-1,_r[36]=_r[134]=1,kr[36]=kr[134]=1,Er[36]=Er[134]=0,Tr[36]=Tr[134]=0,Sr[9]=Sr[161]=-1,Cr[9]=Cr[161]=0,Pr[9]=Pr[161]=0,Mr[9]=Mr[161]=0,Ir[9]=Ir[161]=-1,Lr[9]=Lr[161]=0,Rr[9]=Rr[161]=1,Ar[9]=Ar[161]=0,Or[9]=Or[161]=0,Hr[9]=Hr[161]=1,Ur[9]=Ur[161]=0,Gr[9]=Gr[161]=1,Sr[136]=0,Cr[136]=1,Pr[136]=1,Mr[136]=0,Ir[136]=1,Lr[136]=0,zr[136]=-1,Nr[136]=0,Dr[136]=1,Rr[136]=-1,Ar[136]=0,Or[136]=0,Hr[136]=0,Ur[136]=-1,Gr[136]=0,Fr[136]=0,Br[136]=-1,jr[136]=1,wr[136]=1,xr[136]=0,_r[136]=0,kr[136]=1,Er[136]=0,Tr[136]=1,Sr[34]=0,Cr[34]=-1,Pr[34]=0,Mr[34]=0,Ir[34]=-1,Lr[34]=1,zr[34]=1,Nr[34]=0,Dr[34]=0,Rr[34]=1,Ar[34]=0,Or[34]=1,Hr[34]=0,Ur[34]=1,Gr[34]=1,Fr[34]=0,Br[34]=1,jr[34]=0,wr[34]=-1,xr[34]=0,_r[34]=1,kr[34]=-1,Er[34]=0,Tr[34]=0,Sr[35]=0,Cr[35]=1,Pr[35]=1,Mr[35]=0,Ir[35]=-1,Lr[35]=1,zr[35]=1,Nr[35]=0,Dr[35]=0,Rr[35]=-1,Ar[35]=0,Or[35]=0,Hr[35]=0,Ur[35]=-1,Gr[35]=0,Fr[35]=0,Br[35]=1,jr[35]=0,wr[35]=-1,xr[35]=0,_r[35]=1,kr[35]=1,Er[35]=0,Tr[35]=1,Sr[153]=0,Cr[153]=1,Pr[153]=1,Rr[153]=-1,Ar[153]=0,Or[153]=0,Hr[153]=0,Ur[153]=-1,Gr[153]=0,kr[153]=1,Er[153]=0,Tr[153]=1,Mr[102]=0,Ir[102]=-1,Lr[102]=1,zr[102]=1,Nr[102]=0,Dr[102]=0,Fr[102]=0,Br[102]=1,jr[102]=0,wr[102]=-1,xr[102]=0,_r[102]=1,Sr[155]=0,Cr[155]=-1,Pr[155]=0,Rr[155]=1,Ar[155]=0,Or[155]=1,Hr[155]=0,Ur[155]=1,Gr[155]=1,kr[155]=-1,Er[155]=0,Tr[155]=0,Mr[103]=0,Ir[103]=1,Lr[103]=0,zr[103]=-1,Nr[103]=0,Dr[103]=1,Fr[103]=0,Br[103]=-1,jr[103]=1,wr[103]=1,xr[103]=0,_r[103]=0,Sr[152]=0,Cr[152]=1,Pr[152]=1,zr[152]=-1,Nr[152]=0,Dr[152]=1,Rr[152]=-1,Ar[152]=0,Or[152]=0,Hr[152]=0,Ur[152]=-1,Gr[152]=0,Fr[152]=0,Br[152]=-1,jr[152]=1,kr[152]=1,Er[152]=0,Tr[152]=1,Sr[156]=0,Cr[156]=-1,Pr[156]=1,zr[156]=1,Nr[156]=0,Dr[156]=1,Rr[156]=-1,Ar[156]=0,Or[156]=0,Hr[156]=0,Ur[156]=-1,Gr[156]=0,Fr[156]=0,Br[156]=1,jr[156]=1,kr[156]=-1,Er[156]=0,Tr[156]=1,Sr[137]=0,Cr[137]=1,Pr[137]=1,Mr[137]=0,Ir[137]=1,Lr[137]=0,Rr[137]=-1,Ar[137]=0,Or[137]=0,Hr[137]=0,Ur[137]=-1,Gr[137]=0,wr[137]=1,xr[137]=0,_r[137]=0,kr[137]=1,Er[137]=0,Tr[137]=1,Sr[139]=0,Cr[139]=1,Pr[139]=1,Mr[139]=0,Ir[139]=-1,Lr[139]=0,Rr[139]=1,Ar[139]=0,Or[139]=0,Hr[139]=0,Ur[139]=1,Gr[139]=0,wr[139]=-1,xr[139]=0,_r[139]=0,kr[139]=1,Er[139]=0,Tr[139]=1,Sr[98]=0,Cr[98]=-1,Pr[98]=0,Mr[98]=0,Ir[98]=-1,Lr[98]=1,zr[98]=1,Nr[98]=0,Dr[98]=0,Rr[98]=1,Ar[98]=0,Or[98]=1,Fr[98]=0,Br[98]=1,jr[98]=0,wr[98]=-1,xr[98]=0,_r[98]=1,Sr[99]=0,Cr[99]=1,Pr[99]=0,Mr[99]=0,Ir[99]=-1,Lr[99]=1,zr[99]=1,Nr[99]=0,Dr[99]=0,Rr[99]=-1,Ar[99]=0,Or[99]=1,Fr[99]=0,Br[99]=-1,jr[99]=0,wr[99]=1,xr[99]=0,_r[99]=1,Mr[38]=0,Ir[38]=-1,Lr[38]=1,zr[38]=1,Nr[38]=0,Dr[38]=0,Hr[38]=0,Ur[38]=1,Gr[38]=1,Fr[38]=0,Br[38]=1,jr[38]=0,wr[38]=-1,xr[38]=0,_r[38]=1,kr[38]=-1,Er[38]=0,Tr[38]=0,Mr[39]=0,Ir[39]=1,Lr[39]=1,zr[39]=-1,Nr[39]=0,Dr[39]=0,Hr[39]=0,Ur[39]=-1,Gr[39]=1,Fr[39]=0,Br[39]=1,jr[39]=0,wr[39]=-1,xr[39]=0,_r[39]=1,kr[39]=1,Er[39]=0,Tr[39]=0;var ub=function(e){return[[e.bottomleft,0],[0,0],[0,e.leftbottom]]},hb=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0]]},db=function(e){return[[e.topright,1],[1,1],[1,e.righttop]]},pb=function(e){return[[0,e.lefttop],[0,1],[e.topleft,1]]},fb=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop]]},gb=function(e){return[[e.bottomright,0],[e.bottomleft,0],[1,e.righttop],[1,e.rightbottom]]},mb=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.topleft,1],[e.topright,1]]},vb=function(e){return[[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},Se=[],ke=[],Fe=[],Oe=[],Ze=[],We=[],qr=[],Vr=[];Oe[1]=Ze[1]=18,Oe[169]=Ze[169]=18,Fe[4]=ke[4]=12,Fe[166]=ke[166]=12,Se[16]=Vr[16]=4,Se[154]=Vr[154]=4,We[64]=qr[64]=22,We[106]=qr[106]=22,Fe[2]=We[2]=17,Oe[2]=Ze[2]=18,Fe[168]=We[168]=17,Oe[168]=Ze[168]=18,Se[8]=Oe[8]=9,ke[8]=Fe[8]=12,Se[162]=Oe[162]=9,ke[162]=Fe[162]=12,Se[32]=Vr[32]=4,ke[32]=qr[32]=1,Se[138]=Vr[138]=4,ke[138]=qr[138]=1,Ze[128]=Vr[128]=21,We[128]=qr[128]=22,Ze[42]=Vr[42]=21,We[42]=qr[42]=22,ke[5]=Ze[5]=14,ke[165]=Ze[165]=14,Fe[20]=Vr[20]=6,Fe[150]=Vr[150]=6,Se[80]=We[80]=11,Se[90]=We[90]=11,Oe[65]=qr[65]=3,Oe[105]=qr[105]=3,Se[160]=We[160]=11,ke[160]=Ze[160]=14,Se[10]=We[10]=11,ke[10]=Ze[10]=14,Fe[130]=Vr[130]=6,Oe[130]=qr[130]=3,Fe[40]=Vr[40]=6,Oe[40]=qr[40]=3,ke[101]=qr[101]=1,ke[69]=qr[69]=1,Ze[149]=Vr[149]=21,Ze[21]=Vr[21]=21,Fe[86]=We[86]=17,Fe[84]=We[84]=17,Se[89]=Oe[89]=9,Se[81]=Oe[81]=9,Se[96]=qr[96]=0,ke[96]=We[96]=15,Se[74]=qr[74]=0,ke[74]=We[74]=15,Se[24]=Fe[24]=8,Oe[24]=Vr[24]=7,Se[146]=Fe[146]=8,Oe[146]=Vr[146]=7,ke[6]=We[6]=15,Fe[6]=Ze[6]=16,ke[164]=We[164]=15,Fe[164]=Ze[164]=16,Oe[129]=Vr[129]=7,Ze[129]=qr[129]=20,Oe[41]=Vr[41]=7,Ze[41]=qr[41]=20,Fe[66]=qr[66]=2,Oe[66]=We[66]=19,Fe[104]=qr[104]=2,Oe[104]=We[104]=19,Se[144]=Ze[144]=10,We[144]=Vr[144]=23,Se[26]=Ze[26]=10,We[26]=Vr[26]=23,ke[36]=Vr[36]=5,Fe[36]=qr[36]=2,ke[134]=Vr[134]=5,Fe[134]=qr[134]=2,Se[9]=Ze[9]=10,ke[9]=Oe[9]=13,Se[161]=Ze[161]=10,ke[161]=Oe[161]=13,ke[37]=Vr[37]=5,Ze[37]=qr[37]=20,ke[133]=Vr[133]=5,Ze[133]=qr[133]=20,Fe[148]=Ze[148]=16,We[148]=Vr[148]=23,Fe[22]=Ze[22]=16,We[22]=Vr[22]=23,Se[82]=Fe[82]=8,Oe[82]=We[82]=19,Se[88]=Fe[88]=8,Oe[88]=We[88]=19,Se[73]=qr[73]=0,ke[73]=Oe[73]=13,Se[97]=qr[97]=0,ke[97]=Oe[97]=13,Se[145]=Oe[145]=9,Ze[145]=Vr[145]=21,Se[25]=Oe[25]=9,Ze[25]=Vr[25]=21,ke[70]=qr[70]=1,Fe[70]=We[70]=17,ke[100]=qr[100]=1,Fe[100]=We[100]=17,Se[34]=Oe[34]=9,ke[34]=Fe[34]=12,Ze[34]=Vr[34]=21,We[34]=qr[34]=22,Se[136]=Vr[136]=4,ke[136]=qr[136]=1,Fe[136]=We[136]=17,Oe[136]=Ze[136]=18,Se[35]=Vr[35]=4,ke[35]=Fe[35]=12,Oe[35]=Ze[35]=18,We[35]=qr[35]=22,Se[153]=Vr[153]=4,Oe[153]=Ze[153]=18,ke[102]=Fe[102]=12,We[102]=qr[102]=22,Se[155]=Oe[155]=9,Ze[155]=Vr[155]=23,ke[103]=qr[103]=1,Fe[103]=We[103]=17,Se[152]=Vr[152]=4,Fe[152]=We[152]=17,Oe[152]=Ze[152]=18,Se[156]=Fe[156]=8,Oe[156]=Ze[156]=18,We[156]=Vr[156]=23,Se[137]=Vr[137]=4,ke[137]=qr[137]=1,Oe[137]=Ze[137]=18,Se[139]=Vr[139]=4,ke[139]=Oe[139]=13,Ze[139]=qr[139]=20,Se[98]=Oe[98]=9,ke[98]=Fe[98]=12,We[98]=qr[98]=22,Se[99]=qr[99]=0,ke[99]=Fe[99]=12,Oe[99]=We[99]=19,ke[38]=Fe[38]=12,Ze[38]=Vr[38]=21,We[38]=qr[38]=22,ke[39]=Vr[39]=5,Fe[39]=Ze[39]=16,We[39]=qr[39]=22;var ve=[];function et(e,i,s){return(e-i)/(s-i)}function yb(e){return e.constructor.toString().indexOf("Array")>-1}function CM(e,i,s,a,c,h){for(var g=e.cells[s][i],y=g.cval_real,w=i+a,x=s+c,T=[],E=!1;!E;){if(e.cells[x]===void 0||e.cells[x][w]===void 0)if(x-=c,w-=a,y=(g=e.cells[x][w]).cval_real,c===-1)if(h===0)if(1&y)T.push([w,x]),a=-1,c=0,h=0;else{if(!(4&y)){T.push([w+g.bottomright,x]),a=0,c=1,h=1,E=!0;break}T.push([w+1,x]),a=1,c=0,h=0}else{if(!(1&y)){if(4&y){T.push([w+g.bottomright,x]),a=0,c=1,h=1,E=!0;break}T.push([w+g.bottomleft,x]),a=0,c=1,h=0,E=!0;break}T.push([w,x]),a=-1,c=0,h=0}else if(c===1)if(h===0){if(!(y&ua)){if(y&Zn){T.push([w+g.topleft,x+1]),a=0,c=-1,h=0,E=!0;break}T.push([w+g.topright,x+1]),a=0,c=-1,h=1,E=!0;break}T.push([w+1,x+1]),a=1,c=0,h=1}else T.push([w+1,x+1]),a=1,c=0,h=1;else if(a===-1)if(h===0){if(!(y&Zn)){if(1&y){T.push([w,x+g.leftbottom]),a=1,c=0,h=0,E=!0;break}T.push([w,x+g.lefttop]),a=1,c=0,h=1,E=!0;break}T.push([w,x+1]),a=0,c=1,h=0}else{if(!(y&Zn)){console.log("MarchingSquaresJS-isoBands: wtf");break}T.push([w,x+1]),a=0,c=1,h=0}else{if(a!==1){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(h===0){if(!(4&y)){T.push([w+1,x+g.rightbottom]),a=-1,c=0,h=0,E=!0;break}T.push([w+1,x]),a=0,c=-1,h=1}else{if(!(4&y)){if(y&ua){T.push([w+1,x+g.righttop]),a=-1,c=0,h=1;break}T.push([w+1,x+g.rightbottom]),a=-1,c=0,h=0,E=!0;break}T.push([w+1,x]),a=0,c=-1,h=1}}else if(y=(g=e.cells[x][w]).cval_real,a===-1)if(h===0)if(e.cells[x-1]!==void 0&&e.cells[x-1][w]!==void 0)a=0,c=-1,h=1;else{if(!(1&y)){T.push([w+g.bottomright,x]),a=0,c=1,h=1,E=!0;break}T.push([w,x])}else{if(!(y&Zn)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+w+","+x);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(a===1){if(h===0){console.log("MarchingSquaresJS-isoBands: wtf");break}if(e.cells[x+1]!==void 0&&e.cells[x+1][w]!==void 0)a=0,c=1,h=0;else{if(!(y&ua)){T.push([w+g.topleft,x+1]),a=0,c=-1,h=0,E=!0;break}T.push([w+1,x+1]),a=1,c=0,h=1}}else if(c===-1){if(h!==1){console.log("MarchingSquaresJS-isoBands: wtf");break}if(e.cells[x][w+1]!==void 0)a=1,c=0,h=1;else{if(!(4&y)){T.push([w+1,x+g.righttop]),a=-1,c=0,h=1,E=!0;break}T.push([w+1,x]),a=0,c=-1,h=1}}else{if(c!==1){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(h!==0){console.log("MarchingSquaresJS-isoBands: wtf");break}if(e.cells[x][w-1]!==void 0)a=-1,c=0,h=0;else{if(!(y&Zn)){T.push([w,x+g.leftbottom]),a=1,c=0,h=0,E=!0;break}T.push([w,x+1]),a=0,c=1,h=0}}if(x+=c,(w+=a)===i&&x===s)break}return{path:T,i:w,j:x,x:a,y:c,o:h}}function PM(e){if(e.edges.length>0){var i=e.edges[e.edges.length-1],s=e.cval_real;switch(i){case 0:return s&ua?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.topleft,1],x:0,y:-1,o:0};case 1:return 4&s?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 2:return 4&s?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[e.topleft,1],x:0,y:-1,o:0};case 3:return 1&s?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 4:return s&ua?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};case 5:return 4&s?{p:[e.topright,1],x:0,y:-1,o:1}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 6:return 4&s?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};case 7:return 1&s?{p:[e.topright,1],x:0,y:-1,o:1}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 8:return 4&s?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[1,e.righttop],x:-1,y:0,o:1};case 9:return 1&s?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 10:return 1&s?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[1,e.righttop],x:-1,y:0,o:1};case 11:return s&Zn?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[0,e.lefttop],x:1,y:0,o:1};case 12:return 4&s?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 13:return 1&s?{p:[1,e.rightbottom],x:-1,y:0,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 14:return 1&s?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 15:return s&Zn?{p:[1,e.rightbottom],x:-1,y:0,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 16:return 4&s?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[0,e.leftbottom],x:1,y:0,o:0};case 17:return s&Zn?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[0,e.lefttop],x:1,y:0,o:1};case 18:return 1&s?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 19:return s&Zn?{p:[e.bottomleft,0],x:0,y:1,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 20:return s&Zn?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[0,e.leftbottom],x:1,y:0,o:0};case 21:return s&ua?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[e.topright,1],x:0,y:-1,o:1};case 22:return s&Zn?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 23:return s&ua?{p:[0,e.lefttop],x:1,y:0,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(e)}}return null}function MM(e,i,s,a){var c,h,g,y,w,x=e.cval;switch(i){case-1:switch(a){case 0:c=ke[x],g=Mr[x],y=Ir[x],w=Lr[x];break;default:c=Se[x],g=Sr[x],y=Cr[x],w=Pr[x]}break;case 1:switch(a){case 0:c=Ze[x],g=Hr[x],y=Ur[x],w=Gr[x];break;default:c=We[x],g=Fr[x],y=Br[x],w=jr[x]}break;default:switch(s){case-1:switch(a){case 0:c=qr[x],g=wr[x],y=xr[x],w=_r[x];break;default:c=Vr[x],g=kr[x],y=Er[x],w=Tr[x]}break;case 1:switch(a){case 0:c=Oe[x],g=Rr[x],y=Ar[x],w=Or[x];break;default:c=Fe[x],g=zr[x],y=Nr[x],w=Dr[x]}}}if(h=e.edges.indexOf(c),e.edges[h]===void 0)return null;switch(function(T,E){delete T.edges[E];for(var P=E+1;P<T.edges.length;P++)T.edges[P-1]=T.edges[P];T.edges.pop()}(e,h),x=e.cval_real,c){case 0:x&ua?(i=e.topleft,s=1):(i=1,s=e.righttop);break;case 1:4&x?(i=1,s=e.rightbottom):(i=e.topleft,s=1);break;case 2:4&x?(i=e.topleft,s=1):(i=e.bottomright,s=0);break;case 3:1&x?(i=e.bottomleft,s=0):(i=e.topleft,s=1);break;case 4:x&ua?(i=e.topright,s=1):(i=1,s=e.righttop);break;case 5:4&x?(i=1,s=e.rightbottom):(i=e.topright,s=1);break;case 6:4&x?(i=e.topright,s=1):(i=e.bottomright,s=0);break;case 7:1&x?(i=e.bottomleft,s=0):(i=e.topright,s=1);break;case 8:4&x?(i=1,s=e.righttop):(i=e.bottomright,s=0);break;case 9:1&x?(i=e.bottomleft,s=0):(i=1,s=e.righttop);break;case 10:1&x?(i=1,s=e.righttop):(i=0,s=e.leftbottom);break;case 11:x&Zn?(i=0,s=e.lefttop):(i=1,s=e.righttop);break;case 12:4&x?(i=1,s=e.rightbottom):(i=e.bottomright,s=0);break;case 13:1&x?(i=e.bottomleft,s=0):(i=1,s=e.rightbottom);break;case 14:1&x?(i=1,s=e.rightbottom):(i=0,s=e.leftbottom);break;case 15:x&Zn?(i=0,s=e.lefttop):(i=1,s=e.rightbottom);break;case 16:4&x?(i=0,s=e.leftbottom):(i=e.bottomright,s=0);break;case 17:x&Zn?(i=0,s=e.lefttop):(i=e.bottomright,s=0);break;case 18:1&x?(i=e.bottomleft,s=0):(i=0,s=e.leftbottom);break;case 19:x&Zn?(i=0,s=e.lefttop):(i=e.bottomleft,s=0);break;case 20:x&Zn?(i=0,s=e.leftbottom):(i=e.topleft,s=1);break;case 21:x&ua?(i=e.topright,s=1):(i=0,s=e.leftbottom);break;case 22:x&Zn?(i=0,s=e.lefttop):(i=e.topleft,s=1);break;case 23:x&ua?(i=e.topright,s=1):(i=0,s=e.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(e),null}return i!==void 0&&s!==void 0&&g!==void 0&&y!==void 0&&w!==void 0||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(e),console.log(i+" "+s+" "+g+" "+y+" "+w)),{p:[i,s],x:g,y,o:w}}function IM(e){var i=[],s=[];e.forEach(function(c){var h=rd(v([c]));s.push(h),i.push({ring:c,area:h})}),s.sort(function(c,h){return h-c});var a=[];return s.forEach(function(c){for(var h=0;h<i.length;h++)if(i[h].area===c){a.push(i[h].ring),i.splice(h,1);break}}),a}function LM(e){for(var i=e.map(function(y){return{lrCoordinates:y,grouped:!1}}),s=[];!AM(i);)for(var a=0;a<i.length;a++)if(!i[a].grouped){var c=[];c.push(i[a].lrCoordinates),i[a].grouped=!0;for(var h=v([i[a].lrCoordinates]),g=a+1;g<i.length;g++)i[g].grouped||RM(v([i[g].lrCoordinates]),h)&&(c.push(i[g].lrCoordinates),i[g].grouped=!0);s.push(c)}return s}function RM(e,i){for(var s=Nu(e),a=0;a<s.features.length;a++)if(!Je(s.features[a],i))return!1;return!0}function AM(e){for(var i=0;i<e.length;i++)if(e[i].grouped===!1)return!1;return!0}function h_(e,i,s){if(!gt(s=s||{}))throw new Error("options is invalid");var a=s.pivot,c=s.mutate;if(!e)throw new Error("geojson is required");if(i==null||isNaN(i))throw new Error("angle is required");return i===0||(a||(a=na(e)),c!==!1&&c!==void 0||(e=Si(e)),Ct(e,function(h){var g=zl(a,h)+i,y=Ll(a,h),w=j(cd(a,y,g));h[0]=w[0],h[1]=w[1]})),e}function d_(e,i,s){if(!gt(s=s||{}))throw new Error("options is invalid");var a=s.origin,c=s.mutate;if(!e)throw new Error("geojson required");if(typeof i!="number"||i===0)throw new Error("invalid factor");var h=Array.isArray(a)||typeof a=="object";return c!==!0&&(e=Si(e)),e.type!=="FeatureCollection"||h?p_(e,i,a):(bt(e,function(g,y){e.features[y]=p_(g,i,a)}),e)}function p_(e,i,s){var a=Lt(e)==="Point";return s=function(c,h){if(h==null&&(h="centroid"),Array.isArray(h)||typeof h=="object")return R(h);var g=c.bbox?c.bbox:Dt(c),y=g[0],w=g[1],x=g[2],T=g[3];switch(h){case"sw":case"southwest":case"westsouth":case"bottomleft":return f([y,w]);case"se":case"southeast":case"eastsouth":case"bottomright":return f([x,w]);case"nw":case"northwest":case"westnorth":case"topleft":return f([y,T]);case"ne":case"northeast":case"eastnorth":case"topright":return f([x,T]);case"center":return os(c);case void 0:case null:case"centroid":return na(c);default:throw new Error("invalid origin")}}(e,s),i===1||a||Ct(e,function(c){var h=Ll(s,c),g=zl(s,c),y=j(cd(s,h*i,g));c[0]=y[0],c[1]=y[1],c.length===3&&(c[2]*=i)}),e}function Jm(e){var i=e[0],s=e[1];return[s[0]-i[0],s[1]-i[1]]}function bb(e,i){return e[0]*i[1]-i[0]*e[1]}function OM(e,i){return!function(s,a){return bb(Jm(s),Jm(a))===0}(e,i)&&function(s,a){var c,h,g=s[0],y=Jm(s),w=a[0],x=Jm(a),T=bb(y,x);return function(E,P){return[E[0]+P[0],E[1]+P[1]]}(g,function(E,P){return[E*P[0],E*P[1]]}(bb((h=g,[(c=w)[0]-h[0],c[1]-h[1]]),x)/T,y))}(e,i)}function f_(e,i,s){var a=[],c=at(i,s),h=j(e),g=[];return h.forEach(function(y,w){if(w!==h.length-1){var x=(P=y,z=h[w+1],N=c,B=Math.sqrt((P[0]-z[0])*(P[0]-z[0])+(P[1]-z[1])*(P[1]-z[1])),A=P[0]+N*(z[1]-P[1])/B,Y=z[0]+N*(z[1]-P[1])/B,it=P[1]+N*(P[0]-z[0])/B,D=z[1]+N*(P[0]-z[0])/B,[[A,it],[Y,D]]);if(a.push(x),w>0){var T=a[w-1],E=OM(x,T);E!==!1&&(T[1]=E,x[0]=E),g.push(T[0]),w===h.length-2&&(g.push(x[0]),g.push(x[1]))}h.length===2&&(g.push(x[0]),g.push(x[1]))}var P,z,N,B,A,Y,it,D}),k(g,e.properties)}function wb(e,i,s){var a=i[0]-e[0],c=i[1]-e[1],h=s[0]-i[0];return function(g){return(g>0)-(g<0)||+g}(a*(s[1]-i[1])-h*c)}function g_(e,i){return i.geometry.coordinates[0].every(function(s){return Je(f(s),e)})}ve[1]=ve[169]=ub,ve[4]=ve[166]=hb,ve[16]=ve[154]=db,ve[64]=ve[106]=pb,ve[168]=ve[2]=fb,ve[162]=ve[8]=gb,ve[138]=ve[32]=mb,ve[42]=ve[128]=vb,ve[5]=ve[165]=function(e){return[[0,0],[0,e.leftbottom],[1,e.rightbottom],[1,0]]},ve[20]=ve[150]=function(e){return[[1,0],[e.bottomright,0],[e.topright,1],[1,1]]},ve[80]=ve[90]=function(e){return[[1,1],[1,e.righttop],[0,e.lefttop],[0,1]]},ve[65]=ve[105]=function(e){return[[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},ve[160]=ve[10]=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.leftbottom],[0,e.lefttop]]},ve[130]=ve[40]=function(e){return[[e.topleft,1],[e.topright,1],[e.bottomright,0],[e.bottomleft,0]]},ve[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},ve[101]=ve[69]=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,1],[e.topleft,1]]},ve[149]=ve[21]=function(e){return[[e.topright,1],[1,1],[1,0],[0,0],[0,e.leftbottom]]},ve[86]=ve[84]=function(e){return[[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[1,1]]},ve[89]=ve[81]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,1]]},ve[96]=ve[74]=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.lefttop],[0,1],[e.topleft,1]]},ve[24]=ve[146]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[e.topright,1]]},ve[6]=ve[164]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop]]},ve[129]=ve[41]=function(e){return[[e.topright,1],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1]]},ve[66]=ve[104]=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},ve[144]=ve[26]=function(e){return[[1,1],[1,e.righttop],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},ve[36]=ve[134]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[e.topleft,1],[e.topright,1]]},ve[9]=ve[161]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom]]},ve[37]=ve[133]=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},ve[148]=ve[22]=function(e){return[[1,1],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},ve[82]=ve[88]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1]]},ve[73]=ve[97]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},ve[145]=ve[25]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},ve[70]=ve[100]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},ve[34]=function(e){return[vb(e),gb(e)]},ve[35]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},ve[136]=function(e){return[mb(e),fb(e)]},ve[153]=function(e){return[db(e),ub(e)]},ve[102]=function(e){return[hb(e),pb(e)]},ve[155]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},ve[103]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},ve[152]=function(e){return[db(e),fb(e)]},ve[156]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},ve[137]=function(e){return[mb(e),ub(e)]},ve[139]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},ve[98]=function(e){return[gb(e),pb(e)]},ve[99]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},ve[38]=function(e){return[hb(e),vb(e)]},ve[39]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]};var m_=function(){function e(i){this.id=e.buildId(i),this.coordinates=i,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return e.buildId=function(i){return i.join(",")},e.prototype.removeInnerEdge=function(i){this.innerEdges=this.innerEdges.filter(function(s){return s.from.id!==i.from.id})},e.prototype.removeOuterEdge=function(i){this.outerEdges=this.outerEdges.filter(function(s){return s.to.id!==i.to.id})},e.prototype.addOuterEdge=function(i){this.outerEdges.push(i),this.outerEdgesSorted=!1},e.prototype.sortOuterEdges=function(){var i=this;this.outerEdgesSorted||(this.outerEdges.sort(function(s,a){var c=s.to,h=a.to;if(c.coordinates[0]-i.coordinates[0]>=0&&h.coordinates[0]-i.coordinates[0]<0)return 1;if(c.coordinates[0]-i.coordinates[0]<0&&h.coordinates[0]-i.coordinates[0]>=0)return-1;if(c.coordinates[0]-i.coordinates[0]==0&&h.coordinates[0]-i.coordinates[0]==0)return c.coordinates[1]-i.coordinates[1]>=0||h.coordinates[1]-i.coordinates[1]>=0?c.coordinates[1]-h.coordinates[1]:h.coordinates[1]-c.coordinates[1];var g=wb(i.coordinates,c.coordinates,h.coordinates);return g<0?1:g>0?-1:Math.pow(c.coordinates[0]-i.coordinates[0],2)+Math.pow(c.coordinates[1]-i.coordinates[1],2)-(Math.pow(h.coordinates[0]-i.coordinates[0],2)+Math.pow(h.coordinates[1]-i.coordinates[1],2))}),this.outerEdgesSorted=!0)},e.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},e.prototype.getOuterEdge=function(i){return this.sortOuterEdges(),this.outerEdges[i]},e.prototype.addInnerEdge=function(i){this.innerEdges.push(i)},e}(),zM=function(){function e(i,s){this.from=i,this.to=s,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return e.prototype.getSymetric=function(){return this.symetric||(this.symetric=new e(this.to,this.from),this.symetric.symetric=this),this.symetric},e.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},e.prototype.isEqual=function(i){return this.from.id===i.from.id&&this.to.id===i.to.id},e.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},e.prototype.toLineString=function(){return k([this.from.coordinates,this.to.coordinates])},e.prototype.compareTo=function(i){return wb(i.from.coordinates,i.to.coordinates,this.to.coordinates)},e}(),v_=function(){function e(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return e.prototype.push=function(i){this.edges.push(i),this.polygon=this.envelope=void 0},e.prototype.get=function(i){return this.edges[i]},Object.defineProperty(e.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),e.prototype.forEach=function(i){this.edges.forEach(i)},e.prototype.map=function(i){return this.edges.map(i)},e.prototype.some=function(i){return this.edges.some(i)},e.prototype.isValid=function(){return!0},e.prototype.isHole=function(){var i=this,s=this.edges.reduce(function(g,y,w){return y.from.coordinates[1]>i.edges[g].from.coordinates[1]&&(g=w),g},0),a=(s===0?this.length:s)-1,c=(s+1)%this.length,h=wb(this.edges[a].from.coordinates,this.edges[s].from.coordinates,this.edges[c].from.coordinates);return h===0?this.edges[a].from.coordinates[0]>this.edges[c].from.coordinates[0]:h>0},e.prototype.toMultiPoint=function(){return F(this.edges.map(function(i){return i.from.coordinates}))},e.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var i=this.edges.map(function(s){return s.from.coordinates});return i.push(this.edges[0].from.coordinates),this.polygon=v([i])},e.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=qh(this.toPolygon())},e.findEdgeRingContaining=function(i,s){var a,c,h=i.getEnvelope();return s.forEach(function(g){var y,w,x,T,E,P,z=g.getEnvelope();if(c&&(a=c.getEnvelope()),w=h,x=(y=z).geometry.coordinates[0].map(function(D){return D[0]}),T=y.geometry.coordinates[0].map(function(D){return D[1]}),E=w.geometry.coordinates[0].map(function(D){return D[0]}),P=w.geometry.coordinates[0].map(function(D){return D[1]}),(Math.max.apply(null,x)!==Math.max.apply(null,E)||Math.max.apply(null,T)!==Math.max.apply(null,P)||Math.min.apply(null,x)!==Math.min.apply(null,E)||Math.min.apply(null,T)!==Math.min.apply(null,P))&&g_(z,h)){for(var N=i.map(function(D){return D.from.coordinates}),B=void 0,A=function(D){g.some(function(W){return X=D,tt=W.from.coordinates,X[0]===tt[0]&&X[1]===tt[1];var X,tt})||(B=D)},Y=0,it=N;Y<it.length;Y++)A(it[Y]);B&&g.inside(f(B))&&(c&&!g_(a,z)||(c=g))}}),c},e.prototype.inside=function(i){return Je(i,this.toPolygon())},e}(),NM=function(){function e(){this.edges=[],this.nodes={}}return e.fromGeoJson=function(i){(function(a){if(!a)throw new Error("No geojson passed");if(a.type!=="FeatureCollection"&&a.type!=="GeometryCollection"&&a.type!=="MultiLineString"&&a.type!=="LineString"&&a.type!=="Feature")throw new Error("Invalid input type '"+a.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")})(i);var s=new e;return ae(i,function(a){dt(a,"LineString","Graph::fromGeoJson"),Kt(a,function(c,h){if(c){var g=s.getNode(c),y=s.getNode(h);s.addEdge(g,y)}return h})}),s},e.prototype.getNode=function(i){var s=m_.buildId(i),a=this.nodes[s];return a||(a=this.nodes[s]=new m_(i)),a},e.prototype.addEdge=function(i,s){var a=new zM(i,s),c=a.getSymetric();this.edges.push(a),this.edges.push(c)},e.prototype.deleteDangles=function(){var i=this;Object.keys(this.nodes).map(function(s){return i.nodes[s]}).forEach(function(s){return i._removeIfDangle(s)})},e.prototype._removeIfDangle=function(i){var s=this;if(i.innerEdges.length<=1){var a=i.getOuterEdges().map(function(c){return c.to});this.removeNode(i),a.forEach(function(c){return s._removeIfDangle(c)})}},e.prototype.deleteCutEdges=function(){var i=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(s){s.label===s.symetric.label&&(i.removeEdge(s.symetric),i.removeEdge(s))})},e.prototype._computeNextCWEdges=function(i){var s=this;i===void 0?Object.keys(this.nodes).forEach(function(a){return s._computeNextCWEdges(s.nodes[a])}):i.getOuterEdges().forEach(function(a,c){i.getOuterEdge((c===0?i.getOuterEdges().length:c)-1).symetric.next=a})},e.prototype._computeNextCCWEdges=function(i,s){for(var a,c,h=i.getOuterEdges(),g=h.length-1;g>=0;--g){var y=h[g],w=y.symetric,x=void 0,T=void 0;y.label===s&&(x=y),w.label===s&&(T=w),x&&T&&(T&&(c=T),x&&(c&&(c.next=x,c=void 0),a||(a=x)))}c&&(c.next=a)},e.prototype._findLabeledEdgeRings=function(){var i=[],s=0;return this.edges.forEach(function(a){if(!(a.label>=0)){i.push(a);var c=a;do c.label=s,c=c.next;while(!a.isEqual(c));s++}}),i},e.prototype.getEdgeRings=function(){var i=this;this._computeNextCWEdges(),this.edges.forEach(function(a){a.label=void 0}),this._findLabeledEdgeRings().forEach(function(a){i._findIntersectionNodes(a).forEach(function(c){i._computeNextCCWEdges(c,a.label)})});var s=[];return this.edges.forEach(function(a){a.ring||s.push(i._findEdgeRing(a))}),s},e.prototype._findIntersectionNodes=function(i){var s=[],a=i,c=function(){var h=0;a.from.getOuterEdges().forEach(function(g){g.label===i.label&&++h}),h>1&&s.push(a.from),a=a.next};do c();while(!i.isEqual(a));return s},e.prototype._findEdgeRing=function(i){var s=i,a=new v_;do a.push(s),s.ring=a,s=s.next;while(!i.isEqual(s));return a},e.prototype.removeNode=function(i){var s=this;i.getOuterEdges().forEach(function(a){return s.removeEdge(a)}),i.innerEdges.forEach(function(a){return s.removeEdge(a)}),delete this.nodes[i.id]},e.prototype.removeEdge=function(i){this.edges=this.edges.filter(function(s){return!s.isEqual(i)}),i.deleteEdge()},e}();function y_(e,i){var s=!0;return ae(e,function(a){ae(i,function(c){if(s===!1)return!1;s=function(h,g){switch(h.type){case"Point":switch(g.type){case"Point":return y=h.coordinates,w=g.coordinates,!(y[0]===w[0]&&y[1]===w[1]);case"LineString":return!b_(g,h);case"Polygon":return!Je(h,g)}break;case"LineString":switch(g.type){case"Point":return!b_(h,g);case"LineString":return!function(x,T){return dn(x,T).features.length>0}(h,g);case"Polygon":return!w_(g,h)}break;case"Polygon":switch(g.type){case"Point":return!Je(g,h);case"LineString":return!w_(h,g);case"Polygon":return!function(x,T){for(var E=0,P=x.coordinates[0];E<P.length;E++)if(Je(P[E],T))return!0;for(var z=0,N=T.coordinates[0];z<N.length;z++)if(Je(N[z],x))return!0;return dn(An(x),An(T)).features.length>0}(g,h)}}var y,w;return!1}(a.geometry,c.geometry)})}),s}function b_(e,i){for(var s=0;s<e.coordinates.length-1;s++)if(DM(e.coordinates[s],e.coordinates[s+1],i.coordinates))return!0;return!1}function w_(e,i){for(var s=0,a=i.coordinates;s<a.length;s++)if(Je(a[s],e))return!0;return dn(i,An(e)).features.length>0}function DM(e,i,s){var a=s[0]-e[0],c=s[1]-e[1],h=i[0]-e[0],g=i[1]-e[1];return a*g-c*h==0&&(Math.abs(h)>=Math.abs(g)?h>0?e[0]<=s[0]&&s[0]<=i[0]:i[0]<=s[0]&&s[0]<=e[0]:g>0?e[1]<=s[1]&&s[1]<=i[1]:i[1]<=s[1]&&s[1]<=e[1])}function x_(e,i){return!(e[0]>i[0])&&!(e[2]<i[2])&&!(e[1]>i[1])&&!(e[3]<i[3])}function xb(e,i){return e[0]===i[0]&&e[1]===i[1]}function FM(e,i){return[(e[0]+i[0])/2,(e[1]+i[1])/2]}function __(e,i){for(var s=!1,a=!1,c=e.coordinates.length,h=0;h<c&&!s&&!a;){for(var g=0;g<i.coordinates.length-1;g++){var y=!0;g!==0&&g!==i.coordinates.length-2||(y=!1),T_(i.coordinates[g],i.coordinates[g+1],e.coordinates[h],y)?s=!0:a=!0}h++}return s&&a}function k_(e,i){return dn(e,Wn(i)).features.length>0}function E_(e,i){for(var s=!1,a=!1,c=e.coordinates.length,h=0;h<c&&(!s||!a);h++)Je(f(e.coordinates[h]),i)?s=!0:a=!0;return a&&s}function T_(e,i,s,a){var c=s[0]-e[0],h=s[1]-e[1],g=i[0]-e[0],y=i[1]-e[1];return c*y-h*g==0&&(a?Math.abs(g)>=Math.abs(y)?g>0?e[0]<=s[0]&&s[0]<=i[0]:i[0]<=s[0]&&s[0]<=e[0]:y>0?e[1]<=s[1]&&s[1]<=i[1]:i[1]<=s[1]&&s[1]<=e[1]:Math.abs(g)>=Math.abs(y)?g>0?e[0]<s[0]&&s[0]<i[0]:i[0]<s[0]&&s[0]<e[0]:y>0?e[1]<s[1]&&s[1]<i[1]:i[1]<s[1]&&s[1]<e[1])}var Ua=function(e){this.precision=e&&e.precision?e.precision:17,this.direction=!(!e||!e.direction)&&e.direction,this.pseudoNode=!(!e||!e.pseudoNode)&&e.pseudoNode,this.objectComparator=e&&e.objectComparator?e.objectComparator:BM};function S_(e){return e.coordinates.map(function(i){return{type:e.type.replace("Multi",""),coordinates:i}})}function C_(e,i){return e.hasOwnProperty("coordinates")?e.coordinates.length===i.coordinates.length:e.length===i.length}function BM(e,i){return Rc(e,i,{strict:!0})}Ua.prototype.compare=function(e,i){if(e.type!==i.type||!C_(e,i))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,i.coordinates);case"LineString":return this.compareLine(e.coordinates,i.coordinates,0,!1);case"Polygon":return this.comparePolygon(e,i);case"Feature":return this.compareFeature(e,i);default:if(e.type.indexOf("Multi")===0){var s=this,a=S_(e),c=S_(i);return a.every(function(h){return this.some(function(g){return s.compare(h,g)})},c)}}return!1},Ua.prototype.compareCoord=function(e,i){if(e.length!==i.length)return!1;for(var s=0;s<e.length;s++)if(e[s].toFixed(this.precision)!==i[s].toFixed(this.precision))return!1;return!0},Ua.prototype.compareLine=function(e,i,s,a){if(!C_(e,i))return!1;var c=this.pseudoNode?e:this.removePseudo(e),h=this.pseudoNode?i:this.removePseudo(i);if(!a||this.compareCoord(c[0],h[0])||(h=this.fixStartIndex(h,c))){var g=this.compareCoord(c[s],h[s]);return this.direction||g?this.comparePath(c,h):!!this.compareCoord(c[s],h[h.length-(1+s)])&&this.comparePath(c.slice().reverse(),h)}},Ua.prototype.fixStartIndex=function(e,i){for(var s,a=-1,c=0;c<e.length;c++)if(this.compareCoord(e[c],i[0])){a=c;break}return a>=0&&(s=[].concat(e.slice(a,e.length),e.slice(1,a+1))),s},Ua.prototype.comparePath=function(e,i){var s=this;return e.every(function(a,c){return s.compareCoord(a,this[c])},i)},Ua.prototype.comparePolygon=function(e,i){if(this.compareLine(e.coordinates[0],i.coordinates[0],1,!0)){var s=e.coordinates.slice(1,e.coordinates.length),a=i.coordinates.slice(1,i.coordinates.length),c=this;return s.every(function(h){return this.some(function(g){return c.compareLine(h,g,1,!0)})},a)}return!1},Ua.prototype.compareFeature=function(e,i){return!(e.id!==i.id||!this.objectComparator(e.properties,i.properties)||!this.compareBBox(e,i))&&this.compare(e.geometry,i.geometry)},Ua.prototype.compareBBox=function(e,i){return!!(!e.bbox&&!i.bbox||e.bbox&&i.bbox&&this.compareCoord(e.bbox,i.bbox))},Ua.prototype.removePseudo=function(e){return e};var P_=Ua;function M_(e,i){var s=!1;return ae(e,function(a){ae(i,function(c){if(s===!0)return!0;s=!y_(a.geometry,c.geometry)})}),s}var jM=is(function(e){function i(s,a,c,h){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(s,a,c,h)}i.prototype.run=function(s,a,c,h){this._init(s,a,c,h);for(var g=0;g<this._datasetLength;g++)if(this._visited[g]!==1){this._visited[g]=1;var y=this._regionQuery(g);if(y.length<this.minPts)this.noise.push(g);else{var w=this.clusters.length;this.clusters.push([]),this._addToCluster(g,w),this._expandCluster(w,y)}}return this.clusters},i.prototype._init=function(s,a,c,h){if(s){if(!(s instanceof Array))throw Error("Dataset must be of type array, "+typeof s+" given");this.dataset=s,this.clusters=[],this.noise=[],this._datasetLength=s.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}a&&(this.epsilon=a),c&&(this.minPts=c),h&&(this.distance=h)},i.prototype._expandCluster=function(s,a){for(var c=0;c<a.length;c++){var h=a[c];if(this._visited[h]!==1){this._visited[h]=1;var g=this._regionQuery(h);g.length>=this.minPts&&(a=this._mergeArrays(a,g))}this._assigned[h]!==1&&this._addToCluster(h,s)}},i.prototype._addToCluster=function(s,a){this.clusters[a].push(s),this._assigned[s]=1},i.prototype._regionQuery=function(s){for(var a=[],c=0;c<this._datasetLength;c++)this.distance(this.dataset[s],this.dataset[c])<this.epsilon&&a.push(c);return a},i.prototype._mergeArrays=function(s,a){for(var c=a.length,h=0;h<c;h++){var g=a[h];s.indexOf(g)<0&&s.push(g)}return s},i.prototype._euclideanDistance=function(s,a){for(var c=0,h=Math.min(s.length,a.length);h--;)c+=(s[h]-a[h])*(s[h]-a[h]);return Math.sqrt(c)},e.exports&&(e.exports=i)}),HM=is(function(e){function i(s,a,c){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(s,a,c)}i.prototype.init=function(s,a,c){this.assignments=[],this.centroids=[],s!==void 0&&(this.dataset=s),a!==void 0&&(this.k=a),c!==void 0&&(this.distance=c)},i.prototype.run=function(s,a){this.init(s,a);for(var c=this.dataset.length,h=0;h<this.k;h++)this.centroids[h]=this.randomCentroid();for(var g=!0;g;){g=this.assign();for(var y=0;y<this.k;y++){for(var w=new Array(P),x=0,T=0;T<P;T++)w[T]=0;for(var E=0;E<c;E++){var P=this.dataset[E].length;if(y===this.assignments[E]){for(T=0;T<P;T++)w[T]+=this.dataset[E][T];x++}}if(x>0){for(T=0;T<P;T++)w[T]/=x;this.centroids[y]=w}else this.centroids[y]=this.randomCentroid(),g=!0}}return this.getClusters()},i.prototype.randomCentroid=function(){var s,a,c=this.dataset.length-1;do a=Math.round(Math.random()*c),s=this.dataset[a];while(this.centroids.indexOf(s)>=0);return s},i.prototype.assign=function(){for(var s,a=!1,c=this.dataset.length,h=0;h<c;h++)(s=this.argmin(this.dataset[h],this.centroids,this.distance))!=this.assignments[h]&&(this.assignments[h]=s,a=!0);return a},i.prototype.getClusters=function(){for(var s,a=new Array(this.k),c=0;c<this.assignments.length;c++)a[s=this.assignments[c]]===void 0&&(a[s]=[]),a[s].push(c);return a},i.prototype.argmin=function(s,a,c){for(var h,g=Number.MAX_VALUE,y=0,w=a.length,x=0;x<w;x++)(h=c(s,a[x]))<g&&(g=h,y=x);return y},i.prototype.distance=function(s,a){for(var c=0,h=Math.min(s.length,a.length);h--;){var g=s[h]-a[h];c+=g*g}return Math.sqrt(c)},e.exports&&(e.exports=i)}),I_=is(function(e){function i(s,a,c){this._queue=[],this._priorities=[],this._sorting="desc",this._init(s,a,c)}i.prototype.insert=function(s,a){for(var c=this._queue.length,h=c;h--;){var g=this._priorities[h];this._sorting==="desc"?a>g&&(c=h):a<g&&(c=h)}this._insertAt(s,a,c)},i.prototype.remove=function(s){for(var a=this._queue.length;a--;)if(s===this._queue[a]){this._queue.splice(a,1),this._priorities.splice(a,1);break}},i.prototype.forEach=function(s){this._queue.forEach(s)},i.prototype.getElements=function(){return this._queue},i.prototype.getElementPriority=function(s){return this._priorities[s]},i.prototype.getPriorities=function(){return this._priorities},i.prototype.getElementsWithPriorities=function(){for(var s=[],a=0,c=this._queue.length;a<c;a++)s.push([this._queue[a],this._priorities[a]]);return s},i.prototype._init=function(s,a,c){if(s&&a){if(this._queue=[],this._priorities=[],s.length!==a.length)throw new Error("Arrays must have the same length");for(var h=0;h<s.length;h++)this.insert(s[h],a[h])}c&&(this._sorting=c)},i.prototype._insertAt=function(s,a,c){this._queue.length===c?(this._queue.push(s),this._priorities.push(a)):(this._queue.splice(c,0,s),this._priorities.splice(c,0,a))},e.exports&&(e.exports=i)}),UM=is(function(e){if(e.exports)var i=I_;function s(a,c,h,g){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(a,c,h,g)}s.prototype.run=function(a,c,h,g){this._init(a,c,h,g);for(var y=0,w=this.dataset.length;y<w;y++)if(this._processed[y]!==1){this._processed[y]=1,this.clusters.push([y]);var x=this.clusters.length-1;this._orderedList.push(y);var T=new i(null,null,"asc"),E=this._regionQuery(y);this._distanceToCore(y)!==void 0&&(this._updateQueue(y,E,T),this._expandCluster(x,T))}return this.clusters},s.prototype.getReachabilityPlot=function(){for(var a=[],c=0,h=this._orderedList.length;c<h;c++){var g=this._orderedList[c],y=this._reachability[g];a.push([g,y])}return a},s.prototype._init=function(a,c,h,g){if(a){if(!(a instanceof Array))throw Error("Dataset must be of type array, "+typeof a+" given");this.dataset=a,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}c&&(this.epsilon=c),h&&(this.minPts=h),g&&(this.distance=g)},s.prototype._updateQueue=function(a,c,h){var g=this;this._coreDistance=this._distanceToCore(a),c.forEach(function(y){if(g._processed[y]===void 0){var w=g.distance(g.dataset[a],g.dataset[y]),x=Math.max(g._coreDistance,w);g._reachability[y]===void 0?(g._reachability[y]=x,h.insert(y,x)):x<g._reachability[y]&&(g._reachability[y]=x,h.remove(y),h.insert(y,x))}})},s.prototype._expandCluster=function(a,c){for(var h=c.getElements(),g=0,y=h.length;g<y;g++){var w=h[g];if(this._processed[w]===void 0){var x=this._regionQuery(w);this._processed[w]=1,this.clusters[a].push(w),this._orderedList.push(w),this._distanceToCore(w)!==void 0&&(this._updateQueue(w,x,c),this._expandCluster(a,c))}}},s.prototype._distanceToCore=function(a){for(var c=this.epsilon,h=0;h<c;h++)if(this._regionQuery(a,h).length>=this.minPts)return h},s.prototype._regionQuery=function(a,c){c=c||this.epsilon;for(var h=[],g=0,y=this.dataset.length;g<y;g++)this.distance(this.dataset[a],this.dataset[g])<c&&h.push(g);return h},s.prototype._euclideanDistance=function(a,c){for(var h=0,g=Math.min(a.length,c.length);g--;)h+=(a[g]-c[g])*(a[g]-c[g]);return Math.sqrt(h)},e.exports&&(e.exports=s)}),GM=is(function(e){e.exports&&(e.exports={DBSCAN:jM,KMEANS:HM,OPTICS:UM,PriorityQueue:I_})}),L_=function(e,i,s){for(var a=e.length,c=0,h=0;h<a;h++){var g=(e[h]||0)-(i[h]||0);c+=g*g}return s?Math.sqrt(c):c},qM=L_,VM=function(e,i,s){var a=Math.abs(e-i);return s?a:a*a},WM=L_,ZM=function(e,i){for(var s={},a=[],c=i<<2,h=e.length,g=e[0].length>0;a.length<i&&c-- >0;){var y=e[Math.floor(Math.random()*h)],w=g?y.join("_"):""+y;s[w]||(s[w]=!0,a.push(y))}if(a.length<i)throw new Error("Error initializating clusters");return a},YM=function(e,i){var s=e[0].length?qM:VM,a=[],c=e.length,h=e[0].length>0,g=e[Math.floor(Math.random()*c)];for(h&&g.join("_"),a.push(g);a.length<i;){for(var y=[],w=a.length,x=0,T=[],E=0;E<c;E++){for(var P=1/0,z=0;z<w;z++){var N=s(e[E],a[z]);N<=P&&(P=N)}y[E]=P}for(var B=0;B<c;B++)x+=y[B];for(var A=0;A<c;A++)T[A]={i:A,v:e[A],pr:y[A]/x,cs:0};T.sort(function(W,X){return W.pr-X.pr}),T[0].cs=T[0].pr;for(var Y=1;Y<c;Y++)T[Y].cs=T[Y-1].cs+T[Y].pr;for(var it=Math.random(),D=0;D<c-1&&T[D++].cs<it;);a.push(T[D-1].v)}return a};function R_(e,i,s){s=s||[];for(var a=0;a<e;a++)s[a]=i;return s}var XM=function(e,i,s,a){var c=[],h=[],g=[],y=[],w=!1,x=a||1e4,T=e.length,E=e[0].length,P=E>0,z=[];if(s)c=s=="kmrand"?ZM(e,i):s=="kmpp"?YM(e,i):s;else for(var N={};c.length<i;){var B=Math.floor(Math.random()*T);N[B]||(N[B]=!0,c.push(e[B]))}do{R_(i,0,z);for(var A=0;A<T;A++){for(var Y=1/0,it=0,D=0;D<i;D++)(y=P?WM(e[A],c[D]):Math.abs(e[A]-c[D]))<=Y&&(Y=y,it=D);g[A]=it,z[it]++}for(var W=[],X=(h=[],0);X<i;X++)W[X]=P?R_(E,0,W[X]):0,h[X]=c[X];if(P){for(var tt=0;tt<i;tt++)c[tt]=[];for(var Q=0;Q<T;Q++)for(var zt=W[g[Q]],Et=e[Q],Ft=0;Ft<E;Ft++)zt[Ft]+=Et[Ft];w=!0;for(var Tt=0;Tt<i;Tt++){for(var Ht=c[Tt],It=W[Tt],Mt=h[Tt],St=z[Tt],Bt=0;Bt<E;Bt++)Ht[Bt]=It[Bt]/St||0;if(w){for(var Rt=0;Rt<E;Rt++)if(Mt[Rt]!=Ht[Rt]){w=!1;break}}}}else{for(var Gt=0;Gt<T;Gt++)W[g[Gt]]+=e[Gt];for(var vt=0;vt<i;vt++)c[vt]=W[vt]/z[vt]||0;w=!0;for(var Ie=0;Ie<i;Ie++)if(h[Ie]!=c[Ie]){w=!1;break}}w=w||--x<=0}while(!w);return{it:1e4-x,k:i,idxs:g,centroids:c}};function KM(e,i){return mt(zl(e[0],e[1]))===mt(zl(i[0],i[1]))}function A_(e,i){if(e.geometry&&e.geometry.type)return e.geometry.type;if(e.type)return e.type;throw new Error("Invalid GeoJSON object for "+i)}function O_(e){for(var i=e,s=[];i.parent;)s.unshift(i),i=i.parent;return s}var Qm={search:function(e,i,s,a){e.cleanDirty();var c=(a=a||{}).heuristic||Qm.heuristics.manhattan,h=a.closest||!1,g=new z_(function(B){return B.f}),y=i;for(i.h=c(i,s),g.push(i);g.size()>0;){var w=g.pop();if(w===s)return O_(w);w.closed=!0;for(var x=e.neighbors(w),T=0,E=x.length;T<E;++T){var P=x[T];if(!P.closed&&!P.isWall()){var z=w.g+P.getCost(w),N=P.visited;(!N||z<P.g)&&(P.visited=!0,P.parent=w,P.h=P.h||c(P,s),P.g=z,P.f=P.g+P.h,e.markDirty(P),h&&(P.h<y.h||P.h===y.h&&P.g<y.g)&&(y=P),N?g.rescoreElement(P):g.push(P))}}}return h?O_(y):[]},heuristics:{manhattan:function(e,i){return Math.abs(i.x-e.x)+Math.abs(i.y-e.y)},diagonal:function(e,i){var s=Math.sqrt(2),a=Math.abs(i.x-e.x),c=Math.abs(i.y-e.y);return 1*(a+c)+(s-2)*Math.min(a,c)}},cleanNode:function(e){e.f=0,e.g=0,e.h=0,e.visited=!1,e.closed=!1,e.parent=null}};function ud(e,i){i=i||{},this.nodes=[],this.diagonal=!!i.diagonal,this.grid=[];for(var s=0;s<e.length;s++){this.grid[s]=[];for(var a=0,c=e[s];a<c.length;a++){var h=new $m(s,a,c[a]);this.grid[s][a]=h,this.nodes.push(h)}}this.init()}function $m(e,i,s){this.x=e,this.y=i,this.weight=s}function z_(e){this.content=[],this.scoreFunction=e}function JM(e,i){for(var s=0;s<i.features.length;s++)if(Je(e,i.features[s]))return!0;return!1}function N_(e){return function(){return e}}function QM(e){return e[0]}function $M(e){return e[1]}function t0(){this._=null}function e0(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function df(e,i){var s=i,a=i.R,c=s.U;c?c.L===s?c.L=a:c.R=a:e._=a,a.U=c,s.U=a,s.R=a.L,s.R&&(s.R.U=s),a.L=s}function pf(e,i){var s=i,a=i.L,c=s.U;c?c.L===s?c.L=a:c.R=a:e._=a,a.U=c,s.U=a,s.L=a.R,s.L&&(s.L.U=s),a.R=s}function D_(e){for(;e.L;)e=e.L;return e}function ff(e,i,s,a){var c=[null,null],h=io.push(c)-1;return c.left=e,c.right=i,s&&r0(c,e,i,s),a&&r0(c,i,e,a),ss[e.index].halfedges.push(h),ss[i.index].halfedges.push(h),c}function gf(e,i,s){var a=[i,s];return a.left=e,a}function r0(e,i,s,a){e[0]||e[1]?e.left===s?e[1]=a:e[0]=a:(e[0]=a,e.left=i,e.right=s)}function tI(e,i,s,a,c){var h,g=e[0],y=e[1],w=g[0],x=g[1],T=0,E=1,P=y[0]-w,z=y[1]-x;if(h=i-w,P||!(h>0)){if(h/=P,P<0){if(h<T)return;h<E&&(E=h)}else if(P>0){if(h>E)return;h>T&&(T=h)}if(h=a-w,P||!(h<0)){if(h/=P,P<0){if(h>E)return;h>T&&(T=h)}else if(P>0){if(h<T)return;h<E&&(E=h)}if(h=s-x,z||!(h>0)){if(h/=z,z<0){if(h<T)return;h<E&&(E=h)}else if(z>0){if(h>E)return;h>T&&(T=h)}if(h=c-x,z||!(h<0)){if(h/=z,z<0){if(h>E)return;h>T&&(T=h)}else if(z>0){if(h<T)return;h<E&&(E=h)}return!(T>0||E<1)||(T>0&&(e[0]=[w+T*P,x+T*z]),E<1&&(e[1]=[w+E*P,x+E*z]),!0)}}}}}function eI(e,i,s,a,c){var h=e[1];if(h)return!0;var g,y,w=e[0],x=e.left,T=e.right,E=x[0],P=x[1],z=T[0],N=T[1],B=(E+z)/2,A=(P+N)/2;if(N===P){if(B<i||B>=a)return;if(E>z){if(w){if(w[1]>=c)return}else w=[B,s];h=[B,c]}else{if(w){if(w[1]<s)return}else w=[B,c];h=[B,s]}}else if(y=A-(g=(E-z)/(N-P))*B,g<-1||g>1)if(E>z){if(w){if(w[1]>=c)return}else w=[(s-y)/g,s];h=[(c-y)/g,c]}else{if(w){if(w[1]<s)return}else w=[(c-y)/g,c];h=[(s-y)/g,s]}else if(P<N){if(w){if(w[0]>=a)return}else w=[i,g*i+y];h=[a,g*a+y]}else{if(w){if(w[0]<i)return}else w=[a,g*a+y];h=[i,g*i+y]}return e[0]=w,e[1]=h,!0}function rI(e,i){var s=e.site,a=i.left,c=i.right;return s===c&&(c=a,a=s),c?Math.atan2(c[1]-a[1],c[0]-a[0]):(s===a?(a=i[1],c=i[0]):(a=i[0],c=i[1]),Math.atan2(a[0]-c[0],c[1]-a[1]))}function F_(e,i){return i[+(i.left!==e.site)]}function iI(e,i){return i[+(i.left===e.site)]}ud.prototype.init=function(){this.dirtyNodes=[];for(var e=0;e<this.nodes.length;e++)Qm.cleanNode(this.nodes[e])},ud.prototype.cleanDirty=function(){for(var e=0;e<this.dirtyNodes.length;e++)Qm.cleanNode(this.dirtyNodes[e]);this.dirtyNodes=[]},ud.prototype.markDirty=function(e){this.dirtyNodes.push(e)},ud.prototype.neighbors=function(e){var i=[],s=e.x,a=e.y,c=this.grid;return c[s-1]&&c[s-1][a]&&i.push(c[s-1][a]),c[s+1]&&c[s+1][a]&&i.push(c[s+1][a]),c[s]&&c[s][a-1]&&i.push(c[s][a-1]),c[s]&&c[s][a+1]&&i.push(c[s][a+1]),this.diagonal&&(c[s-1]&&c[s-1][a-1]&&i.push(c[s-1][a-1]),c[s+1]&&c[s+1][a-1]&&i.push(c[s+1][a-1]),c[s-1]&&c[s-1][a+1]&&i.push(c[s-1][a+1]),c[s+1]&&c[s+1][a+1]&&i.push(c[s+1][a+1])),i},ud.prototype.toString=function(){for(var e,i,s,a,c=[],h=this.grid,g=0,y=h.length;g<y;g++){for(e=[],s=0,a=(i=h[g]).length;s<a;s++)e.push(i[s].weight);c.push(e.join(" "))}return c.join(`
`)},$m.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},$m.prototype.getCost=function(e){return e&&e.x!==this.x&&e.y!==this.y?1.41421*this.weight:this.weight},$m.prototype.isWall=function(){return this.weight===0},z_.prototype={push:function(e){this.content.push(e),this.sinkDown(this.content.length-1)},pop:function(){var e=this.content[0],i=this.content.pop();return this.content.length>0&&(this.content[0]=i,this.bubbleUp(0)),e},remove:function(e){var i=this.content.indexOf(e),s=this.content.pop();i!==this.content.length-1&&(this.content[i]=s,this.scoreFunction(s)<this.scoreFunction(e)?this.sinkDown(i):this.bubbleUp(i))},size:function(){return this.content.length},rescoreElement:function(e){this.sinkDown(this.content.indexOf(e))},sinkDown:function(e){for(var i=this.content[e];e>0;){var s=(e+1>>1)-1,a=this.content[s];if(!(this.scoreFunction(i)<this.scoreFunction(a)))break;this.content[s]=i,this.content[e]=a,e=s}},bubbleUp:function(e){for(var i=this.content.length,s=this.content[e],a=this.scoreFunction(s);;){var c,h=e+1<<1,g=h-1,y=null;if(g<i){var w=this.content[g];(c=this.scoreFunction(w))<a&&(y=g)}if(h<i){var x=this.content[h];this.scoreFunction(x)<(y===null?a:c)&&(y=h)}if(y===null)break;this.content[e]=this.content[y],this.content[y]=s,e=y}}},t0.prototype={constructor:t0,insert:function(e,i){var s,a,c;if(e){if(i.P=e,i.N=e.N,e.N&&(e.N.P=i),e.N=i,e.R){for(e=e.R;e.L;)e=e.L;e.L=i}else e.R=i;s=e}else this._?(e=D_(this._),i.P=null,i.N=e,e.P=e.L=i,s=e):(i.P=i.N=null,this._=i,s=null);for(i.L=i.R=null,i.U=s,i.C=!0,e=i;s&&s.C;)s===(a=s.U).L?(c=a.R)&&c.C?(s.C=c.C=!1,a.C=!0,e=a):(e===s.R&&(df(this,s),s=(e=s).U),s.C=!1,a.C=!0,pf(this,a)):(c=a.L)&&c.C?(s.C=c.C=!1,a.C=!0,e=a):(e===s.L&&(pf(this,s),s=(e=s).U),s.C=!1,a.C=!0,df(this,a)),s=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var i,s,a,c=e.U,h=e.L,g=e.R;if(s=h?g?D_(g):h:g,c?c.L===e?c.L=s:c.R=s:this._=s,h&&g?(a=s.C,s.C=e.C,s.L=h,h.U=s,s!==g?(c=s.U,s.U=e.U,e=s.R,c.L=e,s.R=g,g.U=s):(s.U=c,c=s,e=s.R)):(a=e.C,e=s),e&&(e.U=c),!a)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===c.L){if((i=c.R).C&&(i.C=!1,c.C=!0,df(this,c),i=c.R),i.L&&i.L.C||i.R&&i.R.C){i.R&&i.R.C||(i.L.C=!1,i.C=!0,pf(this,i),i=c.R),i.C=c.C,c.C=i.R.C=!1,df(this,c),e=this._;break}}else if((i=c.L).C&&(i.C=!1,c.C=!0,pf(this,c),i=c.L),i.L&&i.L.C||i.R&&i.R.C){i.L&&i.L.C||(i.R.C=!1,i.C=!0,df(this,i),i=c.L),i.C=c.C,c.C=i.L.C=!1,pf(this,c),e=this._;break}i.C=!0,e=c,c=c.U}while(!e.C);e&&(e.C=!1)}}};var _b,B_=[];function nI(){e0(this),this.x=this.y=this.arc=this.site=this.cy=null}function hd(e){var i=e.P,s=e.N;if(i&&s){var a=i.site,c=e.site,h=s.site;if(a!==h){var g=c[0],y=c[1],w=a[0]-g,x=a[1]-y,T=h[0]-g,E=h[1]-y,P=2*(w*E-x*T);if(!(P>=-cI)){var z=w*w+x*x,N=T*T+E*E,B=(E*z-x*N)/P,A=(w*N-T*z)/P,Y=B_.pop()||new nI;Y.arc=e,Y.site=c,Y.x=B+g,Y.y=(Y.cy=A+y)+Math.sqrt(B*B+A*A),e.circle=Y;for(var it=null,D=mf._;D;)if(Y.y<D.y||Y.y===D.y&&Y.x<=D.x){if(!D.L){it=D.P;break}D=D.L}else{if(!D.R){it=D;break}D=D.R}mf.insert(it,Y),it||(_b=Y)}}}}function dd(e){var i=e.circle;i&&(i.P||(_b=i.N),mf.remove(i),B_.push(i),e0(i),e.circle=null)}var j_=[];function oI(){e0(this),this.edge=this.site=this.circle=null}function H_(e){var i=j_.pop()||new oI;return i.site=e,i}function kb(e){dd(e),pd.remove(e),j_.push(e),e0(e)}function sI(e){var i=e.circle,s=i.x,a=i.cy,c=[s,a],h=e.P,g=e.N,y=[e];kb(e);for(var w=h;w.circle&&Math.abs(s-w.circle.x)<wi&&Math.abs(a-w.circle.cy)<wi;)h=w.P,y.unshift(w),kb(w),w=h;y.unshift(w),dd(w);for(var x=g;x.circle&&Math.abs(s-x.circle.x)<wi&&Math.abs(a-x.circle.cy)<wi;)g=x.N,y.push(x),kb(x),x=g;y.push(x),dd(x);var T,E=y.length;for(T=1;T<E;++T)x=y[T],w=y[T-1],r0(x.edge,w.site,x.site,c);w=y[0],(x=y[E-1]).edge=ff(w.site,x.site,null,c),hd(w),hd(x)}function aI(e){for(var i,s,a,c,h=e[0],g=e[1],y=pd._;y;)if((a=U_(y,g)-h)>wi)y=y.L;else{if(!((c=h-lI(y,g))>wi)){a>-wi?(i=y.P,s=y):c>-wi?(i=y,s=y.N):i=s=y;break}if(!y.R){i=y;break}y=y.R}(function(X){ss[X.index]={site:X,halfedges:[]}})(e);var w=H_(e);if(pd.insert(i,w),i||s){if(i===s)return dd(i),s=H_(i.site),pd.insert(w,s),w.edge=s.edge=ff(i.site,w.site),hd(i),void hd(s);if(s){dd(i),dd(s);var x=i.site,T=x[0],E=x[1],P=e[0]-T,z=e[1]-E,N=s.site,B=N[0]-T,A=N[1]-E,Y=2*(P*A-z*B),it=P*P+z*z,D=B*B+A*A,W=[(A*it-z*D)/Y+T,(P*D-B*it)/Y+E];r0(s.edge,x,N,W),w.edge=ff(x,e,null,W),s.edge=ff(e,N,null,W),hd(i),hd(s)}else w.edge=ff(i.site,w.site)}}function U_(e,i){var s=e.site,a=s[0],c=s[1],h=c-i;if(!h)return a;var g=e.P;if(!g)return-1/0;var y=(s=g.site)[0],w=s[1],x=w-i;if(!x)return y;var T=y-a,E=1/h-1/x,P=T/x;return E?(-P+Math.sqrt(P*P-2*E*(T*T/(-2*x)-w+x/2+c-h/2)))/E+a:(a+y)/2}function lI(e,i){var s=e.N;if(s)return U_(s,i);var a=e.site;return a[1]===i?a[0]:1/0}var pd,ss,mf,io,wi=1e-6,cI=1e-12;function uI(e,i){return i[1]-e[1]||i[0]-e[0]}function Eb(e,i){var s,a,c,h=e.sort(uI).pop();for(io=[],ss=new Array(e.length),pd=new t0,mf=new t0;;)if(c=_b,h&&(!c||h[1]<c.y||h[1]===c.y&&h[0]<c.x))h[0]===s&&h[1]===a||(aI(h),s=h[0],a=h[1]),h=e.pop();else{if(!c)break;sI(c.arc)}if(function(){for(var T,E,P,z,N=0,B=ss.length;N<B;++N)if((T=ss[N])&&(z=(E=T.halfedges).length)){var A=new Array(z),Y=new Array(z);for(P=0;P<z;++P)A[P]=P,Y[P]=rI(T,io[E[P]]);for(A.sort(function(it,D){return Y[D]-Y[it]}),P=0;P<z;++P)Y[P]=E[A[P]];for(P=0;P<z;++P)E[P]=Y[P]}}(),i){var g=+i[0][0],y=+i[0][1],w=+i[1][0],x=+i[1][1];(function(T,E,P,z){for(var N,B=io.length;B--;)eI(N=io[B],T,E,P,z)&&tI(N,T,E,P,z)&&(Math.abs(N[0][0]-N[1][0])>wi||Math.abs(N[0][1]-N[1][1])>wi)||delete io[B]})(g,y,w,x),function(T,E,P,z){var N,B,A,Y,it,D,W,X,tt,Q,zt,Et,Ft=ss.length,Tt=!0;for(N=0;N<Ft;++N)if(B=ss[N]){for(A=B.site,Y=(it=B.halfedges).length;Y--;)io[it[Y]]||it.splice(Y,1);for(Y=0,D=it.length;Y<D;)zt=(Q=iI(B,io[it[Y]]))[0],Et=Q[1],X=(W=F_(B,io[it[++Y%D]]))[0],tt=W[1],(Math.abs(zt-X)>wi||Math.abs(Et-tt)>wi)&&(it.splice(Y,0,io.push(gf(A,Q,Math.abs(zt-T)<wi&&z-Et>wi?[T,Math.abs(X-T)<wi?tt:z]:Math.abs(Et-z)<wi&&P-zt>wi?[Math.abs(tt-z)<wi?X:P,z]:Math.abs(zt-P)<wi&&Et-E>wi?[P,Math.abs(X-P)<wi?tt:E]:Math.abs(Et-E)<wi&&zt-T>wi?[Math.abs(tt-E)<wi?X:T,E]:null))-1),++D);D&&(Tt=!1)}if(Tt){var Ht,It,Mt,St=1/0;for(N=0,Tt=null;N<Ft;++N)(B=ss[N])&&(Mt=(Ht=(A=B.site)[0]-T)*Ht+(It=A[1]-E)*It)<St&&(St=Mt,Tt=B);if(Tt){var Bt=[T,E],Rt=[T,z],Gt=[P,z],vt=[P,E];Tt.halfedges.push(io.push(gf(A=Tt.site,Bt,Rt))-1,io.push(gf(A,Rt,Gt))-1,io.push(gf(A,Gt,vt))-1,io.push(gf(A,vt,Bt))-1)}}for(N=0;N<Ft;++N)(B=ss[N])&&(B.halfedges.length||delete ss[N])}(g,y,w,x)}this.edges=io,this.cells=ss,pd=mf=io=ss=null}function hI(e){return(e=e.slice()).push(e[0]),v([e])}function G_(e,i,s,a){var c=(a=a||{}).steps||64,h=a.units||"kilometers",g=a.angle||0,y=a.pivot||e,w=a.properties||e.properties||{};if(!e)throw new Error("center is required");if(!i)throw new Error("xSemiAxis is required");if(!s)throw new Error("ySemiAxis is required");if(!gt(a))throw new Error("options must be an object");if(!ut(c))throw new Error("steps must be a number");if(!ut(g))throw new Error("angle must be a number");var x=R(e);if(h==="degrees")var T=ot(g);else i=cd(e,i,90,{units:h}),s=cd(e,s,0,{units:h}),i=R(i)[0]-x[0],s=R(s)[1]-x[1];for(var E=[],P=0;P<c;P+=1){var z=-360*P/c,N=i*s/Math.sqrt(Math.pow(s,2)+Math.pow(i,2)*Math.pow(q_(z),2)),B=i*s/Math.sqrt(Math.pow(i,2)+Math.pow(s,2)/Math.pow(q_(z),2));if(z<-90&&z>=-270&&(N=-N),z<-180&&z>=-360&&(B=-B),h==="degrees"){var A=N*Math.cos(T)+B*Math.sin(T),Y=B*Math.cos(T)-N*Math.sin(T);N=A,B=Y}E.push([N+x[0],B+x[1]])}return E.push(E[0]),h==="degrees"?v([E],w):h_(v([E],w),g,{pivot:y})}function q_(e){var i=e*Math.PI/180;return Math.tan(i)}function Tb(e,i){i===void 0&&(i={});var s=0,a=0,c=0;return ee(e,function(h,g,y){var w=i.weight?y==null?void 0:y[i.weight]:void 0;if(!ut(w=w??1))throw new Error("weight value must be a number for feature index "+g);(w=Number(w))>0&&Ct(h,function(x){s+=x[0]*w,a+=x[1]*w,c+=w})}),f([s/c,a/c],i.properties,i)}function V_(e,i,s,a,c){var h=a.tolerance||.001,g=0,y=0,w=0,x=0;if(bt(s,function(P){var z,N=(z=P.properties)===null||z===void 0?void 0:z.weight,B=N??1;if(!ut(B=Number(B)))throw new Error("weight value must be a number");if(B>0){x+=1;var A=B*ir(P,e);A===0&&(A=1);var Y=B/A;g+=P.geometry.coordinates[0]*Y,y+=P.geometry.coordinates[1]*Y,w+=Y}}),x<1)throw new Error("no features to measure");var T=g/w,E=y/w;return x===1||c===0||Math.abs(T-i[0])<h&&Math.abs(E-i[1])<h?f([T,E],{medianCandidates:a.medianCandidates}):(a.medianCandidates.push([T,E]),V_([T,E],e,s,a,c-1))}function W_(e,i){return{x:e[0]-i[0],y:e[1]-i[1]}}function dI(e,i){var s=0,a=0;Ct(e,function(c,h,g,y,w){w>s&&(s=w,a=h,i.push([]));var x=h-a,T=e.coordinates[w][x+1],E=c[0],P=c[1],z=T[0],N=T[1];i[w].push([.75*E+.25*z,.75*P+.25*N]),i[w].push([.25*E+.75*z,.25*P+.75*N])},!0),i.forEach(function(c){c.push(c[0])})}function pI(e,i){var s=0,a=0,c=0;Ct(e,function(h,g,y,w,x){w>c&&(c=w,a=g,i.push([[]])),x>s&&(s=x,a=g,i[w].push([]));var T=g-a,E=e.coordinates[w][x][T+1],P=h[0],z=h[1],N=E[0],B=E[1];i[w][x].push([.75*P+.25*N,.75*z+.25*B]),i[w][x].push([.25*P+.75*N,.25*z+.75*B])},!0),i.forEach(function(h){h.forEach(function(g){g.push(g[0])})})}function fI(e,i,s){s===void 0&&(s=2);var a=R(e),c=R(i),h=a[0]-c[0],g=a[1]-c[1];return s===1?Math.abs(h)+Math.abs(g):Math.pow(Math.pow(h,s)+Math.pow(g,s),1/s)}function Z_(e,i){var s=(i=i||{}).threshold||1e4,a=i.p||2,c=i.binary||!1,h=i.alpha||-1,g=i.standardization||!1,y=[];bt(e,function(z){y.push(na(z))});for(var w=[],x=0;x<y.length;x++)w[x]=[];for(x=0;x<y.length;x++)for(var T=x;T<y.length;T++){x===T&&(w[x][T]=0);var E=fI(y[x],y[T],a);w[x][T]=E,w[T][x]=E}for(x=0;x<y.length;x++)for(T=0;T<y.length;T++)(E=w[x][T])!==0&&(w[x][T]=c?E<=s?1:0:E<=s?Math.pow(E,h):0);if(g)for(x=0;x<y.length;x++){var P=w[x].reduce(function(z,N){return z+N},0);for(T=0;T<y.length;T++)w[x][T]=w[x][T]/P}return w}function Y_(e){for(var i=0,s=0,a=e;s<a.length;s++)i+=a[s];return i/e.length}function X_(e,i){return i===void 0&&(i={}),J_(e,"mercator",i)}function K_(e,i){return i===void 0&&(i={}),J_(e,"wgs84",i)}function J_(e,i,s){s===void 0&&(s={});var a=(s=s||{}).mutate;if(!e)throw new Error("geojson is required");return Array.isArray(e)&&ut(e[0])?e=i==="mercator"?Q_(e):$_(e):(a!==!0&&(e=Si(e)),Ct(e,function(c){var h=i==="mercator"?Q_(c):$_(c);c[0]=h[0],c[1]=h[1]})),e}function Q_(e){var i=Math.PI/180,s=6378137,a=20037508342789244e-9,c=[s*(Math.abs(e[0])<=180?e[0]:e[0]-360*function(h){return h<0?-1:h>0?1:0}(e[0]))*i,s*Math.log(Math.tan(.25*Math.PI+.5*e[1]*i))];return c[0]>a&&(c[0]=a),c[0]<-a&&(c[0]=-a),c[1]>a&&(c[1]=a),c[1]<-a&&(c[1]=-a),c}function $_(e){var i=180/Math.PI,s=6378137;return[e[0]*i/s,(.5*Math.PI-2*Math.atan(Math.exp(-e[1]/s)))*i]}Eb.prototype={constructor:Eb,polygons:function(){var e=this.edges;return this.cells.map(function(i){var s=i.halfedges.map(function(a){return F_(i,e[a])});return s.data=i.site.data,s})},triangles:function(){var e=[],i=this.edges;return this.cells.forEach(function(s,a){if(h=(c=s.halfedges).length)for(var c,h,g,y,w,x,T=s.site,E=-1,P=i[c[h-1]],z=P.left===T?P.right:P.left;++E<h;)g=z,z=(P=i[c[E]]).left===T?P.right:P.left,g&&z&&a<g.index&&a<z.index&&(w=g,x=z,((y=T)[0]-x[0])*(w[1]-y[1])-(y[0]-w[0])*(x[1]-y[1])<0)&&e.push([T.data,g.data,z.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,i,s){for(var a,c,h=this,g=h._found||0,y=h.cells.length;!(c=h.cells[g]);)if(++g>=y)return null;var w=e-c.site[0],x=i-c.site[1],T=w*w+x*x;do c=h.cells[a=g],g=null,c.halfedges.forEach(function(E){var P=h.edges[E],z=P.left;if(z!==c.site&&z||(z=P.right)){var N=e-z[0],B=i-z[1],A=N*N+B*B;A<T&&(T=A,g=z.index)}});while(g!==null);return h._found=a,s==null||T<=s*s?c.site:null}};var gI=Object.freeze({__proto__:null,toMercator:X_,toWgs84:K_}),mI=function(){for(var e=0,i=0,s=arguments.length;i<s;i++)e+=arguments[i].length;var a=Array(e),c=0;for(i=0;i<s;i++)for(var h=arguments[i],g=0,y=h.length;g<y;g++,c++)a[c]=h[g];return a};function vf(e){return Array.isArray(e)?nk(e):e&&e.bbox?nk(e.bbox):[360*ik(),180*ik()]}function tk(e,i){i===void 0&&(i={}),e==null&&(e=1);for(var s=[],a=0;a<e;a++)s.push(f(vf(i.bbox)));return M(s)}function ek(e,i){i===void 0&&(i={}),e==null&&(e=1),ut(i.num_vertices)&&i.num_vertices!==void 0||(i.num_vertices=10),ut(i.max_radial_length)&&i.max_radial_length!==void 0||(i.max_radial_length=10);for(var s=[],a=function(h){var g,y=[],w=mI(Array(i.num_vertices+1)).map(Math.random);w.forEach(function(x,T,E){E[T]=T>0?x+E[T-1]:x}),w.forEach(function(x){x=2*x*Math.PI/w[w.length-1];var T=Math.random();y.push([T*(i.max_radial_length||10)*Math.sin(x),T*(i.max_radial_length||10)*Math.cos(x)])}),y[y.length-1]=y[0],y=y.map((g=vf(i.bbox),function(x){return[x[0]+g[0],x[1]+g[1]]})),s.push(v([y]))},c=0;c<e;c++)a();return M(s)}function rk(e,i){if(i===void 0&&(i={}),!gt(i=i||{}))throw new Error("options is invalid");var s=i.bbox,a=i.num_vertices,c=i.max_length,h=i.max_rotation;e==null&&(e=1),(!ut(a)||a===void 0||a<2)&&(a=10),ut(c)&&c!==void 0||(c=1e-4),ut(h)&&h!==void 0||(h=Math.PI/8);for(var g=[],y=0;y<e;y++){for(var w=[vf(s)],x=0;x<a-1;x++){var T=(x===0?2*Math.random()*Math.PI:Math.tan((w[x][1]-w[x-1][1])/(w[x][0]-w[x-1][0])))+(Math.random()-.5)*h*2,E=Math.random()*c;w.push([w[x][0]+E*Math.cos(T),w[x][1]+E*Math.sin(T)])}g.push(k(w))}return M(g)}function ik(){return Math.random()-.5}function nk(e){return[Math.random()*(e[2]-e[0])+e[0],Math.random()*(e[3]-e[1])+e[1]]}var vI=Object.freeze({__proto__:null,randomPosition:vf,randomPoint:tk,randomPolygon:ek,randomLineString:rk});function ok(e,i){if(!e)throw new Error("geojson is required");if(e.type!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(i==null)throw new Error("filter is required");var s=[];return bt(e,function(a){i0(a.properties,i)&&s.push(a)}),M(s)}function Sb(e,i,s){if(!e)throw new Error("geojson is required");if(e.type!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(i==null)throw new Error("property is required");for(var a=Cb(e,i),c=Object.keys(a),h=0;h<c.length;h++){for(var g=c[h],y=a[g],w=[],x=0;x<y.length;x++)w.push(e.features[y[x]]);s(M(w),g,h)}}function sk(e,i,s,a){var c=a;return Sb(e,i,function(h,g,y){c=y===0&&a===void 0?h:s(c,h,g,y)}),c}function Cb(e,i){var s={};return bt(e,function(a,c){var h=a.properties||{};if(Object.prototype.hasOwnProperty.call(h,String(i))){var g=h[i];Object.prototype.hasOwnProperty.call(s,g)?s[g].push(c):s[g]=[c]}}),s}function i0(e,i){if(e===void 0)return!1;var s=typeof i;if(s==="number"||s==="string")return Object.prototype.hasOwnProperty.call(e,i);if(Array.isArray(i)){for(var a=0;a<i.length;a++)if(!i0(e,i[a]))return!1;return!0}return Pb(e,i)}function Pb(e,i){for(var s=Object.keys(i),a=0;a<s.length;a++){var c=s[a];if(e[c]!==i[c])return!1}return!0}function ak(e,i){if(!i)return{};if(!i.length)return{};for(var s={},a=0;a<i.length;a++){var c=i[a];Object.prototype.hasOwnProperty.call(e,c)&&(s[c]=e[c])}return s}var yI=Object.freeze({__proto__:null,getCluster:ok,clusterEach:Sb,clusterReduce:sk,createBins:Cb,applyFilter:i0,propertiesContainsFilter:Pb,filterProperties:ak}),Ac=function(e,i){this.next=null,this.key=e,this.data=i,this.left=null,this.right=null};/**
     * splaytree v3.1.0
     * Fast Splay tree for Node and browser
     *
     * @author Alexander Milevski <info@w8r.name>
     * @license MIT
     * @preserve
     */function bI(e,i){return e>i?1:e<i?-1:0}function Oc(e,i,s){for(var a=new Ac(null,null),c=a,h=a;;){var g=s(e,i.key);if(g<0){if(i.left===null)break;if(s(e,i.left.key)<0){var y=i.left;if(i.left=y.right,y.right=i,(i=y).left===null)break}h.left=i,h=i,i=i.left}else{if(!(g>0)||i.right===null||s(e,i.right.key)>0&&(y=i.right,i.right=y.left,y.left=i,(i=y).right===null))break;c.right=i,c=i,i=i.right}}return c.right=i.left,h.left=i.right,i.left=a.right,i.right=a.left,i}function Mb(e,i,s,a){var c=new Ac(e,i);if(s===null)return c.left=c.right=null,c;var h=a(e,(s=Oc(e,s,a)).key);return h<0?(c.left=s.left,c.right=s,s.left=null):h>=0&&(c.right=s.right,c.left=s,s.right=null),c}function lk(e,i,s){var a=null,c=null;if(i){var h=s((i=Oc(e,i,s)).key,e);h===0?(a=i.left,c=i.right):h<0?(c=i.right,i.right=null,a=i):(a=i.left,i.left=null,c=i)}return{left:a,right:c}}function Ib(e,i,s,a,c){if(e){a(i+(s?"└── ":"├── ")+c(e)+`
`);var h=i+(s?"    ":"│   ");e.left&&Ib(e.left,h,!1,a,c),e.right&&Ib(e.right,h,!0,a,c)}}var Lb=function(){function e(i){i===void 0&&(i=bI),this._root=null,this._size=0,this._comparator=i}return e.prototype.insert=function(i,s){return this._size++,this._root=Mb(i,s,this._root,this._comparator)},e.prototype.add=function(i,s){var a=new Ac(i,s);this._root===null&&(a.left=a.right=null,this._size++,this._root=a);var c=this._comparator,h=Oc(i,this._root,c),g=c(i,h.key);return g===0?this._root=h:(g<0?(a.left=h.left,a.right=h,h.left=null):g>0&&(a.right=h.right,a.left=h,h.right=null),this._size++,this._root=a),this._root},e.prototype.remove=function(i){this._root=this._remove(i,this._root,this._comparator)},e.prototype._remove=function(i,s,a){var c;return s===null?null:a(i,(s=Oc(i,s,a)).key)===0?(s.left===null?c=s.right:(c=Oc(i,s.left,a)).right=s.right,this._size--,c):s},e.prototype.pop=function(){var i=this._root;if(i){for(;i.left;)i=i.left;return this._root=Oc(i.key,this._root,this._comparator),this._root=this._remove(i.key,this._root,this._comparator),{key:i.key,data:i.data}}return null},e.prototype.findStatic=function(i){for(var s=this._root,a=this._comparator;s;){var c=a(i,s.key);if(c===0)return s;s=c<0?s.left:s.right}return null},e.prototype.find=function(i){return this._root&&(this._root=Oc(i,this._root,this._comparator),this._comparator(i,this._root.key)!==0)?null:this._root},e.prototype.contains=function(i){for(var s=this._root,a=this._comparator;s;){var c=a(i,s.key);if(c===0)return!0;s=c<0?s.left:s.right}return!1},e.prototype.forEach=function(i,s){for(var a=this._root,c=[],h=!1;!h;)a!==null?(c.push(a),a=a.left):c.length!==0?(a=c.pop(),i.call(s,a),a=a.right):h=!0;return this},e.prototype.range=function(i,s,a,c){for(var h=[],g=this._comparator,y=this._root;h.length!==0||y;)if(y)h.push(y),y=y.left;else{if(g((y=h.pop()).key,s)>0)break;if(g(y.key,i)>=0&&a.call(c,y))return this;y=y.right}return this},e.prototype.keys=function(){var i=[];return this.forEach(function(s){var a=s.key;return i.push(a)}),i},e.prototype.values=function(){var i=[];return this.forEach(function(s){var a=s.data;return i.push(a)}),i},e.prototype.min=function(){return this._root?this.minNode(this._root).key:null},e.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},e.prototype.minNode=function(i){if(i===void 0&&(i=this._root),i)for(;i.left;)i=i.left;return i},e.prototype.maxNode=function(i){if(i===void 0&&(i=this._root),i)for(;i.right;)i=i.right;return i},e.prototype.at=function(i){for(var s=this._root,a=!1,c=0,h=[];!a;)if(s)h.push(s),s=s.left;else if(h.length>0){if(s=h.pop(),c===i)return s;c++,s=s.right}else a=!0;return null},e.prototype.next=function(i){var s=this._root,a=null;if(i.right){for(a=i.right;a.left;)a=a.left;return a}for(var c=this._comparator;s;){var h=c(i.key,s.key);if(h===0)break;h<0?(a=s,s=s.left):s=s.right}return a},e.prototype.prev=function(i){var s=this._root,a=null;if(i.left!==null){for(a=i.left;a.right;)a=a.right;return a}for(var c=this._comparator;s;){var h=c(i.key,s.key);if(h===0)break;h<0?s=s.left:(a=s,s=s.right)}return a},e.prototype.clear=function(){return this._root=null,this._size=0,this},e.prototype.toList=function(){return function(i){for(var s=i,a=[],c=!1,h=new Ac(null,null),g=h;!c;)s?(a.push(s),s=s.left):a.length>0?s=(s=g=g.next=a.pop()).right:c=!0;return g.next=null,h.next}(this._root)},e.prototype.load=function(i,s,a){s===void 0&&(s=[]),a===void 0&&(a=!1);var c=i.length,h=this._comparator;if(a&&Ob(i,s,0,c-1,h),this._root===null)this._root=Rb(i,s,0,c),this._size=c;else{var g=function(y,w,x){for(var T=new Ac(null,null),E=T,P=y,z=w;P!==null&&z!==null;)x(P.key,z.key)<0?(E.next=P,P=P.next):(E.next=z,z=z.next),E=E.next;return P!==null?E.next=P:z!==null&&(E.next=z),T.next}(this.toList(),function(y,w){for(var x=new Ac(null,null),T=x,E=0;E<y.length;E++)T=T.next=new Ac(y[E],w[E]);return T.next=null,x.next}(i,s),h);c=this._size+c,this._root=Ab({head:g},0,c)}return this},e.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),e.prototype.toString=function(i){i===void 0&&(i=function(a){return String(a.key)});var s=[];return Ib(this._root,"",!0,function(a){return s.push(a)},i),s.join("")},e.prototype.update=function(i,s,a){var c=this._comparator,h=lk(i,this._root,c),g=h.left,y=h.right;c(i,s)<0?y=Mb(s,a,y,c):g=Mb(s,a,g,c),this._root=function(w,x,T){return x===null?w:(w===null||((x=Oc(w.key,x,T)).left=w),x)}(g,y,c)},e.prototype.split=function(i){return lk(i,this._root,this._comparator)},e}();function Rb(e,i,s,a){var c=a-s;if(c>0){var h=s+Math.floor(c/2),g=e[h],y=i[h],w=new Ac(g,y);return w.left=Rb(e,i,s,h),w.right=Rb(e,i,h+1,a),w}return null}function Ab(e,i,s){var a=s-i;if(a>0){var c=i+Math.floor(a/2),h=Ab(e,i,c),g=e.head;return g.left=h,e.head=e.head.next,g.right=Ab(e,c+1,s),g}return null}function Ob(e,i,s,a,c){if(!(s>=a)){for(var h=e[s+a>>1],g=s-1,y=a+1;;){do g++;while(c(e[g],h)<0);do y--;while(c(e[y],h)>0);if(g>=y)break;var w=e[g];e[g]=e[y],e[y]=w,w=i[g],i[g]=i[y],i[y]=w}Ob(e,i,s,y,c),Ob(e,i,y+1,a,c)}}function Is(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function ck(e,i){for(var s=0;s<i.length;s++){var a=i[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function xo(e,i,s){return i&&ck(e.prototype,i),s&&ck(e,s),e}var yf=function(e,i){return e.ll.x<=i.x&&i.x<=e.ur.x&&e.ll.y<=i.y&&i.y<=e.ur.y},zb=function(e,i){if(i.ur.x<e.ll.x||e.ur.x<i.ll.x||i.ur.y<e.ll.y||e.ur.y<i.ll.y)return null;var s=e.ll.x<i.ll.x?i.ll.x:e.ll.x,a=e.ur.x<i.ur.x?e.ur.x:i.ur.x;return{ll:{x:s,y:e.ll.y<i.ll.y?i.ll.y:e.ll.y},ur:{x:a,y:e.ur.y<i.ur.y?e.ur.y:i.ur.y}}},zc=Number.EPSILON;zc===void 0&&(zc=Math.pow(2,-52));var wI=zc*zc,Nb=function(e,i){if(-zc<e&&e<zc&&-zc<i&&i<zc)return 0;var s=e-i;return s*s<wI*e*i?0:e<i?-1:1},xI=function(){function e(){Is(this,e),this.reset()}return xo(e,[{key:"reset",value:function(){this.xRounder=new uk,this.yRounder=new uk}},{key:"round",value:function(i,s){return{x:this.xRounder.round(i),y:this.yRounder.round(s)}}}]),e}(),uk=function(){function e(){Is(this,e),this.tree=new Lb,this.round(0)}return xo(e,[{key:"round",value:function(i){var s=this.tree.add(i),a=this.tree.prev(s);if(a!==null&&Nb(s.key,a.key)===0)return this.tree.remove(i),a.key;var c=this.tree.next(s);return c!==null&&Nb(s.key,c.key)===0?(this.tree.remove(i),c.key):i}}]),e}(),bf=new xI,wf=function(e,i){return e.x*i.y-e.y*i.x},hk=function(e,i){return e.x*i.x+e.y*i.y},dk=function(e,i,s){var a={x:i.x-e.x,y:i.y-e.y},c={x:s.x-e.x,y:s.y-e.y},h=wf(a,c);return Nb(h,0)},n0=function(e){return Math.sqrt(hk(e,e))},_I=function(e,i,s){var a={x:i.x-e.x,y:i.y-e.y},c={x:s.x-e.x,y:s.y-e.y};return hk(c,a)/n0(c)/n0(a)},pk=function(e,i,s){return i.y===0?null:{x:e.x+i.x/i.y*(s-e.y),y:s}},fk=function(e,i,s){return i.x===0?null:{x:s,y:e.y+i.y/i.x*(s-e.x)}},Ga=function(){function e(i,s){Is(this,e),i.events===void 0?i.events=[this]:i.events.push(this),this.point=i,this.isLeft=s}return xo(e,null,[{key:"compare",value:function(i,s){var a=e.comparePoints(i.point,s.point);return a!==0?a:(i.point!==s.point&&i.link(s),i.isLeft!==s.isLeft?i.isLeft?1:-1:o0.compare(i.segment,s.segment))}},{key:"comparePoints",value:function(i,s){return i.x<s.x?-1:i.x>s.x?1:i.y<s.y?-1:i.y>s.y?1:0}}]),xo(e,[{key:"link",value:function(i){if(i.point===this.point)throw new Error("Tried to link already linked events");for(var s=i.point.events,a=0,c=s.length;a<c;a++){var h=s[a];this.point.events.push(h),h.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var i=this.point.events.length,s=0;s<i;s++){var a=this.point.events[s];if(a.segment.consumedBy===void 0)for(var c=s+1;c<i;c++){var h=this.point.events[c];h.consumedBy===void 0&&a.otherSE.point.events===h.otherSE.point.events&&a.segment.consume(h.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var i=[],s=0,a=this.point.events.length;s<a;s++){var c=this.point.events[s];c!==this&&!c.segment.ringOut&&c.segment.isInResult()&&i.push(c)}return i}},{key:"getLeftmostComparator",value:function(i){var s=this,a=new Map,c=function(h){var g,y,w,x,T,E=h.otherSE;a.set(h,{sine:(g=s.point,y=i.point,w=E.point,x={x:y.x-g.x,y:y.y-g.y},T={x:w.x-g.x,y:w.y-g.y},wf(T,x)/n0(T)/n0(x)),cosine:_I(s.point,i.point,E.point)})};return function(h,g){a.has(h)||c(h),a.has(g)||c(g);var y=a.get(h),w=y.sine,x=y.cosine,T=a.get(g),E=T.sine,P=T.cosine;return w>=0&&E>=0?x<P?1:x>P?-1:0:w<0&&E<0?x<P?-1:x>P?1:0:E<w?-1:E>w?1:0}}}]),e}(),kI=0,o0=function(){function e(i,s,a,c){Is(this,e),this.id=++kI,this.leftSE=i,i.segment=this,i.otherSE=s,this.rightSE=s,s.segment=this,s.otherSE=i,this.rings=a,this.windings=c}return xo(e,null,[{key:"compare",value:function(i,s){var a=i.leftSE.point.x,c=s.leftSE.point.x,h=i.rightSE.point.x,g=s.rightSE.point.x;if(g<a)return 1;if(h<c)return-1;var y=i.leftSE.point.y,w=s.leftSE.point.y,x=i.rightSE.point.y,T=s.rightSE.point.y;if(a<c){if(w<y&&w<x)return 1;if(w>y&&w>x)return-1;var E=i.comparePoint(s.leftSE.point);if(E<0)return 1;if(E>0)return-1;var P=s.comparePoint(i.rightSE.point);return P!==0?P:-1}if(a>c){if(y<w&&y<T)return-1;if(y>w&&y>T)return 1;var z=s.comparePoint(i.leftSE.point);if(z!==0)return z;var N=i.comparePoint(s.rightSE.point);return N<0?1:N>0?-1:1}if(y<w)return-1;if(y>w)return 1;if(h<g){var B=s.comparePoint(i.rightSE.point);if(B!==0)return B}if(h>g){var A=i.comparePoint(s.rightSE.point);if(A<0)return 1;if(A>0)return-1}if(h!==g){var Y=x-y,it=h-a,D=T-w,W=g-c;if(Y>it&&D<W)return 1;if(Y<it&&D>W)return-1}return h>g?1:h<g||x<T?-1:x>T?1:i.id<s.id?-1:i.id>s.id?1:0}}]),xo(e,[{key:"replaceRightSE",value:function(i){this.rightSE=i,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var i=this.leftSE.point.y,s=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:i<s?i:s},ur:{x:this.rightSE.point.x,y:i>s?i:s}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(i){return i.x===this.leftSE.point.x&&i.y===this.leftSE.point.y||i.x===this.rightSE.point.x&&i.y===this.rightSE.point.y}},{key:"comparePoint",value:function(i){if(this.isAnEndpoint(i))return 0;var s=this.leftSE.point,a=this.rightSE.point,c=this.vector();if(s.x===a.x)return i.x===s.x?0:i.x<s.x?1:-1;var h=(i.y-s.y)/c.y,g=s.x+h*c.x;if(i.x===g)return 0;var y=(i.x-s.x)/c.x,w=s.y+y*c.y;return i.y===w?0:i.y<w?-1:1}},{key:"getIntersection",value:function(i){var s=this.bbox(),a=i.bbox(),c=zb(s,a);if(c===null)return null;var h=this.leftSE.point,g=this.rightSE.point,y=i.leftSE.point,w=i.rightSE.point,x=yf(s,y)&&this.comparePoint(y)===0,T=yf(a,h)&&i.comparePoint(h)===0,E=yf(s,w)&&this.comparePoint(w)===0,P=yf(a,g)&&i.comparePoint(g)===0;if(T&&x)return P&&!E?g:!P&&E?w:null;if(T)return E&&h.x===w.x&&h.y===w.y?null:h;if(x)return P&&g.x===y.x&&g.y===y.y?null:y;if(P&&E)return null;if(P)return g;if(E)return w;var z=function(N,B,A,Y){if(B.x===0)return fk(A,Y,N.x);if(Y.x===0)return fk(N,B,A.x);if(B.y===0)return pk(A,Y,N.y);if(Y.y===0)return pk(N,B,A.y);var it=wf(B,Y);if(it==0)return null;var D={x:A.x-N.x,y:A.y-N.y},W=wf(D,B)/it,X=wf(D,Y)/it;return{x:(N.x+X*B.x+(A.x+W*Y.x))/2,y:(N.y+X*B.y+(A.y+W*Y.y))/2}}(h,this.vector(),y,i.vector());return z===null?null:yf(c,z)?bf.round(z.x,z.y):null}},{key:"split",value:function(i){var s=[],a=i.events!==void 0,c=new Ga(i,!0),h=new Ga(i,!1),g=this.rightSE;this.replaceRightSE(h),s.push(h),s.push(c);var y=new e(c,g,this.rings.slice(),this.windings.slice());return Ga.comparePoints(y.leftSE.point,y.rightSE.point)>0&&y.swapEvents(),Ga.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),a&&(c.checkForConsuming(),h.checkForConsuming()),s}},{key:"swapEvents",value:function(){var i=this.rightSE;this.rightSE=this.leftSE,this.leftSE=i,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var s=0,a=this.windings.length;s<a;s++)this.windings[s]*=-1}},{key:"consume",value:function(i){for(var s=this,a=i;s.consumedBy;)s=s.consumedBy;for(;a.consumedBy;)a=a.consumedBy;var c=e.compare(s,a);if(c!==0){if(c>0){var h=s;s=a,a=h}if(s.prev===a){var g=s;s=a,a=g}for(var y=0,w=a.rings.length;y<w;y++){var x=a.rings[y],T=a.windings[y],E=s.rings.indexOf(x);E===-1?(s.rings.push(x),s.windings.push(T)):s.windings[E]+=T}a.rings=null,a.windings=null,a.consumedBy=s,a.leftSE.consumedBy=s.leftSE,a.rightSE.consumedBy=s.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(this.prev){var i=this.prev.consumedBy||this.prev;this._beforeState=i.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var i=this.beforeState();this._afterState={rings:i.rings.slice(0),windings:i.windings.slice(0),multiPolys:[]};for(var s=this._afterState.rings,a=this._afterState.windings,c=this._afterState.multiPolys,h=0,g=this.rings.length;h<g;h++){var y=this.rings[h],w=this.windings[h],x=s.indexOf(y);x===-1?(s.push(y),a.push(w)):a[x]+=w}for(var T=[],E=[],P=0,z=s.length;P<z;P++)if(a[P]!==0){var N=s[P],B=N.poly;if(E.indexOf(B)===-1)if(N.isExterior)T.push(B);else{E.indexOf(B)===-1&&E.push(B);var A=T.indexOf(N.poly);A!==-1&&T.splice(A,1)}}for(var Y=0,it=T.length;Y<it;Y++){var D=T[Y].multiPoly;c.indexOf(D)===-1&&c.push(D)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var i=this.beforeState().multiPolys,s=this.afterState().multiPolys;switch(ha.type){case"union":var a=i.length===0,c=s.length===0;this._isInResult=a!==c;break;case"intersection":var h,g;i.length<s.length?(h=i.length,g=s.length):(h=s.length,g=i.length),this._isInResult=g===ha.numMultiPolys&&h<g;break;case"xor":var y=Math.abs(i.length-s.length);this._isInResult=y%2==1;break;case"difference":var w=function(x){return x.length===1&&x[0].isSubject};this._isInResult=w(i)!==w(s);break;default:throw new Error("Unrecognized operation type found ".concat(ha.type))}return this._isInResult}}],[{key:"fromRing",value:function(i,s,a){var c,h,g,y=Ga.comparePoints(i,s);if(y<0)c=i,h=s,g=1;else{if(!(y>0))throw new Error("Tried to create degenerate segment at [".concat(i.x,", ").concat(i.y,"]"));c=s,h=i,g=-1}return new e(new Ga(c,!0),new Ga(h,!1),[a],[g])}}]),e}(),gk=function(){function e(i,s,a){if(Is(this,e),!Array.isArray(i)||i.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=s,this.isExterior=a,this.segments=[],typeof i[0][0]!="number"||typeof i[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var c=bf.round(i[0][0],i[0][1]);this.bbox={ll:{x:c.x,y:c.y},ur:{x:c.x,y:c.y}};for(var h=c,g=1,y=i.length;g<y;g++){if(typeof i[g][0]!="number"||typeof i[g][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var w=bf.round(i[g][0],i[g][1]);w.x===h.x&&w.y===h.y||(this.segments.push(o0.fromRing(h,w,this)),w.x<this.bbox.ll.x&&(this.bbox.ll.x=w.x),w.y<this.bbox.ll.y&&(this.bbox.ll.y=w.y),w.x>this.bbox.ur.x&&(this.bbox.ur.x=w.x),w.y>this.bbox.ur.y&&(this.bbox.ur.y=w.y),h=w)}c.x===h.x&&c.y===h.y||this.segments.push(o0.fromRing(h,c,this))}return xo(e,[{key:"getSweepEvents",value:function(){for(var i=[],s=0,a=this.segments.length;s<a;s++){var c=this.segments[s];i.push(c.leftSE),i.push(c.rightSE)}return i}}]),e}(),EI=function(){function e(i,s){if(Is(this,e),!Array.isArray(i))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new gk(i[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var a=1,c=i.length;a<c;a++){var h=new gk(i[a],this,!1);h.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=h.bbox.ll.x),h.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=h.bbox.ll.y),h.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=h.bbox.ur.x),h.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=h.bbox.ur.y),this.interiorRings.push(h)}this.multiPoly=s}return xo(e,[{key:"getSweepEvents",value:function(){for(var i=this.exteriorRing.getSweepEvents(),s=0,a=this.interiorRings.length;s<a;s++)for(var c=this.interiorRings[s].getSweepEvents(),h=0,g=c.length;h<g;h++)i.push(c[h]);return i}}]),e}(),mk=function(){function e(i,s){if(Is(this,e),!Array.isArray(i))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof i[0][0][0]=="number"&&(i=[i])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var a=0,c=i.length;a<c;a++){var h=new EI(i[a],this);h.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=h.bbox.ll.x),h.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=h.bbox.ll.y),h.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=h.bbox.ur.x),h.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=h.bbox.ur.y),this.polys.push(h)}this.isSubject=s}return xo(e,[{key:"getSweepEvents",value:function(){for(var i=[],s=0,a=this.polys.length;s<a;s++)for(var c=this.polys[s].getSweepEvents(),h=0,g=c.length;h<g;h++)i.push(c[h]);return i}}]),e}(),TI=function(){function e(i){Is(this,e),this.events=i;for(var s=0,a=i.length;s<a;s++)i[s].segment.ringOut=this;this.poly=null}return xo(e,null,[{key:"factory",value:function(i){for(var s=[],a=0,c=i.length;a<c;a++){var h=i[a];if(h.isInResult()&&!h.ringOut){for(var g=null,y=h.leftSE,w=h.rightSE,x=[y],T=y.point,E=[];g=y,y=w,x.push(y),y.point!==T;)for(;;){var P=y.getAvailableLinkedEvents();if(P.length===0){var z=x[0].point,N=x[x.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(z.x,",")+" ".concat(z.y,"]. Last matching segment found ends at")+" [".concat(N.x,", ").concat(N.y,"]."))}if(P.length===1){w=P[0].otherSE;break}for(var B=null,A=0,Y=E.length;A<Y;A++)if(E[A].point===y.point){B=A;break}if(B===null){E.push({index:x.length,point:y.point});var it=y.getLeftmostComparator(g);w=P.sort(it)[0].otherSE;break}var D=E.splice(B)[0],W=x.splice(D.index);W.unshift(W[0].otherSE),s.push(new e(W.reverse()))}s.push(new e(x))}}return s}}]),xo(e,[{key:"getGeom",value:function(){for(var i=this.events[0].point,s=[i],a=1,c=this.events.length-1;a<c;a++){var h=this.events[a].point,g=this.events[a+1].point;dk(h,i,g)!==0&&(s.push(h),i=h)}if(s.length===1)return null;var y=s[0],w=s[1];dk(y,i,w)===0&&s.shift(),s.push(s[0]);for(var x=this.isExteriorRing()?1:-1,T=this.isExteriorRing()?0:s.length-1,E=this.isExteriorRing()?s.length:-1,P=[],z=T;z!=E;z+=x)P.push([s[z].x,s[z].y]);return P}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var i=this.enclosingRing();this._isExteriorRing=!i||!i.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var i=this.events[0],s=1,a=this.events.length;s<a;s++){var c=this.events[s];Ga.compare(i,c)>0&&(i=c)}for(var h=i.segment.prevInResult(),g=h?h.prevInResult():null;;){if(!h)return null;if(!g)return h.ringOut;if(g.ringOut!==h.ringOut)return g.ringOut.enclosingRing()!==h.ringOut?h.ringOut:h.ringOut.enclosingRing();h=g.prevInResult(),g=h?h.prevInResult():null}}}]),e}(),vk=function(){function e(i){Is(this,e),this.exteriorRing=i,i.poly=this,this.interiorRings=[]}return xo(e,[{key:"addInterior",value:function(i){this.interiorRings.push(i),i.poly=this}},{key:"getGeom",value:function(){var i=[this.exteriorRing.getGeom()];if(i[0]===null)return null;for(var s=0,a=this.interiorRings.length;s<a;s++){var c=this.interiorRings[s].getGeom();c!==null&&i.push(c)}return i}}]),e}(),SI=function(){function e(i){Is(this,e),this.rings=i,this.polys=this._composePolys(i)}return xo(e,[{key:"getGeom",value:function(){for(var i=[],s=0,a=this.polys.length;s<a;s++){var c=this.polys[s].getGeom();c!==null&&i.push(c)}return i}},{key:"_composePolys",value:function(i){for(var s=[],a=0,c=i.length;a<c;a++){var h=i[a];if(!h.poly)if(h.isExteriorRing())s.push(new vk(h));else{var g=h.enclosingRing();g.poly||s.push(new vk(g)),g.poly.addInterior(h)}}return s}}]),e}(),CI=function(){function e(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o0.compare;Is(this,e),this.queue=i,this.tree=new Lb(s),this.segments=[]}return xo(e,[{key:"process",value:function(i){var s=i.segment,a=[];if(i.consumedBy)return i.isLeft?this.queue.remove(i.otherSE):this.tree.remove(s),a;var c=i.isLeft?this.tree.insert(s):this.tree.find(s);if(!c)throw new Error("Unable to find segment #".concat(s.id," ")+"[".concat(s.leftSE.point.x,", ").concat(s.leftSE.point.y,"] -> ")+"[".concat(s.rightSE.point.x,", ").concat(s.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var h=c,g=c,y=void 0,w=void 0;y===void 0;)(h=this.tree.prev(h))===null?y=null:h.key.consumedBy===void 0&&(y=h.key);for(;w===void 0;)(g=this.tree.next(g))===null?w=null:g.key.consumedBy===void 0&&(w=g.key);if(i.isLeft){var x=null;if(y){var T=y.getIntersection(s);if(T!==null&&(s.isAnEndpoint(T)||(x=T),!y.isAnEndpoint(T)))for(var E=this._splitSafely(y,T),P=0,z=E.length;P<z;P++)a.push(E[P])}var N=null;if(w){var B=w.getIntersection(s);if(B!==null&&(s.isAnEndpoint(B)||(N=B),!w.isAnEndpoint(B)))for(var A=this._splitSafely(w,B),Y=0,it=A.length;Y<it;Y++)a.push(A[Y])}if(x!==null||N!==null){var D=null;x===null?D=N:N===null?D=x:D=Ga.comparePoints(x,N)<=0?x:N,this.queue.remove(s.rightSE),a.push(s.rightSE);for(var W=s.split(D),X=0,tt=W.length;X<tt;X++)a.push(W[X])}a.length>0?(this.tree.remove(s),a.push(i)):(this.segments.push(s),s.prev=y)}else{if(y&&w){var Q=y.getIntersection(w);if(Q!==null){if(!y.isAnEndpoint(Q))for(var zt=this._splitSafely(y,Q),Et=0,Ft=zt.length;Et<Ft;Et++)a.push(zt[Et]);if(!w.isAnEndpoint(Q))for(var Tt=this._splitSafely(w,Q),Ht=0,It=Tt.length;Ht<It;Ht++)a.push(Tt[Ht])}}this.tree.remove(s)}return a}},{key:"_splitSafely",value:function(i,s){this.tree.remove(i);var a=i.rightSE;this.queue.remove(a);var c=i.split(s);return c.push(a),i.consumedBy===void 0&&this.tree.insert(i),c}}]),e}(),yk=typeof process<"u"&&{version:"0.1.0"}.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,PI=typeof process<"u"&&{version:"0.1.0"}.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,ha=new(function(){function e(){Is(this,e)}return xo(e,[{key:"run",value:function(i,s,a){ha.type=i,bf.reset();for(var c=[new mk(s,!0)],h=0,g=a.length;h<g;h++)c.push(new mk(a[h],!1));if(ha.numMultiPolys=c.length,ha.type==="difference")for(var y=c[0],w=1;w<c.length;)zb(c[w].bbox,y.bbox)!==null?w++:c.splice(w,1);if(ha.type==="intersection"){for(var x=0,T=c.length;x<T;x++)for(var E=c[x],P=x+1,z=c.length;P<z;P++)if(zb(E.bbox,c[P].bbox)===null)return[]}for(var N=new Lb(Ga.compare),B=0,A=c.length;B<A;B++)for(var Y=c[B].getSweepEvents(),it=0,D=Y.length;it<D;it++)if(N.insert(Y[it]),N.size>yk)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var W=new CI(N),X=N.size,tt=N.pop();tt;){var Q=tt.key;if(N.size===X){var zt=Q.segment;throw new Error("Unable to pop() ".concat(Q.isLeft?"left":"right"," SweepEvent ")+"[".concat(Q.point.x,", ").concat(Q.point.y,"] from segment #").concat(zt.id," ")+"[".concat(zt.leftSE.point.x,", ").concat(zt.leftSE.point.y,"] -> ")+"[".concat(zt.rightSE.point.x,", ").concat(zt.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(N.size>yk)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(W.segments.length>PI)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var Et=W.process(Q),Ft=0,Tt=Et.length;Ft<Tt;Ft++){var Ht=Et[Ft];Ht.consumedBy===void 0&&N.insert(Ht)}X=N.size,tt=N.pop()}bf.reset();var It=TI.factory(W.segments);return new SI(It).getGeom()}}]),e}()),Nl={union:function(e){for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];return ha.run("union",e,s)},intersection:function(e){for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];return ha.run("intersection",e,s)},xor:function(e){for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];return ha.run("xor",e,s)},difference:function(e){for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];return ha.run("difference",e,s)}};"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(e){if(this==null)throw new TypeError(this+" is not an object");var i=Object(this),s=Math.max(Math.min(i.length,9007199254740991),0)||0,a=1 in arguments&&parseInt(Number(arguments[1]),10)||0;a=a<0?Math.max(s+a,0):Math.min(a,s);var c=2 in arguments&&arguments[2]!==void 0?parseInt(Number(arguments[2]),10)||0:s;for(c=c<0?Math.max(s+arguments[2],0):Math.min(c,s);a<c;)i[a]=e,++a;return i},writable:!0}),Number.isFinite=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},Number.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(e){return e!=e},Math.trunc=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};var Wu=function(){};Wu.prototype.interfaces_=function(){return[]},Wu.prototype.getClass=function(){return Wu},Wu.prototype.equalsWithTolerance=function(e,i,s){return Math.abs(e-i)<=s};var xi=function(e){function i(s){e.call(this,s),this.name="IllegalArgumentException",this.message=s,this.stack=new e().stack}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i}(Error),Ke=function(){},bk={MAX_VALUE:{configurable:!0}};Ke.isNaN=function(e){return Number.isNaN(e)},Ke.doubleToLongBits=function(e){return e},Ke.longBitsToDouble=function(e){return e},Ke.isInfinite=function(e){return!Number.isFinite(e)},bk.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(Ke,bk);var Do=function(){},s0=function(){},fd=function(){};function Fo(){}var Pt=function e(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)this.x=0,this.y=0,this.z=e.NULL_ORDINATE;else if(arguments.length===1){var i=arguments[0];this.x=i.x,this.y=i.y,this.z=i.z}else arguments.length===2?(this.x=arguments[0],this.y=arguments[1],this.z=e.NULL_ORDINATE):arguments.length===3&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},Zu={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};Pt.prototype.setOrdinate=function(e,i){switch(e){case Pt.X:this.x=i;break;case Pt.Y:this.y=i;break;case Pt.Z:this.z=i;break;default:throw new xi("Invalid ordinate index: "+e)}},Pt.prototype.equals2D=function(){if(arguments.length===1){var e=arguments[0];return this.x===e.x&&this.y===e.y}if(arguments.length===2){var i=arguments[0],s=arguments[1];return!!Wu.equalsWithTolerance(this.x,i.x,s)&&!!Wu.equalsWithTolerance(this.y,i.y,s)}},Pt.prototype.getOrdinate=function(e){switch(e){case Pt.X:return this.x;case Pt.Y:return this.y;case Pt.Z:return this.z}throw new xi("Invalid ordinate index: "+e)},Pt.prototype.equals3D=function(e){return this.x===e.x&&this.y===e.y&&(this.z===e.z||Ke.isNaN(this.z))&&Ke.isNaN(e.z)},Pt.prototype.equals=function(e){return e instanceof Pt&&this.equals2D(e)},Pt.prototype.equalInZ=function(e,i){return Wu.equalsWithTolerance(this.z,e.z,i)},Pt.prototype.compareTo=function(e){var i=e;return this.x<i.x?-1:this.x>i.x?1:this.y<i.y?-1:this.y>i.y?1:0},Pt.prototype.clone=function(){},Pt.prototype.copy=function(){return new Pt(this)},Pt.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},Pt.prototype.distance3D=function(e){var i=this.x-e.x,s=this.y-e.y,a=this.z-e.z;return Math.sqrt(i*i+s*s+a*a)},Pt.prototype.distance=function(e){var i=this.x-e.x,s=this.y-e.y;return Math.sqrt(i*i+s*s)},Pt.prototype.hashCode=function(){var e=17;return e=37*(e=37*e+Pt.hashCode(this.x))+Pt.hashCode(this.y)},Pt.prototype.setCoordinate=function(e){this.x=e.x,this.y=e.y,this.z=e.z},Pt.prototype.interfaces_=function(){return[Do,s0,Fo]},Pt.prototype.getClass=function(){return Pt},Pt.hashCode=function(){if(arguments.length===1){var e=arguments[0],i=Ke.doubleToLongBits(e);return Math.trunc((i^i)>>>32)}},Zu.DimensionalComparator.get=function(){return Dl},Zu.serialVersionUID.get=function(){return 6683108902428367e3},Zu.NULL_ORDINATE.get=function(){return Ke.NaN},Zu.X.get=function(){return 0},Zu.Y.get=function(){return 1},Zu.Z.get=function(){return 2},Object.defineProperties(Pt,Zu);var Dl=function(e){if(this._dimensionsToTest=2,arguments.length!==0){if(arguments.length===1){var i=arguments[0];if(i!==2&&i!==3)throw new xi("only 2 or 3 dimensions may be specified");this._dimensionsToTest=i}}};Dl.prototype.compare=function(e,i){var s=e,a=i,c=Dl.compare(s.x,a.x);if(c!==0)return c;var h=Dl.compare(s.y,a.y);return h!==0?h:this._dimensionsToTest<=2?0:Dl.compare(s.z,a.z)},Dl.prototype.interfaces_=function(){return[fd]},Dl.prototype.getClass=function(){return Dl},Dl.compare=function(e,i){return e<i?-1:e>i?1:Ke.isNaN(e)?Ke.isNaN(i)?0:-1:Ke.isNaN(i)?1:0};var gd=function(){};gd.prototype.create=function(){},gd.prototype.interfaces_=function(){return[]},gd.prototype.getClass=function(){return gd};var Nt=function(){},xf={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};Nt.prototype.interfaces_=function(){return[]},Nt.prototype.getClass=function(){return Nt},Nt.toLocationSymbol=function(e){switch(e){case Nt.EXTERIOR:return"e";case Nt.BOUNDARY:return"b";case Nt.INTERIOR:return"i";case Nt.NONE:return"-"}throw new xi("Unknown location value: "+e)},xf.INTERIOR.get=function(){return 0},xf.BOUNDARY.get=function(){return 1},xf.EXTERIOR.get=function(){return 2},xf.NONE.get=function(){return-1},Object.defineProperties(Nt,xf);var Ue=function(e,i){return e.interfaces_&&e.interfaces_().indexOf(i)>-1},_o=function(){},wk={LOG_10:{configurable:!0}};_o.prototype.interfaces_=function(){return[]},_o.prototype.getClass=function(){return _o},_o.log10=function(e){var i=Math.log(e);return Ke.isInfinite(i)||Ke.isNaN(i)?i:i/_o.LOG_10},_o.min=function(e,i,s,a){var c=e;return i<c&&(c=i),s<c&&(c=s),a<c&&(c=a),c},_o.clamp=function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],i=arguments[1],s=arguments[2];return e<i?i:e>s?s:e}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var a=arguments[0],c=arguments[1],h=arguments[2];return a<c?c:a>h?h:a}},_o.wrap=function(e,i){return e<0?i- -e%i:e%i},_o.max=function(){if(arguments.length===3){var e=arguments[0],i=arguments[1],s=arguments[2],a=e;return i>a&&(a=i),s>a&&(a=s),a}if(arguments.length===4){var c=arguments[0],h=arguments[1],g=arguments[2],y=arguments[3],w=c;return h>w&&(w=h),g>w&&(w=g),y>w&&(w=y),w}},_o.average=function(e,i){return(e+i)/2},wk.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(_o,wk);var Ls=function(e){this.str=e};Ls.prototype.append=function(e){this.str+=e},Ls.prototype.setCharAt=function(e,i){this.str=this.str.substr(0,e)+i+this.str.substr(e+1)},Ls.prototype.toString=function(e){return this.str};var Rs=function(e){this.value=e};Rs.prototype.intValue=function(){return this.value},Rs.prototype.compareTo=function(e){return this.value<e?-1:this.value>e?1:0},Rs.isNaN=function(e){return Number.isNaN(e)};var _f=function(){};_f.isWhitespace=function(e){return e<=32&&e>=0||e===127},_f.toUpperCase=function(e){return e.toUpperCase()};var jt=function e(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var i=arguments[0];this.init(i)}else if(arguments[0]instanceof e){var s=arguments[0];this.init(s)}else if(typeof arguments[0]=="string"){var a=arguments[0];e.call(this,e.parse(a))}}else if(arguments.length===2){var c=arguments[0],h=arguments[1];this.init(c,h)}},as={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};jt.prototype.le=function(e){return(this._hi<e._hi||this._hi===e._hi)&&this._lo<=e._lo},jt.prototype.extractSignificantDigits=function(e,i){var s=this.abs(),a=jt.magnitude(s._hi),c=jt.TEN.pow(a);(s=s.divide(c)).gt(jt.TEN)?(s=s.divide(jt.TEN),a+=1):s.lt(jt.ONE)&&(s=s.multiply(jt.TEN),a-=1);for(var h=a+1,g=new Ls,y=jt.MAX_PRINT_DIGITS-1,w=0;w<=y;w++){e&&w===h&&g.append(".");var x=Math.trunc(s._hi);if(x<0)break;var T=!1,E=0;x>9?(T=!0,E="9"):E="0"+x,g.append(E),s=s.subtract(jt.valueOf(x)).multiply(jt.TEN),T&&s.selfAdd(jt.TEN);var P=!0,z=jt.magnitude(s._hi);if(z<0&&Math.abs(z)>=y-w&&(P=!1),!P)break}return i[0]=a,g.toString()},jt.prototype.sqr=function(){return this.multiply(this)},jt.prototype.doubleValue=function(){return this._hi+this._lo},jt.prototype.subtract=function(){if(arguments[0]instanceof jt){var e=arguments[0];return this.add(e.negate())}if(typeof arguments[0]=="number"){var i=arguments[0];return this.add(-i)}},jt.prototype.equals=function(){if(arguments.length===1){var e=arguments[0];return this._hi===e._hi&&this._lo===e._lo}},jt.prototype.isZero=function(){return this._hi===0&&this._lo===0},jt.prototype.selfSubtract=function(){if(arguments[0]instanceof jt){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e._hi,-e._lo)}if(typeof arguments[0]=="number"){var i=arguments[0];return this.isNaN()?this:this.selfAdd(-i,0)}},jt.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},jt.prototype.min=function(e){return this.le(e)?this:e},jt.prototype.selfDivide=function(){if(arguments.length===1){if(arguments[0]instanceof jt){var e=arguments[0];return this.selfDivide(e._hi,e._lo)}if(typeof arguments[0]=="number"){var i=arguments[0];return this.selfDivide(i,0)}}else if(arguments.length===2){var s=arguments[0],a=arguments[1],c=null,h=null,g=null,y=null,w=null,x=null,T=null,E=null;return w=this._hi/s,E=(c=(x=jt.SPLIT*w)-(c=x-w))*(g=(E=jt.SPLIT*s)-(g=E-s))-(T=w*s)+c*(y=s-g)+(h=w-c)*g+h*y,E=w+(x=(this._hi-T-E+this._lo-w*a)/s),this._hi=E,this._lo=w-E+x,this}},jt.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},jt.prototype.divide=function(){if(arguments[0]instanceof jt){var e=arguments[0],i=null,s=null,a=null,c=null,h=null,g=null,y=null,w=null;s=(h=this._hi/e._hi)-(i=(g=jt.SPLIT*h)-(i=g-h)),w=i*(a=(w=jt.SPLIT*e._hi)-(a=w-e._hi))-(y=h*e._hi)+i*(c=e._hi-a)+s*a+s*c;var x=w=h+(g=(this._hi-y-w+this._lo-h*e._lo)/e._hi),T=h-w+g;return new jt(x,T)}if(typeof arguments[0]=="number"){var E=arguments[0];return Ke.isNaN(E)?jt.createNaN():jt.copy(this).selfDivide(E,0)}},jt.prototype.ge=function(e){return(this._hi>e._hi||this._hi===e._hi)&&this._lo>=e._lo},jt.prototype.pow=function(e){if(e===0)return jt.valueOf(1);var i=new jt(this),s=jt.valueOf(1),a=Math.abs(e);if(a>1)for(;a>0;)a%2==1&&s.selfMultiply(i),(a/=2)>0&&(i=i.sqr());else s=i;return e<0?s.reciprocal():s},jt.prototype.ceil=function(){if(this.isNaN())return jt.NaN;var e=Math.ceil(this._hi),i=0;return e===this._hi&&(i=Math.ceil(this._lo)),new jt(e,i)},jt.prototype.compareTo=function(e){var i=e;return this._hi<i._hi?-1:this._hi>i._hi?1:this._lo<i._lo?-1:this._lo>i._lo?1:0},jt.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},jt.prototype.setValue=function(){if(arguments[0]instanceof jt){var e=arguments[0];return this.init(e),this}if(typeof arguments[0]=="number"){var i=arguments[0];return this.init(i),this}},jt.prototype.max=function(e){return this.ge(e)?this:e},jt.prototype.sqrt=function(){if(this.isZero())return jt.valueOf(0);if(this.isNegative())return jt.NaN;var e=1/Math.sqrt(this._hi),i=this._hi*e,s=jt.valueOf(i),a=this.subtract(s.sqr())._hi*(.5*e);return s.add(a)},jt.prototype.selfAdd=function(){if(arguments.length===1){if(arguments[0]instanceof jt){var e=arguments[0];return this.selfAdd(e._hi,e._lo)}if(typeof arguments[0]=="number"){var i=arguments[0],s=null,a=null,c=null,h=null,g=null,y=null;return h=(c=this._hi+i)-(g=c-this._hi),a=(y=(h=i-g+(this._hi-h))+this._lo)+(c-(s=c+y)),this._hi=s+a,this._lo=a+(s-this._hi),this}}else if(arguments.length===2){var w=arguments[0],x=arguments[1],T=null,E=null,P=null,z=null,N=null,B=null,A=null;z=this._hi+w,E=this._lo+x,N=z-(B=z-this._hi),P=E-(A=E-this._lo);var Y=(T=z+(B=(N=w-B+(this._hi-N))+E))+(B=(P=x-A+(this._lo-P))+(B+(z-T))),it=B+(T-Y);return this._hi=Y,this._lo=it,this}},jt.prototype.selfMultiply=function(){if(arguments.length===1){if(arguments[0]instanceof jt){var e=arguments[0];return this.selfMultiply(e._hi,e._lo)}if(typeof arguments[0]=="number"){var i=arguments[0];return this.selfMultiply(i,0)}}else if(arguments.length===2){var s=arguments[0],a=arguments[1],c=null,h=null,g=null,y=null,w=null,x=null;c=(w=jt.SPLIT*this._hi)-this._hi,x=jt.SPLIT*s,c=w-c,h=this._hi-c,g=x-s;var T=(w=this._hi*s)+(x=c*(g=x-g)-w+c*(y=s-g)+h*g+h*y+(this._hi*a+this._lo*s)),E=x+(c=w-T);return this._hi=T,this._lo=E,this}},jt.prototype.selfSqr=function(){return this.selfMultiply(this)},jt.prototype.floor=function(){if(this.isNaN())return jt.NaN;var e=Math.floor(this._hi),i=0;return e===this._hi&&(i=Math.floor(this._lo)),new jt(e,i)},jt.prototype.negate=function(){return this.isNaN()?this:new jt(-this._hi,-this._lo)},jt.prototype.clone=function(){},jt.prototype.multiply=function(){if(arguments[0]instanceof jt){var e=arguments[0];return e.isNaN()?jt.createNaN():jt.copy(this).selfMultiply(e)}if(typeof arguments[0]=="number"){var i=arguments[0];return Ke.isNaN(i)?jt.createNaN():jt.copy(this).selfMultiply(i,0)}},jt.prototype.isNaN=function(){return Ke.isNaN(this._hi)},jt.prototype.intValue=function(){return Math.trunc(this._hi)},jt.prototype.toString=function(){var e=jt.magnitude(this._hi);return e>=-3&&e<=20?this.toStandardNotation():this.toSciNotation()},jt.prototype.toStandardNotation=function(){var e=this.getSpecialNumberString();if(e!==null)return e;var i=new Array(1).fill(null),s=this.extractSignificantDigits(!0,i),a=i[0]+1,c=s;if(s.charAt(0)===".")c="0"+s;else if(a<0)c="0."+jt.stringOfChar("0",-a)+s;else if(s.indexOf(".")===-1){var h=a-s.length;c=s+jt.stringOfChar("0",h)+".0"}return this.isNegative()?"-"+c:c},jt.prototype.reciprocal=function(){var e,i,s,a,c=null,h=null,g=null,y=null;e=(s=1/this._hi)-(c=(g=jt.SPLIT*s)-(c=g-s)),h=(y=jt.SPLIT*this._hi)-this._hi;var w=s+(g=(1-(a=s*this._hi)-(y=c*(h=y-h)-a+c*(i=this._hi-h)+e*h+e*i)-s*this._lo)/this._hi);return new jt(w,s-w+g)},jt.prototype.toSciNotation=function(){if(this.isZero())return jt.SCI_NOT_ZERO;var e=this.getSpecialNumberString();if(e!==null)return e;var i=new Array(1).fill(null),s=this.extractSignificantDigits(!1,i),a=jt.SCI_NOT_EXPONENT_CHAR+i[0];if(s.charAt(0)==="0")throw new Error("Found leading zero: "+s);var c="";s.length>1&&(c=s.substring(1));var h=s.charAt(0)+"."+c;return this.isNegative()?"-"+h+a:h+a},jt.prototype.abs=function(){return this.isNaN()?jt.NaN:this.isNegative()?this.negate():new jt(this)},jt.prototype.isPositive=function(){return(this._hi>0||this._hi===0)&&this._lo>0},jt.prototype.lt=function(e){return(this._hi<e._hi||this._hi===e._hi)&&this._lo<e._lo},jt.prototype.add=function(){if(arguments[0]instanceof jt){var e=arguments[0];return jt.copy(this).selfAdd(e)}if(typeof arguments[0]=="number"){var i=arguments[0];return jt.copy(this).selfAdd(i)}},jt.prototype.init=function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var e=arguments[0];this._hi=e,this._lo=0}else if(arguments[0]instanceof jt){var i=arguments[0];this._hi=i._hi,this._lo=i._lo}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];this._hi=s,this._lo=a}},jt.prototype.gt=function(e){return(this._hi>e._hi||this._hi===e._hi)&&this._lo>e._lo},jt.prototype.isNegative=function(){return(this._hi<0||this._hi===0)&&this._lo<0},jt.prototype.trunc=function(){return this.isNaN()?jt.NaN:this.isPositive()?this.floor():this.ceil()},jt.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},jt.prototype.interfaces_=function(){return[Fo,Do,s0]},jt.prototype.getClass=function(){return jt},jt.sqr=function(e){return jt.valueOf(e).selfMultiply(e)},jt.valueOf=function(){if(typeof arguments[0]=="string"){var e=arguments[0];return jt.parse(e)}if(typeof arguments[0]=="number"){var i=arguments[0];return new jt(i)}},jt.sqrt=function(e){return jt.valueOf(e).sqrt()},jt.parse=function(e){for(var i=0,s=e.length;_f.isWhitespace(e.charAt(i));)i++;var a=!1;if(i<s){var c=e.charAt(i);c!=="-"&&c!=="+"||(i++,c==="-"&&(a=!0))}for(var h=new jt,g=0,y=0,w=0;!(i>=s);){var x=e.charAt(i);if(i++,_f.isDigit(x)){var T=x-"0";h.selfMultiply(jt.TEN),h.selfAdd(T),g++}else{if(x!=="."){if(x==="e"||x==="E"){var E=e.substring(i);try{w=Rs.parseInt(E)}catch(A){throw A instanceof Error?new Error("Invalid exponent "+E+" in string "+e):A}break}throw new Error("Unexpected character '"+x+"' at position "+i+" in string "+e)}y=g}}var P=h,z=g-y-w;if(z===0)P=h;else if(z>0){var N=jt.TEN.pow(z);P=h.divide(N)}else if(z<0){var B=jt.TEN.pow(-z);P=h.multiply(B)}return a?P.negate():P},jt.createNaN=function(){return new jt(Ke.NaN,Ke.NaN)},jt.copy=function(e){return new jt(e)},jt.magnitude=function(e){var i=Math.abs(e),s=Math.log(i)/Math.log(10),a=Math.trunc(Math.floor(s));return 10*Math.pow(10,a)<=i&&(a+=1),a},jt.stringOfChar=function(e,i){for(var s=new Ls,a=0;a<i;a++)s.append(e);return s.toString()},as.PI.get=function(){return new jt(3.141592653589793,12246467991473532e-32)},as.TWO_PI.get=function(){return new jt(6.283185307179586,24492935982947064e-32)},as.PI_2.get=function(){return new jt(1.5707963267948966,6123233995736766e-32)},as.E.get=function(){return new jt(2.718281828459045,14456468917292502e-32)},as.NaN.get=function(){return new jt(Ke.NaN,Ke.NaN)},as.EPS.get=function(){return 123259516440783e-46},as.SPLIT.get=function(){return 134217729},as.MAX_PRINT_DIGITS.get=function(){return 32},as.TEN.get=function(){return jt.valueOf(10)},as.ONE.get=function(){return jt.valueOf(1)},as.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},as.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(jt,as);var Yn=function(){},xk={DP_SAFE_EPSILON:{configurable:!0}};Yn.prototype.interfaces_=function(){return[]},Yn.prototype.getClass=function(){return Yn},Yn.orientationIndex=function(e,i,s){var a=Yn.orientationIndexFilter(e,i,s);if(a<=1)return a;var c=jt.valueOf(i.x).selfAdd(-e.x),h=jt.valueOf(i.y).selfAdd(-e.y),g=jt.valueOf(s.x).selfAdd(-i.x),y=jt.valueOf(s.y).selfAdd(-i.y);return c.selfMultiply(y).selfSubtract(h.selfMultiply(g)).signum()},Yn.signOfDet2x2=function(e,i,s,a){return e.multiply(a).selfSubtract(i.multiply(s)).signum()},Yn.intersection=function(e,i,s,a){var c=jt.valueOf(a.y).selfSubtract(s.y).selfMultiply(jt.valueOf(i.x).selfSubtract(e.x)),h=jt.valueOf(a.x).selfSubtract(s.x).selfMultiply(jt.valueOf(i.y).selfSubtract(e.y)),g=c.subtract(h),y=jt.valueOf(a.x).selfSubtract(s.x).selfMultiply(jt.valueOf(e.y).selfSubtract(s.y)),w=jt.valueOf(a.y).selfSubtract(s.y).selfMultiply(jt.valueOf(e.x).selfSubtract(s.x)),x=y.subtract(w).selfDivide(g).doubleValue(),T=jt.valueOf(e.x).selfAdd(jt.valueOf(i.x).selfSubtract(e.x).selfMultiply(x)).doubleValue(),E=jt.valueOf(i.x).selfSubtract(e.x).selfMultiply(jt.valueOf(e.y).selfSubtract(s.y)),P=jt.valueOf(i.y).selfSubtract(e.y).selfMultiply(jt.valueOf(e.x).selfSubtract(s.x)),z=E.subtract(P).selfDivide(g).doubleValue(),N=jt.valueOf(s.y).selfAdd(jt.valueOf(a.y).selfSubtract(s.y).selfMultiply(z)).doubleValue();return new Pt(T,N)},Yn.orientationIndexFilter=function(e,i,s){var a=null,c=(e.x-s.x)*(i.y-s.y),h=(e.y-s.y)*(i.x-s.x),g=c-h;if(c>0){if(h<=0)return Yn.signum(g);a=c+h}else{if(!(c<0)||h>=0)return Yn.signum(g);a=-c-h}var y=Yn.DP_SAFE_EPSILON*a;return g>=y||-g>=y?Yn.signum(g):2},Yn.signum=function(e){return e>0?1:e<0?-1:0},xk.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(Yn,xk);var yr=function(){},kf={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};kf.X.get=function(){return 0},kf.Y.get=function(){return 1},kf.Z.get=function(){return 2},kf.M.get=function(){return 3},yr.prototype.setOrdinate=function(e,i,s){},yr.prototype.size=function(){},yr.prototype.getOrdinate=function(e,i){},yr.prototype.getCoordinate=function(){},yr.prototype.getCoordinateCopy=function(e){},yr.prototype.getDimension=function(){},yr.prototype.getX=function(e){},yr.prototype.clone=function(){},yr.prototype.expandEnvelope=function(e){},yr.prototype.copy=function(){},yr.prototype.getY=function(e){},yr.prototype.toCoordinateArray=function(){},yr.prototype.interfaces_=function(){return[s0]},yr.prototype.getClass=function(){return yr},Object.defineProperties(yr,kf);var _k=function(){},md=function(e){function i(){e.call(this,"Projective point not representable on the Cartesian plane.")}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(_k),pn=function(){};pn.arraycopy=function(e,i,s,a,c){for(var h=0,g=i;g<i+c;g++)s[a+h]=e[g],h++},pn.getProperty=function(e){return{"line.separator":`
`}[e]};var ls=function e(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var i=arguments[0];this.x=i.x,this.y=i.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var s=arguments[0],a=arguments[1];this.x=s,this.y=a,this.w=1}else if(arguments[0]instanceof e&&arguments[1]instanceof e){var c=arguments[0],h=arguments[1];this.x=c.y*h.w-h.y*c.w,this.y=h.x*c.w-c.x*h.w,this.w=c.x*h.y-h.x*c.y}else if(arguments[0]instanceof Pt&&arguments[1]instanceof Pt){var g=arguments[0],y=arguments[1];this.x=g.y-y.y,this.y=y.x-g.x,this.w=g.x*y.y-y.x*g.y}}else if(arguments.length===3){var w=arguments[0],x=arguments[1],T=arguments[2];this.x=w,this.y=x,this.w=T}else if(arguments.length===4){var E=arguments[0],P=arguments[1],z=arguments[2],N=arguments[3],B=E.y-P.y,A=P.x-E.x,Y=E.x*P.y-P.x*E.y,it=z.y-N.y,D=N.x-z.x,W=z.x*N.y-N.x*z.y;this.x=A*W-D*Y,this.y=it*Y-B*W,this.w=B*D-it*A}};ls.prototype.getY=function(){var e=this.y/this.w;if(Ke.isNaN(e)||Ke.isInfinite(e))throw new md;return e},ls.prototype.getX=function(){var e=this.x/this.w;if(Ke.isNaN(e)||Ke.isInfinite(e))throw new md;return e},ls.prototype.getCoordinate=function(){var e=new Pt;return e.x=this.getX(),e.y=this.getY(),e},ls.prototype.interfaces_=function(){return[]},ls.prototype.getClass=function(){return ls},ls.intersection=function(e,i,s,a){var c=e.y-i.y,h=i.x-e.x,g=e.x*i.y-i.x*e.y,y=s.y-a.y,w=a.x-s.x,x=s.x*a.y-a.x*s.y,T=c*w-y*h,E=(h*x-w*g)/T,P=(y*g-c*x)/T;if(Ke.isNaN(E)||Ke.isInfinite(E)||Ke.isNaN(P)||Ke.isInfinite(P))throw new md;return new Pt(E,P)};var Re=function e(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof Pt){var i=arguments[0];this.init(i.x,i.x,i.y,i.y)}else if(arguments[0]instanceof e){var s=arguments[0];this.init(s)}}else if(arguments.length===2){var a=arguments[0],c=arguments[1];this.init(a.x,c.x,a.y,c.y)}else if(arguments.length===4){var h=arguments[0],g=arguments[1],y=arguments[2],w=arguments[3];this.init(h,g,y,w)}},kk={serialVersionUID:{configurable:!0}};Re.prototype.getArea=function(){return this.getWidth()*this.getHeight()},Re.prototype.equals=function(e){if(!(e instanceof Re))return!1;var i=e;return this.isNull()?i.isNull():this._maxx===i.getMaxX()&&this._maxy===i.getMaxY()&&this._minx===i.getMinX()&&this._miny===i.getMinY()},Re.prototype.intersection=function(e){if(this.isNull()||e.isNull()||!this.intersects(e))return new Re;var i=this._minx>e._minx?this._minx:e._minx,s=this._miny>e._miny?this._miny:e._miny,a=this._maxx<e._maxx?this._maxx:e._maxx,c=this._maxy<e._maxy?this._maxy:e._maxy;return new Re(i,a,s,c)},Re.prototype.isNull=function(){return this._maxx<this._minx},Re.prototype.getMaxX=function(){return this._maxx},Re.prototype.covers=function(){if(arguments.length===1){if(arguments[0]instanceof Pt){var e=arguments[0];return this.covers(e.x,e.y)}if(arguments[0]instanceof Re){var i=arguments[0];return!this.isNull()&&!i.isNull()&&i.getMinX()>=this._minx&&i.getMaxX()<=this._maxx&&i.getMinY()>=this._miny&&i.getMaxY()<=this._maxy}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];return!this.isNull()&&s>=this._minx&&s<=this._maxx&&a>=this._miny&&a<=this._maxy}},Re.prototype.intersects=function(){if(arguments.length===1){if(arguments[0]instanceof Re){var e=arguments[0];return!this.isNull()&&!e.isNull()&&!(e._minx>this._maxx||e._maxx<this._minx||e._miny>this._maxy||e._maxy<this._miny)}if(arguments[0]instanceof Pt){var i=arguments[0];return this.intersects(i.x,i.y)}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];return!this.isNull()&&!(s>this._maxx||s<this._minx||a>this._maxy||a<this._miny)}},Re.prototype.getMinY=function(){return this._miny},Re.prototype.getMinX=function(){return this._minx},Re.prototype.expandToInclude=function(){if(arguments.length===1){if(arguments[0]instanceof Pt){var e=arguments[0];this.expandToInclude(e.x,e.y)}else if(arguments[0]instanceof Re){var i=arguments[0];if(i.isNull())return null;this.isNull()?(this._minx=i.getMinX(),this._maxx=i.getMaxX(),this._miny=i.getMinY(),this._maxy=i.getMaxY()):(i._minx<this._minx&&(this._minx=i._minx),i._maxx>this._maxx&&(this._maxx=i._maxx),i._miny<this._miny&&(this._miny=i._miny),i._maxy>this._maxy&&(this._maxy=i._maxy))}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];this.isNull()?(this._minx=s,this._maxx=s,this._miny=a,this._maxy=a):(s<this._minx&&(this._minx=s),s>this._maxx&&(this._maxx=s),a<this._miny&&(this._miny=a),a>this._maxy&&(this._maxy=a))}},Re.prototype.minExtent=function(){if(this.isNull())return 0;var e=this.getWidth(),i=this.getHeight();return e<i?e:i},Re.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},Re.prototype.compareTo=function(e){var i=e;return this.isNull()?i.isNull()?0:-1:i.isNull()?1:this._minx<i._minx?-1:this._minx>i._minx?1:this._miny<i._miny?-1:this._miny>i._miny?1:this._maxx<i._maxx?-1:this._maxx>i._maxx?1:this._maxy<i._maxy?-1:this._maxy>i._maxy?1:0},Re.prototype.translate=function(e,i){if(this.isNull())return null;this.init(this.getMinX()+e,this.getMaxX()+e,this.getMinY()+i,this.getMaxY()+i)},Re.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},Re.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},Re.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},Re.prototype.maxExtent=function(){if(this.isNull())return 0;var e=this.getWidth(),i=this.getHeight();return e>i?e:i},Re.prototype.expandBy=function(){if(arguments.length===1){var e=arguments[0];this.expandBy(e,e)}else if(arguments.length===2){var i=arguments[0],s=arguments[1];if(this.isNull())return null;this._minx-=i,this._maxx+=i,this._miny-=s,this._maxy+=s,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},Re.prototype.contains=function(){if(arguments.length===1){if(arguments[0]instanceof Re){var e=arguments[0];return this.covers(e)}if(arguments[0]instanceof Pt){var i=arguments[0];return this.covers(i)}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];return this.covers(s,a)}},Re.prototype.centre=function(){return this.isNull()?null:new Pt((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},Re.prototype.init=function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof Pt){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof Re){var i=arguments[0];this._minx=i._minx,this._maxx=i._maxx,this._miny=i._miny,this._maxy=i._maxy}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];this.init(s.x,a.x,s.y,a.y)}else if(arguments.length===4){var c=arguments[0],h=arguments[1],g=arguments[2],y=arguments[3];c<h?(this._minx=c,this._maxx=h):(this._minx=h,this._maxx=c),g<y?(this._miny=g,this._maxy=y):(this._miny=y,this._maxy=g)}},Re.prototype.getMaxY=function(){return this._maxy},Re.prototype.distance=function(e){if(this.intersects(e))return 0;var i=0;this._maxx<e._minx?i=e._minx-this._maxx:this._minx>e._maxx&&(i=this._minx-e._maxx);var s=0;return this._maxy<e._miny?s=e._miny-this._maxy:this._miny>e._maxy&&(s=this._miny-e._maxy),i===0?s:s===0?i:Math.sqrt(i*i+s*s)},Re.prototype.hashCode=function(){var e=17;return e=37*(e=37*(e=37*(e=37*e+Pt.hashCode(this._minx))+Pt.hashCode(this._maxx))+Pt.hashCode(this._miny))+Pt.hashCode(this._maxy)},Re.prototype.interfaces_=function(){return[Do,Fo]},Re.prototype.getClass=function(){return Re},Re.intersects=function(){if(arguments.length===3){var e=arguments[0],i=arguments[1],s=arguments[2];return s.x>=(e.x<i.x?e.x:i.x)&&s.x<=(e.x>i.x?e.x:i.x)&&s.y>=(e.y<i.y?e.y:i.y)&&s.y<=(e.y>i.y?e.y:i.y)}if(arguments.length===4){var a=arguments[0],c=arguments[1],h=arguments[2],g=arguments[3],y=Math.min(h.x,g.x),w=Math.max(h.x,g.x),x=Math.min(a.x,c.x),T=Math.max(a.x,c.x);return!(x>w)&&!(T<y)&&(y=Math.min(h.y,g.y),w=Math.max(h.y,g.y),x=Math.min(a.y,c.y),T=Math.max(a.y,c.y),!(x>w)&&!(T<y))}},kk.serialVersionUID.get=function(){return 5873921885273102e3},Object.defineProperties(Re,kk);var As={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},a0=function(e){this.geometryFactory=e||new lr};a0.prototype.read=function(e){var i,s,a;e=e.replace(/[\n\r]/g," ");var c=As.typeStr.exec(e);if(e.search("EMPTY")!==-1&&((c=As.emptyTypeStr.exec(e))[2]=void 0),c&&(s=c[1].toLowerCase(),a=c[2],vd[s]&&(i=vd[s].apply(this,[a]))),i===void 0)throw new Error("Could not parse WKT "+e);return i},a0.prototype.write=function(e){return this.extractGeometry(e)},a0.prototype.extractGeometry=function(e){var i=e.getGeometryType().toLowerCase();if(!qa[i])return null;var s=i.toUpperCase();return e.isEmpty()?s+" EMPTY":s+"("+qa[i].apply(this,[e])+")"};var qa={coordinate:function(e){return e.x+" "+e.y},point:function(e){return qa.coordinate.call(this,e._coordinates._coordinates[0])},multipoint:function(e){for(var i=[],s=0,a=e._geometries.length;s<a;++s)i.push("("+qa.point.apply(this,[e._geometries[s]])+")");return i.join(",")},linestring:function(e){for(var i=[],s=0,a=e._points._coordinates.length;s<a;++s)i.push(qa.coordinate.apply(this,[e._points._coordinates[s]]));return i.join(",")},linearring:function(e){for(var i=[],s=0,a=e._points._coordinates.length;s<a;++s)i.push(qa.coordinate.apply(this,[e._points._coordinates[s]]));return i.join(",")},multilinestring:function(e){for(var i=[],s=0,a=e._geometries.length;s<a;++s)i.push("("+qa.linestring.apply(this,[e._geometries[s]])+")");return i.join(",")},polygon:function(e){var i=[];i.push("("+qa.linestring.apply(this,[e._shell])+")");for(var s=0,a=e._holes.length;s<a;++s)i.push("("+qa.linestring.apply(this,[e._holes[s]])+")");return i.join(",")},multipolygon:function(e){for(var i=[],s=0,a=e._geometries.length;s<a;++s)i.push("("+qa.polygon.apply(this,[e._geometries[s]])+")");return i.join(",")},geometrycollection:function(e){for(var i=[],s=0,a=e._geometries.length;s<a;++s)i.push(this.extractGeometry(e._geometries[s]));return i.join(",")}},vd={point:function(e){if(e===void 0)return this.geometryFactory.createPoint();var i=e.trim().split(As.spaces);return this.geometryFactory.createPoint(new Pt(Number.parseFloat(i[0]),Number.parseFloat(i[1])))},multipoint:function(e){var i;if(e===void 0)return this.geometryFactory.createMultiPoint();for(var s=e.trim().split(","),a=[],c=0,h=s.length;c<h;++c)i=s[c].replace(As.trimParens,"$1"),a.push(vd.point.apply(this,[i]));return this.geometryFactory.createMultiPoint(a)},linestring:function(e){if(e===void 0)return this.geometryFactory.createLineString();for(var i,s=e.trim().split(","),a=[],c=0,h=s.length;c<h;++c)i=s[c].trim().split(As.spaces),a.push(new Pt(Number.parseFloat(i[0]),Number.parseFloat(i[1])));return this.geometryFactory.createLineString(a)},linearring:function(e){if(e===void 0)return this.geometryFactory.createLinearRing();for(var i,s=e.trim().split(","),a=[],c=0,h=s.length;c<h;++c)i=s[c].trim().split(As.spaces),a.push(new Pt(Number.parseFloat(i[0]),Number.parseFloat(i[1])));return this.geometryFactory.createLinearRing(a)},multilinestring:function(e){var i;if(e===void 0)return this.geometryFactory.createMultiLineString();for(var s=e.trim().split(As.parenComma),a=[],c=0,h=s.length;c<h;++c)i=s[c].replace(As.trimParens,"$1"),a.push(vd.linestring.apply(this,[i]));return this.geometryFactory.createMultiLineString(a)},polygon:function(e){var i,s,a;if(e===void 0)return this.geometryFactory.createPolygon();for(var c,h=e.trim().split(As.parenComma),g=[],y=0,w=h.length;y<w;++y)i=h[y].replace(As.trimParens,"$1"),s=vd.linestring.apply(this,[i]),a=this.geometryFactory.createLinearRing(s._points),y===0?c=a:g.push(a);return this.geometryFactory.createPolygon(c,g)},multipolygon:function(e){var i;if(e===void 0)return this.geometryFactory.createMultiPolygon();for(var s=e.trim().split(As.doubleParenComma),a=[],c=0,h=s.length;c<h;++c)i=s[c].replace(As.trimParens,"$1"),a.push(vd.polygon.apply(this,[i]));return this.geometryFactory.createMultiPolygon(a)},geometrycollection:function(e){if(e===void 0)return this.geometryFactory.createGeometryCollection();for(var i=(e=e.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),s=[],a=0,c=i.length;a<c;++a)s.push(this.read(i[a]));return this.geometryFactory.createGeometryCollection(s)}},cs=function(e){this.parser=new a0(e)};cs.prototype.write=function(e){return this.parser.write(e)},cs.toLineString=function(e,i){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+e.x+" "+e.y+", "+i.x+" "+i.y+" )"};var Va=function(e){function i(s){e.call(this,s),this.name="RuntimeException",this.message=s,this.stack=new e().stack}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i}(Error),l0=function(e){function i(){if(e.call(this),arguments.length===0)e.call(this);else if(arguments.length===1){var s=arguments[0];e.call(this,s)}}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(Va),$e=function(){};$e.prototype.interfaces_=function(){return[]},$e.prototype.getClass=function(){return $e},$e.shouldNeverReachHere=function(){if(arguments.length===0)$e.shouldNeverReachHere(null);else if(arguments.length===1){var e=arguments[0];throw new l0("Should never reach here"+(e!==null?": "+e:""))}},$e.isTrue=function(){var e;if(arguments.length===1)$e.isTrue(arguments[0],null);else if(arguments.length===2&&(e=arguments[1],!arguments[0]))throw e===null?new l0:new l0(e)},$e.equals=function(){var e,i,s;if(arguments.length===2)$e.equals(e=arguments[0],i=arguments[1],null);else if(arguments.length===3&&(e=arguments[0],s=arguments[2],!(i=arguments[1]).equals(e)))throw new l0("Expected "+e+" but encountered "+i+(s!==null?": "+s:""))};var Ei=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new Pt,this._intPt[1]=new Pt,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},Yu={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};Ei.prototype.getIndexAlongSegment=function(e,i){return this.computeIntLineIndex(),this._intLineIndex[e][i]},Ei.prototype.getTopologySummary=function(){var e=new Ls;return this.isEndPoint()&&e.append(" endpoint"),this._isProper&&e.append(" proper"),this.isCollinear()&&e.append(" collinear"),e.toString()},Ei.prototype.computeIntersection=function(e,i,s,a){this._inputLines[0][0]=e,this._inputLines[0][1]=i,this._inputLines[1][0]=s,this._inputLines[1][1]=a,this._result=this.computeIntersect(e,i,s,a)},Ei.prototype.getIntersectionNum=function(){return this._result},Ei.prototype.computeIntLineIndex=function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var e=arguments[0],i=this.getEdgeDistance(e,0),s=this.getEdgeDistance(e,1);i>s?(this._intLineIndex[e][0]=0,this._intLineIndex[e][1]=1):(this._intLineIndex[e][0]=1,this._intLineIndex[e][1]=0)}},Ei.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},Ei.prototype.setPrecisionModel=function(e){this._precisionModel=e},Ei.prototype.isInteriorIntersection=function(){var e=this;if(arguments.length===0)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(arguments.length===1){for(var i=arguments[0],s=0;s<this._result;s++)if(!e._intPt[s].equals2D(e._inputLines[i][0])&&!e._intPt[s].equals2D(e._inputLines[i][1]))return!0;return!1}},Ei.prototype.getIntersection=function(e){return this._intPt[e]},Ei.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},Ei.prototype.hasIntersection=function(){return this._result!==Ei.NO_INTERSECTION},Ei.prototype.getEdgeDistance=function(e,i){return Ei.computeEdgeDistance(this._intPt[i],this._inputLines[e][0],this._inputLines[e][1])},Ei.prototype.isCollinear=function(){return this._result===Ei.COLLINEAR_INTERSECTION},Ei.prototype.toString=function(){return cs.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+cs.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},Ei.prototype.getEndpoint=function(e,i){return this._inputLines[e][i]},Ei.prototype.isIntersection=function(e){for(var i=0;i<this._result;i++)if(this._intPt[i].equals2D(e))return!0;return!1},Ei.prototype.getIntersectionAlongSegment=function(e,i){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[e][i]]},Ei.prototype.interfaces_=function(){return[]},Ei.prototype.getClass=function(){return Ei},Ei.computeEdgeDistance=function(e,i,s){var a=Math.abs(s.x-i.x),c=Math.abs(s.y-i.y),h=-1;if(e.equals(i))h=0;else if(e.equals(s))h=a>c?a:c;else{var g=Math.abs(e.x-i.x),y=Math.abs(e.y-i.y);(h=a>c?g:y)!==0||e.equals(i)||(h=Math.max(g,y))}return $e.isTrue(!(h===0&&!e.equals(i)),"Bad distance calculation"),h},Ei.nonRobustComputeEdgeDistance=function(e,i,s){var a=e.x-i.x,c=e.y-i.y,h=Math.sqrt(a*a+c*c);return $e.isTrue(!(h===0&&!e.equals(i)),"Invalid distance calculation"),h},Yu.DONT_INTERSECT.get=function(){return 0},Yu.DO_INTERSECT.get=function(){return 1},Yu.COLLINEAR.get=function(){return 2},Yu.NO_INTERSECTION.get=function(){return 0},Yu.POINT_INTERSECTION.get=function(){return 1},Yu.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(Ei,Yu);var Nc=function(e){function i(){e.apply(this,arguments)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.isInSegmentEnvelopes=function(s){var a=new Re(this._inputLines[0][0],this._inputLines[0][1]),c=new Re(this._inputLines[1][0],this._inputLines[1][1]);return a.contains(s)&&c.contains(s)},i.prototype.computeIntersection=function(){if(arguments.length!==3)return e.prototype.computeIntersection.apply(this,arguments);var s=arguments[0],a=arguments[1],c=arguments[2];if(this._isProper=!1,Re.intersects(a,c,s)&&fe.orientationIndex(a,c,s)===0&&fe.orientationIndex(c,a,s)===0)return this._isProper=!0,(s.equals(a)||s.equals(c))&&(this._isProper=!1),this._result=e.POINT_INTERSECTION,null;this._result=e.NO_INTERSECTION},i.prototype.normalizeToMinimum=function(s,a,c,h,g){g.x=this.smallestInAbsValue(s.x,a.x,c.x,h.x),g.y=this.smallestInAbsValue(s.y,a.y,c.y,h.y),s.x-=g.x,s.y-=g.y,a.x-=g.x,a.y-=g.y,c.x-=g.x,c.y-=g.y,h.x-=g.x,h.y-=g.y},i.prototype.safeHCoordinateIntersection=function(s,a,c,h){var g=null;try{g=ls.intersection(s,a,c,h)}catch(y){if(!(y instanceof md))throw y;g=i.nearestEndpoint(s,a,c,h)}return g},i.prototype.intersection=function(s,a,c,h){var g=this.intersectionWithNormalization(s,a,c,h);return this.isInSegmentEnvelopes(g)||(g=new Pt(i.nearestEndpoint(s,a,c,h))),this._precisionModel!==null&&this._precisionModel.makePrecise(g),g},i.prototype.smallestInAbsValue=function(s,a,c,h){var g=s,y=Math.abs(g);return Math.abs(a)<y&&(g=a,y=Math.abs(a)),Math.abs(c)<y&&(g=c,y=Math.abs(c)),Math.abs(h)<y&&(g=h),g},i.prototype.checkDD=function(s,a,c,h,g){var y=Yn.intersection(s,a,c,h),w=this.isInSegmentEnvelopes(y);pn.out.println("DD in env = "+w+"  --------------------- "+y),g.distance(y)>1e-4&&pn.out.println("Distance = "+g.distance(y))},i.prototype.intersectionWithNormalization=function(s,a,c,h){var g=new Pt(s),y=new Pt(a),w=new Pt(c),x=new Pt(h),T=new Pt;this.normalizeToEnvCentre(g,y,w,x,T);var E=this.safeHCoordinateIntersection(g,y,w,x);return E.x+=T.x,E.y+=T.y,E},i.prototype.computeCollinearIntersection=function(s,a,c,h){var g=Re.intersects(s,a,c),y=Re.intersects(s,a,h),w=Re.intersects(c,h,s),x=Re.intersects(c,h,a);return g&&y?(this._intPt[0]=c,this._intPt[1]=h,e.COLLINEAR_INTERSECTION):w&&x?(this._intPt[0]=s,this._intPt[1]=a,e.COLLINEAR_INTERSECTION):g&&w?(this._intPt[0]=c,this._intPt[1]=s,!c.equals(s)||y||x?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):g&&x?(this._intPt[0]=c,this._intPt[1]=a,!c.equals(a)||y||w?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):y&&w?(this._intPt[0]=h,this._intPt[1]=s,!h.equals(s)||g||x?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):y&&x?(this._intPt[0]=h,this._intPt[1]=a,!h.equals(a)||g||w?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):e.NO_INTERSECTION},i.prototype.normalizeToEnvCentre=function(s,a,c,h,g){var y=s.x<a.x?s.x:a.x,w=s.y<a.y?s.y:a.y,x=s.x>a.x?s.x:a.x,T=s.y>a.y?s.y:a.y,E=c.x<h.x?c.x:h.x,P=c.y<h.y?c.y:h.y,z=c.x>h.x?c.x:h.x,N=c.y>h.y?c.y:h.y,B=((y>E?y:E)+(x<z?x:z))/2,A=((w>P?w:P)+(T<N?T:N))/2;g.x=B,g.y=A,s.x-=g.x,s.y-=g.y,a.x-=g.x,a.y-=g.y,c.x-=g.x,c.y-=g.y,h.x-=g.x,h.y-=g.y},i.prototype.computeIntersect=function(s,a,c,h){if(this._isProper=!1,!Re.intersects(s,a,c,h))return e.NO_INTERSECTION;var g=fe.orientationIndex(s,a,c),y=fe.orientationIndex(s,a,h);if(g>0&&y>0||g<0&&y<0)return e.NO_INTERSECTION;var w=fe.orientationIndex(c,h,s),x=fe.orientationIndex(c,h,a);return w>0&&x>0||w<0&&x<0?e.NO_INTERSECTION:g===0&&y===0&&w===0&&x===0?this.computeCollinearIntersection(s,a,c,h):(g===0||y===0||w===0||x===0?(this._isProper=!1,s.equals2D(c)||s.equals2D(h)?this._intPt[0]=s:a.equals2D(c)||a.equals2D(h)?this._intPt[0]=a:g===0?this._intPt[0]=new Pt(c):y===0?this._intPt[0]=new Pt(h):w===0?this._intPt[0]=new Pt(s):x===0&&(this._intPt[0]=new Pt(a))):(this._isProper=!0,this._intPt[0]=this.intersection(s,a,c,h)),e.POINT_INTERSECTION)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i.nearestEndpoint=function(s,a,c,h){var g=s,y=fe.distancePointLine(s,c,h),w=fe.distancePointLine(a,c,h);return w<y&&(y=w,g=a),(w=fe.distancePointLine(c,s,a))<y&&(y=w,g=c),(w=fe.distancePointLine(h,s,a))<y&&(y=w,g=h),g},i}(Ei),Xu=function(){};Xu.prototype.interfaces_=function(){return[]},Xu.prototype.getClass=function(){return Xu},Xu.orientationIndex=function(e,i,s){var a=i.x-e.x,c=i.y-e.y,h=s.x-i.x,g=s.y-i.y;return Xu.signOfDet2x2(a,c,h,g)},Xu.signOfDet2x2=function(e,i,s,a){var c=null,h=null,g=null;if(c=1,e===0||a===0)return i===0||s===0?0:i>0?s>0?-c:c:s>0?c:-c;if(i===0||s===0)return a>0?e>0?c:-c:e>0?-c:c;if(i>0?a>0?i<=a||(c=-c,h=e,e=s,s=h,h=i,i=a,a=h):i<=-a?(c=-c,s=-s,a=-a):(h=e,e=-s,s=h,h=i,i=-a,a=h):a>0?-i<=a?(c=-c,e=-e,i=-i):(h=-e,e=s,s=h,h=-i,i=a,a=h):i>=a?(e=-e,i=-i,s=-s,a=-a):(c=-c,h=-e,e=-s,s=h,h=-i,i=-a,a=h),e>0){if(!(s>0)||!(e<=s))return c}else{if(s>0||!(e>=s))return-c;c=-c,e=-e,s=-s}for(;;){if((a-=(g=Math.floor(s/e))*i)<0)return-c;if(a>i)return c;if(e>(s-=g*e)+s){if(i<a+a)return c}else{if(i>a+a)return-c;s=e-s,a=i-a,c=-c}if(a===0)return s===0?0:-c;if(s===0||(i-=(g=Math.floor(e/s))*a)<0)return c;if(i>a)return-c;if(s>(e-=g*s)+e){if(a<i+i)return-c}else{if(a>i+i)return c;e=s-e,i=a-i,c=-c}if(i===0)return e===0?0:c;if(e===0)return-c}};var Os=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var e=arguments[0];this._p=e};Os.prototype.countSegment=function(e,i){if(e.x<this._p.x&&i.x<this._p.x)return null;if(this._p.x===i.x&&this._p.y===i.y)return this._isPointOnSegment=!0,null;if(e.y===this._p.y&&i.y===this._p.y){var s=e.x,a=i.x;return s>a&&(s=i.x,a=e.x),this._p.x>=s&&this._p.x<=a&&(this._isPointOnSegment=!0),null}if(e.y>this._p.y&&i.y<=this._p.y||i.y>this._p.y&&e.y<=this._p.y){var c=e.x-this._p.x,h=e.y-this._p.y,g=i.x-this._p.x,y=i.y-this._p.y,w=Xu.signOfDet2x2(c,h,g,y);if(w===0)return this._isPointOnSegment=!0,null;y<h&&(w=-w),w>0&&this._crossingCount++}},Os.prototype.isPointInPolygon=function(){return this.getLocation()!==Nt.EXTERIOR},Os.prototype.getLocation=function(){return this._isPointOnSegment?Nt.BOUNDARY:this._crossingCount%2==1?Nt.INTERIOR:Nt.EXTERIOR},Os.prototype.isOnSegment=function(){return this._isPointOnSegment},Os.prototype.interfaces_=function(){return[]},Os.prototype.getClass=function(){return Os},Os.locatePointInRing=function(){if(arguments[0]instanceof Pt&&Ue(arguments[1],yr)){for(var e=arguments[0],i=arguments[1],s=new Os(e),a=new Pt,c=new Pt,h=1;h<i.size();h++)if(i.getCoordinate(h,a),i.getCoordinate(h-1,c),s.countSegment(a,c),s.isOnSegment())return s.getLocation();return s.getLocation()}if(arguments[0]instanceof Pt&&arguments[1]instanceof Array){for(var g=arguments[0],y=arguments[1],w=new Os(g),x=1;x<y.length;x++){var T=y[x],E=y[x-1];if(w.countSegment(T,E),w.isOnSegment())return w.getLocation()}return w.getLocation()}};var fe=function(){},Ku={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};fe.prototype.interfaces_=function(){return[]},fe.prototype.getClass=function(){return fe},fe.orientationIndex=function(e,i,s){return Yn.orientationIndex(e,i,s)},fe.signedArea=function(){if(arguments[0]instanceof Array){var e=arguments[0];if(e.length<3)return 0;for(var i=0,s=e[0].x,a=1;a<e.length-1;a++){var c=e[a].x-s,h=e[a+1].y,g=e[a-1].y;i+=c*(g-h)}return i/2}if(Ue(arguments[0],yr)){var y=arguments[0],w=y.size();if(w<3)return 0;var x=new Pt,T=new Pt,E=new Pt;y.getCoordinate(0,T),y.getCoordinate(1,E);var P=T.x;E.x-=P;for(var z=0,N=1;N<w-1;N++)x.y=T.y,T.x=E.x,T.y=E.y,y.getCoordinate(N+1,E),E.x-=P,z+=T.x*(x.y-E.y);return z/2}},fe.distanceLineLine=function(e,i,s,a){if(e.equals(i))return fe.distancePointLine(e,s,a);if(s.equals(a))return fe.distancePointLine(a,e,i);var c=!1;if(Re.intersects(e,i,s,a)){var h=(i.x-e.x)*(a.y-s.y)-(i.y-e.y)*(a.x-s.x);if(h===0)c=!0;else{var g=(e.y-s.y)*(a.x-s.x)-(e.x-s.x)*(a.y-s.y),y=((e.y-s.y)*(i.x-e.x)-(e.x-s.x)*(i.y-e.y))/h,w=g/h;(w<0||w>1||y<0||y>1)&&(c=!0)}}else c=!0;return c?_o.min(fe.distancePointLine(e,s,a),fe.distancePointLine(i,s,a),fe.distancePointLine(s,e,i),fe.distancePointLine(a,e,i)):0},fe.isPointInRing=function(e,i){return fe.locatePointInRing(e,i)!==Nt.EXTERIOR},fe.computeLength=function(e){var i=e.size();if(i<=1)return 0;var s=0,a=new Pt;e.getCoordinate(0,a);for(var c=a.x,h=a.y,g=1;g<i;g++){e.getCoordinate(g,a);var y=a.x,w=a.y,x=y-c,T=w-h;s+=Math.sqrt(x*x+T*T),c=y,h=w}return s},fe.isCCW=function(e){var i=e.length-1;if(i<3)throw new xi("Ring has fewer than 4 points, so orientation cannot be determined");for(var s=e[0],a=0,c=1;c<=i;c++){var h=e[c];h.y>s.y&&(s=h,a=c)}var g=a;do(g-=1)<0&&(g=i);while(e[g].equals2D(s)&&g!==a);var y=a;do y=(y+1)%i;while(e[y].equals2D(s)&&y!==a);var w=e[g],x=e[y];if(w.equals2D(s)||x.equals2D(s)||w.equals2D(x))return!1;var T=fe.computeOrientation(w,s,x),E=!1;return E=T===0?w.x>x.x:T>0,E},fe.locatePointInRing=function(e,i){return Os.locatePointInRing(e,i)},fe.distancePointLinePerpendicular=function(e,i,s){var a=(s.x-i.x)*(s.x-i.x)+(s.y-i.y)*(s.y-i.y),c=((i.y-e.y)*(s.x-i.x)-(i.x-e.x)*(s.y-i.y))/a;return Math.abs(c)*Math.sqrt(a)},fe.computeOrientation=function(e,i,s){return fe.orientationIndex(e,i,s)},fe.distancePointLine=function(){if(arguments.length===2){var e=arguments[0],i=arguments[1];if(i.length===0)throw new xi("Line array must contain at least one vertex");for(var s=e.distance(i[0]),a=0;a<i.length-1;a++){var c=fe.distancePointLine(e,i[a],i[a+1]);c<s&&(s=c)}return s}if(arguments.length===3){var h=arguments[0],g=arguments[1],y=arguments[2];if(g.x===y.x&&g.y===y.y)return h.distance(g);var w=(y.x-g.x)*(y.x-g.x)+(y.y-g.y)*(y.y-g.y),x=((h.x-g.x)*(y.x-g.x)+(h.y-g.y)*(y.y-g.y))/w;if(x<=0)return h.distance(g);if(x>=1)return h.distance(y);var T=((g.y-h.y)*(y.x-g.x)-(g.x-h.x)*(y.y-g.y))/w;return Math.abs(T)*Math.sqrt(w)}},fe.isOnLine=function(e,i){for(var s=new Nc,a=1;a<i.length;a++){var c=i[a-1],h=i[a];if(s.computeIntersection(e,c,h),s.hasIntersection())return!0}return!1},Ku.CLOCKWISE.get=function(){return-1},Ku.RIGHT.get=function(){return fe.CLOCKWISE},Ku.COUNTERCLOCKWISE.get=function(){return 1},Ku.LEFT.get=function(){return fe.COUNTERCLOCKWISE},Ku.COLLINEAR.get=function(){return 0},Ku.STRAIGHT.get=function(){return fe.COLLINEAR},Object.defineProperties(fe,Ku);var Wa=function(){};Wa.prototype.filter=function(e){},Wa.prototype.interfaces_=function(){return[]},Wa.prototype.getClass=function(){return Wa};var je=function(){var e=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=e,this._SRID=e.getSRID()},da={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};je.prototype.isGeometryCollection=function(){return this.getSortIndex()===je.SORTINDEX_GEOMETRYCOLLECTION},je.prototype.getFactory=function(){return this._factory},je.prototype.getGeometryN=function(e){return this},je.prototype.getArea=function(){return 0},je.prototype.isRectangle=function(){return!1},je.prototype.equals=function(){if(arguments[0]instanceof je){var e=arguments[0];return e!==null&&this.equalsTopo(e)}if(arguments[0]instanceof Object){var i=arguments[0];if(!(i instanceof je))return!1;var s=i;return this.equalsExact(s)}},je.prototype.equalsExact=function(e){return this===e||this.equalsExact(e,0)},je.prototype.geometryChanged=function(){this.apply(je.geometryChangedFilter)},je.prototype.geometryChangedAction=function(){this._envelope=null},je.prototype.equalsNorm=function(e){return e!==null&&this.norm().equalsExact(e.norm())},je.prototype.getLength=function(){return 0},je.prototype.getNumGeometries=function(){return 1},je.prototype.compareTo=function(){if(arguments.length===1){var e=arguments[0],i=e;return this.getSortIndex()!==i.getSortIndex()?this.getSortIndex()-i.getSortIndex():this.isEmpty()&&i.isEmpty()?0:this.isEmpty()?-1:i.isEmpty()?1:this.compareToSameClass(e)}if(arguments.length===2){var s=arguments[0],a=arguments[1];return this.getSortIndex()!==s.getSortIndex()?this.getSortIndex()-s.getSortIndex():this.isEmpty()&&s.isEmpty()?0:this.isEmpty()?-1:s.isEmpty()?1:this.compareToSameClass(s,a)}},je.prototype.getUserData=function(){return this._userData},je.prototype.getSRID=function(){return this._SRID},je.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},je.prototype.checkNotGeometryCollection=function(e){if(e.getSortIndex()===je.SORTINDEX_GEOMETRYCOLLECTION)throw new xi("This method does not support GeometryCollection arguments")},je.prototype.equal=function(e,i,s){return s===0?e.equals(i):e.distance(i)<=s},je.prototype.norm=function(){var e=this.copy();return e.normalize(),e},je.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},je.prototype.getEnvelopeInternal=function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new Re(this._envelope)},je.prototype.setSRID=function(e){this._SRID=e},je.prototype.setUserData=function(e){this._userData=e},je.prototype.compare=function(e,i){for(var s=e.iterator(),a=i.iterator();s.hasNext()&&a.hasNext();){var c=s.next(),h=a.next(),g=c.compareTo(h);if(g!==0)return g}return s.hasNext()?1:a.hasNext()?-1:0},je.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},je.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===je.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===je.SORTINDEX_MULTIPOINT||this.getSortIndex()===je.SORTINDEX_MULTILINESTRING||this.getSortIndex()===je.SORTINDEX_MULTIPOLYGON},je.prototype.interfaces_=function(){return[s0,Do,Fo]},je.prototype.getClass=function(){return je},je.hasNonEmptyElements=function(e){for(var i=0;i<e.length;i++)if(!e[i].isEmpty())return!0;return!1},je.hasNullElements=function(e){for(var i=0;i<e.length;i++)if(e[i]===null)return!0;return!1},da.serialVersionUID.get=function(){return 8763622679187377e3},da.SORTINDEX_POINT.get=function(){return 0},da.SORTINDEX_MULTIPOINT.get=function(){return 1},da.SORTINDEX_LINESTRING.get=function(){return 2},da.SORTINDEX_LINEARRING.get=function(){return 3},da.SORTINDEX_MULTILINESTRING.get=function(){return 4},da.SORTINDEX_POLYGON.get=function(){return 5},da.SORTINDEX_MULTIPOLYGON.get=function(){return 6},da.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},da.geometryChangedFilter.get=function(){return Db},Object.defineProperties(je,da);var Db=function(){};Db.interfaces_=function(){return[Wa]},Db.filter=function(e){e.geometryChangedAction()};var pa=function(){};pa.prototype.filter=function(e){},pa.prototype.interfaces_=function(){return[]},pa.prototype.getClass=function(){return pa};var Bo=function(){},Za={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};Bo.prototype.isInBoundary=function(e){},Bo.prototype.interfaces_=function(){return[]},Bo.prototype.getClass=function(){return Bo},Za.Mod2BoundaryNodeRule.get=function(){return yd},Za.EndPointBoundaryNodeRule.get=function(){return bd},Za.MultiValentEndPointBoundaryNodeRule.get=function(){return wd},Za.MonoValentEndPointBoundaryNodeRule.get=function(){return xd},Za.MOD2_BOUNDARY_RULE.get=function(){return new yd},Za.ENDPOINT_BOUNDARY_RULE.get=function(){return new bd},Za.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new wd},Za.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new xd},Za.OGC_SFS_BOUNDARY_RULE.get=function(){return Bo.MOD2_BOUNDARY_RULE},Object.defineProperties(Bo,Za);var yd=function(){};yd.prototype.isInBoundary=function(e){return e%2==1},yd.prototype.interfaces_=function(){return[Bo]},yd.prototype.getClass=function(){return yd};var bd=function(){};bd.prototype.isInBoundary=function(e){return e>0},bd.prototype.interfaces_=function(){return[Bo]},bd.prototype.getClass=function(){return bd};var wd=function(){};wd.prototype.isInBoundary=function(e){return e>1},wd.prototype.interfaces_=function(){return[Bo]},wd.prototype.getClass=function(){return wd};var xd=function(){};xd.prototype.isInBoundary=function(e){return e===1},xd.prototype.interfaces_=function(){return[Bo]},xd.prototype.getClass=function(){return xd};var Ui=function(){};function Fb(e){this.message=e||""}Ui.prototype.add=function(){},Ui.prototype.addAll=function(){},Ui.prototype.isEmpty=function(){},Ui.prototype.iterator=function(){},Ui.prototype.size=function(){},Ui.prototype.toArray=function(){},Ui.prototype.remove=function(){},Fb.prototype=new Error,Fb.prototype.name="IndexOutOfBoundsException";var _d=function(){};_d.prototype.hasNext=function(){},_d.prototype.next=function(){},_d.prototype.remove=function(){};var us=function(e){function i(){e.apply(this,arguments)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.get=function(){},i.prototype.set=function(){},i.prototype.isEmpty=function(){},i}(Ui);function kd(e){this.message=e||""}kd.prototype=new Error,kd.prototype.name="NoSuchElementException";var ce=function(e){function i(){e.call(this),this.array_=[],arguments[0]instanceof Ui&&this.addAll(arguments[0])}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.ensureCapacity=function(){},i.prototype.interfaces_=function(){return[e,Ui]},i.prototype.add=function(s){return arguments.length===1?this.array_.push(s):this.array_.splice(arguments[0],arguments[1]),!0},i.prototype.clear=function(){this.array_=[]},i.prototype.addAll=function(s){for(var a=s.iterator();a.hasNext();)this.add(a.next());return!0},i.prototype.set=function(s,a){var c=this.array_[s];return this.array_[s]=a,c},i.prototype.iterator=function(){return new MI(this)},i.prototype.get=function(s){if(s<0||s>=this.size())throw new Fb;return this.array_[s]},i.prototype.isEmpty=function(){return this.array_.length===0},i.prototype.size=function(){return this.array_.length},i.prototype.toArray=function(){for(var s=[],a=0,c=this.array_.length;a<c;a++)s.push(this.array_[a]);return s},i.prototype.remove=function(s){for(var a=!1,c=0,h=this.array_.length;c<h;c++)if(this.array_[c]===s){this.array_.splice(c,1),a=!0;break}return a},i}(us),MI=function(e){function i(s){e.call(this),this.arrayList_=s,this.position_=0}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new kd;return this.arrayList_.get(this.position_++)},i.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},i.prototype.set=function(s){return this.arrayList_.set(this.position_-1,s)},i.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},i}(_d),Ef=function(e){function i(){if(e.call(this),arguments.length!==0){if(arguments.length===1){var a=arguments[0];this.ensureCapacity(a.length),this.add(a,!0)}else if(arguments.length===2){var c=arguments[0],h=arguments[1];this.ensureCapacity(c.length),this.add(c,h)}}}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={coordArrayType:{configurable:!0}};return s.coordArrayType.get=function(){return new Array(0).fill(null)},i.prototype.getCoordinate=function(a){return this.get(a)},i.prototype.addAll=function(){var a=this;if(arguments.length===2){for(var c=arguments[0],h=arguments[1],g=!1,y=c.iterator();y.hasNext();)a.add(y.next(),h),g=!0;return g}return e.prototype.addAll.apply(this,arguments)},i.prototype.clone=function(){for(var a=e.prototype.clone.call(this),c=0;c<this.size();c++)a.add(c,this.get(c).copy());return a},i.prototype.toCoordinateArray=function(){return this.toArray(i.coordArrayType)},i.prototype.add=function(){var a=this;if(arguments.length===1){var c=arguments[0];e.prototype.add.call(this,c)}else if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var h=arguments[0],g=arguments[1];return this.add(h,g,!0),!0}if(arguments[0]instanceof Pt&&typeof arguments[1]=="boolean"){var y=arguments[0],w=arguments[1];if(!w&&this.size()>=1){var x=this.get(this.size()-1);if(x.equals2D(y))return null}e.prototype.add.call(this,y)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var T=arguments[0],E=arguments[1];return this.add(T,E),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var P=arguments[0],z=arguments[1],N=arguments[2];if(N)for(var B=0;B<P.length;B++)a.add(P[B],z);else for(var A=P.length-1;A>=0;A--)a.add(P[A],z);return!0}if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof Pt){var Y=arguments[0],it=arguments[1],D=arguments[2];if(!D){var W=this.size();if(W>0){if(Y>0){var X=this.get(Y-1);if(X.equals2D(it))return null}if(Y<W){var tt=this.get(Y);if(tt.equals2D(it))return null}}}e.prototype.add.call(this,Y,it)}}else if(arguments.length===4){var Q=arguments[0],zt=arguments[1],Et=arguments[2],Ft=arguments[3],Tt=1;Et>Ft&&(Tt=-1);for(var Ht=Et;Ht!==Ft;Ht+=Tt)a.add(Q[Ht],zt);return!0}},i.prototype.closeRing=function(){this.size()>0&&this.add(new Pt(this.get(0)),!1)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},Object.defineProperties(i,s),i}(ce),ar=function(){},c0={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};c0.ForwardComparator.get=function(){return Tf},c0.BidirectionalComparator.get=function(){return Ed},c0.coordArrayType.get=function(){return new Array(0).fill(null)},ar.prototype.interfaces_=function(){return[]},ar.prototype.getClass=function(){return ar},ar.isRing=function(e){return!(e.length<4)&&!!e[0].equals2D(e[e.length-1])},ar.ptNotInList=function(e,i){for(var s=0;s<e.length;s++){var a=e[s];if(ar.indexOf(a,i)<0)return a}return null},ar.scroll=function(e,i){var s=ar.indexOf(i,e);if(s<0)return null;var a=new Array(e.length).fill(null);pn.arraycopy(e,s,a,0,e.length-s),pn.arraycopy(e,0,a,e.length-s,s),pn.arraycopy(a,0,e,0,e.length)},ar.equals=function(){if(arguments.length===2){var e=arguments[0],i=arguments[1];if(e===i)return!0;if(e===null||i===null||e.length!==i.length)return!1;for(var s=0;s<e.length;s++)if(!e[s].equals(i[s]))return!1;return!0}if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2];if(a===c)return!0;if(a===null||c===null||a.length!==c.length)return!1;for(var g=0;g<a.length;g++)if(h.compare(a[g],c[g])!==0)return!1;return!0}},ar.intersection=function(e,i){for(var s=new Ef,a=0;a<e.length;a++)i.intersects(e[a])&&s.add(e[a],!0);return s.toCoordinateArray()},ar.hasRepeatedPoints=function(e){for(var i=1;i<e.length;i++)if(e[i-1].equals(e[i]))return!0;return!1},ar.removeRepeatedPoints=function(e){return ar.hasRepeatedPoints(e)?new Ef(e,!1).toCoordinateArray():e},ar.reverse=function(e){for(var i=e.length-1,s=Math.trunc(i/2),a=0;a<=s;a++){var c=e[a];e[a]=e[i-a],e[i-a]=c}},ar.removeNull=function(e){for(var i=0,s=0;s<e.length;s++)e[s]!==null&&i++;var a=new Array(i).fill(null);if(i===0)return a;for(var c=0,h=0;h<e.length;h++)e[h]!==null&&(a[c++]=e[h]);return a},ar.copyDeep=function(){if(arguments.length===1){for(var e=arguments[0],i=new Array(e.length).fill(null),s=0;s<e.length;s++)i[s]=new Pt(e[s]);return i}if(arguments.length===5)for(var a=arguments[0],c=arguments[1],h=arguments[2],g=arguments[3],y=arguments[4],w=0;w<y;w++)h[g+w]=new Pt(a[c+w])},ar.isEqualReversed=function(e,i){for(var s=0;s<e.length;s++){var a=e[s],c=i[e.length-s-1];if(a.compareTo(c)!==0)return!1}return!0},ar.envelope=function(e){for(var i=new Re,s=0;s<e.length;s++)i.expandToInclude(e[s]);return i},ar.toCoordinateArray=function(e){return e.toArray(ar.coordArrayType)},ar.atLeastNCoordinatesOrNothing=function(e,i){return i.length>=e?i:[]},ar.indexOf=function(e,i){for(var s=0;s<i.length;s++)if(e.equals(i[s]))return s;return-1},ar.increasingDirection=function(e){for(var i=0;i<Math.trunc(e.length/2);i++){var s=e.length-1-i,a=e[i].compareTo(e[s]);if(a!==0)return a}return 1},ar.compare=function(e,i){for(var s=0;s<e.length&&s<i.length;){var a=e[s].compareTo(i[s]);if(a!==0)return a;s++}return s<i.length?-1:s<e.length?1:0},ar.minCoordinate=function(e){for(var i=null,s=0;s<e.length;s++)(i===null||i.compareTo(e[s])>0)&&(i=e[s]);return i},ar.extract=function(e,i,s){i=_o.clamp(i,0,e.length);var a=(s=_o.clamp(s,-1,e.length))-i+1;s<0&&(a=0),i>=e.length&&(a=0),s<i&&(a=0);var c=new Array(a).fill(null);if(a===0)return c;for(var h=0,g=i;g<=s;g++)c[h++]=e[g];return c},Object.defineProperties(ar,c0);var Tf=function(){};Tf.prototype.compare=function(e,i){return ar.compare(e,i)},Tf.prototype.interfaces_=function(){return[fd]},Tf.prototype.getClass=function(){return Tf};var Ed=function(){};Ed.prototype.compare=function(e,i){var s=e,a=i;if(s.length<a.length)return-1;if(s.length>a.length)return 1;if(s.length===0)return 0;var c=ar.compare(s,a);return ar.isEqualReversed(s,a)?0:c},Ed.prototype.OLDcompare=function(e,i){var s=e,a=i;if(s.length<a.length)return-1;if(s.length>a.length)return 1;if(s.length===0)return 0;for(var c=ar.increasingDirection(s),h=ar.increasingDirection(a),g=c>0?0:s.length-1,y=h>0?0:s.length-1,w=0;w<s.length;w++){var x=s[g].compareTo(a[y]);if(x!==0)return x;g+=c,y+=h}return 0},Ed.prototype.interfaces_=function(){return[fd]},Ed.prototype.getClass=function(){return Ed};var Ju=function(){};Ju.prototype.get=function(){},Ju.prototype.put=function(){},Ju.prototype.size=function(){},Ju.prototype.values=function(){},Ju.prototype.entrySet=function(){};var II=function(e){function i(){e.apply(this,arguments)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i}(Ju);function Sf(e){this.message=e||""}function u0(){}Sf.prototype=new Error,Sf.prototype.name="OperationNotSupported",u0.prototype=new Ui,u0.prototype.contains=function(){};var Bb=function(e){function i(){e.call(this),this.array_=[],arguments[0]instanceof Ui&&this.addAll(arguments[0])}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.contains=function(s){for(var a=0,c=this.array_.length;a<c;a++)if(this.array_[a]===s)return!0;return!1},i.prototype.add=function(s){return!this.contains(s)&&(this.array_.push(s),!0)},i.prototype.addAll=function(s){for(var a=s.iterator();a.hasNext();)this.add(a.next());return!0},i.prototype.remove=function(s){throw new Error},i.prototype.size=function(){return this.array_.length},i.prototype.isEmpty=function(){return this.array_.length===0},i.prototype.toArray=function(){for(var s=[],a=0,c=this.array_.length;a<c;a++)s.push(this.array_[a]);return s},i.prototype.iterator=function(){return new LI(this)},i}(u0),LI=function(e){function i(s){e.call(this),this.hashSet_=s,this.position_=0}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new kd;return this.hashSet_.array_[this.position_++]},i.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},i.prototype.remove=function(){throw new Sf},i}(_d);function Ek(e){return e===null?0:e.color}function hi(e){return e===null?null:e.parent}function Ya(e,i){e!==null&&(e.color=i)}function jb(e){return e===null?null:e.left}function Tk(e){return e===null?null:e.right}function En(){this.root_=null,this.size_=0}En.prototype=new II,En.prototype.get=function(e){for(var i=this.root_;i!==null;){var s=e.compareTo(i.key);if(s<0)i=i.left;else{if(!(s>0))return i.value;i=i.right}}return null},En.prototype.put=function(e,i){if(this.root_===null)return this.root_={key:e,value:i,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var s,a,c=this.root_;do if(s=c,(a=e.compareTo(c.key))<0)c=c.left;else{if(!(a>0)){var h=c.value;return c.value=i,h}c=c.right}while(c!==null);var g={key:e,left:null,right:null,value:i,parent:s,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return a<0?s.left=g:s.right=g,this.fixAfterInsertion(g),this.size_++,null},En.prototype.fixAfterInsertion=function(e){var i=this;for(e.color=1;e!=null&&e!==this.root_&&e.parent.color===1;)if(hi(e)===jb(hi(hi(e)))){var s=Tk(hi(hi(e)));Ek(s)===1?(Ya(hi(e),0),Ya(s,0),Ya(hi(hi(e)),1),e=hi(hi(e))):(e===Tk(hi(e))&&(e=hi(e),i.rotateLeft(e)),Ya(hi(e),0),Ya(hi(hi(e)),1),i.rotateRight(hi(hi(e))))}else{var a=jb(hi(hi(e)));Ek(a)===1?(Ya(hi(e),0),Ya(a,0),Ya(hi(hi(e)),1),e=hi(hi(e))):(e===jb(hi(e))&&(e=hi(e),i.rotateRight(e)),Ya(hi(e),0),Ya(hi(hi(e)),1),i.rotateLeft(hi(hi(e))))}this.root_.color=0},En.prototype.values=function(){var e=new ce,i=this.getFirstEntry();if(i!==null)for(e.add(i.value);(i=En.successor(i))!==null;)e.add(i.value);return e},En.prototype.entrySet=function(){var e=new Bb,i=this.getFirstEntry();if(i!==null)for(e.add(i);(i=En.successor(i))!==null;)e.add(i);return e},En.prototype.rotateLeft=function(e){if(e!=null){var i=e.right;e.right=i.left,i.left!=null&&(i.left.parent=e),i.parent=e.parent,e.parent===null?this.root_=i:e.parent.left===e?e.parent.left=i:e.parent.right=i,i.left=e,e.parent=i}},En.prototype.rotateRight=function(e){if(e!=null){var i=e.left;e.left=i.right,i.right!=null&&(i.right.parent=e),i.parent=e.parent,e.parent===null?this.root_=i:e.parent.right===e?e.parent.right=i:e.parent.left=i,i.right=e,e.parent=i}},En.prototype.getFirstEntry=function(){var e=this.root_;if(e!=null)for(;e.left!=null;)e=e.left;return e},En.successor=function(e){if(e===null)return null;if(e.right!==null){for(var i=e.right;i.left!==null;)i=i.left;return i}for(var s=e.parent,a=e;s!==null&&a===s.right;)a=s,s=s.parent;return s},En.prototype.size=function(){return this.size_};var Cf=function(){};function Sk(){}function zs(){this.array_=[],arguments[0]instanceof Ui&&this.addAll(arguments[0])}Cf.prototype.interfaces_=function(){return[]},Cf.prototype.getClass=function(){return Cf},Sk.prototype=new u0,zs.prototype=new Sk,zs.prototype.contains=function(e){for(var i=0,s=this.array_.length;i<s;i++)if(this.array_[i].compareTo(e)===0)return!0;return!1},zs.prototype.add=function(e){if(this.contains(e))return!1;for(var i=0,s=this.array_.length;i<s;i++)if(this.array_[i].compareTo(e)===1)return this.array_.splice(i,0,e),!0;return this.array_.push(e),!0},zs.prototype.addAll=function(e){for(var i=e.iterator();i.hasNext();)this.add(i.next());return!0},zs.prototype.remove=function(e){throw new Sf},zs.prototype.size=function(){return this.array_.length},zs.prototype.isEmpty=function(){return this.array_.length===0},zs.prototype.toArray=function(){for(var e=[],i=0,s=this.array_.length;i<s;i++)e.push(this.array_[i]);return e},zs.prototype.iterator=function(){return new h0(this)};var h0=function(e){this.treeSet_=e,this.position_=0};h0.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new kd;return this.treeSet_.array_[this.position_++]},h0.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},h0.prototype.remove=function(){throw new Sf};var Dc=function(){};Dc.sort=function(){var e,i,s,a,c=arguments[0];if(arguments.length===1)a=function(g,y){return g.compareTo(y)},c.sort(a);else if(arguments.length===2)s=arguments[1],a=function(g,y){return s.compare(g,y)},c.sort(a);else if(arguments.length===3){(i=c.slice(arguments[1],arguments[2])).sort();var h=c.slice(0,arguments[1]).concat(i,c.slice(arguments[2],c.length));for(c.splice(0,c.length),e=0;e<h.length;e++)c.push(h[e])}else if(arguments.length===4)for(i=c.slice(arguments[1],arguments[2]),s=arguments[3],a=function(g,y){return s.compare(g,y)},i.sort(a),h=c.slice(0,arguments[1]).concat(i,c.slice(arguments[2],c.length)),c.splice(0,c.length),e=0;e<h.length;e++)c.push(h[e])},Dc.asList=function(e){for(var i=new ce,s=0,a=e.length;s<a;s++)i.add(e[s]);return i};var Xr=function(){},hs={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};hs.P.get=function(){return 0},hs.L.get=function(){return 1},hs.A.get=function(){return 2},hs.FALSE.get=function(){return-1},hs.TRUE.get=function(){return-2},hs.DONTCARE.get=function(){return-3},hs.SYM_FALSE.get=function(){return"F"},hs.SYM_TRUE.get=function(){return"T"},hs.SYM_DONTCARE.get=function(){return"*"},hs.SYM_P.get=function(){return"0"},hs.SYM_L.get=function(){return"1"},hs.SYM_A.get=function(){return"2"},Xr.prototype.interfaces_=function(){return[]},Xr.prototype.getClass=function(){return Xr},Xr.toDimensionSymbol=function(e){switch(e){case Xr.FALSE:return Xr.SYM_FALSE;case Xr.TRUE:return Xr.SYM_TRUE;case Xr.DONTCARE:return Xr.SYM_DONTCARE;case Xr.P:return Xr.SYM_P;case Xr.L:return Xr.SYM_L;case Xr.A:return Xr.SYM_A}throw new xi("Unknown dimension value: "+e)},Xr.toDimensionValue=function(e){switch(_f.toUpperCase(e)){case Xr.SYM_FALSE:return Xr.FALSE;case Xr.SYM_TRUE:return Xr.TRUE;case Xr.SYM_DONTCARE:return Xr.DONTCARE;case Xr.SYM_P:return Xr.P;case Xr.SYM_L:return Xr.L;case Xr.SYM_A:return Xr.A}throw new xi("Unknown dimension symbol: "+e)},Object.defineProperties(Xr,hs);var Ns=function(){};Ns.prototype.filter=function(e){},Ns.prototype.interfaces_=function(){return[]},Ns.prototype.getClass=function(){return Ns};var ds=function(){};ds.prototype.filter=function(e,i){},ds.prototype.isDone=function(){},ds.prototype.isGeometryChanged=function(){},ds.prototype.interfaces_=function(){return[]},ds.prototype.getClass=function(){return ds};var On=function(e){function i(a,c){if(e.call(this,c),this._geometries=a||[],e.hasNullElements(this._geometries))throw new xi("geometries must not contain null elements")}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={serialVersionUID:{configurable:!0}};return i.prototype.computeEnvelopeInternal=function(){for(var a=new Re,c=0;c<this._geometries.length;c++)a.expandToInclude(this._geometries[c].getEnvelopeInternal());return a},i.prototype.getGeometryN=function(a){return this._geometries[a]},i.prototype.getSortIndex=function(){return e.SORTINDEX_GEOMETRYCOLLECTION},i.prototype.getCoordinates=function(){for(var a=new Array(this.getNumPoints()).fill(null),c=-1,h=0;h<this._geometries.length;h++)for(var g=this._geometries[h].getCoordinates(),y=0;y<g.length;y++)a[++c]=g[y];return a},i.prototype.getArea=function(){for(var a=0,c=0;c<this._geometries.length;c++)a+=this._geometries[c].getArea();return a},i.prototype.equalsExact=function(){var a=this;if(arguments.length===2){var c=arguments[0],h=arguments[1];if(!this.isEquivalentClass(c))return!1;var g=c;if(this._geometries.length!==g._geometries.length)return!1;for(var y=0;y<this._geometries.length;y++)if(!a._geometries[y].equalsExact(g._geometries[y],h))return!1;return!0}return e.prototype.equalsExact.apply(this,arguments)},i.prototype.normalize=function(){for(var a=0;a<this._geometries.length;a++)this._geometries[a].normalize();Dc.sort(this._geometries)},i.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},i.prototype.getBoundaryDimension=function(){for(var a=Xr.FALSE,c=0;c<this._geometries.length;c++)a=Math.max(a,this._geometries[c].getBoundaryDimension());return a},i.prototype.getDimension=function(){for(var a=Xr.FALSE,c=0;c<this._geometries.length;c++)a=Math.max(a,this._geometries[c].getDimension());return a},i.prototype.getLength=function(){for(var a=0,c=0;c<this._geometries.length;c++)a+=this._geometries[c].getLength();return a},i.prototype.getNumPoints=function(){for(var a=0,c=0;c<this._geometries.length;c++)a+=this._geometries[c].getNumPoints();return a},i.prototype.getNumGeometries=function(){return this._geometries.length},i.prototype.reverse=function(){for(var a=this._geometries.length,c=new Array(a).fill(null),h=0;h<this._geometries.length;h++)c[h]=this._geometries[h].reverse();return this.getFactory().createGeometryCollection(c)},i.prototype.compareToSameClass=function(){var a=this;if(arguments.length===1){var c=arguments[0],h=new zs(Dc.asList(this._geometries)),g=new zs(Dc.asList(c._geometries));return this.compare(h,g)}if(arguments.length===2){for(var y=arguments[0],w=arguments[1],x=y,T=this.getNumGeometries(),E=x.getNumGeometries(),P=0;P<T&&P<E;){var z=a.getGeometryN(P),N=x.getGeometryN(P),B=z.compareToSameClass(N,w);if(B!==0)return B;P++}return P<T?1:P<E?-1:0}},i.prototype.apply=function(){var a=this;if(Ue(arguments[0],pa))for(var c=arguments[0],h=0;h<this._geometries.length;h++)a._geometries[h].apply(c);else if(Ue(arguments[0],ds)){var g=arguments[0];if(this._geometries.length===0)return null;for(var y=0;y<this._geometries.length&&(a._geometries[y].apply(g),!g.isDone());y++);g.isGeometryChanged()&&this.geometryChanged()}else if(Ue(arguments[0],Ns)){var w=arguments[0];w.filter(this);for(var x=0;x<this._geometries.length;x++)a._geometries[x].apply(w)}else if(Ue(arguments[0],Wa)){var T=arguments[0];T.filter(this);for(var E=0;E<this._geometries.length;E++)a._geometries[E].apply(T)}},i.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),$e.shouldNeverReachHere(),null},i.prototype.clone=function(){var a=e.prototype.clone.call(this);a._geometries=new Array(this._geometries.length).fill(null);for(var c=0;c<this._geometries.length;c++)a._geometries[c]=this._geometries[c].clone();return a},i.prototype.getGeometryType=function(){return"GeometryCollection"},i.prototype.copy=function(){for(var a=new Array(this._geometries.length).fill(null),c=0;c<a.length;c++)a[c]=this._geometries[c].copy();return new i(a,this._factory)},i.prototype.isEmpty=function(){for(var a=0;a<this._geometries.length;a++)if(!this._geometries[a].isEmpty())return!1;return!0},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},s.serialVersionUID.get=function(){return-5694727726395021e3},Object.defineProperties(i,s),i}(je),Fc=function(e){function i(){e.apply(this,arguments)}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={serialVersionUID:{configurable:!0}};return i.prototype.getSortIndex=function(){return je.SORTINDEX_MULTILINESTRING},i.prototype.equalsExact=function(){if(arguments.length===2){var a=arguments[0],c=arguments[1];return!!this.isEquivalentClass(a)&&e.prototype.equalsExact.call(this,a,c)}return e.prototype.equalsExact.apply(this,arguments)},i.prototype.getBoundaryDimension=function(){return this.isClosed()?Xr.FALSE:0},i.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var a=0;a<this._geometries.length;a++)if(!this._geometries[a].isClosed())return!1;return!0},i.prototype.getDimension=function(){return 1},i.prototype.reverse=function(){for(var a=this._geometries.length,c=new Array(a).fill(null),h=0;h<this._geometries.length;h++)c[a-1-h]=this._geometries[h].reverse();return this.getFactory().createMultiLineString(c)},i.prototype.getBoundary=function(){return new jo(this).getBoundary()},i.prototype.getGeometryType=function(){return"MultiLineString"},i.prototype.copy=function(){for(var a=new Array(this._geometries.length).fill(null),c=0;c<a.length;c++)a[c]=this._geometries[c].copy();return new i(a,this._factory)},i.prototype.interfaces_=function(){return[Cf]},i.prototype.getClass=function(){return i},s.serialVersionUID.get=function(){return 8166665132445434e3},Object.defineProperties(i,s),i}(On),jo=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,arguments.length===1){var e=arguments[0],i=Bo.MOD2_BOUNDARY_RULE;this._geom=e,this._geomFact=e.getFactory(),this._bnRule=i}else if(arguments.length===2){var s=arguments[0],a=arguments[1];this._geom=s,this._geomFact=s.getFactory(),this._bnRule=a}};jo.prototype.boundaryMultiLineString=function(e){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var i=this.computeBoundaryCoordinates(e);return i.length===1?this._geomFact.createPoint(i[0]):this._geomFact.createMultiPointFromCoords(i)},jo.prototype.getBoundary=function(){return this._geom instanceof Ci?this.boundaryLineString(this._geom):this._geom instanceof Fc?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},jo.prototype.boundaryLineString=function(e){return this._geom.isEmpty()?this.getEmptyMultiPoint():e.isClosed()?this._bnRule.isInBoundary(2)?e.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([e.getStartPoint(),e.getEndPoint()])},jo.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},jo.prototype.computeBoundaryCoordinates=function(e){var i=this,s=new ce;this._endpointMap=new En;for(var a=0;a<e.getNumGeometries();a++){var c=e.getGeometryN(a);c.getNumPoints()!==0&&(i.addEndpoint(c.getCoordinateN(0)),i.addEndpoint(c.getCoordinateN(c.getNumPoints()-1)))}for(var h=this._endpointMap.entrySet().iterator();h.hasNext();){var g=h.next(),y=g.getValue().count;i._bnRule.isInBoundary(y)&&s.add(g.getKey())}return ar.toCoordinateArray(s)},jo.prototype.addEndpoint=function(e){var i=this._endpointMap.get(e);i===null&&(i=new d0,this._endpointMap.put(e,i)),i.count++},jo.prototype.interfaces_=function(){return[]},jo.prototype.getClass=function(){return jo},jo.getBoundary=function(){if(arguments.length===1){var e=arguments[0],i=new jo(e);return i.getBoundary()}if(arguments.length===2){var s=arguments[0],a=arguments[1],c=new jo(s,a);return c.getBoundary()}};var d0=function(){this.count=null};function RI(){}function AI(){}d0.prototype.interfaces_=function(){return[]},d0.prototype.getClass=function(){return d0};var OI=function(){};function zI(){}function NI(){}function DI(){}var Ho=function(){},Hb={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Ho.prototype.interfaces_=function(){return[]},Ho.prototype.getClass=function(){return Ho},Ho.chars=function(e,i){for(var s=new Array(i).fill(null),a=0;a<i;a++)s[a]=e;return String(s)},Ho.getStackTrace=function(){if(arguments.length===1){var e=arguments[0],i=new zI,s=new RI;return e.printStackTrace(s),i.toString()}if(arguments.length===2){for(var a=arguments[0],c=arguments[1],h="",g=new AI(Ho.getStackTrace(a)),y=new DI,w=0;w<c;w++)try{h+=y.readLine()+Ho.NEWLINE}catch(x){if(!(x instanceof NI))throw x;$e.shouldNeverReachHere()}return h}},Ho.split=function(e,i){for(var s=i.length,a=new ce,c=""+e,h=c.indexOf(i);h>=0;){var g=c.substring(0,h);a.add(g),h=(c=c.substring(h+s)).indexOf(i)}c.length>0&&a.add(c);for(var y=new Array(a.size()).fill(null),w=0;w<y.length;w++)y[w]=a.get(w);return y},Ho.toString=function(){if(arguments.length===1){var e=arguments[0];return Ho.SIMPLE_ORDINATE_FORMAT.format(e)}},Ho.spaces=function(e){return Ho.chars(" ",e)},Hb.NEWLINE.get=function(){return pn.getProperty("line.separator")},Hb.SIMPLE_ORDINATE_FORMAT.get=function(){return new OI},Object.defineProperties(Ho,Hb);var Mi=function(){};Mi.prototype.interfaces_=function(){return[]},Mi.prototype.getClass=function(){return Mi},Mi.copyCoord=function(e,i,s,a){for(var c=Math.min(e.getDimension(),s.getDimension()),h=0;h<c;h++)s.setOrdinate(a,h,e.getOrdinate(i,h))},Mi.isRing=function(e){var i=e.size();return i===0||!(i<=3)&&e.getOrdinate(0,yr.X)===e.getOrdinate(i-1,yr.X)&&e.getOrdinate(0,yr.Y)===e.getOrdinate(i-1,yr.Y)},Mi.isEqual=function(e,i){var s=e.size();if(s!==i.size())return!1;for(var a=Math.min(e.getDimension(),i.getDimension()),c=0;c<s;c++)for(var h=0;h<a;h++){var g=e.getOrdinate(c,h),y=i.getOrdinate(c,h);if(e.getOrdinate(c,h)!==i.getOrdinate(c,h)&&(!Ke.isNaN(g)||!Ke.isNaN(y)))return!1}return!0},Mi.extend=function(e,i,s){var a=e.create(s,i.getDimension()),c=i.size();if(Mi.copy(i,0,a,0,c),c>0)for(var h=c;h<s;h++)Mi.copy(i,c-1,a,h,1);return a},Mi.reverse=function(e){for(var i=e.size()-1,s=Math.trunc(i/2),a=0;a<=s;a++)Mi.swap(e,a,i-a)},Mi.swap=function(e,i,s){if(i===s)return null;for(var a=0;a<e.getDimension();a++){var c=e.getOrdinate(i,a);e.setOrdinate(i,a,e.getOrdinate(s,a)),e.setOrdinate(s,a,c)}},Mi.copy=function(e,i,s,a,c){for(var h=0;h<c;h++)Mi.copyCoord(e,i+h,s,a+h)},Mi.toString=function(){if(arguments.length===1){var e=arguments[0],i=e.size();if(i===0)return"()";var s=e.getDimension(),a=new Ls;a.append("(");for(var c=0;c<i;c++){c>0&&a.append(" ");for(var h=0;h<s;h++)h>0&&a.append(","),a.append(Ho.toString(e.getOrdinate(c,h)))}return a.append(")"),a.toString()}},Mi.ensureValidRing=function(e,i){var s=i.size();return s===0?i:s<=3?Mi.createClosedRing(e,i,4):i.getOrdinate(0,yr.X)===i.getOrdinate(s-1,yr.X)&&i.getOrdinate(0,yr.Y)===i.getOrdinate(s-1,yr.Y)?i:Mi.createClosedRing(e,i,s+1)},Mi.createClosedRing=function(e,i,s){var a=e.create(s,i.getDimension()),c=i.size();Mi.copy(i,0,a,0,c);for(var h=c;h<s;h++)Mi.copy(i,0,a,h,1);return a};var Ci=function(e){function i(a,c){e.call(this,c),this._points=null,this.init(a)}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={serialVersionUID:{configurable:!0}};return i.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new Re:this._points.expandEnvelope(new Re)},i.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},i.prototype.getSortIndex=function(){return e.SORTINDEX_LINESTRING},i.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},i.prototype.equalsExact=function(){var a=this;if(arguments.length===2){var c=arguments[0],h=arguments[1];if(!this.isEquivalentClass(c))return!1;var g=c;if(this._points.size()!==g._points.size())return!1;for(var y=0;y<this._points.size();y++)if(!a.equal(a._points.getCoordinate(y),g._points.getCoordinate(y),h))return!1;return!0}return e.prototype.equalsExact.apply(this,arguments)},i.prototype.normalize=function(){for(var a=this,c=0;c<Math.trunc(this._points.size()/2);c++){var h=a._points.size()-1-c;if(!a._points.getCoordinate(c).equals(a._points.getCoordinate(h)))return a._points.getCoordinate(c).compareTo(a._points.getCoordinate(h))>0&&Mi.reverse(a._points),null}},i.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},i.prototype.getBoundaryDimension=function(){return this.isClosed()?Xr.FALSE:0},i.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},i.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},i.prototype.getDimension=function(){return 1},i.prototype.getLength=function(){return fe.computeLength(this._points)},i.prototype.getNumPoints=function(){return this._points.size()},i.prototype.reverse=function(){var a=this._points.copy();return Mi.reverse(a),this.getFactory().createLineString(a)},i.prototype.compareToSameClass=function(){var a=this;if(arguments.length===1){for(var c=arguments[0],h=c,g=0,y=0;g<this._points.size()&&y<h._points.size();){var w=a._points.getCoordinate(g).compareTo(h._points.getCoordinate(y));if(w!==0)return w;g++,y++}return g<this._points.size()?1:y<h._points.size()?-1:0}if(arguments.length===2){var x=arguments[0],T=arguments[1],E=x;return T.compare(this._points,E._points)}},i.prototype.apply=function(){var a=this;if(Ue(arguments[0],pa))for(var c=arguments[0],h=0;h<this._points.size();h++)c.filter(a._points.getCoordinate(h));else if(Ue(arguments[0],ds)){var g=arguments[0];if(this._points.size()===0)return null;for(var y=0;y<this._points.size()&&(g.filter(a._points,y),!g.isDone());y++);g.isGeometryChanged()&&this.geometryChanged()}else if(Ue(arguments[0],Ns)){var w=arguments[0];w.filter(this)}else if(Ue(arguments[0],Wa)){var x=arguments[0];x.filter(this)}},i.prototype.getBoundary=function(){return new jo(this).getBoundary()},i.prototype.isEquivalentClass=function(a){return a instanceof i},i.prototype.clone=function(){var a=e.prototype.clone.call(this);return a._points=this._points.clone(),a},i.prototype.getCoordinateN=function(a){return this._points.getCoordinate(a)},i.prototype.getGeometryType=function(){return"LineString"},i.prototype.copy=function(){return new i(this._points.copy(),this._factory)},i.prototype.getCoordinateSequence=function(){return this._points},i.prototype.isEmpty=function(){return this._points.size()===0},i.prototype.init=function(a){if(a===null&&(a=this.getFactory().getCoordinateSequenceFactory().create([])),a.size()===1)throw new xi("Invalid number of points in LineString (found "+a.size()+" - must be 0 or >= 2)");this._points=a},i.prototype.isCoordinate=function(a){for(var c=0;c<this._points.size();c++)if(this._points.getCoordinate(c).equals(a))return!0;return!1},i.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},i.prototype.getPointN=function(a){return this.getFactory().createPoint(this._points.getCoordinate(a))},i.prototype.interfaces_=function(){return[Cf]},i.prototype.getClass=function(){return i},s.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(i,s),i}(je),Pf=function(){};Pf.prototype.interfaces_=function(){return[]},Pf.prototype.getClass=function(){return Pf};var no=function(e){function i(a,c){e.call(this,c),this._coordinates=a||null,this.init(this._coordinates)}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={serialVersionUID:{configurable:!0}};return i.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new Re;var a=new Re;return a.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),a},i.prototype.getSortIndex=function(){return e.SORTINDEX_POINT},i.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},i.prototype.equalsExact=function(){if(arguments.length===2){var a=arguments[0],c=arguments[1];return!!this.isEquivalentClass(a)&&(!(!this.isEmpty()||!a.isEmpty())||this.isEmpty()===a.isEmpty()&&this.equal(a.getCoordinate(),this.getCoordinate(),c))}return e.prototype.equalsExact.apply(this,arguments)},i.prototype.normalize=function(){},i.prototype.getCoordinate=function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null},i.prototype.getBoundaryDimension=function(){return Xr.FALSE},i.prototype.getDimension=function(){return 0},i.prototype.getNumPoints=function(){return this.isEmpty()?0:1},i.prototype.reverse=function(){return this.copy()},i.prototype.getX=function(){if(this.getCoordinate()===null)throw new Error("getX called on empty Point");return this.getCoordinate().x},i.prototype.compareToSameClass=function(){if(arguments.length===1){var a=arguments[0],c=a;return this.getCoordinate().compareTo(c.getCoordinate())}if(arguments.length===2){var h=arguments[0],g=arguments[1],y=h;return g.compare(this._coordinates,y._coordinates)}},i.prototype.apply=function(){if(Ue(arguments[0],pa)){var a=arguments[0];if(this.isEmpty())return null;a.filter(this.getCoordinate())}else if(Ue(arguments[0],ds)){var c=arguments[0];if(this.isEmpty())return null;c.filter(this._coordinates,0),c.isGeometryChanged()&&this.geometryChanged()}else if(Ue(arguments[0],Ns)){var h=arguments[0];h.filter(this)}else if(Ue(arguments[0],Wa)){var g=arguments[0];g.filter(this)}},i.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},i.prototype.clone=function(){var a=e.prototype.clone.call(this);return a._coordinates=this._coordinates.clone(),a},i.prototype.getGeometryType=function(){return"Point"},i.prototype.copy=function(){return new i(this._coordinates.copy(),this._factory)},i.prototype.getCoordinateSequence=function(){return this._coordinates},i.prototype.getY=function(){if(this.getCoordinate()===null)throw new Error("getY called on empty Point");return this.getCoordinate().y},i.prototype.isEmpty=function(){return this._coordinates.size()===0},i.prototype.init=function(a){a===null&&(a=this.getFactory().getCoordinateSequenceFactory().create([])),$e.isTrue(a.size()<=1),this._coordinates=a},i.prototype.isSimple=function(){return!0},i.prototype.interfaces_=function(){return[Pf]},i.prototype.getClass=function(){return i},s.serialVersionUID.get=function(){return 4902022702746615e3},Object.defineProperties(i,s),i}(je),Fl=function(){};Fl.prototype.interfaces_=function(){return[]},Fl.prototype.getClass=function(){return Fl};var Gi=function(e){function i(a,c,h){if(e.call(this,h),this._shell=null,this._holes=null,a===null&&(a=this.getFactory().createLinearRing()),c===null&&(c=[]),e.hasNullElements(c))throw new xi("holes must not contain null elements");if(a.isEmpty()&&e.hasNonEmptyElements(c))throw new xi("shell is empty but holes are not");this._shell=a,this._holes=c}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={serialVersionUID:{configurable:!0}};return i.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},i.prototype.getSortIndex=function(){return e.SORTINDEX_POLYGON},i.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var a=new Array(this.getNumPoints()).fill(null),c=-1,h=this._shell.getCoordinates(),g=0;g<h.length;g++)a[++c]=h[g];for(var y=0;y<this._holes.length;y++)for(var w=this._holes[y].getCoordinates(),x=0;x<w.length;x++)a[++c]=w[x];return a},i.prototype.getArea=function(){var a=0;a+=Math.abs(fe.signedArea(this._shell.getCoordinateSequence()));for(var c=0;c<this._holes.length;c++)a-=Math.abs(fe.signedArea(this._holes[c].getCoordinateSequence()));return a},i.prototype.isRectangle=function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var a=this._shell.getCoordinateSequence(),c=this.getEnvelopeInternal(),h=0;h<5;h++){var g=a.getX(h);if(g!==c.getMinX()&&g!==c.getMaxX())return!1;var y=a.getY(h);if(y!==c.getMinY()&&y!==c.getMaxY())return!1}for(var w=a.getX(0),x=a.getY(0),T=1;T<=4;T++){var E=a.getX(T),P=a.getY(T);if(E!==w==(P!==x))return!1;w=E,x=P}return!0},i.prototype.equalsExact=function(){var a=this;if(arguments.length===2){var c=arguments[0],h=arguments[1];if(!this.isEquivalentClass(c))return!1;var g=c,y=this._shell,w=g._shell;if(!y.equalsExact(w,h)||this._holes.length!==g._holes.length)return!1;for(var x=0;x<this._holes.length;x++)if(!a._holes[x].equalsExact(g._holes[x],h))return!1;return!0}return e.prototype.equalsExact.apply(this,arguments)},i.prototype.normalize=function(){var a=this;if(arguments.length===0){this.normalize(this._shell,!0);for(var c=0;c<this._holes.length;c++)a.normalize(a._holes[c],!1);Dc.sort(this._holes)}else if(arguments.length===2){var h=arguments[0],g=arguments[1];if(h.isEmpty())return null;var y=new Array(h.getCoordinates().length-1).fill(null);pn.arraycopy(h.getCoordinates(),0,y,0,y.length);var w=ar.minCoordinate(h.getCoordinates());ar.scroll(y,w),pn.arraycopy(y,0,h.getCoordinates(),0,y.length),h.getCoordinates()[y.length]=y[0],fe.isCCW(h.getCoordinates())===g&&ar.reverse(h.getCoordinates())}},i.prototype.getCoordinate=function(){return this._shell.getCoordinate()},i.prototype.getNumInteriorRing=function(){return this._holes.length},i.prototype.getBoundaryDimension=function(){return 1},i.prototype.getDimension=function(){return 2},i.prototype.getLength=function(){var a=0;a+=this._shell.getLength();for(var c=0;c<this._holes.length;c++)a+=this._holes[c].getLength();return a},i.prototype.getNumPoints=function(){for(var a=this._shell.getNumPoints(),c=0;c<this._holes.length;c++)a+=this._holes[c].getNumPoints();return a},i.prototype.reverse=function(){var a=this.copy();a._shell=this._shell.copy().reverse(),a._holes=new Array(this._holes.length).fill(null);for(var c=0;c<this._holes.length;c++)a._holes[c]=this._holes[c].copy().reverse();return a},i.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},i.prototype.compareToSameClass=function(){var a=this;if(arguments.length===1){var c=arguments[0],h=this._shell,g=c._shell;return h.compareToSameClass(g)}if(arguments.length===2){var y=arguments[0],w=arguments[1],x=y,T=this._shell,E=x._shell,P=T.compareToSameClass(E,w);if(P!==0)return P;for(var z=this.getNumInteriorRing(),N=x.getNumInteriorRing(),B=0;B<z&&B<N;){var A=a.getInteriorRingN(B),Y=x.getInteriorRingN(B),it=A.compareToSameClass(Y,w);if(it!==0)return it;B++}return B<z?1:B<N?-1:0}},i.prototype.apply=function(a){var c=this;if(Ue(a,pa)){this._shell.apply(a);for(var h=0;h<this._holes.length;h++)c._holes[h].apply(a)}else if(Ue(a,ds)){if(this._shell.apply(a),!a.isDone())for(var g=0;g<this._holes.length&&(c._holes[g].apply(a),!a.isDone());g++);a.isGeometryChanged()&&this.geometryChanged()}else if(Ue(a,Ns))a.filter(this);else if(Ue(a,Wa)){a.filter(this),this._shell.apply(a);for(var y=0;y<this._holes.length;y++)c._holes[y].apply(a)}},i.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var a=new Array(this._holes.length+1).fill(null);a[0]=this._shell;for(var c=0;c<this._holes.length;c++)a[c+1]=this._holes[c];return a.length<=1?this.getFactory().createLinearRing(a[0].getCoordinateSequence()):this.getFactory().createMultiLineString(a)},i.prototype.clone=function(){var a=e.prototype.clone.call(this);a._shell=this._shell.clone(),a._holes=new Array(this._holes.length).fill(null);for(var c=0;c<this._holes.length;c++)a._holes[c]=this._holes[c].clone();return a},i.prototype.getGeometryType=function(){return"Polygon"},i.prototype.copy=function(){for(var a=this._shell.copy(),c=new Array(this._holes.length).fill(null),h=0;h<c.length;h++)c[h]=this._holes[h].copy();return new i(a,c,this._factory)},i.prototype.getExteriorRing=function(){return this._shell},i.prototype.isEmpty=function(){return this._shell.isEmpty()},i.prototype.getInteriorRingN=function(a){return this._holes[a]},i.prototype.interfaces_=function(){return[Fl]},i.prototype.getClass=function(){return i},s.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(i,s),i}(je),Td=function(e){function i(){e.apply(this,arguments)}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={serialVersionUID:{configurable:!0}};return i.prototype.getSortIndex=function(){return je.SORTINDEX_MULTIPOINT},i.prototype.isValid=function(){return!0},i.prototype.equalsExact=function(){if(arguments.length===2){var a=arguments[0],c=arguments[1];return!!this.isEquivalentClass(a)&&e.prototype.equalsExact.call(this,a,c)}return e.prototype.equalsExact.apply(this,arguments)},i.prototype.getCoordinate=function(){if(arguments.length===1){var a=arguments[0];return this._geometries[a].getCoordinate()}return e.prototype.getCoordinate.apply(this,arguments)},i.prototype.getBoundaryDimension=function(){return Xr.FALSE},i.prototype.getDimension=function(){return 0},i.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},i.prototype.getGeometryType=function(){return"MultiPoint"},i.prototype.copy=function(){for(var a=new Array(this._geometries.length).fill(null),c=0;c<a.length;c++)a[c]=this._geometries[c].copy();return new i(a,this._factory)},i.prototype.interfaces_=function(){return[Pf]},i.prototype.getClass=function(){return i},s.serialVersionUID.get=function(){return-8048474874175356e3},Object.defineProperties(i,s),i}(On),fa=function(e){function i(a,c){a instanceof Pt&&c instanceof lr&&(a=c.getCoordinateSequenceFactory().create(a)),e.call(this,a,c),this.validateConstruction()}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return i.prototype.getSortIndex=function(){return je.SORTINDEX_LINEARRING},i.prototype.getBoundaryDimension=function(){return Xr.FALSE},i.prototype.isClosed=function(){return!!this.isEmpty()||e.prototype.isClosed.call(this)},i.prototype.reverse=function(){var a=this._points.copy();return Mi.reverse(a),this.getFactory().createLinearRing(a)},i.prototype.validateConstruction=function(){if(!this.isEmpty()&&!e.prototype.isClosed.call(this))throw new xi("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<i.MINIMUM_VALID_SIZE)throw new xi("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},i.prototype.getGeometryType=function(){return"LinearRing"},i.prototype.copy=function(){return new i(this._points.copy(),this._factory)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},s.MINIMUM_VALID_SIZE.get=function(){return 4},s.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(i,s),i}(Ci),ga=function(e){function i(){e.apply(this,arguments)}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={serialVersionUID:{configurable:!0}};return i.prototype.getSortIndex=function(){return je.SORTINDEX_MULTIPOLYGON},i.prototype.equalsExact=function(){if(arguments.length===2){var a=arguments[0],c=arguments[1];return!!this.isEquivalentClass(a)&&e.prototype.equalsExact.call(this,a,c)}return e.prototype.equalsExact.apply(this,arguments)},i.prototype.getBoundaryDimension=function(){return 1},i.prototype.getDimension=function(){return 2},i.prototype.reverse=function(){for(var a=this._geometries.length,c=new Array(a).fill(null),h=0;h<this._geometries.length;h++)c[h]=this._geometries[h].reverse();return this.getFactory().createMultiPolygon(c)},i.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var a=new ce,c=0;c<this._geometries.length;c++)for(var h=this._geometries[c].getBoundary(),g=0;g<h.getNumGeometries();g++)a.add(h.getGeometryN(g));var y=new Array(a.size()).fill(null);return this.getFactory().createMultiLineString(a.toArray(y))},i.prototype.getGeometryType=function(){return"MultiPolygon"},i.prototype.copy=function(){for(var a=new Array(this._geometries.length).fill(null),c=0;c<a.length;c++)a[c]=this._geometries[c].copy();return new i(a,this._factory)},i.prototype.interfaces_=function(){return[Fl]},i.prototype.getClass=function(){return i},s.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(i,s),i}(On),Uo=function(e){this._factory=e||null,this._isUserDataCopied=!1},p0={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};Uo.prototype.setCopyUserData=function(e){this._isUserDataCopied=e},Uo.prototype.edit=function(e,i){if(e===null)return null;var s=this.editInternal(e,i);return this._isUserDataCopied&&s.setUserData(e.getUserData()),s},Uo.prototype.editInternal=function(e,i){return this._factory===null&&(this._factory=e.getFactory()),e instanceof On?this.editGeometryCollection(e,i):e instanceof Gi?this.editPolygon(e,i):e instanceof no||e instanceof Ci?i.edit(e,this._factory):($e.shouldNeverReachHere("Unsupported Geometry class: "+e.getClass().getName()),null)},Uo.prototype.editGeometryCollection=function(e,i){for(var s=i.edit(e,this._factory),a=new ce,c=0;c<s.getNumGeometries();c++){var h=this.edit(s.getGeometryN(c),i);h===null||h.isEmpty()||a.add(h)}return s.getClass()===Td?this._factory.createMultiPoint(a.toArray([])):s.getClass()===Fc?this._factory.createMultiLineString(a.toArray([])):s.getClass()===ga?this._factory.createMultiPolygon(a.toArray([])):this._factory.createGeometryCollection(a.toArray([]))},Uo.prototype.editPolygon=function(e,i){var s=i.edit(e,this._factory);if(s===null&&(s=this._factory.createPolygon(null)),s.isEmpty())return s;var a=this.edit(s.getExteriorRing(),i);if(a===null||a.isEmpty())return this._factory.createPolygon();for(var c=new ce,h=0;h<s.getNumInteriorRing();h++){var g=this.edit(s.getInteriorRingN(h),i);g===null||g.isEmpty()||c.add(g)}return this._factory.createPolygon(a,c.toArray([]))},Uo.prototype.interfaces_=function(){return[]},Uo.prototype.getClass=function(){return Uo},Uo.GeometryEditorOperation=function(){},p0.NoOpGeometryOperation.get=function(){return Mf},p0.CoordinateOperation.get=function(){return If},p0.CoordinateSequenceOperation.get=function(){return Lf},Object.defineProperties(Uo,p0);var Mf=function(){};Mf.prototype.edit=function(e,i){return e},Mf.prototype.interfaces_=function(){return[Uo.GeometryEditorOperation]},Mf.prototype.getClass=function(){return Mf};var If=function(){};If.prototype.edit=function(e,i){var s=this.editCoordinates(e.getCoordinates(),e);return s===null?e:e instanceof fa?i.createLinearRing(s):e instanceof Ci?i.createLineString(s):e instanceof no?s.length>0?i.createPoint(s[0]):i.createPoint():e},If.prototype.interfaces_=function(){return[Uo.GeometryEditorOperation]},If.prototype.getClass=function(){return If};var Lf=function(){};Lf.prototype.edit=function(e,i){return e instanceof fa?i.createLinearRing(this.edit(e.getCoordinateSequence(),e)):e instanceof Ci?i.createLineString(this.edit(e.getCoordinateSequence(),e)):e instanceof no?i.createPoint(this.edit(e.getCoordinateSequence(),e)):e},Lf.prototype.interfaces_=function(){return[Uo.GeometryEditorOperation]},Lf.prototype.getClass=function(){return Lf};var Ii=function(){var e=this;if(this._dimension=3,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var i=arguments[0];this._coordinates=new Array(i).fill(null);for(var s=0;s<i;s++)e._coordinates[s]=new Pt}else if(Ue(arguments[0],yr)){var a=arguments[0];if(a===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=a.getDimension(),this._coordinates=new Array(a.size()).fill(null);for(var c=0;c<this._coordinates.length;c++)e._coordinates[c]=a.getCoordinateCopy(c)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var h=arguments[0],g=arguments[1];this._coordinates=h,this._dimension=g,h===null&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var y=arguments[0],w=arguments[1];this._coordinates=new Array(y).fill(null),this._dimension=w;for(var x=0;x<y;x++)e._coordinates[x]=new Pt}}},Ck={serialVersionUID:{configurable:!0}};Ii.prototype.setOrdinate=function(e,i,s){switch(i){case yr.X:this._coordinates[e].x=s;break;case yr.Y:this._coordinates[e].y=s;break;case yr.Z:this._coordinates[e].z=s;break;default:throw new xi("invalid ordinateIndex")}},Ii.prototype.size=function(){return this._coordinates.length},Ii.prototype.getOrdinate=function(e,i){switch(i){case yr.X:return this._coordinates[e].x;case yr.Y:return this._coordinates[e].y;case yr.Z:return this._coordinates[e].z}return Ke.NaN},Ii.prototype.getCoordinate=function(){if(arguments.length===1){var e=arguments[0];return this._coordinates[e]}if(arguments.length===2){var i=arguments[0],s=arguments[1];s.x=this._coordinates[i].x,s.y=this._coordinates[i].y,s.z=this._coordinates[i].z}},Ii.prototype.getCoordinateCopy=function(e){return new Pt(this._coordinates[e])},Ii.prototype.getDimension=function(){return this._dimension},Ii.prototype.getX=function(e){return this._coordinates[e].x},Ii.prototype.clone=function(){for(var e=new Array(this.size()).fill(null),i=0;i<this._coordinates.length;i++)e[i]=this._coordinates[i].clone();return new Ii(e,this._dimension)},Ii.prototype.expandEnvelope=function(e){for(var i=0;i<this._coordinates.length;i++)e.expandToInclude(this._coordinates[i]);return e},Ii.prototype.copy=function(){for(var e=new Array(this.size()).fill(null),i=0;i<this._coordinates.length;i++)e[i]=this._coordinates[i].copy();return new Ii(e,this._dimension)},Ii.prototype.toString=function(){if(this._coordinates.length>0){var e=new Ls(17*this._coordinates.length);e.append("("),e.append(this._coordinates[0]);for(var i=1;i<this._coordinates.length;i++)e.append(", "),e.append(this._coordinates[i]);return e.append(")"),e.toString()}return"()"},Ii.prototype.getY=function(e){return this._coordinates[e].y},Ii.prototype.toCoordinateArray=function(){return this._coordinates},Ii.prototype.interfaces_=function(){return[yr,Fo]},Ii.prototype.getClass=function(){return Ii},Ck.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(Ii,Ck);var ma=function(){},Ub={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};ma.prototype.readResolve=function(){return ma.instance()},ma.prototype.create=function(){if(arguments.length===1){if(arguments[0]instanceof Array){var e=arguments[0];return new Ii(e)}if(Ue(arguments[0],yr)){var i=arguments[0];return new Ii(i)}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];return a>3&&(a=3),a<2?new Ii(s):new Ii(s,a)}},ma.prototype.interfaces_=function(){return[gd,Fo]},ma.prototype.getClass=function(){return ma},ma.instance=function(){return ma.instanceObject},Ub.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},Ub.instanceObject.get=function(){return new ma},Object.defineProperties(ma,Ub);var Pk=function(e){function i(){e.call(this),this.map_=new Map}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.get=function(s){return this.map_.get(s)||null},i.prototype.put=function(s,a){return this.map_.set(s,a),a},i.prototype.values=function(){for(var s=new ce,a=this.map_.values(),c=a.next();!c.done;)s.add(c.value),c=a.next();return s},i.prototype.entrySet=function(){var s=new Bb;return this.map_.entries().forEach(function(a){return s.add(a)}),s},i.prototype.size=function(){return this.map_.size()},i}(Ju),Kr=function e(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=e.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof Ds){var i=arguments[0];this._modelType=i,i===e.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var s=arguments[0];this._modelType=e.FIXED,this.setScale(s)}else if(arguments[0]instanceof e){var a=arguments[0];this._modelType=a._modelType,this._scale=a._scale}}},Gb={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};Kr.prototype.equals=function(e){if(!(e instanceof Kr))return!1;var i=e;return this._modelType===i._modelType&&this._scale===i._scale},Kr.prototype.compareTo=function(e){var i=e,s=this.getMaximumSignificantDigits(),a=i.getMaximumSignificantDigits();return new Rs(s).compareTo(new Rs(a))},Kr.prototype.getScale=function(){return this._scale},Kr.prototype.isFloating=function(){return this._modelType===Kr.FLOATING||this._modelType===Kr.FLOATING_SINGLE},Kr.prototype.getType=function(){return this._modelType},Kr.prototype.toString=function(){var e="UNKNOWN";return this._modelType===Kr.FLOATING?e="Floating":this._modelType===Kr.FLOATING_SINGLE?e="Floating-Single":this._modelType===Kr.FIXED&&(e="Fixed (Scale="+this.getScale()+")"),e},Kr.prototype.makePrecise=function(){if(typeof arguments[0]=="number"){var e=arguments[0];return Ke.isNaN(e)||this._modelType===Kr.FLOATING_SINGLE?e:this._modelType===Kr.FIXED?Math.round(e*this._scale)/this._scale:e}if(arguments[0]instanceof Pt){var i=arguments[0];if(this._modelType===Kr.FLOATING)return null;i.x=this.makePrecise(i.x),i.y=this.makePrecise(i.y)}},Kr.prototype.getMaximumSignificantDigits=function(){var e=16;return this._modelType===Kr.FLOATING?e=16:this._modelType===Kr.FLOATING_SINGLE?e=6:this._modelType===Kr.FIXED&&(e=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),e},Kr.prototype.setScale=function(e){this._scale=Math.abs(e)},Kr.prototype.interfaces_=function(){return[Fo,Do]},Kr.prototype.getClass=function(){return Kr},Kr.mostPrecise=function(e,i){return e.compareTo(i)>=0?e:i},Gb.serialVersionUID.get=function(){return 7777263578777804e3},Gb.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(Kr,Gb);var Ds=function e(i){this._name=i||null,e.nameToTypeMap.put(i,this)},qb={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};Ds.prototype.readResolve=function(){return Ds.nameToTypeMap.get(this._name)},Ds.prototype.toString=function(){return this._name},Ds.prototype.interfaces_=function(){return[Fo]},Ds.prototype.getClass=function(){return Ds},qb.serialVersionUID.get=function(){return-552860263173159e4},qb.nameToTypeMap.get=function(){return new Pk},Object.defineProperties(Ds,qb),Kr.Type=Ds,Kr.FIXED=new Ds("FIXED"),Kr.FLOATING=new Ds("FLOATING"),Kr.FLOATING_SINGLE=new Ds("FLOATING SINGLE");var lr=function e(){this._precisionModel=new Kr,this._SRID=0,this._coordinateSequenceFactory=e.getDefaultCoordinateSequenceFactory(),arguments.length===0||(arguments.length===1?Ue(arguments[0],gd)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof Kr&&(this._precisionModel=arguments[0]):arguments.length===2?(this._precisionModel=arguments[0],this._SRID=arguments[1]):arguments.length===3&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},Mk={serialVersionUID:{configurable:!0}};lr.prototype.toGeometry=function(e){return e.isNull()?this.createPoint(null):e.getMinX()===e.getMaxX()&&e.getMinY()===e.getMaxY()?this.createPoint(new Pt(e.getMinX(),e.getMinY())):e.getMinX()===e.getMaxX()||e.getMinY()===e.getMaxY()?this.createLineString([new Pt(e.getMinX(),e.getMinY()),new Pt(e.getMaxX(),e.getMaxY())]):this.createPolygon(this.createLinearRing([new Pt(e.getMinX(),e.getMinY()),new Pt(e.getMinX(),e.getMaxY()),new Pt(e.getMaxX(),e.getMaxY()),new Pt(e.getMaxX(),e.getMinY()),new Pt(e.getMinX(),e.getMinY())]),null)},lr.prototype.createLineString=function(e){return e?e instanceof Array?new Ci(this.getCoordinateSequenceFactory().create(e),this):Ue(e,yr)?new Ci(e,this):void 0:new Ci(this.getCoordinateSequenceFactory().create([]),this)},lr.prototype.createMultiLineString=function(){if(arguments.length===0)return new Fc(null,this);if(arguments.length===1){var e=arguments[0];return new Fc(e,this)}},lr.prototype.buildGeometry=function(e){for(var i=null,s=!1,a=!1,c=e.iterator();c.hasNext();){var h=c.next(),g=h.getClass();i===null&&(i=g),g!==i&&(s=!0),h.isGeometryCollectionOrDerived()&&(a=!0)}if(i===null)return this.createGeometryCollection();if(s||a)return this.createGeometryCollection(lr.toGeometryArray(e));var y=e.iterator().next();if(e.size()>1){if(y instanceof Gi)return this.createMultiPolygon(lr.toPolygonArray(e));if(y instanceof Ci)return this.createMultiLineString(lr.toLineStringArray(e));if(y instanceof no)return this.createMultiPoint(lr.toPointArray(e));$e.shouldNeverReachHere("Unhandled class: "+y.getClass().getName())}return y},lr.prototype.createMultiPointFromCoords=function(e){return this.createMultiPoint(e!==null?this.getCoordinateSequenceFactory().create(e):null)},lr.prototype.createPoint=function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Pt){var e=arguments[0];return this.createPoint(e!==null?this.getCoordinateSequenceFactory().create([e]):null)}if(Ue(arguments[0],yr)){var i=arguments[0];return new no(i,this)}}},lr.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},lr.prototype.createPolygon=function(){if(arguments.length===0)return new Gi(null,null,this);if(arguments.length===1){if(Ue(arguments[0],yr)){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Array){var i=arguments[0];return this.createPolygon(this.createLinearRing(i))}if(arguments[0]instanceof fa){var s=arguments[0];return this.createPolygon(s,null)}}else if(arguments.length===2){var a=arguments[0],c=arguments[1];return new Gi(a,c,this)}},lr.prototype.getSRID=function(){return this._SRID},lr.prototype.createGeometryCollection=function(){if(arguments.length===0)return new On(null,this);if(arguments.length===1){var e=arguments[0];return new On(e,this)}},lr.prototype.createGeometry=function(e){return new Uo(this).edit(e,{edit:function(){if(arguments.length===2){var i=arguments[0];return this._coordinateSequenceFactory.create(i)}}})},lr.prototype.getPrecisionModel=function(){return this._precisionModel},lr.prototype.createLinearRing=function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var e=arguments[0];return this.createLinearRing(e!==null?this.getCoordinateSequenceFactory().create(e):null)}if(Ue(arguments[0],yr)){var i=arguments[0];return new fa(i,this)}}},lr.prototype.createMultiPolygon=function(){if(arguments.length===0)return new ga(null,this);if(arguments.length===1){var e=arguments[0];return new ga(e,this)}},lr.prototype.createMultiPoint=function(){var e=this;if(arguments.length===0)return new Td(null,this);if(arguments.length===1){if(arguments[0]instanceof Array){var i=arguments[0];return new Td(i,this)}if(arguments[0]instanceof Array){var s=arguments[0];return this.createMultiPoint(s!==null?this.getCoordinateSequenceFactory().create(s):null)}if(Ue(arguments[0],yr)){var a=arguments[0];if(a===null)return this.createMultiPoint(new Array(0).fill(null));for(var c=new Array(a.size()).fill(null),h=0;h<a.size();h++){var g=e.getCoordinateSequenceFactory().create(1,a.getDimension());Mi.copy(a,h,g,0,1),c[h]=e.createPoint(g)}return this.createMultiPoint(c)}}},lr.prototype.interfaces_=function(){return[Fo]},lr.prototype.getClass=function(){return lr},lr.toMultiPolygonArray=function(e){var i=new Array(e.size()).fill(null);return e.toArray(i)},lr.toGeometryArray=function(e){if(e===null)return null;var i=new Array(e.size()).fill(null);return e.toArray(i)},lr.getDefaultCoordinateSequenceFactory=function(){return ma.instance()},lr.toMultiLineStringArray=function(e){var i=new Array(e.size()).fill(null);return e.toArray(i)},lr.toLineStringArray=function(e){var i=new Array(e.size()).fill(null);return e.toArray(i)},lr.toMultiPointArray=function(e){var i=new Array(e.size()).fill(null);return e.toArray(i)},lr.toLinearRingArray=function(e){var i=new Array(e.size()).fill(null);return e.toArray(i)},lr.toPointArray=function(e){var i=new Array(e.size()).fill(null);return e.toArray(i)},lr.toPolygonArray=function(e){var i=new Array(e.size()).fill(null);return e.toArray(i)},lr.createPointFromInternalCoord=function(e,i){return i.getPrecisionModel().makePrecise(e),i.getFactory().createPoint(e)},Mk.serialVersionUID.get=function(){return-6820524753094096e3},Object.defineProperties(lr,Mk);var FI=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],f0=function(e){this.geometryFactory=e||new lr};f0.prototype.read=function(e){var i,s=(i=typeof e=="string"?JSON.parse(e):e).type;if(!Fs[s])throw new Error("Unknown GeoJSON type: "+i.type);return FI.indexOf(s)!==-1?Fs[s].apply(this,[i.coordinates]):s==="GeometryCollection"?Fs[s].apply(this,[i.geometries]):Fs[s].apply(this,[i])},f0.prototype.write=function(e){var i=e.getGeometryType();if(!Xa[i])throw new Error("Geometry is not supported");return Xa[i].apply(this,[e])};var Fs={Feature:function(e){var i={};for(var s in e)i[s]=e[s];if(e.geometry){var a=e.geometry.type;if(!Fs[a])throw new Error("Unknown GeoJSON type: "+e.type);i.geometry=this.read(e.geometry)}return e.bbox&&(i.bbox=Fs.bbox.apply(this,[e.bbox])),i},FeatureCollection:function(e){var i={};if(e.features){i.features=[];for(var s=0;s<e.features.length;++s)i.features.push(this.read(e.features[s]))}return e.bbox&&(i.bbox=this.parse.bbox.apply(this,[e.bbox])),i},coordinates:function(e){for(var i=[],s=0;s<e.length;++s){var a=e[s];i.push(new Pt(a[0],a[1]))}return i},bbox:function(e){return this.geometryFactory.createLinearRing([new Pt(e[0],e[1]),new Pt(e[2],e[1]),new Pt(e[2],e[3]),new Pt(e[0],e[3]),new Pt(e[0],e[1])])},Point:function(e){var i=new Pt(e[0],e[1]);return this.geometryFactory.createPoint(i)},MultiPoint:function(e){for(var i=[],s=0;s<e.length;++s)i.push(Fs.Point.apply(this,[e[s]]));return this.geometryFactory.createMultiPoint(i)},LineString:function(e){var i=Fs.coordinates.apply(this,[e]);return this.geometryFactory.createLineString(i)},MultiLineString:function(e){for(var i=[],s=0;s<e.length;++s)i.push(Fs.LineString.apply(this,[e[s]]));return this.geometryFactory.createMultiLineString(i)},Polygon:function(e){for(var i=Fs.coordinates.apply(this,[e[0]]),s=this.geometryFactory.createLinearRing(i),a=[],c=1;c<e.length;++c){var h=e[c],g=Fs.coordinates.apply(this,[h]),y=this.geometryFactory.createLinearRing(g);a.push(y)}return this.geometryFactory.createPolygon(s,a)},MultiPolygon:function(e){for(var i=[],s=0;s<e.length;++s){var a=e[s];i.push(Fs.Polygon.apply(this,[a]))}return this.geometryFactory.createMultiPolygon(i)},GeometryCollection:function(e){for(var i=[],s=0;s<e.length;++s){var a=e[s];i.push(this.read(a))}return this.geometryFactory.createGeometryCollection(i)}},Xa={coordinate:function(e){return[e.x,e.y]},Point:function(e){return{type:"Point",coordinates:Xa.coordinate.apply(this,[e.getCoordinate()])}},MultiPoint:function(e){for(var i=[],s=0;s<e._geometries.length;++s){var a=e._geometries[s],c=Xa.Point.apply(this,[a]);i.push(c.coordinates)}return{type:"MultiPoint",coordinates:i}},LineString:function(e){for(var i=[],s=e.getCoordinates(),a=0;a<s.length;++a){var c=s[a];i.push(Xa.coordinate.apply(this,[c]))}return{type:"LineString",coordinates:i}},MultiLineString:function(e){for(var i=[],s=0;s<e._geometries.length;++s){var a=e._geometries[s],c=Xa.LineString.apply(this,[a]);i.push(c.coordinates)}return{type:"MultiLineString",coordinates:i}},Polygon:function(e){var i=[],s=Xa.LineString.apply(this,[e._shell]);i.push(s.coordinates);for(var a=0;a<e._holes.length;++a){var c=e._holes[a],h=Xa.LineString.apply(this,[c]);i.push(h.coordinates)}return{type:"Polygon",coordinates:i}},MultiPolygon:function(e){for(var i=[],s=0;s<e._geometries.length;++s){var a=e._geometries[s],c=Xa.Polygon.apply(this,[a]);i.push(c.coordinates)}return{type:"MultiPolygon",coordinates:i}},GeometryCollection:function(e){for(var i=[],s=0;s<e._geometries.length;++s){var a=e._geometries[s],c=a.getGeometryType();i.push(Xa[c].apply(this,[a]))}return{type:"GeometryCollection",geometries:i}}},Vb=function(e){this.geometryFactory=e||new lr,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new f0(this.geometryFactory)};Vb.prototype.read=function(e){var i=this.parser.read(e);return this.precisionModel.getType()===Kr.FIXED&&this.reducePrecision(i),i},Vb.prototype.reducePrecision=function(e){var i,s;if(e.coordinate)this.precisionModel.makePrecise(e.coordinate);else if(e.points)for(i=0,s=e.points.length;i<s;i++)this.precisionModel.makePrecise(e.points[i]);else if(e.geometries)for(i=0,s=e.geometries.length;i<s;i++)this.reducePrecision(e.geometries[i])};var Ik=function(){this.parser=new f0(this.geometryFactory)};Ik.prototype.write=function(e){return this.parser.write(e)};var oe=function(){},g0={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};function m0(e){this.message=e||""}function Bs(){this.array_=[]}oe.prototype.interfaces_=function(){return[]},oe.prototype.getClass=function(){return oe},oe.opposite=function(e){return e===oe.LEFT?oe.RIGHT:e===oe.RIGHT?oe.LEFT:e},g0.ON.get=function(){return 0},g0.LEFT.get=function(){return 1},g0.RIGHT.get=function(){return 2},Object.defineProperties(oe,g0),m0.prototype=new Error,m0.prototype.name="EmptyStackException",Bs.prototype=new us,Bs.prototype.add=function(e){return this.array_.push(e),!0},Bs.prototype.get=function(e){if(e<0||e>=this.size())throw new Error;return this.array_[e]},Bs.prototype.push=function(e){return this.array_.push(e),e},Bs.prototype.pop=function(e){if(this.array_.length===0)throw new m0;return this.array_.pop()},Bs.prototype.peek=function(){if(this.array_.length===0)throw new m0;return this.array_[this.array_.length-1]},Bs.prototype.empty=function(){return this.array_.length===0},Bs.prototype.isEmpty=function(){return this.empty()},Bs.prototype.search=function(e){return this.array_.indexOf(e)},Bs.prototype.size=function(){return this.array_.length},Bs.prototype.toArray=function(){for(var e=[],i=0,s=this.array_.length;i<s;i++)e.push(this.array_[i]);return e};var js=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};js.prototype.getCoordinate=function(){return this._minCoord},js.prototype.getRightmostSide=function(e,i){var s=this.getRightmostSideOfSegment(e,i);return s<0&&(s=this.getRightmostSideOfSegment(e,i-1)),s<0&&(this._minCoord=null,this.checkForRightmostCoordinate(e)),s},js.prototype.findRightmostEdgeAtVertex=function(){var e=this._minDe.getEdge().getCoordinates();$e.isTrue(this._minIndex>0&&this._minIndex<e.length,"rightmost point expected to be interior vertex of edge");var i=e[this._minIndex-1],s=e[this._minIndex+1],a=fe.computeOrientation(this._minCoord,s,i),c=!1;(i.y<this._minCoord.y&&s.y<this._minCoord.y&&a===fe.COUNTERCLOCKWISE||i.y>this._minCoord.y&&s.y>this._minCoord.y&&a===fe.CLOCKWISE)&&(c=!0),c&&(this._minIndex=this._minIndex-1)},js.prototype.getRightmostSideOfSegment=function(e,i){var s=e.getEdge().getCoordinates();if(i<0||i+1>=s.length||s[i].y===s[i+1].y)return-1;var a=oe.LEFT;return s[i].y<s[i+1].y&&(a=oe.RIGHT),a},js.prototype.getEdge=function(){return this._orientedDe},js.prototype.checkForRightmostCoordinate=function(e){for(var i=this,s=e.getEdge().getCoordinates(),a=0;a<s.length-1;a++)(i._minCoord===null||s[a].x>i._minCoord.x)&&(i._minDe=e,i._minIndex=a,i._minCoord=s[a])},js.prototype.findRightmostEdgeAtNode=function(){var e=this._minDe.getNode().getEdges();this._minDe=e.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},js.prototype.findEdge=function(e){for(var i=e.iterator();i.hasNext();){var s=i.next();s.isForward()&&this.checkForRightmostCoordinate(s)}$e.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===oe.LEFT&&(this._orientedDe=this._minDe.getSym())},js.prototype.interfaces_=function(){return[]},js.prototype.getClass=function(){return js};var Ka=function(e){function i(s,a){e.call(this,i.msgWithCoord(s,a)),this.pt=a?new Pt(a):null,this.name="TopologyException"}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getCoordinate=function(){return this.pt},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i.msgWithCoord=function(s,a){return a?s:s+" [ "+a+" ]"},i}(Va),v0=function(){this.array_=[]};v0.prototype.addLast=function(e){this.array_.push(e)},v0.prototype.removeFirst=function(){return this.array_.shift()},v0.prototype.isEmpty=function(){return this.array_.length===0};var zn=function(){this._finder=null,this._dirEdgeList=new ce,this._nodes=new ce,this._rightMostCoord=null,this._env=null,this._finder=new js};zn.prototype.clearVisitedEdges=function(){for(var e=this._dirEdgeList.iterator();e.hasNext();)e.next().setVisited(!1)},zn.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},zn.prototype.computeNodeDepth=function(e){for(var i=null,s=e.getEdges().iterator();s.hasNext();){var a=s.next();if(a.isVisited()||a.getSym().isVisited()){i=a;break}}if(i===null)throw new Ka("unable to find edge to compute depths at "+e.getCoordinate());e.getEdges().computeDepths(i);for(var c=e.getEdges().iterator();c.hasNext();){var h=c.next();h.setVisited(!0),this.copySymDepths(h)}},zn.prototype.computeDepth=function(e){this.clearVisitedEdges();var i=this._finder.getEdge();i.setEdgeDepths(oe.RIGHT,e),this.copySymDepths(i),this.computeDepths(i)},zn.prototype.create=function(e){this.addReachable(e),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},zn.prototype.findResultEdges=function(){for(var e=this._dirEdgeList.iterator();e.hasNext();){var i=e.next();i.getDepth(oe.RIGHT)>=1&&i.getDepth(oe.LEFT)<=0&&!i.isInteriorAreaEdge()&&i.setInResult(!0)}},zn.prototype.computeDepths=function(e){var i=new Bb,s=new v0,a=e.getNode();for(s.addLast(a),i.add(a),e.setVisited(!0);!s.isEmpty();){var c=s.removeFirst();i.add(c),this.computeNodeDepth(c);for(var h=c.getEdges().iterator();h.hasNext();){var g=h.next().getSym();if(!g.isVisited()){var y=g.getNode();i.contains(y)||(s.addLast(y),i.add(y))}}}},zn.prototype.compareTo=function(e){var i=e;return this._rightMostCoord.x<i._rightMostCoord.x?-1:this._rightMostCoord.x>i._rightMostCoord.x?1:0},zn.prototype.getEnvelope=function(){if(this._env===null){for(var e=new Re,i=this._dirEdgeList.iterator();i.hasNext();)for(var s=i.next().getEdge().getCoordinates(),a=0;a<s.length-1;a++)e.expandToInclude(s[a]);this._env=e}return this._env},zn.prototype.addReachable=function(e){var i=new Bs;for(i.add(e);!i.empty();){var s=i.pop();this.add(s,i)}},zn.prototype.copySymDepths=function(e){var i=e.getSym();i.setDepth(oe.LEFT,e.getDepth(oe.RIGHT)),i.setDepth(oe.RIGHT,e.getDepth(oe.LEFT))},zn.prototype.add=function(e,i){e.setVisited(!0),this._nodes.add(e);for(var s=e.getEdges().iterator();s.hasNext();){var a=s.next();this._dirEdgeList.add(a);var c=a.getSym().getNode();c.isVisited()||i.push(c)}},zn.prototype.getNodes=function(){return this._nodes},zn.prototype.getDirectedEdges=function(){return this._dirEdgeList},zn.prototype.interfaces_=function(){return[Do]},zn.prototype.getClass=function(){return zn};var di=function e(){var i=this;if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var s=arguments[0];this.init(s.length)}else if(Number.isInteger(arguments[0])){var a=arguments[0];this.init(1),this.location[oe.ON]=a}else if(arguments[0]instanceof e){var c=arguments[0];if(this.init(c.location.length),c!==null)for(var h=0;h<this.location.length;h++)i.location[h]=c.location[h]}}else if(arguments.length===3){var g=arguments[0],y=arguments[1],w=arguments[2];this.init(3),this.location[oe.ON]=g,this.location[oe.LEFT]=y,this.location[oe.RIGHT]=w}};di.prototype.setAllLocations=function(e){for(var i=0;i<this.location.length;i++)this.location[i]=e},di.prototype.isNull=function(){for(var e=0;e<this.location.length;e++)if(this.location[e]!==Nt.NONE)return!1;return!0},di.prototype.setAllLocationsIfNull=function(e){for(var i=0;i<this.location.length;i++)this.location[i]===Nt.NONE&&(this.location[i]=e)},di.prototype.isLine=function(){return this.location.length===1},di.prototype.merge=function(e){if(e.location.length>this.location.length){var i=new Array(3).fill(null);i[oe.ON]=this.location[oe.ON],i[oe.LEFT]=Nt.NONE,i[oe.RIGHT]=Nt.NONE,this.location=i}for(var s=0;s<this.location.length;s++)this.location[s]===Nt.NONE&&s<e.location.length&&(this.location[s]=e.location[s])},di.prototype.getLocations=function(){return this.location},di.prototype.flip=function(){if(this.location.length<=1)return null;var e=this.location[oe.LEFT];this.location[oe.LEFT]=this.location[oe.RIGHT],this.location[oe.RIGHT]=e},di.prototype.toString=function(){var e=new Ls;return this.location.length>1&&e.append(Nt.toLocationSymbol(this.location[oe.LEFT])),e.append(Nt.toLocationSymbol(this.location[oe.ON])),this.location.length>1&&e.append(Nt.toLocationSymbol(this.location[oe.RIGHT])),e.toString()},di.prototype.setLocations=function(e,i,s){this.location[oe.ON]=e,this.location[oe.LEFT]=i,this.location[oe.RIGHT]=s},di.prototype.get=function(e){return e<this.location.length?this.location[e]:Nt.NONE},di.prototype.isArea=function(){return this.location.length>1},di.prototype.isAnyNull=function(){for(var e=0;e<this.location.length;e++)if(this.location[e]===Nt.NONE)return!0;return!1},di.prototype.setLocation=function(){if(arguments.length===1){var e=arguments[0];this.setLocation(oe.ON,e)}else if(arguments.length===2){var i=arguments[0],s=arguments[1];this.location[i]=s}},di.prototype.init=function(e){this.location=new Array(e).fill(null),this.setAllLocations(Nt.NONE)},di.prototype.isEqualOnSide=function(e,i){return this.location[i]===e.location[i]},di.prototype.allPositionsEqual=function(e){for(var i=0;i<this.location.length;i++)if(this.location[i]!==e)return!1;return!0},di.prototype.interfaces_=function(){return[]},di.prototype.getClass=function(){return di};var ri=function e(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var i=arguments[0];this.elt[0]=new di(i),this.elt[1]=new di(i)}else if(arguments[0]instanceof e){var s=arguments[0];this.elt[0]=new di(s.elt[0]),this.elt[1]=new di(s.elt[1])}}else if(arguments.length===2){var a=arguments[0],c=arguments[1];this.elt[0]=new di(Nt.NONE),this.elt[1]=new di(Nt.NONE),this.elt[a].setLocation(c)}else if(arguments.length===3){var h=arguments[0],g=arguments[1],y=arguments[2];this.elt[0]=new di(h,g,y),this.elt[1]=new di(h,g,y)}else if(arguments.length===4){var w=arguments[0],x=arguments[1],T=arguments[2],E=arguments[3];this.elt[0]=new di(Nt.NONE,Nt.NONE,Nt.NONE),this.elt[1]=new di(Nt.NONE,Nt.NONE,Nt.NONE),this.elt[w].setLocations(x,T,E)}};ri.prototype.getGeometryCount=function(){var e=0;return this.elt[0].isNull()||e++,this.elt[1].isNull()||e++,e},ri.prototype.setAllLocations=function(e,i){this.elt[e].setAllLocations(i)},ri.prototype.isNull=function(e){return this.elt[e].isNull()},ri.prototype.setAllLocationsIfNull=function(){if(arguments.length===1){var e=arguments[0];this.setAllLocationsIfNull(0,e),this.setAllLocationsIfNull(1,e)}else if(arguments.length===2){var i=arguments[0],s=arguments[1];this.elt[i].setAllLocationsIfNull(s)}},ri.prototype.isLine=function(e){return this.elt[e].isLine()},ri.prototype.merge=function(e){for(var i=this,s=0;s<2;s++)i.elt[s]===null&&e.elt[s]!==null?i.elt[s]=new di(e.elt[s]):i.elt[s].merge(e.elt[s])},ri.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},ri.prototype.getLocation=function(){if(arguments.length===1){var e=arguments[0];return this.elt[e].get(oe.ON)}if(arguments.length===2){var i=arguments[0],s=arguments[1];return this.elt[i].get(s)}},ri.prototype.toString=function(){var e=new Ls;return this.elt[0]!==null&&(e.append("A:"),e.append(this.elt[0].toString())),this.elt[1]!==null&&(e.append(" B:"),e.append(this.elt[1].toString())),e.toString()},ri.prototype.isArea=function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var e=arguments[0];return this.elt[e].isArea()}},ri.prototype.isAnyNull=function(e){return this.elt[e].isAnyNull()},ri.prototype.setLocation=function(){if(arguments.length===2){var e=arguments[0],i=arguments[1];this.elt[e].setLocation(oe.ON,i)}else if(arguments.length===3){var s=arguments[0],a=arguments[1],c=arguments[2];this.elt[s].setLocation(a,c)}},ri.prototype.isEqualOnSide=function(e,i){return this.elt[0].isEqualOnSide(e.elt[0],i)&&this.elt[1].isEqualOnSide(e.elt[1],i)},ri.prototype.allPositionsEqual=function(e,i){return this.elt[e].allPositionsEqual(i)},ri.prototype.toLine=function(e){this.elt[e].isArea()&&(this.elt[e]=new di(this.elt[e].location[0]))},ri.prototype.interfaces_=function(){return[]},ri.prototype.getClass=function(){return ri},ri.toLineLabel=function(e){for(var i=new ri(Nt.NONE),s=0;s<2;s++)i.setLocation(s,e.getLocation(s));return i};var Ai=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new ce,this._pts=new ce,this._label=new ri(Nt.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new ce,this._geometryFactory=null;var e=arguments[0],i=arguments[1];this._geometryFactory=i,this.computePoints(e),this.computeRing()};Ai.prototype.computeRing=function(){if(this._ring!==null)return null;for(var e=new Array(this._pts.size()).fill(null),i=0;i<this._pts.size();i++)e[i]=this._pts.get(i);this._ring=this._geometryFactory.createLinearRing(e),this._isHole=fe.isCCW(this._ring.getCoordinates())},Ai.prototype.isIsolated=function(){return this._label.getGeometryCount()===1},Ai.prototype.computePoints=function(e){var i=this;this._startDe=e;var s=e,a=!0;do{if(s===null)throw new Ka("Found null DirectedEdge");if(s.getEdgeRing()===i)throw new Ka("Directed Edge visited twice during ring-building at "+s.getCoordinate());i._edges.add(s);var c=s.getLabel();$e.isTrue(c.isArea()),i.mergeLabel(c),i.addPoints(s.getEdge(),s.isForward(),a),a=!1,i.setEdgeRing(s,i),s=i.getNext(s)}while(s!==this._startDe)},Ai.prototype.getLinearRing=function(){return this._ring},Ai.prototype.getCoordinate=function(e){return this._pts.get(e)},Ai.prototype.computeMaxNodeDegree=function(){var e=this;this._maxNodeDegree=0;var i=this._startDe;do{var s=i.getNode().getEdges().getOutgoingDegree(e);s>e._maxNodeDegree&&(e._maxNodeDegree=s),i=e.getNext(i)}while(i!==this._startDe);this._maxNodeDegree*=2},Ai.prototype.addPoints=function(e,i,s){var a=e.getCoordinates();if(i){var c=1;s&&(c=0);for(var h=c;h<a.length;h++)this._pts.add(a[h])}else{var g=a.length-2;s&&(g=a.length-1);for(var y=g;y>=0;y--)this._pts.add(a[y])}},Ai.prototype.isHole=function(){return this._isHole},Ai.prototype.setInResult=function(){var e=this._startDe;do e.getEdge().setInResult(!0),e=e.getNext();while(e!==this._startDe)},Ai.prototype.containsPoint=function(e){var i=this.getLinearRing();if(!i.getEnvelopeInternal().contains(e)||!fe.isPointInRing(e,i.getCoordinates()))return!1;for(var s=this._holes.iterator();s.hasNext();)if(s.next().containsPoint(e))return!1;return!0},Ai.prototype.addHole=function(e){this._holes.add(e)},Ai.prototype.isShell=function(){return this._shell===null},Ai.prototype.getLabel=function(){return this._label},Ai.prototype.getEdges=function(){return this._edges},Ai.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},Ai.prototype.getShell=function(){return this._shell},Ai.prototype.mergeLabel=function(){if(arguments.length===1){var e=arguments[0];this.mergeLabel(e,0),this.mergeLabel(e,1)}else if(arguments.length===2){var i=arguments[0],s=arguments[1],a=i.getLocation(s,oe.RIGHT);if(a===Nt.NONE)return null;if(this._label.getLocation(s)===Nt.NONE)return this._label.setLocation(s,a),null}},Ai.prototype.setShell=function(e){this._shell=e,e!==null&&e.addHole(this)},Ai.prototype.toPolygon=function(e){for(var i=new Array(this._holes.size()).fill(null),s=0;s<this._holes.size();s++)i[s]=this._holes.get(s).getLinearRing();return e.createPolygon(this.getLinearRing(),i)},Ai.prototype.interfaces_=function(){return[]},Ai.prototype.getClass=function(){return Ai};var BI=function(e){function i(){var s=arguments[0],a=arguments[1];e.call(this,s,a)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.setEdgeRing=function(s,a){s.setMinEdgeRing(a)},i.prototype.getNext=function(s){return s.getNextMin()},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(Ai),jI=function(e){function i(){var s=arguments[0],a=arguments[1];e.call(this,s,a)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.buildMinimalRings=function(){var s=new ce,a=this._startDe;do{if(a.getMinEdgeRing()===null){var c=new BI(a,this._geometryFactory);s.add(c)}a=a.getNext()}while(a!==this._startDe);return s},i.prototype.setEdgeRing=function(s,a){s.setEdgeRing(a)},i.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var s=this._startDe;do s.getNode().getEdges().linkMinimalDirectedEdges(this),s=s.getNext();while(s!==this._startDe)},i.prototype.getNext=function(s){return s.getNext()},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(Ai),ko=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var e=arguments[0];this._label=e}}};ko.prototype.setVisited=function(e){this._isVisited=e},ko.prototype.setInResult=function(e){this._isInResult=e},ko.prototype.isCovered=function(){return this._isCovered},ko.prototype.isCoveredSet=function(){return this._isCoveredSet},ko.prototype.setLabel=function(e){this._label=e},ko.prototype.getLabel=function(){return this._label},ko.prototype.setCovered=function(e){this._isCovered=e,this._isCoveredSet=!0},ko.prototype.updateIM=function(e){$e.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(e)},ko.prototype.isInResult=function(){return this._isInResult},ko.prototype.isVisited=function(){return this._isVisited},ko.prototype.interfaces_=function(){return[]},ko.prototype.getClass=function(){return ko};var y0=function(e){function i(){e.call(this),this._coord=null,this._edges=null;var s=arguments[0],a=arguments[1];this._coord=s,this._edges=a,this._label=new ri(0,Nt.NONE)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.isIncidentEdgeInResult=function(){for(var s=this.getEdges().getEdges().iterator();s.hasNext();)if(s.next().getEdge().isInResult())return!0;return!1},i.prototype.isIsolated=function(){return this._label.getGeometryCount()===1},i.prototype.getCoordinate=function(){return this._coord},i.prototype.print=function(s){s.println("node "+this._coord+" lbl: "+this._label)},i.prototype.computeIM=function(s){},i.prototype.computeMergedLocation=function(s,a){var c=Nt.NONE;if(c=this._label.getLocation(a),!s.isNull(a)){var h=s.getLocation(a);c!==Nt.BOUNDARY&&(c=h)}return c},i.prototype.setLabel=function(){if(arguments.length!==2)return e.prototype.setLabel.apply(this,arguments);var s=arguments[0],a=arguments[1];this._label===null?this._label=new ri(s,a):this._label.setLocation(s,a)},i.prototype.getEdges=function(){return this._edges},i.prototype.mergeLabel=function(){var s=this;if(arguments[0]instanceof i){var a=arguments[0];this.mergeLabel(a._label)}else if(arguments[0]instanceof ri)for(var c=arguments[0],h=0;h<2;h++){var g=s.computeMergedLocation(c,h),y=s._label.getLocation(h);y===Nt.NONE&&s._label.setLocation(h,g)}},i.prototype.add=function(s){this._edges.insert(s),s.setNode(this)},i.prototype.setLabelBoundary=function(s){if(this._label===null)return null;var a=Nt.NONE;this._label!==null&&(a=this._label.getLocation(s));var c=null;switch(a){case Nt.BOUNDARY:c=Nt.INTERIOR;break;case Nt.INTERIOR:default:c=Nt.BOUNDARY}this._label.setLocation(s,c)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(ko),Hs=function(){this.nodeMap=new En,this.nodeFact=null;var e=arguments[0];this.nodeFact=e};Hs.prototype.find=function(e){return this.nodeMap.get(e)},Hs.prototype.addNode=function(){if(arguments[0]instanceof Pt){var e=arguments[0],i=this.nodeMap.get(e);return i===null&&(i=this.nodeFact.createNode(e),this.nodeMap.put(e,i)),i}if(arguments[0]instanceof y0){var s=arguments[0],a=this.nodeMap.get(s.getCoordinate());return a===null?(this.nodeMap.put(s.getCoordinate(),s),s):(a.mergeLabel(s),a)}},Hs.prototype.print=function(e){for(var i=this.iterator();i.hasNext();)i.next().print(e)},Hs.prototype.iterator=function(){return this.nodeMap.values().iterator()},Hs.prototype.values=function(){return this.nodeMap.values()},Hs.prototype.getBoundaryNodes=function(e){for(var i=new ce,s=this.iterator();s.hasNext();){var a=s.next();a.getLabel().getLocation(e)===Nt.BOUNDARY&&i.add(a)}return i},Hs.prototype.add=function(e){var i=e.getCoordinate();this.addNode(i).add(e)},Hs.prototype.interfaces_=function(){return[]},Hs.prototype.getClass=function(){return Hs};var ni=function(){},Rf={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};ni.prototype.interfaces_=function(){return[]},ni.prototype.getClass=function(){return ni},ni.isNorthern=function(e){return e===ni.NE||e===ni.NW},ni.isOpposite=function(e,i){return e!==i&&(e-i+4)%4===2},ni.commonHalfPlane=function(e,i){if(e===i)return e;if((e-i+4)%4===2)return-1;var s=e<i?e:i;return s===0&&(e>i?e:i)===3?3:s},ni.isInHalfPlane=function(e,i){return i===ni.SE?e===ni.SE||e===ni.SW:e===i||e===i+1},ni.quadrant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],i=arguments[1];if(e===0&&i===0)throw new xi("Cannot compute the quadrant for point ( "+e+", "+i+" )");return e>=0?i>=0?ni.NE:ni.SE:i>=0?ni.NW:ni.SW}if(arguments[0]instanceof Pt&&arguments[1]instanceof Pt){var s=arguments[0],a=arguments[1];if(a.x===s.x&&a.y===s.y)throw new xi("Cannot compute the quadrant for two identical points "+s);return a.x>=s.x?a.y>=s.y?ni.NE:ni.SE:a.y>=s.y?ni.NW:ni.SW}},Rf.NE.get=function(){return 0},Rf.NW.get=function(){return 1},Rf.SW.get=function(){return 2},Rf.SE.get=function(){return 3},Object.defineProperties(ni,Rf);var Tn=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var e=arguments[0];this._edge=e}else if(arguments.length===3){var i=arguments[0],s=arguments[1],a=arguments[2],c=null;this._edge=i,this.init(s,a),this._label=c}else if(arguments.length===4){var h=arguments[0],g=arguments[1],y=arguments[2],w=arguments[3];this._edge=h,this.init(g,y),this._label=w}};Tn.prototype.compareDirection=function(e){return this._dx===e._dx&&this._dy===e._dy?0:this._quadrant>e._quadrant?1:this._quadrant<e._quadrant?-1:fe.computeOrientation(e._p0,e._p1,this._p1)},Tn.prototype.getDy=function(){return this._dy},Tn.prototype.getCoordinate=function(){return this._p0},Tn.prototype.setNode=function(e){this._node=e},Tn.prototype.print=function(e){var i=Math.atan2(this._dy,this._dx),s=this.getClass().getName(),a=s.lastIndexOf("."),c=s.substring(a+1);e.print("  "+c+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+i+"   "+this._label)},Tn.prototype.compareTo=function(e){var i=e;return this.compareDirection(i)},Tn.prototype.getDirectedCoordinate=function(){return this._p1},Tn.prototype.getDx=function(){return this._dx},Tn.prototype.getLabel=function(){return this._label},Tn.prototype.getEdge=function(){return this._edge},Tn.prototype.getQuadrant=function(){return this._quadrant},Tn.prototype.getNode=function(){return this._node},Tn.prototype.toString=function(){var e=Math.atan2(this._dy,this._dx),i=this.getClass().getName(),s=i.lastIndexOf(".");return"  "+i.substring(s+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label},Tn.prototype.computeLabel=function(e){},Tn.prototype.init=function(e,i){this._p0=e,this._p1=i,this._dx=i.x-e.x,this._dy=i.y-e.y,this._quadrant=ni.quadrant(this._dx,this._dy),$e.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")},Tn.prototype.interfaces_=function(){return[Do]},Tn.prototype.getClass=function(){return Tn};var Wb=function(e){function i(){var s=arguments[0],a=arguments[1];if(e.call(this,s),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=a,a)this.init(s.getCoordinate(0),s.getCoordinate(1));else{var c=s.getNumPoints()-1;this.init(s.getCoordinate(c),s.getCoordinate(c-1))}this.computeDirectedLabel()}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getNextMin=function(){return this._nextMin},i.prototype.getDepth=function(s){return this._depth[s]},i.prototype.setVisited=function(s){this._isVisited=s},i.prototype.computeDirectedLabel=function(){this._label=new ri(this._edge.getLabel()),this._isForward||this._label.flip()},i.prototype.getNext=function(){return this._next},i.prototype.setDepth=function(s,a){if(this._depth[s]!==-999&&this._depth[s]!==a)throw new Ka("assigned depths do not match",this.getCoordinate());this._depth[s]=a},i.prototype.isInteriorAreaEdge=function(){for(var s=this,a=!0,c=0;c<2;c++)s._label.isArea(c)&&s._label.getLocation(c,oe.LEFT)===Nt.INTERIOR&&s._label.getLocation(c,oe.RIGHT)===Nt.INTERIOR||(a=!1);return a},i.prototype.setNextMin=function(s){this._nextMin=s},i.prototype.print=function(s){e.prototype.print.call(this,s),s.print(" "+this._depth[oe.LEFT]+"/"+this._depth[oe.RIGHT]),s.print(" ("+this.getDepthDelta()+")"),this._isInResult&&s.print(" inResult")},i.prototype.setMinEdgeRing=function(s){this._minEdgeRing=s},i.prototype.isLineEdge=function(){var s=this._label.isLine(0)||this._label.isLine(1),a=!this._label.isArea(0)||this._label.allPositionsEqual(0,Nt.EXTERIOR),c=!this._label.isArea(1)||this._label.allPositionsEqual(1,Nt.EXTERIOR);return s&&a&&c},i.prototype.setEdgeRing=function(s){this._edgeRing=s},i.prototype.getMinEdgeRing=function(){return this._minEdgeRing},i.prototype.getDepthDelta=function(){var s=this._edge.getDepthDelta();return this._isForward||(s=-s),s},i.prototype.setInResult=function(s){this._isInResult=s},i.prototype.getSym=function(){return this._sym},i.prototype.isForward=function(){return this._isForward},i.prototype.getEdge=function(){return this._edge},i.prototype.printEdge=function(s){this.print(s),s.print(" "),this._isForward?this._edge.print(s):this._edge.printReverse(s)},i.prototype.setSym=function(s){this._sym=s},i.prototype.setVisitedEdge=function(s){this.setVisited(s),this._sym.setVisited(s)},i.prototype.setEdgeDepths=function(s,a){var c=this.getEdge().getDepthDelta();this._isForward||(c=-c);var h=1;s===oe.LEFT&&(h=-1);var g=oe.opposite(s),y=a+c*h;this.setDepth(s,a),this.setDepth(g,y)},i.prototype.getEdgeRing=function(){return this._edgeRing},i.prototype.isInResult=function(){return this._isInResult},i.prototype.setNext=function(s){this._next=s},i.prototype.isVisited=function(){return this._isVisited},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i.depthFactor=function(s,a){return s===Nt.EXTERIOR&&a===Nt.INTERIOR?1:s===Nt.INTERIOR&&a===Nt.EXTERIOR?-1:0},i}(Tn),Sd=function(){};Sd.prototype.createNode=function(e){return new y0(e,null)},Sd.prototype.interfaces_=function(){return[]},Sd.prototype.getClass=function(){return Sd};var Ti=function(){if(this._edges=new ce,this._nodes=null,this._edgeEndList=new ce,arguments.length===0)this._nodes=new Hs(new Sd);else if(arguments.length===1){var e=arguments[0];this._nodes=new Hs(e)}};Ti.prototype.printEdges=function(e){e.println("Edges:");for(var i=0;i<this._edges.size();i++){e.println("edge "+i+":");var s=this._edges.get(i);s.print(e),s.eiList.print(e)}},Ti.prototype.find=function(e){return this._nodes.find(e)},Ti.prototype.addNode=function(){if(arguments[0]instanceof y0){var e=arguments[0];return this._nodes.addNode(e)}if(arguments[0]instanceof Pt){var i=arguments[0];return this._nodes.addNode(i)}},Ti.prototype.getNodeIterator=function(){return this._nodes.iterator()},Ti.prototype.linkResultDirectedEdges=function(){for(var e=this._nodes.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()},Ti.prototype.debugPrintln=function(e){pn.out.println(e)},Ti.prototype.isBoundaryNode=function(e,i){var s=this._nodes.find(i);if(s===null)return!1;var a=s.getLabel();return a!==null&&a.getLocation(e)===Nt.BOUNDARY},Ti.prototype.linkAllDirectedEdges=function(){for(var e=this._nodes.iterator();e.hasNext();)e.next().getEdges().linkAllDirectedEdges()},Ti.prototype.matchInSameDirection=function(e,i,s,a){return!!e.equals(s)&&fe.computeOrientation(e,i,a)===fe.COLLINEAR&&ni.quadrant(e,i)===ni.quadrant(s,a)},Ti.prototype.getEdgeEnds=function(){return this._edgeEndList},Ti.prototype.debugPrint=function(e){pn.out.print(e)},Ti.prototype.getEdgeIterator=function(){return this._edges.iterator()},Ti.prototype.findEdgeInSameDirection=function(e,i){for(var s=this,a=0;a<this._edges.size();a++){var c=s._edges.get(a),h=c.getCoordinates();if(s.matchInSameDirection(e,i,h[0],h[1])||s.matchInSameDirection(e,i,h[h.length-1],h[h.length-2]))return c}return null},Ti.prototype.insertEdge=function(e){this._edges.add(e)},Ti.prototype.findEdgeEnd=function(e){for(var i=this.getEdgeEnds().iterator();i.hasNext();){var s=i.next();if(s.getEdge()===e)return s}return null},Ti.prototype.addEdges=function(e){for(var i=this,s=e.iterator();s.hasNext();){var a=s.next();i._edges.add(a);var c=new Wb(a,!0),h=new Wb(a,!1);c.setSym(h),h.setSym(c),i.add(c),i.add(h)}},Ti.prototype.add=function(e){this._nodes.add(e),this._edgeEndList.add(e)},Ti.prototype.getNodes=function(){return this._nodes.values()},Ti.prototype.findEdge=function(e,i){for(var s=0;s<this._edges.size();s++){var a=this._edges.get(s),c=a.getCoordinates();if(e.equals(c[0])&&i.equals(c[1]))return a}return null},Ti.prototype.interfaces_=function(){return[]},Ti.prototype.getClass=function(){return Ti},Ti.linkResultDirectedEdges=function(e){for(var i=e.iterator();i.hasNext();)i.next().getEdges().linkResultDirectedEdges()};var oo=function(){this._geometryFactory=null,this._shellList=new ce;var e=arguments[0];this._geometryFactory=e};oo.prototype.sortShellsAndHoles=function(e,i,s){for(var a=e.iterator();a.hasNext();){var c=a.next();c.isHole()?s.add(c):i.add(c)}},oo.prototype.computePolygons=function(e){for(var i=new ce,s=e.iterator();s.hasNext();){var a=s.next().toPolygon(this._geometryFactory);i.add(a)}return i},oo.prototype.placeFreeHoles=function(e,i){for(var s=i.iterator();s.hasNext();){var a=s.next();if(a.getShell()===null){var c=this.findEdgeRingContaining(a,e);if(c===null)throw new Ka("unable to assign hole to a shell",a.getCoordinate(0));a.setShell(c)}}},oo.prototype.buildMinimalEdgeRings=function(e,i,s){for(var a=new ce,c=e.iterator();c.hasNext();){var h=c.next();if(h.getMaxNodeDegree()>2){h.linkDirectedEdgesForMinimalEdgeRings();var g=h.buildMinimalRings(),y=this.findShell(g);y!==null?(this.placePolygonHoles(y,g),i.add(y)):s.addAll(g)}else a.add(h)}return a},oo.prototype.containsPoint=function(e){for(var i=this._shellList.iterator();i.hasNext();)if(i.next().containsPoint(e))return!0;return!1},oo.prototype.buildMaximalEdgeRings=function(e){for(var i=new ce,s=e.iterator();s.hasNext();){var a=s.next();if(a.isInResult()&&a.getLabel().isArea()&&a.getEdgeRing()===null){var c=new jI(a,this._geometryFactory);i.add(c),c.setInResult()}}return i},oo.prototype.placePolygonHoles=function(e,i){for(var s=i.iterator();s.hasNext();){var a=s.next();a.isHole()&&a.setShell(e)}},oo.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},oo.prototype.findEdgeRingContaining=function(e,i){for(var s=e.getLinearRing(),a=s.getEnvelopeInternal(),c=s.getCoordinateN(0),h=null,g=null,y=i.iterator();y.hasNext();){var w=y.next(),x=w.getLinearRing(),T=x.getEnvelopeInternal();h!==null&&(g=h.getLinearRing().getEnvelopeInternal());var E=!1;T.contains(a)&&fe.isPointInRing(c,x.getCoordinates())&&(E=!0),E&&(h===null||g.contains(T))&&(h=w)}return h},oo.prototype.findShell=function(e){for(var i=0,s=null,a=e.iterator();a.hasNext();){var c=a.next();c.isHole()||(s=c,i++)}return $e.isTrue(i<=1,"found two shells in MinimalEdgeRing list"),s},oo.prototype.add=function(){if(arguments.length===1){var e=arguments[0];this.add(e.getEdgeEnds(),e.getNodes())}else if(arguments.length===2){var i=arguments[0],s=arguments[1];Ti.linkResultDirectedEdges(s);var a=this.buildMaximalEdgeRings(i),c=new ce,h=this.buildMinimalEdgeRings(a,this._shellList,c);this.sortShellsAndHoles(h,this._shellList,c),this.placeFreeHoles(this._shellList,c)}},oo.prototype.interfaces_=function(){return[]},oo.prototype.getClass=function(){return oo};var Cd=function(){};Cd.prototype.getBounds=function(){},Cd.prototype.interfaces_=function(){return[]},Cd.prototype.getClass=function(){return Cd};var ps=function(){this._bounds=null,this._item=null;var e=arguments[0],i=arguments[1];this._bounds=e,this._item=i};ps.prototype.getItem=function(){return this._item},ps.prototype.getBounds=function(){return this._bounds},ps.prototype.interfaces_=function(){return[Cd,Fo]},ps.prototype.getClass=function(){return ps};var Ja=function(){this._size=null,this._items=null,this._size=0,this._items=new ce,this._items.add(null)};Ja.prototype.poll=function(){if(this.isEmpty())return null;var e=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),e},Ja.prototype.size=function(){return this._size},Ja.prototype.reorder=function(e){for(var i=this,s=null,a=this._items.get(e);2*e<=this._size&&((s=2*e)!==i._size&&i._items.get(s+1).compareTo(i._items.get(s))<0&&s++,i._items.get(s).compareTo(a)<0);e=s)i._items.set(e,i._items.get(s));this._items.set(e,a)},Ja.prototype.clear=function(){this._size=0,this._items.clear()},Ja.prototype.isEmpty=function(){return this._size===0},Ja.prototype.add=function(e){this._items.add(null),this._size+=1;var i=this._size;for(this._items.set(0,e);e.compareTo(this._items.get(Math.trunc(i/2)))<0;i/=2)this._items.set(i,this._items.get(Math.trunc(i/2)));this._items.set(i,e)},Ja.prototype.interfaces_=function(){return[]},Ja.prototype.getClass=function(){return Ja};var Bl=function(){};Bl.prototype.visitItem=function(e){},Bl.prototype.interfaces_=function(){return[]},Bl.prototype.getClass=function(){return Bl};var Qu=function(){};Qu.prototype.insert=function(e,i){},Qu.prototype.remove=function(e,i){},Qu.prototype.query=function(){},Qu.prototype.interfaces_=function(){return[]},Qu.prototype.getClass=function(){return Qu};var qi=function(){if(this._childBoundables=new ce,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var e=arguments[0];this._level=e}}},Lk={serialVersionUID:{configurable:!0}};qi.prototype.getLevel=function(){return this._level},qi.prototype.size=function(){return this._childBoundables.size()},qi.prototype.getChildBoundables=function(){return this._childBoundables},qi.prototype.addChildBoundable=function(e){$e.isTrue(this._bounds===null),this._childBoundables.add(e)},qi.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},qi.prototype.getBounds=function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds},qi.prototype.interfaces_=function(){return[Cd,Fo]},qi.prototype.getClass=function(){return qi},Lk.serialVersionUID.get=function(){return 6493722185909574e3},Object.defineProperties(qi,Lk);var fs=function(){};fs.reverseOrder=function(){return{compare:function(e,i){return i.compareTo(e)}}},fs.min=function(e){return fs.sort(e),e.get(0)},fs.sort=function(e,i){var s=e.toArray();i?Dc.sort(s,i):Dc.sort(s);for(var a=e.iterator(),c=0,h=s.length;c<h;c++)a.next(),a.set(s[c])},fs.singletonList=function(e){var i=new ce;return i.add(e),i};var Oi=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var e=arguments[0],i=arguments[1],s=arguments[2];this._boundable1=e,this._boundable2=i,this._itemDistance=s,this._distance=this.distance()};Oi.prototype.expandToQueue=function(e,i){var s=Oi.isComposite(this._boundable1),a=Oi.isComposite(this._boundable2);if(s&&a)return Oi.area(this._boundable1)>Oi.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,e,i),null):(this.expand(this._boundable2,this._boundable1,e,i),null);if(s)return this.expand(this._boundable1,this._boundable2,e,i),null;if(a)return this.expand(this._boundable2,this._boundable1,e,i),null;throw new xi("neither boundable is composite")},Oi.prototype.isLeaves=function(){return!(Oi.isComposite(this._boundable1)||Oi.isComposite(this._boundable2))},Oi.prototype.compareTo=function(e){var i=e;return this._distance<i._distance?-1:this._distance>i._distance?1:0},Oi.prototype.expand=function(e,i,s,a){for(var c=e.getChildBoundables().iterator();c.hasNext();){var h=c.next(),g=new Oi(h,i,this._itemDistance);g.getDistance()<a&&s.add(g)}},Oi.prototype.getBoundable=function(e){return e===0?this._boundable1:this._boundable2},Oi.prototype.getDistance=function(){return this._distance},Oi.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},Oi.prototype.interfaces_=function(){return[Do]},Oi.prototype.getClass=function(){return Oi},Oi.area=function(e){return e.getBounds().getArea()},Oi.isComposite=function(e){return e instanceof qi};var en=function e(){if(this._root=null,this._built=!1,this._itemBoundables=new ce,this._nodeCapacity=null,arguments.length===0){var i=e.DEFAULT_NODE_CAPACITY;this._nodeCapacity=i}else if(arguments.length===1){var s=arguments[0];$e.isTrue(s>1,"Node capacity must be greater than 1"),this._nodeCapacity=s}},b0={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};en.prototype.getNodeCapacity=function(){return this._nodeCapacity},en.prototype.lastNode=function(e){return e.get(e.size()-1)},en.prototype.size=function(){var e=this;if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var i=arguments[0],s=0,a=i.getChildBoundables().iterator();a.hasNext();){var c=a.next();c instanceof qi?s+=e.size(c):c instanceof ps&&(s+=1)}return s}},en.prototype.removeItem=function(e,i){for(var s=null,a=e.getChildBoundables().iterator();a.hasNext();){var c=a.next();c instanceof ps&&c.getItem()===i&&(s=c)}return s!==null&&(e.getChildBoundables().remove(s),!0)},en.prototype.itemsTree=function(){var e=this;if(arguments.length===0){this.build();var i=this.itemsTree(this._root);return i===null?new ce:i}if(arguments.length===1){for(var s=arguments[0],a=new ce,c=s.getChildBoundables().iterator();c.hasNext();){var h=c.next();if(h instanceof qi){var g=e.itemsTree(h);g!==null&&a.add(g)}else h instanceof ps?a.add(h.getItem()):$e.shouldNeverReachHere()}return a.size()<=0?null:a}},en.prototype.insert=function(e,i){$e.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new ps(e,i))},en.prototype.boundablesAtLevel=function(){var e=this;if(arguments.length===1){var i=arguments[0],s=new ce;return this.boundablesAtLevel(i,this._root,s),s}if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2];if($e.isTrue(a>-2),c.getLevel()===a)return h.add(c),null;for(var g=c.getChildBoundables().iterator();g.hasNext();){var y=g.next();y instanceof qi?e.boundablesAtLevel(a,y,h):($e.isTrue(y instanceof ps),a===-1&&h.add(y))}return null}},en.prototype.query=function(){var e=this;if(arguments.length===1){var i=arguments[0];this.build();var s=new ce;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),i)&&this.query(i,this._root,s),s}if(arguments.length===2){var a=arguments[0],c=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),a)&&this.query(a,this._root,c)}else if(arguments.length===3){if(Ue(arguments[2],Bl)&&arguments[0]instanceof Object&&arguments[1]instanceof qi)for(var h=arguments[0],g=arguments[1],y=arguments[2],w=g.getChildBoundables(),x=0;x<w.size();x++){var T=w.get(x);e.getIntersectsOp().intersects(T.getBounds(),h)&&(T instanceof qi?e.query(h,T,y):T instanceof ps?y.visitItem(T.getItem()):$e.shouldNeverReachHere())}else if(Ue(arguments[2],us)&&arguments[0]instanceof Object&&arguments[1]instanceof qi)for(var E=arguments[0],P=arguments[1],z=arguments[2],N=P.getChildBoundables(),B=0;B<N.size();B++){var A=N.get(B);e.getIntersectsOp().intersects(A.getBounds(),E)&&(A instanceof qi?e.query(E,A,z):A instanceof ps?z.add(A.getItem()):$e.shouldNeverReachHere())}}},en.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},en.prototype.getRoot=function(){return this.build(),this._root},en.prototype.remove=function(){var e=this;if(arguments.length===2){var i=arguments[0],s=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),i)&&this.remove(i,this._root,s)}if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2],g=this.removeItem(c,h);if(g)return!0;for(var y=null,w=c.getChildBoundables().iterator();w.hasNext();){var x=w.next();if(e.getIntersectsOp().intersects(x.getBounds(),a)&&x instanceof qi&&(g=e.remove(a,x,h))){y=x;break}}return y!==null&&y.getChildBoundables().isEmpty()&&c.getChildBoundables().remove(y),g}},en.prototype.createHigherLevels=function(e,i){$e.isTrue(!e.isEmpty());var s=this.createParentBoundables(e,i+1);return s.size()===1?s.get(0):this.createHigherLevels(s,i+1)},en.prototype.depth=function(){var e=this;if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var i=arguments[0],s=0,a=i.getChildBoundables().iterator();a.hasNext();){var c=a.next();if(c instanceof qi){var h=e.depth(c);h>s&&(s=h)}}return s+1}},en.prototype.createParentBoundables=function(e,i){var s=this;$e.isTrue(!e.isEmpty());var a=new ce;a.add(this.createNode(i));var c=new ce(e);fs.sort(c,this.getComparator());for(var h=c.iterator();h.hasNext();){var g=h.next();s.lastNode(a).getChildBoundables().size()===s.getNodeCapacity()&&a.add(s.createNode(i)),s.lastNode(a).addChildBoundable(g)}return a},en.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},en.prototype.interfaces_=function(){return[Fo]},en.prototype.getClass=function(){return en},en.compareDoubles=function(e,i){return e>i?1:e<i?-1:0},b0.IntersectsOp.get=function(){return HI},b0.serialVersionUID.get=function(){return-3886435814360241e3},b0.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(en,b0);var HI=function(){},Pd=function(){};Pd.prototype.distance=function(e,i){},Pd.prototype.interfaces_=function(){return[]},Pd.prototype.getClass=function(){return Pd};var Rk=function(e){function i(a){a=a||i.DEFAULT_NODE_CAPACITY,e.call(this,a)}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return i.prototype.createParentBoundablesFromVerticalSlices=function(a,c){$e.isTrue(a.length>0);for(var h=new ce,g=0;g<a.length;g++)h.addAll(this.createParentBoundablesFromVerticalSlice(a[g],c));return h},i.prototype.createNode=function(a){return new Ak(a)},i.prototype.size=function(){return arguments.length===0?e.prototype.size.call(this):e.prototype.size.apply(this,arguments)},i.prototype.insert=function(){if(arguments.length!==2)return e.prototype.insert.apply(this,arguments);var a=arguments[0],c=arguments[1];if(a.isNull())return null;e.prototype.insert.call(this,a,c)},i.prototype.getIntersectsOp=function(){return i.intersectsOp},i.prototype.verticalSlices=function(a,c){for(var h=Math.trunc(Math.ceil(a.size()/c)),g=new Array(c).fill(null),y=a.iterator(),w=0;w<c;w++){g[w]=new ce;for(var x=0;y.hasNext()&&x<h;){var T=y.next();g[w].add(T),x++}}return g},i.prototype.query=function(){if(arguments.length===1){var a=arguments[0];return e.prototype.query.call(this,a)}if(arguments.length===2){var c=arguments[0],h=arguments[1];e.prototype.query.call(this,c,h)}else if(arguments.length===3){if(Ue(arguments[2],Bl)&&arguments[0]instanceof Object&&arguments[1]instanceof qi){var g=arguments[0],y=arguments[1],w=arguments[2];e.prototype.query.call(this,g,y,w)}else if(Ue(arguments[2],us)&&arguments[0]instanceof Object&&arguments[1]instanceof qi){var x=arguments[0],T=arguments[1],E=arguments[2];e.prototype.query.call(this,x,T,E)}}},i.prototype.getComparator=function(){return i.yComparator},i.prototype.createParentBoundablesFromVerticalSlice=function(a,c){return e.prototype.createParentBoundables.call(this,a,c)},i.prototype.remove=function(){if(arguments.length===2){var a=arguments[0],c=arguments[1];return e.prototype.remove.call(this,a,c)}return e.prototype.remove.apply(this,arguments)},i.prototype.depth=function(){return arguments.length===0?e.prototype.depth.call(this):e.prototype.depth.apply(this,arguments)},i.prototype.createParentBoundables=function(a,c){$e.isTrue(!a.isEmpty());var h=Math.trunc(Math.ceil(a.size()/this.getNodeCapacity())),g=new ce(a);fs.sort(g,i.xComparator);var y=this.verticalSlices(g,Math.trunc(Math.ceil(Math.sqrt(h))));return this.createParentBoundablesFromVerticalSlices(y,c)},i.prototype.nearestNeighbour=function(){if(arguments.length===1){if(Ue(arguments[0],Pd)){var a=arguments[0],c=new Oi(this.getRoot(),this.getRoot(),a);return this.nearestNeighbour(c)}if(arguments[0]instanceof Oi){var h=arguments[0];return this.nearestNeighbour(h,Ke.POSITIVE_INFINITY)}}else if(arguments.length===2){if(arguments[0]instanceof i&&Ue(arguments[1],Pd)){var g=arguments[0],y=arguments[1],w=new Oi(this.getRoot(),g.getRoot(),y);return this.nearestNeighbour(w)}if(arguments[0]instanceof Oi&&typeof arguments[1]=="number"){var x=arguments[0],T=arguments[1],E=T,P=null,z=new Ja;for(z.add(x);!z.isEmpty()&&E>0;){var N=z.poll(),B=N.getDistance();if(B>=E)break;N.isLeaves()?(E=B,P=N):N.expandToQueue(z,E)}return[P.getBoundable(0).getItem(),P.getBoundable(1).getItem()]}}else if(arguments.length===3){var A=arguments[0],Y=arguments[1],it=arguments[2],D=new ps(A,Y),W=new Oi(this.getRoot(),D,it);return this.nearestNeighbour(W)[0]}},i.prototype.interfaces_=function(){return[Qu,Fo]},i.prototype.getClass=function(){return i},i.centreX=function(a){return i.avg(a.getMinX(),a.getMaxX())},i.avg=function(a,c){return(a+c)/2},i.centreY=function(a){return i.avg(a.getMinY(),a.getMaxY())},s.STRtreeNode.get=function(){return Ak},s.serialVersionUID.get=function(){return 0x39920f7d5f261e0},s.xComparator.get=function(){return{interfaces_:function(){return[fd]},compare:function(a,c){return e.compareDoubles(i.centreX(a.getBounds()),i.centreX(c.getBounds()))}}},s.yComparator.get=function(){return{interfaces_:function(){return[fd]},compare:function(a,c){return e.compareDoubles(i.centreY(a.getBounds()),i.centreY(c.getBounds()))}}},s.intersectsOp.get=function(){return{interfaces_:function(){return[e.IntersectsOp]},intersects:function(a,c){return a.intersects(c)}}},s.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(i,s),i}(en),Ak=function(e){function i(){var s=arguments[0];e.call(this,s)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.computeBounds=function(){for(var s=null,a=this.getChildBoundables().iterator();a.hasNext();){var c=a.next();s===null?s=new Re(c.getBounds()):s.expandToInclude(c.getBounds())}return s},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(qi),Xn=function(){};Xn.prototype.interfaces_=function(){return[]},Xn.prototype.getClass=function(){return Xn},Xn.relativeSign=function(e,i){return e<i?-1:e>i?1:0},Xn.compare=function(e,i,s){if(i.equals2D(s))return 0;var a=Xn.relativeSign(i.x,s.x),c=Xn.relativeSign(i.y,s.y);switch(e){case 0:return Xn.compareValue(a,c);case 1:return Xn.compareValue(c,a);case 2:return Xn.compareValue(c,-a);case 3:return Xn.compareValue(-a,c);case 4:return Xn.compareValue(-a,-c);case 5:return Xn.compareValue(-c,-a);case 6:return Xn.compareValue(-c,a);case 7:return Xn.compareValue(a,-c)}return $e.shouldNeverReachHere("invalid octant value"),0},Xn.compareValue=function(e,i){return e<0?-1:e>0?1:i<0?-1:i>0?1:0};var jl=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var e=arguments[0],i=arguments[1],s=arguments[2],a=arguments[3];this._segString=e,this.coord=new Pt(i),this.segmentIndex=s,this._segmentOctant=a,this._isInterior=!i.equals2D(e.getCoordinate(s))};jl.prototype.getCoordinate=function(){return this.coord},jl.prototype.print=function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex)},jl.prototype.compareTo=function(e){var i=e;return this.segmentIndex<i.segmentIndex?-1:this.segmentIndex>i.segmentIndex?1:this.coord.equals2D(i.coord)?0:Xn.compare(this._segmentOctant,this.coord,i.coord)},jl.prototype.isEndPoint=function(e){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===e},jl.prototype.isInterior=function(){return this._isInterior},jl.prototype.interfaces_=function(){return[Do]},jl.prototype.getClass=function(){return jl};var Nn=function(){this._nodeMap=new En,this._edge=null;var e=arguments[0];this._edge=e};Nn.prototype.getSplitCoordinates=function(){var e=new Ef;this.addEndpoints();for(var i=this.iterator(),s=i.next();i.hasNext();){var a=i.next();this.addEdgeCoordinates(s,a,e),s=a}return e.toCoordinateArray()},Nn.prototype.addCollapsedNodes=function(){var e=new ce;this.findCollapsesFromInsertedNodes(e),this.findCollapsesFromExistingVertices(e);for(var i=e.iterator();i.hasNext();){var s=i.next().intValue();this.add(this._edge.getCoordinate(s),s)}},Nn.prototype.print=function(e){e.println("Intersections:");for(var i=this.iterator();i.hasNext();)i.next().print(e)},Nn.prototype.findCollapsesFromExistingVertices=function(e){for(var i=0;i<this._edge.size()-2;i++){var s=this._edge.getCoordinate(i),a=this._edge.getCoordinate(i+2);s.equals2D(a)&&e.add(new Rs(i+1))}},Nn.prototype.addEdgeCoordinates=function(e,i,s){var a=this._edge.getCoordinate(i.segmentIndex),c=i.isInterior()||!i.coord.equals2D(a);s.add(new Pt(e.coord),!1);for(var h=e.segmentIndex+1;h<=i.segmentIndex;h++)s.add(this._edge.getCoordinate(h));c&&s.add(new Pt(i.coord))},Nn.prototype.iterator=function(){return this._nodeMap.values().iterator()},Nn.prototype.addSplitEdges=function(e){this.addEndpoints(),this.addCollapsedNodes();for(var i=this.iterator(),s=i.next();i.hasNext();){var a=i.next(),c=this.createSplitEdge(s,a);e.add(c),s=a}},Nn.prototype.findCollapseIndex=function(e,i,s){if(!e.coord.equals2D(i.coord))return!1;var a=i.segmentIndex-e.segmentIndex;return i.isInterior()||a--,a===1&&(s[0]=e.segmentIndex+1,!0)},Nn.prototype.findCollapsesFromInsertedNodes=function(e){for(var i=new Array(1).fill(null),s=this.iterator(),a=s.next();s.hasNext();){var c=s.next();this.findCollapseIndex(a,c,i)&&e.add(new Rs(i[0])),a=c}},Nn.prototype.getEdge=function(){return this._edge},Nn.prototype.addEndpoints=function(){var e=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(e),e)},Nn.prototype.createSplitEdge=function(e,i){var s=i.segmentIndex-e.segmentIndex+2,a=this._edge.getCoordinate(i.segmentIndex),c=i.isInterior()||!i.coord.equals2D(a);c||s--;var h=new Array(s).fill(null),g=0;h[g++]=new Pt(e.coord);for(var y=e.segmentIndex+1;y<=i.segmentIndex;y++)h[g++]=this._edge.getCoordinate(y);return c&&(h[g]=new Pt(i.coord)),new Li(h,this._edge.getData())},Nn.prototype.add=function(e,i){var s=new jl(this._edge,e,i,this._edge.getSegmentOctant(i)),a=this._nodeMap.get(s);return a!==null?($e.isTrue(a.coord.equals2D(e),"Found equal nodes with different coordinates"),a):(this._nodeMap.put(s,s),s)},Nn.prototype.checkSplitEdgesCorrectness=function(e){var i=this._edge.getCoordinates(),s=e.get(0).getCoordinate(0);if(!s.equals2D(i[0]))throw new Va("bad split edge start point at "+s);var a=e.get(e.size()-1).getCoordinates(),c=a[a.length-1];if(!c.equals2D(i[i.length-1]))throw new Va("bad split edge end point at "+c)},Nn.prototype.interfaces_=function(){return[]},Nn.prototype.getClass=function(){return Nn};var $u=function(){};$u.prototype.interfaces_=function(){return[]},$u.prototype.getClass=function(){return $u},$u.octant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],i=arguments[1];if(e===0&&i===0)throw new xi("Cannot compute the octant for point ( "+e+", "+i+" )");var s=Math.abs(e),a=Math.abs(i);return e>=0?i>=0?s>=a?0:1:s>=a?7:6:i>=0?s>=a?3:2:s>=a?4:5}if(arguments[0]instanceof Pt&&arguments[1]instanceof Pt){var c=arguments[0],h=arguments[1],g=h.x-c.x,y=h.y-c.y;if(g===0&&y===0)throw new xi("Cannot compute the octant for two identical points "+c);return $u.octant(g,y)}};var va=function(){};va.prototype.getCoordinates=function(){},va.prototype.size=function(){},va.prototype.getCoordinate=function(e){},va.prototype.isClosed=function(){},va.prototype.setData=function(e){},va.prototype.getData=function(){},va.prototype.interfaces_=function(){return[]},va.prototype.getClass=function(){return va};var Af=function(){};Af.prototype.addIntersection=function(e,i){},Af.prototype.interfaces_=function(){return[va]},Af.prototype.getClass=function(){return Af};var Li=function(){this._nodeList=new Nn(this),this._pts=null,this._data=null;var e=arguments[0],i=arguments[1];this._pts=e,this._data=i};Li.prototype.getCoordinates=function(){return this._pts},Li.prototype.size=function(){return this._pts.length},Li.prototype.getCoordinate=function(e){return this._pts[e]},Li.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Li.prototype.getSegmentOctant=function(e){return e===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(e),this.getCoordinate(e+1))},Li.prototype.setData=function(e){this._data=e},Li.prototype.safeOctant=function(e,i){return e.equals2D(i)?0:$u.octant(e,i)},Li.prototype.getData=function(){return this._data},Li.prototype.addIntersection=function(){if(arguments.length===2){var e=arguments[0],i=arguments[1];this.addIntersectionNode(e,i)}else if(arguments.length===4){var s=arguments[0],a=arguments[1],c=arguments[3],h=new Pt(s.getIntersection(c));this.addIntersection(h,a)}},Li.prototype.toString=function(){return cs.toLineString(new Ii(this._pts))},Li.prototype.getNodeList=function(){return this._nodeList},Li.prototype.addIntersectionNode=function(e,i){var s=i,a=s+1;if(a<this._pts.length){var c=this._pts[a];e.equals2D(c)&&(s=a)}return this._nodeList.add(e,s)},Li.prototype.addIntersections=function(e,i,s){for(var a=0;a<e.getIntersectionNum();a++)this.addIntersection(e,i,s,a)},Li.prototype.interfaces_=function(){return[Af]},Li.prototype.getClass=function(){return Li},Li.getNodedSubstrings=function(){if(arguments.length===1){var e=arguments[0],i=new ce;return Li.getNodedSubstrings(e,i),i}if(arguments.length===2)for(var s=arguments[0],a=arguments[1],c=s.iterator();c.hasNext();){var h=c.next();h.getNodeList().addSplitEdges(a)}};var Ae=function(){if(this.p0=null,this.p1=null,arguments.length===0)this.p0=new Pt,this.p1=new Pt;else if(arguments.length===1){var e=arguments[0];this.p0=new Pt(e.p0),this.p1=new Pt(e.p1)}else if(arguments.length===2)this.p0=arguments[0],this.p1=arguments[1];else if(arguments.length===4){var i=arguments[0],s=arguments[1],a=arguments[2],c=arguments[3];this.p0=new Pt(i,s),this.p1=new Pt(a,c)}},Ok={serialVersionUID:{configurable:!0}};Ae.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},Ae.prototype.orientationIndex=function(){if(arguments[0]instanceof Ae){var e=arguments[0],i=fe.orientationIndex(this.p0,this.p1,e.p0),s=fe.orientationIndex(this.p0,this.p1,e.p1);return i>=0&&s>=0||i<=0&&s<=0?Math.max(i,s):0}if(arguments[0]instanceof Pt){var a=arguments[0];return fe.orientationIndex(this.p0,this.p1,a)}},Ae.prototype.toGeometry=function(e){return e.createLineString([this.p0,this.p1])},Ae.prototype.isVertical=function(){return this.p0.x===this.p1.x},Ae.prototype.equals=function(e){if(!(e instanceof Ae))return!1;var i=e;return this.p0.equals(i.p0)&&this.p1.equals(i.p1)},Ae.prototype.intersection=function(e){var i=new Nc;return i.computeIntersection(this.p0,this.p1,e.p0,e.p1),i.hasIntersection()?i.getIntersection(0):null},Ae.prototype.project=function(){if(arguments[0]instanceof Pt){var e=arguments[0];if(e.equals(this.p0)||e.equals(this.p1))return new Pt(e);var i=this.projectionFactor(e),s=new Pt;return s.x=this.p0.x+i*(this.p1.x-this.p0.x),s.y=this.p0.y+i*(this.p1.y-this.p0.y),s}if(arguments[0]instanceof Ae){var a=arguments[0],c=this.projectionFactor(a.p0),h=this.projectionFactor(a.p1);if(c>=1&&h>=1||c<=0&&h<=0)return null;var g=this.project(a.p0);c<0&&(g=this.p0),c>1&&(g=this.p1);var y=this.project(a.p1);return h<0&&(y=this.p0),h>1&&(y=this.p1),new Ae(g,y)}},Ae.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},Ae.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},Ae.prototype.getCoordinate=function(e){return e===0?this.p0:this.p1},Ae.prototype.distancePerpendicular=function(e){return fe.distancePointLinePerpendicular(e,this.p0,this.p1)},Ae.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},Ae.prototype.midPoint=function(){return Ae.midPoint(this.p0,this.p1)},Ae.prototype.projectionFactor=function(e){if(e.equals(this.p0))return 0;if(e.equals(this.p1))return 1;var i=this.p1.x-this.p0.x,s=this.p1.y-this.p0.y,a=i*i+s*s;return a<=0?Ke.NaN:((e.x-this.p0.x)*i+(e.y-this.p0.y)*s)/a},Ae.prototype.closestPoints=function(e){var i=this.intersection(e);if(i!==null)return[i,i];var s=new Array(2).fill(null),a=Ke.MAX_VALUE,c=null,h=this.closestPoint(e.p0);a=h.distance(e.p0),s[0]=h,s[1]=e.p0;var g=this.closestPoint(e.p1);(c=g.distance(e.p1))<a&&(a=c,s[0]=g,s[1]=e.p1);var y=e.closestPoint(this.p0);(c=y.distance(this.p0))<a&&(a=c,s[0]=this.p0,s[1]=y);var w=e.closestPoint(this.p1);return(c=w.distance(this.p1))<a&&(a=c,s[0]=this.p1,s[1]=w),s},Ae.prototype.closestPoint=function(e){var i=this.projectionFactor(e);return i>0&&i<1?this.project(e):this.p0.distance(e)<this.p1.distance(e)?this.p0:this.p1},Ae.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},Ae.prototype.getLength=function(){return this.p0.distance(this.p1)},Ae.prototype.compareTo=function(e){var i=e,s=this.p0.compareTo(i.p0);return s!==0?s:this.p1.compareTo(i.p1)},Ae.prototype.reverse=function(){var e=this.p0;this.p0=this.p1,this.p1=e},Ae.prototype.equalsTopo=function(e){return this.p0.equals(e.p0)&&(this.p1.equals(e.p1)||this.p0.equals(e.p1))&&this.p1.equals(e.p0)},Ae.prototype.lineIntersection=function(e){try{return ls.intersection(this.p0,this.p1,e.p0,e.p1)}catch(i){if(!(i instanceof md))throw i}return null},Ae.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},Ae.prototype.pointAlongOffset=function(e,i){var s=this.p0.x+e*(this.p1.x-this.p0.x),a=this.p0.y+e*(this.p1.y-this.p0.y),c=this.p1.x-this.p0.x,h=this.p1.y-this.p0.y,g=Math.sqrt(c*c+h*h),y=0,w=0;if(i!==0){if(g<=0)throw new Error("Cannot compute offset from zero-length line segment");y=i*c/g,w=i*h/g}return new Pt(s-w,a+y)},Ae.prototype.setCoordinates=function(){if(arguments.length===1){var e=arguments[0];this.setCoordinates(e.p0,e.p1)}else if(arguments.length===2){var i=arguments[0],s=arguments[1];this.p0.x=i.x,this.p0.y=i.y,this.p1.x=s.x,this.p1.y=s.y}},Ae.prototype.segmentFraction=function(e){var i=this.projectionFactor(e);return i<0?i=0:(i>1||Ke.isNaN(i))&&(i=1),i},Ae.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},Ae.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},Ae.prototype.distance=function(){if(arguments[0]instanceof Ae){var e=arguments[0];return fe.distanceLineLine(this.p0,this.p1,e.p0,e.p1)}if(arguments[0]instanceof Pt){var i=arguments[0];return fe.distancePointLine(i,this.p0,this.p1)}},Ae.prototype.pointAlong=function(e){var i=new Pt;return i.x=this.p0.x+e*(this.p1.x-this.p0.x),i.y=this.p0.y+e*(this.p1.y-this.p0.y),i},Ae.prototype.hashCode=function(){var e=Ke.doubleToLongBits(this.p0.x);e^=31*Ke.doubleToLongBits(this.p0.y);var i=Math.trunc(e)^Math.trunc(e>>32),s=Ke.doubleToLongBits(this.p1.x);return s^=31*Ke.doubleToLongBits(this.p1.y),i^(Math.trunc(s)^Math.trunc(s>>32))},Ae.prototype.interfaces_=function(){return[Do,Fo]},Ae.prototype.getClass=function(){return Ae},Ae.midPoint=function(e,i){return new Pt((e.x+i.x)/2,(e.y+i.y)/2)},Ok.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(Ae,Ok);var Of=function(){this.tempEnv1=new Re,this.tempEnv2=new Re,this._overlapSeg1=new Ae,this._overlapSeg2=new Ae};Of.prototype.overlap=function(){if(arguments.length!==2){if(arguments.length===4){var e=arguments[0],i=arguments[1],s=arguments[2],a=arguments[3];e.getLineSegment(i,this._overlapSeg1),s.getLineSegment(a,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}},Of.prototype.interfaces_=function(){return[]},Of.prototype.getClass=function(){return Of};var so=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var e=arguments[0],i=arguments[1],s=arguments[2],a=arguments[3];this._pts=e,this._start=i,this._end=s,this._context=a};so.prototype.getLineSegment=function(e,i){i.p0=this._pts[e],i.p1=this._pts[e+1]},so.prototype.computeSelect=function(e,i,s,a){var c=this._pts[i],h=this._pts[s];if(a.tempEnv1.init(c,h),s-i==1)return a.select(this,i),null;if(!e.intersects(a.tempEnv1))return null;var g=Math.trunc((i+s)/2);i<g&&this.computeSelect(e,i,g,a),g<s&&this.computeSelect(e,g,s,a)},so.prototype.getCoordinates=function(){for(var e=new Array(this._end-this._start+1).fill(null),i=0,s=this._start;s<=this._end;s++)e[i++]=this._pts[s];return e},so.prototype.computeOverlaps=function(e,i){this.computeOverlapsInternal(this._start,this._end,e,e._start,e._end,i)},so.prototype.setId=function(e){this._id=e},so.prototype.select=function(e,i){this.computeSelect(e,this._start,this._end,i)},so.prototype.getEnvelope=function(){if(this._env===null){var e=this._pts[this._start],i=this._pts[this._end];this._env=new Re(e,i)}return this._env},so.prototype.getEndIndex=function(){return this._end},so.prototype.getStartIndex=function(){return this._start},so.prototype.getContext=function(){return this._context},so.prototype.getId=function(){return this._id},so.prototype.computeOverlapsInternal=function(e,i,s,a,c,h){var g=this._pts[e],y=this._pts[i],w=s._pts[a],x=s._pts[c];if(i-e==1&&c-a==1)return h.overlap(this,e,s,a),null;if(h.tempEnv1.init(g,y),h.tempEnv2.init(w,x),!h.tempEnv1.intersects(h.tempEnv2))return null;var T=Math.trunc((e+i)/2),E=Math.trunc((a+c)/2);e<T&&(a<E&&this.computeOverlapsInternal(e,T,s,a,E,h),E<c&&this.computeOverlapsInternal(e,T,s,E,c,h)),T<i&&(a<E&&this.computeOverlapsInternal(T,i,s,a,E,h),E<c&&this.computeOverlapsInternal(T,i,s,E,c,h))},so.prototype.interfaces_=function(){return[]},so.prototype.getClass=function(){return so};var Us=function(){};Us.prototype.interfaces_=function(){return[]},Us.prototype.getClass=function(){return Us},Us.getChainStartIndices=function(e){var i=0,s=new ce;s.add(new Rs(i));do{var a=Us.findChainEnd(e,i);s.add(new Rs(a)),i=a}while(i<e.length-1);return Us.toIntArray(s)},Us.findChainEnd=function(e,i){for(var s=i;s<e.length-1&&e[s].equals2D(e[s+1]);)s++;if(s>=e.length-1)return e.length-1;for(var a=ni.quadrant(e[s],e[s+1]),c=i+1;c<e.length&&!(!e[c-1].equals2D(e[c])&&ni.quadrant(e[c-1],e[c])!==a);)c++;return c-1},Us.getChains=function(){if(arguments.length===1){var e=arguments[0];return Us.getChains(e,null)}if(arguments.length===2){for(var i=arguments[0],s=arguments[1],a=new ce,c=Us.getChainStartIndices(i),h=0;h<c.length-1;h++){var g=new so(i,c[h],c[h+1],s);a.add(g)}return a}},Us.toIntArray=function(e){for(var i=new Array(e.size()).fill(null),s=0;s<i.length;s++)i[s]=e.get(s).intValue();return i};var Bc=function(){};Bc.prototype.computeNodes=function(e){},Bc.prototype.getNodedSubstrings=function(){},Bc.prototype.interfaces_=function(){return[]},Bc.prototype.getClass=function(){return Bc};var zf=function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var e=arguments[0];this.setSegmentIntersector(e)}}};zf.prototype.setSegmentIntersector=function(e){this._segInt=e},zf.prototype.interfaces_=function(){return[Bc]},zf.prototype.getClass=function(){return zf};var Zb=function(e){function i(a){a?e.call(this,a):e.call(this),this._monoChains=new ce,this._index=new Rk,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={SegmentOverlapAction:{configurable:!0}};return i.prototype.getMonotoneChains=function(){return this._monoChains},i.prototype.getNodedSubstrings=function(){return Li.getNodedSubstrings(this._nodedSegStrings)},i.prototype.getIndex=function(){return this._index},i.prototype.add=function(a){for(var c=this,h=Us.getChains(a.getCoordinates(),a).iterator();h.hasNext();){var g=h.next();g.setId(c._idCounter++),c._index.insert(g.getEnvelope(),g),c._monoChains.add(g)}},i.prototype.computeNodes=function(a){this._nodedSegStrings=a;for(var c=a.iterator();c.hasNext();)this.add(c.next());this.intersectChains()},i.prototype.intersectChains=function(){for(var a=this,c=new zk(this._segInt),h=this._monoChains.iterator();h.hasNext();)for(var g=h.next(),y=a._index.query(g.getEnvelope()).iterator();y.hasNext();){var w=y.next();if(w.getId()>g.getId()&&(g.computeOverlaps(w,c),a._nOverlaps++),a._segInt.isDone())return null}},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},s.SegmentOverlapAction.get=function(){return zk},Object.defineProperties(i,s),i}(zf),zk=function(e){function i(){e.call(this),this._si=null;var s=arguments[0];this._si=s}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.overlap=function(){if(arguments.length!==4)return e.prototype.overlap.apply(this,arguments);var s=arguments[0],a=arguments[1],c=arguments[2],h=arguments[3],g=s.getContext(),y=c.getContext();this._si.processIntersections(g,a,y,h)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(Of),Jr=function e(){if(this._quadrantSegments=e.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=e.CAP_ROUND,this._joinStyle=e.JOIN_ROUND,this._mitreLimit=e.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=e.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var i=arguments[0];this.setQuadrantSegments(i)}else if(arguments.length===2){var s=arguments[0],a=arguments[1];this.setQuadrantSegments(s),this.setEndCapStyle(a)}else if(arguments.length===4){var c=arguments[0],h=arguments[1],g=arguments[2],y=arguments[3];this.setQuadrantSegments(c),this.setEndCapStyle(h),this.setJoinStyle(g),this.setMitreLimit(y)}}},Qa={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};Jr.prototype.getEndCapStyle=function(){return this._endCapStyle},Jr.prototype.isSingleSided=function(){return this._isSingleSided},Jr.prototype.setQuadrantSegments=function(e){this._quadrantSegments=e,this._quadrantSegments===0&&(this._joinStyle=Jr.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=Jr.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),e<=0&&(this._quadrantSegments=1),this._joinStyle!==Jr.JOIN_ROUND&&(this._quadrantSegments=Jr.DEFAULT_QUADRANT_SEGMENTS)},Jr.prototype.getJoinStyle=function(){return this._joinStyle},Jr.prototype.setJoinStyle=function(e){this._joinStyle=e},Jr.prototype.setSimplifyFactor=function(e){this._simplifyFactor=e<0?0:e},Jr.prototype.getSimplifyFactor=function(){return this._simplifyFactor},Jr.prototype.getQuadrantSegments=function(){return this._quadrantSegments},Jr.prototype.setEndCapStyle=function(e){this._endCapStyle=e},Jr.prototype.getMitreLimit=function(){return this._mitreLimit},Jr.prototype.setMitreLimit=function(e){this._mitreLimit=e},Jr.prototype.setSingleSided=function(e){this._isSingleSided=e},Jr.prototype.interfaces_=function(){return[]},Jr.prototype.getClass=function(){return Jr},Jr.bufferDistanceError=function(e){var i=Math.PI/2/e;return 1-Math.cos(i/2)},Qa.CAP_ROUND.get=function(){return 1},Qa.CAP_FLAT.get=function(){return 2},Qa.CAP_SQUARE.get=function(){return 3},Qa.JOIN_ROUND.get=function(){return 1},Qa.JOIN_MITRE.get=function(){return 2},Qa.JOIN_BEVEL.get=function(){return 3},Qa.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},Qa.DEFAULT_MITRE_LIMIT.get=function(){return 5},Qa.DEFAULT_SIMPLIFY_FACTOR.get=function(){return .01},Object.defineProperties(Jr,Qa);var Pi=function(e){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=fe.COUNTERCLOCKWISE,this._inputLine=e||null},Nf={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Pi.prototype.isDeletable=function(e,i,s,a){var c=this._inputLine[e],h=this._inputLine[i],g=this._inputLine[s];return!!this.isConcave(c,h,g)&&!!this.isShallow(c,h,g,a)&&this.isShallowSampled(c,h,e,s,a)},Pi.prototype.deleteShallowConcavities=function(){for(var e=this,i=1,s=this.findNextNonDeletedIndex(i),a=this.findNextNonDeletedIndex(s),c=!1;a<this._inputLine.length;){var h=!1;e.isDeletable(i,s,a,e._distanceTol)&&(e._isDeleted[s]=Pi.DELETE,h=!0,c=!0),i=h?a:s,s=e.findNextNonDeletedIndex(i),a=e.findNextNonDeletedIndex(s)}return c},Pi.prototype.isShallowConcavity=function(e,i,s,a){return fe.computeOrientation(e,i,s)===this._angleOrientation&&fe.distancePointLine(i,e,s)<a},Pi.prototype.isShallowSampled=function(e,i,s,a,c){var h=Math.trunc((a-s)/Pi.NUM_PTS_TO_CHECK);h<=0&&(h=1);for(var g=s;g<a;g+=h)if(!this.isShallow(e,i,this._inputLine[g],c))return!1;return!0},Pi.prototype.isConcave=function(e,i,s){var a=fe.computeOrientation(e,i,s)===this._angleOrientation;return a},Pi.prototype.simplify=function(e){this._distanceTol=Math.abs(e),e<0&&(this._angleOrientation=fe.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var i=!1;do i=this.deleteShallowConcavities();while(i);return this.collapseLine()},Pi.prototype.findNextNonDeletedIndex=function(e){for(var i=e+1;i<this._inputLine.length&&this._isDeleted[i]===Pi.DELETE;)i++;return i},Pi.prototype.isShallow=function(e,i,s,a){return fe.distancePointLine(i,e,s)<a},Pi.prototype.collapseLine=function(){for(var e=new Ef,i=0;i<this._inputLine.length;i++)this._isDeleted[i]!==Pi.DELETE&&e.add(this._inputLine[i]);return e.toCoordinateArray()},Pi.prototype.interfaces_=function(){return[]},Pi.prototype.getClass=function(){return Pi},Pi.simplify=function(e,i){return new Pi(e).simplify(i)},Nf.INIT.get=function(){return 0},Nf.DELETE.get=function(){return 1},Nf.KEEP.get=function(){return 1},Nf.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Pi,Nf);var Eo=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new ce},Nk={COORDINATE_ARRAY_TYPE:{configurable:!0}};Eo.prototype.getCoordinates=function(){return this._ptList.toArray(Eo.COORDINATE_ARRAY_TYPE)},Eo.prototype.setPrecisionModel=function(e){this._precisionModel=e},Eo.prototype.addPt=function(e){var i=new Pt(e);if(this._precisionModel.makePrecise(i),this.isRedundant(i))return null;this._ptList.add(i)},Eo.prototype.revere=function(){},Eo.prototype.addPts=function(e,i){if(i)for(var s=0;s<e.length;s++)this.addPt(e[s]);else for(var a=e.length-1;a>=0;a--)this.addPt(e[a])},Eo.prototype.isRedundant=function(e){if(this._ptList.size()<1)return!1;var i=this._ptList.get(this._ptList.size()-1);return e.distance(i)<this._minimimVertexDistance},Eo.prototype.toString=function(){return new lr().createLineString(this.getCoordinates()).toString()},Eo.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var e=new Pt(this._ptList.get(0)),i=this._ptList.get(this._ptList.size()-1);if(e.equals(i))return null;this._ptList.add(e)},Eo.prototype.setMinimumVertexDistance=function(e){this._minimimVertexDistance=e},Eo.prototype.interfaces_=function(){return[]},Eo.prototype.getClass=function(){return Eo},Nk.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(Eo,Nk);var vr=function(){},th={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};vr.prototype.interfaces_=function(){return[]},vr.prototype.getClass=function(){return vr},vr.toDegrees=function(e){return 180*e/Math.PI},vr.normalize=function(e){for(;e>Math.PI;)e-=vr.PI_TIMES_2;for(;e<=-Math.PI;)e+=vr.PI_TIMES_2;return e},vr.angle=function(){if(arguments.length===1){var e=arguments[0];return Math.atan2(e.y,e.x)}if(arguments.length===2){var i=arguments[0],s=arguments[1],a=s.x-i.x,c=s.y-i.y;return Math.atan2(c,a)}},vr.isAcute=function(e,i,s){var a=e.x-i.x,c=e.y-i.y;return a*(s.x-i.x)+c*(s.y-i.y)>0},vr.isObtuse=function(e,i,s){var a=e.x-i.x,c=e.y-i.y;return a*(s.x-i.x)+c*(s.y-i.y)<0},vr.interiorAngle=function(e,i,s){var a=vr.angle(i,e),c=vr.angle(i,s);return Math.abs(c-a)},vr.normalizePositive=function(e){if(e<0){for(;e<0;)e+=vr.PI_TIMES_2;e>=vr.PI_TIMES_2&&(e=0)}else{for(;e>=vr.PI_TIMES_2;)e-=vr.PI_TIMES_2;e<0&&(e=0)}return e},vr.angleBetween=function(e,i,s){var a=vr.angle(i,e),c=vr.angle(i,s);return vr.diff(a,c)},vr.diff=function(e,i){var s=null;return(s=e<i?i-e:e-i)>Math.PI&&(s=2*Math.PI-s),s},vr.toRadians=function(e){return e*Math.PI/180},vr.getTurn=function(e,i){var s=Math.sin(i-e);return s>0?vr.COUNTERCLOCKWISE:s<0?vr.CLOCKWISE:vr.NONE},vr.angleBetweenOriented=function(e,i,s){var a=vr.angle(i,e),c=vr.angle(i,s)-a;return c<=-Math.PI?c+vr.PI_TIMES_2:c>Math.PI?c-vr.PI_TIMES_2:c},th.PI_TIMES_2.get=function(){return 2*Math.PI},th.PI_OVER_2.get=function(){return Math.PI/2},th.PI_OVER_4.get=function(){return Math.PI/4},th.COUNTERCLOCKWISE.get=function(){return fe.COUNTERCLOCKWISE},th.CLOCKWISE.get=function(){return fe.CLOCKWISE},th.NONE.get=function(){return fe.COLLINEAR},Object.defineProperties(vr,th);var yi=function e(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Ae,this._seg1=new Ae,this._offset0=new Ae,this._offset1=new Ae,this._side=0,this._hasNarrowConcaveAngle=!1;var i=arguments[0],s=arguments[1],a=arguments[2];this._precisionModel=i,this._bufParams=s,this._li=new Nc,this._filletAngleQuantum=Math.PI/2/s.getQuadrantSegments(),s.getQuadrantSegments()>=8&&s.getJoinStyle()===Jr.JOIN_ROUND&&(this._closingSegLengthFactor=e.MAX_CLOSING_SEG_LEN_FACTOR),this.init(a)},Df={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};yi.prototype.addNextSegment=function(e,i){if(this._s0=this._s1,this._s1=this._s2,this._s2=e,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var s=fe.computeOrientation(this._s0,this._s1,this._s2),a=s===fe.CLOCKWISE&&this._side===oe.LEFT||s===fe.COUNTERCLOCKWISE&&this._side===oe.RIGHT;s===0?this.addCollinear(i):a?this.addOutsideTurn(s,i):this.addInsideTurn(s,i)},yi.prototype.addLineEndCap=function(e,i){var s=new Ae(e,i),a=new Ae;this.computeOffsetSegment(s,oe.LEFT,this._distance,a);var c=new Ae;this.computeOffsetSegment(s,oe.RIGHT,this._distance,c);var h=i.x-e.x,g=i.y-e.y,y=Math.atan2(g,h);switch(this._bufParams.getEndCapStyle()){case Jr.CAP_ROUND:this._segList.addPt(a.p1),this.addFilletArc(i,y+Math.PI/2,y-Math.PI/2,fe.CLOCKWISE,this._distance),this._segList.addPt(c.p1);break;case Jr.CAP_FLAT:this._segList.addPt(a.p1),this._segList.addPt(c.p1);break;case Jr.CAP_SQUARE:var w=new Pt;w.x=Math.abs(this._distance)*Math.cos(y),w.y=Math.abs(this._distance)*Math.sin(y);var x=new Pt(a.p1.x+w.x,a.p1.y+w.y),T=new Pt(c.p1.x+w.x,c.p1.y+w.y);this._segList.addPt(x),this._segList.addPt(T)}},yi.prototype.getCoordinates=function(){return this._segList.getCoordinates()},yi.prototype.addMitreJoin=function(e,i,s,a){var c=!0,h=null;try{h=ls.intersection(i.p0,i.p1,s.p0,s.p1),(a<=0?1:h.distance(e)/Math.abs(a))>this._bufParams.getMitreLimit()&&(c=!1)}catch(g){if(!(g instanceof md))throw g;h=new Pt(0,0),c=!1}c?this._segList.addPt(h):this.addLimitedMitreJoin(i,s,a,this._bufParams.getMitreLimit())},yi.prototype.addFilletCorner=function(e,i,s,a,c){var h=i.x-e.x,g=i.y-e.y,y=Math.atan2(g,h),w=s.x-e.x,x=s.y-e.y,T=Math.atan2(x,w);a===fe.CLOCKWISE?y<=T&&(y+=2*Math.PI):y>=T&&(y-=2*Math.PI),this._segList.addPt(i),this.addFilletArc(e,y,T,a,c),this._segList.addPt(s)},yi.prototype.addOutsideTurn=function(e,i){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*yi.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===Jr.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Jr.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(i&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,e,this._distance),this._segList.addPt(this._offset1.p0))},yi.prototype.createSquare=function(e){this._segList.addPt(new Pt(e.x+this._distance,e.y+this._distance)),this._segList.addPt(new Pt(e.x+this._distance,e.y-this._distance)),this._segList.addPt(new Pt(e.x-this._distance,e.y-this._distance)),this._segList.addPt(new Pt(e.x-this._distance,e.y+this._distance)),this._segList.closeRing()},yi.prototype.addSegments=function(e,i){this._segList.addPts(e,i)},yi.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},yi.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},yi.prototype.initSideSegments=function(e,i,s){this._s1=e,this._s2=i,this._side=s,this._seg1.setCoordinates(e,i),this.computeOffsetSegment(this._seg1,s,this._distance,this._offset1)},yi.prototype.addLimitedMitreJoin=function(e,i,s,a){var c=this._seg0.p1,h=vr.angle(c,this._seg0.p0),g=vr.angleBetweenOriented(this._seg0.p0,c,this._seg1.p1)/2,y=vr.normalize(h+g),w=vr.normalize(y+Math.PI),x=a*s,T=s-x*Math.abs(Math.sin(g)),E=c.x+x*Math.cos(w),P=c.y+x*Math.sin(w),z=new Pt(E,P),N=new Ae(c,z),B=N.pointAlongOffset(1,T),A=N.pointAlongOffset(1,-T);this._side===oe.LEFT?(this._segList.addPt(B),this._segList.addPt(A)):(this._segList.addPt(A),this._segList.addPt(B))},yi.prototype.computeOffsetSegment=function(e,i,s,a){var c=i===oe.LEFT?1:-1,h=e.p1.x-e.p0.x,g=e.p1.y-e.p0.y,y=Math.sqrt(h*h+g*g),w=c*s*h/y,x=c*s*g/y;a.p0.x=e.p0.x-x,a.p0.y=e.p0.y+w,a.p1.x=e.p1.x-x,a.p1.y=e.p1.y+w},yi.prototype.addFilletArc=function(e,i,s,a,c){var h=a===fe.CLOCKWISE?-1:1,g=Math.abs(i-s),y=Math.trunc(g/this._filletAngleQuantum+.5);if(y<1)return null;for(var w=g/y,x=0,T=new Pt;x<g;){var E=i+h*x;T.x=e.x+c*Math.cos(E),T.y=e.y+c*Math.sin(E),this._segList.addPt(T),x+=w}},yi.prototype.addInsideTurn=function(e,i){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*yi.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var s=new Pt((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(s);var a=new Pt((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(a)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},yi.prototype.createCircle=function(e){var i=new Pt(e.x+this._distance,e.y);this._segList.addPt(i),this.addFilletArc(e,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},yi.prototype.addBevelJoin=function(e,i){this._segList.addPt(e.p1),this._segList.addPt(i.p0)},yi.prototype.init=function(e){this._distance=e,this._maxCurveSegmentError=e*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Eo,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(e*yi.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},yi.prototype.addCollinear=function(e){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===Jr.JOIN_BEVEL||this._bufParams.getJoinStyle()===Jr.JOIN_MITRE?(e&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,fe.CLOCKWISE,this._distance))},yi.prototype.closeRing=function(){this._segList.closeRing()},yi.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},yi.prototype.interfaces_=function(){return[]},yi.prototype.getClass=function(){return yi},Df.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return .001},Df.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return .001},Df.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},Df.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(yi,Df);var Kn=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var e=arguments[0],i=arguments[1];this._precisionModel=e,this._bufParams=i};Kn.prototype.getOffsetCurve=function(e,i){if(this._distance=i,i===0)return null;var s=i<0,a=Math.abs(i),c=this.getSegGen(a);e.length<=1?this.computePointCurve(e[0],c):this.computeOffsetCurve(e,s,c);var h=c.getCoordinates();return s&&ar.reverse(h),h},Kn.prototype.computeSingleSidedBufferCurve=function(e,i,s){var a=this.simplifyTolerance(this._distance);if(i){s.addSegments(e,!0);var c=Pi.simplify(e,-a),h=c.length-1;s.initSideSegments(c[h],c[h-1],oe.LEFT),s.addFirstSegment();for(var g=h-2;g>=0;g--)s.addNextSegment(c[g],!0)}else{s.addSegments(e,!1);var y=Pi.simplify(e,a),w=y.length-1;s.initSideSegments(y[0],y[1],oe.LEFT),s.addFirstSegment();for(var x=2;x<=w;x++)s.addNextSegment(y[x],!0)}s.addLastSegment(),s.closeRing()},Kn.prototype.computeRingBufferCurve=function(e,i,s){var a=this.simplifyTolerance(this._distance);i===oe.RIGHT&&(a=-a);var c=Pi.simplify(e,a),h=c.length-1;s.initSideSegments(c[h-1],c[0],i);for(var g=1;g<=h;g++){var y=g!==1;s.addNextSegment(c[g],y)}s.closeRing()},Kn.prototype.computeLineBufferCurve=function(e,i){var s=this.simplifyTolerance(this._distance),a=Pi.simplify(e,s),c=a.length-1;i.initSideSegments(a[0],a[1],oe.LEFT);for(var h=2;h<=c;h++)i.addNextSegment(a[h],!0);i.addLastSegment(),i.addLineEndCap(a[c-1],a[c]);var g=Pi.simplify(e,-s),y=g.length-1;i.initSideSegments(g[y],g[y-1],oe.LEFT);for(var w=y-2;w>=0;w--)i.addNextSegment(g[w],!0);i.addLastSegment(),i.addLineEndCap(g[1],g[0]),i.closeRing()},Kn.prototype.computePointCurve=function(e,i){switch(this._bufParams.getEndCapStyle()){case Jr.CAP_ROUND:i.createCircle(e);break;case Jr.CAP_SQUARE:i.createSquare(e)}},Kn.prototype.getLineCurve=function(e,i){if(this._distance=i,i<0&&!this._bufParams.isSingleSided()||i===0)return null;var s=Math.abs(i),a=this.getSegGen(s);if(e.length<=1)this.computePointCurve(e[0],a);else if(this._bufParams.isSingleSided()){var c=i<0;this.computeSingleSidedBufferCurve(e,c,a)}else this.computeLineBufferCurve(e,a);return a.getCoordinates()},Kn.prototype.getBufferParameters=function(){return this._bufParams},Kn.prototype.simplifyTolerance=function(e){return e*this._bufParams.getSimplifyFactor()},Kn.prototype.getRingCurve=function(e,i,s){if(this._distance=s,e.length<=2)return this.getLineCurve(e,s);if(s===0)return Kn.copyCoordinates(e);var a=this.getSegGen(s);return this.computeRingBufferCurve(e,i,a),a.getCoordinates()},Kn.prototype.computeOffsetCurve=function(e,i,s){var a=this.simplifyTolerance(this._distance);if(i){var c=Pi.simplify(e,-a),h=c.length-1;s.initSideSegments(c[h],c[h-1],oe.LEFT),s.addFirstSegment();for(var g=h-2;g>=0;g--)s.addNextSegment(c[g],!0)}else{var y=Pi.simplify(e,a),w=y.length-1;s.initSideSegments(y[0],y[1],oe.LEFT),s.addFirstSegment();for(var x=2;x<=w;x++)s.addNextSegment(y[x],!0)}s.addLastSegment()},Kn.prototype.getSegGen=function(e){return new yi(this._precisionModel,this._bufParams,e)},Kn.prototype.interfaces_=function(){return[]},Kn.prototype.getClass=function(){return Kn},Kn.copyCoordinates=function(e){for(var i=new Array(e.length).fill(null),s=0;s<i.length;s++)i[s]=new Pt(e[s]);return i};var eh=function(){this._subgraphs=null,this._seg=new Ae,this._cga=new fe;var e=arguments[0];this._subgraphs=e},Dk={DepthSegment:{configurable:!0}};eh.prototype.findStabbedSegments=function(){var e=this;if(arguments.length===1){for(var i=arguments[0],s=new ce,a=this._subgraphs.iterator();a.hasNext();){var c=a.next(),h=c.getEnvelope();i.y<h.getMinY()||i.y>h.getMaxY()||e.findStabbedSegments(i,c.getDirectedEdges(),s)}return s}if(arguments.length===3){if(Ue(arguments[2],us)&&arguments[0]instanceof Pt&&arguments[1]instanceof Wb)for(var g=arguments[0],y=arguments[1],w=arguments[2],x=y.getEdge().getCoordinates(),T=0;T<x.length-1;T++){e._seg.p0=x[T],e._seg.p1=x[T+1],e._seg.p0.y>e._seg.p1.y&&e._seg.reverse();var E=Math.max(e._seg.p0.x,e._seg.p1.x);if(!(E<g.x)&&!(e._seg.isHorizontal()||g.y<e._seg.p0.y||g.y>e._seg.p1.y||fe.computeOrientation(e._seg.p0,e._seg.p1,g)===fe.RIGHT)){var P=y.getDepth(oe.LEFT);e._seg.p0.equals(x[T])||(P=y.getDepth(oe.RIGHT));var z=new jc(e._seg,P);w.add(z)}}else if(Ue(arguments[2],us)&&arguments[0]instanceof Pt&&Ue(arguments[1],us))for(var N=arguments[0],B=arguments[1],A=arguments[2],Y=B.iterator();Y.hasNext();){var it=Y.next();it.isForward()&&e.findStabbedSegments(N,it,A)}}},eh.prototype.getDepth=function(e){var i=this.findStabbedSegments(e);return i.size()===0?0:fs.min(i)._leftDepth},eh.prototype.interfaces_=function(){return[]},eh.prototype.getClass=function(){return eh},Dk.DepthSegment.get=function(){return jc},Object.defineProperties(eh,Dk);var jc=function(){this._upwardSeg=null,this._leftDepth=null;var e=arguments[0],i=arguments[1];this._upwardSeg=new Ae(e),this._leftDepth=i};jc.prototype.compareTo=function(e){var i=e;if(this._upwardSeg.minX()>=i._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=i._upwardSeg.minX())return-1;var s=this._upwardSeg.orientationIndex(i._upwardSeg);return s!==0||(s=-1*i._upwardSeg.orientationIndex(this._upwardSeg))!==0?s:this._upwardSeg.compareTo(i._upwardSeg)},jc.prototype.compareX=function(e,i){var s=e.p0.compareTo(i.p0);return s!==0?s:e.p1.compareTo(i.p1)},jc.prototype.toString=function(){return this._upwardSeg.toString()},jc.prototype.interfaces_=function(){return[Do]},jc.prototype.getClass=function(){return jc};var Qr=function(e,i,s){this.p0=e||null,this.p1=i||null,this.p2=s||null};Qr.prototype.area=function(){return Qr.area(this.p0,this.p1,this.p2)},Qr.prototype.signedArea=function(){return Qr.signedArea(this.p0,this.p1,this.p2)},Qr.prototype.interpolateZ=function(e){if(e===null)throw new xi("Supplied point is null.");return Qr.interpolateZ(e,this.p0,this.p1,this.p2)},Qr.prototype.longestSideLength=function(){return Qr.longestSideLength(this.p0,this.p1,this.p2)},Qr.prototype.isAcute=function(){return Qr.isAcute(this.p0,this.p1,this.p2)},Qr.prototype.circumcentre=function(){return Qr.circumcentre(this.p0,this.p1,this.p2)},Qr.prototype.area3D=function(){return Qr.area3D(this.p0,this.p1,this.p2)},Qr.prototype.centroid=function(){return Qr.centroid(this.p0,this.p1,this.p2)},Qr.prototype.inCentre=function(){return Qr.inCentre(this.p0,this.p1,this.p2)},Qr.prototype.interfaces_=function(){return[]},Qr.prototype.getClass=function(){return Qr},Qr.area=function(e,i,s){return Math.abs(((s.x-e.x)*(i.y-e.y)-(i.x-e.x)*(s.y-e.y))/2)},Qr.signedArea=function(e,i,s){return((s.x-e.x)*(i.y-e.y)-(i.x-e.x)*(s.y-e.y))/2},Qr.det=function(e,i,s,a){return e*a-i*s},Qr.interpolateZ=function(e,i,s,a){var c=i.x,h=i.y,g=s.x-c,y=a.x-c,w=s.y-h,x=a.y-h,T=g*x-y*w,E=e.x-c,P=e.y-h,z=(x*E-y*P)/T,N=(-w*E+g*P)/T;return i.z+z*(s.z-i.z)+N*(a.z-i.z)},Qr.longestSideLength=function(e,i,s){var a=e.distance(i),c=i.distance(s),h=s.distance(e),g=a;return c>g&&(g=c),h>g&&(g=h),g},Qr.isAcute=function(e,i,s){return!!vr.isAcute(e,i,s)&&!!vr.isAcute(i,s,e)&&!!vr.isAcute(s,e,i)},Qr.circumcentre=function(e,i,s){var a=s.x,c=s.y,h=e.x-a,g=e.y-c,y=i.x-a,w=i.y-c,x=2*Qr.det(h,g,y,w),T=Qr.det(g,h*h+g*g,w,y*y+w*w),E=Qr.det(h,h*h+g*g,y,y*y+w*w);return new Pt(a-T/x,c+E/x)},Qr.perpendicularBisector=function(e,i){var s=i.x-e.x,a=i.y-e.y,c=new ls(e.x+s/2,e.y+a/2,1),h=new ls(e.x-a+s/2,e.y+s+a/2,1);return new ls(c,h)},Qr.angleBisector=function(e,i,s){var a=i.distance(e),c=a/(a+i.distance(s)),h=s.x-e.x,g=s.y-e.y;return new Pt(e.x+c*h,e.y+c*g)},Qr.area3D=function(e,i,s){var a=i.x-e.x,c=i.y-e.y,h=i.z-e.z,g=s.x-e.x,y=s.y-e.y,w=s.z-e.z,x=c*w-h*y,T=h*g-a*w,E=a*y-c*g,P=x*x+T*T+E*E,z=Math.sqrt(P)/2;return z},Qr.centroid=function(e,i,s){var a=(e.x+i.x+s.x)/3,c=(e.y+i.y+s.y)/3;return new Pt(a,c)},Qr.inCentre=function(e,i,s){var a=i.distance(s),c=e.distance(s),h=e.distance(i),g=a+c+h,y=(a*e.x+c*i.x+h*s.x)/g,w=(a*e.y+c*i.y+h*s.y)/g;return new Pt(y,w)};var Go=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new ce;var e=arguments[0],i=arguments[1],s=arguments[2];this._inputGeom=e,this._distance=i,this._curveBuilder=s};Go.prototype.addPoint=function(e){if(this._distance<=0)return null;var i=e.getCoordinates(),s=this._curveBuilder.getLineCurve(i,this._distance);this.addCurve(s,Nt.EXTERIOR,Nt.INTERIOR)},Go.prototype.addPolygon=function(e){var i=this,s=this._distance,a=oe.LEFT;this._distance<0&&(s=-this._distance,a=oe.RIGHT);var c=e.getExteriorRing(),h=ar.removeRepeatedPoints(c.getCoordinates());if(this._distance<0&&this.isErodedCompletely(c,this._distance)||this._distance<=0&&h.length<3)return null;this.addPolygonRing(h,s,a,Nt.EXTERIOR,Nt.INTERIOR);for(var g=0;g<e.getNumInteriorRing();g++){var y=e.getInteriorRingN(g),w=ar.removeRepeatedPoints(y.getCoordinates());i._distance>0&&i.isErodedCompletely(y,-i._distance)||i.addPolygonRing(w,s,oe.opposite(a),Nt.INTERIOR,Nt.EXTERIOR)}},Go.prototype.isTriangleErodedCompletely=function(e,i){var s=new Qr(e[0],e[1],e[2]),a=s.inCentre();return fe.distancePointLine(a,s.p0,s.p1)<Math.abs(i)},Go.prototype.addLineString=function(e){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var i=ar.removeRepeatedPoints(e.getCoordinates()),s=this._curveBuilder.getLineCurve(i,this._distance);this.addCurve(s,Nt.EXTERIOR,Nt.INTERIOR)},Go.prototype.addCurve=function(e,i,s){if(e===null||e.length<2)return null;var a=new Li(e,new ri(0,Nt.BOUNDARY,i,s));this._curveList.add(a)},Go.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},Go.prototype.addPolygonRing=function(e,i,s,a,c){if(i===0&&e.length<fa.MINIMUM_VALID_SIZE)return null;var h=a,g=c;e.length>=fa.MINIMUM_VALID_SIZE&&fe.isCCW(e)&&(h=c,g=a,s=oe.opposite(s));var y=this._curveBuilder.getRingCurve(e,s,i);this.addCurve(y,h,g)},Go.prototype.add=function(e){if(e.isEmpty())return null;e instanceof Gi?this.addPolygon(e):e instanceof Ci?this.addLineString(e):e instanceof no?this.addPoint(e):(e instanceof Td||e instanceof Fc||e instanceof ga||e instanceof On)&&this.addCollection(e)},Go.prototype.isErodedCompletely=function(e,i){var s=e.getCoordinates();if(s.length<4)return i<0;if(s.length===4)return this.isTriangleErodedCompletely(s,i);var a=e.getEnvelopeInternal(),c=Math.min(a.getHeight(),a.getWidth());return i<0&&2*Math.abs(i)>c},Go.prototype.addCollection=function(e){for(var i=0;i<e.getNumGeometries();i++){var s=e.getGeometryN(i);this.add(s)}},Go.prototype.interfaces_=function(){return[]},Go.prototype.getClass=function(){return Go};var Md=function(){};Md.prototype.locate=function(e){},Md.prototype.interfaces_=function(){return[]},Md.prototype.getClass=function(){return Md};var ya=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var e=arguments[0];this._parent=e,this._atStart=!0,this._index=0,this._max=e.getNumGeometries()};ya.prototype.next=function(){if(this._atStart)return this._atStart=!1,ya.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new kd;var e=this._parent.getGeometryN(this._index++);return e instanceof On?(this._subcollectionIterator=new ya(e),this._subcollectionIterator.next()):e},ya.prototype.remove=function(){throw new Error(this.getClass().getName())},ya.prototype.hasNext=function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},ya.prototype.interfaces_=function(){return[_d]},ya.prototype.getClass=function(){return ya},ya.isAtomic=function(e){return!(e instanceof On)};var To=function(){this._geom=null;var e=arguments[0];this._geom=e};To.prototype.locate=function(e){return To.locate(e,this._geom)},To.prototype.interfaces_=function(){return[Md]},To.prototype.getClass=function(){return To},To.isPointInRing=function(e,i){return!!i.getEnvelopeInternal().intersects(e)&&fe.isPointInRing(e,i.getCoordinates())},To.containsPointInPolygon=function(e,i){if(i.isEmpty())return!1;var s=i.getExteriorRing();if(!To.isPointInRing(e,s))return!1;for(var a=0;a<i.getNumInteriorRing();a++){var c=i.getInteriorRingN(a);if(To.isPointInRing(e,c))return!1}return!0},To.containsPoint=function(e,i){if(i instanceof Gi)return To.containsPointInPolygon(e,i);if(i instanceof On)for(var s=new ya(i);s.hasNext();){var a=s.next();if(a!==i&&To.containsPoint(e,a))return!0}return!1},To.locate=function(e,i){return i.isEmpty()?Nt.EXTERIOR:To.containsPoint(e,i)?Nt.INTERIOR:Nt.EXTERIOR};var Sn=function(){this._edgeMap=new En,this._edgeList=null,this._ptInAreaLocation=[Nt.NONE,Nt.NONE]};Sn.prototype.getNextCW=function(e){this.getEdges();var i=this._edgeList.indexOf(e),s=i-1;return i===0&&(s=this._edgeList.size()-1),this._edgeList.get(s)},Sn.prototype.propagateSideLabels=function(e){for(var i=Nt.NONE,s=this.iterator();s.hasNext();){var a=s.next().getLabel();a.isArea(e)&&a.getLocation(e,oe.LEFT)!==Nt.NONE&&(i=a.getLocation(e,oe.LEFT))}if(i===Nt.NONE)return null;for(var c=i,h=this.iterator();h.hasNext();){var g=h.next(),y=g.getLabel();if(y.getLocation(e,oe.ON)===Nt.NONE&&y.setLocation(e,oe.ON,c),y.isArea(e)){var w=y.getLocation(e,oe.LEFT),x=y.getLocation(e,oe.RIGHT);if(x!==Nt.NONE){if(x!==c)throw new Ka("side location conflict",g.getCoordinate());w===Nt.NONE&&$e.shouldNeverReachHere("found single null side (at "+g.getCoordinate()+")"),c=w}else $e.isTrue(y.getLocation(e,oe.LEFT)===Nt.NONE,"found single null side"),y.setLocation(e,oe.RIGHT,c),y.setLocation(e,oe.LEFT,c)}}},Sn.prototype.getCoordinate=function(){var e=this.iterator();return e.hasNext()?e.next().getCoordinate():null},Sn.prototype.print=function(e){pn.out.println("EdgeEndStar:   "+this.getCoordinate());for(var i=this.iterator();i.hasNext();)i.next().print(e)},Sn.prototype.isAreaLabelsConsistent=function(e){return this.computeEdgeEndLabels(e.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},Sn.prototype.checkAreaLabelsConsistent=function(e){var i=this.getEdges();if(i.size()<=0)return!0;var s=i.size()-1,a=i.get(s).getLabel().getLocation(e,oe.LEFT);$e.isTrue(a!==Nt.NONE,"Found unlabelled area edge");for(var c=a,h=this.iterator();h.hasNext();){var g=h.next().getLabel();$e.isTrue(g.isArea(e),"Found non-area edge");var y=g.getLocation(e,oe.LEFT),w=g.getLocation(e,oe.RIGHT);if(y===w||w!==c)return!1;c=y}return!0},Sn.prototype.findIndex=function(e){this.iterator();for(var i=0;i<this._edgeList.size();i++)if(this._edgeList.get(i)===e)return i;return-1},Sn.prototype.iterator=function(){return this.getEdges().iterator()},Sn.prototype.getEdges=function(){return this._edgeList===null&&(this._edgeList=new ce(this._edgeMap.values())),this._edgeList},Sn.prototype.getLocation=function(e,i,s){return this._ptInAreaLocation[e]===Nt.NONE&&(this._ptInAreaLocation[e]=To.locate(i,s[e].getGeometry())),this._ptInAreaLocation[e]},Sn.prototype.toString=function(){var e=new Ls;e.append("EdgeEndStar:   "+this.getCoordinate()),e.append(`
`);for(var i=this.iterator();i.hasNext();){var s=i.next();e.append(s),e.append(`
`)}return e.toString()},Sn.prototype.computeEdgeEndLabels=function(e){for(var i=this.iterator();i.hasNext();)i.next().computeLabel(e)},Sn.prototype.computeLabelling=function(e){this.computeEdgeEndLabels(e[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var i=[!1,!1],s=this.iterator();s.hasNext();)for(var a=s.next().getLabel(),c=0;c<2;c++)a.isLine(c)&&a.getLocation(c)===Nt.BOUNDARY&&(i[c]=!0);for(var h=this.iterator();h.hasNext();)for(var g=h.next(),y=g.getLabel(),w=0;w<2;w++)if(y.isAnyNull(w)){var x=Nt.NONE;if(i[w])x=Nt.EXTERIOR;else{var T=g.getCoordinate();x=this.getLocation(w,T,e)}y.setAllLocationsIfNull(w,x)}},Sn.prototype.getDegree=function(){return this._edgeMap.size()},Sn.prototype.insertEdgeEnd=function(e,i){this._edgeMap.put(e,i),this._edgeList=null},Sn.prototype.interfaces_=function(){return[]},Sn.prototype.getClass=function(){return Sn};var UI=function(e){function i(){e.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.linkResultDirectedEdges=function(){var s=this;this.getResultAreaEdges();for(var a=null,c=null,h=this._SCANNING_FOR_INCOMING,g=0;g<this._resultAreaEdgeList.size();g++){var y=s._resultAreaEdgeList.get(g),w=y.getSym();if(y.getLabel().isArea())switch(a===null&&y.isInResult()&&(a=y),h){case s._SCANNING_FOR_INCOMING:if(!w.isInResult())continue;c=w,h=s._LINKING_TO_OUTGOING;break;case s._LINKING_TO_OUTGOING:if(!y.isInResult())continue;c.setNext(y),h=s._SCANNING_FOR_INCOMING}}if(h===this._LINKING_TO_OUTGOING){if(a===null)throw new Ka("no outgoing dirEdge found",this.getCoordinate());$e.isTrue(a.isInResult(),"unable to link last incoming dirEdge"),c.setNext(a)}},i.prototype.insert=function(s){var a=s;this.insertEdgeEnd(a,a)},i.prototype.getRightmostEdge=function(){var s=this.getEdges(),a=s.size();if(a<1)return null;var c=s.get(0);if(a===1)return c;var h=s.get(a-1),g=c.getQuadrant(),y=h.getQuadrant();return ni.isNorthern(g)&&ni.isNorthern(y)?c:ni.isNorthern(g)||ni.isNorthern(y)?c.getDy()!==0?c:h.getDy()!==0?h:($e.shouldNeverReachHere("found two horizontal edges incident on node"),null):h},i.prototype.print=function(s){pn.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var a=this.iterator();a.hasNext();){var c=a.next();s.print("out "),c.print(s),s.println(),s.print("in "),c.getSym().print(s),s.println()}},i.prototype.getResultAreaEdges=function(){if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new ce;for(var s=this.iterator();s.hasNext();){var a=s.next();(a.isInResult()||a.getSym().isInResult())&&this._resultAreaEdgeList.add(a)}return this._resultAreaEdgeList},i.prototype.updateLabelling=function(s){for(var a=this.iterator();a.hasNext();){var c=a.next().getLabel();c.setAllLocationsIfNull(0,s.getLocation(0)),c.setAllLocationsIfNull(1,s.getLocation(1))}},i.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var s=null,a=null,c=this._edgeList.size()-1;c>=0;c--){var h=this._edgeList.get(c),g=h.getSym();a===null&&(a=g),s!==null&&g.setNext(s),s=h}a.setNext(s)},i.prototype.computeDepths=function(){var s=this;if(arguments.length===1){var a=arguments[0],c=this.findIndex(a),h=a.getDepth(oe.LEFT),g=a.getDepth(oe.RIGHT),y=this.computeDepths(c+1,this._edgeList.size(),h),w=this.computeDepths(0,c,y);if(w!==g)throw new Ka("depth mismatch at "+a.getCoordinate())}else if(arguments.length===3){for(var x=arguments[0],T=arguments[1],E=arguments[2],P=E,z=x;z<T;z++){var N=s._edgeList.get(z);N.setEdgeDepths(oe.RIGHT,P),P=N.getDepth(oe.LEFT)}return P}},i.prototype.mergeSymLabels=function(){for(var s=this.iterator();s.hasNext();){var a=s.next();a.getLabel().merge(a.getSym().getLabel())}},i.prototype.linkMinimalDirectedEdges=function(s){for(var a=this,c=null,h=null,g=this._SCANNING_FOR_INCOMING,y=this._resultAreaEdgeList.size()-1;y>=0;y--){var w=a._resultAreaEdgeList.get(y),x=w.getSym();switch(c===null&&w.getEdgeRing()===s&&(c=w),g){case a._SCANNING_FOR_INCOMING:if(x.getEdgeRing()!==s)continue;h=x,g=a._LINKING_TO_OUTGOING;break;case a._LINKING_TO_OUTGOING:if(w.getEdgeRing()!==s)continue;h.setNextMin(w),g=a._SCANNING_FOR_INCOMING}}g===this._LINKING_TO_OUTGOING&&($e.isTrue(c!==null,"found null for first outgoing dirEdge"),$e.isTrue(c.getEdgeRing()===s,"unable to link last incoming dirEdge"),h.setNextMin(c))},i.prototype.getOutgoingDegree=function(){if(arguments.length===0){for(var s=0,a=this.iterator();a.hasNext();){var c=a.next();c.isInResult()&&s++}return s}if(arguments.length===1){for(var h=arguments[0],g=0,y=this.iterator();y.hasNext();){var w=y.next();w.getEdgeRing()===h&&g++}return g}},i.prototype.getLabel=function(){return this._label},i.prototype.findCoveredLineEdges=function(){for(var s=Nt.NONE,a=this.iterator();a.hasNext();){var c=a.next(),h=c.getSym();if(!c.isLineEdge()){if(c.isInResult()){s=Nt.INTERIOR;break}if(h.isInResult()){s=Nt.EXTERIOR;break}}}if(s===Nt.NONE)return null;for(var g=s,y=this.iterator();y.hasNext();){var w=y.next(),x=w.getSym();w.isLineEdge()?w.getEdge().setCovered(g===Nt.INTERIOR):(w.isInResult()&&(g=Nt.EXTERIOR),x.isInResult()&&(g=Nt.INTERIOR))}},i.prototype.computeLabelling=function(s){e.prototype.computeLabelling.call(this,s),this._label=new ri(Nt.NONE);for(var a=this.iterator();a.hasNext();)for(var c=a.next().getEdge().getLabel(),h=0;h<2;h++){var g=c.getLocation(h);g!==Nt.INTERIOR&&g!==Nt.BOUNDARY||this._label.setLocation(h,Nt.INTERIOR)}},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(Sn),Fk=function(e){function i(){e.apply(this,arguments)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.createNode=function(s){return new y0(s,new UI)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(Sd),Hl=function e(){this._pts=null,this._orientation=null;var i=arguments[0];this._pts=i,this._orientation=e.orientation(i)};Hl.prototype.compareTo=function(e){var i=e;return Hl.compareOriented(this._pts,this._orientation,i._pts,i._orientation)},Hl.prototype.interfaces_=function(){return[Do]},Hl.prototype.getClass=function(){return Hl},Hl.orientation=function(e){return ar.increasingDirection(e)===1},Hl.compareOriented=function(e,i,s,a){for(var c=i?1:-1,h=a?1:-1,g=i?e.length:-1,y=a?s.length:-1,w=i?0:e.length-1,x=a?0:s.length-1;;){var T=e[w].compareTo(s[x]);if(T!==0)return T;var E=(w+=c)===g,P=(x+=h)===y;if(E&&!P)return-1;if(!E&&P)return 1;if(E&&P)return 0}};var gs=function(){this._edges=new ce,this._ocaMap=new En};gs.prototype.print=function(e){e.print("MULTILINESTRING ( ");for(var i=0;i<this._edges.size();i++){var s=this._edges.get(i);i>0&&e.print(","),e.print("(");for(var a=s.getCoordinates(),c=0;c<a.length;c++)c>0&&e.print(","),e.print(a[c].x+" "+a[c].y);e.println(")")}e.print(")  ")},gs.prototype.addAll=function(e){for(var i=e.iterator();i.hasNext();)this.add(i.next())},gs.prototype.findEdgeIndex=function(e){for(var i=0;i<this._edges.size();i++)if(this._edges.get(i).equals(e))return i;return-1},gs.prototype.iterator=function(){return this._edges.iterator()},gs.prototype.getEdges=function(){return this._edges},gs.prototype.get=function(e){return this._edges.get(e)},gs.prototype.findEqualEdge=function(e){var i=new Hl(e.getCoordinates());return this._ocaMap.get(i)},gs.prototype.add=function(e){this._edges.add(e);var i=new Hl(e.getCoordinates());this._ocaMap.put(i,e)},gs.prototype.interfaces_=function(){return[]},gs.prototype.getClass=function(){return gs};var Hc=function(){};Hc.prototype.processIntersections=function(e,i,s,a){},Hc.prototype.isDone=function(){},Hc.prototype.interfaces_=function(){return[]},Hc.prototype.getClass=function(){return Hc};var So=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var e=arguments[0];this._li=e};So.prototype.isTrivialIntersection=function(e,i,s,a){if(e===s&&this._li.getIntersectionNum()===1){if(So.isAdjacentSegments(i,a))return!0;if(e.isClosed()){var c=e.size()-1;if(i===0&&a===c||a===0&&i===c)return!0}}return!1},So.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},So.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},So.prototype.getLineIntersector=function(){return this._li},So.prototype.hasProperIntersection=function(){return this._hasProper},So.prototype.processIntersections=function(e,i,s,a){if(e===s&&i===a)return null;this.numTests++;var c=e.getCoordinates()[i],h=e.getCoordinates()[i+1],g=s.getCoordinates()[a],y=s.getCoordinates()[a+1];this._li.computeIntersection(c,h,g,y),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(e,i,s,a)||(this._hasIntersection=!0,e.addIntersections(this._li,i,0),s.addIntersections(this._li,a,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},So.prototype.hasIntersection=function(){return this._hasIntersection},So.prototype.isDone=function(){return!1},So.prototype.hasInteriorIntersection=function(){return this._hasInterior},So.prototype.interfaces_=function(){return[Hc]},So.prototype.getClass=function(){return So},So.isAdjacentSegments=function(e,i){return Math.abs(e-i)===1};var Gs=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var e=arguments[0],i=arguments[1],s=arguments[2];this.coord=new Pt(e),this.segmentIndex=i,this.dist=s};Gs.prototype.getSegmentIndex=function(){return this.segmentIndex},Gs.prototype.getCoordinate=function(){return this.coord},Gs.prototype.print=function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex),e.println(" dist = "+this.dist)},Gs.prototype.compareTo=function(e){var i=e;return this.compare(i.segmentIndex,i.dist)},Gs.prototype.isEndPoint=function(e){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===e},Gs.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Gs.prototype.getDistance=function(){return this.dist},Gs.prototype.compare=function(e,i){return this.segmentIndex<e?-1:this.segmentIndex>e?1:this.dist<i?-1:this.dist>i?1:0},Gs.prototype.interfaces_=function(){return[Do]},Gs.prototype.getClass=function(){return Gs};var ba=function(){this._nodeMap=new En,this.edge=null;var e=arguments[0];this.edge=e};ba.prototype.print=function(e){e.println("Intersections:");for(var i=this.iterator();i.hasNext();)i.next().print(e)},ba.prototype.iterator=function(){return this._nodeMap.values().iterator()},ba.prototype.addSplitEdges=function(e){this.addEndpoints();for(var i=this.iterator(),s=i.next();i.hasNext();){var a=i.next(),c=this.createSplitEdge(s,a);e.add(c),s=a}},ba.prototype.addEndpoints=function(){var e=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[e],e,0)},ba.prototype.createSplitEdge=function(e,i){var s=i.segmentIndex-e.segmentIndex+2,a=this.edge.pts[i.segmentIndex],c=i.dist>0||!i.coord.equals2D(a);c||s--;var h=new Array(s).fill(null),g=0;h[g++]=new Pt(e.coord);for(var y=e.segmentIndex+1;y<=i.segmentIndex;y++)h[g++]=this.edge.pts[y];return c&&(h[g]=i.coord),new w0(h,new ri(this.edge._label))},ba.prototype.add=function(e,i,s){var a=new Gs(e,i,s),c=this._nodeMap.get(a);return c!==null?c:(this._nodeMap.put(a,a),a)},ba.prototype.isIntersection=function(e){for(var i=this.iterator();i.hasNext();)if(i.next().coord.equals(e))return!0;return!1},ba.prototype.interfaces_=function(){return[]},ba.prototype.getClass=function(){return ba};var Uc=function(){};Uc.prototype.getChainStartIndices=function(e){var i=0,s=new ce;s.add(new Rs(i));do{var a=this.findChainEnd(e,i);s.add(new Rs(a)),i=a}while(i<e.length-1);return Uc.toIntArray(s)},Uc.prototype.findChainEnd=function(e,i){for(var s=ni.quadrant(e[i],e[i+1]),a=i+1;a<e.length&&ni.quadrant(e[a-1],e[a])===s;)a++;return a-1},Uc.prototype.interfaces_=function(){return[]},Uc.prototype.getClass=function(){return Uc},Uc.toIntArray=function(e){for(var i=new Array(e.size()).fill(null),s=0;s<i.length;s++)i[s]=e.get(s).intValue();return i};var $a=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new Re,this.env2=new Re;var e=arguments[0];this.e=e,this.pts=e.getCoordinates();var i=new Uc;this.startIndex=i.getChainStartIndices(this.pts)};$a.prototype.getCoordinates=function(){return this.pts},$a.prototype.getMaxX=function(e){var i=this.pts[this.startIndex[e]].x,s=this.pts[this.startIndex[e+1]].x;return i>s?i:s},$a.prototype.getMinX=function(e){var i=this.pts[this.startIndex[e]].x,s=this.pts[this.startIndex[e+1]].x;return i<s?i:s},$a.prototype.computeIntersectsForChain=function(){if(arguments.length===4){var e=arguments[0],i=arguments[1],s=arguments[2],a=arguments[3];this.computeIntersectsForChain(this.startIndex[e],this.startIndex[e+1],i,i.startIndex[s],i.startIndex[s+1],a)}else if(arguments.length===6){var c=arguments[0],h=arguments[1],g=arguments[2],y=arguments[3],w=arguments[4],x=arguments[5],T=this.pts[c],E=this.pts[h],P=g.pts[y],z=g.pts[w];if(h-c==1&&w-y==1)return x.addIntersections(this.e,c,g.e,y),null;if(this.env1.init(T,E),this.env2.init(P,z),!this.env1.intersects(this.env2))return null;var N=Math.trunc((c+h)/2),B=Math.trunc((y+w)/2);c<N&&(y<B&&this.computeIntersectsForChain(c,N,g,y,B,x),B<w&&this.computeIntersectsForChain(c,N,g,B,w,x)),N<h&&(y<B&&this.computeIntersectsForChain(N,h,g,y,B,x),B<w&&this.computeIntersectsForChain(N,h,g,B,w,x))}},$a.prototype.getStartIndexes=function(){return this.startIndex},$a.prototype.computeIntersects=function(e,i){for(var s=0;s<this.startIndex.length-1;s++)for(var a=0;a<e.startIndex.length-1;a++)this.computeIntersectsForChain(s,e,a,i)},$a.prototype.interfaces_=function(){return[]},$a.prototype.getClass=function(){return $a};var fn=function e(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var i=0;i<2;i++)for(var s=0;s<3;s++)this._depth[i][s]=e.NULL_VALUE},Bk={NULL_VALUE:{configurable:!0}};fn.prototype.getDepth=function(e,i){return this._depth[e][i]},fn.prototype.setDepth=function(e,i,s){this._depth[e][i]=s},fn.prototype.isNull=function(){var e=this;if(arguments.length===0){for(var i=0;i<2;i++)for(var s=0;s<3;s++)if(e._depth[i][s]!==fn.NULL_VALUE)return!1;return!0}if(arguments.length===1){var a=arguments[0];return this._depth[a][1]===fn.NULL_VALUE}if(arguments.length===2){var c=arguments[0],h=arguments[1];return this._depth[c][h]===fn.NULL_VALUE}},fn.prototype.normalize=function(){for(var e=this,i=0;i<2;i++)if(!e.isNull(i)){var s=e._depth[i][1];e._depth[i][2]<s&&(s=e._depth[i][2]),s<0&&(s=0);for(var a=1;a<3;a++){var c=0;e._depth[i][a]>s&&(c=1),e._depth[i][a]=c}}},fn.prototype.getDelta=function(e){return this._depth[e][oe.RIGHT]-this._depth[e][oe.LEFT]},fn.prototype.getLocation=function(e,i){return this._depth[e][i]<=0?Nt.EXTERIOR:Nt.INTERIOR},fn.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},fn.prototype.add=function(){var e=this;if(arguments.length===1)for(var i=arguments[0],s=0;s<2;s++)for(var a=1;a<3;a++){var c=i.getLocation(s,a);c!==Nt.EXTERIOR&&c!==Nt.INTERIOR||(e.isNull(s,a)?e._depth[s][a]=fn.depthAtLocation(c):e._depth[s][a]+=fn.depthAtLocation(c))}else if(arguments.length===3){var h=arguments[0],g=arguments[1],y=arguments[2];y===Nt.INTERIOR&&this._depth[h][g]++}},fn.prototype.interfaces_=function(){return[]},fn.prototype.getClass=function(){return fn},fn.depthAtLocation=function(e){return e===Nt.EXTERIOR?0:e===Nt.INTERIOR?1:fn.NULL_VALUE},Bk.NULL_VALUE.get=function(){return-1},Object.defineProperties(fn,Bk);var w0=function(e){function i(){if(e.call(this),this.pts=null,this._env=null,this.eiList=new ba(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new fn,this._depthDelta=0,arguments.length===1){var s=arguments[0];i.call(this,s,null)}else if(arguments.length===2){var a=arguments[0],c=arguments[1];this.pts=a,this._label=c}}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getDepth=function(){return this._depth},i.prototype.getCollapsedEdge=function(){var s=new Array(2).fill(null);return s[0]=this.pts[0],s[1]=this.pts[1],new i(s,ri.toLineLabel(this._label))},i.prototype.isIsolated=function(){return this._isIsolated},i.prototype.getCoordinates=function(){return this.pts},i.prototype.setIsolated=function(s){this._isIsolated=s},i.prototype.setName=function(s){this._name=s},i.prototype.equals=function(s){if(!(s instanceof i))return!1;var a=s;if(this.pts.length!==a.pts.length)return!1;for(var c=!0,h=!0,g=this.pts.length,y=0;y<this.pts.length;y++)if(this.pts[y].equals2D(a.pts[y])||(c=!1),this.pts[y].equals2D(a.pts[--g])||(h=!1),!c&&!h)return!1;return!0},i.prototype.getCoordinate=function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var s=arguments[0];return this.pts[s]}},i.prototype.print=function(s){s.print("edge "+this._name+": "),s.print("LINESTRING (");for(var a=0;a<this.pts.length;a++)a>0&&s.print(","),s.print(this.pts[a].x+" "+this.pts[a].y);s.print(")  "+this._label+" "+this._depthDelta)},i.prototype.computeIM=function(s){i.updateIM(this._label,s)},i.prototype.isCollapsed=function(){return!!this._label.isArea()&&this.pts.length===3&&!!this.pts[0].equals(this.pts[2])},i.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},i.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},i.prototype.getDepthDelta=function(){return this._depthDelta},i.prototype.getNumPoints=function(){return this.pts.length},i.prototype.printReverse=function(s){s.print("edge "+this._name+": ");for(var a=this.pts.length-1;a>=0;a--)s.print(this.pts[a]+" ");s.println("")},i.prototype.getMonotoneChainEdge=function(){return this._mce===null&&(this._mce=new $a(this)),this._mce},i.prototype.getEnvelope=function(){if(this._env===null){this._env=new Re;for(var s=0;s<this.pts.length;s++)this._env.expandToInclude(this.pts[s])}return this._env},i.prototype.addIntersection=function(s,a,c,h){var g=new Pt(s.getIntersection(h)),y=a,w=s.getEdgeDistance(c,h),x=y+1;if(x<this.pts.length){var T=this.pts[x];g.equals2D(T)&&(y=x,w=0)}this.eiList.add(g,y,w)},i.prototype.toString=function(){var s=new Ls;s.append("edge "+this._name+": "),s.append("LINESTRING (");for(var a=0;a<this.pts.length;a++)a>0&&s.append(","),s.append(this.pts[a].x+" "+this.pts[a].y);return s.append(")  "+this._label+" "+this._depthDelta),s.toString()},i.prototype.isPointwiseEqual=function(s){if(this.pts.length!==s.pts.length)return!1;for(var a=0;a<this.pts.length;a++)if(!this.pts[a].equals2D(s.pts[a]))return!1;return!0},i.prototype.setDepthDelta=function(s){this._depthDelta=s},i.prototype.getEdgeIntersectionList=function(){return this.eiList},i.prototype.addIntersections=function(s,a,c){for(var h=0;h<s.getIntersectionNum();h++)this.addIntersection(s,a,c,h)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i.updateIM=function(){if(arguments.length!==2)return e.prototype.updateIM.apply(this,arguments);var s=arguments[0],a=arguments[1];a.setAtLeastIfValid(s.getLocation(0,oe.ON),s.getLocation(1,oe.ON),1),s.isArea()&&(a.setAtLeastIfValid(s.getLocation(0,oe.LEFT),s.getLocation(1,oe.LEFT),2),a.setAtLeastIfValid(s.getLocation(0,oe.RIGHT),s.getLocation(1,oe.RIGHT),2))},i}(ko),Dn=function(e){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new gs,this._bufParams=e||null};Dn.prototype.setWorkingPrecisionModel=function(e){this._workingPrecisionModel=e},Dn.prototype.insertUniqueEdge=function(e){var i=this._edgeList.findEqualEdge(e);if(i!==null){var s=i.getLabel(),a=e.getLabel();i.isPointwiseEqual(e)||(a=new ri(e.getLabel())).flip(),s.merge(a);var c=Dn.depthDelta(a),h=i.getDepthDelta()+c;i.setDepthDelta(h)}else this._edgeList.add(e),e.setDepthDelta(Dn.depthDelta(e.getLabel()))},Dn.prototype.buildSubgraphs=function(e,i){for(var s=new ce,a=e.iterator();a.hasNext();){var c=a.next(),h=c.getRightmostCoordinate(),g=new eh(s).getDepth(h);c.computeDepth(g),c.findResultEdges(),s.add(c),i.add(c.getDirectedEdges(),c.getNodes())}},Dn.prototype.createSubgraphs=function(e){for(var i=new ce,s=e.getNodes().iterator();s.hasNext();){var a=s.next();if(!a.isVisited()){var c=new zn;c.create(a),i.add(c)}}return fs.sort(i,fs.reverseOrder()),i},Dn.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},Dn.prototype.getNoder=function(e){if(this._workingNoder!==null)return this._workingNoder;var i=new Zb,s=new Nc;return s.setPrecisionModel(e),i.setSegmentIntersector(new So(s)),i},Dn.prototype.buffer=function(e,i){var s=this._workingPrecisionModel;s===null&&(s=e.getPrecisionModel()),this._geomFact=e.getFactory();var a=new Kn(s,this._bufParams),c=new Go(e,i,a).getCurves();if(c.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(c,s),this._graph=new Ti(new Fk),this._graph.addEdges(this._edgeList.getEdges());var h=this.createSubgraphs(this._graph),g=new oo(this._geomFact);this.buildSubgraphs(h,g);var y=g.getPolygons();return y.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(y)},Dn.prototype.computeNodedEdges=function(e,i){var s=this.getNoder(i);s.computeNodes(e);for(var a=s.getNodedSubstrings().iterator();a.hasNext();){var c=a.next(),h=c.getCoordinates();if(h.length!==2||!h[0].equals2D(h[1])){var g=c.getData(),y=new w0(c.getCoordinates(),new ri(g));this.insertUniqueEdge(y)}}},Dn.prototype.setNoder=function(e){this._workingNoder=e},Dn.prototype.interfaces_=function(){return[]},Dn.prototype.getClass=function(){return Dn},Dn.depthDelta=function(e){var i=e.getLocation(0,oe.LEFT),s=e.getLocation(0,oe.RIGHT);return i===Nt.INTERIOR&&s===Nt.EXTERIOR?1:i===Nt.EXTERIOR&&s===Nt.INTERIOR?-1:0},Dn.convertSegStrings=function(e){for(var i=new lr,s=new ce;e.hasNext();){var a=e.next(),c=i.createLineString(a.getCoordinates());s.add(c)}return i.buildGeometry(s)};var Ul=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var e=arguments[0],i=arguments[1];this._noder=e,this._scaleFactor=i,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(arguments.length===4){var s=arguments[0],a=arguments[1],c=arguments[2],h=arguments[3];this._noder=s,this._scaleFactor=a,this._offsetX=c,this._offsetY=h,this._isScaled=!this.isIntegerPrecision()}};Ul.prototype.rescale=function(){var e=this;if(Ue(arguments[0],Ui))for(var i=arguments[0],s=i.iterator();s.hasNext();){var a=s.next();e.rescale(a.getCoordinates())}else if(arguments[0]instanceof Array){for(var c=arguments[0],h=0;h<c.length;h++)c[h].x=c[h].x/e._scaleFactor+e._offsetX,c[h].y=c[h].y/e._scaleFactor+e._offsetY;c.length===2&&c[0].equals2D(c[1])&&pn.out.println(c)}},Ul.prototype.scale=function(){var e=this;if(Ue(arguments[0],Ui)){for(var i=arguments[0],s=new ce,a=i.iterator();a.hasNext();){var c=a.next();s.add(new Li(e.scale(c.getCoordinates()),c.getData()))}return s}if(arguments[0]instanceof Array){for(var h=arguments[0],g=new Array(h.length).fill(null),y=0;y<h.length;y++)g[y]=new Pt(Math.round((h[y].x-e._offsetX)*e._scaleFactor),Math.round((h[y].y-e._offsetY)*e._scaleFactor),h[y].z);var w=ar.removeRepeatedPoints(g);return w}},Ul.prototype.isIntegerPrecision=function(){return this._scaleFactor===1},Ul.prototype.getNodedSubstrings=function(){var e=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(e),e},Ul.prototype.computeNodes=function(e){var i=e;this._isScaled&&(i=this.scale(e)),this._noder.computeNodes(i)},Ul.prototype.interfaces_=function(){return[Bc]},Ul.prototype.getClass=function(){return Ul};var qs=function(){this._li=new Nc,this._segStrings=null;var e=arguments[0];this._segStrings=e},jk={fact:{configurable:!0}};qs.prototype.checkEndPtVertexIntersections=function(){var e=this;if(arguments.length===0)for(var i=this._segStrings.iterator();i.hasNext();){var s=i.next(),a=s.getCoordinates();e.checkEndPtVertexIntersections(a[0],e._segStrings),e.checkEndPtVertexIntersections(a[a.length-1],e._segStrings)}else if(arguments.length===2){for(var c=arguments[0],h=arguments[1],g=h.iterator();g.hasNext();)for(var y=g.next(),w=y.getCoordinates(),x=1;x<w.length-1;x++)if(w[x].equals(c))throw new Va("found endpt/interior pt intersection at index "+x+" :pt "+c)}},qs.prototype.checkInteriorIntersections=function(){var e=this;if(arguments.length===0)for(var i=this._segStrings.iterator();i.hasNext();)for(var s=i.next(),a=this._segStrings.iterator();a.hasNext();){var c=a.next();e.checkInteriorIntersections(s,c)}else if(arguments.length===2)for(var h=arguments[0],g=arguments[1],y=h.getCoordinates(),w=g.getCoordinates(),x=0;x<y.length-1;x++)for(var T=0;T<w.length-1;T++)e.checkInteriorIntersections(h,x,g,T);else if(arguments.length===4){var E=arguments[0],P=arguments[1],z=arguments[2],N=arguments[3];if(E===z&&P===N)return null;var B=E.getCoordinates()[P],A=E.getCoordinates()[P+1],Y=z.getCoordinates()[N],it=z.getCoordinates()[N+1];if(this._li.computeIntersection(B,A,Y,it),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,B,A)||this.hasInteriorIntersection(this._li,Y,it)))throw new Va("found non-noded intersection at "+B+"-"+A+" and "+Y+"-"+it)}},qs.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},qs.prototype.checkCollapses=function(){var e=this;if(arguments.length===0)for(var i=this._segStrings.iterator();i.hasNext();){var s=i.next();e.checkCollapses(s)}else if(arguments.length===1)for(var a=arguments[0],c=a.getCoordinates(),h=0;h<c.length-2;h++)e.checkCollapse(c[h],c[h+1],c[h+2])},qs.prototype.hasInteriorIntersection=function(e,i,s){for(var a=0;a<e.getIntersectionNum();a++){var c=e.getIntersection(a);if(!c.equals(i)&&!c.equals(s))return!0}return!1},qs.prototype.checkCollapse=function(e,i,s){if(e.equals(s))throw new Va("found non-noded collapse at "+qs.fact.createLineString([e,i,s]))},qs.prototype.interfaces_=function(){return[]},qs.prototype.getClass=function(){return qs},jk.fact.get=function(){return new lr},Object.defineProperties(qs,jk);var Jn=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var e=arguments[0],i=arguments[1],s=arguments[2];if(this._originalPt=e,this._pt=e,this._scaleFactor=i,this._li=s,i<=0)throw new xi("Scale factor must be non-zero");i!==1&&(this._pt=new Pt(this.scale(e.x),this.scale(e.y)),this._p0Scaled=new Pt,this._p1Scaled=new Pt),this.initCorners(this._pt)},Hk={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};Jn.prototype.intersectsScaled=function(e,i){var s=Math.min(e.x,i.x),a=Math.max(e.x,i.x),c=Math.min(e.y,i.y),h=Math.max(e.y,i.y),g=this._maxx<s||this._minx>a||this._maxy<c||this._miny>h;if(g)return!1;var y=this.intersectsToleranceSquare(e,i);return $e.isTrue(!(g&&y),"Found bad envelope test"),y},Jn.prototype.initCorners=function(e){var i=.5;this._minx=e.x-i,this._maxx=e.x+i,this._miny=e.y-i,this._maxy=e.y+i,this._corner[0]=new Pt(this._maxx,this._maxy),this._corner[1]=new Pt(this._minx,this._maxy),this._corner[2]=new Pt(this._minx,this._miny),this._corner[3]=new Pt(this._maxx,this._miny)},Jn.prototype.intersects=function(e,i){return this._scaleFactor===1?this.intersectsScaled(e,i):(this.copyScaled(e,this._p0Scaled),this.copyScaled(i,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},Jn.prototype.scale=function(e){return Math.round(e*this._scaleFactor)},Jn.prototype.getCoordinate=function(){return this._originalPt},Jn.prototype.copyScaled=function(e,i){i.x=this.scale(e.x),i.y=this.scale(e.y)},Jn.prototype.getSafeEnvelope=function(){if(this._safeEnv===null){var e=Jn.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Re(this._originalPt.x-e,this._originalPt.x+e,this._originalPt.y-e,this._originalPt.y+e)}return this._safeEnv},Jn.prototype.intersectsPixelClosure=function(e,i){return this._li.computeIntersection(e,i,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,i,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,i,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,i,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))},Jn.prototype.intersectsToleranceSquare=function(e,i){var s=!1,a=!1;return this._li.computeIntersection(e,i,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(e,i,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(s=!0),this._li.computeIntersection(e,i,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(a=!0),this._li.computeIntersection(e,i,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!s||!a)||!!e.equals(this._pt)||!!i.equals(this._pt))))},Jn.prototype.addSnappedNode=function(e,i){var s=e.getCoordinate(i),a=e.getCoordinate(i+1);return!!this.intersects(s,a)&&(e.addIntersection(this.getCoordinate(),i),!0)},Jn.prototype.interfaces_=function(){return[]},Jn.prototype.getClass=function(){return Jn},Hk.SAFE_ENV_EXPANSION_FACTOR.get=function(){return .75},Object.defineProperties(Jn,Hk);var Ff=function(){this.tempEnv1=new Re,this.selectedSegment=new Ae};Ff.prototype.select=function(){if(arguments.length!==1){if(arguments.length===2){var e=arguments[0],i=arguments[1];e.getLineSegment(i,this.selectedSegment),this.select(this.selectedSegment)}}},Ff.prototype.interfaces_=function(){return[]},Ff.prototype.getClass=function(){return Ff};var Id=function(){this._index=null;var e=arguments[0];this._index=e},Uk={HotPixelSnapAction:{configurable:!0}};Id.prototype.snap=function(){if(arguments.length===1){var e=arguments[0];return this.snap(e,null,-1)}if(arguments.length===3){var i=arguments[0],s=arguments[1],a=arguments[2],c=i.getSafeEnvelope(),h=new Gk(i,s,a);return this._index.query(c,{interfaces_:function(){return[Bl]},visitItem:function(g){g.select(c,h)}}),h.isNodeAdded()}},Id.prototype.interfaces_=function(){return[]},Id.prototype.getClass=function(){return Id},Uk.HotPixelSnapAction.get=function(){return Gk},Object.defineProperties(Id,Uk);var Gk=function(e){function i(){e.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var s=arguments[0],a=arguments[1],c=arguments[2];this._hotPixel=s,this._parentEdge=a,this._hotPixelVertexIndex=c}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.isNodeAdded=function(){return this._isNodeAdded},i.prototype.select=function(){if(arguments.length!==2)return e.prototype.select.apply(this,arguments);var s=arguments[0],a=arguments[1],c=s.getContext();if(this._parentEdge!==null&&c===this._parentEdge&&a===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(c,a)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(Ff),rh=function(){this._li=null,this._interiorIntersections=null;var e=arguments[0];this._li=e,this._interiorIntersections=new ce};rh.prototype.processIntersections=function(e,i,s,a){if(e===s&&i===a)return null;var c=e.getCoordinates()[i],h=e.getCoordinates()[i+1],g=s.getCoordinates()[a],y=s.getCoordinates()[a+1];if(this._li.computeIntersection(c,h,g,y),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var w=0;w<this._li.getIntersectionNum();w++)this._interiorIntersections.add(this._li.getIntersection(w));e.addIntersections(this._li,i,0),s.addIntersections(this._li,a,1)}},rh.prototype.isDone=function(){return!1},rh.prototype.getInteriorIntersections=function(){return this._interiorIntersections},rh.prototype.interfaces_=function(){return[Hc]},rh.prototype.getClass=function(){return rh};var wa=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var e=arguments[0];this._pm=e,this._li=new Nc,this._li.setPrecisionModel(e),this._scaleFactor=e.getScale()};wa.prototype.checkCorrectness=function(e){var i=Li.getNodedSubstrings(e),s=new qs(i);try{s.checkValid()}catch(a){if(!(a instanceof _k))throw a;a.printStackTrace()}},wa.prototype.getNodedSubstrings=function(){return Li.getNodedSubstrings(this._nodedSegStrings)},wa.prototype.snapRound=function(e,i){var s=this.findInteriorIntersections(e,i);this.computeIntersectionSnaps(s),this.computeVertexSnaps(e)},wa.prototype.findInteriorIntersections=function(e,i){var s=new rh(i);return this._noder.setSegmentIntersector(s),this._noder.computeNodes(e),s.getInteriorIntersections()},wa.prototype.computeVertexSnaps=function(){var e=this;if(Ue(arguments[0],Ui))for(var i=arguments[0],s=i.iterator();s.hasNext();){var a=s.next();e.computeVertexSnaps(a)}else if(arguments[0]instanceof Li)for(var c=arguments[0],h=c.getCoordinates(),g=0;g<h.length;g++){var y=new Jn(h[g],e._scaleFactor,e._li),w=e._pointSnapper.snap(y,c,g);w&&c.addIntersection(h[g],g)}},wa.prototype.computeNodes=function(e){this._nodedSegStrings=e,this._noder=new Zb,this._pointSnapper=new Id(this._noder.getIndex()),this.snapRound(e,this._li)},wa.prototype.computeIntersectionSnaps=function(e){for(var i=this,s=e.iterator();s.hasNext();){var a=s.next(),c=new Jn(a,i._scaleFactor,i._li);i._pointSnapper.snap(c)}},wa.prototype.interfaces_=function(){return[Bc]},wa.prototype.getClass=function(){return wa};var gn=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Jr,this._resultGeometry=null,this._saveException=null,arguments.length===1){var e=arguments[0];this._argGeom=e}else if(arguments.length===2){var i=arguments[0],s=arguments[1];this._argGeom=i,this._bufParams=s}},Ld={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};gn.prototype.bufferFixedPrecision=function(e){var i=new Ul(new wa(new Kr(1)),e.getScale()),s=new Dn(this._bufParams);s.setWorkingPrecisionModel(e),s.setNoder(i),this._resultGeometry=s.buffer(this._argGeom,this._distance)},gn.prototype.bufferReducedPrecision=function(){var e=this;if(arguments.length===0){for(var i=gn.MAX_PRECISION_DIGITS;i>=0;i--){try{e.bufferReducedPrecision(i)}catch(h){if(!(h instanceof Ka))throw h;e._saveException=h}if(e._resultGeometry!==null)return null}throw this._saveException}if(arguments.length===1){var s=arguments[0],a=gn.precisionScaleFactor(this._argGeom,this._distance,s),c=new Kr(a);this.bufferFixedPrecision(c)}},gn.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var e=this._argGeom.getFactory().getPrecisionModel();e.getType()===Kr.FIXED?this.bufferFixedPrecision(e):this.bufferReducedPrecision()},gn.prototype.setQuadrantSegments=function(e){this._bufParams.setQuadrantSegments(e)},gn.prototype.bufferOriginalPrecision=function(){try{var e=new Dn(this._bufParams);this._resultGeometry=e.buffer(this._argGeom,this._distance)}catch(i){if(!(i instanceof Va))throw i;this._saveException=i}},gn.prototype.getResultGeometry=function(e){return this._distance=e,this.computeGeometry(),this._resultGeometry},gn.prototype.setEndCapStyle=function(e){this._bufParams.setEndCapStyle(e)},gn.prototype.interfaces_=function(){return[]},gn.prototype.getClass=function(){return gn},gn.bufferOp=function(){if(arguments.length===2){var e=arguments[0],i=arguments[1],s=new gn(e),a=s.getResultGeometry(i);return a}if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof je&&typeof arguments[1]=="number"){var c=arguments[0],h=arguments[1],g=arguments[2],y=new gn(c);y.setQuadrantSegments(g);var w=y.getResultGeometry(h);return w}if(arguments[2]instanceof Jr&&arguments[0]instanceof je&&typeof arguments[1]=="number"){var x=arguments[0],T=arguments[1],E=arguments[2],P=new gn(x,E),z=P.getResultGeometry(T);return z}}else if(arguments.length===4){var N=arguments[0],B=arguments[1],A=arguments[2],Y=arguments[3],it=new gn(N);it.setQuadrantSegments(A),it.setEndCapStyle(Y);var D=it.getResultGeometry(B);return D}},gn.precisionScaleFactor=function(e,i,s){var a=e.getEnvelopeInternal(),c=_o.max(Math.abs(a.getMaxX()),Math.abs(a.getMaxY()),Math.abs(a.getMinX()),Math.abs(a.getMinY()))+2*(i>0?i:0),h=s-Math.trunc(Math.log(c)/Math.log(10)+1);return Math.pow(10,h)},Ld.CAP_ROUND.get=function(){return Jr.CAP_ROUND},Ld.CAP_BUTT.get=function(){return Jr.CAP_FLAT},Ld.CAP_FLAT.get=function(){return Jr.CAP_FLAT},Ld.CAP_SQUARE.get=function(){return Jr.CAP_SQUARE},Ld.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(gn,Ld);var Fn=function(){this._pt=[new Pt,new Pt],this._distance=Ke.NaN,this._isNull=!0};Fn.prototype.getCoordinates=function(){return this._pt},Fn.prototype.getCoordinate=function(e){return this._pt[e]},Fn.prototype.setMinimum=function(){if(arguments.length===1){var e=arguments[0];this.setMinimum(e._pt[0],e._pt[1])}else if(arguments.length===2){var i=arguments[0],s=arguments[1];if(this._isNull)return this.initialize(i,s),null;var a=i.distance(s);a<this._distance&&this.initialize(i,s,a)}},Fn.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var e=arguments[0],i=arguments[1];this._pt[0].setCoordinate(e),this._pt[1].setCoordinate(i),this._distance=e.distance(i),this._isNull=!1}else if(arguments.length===3){var s=arguments[0],a=arguments[1],c=arguments[2];this._pt[0].setCoordinate(s),this._pt[1].setCoordinate(a),this._distance=c,this._isNull=!1}},Fn.prototype.getDistance=function(){return this._distance},Fn.prototype.setMaximum=function(){if(arguments.length===1){var e=arguments[0];this.setMaximum(e._pt[0],e._pt[1])}else if(arguments.length===2){var i=arguments[0],s=arguments[1];if(this._isNull)return this.initialize(i,s),null;var a=i.distance(s);a>this._distance&&this.initialize(i,s,a)}},Fn.prototype.interfaces_=function(){return[]},Fn.prototype.getClass=function(){return Fn};var xa=function(){};xa.prototype.interfaces_=function(){return[]},xa.prototype.getClass=function(){return xa},xa.computeDistance=function(){if(arguments[2]instanceof Fn&&arguments[0]instanceof Ci&&arguments[1]instanceof Pt)for(var e=arguments[0],i=arguments[1],s=arguments[2],a=e.getCoordinates(),c=new Ae,h=0;h<a.length-1;h++){c.setCoordinates(a[h],a[h+1]);var g=c.closestPoint(i);s.setMinimum(g,i)}else if(arguments[2]instanceof Fn&&arguments[0]instanceof Gi&&arguments[1]instanceof Pt){var y=arguments[0],w=arguments[1],x=arguments[2];xa.computeDistance(y.getExteriorRing(),w,x);for(var T=0;T<y.getNumInteriorRing();T++)xa.computeDistance(y.getInteriorRingN(T),w,x)}else if(arguments[2]instanceof Fn&&arguments[0]instanceof je&&arguments[1]instanceof Pt){var E=arguments[0],P=arguments[1],z=arguments[2];if(E instanceof Ci)xa.computeDistance(E,P,z);else if(E instanceof Gi)xa.computeDistance(E,P,z);else if(E instanceof On)for(var N=E,B=0;B<N.getNumGeometries();B++){var A=N.getGeometryN(B);xa.computeDistance(A,P,z)}else z.setMinimum(E.getCoordinate(),P)}else if(arguments[2]instanceof Fn&&arguments[0]instanceof Ae&&arguments[1]instanceof Pt){var Y=arguments[0],it=arguments[1],D=arguments[2],W=Y.closestPoint(it);D.setMinimum(W,it)}};var Gc=function(e){this._maxPtDist=new Fn,this._inputGeom=e||null},Yb={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};Gc.prototype.computeMaxMidpointDistance=function(e){var i=new Gl(this._inputGeom);e.apply(i),this._maxPtDist.setMaximum(i.getMaxPointDistance())},Gc.prototype.computeMaxVertexDistance=function(e){var i=new ih(this._inputGeom);e.apply(i),this._maxPtDist.setMaximum(i.getMaxPointDistance())},Gc.prototype.findDistance=function(e){return this.computeMaxVertexDistance(e),this.computeMaxMidpointDistance(e),this._maxPtDist.getDistance()},Gc.prototype.getDistancePoints=function(){return this._maxPtDist},Gc.prototype.interfaces_=function(){return[]},Gc.prototype.getClass=function(){return Gc},Yb.MaxPointDistanceFilter.get=function(){return ih},Yb.MaxMidpointDistanceFilter.get=function(){return Gl},Object.defineProperties(Gc,Yb);var ih=function(e){this._maxPtDist=new Fn,this._minPtDist=new Fn,this._geom=e||null};ih.prototype.filter=function(e){this._minPtDist.initialize(),xa.computeDistance(this._geom,e,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},ih.prototype.getMaxPointDistance=function(){return this._maxPtDist},ih.prototype.interfaces_=function(){return[pa]},ih.prototype.getClass=function(){return ih};var Gl=function(e){this._maxPtDist=new Fn,this._minPtDist=new Fn,this._geom=e||null};Gl.prototype.filter=function(e,i){if(i===0)return null;var s=e.getCoordinate(i-1),a=e.getCoordinate(i),c=new Pt((s.x+a.x)/2,(s.y+a.y)/2);this._minPtDist.initialize(),xa.computeDistance(this._geom,c,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Gl.prototype.isDone=function(){return!1},Gl.prototype.isGeometryChanged=function(){return!1},Gl.prototype.getMaxPointDistance=function(){return this._maxPtDist},Gl.prototype.interfaces_=function(){return[ds]},Gl.prototype.getClass=function(){return Gl};var tl=function(e){this._comps=e||null};tl.prototype.filter=function(e){e instanceof Gi&&this._comps.add(e)},tl.prototype.interfaces_=function(){return[Ns]},tl.prototype.getClass=function(){return tl},tl.getPolygons=function(){if(arguments.length===1){var e=arguments[0];return tl.getPolygons(e,new ce)}if(arguments.length===2){var i=arguments[0],s=arguments[1];return i instanceof Gi?s.add(i):i instanceof On&&i.apply(new tl(s)),s}};var mn=function(){if(this._lines=null,this._isForcedToLineString=!1,arguments.length===1){var e=arguments[0];this._lines=e}else if(arguments.length===2){var i=arguments[0],s=arguments[1];this._lines=i,this._isForcedToLineString=s}};mn.prototype.filter=function(e){if(this._isForcedToLineString&&e instanceof fa){var i=e.getFactory().createLineString(e.getCoordinateSequence());return this._lines.add(i),null}e instanceof Ci&&this._lines.add(e)},mn.prototype.setForceToLineString=function(e){this._isForcedToLineString=e},mn.prototype.interfaces_=function(){return[Wa]},mn.prototype.getClass=function(){return mn},mn.getGeometry=function(){if(arguments.length===1){var e=arguments[0];return e.getFactory().buildGeometry(mn.getLines(e))}if(arguments.length===2){var i=arguments[0],s=arguments[1];return i.getFactory().buildGeometry(mn.getLines(i,s))}},mn.getLines=function(){if(arguments.length===1){var e=arguments[0];return mn.getLines(e,!1)}if(arguments.length===2){if(Ue(arguments[0],Ui)&&Ue(arguments[1],Ui)){for(var i=arguments[0],s=arguments[1],a=i.iterator();a.hasNext();){var c=a.next();mn.getLines(c,s)}return s}if(arguments[0]instanceof je&&typeof arguments[1]=="boolean"){var h=arguments[0],g=arguments[1],y=new ce;return h.apply(new mn(y,g)),y}if(arguments[0]instanceof je&&Ue(arguments[1],Ui)){var w=arguments[0],x=arguments[1];return w instanceof Ci?x.add(w):w.apply(new mn(x)),x}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&Ue(arguments[0],Ui)&&Ue(arguments[1],Ui)){for(var T=arguments[0],E=arguments[1],P=arguments[2],z=T.iterator();z.hasNext();){var N=z.next();mn.getLines(N,E,P)}return E}if(typeof arguments[2]=="boolean"&&arguments[0]instanceof je&&Ue(arguments[1],Ui)){var B=arguments[0],A=arguments[1],Y=arguments[2];return B.apply(new mn(A,Y)),A}}};var ms=function(){if(this._boundaryRule=Bo.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,arguments.length!==0){if(arguments.length===1){var e=arguments[0];if(e===null)throw new xi("Rule must be non-null");this._boundaryRule=e}}};ms.prototype.locateInternal=function(){var e=this;if(arguments[0]instanceof Pt&&arguments[1]instanceof Gi){var i=arguments[0],s=arguments[1];if(s.isEmpty())return Nt.EXTERIOR;var a=s.getExteriorRing(),c=this.locateInPolygonRing(i,a);if(c===Nt.EXTERIOR)return Nt.EXTERIOR;if(c===Nt.BOUNDARY)return Nt.BOUNDARY;for(var h=0;h<s.getNumInteriorRing();h++){var g=s.getInteriorRingN(h),y=e.locateInPolygonRing(i,g);if(y===Nt.INTERIOR)return Nt.EXTERIOR;if(y===Nt.BOUNDARY)return Nt.BOUNDARY}return Nt.INTERIOR}if(arguments[0]instanceof Pt&&arguments[1]instanceof Ci){var w=arguments[0],x=arguments[1];if(!x.getEnvelopeInternal().intersects(w))return Nt.EXTERIOR;var T=x.getCoordinates();return x.isClosed()||!w.equals(T[0])&&!w.equals(T[T.length-1])?fe.isOnLine(w,T)?Nt.INTERIOR:Nt.EXTERIOR:Nt.BOUNDARY}if(arguments[0]instanceof Pt&&arguments[1]instanceof no){var E=arguments[0],P=arguments[1],z=P.getCoordinate();return z.equals2D(E)?Nt.INTERIOR:Nt.EXTERIOR}},ms.prototype.locateInPolygonRing=function(e,i){return i.getEnvelopeInternal().intersects(e)?fe.locatePointInRing(e,i.getCoordinates()):Nt.EXTERIOR},ms.prototype.intersects=function(e,i){return this.locate(e,i)!==Nt.EXTERIOR},ms.prototype.updateLocationInfo=function(e){e===Nt.INTERIOR&&(this._isIn=!0),e===Nt.BOUNDARY&&this._numBoundaries++},ms.prototype.computeLocation=function(e,i){var s=this;if(i instanceof no&&this.updateLocationInfo(this.locateInternal(e,i)),i instanceof Ci)this.updateLocationInfo(this.locateInternal(e,i));else if(i instanceof Gi)this.updateLocationInfo(this.locateInternal(e,i));else if(i instanceof Fc)for(var a=i,c=0;c<a.getNumGeometries();c++){var h=a.getGeometryN(c);s.updateLocationInfo(s.locateInternal(e,h))}else if(i instanceof ga)for(var g=i,y=0;y<g.getNumGeometries();y++){var w=g.getGeometryN(y);s.updateLocationInfo(s.locateInternal(e,w))}else if(i instanceof On)for(var x=new ya(i);x.hasNext();){var T=x.next();T!==i&&s.computeLocation(e,T)}},ms.prototype.locate=function(e,i){return i.isEmpty()?Nt.EXTERIOR:i instanceof Ci||i instanceof Gi?this.locateInternal(e,i):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(e,i),this._boundaryRule.isInBoundary(this._numBoundaries)?Nt.BOUNDARY:this._numBoundaries>0||this._isIn?Nt.INTERIOR:Nt.EXTERIOR)},ms.prototype.interfaces_=function(){return[]},ms.prototype.getClass=function(){return ms};var Bn=function e(){if(this._component=null,this._segIndex=null,this._pt=null,arguments.length===2){var i=arguments[0],s=arguments[1];e.call(this,i,e.INSIDE_AREA,s)}else if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2];this._component=a,this._segIndex=c,this._pt=h}},qk={INSIDE_AREA:{configurable:!0}};Bn.prototype.isInsideArea=function(){return this._segIndex===Bn.INSIDE_AREA},Bn.prototype.getCoordinate=function(){return this._pt},Bn.prototype.getGeometryComponent=function(){return this._component},Bn.prototype.getSegmentIndex=function(){return this._segIndex},Bn.prototype.interfaces_=function(){return[]},Bn.prototype.getClass=function(){return Bn},qk.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Bn,qk);var ql=function(e){this._pts=e||null};ql.prototype.filter=function(e){e instanceof no&&this._pts.add(e)},ql.prototype.interfaces_=function(){return[Ns]},ql.prototype.getClass=function(){return ql},ql.getPoints=function(){if(arguments.length===1){var e=arguments[0];return e instanceof no?fs.singletonList(e):ql.getPoints(e,new ce)}if(arguments.length===2){var i=arguments[0],s=arguments[1];return i instanceof no?s.add(i):i instanceof On&&i.apply(new ql(s)),s}};var nh=function(){this._locations=null;var e=arguments[0];this._locations=e};nh.prototype.filter=function(e){(e instanceof no||e instanceof Ci||e instanceof Gi)&&this._locations.add(new Bn(e,0,e.getCoordinate()))},nh.prototype.interfaces_=function(){return[Ns]},nh.prototype.getClass=function(){return nh},nh.getLocations=function(e){var i=new ce;return e.apply(new nh(i)),i};var vn=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new ms,this._minDistanceLocation=null,this._minDistance=Ke.MAX_VALUE,arguments.length===2){var e=arguments[0],i=arguments[1];this._geom=[e,i],this._terminateDistance=0}else if(arguments.length===3){var s=arguments[0],a=arguments[1],c=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=s,this._geom[1]=a,this._terminateDistance=c}};vn.prototype.computeContainmentDistance=function(){var e=this;if(arguments.length===0){var i=new Array(2).fill(null);if(this.computeContainmentDistance(0,i),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,i)}else if(arguments.length===2){var s=arguments[0],a=arguments[1],c=1-s,h=tl.getPolygons(this._geom[s]);if(h.size()>0){var g=nh.getLocations(this._geom[c]);if(this.computeContainmentDistance(g,h,a),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[c]=a[0],this._minDistanceLocation[s]=a[1],null}}else if(arguments.length===3){if(arguments[2]instanceof Array&&Ue(arguments[0],us)&&Ue(arguments[1],us)){for(var y=arguments[0],w=arguments[1],x=arguments[2],T=0;T<y.size();T++)for(var E=y.get(T),P=0;P<w.size();P++)if(e.computeContainmentDistance(E,w.get(P),x),e._minDistance<=e._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Bn&&arguments[1]instanceof Gi){var z=arguments[0],N=arguments[1],B=arguments[2],A=z.getCoordinate();if(Nt.EXTERIOR!==this._ptLocator.locate(A,N))return this._minDistance=0,B[0]=z,B[1]=new Bn(N,A),null}}},vn.prototype.computeMinDistanceLinesPoints=function(e,i,s){for(var a=this,c=0;c<e.size();c++)for(var h=e.get(c),g=0;g<i.size();g++){var y=i.get(g);if(a.computeMinDistance(h,y,s),a._minDistance<=a._terminateDistance)return null}},vn.prototype.computeFacetDistance=function(){var e=new Array(2).fill(null),i=mn.getLines(this._geom[0]),s=mn.getLines(this._geom[1]),a=ql.getPoints(this._geom[0]),c=ql.getPoints(this._geom[1]);return this.computeMinDistanceLines(i,s,e),this.updateMinDistance(e,!1),this._minDistance<=this._terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistanceLinesPoints(i,c,e),this.updateMinDistance(e,!1),this._minDistance<=this._terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistanceLinesPoints(s,a,e),this.updateMinDistance(e,!0),this._minDistance<=this._terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistancePoints(a,c,e),void this.updateMinDistance(e,!1))))},vn.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},vn.prototype.updateMinDistance=function(e,i){if(e[0]===null)return null;i?(this._minDistanceLocation[0]=e[1],this._minDistanceLocation[1]=e[0]):(this._minDistanceLocation[0]=e[0],this._minDistanceLocation[1]=e[1])},vn.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},vn.prototype.computeMinDistance=function(){var e=this;if(arguments.length===0){if(this._minDistanceLocation!==null||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance))return null;this.computeFacetDistance()}else if(arguments.length===3){if(arguments[2]instanceof Array&&arguments[0]instanceof Ci&&arguments[1]instanceof no){var i=arguments[0],s=arguments[1],a=arguments[2];if(i.getEnvelopeInternal().distance(s.getEnvelopeInternal())>this._minDistance)return null;for(var c=i.getCoordinates(),h=s.getCoordinate(),g=0;g<c.length-1;g++){var y=fe.distancePointLine(h,c[g],c[g+1]);if(y<e._minDistance){e._minDistance=y;var w=new Ae(c[g],c[g+1]),x=w.closestPoint(h);a[0]=new Bn(i,g,x),a[1]=new Bn(s,0,h)}if(e._minDistance<=e._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Ci&&arguments[1]instanceof Ci){var T=arguments[0],E=arguments[1],P=arguments[2];if(T.getEnvelopeInternal().distance(E.getEnvelopeInternal())>this._minDistance)return null;for(var z=T.getCoordinates(),N=E.getCoordinates(),B=0;B<z.length-1;B++)for(var A=0;A<N.length-1;A++){var Y=fe.distanceLineLine(z[B],z[B+1],N[A],N[A+1]);if(Y<e._minDistance){e._minDistance=Y;var it=new Ae(z[B],z[B+1]),D=new Ae(N[A],N[A+1]),W=it.closestPoints(D);P[0]=new Bn(T,B,W[0]),P[1]=new Bn(E,A,W[1])}if(e._minDistance<=e._terminateDistance)return null}}}},vn.prototype.computeMinDistancePoints=function(e,i,s){for(var a=this,c=0;c<e.size();c++)for(var h=e.get(c),g=0;g<i.size();g++){var y=i.get(g),w=h.getCoordinate().distance(y.getCoordinate());if(w<a._minDistance&&(a._minDistance=w,s[0]=new Bn(h,0,h.getCoordinate()),s[1]=new Bn(y,0,y.getCoordinate())),a._minDistance<=a._terminateDistance)return null}},vn.prototype.distance=function(){if(this._geom[0]===null||this._geom[1]===null)throw new xi("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},vn.prototype.computeMinDistanceLines=function(e,i,s){for(var a=this,c=0;c<e.size();c++)for(var h=e.get(c),g=0;g<i.size();g++){var y=i.get(g);if(a.computeMinDistance(h,y,s),a._minDistance<=a._terminateDistance)return null}},vn.prototype.interfaces_=function(){return[]},vn.prototype.getClass=function(){return vn},vn.distance=function(e,i){return new vn(e,i).distance()},vn.isWithinDistance=function(e,i,s){return new vn(e,i,s).distance()<=s},vn.nearestPoints=function(e,i){return new vn(e,i).nearestPoints()};var Cn=function(){this._pt=[new Pt,new Pt],this._distance=Ke.NaN,this._isNull=!0};Cn.prototype.getCoordinates=function(){return this._pt},Cn.prototype.getCoordinate=function(e){return this._pt[e]},Cn.prototype.setMinimum=function(){if(arguments.length===1){var e=arguments[0];this.setMinimum(e._pt[0],e._pt[1])}else if(arguments.length===2){var i=arguments[0],s=arguments[1];if(this._isNull)return this.initialize(i,s),null;var a=i.distance(s);a<this._distance&&this.initialize(i,s,a)}},Cn.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var e=arguments[0],i=arguments[1];this._pt[0].setCoordinate(e),this._pt[1].setCoordinate(i),this._distance=e.distance(i),this._isNull=!1}else if(arguments.length===3){var s=arguments[0],a=arguments[1],c=arguments[2];this._pt[0].setCoordinate(s),this._pt[1].setCoordinate(a),this._distance=c,this._isNull=!1}},Cn.prototype.toString=function(){return cs.toLineString(this._pt[0],this._pt[1])},Cn.prototype.getDistance=function(){return this._distance},Cn.prototype.setMaximum=function(){if(arguments.length===1){var e=arguments[0];this.setMaximum(e._pt[0],e._pt[1])}else if(arguments.length===2){var i=arguments[0],s=arguments[1];if(this._isNull)return this.initialize(i,s),null;var a=i.distance(s);a>this._distance&&this.initialize(i,s,a)}},Cn.prototype.interfaces_=function(){return[]},Cn.prototype.getClass=function(){return Cn};var Vs=function(){};Vs.prototype.interfaces_=function(){return[]},Vs.prototype.getClass=function(){return Vs},Vs.computeDistance=function(){if(arguments[2]instanceof Cn&&arguments[0]instanceof Ci&&arguments[1]instanceof Pt)for(var e=arguments[0],i=arguments[1],s=arguments[2],a=new Ae,c=e.getCoordinates(),h=0;h<c.length-1;h++){a.setCoordinates(c[h],c[h+1]);var g=a.closestPoint(i);s.setMinimum(g,i)}else if(arguments[2]instanceof Cn&&arguments[0]instanceof Gi&&arguments[1]instanceof Pt){var y=arguments[0],w=arguments[1],x=arguments[2];Vs.computeDistance(y.getExteriorRing(),w,x);for(var T=0;T<y.getNumInteriorRing();T++)Vs.computeDistance(y.getInteriorRingN(T),w,x)}else if(arguments[2]instanceof Cn&&arguments[0]instanceof je&&arguments[1]instanceof Pt){var E=arguments[0],P=arguments[1],z=arguments[2];if(E instanceof Ci)Vs.computeDistance(E,P,z);else if(E instanceof Gi)Vs.computeDistance(E,P,z);else if(E instanceof On)for(var N=E,B=0;B<N.getNumGeometries();B++){var A=N.getGeometryN(B);Vs.computeDistance(A,P,z)}else z.setMinimum(E.getCoordinate(),P)}else if(arguments[2]instanceof Cn&&arguments[0]instanceof Ae&&arguments[1]instanceof Pt){var Y=arguments[0],it=arguments[1],D=arguments[2],W=Y.closestPoint(it);D.setMinimum(W,it)}};var qo=function(){this._g0=null,this._g1=null,this._ptDist=new Cn,this._densifyFrac=0;var e=arguments[0],i=arguments[1];this._g0=e,this._g1=i},Xb={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};qo.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},qo.prototype.setDensifyFraction=function(e){if(e>1||e<=0)throw new xi("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=e},qo.prototype.compute=function(e,i){this.computeOrientedDistance(e,i,this._ptDist),this.computeOrientedDistance(i,e,this._ptDist)},qo.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},qo.prototype.computeOrientedDistance=function(e,i,s){var a=new oh(i);if(e.apply(a),s.setMaximum(a.getMaxPointDistance()),this._densifyFrac>0){var c=new Vl(i,this._densifyFrac);e.apply(c),s.setMaximum(c.getMaxPointDistance())}},qo.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},qo.prototype.interfaces_=function(){return[]},qo.prototype.getClass=function(){return qo},qo.distance=function(){if(arguments.length===2){var e=arguments[0],i=arguments[1],s=new qo(e,i);return s.distance()}if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2],g=new qo(a,c);return g.setDensifyFraction(h),g.distance()}},Xb.MaxPointDistanceFilter.get=function(){return oh},Xb.MaxDensifiedByFractionDistanceFilter.get=function(){return Vl},Object.defineProperties(qo,Xb);var oh=function(){this._maxPtDist=new Cn,this._minPtDist=new Cn,this._euclideanDist=new Vs,this._geom=null;var e=arguments[0];this._geom=e};oh.prototype.filter=function(e){this._minPtDist.initialize(),Vs.computeDistance(this._geom,e,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},oh.prototype.getMaxPointDistance=function(){return this._maxPtDist},oh.prototype.interfaces_=function(){return[pa]},oh.prototype.getClass=function(){return oh};var Vl=function(){this._maxPtDist=new Cn,this._minPtDist=new Cn,this._geom=null,this._numSubSegs=0;var e=arguments[0],i=arguments[1];this._geom=e,this._numSubSegs=Math.trunc(Math.round(1/i))};Vl.prototype.filter=function(e,i){var s=this;if(i===0)return null;for(var a=e.getCoordinate(i-1),c=e.getCoordinate(i),h=(c.x-a.x)/this._numSubSegs,g=(c.y-a.y)/this._numSubSegs,y=0;y<this._numSubSegs;y++){var w=a.x+y*h,x=a.y+y*g,T=new Pt(w,x);s._minPtDist.initialize(),Vs.computeDistance(s._geom,T,s._minPtDist),s._maxPtDist.setMaximum(s._minPtDist)}},Vl.prototype.isDone=function(){return!1},Vl.prototype.isGeometryChanged=function(){return!1},Vl.prototype.getMaxPointDistance=function(){return this._maxPtDist},Vl.prototype.interfaces_=function(){return[ds]},Vl.prototype.getClass=function(){return Vl};var ao=function(e,i,s){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=e||null,this._bufDistance=i||null,this._result=s||null},Kb={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};ao.prototype.checkMaximumDistance=function(e,i,s){var a=new qo(i,e);if(a.setDensifyFraction(.25),this._maxDistanceFound=a.orientedDistance(),this._maxDistanceFound>s){this._isValid=!1;var c=a.getCoordinates();this._errorLocation=c[1],this._errorIndicator=e.getFactory().createLineString(c),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+cs.toLineString(c[0],c[1])+")"}},ao.prototype.isValid=function(){var e=Math.abs(this._bufDistance),i=ao.MAX_DISTANCE_DIFF_FRAC*e;return this._minValidDistance=e-i,this._maxValidDistance=e+i,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),ao.VERBOSE&&pn.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},ao.prototype.checkNegativeValid=function(){if(!(this._input instanceof Gi||this._input instanceof ga||this._input instanceof On))return null;var e=this.getPolygonLines(this._input);if(this.checkMinimumDistance(e,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(e,this._result,this._maxValidDistance)},ao.prototype.getErrorIndicator=function(){return this._errorIndicator},ao.prototype.checkMinimumDistance=function(e,i,s){var a=new vn(e,i,s);if(this._minDistanceFound=a.distance(),this._minDistanceFound<s){this._isValid=!1;var c=a.nearestPoints();this._errorLocation=a.nearestPoints()[1],this._errorIndicator=e.getFactory().createLineString(c),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+cs.toLineString(c[0],c[1])+" )"}},ao.prototype.checkPositiveValid=function(){var e=this._result.getBoundary();if(this.checkMinimumDistance(this._input,e,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,e,this._maxValidDistance)},ao.prototype.getErrorLocation=function(){return this._errorLocation},ao.prototype.getPolygonLines=function(e){for(var i=new ce,s=new mn(i),a=tl.getPolygons(e).iterator();a.hasNext();)a.next().apply(s);return e.getFactory().buildGeometry(i)},ao.prototype.getErrorMessage=function(){return this._errMsg},ao.prototype.interfaces_=function(){return[]},ao.prototype.getClass=function(){return ao},Kb.VERBOSE.get=function(){return!1},Kb.MAX_DISTANCE_DIFF_FRAC.get=function(){return .012},Object.defineProperties(ao,Kb);var yn=function(e,i,s){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=e||null,this._distance=i||null,this._result=s||null},Jb={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};yn.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},yn.prototype.checkEnvelope=function(){if(this._distance<0)return null;var e=this._distance*yn.MAX_ENV_DIFF_FRAC;e===0&&(e=.001);var i=new Re(this._input.getEnvelopeInternal());i.expandBy(this._distance);var s=new Re(this._result.getEnvelopeInternal());s.expandBy(e),s.contains(i)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(s)),this.report("Envelope")},yn.prototype.checkDistance=function(){var e=new ao(this._input,this._distance,this._result);e.isValid()||(this._isValid=!1,this._errorMsg=e.getErrorMessage(),this._errorLocation=e.getErrorLocation(),this._errorIndicator=e.getErrorIndicator()),this.report("Distance")},yn.prototype.checkArea=function(){var e=this._input.getArea(),i=this._result.getArea();this._distance>0&&e>i&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&e<i&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},yn.prototype.checkPolygonal=function(){this._result instanceof Gi||this._result instanceof ga||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},yn.prototype.getErrorIndicator=function(){return this._errorIndicator},yn.prototype.getErrorLocation=function(){return this._errorLocation},yn.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},yn.prototype.report=function(e){if(!yn.VERBOSE)return null;pn.out.println("Check "+e+": "+(this._isValid?"passed":"FAILED"))},yn.prototype.getErrorMessage=function(){return this._errorMsg},yn.prototype.interfaces_=function(){return[]},yn.prototype.getClass=function(){return yn},yn.isValidMsg=function(e,i,s){var a=new yn(e,i,s);return a.isValid()?null:a.getErrorMessage()},yn.isValid=function(e,i,s){return!!new yn(e,i,s).isValid()},Jb.VERBOSE.get=function(){return!1},Jb.MAX_ENV_DIFF_FRAC.get=function(){return .012},Object.defineProperties(yn,Jb);var Ws=function(){this._pts=null,this._data=null;var e=arguments[0],i=arguments[1];this._pts=e,this._data=i};Ws.prototype.getCoordinates=function(){return this._pts},Ws.prototype.size=function(){return this._pts.length},Ws.prototype.getCoordinate=function(e){return this._pts[e]},Ws.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Ws.prototype.getSegmentOctant=function(e){return e===this._pts.length-1?-1:$u.octant(this.getCoordinate(e),this.getCoordinate(e+1))},Ws.prototype.setData=function(e){this._data=e},Ws.prototype.getData=function(){return this._data},Ws.prototype.toString=function(){return cs.toLineString(new Ii(this._pts))},Ws.prototype.interfaces_=function(){return[va]},Ws.prototype.getClass=function(){return Ws};var rn=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new ce,this._intersectionCount=0,this._keepIntersections=!0;var e=arguments[0];this._li=e,this._interiorIntersection=null};rn.prototype.getInteriorIntersection=function(){return this._interiorIntersection},rn.prototype.setCheckEndSegmentsOnly=function(e){this._isCheckEndSegmentsOnly=e},rn.prototype.getIntersectionSegments=function(){return this._intSegments},rn.prototype.count=function(){return this._intersectionCount},rn.prototype.getIntersections=function(){return this._intersections},rn.prototype.setFindAllIntersections=function(e){this._findAllIntersections=e},rn.prototype.setKeepIntersections=function(e){this._keepIntersections=e},rn.prototype.processIntersections=function(e,i,s,a){if(!this._findAllIntersections&&this.hasIntersection()||e===s&&i===a||this._isCheckEndSegmentsOnly&&!(this.isEndSegment(e,i)||this.isEndSegment(s,a)))return null;var c=e.getCoordinates()[i],h=e.getCoordinates()[i+1],g=s.getCoordinates()[a],y=s.getCoordinates()[a+1];this._li.computeIntersection(c,h,g,y),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=c,this._intSegments[1]=h,this._intSegments[2]=g,this._intSegments[3]=y,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},rn.prototype.isEndSegment=function(e,i){return i===0||i>=e.size()-2},rn.prototype.hasIntersection=function(){return this._interiorIntersection!==null},rn.prototype.isDone=function(){return!this._findAllIntersections&&this._interiorIntersection!==null},rn.prototype.interfaces_=function(){return[Hc]},rn.prototype.getClass=function(){return rn},rn.createAllIntersectionsFinder=function(e){var i=new rn(e);return i.setFindAllIntersections(!0),i},rn.createAnyIntersectionFinder=function(e){return new rn(e)},rn.createIntersectionCounter=function(e){var i=new rn(e);return i.setFindAllIntersections(!0),i.setKeepIntersections(!1),i};var vs=function(){this._li=new Nc,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var e=arguments[0];this._segStrings=e};vs.prototype.execute=function(){if(this._segInt!==null)return null;this.checkInteriorIntersections()},vs.prototype.getIntersections=function(){return this._segInt.getIntersections()},vs.prototype.isValid=function(){return this.execute(),this._isValid},vs.prototype.setFindAllIntersections=function(e){this._findAllIntersections=e},vs.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new rn(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var e=new Zb;if(e.setSegmentIntersector(this._segInt),e.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},vs.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Ka(this.getErrorMessage(),this._segInt.getInteriorIntersection())},vs.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var e=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+cs.toLineString(e[0],e[1])+" and "+cs.toLineString(e[2],e[3])},vs.prototype.interfaces_=function(){return[]},vs.prototype.getClass=function(){return vs},vs.computeIntersections=function(e){var i=new vs(e);return i.setFindAllIntersections(!0),i.isValid(),i.getIntersections()};var qc=function e(){this._nv=null;var i=arguments[0];this._nv=new vs(e.toSegmentStrings(i))};qc.prototype.checkValid=function(){this._nv.checkValid()},qc.prototype.interfaces_=function(){return[]},qc.prototype.getClass=function(){return qc},qc.toSegmentStrings=function(e){for(var i=new ce,s=e.iterator();s.hasNext();){var a=s.next();i.add(new Ws(a.getCoordinates(),a))}return i},qc.checkValid=function(e){new qc(e).checkValid()};var sh=function(e){this._mapOp=e};sh.prototype.map=function(e){for(var i=new ce,s=0;s<e.getNumGeometries();s++){var a=this._mapOp.map(e.getGeometryN(s));a.isEmpty()||i.add(a)}return e.getFactory().createGeometryCollection(lr.toGeometryArray(i))},sh.prototype.interfaces_=function(){return[]},sh.prototype.getClass=function(){return sh},sh.map=function(e,i){return new sh(i).map(e)};var Zs=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new ce,this._resultLineList=new ce;var e=arguments[0],i=arguments[1],s=arguments[2];this._op=e,this._geometryFactory=i,this._ptLocator=s};Zs.prototype.collectLines=function(e){for(var i=this,s=this._op.getGraph().getEdgeEnds().iterator();s.hasNext();){var a=s.next();i.collectLineEdge(a,e,i._lineEdgesList),i.collectBoundaryTouchEdge(a,e,i._lineEdgesList)}},Zs.prototype.labelIsolatedLine=function(e,i){var s=this._ptLocator.locate(e.getCoordinate(),this._op.getArgGeometry(i));e.getLabel().setLocation(i,s)},Zs.prototype.build=function(e){return this.findCoveredLineEdges(),this.collectLines(e),this.buildLines(e),this._resultLineList},Zs.prototype.collectLineEdge=function(e,i,s){var a=e.getLabel(),c=e.getEdge();e.isLineEdge()&&(e.isVisited()||!Qe.isResultOfOp(a,i)||c.isCovered()||(s.add(c),e.setVisitedEdge(!0)))},Zs.prototype.findCoveredLineEdges=function(){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();)e.next().getEdges().findCoveredLineEdges();for(var i=this._op.getGraph().getEdgeEnds().iterator();i.hasNext();){var s=i.next(),a=s.getEdge();if(s.isLineEdge()&&!a.isCoveredSet()){var c=this._op.isCoveredByA(s.getCoordinate());a.setCovered(c)}}},Zs.prototype.labelIsolatedLines=function(e){for(var i=e.iterator();i.hasNext();){var s=i.next(),a=s.getLabel();s.isIsolated()&&(a.isNull(0)?this.labelIsolatedLine(s,0):this.labelIsolatedLine(s,1))}},Zs.prototype.buildLines=function(e){for(var i=this._lineEdgesList.iterator();i.hasNext();){var s=i.next(),a=this._geometryFactory.createLineString(s.getCoordinates());this._resultLineList.add(a),s.setInResult(!0)}},Zs.prototype.collectBoundaryTouchEdge=function(e,i,s){var a=e.getLabel();return e.isLineEdge()||e.isVisited()||e.isInteriorAreaEdge()||e.getEdge().isInResult()?null:($e.isTrue(!(e.isInResult()||e.getSym().isInResult())||!e.getEdge().isInResult()),void(Qe.isResultOfOp(a,i)&&i===Qe.INTERSECTION&&(s.add(e.getEdge()),e.setVisitedEdge(!0))))},Zs.prototype.interfaces_=function(){return[]},Zs.prototype.getClass=function(){return Zs};var ah=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new ce;var e=arguments[0],i=arguments[1];this._op=e,this._geometryFactory=i};ah.prototype.filterCoveredNodeToPoint=function(e){var i=e.getCoordinate();if(!this._op.isCoveredByLA(i)){var s=this._geometryFactory.createPoint(i);this._resultPointList.add(s)}},ah.prototype.extractNonCoveredResultNodes=function(e){for(var i=this._op.getGraph().getNodes().iterator();i.hasNext();){var s=i.next();if(!s.isInResult()&&!s.isIncidentEdgeInResult()&&(s.getEdges().getDegree()===0||e===Qe.INTERSECTION)){var a=s.getLabel();Qe.isResultOfOp(a,e)&&this.filterCoveredNodeToPoint(s)}}},ah.prototype.build=function(e){return this.extractNonCoveredResultNodes(e),this._resultPointList},ah.prototype.interfaces_=function(){return[]},ah.prototype.getClass=function(){return ah};var Qn=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Qn.prototype.transformPoint=function(e,i){return this._factory.createPoint(this.transformCoordinates(e.getCoordinateSequence(),e))},Qn.prototype.transformPolygon=function(e,i){var s=!0,a=this.transformLinearRing(e.getExteriorRing(),e);a!==null&&a instanceof fa&&!a.isEmpty()||(s=!1);for(var c=new ce,h=0;h<e.getNumInteriorRing();h++){var g=this.transformLinearRing(e.getInteriorRingN(h),e);g===null||g.isEmpty()||(g instanceof fa||(s=!1),c.add(g))}if(s)return this._factory.createPolygon(a,c.toArray([]));var y=new ce;return a!==null&&y.add(a),y.addAll(c),this._factory.buildGeometry(y)},Qn.prototype.createCoordinateSequence=function(e){return this._factory.getCoordinateSequenceFactory().create(e)},Qn.prototype.getInputGeometry=function(){return this._inputGeom},Qn.prototype.transformMultiLineString=function(e,i){for(var s=new ce,a=0;a<e.getNumGeometries();a++){var c=this.transformLineString(e.getGeometryN(a),e);c!==null&&(c.isEmpty()||s.add(c))}return this._factory.buildGeometry(s)},Qn.prototype.transformCoordinates=function(e,i){return this.copy(e)},Qn.prototype.transformLineString=function(e,i){return this._factory.createLineString(this.transformCoordinates(e.getCoordinateSequence(),e))},Qn.prototype.transformMultiPoint=function(e,i){for(var s=new ce,a=0;a<e.getNumGeometries();a++){var c=this.transformPoint(e.getGeometryN(a),e);c!==null&&(c.isEmpty()||s.add(c))}return this._factory.buildGeometry(s)},Qn.prototype.transformMultiPolygon=function(e,i){for(var s=new ce,a=0;a<e.getNumGeometries();a++){var c=this.transformPolygon(e.getGeometryN(a),e);c!==null&&(c.isEmpty()||s.add(c))}return this._factory.buildGeometry(s)},Qn.prototype.copy=function(e){return e.copy()},Qn.prototype.transformGeometryCollection=function(e,i){for(var s=new ce,a=0;a<e.getNumGeometries();a++){var c=this.transform(e.getGeometryN(a));c!==null&&(this._pruneEmptyGeometry&&c.isEmpty()||s.add(c))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(lr.toGeometryArray(s)):this._factory.buildGeometry(s)},Qn.prototype.transform=function(e){if(this._inputGeom=e,this._factory=e.getFactory(),e instanceof no)return this.transformPoint(e,null);if(e instanceof Td)return this.transformMultiPoint(e,null);if(e instanceof fa)return this.transformLinearRing(e,null);if(e instanceof Ci)return this.transformLineString(e,null);if(e instanceof Fc)return this.transformMultiLineString(e,null);if(e instanceof Gi)return this.transformPolygon(e,null);if(e instanceof ga)return this.transformMultiPolygon(e,null);if(e instanceof On)return this.transformGeometryCollection(e,null);throw new xi("Unknown Geometry subtype: "+e.getClass().getName())},Qn.prototype.transformLinearRing=function(e,i){var s=this.transformCoordinates(e.getCoordinateSequence(),e);if(s===null)return this._factory.createLinearRing(null);var a=s.size();return a>0&&a<4&&!this._preserveType?this._factory.createLineString(s):this._factory.createLinearRing(s)},Qn.prototype.interfaces_=function(){return[]},Qn.prototype.getClass=function(){return Qn};var _a=function e(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new Ae,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Ci&&typeof arguments[1]=="number"){var i=arguments[0],s=arguments[1];e.call(this,i.getCoordinates(),s)}else if(arguments[0]instanceof Array&&typeof arguments[1]=="number"){var a=arguments[0],c=arguments[1];this._srcPts=a,this._isClosed=e.isClosed(a),this._snapTolerance=c}};_a.prototype.snapVertices=function(e,i){for(var s=this._isClosed?e.size()-1:e.size(),a=0;a<s;a++){var c=e.get(a),h=this.findSnapForVertex(c,i);h!==null&&(e.set(a,new Pt(h)),a===0&&this._isClosed&&e.set(e.size()-1,new Pt(h)))}},_a.prototype.findSnapForVertex=function(e,i){for(var s=0;s<i.length;s++){if(e.equals2D(i[s]))return null;if(e.distance(i[s])<this._snapTolerance)return i[s]}return null},_a.prototype.snapTo=function(e){var i=new Ef(this._srcPts);return this.snapVertices(i,e),this.snapSegments(i,e),i.toCoordinateArray()},_a.prototype.snapSegments=function(e,i){if(i.length===0)return null;var s=i.length;i[0].equals2D(i[i.length-1])&&(s=i.length-1);for(var a=0;a<s;a++){var c=i[a],h=this.findSegmentIndexToSnap(c,e);h>=0&&e.add(h+1,new Pt(c),!1)}},_a.prototype.findSegmentIndexToSnap=function(e,i){for(var s=this,a=Ke.MAX_VALUE,c=-1,h=0;h<i.size()-1;h++){if(s._seg.p0=i.get(h),s._seg.p1=i.get(h+1),s._seg.p0.equals2D(e)||s._seg.p1.equals2D(e)){if(s._allowSnappingToSourceVertices)continue;return-1}var g=s._seg.distance(e);g<s._snapTolerance&&g<a&&(a=g,c=h)}return c},_a.prototype.setAllowSnappingToSourceVertices=function(e){this._allowSnappingToSourceVertices=e},_a.prototype.interfaces_=function(){return[]},_a.prototype.getClass=function(){return _a},_a.isClosed=function(e){return!(e.length<=1)&&e[0].equals2D(e[e.length-1])};var Ri=function(e){this._srcGeom=e||null},Vk={SNAP_PRECISION_FACTOR:{configurable:!0}};Ri.prototype.snapTo=function(e,i){var s=this.extractTargetCoordinates(e);return new Wk(i,s).transform(this._srcGeom)},Ri.prototype.snapToSelf=function(e,i){var s=this.extractTargetCoordinates(this._srcGeom),a=new Wk(e,s,!0).transform(this._srcGeom),c=a;return i&&Ue(c,Fl)&&(c=a.buffer(0)),c},Ri.prototype.computeSnapTolerance=function(e){return this.computeMinimumSegmentLength(e)/10},Ri.prototype.extractTargetCoordinates=function(e){for(var i=new zs,s=e.getCoordinates(),a=0;a<s.length;a++)i.add(s[a]);return i.toArray(new Array(0).fill(null))},Ri.prototype.computeMinimumSegmentLength=function(e){for(var i=Ke.MAX_VALUE,s=0;s<e.length-1;s++){var a=e[s].distance(e[s+1]);a<i&&(i=a)}return i},Ri.prototype.interfaces_=function(){return[]},Ri.prototype.getClass=function(){return Ri},Ri.snap=function(e,i,s){var a=new Array(2).fill(null),c=new Ri(e);a[0]=c.snapTo(i,s);var h=new Ri(i);return a[1]=h.snapTo(a[0],s),a},Ri.computeOverlaySnapTolerance=function(){if(arguments.length===1){var e=arguments[0],i=Ri.computeSizeBasedSnapTolerance(e),s=e.getPrecisionModel();if(s.getType()===Kr.FIXED){var a=1/s.getScale()*2/1.415;a>i&&(i=a)}return i}if(arguments.length===2){var c=arguments[0],h=arguments[1];return Math.min(Ri.computeOverlaySnapTolerance(c),Ri.computeOverlaySnapTolerance(h))}},Ri.computeSizeBasedSnapTolerance=function(e){var i=e.getEnvelopeInternal();return Math.min(i.getHeight(),i.getWidth())*Ri.SNAP_PRECISION_FACTOR},Ri.snapToSelf=function(e,i,s){return new Ri(e).snapToSelf(i,s)},Vk.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(Ri,Vk);var Wk=function(e){function i(s,a,c){e.call(this),this._snapTolerance=s||null,this._snapPts=a||null,this._isSelfSnap=c!==void 0&&c}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.snapLine=function(s,a){var c=new _a(s,this._snapTolerance);return c.setAllowSnappingToSourceVertices(this._isSelfSnap),c.snapTo(a)},i.prototype.transformCoordinates=function(s,a){var c=s.toCoordinateArray(),h=this.snapLine(c,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(h)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(Qn),jn=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};jn.prototype.getCommon=function(){return Ke.longBitsToDouble(this._commonBits)},jn.prototype.add=function(e){var i=Ke.doubleToLongBits(e);return this._isFirst?(this._commonBits=i,this._commonSignExp=jn.signExpBits(this._commonBits),this._isFirst=!1,null):jn.signExpBits(i)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=jn.numCommonMostSigMantissaBits(this._commonBits,i),void(this._commonBits=jn.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},jn.prototype.toString=function(){if(arguments.length===1){var e=arguments[0],i=Ke.longBitsToDouble(e),s=Ke.toBinaryString(e),a="0000000000000000000000000000000000000000000000000000000000000000"+s,c=a.substring(a.length-64),h=c.substring(0,1)+"  "+c.substring(1,12)+"(exp) "+c.substring(12)+" [ "+i+" ]";return h}},jn.prototype.interfaces_=function(){return[]},jn.prototype.getClass=function(){return jn},jn.getBit=function(e,i){return e&1<<i?1:0},jn.signExpBits=function(e){return e>>52},jn.zeroLowerBits=function(e,i){return e&~((1<<i)-1)},jn.numCommonMostSigMantissaBits=function(e,i){for(var s=0,a=52;a>=0;a--){if(jn.getBit(e,a)!==jn.getBit(i,a))return s;s++}return 52};var Wl=function(){this._commonCoord=null,this._ccFilter=new lh},Qb={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};Wl.prototype.addCommonBits=function(e){var i=new Zl(this._commonCoord);e.apply(i),e.geometryChanged()},Wl.prototype.removeCommonBits=function(e){if(this._commonCoord.x===0&&this._commonCoord.y===0)return e;var i=new Pt(this._commonCoord);i.x=-i.x,i.y=-i.y;var s=new Zl(i);return e.apply(s),e.geometryChanged(),e},Wl.prototype.getCommonCoordinate=function(){return this._commonCoord},Wl.prototype.add=function(e){e.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},Wl.prototype.interfaces_=function(){return[]},Wl.prototype.getClass=function(){return Wl},Qb.CommonCoordinateFilter.get=function(){return lh},Qb.Translater.get=function(){return Zl},Object.defineProperties(Wl,Qb);var lh=function(){this._commonBitsX=new jn,this._commonBitsY=new jn};lh.prototype.filter=function(e){this._commonBitsX.add(e.x),this._commonBitsY.add(e.y)},lh.prototype.getCommonCoordinate=function(){return new Pt(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},lh.prototype.interfaces_=function(){return[pa]},lh.prototype.getClass=function(){return lh};var Zl=function(){this.trans=null;var e=arguments[0];this.trans=e};Zl.prototype.filter=function(e,i){var s=e.getOrdinate(i,0)+this.trans.x,a=e.getOrdinate(i,1)+this.trans.y;e.setOrdinate(i,0,s),e.setOrdinate(i,1,a)},Zl.prototype.isDone=function(){return!1},Zl.prototype.isGeometryChanged=function(){return!0},Zl.prototype.interfaces_=function(){return[ds]},Zl.prototype.getClass=function(){return Zl};var nn=function(e,i){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=e,this._geom[1]=i,this.computeSnapTolerance()};nn.prototype.selfSnap=function(e){return new Ri(e).snapTo(e,this._snapTolerance)},nn.prototype.removeCommonBits=function(e){this._cbr=new Wl,this._cbr.add(e[0]),this._cbr.add(e[1]);var i=new Array(2).fill(null);return i[0]=this._cbr.removeCommonBits(e[0].copy()),i[1]=this._cbr.removeCommonBits(e[1].copy()),i},nn.prototype.prepareResult=function(e){return this._cbr.addCommonBits(e),e},nn.prototype.getResultGeometry=function(e){var i=this.snap(this._geom),s=Qe.overlayOp(i[0],i[1],e);return this.prepareResult(s)},nn.prototype.checkValid=function(e){e.isValid()||pn.out.println("Snapped geometry is invalid")},nn.prototype.computeSnapTolerance=function(){this._snapTolerance=Ri.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},nn.prototype.snap=function(e){var i=this.removeCommonBits(e);return Ri.snap(i[0],i[1],this._snapTolerance)},nn.prototype.interfaces_=function(){return[]},nn.prototype.getClass=function(){return nn},nn.overlayOp=function(e,i,s){return new nn(e,i).getResultGeometry(s)},nn.union=function(e,i){return nn.overlayOp(e,i,Qe.UNION)},nn.intersection=function(e,i){return nn.overlayOp(e,i,Qe.INTERSECTION)},nn.symDifference=function(e,i){return nn.overlayOp(e,i,Qe.SYMDIFFERENCE)},nn.difference=function(e,i){return nn.overlayOp(e,i,Qe.DIFFERENCE)};var Hn=function(e,i){this._geom=new Array(2).fill(null),this._geom[0]=e,this._geom[1]=i};Hn.prototype.getResultGeometry=function(e){var i=null,s=!1,a=null;try{i=Qe.overlayOp(this._geom[0],this._geom[1],e),s=!0}catch(c){if(!(c instanceof Va))throw c;a=c}if(!s)try{i=nn.overlayOp(this._geom[0],this._geom[1],e)}catch(c){throw c instanceof Va?a:c}return i},Hn.prototype.interfaces_=function(){return[]},Hn.prototype.getClass=function(){return Hn},Hn.overlayOp=function(e,i,s){return new Hn(e,i).getResultGeometry(s)},Hn.union=function(e,i){return Hn.overlayOp(e,i,Qe.UNION)},Hn.intersection=function(e,i){return Hn.overlayOp(e,i,Qe.INTERSECTION)},Hn.symDifference=function(e,i){return Hn.overlayOp(e,i,Qe.SYMDIFFERENCE)},Hn.difference=function(e,i){return Hn.overlayOp(e,i,Qe.DIFFERENCE)};var Bf=function(){this.mce=null,this.chainIndex=null;var e=arguments[0],i=arguments[1];this.mce=e,this.chainIndex=i};Bf.prototype.computeIntersections=function(e,i){this.mce.computeIntersectsForChain(this.chainIndex,e.mce,e.chainIndex,i)},Bf.prototype.interfaces_=function(){return[]},Bf.prototype.getClass=function(){return Bf};var lo=function e(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,arguments.length===2){var i=arguments[0],s=arguments[1];this._eventType=e.DELETE,this._xValue=i,this._insertEvent=s}else if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2];this._eventType=e.INSERT,this._label=a,this._xValue=c,this._obj=h}},$b={INSERT:{configurable:!0},DELETE:{configurable:!0}};lo.prototype.isDelete=function(){return this._eventType===lo.DELETE},lo.prototype.setDeleteEventIndex=function(e){this._deleteEventIndex=e},lo.prototype.getObject=function(){return this._obj},lo.prototype.compareTo=function(e){var i=e;return this._xValue<i._xValue?-1:this._xValue>i._xValue?1:this._eventType<i._eventType?-1:this._eventType>i._eventType?1:0},lo.prototype.getInsertEvent=function(){return this._insertEvent},lo.prototype.isInsert=function(){return this._eventType===lo.INSERT},lo.prototype.isSameLabel=function(e){return this._label!==null&&this._label===e._label},lo.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},lo.prototype.interfaces_=function(){return[Do]},lo.prototype.getClass=function(){return lo},$b.INSERT.get=function(){return 1},$b.DELETE.get=function(){return 2},Object.defineProperties(lo,$b);var x0=function(){};x0.prototype.interfaces_=function(){return[]},x0.prototype.getClass=function(){return x0};var bn=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var e=arguments[0],i=arguments[1],s=arguments[2];this._li=e,this._includeProper=i,this._recordIsolated=s};bn.prototype.isTrivialIntersection=function(e,i,s,a){if(e===s&&this._li.getIntersectionNum()===1){if(bn.isAdjacentSegments(i,a))return!0;if(e.isClosed()){var c=e.getNumPoints()-1;if(i===0&&a===c||a===0&&i===c)return!0}}return!1},bn.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},bn.prototype.setIsDoneIfProperInt=function(e){this._isDoneWhenProperInt=e},bn.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},bn.prototype.isBoundaryPointInternal=function(e,i){for(var s=i.iterator();s.hasNext();){var a=s.next().getCoordinate();if(e.isIntersection(a))return!0}return!1},bn.prototype.hasProperIntersection=function(){return this._hasProper},bn.prototype.hasIntersection=function(){return this._hasIntersection},bn.prototype.isDone=function(){return this._isDone},bn.prototype.isBoundaryPoint=function(e,i){return i!==null&&(!!this.isBoundaryPointInternal(e,i[0])||!!this.isBoundaryPointInternal(e,i[1]))},bn.prototype.setBoundaryNodes=function(e,i){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=e,this._bdyNodes[1]=i},bn.prototype.addIntersections=function(e,i,s,a){if(e===s&&i===a)return null;this.numTests++;var c=e.getCoordinates()[i],h=e.getCoordinates()[i+1],g=s.getCoordinates()[a],y=s.getCoordinates()[a+1];this._li.computeIntersection(c,h,g,y),this._li.hasIntersection()&&(this._recordIsolated&&(e.setIsolated(!1),s.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(e,i,s,a)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(e.addIntersections(this._li,i,0),s.addIntersections(this._li,a,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},bn.prototype.interfaces_=function(){return[]},bn.prototype.getClass=function(){return bn},bn.isAdjacentSegments=function(e,i){return Math.abs(e-i)===1};var GI=function(e){function i(){e.call(this),this.events=new ce,this.nOverlaps=null}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.prepareEvents=function(){fs.sort(this.events);for(var s=0;s<this.events.size();s++){var a=this.events.get(s);a.isDelete()&&a.getInsertEvent().setDeleteEventIndex(s)}},i.prototype.computeIntersections=function(){var s=this;if(arguments.length===1){var a=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var c=0;c<this.events.size();c++){var h=s.events.get(c);if(h.isInsert()&&s.processOverlaps(c,h.getDeleteEventIndex(),h,a),a.isDone())break}}else if(arguments.length===3){if(arguments[2]instanceof bn&&Ue(arguments[0],us)&&Ue(arguments[1],us)){var g=arguments[0],y=arguments[1],w=arguments[2];this.addEdges(g,g),this.addEdges(y,y),this.computeIntersections(w)}else if(typeof arguments[2]=="boolean"&&Ue(arguments[0],us)&&arguments[1]instanceof bn){var x=arguments[0],T=arguments[1],E=arguments[2];E?this.addEdges(x,null):this.addEdges(x),this.computeIntersections(T)}}},i.prototype.addEdge=function(s,a){for(var c=s.getMonotoneChainEdge(),h=c.getStartIndexes(),g=0;g<h.length-1;g++){var y=new Bf(c,g),w=new lo(a,c.getMinX(g),y);this.events.add(w),this.events.add(new lo(c.getMaxX(g),w))}},i.prototype.processOverlaps=function(s,a,c,h){for(var g=c.getObject(),y=s;y<a;y++){var w=this.events.get(y);if(w.isInsert()){var x=w.getObject();c.isSameLabel(w)||(g.computeIntersections(x,h),this.nOverlaps++)}}},i.prototype.addEdges=function(){var s=this;if(arguments.length===1)for(var a=arguments[0],c=a.iterator();c.hasNext();){var h=c.next();s.addEdge(h,h)}else if(arguments.length===2)for(var g=arguments[0],y=arguments[1],w=g.iterator();w.hasNext();){var x=w.next();s.addEdge(x,y)}},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(x0),ka=function(){this._min=Ke.POSITIVE_INFINITY,this._max=Ke.NEGATIVE_INFINITY},Zk={NodeComparator:{configurable:!0}};ka.prototype.getMin=function(){return this._min},ka.prototype.intersects=function(e,i){return!(this._min>i||this._max<e)},ka.prototype.getMax=function(){return this._max},ka.prototype.toString=function(){return cs.toLineString(new Pt(this._min,0),new Pt(this._max,0))},ka.prototype.interfaces_=function(){return[]},ka.prototype.getClass=function(){return ka},Zk.NodeComparator.get=function(){return jf},Object.defineProperties(ka,Zk);var jf=function(){};jf.prototype.compare=function(e,i){var s=e,a=i,c=(s._min+s._max)/2,h=(a._min+a._max)/2;return c<h?-1:c>h?1:0},jf.prototype.interfaces_=function(){return[fd]},jf.prototype.getClass=function(){return jf};var qI=function(e){function i(){e.call(this),this._item=null;var s=arguments[0],a=arguments[1],c=arguments[2];this._min=s,this._max=a,this._item=c}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.query=function(s,a,c){if(!this.intersects(s,a))return null;c.visitItem(this._item)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(ka),VI=function(e){function i(){e.call(this),this._node1=null,this._node2=null;var s=arguments[0],a=arguments[1];this._node1=s,this._node2=a,this.buildExtent(this._node1,this._node2)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.buildExtent=function(s,a){this._min=Math.min(s._min,a._min),this._max=Math.max(s._max,a._max)},i.prototype.query=function(s,a,c){if(!this.intersects(s,a))return null;this._node1!==null&&this._node1.query(s,a,c),this._node2!==null&&this._node2.query(s,a,c)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(ka),Ea=function(){this._leaves=new ce,this._root=null,this._level=0};Ea.prototype.buildTree=function(){fs.sort(this._leaves,new ka.NodeComparator);for(var e=this._leaves,i=null,s=new ce;;){if(this.buildLevel(e,s),s.size()===1)return s.get(0);i=e,e=s,s=i}},Ea.prototype.insert=function(e,i,s){if(this._root!==null)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new qI(e,i,s))},Ea.prototype.query=function(e,i,s){this.init(),this._root.query(e,i,s)},Ea.prototype.buildRoot=function(){if(this._root!==null)return null;this._root=this.buildTree()},Ea.prototype.printNode=function(e){pn.out.println(cs.toLineString(new Pt(e._min,this._level),new Pt(e._max,this._level)))},Ea.prototype.init=function(){if(this._root!==null)return null;this.buildRoot()},Ea.prototype.buildLevel=function(e,i){this._level++,i.clear();for(var s=0;s<e.size();s+=2){var a=e.get(s);if((s+1<e.size()?e.get(s):null)===null)i.add(a);else{var c=new VI(e.get(s),e.get(s+1));i.add(c)}}},Ea.prototype.interfaces_=function(){return[]},Ea.prototype.getClass=function(){return Ea};var Rd=function(){this._items=new ce};Rd.prototype.visitItem=function(e){this._items.add(e)},Rd.prototype.getItems=function(){return this._items},Rd.prototype.interfaces_=function(){return[Bl]},Rd.prototype.getClass=function(){return Rd};var Ad=function(){this._index=null;var e=arguments[0];if(!Ue(e,Fl))throw new xi("Argument must be Polygonal");this._index=new Vc(e)},tw={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};Ad.prototype.locate=function(e){var i=new Os(e),s=new Od(i);return this._index.query(e.y,e.y,s),i.getLocation()},Ad.prototype.interfaces_=function(){return[Md]},Ad.prototype.getClass=function(){return Ad},tw.SegmentVisitor.get=function(){return Od},tw.IntervalIndexedGeometry.get=function(){return Vc},Object.defineProperties(Ad,tw);var Od=function(){this._counter=null;var e=arguments[0];this._counter=e};Od.prototype.visitItem=function(e){var i=e;this._counter.countSegment(i.getCoordinate(0),i.getCoordinate(1))},Od.prototype.interfaces_=function(){return[Bl]},Od.prototype.getClass=function(){return Od};var Vc=function(){this._index=new Ea;var e=arguments[0];this.init(e)};Vc.prototype.init=function(e){for(var i=mn.getLines(e).iterator();i.hasNext();){var s=i.next().getCoordinates();this.addLine(s)}},Vc.prototype.addLine=function(e){for(var i=1;i<e.length;i++){var s=new Ae(e[i-1],e[i]),a=Math.min(s.p0.y,s.p1.y),c=Math.max(s.p0.y,s.p1.y);this._index.insert(a,c,s)}},Vc.prototype.query=function(){if(arguments.length===2){var e=arguments[0],i=arguments[1],s=new Rd;return this._index.query(e,i,s),s.getItems()}if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2];this._index.query(a,c,h)}},Vc.prototype.interfaces_=function(){return[]},Vc.prototype.getClass=function(){return Vc};var Hf=function(e){function i(){if(e.call(this),this._parentGeom=null,this._lineEdgeMap=new Pk,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new ms,arguments.length===2){var s=arguments[0],a=arguments[1],c=Bo.OGC_SFS_BOUNDARY_RULE;this._argIndex=s,this._parentGeom=a,this._boundaryNodeRule=c,a!==null&&this.add(a)}else if(arguments.length===3){var h=arguments[0],g=arguments[1],y=arguments[2];this._argIndex=h,this._parentGeom=g,this._boundaryNodeRule=y,g!==null&&this.add(g)}}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.insertBoundaryPoint=function(s,a){var c=this._nodes.addNode(a).getLabel(),h=1;c.getLocation(s,oe.ON)===Nt.BOUNDARY&&h++;var g=i.determineBoundary(this._boundaryNodeRule,h);c.setLocation(s,g)},i.prototype.computeSelfNodes=function(){if(arguments.length===2){var s=arguments[0],a=arguments[1];return this.computeSelfNodes(s,a,!1)}if(arguments.length===3){var c=arguments[0],h=arguments[1],g=arguments[2],y=new bn(c,!0,!1);y.setIsDoneIfProperInt(g);var w=this.createEdgeSetIntersector(),x=this._parentGeom instanceof fa||this._parentGeom instanceof Gi||this._parentGeom instanceof ga,T=h||!x;return w.computeIntersections(this._edges,y,T),this.addSelfIntersectionNodes(this._argIndex),y}},i.prototype.computeSplitEdges=function(s){for(var a=this._edges.iterator();a.hasNext();)a.next().eiList.addSplitEdges(s)},i.prototype.computeEdgeIntersections=function(s,a,c){var h=new bn(a,c,!0);return h.setBoundaryNodes(this.getBoundaryNodes(),s.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,s._edges,h),h},i.prototype.getGeometry=function(){return this._parentGeom},i.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},i.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},i.prototype.addPoint=function(){if(arguments[0]instanceof no){var s=arguments[0],a=s.getCoordinate();this.insertPoint(this._argIndex,a,Nt.INTERIOR)}else if(arguments[0]instanceof Pt){var c=arguments[0];this.insertPoint(this._argIndex,c,Nt.INTERIOR)}},i.prototype.addPolygon=function(s){this.addPolygonRing(s.getExteriorRing(),Nt.EXTERIOR,Nt.INTERIOR);for(var a=0;a<s.getNumInteriorRing();a++){var c=s.getInteriorRingN(a);this.addPolygonRing(c,Nt.INTERIOR,Nt.EXTERIOR)}},i.prototype.addEdge=function(s){this.insertEdge(s);var a=s.getCoordinates();this.insertPoint(this._argIndex,a[0],Nt.BOUNDARY),this.insertPoint(this._argIndex,a[a.length-1],Nt.BOUNDARY)},i.prototype.addLineString=function(s){var a=ar.removeRepeatedPoints(s.getCoordinates());if(a.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=a[0],null;var c=new w0(a,new ri(this._argIndex,Nt.INTERIOR));this._lineEdgeMap.put(s,c),this.insertEdge(c),$e.isTrue(a.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,a[0]),this.insertBoundaryPoint(this._argIndex,a[a.length-1])},i.prototype.getInvalidPoint=function(){return this._invalidPoint},i.prototype.getBoundaryPoints=function(){for(var s=this.getBoundaryNodes(),a=new Array(s.size()).fill(null),c=0,h=s.iterator();h.hasNext();){var g=h.next();a[c++]=g.getCoordinate().copy()}return a},i.prototype.getBoundaryNodes=function(){return this._boundaryNodes===null&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},i.prototype.addSelfIntersectionNode=function(s,a,c){if(this.isBoundaryNode(s,a))return null;c===Nt.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(s,a):this.insertPoint(s,a,c)},i.prototype.addPolygonRing=function(s,a,c){if(s.isEmpty())return null;var h=ar.removeRepeatedPoints(s.getCoordinates());if(h.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=h[0],null;var g=a,y=c;fe.isCCW(h)&&(g=c,y=a);var w=new w0(h,new ri(this._argIndex,Nt.BOUNDARY,g,y));this._lineEdgeMap.put(s,w),this.insertEdge(w),this.insertPoint(this._argIndex,h[0],Nt.BOUNDARY)},i.prototype.insertPoint=function(s,a,c){var h=this._nodes.addNode(a),g=h.getLabel();g===null?h._label=new ri(s,c):g.setLocation(s,c)},i.prototype.createEdgeSetIntersector=function(){return new GI},i.prototype.addSelfIntersectionNodes=function(s){for(var a=this._edges.iterator();a.hasNext();)for(var c=a.next(),h=c.getLabel().getLocation(s),g=c.eiList.iterator();g.hasNext();){var y=g.next();this.addSelfIntersectionNode(s,y.coord,h)}},i.prototype.add=function(){if(arguments.length!==1)return e.prototype.add.apply(this,arguments);var s=arguments[0];if(s.isEmpty())return null;if(s instanceof ga&&(this._useBoundaryDeterminationRule=!1),s instanceof Gi)this.addPolygon(s);else if(s instanceof Ci)this.addLineString(s);else if(s instanceof no)this.addPoint(s);else if(s instanceof Td)this.addCollection(s);else if(s instanceof Fc)this.addCollection(s);else if(s instanceof ga)this.addCollection(s);else{if(!(s instanceof On))throw new Error(s.getClass().getName());this.addCollection(s)}},i.prototype.addCollection=function(s){for(var a=0;a<s.getNumGeometries();a++){var c=s.getGeometryN(a);this.add(c)}},i.prototype.locate=function(s){return Ue(this._parentGeom,Fl)&&this._parentGeom.getNumGeometries()>50?(this._areaPtLocator===null&&(this._areaPtLocator=new Ad(this._parentGeom)),this._areaPtLocator.locate(s)):this._ptLocator.locate(s,this._parentGeom)},i.prototype.findEdge=function(){if(arguments.length===1){var s=arguments[0];return this._lineEdgeMap.get(s)}return e.prototype.findEdge.apply(this,arguments)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i.determineBoundary=function(s,a){return s.isInBoundary(a)?Nt.BOUNDARY:Nt.INTERIOR},i}(Ti),zd=function(){if(this._li=new Nc,this._resultPrecisionModel=null,this._arg=null,arguments.length===1){var e=arguments[0];this.setComputationPrecision(e.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new Hf(0,e)}else if(arguments.length===2){var i=arguments[0],s=arguments[1],a=Bo.OGC_SFS_BOUNDARY_RULE;i.getPrecisionModel().compareTo(s.getPrecisionModel())>=0?this.setComputationPrecision(i.getPrecisionModel()):this.setComputationPrecision(s.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Hf(0,i,a),this._arg[1]=new Hf(1,s,a)}else if(arguments.length===3){var c=arguments[0],h=arguments[1],g=arguments[2];c.getPrecisionModel().compareTo(h.getPrecisionModel())>=0?this.setComputationPrecision(c.getPrecisionModel()):this.setComputationPrecision(h.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Hf(0,c,g),this._arg[1]=new Hf(1,h,g)}};zd.prototype.getArgGeometry=function(e){return this._arg[e].getGeometry()},zd.prototype.setComputationPrecision=function(e){this._resultPrecisionModel=e,this._li.setPrecisionModel(this._resultPrecisionModel)},zd.prototype.interfaces_=function(){return[]},zd.prototype.getClass=function(){return zd};var Wc=function(){};Wc.prototype.interfaces_=function(){return[]},Wc.prototype.getClass=function(){return Wc},Wc.map=function(){if(arguments[0]instanceof je&&Ue(arguments[1],Wc.MapOp)){for(var e=arguments[0],i=arguments[1],s=new ce,a=0;a<e.getNumGeometries();a++){var c=i.map(e.getGeometryN(a));c!==null&&s.add(c)}return e.getFactory().buildGeometry(s)}if(Ue(arguments[0],Ui)&&Ue(arguments[1],Wc.MapOp)){for(var h=arguments[0],g=arguments[1],y=new ce,w=h.iterator();w.hasNext();){var x=w.next(),T=g.map(x);T!==null&&y.add(T)}return y}},Wc.MapOp=function(){};var Qe=function(e){function i(){var s=arguments[0],a=arguments[1];e.call(this,s,a),this._ptLocator=new ms,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new gs,this._resultPolyList=new ce,this._resultLineList=new ce,this._resultPointList=new ce,this._graph=new Ti(new Fk),this._geomFact=s.getFactory()}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.insertUniqueEdge=function(s){var a=this._edgeList.findEqualEdge(s);if(a!==null){var c=a.getLabel(),h=s.getLabel();a.isPointwiseEqual(s)||(h=new ri(s.getLabel())).flip();var g=a.getDepth();g.isNull()&&g.add(c),g.add(h),c.merge(h)}else this._edgeList.add(s)},i.prototype.getGraph=function(){return this._graph},i.prototype.cancelDuplicateResultEdges=function(){for(var s=this._graph.getEdgeEnds().iterator();s.hasNext();){var a=s.next(),c=a.getSym();a.isInResult()&&c.isInResult()&&(a.setInResult(!1),c.setInResult(!1))}},i.prototype.isCoveredByLA=function(s){return!!this.isCovered(s,this._resultLineList)||!!this.isCovered(s,this._resultPolyList)},i.prototype.computeGeometry=function(s,a,c,h){var g=new ce;return g.addAll(s),g.addAll(a),g.addAll(c),g.isEmpty()?i.createEmptyResult(h,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(g)},i.prototype.mergeSymLabels=function(){for(var s=this._graph.getNodes().iterator();s.hasNext();)s.next().getEdges().mergeSymLabels()},i.prototype.isCovered=function(s,a){for(var c=a.iterator();c.hasNext();){var h=c.next();if(this._ptLocator.locate(s,h)!==Nt.EXTERIOR)return!0}return!1},i.prototype.replaceCollapsedEdges=function(){for(var s=new ce,a=this._edgeList.iterator();a.hasNext();){var c=a.next();c.isCollapsed()&&(a.remove(),s.add(c.getCollapsedEdge()))}this._edgeList.addAll(s)},i.prototype.updateNodeLabelling=function(){for(var s=this._graph.getNodes().iterator();s.hasNext();){var a=s.next(),c=a.getEdges().getLabel();a.getLabel().merge(c)}},i.prototype.getResultGeometry=function(s){return this.computeOverlay(s),this._resultGeom},i.prototype.insertUniqueEdges=function(s){for(var a=s.iterator();a.hasNext();){var c=a.next();this.insertUniqueEdge(c)}},i.prototype.computeOverlay=function(s){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var a=new ce;this._arg[0].computeSplitEdges(a),this._arg[1].computeSplitEdges(a),this.insertUniqueEdges(a),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),qc.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(s),this.cancelDuplicateResultEdges();var c=new oo(this._geomFact);c.add(this._graph),this._resultPolyList=c.getPolygons();var h=new Zs(this,this._geomFact,this._ptLocator);this._resultLineList=h.build(s);var g=new ah(this,this._geomFact,this._ptLocator);this._resultPointList=g.build(s),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,s)},i.prototype.labelIncompleteNode=function(s,a){var c=this._ptLocator.locate(s.getCoordinate(),this._arg[a].getGeometry());s.getLabel().setLocation(a,c)},i.prototype.copyPoints=function(s){for(var a=this._arg[s].getNodeIterator();a.hasNext();){var c=a.next();this._graph.addNode(c.getCoordinate()).setLabel(s,c.getLabel().getLocation(s))}},i.prototype.findResultAreaEdges=function(s){for(var a=this._graph.getEdgeEnds().iterator();a.hasNext();){var c=a.next(),h=c.getLabel();h.isArea()&&!c.isInteriorAreaEdge()&&i.isResultOfOp(h.getLocation(0,oe.RIGHT),h.getLocation(1,oe.RIGHT),s)&&c.setInResult(!0)}},i.prototype.computeLabelsFromDepths=function(){for(var s=this._edgeList.iterator();s.hasNext();){var a=s.next(),c=a.getLabel(),h=a.getDepth();if(!h.isNull()){h.normalize();for(var g=0;g<2;g++)c.isNull(g)||!c.isArea()||h.isNull(g)||(h.getDelta(g)===0?c.toLine(g):($e.isTrue(!h.isNull(g,oe.LEFT),"depth of LEFT side has not been initialized"),c.setLocation(g,oe.LEFT,h.getLocation(g,oe.LEFT)),$e.isTrue(!h.isNull(g,oe.RIGHT),"depth of RIGHT side has not been initialized"),c.setLocation(g,oe.RIGHT,h.getLocation(g,oe.RIGHT))))}}},i.prototype.computeLabelling=function(){for(var s=this._graph.getNodes().iterator();s.hasNext();)s.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},i.prototype.labelIncompleteNodes=function(){for(var s=this._graph.getNodes().iterator();s.hasNext();){var a=s.next(),c=a.getLabel();a.isIsolated()&&(c.isNull(0)?this.labelIncompleteNode(a,0):this.labelIncompleteNode(a,1)),a.getEdges().updateLabelling(c)}},i.prototype.isCoveredByA=function(s){return!!this.isCovered(s,this._resultPolyList)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(zd);Qe.overlayOp=function(e,i,s){return new Qe(e,i).getResultGeometry(s)},Qe.intersection=function(e,i){if(e.isEmpty()||i.isEmpty())return Qe.createEmptyResult(Qe.INTERSECTION,e,i,e.getFactory());if(e.isGeometryCollection()){var s=i;return sh.map(e,{interfaces_:function(){return[Wc.MapOp]},map:function(a){return a.intersection(s)}})}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(i),Hn.overlayOp(e,i,Qe.INTERSECTION)},Qe.symDifference=function(e,i){if(e.isEmpty()||i.isEmpty()){if(e.isEmpty()&&i.isEmpty())return Qe.createEmptyResult(Qe.SYMDIFFERENCE,e,i,e.getFactory());if(e.isEmpty())return i.copy();if(i.isEmpty())return e.copy()}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(i),Hn.overlayOp(e,i,Qe.SYMDIFFERENCE)},Qe.resultDimension=function(e,i,s){var a=i.getDimension(),c=s.getDimension(),h=-1;switch(e){case Qe.INTERSECTION:h=Math.min(a,c);break;case Qe.UNION:h=Math.max(a,c);break;case Qe.DIFFERENCE:h=a;break;case Qe.SYMDIFFERENCE:h=Math.max(a,c)}return h},Qe.createEmptyResult=function(e,i,s,a){var c=null;switch(Qe.resultDimension(e,i,s)){case-1:c=a.createGeometryCollection(new Array(0).fill(null));break;case 0:c=a.createPoint();break;case 1:c=a.createLineString();break;case 2:c=a.createPolygon()}return c},Qe.difference=function(e,i){return e.isEmpty()?Qe.createEmptyResult(Qe.DIFFERENCE,e,i,e.getFactory()):i.isEmpty()?e.copy():(e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(i),Hn.overlayOp(e,i,Qe.DIFFERENCE))},Qe.isResultOfOp=function(){if(arguments.length===2){var e=arguments[0],i=arguments[1],s=e.getLocation(0),a=e.getLocation(1);return Qe.isResultOfOp(s,a,i)}if(arguments.length===3){var c=arguments[0],h=arguments[1],g=arguments[2];switch(c===Nt.BOUNDARY&&(c=Nt.INTERIOR),h===Nt.BOUNDARY&&(h=Nt.INTERIOR),g){case Qe.INTERSECTION:return c===Nt.INTERIOR&&h===Nt.INTERIOR;case Qe.UNION:return c===Nt.INTERIOR||h===Nt.INTERIOR;case Qe.DIFFERENCE:return c===Nt.INTERIOR&&h!==Nt.INTERIOR;case Qe.SYMDIFFERENCE:return c===Nt.INTERIOR&&h!==Nt.INTERIOR||c!==Nt.INTERIOR&&h===Nt.INTERIOR}return!1}},Qe.INTERSECTION=1,Qe.UNION=2,Qe.DIFFERENCE=3,Qe.SYMDIFFERENCE=4;var Yl=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new ms,this._seg=new Ae;var e=arguments[0],i=arguments[1];this._g=e,this._boundaryDistanceTolerance=i,this._linework=this.extractLinework(e)};Yl.prototype.isWithinToleranceOfBoundary=function(e){for(var i=this,s=0;s<this._linework.getNumGeometries();s++)for(var a=i._linework.getGeometryN(s).getCoordinateSequence(),c=0;c<a.size()-1;c++)if(a.getCoordinate(c,i._seg.p0),a.getCoordinate(c+1,i._seg.p1),i._seg.distance(e)<=i._boundaryDistanceTolerance)return!0;return!1},Yl.prototype.getLocation=function(e){return this.isWithinToleranceOfBoundary(e)?Nt.BOUNDARY:this._ptLocator.locate(e,this._g)},Yl.prototype.extractLinework=function(e){var i=new Nd;e.apply(i);var s=i.getLinework(),a=lr.toLineStringArray(s);return e.getFactory().createMultiLineString(a)},Yl.prototype.interfaces_=function(){return[]},Yl.prototype.getClass=function(){return Yl};var Nd=function(){this._linework=null,this._linework=new ce};Nd.prototype.getLinework=function(){return this._linework},Nd.prototype.filter=function(e){if(e instanceof Gi){var i=e;this._linework.add(i.getExteriorRing());for(var s=0;s<i.getNumInteriorRing();s++)this._linework.add(i.getInteriorRingN(s))}},Nd.prototype.interfaces_=function(){return[Ns]},Nd.prototype.getClass=function(){return Nd};var Zc=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var e=arguments[0];this._g=e};Zc.prototype.extractPoints=function(e,i,s){for(var a=e.getCoordinates(),c=0;c<a.length-1;c++)this.computeOffsetPoints(a[c],a[c+1],i,s)},Zc.prototype.setSidesToGenerate=function(e,i){this._doLeft=e,this._doRight=i},Zc.prototype.getPoints=function(e){for(var i=new ce,s=mn.getLines(this._g).iterator();s.hasNext();){var a=s.next();this.extractPoints(a,e,i)}return i},Zc.prototype.computeOffsetPoints=function(e,i,s,a){var c=i.x-e.x,h=i.y-e.y,g=Math.sqrt(c*c+h*h),y=s*c/g,w=s*h/g,x=(i.x+e.x)/2,T=(i.y+e.y)/2;if(this._doLeft){var E=new Pt(x-w,T+y);a.add(E)}if(this._doRight){var P=new Pt(x+w,T-y);a.add(P)}},Zc.prototype.interfaces_=function(){return[]},Zc.prototype.getClass=function(){return Zc};var Co=function e(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=e.TOLERANCE,this._testCoords=new ce;var i=arguments[0],s=arguments[1],a=arguments[2];this._boundaryDistanceTolerance=e.computeBoundaryDistanceTolerance(i,s),this._geom=[i,s,a],this._locFinder=[new Yl(this._geom[0],this._boundaryDistanceTolerance),new Yl(this._geom[1],this._boundaryDistanceTolerance),new Yl(this._geom[2],this._boundaryDistanceTolerance)]},Yk={TOLERANCE:{configurable:!0}};Co.prototype.reportResult=function(e,i,s){pn.out.println("Overlay result invalid - A:"+Nt.toLocationSymbol(i[0])+" B:"+Nt.toLocationSymbol(i[1])+" expected:"+(s?"i":"e")+" actual:"+Nt.toLocationSymbol(i[2]))},Co.prototype.isValid=function(e){this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]);var i=this.checkValid(e);return i},Co.prototype.checkValid=function(){var e=this;if(arguments.length===1){for(var i=arguments[0],s=0;s<this._testCoords.size();s++){var a=e._testCoords.get(s);if(!e.checkValid(i,a))return e._invalidLocation=a,!1}return!0}if(arguments.length===2){var c=arguments[0],h=arguments[1];return this._location[0]=this._locFinder[0].getLocation(h),this._location[1]=this._locFinder[1].getLocation(h),this._location[2]=this._locFinder[2].getLocation(h),!!Co.hasLocation(this._location,Nt.BOUNDARY)||this.isValidResult(c,this._location)}},Co.prototype.addTestPts=function(e){var i=new Zc(e);this._testCoords.addAll(i.getPoints(5*this._boundaryDistanceTolerance))},Co.prototype.isValidResult=function(e,i){var s=Qe.isResultOfOp(i[0],i[1],e),a=!(s^i[2]===Nt.INTERIOR);return a||this.reportResult(e,i,s),a},Co.prototype.getInvalidLocation=function(){return this._invalidLocation},Co.prototype.interfaces_=function(){return[]},Co.prototype.getClass=function(){return Co},Co.hasLocation=function(e,i){for(var s=0;s<3;s++)if(e[s]===i)return!0;return!1},Co.computeBoundaryDistanceTolerance=function(e,i){return Math.min(Ri.computeSizeBasedSnapTolerance(e),Ri.computeSizeBasedSnapTolerance(i))},Co.isValid=function(e,i,s,a){return new Co(e,i,a).isValid(s)},Yk.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Co,Yk);var Po=function e(i){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=e.extractFactory(i),this._inputGeoms=i};Po.prototype.extractElements=function(e,i){if(e===null)return null;for(var s=0;s<e.getNumGeometries();s++){var a=e.getGeometryN(s);this._skipEmpty&&a.isEmpty()||i.add(a)}},Po.prototype.combine=function(){for(var e=new ce,i=this._inputGeoms.iterator();i.hasNext();){var s=i.next();this.extractElements(s,e)}return e.size()===0?this._geomFactory!==null?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(e)},Po.prototype.interfaces_=function(){return[]},Po.prototype.getClass=function(){return Po},Po.combine=function(){if(arguments.length===1){var e=arguments[0],i=new Po(e);return i.combine()}if(arguments.length===2){var s=arguments[0],a=arguments[1],c=new Po(Po.createList(s,a));return c.combine()}if(arguments.length===3){var h=arguments[0],g=arguments[1],y=arguments[2],w=new Po(Po.createList(h,g,y));return w.combine()}},Po.extractFactory=function(e){return e.isEmpty()?null:e.iterator().next().getFactory()},Po.createList=function(){if(arguments.length===2){var e=arguments[0],i=arguments[1],s=new ce;return s.add(e),s.add(i),s}if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2],g=new ce;return g.add(a),g.add(c),g.add(h),g}};var zi=function(){this._inputPolys=null,this._geomFactory=null;var e=arguments[0];this._inputPolys=e,this._inputPolys===null&&(this._inputPolys=new ce)},Xk={STRTREE_NODE_CAPACITY:{configurable:!0}};zi.prototype.reduceToGeometries=function(e){for(var i=new ce,s=e.iterator();s.hasNext();){var a=s.next(),c=null;Ue(a,us)?c=this.unionTree(a):a instanceof je&&(c=a),i.add(c)}return i},zi.prototype.extractByEnvelope=function(e,i,s){for(var a=new ce,c=0;c<i.getNumGeometries();c++){var h=i.getGeometryN(c);h.getEnvelopeInternal().intersects(e)?a.add(h):s.add(h)}return this._geomFactory.buildGeometry(a)},zi.prototype.unionOptimized=function(e,i){var s=e.getEnvelopeInternal(),a=i.getEnvelopeInternal();if(!s.intersects(a))return Po.combine(e,i);if(e.getNumGeometries()<=1&&i.getNumGeometries()<=1)return this.unionActual(e,i);var c=s.intersection(a);return this.unionUsingEnvelopeIntersection(e,i,c)},zi.prototype.union=function(){if(this._inputPolys===null)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var e=new Rk(zi.STRTREE_NODE_CAPACITY),i=this._inputPolys.iterator();i.hasNext();){var s=i.next();e.insert(s.getEnvelopeInternal(),s)}this._inputPolys=null;var a=e.itemsTree();return this.unionTree(a)},zi.prototype.binaryUnion=function(){if(arguments.length===1){var e=arguments[0];return this.binaryUnion(e,0,e.size())}if(arguments.length===3){var i=arguments[0],s=arguments[1],a=arguments[2];if(a-s<=1){var c=zi.getGeometry(i,s);return this.unionSafe(c,null)}if(a-s==2)return this.unionSafe(zi.getGeometry(i,s),zi.getGeometry(i,s+1));var h=Math.trunc((a+s)/2),g=this.binaryUnion(i,s,h),y=this.binaryUnion(i,h,a);return this.unionSafe(g,y)}},zi.prototype.repeatedUnion=function(e){for(var i=null,s=e.iterator();s.hasNext();){var a=s.next();i=i===null?a.copy():i.union(a)}return i},zi.prototype.unionSafe=function(e,i){return e===null&&i===null?null:e===null?i.copy():i===null?e.copy():this.unionOptimized(e,i)},zi.prototype.unionActual=function(e,i){return zi.restrictToPolygons(e.union(i))},zi.prototype.unionTree=function(e){var i=this.reduceToGeometries(e);return this.binaryUnion(i)},zi.prototype.unionUsingEnvelopeIntersection=function(e,i,s){var a=new ce,c=this.extractByEnvelope(s,e,a),h=this.extractByEnvelope(s,i,a),g=this.unionActual(c,h);return a.add(g),Po.combine(a)},zi.prototype.bufferUnion=function(){if(arguments.length===1){var e=arguments[0],i=e.get(0).getFactory(),s=i.buildGeometry(e),a=s.buffer(0);return a}if(arguments.length===2){var c=arguments[0],h=arguments[1],g=c.getFactory(),y=g.createGeometryCollection([c,h]),w=y.buffer(0);return w}},zi.prototype.interfaces_=function(){return[]},zi.prototype.getClass=function(){return zi},zi.restrictToPolygons=function(e){if(Ue(e,Fl))return e;var i=tl.getPolygons(e);return i.size()===1?i.get(0):e.getFactory().createMultiPolygon(lr.toPolygonArray(i))},zi.getGeometry=function(e,i){return i>=e.size()?null:e.get(i)},zi.union=function(e){return new zi(e).union()},Xk.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(zi,Xk);var _0=function(){};function Yc(){return new k0}function k0(){this.reset()}_0.prototype.interfaces_=function(){return[]},_0.prototype.getClass=function(){return _0},_0.union=function(e,i){if(e.isEmpty()||i.isEmpty()){if(e.isEmpty()&&i.isEmpty())return Qe.createEmptyResult(Qe.UNION,e,i,e.getFactory());if(e.isEmpty())return i.copy();if(i.isEmpty())return e.copy()}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(i),Hn.overlayOp(e,i,Qe.UNION)},k0.prototype={constructor:k0,reset:function(){this.s=this.t=0},add:function(e){Kk(E0,e,this.t),Kk(this,E0.s,this.s),this.s?this.t+=E0.t:this.s=E0.t},valueOf:function(){return this.s}};var E0=new k0;function Kk(e,i,s){var a=e.s=i+s,c=a-i,h=a-c;e.t=i-h+(s-c)}var Ni=1e-6,ai=Math.PI,el=ai/2,Jk=ai/4,rl=2*ai,Xc=180/ai,Ys=ai/180,Un=Math.abs,WI=Math.atan,Dd=Math.atan2,Vi=Math.cos,Wi=Math.sin,Uf=Math.sqrt;function Qk(e){return e>1?0:e<-1?ai:Math.acos(e)}function Fd(e){return e>1?el:e<-1?-el:Math.asin(e)}function Gf(){}function T0(e,i){e&&t2.hasOwnProperty(e.type)&&t2[e.type](e,i)}var $k={Feature:function(e,i){T0(e.geometry,i)},FeatureCollection:function(e,i){for(var s=e.features,a=-1,c=s.length;++a<c;)T0(s[a].geometry,i)}},t2={Sphere:function(e,i){i.sphere()},Point:function(e,i){e=e.coordinates,i.point(e[0],e[1],e[2])},MultiPoint:function(e,i){for(var s=e.coordinates,a=-1,c=s.length;++a<c;)e=s[a],i.point(e[0],e[1],e[2])},LineString:function(e,i){ew(e.coordinates,i,0)},MultiLineString:function(e,i){for(var s=e.coordinates,a=-1,c=s.length;++a<c;)ew(s[a],i,0)},Polygon:function(e,i){e2(e.coordinates,i)},MultiPolygon:function(e,i){for(var s=e.coordinates,a=-1,c=s.length;++a<c;)e2(s[a],i)},GeometryCollection:function(e,i){for(var s=e.geometries,a=-1,c=s.length;++a<c;)T0(s[a],i)}};function ew(e,i,s){var a,c=-1,h=e.length-s;for(i.lineStart();++c<h;)a=e[c],i.point(a[0],a[1],a[2]);i.lineEnd()}function e2(e,i){var s=-1,a=e.length;for(i.polygonStart();++s<a;)ew(e[s],i,1);i.polygonEnd()}Yc(),Yc();function rw(e){return[Dd(e[1],e[0]),Fd(e[2])]}function Bd(e){var i=e[0],s=e[1],a=Vi(s);return[a*Vi(i),a*Wi(i),Wi(s)]}function S0(e,i){return e[0]*i[0]+e[1]*i[1]+e[2]*i[2]}function C0(e,i){return[e[1]*i[2]-e[2]*i[1],e[2]*i[0]-e[0]*i[2],e[0]*i[1]-e[1]*i[0]]}function iw(e,i){e[0]+=i[0],e[1]+=i[1],e[2]+=i[2]}function P0(e,i){return[e[0]*i,e[1]*i,e[2]*i]}function nw(e){var i=Uf(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=i,e[1]/=i,e[2]/=i}Yc();function r2(e,i){function s(a,c){return a=e(a,c),i(a[0],a[1])}return e.invert&&i.invert&&(s.invert=function(a,c){return(a=i.invert(a,c))&&e.invert(a[0],a[1])}),s}function ow(e,i){return[e>ai?e-rl:e<-ai?e+rl:e,i]}function i2(e){return function(i,s){return[(i+=e)>ai?i-rl:i<-ai?i+rl:i,s]}}function n2(e){var i=i2(e);return i.invert=i2(-e),i}function o2(e,i){var s=Vi(e),a=Wi(e),c=Vi(i),h=Wi(i);function g(y,w){var x=Vi(w),T=Vi(y)*x,E=Wi(y)*x,P=Wi(w),z=P*s+T*a;return[Dd(E*c-z*h,T*s-P*a),Fd(z*c+E*h)]}return g.invert=function(y,w){var x=Vi(w),T=Vi(y)*x,E=Wi(y)*x,P=Wi(w),z=P*c-E*h;return[Dd(E*c+P*h,T*s+z*a),Fd(z*s-T*a)]},g}function s2(e,i){(i=Bd(i))[0]-=e,nw(i);var s=Qk(-i[1]);return((-i[2]<0?-s:s)+rl-Ni)%rl}function a2(){var e,i=[];return{point:function(s,a){e.push([s,a])},lineStart:function(){i.push(e=[])},lineEnd:Gf,rejoin:function(){i.length>1&&i.push(i.pop().concat(i.shift()))},result:function(){var s=i;return i=[],e=null,s}}}function M0(e,i){return Un(e[0]-i[0])<Ni&&Un(e[1]-i[1])<Ni}function I0(e,i,s,a){this.x=e,this.z=i,this.o=s,this.e=a,this.v=!1,this.n=this.p=null}function l2(e,i,s,a,c){var h,g,y=[],w=[];if(e.forEach(function(N){if(!((B=N.length-1)<=0)){var B,A,Y=N[0],it=N[B];if(M0(Y,it)){for(c.lineStart(),h=0;h<B;++h)c.point((Y=N[h])[0],Y[1]);c.lineEnd()}else y.push(A=new I0(Y,N,null,!0)),w.push(A.o=new I0(Y,null,A,!1)),y.push(A=new I0(it,N,null,!1)),w.push(A.o=new I0(it,null,A,!0))}}),y.length){for(w.sort(i),c2(y),c2(w),h=0,g=w.length;h<g;++h)w[h].e=s=!s;for(var x,T,E=y[0];;){for(var P=E,z=!0;P.v;)if((P=P.n)===E)return;x=P.z,c.lineStart();do{if(P.v=P.o.v=!0,P.e){if(z)for(h=0,g=x.length;h<g;++h)c.point((T=x[h])[0],T[1]);else a(P.x,P.n.x,1,c);P=P.n}else{if(z)for(x=P.p.z,h=x.length-1;h>=0;--h)c.point((T=x[h])[0],T[1]);else a(P.x,P.p.x,-1,c);P=P.p}x=(P=P.o).z,z=!z}while(!P.v);c.lineEnd()}}}function c2(e){if(i=e.length){for(var i,s,a=0,c=e[0];++a<i;)c.n=s=e[a],s.p=c,c=s;c.n=s=e[0],s.p=c}}function u2(e,i){return e<i?-1:e>i?1:e>=i?0:NaN}ow.invert=ow;var sw,h2;(sw=u2).length===1&&(h2=sw,sw=function(e,i){return u2(h2(e),i)});function d2(e){for(var i,s,a,c=e.length,h=-1,g=0;++h<c;)g+=e[h].length;for(s=new Array(g);--c>=0;)for(i=(a=e[c]).length;--i>=0;)s[--g]=a[i];return s}var qf=1e9,L0=-qf;function ZI(e,i,s,a){function c(x,T){return e<=x&&x<=s&&i<=T&&T<=a}function h(x,T,E,P){var z=0,N=0;if(x==null||(z=g(x,E))!==(N=g(T,E))||w(x,T)<0^E>0)do P.point(z===0||z===3?e:s,z>1?a:i);while((z=(z+E+4)%4)!==N);else P.point(T[0],T[1])}function g(x,T){return Un(x[0]-e)<Ni?T>0?0:3:Un(x[0]-s)<Ni?T>0?2:1:Un(x[1]-i)<Ni?T>0?1:0:T>0?3:2}function y(x,T){return w(x.x,T.x)}function w(x,T){var E=g(x,1),P=g(T,1);return E!==P?E-P:E===0?T[1]-x[1]:E===1?x[0]-T[0]:E===2?x[1]-T[1]:T[0]-x[0]}return function(x){var T,E,P,z,N,B,A,Y,it,D,W,X=x,tt=a2(),Q={point:zt,lineStart:function(){Q.point=Et,E&&E.push(P=[]),D=!0,it=!1,A=Y=NaN},lineEnd:function(){T&&(Et(z,N),B&&it&&tt.rejoin(),T.push(tt.result())),Q.point=zt,it&&X.lineEnd()},polygonStart:function(){X=tt,T=[],E=[],W=!0},polygonEnd:function(){var Ft=function(){for(var It=0,Mt=0,St=E.length;Mt<St;++Mt)for(var Bt,Rt,Gt=E[Mt],vt=1,Ie=Gt.length,se=Gt[0],tr=se[0],we=se[1];vt<Ie;++vt)Bt=tr,Rt=we,tr=(se=Gt[vt])[0],we=se[1],Rt<=a?we>a&&(tr-Bt)*(a-Rt)>(we-Rt)*(e-Bt)&&++It:we<=a&&(tr-Bt)*(a-Rt)<(we-Rt)*(e-Bt)&&--It;return It}(),Tt=W&&Ft,Ht=(T=d2(T)).length;(Tt||Ht)&&(x.polygonStart(),Tt&&(x.lineStart(),h(null,null,1,x),x.lineEnd()),Ht&&l2(T,y,Ft,h,x),x.polygonEnd()),X=x,T=E=P=null}};function zt(Ft,Tt){c(Ft,Tt)&&X.point(Ft,Tt)}function Et(Ft,Tt){var Ht=c(Ft,Tt);if(E&&P.push([Ft,Tt]),D)z=Ft,N=Tt,B=Ht,D=!1,Ht&&(X.lineStart(),X.point(Ft,Tt));else if(Ht&&it)X.point(Ft,Tt);else{var It=[A=Math.max(L0,Math.min(qf,A)),Y=Math.max(L0,Math.min(qf,Y))],Mt=[Ft=Math.max(L0,Math.min(qf,Ft)),Tt=Math.max(L0,Math.min(qf,Tt))];(function(St,Bt,Rt,Gt,vt,Ie){var se,tr=St[0],we=St[1],He=0,pr=1,oi=Bt[0]-tr,wn=Bt[1]-we;if(se=Rt-tr,oi||!(se>0)){if(se/=oi,oi<0){if(se<He)return;se<pr&&(pr=se)}else if(oi>0){if(se>pr)return;se>He&&(He=se)}if(se=vt-tr,oi||!(se<0)){if(se/=oi,oi<0){if(se>pr)return;se>He&&(He=se)}else if(oi>0){if(se<He)return;se<pr&&(pr=se)}if(se=Gt-we,wn||!(se>0)){if(se/=wn,wn<0){if(se<He)return;se<pr&&(pr=se)}else if(wn>0){if(se>pr)return;se>He&&(He=se)}if(se=Ie-we,wn||!(se<0)){if(se/=wn,wn<0){if(se>pr)return;se>He&&(He=se)}else if(wn>0){if(se<He)return;se<pr&&(pr=se)}return He>0&&(St[0]=tr+He*oi,St[1]=we+He*wn),pr<1&&(Bt[0]=tr+pr*oi,Bt[1]=we+pr*wn),!0}}}}})(It,Mt,e,i,s,a)?(it||(X.lineStart(),X.point(It[0],It[1])),X.point(Mt[0],Mt[1]),Ht||X.lineEnd(),W=!1):Ht&&(X.lineStart(),X.point(Ft,Tt),W=!1)}A=Ft,Y=Tt,it=Ht}return Q}}var aw=Yc();Yc();function p2(e){return e}Yc(),Yc();var jd=1/0,R0=jd,Vf=-jd,A0=Vf,f2={point:function(e,i){e<jd&&(jd=e),e>Vf&&(Vf=e),i<R0&&(R0=i),i>A0&&(A0=i)},lineStart:Gf,lineEnd:Gf,polygonStart:Gf,polygonEnd:Gf,result:function(){var e=[[jd,R0],[Vf,A0]];return Vf=A0=-(R0=jd=1/0),e}};Yc();function g2(e,i,s,a){return function(c,h){var g,y,w,x=i(h),T=c.invert(a[0],a[1]),E=a2(),P=i(E),z=!1,N={point:B,lineStart:Y,lineEnd:it,polygonStart:function(){N.point=D,N.lineStart=W,N.lineEnd=X,y=[],g=[]},polygonEnd:function(){N.point=B,N.lineStart=Y,N.lineEnd=it,y=d2(y);var tt=function(Q,zt){var Et=zt[0],Ft=zt[1],Tt=[Wi(Et),-Vi(Et),0],Ht=0,It=0;aw.reset();for(var Mt=0,St=Q.length;Mt<St;++Mt)if(Rt=(Bt=Q[Mt]).length)for(var Bt,Rt,Gt=Bt[Rt-1],vt=Gt[0],Ie=Gt[1]/2+Jk,se=Wi(Ie),tr=Vi(Ie),we=0;we<Rt;++we,vt=pr,se=wn,tr=z0,Gt=He){var He=Bt[we],pr=He[0],oi=He[1]/2+Jk,wn=Wi(oi),z0=Vi(oi),Kc=pr-vt,Zf=Kc>=0?1:-1,Yf=Zf*Kc,Hd=Yf>ai,N0=se*wn;if(aw.add(Dd(N0*Zf*Wi(Yf),tr*z0+N0*Vi(Yf))),Ht+=Hd?Kc+Zf*rl:Kc,Hd^vt>=Et^pr>=Et){var Ud=C0(Bd(Gt),Bd(He));nw(Ud);var P2=C0(Tt,Ud);nw(P2);var M2=(Hd^Kc>=0?-1:1)*Fd(P2[2]);(Ft>M2||Ft===M2&&(Ud[0]||Ud[1]))&&(It+=Hd^Kc>=0?1:-1)}}return(Ht<-1e-6||Ht<Ni&&aw<-1e-6)^1&It}(g,T);y.length?(z||(h.polygonStart(),z=!0),l2(y,XI,tt,s,h)):tt&&(z||(h.polygonStart(),z=!0),h.lineStart(),s(null,null,1,h),h.lineEnd()),z&&(h.polygonEnd(),z=!1),y=g=null},sphere:function(){h.polygonStart(),h.lineStart(),s(null,null,1,h),h.lineEnd(),h.polygonEnd()}};function B(tt,Q){var zt=c(tt,Q);e(tt=zt[0],Q=zt[1])&&h.point(tt,Q)}function A(tt,Q){var zt=c(tt,Q);x.point(zt[0],zt[1])}function Y(){N.point=A,x.lineStart()}function it(){N.point=B,x.lineEnd()}function D(tt,Q){w.push([tt,Q]);var zt=c(tt,Q);P.point(zt[0],zt[1])}function W(){P.lineStart(),w=[]}function X(){D(w[0][0],w[0][1]),P.lineEnd();var tt,Q,zt,Et,Ft=P.clean(),Tt=E.result(),Ht=Tt.length;if(w.pop(),g.push(w),w=null,Ht)if(1&Ft){if((Q=(zt=Tt[0]).length-1)>0){for(z||(h.polygonStart(),z=!0),h.lineStart(),tt=0;tt<Q;++tt)h.point((Et=zt[tt])[0],Et[1]);h.lineEnd()}}else Ht>1&&2&Ft&&Tt.push(Tt.pop().concat(Tt.shift())),y.push(Tt.filter(YI))}return N}}function YI(e){return e.length>1}function XI(e,i){return((e=e.x)[0]<0?e[1]-el-Ni:el-e[1])-((i=i.x)[0]<0?i[1]-el-Ni:el-i[1])}var m2=g2(function(){return!0},function(e){var i,s=NaN,a=NaN,c=NaN;return{lineStart:function(){e.lineStart(),i=1},point:function(h,g){var y=h>0?ai:-ai,w=Un(h-s);Un(w-ai)<Ni?(e.point(s,a=(a+g)/2>0?el:-el),e.point(c,a),e.lineEnd(),e.lineStart(),e.point(y,a),e.point(h,a),i=0):c!==y&&w>=ai&&(Un(s-c)<Ni&&(s-=c*Ni),Un(h-y)<Ni&&(h-=y*Ni),a=function(x,T,E,P){var z,N,B=Wi(x-E);return Un(B)>Ni?WI((Wi(T)*(N=Vi(P))*Wi(E)-Wi(P)*(z=Vi(T))*Wi(x))/(z*N*B)):(T+P)/2}(s,a,h,g),e.point(c,a),e.lineEnd(),e.lineStart(),e.point(y,a),i=0),e.point(s=h,a=g),c=y},lineEnd:function(){e.lineEnd(),s=a=NaN},clean:function(){return 2-i}}},function(e,i,s,a){var c;if(e==null)c=s*el,a.point(-ai,c),a.point(0,c),a.point(ai,c),a.point(ai,0),a.point(ai,-c),a.point(0,-c),a.point(-ai,-c),a.point(-ai,0),a.point(-ai,c);else if(Un(e[0]-i[0])>Ni){var h=e[0]<i[0]?ai:-ai;c=s*h/2,a.point(-h,c),a.point(0,c),a.point(h,c)}else a.point(i[0],i[1])},[-ai,-el]);function KI(e,i){var s=Vi(e),a=s>0,c=Un(s)>Ni;function h(w,x){return Vi(w)*Vi(x)>s}function g(w,x,T){var E=[1,0,0],P=C0(Bd(w),Bd(x)),z=S0(P,P),N=P[0],B=z-N*N;if(!B)return!T&&w;var A=s*z/B,Y=-s*N/B,it=C0(E,P),D=P0(E,A);iw(D,P0(P,Y));var W=it,X=S0(D,W),tt=S0(W,W),Q=X*X-tt*(S0(D,D)-1);if(!(Q<0)){var zt=Uf(Q),Et=P0(W,(-X-zt)/tt);if(iw(Et,D),Et=rw(Et),!T)return Et;var Ft,Tt=w[0],Ht=x[0],It=w[1],Mt=x[1];Ht<Tt&&(Ft=Tt,Tt=Ht,Ht=Ft);var St=Ht-Tt,Bt=Un(St-ai)<Ni;if(!Bt&&Mt<It&&(Ft=It,It=Mt,Mt=Ft),Bt||St<Ni?Bt?It+Mt>0^Et[1]<(Un(Et[0]-Tt)<Ni?It:Mt):It<=Et[1]&&Et[1]<=Mt:St>ai^(Tt<=Et[0]&&Et[0]<=Ht)){var Rt=P0(W,(-X+zt)/tt);return iw(Rt,D),[Et,rw(Rt)]}}}function y(w,x){var T=a?e:ai-e,E=0;return w<-T?E|=1:w>T&&(E|=2),x<-T?E|=4:x>T&&(E|=8),E}return g2(h,function(w){var x,T,E,P,z;return{lineStart:function(){P=E=!1,z=1},point:function(N,B){var A,Y=[N,B],it=h(N,B),D=a?it?0:y(N,B):it?y(N+(N<0?ai:-ai),B):0;if(!x&&(P=E=it)&&w.lineStart(),it!==E&&(!(A=g(x,Y))||M0(x,A)||M0(Y,A))&&(Y[0]+=Ni,Y[1]+=Ni,it=h(Y[0],Y[1])),it!==E)z=0,it?(w.lineStart(),A=g(Y,x),w.point(A[0],A[1])):(A=g(x,Y),w.point(A[0],A[1]),w.lineEnd()),x=A;else if(c&&x&&a^it){var W;D&T||!(W=g(Y,x,!0))||(z=0,a?(w.lineStart(),w.point(W[0][0],W[0][1]),w.point(W[1][0],W[1][1]),w.lineEnd()):(w.point(W[1][0],W[1][1]),w.lineEnd(),w.lineStart(),w.point(W[0][0],W[0][1])))}!it||x&&M0(x,Y)||w.point(Y[0],Y[1]),x=Y,E=it,T=D},lineEnd:function(){E&&w.lineEnd(),x=null},clean:function(){return z|(P&&E)<<1}}},function(w,x,T,E){(function(P,z,N,B,A,Y){if(N){var it=Vi(z),D=Wi(z),W=B*N;A==null?(A=z+B*rl,Y=z-W/2):(A=s2(it,A),Y=s2(it,Y),(B>0?A<Y:A>Y)&&(A+=B*rl));for(var X,tt=A;B>0?tt>Y:tt<Y;tt-=W)X=rw([it,-D*Vi(tt),-D*Wi(tt)]),P.point(X[0],X[1])}})(E,e,i,T,w,x)},a?[0,-e]:[-ai,e-ai])}function v2(e){return function(i){var s=new lw;for(var a in e)s[a]=e[a];return s.stream=i,s}}function lw(){}function y2(e,i,s){var a=i[1][0]-i[0][0],c=i[1][1]-i[0][1],h=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),h!=null&&e.clipExtent(null),function(T,E){T&&$k.hasOwnProperty(T.type)?$k[T.type](T,E):T0(T,E)}(s,e.stream(f2));var g=f2.result(),y=Math.min(a/(g[1][0]-g[0][0]),c/(g[1][1]-g[0][1])),w=+i[0][0]+(a-y*(g[1][0]+g[0][0]))/2,x=+i[0][1]+(c-y*(g[1][1]+g[0][1]))/2;return h!=null&&e.clipExtent(h),e.scale(150*y).translate([w,x])}lw.prototype={constructor:lw,point:function(e,i){this.stream.point(e,i)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var JI=Vi(30*Ys);function b2(e,i){return+i?function(s,a){function c(h,g,y,w,x,T,E,P,z,N,B,A,Y,it){var D=E-h,W=P-g,X=D*D+W*W;if(X>4*a&&Y--){var tt=w+N,Q=x+B,zt=T+A,Et=Uf(tt*tt+Q*Q+zt*zt),Ft=Fd(zt/=Et),Tt=Un(Un(zt)-1)<Ni||Un(y-z)<Ni?(y+z)/2:Dd(Q,tt),Ht=s(Tt,Ft),It=Ht[0],Mt=Ht[1],St=It-h,Bt=Mt-g,Rt=W*St-D*Bt;(Rt*Rt/X>a||Un((D*St+W*Bt)/X-.5)>.3||w*N+x*B+T*A<JI)&&(c(h,g,y,w,x,T,It,Mt,Tt,tt/=Et,Q/=Et,zt,Y,it),it.point(It,Mt),c(It,Mt,Tt,tt,Q,zt,E,P,z,N,B,A,Y,it))}}return function(h){var g,y,w,x,T,E,P,z,N,B,A,Y,it={point:D,lineStart:W,lineEnd:tt,polygonStart:function(){h.polygonStart(),it.lineStart=Q},polygonEnd:function(){h.polygonEnd(),it.lineStart=W}};function D(Ft,Tt){Ft=s(Ft,Tt),h.point(Ft[0],Ft[1])}function W(){z=NaN,it.point=X,h.lineStart()}function X(Ft,Tt){var Ht=Bd([Ft,Tt]),It=s(Ft,Tt);c(z,N,P,B,A,Y,z=It[0],N=It[1],P=Ft,B=Ht[0],A=Ht[1],Y=Ht[2],16,h),h.point(z,N)}function tt(){it.point=D,h.lineEnd()}function Q(){W(),it.point=zt,it.lineEnd=Et}function zt(Ft,Tt){X(g=Ft,Tt),y=z,w=N,x=B,T=A,E=Y,it.point=X}function Et(){c(z,N,P,B,A,Y,y,w,g,x,T,E,16,h),it.lineEnd=tt,tt()}return it}}(e,i):function(s){return v2({point:function(a,c){a=s(a,c),this.stream.point(a[0],a[1])}})}(e)}var QI=v2({point:function(e,i){this.stream.point(e*Ys,i*Ys)}});function $I(e){return function(i){var s,a,c,h,g,y,w,x,T,E,P=150,z=480,N=250,B=0,A=0,Y=0,it=0,D=0,W=null,X=m2,tt=null,Q=p2,zt=.5,Et=b2(Ht,zt);function Ft(St){return[(St=g(St[0]*Ys,St[1]*Ys))[0]*P+a,c-St[1]*P]}function Tt(St){return(St=g.invert((St[0]-a)/P,(c-St[1])/P))&&[St[0]*Xc,St[1]*Xc]}function Ht(St,Bt){return[(St=s(St,Bt))[0]*P+a,c-St[1]*P]}function It(){g=r2(h=function(Bt,Rt,Gt){return(Bt%=rl)?Rt||Gt?r2(n2(Bt),o2(Rt,Gt)):n2(Bt):Rt||Gt?o2(Rt,Gt):ow}(Y,it,D),s);var St=s(B,A);return a=z-St[0]*P,c=N+St[1]*P,Mt()}function Mt(){return T=E=null,Ft}return Ft.stream=function(St){return T&&E===St?T:T=QI(X(h,Et(Q(E=St))))},Ft.clipAngle=function(St){return arguments.length?(X=+St?KI(W=St*Ys,6*Ys):(W=null,m2),Mt()):W*Xc},Ft.clipExtent=function(St){return arguments.length?(Q=St==null?(tt=y=w=x=null,p2):ZI(tt=+St[0][0],y=+St[0][1],w=+St[1][0],x=+St[1][1]),Mt()):tt==null?null:[[tt,y],[w,x]]},Ft.scale=function(St){return arguments.length?(P=+St,It()):P},Ft.translate=function(St){return arguments.length?(z=+St[0],N=+St[1],It()):[z,N]},Ft.center=function(St){return arguments.length?(B=St[0]%360*Ys,A=St[1]%360*Ys,It()):[B*Xc,A*Xc]},Ft.rotate=function(St){return arguments.length?(Y=St[0]%360*Ys,it=St[1]%360*Ys,D=St.length>2?St[2]%360*Ys:0,It()):[Y*Xc,it*Xc,D*Xc]},Ft.precision=function(St){return arguments.length?(Et=b2(Ht,zt=St*St),Mt()):Uf(zt)},Ft.fitExtent=function(St,Bt){return y2(Ft,St,Bt)},Ft.fitSize=function(St,Bt){return function(Rt,Gt,vt){return y2(Rt,[[0,0],Gt],vt)}(Ft,St,Bt)},function(){return s=i.apply(this,arguments),Ft.invert=s.invert&&Tt,It()}}(function(){return e})()}var w2=function(e){return function(i,s){var a=Vi(i),c=Vi(s),h=e(a*c);return[h*c*Wi(i),h*Wi(s)]}}(function(e){return(e=Qk(e))&&e/Wi(e)});function tL(){return $I(w2).scale(79.4188).clipAngle(179.999)}function O0(e,i,s,a){var c=e.properties||{},h=e.type==="Feature"?e.geometry:e;if(h.type==="GeometryCollection"){var g=[];return ee(e,function(P){var z=O0(P,i,s,a);z&&g.push(z)}),M(g)}var y=function(P){var z=os(P).geometry.coordinates,N=[-z[0],-z[1]];return tL().rotate(N).scale(r)}(h),w={type:h.type,coordinates:_2(h.coordinates,y)},x=new Vb().read(w),T=G(Z(i,s),"meters"),E=gn.bufferOp(x,T,a);if(!x2((E=new Ik().write(E)).coordinates))return u({type:E.type,coordinates:k2(E.coordinates,y)},c)}function x2(e){return Array.isArray(e[0])?x2(e[0]):isNaN(e[0])}function _2(e,i){return typeof e[0]!="object"?i(e):e.map(function(s){return _2(s,i)})}function k2(e,i){return typeof e[0]!="object"?i.invert(e):e.map(function(s){return k2(s,i)})}function Wf(e,i,s){s===void 0&&(s={});var a=ht(e),c=ht(i),h=Nl.intersection(a.coordinates,c.coordinates);return h.length===0?null:h.length===1?v(h[0],s.properties):H(h,s.properties)}function E2(e,i,s){s===void 0&&(s={});var a=JSON.stringify(s.properties||{}),c=e[0],h=e[1],g=e[2],y=e[3],w=(h+y)/2,x=(c+g)/2,T=2*i/ir([c,w],[g,w],s)*(g-c),E=2*i/ir([x,h],[x,y],s)*(y-h),P=T/2,z=2*P,N=Math.sqrt(3)/2*E,B=g-c,A=y-h,Y=3/4*z,it=N,D=(B-z)/(z-P/2),W=Math.floor(D),X=(W*Y-P/2-B)/2-P/2+Y/2,tt=Math.floor((A-N)/N),Q=(A-tt*N)/2,zt=tt*N-A>N/2;zt&&(Q-=N/4);for(var Et=[],Ft=[],Tt=0;Tt<6;Tt++){var Ht=2*Math.PI/6*Tt;Et.push(Math.cos(Ht)),Ft.push(Math.sin(Ht))}for(var It=[],Mt=0;Mt<=W;Mt++)for(var St=0;St<=tt;St++){var Bt=Mt%2==1;if((St!==0||!Bt)&&(St!==0||!zt)){var Rt=Mt*Y+c-X,Gt=St*it+h+Q;if(Bt&&(Gt-=N/2),s.triangles===!0)rL([Rt,Gt],T/2,E/2,JSON.parse(a),Et,Ft).forEach(function(Ie){s.mask?Wf(s.mask,Ie)&&It.push(Ie):It.push(Ie)});else{var vt=eL([Rt,Gt],T/2,E/2,JSON.parse(a),Et,Ft);s.mask?Wf(s.mask,vt)&&It.push(vt):It.push(vt)}}}return M(It)}function eL(e,i,s,a,c,h){for(var g=[],y=0;y<6;y++){var w=e[0]+i*c[y],x=e[1]+s*h[y];g.push([w,x])}return g.push(g[0].slice()),v([g],a)}function rL(e,i,s,a,c,h){for(var g=[],y=0;y<6;y++){var w=[];w.push(e),w.push([e[0]+i*c[y],e[1]+s*h[y]]),w.push([e[0]+i*c[(y+1)%6],e[1]+s*h[(y+1)%6]]),w.push(e),g.push(v([w],a))}return g}function T2(e){return H(e)}function iL(e){return v(e&&e.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]])}function S2(e,i,s){return s===void 0&&(s={}),function(a,c,h,g){g===void 0&&(g={});for(var y=[],w=a[0],x=a[1],T=a[2],E=a[3],P=c/ir([w,x],[T,x],g)*(T-w),z=h/ir([w,x],[w,E],g)*(E-x),N=T-w,B=E-x,A=Math.floor(N/P),Y=Math.floor(B/z),it=(B-Y*z)/2,D=w+(N-A*P)/2,W=0;W<A;W++){for(var X=x+it,tt=0;tt<Y;tt++){var Q=v([[[D,X],[D,X+z],[D+P,X+z],[D+P,X],[D,X]]],g.properties);g.mask?M_(g.mask,Q)&&y.push(Q):y.push(Q),X+=z}D+=P}return M(y)}(e,i,i,s)}function C2(e,i,s){s===void 0&&(s={});for(var a=[],c=i/ir([e[0],e[1]],[e[2],e[1]],s)*(e[2]-e[0]),h=i/ir([e[0],e[1]],[e[0],e[3]],s)*(e[3]-e[1]),g=0,y=e[0];y<=e[2];){for(var w=0,x=e[1];x<=e[3];){var T=null,E=null;g%2==0&&w%2==0?(T=v([[[y,x],[y,x+h],[y+c,x],[y,x]]],s.properties),E=v([[[y,x+h],[y+c,x+h],[y+c,x],[y,x+h]]],s.properties)):g%2==0&&w%2==1?(T=v([[[y,x],[y+c,x+h],[y+c,x],[y,x]]],s.properties),E=v([[[y,x],[y,x+h],[y+c,x+h],[y,x]]],s.properties)):w%2==0&&g%2==1?(T=v([[[y,x],[y,x+h],[y+c,x+h],[y,x]]],s.properties),E=v([[[y,x],[y+c,x+h],[y+c,x],[y,x]]],s.properties)):w%2==1&&g%2==1&&(T=v([[[y,x],[y,x+h],[y+c,x],[y,x]]],s.properties),E=v([[[y,x+h],[y+c,x+h],[y+c,x],[y,x+h]]],s.properties)),s.mask?(Wf(s.mask,T)&&a.push(T),Wf(s.mask,E)&&a.push(E)):(a.push(T),a.push(E)),x+=h,w++}g++,y+=c}return M(a)}w2.invert=function(e){return function(i,s){var a=Uf(i*i+s*s),c=e(a),h=Wi(c),g=Vi(c);return[Dd(i*h,a*g),Fd(a&&s*h/a)]}}(function(e){return e}),n.along=function(e,i,s){s===void 0&&(s={});for(var a=ht(e).coordinates,c=0,h=0;h<a.length&&!(i>=c&&h===a.length-1);h++){if(c>=i){var g=i-c;if(g){var y=Cs(a[h],a[h-1])-180;return $i(a[h],g,y,s)}return f(a[h])}c+=ir(a[h],a[h+1],s)}return f(a[a.length-1])},n.angle=function(e,i,s,a){if(a===void 0&&(a={}),!gt(a))throw new Error("options is invalid");if(!e)throw new Error("startPoint is required");if(!i)throw new Error("midPoint is required");if(!s)throw new Error("endPoint is required");var c=e,h=i,g=s,y=mt(a.mercator!==!0?Cs(c,h):zl(c,h)),w=mt(a.mercator!==!0?Cs(g,h):zl(g,h)),x=Math.abs(y-w);return a.explementary===!0?360-x:x},n.applyFilter=i0,n.area=rd,n.areaFactors=l,n.bbox=Dt,n.bboxClip=function(e,i){var s=ht(e),a=s.type,c=e.type==="Feature"?e.properties:{},h=s.coordinates;switch(a){case"LineString":case"MultiLineString":var g=[];return a==="LineString"&&(h=[h]),h.forEach(function(y){(function(w,x,T){var E,P,z,N,B,A=w.length,Y=Ol(w[0],x),it=[];for(T||(T=[]),E=1;E<A;E++){for(N=w[E-1],P=z=Ol(B=w[E],x);;){if(!(Y|P)){it.push(N),P!==z?(it.push(B),E<A-1&&(T.push(it),it=[])):E===A-1&&it.push(B);break}if(Y&P)break;Y?Y=Ol(N=cf(N,B,Y,x),x):P=Ol(B=cf(N,B,P,x),x)}Y=z}it.length&&T.push(it)})(y,i,g)}),g.length===1?k(g[0],c):I(g,c);case"Polygon":return v(Hi(h,i),c);case"MultiPolygon":return H(h.map(function(y){return Hi(y,i)}),c);default:throw new Error("geometry "+a+" not supported")}},n.bboxPolygon=Gp,n.bearing=Cs,n.bearingToAngle=mt,n.bearingToAzimuth=mt,n.bezier=Pm,n.bezierSpline=Pm,n.booleanClockwise=Xm,n.booleanContains=function(e,i){var s=ht(e),a=ht(i),c=s.type,h=a.type,g=s.coordinates,y=a.coordinates;switch(c){case"Point":switch(h){case"Point":return xb(g,y);default:throw new Error("feature2 "+h+" geometry not supported")}case"MultiPoint":switch(h){case"Point":return function(w,x){var T,E=!1;for(T=0;T<w.coordinates.length;T++)if(xb(w.coordinates[T],x.coordinates)){E=!0;break}return E}(s,a);case"MultiPoint":return function(w,x){for(var T=0,E=x.coordinates;T<E.length;T++){for(var P=E[T],z=!1,N=0,B=w.coordinates;N<B.length;N++)if(xb(P,B[N])){z=!0;break}if(!z)return!1}return!0}(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}case"LineString":switch(h){case"Point":return ro(a,s,{ignoreEndVertices:!0});case"LineString":return function(w,x){for(var T=!1,E=0,P=x.coordinates;E<P.length;E++){var z=P[E];if(ro({type:"Point",coordinates:z},w,{ignoreEndVertices:!0})&&(T=!0),!ro({type:"Point",coordinates:z},w,{ignoreEndVertices:!1}))return!1}return T}(s,a);case"MultiPoint":return function(w,x){for(var T=!1,E=0,P=x.coordinates;E<P.length;E++){var z=P[E];if(ro(z,w,{ignoreEndVertices:!0})&&(T=!0),!ro(z,w))return!1}return!!T}(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}case"Polygon":switch(h){case"Point":return Je(a,s,{ignoreBoundary:!0});case"LineString":return function(w,x){var T=!1,E=0,P=Dt(w),z=Dt(x);if(!x_(P,z))return!1;for(;E<x.coordinates.length-1;E++)if(Je({type:"Point",coordinates:FM(x.coordinates[E],x.coordinates[E+1])},w,{ignoreBoundary:!0})){T=!0;break}return T}(s,a);case"Polygon":return function(w,x){if(w.type==="Feature"&&w.geometry===null||x.type==="Feature"&&x.geometry===null)return!1;var T=Dt(w),E=Dt(x);if(!x_(T,E))return!1;for(var P=ht(x).coordinates,z=0,N=P;z<N.length;z++)for(var B=0,A=N[z];B<A.length;B++)if(!Je(A[B],w))return!1;return!0}(s,a);case"MultiPoint":return function(w,x){for(var T=0,E=x.coordinates;T<E.length;T++)if(!Je(E[T],w,{ignoreBoundary:!0}))return!1;return!0}(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}default:throw new Error("feature1 "+c+" geometry not supported")}},n.booleanCrosses=function(e,i){var s=ht(e),a=ht(i),c=s.type,h=a.type;switch(c){case"MultiPoint":switch(h){case"LineString":return __(s,a);case"Polygon":return E_(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}case"LineString":switch(h){case"MultiPoint":return __(a,s);case"LineString":return function(g,y){if(dn(g,y).features.length>0)for(var w=0;w<g.coordinates.length-1;w++)for(var x=0;x<y.coordinates.length-1;x++){var T=!0;if(x!==0&&x!==y.coordinates.length-2||(T=!1),T_(g.coordinates[w],g.coordinates[w+1],y.coordinates[x],T))return!0}return!1}(s,a);case"Polygon":return k_(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}case"Polygon":switch(h){case"MultiPoint":return E_(a,s);case"LineString":return k_(a,s);default:throw new Error("feature2 "+h+" geometry not supported")}default:throw new Error("feature1 "+c+" geometry not supported")}},n.booleanDisjoint=y_,n.booleanEqual=function(e,i){return ht(e).type===ht(i).type&&new P_({precision:6}).compare(ia(e),ia(i))},n.booleanIntersects=M_,n.booleanOverlap=function(e,i){var s=ht(e),a=ht(i),c=s.type,h=a.type;if(c==="MultiPoint"&&h!=="MultiPoint"||(c==="LineString"||c==="MultiLineString")&&h!=="LineString"&&h!=="MultiLineString"||(c==="Polygon"||c==="MultiPolygon")&&h!=="Polygon"&&h!=="MultiPolygon")throw new Error("features must be of the same type");if(c==="Point")throw new Error("Point geometry not supported");if(new P_({precision:6}).compare(e,i))return!1;var g=0;switch(c){case"MultiPoint":for(var y=0;y<s.coordinates.length;y++)for(var w=0;w<a.coordinates.length;w++){var x=s.coordinates[y],T=a.coordinates[w];if(x[0]===T[0]&&x[1]===T[1])return!0}return!1;case"LineString":case"MultiLineString":rr(e,function(E){rr(i,function(P){Ym(E,P).features.length&&g++})});break;case"Polygon":case"MultiPolygon":rr(e,function(E){rr(i,function(P){dn(E,P).features.length&&g++})})}return g>0},n.booleanParallel=function(e,i){if(!e)throw new Error("line1 is required");if(!i)throw new Error("line2 is required");if(A_(e,"line1")!=="LineString")throw new Error("line1 must be a LineString");if(A_(i,"line2")!=="LineString")throw new Error("line2 must be a LineString");for(var s=Vn(ia(e)).features,a=Vn(ia(i)).features,c=0;c<s.length;c++){var h=s[c].geometry.coordinates;if(!a[c])break;if(!KM(h,a[c].geometry.coordinates))return!1}return!0},n.booleanPointInPolygon=Je,n.booleanPointOnLine=ro,n.booleanWithin=Ic,n.buffer=function(e,i,s){var a=(s=s||{}).units||"kilometers",c=s.steps||8;if(!e)throw new Error("geojson is required");if(typeof s!="object")throw new Error("options must be an object");if(typeof c!="number")throw new Error("steps must be an number");if(i===void 0)throw new Error("radius is required");if(c<=0)throw new Error("steps must be greater than 0");var h=[];switch(e.type){case"GeometryCollection":return ee(e,function(g){var y=O0(g,i,a,c);y&&h.push(y)}),M(h);case"FeatureCollection":return bt(e,function(g){var y=O0(g,i,a,c);y&&bt(y,function(w){w&&h.push(w)})}),M(h)}return O0(e,i,a,c)},n.center=os,n.centerMean=Tb,n.centerMedian=function(e,i){if(i===void 0&&(i={}),!gt(i=i||{}))throw new Error("options is invalid");var s=i.counter||10;if(!ut(s))throw new Error("counter must be a number");var a=i.weight,c=Tb(e,{weight:i.weight}),h=M([]);bt(e,function(y){var w;h.features.push(na(y,{properties:{weight:(w=y.properties)===null||w===void 0?void 0:w[a]}}))});var g={tolerance:i.tolerance,medianCandidates:[]};return V_(c.geometry.coordinates,[0,0],h,g,s)},n.centerOfMass=function e(i,s){switch(s===void 0&&(s={}),Lt(i)){case"Point":return f(R(i),s.properties);case"Polygon":var a=[];Ct(i,function(W){a.push(W)});var c,h,g,y,w,x,T,E,P=na(i,{properties:s.properties}),z=P.geometry.coordinates,N=0,B=0,A=0,Y=a.map(function(W){return[W[0]-z[0],W[1]-z[1]]});for(c=0;c<a.length-1;c++)y=(h=Y[c])[0],x=h[1],w=(g=Y[c+1])[0],A+=E=y*(T=g[1])-w*x,N+=(y+w)*E,B+=(x+T)*E;if(A===0)return P;var it=1/(6*(.5*A));return f([z[0]+it*N,z[1]+it*B],s.properties);default:var D=cr(i);return D?e(D,{properties:s.properties}):na(i,{properties:s.properties})}},n.centroid=na,n.circle=qp,n.cleanCoords=ia,n.clone=Si,n.clusterEach=Sb,n.clusterReduce=sk,n.clusters=yI,n.clustersDbscan=function(e,i,s){s===void 0&&(s={}),s.mutate!==!0&&(e=Si(e)),s.minPoints=s.minPoints||3;var a=new GM.DBSCAN,c=a.run(qt(e),V(i,s.units),s.minPoints,ir),h=-1;return c.forEach(function(g){h++,g.forEach(function(y){var w=e.features[y];w.properties||(w.properties={}),w.properties.cluster=h,w.properties.dbscan="core"})}),a.noise.forEach(function(g){var y=e.features[g];y.properties||(y.properties={}),y.properties.cluster?y.properties.dbscan="edge":y.properties.dbscan="noise"}),e},n.clustersKmeans=function(e,i){i===void 0&&(i={});var s=e.features.length;i.numberOfClusters=i.numberOfClusters||Math.round(Math.sqrt(s/2)),i.numberOfClusters>s&&(i.numberOfClusters=s),i.mutate!==!0&&(e=Si(e));var a=qt(e),c=a.slice(0,i.numberOfClusters),h=XM(a,i.numberOfClusters,c),g={};return h.centroids.forEach(function(y,w){g[w]=y}),bt(e,function(y,w){var x=h.idxs[w];y.properties.cluster=x,y.properties.centroid=g[x]}),e},n.collect=function(e,i,s,a){var c=Ji(6),h=i.features.map(function(g){var y;return{minX:g.geometry.coordinates[0],minY:g.geometry.coordinates[1],maxX:g.geometry.coordinates[0],maxY:g.geometry.coordinates[1],property:(y=g.properties)===null||y===void 0?void 0:y[s]}});return c.load(h),e.features.forEach(function(g){g.properties||(g.properties={});var y=Dt(g),w=c.search({minX:y[0],minY:y[1],maxX:y[2],maxY:y[3]}),x=[];w.forEach(function(T){Je([T.minX,T.minY],g)&&x.push(T.property)}),g.properties[a]=x}),e},n.collectionOf=_t,n.combine=function(e){var i={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}};return bt(e,function(s){var a,c,h,g;switch((g=s.geometry)===null||g===void 0?void 0:g.type){case"Point":i.MultiPoint.coordinates.push(s.geometry.coordinates),i.MultiPoint.properties.push(s.properties);break;case"MultiPoint":(a=i.MultiPoint.coordinates).push.apply(a,s.geometry.coordinates),i.MultiPoint.properties.push(s.properties);break;case"LineString":i.MultiLineString.coordinates.push(s.geometry.coordinates),i.MultiLineString.properties.push(s.properties);break;case"MultiLineString":(c=i.MultiLineString.coordinates).push.apply(c,s.geometry.coordinates),i.MultiLineString.properties.push(s.properties);break;case"Polygon":i.MultiPolygon.coordinates.push(s.geometry.coordinates),i.MultiPolygon.properties.push(s.properties);break;case"MultiPolygon":(h=i.MultiPolygon.coordinates).push.apply(h,s.geometry.coordinates),i.MultiPolygon.properties.push(s.properties)}}),M(Object.keys(i).filter(function(s){return i[s].coordinates.length}).sort().map(function(s){return u({type:s,coordinates:i[s].coordinates},{collectedProperties:i[s].properties})}))},n.concave=function(e,i){i===void 0&&(i={});var s=i.maxEdge||1/0,a=_m(function(h){var g=[],y={};return bt(h,function(w){if(w.geometry){var x=w.geometry.coordinates.join("-");Object.prototype.hasOwnProperty.call(y,x)||(g.push(w),y[x]=!0)}}),M(g)}(e));if(a.features=a.features.filter(function(h){var g=h.geometry.coordinates[0][0],y=h.geometry.coordinates[0][1],w=h.geometry.coordinates[0][2],x=ir(g,y,i),T=ir(y,w,i),E=ir(g,w,i);return x<=s&&T<=s&&E<=s}),a.features.length<1)return null;var c=Tm(a);return c.coordinates.length===1&&(c.coordinates=c.coordinates[0],c.type="Polygon"),u(c)},n.containsNumber=st,n.convertArea=nt,n.convertDistance=V,n.convertLength=V,n.convex=cr,n.coordAll=qt,n.coordEach=Ct,n.coordReduce=Kt,n.createBins=Cb,n.degrees2radians=ot,n.degreesToRadians=ot,n.destination=$i,n.difference=function(e,i){var s=ht(e),a=ht(i),c=e.properties||{},h=Nl.difference(s.coordinates,a.coordinates);return h.length===0?null:h.length===1?v(h[0],c):H(h,c)},n.dissolve=function(e,i){if(!gt(i=i||{}))throw new Error("options is invalid");var s=i.propertyName;_t(e,"Polygon","dissolve");var a=[];if(!i.propertyName)return sd(H(Nl.union.apply(null,e.features.map(function(w){return w.geometry.coordinates}))));var c={};bt(e,function(w){Object.prototype.hasOwnProperty.call(c,w.properties[s])||(c[w.properties[s]]=[]),c[w.properties[s]].push(w)});for(var h=Object.keys(c),g=0;g<h.length;g++){var y=H(Nl.union.apply(null,c[h[g]].map(function(w){return w.geometry.coordinates})));y.properties[s]=h[g],a.push(y)}return sd(M(a))},n.distance=ir,n.distanceToDegrees=at,n.distanceToRadians=Z,n.distanceWeight=Z_,n.earthRadius=r,n.ellipse=G_,n.envelope=qh,n.explode=Nu,n.factors=t,n.feature=u,n.featureCollection=M,n.featureEach=bt,n.featureOf=dt,n.featureReduce=At,n.filterProperties=ak,n.findPoint=yt,n.findSegment=Bi,n.flatten=sd,n.flattenEach=ae,n.flattenReduce=le,n.flip=function(e,i){if(!gt(i=i||{}))throw new Error("options is invalid");var s=i.mutate;if(!e)throw new Error("geojson is required");return s!==!1&&s!==void 0||(e=Si(e)),Ct(e,function(a){var c=a[0],h=a[1];a[0]=h,a[1]=c}),e},n.geojsonType=pt,n.geomEach=ee,n.geomReduce=pe,n.geometry=d,n.geometryCollection=U,n.getCluster=ok,n.getCoord=R,n.getCoords=j,n.getGeom=ht,n.getType=Lt,n.greatCircle=function(e,i,s){if(typeof(s=s||{})!="object")throw new Error("options is invalid");var a=s.properties,c=s.npoints,h=s.offset;return e=R(e),i=R(i),a=a||{},c=c||100,h=h||10,new Ut({x:e[0],y:e[1]},{x:i[0],y:i[1]},a).Arc(c,{offset:h}).json()},n.helpers=Xt,n.hexGrid=E2,n.inside=Je,n.interpolate=function(e,i,s){if(typeof(s=s||{})!="object")throw new Error("options is invalid");var a=s.gridType,c=s.property,h=s.weight;if(!e)throw new Error("points is required");if(_t(e,"Point","input must contain Points"),!i)throw new Error("cellSize is required");if(h!==void 0&&typeof h!="number")throw new Error("weight must be a number");c=c||"elevation",a=a||"square",h=h||1;var g,y=Dt(e);switch(a){case"point":case"points":g=of(y,i,s);break;case"square":case"squares":g=S2(y,i,s);break;case"hex":case"hexes":g=E2(y,i,s);break;case"triangle":case"triangles":g=C2(y,i,s);break;default:throw new Error("invalid gridType")}var w=[];return bt(g,function(x){var T=0,E=0;bt(e,function(z){var N,B=ir(a==="point"?x:na(x),z,s);if(c!==void 0&&(N=z.properties[c]),N===void 0&&(N=z.geometry.coordinates[2]),N===void 0)throw new Error("zValue is missing");B===0&&(T=N);var A=1/Math.pow(B,h);E+=A,T+=A*N});var P=Si(x);P.properties[c]=T/E,w.push(P)}),M(w)},n.intersect=Wf,n.invariant=Qt,n.isNumber=ut,n.isObject=gt,n.isobands=function(e,i,s){if(!gt(s=s||{}))throw new Error("options is invalid");var a=s.zProperty||"elevation",c=s.commonProperties||{},h=s.breaksProperties||[];if(_t(e,"Point","Input must contain Points"),!i)throw new Error("breaks is required");if(!Array.isArray(i))throw new Error("breaks is not an Array");if(!gt(c))throw new Error("commonProperties is not an Object");if(!Array.isArray(h))throw new Error("breaksProperties is not an Array");var g=TM(e,{zProperty:a,flip:!0}),y=function(w,x,T){for(var E=[],P=1;P<x.length;P++){var z=+x[P-1],N=+x[P],B=LM(IM(SM(w,z,N-z))),A={};A.groupedRings=B,A[T]=z+"-"+N,E.push(A)}return E}(g,i,a);return M((y=function(w,x,T){var E=Dt(T),P=E[2]-E[0],z=E[3]-E[1],N=E[0],B=E[1],A=x[0].length-1,Y=x.length-1,it=P/A,D=z/Y,W=function(X){X[0]=X[0]*it+N,X[1]=X[1]*D+B};return w.forEach(function(X){X.groupedRings.forEach(function(tt){tt.forEach(function(Q){Q.forEach(W)})})}),w}(y,g,e)).map(function(w,x){if(h[x]&&!gt(h[x]))throw new Error("Each mappedProperty is required to be an Object");var T=Be({},c,h[x]);return T[a]=w[a],H(w.groupedRings,T)}))},n.isolines=function(e,i,s){if(!gt(s=s||{}))throw new Error("options is invalid");var a=s.zProperty||"elevation",c=s.commonProperties||{},h=s.breaksProperties||[];if(_t(e,"Point","Input must contain Points"),!i)throw new Error("breaks is required");if(!Array.isArray(i))throw new Error("breaks must be an Array");if(!gt(c))throw new Error("commonProperties must be an Object");if(!Array.isArray(h))throw new Error("breaksProperties must be an Array");var g=sr(e,{zProperty:a,flip:!0});return M(function(y,w,x){var T=Dt(x),E=T[2]-T[0],P=T[3]-T[1],z=T[0],N=T[1],B=w[0].length-1,A=w.length-1,Y=E/B,it=P/A,D=function(W){W[0]=W[0]*Y+z,W[1]=W[1]*it+N};return y.forEach(function(W){Ct(W,D)}),y}(function(y,w,x,T,E){for(var P=[],z=1;z<w.length;z++){var N=+w[z],B=Be({},T,E[z]);B[x]=N;var A=I(ct(y,N),B);P.push(A)}return P}(g,i,a,c,h),g,e))},n.kinks=function(e){var i,s,a={type:"FeatureCollection",features:[]};if((s=e.type==="Feature"?e.geometry:e).type==="LineString")i=[s.coordinates];else if(s.type==="MultiLineString")i=s.coordinates;else if(s.type==="MultiPolygon")i=[].concat.apply([],s.coordinates);else{if(s.type!=="Polygon")throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");i=s.coordinates}return i.forEach(function(c){i.forEach(function(h){for(var g=0;g<c.length-1;g++)for(var y=g;y<h.length-1;y++)if(!(c===h&&(Math.abs(g-y)===1||g===0&&y===c.length-2&&c[g][0]===c[c.length-1][0]&&c[g][1]===c[c.length-1][1]))){var w=Gu(c[g][0],c[g][1],c[g+1][0],c[g+1][1],h[y][0],h[y][1],h[y+1][0],h[y+1][1]);w&&a.features.push(f([w[0],w[1]]))}})}),a},n.length=nd,n.lengthToDegrees=at,n.lengthToRadians=Z,n.lineArc=Rn,n.lineChunk=function(e,i,s){if(!gt(s=s||{}))throw new Error("options is invalid");var a=s.units,c=s.reverse;if(!e)throw new Error("geojson is required");if(i<=0)throw new Error("segmentLength must be greater than 0");var h=[];return ae(e,function(g){c&&(g.geometry.coordinates=g.geometry.coordinates.reverse()),function(y,w,x,T){var E=nd(y,{units:x});if(E<=w)return T(y);var P=E/w;Number.isInteger(P)||(P=Math.floor(P)+1);for(var z=0;z<P;z++)T(Mc(y,w*z,w*(z+1),{units:x}),z)}(g,i,a,function(y){h.push(y)})}),M(h)},n.lineDistance=nd,n.lineEach=vi,n.lineIntersect=dn,n.lineOffset=function(e,i,s){if(!gt(s=s||{}))throw new Error("options is invalid");var a=s.units;if(!e)throw new Error("geojson is required");if(i==null||isNaN(i))throw new Error("distance is required");var c=Lt(e),h=e.properties;switch(c){case"LineString":return f_(e,i,a);case"MultiLineString":var g=[];return ae(e,function(y){g.push(f_(y,i,a).geometry.coordinates)}),I(g,h);default:throw new Error("geometry "+c+" is not supported")}},n.lineOverlap=Ym,n.lineReduce=Xi,n.lineSegment=Vn,n.lineSlice=function(e,i,s){var a=j(s);if(Lt(s)!=="LineString")throw new Error("line must be a LineString");for(var c,h=ca(s,e),g=ca(s,i),y=[(c=h.properties.index<=g.properties.index?[h,g]:[g,h])[0].geometry.coordinates],w=c[0].properties.index+1;w<c[1].properties.index+1;w++)y.push(a[w]);return y.push(c[1].geometry.coordinates),k(y,s.properties)},n.lineSliceAlong=Mc,n.lineSplit=function(e,i){if(!e)throw new Error("line is required");if(!i)throw new Error("splitter is required");var s=Lt(e),a=Lt(i);if(s!=="LineString")throw new Error("line must be LineString");if(a==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(a==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var c=sf(i,{precision:7});switch(a){case"Point":return _e(e,c);case"MultiPoint":return ie(e,c);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return ie(e,dn(e,c))}},n.lineString=k,n.lineStringToPolygon=Gm,n.lineStrings=C,n.lineToPolygon=Gm,n.mask=function(e,i){var s,a=iL(i),c=null;return e.type==="FeatureCollection"?c=T2((s=e).features.length===2?Nl.union(s.features[0].geometry.coordinates,s.features[1].geometry.coordinates):Nl.union.apply(Nl,s.features.map(function(h){return h.geometry.coordinates}))):c=T2(Nl.union(e.geometry.coordinates)),c.geometry.coordinates.forEach(function(h){a.geometry.coordinates.push(h[0])}),a},n.meta=kt,n.midpoint=function(e,i){return $i(e,ir(e,i)/2,Cs(e,i))},n.moranIndex=function(e,i){var s=i.inputField,a=i.threshold||1e5,c=i.p||2,h=i.binary||!1,g=Z_(e,{alpha:i.alpha||-1,binary:h,p:c,standardization:i.standardization||!0,threshold:a}),y=[];bt(e,function(tt){var Q=tt.properties||{};y.push(Q[s])});for(var w=Y_(y),x=function(tt){for(var Q=Y_(tt),zt=0,Et=0,Ft=tt;Et<Ft.length;Et++){var Tt=Ft[Et];zt+=Math.pow(Tt-Q,2)}return zt/tt.length}(y),T=0,E=0,P=0,z=0,N=g.length,B=0;B<N;B++){for(var A=0,Y=0;Y<N;Y++)T+=g[B][Y]*(y[B]-w)*(y[Y]-w),E+=g[B][Y],P+=Math.pow(g[B][Y]+g[Y][B],2),A+=g[B][Y]+g[Y][B];z+=Math.pow(A,2)}var it=T/E/x,D=-1/(N-1),W=(N*N*(P*=.5)-N*z+E*E*3)/((N-1)*(N+1)*(E*E))-D*D,X=Math.sqrt(W);return{expectedMoranIndex:D,moranIndex:it,stdNorm:X,zNorm:(it-D)/X}},n.multiLineString=I,n.multiPoint=F,n.multiPolygon=H,n.nearest=Yh,n.nearestPoint=Yh,n.nearestPointOnLine=ca,n.nearestPointToLine=function(e,i,s){s===void 0&&(s={});var a=s.units,c=s.properties||{},h=function(w){var x=[];switch(w.geometry?w.geometry.type:w.type){case"GeometryCollection":return ee(w,function(T){T.type==="Point"&&x.push({type:"Feature",properties:{},geometry:T})}),{type:"FeatureCollection",features:x};case"FeatureCollection":return w.features=w.features.filter(function(T){return T.geometry.type==="Point"}),w;default:throw new Error("points must be a Point Collection")}}(e);if(!h.features.length)throw new Error("points must contain features");if(!i)throw new Error("line is required");if(Lt(i)!=="LineString")throw new Error("line must be a LineString");var g=1/0,y=null;return bt(h,function(w){var x=Bm(w,i,{units:a});x<g&&(g=x,y=w)}),y&&(y.properties=Be({dist:g},y.properties,c)),y},n.planepoint=function(e,i){var s=R(e),a=ht(i).coordinates[0];if(a.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var c=i.properties||{},h=c.a,g=c.b,y=c.c,w=s[0],x=s[1],T=a[0][0],E=a[0][1],P=h!==void 0?h:a[0][2],z=a[1][0],N=a[1][1],B=g!==void 0?g:a[1][2],A=a[2][0],Y=a[2][1],it=y!==void 0?y:a[2][2];return(it*(w-T)*(x-N)+P*(w-z)*(x-Y)+B*(w-A)*(x-E)-B*(w-T)*(x-Y)-it*(w-z)*(x-E)-P*(w-A)*(x-N))/((w-T)*(x-N)+(w-z)*(x-Y)+(w-A)*(x-E)-(w-T)*(x-Y)-(w-z)*(x-E)-(w-A)*(x-N))},n.point=f,n.pointGrid=of,n.pointOnFeature=jm,n.pointOnLine=ca,n.pointOnSurface=jm,n.pointToLineDistance=Bm,n.points=m,n.pointsWithinPolygon=yc,n.polygon=v,n.polygonSmooth=function(e,i){var s=[],a=i.iterations||1;if(!e)throw new Error("inputPolys is required");return ee(e,function(c,h,g){var y,w,x;switch(c.type){case"Polygon":y=[[]];for(var T=0;T<a;T++)x=[[]],w=c,T>0&&(w=v(y).geometry),dI(w,x),y=x.slice(0);s.push(v(y,g));break;case"MultiPolygon":y=[[[]]];for(var E=0;E<a;E++)x=[[[]]],w=c,E>0&&(w=H(y).geometry),pI(w,x),y=x.slice(0);s.push(H(y,g));break;default:throw new Error("geometry is invalid, must be Polygon or MultiPolygon")}}),M(s)},n.polygonTangents=function(e,i){var s,a,c,h,g=j(e),y=j(i),w=Dt(i),x=0,T=null;switch(g[0]>w[0]&&g[0]<w[2]&&g[1]>w[1]&&g[1]<w[3]&&(x=(T=Yh(e,Nu(i))).properties.featureIndex),Lt(i)){case"Polygon":s=y[0][x],a=y[0][0],T!==null&&T.geometry.coordinates[1]<g[1]&&(a=y[0][x]),h=hf(y[0][0],y[0][y[0].length-1],g);var E=a_(y[0],g,h,c,s,a);s=E[0],a=E[1];break;case"MultiPolygon":for(var P=0,z=0,N=0,B=0;B<y[0].length;B++){P=B;for(var A=!1,Y=0;Y<y[0][B].length;Y++){if(z=Y,N===x){A=!0;break}N++}if(A)break}s=y[0][P][z],a=y[0][P][z],h=hf(y[0][0][0],y[0][0][y[0][0].length-1],g),y.forEach(function(it){var D=a_(it[0],g,h,c,s,a);s=D[0],a=D[1]})}return M([f(s),f(a)])},n.polygonToLine=An,n.polygonToLineString=An,n.polygonize=function(e){var i=NM.fromGeoJson(e);i.deleteDangles(),i.deleteCutEdges();var s=[],a=[];return i.getEdgeRings().filter(function(c){return c.isValid()}).forEach(function(c){c.isHole()?s.push(c):a.push(c)}),s.forEach(function(c){v_.findEdgeRingContaining(c,a)&&a.push(c)}),M(a.map(function(c){return c.toPolygon()}))},n.polygons=_,n.projection=gI,n.propEach=Zt,n.propReduce=Pe,n.propertiesContainsFilter=Pb,n.radians2degrees=ft,n.radiansToDegrees=ft,n.radiansToDistance=G,n.radiansToLength=G,n.random=vI,n.randomLineString=rk,n.randomPoint=tk,n.randomPolygon=ek,n.randomPosition=vf,n.rewind=function(e,i){if(!gt(i=i||{}))throw new Error("options is invalid");var s=i.reverse||!1,a=i.mutate||!1;if(!e)throw new Error("<geojson> is required");if(typeof s!="boolean")throw new Error("<reverse> must be a boolean");if(typeof a!="boolean")throw new Error("<mutate> must be a boolean");a===!1&&(e=Si(e));var c=[];switch(e.type){case"GeometryCollection":return ee(e,function(h){Km(h,s)}),e;case"FeatureCollection":return bt(e,function(h){bt(Km(h,s),function(g){c.push(g)})}),M(c)}return Km(e,s)},n.rhumbBearing=zl,n.rhumbDestination=cd,n.rhumbDistance=Ll,n.round=J,n.sample=function(e,i){if(!e)throw new Error("featurecollection is required");if(i==null)throw new Error("num is required");if(typeof i!="number")throw new Error("num must be a number");return M(function(s,a){for(var c,h,g=s.slice(0),y=s.length,w=y-a;y-- >w;)c=g[h=Math.floor((y+1)*Math.random())],g[h]=g[y],g[y]=c;return g.slice(w)}(e.features,i))},n.sector=function(e,i,s,a,c){if(!gt(c=c||{}))throw new Error("options is invalid");var h=c.properties;if(!e)throw new Error("center is required");if(s==null)throw new Error("bearing1 is required");if(a==null)throw new Error("bearing2 is required");if(!i)throw new Error("radius is required");if(typeof c!="object")throw new Error("options must be an object");if(uf(s)===uf(a))return qp(e,i,c);var g=j(e),y=Rn(e,i,s,a,c),w=[[g]];return Ct(y,function(x){w[0].push(x)}),w[0].push(g),v(w,h)},n.segmentEach=rr,n.segmentReduce=mr,n.shortestPath=function(e,i,s){if(!gt(s=s||{}))throw new Error("options is invalid");var a=s.resolution,c=s.minDistance,h=s.obstacles||M([]);if(!e)throw new Error("start is required");if(!i)throw new Error("end is required");if(a&&!ut(a)||a<=0)throw new Error("options.resolution must be a number, greater than 0");if(c)throw new Error("options.minDistance is not yet implemented");var g=R(e),y=R(i);switch(e=f(g),i=f(y),Lt(h)){case"FeatureCollection":if(h.features.length===0)return k([g,y]);break;case"Polygon":h=M([u(ht(h))]);break;default:throw new Error("invalid obstacles")}var w=h;w.features.push(e),w.features.push(i);var x=Dt(d_(Gp(Dt(w)),1.15));a||(a=ir([x[0],x[1]],[x[2],x[1]],s)/100),w.features.pop(),w.features.pop();for(var T=x[0],E=x[1],P=x[2],z=x[3],N=a/ir([T,E],[P,E],s)*(P-T),B=a/ir([T,E],[T,z],s)*(z-E),A=P-T,Y=z-E,it=Math.floor(A/N),D=Math.floor(Y/B),W=(A-it*N)/2,X=[],tt=[],Q=[],zt=[],Et=1/0,Ft=1/0,Tt=z-(Y-D*B)/2,Ht=0;Tt>=E;){for(var It=[],Mt=[],St=T+W,Bt=0;St<=P;){var Rt=f([St,Tt]),Gt=JM(Rt,h);It.push(Gt?0:1),Mt.push(St+"|"+Tt);var vt=ir(Rt,e);!Gt&&vt<Et&&(Et=vt,Q={x:Bt,y:Ht});var Ie=ir(Rt,i);!Gt&&Ie<Ft&&(Ft=Ie,zt={x:Bt,y:Ht}),St+=N,Bt++}tt.push(It),X.push(Mt),Tt-=B,Ht++}var se=new ud(tt,{diagonal:!0}),tr=se.grid[Q.y][Q.x],we=se.grid[zt.y][zt.x],He=Qm.search(se,tr,we),pr=[g];return He.forEach(function(oi){var wn=X[oi.x][oi.y].split("|");pr.push([+wn[0],+wn[1]])}),pr.push(y),ia(k(pr))},n.simplify=function(e,i){if(!gt(i=i||{}))throw new Error("options is invalid");var s=i.tolerance!==void 0?i.tolerance:1,a=i.highQuality||!1,c=i.mutate||!1;if(!e)throw new Error("geojson is required");if(s&&s<0)throw new Error("invalid tolerance");return c!==!0&&(e=Si(e)),ee(e,function(h){(function(g,y,w){var x=g.type;if(x==="Point"||x==="MultiPoint")return g;ia(g,!0);var T=g.coordinates;switch(x){case"LineString":g.coordinates=Sm(T,y,w);break;case"MultiLineString":g.coordinates=T.map(function(E){return Sm(E,y,w)});break;case"Polygon":g.coordinates=Gh(T,y,w);break;case"MultiPolygon":g.coordinates=T.map(function(E){return Gh(E,y,w)})}})(h,s,a)}),e},n.square=Mm,n.squareGrid=S2,n.standardDeviationalEllipse=function(e,i){if(!gt(i=i||{}))throw new Error("options is invalid");var s=i.steps||64,a=i.weight,c=i.properties||{};if(!ut(s))throw new Error("steps must be a number");if(!gt(c))throw new Error("properties must be a number");var h=qt(e).length,g=Tb(e,{weight:a}),y=0,w=0,x=0;bt(e,function(Q){var zt=Q.properties[a]||1,Et=W_(j(Q),j(g));y+=Math.pow(Et.x,2)*zt,w+=Math.pow(Et.y,2)*zt,x+=Et.x*Et.y*zt});var T=y-w,E=Math.sqrt(Math.pow(T,2)+4*Math.pow(x,2)),P=2*x,z=Math.atan((T+E)/P),N=180*z/Math.PI,B=0,A=0,Y=0;bt(e,function(Q){var zt=Q.properties[a]||1,Et=W_(j(Q),j(g));B+=Math.pow(Et.x*Math.cos(z)-Et.y*Math.sin(z),2)*zt,A+=Math.pow(Et.x*Math.sin(z)+Et.y*Math.cos(z),2)*zt,Y+=zt});var it=Math.sqrt(2*B/Y),D=Math.sqrt(2*A/Y),W=G_(g,it,D,{units:"degrees",angle:N,steps:s,properties:c}),X=yc(e,M([W])),tt={meanCenterCoordinates:j(g),semiMajorAxis:it,semiMinorAxis:D,numberOfFeatures:h,angle:N,percentageWithinEllipse:100*qt(X).length/h};return W.properties.standardDeviationalEllipse=tt,W},n.tag=function(e,i,s,a){return e=Si(e),i=Si(i),bt(e,function(c){c.properties||(c.properties={}),bt(i,function(h){c.properties[a]===void 0&&Je(c,h)&&(c.properties[a]=h.properties[s])})}),e},n.tesselate=function(e){if(!e.geometry||e.geometry.type!=="Polygon"&&e.geometry.type!=="MultiPolygon")throw new Error("input must be a Polygon or MultiPolygon");var i={type:"FeatureCollection",features:[]};return e.geometry.type==="Polygon"?i.features=Ml(e.geometry.coordinates):e.geometry.coordinates.forEach(function(s){i.features=i.features.concat(Ml(s))}),i},n.tin=_m,n.toMercator=X_,n.toWgs84=K_,n.transformRotate=h_,n.transformScale=d_,n.transformTranslate=function(e,i,s,a){if(!gt(a=a||{}))throw new Error("options is invalid");var c=a.units,h=a.zTranslation,g=a.mutate;if(!e)throw new Error("geojson is required");if(i==null||isNaN(i))throw new Error("distance is required");if(h&&typeof h!="number"&&isNaN(h))throw new Error("zTranslation is not a number");if(h=h!==void 0?h:0,i===0&&h===0)return e;if(s==null||isNaN(s))throw new Error("direction is required");return i<0&&(i=-i,s+=180),g!==!1&&g!==void 0||(e=Si(e)),Ct(e,function(y){var w=j(cd(y,i,s,{units:c}));y[0]=w[0],y[1]=w[1],h&&y.length===3&&(y[2]+=h)}),e},n.triangleGrid=C2,n.truncate=sf,n.union=function(e,i,s){s===void 0&&(s={});var a=ht(e),c=ht(i),h=Nl.union(a.coordinates,c.coordinates);return h.length===0?null:h.length===1?v(h[0],s.properties):H(h,s.properties)},n.unitsFactors=o,n.unkinkPolygon=function(e){var i=[];return ae(e,function(s){s.geometry.type==="Polygon"&&bt(cb(s),function(a){i.push(v(a.geometry.coordinates,s.properties))})}),M(i)},n.validateBBox=Jt,n.validateId=re,n.voronoi=function(e,i){if(!gt(i=i||{}))throw new Error("options is invalid");var s=i.bbox||[-180,-85,180,85];if(!e)throw new Error("points is required");if(!Array.isArray(s))throw new Error("bbox is invalid");return _t(e,"Point","points"),M(function(){var a=QM,c=$M,h=null;function g(y){return new Eb(y.map(function(w,x){var T=[Math.round(a(w,x,y)/wi)*wi,Math.round(c(w,x,y)/wi)*wi];return T.index=x,T.data=w,T}),h)}return g.polygons=function(y){return g(y).polygons()},g.links=function(y){return g(y).links()},g.triangles=function(y){return g(y).triangles()},g.x=function(y){return arguments.length?(a=typeof y=="function"?y:N_(+y),g):a},g.y=function(y){return arguments.length?(c=typeof y=="function"?y:N_(+y),g):c},g.extent=function(y){return arguments.length?(h=y==null?null:[[+y[0][0],+y[0][1]],[+y[1][0],+y[1][1]]],g):h&&[[h[0][0],h[0][1]],[h[1][0],h[1][1]]]},g.size=function(y){return arguments.length?(h=y==null?null:[[0,0],[+y[0],+y[1]]],g):h&&[h[1][0]-h[0][0],h[1][1]-h[0][1]]},g}().x(function(a){return a.geometry.coordinates[0]}).y(function(a){return a.geometry.coordinates[1]}).extent([[s[0],s[1]],[s[2],s[3]]]).polygons(e.features).map(hI))},n.within=yc,Object.defineProperty(n,"__esModule",{value:!0})});var W6={exports:{}};(function(n){(function(r){n.exports=r($n)})(function(r){r.Map.mergeOptions({smoothWheelZoom:!0,smoothSensitivity:1}),r.Map.SmoothWheelZoom=r.Handler.extend({addHooks:function(){r.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this)},removeHooks:function(){r.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){this._isWheeling||this._onWheelStart(t),this._onWheeling(t)},_onWheelStart:function(t){var o=this._map;this._isWheeling=!0,this._wheelMousePosition=o.mouseEventToContainerPoint(t),this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),this._wheelStartLatLng=o.containerPointToLatLng(this._wheelMousePosition),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),o._panAnim&&o._panAnim.stop(),this._goalZoom=o.getZoom(),this._prevCenter=o.getCenter(),this._prevZoom=o.getZoom(),this._zoomAnimationId=requestAnimationFrame(this._updateWheelZoom.bind(this))},_onWheeling:function(t){var o=this._map;this._goalZoom=this._goalZoom-t.deltaY*.003*o.options.smoothSensitivity,(this._goalZoom<o.getMinZoom()||this._goalZoom>o.getMaxZoom())&&(this._goalZoom=o._limitZoom(this._goalZoom)),this._wheelMousePosition=this._map.mouseEventToContainerPoint(t),clearTimeout(this._timeoutId),this._timeoutId=setTimeout(this._onWheelEnd.bind(this),200),r.DomEvent.preventDefault(t),r.DomEvent.stopPropagation(t)},_onWheelEnd:function(t){this._isWheeling=!1,cancelAnimationFrame(this._zoomAnimationId),this._map.fire("zoomend")},_updateWheelZoom:function(){var t=this._map;if(!(!t.getCenter().equals(this._prevCenter)||t.getZoom()!=this._prevZoom)){this._zoom=t.getZoom()+(this._goalZoom-t.getZoom())*.3,this._zoom=Math.floor(this._zoom*100)/100;var o=this._wheelMousePosition.subtract(this._centerPoint);o.x===0&&o.y===0||(t.options.smoothWheelZoom==="center"?this._center=this._startLatLng:this._center=t.unproject(t.project(this._wheelStartLatLng,this._zoom).subtract(o),this._zoom),this._moved||(t._moveStart(!0,!1),this._moved=!0),t._move(this._center,this._zoom),this._prevCenter=t.getCenter(),this._prevZoom=t.getZoom(),t.fire("viewreset"),this._zoomAnimationId=requestAnimationFrame(this._updateWheelZoom.bind(this)))}}}),r.Map.addInitHook("addHandler","smoothWheelZoom",r.Map.SmoothWheelZoom)})})(W6);function w1(n){return Array.isArray(n)?`[${n.map(r=>w1(r)).join(",")}]`:typeof n=="number"?`${n}`:typeof n=="string"?`"${n}"`:typeof n=="object"&&n!==null?Object.keys(n).sort().map(r=>`${r}:${w1(n[r])}`).join("|"):String(n)}async function Z6(n){const r=await crypto.subtle.digest("SHA-1",new TextEncoder().encode(n));return Array.from(new Uint8Array(r)).map(t=>t.toString(16).padStart(2,"0")).join("")}async function XC(n,r=16){return(await Z6(String(n))).slice(0,r)}async function Y6(n,r){return await XC(w1(n),r)}var ci;(function(n){n.assertEqual=l=>l;function r(l){}n.assertIs=r;function t(l){throw new Error}n.assertNever=t,n.arrayToEnum=l=>{const u={};for(const d of l)u[d]=d;return u},n.getValidEnumValues=l=>{const u=n.objectKeys(l).filter(f=>typeof l[l[f]]!="number"),d={};for(const f of u)d[f]=l[f];return n.objectValues(d)},n.objectValues=l=>n.objectKeys(l).map(function(u){return l[u]}),n.objectKeys=typeof Object.keys=="function"?l=>Object.keys(l):l=>{const u=[];for(const d in l)Object.prototype.hasOwnProperty.call(l,d)&&u.push(d);return u},n.find=(l,u)=>{for(const d of l)if(u(d))return d},n.isInteger=typeof Number.isInteger=="function"?l=>Number.isInteger(l):l=>typeof l=="number"&&isFinite(l)&&Math.floor(l)===l;function o(l,u=" | "){return l.map(d=>typeof d=="string"?`'${d}'`:d).join(u)}n.joinValues=o,n.jsonStringifyReplacer=(l,u)=>typeof u=="bigint"?u.toString():u})(ci||(ci={}));var x1;(function(n){n.mergeShapes=(r,t)=>({...r,...t})})(x1||(x1={}));const Me=ci.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),tu=n=>{switch(typeof n){case"undefined":return Me.undefined;case"string":return Me.string;case"number":return isNaN(n)?Me.nan:Me.number;case"boolean":return Me.boolean;case"function":return Me.function;case"bigint":return Me.bigint;case"symbol":return Me.symbol;case"object":return Array.isArray(n)?Me.array:n===null?Me.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?Me.promise:typeof Map<"u"&&n instanceof Map?Me.map:typeof Set<"u"&&n instanceof Set?Me.set:typeof Date<"u"&&n instanceof Date?Me.date:Me.object;default:return Me.unknown}},de=ci.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),X6=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class Oa extends Error{constructor(r){super(),this.issues=[],this.addIssue=o=>{this.issues=[...this.issues,o]},this.addIssues=(o=[])=>{this.issues=[...this.issues,...o]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=r}get errors(){return this.issues}format(r){const t=r||function(u){return u.message},o={_errors:[]},l=u=>{for(const d of u.issues)if(d.code==="invalid_union")d.unionErrors.map(l);else if(d.code==="invalid_return_type")l(d.returnTypeError);else if(d.code==="invalid_arguments")l(d.argumentsError);else if(d.path.length===0)o._errors.push(t(d));else{let f=o,m=0;for(;m<d.path.length;){const v=d.path[m];m===d.path.length-1?(f[v]=f[v]||{_errors:[]},f[v]._errors.push(t(d))):f[v]=f[v]||{_errors:[]},f=f[v],m++}}};return l(this),o}toString(){return this.message}get message(){return JSON.stringify(this.issues,ci.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(r=t=>t.message){const t={},o=[];for(const l of this.issues)l.path.length>0?(t[l.path[0]]=t[l.path[0]]||[],t[l.path[0]].push(r(l))):o.push(r(l));return{formErrors:o,fieldErrors:t}}get formErrors(){return this.flatten()}}Oa.create=n=>new Oa(n);const Fg=(n,r)=>{let t;switch(n.code){case de.invalid_type:n.received===Me.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case de.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,ci.jsonStringifyReplacer)}`;break;case de.unrecognized_keys:t=`Unrecognized key(s) in object: ${ci.joinValues(n.keys,", ")}`;break;case de.invalid_union:t="Invalid input";break;case de.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${ci.joinValues(n.options)}`;break;case de.invalid_enum_value:t=`Invalid enum value. Expected ${ci.joinValues(n.options)}, received '${n.received}'`;break;case de.invalid_arguments:t="Invalid function arguments";break;case de.invalid_return_type:t="Invalid function return type";break;case de.invalid_date:t="Invalid date";break;case de.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:ci.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case de.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case de.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case de.custom:t="Invalid input";break;case de.invalid_intersection_types:t="Intersection results could not be merged";break;case de.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case de.not_finite:t="Number must be finite";break;default:t=r.defaultError,ci.assertNever(n)}return{message:t}};let KC=Fg;function K6(n){KC=n}function Vv(){return KC}const Wv=n=>{const{data:r,path:t,errorMaps:o,issueData:l}=n,u=[...t,...l.path||[]],d={...l,path:u};let f="";const m=o.filter(v=>!!v).slice().reverse();for(const v of m)f=v(d,{data:r,defaultError:f}).message;return{...l,path:u,message:l.message||f}},J6=[];function Le(n,r){const t=Wv({issueData:r,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Vv(),Fg].filter(o=>!!o)});n.common.issues.push(t)}class mo{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(r,t){const o=[];for(const l of t){if(l.status==="aborted")return hr;l.status==="dirty"&&r.dirty(),o.push(l.value)}return{status:r.value,value:o}}static async mergeObjectAsync(r,t){const o=[];for(const l of t)o.push({key:await l.key,value:await l.value});return mo.mergeObjectSync(r,o)}static mergeObjectSync(r,t){const o={};for(const l of t){const{key:u,value:d}=l;if(u.status==="aborted"||d.status==="aborted")return hr;u.status==="dirty"&&r.dirty(),d.status==="dirty"&&r.dirty(),u.value!=="__proto__"&&(typeof d.value<"u"||l.alwaysSet)&&(o[u.value]=d.value)}return{status:r.value,value:o}}}const hr=Object.freeze({status:"aborted"}),JC=n=>({status:"dirty",value:n}),Ao=n=>({status:"valid",value:n}),_1=n=>n.status==="aborted",k1=n=>n.status==="dirty",Bg=n=>n.status==="valid",Zv=n=>typeof Promise<"u"&&n instanceof Promise;var Ye;(function(n){n.errToObj=r=>typeof r=="string"?{message:r}:r||{},n.toString=r=>typeof r=="string"?r:r==null?void 0:r.message})(Ye||(Ye={}));class gl{constructor(r,t,o,l){this._cachedPath=[],this.parent=r,this.data=t,this._path=o,this._key=l}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const nT=(n,r)=>{if(Bg(r))return{success:!0,data:r.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Oa(n.common.issues);return this._error=t,this._error}}};function gr(n){if(!n)return{};const{errorMap:r,invalid_type_error:t,required_error:o,description:l}=n;if(r&&(t||o))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return r?{errorMap:r,description:l}:{errorMap:(u,d)=>u.code!=="invalid_type"?{message:d.defaultError}:typeof d.data>"u"?{message:o??d.defaultError}:{message:t??d.defaultError},description:l}}class br{constructor(r){this.spa=this.safeParseAsync,this._def=r,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(r){return tu(r.data)}_getOrReturnCtx(r,t){return t||{common:r.parent.common,data:r.data,parsedType:tu(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}_processInputParams(r){return{status:new mo,ctx:{common:r.parent.common,data:r.data,parsedType:tu(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}}_parseSync(r){const t=this._parse(r);if(Zv(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(r){const t=this._parse(r);return Promise.resolve(t)}parse(r,t){const o=this.safeParse(r,t);if(o.success)return o.data;throw o.error}safeParse(r,t){var o;const l={common:{issues:[],async:(o=t==null?void 0:t.async)!==null&&o!==void 0?o:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:tu(r)},u=this._parseSync({data:r,path:l.path,parent:l});return nT(l,u)}async parseAsync(r,t){const o=await this.safeParseAsync(r,t);if(o.success)return o.data;throw o.error}async safeParseAsync(r,t){const o={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:tu(r)},l=this._parse({data:r,path:o.path,parent:o}),u=await(Zv(l)?l:Promise.resolve(l));return nT(o,u)}refine(r,t){const o=l=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(l):t;return this._refinement((l,u)=>{const d=r(l),f=()=>u.addIssue({code:de.custom,...o(l)});return typeof Promise<"u"&&d instanceof Promise?d.then(m=>m?!0:(f(),!1)):d?!0:(f(),!1)})}refinement(r,t){return this._refinement((o,l)=>r(o)?!0:(l.addIssue(typeof t=="function"?t(o,l):t),!1))}_refinement(r){return new Da({schema:this,typeName:er.ZodEffects,effect:{type:"refinement",refinement:r}})}superRefine(r){return this._refinement(r)}optional(){return nc.create(this,this._def)}nullable(){return Mh.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return za.create(this,this._def)}promise(){return kp.create(this,this._def)}or(r){return Gg.create([this,r],this._def)}and(r){return qg.create(this,r,this._def)}transform(r){return new Da({...gr(this._def),schema:this,typeName:er.ZodEffects,effect:{type:"transform",transform:r}})}default(r){const t=typeof r=="function"?r:()=>r;return new Xg({...gr(this._def),innerType:this,defaultValue:t,typeName:er.ZodDefault})}brand(){return new $C({typeName:er.ZodBranded,type:this,...gr(this._def)})}catch(r){const t=typeof r=="function"?r:()=>r;return new Jv({...gr(this._def),innerType:this,catchValue:t,typeName:er.ZodCatch})}describe(r){const t=this.constructor;return new t({...this._def,description:r})}pipe(r){return cm.create(this,r)}readonly(){return $v.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Q6=/^c[^\s-]{8,}$/i,$6=/^[a-z][a-z0-9]*$/,t8=/^[0-9A-HJKMNP-TV-Z]{26}$/,e8=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,r8=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,i8="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Aw;const n8=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,o8=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,s8=n=>n.precision?n.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${n.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${n.precision}}Z$`):n.precision===0?n.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):n.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function a8(n,r){return!!((r==="v4"||!r)&&n8.test(n)||(r==="v6"||!r)&&o8.test(n))}class Ma extends br{_parse(r){if(this._def.coerce&&(r.data=String(r.data)),this._getType(r)!==Me.string){const l=this._getOrReturnCtx(r);return Le(l,{code:de.invalid_type,expected:Me.string,received:l.parsedType}),hr}const t=new mo;let o;for(const l of this._def.checks)if(l.kind==="min")r.data.length<l.value&&(o=this._getOrReturnCtx(r,o),Le(o,{code:de.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),t.dirty());else if(l.kind==="max")r.data.length>l.value&&(o=this._getOrReturnCtx(r,o),Le(o,{code:de.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),t.dirty());else if(l.kind==="length"){const u=r.data.length>l.value,d=r.data.length<l.value;(u||d)&&(o=this._getOrReturnCtx(r,o),u?Le(o,{code:de.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):d&&Le(o,{code:de.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),t.dirty())}else if(l.kind==="email")r8.test(r.data)||(o=this._getOrReturnCtx(r,o),Le(o,{validation:"email",code:de.invalid_string,message:l.message}),t.dirty());else if(l.kind==="emoji")Aw||(Aw=new RegExp(i8,"u")),Aw.test(r.data)||(o=this._getOrReturnCtx(r,o),Le(o,{validation:"emoji",code:de.invalid_string,message:l.message}),t.dirty());else if(l.kind==="uuid")e8.test(r.data)||(o=this._getOrReturnCtx(r,o),Le(o,{validation:"uuid",code:de.invalid_string,message:l.message}),t.dirty());else if(l.kind==="cuid")Q6.test(r.data)||(o=this._getOrReturnCtx(r,o),Le(o,{validation:"cuid",code:de.invalid_string,message:l.message}),t.dirty());else if(l.kind==="cuid2")$6.test(r.data)||(o=this._getOrReturnCtx(r,o),Le(o,{validation:"cuid2",code:de.invalid_string,message:l.message}),t.dirty());else if(l.kind==="ulid")t8.test(r.data)||(o=this._getOrReturnCtx(r,o),Le(o,{validation:"ulid",code:de.invalid_string,message:l.message}),t.dirty());else if(l.kind==="url")try{new URL(r.data)}catch{o=this._getOrReturnCtx(r,o),Le(o,{validation:"url",code:de.invalid_string,message:l.message}),t.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(r.data)||(o=this._getOrReturnCtx(r,o),Le(o,{validation:"regex",code:de.invalid_string,message:l.message}),t.dirty())):l.kind==="trim"?r.data=r.data.trim():l.kind==="includes"?r.data.includes(l.value,l.position)||(o=this._getOrReturnCtx(r,o),Le(o,{code:de.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),t.dirty()):l.kind==="toLowerCase"?r.data=r.data.toLowerCase():l.kind==="toUpperCase"?r.data=r.data.toUpperCase():l.kind==="startsWith"?r.data.startsWith(l.value)||(o=this._getOrReturnCtx(r,o),Le(o,{code:de.invalid_string,validation:{startsWith:l.value},message:l.message}),t.dirty()):l.kind==="endsWith"?r.data.endsWith(l.value)||(o=this._getOrReturnCtx(r,o),Le(o,{code:de.invalid_string,validation:{endsWith:l.value},message:l.message}),t.dirty()):l.kind==="datetime"?s8(l).test(r.data)||(o=this._getOrReturnCtx(r,o),Le(o,{code:de.invalid_string,validation:"datetime",message:l.message}),t.dirty()):l.kind==="ip"?a8(r.data,l.version)||(o=this._getOrReturnCtx(r,o),Le(o,{validation:"ip",code:de.invalid_string,message:l.message}),t.dirty()):ci.assertNever(l);return{status:t.value,value:r.data}}_regex(r,t,o){return this.refinement(l=>r.test(l),{validation:t,code:de.invalid_string,...Ye.errToObj(o)})}_addCheck(r){return new Ma({...this._def,checks:[...this._def.checks,r]})}email(r){return this._addCheck({kind:"email",...Ye.errToObj(r)})}url(r){return this._addCheck({kind:"url",...Ye.errToObj(r)})}emoji(r){return this._addCheck({kind:"emoji",...Ye.errToObj(r)})}uuid(r){return this._addCheck({kind:"uuid",...Ye.errToObj(r)})}cuid(r){return this._addCheck({kind:"cuid",...Ye.errToObj(r)})}cuid2(r){return this._addCheck({kind:"cuid2",...Ye.errToObj(r)})}ulid(r){return this._addCheck({kind:"ulid",...Ye.errToObj(r)})}ip(r){return this._addCheck({kind:"ip",...Ye.errToObj(r)})}datetime(r){var t;return typeof r=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:r}):this._addCheck({kind:"datetime",precision:typeof(r==null?void 0:r.precision)>"u"?null:r==null?void 0:r.precision,offset:(t=r==null?void 0:r.offset)!==null&&t!==void 0?t:!1,...Ye.errToObj(r==null?void 0:r.message)})}regex(r,t){return this._addCheck({kind:"regex",regex:r,...Ye.errToObj(t)})}includes(r,t){return this._addCheck({kind:"includes",value:r,position:t==null?void 0:t.position,...Ye.errToObj(t==null?void 0:t.message)})}startsWith(r,t){return this._addCheck({kind:"startsWith",value:r,...Ye.errToObj(t)})}endsWith(r,t){return this._addCheck({kind:"endsWith",value:r,...Ye.errToObj(t)})}min(r,t){return this._addCheck({kind:"min",value:r,...Ye.errToObj(t)})}max(r,t){return this._addCheck({kind:"max",value:r,...Ye.errToObj(t)})}length(r,t){return this._addCheck({kind:"length",value:r,...Ye.errToObj(t)})}nonempty(r){return this.min(1,Ye.errToObj(r))}trim(){return new Ma({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ma({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ma({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(r=>r.kind==="datetime")}get isEmail(){return!!this._def.checks.find(r=>r.kind==="email")}get isURL(){return!!this._def.checks.find(r=>r.kind==="url")}get isEmoji(){return!!this._def.checks.find(r=>r.kind==="emoji")}get isUUID(){return!!this._def.checks.find(r=>r.kind==="uuid")}get isCUID(){return!!this._def.checks.find(r=>r.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(r=>r.kind==="cuid2")}get isULID(){return!!this._def.checks.find(r=>r.kind==="ulid")}get isIP(){return!!this._def.checks.find(r=>r.kind==="ip")}get minLength(){let r=null;for(const t of this._def.checks)t.kind==="min"&&(r===null||t.value>r)&&(r=t.value);return r}get maxLength(){let r=null;for(const t of this._def.checks)t.kind==="max"&&(r===null||t.value<r)&&(r=t.value);return r}}Ma.create=n=>{var r;return new Ma({checks:[],typeName:er.ZodString,coerce:(r=n==null?void 0:n.coerce)!==null&&r!==void 0?r:!1,...gr(n)})};function l8(n,r){const t=(n.toString().split(".")[1]||"").length,o=(r.toString().split(".")[1]||"").length,l=t>o?t:o,u=parseInt(n.toFixed(l).replace(".","")),d=parseInt(r.toFixed(l).replace(".",""));return u%d/Math.pow(10,l)}class mu extends br{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(r){if(this._def.coerce&&(r.data=Number(r.data)),this._getType(r)!==Me.number){const l=this._getOrReturnCtx(r);return Le(l,{code:de.invalid_type,expected:Me.number,received:l.parsedType}),hr}let t;const o=new mo;for(const l of this._def.checks)l.kind==="int"?ci.isInteger(r.data)||(t=this._getOrReturnCtx(r,t),Le(t,{code:de.invalid_type,expected:"integer",received:"float",message:l.message}),o.dirty()):l.kind==="min"?(l.inclusive?r.data<l.value:r.data<=l.value)&&(t=this._getOrReturnCtx(r,t),Le(t,{code:de.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),o.dirty()):l.kind==="max"?(l.inclusive?r.data>l.value:r.data>=l.value)&&(t=this._getOrReturnCtx(r,t),Le(t,{code:de.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),o.dirty()):l.kind==="multipleOf"?l8(r.data,l.value)!==0&&(t=this._getOrReturnCtx(r,t),Le(t,{code:de.not_multiple_of,multipleOf:l.value,message:l.message}),o.dirty()):l.kind==="finite"?Number.isFinite(r.data)||(t=this._getOrReturnCtx(r,t),Le(t,{code:de.not_finite,message:l.message}),o.dirty()):ci.assertNever(l);return{status:o.value,value:r.data}}gte(r,t){return this.setLimit("min",r,!0,Ye.toString(t))}gt(r,t){return this.setLimit("min",r,!1,Ye.toString(t))}lte(r,t){return this.setLimit("max",r,!0,Ye.toString(t))}lt(r,t){return this.setLimit("max",r,!1,Ye.toString(t))}setLimit(r,t,o,l){return new mu({...this._def,checks:[...this._def.checks,{kind:r,value:t,inclusive:o,message:Ye.toString(l)}]})}_addCheck(r){return new mu({...this._def,checks:[...this._def.checks,r]})}int(r){return this._addCheck({kind:"int",message:Ye.toString(r)})}positive(r){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ye.toString(r)})}negative(r){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ye.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ye.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ye.toString(r)})}multipleOf(r,t){return this._addCheck({kind:"multipleOf",value:r,message:Ye.toString(t)})}finite(r){return this._addCheck({kind:"finite",message:Ye.toString(r)})}safe(r){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ye.toString(r)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ye.toString(r)})}get minValue(){let r=null;for(const t of this._def.checks)t.kind==="min"&&(r===null||t.value>r)&&(r=t.value);return r}get maxValue(){let r=null;for(const t of this._def.checks)t.kind==="max"&&(r===null||t.value<r)&&(r=t.value);return r}get isInt(){return!!this._def.checks.find(r=>r.kind==="int"||r.kind==="multipleOf"&&ci.isInteger(r.value))}get isFinite(){let r=null,t=null;for(const o of this._def.checks){if(o.kind==="finite"||o.kind==="int"||o.kind==="multipleOf")return!0;o.kind==="min"?(t===null||o.value>t)&&(t=o.value):o.kind==="max"&&(r===null||o.value<r)&&(r=o.value)}return Number.isFinite(t)&&Number.isFinite(r)}}mu.create=n=>new mu({checks:[],typeName:er.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...gr(n)});class vu extends br{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(r){if(this._def.coerce&&(r.data=BigInt(r.data)),this._getType(r)!==Me.bigint){const l=this._getOrReturnCtx(r);return Le(l,{code:de.invalid_type,expected:Me.bigint,received:l.parsedType}),hr}let t;const o=new mo;for(const l of this._def.checks)l.kind==="min"?(l.inclusive?r.data<l.value:r.data<=l.value)&&(t=this._getOrReturnCtx(r,t),Le(t,{code:de.too_small,type:"bigint",minimum:l.value,inclusive:l.inclusive,message:l.message}),o.dirty()):l.kind==="max"?(l.inclusive?r.data>l.value:r.data>=l.value)&&(t=this._getOrReturnCtx(r,t),Le(t,{code:de.too_big,type:"bigint",maximum:l.value,inclusive:l.inclusive,message:l.message}),o.dirty()):l.kind==="multipleOf"?r.data%l.value!==BigInt(0)&&(t=this._getOrReturnCtx(r,t),Le(t,{code:de.not_multiple_of,multipleOf:l.value,message:l.message}),o.dirty()):ci.assertNever(l);return{status:o.value,value:r.data}}gte(r,t){return this.setLimit("min",r,!0,Ye.toString(t))}gt(r,t){return this.setLimit("min",r,!1,Ye.toString(t))}lte(r,t){return this.setLimit("max",r,!0,Ye.toString(t))}lt(r,t){return this.setLimit("max",r,!1,Ye.toString(t))}setLimit(r,t,o,l){return new vu({...this._def,checks:[...this._def.checks,{kind:r,value:t,inclusive:o,message:Ye.toString(l)}]})}_addCheck(r){return new vu({...this._def,checks:[...this._def.checks,r]})}positive(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ye.toString(r)})}negative(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ye.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ye.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ye.toString(r)})}multipleOf(r,t){return this._addCheck({kind:"multipleOf",value:r,message:Ye.toString(t)})}get minValue(){let r=null;for(const t of this._def.checks)t.kind==="min"&&(r===null||t.value>r)&&(r=t.value);return r}get maxValue(){let r=null;for(const t of this._def.checks)t.kind==="max"&&(r===null||t.value<r)&&(r=t.value);return r}}vu.create=n=>{var r;return new vu({checks:[],typeName:er.ZodBigInt,coerce:(r=n==null?void 0:n.coerce)!==null&&r!==void 0?r:!1,...gr(n)})};class jg extends br{_parse(r){if(this._def.coerce&&(r.data=!!r.data),this._getType(r)!==Me.boolean){const t=this._getOrReturnCtx(r);return Le(t,{code:de.invalid_type,expected:Me.boolean,received:t.parsedType}),hr}return Ao(r.data)}}jg.create=n=>new jg({typeName:er.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...gr(n)});class Ch extends br{_parse(r){if(this._def.coerce&&(r.data=new Date(r.data)),this._getType(r)!==Me.date){const l=this._getOrReturnCtx(r);return Le(l,{code:de.invalid_type,expected:Me.date,received:l.parsedType}),hr}if(isNaN(r.data.getTime())){const l=this._getOrReturnCtx(r);return Le(l,{code:de.invalid_date}),hr}const t=new mo;let o;for(const l of this._def.checks)l.kind==="min"?r.data.getTime()<l.value&&(o=this._getOrReturnCtx(r,o),Le(o,{code:de.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),t.dirty()):l.kind==="max"?r.data.getTime()>l.value&&(o=this._getOrReturnCtx(r,o),Le(o,{code:de.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),t.dirty()):ci.assertNever(l);return{status:t.value,value:new Date(r.data.getTime())}}_addCheck(r){return new Ch({...this._def,checks:[...this._def.checks,r]})}min(r,t){return this._addCheck({kind:"min",value:r.getTime(),message:Ye.toString(t)})}max(r,t){return this._addCheck({kind:"max",value:r.getTime(),message:Ye.toString(t)})}get minDate(){let r=null;for(const t of this._def.checks)t.kind==="min"&&(r===null||t.value>r)&&(r=t.value);return r!=null?new Date(r):null}get maxDate(){let r=null;for(const t of this._def.checks)t.kind==="max"&&(r===null||t.value<r)&&(r=t.value);return r!=null?new Date(r):null}}Ch.create=n=>new Ch({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:er.ZodDate,...gr(n)});class Yv extends br{_parse(r){if(this._getType(r)!==Me.symbol){const t=this._getOrReturnCtx(r);return Le(t,{code:de.invalid_type,expected:Me.symbol,received:t.parsedType}),hr}return Ao(r.data)}}Yv.create=n=>new Yv({typeName:er.ZodSymbol,...gr(n)});class Hg extends br{_parse(r){if(this._getType(r)!==Me.undefined){const t=this._getOrReturnCtx(r);return Le(t,{code:de.invalid_type,expected:Me.undefined,received:t.parsedType}),hr}return Ao(r.data)}}Hg.create=n=>new Hg({typeName:er.ZodUndefined,...gr(n)});class Ug extends br{_parse(r){if(this._getType(r)!==Me.null){const t=this._getOrReturnCtx(r);return Le(t,{code:de.invalid_type,expected:Me.null,received:t.parsedType}),hr}return Ao(r.data)}}Ug.create=n=>new Ug({typeName:er.ZodNull,...gr(n)});class _p extends br{constructor(){super(...arguments),this._any=!0}_parse(r){return Ao(r.data)}}_p.create=n=>new _p({typeName:er.ZodAny,...gr(n)});class xh extends br{constructor(){super(...arguments),this._unknown=!0}_parse(r){return Ao(r.data)}}xh.create=n=>new xh({typeName:er.ZodUnknown,...gr(n)});class cc extends br{_parse(r){const t=this._getOrReturnCtx(r);return Le(t,{code:de.invalid_type,expected:Me.never,received:t.parsedType}),hr}}cc.create=n=>new cc({typeName:er.ZodNever,...gr(n)});class Xv extends br{_parse(r){if(this._getType(r)!==Me.undefined){const t=this._getOrReturnCtx(r);return Le(t,{code:de.invalid_type,expected:Me.void,received:t.parsedType}),hr}return Ao(r.data)}}Xv.create=n=>new Xv({typeName:er.ZodVoid,...gr(n)});class za extends br{_parse(r){const{ctx:t,status:o}=this._processInputParams(r),l=this._def;if(t.parsedType!==Me.array)return Le(t,{code:de.invalid_type,expected:Me.array,received:t.parsedType}),hr;if(l.exactLength!==null){const d=t.data.length>l.exactLength.value,f=t.data.length<l.exactLength.value;(d||f)&&(Le(t,{code:d?de.too_big:de.too_small,minimum:f?l.exactLength.value:void 0,maximum:d?l.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:l.exactLength.message}),o.dirty())}if(l.minLength!==null&&t.data.length<l.minLength.value&&(Le(t,{code:de.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,exact:!1,message:l.minLength.message}),o.dirty()),l.maxLength!==null&&t.data.length>l.maxLength.value&&(Le(t,{code:de.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,exact:!1,message:l.maxLength.message}),o.dirty()),t.common.async)return Promise.all([...t.data].map((d,f)=>l.type._parseAsync(new gl(t,d,t.path,f)))).then(d=>mo.mergeArray(o,d));const u=[...t.data].map((d,f)=>l.type._parseSync(new gl(t,d,t.path,f)));return mo.mergeArray(o,u)}get element(){return this._def.type}min(r,t){return new za({...this._def,minLength:{value:r,message:Ye.toString(t)}})}max(r,t){return new za({...this._def,maxLength:{value:r,message:Ye.toString(t)}})}length(r,t){return new za({...this._def,exactLength:{value:r,message:Ye.toString(t)}})}nonempty(r){return this.min(1,r)}}za.create=(n,r)=>new za({type:n,minLength:null,maxLength:null,exactLength:null,typeName:er.ZodArray,...gr(r)});function Xd(n){if(n instanceof Zi){const r={};for(const t in n.shape){const o=n.shape[t];r[t]=nc.create(Xd(o))}return new Zi({...n._def,shape:()=>r})}else return n instanceof za?new za({...n._def,type:Xd(n.element)}):n instanceof nc?nc.create(Xd(n.unwrap())):n instanceof Mh?Mh.create(Xd(n.unwrap())):n instanceof ml?ml.create(n.items.map(r=>Xd(r))):n}class Zi extends br{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const r=this._def.shape(),t=ci.objectKeys(r);return this._cached={shape:r,keys:t}}_parse(r){if(this._getType(r)!==Me.object){const m=this._getOrReturnCtx(r);return Le(m,{code:de.invalid_type,expected:Me.object,received:m.parsedType}),hr}const{status:t,ctx:o}=this._processInputParams(r),{shape:l,keys:u}=this._getCached(),d=[];if(!(this._def.catchall instanceof cc&&this._def.unknownKeys==="strip"))for(const m in o.data)u.includes(m)||d.push(m);const f=[];for(const m of u){const v=l[m],_=o.data[m];f.push({key:{status:"valid",value:m},value:v._parse(new gl(o,_,o.path,m)),alwaysSet:m in o.data})}if(this._def.catchall instanceof cc){const m=this._def.unknownKeys;if(m==="passthrough")for(const v of d)f.push({key:{status:"valid",value:v},value:{status:"valid",value:o.data[v]}});else if(m==="strict")d.length>0&&(Le(o,{code:de.unrecognized_keys,keys:d}),t.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const v of d){const _=o.data[v];f.push({key:{status:"valid",value:v},value:m._parse(new gl(o,_,o.path,v)),alwaysSet:v in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const m=[];for(const v of f){const _=await v.key;m.push({key:_,value:await v.value,alwaysSet:v.alwaysSet})}return m}).then(m=>mo.mergeObjectSync(t,m)):mo.mergeObjectSync(t,f)}get shape(){return this._def.shape()}strict(r){return Ye.errToObj,new Zi({...this._def,unknownKeys:"strict",...r!==void 0?{errorMap:(t,o)=>{var l,u,d,f;const m=(d=(u=(l=this._def).errorMap)===null||u===void 0?void 0:u.call(l,t,o).message)!==null&&d!==void 0?d:o.defaultError;return t.code==="unrecognized_keys"?{message:(f=Ye.errToObj(r).message)!==null&&f!==void 0?f:m}:{message:m}}}:{}})}strip(){return new Zi({...this._def,unknownKeys:"strip"})}passthrough(){return new Zi({...this._def,unknownKeys:"passthrough"})}extend(r){return new Zi({...this._def,shape:()=>({...this._def.shape(),...r})})}merge(r){return new Zi({unknownKeys:r._def.unknownKeys,catchall:r._def.catchall,shape:()=>({...this._def.shape(),...r._def.shape()}),typeName:er.ZodObject})}setKey(r,t){return this.augment({[r]:t})}catchall(r){return new Zi({...this._def,catchall:r})}pick(r){const t={};return ci.objectKeys(r).forEach(o=>{r[o]&&this.shape[o]&&(t[o]=this.shape[o])}),new Zi({...this._def,shape:()=>t})}omit(r){const t={};return ci.objectKeys(this.shape).forEach(o=>{r[o]||(t[o]=this.shape[o])}),new Zi({...this._def,shape:()=>t})}deepPartial(){return Xd(this)}partial(r){const t={};return ci.objectKeys(this.shape).forEach(o=>{const l=this.shape[o];r&&!r[o]?t[o]=l:t[o]=l.optional()}),new Zi({...this._def,shape:()=>t})}required(r){const t={};return ci.objectKeys(this.shape).forEach(o=>{if(r&&!r[o])t[o]=this.shape[o];else{let l=this.shape[o];for(;l instanceof nc;)l=l._def.innerType;t[o]=l}}),new Zi({...this._def,shape:()=>t})}keyof(){return QC(ci.objectKeys(this.shape))}}Zi.create=(n,r)=>new Zi({shape:()=>n,unknownKeys:"strip",catchall:cc.create(),typeName:er.ZodObject,...gr(r)});Zi.strictCreate=(n,r)=>new Zi({shape:()=>n,unknownKeys:"strict",catchall:cc.create(),typeName:er.ZodObject,...gr(r)});Zi.lazycreate=(n,r)=>new Zi({shape:n,unknownKeys:"strip",catchall:cc.create(),typeName:er.ZodObject,...gr(r)});class Gg extends br{_parse(r){const{ctx:t}=this._processInputParams(r),o=this._def.options;function l(u){for(const f of u)if(f.result.status==="valid")return f.result;for(const f of u)if(f.result.status==="dirty")return t.common.issues.push(...f.ctx.common.issues),f.result;const d=u.map(f=>new Oa(f.ctx.common.issues));return Le(t,{code:de.invalid_union,unionErrors:d}),hr}if(t.common.async)return Promise.all(o.map(async u=>{const d={...t,common:{...t.common,issues:[]},parent:null};return{result:await u._parseAsync({data:t.data,path:t.path,parent:d}),ctx:d}})).then(l);{let u;const d=[];for(const m of o){const v={...t,common:{...t.common,issues:[]},parent:null},_=m._parseSync({data:t.data,path:t.path,parent:v});if(_.status==="valid")return _;_.status==="dirty"&&!u&&(u={result:_,ctx:v}),v.common.issues.length&&d.push(v.common.issues)}if(u)return t.common.issues.push(...u.ctx.common.issues),u.result;const f=d.map(m=>new Oa(m));return Le(t,{code:de.invalid_union,unionErrors:f}),hr}}get options(){return this._def.options}}Gg.create=(n,r)=>new Gg({options:n,typeName:er.ZodUnion,...gr(r)});const wv=n=>n instanceof Wg?wv(n.schema):n instanceof Da?wv(n.innerType()):n instanceof Zg?[n.value]:n instanceof yu?n.options:n instanceof Yg?Object.keys(n.enum):n instanceof Xg?wv(n._def.innerType):n instanceof Hg?[void 0]:n instanceof Ug?[null]:null;class My extends br{_parse(r){const{ctx:t}=this._processInputParams(r);if(t.parsedType!==Me.object)return Le(t,{code:de.invalid_type,expected:Me.object,received:t.parsedType}),hr;const o=this.discriminator,l=t.data[o],u=this.optionsMap.get(l);return u?t.common.async?u._parseAsync({data:t.data,path:t.path,parent:t}):u._parseSync({data:t.data,path:t.path,parent:t}):(Le(t,{code:de.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[o]}),hr)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(r,t,o){const l=new Map;for(const u of t){const d=wv(u.shape[r]);if(!d)throw new Error(`A discriminator value for key \`${r}\` could not be extracted from all schema options`);for(const f of d){if(l.has(f))throw new Error(`Discriminator property ${String(r)} has duplicate value ${String(f)}`);l.set(f,u)}}return new My({typeName:er.ZodDiscriminatedUnion,discriminator:r,options:t,optionsMap:l,...gr(o)})}}function E1(n,r){const t=tu(n),o=tu(r);if(n===r)return{valid:!0,data:n};if(t===Me.object&&o===Me.object){const l=ci.objectKeys(r),u=ci.objectKeys(n).filter(f=>l.indexOf(f)!==-1),d={...n,...r};for(const f of u){const m=E1(n[f],r[f]);if(!m.valid)return{valid:!1};d[f]=m.data}return{valid:!0,data:d}}else if(t===Me.array&&o===Me.array){if(n.length!==r.length)return{valid:!1};const l=[];for(let u=0;u<n.length;u++){const d=n[u],f=r[u],m=E1(d,f);if(!m.valid)return{valid:!1};l.push(m.data)}return{valid:!0,data:l}}else return t===Me.date&&o===Me.date&&+n==+r?{valid:!0,data:n}:{valid:!1}}class qg extends br{_parse(r){const{status:t,ctx:o}=this._processInputParams(r),l=(u,d)=>{if(_1(u)||_1(d))return hr;const f=E1(u.value,d.value);return f.valid?((k1(u)||k1(d))&&t.dirty(),{status:t.value,value:f.data}):(Le(o,{code:de.invalid_intersection_types}),hr)};return o.common.async?Promise.all([this._def.left._parseAsync({data:o.data,path:o.path,parent:o}),this._def.right._parseAsync({data:o.data,path:o.path,parent:o})]).then(([u,d])=>l(u,d)):l(this._def.left._parseSync({data:o.data,path:o.path,parent:o}),this._def.right._parseSync({data:o.data,path:o.path,parent:o}))}}qg.create=(n,r,t)=>new qg({left:n,right:r,typeName:er.ZodIntersection,...gr(t)});class ml extends br{_parse(r){const{status:t,ctx:o}=this._processInputParams(r);if(o.parsedType!==Me.array)return Le(o,{code:de.invalid_type,expected:Me.array,received:o.parsedType}),hr;if(o.data.length<this._def.items.length)return Le(o,{code:de.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),hr;!this._def.rest&&o.data.length>this._def.items.length&&(Le(o,{code:de.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const l=[...o.data].map((u,d)=>{const f=this._def.items[d]||this._def.rest;return f?f._parse(new gl(o,u,o.path,d)):null}).filter(u=>!!u);return o.common.async?Promise.all(l).then(u=>mo.mergeArray(t,u)):mo.mergeArray(t,l)}get items(){return this._def.items}rest(r){return new ml({...this._def,rest:r})}}ml.create=(n,r)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ml({items:n,typeName:er.ZodTuple,rest:null,...gr(r)})};class Vg extends br{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:t,ctx:o}=this._processInputParams(r);if(o.parsedType!==Me.object)return Le(o,{code:de.invalid_type,expected:Me.object,received:o.parsedType}),hr;const l=[],u=this._def.keyType,d=this._def.valueType;for(const f in o.data)l.push({key:u._parse(new gl(o,f,o.path,f)),value:d._parse(new gl(o,o.data[f],o.path,f))});return o.common.async?mo.mergeObjectAsync(t,l):mo.mergeObjectSync(t,l)}get element(){return this._def.valueType}static create(r,t,o){return t instanceof br?new Vg({keyType:r,valueType:t,typeName:er.ZodRecord,...gr(o)}):new Vg({keyType:Ma.create(),valueType:r,typeName:er.ZodRecord,...gr(t)})}}class Kv extends br{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:t,ctx:o}=this._processInputParams(r);if(o.parsedType!==Me.map)return Le(o,{code:de.invalid_type,expected:Me.map,received:o.parsedType}),hr;const l=this._def.keyType,u=this._def.valueType,d=[...o.data.entries()].map(([f,m],v)=>({key:l._parse(new gl(o,f,o.path,[v,"key"])),value:u._parse(new gl(o,m,o.path,[v,"value"]))}));if(o.common.async){const f=new Map;return Promise.resolve().then(async()=>{for(const m of d){const v=await m.key,_=await m.value;if(v.status==="aborted"||_.status==="aborted")return hr;(v.status==="dirty"||_.status==="dirty")&&t.dirty(),f.set(v.value,_.value)}return{status:t.value,value:f}})}else{const f=new Map;for(const m of d){const v=m.key,_=m.value;if(v.status==="aborted"||_.status==="aborted")return hr;(v.status==="dirty"||_.status==="dirty")&&t.dirty(),f.set(v.value,_.value)}return{status:t.value,value:f}}}}Kv.create=(n,r,t)=>new Kv({valueType:r,keyType:n,typeName:er.ZodMap,...gr(t)});class Ph extends br{_parse(r){const{status:t,ctx:o}=this._processInputParams(r);if(o.parsedType!==Me.set)return Le(o,{code:de.invalid_type,expected:Me.set,received:o.parsedType}),hr;const l=this._def;l.minSize!==null&&o.data.size<l.minSize.value&&(Le(o,{code:de.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,exact:!1,message:l.minSize.message}),t.dirty()),l.maxSize!==null&&o.data.size>l.maxSize.value&&(Le(o,{code:de.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,exact:!1,message:l.maxSize.message}),t.dirty());const u=this._def.valueType;function d(m){const v=new Set;for(const _ of m){if(_.status==="aborted")return hr;_.status==="dirty"&&t.dirty(),v.add(_.value)}return{status:t.value,value:v}}const f=[...o.data.values()].map((m,v)=>u._parse(new gl(o,m,o.path,v)));return o.common.async?Promise.all(f).then(m=>d(m)):d(f)}min(r,t){return new Ph({...this._def,minSize:{value:r,message:Ye.toString(t)}})}max(r,t){return new Ph({...this._def,maxSize:{value:r,message:Ye.toString(t)}})}size(r,t){return this.min(r,t).max(r,t)}nonempty(r){return this.min(1,r)}}Ph.create=(n,r)=>new Ph({valueType:n,minSize:null,maxSize:null,typeName:er.ZodSet,...gr(r)});class cp extends br{constructor(){super(...arguments),this.validate=this.implement}_parse(r){const{ctx:t}=this._processInputParams(r);if(t.parsedType!==Me.function)return Le(t,{code:de.invalid_type,expected:Me.function,received:t.parsedType}),hr;function o(f,m){return Wv({data:f,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Vv(),Fg].filter(v=>!!v),issueData:{code:de.invalid_arguments,argumentsError:m}})}function l(f,m){return Wv({data:f,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Vv(),Fg].filter(v=>!!v),issueData:{code:de.invalid_return_type,returnTypeError:m}})}const u={errorMap:t.common.contextualErrorMap},d=t.data;if(this._def.returns instanceof kp){const f=this;return Ao(async function(...m){const v=new Oa([]),_=await f._def.args.parseAsync(m,u).catch(C=>{throw v.addIssue(o(m,C)),v}),k=await Reflect.apply(d,this,_);return await f._def.returns._def.type.parseAsync(k,u).catch(C=>{throw v.addIssue(l(k,C)),v})})}else{const f=this;return Ao(function(...m){const v=f._def.args.safeParse(m,u);if(!v.success)throw new Oa([o(m,v.error)]);const _=Reflect.apply(d,this,v.data),k=f._def.returns.safeParse(_,u);if(!k.success)throw new Oa([l(_,k.error)]);return k.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...r){return new cp({...this._def,args:ml.create(r).rest(xh.create())})}returns(r){return new cp({...this._def,returns:r})}implement(r){return this.parse(r)}strictImplement(r){return this.parse(r)}static create(r,t,o){return new cp({args:r||ml.create([]).rest(xh.create()),returns:t||xh.create(),typeName:er.ZodFunction,...gr(o)})}}class Wg extends br{get schema(){return this._def.getter()}_parse(r){const{ctx:t}=this._processInputParams(r);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Wg.create=(n,r)=>new Wg({getter:n,typeName:er.ZodLazy,...gr(r)});class Zg extends br{_parse(r){if(r.data!==this._def.value){const t=this._getOrReturnCtx(r);return Le(t,{received:t.data,code:de.invalid_literal,expected:this._def.value}),hr}return{status:"valid",value:r.data}}get value(){return this._def.value}}Zg.create=(n,r)=>new Zg({value:n,typeName:er.ZodLiteral,...gr(r)});function QC(n,r){return new yu({values:n,typeName:er.ZodEnum,...gr(r)})}class yu extends br{_parse(r){if(typeof r.data!="string"){const t=this._getOrReturnCtx(r),o=this._def.values;return Le(t,{expected:ci.joinValues(o),received:t.parsedType,code:de.invalid_type}),hr}if(this._def.values.indexOf(r.data)===-1){const t=this._getOrReturnCtx(r),o=this._def.values;return Le(t,{received:t.data,code:de.invalid_enum_value,options:o}),hr}return Ao(r.data)}get options(){return this._def.values}get enum(){const r={};for(const t of this._def.values)r[t]=t;return r}get Values(){const r={};for(const t of this._def.values)r[t]=t;return r}get Enum(){const r={};for(const t of this._def.values)r[t]=t;return r}extract(r){return yu.create(r)}exclude(r){return yu.create(this.options.filter(t=>!r.includes(t)))}}yu.create=QC;class Yg extends br{_parse(r){const t=ci.getValidEnumValues(this._def.values),o=this._getOrReturnCtx(r);if(o.parsedType!==Me.string&&o.parsedType!==Me.number){const l=ci.objectValues(t);return Le(o,{expected:ci.joinValues(l),received:o.parsedType,code:de.invalid_type}),hr}if(t.indexOf(r.data)===-1){const l=ci.objectValues(t);return Le(o,{received:o.data,code:de.invalid_enum_value,options:l}),hr}return Ao(r.data)}get enum(){return this._def.values}}Yg.create=(n,r)=>new Yg({values:n,typeName:er.ZodNativeEnum,...gr(r)});class kp extends br{unwrap(){return this._def.type}_parse(r){const{ctx:t}=this._processInputParams(r);if(t.parsedType!==Me.promise&&t.common.async===!1)return Le(t,{code:de.invalid_type,expected:Me.promise,received:t.parsedType}),hr;const o=t.parsedType===Me.promise?t.data:Promise.resolve(t.data);return Ao(o.then(l=>this._def.type.parseAsync(l,{path:t.path,errorMap:t.common.contextualErrorMap})))}}kp.create=(n,r)=>new kp({type:n,typeName:er.ZodPromise,...gr(r)});class Da extends br{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===er.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(r){const{status:t,ctx:o}=this._processInputParams(r),l=this._def.effect||null,u={addIssue:d=>{Le(o,d),d.fatal?t.abort():t.dirty()},get path(){return o.path}};if(u.addIssue=u.addIssue.bind(u),l.type==="preprocess"){const d=l.transform(o.data,u);return o.common.issues.length?{status:"dirty",value:o.data}:o.common.async?Promise.resolve(d).then(f=>this._def.schema._parseAsync({data:f,path:o.path,parent:o})):this._def.schema._parseSync({data:d,path:o.path,parent:o})}if(l.type==="refinement"){const d=f=>{const m=l.refinement(f,u);if(o.common.async)return Promise.resolve(m);if(m instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return f};if(o.common.async===!1){const f=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});return f.status==="aborted"?hr:(f.status==="dirty"&&t.dirty(),d(f.value),{status:t.value,value:f.value})}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(f=>f.status==="aborted"?hr:(f.status==="dirty"&&t.dirty(),d(f.value).then(()=>({status:t.value,value:f.value}))))}if(l.type==="transform")if(o.common.async===!1){const d=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});if(!Bg(d))return d;const f=l.transform(d.value,u);if(f instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:f}}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(d=>Bg(d)?Promise.resolve(l.transform(d.value,u)).then(f=>({status:t.value,value:f})):d);ci.assertNever(l)}}Da.create=(n,r,t)=>new Da({schema:n,typeName:er.ZodEffects,effect:r,...gr(t)});Da.createWithPreprocess=(n,r,t)=>new Da({schema:r,effect:{type:"preprocess",transform:n},typeName:er.ZodEffects,...gr(t)});class nc extends br{_parse(r){return this._getType(r)===Me.undefined?Ao(void 0):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}nc.create=(n,r)=>new nc({innerType:n,typeName:er.ZodOptional,...gr(r)});class Mh extends br{_parse(r){return this._getType(r)===Me.null?Ao(null):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}Mh.create=(n,r)=>new Mh({innerType:n,typeName:er.ZodNullable,...gr(r)});class Xg extends br{_parse(r){const{ctx:t}=this._processInputParams(r);let o=t.data;return t.parsedType===Me.undefined&&(o=this._def.defaultValue()),this._def.innerType._parse({data:o,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Xg.create=(n,r)=>new Xg({innerType:n,typeName:er.ZodDefault,defaultValue:typeof r.default=="function"?r.default:()=>r.default,...gr(r)});class Jv extends br{_parse(r){const{ctx:t}=this._processInputParams(r),o={...t,common:{...t.common,issues:[]}},l=this._def.innerType._parse({data:o.data,path:o.path,parent:{...o}});return Zv(l)?l.then(u=>({status:"valid",value:u.status==="valid"?u.value:this._def.catchValue({get error(){return new Oa(o.common.issues)},input:o.data})})):{status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new Oa(o.common.issues)},input:o.data})}}removeCatch(){return this._def.innerType}}Jv.create=(n,r)=>new Jv({innerType:n,typeName:er.ZodCatch,catchValue:typeof r.catch=="function"?r.catch:()=>r.catch,...gr(r)});class Qv extends br{_parse(r){if(this._getType(r)!==Me.nan){const t=this._getOrReturnCtx(r);return Le(t,{code:de.invalid_type,expected:Me.nan,received:t.parsedType}),hr}return{status:"valid",value:r.data}}}Qv.create=n=>new Qv({typeName:er.ZodNaN,...gr(n)});const c8=Symbol("zod_brand");class $C extends br{_parse(r){const{ctx:t}=this._processInputParams(r),o=t.data;return this._def.type._parse({data:o,path:t.path,parent:t})}unwrap(){return this._def.type}}class cm extends br{_parse(r){const{status:t,ctx:o}=this._processInputParams(r);if(o.common.async)return(async()=>{const l=await this._def.in._parseAsync({data:o.data,path:o.path,parent:o});return l.status==="aborted"?hr:l.status==="dirty"?(t.dirty(),JC(l.value)):this._def.out._parseAsync({data:l.value,path:o.path,parent:o})})();{const l=this._def.in._parseSync({data:o.data,path:o.path,parent:o});return l.status==="aborted"?hr:l.status==="dirty"?(t.dirty(),{status:"dirty",value:l.value}):this._def.out._parseSync({data:l.value,path:o.path,parent:o})}}static create(r,t){return new cm({in:r,out:t,typeName:er.ZodPipeline})}}class $v extends br{_parse(r){const t=this._def.innerType._parse(r);return Bg(t)&&(t.value=Object.freeze(t.value)),t}}$v.create=(n,r)=>new $v({innerType:n,typeName:er.ZodReadonly,...gr(r)});const tP=(n,r={},t)=>n?_p.create().superRefine((o,l)=>{var u,d;if(!n(o)){const f=typeof r=="function"?r(o):typeof r=="string"?{message:r}:r,m=(d=(u=f.fatal)!==null&&u!==void 0?u:t)!==null&&d!==void 0?d:!0,v=typeof f=="string"?{message:f}:f;l.addIssue({code:"custom",...v,fatal:m})}}):_p.create(),u8={object:Zi.lazycreate};var er;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(er||(er={}));const h8=(n,r={message:`Input not instance of ${n.name}`})=>tP(t=>t instanceof n,r),eP=Ma.create,rP=mu.create,d8=Qv.create,p8=vu.create,iP=jg.create,f8=Ch.create,g8=Yv.create,m8=Hg.create,v8=Ug.create,y8=_p.create,b8=xh.create,w8=cc.create,x8=Xv.create,_8=za.create,k8=Zi.create,E8=Zi.strictCreate,T8=Gg.create,S8=My.create,C8=qg.create,P8=ml.create,M8=Vg.create,I8=Kv.create,L8=Ph.create,R8=cp.create,A8=Wg.create,O8=Zg.create,z8=yu.create,N8=Yg.create,D8=kp.create,oT=Da.create,F8=nc.create,B8=Mh.create,j8=Da.createWithPreprocess,H8=cm.create,U8=()=>eP().optional(),G8=()=>rP().optional(),q8=()=>iP().optional(),V8={string:n=>Ma.create({...n,coerce:!0}),number:n=>mu.create({...n,coerce:!0}),boolean:n=>jg.create({...n,coerce:!0}),bigint:n=>vu.create({...n,coerce:!0}),date:n=>Ch.create({...n,coerce:!0})},W8=hr;var xt=Object.freeze({__proto__:null,defaultErrorMap:Fg,setErrorMap:K6,getErrorMap:Vv,makeIssue:Wv,EMPTY_PATH:J6,addIssueToContext:Le,ParseStatus:mo,INVALID:hr,DIRTY:JC,OK:Ao,isAborted:_1,isDirty:k1,isValid:Bg,isAsync:Zv,get util(){return ci},get objectUtil(){return x1},ZodParsedType:Me,getParsedType:tu,ZodType:br,ZodString:Ma,ZodNumber:mu,ZodBigInt:vu,ZodBoolean:jg,ZodDate:Ch,ZodSymbol:Yv,ZodUndefined:Hg,ZodNull:Ug,ZodAny:_p,ZodUnknown:xh,ZodNever:cc,ZodVoid:Xv,ZodArray:za,ZodObject:Zi,ZodUnion:Gg,ZodDiscriminatedUnion:My,ZodIntersection:qg,ZodTuple:ml,ZodRecord:Vg,ZodMap:Kv,ZodSet:Ph,ZodFunction:cp,ZodLazy:Wg,ZodLiteral:Zg,ZodEnum:yu,ZodNativeEnum:Yg,ZodPromise:kp,ZodEffects:Da,ZodTransformer:Da,ZodOptional:nc,ZodNullable:Mh,ZodDefault:Xg,ZodCatch:Jv,ZodNaN:Qv,BRAND:c8,ZodBranded:$C,ZodPipeline:cm,ZodReadonly:$v,custom:tP,Schema:br,ZodSchema:br,late:u8,get ZodFirstPartyTypeKind(){return er},coerce:V8,any:y8,array:_8,bigint:p8,boolean:iP,date:f8,discriminatedUnion:S8,effect:oT,enum:z8,function:R8,instanceof:h8,intersection:C8,lazy:A8,literal:O8,map:I8,nan:d8,nativeEnum:N8,never:w8,null:v8,nullable:B8,number:rP,object:k8,oboolean:q8,onumber:G8,optional:F8,ostring:U8,pipeline:H8,preprocess:j8,promise:D8,record:M8,set:L8,strictObject:E8,string:eP,symbol:g8,transformer:oT,tuple:P8,undefined:m8,union:T8,unknown:b8,void:x8,NEVER:W8,ZodIssueCode:de,quotelessJson:X6,ZodError:Oa});const Iy=/^https?:\/\/library.stanford.edu\/iiif\/image-api\/1.1\/compliance.html#level(?<level>[012])$/,nP=xt.string().regex(Iy),Z8=nP,ty="http://library.stanford.edu/iiif/image-api/1.1/context.json",oP="http://iiif.io/api/image/1/context.json",sP=xt.literal(ty),aP=xt.object({"@context":sP,"@id":xt.string().url(),profile:nP.optional(),width:xt.number().int(),height:xt.number().int(),scale_factors:xt.number().array().optional(),tile_width:xt.number().optional(),tile_height:xt.number().optional()}),lP=xt.object({width:xt.number().int(),height:xt.number().int()}),cP=xt.object({width:xt.number().int(),height:xt.number().int().optional(),scaleFactors:xt.array(xt.number().int())}),Ly=/^https?:\/\/iiif.io\/api\/image\/2.*level(?<level>[012])(.json)?$/,sT=xt.string().regex(Ly),Y8=xt.object({formats:xt.string().array().optional(),maxArea:xt.number().int().optional(),maxHeight:xt.number().int().optional(),maxWidth:xt.number().int().optional(),qualities:xt.string().array().optional(),supports:xt.string().array().optional()}),ey=sT.or(xt.array(xt.union([sT,Y8,xt.any()]))),ry="http://iiif.io/api/image/2/context.json",uP=xt.literal(ry).or(xt.literal("https://iiif.io/api/image/2/context.json")),zx=xt.object({"@id":xt.string().url(),"@type":xt.literal("iiif:Image").optional(),"@context":uP,protocol:xt.literal("http://iiif.io/api/image"),width:xt.number().int(),height:xt.number().int(),profile:ey,sizes:lP.array().optional(),tiles:cP.array().optional()}),X8=["level0","level1","level2"],Nx=xt.object({id:xt.string().url(),type:xt.literal("ImageService3"),protocol:xt.literal("http://iiif.io/api/image"),profile:xt.enum(X8),width:xt.number().int(),height:xt.number().int(),maxWidth:xt.number().int().optional(),maxHeight:xt.number().int().optional(),maxArea:xt.number().int().optional(),sizes:lP.array().optional(),tiles:cP.array().optional(),extraFeatures:xt.string().array().optional()}),K8=xt.object({"@id":xt.string().url(),profile:Z8.or(ey),width:xt.number().int().optional(),height:xt.number().int().optional(),"@context":sP.or(xt.literal("http://iiif.io/api/image/1/context.json")).or(uP).optional()}),J8=["level0","level1","level2"],Q8=["ImageService1","ImageService2","ImageService3"],$8=xt.object({id:xt.string().url(),type:xt.literal("ImageService2"),profile:ey}).or(xt.object({"@id":xt.string().url(),"@type":xt.literal("ImageService2"),profile:ey})),tF=xt.object({id:xt.string().url(),type:xt.enum(Q8),profile:xt.enum(J8)}),eF=xt.union([$8,tF]),hP=K8.or(eF),aT=xt.string().or(xt.number()).or(xt.boolean()),dP=aT.or(aT.array()),lT=xt.object({"@language":xt.string().optional(),"@value":dP}),Ih=dP.or(lT).or(lT.array()),rF=xt.object({label:Ih.optional(),value:Ih.optional()}),pP=rF.array(),iF=xt.object({width:xt.number().int().optional(),height:xt.number().int().optional(),service:hP}),nF=xt.object({resource:iF}),fP=xt.object({"@id":xt.string().url(),"@type":xt.literal("sc:Canvas"),width:xt.number().int(),height:xt.number().int(),images:nF.array().length(1),label:Ih.optional(),metadata:pP.optional()}),oF=xt.object({canvases:fP.array().nonempty()}),gP=xt.object({"@id":xt.string().url(),"@type":xt.literal("sc:Manifest"),sequences:oF.array().length(1),label:Ih.optional(),description:Ih.optional(),metadata:pP.optional()}),cT=xt.lazy(()=>xt.object({"@id":xt.string().url(),"@type":xt.literal("sc:Manifest"),label:Ih.optional()})),T1=xt.lazy(()=>xt.object({"@id":xt.string().url(),"@type":xt.literal("sc:Collection"),label:Ih.optional(),manifests:cT.array().optional(),collections:T1.array().optional(),members:cT.or(T1).array().optional()})),sF=xt.string().or(xt.number()).or(xt.boolean()),Lh=xt.record(xt.string(),sF.array()),aF=xt.object({label:Lh.optional(),value:Lh.optional()}),mP=aF.array(),uT=xt.object({type:xt.literal("Image"),width:xt.number().int().optional(),height:xt.number().int().optional(),service:hP.array()}),lF=xt.object({type:xt.literal("Annotation"),body:uT.or(uT.array().length(1))}),cF=xt.object({type:xt.literal("AnnotationPage"),items:lF.array().length(1)}),vP=xt.object({id:xt.string().url(),type:xt.literal("Canvas"),width:xt.number().int(),height:xt.number().int(),items:cF.array().length(1),label:Lh.optional(),metadata:mP.optional()}),yP=xt.object({id:xt.string().url(),type:xt.literal("Manifest"),items:vP.array().nonempty(),label:Lh.optional(),description:Lh.optional(),metadata:mP.optional()}),uF=xt.lazy(()=>xt.object({id:xt.string().url(),type:xt.literal("Manifest"),label:Lh.optional()})),bP=xt.lazy(()=>xt.object({id:xt.string().url(),type:xt.literal("Collection"),label:Lh.optional(),items:uF.or(bP).array()})),wP=aP.or(zx).or(Nx);fP.or(vP);const hF=gP.or(yP);T1.or(bP);gP.or(zx);yP.or(Nx);hF.or(wP);function xP({width:n,height:r},t,o,l){const u=o*t.originalWidth,d=l*t.originalHeight,f=o*t.originalWidth+t.width*t.scaleFactor>n?n-o*t.originalWidth:t.width*t.scaleFactor,m=l*t.originalHeight+t.height*t.scaleFactor>r?r-l*t.originalHeight:t.height*t.scaleFactor;let v=t.width,_=t.height;return u+t.width*t.scaleFactor>n&&(v=Math.floor((n-u+t.scaleFactor-1)/t.scaleFactor)),d+t.height*t.scaleFactor>r&&(_=Math.floor((r-d+t.scaleFactor-1)/t.scaleFactor)),{region:{x:u,y:d,width:f,height:m},size:{width:v,height:_}}}function dF({width:n,height:r},t=768){const o=Math.max(n,r)/t,l=Math.ceil(Math.log(o)/Math.log(2));return{scaleFactors:Array.from({length:l},(u,d)=>2**d),width:t}}function pF({width:n,height:r},t,o){const l=t.height||t.width,u=t.width*o,d=l*o;return{scaleFactor:o,width:t.width,height:l,originalWidth:u,originalHeight:d,columns:Math.ceil(n/u),rows:Math.ceil(r/d)}}function fF(n,r){return r.map(t=>t.scaleFactors.map(o=>pF(n,t,o))).flat()}function gF(n){return!!n.some(r=>r.width&&r.scaleFactors&&r.scaleFactors.length)}function mF(n,r,t){if(!r||!gF(r))if(t)r=[dF(n)];else throw new Error("Image does not support tiles or custom regions and sizes.");return fF(n,r)}function vF(n,r,t="cover"){if(t==="cover"||t==="contain"){const o=r.width/n.width,l=r.height/n.height,u=t==="cover"?Math.max(o,l):Math.min(o,l),d=n.width*u,f=n.height*u;return{width:d,height:f}}else throw new Error('Mode must be either "cover" or "contain"')}const yF=.8,bF=1.5;function _P(n,r,t="cover",{sizes:o,tileZoomLevels:l,supportsAnyRegionAndSize:u,maxWidth:d,maxHeight:f,maxArea:m}){let{width:v,height:_}=vF(n,r,t);if(d&&v>d&&(_=_/v*d,v=d),f&&_>f&&(v=v/_*f,_=f),m&&v*_>m){const C=_/v,M=Math.floor(Math.sqrt(m/C))*C;v=Math.floor(M)/C,_=v*C}const k=n.width/n.height;if(v=Math.floor(v),_=Math.round(v/k),o){let C;for(const M of o){const I=M.width/v;if(I>=yF&&I<=bF){C=M;break}}if(C)return{size:C}}if(u)return{size:{width:Math.round(v),height:Math.round(_)}};if(l){const C=n.width/v,M=l.map(({scaleFactor:J},G)=>({index:G,scaleFactor:J,diff:Math.abs(J-C)})).sort((J,G)=>J.diff-G.diff),I=l[M[0].index],F=Math.ceil(n.width/(I.scaleFactor*l[0].width)),H=Math.ceil(n.height/(I.scaleFactor*l[0].height)),U=[];for(let J=0;J<H;J++){const G=[];for(let Z=0;Z<F;Z++){const at=xP(n,I,Z,J);G.push(at)}U.push(G)}return U}throw new Error("Unable to create thumbnail")}const kP=["regionByPx","sizeByWh"];function wF(n){const r=n.match(Iy);if(r&&r.groups)return parseInt(r.groups.level)}function hT(n){const r=n.match(Ly);if(r&&r.groups)return parseInt(r.groups.level)}function xF(n){return{maxWidth:n==null?void 0:n.maxWidth,maxHeight:n==null?void 0:n.maxHeight,maxArea:n==null?void 0:n.maxArea,supportsAnyRegionAndSize:kP.every(r=>{var t;return(n==null?void 0:n.supports)&&((t=n==null?void 0:n.supports)==null?void 0:t.includes(r))})}}function _F(n){if("type"in n&&n.type==="ImageService3")return 3;if("type"in n&&n.type==="ImageService2"||"@type"in n&&n["@type"]==="ImageService2"||"@context"in n&&n["@context"]===ry)return 2;if("@context"in n&&(n["@context"]===ty||n["@context"]===oP))return 1;if("profile"in n){let r;return Array.isArray(n.profile)?r=n.profile[0]:r=n.profile,r.match(Iy)?1:r.match(Ly)?2:3}else throw new Error("Unsupported IIIF Image Service")}function S1(n){if("type"in n){const r=n.profile;let t=!1;return r==="level0"||typeof r=="string"&&r.endsWith("level0.json")?"extraFeatures"in n&&(t=kP.every(o=>n.extraFeatures&&n.extraFeatures.includes(o))):t=!0,{maxWidth:"maxWidth"in n?n.maxWidth:void 0,maxHeight:"maxHeight"in n?n.maxHeight:void 0,maxArea:"maxArea"in n?n.maxArea:void 0,supportsAnyRegionAndSize:t}}else if(Array.isArray(n.profile)){let r=!1,t=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY;return n.profile.forEach(u=>{if(typeof u=="string"){const d=hT(u);d&&(r=r||d>=1)}else{const{maxWidth:d,maxHeight:f,maxArea:m,supportsAnyRegionAndSize:v}=xF(u);d!==void 0&&(o=Math.max(d,o)),f!==void 0&&(t=Math.max(f,t)),m!==void 0&&(l=Math.max(m,l)),r=r||v}}),{maxWidth:o>=0?o:void 0,maxHeight:t>=0?t:void 0,maxArea:l>=0?l:void 0,supportsAnyRegionAndSize:r}}else if("profile"in n&&n.profile){const r=wF(n.profile),t=hT(n.profile);return r?{supportsAnyRegionAndSize:r>=1}:t?{supportsAnyRegionAndSize:t>=1}:{supportsAnyRegionAndSize:!1}}else throw new Error("Invalid Image")}const kF="image";class EF{constructor(r,t){if(this.embedded=!0,this.type=kF,t){const o=r;let l,u;if(Array.isArray(o.service)?o.service.forEach(d=>{try{const f=_F(d);(!u||f>u)&&(u=f,l=d)}catch{}}):l=o.service,!l)throw new Error("Unsupported IIIF Image Service");if("@id"in l)this.uri=l["@id"];else if("id"in l)this.uri=l.id;else throw new Error("Unsupported IIIF Image Service");if("type"in l&&l.type==="ImageService3")this.majorVersion=3;else if("type"in l&&l.type==="ImageService2"||"@type"in l&&l["@type"]==="ImageService2"||"@context"in l&&l["@context"]===ry)this.majorVersion=2;else if("@context"in l&&(l["@context"]===ty||l["@context"]===oP))this.majorVersion=1;else if("profile"in l){let d;Array.isArray(l.profile)?d=l.profile[0]:d=l.profile,d.match(Iy)?this.majorVersion=1:d.match(Ly)?this.majorVersion=2:this.majorVersion=3}else throw new Error("Unsupported IIIF Image Service");if("profile"in l){const d=S1(l);this.supportsAnyRegionAndSize=d.supportsAnyRegionAndSize,this.maxWidth=d.maxWidth,this.maxHeight=d.maxHeight,this.maxArea=d.maxArea}else this.supportsAnyRegionAndSize=!1}else{if("@id"in r)this.uri=r["@id"];else if("id"in r)this.uri=r.id;else throw new Error("Unsupported IIIF Image");if("type"in r&&r.type==="ImageService3")this.majorVersion=3;else if("@type"in r&&r["@type"]==="iiif:Image"||"@context"in r&&r["@context"]===ry)this.majorVersion=2;else if("@context"in r&&r["@context"]===ty)this.majorVersion=1;else throw new Error("Unsupported IIIF Image");if("profile"in r){const o=S1(r);this.supportsAnyRegionAndSize=o.supportsAnyRegionAndSize,this.maxWidth=o.maxWidth,this.maxHeight=o.maxHeight,this.maxArea=o.maxArea}else this.supportsAnyRegionAndSize=!1}if(r.width!==void 0)this.width=r.width;else if(t)this.width=t.width;else throw new Error("Width not present on either Canvas or Image Resource");if(r.height!==void 0)this.height=r.height;else if(t)this.height=t.height;else throw new Error("Height not present on either Canvas or Image Resource")}getImageUrl(r){const{region:t,size:o}=r;let l,u,d,f,m;t?(m=`${t.x},${t.y},${t.width},${t.height}`,d=t.height,f=t.width):(m="full",d=this.height,f=this.width);let v;if(o){l=Math.round(o.width),u=Math.round(o.height);const C=String(l);let M=String(u);const I=f/d,F=u*I/I;u===Math.round(F)&&(M=""),v=`${C},${M}`}else l=this.width,u=this.height,v=this.majorVersion===2?"full":"max";const _=l*u;if(this.maxWidth!==void 0&&l>this.maxWidth)throw new Error(`Width of requested image is too large: ${l} > ${this.maxWidth}`);if(this.maxHeight!==void 0&&u>this.maxHeight)throw new Error(`Height of requested image is too large: ${u} > ${this.maxHeight}`);if(this.maxArea!==void 0&&_>this.maxArea)throw new Error(`Area of requested image is too large: ${_} > ${this.maxArea}`);const k=this.majorVersion===1?"native":"default";return`${this.uri}/${m}/${v}/0/${k}.jpg`}getThumbnail(r,t="cover"){return _P({width:this.width,height:this.height},r,t,{supportsAnyRegionAndSize:this.supportsAnyRegionAndSize,maxWidth:this.maxWidth,maxHeight:this.maxHeight,maxArea:this.maxArea})}}let TF=class EP extends EF{constructor(r){super(r),this.embedded=!1;const t=S1(r);let o;"tiles"in r&&(o=r.tiles),this.tileZoomLevels=mF({width:this.width,height:this.height},o,t.supportsAnyRegionAndSize),"sizes"in r&&(this.sizes=r.sizes)}static parse(r,t=null){let o;return t===1?o=aP.parse(r):t===2?o=zx.parse(r):t===3?o=Nx.parse(r):o=wP.parse(r),new EP(o)}getIiifTile(r,t,o){return xP({width:this.width,height:this.height},r,t,o)}getThumbnail(r,t="cover"){return _P({width:this.width,height:this.height},r,t,{supportsAnyRegionAndSize:this.supportsAnyRegionAndSize,sizes:this.sizes,tileZoomLevels:this.tileZoomLevels,maxWidth:this.maxWidth,maxHeight:this.maxHeight,maxArea:this.maxArea})}};const dT=xt.record(xt.string(),xt.string().array());xt.object({label:dT.optional(),value:dT.optional()});var Vo=63710088e-1,TP={centimeters:Vo*100,centimetres:Vo*100,degrees:Vo/111325,feet:Vo*3.28084,inches:Vo*39.37,kilometers:Vo/1e3,kilometres:Vo/1e3,meters:Vo,metres:Vo,miles:Vo/1609.344,millimeters:Vo*1e3,millimetres:Vo*1e3,nauticalmiles:Vo/1852,radians:1,yards:Vo*1.0936};function SF(n,r,t){t===void 0&&(t={});var o={type:"Feature"};return(t.id===0||t.id)&&(o.id=t.id),t.bbox&&(o.bbox=t.bbox),o.properties=r||{},o.geometry=n,o}function CF(n,r,t){if(t===void 0&&(t={}),!n)throw new Error("coordinates is required");if(!Array.isArray(n))throw new Error("coordinates must be an Array");if(n.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!pT(n[0])||!pT(n[1]))throw new Error("coordinates must contain numbers");var o={type:"Point",coordinates:n};return SF(o,r,t)}function PF(n,r){r===void 0&&(r="kilometers");var t=TP[r];if(!t)throw new Error(r+" units is invalid");return n*t}function MF(n,r){r===void 0&&(r="kilometers");var t=TP[r];if(!t)throw new Error(r+" units is invalid");return n/t}function C1(n){var r=n%(2*Math.PI);return r*180/Math.PI}function Ia(n){var r=n%360;return r*Math.PI/180}function pT(n){return!isNaN(n)&&n!==null&&!Array.isArray(n)}function Ep(n){if(!n)throw new Error("coord is required");if(!Array.isArray(n)){if(n.type==="Feature"&&n.geometry!==null&&n.geometry.type==="Point")return n.geometry.coordinates;if(n.type==="Point")return n.coordinates}if(Array.isArray(n)&&n.length>=2&&!Array.isArray(n[0])&&!Array.isArray(n[1]))return n;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function IF(n){return n.type==="Feature"?n.geometry:n}function SP(n,r,t){if(t===void 0&&(t={}),t.final===!0)return LF(n,r);var o=Ep(n),l=Ep(r),u=Ia(o[0]),d=Ia(l[0]),f=Ia(o[1]),m=Ia(l[1]),v=Math.sin(d-u)*Math.cos(m),_=Math.cos(f)*Math.sin(m)-Math.sin(f)*Math.cos(m)*Math.cos(d-u);return C1(Math.atan2(v,_))}function LF(n,r){var t=SP(r,n);return t=(t+180)%360,t}function RF(n,r,t,o){o===void 0&&(o={});var l=Ep(n),u=Ia(l[0]),d=Ia(l[1]),f=Ia(t),m=MF(r,o.units),v=Math.asin(Math.sin(d)*Math.cos(m)+Math.cos(d)*Math.sin(m)*Math.cos(f)),_=u+Math.atan2(Math.sin(f)*Math.sin(m)*Math.cos(d),Math.cos(m)-Math.sin(d)*Math.sin(v)),k=C1(_),C=C1(v);return CF([k,C],o.properties)}function Dx(n,r,t){t===void 0&&(t={});var o=Ep(n),l=Ep(r),u=Ia(l[1]-o[1]),d=Ia(l[0]-o[0]),f=Ia(o[1]),m=Ia(l[1]),v=Math.pow(Math.sin(u/2),2)+Math.pow(Math.sin(d/2),2)*Math.cos(f)*Math.cos(m);return PF(2*Math.atan2(Math.sqrt(v),Math.sqrt(1-v)),t.units)}function iy(n,r){var t=Dx(n,r),o=SP(n,r),l=RF(n,t/2,o);return l}async function CP(n,r={}){let t;if(r.cache&&(t=await r.cache.match(n)),t||(t=await fetch(n,{signal:r.abortSignal}),r.cache&&r.cache.put(n,t.clone())),!t.ok)throw new Error(t.statusText);return t}async function AF(n,r={}){return await(await CP(n,r)).json()}async function OF(n,r={}){return await AF(`${n}/info.json`,r)}function zF(n,r){return new Promise((t,o)=>{const l=new Image;let u=!1;l.addEventListener("load",()=>t(l)),l.addEventListener("error",async()=>{if(u)o(new DOMException("Loading image aborted by user","AbortError"));else try{throw await CP(n,{abortSignal:r}),new Error("Image failed to load by setting Image src but downloaded successfully using fetch")}catch(d){o(d)}}),l.crossOrigin="anonymous",l.src=n,r&&r.addEventListener("abort",()=>{u=!0,l.src=""})})}function PP(n,r=!1){switch(n.type){case"Polygon":return n.coordinates?{...n,coordinates:fT(n.coordinates,r)}:n;case"MultiPolygon":return n.coordinates?{...n,coordinates:n.coordinates.map(t=>fT(t,r))}:n;case"GeometryCollection":return{...n,geometries:n.geometries.map(t=>PP(t,r))};default:return n}}function fT(n,r){if(n.length===0)return n;const t=[];for(let o=0;o<n.length;o++)t.push(NF(n[o],o===0?r:!r));return t}function NF(n,r){let t=0,o=0;for(let l=0,u=n.length,d=u-1;l<u;d=l++){const f=(n[l][0]-n[d][0])*(n[d][1]+n[l][1]),m=t+f;o+=Math.abs(t)>=Math.abs(f)?t-m+f:f-m+t,t=m}return t+o>=0!=!!r?n.slice().reverse():n}function Zo(n){return Array.isArray(n)&&n.length===2&&typeof n[0]=="number"&&typeof n[1]=="number"}function ol(n){return Array.isArray(n)&&n.every(Zo)}function DF(n){return Array.isArray(n)&&n.every(Zo)}function sl(n){return Array.isArray(n)&&n.every(DF)}function MP(n){if(n=n.filter(function(r,t,o){return t===0||!Bx(r,o[t-1])}),n.length<2)throw new Error("LineString should contain at least 2 points");return n}function Fx(n){if(n=n.filter(function(r,t,o){return t===0||!Bx(r,o[t-1])}),BF(n)&&n.splice(-1),n.length<3)throw new Error("Ring should contain at least 3 points");return n}function FF(n){return n.map(r=>Fx(r))}function K0(n){return{type:"Point",coordinates:n}}function J0(n){return{type:"LineString",coordinates:n}}function Q0(n,r=!0){const t={type:"Polygon",coordinates:r?n.map(o=>[...o,o[0]]):n};return PP(t)}function BF(n){return Array.isArray(n)&&n.length>=2&&Bx(n[0],n[n.length-1])}function Bx(n,r){return n===r?!0:n==null||r==null?!1:n[0]==r[0]&&n[1]==r[1]}function ny(n,r){return[(r[0]-n[0])/2+n[0],(r[1]-n[1])/2+n[1]]}function jF(n,r,t){return[n[0]*t+r[0]*(1-t),n[1]*t+r[1]*(1-t)]}function oc(n,r){if(ol(n)&&n.length==2)return oc(n[0],n[1]);if(Zo(n)&&Zo(r))return Math.sqrt((r[0]-n[0])**2+(r[1]-n[1])**2);throw new Error("Input type not supported")}function HF(n){return n*(Math.PI/180)}function Xl(n){return typeof n=="object"&&n!==null&&n.type==="Point"&&Zo(n.coordinates)}function Kl(n){return typeof n=="object"&&n!==null&&n.type==="LineString"&&ol(n.coordinates)}function Jl(n){return typeof n=="object"&&n!==null&&n.type==="Polygon"&&Array.isArray(n.coordinates)&&sl(n.coordinates)}function UF(n){const r=typeof n=="object"&&n!==null,t=r&&"type"in n&&typeof n.type=="string"&&(n.type==="Point"||n.type==="LineString"||n.type==="Polygon"),o=r&&"coordinates"in n&&Array.isArray(n.coordinates);return t&&o}function lg(n){return n.coordinates}function cg(n){return n.coordinates}function ug(n,r=!1){let t=n.coordinates;return t=FF(t),r?t.map(o=>[...o,o[0]]):t}function GF(n){if(Xl(n))return lg(n);if(Kl(n))return cg(n);if(Jl(n))return ug(n);throw new Error("Geometry type not supported")}function gT(n){let r=Number.POSITIVE_INFINITY,t=Number.NEGATIVE_INFINITY;for(const o of n)r===void 0?o>=o&&(r=t=o):(r>o&&(r=o),t<o&&(t=o));return[r,t]}function Gn(n){if(Zo(n)&&(n=[n]),sl(n)&&(n=n.flat()),UF(n))return Gn(GF(n));const r=[],t=[];for(const f of n)r.push(f[0]),t.push(f[1]);const[o,l]=gT(r),[u,d]=gT(t);return[o,u,l,d]}function mT(n,r){return[Math.min(n[0],r[0]),Math.min(n[1],r[1]),Math.max(n[2],r[2]),Math.max(n[3],r[3])]}function qF(n,r){const t=n[2]>=r[0]&&r[2]>=n[0],o=n[3]>=r[1]&&r[3]>=n[1];return t&&o}function Kg(n){return[[n[0],n[1]],[n[2],n[1]],[n[2],n[3]],[n[0],n[3]]]}function VF(n){return[Kg(n)]}function IP(n){return[[n[0],n[1]],[n[2],n[3]]]}function WF(n){return oc(IP(n))}function ZF(n){return oc(IP(Gn(n)))}function P1(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function oy(n){return[n[2]-n[0],n[3]-n[1]]}function LP(n,r){const t=n[0]/r[0],o=n[1]/r[1];return Math.min(t,o)}function Ow(n,r){return LP(oy(n),oy(r))}function YF(n){const r=parseInt(n.replace(/^#/,""),16),t=r>>16&255,o=r>>8&255,l=r&255;return[t,o,l]}function vT(n){return YF(n).map(r=>r/255)}function XF(n,r){return!n||!r||n.size!==r.size?!1:[...n].every(t=>r.has(t))}function yT(n,r){if(n!==void 0&&r!==void 0)return Math.max(n,r);if(n!==void 0)return n;if(r!==void 0)return r}function KF(n){let r;try{r=new URL(n)}catch{return!1}return r.protocol==="http:"||r.protocol==="https:"}function JF([n,r]){const t=6378137*HF(n),o=t/n,l=180/Math.PI*Math.log(Math.tan(Math.PI/4+r*(Math.PI/180)/2))*o;return[t,l]}function bT([n,r]){const t=Math.PI*6378137,o=n/t*180;let l=r/t*180;return l=180/Math.PI*(2*Math.atan(Math.exp(l*Math.PI/180))-Math.PI/2),[o,l]}var QF=Object.defineProperty,$F=(n,r,t)=>r in n?QF(n,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[r]=t,tB=(n,r,t)=>($F(n,typeof r!="symbol"?r+"":r,t),t),jx=(n,r,t)=>{if(!r.has(n))throw TypeError("Cannot "+t)},nl=(n,r,t)=>(jx(n,r,"read from private field"),t?t.call(n):r.get(n)),kg=(n,r,t)=>{if(r.has(n))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(n):r.set(n,t)},zw=(n,r,t,o)=>(jx(n,r,"write to private field"),o?o.call(n,t):r.set(n,t),t),Tp=(n,r,t)=>(jx(n,r,"access private method"),t);function RP(n){if(n.__esModule)return n;var r=n.default;if(typeof r=="function"){var t=function o(){return this instanceof o?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};t.prototype=r.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(o){var l=Object.getOwnPropertyDescriptor(n,o);Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:function(){return n[o]}})}),t}var ti={};const eB=Object.prototype.toString;function Jg(n){const r=eB.call(n);return r.endsWith("Array]")&&!r.includes("Big")}const rB=Object.freeze(Object.defineProperty({__proto__:null,isAnyArray:Jg},Symbol.toStringTag,{value:"Module"})),iB=RP(rB);function nB(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Jg(n))throw new TypeError("input must be an array");if(n.length===0)throw new TypeError("input must not be empty");var t=r.fromIndex,o=t===void 0?0:t,l=r.toIndex,u=l===void 0?n.length:l;if(o<0||o>=n.length||!Number.isInteger(o))throw new Error("fromIndex must be a positive integer smaller than length");if(u<=o||u>n.length||!Number.isInteger(u))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var d=n[o],f=o+1;f<u;f++)n[f]>d&&(d=n[f]);return d}function oB(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Jg(n))throw new TypeError("input must be an array");if(n.length===0)throw new TypeError("input must not be empty");var t=r.fromIndex,o=t===void 0?0:t,l=r.toIndex,u=l===void 0?n.length:l;if(o<0||o>=n.length||!Number.isInteger(o))throw new Error("fromIndex must be a positive integer smaller than length");if(u<=o||u>n.length||!Number.isInteger(u))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var d=n[o],f=o+1;f<u;f++)n[f]<d&&(d=n[f]);return d}function sB(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Jg(n)){if(n.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var t;if(r.output!==void 0){if(!Jg(r.output))throw new TypeError("output option must be an array if specified");t=r.output}else t=new Array(n.length);var o=oB(n),l=nB(n);if(o===l)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var u=r.min,d=u===void 0?r.autoMinMax?o:0:u,f=r.max,m=f===void 0?r.autoMinMax?l:1:f;if(d>=m)throw new RangeError("min option must be smaller than max option");for(var v=(m-d)/(l-o),_=0;_<n.length;_++)t[_]=(n[_]-o)*v+d;return t}const aB=Object.freeze(Object.defineProperty({__proto__:null,default:sB},Symbol.toStringTag,{value:"Module"})),lB=RP(aB);Object.defineProperty(ti,"__esModule",{value:!0});var Yo=iB,wT=lB;const $0=" ".repeat(2),AP=" ".repeat(4);function cB(){return OP(this)}function OP(n,r={}){const{maxRows:t=15,maxColumns:o=10,maxNumSize:l=8,padMinus:u="auto"}=r;return`${n.constructor.name} {
${$0}[
${AP}${uB(n,t,o,l,u)}
${$0}]
${$0}rows: ${n.rows}
${$0}columns: ${n.columns}
}`}function uB(n,r,t,o,l){const{rows:u,columns:d}=n,f=Math.min(u,r),m=Math.min(d,t),v=[];if(l==="auto"){l=!1;t:for(let _=0;_<f;_++)for(let k=0;k<m;k++)if(n.get(_,k)<0){l=!0;break t}}for(let _=0;_<f;_++){let k=[];for(let C=0;C<m;C++)k.push(hB(n.get(_,C),o,l));v.push(`${k.join(" ")}`)}return m!==d&&(v[v.length-1]+=` ... ${d-t} more columns`),f!==u&&v.push(`... ${u-r} more rows`),v.join(`
${AP}`)}function hB(n,r,t){return(n>=0&&t?` ${xT(n,r-1)}`:xT(n,r)).padEnd(r)}function xT(n,r){let t=n.toString();if(t.length<=r)return t;let o=n.toFixed(r);if(o.length>r&&(o=n.toFixed(Math.max(0,r-(o.length-r)))),o.length<=r&&!o.startsWith("0.000")&&!o.startsWith("-0.000"))return o;let l=n.toExponential(r);return l.length>r&&(l=n.toExponential(Math.max(0,r-(l.length-r)))),l.slice(0)}function dB(n,r){n.prototype.add=function(t){return typeof t=="number"?this.addS(t):this.addM(t)},n.prototype.addS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)+t);return this},n.prototype.addM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)+t.get(o,l));return this},n.add=function(t,o){return new r(t).add(o)},n.prototype.sub=function(t){return typeof t=="number"?this.subS(t):this.subM(t)},n.prototype.subS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)-t);return this},n.prototype.subM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)-t.get(o,l));return this},n.sub=function(t,o){return new r(t).sub(o)},n.prototype.subtract=n.prototype.sub,n.prototype.subtractS=n.prototype.subS,n.prototype.subtractM=n.prototype.subM,n.subtract=n.sub,n.prototype.mul=function(t){return typeof t=="number"?this.mulS(t):this.mulM(t)},n.prototype.mulS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)*t);return this},n.prototype.mulM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)*t.get(o,l));return this},n.mul=function(t,o){return new r(t).mul(o)},n.prototype.multiply=n.prototype.mul,n.prototype.multiplyS=n.prototype.mulS,n.prototype.multiplyM=n.prototype.mulM,n.multiply=n.mul,n.prototype.div=function(t){return typeof t=="number"?this.divS(t):this.divM(t)},n.prototype.divS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)/t);return this},n.prototype.divM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)/t.get(o,l));return this},n.div=function(t,o){return new r(t).div(o)},n.prototype.divide=n.prototype.div,n.prototype.divideS=n.prototype.divS,n.prototype.divideM=n.prototype.divM,n.divide=n.div,n.prototype.mod=function(t){return typeof t=="number"?this.modS(t):this.modM(t)},n.prototype.modS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)%t);return this},n.prototype.modM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)%t.get(o,l));return this},n.mod=function(t,o){return new r(t).mod(o)},n.prototype.modulus=n.prototype.mod,n.prototype.modulusS=n.prototype.modS,n.prototype.modulusM=n.prototype.modM,n.modulus=n.mod,n.prototype.and=function(t){return typeof t=="number"?this.andS(t):this.andM(t)},n.prototype.andS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)&t);return this},n.prototype.andM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)&t.get(o,l));return this},n.and=function(t,o){return new r(t).and(o)},n.prototype.or=function(t){return typeof t=="number"?this.orS(t):this.orM(t)},n.prototype.orS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)|t);return this},n.prototype.orM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)|t.get(o,l));return this},n.or=function(t,o){return new r(t).or(o)},n.prototype.xor=function(t){return typeof t=="number"?this.xorS(t):this.xorM(t)},n.prototype.xorS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)^t);return this},n.prototype.xorM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)^t.get(o,l));return this},n.xor=function(t,o){return new r(t).xor(o)},n.prototype.leftShift=function(t){return typeof t=="number"?this.leftShiftS(t):this.leftShiftM(t)},n.prototype.leftShiftS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)<<t);return this},n.prototype.leftShiftM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)<<t.get(o,l));return this},n.leftShift=function(t,o){return new r(t).leftShift(o)},n.prototype.signPropagatingRightShift=function(t){return typeof t=="number"?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},n.prototype.signPropagatingRightShiftS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)>>t);return this},n.prototype.signPropagatingRightShiftM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)>>t.get(o,l));return this},n.signPropagatingRightShift=function(t,o){return new r(t).signPropagatingRightShift(o)},n.prototype.rightShift=function(t){return typeof t=="number"?this.rightShiftS(t):this.rightShiftM(t)},n.prototype.rightShiftS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)>>>t);return this},n.prototype.rightShiftM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)>>>t.get(o,l));return this},n.rightShift=function(t,o){return new r(t).rightShift(o)},n.prototype.zeroFillRightShift=n.prototype.rightShift,n.prototype.zeroFillRightShiftS=n.prototype.rightShiftS,n.prototype.zeroFillRightShiftM=n.prototype.rightShiftM,n.zeroFillRightShift=n.rightShift,n.prototype.not=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,~this.get(t,o));return this},n.not=function(t){return new r(t).not()},n.prototype.abs=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.abs(this.get(t,o)));return this},n.abs=function(t){return new r(t).abs()},n.prototype.acos=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.acos(this.get(t,o)));return this},n.acos=function(t){return new r(t).acos()},n.prototype.acosh=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.acosh(this.get(t,o)));return this},n.acosh=function(t){return new r(t).acosh()},n.prototype.asin=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.asin(this.get(t,o)));return this},n.asin=function(t){return new r(t).asin()},n.prototype.asinh=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.asinh(this.get(t,o)));return this},n.asinh=function(t){return new r(t).asinh()},n.prototype.atan=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.atan(this.get(t,o)));return this},n.atan=function(t){return new r(t).atan()},n.prototype.atanh=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.atanh(this.get(t,o)));return this},n.atanh=function(t){return new r(t).atanh()},n.prototype.cbrt=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.cbrt(this.get(t,o)));return this},n.cbrt=function(t){return new r(t).cbrt()},n.prototype.ceil=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.ceil(this.get(t,o)));return this},n.ceil=function(t){return new r(t).ceil()},n.prototype.clz32=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.clz32(this.get(t,o)));return this},n.clz32=function(t){return new r(t).clz32()},n.prototype.cos=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.cos(this.get(t,o)));return this},n.cos=function(t){return new r(t).cos()},n.prototype.cosh=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.cosh(this.get(t,o)));return this},n.cosh=function(t){return new r(t).cosh()},n.prototype.exp=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.exp(this.get(t,o)));return this},n.exp=function(t){return new r(t).exp()},n.prototype.expm1=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.expm1(this.get(t,o)));return this},n.expm1=function(t){return new r(t).expm1()},n.prototype.floor=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.floor(this.get(t,o)));return this},n.floor=function(t){return new r(t).floor()},n.prototype.fround=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.fround(this.get(t,o)));return this},n.fround=function(t){return new r(t).fround()},n.prototype.log=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.log(this.get(t,o)));return this},n.log=function(t){return new r(t).log()},n.prototype.log1p=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.log1p(this.get(t,o)));return this},n.log1p=function(t){return new r(t).log1p()},n.prototype.log10=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.log10(this.get(t,o)));return this},n.log10=function(t){return new r(t).log10()},n.prototype.log2=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.log2(this.get(t,o)));return this},n.log2=function(t){return new r(t).log2()},n.prototype.round=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.round(this.get(t,o)));return this},n.round=function(t){return new r(t).round()},n.prototype.sign=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.sign(this.get(t,o)));return this},n.sign=function(t){return new r(t).sign()},n.prototype.sin=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.sin(this.get(t,o)));return this},n.sin=function(t){return new r(t).sin()},n.prototype.sinh=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.sinh(this.get(t,o)));return this},n.sinh=function(t){return new r(t).sinh()},n.prototype.sqrt=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.sqrt(this.get(t,o)));return this},n.sqrt=function(t){return new r(t).sqrt()},n.prototype.tan=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.tan(this.get(t,o)));return this},n.tan=function(t){return new r(t).tan()},n.prototype.tanh=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.tanh(this.get(t,o)));return this},n.tanh=function(t){return new r(t).tanh()},n.prototype.trunc=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.trunc(this.get(t,o)));return this},n.trunc=function(t){return new r(t).trunc()},n.pow=function(t,o){return new r(t).pow(o)},n.prototype.pow=function(t){return typeof t=="number"?this.powS(t):this.powM(t)},n.prototype.powS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,Math.pow(this.get(o,l),t));return this},n.prototype.powM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,Math.pow(this.get(o,l),t.get(o,l)));return this}}function Xs(n,r,t){let o=t?n.rows:n.rows-1;if(r<0||r>o)throw new RangeError("Row index out of range")}function Ks(n,r,t){let o=t?n.columns:n.columns-1;if(r<0||r>o)throw new RangeError("Column index out of range")}function Kd(n,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==n.columns)throw new RangeError("vector size must be the same as the number of columns");return r}function Jd(n,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==n.rows)throw new RangeError("vector size must be the same as the number of rows");return r}function Hx(n,r){if(!Yo.isAnyArray(r))throw new TypeError("row indices must be an array");for(let t=0;t<r.length;t++)if(r[t]<0||r[t]>=n.rows)throw new RangeError("row indices are out of range")}function Ux(n,r){if(!Yo.isAnyArray(r))throw new TypeError("column indices must be an array");for(let t=0;t<r.length;t++)if(r[t]<0||r[t]>=n.columns)throw new RangeError("column indices are out of range")}function M1(n,r,t,o,l){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(tv("startRow",r),tv("endRow",t),tv("startColumn",o),tv("endColumn",l),r>t||o>l||r<0||r>=n.rows||t<0||t>=n.rows||o<0||o>=n.columns||l<0||l>=n.columns)throw new RangeError("Submatrix indices are out of range")}function Ry(n,r=0){let t=[];for(let o=0;o<n;o++)t.push(r);return t}function tv(n,r){if(typeof r!="number")throw new TypeError(`${n} must be a number`)}function Wd(n){if(n.isEmpty())throw new Error("Empty matrix has no elements to index")}function pB(n){let r=Ry(n.rows);for(let t=0;t<n.rows;++t)for(let o=0;o<n.columns;++o)r[t]+=n.get(t,o);return r}function fB(n){let r=Ry(n.columns);for(let t=0;t<n.rows;++t)for(let o=0;o<n.columns;++o)r[o]+=n.get(t,o);return r}function gB(n){let r=0;for(let t=0;t<n.rows;t++)for(let o=0;o<n.columns;o++)r+=n.get(t,o);return r}function mB(n){let r=Ry(n.rows,1);for(let t=0;t<n.rows;++t)for(let o=0;o<n.columns;++o)r[t]*=n.get(t,o);return r}function vB(n){let r=Ry(n.columns,1);for(let t=0;t<n.rows;++t)for(let o=0;o<n.columns;++o)r[o]*=n.get(t,o);return r}function yB(n){let r=1;for(let t=0;t<n.rows;t++)for(let o=0;o<n.columns;o++)r*=n.get(t,o);return r}function bB(n,r,t){const o=n.rows,l=n.columns,u=[];for(let d=0;d<o;d++){let f=0,m=0,v=0;for(let _=0;_<l;_++)v=n.get(d,_)-t[d],f+=v,m+=v*v;r?u.push((m-f*f/l)/(l-1)):u.push((m-f*f/l)/l)}return u}function wB(n,r,t){const o=n.rows,l=n.columns,u=[];for(let d=0;d<l;d++){let f=0,m=0,v=0;for(let _=0;_<o;_++)v=n.get(_,d)-t[d],f+=v,m+=v*v;r?u.push((m-f*f/o)/(o-1)):u.push((m-f*f/o)/o)}return u}function xB(n,r,t){const o=n.rows,l=n.columns,u=o*l;let d=0,f=0,m=0;for(let v=0;v<o;v++)for(let _=0;_<l;_++)m=n.get(v,_)-t,d+=m,f+=m*m;return r?(f-d*d/u)/(u-1):(f-d*d/u)/u}function _B(n,r){for(let t=0;t<n.rows;t++)for(let o=0;o<n.columns;o++)n.set(t,o,n.get(t,o)-r[t])}function kB(n,r){for(let t=0;t<n.rows;t++)for(let o=0;o<n.columns;o++)n.set(t,o,n.get(t,o)-r[o])}function EB(n,r){for(let t=0;t<n.rows;t++)for(let o=0;o<n.columns;o++)n.set(t,o,n.get(t,o)-r)}function TB(n){const r=[];for(let t=0;t<n.rows;t++){let o=0;for(let l=0;l<n.columns;l++)o+=Math.pow(n.get(t,l),2)/(n.columns-1);r.push(Math.sqrt(o))}return r}function SB(n,r){for(let t=0;t<n.rows;t++)for(let o=0;o<n.columns;o++)n.set(t,o,n.get(t,o)/r[t])}function CB(n){const r=[];for(let t=0;t<n.columns;t++){let o=0;for(let l=0;l<n.rows;l++)o+=Math.pow(n.get(l,t),2)/(n.rows-1);r.push(Math.sqrt(o))}return r}function PB(n,r){for(let t=0;t<n.rows;t++)for(let o=0;o<n.columns;o++)n.set(t,o,n.get(t,o)/r[o])}function MB(n){const r=n.size-1;let t=0;for(let o=0;o<n.columns;o++)for(let l=0;l<n.rows;l++)t+=Math.pow(n.get(l,o),2)/r;return Math.sqrt(t)}function IB(n,r){for(let t=0;t<n.rows;t++)for(let o=0;o<n.columns;o++)n.set(t,o,n.get(t,o)/r)}class fr{static from1DArray(r,t,o){if(r*t!==o.length)throw new RangeError("data length does not match given dimensions");let l=new be(r,t);for(let u=0;u<r;u++)for(let d=0;d<t;d++)l.set(u,d,o[u*t+d]);return l}static rowVector(r){let t=new be(1,r.length);for(let o=0;o<r.length;o++)t.set(0,o,r[o]);return t}static columnVector(r){let t=new be(r.length,1);for(let o=0;o<r.length;o++)t.set(o,0,r[o]);return t}static zeros(r,t){return new be(r,t)}static ones(r,t){return new be(r,t).fill(1)}static rand(r,t,o={}){if(typeof o!="object")throw new TypeError("options must be an object");const{random:l=Math.random}=o;let u=new be(r,t);for(let d=0;d<r;d++)for(let f=0;f<t;f++)u.set(d,f,l());return u}static randInt(r,t,o={}){if(typeof o!="object")throw new TypeError("options must be an object");const{min:l=0,max:u=1e3,random:d=Math.random}=o;if(!Number.isInteger(l))throw new TypeError("min must be an integer");if(!Number.isInteger(u))throw new TypeError("max must be an integer");if(l>=u)throw new RangeError("min must be smaller than max");let f=u-l,m=new be(r,t);for(let v=0;v<r;v++)for(let _=0;_<t;_++){let k=l+Math.round(d()*f);m.set(v,_,k)}return m}static eye(r,t,o){t===void 0&&(t=r),o===void 0&&(o=1);let l=Math.min(r,t),u=this.zeros(r,t);for(let d=0;d<l;d++)u.set(d,d,o);return u}static diag(r,t,o){let l=r.length;t===void 0&&(t=l),o===void 0&&(o=t);let u=Math.min(l,t,o),d=this.zeros(t,o);for(let f=0;f<u;f++)d.set(f,f,r[f]);return d}static min(r,t){r=this.checkMatrix(r),t=this.checkMatrix(t);let o=r.rows,l=r.columns,u=new be(o,l);for(let d=0;d<o;d++)for(let f=0;f<l;f++)u.set(d,f,Math.min(r.get(d,f),t.get(d,f)));return u}static max(r,t){r=this.checkMatrix(r),t=this.checkMatrix(t);let o=r.rows,l=r.columns,u=new this(o,l);for(let d=0;d<o;d++)for(let f=0;f<l;f++)u.set(d,f,Math.max(r.get(d,f),t.get(d,f)));return u}static checkMatrix(r){return fr.isMatrix(r)?r:new be(r)}static isMatrix(r){return r!=null&&r.klass==="Matrix"}get size(){return this.rows*this.columns}apply(r){if(typeof r!="function")throw new TypeError("callback must be a function");for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)r.call(this,t,o);return this}to1DArray(){let r=[];for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)r.push(this.get(t,o));return r}to2DArray(){let r=[];for(let t=0;t<this.rows;t++){r.push([]);for(let o=0;o<this.columns;o++)r[t].push(this.get(t,o))}return r}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let r=0;r<this.rows;r++)for(let t=0;t<=r;t++)if(this.get(r,t)!==this.get(t,r))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let r=0;r<this.rows;r++)if(this.get(r,r)!==0)return!1;return!0}isEchelonForm(){let r=0,t=0,o=-1,l=!0,u=!1;for(;r<this.rows&&l;){for(t=0,u=!1;t<this.columns&&u===!1;)this.get(r,t)===0?t++:this.get(r,t)===1&&t>o?(u=!0,o=t):(l=!1,u=!0);r++}return l}isReducedEchelonForm(){let r=0,t=0,o=-1,l=!0,u=!1;for(;r<this.rows&&l;){for(t=0,u=!1;t<this.columns&&u===!1;)this.get(r,t)===0?t++:this.get(r,t)===1&&t>o?(u=!0,o=t):(l=!1,u=!0);for(let d=t+1;d<this.rows;d++)this.get(r,d)!==0&&(l=!1);r++}return l}echelonForm(){let r=this.clone(),t=0,o=0;for(;t<r.rows&&o<r.columns;){let l=t;for(let u=t;u<r.rows;u++)r.get(u,o)>r.get(l,o)&&(l=u);if(r.get(l,o)===0)o++;else{r.swapRows(t,l);let u=r.get(t,o);for(let d=o;d<r.columns;d++)r.set(t,d,r.get(t,d)/u);for(let d=t+1;d<r.rows;d++){let f=r.get(d,o)/r.get(t,o);r.set(d,o,0);for(let m=o+1;m<r.columns;m++)r.set(d,m,r.get(d,m)-r.get(t,m)*f)}t++,o++}}return r}reducedEchelonForm(){let r=this.echelonForm(),t=r.columns,o=r.rows,l=o-1;for(;l>=0;)if(r.maxRow(l)===0)l--;else{let u=0,d=!1;for(;u<o&&d===!1;)r.get(l,u)===1?d=!0:u++;for(let f=0;f<l;f++){let m=r.get(f,u);for(let v=u;v<t;v++){let _=r.get(f,v)-m*r.get(l,v);r.set(f,v,_)}}l--}return r}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{rows:t=1,columns:o=1}=r;if(!Number.isInteger(t)||t<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(o)||o<=0)throw new TypeError("columns must be a positive integer");let l=new be(this.rows*t,this.columns*o);for(let u=0;u<t;u++)for(let d=0;d<o;d++)l.setSubMatrix(this,this.rows*u,this.columns*d);return l}fill(r){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,r);return this}neg(){return this.mulS(-1)}getRow(r){Xs(this,r);let t=[];for(let o=0;o<this.columns;o++)t.push(this.get(r,o));return t}getRowVector(r){return be.rowVector(this.getRow(r))}setRow(r,t){Xs(this,r),t=Kd(this,t);for(let o=0;o<this.columns;o++)this.set(r,o,t[o]);return this}swapRows(r,t){Xs(this,r),Xs(this,t);for(let o=0;o<this.columns;o++){let l=this.get(r,o);this.set(r,o,this.get(t,o)),this.set(t,o,l)}return this}getColumn(r){Ks(this,r);let t=[];for(let o=0;o<this.rows;o++)t.push(this.get(o,r));return t}getColumnVector(r){return be.columnVector(this.getColumn(r))}setColumn(r,t){Ks(this,r),t=Jd(this,t);for(let o=0;o<this.rows;o++)this.set(o,r,t[o]);return this}swapColumns(r,t){Ks(this,r),Ks(this,t);for(let o=0;o<this.rows;o++){let l=this.get(o,r);this.set(o,r,this.get(o,t)),this.set(o,t,l)}return this}addRowVector(r){r=Kd(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)+r[o]);return this}subRowVector(r){r=Kd(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)-r[o]);return this}mulRowVector(r){r=Kd(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)*r[o]);return this}divRowVector(r){r=Kd(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)/r[o]);return this}addColumnVector(r){r=Jd(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)+r[t]);return this}subColumnVector(r){r=Jd(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)-r[t]);return this}mulColumnVector(r){r=Jd(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)*r[t]);return this}divColumnVector(r){r=Jd(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)/r[t]);return this}mulRow(r,t){Xs(this,r);for(let o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)*t);return this}mulColumn(r,t){Ks(this,r);for(let o=0;o<this.rows;o++)this.set(o,r,this.get(o,r)*t);return this}max(r){if(this.isEmpty())return NaN;switch(r){case"row":{const t=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)>t[o]&&(t[o]=this.get(o,l));return t}case"column":{const t=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)>t[l]&&(t[l]=this.get(o,l));return t}case void 0:{let t=this.get(0,0);for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)>t&&(t=this.get(o,l));return t}default:throw new Error(`invalid option: ${r}`)}}maxIndex(){Wd(this);let r=this.get(0,0),t=[0,0];for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)>r&&(r=this.get(o,l),t[0]=o,t[1]=l);return t}min(r){if(this.isEmpty())return NaN;switch(r){case"row":{const t=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)<t[o]&&(t[o]=this.get(o,l));return t}case"column":{const t=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)<t[l]&&(t[l]=this.get(o,l));return t}case void 0:{let t=this.get(0,0);for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)<t&&(t=this.get(o,l));return t}default:throw new Error(`invalid option: ${r}`)}}minIndex(){Wd(this);let r=this.get(0,0),t=[0,0];for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)<r&&(r=this.get(o,l),t[0]=o,t[1]=l);return t}maxRow(r){if(Xs(this,r),this.isEmpty())return NaN;let t=this.get(r,0);for(let o=1;o<this.columns;o++)this.get(r,o)>t&&(t=this.get(r,o));return t}maxRowIndex(r){Xs(this,r),Wd(this);let t=this.get(r,0),o=[r,0];for(let l=1;l<this.columns;l++)this.get(r,l)>t&&(t=this.get(r,l),o[1]=l);return o}minRow(r){if(Xs(this,r),this.isEmpty())return NaN;let t=this.get(r,0);for(let o=1;o<this.columns;o++)this.get(r,o)<t&&(t=this.get(r,o));return t}minRowIndex(r){Xs(this,r),Wd(this);let t=this.get(r,0),o=[r,0];for(let l=1;l<this.columns;l++)this.get(r,l)<t&&(t=this.get(r,l),o[1]=l);return o}maxColumn(r){if(Ks(this,r),this.isEmpty())return NaN;let t=this.get(0,r);for(let o=1;o<this.rows;o++)this.get(o,r)>t&&(t=this.get(o,r));return t}maxColumnIndex(r){Ks(this,r),Wd(this);let t=this.get(0,r),o=[0,r];for(let l=1;l<this.rows;l++)this.get(l,r)>t&&(t=this.get(l,r),o[0]=l);return o}minColumn(r){if(Ks(this,r),this.isEmpty())return NaN;let t=this.get(0,r);for(let o=1;o<this.rows;o++)this.get(o,r)<t&&(t=this.get(o,r));return t}minColumnIndex(r){Ks(this,r),Wd(this);let t=this.get(0,r),o=[0,r];for(let l=1;l<this.rows;l++)this.get(l,r)<t&&(t=this.get(l,r),o[0]=l);return o}diag(){let r=Math.min(this.rows,this.columns),t=[];for(let o=0;o<r;o++)t.push(this.get(o,o));return t}norm(r="frobenius"){switch(r){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${r}`)}}cumulativeSum(){let r=0;for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)r+=this.get(t,o),this.set(t,o,r);return this}dot(r){fr.isMatrix(r)&&(r=r.to1DArray());let t=this.to1DArray();if(t.length!==r.length)throw new RangeError("vectors do not have the same size");let o=0;for(let l=0;l<t.length;l++)o+=t[l]*r[l];return o}mmul(r){r=be.checkMatrix(r);let t=this.rows,o=this.columns,l=r.columns,u=new be(t,l),d=new Float64Array(o);for(let f=0;f<l;f++){for(let m=0;m<o;m++)d[m]=r.get(m,f);for(let m=0;m<t;m++){let v=0;for(let _=0;_<o;_++)v+=this.get(m,_)*d[_];u.set(m,f,v)}}return u}strassen2x2(r){r=be.checkMatrix(r);let t=new be(2,2);const o=this.get(0,0),l=r.get(0,0),u=this.get(0,1),d=r.get(0,1),f=this.get(1,0),m=r.get(1,0),v=this.get(1,1),_=r.get(1,1),k=(o+v)*(l+_),C=(f+v)*l,M=o*(d-_),I=v*(m-l),F=(o+u)*_,H=(f-o)*(l+d),U=(u-v)*(m+_),J=k+I-F+U,G=M+F,Z=C+I,at=k-C+M+H;return t.set(0,0,J),t.set(0,1,G),t.set(1,0,Z),t.set(1,1,at),t}strassen3x3(r){r=be.checkMatrix(r);let t=new be(3,3);const o=this.get(0,0),l=this.get(0,1),u=this.get(0,2),d=this.get(1,0),f=this.get(1,1),m=this.get(1,2),v=this.get(2,0),_=this.get(2,1),k=this.get(2,2),C=r.get(0,0),M=r.get(0,1),I=r.get(0,2),F=r.get(1,0),H=r.get(1,1),U=r.get(1,2),J=r.get(2,0),G=r.get(2,1),Z=r.get(2,2),at=(o+l+u-d-f-_-k)*H,mt=(o-d)*(-M+H),ft=f*(-C+M+F-H-U-J+Z),ot=(-o+d+f)*(C-M+H),V=(d+f)*(-C+M),nt=o*C,ut=(-o+v+_)*(C-I+U),gt=(-o+v)*(I-U),Jt=(v+_)*(-C+I),re=(o+l+u-f-m-v-_)*U,Xt=_*(-C+I+F-H-U-J+G),Ct=(-u+_+k)*(H+J-G),Kt=(u-k)*(H-G),Zt=u*J,Pe=(_+k)*(-J+G),bt=(-u+f+m)*(U+J-Z),At=(u-m)*(U-Z),qt=(f+m)*(-J+Z),ee=l*F,pe=m*G,ae=d*I,le=v*M,rr=k*Z,mr=nt+Zt+ee,vi=at+ot+V+nt+Ct+Zt+Pe,Xi=nt+ut+Jt+re+Zt+bt+qt,Bi=mt+ft+ot+nt+Zt+bt+At,yt=mt+ot+V+nt+pe,kt=Zt+bt+At+qt+ae,Dt=nt+ut+gt+Xt+Ct+Kt+Zt,R=Ct+Kt+Zt+Pe+le,j=nt+ut+gt+Jt+rr;return t.set(0,0,mr),t.set(0,1,vi),t.set(0,2,Xi),t.set(1,0,Bi),t.set(1,1,yt),t.set(1,2,kt),t.set(2,0,Dt),t.set(2,1,R),t.set(2,2,j),t}mmulStrassen(r){r=be.checkMatrix(r);let t=this.clone(),o=t.rows,l=t.columns,u=r.rows,d=r.columns;l!==u&&console.warn(`Multiplying ${o} x ${l} and ${u} x ${d} matrix: dimensions do not match.`);function f(k,C,M){let I=k.rows,F=k.columns;if(I===C&&F===M)return k;{let H=fr.zeros(C,M);return H=H.setSubMatrix(k,0,0),H}}let m=Math.max(o,u),v=Math.max(l,d);t=f(t,m,v),r=f(r,m,v);function _(k,C,M,I){if(M<=512||I<=512)return k.mmul(C);M%2===1&&I%2===1?(k=f(k,M+1,I+1),C=f(C,M+1,I+1)):M%2===1?(k=f(k,M+1,I),C=f(C,M+1,I)):I%2===1&&(k=f(k,M,I+1),C=f(C,M,I+1));let F=parseInt(k.rows/2,10),H=parseInt(k.columns/2,10),U=k.subMatrix(0,F-1,0,H-1),J=C.subMatrix(0,F-1,0,H-1),G=k.subMatrix(0,F-1,H,k.columns-1),Z=C.subMatrix(0,F-1,H,C.columns-1),at=k.subMatrix(F,k.rows-1,0,H-1),mt=C.subMatrix(F,C.rows-1,0,H-1),ft=k.subMatrix(F,k.rows-1,H,k.columns-1),ot=C.subMatrix(F,C.rows-1,H,C.columns-1),V=_(fr.add(U,ft),fr.add(J,ot),F,H),nt=_(fr.add(at,ft),J,F,H),ut=_(U,fr.sub(Z,ot),F,H),gt=_(ft,fr.sub(mt,J),F,H),Jt=_(fr.add(U,G),ot,F,H),re=_(fr.sub(at,U),fr.add(J,Z),F,H),Xt=_(fr.sub(G,ft),fr.add(mt,ot),F,H),Ct=fr.add(V,gt);Ct.sub(Jt),Ct.add(Xt);let Kt=fr.add(ut,Jt),Zt=fr.add(nt,gt),Pe=fr.sub(V,nt);Pe.add(ut),Pe.add(re);let bt=fr.zeros(2*Ct.rows,2*Ct.columns);return bt=bt.setSubMatrix(Ct,0,0),bt=bt.setSubMatrix(Kt,Ct.rows,0),bt=bt.setSubMatrix(Zt,0,Ct.columns),bt=bt.setSubMatrix(Pe,Ct.rows,Ct.columns),bt.subMatrix(0,M-1,0,I-1)}return _(t,r,m,v)}scaleRows(r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{min:t=0,max:o=1}=r;if(!Number.isFinite(t))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(t>=o)throw new RangeError("min must be smaller than max");let l=new be(this.rows,this.columns);for(let u=0;u<this.rows;u++){const d=this.getRow(u);d.length>0&&wT(d,{min:t,max:o,output:d}),l.setRow(u,d)}return l}scaleColumns(r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{min:t=0,max:o=1}=r;if(!Number.isFinite(t))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(t>=o)throw new RangeError("min must be smaller than max");let l=new be(this.rows,this.columns);for(let u=0;u<this.columns;u++){const d=this.getColumn(u);d.length&&wT(d,{min:t,max:o,output:d}),l.setColumn(u,d)}return l}flipRows(){const r=Math.ceil(this.columns/2);for(let t=0;t<this.rows;t++)for(let o=0;o<r;o++){let l=this.get(t,o),u=this.get(t,this.columns-1-o);this.set(t,o,u),this.set(t,this.columns-1-o,l)}return this}flipColumns(){const r=Math.ceil(this.rows/2);for(let t=0;t<this.columns;t++)for(let o=0;o<r;o++){let l=this.get(o,t),u=this.get(this.rows-1-o,t);this.set(o,t,u),this.set(this.rows-1-o,t,l)}return this}kroneckerProduct(r){r=be.checkMatrix(r);let t=this.rows,o=this.columns,l=r.rows,u=r.columns,d=new be(t*l,o*u);for(let f=0;f<t;f++)for(let m=0;m<o;m++)for(let v=0;v<l;v++)for(let _=0;_<u;_++)d.set(l*f+v,u*m+_,this.get(f,m)*r.get(v,_));return d}kroneckerSum(r){if(r=be.checkMatrix(r),!this.isSquare()||!r.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let t=this.rows,o=r.rows,l=this.kroneckerProduct(be.eye(o,o)),u=be.eye(t,t).kroneckerProduct(r);return l.add(u)}transpose(){let r=new be(this.columns,this.rows);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)r.set(o,t,this.get(t,o));return r}sortRows(r=_T){for(let t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(r));return this}sortColumns(r=_T){for(let t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(r));return this}subMatrix(r,t,o,l){M1(this,r,t,o,l);let u=new be(t-r+1,l-o+1);for(let d=r;d<=t;d++)for(let f=o;f<=l;f++)u.set(d-r,f-o,this.get(d,f));return u}subMatrixRow(r,t,o){if(t===void 0&&(t=0),o===void 0&&(o=this.columns-1),t>o||t<0||t>=this.columns||o<0||o>=this.columns)throw new RangeError("Argument out of range");let l=new be(r.length,o-t+1);for(let u=0;u<r.length;u++)for(let d=t;d<=o;d++){if(r[u]<0||r[u]>=this.rows)throw new RangeError(`Row index out of range: ${r[u]}`);l.set(u,d-t,this.get(r[u],d))}return l}subMatrixColumn(r,t,o){if(t===void 0&&(t=0),o===void 0&&(o=this.rows-1),t>o||t<0||t>=this.rows||o<0||o>=this.rows)throw new RangeError("Argument out of range");let l=new be(o-t+1,r.length);for(let u=0;u<r.length;u++)for(let d=t;d<=o;d++){if(r[u]<0||r[u]>=this.columns)throw new RangeError(`Column index out of range: ${r[u]}`);l.set(d-t,u,this.get(d,r[u]))}return l}setSubMatrix(r,t,o){if(r=be.checkMatrix(r),r.isEmpty())return this;let l=t+r.rows-1,u=o+r.columns-1;M1(this,t,l,o,u);for(let d=0;d<r.rows;d++)for(let f=0;f<r.columns;f++)this.set(t+d,o+f,r.get(d,f));return this}selection(r,t){Hx(this,r),Ux(this,t);let o=new be(r.length,t.length);for(let l=0;l<r.length;l++){let u=r[l];for(let d=0;d<t.length;d++){let f=t[d];o.set(l,d,this.get(u,f))}}return o}trace(){let r=Math.min(this.rows,this.columns),t=0;for(let o=0;o<r;o++)t+=this.get(o,o);return t}clone(){return this.constructor.copy(this,new be(this.rows,this.columns))}static copy(r,t){for(const[o,l,u]of r.entries())t.set(o,l,u);return t}sum(r){switch(r){case"row":return pB(this);case"column":return fB(this);case void 0:return gB(this);default:throw new Error(`invalid option: ${r}`)}}product(r){switch(r){case"row":return mB(this);case"column":return vB(this);case void 0:return yB(this);default:throw new Error(`invalid option: ${r}`)}}mean(r){const t=this.sum(r);switch(r){case"row":{for(let o=0;o<this.rows;o++)t[o]/=this.columns;return t}case"column":{for(let o=0;o<this.columns;o++)t[o]/=this.rows;return t}case void 0:return t/this.size;default:throw new Error(`invalid option: ${r}`)}}variance(r,t={}){if(typeof r=="object"&&(t=r,r=void 0),typeof t!="object")throw new TypeError("options must be an object");const{unbiased:o=!0,mean:l=this.mean(r)}=t;if(typeof o!="boolean")throw new TypeError("unbiased must be a boolean");switch(r){case"row":{if(!Yo.isAnyArray(l))throw new TypeError("mean must be an array");return bB(this,o,l)}case"column":{if(!Yo.isAnyArray(l))throw new TypeError("mean must be an array");return wB(this,o,l)}case void 0:{if(typeof l!="number")throw new TypeError("mean must be a number");return xB(this,o,l)}default:throw new Error(`invalid option: ${r}`)}}standardDeviation(r,t){typeof r=="object"&&(t=r,r=void 0);const o=this.variance(r,t);if(r===void 0)return Math.sqrt(o);for(let l=0;l<o.length;l++)o[l]=Math.sqrt(o[l]);return o}center(r,t={}){if(typeof r=="object"&&(t=r,r=void 0),typeof t!="object")throw new TypeError("options must be an object");const{center:o=this.mean(r)}=t;switch(r){case"row":{if(!Yo.isAnyArray(o))throw new TypeError("center must be an array");return _B(this,o),this}case"column":{if(!Yo.isAnyArray(o))throw new TypeError("center must be an array");return kB(this,o),this}case void 0:{if(typeof o!="number")throw new TypeError("center must be a number");return EB(this,o),this}default:throw new Error(`invalid option: ${r}`)}}scale(r,t={}){if(typeof r=="object"&&(t=r,r=void 0),typeof t!="object")throw new TypeError("options must be an object");let o=t.scale;switch(r){case"row":{if(o===void 0)o=TB(this);else if(!Yo.isAnyArray(o))throw new TypeError("scale must be an array");return SB(this,o),this}case"column":{if(o===void 0)o=CB(this);else if(!Yo.isAnyArray(o))throw new TypeError("scale must be an array");return PB(this,o),this}case void 0:{if(o===void 0)o=MB(this);else if(typeof o!="number")throw new TypeError("scale must be a number");return IB(this,o),this}default:throw new Error(`invalid option: ${r}`)}}toString(r){return OP(this,r)}[Symbol.iterator](){return this.entries()}*entries(){for(let r=0;r<this.rows;r++)for(let t=0;t<this.columns;t++)yield[r,t,this.get(r,t)]}*values(){for(let r=0;r<this.rows;r++)for(let t=0;t<this.columns;t++)yield this.get(r,t)}}fr.prototype.klass="Matrix";typeof Symbol<"u"&&(fr.prototype[Symbol.for("nodejs.util.inspect.custom")]=cB);function _T(n,r){return n-r}function LB(n){return n.every(r=>typeof r=="number")}fr.random=fr.rand;fr.randomInt=fr.randInt;fr.diagonal=fr.diag;fr.prototype.diagonal=fr.prototype.diag;fr.identity=fr.eye;fr.prototype.negate=fr.prototype.neg;fr.prototype.tensorProduct=fr.prototype.kroneckerProduct;var ev,Nw,rv;let be=(rv=class extends fr{constructor(n,r){if(super(),kg(this,ev),tB(this,"data"),rv.isMatrix(n))Tp(this,ev,Nw).call(this,n.rows,n.columns),rv.copy(n,this);else if(Number.isInteger(n)&&n>=0)Tp(this,ev,Nw).call(this,n,r);else if(Yo.isAnyArray(n)){const t=n;if(n=t.length,r=n?t[0].length:0,typeof r!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let o=0;o<n;o++){if(t[o].length!==r)throw new RangeError("Inconsistent array dimensions");if(!LB(t[o]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(t[o]))}this.rows=n,this.columns=r}else throw new TypeError("First argument must be a positive number or an array")}set(n,r,t){return this.data[n][r]=t,this}get(n,r){return this.data[n][r]}removeRow(n){return Xs(this,n),this.data.splice(n,1),this.rows-=1,this}addRow(n,r){return r===void 0&&(r=n,n=this.rows),Xs(this,n,!0),r=Float64Array.from(Kd(this,r)),this.data.splice(n,0,r),this.rows+=1,this}removeColumn(n){Ks(this,n);for(let r=0;r<this.rows;r++){const t=new Float64Array(this.columns-1);for(let o=0;o<n;o++)t[o]=this.data[r][o];for(let o=n+1;o<this.columns;o++)t[o-1]=this.data[r][o];this.data[r]=t}return this.columns-=1,this}addColumn(n,r){typeof r>"u"&&(r=n,n=this.columns),Ks(this,n,!0),r=Jd(this,r);for(let t=0;t<this.rows;t++){const o=new Float64Array(this.columns+1);let l=0;for(;l<n;l++)o[l]=this.data[t][l];for(o[l++]=r[t];l<this.columns+1;l++)o[l]=this.data[t][l-1];this.data[t]=o}return this.columns+=1,this}},ev=new WeakSet,Nw=function(n,r){if(this.data=[],Number.isInteger(r)&&r>=0)for(let t=0;t<n;t++)this.data.push(new Float64Array(r));else throw new TypeError("nColumns must be a positive integer");this.rows=n,this.columns=r},rv);dB(fr,be);var Lo;const RB=class I1 extends fr{constructor(r){if(super(),kg(this,Lo,void 0),be.isMatrix(r)){if(!r.isSymmetric())throw new TypeError("not symmetric data");zw(this,Lo,be.copy(r,new be(r.rows,r.rows)))}else if(Number.isInteger(r)&&r>=0)zw(this,Lo,new be(r,r));else if(zw(this,Lo,new be(r)),!this.isSymmetric())throw new TypeError("not symmetric data")}get size(){return nl(this,Lo).size}get rows(){return nl(this,Lo).rows}get columns(){return nl(this,Lo).columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(r){return be.isMatrix(r)&&r.klassType==="SymmetricMatrix"}static zeros(r){return new this(r)}static ones(r){return new this(r).fill(1)}clone(){const r=new I1(this.diagonalSize);for(const[t,o,l]of this.upperRightEntries())r.set(t,o,l);return r}toMatrix(){return new be(this)}get(r,t){return nl(this,Lo).get(r,t)}set(r,t,o){return nl(this,Lo).set(r,t,o),nl(this,Lo).set(t,r,o),this}removeCross(r){return nl(this,Lo).removeRow(r),nl(this,Lo).removeColumn(r),this}addCross(r,t){t===void 0&&(t=r,r=this.diagonalSize);const o=t.slice();return o.splice(r,1),nl(this,Lo).addRow(r,o),nl(this,Lo).addColumn(r,t),this}applyMask(r){if(r.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const t=[];for(const[o,l]of r.entries())l||t.push(o);t.reverse();for(const o of t)this.removeCross(o);return this}toCompact(){const{diagonalSize:r}=this,t=new Array(r*(r+1)/2);for(let o=0,l=0,u=0;u<t.length;u++)t[u]=this.get(l,o),++o>=r&&(o=++l);return t}static fromCompact(r){const t=r.length,o=(Math.sqrt(8*t+1)-1)/2;if(!Number.isInteger(o))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(r)}`);const l=new I1(o);for(let u=0,d=0,f=0;f<t;f++)l.set(u,d,r[f]),++u>=o&&(u=++d);return l}*upperRightEntries(){for(let r=0,t=0;r<this.diagonalSize;void 0){const o=this.get(r,t);yield[r,t,o],++t>=this.diagonalSize&&(t=++r)}}*upperRightValues(){for(let r=0,t=0;r<this.diagonalSize;void 0)yield this.get(r,t),++t>=this.diagonalSize&&(t=++r)}};Lo=new WeakMap;let Eg=RB;Eg.prototype.klassType="SymmetricMatrix";class Ay extends Eg{static isDistanceMatrix(r){return Eg.isSymmetricMatrix(r)&&r.klassSubType==="DistanceMatrix"}constructor(r){if(super(r),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(r,t,o){return r===t&&(o=0),super.set(r,t,o)}addCross(r,t){return t===void 0&&(t=r,r=this.diagonalSize),t=t.slice(),t[r]=0,super.addCross(r,t)}toSymmetricMatrix(){return new Eg(this)}clone(){const r=new Ay(this.diagonalSize);for(const[t,o,l]of this.upperRightEntries())t!==o&&r.set(t,o,l);return r}toCompact(){const{diagonalSize:r}=this,t=(r-1)*r/2,o=new Array(t);for(let l=1,u=0,d=0;d<o.length;d++)o[d]=this.get(u,l),++l>=r&&(l=++u+1);return o}static fromCompact(r){const t=r.length,o=(Math.sqrt(8*t+1)+1)/2;if(!Number.isInteger(o))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(r)}`);const l=new this(o);for(let u=1,d=0,f=0;f<t;f++)l.set(u,d,r[f]),++u>=o&&(u=++d+1);return l}}Ay.prototype.klassSubType="DistanceMatrix";class pc extends fr{constructor(r,t,o){super(),this.matrix=r,this.rows=t,this.columns=o}}class AB extends pc{constructor(r,t){Ks(r,t),super(r,r.rows,1),this.column=t}set(r,t,o){return this.matrix.set(r,this.column,o),this}get(r){return this.matrix.get(r,this.column)}}class OB extends pc{constructor(r,t){Ux(r,t),super(r,r.rows,t.length),this.columnIndices=t}set(r,t,o){return this.matrix.set(r,this.columnIndices[t],o),this}get(r,t){return this.matrix.get(r,this.columnIndices[t])}}class zB extends pc{constructor(r){super(r,r.rows,r.columns)}set(r,t,o){return this.matrix.set(r,this.columns-t-1,o),this}get(r,t){return this.matrix.get(r,this.columns-t-1)}}class NB extends pc{constructor(r){super(r,r.rows,r.columns)}set(r,t,o){return this.matrix.set(this.rows-r-1,t,o),this}get(r,t){return this.matrix.get(this.rows-r-1,t)}}class DB extends pc{constructor(r,t){Xs(r,t),super(r,1,r.columns),this.row=t}set(r,t,o){return this.matrix.set(this.row,t,o),this}get(r,t){return this.matrix.get(this.row,t)}}class FB extends pc{constructor(r,t){Hx(r,t),super(r,t.length,r.columns),this.rowIndices=t}set(r,t,o){return this.matrix.set(this.rowIndices[r],t,o),this}get(r,t){return this.matrix.get(this.rowIndices[r],t)}}class xv extends pc{constructor(r,t,o){Hx(r,t),Ux(r,o),super(r,t.length,o.length),this.rowIndices=t,this.columnIndices=o}set(r,t,o){return this.matrix.set(this.rowIndices[r],this.columnIndices[t],o),this}get(r,t){return this.matrix.get(this.rowIndices[r],this.columnIndices[t])}}class BB extends pc{constructor(r,t,o,l,u){M1(r,t,o,l,u),super(r,o-t+1,u-l+1),this.startRow=t,this.startColumn=l}set(r,t,o){return this.matrix.set(this.startRow+r,this.startColumn+t,o),this}get(r,t){return this.matrix.get(this.startRow+r,this.startColumn+t)}}class jB extends pc{constructor(r){super(r,r.columns,r.rows)}set(r,t,o){return this.matrix.set(t,r,o),this}get(r,t){return this.matrix.get(t,r)}}class zP extends fr{constructor(r,t={}){const{rows:o=1}=t;if(r.length%o!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=o,this.columns=r.length/o,this.data=r}set(r,t,o){let l=this._calculateIndex(r,t);return this.data[l]=o,this}get(r,t){let o=this._calculateIndex(r,t);return this.data[o]}_calculateIndex(r,t){return r*this.columns+t}}class _s extends fr{constructor(r){super(),this.data=r,this.rows=r.length,this.columns=r[0].length}set(r,t,o){return this.data[r][t]=o,this}get(r,t){return this.data[r][t]}}function HB(n,r){if(Yo.isAnyArray(n))return n[0]&&Yo.isAnyArray(n[0])?new _s(n):new zP(n,r);throw new Error("the argument is not an array")}class Oy{constructor(r){r=_s.checkMatrix(r);let t=r.clone(),o=t.rows,l=t.columns,u=new Float64Array(o),d=1,f,m,v,_,k,C,M,I,F;for(f=0;f<o;f++)u[f]=f;for(I=new Float64Array(o),m=0;m<l;m++){for(f=0;f<o;f++)I[f]=t.get(f,m);for(f=0;f<o;f++){for(F=Math.min(f,m),k=0,v=0;v<F;v++)k+=t.get(f,v)*I[v];I[f]-=k,t.set(f,m,I[f])}for(_=m,f=m+1;f<o;f++)Math.abs(I[f])>Math.abs(I[_])&&(_=f);if(_!==m){for(v=0;v<l;v++)C=t.get(_,v),t.set(_,v,t.get(m,v)),t.set(m,v,C);M=u[_],u[_]=u[m],u[m]=M,d=-d}if(m<o&&t.get(m,m)!==0)for(f=m+1;f<o;f++)t.set(f,m,t.get(f,m)/t.get(m,m))}this.LU=t,this.pivotVector=u,this.pivotSign=d}isSingular(){let r=this.LU,t=r.columns;for(let o=0;o<t;o++)if(r.get(o,o)===0)return!0;return!1}solve(r){r=be.checkMatrix(r);let t=this.LU;if(t.rows!==r.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let o=r.columns,l=r.subMatrixRow(this.pivotVector,0,o-1),u=t.columns,d,f,m;for(m=0;m<u;m++)for(d=m+1;d<u;d++)for(f=0;f<o;f++)l.set(d,f,l.get(d,f)-l.get(m,f)*t.get(d,m));for(m=u-1;m>=0;m--){for(f=0;f<o;f++)l.set(m,f,l.get(m,f)/t.get(m,m));for(d=0;d<m;d++)for(f=0;f<o;f++)l.set(d,f,l.get(d,f)-l.get(m,f)*t.get(d,m))}return l}get determinant(){let r=this.LU;if(!r.isSquare())throw new Error("Matrix must be square");let t=this.pivotSign,o=r.columns;for(let l=0;l<o;l++)t*=r.get(l,l);return t}get lowerTriangularMatrix(){let r=this.LU,t=r.rows,o=r.columns,l=new be(t,o);for(let u=0;u<t;u++)for(let d=0;d<o;d++)u>d?l.set(u,d,r.get(u,d)):u===d?l.set(u,d,1):l.set(u,d,0);return l}get upperTriangularMatrix(){let r=this.LU,t=r.rows,o=r.columns,l=new be(t,o);for(let u=0;u<t;u++)for(let d=0;d<o;d++)u<=d?l.set(u,d,r.get(u,d)):l.set(u,d,0);return l}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function $l(n,r){let t=0;return Math.abs(n)>Math.abs(r)?(t=r/n,Math.abs(n)*Math.sqrt(1+t*t)):r!==0?(t=n/r,Math.abs(r)*Math.sqrt(1+t*t)):0}class Gx{constructor(r){r=_s.checkMatrix(r);let t=r.clone(),o=r.rows,l=r.columns,u=new Float64Array(l),d,f,m,v;for(m=0;m<l;m++){let _=0;for(d=m;d<o;d++)_=$l(_,t.get(d,m));if(_!==0){for(t.get(m,m)<0&&(_=-_),d=m;d<o;d++)t.set(d,m,t.get(d,m)/_);for(t.set(m,m,t.get(m,m)+1),f=m+1;f<l;f++){for(v=0,d=m;d<o;d++)v+=t.get(d,m)*t.get(d,f);for(v=-v/t.get(m,m),d=m;d<o;d++)t.set(d,f,t.get(d,f)+v*t.get(d,m))}}u[m]=-_}this.QR=t,this.Rdiag=u}solve(r){r=be.checkMatrix(r);let t=this.QR,o=t.rows;if(r.rows!==o)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let l=r.columns,u=r.clone(),d=t.columns,f,m,v,_;for(v=0;v<d;v++)for(m=0;m<l;m++){for(_=0,f=v;f<o;f++)_+=t.get(f,v)*u.get(f,m);for(_=-_/t.get(v,v),f=v;f<o;f++)u.set(f,m,u.get(f,m)+_*t.get(f,v))}for(v=d-1;v>=0;v--){for(m=0;m<l;m++)u.set(v,m,u.get(v,m)/this.Rdiag[v]);for(f=0;f<v;f++)for(m=0;m<l;m++)u.set(f,m,u.get(f,m)-u.get(v,m)*t.get(f,v))}return u.subMatrix(0,d-1,0,l-1)}isFullRank(){let r=this.QR.columns;for(let t=0;t<r;t++)if(this.Rdiag[t]===0)return!1;return!0}get upperTriangularMatrix(){let r=this.QR,t=r.columns,o=new be(t,t),l,u;for(l=0;l<t;l++)for(u=0;u<t;u++)l<u?o.set(l,u,r.get(l,u)):l===u?o.set(l,u,this.Rdiag[l]):o.set(l,u,0);return o}get orthogonalMatrix(){let r=this.QR,t=r.rows,o=r.columns,l=new be(t,o),u,d,f,m;for(f=o-1;f>=0;f--){for(u=0;u<t;u++)l.set(u,f,0);for(l.set(f,f,1),d=f;d<o;d++)if(r.get(f,f)!==0){for(m=0,u=f;u<t;u++)m+=r.get(u,f)*l.get(u,d);for(m=-m/r.get(f,f),u=f;u<t;u++)l.set(u,d,l.get(u,d)+m*r.get(u,f))}}return l}}let Lp=class{constructor(n,r={}){if(n=_s.checkMatrix(n),n.isEmpty())throw new Error("Matrix must be non-empty");let t=n.rows,o=n.columns;const{computeLeftSingularVectors:l=!0,computeRightSingularVectors:u=!0,autoTranspose:d=!1}=r;let f=!!l,m=!!u,v=!1,_;if(t<o)if(!d)_=n.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{_=n.transpose(),t=_.rows,o=_.columns,v=!0;let V=f;f=m,m=V}else _=n.clone();let k=Math.min(t,o),C=Math.min(t+1,o),M=new Float64Array(C),I=new be(t,k),F=new be(o,o),H=new Float64Array(o),U=new Float64Array(t),J=new Float64Array(C);for(let V=0;V<C;V++)J[V]=V;let G=Math.min(t-1,o),Z=Math.max(0,Math.min(o-2,t)),at=Math.max(G,Z);for(let V=0;V<at;V++){if(V<G){M[V]=0;for(let nt=V;nt<t;nt++)M[V]=$l(M[V],_.get(nt,V));if(M[V]!==0){_.get(V,V)<0&&(M[V]=-M[V]);for(let nt=V;nt<t;nt++)_.set(nt,V,_.get(nt,V)/M[V]);_.set(V,V,_.get(V,V)+1)}M[V]=-M[V]}for(let nt=V+1;nt<o;nt++){if(V<G&&M[V]!==0){let ut=0;for(let gt=V;gt<t;gt++)ut+=_.get(gt,V)*_.get(gt,nt);ut=-ut/_.get(V,V);for(let gt=V;gt<t;gt++)_.set(gt,nt,_.get(gt,nt)+ut*_.get(gt,V))}H[nt]=_.get(V,nt)}if(f&&V<G)for(let nt=V;nt<t;nt++)I.set(nt,V,_.get(nt,V));if(V<Z){H[V]=0;for(let nt=V+1;nt<o;nt++)H[V]=$l(H[V],H[nt]);if(H[V]!==0){H[V+1]<0&&(H[V]=0-H[V]);for(let nt=V+1;nt<o;nt++)H[nt]/=H[V];H[V+1]+=1}if(H[V]=-H[V],V+1<t&&H[V]!==0){for(let nt=V+1;nt<t;nt++)U[nt]=0;for(let nt=V+1;nt<t;nt++)for(let ut=V+1;ut<o;ut++)U[nt]+=H[ut]*_.get(nt,ut);for(let nt=V+1;nt<o;nt++){let ut=-H[nt]/H[V+1];for(let gt=V+1;gt<t;gt++)_.set(gt,nt,_.get(gt,nt)+ut*U[gt])}}if(m)for(let nt=V+1;nt<o;nt++)F.set(nt,V,H[nt])}}let mt=Math.min(o,t+1);if(G<o&&(M[G]=_.get(G,G)),t<mt&&(M[mt-1]=0),Z+1<mt&&(H[Z]=_.get(Z,mt-1)),H[mt-1]=0,f){for(let V=G;V<k;V++){for(let nt=0;nt<t;nt++)I.set(nt,V,0);I.set(V,V,1)}for(let V=G-1;V>=0;V--)if(M[V]!==0){for(let nt=V+1;nt<k;nt++){let ut=0;for(let gt=V;gt<t;gt++)ut+=I.get(gt,V)*I.get(gt,nt);ut=-ut/I.get(V,V);for(let gt=V;gt<t;gt++)I.set(gt,nt,I.get(gt,nt)+ut*I.get(gt,V))}for(let nt=V;nt<t;nt++)I.set(nt,V,-I.get(nt,V));I.set(V,V,1+I.get(V,V));for(let nt=0;nt<V-1;nt++)I.set(nt,V,0)}else{for(let nt=0;nt<t;nt++)I.set(nt,V,0);I.set(V,V,1)}}if(m)for(let V=o-1;V>=0;V--){if(V<Z&&H[V]!==0)for(let nt=V+1;nt<o;nt++){let ut=0;for(let gt=V+1;gt<o;gt++)ut+=F.get(gt,V)*F.get(gt,nt);ut=-ut/F.get(V+1,V);for(let gt=V+1;gt<o;gt++)F.set(gt,nt,F.get(gt,nt)+ut*F.get(gt,V))}for(let nt=0;nt<o;nt++)F.set(nt,V,0);F.set(V,V,1)}let ft=mt-1,ot=Number.EPSILON;for(;mt>0;){let V,nt;for(V=mt-2;V>=-1&&V!==-1;V--){const ut=Number.MIN_VALUE+ot*Math.abs(M[V]+Math.abs(M[V+1]));if(Math.abs(H[V])<=ut||Number.isNaN(H[V])){H[V]=0;break}}if(V===mt-2)nt=4;else{let ut;for(ut=mt-1;ut>=V&&ut!==V;ut--){let gt=(ut!==mt?Math.abs(H[ut]):0)+(ut!==V+1?Math.abs(H[ut-1]):0);if(Math.abs(M[ut])<=ot*gt){M[ut]=0;break}}ut===V?nt=3:ut===mt-1?nt=1:(nt=2,V=ut)}switch(V++,nt){case 1:{let ut=H[mt-2];H[mt-2]=0;for(let gt=mt-2;gt>=V;gt--){let Jt=$l(M[gt],ut),re=M[gt]/Jt,Xt=ut/Jt;if(M[gt]=Jt,gt!==V&&(ut=-Xt*H[gt-1],H[gt-1]=re*H[gt-1]),m)for(let Ct=0;Ct<o;Ct++)Jt=re*F.get(Ct,gt)+Xt*F.get(Ct,mt-1),F.set(Ct,mt-1,-Xt*F.get(Ct,gt)+re*F.get(Ct,mt-1)),F.set(Ct,gt,Jt)}break}case 2:{let ut=H[V-1];H[V-1]=0;for(let gt=V;gt<mt;gt++){let Jt=$l(M[gt],ut),re=M[gt]/Jt,Xt=ut/Jt;if(M[gt]=Jt,ut=-Xt*H[gt],H[gt]=re*H[gt],f)for(let Ct=0;Ct<t;Ct++)Jt=re*I.get(Ct,gt)+Xt*I.get(Ct,V-1),I.set(Ct,V-1,-Xt*I.get(Ct,gt)+re*I.get(Ct,V-1)),I.set(Ct,gt,Jt)}break}case 3:{const ut=Math.max(Math.abs(M[mt-1]),Math.abs(M[mt-2]),Math.abs(H[mt-2]),Math.abs(M[V]),Math.abs(H[V])),gt=M[mt-1]/ut,Jt=M[mt-2]/ut,re=H[mt-2]/ut,Xt=M[V]/ut,Ct=H[V]/ut,Kt=((Jt+gt)*(Jt-gt)+re*re)/2,Zt=gt*re*(gt*re);let Pe=0;(Kt!==0||Zt!==0)&&(Kt<0?Pe=0-Math.sqrt(Kt*Kt+Zt):Pe=Math.sqrt(Kt*Kt+Zt),Pe=Zt/(Kt+Pe));let bt=(Xt+gt)*(Xt-gt)+Pe,At=Xt*Ct;for(let qt=V;qt<mt-1;qt++){let ee=$l(bt,At);ee===0&&(ee=Number.MIN_VALUE);let pe=bt/ee,ae=At/ee;if(qt!==V&&(H[qt-1]=ee),bt=pe*M[qt]+ae*H[qt],H[qt]=pe*H[qt]-ae*M[qt],At=ae*M[qt+1],M[qt+1]=pe*M[qt+1],m)for(let le=0;le<o;le++)ee=pe*F.get(le,qt)+ae*F.get(le,qt+1),F.set(le,qt+1,-ae*F.get(le,qt)+pe*F.get(le,qt+1)),F.set(le,qt,ee);if(ee=$l(bt,At),ee===0&&(ee=Number.MIN_VALUE),pe=bt/ee,ae=At/ee,M[qt]=ee,bt=pe*H[qt]+ae*M[qt+1],M[qt+1]=-ae*H[qt]+pe*M[qt+1],At=ae*H[qt+1],H[qt+1]=pe*H[qt+1],f&&qt<t-1)for(let le=0;le<t;le++)ee=pe*I.get(le,qt)+ae*I.get(le,qt+1),I.set(le,qt+1,-ae*I.get(le,qt)+pe*I.get(le,qt+1)),I.set(le,qt,ee)}H[mt-2]=bt;break}case 4:{if(M[V]<=0&&(M[V]=M[V]<0?-M[V]:0,m))for(let ut=0;ut<=ft;ut++)F.set(ut,V,-F.get(ut,V));for(;V<ft&&!(M[V]>=M[V+1]);){let ut=M[V];if(M[V]=M[V+1],M[V+1]=ut,m&&V<o-1)for(let gt=0;gt<o;gt++)ut=F.get(gt,V+1),F.set(gt,V+1,F.get(gt,V)),F.set(gt,V,ut);if(f&&V<t-1)for(let gt=0;gt<t;gt++)ut=I.get(gt,V+1),I.set(gt,V+1,I.get(gt,V)),I.set(gt,V,ut);V++}mt--;break}}}if(v){let V=F;F=I,I=V}this.m=t,this.n=o,this.s=M,this.U=I,this.V=F}solve(n){let r=n,t=this.threshold,o=this.s.length,l=be.zeros(o,o);for(let k=0;k<o;k++)Math.abs(this.s[k])<=t?l.set(k,k,0):l.set(k,k,1/this.s[k]);let u=this.U,d=this.rightSingularVectors,f=d.mmul(l),m=d.rows,v=u.rows,_=be.zeros(m,v);for(let k=0;k<m;k++)for(let C=0;C<v;C++){let M=0;for(let I=0;I<o;I++)M+=f.get(k,I)*u.get(C,I);_.set(k,C,M)}return _.mmul(r)}solveForDiagonal(n){return this.solve(be.diag(n))}inverse(){let n=this.V,r=this.threshold,t=n.rows,o=n.columns,l=new be(t,this.s.length);for(let v=0;v<t;v++)for(let _=0;_<o;_++)Math.abs(this.s[_])>r&&l.set(v,_,n.get(v,_)/this.s[_]);let u=this.U,d=u.rows,f=u.columns,m=new be(t,d);for(let v=0;v<t;v++)for(let _=0;_<d;_++){let k=0;for(let C=0;C<f;C++)k+=l.get(v,C)*u.get(_,C);m.set(v,_,k)}return m}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let n=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,r=0,t=this.s;for(let o=0,l=t.length;o<l;o++)t[o]>n&&r++;return r}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return be.diag(this.s)}};function UB(n,r=!1){return n=_s.checkMatrix(n),r?new Lp(n).inverse():NP(n,be.eye(n.rows))}function NP(n,r,t=!1){return n=_s.checkMatrix(n),r=_s.checkMatrix(r),t?new Lp(n).solve(r):n.isSquare()?new Oy(n).solve(r):new Gx(n).solve(r)}function _v(n){if(n=be.checkMatrix(n),n.isSquare()){if(n.columns===0)return 1;let r,t,o,l;if(n.columns===2)return r=n.get(0,0),t=n.get(0,1),o=n.get(1,0),l=n.get(1,1),r*l-t*o;if(n.columns===3){let u,d,f;return u=new xv(n,[1,2],[1,2]),d=new xv(n,[1,2],[0,2]),f=new xv(n,[1,2],[0,1]),r=n.get(0,0),t=n.get(0,1),o=n.get(0,2),r*_v(u)-t*_v(d)+o*_v(f)}else return new Oy(n).determinant}else throw Error("determinant can only be calculated for a square matrix")}function GB(n,r){let t=[];for(let o=0;o<n;o++)o!==r&&t.push(o);return t}function qB(n,r,t,o=1e-9,l=1e-9){if(n>l)return new Array(r.rows+1).fill(0);{let u=r.addRow(t,[0]);for(let d=0;d<u.rows;d++)Math.abs(u.get(d,0))<o&&u.set(d,0,0);return u.to1DArray()}}function VB(n,r={}){const{thresholdValue:t=1e-9,thresholdError:o=1e-9}=r;n=be.checkMatrix(n);let l=n.rows,u=new be(l,l);for(let d=0;d<l;d++){let f=be.columnVector(n.getRow(d)),m=n.subMatrixRow(GB(l,d)).transpose(),v=new Lp(m).solve(f),_=be.sub(f,m.mmul(v)).abs().max();u.setRow(d,qB(_,v,d,t,o))}return u}function WB(n,r=Number.EPSILON){if(n=be.checkMatrix(n),n.isEmpty())return n.transpose();let t=new Lp(n,{autoTranspose:!0}),o=t.leftSingularVectors,l=t.rightSingularVectors,u=t.diagonal;for(let d=0;d<u.length;d++)Math.abs(u[d])>r?u[d]=1/u[d]:u[d]=0;return l.mmul(be.diag(u).mmul(o.transpose()))}function ZB(n,r=n,t={}){n=new be(n);let o=!1;if(typeof r=="object"&&!be.isMatrix(r)&&!Yo.isAnyArray(r)?(t=r,r=n,o=!0):r=new be(r),n.rows!==r.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:l=!0}=t;l&&(n=n.center("column"),o||(r=r.center("column")));const u=n.transpose().mmul(r);for(let d=0;d<u.rows;d++)for(let f=0;f<u.columns;f++)u.set(d,f,u.get(d,f)*(1/(n.rows-1)));return u}function YB(n,r=n,t={}){n=new be(n);let o=!1;if(typeof r=="object"&&!be.isMatrix(r)&&!Yo.isAnyArray(r)?(t=r,r=n,o=!0):r=new be(r),n.rows!==r.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:l=!0,scale:u=!0}=t;l&&(n.center("column"),o||r.center("column")),u&&(n.scale("column"),o||r.scale("column"));const d=n.standardDeviation("column",{unbiased:!0}),f=o?d:r.standardDeviation("column",{unbiased:!0}),m=n.transpose().mmul(r);for(let v=0;v<m.rows;v++)for(let _=0;_<m.columns;_++)m.set(v,_,m.get(v,_)*(1/(d[v]*f[_]))*(1/(n.rows-1)));return m}class DP{constructor(r,t={}){const{assumeSymmetric:o=!1}=t;if(r=_s.checkMatrix(r),!r.isSquare())throw new Error("Matrix is not a square matrix");if(r.isEmpty())throw new Error("Matrix must be non-empty");let l=r.columns,u=new be(l,l),d=new Float64Array(l),f=new Float64Array(l),m=r,v,_,k=!1;if(o?k=!0:k=r.isSymmetric(),k){for(v=0;v<l;v++)for(_=0;_<l;_++)u.set(v,_,m.get(v,_));XB(l,f,d,u),KB(l,f,d,u)}else{let C=new be(l,l),M=new Float64Array(l);for(_=0;_<l;_++)for(v=0;v<l;v++)C.set(v,_,m.get(v,_));JB(l,C,M,u),QB(l,f,d,u,C)}this.n=l,this.e=f,this.d=d,this.V=u}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let r=this.n,t=this.e,o=this.d,l=new be(r,r),u,d;for(u=0;u<r;u++){for(d=0;d<r;d++)l.set(u,d,0);l.set(u,u,o[u]),t[u]>0?l.set(u,u+1,t[u]):t[u]<0&&l.set(u,u-1,t[u])}return l}}function XB(n,r,t,o){let l,u,d,f,m,v,_,k;for(m=0;m<n;m++)t[m]=o.get(n-1,m);for(f=n-1;f>0;f--){for(k=0,d=0,v=0;v<f;v++)k=k+Math.abs(t[v]);if(k===0)for(r[f]=t[f-1],m=0;m<f;m++)t[m]=o.get(f-1,m),o.set(f,m,0),o.set(m,f,0);else{for(v=0;v<f;v++)t[v]/=k,d+=t[v]*t[v];for(l=t[f-1],u=Math.sqrt(d),l>0&&(u=-u),r[f]=k*u,d=d-l*u,t[f-1]=l-u,m=0;m<f;m++)r[m]=0;for(m=0;m<f;m++){for(l=t[m],o.set(m,f,l),u=r[m]+o.get(m,m)*l,v=m+1;v<=f-1;v++)u+=o.get(v,m)*t[v],r[v]+=o.get(v,m)*l;r[m]=u}for(l=0,m=0;m<f;m++)r[m]/=d,l+=r[m]*t[m];for(_=l/(d+d),m=0;m<f;m++)r[m]-=_*t[m];for(m=0;m<f;m++){for(l=t[m],u=r[m],v=m;v<=f-1;v++)o.set(v,m,o.get(v,m)-(l*r[v]+u*t[v]));t[m]=o.get(f-1,m),o.set(f,m,0)}}t[f]=d}for(f=0;f<n-1;f++){if(o.set(n-1,f,o.get(f,f)),o.set(f,f,1),d=t[f+1],d!==0){for(v=0;v<=f;v++)t[v]=o.get(v,f+1)/d;for(m=0;m<=f;m++){for(u=0,v=0;v<=f;v++)u+=o.get(v,f+1)*o.get(v,m);for(v=0;v<=f;v++)o.set(v,m,o.get(v,m)-u*t[v])}}for(v=0;v<=f;v++)o.set(v,f+1,0)}for(m=0;m<n;m++)t[m]=o.get(n-1,m),o.set(n-1,m,0);o.set(n-1,n-1,1),r[0]=0}function KB(n,r,t,o){let l,u,d,f,m,v,_,k,C,M,I,F,H,U,J,G;for(d=1;d<n;d++)r[d-1]=r[d];r[n-1]=0;let Z=0,at=0,mt=Number.EPSILON;for(v=0;v<n;v++){for(at=Math.max(at,Math.abs(t[v])+Math.abs(r[v])),_=v;_<n&&!(Math.abs(r[_])<=mt*at);)_++;if(_>v)do{for(l=t[v],k=(t[v+1]-l)/(2*r[v]),C=$l(k,1),k<0&&(C=-C),t[v]=r[v]/(k+C),t[v+1]=r[v]*(k+C),M=t[v+1],u=l-t[v],d=v+2;d<n;d++)t[d]-=u;for(Z=Z+u,k=t[_],I=1,F=I,H=I,U=r[v+1],J=0,G=0,d=_-1;d>=v;d--)for(H=F,F=I,G=J,l=I*r[d],u=I*k,C=$l(k,r[d]),r[d+1]=J*C,J=r[d]/C,I=k/C,k=I*t[d]-J*l,t[d+1]=u+J*(I*l+J*t[d]),m=0;m<n;m++)u=o.get(m,d+1),o.set(m,d+1,J*o.get(m,d)+I*u),o.set(m,d,I*o.get(m,d)-J*u);k=-J*G*H*U*r[v]/M,r[v]=J*k,t[v]=I*k}while(Math.abs(r[v])>mt*at);t[v]=t[v]+Z,r[v]=0}for(d=0;d<n-1;d++){for(m=d,k=t[d],f=d+1;f<n;f++)t[f]<k&&(m=f,k=t[f]);if(m!==d)for(t[m]=t[d],t[d]=k,f=0;f<n;f++)k=o.get(f,d),o.set(f,d,o.get(f,m)),o.set(f,m,k)}}function JB(n,r,t,o){let l=0,u=n-1,d,f,m,v,_,k,C;for(k=l+1;k<=u-1;k++){for(C=0,v=k;v<=u;v++)C=C+Math.abs(r.get(v,k-1));if(C!==0){for(m=0,v=u;v>=k;v--)t[v]=r.get(v,k-1)/C,m+=t[v]*t[v];for(f=Math.sqrt(m),t[k]>0&&(f=-f),m=m-t[k]*f,t[k]=t[k]-f,_=k;_<n;_++){for(d=0,v=u;v>=k;v--)d+=t[v]*r.get(v,_);for(d=d/m,v=k;v<=u;v++)r.set(v,_,r.get(v,_)-d*t[v])}for(v=0;v<=u;v++){for(d=0,_=u;_>=k;_--)d+=t[_]*r.get(v,_);for(d=d/m,_=k;_<=u;_++)r.set(v,_,r.get(v,_)-d*t[_])}t[k]=C*t[k],r.set(k,k-1,C*f)}}for(v=0;v<n;v++)for(_=0;_<n;_++)o.set(v,_,v===_?1:0);for(k=u-1;k>=l+1;k--)if(r.get(k,k-1)!==0){for(v=k+1;v<=u;v++)t[v]=r.get(v,k-1);for(_=k;_<=u;_++){for(f=0,v=k;v<=u;v++)f+=t[v]*o.get(v,_);for(f=f/t[k]/r.get(k,k-1),v=k;v<=u;v++)o.set(v,_,o.get(v,_)+f*t[v])}}}function QB(n,r,t,o,l){let u=n-1,d=0,f=n-1,m=Number.EPSILON,v=0,_=0,k=0,C=0,M=0,I=0,F=0,H=0,U,J,G,Z,at,mt,ft,ot,V,nt,ut,gt,Jt,re,Xt;for(U=0;U<n;U++)for((U<d||U>f)&&(t[U]=l.get(U,U),r[U]=0),J=Math.max(U-1,0);J<n;J++)_=_+Math.abs(l.get(U,J));for(;u>=d;){for(Z=u;Z>d&&(I=Math.abs(l.get(Z-1,Z-1))+Math.abs(l.get(Z,Z)),I===0&&(I=_),!(Math.abs(l.get(Z,Z-1))<m*I));)Z--;if(Z===u)l.set(u,u,l.get(u,u)+v),t[u]=l.get(u,u),r[u]=0,u--,H=0;else if(Z===u-1){if(ft=l.get(u,u-1)*l.get(u-1,u),k=(l.get(u-1,u-1)-l.get(u,u))/2,C=k*k+ft,F=Math.sqrt(Math.abs(C)),l.set(u,u,l.get(u,u)+v),l.set(u-1,u-1,l.get(u-1,u-1)+v),ot=l.get(u,u),C>=0){for(F=k>=0?k+F:k-F,t[u-1]=ot+F,t[u]=t[u-1],F!==0&&(t[u]=ot-ft/F),r[u-1]=0,r[u]=0,ot=l.get(u,u-1),I=Math.abs(ot)+Math.abs(F),k=ot/I,C=F/I,M=Math.sqrt(k*k+C*C),k=k/M,C=C/M,J=u-1;J<n;J++)F=l.get(u-1,J),l.set(u-1,J,C*F+k*l.get(u,J)),l.set(u,J,C*l.get(u,J)-k*F);for(U=0;U<=u;U++)F=l.get(U,u-1),l.set(U,u-1,C*F+k*l.get(U,u)),l.set(U,u,C*l.get(U,u)-k*F);for(U=d;U<=f;U++)F=o.get(U,u-1),o.set(U,u-1,C*F+k*o.get(U,u)),o.set(U,u,C*o.get(U,u)-k*F)}else t[u-1]=ot+k,t[u]=ot+k,r[u-1]=F,r[u]=-F;u=u-2,H=0}else{if(ot=l.get(u,u),V=0,ft=0,Z<u&&(V=l.get(u-1,u-1),ft=l.get(u,u-1)*l.get(u-1,u)),H===10){for(v+=ot,U=d;U<=u;U++)l.set(U,U,l.get(U,U)-ot);I=Math.abs(l.get(u,u-1))+Math.abs(l.get(u-1,u-2)),ot=V=.75*I,ft=-.4375*I*I}if(H===30&&(I=(V-ot)/2,I=I*I+ft,I>0)){for(I=Math.sqrt(I),V<ot&&(I=-I),I=ot-ft/((V-ot)/2+I),U=d;U<=u;U++)l.set(U,U,l.get(U,U)-I);v+=I,ot=V=ft=.964}for(H=H+1,at=u-2;at>=Z&&(F=l.get(at,at),M=ot-F,I=V-F,k=(M*I-ft)/l.get(at+1,at)+l.get(at,at+1),C=l.get(at+1,at+1)-F-M-I,M=l.get(at+2,at+1),I=Math.abs(k)+Math.abs(C)+Math.abs(M),k=k/I,C=C/I,M=M/I,!(at===Z||Math.abs(l.get(at,at-1))*(Math.abs(C)+Math.abs(M))<m*(Math.abs(k)*(Math.abs(l.get(at-1,at-1))+Math.abs(F)+Math.abs(l.get(at+1,at+1))))));)at--;for(U=at+2;U<=u;U++)l.set(U,U-2,0),U>at+2&&l.set(U,U-3,0);for(G=at;G<=u-1&&(re=G!==u-1,G!==at&&(k=l.get(G,G-1),C=l.get(G+1,G-1),M=re?l.get(G+2,G-1):0,ot=Math.abs(k)+Math.abs(C)+Math.abs(M),ot!==0&&(k=k/ot,C=C/ot,M=M/ot)),ot!==0);G++)if(I=Math.sqrt(k*k+C*C+M*M),k<0&&(I=-I),I!==0){for(G!==at?l.set(G,G-1,-I*ot):Z!==at&&l.set(G,G-1,-l.get(G,G-1)),k=k+I,ot=k/I,V=C/I,F=M/I,C=C/k,M=M/k,J=G;J<n;J++)k=l.get(G,J)+C*l.get(G+1,J),re&&(k=k+M*l.get(G+2,J),l.set(G+2,J,l.get(G+2,J)-k*F)),l.set(G,J,l.get(G,J)-k*ot),l.set(G+1,J,l.get(G+1,J)-k*V);for(U=0;U<=Math.min(u,G+3);U++)k=ot*l.get(U,G)+V*l.get(U,G+1),re&&(k=k+F*l.get(U,G+2),l.set(U,G+2,l.get(U,G+2)-k*M)),l.set(U,G,l.get(U,G)-k),l.set(U,G+1,l.get(U,G+1)-k*C);for(U=d;U<=f;U++)k=ot*o.get(U,G)+V*o.get(U,G+1),re&&(k=k+F*o.get(U,G+2),o.set(U,G+2,o.get(U,G+2)-k*M)),o.set(U,G,o.get(U,G)-k),o.set(U,G+1,o.get(U,G+1)-k*C)}}}if(_!==0){for(u=n-1;u>=0;u--)if(k=t[u],C=r[u],C===0)for(Z=u,l.set(u,u,1),U=u-1;U>=0;U--){for(ft=l.get(U,U)-k,M=0,J=Z;J<=u;J++)M=M+l.get(U,J)*l.get(J,u);if(r[U]<0)F=ft,I=M;else if(Z=U,r[U]===0?l.set(U,u,ft!==0?-M/ft:-M/(m*_)):(ot=l.get(U,U+1),V=l.get(U+1,U),C=(t[U]-k)*(t[U]-k)+r[U]*r[U],mt=(ot*I-F*M)/C,l.set(U,u,mt),l.set(U+1,u,Math.abs(ot)>Math.abs(F)?(-M-ft*mt)/ot:(-I-V*mt)/F)),mt=Math.abs(l.get(U,u)),m*mt*mt>1)for(J=U;J<=u;J++)l.set(J,u,l.get(J,u)/mt)}else if(C<0)for(Z=u-1,Math.abs(l.get(u,u-1))>Math.abs(l.get(u-1,u))?(l.set(u-1,u-1,C/l.get(u,u-1)),l.set(u-1,u,-(l.get(u,u)-k)/l.get(u,u-1))):(Xt=iv(0,-l.get(u-1,u),l.get(u-1,u-1)-k,C),l.set(u-1,u-1,Xt[0]),l.set(u-1,u,Xt[1])),l.set(u,u-1,0),l.set(u,u,1),U=u-2;U>=0;U--){for(nt=0,ut=0,J=Z;J<=u;J++)nt=nt+l.get(U,J)*l.get(J,u-1),ut=ut+l.get(U,J)*l.get(J,u);if(ft=l.get(U,U)-k,r[U]<0)F=ft,M=nt,I=ut;else if(Z=U,r[U]===0?(Xt=iv(-nt,-ut,ft,C),l.set(U,u-1,Xt[0]),l.set(U,u,Xt[1])):(ot=l.get(U,U+1),V=l.get(U+1,U),gt=(t[U]-k)*(t[U]-k)+r[U]*r[U]-C*C,Jt=(t[U]-k)*2*C,gt===0&&Jt===0&&(gt=m*_*(Math.abs(ft)+Math.abs(C)+Math.abs(ot)+Math.abs(V)+Math.abs(F))),Xt=iv(ot*M-F*nt+C*ut,ot*I-F*ut-C*nt,gt,Jt),l.set(U,u-1,Xt[0]),l.set(U,u,Xt[1]),Math.abs(ot)>Math.abs(F)+Math.abs(C)?(l.set(U+1,u-1,(-nt-ft*l.get(U,u-1)+C*l.get(U,u))/ot),l.set(U+1,u,(-ut-ft*l.get(U,u)-C*l.get(U,u-1))/ot)):(Xt=iv(-M-V*l.get(U,u-1),-I-V*l.get(U,u),F,C),l.set(U+1,u-1,Xt[0]),l.set(U+1,u,Xt[1]))),mt=Math.max(Math.abs(l.get(U,u-1)),Math.abs(l.get(U,u))),m*mt*mt>1)for(J=U;J<=u;J++)l.set(J,u-1,l.get(J,u-1)/mt),l.set(J,u,l.get(J,u)/mt)}for(U=0;U<n;U++)if(U<d||U>f)for(J=U;J<n;J++)o.set(U,J,l.get(U,J));for(J=n-1;J>=d;J--)for(U=d;U<=f;U++){for(F=0,G=d;G<=Math.min(J,f);G++)F=F+o.get(U,G)*l.get(G,J);o.set(U,J,F)}}}function iv(n,r,t,o){let l,u;return Math.abs(t)>Math.abs(o)?(l=o/t,u=t+l*o,[(n+l*r)/u,(r-l*n)/u]):(l=t/o,u=o+l*t,[(l*n+r)/u,(l*r-n)/u])}class FP{constructor(r){if(r=_s.checkMatrix(r),!r.isSymmetric())throw new Error("Matrix is not symmetric");let t=r,o=t.rows,l=new be(o,o),u=!0,d,f,m;for(f=0;f<o;f++){let v=0;for(m=0;m<f;m++){let _=0;for(d=0;d<m;d++)_+=l.get(m,d)*l.get(f,d);_=(t.get(f,m)-_)/l.get(m,m),l.set(f,m,_),v=v+_*_}for(v=t.get(f,f)-v,u&=v>0,l.set(f,f,Math.sqrt(Math.max(v,0))),m=f+1;m<o;m++)l.set(f,m,0)}this.L=l,this.positiveDefinite=!!u}isPositiveDefinite(){return this.positiveDefinite}solve(r){r=_s.checkMatrix(r);let t=this.L,o=t.rows;if(r.rows!==o)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");let l=r.columns,u=r.clone(),d,f,m;for(m=0;m<o;m++)for(f=0;f<l;f++){for(d=0;d<m;d++)u.set(m,f,u.get(m,f)-u.get(d,f)*t.get(m,d));u.set(m,f,u.get(m,f)/t.get(m,m))}for(m=o-1;m>=0;m--)for(f=0;f<l;f++){for(d=m+1;d<o;d++)u.set(m,f,u.get(m,f)-u.get(d,f)*t.get(d,m));u.set(m,f,u.get(m,f)/t.get(m,m))}return u}get lowerTriangularMatrix(){return this.L}}class BP{constructor(r,t={}){r=_s.checkMatrix(r);let{Y:o}=t;const{scaleScores:l=!1,maxIterations:u=1e3,terminationCriteria:d=1e-10}=t;let f;if(o){if(Yo.isAnyArray(o)&&typeof o[0]=="number"?o=be.columnVector(o):o=_s.checkMatrix(o),o.rows!==r.rows)throw new Error("Y should have the same number of rows as X");f=o.getColumnVector(0)}else f=r.getColumnVector(0);let m=1,v,_,k,C;for(let M=0;M<u&&m>d;M++)k=r.transpose().mmul(f).div(f.transpose().mmul(f).get(0,0)),k=k.div(k.norm()),v=r.mmul(k).div(k.transpose().mmul(k).get(0,0)),M>0&&(m=v.clone().sub(C).pow(2).sum()),C=v.clone(),o?(_=o.transpose().mmul(v).div(v.transpose().mmul(v).get(0,0)),_=_.div(_.norm()),f=o.mmul(_).div(_.transpose().mmul(_).get(0,0))):f=v;if(o){let M=r.transpose().mmul(v).div(v.transpose().mmul(v).get(0,0));M=M.div(M.norm());let I=r.clone().sub(v.clone().mmul(M.transpose())),F=f.transpose().mmul(v).div(v.transpose().mmul(v).get(0,0)),H=o.clone().sub(v.clone().mulS(F.get(0,0)).mmul(_.transpose()));this.t=v,this.p=M.transpose(),this.w=k.transpose(),this.q=_,this.u=f,this.s=v.transpose().mmul(v),this.xResidual=I,this.yResidual=H,this.betas=F}else this.w=k.transpose(),this.s=v.transpose().mmul(v).sqrt(),l?this.t=v.clone().div(this.s.get(0,0)):this.t=v,this.xResidual=r.sub(v.mmul(k.transpose()))}}ti.AbstractMatrix=fr;ti.CHO=FP;ti.CholeskyDecomposition=FP;ti.DistanceMatrix=Ay;ti.EVD=DP;ti.EigenvalueDecomposition=DP;ti.LU=Oy;ti.LuDecomposition=Oy;var $B=ti.Matrix=be;ti.MatrixColumnSelectionView=OB;ti.MatrixColumnView=AB;ti.MatrixFlipColumnView=zB;ti.MatrixFlipRowView=NB;ti.MatrixRowSelectionView=FB;ti.MatrixRowView=DB;ti.MatrixSelectionView=xv;ti.MatrixSubView=BB;ti.MatrixTransposeView=jB;ti.NIPALS=BP;ti.Nipals=BP;ti.QR=Gx;ti.QrDecomposition=Gx;ti.SVD=Lp;var t7=ti.SingularValueDecomposition=Lp;ti.SymmetricMatrix=Eg;ti.WrapperMatrix1D=zP;ti.WrapperMatrix2D=_s;ti.correlation=YB;ti.covariance=ZB;var kT=ti.default=be;ti.determinant=_v;var e7=ti.inverse=UB;ti.linearDependencies=VB;var r7=ti.pseudoInverse=WB;ti.solve=NP;ti.wrap=HB;const uo=$B,i7=t7;kT.Matrix&&kT.Matrix;const n7=e7,jP=r7;class o7{constructor(r,t){if(this.sourcePoints=r,this.destinationPoints=t,this.pointCount=this.sourcePoints.length,this.pointCount<2)throw new Error("Not enough control points. A helmert transformation requires a minimum of 2 points, but "+this.pointCount+" are given.");const o=uo.columnVector(t.flat()),l=uo.zeros(2*this.pointCount,4);for(let d=0;d<this.pointCount;d++)l.set(2*d,0,1),l.set(2*d,1,0),l.set(2*d,2,r[d][0]),l.set(2*d,3,-r[d][1]),l.set(2*d+1,0,0),l.set(2*d+1,1,1),l.set(2*d+1,2,r[d][1]),l.set(2*d+1,3,r[d][0]);const u=jP(l);this.helmertParametersMatrix=u.mmul(o)}interpolate(r){if(!this.helmertParametersMatrix)throw new Error("Helmert parameters not computed");return[this.helmertParametersMatrix.get(0,0)+this.helmertParametersMatrix.get(2,0)*r[0]-this.helmertParametersMatrix.get(3,0)*r[1],this.helmertParametersMatrix.get(1,0)+this.helmertParametersMatrix.get(3,0)*r[0]+this.helmertParametersMatrix.get(2,0)*r[1]]}}class Dw{constructor(r,t,o){if(this.sourcePoints=r,this.destinationPoints=t,this.pointCount=this.sourcePoints.length,this.order=o||1,this.nCoefs=(this.order+1)*(this.order+2)/2,this.pointCount<this.nCoefs)throw new Error("Not enough control points. A polynomial transformation of order "+this.order+" requires a minimum of "+this.nCoefs+" points, but "+this.pointCount+" are given.");if(this.order<1||this.order>3)throw new Error("Only polynomial transformations of order 1, 2 or 3 are supported");const l=[uo.columnVector(t.map(f=>f[0])),uo.columnVector(t.map(f=>f[1]))],u=uo.zeros(this.pointCount,this.nCoefs);for(let f=0;f<this.pointCount;f++)switch(this.order){case 1:u.set(f,0,1),u.set(f,1,r[f][0]),u.set(f,2,r[f][1]);break;case 2:u.set(f,0,1),u.set(f,1,r[f][0]),u.set(f,2,r[f][1]),u.set(f,3,r[f][0]**2),u.set(f,4,r[f][1]**2),u.set(f,5,r[f][0]*r[f][1]);break;case 3:u.set(f,0,1),u.set(f,1,r[f][0]),u.set(f,2,r[f][1]),u.set(f,3,r[f][0]**2),u.set(f,4,r[f][1]**2),u.set(f,5,r[f][0]*r[f][1]),u.set(f,6,r[f][0]**3),u.set(f,7,r[f][1]**3),u.set(f,8,r[f][0]**2*r[f][1]),u.set(f,9,r[f][0]*r[f][1]**2);break}const d=jP(u);this.polynomialParametersMatrices=[d.mmul(l[0]),d.mmul(l[1])]}interpolate(r){if(!this.polynomialParametersMatrices)throw new Error("Polynomial parameters not computed");const t=[0,0];for(let o=0;o<2;o++)switch(this.order){case 1:t[o]+=this.polynomialParametersMatrices[o].get(0,0)+this.polynomialParametersMatrices[o].get(1,0)*r[0]+this.polynomialParametersMatrices[o].get(2,0)*r[1];break;case 2:t[o]+=this.polynomialParametersMatrices[o].get(0,0)+this.polynomialParametersMatrices[o].get(1,0)*r[0]+this.polynomialParametersMatrices[o].get(2,0)*r[1]+this.polynomialParametersMatrices[o].get(3,0)*r[0]**2+this.polynomialParametersMatrices[o].get(4,0)*r[1]**2+this.polynomialParametersMatrices[o].get(5,0)*r[0]*r[1];break;case 3:t[o]+=this.polynomialParametersMatrices[o].get(0,0)+this.polynomialParametersMatrices[o].get(1,0)*r[0]+this.polynomialParametersMatrices[o].get(2,0)*r[1]+this.polynomialParametersMatrices[o].get(3,0)*r[0]**2+this.polynomialParametersMatrices[o].get(4,0)*r[1]**2+this.polynomialParametersMatrices[o].get(5,0)*r[0]*r[1]+this.polynomialParametersMatrices[o].get(6,0)*r[0]**3+this.polynomialParametersMatrices[o].get(7,0)*r[1]**3+this.polynomialParametersMatrices[o].get(8,0)*r[0]**2*r[1]+this.polynomialParametersMatrices[o].get(9,0)*r[0]*r[1]**2;break}return t}}class s7{constructor(r,t){if(this.sourcePoints=r,this.destinationPoints=t,this.pointCount=this.sourcePoints.length,this.pointCount<4)throw new Error("Not enough control points. A projective transformation requires a minimum of 4 points, but "+this.pointCount+" are given.");const o=uo.zeros(2*this.pointCount,9);for(let u=0;u<this.pointCount;u++)o.set(2*u,0,-r[u][0]),o.set(2*u,1,-r[u][1]),o.set(2*u,2,-1),o.set(2*u,3,0),o.set(2*u,4,0),o.set(2*u,5,0),o.set(2*u,6,t[u][0]*r[u][0]),o.set(2*u,7,t[u][0]*r[u][1]),o.set(2*u,8,t[u][0]),o.set(2*u+1,0,0),o.set(2*u+1,1,0),o.set(2*u+1,2,0),o.set(2*u+1,3,-r[u][0]),o.set(2*u+1,4,-r[u][1]),o.set(2*u+1,5,-1),o.set(2*u+1,6,t[u][1]*r[u][0]),o.set(2*u+1,7,t[u][1]*r[u][1]),o.set(2*u+1,8,t[u][1]);const l=new i7(o);this.projectiveParametersMatrix=uo.from1DArray(3,3,l.rightSingularVectors.getColumn(8)).transpose()}interpolate(r){if(!this.projectiveParametersMatrix)throw new Error("projective parameters not computed");const t=this.projectiveParametersMatrix.get(0,2)*r[0]+this.projectiveParametersMatrix.get(1,2)*r[1]+this.projectiveParametersMatrix.get(2,2);return[(this.projectiveParametersMatrix.get(0,0)*r[0]+this.projectiveParametersMatrix.get(1,0)*r[1]+this.projectiveParametersMatrix.get(2,0))/t,(this.projectiveParametersMatrix.get(0,1)*r[0]+this.projectiveParametersMatrix.get(1,1)*r[1]+this.projectiveParametersMatrix.get(2,1))/t]}}function a7(n,r){if(n=uo.checkMatrix(n),r=uo.checkMatrix(r),n.rows!=r.rows||n.columns!=r.columns)throw new Error("Matrices have different dimensions");const t=uo.zeros(n.rows,n.columns);for(let o=0;o<n.rows;o++)for(let l=0;l<n.columns;l++)t.set(o,l,n.get(o,l)*r.get(o,l));return t}class l7{constructor(r,t,o,l,u){if(this.sourcePoints=r,this.destinationPoints=t,this.kernelFunction=o,this.normFunction=l,this.pointCount=this.sourcePoints.length,this.pointCount<3)throw new Error(`Not enough control points. A thin plate spline transformation (with affine component) requires a minimum of 3 points, but ${this.pointCount} are given.`);const d=[uo.columnVector([...t,[0,0],[0,0],[0,0]].map(k=>k[0])),uo.columnVector([...t,[0,0],[0,0],[0,0]].map(k=>k[1]))],f=uo.zeros(this.pointCount,this.pointCount);for(let k=0;k<this.pointCount;k++)for(let C=0;C<this.pointCount;C++)f.set(k,C,l(r[k],r[C]));u===void 0&&(u=f.sum()/(Math.pow(this.pointCount,2)-this.pointCount)),this.epsilon=u;for(let k=0;k<this.pointCount;k++)for(let C=0;C<this.pointCount;C++)f.set(k,C,o(f.get(k,C),u));const m=uo.zeros(this.pointCount,3),v=uo.zeros(this.pointCount+3,this.pointCount+3);for(let k=0;k<this.pointCount;k++)m.set(k,0,1),m.set(k,1,r[k][0]),m.set(k,2,r[k][1]);for(let k=0;k<this.pointCount+3;k++)for(let C=0;C<this.pointCount+3;C++)k<this.pointCount&&C<this.pointCount?v.set(k,C,f.get(k,C)):k>=this.pointCount&&C<this.pointCount?v.set(k,C,m.transpose().get(k-this.pointCount,C)):k<this.pointCount&&C>=this.pointCount&&v.set(k,C,m.get(k,C-this.pointCount));const _=n7(v);this.weightsMatrices=[_.mmul(d[0]),_.mmul(d[1])]}interpolate(r){if(!this.weightsMatrices)throw new Error("Weights not computed");const t=uo.zeros(this.pointCount,1);for(let l=0;l<this.pointCount;l++)t.set(l,0,this.kernelFunction(this.normFunction(r,this.sourcePoints[l]),this.epsilon));const o=[0,0];for(let l=0;l<2;l++){o[l]=a7(t,this.weightsMatrices[l].selection([...Array(this.pointCount).keys()],[0])).sum();const u=this.weightsMatrices[l].get(this.pointCount,0),d=this.weightsMatrices[l].get(this.pointCount+1,0),f=this.weightsMatrices[l].get(this.pointCount+2,0);o[l]+=u+d*r[0]+f*r[1]}return o}}function c7(n){return n===0?0:Math.pow(n,2)*Math.log(n)}function u7(n,r){const t=[r[0]-n[0],r[1]-n[1]];return Math.sqrt(t[0]**2+t[1]**2)}function zy(n){const r={close:!1,maxOffsetRatio:0,maxDepth:0,destinationIsGeographic:!1,sourceIsGeographic:!1};return n&&n.maxDepth!==void 0&&(r.maxDepth=n.maxDepth),n&&n.maxOffsetRatio!==void 0&&(r.maxOffsetRatio=n.maxOffsetRatio),n&&n.destinationIsGeographic!==void 0&&(r.destinationIsGeographic=n.destinationIsGeographic),n&&n.sourceIsGeographic!==void 0&&(r.sourceIsGeographic=n.sourceIsGeographic),r}function nv(n,r,t){const o=zy(t);r=MP(r);const l=r.map(f=>({source:f,destination:n.transformForward(f)})),u=Ny(l,!1),d=HP(n,u,o);return Dy(d,!0).map(f=>f.destination)}function ov(n,r,t){const o=zy(t);r=MP(r);const l=r.map(f=>({source:n.transformBackward(f),destination:f})),u=Ny(l,!1),d=UP(n,u,o);return Dy(d,!0).map(f=>f.source)}function h7(n,r,t){const o=zy(t);r=Fx(r);const l=r.map(f=>({source:f,destination:n.transformForward(f)})),u=Ny(l,!0),d=HP(n,u,o);return Dy(d,!1).map(f=>f.destination)}function d7(n,r,t){const o=zy(t);r=Fx(r);const l=r.map(f=>({source:n.transformBackward(f),destination:f})),u=Ny(l,!0),d=UP(n,u,o);return Dy(d,!1).map(f=>f.source)}function sv(n,r,t){return r.map(o=>h7(n,o,t))}function av(n,r,t){return r.map(o=>d7(n,o,t))}function Ny(n,r=!1){const t=n.length-(r?0:1),o=[];for(let l=0;l<t;l++)o.push({from:n[l],to:n[(l+1)%n.length]});return o}function Dy(n,r=!1){const t=n.map(o=>o.from);return r&&t.push(n[n.length-1].to),t}function HP(n,r,t){return t.maxDepth<=0||t.maxOffsetRatio<=0?r:r.map(o=>L1(n,o,t,0)).flat(1)}function UP(n,r,t){return t.maxDepth<=0||t.maxOffsetRatio<=0?r:r.map(o=>R1(n,o,t,0)).flat(1)}function L1(n,r,t,o){const l=(t.sourceIsGeographic?(_,k)=>iy(_,k).geometry.coordinates:ny)(r.from.source,r.to.source),u=(t.destinationIsGeographic?(_,k)=>iy(_,k).geometry.coordinates:ny)(r.from.destination,r.to.destination),d=n.transformForward(l),f=t.destinationIsGeographic?Dx:oc,m=f(r.from.destination,r.to.destination),v=f(u,d);if(o<t.maxDepth&&t.maxOffsetRatio&&v/m>t.maxOffsetRatio&&m>0){const _={source:l,destination:d};return[L1(n,{from:r.from,to:_},t,o+1),L1(n,{from:_,to:r.to},t,o+1)].flat(1)}else return r}function R1(n,r,t,o){const l=(t.destinationIsGeographic?(_,k)=>iy(_,k).geometry.coordinates:ny)(r.from.destination,r.to.destination),u=(t.sourceIsGeographic?(_,k)=>iy(_,k).geometry.coordinates:ny)(r.from.source,r.to.source),d=n.transformBackward(l),f=t.sourceIsGeographic?Dx:oc,m=f(r.from.source,r.to.source),v=f(u,d);if(o<t.maxDepth&&t.maxOffsetRatio&&v/m>t.maxOffsetRatio&&m>0){const _={source:d,destination:l};return[R1(n,{from:r.from,to:_},t,o+1),R1(n,{from:_,to:r.to},t,o+1)].flat(1)}else return r}var A1,GP,O1,qP,kv,Fw;class ET{constructor(r,t="polynomial"){if(kg(this,A1),kg(this,O1),kg(this,kv),r.length==0)throw new Error("No control points.");this.gcps=r.map(o=>{if("resource"in o&&"geo"in o)return{source:o.resource,destination:o.geo};if("source"in o&&"destination"in o)return o;throw new Error("Unsupported GCP type")}),this.sourcePoints=this.gcps.map(o=>o.source),this.destinationPoints=this.gcps.map(o=>o.destination),this.type=t}transformForward(r,t){if(Zo(r))return this.forwardTransformation||(this.forwardTransformation=Tp(this,A1,GP).call(this)),this.forwardTransformation.interpolate(r);if(Xl(r))return this.transformForward(lg(r));if(ol(r))return nv(this,r,t);if(Kl(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),nv(this,cg(r),t);if(sl(r))return sv(this,r,t);if(Jl(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),sv(this,ug(r),t);throw new Error("Input type not supported")}transformForwardAsGeojson(r,t){if(Zo(r))return K0(this.transformForward(r));if(Xl(r))return K0(this.transformForward(lg(r)));if(ol(r))return t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),J0(nv(this,r,t));if(Kl(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),J0(nv(this,cg(r),t));if(sl(r))return t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),Q0(sv(this,r,t));if(Jl(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),Q0(sv(this,ug(r),t));throw new Error("Input type not supported")}transformBackward(r,t){if(Zo(r))return this.backwardTransformation||(this.backwardTransformation=Tp(this,O1,qP).call(this)),this.backwardTransformation.interpolate(r);if(Xl(r))return this.transformBackward(lg(r));if(ol(r))return ov(this,r,t);if(Kl(r))return t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),ov(this,cg(r),t);if(sl(r))return av(this,r,t);if(Jl(r))return t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),av(this,ug(r),t);throw new Error("Input type not supported")}transformBackwardAsGeojson(r,t){if(Zo(r))return K0(this.transformBackward(r));if(Xl(r))return K0(this.transformBackward(lg(r)));if(ol(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),J0(ov(this,r,t));if(Kl(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),J0(ov(this,cg(r),t));if(sl(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),Q0(av(this,r,t));if(Jl(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),Q0(av(this,ug(r),t));throw new Error("Input type not supported")}transformToGeo(r,t){if(Zo(r))return this.transformForward(r,t);if(Xl(r))return this.transformForward(r,t);if(ol(r))return this.transformForward(r,t);if(Kl(r))return this.transformForward(r,t);if(sl(r))return this.transformForward(r,t);if(Jl(r))return this.transformForward(r,t);throw new Error("Input type not supported")}transformToGeoAsGeojson(r,t){if(Zo(r))return this.transformForwardAsGeojson(r,t);if(Xl(r))return this.transformForwardAsGeojson(r,t);if(ol(r))return this.transformForwardAsGeojson(r,t);if(Kl(r))return this.transformForwardAsGeojson(r,t);if(sl(r))return this.transformForwardAsGeojson(r,t);if(Jl(r))return this.transformForwardAsGeojson(r,t);throw new Error("Input type not supported")}transformToResource(r,t){if(Zo(r))return this.transformBackward(r,t);if(Xl(r))return this.transformBackward(r,t);if(ol(r))return this.transformBackward(r,t);if(Kl(r))return this.transformBackward(r,t);if(sl(r))return this.transformBackward(r,t);if(Jl(r))return this.transformBackward(r,t);throw new Error("Input type not supported")}transformToResourceAsGeojson(r,t){if(Zo(r))return this.transformBackwardAsGeojson(r,t);if(Xl(r))return this.transformBackwardAsGeojson(r,t);if(ol(r))return this.transformBackwardAsGeojson(r,t);if(Kl(r))return this.transformBackwardAsGeojson(r,t);if(sl(r))return this.transformBackwardAsGeojson(r,t);if(Jl(r))return this.transformBackwardAsGeojson(r,t);throw new Error("Input type not supported")}transformSvgToGeojson(r,t){if(r.type==="circle")return this.transformForwardAsGeojson(r.coordinates);if(r.type==="line")return this.transformForwardAsGeojson(r.coordinates,t);if(r.type==="polyline")return this.transformForwardAsGeojson(r.coordinates,t);if(r.type==="rect")return this.transformForwardAsGeojson([r.coordinates],t);if(r.type==="polygon")return this.transformForwardAsGeojson([r.coordinates],t);throw new Error("Unsupported SVG geometry")}transformGeojsonToSvg(r,t){if(r.type==="Point")return{type:"circle",coordinates:this.transformBackward(r)};if(r.type==="LineString")return{type:"polyline",coordinates:this.transformBackward(r,t)};if(r.type==="Polygon")return{type:"polygon",coordinates:this.transformBackward(r,t)[0]};throw new Error("Unsupported GeoJSON geometry")}}A1=new WeakSet,GP=function(){return Tp(this,kv,Fw).call(this,this.sourcePoints,this.destinationPoints)},O1=new WeakSet,qP=function(){return Tp(this,kv,Fw).call(this,this.destinationPoints,this.sourcePoints)},kv=new WeakSet,Fw=function(n,r){if(this.type==="helmert")return new o7(n,r);if(this.type==="polynomial1"||this.type==="polynomial")return new Dw(n,r);if(this.type==="polynomial2")return new Dw(n,r,2);if(this.type==="polynomial3")return new Dw(n,r,3);if(this.type==="projective")return new s7(n,r);if(this.type==="thinPlateSpline")return new l7(n,r,c7,u7);throw new Error(`Unsupported transformation type: ${this.type}`)};function p7(n){return Math.sqrt(Math.pow(n[1][0]-n[0][0],2)+Math.pow(n[1][1]-n[0][1],2))}function f7(n){return Math.atan2(n[1][1]-n[0][1],n[1][0]-n[0][0])}function g7(n,r,t){return[n[0]+Math.cos(t)*r,n[1]+Math.sin(t)*r]}function m7(n,r){let t=n[0];const o=[t];for(;p7([t,n[1]])>r;){const l=g7(t,r,f7(n));o.push(l),t=l}return o}function v7(n,r){n=[...n,n[0]];let t=[];for(let o=0;o<n.length-1;o++)t=t.concat(m7([n[o],n[o+1]],r));return t}function y7(n,r){const t=[],o=Gn(n);for(let l=o[0]+r,u=0;l<=o[2];u++,l+=r)for(let d=o[1]+r,f=0;d<=o[3];f++,d+=r)t.push([l,d]);return t}var z1={},b7={get exports(){return z1},set exports(n){z1=n}},VP=w7,TT=+(Math.pow(2,27)+1);function w7(n,r,t){var o=n*r,l=TT*n,u=l-n,d=l-u,f=n-d,m=TT*r,v=m-r,_=m-v,k=r-_,C=o-d*_,M=C-f*_,I=M-d*k,F=f*k-I;return t?(t[0]=F,t[1]=o,t):[F,o]}var x7=k7;function _7(n,r){var t=n+r,o=t-n,l=t-o,u=r-o,d=n-l,f=d+u;return f?[f,t]:[t]}function k7(n,r){var t=n.length|0,o=r.length|0;if(t===1&&o===1)return _7(n[0],r[0]);var l=t+o,u=new Array(l),d=0,f=0,m=0,v=Math.abs,_=n[f],k=v(_),C=r[m],M=v(C),I,F;k<M?(F=_,f+=1,f<t&&(_=n[f],k=v(_))):(F=C,m+=1,m<o&&(C=r[m],M=v(C))),f<t&&k<M||m>=o?(I=_,f+=1,f<t&&(_=n[f],k=v(_))):(I=C,m+=1,m<o&&(C=r[m],M=v(C)));for(var H=I+F,U=H-I,J=F-U,G=J,Z=H,at,mt,ft,ot,V;f<t&&m<o;)k<M?(I=_,f+=1,f<t&&(_=n[f],k=v(_))):(I=C,m+=1,m<o&&(C=r[m],M=v(C))),F=G,H=I+F,U=H-I,J=F-U,J&&(u[d++]=J),at=Z+H,mt=at-Z,ft=at-mt,ot=H-mt,V=Z-ft,G=V+ot,Z=at;for(;f<t;)I=_,F=G,H=I+F,U=H-I,J=F-U,J&&(u[d++]=J),at=Z+H,mt=at-Z,ft=at-mt,ot=H-mt,V=Z-ft,G=V+ot,Z=at,f+=1,f<t&&(_=n[f]);for(;m<o;)I=C,F=G,H=I+F,U=H-I,J=F-U,J&&(u[d++]=J),at=Z+H,mt=at-Z,ft=at-mt,ot=H-mt,V=Z-ft,G=V+ot,Z=at,m+=1,m<o&&(C=r[m]);return G&&(u[d++]=G),Z&&(u[d++]=Z),d||(u[d++]=0),u.length=d,u}var E7=T7;function T7(n,r,t){var o=n+r,l=o-n,u=o-l,d=r-l,f=n-u;return t?(t[0]=f+d,t[1]=o,t):[f+d,o]}var Bw=VP,S7=E7,C7=P7;function P7(n,r){var t=n.length;if(t===1){var o=Bw(n[0],r);return o[0]?o:[o[1]]}var l=new Array(2*t),u=[.1,.1],d=[.1,.1],f=0;Bw(n[0],r,u),u[0]&&(l[f++]=u[0]);for(var m=1;m<t;++m){Bw(n[m],r,d);var v=u[1];S7(v,d[0],u),u[0]&&(l[f++]=u[0]);var _=d[1],k=u[1],C=_+k,M=C-_,I=k-M;u[1]=C,I&&(l[f++]=I)}return u[1]&&(l[f++]=u[1]),f===0&&(l[f++]=0),l.length=f,l}var M7=L7;function I7(n,r){var t=n+r,o=t-n,l=t-o,u=r-o,d=n-l,f=d+u;return f?[f,t]:[t]}function L7(n,r){var t=n.length|0,o=r.length|0;if(t===1&&o===1)return I7(n[0],-r[0]);var l=t+o,u=new Array(l),d=0,f=0,m=0,v=Math.abs,_=n[f],k=v(_),C=-r[m],M=v(C),I,F;k<M?(F=_,f+=1,f<t&&(_=n[f],k=v(_))):(F=C,m+=1,m<o&&(C=-r[m],M=v(C))),f<t&&k<M||m>=o?(I=_,f+=1,f<t&&(_=n[f],k=v(_))):(I=C,m+=1,m<o&&(C=-r[m],M=v(C)));for(var H=I+F,U=H-I,J=F-U,G=J,Z=H,at,mt,ft,ot,V;f<t&&m<o;)k<M?(I=_,f+=1,f<t&&(_=n[f],k=v(_))):(I=C,m+=1,m<o&&(C=-r[m],M=v(C))),F=G,H=I+F,U=H-I,J=F-U,J&&(u[d++]=J),at=Z+H,mt=at-Z,ft=at-mt,ot=H-mt,V=Z-ft,G=V+ot,Z=at;for(;f<t;)I=_,F=G,H=I+F,U=H-I,J=F-U,J&&(u[d++]=J),at=Z+H,mt=at-Z,ft=at-mt,ot=H-mt,V=Z-ft,G=V+ot,Z=at,f+=1,f<t&&(_=n[f]);for(;m<o;)I=C,F=G,H=I+F,U=H-I,J=F-U,J&&(u[d++]=J),at=Z+H,mt=at-Z,ft=at-mt,ot=H-mt,V=Z-ft,G=V+ot,Z=at,m+=1,m<o&&(C=-r[m]);return G&&(u[d++]=G),Z&&(u[d++]=Z),d||(u[d++]=0),u.length=d,u}(function(n){var r=VP,t=x7,o=C7,l=M7,u=5,d=11102230246251565e-32,f=(3+16*d)*d,m=(7+56*d)*d;function v(G,Z,at,mt){return function(ft,ot,V){var nt=G(G(Z(ot[1],V[0]),Z(-V[1],ot[0])),G(Z(ft[1],ot[0]),Z(-ot[1],ft[0]))),ut=G(Z(ft[1],V[0]),Z(-V[1],ft[0])),gt=mt(nt,ut);return gt[gt.length-1]}}function _(G,Z,at,mt){return function(ft,ot,V,nt){var ut=G(G(at(G(Z(V[1],nt[0]),Z(-nt[1],V[0])),ot[2]),G(at(G(Z(ot[1],nt[0]),Z(-nt[1],ot[0])),-V[2]),at(G(Z(ot[1],V[0]),Z(-V[1],ot[0])),nt[2]))),G(at(G(Z(ot[1],nt[0]),Z(-nt[1],ot[0])),ft[2]),G(at(G(Z(ft[1],nt[0]),Z(-nt[1],ft[0])),-ot[2]),at(G(Z(ft[1],ot[0]),Z(-ot[1],ft[0])),nt[2])))),gt=G(G(at(G(Z(V[1],nt[0]),Z(-nt[1],V[0])),ft[2]),G(at(G(Z(ft[1],nt[0]),Z(-nt[1],ft[0])),-V[2]),at(G(Z(ft[1],V[0]),Z(-V[1],ft[0])),nt[2]))),G(at(G(Z(ot[1],V[0]),Z(-V[1],ot[0])),ft[2]),G(at(G(Z(ft[1],V[0]),Z(-V[1],ft[0])),-ot[2]),at(G(Z(ft[1],ot[0]),Z(-ot[1],ft[0])),V[2])))),Jt=mt(ut,gt);return Jt[Jt.length-1]}}function k(G,Z,at,mt){return function(ft,ot,V,nt,ut){var gt=G(G(G(at(G(at(G(Z(nt[1],ut[0]),Z(-ut[1],nt[0])),V[2]),G(at(G(Z(V[1],ut[0]),Z(-ut[1],V[0])),-nt[2]),at(G(Z(V[1],nt[0]),Z(-nt[1],V[0])),ut[2]))),ot[3]),G(at(G(at(G(Z(nt[1],ut[0]),Z(-ut[1],nt[0])),ot[2]),G(at(G(Z(ot[1],ut[0]),Z(-ut[1],ot[0])),-nt[2]),at(G(Z(ot[1],nt[0]),Z(-nt[1],ot[0])),ut[2]))),-V[3]),at(G(at(G(Z(V[1],ut[0]),Z(-ut[1],V[0])),ot[2]),G(at(G(Z(ot[1],ut[0]),Z(-ut[1],ot[0])),-V[2]),at(G(Z(ot[1],V[0]),Z(-V[1],ot[0])),ut[2]))),nt[3]))),G(at(G(at(G(Z(V[1],nt[0]),Z(-nt[1],V[0])),ot[2]),G(at(G(Z(ot[1],nt[0]),Z(-nt[1],ot[0])),-V[2]),at(G(Z(ot[1],V[0]),Z(-V[1],ot[0])),nt[2]))),-ut[3]),G(at(G(at(G(Z(nt[1],ut[0]),Z(-ut[1],nt[0])),ot[2]),G(at(G(Z(ot[1],ut[0]),Z(-ut[1],ot[0])),-nt[2]),at(G(Z(ot[1],nt[0]),Z(-nt[1],ot[0])),ut[2]))),ft[3]),at(G(at(G(Z(nt[1],ut[0]),Z(-ut[1],nt[0])),ft[2]),G(at(G(Z(ft[1],ut[0]),Z(-ut[1],ft[0])),-nt[2]),at(G(Z(ft[1],nt[0]),Z(-nt[1],ft[0])),ut[2]))),-ot[3])))),G(G(at(G(at(G(Z(ot[1],ut[0]),Z(-ut[1],ot[0])),ft[2]),G(at(G(Z(ft[1],ut[0]),Z(-ut[1],ft[0])),-ot[2]),at(G(Z(ft[1],ot[0]),Z(-ot[1],ft[0])),ut[2]))),nt[3]),G(at(G(at(G(Z(ot[1],nt[0]),Z(-nt[1],ot[0])),ft[2]),G(at(G(Z(ft[1],nt[0]),Z(-nt[1],ft[0])),-ot[2]),at(G(Z(ft[1],ot[0]),Z(-ot[1],ft[0])),nt[2]))),-ut[3]),at(G(at(G(Z(V[1],nt[0]),Z(-nt[1],V[0])),ot[2]),G(at(G(Z(ot[1],nt[0]),Z(-nt[1],ot[0])),-V[2]),at(G(Z(ot[1],V[0]),Z(-V[1],ot[0])),nt[2]))),ft[3]))),G(at(G(at(G(Z(V[1],nt[0]),Z(-nt[1],V[0])),ft[2]),G(at(G(Z(ft[1],nt[0]),Z(-nt[1],ft[0])),-V[2]),at(G(Z(ft[1],V[0]),Z(-V[1],ft[0])),nt[2]))),-ot[3]),G(at(G(at(G(Z(ot[1],nt[0]),Z(-nt[1],ot[0])),ft[2]),G(at(G(Z(ft[1],nt[0]),Z(-nt[1],ft[0])),-ot[2]),at(G(Z(ft[1],ot[0]),Z(-ot[1],ft[0])),nt[2]))),V[3]),at(G(at(G(Z(ot[1],V[0]),Z(-V[1],ot[0])),ft[2]),G(at(G(Z(ft[1],V[0]),Z(-V[1],ft[0])),-ot[2]),at(G(Z(ft[1],ot[0]),Z(-ot[1],ft[0])),V[2]))),-nt[3]))))),Jt=G(G(G(at(G(at(G(Z(nt[1],ut[0]),Z(-ut[1],nt[0])),V[2]),G(at(G(Z(V[1],ut[0]),Z(-ut[1],V[0])),-nt[2]),at(G(Z(V[1],nt[0]),Z(-nt[1],V[0])),ut[2]))),ft[3]),at(G(at(G(Z(nt[1],ut[0]),Z(-ut[1],nt[0])),ft[2]),G(at(G(Z(ft[1],ut[0]),Z(-ut[1],ft[0])),-nt[2]),at(G(Z(ft[1],nt[0]),Z(-nt[1],ft[0])),ut[2]))),-V[3])),G(at(G(at(G(Z(V[1],ut[0]),Z(-ut[1],V[0])),ft[2]),G(at(G(Z(ft[1],ut[0]),Z(-ut[1],ft[0])),-V[2]),at(G(Z(ft[1],V[0]),Z(-V[1],ft[0])),ut[2]))),nt[3]),at(G(at(G(Z(V[1],nt[0]),Z(-nt[1],V[0])),ft[2]),G(at(G(Z(ft[1],nt[0]),Z(-nt[1],ft[0])),-V[2]),at(G(Z(ft[1],V[0]),Z(-V[1],ft[0])),nt[2]))),-ut[3]))),G(G(at(G(at(G(Z(V[1],ut[0]),Z(-ut[1],V[0])),ot[2]),G(at(G(Z(ot[1],ut[0]),Z(-ut[1],ot[0])),-V[2]),at(G(Z(ot[1],V[0]),Z(-V[1],ot[0])),ut[2]))),ft[3]),at(G(at(G(Z(V[1],ut[0]),Z(-ut[1],V[0])),ft[2]),G(at(G(Z(ft[1],ut[0]),Z(-ut[1],ft[0])),-V[2]),at(G(Z(ft[1],V[0]),Z(-V[1],ft[0])),ut[2]))),-ot[3])),G(at(G(at(G(Z(ot[1],ut[0]),Z(-ut[1],ot[0])),ft[2]),G(at(G(Z(ft[1],ut[0]),Z(-ut[1],ft[0])),-ot[2]),at(G(Z(ft[1],ot[0]),Z(-ot[1],ft[0])),ut[2]))),V[3]),at(G(at(G(Z(ot[1],V[0]),Z(-V[1],ot[0])),ft[2]),G(at(G(Z(ft[1],V[0]),Z(-V[1],ft[0])),-ot[2]),at(G(Z(ft[1],ot[0]),Z(-ot[1],ft[0])),V[2]))),-ut[3])))),re=mt(gt,Jt);return re[re.length-1]}}function C(G){var Z=G===3?v:G===4?_:k;return Z(t,r,o,l)}var M=C(3),I=C(4),F=[function(){return 0},function(){return 0},function(G,Z){return Z[0]-G[0]},function(G,Z,at){var mt=(G[1]-at[1])*(Z[0]-at[0]),ft=(G[0]-at[0])*(Z[1]-at[1]),ot=mt-ft,V;if(mt>0){if(ft<=0)return ot;V=mt+ft}else if(mt<0){if(ft>=0)return ot;V=-(mt+ft)}else return ot;var nt=f*V;return ot>=nt||ot<=-nt?ot:M(G,Z,at)},function(G,Z,at,mt){var ft=G[0]-mt[0],ot=Z[0]-mt[0],V=at[0]-mt[0],nt=G[1]-mt[1],ut=Z[1]-mt[1],gt=at[1]-mt[1],Jt=G[2]-mt[2],re=Z[2]-mt[2],Xt=at[2]-mt[2],Ct=ot*gt,Kt=V*ut,Zt=V*nt,Pe=ft*gt,bt=ft*ut,At=ot*nt,qt=Jt*(Ct-Kt)+re*(Zt-Pe)+Xt*(bt-At),ee=(Math.abs(Ct)+Math.abs(Kt))*Math.abs(Jt)+(Math.abs(Zt)+Math.abs(Pe))*Math.abs(re)+(Math.abs(bt)+Math.abs(At))*Math.abs(Xt),pe=m*ee;return qt>pe||-qt>pe?qt:I(G,Z,at,mt)}];function H(G){var Z=F[G.length];return Z||(Z=F[G.length]=C(G.length)),Z.apply(void 0,G)}function U(G,Z,at,mt,ft,ot,V){return function(nt,ut,gt,Jt,re){switch(arguments.length){case 0:case 1:return 0;case 2:return mt(nt,ut);case 3:return ft(nt,ut,gt);case 4:return ot(nt,ut,gt,Jt);case 5:return V(nt,ut,gt,Jt,re)}for(var Xt=new Array(arguments.length),Ct=0;Ct<arguments.length;++Ct)Xt[Ct]=arguments[Ct];return G(Xt)}}function J(){for(;F.length<=u;)F.push(C(F.length));n.exports=U.apply(void 0,[H].concat(F));for(var G=0;G<=u;++G)n.exports[G]=F[G]}J()})(b7);var R7=A7,lv=z1;function A7(n,r){for(var t=r[0],o=r[1],l=n.length,u=1,d=l,f=0,m=l-1;f<d;m=f++){var v=n[f],_=n[m],k=v[1],C=_[1];if(C<k){if(C<o&&o<k){var M=lv(v,_,r);if(M===0)return 0;u^=0<M|0}else if(o===k){var I=n[(f+1)%l],F=I[1];if(k<F){var M=lv(v,_,r);if(M===0)return 0;u^=0<M|0}}}else if(k<C){if(k<o&&o<C){var M=lv(v,_,r);if(M===0)return 0;u^=M<0|0}else if(o===k){var I=n[(f+1)%l],F=I[1];if(F<k){var M=lv(v,_,r);if(M===0)return 0;u^=M<0|0}}}else if(o===k){var H=Math.min(v[0],_[0]),U=Math.max(v[0],_[0]);if(f===0){for(;m>0;){var J=(m+l-1)%l,G=n[J];if(G[1]!==o)break;var Z=G[0];H=Math.min(H,Z),U=Math.max(U,Z),m=J}if(m===0)return H<=t&&t<=U?0:1;d=m+1}for(var at=n[(m+l-1)%l][1];f+1<d;){var G=n[f+1];if(G[1]!==o)break;var Z=G[0];H=Math.min(H,Z),U=Math.max(U,Z),f+=1}if(H<=t&&t<=U)return 0;var mt=n[(f+1)%l][1];t<H&&at<o!=mt<o&&(u^=1)}}return 2*u-1}var Ev={};const O7="1.5.0",z7={version:O7};function WP(n){return"("+n.x+";"+n.y+")"}function N7(n){var r=n.toString();return r==="[object Object]"?WP(n):r}function D7(n,r){return n.y===r.y?n.x-r.x:n.y-r.y}function F7(n,r){return n.x===r.x&&n.y===r.y}var qx={toString:N7,toStringBase:WP,compare:D7,equals:F7},B7=qx,sy=function(n,r){this.name="PointError",this.points=r=r||[],this.message=n||"Invalid Points!";for(var t=0;t<r.length;t++)this.message+=" "+B7.toString(r[t])};sy.prototype=new Error;sy.prototype.constructor=sy;var Vx=sy,um=qx,gi=function(n,r){this.x=+n||0,this.y=+r||0,this._p2t_edge_list=null};gi.prototype.toString=function(){return um.toStringBase(this)};gi.prototype.toJSON=function(){return{x:this.x,y:this.y}};gi.prototype.clone=function(){return new gi(this.x,this.y)};gi.prototype.set_zero=function(){return this.x=0,this.y=0,this};gi.prototype.set=function(n,r){return this.x=+n||0,this.y=+r||0,this};gi.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this};gi.prototype.add=function(n){return this.x+=n.x,this.y+=n.y,this};gi.prototype.sub=function(n){return this.x-=n.x,this.y-=n.y,this};gi.prototype.mul=function(n){return this.x*=n,this.y*=n,this};gi.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};gi.prototype.normalize=function(){var n=this.length();return this.x/=n,this.y/=n,n};gi.prototype.equals=function(n){return this.x===n.x&&this.y===n.y};gi.negate=function(n){return new gi(-n.x,-n.y)};gi.add=function(n,r){return new gi(n.x+r.x,n.y+r.y)};gi.sub=function(n,r){return new gi(n.x-r.x,n.y-r.y)};gi.mul=function(n,r){return new gi(n*r.x,n*r.y)};gi.cross=function(n,r){return typeof n=="number"?typeof r=="number"?n*r:new gi(-n*r.y,n*r.x):typeof r=="number"?new gi(r*n.y,-r*n.x):n.x*r.y-n.y*r.x};gi.toString=um.toString;gi.compare=um.compare;gi.cmp=um.compare;gi.equals=um.equals;gi.dot=function(n,r){return n.x*r.x+n.y*r.y};var ZP=gi,j7=qx,$r=function(n,r,t){this.points_=[n,r,t],this.neighbors_=[null,null,null],this.interior_=!1,this.constrained_edge=[!1,!1,!1],this.delaunay_edge=[!1,!1,!1]},jw=j7.toString;$r.prototype.toString=function(){return"["+jw(this.points_[0])+jw(this.points_[1])+jw(this.points_[2])+"]"};$r.prototype.getPoint=function(n){return this.points_[n]};$r.prototype.GetPoint=$r.prototype.getPoint;$r.prototype.getPoints=function(){return this.points_};$r.prototype.getNeighbor=function(n){return this.neighbors_[n]};$r.prototype.containsPoint=function(n){var r=this.points_;return n===r[0]||n===r[1]||n===r[2]};$r.prototype.containsEdge=function(n){return this.containsPoint(n.p)&&this.containsPoint(n.q)};$r.prototype.containsPoints=function(n,r){return this.containsPoint(n)&&this.containsPoint(r)};$r.prototype.isInterior=function(){return this.interior_};$r.prototype.setInterior=function(n){return this.interior_=n,this};$r.prototype.markNeighborPointers=function(n,r,t){var o=this.points_;if(n===o[2]&&r===o[1]||n===o[1]&&r===o[2])this.neighbors_[0]=t;else if(n===o[0]&&r===o[2]||n===o[2]&&r===o[0])this.neighbors_[1]=t;else if(n===o[0]&&r===o[1]||n===o[1]&&r===o[0])this.neighbors_[2]=t;else throw new Error("poly2tri Invalid Triangle.markNeighborPointers() call")};$r.prototype.markNeighbor=function(n){var r=this.points_;n.containsPoints(r[1],r[2])?(this.neighbors_[0]=n,n.markNeighborPointers(r[1],r[2],this)):n.containsPoints(r[0],r[2])?(this.neighbors_[1]=n,n.markNeighborPointers(r[0],r[2],this)):n.containsPoints(r[0],r[1])&&(this.neighbors_[2]=n,n.markNeighborPointers(r[0],r[1],this))};$r.prototype.clearNeighbors=function(){this.neighbors_[0]=null,this.neighbors_[1]=null,this.neighbors_[2]=null};$r.prototype.clearDelaunayEdges=function(){this.delaunay_edge[0]=!1,this.delaunay_edge[1]=!1,this.delaunay_edge[2]=!1};$r.prototype.pointCW=function(n){var r=this.points_;return n===r[0]?r[2]:n===r[1]?r[0]:n===r[2]?r[1]:null};$r.prototype.pointCCW=function(n){var r=this.points_;return n===r[0]?r[1]:n===r[1]?r[2]:n===r[2]?r[0]:null};$r.prototype.neighborCW=function(n){return n===this.points_[0]?this.neighbors_[1]:n===this.points_[1]?this.neighbors_[2]:this.neighbors_[0]};$r.prototype.neighborCCW=function(n){return n===this.points_[0]?this.neighbors_[2]:n===this.points_[1]?this.neighbors_[0]:this.neighbors_[1]};$r.prototype.getConstrainedEdgeCW=function(n){return n===this.points_[0]?this.constrained_edge[1]:n===this.points_[1]?this.constrained_edge[2]:this.constrained_edge[0]};$r.prototype.getConstrainedEdgeCCW=function(n){return n===this.points_[0]?this.constrained_edge[2]:n===this.points_[1]?this.constrained_edge[0]:this.constrained_edge[1]};$r.prototype.getConstrainedEdgeAcross=function(n){return n===this.points_[0]?this.constrained_edge[0]:n===this.points_[1]?this.constrained_edge[1]:this.constrained_edge[2]};$r.prototype.setConstrainedEdgeCW=function(n,r){n===this.points_[0]?this.constrained_edge[1]=r:n===this.points_[1]?this.constrained_edge[2]=r:this.constrained_edge[0]=r};$r.prototype.setConstrainedEdgeCCW=function(n,r){n===this.points_[0]?this.constrained_edge[2]=r:n===this.points_[1]?this.constrained_edge[0]=r:this.constrained_edge[1]=r};$r.prototype.getDelaunayEdgeCW=function(n){return n===this.points_[0]?this.delaunay_edge[1]:n===this.points_[1]?this.delaunay_edge[2]:this.delaunay_edge[0]};$r.prototype.getDelaunayEdgeCCW=function(n){return n===this.points_[0]?this.delaunay_edge[2]:n===this.points_[1]?this.delaunay_edge[0]:this.delaunay_edge[1]};$r.prototype.setDelaunayEdgeCW=function(n,r){n===this.points_[0]?this.delaunay_edge[1]=r:n===this.points_[1]?this.delaunay_edge[2]=r:this.delaunay_edge[0]=r};$r.prototype.setDelaunayEdgeCCW=function(n,r){n===this.points_[0]?this.delaunay_edge[2]=r:n===this.points_[1]?this.delaunay_edge[0]=r:this.delaunay_edge[1]=r};$r.prototype.neighborAcross=function(n){return n===this.points_[0]?this.neighbors_[0]:n===this.points_[1]?this.neighbors_[1]:this.neighbors_[2]};$r.prototype.oppositePoint=function(n,r){var t=n.pointCW(r);return this.pointCW(t)};$r.prototype.legalize=function(n,r){var t=this.points_;if(n===t[0])t[1]=t[0],t[0]=t[2],t[2]=r;else if(n===t[1])t[2]=t[1],t[1]=t[0],t[0]=r;else if(n===t[2])t[0]=t[2],t[2]=t[1],t[1]=r;else throw new Error("poly2tri Invalid Triangle.legalize() call")};$r.prototype.index=function(n){var r=this.points_;if(n===r[0])return 0;if(n===r[1])return 1;if(n===r[2])return 2;throw new Error("poly2tri Invalid Triangle.index() call")};$r.prototype.edgeIndex=function(n,r){var t=this.points_;if(n===t[0]){if(r===t[1])return 2;if(r===t[2])return 1}else if(n===t[1]){if(r===t[2])return 0;if(r===t[0])return 2}else if(n===t[2]){if(r===t[0])return 1;if(r===t[1])return 0}return-1};$r.prototype.markConstrainedEdgeByIndex=function(n){this.constrained_edge[n]=!0};$r.prototype.markConstrainedEdgeByEdge=function(n){this.markConstrainedEdgeByPoints(n.p,n.q)};$r.prototype.markConstrainedEdgeByPoints=function(n,r){var t=this.points_;r===t[0]&&n===t[1]||r===t[1]&&n===t[0]?this.constrained_edge[2]=!0:r===t[0]&&n===t[2]||r===t[2]&&n===t[0]?this.constrained_edge[1]=!0:(r===t[1]&&n===t[2]||r===t[2]&&n===t[1])&&(this.constrained_edge[0]=!0)};var Wx=$r,Zx={};function H7(n,r){if(!n)throw new Error(r||"Assert Failed")}var U7=H7,Qg={},G7={get exports(){return Qg},set exports(n){Qg=n}},q7=function(n,r){this.point=n,this.triangle=r||null,this.next=null,this.prev=null,this.value=n.x},bl=function(n,r){this.head_=n,this.tail_=r,this.search_node_=n};bl.prototype.head=function(){return this.head_};bl.prototype.setHead=function(n){this.head_=n};bl.prototype.tail=function(){return this.tail_};bl.prototype.setTail=function(n){this.tail_=n};bl.prototype.search=function(){return this.search_node_};bl.prototype.setSearch=function(n){this.search_node_=n};bl.prototype.findSearchNode=function(){return this.search_node_};bl.prototype.locateNode=function(n){var r=this.search_node_;if(n<r.value){for(;r=r.prev;)if(n>=r.value)return this.search_node_=r,r}else for(;r=r.next;)if(n<r.value)return this.search_node_=r.prev,r.prev;return null};bl.prototype.locatePoint=function(n){var r=n.x,t=this.findSearchNode(r),o=t.point.x;if(r===o){if(n!==t.point)if(n===t.prev.point)t=t.prev;else if(n===t.next.point)t=t.next;else throw new Error("poly2tri Invalid AdvancingFront.locatePoint() call")}else if(r<o)for(;(t=t.prev)&&n!==t.point;);else for(;(t=t.next)&&n!==t.point;);return t&&(this.search_node_=t),t};G7.exports=bl;Qg.Node=q7;var Rp={},$g=1e-12;Rp.EPSILON=$g;var Tv={CW:1,CCW:-1,COLLINEAR:0};Rp.Orientation=Tv;function V7(n,r,t){var o=(n.x-t.x)*(r.y-t.y),l=(n.y-t.y)*(r.x-t.x),u=o-l;return u>-$g&&u<$g?Tv.COLLINEAR:u>0?Tv.CCW:Tv.CW}Rp.orient2d=V7;function W7(n,r,t,o){var l=(n.x-r.x)*(o.y-r.y)-(o.x-r.x)*(n.y-r.y);if(l>=-$g)return!1;var u=(n.x-t.x)*(o.y-t.y)-(o.x-t.x)*(n.y-t.y);return!(u<=$g)}Rp.inScanArea=W7;function Z7(n,r,t){var o=r.x-n.x,l=r.y-n.y,u=t.x-n.x,d=t.y-n.y;return o*u+l*d<0}Rp.isAngleObtuse=Z7;var Yx=U7,ay=Vx,YP=Wx,Y7=Qg.Node,hm=Rp,X7=hm.EPSILON,ln=hm.Orientation,Ln=hm.orient2d,XP=hm.inScanArea,ST=hm.isAngleObtuse;function K7(n){n.initTriangulation(),n.createAdvancingFront(),J7(n),Q7(n)}function J7(n){var r,t=n.pointCount();for(r=1;r<t;++r)for(var o=n.getPoint(r),l=$7(n,o),u=o._p2t_edge_list,d=0;u&&d<u.length;++d)t9(n,u[d],l)}function Q7(n){for(var r=n.front().head().next.triangle,t=n.front().head().next.point;!r.getConstrainedEdgeCW(t);)r=r.neighborCCW(t);n.meshClean(r)}function $7(n,r){var t=n.locateNode(r),o=e9(n,r,t);return r.x<=t.point.x+X7&&Sp(n,t),r9(n,o),o}function t9(n,r,t){n.edge_event.constrained_edge=r,n.edge_event.right=r.p.x>r.q.x,!KP(t.triangle,r.p,r.q)&&(a9(n,r,t),Xx(n,r.p,r.q,t.triangle,r.q))}function Xx(n,r,t,o,l){if(!KP(o,r,t)){var u=o.pointCCW(l),d=Ln(t,u,r);if(d===ln.COLLINEAR)throw new ay("poly2tri EdgeEvent: Collinear not supported!",[t,u,r]);var f=o.pointCW(l),m=Ln(t,f,r);if(m===ln.COLLINEAR)throw new ay("poly2tri EdgeEvent: Collinear not supported!",[t,f,r]);d===m?(d===ln.CW?o=o.neighborCCW(l):o=o.neighborCW(l),Xx(n,r,t,o,l)):Qx(n,r,t,o,l)}}function KP(n,r,t){var o=n.edgeIndex(r,t);if(o!==-1){n.markConstrainedEdgeByIndex(o);var l=n.getNeighbor(o);return l&&l.markConstrainedEdgeByPoints(r,t),!0}return!1}function e9(n,r,t){var o=new YP(r,t.point,t.next.point);o.markNeighbor(t.triangle),n.addToMap(o);var l=new Y7(r);return l.next=t.next,l.prev=t,t.next.prev=l,t.next=l,bu(n,o)||n.mapTriangleToNodes(o),l}function Sp(n,r){var t=new YP(r.prev.point,r.point,r.next.point);t.markNeighbor(r.prev.triangle),t.markNeighbor(r.triangle),n.addToMap(t),r.prev.next=r.next,r.next.prev=r.prev,bu(n,t)||n.mapTriangleToNodes(t)}function r9(n,r){for(var t=r.next;t.next&&!ST(t.point,t.next.point,t.prev.point);)Sp(n,t),t=t.next;for(t=r.prev;t.prev&&!ST(t.point,t.next.point,t.prev.point);)Sp(n,t),t=t.prev;r.next&&r.next.next&&i9(r)&&o9(n,r)}function i9(n){var r=n.point.x-n.next.next.point.x,t=n.point.y-n.next.next.point.y;return Yx(t>=0,"unordered y"),r>=0||Math.abs(r)<t}function bu(n,r){for(var t=0;t<3;++t)if(!r.delaunay_edge[t]){var o=r.getNeighbor(t);if(o){var l=r.getPoint(t),u=o.oppositePoint(r,l),d=o.index(u);if(o.constrained_edge[d]||o.delaunay_edge[d]){r.constrained_edge[t]=o.constrained_edge[d];continue}var f=n9(l,r.pointCCW(l),r.pointCW(l),u);if(f){r.delaunay_edge[t]=!0,o.delaunay_edge[d]=!0,JP(r,l,o,u);var m=!bu(n,r);return m&&n.mapTriangleToNodes(r),m=!bu(n,o),m&&n.mapTriangleToNodes(o),r.delaunay_edge[t]=!1,o.delaunay_edge[d]=!1,!0}}}return!1}function n9(n,r,t,o){var l=n.x-o.x,u=n.y-o.y,d=r.x-o.x,f=r.y-o.y,m=l*f,v=d*u,_=m-v;if(_<=0)return!1;var k=t.x-o.x,C=t.y-o.y,M=k*u,I=l*C,F=M-I;if(F<=0)return!1;var H=d*C,U=k*f,J=l*l+u*u,G=d*d+f*f,Z=k*k+C*C,at=J*(H-U)+G*F+Z*_;return at>0}function JP(n,r,t,o){var l,u,d,f;l=n.neighborCCW(r),u=n.neighborCW(r),d=t.neighborCCW(o),f=t.neighborCW(o);var m,v,_,k;m=n.getConstrainedEdgeCCW(r),v=n.getConstrainedEdgeCW(r),_=t.getConstrainedEdgeCCW(o),k=t.getConstrainedEdgeCW(o);var C,M,I,F;C=n.getDelaunayEdgeCCW(r),M=n.getDelaunayEdgeCW(r),I=t.getDelaunayEdgeCCW(o),F=t.getDelaunayEdgeCW(o),n.legalize(r,o),t.legalize(o,r),t.setDelaunayEdgeCCW(r,C),n.setDelaunayEdgeCW(r,M),n.setDelaunayEdgeCCW(o,I),t.setDelaunayEdgeCW(o,F),t.setConstrainedEdgeCCW(r,m),n.setConstrainedEdgeCW(r,v),n.setConstrainedEdgeCCW(o,_),t.setConstrainedEdgeCW(o,k),n.clearNeighbors(),t.clearNeighbors(),l&&t.markNeighbor(l),u&&n.markNeighbor(u),d&&n.markNeighbor(d),f&&t.markNeighbor(f),n.markNeighbor(t)}function o9(n,r){for(Ln(r.point,r.next.point,r.next.next.point)===ln.CCW?n.basin.left_node=r.next.next:n.basin.left_node=r.next,n.basin.bottom_node=n.basin.left_node;n.basin.bottom_node.next&&n.basin.bottom_node.point.y>=n.basin.bottom_node.next.point.y;)n.basin.bottom_node=n.basin.bottom_node.next;if(n.basin.bottom_node!==n.basin.left_node){for(n.basin.right_node=n.basin.bottom_node;n.basin.right_node.next&&n.basin.right_node.point.y<n.basin.right_node.next.point.y;)n.basin.right_node=n.basin.right_node.next;n.basin.right_node!==n.basin.bottom_node&&(n.basin.width=n.basin.right_node.point.x-n.basin.left_node.point.x,n.basin.left_highest=n.basin.left_node.point.y>n.basin.right_node.point.y,QP(n,n.basin.bottom_node))}}function QP(n,r){if(!s9(n,r)){Sp(n,r);var t;if(!(r.prev===n.basin.left_node&&r.next===n.basin.right_node)){if(r.prev===n.basin.left_node){if(t=Ln(r.point,r.next.point,r.next.next.point),t===ln.CW)return;r=r.next}else if(r.next===n.basin.right_node){if(t=Ln(r.point,r.prev.point,r.prev.prev.point),t===ln.CCW)return;r=r.prev}else r.prev.point.y<r.next.point.y?r=r.prev:r=r.next;QP(n,r)}}}function s9(n,r){var t;return n.basin.left_highest?t=n.basin.left_node.point.y-r.point.y:t=n.basin.right_node.point.y-r.point.y,n.basin.width>t}function a9(n,r,t){n.edge_event.right?l9(n,r,t):c9(n,r,t)}function l9(n,r,t){for(;t.next.point.x<r.p.x;)Ln(r.q,t.next.point,r.p)===ln.CCW?$P(n,r,t):t=t.next}function $P(n,r,t){t.point.x<r.p.x&&(Ln(t.point,t.next.point,t.next.next.point)===ln.CCW?Kx(n,r,t):(tM(n,r,t),$P(n,r,t)))}function Kx(n,r,t){Sp(n,t.next),t.next.point!==r.p&&Ln(r.q,t.next.point,r.p)===ln.CCW&&Ln(t.point,t.next.point,t.next.next.point)===ln.CCW&&Kx(n,r,t)}function tM(n,r,t){Ln(t.next.point,t.next.next.point,t.next.next.next.point)===ln.CCW?Kx(n,r,t.next):Ln(r.q,t.next.next.point,r.p)===ln.CCW&&tM(n,r,t.next)}function c9(n,r,t){for(;t.prev.point.x>r.p.x;)Ln(r.q,t.prev.point,r.p)===ln.CW?eM(n,r,t):t=t.prev}function eM(n,r,t){t.point.x>r.p.x&&(Ln(t.point,t.prev.point,t.prev.prev.point)===ln.CW?Jx(n,r,t):(rM(n,r,t),eM(n,r,t)))}function rM(n,r,t){Ln(t.prev.point,t.prev.prev.point,t.prev.prev.prev.point)===ln.CW?Jx(n,r,t.prev):Ln(r.q,t.prev.prev.point,r.p)===ln.CW&&rM(n,r,t.prev)}function Jx(n,r,t){Sp(n,t.prev),t.prev.point!==r.p&&Ln(r.q,t.prev.point,r.p)===ln.CW&&Ln(t.point,t.prev.point,t.prev.prev.point)===ln.CW&&Jx(n,r,t)}function Qx(n,r,t,o,l){var u=o.neighborAcross(l);Yx(u,"FLIP failed due to missing triangle!");var d=u.oppositePoint(o,l);if(o.getConstrainedEdgeAcross(l)){var f=o.index(l);throw new ay("poly2tri Intersecting Constraints",[l,d,o.getPoint((f+1)%3),o.getPoint((f+2)%3)])}if(XP(l,o.pointCCW(l),o.pointCW(l),d))if(JP(o,l,u,d),n.mapTriangleToNodes(o),n.mapTriangleToNodes(u),l===t&&d===r)t===n.edge_event.constrained_edge.q&&r===n.edge_event.constrained_edge.p&&(o.markConstrainedEdgeByPoints(r,t),u.markConstrainedEdgeByPoints(r,t),bu(n,o),bu(n,u));else{var m=Ln(t,d,r);o=u9(n,m,o,u,l,d),Qx(n,r,t,o,l)}else{var v=iM(r,t,u,d);nM(n,r,t,o,u,v),Xx(n,r,t,o,l)}}function u9(n,r,t,o,l,u){var d;return r===ln.CCW?(d=o.edgeIndex(l,u),o.delaunay_edge[d]=!0,bu(n,o),o.clearDelaunayEdges(),t):(d=t.edgeIndex(l,u),t.delaunay_edge[d]=!0,bu(n,t),t.clearDelaunayEdges(),o)}function iM(n,r,t,o){var l=Ln(r,o,n);if(l===ln.CW)return t.pointCCW(o);if(l===ln.CCW)return t.pointCW(o);throw new ay("poly2tri [Unsupported] nextFlipPoint: opposing point on constrained edge!",[r,o,n])}function nM(n,r,t,o,l,u){var d=l.neighborAcross(u);Yx(d,"FLIP failed due to missing triangle");var f=d.oppositePoint(l,u);if(XP(t,o.pointCCW(t),o.pointCW(t),f))Qx(n,t,f,d,f);else{var m=iM(r,t,d,f);nM(n,r,t,o,d,m)}}Zx.triangulate=K7;var h9=Vx,ig=ZP,d9=Wx,p9=Zx,oM=Qg,Hw=oM.Node,CT=.3,f9=function(n,r){if(this.p=n,this.q=r,n.y>r.y)this.q=n,this.p=r;else if(n.y===r.y){if(n.x>r.x)this.q=n,this.p=r;else if(n.x===r.x)throw new h9("poly2tri Invalid Edge constructor: repeated points!",[n])}this.q._p2t_edge_list||(this.q._p2t_edge_list=[]),this.q._p2t_edge_list.push(this)},sM=function(){this.left_node=null,this.bottom_node=null,this.right_node=null,this.width=0,this.left_highest=!1};sM.prototype.clear=function(){this.left_node=null,this.bottom_node=null,this.right_node=null,this.width=0,this.left_highest=!1};var g9=function(){this.constrained_edge=null,this.right=!1},pi=function(n,r){r=r||{},this.triangles_=[],this.map_=[],this.points_=r.cloneArrays?n.slice(0):n,this.edge_list=[],this.pmin_=this.pmax_=null,this.front_=null,this.head_=null,this.tail_=null,this.af_head_=null,this.af_middle_=null,this.af_tail_=null,this.basin=new sM,this.edge_event=new g9,this.initEdges(this.points_)};pi.prototype.addHole=function(n){this.initEdges(n);var r,t=n.length;for(r=0;r<t;r++)this.points_.push(n[r]);return this};pi.prototype.AddHole=pi.prototype.addHole;pi.prototype.addHoles=function(n){var r,t=n.length;for(r=0;r<t;r++)this.initEdges(n[r]);return this.points_=this.points_.concat.apply(this.points_,n),this};pi.prototype.addPoint=function(n){return this.points_.push(n),this};pi.prototype.AddPoint=pi.prototype.addPoint;pi.prototype.addPoints=function(n){return this.points_=this.points_.concat(n),this};pi.prototype.triangulate=function(){return p9.triangulate(this),this};pi.prototype.getBoundingBox=function(){return{min:this.pmin_,max:this.pmax_}};pi.prototype.getTriangles=function(){return this.triangles_};pi.prototype.GetTriangles=pi.prototype.getTriangles;pi.prototype.front=function(){return this.front_};pi.prototype.pointCount=function(){return this.points_.length};pi.prototype.head=function(){return this.head_};pi.prototype.setHead=function(n){this.head_=n};pi.prototype.tail=function(){return this.tail_};pi.prototype.setTail=function(n){this.tail_=n};pi.prototype.getMap=function(){return this.map_};pi.prototype.initTriangulation=function(){var n=this.points_[0].x,r=this.points_[0].x,t=this.points_[0].y,o=this.points_[0].y,l,u=this.points_.length;for(l=1;l<u;l++){var d=this.points_[l];d.x>n&&(n=d.x),d.x<r&&(r=d.x),d.y>t&&(t=d.y),d.y<o&&(o=d.y)}this.pmin_=new ig(r,o),this.pmax_=new ig(n,t);var f=CT*(n-r),m=CT*(t-o);this.head_=new ig(n+f,o-m),this.tail_=new ig(r-f,o-m),this.points_.sort(ig.compare)};pi.prototype.initEdges=function(n){var r,t=n.length;for(r=0;r<t;++r)this.edge_list.push(new f9(n[r],n[(r+1)%t]))};pi.prototype.getPoint=function(n){return this.points_[n]};pi.prototype.addToMap=function(n){this.map_.push(n)};pi.prototype.locateNode=function(n){return this.front_.locateNode(n.x)};pi.prototype.createAdvancingFront=function(){var n,r,t,o=new d9(this.points_[0],this.tail_,this.head_);this.map_.push(o),n=new Hw(o.getPoint(1),o),r=new Hw(o.getPoint(0),o),t=new Hw(o.getPoint(2)),this.front_=new oM(n,t),n.next=r,r.next=t,r.prev=n,t.prev=r};pi.prototype.removeNode=function(n){};pi.prototype.mapTriangleToNodes=function(n){for(var r=0;r<3;++r)if(!n.getNeighbor(r)){var t=this.front_.locatePoint(n.pointCW(n.getPoint(r)));t&&(t.triangle=n)}};pi.prototype.removeFromMap=function(n){var r,t=this.map_,o=t.length;for(r=0;r<o;r++)if(t[r]===n){t.splice(r,1);break}};pi.prototype.meshClean=function(n){for(var r=[n],t,o;t=r.pop();)if(!t.isInterior())for(t.setInterior(!0),this.triangles_.push(t),o=0;o<3;o++)t.constrained_edge[o]||r.push(t.getNeighbor(o))};var m9=pi;(function(n){var r=globalThis.poly2tri;n.noConflict=function(){return globalThis.poly2tri=r,n},n.VERSION=z7.version,n.PointError=Vx,n.Point=ZP,n.Triangle=Wx,n.SweepContext=m9;var t=Zx;n.triangulate=t.triangulate,n.sweep={Triangulate:t.triangulate}})(Ev);function v9(n,r){const t=y7(n,r),o=new Ev.SweepContext(v7(n,r).map(l=>new Ev.Point(l[0],l[1])));for(let l=0;l<t.length;l++)R7(n,t[l])===-1&&o.addPoint(new Ev.Point(t[l][0],t[l][1]));try{o.triangulate()}catch{throw new Error("A Point Error occured during resource mask triangulation. This is typically because the resource mask contains duplicate or collinear points, or is self-intersecting.")}return o.getTriangles()}function y9(n,r){return v9(n,r).map(t=>t.getPoints().map(o=>[o.x,o.y]))}function ip(n,r){const t=r[0],o=r[1];return[n[0]*t+n[2]*o+n[4],n[1]*t+n[3]*o+n[5]]}function b9(){return[1,0,0,1,0,0]}function w9(n,r){const t=n[0],o=n[1],l=n[2],u=n[3],d=n[4],f=n[5],m=r[0],v=r[1],_=r[2],k=r[3],C=r[4],M=r[5];return[t*m+l*v,o*m+u*v,t*_+l*k,o*_+u*k,t*C+l*M+d,o*C+u*M+f]}function PT(n,r,t,o,l,u,d){const f=Math.sin(l),m=Math.cos(l);return[t*m,o*f,-t*f,o*m,u*t*m-d*t*f+n,u*o*f+d*o*m+r]}function x9(n){const r=_9(n),t=n[0],o=n[1],l=n[2],u=n[3],d=n[4],f=n[5];return[u/r,-o/r,-l/r,t/r,(l*f-u*d)/r,-(t*f-o*d)/r]}function _9(n){return n[0]*n[3]-n[1]*n[2]}function k9(n){const r=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return r[0]=n[0],r[1]=n[1],r[4]=n[2],r[5]=n[3],r[12]=n[4],r[13]=n[5],r}var Te;(function(n){n.GEOREFERENCEANNOTATIONADDED="georeferenceannotationadded",n.GEOREFERENCEANNOTATIONREMOVED="georeferenceannotationremoved",n.WARPEDMAPADDED="warpedmapadded",n.WARPEDMAPREMOVED="warpedmapremoved",n.WARPEDMAPENTER="warpedmapenter",n.WARPEDMAPLEAVE="warpedmapleave",n.IMAGEINFOLOADED="imageinfoloaded",n.TILEFETCHED="tilefetched",n.TILEFETCHERROR="tilefetcherror",n.MAPTILELOADED="maptileloaded",n.MAPTILEREMOVED="maptileremoved",n.FIRSTMAPTILELOADED="firstmaptileloaded",n.ALLREQUESTEDTILESLOADED="allrequestedtilesloaded",n.TEXTURESUPDATED="texturesupdated",n.ZINDICESCHANGES="zindiceschanged",n.RESOURCEMASKUPDATED="resourcemaskupdated",n.VISIBILITYCHANGED="visibilitychanged",n.TRANSFORMATIONCHANGED="transformationchanged",n.CHANGED="changed",n.CLEARED="cleared"})(Te||(Te={}));class Wr extends Event{constructor(r,t){super(r),this.data=t}}const E9=80,MT={maxOffsetRatio:.05,maxDepth:2},IT={maxOffsetRatio:.05,maxDepth:2};class T9 extends EventTarget{constructor(r,t,o,l=!0){var u;super(),this.resourceViewportRing=[],this.resourceTrianglePoints=[],this.resourceTrianglePointsByBestScaleFactor=new Map,this.projectedGeoCurrentTrianglePoints=[],this.projectedGeoNewTrianglePoints=[],this.mapId=r,this.georeferencedMap=t,this.gcps=this.georeferencedMap.gcps,this.projectedGcps=this.gcps.map(({geo:d,resource:f})=>({geo:JF(d),resource:f})),this.resourceMask=this.georeferencedMap.resourceMask,this.resourceMaskBbox=Gn(this.resourceMask),this.resourceFullMask=[[0,0],[this.georeferencedMap.resource.width,0],[this.georeferencedMap.resource.width,this.georeferencedMap.resource.height],[0,this.georeferencedMap.resource.height]],this.resourceFullMaskBbox=Gn(this.resourceFullMask),this.imageInfoCache=o,this.visible=l,this.transformationType=((u=this.georeferencedMap.transformation)==null?void 0:u.type)||"polynomial",this.updateTransformerProperties()}getViewportMask(r){return this.projectedGeoMask.map(t=>ip(r.projectedGeoToViewportTransform,t))}getViewportMaskBbox(r){return Gn(this.getViewportMask(r))}getApproxViewportMaskBbox(r){return Gn(Kg(this.projectedGeoMaskBbox).map(t=>ip(r.projectedGeoToViewportTransform,t)))}getViewportFullMask(r){return this.projectedGeoFullMask.map(t=>ip(r.projectedGeoToViewportTransform,t))}getViewportFullMaskBbox(r){return Gn(this.getViewportFullMask(r))}getApproxViewportFullMaskBbox(r){return Gn(Kg(this.projectedGeoFullMaskBbox).map(t=>ip(r.projectedGeoToViewportTransform,t)))}getResourceToViewportScale(r){return Ow(this.resourceMaskBbox,this.getViewportMaskBbox(r))}getResourceToCanvasScale(r){return this.getResourceToViewportScale(r)/r.devicePixelRatio}getApproxResourceToViewportScale(r){return Ow(this.resourceMaskBbox,this.getApproxViewportMaskBbox(r))}getApproxResourceToCanvasScale(r){return this.getApproxResourceToViewportScale(r)/r.devicePixelRatio}setResourceViewportRing(r){this.resourceViewportRing=r,this.resourceViewportRingBbox=Gn(r)}setResourceMask(r){this.resourceMask=r,this.updateGeoMask(),this.updateProjectedGeoMask()}setTransformationType(r){this.transformationType=r,this.updateTransformerProperties()}setGcps(r){this.gcps=r,this.updateTransformerProperties()}updateBestScaleFactor(r){this.bestScaleFactor!=r&&(this.bestScaleFactor=r,this.updateTriangulation(!0))}updateTriangulation(r=!1){if(this.resourceTrianglePointsByBestScaleFactor.has(this.bestScaleFactor))this.resourceTrianglePoints=this.resourceTrianglePointsByBestScaleFactor.get(this.bestScaleFactor);else{const t=ZF(this.resourceMask)*this.bestScaleFactor/E9;this.resourceTrianglePoints=y9(this.resourceMask,t).flat(),this.resourceTrianglePointsByBestScaleFactor.set(this.bestScaleFactor,this.resourceTrianglePoints)}this.updateProjectedGeoTrianglePoints(r)}updateProjectedGeoTrianglePoints(r=!1){this.projectedGeoNewTrianglePoints=this.resourceTrianglePoints.map(t=>this.projectedTransformer.transformToGeo(t)),(r||!this.projectedGeoCurrentTrianglePoints.length)&&(this.projectedGeoCurrentTrianglePoints=this.projectedGeoNewTrianglePoints)}resetCurrentTrianglePoints(){this.projectedGeoCurrentTrianglePoints=this.projectedGeoNewTrianglePoints}clearResourceTrianglePointsByBestScaleFactor(){this.resourceTrianglePointsByBestScaleFactor=new Map}mixProjectedGeoCurrentAndNewTrianglePoints(r){this.projectedGeoCurrentTrianglePoints=this.projectedGeoNewTrianglePoints.map((t,o)=>jF(t,this.projectedGeoCurrentTrianglePoints[o],r))}hasImageInfo(){return this.imageId!==void 0&&this.parsedImage!==void 0}async loadImageInfo(){const r=this.georeferencedMap.resource.id,t=await OF(r,{cache:this.imageInfoCache});this.parsedImage=TF.parse(t),this.imageId=await XC(r),this.dispatchEvent(new Wr(Te.IMAGEINFOLOADED))}dispose(){this.resourceTrianglePoints=[],this.projectedGeoCurrentTrianglePoints=[],this.projectedGeoNewTrianglePoints=[]}updateTransformerProperties(){this.updateTransformer(),this.updateProjectedTransformer(),this.updateGeoMask(),this.updateFullGeoMask(),this.updateProjectedGeoMask(),this.updateProjectedFullGeoMask(),this.updateResourceToProjectedGeoScale()}updateTransformer(){this.transformer=new ET(this.gcps,this.transformationType)}updateProjectedTransformer(){this.projectedTransformer=new ET(this.projectedGcps,this.transformationType)}updateGeoMask(){this.geoMask=this.transformer.transformForwardAsGeojson([this.resourceMask],MT),this.geoMaskBbox=Gn(this.geoMask)}updateFullGeoMask(){this.geoFullMask=this.transformer.transformForwardAsGeojson([this.resourceFullMask],MT),this.geoFullMaskBbox=Gn(this.geoFullMask)}updateProjectedGeoMask(){this.projectedGeoMask=this.projectedTransformer.transformForward([this.resourceMask],IT)[0],this.projectedGeoMaskBbox=Gn(this.projectedGeoMask)}updateProjectedFullGeoMask(){this.projectedGeoFullMask=this.projectedTransformer.transformForward([this.resourceFullMask],IT)[0],this.projectedGeoFullMaskBbox=Gn(this.projectedGeoFullMask)}updateResourceToProjectedGeoScale(){this.resourceToProjectedGeoScale=Ow(this.resourceMaskBbox,this.projectedGeoMaskBbox)}}const S9=xt.string().or(xt.number()).or(xt.boolean()),C9=xt.record(xt.string(),S9.array()),wu=xt.tuple([xt.number(),xt.number()]),aM=xt.object({type:xt.literal("Point"),coordinates:wu}),lM=wu.array().min(3),dm=xt.enum(["ImageService1","ImageService2","ImageService3"]),P9=xt.object({id:xt.string().url(),type:xt.string(),label:C9.optional()}),Fy=P9.extend({partOf:xt.lazy(()=>Fy.array()).optional()}),M9=xt.object({type:xt.literal("polynomial"),options:xt.object({order:xt.number().min(1).max(3)}).optional()}),I9=xt.object({type:xt.literal("thinPlateSpline")}),By=M9.or(I9),L9=/^<svg\s+width="\d+"\s+height="\d+"\s*>\s*<polygon\s+points="\s*(-?\d+(\.\d+)?,-?\d+(\.\d+)?\s+){2,}-?\d+(\.\d+)?,-?\d+(\.\d+)?\s*"\s*\/>\s*<\/svg>$/,R9=xt.object({type:xt.literal("SvgSelector"),value:xt.string().regex(L9)}),A9=xt.object({source:xt.string().url(),service:xt.array(xt.object({"@id":xt.string().url(),type:dm})).length(1),selector:R9}),cM=xt.object({pixelCoords:wu}),O9=xt.object({type:xt.literal("FeatureCollection"),transformation:By.optional(),features:xt.array(xt.object({type:xt.literal("Feature"),properties:cM,geometry:aM}))}),$x=xt.object({id:xt.string().optional(),type:xt.literal("Annotation"),"@context":xt.string().url().array().optional(),motivation:xt.string().default("georeferencing").optional(),target:A9,body:O9}),uM=xt.object({id:xt.string().optional(),type:xt.literal("AnnotationPage"),"@context":xt.string().url().array().optional(),items:xt.array($x)}),t_=/<polygon\s+points="\s*(-?\d+(\.\d+)?,-?\d+(\.\d+)?\s+){2,}-?\d+(\.\d+)?,-?\d+(\.\d+)?\s*"\s*\/>/,z9=new RegExp(`^<svg\\s+width="\\d+"\\s+height="\\d+"\\s*>\\s*${t_.source}\\s*</svg>$`),N9=new RegExp(`^<svg\\s+height="\\d+"\\s+width="\\d+"\\s*>\\s*${t_.source}\\s*</svg>$`),D9=new RegExp(`^<svg\\s*>\\s*${t_.source}\\s*</svg>$`),F9=xt.string().regex(D9),B9=xt.string().regex(z9),j9=xt.string().regex(N9),H9=xt.object({type:xt.literal("SvgSelector"),value:F9.or(B9).or(j9)}),U9=xt.object({"@id":xt.string().url(),type:dm,height:xt.number().positive(),width:xt.number().positive(),partOf:Fy.array().optional()}),G9=xt.object({id:xt.string().url(),type:dm,height:xt.number().positive(),width:xt.number().positive(),partOf:Fy.array().optional()}),q9=xt.object({type:xt.literal("SpecificResource"),source:U9.or(G9),selector:H9}),hM=xt.object({resourceCoords:wu}),V9=xt.object({type:xt.literal("FeatureCollection"),transformation:By.optional(),features:xt.array(xt.object({type:xt.literal("Feature"),properties:hM,geometry:aM}))}),e_=xt.object({id:xt.string().optional(),type:xt.literal("Annotation"),"@context":xt.string().url().array().optional(),motivation:xt.string().default("georeferencing").optional(),target:q9,body:V9}),dM=xt.object({id:xt.string().optional(),type:xt.literal("AnnotationPage"),"@context":xt.string().url().array().optional(),items:xt.array(e_)});$x.or(e_);uM.or(dM);cM.or(hM);function pM(n){return Array.isArray(n)}function W9(n){return!!(n&&typeof n=="object"&&"type"in n&&n.type==="AnnotationPage")}function ly(n){return!!(n&&typeof n=="object"&&"type"in n&&n.type==="GeoreferencedMap")}function LT(n){return!!(n&&typeof n=="object"&&"target"in n&&n.target&&typeof n.target=="object"&&"source"in n.target&&typeof n.target.source=="string")}function r_(n){return"type"in n&&n.type==="GeoreferencedMap"}function i_(n){return"source"in n.target&&typeof n.target.source=="object"}function Z9(n){return{id:Y9(n),...$9(n),type:X9(n),partOf:K9(n)}}function Y9(n){if(i_(n)){const r=n.target.source;return"id"in r?r.id:r["@id"]}else return n.target.service[0]["@id"]}function X9(n){return"service"in n.target?n.target.service[0].type:n.target.source.type}function K9(n){if(i_(n))return n.target.source.partOf}function J9(n){return"pixelCoords"in n?n.pixelCoords:n.resourceCoords}function Q9(n){return n.body.features.map(r=>({resource:J9(r.properties),geo:r.geometry.coordinates}))}function $9(n){var d,f;if(i_(n))return{width:n.target.source.width,height:n.target.source.height};const r=n.target.selector.value,t=/width="(?<width>\d+)"/.exec(r),o=/height="(?<height>\d+)"/.exec(r),l=(d=t==null?void 0:t.groups)==null?void 0:d.width,u=(f=o==null?void 0:o.groups)==null?void 0:f.height;if(!l||!u)throw new Error("Could not parse image dimensions");return{width:parseInt(l),height:parseInt(u)}}function tj(n){var o;const r=n.target.selector.value,t=(o=/points="(?<points>.+)"/.exec(r))==null?void 0:o.groups;if(t&&t.points){const l=t.points.trim().split(/\s+/);if(l[0]===l[l.length-1]&&l.splice(-1),l.length>=3)return l.map(u=>{const d=u.split(",");if(d.length===2)return[parseFloat(d[0]),parseFloat(d[1])];throw new Error("Could not parse resource mask")});throw new Error("Could not parse resource mask")}else throw new Error("Could not parse resource mask")}function RT(n){return{"@context":"https://schemas.allmaps.org/map/2/context.json",type:"GeoreferencedMap",id:n.id,resource:Z9(n),gcps:Q9(n),resourceMask:tj(n),transformation:n.body.transformation}}function N1(n){if(W9(n)){let r;return"items"in n&&Array.isArray(n.items)&&LT(n.items[0])?r=uM.parse(n):r=dM.parse(n),r.items.map(t=>RT(t))}else{let r;return LT(n)?r=$x.parse(n):r=e_.parse(n),[RT(r)]}}const fM=xt.object({image:wu,world:wu}),ej=xt.object({uri:xt.string().url(),width:xt.number(),height:xt.number(),type:dm}),jy=xt.object({id:xt.string().optional(),version:xt.number().min(1).max(1).default(1),image:ej,gcps:fM.array(),pixelMask:lM,transformation:By.optional()}),n_=xt.array(jy),gM=xt.object({resource:wu,geo:wu}),rj=xt.object({id:xt.string().url(),width:xt.number(),height:xt.number(),type:dm,partOf:Fy.array().optional()}),Hy=xt.object({"@context":xt.literal("https://schemas.allmaps.org/map/2/context.json").optional(),type:xt.literal("GeoreferencedMap"),id:xt.string().optional(),resource:rj,gcps:gM.array(),resourceMask:lM,transformation:By.optional()}),o_=xt.array(Hy);jy.or(Hy);n_.or(o_);fM.or(gM);function ij(n){let r,t,o;return r_(n)?(r=n.resource.width,t=n.resource.height,o=n.resourceMask):(r=n.image.width,t=n.image.height,o=n.pixelMask),{type:"SvgSelector",value:`<svg width="${r}" height="${t}"><polygon points="${o.map(l=>l.join(",")).join(" ")}" /></svg>`}}function nj(n){let r,t,o,l,u;return r_(n)?(r=n.resource.id,t=n.resource.type,o=n.resource.width,l=n.resource.height,u=n.resource.partOf):(r=n.image.uri,t=n.image.type,o=n.image.width,l=n.image.height),{id:r,type:t,height:l,width:o,partOf:u}}function mM(){return["http://iiif.io/api/extension/georef/1/context.json","http://iiif.io/api/presentation/3/context.json"]}function oj(n){let r,t;return"resource"in n?(r=n.resource,t=n.geo):(r=n.image,t=n.world),{type:"Feature",properties:{resourceCoords:r},geometry:{type:"Point",coordinates:t}}}function AT(n,r=!0){const t={type:"SpecificResource",source:nj(n),selector:ij(n)},o={type:"FeatureCollection",transformation:n.transformation,features:n.gcps.map(l=>oj(l))};return{id:n.id,type:"Annotation","@context":r?mM():void 0,motivation:"georeferencing",target:t,body:o}}function sj(n){if(pM(n)){let r;ly(n[0])?r=o_.parse(n):r=n_.parse(n);const t=r.map(o=>AT(o,!1));return{type:"AnnotationPage","@context":mM(),items:t}}else{let r;return ly(n)?r=Hy.parse(n):r=jy.parse(n),AT(r)}}function vM(n){return r_(n)?n:N1(sj(n))[0]}function aj(n){return n.map(vM)}function OT(n){if(pM(n)){let r;return ly(n[0])?r=o_.parse(n):r=n_.parse(n),aj(r)}else{let r;return ly(n)?r=Hy.parse(n):r=jy.parse(n),vM(r)}}function lj(n,r,t,o,l){yM(n,r,t||0,o||n.length-1,l||cj)}function yM(n,r,t,o,l){for(;o>t;){if(o-t>600){var u=o-t+1,d=r-t+1,f=Math.log(u),m=.5*Math.exp(2*f/3),v=.5*Math.sqrt(f*m*(u-m)/u)*(d-u/2<0?-1:1),_=Math.max(t,Math.floor(r-d*m/u+v)),k=Math.min(o,Math.floor(r+(u-d)*m/u+v));yM(n,r,_,k,l)}var C=n[r],M=t,I=o;for(ng(n,t,r),l(n[o],C)>0&&ng(n,t,o);M<I;){for(ng(n,M,I),M++,I--;l(n[M],C)<0;)M++;for(;l(n[I],C)>0;)I--}l(n[t],C)===0?ng(n,t,I):(I++,ng(n,I,o)),I<=r&&(t=I+1),r<=I&&(o=I-1)}}function ng(n,r,t){var o=n[r];n[r]=n[t],n[t]=o}function cj(n,r){return n<r?-1:n>r?1:0}class uj{constructor(r=9){this._maxEntries=Math.max(4,r),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(r){let t=this.data;const o=[];if(!uv(r,t))return o;const l=this.toBBox,u=[];for(;t;){for(let d=0;d<t.children.length;d++){const f=t.children[d],m=t.leaf?l(f):f;uv(r,m)&&(t.leaf?o.push(f):Gw(r,m)?this._all(f,o):u.push(f))}t=u.pop()}return o}collides(r){let t=this.data;if(!uv(r,t))return!1;const o=[];for(;t;){for(let l=0;l<t.children.length;l++){const u=t.children[l],d=t.leaf?this.toBBox(u):u;if(uv(r,d)){if(t.leaf||Gw(r,d))return!0;o.push(u)}}t=o.pop()}return!1}load(r){if(!(r&&r.length))return this;if(r.length<this._minEntries){for(let o=0;o<r.length;o++)this.insert(r[o]);return this}let t=this._build(r.slice(),0,r.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const o=this.data;this.data=t,t=o}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(r){return r&&this._insert(r,this.data.height-1),this}clear(){return this.data=Qd([]),this}remove(r,t){if(!r)return this;let o=this.data;const l=this.toBBox(r),u=[],d=[];let f,m,v;for(;o||u.length;){if(o||(o=u.pop(),m=u[u.length-1],f=d.pop(),v=!0),o.leaf){const _=hj(r,o.children,t);if(_!==-1)return o.children.splice(_,1),u.push(o),this._condense(u),this}!v&&!o.leaf&&Gw(o,l)?(u.push(o),d.push(f),f=0,m=o,o=o.children[0]):m?(f++,o=m.children[f],v=!1):o=null}return this}toBBox(r){return r}compareMinX(r,t){return r.minX-t.minX}compareMinY(r,t){return r.minY-t.minY}toJSON(){return this.data}fromJSON(r){return this.data=r,this}_all(r,t){const o=[];for(;r;)r.leaf?t.push(...r.children):o.push(...r.children),r=o.pop();return t}_build(r,t,o,l){const u=o-t+1;let d=this._maxEntries,f;if(u<=d)return f=Qd(r.slice(t,o+1)),Zd(f,this.toBBox),f;l||(l=Math.ceil(Math.log(u)/Math.log(d)),d=Math.ceil(u/Math.pow(d,l-1))),f=Qd([]),f.leaf=!1,f.height=l;const m=Math.ceil(u/d),v=m*Math.ceil(Math.sqrt(d));zT(r,t,o,v,this.compareMinX);for(let _=t;_<=o;_+=v){const k=Math.min(_+v-1,o);zT(r,_,k,m,this.compareMinY);for(let C=_;C<=k;C+=m){const M=Math.min(C+m-1,k);f.children.push(this._build(r,C,M,l-1))}}return Zd(f,this.toBBox),f}_chooseSubtree(r,t,o,l){for(;l.push(t),!(t.leaf||l.length-1===o);){let u=1/0,d=1/0,f;for(let m=0;m<t.children.length;m++){const v=t.children[m],_=Uw(v),k=fj(r,v)-_;k<d?(d=k,u=_<u?_:u,f=v):k===d&&_<u&&(u=_,f=v)}t=f||t.children[0]}return t}_insert(r,t,o){const l=o?r:this.toBBox(r),u=[],d=this._chooseSubtree(l,this.data,t,u);for(d.children.push(r),dg(d,l);t>=0&&u[t].children.length>this._maxEntries;)this._split(u,t),t--;this._adjustParentBBoxes(l,u,t)}_split(r,t){const o=r[t],l=o.children.length,u=this._minEntries;this._chooseSplitAxis(o,u,l);const d=this._chooseSplitIndex(o,u,l),f=Qd(o.children.splice(d,o.children.length-d));f.height=o.height,f.leaf=o.leaf,Zd(o,this.toBBox),Zd(f,this.toBBox),t?r[t-1].children.push(f):this._splitRoot(o,f)}_splitRoot(r,t){this.data=Qd([r,t]),this.data.height=r.height+1,this.data.leaf=!1,Zd(this.data,this.toBBox)}_chooseSplitIndex(r,t,o){let l,u=1/0,d=1/0;for(let f=t;f<=o-t;f++){const m=hg(r,0,f,this.toBBox),v=hg(r,f,o,this.toBBox),_=gj(m,v),k=Uw(m)+Uw(v);_<u?(u=_,l=f,d=k<d?k:d):_===u&&k<d&&(d=k,l=f)}return l||o-t}_chooseSplitAxis(r,t,o){const l=r.leaf?this.compareMinX:dj,u=r.leaf?this.compareMinY:pj,d=this._allDistMargin(r,t,o,l),f=this._allDistMargin(r,t,o,u);d<f&&r.children.sort(l)}_allDistMargin(r,t,o,l){r.children.sort(l);const u=this.toBBox,d=hg(r,0,t,u),f=hg(r,o-t,o,u);let m=cv(d)+cv(f);for(let v=t;v<o-t;v++){const _=r.children[v];dg(d,r.leaf?u(_):_),m+=cv(d)}for(let v=o-t-1;v>=t;v--){const _=r.children[v];dg(f,r.leaf?u(_):_),m+=cv(f)}return m}_adjustParentBBoxes(r,t,o){for(let l=o;l>=0;l--)dg(t[l],r)}_condense(r){for(let t=r.length-1,o;t>=0;t--)r[t].children.length===0?t>0?(o=r[t-1].children,o.splice(o.indexOf(r[t]),1)):this.clear():Zd(r[t],this.toBBox)}}function hj(n,r,t){if(!t)return r.indexOf(n);for(let o=0;o<r.length;o++)if(t(n,r[o]))return o;return-1}function Zd(n,r){hg(n,0,n.children.length,r,n)}function hg(n,r,t,o,l){l||(l=Qd(null)),l.minX=1/0,l.minY=1/0,l.maxX=-1/0,l.maxY=-1/0;for(let u=r;u<t;u++){const d=n.children[u];dg(l,n.leaf?o(d):d)}return l}function dg(n,r){return n.minX=Math.min(n.minX,r.minX),n.minY=Math.min(n.minY,r.minY),n.maxX=Math.max(n.maxX,r.maxX),n.maxY=Math.max(n.maxY,r.maxY),n}function dj(n,r){return n.minX-r.minX}function pj(n,r){return n.minY-r.minY}function Uw(n){return(n.maxX-n.minX)*(n.maxY-n.minY)}function cv(n){return n.maxX-n.minX+(n.maxY-n.minY)}function fj(n,r){return(Math.max(r.maxX,n.maxX)-Math.min(r.minX,n.minX))*(Math.max(r.maxY,n.maxY)-Math.min(r.minY,n.minY))}function gj(n,r){const t=Math.max(n.minX,r.minX),o=Math.max(n.minY,r.minY),l=Math.min(n.maxX,r.maxX),u=Math.min(n.maxY,r.maxY);return Math.max(0,l-t)*Math.max(0,u-o)}function Gw(n,r){return n.minX<=r.minX&&n.minY<=r.minY&&r.maxX<=n.maxX&&r.maxY<=n.maxY}function uv(n,r){return r.minX<=n.maxX&&r.minY<=n.maxY&&r.maxX>=n.minX&&r.maxY>=n.minY}function Qd(n){return{children:n,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function zT(n,r,t,o,l){const u=[r,t];for(;u.length;){if(t=u.pop(),r=u.pop(),t-r<=o)continue;const d=r+Math.ceil((t-r)/o/2)*o;lj(n,d,r,t,l),u.push(r,d,d,t)}}function mj(n,r,t){if(t===void 0&&(t={}),!n)throw new Error("point is required");if(!r)throw new Error("polygon is required");var o=Ep(n),l=IF(r),u=l.type,d=r.bbox,f=l.coordinates;if(d&&vj(o,d)===!1)return!1;u==="Polygon"&&(f=[f]);for(var m=!1,v=0;v<f.length&&!m;v++)if(NT(o,f[v][0],t.ignoreBoundary)){for(var _=!1,k=1;k<f[v].length&&!_;)NT(o,f[v][k],!t.ignoreBoundary)&&(_=!0),k++;_||(m=!0)}return m}function NT(n,r,t){var o=!1;r[0][0]===r[r.length-1][0]&&r[0][1]===r[r.length-1][1]&&(r=r.slice(0,r.length-1));for(var l=0,u=r.length-1;l<r.length;u=l++){var d=r[l][0],f=r[l][1],m=r[u][0],v=r[u][1],_=n[1]*(d-m)+f*(m-n[0])+v*(n[0]-d)===0&&(d-n[0])*(m-n[0])<=0&&(f-n[1])*(v-n[1])<=0;if(_)return!t;var k=f>n[1]!=v>n[1]&&n[0]<(m-d)*(n[1]-f)/(v-f)+d;k&&(o=!o)}return o}function vj(n,r){return r[0]<=n[0]&&r[1]<=n[1]&&r[2]>=n[0]&&r[3]>=n[1]}const yj=!0;class bj{constructor(){this.rbush=new uj,this.polygonsById=new Map,this.bboxesById=new Map,this.itemsById=new Map}addItem(r,t){this.removeItem(r);const o=Gn(t),l={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],id:r};this.polygonsById.set(r,t),this.bboxesById.set(r,o),this.itemsById.set(r,l),this.rbush.insert(l)}removeItem(r){const t=this.itemsById.get(r);t&&(this.rbush.remove(t),this.polygonsById.delete(r),this.bboxesById.delete(r),this.itemsById.delete(r))}clear(){this.rbush.clear()}search(r,t,o,l){return this.rbush.search({minX:r,minY:t,maxX:o,maxY:l})}getBbox(r){return this.bboxesById.get(r)}getPolygon(r){return this.polygonsById.get(r)}searchFromBbox(r){const[t,o,l,u]=r;return this.search(t,o,l,u).map(d=>d.id)}searchFromPoint(r,t=yj){const[o,l,u,d]=[r[0],r[1],r[0],r[1]],f=this.search(o,l,u,d);return t?f.filter(m=>{const v=this.polygonsById.get(m.id);return v?mj(r,v):!1}).map(m=>m.id):f.map(m=>m.id)}}class wj extends EventTarget{constructor(r,t){super(),this.warpedMapsById=new Map,this.zIndices=new Map,t=Object.assign({createRTree:!0},t),this.imageInfoCache=r,t.createRTree&&(this.rtree=new bj)}getMaps(){return this.warpedMapsById.keys()}getWarpedMaps(r){if(r===void 0)return this.warpedMapsById.values();{const t=[];for(const o of r){const l=this.warpedMapsById.get(o);l&&t.push(l)}return t}}getWarpedMap(r){return this.warpedMapsById.get(r)}getMapZIndex(r){return this.zIndices.get(r)}getTotalBbox(){let r;for(const t of this.getWarpedMaps())t.visible&&(r?r=mT(r,t.geoMaskBbox):r=t.geoMaskBbox);return r}getTotalProjectedGeoMaskBbox(){let r;for(const t of this.getWarpedMaps())t.visible&&(r?r=mT(r,t.projectedGeoMaskBbox):r=t.projectedGeoMaskBbox);return r}getMapsByGeoBbox(r){return this.rtree?this.rtree.searchFromBbox(r):Array.from(this.warpedMapsById.keys())}setImageInfoCache(r){this.imageInfoCache=r}setMapResourceMask(r,t){const o=this.warpedMapsById.get(r);o&&(o.setResourceMask(t),this.addToOrUpdateRtree(o),this.dispatchEvent(new Wr(Te.RESOURCEMASKUPDATED,r)))}setMapsTransformationType(r,t){for(const o of r){const l=this.warpedMapsById.get(o);l&&(l.setTransformationType(t),this.addToOrUpdateRtree(l))}this.dispatchEvent(new Wr(Te.TRANSFORMATIONCHANGED,r))}bringMapsToFront(r){let t=this.warpedMapsById.size;for(const o of r)this.zIndices.has(o)&&(this.zIndices.set(o,t),t++);this.removeZIndexHoles(),this.dispatchEvent(new Wr(Te.ZINDICESCHANGES))}sendMapsToBack(r){let t=-Array.from(r).length;for(const o of r)this.zIndices.has(o)&&(this.zIndices.set(o,t),t++);this.removeZIndexHoles(),this.dispatchEvent(new Wr(Te.ZINDICESCHANGES))}bringMapsForward(r){for(const[t,o]of this.zIndices.entries())this.zIndices.set(t,o*2);for(const t of r){const o=this.zIndices.get(t);o!==void 0&&this.zIndices.set(t,o+3)}this.removeZIndexHoles(),this.dispatchEvent(new Wr(Te.ZINDICESCHANGES))}sendMapsBackward(r){for(const[t,o]of this.zIndices.entries())this.zIndices.set(t,o*2);for(const t of r){const o=this.zIndices.get(t);o!==void 0&&this.zIndices.set(t,o-3)}this.removeZIndexHoles(),this.dispatchEvent(new Wr(Te.ZINDICESCHANGES))}showMaps(r){for(const t of r){const o=this.warpedMapsById.get(t);o&&(o.visible=!0)}this.dispatchEvent(new Wr(Te.VISIBILITYCHANGED,r))}hideMaps(r){for(const t of r){const o=this.warpedMapsById.get(t);o&&(o.visible=!1)}this.dispatchEvent(new Wr(Te.VISIBILITYCHANGED,r))}async addGeoreferencedMap(r){const t=OT(r),o=Array.isArray(t)?t[0]:t;return this.addGeoreferencedMapInternal(o)}async removeGeoreferencedMap(r){const t=OT(r),o=Array.isArray(t)?t[0]:t;return this.removeGeoreferencedMapInternal(o)}async addGeoreferenceAnnotation(r){const t=[],o=N1(r),l=await Promise.allSettled(o.map(u=>this.addGeoreferencedMapInternal(u)));for(const u of l)u.status==="fulfilled"?t.push(u.value):t.push(u.reason);return this.dispatchEvent(new Wr(Te.GEOREFERENCEANNOTATIONADDED)),this.dispatchEvent(new Wr(Te.ZINDICESCHANGES)),t}async removeGeoreferenceAnnotation(r){const t=[],o=N1(r);for(const l of o){const u=await this.removeGeoreferencedMapInternal(l);t.push(u)}return this.dispatchEvent(new Wr(Te.GEOREFERENCEANNOTATIONREMOVED)),t}clear(){var r;this.warpedMapsById=new Map,this.zIndices=new Map,(r=this.rtree)==null||r.clear(),this.dispatchEvent(new Wr(Te.CLEARED))}dispose(){for(const r of this.getWarpedMaps())this.removeEventListenersFromWarpedMap(r),r.dispose()}async addGeoreferencedMapInternal(r){const t=await this.getOrComputeMapId(r),o=new T9(t,r,this.imageInfoCache);return this.warpedMapsById.set(t,o),this.zIndices.set(t,this.warpedMapsById.size-1),this.addToOrUpdateRtree(o),this.addEventListenersToWarpedMap(o),this.dispatchEvent(new Wr(Te.WARPEDMAPADDED,t)),t}async removeGeoreferencedMapInternal(r){const t=await this.getOrComputeMapId(r),o=this.warpedMapsById.get(t);if(o)this.warpedMapsById.delete(t),this.zIndices.delete(t),this.removeFromRtree(o),this.dispatchEvent(new Wr(Te.WARPEDMAPREMOVED,t)),this.removeZIndexHoles(),this.dispatchEvent(new Wr(Te.ZINDICESCHANGES));else throw new Error(`No map found with ID ${t}`);return t}async getOrComputeMapId(r){return r.id||await Y6(r)}addToOrUpdateRtree(r){this.rtree&&(this.rtree.removeItem(r.mapId),this.rtree.addItem(r.mapId,r.geoMask))}removeFromRtree(r){this.rtree&&this.rtree.removeItem(r.mapId)}removeZIndexHoles(){const r=[...this.zIndices.entries()].sort((o,l)=>o[1]-l[1]);let t=0;for(const o of r){const l=o[0];this.zIndices.set(l,t),t++}}imageInfoLoaded(){this.dispatchEvent(new Wr(Te.IMAGEINFOLOADED))}addEventListenersToWarpedMap(r){r.addEventListener(Te.IMAGEINFOLOADED,this.imageInfoLoaded.bind(this))}removeEventListenersFromWarpedMap(r){r.removeEventListener(Te.IMAGEINFOLOADED,this.imageInfoLoaded.bind(this))}}class xj extends EventTarget{constructor(r,t,o,l,u=1){super(),this.projectedGeoToViewportTransform=[1,0,0,1,0,0],this.projectedGeoToClipTransform=[1,0,0,1,0,0],this.projectedGeoCenter=r,this.projectedGeoPerViewportScale=l,this.rotation=o,this.viewportSize=t,this.devicePixelRatio=u,this.projectedGeoRectangle=this.computeProjectedGeoRectangle(this.projectedGeoCenter,this.projectedGeoPerViewportScale,this.rotation,this.viewportSize),this.projectedGeoBbox=Gn(this.projectedGeoRectangle),this.projectedGeoSize=[this.viewportSize[0]*l,this.viewportSize[1]*l],this.geoCenter=bT(this.projectedGeoCenter),this.geoRectangle=this.projectedGeoRectangle.map(d=>bT(d)),this.geoBbox=Gn(this.geoRectangle),this.geoSize=oy(this.geoBbox),this.viewportCenter=[this.viewportSize[0]/2,this.viewportSize[1]/2],this.viewportBbox=[0,0,...this.viewportSize],this.viewportRectangle=Kg(this.viewportBbox),this.canvasCenter=[this.viewportCenter[0]*this.devicePixelRatio,this.viewportSize[1]*this.devicePixelRatio],this.canvasSize=[this.viewportSize[0]*this.devicePixelRatio,this.viewportSize[1]*this.devicePixelRatio],this.canvasBbox=[0,0,...this.canvasSize],this.canvasRectangle=Kg(this.canvasBbox),this.projectedGeoPerCanvasScale=this.projectedGeoPerViewportScale/this.devicePixelRatio,this.projectedGeoToViewportTransform=this.composeProjectedGeoToViewportTransform(),this.projectedGeoToClipTransform=this.composeProjectedGeoToClipTransform()}composeProjectedGeoToViewportTransform(){return PT(this.viewportSize[0]/2,this.viewportSize[1]/2,1/this.projectedGeoPerViewportScale,-1/this.projectedGeoPerViewportScale,-this.rotation,-this.projectedGeoCenter[0],-this.projectedGeoCenter[1])}composeProjectedGeoToClipTransform(){return PT(0,0,2/(this.projectedGeoPerViewportScale*this.viewportSize[0]),2/(this.projectedGeoPerViewportScale*this.viewportSize[1]),-this.rotation,-this.projectedGeoCenter[0],-this.projectedGeoCenter[1])}computeProjectedGeoRectangle(r,t,o,l){const u=t*l[0]/2,d=t*l[1]/2,f=Math.cos(o),m=Math.sin(o),v=u*f,_=u*m,k=d*f,C=d*m,M=r[0],I=r[1];return[[M-v+C,I-_-k],[M-v-C,I-_+k],[M+v-C,I+_+k],[M+v+C,I+_-k]]}}class _j extends EventTarget{constructor(r){super(),this.tile=r.tile,this.imageRequest=r.imageRequest,this.tileUrl=r.tileUrl,this.abortController=new AbortController}async fetch(){try{const r=await zF(this.tileUrl,this.abortController.signal);return this.imageBitmap=await createImageBitmap(r),this.dispatchEvent(new Wr(Te.TILEFETCHED,this.tileUrl)),this.imageBitmap}catch(r){r instanceof Error&&r.name==="AbortError"||this.dispatchEvent(new Wr(Te.TILEFETCHERROR,this.tileUrl))}}isCachedTile(){return this.imageBitmap!==void 0}abort(){this.abortController.signal.aborted||this.abortController.abort()}}const kj=.75;function bM(n,r){return`${n}:${r}`}function wM(n){return bM(n.mapId,n.tileUrl)}function qw(n){return new Set(n.map(r=>wM(r)))}function Ej(n,r,t={maxOffsetRatio:1e-5,maxDepth:2}){const o=VF(r)[0];return n.transformBackward(o,t)}function Tj(n,r,t=kj){let o=Number.POSITIVE_INFINITY,l=n.tileZoomLevels.at(-1);for(const u of n.tileZoomLevels){const d=Math.abs(Math.log(u.scaleFactor)-(Math.log(r)-Math.log(t)));d<o&&(o=d,l=u)}return l}function Sj(n,r,t){const o=Cj(n,r),l=Pj(o),u=Ij(l,t,r),d=P1(Gn(n));return u.sort((f,m)=>DT(f,d)-DT(m,d)),u}function Cj(n,r){return n.map(t=>[t[0]/r.originalWidth,t[1]/r.originalHeight])}function Pj(n){const r={};for(let t=0;t<n.length;t++){const o=[n[t],n[(t+1)%n.length]];Mj(o).forEach(([l,u])=>{r[l]||(r[l]=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]),u<r[l][0]&&(r[l][0]=u),u>r[l][1]&&(r[l][1]=u)})}return r}function Mj([n,r]){let t=Math.floor(n[0]),o=Math.floor(n[1]);const l=Math.floor(r[0]),u=Math.floor(r[1]),d=[[t,o]];if(t===l&&o===u)return d;const f=Math.sign(r[0]-n[0]),m=Math.sign(r[1]-n[1]),v=Math.abs(n[0]-t-Math.max(0,f)),_=Math.abs(n[1]-o-Math.max(0,m)),k=Math.abs(n[0]-r[0]),C=Math.abs(n[1]-r[1]);let M=v/k,I=_/C;const F=1/k,H=1/C;for(;!(t===l&&o===u);)M<I?(M=M+F,t=t+f):(I=I+H,o=o+m),d.push([t,o]);return d}function Ij(n,r,t){const o=[];for(const l in n){const u=parseInt(l);if(u<0||u>=t.columns)break;const d=Math.max(n[u][0],0),f=Math.min(n[u][1],t.rows-1);for(let m=d;m<=f;m++)o.push({column:u,row:m,tileZoomLevel:t,imageSize:[r.width,r.height]})}return o}function Lj(n){var r,t;return(((r=n.imageRequest.size)==null?void 0:r.height)||0)*(((t=n.imageRequest.size)==null?void 0:t.width)||0)*3}function DT(n,r){return oc(Rj(n),r)}function Rj(n){const r=xM(n);return[(r[2]-r[0])/2+r[0],(r[3]-r[1])/2+r[1]]}function Aj(n){const r=n.column*n.tileZoomLevel.originalWidth,t=n.row*n.tileZoomLevel.originalHeight;return[r,t]}function xM(n){const r=Aj(n),t=Math.min(r[0]+n.tileZoomLevel.originalWidth,n.imageSize[0]),o=Math.min(r[1]+n.tileZoomLevel.originalHeight,n.imageSize[1]);return[r[0],r[1],t,o]}const Oj=50,zj=32*1e3*1e3;class Nj extends EventTarget{constructor(){super(...arguments),this.tilesByTileUrl=new Map,this.mapIdsByTileUrl=new Map,this.tileUrlsByMapId=new Map,this.tilesFetchingCount=0,this.previousRequestedTiles=[],this.outgoingTilesHistory=[]}getCacheableTile(r){return this.tilesByTileUrl.get(r)}getCachedTile(r){const t=this.tilesByTileUrl.get(r);if(t&&t.isCachedTile())return t}getCacheableTiles(){return this.tilesByTileUrl.values()}getCachedTiles(){const r=Array.from(this.tilesByTileUrl.values()),t=[];return r.forEach(o=>{o.isCachedTile()&&t.push(o)}),t}getTileUrls(){return this.tilesByTileUrl.keys()}requestFetcableMapTiles(r){const t=qw(this.previousRequestedTiles),o=qw(r);if(XF(t,o))return;const l=[];for(const f of this.previousRequestedTiles)o.has(wM(f))||l.push(f);this.updateOutgoingTilesHistory(l,r.length);const u=qw(this.outgoingTilesHistory),d=new Set([...o,...u]);for(const[f,m]of this.mapIdsByTileUrl)for(const v of m)d.has(bM(v,f))||this.removeMapTile(v,f);for(const f of r)this.addMapTile(f);this.previousRequestedTiles=r}clear(){this.tilesByTileUrl=new Map,this.mapIdsByTileUrl=new Map,this.tileUrlsByMapId=new Map,this.tilesFetchingCount=0,this.outgoingTilesHistory=[]}dispose(){for(const r of this.getCacheableTiles())this.removeEventListenersFromTile(r)}addMapTile(r){const t=r.mapId,o=r.tileUrl;if(this.tilesByTileUrl.has(o))this.dispatchEvent(new Wr(Te.MAPTILELOADED,{mapId:t,tileUrl:o}));else{const l=new _j(r);this.addEventListenersToTile(l),this.tilesByTileUrl.set(o,l),this.updateTilesFetchingCount(1),l.fetch()}this.addTileUrlForMapId(t,o),this.addMapIdForTileUrl(t,o)}removeMapTile(r,t){const o=this.tilesByTileUrl.get(t);if(!o)return;const l=this.removeMapIdForTileUrl(r,t);this.removeTileUrlForMapId(r,t),l.size||(o.isCachedTile()||(o.abort(),this.updateTilesFetchingCount(-1)),this.tilesByTileUrl.delete(t)),this.dispatchEvent(new Wr(Te.MAPTILEREMOVED,{mapId:r,tileUrl:t}))}updateOutgoingTilesHistory(r,t){for(let d=r.length-1;d>=0;d--){const f=r[d];this.outgoingTilesHistory.unshift(f)}this.outgoingTilesHistory=Array.from(new Set(this.outgoingTilesHistory));let o=0,l=0,u=0;for(const d of this.outgoingTilesHistory){if(o+=1,u=Lj(d),l+=u,o+t>Oj){o-=1,l-=u;break}if(l>zj){o-=1,l-=u;break}}this.outgoingTilesHistory=this.outgoingTilesHistory.slice(0,o)}tileFetched(r){var t;if(r instanceof Wr){const o=r.data;this.updateTilesFetchingCount(-1);for(const l of this.mapIdsByTileUrl.get(o)||[])this.dispatchEvent(new Wr(Te.MAPTILELOADED,{mapId:l,tileUrl:o})),((t=this.tileUrlsByMapId.get(l))==null?void 0:t.values().next().value)===o&&this.dispatchEvent(new Wr(Te.FIRSTMAPTILELOADED,{mapId:l,tileUrl:o}))}}tileFetchError(r){if(r instanceof Wr){const t=r.data;this.tilesByTileUrl.has(t)||(this.updateTilesFetchingCount(-1),this.tilesByTileUrl.delete(t))}}addMapIdForTileUrl(r,t){let o=this.mapIdsByTileUrl.get(t);return o?o.add(r):o=new Set([r]),this.mapIdsByTileUrl.set(t,o),o}removeMapIdForTileUrl(r,t){const o=this.mapIdsByTileUrl.get(t);if(o)o.delete(r);else return new Set;return o.size?this.mapIdsByTileUrl.set(t,o):this.mapIdsByTileUrl.delete(t),o}addTileUrlForMapId(r,t){let o=this.tileUrlsByMapId.get(r);return o?o.add(t):o=new Set([t]),this.tileUrlsByMapId.set(r,o),o}removeTileUrlForMapId(r,t){const o=this.tileUrlsByMapId.get(r);return o?(o.delete(t),o.size?this.tileUrlsByMapId.set(r,o):this.tileUrlsByMapId.delete(r),o):new Set}updateTilesFetchingCount(r){this.tilesFetchingCount+=r,this.tilesFetchingCount===0&&this.dispatchEvent(new Wr(Te.ALLREQUESTEDTILESLOADED))}addEventListenersToTile(r){r.addEventListener(Te.TILEFETCHED,this.tileFetched.bind(this)),r.addEventListener(Te.TILEFETCHERROR,this.tileFetchError.bind(this))}removeEventListenersFromTile(r){r.removeEventListener(Te.TILEFETCHED,this.tileFetched.bind(this)),r.removeEventListener(Te.TILEFETCHERROR,this.tileFetchError.bind(this))}}class Dj{constructor(r,t){this.mapId=t.mapId,this.tile=r;const o=t.parsedImage.getIiifTile(r.tileZoomLevel,r.column,r.row);this.imageRequest=o;const l=t.parsedImage.getImageUrl(o);this.tileUrl=l}}var Fj=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis;const Bj=Fj;var jj=typeof self=="object"&&self&&self.Object===Object&&self,Hj=Bj||jj||Function("return this")();const _M=Hj;var Uj=_M.Symbol;const cy=Uj;var kM=Object.prototype,Gj=kM.hasOwnProperty,qj=kM.toString,og=cy?cy.toStringTag:void 0;function Vj(n){var r=Gj.call(n,og),t=n[og];try{n[og]=void 0;var o=!0}catch{}var l=qj.call(n);return o&&(r?n[og]=t:delete n[og]),l}var Wj=Object.prototype,Zj=Wj.toString;function Yj(n){return Zj.call(n)}var Xj="[object Null]",Kj="[object Undefined]",FT=cy?cy.toStringTag:void 0;function Jj(n){return n==null?n===void 0?Kj:Xj:FT&&FT in Object(n)?Vj(n):Yj(n)}function Qj(n){return n!=null&&typeof n=="object"}var $j="[object Symbol]";function tH(n){return typeof n=="symbol"||Qj(n)&&Jj(n)==$j}var eH=/\s/;function rH(n){for(var r=n.length;r--&&eH.test(n.charAt(r)););return r}var iH=/^\s+/;function nH(n){return n&&n.slice(0,rH(n)+1).replace(iH,"")}function uy(n){var r=typeof n;return n!=null&&(r=="object"||r=="function")}var BT=0/0,oH=/^[-+]0x[0-9a-f]+$/i,sH=/^0b[01]+$/i,aH=/^0o[0-7]+$/i,lH=parseInt;function jT(n){if(typeof n=="number")return n;if(tH(n))return BT;if(uy(n)){var r=typeof n.valueOf=="function"?n.valueOf():n;n=uy(r)?r+"":r}if(typeof n!="string")return n===0?n:+n;n=nH(n);var t=sH.test(n);return t||aH.test(n)?lH(n.slice(2),t?2:8):oH.test(n)?BT:+n}var cH=function(){return _M.Date.now()};const Vw=cH;var uH="Expected a function",hH=Math.max,dH=Math.min;function pH(n,r,t){var o,l,u,d,f,m,v=0,_=!1,k=!1,C=!0;if(typeof n!="function")throw new TypeError(uH);r=jT(r)||0,uy(t)&&(_=!!t.leading,k="maxWait"in t,u=k?hH(jT(t.maxWait)||0,r):u,C="trailing"in t?!!t.trailing:C);function M(mt){var ft=o,ot=l;return o=l=void 0,v=mt,d=n.apply(ot,ft),d}function I(mt){return v=mt,f=setTimeout(U,r),_?M(mt):d}function F(mt){var ft=mt-m,ot=mt-v,V=r-ft;return k?dH(V,u-ot):V}function H(mt){var ft=mt-m,ot=mt-v;return m===void 0||ft>=r||ft<0||k&&ot>=u}function U(){var mt=Vw();if(H(mt))return J(mt);f=setTimeout(U,F(mt))}function J(mt){return f=void 0,C&&o?M(mt):(o=l=void 0,d)}function G(){f!==void 0&&clearTimeout(f),v=0,o=m=l=f=void 0}function Z(){return f===void 0?d:J(Vw())}function at(){var mt=Vw(),ft=H(mt);if(o=arguments,l=this,m=mt,ft){if(f===void 0)return I(m);if(k)return clearTimeout(f),f=setTimeout(U,r),M(m)}return f===void 0&&(f=setTimeout(U,r)),d}return at.cancel=G,at.flush=Z,at}var fH="Expected a function";function D1(n,r,t){var o=!0,l=!0;if(typeof n!="function")throw new TypeError(fH);return uy(t)&&(o="leading"in t?!!t.leading:o,l="trailing"in t?!!t.trailing:l),pH(n,r,{leading:o,maxWait:r,trailing:l})}function gH(n){let r=0,t=0;for(const d of n)r+=d.w*d.h,t=Math.max(t,d.w);n.sort((d,f)=>f.h-d.h);const o=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(r/.95)),t),h:1/0}];let l=0,u=0;for(const d of n)for(let f=o.length-1;f>=0;f--){const m=o[f];if(!(d.w>m.w||d.h>m.h)){if(d.x=m.x,d.y=m.y,u=Math.max(u,d.y+d.h),l=Math.max(l,d.x+d.w),d.w===m.w&&d.h===m.h){const v=o.pop();f<o.length&&(o[f]=v)}else d.h===m.h?(m.x+=d.w,m.w-=d.w):d.w===m.w?(m.y+=d.h,m.h-=d.h):(o.push({x:m.x+d.w,y:m.y,w:m.w-d.w,h:d.h}),m.y+=d.h,m.h-=d.h);break}}return{w:l,h:u,fill:r/(l*u)||0}}function HT(n,r,t){const o=n.createShader(r);if(o){if(n.shaderSource(o,t),n.compileShader(o),n.getShaderParameter(o,n.COMPILE_STATUS))return o;{const l=n.getShaderInfoLog(o);throw n.deleteShader(o),new Error("Failed to compile shader: "+l)}}else throw new Error("Failed to create shader")}function mH(n,r,t){const o=n.createProgram();if(o){if(n.attachShader(o,r),n.attachShader(o,t),n.linkProgram(o),n.getProgramParameter(o,n.LINK_STATUS))return o;{const l=n.getProgramInfoLog(o);throw n.deleteProgram(o),new Error("Failed to link program: "+l)}}else throw new Error("Failed to create program")}function hv(n,r,t,o,l){const u=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,u),n.bufferData(n.ARRAY_BUFFER,t,n.STATIC_DRAW);const d=n.FLOAT,f=!1,m=0,v=0,_=n.getAttribLocation(r,l);n.vertexAttribPointer(_,o,d,f,m,v),n.enableVertexAttribArray(_)}const vH=250,yH={leading:!0,trailing:!0},bH=1,wH=1;class xH extends EventTarget{constructor(r,t,o){super(),this.CachedTilesByTileUrl=new Map,this.opacity=bH,this.saturation=wH,this.renderOptions={},this.warpedMap=o,this.gl=r,this.program=t,this.vao=r.createVertexArray(),this.packedTilesTexture=r.createTexture(),this.packedTilesScaleFactorsTexture=r.createTexture(),this.packedTilesPositionsTexture=r.createTexture(),this.packedTilesResourcePositionsAndDimensionsTexture=r.createTexture(),this.throttledUpdateTextures=D1(this.updateTextures.bind(this),vH,yH)}updateVertexBuffers(r){this.projectedGeoToClipTransform=r,this.updateVertexBuffersInternal()}addCachedTileAndUpdateTextures(r){this.CachedTilesByTileUrl.set(r.tileUrl,r),this.throttledUpdateTextures()}removeCachedTileAndUpdateTextures(r){this.CachedTilesByTileUrl.delete(r),this.throttledUpdateTextures()}dispose(){this.gl.deleteVertexArray(this.vao),this.gl.deleteTexture(this.packedTilesTexture),this.gl.deleteTexture(this.packedTilesScaleFactorsTexture),this.gl.deleteTexture(this.packedTilesPositionsTexture),this.gl.deleteTexture(this.packedTilesResourcePositionsAndDimensionsTexture)}updateVertexBuffersInternal(){if(!this.vao||!this.projectedGeoToClipTransform)return;this.gl.bindVertexArray(this.vao),hv(this.gl,this.program,new Float32Array(this.warpedMap.resourceTrianglePoints.flat()),2,"a_resourceTrianglePoint");const r=this.warpedMap.projectedGeoCurrentTrianglePoints.map(l=>ip(this.projectedGeoToClipTransform,l));hv(this.gl,this.program,new Float32Array(r.flat()),2,"a_clipCurrentTrianglePoint");const t=this.warpedMap.projectedGeoNewTrianglePoints.map(l=>ip(this.projectedGeoToClipTransform,l));hv(this.gl,this.program,new Float32Array(t.flat()),2,"a_clipNewTrianglePoint");let o=new Float32Array(this.warpedMap.resourceTrianglePoints.length);o=o.map((l,u)=>Math.round((u-1)/3)),hv(this.gl,this.program,o,1,"a_triangleIndex")}async updateTextures(){const r=this.gl;if(this.CachedTilesByTileUrl.size===0)return;let t=[...this.CachedTilesByTileUrl.values()];t=t.filter(_=>this.warpedMap.resourceViewportRingBbox?qF(xM(_.tile),this.warpedMap.resourceViewportRingBbox):!0);const o=t.length,l=t.map((_,k)=>({w:_.imageBitmap.width,h:_.imageBitmap.height,x:0,y:0,index:k})),{w:u,h:d}=gH(l);r.pixelStorei(r.UNPACK_ALIGNMENT,4),r.bindTexture(r.TEXTURE_2D,this.packedTilesTexture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,u,d,0,r.RGBA,r.UNSIGNED_BYTE,null);for(const _ of l){const k=t[_.index].imageBitmap;r.texSubImage2D(r.TEXTURE_2D,0,_.x,_.y,k.width,k.height,r.RGBA,r.UNSIGNED_BYTE,k)}r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE);const f=l.map(_=>[_.x,_.y]);r.bindTexture(r.TEXTURE_2D,this.packedTilesPositionsTexture),r.texImage2D(r.TEXTURE_2D,0,r.RG32I,1,o,0,r.RG_INTEGER,r.INT,new Int32Array(f.flat())),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE);const m=l.map(_=>{const k=t[_.index];if(k&&k.imageRequest&&k.imageRequest.region)return[k.imageRequest.region.x,k.imageRequest.region.y,k.imageRequest.region.width,k.imageRequest.region.height]});r.bindTexture(r.TEXTURE_2D,this.packedTilesResourcePositionsAndDimensionsTexture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA32I,1,o,0,r.RGBA_INTEGER,r.INT,new Int32Array(m.flat())),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE);const v=l.map(({index:_})=>t[_].tile.tileZoomLevel.scaleFactor);r.bindTexture(r.TEXTURE_2D,this.packedTilesScaleFactorsTexture),r.texImage2D(r.TEXTURE_2D,0,r.R32I,1,o,0,r.RED_INTEGER,r.INT,new Int32Array(v)),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),this.dispatchEvent(new Wr(Te.TEXTURESUPDATED))}}const _H=`#version 300 es

precision highp float;

uniform mat4 u_renderTransform;

uniform float u_animationProgress;

in vec2 a_clipCurrentTrianglePoint;
in vec2 a_clipNewTrianglePoint;
in vec2 a_resourceTrianglePoint;
in float a_triangleIndex;

out vec2 v_resourceTrianglePoint;
out float v_triangleIndex;

float cubicInOut(float t) {
  return t < 0.5f ? 4.0f * t * t * t : 0.5f * pow(2.0f * t - 2.0f, 3.0f) + 1.0f;
}

void main() {
  // Pass attributes as varyings to fragment shader
  v_resourceTrianglePoint = a_resourceTrianglePoint;
  v_triangleIndex = a_triangleIndex;

  // Compute triangle vertex coordinates by mixing current and new
  vec2 clipTrianglePoint = mix(a_clipCurrentTrianglePoint, a_clipNewTrianglePoint, cubicInOut(u_animationProgress));

  // Set triangle points coordinates
  // Variables that start with gl_ are special globalThis variables
  // gl_Position stores the vertex (or 'point') positions (or 'coordinates') in clip coordinates (which go from -1 to 1.)

  gl_Position = u_renderTransform * vec4(clipTrianglePoint, 0.0f, 1.0f);
}
`,kH=`#version 300 es

precision highp float;
precision highp isampler2D;

uniform bool u_removeColor;
uniform vec3 u_removeColorOptionsColor;
uniform float u_removeColorOptionsThreshold;
uniform float u_removeColorOptionsHardness;

uniform bool u_colorize;
uniform vec3 u_colorizeOptionsColor;

uniform float u_opacity;
uniform float u_saturation;

uniform int u_bestScaleFactor;

uniform sampler2D u_packedTilesTexture;
uniform isampler2D u_packedTilesPositionsTexture;
uniform isampler2D u_packedTilesResourcePositionsAndDimensionsTexture;
uniform isampler2D u_packedTilesScaleFactorsTexture;

in vec2 v_resourceTrianglePoint;
in float v_triangleIndex;

out vec4 color;

void main() {
  // The treated triangle point
  int resourceTrianglePointX = int(round(v_resourceTrianglePoint.x));
  int resourceTrianglePointY = int(round(v_resourceTrianglePoint.y));

  // Reading information on packed tiles from textures
  int packedTilesCount = textureSize(u_packedTilesPositionsTexture, 0).y;
  ivec2 packedTilesTextureSize = textureSize(u_packedTilesTexture, 0);

  // Setting references for the for loop
  int smallestScaleFactorDiff = 256 * 256; // Starting with very high number
  int bestScaleFactor = 0;

  // Prepare storage for the resulting packed tiles texture point that corresponds to the treated triangle point
  vec2 packedTilesTexturePoint = vec2(0.0f, 0.0f);

  color = vec4(0.0f, 0.0f, 0.0f, 0.0f);

  bool found = false;

  // Loop through all packed tiles
  for(int index = 0; index < packedTilesCount; index += 1) {

    // Read the information of the tile
    ivec2 packedTilePosition = texelFetch(u_packedTilesPositionsTexture, ivec2(0, index), 0).rg;
    ivec4 packedTileResourcePositionAndDimension = texelFetch(u_packedTilesResourcePositionsAndDimensionsTexture, ivec2(0, index), 0);
    int packedTileScaleFactor = texelFetch(u_packedTilesScaleFactorsTexture, ivec2(0, index), 0).r;

    float packedTilePositionX = float(packedTilePosition.r);
    float packedTilePositionY = float(packedTilePosition.g);

    int packedTileResourcePositionX = packedTileResourcePositionAndDimension.r;
    int packedTileResourcePositionY = packedTileResourcePositionAndDimension.g;

    int packedTileDimensionWidth = packedTileResourcePositionAndDimension.b;
    int packedTileDimensionHeight = packedTileResourcePositionAndDimension.a;

    // If the treated triangle point is inside the tile, consider to use the tile:
    // if the scale factor is closer to the best scale factor for this map then currently known one
    // update the smallest scale factor diff
    // and compute the packed tiles texture point that corresponds to the treated triangle point
    if(resourceTrianglePointX >= packedTileResourcePositionX &&
      resourceTrianglePointX < packedTileResourcePositionX + packedTileDimensionWidth &&
      resourceTrianglePointY >= packedTileResourcePositionY &&
      resourceTrianglePointY < packedTileResourcePositionY + packedTileDimensionHeight) {
      found = true;

      int scaleFactorDiff = abs(u_bestScaleFactor - packedTileScaleFactor);

      if(scaleFactorDiff < smallestScaleFactorDiff || bestScaleFactor == 0) {

        smallestScaleFactorDiff = scaleFactorDiff;
        bestScaleFactor = packedTileScaleFactor;

        float packedTilePointX = float(resourceTrianglePointX - packedTileResourcePositionX) / float(bestScaleFactor);
        float packedTilePointY = float(resourceTrianglePointY - packedTileResourcePositionY) / float(bestScaleFactor);

        float packedTilesPointX = packedTilePositionX + packedTilePointX;
        float packedTilesPointY = packedTilePositionY + packedTilePointY;

        float packedTilesTexturePointX = round(packedTilesPointX) / float(packedTilesTextureSize.x);
        float packedTilesTexturePointY = round(packedTilesPointY) / float(packedTilesTextureSize.y);

        packedTilesTexturePoint = vec2(packedTilesTexturePointX, packedTilesTexturePointY);
      }
    }
  }

  if(found == true) {
    // Read color of the treated point at it's packed tiles texture point coordinates in the packed tiles texture
    color = texture(u_packedTilesTexture, packedTilesTexturePoint);

    // Remove background color
    if(u_removeColorOptionsThreshold > 0.0f) {
      vec3 backgroundColorDiff = color.rgb - u_removeColorOptionsColor.rgb;
      float backgroundColorDistance = length(backgroundColorDiff);
      if(u_removeColor && backgroundColorDistance < u_removeColorOptionsThreshold) {
        float amount = smoothstep(u_removeColorOptionsThreshold - u_removeColorOptionsThreshold * (1.0f - u_removeColorOptionsHardness), u_removeColorOptionsThreshold, backgroundColorDistance);
        color = vec4(color.rgb * amount, amount);
      }
    }

    // Saturation
    float gray = 0.21f * color.r + 0.71f * color.g + 0.07f * color.b;
    color = vec4(color.rgb * (u_saturation) + (gray * (1.0f - u_saturation)), color.a);

    // Colorize
    if(u_colorize) {
      color = vec4((u_colorizeOptionsColor + color.rgb) * color.a, color.a);
    }

    // Opacity
    color = vec4(color.rgb * u_opacity, color.a * u_opacity);

    // Debugging: uncomment to override color of the treated point with a color made from the point's triangle index
    // vec4 debugColor = vec4(abs(sin(v_triangleIndex)), abs(sin(v_triangleIndex + 1.0f)), abs(sin(v_triangleIndex + 2.0f)), 1);
    // color = debugColor;
  }
}
`,EH=500,TH={leading:!0,trailing:!0},SH=50,CH={leading:!0,trailing:!0},Ww=1,Zw=1,PH=0,MH=.7,IH=5,LH=5,UT=750;class RH extends EventTarget{constructor(r,t){super(),this.webgl2WarpedMapsById=new Map,this.tileCache=new Nj,this.mapsInViewport=new Set,this.opacity=Ww,this.saturation=Zw,this.renderOptions={},this.animating=!1,this.animationProgress=1,this.warpedMapList=t,this.gl=r;const o=HT(r,r.VERTEX_SHADER,_H),l=HT(r,r.FRAGMENT_SHADER,kH);this.program=mH(r,o,l),r.deleteShader(o),r.deleteShader(l),r.disable(r.DEPTH_TEST),this.invertedRenderTransform=b9(),this.addEventListeners(),this.throttledPrepareRenderInternal=D1(this.prepareRenderInternal.bind(this),EH,TH),this.throttledChanged=D1(this.changed.bind(this),SH,CH)}getOpacity(){return this.opacity}setOpacity(r){this.opacity=r}resetOpacity(){this.opacity=Ww}getMapOpacity(r){const t=this.webgl2WarpedMapsById.get(r);if(t)return t.opacity}setMapOpacity(r,t){const o=this.webgl2WarpedMapsById.get(r);o&&(o.opacity=Math.min(Math.max(t,0),1))}resetMapOpacity(r){const t=this.webgl2WarpedMapsById.get(r);t&&(t.opacity=Ww)}getRemoveColorOptions(){return this.renderOptions.removeColorOptions}setRemoveColorOptions(r){this.renderOptions.removeColorOptions=r}resetRemoveColorOptions(){this.renderOptions.removeColorOptions=void 0}getMapRemoveColorOptions(r){const t=this.webgl2WarpedMapsById.get(r);if(t)return t.renderOptions.removeColorOptions}setMapRemoveColorOptions(r,t){const o=this.webgl2WarpedMapsById.get(r);o&&(o.renderOptions.removeColorOptions=t)}resetMapRemoveColorOptions(r){const t=this.webgl2WarpedMapsById.get(r);t&&(t.renderOptions.removeColorOptions=void 0)}getColorizeOptions(){return this.renderOptions.colorizeOptions}setColorizeOptions(r){this.renderOptions.colorizeOptions=r}resetColorizeOptions(){this.renderOptions.colorizeOptions=void 0}getMapColorizeOptions(r){const t=this.webgl2WarpedMapsById.get(r);if(t)return t.renderOptions.colorizeOptions}setMapColorizeOptions(r,t){const o=this.webgl2WarpedMapsById.get(r);o&&(o.renderOptions.colorizeOptions=t)}resetMapColorizeOptions(r){const t=this.webgl2WarpedMapsById.get(r);t&&(t.renderOptions.colorizeOptions=void 0)}getSaturation(){return this.saturation}setSaturation(r){this.saturation=r}resetSaturation(){this.saturation=Zw}getMapSaturation(r){const t=this.webgl2WarpedMapsById.get(r);if(t)return t.saturation}setMapSaturation(r,t){const o=this.webgl2WarpedMapsById.get(r);o&&(o.saturation=t)}resetMapSaturation(r){const t=this.webgl2WarpedMapsById.get(r);t&&(t.saturation=Zw)}render(r){this.viewport=r,this.throttledPrepareRenderInternal(),this.renderInternal()}clear(){this.webgl2WarpedMapsById=new Map,this.mapsInViewport=new Set,this.gl.clear(this.gl.DEPTH_BUFFER_BIT|this.gl.COLOR_BUFFER_BIT),this.tileCache.clear()}dispose(){for(const r of this.webgl2WarpedMapsById.values())this.removeEventListenersFromWebGL2WarpedMap(r),r.dispose();this.tileCache.clear(),this.tileCache.dispose(),this.removeEventListeners(),this.gl.deleteProgram(this.program)}startTransformationTransition(){this.lastAnimationFrameRequestId!==void 0&&cancelAnimationFrame(this.lastAnimationFrameRequestId),this.animating=!0,this.transformationTransitionStart=void 0,this.lastAnimationFrameRequestId=requestAnimationFrame(this.transformationTransitionFrame.bind(this))}transformationTransitionFrame(r){if(this.transformationTransitionStart||(this.transformationTransitionStart=r),r-this.transformationTransitionStart<UT)this.animationProgress=(r-this.transformationTransitionStart)/UT,this.renderInternal(),this.lastAnimationFrameRequestId=requestAnimationFrame(this.transformationTransitionFrame.bind(this));else{for(const t of this.warpedMapList.getWarpedMaps())t.resetCurrentTrianglePoints();this.updateVertexBuffers(),this.animating=!1,this.animationProgress=0,this.transformationTransitionStart=void 0}}prepareRenderInternal(){this.updateRequestedTiles(),this.updateVertexBuffers()}updateVertexBuffers(){if(this.viewport){this.invertedRenderTransform=x9(this.viewport.projectedGeoToClipTransform);for(const r of this.mapsInViewport){const t=this.webgl2WarpedMapsById.get(r);if(!t)break;t.updateVertexBuffers(this.viewport.projectedGeoToClipTransform)}}}updateRequestedTiles(){if(!this.viewport||!this.viewportMovedSignificantly())return;const r=Array.from(this.warpedMapList.getMapsByGeoBbox(this.viewport.geoBbox)).sort((o,l)=>oc(P1(this.warpedMapList.getWarpedMap(o).geoMaskBbox),this.viewport.geoCenter)-oc(P1(this.warpedMapList.getWarpedMap(l).geoMaskBbox),this.viewport.geoCenter)),t=[];for(const o of r){const l=this.warpedMapList.getWarpedMap(o);if(!l||!l.visible)continue;if(!l.hasImageInfo()){l.loadImageInfo();continue}if(WF(l.getApproxViewportMaskBbox(this.viewport))<IH)continue;const u=Tj(l.parsedImage,l.getApproxResourceToCanvasScale(this.viewport));l.updateBestScaleFactor(u.scaleFactor);const d={maxDepth:0},f=Ej(l.projectedTransformer,this.viewport.projectedGeoBbox,d);l.setResourceViewportRing(f);const m=Sj(f,u,l.parsedImage);for(const v of m)t.push(new Dj(v,l))}this.tileCache.requestFetcableMapTiles(t),this.updateMapsInViewport(t)}viewportMovedSignificantly(){if(!this.viewport)return!1;if(this.previousSignificantViewport){const r=[];for(let o=0;o<4;o++)r.push(oc(this.previousSignificantViewport.projectedGeoRectangle[o],this.viewport.projectedGeoRectangle[o])/this.viewport.projectedGeoPerViewportScale);const t=Math.max(...r);return t==0?!0:t>LH?(this.previousSignificantViewport=this.viewport,!0):!1}else return this.previousSignificantViewport=this.viewport,!1}updateMapsInViewport(r){const t=Array.from(this.mapsInViewport),o=r.map(d=>d.mapId).filter((d,f,m)=>m.indexOf(d)===f);this.mapsInViewport=new Set(o.sort((d,f)=>{const m=this.warpedMapList.getMapZIndex(d),v=this.warpedMapList.getMapZIndex(f);return m!==void 0&&v!==void 0?m-v:0}));const l=o.filter(d=>!t.includes(d)),u=t.filter(d=>!o.includes(d));for(const d in l)this.dispatchEvent(new Wr(Te.WARPEDMAPENTER,d));for(const d in u)this.dispatchEvent(new Wr(Te.WARPEDMAPLEAVE,d))}renderInternal(){if(!this.viewport)return;const r=w9(this.viewport.projectedGeoToClipTransform,this.invertedRenderTransform),t=this.gl;t.viewport(0,0,t.canvas.width,t.canvas.height),t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.useProgram(this.program);const o=t.getUniformLocation(this.program,"u_renderTransform");t.uniformMatrix4fv(o,!1,k9(r));const l=t.getUniformLocation(this.program,"u_animationProgress");t.uniform1f(l,this.animationProgress);for(const u of this.mapsInViewport){const d=this.webgl2WarpedMapsById.get(u);if(!d)continue;this.setRenderOptionsUniforms(this.renderOptions,d.renderOptions);const f=t.getUniformLocation(this.program,"u_opacity");t.uniform1f(f,this.opacity*d.opacity);const m=t.getUniformLocation(this.program,"u_saturation");t.uniform1f(m,this.saturation*d.saturation);const v=t.getUniformLocation(this.program,"u_bestScaleFactor"),_=d.warpedMap.bestScaleFactor;t.uniform1i(v,_);const k=t.getUniformLocation(this.program,"u_packedTilesTexture");t.uniform1i(k,0),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,d.packedTilesTexture);const C=t.getUniformLocation(this.program,"u_packedTilesPositionsTexture");t.uniform1i(C,1),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,d.packedTilesPositionsTexture);const M=t.getUniformLocation(this.program,"u_packedTilesResourcePositionsAndDimensionsTexture");t.uniform1i(M,2),t.activeTexture(t.TEXTURE2),t.bindTexture(t.TEXTURE_2D,d.packedTilesResourcePositionsAndDimensionsTexture);const I=t.getUniformLocation(this.program,"u_packedTilesScaleFactorsTexture");t.uniform1i(I,3),t.activeTexture(t.TEXTURE3),t.bindTexture(t.TEXTURE_2D,d.packedTilesScaleFactorsTexture);const F=d.vao,H=d.warpedMap.resourceTrianglePoints.length,U=this.gl.TRIANGLES,J=0;t.bindVertexArray(F),t.drawArrays(U,J,H)}}setRenderOptionsUniforms(r,t){var v,_,k,C,M,I,F,H,U,J;const o=this.gl,l={removeColorOptions:{color:((v=t.removeColorOptions)==null?void 0:v.color)||((_=r.removeColorOptions)==null?void 0:_.color),hardness:yT((k=t.removeColorOptions)==null?void 0:k.hardness,(C=r.removeColorOptions)==null?void 0:C.hardness),threshold:yT((M=t.removeColorOptions)==null?void 0:M.threshold,(I=r.removeColorOptions)==null?void 0:I.threshold)},colorizeOptions:{...r.colorizeOptions,...t.colorizeOptions}},u=(F=l.removeColorOptions)==null?void 0:F.color,d=o.getUniformLocation(this.program,"u_removeColor");if(o.uniform1f(d,u?1:0),u){const G=o.getUniformLocation(this.program,"u_removeColorOptionsColor");o.uniform3fv(G,u);const Z=o.getUniformLocation(this.program,"u_removeColorOptionsThreshold");o.uniform1f(Z,((H=l.removeColorOptions)==null?void 0:H.threshold)||PH);const at=o.getUniformLocation(this.program,"u_removeColorOptionsHardness");o.uniform1f(at,((U=l.removeColorOptions)==null?void 0:U.hardness)||MH)}const f=(J=l.colorizeOptions)==null?void 0:J.color,m=o.getUniformLocation(this.program,"u_colorize");if(o.uniform1f(m,f?1:0),f){const G=o.getUniformLocation(this.program,"u_colorizeOptionsColor");o.uniform3fv(G,f)}}changed(){this.dispatchEvent(new Wr(Te.CHANGED))}imageInfoLoaded(r){r instanceof Wr&&this.dispatchEvent(new Wr(Te.IMAGEINFOLOADED))}mapTileLoaded(r){if(r instanceof Wr){const{mapId:t,tileUrl:o}=r.data,l=this.tileCache.getCacheableTile(o);if(!l||!l.isCachedTile())return;const u=this.webgl2WarpedMapsById.get(t);if(!u)return;u.addCachedTileAndUpdateTextures(l)}}mapTileRemoved(r){if(r instanceof Wr){const{mapId:t,tileUrl:o}=r.data,l=this.webgl2WarpedMapsById.get(t);if(!l)return;l.removeCachedTileAndUpdateTextures(o)}}warpedMapAdded(r){if(r instanceof Wr){const t=r.data,o=this.warpedMapList.getWarpedMap(t);if(o){const l=new xH(this.gl,this.program,o);this.webgl2WarpedMapsById.set(o.mapId,l),this.addEventListenersToWebGL2WarpedMap(l)}}}transformationChanged(r){if(r instanceof Wr){const t=r.data;for(const o of this.warpedMapList.getWarpedMaps(t))this.animating&&o.mixProjectedGeoCurrentAndNewTrianglePoints(this.animationProgress),o.updateProjectedGeoTrianglePoints(!1);this.updateVertexBuffers(),this.startTransformationTransition()}}resourceMaskUpdated(r){if(r instanceof Wr){const t=r.data,o=this.warpedMapList.getWarpedMap(t);o&&(o.clearResourceTrianglePointsByBestScaleFactor(),o.updateTriangulation(!1))}}addEventListenersToWebGL2WarpedMap(r){r.addEventListener(Te.TEXTURESUPDATED,this.throttledChanged.bind(this))}removeEventListenersFromWebGL2WarpedMap(r){r.removeEventListener(Te.TEXTURESUPDATED,this.throttledChanged.bind(this))}addEventListeners(){this.tileCache.addEventListener(Te.MAPTILELOADED,this.mapTileLoaded.bind(this)),this.tileCache.addEventListener(Te.MAPTILEREMOVED,this.mapTileRemoved.bind(this)),this.warpedMapList.addEventListener(Te.IMAGEINFOLOADED,this.imageInfoLoaded.bind(this)),this.warpedMapList.addEventListener(Te.WARPEDMAPADDED,this.warpedMapAdded.bind(this)),this.warpedMapList.addEventListener(Te.TRANSFORMATIONCHANGED,this.transformationChanged.bind(this)),this.warpedMapList.addEventListener(Te.RESOURCEMASKUPDATED,this.resourceMaskUpdated.bind(this)),this.warpedMapList.addEventListener(Te.CLEARED,this.clear.bind(this))}removeEventListeners(){this.tileCache.removeEventListener(Te.MAPTILELOADED,this.mapTileLoaded.bind(this)),this.tileCache.removeEventListener(Te.MAPTILEREMOVED,this.mapTileRemoved.bind(this)),this.warpedMapList.removeEventListener(Te.IMAGEINFOLOADED,this.imageInfoLoaded.bind(this)),this.warpedMapList.removeEventListener(Te.WARPEDMAPADDED,this.warpedMapAdded.bind(this)),this.warpedMapList.removeEventListener(Te.TRANSFORMATIONCHANGED,this.transformationChanged.bind(this)),this.warpedMapList.removeEventListener(Te.RESOURCEMASKUPDATED,this.resourceMaskUpdated.bind(this)),this.warpedMapList.removeEventListener(Te.CLEARED,this.clear.bind(this))}}const AH=$n.Layer.extend({options:{opacity:1,interactive:!1,className:"",pane:"tilePane",zIndex:"1"},initialize(n,r){this._annotation=n,$n.setOptions(this,r),this._initGl()},async onAdd(n){const r=this.getPaneName();return this._map.getPane(r).appendChild(this.container),n.on("zoomend viewreset move",this._update,this),n.on("zoomanim",this._animateZoom,this),n.on("unload",this._unload,this),this.resizeObserver=new ResizeObserver(this._resized.bind(this)),this.resizeObserver.observe(this._map.getContainer(),{box:"content-box"}),this._annotation&&(KF(this._annotation)?await this.addGeoreferenceAnnotationByUrl(this._annotation):await this.addGeoreferenceAnnotation(this._annotation)),this._update(),this},onRemove(n){this.container.remove(),n.off("zoomend viewreset move",this._update,this),n.off("zoomanim",this._animateZoom,this)},async addGeoreferenceAnnotation(n){const r=await this.renderer.warpedMapList.addGeoreferenceAnnotation(n);return this._update(),r},async removeGeoreferenceAnnotation(n){const r=await this.renderer.warpedMapList.removeGeoreferenceAnnotation(n);return this._update(),r},async addGeoreferenceAnnotationByUrl(n){const r=await fetch(n).then(t=>t.json());return this.addGeoreferenceAnnotation(r)},async removeGeoreferenceAnnotationByUrl(n){const r=await fetch(n).then(t=>t.json());return this.removeGeoreferenceAnnotation(r)},async addGeoreferencedMap(n){const r=this.renderer.warpedMapList.addGeoreferencedMap(n);return this._update(),r},async removeGeoreferencedMap(n){const r=this.renderer.warpedMapList.removeGeoreferencedMap(n);return this._update(),r},getContainer(){return this.container},getCanvas(){return this.canvas},getWarpedMapList(){return this.renderer.warpedMapList},getWarpedMap(n){return this.renderer.warpedMapList.getWarpedMap(n)},showMap(n){this.renderer.warpedMapList.showMaps([n]),this._update()},showMaps(n){this.renderer.warpedMapList.showMaps(n),this._update()},hideMap(n){this.renderer.warpedMapList.hideMaps([n]),this._update()},hideMaps(n){this.renderer.warpedMapList.hideMaps(n),this._update()},isMapVisible(n){var r;return(r=this.renderer.warpedMapList.getWarpedMap(n))==null?void 0:r.visible},setMapResourceMask(n,r){this.renderer.warpedMapList.setMapResourceMask(n,r),this._update()},setMapsTransformationType(n,r){this.renderer.warpedMapList.setMapsTransformationType(n,r),this._update()},getTotalBbox(){return this.renderer.warpedMapList.getBbox()},getTotalProjectedBbox(){return this.renderer.warpedMapList.getProjectedBbox()},getTotalBounds(){const n=this.getTotalBbox();return $n.latLngBounds($n.latLng(n[1],n[0]),$n.latLng(n[3],n[2]))},getTotalProjectedBounds(){const n=this.getTotalProjectedBbox();return $n.latLngBounds($n.latLng(n[1],n[0]),$n.latLng(n[3],n[2]))},bringMapsToFront(n){this.renderer.warpedMapList.bringMapsToFront(n),this._update()},sendMapsToBack(n){this.renderer.warpedMapList.sendMapsToBack(n),this._update()},bringMapsForward(n){this.renderer.warpedMapList.bringMapsForward(n),this._update()},sendMapsBackward(n){this.renderer.warpedMapList.sendMapsBackward(n),this._update()},bringToFront(){return this._map&&$n.DomUtil.toFront(this.container),this},bringToBack(){return this._map&&$n.DomUtil.toBack(this.container),this},getMapZIndex(n){return this.renderer.warpedMapList.getMapZIndex(n)},getZIndex(){return this.options.zIndex},setZIndex(n){return this.options.zIndex=n,this._updateZIndex(),this},setImageInfoCache(n){this.renderer.warpedMapList.setImageInfoCache(n)},getPaneName(){return this._map.getPane(this.options.pane)?this.options.pane:"tilePane"},getOpacity(){return this.options.opacity},setOpacity(n){return this.options.opacity=n,this._update(),this},resetOpacity(){return this.options.opacity=1,this._update(),this},getMapOpacity(n){return this.renderer.getMapOpacity(n)},setMapOpacity(n,r){return this.renderer.setMapOpacity(n,r),this._update(),this},resetMapOpacity(n){return this.renderer.resetMapOpacity(n),this._update(),this},setSaturation(n){return this.renderer.setSaturation(n),this._update(),this},resetSaturation(){return this.renderer.resetSaturation(),this._update(),this},setMapSaturation(n,r){return this.renderer.setMapSaturation(n,r),this._update(),this},resetMapSaturation(n){return this.renderer.resetMapSaturation(n),this._update(),this},setRemoveColor(n){const r=n.hexColor?vT(n.hexColor):void 0;return this.renderer.setRemoveColorOptions({color:r,threshold:n.threshold,hardness:n.hardness}),this._update(),this},resetRemoveColor(){return this.renderer.resetRemoveColorOptions(),this._update(),this},setMapRemoveColor(n,r){const t=r.hexColor?vT(r.hexColor):void 0;return this.renderer.setMapRemoveColorOptions(n,{color:t,threshold:r.threshold,hardness:r.hardness}),this._update(),this},resetMapRemoveColor(n){return this.renderer.resetMapRemoveColorOptions(n),this},setColorize(n){const r=this.hexToRgb(n);return r&&(this.renderer.setColorizeOptions({color:r}),this._update()),this},resetColorize(){return this.renderer.resetColorizeOptions(),this._update(),this},setMapColorize(n,r){const t=this.hexToRgb(r);return t&&(this.renderer.setMapColorizeOptions(n,{color:t}),this._update()),this},resetMapColorize(n){return this.renderer.resetMapColorizeOptions(n),this._update(),this},_initGl(){if(this.container=$n.DomUtil.create("div"),this.container.classList.add("leaflet-layer"),this.container.classList.add("allmaps-warped-map-layer"),this.options.zIndex&&this._updateZIndex(),this.canvas=$n.DomUtil.create("canvas",void 0,this.container),this.canvas.classList.add("leaflet-zoom-animated"),this.canvas.classList.add("leaflet-image-layer"),this.options.interactive&&this.canvas.classList.add("leaflet-interactive"),this.options.className&&this.canvas.classList.add(this.options.className),this.gl=this.canvas.getContext("webgl2",{premultipliedAlpha:!0}),!this.gl)throw new Error("WebGL 2 not available");const n=new wj(this.options.imageInfoCache);this.renderer=new RH(this.gl,n),this._addEventListeners()},_resized(n){for(const r of n){const t=r.contentRect.width,o=r.contentRect.height,l=window.devicePixelRatio,u=Math.round(t*l),d=Math.round(o*l);this.canvas.width=u,this.canvas.height=d,this.canvas.style.width=t+"px",this.canvas.style.height=o+"px"}this._update()},_animateZoom(n){const r=this._map.getZoomScale(n.zoom),t=this._map._latLngBoundsToNewLayerBounds(this._map.getBounds(),n.zoom,n.center).min;$n.DomUtil.setTransform(this.canvas,t,r)},_updateZIndex(){this.container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this.container.style.zIndex=this.options.zIndex)},_update(){if(!this._map)return;const n=this._map.containerPointToLayerPoint([0,0]);$n.DomUtil.setPosition(this.canvas,n),this.renderer.setOpacity(this.getOpacity());const r=this._map.getCenter(),t=this._map.options.crs.project(r),o=[t.x,t.y],l=this._map.getSize(),u=[l.x,l.y],d=this._map.getBounds(),f=this._map.options.crs.project(d.getNorthEast()),m=this._map.options.crs.project(d.getSouthWest()),v=[m.x,m.y,f.x,f.y],_=oy(v),k=LP(_,u),C=new xj(o,u,0,k,window.devicePixelRatio);return this.renderer.render(C),this.container},_addEventListeners(){this.renderer.addEventListener(Te.CHANGED,this._update.bind(this)),this.renderer.addEventListener(Te.IMAGEINFOLOADED,this._update.bind(this)),this.renderer.addEventListener(Te.WARPEDMAPENTER,this._passWarpedMapEvent.bind(this)),this.renderer.addEventListener(Te.WARPEDMAPLEAVE,this._passWarpedMapEvent.bind(this)),this.renderer.tileCache.addEventListener(Te.FIRSTMAPTILELOADED,this._passWarpedMapEvent.bind(this)),this.renderer.tileCache.addEventListener(Te.ALLREQUESTEDTILESLOADED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.addEventListener(Te.WARPEDMAPADDED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.addEventListener(Te.WARPEDMAPREMOVED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.addEventListener(Te.VISIBILITYCHANGED,this._update.bind(this)),this.renderer.warpedMapList.addEventListener(Te.CLEARED,this._update.bind(this))},_removeEventListeners(){this.renderer.removeEventListener(Te.CHANGED,this._update.bind(this)),this.renderer.removeEventListener(Te.IMAGEINFOLOADED,this._update.bind(this)),this.renderer.removeEventListener(Te.WARPEDMAPENTER,this._passWarpedMapEvent.bind(this)),this.renderer.removeEventListener(Te.WARPEDMAPLEAVE,this._passWarpedMapEvent.bind(this)),this.renderer.tileCache.removeEventListener(Te.FIRSTMAPTILELOADED,this._passWarpedMapEvent.bind(this)),this.renderer.tileCache.removeEventListener(Te.ALLREQUESTEDTILESLOADED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.removeEventListener(Te.WARPEDMAPADDED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.removeEventListener(Te.WARPEDMAPREMOVED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.removeEventListener(Te.VISIBILITYCHANGED,this._update.bind(this)),this.renderer.warpedMapList.removeEventListener(Te.CLEARED,this._update.bind(this))},_passWarpedMapEvent(n){n instanceof Wr&&this._map&&this._map.fire(n.type,n.data)},_unload(){this.renderer.dispose();const n=this.gl.getExtension("WEBGL_lose_context");n&&n.loseContext();const r=this.gl.canvas;r.width=1,r.height=1,this.resizeObserver.disconnect(),this._removeEventListeners()}}),OH={class:"content",ref:"content"},zH=["innerHTML"],NH=["innerHTML"],DH=["src"],FH={slot:"footer",class:"footer"},BH=["src"],jH={class:"push"},HH=vo({__name:"Map.ce",props:{basemaps:{type:String,default:"OpenStreetMap"},center:{type:String,default:"32.32347,-80.97122"},caption:{type:String},data:{type:String},entities:{type:String},essayBase:{type:String},gestureHandling:{type:Boolean,default:v1()},ghDir:{type:String},marker:{type:Boolean},overlay:{type:String},popupOnHover:{type:Boolean},preferGeojson:{type:Boolean},scrollWheelZoom:{type:Boolean,default:!1},zoom:{type:Number,default:2},zoomOnClick:{type:Boolean}},setup(n){const r=n,t=window.turf;let o;const l=he(!1);qe(l,()=>{o.open=l.value});const u=he("100vw"),d=he();ts(()=>{var R;o=(R=C.value)==null?void 0:R.querySelector(".dialog"),o.addEventListener("sl-hide",j=>l.value=!1),YC.on("imageSelected",j=>{d.value=j.src,l.value=!0})});const f={iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-icon.png",iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-icon-2x.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",shadowSize:[41,41]},m={CartoDB_DarkMatter:["https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_DarkMatterNoLabels:["https://{s}.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_DarkMatterOnlyLabels:["https://{s}.basemaps.cartocdn.com/dark_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_Positron:["https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_PositronNoLabels:["https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_PositronOnlyLabels:["https://{s}.basemaps.cartocdn.com/light_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_Voyager:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_VoyagerNoLabels:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager_nolabels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_VoyagerOnlyLabels:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_VoyagerLabelsUnder:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager_labels_under/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],Esri_DeLorme:["https://server.arcgisonline.com/ArcGIS/rest/services/Specialty/DeLorme_World_Base_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Copyright: &copy;2012 DeLorme",minZoom:1,maxZoom:11}],Esri_NatGeoWorldMap:["https://server.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC",maxZoom:16}],Esri_OceanBasemap:["https://server.arcgisonline.com/ArcGIS/rest/services/Ocean/World_Ocean_Base/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri",maxZoom:13}],Esri_WorldGrayCanvas:["https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ",maxZoom:16}],Esri_WorldImagery:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}],Esri_WorldPhysical:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Physical_Map/MapServer/tile/{z}/{y}/{x}",{maxZoom:8,attribution:"Tiles &copy; Esri &mdash; Source: US National Park Service"}],Esri_WorldShadedRelief:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri",maxZoom:13}],Esri_WorldStreetMap:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"}],Esri_WorldTerrain:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: USGS, Esri, TANA, DeLorme, and NPS",maxZoom:13}],Esri_WorldTopoMap:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community"}],MtbMap:["http://tile.mtbmap.cz/mtbmap_tiles/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &amp; USGS'}],OpenStreetMap:["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}],OpenStreetMap_DE:["https://{s}.tile.openstreetmap.de/{z}/{x}/{y}.png",{maxZoom:18,attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}],OpenStreetMap_France:["https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",{maxZoom:20,attribution:'&copy; OpenStreetMap France | &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}],OpenStreetMap_HOT:["https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Tiles style by <a href="https://www.hotosm.org/" target="_blank">Humanitarian OpenStreetMap Team</a> hosted by <a href="https://openstreetmap.fr/" target="_blank">OpenStreetMap France</a>',maxZoom:19}],OpenStreetMap_Mapnik:["https://tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:19}],OpenTopoMap:["https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",{maxZoom:17,attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}],OPNVKarte:["https://tileserver.memomaps.de/tilegen/{z}/{x}/{y}.png",{attribution:'Map <a href="https://memomaps.de/">memomaps.de</a> <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:18}],Stadia_AlidadeSmooth:["https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:20}],Stadia_AlidadeSmoothDark:["https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:20}],Stadia_OSMBright:["https://tiles.stadiamaps.com/tiles/osm_bright/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:20}],Stadia_Outdoors:["https://tiles.stadiamaps.com/tiles/outdoors/{z}/{x}/{y}{r}.png",{maxZoom:20,attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'}],Stamen_Terrain:["https://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:18,ext:"png"}],Stamen_TerrainBackground:["https://stamen-tiles-{s}.a.ssl.fastly.net/terrain-background/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:18,ext:"png"}],Stamen_TerrainLabels:["https://stamen-tiles-{s}.a.ssl.fastly.net/terrain-labels/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:18,ext:"png"}],Stamen_Toner:["https://stamen-tiles-{s}.a.ssl.fastly.net/toner/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"}],Stamen_TonerBackground:["https://stamen-tiles-{s}.a.ssl.fastly.net/toner-background/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"}],Stamen_TonerLite:["https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"}],Stamen_Watercolor:["https://stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.{ext}",{subdomains:"abcd",minZoom:1,maxZoom:16,ext:"jpg",attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}],USGS_USTopo:["https://basemap.nationalmap.gov/arcgis/rest/services/USGSTopo/MapServer/tile/{z}/{y}/{x}",{maxZoom:20,attribution:'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'}],USGS_USImagery:["https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryOnly/MapServer/tile/{z}/{y}/{x}",{maxZoom:20,attribution:'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'}],USGS_USImageryTopo:["https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryTopo/MapServer/tile/{z}/{y}/{x}",{maxZoom:20,attribution:'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'}]},v=he(null),_=De(()=>{var R,j;return(j=(R=v.value)==null?void 0:R.getRootNode())==null?void 0:j.host}),k=he(null),C=De(()=>{var R;return(R=v==null?void 0:v.value)==null?void 0:R.parentNode}),M=he(1),I=he(),F=he([]),H=he(),U=he([]),J=he(),G=he(),Z=he(),at=he(10),mt=he(),ft=he(),ot=he();qe(k,R=>{R&&(R.clientHeight===0&&(R.style.height=`${R.clientWidth*M.value}px`),new ResizeObserver(j=>{R.style.height=`${j[0].contentRect.width*M.value}px`,!I.value&&R.clientHeight>0&&V()}).observe(R),R.clientHeight>0&&V())}),qe(U,async()=>{let R=await Promise.all(U.value);R.length>0&&console.log(R.map(ht=>ii(ht)));let j=R.filter(ht=>ht.geojson&&ht.preferGeojson).map(ht=>{if(ht.geojson.indexOf("http")!==0)if(ht.geojson[0]==="/"){let[Lt,Qt,...$t]=ht.geojson.split("/").filter(xe=>xe),te=$t.join("/"),ye="main";ht.geojson=`https://raw.githubusercontent.com/${Lt}/${Qt}/${ye}/${te}`}else ht.geojson=`https://raw.githubusercontent.com/${r.essayBase}/${ht.geojson}`;return ht}).map(ht=>({url:ht.geojson,item:ht})),st=await Promise.all(j.map(ht=>fetch(ht.url))),pt=await Promise.all(st.map(ht=>ht.json())),dt={};for(let ht=0;ht<j.length;ht++){j[ht].item.id&&/^Q[0-9]+$/.test(j[ht].item.id)&&(j[ht].item.qid=j[ht].item.id,delete j[ht].item.id),pt[ht].type==="FeatureCollection"?pt[ht].features.forEach(Qt=>Qt.properties={...Qt.properties,...j[ht].item}):pt[ht].properties={...pt[ht].properties,...j[ht].item};let Lt=j[ht].item.layer||"Locations";dt[Lt]||(dt[Lt]=[]),dt[Lt].push(pt[ht])}let _t={};R.filter(ht=>!ht.geojson||!ht.preferGeojson).filter(ht=>!ht.allmaps).forEach(ht=>{let Lt=ht.layer||"Locations";_t[Lt]||(_t[Lt]=[]),_t[Lt].push(ht)}),R.filter(ht=>!ht.allmaps).forEach(ht=>{let Lt=ht.layer||"Locations";dt[Lt]?_t[Lt]&&(dt[Lt].push(Ct(_t[Lt])),delete _t[Lt]):(dt[Lt]=[Ct(_t[Lt])],delete _t[Lt])}),Z.value=dt,G.value=R.filter(ht=>ht.allmaps).map(ht=>{let Lt=new AH(`https://annotations.allmaps.org/images/${ht.allmaps}`);return{name:ht.layer||"Image layer",type:"allmaps",disabled:ht.disabled,opacity:ht.opacity||100,layer:Lt}})}),qe(Z,()=>Xt()),qe(G,()=>Xt()),qe(I,()=>Xt());function V(){F.value=r.entities?r.entities.split(/\s+/).filter(R=>R):[],Zt(),Pe(),nt(),Xi()}async function nt(){console.log(ii(r)),at.value=r.zoom;let R;if(r.center)if(Rw(r.center)){let pt=await Vd(r.center);R=le(pt.coords)}else R=le(r.center);else if(r.entities){let pt=await Vd(F.value[0]);R=le(pt.coords),at.value=9}else R=new ys.LatLng(0,0),at.value=6;if(I.value&&(I.value.off(),I.value.remove()),console.log(`initMap: center=${R} zoom=${at.value}`),!k.value)return;r.gestureHandling===!0&&(console.log("add gestureHandling"),ys.Map.addInitHook("addHandler","gestureHandling",V6.GestureHandling)),k.value.style.cursor="default";let j=r.basemaps.split(",").map(pt=>{let[dt,_t]=m[pt];return[pt.replace(/_/," "),ys.tileLayer(dt,_t)]}),st={preferCanvas:!1,smoothWheelZoom:!0,smoothSensitivity:1.5,zoomSnap:.1,center:R,zoom:at.value,zoomAnimation:!0,scrollWheelZoom:r.scrollWheelZoom,gestureHandling:r.gestureHandling===!0,layers:[j[0][1]]};console.log(st),I.value=ys.map(k.value,st),(j.length>1||Object.keys(Z.value||{}).length>1)&&(J.value=ys.control.layers(Object.fromEntries(j),{}).addTo(I.value)),I.value.on("click",pt=>{var dt;ut(pt),H.value&&rr((dt=H.value)==null?void 0:dt.split(" ")[0]),r.zoomOnClick&&Dt()}),I.value.on("zoomend",pt=>{ut(pt),ot.value&&ot.value.layer.openPopup()}),I.value.on("movestart",()=>{k.value&&(k.value.style.cursor="move")}),I.value.on("moveend",pt=>{k.value&&(k.value.style.cursor="default"),ut(pt)}),I.value.on("layeradd",pt=>{var dt,_t;if(pt.layer.feature){let ht=pt.layer;((dt=ht.feature)==null?void 0:dt.type)=="Feature"&&((_t=ht.feature)!=null&&_t.properties.qid)&&ht.feature}}),H.value=`${Number(R.lat.toFixed(5))},${Number(R.lng.toFixed(5))} ${at.value}`,mt.value=`${Number(R.lat.toFixed(5))},${Number(R.lng.toFixed(5))},${at.value}`}function ut(R){let j=R.type==="click"?R.latlng:R.target.getCenter(),st=R.target.getZoom(),pt=[j.lat,j.lng,st];return H.value=`${Number(j.lat.toFixed(5))},${Number(j.lng.toFixed(5))} ${st}`,ft.value||(mt.value=`${Number(j.lat.toFixed(5))},${Number(j.lng.toFixed(5))},${st}`),pt}function gt(R){return ys.geoJSON(R,{pointToLayer:(j,st)=>{const pt=j.properties;let dt={...f};return j.properties.icon&&(dt.iconUrl=j.properties.icon),j.properties.shadowUrl&&(dt.shadowUrl=j.properties.shadowUrl),j.properties.iconRetinaUrl&&(dt.iconRetinaUrl=j.properties.iconRetinaUrl),pt.markerType==="circle"?ys.circleMarker(st,{radius:pt.radius||4}):ys.marker(st,{icon:new ys.Icon(dt)})},onEachFeature:async(j,st)=>{var dt;let pt=st;if(!j.properties.coords){if((dt=pt.feature)!=null&&dt.bbox){let _t=pt.getBounds().getCenter();j.properties.coords=`${_t.lat},${_t.lng}`}else if(j.geometry.type==="Polygon"){let _t=t.centroid(j);j.properties.coords=`${_t.geometry.coordinates[1]},${_t.geometry.coordinates[0]}`}}if(j.properties.qid){let _t=await Vd(j.properties.qid);j.properties.entityData=_t;let Lt=`<mdp-info-card data="${JSON.stringify(_t).replace(/"/g,"&quot;")}"></mdp-info-card>`;st.bindPopup(Lt)}else{let ht=`<mdp-info-card data="${JSON.stringify(j.properties).replace(/"/g,"&quot;")}"></mdp-info-card>`;st.bindPopup(ht)}r.popupOnHover&&(st.on("mouseover",()=>st.openPopup()),st.on("mouseout",()=>st.closePopup())),st.on("click",()=>{ft.value?(st.closePopup(),ft.value=void 0):(st.openPopup(),ft.value={},r.zoomOnClick&&kt(j.properties.coords))})},style:j=>{const st=j==null?void 0:j.properties,pt=j==null?void 0:j.geometry.type;for(let[_t,ht]of Object.entries(st))ht==="null"&&(st[_t]=null);return{color:st.color||"#FB683F",weight:st.weight||(pt==="Polygon"||pt==="MultiPolygon"?0:4),opacity:st.opacity||1,fillColor:st.fillColor||"#32C125",fillOpacity:st.fillOpacity||.5}}})}let Jt=()=>{var j;let R=Object.values(Z.value).map(st=>st[0].features.map(pt=>pt.geometry.coordinates)).flat();R.length>1&&((j=I.value)==null||j.fitBounds(R.map(st=>[st[1],st[0]]),{padding:[100,100]}))},re=!1;function Xt(){var R;if(I.value&&Z.value&&G.value&&!re){let j=Object.keys(Z.value||{}),st=G.value?G.value.length:0;console.log(`updateMap: geoJsonLayers=${j.length} warpedMapLayers=${st}`),!J.value&&(j.length>1||j.length===1&&j[0]!=="Locations"||st>0)&&(J.value=ys.control.layers(Object.fromEntries([]),{}).addTo(I.value));let pt={};if((R=G.value)==null||R.forEach(dt=>{var _t;J.value&&J.value.addOverlay(dt.layer,dt.name),dt.disabled||(_t=I.value)==null||_t.addLayer(dt.layer),pt[dt.name]=dt.layer}),Object.keys(Z.value||{}).forEach(dt=>{var Lt;let _t=new ys.LayerGroup,ht=!1;Z.value[dt].forEach(Qt=>{var te;let $t=gt(Qt);_t.addLayer($t),(te=Qt.properties)!=null&&te.disabled&&(ht=!0)}),ht||(Lt=I.value)==null||Lt.addLayer(_t),J.value&&J.value.addOverlay(_t,dt)}),Object.keys(pt).length>0){let dt=ys.control.opacity(pt,{label:null,collapsed:!0,position:"topright"});dt.addTo(I.value),Array.from(dt.getContainer().querySelectorAll(".leaflet-control-layers-overlays label")).forEach(_t=>{var Qt;let ht=_t.children[0].textContent.trim(),Lt;if((Qt=G.value)==null||Qt.forEach($t=>{$t.name===ht&&(Lt=$t)}),Lt){let $t=Lt.opacity,te=_t.children[1].children[0];te.value=$t,Lt.layer.setOpacity($t/100),te.addEventListener("input",ye=>{ye.preventDefault(),ye.stopPropagation(),Lt.layer.setOpacity(parseInt(te.value)/100)})}})}Jt()}}function Ct(R){const j={type:"FeatureCollection",features:[]};return R.filter(st=>st.coords).forEach(st=>{let[pt,dt]=st.coords.split(",").map(_t=>parseFloat(_t.trim()));j.features.push({type:"Feature",properties:st,geometry:{type:"Point",coordinates:[dt,pt]}})}),j}async function Kt(R){let j=await fetch(`https://iiif.mdpress.io/gh-dir/${R}?filter=images`).then(pt=>pt.json()).then(pt=>pt.map(dt=>`https://iiif.mdpress.io/gh:${R}/${dt.name}/manifest.json`));return(await Ax(j)).filter(pt=>pt.navPlace).map(pt=>ee(pt,pt.id))}async function Zt(){r.ghDir&&(U.value=[...U.value,...await Kt(r.ghDir)]);let R=r.data?document.getElementById(r.data):_.value,j=Array.from(R.querySelectorAll("li")).map(st=>{var pt;return ae((pt=st.firstChild)==null?void 0:pt.textContent)});if(r.marker&&r.center)if(Rw(r.center)){let st=await Vd(r.center);j.push(Promise.resolve(pe(st)))}else j.push(Promise.resolve({coords:r.center,zoom:r.zoom||10}));U.value=[...U.value,...j]}function Pe(){const R=st=>{for(let pt of st)pt.type==="childList"&&Array.from(pt.target.classList).indexOf("hydrated")>=0&&Zt()};new MutationObserver(R).observe(_.value,{childList:!0,subtree:!0,characterData:!0})}function bt(R){return/^[+-]?\d+(.\d*|\d*),{1}[+-]?\d+(.\d*|\d*)$/.test(R)}function At(R){return/^\d{1,2}(\.\d{1})?$/.test(R)}function qt(R){R=R||"";let j=[];R=R.replace(/“/,'"').replace(/”/,'"').replace(/’/,"'");let st=R.match(/[^\s"]+|"([^"]*)"/gmi);return st&&st.forEach(pt=>{j.length>0&&j[j.length-1].indexOf("=")===j[j.length-1].length-1?j[j.length-1]=`${j[j.length-1]}${pt}`:j.push(pt)}),j}function ee(R,j){let st={id:j};return R.navPlace&&(st.coords=R.navPlace.features[0].geometry.coordinates.map(pt=>pt.toFixed(5)).join(",")),R.label&&(st.label=R.label.en),R.summary&&(st.description=R.summary.en[0]),R.thumbnail&&(st.image=R.thumbnail[0].id),st}function pe(R,j=""){let st={id:j||R.id};return R.coords&&(st.coords=R.coords),R.geojson&&(st.geojson=R.geojson),R.label&&(st.label=R.label),R.description&&(st.description=R.description),R.thumbnail&&(st.image=R.thumbnail),st}async function ae(R){let j=qt(R),st=/\.(geo)?json$/i,pt=/^[a-z0-9\-]+:.+/,dt={},_t=new Set(["disabled","prefer-geojson"]);for(let ht=0;ht<j.length;ht++){let Lt=j[ht];if(Lt.indexOf("=")>0){let[Qt,...$t]=Lt.split("="),te=$t.join("=");if(te=te[te.length-1]==='"'?te.slice(1,-1):te,Qt==="qid"){let ye=await Vd(Lt);dt={...pe(ye,Lt),...dt}}else if(Qt==="iiif"){let ye=await xp(Lt);dt={...ee(ye,Lt),...dt}}else dt[Qt]=te}else if(At(Lt))dt.zoom=parseInt(Lt);else if(bt(Lt))dt.coords=Lt,dt.id=Lt;else if(Rw(Lt)){let Qt=await Vd(Lt);dt={...pe(Qt,Lt),...dt}}else if(st.test(Lt))dt.geojson=Lt;else if(pt.test(Lt)){let Qt=await xp(Lt);dt={...ee(Qt,Lt),...dt}}else if(_t.has(Lt))dt[R4(Lt)]=!0;else{let Qt=Lt[0]==='"'&&Lt[Lt.length-1]==='"'?Lt.slice(1,-1):Lt;dt.label?dt.description=Qt:dt.label=Qt}}return dt.preferGeojson=dt.preferGeojson||r.preferGeojson&&dt.geojson||dt.geojson&&!dt.coords,dt}function le(R){let[j,st]=R.split(",").map(pt=>parseFloat(pt.trim()));return new $n.LatLng(j,st)}function rr(R){navigator.clipboard&&navigator.clipboard.writeText(R)}function mr(R="",j=""){return Object.values(Z.value).map(pt=>{let dt=pt[0];return dt.type==="FeatureCollection"?dt.features:[dt]}).flat().find(pt=>{var dt,_t;return pt.id===R||((dt=pt.properties)==null?void 0:dt.id)===R||((_t=pt.properties)==null?void 0:_t.coords)===j})}function vi(R=""){var _t,ht,Lt,Qt;R=R.replace(/^flyto\|/i,"");let j="",st=10,pt=R.split(",");if(pt.length===1){j=pt[0];let $t=mr(j);st=((_t=$t==null?void 0:$t.properties)==null?void 0:_t.zoom)||st}else if(pt.length===2)if(/^[+-]?\d+(.\d*|\d*)$/.test(pt[0])){j=pt.join(",");let $t=mr("",j);st=((ht=$t==null?void 0:$t.properties)==null?void 0:ht.zoom)||st}else j=pt[0],st=parseFloat(pt[1]);else j=pt.slice(0,2).join(","),st=parseFloat(pt[2]);let dt;return(Lt=I.value)==null||Lt.eachLayer($t=>{var te,ye,xe,Be;(((ye=(te=$t==null?void 0:$t.feature)==null?void 0:te.properties)==null?void 0:ye.id)===j||((Be=(xe=$t==null?void 0:$t.feature)==null?void 0:xe.properties)==null?void 0:Be.coords)===j)&&(dt=$t)}),dt||(Qt=I.value)==null||Qt.eachLayer($t=>dt=$t),{id:j,zoom:st,layer:dt}}function Xi(){let R=_.value.parentElement,j=new Set;for(;R!=null&&R.parentElement&&R.tagName!=="MAIN";)R=R.parentElement,Array.from(R.querySelectorAll("[enter],[exit]")).forEach(pt=>{yt(pt)&&!j.has(pt)&&(Bi(pt),j.add(pt))});let st=_.value.parentElement;for(;st!=null&&st.parentElement&&st.tagName!=="BODY";)st=st.parentElement;st&&Array.from(st.querySelectorAll("mark")).forEach(pt=>{let dt=Array.from(pt.attributes).find(_t=>_t.name==="flyto");if(dt&&yt(pt.parentElement)){let ht=dt==null?void 0:dt.value;pt.classList.add(dt.name),pt.addEventListener("click",()=>kt(ht)),r.popupOnHover&&(pt.addEventListener("mouseover",()=>{let Lt=vi(ht).layer;Lt.openPopup(),v1()&&setTimeout(()=>Lt.closePopup(),2e3)}),pt.addEventListener("mouseleave",()=>{var Lt;ot.value=vi(ht),ot.value.id!==ft.value&&((Lt=ot.value.layer)==null||Lt.closePopup())}))}})}function Bi(R){let j=R.classList.contains("active");new MutationObserver(pt=>{pt.forEach(dt=>{if(dt.attributeName=="class"){let _t=dt.target.classList.contains("active");if(j!==_t){j=_t;let ht=R.attributes.getNamedItem(_t?"enter":"exit");if(ht){const[Lt,...Qt]=ht.value.split(":");let $t=Qt.join(":");Lt==="flyto"&&kt($t,!0),ht.name==="exit"&&Dt()}}}})}).observe(R,{attributes:!0,childList:!0,subtree:!0,characterData:!0})}function yt(R){let j=R.previousSibling;for(;j;){if(j.nodeName==="VE-MAP")return j===_.value?j:null;j=j.previousSibling}for(;R.parentElement&&R.tagName!=="MAIN";){R=R.parentElement;let st=R.querySelector(":scope > ve-map, :scope > p > ve-map, :scope > section > ve-map");if(st)return st===_.value?st:null}}async function kt(R,j=!1){var st,pt;if(ot.value=vi(R),ot.value.layer){if(ot.value.id===ft.value&&!j)ot.value.layer.closePopup(),Dt();else if(ft.value=ot.value.id,(st=ot.value.layer.feature)!=null&&st.properties){let dt=le(ot.value.layer.feature.properties.coords);(pt=I.value)==null||pt.flyTo(dt,ot.value.zoom)}}else Dt()}function Dt(){var R,j;if(ot.value=null,mt.value){let[st,pt,dt]=mt.value.split(",").map(ht=>parseFloat(ht)),_t=new ys.LatLng(st,pt);(R=I.value)==null||R.flyTo(_t,dt),(j=I.value)==null||j.closePopup()}ft.value=void 0}return(R,j)=>(ge(),me(Fi,null,[Vt("div",{ref_key:"root",ref:v,style:{width:"100%",height:"100%"}},[Vt("div",OH,[Vt("div",{id:"lat-lng-zoom",innerHTML:H.value,onClick:j[0]||(j[0]=st=>rr(`${H.value}`))},null,8,zH),Vt("div",{id:"map",ref_key:"mapEl",ref:k},null,512),n.caption?(ge(),me("div",{key:0,id:"caption",innerHTML:n.caption},null,8,NH)):ur("",!0)],512)],512),Vt("sl-dialog",{class:"dialog","no-header":"",style:au({"--width":u.value,"--body-spacing":0,"--footer-spacing":"0.5em"})},[d.value?(ge(),me("mdp-image",{key:0,"no-caption":"",src:d.value,fit:"cover"},null,8,DH)):ur("",!0),Vt("div",FH,[Vt("mdp-caption",{src:d.value},null,8,BH),Vt("div",jH,[Vt("sl-button",{variant:"primary",onClick:j[1]||(j[1]=st=>d.value=null)},"Close")])])],4)],64))}}),UH=`.leaflet-pane,.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-tile-container,.leaflet-pane>svg,.leaflet-pane>canvas,.leaflet-zoom-box,.leaflet-image-layer,.leaflet-layer{position:absolute;left:0;top:0}.leaflet-container{overflow:hidden}.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none}.leaflet-tile::-moz-selection{background:transparent}.leaflet-tile::selection{background:transparent}.leaflet-safari .leaflet-tile{image-rendering:-webkit-optimize-contrast}.leaflet-safari .leaflet-tile-container{width:1600px;height:1600px;-webkit-transform-origin:0 0}.leaflet-marker-icon,.leaflet-marker-shadow{display:block}.leaflet-container .leaflet-overlay-pane svg{max-width:none!important;max-height:none!important}.leaflet-container .leaflet-marker-pane img,.leaflet-container .leaflet-shadow-pane img,.leaflet-container .leaflet-tile-pane img,.leaflet-container img.leaflet-image-layer,.leaflet-container .leaflet-tile{max-width:none!important;max-height:none!important;width:auto;padding:0}.leaflet-container img.leaflet-tile{mix-blend-mode:plus-lighter}.leaflet-container.leaflet-touch-zoom{touch-action:pan-x pan-y}.leaflet-container.leaflet-touch-drag{touch-action:none;touch-action:pinch-zoom}.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom{touch-action:none}.leaflet-container{-webkit-tap-highlight-color:transparent}.leaflet-container a{-webkit-tap-highlight-color:rgba(51,181,229,.4)}.leaflet-tile{filter:inherit;visibility:hidden}.leaflet-tile-loaded{visibility:inherit}.leaflet-zoom-box{width:0;height:0;box-sizing:border-box;z-index:800}.leaflet-overlay-pane svg{-moz-user-select:none}.leaflet-pane{z-index:400}.leaflet-tile-pane{z-index:200}.leaflet-overlay-pane{z-index:400}.leaflet-shadow-pane{z-index:500}.leaflet-marker-pane{z-index:600}.leaflet-tooltip-pane{z-index:650}.leaflet-popup-pane{z-index:700}.leaflet-map-pane canvas{z-index:100}.leaflet-map-pane svg{z-index:200}.leaflet-vml-shape{width:1px;height:1px}.lvml{behavior:url(#default#VML);display:inline-block;position:absolute}.leaflet-control{position:relative;z-index:800;pointer-events:visiblePainted;pointer-events:auto}.leaflet-top,.leaflet-bottom{position:absolute;z-index:1000;pointer-events:none}.leaflet-top{top:0}.leaflet-right{right:0}.leaflet-bottom{bottom:0}.leaflet-left{left:0}.leaflet-control{float:left;clear:both}.leaflet-right .leaflet-control{float:right}.leaflet-top .leaflet-control{margin-top:10px}.leaflet-bottom .leaflet-control{margin-bottom:10px}.leaflet-left .leaflet-control{margin-left:10px}.leaflet-right .leaflet-control{margin-right:10px}.leaflet-fade-anim .leaflet-popup{opacity:0;transition:opacity .2s linear}.leaflet-fade-anim .leaflet-map-pane .leaflet-popup{opacity:1}.leaflet-zoom-animated{transform-origin:0 0}svg.leaflet-zoom-animated{will-change:transform}.leaflet-zoom-anim .leaflet-zoom-animated{transition:transform .25s cubic-bezier(0,0,.25,1)}.leaflet-zoom-anim .leaflet-tile,.leaflet-pan-anim .leaflet-tile{transition:none}.leaflet-zoom-anim .leaflet-zoom-hide{visibility:hidden}.leaflet-interactive{cursor:pointer}.leaflet-grab{cursor:grab}.leaflet-crosshair,.leaflet-crosshair .leaflet-interactive{cursor:crosshair}.leaflet-popup-pane,.leaflet-control{cursor:auto}.leaflet-dragging .leaflet-grab,.leaflet-dragging .leaflet-grab .leaflet-interactive,.leaflet-dragging .leaflet-marker-draggable{cursor:move;cursor:grabbing}.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-image-layer,.leaflet-pane>svg path,.leaflet-tile-container{pointer-events:none}.leaflet-marker-icon.leaflet-interactive,.leaflet-image-layer.leaflet-interactive,.leaflet-pane>svg path.leaflet-interactive,svg.leaflet-image-layer.leaflet-interactive path{pointer-events:visiblePainted;pointer-events:auto}.leaflet-container{background:#ddd;outline-offset:1px}.leaflet-container a{color:#0078a8}.leaflet-zoom-box{border:2px dotted #38f;background:rgba(255,255,255,.5)}.leaflet-container{font-family:Helvetica Neue,Arial,Helvetica,sans-serif;font-size:12px;font-size:.75rem;line-height:1.5}.leaflet-bar{box-shadow:0 1px 5px #000000a6;border-radius:4px}.leaflet-bar a{background-color:#fff;border-bottom:1px solid #ccc;width:26px;height:26px;line-height:26px;display:block;text-align:center;text-decoration:none;color:#000}.leaflet-bar a,.leaflet-control-layers-toggle{background-position:50% 50%;background-repeat:no-repeat;display:block}.leaflet-bar a:hover,.leaflet-bar a:focus{background-color:#f4f4f4}.leaflet-bar a:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.leaflet-bar a:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-bottom:none}.leaflet-bar a.leaflet-disabled{cursor:default;background-color:#f4f4f4;color:#bbb}.leaflet-touch .leaflet-bar a{width:30px;height:30px;line-height:30px}.leaflet-touch .leaflet-bar a:first-child{border-top-left-radius:2px;border-top-right-radius:2px}.leaflet-touch .leaflet-bar a:last-child{border-bottom-left-radius:2px;border-bottom-right-radius:2px}.leaflet-control-zoom-in,.leaflet-control-zoom-out{font:700 18px Lucida Console,Monaco,monospace;text-indent:1px}.leaflet-touch .leaflet-control-zoom-in,.leaflet-touch .leaflet-control-zoom-out{font-size:22px}.leaflet-control-layers{box-shadow:0 1px 5px #0006;background:#fff;border-radius:5px}.leaflet-control-layers-toggle{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAQAAAADQ4RFAAACf0lEQVR4AY1UM3gkARTePdvdoTxXKc+qTl3aU5U6b2Kbkz3Gtq3Zw6ziLGNPzrYx7946Tr6/ee/XeCQ4D3ykPtL5tHno4n0d/h3+xfuWHGLX81cn7r0iTNzjr7LrlxCqPtkbTQEHeqOrTy4Yyt3VCi/IOB0v7rVC7q45Q3Gr5K6jt+3Gl5nCoDD4MtO+j96Wu8atmhGqcNGHObuf8OM/x3AMx38+4Z2sPqzCxRFK2aF2e5Jol56XTLyggAMTL56XOMoS1W4pOyjUcGGQdZxU6qRh7B9Zp+PfpOFlqt0zyDZckPi1ttmIp03jX8gyJ8a/PG2yutpS/Vol7peZIbZcKBAEEheEIAgFbDkz5H6Zrkm2hVWGiXKiF4Ycw0RWKdtC16Q7qe3X4iOMxruonzegJzWaXFrU9utOSsLUmrc0YjeWYjCW4PDMADElpJSSQ0vQvA1Tm6/JlKnqFs1EGyZiFCqnRZTEJJJiKRYzVYzJck2Rm6P4iH+cmSY0YzimYa8l0EtTODFWhcMIMVqdsI2uiTvKmTisIDHJ3od5GILVhBCarCfVRmo4uTjkhrhzkiBV7SsaqS+TzrzM1qpGGUFt28pIySQHR6h7F6KSwGWm97ay+Z+ZqMcEjEWebE7wxCSQwpkhJqoZA5ivCdZDjJepuJ9IQjGGUmuXJdBFUygxVqVsxFsLMbDe8ZbDYVCGKxs+W080max1hFCarCfV+C1KATwcnvE9gRRuMP2prdbWGowm1KB1y+zwMMENkM755cJ2yPDtqhTI6ED1M/82yIDtC/4j4BijjeObflpO9I9MwXTCsSX8jWAFeHr05WoLTJ5G8IQVS/7vwR6ohirYM7f6HzYpogfS3R2OAAAAAElFTkSuQmCC);width:36px;height:36px}.leaflet-retina .leaflet-control-layers-toggle{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAQAAABvcdNgAAAEsklEQVR4AWL4TydIhpZK1kpWOlg0w3ZXP6D2soBtG42jeI6ZmQTHzAxiTbSJsYLjO9HhP+WOmcuhciVnmHVQcJnp7DFvScowZorad/+V/fVzMdMT2g9Cv9guXGv/7pYOrXh2U+RRR3dSd9JRx6bIFc/ekqHI29JC6pJ5ZEh1yWkhkbcFeSjxgx3L2m1cb1C7bceyxA+CNjT/Ifff+/kDk2u/w/33/IeCMOSaWZ4glosqT3DNnNZQ7Cs58/3Ce5HL78iZH/vKVIaYlqzfdLu8Vi7dnvUbEza5Idt36tquZFldl6N5Z/POLof0XLK61mZCmJSWjVF9tEjUluu74IUXvgttuVIHE7YxSkaYhJZam7yiM9Pv82JYfl9nptxZaxMJE4YSPty+vF0+Y2up9d3wwijfjZbabqm/3bZ9ecKHsiGmRflnn1MW4pjHf9oLufyn2z3y1D6n8g8TZhxyzipLNPnAUpsOiuWimg52psrTZYnOWYNDTMuWBWa0tJb4rgq1UvmutpaYEbZlwU3CLJm/ayYjHW5/h7xWLn9Hh1vepDkyf7dE7MtT5LR4e7yYpHrkhOUpEfssBLq2pPhAqoSWKUkk7EDqkmK6RrCEzqDjhNDWNE+XSMvkJRDWlZTmCW0l0PHQGRZY5t1L83kT0Y3l2SItk5JAWHl2dCOBm+fPu3fo5/3v61RMCO9Jx2EEYYhb0rmNQMX/vm7gqOEJLcXTGw3CAuRNeyaPWwjR8PRqKQ1PDA/dpv+on9Shox52WFnx0KY8onHayrJzm87i5h9xGw/tfkev0jGsQizqezUKjk12hBMKJ4kbCqGPVNXudyyrShovGw5CgxsRICxF6aRmSjlBnHRzg7Gx8fKqEubI2rahQYdR1YgDIRQO7JvQyD52hoIQx0mxa0ODtW2Iozn1le2iIRdzwWewedyZzewidueOGqlsn1MvcnQpuVwLGG3/IR1hIKxCjelIDZ8ldqWz25jWAsnldEnK0Zxro19TGVb2ffIZEsIO89EIEDvKMPrzmBOQcKQ+rroye6NgRRxqR4U8EAkz0CL6uSGOm6KQCdWjvjRiSP1BPalCRS5iQYiEIvxuBMJEWgzSoHADcVMuN7IuqqTeyUPq22qFimFtxDyBBJEwNyt6TM88blFHao/6tWWhuuOM4SAK4EI4QmFHA+SEyWlp4EQoJ13cYGzMu7yszEIBOm2rVmHUNqwAIQabISNMRstmdhNWcFLsSm+0tjJH1MdRxO5Nx0WDMhCtgD6OKgZeljJqJKc9po8juskR9XN0Y1lZ3mWjLR9JCO1jRDMd0fpYC2VnvjBSEFg7wBENc0R9HFlb0xvF1+TBEpF68d+DHR6IOWVv2BECtxo46hOFUBd/APU57WIoEwJhIi2CdpyZX0m93BZicktMj1AS9dClteUFAUNUIEygRZCtik5zSxI9MubTBH1GOiHsiLJ3OCoSZkILa9PxiN0EbvhsAo8tdAf9Seepd36lGWHmtNANTv5Jd0z4QYyeo/UEJqxKRpg5LZx6btLPsOaEmdMyxYdlc8LMaJnikDlhclqmPiQnTEpLUIZEwkRagjYkEibQErwhkTAKCLQEbUgkzJQWc/0PstHHcfEdQ+UAAAAASUVORK5CYII=);background-size:26px 26px}.leaflet-touch .leaflet-control-layers-toggle{width:44px;height:44px}.leaflet-control-layers .leaflet-control-layers-list,.leaflet-control-layers-expanded .leaflet-control-layers-toggle{display:none}.leaflet-control-layers-expanded .leaflet-control-layers-list{display:block;position:relative}.leaflet-control-layers-expanded{padding:6px 10px 6px 6px;color:#333;background:#fff}.leaflet-control-layers-scrollbar{overflow-y:scroll;overflow-x:hidden;padding-right:5px}.leaflet-control-layers-selector{margin-top:2px;position:relative;top:1px}.leaflet-control-layers label{display:block;font-size:13px;font-size:1.08333em}.leaflet-control-layers-separator{height:0;border-top:1px solid #ddd;margin:5px -10px 5px -6px}.leaflet-default-icon-path{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=)}.leaflet-container .leaflet-control-attribution{background:#fff;background:rgba(255,255,255,.8);margin:0}.leaflet-control-attribution,.leaflet-control-scale-line{padding:0 5px;color:#333;line-height:1.4}.leaflet-control-attribution a{text-decoration:none}.leaflet-control-attribution a:hover,.leaflet-control-attribution a:focus{text-decoration:underline}.leaflet-attribution-flag{display:inline!important;vertical-align:baseline!important;width:1em;height:.6669em}.leaflet-left .leaflet-control-scale{margin-left:5px}.leaflet-bottom .leaflet-control-scale{margin-bottom:5px}.leaflet-control-scale-line{border:2px solid #777;border-top:none;line-height:1.1;padding:2px 5px 1px;white-space:nowrap;box-sizing:border-box;background:rgba(255,255,255,.8);text-shadow:1px 1px #fff}.leaflet-control-scale-line:not(:first-child){border-top:2px solid #777;border-bottom:none;margin-top:-2px}.leaflet-control-scale-line:not(:first-child):not(:last-child){border-bottom:2px solid #777}.leaflet-touch .leaflet-control-attribution,.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{box-shadow:none}.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{border:2px solid rgba(0,0,0,.2);background-clip:padding-box}.leaflet-popup{position:absolute;text-align:center;margin-bottom:20px}.leaflet-popup-content-wrapper{padding:1px;text-align:left;border-radius:12px}.leaflet-popup-content{margin:13px 24px 13px 20px;line-height:1.3;font-size:13px;font-size:1.08333em;min-height:1px}.leaflet-popup-content p{margin:1.3em 0}.leaflet-popup-tip-container{width:40px;height:20px;position:absolute;left:50%;margin-top:-1px;margin-left:-20px;overflow:hidden;pointer-events:none}.leaflet-popup-tip{width:17px;height:17px;padding:1px;margin:-10px auto 0;pointer-events:auto;transform:rotate(45deg)}.leaflet-popup-content-wrapper,.leaflet-popup-tip{background:white;color:#333;box-shadow:0 3px 14px #0006}.leaflet-container a.leaflet-popup-close-button{position:absolute;top:0;right:0;border:none;text-align:center;width:24px;height:24px;font:16px/24px Tahoma,Verdana,sans-serif;color:#757575;text-decoration:none;background:transparent}.leaflet-container a.leaflet-popup-close-button:hover,.leaflet-container a.leaflet-popup-close-button:focus{color:#585858}.leaflet-popup-scrolled{overflow:auto}.leaflet-oldie .leaflet-popup-content-wrapper{-ms-zoom:1}.leaflet-oldie .leaflet-popup-tip{width:24px;margin:0 auto;-ms-filter:"progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)";filter:progid:DXImageTransform.Microsoft.Matrix(M11=.70710678,M12=.70710678,M21=-.70710678,M22=.70710678)}.leaflet-oldie .leaflet-control-zoom,.leaflet-oldie .leaflet-control-layers,.leaflet-oldie .leaflet-popup-content-wrapper,.leaflet-oldie .leaflet-popup-tip{border:1px solid #999}.leaflet-div-icon{background:#fff;border:1px solid #666}.leaflet-tooltip{position:absolute;padding:6px;background-color:#fff;border:1px solid #fff;border-radius:3px;color:#222;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:none;box-shadow:0 1px 3px #0006}.leaflet-tooltip.leaflet-interactive{cursor:pointer;pointer-events:auto}.leaflet-tooltip-top:before,.leaflet-tooltip-bottom:before,.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{position:absolute;pointer-events:none;border:6px solid transparent;background:transparent;content:""}.leaflet-tooltip-bottom{margin-top:6px}.leaflet-tooltip-top{margin-top:-6px}.leaflet-tooltip-bottom:before,.leaflet-tooltip-top:before{left:50%;margin-left:-6px}.leaflet-tooltip-top:before{bottom:0;margin-bottom:-12px;border-top-color:#fff}.leaflet-tooltip-bottom:before{top:0;margin-top:-12px;margin-left:-6px;border-bottom-color:#fff}.leaflet-tooltip-left{margin-left:-6px}.leaflet-tooltip-right{margin-left:6px}.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{top:50%;margin-top:-6px}.leaflet-tooltip-left:before{right:0;margin-right:-12px;border-left-color:#fff}.leaflet-tooltip-right:before{left:0;margin-left:-12px;border-right-color:#fff}@media print{.leaflet-control{-webkit-print-color-adjust:exact;print-color-adjust:exact}}input[type=range]{-webkit-appearance:none;-webkit-tap-highlight-color:rgba(255,255,255,0);width:110px;height:10px;margin:0;border:none;padding:1px 2px;border-radius:30px;background:#f1f0ee;outline:none}input[type=range]::-ms-track{border:inherit;color:transparent;background:transparent}input[type=range]::-ms-fill-lower,input[type=range]::-ms-fill-upper{background:transparent}input[type=range]::-ms-tooltip{display:none}input[type=range]::-ms-thumb{width:15px;height:18px;border-radius:12px;border:0;background-image:linear-gradient(to bottom,#1253a4 0,#1253a4 100%)}.leaflet-control-layers-label{margin:0 0 8px 1px}@keyframes leaflet-gestures-fadein{0%{opacity:0}to{opacity:1}}.leaflet-container:after{animation:leaflet-gestures-fadein .8s backwards;color:#fff;font-family:Roboto,Arial,sans-serif;font-size:22px;justify-content:center;display:flex;align-items:center;padding:15px;position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:461;pointer-events:none}.leaflet-gesture-handling-touch-warning:after,.leaflet-gesture-handling-scroll-warning:after{animation:leaflet-gestures-fadein .8s forwards}.leaflet-gesture-handling-touch-warning:after{content:attr(data-gesture-handling-touch-content)}.leaflet-gesture-handling-scroll-warning:after{content:attr(data-gesture-handling-scroll-content)}:root,:host,.sl-theme-light{color-scheme:light;--sl-color-gray-50: hsl(0 0% 97.5%);--sl-color-gray-100: hsl(240 4.8% 95.9%);--sl-color-gray-200: hsl(240 5.9% 90%);--sl-color-gray-300: hsl(240 4.9% 83.9%);--sl-color-gray-400: hsl(240 5% 64.9%);--sl-color-gray-500: hsl(240 3.8% 46.1%);--sl-color-gray-600: hsl(240 5.2% 33.9%);--sl-color-gray-700: hsl(240 5.3% 26.1%);--sl-color-gray-800: hsl(240 3.7% 15.9%);--sl-color-gray-900: hsl(240 5.9% 10%);--sl-color-gray-950: hsl(240 7.3% 8%);--sl-color-red-50: hsl(0 85.7% 97.3%);--sl-color-red-100: hsl(0 93.3% 94.1%);--sl-color-red-200: hsl(0 96.3% 89.4%);--sl-color-red-300: hsl(0 93.5% 81.8%);--sl-color-red-400: hsl(0 90.6% 70.8%);--sl-color-red-500: hsl(0 84.2% 60.2%);--sl-color-red-600: hsl(0 72.2% 50.6%);--sl-color-red-700: hsl(0 73.7% 41.8%);--sl-color-red-800: hsl(0 70% 35.3%);--sl-color-red-900: hsl(0 62.8% 30.6%);--sl-color-red-950: hsl(0 60% 19.6%);--sl-color-orange-50: hsl(33.3 100% 96.5%);--sl-color-orange-100: hsl(34.3 100% 91.8%);--sl-color-orange-200: hsl(32.1 97.7% 83.1%);--sl-color-orange-300: hsl(30.7 97.2% 72.4%);--sl-color-orange-400: hsl(27 96% 61%);--sl-color-orange-500: hsl(24.6 95% 53.1%);--sl-color-orange-600: hsl(20.5 90.2% 48.2%);--sl-color-orange-700: hsl(17.5 88.3% 40.4%);--sl-color-orange-800: hsl(15 79.1% 33.7%);--sl-color-orange-900: hsl(15.3 74.6% 27.8%);--sl-color-orange-950: hsl(15.2 69.1% 19%);--sl-color-amber-50: hsl(48 100% 96.1%);--sl-color-amber-100: hsl(48 96.5% 88.8%);--sl-color-amber-200: hsl(48 96.6% 76.7%);--sl-color-amber-300: hsl(45.9 96.7% 64.5%);--sl-color-amber-400: hsl(43.3 96.4% 56.3%);--sl-color-amber-500: hsl(37.7 92.1% 50.2%);--sl-color-amber-600: hsl(32.1 94.6% 43.7%);--sl-color-amber-700: hsl(26 90.5% 37.1%);--sl-color-amber-800: hsl(22.7 82.5% 31.4%);--sl-color-amber-900: hsl(21.7 77.8% 26.5%);--sl-color-amber-950: hsl(22.9 74.1% 16.7%);--sl-color-yellow-50: hsl(54.5 91.7% 95.3%);--sl-color-yellow-100: hsl(54.9 96.7% 88%);--sl-color-yellow-200: hsl(52.8 98.3% 76.9%);--sl-color-yellow-300: hsl(50.4 97.8% 63.5%);--sl-color-yellow-400: hsl(47.9 95.8% 53.1%);--sl-color-yellow-500: hsl(45.4 93.4% 47.5%);--sl-color-yellow-600: hsl(40.6 96.1% 40.4%);--sl-color-yellow-700: hsl(35.5 91.7% 32.9%);--sl-color-yellow-800: hsl(31.8 81% 28.8%);--sl-color-yellow-900: hsl(28.4 72.5% 25.7%);--sl-color-yellow-950: hsl(33.1 69% 13.9%);--sl-color-lime-50: hsl(78.3 92% 95.1%);--sl-color-lime-100: hsl(79.6 89.1% 89.2%);--sl-color-lime-200: hsl(80.9 88.5% 79.6%);--sl-color-lime-300: hsl(82 84.5% 67.1%);--sl-color-lime-400: hsl(82.7 78% 55.5%);--sl-color-lime-500: hsl(83.7 80.5% 44.3%);--sl-color-lime-600: hsl(84.8 85.2% 34.5%);--sl-color-lime-700: hsl(85.9 78.4% 27.3%);--sl-color-lime-800: hsl(86.3 69% 22.7%);--sl-color-lime-900: hsl(87.6 61.2% 20.2%);--sl-color-lime-950: hsl(86.5 60.6% 13.9%);--sl-color-green-50: hsl(138.5 76.5% 96.7%);--sl-color-green-100: hsl(140.6 84.2% 92.5%);--sl-color-green-200: hsl(141 78.9% 85.1%);--sl-color-green-300: hsl(141.7 76.6% 73.1%);--sl-color-green-400: hsl(141.9 69.2% 58%);--sl-color-green-500: hsl(142.1 70.6% 45.3%);--sl-color-green-600: hsl(142.1 76.2% 36.3%);--sl-color-green-700: hsl(142.4 71.8% 29.2%);--sl-color-green-800: hsl(142.8 64.2% 24.1%);--sl-color-green-900: hsl(143.8 61.2% 20.2%);--sl-color-green-950: hsl(144.3 60.7% 12%);--sl-color-emerald-50: hsl(151.8 81% 95.9%);--sl-color-emerald-100: hsl(149.3 80.4% 90%);--sl-color-emerald-200: hsl(152.4 76% 80.4%);--sl-color-emerald-300: hsl(156.2 71.6% 66.9%);--sl-color-emerald-400: hsl(158.1 64.4% 51.6%);--sl-color-emerald-500: hsl(160.1 84.1% 39.4%);--sl-color-emerald-600: hsl(161.4 93.5% 30.4%);--sl-color-emerald-700: hsl(162.9 93.5% 24.3%);--sl-color-emerald-800: hsl(163.1 88.1% 19.8%);--sl-color-emerald-900: hsl(164.2 85.7% 16.5%);--sl-color-emerald-950: hsl(164.3 87.5% 9.4%);--sl-color-teal-50: hsl(166.2 76.5% 96.7%);--sl-color-teal-100: hsl(167.2 85.5% 89.2%);--sl-color-teal-200: hsl(168.4 83.8% 78.2%);--sl-color-teal-300: hsl(170.6 76.9% 64.3%);--sl-color-teal-400: hsl(172.5 66% 50.4%);--sl-color-teal-500: hsl(173.4 80.4% 40%);--sl-color-teal-600: hsl(174.7 83.9% 31.6%);--sl-color-teal-700: hsl(175.3 77.4% 26.1%);--sl-color-teal-800: hsl(176.1 69.4% 21.8%);--sl-color-teal-900: hsl(175.9 60.8% 19%);--sl-color-teal-950: hsl(176.5 58.6% 11.4%);--sl-color-cyan-50: hsl(183.2 100% 96.3%);--sl-color-cyan-100: hsl(185.1 95.9% 90.4%);--sl-color-cyan-200: hsl(186.2 93.5% 81.8%);--sl-color-cyan-300: hsl(187 92.4% 69%);--sl-color-cyan-400: hsl(187.9 85.7% 53.3%);--sl-color-cyan-500: hsl(188.7 94.5% 42.7%);--sl-color-cyan-600: hsl(191.6 91.4% 36.5%);--sl-color-cyan-700: hsl(192.9 82.3% 31%);--sl-color-cyan-800: hsl(194.4 69.6% 27.1%);--sl-color-cyan-900: hsl(196.4 63.6% 23.7%);--sl-color-cyan-950: hsl(196.8 61% 16.1%);--sl-color-sky-50: hsl(204 100% 97.1%);--sl-color-sky-100: hsl(204 93.8% 93.7%);--sl-color-sky-200: hsl(200.6 94.4% 86.1%);--sl-color-sky-300: hsl(199.4 95.5% 73.9%);--sl-color-sky-400: hsl(198.4 93.2% 59.6%);--sl-color-sky-500: hsl(198.6 88.7% 48.4%);--sl-color-sky-600: hsl(200.4 98% 39.4%);--sl-color-sky-700: hsl(201.3 96.3% 32.2%);--sl-color-sky-800: hsl(201 90% 27.5%);--sl-color-sky-900: hsl(202 80.3% 23.9%);--sl-color-sky-950: hsl(202.3 73.8% 16.5%);--sl-color-blue-50: hsl(213.8 100% 96.9%);--sl-color-blue-100: hsl(214.3 94.6% 92.7%);--sl-color-blue-200: hsl(213.3 96.9% 87.3%);--sl-color-blue-300: hsl(211.7 96.4% 78.4%);--sl-color-blue-400: hsl(213.1 93.9% 67.8%);--sl-color-blue-500: hsl(217.2 91.2% 59.8%);--sl-color-blue-600: hsl(221.2 83.2% 53.3%);--sl-color-blue-700: hsl(224.3 76.3% 48%);--sl-color-blue-800: hsl(225.9 70.7% 40.2%);--sl-color-blue-900: hsl(224.4 64.3% 32.9%);--sl-color-blue-950: hsl(226.2 55.3% 18.4%);--sl-color-indigo-50: hsl(225.9 100% 96.7%);--sl-color-indigo-100: hsl(226.5 100% 93.9%);--sl-color-indigo-200: hsl(228 96.5% 88.8%);--sl-color-indigo-300: hsl(229.7 93.5% 81.8%);--sl-color-indigo-400: hsl(234.5 89.5% 73.9%);--sl-color-indigo-500: hsl(238.7 83.5% 66.7%);--sl-color-indigo-600: hsl(243.4 75.4% 58.6%);--sl-color-indigo-700: hsl(244.5 57.9% 50.6%);--sl-color-indigo-800: hsl(243.7 54.5% 41.4%);--sl-color-indigo-900: hsl(242.2 47.4% 34.3%);--sl-color-indigo-950: hsl(243.5 43.6% 22.9%);--sl-color-violet-50: hsl(250 100% 97.6%);--sl-color-violet-100: hsl(251.4 91.3% 95.5%);--sl-color-violet-200: hsl(250.5 95.2% 91.8%);--sl-color-violet-300: hsl(252.5 94.7% 85.1%);--sl-color-violet-400: hsl(255.1 91.7% 76.3%);--sl-color-violet-500: hsl(258.3 89.5% 66.3%);--sl-color-violet-600: hsl(262.1 83.3% 57.8%);--sl-color-violet-700: hsl(263.4 70% 50.4%);--sl-color-violet-800: hsl(263.4 69.3% 42.2%);--sl-color-violet-900: hsl(263.5 67.4% 34.9%);--sl-color-violet-950: hsl(265.1 61.5% 21.4%);--sl-color-purple-50: hsl(270 100% 98%);--sl-color-purple-100: hsl(268.7 100% 95.5%);--sl-color-purple-200: hsl(268.6 100% 91.8%);--sl-color-purple-300: hsl(269.2 97.4% 85.1%);--sl-color-purple-400: hsl(270 95.2% 75.3%);--sl-color-purple-500: hsl(270.7 91% 65.1%);--sl-color-purple-600: hsl(271.5 81.3% 55.9%);--sl-color-purple-700: hsl(272.1 71.7% 47.1%);--sl-color-purple-800: hsl(272.9 67.2% 39.4%);--sl-color-purple-900: hsl(273.6 65.6% 32%);--sl-color-purple-950: hsl(276 59.5% 16.5%);--sl-color-fuchsia-50: hsl(289.1 100% 97.8%);--sl-color-fuchsia-100: hsl(287 100% 95.5%);--sl-color-fuchsia-200: hsl(288.3 95.8% 90.6%);--sl-color-fuchsia-300: hsl(291.1 93.1% 82.9%);--sl-color-fuchsia-400: hsl(292 91.4% 72.5%);--sl-color-fuchsia-500: hsl(292.2 84.1% 60.6%);--sl-color-fuchsia-600: hsl(293.4 69.5% 48.8%);--sl-color-fuchsia-700: hsl(294.7 72.4% 39.8%);--sl-color-fuchsia-800: hsl(295.4 70.2% 32.9%);--sl-color-fuchsia-900: hsl(296.7 63.6% 28%);--sl-color-fuchsia-950: hsl(297.1 56.8% 14.5%);--sl-color-pink-50: hsl(327.3 73.3% 97.1%);--sl-color-pink-100: hsl(325.7 77.8% 94.7%);--sl-color-pink-200: hsl(325.9 84.6% 89.8%);--sl-color-pink-300: hsl(327.4 87.1% 81.8%);--sl-color-pink-400: hsl(328.6 85.5% 70.2%);--sl-color-pink-500: hsl(330.4 81.2% 60.4%);--sl-color-pink-600: hsl(333.3 71.4% 50.6%);--sl-color-pink-700: hsl(335.1 77.6% 42%);--sl-color-pink-800: hsl(335.8 74.4% 35.3%);--sl-color-pink-900: hsl(335.9 69% 30.4%);--sl-color-pink-950: hsl(336.2 65.4% 15.9%);--sl-color-rose-50: hsl(355.7 100% 97.3%);--sl-color-rose-100: hsl(355.6 100% 94.7%);--sl-color-rose-200: hsl(352.7 96.1% 90%);--sl-color-rose-300: hsl(352.6 95.7% 81.8%);--sl-color-rose-400: hsl(351.3 94.5% 71.4%);--sl-color-rose-500: hsl(349.7 89.2% 60.2%);--sl-color-rose-600: hsl(346.8 77.2% 49.8%);--sl-color-rose-700: hsl(345.3 82.7% 40.8%);--sl-color-rose-800: hsl(343.4 79.7% 34.7%);--sl-color-rose-900: hsl(341.5 75.5% 30.4%);--sl-color-rose-950: hsl(341.3 70.1% 17.1%);--sl-color-primary-50: var(--sl-color-sky-50);--sl-color-primary-100: var(--sl-color-sky-100);--sl-color-primary-200: var(--sl-color-sky-200);--sl-color-primary-300: var(--sl-color-sky-300);--sl-color-primary-400: var(--sl-color-sky-400);--sl-color-primary-500: var(--sl-color-sky-500);--sl-color-primary-600: var(--sl-color-sky-600);--sl-color-primary-700: var(--sl-color-sky-700);--sl-color-primary-800: var(--sl-color-sky-800);--sl-color-primary-900: var(--sl-color-sky-900);--sl-color-primary-950: var(--sl-color-sky-950);--sl-color-success-50: var(--sl-color-green-50);--sl-color-success-100: var(--sl-color-green-100);--sl-color-success-200: var(--sl-color-green-200);--sl-color-success-300: var(--sl-color-green-300);--sl-color-success-400: var(--sl-color-green-400);--sl-color-success-500: var(--sl-color-green-500);--sl-color-success-600: var(--sl-color-green-600);--sl-color-success-700: var(--sl-color-green-700);--sl-color-success-800: var(--sl-color-green-800);--sl-color-success-900: var(--sl-color-green-900);--sl-color-success-950: var(--sl-color-green-950);--sl-color-warning-50: var(--sl-color-amber-50);--sl-color-warning-100: var(--sl-color-amber-100);--sl-color-warning-200: var(--sl-color-amber-200);--sl-color-warning-300: var(--sl-color-amber-300);--sl-color-warning-400: var(--sl-color-amber-400);--sl-color-warning-500: var(--sl-color-amber-500);--sl-color-warning-600: var(--sl-color-amber-600);--sl-color-warning-700: var(--sl-color-amber-700);--sl-color-warning-800: var(--sl-color-amber-800);--sl-color-warning-900: var(--sl-color-amber-900);--sl-color-warning-950: var(--sl-color-amber-950);--sl-color-danger-50: var(--sl-color-red-50);--sl-color-danger-100: var(--sl-color-red-100);--sl-color-danger-200: var(--sl-color-red-200);--sl-color-danger-300: var(--sl-color-red-300);--sl-color-danger-400: var(--sl-color-red-400);--sl-color-danger-500: var(--sl-color-red-500);--sl-color-danger-600: var(--sl-color-red-600);--sl-color-danger-700: var(--sl-color-red-700);--sl-color-danger-800: var(--sl-color-red-800);--sl-color-danger-900: var(--sl-color-red-900);--sl-color-danger-950: var(--sl-color-red-950);--sl-color-neutral-50: var(--sl-color-gray-50);--sl-color-neutral-100: var(--sl-color-gray-100);--sl-color-neutral-200: var(--sl-color-gray-200);--sl-color-neutral-300: var(--sl-color-gray-300);--sl-color-neutral-400: var(--sl-color-gray-400);--sl-color-neutral-500: var(--sl-color-gray-500);--sl-color-neutral-600: var(--sl-color-gray-600);--sl-color-neutral-700: var(--sl-color-gray-700);--sl-color-neutral-800: var(--sl-color-gray-800);--sl-color-neutral-900: var(--sl-color-gray-900);--sl-color-neutral-950: var(--sl-color-gray-950);--sl-color-neutral-0: hsl(0, 0%, 100%);--sl-color-neutral-1000: hsl(0, 0%, 0%);--sl-border-radius-small: .1875rem;--sl-border-radius-medium: .25rem;--sl-border-radius-large: .5rem;--sl-border-radius-x-large: 1rem;--sl-border-radius-circle: 50%;--sl-border-radius-pill: 9999px;--sl-shadow-x-small: 0 1px 2px hsl(240 3.8% 46.1% / 6%);--sl-shadow-small: 0 1px 2px hsl(240 3.8% 46.1% / 12%);--sl-shadow-medium: 0 2px 4px hsl(240 3.8% 46.1% / 12%);--sl-shadow-large: 0 2px 8px hsl(240 3.8% 46.1% / 12%);--sl-shadow-x-large: 0 4px 16px hsl(240 3.8% 46.1% / 12%);--sl-spacing-3x-small: .125rem;--sl-spacing-2x-small: .25rem;--sl-spacing-x-small: .5rem;--sl-spacing-small: .75rem;--sl-spacing-medium: 1rem;--sl-spacing-large: 1.25rem;--sl-spacing-x-large: 1.75rem;--sl-spacing-2x-large: 2.25rem;--sl-spacing-3x-large: 3rem;--sl-spacing-4x-large: 4.5rem;--sl-transition-x-slow: 1s;--sl-transition-slow: .5s;--sl-transition-medium: .25s;--sl-transition-fast: .15s;--sl-transition-x-fast: 50ms;--sl-font-mono: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;--sl-font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--sl-font-serif: Georgia, "Times New Roman", serif;--sl-font-size-2x-small: .625rem;--sl-font-size-x-small: .75rem;--sl-font-size-small: .875rem;--sl-font-size-medium: 1rem;--sl-font-size-large: 1.25rem;--sl-font-size-x-large: 1.5rem;--sl-font-size-2x-large: 2.25rem;--sl-font-size-3x-large: 3rem;--sl-font-size-4x-large: 4.5rem;--sl-font-weight-light: 300;--sl-font-weight-normal: 400;--sl-font-weight-semibold: 500;--sl-font-weight-bold: 700;--sl-letter-spacing-denser: -.03em;--sl-letter-spacing-dense: -.015em;--sl-letter-spacing-normal: normal;--sl-letter-spacing-loose: .075em;--sl-letter-spacing-looser: .15em;--sl-line-height-denser: 1;--sl-line-height-dense: 1.4;--sl-line-height-normal: 1.8;--sl-line-height-loose: 2.2;--sl-line-height-looser: 2.6;--sl-focus-ring-color: var(--sl-color-primary-600);--sl-focus-ring-style: solid;--sl-focus-ring-width: 3px;--sl-focus-ring: var(--sl-focus-ring-style) var(--sl-focus-ring-width) var(--sl-focus-ring-color);--sl-focus-ring-offset: 1px;--sl-button-font-size-small: var(--sl-font-size-x-small);--sl-button-font-size-medium: var(--sl-font-size-small);--sl-button-font-size-large: var(--sl-font-size-medium);--sl-input-height-small: 1.875rem;--sl-input-height-medium: 2.5rem;--sl-input-height-large: 3.125rem;--sl-input-background-color: var(--sl-color-neutral-0);--sl-input-background-color-hover: var(--sl-input-background-color);--sl-input-background-color-focus: var(--sl-input-background-color);--sl-input-background-color-disabled: var(--sl-color-neutral-100);--sl-input-border-color: var(--sl-color-neutral-300);--sl-input-border-color-hover: var(--sl-color-neutral-400);--sl-input-border-color-focus: var(--sl-color-primary-500);--sl-input-border-color-disabled: var(--sl-color-neutral-300);--sl-input-border-width: 1px;--sl-input-required-content: "*";--sl-input-required-content-offset: -2px;--sl-input-required-content-color: var(--sl-input-label-color);--sl-input-border-radius-small: var(--sl-border-radius-medium);--sl-input-border-radius-medium: var(--sl-border-radius-medium);--sl-input-border-radius-large: var(--sl-border-radius-medium);--sl-input-font-family: var(--sl-font-sans);--sl-input-font-weight: var(--sl-font-weight-normal);--sl-input-font-size-small: var(--sl-font-size-small);--sl-input-font-size-medium: var(--sl-font-size-medium);--sl-input-font-size-large: var(--sl-font-size-large);--sl-input-letter-spacing: var(--sl-letter-spacing-normal);--sl-input-color: var(--sl-color-neutral-700);--sl-input-color-hover: var(--sl-color-neutral-700);--sl-input-color-focus: var(--sl-color-neutral-700);--sl-input-color-disabled: var(--sl-color-neutral-900);--sl-input-icon-color: var(--sl-color-neutral-500);--sl-input-icon-color-hover: var(--sl-color-neutral-600);--sl-input-icon-color-focus: var(--sl-color-neutral-600);--sl-input-placeholder-color: var(--sl-color-neutral-500);--sl-input-placeholder-color-disabled: var(--sl-color-neutral-600);--sl-input-spacing-small: var(--sl-spacing-small);--sl-input-spacing-medium: var(--sl-spacing-medium);--sl-input-spacing-large: var(--sl-spacing-large);--sl-input-focus-ring-color: hsl(198.6 88.7% 48.4% / 40%);--sl-input-focus-ring-offset: 0;--sl-input-filled-background-color: var(--sl-color-neutral-100);--sl-input-filled-background-color-hover: var(--sl-color-neutral-100);--sl-input-filled-background-color-focus: var(--sl-color-neutral-100);--sl-input-filled-background-color-disabled: var(--sl-color-neutral-100);--sl-input-filled-color: var(--sl-color-neutral-800);--sl-input-filled-color-hover: var(--sl-color-neutral-800);--sl-input-filled-color-focus: var(--sl-color-neutral-700);--sl-input-filled-color-disabled: var(--sl-color-neutral-800);--sl-input-label-font-size-small: var(--sl-font-size-small);--sl-input-label-font-size-medium: var(--sl-font-size-medium);--sl-input-label-font-size-large: var(--sl-font-size-large);--sl-input-label-color: inherit;--sl-input-help-text-font-size-small: var(--sl-font-size-x-small);--sl-input-help-text-font-size-medium: var(--sl-font-size-small);--sl-input-help-text-font-size-large: var(--sl-font-size-medium);--sl-input-help-text-color: var(--sl-color-neutral-500);--sl-toggle-size-small: .875rem;--sl-toggle-size-medium: 1.125rem;--sl-toggle-size-large: 1.375rem;--sl-overlay-background-color: hsl(240 3.8% 46.1% / 33%);--sl-panel-background-color: var(--sl-color-neutral-0);--sl-panel-border-color: var(--sl-color-neutral-200);--sl-panel-border-width: 1px;--sl-tooltip-border-radius: var(--sl-border-radius-medium);--sl-tooltip-background-color: var(--sl-color-neutral-800);--sl-tooltip-color: var(--sl-color-neutral-0);--sl-tooltip-font-family: var(--sl-font-sans);--sl-tooltip-font-weight: var(--sl-font-weight-normal);--sl-tooltip-font-size: var(--sl-font-size-small);--sl-tooltip-line-height: var(--sl-line-height-dense);--sl-tooltip-padding: var(--sl-spacing-2x-small) var(--sl-spacing-x-small);--sl-tooltip-arrow-size: 6px;--sl-z-index-drawer: 700;--sl-z-index-dialog: 800;--sl-z-index-dropdown: 900;--sl-z-index-toast: 950;--sl-z-index-tooltip: 1000}@supports (scrollbar-gutter: stable){.sl-scroll-lock{scrollbar-gutter:stable!important;overflow:hidden!important}}@supports not (scrollbar-gutter: stable){.sl-scroll-lock{padding-right:var(--sl-scroll-lock-size)!important;overflow:hidden!important}}.sl-toast-stack{position:fixed;top:0;inset-inline-end:0;z-index:var(--sl-z-index-toast);width:28rem;max-width:100%;max-height:100%;overflow:auto}.sl-toast-stack sl-alert{margin:var(--sl-spacing-medium)}.sl-toast-stack sl-alert::part(base){box-shadow:var(--sl-shadow-large)}*{box-sizing:border-box}:host{display:flex;align-content:center;justify-content:center;position:relative;background-color:inherit}.content{width:100%;height:100%;margin:auto}#map{width:100%;height:100%}#caption{font-family:sans-serif;width:100%;white-space:nowrap;background-color:#555;color:#fff;padding:4px 6px;bottom:0;height:32px;text-overflow:ellipsis;overflow:hidden}#lat-lng-zoom{position:absolute;font-family:sans-serif;bottom:24px;right:0;width:150px;height:32px;padding:3px 6px;font-size:.8rem;background-color:#ffffff80;color:#000;z-index:2;opacity:0;text-align:right}#lat-lng-zoom:hover{visibility:visible;opacity:1;transition:all .3s ease-in;cursor:copy;z-index:1000}.card{display:grid;grid-template-columns:1fr;grid-template-rows:auto auto auto 1fr 0px;border-radius:4px;padding:0}.card p{border:none}.card-image{grid-area:1 / 1 / 2 / 2;width:100%;height:190px}.card-title{grid-area:2 / 1 / 3 / 2;font-weight:700;font-size:1.5rem;line-height:1;padding:1.3rem .5rem .2rem;text-decoration:none}.card-metadata{grid-area:3 / 1 / 4 / 2;list-style:none;padding:.2rem .5rem;margin:0;font-size:.9rem;font-weight:400}.card-abstract{grid-area:4 / 1 / 5 / 2;align-self:flex-end;height:110px;line-height:1.4;font-size:1rem;padding:.5rem .5rem 0;overflow:hidden;display:-webkit-box;-webkit-line-clamp:5;-webkit-box-orient:vertical;margin:0 0 .5rem}.leaflet-popup-content{width:280px;margin:0}.leaflet-control-layers-toggle{background-image:url(https://unpkg.com/leaflet@1.9.3/dist/images/layers.png)}.leaflet-retina .leaflet-control-layers-toggle{background-image:url(https://unpkg.com/leaflet@1.9.3/dist/images/layers-2x.png)}sl-dialog::part(panel){max-width:unset;max-height:unset;height:100dvh}sl-dialog::part(overlay){--sl-overlay-background-color: rgba(100, 100, 100, .8)}sl-dialog::part(footer){background-color:#64646480}.leaflet-top,.leaflet-bottom{z-index:unset}.dialog .footer{display:flex;align-items:center;gap:.5em;padding:.5em;text-align:left}.push{margin-left:auto}
`,GH=rs(HH,[["styles",[UH]]]),qH=Vt("sl-button",{slot:"trigger"},[Vt("svg",{xmlns:"http://www.w3.org/2000/svg",slot:"prefix",width:"16",height:"16",fill:"currentColor",class:"bi bi-list",viewBox:"0 0 16 16"},[Vt("path",{"fill-rule":"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"})])],-1),VH=["onClick"],WH=["innerHTML"],ZH=["innerHTML"],YH={key:1,slot:"prefix",style:{width:"1em","margin-right":"1em"}},XH=Vt("span",null,"Download as PDF",-1),KH=Vt("img",{slot:"prefix",width:"16",src:"https://upload.wikimedia.org/wikipedia/commons/2/2a/Noun_Project_PDF_icon_117327_cc.svg",alt:"PDF Download Icon"},null,-1),JH=[XH,KH],QH={class:"font-medium"},$H=Vt("span",{class:"font-medium"}," Logout",-1),tU=["innerHTML"],eU={class:"font-medium"},rU=["innerHTML"],iU={class:"hs-overlay-open:mt-7 hs-overlay-open:opacity-100 hs-overlay-open:duration-500 mt-0 opacity-0 ease-out transition-all sm:max-w-lg sm:w-full m-3 sm:mx-auto min-h-[calc(100%-3.5rem)] flex items-center"},nU={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},oU={class:"p-4 overflow-y-auto flex items-center gap-4 text-black"},sU=Vt("sl-spinner",{style:{"font-size":"3rem","--indicator-color":"deeppink","--track-color":"pink"}},null,-1),aU=["innerHTML"],lU=vo({__name:"Menu.ce",props:{auth:{type:String},contact:{type:String},pdfDownloadEnabled:{type:Boolean,default:!1}},setup(n){const r=n,t=he(null),o=De(()=>{var Xt,Ct;return(Ct=(Xt=t.value)==null?void 0:Xt.getRootNode())==null?void 0:Ct.host});qe(o,()=>{C()});const l=he(null),u=De(()=>l==null?void 0:l.value),d=De(()=>new Mx(u.value)),f=he(null),m=De(()=>f==null?void 0:f.value),v=he("Generating PDF...");qe(m,Xt=>{d.value.init(),Xt.addEventListener("open.hs.overlay",Ct=>_.value=!0),Xt.addEventListener("close.hs.overlay",Ct=>_.value=!1)});const _=he(!1);qe(_,Xt=>{Xt?d.value.open(m.value):d.value.close(m.value)}),ts(async()=>{r.auth==="github"&&nt()});const k=he([]);function C(){function Xt(){let Ct=Array.from(o.value.querySelectorAll("li")).map(Kt=>{var At,qt;const Zt=Kt.querySelector("a");let Pe=Zt.innerText.trim(),bt=(At=Kt.querySelector("svg"))==null?void 0:At.outerHTML;if(!bt){let ee=((qt=Zt.href.split("/").filter(pe=>pe).pop())==null?void 0:qt.toLowerCase())||"";ee=location.host===ee?"home":ee,H[ee]&&(bt=H[ee])}return{label:Pe,icon:bt,href:Zt.href}});r.contact&&Ct.push({label:"Contact Us",icon:H.contact,href:"/contact"}),k.value=Ct}Xt(),new MutationObserver(Ct=>{for(let Kt of Ct)Kt.type==="childList"&&Xt()}).observe(o.value,{childList:!0,subtree:!0})}function M(Xt,Ct){var Zt;let Kt=Xt.href.split("/").filter(Pe=>Pe).pop().toLowerCase();if(Kt=location.host===Kt?"home":Kt,Kt==="contact")I();else{let Pe=new URL(Xt.href);if(Pe.origin===location.origin){let At=`${((Zt=(U==null?void 0:U.config)||{})==null?void 0:Zt.baseurl)||""}${Pe.pathname}`;location.pathname=At}else location.href=Xt.href}}function I(){const Xt=r.contact,Ct=`${U.config.title} Contact`,Zt=`mailto:${Xt}?subject=${Ct}&body=`;U.open(Zt,"_blank")}async function F(){console.log(`Generating PDF for ${location.href}`),v.value="Generating PDF...",_.value=!_.value;let Xt=await fetch(`https://ezsitepdf-drnxe7pzjq-uc.a.run.app/pdf?url=${location.href}`);if(Xt.ok){v.value="Downloading PDF...";let Ct=await Xt.blob();const Kt=document.createElement("a");Kt.setAttribute("download","resume.pdf");const Zt=URL.createObjectURL(Ct);Kt.href=Zt,Kt.setAttribute("target","_blank"),Kt.click(),Kt.addEventListener,URL.revokeObjectURL(Zt)}setTimeout(()=>_.value=!1,2e3)}const H={about:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"/></svg>',contact:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"/></svg>',home:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 576 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"/></svg>',login:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M304 128a80 80 0 1 0 -160 0 80 80 0 1 0 160 0zM96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM49.3 464H398.7c-8.9-63.3-63.3-112-129-112H178.3c-65.7 0-120.1 48.7-129 112zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3z"/></svg>',user:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"/></svg>'},U=self.window,J=he(U.config||{}),G=he(null),Z=he(!1);qe(G,()=>{G.value?localStorage.setItem("auth-user",JSON.stringify(G.value)):localStorage.getItem("auth-user")&&localStorage.removeItem("auth-user")});const at=De(()=>{var Xt,Ct;return((Xt=G.value)==null?void 0:Xt.token)||((Ct=G.value)==null?void 0:Ct.token)||!1});qe(at,()=>{at.value||(Z.value=!1)});function mt(Xt){return Xt[0].toUpperCase()+Xt.slice(1).toLowerCase()}function ft(Xt){Xt.preventDefault(),ut()}function ot(Xt){Xt.preventDefault(),G.value=null,gt()}const V={"iiif.mdpress.io":"9baccef56771878fd304","www.mdpress.io":"226eaf757c87b5be8379"};async function nt(){var Kt,Zt;let Xt=localStorage.getItem("auth-user")&&JSON.parse(localStorage.getItem("auth-user")||"{}");(Xt==null?void 0:Xt.provider)==="github"?G.value=Xt:G.value=null;let Ct=new URL(U.location.href).searchParams.get("code");if(Ct){let Pe=`${location.pathname}${location.hash}`;U.history.replaceState({},"",Pe);let bt=`https://iiif.mdpress.io/gh-token?code=${Ct}&hostname=${U.location.hostname}`,At=await fetch(bt);if(At.ok){let qt=await At.text(),ee=await Jt(qt);G.value=ee}}G.value&&(Z.value=await re((Kt=J.value)==null?void 0:Kt.github.owner_name,(Zt=J.value)==null?void 0:Zt.github.repository_name,G.value.username,G.value.token))}async function ut(){var Kt,Zt;let Xt=new URL(U.location.href).hostname;if(Xt==="localhost"||Xt.indexOf("192.168.")===0){let Pe=await fetch("http://localhost:8088/gh-token?hostname=localhost&code=testing");if(Pe.ok){let bt=await Pe.text(),At=await Jt(bt);G.value=At,Z.value=await re((Kt=J.value)==null?void 0:Kt.github.owner_name,(Zt=J.value)==null?void 0:Zt.github.repository_name,G.value.username,bt),location.reload()}}else{let Pe=`${U.location.href}`,bt=V[location.hostname]!==void 0?`https://github.com/login/oauth/authorize?client_id=${V[location.hostname]}&scope=repo&state=mdpress&redirect_uri=${Pe}`:null;bt&&(U.location.href=bt)}}function gt(){Object.keys(localStorage).forEach(Xt=>localStorage.removeItem(Xt)),G.value=null,location.reload()}async function Jt(Xt){let Ct=await fetch("https://api.github.com/user",{headers:{Accept:"application/vnd.github+json",Authorization:`token ${Xt}`}});if(Ct.ok){let Kt=await Ct.json();return{provider:"github",username:Kt.login,name:Kt.name,email:Kt.email,token:Xt}}}async function re(Xt,Ct,Kt,Zt){let Pe=`https://api.github.com/repos/${Xt}/${Ct}/collaborators/${Kt}`,bt=await fetch(Pe,{headers:{Accept:"application/vnd.github+json",Authorization:`token ${Zt}`}});return bt.ok&&bt.status===204}return(Xt,Ct)=>{var Kt,Zt;return ge(),me(Fi,null,[Vt("sl-dropdown",{ref_key:"root",ref:t},[qH,Vt("sl-menu",null,[(ge(!0),me(Fi,null,nu(k.value,Pe=>(ge(),me("sl-menu-item",{onClick:bt=>M(Pe)},[Vt("span",{innerHTML:Pe.label},null,8,WH),Pe.icon?(ge(),me("svg",{key:0,slot:"prefix",innerHTML:Pe.icon},null,8,ZH)):(ge(),me("span",YH))],8,VH))),256)),n.pdfDownloadEnabled?(ge(),me("sl-menu-item",{key:0,onClick:F},JH)):ur("",!0),r.auth&&at.value?(ge(),me("sl-menu-item",{key:1,onClick:ot},[Vt("span",QH,"("+lu(((Kt=G.value)==null?void 0:Kt.name)||((Zt=G.value)==null?void 0:Zt.email))+")",1),$H,(ge(),me("svg",{slot:"prefix",innerHTML:H.user},null,8,tU))])):ur("",!0),r.auth&&!at.value?(ge(),me("sl-menu-item",{key:2,onClick:ft},[Vt("span",eU,"Login with "+lu(mt(r.auth)),1),(ge(),me("svg",{slot:"prefix",innerHTML:H.login},null,8,rU))])):ur("",!0)])],512),Vt("div",{ref_key:"overlayRef",ref:l},[Vt("div",{ref_key:"modalRef",ref:f,id:"hs-basic-modal",class:"hs-overlay hidden w-full h-full fixed top-0 start-0 z-[80] overflow-x-hidden overflow-y-auto pointer-events-none"},[Vt("div",iU,[Vt("div",nU,[Vt("div",oU,[sU,Vt("p",{innerHTML:v.value},null,8,aU)])])])],512)],512)],64)}}}),cU=`:root,:host,.sl-theme-light{color-scheme:light;--sl-color-gray-50: hsl(0 0% 97.5%);--sl-color-gray-100: hsl(240 4.8% 95.9%);--sl-color-gray-200: hsl(240 5.9% 90%);--sl-color-gray-300: hsl(240 4.9% 83.9%);--sl-color-gray-400: hsl(240 5% 64.9%);--sl-color-gray-500: hsl(240 3.8% 46.1%);--sl-color-gray-600: hsl(240 5.2% 33.9%);--sl-color-gray-700: hsl(240 5.3% 26.1%);--sl-color-gray-800: hsl(240 3.7% 15.9%);--sl-color-gray-900: hsl(240 5.9% 10%);--sl-color-gray-950: hsl(240 7.3% 8%);--sl-color-red-50: hsl(0 85.7% 97.3%);--sl-color-red-100: hsl(0 93.3% 94.1%);--sl-color-red-200: hsl(0 96.3% 89.4%);--sl-color-red-300: hsl(0 93.5% 81.8%);--sl-color-red-400: hsl(0 90.6% 70.8%);--sl-color-red-500: hsl(0 84.2% 60.2%);--sl-color-red-600: hsl(0 72.2% 50.6%);--sl-color-red-700: hsl(0 73.7% 41.8%);--sl-color-red-800: hsl(0 70% 35.3%);--sl-color-red-900: hsl(0 62.8% 30.6%);--sl-color-red-950: hsl(0 60% 19.6%);--sl-color-orange-50: hsl(33.3 100% 96.5%);--sl-color-orange-100: hsl(34.3 100% 91.8%);--sl-color-orange-200: hsl(32.1 97.7% 83.1%);--sl-color-orange-300: hsl(30.7 97.2% 72.4%);--sl-color-orange-400: hsl(27 96% 61%);--sl-color-orange-500: hsl(24.6 95% 53.1%);--sl-color-orange-600: hsl(20.5 90.2% 48.2%);--sl-color-orange-700: hsl(17.5 88.3% 40.4%);--sl-color-orange-800: hsl(15 79.1% 33.7%);--sl-color-orange-900: hsl(15.3 74.6% 27.8%);--sl-color-orange-950: hsl(15.2 69.1% 19%);--sl-color-amber-50: hsl(48 100% 96.1%);--sl-color-amber-100: hsl(48 96.5% 88.8%);--sl-color-amber-200: hsl(48 96.6% 76.7%);--sl-color-amber-300: hsl(45.9 96.7% 64.5%);--sl-color-amber-400: hsl(43.3 96.4% 56.3%);--sl-color-amber-500: hsl(37.7 92.1% 50.2%);--sl-color-amber-600: hsl(32.1 94.6% 43.7%);--sl-color-amber-700: hsl(26 90.5% 37.1%);--sl-color-amber-800: hsl(22.7 82.5% 31.4%);--sl-color-amber-900: hsl(21.7 77.8% 26.5%);--sl-color-amber-950: hsl(22.9 74.1% 16.7%);--sl-color-yellow-50: hsl(54.5 91.7% 95.3%);--sl-color-yellow-100: hsl(54.9 96.7% 88%);--sl-color-yellow-200: hsl(52.8 98.3% 76.9%);--sl-color-yellow-300: hsl(50.4 97.8% 63.5%);--sl-color-yellow-400: hsl(47.9 95.8% 53.1%);--sl-color-yellow-500: hsl(45.4 93.4% 47.5%);--sl-color-yellow-600: hsl(40.6 96.1% 40.4%);--sl-color-yellow-700: hsl(35.5 91.7% 32.9%);--sl-color-yellow-800: hsl(31.8 81% 28.8%);--sl-color-yellow-900: hsl(28.4 72.5% 25.7%);--sl-color-yellow-950: hsl(33.1 69% 13.9%);--sl-color-lime-50: hsl(78.3 92% 95.1%);--sl-color-lime-100: hsl(79.6 89.1% 89.2%);--sl-color-lime-200: hsl(80.9 88.5% 79.6%);--sl-color-lime-300: hsl(82 84.5% 67.1%);--sl-color-lime-400: hsl(82.7 78% 55.5%);--sl-color-lime-500: hsl(83.7 80.5% 44.3%);--sl-color-lime-600: hsl(84.8 85.2% 34.5%);--sl-color-lime-700: hsl(85.9 78.4% 27.3%);--sl-color-lime-800: hsl(86.3 69% 22.7%);--sl-color-lime-900: hsl(87.6 61.2% 20.2%);--sl-color-lime-950: hsl(86.5 60.6% 13.9%);--sl-color-green-50: hsl(138.5 76.5% 96.7%);--sl-color-green-100: hsl(140.6 84.2% 92.5%);--sl-color-green-200: hsl(141 78.9% 85.1%);--sl-color-green-300: hsl(141.7 76.6% 73.1%);--sl-color-green-400: hsl(141.9 69.2% 58%);--sl-color-green-500: hsl(142.1 70.6% 45.3%);--sl-color-green-600: hsl(142.1 76.2% 36.3%);--sl-color-green-700: hsl(142.4 71.8% 29.2%);--sl-color-green-800: hsl(142.8 64.2% 24.1%);--sl-color-green-900: hsl(143.8 61.2% 20.2%);--sl-color-green-950: hsl(144.3 60.7% 12%);--sl-color-emerald-50: hsl(151.8 81% 95.9%);--sl-color-emerald-100: hsl(149.3 80.4% 90%);--sl-color-emerald-200: hsl(152.4 76% 80.4%);--sl-color-emerald-300: hsl(156.2 71.6% 66.9%);--sl-color-emerald-400: hsl(158.1 64.4% 51.6%);--sl-color-emerald-500: hsl(160.1 84.1% 39.4%);--sl-color-emerald-600: hsl(161.4 93.5% 30.4%);--sl-color-emerald-700: hsl(162.9 93.5% 24.3%);--sl-color-emerald-800: hsl(163.1 88.1% 19.8%);--sl-color-emerald-900: hsl(164.2 85.7% 16.5%);--sl-color-emerald-950: hsl(164.3 87.5% 9.4%);--sl-color-teal-50: hsl(166.2 76.5% 96.7%);--sl-color-teal-100: hsl(167.2 85.5% 89.2%);--sl-color-teal-200: hsl(168.4 83.8% 78.2%);--sl-color-teal-300: hsl(170.6 76.9% 64.3%);--sl-color-teal-400: hsl(172.5 66% 50.4%);--sl-color-teal-500: hsl(173.4 80.4% 40%);--sl-color-teal-600: hsl(174.7 83.9% 31.6%);--sl-color-teal-700: hsl(175.3 77.4% 26.1%);--sl-color-teal-800: hsl(176.1 69.4% 21.8%);--sl-color-teal-900: hsl(175.9 60.8% 19%);--sl-color-teal-950: hsl(176.5 58.6% 11.4%);--sl-color-cyan-50: hsl(183.2 100% 96.3%);--sl-color-cyan-100: hsl(185.1 95.9% 90.4%);--sl-color-cyan-200: hsl(186.2 93.5% 81.8%);--sl-color-cyan-300: hsl(187 92.4% 69%);--sl-color-cyan-400: hsl(187.9 85.7% 53.3%);--sl-color-cyan-500: hsl(188.7 94.5% 42.7%);--sl-color-cyan-600: hsl(191.6 91.4% 36.5%);--sl-color-cyan-700: hsl(192.9 82.3% 31%);--sl-color-cyan-800: hsl(194.4 69.6% 27.1%);--sl-color-cyan-900: hsl(196.4 63.6% 23.7%);--sl-color-cyan-950: hsl(196.8 61% 16.1%);--sl-color-sky-50: hsl(204 100% 97.1%);--sl-color-sky-100: hsl(204 93.8% 93.7%);--sl-color-sky-200: hsl(200.6 94.4% 86.1%);--sl-color-sky-300: hsl(199.4 95.5% 73.9%);--sl-color-sky-400: hsl(198.4 93.2% 59.6%);--sl-color-sky-500: hsl(198.6 88.7% 48.4%);--sl-color-sky-600: hsl(200.4 98% 39.4%);--sl-color-sky-700: hsl(201.3 96.3% 32.2%);--sl-color-sky-800: hsl(201 90% 27.5%);--sl-color-sky-900: hsl(202 80.3% 23.9%);--sl-color-sky-950: hsl(202.3 73.8% 16.5%);--sl-color-blue-50: hsl(213.8 100% 96.9%);--sl-color-blue-100: hsl(214.3 94.6% 92.7%);--sl-color-blue-200: hsl(213.3 96.9% 87.3%);--sl-color-blue-300: hsl(211.7 96.4% 78.4%);--sl-color-blue-400: hsl(213.1 93.9% 67.8%);--sl-color-blue-500: hsl(217.2 91.2% 59.8%);--sl-color-blue-600: hsl(221.2 83.2% 53.3%);--sl-color-blue-700: hsl(224.3 76.3% 48%);--sl-color-blue-800: hsl(225.9 70.7% 40.2%);--sl-color-blue-900: hsl(224.4 64.3% 32.9%);--sl-color-blue-950: hsl(226.2 55.3% 18.4%);--sl-color-indigo-50: hsl(225.9 100% 96.7%);--sl-color-indigo-100: hsl(226.5 100% 93.9%);--sl-color-indigo-200: hsl(228 96.5% 88.8%);--sl-color-indigo-300: hsl(229.7 93.5% 81.8%);--sl-color-indigo-400: hsl(234.5 89.5% 73.9%);--sl-color-indigo-500: hsl(238.7 83.5% 66.7%);--sl-color-indigo-600: hsl(243.4 75.4% 58.6%);--sl-color-indigo-700: hsl(244.5 57.9% 50.6%);--sl-color-indigo-800: hsl(243.7 54.5% 41.4%);--sl-color-indigo-900: hsl(242.2 47.4% 34.3%);--sl-color-indigo-950: hsl(243.5 43.6% 22.9%);--sl-color-violet-50: hsl(250 100% 97.6%);--sl-color-violet-100: hsl(251.4 91.3% 95.5%);--sl-color-violet-200: hsl(250.5 95.2% 91.8%);--sl-color-violet-300: hsl(252.5 94.7% 85.1%);--sl-color-violet-400: hsl(255.1 91.7% 76.3%);--sl-color-violet-500: hsl(258.3 89.5% 66.3%);--sl-color-violet-600: hsl(262.1 83.3% 57.8%);--sl-color-violet-700: hsl(263.4 70% 50.4%);--sl-color-violet-800: hsl(263.4 69.3% 42.2%);--sl-color-violet-900: hsl(263.5 67.4% 34.9%);--sl-color-violet-950: hsl(265.1 61.5% 21.4%);--sl-color-purple-50: hsl(270 100% 98%);--sl-color-purple-100: hsl(268.7 100% 95.5%);--sl-color-purple-200: hsl(268.6 100% 91.8%);--sl-color-purple-300: hsl(269.2 97.4% 85.1%);--sl-color-purple-400: hsl(270 95.2% 75.3%);--sl-color-purple-500: hsl(270.7 91% 65.1%);--sl-color-purple-600: hsl(271.5 81.3% 55.9%);--sl-color-purple-700: hsl(272.1 71.7% 47.1%);--sl-color-purple-800: hsl(272.9 67.2% 39.4%);--sl-color-purple-900: hsl(273.6 65.6% 32%);--sl-color-purple-950: hsl(276 59.5% 16.5%);--sl-color-fuchsia-50: hsl(289.1 100% 97.8%);--sl-color-fuchsia-100: hsl(287 100% 95.5%);--sl-color-fuchsia-200: hsl(288.3 95.8% 90.6%);--sl-color-fuchsia-300: hsl(291.1 93.1% 82.9%);--sl-color-fuchsia-400: hsl(292 91.4% 72.5%);--sl-color-fuchsia-500: hsl(292.2 84.1% 60.6%);--sl-color-fuchsia-600: hsl(293.4 69.5% 48.8%);--sl-color-fuchsia-700: hsl(294.7 72.4% 39.8%);--sl-color-fuchsia-800: hsl(295.4 70.2% 32.9%);--sl-color-fuchsia-900: hsl(296.7 63.6% 28%);--sl-color-fuchsia-950: hsl(297.1 56.8% 14.5%);--sl-color-pink-50: hsl(327.3 73.3% 97.1%);--sl-color-pink-100: hsl(325.7 77.8% 94.7%);--sl-color-pink-200: hsl(325.9 84.6% 89.8%);--sl-color-pink-300: hsl(327.4 87.1% 81.8%);--sl-color-pink-400: hsl(328.6 85.5% 70.2%);--sl-color-pink-500: hsl(330.4 81.2% 60.4%);--sl-color-pink-600: hsl(333.3 71.4% 50.6%);--sl-color-pink-700: hsl(335.1 77.6% 42%);--sl-color-pink-800: hsl(335.8 74.4% 35.3%);--sl-color-pink-900: hsl(335.9 69% 30.4%);--sl-color-pink-950: hsl(336.2 65.4% 15.9%);--sl-color-rose-50: hsl(355.7 100% 97.3%);--sl-color-rose-100: hsl(355.6 100% 94.7%);--sl-color-rose-200: hsl(352.7 96.1% 90%);--sl-color-rose-300: hsl(352.6 95.7% 81.8%);--sl-color-rose-400: hsl(351.3 94.5% 71.4%);--sl-color-rose-500: hsl(349.7 89.2% 60.2%);--sl-color-rose-600: hsl(346.8 77.2% 49.8%);--sl-color-rose-700: hsl(345.3 82.7% 40.8%);--sl-color-rose-800: hsl(343.4 79.7% 34.7%);--sl-color-rose-900: hsl(341.5 75.5% 30.4%);--sl-color-rose-950: hsl(341.3 70.1% 17.1%);--sl-color-primary-50: var(--sl-color-sky-50);--sl-color-primary-100: var(--sl-color-sky-100);--sl-color-primary-200: var(--sl-color-sky-200);--sl-color-primary-300: var(--sl-color-sky-300);--sl-color-primary-400: var(--sl-color-sky-400);--sl-color-primary-500: var(--sl-color-sky-500);--sl-color-primary-600: var(--sl-color-sky-600);--sl-color-primary-700: var(--sl-color-sky-700);--sl-color-primary-800: var(--sl-color-sky-800);--sl-color-primary-900: var(--sl-color-sky-900);--sl-color-primary-950: var(--sl-color-sky-950);--sl-color-success-50: var(--sl-color-green-50);--sl-color-success-100: var(--sl-color-green-100);--sl-color-success-200: var(--sl-color-green-200);--sl-color-success-300: var(--sl-color-green-300);--sl-color-success-400: var(--sl-color-green-400);--sl-color-success-500: var(--sl-color-green-500);--sl-color-success-600: var(--sl-color-green-600);--sl-color-success-700: var(--sl-color-green-700);--sl-color-success-800: var(--sl-color-green-800);--sl-color-success-900: var(--sl-color-green-900);--sl-color-success-950: var(--sl-color-green-950);--sl-color-warning-50: var(--sl-color-amber-50);--sl-color-warning-100: var(--sl-color-amber-100);--sl-color-warning-200: var(--sl-color-amber-200);--sl-color-warning-300: var(--sl-color-amber-300);--sl-color-warning-400: var(--sl-color-amber-400);--sl-color-warning-500: var(--sl-color-amber-500);--sl-color-warning-600: var(--sl-color-amber-600);--sl-color-warning-700: var(--sl-color-amber-700);--sl-color-warning-800: var(--sl-color-amber-800);--sl-color-warning-900: var(--sl-color-amber-900);--sl-color-warning-950: var(--sl-color-amber-950);--sl-color-danger-50: var(--sl-color-red-50);--sl-color-danger-100: var(--sl-color-red-100);--sl-color-danger-200: var(--sl-color-red-200);--sl-color-danger-300: var(--sl-color-red-300);--sl-color-danger-400: var(--sl-color-red-400);--sl-color-danger-500: var(--sl-color-red-500);--sl-color-danger-600: var(--sl-color-red-600);--sl-color-danger-700: var(--sl-color-red-700);--sl-color-danger-800: var(--sl-color-red-800);--sl-color-danger-900: var(--sl-color-red-900);--sl-color-danger-950: var(--sl-color-red-950);--sl-color-neutral-50: var(--sl-color-gray-50);--sl-color-neutral-100: var(--sl-color-gray-100);--sl-color-neutral-200: var(--sl-color-gray-200);--sl-color-neutral-300: var(--sl-color-gray-300);--sl-color-neutral-400: var(--sl-color-gray-400);--sl-color-neutral-500: var(--sl-color-gray-500);--sl-color-neutral-600: var(--sl-color-gray-600);--sl-color-neutral-700: var(--sl-color-gray-700);--sl-color-neutral-800: var(--sl-color-gray-800);--sl-color-neutral-900: var(--sl-color-gray-900);--sl-color-neutral-950: var(--sl-color-gray-950);--sl-color-neutral-0: hsl(0, 0%, 100%);--sl-color-neutral-1000: hsl(0, 0%, 0%);--sl-border-radius-small: .1875rem;--sl-border-radius-medium: .25rem;--sl-border-radius-large: .5rem;--sl-border-radius-x-large: 1rem;--sl-border-radius-circle: 50%;--sl-border-radius-pill: 9999px;--sl-shadow-x-small: 0 1px 2px hsl(240 3.8% 46.1% / 6%);--sl-shadow-small: 0 1px 2px hsl(240 3.8% 46.1% / 12%);--sl-shadow-medium: 0 2px 4px hsl(240 3.8% 46.1% / 12%);--sl-shadow-large: 0 2px 8px hsl(240 3.8% 46.1% / 12%);--sl-shadow-x-large: 0 4px 16px hsl(240 3.8% 46.1% / 12%);--sl-spacing-3x-small: .125rem;--sl-spacing-2x-small: .25rem;--sl-spacing-x-small: .5rem;--sl-spacing-small: .75rem;--sl-spacing-medium: 1rem;--sl-spacing-large: 1.25rem;--sl-spacing-x-large: 1.75rem;--sl-spacing-2x-large: 2.25rem;--sl-spacing-3x-large: 3rem;--sl-spacing-4x-large: 4.5rem;--sl-transition-x-slow: 1s;--sl-transition-slow: .5s;--sl-transition-medium: .25s;--sl-transition-fast: .15s;--sl-transition-x-fast: 50ms;--sl-font-mono: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;--sl-font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--sl-font-serif: Georgia, "Times New Roman", serif;--sl-font-size-2x-small: .625rem;--sl-font-size-x-small: .75rem;--sl-font-size-small: .875rem;--sl-font-size-medium: 1rem;--sl-font-size-large: 1.25rem;--sl-font-size-x-large: 1.5rem;--sl-font-size-2x-large: 2.25rem;--sl-font-size-3x-large: 3rem;--sl-font-size-4x-large: 4.5rem;--sl-font-weight-light: 300;--sl-font-weight-normal: 400;--sl-font-weight-semibold: 500;--sl-font-weight-bold: 700;--sl-letter-spacing-denser: -.03em;--sl-letter-spacing-dense: -.015em;--sl-letter-spacing-normal: normal;--sl-letter-spacing-loose: .075em;--sl-letter-spacing-looser: .15em;--sl-line-height-denser: 1;--sl-line-height-dense: 1.4;--sl-line-height-normal: 1.8;--sl-line-height-loose: 2.2;--sl-line-height-looser: 2.6;--sl-focus-ring-color: var(--sl-color-primary-600);--sl-focus-ring-style: solid;--sl-focus-ring-width: 3px;--sl-focus-ring: var(--sl-focus-ring-style) var(--sl-focus-ring-width) var(--sl-focus-ring-color);--sl-focus-ring-offset: 1px;--sl-button-font-size-small: var(--sl-font-size-x-small);--sl-button-font-size-medium: var(--sl-font-size-small);--sl-button-font-size-large: var(--sl-font-size-medium);--sl-input-height-small: 1.875rem;--sl-input-height-medium: 2.5rem;--sl-input-height-large: 3.125rem;--sl-input-background-color: var(--sl-color-neutral-0);--sl-input-background-color-hover: var(--sl-input-background-color);--sl-input-background-color-focus: var(--sl-input-background-color);--sl-input-background-color-disabled: var(--sl-color-neutral-100);--sl-input-border-color: var(--sl-color-neutral-300);--sl-input-border-color-hover: var(--sl-color-neutral-400);--sl-input-border-color-focus: var(--sl-color-primary-500);--sl-input-border-color-disabled: var(--sl-color-neutral-300);--sl-input-border-width: 1px;--sl-input-required-content: "*";--sl-input-required-content-offset: -2px;--sl-input-required-content-color: var(--sl-input-label-color);--sl-input-border-radius-small: var(--sl-border-radius-medium);--sl-input-border-radius-medium: var(--sl-border-radius-medium);--sl-input-border-radius-large: var(--sl-border-radius-medium);--sl-input-font-family: var(--sl-font-sans);--sl-input-font-weight: var(--sl-font-weight-normal);--sl-input-font-size-small: var(--sl-font-size-small);--sl-input-font-size-medium: var(--sl-font-size-medium);--sl-input-font-size-large: var(--sl-font-size-large);--sl-input-letter-spacing: var(--sl-letter-spacing-normal);--sl-input-color: var(--sl-color-neutral-700);--sl-input-color-hover: var(--sl-color-neutral-700);--sl-input-color-focus: var(--sl-color-neutral-700);--sl-input-color-disabled: var(--sl-color-neutral-900);--sl-input-icon-color: var(--sl-color-neutral-500);--sl-input-icon-color-hover: var(--sl-color-neutral-600);--sl-input-icon-color-focus: var(--sl-color-neutral-600);--sl-input-placeholder-color: var(--sl-color-neutral-500);--sl-input-placeholder-color-disabled: var(--sl-color-neutral-600);--sl-input-spacing-small: var(--sl-spacing-small);--sl-input-spacing-medium: var(--sl-spacing-medium);--sl-input-spacing-large: var(--sl-spacing-large);--sl-input-focus-ring-color: hsl(198.6 88.7% 48.4% / 40%);--sl-input-focus-ring-offset: 0;--sl-input-filled-background-color: var(--sl-color-neutral-100);--sl-input-filled-background-color-hover: var(--sl-color-neutral-100);--sl-input-filled-background-color-focus: var(--sl-color-neutral-100);--sl-input-filled-background-color-disabled: var(--sl-color-neutral-100);--sl-input-filled-color: var(--sl-color-neutral-800);--sl-input-filled-color-hover: var(--sl-color-neutral-800);--sl-input-filled-color-focus: var(--sl-color-neutral-700);--sl-input-filled-color-disabled: var(--sl-color-neutral-800);--sl-input-label-font-size-small: var(--sl-font-size-small);--sl-input-label-font-size-medium: var(--sl-font-size-medium);--sl-input-label-font-size-large: var(--sl-font-size-large);--sl-input-label-color: inherit;--sl-input-help-text-font-size-small: var(--sl-font-size-x-small);--sl-input-help-text-font-size-medium: var(--sl-font-size-small);--sl-input-help-text-font-size-large: var(--sl-font-size-medium);--sl-input-help-text-color: var(--sl-color-neutral-500);--sl-toggle-size-small: .875rem;--sl-toggle-size-medium: 1.125rem;--sl-toggle-size-large: 1.375rem;--sl-overlay-background-color: hsl(240 3.8% 46.1% / 33%);--sl-panel-background-color: var(--sl-color-neutral-0);--sl-panel-border-color: var(--sl-color-neutral-200);--sl-panel-border-width: 1px;--sl-tooltip-border-radius: var(--sl-border-radius-medium);--sl-tooltip-background-color: var(--sl-color-neutral-800);--sl-tooltip-color: var(--sl-color-neutral-0);--sl-tooltip-font-family: var(--sl-font-sans);--sl-tooltip-font-weight: var(--sl-font-weight-normal);--sl-tooltip-font-size: var(--sl-font-size-small);--sl-tooltip-line-height: var(--sl-line-height-dense);--sl-tooltip-padding: var(--sl-spacing-2x-small) var(--sl-spacing-x-small);--sl-tooltip-arrow-size: 6px;--sl-z-index-drawer: 700;--sl-z-index-dialog: 800;--sl-z-index-dropdown: 900;--sl-z-index-toast: 950;--sl-z-index-tooltip: 1000}@supports (scrollbar-gutter: stable){.sl-scroll-lock{scrollbar-gutter:stable!important;overflow:hidden!important}}@supports not (scrollbar-gutter: stable){.sl-scroll-lock{padding-right:var(--sl-scroll-lock-size)!important;overflow:hidden!important}}.sl-toast-stack{position:fixed;top:0;inset-inline-end:0;z-index:var(--sl-z-index-toast);width:28rem;max-width:100%;max-height:100%;overflow:auto}.sl-toast-stack sl-alert{margin:var(--sl-spacing-medium)}.sl-toast-stack sl-alert::part(base){box-shadow:var(--sl-shadow-large)}*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-\\[100\\%\\]{height:100%}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}mdp-header ul,mdp-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}sl-menu-item svg{width:1em;height:1em;vertical-align:middle;margin-right:1em}
`,uU=rs(lU,[["styles",[cU]]]),hU=vo({__name:"Meta.ce",props:{title:{type:String},description:{type:String},author:{type:String},viewport:{type:String},robots:{type:String}},setup(n){return()=>{}}}),dU={class:"hs-overlay-open:mt-7 hs-overlay-open:opacity-100 hs-overlay-open:duration-500 mt-0 opacity-0 ease-out transition-all sm:max-w-lg sm:w-full m-3 sm:mx-auto min-h-[calc(100%-3.5rem)] flex items-center"},pU={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},fU={class:"p-4 overflow-y-auto"},gU={class:"mt-1 text-gray-800 dark:text-gray-400"},mU=vo({__name:"Modal.ce",props:{open:{type:Boolean,default:!1}},setup(n){const r=n,t=he(null),o=he(null),l=De(()=>{var v,_;return(_=(v=t.value)==null?void 0:v.getRootNode())==null?void 0:_.host}),u=De(()=>t==null?void 0:t.value),d=De(()=>o==null?void 0:o.value),f=De(()=>new Mx(u.value));qe(d,()=>{f.value.init(),d.value.addEventListener("open.hs.overlay",v=>m.value=!0),d.value.addEventListener("close.hs.overlay",v=>m.value=!1)});const m=he(!1);return qe(m,v=>{v?(f.value.open(d.value),l.value.setAttribute("open","")):(f.value.close(d.value),l.value.removeAttribute("open"))}),qe(r,()=>{m.value=r.open}),ts(()=>{m.value=r.open}),(v,_)=>(ge(),me("div",{ref_key:"overlayRef",ref:t},[Vt("div",{ref_key:"modalRef",ref:o,id:"hs-basic-modal",class:"hs-overlay hidden w-full h-full fixed top-0 start-0 z-[80] overflow-x-hidden overflow-y-auto pointer-events-none"},[Vt("div",dU,[Vt("div",pU,[Vt("div",fU,[Vt("p",gU,[A5(v.$slots,"default")])])])])],512)],512))}}),vU=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-\\[100\\%\\]{height:100%}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}mdp-header ul,mdp-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}
`,yU=rs(mU,[["styles",[vU]]]),bU=Vt("input",{class:"search-btn",type:"checkbox",id:"search-btn"},null,-1),wU={class:"wrapper"},xU={class:"search-form"},_U={class:"input-wrapper relative"},kU=Vt("path",{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"},null,-1),EU=[kU],TU={key:0,class:"search-results"},SU=["href"],CU=["innerHTML"],PU=["innerHTML"],MU={key:0},IU=Vt("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 512 512",fill:"#fff"},[Vt("path",{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"})],-1),LU=[IU],RU="https://www.googleapis.com/customsearch/v1",AU=vo({__name:"SiteSearch.ce",props:{searchDomain:{type:String},searchKey:{type:String},searchCx:{type:String}},setup(n){const r=n,t=he(H(r.searchDomain||"",r.searchKey||"")),o=he(null),l=De(()=>{var U;return(U=o==null?void 0:o.value)==null?void 0:U.parentNode}),u=he(),d=he(),f=he(""),m=he([]),v=he(0),_=he(!1);ts(()=>C());function k(U){console.log("open",U),U.preventDefault(),_.value=!0}function C(){var U,J;u.value=(U=l.value)==null?void 0:U.querySelector("#search-input"),u.value.value="",d.value=(J=l.value)==null?void 0:J.querySelector("#search-btn"),m.value=[]}qe(_,()=>{var U;d.value&&(d.value.checked=_.value),_&&((U=u.value)==null||U.focus())});function M(){var at;let U=(at=u.value)==null?void 0:at.value.replace(/ /,"%20"),J={q:U,start:U===f.value?m.value.length+1:1,key:t.value,cx:r.searchCx},G=Object.keys(J).map(mt=>`${mt}=${J[mt]}`).join("&"),Z=`${RU}?${G}`;fetch(Z).then(mt=>mt.json()).then(mt=>{v.value=parseInt(mt.searchInformation.totalResults);let ft=mt.items.map(ot=>{var nt;let V=new URL(ot.link);return ot.link=`${location.origin}${((nt=window.config)==null?void 0:nt.baseurl)||""}${V.pathname}`,ot});m.value=U!==f.value?ft:[...m.value,...ft],f.value=U||""})}function I(U){U.key==="Enter"&&M()}function F(U){U.preventDefault(),U.stopPropagation(),_.value=!1,u.value&&(u.value.value=""),f.value="",v.value=0,m.value=[]}function H(U,J){const G=ft=>ft.split("").map(ot=>ot.charCodeAt(0)),Z=ft=>G(U).reduce((ot,V)=>ot^V,ft);let at=J.match(/.{1,2}/g);return at?at.map(ft=>parseInt(ft,16)).map(Z).map(ft=>String.fromCharCode(ft)).join(""):""}return(U,J)=>(ge(),me("div",{ref_key:"root",ref:o,class:"search"},[bU,Vt("div",wU,[Vt("div",xU,[Vt("div",_U,[Vt("input",{type:"text",id:"search-input",class:"search-input",onKeyup:I,autocomplete:"off",role:"textbox",placeholder:"Search site"},null,32)]),(ge(),me("svg",{onClick:F,class:"absolute top-[12px] right-[10px] z-10 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 384 512",fill:"#000"},EU))]),m.value.length>0?(ge(),me("ul",TU,[(ge(!0),me(Fi,null,nu(m.value,(G,Z)=>(ge(),me("li",{key:`sr=${Z}`},[Vt("a",{href:G.link},[Vt("h3",{innerHTML:G.htmlTitle},null,8,CU),Vt("p",{innerHTML:G.htmlSnippet},null,8,PU)],8,SU)]))),128)),v.value>m.value.length?(ge(),me("li",MU,[Vt("div",{class:"more",onClick:M},"More")])):ur("",!0)])):ur("",!0)]),Vt("label",{class:"search-icon",htmlFor:"search-btn"},[Vt("span",{onClick:k},LU)])],512))}}),OU=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-\\[100\\%\\]{height:100%}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}mdp-header ul,mdp-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}*{box-sizing:border-box}.search-icon{color:#fff;font-size:28px}.search-icon:hover{cursor:pointer}.search{position:relative;display:flex;align-items:center;gap:10px}.search-btn,.search-form,.wrapper{display:none}.wrapper{flex-direction:column;position:absolute;right:-4px}.search-form{display:flex;align-items:center}.search-input{height:42px;width:250px;border-radius:6px;padding:3px 10px;font-size:1rem;color:#000}.search-submit{background-color:#fff;border-radius:6px;padding:8px 8px 4px;height:24px;z-index:4}.search-submit:hover{background-color:#ddd;cursor:pointer}.search-results{position:absolute;top:42px;left:0;width:326px;max-height:50vh;overflow-y:scroll;z-index:2;background-color:#fff;margin:0 0 0 2px;list-style:none;padding:6px;border-radius:6px;font-size:.9rem;box-shadow:0 6px 20px #00000030}.search-results li:nth-of-type(2n){background-color:#e6e6df}.search-results li{padding:6px;margin:3px;border:1px solid #E6E6DF}.search-results li h3,.search-results li p{margin:8px 0}.search-results li a{text-decoration:none;color:#444}.search-results li a h3{font-weight:700}.search-results li a p{font-weight:300}.search-results li:hover{cursor:pointer;box-shadow:0 4px 8px #0003}.search-btn:checked~.wrapper .search-form{display:flex;width:100%}.search-btn:checked~.wrapper{display:flex}.input-wrapper{display:inline-block;position:relative}
`,zU=rs(AU,[["styles",[OU]]]);cL(()=>import("./preline-7d6f83a6.js").then(n=>n.p),[]);function NU(){customElements.define("mdp-breadcrumbs",Mo(XO)),customElements.define("mdp-entity-infobox",Mo(mz)),customElements.define("mdp-footer",Mo(Hz)),customElements.define("mdp-gallery",Mo(K4)),customElements.define("mdp-header",Mo(hD)),customElements.define("mdp-image",Mo(wD)),customElements.define("mdp-caption",Mo(AD)),customElements.define("mdp-info-card",Mo(BD)),customElements.define("mdp-manifest",Mo(z6)),customElements.define("mdp-manifest-popup",Mo(q6)),customElements.define("mdp-map",Mo(GH)),customElements.define("mdp-menu",Mo(uU)),customElements.define("mdp-meta",Mo(hU)),customElements.define("mdp-modal",Mo(yU)),customElements.define("mdp-site-search",Mo(zU))}console.log("mdpress: version=0.1.0");NU();export{WC as g};
